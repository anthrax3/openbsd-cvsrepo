head	1.23;
access;
symbols
	OPENBSD_6_1:1.23.0.16
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.23.0.14
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.23.0.10
	OPENBSD_5_9_BASE:1.23
	OPENBSD_5_8:1.23.0.12
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.23.0.4
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.23.0.8
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.6
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.20.0.2
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.19.0.8
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.6
	OPENBSD_5_0:1.19.0.4
	OPENBSD_5_0_BASE:1.19
	OPENBSD_4_9:1.19.0.2
	OPENBSD_4_9_BASE:1.19
	OPENBSD_4_8:1.18.0.2
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.17.0.2
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.17.0.4
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.16.0.8
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.16.0.6
	OPENBSD_4_4_BASE:1.16
	OPENBSD_4_3:1.16.0.4
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.16.0.2
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.15.0.10
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.15.0.8
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.6
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.4
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.15.0.2
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.14.0.4
	OPENBSD_3_6_BASE:1.14
	OPENBSD_3_5:1.14.0.2
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.13.0.2
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.11.0.8
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.11.0.6
	OPENBSD_3_2_BASE:1.11
	OPENBSD_3_1:1.11.0.4
	OPENBSD_3_1_BASE:1.11
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9_BASE:1.10
	OPENBSD_2_9:1.10.0.2
	OPENBSD_2_8:1.9.0.4
	OPENBSD_2_8_BASE:1.9
	OPENBSD_2_7:1.9.0.2
	OPENBSD_2_7_BASE:1.9
	OPENBSD_2_6:1.7.0.2
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.5.0.4
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.5.0.2
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.4.0.4
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.2
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.23
date	2013.06.24.16.01.05;	author jmc;	state Exp;
branches;
next	1.22;

1.22
date	2013.06.21.06.49.42;	author jsg;	state Exp;
branches;
next	1.21;

1.21
date	2013.06.20.06.28.15;	author jsg;	state Exp;
branches;
next	1.20;

1.20
date	2013.01.17.21.29.14;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.19.16.54.15;	author jmc;	state Exp;
branches;
next	1.18;

1.18
date	2010.07.15.20.51.38;	author schwarze;	state Exp;
branches;
next	1.17;

1.17
date	2009.05.29.09.07.29;	author sobrado;	state Exp;
branches;
next	1.16;

1.16
date	2007.05.31.19.20.11;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2005.02.04.09.22.58;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2003.11.28.22.04.00;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2003.06.12.01.07.27;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	2003.06.10.09.12.10;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2001.05.01.17.58.03;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	2001.01.08.07.14.42;	author pjanzen;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.23.21.39.53;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	2000.03.08.03.11.27;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	99.07.04.11.53.55;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.06.05.01.21.27;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	98.09.26.19.54.53;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	97.06.23.22.03.36;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	97.06.09.15.47.08;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.34.28;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.45.24;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.45.24;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.23
log
@tweak previous;
@
text
@.\"	$OpenBSD: indent.1,v 1.22 2013/06/21 06:49:42 jsg Exp $
.\"
.\" Copyright (c) 1980, 1990, 1993
.\"	The Regents of the University of California.
.\" Copyright (c) 1985 Sun Microsystems, Inc.
.\" Copyright (c) 1976 Board of Trustees of the University of Illinois.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	from: @@(#)indent.1	8.1 (Berkeley) 7/1/93
.\"
.Dd $Mdocdate: June 21 2013 $
.Dt INDENT 1
.Os
.Sh NAME
.Nm indent
.Nd indent and format C program source
.Sh SYNOPSIS
.Nm indent
.Bk -words
.Op Ar input-file Op Ar output-file
.Op Fl bad | nbad
.Op Fl bap | nbap
.Op Fl bbb | nbbb
.Op Fl \&bc | nbc
.Op Fl \&bl | \&br
.Op Fl c Ns Ar n
.Op Fl \&cd Ns Ar n
.Op Fl cdb | ncdb
.Op Fl \&ce | nce
.Op Fl \&ci Ns Ar n
.Op Fl cli Ns Ar n
.Op Fl d Ns Ar n
.Op Fl \&di Ns Ar n
.Op Fl \&dj | ndj
.Op Fl \&ei | nei
.Op Fl fc1 | nfc1
.Op Fl i Ns Ar n
.Op Fl \&ip | nip
.Op Fl l Ns Ar n
.Op Fl \&lc Ns Ar n
.Op Fl \&lp | nlp
.Op Fl npro
.Op Fl pcs | npcs
.Op Fl psl | npsl
.Op Fl \&sc | nsc
.Op Fl sob | nsob
.Op Fl \&st
.Op Fl T Ns Ar typename
.Op Fl troff
.Op Fl ut | nut
.Op Fl v | \&nv
.Ek
.Sh DESCRIPTION
.Nm
is a
.Ar C
program formatter.
It reformats the
.Ar C
program in the
.Ar input-file
according to the switches.
The switches which can be specified are described below.
They may appear before or after the file names.
.Pp
.Sy NOTE :
If you only specify an
.Ar input-file ,
the formatting is
done
.Dq in-place ,
that is, the formatted file is written back into
.Ar input-file
and a backup copy of
.Ar input-file
is written in the current directory.
If
.Ar input-file
is named
.Pa /blah/blah/file ,
the backup file is named
.Pa file.BAK .
If
.Pa file.BAK
exists, it is overwritten.
.Pp
If
.Ar output-file
is specified,
.Nm
checks to make sure it is different from
.Ar input-file .
.Pp
If no
.Ar input-file
is specified
input is read from stdin and the formatted file is written to stdout.
.Pp
The options listed below control the formatting style imposed by
.Nm .
.Bl -tag -width Op
.It Fl bad , nbad
If
.Fl bad
is specified, a blank line is forced after every block of
declarations.
Default:
.Fl nbad .
.It Fl bap , nbap
If
.Fl bap
is specified, a blank line is forced after every procedure body.
Default:
.Fl nbap .
.Sy Note :
This option currently has no effect.
.It Fl bbb , nbbb
If
.Fl bbb
is specified, a blank line is forced before every block comment.
Default:
.Fl nbbb .
.It Fl \&bc , nbc
If
.Fl \&bc
is specified, then a newline is forced after each comma in a declaration.
.Fl nbc
turns off this option.
The default is
.Fl nbc .
.It Fl \&bl , \&br
Specifying
.Fl \&bl
lines up compound statements like this:
.Bd -literal -offset indent
if (...)
{
  code
}
.Ed
.Pp
Specifying
.Fl \&br
(the default) makes them look like this:
.Bd -literal -offset indent
if (...) {
  code
}
.Ed
.It Fl c Ns Ar n
The column in which comments on code start.
The default is 33.
.It Fl cd Ns Ar n
The column in which comments on declarations start.
The default
is for these comments to start in the same column as those on code.
.It Fl cdb , ncdb
Enables (disables) the placement of comment delimiters on blank lines.
With this option enabled, comments look like this:
.Bd -literal -offset indent
/*
 * this is a comment
 */
.Ed
.Pp
Rather than like this:
.Bd -literal -offset indent
/* this is a comment */
.Ed
.Pp
This only affects block comments, not comments to the right of
code.
The default is
.Fl cdb .
.It Fl ce , nce
Enables (disables) forcing
.Do Li else Dc Ns s
to cuddle up to the immediately preceding
.Ql } .
The default is
.Fl \&ce .
.It Fl \&ci Ns Ar n
Sets the continuation indent to be
.Ar n .
Continuation
lines will be indented that far from the beginning of the first line of the
statement.
Parenthesized expressions have extra indentation added to
indicate the nesting, unless
.Fl \&lp
is in effect.
.Fl \&ci
defaults to the same value as
.Fl i .
.It Fl cli Ns Ar n
Causes case labels to be indented
.Ar n
tab stops to the right of the containing
.Ic switch
statement.
.Fl cli0.5
causes case labels to be indented half a tab stop.
The default is
.Fl cli0 .
.It Fl d Ns Ar n
Controls the placement of comments which are not to the
right of code.
Specifying
.Fl d1
means that such comments are placed one indentation level to the
left of code.
The default,
.Fl d0 ,
lines up these comments with the code.
See the section on comment indentation below.
.It Fl \&di Ns Ar n
Specifies the indentation, in character positions, from a declaration keyword
to the following identifier.
The default is
.Fl di16 .
.It Fl dj , ndj
.Fl \&dj
left justifies declarations.
.Fl ndj
indents declarations the same as code.
The default is
.Fl ndj .
.It Fl \&ei , nei
Enables (disables) special
.Ic else-if
processing.
If it's enabled, an
.Ic if
following an
.Ic else
will have the same indentation as the preceding
.Ic \&if
statement.
The default is
.Fl ei .
.It Fl fc1 , nfc1
Enables (disables) the formatting of comments that start in column 1.
Often, comments whose leading
.Ql /
is in column 1 have been carefully formatted by the programmer.
In such cases,
.Fl nfc1
should be
used.
The default is
.Fl fc1 .
.It Fl i Ns Ar n
The number of spaces for one indentation level.
The default is 8.
.It Fl \&ip , nip
Enables (disables) the indentation of parameter declarations from the left
margin.
The default is
.Fl \&ip .
.Sy Note :
This option currently has no effect.
.It Fl l Ns Ar n
Maximum length of an output line.
The default is 75.
.Sy Note :
This option currently has no effect.
.It Fl \&lc Ns Ar n
Specify a column width for comments.
.It Fl \&lp , nlp
Lines up code surrounded by parentheses in continuation lines.
If a line has a left parenthesis which is not closed on that line,
then continuation lines will be lined up to start at the character position
just after the left parenthesis.
For example, here is how a piece of continued code looks with
.Fl nlp
in effect:
.Bd -literal -offset indent
p1 = first_procedure(second_procedure(p2, p3),
  third_procedure(p4,p5));
.Ed
.Pp
With
.Fl lp
in effect (the default) the code looks somewhat clearer:
.Bd -literal -offset indent
p1 = first_procedure(second_procedure(p2, p3),
                     third_procedure(p4,p5));
.Ed
.Pp
Inserting two more newlines we get:
.Bd -literal -offset indent
p1 = first_procedure(second_procedure(p2,
                                      p3),
                     third_procedure(p4,
                                     p5));
.Ed
.Pp
The default is
.Fl lp .
.It Fl npro
Causes the profile files,
.Pa ./.indent.pro
and
.Pa ~/.indent.pro ,
to be ignored.
.It Fl pcs , npcs
If true
.Pq Fl pcs
all procedure calls will have a space inserted between
the name and the
.Ql \&( .
The default is
.Fl npcs .
.It Fl psl , npsl
If true
.Pq Fl psl
the names of procedures being defined are placed in
column 1 \- their types, if any, will be left on the previous lines.
The default is
.Fl psl .
.It Fl \&sc , nsc
Enables (disables) the placement of asterisks
.Pq Ql *
at the left edge of all comments.
The default is
.Fl sc .
.It Fl sob , nsob
If
.Fl sob
is specified, indent will swallow optional blank lines.
You can use this to get rid of blank lines after declarations.
Default:
.Fl nsob .
.Sy Note :
This option currently has no effect.
.It Fl \&st
Causes
.Nm
to take its input from stdin, and put its output to stdout.
.It Fl T Ns Ar typename
Adds
.Ar typename
to the list of type keywords.
Names accumulate:
.Fl T
can be specified more than once.
You need to specify all the typenames that
appear in your program that are defined by
.Ic typedef
\- nothing will be
harmed if you miss a few, but the program won't be formatted as nicely as
it should.
This sounds like a painful thing to have to do, but it's really
a symptom of a problem in C:
.Ic typedef
causes a syntactic change in the
language and
.Nm
can't find all
instances of
.Ic typedef .
.It Fl troff
Causes
.Nm
to format the program for processing by troff,
producing a fancy listing.
If the output file is not specified, the default is standard output,
rather than formatting in place.
.It Fl ut , nut
Enables (disables) the use of tab characters in the output.
Tabs are assumed to be aligned on columns divisible by 8.
The default is
.Fl ut .
.It Fl v , \&nv
.Fl v
turns on
.Dq verbose
mode;
.Fl \&nv
turns it off.
When in verbose mode,
.Nm
reports when it splits one line of input into two or more lines of output,
and gives some size statistics at completion.
The default is
.Fl \&nv .
.El
.Pp
You may set up your own
.Dq profile
of defaults to
.Nm
by creating a file called
.Pa .indent.pro
in your login directory and/or the current directory and including
whatever switches you like.
An
.Pa .indent.pro
file in the current directory takes
precedence over the one in your login directory.
If
.Nm
is run and a profile file exists, then it is read to set up the program's
defaults.
Switches on the command line, though, always override profile
switches.
The switches should be separated by spaces, tabs or newlines.
.Ss Comments
.Sq Em Box
.Em comments .
.Nm
assumes that any comment with a dash, star, or newline immediately after
the start of comment (that is,
.Ql /*\- ,
.Ql /** ,
or
.Ql /*
followed immediately by a newline character) is a comment surrounded
by a box of stars.
Each line of such a comment is left unchanged, except
that its indentation may be adjusted to account for the change in indentation
of the first line
of the comment.
.Pp
.Em Straight text .
All other comments are treated as straight text.
.Nm
fits as many words (separated by blanks, tabs, or newlines) on a
line as possible.
Blank lines break paragraphs.
.Ss Comment indentation
If a comment is on a line with code it is started in the
.Dq comment column ,
which is set by the
.Fl c Ns Ar n
command line parameter.
Otherwise, the comment is started at
.Ar n
indentation levels less than where code is currently being placed, where
.Ar n
is specified by the
.Fl d Ns Ar n
command line parameter.
If the code on a line extends past the comment
column, the comment starts further to the right, and the right margin may be
automatically extended in extreme cases.
.Ss Preprocessor lines
In general,
.Nm
leaves preprocessor lines alone.
The only
reformatting that it will do is to straighten up trailing comments.
It leaves embedded comments alone.
Conditional compilation
.Pq Ic #ifdef...#endif
is recognized and
.Nm
attempts to correctly
compensate for the syntactic peculiarities introduced.
.Ss C syntax
.Nm
understands a substantial amount about the syntax of C, but it
has a
.Dq forgiving
parser.
It attempts to cope with the usual sorts of
incomplete and misformed syntax.
In particular, the use of macros like:
.Pp
.Dl #define forever for(;;)
.Pp
is handled properly.
.Sh ENVIRONMENT
.Bl -tag -width Ds
.It Ev HOME
Used to locate the full path to
.Pa ~/.indent.pro .
.El
.Sh FILES
.Bl -tag -width "./.indent.pro" -compact
.It Pa ./.indent.pro
profile file
.It Pa ~/.indent.pro
profile file
.El
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.2 .
.Sh BUGS
.Nm
has even more switches than
.Xr ls 1 .
.Pp
A common mistake is to try to indent all the C programs
in a directory by typing:
.Pp
.Dl $ indent *.c
.Pp
This is probably a bug, not a feature.
@


1.22
log
@Default to stdin/stdout if no input files are
given to indent.  Based on FreeBSD svn rev 40502.

ok kettenis@@ millert@@ lteo@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.21 2013/06/20 06:28:15 jsg Exp $
d35 1
a35 1
.Dd $Mdocdate: June 20 2013 $
d74 1
a74 1
.Op Fl ut | Fl nut
d121 1
a121 1
input is read from stdin and the formatted file is written to stdout. 
@


1.21
log
@add ut/nut flags to indent to enable/disable tabs.

based on FreeBSD svn rev 131184.
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.20 2013/01/17 21:29:14 jmc Exp $
d35 1
a35 1
.Dd $Mdocdate: January 17 2013 $
d44 1
a44 1
.Ar input-file Op Ar output-file
d117 5
@


1.20
log
@remove uesless Pp;
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.19 2010/10/19 16:54:15 jmc Exp $
d35 1
a35 1
.Dd $Mdocdate: October 19 2010 $
d74 1
d388 5
@


1.19
log
@no more vgrind(1); ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.18 2010/07/15 20:51:38 schwarze Exp $
d35 1
a35 1
.Dd $Mdocdate: July 15 2010 $
a167 1
.Pp
@


1.18
log
@More delimiters that need quoting inside macros, hunted down by jmc@@,
who asked me to commit because he is just running out of the door.
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.17 2009/05/29 09:07:29 sobrado Exp $
d35 1
a35 1
.Dd $Mdocdate: May 29 2009 $
d384 2
a385 5
to format the program for processing by
.Xr troff 1 .
It will produce a fancy
listing in much the same spirit as
.Xr vgrind 1 .
@


1.17
log
@"input-file" is a required argument; while here, remove a few superfluous
spaces around the brackets and synchronize the argument names.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.16 2007/05/31 19:20:11 jmc Exp $
d35 1
a35 1
.Dd $Mdocdate: May 31 2007 $
d330 1
a330 1
.Ql ( .
@


1.16
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.15 2005/02/04 09:22:58 jmc Exp $
d35 1
a35 1
.Dd $Mdocdate$
d44 1
a44 1
.Op Ar input-file Op Ar output-file
@


1.15
log
@clearer wording;
based on a diff from freebsd -r1.22;
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.14 2003/11/28 22:04:00 jmc Exp $
d35 1
a35 1
.Dd July 1, 1993
@


1.14
log
@- some fixes from PR 1446
- much simpler groff macros
- sync SYNOPSIS with reality
- document which options are broken (-bap, -ip, -ln, -sob)
- remove groff macros
- document defaults
- document -lcn

Together with pjanzen's fixes (rev. 1.10), fixes PR 1446
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.13 2003/06/12 01:07:27 deraadt Exp $
d513 2
a514 1
A common mistake that often causes grief is typing:
d516 1
a516 1
.Dl indent *.c
a517 1
to the shell in an attempt to indent all the C programs in a directory.
@


1.13
log
@final bits of obvious UCB term 3 removal
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.12 2003/06/10 09:12:10 jmc Exp $
d43 1
d45 5
a49 8
.Op Fl bad | Fl nbad
.Op Fl bap | Fl nbap
.Bk -words
.Op Fl bbb | Fl nbbb
.Ek
.Op Fl \&bc | Fl nbc
.Op Fl \&bl
.Op Fl \&br
d52 2
a53 4
.Bk -words
.Op Fl cdb | Fl ncdb
.Ek
.Op Fl \&ce | Fl nce
d58 3
a60 3
.Bk -words
.Op Fl fc1 | Fl nfc1
.Ek
d62 1
a62 1
.Op Fl \&ip | Fl nip
d65 1
a65 1
.Op Fl \&lp | Fl nlp
d67 4
a70 6
.Op Fl pcs | Fl npcs
.Op Fl psl | Fl npsl
.Op Fl \&sc | Fl nsc
.Bk -words
.Op Fl sob | Fl nsob
.Ek
d72 1
d74 2
a75 1
.Op Fl v | Fl \&nv
d118 1
a118 1
.Nm indent .
d133 2
d148 2
a149 2
.Fl \&nbc .
.It Fl \&br , \&bl
a152 1
.ne 4
a162 1
.ne 3
d180 3
a182 4
.ne 3
	/*
	 * this is a comment
	 */
d187 1
a187 1
	/* this is a comment */
d227 2
a228 2
The default
.Fl \&d\&1
d231 2
a232 2
Specifying
.Fl \&d\&0
d258 2
d264 1
a264 1
is in column 1 have been carefully have formatted by the programmer.
d279 2
d284 4
d289 4
a292 5
Lines up code surrounded by parenthesis in continuation lines.
If a line
has a left paren which is not closed on that line, then continuation lines
will be lined up to start at the character position just after the left
paren.
a295 1
.ne 2
d298 1
a298 1
\ \ third_procedure(p4,p5));
a300 1
.ne 5
d305 2
a306 2
p1\ =\ first_procedure(second_procedure(p2,\ p3),
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ third_procedure(p4,p5));
a308 1
.ne 5
d311 4
a314 4
p1\ =\ first_procedure(second_procedure(p2,
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p3),
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ third_procedure(p4,
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p5));
d316 3
d344 2
d353 2
d415 1
a415 1
.Pa \&.indent.pro
d452 1
a452 1
.Fl c Ns Ns Ar n
d459 1
a459 1
.Fl d Ns Ns Ar n
a512 1
.ne 5
d517 1
a517 3
to the shell in an attempt to indent all the
.Nm C
programs in a directory.
@


1.12
log
@- section reorder
- COMPATIBILITY merge
- macro cleanup
- kill whitespace at EOL
- new sentence, new line

ssh pages ok markus@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.11 2001/05/01 17:58:03 aaron Exp $
d17 1
a17 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.11
log
@Remove completely redundant introductory sentences in ENVIRONMENT sections.
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.10 2001/01/08 07:14:42 pjanzen Exp $
a422 1
.Pp
a445 1
.Pp
a461 1
.Pp
a474 1
.Pp
@


1.10
log
@Fix various warnings, merge lite-2, and tidy a bit; also, cast some
pointer arithmetic to int where needed.  Mostly from NetBSD.
Fix some buffer overflows pointed out in PR 1446 by gluk@@ptci.ru,
and check some {m,re}allocs.
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.9 2000/03/23 21:39:53 aaron Exp $
a492 2
The following environment variables affect the execution of
.Nm indent :
@


1.9
log
@More pedantic man page formatting insanity, lalala
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.8 2000/03/08 03:11:27 aaron Exp $
d3 2
a4 1
.\" Copyright (c) 1980, 1990 The Regents of the University of California.
d37 1
a37 1
.\"	from: @@(#)indent.1	6.11 (Berkeley) 7/24/91
d39 1
a39 1
.Dd July 24, 1991
d114 3
d144 2
a145 1
is specified, a blank line is forced before every block comment.Default:
d154 1
a154 1
.Fl \&bc .
d229 1
a229 1
.Fl cli0 .5
d300 2
a301 2
.Li p1 = first_procedure(second_procedure(p2, p3),
.Li \ \ third_procedure(p4,p5));
d309 2
a310 2
.Li p1\ =\ first_procedure(second_procedure(p2,\ p3),
.Li \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ third_procedure(p4,p5));
d316 4
a319 4
.Li p1\ =\ first_procedure(second_procedure(p2,
.Li \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p3),
.Li \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ third_procedure(p4,
.Li \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p5));
@


1.8
log
@Various cleanups and improvements.
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.7 1999/07/04 11:53:55 aaron Exp $
d394 2
a395 1
and gives some size statistics at completion. The default is
@


1.7
log
@correct use of .Nm; some other formatting nits
@
text
@d1 2
a2 1
.\"	$OpenBSD: indent.1,v 1.6 1999/06/05 01:21:27 aaron Exp $
d87 2
a88 1
program formatter.  It reformats the
d92 3
a94 3
according to the switches.  The switches which can be
specified are described below. They may appear before or after the file
names.
d96 1
a96 1
.Sy NOTE  :
d98 1
a98 1
.Ar input-file  ,
d100 3
a102 1
done `in-place', that is, the formatted file is written back into
d106 2
a107 1
is written in the current directory.  If
d110 1
a110 1
.Sq Pa /blah/blah/file ,
d122 1
a122 1
.Nm indent  .
d128 3
a130 2
declarations.  Default:
.Fl nbad  .
d134 2
a135 1
is specified, a blank line is forced after every procedure body.  Default:
d140 1
a140 1
is specified, a blank line is forced before every block comment.  Default:
d147 3
a149 2
turns off this option.  The default is
.Fl \&bc  .
d173 2
a174 1
The column in which comments on code start.  The default is 33.
d176 2
a177 1
The column in which comments on declarations start.  The default
d180 2
a181 2
Enables (disables) the placement of comment delimiters on blank lines.  With
this option enabled, comments look like this:
d195 3
a197 2
code.  The default is
.Fl cdb  .
d199 6
a204 3
Enables (disables) forcing `else's to cuddle up to the immediately preceding
`}'.  The default is
.Fl \&ce  .
d207 1
a207 1
.Ar n  .
d210 2
a211 1
statement.  Parenthesized expressions have extra indentation added to
d217 1
a217 1
.Fl i  .
d225 3
a227 3
causes case labels to be indented half a tab stop.  The
default is
.Fl cli0  .
d230 2
a231 1
right of code.  The default
d234 2
a235 1
left of code.  Specifying
d237 2
a238 2
lines up these comments with the code.  See the section on comment
indentation below.
d241 3
a243 2
to the following identifier.  The default is
.Fl di16  .
d248 3
a250 2
indents declarations the same as code.  The default is
.Fl ndj  .
d254 2
a255 1
processing.  If it's enabled, an
d264 4
a267 2
Often, comments whose leading `/' is in column 1 have been carefully
hand formatted by the programmer.  In such cases,
d270 3
a272 2
used.  The default is
.Fl fc1  .
d274 2
a275 1
The number of spaces for one indentation level.  The default is 8.
d278 3
a280 2
margin.  The default is
.Fl \&ip  .
d282 2
a283 1
Maximum length of an output line.  The default is 75.
d285 2
a286 1
Lines up code surrounded by parenthesis in continuation lines.  If a line
d289 2
a290 1
paren.  For example, here is how a piece of continued code looks with
d318 1
a318 1
.Sq Pa ./.indent.pro
d320 1
a320 1
.Sq Pa ~/.indent.pro ,
d326 4
a329 2
the name and the `('.  The default is
.Fl npcs  .
d334 3
a336 3
column 1 \- their types, if any, will be left on the previous lines.  The
default is
.Fl psl  .
d338 3
a340 2
Enables (disables) the placement of asterisks (`*'s) at the left edge of all
comments.
d344 4
a347 3
is specified, indent will swallow optional blank lines.  You can use this to
get rid of blank lines after declarations.  Default:
.Fl nsob  .
d355 2
a356 1
to the list of type keywords.  Names accumulate:
d358 2
a359 1
can be specified more than once.  You need to specify all the typenames that
d364 2
a365 1
it should.  This sounds like a painful thing to have to do, but it's really
d386 3
a388 1
turns on `verbose' mode;
d390 2
a391 1
turns it off.  When in verbose mode,
d395 1
a395 1
.Fl \&nv  .
d398 3
a400 1
You may set up your own `profile' of defaults to
d405 6
a410 2
whatever switches you like.  A `.indent.pro' in the current directory takes
precedence over the one in your login directory.  If
d413 4
a416 2
defaults.  Switches on the command line, though, always override profile
switches.  The switches should be separated by spaces, tabs or newlines.
d423 8
a430 3
the start of comment (that is, `/*\-', `/**' or `/*' followed
immediately by a newline character) is a comment surrounded
by a box of stars.  Each line of such a comment is left unchanged, except
d439 2
a440 1
line as possible.  Blank lines break paragraphs.
d443 2
a444 1
If a comment is on a line with code it is started in the `comment column',
d447 2
a448 1
command line parameter.  Otherwise, the comment is started at
d454 2
a455 1
command line parameter.  If the code on a line extends past the comment
d462 5
a466 3
leaves preprocessor lines alone.  The only
reformatting that it will do is to straighten up trailing comments.  It
leaves embedded comments alone.  Conditional compilation
d476 6
a481 2
has a `forgiving' parser.  It attempts to cope with the usual sorts of
incomplete and misformed syntax.  In particular, the use of macros like:
d487 7
a493 4
.Nm
uses the
.Ev HOME
environment variable.
@


1.6
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.5 1998/09/26 19:54:53 aaron Exp $
d83 1
a83 1
.Nm indent
d112 1
a112 1
.Nm indent
d114 1
a114 1
.Ar input-file  .
d318 1
a318 1
.Nm indent
d335 1
a335 1
.Nm indent
d341 1
a341 1
.Nm indent
d354 1
a354 1
.Nm indent
d361 1
a361 1
.Nm indent
d367 1
a367 1
.Nm indent
d375 1
a375 1
.Nm indent
d386 1
a386 1
.Nm indent
d406 1
a406 1
.Nm indent
d412 1
a412 1
.Nm indent
d417 1
a417 1
.Nm indent
d426 1
a426 1
.Nm indent
d439 1
a439 1
.Nm indent
d443 1
a443 1
.Nm indent
@


1.5
log
@usr.bin/ man page fixes, f-m.
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.4 1997/06/23 22:03:36 deraadt Exp $
d39 1
a39 1
.Os BSD 4.2
d191 1
a191 1
.It Fl \&ci Ns Ar n 
d203 1
a203 1
.It Fl cli Ns Ar n 
d213 1
a213 1
.It Fl d Ns Ar n 
d222 1
a222 1
.It Fl \&di Ns Ar n 
d250 1
a250 1
.It Fl i Ns Ar n 
d256 1
a256 1
.It Fl l Ns Ar n 
d320 1
a320 1
.It Fl T Ns Ar typename 
d393 1
a393 1
.Fl c Ns Ns Ar n 
d399 1
a399 1
.Fl d Ns Ns Ar n 
@


1.4
log
@fix "stuff"; problems from uenami@@imasy.or.jp
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.3 1997/06/09 15:47:08 deraadt Exp $
d83 1
a83 1
.Nm Indent
d375 1
a375 1
.Nm Indent
d386 1
a386 1
.Nm Indent
d417 1
a417 1
.Nm Indent
d426 1
a426 1
.Nm Indent
d443 1
a443 1
.Nm Indent
@


1.3
log
@-i8 is default; ada@@not-enough.bandwidth.org
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.2 1996/06/26 05:34:28 deraadt Exp $
d164 1
a164 1
.It Fl c n
d166 1
a166 1
.It Fl cd n
d285 1
a285 1
.Li \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ third_procedure(p4
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: indent.1,v 1.1.1.1 1995/10/18 08:45:24 deraadt Exp $
d251 1
a251 1
The number of spaces for one indentation level.  The default is 4.
@


1.1
log
@Initial revision
@
text
@d1 1
a35 1
.\"	$Id: indent.1,v 1.5 1995/09/27 19:08:42 jtc Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
