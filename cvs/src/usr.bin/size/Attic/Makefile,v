head	1.6;
access;
symbols
	OPENBSD_3_4:1.5.0.18
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.5.0.16
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.5.0.14
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.5.0.12
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.5.0.10
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_9:1.5.0.8
	OPENBSD_2_8:1.5.0.6
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.5.0.4
	OPENBSD_2_7_BASE:1.5
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.4.0.4
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.3.0.4
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.2
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.6
date	2004.01.05.01.27.22;	author mickey;	state dead;
branches;
next	1.5;

1.5
date	99.05.10.16.14.07;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	98.05.11.07.40.30;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	97.09.21.11.50.47;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.39.17;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.46.07;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.46.07;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.6
log
@nm digs elf and merges w/ size; millert@@ ok
@
text
@#	$OpenBSD: Makefile,v 1.5 1999/05/10 16:14:07 espie Exp $

TARGET_MACHINE_ARCH?=	${MACHINE_ARCH}

.if ${TARGET_MACHINE_ARCH} != ${MACHINE_ARCH}
# XXX should make this automatic
.if ${TARGET_MACHINE_ARCH} == "i386"
CFLAGS+=	-DMID_MACHINE_OVERRIDE=MID_I386
.elif ${TARGET_MACHINE_ARCH} == "m68k"
CFLAGS+=	-DMID_MACHINE_OVERRIDE=MID_M68K
.elif ${TARGET_MACHINE_ARCH} == "ns32k"
CFLAGS+=	-DMID_MACHINE_OVERRIDE=MID_NS32K
.elif ${TARGET_MACHINE_ARCH} == "sparc"
CFLAGS+=	-DMID_MACHINE_OVERRIDE=MID_SPARC
.elif ${TARGET_MACHINE_ARCH} == "vax"
CFLAGS+=	-DMID_MACHINE_OVERRIDE=MID_VAX
.endif
.endif

CFLAGS+= -I${.CURDIR}/../nm

PROG=	size

.include <bsd.prog.mk>
@


1.5
log
@Fixes endianess problems with old a.out tools. This makes building
some cross toolchains possible.

This also changes some utilities's behavior slightly:
- nm, strip, size now handle any a.out format they know about.
- ranlib complains if it detects mixed archives (several object
formats for different boxes).

In the presence of mixed objects, you still have file, ranlib or ld
to prevent you from getting too confused...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1998/05/11 07:40:30 niklas Exp $
@


1.4
log
@Support building for cross purposes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1997/09/21 11:50:47 deraadt Exp $
d19 2
@


1.3
log
@$OpenBSD$
@
text
@d1 18
a18 1
#	$OpenBSD$
@


1.2
log
@rcsid
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile,v 1.3 1994/12/21 08:07:19 jtc Exp $
#	$NetBSD: Makefile,v 1.3 1994/12/21 08:07:19 jtc Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a2 1
#	@@(#)Makefile	8.1 (Berkeley) 6/6/93
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
