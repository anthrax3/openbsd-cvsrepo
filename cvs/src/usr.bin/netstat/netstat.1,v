head	1.80;
access;
symbols
	OPENBSD_6_0:1.78.0.2
	OPENBSD_6_0_BASE:1.78
	OPENBSD_5_9:1.77.0.2
	OPENBSD_5_9_BASE:1.77
	OPENBSD_5_8:1.76.0.6
	OPENBSD_5_8_BASE:1.76
	OPENBSD_5_7:1.76.0.2
	OPENBSD_5_7_BASE:1.76
	OPENBSD_5_6:1.71.0.4
	OPENBSD_5_6_BASE:1.71
	OPENBSD_5_5:1.69.0.8
	OPENBSD_5_5_BASE:1.69
	OPENBSD_5_4:1.69.0.4
	OPENBSD_5_4_BASE:1.69
	OPENBSD_5_3:1.69.0.2
	OPENBSD_5_3_BASE:1.69
	OPENBSD_5_2:1.67.0.4
	OPENBSD_5_2_BASE:1.67
	OPENBSD_5_1_BASE:1.67
	OPENBSD_5_1:1.67.0.2
	OPENBSD_5_0:1.64.0.2
	OPENBSD_5_0_BASE:1.64
	OPENBSD_4_9:1.61.0.2
	OPENBSD_4_9_BASE:1.61
	OPENBSD_4_8:1.60.0.2
	OPENBSD_4_8_BASE:1.60
	OPENBSD_4_7:1.58.0.2
	OPENBSD_4_7_BASE:1.58
	OPENBSD_4_6:1.56.0.4
	OPENBSD_4_6_BASE:1.56
	OPENBSD_4_5:1.54.0.2
	OPENBSD_4_5_BASE:1.54
	OPENBSD_4_4:1.53.0.2
	OPENBSD_4_4_BASE:1.53
	OPENBSD_4_3:1.52.0.4
	OPENBSD_4_3_BASE:1.52
	OPENBSD_4_2:1.52.0.2
	OPENBSD_4_2_BASE:1.52
	OPENBSD_4_1:1.47.0.6
	OPENBSD_4_1_BASE:1.47
	OPENBSD_4_0:1.47.0.4
	OPENBSD_4_0_BASE:1.47
	OPENBSD_3_9:1.47.0.2
	OPENBSD_3_9_BASE:1.47
	OPENBSD_3_8:1.46.0.2
	OPENBSD_3_8_BASE:1.46
	OPENBSD_3_7:1.40.0.4
	OPENBSD_3_7_BASE:1.40
	OPENBSD_3_6:1.40.0.2
	OPENBSD_3_6_BASE:1.40
	OPENBSD_3_5:1.34.0.2
	OPENBSD_3_5_BASE:1.34
	OPENBSD_3_4:1.33.0.2
	OPENBSD_3_4_BASE:1.33
	OPENBSD_3_3:1.28.0.4
	OPENBSD_3_3_BASE:1.28
	OPENBSD_3_2:1.28.0.2
	OPENBSD_3_2_BASE:1.28
	OPENBSD_3_1:1.27.0.2
	OPENBSD_3_1_BASE:1.27
	OPENBSD_3_0:1.26.0.2
	OPENBSD_3_0_BASE:1.26
	OPENBSD_2_9_BASE:1.24
	OPENBSD_2_9:1.24.0.2
	OPENBSD_2_8:1.21.0.4
	OPENBSD_2_8_BASE:1.21
	OPENBSD_2_7:1.21.0.2
	OPENBSD_2_7_BASE:1.21
	OPENBSD_2_6:1.18.0.2
	OPENBSD_2_6_BASE:1.18
	OPENBSD_2_5:1.14.0.2
	OPENBSD_2_5_BASE:1.14
	OPENBSD_2_4:1.12.0.2
	OPENBSD_2_4_BASE:1.12
	OPENBSD_2_3:1.10.0.2
	OPENBSD_2_3_BASE:1.10
	OPENBSD_2_2:1.9.0.2
	OPENBSD_2_2_BASE:1.9
	OPENBSD_2_1:1.6.0.2
	OPENBSD_2_1_BASE:1.6
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.80
date	2016.10.12.13.04.03;	author jca;	state Exp;
branches;
next	1.79;
commitid	nRrRwc7NL5RZHpYj;

1.79
date	2016.09.01.14.20.13;	author bluhm;	state Exp;
branches;
next	1.78;
commitid	9RAAGylvIJS8EIpm;

1.78
date	2016.07.13.08.40.46;	author mpi;	state Exp;
branches;
next	1.77;
commitid	VkTTZG0LgjCK3eLa;

1.77
date	2015.09.11.20.10.26;	author mpi;	state Exp;
branches;
next	1.76;
commitid	Grl16jFIcIlVkkgd;

1.76
date	2015.02.12.13.14.54;	author jmc;	state Exp;
branches;
next	1.75;
commitid	G6LpilHww6oOTWz4;

1.75
date	2015.02.12.01.49.02;	author claudio;	state Exp;
branches;
next	1.74;
commitid	EszVZ4RtthRFw1UZ;

1.74
date	2015.02.08.04.29.53;	author claudio;	state Exp;
branches;
next	1.73;
commitid	NmOCgWBgZWdd9Xpx;

1.73
date	2015.02.06.03.22.00;	author reyk;	state Exp;
branches;
next	1.72;
commitid	2ShTul7wSa8iiu5L;

1.72
date	2014.10.23.16.45.57;	author schwarze;	state Exp;
branches;
next	1.71;
commitid	IvHOKuDOlqzgwkmv;

1.71
date	2014.05.10.23.31.40;	author jmc;	state Exp;
branches;
next	1.70;

1.70
date	2014.05.08.09.28.08;	author mpi;	state Exp;
branches;
next	1.69;

1.69
date	2012.08.22.06.45.44;	author jmc;	state Exp;
branches;
next	1.68;

1.68
date	2012.08.22.06.08.07;	author tedu;	state Exp;
branches;
next	1.67;

1.67
date	2011.11.01.17.30.04;	author mikeb;	state Exp;
branches;
next	1.66;

1.66
date	2011.09.03.22.59.07;	author jmc;	state Exp;
branches;
next	1.65;

1.65
date	2011.08.19.19.59.51;	author jmc;	state Exp;
branches;
next	1.64;

1.64
date	2011.07.09.04.01.30;	author deraadt;	state Exp;
branches;
next	1.63;

1.63
date	2011.03.15.13.10.31;	author jsing;	state Exp;
branches;
next	1.62;

1.62
date	2011.03.05.18.34.12;	author schwarze;	state Exp;
branches;
next	1.61;

1.61
date	2010.10.30.23.06.05;	author bluhm;	state Exp;
branches;
next	1.60;

1.60
date	2010.07.31.14.25.37;	author sobrado;	state Exp;
branches;
next	1.59;

1.59
date	2010.06.29.03.09.29;	author blambert;	state Exp;
branches;
next	1.58;

1.58
date	2010.01.03.14.31.01;	author schwarze;	state Exp;
branches;
next	1.57;

1.57
date	2009.11.22.22.22.14;	author tedu;	state Exp;
branches;
next	1.56;

1.56
date	2009.06.27.11.35.57;	author michele;	state Exp;
branches;
next	1.55;

1.55
date	2009.06.04.18.59.34;	author mk;	state Exp;
branches;
next	1.54;

1.54
date	2009.01.26.17.28.09;	author claudio;	state Exp;
branches;
next	1.53;

1.53
date	2008.05.09.09.08.47;	author jmc;	state Exp;
branches;
next	1.52;

1.52
date	2007.07.25.18.49.09;	author claudio;	state Exp;
branches;
next	1.51;

1.51
date	2007.07.25.11.50.47;	author claudio;	state Exp;
branches;
next	1.50;

1.50
date	2007.06.04.12.20.24;	author henning;	state Exp;
branches;
next	1.49;

1.49
date	2007.05.31.19.20.13;	author jmc;	state Exp;
branches;
next	1.48;

1.48
date	2007.03.23.10.59.38;	author pyr;	state Exp;
branches;
next	1.47;

1.47
date	2005.09.06.23.28.23;	author jmc;	state Exp;
branches;
next	1.46;

1.46
date	2005.07.25.20.32.12;	author jmc;	state Exp;
branches;
next	1.45;

1.45
date	2005.06.16.16.03.32;	author jaredy;	state Exp;
branches;
next	1.44;

1.44
date	2005.06.08.04.47.04;	author henning;	state Exp;
branches;
next	1.43;

1.43
date	2005.05.02.10.07.19;	author jmc;	state Exp;
branches;
next	1.42;

1.42
date	2005.04.12.14.11.49;	author reyk;	state Exp;
branches;
next	1.41;

1.41
date	2005.03.30.08.23.47;	author jaredy;	state Exp;
branches;
next	1.40;

1.40
date	2004.07.13.23.33.29;	author jmc;	state Exp;
branches;
next	1.39;

1.39
date	2004.06.25.20.05.40;	author henning;	state Exp;
branches;
next	1.38;

1.38
date	2004.06.06.22.03.35;	author jmc;	state Exp;
branches;
next	1.37;

1.37
date	2004.06.06.22.00.20;	author jmc;	state Exp;
branches;
next	1.36;

1.36
date	2004.06.06.16.55.31;	author cedric;	state Exp;
branches;
next	1.35;

1.35
date	2004.04.01.07.55.17;	author markus;	state Exp;
branches;
next	1.34;

1.34
date	2003.11.28.10.05.43;	author jmc;	state Exp;
branches;
next	1.33;

1.33
date	2003.08.26.08.33.12;	author itojun;	state Exp;
branches;
next	1.32;

1.32
date	2003.07.14.12.38.30;	author jmc;	state Exp;
branches;
next	1.31;

1.31
date	2003.06.12.07.39.16;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2003.06.05.20.01.35;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2003.06.03.02.56.13;	author millert;	state Exp;
branches;
next	1.28;

1.28
date	2002.09.18.07.33.47;	author deraadt;	state Exp;
branches;
next	1.27;

1.27
date	2001.11.09.00.56.24;	author miod;	state Exp;
branches;
next	1.26;

1.26
date	2001.08.26.09.42.04;	author brian;	state Exp;
branches;
next	1.25;

1.25
date	2001.06.25.00.41.39;	author niklas;	state Exp;
branches;
next	1.24;

1.24
date	2000.12.13.15.52.58;	author camield;	state Exp;
branches;
next	1.23;

1.23
date	2000.12.11.17.33.07;	author provos;	state Exp;
branches;
next	1.22;

1.22
date	2000.11.09.17.52.27;	author aaron;	state Exp;
branches;
next	1.21;

1.21
date	2000.04.16.16.24.32;	author aaron;	state Exp;
branches;
next	1.20;

1.20
date	2000.04.15.02.15.12;	author aaron;	state Exp;
branches;
next	1.19;

1.19
date	99.12.08.12.30.17;	author itojun;	state Exp;
branches;
next	1.18;

1.18
date	99.09.01.17.22.03;	author aaron;	state Exp;
branches;
next	1.17;

1.17
date	99.07.21.01.25.47;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	99.06.05.01.21.34;	author aaron;	state Exp;
branches;
next	1.15;

1.15
date	99.05.16.19.57.59;	author alex;	state Exp;
branches;
next	1.14;

1.14
date	99.03.01.01.28.12;	author d;	state Exp;
branches;
next	1.13;

1.13
date	99.02.24.22.57.34;	author angelos;	state Exp;
branches;
next	1.12;

1.12
date	98.09.27.16.57.48;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	98.09.07.16.44.33;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	98.02.26.10.06.09;	author peter;	state Exp;
branches;
next	1.9;

1.9
date	97.09.19.09.24.22;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	97.07.28.08.29.48;	author denny;	state Exp;
branches;
next	1.7;

1.7
date	97.06.18.04.07.05;	author angelos;	state Exp;
branches;
next	1.6;

1.6
date	97.02.16.10.26.39;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	97.02.01.17.31.20;	author kstailey;	state Exp;
branches;
next	1.4;

1.4
date	96.08.16.09.29.33;	author mickey;	state Exp;
branches;
next	1.3;

1.3
date	96.07.08.22.09.42;	author ccappuc;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.37.24;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.45.51;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.45.51;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.80
log
@Mention that netstat -P needs kmem access.

From David Hill, ok bluhm@@
@
text
@.\"	$OpenBSD: netstat.1,v 1.79 2016/09/01 14:20:13 bluhm Exp $
.\"	$NetBSD: netstat.1,v 1.11 1995/10/03 21:42:43 thorpej Exp $
.\"
.\" Copyright (c) 1983, 1990, 1992, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	from: @@(#)netstat.1	8.8 (Berkeley) 4/18/94
.\"
.Dd $Mdocdate: September 1 2016 $
.Dt NETSTAT 1
.Os
.Sh NAME
.Nm netstat
.Nd show network status
.Sh SYNOPSIS
.Nm netstat
.Op Fl AaBn
.Op Fl f Ar address_family
.Op Fl p Ar protocol
.Op Fl M Ar core
.Op Fl N Ar system
.Nm netstat
.Bk -words
.Op Fl bdFgilmnqrstu
.Op Fl f Ar address_family
.Op Fl p Ar protocol
.Op Fl M Ar core
.Op Fl N Ar system
.Op Fl T Ar tableid
.Ek
.Nm netstat
.Op Fl bdhn
.Op Fl c Ar count
.Op Fl I Ar interface
.Op Fl M Ar core
.Op Fl N Ar system
.Op Fl w Ar wait
.Nm netstat
.Op Fl v
.Op Fl M Ar core
.Op Fl N Ar system
.Fl P Ar pcbaddr
.Nm netstat
.Op Fl s
.Op Fl M Ar core
.Op Fl N Ar system
.Op Fl p Ar protocol
.Nm netstat
.Op Fl a
.Op Fl f Ar address_family
.Op Fl p Ar protocol
.Op Fl i | I Ar interface
.Nm netstat
.Op Fl W Ar interface
.Sh DESCRIPTION
The
.Nm
command symbolically displays the contents of various network-related
data structures.
There are a number of output formats,
depending on the options for the information presented.
.Pp
The first form of the command displays a list of active sockets for
each protocol.
The second form presents the contents of one of the other network
data structures according to the option selected.
Using the third form, with a
.Ar wait
interval specified,
.Nm
will continuously display the information regarding packet
traffic on the configured network interfaces.
The fourth form displays internals of the protocol control block (PCB)
and the socket structure.
The fifth form displays statistics about the named protocol.
The sixth form displays per interface statistics for
the specified address family.
The final form displays per interface statistics for
the specified wireless (802.11) device.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl A
Show the address of any protocol control blocks associated with sockets;
useful for debugging e.g. with the
.Fl P
flag.
When used with the
.Fl r
flag it shows the internal addresses of the routing table.
Only the super-user can see these addresses;
unprivileged users will see them as 0x0.
.It Fl a
With the default display,
show the state of all sockets; normally sockets used by
server processes are not shown.
.It Fl B
With the default display,
show buffer sizes for TCP sockets.
This includes the send window size, receive window size and congestion
window size.
.It Fl b
With the interface display (options
.Fl I
or
.Fl i ) ,
show bytes in and out, instead of packet statistics.
.It Fl c Ar count
Display
.Ar count
updates, then exit.
This option has no effect unless
.Fl w
is specified as well.
.It Fl d
With either the interface display (options
.Fl I
or
.Fl i )
or an interval (option
.Fl w ) ,
show the number of dropped packets.
.It Fl F
When showing routes, only show routes whose gateway are in the
same address family as the destination.
.It Fl f Ar address_family
Limit statistics or address control block reports to those
of the specified
.Ar address_family .
.Pp
The following address families are recognized:
.Bl -column "Address Family" "AF_APPLETA" "Description" -offset indent
.It Sy "Address Family" Ta Sy "Constant" Ta Sy "Description"
.It "inet" Ta Dv "AF_INET" Ta "IP Version 4"
.It "inet6" Ta Dv "AF_INET6" Ta "IP Version 6"
.It "local" Ta Dv "AF_LOCAL" Ta "Local to Host (i.e., pipes)"
.It "mpls" Ta Dv "AF_MPLS" Ta "MPLS"
.It "unix" Ta Dv "AF_UNIX" Ta "Local to Host (i.e., pipes)"
.El
.It Fl h
Use unit suffixes to reduce the number of digits shown with the
.Fl b
and
.Fl w
options.
.It Fl g
Show information related to multicast (group address) routing.
By default, show the IP multicast virtual-interface and routing tables.
If the
.Fl s
option is also present, show multicast routing statistics.
.It Fl I Ar interface
Show information about the specified
.Ar interface ;
used with a
.Ar wait
interval as described below.
.Pp
If the
.Fl f Ar address_family
option (with the
.Fl s
option) is present, show per-interface
statistics on the given interface for the specified
.Ar address_family .
.It Fl i
Show the state of interfaces which have been auto-configured
(interfaces statically configured into a system but not
located at boot-time are not shown).
.Pp
If the
.Fl f Ar address_family
option (with the
.Fl s
option) is present, show per-interface statistics on all interfaces
for the specified
.Ar address_family .
.It Fl l
With the
.Fl g
option, display wider fields for the IPv6 multicast routing table
.Qq Origin
and
.Qq Group
columns.
.It Fl M Ar core
Extract values associated with the name list from the specified core
instead of the running kernel.
.It Fl m
Show statistics recorded by the memory management routines
(the network manages a private pool of memory buffers).
.It Fl N Ar system
Extract the name list from the specified system instead of the running kernel.
.It Fl n
Show network addresses as numbers (normally
.Nm
interprets addresses and attempts to display them
symbolically).
This option may be used with any of the display formats.
.It Fl P Ar pcbaddr
Display the contents of the protocol control block (PCB)
located at the kernel virtual address
.Ar pcbaddr .
PCB addresses can be obtained using the
.Fl A
flag.
When used with the
.Fl v
option, also print socket, domain and protocol specific structures.
Only the super-user can use the
.Fl P
option.
.Pp
The
.Fl P
option requires the ability to open
.Pa /dev/kmem
which may be restricted based upon the value of the
.Ar kern.allowkmem
.Xr sysctl 8 .
.It Fl p Ar protocol
Restrict the output to
.Ar protocol ,
which is either a well-known name for a protocol or an alias for it.
Some protocol names and aliases are listed in the file
.Pa /etc/protocols .
The program will complain if
.Ar protocol
is unknown.
If the
.Fl s
option is specified, the per-protocol statistics are displayed.
Otherwise the states of the matching sockets are shown.
.It Fl q
Only show interfaces that have seen packets (or bytes if
.Fl b
is specified).
.It Fl r
Show the routing tables.
If the
.Fl s
option is also specified, show routing statistics instead.
When used with the
.Fl v
option, also print routing labels.
.It Fl s
Show per-protocol statistics.
If this option is repeated, counters with a value of zero are suppressed.
.It Fl T Ar tableid
Select an alternate routing table to query.
The default is to use the current routing table.
.It Fl t
With the
.Fl i
option, display the current value of the watchdog timer function.
.It Fl u
Limit statistics or address control block reports to the
.Dv AF_UNIX
address family.
.It Fl v
Show extra (verbose) detail for the routing tables
.Pq Fl r ,
or avoid truncation of long addresses.
When used with the
.Fl P
option, also print socket, domain and protocol specific structures.
.It Fl W Ar interface
(IEEE 802.11 devices only)
Show per-interface IEEE 802.11 wireless statistics.
.It Fl w Ar wait
Show network interface statistics at intervals of
.Ar wait
seconds.
.El
.Pp
The default display, for active sockets, shows the local
and remote addresses, send and receive queue sizes (in bytes), protocol,
and the internal state of the protocol.
.Pp
Address formats are of the form
.Dq host.port
or
.Dq network.port
if a socket's address specifies a network but no specific host address.
When known, the host addresses are displayed symbolically
according to the
.Xr hosts 5
database.
If a symbolic name for an address is unknown, or if the
.Fl n
option is specified, the address is printed numerically, according
to the address family.
.Pp
For more information regarding the Internet
.Dq dot format ,
refer to
.Xr inet_ntop 3 .
Unspecified or
.Dq wildcard
addresses and ports appear as a single
.Sq * .
If a local port number is registered as being in use for RPC by
.Xr portmap 8 ,
its RPC service name or RPC service number will be printed in
.Dq []
immediately after the port number.
.Pp
The interface display provides a table of cumulative
statistics regarding packets transferred, errors, and collisions.
The network addresses of the interface
and the maximum transmission unit (MTU) are also displayed.
.Pp
The routing table display indicates the available routes and their status.
Each route consists of a destination host or network and
a gateway to use in forwarding packets.
If the destination is a
network in numeric format, the netmask (in /24 style format) is appended.
The flags field shows a collection of information about
the route stored as binary choices.
The individual flags are discussed in more detail in the
.Xr route 8
and
.Xr route 4
manual pages.
.Pp
The mapping between letters and flags is:
.Bl -column "1" "RTF_BLACKHOLE" "Protocol specific routing flag #1."
.It 1 Ta RTF_PROTO1 Ta "Protocol specific routing flag #1."
.It 2 Ta RTF_PROTO2 Ta "Protocol specific routing flag #2."
.It 3 Ta RTF_PROTO3 Ta "Protocol specific routing flag #3."
.It B Ta RTF_BLACKHOLE Ta "Just discard pkts (during updates)."
.It b Ta RTF_BROADCAST Ta "Correspond to a local broadcast address."
.It C Ta RTF_CLONING Ta "Generate new routes on use."
.It c Ta RTF_CLONED Ta "Cloned routes (generated from RTF_CLONING)."
.It D Ta RTF_DYNAMIC Ta "Created dynamically (by redirect)."
.It d Ta RTF_DONE Ta "Completed (for routing messages only)."
.It G Ta RTF_GATEWAY Ta "Destination requires forwarding by intermediary."
.It H Ta RTF_HOST Ta "Host entry (net otherwise)."
.It h Ta RTF_CACHED Ta "Referenced by gateway route."
.It L Ta RTF_LLINFO Ta "Valid protocol to link address translation."
.It l Ta RTF_LOCAL Ta "Correspond to a local address."
.It M Ta RTF_MODIFIED Ta "Modified dynamically (by redirect)."
.It m Ta RTF_MULTICAST Ta "Correspond to a multicast address."
.It n Ta RTF_CONNECTED Ta "Interface route."
.It P Ta RTF_MPATH Ta "Multipath route."
.It R Ta RTF_REJECT Ta "Host or net unreachable."
.It S Ta RTF_STATIC Ta "Manually added."
.It T Ta RTF_MPLS Ta "MPLS route."
.It U Ta RTF_UP Ta "Route usable."
.El
.Pp
Direct routes are created for each interface attached to the local host;
the gateway field for such entries shows the address of the outgoing interface.
The refcnt field gives the current number of active uses of the route.
Connection oriented protocols normally hold on to a single route for the
duration of a connection while connectionless protocols obtain a route while
sending to the same destination.
The use field provides a count of the number of packets sent using that route.
The MTU entry shows the MTU associated with that route.
This MTU value is used as the basis for the TCP maximum segment size (MSS).
The
.Sq L
flag appended to the MTU value indicates that the value is
locked, and that path MTU discovery is turned off for that route.
A
.Sq -
indicates that the MTU for this route has not been set, and a default
TCP maximum segment size will be used.
The interface entry indicates the network interface utilized for the route.
.Pp
When
.Nm
is invoked with the
.Fl w
option and a
.Ar wait
interval argument, it displays a running count of statistics related to
network interfaces.
An obsolescent version of this option used a numeric parameter
with no option, and is currently supported for backward compatibility.
This display consists of a column for the primary interface (the first
interface found during autoconfiguration) and a column summarizing
information for all interfaces.
The primary interface may be replaced with another interface with the
.Fl I
option.
The first line of each screen of information contains a summary since the
system was last rebooted.
Subsequent lines of output show values accumulated over the preceding interval.
.Sh SEE ALSO
.Xr fstat 1 ,
.Xr nfsstat 1 ,
.Xr ps 1 ,
.Xr systat 1 ,
.Xr tcpbench 1 ,
.Xr top 1 ,
.Xr inet_ntop 3 ,
.Xr netintro 4 ,
.Xr route 4 ,
.Xr hosts 5 ,
.Xr protocols 5 ,
.Xr services 5 ,
.Xr iostat 8 ,
.Xr portmap 8 ,
.Xr pstat 8 ,
.Xr route 8 ,
.Xr tcpdrop 8 ,
.Xr trpt 8 ,
.Xr vmstat 8
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.2 .
IPv6 support was added by the WIDE/KAME project.
.Sh BUGS
The notion of errors is ill-defined.
@


1.79
log
@Document all letters used for route flags in "netstat -r".
OK jmc@@ mpi@@ sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.78 2016/07/13 08:40:46 mpi Exp $
d33 1
a33 1
.Dd $Mdocdate: July 13 2016 $
d237 8
@


1.78
log
@Introduce RTF_MULTICAST and flag corresponding IPv6 routes as such
instead of abusing RTF_CLONING.

Fix a leak reporeted by Aaron Riekenberg on misc@@, ok sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.77 2015/09/11 20:10:26 mpi Exp $
d33 1
a33 1
.Dd $Mdocdate: September 11 2015 $
d352 1
d355 1
d360 1
@


1.77
log
@Remove XRESOLVE support.

dlg@@ is sad because we won't be able to implement arpd(8) the way
people intended it in the 80s.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.76 2015/02/12 13:14:54 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: February 12 2015 $
d357 1
@


1.76
log
@be more explicit about how -A and -P work, and fix a booboo in previous;
help/ok claudio
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.75 2015/02/12 01:49:02 claudio Exp $
a361 1
.It X Ta RTF_XRESOLVE Ta "External daemon translates proto to link address."
@


1.75
log
@Switch the printing of open sockets from ugly KVM internals to use
kvm_getfiles. This allows to run netstat without any extra privileges
and removes another setgid program from base..
There is still kvm reader code in there which is used for debugging
purposes (crashdump). netstat should still behave mostly the same.
deraadt@@ and sthen@@ agree that it is time to get this puppy in.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.74 2015/02/08 04:29:53 claudio Exp $
d33 1
a33 1
.Dd $Mdocdate: February 8 2015 $
d108 2
a109 3
With the default display,
show the address of any protocol control blocks associated with sockets; used
for debugging, e.g. with the
d113 4
a116 3
.Fl -r
flag it shows the internal pointers of the routing table.
Only the super-user can use this option.
d234 3
a236 1
Only the super-user can use this option.
@


1.74
log
@-a for -I or -i is gone for good. So adjust manpage.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.73 2015/02/06 03:22:00 reyk Exp $
d33 1
a33 1
.Dd $Mdocdate: February 6 2015 $
d113 4
a161 1
.It "pflow" Ta Dv "PF_FLOW" Ta "pflow data export"
d225 1
a225 1
Display the contents of the socket or protocol control block (PCB)
d234 1
@


1.73
log
@Remove route/netstat -f encap in favor of ipsecctl -s flow.

OK deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.72 2014/10/23 16:45:57 schwarze Exp $
d33 1
a33 1
.Dd $Mdocdate: October 23 2014 $
a116 5
With the interface display (options
.Fl I
or
.Fl i ) ,
show multicast addresses.
a180 7
.Fl a
option is also present, multicast addresses currently in use are shown
for the given interface and for each IP interface address.
Multicast addresses are shown on separate lines following the interface
address with which they are associated.
.Pp
If the
a190 7
.Pp
If the
.Fl a
option is also present, multicast addresses currently in use are shown
for each Ethernet interface and for each IP interface address.
Multicast addresses are shown on separate lines following the interface
address with which they are associated.
@


1.72
log
@Remove networks(5) support.
In particular, do not call getnetbyaddr(3), use gethostbyaddr(3) only.
Do not call setnetent(3) and the dummy sethostent(3).
OK henning@@; and deraadt@@ agrees with the general direction.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.71 2014/05/10 23:31:40 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 10 2014 $
a158 1
.It "encap" Ta Dv "PF_KEY" Ta "IPsec"
@


1.71
log
@catch up with the inet(3) rename; this commit missed in previous
ok guenther
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.70 2014/05/08 09:28:08 mpi Exp $
d33 1
a33 1
.Dd $Mdocdate: May 8 2014 $
d315 4
a318 6
When known, the host and network addresses are displayed symbolically
according to the databases
.Pa /etc/hosts
and
.Pa /etc/networks ,
respectively.
a427 1
.Xr networks 5 ,
@


1.70
log
@Introduce two new route flags: RTF_LOCAL and RTF_BROADCAST.

Nothing use them for the moment, but here is the plan:

Since a route lookup is always necessary to output a packet it makes
sense to store all the information regarding how the packet should be
sent in the routing entry.  This will save us some expensive lookups
on address lists.

But once we have all the information about our addresses in the routing
table, we can even use it in the input path with the hope that the number
of lookups in the forwarding case can be reduce to one.

ok henning@@, chris@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.69 2012/08/22 06:45:44 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: August 22 2012 $
d329 1
a329 1
.Xr inet 3 .
d426 1
a426 1
.Xr inet 3 ,
@


1.69
log
@remove unneccessary .Pp;
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.68 2012/08/22 06:08:07 tedu Exp $
d364 1
d371 1
@


1.68
log
@i missed usage and the manpage.  prod by jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.67 2011/11/01 17:30:04 mikeb Exp $
d33 1
a33 1
.Dd $Mdocdate: November 1 2011 $
a166 1
.Pp
@


1.67
log
@Do some cleanup and improve the manpage. From Andreas Bartelt; ok henning, jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.66 2011/09/03 22:59:07 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: September 3 2011 $
d56 1
a56 1
.Op Fl bdn
d168 6
@


1.66
log
@make -column lists pretty again;

specifically, rewrite them to permit some markup in the column headers,
and use "Ta" instead of literal tabs; mandoc does not currently match groff
100%, but a mandoc fix may be some time off, and we've gone enough releases
with poorly formatting column lists.

in some cases i have rewritten the lists as -tag, where -column made
little sense.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.65 2011/08/19 19:59:51 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: August 19 2011 $
d275 2
a276 2
Select an alternate routing table to modify or query.
Table 0 is the default table.
@


1.65
log
@as with other list types, column lists generally do not need a Pp/-compact
construct;

this also sidesteps what seems to be a problem with mandoc, in that
"-column -compact" seems to mess up the formatting. thus these pages should
now have their lists formatted nicely (i.e. correctly aligned and with indent
applied);

as a side note, the fact that headers are not properly marked up is another
issue which will be addressed separately (a mandoc fix is needed, i think).
i have fudged a few of these to mark up properly, since the workaround does
make sense for some pages.

as another side note, i haven;t fixed man7, as i need to prepare a separate
diff for kristaps and ingo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.64 2011/07/09 04:01:30 deraadt Exp $
d33 1
a33 1
.Dd $Mdocdate: July 9 2011 $
d354 18
a371 18
.Bl -column XXXX RTF_BLACKHOLE
.It 1	RTF_PROTO1	Protocol specific routing flag #1.
.It 2	RTF_PROTO2	Protocol specific routing flag #2.
.It 3	RTF_PROTO3	Protocol specific routing flag #3.
.It B	RTF_BLACKHOLE	Just discard pkts (during updates).
.It C	RTF_CLONING	Generate new routes on use.
.It c	RTF_CLONED	Cloned routes (generated from RTF_CLONING).
.It D	RTF_DYNAMIC	Created dynamically (by redirect).
.It G	RTF_GATEWAY	Destination requires forwarding by intermediary.
.It H	RTF_HOST	Host entry (net otherwise).
.It L	RTF_LLINFO	Valid protocol to link address translation.
.It M	RTF_MODIFIED	Modified dynamically (by redirect).
.It P	RTF_MPATH	Multipath route.
.It R	RTF_REJECT	Host or net unreachable.
.It S	RTF_STATIC	Manually added.
.It T	RTF_MPLS	MPLS route.
.It U	RTF_UP	Route usable.
.It X	RTF_XRESOLVE	External daemon translates proto to link address.
@


1.64
log
@remove more atalk bits
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.63 2011/03/15 13:10:31 jsing Exp $
d33 1
a33 1
.Dd $Mdocdate: March 15 2011 $
d157 1
a157 2
.Pp
.Bl -column "Address Family" "AF_APPLETA" "Description" -offset indent -compact
@


1.63
log
@Add a -B flag to netstat which displays buffer sizes for TCP sockets.

With feedback from bluhm@@

ok bluhm@@ sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.61 2010/10/30 23:06:05 bluhm Exp $
d33 1
a33 1
.Dd $Mdocdate: October 30 2010 $
a159 1
.It "atalk" Ta Dv "AF_APPLETALK" Ta "AppleTalk"
@


1.62
log
@remove a stray character (editing accident) i introduced a year ago;
while here, improve the grammar of the preceding sentence;
ok jmc@@
@
text
@d41 1
a41 1
.Op Fl Aan
d122 5
@


1.61
log
@Print socket structure internals when netstat -P pcbaddr is called
with -v.  Also netstat -P supports more than TCP now.
ok markus@@ jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.60 2010/07/31 14:25:37 sobrado Exp $
d33 1
a33 1
.Dd $Mdocdate: July 31 2010 $
d435 1
a435 1
IPv6 support was added by WIDE/KAME project.
a436 1
B
@


1.60
log
@adds a remark about how printing routing labels to -r, it is the
more logical place to find this information; improve description
for the -v option (stolen from NetBSD).

written with excellent advice from bluhm@@ and jmc@@.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.59 2010/06/29 03:09:29 blambert Exp $
d33 1
a33 1
.Dd $Mdocdate: June 29 2010 $
d63 1
d97 2
a98 1
The fourth form displays statistics about the protocol control block (PCB).
d234 2
a235 2
Display the contents of the protocol control block (PCB) located at
the kernel virtual address
d240 3
a242 1
This option can currently only be used to display TCP control blocks.
d286 3
@


1.59
log
@Allow selecting both address family and protocol by passing the address family
directly to the appropriate print functions.

Found by jdixon@@, tested jdixon@@ and weerd@@, ok krw@@ deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.58 2010/01/03 14:31:01 schwarze Exp $
d33 1
a33 1
.Dd $Mdocdate: January 3 2010 $
d261 3
d279 3
a281 2
Be verbose.
Avoids truncation of long addresses.
@


1.58
log
@.Bl always requires .It, even in .Bl -column;
syntax errors found by mandoc(1), also required to fix the mandoc build;
feedback and ok jmc@@ and sobrado@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.57 2009/11/22 22:22:14 tedu Exp $
d33 1
a33 1
.Dd $Mdocdate: November 22 2009 $
d43 1
d50 1
d74 1
@


1.57
log
@don't repeat the banner if not a tty.
add a -c count option to netstat.
tweak spacing to not smear fields in vmstat.
ok deraadt sthen
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.56 2009/06/27 11:35:57 michele Exp $
d33 1
a33 1
.Dd $Mdocdate: June 27 2009 $
d338 17
a354 17
1	RTF_PROTO1	Protocol specific routing flag #1.
2	RTF_PROTO2	Protocol specific routing flag #2.
3	RTF_PROTO3	Protocol specific routing flag #3.
B	RTF_BLACKHOLE	Just discard pkts (during updates).
C	RTF_CLONING	Generate new routes on use.
c	RTF_CLONED	Cloned routes (generated from RTF_CLONING).
D	RTF_DYNAMIC	Created dynamically (by redirect).
G	RTF_GATEWAY	Destination requires forwarding by intermediary.
H	RTF_HOST	Host entry (net otherwise).
L	RTF_LLINFO	Valid protocol to link address translation.
M	RTF_MODIFIED	Modified dynamically (by redirect).
P	RTF_MPATH	Multipath route.
R	RTF_REJECT	Host or net unreachable.
S	RTF_STATIC	Manually added.
T	RTF_MPLS	MPLS route.
U	RTF_UP	Route usable.
X	RTF_XRESOLVE	External daemon translates proto to link address.
d423 1
@


1.56
log
@Mark MPLS routes with T (tagged) in route output.

suggested by dlg@@, ok claudio@@, laurent@@, blambert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.55 2009/06/04 18:59:34 mk Exp $
d33 1
a33 1
.Dd $Mdocdate: June 4 2009 $
d55 1
d123 7
@


1.55
log
@Add mpls and pflow to the list of supported address families, and sort
it.

`sure' deraadt, `sure why not' claudio, minor complains about the
sorting from phessler.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.54 2009/01/26 17:28:09 claudio Exp $
d33 1
a33 1
.Dd $Mdocdate: January 26 2009 $
d344 1
@


1.54
log
@Again use P to mark multipath routes in route output. OK henning@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.53 2008/05/09 09:08:47 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 9 2008 $
d142 2
a145 2
.It "atalk" Ta Dv "AF_APPLETALK" Ta "AppleTalk"
.It "encap" Ta Dv "PF_KEY" Ta "IPsec"
d147 2
@


1.53
log
@some Xr for tcpbench(1) and tcpdrop(8);
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.52 2007/07/25 18:49:09 claudio Exp $
d33 1
a33 1
.Dd $Mdocdate: July 25 2007 $
d339 1
@


1.52
log
@Update synopsis. with help by jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.51 2007/07/25 11:50:47 claudio Exp $
d388 1
@


1.51
log
@Make it possible to show alternate routing tables in netstat. This mostly
comes from route(8) which already had the -T option.  OK henning@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.50 2007/06/04 12:20:24 henning Exp $
d33 1
a33 1
.Dd $Mdocdate: June 4 2007 $
d46 1
d51 2
@


1.50
log
@remove IPX support, agreed by many
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.49 2007/05/31 19:20:13 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
d248 3
@


1.49
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.48 2007/03/23 10:59:38 pyr Exp $
d33 1
a33 1
.Dd $Mdocdate$
a140 1
.It "ipx" Ta Dv "AF_IPX" Ta "Novell IPX"
@


1.48
log
@Add a new flag -F to netstat restricting route display in conjuction
with -r to routes in the same address family as the destination.
ok henning@@, claudio@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.47 2005/09/06 23:28:23 jmc Exp $
d33 1
a33 1
.Dd April 18, 1994
@


1.47
log
@make some of the stat utility pages reference each other;
idea from a mail to misc@@ from simon dassow;
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.46 2005/07/25 20:32:12 jmc Exp $
d46 1
a46 1
.Op Fl bdgilmnqrstu
d127 3
@


1.46
log
@update DESCRIPTION to reflect the fact that another synopsis form was
added;
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.45 2005/06/16 16:03:32 jaredy Exp $
d376 1
d379 2
d390 1
@


1.45
log
@add -P to docs and usage/synopsis; ok markus jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.44 2005/06/08 04:47:04 henning Exp $
d89 3
a91 2
The fourth form displays statistics about the named protocol.
The fifth form displays per interface statistics for
@


1.44
log
@bye bye, Xerox NS protocols
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.43 2005/05/02 10:07:19 jmc Exp $
d57 4
d100 3
a102 1
for debugging.
d212 8
@


1.43
log
@- add a small description of final synopsis form
- tweak a spacing issue in usage()
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.42 2005/04/12 14:11:49 reyk Exp $
a132 1
.It "ns" Ta Dv "AF_NS" Ta "Xerox NS Protocols"
@


1.42
log
@add '-W interface' for 802.11 wireless statistics of the net80211 stack.

ok dlg@@ deraadt@@ jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.41 2005/03/30 08:23:47 jaredy Exp $
d88 2
@


1.41
log
@kill -S; ok henning
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.40 2004/07/13 23:33:29 jmc Exp $
d65 2
d241 3
@


1.40
log
@.Xr tcpdrop 8 ,
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.39 2004/06/25 20:05:40 henning Exp $
d46 1
a46 1
.Op Fl bdgilmnqrSstu
a224 4
.It Fl S
Make the
.Fl r
command display the source selector part of the routes.
@


1.39
log
@remove netiso
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.38 2004/06/06 22:03:35 jmc Exp $
d371 1
@


1.38
log
@make -S description match the rest of the page (in terms of tense);
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.37 2004/06/06 22:00:20 jmc Exp $
a129 1
.It "iso" Ta Dv "AF_ISO" Ta "ISO Protocol Family"
@


1.37
log
@double `the';
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.36 2004/06/06 16:55:31 cedric Exp $
d227 1
a227 1
Makes the
@


1.36
log
@Add new '-S' flag to display the source selector part of the routing table
entry. "netstat -nrSf inet". ok deraadt@@ mcbride@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.35 2004/04/01 07:55:17 markus Exp $
d227 1
a227 1
Makes the the
@


1.35
log
@change -p to restrict output to protocol (not just for -s);
ok deraadt@@, hshoexer@@, tdeval@@, jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.34 2003/11/28 10:05:43 jmc Exp $
d46 1
a46 1
.Op Fl bdgilmnqrstu
d226 4
@


1.34
log
@netstat.1:
- In SYNOPSIS, -a goes with interface display, not -s
- In SYNOPSIS, -i and -I are mutually exclusive
- expand -a description (shows multicast with interface display)
- expand -b and -d descriptions and fix parenthesis typo
- consistently refer to multicast (not Multicast) and MTU (not mtu)
- expand -I description (interaction with -a)
- two missing full stops
- update SEE ALSO

main.c:
- sync with SYNOPSIS
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.33 2003/08/26 08:33:12 itojun Exp $
d57 1
d205 1
a205 1
Show statistics about
a209 2
A null response typically means that there are no interesting numbers to
report.
d212 5
a216 1
is unknown or if there is no statistics routine for it.
@


1.33
log
@mark cloned route with RTF_CLONED.  remove RTF_CLONED route when clone parent
disappers.  deraadt ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.32 2003/07/14 12:38:30 jmc Exp $
d61 1
a61 1
.Op Fl s
d63 1
a63 2
.Op Fl i
.Op Fl I Ar Interface
d96 5
d102 3
a104 1
With the interface display (option
d108 6
a113 3
With either interface display (option
.Fl i
or an interval, as described below),
d137 1
a137 1
By default, show the IP Multicast virtual-interface and routing tables.
d149 7
d217 1
a217 1
is specified)
d267 1
a267 1
Unspecified, or
d270 1
a270 1
.Dq \&* .
d302 1
a302 1
c	RTF_CLONED	Cloned routes (generated from RTF_CLONING)
d323 4
a326 2
The 'L' flag appended to the mtu value indicates that the value is
locked, and that path mtu discovery is turned off for that route.
d355 1
d357 1
d363 2
@


1.32
log
@- Dv Ta -> Ta Dv
- kill a .br
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.31 2003/06/12 07:39:16 jmc Exp $
d286 1
@


1.31
log
@- document -ltu options;
from PR 3307 (Zoltan Glozik)
- sync SYNOPSIS and usage();

ok henning@@ deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.30 2003/06/05 20:01:35 jmc Exp $
d115 9
a123 9
.It "inet" Dv Ta "AF_INET" Ta "IP Version 4"
.It "inet6" Dv Ta "AF_INET6" Ta "IP Version 6"
.It "ipx" Dv Ta "AF_IPX" Ta "Novell IPX"
.It "atalk" Dv Ta "AF_APPLETALK" Ta "AppleTalk"
.It "ns" Dv Ta "AF_NS" Ta "Xerox NS Protocols"
.It "iso" Dv Ta "AF_ISO" Ta "ISO Protocol Family"
.It "encap" Dv Ta "PF_KEY" Ta "IPsec"
.It "local" Dv Ta "AF_LOCAL" Ta "Local to Host (i.e., pipes)"
.It "unix" Dv Ta "AF_UNIX" Ta "Local to Host (i.e., pipes)"
a137 1
.br
@


1.30
log
@remove some incorrect documentation;
from Aldo Cortesi (PR 3277);

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.29 2003/06/03 02:56:13 millert Exp $
d46 1
a46 1
.Op Fl bdgimnqrs
a56 1
.Op Fl p Ar protocol
d59 1
d166 8
d211 8
@


1.29
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.28 2002/09/18 07:33:47 deraadt Exp $
a60 4
.Op Fl p Ar protocol
.Op Fl i
.Op Fl I Ar Interface
.Nm netstat
d84 2
a85 2
The fifth and sixth forms display per interface statistics for
the specified protocol or address family.
d138 1
d144 3
a146 8
option) or the
.Fl p Ar protocol
option is present, show per-interface statistics on the given interface
for the specified
.Ar address_family
or
.Ar protocol ,
respectively.
d163 1
a163 3
option) or the
.Fl p Ar protocol
option is present, show per-interface statistics on all interfaces
d165 1
a165 4
.Ar address_family
or
.Ar protocol ,
respectively.
@


1.28
log
@fix Xr refs; frisco@@blackant.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.27 2001/11/09 00:56:24 miod Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.27
log
@Since all our arches have /dev/ksyms, replace rigid mentions of the kernel
being /bsd with more correct terms, and remove /bsd and /dev/kmem from the
FILES section if they were there.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.26 2001/08/26 09:42:04 brian Exp $
a344 1
.Xr trsp 8 ,
@


1.26
log
@Add a -q to silence zero-output lines and fix some whitespace and text nits.

Submitted by:	Sam Smith <S@@mSmith.net>
Ok:		theo
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.25 2001/06/25 00:41:39 niklas Exp $
d185 1
a185 2
instead of the default
.Pa /dev/kmem .
d190 1
a190 2
Extract the name list from the specified system instead of the default
.Pa /bsd .
a352 7
.\" .Sh FILES
.\" .Bl -tag -width /dev/kmem -compact
.\" .It Pa /bsd
.\" default kernel namelist
.\" .It Pa /dev/kmem
.\" default memory file
.\" .El
@


1.25
log
@Show a "3" in -r output if RTF_PROTO3 is set; ok itojun@@ and millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.24 2000/12/13 15:52:58 camield Exp $
d50 1
a50 1
.Op Fl bdgimnrs
d210 4
a213 3
.It Fl s
Show per-protocol statistics.
If this option is repeated, counters with a value of zero are suppressed.
d219 3
@


1.24
log
@Bytecounter stats. (-b switch)
From NetBSD. ok itojun@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.23 2000/12/11 17:33:07 provos Exp $
d283 1
@


1.23
log
@show when pmtu is disabled on routes, more information when verbose,
from NetBSD
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.22 2000/11/09 17:52:27 aaron Exp $
d50 1
a50 1
.Op Fl dgimnrs
d55 1
a55 1
.Op Fl dn
d105 4
@


1.22
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.21 2000/04/16 16:24:32 aaron Exp $
d301 2
@


1.21
log
@- Insert some .Pp here and there to make the man page easier to read.
- Put address family options into a columnated list with descriptions.
- `` '' -> .Dq and such.
- Xr netintro(4).
- Remove hard sentence breaks.
- Typo: specfied -> specified.
- Correct .Nm usage.
- Comma splice fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.20 2000/04/15 02:15:12 aaron Exp $
d96 1
a96 1
.Bl -tag -width flag
@


1.20
log
@Mostly punctuation fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.19 1999/12/08 12:30:17 itojun Exp $
d75 1
a75 1
.Nm netstat
d80 1
d88 1
a88 1
.Nm netstat
d114 16
a129 30
The following address families
are recognized:
.Ar inet ,
for
.Dv AF_INET ,
.Ar inet6 ,
for
.Dv AF_INET6 ,
.Ar ipx ,
for
.Dv AF_IPX ,
.Ar atalk ,
for
.Dv AF_APPLETALK ,
.Ar ns ,
for
.Dv AF_NS ,
.Ar iso ,
for
.Dv AF_ISO ,
.Ar encap ,
for
.Dv PF_KEY ,
.Ar local ,
for
.Dv AF_LOCAL ,
and
.Ar unix ,
for
.Dv AF_UNIX .
d137 2
a138 1
Show information about the specified interface;
d142 1
d149 2
a150 3
option is present, show per-interface statistics on the
.Ar interface
for the specfied
d157 3
a159 2
(interfaces statically configured into a system, but not
located at boot time are not shown).
d162 1
a162 1
options is also present, multicast addresses currently in use are shown
d166 1
d174 1
a174 1
for the specfied
d191 1
a191 1
.Nm netstat
d198 2
a199 2
which is either a well-known name for a protocol or an alias for it.  Some
protocol names and aliases are listed in the file
d211 1
a211 1
When
d213 1
a213 1
is also present, show routing statistics instead.
d226 5
a230 1
Address formats are of the form ``host.port'' or ``network.port''
d232 2
a233 2
When known the host and network addresses are displayed symbolically
according to the data bases
d237 2
a238 2
respectively.  If a symbolic name for an address is unknown, or if
the
d242 3
a244 2
For more information regarding
the Internet ``dot format,''
d247 4
a250 2
Unspecified,
or ``wildcard'' addresses and ports appear as ``*''.
d254 2
a255 1
``[]'' immediately after the port number.
d260 1
a260 1
and the maximum transmission unit (``MTU'') are also displayed.
d262 8
a269 7
The routing table display indicates the available routes and their
status.  Each route consists of a destination host or network and
a gateway to use in forwarding packets.  If the destination is a
network in numeric format, the netmask (in /24 style format) is
appended.  The flags field shows a collection of information about
the route stored as binary choices.  The individual flags are
discussed in more detail in the
d274 1
d292 1
a292 2
Direct routes are created for each
interface attached to the local host;
d294 8
a301 9
The refcnt field gives the
current number of active uses of the route.  Connection oriented
protocols normally hold on to a single route for the duration of
a connection while connectionless protocols obtain a route while sending
to the same destination.
The use field provides a count of the number of packets
sent using that route.  The MTU entry shows the MTU associated with
that route.  This MTU value is used as the basis for the TCP maximum
segment size (MSS).  A
d304 2
a305 2
TCP maximum segment size will be used.  The interface entry indicates
the network interface utilized for the route.
d308 1
a308 1
.Nm netstat
d324 2
a325 2
system was last rebooted.  Subsequent lines of output show values
accumulated over the preceding interval.
d329 1
d340 1
a340 1
.Nm netstat
@


1.19
log
@add IPv6 support from KAME.  cleanup type matches with printf() format.
KAME_SCOPEID should be enabled after KAME get{addr,name}info(3) merge.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.18 1999/09/01 17:22:03 aaron Exp $
d165 1
a165 1
.Ar protocol,
d187 1
a187 1
.Ar protocol,
@


1.18
log
@Correct SYNOPSYS; no -h option exists.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.17 1999/07/21 01:25:47 deraadt Exp $
d64 9
d91 2
d118 3
d154 13
d177 12
d225 2
a226 1
Be verbose. This currently has no effect.
d344 1
@


1.17
log
@use .Ar on later .It Fl lines
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.16 1999/06/05 01:21:34 aaron Exp $
d50 1
a50 1
.Op Fl dghimnrs
@


1.16
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.15 1999/05/16 19:57:59 alex Exp $
d150 1
a150 1
.It Fl M
d157 1
a157 1
.It Fl N
@


1.15
log
@Cleanup xrefs under SEE ALSO.  Specifically:

  - Sort xrefs by section, and then alphabetically.
  - Add missing commas between xref items.
  - Remove commas from the last xref entry.
  - Remove duplicate entries.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.14 1999/03/01 01:28:12 d Exp $
d39 1
a39 1
.Os BSD 4.2
d98 1
a98 1
.It Fl f Ar address_family 
d135 1
a135 1
.It Fl I Ar interface 
d166 1
a166 1
.It Fl p Ar protocol 
d239 1
a239 1
B	RTF_BLACKHOLE	Just discard pkts (during updates). 
@


1.14
log
@There is no -h flag
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.13 1999/02/24 22:57:34 angelos Exp $
d295 1
a297 1
.Xr iostat 8 ,
@


1.13
log
@Grok protocol/address family PF_KEY.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.12 1998/09/27 16:57:48 aaron Exp $
a134 4
.It Fl h
Show the state of the
.Tn IMP
host table (obsolete).
@


1.12
log
@usr.bin/ man page cleanups, n-s
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.11 1998/09/07 16:44:33 aaron Exp $
d121 1
a121 1
.Dv AF_ENCAP ,
@


1.11
log
@More man page fixes. Particularly fix uses of it's/its, affect/effect,
then/than and such. Other miscellaneous problems fixed across these source
files.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.10 1998/02/26 10:06:09 peter Exp $
d83 1
a83 1
The options have the following meaning:
d101 1
a101 1
.Ar address family  .
d104 1
a104 1
.Ar inet  ,
d106 1
a106 1
.Dv AF_INET  ,
d109 1
a109 1
.Dv AF_IPX  ,
d115 1
a115 1
.Dv AF_NS  ,
d122 1
a122 1
.Ar local  ,
d124 1
a124 1
.Dv AF_LOCAL  ,
d126 1
a126 1
.Ar unix  ,
d128 1
a128 1
.Dv AF_UNIX  .
d172 1
a172 1
.Ar protocol  ,
d190 1
a190 1
be verbose. This currently has no effect.
d215 1
a215 1
.Xr inet 3 ) .
d217 1
a217 1
or ``wildcard'', addresses and ports appear as ``*''.
d219 1
a219 1
.Xr portmap 8
d221 1
a221 1
[ ] immediately after the port number.
d226 1
a226 1
and the maximum transmission unit (``mtu'') are also displayed.
d241 7
a247 7
1	RTF_PROTO1	Protocol specific routing flag #1 
2	RTF_PROTO2	Protocol specific routing flag #2 
B	RTF_BLACKHOLE	Just discard pkts (during updates) 
C	RTF_CLONING	Generate new routes on use 
D	RTF_DYNAMIC	Created dynamically (by redirect) 
G	RTF_GATEWAY	Destination requires forwarding by intermediary
H	RTF_HOST	Host entry (net otherwise) 
d249 5
a253 5
M	RTF_MODIFIED	Modified dynamically (by redirect) 
R	RTF_REJECT	Host or net unreachable 
S	RTF_STATIC	Manually added 
U	RTF_UP	Route usable 
X	RTF_XRESOLVE	External daemon translates proto to link address
d265 3
a267 3
sent using that route.  The mtu entry shows the mtu associated with
that route.  This mtu value is used as the basis for the TCP maximum
segment size.  A
d269 1
a269 1
indicates that the mtu for this route has not been set, and a default
@


1.10
log
@* netstat -r [-n] now prints netmasks for network routes (in XXX/24 format).

* beginnings of a -v (verbose) option.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.9 1997/09/19 09:24:22 deraadt Exp $
d220 1
a220 1
it's RPC service name or RPC service number will be printed in
@


1.9
log
@typo; sjr@@home.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.8 1997/07/28 08:29:48 denny Exp $
d189 2
d228 7
a234 6
The routing table display indicates the available routes and
their status.  Each route consists of a destination host or network
and a gateway to use in forwarding packets.  The flags field shows
a collection of information about the route stored as
binary choices.  The individual flags are discussed in more
detail in the
@


1.8
log
@Note atalk family for AppleTalk
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.7 1997/06/18 04:07:05 angelos Exp $
d238 2
a239 2
1	RTF_PROTO2	Protocol specific routing flag #1 
2	RTF_PROTO1	Protocol specific routing flag #2 
@


1.7
log
@Document -f encap.
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.6 1997/02/16 10:26:39 deraadt Exp $
d110 3
@


1.6
log
@change from <> to [] and document
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.5 1997/02/01 17:31:20 kstailey Exp $
d116 3
@


1.5
log
@accept "-f local" for AF_LOCAL"
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.3 1996/07/08 22:09:42 ccappuc Exp $
d210 4
@


1.4
log
@ipx.
@
text
@d116 3
@


1.3
log
@kernel is /bsd, os is OpenBSD
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.2 1996/06/26 05:37:24 deraadt Exp $
d107 3
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: netstat.1,v 1.11 1995/10/03 21:42:43 thorpej Exp $
d151 1
a151 1
.Pa /netbsd .
d291 1
a291 1
.\" .It Pa /netbsd
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@

