head	1.17;
access;
symbols
	OPENBSD_6_1_BASE:1.17
	OPENBSD_6_0:1.17.0.2
	OPENBSD_6_0_BASE:1.17
	OPENBSD_5_9:1.15.0.6
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.15.0.8
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.15.0.2
	OPENBSD_5_7_BASE:1.15
	OPENBSD_5_6:1.15.0.4
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.14.0.30
	OPENBSD_5_5_BASE:1.14
	OPENBSD_5_4:1.14.0.26
	OPENBSD_5_4_BASE:1.14
	OPENBSD_5_3:1.14.0.24
	OPENBSD_5_3_BASE:1.14
	OPENBSD_5_2:1.14.0.22
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.20
	OPENBSD_5_0:1.14.0.18
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.14.0.16
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.14.0.14
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.14.0.10
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.14.0.12
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.8
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.14.0.6
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.14.0.4
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.13.0.16
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.13.0.14
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.12
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.10
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.13.0.8
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.13.0.6
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.13.0.4
	OPENBSD_3_5_BASE:1.13
	OPENBSD_3_4:1.13.0.2
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.12.0.6
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.12.0.4
	OPENBSD_3_2_BASE:1.12
	OPENBSD_3_1:1.12.0.2
	OPENBSD_3_1_BASE:1.12
	OPENBSD_3_0:1.9.0.4
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9_BASE:1.9
	OPENBSD_2_9:1.9.0.2
	OPENBSD_2_8:1.8.0.4
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.8.0.2
	OPENBSD_2_7_BASE:1.8
	OPENBSD_2_6:1.4.0.2
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.3.0.4
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.2.0.8
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.17
date	2016.03.17.07.18.34;	author jmc;	state Exp;
branches;
next	1.16;
commitid	l71wixFuXK442jh9;

1.16
date	2016.03.17.05.27.10;	author bentley;	state Exp;
branches;
next	1.15;
commitid	0afdJPZPXUfvItJV;

1.15
date	2014.04.24.15.03.04;	author tedu;	state Exp;
branches;
next	1.14;

1.14
date	2007.05.31.19.20.15;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2003.06.03.02.56.15;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2001.11.07.00.02.58;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2001.11.06.20.51.19;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2001.11.01.23.37.42;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2000.11.09.17.52.36;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	2000.04.15.02.15.12;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.23.21.39.54;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.10.20.17.51;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.05.00.28.54;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.06.05.01.21.39;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	98.09.27.16.57.52;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.38.56;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.46.04;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.46.04;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.17
log
@simplify previous; ok bentley
@
text
@.\"	$OpenBSD: rusers.1,v 1.16 2016/03/17 05:27:10 bentley Exp $
.\"
.\" Copyright (c) 1983, 1990 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     from: @@(#)rusers.1	6.7 (Berkeley) 4/23/91
.\"
.Dd $Mdocdate: March 17 2016 $
.Dt RUSERS 1
.Os
.Sh NAME
.Nm rusers
.Nd who is logged in to machines on local network
.Sh SYNOPSIS
.Nm rusers
.Op Fl al
.Op Fl h | Fl i | Fl u
.Op Ar hosts ...
.Sh DESCRIPTION
The
.Nm
command produces output similar to
.Xr who 1 ,
but for the list of hosts or all machines on the local network.
For each host responding to the rusers query,
the hostname with the names of the users currently logged
on is printed on each line.
The
.Nm
command will wait for 30 seconds to catch late responders.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a
Print all machines responding even if no one is currently logged in.
.It Fl h
Sort alphabetically by hostname.
.It Fl i
Sort by idle time in ascending order.
Unlike other implementations, when the
.Fl i
and
.Fl l
flags are mixed the output is sorted by the idle time of each individual user.
If the
.Fl l
flag is not specified, the idle time for a machine is considered to be
the lowest idle time of a user on that host.
.It Fl l
Print a long format listing.
This includes the user name, host name,
tty that the user is logged in to, the date and time the user
logged in, the amount of time since the user typed on the keyboard,
and the remote host they logged in from (if applicable).
.It Fl u
Sort by number of users logged in.
.El
.Sh ENVIRONMENT
.Bl -tag -width COLUMNS
.It Ev COLUMNS
If set to a positive integer,
output is formatted to the given width in columns.
Otherwise,
.Nm
defaults to the terminal width, or 80 columns if the output is not a terminal.
.El
.Sh DIAGNOSTICS
.Bl -tag -width indent
.It rusers: RPC: Program not registered
The
.Xr rpc.rusersd 8
daemon has not been started on the remote host.
.It rusers: RPC: Timed out
A communication error occurred.
Either the network is excessively congested, or the
.Xr rpc.rusersd 8
daemon has terminated on the remote host.
.It rusers: RPC: Port mapper failure - RPC: Timed out
The remote host is not running the portmapper (see
.Xr portmap 8 ) ,
and cannot accommodate any RPC-based services.
The host may be down.
.El
.Sh SEE ALSO
.Xr users 1 ,
.Xr who 1 ,
.Xr portmap 8 ,
.Xr rpc.rusersd 8
.Sh HISTORY
The
.Nm
command appeared in
.Tn SunOS .
@


1.16
log
@Switch (non-curses, non-ksh) programs that use COLUMNS to a single idiom.

Previously behaviors were all over the map. This changes them to
use COLUMNS first, and either terminal width or a hardcoded value
(typically 80) as appropriate.

ok deraadt@@; man bits ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.15 2014/04/24 15:03:04 tedu Exp $
d32 1
a32 1
.Dd $Mdocdate: April 24 2014 $
a85 1
.Nm Ns 's
@


1.15
log
@rm rwho xr
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.14 2007/05/31 19:20:15 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: May 31 2007 $
d81 10
@


1.14
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.13 2003/06/03 02:56:15 millert Exp $
d32 1
a32 1
.Dd $Mdocdate$
a99 1
.Xr rwho 1 ,
@


1.13
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.12 2001/11/07 00:02:58 millert Exp $
d32 1
a32 1
.Dd April 23, 1991
@


1.12
log
@When mixing the -l and -i flags sort on each individual user's
idle time, not the minimum idle tiem of all users on the host.
This makes the -i option much more useful...
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.11 2001/11/06 20:51:19 millert Exp $
d14 1
a14 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.11
log
@implement missing sorting options
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.10 2001/11/01 23:37:42 millert Exp $
d68 9
@


1.10
log
@Major overhaul.

Add protocol version 3 support.  To avoid doing two separate broadcasts
(like the solaris client does) we now do the equivalent of clnt_broadcast()
ourselves and send both version 2 and 3 broadcasts.  These are staggered
such that under normal circumstances the version 3 reply will be received
before the version 2 reply (which is what we want).  Version 3 support
is important now that we have long user and host names in utmp.

Avoid potential duplicates on multihomed machines by storing all
the addresses we get back from gethostbyaddr(), not just a single
address.

Reduce the timeout from 1 minute to 30 seconds which is closer to
what Solaris uses and is generally more useful.

Check window width and take this into account when formatting lines
in -l mode.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.9 2000/11/09 17:52:36 aaron Exp $
d45 2
a46 1
.Op Ar host ...
d64 4
d74 2
d103 1
a103 2
command
appeared in
a104 2
.Sh BUGS
The sorting options are not implemented.
@


1.9
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.8 2000/04/15 02:15:12 aaron Exp $
d57 1
a57 2
command will wait for
one minute to catch late responders.
@


1.8
log
@Mostly punctuation fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.7 2000/03/23 21:39:54 aaron Exp $
d61 1
a61 1
.Bl -tag -width indent
@


1.7
log
@More pedantic man page formatting insanity, lalala
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.6 2000/03/10 20:17:51 aaron Exp $
d84 1
a84 1
.Xr portmap 8 ),
@


1.6
log
@Various cleanups and standardization.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.5 2000/03/05 00:28:54 aaron Exp $
d51 2
a52 2
but for the list of hosts or all machines on the local
network. For each host responding to the rusers query,
d54 2
a55 1
on is printed on each line. The
d65 2
a66 1
Print a long format listing. This includes the user name, host name,
@


1.5
log
@Finish standardizing options list introduction.
@
text
@d1 2
a2 1
.\"	$OpenBSD: rusers.1,v 1.4 1999/06/05 01:21:39 aaron Exp $
d48 1
a48 1
.Nm rusers
d55 1
a55 1
.Nm rusers
d76 2
a77 2
A communication error occurred.  Either the network is
excessively congested, or the
d83 2
a84 1
and cannot accommodate any RPC-based services.  The host may be down.
d94 1
a94 1
.Nm rusers
@


1.4
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.3 1998/09/27 16:57:52 aaron Exp $
d58 1
a58 1
The following options are available:
@


1.3
log
@usr.bin/ man page cleanups, n-s
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.2 1996/06/26 05:38:56 deraadt Exp $
d37 1
a37 1
.Os BSD 4.2
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: rusers.1,v 1.1.1.1 1995/10/18 08:46:04 deraadt Exp $
d49 1
a49 1
.Xr who ,
d53 3
a55 1
on is printed on each line. The rusers command will wait for
d85 1
a85 1
.Xr rwho 1
@


1.1
log
@Initial revision
@
text
@d1 1
a33 1
.\"	$Id: rusers.1,v 1.5 1994/01/11 18:30:14 jtc Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
