head	1.18;
access;
symbols
	OPENBSD_6_2:1.18.0.34
	OPENBSD_6_2_BASE:1.18
	OPENBSD_6_1:1.18.0.32
	OPENBSD_6_1_BASE:1.18
	OPENBSD_6_0:1.18.0.28
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.24
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.18.0.26
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.18.0.18
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.18.0.22
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.18.0.20
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.18.0.16
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.18.0.14
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.12
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.10
	OPENBSD_5_0:1.18.0.8
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.6
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.18.0.4
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.2
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.17.0.12
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.17.0.8
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.17.0.6
	OPENBSD_4_4_BASE:1.17
	OPENBSD_4_3:1.17.0.4
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.17.0.2
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.15.0.14
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.15.0.12
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.10
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.8
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.15.0.6
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.15.0.4
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.15.0.2
	OPENBSD_3_5_BASE:1.15
	OPENBSD_3_4:1.14.0.4
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.14.0.2
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.13.0.8
	OPENBSD_3_2_BASE:1.13
	OPENBSD_3_1:1.13.0.6
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.13.0.4
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9_BASE:1.13
	OPENBSD_2_9:1.13.0.2
	OPENBSD_2_8:1.11.0.2
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.8.0.2
	OPENBSD_2_6_BASE:1.8
	OPENBSD_2_5:1.6.0.2
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.5.0.2
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.3.0.6
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.4
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2;
locks; strict;
comment	@# @;


1.18
date	2009.12.10.00.45.43;	author schwarze;	state Exp;
branches;
next	1.17;

1.17
date	2007.05.31.19.20.12;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2007.03.15.22.24.18;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2003.09.25.18.06.23;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2003.02.03.17.46.57;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2000.11.10.05.10.32;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	2000.11.09.17.52.19;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	2000.07.06.04.06.55;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	2000.04.18.03.07.13;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.05.00.28.53;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	99.06.05.01.21.31;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	99.05.23.14.11.30;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	98.12.16.02.38.49;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	98.09.26.19.54.59;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	98.08.12.07.27.09;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	97.01.04.01.36.01;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	96.09.15.16.50.39;	author michaels;	state Exp;
branches;
next	1.1;

1.1
date	96.08.17.09.37.46;	author michaels;	state Exp;
branches;
next	;


desc
@@


1.18
log
@Eliminate the confusing term "find codes database" which is used nowhere else.
It made people miss the fact we are just talking about /var/db/locate.database.
Expicitely say that output will be sent to that file.

Problem noted by, feedback and OK jmc@@.
@
text
@.\"	$OpenBSD: locate.updatedb.8,v 1.17 2007/05/31 19:20:12 jmc Exp $
.\"
.\" Copyright (c) 1996
.\"	Mike Pritchard <mpp@@FreeBSD.org>.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by Mike Pritchard.
.\" 4. Neither the name of the author nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: May 31 2007 $
.Dt LOCATE.UPDATEDB 8
.Os
.Sh NAME
.Nm locate.updatedb
.Nd update locate database
.Sh SYNOPSIS
.Nm locate.updatedb
.Op Cm --fcodes=dbfile
.Op Cm --filesystems='type ...'
.Op Cm --prunepaths='dir ...'
.Op Cm --searchpaths='dir ...'
.Op Cm --tmpdir=dir
.Sh DESCRIPTION
.Nm
updates the database used by
.Xr locate 1 .
It is typically run once a week by the
.Pa /etc/weekly
script.
.Pp
The contents of the newly built database can be controlled by the
.Pa /etc/locate.rc
file as well as the command line arguments.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl -fcodes
Output to an alternate database file instead of the default
.Pa /var/db/locate.database .
If
.Ql \-
is specified in place of the file name,
send the database to the standard output.
.It Fl -filesystems
A list of filesystem types to be traversed by
.Xr find 1 .
.It Fl -prunepaths
Sets the list of parent directories that should not go in
the database.
.It Fl -searchpaths
Sets the list of directories to be put in the database.
.It Fl -tmpdir
Sets the directory temporary files are stored in.
.El
.Sh FILES
.Bl -tag -width /var/db/locate.database -compact
.It Pa /etc/locate.rc
configuration file
.It Pa /var/db/locate.database
default database
.El
.Sh SEE ALSO
.Xr find 1 ,
.Xr locate 1 ,
.Xr weekly 8
.Rs
.%A Woods, James A.
.%D 1983
.%T "Finding Files Fast"
.%J ";login"
.%V 8:1
.%P pp. 8-10
.Re
@


1.17
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.16 2007/03/15 22:24:18 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
d61 3
a63 2
Use the named file as the find codes database.
If the file name
d65 2
a66 1
is given, the database will be sent to standard output.
@


1.16
log
@simplify synopsis/usage() and sort options. also fixes documentation/5411
from han
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.15 2003/09/25 18:06:23 jmc Exp $
d33 1
a33 1
.Dd February 11, 1996
@


1.15
log
@- indent and literal for examples
- sort FILES
- .Xr weekly 8
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.14 2003/02/03 17:46:57 jmc Exp $
d41 5
a45 7
.Bk -words
.Op Fl -tmpdir=dir
.Op Fl -fcodes=dbfile
.Op Fl -searchpaths='dir1 dir2...'
.Op Fl -prunepaths='dir1 dir2...'
.Op Fl -filesystems='type1 type2...'
.Ek
a59 2
.It Fl -tmpdir
Sets the directory temporary files are stored in.
d65 3
a67 2
.It Fl -searchpaths
Sets the list of directories to be put in the database.
d71 4
a74 3
.It Fl -filesystems
A list of filesystem types to be traversed by
.Xr find 1 .
@


1.14
log
@typos;
ipsecadm(8): examples ho@@
	     help and ok markus@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.13 2000/11/10 05:10:32 aaron Exp $
d80 2
a83 2
.It Pa /etc/locate.rc
configuration file
d87 2
a88 1
.Xr locate 1
@


1.13
log
@- Section shuffling: comply to the section ordering outlined in mdoc(7).
- Some .Nm trimming.
- .Sh AUTHOR -> .Sh AUTHORS
- Other miscellaneous fixes here and there.
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.12 2000/11/09 17:52:19 aaron Exp $
d41 1
d47 1
d72 1
a72 1
Sets the list of parent directories that should not be go in
@


1.12
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.11 2000/07/06 04:06:55 aaron Exp $
d47 1
a47 1
.Nm locate.updatedb
@


1.11
log
@Insert more missing .El directives. Our troff really should identify these and
spit out a warning.
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.10 2000/04/18 03:07:13 aaron Exp $
d59 1
a59 1
.Bl -tag -width -filesystems
@


1.10
log
@Missed a few.
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.9 2000/03/05 00:28:53 aaron Exp $
d75 1
@


1.9
log
@Finish standardizing options list introduction.
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.8 1999/06/05 01:21:31 aaron Exp $
d63 2
a64 2
Use the named file as the find codes database.  If the file
name
@


1.8
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.7 1999/05/23 14:11:30 aaron Exp $
d57 2
a58 1
.Sh OPTIONS
a59 1
The available options are as follows:
@


1.7
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.6 1998/12/16 02:38:49 aaron Exp $
d64 3
a66 1
name ``-'' is given, the database will be sent to standard output.
@


1.6
log
@more .Nm fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.5 1998/09/26 19:54:59 aaron Exp $
d35 1
a35 1
.Os BSD 4.4
@


1.5
log
@usr.bin/ man page fixes, f-m.
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.4 1998/08/12 07:27:09 deraadt Exp $
d40 1
a40 1
.Nm /usr/libexec/locate.updatedb
@


1.4
log
@fix more errors
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.3 1997/01/04 01:36:01 millert Exp $
d47 1
a47 1
.Nm Locate.updatedb
d76 1
a76 1
the default database
d78 1
a78 1
the configuration file
d81 2
a82 2
.Xr locate 1 ,
.Xr find 1 
@


1.3
log
@Command line args to updatedb.  Also, a filename of "-" for the db
means output to stdout.
@
text
@d1 1
a1 1
.\"	$OpenBSD: locate.updatedb.8,v 1.2 1996/09/15 16:50:39 michaels Exp $
d41 5
a45 5
.Op Fl --tmpdir=dir
.Op Fl --fcodes=dbfile
.Op Fl --searchpaths='dir1 dir2...'
.Op Fl --prunepaths='dir1 dir2...'
.Op Fl --filesystems='type1 type2...'
d58 1
a58 1
.Bl -tag -width --filesystems
d60 1
a60 1
.It Fl --tmpdir
d62 1
a62 1
.It Fl --fcodes
d65 1
a65 1
.It Fl --searchpaths
d67 1
a67 1
.It Fl --prunepaths
d70 1
a70 1
.It Fl --filesystems
d81 2
a82 1
.Xr locate 1
@


1.2
log
@Blind update of wosch@@FreeBSD's code:

optimized search algorithm
faster IO due mmap(2) [-m | -s]
better error check for damaged databases
support for databases in network byte order (SunOS/sparc)
optional case insensitve search [-i]
optional multiple databases
optional multiple pattern
new enviroment variable LOCATE_PATH for database(s)
[-S] print some statistic about the database
[-l number] limit output to number file names
[-c] suppress normal output; instead print a count of matching file names
fix prototypes/forward declarations/return type
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d41 5
d51 2
a52 1
.Nm /etc/weekly script.
d55 18
a72 1
.Nm /etc/locate.rc file.
d76 1
a76 1
the actual database
@


1.1
log
@argv.
@
text
@d1 2
d47 3
d52 4
a55 1
.It Pa /var/db/locate.database the actual database
@
