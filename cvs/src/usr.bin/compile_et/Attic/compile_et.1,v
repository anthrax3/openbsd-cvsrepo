head	1.17;
access;
symbols
	OPENBSD_5_3:1.16.0.18
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.16.0.16
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.14
	OPENBSD_5_0:1.16.0.12
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.16.0.10
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.16.0.8
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.16.0.4
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.16.0.6
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.16.0.2
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.15.0.4
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.13.0.12
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.13.0.10
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.8
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.6
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.13.0.4
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.13.0.2
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.12.0.12
	OPENBSD_3_5_BASE:1.12
	OPENBSD_3_4:1.12.0.10
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.12.0.8
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.12.0.6
	OPENBSD_3_2_BASE:1.12
	OPENBSD_3_1:1.12.0.4
	OPENBSD_3_1_BASE:1.12
	OPENBSD_3_0:1.12.0.2
	OPENBSD_3_0_BASE:1.12
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_9:1.11.0.2
	OPENBSD_2_8:1.10.0.4
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.4.0.4
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.3.0.4
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.2
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.2.0.2
	OPENBSD_2_1_BASE:1.2;
locks; strict;
comment	@# @;


1.17
date	2013.06.17.19.17.15;	author robert;	state dead;
branches;
next	1.16;

1.16
date	2008.10.02.23.55.18;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	2007.10.07.15.46.17;	author deraadt;	state Exp;
branches;
next	1.14;

1.14
date	2007.05.31.19.20.08;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2004.04.03.21.43.36;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2001.07.20.19.09.45;	author mpech;	state Exp;
branches;
next	1.11;

1.11
date	2000.11.10.05.10.23;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.23.21.10.14;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.05.20.09.21;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.19.12.07.18;	author hin;	state Exp;
branches;
next	1.7;

1.7
date	2000.01.03.00.18.05;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.07.07.10.50.07;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.07.04.11.53.52;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	98.09.23.04.32.38;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	97.07.01.07.22.04;	author grr;	state Exp;
branches;
next	1.2;

1.2
date	96.11.11.05.45.45;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	96.11.11.05.06.33;	author downsj;	state Exp;
branches;
next	;


desc
@@


1.17
log
@remove asn1_compile and compile_et from usr.bin because they
have found a new home in src/kerberosV/tools
@
text
@.\" Copyright (c) 1988 Massachusetts Institute of Technology,
.\" Student Information Processing Board.  All rights reserved.
.\"
.\" $OpenBSD: compile_et.1,v 1.16 2008/10/02 23:55:18 deraadt Exp $
.\"
.Dd $Mdocdate: October 2 2008 $
.Dt COMPILE_ET 1
.Os
.Sh NAME
.Nm compile_et
.Nd error table compiler
.Sh SYNOPSIS
.Nm compile_et
.Ar file
.Sh DESCRIPTION
.Nm
converts a table listing error-code names and associated messages into
a C source file suitable for use with the
.Xr com_err 3
library.
.Pp
The source file name must end with a suffix of
.Dq .et ;
the file
consists of headers and declarations supplying the name (up to four characters
long) of the error-code table.
.Pp
The file may have these declarations:
.Bl -tag -width Ds
.It Sy id Ar string
Specify
.Ar string
as a revision control system tag.
.It Sy prefix Ar string
Prepends
.Ar string
to all error codes specified in the file.
.It Sy error_table Ar name
Specifies the name of the error table.
.It Sy index Ar number
Sets the assigned error number for the next entry.
.It Xo Sy error_code
.Ar name ,
.Qq Ar string
.Xc
Declares an error code called
.Ar name
with description
.Ar string ;
up to 256 error codes are allowed.
.It Sy end
Indicates the end of the table.
.El
.Pp
The name of the table is used to construct the name of a subroutine
.Em initialize_XXXX_error_table
which must be called in order for the
.Xr com_err 3
library to recognize the error table.
.Pp
The various error codes defined are assigned sequentially increasing
numbers (starting with a large number computed as a hash function of
the name of the table); thus for compatibility it is suggested that
new codes be added only to the end of an existing table, and that no
codes be removed from tables.
.Pp
The names defined in the table are placed into a C header file with
preprocessor directives defining them as integer constants of up to
32 bits in magnitude.
.Pp
A C source file is also generated which should be compiled and linked
with the object files which reference these error codes; it contains
the text of the messages and the initialization subroutine.
Both C files have names derived from that of the original source file, with
the
.Dq .et
suffix replaced by
.Dq \&.c
and
.Dq \&.h .
.Pp
A hash mark
.Pq Ql #
in the source file is treated as a comment character; subsequent
characters to the end of the source line will be ignored.
.Sh SEE ALSO
.Xr yacc 1 ,
.Xr com_err 3
.Rs
.%A Ken Raeburn
.%T "A Common Error Description Library for UNIX"
.Re
.Sh BUGS
Since
.Nm
uses a very simple parser based on
.Xr yacc 1 ,
its error recovery leaves much to be desired.
@


1.16
log
@get rid of some unneeded $Id stuff
@
text
@d4 1
a4 1
.\" $OpenBSD: compile_et.1,v 1.15 2007/10/07 15:46:17 deraadt Exp $
d6 1
a6 1
.Dd $Mdocdate: October 7 2007 $
@


1.15
log
@delete ugly $Header stuff; pr 5595
@
text
@d4 1
a4 2
.\" $OpenBSD: compile_et.1,v 1.14 2007/05/31 19:20:08 jmc Exp $
.\" $Id$
d6 1
a6 1
.Dd $Mdocdate: May 31 2007 $
@


1.14
log
@convert to new .Dd format;
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.13 2004/04/03 21:43:36 jmc Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.13 2004/04/03 21:43:36 jmc Exp $
d7 1
a7 1
.Dd $Mdocdate$
@


1.13
log
@.br workaround no longer necessary;
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.12 2001/07/20 19:09:45 mpech Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.12 2001/07/20 19:09:45 mpech Exp $
d7 1
a7 1
.Dd November 22, 1988
@


1.12
log
@we don't like:
o) .Pp before/after .Sh;
o) .Pp before/after .Sh;
o) .Nm without argument in SYNOPSIS;
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.11 2000/11/10 05:10:23 aaron Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.11 2000/11/10 05:10:23 aaron Exp $
a89 2
.\" XXX - use .br here to work-around apparent bug in mdoc
.br
@


1.11
log
@- Section shuffling: comply to the section ordering outlined in mdoc(7).
- Some .Nm trimming.
- .Sh AUTHOR -> .Sh AUTHORS
- Other miscellaneous fixes here and there.
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.10 2000/03/23 21:10:14 aaron Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.10 2000/03/23 21:10:14 aaron Exp $
a91 1
.Pp
@


1.10
log
@Fix some formatting problems I missed before.
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.9 2000/03/05 20:09:21 aaron Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.9 2000/03/05 20:09:21 aaron Exp $
a86 6
.Sh BUGS
Since
.Nm
uses a very simple parser based on
.Xr yacc 1 ,
its error recovery leaves much to be desired.
d97 6
@


1.9
log
@Various improvements, including a few HISTORY sections added from FreeBSD.
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.8 2000/02/19 12:07:18 hin Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.8 2000/02/19 12:07:18 hin Exp $
d7 1
a7 1
.Dd	November 22, 1988
d74 2
a75 2
the text of the messages and the initialization subroutine.  Both C
files have names derived from that of the original source file, with
@


1.8
log
@Update to a newer version from KTH-Kerberos.
(most work by art@@)
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.7 2000/01/03 00:18:05 aaron Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.7 2000/01/03 00:18:05 aaron Exp $
d23 3
a25 1
The source file name must end with a suffix of ``.et''; the file
d28 1
a28 1

d30 25
a54 31

.Em id string

where string is a revision control system tag.

.Em prefix string

where string is prepended to all error codes specified in the file.

.Em error_table name

which specifies the name of the error table.

.Em index number

sets the assigned error number for the next entry.

.Em error_code name ,
"
.Em string
"

declares an error code called name with description name. Upto
256 error codes are allowed.

and a final

.Em end

to indicate the end of the table.

d76 11
a86 4
the ``.et'' suffix replaced by ``.c'' and ``.h''.
.Pp
A ``#'' in the source file is treated as a comment character, and all
remaining text to the end of the source line will be ignored.
d96 2
@


1.7
log
@.Sh "SEE ALSO" -> .Sh SEE ALSO; pjanzen@@
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.6 1999/07/07 10:50:07 aaron Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.6 1999/07/07 10:50:07 aaron Exp $
d24 12
a35 2
consists of a declaration supplying the name (up to four characters
long) of the error-code table:
d39 5
a43 1
followed by up to 256 entries of the form:
d50 3
d58 1
@


1.6
log
@The proper order of the ``introductory'' macros in a man page is .Dd/.Dt/.Os.
Out of the approximately 1450 man pages, only about 90 of them were wrong.
Thanks to kwesterback@@home.com for coming up with a script and patch to repair
this. The patch also inserted a .Os macro in the few man pages that were
missing one.
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.5 1999/07/04 11:53:52 aaron Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.5 1999/07/04 11:53:52 aaron Exp $
d72 1
a72 1
.Sh "SEE ALSO"
@


1.5
log
@correct use of .Nm; some other formatting nits
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.4 1998/09/23 04:32:38 aaron Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.4 1998/09/23 04:32:38 aaron Exp $
d8 1
a9 1
.Dt COMPILE_ET 1
@


1.4
log
@usr.bin/ man page repairs, a - e
@
text
@d4 2
a5 2
.\" $OpenBSD: compile_et.1,v 1.3 1997/07/01 07:22:04 grr Exp $
.\" $Header: /cvs/src/usr.bin/compile_et/compile_et.1,v 1.3 1997/07/01 07:22:04 grr Exp $
d17 1
a17 1
.Nm compile_et
d68 1
a68 1
.Nm compile_et
@


1.3
log
@Updated (troff macros) manpage from FreeBSD-current.  No other source
changes, our's actually looks newer/cleaner...
@
text
@d4 2
a5 2
.\" $OpenBSD$
.\" $Header: /home/ncvs/src/usr.bin/compile_et/compile_et.1,v 1.2 1997/06/30 06:42:38 charnier Exp $
d17 1
a17 1
.Nm Compile_et
@


1.2
log
@kill path ref
@
text
@d4 2
a5 1
.\" $OpenBSD: compile_et.1,v 1.1 1996/11/11 05:06:33 downsj Exp $
d7 11
a17 8
.TH COMPILE_ET 1 "22 Nov 1988" SIPB
.SH NAME
compile_et \- error table compiler
.SH SYNOPSIS
.B compile_et
file
.SH DESCRIPTION
.B Compile_et
d20 1
a20 1
.IR com_err (3)
d22 1
a22 1

d27 1
a27 2
.B error_table
.I name
d31 1
a31 2
.B error_code
.I name,
d33 1
a33 1
.I string
d38 1
a38 1
.B end
d41 1
a41 1

d43 1
a43 1
.I initialize_XXXX_error_table
d45 1
a45 1
.I com_err
d47 1
a47 1

d53 1
a53 1

d57 1
a57 1

d63 1
a63 1

d66 1
a66 3

.SH BUGS

d68 1
a68 1
.B compile_et
d70 1
a70 1
.IR yacc (1),
d72 8
a79 8

.\" .IR for manual entries
.\" .PP for paragraph breaks

.SH "SEE ALSO"
com_err (3).

Ken Raeburn, "A Common Error Description Library for UNIX".
@


1.1
log
@compile_et now resides in /usr/libexec.
@
text
@d4 1
a4 1
.\" $OpenBSD$
d10 1
a10 1
.B /usr/libexec/compile_et
@
