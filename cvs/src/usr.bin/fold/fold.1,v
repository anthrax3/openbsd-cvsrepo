head	1.19;
access;
symbols
	OPENBSD_6_1:1.19.0.4
	OPENBSD_6_1_BASE:1.19
	OPENBSD_6_0:1.18.0.2
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.17.0.2
	OPENBSD_5_9_BASE:1.17
	OPENBSD_5_8:1.16.0.18
	OPENBSD_5_8_BASE:1.16
	OPENBSD_5_7:1.16.0.10
	OPENBSD_5_7_BASE:1.16
	OPENBSD_5_6:1.16.0.14
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.16.0.12
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.16.0.8
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.16.0.6
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.16.0.4
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.15.0.4
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.2
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.14.0.4
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.14.0.2
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.13.0.6
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.13.0.2
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.12.0.6
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.12.0.4
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.10.0.2
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.8.0.14
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.8.0.12
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.8.0.10
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.8
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.8.0.6
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.4
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.2
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.7.0.8
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.7.0.6
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.7.0.4
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.7.0.2
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_9:1.6.0.2
	OPENBSD_2_8:1.5.0.6
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.5.0.4
	OPENBSD_2_7_BASE:1.5
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.3.0.4
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.2.0.8
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.19
date	2016.10.24.13.46.58;	author schwarze;	state Exp;
branches;
next	1.18;
commitid	exLg5RWnU06ZBxJ9;

1.18
date	2016.05.23.10.31.42;	author schwarze;	state Exp;
branches;
next	1.17;
commitid	rPKQvMT0zs2LfVQm;

1.17
date	2016.01.05.12.44.55;	author schwarze;	state Exp;
branches;
next	1.16;
commitid	eTbtVbhnfyEQ15Kz;

1.16
date	2011.12.28.22.27.18;	author schwarze;	state Exp;
branches;
next	1.15;

1.15
date	2010.09.03.11.09.28;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2009.08.16.09.41.08;	author sobrado;	state Exp;
branches;
next	1.13;

1.13
date	2009.02.08.17.15.09;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.31.19.20.10;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2007.05.30.04.41.34;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2006.12.16.08.56.35;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2006.12.16.08.55.42;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2003.06.03.02.56.08;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2001.06.26.01.45.17;	author pjanzen;	state Exp;
branches;
next	1.6;

1.6
date	2000.11.09.17.52.10;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.07.21.01.25.43;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	99.06.05.01.21.25;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	98.09.26.19.54.44;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.33.22;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.45.15;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.45.15;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Unify wording for LC_CTYPE in ENVIRONMENT:
* Consistently use "character encoding locale" as suggested by stsp@@.
* Resolve various gratuitious wording variations.
OK jmc@@.
@
text
@.\"	$OpenBSD: fold.1,v 1.18 2016/05/23 10:31:42 schwarze Exp $
.\"	$NetBSD: fold.1,v 1.5 1995/09/01 01:42:42 jtc Exp $
.\"
.\" Copyright (c) 1980, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@@(#)fold.1	8.1 (Berkeley) 6/6/93
.\"
.Dd $Mdocdate: May 23 2016 $
.Dt FOLD 1
.Os
.Sh NAME
.Nm fold
.Nd fold long lines for finite width output device
.Sh SYNOPSIS
.Nm fold
.Op Fl bs
.Op Fl w Ar width
.Op Ar
.Sh DESCRIPTION
.Nm
is a filter which folds the contents of the specified files,
or the standard input if no files are specified,
breaking the lines to have a maximum of 80 display columns.
.Pp
The options are as follows:
.Bl -tag -width 8n
.It Fl b
Count
.Ar width
in bytes rather than column positions.
.It Fl s
If an output line would be broken after a non-blank character but
contains at least one blank character, break the line earlier,
after the last blank character.
This is useful to avoid line breaks in the middle of words, if
possible.
.It Fl w Ar width
Specifies a line width to use instead of the default of 80.
.El
.Pp
Unless
.Fl b
is specified, a backspace character decrements the column position
by one, a carriage return resets the column position to zero, and
a tab advances the column position to the next multiple of eight.
.Sh ENVIRONMENT
.Bl -tag -width 8n
.It Ev LC_CTYPE
The character encoding
.Xr locale 1 .
It decides which byte sequences form characters
and what their display width is.
If unset or set to
.Qq C ,
.Qq POSIX ,
or an unsupported value, each byte except backspace, tab, newline,
and carriage return is treated as a character of display width 1.
.El
.Sh EXIT STATUS
.Ex -std fold
.Sh SEE ALSO
.Xr expand 1 ,
.Xr fmt 1
.Sh STANDARDS
The
.Nm
utility is compliant with the
.St -p1003.1-2008
specification.
.Sh HISTORY
The
.Nm
utility first appeared in
.Bx 1 .
It was rewritten for
.Bx 4.3 Reno
to improve speed and modernize style.
The
.Fl b
and
.Fl s
options were added to
.Nx 1.0
for
.St -p1003.2
compliance.
.Sh AUTHORS
.An -nosplit
.An Bill Joy
wrote the original version of
.Nm
on June 28, 1977.
.An Kevin Ruddy
rewrote the command in 1990, and
.An J. T. Conklin
added the missing options in 1993.
.Sh BUGS
Traditional
.Xr roff 7
output semantics, implemented both by GNU nroff and by
.Xr mandoc 1 ,
only uses a single backspace for backing up the previous character,
even for double-width characters.
The
.Nm
backspace semantics required by POSIX mishandles such backspace-encoded
sequences, breaking lines early.
The
.Xr fmt 1
utility provides similar functionality and does not suffer from that
problem, but isn't standardized by POSIX.
@


1.18
log
@UTF-8 support.

Using feedback about bugs in earlier versions from Matthew Martin
<phy1729 at gmail dot com> and from tsg@@ who tested it with afl(1).

OK czarkoff@@ tsg@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.17 2016/01/05 12:44:55 schwarze Exp $
d33 1
a33 1
.Dd $Mdocdate: January 5 2016 $
d74 1
a74 1
The character set
d76 3
a78 3
It is used to decide which byte sequences form characters and what
their display width is.
If it is unset or set to
d82 1
a82 2
and carriage return is assumed to represent a character of display
width 1.
@


1.17
log
@Preliminary fixes to make the description of -s easier to understand,
and to clarify that fold(1) is intended to count display column positions
rather than characters.
More work is needed on the code to add UTF-8 support and to fix other
POSIX violations, and in that context, further updates to the manual
will also be needed.
Triggered by a different diff from Michal Mazurek <akfaew at jasminek dot net>.
OK on the wording jmc@@, but he didn't check the content.
Part of the content verified by guenther@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.16 2011/12/28 22:27:18 schwarze Exp $
d33 1
a33 1
.Dd $Mdocdate: December 28 2011 $
d51 1
a51 1
.Bl -tag -width Ds
d65 20
d88 2
a89 1
.Xr expand 1
d124 14
a137 12
If underlining (see
.Xr ul 1 )
is present it may be messed up by folding.
.Pp
.Ar width
should be a multiple of 8 if tabs are present, or the tabs should
be expanded using
.Xr expand 1
before using
.Nm fold .
.Pp
Multibyte character support is missing.
@


1.16
log
@Complete documenting the HISTORY of what remains of the 1BSD heritage;
actually, the number of programs is quite small, about ten all told.
feedback mckusick@@, feedback and ok sobrado@@, ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.15 2010/09/03 11:09:28 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: September 3 2010 $
d48 1
a48 1
breaking the lines to have a maximum of 80 characters.
d57 5
a61 3
Fold line after the last blank character within the first
.Ar width
column positions (or bytes).
d63 1
a63 1
Specifies a line width to use instead of the default 80 characters.
d113 2
@


1.15
log
@add an EXIT STATUS section for /usr/bin;
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.14 2009/08/16 09:41:08 sobrado Exp $
d33 1
a33 1
.Dd $Mdocdate: August 16 2009 $
d73 27
@


1.14
log
@replace ".Ar file ..." with ".Ar" whenever possible.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.13 2009/02/08 17:15:09 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: February 8 2009 $
d63 1
a63 1
.Pp
@


1.13
log
@bump the posix reference in STANDARDS to IEEE Std 1003.1-2008, with a few
updates to follow;
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.12 2007/05/31 19:20:10 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
d43 1
a43 1
.Op Ar file ...
@


1.12
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.11 2007/05/30 04:41:34 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
d71 1
a71 1
.St -p1003.1-2004
@


1.11
log
@- use a consistent text for STANDARDS
- note which options are extensions to POSIX
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.10 2006/12/16 08:56:35 jmc Exp $
d33 1
a33 1
.Dd June 6, 1993
@


1.10
log
@+.Ex -std fold
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.9 2006/12/16 08:55:42 jmc Exp $
d70 3
a72 2
utility conforms to
.St -p1003.2-92 .
@


1.9
log
@"Mention what underlining is meant here."
from ru@@freebsd, -r1.13;
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.8 2003/06/03 02:56:08 millert Exp $
d64 1
a64 3
The
.Nm
utility exits 0 on success or >0 if an error occurred.
@


1.8
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.7 2001/06/26 01:45:17 pjanzen Exp $
d75 3
a77 1
If underlining is present it may be messed up by folding.
@


1.7
log
@file is optional; Brian Poole <raj@@cerias.purdue.edu>
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.6 2000/11/09 17:52:10 aaron Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.6
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.5 1999/07/21 01:25:43 deraadt Exp $
d47 1
a47 1
.Ar file Op Ar ...
@


1.5
log
@use .Ar on later .It Fl lines
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.4 1999/06/05 01:21:25 aaron Exp $
d55 1
a55 1
.Bl -tag -width indent
@


1.4
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.3 1998/09/26 19:54:44 aaron Exp $
d64 1
a64 1
.It Fl w
@


1.3
log
@usr.bin/ man page fixes, f-m.
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.2 1996/06/26 05:33:22 deraadt Exp $
d49 1
a49 1
.Nm fold
d63 1
a63 1
column positions (or bytes).  
d68 2
a69 2
The 
.Nm fold
d74 3
a76 3
The 
.Nm fold
utility conforms to 
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: fold.1,v 1.5 1995/09/01 01:42:42 jtc Exp $
d42 1
a42 1
.Nd "fold long lines for finite width output device"
d47 1
a47 1
.Ar
d49 1
a49 1
.Nm Fold
d52 1
a52 1
breaking the lines to have maximum of 80 characters.
d70 1
a70 1
utility exits 0 on success, and >0 if an error occurs.
d81 1
a81 1
.Ar Width
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
