head	1.13;
access;
symbols
	OPENBSD_5_2:1.12.0.12
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.10
	OPENBSD_5_0:1.12.0.8
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.12.0.6
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.12.0.4
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.11.0.14
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.10
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.11.0.8
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.11.0.6
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.11.0.4
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.11.0.2
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.9.0.12
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.10
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.8
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.6
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.9.0.4
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.9.0.2
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.8.0.2
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.7.0.4
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.5.0.2
	OPENBSD_3_1_BASE:1.5
	PMDB:1.1.1.1
	PMBD_4_1:1.1.1;
locks; strict;
comment	@# @;


1.13
date	2012.08.30.15.53.47;	author kettenis;	state dead;
branches;
next	1.12;

1.12
date	2010.02.03.20.49.01;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2006.11.19.03.34.03;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2006.11.19.03.32.09;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2003.12.03.22.28.01;	author grange;	state Exp;
branches;
next	1.8;

1.8
date	2003.07.22.17.15.13;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2002.06.05.18.02.27;	author fgsch;	state Exp;
branches;
next	1.6;

1.6
date	2002.05.11.00.20.20;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2002.03.15.16.51.29;	author art;	state Exp;
branches;
next	1.4;

1.4
date	2002.03.15.16.45.10;	author drahn;	state Exp;
branches;
next	1.3;

1.3
date	2002.03.15.16.41.05;	author jason;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.15.16.32.45;	author art;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.15.16.30.32;	author art;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.15.16.30.32;	author art;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Move pmdb to the attic.

It's unfinished.  It will never be finished.
It's unfinishable.  deraadt@@
@
text
@#	$OpenBSD: Makefile,v 1.12 2010/02/03 20:49:01 miod Exp $

.include <bsd.own.mk>

MAN=pmdb.1

.if (!exists(arch/${MACHINE}/Makefile.inc) && \
    !exists(arch/${MACHINE_CPU}/Makefile.inc))
NOPROG=no, man
.else

PROG=pmdb
SRCS=pmdb.c symbol.c clit.c process.c signal.c break.c core.c
# support for NetBSD
.if defined(OBJECT_FMT)
.if ${OBJECT_FMT} == "ELF"
ELF_TOOLCHAIN=yes
.else
ELF_TOOLCHAIN=no
.endif
.endif

.if (${ELF_TOOLCHAIN:L} == "yes")
SRCS+=elf_syms.c
CPPFLAGS+=-DPMDB_ELF
.else
SRCS+=aout_syms.c
CPPFLAGS+=-DPMDB_AOUT
.endif

LDADD=-ledit -lcurses
DPADD=${LIBEDIT} ${LIBCURSES}

CPPFLAGS+=-I${.CURDIR}

.if exists(arch/${MACHINE}/Makefile.inc)
.PATH: ${.CURDIR}/arch/${MACHINE}
.include "arch/${MACHINE}/Makefile.inc"
CPPFLAGS+=-I${.CURDIR}/arch/${MACHINE}
.endif

.if (${MACHINE_CPU} != ${MACHINE}) && exists(arch/${MACHINE_CPU}/Makefile.inc)
.PATH: ${.CURDIR}/arch/${MACHINE_CPU}
.include "arch/${MACHINE_CPU}/Makefile.inc"
CPPFLAGS+=-I${.CURDIR}/arch/${MACHINE_CPU}
.endif

COPTS+=-Wall -Wno-uninitialized

.endif

.include <bsd.prog.mk>
@


1.12
log
@Use MACHINE_CPU instead of MACHINE_ARCH to pick the correct machine dependent
files or directories when applicable.
The inspiration and name of MACHINE_CPU come from NetBSD, although the way to
provide it to Makefiles is completely different.
ok kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2006/11/19 03:34:03 deraadt Exp $
@


1.11
log
@always make a man
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2006/11/19 03:32:09 deraadt Exp $
d8 1
a8 1
    !exists(arch/${MACHINE_ARCH}/Makefile.inc))
d42 4
a45 4
.if (${MACHINE_ARCH} != ${MACHINE}) && exists(arch/${MACHINE_ARCH}/Makefile.inc)
.PATH: ${.CURDIR}/arch/${MACHINE_ARCH}
.include "arch/${MACHINE_ARCH}/Makefile.inc"
CPPFLAGS+=-I${.CURDIR}/arch/${MACHINE_ARCH}
@


1.10
log
@always build man page, that is the way we do things
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2003/12/03 22:28:01 grange Exp $
d5 2
a13 1

@


1.9
log
@Append but not override COPTS.
ok espie@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2003/07/22 17:15:13 brad Exp $
a6 1
NOMAN=no, man
@


1.8
log
@- use :L variable modifier with ELF_TOOLCHAIN variable
- change 2 instances of the check from != "yes" to == "no"

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2002/06/05 18:02:27 fgsch Exp $
d48 1
a48 1
COPTS=-Wall -Wno-uninitialized
@


1.7
log
@core support from Jean-Francois Brousseau <krapht@@secureops.com> with
a few tweaks of mine. tested on sparc64 and i386.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2002/05/11 00:20:20 espie Exp $
d23 1
a23 1
.if (${ELF_TOOLCHAIN} == "yes")
@


1.6
log
@Add missing libraries to bsd.prog.mk (mostly kerberosV)
Use them in DPADD throughout the tree.
Fix a few mispells (LIBMATH -> LIBM...)
Wipe obsolete lib (LIBRESOLV)
Sort added missing libraries, move obsolete stuff apart.
Synch documentation in bsd.README

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2002/03/15 16:51:29 art Exp $
d12 1
a12 1
SRCS=pmdb.c symbol.c clit.c process.c signal.c break.c
@


1.5
log
@Don't try to build if there is no MD support.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2002/03/15 16:45:10 drahn Exp $
d32 1
a32 1
DPADD=${LIBEDIT} ${LIBTERMCAP}
@


1.4
log
@support MACHINE_ARCH != MACHINE
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2002/03/15 16:41:05 jason Exp $
d5 6
d49 2
@


1.3
log
@s/$PMDB$/$OpenBSD$/
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2002/03/07 14:27:08 art Exp $
d38 1
a38 1
.include arch/${MACHINE_ARCH}/Makefile.inc
@


1.2
log
@No more /usr/local/bin
@
text
@d1 1
a1 1
#	$PMDB: Makefile,v 1.10 2002/03/07 14:27:08 art Exp $
@


1.1
log
@Initial revision
@
text
@a4 2
BINDIR=/usr/local/bin

@


1.1.1.1
log
@Import pmdb 4.1.

(see http://www.blahonga.org/~art/openbsd/pmdb.html for more info).

The development repository now moves here out from my local repository.
@
text
@@
