head	1.11;
access;
symbols
	OPENBSD_6_2:1.11.0.8
	OPENBSD_6_2_BASE:1.11
	OPENBSD_6_1:1.11.0.6
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.11.0.2
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.10.0.6
	OPENBSD_5_9_BASE:1.10
	OPENBSD_5_8:1.10.0.8
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.10.0.2
	OPENBSD_5_7_BASE:1.10
	OPENBSD_5_6:1.10.0.4
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.9.0.20
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.9.0.16
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.9.0.14
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.12
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.10
	OPENBSD_5_0:1.9.0.8
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.6
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.4
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.8.0.52
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.48
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.46
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.44
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.42
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.40
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.38
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.8.0.36
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.8.0.34
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.32
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.8.0.30
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.28
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.26
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.8.0.24
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.22
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.8.0.20
	OPENBSD_3_1_BASE:1.8
	OPENBSD_3_0:1.8.0.18
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_9:1.8.0.16
	OPENBSD_2_8:1.8.0.14
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.8.0.12
	OPENBSD_2_7_BASE:1.8
	OPENBSD_2_6:1.8.0.10
	OPENBSD_2_6_BASE:1.8
	OPENBSD_2_5:1.8.0.8
	OPENBSD_2_5_BASE:1.8
	OPENBSD_2_4:1.8.0.6
	OPENBSD_2_4_BASE:1.8
	OPENBSD_2_3:1.8.0.4
	OPENBSD_2_3_BASE:1.8
	OPENBSD_2_2:1.8.0.2
	OPENBSD_2_2_BASE:1.8
	OPENBSD_2_1:1.6.0.2
	OPENBSD_2_1_BASE:1.6
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.11
date	2016.03.30.06.38.46;	author jmc;	state Exp;
branches;
next	1.10;
commitid	LN9ijdk9SEnzWAbM;

1.10
date	2014.07.22.17.05.45;	author deraadt;	state Exp;
branches;
next	1.9;
commitid	ZOYMktKgO7yyemqD;

1.9
date	2010.01.04.17.50.39;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	97.09.21.11.49.50;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	97.07.28.10.01.12;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	97.04.27.20.56.49;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	97.03.29.03.01.43;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	96.12.08.14.32.29;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	96.06.11.12.53.31;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.03.27.19.32.29;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.45.37;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.45.37;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.11
log
@for some time now mandoc has not required MLINKS to function
correctly - logically complete that now by removing MLINKS from base;

authors need only to ensure there is an entry in NAME for any function/
util being added. MLINKS will still work, and remain for perl to ease
upgrades;

ok nicm (curses) bcook (ssl)
ok schwarze, who provided a lot of feedback and assistance
ok tb natano jung
@
text
@#	$OpenBSD: Makefile,v 1.10 2014/07/22 17:05:45 deraadt Exp $

PROG=	mail
SRCS=	version.c aux.c cmd1.c cmd2.c cmd3.c cmdtab.c collect.c \
	edit.c fio.c getname.c head.c v7.local.c lex.c list.c main.c names.c \
	popen.c quit.c send.c strings.c temp.c tty.c vars.c
SFILES=	mail.help mail.tildehelp
EFILES=	mail.rc
LINKS=	${BINDIR}/mail ${BINDIR}/Mail ${BINDIR}/mail ${BINDIR}/mailx

distribution:
	cd ${.CURDIR}/misc; ${INSTALL} ${INSTALL_COPY} -o root -g wheel \
	    -m 644 ${EFILES} ${DESTDIR}/etc
	cd ${.CURDIR}/misc; ${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} \
	    -m 444 ${SFILES} ${DESTDIR}/usr/share/misc

.include <bsd.prog.mk>
@


1.10
log
@Repair two deep targets mistakenly called as afterinstall, rather
than distribution. These would modify files in /etc, part of the base
set, but still... that makes it harder to discern their sets placement.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2010/01/04 17:50:39 deraadt Exp $
a9 1
MLINKS=	mail.1 Mail.1 mail.1 mailx.1
@


1.9
log
@Stop installing many of the incredibly dated and un-authoritative share/doc
files.  If any information found in these documents is worthwhile and you
miss it, please make the time to work it into the manual pages (which people
actually do read).
ok guenther
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 1997/09/21 11:49:50 deraadt Exp $
a11 4
beforeinstall:
	cd ${.CURDIR}/misc; ${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} \
	    -m 444 ${SFILES} ${DESTDIR}/usr/share/misc

d15 2
@


1.8
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 1997/07/28 10:01:12 deraadt Exp $
a18 4

.if make(install)
SUBDIR+= USD.doc
.endif
@


1.7
log
@install mail.rc at distribution time; bug found by explorer@@flame.org
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile,v 1.6 1997/04/27 20:56:49 millert Exp $
#	$NetBSD: Makefile,v 1.8 1996/06/08 19:48:09 christos Exp $
@


1.6
log
@COPY -> INSTALL_COPY and STRIP -> INSTALL_STRIP
This fixes namespace problems where STRIP is sometimes used as
the name of the strip(1) to use and other times used as
the flag to send install(1) when stripping (or not).
COPY doesn't have this problem (yet) but was poorly named.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1997/03/29 03:01:43 millert Exp $
d16 2
@


1.5
log
@Use ``mail.local -H'' to do dot locking so we can have mode 755 mail
spool, change an occurrence of tempnam() to mkstemp(), change some
longs and shorts to ints.  Mail is now usable again.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1996/12/08 14:32:29 downsj Exp $
d14 1
a14 1
	cd ${.CURDIR}/misc; ${INSTALL} ${COPY} -o ${BINOWN} -g ${BINGRP} \
d16 1
a16 1
	cd ${.CURDIR}/misc; ${INSTALL} ${COPY} -o root -g wheel \
@


1.4
log
@install -> ${INSTALL}, -c -> ${COPY}
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1996/06/11 12:53:31 deraadt Exp $
d5 1
a5 1
SRCS=	version.c aux.c cmd1.c cmd2.c cmd3.c cmdtab.c collect.c dotlock.c \
@


1.3
log
@from christos;
- Fix PR/105: Implement dot locking protocol and check return value of flock.
- Fix PR/2247: Don't call unknown users "ubluit". Issue an error message.
- Fix/add prototypes.
- Fix warnings.
- Use POSIX signal mask calls.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 1996/06/08 19:48:09 christos Exp $
d14 1
a14 1
	cd ${.CURDIR}/misc; install -c -o ${BINOWN} -g ${BINGRP} \
d16 1
a16 1
	cd ${.CURDIR}/misc; install -c -o root -g wheel \
@


1.2
log
@From NetBSD: merge of 960317
@
text
@d1 2
a2 2
#	$OpenBSD$
#	from: @@(#)Makefile	8.2 (Berkeley) 1/25/94
d5 3
a7 3
SRCS=	version.c aux.c cmd1.c cmd2.c cmd3.c cmdtab.c collect.c edit.c fio.c \
	getname.c head.c v7.local.c lex.c list.c main.c names.c popen.c \
	quit.c send.c strings.c temp.c tty.c vars.c
@


1.1
log
@Initial revision
@
text
@d1 1
a2 1
#	$Id: Makefile,v 1.6 1994/12/22 11:21:35 cgd Exp $
a4 1
CFLAGS+=-DUSE_OLD_TTY
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
