head	1.76;
access;
symbols
	OPENBSD_6_1:1.76.0.2
	OPENBSD_6_1_BASE:1.76
	OPENBSD_6_0:1.75.0.4
	OPENBSD_6_0_BASE:1.75
	OPENBSD_5_9:1.75.0.2
	OPENBSD_5_9_BASE:1.75
	OPENBSD_5_8:1.74.0.6
	OPENBSD_5_8_BASE:1.74
	OPENBSD_5_7:1.74.0.2
	OPENBSD_5_7_BASE:1.74
	OPENBSD_5_6:1.65.0.4
	OPENBSD_5_6_BASE:1.65
	OPENBSD_5_5:1.63.0.4
	OPENBSD_5_5_BASE:1.63
	OPENBSD_5_4:1.61.0.2
	OPENBSD_5_4_BASE:1.61
	OPENBSD_5_3:1.60.0.10
	OPENBSD_5_3_BASE:1.60
	OPENBSD_5_2:1.60.0.8
	OPENBSD_5_2_BASE:1.60
	OPENBSD_5_1_BASE:1.60
	OPENBSD_5_1:1.60.0.6
	OPENBSD_5_0:1.60.0.4
	OPENBSD_5_0_BASE:1.60
	OPENBSD_4_9:1.60.0.2
	OPENBSD_4_9_BASE:1.60
	OPENBSD_4_8:1.59.0.4
	OPENBSD_4_8_BASE:1.59
	OPENBSD_4_7:1.59.0.2
	OPENBSD_4_7_BASE:1.59
	OPENBSD_4_6:1.57.0.6
	OPENBSD_4_6_BASE:1.57
	OPENBSD_4_5:1.57.0.2
	OPENBSD_4_5_BASE:1.57
	OPENBSD_4_4:1.53.0.2
	OPENBSD_4_4_BASE:1.53
	OPENBSD_4_3:1.51.0.4
	OPENBSD_4_3_BASE:1.51
	OPENBSD_4_2:1.51.0.2
	OPENBSD_4_2_BASE:1.51
	OPENBSD_4_1:1.49.0.2
	OPENBSD_4_1_BASE:1.49
	OPENBSD_4_0:1.46.0.8
	OPENBSD_4_0_BASE:1.46
	OPENBSD_3_9:1.46.0.6
	OPENBSD_3_9_BASE:1.46
	OPENBSD_3_8:1.46.0.4
	OPENBSD_3_8_BASE:1.46
	OPENBSD_3_7:1.46.0.2
	OPENBSD_3_7_BASE:1.46
	OPENBSD_3_6:1.45.0.2
	OPENBSD_3_6_BASE:1.45
	OPENBSD_3_5:1.42.0.4
	OPENBSD_3_5_BASE:1.42
	OPENBSD_3_4:1.42.0.2
	OPENBSD_3_4_BASE:1.42
	OPENBSD_3_3:1.36.0.2
	OPENBSD_3_3_BASE:1.36
	OPENBSD_3_2:1.34.0.4
	OPENBSD_3_2_BASE:1.34
	OPENBSD_3_1:1.34.0.2
	OPENBSD_3_1_BASE:1.34
	OPENBSD_3_0:1.33.0.4
	OPENBSD_3_0_BASE:1.33
	OPENBSD_2_9_BASE:1.33
	OPENBSD_2_9:1.33.0.2
	OPENBSD_2_8:1.32.0.2
	OPENBSD_2_8_BASE:1.32
	OPENBSD_2_7:1.29.0.2
	OPENBSD_2_7_BASE:1.29
	OPENBSD_2_6:1.25.0.2
	OPENBSD_2_6_BASE:1.25
	OPENBSD_2_5:1.22.0.2
	OPENBSD_2_5_BASE:1.22
	OPENBSD_2_4:1.20.0.2
	OPENBSD_2_4_BASE:1.20
	OPENBSD_2_3:1.8.0.2
	OPENBSD_2_3_BASE:1.8
	OPENBSD_2_2:1.5.0.2
	OPENBSD_2_2_BASE:1.5
	OPENBSD_2_1:1.4.0.2
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.76
date	2016.07.28.21.37.45;	author tedu;	state Exp;
branches;
next	1.75;
commitid	mWujHdKL90lJ6y6i;

1.75
date	2015.09.07.15.28.06;	author sobrado;	state Exp;
branches;
next	1.74;
commitid	r4mlSR1G4mdI2KOT;

1.74
date	2015.01.20.19.20.45;	author jmc;	state Exp;
branches;
next	1.73;
commitid	MLvGt3IFiaXnsppI;

1.73
date	2015.01.20.16.59.07;	author millert;	state Exp;
branches;
next	1.72;
commitid	92usC3cTTCZG2qZC;

1.72
date	2015.01.07.17.08.21;	author millert;	state Exp;
branches;
next	1.71;
commitid	ZbuNEVeKwBaiRxRQ;

1.71
date	2015.01.07.17.01.39;	author millert;	state Exp;
branches;
next	1.70;
commitid	r4FguOu6rkDC21DQ;

1.70
date	2014.12.16.18.37.17;	author millert;	state Exp;
branches;
next	1.69;
commitid	5pfJtSG0aRpBbeHu;

1.69
date	2014.12.16.18.36.46;	author millert;	state Exp;
branches;
next	1.68;
commitid	YJbiA6o8hIfC4l8p;

1.68
date	2014.11.24.22.30.16;	author millert;	state Exp;
branches;
next	1.67;
commitid	Hah80mxewVZuFg2S;

1.67
date	2014.11.24.20.03.33;	author millert;	state Exp;
branches;
next	1.66;
commitid	BYsKGcOwt27tJQkY;

1.66
date	2014.11.24.20.01.43;	author millert;	state Exp;
branches;
next	1.65;
commitid	LJSWmbXLAaCRa2Mq;

1.65
date	2014.03.27.13.08.24;	author jmc;	state Exp;
branches;
next	1.64;

1.64
date	2014.03.10.11.17.11;	author jmc;	state Exp;
branches;
next	1.63;

1.63
date	2014.01.20.05.07.48;	author schwarze;	state Exp;
branches;
next	1.62;

1.62
date	2014.01.08.16.19.24;	author jmc;	state Exp;
branches;
next	1.61;

1.61
date	2013.07.18.07.11.00;	author jmc;	state Exp;
branches;
next	1.60;

1.60
date	2010.11.07.08.05.56;	author jmc;	state Exp;
branches;
next	1.59;

1.59
date	2010.01.10.10.53.33;	author jmc;	state Exp;
branches;
next	1.58;

1.58
date	2009.07.29.18.15.38;	author martynas;	state Exp;
branches;
next	1.57;

1.57
date	2009.02.10.19.27.03;	author jmc;	state Exp;
branches;
next	1.56;

1.56
date	2008.11.03.18.50.12;	author jmc;	state Exp;
branches;
next	1.55;

1.55
date	2008.11.03.15.42.35;	author martynas;	state Exp;
branches;
next	1.54;

1.54
date	2008.10.08.21.05.53;	author martynas;	state Exp;
branches;
next	1.53;

1.53
date	2008.07.16.15.11.16;	author martynas;	state Exp;
branches;
next	1.52;

1.52
date	2008.07.16.14.56.11;	author martynas;	state Exp;
branches;
next	1.51;

1.51
date	2007.08.06.19.16.06;	author sobrado;	state Exp;
branches;
next	1.50;

1.50
date	2007.05.31.19.20.12;	author jmc;	state Exp;
branches;
next	1.49;

1.49
date	2007.02.26.13.38.26;	author jmc;	state Exp;
branches;
next	1.48;

1.48
date	2007.02.26.13.17.37;	author jmc;	state Exp;
branches;
next	1.47;

1.47
date	2007.02.25.20.26.10;	author jmc;	state Exp;
branches;
next	1.46;

1.46
date	2004.12.07.22.30.55;	author jmc;	state Exp;
branches;
next	1.45;

1.45
date	2004.06.04.00.07.12;	author jmc;	state Exp;
branches;
next	1.44;

1.44
date	2004.04.30.06.52.48;	author jmc;	state Exp;
branches;
next	1.43;

1.43
date	2004.04.19.10.17.18;	author jmc;	state Exp;
branches;
next	1.42;

1.42
date	2003.09.04.22.14.42;	author jmc;	state Exp;
branches;
next	1.41;

1.41
date	2003.09.04.14.09.05;	author jmc;	state Exp;
branches;
next	1.40;

1.40
date	2003.07.14.09.27.40;	author jmc;	state Exp;
branches;
next	1.39;

1.39
date	2003.06.28.14.25.34;	author jmc;	state Exp;
branches;
next	1.38;

1.38
date	2003.06.10.09.12.11;	author jmc;	state Exp;
branches;
next	1.37;

1.37
date	2003.06.03.02.56.11;	author millert;	state Exp;
branches;
next	1.36;

1.36
date	2003.01.03.19.17.17;	author millert;	state Exp;
branches;
next	1.35;

1.35
date	2002.11.14.02.57.28;	author deraadt;	state Exp;
branches;
next	1.34;

1.34
date	2002.01.24.20.33.45;	author mickey;	state Exp;
branches;
next	1.33;

1.33
date	2000.11.09.17.52.21;	author aaron;	state Exp;
branches;
next	1.32;

1.32
date	2000.06.26.23.18.39;	author hugh;	state Exp;
branches;
next	1.31;

1.31
date	2000.06.11.21.03.40;	author millert;	state Exp;
branches;
next	1.30;

1.30
date	2000.05.15.06.55.44;	author deraadt;	state Exp;
branches;
next	1.29;

1.29
date	2000.04.12.21.47.48;	author aaron;	state Exp;
branches;
next	1.28;

1.28
date	2000.03.24.21.41.08;	author aaron;	state Exp;
branches;
next	1.27;

1.27
date	2000.03.10.19.07.20;	author aaron;	state Exp;
branches;
next	1.26;

1.26
date	2000.03.04.20.02.23;	author aaron;	state Exp;
branches;
next	1.25;

1.25
date	99.10.16.20.47.40;	author aaron;	state Exp;
branches;
next	1.24;

1.24
date	99.06.05.01.21.33;	author aaron;	state Exp;
branches;
next	1.23;

1.23
date	99.05.12.13.26.51;	author aaron;	state Exp;
branches;
next	1.22;

1.22
date	98.11.19.23.23.49;	author aaron;	state Exp;
branches;
next	1.21;

1.21
date	98.11.11.23.01.45;	author aaron;	state Exp;
branches;
next	1.20;

1.20
date	98.09.27.21.20.45;	author millert;	state Exp;
branches;
next	1.19;

1.19
date	98.09.26.19.55.05;	author aaron;	state Exp;
branches;
next	1.18;

1.18
date	98.09.13.03.50.23;	author aaron;	state Exp;
branches;
next	1.17;

1.17
date	98.09.10.16.47.02;	author millert;	state Exp;
branches;
next	1.16;

1.16
date	98.09.10.16.04.21;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	98.09.07.16.44.33;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	98.09.06.22.23.17;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	98.09.01.16.38.24;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	98.07.16.06.05.18;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	98.06.25.07.29.05;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	98.04.25.00.41.54;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	98.04.25.00.19.55;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	98.03.24.05.40.26;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	97.11.14.00.23.50;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	97.11.04.08.34.31;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	97.07.13.21.21.14;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	97.01.13.20.36.23;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.10.26.05.11.04;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	96.06.11.12.53.44;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.45.39;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.45.39;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.76
log
@these programs probably do not need to use TMPDIR. ok florian
@
text
@.\"	$OpenBSD: mail.1,v 1.75 2015/09/07 15:28:06 sobrado Exp $
.\"
.\" Copyright (c) 1980, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@@(#)mail.1	8.8 (Berkeley) 4/28/95
.\"
.Dd $Mdocdate: September 7 2015 $
.Dt MAIL 1
.Os
.Sh NAME
.Nm mail ,
.Nm mailx ,
.Nm Mail
.Nd send and receive mail
.Sh SYNOPSIS
.Nm mail
.Bk -words
.Op Fl dEIinv
.Op Fl b Ar list
.Op Fl c Ar list
.Op Fl r Ar from-addr
.Op Fl s Ar subject
.Ar to-addr ...
.Ek
.Nm mail
.Op Fl dEIiNnv
.Fl f
.Op Ar file
.Nm mail
.Op Fl dEIiNnv
.Op Fl u Ar user
.Sh DESCRIPTION
.Nm mail
is an intelligent mail processing system which has
a command syntax reminiscent of
.Xr ed 1
with lines replaced by messages.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl b Ar list
Send blind carbon copies to
.Ar list .
.It Fl c Ar list
Send carbon copies to
.Ar list
of users.
.Ar list
should be a comma separated list of names.
.It Fl d
Causes
.Nm mail
to output all sorts of information useful for debugging
.Nm mail .
.It Fl E
Don't send messages with an empty body.
.It Fl f
Use an alternate mailbox.
Defaults to the user's
.Ar mbox
if no
.Ar file
is specified.
When quit,
.Nm mail
writes undeleted messages back to this
.Ar file .
.It Fl I
Forces
.Nm mail
to run in interactive mode, even when input is not a terminal.
In particular, the special
.Ic ~
command character, used when sending mail, is only available interactively.
.It Fl i
Ignore tty interrupt signals.
This is
particularly useful when using
.Nm mail
on noisy phone lines.
.It Fl N
Inhibits initial display of message headers
when reading mail or editing a mail folder.
.It Fl n
Inhibits reading
.Pa /etc/mail.rc
upon startup.
.It Fl r Ar from-addr
Use
.Ar from-addr
as the from address in the message and envelope.
Overrides any
.Ar from
options in the startup files.
.It Fl s Ar subject
Specify subject on command line
(only the first argument after the
.Fl s
flag is used as a subject; be careful to quote subjects
containing spaces).
.It Fl u Ar user
Equivalent to:
.Pp
.Dl $ mail -f /var/mail/user
.Pp
except that locking is done.
.It Fl v
Verbose mode.
The details of
delivery are displayed on the user's terminal.
.El
.Ss Startup actions
At startup time,
.Nm mail
will execute commands in the system command file,
.Pa /etc/mail.rc ,
unless explicitly told not to by using the
.Fl n
option.
Next, the commands in the user's personal command file
.Pa ~/.mailrc
are executed.
.Nm mail
then examines its command line options to determine whether the user
requested a new message to be sent or existing messages in a mailbox
to be examined.
.Ss Sending mail
To send a message to one or more people,
.Nm mail
can be invoked with arguments which are the names of people to
whom the mail will be sent.
You are then expected to type in
your message, followed
by a control-D
.Pq Sq ^D
at the beginning of a line.
The section below,
.Sx Replying to or originating mail ,
describes some features of
.Nm mail
available to help you compose your letter.
.Ss Reading mail
In normal usage,
.Nm mail
is given no arguments and checks your mail out of the
post office, then
prints out a one line header of each message found.
The current message is initially set to the first message (numbered 1)
and can be printed using the
.Ic print
command (which can be abbreviated
.Ic p ) .
Moving among the messages is much like moving between lines in
.Xr ed 1 ;
you may use
.Ic +
and
.Ic -
to shift forwards and backwards, or simply enter a message number to move
directly.
.Ss Disposing of mail
After examining a message you can
.Ic delete
.Pq Ic d
or
.Ic reply
.Pq Ic r
to it.
Deletion causes the
.Nm mail
program to forget about the message.
This is not irreversible; the message can be
.Ic undeleted
.Pq Ic u
by giving its number, or the
.Nm mail
session can be aborted by giving the
.Ic exit
.Pq Ic x
command.
Deleted messages, however, will usually disappear, never to be seen again.
.Ss Specifying messages
Commands such as
.Ic print
and
.Ic delete
can be given a list of message numbers as arguments to apply
to a number of messages at once.
Thus
.Ic delete 1 2
deletes messages 1 and 2, while
.Ic delete 1\-5
deletes messages 1 through 5.
.Pp
Messages may also be selected using one of the following categories:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It *
all messages
.It $
last message
.It :d
deleted messages
.It :n
new messages
.It :o
old messages
.It :r
read messages
.It :u
unread messages
.El
.Pp
Thus the command
.Ic top ,
which prints the first few lines of a message,
could be used in
.Ic top *
to print the first few lines of all messages.
.Ss Replying to or originating mail
You can use the
.Ic reply
command to
set up a response to a message, sending it back to the
person who it was from.
Text you then type in, up to an end-of-file,
defines the contents of the message.
While you are composing a message,
.Nm mail
treats lines beginning with the tilde
.Pq Sq ~
character specially.
For instance, typing
.Ic ~m
(alone on a line) will place a copy
of the current message into the response, right shifting it by a single
tab-stop (see the
.Va indentprefix
variable, below).
Other escapes will set up subject fields, add and delete recipients
to the message, and allow you to escape to an editor to revise the
message or to a shell to run some commands.
(These options
are given in the summary below.)
.Ss Ending a mail processing session
You can end a
.Nm mail
session with the
.Ic quit
.Pq Ic q
command.
Messages which have been examined go to your
.Ar mbox
file unless they have been deleted, in which case they are discarded.
Unexamined messages go back to the post office (see the
.Fl f
option above).
.Ss Personal and system wide distribution lists
It is also possible to create personal distribution lists so that,
for instance, you can send mail to
.Dq Li cohorts
and have it go
to a group of people.
Such lists can be defined by placing a line like
.Pp
.Dl alias cohorts bill ozalp jkf mark kridle@@ucbcory
.Pp
in the file
.Pa .mailrc
in your home directory.
The current list of such aliases can be displayed with the
.Ic alias
command in
.Nm mail .
System wide distribution lists can be created by editing
.Pa /etc/mail/aliases
(see
.Xr aliases 5 ) ;
these are kept in a different syntax.
In mail you send, personal aliases will be expanded in mail sent
to others so that they will be able to
.Ic reply
to the recipients.
System wide aliases
are not expanded when the mail is sent,
but any reply returned to the machine will have the system wide
alias expanded as all mail goes through an MTA.
.Ss Recipient address specifications
Recipient addresses (any of the
.Dq To ,
.Dq Cc
or
.Dq Bcc
header fields) are subject to expansion when the
.Ic expandaddr
option is set.
.Pp
An address may be expanded as follows:
.Bl -bullet -width Ds
.It
An address that starts with a pipe
.Pq Ql |
character is treated as a command to run.
The command immediately following the
.Ql |
is executed with the message as its standard input.
.It
An address that starts with a
.Ql +
character is treated as a folder.
.It
An address that contains a
.Ql /
character but no
.Ql \&! ,
.Ql % ,
or
.Ql @@
characters is also treated as a folder.
.It
If none of the above apply, the recipient is treated as
a local or network mail address.
.El
.Pp
If the
.Ic expandaddr
option is not set (the default), no expansion is performed and
the recipient is treated as a local or network mail address.
.Ss Network mail (ARPA, UUCP, Berknet)
See
.Xr mailaddr 7
for a description of network addresses.
.Pp
.Nm mail
has a number of options which can be set in the
.Pa .mailrc
file to alter its behavior; thus
.Ic set askcc
enables the
.Ar askcc
feature.
(These options are summarized below.)
.Sh SUMMARY
(Adapted from the
.Dq Mail Reference Manual . )
.Pp
Each command is typed on a line by itself, and may take arguments
following the command word.
The command need not be typed in its
entirety -- the first command which matches the typed prefix is used.
For commands which take message lists as arguments, if no message
list is given, then the next message forward which satisfies the
command's requirements is used.
If there are no messages forward of
the current message, the search proceeds backwards, and if there are no
good messages at all,
.Nm mail
types
.Dq \&No applicable messages
and
aborts the command.
.Bl -tag -width delete
.It Ic -
Print out the preceding message.
If given a numeric
argument
.Ar n ,
goes to the
.Ar n Ns th
previous message and prints it.
.It Ic \&=
Prints the currently selected message number.
.It Ic \&?
Prints a brief summary of commands.
.It Ic \&!
Executes the shell
(see
.Xr sh 1
and
.Xr csh 1 )
command which follows.
.It Ic alias
.Pq Ic a
With no arguments, prints out all currently defined aliases.
With one
argument, prints out that alias.
With more than one argument, creates
a new alias or changes an old one.
.It Ic alternates
.Pq Ic alt
The
.Ic alternates
command is useful if you have accounts on several machines.
It can be used to inform
.Nm mail
that the listed addresses are really you.
When you
.Ic reply
to messages,
.Nm mail
will not send a copy of the message to any of the addresses
listed on the
.Ic alternates
list.
If the
.Ic alternates
command is given with no argument, the current set of alternate
names is displayed.
.It Ic chdir
.Pf ( Ic cd
or
.Ic ch )
Changes the user's working directory to that specified, if given.
If
no directory is given, then changes to the user's login directory.
.It Ic copy
.Pq Ic c
The
.Ic copy
command does the same thing that
.Ic save
does, except that it does not mark the messages it
is used on for deletion when you quit.
.It Ic delete
.Pq Ic d
Takes a list of messages as argument and marks them all as deleted.
Deleted messages will not be saved in
.Ar mbox ,
nor will they be available for most other commands.
.It Ic dp
(also
.Ic dt )
Deletes the current message and prints the next message.
If there is no next message,
.Nm mail
says
.Dq Li "\&No more messages."
.It Ic edit
.Pq Ic e
Takes a list of messages and points the text editor at each one in
turn.
On return from the editor, the message is read back in.
.It Ic exit
.Pf ( Ic ex
or
.Ic x )
Effects an immediate return to the shell without
modifying the user's system mailbox, his
.Ar mbox
file, or his edit file in
.Fl f .
.It Ic file
.Pq Ic fi
The same as
.Ic folder .
.It Ic folder
.Pq Ic fo
The
.Ic folder
command switches to a new mail file or folder.
With no
arguments, it tells you which file you are currently reading.
If you give it an argument, it will write out changes (such
as deletions) you have made in the current file and read in
the new file.
Some special conventions are recognized for
the name.
# means the previous file, % means your system
mailbox, %user means user's system mailbox, & means
your
.Ar mbox
file, and
+folder means a file in your folder
directory.
.It Ic folders
List the names of the folders in your folder directory.
.It Ic from
.Pq Ic f
Takes a list of messages and prints their message headers.
.It Ic headers
.Pq Ic h
Lists the current windowful of headers.
To view the next or previous group of headers, see the
.Ic z
command.
.It Ic help
A synonym for
.Ic \&? .
.It Ic hold
.Pf ( Ic ho ,
also
.Ic preserve )
Takes a message list and marks each
message therein to be saved in the
user's system mailbox instead of in
.Ar mbox .
Does not override the
.Ic delete
command.
.It Ic ignore
Add the list of header fields named to the
.Ar ignored list .
Header fields in the ignore list are not printed
on your terminal when you print a message.
This
command is very handy for suppression of certain machine-generated
header fields.
The
.Ic Type
and
.Ic Print
commands can be used to print a message in its entirety, including
ignored fields.
If
.Ic ignore
is executed with no arguments, it lists the current set of
ignored fields.
.It Ic inc
Incorporate any new messages that have arrived while mail
is being read.
The new messages are added to the end of the message list,
and the current message is reset to be the first new mail message.
This does not renumber the existing message list, nor
does it cause any changes made so far to be saved.
.It Ic list
.Pq Ic l
List the valid
.Nm
commands.
.It Ic mail
.Pq Ic m
Takes as argument login names and distribution group names and sends
mail to those people.
.It Ic mbox
Indicate that a list of messages be sent to
.Ar mbox
in your home directory when you quit.
This is the default
action for messages if you do
.Em not
have the
.Ic hold
option set.
.It Ic more
.Pq Ic \&mo
Takes a message list and invokes the pager on that list.
.It Ic next
.Pq Ic n
(like
.Ic +
or
.Tn CR )
Goes to the next message in sequence and types it.
With an argument list, types the next matching message.
.It Ic preserve
.Pq Ic pre
A synonym for
.Ic hold .
.It Ic Print
.Pq Ic P
Like
.Ic print
but also prints out ignored header fields.
See also
.Ic print ,
.Ic ignore ,
and
.Ic retain .
.It Ic print
.Pq Ic p
Takes a message list and types out each message on the user's terminal.
.It Ic quit
.Pq Ic q
Terminates the session, saving all undeleted, unsaved messages in
the user's
.Ar mbox
file in his login directory, preserving all messages marked with
.Ic hold
or
.Ic preserve
or never referenced
in his system mailbox, and removing all other messages from his system
mailbox.
If new mail has arrived during the session, the message
.Dq Li "You have new mail"
is given.
If given while editing a
mailbox file with the
.Fl f
flag, then the edit file is rewritten.
A return to the shell is
effected, unless the rewrite of edit file fails, in which case the user
can escape with the
.Ic exit
command.
.It Ic Reply
.Pq Ic R
Reply to originator.
Does not reply to other
recipients of the original message.
.It Ic reply
.Pq Ic r
Takes a message list and sends mail to the sender and all
recipients of the specified message.
The default message must not be deleted.
.It Ic respond
A synonym for
.Ic reply .
.It Ic retain
Add the list of header fields named to the
.Ar retained list .
Only the header fields in the retain list
are shown on your terminal when you print a message.
All other header fields are suppressed.
The
.Ic Type
and
.Ic Print
commands can be used to print a message in its entirety.
If
.Ic retain
is executed with no arguments, it lists the current set of
retained fields.
.It Ic save
.Pq Ic s
Takes a message list and a filename and appends each message in
turn to the end of the file.
The filename in quotes, followed by the line
count and character count is echoed on the user's terminal.
.It Ic saveignore
.Ic saveignore
is to
.Ic save
what
.Ic ignore
is to
.Ic print
and
.Ic type .
Header fields thus marked are filtered out when
saving a message by
.Ic save
or when automatically saving to
.Ar mbox .
.It Ic saveretain
.Ic saveretain
is to
.Ic save
what
.Ic retain
is to
.Ic print
and
.Ic type .
Header fields thus marked are the only ones saved
with a message when saving by
.Ic save
or when automatically saving to
.Ar mbox .
.Ic saveretain
overrides
.Ic saveignore .
.It Ic set
.Pq Ic se
With no arguments, prints all variable values.
Otherwise, sets
option.
Arguments are of the form
.Ar option=value
(no space before or after =) or
.Ar option .
Quotation marks may be placed around any part of the assignment statement to
quote blanks or tabs, i.e.,
.Ic set indentprefix="->" .
.It Ic shell
.Pq Ic sh
Invokes an interactive version of the shell.
.It Ic size
Takes a message list and prints out the size in characters of each
message.
.It Ic source
The
.Ic source
command reads
commands from a file.
.It Ic top
Takes a message list and prints the top few lines of each.
The number of
lines printed is controlled by the variable
.Ic toplines
and defaults to five.
.It Ic Type
.Pq Ic T
Identical to the
.Ic Print
command.
.It Ic type
.Pq Ic t
A synonym for
.Ic print .
.It Ic unalias
Takes a list of names defined by
.Ic alias
commands and discards the remembered groups of users.
The group names
no longer have any significance.
.It Ic undelete
.Pq Ic u
Takes a message list and marks each message as not being deleted.
.It Ic unread
.Pq Ic U
Takes a message list and marks each message as not having been read.
.It Ic unset
Takes a list of option names and discards their remembered values;
the inverse of
.Ic set .
.It Ic visual
.Pq Ic v
Takes a message list and invokes the display editor on each message.
.It Ic write
.Pq Ic w
Similar to
.Ic save ,
except that
.Ic only
the message body
(without the header)
is saved.
Extremely useful for such tasks as sending and receiving source
program text over the message system.
.It Ic xit
.Pq Ic x
A synonym for
.Ic exit .
.It Ic z
.Nm mail
presents message headers in windowfuls as described under the
.Ic headers
command.
You can move
.Nm mail Ns 's
attention forward to the next window with the
.Ic z
command.
Also, you can move to the previous window by using
.Ic z- .
.El
.Ss Tilde/escapes
Here is a summary of the tilde escapes,
which are used when composing messages to perform
special functions.
Tilde escapes are only recognized at the beginning
of lines.
The name
.Dq tilde escape
is somewhat of a misnomer since the actual escape character can be set
by the option
.Ic escape .
.Pp
.Bl -tag -width Ds -compact
.It Ic ~b Ns Ar name ...
Add the given names to the list of carbon copy recipients but do not make
the names visible in the Cc: line ("blind" carbon copy).
.Pp
.It Ic ~c Ns Ar name ...
Add the given names to the list of carbon copy recipients.
.Pp
.It Ic ~d
Read the file
.Pa dead.letter
from your home directory into the message.
.Pp
.It Ic ~e
Invoke the text editor on the message collected so far.
After the
editing session is finished, you may continue appending text to the
message.
.Pp
.It Ic ~F Ns Ar messages
Identical to
.Ic ~f ,
except all message headers are included.
.Pp
.It Ic ~f Ns Ar messages
Read the named messages into the message being sent.
If no messages are specified, read in the current message.
Message headers currently being ignored (by the
.Ic ignore
or
.Ic retain
command) are not included.
.Pp
.It Ic ~h
Edit the message header fields by typing each one in turn and allowing
the user to append text to the end or modify the field by using the
current terminal erase and kill characters.
.Pp
.It Ic ~M Ns Ar messages
Identical to
.Ic ~m ,
except all message headers are included.
.Pp
.It Ic ~m Ns Ar messages
Read the named messages into the message being sent, indented by a
tab or by the value of
.Va indentprefix .
If no messages are specified,
read the current message.
Message headers currently being ignored (by the
.Ic ignore
or
.Ic retain
command) are not included.
.Pp
.It Ic ~p
Print out the message collected so far, prefaced by the message header
fields.
.Pp
.It Ic ~q
Abort the message being sent, copying the message to
.Pa dead.letter
in your home directory if
.Ic save
is set.
.Pp
.It Ic ~r Ns Ar filename
.It Ic ~< Ns Ar filename
Read the named file into the message.
.Pp
.It Ic ~s Ns Ar string
Cause the named string to become the current subject field.
.Pp
.It Ic ~t Ns Ar name ...
Add the given names to the direct recipient list.
.Pp
.It Ic ~v
Invoke an alternate editor (defined by the
.Ev VISUAL
option) on the
message collected so far.
Usually, the alternate editor will be a
screen editor.
After you quit the editor, you may resume appending
text to the end of your message.
.Pp
.It Ic ~w Ns Ar filename
Write the message onto the named file.
.Pp
.It Ic ~x
Abort the message being sent.
No message is copied to
.Pa ~/dead.letter ,
even if
.Ic save
is set.
.Pp
.It Ic ~?
Prints a brief summary of tilde escapes.
.Pp
.It Ic ~! Ns Ar command
Execute the indicated shell command, then return to the message.
.Pp
.It Ic ~| Ns Ar command
Pipe the message through the command as a filter.
If the command gives
no output or terminates abnormally, retain the original text of the
message.
The command
.Xr fmt 1
is often used as
.Ic command
to rejustify the message.
.Pp
.It Ic ~: Ns Ar mail-command
.It Ic ~_ Ns Ar mail-command
Execute the given mail command.
Not all commands, however, are allowed.
.Pp
.It Ic ~~ Ns Ar string
Insert the string of text in the message prefaced by a single ~.
If
you have changed the escape character, then you should double
that character in order to send it.
.Pp
.It Ic ~.
Simulate end of file on input.
.El
.Ss Mail options
Options are controlled via
.Ic set
and
.Ic unset
commands.
Options may be either binary, in which case it is only
significant to see whether they are set or not; or string, in which
case the actual value is of interest.
The binary options include the following:
.Bl -tag -width append
.It Ar append
Causes messages saved in
.Ar mbox
to be appended to the end rather than prepended.
This should always be set (perhaps in
.Pa /etc/mail.rc ) .
.It Ar ask , asksub
Causes
.Nm mail
to prompt you for the subject of each message you send.
If
you respond with simply a newline, no subject field will be sent.
.It Ar askbcc
Causes you to be prompted for additional blind carbon copy recipients at the
end of each message.
Responding with a newline indicates your
satisfaction with the current list.
.It Ar askcc
Causes you to be prompted for additional carbon copy recipients at the
end of each message.
Responding with a newline indicates your
satisfaction with the current list.
.It Ar autoinc
Causes new mail to be automatically incorporated when it arrives.
Setting this is similar to issuing the
.Ic inc
command at each prompt, except that the current message is not
reset when new mail arrives.
.It Ar autoprint
Causes the
.Ic delete
command to behave like
.Ic dp ;
thus, after deleting a message, the next one will be typed
automatically.
.It Ar debug
Setting the binary option
.Ar debug
is the same as specifying
.Fl d
on the command line and causes
.Nm mail
to output all sorts of information useful for debugging
.Nm mail .
.It Ar dot
The binary option
.Ar dot
causes
.Nm mail
to interpret a period alone on a line as the terminator
of a message you are sending.
.It Ar expandaddr
Causes
.Nm mail
to expand message recipient addresses, as explained in the section
.Sx Recipient address specifications .
.It Ar from
Causes
.Nm mail
to use the specified sender address in the
.Dq From:
field of the message header.
A stripped down version of the address is also used in the message envelope.
If unset, the message will not include an explicit sender address and
a default value will be added by the MTA, typically
.Dq user@@host .
This value can be overridden by specifying the
.Fl r
flag on the command line.
.It Ar hold
This option is used to hold messages in the system mailbox
by default.
.It Ar ignore
Causes interrupt signals from your terminal to be ignored and echoed as
@@'s.
.It Ar ignoreeof
An option related to
.Ar dot
is
.Ar ignoreeof
which makes
.Nm mail
refuse to accept a control-D as the end of a message.
.Ar ignoreeof
also applies to
.Nm mail
command mode.
.It Ar keep
Setting this option causes
.Nm
to truncate your system mailbox instead of deleting it
when it's empty.
.It Ar keepsave
Messages saved with the
.Ic save
command are not normally saved in
.Ar mbox
at quit time.
Use this option to retain those messages.
.It Ar metoo
Usually, when a group is expanded that contains the sender, the sender
is removed from the expansion.
Setting this option causes the sender
to be included in the group.
.It Ar noheader
Setting the option
.Ar noheader
is the same as giving the
.Fl N
flag on the command line.
.It Ar nosave
Normally, when you abort a message with two interrupt characters
(usually control-C),
.Nm mail
copies the partial letter to the file
.Pa dead.letter
in your home directory.
Setting the binary option
.Ar nosave
prevents this.
.It Ar quiet
Suppresses the printing of the version when first invoked.
.It Ar Replyall
Reverses the sense of
.Ic reply
and
.Ic Reply
commands.
.It Ar searchheaders
If this option is set, then a message-list specifier in the form
.Dq /x:y
will expand to all messages containing the substring
.Sq y
in the header
field
.Sq x .
The string search is case insensitive.
If
.Sq x
is omitted, it will default to the
.Dq Subject
header field.
The form
.Dq /to:y
is a special case, and will expand
to all messages containing the substring
.Sq y
in the
.Dq To ,
.Dq Cc
or
.Dq Bcc
header fields.
The check for
.Dq to
is case sensitive, so that
.Dq /To:y
can be used to limit the search for
.Sq y
to just the
.Dq To:
field.
.It Ar skipempty
Don't send messages with an empty body.
.It Ar verbose
Setting the option
.Ar verbose
is the same as using the
.Fl v
flag on the command line.
When
.Nm
runs in verbose mode,
the actual delivery of messages is displayed on the user's
terminal.
.El
.Ss Option string values
.Bl -tag -width Va
.It Ev EDITOR
Pathname of the text editor to use in the
.Ic edit
command and
.Ic ~e
escape.
If not defined,
.Pa /usr/bin/ex
is used.
.It Ev LISTER
Pathname of the directory lister to use in the
.Ic folders
command.
Default is
.Pa /bin/ls .
.It Ev MBOX
The name of the
.Ar mbox
file.
It can be the name of a folder.
The default is
.Dq Li mbox
in the user's home directory.
.It Ev PAGER
Pathname of the program to use in the
.Ic more
command or when the
.Ar crt
variable is set.
The default paginator
.Xr more 1
is used if this option is not defined.
.It Ev SHELL
Pathname of the shell to use in the
.Ic !\&
command and the
.Ic ~!\&
escape.
A default shell is used if this option is
not defined.
.It Ev VISUAL
Pathname of the text editor to use in the
.Ic visual
command and
.Ic ~v
escape.
If not defined,
.Pa /usr/bin/vi
is used.
.It Ar crt
The valued option
.Ar crt
is used as a threshold to determine how long a message must
be before
.Ev PAGER
is used to read it.
If
.Ar crt
is set without a value,
then the height of the terminal screen stored in the system
is used to compute the threshold (see
.Xr stty 1 ) .
.It Ar escape
If defined, the first character of this option gives the character to
use in the place of ~ to denote escapes.
.It Ar folder
The name of the directory to use for storing folders of
messages.
If this name begins with a
.Ql / ,
.Nm mail
considers it to be an absolute pathname; otherwise, the
folder directory is found relative to your home directory.
.It Ar indentprefix
String used by the
.Ic ~m
tilde escape for indenting messages, in place of the normal tab character
.Pq Sq ^I .
Be sure to quote the value if it contains
spaces or tabs.
.It Ar record
If defined, gives the pathname of the file used to record all outgoing
mail.
If not defined, then outgoing mail is not so saved.
.It Ar screen
Size of window of message headers for
.Ic z .
.It Ar sendmail
Pathname to an alternative mail delivery system.
.It Ar toplines
If defined, gives the number of lines of a message to be printed out
with the
.Ic top
command; normally, the first five lines are printed.
.El
.Sh ENVIRONMENT
.Nm mail
utilizes the
.Ev HOME ,
.Ev LOGNAME ,
.Ev MAIL ,
.Ev MAILRC ,
and
.Ev USER
environment variables.
.Pp
If the
.Ev MAIL
environment variable is set, its value is used as the path to the
user's mail spool.
.Sh FILES
.Bl -tag -width /usr/share/misc/mail.*help -compact
.It Pa /var/mail/*
post office (unless overridden by the
.Ev MAIL
environment variable)
.It Pa ~/mbox
user's old mail
.It Pa ~/.mailrc
file giving initial mail commands; can be overridden by setting the
.Ev MAILRC
environment variable
.It Pa /tmp/R*
temporary files
.It Pa /usr/share/misc/mail.*help
help files
.It Pa /etc/mail.rc
system initialization file
.El
.Sh EXIT STATUS
.Ex -std mail
.Sh SEE ALSO
.Xr fmt 1 ,
.Xr lockspool 1 ,
.Xr vacation 1 ,
.Xr aliases 5 ,
.Xr mailaddr 7 ,
.Xr mail.local 8 ,
.Xr newaliases 8 ,
.Xr sendmail 8 ,
.Xr smtpd 8
.Sh STANDARDS
The
.Nm mailx
utility is compliant with the
.St -p1003.1-2008
specification.
.Pp
The flags
.Op Fl iNnu
are marked by
.St -p1003.1-2008
as being optional.
.Pp
The flags
.Op Fl eFH
are marked by
.St -p1003.1-2008
as being optional,
and are not supported by this implementation of
.Nm mailx .
.Pp
The flags
.Op Fl bcdEIrv
are extensions to the specification.
.Sh HISTORY
A
.Nm mail
command appeared in
.At v3 .
This man page is derived from the
.%T "Mail Reference Manual"
originally written by Kurt Shoens.
.Sh BUGS
Usually,
.Nm mail
and
.Nm mailx
are just links to
.Nm Mail ,
which can be confusing.
@


1.75
log
@add missing file system path (.Pa) macros.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.74 2015/01/20 19:20:45 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: January 20 2015 $
a1141 2
.It Ev TMPDIR
Directory in which temporary files are stored.
@


1.74
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.73 2015/01/20 16:59:07 millert Exp $
d1220 1
a1220 1
.It ~/mbox
d1222 1
a1222 1
.It ~/.mailrc
@


1.73
log
@Add support for the "-r fromaddr" flag now that we don't support
sendmail flags on the command line.
Also allow "from" to be set in mailrc.
Use sendmail's "-t" flag when executing sendmail instead of specifying
the list of recipients in argv.  The "-f" flag will be used to set
the from address if specified.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.72 2015/01/07 17:08:21 millert Exp $
d32 1
a32 1
.Dd $Mdocdate: January 7 2015 $
d118 1
a118 1
.Em from
d1267 1
a1267 1
.Op Fl bcdEIv
@


1.72
log
@It is the copy command that is abbreviated as 'c', not chdir.
Also document that cd is an alias for chdir.  From Kaspars Bankovskis.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.71 2015/01/07 17:01:39 millert Exp $
d46 1
d113 7
d980 13
@


1.71
log
@Document the '=' command; from trondd at gmail
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.70 2014/12/16 18:37:17 millert Exp $
d32 1
a32 1
.Dd $Mdocdate: December 16 2014 $
d427 3
a429 1
.Pq Ic c
d434 1
a434 1
.Pq Ic co
@


1.70
log
@Don't pass options after the to address to sendmail.  The only
legitiate use of this is to set the sender name which should be
handled specifically by a different option.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.69 2014/12/16 18:36:46 millert Exp $
d388 2
@


1.69
log
@Add new "expandaddr" flag (disabled by default) to enable recipient
address expansion and document it.  Previously, this behavior was
always enabled.  Also document how address expansion is performed,
which used to only be described in the (no longer installed) Mail
Reference Manual.  CVE-2014-7844
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.68 2014/11/24 22:30:16 millert Exp $
d32 1
a32 1
.Dd $Mdocdate: November 24 2014 $
a47 1
.Op Fl Ar sendmail-options ...
@


1.68
log
@Change "will write" back to "writes" in -f description.  From jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.67 2014/11/24 20:03:33 millert Exp $
d306 41
d964 5
@


1.67
log
@The handling of the -f option is a hack.  Instead of fooling around
with argv behind getopt()'s back we can just treat the remainder
of argv[] after option processing as the file name for -f.  It is
not possible to use -f in sending mode so there is no ambiguity.
OK tobias@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.66 2014/11/24 20:01:43 millert Exp $
d91 1
a91 1
will write undeleted messages back to this
@


1.66
log
@Remove undocumented and obsolete -T option.  It was intended for
use with old netnews.  OK sobrado@@ tobias@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.65 2014/03/27 13:08:24 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: March 27 2014 $
d82 8
a89 5
.It Fl f Op Ar file
Read in the contents of your mailbox
(or the specified
.Ar file )
for processing; when you quit,
d91 1
a91 1
writes undeleted messages back to this
@


1.65
log
@make this page less sendmail-centric; ok gilles
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.64 2014/03/10 11:17:11 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: March 10 2014 $
a1204 4
There are some flags that are not documented here.
Most are
not useful to the general user.
.Pp
@


1.64
log
@pedantic word change;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.63 2014/01/20 05:07:48 schwarze Exp $
d32 1
a32 1
.Dd $Mdocdate: January 20 2014 $
d293 1
a293 3
.Xr aliases 5
and
.Xr sendmail 8 ) ;
d302 1
a302 2
alias expanded as all mail goes through
.Xr sendmail 8 .
d1170 2
a1171 1
.Xr sendmail 8
@


1.63
log
@Obvious .Xr fixes, found while testing mandocdb(8).
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.62 2014/01/08 16:19:24 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: January 8 2014 $
d1192 1
a1192 1
but are not supported by this implementation of
@


1.62
log
@flesh out STANDARDS somewhat; help/ok sobrado
this was also ok millert some time ago
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.61 2013/07/18 07:11:00 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: July 18 2013 $
d305 1
a305 1
.Xr sendmail .
@


1.61
log
@document the :c selectors; from Sunil Nimmagadda
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.60 2010/11/07 08:05:56 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: November 7 2010 $
d1182 14
d1197 1
a1197 1
are extensions to that specification.
@


1.60
log
@more EXIT STATUS bits; from Daniel Dickman
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.59 2010/01/10 10:53:33 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: January 10 2010 $
d209 24
a232 8
The special name
.Sq *
addresses all messages and
.Sq $
addresses
the last message; thus the command
.Ic top
which prints the first few lines of a message could be used in
@


1.59
log
@remove references to docs we no longer install;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.58 2009/07/29 18:15:38 martynas Exp $
d32 1
a32 1
.Dd $Mdocdate: July 29 2009 $
d1147 2
@


1.58
log
@- ~<, ~_ are undocumented aliases of ~r, ~:
- missing documentation for ~.
- use compact list, and .Pp.  so that aliases could be listed
- reformat to fit aliases in tilde help
with help & ok jmc@@, sobrado@@, millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.57 2009/02/10 19:27:03 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: Febuary 10 2009 $
a1155 3
.Pp
"Mail Reference Manual",
.Pa /usr/share/doc/usd/07.mail/ .
@


1.57
log
@mark these utilities as being largely posix compliant or, in the case of
nm, as not being posix compliant;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.56 2008/11/03 18:50:12 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: November 3 2008 $
d716 2
a717 1
.Bl -tag -width Ds
d721 1
d724 1
d729 1
d735 1
d740 1
d749 1
d754 1
d759 1
d771 1
d775 1
d782 1
d784 1
d786 1
d789 1
d792 1
d802 1
d805 1
d813 1
d816 1
d819 1
d830 1
d832 1
d835 1
d841 3
@


1.56
log
@update the tilde escapes for both these files,
and try and keep them in a similar format/order;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.55 2008/11/03 15:42:35 martynas Exp $
d1132 10
@


1.55
log
@add ~x;  which is quite handy sometimes.  per posix
man page tweak&ok jmc@@.  ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.54 2008/10/08 21:05:53 martynas Exp $
d32 1
a32 1
.Dd $Mdocdate: October 8 2008 $
a716 2
.It Ic ~! Ns Ar command
Execute the indicated shell command, then return to the message.
d795 4
@


1.54
log
@document -d.  ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.53 2008/07/16 15:11:16 martynas Exp $
d32 1
a32 1
.Dd $Mdocdate: July 16 2008 $
d790 7
@


1.53
log
@add -E flag and 'skipempty' option to skip sending messages with
empty bodies.  useful for sending mails from crontabs.
from rivo nurges <rix at estpak dot ee>, with missing 'skipempty'
documentation and usage update from me
ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.52 2008/07/16 14:56:11 martynas Exp $
d43 1
a43 1
.Op Fl EIinv
d51 1
a51 1
.Op Fl EIiNnv
d55 1
a55 1
.Op Fl EIiNnv
d75 5
@


1.52
log
@man page tweaks:
- for argument of -f flag, name -> file
- document TMPDIR, better description from millert@@
ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.51 2007/08/06 19:16:06 sobrado Exp $
d32 1
a32 1
.Dd $Mdocdate: August 6 2007 $
d43 1
a43 1
.Op Fl Iinv
d51 1
a51 1
.Op Fl IiNnv
d55 1
a55 1
.Op Fl IiNnv
d75 2
d959 2
@


1.51
log
@the ellipsis is not an optional argument; while here, sync the usage
and synopsis of commands

lots of good ideas by jmc@@

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.50 2007/05/31 19:20:12 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: May 31 2007 $
d53 1
a53 1
.Op Ar name
d75 1
a75 1
.It Fl f Op Ar name
d77 2
a78 2
(or the specified file
.Ar name )
d81 2
a82 1
writes undeleted messages back to this file.
d1011 2
@


1.50
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.49 2007/02/26 13:38:26 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate$
d47 2
a48 2
.Ar to-addr Op Ar ...
.Op Fl Ar sendmail-options Op Ar ...
@


1.49
log
@more small fixes from Igor Sobrado, tweaked by myself;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.47 2007/02/25 20:26:10 jmc Exp $
d32 1
a32 1
.Dd April 28, 1995
@


1.48
log
@some small fixes from Igor Sobrado;
@
text
@a332 20
.It Ic Print
.Pq Ic P
Like
.Ic print
but also prints out ignored header fields.
See also
.Ic print ,
.Ic ignore ,
and
.Ic retain .
.It Ic Reply
.Pq Ic R
Reply to originator.
Does not reply to other
recipients of the original message.
.It Ic Type
.Pq Ic T
Identical to the
.Ic Print
command.
d508 10
d545 5
d641 5
d658 1
a658 3
Takes a message list and marks each message as
.Ic not
being deleted.
d661 1
a661 3
Takes a message list and marks each message as
.Ic not
having been read.
d676 1
a676 2
.Pf ( Ar without
the header)
d725 4
a736 4
.It Ic ~F Ns Ar messages
Identical to
.Ic ~f ,
except all message headers are included.
d741 4
a755 4
.It Ic ~M Ns Ar messages
Identical to
.Ic ~m ,
except all message headers are included.
d997 1
a997 1
.Ic crt
d1019 1
a1019 1
.It Va crt
d1021 1
a1021 1
.Va crt
d1027 1
a1027 1
.Va crt
@


1.47
log
@remove bad comma; from Igor Sobrado
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.46 2004/12/07 22:30:55 jmc Exp $
d145 1
a145 1
.Ar Replying to or originating mail ,
a424 2
.It Ic folders
List the names of the folders in your folder directory.
d444 2
d919 2
a926 2
.It Ar quiet
Suppresses the printing of the version when first invoked.
d1114 1
a1114 1
"The Mail Reference Manual",
d1121 2
a1122 2
This man page is derived from
.%T "The Mail Reference Manual"
@


1.46
log
@remove unsupported paths;
from okan demirmen;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.45 2004/06/04 00:07:12 jmc Exp $
d267 1
a267 1
.Pa /etc/mail/aliases ,
@


1.45
log
@sync w/ usd docs;
ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.44 2004/04/30 06:52:48 jmc Exp $
d122 3
a124 6
will execute commands in the system command files
.Pa /usr/share/misc/mail.rc ,
.Pa /usr/local/etc/mail.rc
and
.Pa /etc/mail.rc
in order unless explicitly told not to by using the
@


1.44
log
@missing full stop;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.43 2004/04/19 10:17:18 jmc Exp $
d109 1
a109 1
Is equivalent to:
d231 1
a231 1
tab-stop (see
d235 1
a235 1
to the message and allow you to escape to an editor to revise the
d248 1
a248 1
file unless they have been deleted in which case they are discarded.
d343 1
a343 1
.Ic ignore
d409 1
a409 1
.Dq Li "at EOF" .
d454 4
a457 8
Lists the current range of headers, which is an 18\-message group.
If
a
.Ql +
argument is given, the next 18\-message group is printed; if
a
.Ql -
argument is given, the previous 18\-message group is printed.
d497 5
d508 1
a508 1
.Ic mbox
a586 12
.It Ic set
.Pq Ic se
With no arguments, prints all variable values.
Otherwise, sets
option.
Arguments are of the form
.Ar option=value
(no space before or after =) or
.Ar option .
Quotation marks may be placed around any part of the assignment statement to
quote blanks or tabs, i.e.,
.Ic set indentprefix="->" .
d620 12
d832 5
a847 5
.It Ar askbcc
Causes you to be prompted for additional blind carbon copy recipients at the
end of each message.
Responding with a newline indicates your
satisfaction with the current list.
d889 12
d934 1
a934 1
.Dq y
d937 1
a937 1
.Dq x .
d940 1
a940 1
.Dq x
d948 1
a948 1
.Dq y
d960 1
a960 1
.Dq y
d970 3
a972 1
When mail runs in verbose mode,
d984 3
a986 1
If not defined, then a default editor is used.
d993 8
d1004 1
a1004 1
command or when
d1024 3
a1050 12
.It Ev MBOX
The name of the
.Ar mbox
file.
It can be the name of a folder.
The default is
.Dq Li mbox
in the user's home directory.
.It Ar record
If defined, gives the pathname of the file used to record all outgoing
mail.
If not defined, then outgoing mail is not so saved.
d1058 9
d1078 2
@


1.43
log
@- sort SYNOPSIS
- remove a load of unnecessary quoting and some groff cruft
- sort options list
- add usd doc to SEE ALSO
- sync usage()
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.42 2003/09/04 22:14:42 jmc Exp $
d1039 1
a1039 1
.Pq Sq ^I
@


1.42
log
@put escapes in the right place;
(i.e. stuff I got wrong the first time, or missed)

this includes some .Cd's with missing quotes and .Nm abuse in man4;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.41 2003/09/04 14:09:05 jmc Exp $
d43 3
a45 1
.Op Fl iInv
a46 2
.Op Fl c Ar list
.Op Fl b Ar list
d51 1
a51 1
.Op Fl iInNv
d55 1
a55 1
.Op Fl iInNv
d61 1
a61 1
.Xr \&ed 1
d66 14
a79 8
.It Fl v
Verbose mode.
The details of
delivery are displayed on the user's terminal.
.It Fl i
Ignore tty interrupt signals.
This is
particularly useful when using
d81 1
a81 1
on noisy phone lines.
d87 1
a87 1
.Ic \&~
d89 9
a101 3
.It Fl N
Inhibits initial display of message headers
when reading mail or editing a mail folder.
a107 16
.It Fl c Ar list
Send carbon copies to
.Ar list
of users.
.Ar list
should be a comma separated list of names.
.It Fl b Ar list
Send blind carbon copies to
.Ar list .
.It Fl f Ar name
Read in the contents of your mailbox
(or the specified file
.Ar name )
for processing; when you quit,
.Nm mail
writes undeleted messages back to this file.
d114 4
d166 1
a166 1
.Ic \&+
d168 1
a168 1
.Ic \&-
d205 1
a205 1
.Sq \&*
d207 1
a207 1
.Sq \&$
d212 1
a212 1
.Ic top \&*
d263 1
a263 1
.Pa \&.mailrc
d315 1
a315 1
.Dq Li \&No applicable messages
d319 1
a319 1
.It Ic \&\-
d447 1
a447 1
\&+\&folder means a file in your folder
d457 1
a457 1
.Ql \&+
d460 1
a460 1
.Ql \&\-
d516 1
a516 1
.Pq Ic \mo
d521 1
a521 1
.Ic \&+
a612 1
.pl +1
d699 1
a699 1
.Ic \&z
d702 1
a702 1
.Ic \&z\&\- .
d716 1
a716 1
.It Ic \&~! Ns Ar command
d718 1
a718 1
.It Ic \&~b Ns Ar name ...
d721 1
a721 1
.It Ic \&~c Ns Ar name ...
d723 1
a723 1
.It Ic \&~d
d727 1
a727 1
.It Ic \&~e
d732 1
a732 1
.It Ic \&~f Ns Ar messages
d740 1
a740 1
.It Ic \&~F Ns Ar messages
d742 1
a742 1
.Ic \&~f ,
d744 1
a744 1
.It Ic \&~h
d748 1
a748 1
.It Ic \&~m Ns Ar messages
d759 1
a759 1
.It Ic \&~M Ns Ar messages
d761 1
a761 1
.Ic \&~m ,
d763 1
a763 1
.It Ic \&~p
d766 1
a766 1
.It Ic \&~q
d772 1
a772 1
.It Ic \&~r Ns Ar filename
d774 1
a774 1
.It Ic \&~s Ns Ar string
d776 1
a776 1
.It Ic \&~\&t Ns Ar name ...
d778 1
a778 1
.It Ic \&~\&v
d787 1
a787 1
.It Ic \&~w Ns Ar filename
d789 1
a789 1
.It Ic \&~\&| Ns Ar command
d799 1
a799 1
.It Ic \&~: Ns Ar mail-command
d802 1
a802 1
.It Ic \&~~ Ns Ar string
d967 1
a967 1
.Ic \&~e
d997 1
a997 1
.Ic \&~v
d1037 1
a1037 1
.Ic \&~m
d1089 3
a1091 3
.Rs
.%T "The Mail Reference Manual"
.Re
@


1.41
log
@escape in the wrong place;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.40 2003/07/14 09:27:40 jmc Exp $
d990 1
a990 1
.Ic \&~!
@


1.40
log
@remove some old groff macros;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.39 2003/06/28 14:25:34 jmc Exp $
d988 1
a988 1
.Ic \&!
@


1.39
log
@use .Bk/.Ek to align the options in SYNOPSIS;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.38 2003/06/10 09:12:11 jmc Exp $
a464 1
.ne li
a740 1
.ne li
a831 1
.ne li
a999 1
.ne li
@


1.38
log
@- section reorder
- COMPATIBILITY merge
- macro cleanup
- kill whitespace at EOL
- new sentence, new line

ssh pages ok markus@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.37 2003/06/03 02:56:11 millert Exp $
d42 1
d49 1
@


1.37
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.36 2003/01/03 19:17:17 millert Exp $
a149 1
.Pp
a168 1
.Pp
a189 1
.Pp
a211 1
.Pp
a236 1
.Pp
a249 1
.Pp
a282 1
.Pp
@


1.36
log
@DEL hasn't sent SIGINTR in a looooong time.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.35 2002/11/14 02:57:28 deraadt Exp $
d14 1
a14 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.35
log
@use $ or # before commands in examples
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.34 2002/01/24 20:33:45 mickey Exp $
d896 1
a896 1
refuse to accept a control-d as the end of a message.
d913 2
a914 3
Normally, when you abort a message with two
.Tn RUBOUT
(erase or delete)
@


1.34
log
@fix the history refs
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.33 2000/11/09 17:52:21 aaron Exp $
d117 1
a117 1
.Dl mail -f /var/mail/user
@


1.33
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.32 2000/06/26 23:18:39 hugh Exp $
d1111 1
a1111 1
.At v5 .
@


1.32
log
@fix pasto; noted by art
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.31 2000/06/11 21:03:40 millert Exp $
d67 1
a67 1
.Bl -tag -width flag
@


1.31
log
@newaliases(1) -> newaliases(8)
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.30 2000/05/15 06:55:44 deraadt Exp $
d500 4
a510 4
If
.Ic ignore
is executed with no arguments, it lists the current set of
ignored fields.
@


1.30
log
@/etc/mail/aliases
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.29 2000/04/12 21:47:48 aaron Exp $
a1097 1
.Xr newaliases 1 ,
d1102 1
@


1.29
log
@Trailing whitespace begone!
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.28 2000/03/24 21:41:08 aaron Exp $
d278 1
a278 1
.Pa /etc/aliases ,
@


1.28
log
@Correct the HISTORY section to note that this command appeared in Version 5
of AT&T UNIX, not Version 6. Verified by strings(1)'ing a .dsk file (PDP-11
executable) containing the v5 sources, obtainable at gatekeeper.dec.com in the
directory /pub/DEC/sim/software. Idea from NetBSD PR/4790.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.27 2000/03/10 19:07:20 aaron Exp $
d693 2
a694 3
.Po Ar without\ 
the header
.Pc
@


1.27
log
@Various cleanups and standardization.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.26 2000/03/04 20:02:23 aaron Exp $
d1111 2
a1112 3
command
appeared in
.At v6 .
@


1.26
log
@Try to standardize the options list introduction; it should read "The options
are as follows:", except in special cases.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.25 1999/10/16 20:47:40 aaron Exp $
d131 2
a132 1
option. Next, the commands in the user's personal command file
d940 2
a941 1
The string search is case insensitive. If
@


1.25
log
@Formatting fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.24 1999/06/05 01:21:33 aaron Exp $
d65 2
@


1.24
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.23 1999/05/12 13:26:51 aaron Exp $
d207 1
a207 1
.Dq \&*
d209 1
a209 1
.Dq \&$
d300 1
a300 1
.Dq Li set askcc
d463 1
a463 1
.Dq \&+
d466 1
a466 1
.Dq \&\-
d603 2
a604 2
quote blanks or tabs, i.e.
.Dq Li "set indentprefix=\*q->\*q" .
d606 1
a606 1
.Ic Saveignore
d622 1
a622 1
.Ic Saveretain
d636 1
a636 1
.Ic Saveretain
d761 1
a761 1
.Ar indentprefix .
d835 1
a835 1
.It Ar ask, asksub
d862 2
a863 2
.Ic dp
\- thus, after deleting a message, the next one will be typed
d895 1
a895 1
.Ar Ignoreeof
d1031 1
a1031 1
.Dq / ,
@


1.23
log
@grammar police: do not hyphenate compound words that act as adjectives if the
first word ends in -ly

i.e., fully-qualified, newly-created, globally-visible, etc. are wrong
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.22 1998/11/19 23:23:49 aaron Exp $
d38 1
a38 1
.Os BSD 4
d121 1
a121 1
.Nm mail 
d123 1
a123 1
.Pa /usr/share/misc/mail.rc , 
d126 1
a126 1
.Pa /etc/mail.rc 
d129 2
a130 2
option. Next, the commands in the user's personal command file 
.Pa ~/.mailrc 
d307 1
a307 1
.Dq Mail Reference Manual . ) 
d1048 1
a1048 1
String used by the 
@


1.22
log
@significant cleanup; also s/INTRODUCTION/DESCRIPTION/, in particular for man -h
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.21 1998/11/11 23:01:45 aaron Exp $
d364 1
a364 1
With no arguments, prints out all currently-defined aliases.
@


1.21
log
@remove redundant .Pp macros
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.20 1998/09/27 21:20:45 millert Exp $
d48 2
a49 2
.Op Fl c Ar cc-addr
.Op Fl b Ar bcc-addr
d59 1
a59 1
.Sh INTRODUCTION
d77 6
a82 6
Forces mail to run in interactive mode even when
input isn't a terminal.
In particular, the
.Sq Ic \&~
special
character when sending mail is only active in interactive mode.
d88 1
a88 1
Inhibits the initial display of message headers
d95 2
a96 2
containing spaces.)
.It Fl c Ar cc-addr
d100 3
a102 1
.It Fl b Ar bcc-addr
d105 5
a109 7
List should be a comma-separated list of names.
.It Fl f
Read in the contents of your
.Ar mbox
(or the specified file)
for processing; when you
.Ar quit  ,
d116 2
a117 1
Except that locking is done.
d120 1
a120 1
At startup time
d124 1
a124 1
.Pa /usr/local/etc/mail.rc ,
d129 1
a129 1
option.  Next, the commands in the user's personal command file 
d143 2
a144 2
by an
.Sq Li control\-D
d153 1
a153 1
In normal usage
d158 1
a158 1
The current message is initially the first message (numbered 1)
d163 4
a166 4
You can move among the messages much as you move between lines in
.Xr \&ed 1 ,
with the commands
.Ql Ic \&+
d168 3
a170 3
.Ql Ic \&\-
moving backwards and forwards, and
simple numbers.
d172 1
a172 1
.Ss Disposing of mail.
d176 1
a176 1
the message or
d192 1
a192 1
Deleted messages will, however, usually disappear never to be seen again.
d202 1
a202 1
.Dq Li delete 1 2
d204 1
a204 1
.Dq Li delete 1\-5
d207 3
a209 3
.Ql Li \&*
addresses all messages, and
.Ql Li \&$
d214 1
a214 1
.Dq Li top \&*
d217 1
a217 1
.Ss Replying to or originating mail.
d227 3
a229 3
treats lines beginning with the character
.Ql Ic \&~
specially.
d231 1
a231 1
.Ql Ic \&~m
d233 3
a235 3
of the current message into the response right shifting it by a tabstop
(see
.Em indentprefix
d243 1
a243 1
.Ss Ending a mail processing session.
d253 1
a253 2
Unexamined messages go back to the post office.
(See the
d257 1
a257 1
.Ss Personal and systemwide distribution lists.
d273 1
a273 1
.Nm mail  .
d276 2
a277 2
see
.Xr aliases  5
d279 1
a279 1
.Xr sendmail  8  ;
d285 1
a285 2
System wide
.Ic aliases
d289 1
a289 1
.Xr sendmail  .
d306 2
a307 1
(Adapted from the `Mail Reference Manual')
d312 1
a312 1
entirety \- the first command which matches the typed prefix is used.
d329 1
a329 1
.Ar n  ,
d331 1
a331 1
.Ar n Ns 'th
d406 1
a406 1
.Ar mbox  ,
d429 1
a429 1
.Fl f  .
d433 1
a433 1
.Ic folder  .
d463 2
a464 2
.Ql \&+
argument is given, then the next 18\-message group is printed, and if
d466 1
a466 1
.Ql \&\-
d470 1
a470 1
.Ic \&?  .
d479 1
a479 1
.Ar mbox  .
d536 1
a536 1
.Ic hold  .
d571 1
a571 1
.Ic reply  .
d574 1
a574 1
.Ar retained list  .
d604 1
a604 1
.Dq Li "set indentprefix=\*q->\*q"
d614 1
a614 1
.Ic type  .
d619 1
a619 1
.Ar mbox  .
d630 1
a630 1
.Ic type  .
d635 1
a635 1
.Ar mbox  .
d638 1
a638 1
.Ic saveignore  .
d659 1
a659 1
.Ic print  .
d679 1
a679 1
.Ic set  .
d686 1
a686 1
.Ic save  ,
d699 1
a699 1
.Ic exit  .
d711 1
a711 1
.Ic \&z\&\-  .
d713 1
a713 1
.Ss Tilde/Escapes
d720 1
a720 1
.Dq Em tilde\ escape
d734 1
a734 1
.Dq Pa dead.letter
d761 1
a761 1
.Ar indentprefix  .
d778 1
a778 1
.Dq Pa dead.letter
d818 1
a818 1
.Ss Mail Options
d873 1
a873 1
.Nm mail  .
d916 1
a916 1
.Dq Pa dead.letter
d930 32
a961 10
If this option is set, then a message-list specifier in the form ``/x:y''
will expand to all messages containing the substring ``y'' in the header
field ``x''.  The string search is case insensitive.
If ``x'' is omitted, it will default to the ``Subject'' header field.
The form ``/to:y'' is a special case, and will expand
to all messages containing the substring ``y'' in the ``To'', ``Cc''
or ``Bcc'' header fields.
The check for "to" is case sensitive, so that
``/To:y'' can be used to limit the search for ``y'' to just
the ``To:'' field.
d972 1
a972 1
.Ss Option String Values
d1030 2
a1031 1
If this name begins with a `/',
d1048 4
a1051 2
String used by the ``~m'' tilde escape for indenting messages, in place of
the normal tab character (^I).
d1076 1
a1076 1
Post office (unless overridden by the
d1078 1
a1078 1
environment variable).
d1080 1
a1080 1
User's old mail.
d1082 1
a1082 2
File giving initial mail commands.
This can be overridden by setting the
d1084 1
a1084 1
environment variable.
d1086 1
a1086 1
Temporary files.
d1088 1
a1088 1
Help files.
d1090 1
a1090 1
System initialization file.
a1100 1
and
d1102 1
a1102 1
.%T "The Mail Reference Manual" .
d1123 1
a1123 1
.Nm Mail  ,
@


1.20
log
@mail -u foo is not really the same as mail -f /var/mail/foo
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.19 1998/09/26 19:55:05 aaron Exp $
a64 1
.Pp
a713 1
.Pp
@


1.19
log
@usr.bin/ man page fixes, f-m.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.18 1998/09/13 03:50:23 aaron Exp $
d117 1
@


1.18
log
@typos
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.17 1998/09/10 16:47:02 millert Exp $
d50 2
a51 2
.Ar to-addr...
.Op Fl Ar sendmail-options...
d60 1
a60 1
.Nm Mail
d297 1
a297 1
.Nm Mail
d701 1
a701 1
.Nm Mail
d1037 1
a1037 1
.Nm Mail
@


1.17
log
@.Xr lockspool 1
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.16 1998/09/10 16:04:21 millert Exp $
d61 1
a61 1
is an intelligent mail processing system, which has
d145 1
a145 1
The section below
d321 1
a321 1
.Dq Li No applicable messages
d560 1
a560 1
affected, unless the rewrite of edit file fails, in which case the user
@


1.16
log
@make mail.1 nroff'able again
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.15 1998/09/07 16:44:33 aaron Exp $
d1071 1
@


1.15
log
@More man page fixes. Particularly fix uses of it's/its, affect/effect,
then/than and such. Other miscellaneous problems fixed across these source
files.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.14 1998/09/06 22:23:17 aaron Exp $
d690 4
a693 2
.Po Ar without
the header) is saved.
@


1.14
log
@More man page fixes. Spelling, grammar, some typos. Lots of double-word
occurrences squashed as well.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.13 1998/09/01 16:38:24 deraadt Exp $
d128 1
a128 1
option.  Next, the commands in the users personal command file 
d258 1
a258 1
It is also possible to create a personal distribution lists so that,
d425 1
a425 1
Effects an immediate return to the Shell without
d470 1
a470 1
.Ic \&?
d527 1
a527 2
(
like
d559 2
a560 2
A return to the Shell is
effected, unless the rewrite of edit file fails, in which case the user
d574 1
a574 1
.Ar retained list
d690 1
a690 1
.Pq Ar without
@


1.13
log
@more man page fixes; aaron@@ug.cs.dal.ca
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.12 1998/07/16 06:05:18 millert Exp $
d502 1
a502 1
This does not renumber the existing message list, nor does
@


1.12
log
@mention MAIL environment variable
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.11 1998/06/25 07:29:05 deraadt Exp $
d933 1
a933 1
If ``x'' is ommitted, it will default to the ``Subject'' header field.
@


1.11
log
@and mailx too..
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.10 1998/04/25 00:41:54 deraadt Exp $
d1043 5
d1051 3
a1053 1
Post office.
d1074 1
@


1.10
log
@doc startup behaviour; koshy@@india.hp.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.9 1998/04/25 00:19:55 deraadt Exp $
d1088 3
a1090 1
is just a link to
@


1.9
log
@fix usage; ru@@ucb.crimea.ua
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.8 1998/03/24 05:40:26 deraadt Exp $
d118 17
@


1.8
log
@prettty
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.7 1997/11/14 00:23:50 millert Exp $
d51 1
@


1.7
log
@NetBSD changes (mostly comsmetic):
    replace panic() with calls to err()/errx()
    use S_IS* instead of doing by hand with S_IF*.
    Use TIMESPEC_TO_TIMEVAL() and gettimeofday instead of time(2)
    Use _POSIX_VDISABLE, not 0
    Kill register
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.6 1997/11/04 08:34:31 deraadt Exp $
d90 1
a90 1
.It Fl s
d96 1
a96 1
.It Fl c
d100 1
a100 1
.It Fl b
d112 1
a112 1
.It Fl u
@


1.6
log
@unbalanced parenthesis around command abbreviation in mail.1; h-nokubi@@nmit.tmg.nec.co.jp
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.5 1997/07/13 21:21:14 millert Exp $
d40 3
a42 1
.Nm mail
@


1.5
log
@Merge in NetBSD and 4.4BSD-lite2 changes as well as some of my own.
 - handle long lines safely (from NetBSD)
 - use puts/fputs and putchar/putc when it makes sense
 - use err/errx and warn/warnx when it makes sense
 - make return() and sizeof() style consisten
 - some more buffer safety
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.4 1997/01/13 20:36:23 deraadt Exp $
d141 1
a141 1
.Ql Ic p ) .
d154 1
a154 1
.Ql Ic d )
d157 1
a157 1
.Ql Ic r )
d164 1
a164 1
.Ql Ic u )
d169 1
a169 1
.Ql Ic x )
d227 1
a227 1
.Ql Ic q )
d507 1
@


1.4
log
@doc "more" command; jdc@@orthanc.ncl.ac.uk
@
text
@d1 2
a2 1
.\"	$OpenBSD: mail.1,v 1.3 1996/10/26 05:11:04 millert Exp $
d34 1
a34 1
.\"	from: @@(#)mail.1	8.2 (Berkeley) 12/30/93
d36 1
a36 1
.Dd December 30, 1993
d451 1
d477 7
d600 1
d728 1
d820 1
d826 6
d912 7
d967 1
d1030 3
@


1.3
log
@honor $LOGNAME
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.2 1996/06/11 12:53:44 deraadt Exp $
d493 3
@


1.2
log
@from christos;
- Fix PR/105: Implement dot locking protocol and check return value of flock.
- Fix PR/2247: Don't call unknown users "ubluit". Issue an error message.
- Fix/add prototypes.
- Fix warnings.
- Use POSIX signal mask calls.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mail.1,v 1.5 1994/06/29 05:09:32 deraadt Exp $
d988 2
a989 1
.Ev HOME
@


1.1
log
@Initial revision
@
text
@d1 1
a33 1
.\"	$Id: mail.1,v 1.5 1994/06/29 05:09:32 deraadt Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
