head	1.22;
access;
symbols
	OPENBSD_6_2_BASE:1.22
	OPENBSD_6_1:1.22.0.10
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.22.0.6
	OPENBSD_6_0_BASE:1.22
	OPENBSD_5_9:1.22.0.2
	OPENBSD_5_9_BASE:1.22
	OPENBSD_5_8:1.22.0.4
	OPENBSD_5_8_BASE:1.22
	OPENBSD_5_7:1.21.0.2
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.20.0.6
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.20.0.4
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.19.0.8
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.19.0.6
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.19.0.4
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.2
	OPENBSD_5_0:1.18.0.18
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.16
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.18.0.14
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.10
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.18.0.12
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.8
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.6
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.4
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.18.0.2
	OPENBSD_4_2_BASE:1.18
	OPENBSD_4_1:1.17.0.10
	OPENBSD_4_1_BASE:1.17
	OPENBSD_4_0:1.17.0.8
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.17.0.6
	OPENBSD_3_9_BASE:1.17
	OPENBSD_3_8:1.17.0.4
	OPENBSD_3_8_BASE:1.17
	OPENBSD_3_7:1.17.0.2
	OPENBSD_3_7_BASE:1.17
	OPENBSD_3_6:1.16.0.2
	OPENBSD_3_6_BASE:1.16
	OPENBSD_3_5:1.15.0.4
	OPENBSD_3_5_BASE:1.15
	OPENBSD_3_4:1.15.0.2
	OPENBSD_3_4_BASE:1.15
	OPENBSD_3_3:1.13.0.6
	OPENBSD_3_3_BASE:1.13
	OPENBSD_3_2:1.13.0.4
	OPENBSD_3_2_BASE:1.13
	OPENBSD_3_1:1.13.0.2
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.12.0.4
	OPENBSD_3_0_BASE:1.12
	OPENBSD_2_9_BASE:1.12
	OPENBSD_2_9:1.12.0.2
	OPENBSD_2_8:1.10.0.4
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.9.0.2
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.7.0.2
	OPENBSD_2_5_BASE:1.7
	OPENBSD_2_4:1.6.0.4
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.6.0.2
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.5.0.4
	OPENBSD_2_2_BASE:1.5
	OPENBSD_2_1:1.5.0.2
	OPENBSD_2_1_BASE:1.5
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.22
date	2015.03.13.19.58.41;	author jmc;	state Exp;
branches;
next	1.21;
commitid	OcwhWBKGs3Yn7EeA;

1.21
date	2014.11.15.14.41.01;	author bentley;	state Exp;
branches;
next	1.20;
commitid	HuCemPIiOkto0SJD;

1.20
date	2013.08.14.06.32.30;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2012.01.15.20.06.40;	author schwarze;	state Exp;
branches;
next	1.18;

1.18
date	2007.05.31.19.20.19;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2005.01.09.16.37.02;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2004.08.18.21.27.20;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2003.06.10.09.12.12;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2003.06.03.02.56.22;	author millert;	state Exp;
branches;
next	1.13;

1.13
date	2001.11.09.00.56.24;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2000.11.14.13.36.42;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	2000.11.09.17.52.47;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.14.14.58.25;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	99.08.12.19.26.39;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	99.06.05.01.21.50;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	98.10.30.00.24.43;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	98.03.23.08.45.50;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	97.01.10.05.59.24;	author kstailey;	state Exp;
branches;
next	1.4;

1.4
date	96.08.12.02.28.43;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.07.08.22.09.45;	author ccappuc;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.42.45;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.46.50;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.46.50;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.22
log
@remove the first comma from constructs like ", and," and ", or,": you can use
"and" and "or" to join sentence clauses, and you can use commas, but both hinders
reading;
@
text
@.\"	$OpenBSD: w.1,v 1.21 2014/11/15 14:41:01 bentley Exp $
.\"
.\" Copyright (c) 1980, 1990, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @@(#)w.1	8.1 (Berkeley) 6/6/93
.\"
.Dd $Mdocdate: November 15 2014 $
.Dt W 1
.Os
.Sh NAME
.Nm w
.Nd display users who are logged on and what they are doing
.Sh SYNOPSIS
.Nm w
.Op Fl ahi
.Op Fl M Ar core
.Op Fl N Ar system
.Op Ar user
.Sh DESCRIPTION
The
.Nm
utility prints a summary of the current activity on the system,
including what each user is doing.
The first line displays the current time of day, how long the system has
been running, the number of users logged into the system, and the load
averages.
The load average numbers give the number of jobs in the run queue averaged
over 1, 5 and 15 minutes.
.Pp
The fields output are the user's login name, the name of the terminal the
user is on, the host from which the user is logged in, the time the user
logged on, the time since the user last typed anything,
and the name and arguments of the current process.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a
Attempt to translate network addresses into names.
.It Fl h
Suppress the heading.
.It Fl i
Output is sorted by idle time.
.It Fl M Ar core
Extract values associated with the name list from the specified
.Ar core
instead of the running kernel.
.It Fl N Ar system
Extract the name list from the specified
.Ar system
instead of the running kernel.
.El
.Pp
If a
.Ar user
name is specified, the output is restricted to that user.
.Sh FILES
.Bl -tag -width /var/run/utmp -compact
.It Pa /var/run/utmp
list of users on the system
.El
.Sh SEE ALSO
.Xr finger 1 ,
.Xr ps 1 ,
.Xr uptime 1 ,
.Xr who 1 ,
.Xr utmp 5
.Sh STANDARDS
The
.Fl f ,
.Fl l ,
.Fl s ,
.Fl u ,
and
.Fl w
flags are no longer supported.
.Sh HISTORY
The
.Nm
command appeared in
.Bx 2 .
.Sh BUGS
The notion of the
.Dq current process
is muddy.
Currently, the highest numbered process on the terminal that is not ignoring
interrupts is used or, if there is none, the highest numbered process on the
terminal.
This fails, for example, in critical sections of programs like the shell
and editor, or when faulty programs running in the background fork and fail
to ignore interrupts.
(In cases where no process can be found,
.Nm
prints
.Dq \- . )
.Pp
Background processes are not shown, even though they account for
much of the load on the system.
.Pp
Sometimes processes, typically those in the background, are printed with
null or garbaged arguments.
In these cases, the name of the command is printed in parentheses.
.Pp
The
.Nm
utility does not know about the new conventions for detection of background
jobs.
It will sometimes find a background job instead of the right one.
@


1.21
log
@Reduce instances of `` '' in manuals.

troff displays these as typographic quotes, but nroff implementations
almost always print them literally, which rarely has the intended effect
with modern fonts, even in stock xterm.

These uses of `` '' can be replaced either with more semantic alternatives
or with Dq, which prints typographic quotes in a UTF-8 locale (but will
automatically fall back to `` '' in an ASCII locale).

improvements and ok schwarze@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.20 2013/08/14 06:32:30 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: August 14 2013 $
d111 1
a111 1
interrupts is used, or, if there is none, the highest numbered process on the
@


1.20
log
@no longer any need to quote macro lines with >9 args;
From: Jan Stary
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.19 2012/01/15 20:06:40 schwarze Exp $
d32 1
a32 1
.Dd $Mdocdate: January 15 2012 $
d110 3
a112 4
The current algorithm is
``the highest numbered process on the terminal
that is not ignoring interrupts, or, if there is none, the highest numbered
process on the terminal.''
@


1.19
log
@Document what remains of the 2BSD heritage.
All facts found on the CSRG CD 1 in the 2bsd directory.
Feedback and ok jmc@@, ok sobrado@@.

Note the large number of 3BSD -> 2BSD changes.
Kirk McKusick asked Cynthia Livingston (cael@@, of USENIX, who converted
most manuals from man(7) to mdoc(7) for the 4.3BSD-Net/2 release and
added lots of historical information around that time) what happened
in this respect, and she answered that she often wrote "appeared
in 3BSD" when she was unsure of when a utility was added.
Thanks to Kirk and Cynthia for that clarification.
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.18 2007/05/31 19:20:19 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: May 31 2007 $
d37 1
a37 1
.Nd "display users who are logged on and what they are doing"
@


1.18
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.17 2005/01/09 16:37:02 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate$
d105 1
a105 1
.Bx 3.0 .
@


1.17
log
@w(1) does not deal w/ cpu time;
from netbsd -r 1.16;
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.16 2004/08/18 21:27:20 jmc Exp $
d32 1
a32 1
.Dd June 6, 1993
@


1.16
log
@- .Xr utmp 5
- sort options and sync usage()
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.15 2003/06/10 09:12:12 jmc Exp $
a120 6
.Pp
The CPU time is only an estimate.
In particular, if someone leaves a background
process running after logging out, the person currently on that terminal is
.Dq charged
with the time.
@


1.15
log
@- section reorder
- COMPATIBILITY merge
- macro cleanup
- kill whitespace at EOL
- new sentence, new line

ssh pages ok markus@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.14 2003/06/03 02:56:22 millert Exp $
d40 1
a40 1
.Op Fl hia
d62 2
a75 2
.It Fl a
Attempt to translate network addresses into names.
d90 2
a91 1
.Xr who 1
@


1.14
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.13 2001/11/09 00:56:24 miod Exp $
d91 1
a91 1
.Sh COMPATIBILITY
@


1.13
log
@Since all our arches have /dev/ksyms, replace rigid mentions of the kernel
being /bsd with more correct terms, and remove /bsd and /dev/kmem from the
FILES section if they were there.
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.12 2000/11/14 13:36:42 aaron Exp $
d14 1
a14 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.12
log
@Sync the list of "not supported" options with the source code; fixes PR/1506
from mpech@@prosoft.org.lv.
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.11 2000/11/09 17:52:47 aaron Exp $
d73 1
a73 2
instead of the default
.Pa /dev/kmem .
d77 1
a77 2
instead of the default
.Pa /bsd .
@


1.11
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.10 2000/03/14 14:58:25 aaron Exp $
d102 1
@


1.10
log
@Finish off cleanup usr.bin/ man pages.
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.9 1999/08/12 19:26:39 millert Exp $
d65 1
a65 1
.Bl -tag -width XXXXXXXXX
@


1.9
log
@Support -M and -N flags in uptime mode too
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.8 1999/06/05 01:21:50 aaron Exp $
d97 13
d114 2
a115 1
The current algorithm is ``the highest numbered process on the terminal
d117 1
a117 1
process on the terminal''.
d126 2
a127 3
The
.Tn CPU
time is only an estimate, in particular, if someone leaves a background
a143 13
.Sh COMPATIBILITY
The
.Fl f ,
.Fl l ,
.Fl s ,
and
.Fl w
flags are no longer supported.
.Sh HISTORY
The
.Nm
command appeared in
.Bx 3.0 .
@


1.8
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.7 1998/10/30 00:24:43 aaron Exp $
d65 1
a65 1
.Bl -tag -width Ds
d70 1
a70 1
.It Fl M
d72 2
a73 1
core instead of the default
d75 4
a78 3
.It Fl N
Extract the name list from the specified system instead of the
default
@


1.7
log
@usr.bin/ man page fixes, t-z
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.6 1998/03/23 08:45:50 deraadt Exp $
d38 1
a38 1
.Os BSD 4
d50 1
a50 1
.Nm w
d106 1
a106 1
.Nm w
d124 2
a125 2
The 
.Nm w
@


1.6
log
@nicer header
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.5 1997/01/10 05:59:24 kstailey Exp $
d73 1
a73 1
.Dq /dev/kmem .
d77 1
a77 1
.Dq /bsd .
a90 1
.Xr who 1 ,
d94 1
@


1.5
log
@UNIX3.0 -> 3.0BSD in history section
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.3 1996/07/08 22:09:45 ccappuc Exp $
d41 1
a41 1
.Nd "who present users are and what they are doing"
@


1.4
log
@invert -n into -a; default is no gethostbyaddr()
@
text
@d141 1
a141 1
.Ux 3.0 .
@


1.3
log
@kernel is /bsd, os is OpenBSD
@
text
@d1 1
a1 1
.\"	$OpenBSD: w.1,v 1.2 1996/06/26 05:42:45 deraadt Exp $
d44 1
a44 1
.Op Fl hin
d78 2
a79 4
.It Fl n
Show network addresses as numbers (normally
.Nm w
interprets addresses and attempts to display them symbolically).
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d77 1
a77 1
.Dq /netbsd .
@


1.1
log
@Initial revision
@
text
@d1 2
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
