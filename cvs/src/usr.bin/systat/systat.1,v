head	1.101;
access;
symbols
	OPENBSD_6_1:1.101.0.10
	OPENBSD_6_1_BASE:1.101
	OPENBSD_6_0:1.101.0.6
	OPENBSD_6_0_BASE:1.101
	OPENBSD_5_9:1.101.0.2
	OPENBSD_5_9_BASE:1.101
	OPENBSD_5_8:1.101.0.4
	OPENBSD_5_8_BASE:1.101
	OPENBSD_5_7:1.100.0.2
	OPENBSD_5_7_BASE:1.100
	OPENBSD_5_6:1.97.0.6
	OPENBSD_5_6_BASE:1.97
	OPENBSD_5_5:1.97.0.4
	OPENBSD_5_5_BASE:1.97
	OPENBSD_5_4:1.95.0.4
	OPENBSD_5_4_BASE:1.95
	OPENBSD_5_3:1.95.0.2
	OPENBSD_5_3_BASE:1.95
	OPENBSD_5_2:1.93.0.4
	OPENBSD_5_2_BASE:1.93
	OPENBSD_5_1_BASE:1.93
	OPENBSD_5_1:1.93.0.2
	OPENBSD_5_0:1.92.0.2
	OPENBSD_5_0_BASE:1.92
	OPENBSD_4_9:1.90.0.2
	OPENBSD_4_9_BASE:1.90
	OPENBSD_4_8:1.87.0.2
	OPENBSD_4_8_BASE:1.87
	OPENBSD_4_7:1.85.0.2
	OPENBSD_4_7_BASE:1.85
	OPENBSD_4_6:1.80.0.4
	OPENBSD_4_6_BASE:1.80
	OPENBSD_4_5:1.78.0.2
	OPENBSD_4_5_BASE:1.78
	OPENBSD_4_4:1.61.0.4
	OPENBSD_4_4_BASE:1.61
	OPENBSD_4_3:1.61.0.2
	OPENBSD_4_3_BASE:1.61
	OPENBSD_4_2:1.57.0.2
	OPENBSD_4_2_BASE:1.57
	OPENBSD_4_1:1.54.0.2
	OPENBSD_4_1_BASE:1.54
	OPENBSD_4_0:1.45.0.2
	OPENBSD_4_0_BASE:1.45
	OPENBSD_3_9:1.39.0.2
	OPENBSD_3_9_BASE:1.39
	OPENBSD_3_8:1.36.0.4
	OPENBSD_3_8_BASE:1.36
	OPENBSD_3_7:1.36.0.2
	OPENBSD_3_7_BASE:1.36
	OPENBSD_3_6:1.34.0.2
	OPENBSD_3_6_BASE:1.34
	OPENBSD_3_5:1.33.0.2
	OPENBSD_3_5_BASE:1.33
	OPENBSD_3_4:1.30.0.2
	OPENBSD_3_4_BASE:1.30
	OPENBSD_3_3:1.26.0.2
	OPENBSD_3_3_BASE:1.26
	OPENBSD_3_2:1.25.0.4
	OPENBSD_3_2_BASE:1.25
	OPENBSD_3_1:1.25.0.2
	OPENBSD_3_1_BASE:1.25
	OPENBSD_3_0:1.21.0.2
	OPENBSD_3_0_BASE:1.21
	OPENBSD_2_9_BASE:1.20
	OPENBSD_2_9:1.20.0.2
	OPENBSD_2_8:1.18.0.4
	OPENBSD_2_8_BASE:1.18
	OPENBSD_2_7:1.18.0.2
	OPENBSD_2_7_BASE:1.18
	OPENBSD_2_6:1.14.0.2
	OPENBSD_2_6_BASE:1.14
	OPENBSD_2_5:1.10.0.2
	OPENBSD_2_5_BASE:1.10
	OPENBSD_2_4:1.8.0.2
	OPENBSD_2_4_BASE:1.8
	OPENBSD_2_3:1.6.0.2
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.5.0.2
	OPENBSD_2_2_BASE:1.5
	OPENBSD_2_1:1.4.0.4
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.101
date	2015.03.12.01.03.00;	author claudio;	state Exp;
branches;
next	1.100;
commitid	0MoFRWiboJGvZpKs;

1.100
date	2015.02.28.21.51.57;	author bentley;	state Exp;
branches;
next	1.99;
commitid	NNu2UZnsd5zmNVYD;

1.99
date	2014.10.24.10.18.50;	author schwarze;	state Exp;
branches;
next	1.98;
commitid	AnkaVNznnIFStJal;

1.98
date	2014.08.14.08.10.30;	author mpi;	state Exp;
branches;
next	1.97;
commitid	P2Yi9etIKcIRvYPW;

1.97
date	2013.11.01.10.40.15;	author henning;	state Exp;
branches;
next	1.96;

1.96
date	2013.09.07.11.43.50;	author reyk;	state Exp;
branches;
next	1.95;

1.95
date	2012.12.23.17.01.27;	author jmc;	state Exp;
branches;
next	1.94;

1.94
date	2012.08.17.01.44.57;	author okan;	state Exp;
branches;
next	1.93;

1.93
date	2012.01.30.14.35.50;	author okan;	state Exp;
branches;
next	1.92;

1.92
date	2011.04.29.05.48.04;	author lum;	state Exp;
branches;
next	1.91;

1.91
date	2011.04.05.07.35.32;	author mpf;	state Exp;
branches;
next	1.90;

1.90
date	2011.01.18.03.38.05;	author lum;	state Exp;
branches;
next	1.89;

1.89
date	2011.01.17.13.50.07;	author lum;	state Exp;
branches;
next	1.88;

1.88
date	2011.01.13.17.44.54;	author lum;	state Exp;
branches;
next	1.87;

1.87
date	2010.07.21.05.29.57;	author lum;	state Exp;
branches;
next	1.86;

1.86
date	2010.07.16.16.27.02;	author lum;	state Exp;
branches;
next	1.85;

1.85
date	2010.03.13.06.35.40;	author jmc;	state Exp;
branches;
next	1.84;

1.84
date	2009.11.15.09.05.09;	author jmc;	state Exp;
branches;
next	1.83;

1.83
date	2009.08.14.17.05.36;	author jmc;	state Exp;
branches;
next	1.82;

1.82
date	2009.07.21.17.27.49;	author sobrado;	state Exp;
branches;
next	1.81;

1.81
date	2009.07.21.17.07.38;	author sthen;	state Exp;
branches;
next	1.80;

1.80
date	2009.06.23.18.52.16;	author jmc;	state Exp;
branches;
next	1.79;

1.79
date	2009.06.19.07.48.45;	author jasper;	state Exp;
branches;
next	1.78;

1.78
date	2008.12.17.08.21.43;	author canacar;	state Exp;
branches;
next	1.77;

1.77
date	2008.12.11.13.33.41;	author jmc;	state Exp;
branches;
next	1.76;

1.76
date	2008.12.07.08.40.40;	author jmc;	state Exp;
branches;
next	1.75;

1.75
date	2008.12.07.07.46.05;	author canacar;	state Exp;
branches;
next	1.74;

1.74
date	2008.12.02.08.41.32;	author jmc;	state Exp;
branches;
next	1.73;

1.73
date	2008.11.17.08.10.51;	author jmc;	state Exp;
branches;
next	1.72;

1.72
date	2008.11.08.15.46.49;	author jmc;	state Exp;
branches;
next	1.71;

1.71
date	2008.11.08.06.38.27;	author canacar;	state Exp;
branches;
next	1.70;

1.70
date	2008.11.02.08.49.59;	author jmc;	state Exp;
branches;
next	1.69;

1.69
date	2008.11.02.07.14.16;	author canacar;	state Exp;
branches;
next	1.68;

1.68
date	2008.11.02.06.23.28;	author canacar;	state Exp;
branches;
next	1.67;

1.67
date	2008.11.01.07.43.45;	author jmc;	state Exp;
branches;
next	1.66;

1.66
date	2008.11.01.00.38.43;	author canacar;	state Exp;
branches;
next	1.65;

1.65
date	2008.08.13.06.20.48;	author jmc;	state Exp;
branches;
next	1.64;

1.64
date	2008.08.11.20.24.45;	author jmc;	state Exp;
branches;
next	1.63;

1.63
date	2008.08.08.21.48.19;	author sobrado;	state Exp;
branches;
next	1.62;

1.62
date	2008.08.08.20.07.49;	author matthieu;	state Exp;
branches;
next	1.61;

1.61
date	2007.11.22.18.20.04;	author jmc;	state Exp;
branches;
next	1.60;

1.60
date	2007.11.17.11.42.14;	author jmc;	state Exp;
branches;
next	1.59;

1.59
date	2007.11.17.09.33.53;	author jmc;	state Exp;
branches;
next	1.58;

1.58
date	2007.10.31.16.19.25;	author jmc;	state Exp;
branches;
next	1.57;

1.57
date	2007.05.31.19.20.17;	author jmc;	state Exp;
branches;
next	1.56;

1.56
date	2007.05.30.05.20.58;	author otto;	state Exp;
branches;
next	1.55;

1.55
date	2007.04.22.17.20.54;	author moritz;	state Exp;
branches;
next	1.54;

1.54
date	2007.02.23.23.36.36;	author jmc;	state Exp;
branches;
next	1.53;

1.53
date	2007.02.23.23.33.14;	author jmc;	state Exp;
branches;
next	1.52;

1.52
date	2007.02.23.23.23.54;	author jmc;	state Exp;
branches;
next	1.51;

1.51
date	2007.02.23.23.07.59;	author jmc;	state Exp;
branches;
next	1.50;

1.50
date	2007.02.23.23.03.18;	author jmc;	state Exp;
branches;
next	1.49;

1.49
date	2007.02.23.22.13.21;	author deraadt;	state Exp;
branches;
next	1.48;

1.48
date	2007.02.23.22.02.58;	author deanna;	state Exp;
branches;
next	1.47;

1.47
date	2006.10.15.01.45.10;	author millert;	state Exp;
branches;
next	1.46;

1.46
date	2006.10.13.11.07.28;	author jmc;	state Exp;
branches;
next	1.45;

1.45
date	2006.06.29.21.17.27;	author dlg;	state Exp;
branches;
next	1.44;

1.44
date	2006.06.28.08.52.11;	author jmc;	state Exp;
branches;
next	1.43;

1.43
date	2006.06.28.07.32.40;	author jmc;	state Exp;
branches;
next	1.42;

1.42
date	2006.06.28.07.30.11;	author jmc;	state Exp;
branches;
next	1.41;

1.41
date	2006.05.26.17.26.33;	author jmc;	state Exp;
branches;
next	1.40;

1.40
date	2006.04.14.01.20.43;	author dlg;	state Exp;
branches;
next	1.39;

1.39
date	2006.01.16.10.26.13;	author jmc;	state Exp;
branches;
next	1.38;

1.38
date	2006.01.15.17.36.48;	author niallo;	state Exp;
branches;
next	1.37;

1.37
date	2005.09.06.23.28.23;	author jmc;	state Exp;
branches;
next	1.36;

1.36
date	2004.11.16.14.03.45;	author jmc;	state Exp;
branches;
next	1.35;

1.35
date	2004.11.16.09.52.33;	author markus;	state Exp;
branches;
next	1.34;

1.34
date	2004.04.26.19.22.30;	author itojun;	state Exp;
branches;
next	1.33;

1.33
date	2004.02.20.22.07.08;	author jmc;	state Exp;
branches;
next	1.32;

1.32
date	2004.02.15.22.56.12;	author tedu;	state Exp;
branches;
next	1.31;

1.31
date	2003.12.17.20.58.39;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2003.09.02.18.50.06;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2003.07.25.06.52.07;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2003.06.03.02.56.17;	author millert;	state Exp;
branches;
next	1.27;

1.27
date	2003.04.15.19.57.10;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2002.10.29.16.44.44;	author jason;	state Exp;
branches;
next	1.25;

1.25
date	2001.12.07.09.18.08;	author deraadt;	state Exp;
branches;
next	1.24;

1.24
date	2001.12.07.07.57.36;	author pvalchev;	state Exp;
branches;
next	1.23;

1.23
date	2001.11.23.22.20.06;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2001.11.09.00.56.24;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2001.08.11.15.30.33;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	2001.04.20.16.43.39;	author millert;	state Exp;
branches;
next	1.19;

1.19
date	2000.11.09.17.52.40;	author aaron;	state Exp;
branches;
next	1.18;

1.18
date	2000.03.23.21.39.55;	author aaron;	state Exp;
branches;
next	1.17;

1.17
date	2000.03.23.21.10.19;	author aaron;	state Exp;
branches;
next	1.16;

1.16
date	2000.03.11.21.40.03;	author aaron;	state Exp;
branches;
next	1.15;

1.15
date	2000.03.06.03.17.39;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	99.09.23.04.12.09;	author alex;	state Exp;
branches;
next	1.13;

1.13
date	99.06.26.13.19.17;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	99.06.05.01.21.42;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	99.05.16.19.58.00;	author alex;	state Exp;
branches;
next	1.10;

1.10
date	99.02.24.16.31.17;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	99.02.19.19.15.09;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	98.09.27.16.57.54;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	98.09.01.16.38.25;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	98.02.11.11.57.16;	author d;	state Exp;
branches;
next	1.5;

1.5
date	97.07.29.04.47.13;	author flipk;	state Exp;
branches;
next	1.4;

1.4
date	96.07.08.22.09.43;	author ccappuc;	state Exp;
branches;
next	1.3;

1.3
date	96.06.26.05.40.11;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.05.22.11.35.37;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.46.10;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.46.10;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.101
log
@Switch the netstat view of systat to use the same kvm_getfiles()
function similar to netstat(1). The output still shows the same
info but may be a bit differently sorted. Also it will now show
connections that are not UDP or TCP.  This was the last bit of
systat that needed kvm access and so now systat no longer needs
to be setgid kmem.
With this commit OpenBSD is officially setgid kmem free and an
almost 10 year journey finally comes to an end.
OK deraadt@@
@
text
@.\"	$OpenBSD: systat.1,v 1.100 2015/02/28 21:51:57 bentley Exp $
.\"	$NetBSD: systat.1,v 1.6 1996/05/10 23:16:39 thorpej Exp $
.\"
.\" Copyright (c) 1985, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@@(#)systat.1	8.2 (Berkeley) 12/30/93
.\"
.Dd $Mdocdate: February 28 2015 $
.Dt SYSTAT 1
.Os
.Sh NAME
.Nm systat
.Nd display system statistics
.Sh SYNOPSIS
.Nm systat
.Op Fl aBbiNn
.Op Fl d Ar count
.Op Fl s Ar delay
.Op Fl w Ar width
.Op Ar view
.Op Ar delay
.Sh DESCRIPTION
.Nm
displays various system statistics in a screen-oriented fashion
using the
.Xr curses 3
screen display library.
.Pp
While
.Nm
is running, the screen is divided into different areas.
The top line displays the current number of users, the
three system load average figures over the last 1, 5, and
15 minute intervals, and the system time.
The bottom line of the screen is reserved for
user input and error messages.
The information displayed in the rest of the screen
comprises a
.Em view ,
and is the main interface for
displaying different types of system statistics.
The
.Ic vmstat
view is the default.
.Pp
Certain information may be discarded when the screen size is
insufficient for display.
For example, on a machine with 10 drives the
.Ic iostat
bar graph displays only 3 drives on a 24 line terminal.
.\".Pp
.\"Input is interpreted at two different levels.
.\"A
.\".Dq global
.\"command interpreter processes all keyboard input.
.\"If this command interpreter fails to recognize a command, the
.\"input line is passed to a per-display command interpreter.
.\"This allows each display to have certain display-specific commands.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a
Display all lines.
.It Fl B
Raw, non-interactive mode.
The default is to exit after two screen updates,
with statistics only ever displayed once.
Useful for views such as
.Ic cpu ,
where initial calculations are useless.
.It Fl b
Raw, non-interactive mode.
The default is to exit after one screen update,
with statistics displayed every update.
.It Fl d Ar count
Exit after
.Ar count
screen updates.
.It Fl i
Interactive mode.
.It Fl N
Resolve network addresses to names.
This is the opposite of the
.Fl n
option.
.It Fl n
Do not try to reverse map IP addresses.
This is the default.
.It Fl s Ar delay
Specifies the screen refresh time interval in seconds.
This option is overridden by the final
.Ar delay
argument, if given.
The default interval is 5 seconds.
.It Fl w Ar width
Specifies the maximum width of the output in raw, non-interactive mode.
.It Ar view
The
.Ar view
argument expects to be one of:
.Ic vmstat ,
.Ic pigs ,
.Ic ifstat ,
.Ic iostat ,
.Ic sensors ,
.Ic mbufs ,
.Ic netstat ,
.Ic swap ,
.Ic states ,
.Ic rules ,
.Ic queues ,
.Ic pf ,
.Ic pool ,
.Ic malloc ,
.Ic buckets ,
.Ic nfsclient ,
.Ic nfsserver ,
or
.Ic cpu .
These displays can also be requested interactively and are described in
full detail below.
.Ar view
may be abbreviated to the minimum unambiguous prefix;
for example,
.Dq io
for
.Dq iostat .
.It Ar delay
The
.Ar delay
argument specifies the screen refresh time interval in seconds.
This is provided for backwards compatibility, and overrides any
interval specified with the
.Fl s
flag.
The default interval is 5 seconds.
.El
.Pp
Certain characters cause immediate action by
.Nm .
These are:
.Bl -tag -width Fl
.It Ic \&:
Move the cursor to the command line and interpret the input
line typed as a command.
While entering a command the
current character erase, word erase, and line kill characters
may be used.
.It Ic o
Select the next ordering which sorts the rows according to a
combination of columns.
Available orderings depend on the view.
Not all views support orderings.
.It Ic p
Pause
.Nm .
.It Ic q
Quit
.Nm .
.It Ic r
Reverse the selected ordering if supported by the view.
.It Ic \&,
Print numbers with thousand separators, where applicable.
.It Ic ^A | Aq Ic Home
Jump to the beginning of the current view.
.It Ic ^B | Aq Ic right arrow
Select the previous view.
.It Ic ^E | Aq Ic End
Jump to the end of the current view.
.It Ic ^F | Aq Ic left arrow
Select the next view.
.It Ic ^G
Print the name of the current
view being shown and the refresh interval.
.It Ic ^L
Refresh the screen.
.It Ic ^N | Aq Ic down arrow
Scroll current view down by one line.
.It Ic ^P | Aq Ic up arrow
Scroll current view up by one line.
.It Ic ^V | Aq Ic Page Down
Scroll current view down by one page.
.It Ic Alt-V | Aq Ic Page Up
Scroll current view up by one page.
.It Ic ^Z
Suspend
.Nm .
.El
.Pp
The following commands are interpreted by the
.Dq global
command interpreter.
.Bl -tag -width Fl
.It Ic help
Print the names of the available views on the command line.
.It Ic quit
Quit
.Nm .
(This may be abbreviated to
.Ic q . )
.It Ic stop
Stop refreshing the screen.
.It Xo
.Op Ic start
.Op Ar number
.Xc
Start (continue) refreshing the screen.
If a second, numeric,
argument is provided it is interpreted as a refresh interval
(in seconds).
Supplying only a number will set the refresh interval to this
value.
.El
.Pp
.Ar view
may be abbreviated to the minimum unambiguous prefix.
The available views are:
.Bl -tag -width "netstatXXX"
.It Ic buckets
Display kernel
.Xr malloc 9
bucket statistics similar to the output of
.Cm vmstat Fl m .
.It Ic cpu
Display information about the average usage of each CPU,
similar to the output provided by
.Xr top 1 .
.It Ic ifstat
Display interface statistics.
The
.Dq State
column has the format
.Sm off
.Xo
.Cm up | dn
.Bq : Cm U | D .
.Xc
.Sm on
.Sq up
and
.Sq dn
represent whether the interface is up or down.
.Sq U
and
.Sq D
represent whether the interface is connected or not;
in the case of
.Xr carp 4
interfaces, whether the interface is in master or backup state, respectively.
.Pp
The character
.Ic B
changes the counter view between bytes and bits.
Pressing
.Ic b
displays statistics as calculated from boot time.
.Ic r
changes the counters to show their totals as calculated
between display refreshes.
.Ic t
changes the counters to show the average per second over
the display refresh interval;
this is the default.
.It Ic iostat
Display statistics about disk throughput.
Statistics
on disk throughput show, for each drive, data transferred in kilobytes,
number of disk transactions performed, and time spent in disk accesses
(in fractions of a second).
.It Ic malloc
Display kernel
.Xr malloc 9
type statistics similar to the output of
.Cm vmstat Fl m .
Available orderings are:
.Ic name ,
.Ic inuse ,
.Ic memuse ,
and
.Ic requests .
.It Ic mbufs
Display mbuf usage information from kernel pools
and mbuf cluster pool statistics of each network interface.
.It Ic netstat
Display network connections.
Each address
is displayed numerically in the format
.Dq host:port .
By default, network servers awaiting requests are not displayed.
It is also possible to have addresses displayed symbolically,
when possible, and limit the display to a set of protocols
(the minimum unambiguous prefix may be supplied):
.Bl -tag -width Ar
.It Cm all
Toggle the displaying of server processes awaiting requests (this
is the equivalent of the
.Fl a
flag to
.Xr netstat 1 ) .
.It Cm names
Display network addresses symbolically.
.It Cm numbers
Display network addresses numerically.
.It Cm reset
Reset matching mechanisms to the default.
.\".It Cm show Oo
.\".Ar protocols | ports | hosts
.\".Oc
.\"Show, on the command line, the currently selected protocols,
.\"hosts, and ports.
.\"Protocols, hosts and ports which are being ignored are prefixed with a
.\".Ql \&! .
.\"If an argument is supplied to
.\".Cm show ,
.\"then only the requested information will be displayed.
.It Cm tcp | udp | other
Display only network connections using the indicated protocol.
.El
.It Ic nfsclient
Display statistics about NFS client activity.
Output resembles
.Cm nfsstat Fl c .
.It Ic nfsserver
Display statistics about NFS server activity.
Output resembles
.Cm nfsstat Fl s .
.It Ic pf
Display filter information about
.Xr pf 4 ,
similar to the output of
.Cm pfctl Fl s Cm info
option.
.It Ic pigs
Display those processes resident in main
memory and getting the
largest portion of the processor.
When less than 100% of the
processor is scheduled to user processes, the remaining time
is accounted to the
.Dq idle
process.
.It Ic pool
Display kernel
.Xr pool 9
statistics similar to the output of
.Cm vmstat Fl m .
Available orderings are:
.Ic name ,
.Ic requests ,
.Ic size ,
and
.Ic number of pages .
.Pp
By default only the statistics of active pools are displayed but pressing
.Ic A
changes the view to show all of them.
.It Ic queues
Display statistics about the active queues,
similar to the output of
.Cm pfctl Fl s Cm queue .
.It Ic rules
Display pf rules statistics, similar to the output of
.Cm pfctl Fl s Cm rules .
.It Ic sensors
Display the current values of available hardware sensors,
in a format similar to that of
.Xr sysctl 8 .
.It Ic states
Display pf states statistics, similar to the output of
.Cm pfctl Fl s Cm states .
Available orderings are:
.Ic none ,
.Ic bytes ,
.Ic expiry ,
.Ic packets ,
.Ic age ,
.Ic source address ,
.Ic source port ,
.Ic destination address ,
.Ic destination port ,
.Ic rate ,
and
.Ic peak
columns.
.It Ic swap
Show information about swap space usage on all the
swap areas compiled into the kernel.
The first column is the device name of the partition.
The next column is the total space available in the partition.
The
.Ar Used
column indicates the total blocks used so far;
the graph shows the percentage of space in use on each partition.
If there is more than one swap partition in use,
a total line is also shown.
Areas known to the kernel but not in use are shown as not available.
.It Ic vmstat
Take over the entire display and show a (rather crowded) compendium
of statistics related to virtual memory usage, process scheduling,
device interrupts, system name translation caching, disk I/O, etc.
This view is the default.
.Pp
Below the top line are statistics on memory utilization.
The first row of the table reports memory usage only among
active processes, that is, processes that have run in the previous
twenty seconds.
The second row reports on memory usage of all processes.
The first column reports on the amount of physical memory
claimed by processes.
The second column reports the same figure for
virtual memory, that is, the amount of memory that would be
needed if all processes were resident at the same time.
Finally, the last column shows the amount of physical memory
on the free list.
.Pp
Below the memory display is a list of the average number of processes
(over the last refresh interval) that are runnable
.Pq Sq r ,
in disk wait other than paging
.Pq Sq d ,
sleeping
.Pq Sq s ,
and swapped out but desiring to run
.Pq Sq w .
Below the queue length listing is a numerical listing and
a bar graph showing the amount of
interrupt (shown as
.Ql | ) ,
system (shown as
.Ql = ) ,
user (shown as
.Ql > ) ,
nice (shown as
.Ql - ) ,
and idle time (shown as
.Ql \ \& ) .
.Pp
To the right of the Proc display are statistics about
Context switches
.Pq Dq Csw ,
Traps
.Pq Dq Trp ,
Syscalls
.Pq Dq Sys ,
Interrupts
.Pq Dq Int ,
Soft interrupts
.Pq Dq Sof ,
and Faults
.Pq Dq Flt
which have occurred during the last refresh interval.
.Pp
Below the CPU usage graph are statistics on name translations.
It lists the number of names translated in the previous interval,
the number and percentage of the translations that were
handled by the system wide name translation cache, and
the number and percentage of the translations that were
handled by the per process name translation cache.
.Pp
At the bottom left is the disk usage display.
It reports the number of seeks, transfers, number
of kilobyte blocks transferred per second averaged over the
refresh period of the display, and
the time spent in disk accesses.
.Pp
Under the date in the upper right hand quadrant are statistics
on paging and swapping activity.
The first two columns report the average number of pages
brought in and out per second over the last refresh interval
due to page faults and the paging daemon.
The third and fourth columns report the average number of pages
brought in and out per second over the last refresh interval
due to swap requests initiated by the scheduler.
The first row of the display shows the average
number of disk transfers per second over the last refresh interval.
The second row of the display shows the average
number of pages transferred per second over the last refresh interval.
.Pp
Running down the right hand side of the display is a breakdown
of the interrupts being handled by the system.
At the top of the list is the total interrupts per second
over the time interval.
The rest of the column breaks down the total on a device
by device basis.
Only devices that have interrupted at least once since boot time are shown.
.Pp
Below the Interrupts display are
the average number of input and output packets per second
for all interfaces over the last refresh interval.
.Pp
Below the SWAPPING display and slightly to the left of the Interrupts
display is a list of virtual memory statistics.
The abbreviations are:
.Pp
.Bl -tag -compact -width "kmapentXX" -offset indent
.It forks
process forks
.It fkppw
forks where parent waits
.It fksvm
forks where vmspace is shared
.It pwait
fault had to wait on a page
.It relck
fault relock called
.It rlkok
fault relock is successful
.It noram
faults out of ram
.It ndcpy
number of times fault clears "need copy"
.It fltcp
number of times fault promotes with copy
.It zfod
fault promotes with zerofill
.It cow
number of times fault anon cow
.It fmin
min number of free pages
.It ftarg
target number of free pages
.It itarg
target number of inactive pages
.It wired
wired pages
.It pdfre
pages daemon freed since boot
.It pdscn
pages daemon scanned since boot
.It pzidle
number of zeroed pages
.It kmapent
number of kernel map entries
.El
.El
.\".Pp
.\"The following commands are specific to the
.\".Ic vmstat
.\"and
.\".Ic ifstat
.\"views; the minimum unambiguous prefix may be supplied.
.\".Pp
.\".Bl -tag -width Ds -compact
.\".It Cm boot
.\"Display cumulative statistics since the system was booted.
.\".It Cm run
.\"Display statistics as a running total from the point this
.\"command is given.
.\".It Cm time
.\"Display statistics averaged over the refresh interval (the default).
.\".It Cm zero
.\"Reset running statistics to zero.
.\".El
.\".Pp
.\"The following commands are common to each view which shows
.\"information about disk drives.
.\"These commands are used to select a set of drives to report on,
.\"should a system have more drives configured
.\"than can normally be displayed on the screen.
.\".Pp
.\".Bl -tag -width Tx -compact
.\".It Cm display Op Ar drives
.\"Display information about the drives indicated.
.\"Multiple drives may be specified, separated by spaces.
.\".It Cm ignore Op Ar drives
.\"Do not display information about the drives indicated.
.\"Multiple drives may be specified, separated by spaces.
.\".El
.Sh FILES
.Bl -tag -width "/etc/servicesXXX" -compact
.It Pa /etc/hosts
Host names.
.It Pa /etc/pf.conf
.Xr pf 4
configuration.
.It Pa /etc/services
Port names.
.El
.Sh SEE ALSO
.Xr fstat 1 ,
.Xr kill 1 ,
.Xr netstat 1 ,
.Xr nfsstat 1 ,
.Xr ps 1 ,
.Xr top 1 ,
.Xr iostat 8 ,
.Xr pfctl 8 ,
.Xr pstat 8 ,
.Xr renice 8 ,
.Xr sysctl 8 ,
.Xr vmstat 8
.Sh HISTORY
The
.Nm
program first appeared in
.Bx 4.3 .
.Sh BUGS
Certain displays presume a minimum of 80 characters per line.
The
.Ic vmstat
display looks out of place because it is (it was added in as
a separate display rather than created as a new program).
@


1.100
log
@Reduce usage of predefined strings in manpages.

Predefined strings are not very portable across troff implementations,
and they make the source much harder to read. Usually the intended
character can be written directly.

No output changes, except for two instances where the incorrect escape
was used in the first place.

tweaks + ok schwarze@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.99 2014/10/24 10:18:50 schwarze Exp $
d33 1
a33 1
.Dd $Mdocdate: October 24 2014 $
d341 1
a341 1
.It Cm tcp | udp
@


1.99
log
@This tool doesn't actually support networks(5).
So remove the call to setnetent(3) which is a no-op
here (except for consuming a file descriptor)
and the call sethostent(3) which is a no-op in general.
Also remove the misleading reference to networks(5) from the manual.
OK okan@@ henning@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.98 2014/08/14 08:10:30 mpi Exp $
d33 1
a33 1
.Dd $Mdocdate: August 14 2014 $
d189 1
a189 1
.It Ic ^A \*(Ba Aq Ic Home
d191 1
a191 1
.It Ic ^B \*(Ba Aq Ic right arrow
d193 1
a193 1
.It Ic ^E \*(Ba Aq Ic End
d195 1
a195 1
.It Ic ^F \*(Ba Aq Ic left arrow
d202 1
a202 1
.It Ic ^N \*(Ba Aq Ic down arrow
d204 1
a204 1
.It Ic ^P \*(Ba Aq Ic up arrow
d206 1
a206 1
.It Ic ^V \*(Ba Aq Ic Page Down
d208 1
a208 1
.It Ic Alt-V \*(Ba Aq Ic Page Up
d260 2
a261 2
.Cm up \*(Ba dn
.Bq : Cm U \*(Ba D .
d332 1
a332 1
.\".Ar protocols \*(Ba ports \*(Ba hosts
d341 1
a341 1
.It Cm tcp \*(Ba udp
d453 1
a453 1
.Ql \*(Ba ) ,
d457 1
a457 1
.Ql \*(Gt ) ,
@


1.98
log
@Show only active pools by default, pressing 'A' shows all of them.

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.97 2013/11/01 10:40:15 henning Exp $
d33 1
a33 1
.Dd $Mdocdate: November 1 2013 $
d595 1
a595 1
.Bl -tag -width "/etc/networksXXX" -compact
a597 2
.It Pa /etc/networks
Network names.
@


1.97
log
@not just altq queues, queues
From: Arto Jonsson <ajonsson at kapsi.fi>
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.96 2013/09/07 11:43:50 reyk Exp $
d33 1
a33 1
.Dd $Mdocdate: September 7 2013 $
d378 4
@


1.96
log
@Add a new screen "cpu" that simply lists the usage of each CPU core.
Also add a new -B command line flag that works like -b but waits some
cycles before dumping anything to the console.

With much help from jmc@@
OK jj@@ lambert@@ jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.95 2012/12/23 17:01:27 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: December 23 2012 $
d379 2
a380 3
Display statistics about the active
.Xr altq 9
queues, similar to the output of
@


1.95
log
@%zfod was removed in -r1.24; from Naughty
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.94 2012/08/17 01:44:57 okan Exp $
d33 1
a33 1
.Dd $Mdocdate: August 17 2012 $
d41 1
a41 1
.Op Fl abiNn
d89 7
d98 2
d142 1
d144 1
a144 1
.Ic nfsserver .
d249 4
@


1.94
log
@clarify that -w is used for raw output only (removes the 'not sure' XXX
comment).

ok sthen@@, jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.93 2012/01/30 14:35:50 okan Exp $
d33 1
a33 1
.Dd $Mdocdate: January 30 2012 $
a542 8
.Pp
The
.Ql %zfod
value is more interesting when observed over a long
period, such as from boot time.
.\"(see the
.\".Cm boot
.\"option below).
@


1.93
log
@- allow the default to only show all non-listneing scokets, which matches
  the manpage and what netstat(1) does, sans the aflag (-a).
- allow one to use 'a' to toggle the above (include listening or not).
- implement [r]eset to reset all toggles to default (all/tcp/udp).
- document a/n/r/t/u toggles.

ok henning@@ sthen@@ jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.92 2011/04/29 05:48:04 lum Exp $
d33 1
a33 1
.Dd $Mdocdate: April 29 2011 $
d112 1
a112 2
Specifies the maximum width of the display.
.\" XXX not sure for the above.
@


1.92
log
@Add currently undocumented keyboard options available on ifstat view.
ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.91 2011/04/05 07:35:32 mpf Exp $
d33 1
a33 1
.Dd $Mdocdate: April 5 2011 $
d298 3
d302 16
a317 42
Each address
is displayed in the format
.Dq host:port ,
with each shown symbolically, when possible.
.\"It is possible to have addresses displayed numerically,
.\"limit the display to a set of ports, hosts, and/or protocols
.\"(the minimum unambiguous prefix may be supplied):
.\".Bl -tag -width Ar
.\".It Cm all
.\"Toggle the displaying of server processes awaiting requests (this
.\"is the equivalent of the
.\".Fl a
.\"flag to
.\".Xr netstat 1 ) .
.\".It Cm display Op Ar items
.\"Display information about the connections associated with the
.\"specified hosts or ports.
.\"As for
.\".Ar ignore ,
.\".Ar items
.\"may be names or numbers.
.\".It Cm ignore Op Ar items
.\"Do not display information about connections associated with
.\"the specified hosts or ports.
.\"Hosts and ports may be specified
.\"by name
.\".Pf ( Dq vangogh ,
.\".Dq ftp ) ,
.\"or numerically.
.\"Host addresses
.\"use the Internet dot notation
.\".Pq Dq 128.32.0.9 .
.\"Multiple items
.\"may be specified with a single command by separating them with
.\"spaces.
.\".It Cm names
.\"Display network addresses symbolically.
.\".It Cm numbers
.\"Display network addresses numerically.
.\".It Cm reset
.\"Reset the port, host, and protocol matching mechanisms to the default
.\"(any protocol, port, or host).
d328 3
a330 3
.\".It Cm tcp \*(Ba udp \*(Ba all
.\"Display only network connections using the indicated protocol.
.\".El
@


1.91
log
@Add support to display numbers with thousands separators
and to switch the ifstat view to Bits/s.
This allows us to see live network throughput in units
like MBit/s, which is more practical.
OK sthen@@, manpage OK jmc@@, "put it in" deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.90 2011/01/18 03:38:05 lum Exp $
d33 1
a33 1
.Dd $Mdocdate: January 18 2011 $
d262 1
d266 10
a275 1
.\"See below for more options.
@


1.90
log
@Remove one of the three occurances of "delay is 5 seconds"
ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.89 2011/01/17 13:50:07 lum Exp $
d33 1
a33 1
.Dd $Mdocdate: January 17 2011 $
d178 2
d262 3
@


1.89
log
@Adjust IPKTS and OPKTS description to fit actual behaviour.
ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.88 2011/01/13 17:44:54 lum Exp $
d33 1
a33 1
.Dd $Mdocdate: January 13 2011 $
d480 1
a480 1
refresh period of the display (by default, five seconds), and
@


1.88
log
@non interactive -> non-interactive
ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.87 2010/07/21 05:29:57 lum Exp $
d33 1
a33 1
.Dd $Mdocdate: July 21 2010 $
d504 3
a506 2
Below the Interrupts display is a summary of
total number of input packets and output packets for all interfaces.
@


1.87
log
@Remove reference to non-existent behaviour.
ok canacar@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.86 2010/07/16 16:27:02 lum Exp $
d33 1
a33 1
.Dd $Mdocdate: July 16 2010 $
d90 1
a90 1
Raw, non interactive mode.
@


1.86
log
@Move the description of load averages/top line to a better place.
Suggestions and ok canacar@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.85 2010/03/13 06:35:40 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: March 13 2010 $
a75 4
When a bar graph would overflow the allotted screen space it is
truncated and the actual value is printed
.Dq over top
of the bar.
@


1.85
log
@.Xt -> .Xr
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.84 2009/11/15 09:05:09 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: November 15 2009 $
d56 4
a59 2
is running, the screen is divided into differing areas.
The top line depicts the current system load average.
d424 1
a424 4
The upper left quadrant of the screen shows the number
of users logged in and the load average over the last 1, 5,
and 15 minute intervals.
Below this line are statistics on memory utilization.
@


1.84
log
@some fixes from Seth Wright;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.83 2009/08/14 17:05:36 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: August 14 2009 $
d611 1
a611 1
.Xt fstat 1 ,
@


1.83
log
@tweak the vmstat description;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.82 2009/07/21 17:27:49 sobrado Exp $
d33 1
a33 1
.Dd $Mdocdate: July 21 2009 $
d183 1
a183 1
Select previous view.
d343 1
a343 1
Output ressembles
d347 1
a347 1
Output ressembles
d419 1
a419 1
device interrupts, system name translation caching, disk I/O etc.
@


1.82
log
@add missing flag to synopsis.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.81 2009/07/21 17:07:38 sthen Exp $
d475 1
a475 1
Below the CPU Usage graph are statistics on name translations.
d508 3
@


1.81
log
@Allow systat(1) to resolve names by adding a new -N flag. (The default was
changed some time ago). Noticed by landry@@, discussed with canacar@@ and others.
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.80 2009/06/23 18:52:16 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: June 23 2009 $
d41 1
a41 1
.Op Fl abin
@


1.80
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.79 2009/06/19 07:48:45 jasper Exp $
d33 1
a33 1
.Dd $Mdocdate: June 19 2009 $
d99 5
d106 1
@


1.79
log
@- add two new views to systat, 'nfsserver' and 'nfsclient'.
output is similar to nfsstat(1), but it allows for better monitoring/debugging

tricked into by and "i love this" thib@@
ok canacar@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.78 2008/12/17 08:21:43 canacar Exp $
d33 1
a33 1
.Dd $Mdocdate: December 17 2008 $
a120 2
.Ic nfsclient ,
.Ic nfsserver ,
d128 2
d131 1
a131 1
.Ic buckets .
d336 1
a336 1
Display statistics about the NFS client activity.
d340 2
a341 2
Display statistics about the NFS server activity.
Ooutput ressembles
@


1.78
log
@Rewrite the 'mbuf' page to display mbuf usage information from system pools
and mbuf cluster statistics collected for each interface. More useful than
earlier bar graphs about mbuf types. Requested by and ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.77 2008/12/11 13:33:41 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: December 11 2008 $
d121 2
d335 8
d605 1
@


1.77
log
@move one paragraph to a more logical position;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.76 2008/12/07 08:40:40 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: December 7 2008 $
d273 2
a274 3
Display the number of mbufs allocated
for particular uses,
such as data and socket structures.
@


1.76
log
@- comment out more stuff currently unsupported
- host:port, not host.port

ok canacar
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.75 2008/12/07 07:46:05 canacar Exp $
d68 10
a564 10
.Pp
Certain information may be discarded when the screen size is
insufficient for display.
For example, on a machine with 10 drives the
.Ic iostat
bar graph displays only 3 drives on a 24 line terminal.
When a bar graph would overflow the allotted screen space it is
truncated and the actual value is printed
.Dq over top
of the bar.
@


1.75
log
@Add option to order the pool view by size and number of pages columns.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.74 2008/12/02 08:41:32 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: December 2 2008 $
d64 1
a64 1
displaying differing types of system statistics.
d68 8
a75 8
.Pp
Input is interpreted at two different levels.
A
.Dq global
command interpreter processes all keyboard input.
If this command interpreter fails to recognize a command, the
input line is passed to a per-display command interpreter.
This allows each display to have certain display-specific commands.
d244 1
a244 1
See below for more options.
d271 1
a271 1
.Dq host.port ,
d273 51
a323 51
It is possible to have addresses displayed numerically,
limit the display to a set of ports, hosts, and/or protocols
(the minimum unambiguous prefix may be supplied):
.Bl -tag -width Ar
.It Cm all
Toggle the displaying of server processes awaiting requests (this
is the equivalent of the
.Fl a
flag to
.Xr netstat 1 ) .
.It Cm display Op Ar items
Display information about the connections associated with the
specified hosts or ports.
As for
.Ar ignore ,
.Ar items
may be names or numbers.
.It Cm ignore Op Ar items
Do not display information about connections associated with
the specified hosts or ports.
Hosts and ports may be specified
by name
.Pf ( Dq vangogh ,
.Dq ftp ) ,
or numerically.
Host addresses
use the Internet dot notation
.Pq Dq 128.32.0.9 .
Multiple items
may be specified with a single command by separating them with
spaces.
.It Cm names
Display network addresses symbolically.
.It Cm numbers
Display network addresses numerically.
.It Cm reset
Reset the port, host, and protocol matching mechanisms to the default
(any protocol, port, or host).
.It Cm show Oo
.Ar protocols \*(Ba ports \*(Ba hosts
.Oc
Show, on the command line, the currently selected protocols,
hosts, and ports.
Protocols, hosts and ports which are being ignored are prefixed with a
.Ql \&! .
If an argument is supplied to
.Cm show ,
then only the requested information will be displayed.
.It Cm tcp \*(Ba udp \*(Ba all
Display only network connections using the indicated protocol.
.El
d347 1
a347 1
.Ic size
d532 4
a535 3
period, such as from boot time (see the
.Cm boot
option below).
@


1.74
log
@- there is no "load" global command, so remove its description
- comment out local commands for now, until they are implemented
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.73 2008/11/17 08:10:51 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: November 17 2008 $
d345 3
a347 1
.Ic name
d349 1
a349 1
.Ic requests .
@


1.73
log
@- stop referring to the display as consisting of windows. we can explain
it more simply and cut out a lot of needless verbosity.

- stop mixing terminology: view vs. display

- "delay" overrides "-s delay", not "-w wait"

- use "quit" as mnemonic for quit, not "exit"

- ...and just generally clean the page up

ok canacar
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.72 2008/11/08 15:46:49 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: November 8 2008 $
a193 3
.It Ic load
Print the load average over the past 1, 5, and 15 minutes
on the command line.
d534 18
a551 18
.Pp
The following commands are specific to the
.Ic vmstat
and
.Ic ifstat
views; the minimum unambiguous prefix may be supplied.
.Pp
.Bl -tag -width Ds -compact
.It Cm boot
Display cumulative statistics since the system was booted.
.It Cm run
Display statistics as a running total from the point this
command is given.
.It Cm time
Display statistics averaged over the refresh interval (the default).
.It Cm zero
Reset running statistics to zero.
.El
d562 15
a576 15
.Pp
The following commands are common to each view which shows
information about disk drives.
These commands are used to select a set of drives to report on,
should a system have more drives configured
than can normally be displayed on the screen.
.Pp
.Bl -tag -width Tx -compact
.It Cm display Op Ar drives
Display information about the drives indicated.
Multiple drives may be specified, separated by spaces.
.It Cm ignore Op Ar drives
Do not display information about the drives indicated.
Multiple drives may be specified, separated by spaces.
.El
@


1.72
log
@sort;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.71 2008/11/08 06:38:27 canacar Exp $
d49 4
a52 3
displays various system statistics in a screen oriented fashion
using the curses screen display library,
.Xr curses 3 .
d56 12
a67 21
is running the screen is usually divided into two windows (an exception
is the vmstat display which uses the entire screen).
The upper window depicts the current system load average.
The information displayed in the lower window may vary, depending on
user commands.
The last line on the screen is reserved for user
input and error messages.
.Pp
By default
.Nm
displays the processes getting the largest percentage of the processor
in the lower window.
Other displays include swap space usage, disk I/O
statistics (a la
.Xr iostat 8 ) ,
virtual memory statistics (a la
.Xr vmstat 8 ) ,
network
.Dq mbuf
utilization, and network connections (a la
.Xr netstat 1 ) .
d90 1
a90 1
Do not try to reverse-map IP address.
d95 1
a95 1
argument if given.
d131 2
a132 3
specifies the screen refresh time interval in seconds.
This is provided for backwards compatibility, and overrides the
.Ar wait
d134 1
a134 1
.Fl w
d158 1
a158 1
Exit
d172 1
a172 3
.Dq display
being shown in
the lower window and the refresh interval.
d193 1
a193 1
Print the names of the available displays on the command line.
d198 1
a198 1
Exit
d216 1
a216 2
Again,
.Ar display
d218 1
a218 1
The available displays are:
d226 1
a226 1
Display, in the lower window, interface statistics.
d249 1
a249 1
Display, in the lower window, statistics about disk throughput.
d266 3
a268 2
Display, in the lower window, the number of mbufs allocated
for particular uses, i.e., data, socket structures, etc.
d270 1
a270 1
Display, in the lower window, network connections.
d334 1
a334 1
Display, in the lower window, those processes resident in main
d336 1
a336 1
largest portion of the processor (the default display).
d360 1
a360 2
Display, in the lower window,
the current values of available hardware sensors,
d396 1
d542 1
a542 1
displays; the minimum unambiguous prefix may be supplied.
d566 1
a566 1
The following commands are common to each display which shows
d568 3
a570 4
These commands are used to
select a set of drives to report on, should your system have
more drives configured than can normally be displayed on the
screen.
d581 1
a581 1
.Bl -tag -width /etc/networks -compact
d583 1
a583 1
host names
d585 1
a585 1
network names
d587 2
a588 1
pf and altq configuration
d590 1
a590 1
port names
d607 1
a607 1
program appeared in
@


1.71
log
@Add malloc and buckets views that display kernel malloc statistics similar
to vmstat -m
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.70 2008/11/02 08:49:59 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: November 2 2008 $
a265 3
.It Ic mbufs
Display, in the lower window, the number of mbufs allocated
for particular uses, i.e., data, socket structures, etc.
d277 3
@


1.70
log
@new sentence, new line;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.69 2008/11/02 07:14:16 canacar Exp $
d123 3
a125 1
.Ic pf
d127 1
a127 1
.Ic pool .
d232 5
d269 11
@


1.69
log
@Add the option to sort by requests to the pool view, and document
the hotkeys 'o' to select and 'r' to reverse column orderings.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.68 2008/11/02 06:23:28 canacar Exp $
d158 3
a160 2
combination of columns. Available orderings depend on the 
view. Not all views support orderings.
@


1.68
log
@Add a view that displays pool(9) information. Idea and ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.67 2008/11/01 07:43:45 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: November 1 2008 $
d156 4
d166 2
d339 4
d359 14
@


1.67
log
@remove commented out -S option;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.66 2008/11/01 00:38:43 canacar Exp $
d122 2
a123 1
.Ic queues
d125 1
a125 1
.Ic pf .
d328 5
@


1.66
log
@Document more global hotkeys. Help and ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.65 2008/08/13 06:20:48 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: August 13 2008 $
a104 2
.\".It Fl S Ar start
.\"??? no idea what that does
@


1.65
log
@-S currently does nothing useful, so remove it from
SYNOPSIS and usage(); after some discussion with canacar
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.64 2008/08/11 20:24:45 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: August 11 2008 $
a150 10
.It Ic \&^L
Refresh the screen.
.It Ic \&^G
Print the name of the current
.Dq display
being shown in
the lower window and the refresh interval.
.It Ic \&^Z
Suspend
.Nm .
d157 3
d162 26
@


1.64
log
@some consistency fixes and whitespace at eol removal;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.63 2008/08/08 21:48:19 sobrado Exp $
d33 1
a33 1
.Dd $Mdocdate: August 8 2008 $
a42 1
.Op Fl S Ar start
@


1.63
log
@documentation tweaks.

ok jmc@@, matthieu@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.62 2008/08/08 20:07:49 matthieu Exp $
d88 1
a88 1
.It Fl a 
d91 1
a91 1
Raw, non interactive mode. 
d103 1
a103 1
.Ar delay 
d297 1
a297 1
Displays filter information about
d300 1
a300 3
.Xr pfctl 8
with the 
.Fl s Cm info
d312 3
a314 3
Displays statistics about the active
.Xr altq 4 
queues, similar to the output of 
d317 1
a317 1
Displays pf rules statistics, similar to the output of 
d325 1
a325 2
Displays pf
states statistics, similar to the output of 
@


1.62
log
@Small step towards fixing documentation:
- sync usage() with reality. Remove the -h option that does nothing.
- don't complain about kvm_openfiles() error in case of incorrect usage.
- add basic descriptions of the new options and views in the manual
  page. More is needed...
with help from jmc@@ and sobrado@@. ok sobrado@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.61 2007/11/22 18:20:04 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: November 22 2007 $
d109 1
a109 1
Specifies the maximum width of the display .
d150 1
a150 1
These are
d283 3
a285 1
.It Cm show Op Ar "protos \&| ports \&| hosts"
d375 1
a375 1
.Ql | ) ,
@


1.61
log
@.Nm does not require an argument; from Mark Lumsden
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.60 2007/11/17 11:42:14 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: November 17 2007 $
d41 7
a47 4
.Op Fl n
.Op Fl w Ar wait
.Op Ar display
.Op Ar refresh-interval
d87 11
a97 1
.Bl -tag -width "refresh-interval"
d100 1
a100 1
.It Fl w Ar wait
d102 3
a104 3
This option is overridden by
.Ar refresh-interval ,
if given.
d106 6
a111 1
.It Ar display
d113 1
a113 1
.Ar display
d115 1
d117 1
a118 1
.Ic swap ,
d121 5
a125 2
.Ic vmstat ,
.Ic ifstat
d127 1
a127 1
.Ic netstat .
d130 1
a130 1
.Ar display
d136 1
a136 1
.It Ar refresh-interval
d138 1
a138 1
.Ar refresh-interval
d283 1
a283 1
.It Cm show Op Ar protos\&|ports\&|hosts
d294 8
d311 8
d324 4
d534 2
d546 1
@


1.60
log
@do not try to keep a list of all possible displays in the introduction.
the page already does this in detail, and this list just goes out of date.

problem spotted by Mark Lumsden
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.59 2007/11/17 09:33:53 jmc Exp $
d127 1
a127 1
.Nm systat .
d139 1
a139 1
.Nm systat .
d162 1
a162 1
.Nm systat .
@


1.59
log
@document interactive command `q'; from Mark Lumsden
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.58 2007/10/31 16:19:25 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: October 31 2007 $
d65 1
a65 2
Other displays show swap space usage, disk
.Tn I/O
d301 1
a301 3
device interrupts, system name translation caching, disk
.Tn I/O
etc.
@


1.58
log
@remove out of date comment in BUGS: "Takes 2-10 percent of the CPU."
from Pierre Riteau
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.57 2007/05/31 19:20:17 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
d147 3
@


1.57
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.56 2007/05/30 05:20:58 otto Exp $
a511 1
Takes 2-10 percent of the CPU.
@


1.56
log
@rename msec to the less confusing sec and improve the description in
the man page.  ok dlg@@ and jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.55 2007/04/22 17:20:54 moritz Exp $
d33 1
a33 1
.Dd December 30, 1993
@


1.55
log
@Remove non-existent keyword protocol and replace it with
the correct keywords (tcp, udp, all). Also add another
missing argument to the show keyword.

With and ok jmc@@ and deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.54 2007/02/23 23:36:36 jmc Exp $
d210 1
a210 1
(in milliseconds).
@


1.54
log
@one final sort;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.53 2007/02/23 23:33:14 jmc Exp $
a255 6
.It Cm protocol
Display only network connections using the indicated protocol
(currently either
.Dq tcp
or
.Dq udp ) .
d259 1
a259 1
.It Cm show Op Ar ports\&|hosts
d262 1
a262 1
Hosts and ports which are being ignored are prefixed with a
d264 1
a264 5
If
.Ar ports
or
.Ar hosts
is supplied as an argument to
d267 2
@


1.53
log
@mving the description of "mim prefix" to the display description was not
quite correct - simplify it, and document it both for command line and
interactive;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.52 2007/02/23 23:23:54 jmc Exp $
d487 3
a491 3
Multiple drives may be specified, separated by spaces.
.It Cm display Op Ar drives
Display information about the drives indicated.
@


1.52
log
@sort;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.51 2007/02/23 23:07:59 jmc Exp $
d109 3
a111 2
Commands to switch between displays may be abbreviated to the
minimum unambiguous prefix; for example,
d177 3
@


1.51
log
@consistency fix which i should have spotted earlier...
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.50 2007/02/23 23:03:18 jmc Exp $
d157 5
a173 5
.It Ic quit
Exit
.Nm systat .
(This may be abbreviated to
.Ic q . )
d177 97
a273 1
.Bl -tag -width Ic
d283 5
a287 6
.It Ic iostat
Display, in the lower window, statistics about disk throughput.
Statistics
on disk throughput show, for each drive, data transferred in kilobytes,
number of disk transactions performed, and time spent in disk accesses
(in milliseconds).
a299 8
.It Ic mbufs
Display, in the lower window, the number of mbufs allocated
for particular uses, i.e., data, socket structures, etc.
.It Ic sensors
Display, in the lower window,
the current values of available hardware sensors,
in a format similar to that of
.Xr sysctl 8 .
a444 87
.It Ic ifstat
Display, in the lower window, interface statistics.
The
.Dq State
column has the format
.Sm off
.Xo
.Cm up \*(Ba dn
.Bq : Cm U \*(Ba D .
.Xc
.Sm on
.Sq up
and
.Sq dn
represent whether the interface is up or down.
.Sq U
and
.Sq D
represent whether the interface is connected or not;
in the case of
.Xr carp 4
interfaces, whether the interface is in master or backup state, respectively.
See below for more options.
.It Ic netstat
Display, in the lower window, network connections.
By default, network servers awaiting requests are not displayed.
Each address
is displayed in the format
.Dq host.port ,
with each shown symbolically, when possible.
It is possible to have addresses displayed numerically,
limit the display to a set of ports, hosts, and/or protocols
(the minimum unambiguous prefix may be supplied):
.Bl -tag -width Ar
.It Cm all
Toggle the displaying of server processes awaiting requests (this
is the equivalent of the
.Fl a
flag to
.Xr netstat 1 ) .
.It Cm numbers
Display network addresses numerically.
.It Cm names
Display network addresses symbolically.
.It Cm protocol
Display only network connections using the indicated protocol
(currently either
.Dq tcp
or
.Dq udp ) .
.It Cm ignore Op Ar items
Do not display information about connections associated with
the specified hosts or ports.
Hosts and ports may be specified
by name
.Pf ( Dq vangogh ,
.Dq ftp ) ,
or numerically.
Host addresses
use the Internet dot notation
.Pq Dq 128.32.0.9 .
Multiple items
may be specified with a single command by separating them with
spaces.
.It Cm display Op Ar items
Display information about the connections associated with the
specified hosts or ports.
As for
.Ar ignore ,
.Ar items
may be names or numbers.
.It Cm show Op Ar ports\&|hosts
Show, on the command line, the currently selected protocols,
hosts, and ports.
Hosts and ports which are being ignored are prefixed with a
.Ql \&! .
If
.Ar ports
or
.Ar hosts
is supplied as an argument to
.Cm show ,
then only the requested information will be displayed.
.It Cm reset
Reset the port, host, and protocol matching mechanisms to the default
(any protocol, port, or host).
.El
@


1.50
log
@more logical placing for discussion of minimum prefixes accepted;
started by deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.49 2007/02/23 22:13:21 deraadt Exp $
d209 2
a210 1
Display the current values of available hardware sensors,
@


1.49
log
@forgot to list the display in one place
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.48 2007/02/23 22:02:58 deanna Exp $
d109 5
a463 5
Commands to switch between displays may be abbreviated to the
minimum unambiguous prefix; for example,
.Dq io
for
.Dq iostat .
@


1.48
log
@Add a display for hardware sensors, available with :sensors.

ok deraadt, jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.47 2006/10/15 01:45:10 millert Exp $
d101 1
@


1.47
log
@Talk about "memory" not "pages in kilobytes", it is less awkward
that way.  OK jmc@@ deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.46 2006/10/13 11:07:28 jmc Exp $
d202 4
d506 1
@


1.46
log
@vmstat memory stats are in kb, not number of pages;
from jan srzednicki (freebsd pr #71690)

ok mickey
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.45 2006/06/29 21:17:27 dlg Exp $
d217 1
a217 1
The first column reports on the number of kilobytes in physical pages
d220 3
a222 3
virtual pages, that is, the number of kilobytes in pages that would be
needed if all processes had all of their pages.
Finally, the last column shows the number of kilobytes in physical pages
@


1.45
log
@change bytes to kilobytes so i dont have to think about where megabytes
start.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.44 2006/06/28 08:52:11 jmc Exp $
d217 1
a217 1
The first column reports on the number of physical pages
d220 1
a220 1
virtual pages, that is, the number of pages that would be
d222 1
a222 1
Finally, the last column shows the number of physical pages
@


1.44
log
@update the `iostat' section; from deanna phillips
ok dlg
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.43 2006/06/28 07:32:40 jmc Exp $
d184 1
a184 1
on disk throughput show, for each drive, bytes of data transferred,
@


1.43
log
@mark up a `>';
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.42 2006/06/28 07:30:11 jmc Exp $
d182 1
a182 11
Display, in the lower window, statistics about processor use
and disk throughput.
Statistics on processor use appear as
bar graphs of the amount of time executing in user mode
.Pq Dq user ,
in user mode running low priority processes
.Pq Dq nice ,
in system mode
.Pq Dq system ,
and idle
.Pq Dq idle .
d184 1
a184 1
on disk throughput show, for each drive, kilobytes of data transferred,
a186 25
This information may be displayed as
bar graphs or as rows of numbers which scroll downward.
Bar graphs are shown by default.
.Pp
The following commands are specific to the
.Ic iostat
display; the minimum unambiguous prefix may be supplied.
.Pp
.Bl -tag -width Fl -compact
.It Cm numbers
Show the disk
.Tn I/O
statistics in numeric form.
Values are displayed in numeric columns which scroll downward.
.It Cm bars
Show the disk
.Tn I/O
statistics in bar graph form (default).
.It Cm secs
Toggle the display of time in disk activity (the default is to
not display time).
.It Cm split
Toggle the display of separate read/write statistics (the default is
combined statistics).
.El
@


1.42
log
@update the `ifstat' entry;
based on a diff from deanna phillips, with some wording from dlg
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.41 2006/05/26 17:26:33 jmc Exp $
d276 1
a276 1
.Ql > ) ,
@


1.41
log
@remove references to CRTs where they no longer make sense;

tweaked by mickey/krw
ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.40 2006/04/14 01:20:43 dlg Exp $
d384 20
@


1.40
log
@update the manpage to document interrupt cpu time in the vmstat view.

prodded by deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.39 2006/01/16 10:26:13 jmc Exp $
d38 1
a38 1
.Nd display system statistics on a CRT
@


1.39
log
@remove Xr to self from SEE ALSO;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.38 2006/01/15 17:36:48 niallo Exp $
d271 2
@


1.38
log
@- add descriptions for 'pzidle' and 'kmapent' fields in vmstat display.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.37 2005/09/06 23:28:23 jmc Exp $
a510 1
.Xr systat 1 ,
@


1.37
log
@make some of the stat utility pages reference each other;
idea from a mail to misc@@ from simon dassow;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.36 2004/11/16 14:03:45 jmc Exp $
d333 1
a333 1
.Bl -tag -compact -width XXXXXX -offset indent
d368 4
@


1.36
log
@shuffle the .Pp;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.35 2004/11/16 09:52:33 markus Exp $
d503 1
d505 1
d507 1
d509 4
a512 1
.Xr renice 8
@


1.35
log
@print network interface stats with 'systat ifstat'; ok deraadt, mickey
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.34 2004/04/26 19:22:30 itojun Exp $
d332 1
a375 1
.Pp
a378 1
.Pp
@


1.34
log
@add -n flag (do not reverse-lookup).  pb and deraadt ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.33 2004/02/20 22:07:08 jmc Exp $
d102 2
a103 1
.Ic vmstat
d376 3
a378 3
The following commands are specific to the
.Ic vmstat
display; the minimum unambiguous prefix may be supplied.
a379 11
.Bl -tag -width Ds -compact
.It Cm boot
Display cumulative statistics since the system was booted.
.It Cm run
Display statistics as a running total from the point this
command is given.
.It Cm time
Display statistics averaged over the refresh interval (the default).
.It Cm zero
Reset running statistics to zero.
.El
d444 18
@


1.33
log
@uppercase CRT;
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.32 2004/02/15 22:56:12 tedu Exp $
d41 1
d86 2
@


1.32
log
@'split' command for iostat mode
from Pedro Martelletto <pbastos@@rdc.puc-rio.br>
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.31 2003/12/17 20:58:39 jmc Exp $
d38 1
a38 1
.Nd display system statistics on a crt
@


1.31
log
@- add -w to options description
- document default refresh interval
- sync usage() with SYNOPSIS

inspired by PR 3608;
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.30 2003/09/02 18:50:06 jmc Exp $
d214 3
@


1.30
log
@escape punctuation;
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.29 2003/07/25 06:52:07 jmc Exp $
d84 7
a90 1
.Bl -tag -width Ds
d109 2
a110 2
.Ar refresh-interval
specified with the
d113 1
@


1.29
log
@remove some non-existent information from vmstat section;
from Hans-Joerg Hoexer (PR 3367)
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.28 2003/06/03 02:56:17 millert Exp $
d429 1
a429 1
.Ql ! .
@


1.28
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.27 2003/04/15 19:57:10 jmc Exp $
d240 1
a240 3
The second column reports the number of physical pages that
are devoted to read-only text pages.
The third and fourth columns report the same two figures for
a248 2
in page wait
.Pq Sq p ,
d264 1
a264 1
.Ql \  ) .
@


1.27
log
@^Z Stop systat -> ^Z Suspend systat;
from Okan Demirmen;

ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.26 2002/10/29 16:44:44 jason Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.26
log
@idle time is shown as ` ' not ` )'.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.25 2001/12/07 09:18:08 deraadt Exp $
d125 1
a125 1
Stop
@


1.25
log
@move back.  pvalchev -- the bug was quite obscure
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.23 2001/11/23 22:20:06 deraadt Exp $
d272 1
a272 1
.Ql \ ) .
@


1.24
log
@back out latest changes which cause problems on alpha/sparc64 until
they are fixed
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.22 2001/11/09 00:56:24 miod Exp $
a44 2
.Op Fl M Ar core
.Op Fl N Ar system
a88 8
.It Fl M Ar core
Extract values associated with the name list from
.Ar core
instead of the running kernel.
.It Fl N Ar system
Extract the name list from
.Ar system
instead of the running kernel.
d357 1
a357 1
.It pdfre 
@


1.23
log
@fix signal races.  use sysctl() instead of kvm where possible, and then KNF
the hell out of it; checked by miod
@
text
@d45 2
d91 8
d367 1
a367 1
.It pdfre
@


1.22
log
@Since all our arches have /dev/ksyms, replace rigid mentions of the kernel
being /bsd with more correct terms, and remove /bsd and /dev/kmem from the
FILES section if they were there.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.21 2001/08/11 15:30:33 deraadt Exp $
a44 2
.Op Fl M Ar core
.Op Fl N Ar system
a88 8
.It Fl M Ar core
Extract values associated with the name list from
.Ar core
instead of the running kernel.
.It Fl N Ar system
Extract the name list from
.Ar system
instead of the running kernel.
d357 1
a357 1
.It pdfre 
@


1.21
log
@update one of the outdated lists in here; andrew.hoerter@@NeuStar.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.20 2001/04/20 16:43:39 millert Exp $
d94 1
a94 2
instead of the default
.Pa /dev/kmem .
d98 1
a98 2
instead of the default
.Pa /bsd .
a492 4
.It Pa /bsd
for the namelist
.It Pa /dev/kmem
for information in main memory
d494 1
a494 1
for host names
d496 1
a496 1
for network names
d498 1
a498 1
for port names
@


1.20
log
@systat does not use /dev/drum
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.19 2000/11/09 17:52:40 aaron Exp $
d339 20
d360 13
a372 33
copy-on-write faults
.It objlk
object cache lookups
.It objht
object cache hits
.It zfod
pages zero filled on demand
.It nzfod
number of zfod's created
.It %zfod
percentage of zfod's used
.It kern
number of pages in use by kernel
.It wire
number of pages wired down
.It act
number of pages active
.It inact
number of pages inactive
.It free
number of pages free
.It daefr
pages freed by daemon
.It prcfr
pages freed by exiting processes
.It react
number of pages reactivated from free list
.It scan
scans in page out daemon
.It hdrev
revolutions of the hand in page out daemon
.It intrn
intransit blocking page faults
@


1.19
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.18 2000/03/23 21:39:55 aaron Exp $
a498 2
.It Pa /dev/drum
for information about swapped out processes
@


1.18
log
@More pedantic man page formatting insanity, lalala
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.17 2000/03/23 21:10:19 aaron Exp $
d90 1
a90 1
.Bl -tag -width "refresh_interval"
@


1.17
log
@Fix some formatting problems I missed before.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.16 2000/03/11 21:40:03 aaron Exp $
d336 2
a337 1
display is a list of virtual memory statistics. The abbreviations are:
@


1.16
log
@Various cleanups and standardizations.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.15 2000/03/06 03:17:39 aaron Exp $
d284 1
a284 1
.Ql \  ) .
@


1.15
log
@Some section re-ordering.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.14 1999/09/23 04:12:09 alex Exp $
d59 5
a63 4
is the vmstat display which uses the entire screen).  The
upper window depicts the current system load average.  The
information displayed in the lower window may vary, depending on
user commands.  The last line on the screen is reserved for user
d69 2
a70 1
in the lower window.  Other displays show swap space usage, disk
d86 2
a87 2
input line is passed to a per-display command interpreter.  This
allows each display to have certain display-specific commands.
d89 1
a89 1
Command line options:
d117 2
a118 2
specifies the screen refresh time interval in seconds.  This is provided
for backwards compatibility, and overrides the
d141 2
a142 1
line typed as a command.  While entering a command the
d162 2
a163 1
Start (continue) refreshing the screen.  If a second, numeric,
d188 11
a198 4
and disk throughput.  Statistics on processor use appear as
bar graphs of the amount of time executing in user mode (``user''),
in user mode running low priority processes (``nice''), in
system mode (``system''), and idle (``idle'').  Statistics
d201 4
a204 3
(in milliseconds).  This information may be displayed as
bar graphs or as rows of numbers which scroll downward.  Bar
graphs are shown by default.
d214 2
a215 2
statistics in numeric form.  Values are
displayed in numeric columns which scroll downward.
d238 1
a238 1
for particular uses, i.e. data, socket structures, etc.
d277 8
a284 2
system (shown as `='), user (shown as `>'),
nice (shown as `-'), and idle time (shown as ` ').
d287 12
a298 2
Context switches (`Csw'), Traps (`Trp'), Syscalls (`Sys'),
Interrupts (`Int'), Soft interrupts (`Sof'), and Faults (`Flt')
d385 1
a385 1
.Bl -tag -width Ar -compact
d397 7
a403 4
Display, in the lower window, network connections.  By default,
network servers awaiting requests are not displayed.  Each address
is displayed in the format ``host.port'', with each shown symbolically,
when possible.  It is possible to have addresses displayed numerically,
d406 1
a406 2
.Pp
.Bl -tag -width Ar -compact
d417 1
a417 1
.It Ar protocol
d425 10
a434 3
the specified hosts or ports.  Hosts and ports may be specified
by name (``vangogh'', ``ftp''), or numerically.  Host addresses
use the Internet dot notation (``128.32.0.9'').  Multiple items
d439 2
a440 1
specified hosts or ports.  As for
d446 4
a449 2
hosts, and ports.  Hosts and ports which are being ignored
are prefixed with a `!'.  If
d463 4
a466 1
minimum unambiguous prefix; for example, ``io'' for ``iostat''.
d468 2
a469 2
insufficient for display.  For example, on a machine with 10
drives the
d471 5
a475 3
bar graph displays only 3 drives on a 24 line terminal.  When
a bar graph would overflow the allotted screen space it is
truncated and the actual value is printed ``over top'' of the bar.
d478 2
a479 1
information about disk drives.  These commands are used to
d486 2
a487 2
Do not display information about the drives indicated.  Multiple
drives may be specified, separated by spaces.
d489 2
a490 2
Display information about the drives indicated.  Multiple drives
may be specified, separated by spaces.
@


1.14
log
@Typo fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.13 1999/06/26 13:19:17 aaron Exp $
d461 5
a477 5
.Sh SEE ALSO
.Xr kill 1 ,
.Xr ps 1 ,
.Xr top 1 ,
.Xr renice 8
@


1.13
log
@fix typos in FILES section, some more cleanup; shinobi@@monkey.org
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.12 1999/06/05 01:21:42 aaron Exp $
d230 1
a230 1
device interrupts, system name translation cacheing, disk
@


1.12
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.11 1999/05/16 19:58:00 alex Exp $
d51 1
a51 1
.Nm systat
d57 1
a57 1
.Nm systat
d66 1
a66 1
.Nm systat
d71 1
a71 1
.Xr iostat  8  ) ,
d73 5
a77 3
.Xr vmstat  8  ) ,
network ``mbuf'' utilization, and network connections (a la
.Xr netstat  1  ) .
d80 3
a82 1
A ``global'' command interpreter processes all keyboard input.
d124 1
a124 1
.Nm systat  .
d130 3
a132 1
Print the name of the current ``display'' being shown in
d136 1
a136 1
.Nm systat  .
d144 2
a145 1
The following commands are interpreted by the ``global''
d166 1
a166 1
.Nm systat  .
d168 1
a168 1
.Ic q  . )
d179 3
a181 1
is accounted to the ``idle'' process.
d253 10
a262 3
(over the last refresh interval) that are runnable (`r'), in page wait (`p'),
in disk wait other than paging (`d'),
sleeping (`s'), and swapped out but desiring to run (`w').
d346 3
a348 1
The `%zfod' value is more interesting when observed over a long
d382 1
a382 1
.Ar netstat  1  ) .
d389 4
a392 1
(currently either ``tcp'' or ``udp'').
d403 1
a403 1
.Ar ignore  ,
d414 1
a414 1
.Cm show  ,
d455 1
a455 1
or host names
d459 1
a459 1
or port names
d463 1
a463 1
.Nm systat
@


1.11
log
@Cleanup xrefs under SEE ALSO.  Specifically:

  - Sort xrefs by section, and then alphabetically.
  - Add missing commas between xref items.
  - Remove commas from the last xref entry.
  - Remove duplicate entries.
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.10 1999/02/24 16:31:17 aaron Exp $
d39 1
a39 1
.Os BSD 4.3
d192 1
a192 1
.Tn I/O 
d204 1
a204 1
Show information about swap space usage on all the 
d208 1
a208 1
The 
d252 1
a252 1
To the right of the Proc display are statistics about 
@


1.10
log
@cpu -> CPU
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.9 1999/02/19 19:15:09 deraadt Exp $
d455 2
a456 2
.Xr renice 8 ,
.Xr top 1
@


1.9
log
@Xr
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.8 1998/09/27 16:57:54 aaron Exp $
d446 1
a446 1
Takes 2-10 percent of the cpu.
@


1.8
log
@usr.bin/ man page cleanups, n-s
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.7 1998/09/01 16:38:25 deraadt Exp $
d452 5
@


1.7
log
@more man page fixes; aaron@@ug.cs.dal.ca
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.6 1998/02/11 11:57:16 d Exp $
d51 1
a51 1
.Nm Systat
d89 1
a89 1
.Pa /dev/mem .
d183 1
a183 1
graphs are shown by default;
d212 1
a212 1
If there are more than one swap partition in use,
d214 1
a214 1
Areas known to the kernel, but not in use are shown as not available.
d226 2
a227 2
of users logged in and the load average over the last one, five,
and fifteen minute intervals.
d230 1
a230 1
active processes, that is processes that have run in the previous
d236 1
a236 1
are devoted to read only text pages.
d238 1
a238 1
virtual pages, that is the number of pages that would be
d240 1
a240 1
Finally the last column shows the number of physical pages
d279 2
a280 2
number of disk transfers per second over the last refresh interval;
the second row of the display shows the average
d383 1
a383 1
.Op Ar items
d428 1
a428 1
For the namelist.
d430 1
a430 1
For information in main memory.
d432 1
a432 1
For information about swapped out processes.
d434 1
a434 1
For host names.
d436 1
a436 1
For network names.
d438 1
a438 1
For port names.
@


1.6
log
@Fixed innocuous typo
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.5 1997/07/29 04:47:13 flipk Exp $
d255 1
a255 1
which have occured during the last refresh interval.
@


1.5
log
@1) display full time string in 'vmstat' display so you can tell
   the difference between an inactive display and a hung machine.
2) Update the man page for 'vmstat' to reflect reality (and actually
   explain all those vm abbreviations).

netbsd PR bin/2756 (Jonathan Stone <jonathan@@DSG.Stanford.EDU>
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.4 1996/07/08 22:09:43 ccappuc Exp $
d91 1
a91 1
Extracr the name list from
@


1.4
log
@kernel is /bsd, os is OpenBSD
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.3 1996/06/26 05:40:11 deraadt Exp $
d243 2
a244 10
Below the memory display is the disk usage display.
It reports the number of seeks, transfers, number
of kilobyte blocks transferred per second averaged over the
refresh period of the display (by default, five seconds), and
the time spent in disk accesses.
Note that the system only keeps statistics on at most four disks.
.Pp
Below the disk display is a list of the
average number of processes (over the last refresh interval)
that are runnable (`r'), in page wait (`p'),
d252 6
a257 1
At the bottom left are statistics on name translations.
d264 6
a282 36
Below the paging statistics is a line listing the average number of
total reclaims ('Rec'),
intransit blocking page faults (`It'),
swap text pages found in free list (`F/S'),
file system text pages found in free list (`F/F'),
reclaims from free list
pages freed by the clock daemon (`Fre'),
and sequential process pages freed (`SFr')
per second over the refresh interval.
.Pp
Below this line are statistics on the average number of
zero filled pages (`zf') and demand filled text pages (`xf')
per second over the refresh period.
The first row indicates the number of requests that were
resolved, the second row shows the number that were set up,
and the last row shows the percentage of setup requests that were
actually used.
Note that this percentage is usually less than 100%,
however it may exceed 100% if a large number of requests
are actually used long after they were set up during a
period when no new pages are being set up.
Thus this figure is most interesting when observed over
a long time period, such as from boot time
(see below on getting such a display).
.Pp
Below the page fill statistics is a column that
lists the average number of context switches (`Csw'),
traps (`Trp'; includes page faults), system calls (`Sys'), interrupts (`Int'),
characters output to DZ ports using
.No pseudo Ns -DMA
(`Pdm'),
network software interrupts (`Sof'),
page faults (`Flt'), pages scanned by the page daemon (`Scn'),
and revolutions of the page daemon's hand (`Rev')
per second over the refresh interval.
.Pp
d290 44
@


1.3
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: systat.1,v 1.6 1996/05/10 23:16:39 thorpej Exp $
d94 1
a94 1
.Pa /netbsd .
d416 1
a416 1
.It Pa /netbsd
@


1.2
log
@libutil
@
text
@d1 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
.\"	$NetBSD: systat.1,v 1.5 1995/09/27 19:46:12 jtc Exp $
d44 4
a47 1
.Op Fl display
d84 11
a94 1
.It Fl Ns Ar display
a95 2
.Fl
flag expects
d97 1
a97 1
to be one of:
d105 1
a105 3
These displays can also be requested interactively (without the
.Dq Fl )
and are described in
d109 7
a115 2
.Ar refresh-value
specifies the screen refresh time interval in seconds.
d179 1
a179 1
number of disk transactions performed, and average seek time
d198 3
a200 3
.It Cm msps
Toggle the display of average seek time (the default is to
not display seek times).
d243 1
a243 1
It reports the number of seeks, transfers, and number
d245 2
a246 2
refresh period of the display (by default, five seconds).
For some disks it also reports the average milliseconds per seek.
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
