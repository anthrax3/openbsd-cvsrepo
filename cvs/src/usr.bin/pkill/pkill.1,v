head	1.23;
access;
symbols
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.23.0.14
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.23.0.10
	OPENBSD_5_9_BASE:1.23
	OPENBSD_5_8:1.23.0.12
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.23.0.4
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.23.0.8
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.6
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.20.0.2
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.18.0.4
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.2
	OPENBSD_5_0:1.16.0.4
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.15.0.4
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.2
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.14.0.4
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.12.0.4
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.12.0.2
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.11.0.2
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.7.0.8
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.6
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.4
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.7.0.2
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.3.0.4
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2;
locks; strict;
comment	@.\" @;


1.23
date	2013.07.16.00.07.52;	author schwarze;	state Exp;
branches;
next	1.22;

1.22
date	2013.06.03.07.16.32;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2013.06.03.04.17.37;	author tedu;	state Exp;
branches;
next	1.20;

1.20
date	2012.08.21.09.45.50;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2012.08.21.06.28.36;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2012.02.09.20.04.35;	author markus;	state Exp;
branches;
next	1.17;

1.17
date	2012.01.17.04.27.20;	author lum;	state Exp;
branches;
next	1.16;

1.16
date	2010.09.29.07.44.56;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2009.07.27.14.53.54;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2009.06.07.22.16.43;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2009.03.26.08.38.39;	author sobrado;	state Exp;
branches;
next	1.12;

1.12
date	2008.06.26.05.42.21;	author ray;	state Exp;
branches;
next	1.11;

1.11
date	2008.02.11.07.58.28;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2008.02.07.15.38.07;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2007.10.31.17.14.34;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.31.19.20.14;	author jmc;	state Exp;
branches;
next	1.7;

1.7
date	2005.07.16.11.58.10;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2005.07.16.11.48.46;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2005.03.27.20.56.47;	author robert;	state Exp;
branches;
next	1.4;

1.4
date	2005.03.27.14.50.09;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2004.07.06.14.02.49;	author jmc;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.06.20.49.26;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	2004.01.06.20.07.49;	author millert;	state Exp;
branches;
next	;


desc
@@


1.23
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@.\"	$OpenBSD: pkill.1,v 1.22 2013/06/03 07:16:32 jmc Exp $
.\"	$NetBSD: pkill.1,v 1.8 2003/02/14 15:59:18 grant Exp $
.\"
.\" Copyright (c) 2002 The NetBSD Foundation, Inc.
.\" All rights reserved.
.\"
.\" This code is derived from software contributed to The NetBSD Foundation
.\" by Andrew Doran.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE NETBSD FOUNDATION, INC. AND CONTRIBUTORS
.\" ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
.\" TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
.\" PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE FOUNDATION OR CONTRIBUTORS
.\" BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
.\" CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
.\" SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
.\" INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
.\" CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
.\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
.\" POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate: June 3 2013 $
.Dt PKILL 1
.Os
.Sh NAME
.Nm pgrep , pkill
.Nd find or signal processes by name
.Sh SYNOPSIS
.Nm pgrep
.Op Fl flnoqvx
.Op Fl d Ar delim
.Op Fl G Ar gid
.Op Fl g Ar pgrp
.Op Fl P Ar ppid
.Op Fl s Ar sid
.Op Fl T Ar rtable
.Op Fl t Ar tty
.Op Fl U Ar uid
.Op Fl u Ar euid
.Op Ar pattern ...
.Nm pkill
.Op Fl Ar signal
.Op Fl fIlnoqvx
.Op Fl G Ar gid
.Op Fl g Ar pgrp
.Op Fl P Ar ppid
.Op Fl s Ar sid
.Op Fl T Ar rtable
.Op Fl t Ar tty
.Op Fl U Ar uid
.Op Fl u Ar euid
.Op Ar pattern ...
.Sh DESCRIPTION
The
.Nm pgrep
command searches the process table on the running system and prints the
process IDs of all processes that match the criteria given on the command
line.
.Pp
The
.Nm pkill
command searches the process table on the running system and signals all
processes that match the criteria given on the command line.
.Pp
The following options are available:
.Bl -tag -width Ds
.It Fl d Ar delim
Specify a delimiter to be printed between each process ID.
The default is a newline.
This option can only be used with the
.Nm pgrep
command.
.It Fl f
Match against full argument lists.
The default is to match against process names.
.It Fl G Ar gid
Restrict matches to processes with a real group ID in the comma-separated
list
.Ar gid .
.It Fl g Ar pgrp
Restrict matches to processes with a process group ID in the comma-separated
list
.Ar pgrp .
The value zero is taken to mean the process group ID of the running
.Nm pgrep
or
.Nm pkill
command.
.It Fl I
Ask for confirmation before killing a process.
.It Fl l
Long output.
Print the process name in addition to the process ID for each matching
process.
If used in conjunction with
.Fl f ,
print the process ID and the full argument list for each matching process
.Pf ( Nm pgrep
only).
.It Fl n
Match only the most recently created (newest) process, if any.
Cannot be used in conjunction with
.Fl o .
.It Fl o
Match only the least recently created (oldest) process, if any.
Cannot be used in conjunction with
.Fl n .
.It Fl P Ar ppid
Restrict matches to processes with a parent process ID in the
comma-separated list
.Ar ppid .
.It Fl q
Quiet mode.
Perform the action, but don't display anything on standard output.
Note that
.Fl q
takes precedence over other display options such as
.Fl l .
.It Fl s Ar sid
Restrict matches to processes with a session ID in the comma-separated
list
.Ar sid .
The value zero is taken to mean the session ID of the running
.Nm pgrep
or
.Nm pkill
command.
.It Fl T Ar rtable
Restrict matches to processes associated with the specified routing tables
in the comma-separated list
.Ar rtable .
.It Fl t Ar tty
Restrict matches to processes associated with a terminal in the
comma-separated list
.Ar tty .
Terminal names may be of the form
.Sq ttyxx
or the shortened form
.Sq xx .
A single dash
.Pq Sq -
matches processes not associated with a terminal.
.It Fl U Ar uid
Restrict matches to processes with a real user ID in the comma-separated
list
.Ar uid .
.It Fl u Ar euid
Restrict matches to processes with an effective user ID in the
comma-separated list
.Ar euid .
.It Fl v
Reverse the sense of the matching;
display or signal processes that do not match the given criteria.
.It Fl x
Require an exact match of the process name, or argument list if
.Fl f
is given.
The default is to match any substring.
.It Fl Ar signal
A non-negative decimal number or symbolic signal name specifying the signal
to be sent instead of the default TERM.
This option is valid only when given as the first argument to
.Nm pkill .
.El
.Pp
If any
.Ar pattern
operands are specified, they are used as
regular expressions to match the command name
or, if
.Fl f
is specified, the full argument list of each process.
However, presently
.Ox
will only keep track of the first 16 characters of the command name
for each process.
Attempts to match any characters after the first 16 of a
command name will silently fail.
.Pp
Note that a running
.Nm pgrep
or
.Nm pkill
process will never consider itself or system processes (kernel threads) as
a potential match.
.Sh EXIT STATUS
The
.Nm pgrep
and
.Nm pkill
utilities exit with one of the following values:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It 0
One or more processes were matched.
.It 1
No processes were matched.
.It 2
Invalid options were specified on the command line.
.It 3
An internal error occurred.
.El
.Sh SEE ALSO
.Xr grep 1 ,
.Xr kill 1 ,
.Xr ps 1 ,
.Xr kill 2 ,
.Xr sigaction 2 ,
.Xr re_format 7
.Sh HISTORY
.Nm pkill
and
.Nm pgrep
first appeared in
.Ox 3.5 .
They are modelled after utilities of the same name that appeared in Sun
Solaris 7.
.Sh AUTHORS
.An Andrew Doran
.Aq Mt ad@@NetBSD.org .
@


1.22
log
@sort options list;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.21 2013/06/03 04:17:37 tedu Exp $
d229 1
a229 1
.Aq ad@@NetBSD.org .
@


1.21
log
@-I to confirm pkills. ok many
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.20 2012/08/21 09:45:50 ajacoutot Exp $
d31 1
a31 1
.Dd $Mdocdate: August 21 2012 $
a84 2
.It Fl I
Ask for confirmation before killing a process.
d98 2
@


1.20
log
@Sort options.

"obviously okay" espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.19 2012/08/21 06:28:36 espie Exp $
d52 1
a52 1
.Op Fl flnoqvx
d85 2
@


1.19
log
@add -q "silent" option similar to grep
okay ajacoutot@@, guenther@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.18 2012/02/09 20:04:35 markus Exp $
d31 1
a31 1
.Dd $Mdocdate: February 9 2012 $
d119 7
a160 7
.It Fl q
Quiet mode.
Perform the action, but don't display anything on standard output.
Note that
.Fl q
takes precedence over other display options such as
.Fl l .
@


1.18
log
@restrict pkill/pgrep to the routing domain specified by -T; ok henning@@, mpf@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.17 2012/01/17 04:27:20 lum Exp $
d31 1
a31 1
.Dd $Mdocdate: January 17 2012 $
d39 1
a39 1
.Op Fl flnovx
d52 1
a52 1
.Op Fl flnovx
d154 7
@


1.17
log
@Allow pkill to use the -l option. This displays which processes have been
signalled using the "Long" format, like pgrep.

Original diff from FreeBSD, modified somewhat on tech@@, with feedback from nicm@@

Man page input from jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.16 2010/09/29 07:44:56 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: September 29 2010 $
d45 1
d57 1
d128 4
@


1.16
log
@various EXIT STATUS fixes; from Daniel Dickman
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.15 2009/07/27 14:53:54 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: July 27 2009 $
d51 1
a51 1
.Op Fl fnovx
d102 3
a104 4
print the process ID and the full argument list for each matching process.
This option can only be used with the
.Nm pgrep
command.
@


1.15
log
@document how patterns are matched and that only the first 16 chars
are tracked to match the command name;

pointed out by fgsch
diff adapted from text from gad@@freebsd

ok fgsch sobrado millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.14 2009/06/07 22:16:43 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: June 7 2009 $
d181 2
a182 1
.Pp
d186 1
a186 1
return one of the following values upon exit:
@


1.14
log
@tweak -v; from Tim van der Molen
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.13 2009/03/26 08:38:39 sobrado Exp $
d31 1
a31 1
.Dd $Mdocdate: March 26 2009 $
d160 14
@


1.13
log
@fix a few typographical errors found by spell(1).

ok dtucker@@, jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.12 2008/06/26 05:42:21 ray Exp $
d31 1
a31 1
.Dd $Mdocdate: June 26 2008 $
d147 2
a148 2
Reverse the sense of the matching; display processes that do not match the
given criteria.
@


1.12
log
@First pass at removing clauses 3 and 4 from NetBSD licenses.

Not sure what's more surprising: how long it took for NetBSD to
catch up to the rest of the BSDs (including UCB), or the amount of
code that NetBSD has claimed for itself without attributing to the
actual authors.

OK deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.11 2008/02/11 07:58:28 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: February 11 2008 $
d108 1
a108 1
Cannot be used in conjuction with
d112 1
a112 1
Cannot be used in conjuction with
@


1.11
log
@bump Mdocdate for pages committed in "febuary", necessary because
of a typo in rcs.c;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.10 2008/02/07 15:38:07 millert Exp $
a17 7
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"        This product includes software developed by the NetBSD
.\"        Foundation, Inc. and its contributors.
.\" 4. Neither the name of The NetBSD Foundation nor the names of its
.\"    contributors may be used to endorse or promote products derived
.\"    from this software without specific prior written permission.
d31 1
a31 1
.Dd $Mdocdate$
@


1.10
log
@Add add -o flag to pkill/pgrep like on Solaris and Linux.
OK jmc@@ henning@@ oga@@ mikeb@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.9 2007/10/31 17:14:34 jmc Exp $
d38 1
a38 1
.Dd $Mdocdate: October 31 2007 $
@


1.9
log
@"signal" is an argument, not a flag;
originally requested by sobrado, and now Pierre Riteau
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.8 2007/05/31 19:20:14 jmc Exp $
d38 1
a38 1
.Dd $Mdocdate$
d46 1
a46 1
.Op Fl flnvx
d58 1
a58 1
.Op Fl fnvx
d114 7
a120 1
Match only the most recently created process, if any.
@


1.8
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.7 2005/07/16 11:58:10 jmc Exp $
d57 1
a57 1
.Op Fl signal
d155 1
a155 1
.It Fl signal
@


1.7
log
@- basic cleanup
- do not use EXIT STATUS (non-standard in section 1)
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.6 2005/07/16 11:48:46 jmc Exp $
d38 1
a38 1
.Dd March 1, 2002
@


1.6
log
@sort options and sync usage();
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.5 2005/03/27 20:56:47 robert Exp $
d80 1
a80 1
.Bl -tag -width xxxxxxxx
d136 3
a138 1
A single dash (`-') matches processes not associated with a terminal.
d166 1
a166 1
process will never consider itself nor system processes (kernel threads) as
d168 1
a168 1
.Sh EXIT STATUS
d173 2
a174 1
.Bl -tag -width foo
d185 1
@


1.5
log
@revert r1.9; this one needs more discussion
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.4 2005/03/27 14:50:09 robert Exp $
d47 1
d49 1
a50 3
.Op Fl U Ar uid
.Op Fl d Ar delim
.Op Fl g Ar pgrp
d53 1
d55 1
a55 1
.Op Ar pattern Op ...
d60 1
a61 2
.Op Fl U Ar uid
.Op Fl g Ar pgrp
d64 1
d66 1
a66 1
.Op Ar pattern Op ...
a80 12
.It Fl G Ar gid
Restrict matches to processes with a real group ID in the comma-separated
list
.Ar gid .
.It Fl P Ar ppid
Restrict matches to processes with a parent process ID in the
comma-separated list
.Ar ppid .
.It Fl U Ar uid
Restrict matches to processes with a real user ID in the comma-separated
list
.Ar uid .
d90 4
d115 4
d137 4
@


1.4
log
@add a -i option to ignore case distinctions in the process match;
From: NetBSD; ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.3 2004/07/06 14:02:49 jmc Exp $
d46 1
a46 1
.Op Fl filnvx
d58 1
a58 1
.Op Fl finvx
a110 2
.It Fl i
Ignore case distinctions in both the process table and the supplied pattern.
@


1.3
log
@add pgrep to .Nm line to allow `apropos/whatis pgrep' to work;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.2 2004/01/06 20:49:26 millert Exp $
d46 1
a46 1
.Op Fl flnvx
d58 1
a58 1
.Op Fl fnvx
d111 2
@


1.2
log
@We don't have signal(7)
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkill.1,v 1.1 2004/01/06 20:07:49 millert Exp $
d42 1
a42 1
.Nm pkill
@


1.1
log
@pkill/pgrep from NetBSD with changes to use kvm_getprocs().  Selecting
on session ID does not current work but that will change once the
kernel supports the KERN_PROC2 sysctl and pkill/pgrep is modified
to use kvm_getproc2().  OK deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d186 1
a186 2
.Xr re_format 7 ,
.Xr signal 7
@

