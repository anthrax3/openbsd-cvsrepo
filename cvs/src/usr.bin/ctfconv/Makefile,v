head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.08.11.14.21.24;	author mpi;	state Exp;
branches;
next	;
commitid	HNoIVWDtvWqMzsBQ;


desc
@@


1.1
log
@Import a tool for generating CTF data section (SUNW_ctf) based on DWARF
information.

ctfconv(1) support multiple CUs in order to work on binaries.  ctfstrip(1)
works like strip(1) but also insert a .SUNW_ctf section inside a binary.

ok deraadt@@, kettenis@@, jasper@@
@
text
@
PROG=		ctfconv
SRCS=		ctfconv.c parse.c elf.c dw.c generate.c hash.c xmalloc.c \
		pool.c

CFLAGS+=	-W -Wall -Wstrict-prototypes -Wno-unused -Wunused-variable \
		-Wno-unused-parameter

CFLAGS+=	-DZLIB
LDADD+=		-lz
DPADD+=		${LIBZ}

MAN=		ctfconv.1 ctfstrip.1

afterinstall:
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
		${.CURDIR}/ctfstrip ${DESTDIR}${BINDIR}/ctfstrip

.include <bsd.prog.mk>
@
