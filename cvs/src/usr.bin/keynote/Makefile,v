head	1.13;
access;
symbols
	OPENBSD_6_1:1.13.0.54
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.13.0.50
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.13.0.46
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.48
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.13.0.40
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.44
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.42
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.38
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.36
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.13.0.34
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.32
	OPENBSD_5_0:1.13.0.30
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.28
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.13.0.26
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.13.0.22
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.13.0.24
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.13.0.20
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.18
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.16
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.14
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.13.0.12
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.13.0.10
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.8
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.6
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.13.0.4
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.13.0.2
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.11.0.2
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.10.0.6
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.10.0.4
	OPENBSD_3_3_BASE:1.10
	OPENBSD_3_2:1.10.0.2
	OPENBSD_3_2_BASE:1.10
	OPENBSD_3_1:1.9.0.4
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.9.0.2
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_9:1.8.0.8
	OPENBSD_2_8:1.8.0.6
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.8.0.4
	OPENBSD_2_7_BASE:1.8
	OPENBSD_2_6:1.8.0.2
	OPENBSD_2_6_BASE:1.8
	keynote-util:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.13
date	2004.06.28.18.36.05;	author msf;	state Exp;
branches;
next	1.12;

1.12
date	2004.06.25.00.44.02;	author msf;	state Exp;
branches;
next	1.11;

1.11
date	2004.01.05.02.55.28;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2002.05.11.00.20.20;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2001.07.20.20.05.58;	author mickey;	state Exp;
branches;
next	1.8;

1.8
date	99.10.01.01.53.39;	author angelos;	state Exp;
branches;
next	1.7;

1.7
date	99.10.01.01.08.29;	author angelos;	state Exp;
branches;
next	1.6;

1.6
date	99.08.14.20.36.07;	author angelos;	state Exp;
branches;
next	1.5;

1.5
date	99.05.31.20.08.52;	author angelos;	state Exp;
branches;
next	1.4;

1.4
date	99.05.31.18.30.46;	author angelos;	state Exp;
branches;
next	1.3;

1.3
date	99.05.27.01.11.44;	author angelos;	state Exp;
branches;
next	1.2;

1.2
date	99.05.24.01.45.07;	author angelos;	state Exp;
branches;
next	1.1;

1.1
date	99.05.24.01.30.20;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.05.24.01.30.20;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Remove unneeded -D flags from CFLAGS.
@
text
@#	$OpenBSD: Makefile,v 1.12 2004/06/25 00:44:02 msf Exp $

PROG=	keynote
SRCS=	keynote-sign.c keynote-keygen.c keynote-sigver.c keynote-verify.c \
	keynote-main.c z.tab.c lex.kv.c
CFLAGS+= -Wall -I. -I${.CURDIR} -I${.CURDIR}/../../lib/libkeynote
LEXFLAGS= -Pkv -s -i
YACCFLAGS= -d -p kv -b z
DPADD=	${LIBKEYNOTE} ${LIBM} ${LIBCRYPTO}
LDADD=	-lkeynote -lm -lcrypto
CLEANFILES+= lex.kv.c z.tab.c z.tab.h
MAN=	keynote.1

.PATH:	${.CURDIR}/../../lib/libkeynote

z.tab.c: keynote-ver.y
	$(YACC.y) $(YACCFLAGS) ${.ALLSRC}

lex.kv.c: keynote-ver.l
	$(LEX.l) $(LEXFLAGS) ${.ALLSRC}

.include <bsd.prog.mk>
@


1.12
log
@cleanup.
ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2004/01/05 02:55:28 espie Exp $
d6 1
a6 1
CFLAGS+= -Wall -DCRYPTO -DHAVE_CONFIG_H -I. -I${.CURDIR} -I${.CURDIR}/../../lib/libkeynote
@


1.11
log
@include path fixes for gcc3.
tests otto@@, okay millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2002/05/11 00:20:20 espie Exp $
d7 2
a8 2
LEXFLAGS2= -Pkv -s -i
YACCFLAGS2= -d -p kv -b z
d17 1
a17 1
	$(YACC.y) $(YACCFLAGS2) $>
d20 1
a20 1
	$(LEX.l) $(LEXFLAGS2) $>
d22 1
a22 1
.include<bsd.prog.mk>
@


1.10
log
@Add missing libraries to bsd.prog.mk (mostly kerberosV)
Use them in DPADD throughout the tree.
Fix a few mispells (LIBMATH -> LIBM...)
Wipe obsolete lib (LIBRESOLV)
Sort added missing libraries, move obsolete stuff apart.
Synch documentation in bsd.README

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2001/07/20 20:05:58 mickey Exp $
d6 1
a6 1
CFLAGS+= -Wall -DCRYPTO -DHAVE_CONFIG_H -I. -I${.CURDIR}
@


1.9
log
@let make do it's job, not dupping pieces from included files here
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 1999/10/01 01:53:39 angelos Exp $
d9 1
@


1.8
log
@Fix
@
text
@d1 1
a1 1
# $OpenBSD$
d4 5
a8 5

BINOWN= root
BINGRP= bin
BINMODE= 555
BINDIR= /usr/bin
d10 1
a11 11
CLEANFILES+= lex.kv.c z.tab.c z.tab.h

CFLAGS+= -Wall -DCRYPTO -DHAVE_CONFIG_H -I. -I${.CURDIR}
LEXFLAGS2 = -Pkv -s -i
YACCFLAGS2 = -d -p kv -b z

KEYNOTEDIST= lib/libkeynote
KEYNOTE_SRC= ${.CURDIR}/../../${KEYNOTEDIST}

SRCS=	keynote-sign.c keynote-keygen.c keynote-sigver.c keynote-verify.c \
	keynote-main.c z.tab.c lex.kv.c
d13 1
a13 2
z.tab.c: keynote-ver.y keynote.h header.h
	$(YACC.y) $(YACCFLAGS2) ${KEYNOTE_SRC}/keynote-ver.y
d15 2
a16 2
lex.kv.c: keynote-ver.l keynote.h header.h
	$(LEX.l) $(LEXFLAGS2) ${KEYNOTE_SRC}/keynote-ver.l
d18 2
a19 1
.PATH:	${KEYNOTE_SRC}
@


1.7
log
@Update for version 2.0
@
text
@d1 1
a1 1
#	$OpenBSD$
d3 1
a3 2
all:
	@@cd ${.CURDIR}/../../lib && ${MAKE} libkeynote
d5 7
a11 2
install:
	@@cd ${.CURDIR}/../../lib/libkeynote && ${MAKE} -f Makefile.bsd-wrapper install-keynote
d13 3
a15 2
clean:
	@@cd ${.CURDIR}/../../lib/libkeynote && ${MAKE} -f Makefile.bsd-wrapper clean
d17 2
a18 2
cleandir:
	@@cd ${.CURDIR}/../../lib/libkeynote && ${MAKE} -f Makefile.bsd-wrapper cleandir
d20 12
a31 1
.include <bsd.prog.mk>
@


1.6
log
@Missing -I/usr/include/ssl, evanc@@concer.to
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/05/31 20:08:52 angelos Exp $
d3 2
a4 1
PROG=	keynote
d6 2
a7 7
BINOWN= root
BINGRP= bin
BINMODE= 555
BINDIR= /usr/bin
LDADD=	-lkeynote -lm -lcrypto
MAN=	keynote.1
CLEANFILES+= lex.kv.c z.tab.c z.tab.h
d9 2
a10 3
CFLAGS+= -Wall -DCRYPTO -I. -I${.CURDIR} -I/usr/include/ssl
LEXFLAGS2 = -Pkv -s -i
YACCFLAGS2 = -d -p kv -b z
d12 2
a13 2
KEYNOTEDIST= lib/libkeynote
KEYNOTE_SRC= ${.CURDIR}/../../${KEYNOTEDIST}
d15 1
a15 12
SRCS=	keynote-sign.c keynote-keygen.c keynote-sigver.c keynote-verify.c \
	keynote-main.c z.tab.c lex.kv.c

z.tab.c: keynote-ver.y keynote.h header.h
	$(YACC.y) $(YACCFLAGS2) ${KEYNOTE_SRC}/keynote-ver.y

lex.kv.c: keynote-ver.l keynote.h header.h
	$(LEX.l) $(LEXFLAGS2) ${KEYNOTE_SRC}/keynote-ver.l

.PATH:	${KEYNOTE_SRC}

.include<bsd.prog.mk>
@


1.5
log
@Update dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/05/31 18:30:46 angelos Exp $
d13 1
a13 1
CFLAGS+= -Wall -DCRYPTO -I. -I${.CURDIR}
@


1.4
log
@Add -Wall
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/05/27 01:11:44 angelos Exp $
d23 1
a23 1
z.tab.c: keynote-ver.y
d26 1
a26 1
lex.kv.c: keynote-ver.l
@


1.3
log
@Single manpage for command-line tool.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/05/24 01:45:07 angelos Exp $
d13 1
a13 1
CFLAGS+= -DCRYPTO -I. -I${.CURDIR}
@


1.2
log
@Use flags instead of argv[0], to avoid /usr/bin pollution.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/05/24 01:30:20 angelos Exp $
d10 1
a10 2
MAN=	keynote-sign.1 keynote-verify.1 keynote-sigver.1 keynote-keygen.1 \
	keynote.1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/05/23 22:46:29 angelos Exp $
d3 1
a3 4
PROG=	keynote-sign
LINKS=	${BINDIR}/keynote-sign ${BINDIR}/keynote-sigver
LINKS+=	${BINDIR}/keynote-sign ${BINDIR}/keynote-verify
LINKS+=	${BINDIR}/keynote-sign ${BINDIR}/keynote-keygen
d10 2
a11 1
MAN=	keynote-sign.1 keynote-verify.1 keynote-sigver.1 keynote-keygen.1
@


1.1.1.1
log
@Unified tool for keynote utils (one binary, 4 utils based on argv[0])
@
text
@@
