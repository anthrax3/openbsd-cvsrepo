head	1.87;
access;
symbols
	OPENBSD_6_2:1.87.0.4
	OPENBSD_6_2_BASE:1.87
	OPENBSD_6_1:1.82.0.4
	OPENBSD_6_1_BASE:1.82
	OPENBSD_6_0:1.74.0.2
	OPENBSD_6_0_BASE:1.74
	OPENBSD_5_9:1.71.0.2
	OPENBSD_5_9_BASE:1.71
	OPENBSD_5_8:1.68.0.4
	OPENBSD_5_8_BASE:1.68
	OPENBSD_5_7:1.67.0.2
	OPENBSD_5_7_BASE:1.67
	OPENBSD_5_6:1.67.0.6
	OPENBSD_5_6_BASE:1.67
	OPENBSD_5_5:1.67.0.4
	OPENBSD_5_5_BASE:1.67
	OPENBSD_5_4:1.63.0.2
	OPENBSD_5_4_BASE:1.63
	OPENBSD_5_3:1.61.0.4
	OPENBSD_5_3_BASE:1.61
	OPENBSD_5_2:1.61.0.2
	OPENBSD_5_2_BASE:1.61
	OPENBSD_5_1_BASE:1.60
	OPENBSD_5_1:1.60.0.2
	OPENBSD_5_0:1.57.0.4
	OPENBSD_5_0_BASE:1.57
	OPENBSD_4_9:1.57.0.2
	OPENBSD_4_9_BASE:1.57
	OPENBSD_4_8:1.55.0.2
	OPENBSD_4_8_BASE:1.55
	OPENBSD_4_7:1.53.0.2
	OPENBSD_4_7_BASE:1.53
	OPENBSD_4_6:1.50.0.4
	OPENBSD_4_6_BASE:1.50
	OPENBSD_4_5:1.48.0.2
	OPENBSD_4_5_BASE:1.48
	OPENBSD_4_4:1.47.0.2
	OPENBSD_4_4_BASE:1.47
	OPENBSD_4_3:1.45.0.4
	OPENBSD_4_3_BASE:1.45
	OPENBSD_4_2:1.45.0.2
	OPENBSD_4_2_BASE:1.45
	OPENBSD_4_1:1.44.0.2
	OPENBSD_4_1_BASE:1.44
	OPENBSD_4_0:1.43.0.4
	OPENBSD_4_0_BASE:1.43
	OPENBSD_3_9:1.43.0.2
	OPENBSD_3_9_BASE:1.43
	OPENBSD_3_8:1.40.0.2
	OPENBSD_3_8_BASE:1.40
	OPENBSD_3_7:1.37.0.2
	OPENBSD_3_7_BASE:1.37
	OPENBSD_3_6:1.32.0.2
	OPENBSD_3_6_BASE:1.32
	OPENBSD_3_5:1.31.0.2
	OPENBSD_3_5_BASE:1.31
	OPENBSD_3_4:1.26.0.2
	OPENBSD_3_4_BASE:1.26
	OPENBSD_3_3:1.24.0.2
	OPENBSD_3_3_BASE:1.24
	OPENBSD_3_2:1.22.0.4
	OPENBSD_3_2_BASE:1.22
	OPENBSD_3_1:1.22.0.2
	OPENBSD_3_1_BASE:1.22
	OPENBSD_3_0:1.19.0.2
	OPENBSD_3_0_BASE:1.19
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_9:1.11.0.4
	OPENBSD_2_8:1.11.0.2
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.5.0.4
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.5.0.2
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.1.0.6
	OPENBSD_2_2_BASE:1.1
	OPENBSD_2_1:1.1.0.4
	OPENBSD_2_1_BASE:1.1
	OPENBSD_2_0:1.1.0.2
	OPENBSD_2_0_BASE:1.1;
locks; strict;
comment	@# @;


1.87
date	2017.07.15.18.11.47;	author jmc;	state Exp;
branches;
next	1.86;
commitid	q8nptzrjh9YHr85a;

1.86
date	2017.07.15.17.27.39;	author jsing;	state Exp;
branches;
next	1.85;
commitid	k8w7RSjowQXkPdbr;

1.85
date	2017.05.10.21.56.53;	author bluhm;	state Exp;
branches;
next	1.84;
commitid	VsH9oSATUOoLKwWT;

1.84
date	2017.04.05.06.55.59;	author jmc;	state Exp;
branches;
next	1.83;
commitid	ANcbTEXIr1rTVTTb;

1.83
date	2017.04.05.03.20.19;	author beck;	state Exp;
branches;
next	1.82;
commitid	RxtwJNn3R4j2CuAQ;

1.82
date	2017.02.09.20.15.59;	author jca;	state Exp;
branches;
next	1.81;
commitid	NrjR2mVsuLzEwkZM;

1.81
date	2017.01.26.22.59.55;	author jmc;	state Exp;
branches;
next	1.80;
commitid	VE1e1wpO0Ned8AEc;

1.80
date	2016.11.06.14.40.37;	author jmc;	state Exp;
branches;
next	1.79;
commitid	MIWM7mbIbXAEekMA;

1.79
date	2016.11.06.13.33.30;	author beck;	state Exp;
branches;
next	1.78;
commitid	3EUIUe7Tlmi6GoV1;

1.78
date	2016.11.05.16.03.09;	author jmc;	state Exp;
branches;
next	1.77;
commitid	pbxzEoh2L7WSIixj;

1.77
date	2016.11.05.15.13.26;	author beck;	state Exp;
branches;
next	1.76;
commitid	3VJnu6rXiOGWa3uh;

1.76
date	2016.11.04.07.34.17;	author jmc;	state Exp;
branches;
next	1.75;
commitid	46pr5Cp0cxNug8ld;

1.75
date	2016.11.04.05.13.13;	author beck;	state Exp;
branches;
next	1.74;
commitid	vHqLGL1n0DAh4s4y;

1.74
date	2016.07.02.05.58.00;	author jmc;	state Exp;
branches;
next	1.73;
commitid	SyD8znKRbhb6ElSh;

1.73
date	2016.06.28.17.35.14;	author jca;	state Exp;
branches;
next	1.72;
commitid	UhqCIXE0XUOGTjxt;

1.72
date	2016.06.02.04.26.32;	author beck;	state Exp;
branches;
next	1.71;
commitid	8rVNkIzHg9DBcRmu;

1.71
date	2015.09.25.14.56.33;	author schwarze;	state Exp;
branches;
next	1.70;
commitid	e1c0opDBN4d6sfdN;

1.70
date	2015.09.12.07.56.56;	author jmc;	state Exp;
branches;
next	1.69;
commitid	Eq1riRw6hS7TzqLl;

1.69
date	2015.09.11.21.07.01;	author beck;	state Exp;
branches;
next	1.68;
commitid	RH0sTFSd3Jn5fmAB;

1.68
date	2015.03.26.10.35.04;	author tobias;	state Exp;
branches;
next	1.67;
commitid	F2OHrvtd8QKFUFUw;

1.67
date	2014.02.26.20.56.11;	author claudio;	state Exp;
branches;
next	1.66;

1.66
date	2014.02.10.19.21.50;	author jmc;	state Exp;
branches;
next	1.65;

1.65
date	2013.08.20.21.05.20;	author jmc;	state Exp;
branches;
next	1.64;

1.64
date	2013.08.20.16.22.09;	author djm;	state Exp;
branches;
next	1.63;

1.63
date	2013.07.16.00.07.52;	author schwarze;	state Exp;
branches;
next	1.62;

1.62
date	2013.03.20.09.27.56;	author sthen;	state Exp;
branches;
next	1.61;

1.61
date	2012.07.07.15.33.02;	author haesbaert;	state Exp;
branches;
next	1.60;

1.60
date	2012.02.07.12.11.43;	author lum;	state Exp;
branches;
next	1.59;

1.59
date	2011.10.04.08.34.34;	author fgsch;	state Exp;
branches;
next	1.58;

1.58
date	2011.09.17.14.10.05;	author haesbaert;	state Exp;
branches;
next	1.57;

1.57
date	2011.01.09.22.16.46;	author jeremy;	state Exp;
branches;
next	1.56;

1.56
date	2011.01.08.00.44.19;	author jeremy;	state Exp;
branches;
next	1.55;

1.55
date	2010.07.25.07.51.39;	author guenther;	state Exp;
branches;
next	1.54;

1.54
date	2010.07.03.04.44.51;	author guenther;	state Exp;
branches;
next	1.53;

1.53
date	2010.02.23.23.00.52;	author schwarze;	state Exp;
branches;
next	1.52;

1.52
date	2009.10.22.15.02.12;	author sobrado;	state Exp;
branches;
next	1.51;

1.51
date	2009.10.22.12.35.53;	author sobrado;	state Exp;
branches;
next	1.50;

1.50
date	2009.06.05.06.47.12;	author jmc;	state Exp;
branches;
next	1.49;

1.49
date	2009.06.05.00.18.10;	author claudio;	state Exp;
branches;
next	1.48;

1.48
date	2008.09.19.13.24.41;	author sobrado;	state Exp;
branches;
next	1.47;

1.47
date	2008.05.06.16.21.03;	author jmc;	state Exp;
branches;
next	1.46;

1.46
date	2008.05.06.05.47.39;	author djm;	state Exp;
branches;
next	1.45;

1.45
date	2007.05.31.19.20.13;	author jmc;	state Exp;
branches;
next	1.44;

1.44
date	2006.12.02.01.08.30;	author jmc;	state Exp;
branches;
next	1.43;

1.43
date	2006.01.31.09.34.12;	author jmc;	state Exp;
branches;
next	1.42;

1.42
date	2006.01.25.23.21.37;	author djm;	state Exp;
branches;
next	1.41;

1.41
date	2005.10.25.03.51.06;	author dtucker;	state Exp;
branches;
next	1.40;

1.40
date	2005.07.17.19.18.47;	author jmc;	state Exp;
branches;
next	1.39;

1.39
date	2005.07.17.19.15.38;	author jmc;	state Exp;
branches;
next	1.38;

1.38
date	2005.05.20.10.55.09;	author jmc;	state Exp;
branches;
next	1.37;

1.37
date	2005.02.21.10.56.22;	author jmc;	state Exp;
branches;
next	1.36;

1.36
date	2005.01.07.10.11.31;	author jmc;	state Exp;
branches;
next	1.35;

1.35
date	2005.01.07.10.07.35;	author jmc;	state Exp;
branches;
next	1.34;

1.34
date	2004.12.31.15.23.31;	author jmc;	state Exp;
branches;
next	1.33;

1.33
date	2004.10.17.03.13.55;	author djm;	state Exp;
branches;
next	1.32;

1.32
date	2004.07.15.15.07.52;	author markus;	state Exp;
branches;
next	1.31;

1.31
date	2004.03.12.10.10.00;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2004.03.03.06.45.54;	author tedu;	state Exp;
branches;
next	1.29;

1.29
date	2004.03.01.00.37.08;	author tedu;	state Exp;
branches;
next	1.28;

1.28
date	2004.02.20.10.53.10;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2004.01.22.13.28.46;	author markus;	state Exp;
branches;
next	1.26;

1.26
date	2003.09.05.16.54.07;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2003.08.08.10.13.33;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2003.01.05.09.39.39;	author pvalchev;	state Exp;
branches;
next	1.23;

1.23
date	2002.11.14.00.50.40;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2002.02.28.18.05.36;	author markus;	state Exp;
branches;
next	1.21;

1.21
date	2002.02.19.22.45.18;	author ericj;	state Exp;
branches;
next	1.20;

1.20
date	2002.02.17.03.03.06;	author ericj;	state Exp;
branches;
next	1.19;

1.19
date	2001.09.02.18.45.41;	author jakob;	state Exp;
branches;
next	1.18;

1.18
date	2001.08.30.16.31.51;	author krw;	state Exp;
branches;
next	1.17;

1.17
date	2001.08.30.13.21.50;	author krw;	state Exp;
branches;
next	1.16;

1.16
date	2001.08.02.20.54.56;	author ericj;	state Exp;
branches;
next	1.15;

1.15
date	2001.06.27.03.05.21;	author smart;	state Exp;
branches;
next	1.14;

1.14
date	2001.06.26.14.14.14;	author jasoni;	state Exp;
branches;
next	1.13;

1.13
date	2001.06.26.06.55.06;	author ericj;	state Exp;
branches;
next	1.12;

1.12
date	2001.05.04.01.38.31;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2000.09.26.01.41.44;	author ericj;	state Exp;
branches;
next	1.10;

1.10
date	2000.07.10.21.52.35;	author ian;	state Exp;
branches;
next	1.9;

1.9
date	2000.07.08.15.42.04;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	2000.07.06.04.06.55;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.10.19.07.22;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.06.05.01.21.34;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	98.09.28.06.57.35;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	98.09.27.22.24.56;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	98.09.27.16.57.47;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	98.03.11.18.42.23;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	96.09.05.08.55.32;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.87
log
@grammar was ass backwards;
@
text
@.\"     $OpenBSD: nc.1,v 1.86 2017/07/15 17:27:39 jsing Exp $
.\"
.\" Copyright (c) 1996 David Sacerdote
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. The name of the author may not be used to endorse or promote products
.\"    derived from this software without specific prior written permission
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate: July 15 2017 $
.Dt NC 1
.Os
.Sh NAME
.Nm nc
.Nd arbitrary TCP and UDP connections and listens
.Sh SYNOPSIS
.Nm nc
.Op Fl 46cDdFhklNnrStUuvz
.Op Fl C Ar certfile
.Op Fl e Ar name
.Op Fl H Ar hash
.Op Fl I Ar length
.Op Fl i Ar interval
.Op Fl K Ar keyfile
.Op Fl M Ar ttl
.Op Fl m Ar minttl
.Op Fl O Ar length
.Op Fl o Ar staplefile
.Op Fl P Ar proxy_username
.Op Fl p Ar source_port
.Op Fl R Ar CAfile
.Op Fl s Ar source
.Op Fl T Ar keyword
.Op Fl V Ar rtable
.Op Fl W Ar recvlimit
.Op Fl w Ar timeout
.Op Fl X Ar proxy_protocol
.Op Fl x Ar proxy_address Ns Op : Ns Ar port
.Op Fl Z Ar peercertfile
.Op Ar destination
.Op Ar port
.Sh DESCRIPTION
The
.Nm
(or
.Nm netcat )
utility is used for just about anything under the sun involving TCP,
UDP, or
.Ux Ns -domain
sockets.
It can open TCP connections, send UDP packets, listen on arbitrary
TCP and UDP ports, do port scanning, and deal with both IPv4 and
IPv6.
Unlike
.Xr telnet 1 ,
.Nm
scripts nicely, and separates error messages onto standard error instead
of sending them to standard output, as
.Xr telnet 1
does with some.
.Pp
Common uses include:
.Pp
.Bl -bullet -offset indent -compact
.It
simple TCP proxies
.It
shell-script based HTTP clients and servers
.It
network daemon testing
.It
a SOCKS or HTTP ProxyCommand for
.Xr ssh 1
.It
and much, much more
.El
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl 4
Forces
.Nm
to use IPv4 addresses only.
.It Fl 6
Forces
.Nm
to use IPv6 addresses only.
.It Fl C Ar certfile
Specifies the filename from which the public key part of the TLS
certificate is loaded, in PEM format.
May only be used with TLS.
.It Fl c
If using a TCP socket to connect or listen, use TLS.
Illegal if not using TCP sockets.
.It Fl D
Enable debugging on the socket.
.It Fl d
Do not attempt to read from stdin.
.It Fl e Ar name
Specify the name that must be present in the peer certificate when using TLS.
Illegal if not using TLS.
.It Fl F
Pass the first connected socket using
.Xr sendmsg 2
to stdout and exit.
This is useful in conjunction with
.Fl X
to have
.Nm
perform connection setup with a proxy but then leave the rest of the
connection to another program (e.g.\&
.Xr ssh 1
using the
.Xr ssh_config 5
.Cm ProxyUseFdpass
option).
.It Fl H Ar hash
Specifies the required hash string of the peer certificate when using TLS.
The string format required is that used by
.Xr tls_peer_cert_hash 3 .
Illegal if not using TLS, and may not be used with -T noverify.
.It Fl h
Prints out
.Nm
help.
.It Fl I Ar length
Specifies the size of the TCP receive buffer.
.It Fl i Ar interval
Specifies a delay time interval between lines of text sent and received.
Also causes a delay time between connections to multiple ports.
.It Fl K Ar keyfile
Specifies the filename from which the private key
is loaded in PEM format.
May only be used with TLS.
.It Fl k
Forces
.Nm
to stay listening for another connection after its current connection
is completed.
It is an error to use this option without the
.Fl l
option.
When used together with the
.Fl u
option, the server socket is not connected and it can receive UDP datagrams from
multiple hosts.
.It Fl l
Used to specify that
.Nm
should listen for an incoming connection rather than initiate a
connection to a remote host.
It is an error to use this option in conjunction with the
.Fl p ,
.Fl s ,
or
.Fl z
options.
Additionally, any timeouts specified with the
.Fl w
option are ignored.
.It Fl M Ar ttl
Set the TTL / hop limit of outgoing packets.
.It Fl m Ar minttl
Ask the kernel to drop incoming packets whose TTL / hop limit is under
.Ar minttl .
.It Fl N
.Xr shutdown 2
the network socket after EOF on the input.
Some servers require this to finish their work.
.It Fl n
Do not do any DNS or service lookups on any specified addresses,
hostnames or ports.
.It Fl O Ar length
Specifies the size of the TCP send buffer.
.It Fl o Ar staplefile
Specifies the filename from which to load data to be stapled
during the TLS handshake.
The file is expected to contain an OCSP response from an OCSP server in
DER format.
May only be used with TLS and when a certificate is being used.
.It Fl P Ar proxy_username
Specifies a username to present to a proxy server that requires authentication.
If no username is specified then authentication will not be attempted.
Proxy authentication is only supported for HTTP CONNECT proxies at present.
.It Fl p Ar source_port
Specifies the source port
.Nm
should use, subject to privilege restrictions and availability.
It is an error to use this option in conjunction with the
.Fl l
option.
.It Fl R Ar CAfile
Specifies the filename from which the root CA bundle for certificate
verification is loaded, in PEM format.
Illegal if not using TLS.
The default is
.Pa /etc/ssl/cert.pem .
.It Fl r
Specifies that source and/or destination ports should be chosen randomly
instead of sequentially within a range or in the order that the system
assigns them.
.It Fl S
Enables the RFC 2385 TCP MD5 signature option.
.It Fl s Ar source
Specifies the IP of the interface which is used to send the packets.
For
.Ux Ns -domain
datagram sockets, specifies the local temporary socket file
to create and use so that datagrams can be received.
It is an error to use this option in conjunction with the
.Fl l
option.
.It Fl T Ar keyword
Change IPv4 TOS value or TLS options.
For TLS options
.Ar keyword
may be one of:
.Ar tlsall ,
which allows the use of all supported TLS protocols and ciphers;
.Ar tlscompat ,
which allows the use of all supported TLS protocols and "compat" ciphers;
.Ar noverify ,
which disables certificate verification;
.Ar noname ,
which disables certificate name checking;
.Ar clientcert ,
which requires a client certificate on incoming connections; or
.Ar muststaple ,
which requires the peer to provide a valid stapled OCSP response
with the handshake.
It is illegal to specify TLS options if not using TLS.
.Pp
For IPv4 TOS value
.Ar keyword
may be one of
.Ar critical ,
.Ar inetcontrol ,
.Ar lowdelay ,
.Ar netcontrol ,
.Ar throughput ,
.Ar reliability ,
or one of the DiffServ Code Points:
.Ar ef ,
.Ar af11 ... af43 ,
.Ar cs0 ... cs7 ;
or a number in either hex or decimal.
.It Fl t
Causes
.Nm
to send RFC 854 DON'T and WON'T responses to RFC 854 DO and WILL requests.
This makes it possible to use
.Nm
to script telnet sessions.
.It Fl U
Specifies to use
.Ux Ns -domain
sockets.
.It Fl u
Use UDP instead of the default option of TCP.
For
.Ux Ns -domain
sockets, use a datagram socket instead of a stream socket.
If a
.Ux Ns -domain
socket is used, a temporary receiving socket is created in
.Pa /tmp
unless the
.Fl s
flag is given.
.It Fl V Ar rtable
Set the routing table to be used.
.It Fl v
Have
.Nm
give more verbose output.
.It Fl W Ar recvlimit
Terminate after receiving
.Ar recvlimit
packets from the network.
.It Fl w Ar timeout
Connections which cannot be established or are idle timeout after
.Ar timeout
seconds.
The
.Fl w
flag has no effect on the
.Fl l
option, i.e.\&
.Nm
will listen forever for a connection, with or without the
.Fl w
flag.
The default is no timeout.
.It Fl X Ar proxy_protocol
Requests that
.Nm
should use the specified protocol when talking to the proxy server.
Supported protocols are
.Dq 4
(SOCKS v.4),
.Dq 5
(SOCKS v.5)
and
.Dq connect
(HTTPS proxy).
If the protocol is not specified, SOCKS version 5 is used.
.It Fl x Ar proxy_address Ns Op : Ns Ar port
Requests that
.Nm
should connect to
.Ar destination
using a proxy at
.Ar proxy_address
and
.Ar port .
If
.Ar port
is not specified, the well-known port for the proxy protocol is used (1080
for SOCKS, 3128 for HTTPS).
An IPv6 address can be specified unambiguously by enclosing
.Ar proxy_address
in square brackets.
.It Fl Z Ar peercertfile
Specifies the filename in which the peer supplied certificates will be saved
in PEM format.
May only be used with TLS.
.It Fl z
Specifies that
.Nm
should just scan for listening daemons, without sending any data to them.
It is an error to use this option in conjunction with the
.Fl l
option.
.El
.Pp
.Ar destination
can be a numerical IP address or a symbolic hostname
(unless the
.Fl n
option is given).
In general, a destination must be specified,
unless the
.Fl l
option is given
(in which case the local host is used).
For
.Ux Ns -domain
sockets, a destination is required and is the socket path to connect to
(or listen on if the
.Fl l
option is given).
.Pp
.Ar port
can be a specified as a numeric port number, or as a service name.
Ports may be specified in a range of the form nn-mm.
In general,
a destination port must be specified,
unless the
.Fl U
option is given.
.Sh CLIENT/SERVER MODEL
It is quite simple to build a very basic client/server model using
.Nm .
On one console, start
.Nm
listening on a specific port for a connection.
For example:
.Pp
.Dl $ nc -l 1234
.Pp
.Nm
is now listening on port 1234 for a connection.
On a second console
.Pq or a second machine ,
connect to the machine and port being listened on:
.Pp
.Dl $ nc 127.0.0.1 1234
.Pp
There should now be a connection between the ports.
Anything typed at the second console will be concatenated to the first,
and vice-versa.
After the connection has been set up,
.Nm
does not really care which side is being used as a
.Sq server
and which side is being used as a
.Sq client .
The connection may be terminated using an
.Dv EOF
.Pq Sq ^D .
.Sh DATA TRANSFER
The example in the previous section can be expanded to build a
basic data transfer model.
Any information input into one end of the connection will be output
to the other end, and input and output can be easily captured in order to
emulate file transfer.
.Pp
Start by using
.Nm
to listen on a specific port, with output captured into a file:
.Pp
.Dl $ nc -l 1234 \*(Gt filename.out
.Pp
Using a second machine, connect to the listening
.Nm
process, feeding it the file which is to be transferred:
.Pp
.Dl $ nc -N host.example.com 1234 \*(Lt filename.in
.Pp
After the file has been transferred, the connection will close automatically.
.Sh TALKING TO SERVERS
It is sometimes useful to talk to servers
.Dq by hand
rather than through a user interface.
It can aid in troubleshooting,
when it might be necessary to verify what data a server is sending
in response to commands issued by the client.
For example, to retrieve the home page of a web site:
.Bd -literal -offset indent
$ printf "GET / HTTP/1.0\er\en\er\en" | nc host.example.com 80
.Ed
.Pp
Note that this also displays the headers sent by the web server.
They can be filtered, using a tool such as
.Xr sed 1 ,
if necessary.
.Pp
More complicated examples can be built up when the user knows the format
of requests required by the server.
As another example, an email may be submitted to an SMTP server using:
.Bd -literal -offset indent
$ nc localhost 25 \*(Lt\*(Lt EOF
HELO host.example.com
MAIL FROM:\*(Ltuser@@host.example.com\*(Gt
RCPT TO:\*(Ltuser2@@host.example.com\*(Gt
DATA
Body of email.
\&.
QUIT
EOF
.Ed
.Sh PORT SCANNING
It may be useful to know which ports are open and running services on
a target machine.
The
.Fl z
flag can be used to tell
.Nm
to report open ports,
rather than initiate a connection.
For example:
.Bd -literal -offset indent
$ nc -z host.example.com 20-30
Connection to host.example.com 22 port [tcp/ssh] succeeded!
Connection to host.example.com 25 port [tcp/smtp] succeeded!
.Ed
.Pp
The port range was specified to limit the search to ports 20 \- 30.
.Pp
Alternatively, it might be useful to know which server software
is running, and which versions.
This information is often contained within the greeting banners.
In order to retrieve these, it is necessary to first make a connection,
and then break the connection when the banner has been retrieved.
This can be accomplished by specifying a small timeout with the
.Fl w
flag, or perhaps by issuing a
.Qq Dv QUIT
command to the server:
.Bd -literal -offset indent
$ echo "QUIT" | nc host.example.com 20-30
SSH-1.99-OpenSSH_3.6.1p2
Protocol mismatch.
220 host.example.com IMS SMTP Receiver Version 0.84 Ready
.Ed
.Sh EXAMPLES
Open a TCP connection to port 42 of host.example.com, using port 31337 as
the source port, with a timeout of 5 seconds:
.Pp
.Dl $ nc -p 31337 -w 5 host.example.com 42
.Pp
Open a TCP connection to port 443 of www.google.ca, and negotiate TLS.
Check for a different name in the certificate for validation.
.Pp
.Dl $  nc -v -c -e adsf.au.doubleclick.net www.google.ca 443
.Pp
Open a UDP connection to port 53 of host.example.com:
.Pp
.Dl $ nc -u host.example.com 53
.Pp
Open a TCP connection to port 42 of host.example.com using 10.1.2.3 as the
IP for the local end of the connection:
.Pp
.Dl $ nc -s 10.1.2.3 host.example.com 42
.Pp
Create and listen on a
.Ux Ns -domain
stream socket:
.Pp
.Dl $ nc -lU /var/tmp/dsocket
.Pp
Connect to port 42 of host.example.com via an HTTP proxy at 10.2.3.4,
port 8080.
This example could also be used by
.Xr ssh 1 ;
see the
.Cm ProxyCommand
directive in
.Xr ssh_config 5
for more information.
.Pp
.Dl $ nc -x10.2.3.4:8080 -Xconnect host.example.com 42
.Pp
The same example again, this time enabling proxy authentication with username
.Dq ruser
if the proxy requires it:
.Pp
.Dl $ nc -x10.2.3.4:8080 -Xconnect -Pruser host.example.com 42
.Sh SEE ALSO
.Xr cat 1 ,
.Xr ssh 1
.Sh AUTHORS
Original implementation by *Hobbit*
.Aq Mt hobbit@@avian.org .
.br
Rewritten with IPv6 support by
.An Eric Jackson Aq Mt ericj@@monkey.org .
.Sh CAVEATS
UDP port scans using the
.Fl uz
combination of flags will always report success irrespective of
the target machine's state.
However,
in conjunction with a traffic sniffer either on the target machine
or an intermediary device,
the
.Fl uz
combination could be useful for communications diagnostics.
Note that the amount of UDP traffic generated may be limited either
due to hardware resources and/or configuration settings.
@


1.86
log
@Add a "-T tlscompat" option to nc(1), which enables the use of all TLS
protocols and "compat" ciphers. This allows for TLS connections to TLS
servers that are using less than ideal cipher suites, without having to
resort to "-T tlsall" which enables all known cipher suites.

Diff from Kyle J. McKay <mackyle at gmail dot com>

ok beck@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.85 2017/05/10 21:56:53 bluhm Exp $
d28 1
a28 1
.Dd $Mdocdate: May 10 2017 $
d235 6
a240 6
may be one of
.Ar tlsall ;
which allows the use of all supported TLS protocols and ciphers,
.Ar tlscompat ;
which allows the use of all supported TLS protocols and "compat" ciphers,
.Ar noverify ;
@


1.85
log
@Implement nc -W recvlimit to terminate netcat after receiving a
number of packets.  This allows to send a UDP request, receive a
reply and check the result on the command line.
input jmc@@; OK millert@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.84 2017/04/05 06:55:59 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: April 5 2017 $
d238 2
@


1.84
log
@- -Z before -z in options list
- add -Z to help and usage()
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.83 2017/04/05 03:20:19 beck Exp $
d53 1
d292 4
@


1.83
log
@Allow nc to save the peer certificate and chain in a pem file specified
with -Z
ok jsing@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.82 2017/02/09 20:15:59 jca Exp $
d28 1
a28 1
.Dd $Mdocdate: February 9 2017 $
d334 4
a344 4
.It Fl Z Ar peercertfile
Specifies the filename in which the peer supplied certificates will be saved
in PEM format.
May only be used with TLS.
@


1.82
log
@Document that -x can take an ipv6 address enclosed in square brackets.
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.81 2017/01/26 22:59:55 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: January 26 2017 $
d56 1
d341 4
@


1.81
log
@oscp -> ocsp;
from holger mikolon, plus one more in nc;
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.80 2016/11/06 14:40:37 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: November 6 2016 $
d330 3
@


1.80
log
@tweak previous;
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.79 2016/11/06 13:33:30 beck Exp $
d194 1
a194 1
The file is expected to contain an OSCP response from an OCSP server in
@


1.79
log
@rename tlslegacy to tlsall, and better describe what it does.
ok jsing@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.78 2016/11/05 16:03:09 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: November 5 2016 $
d234 1
a234 1
.Ar tlsall,
d236 1
a236 1
.Ar noverify ,
@


1.78
log
@zap trailing whitespace, and add -o to usage() and help (-h);
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.77 2016/11/05 15:13:26 beck Exp $
d234 2
a235 2
.Ar tlslegacy ,
which allows legacy TLS protocols;
@


1.77
log
@Add support for server side OCSP stapling to libtls.
Add support for server side OCSP stapling to netcat.
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.76 2016/11/04 07:34:17 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: November 4 2016 $
d194 2
a195 2
The file is expected to contain an OSCP response from an OCSP server in 
DER format. 
@


1.76
log
@new sentence, new line, and zap trailing whitespace;
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.75 2016/11/04 05:13:13 beck Exp $
d46 1
d191 6
@


1.75
log
@Add ocsp_require_stapling config option for tls - allows a connection
to indicate that it requires the peer to provide a stapled OCSP response
with the handshake.  Provide a "-T muststaple" for nc that uses it.
ok jsing@@, guenther@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.74 2016/07/02 05:58:00 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: July 2 2016 $
d236 3
a238 2
which requires the peer to provide a valid stapled OCSP response 
with the handshake. It is illegal to specify TLS options if not using TLS.
@


1.74
log
@do not uppercase "hop limit";
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.73 2016/06/28 17:35:14 jca Exp $
d28 1
a28 1
.Dd $Mdocdate: June 28 2016 $
d232 1
a232 1
which disables certificate name checking; or
d234 4
a237 2
which requires a client certificate on incoming connections.
It is illegal to specify TLS options if not using TLS.
@


1.73
log
@Add -M and -m options to specify the outgoing and incoming minimum TTL

Req by and ok blumh@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.72 2016/06/02 04:26:32 beck Exp $
d28 1
a28 1
.Dd $Mdocdate: June 2 2016 $
d177 1
a177 1
Set the TTL / Hop Limit of outgoing packets.
d179 1
a179 1
Ask the kernel to drop incoming packets whose TTL / Hop Limit is under
@


1.72
log
@Let netcat support the use of service names instead of port numbers.
based on a diff from Andras Farkas <deepbluemistake@@gmail.com>
ok deraadt@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.71 2015/09/25 14:56:33 schwarze Exp $
d28 1
a28 1
.Dd $Mdocdate: September 25 2015 $
d43 2
d176 5
@


1.71
log
@avoid trailing .Ns, reduce .Xo and .Sm, drop redundant .Bk
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.70 2015/09/12 07:56:56 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: September 12 2015 $
d340 2
a341 2
can be a single integer or a range of ports.
Ranges are in the form nn-mm.
@


1.70
log
@fix previous;
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.69 2015/09/11 21:07:01 beck Exp $
d28 1
a28 1
.Dd $Mdocdate: September 11 2015 $
a35 1
.Bk -words
d52 1
a52 4
.Oo Xo
.Fl x Ar proxy_address Ns Oo : Ns
.Ar port Oc
.Xc Oc
a54 1
.Ek
d300 1
a300 4
.It Xo
.Fl x Ar proxy_address Ns Oo : Ns
.Ar port Oc
.Xc
@


1.69
log
@Add TLS suppport to nc. Provides a useful little test and script tool.
ok jsing@@ bluhm@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.68 2015/03/26 10:35:04 tobias Exp $
d28 1
a28 1
.Dd $Mdocdate: March 26 2015 $
d37 4
a40 1
.Op Fl 46DdFhklNnrStUuvz
d43 1
d47 1
d106 1
a106 1
.It Fl C Ar certificate_filename
d108 2
a109 1
certificate is loaded, in PEM format. May only be used with TLS.
d111 2
a112 1
If using a TCP socket to connect or listen, use TLS. Illegal if not using TCP sockets.
d118 1
a118 1
specify the name that must be present in the peer certificate when using TLS.
d135 1
a135 1
.It Fl H Ar hash_string
d149 1
a149 1
.It Fl K Ar key_filename
d151 2
a152 1
is loaded in PEM format. May only be used with TLS.
d199 5
a203 4
.It Fl R Ar CA_filename
Specifies the filename from which the root CA bundle for Certificate
verification is loaded in pem format. Illegal if not using TLS.
Default value is
d226 1
a226 1
which allows legacy TLS protocols,
d228 1
a228 1
which disables certificate verification
d230 3
a232 3
which disables certificate name checking, or
.Ar clientcert,
which requires a client certificate on incoming connections .
d234 1
d476 2
a477 2
Open a TCP connection to port 443 of www.google.ca, and negotiate
TLS. Check for a different name in the certificate for validation.
@


1.68
log
@Sync camel case of "ProxyUseFdpass" with ssh_config(5).

ok djm
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.67 2014/02/26 20:56:11 claudio Exp $
d28 1
a28 1
.Dd $Mdocdate: February 26 2014 $
d44 1
a44 1
.Op Fl T Ar toskeyword
d101 5
d110 3
d128 5
d142 3
d191 5
d211 16
a226 3
.It Fl T Ar toskeyword
Change IPv4 TOS value.
.Ar toskeyword
d465 5
@


1.67
log
@Once more, the default routing table id is inherited from the process
like for any other process as well. OK by many
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.66 2014/02/10 19:21:50 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: February 10 2014 $
d118 1
a118 1
.Cm ProxyUseFdPass
@


1.66
log
@one of the examples needs -N to work again;

the paper trail appears to be:
reported in feebsd pr docs/185353 by rol robert-eckardt de
fix suggested by peter wemm
diff submitted to tech by allan jude
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.65 2013/08/20 21:05:20 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: August 20 2013 $
a229 1
The default is 0.
@


1.65
log
@escape not-full-stop-dot at eol;
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.64 2013/08/20 16:22:09 djm Exp $
d359 1
a359 1
.Dl $ nc host.example.com 1234 \*(Lt filename.in
@


1.64
log
@add -F flag to enabled fd-pass mode: establish connection and pass
connected socket to stdout. This is useful in proxy mode to establish
a connection for use by ssh in conjunction with its new ProxyUseFDPass
option; ok markus@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.63 2013/07/16 00:07:52 schwarze Exp $
d28 1
a28 1
.Dd $Mdocdate: July 16 2013 $
d114 1
a114 1
connection to another program (e.g.
@


1.63
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.62 2013/03/20 09:27:56 sthen Exp $
d28 1
a28 1
.Dd $Mdocdate: March 20 2013 $
d37 1
a37 1
.Op Fl 46DdhklNnrStUuvz
d105 15
@


1.62
log
@Don't shutdown nc(1)'s network socket when stdin closes. Matches *Hobbit*'s
original netcat and GNU netcat; revert to old behaviour with the new -N flag
if needed. After much discussion with otto deraadt tedu and Martin Pelikan.
ok deraadt@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.61 2012/07/07 15:33:02 haesbaert Exp $
d28 1
a28 1
.Dd $Mdocdate: July 7 2012 $
d455 1
a455 1
.Aq hobbit@@avian.org .
d458 1
a458 1
.An Eric Jackson Aq ericj@@monkey.org .
@


1.61
log
@Allow UDP server to receive datagrams from multiple socket pairs with -k
flag. Prompted by a question from dsp at 2f30 dot org, diff from Lazarom
Koromil with a few tweaks by me, many thanks.

ok mikeb@@ nicm@@ haesbaert@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.60 2012/02/07 12:11:43 lum Exp $
d28 1
a28 1
.Dd $Mdocdate: February 7 2012 $
d37 1
a37 1
.Op Fl 46DdhklnrStUuvz
d140 4
@


1.60
log
@Expand the CAVEAT section to more fully describe the behaviour of
the -uz combination.

This diff stems from a diff by brynet@@ sent to tech@@

help from jmc@@ regarding wording.
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.59 2011/10/04 08:34:34 fgsch Exp $
d28 1
a28 1
.Dd $Mdocdate: October 4 2011 $
d122 4
@


1.59
log
@change -w to apply to the connection as well. manpage bit from jmc@@
nicm@@ ok.
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.58 2011/09/17 14:10:05 haesbaert Exp $
d28 1
a28 1
.Dd $Mdocdate: September 17 2011 $
d452 1
a452 3
UDP port scans will always succeed
(i.e. report the port as open),
rendering the
d454 10
a463 1
combination of flags relatively useless.
@


1.58
log
@Standarize the ToS option across nc/ping/traceroute so that they'll
accept the same values as pf.conf. It accepts decimal, hexadecimal and
the dscp/tos keywords. The ping option was ripped of in SMALL.

ok mcbride@@ sthen@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.57 2011/01/09 22:16:46 jeremy Exp $
d28 1
a28 1
.Dd $Mdocdate: January 9 2011 $
d213 1
a213 1
If a connection and stdin are idle for more than
d215 1
a215 1
seconds, then the connection is silently closed.
@


1.57
log
@Minor tweaks to nc(1) man page and usage.

OK jmc@@, nicm@@, tedu@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.56 2011/01/08 00:44:19 jeremy Exp $
d28 1
a28 1
.Dd $Mdocdate: January 8 2011 $
d44 1
a44 1
.Op Fl T Ar ToS
d167 15
a181 8
.It Fl T Ar ToS
Specifies IP Type of Service (ToS) for the connection.
Valid values are the tokens
.Dq lowdelay ,
.Dq throughput ,
.Dq reliability ,
or an 8-bit hexadecimal value preceded by
.Dq 0x .
@


1.56
log
@Support unix domain sockets in nc(1) with -Uu.

Previously, using -U with -u was an error that was not documented
in the man page.  Now it will use a unix socket in datagram mode.

Bidirectional unix datagram communication requires a socket at
both ends, so in client mode (without -l), a temporary socket is
created so that responses from the server can be received.
If -s is specified with -U and -u, it specifies the location of
the temporary socket to create.

This was mostly written way back in 2007.  Since then, various
improvements implemented based on suggestions from guenther@@,
tedu@@, and nicm@@. Man page help from nicm@@ and jmc@@.

Unix datagram support requires a small change to atomicio.c
in order to function correctly, this will be committed separately
shortly.

OK nicm@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.55 2010/07/25 07:51:39 guenther Exp $
d28 1
a28 1
.Dd $Mdocdate: July 25 2010 $
d43 1
a43 1
.Op Fl s Ar source_ip_address
d52 1
a52 1
.Op Ar hostname
d60 4
a63 2
utility is used for just about anything under the sun involving TCP
or UDP.
d158 1
a158 1
.It Fl s Ar source_ip_address
d239 1
a239 1
.Ar hostname
d257 1
a257 1
.Ar hostname
d262 1
a262 1
In general, a hostname must be specified,
d267 6
d281 1
a281 2
option is given
(in which case a socket must be specified).
d414 1
a414 1
socket:
@


1.55
log
@echo behaves differently in sh and csh, only handling C-style escapes
in the former, so switch an example that needs them to use printf instead.
From bcr at freebsd.org.
ok halex@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.54 2010/07/03 04:44:51 guenther Exp $
d28 1
a28 1
.Dd $Mdocdate: July 3 2010 $
d158 4
d186 10
@


1.54
log
@Fix the naming of interfaces and variables for rdomains and rtables
and make it possible to bind sockets (including listening sockets!)
to rtables and not just rdomains.  This changes the name of the
system calls, socket option, and ioctl.  After building with this
you should remove the files /usr/share/man/cat2/[gs]etrdomain.0.

Since this removes the existing [gs]etrdomain() system calls, the
libc major is bumped.

Written by claudio@@, criticized^Wcritiqued by me
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.53 2010/02/23 23:00:52 schwarze Exp $
d28 1
a28 1
.Dd $Mdocdate: February 23 2010 $
d320 1
a320 1
$ echo -n "GET / HTTP/1.0\er\en\er\en" | nc host.example.com 80
@


1.53
log
@Fix the worst among the fatal block-nesting issues we have in our tree,
in the end simply changing Oo Xo Oo Oc Oc Xc to Oo Xo Oo Oc Xc Oc.
I tried five different variants without the Xo/Xc, because there is
no real reason why Xo/Xc should be needed here, and two additional
variants with Xo/Xc that look more pretty than what i'm now committing.
All seven alternatives work both with mandoc and groff 1.20.1, but
all seven trigger various different bugs in our old groff, and we
still need to remain compatible with our old groff right now.

ok jmc@@ sobrado@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.52 2009/10/22 15:02:12 sobrado Exp $
d28 1
a28 1
.Dd $Mdocdate: October 22 2009 $
d45 1
a45 1
.Op Fl V Ar rdomain
d182 2
a183 2
.It Fl V Ar rdomain
Set the routing domain.
@


1.52
log
@write UNIX-domain in a more consistent way; while here, replace a
few remaining ".Tn UNIX" macros with ".Ux" ones.

pointed out by ratchov@@, thanks!

ok jmc@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.51 2009/10/22 12:35:53 sobrado Exp $
d50 2
a51 2
.Ar port Oc Oc
.Xc
@


1.51
log
@use the UNIX-related macros (.At and .Ux) where appropriate.

ok jmc@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.50 2009/06/05 06:47:12 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: June 5 2009 $
d178 2
a179 2
.Ux
domain sockets.
d392 2
a393 2
.Ux
domain socket:
@


1.50
log
@tweak -V;
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.49 2009/06/05 00:18:10 claudio Exp $
d177 3
a179 1
Specifies to use Unix Domain Sockets.
d391 3
a393 1
Create and listen on a Unix Domain Socket:
@


1.49
log
@The networking swissarmy knife needs to work on alternate domains as well.
Again -V can be used to specify the domain.
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.48 2008/09/19 13:24:41 sobrado Exp $
d28 1
a28 1
.Dd $Mdocdate: September 19 2008 $
d181 2
a182 1
Set the routing domain, the default is 0.
@


1.48
log
@documentation tweaks; synchronize synopsis and usage.

written with help by jmc@@

ok jmc@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.47 2008/05/06 16:21:03 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: May 6 2008 $
d45 1
d180 2
@


1.47
log
@- put the description of -O in the right place
- shorten the argument names to -IO
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.46 2008/05/06 05:47:39 djm Exp $
d52 1
a52 1
.Op Ar port Ns Bq Ar s
d246 2
a247 2
.Ar port Ns Op Ar s
can be single integers or ranges.
@


1.46
log
@allow setting of TCP send/receive buffer sizes; ok markus@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.45 2007/05/31 19:20:13 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: May 31 2007 $
d38 1
a38 1
.Op Fl I Ar receive_buffer_len
d40 1
a40 1
.Op Fl O Ar send_buffer_len
d106 1
a106 1
.It Fl I Ar receive_buffer_len
a124 2
.It Fl O Ar send_buffer_len
Specifies the size of the TCP send buffer.
d136 2
@


1.45
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.44 2006/12/02 01:08:30 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate$
d38 1
d40 1
d106 2
d125 2
@


1.44
log
@tweaks; from claus assmann (pr #5317);
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.43 2006/01/31 09:34:12 jmc Exp $
d28 1
a28 1
.Dd June 25, 2001
@


1.43
log
@use "proxy_protocol" as the arg to -X, not "proxy_version";
from ray lai;
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.42 2006/01/25 23:21:37 djm Exp $
d322 2
a323 2
MAIL FROM: \*(Ltuser@@host.example.com\*(Gt
RCPT TO: \*(Ltuser2@@host.example.com\*(Gt
@


1.42
log
@implement HTTP proxy authentication support, very useful in a ssh_config
ProxyCommand; ok beck@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.41 2005/10/25 03:51:06 dtucker Exp $
d191 1
a191 1
.It Fl X Ar proxy_version
@


1.41
log
@Add a -T option to nc to allow setting of IP type-of-service bits on
connections.  Man page corrections jmc@@, code corrections and ok djm@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.40 2005/07/17 19:18:47 jmc Exp $
d39 1
d132 4
d394 6
@


1.40
log
@oops... .Dl does not like to be inundated with args, and my last commit just
exceeded the happy number - use a display instead.
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.39 2005/07/17 19:15:38 jmc Exp $
d41 1
d149 8
@


1.39
log
@some improvements from alf schlichting:

- correct syntax for retrieving an http page. this example further
corrected by ian darwin (thanks!)
- the -v flag is relatively useless when port scanning, so remove it
from the example, and reword the description appropriately
- udp port scans always report ports as open (i.e. are useless) so
remove example claiming it works, and add CAVEATS to note that -uz is
relatively useless
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.38 2005/05/20 10:55:09 jmc Exp $
d293 3
a295 2
.Pp
.Dl $ echo -n \&"GET / HTTP/1.0\er\en\er\en\&" | nc host.example.com 80
@


1.38
log
@cross reference proxy example to relevant ssh option;
originally from ray; help/ok djm@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.37 2005/02/21 10:56:22 jmc Exp $
d294 1
a294 1
.Dl $ echo \&"GET\&" | nc host.example.com 80
d322 2
a323 6
not to initiate a connection,
together with the
.Fl v
.Pq verbose
flag,
to report open ports.
d326 1
a326 1
$ nc -vz host.example.com 20-30
a363 5
Send UDP packets to ports 20-30 of host.example.com, and report which ones
responded with an ICMP packet after three seconds:
.Pp
.Dl $ nc -uvz -w 3 host.example.com 20-30
.Pp
d388 6
@


1.37
log
@use a standard hostname in EXAMPLES (host.example.com), which also
fixes an error;

from ray;
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.36 2005/01/07 10:11:31 jmc Exp $
d378 8
a385 1
port 8080:
d389 2
a390 1
.Xr cat 1
@


1.36
log
@better wording for -l;
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.35 2005/01/07 10:07:35 jmc Exp $
d354 1
a354 1
Open a TCP connection to port 42 of hostname, using port 31337 as
d357 1
a357 1
.Dl $ nc -p 31337 -w 5 hostname 42
d359 1
a359 1
Open a UDP connection to port 53 of hostname:
d361 1
a361 1
.Dl $ nc -u hostname 53
d363 1
a363 1
Open a TCP connection to port 42 of example.host using 10.1.2.3 as the
d366 1
a366 1
.Dl $ nc -s 10.1.2.3 example.host 42
d368 1
a368 1
Send UDP packets to ports 20-30 of example.host, and report which ones
d371 1
a371 1
.Dl $ nc -uvz -w 3 hostname 20-30
d377 2
a378 1
Connect to port 42 of hostname via an HTTP proxy at 10.2.3.4, port 8080:
d380 1
a380 1
.Dl $ nc -x10.2.3.4:8080 -Xconnect hostname 42
@


1.35
log
@- better documenting of `host' and `port[s]'
- note that -l ignores timeouts
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.34 2004/12/31 15:23:31 jmc Exp $
d124 1
a124 1
Additionally, the
d126 1
a126 1
option is ignored.
@


1.34
log
@explicitly mention port in an example;
from fgsch@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.33 2004/10/17 03:13:55 djm Exp $
a67 3
Destination ports can be single integers or ranges.
Ranges are in the form nn-mm.
.Pp
d124 3
d214 21
@


1.33
log
@http proxy CONNECT support; ok beck@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.32 2004/07/15 15:07:52 markus Exp $
d356 1
a356 1
Connect to port 42 of hostname via an HTTP proxy at 10.2.3.4:
@


1.32
log
@add -D for sodebug; ok deraadt, jmc
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.31 2004/03/12 10:10:00 jmc Exp $
d42 1
a42 1
.Op Fl X Ar socks_version
d81 3
d177 1
a177 1
.It Fl X Ar socks_version
d180 10
a189 4
should use the specified version of the SOCKS protocol when talking to
a SOCKS proxy.
SOCKS versions 4 and 5 are currently supported.
If the version is not specified, SOCKS version 5 is used.
d198 1
a198 1
using a SOCKS proxy at
d204 2
a205 1
is not specified, port 1080 is used.
d355 4
@


1.31
log
@add keeps to SYNOPSIS and sync usage();
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.30 2004/03/03 06:45:54 tedu Exp $
d37 1
a37 1
.Op Fl 46dhklnrStUuvz
d94 2
@


1.30
log
@add -d to usage too, from carson harding
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.29 2004/03/01 00:37:08 tedu Exp $
d36 1
d49 1
@


1.29
log
@resolve pr3694.  add -d [etached] to ignore stdin.  ok henning@@ mcbride@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.28 2004/02/20 10:53:10 jmc Exp $
d36 1
a36 1
.Op Fl 46hklnrStUuvz
@


1.28
log
@- sort options and SYNOPSIS
- better document which options do/don't work together
- add sections showing some possible uses of nc
- code (comment) typos
- sync usage() and help

suggestions/improvements from otto@@
ok deraadt@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.27 2004/01/22 13:28:46 markus Exp $
d92 2
@


1.27
log
@-S enables tcp md5 signature option; ok deraadt@@, mcbride@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.26 2003/09/05 16:54:07 jmc Exp $
d33 1
a33 1
.Nd "arbitrary TCP and UDP connections and listens"
d36 1
a36 1
.Op Fl 46hklnrtuvzSU
d38 2
a39 3
.Op Fl p Ar source port
.Op Fl s Ar source ip address
.Op Fl x Ar proxy address Op :port
d41 5
a45 1
.Op Fl X Ar socks version
d47 1
a47 1
.Op Ar port[s]
d75 1
a75 1
shell\-script based HTTP clients and servers
d104 3
d112 6
d121 1
a121 1
.It Fl p Ar port
d125 3
d132 3
a134 1
.It Fl s Ar hostname/ip address
d136 3
d146 2
d168 11
a178 1
.It Fl x Ar proxy address Op :port
d183 7
a189 2
using a SOCKS proxy at address and port.
If port is not specified, port 1080 is used.
d194 90
a283 6
.It Fl S
Enables the RFC 2385 TCP MD5 signature option.
.It Fl U
Specifies to use Unix Domain Sockets.
.It Fl X Ar version
Requests that
d285 31
a315 4
should use the specified version of the SOCKS protocol when talking to
a SOCKS proxy.
If version is not specified, SOCKS version 5 is used.
.El
d317 9
a325 12
.Bl -tag -width x
.It Li "$ nc hostname 42"
Open a TCP connection to port 42 of hostname.
.It Li "$ nc -p 31337 hostname 42"
Open a TCP connection to port 42 of hostname, and use port 31337 as
the source port.
.It Li "$ nc -w 5 hostname 42"
Open a TCP connection to port 42 of hostname, and timeout after
five seconds while attempting to connect.
.It Li "$ nc -u hostname 53"
Open a UDP connection to port 53 of hostname.
.It Li "$ nc -s 10.1.2.3 example.host 42"
d327 4
a330 10
IP for the local end of the connection.
.It Li "$ nc -v hostname 42"
Open a TCP connection to port 42 of hostname, displaying some
diagnostic messages on stderr.
.It Li "$ nc -v -z hostname 20-30"
Attempt to open TCP connections to ports 20 through 30 of
hostname, and report which ones
.Nm
was able to connect to.
.It Li "$ nc -v -u -z -w 3 hostname 20-30"
d332 7
a338 13
did not respond with an ICMP packet after three seconds.
.It Li "$ nc -l 3000"
Listen on TCP port 3000, and once there is a connection, send stdin to
the remote host, and send data from the remote host to stdout.
.It Li "$ echo foobar | nc hostname 1000"
Connect to port 1000 of hostname, send the string "foobar"
followed by a newline, and move data from port 1000 of hostname to
stdout until hostname closes the connection.
.It Li "$ nc -U /var/tmp/dsocket"
Connect to a Unix Domain Socket.
.It Li "$ nc -lU /var/tmp/dsocket"
Create and listen on a Unix Domain Socket.
.El
d340 1
a340 2
.Xr cat 1 ,
.Xr telnet 1
d344 3
a346 3
.Pp
Rewritten with IPv6 support by Eric Jackson
.Aq ericj@@monkey.org .
@


1.26
log
@document -w timeout; from cedric@@
ok deraadt@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.25 2003/08/08 10:13:33 jmc Exp $
d36 1
a36 1
.Op Fl 46hklnrtuvzU
d157 2
@


1.25
log
@refer to RFCs consistently (RFC XXXX);
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.24 2003/01/05 09:39:39 pvalchev Exp $
d132 14
@


1.24
log
@Grammar fix - remove bogus comma; jmc@@prioris.mini.pw.edu.pl
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.23 2002/11/14 00:50:40 deraadt Exp $
d122 1
a122 1
to send RFC854 DON'T and WON'T responses to RFC854 DO and WILL requests.
@


1.23
log
@$ in front of commands
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.22 2002/02/28 18:05:36 markus Exp $
d60 1
a60 1
.Xr telnet 1 ,
@


1.22
log
@add support for SOCKS4 with option -X socks_version, default is 5; ok ericj@@
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.21 2002/02/19 22:45:18 ericj Exp $
d154 1
a154 1
.It Li "nc hostname 42"
d156 1
a156 1
.It Li "nc -p 31337 hostname 42"
d159 1
a159 1
.It Li "nc -w 5 hostname 42"
d162 1
a162 1
.It Li "nc -u hostname 53"
d164 1
a164 1
.It Li "nc -s 10.1.2.3 example.host 42"
d167 1
a167 1
.It Li "nc -v hostname 42"
d170 1
a170 1
.It Li "nc -v -z hostname 20-30"
d175 1
a175 1
.It Li "nc -v -u -z -w 3 hostname 20-30"
d178 1
a178 1
.It Li "nc -l 3000"
d181 1
a181 1
.It Li "echo foobar | nc hostname 1000"
d185 1
a185 1
.It Li "nc -U /var/tmp/dsocket"
d187 1
a187 1
.It Li "nc -lU /var/tmp/dsocket"
@


1.21
log
@
man page fixes
from Kevin Steves <stevesk@@pobox.com>
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.20 2002/02/17 03:03:06 ericj Exp $
d42 1
d137 1
a137 1
using a socks5 proxy at address and port.
d145 6
@


1.20
log
@
add support for connecting too and listening on AF_UNIX sockets.
connect support from dave@@arbor.net.. rest by me
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.19 2001/09/02 18:45:41 jakob Exp $
d98 1
a98 1
to stay listening for another connection after it's current connection
d106 2
a107 2
Do not do any DNS or service lookups on any specified addresses or
hostnames, or ports.
d115 1
a115 1
assigns.
a161 3
diagnostic messages on stderr.
.It Li "nc -v -v hostname 42"
Open a TCP connection to port 42 of hostname, displaying all
@


1.19
log
@add very basic proxy support using socks5 client code from niklas@@.
ok ericj@@.
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.18 2001/08/30 16:31:51 krw Exp $
d36 1
a36 1
.Op Fl 46hklnrtuvz
d142 2
d181 4
@


1.18
log
@Delete duplicate 'network daemon testing' item.

Spotted by Nick Nauwelaerts.
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.17 2001/08/30 13:21:50 krw Exp $
d40 1
d131 7
@


1.17
log
@Fix typo - space before a comma.

Spotted by Nick Nauwelaerts.
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.16 2001/08/02 20:54:56 ericj Exp $
a70 2
.It
network daemon testing
@


1.16
log
@
fix doc syntax
from Dima Dorfman <dima@@unixfreak.org>
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.15 2001/06/27 03:05:21 smart Exp $
d160 1
a160 1
hostname , and report which ones
@


1.15
log
@Fix AUTHORS section.  aaron@@ ok.
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.14 2001/06/26 14:14:14 jasoni Exp $
d166 1
a166 1
.It Li "nc -l -p 3000"
@


1.14
log
@typo
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.13 2001/06/26 06:55:06 ericj Exp $
d177 6
a182 3
.Sh AUTHOR
Original implementation by *Hobbit*  [hobbit@@avian.org].
Rewritten with IPv6 support by Eric Jackson <ericj@@monkey.org>.
@


1.13
log
@
update this man page for the new netcat
@
text
@d1 1
a1 1
.\"     $OpenBSD: nc.1,v 1.12 2001/05/04 01:38:31 millert Exp $
d99 1
a99 1
to stay listen for another connection after it's current connection
@


1.12
log
@GAPING_SECURITY_HOLE was removed so there is no -e option.
Removed from man page and usage; closes PR 1808
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.11 2000/09/26 01:41:44 ericj Exp $
d28 1
a28 1
.Dd August 1, 1996
d36 1
a36 3
.Op Fl lnrtuvz
.Op Fl g Ar intermediates
.Op Fl G Ar hopcount
a37 1
.Op Fl o Ar filename
d39 1
a39 1
.Op Fl s Ar ip address
d42 1
a42 1
.Op Ar port[s...]
d48 5
a52 5
utility is used for just about anything under the sun
involving TCP or UDP.
It can open TCP connections, send UDP packets,
listen on arbitrary TCP and UDP ports, do port scanning, and source
routing.
d58 1
a58 1
.Xr telnet 1
d61 2
a62 5
Destination ports can be single integers, names as listed in
.Xr services 5 ,
or ranges.
Ranges are in the form nn-mm, and several separate ports and/or
ranges may be specified on the command line.
d74 1
a74 1
source routing based connectivity testing
d81 13
a93 9
.It Fl g Ar intermediate-host
Specifies a hop along a loose source routed path.
Can be used more than once to build a chain of hop points.
.It Fl G Ar pointer
Positions the
.Dq hop counter
within the list of machines in the path of a source routed packet.
Must be a multiple of 4.
.It Fl i Ar seconds
d96 5
d102 1
a102 1
Is used to specify that
d104 1
a104 1
should listen for an incoming connection, rather than initiate a
a105 3
Any hostname/IP address and port arguments
restrict the source of inbound connections to only that address and
source port.
d107 2
a108 15
Do not do DNS lookups on any of the specified addresses or hostnames, or
names of port numbers from /etc/services.
.It Fl o Ar filename
Create a hexadecimal log of data transferred in the specified file.
Each line begins with
.Ql <
or
.Ql > .
.Ql <
means
.Dq from the net
and
.Ql >
means
.Dq to the net .
d114 4
a117 4
Specifies that source and/or destination ports should be chosen semi-randomly
instead of sequentially within a range or in the order that the
system assigns.
.It Fl s Ar hostname/ip-address
a118 3
On some platforms, this can be used for UDP spoofing by using
.Xr ifconfig 8
to bring up a dummy interface with the desired source IP address.
d122 1
a122 2
to send RFC854 DON'T and WON'T responses to RFC854 DO
and WILL requests.
a125 2
The presence of this option can be
enabled or disabled as a compile-time option.
d127 1
a127 6
Use UDP instead of TCP.
On most platforms,
.Nm
will behave as if a connection is established until it receives an
ICMP packet indicating that there is no program listening to what it
sends.
d129 1
a129 2
Verbose.
Cause
d131 1
a131 13
to display connection information.
Using
.Fl v
more than once will cause
.Nm
to become even more verbose.
.It Fl w Ar timeout
Specifies the number of seconds
.Nm
should wait before deciding that
an attempt to establish a connection is hopeless.
Also used to specify how long to wait for more network data after standard
input closes.
d135 1
a135 5
should just scan for listening
daemons, without sending any data to them.
Diagnostic messages about refused connections will not be displayed unless
.Fl v
is specified twice.
d139 7
a145 12
.It Li "nc"
Wait for the user to type what would normally be command-line
arguments on stdin.
.It Li "nc example.host 42"
Open a TCP connection to port 42 of example.host.
If the connection
fails, do not display any error messages, but simply exit.
.It Li "nc -p 31337 example.host 42"
Open a TCP connection to port 42 of example.host, and use port 31337
as the source port.
.It Li "nc -w 5 example.host 42"
Open a TCP connection to port 42 of example.host, and time out after
d147 2
a148 3
.It Li "nc -u example.host 53"
Send any data from stdin
to UDP port 53 of example.host, and display any data returned.
d152 2
a153 2
.It Li "nc -v example.host 42"
Open a TCP connection to port 42 of example.host, displaying some
d155 2
a156 2
.It Li "nc -v -v example.host 42"
Open a TCP connection to port 42 of example.host, displaying all
d158 1
a158 1
.It Li "nc -v -z example.host 20-30"
d160 1
a160 1
example.host, and report which ones
d163 1
a163 1
.It Li "nc -v -u -z -w 3 example.host 20-30"
d169 4
a172 4
.It Li "echo foobar | nc example.host 1000"
Connect to port 1000 of example.host, send the string "foobar"
followed by a newline, and move data from port 1000 of example.host to
stdout until example.host closes the connection.
a176 4
.Pp
The
.Nm netcat
.Pa README .
d178 2
a179 1
*Hobbit*  [hobbit@@avian.org]
@


1.11
log
@remove -e option, which wasnt on anyway
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.10 2000/07/10 21:52:35 ian Exp $
a36 1
.Op Fl e Ar command
@


1.10
log
@Typo & style fix.
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.9 2000/07/08 15:42:04 aaron Exp $
a87 7
.It Fl e Ar command
Execute the specified command, using data from the network for stdin,
and sending stdout and stderr to the network.
This option is only present if
.Nm
was compiled with the GAPING_SECURITY_HOLE compile time option, since it
allows users to make arbitrary programs available to anyone on the network.
@


1.9
log
@Move option flags that don't require arguments to the first of the list in
the SYNOPSIS section to be more consistent with our other man pages.
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.8 2000/07/06 04:06:55 aaron Exp $
d182 1
a182 1
Diagnostic messages about refused connections with not be displayed unless
d190 1
a190 1
arguments in at stdin.
@


1.8
log
@Insert more missing .El directives. Our troff really should identify these and
spit out a warning.
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.7 2000/03/10 19:07:22 aaron Exp $
d36 1
a40 1
.Op Fl lnrtuvz
@


1.7
log
@Various cleanups and standardization.
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.6 1999/06/05 01:21:34 aaron Exp $
d185 1
@


1.6
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.5 1998/09/28 06:57:35 millert Exp $
d53 2
a54 1
involving TCP or UDP.  It can open TCP connections, send UDP packets,
d56 2
a57 1
routing.  Unlike
d67 2
a68 1
or ranges.  Ranges are in the form nn-mm, and several separate ports and/or
d72 2
a73 1
.Bl -bullet
d90 2
a91 1
and sending stdout and stderr to the network.  This option is only present if
d96 2
a97 2
Specifies a hop along a loose source routed path.  Can be used more than
once to build a chain of hop points.
d99 4
a102 2
Positions the "hop counter" within the list of machines in the path of
a source routed packet.  Must be a multiple of 4.
d110 2
a111 1
connection to a remote host.  Any hostname/IP address and port arguments
d119 11
a129 2
Each line begins with ``<'' or ``>''.  ``<'' means "from the net" and ``>''
means "to the net".
d147 2
a148 1
and WILL requests.  This makes it possible to use
d150 2
a151 1
to script telnet sessions.  The presence of this option can be
d161 2
a162 1
Verbose.  Cause
d164 2
a165 1
to display connection information.  Using
d181 2
a182 3
daemons, without sending any data to them.  Diagnostic messages about refused
connections will not be
displayed unless
d191 2
a192 1
Open a TCP connection to port 42 of example.host.  If the connection
@


1.5
log
@kill extra .Pp and add some quotes
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.4 1998/09/27 22:24:56 deraadt Exp $
d42 1
a42 1
.Op Fl p Ar source port 
d44 1
a44 1
.Op Fl w Ar timeout 
d49 1
a49 1
.Nm nc
d57 1
a57 1
.Nm nc
d59 3
a61 3
of sending them to standard output, as 
.Xr telnet 1  
does with some.  
d69 1
a69 1
.Bl -bullet 
d87 1
a87 1
.Nm nc
d101 1
a101 1
.Nm nc
d115 1
a115 1
.Nm nc
d128 1
a128 1
.Nm nc
d131 1
a131 1
.Nm nc
d135 1
a135 1
Use UDP instead of TCP. 
d137 1
a137 1
.Nm nc
d143 1
a143 1
.Nm nc
d147 1
a147 1
.Nm nc
d151 1
a151 1
.Nm nc
d158 1
a158 1
.Nm nc
d194 1
a194 1
.Nm nc
@


1.4
log
@fix things for makewhatis
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.3 1998/09/27 16:57:47 aaron Exp $
d33 1
a33 1
.Nd arbitrary TCP and UDP connections and listens
a46 1
.Pp
d64 1
a64 1
.Xr /etc/services 5 ,
@


1.3
log
@usr.bin/ man page cleanups, n-s
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.2 1998/03/11 18:42:23 deraadt Exp $
d30 1
a31 1
.Os
a33 1
.Pp
@


1.2
log
@SYNOPSIS header; fixes man -k nc
@
text
@d1 1
a1 1
.\"	$OpenBSD: nc.1,v 1.1 1996/09/05 08:55:32 deraadt Exp $
d29 1
a29 1
.Dt nc 1
d33 1
a33 2
.Nd
Arbitrary tcp and udp connections and listens.
d55 2
a56 2
involving TCP or UDP.  It can open tcp connections, send udp packets,
listen on arbitrary tcp and udp ports, do port scanning, and source
d73 1
a73 1
simple tcp proxies
d75 1
a75 1
shell\-script based http clients and servers
d105 1
a105 1
connection to a remote host.  Any hostname/ip address and port arguments
d113 2
a114 2
Each line begins with < or >.  < means "from the net" and > means
"to the net."
d120 1
a120 1
Specified that source and/or destination ports should be chosen semi-randomly
d124 4
a127 3
Specifies the ip of the interface which is used to send the packets.
On some platforms, this can be used for udp spoofing by using ifconfig
to bring up a dummy interface with the desired source ip address.
d146 2
a147 1
to display connection information.  Using \-v
d164 3
a166 1
displayed unless \-v is specified twice.
a167 1
.Pp
d179 1
a179 1
Open a tcp connection to port 42 of example.host, and time out after
d185 2
a186 2
Open a tcp connection to port 42 of example.host using 10.1.2.3 as the
ip for the local end of the connection.
d188 1
a188 1
Open a tcp connection to port 42 of example.host, displaying some
d191 1
a191 1
Open a tcp connection to port 42 of example.host, displaying all
d194 1
a194 1
Attempt to open tcp connections to ports 20 through 30 of
d199 1
a199 1
Send udp packets to ports 20-30 of example.host, and report which ones
a209 1
.Xr telnet 1 ,
d211 3
a213 1
and the
d215 1
a215 1
.Pa README
@


1.1
log
@nc is *hobbit*'s netcat; let the sysadm have the same tools the crackers
have, so that he may learn what the network is about and protect it better.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d36 1
@

