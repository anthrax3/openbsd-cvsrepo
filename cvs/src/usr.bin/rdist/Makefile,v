head	1.19;
access;
symbols
	OPENBSD_6_0:1.19.0.10
	OPENBSD_6_0_BASE:1.19
	OPENBSD_5_9:1.19.0.6
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.19.0.8
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.19.0.2
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.19.0.4
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.17.0.6
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.16.0.2
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.15.0.36
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.34
	OPENBSD_5_0:1.15.0.32
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.30
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.15.0.28
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.24
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.15.0.26
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.22
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.20
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.18
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.15.0.16
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.15.0.14
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.15.0.12
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.10
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.8
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.15.0.6
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.15.0.4
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.15.0.2
	OPENBSD_3_5_BASE:1.15
	OPENBSD_3_4:1.14.0.2
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.12.0.4
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.12.0.2
	OPENBSD_3_2_BASE:1.12
	OPENBSD_3_1:1.11.0.4
	OPENBSD_3_1_BASE:1.11
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9_BASE:1.10
	OPENBSD_2_9:1.10.0.16
	OPENBSD_2_8:1.10.0.14
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.10.0.12
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.10.0.10
	OPENBSD_2_6_BASE:1.10
	OPENBSD_2_5:1.10.0.8
	OPENBSD_2_5_BASE:1.10
	OPENBSD_2_4:1.10.0.6
	OPENBSD_2_4_BASE:1.10
	OPENBSD_2_3:1.10.0.4
	OPENBSD_2_3_BASE:1.10
	OPENBSD_2_2:1.10.0.2
	OPENBSD_2_2_BASE:1.10
	OPENBSD_2_1:1.8.0.2
	OPENBSD_2_1_BASE:1.8
	OPENBSD_2_0:1.7.0.2
	OPENBSD_2_0_BASE:1.7
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.19
date	2014.07.12.03.32.00;	author guenther;	state Exp;
branches;
next	1.18;
commitid	uegd2I1KLsYIWNNt;

1.18
date	2014.07.05.05.31.35;	author guenther;	state Exp;
branches;
next	1.17;
commitid	yld48PE1T8UoGF8M;

1.17
date	2013.07.05.21.29.51;	author miod;	state Exp;
branches;
next	1.16;

1.16
date	2012.11.12.01.14.41;	author guenther;	state Exp;
branches;
next	1.15;

1.15
date	2004.01.05.02.55.28;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2003.07.22.17.15.13;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2003.05.06.22.10.11;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2002.05.09.19.13.02;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2001.08.31.23.31.30;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	97.09.21.11.50.32;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	97.07.22.06.59.37;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	97.04.27.13.01.27;	author downsj;	state Exp;
branches;
next	1.7;

1.7
date	96.09.07.03.14.26;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	96.07.19.22.03.56;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	96.03.31.18.45.35;	author etheisen;	state Exp;
branches;
next	1.4;

1.4
date	96.03.01.08.43.10;	author tholo;	state Exp;
branches;
next	1.3;

1.3
date	96.03.01.08.34.55;	author tholo;	state Exp;
branches;
next	1.2;

1.2
date	96.02.03.12.12.07;	author dm;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.45.58;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.45.58;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Kill os-openbsd.h: we have <paths.h>, _PATH_RSH, and utimes()
@
text
@#	$OpenBSD: Makefile,v 1.18 2014/07/05 05:31:35 guenther Exp $


PROG=	rdist
CFLAGS+=-I. -I${.CURDIR}
SRCS=	gram.y child.c client.c common.c distopt.c docmd.c expand.c \
	isexec.c lookup.c message.c rdist.c
CLEANFILES+=gram.c y.tab.h
WARNINGS=yes

.include <bsd.prog.mk>

.depend: gram.c
@


1.18
log
@ELF uberalles!
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2013/07/05 21:29:51 miod Exp $
d5 1
a5 1
CFLAGS+=-I. -I${.CURDIR} -DOS_H=\"os-openbsd.h\"
@


1.17
log
@ELF_TOOLCHAIN bye bye.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 2012/11/12 01:14:41 guenther Exp $
a11 2

CFLAGS+=-DEXE_TYPE=EXE_ELF
@


1.16
log
@Fix various format string issues.  Stop assuming time_t is long or smaller.
Enable warnings.

ok krw@@, ian@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 2004/01/05 02:55:28 espie Exp $
a12 1
.if ${ELF_TOOLCHAIN:L} == "yes"
a13 1
.endif
@


1.15
log
@include path fixes for gcc3.
tests otto@@, okay millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2003/07/22 17:15:13 brad Exp $
d9 1
@


1.14
log
@- use :L variable modifier with ELF_TOOLCHAIN variable
- change 2 instances of the check from != "yes" to == "no"

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2003/05/06 22:10:11 millert Exp $
d5 1
a5 1
CFLAGS+=-I. -DOS_H=\"os-openbsd.h\"
@


1.13
log
@use POSIX regex
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2002/05/09 19:13:02 millert Exp $
d12 1
a12 1
.if ${ELF_TOOLCHAIN} == "yes"
@


1.12
log
@Fix noexec option on ELF systems
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2001/08/31 23:31:30 millert Exp $
a8 3

LDADD=	-lcompat
DPADD=	${LIBCOMPAT}
@


1.11
log
@Don't need signal.c since we have standard signals...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 1997/09/21 11:50:32 deraadt Exp $
d14 4
@


1.10
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 1997/07/22 06:59:37 millert Exp $
d7 1
a7 1
	isexec.c lookup.c message.c rdist.c signal.c
@


1.9
log
@Use our rcmdsh(3) and support $RSH.
@
text
@d1 2
a2 3
#	$OpenBSD: Makefile,v 1.8 1997/04/27 13:01:27 downsj Exp $
#
#	from: @@(#)Makefile	5.11 (Berkeley) 3/12/91
@


1.8
log
@Pull in more includes to properly prototype library functions, kill local
decls of library functions, kill local implementation of setproctitle().

This of course points out how utterly bad this code is and that someone needs
to come in here with a chainsaw sometime.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 1996/09/07 03:14:26 millert Exp $
d8 1
a8 1
	isexec.c lookup.c message.c rdist.c rshrcmd.c signal.c
@


1.7
log
@remove defs.h hackery now that oldrdist just uses rcmdsh()
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 1996/07/19 22:03:56 millert Exp $
d8 1
a8 1
	isexec.c lookup.c message.c rdist.c rshrcmd.c setargs.c signal.c
@


1.6
log
@add -I${.CURDIR} to get defs.h
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1996/03/31 18:45:35 etheisen Exp $
d6 1
a6 1
CFLAGS+=-I${.CURDIR} -I. -DOS_H=\"os-openbsd.h\"
@


1.5
log
@gram.y must be built before client.c.
@
text
@d1 1
a1 1
#	$OpenBSD$
d6 1
a6 1
CFLAGS+=-I. -DOS_H=\"os-openbsd.h\"
@


1.4
log
@Add gram.c to CLEANFILES
@
text
@d1 2
a3 1
#	$Id: Makefile,v 1.3 1996/03/01 08:34:55 tholo Exp $
d7 1
a7 1
SRCS=	child.c client.c common.c distopt.c docmd.c expand.c gram.y \
@


1.3
log
@Allow "make depend" to work
@
text
@d2 1
a2 1
#	$Id: Makefile,v 1.2 1996/02/03 12:12:07 dm Exp $
d6 3
a8 4
SRCS=	child.c client.c common.c distopt.c docmd.c expand.c isexec.c \
		lookup.c message.c rdist.c rshrcmd.c setargs.c signal.c
OBJS+=	gram.o
CLEANFILES=y.tab.h
@


1.2
log
@rdist 6.1.1
@
text
@d2 1
a2 1
#	$Id: Makefile,v 1.1.1.1 1995/10/18 08:45:58 deraadt Exp $
d15 2
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
#	$Id: Makefile,v 1.3 1994/03/07 05:05:16 cgd Exp $
d5 3
a7 2
CFLAGS+=-I${.CURDIR}
SRCS=	docmd.c expand.c lookup.c main.c server.c
a8 2
BINOWN=	root
BINMODE=4555
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
