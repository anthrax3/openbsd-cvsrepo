head	1.8;
access;
symbols
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.8.0.12
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.8
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.4
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.6
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.2
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.5.0.48
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.46
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.42
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.40
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.38
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.36
	OPENBSD_5_0:1.5.0.34
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.32
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.30
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.26
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.28
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.24
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.22
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.20
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.18
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.16
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.14
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.5.0.12
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.10
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.8
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.5.0.6
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.4
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.4.0.20
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.18
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.16
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.14
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_9:1.4.0.12
	OPENBSD_2_8:1.4.0.10
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.8
	OPENBSD_2_7_BASE:1.4
	OPENBSD_2_6:1.4.0.6
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.4
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.3.0.8
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.6
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.4
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3;
locks; strict;
comment	@ * @;


1.8
date	2015.01.21.03.18.31;	author guenther;	state Exp;
branches;
next	1.7;
commitid	yj8bO7Z9PXVbwqj2;

1.7
date	2015.01.20.06.08.08;	author guenther;	state Exp;
branches;
next	1.6;
commitid	AVTNuIUitBjmdvEO;

1.6
date	2015.01.20.06.02.30;	author guenther;	state Exp;
branches;
next	1.5;
commitid	Cuzt8eaYzxw7KVzW;

1.5
date	2003.05.14.01.34.35;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	98.06.26.21.21.22;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	96.06.26.05.38.19;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.03.05.03.16.15;	author dm;	state Exp;
branches;
next	1.1;

1.1
date	96.02.03.12.12.45;	author dm;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Reduce opt_t from long to int.
Debug message consistency: format opts with %#x and modes with %#04o
@
text
@/*	$OpenBSD: types.h,v 1.7 2015/01/20 06:08:08 guenther Exp $	*/

#ifndef __myTYPES_H__
#define __myTYPES_H__

/*
 * $From: types.h,v 1.5 1999/08/04 15:57:31 christos Exp $
 */

/*
 * Dist Options.
 *
 * WARNING: This values are used by the server (rdistd)
 */
#define DO_VERIFY		0x0000001
#define DO_WHOLE		0x0000002
#define DO_YOUNGER		0x0000004
#define DO_COMPARE		0x0000008
#define DO_REMOVE		0x0000010
#define DO_FOLLOW		0x0000020
#define DO_IGNLNKS		0x0000040
#define DO_QUIET		0x0000100
#define DO_CHKNFS		0x0000200
#define DO_CHKREADONLY		0x0000400
#define DO_NOEXEC		0x0000800
#define DO_SAVETARGETS		0x0001000
#define DO_NODESCEND		0x0002000
#define DO_NOCHKOWNER		0x0004000
#define DO_NOCHKMODE		0x0008000
#define DO_NOCHKGROUP		0x0010000
#define DO_CHKSYM		0x0020000
#define DO_NUMCHKGROUP		0x0040000
#define DO_NUMCHKOWNER		0x0080000
#define DO_HISTORY		0x0100000
#define DO_UPDATEPERM		0x0200000
#define DO_DEFGROUP		0x0400000
#define DO_DEFOWNER		0x0800000
#define DO_SPARSE		0x1000000	/* XXX not implemented */

typedef int		opt_t;

	/* Debug Message types */
#define DM_CALL		0x01
#define DM_PROTO	0x02
#define DM_CHILD	0x04
#define DM_MISC		0x10
#define DM_ALL		0x17

/*
 * Message Type definitions
 */
#define MT_DEBUG	0x0001			/* Debugging messages */
#define MT_NERROR	0x0002			/* Normal errors */
#define MT_FERROR	0x0004			/* Fatal errors */
#define MT_WARNING	0x0010			/* Warning messages */
#define MT_CHANGE	0x0020			/* Something changed */
#define MT_INFO		0x0040			/* General information */
#define MT_NOTICE	0x0100			/* Notice's */
#define MT_SYSLOG	0x0200			/* System log, but not user */
#define MT_REMOTE	0x0400			/* Ensure msg to remote */
#define MT_NOREMOTE	0x1000			/* Don't log to remote host */
#define MT_VERBOSE	0x2000			/* Verbose messages */
#define MT_ALL		(MT_NERROR|MT_FERROR|\
			 MT_WARNING|MT_CHANGE|\
			 MT_INFO|MT_NOTICE|\
			 MT_SYSLOG|MT_VERBOSE)

#endif	/* __myTYPES_H__ */
@


1.7
log
@Move MF_* to message.c too
@
text
@d1 1
a1 1
/*	$OpenBSD: types.h,v 1.6 2015/01/20 06:02:30 guenther Exp $	*/
d40 1
a40 1
typedef long		opt_t;
@


1.6
log
@Move struct distoptinfo into distopt.c, killing the DISTOPTINFO typedef
Move struct msgtype and msgfacility into message.c, killing the MSGTYPE and
 MSGFACILITY typedefs
Make getdistopt() static to distopt.c
@
text
@d1 1
a1 1
/*	$OpenBSD: types.h,v 1.5 2003/05/14 01:34:35 millert Exp $	*/
a66 8

/*
 * Message Facilities
 */
#define MF_STDOUT	1			/* Standard Output */
#define MF_NOTIFY	2			/* Notify mail service */
#define MF_FILE		3			/* A normal file */
#define MF_SYSLOG	4			/* syslog() */
@


1.5
log
@ o Sync w/ freerdist 0.92 minus the compress option
 o KNF and ANSIfy the function headers

Sparse file support is currently a no-op since it didn't work.
Proper sparse file support will be added later.
@
text
@d1 1
a1 1
/*	$OpenBSD: types.h,v 1.4 1998/06/26 21:21:22 millert Exp $	*/
a39 3
/*
 * Dist option information
 */
a40 7
struct _distoptinfo {
	opt_t		do_value;
	char	       *do_name;
	char	       *do_arg;
	size_t	       arg_size;
};
typedef struct _distoptinfo DISTOPTINFO;
a49 9
 * Description of a message type
 */
struct _msgtype {
	int		mt_type;		/* Type (bit) */
	char	       *mt_name;		/* Name of message type */
};
typedef struct _msgtype MSGTYPE;

/*
a66 17

/*
 * Description of message facilities
 */
typedef struct _msgfacility MSGFACILITY;

struct _msgfacility {
	/* compile time initialized data */
	int		mf_msgfac;		/* One of MF_* from below */
	char	       *mf_name;		/* Name of this facility */
	void	      (*mf_sendfunc)		/* Function to send msg */
			(MSGFACILITY *, int, int, char *);
	/* run time initialized data */
	int		mf_msgtypes;		/* Bitmask of MT_* from above*/
	char	       *mf_filename;		/* Name of file */
	FILE	       *mf_fptr;		/* File pointer to output to */
};
@


1.4
log
@rdist 6.1.4 + OpenBSD patches + some -Wall
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d7 1
a7 1
 * $From: types.h,v 1.2 1996/01/30 01:52:24 mcooper Exp $
d15 24
a38 20
#define DO_VERIFY		0x000001
#define DO_WHOLE		0x000002
#define DO_YOUNGER		0x000004
#define DO_COMPARE		0x000008
#define DO_REMOVE		0x000010
#define DO_FOLLOW		0x000020
#define DO_IGNLNKS		0x000040
#define DO_QUIET		0x000100
#define DO_CHKNFS		0x000200
#define DO_CHKREADONLY		0x000400
#define DO_NOEXEC		0x000800
#define DO_SAVETARGETS		0x001000
#define DO_NODESCEND		0x002000
#define DO_NOCHKOWNER		0x004000
#define DO_NOCHKMODE		0x008000
#define DO_NOCHKGROUP		0x010000
#define DO_CHKSYM		0x020000
#define DO_NUMCHKGROUP		0x040000
#define DO_NUMCHKOWNER		0x080000
#define DO_SPARSE		0x100000
d47 2
d90 2
d96 2
a97 1
	void	      (*mf_sendfunc)();		/* Function to send msg */
a102 1
typedef struct _msgfacility MSGFACILITY;
@


1.3
log
@rcsid
@
text
@d1 2
a2 1
/* * $OpenBSD: types.h,v 1.2 1996/03/05 03:16:15 dm Exp $*/
d7 1
@


1.2
log
@rdist 6.1.2
@
text
@d1 1
a5 1
 * $Id: types.h,v 1.2 1996/01/30 01:52:24 mcooper Exp $
@


1.1
log
@rdist 6.1.1
@
text
@d5 1
a5 1
 * $Id: types.h,v 1.1 1994/04/11 23:19:14 mcooper Exp $
d32 1
@
