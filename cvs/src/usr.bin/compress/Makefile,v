head	1.22;
access;
symbols
	OPENBSD_6_0:1.22.0.2
	OPENBSD_6_0_BASE:1.22
	OPENBSD_5_9:1.21.0.34
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.21.0.36
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.21.0.28
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.21.0.32
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.21.0.30
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.21.0.26
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.21.0.24
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.21.0.22
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.21
	OPENBSD_5_1:1.21.0.20
	OPENBSD_5_0:1.21.0.18
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.21.0.16
	OPENBSD_4_9_BASE:1.21
	OPENBSD_4_8:1.21.0.14
	OPENBSD_4_8_BASE:1.21
	OPENBSD_4_7:1.21.0.10
	OPENBSD_4_7_BASE:1.21
	OPENBSD_4_6:1.21.0.12
	OPENBSD_4_6_BASE:1.21
	OPENBSD_4_5:1.21.0.8
	OPENBSD_4_5_BASE:1.21
	OPENBSD_4_4:1.21.0.6
	OPENBSD_4_4_BASE:1.21
	OPENBSD_4_3:1.21.0.4
	OPENBSD_4_3_BASE:1.21
	OPENBSD_4_2:1.21.0.2
	OPENBSD_4_2_BASE:1.21
	OPENBSD_4_1:1.20.0.2
	OPENBSD_4_1_BASE:1.20
	OPENBSD_4_0:1.19.0.14
	OPENBSD_4_0_BASE:1.19
	OPENBSD_3_9:1.19.0.12
	OPENBSD_3_9_BASE:1.19
	OPENBSD_3_8:1.19.0.10
	OPENBSD_3_8_BASE:1.19
	OPENBSD_3_7:1.19.0.8
	OPENBSD_3_7_BASE:1.19
	OPENBSD_3_6:1.19.0.6
	OPENBSD_3_6_BASE:1.19
	OPENBSD_3_5:1.19.0.4
	OPENBSD_3_5_BASE:1.19
	OPENBSD_3_4:1.19.0.2
	OPENBSD_3_4_BASE:1.19
	OPENBSD_3_3:1.11.0.14
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.11.0.12
	OPENBSD_3_2_BASE:1.11
	OPENBSD_3_1:1.11.0.10
	OPENBSD_3_1_BASE:1.11
	OPENBSD_3_0:1.11.0.8
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_9:1.11.0.6
	OPENBSD_2_8:1.11.0.4
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.11.0.2
	OPENBSD_2_7_BASE:1.11
	OPENBSD_2_6:1.9.0.10
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.9.0.8
	OPENBSD_2_5_BASE:1.9
	OPENBSD_2_4:1.9.0.6
	OPENBSD_2_4_BASE:1.9
	OPENBSD_2_3:1.9.0.4
	OPENBSD_2_3_BASE:1.9
	OPENBSD_2_2:1.9.0.2
	OPENBSD_2_2_BASE:1.9
	OPENBSD_2_1:1.5.0.2
	OPENBSD_2_1_BASE:1.5
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.22
date	2016.03.30.06.38.45;	author jmc;	state Exp;
branches;
next	1.21;
commitid	LN9ijdk9SEnzWAbM;

1.21
date	2007.05.20.00.27.27;	author jsg;	state Exp;
branches;
next	1.20;

1.20
date	2007.01.24.10.53.43;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2003.09.05.04.46.35;	author tedu;	state Exp;
branches;
next	1.18;

1.18
date	2003.08.03.01.28.38;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2003.07.31.07.39.04;	author otto;	state Exp;
branches;
next	1.16;

1.16
date	2003.07.29.11.54.33;	author otto;	state Exp;
branches;
next	1.15;

1.15
date	2003.07.13.04.43.34;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	2003.07.12.16.01.49;	author millert;	state Exp;
branches;
next	1.13;

1.13
date	2003.06.23.19.04.36;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2003.06.22.15.22.43;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	99.11.18.01.52.11;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	99.11.17.05.02.23;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	97.07.07.02.57.04;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	97.07.06.20.42.15;	author mickey;	state Exp;
branches;
next	1.7;

1.7
date	97.07.06.20.24.48;	author mickey;	state Exp;
branches;
next	1.6;

1.6
date	97.07.06.20.22.52;	author mickey;	state Exp;
branches;
next	1.5;

1.5
date	97.04.27.20.56.41;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	97.02.10.12.33.49;	author mickey;	state Exp;
branches;
next	1.3;

1.3
date	96.12.08.14.32.20;	author downsj;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.32.19;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.45.02;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.45.02;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.22
log
@for some time now mandoc has not required MLINKS to function
correctly - logically complete that now by removing MLINKS from base;

authors need only to ensure there is an entry in NAME for any function/
util being added. MLINKS will still work, and remain for perl to ease
upgrades;

ok nicm (curses) bcook (ssl)
ok schwarze, who provided a lot of feedback and assistance
ok tb natano jung
@
text
@#	$OpenBSD: Makefile,v 1.21 2007/05/20 00:27:27 jsg Exp $

PROG=	compress
SRCS=	main.c zopen.c gzopen.c nullopen.c
MAN=	compress.1 gzexe.1 gzip.1 zdiff.1 zforce.1 zmore.1 znew.1
LINKS=	${BINDIR}/compress ${BINDIR}/uncompress \
	${BINDIR}/compress ${BINDIR}/zcat \
	${BINDIR}/compress ${BINDIR}/gzip \
	${BINDIR}/compress ${BINDIR}/gunzip \
	${BINDIR}/compress ${BINDIR}/gzcat \
	${BINDIR}/zdiff ${BINDIR}/zcmp \
	${BINDIR}/zmore ${BINDIR}/zless

LDADD=-lz
DPADD=${LIBZ}

afterinstall:
	install -c -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
	    ${.CURDIR}/zmore ${.CURDIR}/zdiff \
	    ${.CURDIR}/zforce ${.CURDIR}/gzexe ${.CURDIR}/znew \
	    ${DESTDIR}${BINDIR}

.include <bsd.prog.mk>
@


1.21
log
@Add support for zmore being called as zless,
same behaviour but pager defaults to less instead of more.
Incorporating feedback from millert@@ and jmc@@

ok millert@@ simon@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.20 2007/01/24 10:53:43 jmc Exp $
a12 5

MLINKS+=compress.1 uncompress.1 compress.1 zcat.1
MLINKS+=gzip.1 gunzip.1 gzip.1 gzcat.1
MLINKS+=zdiff.1 zcmp.1
MLINKS+=zmore.1 zless.1
@


1.20
log
@split compress(1) into compress(1) and gzip(1), as suggested by millert;
ok/help millert otto
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.19 2003/09/05 04:46:35 tedu Exp $
d11 2
a12 1
	${BINDIR}/zdiff ${BINDIR}/zcmp
d17 1
@


1.19
log
@add a null compressor from canacar@@ that lets gzcat work with uncompressed
files.
also introduce SMALLness that removes null and Z compressors to save floppy
space.
ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.18 2003/08/03 01:28:38 deraadt Exp $
d5 1
a5 1
MAN=	compress.1 zmore.1 zdiff.1 zforce.1 gzexe.1 znew.1
d13 3
a15 6
MLINKS= compress.1 uncompress.1 \
	compress.1 zcat.1 \
	compress.1 gzip.1 \
	compress.1 gunzip.1 \
	compress.1 gzcat.1 \
	zdiff.1 zcmp.1
@


1.18
log
@gnu gzip dir is now bye bye
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2003/07/31 07:39:04 otto Exp $
d4 1
a4 1
SRCS=	main.c zopen.c gzopen.c
@


1.17
log
@Welcome BSD gzexe(1).

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 2003/07/29 11:54:33 otto Exp $
d5 1
a5 1
MAN=	compress.1 zmore.1 zdiff.1 zforce.1 gzexe.1
d26 1
a26 1
	    ${.CURDIR}/zforce ${.CURDIR}/gzexe \
a27 1
#	    ${.CURDIR}/znew \
@


1.16
log
@Bye bye GNU zforce(1), welcome BSD zforce(1).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 2003/07/13 04:43:34 millert Exp $
d5 1
a5 1
MAN=	compress.1 zmore.1 zdiff.1 zforce.1
d26 1
a26 1
	    ${.CURDIR}/zforce \
d28 1
a28 1
#	    ${.CURDIR}/gzexe ${.CURDIR}/znew \
@


1.15
log
@Install zdiff.1; noted by marc@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2003/07/12 16:01:49 millert Exp $
d5 1
a5 1
MAN=	compress.1 zmore.1 zdiff.1
d25 4
a28 3
	    ${.CURDIR}/zmore ${.CURDIR}/zdiff ${DESTDIR}${BINDIR}
#	    ${.CURDIR}/zforce ${.CURDIR}/gzexe ${.CURDIR}/znew \
#	    ${DESTDIR}${BINDIR}
@


1.14
log
@Add zdiff
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2003/06/23 19:04:36 millert Exp $
d5 1
a5 1
MAN=	compress.1 zmore.1
@


1.13
log
@install zmore
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2003/06/22 15:22:43 deraadt Exp $
d10 3
a12 1
	${BINDIR}/compress ${BINDIR}/gzcat
d17 2
a18 1
	compress.1 gzcat.1
d25 1
a25 2
	    ${.CURDIR}/zmore ${DESTDIR}${BINDIR}
#	    ${.CURDIR}/zmore ${.CURDIR}/zdiff \
@


1.12
log
@knf and ansi
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 1999/11/18 01:52:11 millert Exp $
d5 1
a5 1
MAN=	compress.1
d19 7
@


1.11
log
@we don't install zopen.3
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 1999/11/17 05:02:23 millert Exp $
d8 3
a10 3
#	${BINDIR}/compress ${BINDIR}/gzip \
#	${BINDIR}/compress ${BINDIR}/gunzip \
#	${BINDIR}/compress ${BINDIR}/gzcat
d13 3
a15 3
#	compress.1 gzip.1 \
#	compress.1 gunzip.1 \
#	compress.1 gzcat.1
@


1.10
log
@add MLINKs
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 1997/07/07 02:57:04 deraadt Exp $
d11 1
a11 2
MLINKS= zopen.3 zdopen.3 \
	compress.1 uncompress.1 \
@


1.9
log
@do not install a man page that noone can find the code for
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 1997/07/06 20:42:15 mickey Exp $
d11 2
a12 1
MLINKS= compress.1 uncompress.1 \
@


1.8
log
@don't overwrite the gzip for now
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 1997/07/06 20:24:48 mickey Exp $
d5 1
a5 1
MAN=	compress.1 zopen.3
@


1.7
log
@remove -g
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 1997/07/06 20:22:52 mickey Exp $
d8 3
a10 3
	${BINDIR}/compress ${BINDIR}/gzip \
	${BINDIR}/compress ${BINDIR}/gunzip \
	${BINDIR}/compress ${BINDIR}/gzcat
d13 3
a15 3
	compress.1 gzip.1 \
	compress.1 gunzip.1 \
	compress.1 gzcat.1
@


1.6
log
@do gzip
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1997/04/27 20:56:41 millert Exp $
a5 1
CFLAGS+=-g
@


1.5
log
@COPY -> INSTALL_COPY and STRIP -> INSTALL_STRIP
This fixes namespace problems where STRIP is sometimes used as
the name of the strip(1) to use and other times used as
the flag to send install(1) when stripping (or not).
COPY doesn't have this problem (yet) but was poorly named.
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile,v 1.4 1997/02/10 12:33:49 mickey Exp $
#	$NetBSD: Makefile,v 1.6 1995/03/26 09:44:29 glass Exp $
d4 1
a4 1
SRCS=	compress.c zopen.c
d6 11
a16 3
LINKS=	${BINDIR}/compress ${BINDIR}/uncompress
MLINKS= compress.1 uncompress.1
#MLINKS+=compress.1 zcat.1
d18 2
a19 3
#afterinstall:
#	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
#	    ${.CURDIR}/zcat.sh ${DESTDIR}/usr/bin/zcat
@


1.4
log
@install zopen.3 too
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1996/12/08 14:32:20 downsj Exp $
d12 1
a12 1
#	${INSTALL} ${COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
@


1.3
log
@install -> ${INSTALL}, -c -> ${COPY}
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 1996/06/26 05:32:19 deraadt Exp $
d6 1
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 1995/03/26 09:44:29 glass Exp $
d11 1
a11 1
#	install -c -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
@


1.1
log
@Initial revision
@
text
@d1 1
a2 1
#	@@(#)Makefile	8.2 (Berkeley) 4/17/94
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
