head	1.15;
access;
symbols
	OPENBSD_6_1_BASE:1.15
	OPENBSD_6_0:1.15.0.24
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.20
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.15.0.22
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.15.0.14
	OPENBSD_5_7_BASE:1.15
	OPENBSD_5_6:1.15.0.18
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.15.0.16
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.12
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.10
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.8
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.6
	OPENBSD_5_0:1.15.0.4
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.2
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.13.0.4
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.13.0.2
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.12.0.12
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.12.0.8
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.12.0.6
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.12.0.4
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.10.0.8
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.10.0.6
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.10.0.4
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.10.0.2
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.9.0.8
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.9.0.6
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.9.0.4
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.6.0.14
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.12
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.6.0.10
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.6.0.8
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_9:1.6.0.6
	OPENBSD_2_8:1.6.0.4
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.2.0.10
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.8
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.15
date	2010.08.24.23.49.06;	author djm;	state Exp;
branches;
next	1.14;

1.14
date	2010.08.21.19.00.50;	author djm;	state Exp;
branches;
next	1.13;

1.13
date	2009.08.16.09.41.08;	author sobrado;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.31.19.20.19;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2007.03.15.23.17.20;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2005.04.10.13.53.39;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2003.09.03.21.14.57;	author avsm;	state Exp;
branches;
next	1.8;

1.8
date	2003.06.03.02.56.22;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2003.05.14.06.40.56;	author pjanzen;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.14.14.58.25;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.06.05.01.21.49;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	98.11.03.05.07.31;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	98.10.30.00.24.42;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.42.38;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.46.49;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.46.49;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.15
log
@backout VIS_HEX. guenther@@ points out that the C89 \xff encoding
idiotically accepts more then two hex digits following the \x, even
on platforms where a char has 8 bits. It is therefore dangerous to have
an almost-bit-not-quite compatible format in vis(3).

The VIS_ALL (encode all characters) option introduced in the same commit
remains.
@
text
@.\"	$OpenBSD: vis.1,v 1.14 2010/08/21 19:00:50 djm Exp $
.\"	$NetBSD: vis.1,v 1.5 1994/11/17 07:56:00 jtc Exp $
.\"
.\" Copyright (c) 1989, 1991, 1993, 1994
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @@(#)vis.1	8.4 (Berkeley) 4/19/94
.\"
.Dd $Mdocdate: August 21 2010 $
.Dt VIS 1
.Os
.Sh NAME
.Nm vis
.Nd display non-printable characters in a visual format
.Sh SYNOPSIS
.Nm vis
.Op Fl abcflnostw
.Op Fl F Ar foldwidth
.Op Ar
.Sh DESCRIPTION
.Nm
is a filter for converting non-printable characters
into a visual representation.
It differs from
.Ic cat -v
in that
the form can be unique and invertible.
By default, all non-printing
characters except space, tab, and newline are encoded,
as are any meta-characters
.Pq eighth bit set .
A detailed description of the
various visual formats is given in
.Xr vis 3 .
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a
Encode all characters, whether originally visible or not.
.It Fl b
Turns off prepending of backslash before up-arrow control sequences
and meta-characters, and disables the doubling of backslashes.
This produces output which is neither invertible nor precise, but does
represent a minimum of change to the input.
It is similar to
.Ic cat -v .
.It Fl c
Request a format which displays a small subset of the
non-printable characters using C-style backslash sequences.
.It Fl F Ar foldwidth
Causes
.Nm
to fold output lines to
.Ar foldwidth
columns, like
.Xr fold 1 ,
except
that a hidden newline sequence is used, (which is removed
when inverting the file back to its original form with
.Xr unvis 1 ) .
If the last character in the encoded file does not end in a newline,
a hidden newline sequence is appended to the output.
This makes
the output usable with various editors and other utilities which
typically don't work with partial lines.
.It Fl f
Like
.Fl F ,
except output is always folded to 80 columns.
.It Fl l
Mark newlines with the visible sequence
.Ql \e$ ,
followed by the newline.
.It Fl n
Turns off any encoding, except for the fact that backslashes are
still doubled and hidden newline sequences inserted if
.Fl f
or
.Fl F
is selected.
When combined with the
.Fl f
flag,
.Nm
becomes like
an invertible version of the
.Xr fold 1
utility.
That is, the output
can be unfolded by running the output through
.Xr unvis 1 .
.It Fl o
Request a format which displays non-printable characters as
an octal number, \eddd.
.It Fl s
Only characters considered unsafe to send to a terminal are encoded.
This flag allows backspace, bell, and carriage return in addition
to the default space, tab, and newline.
Meta-characters that are considered graphic characters by
.Xr isgraph 3
are not encoded.
.It Fl t
Tabs are also encoded.
.It Fl w
White space (space-tab-newline) is also encoded.
.El
.Sh SEE ALSO
.Xr unvis 1 ,
.Xr vis 3
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.4 .
@


1.14
log
@mirror new flags to vis(3): -a to encode all characters, -h to use
hex encoding. feedback jmc@@ ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.13 2009/08/16 09:41:08 sobrado Exp $
d33 1
a33 1
.Dd $Mdocdate: August 16 2009 $
d41 1
a41 1
.Op Fl abcfhlnostw
a93 3
.It Fl h
Request a format which displays non-printable characters as
a hexadecimal number, \exdd.
@


1.13
log
@replace ".Ar file ..." with ".Ar" whenever possible.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.12 2007/05/31 19:20:19 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
d41 1
a41 1
.Op Fl bcflnostw
d62 2
d94 3
@


1.12
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.11 2007/03/15 23:17:20 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
d43 1
a43 1
.Op Ar file ...
@


1.11
log
@`b' before `c'; from Igor Sobrado
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.10 2005/04/10 13:53:39 jmc Exp $
d33 1
a33 1
.Dd April 19, 1994
@


1.10
log
@the arg to -F is not optional;
tweak -f description accordingly;

found by wilfried@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.9 2003/09/03 21:14:57 avsm Exp $
d41 1
a41 1
.Op Fl cbflnostw
@


1.9
log
@some extra markup and correct synopsis
jmc@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.8 2003/06/03 02:56:22 millert Exp $
d42 1
a42 1
.Op Fl F Op Ar foldwidth
d72 1
a72 1
.It Fl F
d77 1
a77 1
columns (default 80), like
d89 3
a91 2
Same as
.Fl F .
@


1.8
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.7 2003/05/14 06:40:56 pjanzen Exp $
d42 1
a42 1
.Op Fl F Ar foldwidth
d75 3
a77 1
to fold output lines to foldwidth columns (default 80), like
@


1.7
log
@Better wording, partly related to recent vis(3) change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.6 2000/03/14 14:58:25 aaron Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.6
log
@Finish off cleanup usr.bin/ man pages.
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.5 1999/06/05 01:21:49 aaron Exp $
d55 5
a59 3
the form is unique and invertible.
By default, all non-graphic
characters except space, tab, and newline are encoded.
d121 4
a124 1
to the default space, tab and newline.
@


1.5
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.4 1998/11/03 05:07:31 aaron Exp $
d49 1
a49 1
.Nm vis
d51 3
a53 2
into a visual representation.  It differs from
.Ql cat -v
d55 2
a56 1
the form is unique and invertible.  By default, all non-graphic
d66 5
a70 4
and meta-characters, and disables the doubling of backslashes.  This
produces output which is neither invertible nor precise, but does
represent a minimum of change to the input.  It is similar to
.Dq Li cat -v .
d76 1
a76 1
.Nm vis
d101 2
a102 1
is selected.  When combined with the
d105 1
a105 1
.Nm vis
d109 2
a110 1
utility.  That is, the output
@


1.4
log
@insert a missing word; pjanzen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.3 1998/10/30 00:24:42 aaron Exp $
d39 1
a39 1
.Os BSD 4.4
@


1.3
log
@usr.bin/ man page fixes, t-z
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.2 1996/06/26 05:42:38 deraadt Exp $
d106 2
a107 1
can be unfolded by running the output through.
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: vis.1,v 1.5 1994/11/17 07:56:00 jtc Exp $
d49 1
a49 1
.Nm Vis
d64 2
a65 2
and meta characters, and disables the doubling of backslashes.  This
produces output which is neither invertible or precise, but does
d106 1
a106 1
can be unfolded by running the output through
a113 1
.Xr unvis 1 .
d125 1
a125 1
command appears in
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
