head	1.53;
access;
symbols
	OPENBSD_6_0:1.53.0.4
	OPENBSD_6_0_BASE:1.53
	OPENBSD_5_9:1.53.0.2
	OPENBSD_5_9_BASE:1.53
	OPENBSD_5_8:1.52.0.6
	OPENBSD_5_8_BASE:1.52
	OPENBSD_5_7:1.52.0.2
	OPENBSD_5_7_BASE:1.52
	OPENBSD_5_6:1.50.0.10
	OPENBSD_5_6_BASE:1.50
	OPENBSD_5_5:1.50.0.8
	OPENBSD_5_5_BASE:1.50
	OPENBSD_5_4:1.50.0.4
	OPENBSD_5_4_BASE:1.50
	OPENBSD_5_3:1.50.0.2
	OPENBSD_5_3_BASE:1.50
	OPENBSD_5_2:1.49.0.4
	OPENBSD_5_2_BASE:1.49
	OPENBSD_5_1_BASE:1.49
	OPENBSD_5_1:1.49.0.2
	OPENBSD_5_0:1.46.0.2
	OPENBSD_5_0_BASE:1.46
	OPENBSD_4_9:1.45.0.6
	OPENBSD_4_9_BASE:1.45
	OPENBSD_4_8:1.45.0.4
	OPENBSD_4_8_BASE:1.45
	OPENBSD_4_7:1.45.0.2
	OPENBSD_4_7_BASE:1.45
	OPENBSD_4_6:1.44.0.12
	OPENBSD_4_6_BASE:1.44
	OPENBSD_4_5:1.44.0.8
	OPENBSD_4_5_BASE:1.44
	OPENBSD_4_4:1.44.0.6
	OPENBSD_4_4_BASE:1.44
	OPENBSD_4_3:1.44.0.4
	OPENBSD_4_3_BASE:1.44
	OPENBSD_4_2:1.44.0.2
	OPENBSD_4_2_BASE:1.44
	OPENBSD_4_1:1.43.0.4
	OPENBSD_4_1_BASE:1.43
	OPENBSD_4_0:1.43.0.2
	OPENBSD_4_0_BASE:1.43
	OPENBSD_3_9:1.41.0.2
	OPENBSD_3_9_BASE:1.41
	OPENBSD_3_8:1.40.0.4
	OPENBSD_3_8_BASE:1.40
	OPENBSD_3_7:1.40.0.2
	OPENBSD_3_7_BASE:1.40
	OPENBSD_3_6:1.38.0.2
	OPENBSD_3_6_BASE:1.38
	OPENBSD_3_5:1.37.0.2
	OPENBSD_3_5_BASE:1.37
	OPENBSD_3_4:1.36.0.2
	OPENBSD_3_4_BASE:1.36
	OPENBSD_3_3:1.33.0.2
	OPENBSD_3_3_BASE:1.33
	OPENBSD_3_2:1.29.0.2
	OPENBSD_3_2_BASE:1.29
	OPENBSD_3_1:1.21.0.4
	OPENBSD_3_1_BASE:1.21
	OPENBSD_3_0:1.21.0.2
	OPENBSD_3_0_BASE:1.21
	OPENBSD_2_9_BASE:1.20
	OPENBSD_2_9:1.20.0.2
	OPENBSD_2_8:1.19.0.2
	OPENBSD_2_8_BASE:1.19
	OPENBSD_2_7:1.18.0.2
	OPENBSD_2_7_BASE:1.18
	OPENBSD_2_6:1.15.0.2
	OPENBSD_2_6_BASE:1.15
	OPENBSD_2_5:1.10.0.2
	OPENBSD_2_5_BASE:1.10
	OPENBSD_2_4:1.8.0.2
	OPENBSD_2_4_BASE:1.8
	OPENBSD_2_3:1.6.0.2
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.5.0.2
	OPENBSD_2_2_BASE:1.5
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.53
date	2015.11.14.01.22.04;	author jmc;	state Exp;
branches;
next	1.52;
commitid	43FTw5NSiQSTnl49;

1.52
date	2014.09.16.16.27.23;	author jmc;	state Exp;
branches;
next	1.51;
commitid	kL02LHkC48I2AkWq;

1.51
date	2014.09.08.01.27.55;	author schwarze;	state Exp;
branches;
next	1.50;
commitid	cPoapLAXYNe1fcgV;

1.50
date	2013.01.17.21.29.14;	author jmc;	state Exp;
branches;
next	1.49;

1.49
date	2011.09.26.19.41.56;	author jmc;	state Exp;
branches;
next	1.48;

1.48
date	2011.09.16.19.36.07;	author jmc;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.16.15.01.58;	author jmc;	state Exp;
branches;
next	1.46;

1.46
date	2011.05.19.05.11.39;	author lum;	state Exp;
branches;
next	1.45;

1.45
date	2009.11.28.14.42.04;	author schwarze;	state Exp;
branches;
next	1.44;

1.44
date	2007.05.31.19.20.13;	author jmc;	state Exp;
branches;
next	1.43;

1.43
date	2006.08.10.16.44.20;	author jmc;	state Exp;
branches;
next	1.42;

1.42
date	2006.05.23.19.19.43;	author jmc;	state Exp;
branches;
next	1.41;

1.41
date	2005.11.30.11.18.27;	author jmc;	state Exp;
branches;
next	1.40;

1.40
date	2005.03.02.15.47.29;	author jmc;	state Exp;
branches;
next	1.39;

1.39
date	2005.03.02.15.42.08;	author jmc;	state Exp;
branches;
next	1.38;

1.38
date	2004.04.09.19.21.14;	author millert;	state Exp;
branches;
next	1.37;

1.37
date	2004.01.23.23.08.47;	author jmc;	state Exp;
branches;
next	1.36;

1.36
date	2003.06.10.09.12.11;	author jmc;	state Exp;
branches;
next	1.35;

1.35
date	2003.06.03.21.09.02;	author deraadt;	state Exp;
branches;
next	1.34;

1.34
date	2003.05.15.03.31.15;	author millert;	state Exp;
branches;
next	1.33;

1.33
date	2003.02.12.19.17.36;	author millert;	state Exp;
branches;
next	1.32;

1.32
date	2003.02.09.07.26.45;	author jmc;	state Exp;
branches;
next	1.31;

1.31
date	2003.01.25.05.09.36;	author millert;	state Exp;
branches;
next	1.30;

1.30
date	2003.01.06.08.47.23;	author deraadt;	state Exp;
branches;
next	1.29;

1.29
date	2002.09.19.21.22.59;	author millert;	state Exp;
branches;
next	1.28;

1.28
date	2002.09.17.20.44.38;	author millert;	state Exp;
branches;
next	1.27;

1.27
date	2002.09.17.20.16.43;	author millert;	state Exp;
branches;
next	1.26;

1.26
date	2002.09.17.20.03.40;	author millert;	state Exp;
branches;
next	1.25;

1.25
date	2002.09.13.19.00.08;	author millert;	state Exp;
branches;
next	1.24;

1.24
date	2002.09.13.18.50.09;	author millert;	state Exp;
branches;
next	1.23;

1.23
date	2002.09.13.01.12.55;	author millert;	state Exp;
branches;
next	1.22;

1.22
date	2002.06.26.23.36.14;	author wcobb;	state Exp;
branches;
next	1.21;

1.21
date	2001.08.02.18.37.35;	author mpech;	state Exp;
branches;
next	1.20;

1.20
date	2001.03.01.20.34.10;	author aaron;	state Exp;
branches;
next	1.19;

1.19
date	2000.06.02.19.39.33;	author millert;	state Exp;
branches;
next	1.18;

1.18
date	2000.03.10.19.07.22;	author aaron;	state Exp;
branches;
next	1.17;

1.17
date	2000.03.05.00.28.53;	author aaron;	state Exp;
branches;
next	1.16;

1.16
date	99.11.11.22.24.14;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	99.07.03.02.11.09;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	99.06.05.04.16.05;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	99.06.05.01.21.35;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	99.05.23.14.11.30;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	99.05.12.11.54.50;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	98.12.16.02.38.50;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	98.11.11.23.01.45;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	98.09.27.16.57.48;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	98.09.24.03.36.58;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	98.03.07.03.04.49;	author d;	state Exp;
branches;
next	1.5;

1.5
date	97.07.08.00.00.48;	author downsj;	state Exp;
branches;
next	1.4;

1.4
date	97.07.07.23.17.40;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	96.12.10.09.06.32;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.37.28;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.45.51;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.45.51;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.53
log
@these files document their config files too: adjust NAME accordingly;
ok schwarze
@
text
@.\"	$OpenBSD: newsyslog.8,v 1.52 2014/09/16 16:27:23 jmc Exp $
.\"
.\" Copyright (c) 1997, Jason Downs.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR(S) ``AS IS'' AND ANY EXPRESS
.\" OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
.\" DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR(S) BE LIABLE FOR ANY DIRECT,
.\" INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
.\" (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
.\" SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
.\" CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\" This file contains changes from the Open Software Foundation.
.\"
.\"	from: @@(#)newsyslog.8
.\"
.\" Copyright 1988, 1989 by the Massachusetts Institute of Technology
.\"
.\" Permission to use, copy, modify, and distribute this software
.\" and its documentation for any purpose and without fee is
.\" hereby granted, provided that the above copyright notice
.\" appear in all copies and that both that copyright notice and
.\" this permission notice appear in supporting documentation,
.\" and that the names of M.I.T. and the M.I.T. S.I.P.B. not be
.\" used in advertising or publicity pertaining to distribution
.\" of the software without specific, written prior permission.
.\" M.I.T. and the M.I.T. S.I.P.B. make no representations about
.\" the suitability of this software for any purpose.  It is
.\" provided "as is" without express or implied warranty.
.\"
.Dd $Mdocdate: September 16 2014 $
.Dt NEWSYSLOG 8
.Os
.Sh NAME
.Nm newsyslog ,
.Nm newsyslog.conf
.Nd rotate log files
.Sh SYNOPSIS
.Nm newsyslog
.Op Fl Fmnrv
.Op Fl a Ar directory
.Op Fl f Ar config_file
.Op Ar log ...
.Sh DESCRIPTION
The
.Nm
utility rotates log files when they exceed a configurable size or age.
The
.Ar log
file is renamed to
.Pa log.0
and an empty file is created in its place.
An archive of older logs may be kept:
in order of increasing age, these files are named
.Pa log.1 ,
.Pa log.2 ,
and so on.
When their number exceeds a given limit, the oldest is removed.
The archived logs may also be compressed.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a Ar directory
Specify a
.Ar directory
into which archived log files will be written.
If
.Ar directory
is a relative path, it is appended to the parent directory
of each log and the archived log is stored in the result.
If an absolute path is given, all archived logs are stored in the given
.Ar directory .
If
.Ar directory
does not exist for a specified log, it is ignored for that entry and
the log is rotated as if the
.Fl a
option was not specified.
.It Fl F
Force
.Nm
to trim logs regardless of the size and/or age requirements specified in
.Pa /etc/newsyslog.conf .
This option may be combined with the
.Fl n
or
.Fl v
flags to aid in debugging problems with
.Pa /etc/newsyslog.conf .
.It Fl f Ar config_file
Use
.Ar config_file
instead of
.Pa /etc/newsyslog.conf
for the configuration file.
.It Fl m
Monitoring mode; only entries marked with an
.Sq M
in flags are processed.
For each log file being monitored, any log output since the last time
.Nm
was run with the
.Fl m
flag is mailed to the user listed in the monitor notification section.
.It Fl n
Do not trim the logs, but instead print out what would be done if this option
were not specified.
.It Fl r
Removes the restriction that
.Nm
must be running as root.
Note that in this mode
.Nm
will not be able to send a
.Dv SIGHUP
signal to
.Xr syslogd 8 .
.It Fl v
Place
.Nm newsyslog
in verbose mode.
In this mode it will print out each log and its
reasons for either trimming that log or skipping it.
.El
.Pp
In the default system configuration,
.Nm
is run by
.Xr cron 8 ,
but it may also be run manually.
If one or more
.Ar log
files are specified on the command line, only the specified files are
rotated.
Note that each
.Ar log
specified must have an entry in
.Pa /etc/newsyslog.conf .
.Pp
A log can be archived because of two reasons:
The log file can have
grown bigger than a preset size in kilobytes, or a preset number of
hours may have elapsed since the last log archive.
The granularity of
.Nm
is dependent on how often it is scheduled to run in
.Xr cron 8 .
Since the program is quite fast, it may be scheduled to run every hour
without any ill effects.
.Pp
When starting up,
.Nm
reads in a configuration file to determine which logs should be looked
at.
By default, this configuration file is
.Pa /etc/newsyslog.conf .
Each line of the file contains information about a particular log file
that should be handled by
.Nm newsyslog .
Each line has five mandatory fields and up to three optional fields, with
whitespace separating each field.
Blank lines or lines beginning with a hash mark
.Pq Ql #
are ignored.
The fields of the configuration file are as
follows:
.Bl -tag -width XXXXXXXXXXXXXXXX
.It Ar logfile_name
The full pathname of the system log file to be archived.
.It Ar owner:group
This optional field specifies the owner and group for the archive file.
The
.Ql \&:
is essential, even if the
.Ar owner
or
.Ar group
field is left blank.
The fields may be numeric, or a name which is looked up
in the system password and group databases.
For backwards compatibility, a
.Ql \&.
may be used instead of a
.Ql \&: .
If either
.Ar owner
or
.Ar group
is not specified, the owner and/or group of the existing log file is used.
.It Ar mode
File mode (in octal) to use for created log files and archives.
.It Ar count
The number of archives to be kept besides the log file itself.
.It Ar size
When the size of the log file (in kilobytes) reaches this point, the log
file is trimmed as described above.
If this field is replaced by an
.Ql * ,
or set to
.Ql 0 ,
then the size of
the log file is not taken into account when determining when to trim the
log file.
By default, files smaller than 256 bytes are not rotated unless the
.Sq B
(binary) flag is set or the
.Fl F
option is specified.
This prevents
.Nm
from rotating files consisting solely of a message indicating
that the log file has been turned over.
.It Ar when
The
.Ar when
field can consist of an interval, a specific time, or both.
If the
.Ar when
field consists of an asterisk
.Pq Ql \&* ,
log rotation will depend only on the contents of the
.Ar size
field.
Otherwise, the
.Ar when
field consists of an optional interval in hours, possibly followed
by an
.So Li \&@@ Sc Ns -sign
and a time in a restricted
.St -iso8601
format or by a
.So Li \&$ Sc Ns -sign
and a time specification for logfile rotation at a fixed time once
per day, per week or per month.
.Pp
If a time is specified, the log file will only be trimmed if
.Nm
is run within one hour of the specified time.
If an interval is specified, the log file will be trimmed if that
many hours have passed since the last rotation.
When both a time and an interval are specified, both conditions
must be satisfied for the rotation to take place.
.Pp
There is no provision for the specification of a time zone.
There is little point in specifying an explicit minutes or seconds
component in the current implementation, since the only comparison is
.Sq within the hour .
.Pp
.Sy ISO 8601 restricted time format:
The lead-in character for a restricted
.St -iso8601
time is an
.So Li \&@@ Sc Ns -sign .
The particular format of the time in restricted
.St -iso8601
is:
.Sm off
.Oo Oo Oo Oo Oo
.Va \&cc Oc
.Va \&yy Oc
.Va \&mm Oc
.Va \&dd Oc
.Oo Va \&T
.Oo Va \&HH
.Oo Va \&MM
.Oo Va \&SS
.Oc Oc Oc Oc Oc .
.Sm on
Optional date fields default to the appropriate component of the
current date; optional time fields default to midnight.
For example, if today is January 22, 1999, the following date specifications
are all equivalent:
.Pp
.Bl -item -compact -offset indent
.It
.Ql 19990122T000000
.It
.Ql 990122T000000
.It
.Ql 0122T000000
.It
.Ql 22T000000
.It
.Ql T000000
.It
.Ql T0000
.It
.Ql T00
.It
.Ql 22T
.It
.Ql \&T
.It
.Ql \&
.El
.Pp
.Sy Day, week and month time format:
The lead-in character for day, week and month specification is a
dollar sign
.Pq $ .
The particular format of day, week and month specification is:
.Op Li D Ns Ar HH ,
.Op Li W Ns Ar w Ns Op Li D Ns Ar HH ,
and
.Op Li M Ns Ar dd Ns Op Li D Ns Ar HH ,
respectively.
Optional time fields default to midnight.
The ranges for day and hour specifications are:
.Pp
.Bl -tag -width Ds -compact -offset indent
.It Ar HH
hours, range 0 ... 23
.It Ar w
day of week, range 0 ... 6, 0 = Sunday
.It Ar dd
day of month, range 1 ... 31, or the letter
.Em L
or
.Em l
to specify the last day of the month.
.El
.Pp
.Sy Some examples:
.Bl -tag -width Ds -compact -offset indent
.It Li $D0
rotate every night at midnight
(same as
.Li @@T00 )
.It Li $D23
rotate every day at 23:00 hr
(same as
.Li @@T23 )
.It Li $W0D23
rotate every week on Sunday at 23:00 hr
.It Li $W5D16
rotate every week on Friday at 16:00 hr
.It Li $M1D0
rotate on the first day of every month at midnight
(i.e., the start of the day; same as
.Li @@01T00 )
.It Li $M5D6
rotate on every 5th day of the month at 6:00 hr
(same as
.Li @@05T06 )
.El
.It Ar flags
The optional
.Ar flags
field specifies if the archives should have any special processing
done to the archived log files.
The
.Sq Z
flag will make the archive
files compressed to save space using
.Xr gzip 1
or
.Xr compress 1 ,
depending on compilation options.
The
.Sq B
flag means that the file is a
binary file, and so the ASCII message which
.Nm
inserts to indicate the fact that the logs have been turned over
should not be included.
The
.Sq M
flag marks this entry as a monitored
log file.
The
.Sq F
flag specifies that symbolic links should be followed.
.It Ar monitor
Specify the username (or email address) that should receive notification
messages if this is a monitored log file.
Notification messages are sent as email; the operator
deserves what they get if they mark the mail
log file as monitored.
This field is only valid when the
.Sq M
flag is set.
.It Ar pid_file
This optional field specifies a file containing the PID of a process to send a
signal (usually
.Dv SIGHUP )
to instead of
.Pa /var/run/syslog.pid .
.It Ar signal
Specify the signal to send to the process instead of
.Dv SIGHUP .
Signal names
must start with
.Dq SIG
and be the signal name, not the number, e.g.,
.Dv SIGUSR1 .
.It Ar command
This optional field specifies a command to run instead of sending a signal
to the process.
The command must be enclosed in double quotes
.Pq Ql \&" .
The empty string,
.Ql \&"\&" ,
can be used to prevent
.Nm
from sending a signal or running a command.
You cannot specify both a command and a PID file.
.Em NOTE:
If you specify a command to be run,
.Nm
will not send a
.Dv SIGHUP to
.Xr syslogd 8 .
.El
.Sh FILES
.Bl -tag -width /etc/newsyslog.conf
.It Pa /etc/newsyslog.conf
default configuration file
.El
.Sh SEE ALSO
.Xr compress 1 ,
.Xr gzip 1 ,
.Xr syslog 3 ,
.Xr syslogd 8
.Sh AUTHORS
.An Theodore Ts'o ,
MIT Project Athena
.br
Copyright 1987, Massachusetts Institute of Technology
@


1.52
log
@less sendmail specific; ok millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.51 2014/09/08 01:27:55 schwarze Exp $
d44 1
a44 1
.Dd $Mdocdate: September 8 2014 $
d48 2
a49 1
.Nm newsyslog
@


1.51
log
@obvious cases of missing .An;
found with the new mandoc(1) MANDOCERR_AN_MISSING warning;
no text changes
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.50 2013/01/17 21:29:14 jmc Exp $
d44 1
a44 1
.Dd $Mdocdate: January 17 2013 $
d389 1
a389 2
deserves what they get if they mark the
.Xr sendmail 8
@


1.50
log
@remove uesless Pp;
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.49 2011/09/26 19:41:56 jmc Exp $
d44 1
a44 1
.Dd $Mdocdate: September 26 2011 $
d438 3
a440 2
.Bd -unfilled
Theodore Ts'o, MIT Project Athena
a441 1
.Ed
@


1.49
log
@use, as far as possible, the same notation for date strings as other
manual pages; whilst here, a little clean up for clarity

ok millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.48 2011/09/16 19:36:07 jmc Exp $
d44 1
a44 1
.Dd $Mdocdate: September 16 2011 $
a357 1
.Pp
@


1.48
log
@after some thought, i think it unlikely that we will need to specify
a revision number for ISO 8601; in addition, the revision number makes
the text unwieldy when discussing the standard in a casual manner.

therefore change the macro from -8601-4 to simply -8601, which will output
"ISO 8601". i'll get kristaps or ingo to make the change upstream to mandoc.

discussed with/ok millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.47 2011/09/16 15:01:58 jmc Exp $
d275 4
a278 4
.Oo Li \&T
.Oo Va \&hh
.Oo Va \&mm
.Oo Va \&ss
d311 2
a312 1
.So Li \&$ Sc Ns -sign .
d314 2
a315 2
.Op Va D\&hh ,
.Op Va W\&w Ns Op Va D\&hh
d317 1
a317 1
.Op Va M\&dd Ns Op Va D\&hh ,
d323 1
a323 1
.It Ar hh
d337 1
a337 1
.It Ar $D0
d340 2
a341 2
.Ar @@T00 )
.It Ar $D23
d344 2
a345 2
.Ar @@T23 )
.It Ar $W0D23
d347 1
a347 1
.It Ar $W5D16
d349 1
a349 1
.It Ar $M1D0
d352 2
a353 2
.Ar @@01T00 )
.It Ar $M5D6
d356 1
a356 1
.Ar @@05T06 )
@


1.47
log
@use .St here for ISO 8601 references; ok millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.46 2011/05/19 05:11:39 lum Exp $
d44 1
a44 1
.Dd $Mdocdate: May 19 2011 $
d242 1
a242 1
.St -iso8601-4
d263 1
a263 1
.St -iso8601-4
d267 1
a267 1
.St -iso8601-4
@


1.46
log
@sync manpage and comment with reality. From Nathanael Rensen.

ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.45 2009/11/28 14:42:04 schwarze Exp $
d44 1
a44 1
.Dd $Mdocdate: November 28 2009 $
d242 1
a242 1
.Tn ISO 8601
d263 1
a263 1
.Tn ISO 8601
d267 1
a267 1
.Tn ISO 8601
@


1.45
log
@The first paragraph of the DESCRIPTION had multiple issues,
so rewrite it from scratch.  Joint work with jmc@@.

Originally triggered by lars dot curator at gmail dot com
by requesting the addition of the word "rotate",
also using some observations from matthew at dempsky dot org.

OK jmc@@   ":-)" sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.44 2007/05/31 19:20:13 jmc Exp $
d44 1
a44 1
.Dd $Mdocdate: May 31 2007 $
d216 1
a216 1
By default, files smaller than 512 bytes are not rotated unless the
@


1.44
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.43 2006/08/10 16:44:20 jmc Exp $
d44 1
a44 1
.Dd $Mdocdate$
d49 1
a49 1
.Nd trim log files to manageable sizes
d57 1
d59 13
a71 16
is a program that should be scheduled to run periodically by
.Xr cron 8 .
When it is executed it archives log files if necessary.
If a log file is determined to require archiving,
.Nm
rearranges the files so that
.Pa logfile
is empty,
.Pa logfile.0
has
the last period's logs in it,
.Pa logfile.1
has the next to last
period's logs in it, and so on, up to a user-specified number of
archived logs.
The archived logs may be optionally compressed to save space.
d138 5
d145 2
a146 2
files are specified on the command line, only the specified logs will
be rotated.
@


1.43
log
@missing full stop; from matt jibson
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.42 2006/05/23 19:19:43 jmc Exp $
d44 1
a44 1
.Dd January 24, 2003
@


1.42
log
@some clarifications for the "size" field + cleanup;
based on a diff from ingo schwarze;
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.41 2005/11/30 11:18:27 jmc Exp $
d279 1
a279 1
current date; optional time fields default to midnight
@


1.41
log
@timezone -> time zone
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.40 2005/03/02 15:47:29 jmc Exp $
d207 3
a209 1
.Ql \&* ,
d215 3
a217 1
(binary) flag is set.
d413 1
a413 1
can use used to prevent
@


1.40
log
@sort options while here;
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.39 2005/03/02 15:42:08 jmc Exp $
d249 1
a249 1
There is no provision for the specification of a timezone.
@


1.39
log
@rework some .Ss section as .Sy: groff does not like .Ss's in the middle
of lists;
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.38 2004/04/09 19:21:14 millert Exp $
d77 16
d104 6
a137 22
.It Fl a Ar directory
Specify a
.Ar directory
into which archived log files will be written.
If
.Ar directory
is a relative path, it is appended to the parent directory
of each log and the archived log is stored in the result.
If an absolute path is given, all archived logs are stored in the given
.Ar directory .
If
.Ar directory
does not exist for a specified log, it is ignored for that entry and
the log is rotated as if the
.Fl a
option was not specified.
.It Fl f Ar config_file
Use
.Ar config_file
instead of
.Pa /etc/newsyslog.conf
for the configuration file.
@


1.38
log
@If no user/group is specified for the log file in newsyslog.conf,
use the uid/gid of the existing log file.  OK deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.37 2004/01/23 23:08:47 jmc Exp $
d253 2
a254 1
.Ss ISO 8601 restricted time format
d301 2
a302 1
.Ss Day, week and month time format
d326 2
a327 1
.Ss Some examples:
@


1.37
log
@`Ns' implies `No', so `Ns No' -> `Ns'; (even simpler in adduser(8))
discussed with todd@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.36 2003/06/10 09:12:11 jmc Exp $
d194 5
@


1.36
log
@- section reorder
- COMPATIBILITY merge
- macro cleanup
- kill whitespace at EOL
- new sentence, new line

ssh pages ok markus@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.35 2003/06/03 21:09:02 deraadt Exp $
d228 1
a228 1
.So Li \&@@ Sc Ns No -sign
d232 1
a232 1
.So Li \&$ Sc Ns No -sign
d252 1
a252 1
.So Li \&@@ Sc Ns No -sign .
d297 1
a297 1
.So Li \&$ Sc Ns No -sign .
@


1.35
log
@terms 3 & 4 cleanup based on "terms" file
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.34 2003/05/15 03:31:15 millert Exp $
d92 1
a92 1
For each log file being monitored, any log output since the last time 
@


1.34
log
@Fix some typos, clarify a few bits, and fix a display issue with `:'.
Based on a patch rom Brian Poole
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.33 2003/02/12 19:17:36 millert Exp $
a12 7
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"      This product includes software developed by Jason Downs for the
.\"      OpenBSD system.
.\" 4. Neither the name(s) of the author(s) nor the name OpenBSD
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
@


1.33
log
@Add support for rotating files at a specific time; from FreeBSD
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.32 2003/02/09 07:26:45 jmc Exp $
d56 1
a56 1
.Nd maintain system log files to manageable sizes
d111 1
a111 1
Of course,
d116 1
a116 2
.Xr syslogd 8 ,
so this option should only be used in debugging.
d176 1
a176 1
Each line has five mandatory fields and up to three optional fields, with a
d189 1
a189 1
.Ql :
d200 1
a200 1
.Ql : .
@


1.32
log
@typos;
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.31 2003/01/25 05:09:36 millert Exp $
d80 1
a80 1
Optionally the archived logs can be compressed to save space.
d119 3
a121 1
Be verbose.
d185 1
a185 1
.It logfile name
d187 2
a188 2
.It owner.group of archives (optional)
Specify an ownership and group for the archive file.
d190 1
a190 1
.Ql \&.
d198 9
a206 5
.It mode of logfile & archives
Octal mode of created log files and archives.
.It number of archives
Specify the number of archives to be kept besides the log file itself.
.It size of archives
d209 2
a210 2
If this field is replaced by a
.Ql * ,
d221 1
a221 7
.It archive interval
Specify the time separation between the trimming of the log file.
If this field is replaced by a
.Ql * ,
the number of hours since the last time the
log was trimmed will not be taken into consideration.
.It flags (optional)
d223 130
d378 1
a378 1
.It monitor notification (only used with the `M' flag)
d385 8
a392 4
.It pid file (optional)
Specify a file containing the PID of a process to send a
.Dv SIGHUP
signal to instead of
d394 1
a394 1
.It signal (optional)
d402 3
a404 2
.It command (optional)
Specify a command to run instead of sending a signal to the process.
@


1.31
log
@Make monitor section match the actual code.
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.30 2003/01/06 08:47:23 deraadt Exp $
d128 1
a128 1
is a relative path, it is it is appended to the parent directory
d155 1
a155 1
A log can be archived because of two reasons.
@


1.30
log
@typo; jmc@@prioris.mini.pw.edu.pl
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.29 2002/09/19 21:22:59 millert Exp $
d51 1
a51 1
.Dd November 11, 1999
d98 6
a103 3
in flags are processed,
and notifications sent if any have changed.
Without this option, monitored entries are not processed.
d248 3
a250 3
.It monitor notification (optional)
Specify the account that should receive notification messages if this is
a monitored log file.
@


1.29
log
@Deal with someone specifying an empty string for the command to run
and make it mean "send no signal and run no command".
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.28 2002/09/17 20:44:38 millert Exp $
d268 1
a268 1
.Pq Ql \&" ) .
@


1.28
log
@Allow user to restrict logs to be rotated by specifying pathnames on
the command line.  The default is to rotate all files in newsyslog.conf
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.27 2002/09/17 20:16:43 millert Exp $
d269 5
@


1.27
log
@Add -F (force) flag; inspired by FreeBSD
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.26 2002/09/17 20:03:40 millert Exp $
d62 1
d142 9
@


1.26
log
@Add -a flag to specify a directory to store archived logs.  Based on
changes I made years ago to a private version of newsyslog but with
the option renamed to match FreeBSD.  Note that unlike the FreeBSD
-a flag, we don't automagically create the archive dir if it doesn't exist.
OK deraadt@@ and todd@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.25 2002/09/13 19:00:08 millert Exp $
d59 1
a59 1
.Op Fl mnrv
d83 11
@


1.25
log
@remove trailing whitespace
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.24 2002/09/13 18:50:09 millert Exp $
d60 1
d107 16
@


1.24
log
@Don't rotate log files < 512 bytes unless in binary mode.  This
prevents newsyslog from rotating a file that only contains the
messages that the log file was turned over.  deraadt@@ OK
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.23 2002/09/13 01:12:55 millert Exp $
d167 1
a167 1
By default, files smaller than 512 bytes are not rotated unless the 
d232 1
a232 1
.Em NOTE: 
@


1.23
log
@Use .Dv for SIGUSR1 like all the other signal names.
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.22 2002/06/26 23:36:14 wcobb Exp $
d160 2
a161 2
When the size of the log file reaches this point, the log file becomes trimmed
as described above.
d167 7
@


1.22
log
@Don't follow symbolic links for (ie. user-owned) log files by default;
closes pr #1913.

ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.21 2001/08/02 18:37:35 mpech Exp $
d219 1
a219 1
.Em SIGUSR1 .
@


1.21
log
@o) .Sh AUTHOR -> .Sh AUTHORS;
o) .Sh EXAMPLE -> .Sh EXAMPLES;
o) Delete .Sh OPTIONS. Text moved to .Sh DESCRIPTION;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.20 2001/03/01 20:34:10 aaron Exp $
d197 3
@


1.20
log
@Remove -t option from getopt() since it doesn't exist; mpech@@prosoft.org.lv.
Also rearrage options in the man page while I'm here.
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.19 2000/06/02 19:39:33 millert Exp $
d239 1
a239 1
.Sh AUTHOR
@


1.19
log
@Explicitly state that newsyslog does not send a HUP to syslogd if
you tell it to run a command for the log file.
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.18 2000/03/10 19:07:22 aaron Exp $
d59 2
a60 2
.Op Fl vmnr
.Op Fl f Ar configuration file
d78 1
a78 2
Optionally the archived logs can be compressed to save
space.
d82 6
a87 10
.It Fl f Ar config-file
Use
.Ar config-file
instead of
.Pa /etc/newsyslog.conf
for the configuration file.
.It Fl v
Be verbose.
In this mode it will print out each log and its
reasons for either trimming that log or skipping it.
d102 10
a111 6
.It Fl m
Monitoring mode; only entries marked with an
.Sq M
in flags are processed,
and notifications sent if any have changed.
Without this option, monitored entries are not processed.
@


1.18
log
@Various cleanups and standardization.
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.17 2000/03/05 00:28:53 aaron Exp $
d223 6
@


1.17
log
@Finish standardizing options list introduction.
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.16 1999/11/11 22:24:14 millert Exp $
d65 2
a66 2
When it is executed it archives log files if necessary.  If a log file
is determined to require archiving,
d77 2
a78 1
archived logs.  Optionally the archived logs can be compressed to save
d81 36
a116 1
A log can be archived because of two reasons.  The log file can have
d118 2
a119 1
hours may have elapsed since the last log archive.  The granularity of
d129 2
a130 1
at.  By default, this configuration file is
d136 5
a140 3
whitespace separating each field.  Blank lines or lines beginning with
.Ql #
are ignored.  The fields of the configuration file are as
d146 2
a147 1
Specify an ownership and group for the archive file.  The
d153 2
a154 1
field is left blank.  The fields may be numeric, or a name which is looked up
d162 2
a163 1
as described above.  If this field is replaced by a
d169 2
a170 2
Specify the time separation between the trimming of the log file.  If this
field is replaced by a
d178 2
a179 1
done to the archived log files.  The
d186 2
a187 1
depending on compilation options.  The
d193 2
a194 1
should not be included.  The
d200 2
a201 1
a monitored log file.  Notification messages are sent as email; the operator
d211 3
a213 1
Specify the signal to send to the process instead of SIGHUP.  Signal names
d216 1
a216 1
and be the signal name, not the number.  Eg.
d220 3
a222 40
The command must be enclosed in double quotes ('"').  You cannot specify
both a command and a pid file.
.El
.Pp
The options are as follows:
.Bl -tag -width XXX
.It Fl f Ar config-file
Instructs newsyslog to use
.Ar config-file
instead of
.Pa /etc/newsyslog.conf
for its configuration file.
.It Fl v
Places
.Nm
in verbose mode.  In this mode it will print out each log and its
reasons for either trimming that log or skipping it.
.It Fl n
Causes
.Nm
not to trim the logs, but to print out what it would do if this option
were not specified.
.It Fl r
Removes the restriction that
.Nm
must be running as root.  Of course,
.Nm
will not be able to send a
.Dv SIGHUP
signal to
.Xr syslogd 8 ,
so this option should only be used in debugging.
.It Fl m
Places
.Nm
in monitoring mode; only entries marked with an
.Sq M
in flags are processed,
and notifications sent if any have changed.  Without this option, monitored
entries are not processed.
d235 1
a235 1
.Bd -unfilled -offset indent
@


1.16
log
@Add support for sending signals other than SIGHUP and optionally
run a command instead of sending a signal.
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.15 1999/07/03 02:11:09 aaron Exp $
d174 2
a175 3
.Sh OPTIONS
The following options can be used with
.Nm newsyslog :
@


1.15
log
@remove redundant .Pp macros
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.14 1999/06/05 04:16:05 aaron Exp $
d51 1
a51 1
.Dd July 7, 1997
d163 10
@


1.14
log
@capitalize the acronym ID
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.13 1999/06/05 01:21:35 aaron Exp $
a163 1
.Pp
a202 1
.Pp
@


1.13
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.12 1999/05/23 14:11:30 aaron Exp $
d159 3
a161 2
Specify a file containing the id of a process to send a HUP signal to
instead of
d190 3
a192 1
will not be able to send a HUP signal to
@


1.12
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.11 1999/05/12 11:54:50 aaron Exp $
d38 1
a38 1
.\" 
d62 1
a62 1
.Nm newsyslog
d66 10
a75 4
is determined to require archiving, 
.Nm newsyslog
rearranges the files so that ``logfile'' is empty, ``logfile.0'' has
the last period's logs in it, ``logfile.1'' has the next to last
d78 1
a78 1
space. 
d83 1
a83 1
.Nm newsyslog
d89 2
a90 2
When starting up, 
.Nm newsyslog
d92 1
a92 1
at.  By default, this configuration file is 
d99 3
a101 2
``#'' are ignored.  The fields of the configuration file are as
follows: 
d106 3
a108 2
Specify an ownership and group for the archive file.  The "." is essential,
even if the
d120 3
a122 1
as described above.  If this field is replaced by a ``*'', then the size of
d127 3
a129 1
field is replaced by a ``*'', the number of hours since the last time the
d135 3
a137 1
done to the archived log files.  The ``Z'' flag will make the archive
d142 3
a144 1
depending on compilation options.  The ``B'' flag means that the file is a
d146 1
a146 1
.Nm newsyslog
d148 3
a150 1
should not be included.  The ``M'' flag marks this entry as a monitored
d155 1
a155 1
deserves what they get if they mark the 
d169 1
a169 1
Instructs newsyslog to use 
d175 2
a176 2
Places 
.Nm newsyslog
d181 1
a181 1
.Nm newsyslog 
d186 3
a188 3
.Nm newsyslog 
must be running as root.  Of course, 
.Nm newsyslog
d194 4
a197 2
.Nm newsyslog
in monitoring mode; only entries marked with an ``M'' in flags are processed,
@


1.11
log
@efault -> default; steve@@tightrope.demon.co.uk
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.10 1998/12/16 02:38:50 aaron Exp $
d53 1
a53 1
.Os OpenBSD
@


1.10
log
@more .Nm fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.9 1998/11/11 23:01:45 aaron Exp $
d185 1
a185 1
efault configuration file
@


1.9
log
@remove redundant .Pp macros
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.8 1998/09/27 16:57:48 aaron Exp $
d58 1
a58 1
.Nm /usr/bin/newsyslog
@


1.8
log
@usr.bin/ man page cleanups, n-s
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.7 1998/09/24 03:36:58 millert Exp $
a94 1
.Pp
@


1.7
log
@Add optional support for pid files other than /var/run/syslog.pid
Useful for rotating httpd logs.
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.6 1998/03/07 03:04:49 d Exp $
d62 1
a62 1
.Nm Newsyslog
d130 1
a130 1
binary file, and so the ascii message which
d148 2
a149 1
The following options can be used with newsyslog:
d152 1
a152 1
instructs newsyslog to use 
d154 3
a156 1
instead of /etc/newsyslog.conf for its configuration file.
d158 1
a158 1
places 
d163 1
a163 1
causes
d168 1
a168 1
removes the restriction that
d176 1
a176 1
places
d186 1
a186 1
Default configuration file.
d189 1
a190 1
.Xr compress 1 ,
d192 1
a192 1
.Xr syslogd 8 .
@


1.6
log
@he -> the, and simplified a warning
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.5 1997/07/08 00:00:48 downsj Exp $
d141 4
@


1.5
log
@Note about email and notifications.
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.4 1997/07/07 23:17:40 downsj Exp $
d110 1
a110 1
Specify he number of archives to be kept besides the log file itself.
d138 1
a138 1
deserves what they get if they mark the log file
d140 1
a140 1
logs to as monitored.
@


1.4
log
@Updated, mandoc, manual.
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.3 1996/12/10 09:06:32 deraadt Exp $
d137 4
a140 1
a monitored log file.
@


1.3
log
@"the the" purge
@
text
@d1 32
a32 3
.\"	$OpenBSD: newsyslog.8,v 1.2 1996/06/26 05:37:28 deraadt Exp $
.TH NEWSYSLOG 8 "January 12, 1989" "Project Athena"
.ns
d51 12
a62 13
.sp
.SH NAME
newsyslog \- maintain system log files to manageable sizes
.SH SYNOPSIS
.B /usr/bin/newsyslog
[
.B \-vnr
] [
.B \-f
.I configuration file
]
.SH DESCRIPTION
.I Newsyslog
d64 1
a64 1
.IR crontab .
d67 1
a67 1
.I newsyslog
d73 1
a73 1
.PP
d77 4
a80 3
.I newsyslog
is dependent on how often it is scheduled to run in crontab.  Since
the program is quite fast, it may be scheduled to run every hour
d82 1
a82 1
.PP
d84 1
a84 1
.I newsyslog
d87 1
a87 1
.IR /etc/newsyslog.conf .
d90 2
a91 2
.IR newsyslog .
Each line has five mandatory fields and two optional fields, with a
d95 8
a102 24
.br
	logfile name
.br
	owner.group of archives (optional)
.br
	mode of logfile & archives
.br
	number of archives
.br
	size of archives
.br
	archive interval
.br
	flags (optional)
.PP
The
.I logfile name
entry is the name of the system log file to be archived.
.PP
The optional
.I owner.group
entry specifies an ownership and group for the archive file.
The "." is essential, even if the 
.I owner
d104 17
a120 19
.I group
field is left blank. The
fields may be numeric, or a name which is looked up in 
.I /etc/passwd
or 
.IR /etc/group .
.PP
The
.I number of archives
entry specifies the number of archives to be kept besides the log file
itself.  
.PP
When the size of the logfile reaches 
.I size of 
.IR archives ,
the logfile becomes trimmed as described above.  If this field is
replaced by a ``*'', then the size of the logfile is not taken into
account when determining when to trim the log file.
.PP
d122 1
a122 8
.I number of hours
entry specifies the time separation between the trimming of the log
file.  If this field is replaced by a ``*'', the number of hours
since the last time the log was trimmed will not be taken into
consideration.
.PP
The
.I flags
d125 7
a131 3
files compressed to save space using /usr/bin/gzip.  The ``B'' flag
means that the file is a binary file, and so the ascii message which
.I newsyslog
d133 8
a140 3
should not be included.
.PP
.SH OPTIONS
d142 2
a143 2
.TP
.B \-f \fIconfig-file
d145 1
a145 1
.I config-file
d147 1
a147 2
.TP
.B \-v
d149 1
a149 1
.I newsyslog
d152 1
a152 2
.TP
.B \-n
d154 1
a154 1
.I newsyslog 
d157 1
a157 2
.TP
.B \-r
d159 1
a159 1
.I newsyslog 
d161 1
a161 1
.I newsyslog
d163 1
a163 1
.IR syslogd ,
d165 20
a184 7
.SH FILES
/etc/newsyslog.conf
.SH BUGS
Doesn't yet automatically read the logs to find security breaches.


.SH AUTHOR
a185 1
.br
d187 1
a187 4
.SH "SEE ALSO"
syslogd(8), syslog(3), gzip(1)
.ns
.sp
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: newsyslog.8,v 1.1.1.1 1995/10/18 08:45:51 deraadt Exp $
d113 1
a113 1
file.  If this field is replaced by a ``*'', the the number of hours
@


1.1
log
@Initial revision
@
text
@d1 1
a6 1
.\"	$Id: newsyslog.8,v 1.6 1995/01/06 19:20:20 jtc Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@

