head	1.28;
access;
symbols
	OPENBSD_6_1:1.28.0.6
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.28.0.2
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.27.0.2
	OPENBSD_5_9_BASE:1.27
	OPENBSD_5_8:1.24.0.8
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.24.0.2
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.24.0.4
	OPENBSD_5_6_BASE:1.24
	OPENBSD_5_5:1.23.0.6
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.21.0.2
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.20.0.10
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.8
	OPENBSD_5_0:1.20.0.6
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.20.0.4
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.20.0.2
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.19.0.2
	OPENBSD_4_7_BASE:1.19
	OPENBSD_4_6:1.19.0.4
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.17.0.2
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.16.0.6
	OPENBSD_4_4_BASE:1.16
	OPENBSD_4_3:1.16.0.4
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.16.0.2
	OPENBSD_4_2_BASE:1.16
	SENDBUG_4_2:1.1.1.1
	RAY_20070322:1.1.1;
locks; strict;
comment	@.\" @;


1.28
date	2016.07.13.20.31.27;	author jmc;	state Exp;
branches;
next	1.27;
commitid	hEfVokG5YPxTFCxG;

1.27
date	2016.02.18.21.57.26;	author jmc;	state Exp;
branches;
next	1.26;
commitid	XeZymvO1B9UajRCQ;

1.26
date	2015.10.11.21.23.15;	author deraadt;	state Exp;
branches;
next	1.25;
commitid	nRFt8M7uFiSWsGQ1;

1.25
date	2015.09.09.21.23.31;	author schwarze;	state Exp;
branches;
next	1.24;
commitid	crZI7ztskamYCGqV;

1.24
date	2014.03.23.22.58.18;	author bcallah;	state Exp;
branches;
next	1.23;

1.23
date	2013.07.16.00.07.52;	author schwarze;	state Exp;
branches;
next	1.22;

1.22
date	2013.07.07.18.17.50;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2012.08.12.17.01.36;	author schwarze;	state Exp;
branches;
next	1.20;

1.20
date	2010.04.20.19.05.03;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2009.06.10.06.46.53;	author jmc;	state Exp;
branches;
next	1.18;

1.18
date	2009.06.06.04.46.26;	author ray;	state Exp;
branches;
next	1.17;

1.17
date	2008.12.14.07.46.24;	author ray;	state Exp;
branches;
next	1.16;

1.16
date	2007.05.31.19.20.16;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2007.04.13.20.39.09;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2007.04.13.20.25.57;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2007.04.06.01.32.39;	author ray;	state Exp;
branches;
next	1.12;

1.12
date	2007.03.28.20.52.27;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2007.03.28.19.34.34;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2007.03.26.21.15.49;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2007.03.26.06.22.12;	author ray;	state Exp;
branches;
next	1.8;

1.8
date	2007.03.23.15.40.12;	author jmc;	state Exp;
branches;
next	1.7;

1.7
date	2007.03.23.06.58.55;	author ray;	state Exp;
branches;
next	1.6;

1.6
date	2007.03.23.06.47.37;	author ray;	state Exp;
branches;
next	1.5;

1.5
date	2007.03.23.06.28.49;	author ray;	state Exp;
branches;
next	1.4;

1.4
date	2007.03.23.06.27.30;	author ray;	state Exp;
branches;
next	1.3;

1.3
date	2007.03.23.03.35.01;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	2007.03.23.02.45.40;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2007.03.23.01.47.11;	author ray;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.03.23.01.47.11;	author ray;	state Exp;
branches;
next	;


desc
@@


1.28
log
@ross l richardson reports that an auto reply is no longer generated
on submission, so remove that sentence (correct me if this is wrong);

while here replace some mandoc chars;
@
text
@.\" $OpenBSD: sendbug.1,v 1.27 2016/02/18 21:57:26 jmc Exp $
.\"
.\" Written by Raymond Lai <ray@@cyth.net>.
.\" Public domain.
.\"
.Dd $Mdocdate: February 18 2016 $
.Dt SENDBUG 1
.Os
.Sh NAME
.Nm sendbug
.Nd report a bug in OpenBSD
.Sh SYNOPSIS
.Nm
.Op Fl DEP
.Sh DESCRIPTION
.Nm
is used to submit problem reports (PRs) to the
.Ox
bugs database.
A template PR is opened in a text editor
with some system information already filled in,
such as machine architecture,
.Xr dmesg 8 ,
.Xr usbdevs 8 ,
.Xr pcidump 8 ,
and
.Xr acpidump 8 .
The
.Xr pcidump 8
and
.Xr acpidump 8
output are important for ACPI development and can only be included if
.Nm
is run as root.
.Pp
Fields enclosed in
.Sq <>
should be completed by the user.
Once the PR is filled out,
the user exits the editor and is presented with a choice:
a)bort, e)dit, or s)end.
If abort is selected,
the report is not deleted and the pathname of the report is printed.
If edit is selected,
the user is given a chance to re-edit the report.
.Pp
If send is selected,
the report is mailed to the bugs database,
with a Cc to the author.
Any follow up mail to the PR
should keep the same mail subject.
.Pp
The status of bug reports can be followed by checking the
.Mt bugs@@openbsd.org
mailing list archive available at
.Lk http://marc.info/?l=openbsd-bugs .
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl D
Do not attach
.Xr dmesg 8 ,
.Xr usbdevs 8 ,
.Xr pcidump 8 ,
and
.Xr acpidump 8
output to the report.
This information is very helpful in reports,
but may contain sensitive information about the sender.
This flag helps protect users' privacy in those cases.
.It Fl E
The
.Xr acpidump 8
output includes base64 encoded files.
This flag causes
.Nm
to read a PR from the standard input, decode the files,
and write them into the current directory.
.It Fl P
Generate and print the template with system information filled out.
.El
.Sh ENVIRONMENT
.Bl -tag -width Ds
.It Ev EDITOR , VISUAL
Specifies an editor to use.
If both
.Ev EDITOR
and
.Ev VISUAL
are set,
.Ev VISUAL
takes precedence.
If neither
.Ev EDITOR
nor
.Ev VISUAL
are set,
the default is
.Xr vi 1 .
.It Ev PR_FORM
Filename of PR form to use instead of using the built-in form.
Such a PR form can be partially pre-completed to make the
process faster.
.El
.Sh FILES
.Bl -tag -width "/tmp/p.XXXXXXXXXX" -compact
.It Pa /tmp/p.XXXXXXXXXX
temporary PR report
.El
.Sh SEE ALSO
.Xr crash 8 ,
.Xr dmesg 8
.Sh AUTHORS
.Nm
was written from scratch for the public domain by
.An Ray Lai Aq Mt ray@@cyth.net .
.Sh CAVEATS
The content of the PR is not confidential; it is sent out to a public
mailing list.
Sensitive, security related issues should be sent via email to
.Aq Mt security@@OpenBSD.org .
@


1.27
log
@TMPDIR is no longer supported;
from rafael neves
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.26 2015/10/11 21:23:15 deraadt Exp $
d6 1
a6 1
.Dd $Mdocdate: October 11 2015 $
d37 1
a37 1
.Sq \*(Lt\*(Gt
a49 2
An auto-generated reply will be sent
confirming the mail has been received.
@


1.26
log
@-version options on commands like this make no sense; the version number
makes no promises about compatibility nor the lack of compatibility.
suggestion & diff from micheal reed
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.25 2015/09/09 21:23:31 schwarze Exp $
d6 1
a6 1
.Dd $Mdocdate: September 9 2015 $
a105 4
.It Ev TMPDIR
Specifies a directory for temporary files to be created.
The default is
.Pa /tmp .
@


1.25
log
@The .Nd macro is intended to provide "a one line description", so avoid
multiple lines of input, in particular, don't use macros below .Nd;
such bad style can confuse various apropos(1) tools.  All deleted
macros reappear later in the text, anyway, except for .Tn, which i'm
deleting outright.
Found while scanning the tree for good and bad practices in preparation
for my EuroBSD2015 mdoc(7) tutorial on Oct 1 in Stockholm.
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.24 2014/03/23 22:58:18 bcallah Exp $
d6 1
a6 1
.Dd $Mdocdate: March 23 2014 $
d14 1
a14 1
.Op Fl DEPV
a82 2
.It Fl V
Print the version number.
@


1.24
log
@Point people to the bugs@@ archives on marc.info.
ok tedu@@
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.23 2013/07/16 00:07:52 schwarze Exp $
d6 1
a6 1
.Dd $Mdocdate: July 16 2013 $
d11 1
a11 2
.Nd report a bug in
.Ox
@


1.23
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.22 2013/07/07 18:17:50 jmc Exp $
d6 1
a6 1
.Dd $Mdocdate: July 7 2013 $
d59 1
a59 1
.Lk http://www.openbsd.org/query-pr.html .
@


1.22
log
@point folks to the mailing list archive to follow bug reports,
now that there is no "online bug tracking system";

from Alexis de BRUYN
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.21 2012/08/12 17:01:36 schwarze Exp $
d6 1
a6 1
.Dd $Mdocdate: August 12 2012 $
d125 1
a125 1
.An Ray Lai Aq ray@@cyth.net .
d130 1
a130 1
.Aq security@@OpenBSD.org .
@


1.21
log
@Use .Lk for HTTP hyperlinks, not .Pa.
Most of the patch from Arto Jonsson <ajonsson at kapsi dot fi>.
jmc@@ agrees in principle that .Lk is the right macro to use.

While here, update a few broken links,
and add missing markup at a few places.
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.20 2010/04/20 19:05:03 sthen Exp $
d6 1
a6 1
.Dd $Mdocdate: April 20 2010 $
d56 3
a58 2
The bugs database can be queried using the online bug tracking system
available at
a59 2
This allows users to search for PRs based on either PR number
or content.
@


1.20
log
@Include usbdevs -v output in the PR template, showing us device IDs which
cannot be deduced from the dmesg output.  Suggested by miod@@, ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.19 2009/06/10 06:46:53 jmc Exp $
d6 1
a6 1
.Dd $Mdocdate: June 10 2009 $
d58 1
a58 1
.Pa http://www.openbsd.org/query-pr.html .
@


1.19
log
@no real need for these in SEE ALSO; ok ray
while here, tweak -D
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.18 2009/06/06 04:46:26 ray Exp $
d6 1
a6 1
.Dd $Mdocdate: June 6 2009 $
d25 1
d67 1
@


1.18
log
@Include pcidump and acpidump output when sendbug is run as root,
to aid ACPI development.  Output files are base64 encoded in the
report.

Add a -E flag to decode files from a report to the current directory.

Requested by deraadt, "Sweet!" marco, "Looks good to me." pirofti
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.17 2008/12/14 07:46:24 ray Exp $
d6 1
a6 1
.Dd $Mdocdate: December 14 2008 $
d69 1
a69 1
to report.
a118 1
.Xr acpidump 8 ,
d120 1
a120 2
.Xr dmesg 8 ,
.Xr pcidump 8
@


1.17
log
@Remove useless fields from template, they just serve to confuse
users.

Idea okayed by art and deraadt, feedback from jmc.
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.16 2007/05/31 19:20:16 jmc Exp $
d6 1
a6 1
.Dd $Mdocdate: May 31 2007 $
d15 1
a15 1
.Op Fl DPV
d22 1
a22 1
with some system information,
d24 12
a35 4
already filled in,
and a
.Xr dmesg 8
attached.
a38 1
.Pp
d64 5
a68 2
Do not attach a
.Xr dmesg 8
d70 1
a70 3
The
.Xr dmesg 8
output is very helpful in reports,
d73 8
d119 1
d121 2
a122 1
.Xr dmesg 8
@


1.16
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.15 2007/04/13 20:39:09 jmc Exp $
d6 1
a6 1
.Dd $Mdocdate$
d15 1
a15 1
.Op Fl DLPV
a64 2
.It Fl L
Print the list of available categories.
@


1.15
log
@document dmesg(8) attachment a little more fully; ok ray
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.14 2007/04/13 20:25:57 jmc Exp $
d6 1
a6 1
.Dd March 22, 2007
@


1.14
log
@+.Xr dmesg 8
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.13 2007/04/06 01:32:39 ray Exp $
d24 4
a27 1
already filled in.
d57 1
a57 1
Do not attach
@


1.13
log
@Attach dmesg to sendbug reports by default.  Use -D flag to disable.

OK deraadt@@ and millert@@.
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.12 2007/03/28 20:52:27 jmc Exp $
d102 2
a103 1
.Xr crash 8
@


1.12
log
@flesh the text out; ok ray
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.11 2007/03/28 19:34:34 jmc Exp $
d15 1
a15 1
.Op Fl LPV
d53 9
@


1.11
log
@+.Xr crash 8
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.10 2007/03/26 21:15:49 jmc Exp $
d21 7
a27 2
Some system information is filled out in a temporary file,
which is then opened by a text editor.
d29 4
a32 5
Once the bug report is filled out,
it can be sent to the
.Ox
developers, re-edited, or aborted.
If aborted,
d34 10
d45 5
a49 4
The content of the PR is not confidential; it is sent out to a public
mailing list.
Sensitive, security-related issues should be sent via email to
.Aq security@@OpenBSD.org .
a59 6
.Pp
The bugs database can be queried using the online bug tracking system
available at
.Pa http://www.openbsd.org/query-pr.html .
This allows users to search for PRs based on either their PR number
or content.
d98 5
@


1.10
log
@- tweak the opening sentence
- be less precise about editors in the opening blurb
- note that prs are not confidential, and provide an alternative

ok ray deraadt
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.9 2007/03/26 06:22:12 ray Exp $
d83 2
@


1.9
log
@Accept $VISUAL in addition to $EDITOR.
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.8 2007/03/23 15:40:12 jmc Exp $
d18 3
a20 2
is used to send bug reports to
.Ox .
d22 1
a22 5
which is then opened by an editor.
See
.Ev EDITOR
below,
for details of which editor, if any, is invoked.
d30 5
@


1.8
log
@missing .El;
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.7 2007/03/23 06:58:55 ray Exp $
d51 1
a51 1
.It Ev EDITOR
d53 1
a53 1
If
d55 10
a64 1
is not set,
@


1.7
log
@Document temporary files.
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.6 2007/03/23 06:47:37 ray Exp $
d71 1
@


1.6
log
@Add more bloat to manual.
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.5 2007/03/23 06:28:49 ray Exp $
d67 4
@


1.5
log
@Flags belong under SYNOPSIS, not NAME.
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.4 2007/03/23 06:27:30 ray Exp $
d28 1
a28 1
it is e-mailed to the
d30 3
a32 1
developers.
d37 1
a37 1
Print the list of available catagories and do nothing else.
d39 1
a39 1
Prints the template and do nothing else.
d41 1
a41 1
Prints the version number.
@


1.4
log
@Alphabetize flags and environment variables.
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.3 2007/03/23 03:35:01 deraadt Exp $
a10 1
.Op Fl LPV
d15 1
@


1.3
log
@support $PR_FORM environment variable
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.2 2007/03/23 02:45:40 deraadt Exp $
d11 1
a11 1
.Op Fl LVP
d56 4
a63 4
.It Ev PR_FORM
Filename of PR form to use instead of using the built-in form.
Such a PR form can be partially pre-completed to make the
process faster.
@


1.2
log
@document -L -V and -P options.  still a bit short
@
text
@d1 1
a1 1
.\" $OpenBSD: sendbug.1,v 1.1.1.1 2007/03/23 01:47:11 ray Exp $
d60 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
.\" $OpenBSD$
d11 1
d31 16
@


1.1.1.1
log
@Import public domain rewrite of sendbug, written by Ray Lai. =)
Replaces GNU sendbug/sendpr, the wonderful shell script that had
trouble dealing with signals, behaved differently depending on what
file it read upon startup, and suffered from issues plaguing most
large shell scripts.

OK deraadt@@.
@
text
@@
