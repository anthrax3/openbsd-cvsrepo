head	1.41;
access;
symbols
	OPENBSD_6_0:1.41.0.4
	OPENBSD_6_0_BASE:1.41
	OPENBSD_5_9:1.41.0.2
	OPENBSD_5_9_BASE:1.41
	OPENBSD_5_8:1.39.0.6
	OPENBSD_5_8_BASE:1.39
	OPENBSD_5_7:1.39.0.2
	OPENBSD_5_7_BASE:1.39
	OPENBSD_5_6:1.38.0.4
	OPENBSD_5_6_BASE:1.38
	OPENBSD_5_5:1.36.0.4
	OPENBSD_5_5_BASE:1.36
	OPENBSD_5_4:1.35.0.10
	OPENBSD_5_4_BASE:1.35
	OPENBSD_5_3:1.35.0.8
	OPENBSD_5_3_BASE:1.35
	OPENBSD_5_2:1.35.0.6
	OPENBSD_5_2_BASE:1.35
	OPENBSD_5_1_BASE:1.35
	OPENBSD_5_1:1.35.0.4
	OPENBSD_5_0:1.35.0.2
	OPENBSD_5_0_BASE:1.35
	OPENBSD_4_9:1.34.0.16
	OPENBSD_4_9_BASE:1.34
	OPENBSD_4_8:1.34.0.14
	OPENBSD_4_8_BASE:1.34
	OPENBSD_4_7:1.34.0.10
	OPENBSD_4_7_BASE:1.34
	OPENBSD_4_6:1.34.0.12
	OPENBSD_4_6_BASE:1.34
	OPENBSD_4_5:1.34.0.8
	OPENBSD_4_5_BASE:1.34
	OPENBSD_4_4:1.34.0.6
	OPENBSD_4_4_BASE:1.34
	OPENBSD_4_3:1.34.0.4
	OPENBSD_4_3_BASE:1.34
	OPENBSD_4_2:1.34.0.2
	OPENBSD_4_2_BASE:1.34
	OPENBSD_4_1:1.33.0.8
	OPENBSD_4_1_BASE:1.33
	OPENBSD_4_0:1.33.0.6
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.33.0.4
	OPENBSD_3_9_BASE:1.33
	OPENBSD_3_8:1.33.0.2
	OPENBSD_3_8_BASE:1.33
	OPENBSD_3_7:1.30.0.4
	OPENBSD_3_7_BASE:1.30
	OPENBSD_3_6:1.30.0.2
	OPENBSD_3_6_BASE:1.30
	OPENBSD_3_5:1.26.0.4
	OPENBSD_3_5_BASE:1.26
	OPENBSD_3_4:1.26.0.2
	OPENBSD_3_4_BASE:1.26
	OPENBSD_3_3:1.25.0.2
	OPENBSD_3_3_BASE:1.25
	OPENBSD_3_2:1.23.0.2
	OPENBSD_3_2_BASE:1.23
	OPENBSD_3_1:1.20.0.4
	OPENBSD_3_1_BASE:1.20
	OPENBSD_3_0:1.20.0.2
	OPENBSD_3_0_BASE:1.20
	OPENBSD_2_9_BASE:1.19
	OPENBSD_2_9:1.19.0.2
	OPENBSD_2_8:1.18.0.2
	OPENBSD_2_8_BASE:1.18
	OPENBSD_2_7:1.17.0.2
	OPENBSD_2_7_BASE:1.17
	OPENBSD_2_6:1.15.0.2
	OPENBSD_2_6_BASE:1.15
	OPENBSD_2_5:1.14.0.2
	OPENBSD_2_5_BASE:1.14
	OPENBSD_2_4:1.13.0.2
	OPENBSD_2_4_BASE:1.13
	OPENBSD_2_3:1.11.0.2
	OPENBSD_2_3_BASE:1.11
	OPENBSD_2_2:1.10.0.2
	OPENBSD_2_2_BASE:1.10
	OPENBSD_2_1:1.9.0.2
	OPENBSD_2_1_BASE:1.9
	OPENBSD_2_0:1.8.0.2
	OPENBSD_2_0_BASE:1.8
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.41
date	2015.10.09.21.59.34;	author tim;	state Exp;
branches;
next	1.40;
commitid	DVoiJg7RFqjToPA4;

1.40
date	2015.10.06.15.09.08;	author tim;	state Exp;
branches;
next	1.39;
commitid	xqQ5XmnbwSsAnf8Q;

1.39
date	2015.01.16.16.16.36;	author schwarze;	state Exp;
branches;
next	1.38;
commitid	rCyXtOxlUq0XrPi0;

1.38
date	2014.04.23.18.24.23;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2014.03.20.20.39.13;	author naddy;	state Exp;
branches;
next	1.36;

1.36
date	2014.02.12.16.58.44;	author schwarze;	state Exp;
branches;
next	1.35;

1.35
date	2011.04.23.10.14.59;	author sobrado;	state Exp;
branches;
next	1.34;

1.34
date	2007.05.31.19.20.16;	author jmc;	state Exp;
branches;
next	1.33;

1.33
date	2005.08.03.09.20.30;	author jmc;	state Exp;
branches;
next	1.32;

1.32
date	2005.07.14.19.27.18;	author jmc;	state Exp;
branches;
next	1.31;

1.31
date	2005.07.06.22.15.11;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2004.06.07.19.22.20;	author otto;	state Exp;
branches;
next	1.29;

1.29
date	2004.06.06.21.30.38;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2004.06.06.11.23.25;	author otto;	state Exp;
branches;
next	1.27;

1.27
date	2004.06.04.18.18.20;	author otto;	state Exp;
branches;
next	1.26;

1.26
date	2003.06.10.09.12.11;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2002.12.09.21.41.38;	author cloder;	state Exp;
branches;
next	1.24;

1.24
date	2002.11.16.23.05.36;	author millert;	state Exp;
branches;
next	1.23;

1.23
date	2002.05.17.15.54.12;	author millert;	state Exp;
branches;
next	1.22;

1.22
date	2002.05.16.17.54.21;	author millert;	state Exp;
branches;
next	1.21;

1.21
date	2002.05.16.03.50.42;	author millert;	state Exp;
branches;
next	1.20;

1.20
date	2001.06.20.22.25.08;	author millert;	state Exp;
branches;
next	1.19;

1.19
date	2000.11.09.17.52.39;	author aaron;	state Exp;
branches;
next	1.18;

1.18
date	2000.07.06.04.06.56;	author aaron;	state Exp;
branches;
next	1.17;

1.17
date	2000.03.23.21.39.55;	author aaron;	state Exp;
branches;
next	1.16;

1.16
date	2000.03.23.21.10.19;	author aaron;	state Exp;
branches;
next	1.15;

1.15
date	99.08.17.16.19.06;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	98.11.04.22.36.41;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	98.09.27.20.24.31;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	98.09.27.16.57.53;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	98.02.24.20.52.46;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	97.07.17.05.48.40;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	96.11.03.18.57.45;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	96.10.08.01.20.57;	author michaels;	state Exp;
branches;
next	1.7;

1.7
date	96.09.30.18.49.54;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	96.09.29.23.04.58;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	96.09.29.21.51.03;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	96.09.27.15.49.03;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	96.06.26.05.39.23;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.12.20.09.48.14;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.46.08;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.46.08;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.41
log
@Remove telnet warnings. Civilization has reached a point where they are no
longer relevant.

OK millert@@
@
text
@.\"	$OpenBSD: skeyinit.1,v 1.40 2015/10/06 15:09:08 tim Exp $
.\"	$NetBSD: skeyinit.1,v 1.4 1995/07/07 22:24:09 jtc Exp $
.\"	@@(#)skeyinit.1	1.1 	10/28/93
.\"
.Dd $Mdocdate: October 6 2015 $
.Dt SKEYINIT 1
.Os
.Sh NAME
.Nm skeyinit
.Nd change password or add user to S/Key authentication system
.Sh SYNOPSIS
.Nm skeyinit
.Bk -words
.Op Fl DErsx
.Op Fl a Ar auth-type
.Op Fl n Ar count
.Op Fl md5 | rmd160 | sha1
.Op Ar user
.Ek
.Sh DESCRIPTION
.Nm
initializes the system so you can use S/Key one-time passwords to log in.
The program will ask you to enter a secret passphrase which is used by
.Xr skey 1
to generate one-time passwords:
enter a phrase of several words in response.
After the S/Key database
has been updated you can log in using either your regular password
or using S/Key one-time passwords.
.Pp
.Nm
requires you to type a secret passphrase, so it should be used
only on a secure terminal.
For example, on the console of a
workstation or over an encrypted network session.
If you are using
.Nm
while logged in over an untrusted network, follow the instructions
given below with the
.Fl s
option.
.Pp
Before initializing an S/Key entry, the user must authenticate
using either a standard password or an S/Key challenge.
To use a one-time password for initial authentication,
.Ic skeyinit -a skey
can be used.
The user will then be presented with the standard
S/Key challenge and allowed to proceed if it is correct.
.Pp
.Nm
prints a sequence number and a one-time password.
This password can't be used to log in; one-time passwords should be
generated using
.Xr skey 1
first.
The one-time password printed by
.Nm
can be used to verify if the right passphrase has been given to
.Xr skey 1 .
The one-time password with the corresponding sequence number printed by
.Xr skey 1
should match the one printed by
.Nm .
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a Ar auth-type
Before an S/Key entry can be initialised,
the user must authenticate themselves to the system.
This option allows the authentication type to be specified, such as
.Dq passwd
or
.Dq skey .
.It Fl D
Disables access to the S/Key database.
Only the superuser may use the
.Fl D
option.
.It Fl E
Enables access to the S/Key database.
Only the superuser may use the
.Fl E
option.
.It Fl md5 | rmd160 | sha1
Selects the hash algorithm:
MD5, RMD-160 (160-bit Ripe Message Digest),
or SHA1 (NIST Secure Hash Algorithm Revision 1).
.It Fl n Ar count
Start the
.Nm skey
sequence at
.Ar count
(default is 100).
.It Fl r
Removes the user's S/Key entry.
.It Fl s
Secure mode.
The user is expected to have already used a secure
machine to generate the first one-time password.
Without the
.Fl s
option the system will assume you are directly connected over secure
communications and prompt you for your secret passphrase.
The
.Fl s
option also allows one to set the seed and count for complete
control of the parameters.
.Pp
When the
.Fl s
option is specified,
.Nm
will try to authenticate the user via S/Key, instead of the default listed in
.Pa /etc/login.conf .
If a user has no entry in the S/Key database, an alternate authentication
type must be specified via the
.Fl a
option
(see above).
Please note that entering a password or passphrase in plain text
defeats the purpose of using
.Dq secure
mode.
.Pp
You can use
.Ic skeyinit -s
in combination with the
.Nm skey
command to set the seed and count if you do not like the defaults.
To do this run
.Ic skeyinit -s
in one window and put in your count and seed, then run
.Xr skey 1
in another window to generate the correct 6 English words for that
count and seed.
You can then "cut-and-paste" or type the words into the
.Nm
window.
.It Fl x
Displays one-time passwords in hexadecimal instead of ASCII.
.It Ar user
The username to be changed/added.
By default the current user is operated on.
.El
.Sh FILES
.Bl -tag -width /etc/login.conf -compact
.It Pa /etc/login.conf
file containing authentication types
.It Pa /etc/skey
directory containing user entries for S/Key
.El
.Sh EXAMPLES
.Bd -literal
$ skeyinit
Password: \*(Ltenter your regular password here\*(Gt
[Updating user with md5]
Old seed: [md5] host12377
Enter new secret passphrase: \*(Lttype a new passphrase here\*(Gt
Again secret passphrase: \*(Ltagain\*(Gt
ID user skey is otp-md5 100 host12378
Next login password: CITE BREW IDLE CAIN ROD DOME
$ otp-md5 -n 3 100 host12378
Enter secret passphrase: \*(Lttype your passphrase here\*(Gt
98: WERE TUG EDDY GEAR GILL TEE
99: NEAR HA TILT FIN LONG SNOW
100: CITE BREW IDLE CAIN ROD DOME
.Ed
.Pp
The one-time password for the next login will have sequence number 99.
.Sh DIAGNOSTICS
.Bl -tag -compact -width "skey disabled"
.It "skey disabled"
.Pa /etc/skey
does not exist or is not accessible by the user.
The superuser may enable
.Nm
via the
.Fl E
flag.
.El
.Sh SEE ALSO
.Xr skey 1 ,
.Xr skeyaudit 1 ,
.Xr skeyinfo 1 ,
.Xr skey 5 ,
.Xr skeyprune 8
.Sh AUTHORS
.An Phil Karn
.An Neil M. Haller
.An John S. Walden
.An Scott Chasin
.An Todd Miller
@


1.40
log
@Remove the -C option that converts an S/Key database to the new format. It has
been 13 years since the new format was introduced.

OK millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.39 2015/01/16 16:16:36 schwarze Exp $
d5 1
a5 1
.Dd $Mdocdate: January 16 2015 $
a155 3
Reminder - Only use this method if you are directly connected
           or have an encrypted channel.  If you are using telnet,
           hit return now and use skeyinit -s.
a163 1
Reminder - Do not use this program while logged in via telnet.
@


1.39
log
@add missing .An macros
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.38 2014/04/23 18:24:23 ajacoutot Exp $
d5 1
a5 1
.Dd $Mdocdate: April 23 2014 $
d14 1
a14 1
.Op Fl CDErsx
a74 8
.It Fl C
Converts from the old-style
.Pa /etc/skeykeys
database to a new-style database where user records are stored in the
.Pa /etc/skey
directory.
If an entry already exists in the new-style database it will not
be overwritten.
@


1.38
log
@Remove more Kerberos cruft.

ok jca@@ jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.37 2014/03/20 20:39:13 naddy Exp $
d5 1
a5 1
.Dd $Mdocdate: March 20 2014 $
d201 5
a205 1
Phil Karn, Neil M. Haller, John S. Walden, Scott Chasin, Todd Miller
@


1.37
log
@Remove the (non-default) MD4 hash algorithm from S/Key.
ok millert, man pages ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.36 2014/02/12 16:58:44 schwarze Exp $
d5 1
a5 1
.Dd $Mdocdate: February 12 2014 $
d72 1
a72 2
.Dq krb5 ,
.Dq passwd ,
@


1.36
log
@.Sh ERRORS is only used in sections 2, 3, and 9, so use DIAGNOSTICS instead;
from Jan Stary <hans at stare dot cz>;
jmc@@ doesn't know of any upstream, so just commit it locally
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.35 2011/04/23 10:14:59 sobrado Exp $
d5 1
a5 1
.Dd $Mdocdate: April 23 2011 $
d17 1
a17 1
.Op Fl md4 | md5 | rmd160 | sha1
d94 1
a94 1
.It Fl md4 | md5 | rmd160 | sha1
d96 1
a96 1
MD4, MD5, RMD-160 (160-bit Ripe Message Digest),
@


1.35
log
@improve line breaking in SYNOPSIS now that semantics of the .Bk macro
has changed to conform with modern groff releases.

diff for route6d(8) written mostly by schwarze@@, with lots of useful
advice from jmc@@.

ok jmc@@, schwarze@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.34 2007/05/31 19:20:16 jmc Exp $
d5 1
a5 1
.Dd $Mdocdate: May 31 2007 $
d184 1
a184 1
.Sh ERRORS
@


1.34
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.33 2005/08/03 09:20:30 jmc Exp $
d5 1
a5 1
.Dd $Mdocdate$
d17 1
a17 3
.Oo
.Fl md4 | Fl md5 | rmd160 | sha1
.Oc
@


1.33
log
@improve description of -a and -s a little;
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.32 2005/07/14 19:27:18 jmc Exp $
d5 1
a5 1
.Dd February 24, 1998
@


1.32
log
@add skey(5) to SEE ALSO;
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.31 2005/07/06 22:15:11 jmc Exp $
d27 1
a27 1
to generate one-time passwords;
d47 3
a49 3
To use a one-time password for initial authentication, the
.Dq Fl a Li skey
option can be used.
d71 3
a73 1
Specify an authentication type such as
d109 2
a110 1
Set secure mode where the user is expected to have used a secure
d120 1
a120 14
You can use
.Ic skeyinit -s
in combination with the
.Nm skey
command to set the seed and count if you do not like the defaults.
To do this run
.Nm
in one window and put in your count and seed, then run
.Nm skey
in another window to generate the correct 6 English words for that
count and seed.
You can then "cut-and-paste" or type the words into the
.Nm
window.
d130 2
a131 1
option.
d136 15
@


1.31
log
@- tidy up SYNOPSIS
- sort options
- sync usage()
- more minor tweaks
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.30 2004/06/07 19:22:20 otto Exp $
d195 1
@


1.30
log
@Use -a skey to use S/Key for initial authentication in normal mode.

ok hshoexer@@ millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.29 2004/06/06 21:30:38 jmc Exp $
d13 2
a14 6
.Op Fl r
.Op Fl s
.Op Fl x
.Op Fl C
.Op Fl D
.Op Fl E
d18 1
a18 2
.Fl md4 | Fl md5 | Fl sha1 |
.Fl rmd160
d21 1
d55 1
a55 1
This password can not be used to log in; one-time passwords should be
d70 6
d94 10
d146 1
a146 21
Displays one-time password in hexadecimal instead of ASCII.
.It Fl a Ar auth-type
Specify an authentication type such as
.Dq krb5 ,
.Dq passwd
or
.Dq skey .
.It Fl n Ar count
Start the
.Nm skey
sequence at
.Ar count
(default is 100).
.It Fl md4
Selects MD4 as the hash algorithm.
.It Fl md5
Selects MD5 as the hash algorithm.
.It Fl sha1
Selects SHA (NIST Secure Hash Algorithm Revision 1) as the hash algorithm.
.It Fl rmd160
Selects RMD-160 (160 bit Ripe Message Digest) as the hash algorithm.
d164 1
a164 1
Password: <enter your regular password here>
d167 2
a168 2
Enter new secret passphrase: <type a new passphrase here>
Again secret passphrase: <again>
d173 1
a173 1
Enter secret passphrase: <type your passphrase here>
@


1.29
log
@- skeyprune is section 8, not 1
- kill whitespace
- -offset for display
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.28 2004/06/06 11:23:25 otto Exp $
d51 3
a53 3
When used over an untrusted network, a password of
.Sq s/key
should be used.
d137 2
a138 1
.Dq krb5
d140 1
a140 1
.Dq passwd .
@


1.28
log
@Explain the the usage of the first key printed by skeyinit; add
example and .Xr's.

ok hshoexer@@ millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.27 2004/06/04 18:18:20 otto Exp $
d28 1
a28 1
initializes the system so you can use S/Key one-time passwords to login.
d34 1
a34 1
has been updated you can login using either your regular password
d57 1
a57 1
.Nm 
d167 17
a183 17
    $ skeyinit
    Reminder - Only use this method if you are directly connected
               or have an encrypted channel.  If you are using telnet,
               hit return now and use skeyinit -s.
    Password: <enter your regular password here>
    [Updating user with md5]
    Old seed: [md5] host12377
    Enter new secret passphrase: <type a new passphrase here>
    Again secret passphrase: <again>
    ID user skey is otp-md5 100 host12378
    Next login password: CITE BREW IDLE CAIN ROD DOME
    $ otp-md5 -n 3 100 host12378
    Reminder - Do not use this program while logged in via telnet.
    Enter secret passphrase: <type your passphrase here>
    98: WERE TUG EDDY GEAR GILL TEE  
    99: NEAR HA TILT FIN LONG SNOW   
    100: CITE BREW IDLE CAIN ROD DOME
d202 1
a202 1
.Xr skeyprune 1
@


1.27
log
@Consistently use "secret passphrase" for the passphrase made up by the user
and "one-time password" for the generated passwords.
ok jmc@@ millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.26 2003/06/10 09:12:11 jmc Exp $
d57 15
d165 22
d200 3
a202 1
.Xr skeyinfo 1
@


1.26
log
@- section reorder
- COMPATIBILITY merge
- macro cleanup
- kill whitespace at EOL
- new sentence, new line

ssh pages ok markus@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.25 2002/12/09 21:41:38 cloder Exp $
d29 3
a31 1
The program will ask you to enter a secret pass phrase;
d38 1
a38 1
requires you to type a secret password, so it should be used
d85 1
a85 1
communications and prompt you for your secret password.
d119 1
a119 1
Displays pass phrase in hexadecimal instead of ASCII.
a121 1
.Dq krb4 ,
@


1.25
log
@Correct typo. 'accessable' -> 'accessible'
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.24 2002/11/16 23:05:36 millert Exp $
d142 7
a158 7
.El
.Sh FILES
.Bl -tag -width /etc/login.conf -compact
.It Pa /etc/login.conf
file containing authentication types
.It Pa /etc/skey
directory containing user entries for S/Key
@


1.24
log
@Give a sensible error message when a user who has no entry in /etc/skey
specifies the -s flag.  Also improve the error message when S/Key is disabled.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.23 2002/05/17 15:54:12 millert Exp $
d146 1
a146 1
does not exist or is not accessable by the user.
@


1.23
log
@Replace -z option (zero) with -r option (remove).
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.22 2002/05/16 17:54:21 millert Exp $
d102 14
d120 2
a121 1
.Dq krb4
d123 1
a123 1
.Dq krb5 .
d154 3
a156 1
.Bl -tag -width /etc/skey
@


1.22
log
@Xr skeyinfo(1)
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.21 2002/05/16 03:50:42 millert Exp $
d13 1
a15 1
.Op Fl z
d75 2
a103 2
.It Fl z
Allows the user to zero their S/Key entry.
@


1.21
log
@Change S/Key stuff from using a flat file (/etc/skeykeys) to a directory
where each user gets their own file, which is owned by that user.

An old S/Key database may be converted by running "skeyinit -C" as root.

Programs that need to access the S/Key database no longer need to be
setuid root.  They must now be setgid auth instead.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.20 2001/06/20 22:25:08 millert Exp $
a64 1
.Pa 
d144 2
a145 1
.Xr skey 1
@


1.20
log
@o When converting from a different hash type, if there is room on the line
  we don't need to comment out the existing entry since the key almost
  never takes up as much room as is allocated for it.
o Do per-record locking (and timeout) now that libskey does.
o Rearrange the code into functions.
o Use readpassphrase()
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.19 2000/11/09 17:52:39 aaron Exp $
d14 1
d16 4
d57 19
a75 2
.It Fl x
Displays pass phrase in hexadecimal instead of ASCII.
d101 2
d105 5
d131 7
a137 4
.Pa /etc/skeykeys
does not exist.
It must be created by the superuser in order to use
.Nm skeyinit .
d140 3
a142 3
.Bl -tag -width /etc/skeykeys
.It Pa /etc/skeykeys
database of information for S/Key system
d147 1
a147 1
Phil Karn, Neil M. Haller, John S. Walden, Scott Chasin
@


1.19
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.18 2000/07/06 04:06:56 aaron Exp $
d100 2
a101 2
.Bl -tag -width "skey disabled"
.It skey disabled
d106 1
d111 1
@


1.18
log
@Insert more missing .El directives. Our troff really should identify these and
spit out a warning.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.17 2000/03/23 21:39:55 aaron Exp $
d51 1
a51 1
.Bl -tag -width XXXXXXX
@


1.17
log
@More pedantic man page formatting insanity, lalala
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.16 2000/03/23 21:10:19 aaron Exp $
d49 2
a50 1
.Sh OPTIONS
d98 1
@


1.16
log
@Fix some formatting problems I missed before.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.15 1999/08/17 16:19:06 millert Exp $
d25 2
a26 1
enter a phrase of several words in response. After the S/Key database
d95 2
a96 2
The username to be changed/added. By default the current user is
operated on.
@


1.15
log
@missing flags in SYNOPSIS
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.14 1998/11/04 22:36:41 aaron Exp $
d22 3
a24 3
.Nm skeyinit
initializes the system so you can use S/Key one-time passwords
to login.  The program will ask you to enter a secret pass phrase;
d29 1
a29 1
.Nm skeyinit
d31 5
a35 4
only on a secure terminal.  For example, on the console of a
workstation or over an encrypted network session.  If you are
using
.Nm skeyinit
d42 2
a43 2
using either a standard password or an S/Key challenge.  When used
over an untrusted network, a password of
d45 2
a46 1
should be used.  The user will then be presented with the standard
d54 2
a55 1
machine to generate the first one-time password.  Without the
d58 2
a59 1
communications and prompt you for your secret password.  The
d62 3
a64 2
control of the parameters.  You can use
.Dq skeyinit -s
d69 1
a69 1
.Nm skeyinit
d73 3
a75 2
count and seed.  You can then "cut-and-paste" or type the words into the
.Nm skeyinit
d100 2
a101 1
does not exist.  It must be created by the superuser in order to use
@


1.14
log
@be really pedantic about punctuation following -mdoc macro'd text
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.13 1998/09/27 20:24:31 aaron Exp $
d16 4
@


1.13
log
@english -> English
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.12 1998/09/27 16:57:53 aaron Exp $
d10 1
a10 1
.Nd change password or add user to S/Key authentication system.
@


1.12
log
@usr.bin/ man page cleanups, n-s
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.11 1998/02/24 20:52:46 millert Exp $
d63 1
a63 1
in another window to generate the correct 6 english words for that
@


1.11
log
@Allow superuser to disable skey by unlnking /etc/skeykeys.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.10 1997/07/17 05:48:40 millert Exp $
d45 1
a45 1
Displays pass phrase in hexidecimal instead of ASCII.
d48 1
a48 1
machine to generate the first one time password.  Without the
d50 1
a50 1
the system will assume you are direct connected over secure
d95 1
a95 1
data base of information for S/Key system.
@


1.10
log
@Add RIPEMD-160 (rmd160) support to OTP (s/key).
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.9 1996/11/03 18:57:45 millert Exp $
d5 1
a5 1
.Dd 28 October 1993
d43 1
a43 1
.Bl -tag -width Ds
d86 6
@


1.9
log
@Use new length/size macros.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.8 1996/10/08 01:20:57 michaels Exp $
d81 2
@


1.8
log
@Attempt at cleanup.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.6 1996/09/29 23:04:58 millert Exp $
d15 1
d69 6
@


1.7
log
@Fixed up docs and improved skeyinit's passwd prompt.
@
text
@d7 1
a7 1
.Os NetBSD 4
@


1.6
log
@updated s/key docs.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.5 1996/09/29 21:51:03 millert Exp $
d9 1
a9 1
.Nm S/key
d18 23
a40 4
will initialize the system information to allow a user to use
their S/Key to login.
You should use a secure login connection to generate
your first one time password.
d44 1
a44 1
displays pass phrase in hexidecimal instead of ASCII.
d46 10
a55 4
allows the user to set the seed and count for complete control
of the parameters.
To do this run skeyinit in one window and put in your count and seed;
then run
d57 9
a65 3
in another window to generate the correct 6 english words
for that count and seed.
You can then "cut-and-paste" or type the words into the skeyinit window.
d67 1
a67 1
allows the user to zero their S/Key entry.
d75 1
a75 1
the username to be changed/added. By default the current user is
@


1.5
log
@Document new switches.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.4 1996/09/27 15:49:03 millert Exp $
d42 1
a42 1
Selects SHA (Secure Hash Algorithm) as the hash algorithm.
@


1.4
log
@Now can deal with both MD4 and MD5 s/key's.
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.3 1996/06/26 05:39:23 deraadt Exp $
d37 6
a45 4
.It Fl 4 
Selects MD4 as the hash algorithm.
.It Fl 5 
Selects MD5 as the hash algorithm.
@


1.3
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: skeyinit.1,v 1.4 1995/07/07 22:24:09 jtc Exp $
d24 2
d40 4
@


1.2
log
@add ability to zero out entry; from millert@@cs.colorado.edu; netbsd pr#1851
also add a prototype for skeyzero()
@
text
@d1 1
@


1.1
log
@Initial revision
@
text
@d13 1
d32 2
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@

