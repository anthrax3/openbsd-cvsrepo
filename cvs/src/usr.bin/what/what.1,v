head	1.19;
access;
symbols
	OPENBSD_6_1:1.19.0.12
	OPENBSD_6_1_BASE:1.19
	OPENBSD_6_0:1.19.0.8
	OPENBSD_6_0_BASE:1.19
	OPENBSD_5_9:1.19.0.4
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.19.0.6
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.19.0.2
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.18.0.4
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.17.0.4
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.16.0.12
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.16.0.10
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.16.0.8
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.6
	OPENBSD_5_0:1.16.0.4
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.15.0.2
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.14.0.10
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.14.0.12
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.8
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.14.0.6
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.14.0.4
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.10.0.2
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.9.0.14
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.12
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.10
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.8
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.9.0.6
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.9.0.4
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.7.0.10
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.7.0.8
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.7.0.6
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.7.0.4
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_9:1.7.0.2
	OPENBSD_2_8:1.6.0.4
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.4.0.2
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.2.0.10
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.8
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.19
date	2015.01.22.19.10.17;	author krw;	state Exp;
branches;
next	1.18;
commitid	F8iineN7ioDJiF7M;

1.18
date	2014.06.03.21.20.40;	author jmc;	state Exp;
branches;
next	1.17;
commitid	Tn4xzKTNrJpJayQV;

1.17
date	2013.08.14.06.32.30;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2010.09.03.11.09.29;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2010.07.19.10.01.32;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2007.08.06.19.16.06;	author sobrado;	state Exp;
branches;
next	1.13;

1.13
date	2007.05.31.19.20.20;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.31.17.59.40;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2007.05.30.04.41.34;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2006.12.15.12.16.26;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2003.06.03.02.56.22;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2003.05.02.21.12.48;	author nino;	state Exp;
branches;
next	1.7;

1.7
date	2001.04.05.18.43.10;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.14.14.58.26;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.06.03.17.41;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.06.05.01.21.50;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	98.10.30.00.24.43;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.42.51;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.46.51;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.46.51;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Processing $OpenBSD$ as well as sccs's @@(#) is an OpenBSD extension, and
should stop displaying the line at the 2nd '$'. Clarify intended behaviour
in man page.

ok millert@@ beck@@ deraadt@@
@
text
@.\"	$OpenBSD: what.1,v 1.18 2014/06/03 21:20:40 jmc Exp $
.\"	$NetBSD: what.1,v 1.3 1994/11/17 06:59:38 jtc Exp $
.\"
.\" Copyright (c) 1980, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @@(#)what.1	8.1 (Berkeley) 6/6/93
.\"
.Dd $Mdocdate: June 3 2014 $
.Dt WHAT 1
.Os
.Sh NAME
.Nm what
.Nd show what versions of object modules were used to construct a file
.Sh SYNOPSIS
.Nm what
.Op Fl s
.Ar
.Sh DESCRIPTION
.Nm
reads each
.Ar file
and searches for sequences of either the form
.Sq $
immediately followed by the system name (sysname) as defined by
.Xr uname 3 ,
or the form
.Dq @@(#)
as inserted by the source code control system (SCCS).
.Pp
When
.Sq $
followed by the system name is encountered
.Nm
prints the remainder of the string up to a
.Sq $
or any non-printable character.
.Pp
When
.Dq @@(#)
is encountered
.Nm
prints the remainder of the string, up to a NUL, newline, double
quote, backslash, or
.Sq >
character.
.Pp
If the
.Fl s
option is specified, only the first occurrence of an identification string in
each file is printed.
.Sh EXIT STATUS
The
.Nm
utility exits with a return value of 0 if any identification strings were found,
or with a return value of 1 otherwise.
.Sh STANDARDS
The
.Nm
utility is compliant with the
X/Open System Interfaces option of the
.St -p1003.1-2008
specification.
.Pp
Processing $sysname$ sequences is an
.Ox
extension.
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.0 .
.Sh BUGS
As
.Bx
is not licensed to distribute
.Tn SCCS ,
this is a rewrite of the
.Nm
command which is part of
.Tn SCCS .
As such it may not behave exactly the same as that
command does.
@


1.18
log
@mark as xsi;
\*(Gt -> >, per ingo;
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.17 2013/08/14 06:32:30 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: August 14 2013 $
d54 14
a67 2
It prints the remainder
of the string following this marker, up to a NUL, newline, double
d88 4
@


1.17
log
@no longer any need to quote macro lines with >9 args;
From: Jan Stary
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.16 2010/09/03 11:09:29 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: September 3 2010 $
d57 1
a57 1
.Sq \*(Gt
d73 2
a74 1
.St -xpg4
@


1.16
log
@add an EXIT STATUS section for /usr/bin;
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.15 2010/07/19 10:01:32 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: July 19 2010 $
d38 1
a38 1
.Nd "show what versions of object modules were used to construct a file"
@


1.15
log
@remove non-standard section header; from Daniel Dickman
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.14 2007/08/06 19:16:06 sobrado Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
d64 1
a64 1
.Pp
@


1.14
log
@the ellipsis is not an optional argument; while here, sync the usage
and synopsis of commands

lots of good ideas by jmc@@

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.13 2007/05/31 19:20:20 jmc Exp $
d64 1
a64 1
.Sh EXIT STATUS
@


1.13
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.12 2007/05/31 17:59:40 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
d42 1
a42 1
.Ar file Op Ar ...
@


1.12
log
@- note some apps which are xpg4, not posix
- note that some apps are optional to posix

after some discussion w/ otto
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.11 2007/05/30 04:41:34 jmc Exp $
d33 1
a33 1
.Dd May 1, 2003
@


1.11
log
@- use a consistent text for STANDARDS
- note which options are extensions to POSIX
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.10 2006/12/15 12:16:26 jmc Exp $
d73 1
a73 1
.St -p1003.1-2004
@


1.10
log
@minor tweaks, partly from ru@@freebsd;
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.9 2003/06/03 02:56:22 millert Exp $
d72 2
a73 2
utility is expected to be a superset of the
.St -p1003.1
@


1.9
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.8 2003/05/02 21:12:48 nino Exp $
d48 1
a48 1
.Dq $
d52 2
a53 2
.Dq \&@@(#)
as inserted by the source code control system.
d57 1
a57 1
.Ql >
@


1.8
log
@Update to conform to Posix 1003.1-2001.

* what now accepts a -s parameter which causes
it to quit searching after finding the first match.

* stdin is no longer valid for input, one or more
filenames have to be provided.

* Backslash is recoqnized as a pattern delimiter.

* The exit status reflects the number of mathes
found (0 if any matches were found, 1 otherwise).

Also replace strncpy -> strlcpy.

Mostly a sync with netbsd.

Input pjanzen@@, vincent@@.

ok millert@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.7 2001/04/05 18:43:10 deraadt Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.7
log
@document RCS $OpenBSD matching; adrian@@ubergeeks.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.6 2000/03/14 14:58:26 aaron Exp $
d37 1
a37 1
.Dd June 6, 1993
d45 2
a46 1
.Ar name Op Ar ...
d49 2
a50 2
reads each file
.Ar name
d59 2
a60 2
of the string following this marker, up to a null character, newline, double
quote, or
d63 16
d88 1
a88 1
.Tn SCCS
d92 2
a93 2
.Tn SCCS ,
and may not behave exactly the same as that
@


1.6
log
@Finish off cleanup usr.bin/ man pages.
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.5 2000/03/06 03:17:41 aaron Exp $
d50 5
a54 1
and searches for sequences of the form
@


1.5
log
@Some section re-ordering.
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.4 1999/06/05 01:21:50 aaron Exp $
d47 1
a47 1
.Nm what
d52 2
a53 1
as inserted by the source code control system.  It prints the remainder
d56 1
a56 1
.Dq \&>
d69 1
a69 1
.Nm what
@


1.4
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.3 1998/10/30 00:24:43 aaron Exp $
d57 5
a72 5
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.0 .
@


1.3
log
@usr.bin/ man page fixes, t-z
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.2 1996/06/26 05:42:51 deraadt Exp $
d39 1
a39 1
.Os BSD 4
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: what.1,v 1.3 1994/11/17 06:59:38 jtc Exp $
d45 1
a45 1
.Ar name Ar ...
d47 1
a47 1
.Nm What
d55 2
a56 1
.Dq \&> character.
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
