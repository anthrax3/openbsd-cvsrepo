head	1.18;
access;
symbols
	OPENBSD_4_1:1.17.0.8
	OPENBSD_4_1_BASE:1.17
	OPENBSD_4_0:1.17.0.6
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.17.0.4
	OPENBSD_3_9_BASE:1.17
	OPENBSD_3_8:1.17.0.2
	OPENBSD_3_8_BASE:1.17
	OPENBSD_3_7:1.15.0.2
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.10.0.8
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.10.0.6
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.10.0.4
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.10.0.2
	OPENBSD_3_3_BASE:1.10
	OPENBSD_3_2:1.8.0.2
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.7.0.2
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_9:1.3.0.6
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	SUDO_1_6_0:1.1.1.1
	COURTESAN:1.1.1;
locks; strict;
comment	@.\" @;


1.18
date	2007.07.26.16.10.16;	author millert;	state dead;
branches;
next	1.17;

1.17
date	2005.06.19.22.00.08;	author millert;	state Exp;
branches;
next	1.16;

1.16
date	2005.05.31.21.13.43;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	2005.02.05.23.31.53;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	2004.11.29.17.29.05;	author millert;	state Exp;
branches;
next	1.13;

1.13
date	2004.11.17.18.14.06;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2004.11.12.16.37.38;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2004.09.28.15.10.51;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2003.03.15.21.23.54;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2003.02.14.17.18.29;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2002.04.25.15.49.03;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2002.01.17.01.03.21;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	2002.01.14.00.11.44;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2002.01.03.03.49.16;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.17.23.49.21;	author pjanzen;	state Exp;
branches
	1.4.2.1;
next	1.3;

1.3
date	2000.03.27.03.44.39;	author millert;	state Exp;
branches
	1.3.6.1;
next	1.2;

1.2
date	2000.01.24.04.22.53;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	99.11.18.16.29.01;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.11.18.16.29.01;	author millert;	state Exp;
branches;
next	;

1.3.6.1
date	2002.01.18.17.20.23;	author millert;	state Exp;
branches;
next	;

1.4.2.1
date	2002.01.18.16.14.46;	author millert;	state Exp;
branches;
next	;


desc
@@


1.18
log
@Update to sudo 1.6.9p1.  Note that the environment handling in sudo
1.6.9 has changed relative to older versions.  Sudo now starts
commands with a minimal environment containing the variables in the
env_keep and env_check lists.  This behavior is configurable in the
sudoers file.  Please see the "SECURITY NOTES" section in the sudo
manual.
@
text
@.\" Copyright (c) 1996,1998-2003 Todd C. Miller <Todd.Miller@@courtesan.com>
.\" 
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\" 
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\" ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\" 
.\" Sponsored in part by the Defense Advanced Research Projects
.\" Agency (DARPA) and Air Force Research Laboratory, Air Force
.\" Materiel Command, USAF, under agreement number F39502-99-1-0512.
.\" 
.\" $Sudo: visudo.pod,v 1.39 2004/09/06 20:45:27 millert Exp $
.\" Automatically generated by Pod::Man v1.37, Pod::Parser v1.14
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used to
.\" do unbreakable dashes and therefore won't be available.  \*(C` and \*(C'
.\" expand to `' in nroff, nothing in troff, for use with C<>.
.tr \(*W-|\(bv\*(Tr
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` 
.    ds C' 
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.hy 0
.if n .na
.\"
.\" Accent mark definitions (@@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "VISUDO 8"
.TH VISUDO 8 "June 20, 2005" "1.6.8p9" "MAINTENANCE COMMANDS"
.SH "NAME"
visudo \- edit the sudoers file
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBvisudo\fR [ \fB\-c\fR ] [ \fB\-f\fR \fIsudoers\fR ] [ \fB\-q\fR ] [ \fB\-s\fR ] [ \fB\-V\fR ]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBvisudo\fR edits the \fIsudoers\fR file in a safe fashion, analogous to
vipw(8).  \fBvisudo\fR locks the \fIsudoers\fR file against multiple
simultaneous edits, provides basic sanity checks, and checks
for parse errors.  If the \fIsudoers\fR file is currently being
edited you will receive a message to try again later.
.PP
There is a hard-coded list of editors that \fBvisudo\fR will use set
at compile-time that may be overridden via the \fIeditor\fR \fIsudoers\fR
\&\f(CW\*(C`Default\*(C'\fR variable.  This list defaults to the path to \fIvi\fR\|(1) on
your system, as determined by the \fIconfigure\fR script.  Normally,
\&\fBvisudo\fR does not honor the \f(CW\*(C`VISUAL\*(C'\fR or \f(CW\*(C`EDITOR\*(C'\fR environment
variables unless they contain an editor in the aforementioned editors
list.  However, if \fBvisudo\fR is configured with the \fI\-\-with\-enveditor\fR
flag or the \fIenveditor\fR \f(CW\*(C`Default\*(C'\fR variable is set in \fIsudoers\fR,
\&\fBvisudo\fR will use any the editor defines by \f(CW\*(C`VISUAL\*(C'\fR or \f(CW\*(C`EDITOR\*(C'\fR.
Note that this can be a security hole since it allows the user to
execute any program they wish simply by setting \f(CW\*(C`VISUAL\*(C'\fR or \f(CW\*(C`EDITOR\*(C'\fR.
.PP
\&\fBvisudo\fR parses the \fIsudoers\fR file after the edit and will
not save the changes if there is a syntax error.  Upon finding
an error, \fBvisudo\fR will print a message stating the line number(s)
where the error occurred and the user will receive the
\&\*(L"What now?\*(R" prompt.  At this point the user may enter \*(L"e\*(R"
to re-edit the \fIsudoers\fR file, \*(L"x\*(R" to exit without
saving the changes, or \*(L"Q\*(R" to quit and save changes.  The
\&\*(L"Q\*(R" option should be used with extreme care because if \fBvisudo\fR
believes there to be a parse error, so will \fBsudo\fR and no one
will be able to \fBsudo\fR again until the error is fixed.
If \*(L"e\*(R" is typed to edit the  \fIsudoers\fR file after a parse error
has been detected, the cursor will be placed on the line where the
error occurred (if the editor supports this feature).
.SH "OPTIONS"
.IX Header "OPTIONS"
\&\fBvisudo\fR accepts the following command line options:
.IP "\-c" 4
.IX Item "-c"
Enable \fBcheck-only\fR mode.  The existing \fIsudoers\fR file will be
checked for syntax and a message will be printed to the
standard output detailing the status of \fIsudoers\fR.
If the syntax check completes successfully, \fBvisudo\fR will
exit with a value of 0.  If a syntax error is encountered,
\&\fBvisudo\fR will exit with a value of 1.
.IP "\-f" 4
.IX Item "-f"
Specify and alternate \fIsudoers\fR file location.  With this option
\&\fBvisudo\fR will edit (or check) the \fIsudoers\fR file of your choice,
instead of the default, \fI/etc/sudoers\fR.  The lock file used
is the specified \fIsudoers\fR file with \*(L".tmp\*(R" appended to it.
.IP "\-q" 4
.IX Item "-q"
Enable \fBquiet\fR mode.  In this mode details about syntax errors
are not printed.  This option is only useful when combined with
the \fB\-c\fR flag.
.IP "\-s" 4
.IX Item "-s"
Enable \fBstrict\fR checking of the \fIsudoers\fR file.  If an alias is
used before it is defined, \fBvisudo\fR will consider this a parse
error.  Note that it is not possible to differentiate between an
alias and a hostname or username that consists solely of uppercase
letters, digits, and the underscore ('_') character.
.IP "\-V" 4
.IX Item "-V"
The \fB\-V\fR (version) option causes \fBvisudo\fR to print its version number
and exit.
.SH "ENVIRONMENT"
.IX Header "ENVIRONMENT"
The following environment variables are used only if \fBvisudo\fR
was configured with the \fI\-\-with\-env\-editor\fR option:
.PP
.Vb 2
\& VISUAL                 Invoked by visudo as the editor to use
\& EDITOR                 Used by visudo if VISUAL is not set
.Ve
.SH "FILES"
.IX Header "FILES"
.Vb 2
\& /etc/sudoers           List of who can run what
\& /etc/sudoers.tmp       Lock file for visudo
.Ve
.SH "DIAGNOSTICS"
.IX Header "DIAGNOSTICS"
.IP "sudoers file busy, try again later." 4
.IX Item "sudoers file busy, try again later."
Someone else is currently editing the \fIsudoers\fR file.
.IP "/etc/sudoers.tmp: Permission denied" 4
.IX Item "/etc/sudoers.tmp: Permission denied"
You didn't run \fBvisudo\fR as root.
.IP "Can't find you in the passwd database" 4
.IX Item "Can't find you in the passwd database"
Your userid does not appear in the system passwd file.
.IP "Warning: undeclared Alias referenced near ..." 4
.IX Item "Warning: undeclared Alias referenced near ..."
Either you are using a {User,Runas,Host,Cmnd}_Alias before
defining it or you have a user or hostname listed that
consists solely of uppercase letters, digits, and the
underscore ('_') character.  If the latter, you can ignore
the warnings (\fBsudo\fR will not complain).  In \fB\-s\fR (strict)
mode these are errors, not warnings.
.IP "Warning: runas_default set after old value is in use ..." 4
.IX Item "Warning: runas_default set after old value is in use ..."
You have a \fIrunas_default\fR Defaults setting listed in the \fIsudoers\fR
file after its value has already been used.  This means that entries
prior to the \fIrunas_default\fR setting will match based on the default
value of \fIrunas_default\fR (\f(CW\*(C`root\*(C'\fR) whereas entries
\&\fBafter\fR the \fIrunas_default\fR setting will match based on the new
value.  This is usually unintentional and in most cases the
<runas_default> setting should be placed before any \f(CW\*(C`Runas_Alias\*(C'\fR
or User specifications.  In \fB\-s\fR (strict) mode this is an error,
not a warning.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIvi\fR\|(1), sudoers(5), sudo(8), vipw(8)
.SH "AUTHOR"
.IX Header "AUTHOR"
Many people have worked on \fIsudo\fR over the years; this version of
\&\fBvisudo\fR was written by:
.PP
.Vb 1
\& Todd Miller
.Ve
.PP
See the \s-1HISTORY\s0 file in the sudo distribution or visit
http://www.sudo.ws/sudo/history.html for more details.
.SH "CAVEATS"
.IX Header "CAVEATS"
There is no easy way to prevent a user from gaining a root shell if 
the editor used by \fBvisudo\fR allows shell escapes.
.SH "BUGS"
.IX Header "BUGS"
If you feel you have found a bug in \fBvisudo\fR, please submit a bug report
at http://www.sudo.ws/sudo/bugs/
.SH "SUPPORT"
.IX Header "SUPPORT"
Commercial support is available for \fBsudo\fR, see
http://www.sudo.ws/sudo/support.html for details.
.PP
Limited free support is available via the sudo-users mailing list,
see http://www.sudo.ws/mailman/listinfo/sudo\-users to subscribe or
search the archives.
.SH "DISCLAIMER"
.IX Header "DISCLAIMER"
\&\fBVisudo\fR is provided ``\s-1AS\s0 \s-1IS\s0'' and any express or implied warranties,
including, but not limited to, the implied warranties of merchantability
and fitness for a particular purpose are disclaimed.  See the \s-1LICENSE\s0
file distributed with \fBsudo\fR or http://www.sudo.ws/sudo/license.html
for complete details.
@


1.17
log
@Update to sudo 1.6.8p9
@
text
@@


1.16
log
@update to sudo 1.6.8p8
@
text
@d152 1
a152 1
.TH VISUDO 8 "March 12, 2005" "1.6.8p8" "MAINTENANCE COMMANDS"
@


1.15
log
@Update to Sudo 1.6.8p7
@
text
@d20 1
a20 1
.\" $Sudo: visudo.man.in,v 1.21 2004/09/06 20:46:28 millert Exp $
d152 1
a152 1
.TH VISUDO 8 "February 5, 2005" "1.6.8p7" "MAINTENANCE COMMANDS"
@


1.14
log
@update to sudo 1.6.8p5
@
text
@d152 1
a152 1
.TH VISUDO 8 "November 26, 2004" "1.6.8p5" "MAINTENANCE COMMANDS"
@


1.13
log
@Update to sudo 1.6.8p4
@
text
@d152 1
a152 1
.TH VISUDO 8 "November 17, 2004" "1.6.8p4" "MAINTENANCE COMMANDS"
@


1.12
log
@Update to sudo 1.6.8p2
@
text
@d152 1
a152 1
.TH VISUDO 8 "November 11, 2004" "1.6.8p2" "MAINTENANCE COMMANDS"
@


1.11
log
@Update to sudo 1.6.8p1
@
text
@d152 1
a152 1
.TH VISUDO 8 "September  6, 2004" "1.6.8" "MAINTENANCE COMMANDS"
@


1.10
log
@update to what will soon be sudo 1.6.7
@
text
@a1 1
.\" All rights reserved.
d3 3
a5 3
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
d7 8
a14 10
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 
.\" 3. The name of the author may not be used to endorse or promote products
.\"    derived from this software without specific prior written permission
.\"    from the author.
d16 3
a18 3
.\" 4. Products derived from this software may not be called "Sudo" nor
.\"    may "Sudo" appear in their names without specific prior written
.\"    permission from the author.
d20 2
a21 13
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
.\" INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
.\" AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL
.\" THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
.\" EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
.\" PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
.\" OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
.\" WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
.\" OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
.\" ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\" 
.\" $Sudo: visudo.man.in,v 1.14 2003/03/15 20:33:31 millert Exp $
.\" Automatically generated by Pod::Man v1.34, Pod::Parser v1.13
d152 1
a152 1
.TH VISUDO 8 "March 13, 2003" "1.6.7" "MAINTENANCE COMMANDS"
d161 1
a161 1
\&\fIvipw\fR\|(8).  \fBvisudo\fR locks the \fIsudoers\fR file against multiple
d170 1
a170 1
\&\fBvisudo\fR does not honor the \f(CW\*(C`EDITOR\*(C'\fR or \f(CW\*(C`VISUAL\*(C'\fR environment
d174 1
a174 1
\&\fBvisudo\fR will use any the editor defines by \f(CW\*(C`EDITOR\*(C'\fR or \f(CW\*(C`VISUAL\*(C'\fR.
d176 1
a176 1
execute any program they wish simply by setting \f(CW\*(C`EDITOR\*(C'\fR or \f(CW\*(C`VISUAL\*(C'\fR.
d206 1
a206 1
instead of the default, \f(CW@@sysconfdir\fR@@/sudoers.  The lock file used
d224 17
a240 2
.SH "ERRORS"
.IX Header "ERRORS"
d258 14
a271 15
.SH "ENVIRONMENT"
.IX Header "ENVIRONMENT"
The following environment variables are used only if \fBvisudo\fR
was configured with the \fI\-\-with\-env\-editor\fR option:
.PP
.Vb 2
\& EDITOR                 Invoked by visudo as the editor to use
\& VISUAL                 Used Invoked visudo if EDITOR is not set
.Ve
.SH "FILES"
.IX Header "FILES"
.Vb 2
\& /etc/sudoers           List of who can run what
\& /etc/sudoers.tmp       Lock file for visudo
.Ve
d278 1
a278 1
\& Todd Miller            <Todd.Miller@@courtesan.com>
d283 4
d289 1
a289 1
If you feel you have found a bug in sudo, please submit a bug report
d291 8
d303 3
a305 9
and fitness for a particular purpose are disclaimed.
See the \s-1LICENSE\s0 file distributed with \fBsudo\fR for complete details.
.SH "CAVEATS"
.IX Header "CAVEATS"
There is no easy way to prevent a user from gaining a root shell if 
the editor used by \fBvisudo\fR allows shell escapes.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIvi\fR\|(1), \fIsudoers\fR\|(5), \fIsudo\fR\|(8), \fIvipw\fR\|(8)
@


1.9
log
@Pull in copyright info from the respective .pod files which gets lost
in the conversion from pod -> man (since it is just a comment).
This will probably get lost again the next time I update sudo but
all the copyright info is in the LICENSE file anyway...
@
text
@d1 1
a1 4
.\" Automatically generated by Pod::Man version 1.15
.\" Thu Apr 25 09:34:54 2002
.\" 
.\" Copyright (c) 1996,1998-2002 Todd C. Miller <Todd.Miller@@courtesan.com>
d33 3
d38 1
a38 1
.\" ======================================================================
a50 6
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
a57 1

d63 3
a65 3
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used
.\" to do unbreakable dashes and therefore won't be available.  \*(C` and
.\" \*(C' expand to `' in nroff, nothing in troff, for use with C<>
d85 4
a88 4
.\" If the F register is turned on, we'll generate index entries on stderr
.\" for titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and
.\" index entries marked with X<> in POD.  Of course, you'll have to process
.\" the output yourself in some meaningful fashion.
d97 2
a98 2
.\" For nroff, turn off justification.  Always turn off hyphenation; it
.\" makes way too many mistakes in technical documents.
a103 1
.bd B 3
d163 1
a163 1
.\" ======================================================================
d165 2
a166 3
.IX Title "visudo 8"
.TH visudo 8 "1.6.6" "April 25, 2002" "MAINTENANCE COMMANDS"
.UC
d186 1
a186 1
list.  However, if \fBvisudo\fR is configured with the \fI\*(--with-enveditor\fR
d194 1
a194 1
an error, \fBvisudo\fR will print a message stating the line \fInumber\fR\|(s)
d208 1
a208 1
.Ip "\-c" 4
d216 1
a216 1
.Ip "\-f" 4
d222 1
a222 1
.Ip "\-q" 4
d227 1
a227 1
.Ip "\-s" 4
d234 1
a234 1
.Ip "\-V" 4
d240 1
a240 1
.Ip "sudoers file busy, try again later." 4
d243 1
a243 1
.Ip "/etc/sudoers.tmp: Permission denied" 4
d246 1
a246 1
.Ip "Can't find you in the passwd database" 4
d249 1
a249 1
.Ip "Warning: undeclared Alias referenced near ..." 4
d260 1
a260 1
was configured with the \fI\*(--with-env-editor\fR option:
d280 1
d299 1
a299 1
\&\fIvi\fR\|(1), \fIsudo\fR\|(8), \fIvipw\fR\|(8).
@


1.8
log
@Update to sudo 1.6.6
@
text
@d3 33
@


1.7
log
@update to sudo 1.6.5
@
text
@d2 1
a2 1
.\" Wed Jan 16 16:36:10 2002
d141 1
a141 1
.TH visudo 8 "1.6.5" "January 16, 2002" "MAINTENANCE COMMANDS"
@


1.6
log
@sync with sudo 1.6.4-final
@
text
@d2 1
a2 1
.\" Sat Jan 12 15:54:25 2002
d141 1
a141 1
.TH visudo 8 "1.6.4" "January 12, 2002" "MAINTENANCE COMMANDS"
@


1.5
log
@Update to sudo 1.6.4
@
text
@d2 1
a2 1
.\" Wed Dec 12 13:27:24 2001
d141 1
a141 1
.TH visudo 8 "1.6.4" "December 12, 2001" "MAINTENANCE COMMANDS"
d257 1
a257 1
http://www.courtesan.com/sudo/history.html for more details.
d261 1
a261 1
at http://www.courtesan.com/sudo/bugs/
@


1.4
log
@Typo and grammar fixes, one from PR/2058 (Dennis Schwarz); ok millert@@
@
text
@d1 6
a6 13
.rn '' }`
''' $RCSfile: visudo.8,v $$Revision: 1.3 $$Date: 2000/03/27 03:44:39 $
'''
''' $Log: visudo.8,v $
''' Revision 1.3  2000/03/27 03:44:39  millert
''' sudo 1.6.3; see http://www.courtesan.com/sudo/current.html for a list
''' of changes.
'''
''' Revision 1.4  2000/03/27 03:26:24  millert
''' Use 8 and 5 in the man page bodies as well.
'''
'''
.de Sh
d14 1
a14 1
.de Sp
d18 1
a18 1
.de Ip
d24 1
a24 1
.de Vb
d29 1
a29 1
.de Ve
d34 6
a39 6
'''
'''
'''     Set up \*(-- to give an unbreakable dash;
'''     string Tr holds user defined translation string.
'''     Bell System Logo is used as a dummy character.
'''
d41 1
d43 8
a50 20
.ds -- \(*W-
.ds PI pi
.if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\" diablo 12 pitch
.ds L" ""
.ds R" ""
'''   \*(M", \*(S", \*(N" and \*(T" are the equivalent of
'''   \*(L" and \*(R", except that they are used on ".xx" lines,
'''   such as .IP and .SH, which do another additional levels of
'''   double-quote interpretation
.ds M" """
.ds S" """
.ds N" """""
.ds T" """""
.ds L' '
.ds R' '
.ds M' '
.ds S' '
.ds N' '
.ds T' '
d53 4
a56 15
.ds -- \(em\|
.tr \*(Tr
.ds L" ``
.ds R" ''
.ds M" ``
.ds S" ''
.ds N" ``
.ds T" ''
.ds L' `
.ds R' '
.ds M' `
.ds S' '
.ds N' `
.ds T' '
.ds PI \(*p
d58 8
a65 12
.\"	If the F register is turned on, we'll generate
.\"	index entries out stderr for the following things:
.\"		TH	Title 
.\"		SH	Header
.\"		Sh	Subsection 
.\"		Ip	Item
.\"		X<>	Xref  (embedded
.\"	Of course, you have to process the output yourself
.\"	in some meaningful fashion.
.if \nF \{
.de IX
.tm Index:\\$1\t\\n%\t"\\$2"
d67 2
a68 2
.nr % 0
.rr F
d70 4
a73 3
.TH visudo 8 "1.6.3" "26/Mar/2000" "MAINTENANCE COMMANDS"
.UC
.if n .hy 0
d75 3
a77 12
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.de CQ          \" put $1 in typewriter font
.ft CW
'if n "\c
'if t \\&\\$1\c
'if n \\&\\$1\c
'if n \&"
\\&\\$2 \\$3 \\$4 \\$5 \\$6 \\$7
'.ft R
..
.\" @@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2
.	\" AM - accent mark definitions
d79 1
a79 1
.	\" fudge factors for nroff and troff
d81 5
a85 5
.	ds #H 0
.	ds #V .8m
.	ds #F .3m
.	ds #[ \f1
.	ds #] \fP
d88 5
a92 5
.	ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.	ds #V .6m
.	ds #F 0
.	ds #[ \&
.	ds #] \&
d94 1
a94 1
.	\" simple accents for nroff and troff
d96 6
a101 9
.	ds ' \&
.	ds ` \&
.	ds ^ \&
.	ds , \&
.	ds ~ ~
.	ds ? ?
.	ds ! !
.	ds /
.	ds q
d104 6
a109 9
.	ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.	ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.	ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.	ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.	ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.	ds ? \s-2c\h'-\w'c'u*7/10'\u\h'\*(#H'\zi\d\s+2\h'\w'c'u*8/10'
.	ds ! \s-2\(or\s+2\h'-\w'\(or'u'\v'-.8m'.\v'.8m'
.	ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.	ds q o\h'-\w'o'u*8/10'\s-4\v'.4m'\z\(*i\v'-.4m'\s+4\h'\w'o'u*8/10'
d111 1
a111 1
.	\" troff and (daisy-wheel) nroff accents
a113 4
.ds v \\k:\h'-(\\n(.wu*9/10-\*(#H)'\v'-\*(#V'\*(#[\s-4v\s0\v'\*(#V'\h'|\\n:u'\*(#]
.ds _ \\k:\h'-(\\n(.wu*9/10-\*(#H+(\*(#F*2/3))'\v'-.4m'\z\(hy\v'.4m'\h'|\\n:u'
.ds . \\k:\h'-(\\n(.wu*8/10)'\v'\*(#V*4/10'\z.\v'-\*(#V*4/10'\h'|\\n:u'
.ds 3 \*(#[\v'.2m'\s-2\&3\s0\v'-.2m'\*(#]
d121 1
a121 3
.ds oe o\h'-(\w'o'u*4/10)'e
.ds Oe O\h'-(\w'O'u*4/10)'E
.	\" corrections for vroff
d124 1
a124 1
.	\" for low resolution devices (crt and lpr)
d127 9
a135 15
.	ds : e
.	ds 8 ss
.	ds v \h'-1'\o'\(aa\(ga'
.	ds _ \h'-1'^
.	ds . \h'-1'.
.	ds 3 3
.	ds o a
.	ds d- d\h'-1'\(ga
.	ds D- D\h'-1'\(hy
.	ds th \o'bp'
.	ds Th \o'LP'
.	ds ae ae
.	ds Ae AE
.	ds oe oe
.	ds Oe OE
d138 5
d146 2
a147 1
\fBvisudo\fR [ \fB\-s\fR ] [ \fB\-V\fR ]
d149 3
a151 2
\fBvisudo\fR edits the \fIsudoers\fR file in a safe fashion, analogous to
\fIvipw\fR\|(8).  \fBvisudo\fR locks the \fIsudoers\fR file against multiple
d154 13
a166 4
edited you will receive a message to try again later.  In the
default configuration, the \fIvi\fR\|(1) editor is used, but there is
a compile-time option to allow use of whatever editor the
environment variables \f(CWEDITOR\fR or \f(CWVISUAL\fR are set to.
d168 1
a168 1
\fBvisudo\fR parses the \fIsudoers\fR file after the edit and will
d171 2
a172 2
that the error occurred on and the user will receive the
\*(L"What now?\*(R" prompt.  At this point the user may enter \*(L"e\*(R"
d175 1
a175 1
\*(L"Q\*(R" option should be used with extreme care because if \fBvisudo\fR
d177 4
a180 5
will be able to use \fBsudo\fR again until the error is fixed.
Any other command at this prompt will print a short help message.
If \*(L"e\*(R" is typed to edit the \fIsudoers\fR file after a parse error
has been detected, the cursor will be placed on the line where the error
occurred (if the editor supports this feature).
d182 23
a204 2
\fBvisudo\fR accepts the following command line options:
.Ip "-s" 4
d208 1
a208 1
alias and a hostname or username that consists solely of upper case
d210 3
a212 2
.Ip "-V" 4
The \f(CW-V\fR (version) option causes \fBvisudo\fR to print its version number
d215 1
d217 1
d220 1
d223 1
d226 1
d229 1
a229 1
consists solely of upper case letters, digits, and the
d234 1
d236 1
a236 1
was configured with the \fI--with-env-editor\fR option:
d239 2
a240 2
\& EDITOR                 Invoked by visudo as the editor
\& VISUAL                 Invoked by visudo if EDITOR is not set
d243 1
a243 1
.PP
d249 3
a251 2
Many people have worked on \fIsudo\fR over the years.  This version of
\fBvisudo\fR was written by:
d256 2
a257 1
See the HISTORY file in the sudo distribution for more details.
d259 1
d263 2
a264 1
\fBVisudo\fR is provided ``AS IS'\*(R' and any express or implied warranties,
d267 1
a267 1
See the LICENSE file distributed with \fBsudo\fR for complete details.
d269 1
a272 40
\fIsudo\fR\|(8), \fIvipw\fR\|(8).

.rn }` ''
.IX Title "visudo 8"
.IX Name "visudo - edit the sudoers file"

.IX Header "NAME"

.IX Header "SYNOPSIS"

.IX Header "DESCRIPTION"

.IX Header "OPTIONS"

.IX Item "-s"

.IX Item "-V"

.IX Header "ERRORS"

.IX Item "sudoers file busy, try again later."

.IX Item "/etc/sudoers.tmp: Permission denied"

.IX Item "Can't find you in the passwd database"

.IX Item "Warning: undeclared Alias referenced near ..."

.IX Header "ENVIRONMENT"

.IX Header "FILES"

.IX Header "AUTHOR"

.IX Header "BUGS"

.IX Header "DISCLAIMER"

.IX Header "CAVEATS"

d274 1
a274 1

@


1.4.2.1
log
@update to sudo 1.6.5p1
@
text
@d1 13
a13 6
.\" Automatically generated by Pod::Man version 1.15
.\" Wed Jan 16 16:36:10 2002
.\"
.\" Standard preamble:
.\" ======================================================================
.de Sh \" Subsection heading
d21 1
a21 1
.de Sp \" Vertical space (when we can't use .PP)
d25 1
a25 1
.de Ip \" List item
d31 1
a31 1
.de Vb \" Begin verbatim text
d36 1
a36 1
.de Ve \" End verbatim text
d41 6
a46 6
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used
.\" to do unbreakable dashes and therefore won't be available.  \*(C` and
.\" \*(C' expand to `' in nroff, nothing in troff, for use with C<>
a47 1
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
d49 20
a68 8
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` 
.    ds C' 
d71 15
a85 4
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
d87 12
a98 8
.\"
.\" If the F register is turned on, we'll generate index entries on stderr
.\" for titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and
.\" index entries marked with X<> in POD.  Of course, you'll have to process
.\" the output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
d100 2
a101 2
.    nr % 0
.    rr F
d103 3
a105 4
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it
.\" makes way too many mistakes in technical documents.
.hy 0
d107 12
a118 3
.\"
.\" Accent mark definitions (@@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
d120 1
a120 1
.    \" fudge factors for nroff and troff
d122 5
a126 5
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
d129 5
a133 5
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
d135 1
a135 1
.    \" simple accents for nroff and troff
d137 9
a145 6
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
d148 9
a156 6
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
d158 1
a158 1
.    \" troff and (daisy-wheel) nroff accents
d161 4
d172 3
a174 1
.    \" corrections for vroff
d177 1
a177 1
.    \" for low resolution devices (crt and lpr)
d180 15
a194 9
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
a196 5
.\" ======================================================================
.\"
.IX Title "visudo 8"
.TH visudo 8 "1.6.5" "January 16, 2002" "MAINTENANCE COMMANDS"
.UC
d200 1
a200 2
.IX Header "SYNOPSIS"
\&\fBvisudo\fR [ \fB\-c\fR ] [ \fB\-f\fR \fIsudoers\fR ] [ \fB\-q\fR ] [ \fB\-s\fR ] [ \fB\-V\fR ]
d202 2
a203 3
.IX Header "DESCRIPTION"
\&\fBvisudo\fR edits the \fIsudoers\fR file in a safe fashion, analogous to
\&\fIvipw\fR\|(8).  \fBvisudo\fR locks the \fIsudoers\fR file against multiple
d206 4
a209 13
edited you will receive a message to try again later.
.PP
There is a hard-coded list of editors that \fBvisudo\fR will use set
at compile-time that may be overridden via the \fIeditor\fR \fIsudoers\fR
\&\f(CW\*(C`Default\*(C'\fR variable.  This list defaults to the path to \fIvi\fR\|(1) on
your system, as determined by the \fIconfigure\fR script.  Normally,
\&\fBvisudo\fR does not honor the \f(CW\*(C`EDITOR\*(C'\fR or \f(CW\*(C`VISUAL\*(C'\fR environment
variables unless they contain an editor in the aforementioned editors
list.  However, if \fBvisudo\fR is configured with the \fI\*(--with-enveditor\fR
flag or the \fIenveditor\fR \f(CW\*(C`Default\*(C'\fR variable is set in \fIsudoers\fR,
\&\fBvisudo\fR will use any the editor defines by \f(CW\*(C`EDITOR\*(C'\fR or \f(CW\*(C`VISUAL\*(C'\fR.
Note that this can be a security hole since it allows the user to
execute any program they wish simply by setting \f(CW\*(C`EDITOR\*(C'\fR or \f(CW\*(C`VISUAL\*(C'\fR.
d211 1
a211 1
\&\fBvisudo\fR parses the \fIsudoers\fR file after the edit and will
d214 2
a215 2
where the error occurred and the user will receive the
\&\*(L"What now?\*(R" prompt.  At this point the user may enter \*(L"e\*(R"
d218 1
a218 1
\&\*(L"Q\*(R" option should be used with extreme care because if \fBvisudo\fR
d220 5
a224 4
will be able to \fBsudo\fR again until the error is fixed.
If \*(L"e\*(R" is typed to edit the  \fIsudoers\fR file after a parse error
has been detected, the cursor will be placed on the line where the
error occurred (if the editor supports this feature).
d226 2
a227 23
.IX Header "OPTIONS"
\&\fBvisudo\fR accepts the following command line options:
.Ip "\-c" 4
.IX Item "-c"
Enable \fBcheck-only\fR mode.  The existing \fIsudoers\fR file will be
checked for syntax and a message will be printed to the
standard output detailing the status of \fIsudoers\fR.
If the syntax check completes successfully, \fBvisudo\fR will
exit with a value of 0.  If a syntax error is encountered,
\&\fBvisudo\fR will exit with a value of 1.
.Ip "\-f" 4
.IX Item "-f"
Specify and alternate \fIsudoers\fR file location.  With this option
\&\fBvisudo\fR will edit (or check) the \fIsudoers\fR file of your choice,
instead of the default, \f(CW@@sysconfdir\fR@@/sudoers.  The lock file used
is the specified \fIsudoers\fR file with \*(L".tmp\*(R" appended to it.
.Ip "\-q" 4
.IX Item "-q"
Enable \fBquiet\fR mode.  In this mode details about syntax errors
are not printed.  This option is only useful when combined with
the \fB\-c\fR flag.
.Ip "\-s" 4
.IX Item "-s"
d231 1
a231 1
alias and a hostname or username that consists solely of uppercase
d233 2
a234 3
.Ip "\-V" 4
.IX Item "-V"
The \fB\-V\fR (version) option causes \fBvisudo\fR to print its version number
a236 1
.IX Header "ERRORS"
a237 1
.IX Item "sudoers file busy, try again later."
a239 1
.IX Item "/etc/sudoers.tmp: Permission denied"
a241 1
.IX Item "Can't find you in the passwd database"
a243 1
.IX Item "Warning: undeclared Alias referenced near ..."
d246 1
a246 1
consists solely of uppercase letters, digits, and the
a250 1
.IX Header "ENVIRONMENT"
d252 1
a252 1
was configured with the \fI\*(--with-env-editor\fR option:
d255 2
a256 2
\& EDITOR                 Invoked by visudo as the editor to use
\& VISUAL                 Used Invoked visudo if EDITOR is not set
d259 1
a259 1
.IX Header "FILES"
d265 2
a266 3
.IX Header "AUTHOR"
Many people have worked on \fIsudo\fR over the years; this version of
\&\fBvisudo\fR was written by:
d271 1
a271 2
See the \s-1HISTORY\s0 file in the sudo distribution or visit
http://www.sudo.ws/sudo/history.html for more details.
a272 1
.IX Header "BUGS"
d274 1
a274 1
at http://www.sudo.ws/sudo/bugs/
d276 1
a276 2
.IX Header "DISCLAIMER"
\&\fBVisudo\fR is provided ``\s-1AS\s0 \s-1IS\s0'' and any express or implied warranties,
d279 1
a279 1
See the \s-1LICENSE\s0 file distributed with \fBsudo\fR for complete details.
a280 1
.IX Header "CAVEATS"
d284 40
d325 1
a325 1
\&\fIvi\fR\|(1), \fIsudo\fR\|(8), \fIvipw\fR\|(8).
@


1.3
log
@sudo 1.6.3; see http://www.courtesan.com/sudo/current.html for a list
of changes.
@
text
@d2 6
a7 1
''' $RCSfile: visudo.man.in,v $$Revision: 1.4 $$Date: 2000/03/27 03:26:24 $
a8 1
''' $Log: visudo.man.in,v $
d95 1
a95 1
.\"	in some meaninful fashion.
d208 1
a208 1
a compile time option to allow use of whatever editor the
d213 1
a213 1
an error, a message will be printed stating the line \fInumber\fR\|(s)
d216 1
a216 1
to re-edit the \fIsudoers\fR file, enter \*(L"x\*(R" to exit without
d220 1
a220 1
will be able to execute \fBsudo\fR again until the error is fixed.
d222 2
a223 2
When editing the \fIsudoers\fR file after a parse error has been
detected the cursor will be placed on the line where the error
d226 1
a226 1
\fBvisudo\fR accepts the following command line option:
d234 1
a234 1
The \f(CW-V\fR (version) option causes \fBvisudo\fR to print the version number
d249 1
a249 1
mode these are errors not warnings.
d255 2
a256 2
\& EDITOR                 Used by visudo as the editor to use
\& VISUAL                 Used by visudo if EDITOR is not set
d265 1
a265 1
Many people have worked on \fIsudo\fR over the years, this version of
@


1.3.6.1
log
@update to sudo 1.6.5p1
@
text
@d1 9
a9 6
.\" Automatically generated by Pod::Man version 1.15
.\" Wed Jan 16 16:36:10 2002
.\"
.\" Standard preamble:
.\" ======================================================================
.de Sh \" Subsection heading
d17 1
a17 1
.de Sp \" Vertical space (when we can't use .PP)
d21 1
a21 1
.de Ip \" List item
d27 1
a27 1
.de Vb \" Begin verbatim text
d32 1
a32 1
.de Ve \" End verbatim text
d37 6
a42 6
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  | will give a
.\" real vertical bar.  \*(C+ will give a nicer C++.  Capital omega is used
.\" to do unbreakable dashes and therefore won't be available.  \*(C` and
.\" \*(C' expand to `' in nroff, nothing in troff, for use with C<>
a43 1
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
d45 20
a64 8
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` 
.    ds C' 
d67 15
a81 4
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
d83 12
a94 8
.\"
.\" If the F register is turned on, we'll generate index entries on stderr
.\" for titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and
.\" index entries marked with X<> in POD.  Of course, you'll have to process
.\" the output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
d96 2
a97 2
.    nr % 0
.    rr F
d99 3
a101 4
.\"
.\" For nroff, turn off justification.  Always turn off hyphenation; it
.\" makes way too many mistakes in technical documents.
.hy 0
d103 12
a114 3
.\"
.\" Accent mark definitions (@@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
d116 1
a116 1
.    \" fudge factors for nroff and troff
d118 5
a122 5
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
d125 5
a129 5
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
d131 1
a131 1
.    \" simple accents for nroff and troff
d133 9
a141 6
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
d144 9
a152 6
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
d154 1
a154 1
.    \" troff and (daisy-wheel) nroff accents
d157 4
d168 3
a170 1
.    \" corrections for vroff
d173 1
a173 1
.    \" for low resolution devices (crt and lpr)
d176 15
a190 9
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
a192 5
.\" ======================================================================
.\"
.IX Title "visudo 8"
.TH visudo 8 "1.6.5" "January 16, 2002" "MAINTENANCE COMMANDS"
.UC
d196 1
a196 2
.IX Header "SYNOPSIS"
\&\fBvisudo\fR [ \fB\-c\fR ] [ \fB\-f\fR \fIsudoers\fR ] [ \fB\-q\fR ] [ \fB\-s\fR ] [ \fB\-V\fR ]
d198 2
a199 3
.IX Header "DESCRIPTION"
\&\fBvisudo\fR edits the \fIsudoers\fR file in a safe fashion, analogous to
\&\fIvipw\fR\|(8).  \fBvisudo\fR locks the \fIsudoers\fR file against multiple
d202 4
a205 13
edited you will receive a message to try again later.
.PP
There is a hard-coded list of editors that \fBvisudo\fR will use set
at compile-time that may be overridden via the \fIeditor\fR \fIsudoers\fR
\&\f(CW\*(C`Default\*(C'\fR variable.  This list defaults to the path to \fIvi\fR\|(1) on
your system, as determined by the \fIconfigure\fR script.  Normally,
\&\fBvisudo\fR does not honor the \f(CW\*(C`EDITOR\*(C'\fR or \f(CW\*(C`VISUAL\*(C'\fR environment
variables unless they contain an editor in the aforementioned editors
list.  However, if \fBvisudo\fR is configured with the \fI\*(--with-enveditor\fR
flag or the \fIenveditor\fR \f(CW\*(C`Default\*(C'\fR variable is set in \fIsudoers\fR,
\&\fBvisudo\fR will use any the editor defines by \f(CW\*(C`EDITOR\*(C'\fR or \f(CW\*(C`VISUAL\*(C'\fR.
Note that this can be a security hole since it allows the user to
execute any program they wish simply by setting \f(CW\*(C`EDITOR\*(C'\fR or \f(CW\*(C`VISUAL\*(C'\fR.
d207 1
a207 1
\&\fBvisudo\fR parses the \fIsudoers\fR file after the edit and will
d209 4
a212 4
an error, \fBvisudo\fR will print a message stating the line \fInumber\fR\|(s)
where the error occurred and the user will receive the
\&\*(L"What now?\*(R" prompt.  At this point the user may enter \*(L"e\*(R"
to re-edit the \fIsudoers\fR file, \*(L"x\*(R" to exit without
d214 1
a214 1
\&\*(L"Q\*(R" option should be used with extreme care because if \fBvisudo\fR
d216 5
a220 4
will be able to \fBsudo\fR again until the error is fixed.
If \*(L"e\*(R" is typed to edit the  \fIsudoers\fR file after a parse error
has been detected, the cursor will be placed on the line where the
error occurred (if the editor supports this feature).
d222 2
a223 23
.IX Header "OPTIONS"
\&\fBvisudo\fR accepts the following command line options:
.Ip "\-c" 4
.IX Item "-c"
Enable \fBcheck-only\fR mode.  The existing \fIsudoers\fR file will be
checked for syntax and a message will be printed to the
standard output detailing the status of \fIsudoers\fR.
If the syntax check completes successfully, \fBvisudo\fR will
exit with a value of 0.  If a syntax error is encountered,
\&\fBvisudo\fR will exit with a value of 1.
.Ip "\-f" 4
.IX Item "-f"
Specify and alternate \fIsudoers\fR file location.  With this option
\&\fBvisudo\fR will edit (or check) the \fIsudoers\fR file of your choice,
instead of the default, \f(CW@@sysconfdir\fR@@/sudoers.  The lock file used
is the specified \fIsudoers\fR file with \*(L".tmp\*(R" appended to it.
.Ip "\-q" 4
.IX Item "-q"
Enable \fBquiet\fR mode.  In this mode details about syntax errors
are not printed.  This option is only useful when combined with
the \fB\-c\fR flag.
.Ip "\-s" 4
.IX Item "-s"
d227 1
a227 1
alias and a hostname or username that consists solely of uppercase
d229 2
a230 3
.Ip "\-V" 4
.IX Item "-V"
The \fB\-V\fR (version) option causes \fBvisudo\fR to print its version number
a232 1
.IX Header "ERRORS"
a233 1
.IX Item "sudoers file busy, try again later."
a235 1
.IX Item "/etc/sudoers.tmp: Permission denied"
a237 1
.IX Item "Can't find you in the passwd database"
a239 1
.IX Item "Warning: undeclared Alias referenced near ..."
d242 1
a242 1
consists solely of uppercase letters, digits, and the
d245 1
a245 1
mode these are errors, not warnings.
a246 1
.IX Header "ENVIRONMENT"
d248 1
a248 1
was configured with the \fI\*(--with-env-editor\fR option:
d251 2
a252 2
\& EDITOR                 Invoked by visudo as the editor to use
\& VISUAL                 Used Invoked visudo if EDITOR is not set
d255 1
a255 1
.IX Header "FILES"
d261 2
a262 3
.IX Header "AUTHOR"
Many people have worked on \fIsudo\fR over the years; this version of
\&\fBvisudo\fR was written by:
d267 1
a267 2
See the \s-1HISTORY\s0 file in the sudo distribution or visit
http://www.sudo.ws/sudo/history.html for more details.
a268 1
.IX Header "BUGS"
d270 1
a270 1
at http://www.sudo.ws/sudo/bugs/
d272 1
a272 2
.IX Header "DISCLAIMER"
\&\fBVisudo\fR is provided ``\s-1AS\s0 \s-1IS\s0'' and any express or implied warranties,
d275 1
a275 1
See the \s-1LICENSE\s0 file distributed with \fBsudo\fR for complete details.
a276 1
.IX Header "CAVEATS"
d280 40
d321 1
a321 1
\&\fIvi\fR\|(1), \fIsudo\fR\|(8), \fIvipw\fR\|(8).
@


1.2
log
@sudo 1.6.2
@
text
@d2 1
a2 1
''' $RCSfile: visudo.man,v $$Revision: 1.15 $$Date: 2000/01/17 17:28:41 $
d4 3
a6 3
''' $Log: visudo.man,v $
''' Revision 1.15  2000/01/17 17:28:41  millert
''' Crank version to 1.6.2
d99 1
a99 1
.TH visudo 8 "1.6.2" "4/Dec/1999" "MAINTENANCE COMMANDS"
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
''' $RCSfile: visudo.man,v $$Revision: 1.12 $$Date: 1999/11/16 05:42:28 $
d5 2
a6 2
''' Revision 1.12  1999/11/16 05:42:28  millert
''' get rid of references to sudo-bugs.  Now mention the web site or the sudo@@ alias
d99 1
a99 1
.TH visudo 8 "1.6" "15/Nov/1999" "MAINTENANCE COMMANDS"
d249 1
a249 1
.Sp
d255 1
a255 1
.Sp
d263 1
a263 1
.Sp
d270 1
a270 1
at http://www.courtesan.com/sudo/bugs/.
@


1.1.1.1
log
@sudo 1.6, now with a BSD license
@
text
@@
