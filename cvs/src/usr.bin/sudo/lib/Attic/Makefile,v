head	1.5;
access;
symbols
	OPENBSD_5_7:1.4.0.22
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.26
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.24
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.20
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.18
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.16
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.14
	OPENBSD_5_0:1.4.0.12
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.10
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.8
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.4
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.6
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.2
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.3.0.14
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.12
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.10
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.8
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.6
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.4
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.2
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.2.0.2
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.1.0.4
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.2
	OPENBSD_3_5_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2015.07.03.21.51.54;	author millert;	state dead;
branches;
next	1.4;
commitid	8ra5qnWqy2bUhcZn;

1.4
date	2008.11.14.11.58.08;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	2005.06.21.02.11.43;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2004.09.28.15.10.51;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	2004.01.15.21.32.03;	author millert;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Remove sudo, it is now in ports.
@
text
@#	$OpenBSD: Makefile,v 1.4 2008/11/14 11:58:08 millert Exp $

.PATH:		${.CURDIR}/..

LIB=	sudo
SRCS=	alias.c alloc.c defaults.c error.c fileops.c find_path.c gettime.c \
	goodpath.c list.c match.c redblack.c toke.c gram.c zero_bytes.c
CPPFLAGS+=	-I..

CLEANFILES=	gram.c gram.h toke.c

DEBUGLIBS= no
NOPROFILE= yes

.include <bsd.own.mk>
.if !defined(NOPIC)
CPPFLAGS+= -D_PATH_SUDO_NOEXEC=\"/usr/libexec/sudo_noexec.so\"
NOPIC=	yes
.endif

gram.c gram.h: gram.y
	rm -f gram.c gram.h
	${YACC} -d ${.CURDIR}/../gram.y
	mv -f y.tab.c gram.c
	if cmp -s y.tab.h ../gram.h; then rm -f y.tab.h; else mv -f y.tab.h ../gram.h; fi

toke.c: toke.l
	rm -f toke.c
	${LEX} ${.CURDIR}/../toke.l
	mv -f lex.yy.c toke.c

install:
	@@echo -n

beforedepend: gram.c toke.c

.include <bsd.lib.mk>
@


1.4
log
@Upgrade to sudo 1.7.  See the WHATSNEW files for details.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2005/06/21 02:11:43 brad Exp $
@


1.3
log
@add CLEANFILES

ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2004/09/28 15:10:51 millert Exp $
d6 3
a8 3
SRCS=	alloc.c defaults.c fileops.c find_path.c gettime.c goodpath.c \
	lex.yy.c sudo.tab.c
CPPFLAGS+=	-I.
d10 1
a10 1
CLEANFILES=	lex.yy.c sudo.tab.c sudo.tab.h
d21 10
a30 7
sudo.tab.c sudo.tab.h: parse.yacc
	rm -f sudo.tab.h sudo.tab.c
	${YACC} -d -b sudo ${.CURDIR}/../parse.yacc

lex.yy.c: parse.lex
	rm -f lex.yy.c
	${LEX} ${.CURDIR}/../parse.lex
d34 2
@


1.2
log
@Update to sudo 1.6.8p1
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1 2004/01/15 21:32:03 millert Exp $
d9 2
@


1.1
log
@sudo on OpenBSD no longer runs configure.  You will have to manually
run "rm -f /usr/obj/usr.bin/sudo/*" or "make obj" will fail during
your first build.
@
text
@d1 1
a1 1
#	$OpenBSD$
d6 2
a7 1
SRCS=	sudo.tab.c lex.yy.c alloc.c defaults.c fileops.c goodpath.c find_path.c
d12 4
d17 1
@

