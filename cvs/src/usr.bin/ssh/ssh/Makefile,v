head	1.66;
access;
symbols
	OPENBSD_6_1:1.66.0.8
	OPENBSD_6_1_BASE:1.66
	OPENBSD_6_0:1.66.0.6
	OPENBSD_6_0_BASE:1.66
	OPENBSD_5_9:1.66.0.2
	OPENBSD_5_9_BASE:1.66
	OPENBSD_5_8:1.64.0.4
	OPENBSD_5_8_BASE:1.64
	OPENBSD_5_7:1.64.0.2
	OPENBSD_5_7_BASE:1.64
	OPENBSD_5_6:1.63.0.4
	OPENBSD_5_6_BASE:1.63
	OPENBSD_5_5:1.62.0.6
	OPENBSD_5_5_BASE:1.62
	OPENBSD_5_4:1.62.0.2
	OPENBSD_5_4_BASE:1.62
	OPENBSD_5_3:1.56.0.2
	OPENBSD_5_3_BASE:1.56
	OPENBSD_5_2:1.55.0.8
	OPENBSD_5_2_BASE:1.55
	OPENBSD_5_1_BASE:1.55
	OPENBSD_5_1:1.55.0.6
	OPENBSD_5_0:1.55.0.4
	OPENBSD_5_0_BASE:1.55
	OPENBSD_4_9:1.55.0.2
	OPENBSD_4_9_BASE:1.55
	OPENBSD_4_8:1.54.0.4
	OPENBSD_4_8_BASE:1.54
	OPENBSD_4_7:1.54.0.2
	OPENBSD_4_7_BASE:1.54
	OPENBSD_4_6:1.53.0.4
	OPENBSD_4_6_BASE:1.53
	OPENBSD_4_5:1.52.0.4
	OPENBSD_4_5_BASE:1.52
	OPENBSD_4_4:1.52.0.2
	OPENBSD_4_4_BASE:1.52
	OPENBSD_4_3:1.51.0.18
	OPENBSD_4_3_BASE:1.51
	OPENBSD_4_2:1.51.0.16
	OPENBSD_4_2_BASE:1.51
	OPENBSD_4_1:1.51.0.12
	OPENBSD_4_1_BASE:1.51
	OPENBSD_4_0:1.51.0.14
	OPENBSD_4_0_BASE:1.51
	OPENBSD_3_9:1.51.0.10
	OPENBSD_3_9_BASE:1.51
	OPENBSD_3_8:1.51.0.8
	OPENBSD_3_8_BASE:1.51
	OPENBSD_3_7:1.51.0.6
	OPENBSD_3_7_BASE:1.51
	OPENBSD_3_6:1.51.0.4
	OPENBSD_3_6_BASE:1.51
	OPENBSD_3_5:1.51.0.2
	OPENBSD_3_5_BASE:1.51
	OPENBSD_3_4:1.50.0.2
	OPENBSD_3_4_BASE:1.50
	OPENBSD_3_3:1.42.0.4
	OPENBSD_3_3_BASE:1.42
	OPENBSD_3_2:1.42.0.2
	OPENBSD_3_2_BASE:1.42
	OPENBSD_3_1:1.37.0.2
	OPENBSD_3_1_BASE:1.37
	OPENBSD_3_0:1.36.0.2
	OPENBSD_3_0_BASE:1.36
	OPENBSD_2_9_BASE:1.30
	OPENBSD_2_9:1.30.0.2
	OPENBSD_2_8:1.26.0.2
	OPENBSD_2_8_BASE:1.26
	OPENBSD_2_7:1.24.0.2
	OPENBSD_2_7_BASE:1.24
	OPENBSD_2_6:1.17
	OPENBSD_2_6_BASE:1.17;
locks; strict;
comment	@# @;


1.66
date	2016.01.14.16.17.40;	author markus;	state Exp;
branches;
next	1.65;
commitid	W9ye0gltieEl87AJ;

1.65
date	2015.11.08.22.08.38;	author jmc;	state Exp;
branches;
next	1.64;
commitid	7Mg6m8P2w9HimmGH;

1.64
date	2015.03.03.21.21.13;	author djm;	state Exp;
branches;
next	1.63;
commitid	fcvr9LotYI8aCFuc;

1.63
date	2014.04.29.18.01.49;	author markus;	state Exp;
branches;
next	1.62;

1.62
date	2013.07.20.01.55.13;	author djm;	state Exp;
branches;
next	1.61;

1.61
date	2013.07.02.13.32.38;	author markus;	state Exp;
branches;
next	1.60;

1.60
date	2013.06.19.05.27.06;	author deraadt;	state Exp;
branches;
next	1.59;

1.59
date	2013.06.18.20.27.20;	author miod;	state Exp;
branches;
next	1.58;

1.58
date	2013.06.17.19.23.33;	author robert;	state Exp;
branches;
next	1.57;

1.57
date	2013.05.16.09.12.31;	author dtucker;	state Exp;
branches;
next	1.56;

1.56
date	2012.08.24.19.50.19;	author deraadt;	state Exp;
branches;
next	1.55;

1.55
date	2010.10.13.08.14.22;	author jsg;	state Exp;
branches;
next	1.54;

1.54
date	2009.10.24.11.22.37;	author andreas;	state Exp;
branches;
next	1.53;

1.53
date	2009.05.28.16.50.16;	author andreas;	state Exp;
branches;
next	1.52;

1.52
date	2008.05.09.14.18.45;	author djm;	state Exp;
branches;
next	1.51;

1.51
date	2003.11.21.11.57.03;	author djm;	state Exp;
branches;
next	1.50;

1.50
date	2003.08.28.07.49.13;	author markus;	state Exp;
branches
	1.50.2.1;
next	1.49;

1.49
date	2003.08.24.18.17.36;	author deraadt;	state Exp;
branches;
next	1.48;

1.48
date	2003.08.22.10.56.09;	author markus;	state Exp;
branches;
next	1.47;

1.47
date	2003.07.16.19.10.13;	author deraadt;	state Exp;
branches;
next	1.46;

1.46
date	2003.07.15.19.02.20;	author deraadt;	state Exp;
branches;
next	1.45;

1.45
date	2003.05.17.01.31.21;	author hin;	state Exp;
branches;
next	1.44;

1.44
date	2003.04.10.00.17.52;	author pvalchev;	state Exp;
branches;
next	1.43;

1.43
date	2003.04.09.08.24.24;	author hin;	state Exp;
branches;
next	1.42;

1.42
date	2002.06.20.19.56.07;	author stevesk;	state Exp;
branches
	1.42.2.1
	1.42.4.1;
next	1.41;

1.41
date	2002.05.15.21.56.39;	author markus;	state Exp;
branches;
next	1.40;

1.40
date	2002.05.15.21.02.53;	author markus;	state Exp;
branches;
next	1.39;

1.39
date	2002.05.11.00.20.20;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2002.05.04.03.00.40;	author deraadt;	state Exp;
branches;
next	1.37;

1.37
date	2002.03.05.00.49.51;	author deraadt;	state Exp;
branches
	1.37.2.1;
next	1.36;

1.36
date	2001.09.10.22.44.47;	author jason;	state Exp;
branches
	1.36.2.1;
next	1.35;

1.35
date	2001.06.28.02.32.32;	author hin;	state Exp;
branches;
next	1.34;

1.34
date	2001.06.27.19.29.15;	author markus;	state Exp;
branches;
next	1.33;

1.33
date	2001.06.26.20.14.12;	author markus;	state Exp;
branches;
next	1.32;

1.32
date	2001.06.26.17.52.41;	author dugsong;	state Exp;
branches;
next	1.31;

1.31
date	2001.06.26.16.15.26;	author dugsong;	state Exp;
branches;
next	1.30;

1.30
date	2001.04.14.16.33.20;	author stevesk;	state Exp;
branches
	1.30.2.1;
next	1.29;

1.29
date	2001.03.04.00.51.25;	author markus;	state Exp;
branches;
next	1.28;

1.28
date	2001.03.03.23.59.37;	author markus;	state Exp;
branches;
next	1.27;

1.27
date	2001.01.29.01.58.21;	author niklas;	state Exp;
branches;
next	1.26;

1.26
date	2000.09.03.18.41.19;	author espie;	state Exp;
branches
	1.26.2.1;
next	1.25;

1.25
date	2000.06.29.18.35.47;	author todd;	state Exp;
branches;
next	1.24;

1.24
date	2000.04.26.21.31.58;	author markus;	state Exp;
branches
	1.24.2.1;
next	1.23;

1.23
date	2000.03.14.20.13.28;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	99.12.06.21.47.12;	author deraadt;	state Exp;
branches;
next	1.21;

1.21
date	99.12.06.20.15.37;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	99.11.18.01.52.33;	author deraadt;	state Exp;
branches;
next	1.19;

1.19
date	99.11.18.00.36.59;	author aaron;	state Exp;
branches;
next	1.18;

1.18
date	99.10.25.20.27.27;	author markus;	state Exp;
branches;
next	1.17;

1.17
date	99.10.16.20.47.14;	author markus;	state Exp;
branches;
next	1.16;

1.16
date	99.10.07.05.10.24;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	99.10.06.22.24.55;	author deraadt;	state Exp;
branches;
next	1.14;

1.14
date	99.10.05.01.23.54;	author dugsong;	state Exp;
branches;
next	1.13;

1.13
date	99.10.04.20.56.28;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	99.10.04.20.52.44;	author markus;	state Exp;
branches;
next	1.11;

1.11
date	99.10.01.19.54.11;	author beck;	state Exp;
branches;
next	1.10;

1.10
date	99.10.01.17.40.01;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	99.09.30.17.08.52;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	99.09.30.00.17.08;	author provos;	state Exp;
branches;
next	1.7;

1.7
date	99.09.30.00.09.59;	author provos;	state Exp;
branches;
next	1.6;

1.6
date	99.09.29.18.16.22;	author dugsong;	state Exp;
branches;
next	1.5;

1.5
date	99.09.29.12.27.39;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	99.09.28.04.45.38;	author provos;	state Exp;
branches;
next	1.3;

1.3
date	99.09.26.22.29.51;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	99.09.26.21.52.50;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	99.09.26.21.47.55;	author deraadt;	state Exp;
branches;
next	;

1.24.2.1
date	2000.09.01.18.13.24;	author jason;	state Exp;
branches;
next	1.24.2.2;

1.24.2.2
date	2000.11.08.21.27.41;	author jason;	state Exp;
branches;
next	1.24.2.3;

1.24.2.3
date	2001.03.12.15.44.19;	author jason;	state Exp;
branches;
next	1.24.2.4;

1.24.2.4
date	2001.03.21.18.53.27;	author jason;	state Exp;
branches;
next	;

1.26.2.1
date	2001.02.16.20.13.27;	author jason;	state Exp;
branches;
next	1.26.2.2;

1.26.2.2
date	2001.02.19.17.19.48;	author jason;	state Exp;
branches;
next	1.26.2.3;

1.26.2.3
date	2001.03.21.19.46.33;	author jason;	state Exp;
branches;
next	1.26.2.4;

1.26.2.4
date	2001.05.07.21.09.40;	author jason;	state Exp;
branches;
next	1.26.2.5;

1.26.2.5
date	2001.09.27.00.16.00;	author miod;	state Exp;
branches;
next	1.26.2.6;

1.26.2.6
date	2002.03.08.17.04.44;	author brad;	state Exp;
branches;
next	;

1.30.2.1
date	2001.09.27.19.03.56;	author jason;	state Exp;
branches;
next	1.30.2.2;

1.30.2.2
date	2002.03.09.00.24.20;	author miod;	state Exp;
branches;
next	1.30.2.3;

1.30.2.3
date	2002.06.02.22.56.43;	author miod;	state Exp;
branches;
next	;

1.36.2.1
date	2002.03.07.17.37.48;	author jason;	state Exp;
branches;
next	1.36.2.2;

1.36.2.2
date	2002.05.17.00.03.38;	author miod;	state Exp;
branches;
next	1.36.2.3;

1.36.2.3
date	2002.06.22.07.24.41;	author miod;	state Exp;
branches;
next	;

1.37.2.1
date	2002.05.18.04.12.11;	author jason;	state Exp;
branches;
next	1.37.2.2;

1.37.2.2
date	2002.05.18.04.50.38;	author jason;	state Exp;
branches;
next	1.37.2.3;

1.37.2.3
date	2002.06.26.15.30.39;	author jason;	state Exp;
branches;
next	;

1.42.2.1
date	2003.09.16.21.20.30;	author brad;	state Exp;
branches;
next	;

1.42.4.1
date	2003.09.16.20.50.44;	author brad;	state Exp;
branches;
next	1.42.4.2;

1.42.4.2
date	2004.03.04.18.18.17;	author brad;	state Exp;
branches;
next	;

1.50.2.1
date	2004.02.28.03.51.35;	author brad;	state Exp;
branches;
next	;


desc
@@


1.66
log
@remove roaming support; ok djm@@
@
text
@#	$OpenBSD: Makefile,v 1.65 2015/11/08 22:08:38 jmc Exp $

.PATH:		${.CURDIR}/..
.include "${.CURDIR}/../Makefile.inc"

PROG=	ssh
BINOWN=	root

#BINMODE?=4555

BINDIR=	/usr/bin
MAN=	ssh.1 ssh_config.5

SRCS=	ssh.c readconf.c clientloop.c sshtty.c \
	sshconnect.c sshconnect2.c mux.c

.include <bsd.own.mk>

.if (${SSH1:L} == "yes")
SRCS+=	sshconnect1.c
.endif

KERBEROS5=no

.if (${KERBEROS5:L} == "yes")
CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV -DGSSAPI
.endif # KERBEROS5

.include <bsd.prog.mk>

.if (${KERBEROS5:L} == "yes")
DPADD+=  ${LIBGSSAPI} ${LIBKRB5}
LDADD+=  -lgssapi -lkrb5 -lasn1
LDADD+=  -lwind -lroken -lcom_err -lpthread -lheimbase
.endif # KERBEROS5

.if (${OPENSSL:L} == "yes")
LDADD+=	-lcrypto -lutil
DPADD+=	${LIBCRYPTO} ${LIBUTIL}
.endif

LDADD+=	-lz
DPADD+=	${LIBZ}
@


1.65
log
@remove slogin links; ok deraadt markus djm
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.64 2015/03/03 21:21:13 djm Exp $
d15 1
a15 2
	sshconnect.c sshconnect2.c mux.c \
	roaming_common.c roaming_client.c
@


1.64
log
@add SSH1 Makefile knob to make it easier to build without SSH1 support;
ok markus@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.63 2014/04/29 18:01:49 markus Exp $
a12 2
LINKS=	${BINDIR}/ssh ${BINDIR}/slogin
MLINKS=	ssh.1 slogin.1
@


1.63
log
@make compiling against OpenSSL optional (make OPENSSL=no);
reduces algorithms to curve25519, aes-ctr, chacha, ed25519;
allows us to explore further options; with and ok djm
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.62 2013/07/20 01:55:13 djm Exp $
d22 1
a22 1
.if (${OPENSSL:L} == "yes")
@


1.62
log
@fix kerberos/GSSAPI deprecation warnings and linking; "looks okay" millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.61 2013/07/02 13:32:38 markus Exp $
d4 1
d17 1
a17 1
	sshconnect.c sshconnect1.c sshconnect2.c mux.c \
d22 4
d40 7
a46 2
LDADD+=	-lcrypto -lutil -lz
DPADD+=	${LIBCRYPTO} ${LIBUTIL} ${LIBZ}
@


1.61
log
@add missing library dependencies
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.60 2013/06/19 05:27:06 deraadt Exp $
d20 1
d31 1
a31 1
LDADD+=  -lgssapi -lkrb5 -lhx509 -lasn1 -lheimntlm
@


1.60
log
@stop doing kerberos in ssh and sshd
the code bloat makes that no longer trustworthy functionality
ok guenther
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.59 2013/06/18 20:27:20 miod Exp $
a33 1
DPADD+=	${LIBCRYPTO} ${LIBZ}
d35 1
@


1.59
log
@Shuffle library link order to appease the static arch deities.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.58 2013/06/17 19:23:33 robert Exp $
d20 1
@


1.58
log
@link to the new kerberos libraries
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.57 2013/05/16 09:12:31 dtucker Exp $
d29 2
a30 2
LDADD+=  -lgssapi -lkrb5 -lasn1 -lheimntlm
LDADD+=  -lhx509 -lwind -lroken -lcom_err -lpthread -lheimbase
@


1.57
log
@switch RekeyLimit traffic volume parsing to scan_scaled.  ok djm@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.56 2012/08/24 19:50:19 deraadt Exp $
d29 2
a30 1
LDADD+=  -lgssapi -lkrb5
@


1.56
log
@comment about bsd.own.mk is now false; ok markus
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.55 2010/10/13 08:14:22 jsg Exp $
d33 1
a33 1
LDADD+=	-lcrypto -lz
@


1.55
log
@The heimdal code switched to using DES from libcrypto when 0.7.2
was imported over four years ago, so we don't need to link libdes
for kerberos anymore.

ok mikeb@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.54 2009/10/24 11:22:37 andreas Exp $
d19 1
a19 1
.include <bsd.own.mk> # for AFS
@


1.54
log
@Do the actual suspend/resume in the client. This won't be useful until
the server side supports roaming.
Most code from Martin Forssen, maf at appgate dot com. Some changes by
me and markus@@
ok markus@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.53 2009/05/28 16:50:16 andreas Exp $
d32 2
a33 2
DPADD+=	${LIBCRYPTO} ${LIBZ} ${LIBDES}
LDADD+=	-lcrypto -lz -ldes
@


1.53
log
@Keep track of number of bytes read and written. Needed for upcoming
changes. Most code from Martin Forssen, maf at appgate dot com.
ok markus@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.52 2008/05/09 14:18:45 djm Exp $
d17 1
a17 1
	roaming_common.c
@


1.52
log
@tidy up session multiplexing code, moving it into its own file and
making the function names more consistent - making ssh.c and
clientloop.c a fair bit more readable.

ok markus@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.51 2003/11/21 11:57:03 djm Exp $
d16 2
a17 1
	sshconnect.c sshconnect1.c sshconnect2.c mux.c
@


1.51
log
@unexpand and delete whitespace at EOL; ok markus@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.50 2003/08/28 07:49:13 markus Exp $
d16 1
a16 1
	sshconnect.c sshconnect1.c sshconnect2.c
@


1.50
log
@don't like libgss/krb5 twice, fixes non-KERBEROS builds; pmbas@@samhaim.org
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.49 2003/08/24 18:17:36 deraadt Exp $
d21 1
a21 1
CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV -DGSSAPI 
@


1.50.2.1
log
@upgrade to OpenSSH 3.8
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.51 2003/11/21 11:57:03 djm Exp $
d21 1
a21 1
CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV -DGSSAPI
@


1.49
log
@re-organize Makefiles so that static builds actually work
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.48 2003/08/22 10:56:09 markus Exp $
d27 1
a28 1
DPADD+=  ${LIBGSSAPI} ${LIBKRB5}
d31 2
a32 2
DPADD+=	${LIBGSSAPI} ${LIBKRB5} ${LIBCRYPTO} ${LIBZ} ${LIBDES}
LDADD+=	-lgssapi -lkrb5 -lcrypto -lz -ldes
@


1.48
log
@support GSS API user authentication; patches from Simon Wilkinson,
stripped down and tested by Jakob and myself.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.47 2003/07/16 19:10:13 deraadt Exp $
d21 2
a22 1
CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV
d24 1
a24 2
LDADD+=  -lkrb5
DPADD+=  ${LIBKRB5}
d26 3
a28 3
CFLAGS+= -DGSSAPI 
LDADD+= -lgssapi
DPADD+=  ${LIBGSSAPI}
d31 2
a32 4
.include <bsd.prog.mk>

DPADD+=	${LIBCRYPTO} ${LIBZ} ${LIBDES}
LDADD+=	-lcrypto -lz -ldes
@


1.47
log
@some minor DPADD changes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.46 2003/07/15 19:02:20 deraadt Exp $
d22 7
a28 2
DPADD+=  ${LIBKRB5} ${LIBASN1}
LDADD+=  -lkrb5 -lasn1
@


1.46
log
@stop using libcom_err, it is built into krb5
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.45 2003/05/17 01:31:21 hin Exp $
d22 1
a23 1
DPADD+=  ${LIBKRB5} ${LIBASN1}
d28 1
a29 1
DPADD+=	${LIBCRYPTO} ${LIBZ} ${LIBDES}
@


1.45
log
@Don't link with unneeded kerberos libraries
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.44 2003/04/10 00:17:52 pvalchev Exp $
d22 2
a23 2
LDADD+=  -lkrb5 -lasn1 -lcom_err
DPADD+=  ${LIBKRB5} ${LIBASN1} ${LIBCOM_ERR}
@


1.44
log
@unbreak linking on elf - stupid kerberos
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.43 2003/04/09 08:24:24 hin Exp $
d22 1
a22 1
LDADD+=  -lkrb5 -lkafs -lkrb -lasn1 -lcom_err
@


1.43
log
@Disable Kerberos 4 support.

ok markus@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.42 2002/06/20 19:56:07 stevesk Exp $
d22 1
a22 1
LDADD+=  -lkrb5 -lasn1 -lcom_err
@


1.42
log
@move configuration file options from ssh.1/sshd.8 to
ssh_config.5/sshd_config.5; ok deraadt@@ millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.41 2002/05/15 21:56:39 markus Exp $
a24 11

.if (${KERBEROS:L} == "yes")
CFLAGS+= -DKRB4 -I${DESTDIR}/usr/include/kerberosIV
LDADD+=	 -lkrb
DPADD+=	 ${LIBKRB}
.if (${AFS:L} == "yes")
CFLAGS+= -DAFS
LDADD+=  -lkafs
DPADD+=  ${LIBKAFS}
.endif # AFS
.endif # KERBEROS
@


1.42.2.1
log
@upgrade to OpenSSH 3.7
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.50 2003/08/28 07:49:13 markus Exp $
d20 16
a35 3
#.if (${KERBEROS5:L} == "yes")
#CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV -DGSSAPI 
#.endif # KERBEROS5
d39 1
a39 5
#.if (${KERBEROS5:L} == "yes")
#DPADD+=  ${LIBGSSAPI} ${LIBKRB5}
#LDADD+=  -lgssapi -lkrb5
#.endif # KERBEROS5

a40 1
LDADD+=	-lcrypto -lz -ldes
@


1.42.4.1
log
@upgrade to OpenSSH 3.7
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.50 2003/08/28 07:49:13 markus Exp $
d20 16
a35 3
#.if (${KERBEROS5:L} == "yes")
#CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV -DGSSAPI 
#.endif # KERBEROS5
d39 1
a39 5
#.if (${KERBEROS5:L} == "yes")
#DPADD+=  ${LIBGSSAPI} ${LIBKRB5}
#LDADD+=  -lgssapi -lkrb5
#.endif # KERBEROS5

a40 1
LDADD+=	-lcrypto -lz -ldes
@


1.42.4.2
log
@upgrade to OpenSSH 3.8upgrade to OpenSSH 3.8upgrade to OpenSSH 3.8
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.51 2003/11/21 11:57:03 djm Exp $
d21 1
a21 1
#CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV -DGSSAPI
@


1.41
log
@re-enable privsep and disable setuid for post-3.2.2
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.40 2002/05/15 21:02:53 markus Exp $
d11 1
a11 1
MAN=	ssh.1
@


1.40
log
@disable privsep and enable setuid for the 3.2.2 release
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.39 2002/05/11 00:20:20 espie Exp $
d8 1
a8 1
BINMODE?=4555
@


1.39
log
@Add missing libraries to bsd.prog.mk (mostly kerberosV)
Use them in DPADD throughout the tree.
Fix a few mispells (LIBMATH -> LIBM...)
Wipe obsolete lib (LIBRESOLV)
Sort added missing libraries, move obsolete stuff apart.
Synch documentation in bsd.README

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.38 2002/05/04 03:00:40 deraadt Exp $
d8 1
a8 1
#BINMODE?=4555
@


1.38
log
@make ssh not setuid.  We will solve the issues relating to it being setuid later.  Groovy, ok?
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.38 2002/05/04 02:52:48 deraadt Exp $
d23 1
a23 1
DPADD+=  ${LIBKRB5} ${LIBASN1}
d33 1
a33 1
DPADD+=  ${LIBKRBAFS}
d40 1
a40 1
DPADD+=	${LIBCRYPTO} ${LIBZ}
@


1.37
log
@and -ldes here too
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.36 2001/09/10 22:44:47 jason Exp $
d8 1
a8 1
BINMODE?=4555
@


1.37.2.1
log
@Update to OpenSSH-3.2.2
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.40 2002/05/15 21:02:53 markus Exp $
d23 1
a23 1
DPADD+=  ${LIBKRB5} ${LIBASN1} ${LIBCOM_ERR}
d33 1
a33 1
DPADD+=  ${LIBKAFS}
d40 1
a40 1
DPADD+=	${LIBCRYPTO} ${LIBZ} ${LIBDES}
@


1.37.2.2
log
@Update to OpenSSH-3.2.3
@
text
@@


1.37.2.3
log
@Pull in OpenSSH-3.4
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.42 2002/06/20 19:56:07 stevesk Exp $
d8 1
a8 1
#BINMODE?=4555
d11 1
a11 1
MAN=	ssh.1 ssh_config.5
@


1.36
log
@link k5 before k4 (new binutils is more picky than old ld)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.35 2001/06/28 02:32:32 hin Exp $
d39 1
a39 1
LDADD+=	-lcrypto -lz
@


1.36.2.1
log
@Update to OpenSSH-3.1 on 3.0-stable branch
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.37 2002/03/05 00:49:51 deraadt Exp $
d39 1
a39 1
LDADD+=	-lcrypto -lz -ldes
@


1.36.2.2
log
@Update OpenSSH to version 3.2.2.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.40 2002/05/15 21:02:53 markus Exp $
d23 1
a23 1
DPADD+=  ${LIBKRB5} ${LIBASN1} ${LIBCOM_ERR}
d33 1
a33 1
DPADD+=  ${LIBKAFS}
d40 1
a40 1
DPADD+=	${LIBCRYPTO} ${LIBZ} ${LIBDES}
@


1.36.2.3
log
@Update OpenSSH 3.3, files missed in previous commit.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.42 2002/06/20 19:56:07 stevesk Exp $
d8 1
a8 1
#BINMODE?=4555
d11 1
a11 1
MAN=	ssh.1 ssh_config.5
@


1.35
log
@Link with libcom_err for kerberos5
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.34 2001/06/27 19:29:15 markus Exp $
d20 6
a35 6

.if (${KERBEROS5:L} == "yes")
CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV
LDADD+=  -lkrb5 -lasn1 -lcom_err
DPADD+=  ${LIBKRB5} ${LIBASN1}
.endif # KERBEROS5
@


1.34
log
@move -lsectok to Makefile.inc for now
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.33 2001/06/26 20:14:12 markus Exp $
d33 1
a33 1
LDADD+=  -lkrb5 -lasn1
@


1.33
log
@add smartcard support to the client, too (now you can use both
the agent and the client).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.32 2001/06/26 17:52:41 dugsong Exp $
a40 2

#LDADD+=	-lsectok
@


1.32
log
@only build Kerberos v5 support with KERBEROS5=yes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.31 2001/06/26 16:15:26 dugsong Exp $
d41 2
@


1.31
log
@Kerberos v5 support for SSH1, mostly from Assar Westerlund <assar@@freebsd.org> and Bjorn Gronvall <bg@@sics.se>. markus@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.30 2001/04/14 16:33:20 stevesk Exp $
a23 5

CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV
LDADD+=  -lkrb5 -lasn1
DPADD+=  ${LIBKRB5} ${LIBASN1}

d30 6
@


1.30
log
@protocol 2 tty modes support; ok markus@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.29 2001/03/04 00:51:25 markus Exp $
d24 5
@


1.30.2.1
log
@Pull in OpenSSH-2.9.9
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.36 2001/09/10 22:44:47 jason Exp $
a18 6

.if (${KERBEROS5:L} == "yes")
CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV
LDADD+=  -lkrb5 -lasn1 -lcom_err
DPADD+=  ${LIBKRB5} ${LIBASN1}
.endif # KERBEROS5
@


1.30.2.2
log
@Merge OpenSSH 3.1, keeping /etc as configuration files directory
(i.e. OpenSSH 3.1 + openbsd29_3.1.patch)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.37 2002/03/05 00:49:51 deraadt Exp $
d39 1
a39 1
LDADD+=	-lcrypto -lz -ldes
@


1.30.2.3
log
@Upgrade to OpenSSH 3.2.3.

Except for improbable compilation error fixes, this should be the last
commit made to the 2.9-STABLE branche. Have fun upgrading.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.40 2002/05/15 21:02:53 markus Exp $
d23 1
a23 1
DPADD+=  ${LIBKRB5} ${LIBASN1} ${LIBCOM_ERR}
d33 1
a33 1
DPADD+=  ${LIBKAFS}
d40 1
a40 1
DPADD+=	${LIBCRYPTO} ${LIBZ} ${LIBDES}
@


1.29
log
@don't link unused libs
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.28 2001/03/03 23:59:37 markus Exp $
d15 1
a15 1
SRCS=	ssh.c readconf.c clientloop.c \
@


1.28
log
@log*.c -> log.c
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.27 2001/01/29 01:58:21 niklas Exp $
d33 2
a34 2
LDADD+=	-lutil -lz -lcrypto
DPADD+=	${LIBCRYPTO} ${LIBUTIL} ${LIBZ}
@


1.27
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD$
d15 1
a15 1
SRCS=	ssh.c log-client.c readconf.c clientloop.c \
@


1.26
log
@Boring...  Add :L modifier to all tweakable variables tests.

Closes PR 1246
@
text
@d1 2
@


1.26.2.1
log
@Pull in OpenSSH 2.5.0
@
text
@a0 2
#	$OpenBSD: Makefile,v 1.27 2001/01/29 01:58:21 niklas Exp $

@


1.26.2.2
log
@Pull in OpenSSH-2.5.1
@
text
@@


1.26.2.3
log
@Pull in OpenSSH-2.5.2 for 2.8 branch.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.29 2001/03/04 00:51:25 markus Exp $
d15 1
a15 1
SRCS=	ssh.c readconf.c clientloop.c \
d33 2
a34 2
LDADD+=	-lcrypto -lz
DPADD+=	${LIBCRYPTO} ${LIBZ}
@


1.26.2.4
log
@Pull in OpenSSH-2.9 to 2.8 branch.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.30 2001/04/14 16:33:20 stevesk Exp $
d15 1
a15 1
SRCS=	ssh.c readconf.c clientloop.c sshtty.c \
@


1.26.2.5
log
@Pull in OpenSSH 2.9.9 to the 2.8 branch.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.36 2001/09/10 22:44:47 jason Exp $
a18 6

.if (${KERBEROS5:L} == "yes")
CFLAGS+= -DKRB5 -I${DESTDIR}/usr/include/kerberosV
LDADD+=  -lkrb5 -lasn1 -lcom_err
DPADD+=  ${LIBKRB5} ${LIBASN1}
.endif # KERBEROS5
@


1.26.2.6
log
@Merge OpenSSH 3.1.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.37 2002/03/05 00:49:51 deraadt Exp $
d39 1
a39 1
LDADD+=	-lcrypto -lz -ldes
@


1.25
log
@no longer needed; good riddance for static archs
@
text
@d18 1
a18 1
.if (${KERBEROS} == "yes")
d22 1
a22 1
.if (${AFS} == "yes")
@


1.24
log
@sync
@
text
@a5 4
.if (${MACHINE_ARCH} == "alpha" || ${MACHINE_ARCH} == "powerpc" || \
	${MACHINE_ARCH} == "hppa")
BINMODE=0000
.else
a6 1
.endif
@


1.24.2.1
log
@Pull in OpenSSH-2.2.0 to 2.7 patch branch
@
text
@d6 4
d11 1
@


1.24.2.2
log
@openssh-2.3.0 for 2.7 patch branch
@
text
@d18 1
a18 1
.if (${KERBEROS:L} == "yes")
d22 1
a22 1
.if (${AFS:L} == "yes")
@


1.24.2.3
log
@OpenSSH-2.5.1 for 2.7 patch branch
@
text
@a0 2
#	$OpenBSD: Makefile,v 1.27 2001/01/29 01:58:21 niklas Exp $

@


1.24.2.4
log
@Pull in OpenSSH-2.5.2 for 2.7 branch.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.29 2001/03/04 00:51:25 markus Exp $
d15 1
a15 1
SRCS=	ssh.c readconf.c clientloop.c \
d33 2
a34 2
LDADD+=	-lcrypto -lz
DPADD+=	${LIBCRYPTO} ${LIBZ}
@


1.23
log
@support DESTDIR include fetching; dm
@
text
@d18 2
a19 1
SRCS=	ssh.c sshconnect.c log-client.c readconf.c clientloop.c
@


1.22
log
@atomicio() via lib
@
text
@d23 1
a23 1
CFLAGS+= -DKRB4 -I/usr/include/kerberosIV
@


1.21
log
@move atomicio into it's own file.  wrap all socket write()s which were doing
write(sock, buf, len) != len, with atomicio() calls.
@
text
@d18 1
a18 1
SRCS=	ssh.c sshconnect.c log-client.c readconf.c clientloop.c atomicio.c
@


1.20
log
@bad aaron
@
text
@d18 1
a18 1
SRCS=	ssh.c sshconnect.c log-client.c readconf.c clientloop.c
@


1.19
log
@Add MLINK for openssh(1).
@
text
@d16 1
a16 1
MLINKS=	ssh.1 slogin.1 ssh.1 openssh.1
@


1.18
log
@move common files to ./lib and link libssh.a, tested with and w/o obj
@
text
@d16 1
a16 1
MLINKS=	ssh.1 slogin.1
@


1.17
log
@support for SSH protocol 1.5 which is poorly documented, the RFC.troff lies.
interops (x11,agent,etc) with 1.2.27 and protocol 1.3
@
text
@d18 1
a18 5
SRCS=	ssh.c sshconnect.c log-client.c readconf.c hostfile.c readpass.c \
	tildexpand.c uidswap.c clientloop.c canohost.c rsa.c buffer.c \
	packet.c xmalloc.c ttymodes.c channels.c bufaux.c authfd.c \
	authfile.c crc32.c match.c mpaux.c cipher.c compress.c deattack.c\
	nchan.c compat.c
a20 4

.if (${AFS} == "yes")
SRCS+=	radix.c
.endif
@


1.16
log
@on static machines, install these as mode 0
@
text
@d21 2
a22 1
	authfile.c crc32.c match.c mpaux.c cipher.c compress.c deattack.c
@


1.15
log
@scp should not link against kerberos stuff
@
text
@d5 8
a12 1
BINMODE=4555
@


1.14
log
@crc32 compensation attack fix from CORE-SDI. "it's not crypto..." -- deraadt@@
@
text
@d22 11
@


1.13
log
@more shrinking
@
text
@d14 1
a14 1
	authfile.c crc32.c match.c mpaux.c cipher.c compress.c
@


1.12
log
@nuked minfd. sigh. hope this is the last one.
@
text
@d12 3
a14 4
	tildexpand.c uidswap.c clientloop.c canohost.c rsa.c \
	buffer.c packet.c xmalloc.c ttymodes.c channels.c bufaux.c \
	authfd.c authfile.c crc32.c match.c mpaux.c cipher.c \
	compress.c
@


1.11
log
@Remove kerberos libdes - it's all in libcrypto
@
text
@d14 1
a14 1
	authfd.c authfile.c crc32.c match.c mpaux.c minfd.c cipher.c \
a21 5

gen_minfd: gen_minfd.c
minfd.o: minfd.h
minfd.h: gen_minfd
	./gen_minfd $(USER_SHELLS) > minfd.h
@


1.10
log
@Why do I need this library dependency workaround for static builds.. anyone?
@
text
@d30 2
a31 2
LDADD+=	-ldes -lutil -lz -lcrypto
DPADD+=	${LIBCRYPTO} ${LIBDES} ${LIBUTIL} ${LIBZ}
@


1.9
log
@use libc md5
@
text
@a6 2
LDADD=	-lcrypto -ldes -lutil -lz
DPADD=	${LIBCRYPTO} ${LIBDES} ${LIBUTIL} ${LIBZ}
d29 3
@


1.8
log
@revert last commit. somethign was out of sync.
@
text
@d15 1
a15 1
	ssh_md5.c buffer.c packet.c xmalloc.c ttymodes.c channels.c bufaux.c \
@


1.7
log
@link with -lkrb
@
text
@d7 1
a7 1
LDADD=	-lcrypto -ldes -lutil -lz -lkrb
@


1.6
log
@update krb4/AFS support to ssh-1.2.27-afs-kerberos-pl1 level, clean up unused variables, update manpages
@
text
@d7 1
a7 1
LDADD=	-lcrypto -ldes -lutil -lz
@


1.5
log
@DPADD; mickey
@
text
@d7 2
a8 2
LDADD=	-lkrb -lcrypto -ldes -lutil -lz
DPADD=	${LIBKRB} ${LIBCRYPTO} ${LIBDES} ${LIBUTIL} ${LIBZ}
d18 6
@


1.4
log
@convert all uses of gmp to SSL bignum
convert all used of rsa to SSL rsa functions
remove all use of randomstate to OpenBSD arc4random() and arc4_stir()
all this done at a long long night in Canada.
@
text
@d8 1
@


1.3
log
@distribution target
@
text
@d7 1
a7 1
LDADD=	-lkrb -lcrypto -ldes -lgmp -lutil -lz
d13 1
a13 1
	tildexpand.c uidswap.c clientloop.c canohost.c rsa.c randoms.c \
d15 1
a15 1
	authfd.c authfile.c crc32.c rsaglue.c match.c mpaux.c minfd.c cipher.c \
d23 1
a23 1
.include<bsd.prog.mk>
@


1.2
log
@proper groups for install
@
text
@d9 2
a21 94

########################

# Creates /etc/ssh_host_key
generate-host-key:
	-@@if test -f $(install_prefix)$(HOST_KEY_FILE); \
          then echo "You already have a host key in $(install_prefix)$(HOST_KEY_FILE)."; \
	  else \
	    umask 022; echo "Generating 1024 bit host key."; \
	    ./ssh-keygen -b 1024 -f $(install_prefix)$(HOST_KEY_FILE) -N ''; \
	  fi

# Ssh is much to large and hairy to be installed suid root by
# default. Disabled for now/bg. If you really need rhosts
# authentication do a manual chmod u+s $(install_prefix)$(bindir)/ssh.
#
# Ssh is preferably installed suid root.  It can also be used non-root,
# but then it cannot connect from a privileged socket, and rhosts
# authentication will be disabled.
#
# Sshd is not suid root, but should preferably be run as root
# (otherwise it can only log in as the user it runs as, and must be
# bound to a non-privileged port).  Also, password authentication may
# not be available if non-root and using shadow passwords.
fuck-install: $(PROGRAMS) make-dirs generate-host-key
	$(INSTALL_PROGRAM) -o root -m 0755 ssh $(install_prefix)$(bindir)/ssh
	-if test "`echo ssh | sed '$(transform)'`" '!=' ssh; then \
	  rm -f $(install_prefix)$(bindir)/`echo ssh | sed '$(transform)'`; \
	  $(LN_S) ssh \
	    $(install_prefix)$(bindir)/`echo ssh | sed '$(transform)'`; fi
	rm -f $(install_prefix)$(bindir)/slogin
	$(LN_S) ssh $(install_prefix)$(bindir)/slogin
	-if test "`echo slogin | sed '$(transform)'`" '!=' slogin; then \
	  rm -f $(install_prefix)$(bindir)/`echo slogin | sed '$(transform)'`;\
	  $(LN_S) ssh \
	    $(install_prefix)$(bindir)/`echo slogin | sed '$(transform)'`; fi
	-for p in $(NORMAL_PROGRAMS); do \
	  $(INSTALL_PROGRAM) -m 0755 $$p $(install_prefix)$(bindir)/$$p; \
	  if test "`echo $$p | sed '$(transform)'`" '!=' $$p; then \
	    rm -f $(install_prefix)$(bindir)/`echo $$p | sed '$(transform)'`; \
	    $(LN_S) $$p \
	      $(install_prefix)$(bindir)/`echo $$p | sed '$(transform)'`; fi; \
	done
# Remove $(etcdir)/sshd_pid as it is now $(bindir)/sshd.pid
	-rm -f $(install_prefix)$(etcdir)/sshd_pid
# Remove $(bindir)/sshd to avoid confusion since it is now in $(sbindir)
	-rm -f $(install_prefix)$(bindir)/sshd
	-rm -f $(install_prefix)$(bindir)/`echo sshd | sed '$(transform)'`
	-for p in $(SBIN_PROGRAMS); do \
	  $(INSTALL_PROGRAM) -m 0755 $$p $(install_prefix)$(sbindir)/$$p; \
	  if test "`echo $$p | sed '$(transform)'`" '!=' $$p; then \
	    rm -f $(install_prefix)$(sbindir)/`echo $$p | sed '$(transform)'`;\
	    $(LN_S) $$p \
	      $(install_prefix)$(sbindir)/`echo $$p | sed '$(transform)'`; fi;\
	done
	-for p in $(MAN1PAGES); do \
	  $(INSTALL_DATA) -m 0644 $(srcdir)/$$p $(install_prefix)$(man1dir)/$$p ; \
	  if test "`echo $$p | sed '$(transform)'`" '!=' $$p; then \
	    rm -f $(install_prefix)$(man1dir)/`echo $$p | sed '$(transform)'`;\
	    $(LN_S) $$p \
	      $(install_prefix)$(man1dir)/`echo $$p | sed '$(transform)'`; \
	  fi; \
	done
	rm -f $(install_prefix)$(man1dir)/slogin.1
	$(LN_S) ssh.1 $(install_prefix)$(man1dir)/slogin.1
	if test "`echo slogin.1 | sed '$(transform)'`" '!=' slogin.1; then \
	  rm -f $(install_prefix)$(man1dir)/`echo slogin.1 | sed '$(transform)'`;\
	  $(LN_S) ssh.1 \
	    $(install_prefix)$(man1dir)/`echo slogin.1 | sed '$(transform)'`; \
	fi
	-for p in $(MAN1GENERATED); do \
	  $(INSTALL_DATA) -m 0644 $$p $(install_prefix)$(man1dir)/$$p ; \
	  if test "`echo $$p | sed '$(transform)'`" '!=' $$p; then \
	    rm -f $(install_prefix)$(man1dir)/`echo $$p | sed '$(transform)'`;\
	    $(LN_S) $$p \
	      $(install_prefix)$(man1dir)/`echo $$p | sed '$(transform)'`; \
	  fi; \
	done
	-for p in $(MAN8GENERATED); do \
	  $(INSTALL_DATA) -m 0644 $$p $(install_prefix)$(man8dir)/$$p; \
	  if test "`echo $$p | sed '$(transform)'`" '!=' $$p; then \
	    rm -f $(install_prefix)$(man8dir)/`echo $$p | sed '$(transform)'`;\
	    $(LN_S) $$p \
	      $(install_prefix)$(man8dir)/`echo $$p | sed '$(transform)'`; fi;\
	done
	-if test '!' -f $(install_prefix)$(HOST_CONFIG_FILE); then \
	  $(INSTALL_DATA) -m 0644 $(srcdir)/host_config.sample \
	    $(install_prefix)$(HOST_CONFIG_FILE); fi
	-if test '!' -f $(install_prefix)$(SERVER_CONFIG_FILE); then \
	  cat $(srcdir)/server_config.sample | \
	  sed "s#_ETCDIR_#$(etcdir)#g" >/tmp/ssh_inst.$$; \
	  $(INSTALL_DATA) -m 0644 /tmp/ssh_inst.$$ \
	    $(install_prefix)$(SERVER_CONFIG_FILE); \
	  rm -f /tmp/ssh_inst.$$; fi
@


1.1
log
@build ssh components using our build model
@
text
@a4 1
BINGRP=	root
d44 1
a44 1
install: $(PROGRAMS) make-dirs generate-host-key
@

