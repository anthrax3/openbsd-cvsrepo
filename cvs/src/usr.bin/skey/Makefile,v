head	1.16;
access;
symbols
	OPENBSD_6_0:1.15.0.2
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.14.0.6
	OPENBSD_5_9_BASE:1.14
	OPENBSD_5_8:1.14.0.8
	OPENBSD_5_8_BASE:1.14
	OPENBSD_5_7:1.14.0.2
	OPENBSD_5_7_BASE:1.14
	OPENBSD_5_6:1.14.0.4
	OPENBSD_5_6_BASE:1.14
	OPENBSD_5_5:1.13.0.70
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.66
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.64
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.13.0.62
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.60
	OPENBSD_5_0:1.13.0.58
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.56
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.13.0.54
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.13.0.50
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.13.0.52
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.13.0.48
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.46
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.44
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.42
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.13.0.40
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.13.0.38
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.36
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.34
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.13.0.32
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.13.0.30
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.13.0.28
	OPENBSD_3_5_BASE:1.13
	OPENBSD_3_4:1.13.0.26
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.13.0.24
	OPENBSD_3_3_BASE:1.13
	OPENBSD_3_2:1.13.0.22
	OPENBSD_3_2_BASE:1.13
	OPENBSD_3_1:1.13.0.20
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.13.0.18
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9_BASE:1.13
	OPENBSD_2_9:1.13.0.16
	OPENBSD_2_8:1.13.0.14
	OPENBSD_2_8_BASE:1.13
	OPENBSD_2_7:1.13.0.12
	OPENBSD_2_7_BASE:1.13
	OPENBSD_2_6:1.13.0.10
	OPENBSD_2_6_BASE:1.13
	OPENBSD_2_5:1.13.0.8
	OPENBSD_2_5_BASE:1.13
	OPENBSD_2_4:1.13.0.6
	OPENBSD_2_4_BASE:1.13
	OPENBSD_2_3:1.13.0.4
	OPENBSD_2_3_BASE:1.13
	OPENBSD_2_2:1.13.0.2
	OPENBSD_2_2_BASE:1.13
	OPENBSD_2_1:1.9.0.2
	OPENBSD_2_1_BASE:1.9
	OPENBSD_2_0:1.6.0.2
	OPENBSD_2_0_BASE:1.6
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.16
date	2016.09.11.13.51.30;	author natano;	state Exp;
branches;
next	1.15;
commitid	Y37xXgETX53Dt6r1;

1.15
date	2016.03.30.06.38.46;	author jmc;	state Exp;
branches;
next	1.14;
commitid	LN9ijdk9SEnzWAbM;

1.14
date	2014.03.20.20.39.13;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	97.09.21.11.50.50;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	97.07.23.04.24.37;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	97.07.23.04.10.50;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	97.07.17.05.48.39;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	97.04.27.20.56.54;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	96.12.08.14.32.34;	author downsj;	state Exp;
branches;
next	1.7;

1.7
date	96.11.14.15.04.50;	author mickey;	state Exp;
branches;
next	1.6;

1.6
date	96.09.29.23.04.58;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	96.09.29.21.28.37;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	96.09.28.00.00.40;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	96.09.27.15.41.35;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.39.19;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.46.07;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.46.07;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.16
log
@Set the usual owner for /usr/bin/skeyprune. ok deraadt
@
text
@#	$OpenBSD: Makefile,v 1.15 2016/03/30 06:38:46 jmc Exp $

PROG=	skey
MAN=	skey.1 skeyprune.8
LINKS=	${BINDIR}/skey ${BINDIR}/otp-md5 \
	${BINDIR}/skey ${BINDIR}/otp-sha1 \
	${BINDIR}/skey ${BINDIR}/otp-rmd160
DPADD=	${LIBSKEY}
LDADD=	-lskey

beforeinstall:
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m 755 \
	    ${.CURDIR}/skeyprune.pl ${DESTDIR}${BINDIR}/skeyprune

.include <bsd.prog.mk>
@


1.15
log
@for some time now mandoc has not required MLINKS to function
correctly - logically complete that now by removing MLINKS from base;

authors need only to ensure there is an entry in NAME for any function/
util being added. MLINKS will still work, and remain for perl to ease
upgrades;

ok nicm (curses) bcook (ssl)
ok schwarze, who provided a lot of feedback and assistance
ok tb natano jung
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2014/03/20 20:39:13 naddy Exp $
d12 2
a13 2
	${INSTALL} ${INSTALL_COPY} -m 755 ${.CURDIR}/skeyprune.pl \
		${DESTDIR}${BINDIR}/skeyprune
@


1.14
log
@Remove the (non-default) MD4 hash algorithm from S/Key.
ok millert, man pages ok jmc@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 1997/09/21 11:50:50 deraadt Exp $
a7 3
MLINKS=	skey.1 otp-md5.1 \
	skey.1 otp-sha1.1 \
	skey.1 otp-rmd160.1
@


1.13
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD$
d5 1
a5 2
LINKS=	${BINDIR}/skey ${BINDIR}/otp-md4 \
	${BINDIR}/skey ${BINDIR}/otp-md5 \
d8 1
a8 2
MLINKS=	skey.1 otp-md4.1 \
	skey.1 otp-md5.1 \
@


1.12
log
@Replace skeyaudit.sh with a setuid binary (necessary for mode 0600 skeykeys)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1997/07/23 04:10:50 millert Exp $
@


1.11
log
@Replace skeyinfo.sh with a setuid binary (necessary for mode 0600 /etc/skeykeys)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1997/07/17 05:48:39 millert Exp $
d4 1
a4 1
MAN=	skey.1 skeyaudit.1 skeyprune.8
a16 2
	${INSTALL} ${INSTALL_COPY} -m 755 ${.CURDIR}/skeyaudit.sh \
		${DESTDIR}${BINDIR}/skeyaudit
@


1.10
log
@Add RIPEMD-160 (rmd160) support to OTP (s/key).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1997/04/27 20:56:54 millert Exp $
d4 1
a4 1
MAN=	skey.1 skeyinfo.1 skeyaudit.1 skeyprune.8
a18 2
	${INSTALL} ${INSTALL_COPY} -m 755 ${.CURDIR}/skeyinfo.sh \
		${DESTDIR}${BINDIR}/skeyinfo
@


1.9
log
@COPY -> INSTALL_COPY and STRIP -> INSTALL_STRIP
This fixes namespace problems where STRIP is sometimes used as
the name of the strip(1) to use and other times used as
the flag to send install(1) when stripping (or not).
COPY doesn't have this problem (yet) but was poorly named.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1996/12/08 14:32:34 downsj Exp $
d7 2
a8 1
	${BINDIR}/skey ${BINDIR}/otp-sha1
d11 2
a12 1
	skey.1 otp-sha1.1
@


1.8
log
@install -> ${INSTALL}, -c -> ${COPY}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1996/11/14 15:04:50 mickey Exp $
d15 1
a15 1
	${INSTALL} ${COPY} -m 755 ${.CURDIR}/skeyaudit.sh \
d17 1
a17 1
	${INSTALL} ${COPY} -m 755 ${.CURDIR}/skeyinfo.sh \
d19 1
a19 1
	${INSTALL} ${COPY} -m 755 ${.CURDIR}/skeyprune.pl \
@


1.7
log
@correct LINKS usage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1996/09/29 23:04:58 millert Exp $
d15 6
a20 3
	install -c -m 755 ${.CURDIR}/skeyaudit.sh ${DESTDIR}${BINDIR}/skeyaudit
	install -c -m 755 ${.CURDIR}/skeyinfo.sh ${DESTDIR}${BINDIR}/skeyinfo
	install -c -m 755 ${.CURDIR}/skeyprune.pl ${DESTDIR}${BINDIR}/skeyprune
@


1.6
log
@updated s/key docs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1996/09/29 21:28:37 millert Exp $
d5 3
a7 3
LINKS=	/usr/bin/skey /usr/bin/otp-md4 \
	/usr/bin/skey /usr/bin/otp-md5 \
	/usr/bin/skey /usr/bin/otp-sha1
@


1.5
log
@Towards RFC 1938 compliance.  Works with new libskey and supports SHA.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1996/09/28 00:00:40 millert Exp $
d5 2
a6 2
LINKS=	/usr/bin/skey /usr/bin/otp-md5 \
	/usr/bin/skey /usr/bin/otp-md4 \
d8 3
@


1.4
log
@skeyprune -- new command to prune commented (zero'd) and crufty skey entries.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1996/09/27 15:41:35 millert Exp $
d3 5
a7 2
PROG= skey
MAN= skey.1 skeyinfo.1 skeyaudit.1 skeyprune.8
@


1.3
log
@Now can both MD4 and MD5 skey's.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1996/06/26 05:39:19 deraadt Exp $
d4 1
a4 1
MAN= skey.1 skeyinfo.1 skeyaudit.1
d11 1
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1995/10/18 08:46:07 deraadt Exp $
a3 1
CFLAGS+= -I${.CURDIR}/../../lib/libskey
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $Id: Makefile,v 1.5 1994/12/22 12:30:55 cgd Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
