head	1.11;
access;
symbols
	OPENBSD_2_2:1.8.0.4
	OPENBSD_2_2_BASE:1.8
	OPENBSD_2_1:1.8.0.2
	OPENBSD_2_1_BASE:1.8
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4
	VIM42:1.1.1.1
	VIM:1.1.1;
locks; strict;
comment	@# @;


1.11
date	99.03.06.20.24.53;	author millert;	state dead;
branches;
next	1.10;

1.10
date	99.03.06.20.19.25;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	98.02.23.12.06.25;	author downsj;	state dead;
branches;
next	1.8;

1.8
date	97.04.27.20.56.58;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	97.01.31.18.11.01;	author kstailey;	state Exp;
branches;
next	1.6;

1.6
date	96.12.08.14.32.38;	author downsj;	state Exp;
branches;
next	1.5;

1.5
date	96.10.15.08.35.25;	author downsj;	state Exp;
branches;
next	1.4;

1.4
date	96.09.22.01.17.57;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	96.09.07.23.41.00;	author downsj;	state Exp;
branches;
next	1.2;

1.2
date	96.09.07.23.29.16;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	96.09.07.21.40.27;	author downsj;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.09.07.21.40.27;	author downsj;	state Exp;
branches;
next	;


desc
@@


1.11
log
@mistype
@
text
@#	$OpenBSD: Makefile,v 1.10 1999/03/06 20:19:25 millert Exp $

.PATH:	${.CURDIR}/doc

CFLAGS+=-I${.CURDIR} -I${.OBJDIR} -DHAVE_CONFIG_H

LDADD+=	-lcurses
DPADD+=	${LIBCURSES}
PROG=	vim

SRCS=	alloc.c buffer.c charset.c cmdcmds.c cmdline.c csearch.c \
	digraph.c edit.c fileio.c getchar.c help.c linefunc.c main.c mark.c \
	memfile.c memline.c message.c misccmds.c normal.c ops.c option.c \
	pathdef.c quickfix.c regexp.c regsub.c screen.c search.c tables.c \
	tag.c term.c undo.c unix.c version.c window.c

DOCS=	vim_40.txt vim_ami.txt vim_arch.txt vim_diff.txt vim_digr.txt \
	vim_dos.txt vim_gui.txt vim_help.txt vim_idx.txt vim_kcc.txt \
	vim_mac.txt vim_menu.txt vim_mint.txt vim_os2.txt vim_ref.txt \
	vim_rlh.txt vim_tips.txt vim_unix.txt vim_w32.txt vim_win.txt \
	vim_tags

# I haven't tried this, but it's a start...
# Use the following to build Motif vim:
#SRCS+=	gui.c gui_motif.c gui_x11.c pty_openbsd.c
#LDADD+=	-L/usr/local/LessTiff/lib -L/usr/local/X11R6.1/lib -lXm -lXt -lX11 -lutil
#CFLAGS+=	-I/usr/local/LessTiff/include -I/usr/local/X11R6.1/include -DHAVE_X11 -DUSE_GUI_MOTIF
# Use the following to build Athena vim:
#SRCS+=	gui.c gui_athena.c gui_x11.c pty_openbsd.c gui_at_sb.c
#LDADD+=	-L/some/where/X11/lib -lXaw -lXt -lXmu -lX11 -lutil
#CFLAGS+=	-I/some/where/X11/include -DHAVE_X11 -DUSE_GUI_ATHENA

CLEANFILES+=	mkcmdtab mkcmdtab.o cmdtab.h

.depend cmdline.o: cmdtab.h

cmdtab.h: mkcmdtab cmdtab.tab
	${.OBJDIR}/mkcmdtab ${.CURDIR}/cmdtab.tab ${.OBJDIR}/cmdtab.h

mkcmdtab: mkcmdtab.o
	${CC} mkcmdtab.o -o mkcmdtab

afterinstall:
	${INSTALL} -d -m 555 -o ${BINOWN} -g ${BINGRP} ${DESTDIR}/usr/share/vim
	cd ${.CURDIR}/doc; for i in ${DOCS}; do \
		cmp -s $$i ${DESTDIR}/usr/share/vim/$$i || \
		${INSTALL} ${INSTALL_COPY} -m 444 -o ${BINOWN} -g ${BINGRP} $$i \
		${DESTDIR}/usr/share/vim; done

.include <bsd.prog.mk>
@


1.10
log
@add missing reference to infocmp
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 1998/02/23 12:06:25 downsj dead $
@


1.9
log
@This belongs in ports.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 1997/04/27 20:56:58 millert Exp $
d7 2
a8 2
LDADD+=	-ltermlib
DPADD+=	${LIBTERMLIB}
a9 6
LINKS=	${BINDIR}/vim ${BINDIR}/vi
LINKS+=	${BINDIR}/vim ${BINDIR}/view
LINKS+=	${BINDIR}/vim ${BINDIR}/ex
MLINKS=	vim.1 vi.1
MLINKS+=vim.1 view.1
MLINKS+=vim.1 ex.1
@


1.8
log
@COPY -> INSTALL_COPY and STRIP -> INSTALL_STRIP
This fixes namespace problems where STRIP is sometimes used as
the name of the strip(1) to use and other times used as
the flag to send install(1) when stripping (or not).
COPY doesn't have this problem (yet) but was poorly named.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 1997/01/31 18:11:01 kstailey Exp $
@


1.7
log
@add mkcmdtab.o to CLEANFILES
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 1996/12/08 14:32:38 downsj Exp $
d53 1
a53 1
		${INSTALL} ${COPY} -m 444 -o ${BINOWN} -g ${BINGRP} $$i \
@


1.6
log
@install -> ${INSTALL}, -c -> ${COPY}
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1996/10/15 08:35:25 downsj Exp $
d39 1
a39 1
CLEANFILES+=	mkcmdtab cmdtab.h
@


1.5
log
@ld is smarter then we are!
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1996/09/22 01:17:57 downsj Exp $
d32 2
a33 2
#LDADD+=	-L/some/where/motif/lib -L/some/where/X11/lib -lXm -lXt -lX11 -lutil
#CFLAGS+=	-I/some/where/motif/include -I/some/where/X11/include -DHAVE_X11 -DUSE_GUI_MOTIF
d50 1
a50 1
	install -d -m 555 -o ${BINOWN} -g ${BINGRP} ${DESTDIR}/usr/share/vim
d53 1
a53 1
		install -c -m 444 -o ${BINOWN} -g ${BINGRP} $$i \
@


1.4
log
@Add ex mode to vim, from eric@@rainbow.uchicago.edu via mool@@oce.nl.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1996/09/07 23:41:00 downsj Exp $
d32 1
a32 1
#LDADD+=	-L/some/where/motif/lib -L/some/where/X11/lib -lXm -lXt -lutil
d36 1
a36 1
#LDADD+=	-L/some/where/X11/lib -lXaw -lXt -lXmu -lutil
@


1.3
log
@One more slight fix.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 1996/09/07 23:29:16 downsj Exp $
d10 6
@


1.2
log
@Install the tags, too, and be more verbose.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1.1.1 1996/09/07 21:40:27 downsj Exp $
a50 1
.include "../Makefile.inc"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$OpenBSD$
d20 2
a21 1
	vim_rlh.txt vim_tips.txt vim_unix.txt vim_w32.txt vim_win.txt
d45 1
a45 1
	@@cd ${.CURDIR}/doc; for i in ${DOCS}; do \
@


1.1.1.1
log
@Initial import of vim 4.2.

This is meant to replace nvi in the tree.  Vim, in general, works better,
provides more features, and does not suffer from the license problems
being imposed upon nvi.

On the other hand, vim lacks a non-visual ex mode, in addition to open mode.

This includes the GUI (X11) code, but doesn't try to compile it.

@
text
@@
