head	1.68;
access;
symbols
	OPENBSD_6_2:1.68.0.6
	OPENBSD_6_2_BASE:1.68
	OPENBSD_6_1:1.68.0.4
	OPENBSD_6_1_BASE:1.68
	OPENBSD_6_0:1.67.0.2
	OPENBSD_6_0_BASE:1.67
	OPENBSD_5_9:1.66.0.2
	OPENBSD_5_9_BASE:1.66
	OPENBSD_5_8:1.66.0.4
	OPENBSD_5_8_BASE:1.66
	OPENBSD_5_7:1.65.0.2
	OPENBSD_5_7_BASE:1.65
	OPENBSD_5_6:1.61.0.12
	OPENBSD_5_6_BASE:1.61
	OPENBSD_5_5:1.61.0.10
	OPENBSD_5_5_BASE:1.61
	OPENBSD_5_4:1.61.0.6
	OPENBSD_5_4_BASE:1.61
	OPENBSD_5_3:1.61.0.4
	OPENBSD_5_3_BASE:1.61
	OPENBSD_5_2:1.61.0.2
	OPENBSD_5_2_BASE:1.61
	OPENBSD_5_1_BASE:1.59
	OPENBSD_5_1:1.59.0.2
	OPENBSD_5_0:1.58.0.2
	OPENBSD_5_0_BASE:1.58
	OPENBSD_4_9:1.57.0.2
	OPENBSD_4_9_BASE:1.57
	OPENBSD_4_8:1.56.0.2
	OPENBSD_4_8_BASE:1.56
	OPENBSD_4_7:1.54.0.2
	OPENBSD_4_7_BASE:1.54
	OPENBSD_4_6:1.50.0.10
	OPENBSD_4_6_BASE:1.50
	OPENBSD_4_5:1.50.0.6
	OPENBSD_4_5_BASE:1.50
	OPENBSD_4_4:1.50.0.4
	OPENBSD_4_4_BASE:1.50
	OPENBSD_4_3:1.50.0.2
	OPENBSD_4_3_BASE:1.50
	OPENBSD_4_2:1.47.0.2
	OPENBSD_4_2_BASE:1.47
	OPENBSD_4_1:1.44.0.2
	OPENBSD_4_1_BASE:1.44
	OPENBSD_4_0:1.33.0.4
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.33.0.2
	OPENBSD_3_9_BASE:1.33
	OPENBSD_3_8:1.29.0.2
	OPENBSD_3_8_BASE:1.29
	OPENBSD_3_7:1.25.0.2
	OPENBSD_3_7_BASE:1.25
	OPENBSD_3_6:1.24.0.2
	OPENBSD_3_6_BASE:1.24
	OPENBSD_3_5:1.23.0.2
	OPENBSD_3_5_BASE:1.23
	OPENBSD_3_4:1.22.0.2
	OPENBSD_3_4_BASE:1.22
	OPENBSD_3_3:1.19.0.4
	OPENBSD_3_3_BASE:1.19
	OPENBSD_3_2:1.19.0.2
	OPENBSD_3_2_BASE:1.19
	OPENBSD_3_1:1.18.0.2
	OPENBSD_3_1_BASE:1.18
	OPENBSD_3_0:1.17.0.2
	OPENBSD_3_0_BASE:1.17
	OPENBSD_2_9_BASE:1.16
	OPENBSD_2_9:1.16.0.2
	OPENBSD_2_8:1.14.0.2
	OPENBSD_2_8_BASE:1.14
	OPENBSD_2_7:1.13.0.2
	OPENBSD_2_7_BASE:1.13
	OPENBSD_2_6:1.12.0.2
	OPENBSD_2_6_BASE:1.12
	OPENBSD_2_5:1.8.0.2
	OPENBSD_2_5_BASE:1.8
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.3.0.4
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.2
	OPENBSD_2_2_BASE:1.3;
locks; strict;
comment	@# @;


1.68
date	2016.09.08.16.47.47;	author tedu;	state Exp;
branches;
next	1.67;
commitid	7v63pwakWD8ih95P;

1.67
date	2016.05.11.08.11.27;	author edd;	state Exp;
branches;
next	1.66;
commitid	dYywJegc3emWYNiH;

1.66
date	2015.05.06.07.53.29;	author mpi;	state Exp;
branches;
next	1.65;
commitid	Q6ompHwEqgonty8G;

1.65
date	2015.02.28.21.51.57;	author bentley;	state Exp;
branches;
next	1.64;
commitid	NNu2UZnsd5zmNVYD;

1.64
date	2014.09.17.02.20.07;	author dlg;	state Exp;
branches;
next	1.63;
commitid	bdFlfrN8bfajQQHx;

1.63
date	2014.09.17.02.10.27;	author dlg;	state Exp;
branches;
next	1.62;
commitid	oeeW5TL8NlIDc7Hs;

1.62
date	2014.09.08.01.27.55;	author schwarze;	state Exp;
branches;
next	1.61;
commitid	cPoapLAXYNe1fcgV;

1.61
date	2012.06.06.12.12.12;	author jmc;	state Exp;
branches;
next	1.60;

1.60
date	2012.06.05.18.52.53;	author brynet;	state Exp;
branches;
next	1.59;

1.59
date	2011.12.16.14.50.24;	author jsing;	state Exp;
branches;
next	1.58;

1.58
date	2011.03.25.12.53.09;	author jmc;	state Exp;
branches;
next	1.57;

1.57
date	2010.08.10.20.34.16;	author sobrado;	state Exp;
branches;
next	1.56;

1.56
date	2010.04.23.09.27.10;	author otto;	state Exp;
branches;
next	1.55;

1.55
date	2010.03.24.05.03.15;	author lum;	state Exp;
branches;
next	1.54;

1.54
date	2010.01.29.00.36.09;	author tedu;	state Exp;
branches;
next	1.53;

1.53
date	2009.12.22.18.14.23;	author jmc;	state Exp;
branches;
next	1.52;

1.52
date	2009.12.10.13.19.47;	author tedu;	state Exp;
branches;
next	1.51;

1.51
date	2009.12.10.13.16.02;	author tedu;	state Exp;
branches;
next	1.50;

1.50
date	2007.11.17.09.29.59;	author jmc;	state Exp;
branches;
next	1.49;

1.49
date	2007.11.17.09.28.39;	author jmc;	state Exp;
branches;
next	1.48;

1.48
date	2007.09.17.16.59.07;	author jmc;	state Exp;
branches;
next	1.47;

1.47
date	2007.05.31.19.20.18;	author jmc;	state Exp;
branches;
next	1.46;

1.46
date	2007.05.29.00.56.56;	author otto;	state Exp;
branches;
next	1.45;

1.45
date	2007.03.15.22.02.22;	author jmc;	state Exp;
branches;
next	1.44;

1.44
date	2007.02.14.08.29.28;	author jmc;	state Exp;
branches;
next	1.43;

1.43
date	2007.02.13.16.16.23;	author jmc;	state Exp;
branches;
next	1.42;

1.42
date	2007.02.13.16.14.46;	author jmc;	state Exp;
branches;
next	1.41;

1.41
date	2007.02.09.21.15.18;	author jmc;	state Exp;
branches;
next	1.40;

1.40
date	2007.02.09.20.11.02;	author jmc;	state Exp;
branches;
next	1.39;

1.39
date	2007.02.06.15.27.25;	author jmc;	state Exp;
branches;
next	1.38;

1.38
date	2007.02.04.19.17.14;	author otto;	state Exp;
branches;
next	1.37;

1.37
date	2007.01.10.14.02.20;	author jmc;	state Exp;
branches;
next	1.36;

1.36
date	2007.01.03.18.59.20;	author otto;	state Exp;
branches;
next	1.35;

1.35
date	2007.01.03.18.57.49;	author otto;	state Exp;
branches;
next	1.34;

1.34
date	2006.12.27.07.24.52;	author otto;	state Exp;
branches;
next	1.33;

1.33
date	2005.12.05.12.20.27;	author jmc;	state Exp;
branches;
next	1.32;

1.32
date	2005.12.04.23.10.06;	author tedu;	state Exp;
branches;
next	1.31;

1.31
date	2005.09.06.23.30.33;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2005.09.06.23.28.23;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2005.06.17.09.40.48;	author markus;	state Exp;
branches;
next	1.28;

1.28
date	2005.05.25.02.19.43;	author jaredy;	state Exp;
branches;
next	1.27;

1.27
date	2005.05.14.09.03.31;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2005.05.13.20.43.30;	author jaredy;	state Exp;
branches;
next	1.25;

1.25
date	2004.10.07.06.26.12;	author otto;	state Exp;
branches;
next	1.24;

1.24
date	2004.05.10.20.26.08;	author millert;	state Exp;
branches;
next	1.23;

1.23
date	2003.09.19.10.32.24;	author jmc;	state Exp;
branches;
next	1.22;

1.22
date	2003.09.02.18.50.07;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2003.06.10.09.12.12;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2003.06.03.21.09.02;	author deraadt;	state Exp;
branches;
next	1.19;

1.19
date	2002.04.21.18.53.43;	author hugh;	state Exp;
branches;
next	1.18;

1.18
date	2001.11.11.01.48.58;	author fgsch;	state Exp;
branches;
next	1.17;

1.17
date	2001.05.10.18.13.06;	author aaron;	state Exp;
branches;
next	1.16;

1.16
date	2000.11.10.05.10.41;	author aaron;	state Exp;
branches;
next	1.15;

1.15
date	2000.11.09.17.52.44;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	2000.07.06.04.06.57;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	2000.03.11.21.40.05;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	99.10.17.20.24.36;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	99.06.23.06.53.39;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	99.06.05.01.21.44;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	99.05.16.19.58.04;	author alex;	state Exp;
branches;
next	1.8;

1.8
date	99.03.22.23.41.56;	author pjanzen;	state Exp;
branches;
next	1.7;

1.7
date	99.02.19.19.15.07;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	98.12.16.02.38.50;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	98.10.30.00.24.39;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	98.08.21.13.55.24;	author kstailey;	state Exp;
branches;
next	1.3;

1.3
date	97.08.30.17.20.58;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	97.08.14.15.05.03;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	97.08.14.14.00.25;	author downsj;	state Exp;
branches;
next	;


desc
@@


1.68
log
@as with ps, update bug to caveat and clarify
@
text
@.\"	$OpenBSD: top.1,v 1.67 2016/05/11 08:11:27 edd Exp $
.\"
.\" Copyright (c) 1997, Jason Downs.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR(S) ``AS IS'' AND ANY EXPRESS
.\" OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
.\" DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR(S) BE LIABLE FOR ANY DIRECT,
.\" INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
.\" (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
.\" SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
.\" CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: May 11 2016 $
.Dt TOP 1
.Os
.Sh NAME
.Nm top
.Nd display and update information about the top CPU processes
.Sh SYNOPSIS
.Nm top
.Bk -words
.Op Fl 1bCHIinqSu
.Op Fl d Ar count
.Op Fl g Ar string
.Op Fl o Ar field
.Op Fl p Ar pid
.Op Fl s Ar time
.Op Fl U Oo - Oc Ns Ar user
.Op Ar number
.Ek
.Sh DESCRIPTION
.Nm
displays the top processes on the system and periodically updates this
information.
If standard output is an intelligent terminal (see below) then
as many processes as will fit on the terminal screen are displayed
by default.
Otherwise, a good number of them are shown (around 20).
Raw CPU percentage is used to rank the processes.
If
.Ar number
is given, then the top
.Ar number
processes will be displayed instead of the default.
.Pp
.Nm
makes a distinction between terminals that support advanced capabilities
and those that do not.
This distinction affects the choice of defaults for certain options.
In the remainder of this document, an
.Em intelligent
terminal is one that supports cursor addressing, clear screen, and clear
to end of line.
Conversely, a
.Em dumb
terminal is one that does not support such features.
If the output of
.Nm
is redirected to a file, it acts as if it were being run on a dumb
terminal.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl 1
Display combined CPU statistics for all processors on a single line
instead of one line per CPU.
If there are more than 8 CPUs detected in the system this option
is automatically enabled.
.It Fl b
Use
.Em batch
mode.
In this mode, all input from the terminal is ignored.
Interrupt characters (such as
.Ql ^C
and
.Ql ^\e )
still have an effect.
This is the default on a dumb terminal, or when the output is not a terminal.
.It Fl C
Show command line arguments
as well as the process itself.
.It Fl d Ar count
Show only
.Ar count
displays, then exit.
A display is considered to be one update of the screen.
This option allows the user to select the number of displays
to be shown before
.Nm
automatically exits.
For intelligent terminals, no upper limit is set.
The default is 1 for dumb terminals.
.It Fl g Ar string
Display only processes that contain
.Ar string
in their command name.
If displaying of arguments is enabled, the arguments are searched too.
.It Fl H
Show process threads in the display.
Normally, only the main process is shown.
This option makes all threads visible.
.It Fl I
Do not display idle processes.
By default,
.Nm
displays both active and idle processes.
.It Fl i
Use
.Em interactive
mode.
In this mode, any input is immediately read for processing.
See the section on
.Sx INTERACTIVE MODE
for an explanation of which keys perform what functions.
After the command
is processed, the screen will immediately be updated, even if the command was
not understood.
This mode is the default when standard output is an intelligent terminal.
.It Fl n
Use
.Em non-interactive
mode.
This is identical to
.Em batch
mode.
.It Fl o Ar field
Sort the process display area using the specified
.Ar field
as the primary key.
The field name is the name of the column as seen in the output,
but in lower case.
The
.Ox
version of
.Nm
supports
.Ar cpu ,
.Ar size ,
.Ar res ,
.Ar time ,
.Ar pri ,
.Ar pid ,
and
.Ar command .
.It Fl p Ar pid
Show only the process
.Ar pid .
.It Fl q
Renice
.Nm
to \-20 so that it will run faster.
This can be used when the system is
being very sluggish to improve the possibility of discovering the problem.
This option can only be used by root.
.It Fl S
Show system processes in the display.
Normally, system processes such as the pager and the swapper are not shown.
This option makes them visible.
.It Fl s Ar time
Set the delay between screen updates to
.Ar time
seconds.
The value may be fractional, to permit delays of less than 1 second.
The default delay between updates is 5 seconds.
.It Fl U Oo - Oc Ns Ar user
Show only those processes owned by
.Ar user .
The prefix
.Sq -
hides processes owned by that user.
This option currently only accepts usernames and does not understand
UID numbers.
.It Fl u
Do not take the time to map UID numbers to usernames.
Normally,
.Nm
will read as much of the password database as is necessary to map
all the user ID numbers it encounters into login names.
This option
disables all that, while possibly decreasing execution time.
The UID numbers are displayed instead of the names.
.El
.Pp
Both
.Ar count
and
.Ar number
fields can be specified as
.Li infinite ,
indicating that they can stretch as far as possible.
This is accomplished by using any proper prefix of the keywords
.Li infinity ,
.Li maximum ,
or
.Li all .
The default for
.Ar count
on an intelligent terminal is, in fact,
.Li infinity .
.Pp
The environment variable
.Ev TOP
is examined for options before the command line is scanned.
This enables a user to set his or her own defaults.
The number of processes to display
can also be specified in the environment variable
.Ev TOP .
.Pp
The options
.Fl I ,
.Fl S ,
and
.Fl u
are actually toggles.
A second specification of any of these options
will negate the first.
Thus a user who has the environment variable
.Ev TOP
set to
.Dq -I
may use the command
.Dq top -I
to see idle processes.
.Sh INTERACTIVE MODE
When
.Nm
is running in
.Em interactive mode ,
it reads commands from the terminal and acts upon them accordingly.
In this mode, the terminal is put in
.Dv CBREAK ,
so that a character will be processed as soon as it is typed.
Almost always, a key will be pressed when
.Nm
is between displays; that is, while it is waiting for
.Ar time
seconds to elapse.
If this is the case, the command will be
processed and the display will be updated immediately thereafter
(reflecting any changes that the command may have specified).
This happens even if the command was incorrect.
If a key is pressed while
.Nm
is in the middle of updating the display, it will finish the update and
then process the command.
Some commands require additional information,
and the user will be prompted accordingly.
While typing this information
in, the user's erase and kill keys (as set up by the command
.Xr stty 1 )
are recognized, and a newline terminates the input.
.Pp
These commands are currently recognized (^L refers to control-L):
.Bl -tag -width XxXXXX
.It h | \&?
Display a summary of the commands (help screen).
.It ^L
Redraw the screen.
.It <space>
Update the screen.
.It q
Quit
.Nm .
.El
.Bl -tag -width XxXXXX
.It +
Reset any filters put in place by the
.Sq g ,
.Sq p ,
and
.Sq u
interactive commands,
or their command line equivalents,
or any process highlighting put in place by the
.Sq P
interactive command.
.It 1
Toggle the display of per CPU or combined CPU statistics.
.It C
Toggle the display of process command line arguments.
.It d Ar count
Show only
.Ar count
displays,
then exit.
.It e
Display a list of system errors (if any) generated by the last
.Li kill
or
.Li renice
command.
.It g Ar string
Display only processes that contain
.Ar string
in their command name.
If displaying of arguments is enabled, the arguments are searched too.
.Sq g+
shows all processes.
.It H
Toggle the display of process threads.
.It I | i
Toggle the display of idle processes.
.It Xo k
.Op - Ns Ar sig
.Ar pid
.Xc
Send signal
.No - Ns Ar sig
.Pf ( Dv TERM
by default) to process
.Ar pid .
This acts similarly to the command
.Xr kill 1 .
.It n\*(Ba# Ar count
Show
.Ar count
processes.
.It o Ar field
Sort the process display area using the specified
.Ar field
as the primary key.
Values are the same as for the
.Fl o
flag, as detailed above.
.It P Ar pid
Highlight a specific process, selected by
.Ar pid .
.Sq P+
removes process highlighting.
.It p Ar pid
Show only the process
.Ar pid .
.Sq p+
shows all processes.
.It r Ar count pid
Change the priority (the
.Em nice )
of a list of processes to
.Ar count
for process
.Ar pid .
This acts similarly to the command
.Xr renice 8 .
.It S
Toggle the display of system processes.
.It s Ar time
Set the delay between screen updates to
.Ar time
seconds.
.It u Oo - Oc Ns Ar user
Show only those processes owned by
.Ar user .
.Sq u+
shows processes belonging to all users.
The
.Sq -
prefix hides processes belonging to a single
.Ar user .
.El
.Sh THE DISPLAY
.\" The actual display varies depending on the specific variant of Unix
.\" that the machine is running.  This description may not exactly match
.\" what is seen by top running on this particular machine.  Differences
.\" are listed at the end of this manual entry.
.\" .Pp
The top few lines of the display show general information
about the state of the system, including
.\" the last process ID assigned to a process,
.\" (on most systems),
the three load average numbers,
the hostname,
the current time,
the number of existing processes,
the number of processes in each state
(starting, running, idle, stopped, zombie, dead, and on processor),
and a percentage of time spent in each of the processor states
(user, nice, system, interrupt, and idle).
It also includes information about physical and virtual memory allocation.
The load average numbers give the number of jobs in the run queue averaged
over 1, 5, and 15 minutes.
.Pp
The remainder of the screen displays information about individual
processes.
This display is similar in spirit to
.Xr ps 1
but it is not exactly the same.
The following fields are displayed:
.Bl -tag -width USERNAME -offset indent
.It PID
The process ID.
.It USERNAME
The name of the process's owner.
.It TID
The thread ID, used instead of USERNAME if
.Fl H
is specified.
.It UID
Used instead of USERNAME if
.Fl u
is specified.
.It PRI
The current priority of the process.
.It NICE
The nice amount (in the range \-20 to 20).
.It SIZE
The total size of the process (the text, data, and stack segments).
.It RES
The current amount of resident memory.
.It STATE
The current state (one of
.Li start ,
.Li run ,
.Li sleep ,
.Li stop ,
.Li idle ,
.Li zomb ,
.Li dead ,
or
.Li onproc ) .
On multiprocessor systems, this is followed by a slash and the CPU
number on which the process is bound.
.It WAIT
A description of the wait channel the process is sleeping on if it's
asleep.
.It TIME
The number of system and user CPU seconds that the process has used.
.It CPU
The raw percentage of CPU usage and the default field on which the
display is sorted.
.It COMMAND
The name of the command that the process is currently running.
(If the process is swapped out, this column is enclosed by angle
brackets.)
.El
.Sh ENVIRONMENT
.Bl -tag -width Ev
.It Ev TOP
User-configurable defaults for options.
.El
.Sh FILES
.Bl -tag -width "/etc/passwdXXX" -compact
.It Pa /dev/kmem
kernel memory
.It Pa /dev/mem
physical memory
.It Pa /etc/passwd
used to map user ID to user
.It Pa /bsd
kernel image
.El
.Sh SEE ALSO
.Xr fstat 1 ,
.Xr kill 1 ,
.Xr netstat 1 ,
.Xr ps 1 ,
.Xr stty 1 ,
.Xr systat 1 ,
.Xr mem 4 ,
.Xr iostat 8 ,
.Xr pstat 8 ,
.Xr renice 8 ,
.Xr vmstat 8
.Sh AUTHORS
.An William LeFebvre ,
EECS Department, Northwestern University
.Sh CAVEATS
As with
.Xr ps 1 ,
.Nm
only provides snapshots of a constantly changing system.
@


1.67
log
@Allow top(1) to filter process args if they are being displayed.

OK tedu@@, deraadt@@, and with input from Michal Mazurek.

Thanks
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.66 2015/05/06 07:53:29 mpi Exp $
d26 1
a26 1
.Dd $Mdocdate: May 6 2015 $
d480 1
a480 1
.Sh BUGS
a482 1
things can change while
d484 1
a484 3
is collecting information for an update.
The picture it gives is only a
close approximation to reality.
@


1.66
log
@Display thread IDs instead of the name of the process's owner when "-H"
is used.

The rationnal is that when you're looking at threads you're generally
already filtereing by PID and this allow you to see which thread is a
pig.

Written some time ago with mikeb@@

ok sthen@@, krw@@, guenther@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.65 2015/02/28 21:51:57 bentley Exp $
d26 1
a26 1
.Dd $Mdocdate: February 28 2015 $
d111 1
d310 1
@


1.65
log
@Reduce usage of predefined strings in manpages.

Predefined strings are not very portable across troff implementations,
and they make the source much harder to read. Usually the intended
character can be written directly.

No output changes, except for two instances where the incorrect escape
was used in the first place.

tweaks + ok schwarze@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.64 2014/09/17 02:20:07 dlg Exp $
d26 1
a26 1
.Dd $Mdocdate: September 17 2014 $
d405 4
@


1.64
log
@try to document that the -1 option will be selected by default if more
than 8 cpus are detected in the system.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.63 2014/09/17 02:10:27 dlg Exp $
d268 1
a268 1
.It h \*(Ba \&?
d313 1
a313 1
.It I \*(Ba i
@


1.63
log
@be more explicit about what '1' toggles between
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.62 2014/09/08 01:27:55 schwarze Exp $
d26 1
a26 1
.Dd $Mdocdate: September 8 2014 $
d80 2
@


1.62
log
@obvious cases of missing .An;
found with the new mandoc(1) MANDOCERR_AN_MISSING warning;
no text changes
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.61 2012/06/06 12:12:12 jmc Exp $
d26 1
a26 1
.Dd $Mdocdate: June 6 2012 $
d289 1
a289 1
Toggle the display of CPU statistics.
@


1.61
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.60 2012/06/05 18:52:53 brynet Exp $
d26 1
a26 1
.Dd $Mdocdate: June 5 2012 $
d470 2
a471 1
William LeFebvre, EECS Department, Northwestern University
@


1.60
log
@Add support for hiding a user's processes in top.

feedback & ok lum@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.59 2011/12/16 14:50:24 jsing Exp $
d26 1
a26 1
.Dd $Mdocdate: December 16 2011 $
d41 1
a41 1
.Oo Fl U Op Ar - Oc Ns Ar user
d176 1
a176 1
.It Fl U Oo Ar - Oc Ns Ar user
d179 4
a182 6
Prefix
.Ar -
with
.Ar user
to hide processes owned by that user.
This option currently only accepts usernames and will not understand
d360 1
a360 1
.It u Oo Ar - Oc Ns Ar user
d366 1
a366 1
.Ar -
@


1.59
log
@Use H to make top show process threads, instead of the current T. This is
consistent with our ps(1) and top(1) on other operating systems.

ok deraadt@@ mikeb@@ millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.57 2010/08/10 20:34:16 sobrado Exp $
d26 1
a26 1
.Dd $Mdocdate: August 10 2010 $
d41 1
a41 1
.Op Fl U Ar user
d176 1
a176 1
.It Fl U Ar user
d179 5
d362 1
a362 1
.It u Ar user
d367 4
@


1.58
log
@clarify the description of the `1' command;
from David Vasek and Glen Anderson
@
text
@d35 1
a35 1
.Op Fl 1bCIinqSTu
d109 4
a175 4
.It Fl T
Show process threads in the display.
Normally, only the main process is shown.
This option makes all threads visible.
d306 2
a356 2
.It T
Toggle the display of process threads.
@


1.57
log
@add a description for bsd.sp where appropriate; while here, write
"multiprocessor" in a consistent way.

written with lots of good advice from jmc@@, who noted that changing
hier(7) was not enough and carefully reviewed this diff.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.56 2010/04/23 09:27:10 otto Exp $
d26 1
a26 1
.Dd $Mdocdate: April 23 2010 $
d78 2
a79 1
Display CPU statistics on a single line instead of a line per CPU.
d286 1
a286 1
Display CPU statistics on a single line instead of a line per CPU.
@


1.56
log
@mention hostname, prompted by lum@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.55 2010/03/24 05:03:15 lum Exp $
d26 1
a26 1
.Dd $Mdocdate: March 24 2010 $
d418 1
a418 1
On multi-processor systems, this is followed by a slash and the CPU
@


1.55
log
@Document updating the display using the space-bar.
ok jmc@@ otto@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.54 2010/01/29 00:36:09 tedu Exp $
d26 1
a26 1
.Dd $Mdocdate: January 29 2010 $
d373 1
@


1.54
log
@Allow sorting by command and pid.  Also, allow partial matches with strncmp.
ok jmc otto
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.53 2009/12/22 18:14:23 jmc Exp $
d26 1
a26 1
.Dd $Mdocdate: December 22 2009 $
d266 2
@


1.53
log
@add `1' to the interactive command list too; from Mark Lumsden
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.52 2009/12/10 13:19:47 tedu Exp $
d26 1
a26 1
.Dd $Mdocdate: December 10 2009 $
d147 2
d150 1
a150 1
.Ar pri .
@


1.52
log
@better wording for 1 option from jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.51 2009/12/10 13:16:02 tedu Exp $
d280 2
@


1.51
log
@add an option '1' to display all cpu stats combined.  helps save space
with increasing processor counts.
ok deraadt (kettenis otto)
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.50 2007/11/17 09:29:59 jmc Exp $
d26 1
a26 1
.Dd $Mdocdate: November 17 2007 $
d78 1
a78 1
Combine all CPU lines into a single line.
@


1.50
log
@oops - fix dodgy -width specifier too;
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.49 2007/11/17 09:28:39 jmc Exp $
d35 1
a35 1
.Op Fl bCIinqSTu
d77 2
@


1.49
log
@talk about "user" consistently; from Mark Lumsden
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.48 2007/09/17 16:59:07 jmc Exp $
d26 1
a26 1
.Dd $Mdocdate: September 17 2007 $
d430 1
a430 1
.Bl -tag -width Pa -compact
@


1.48
log
@small update regarding removal of process highlighting;
spotted by Mark Lumsden
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.47 2007/05/31 19:20:18 jmc Exp $
d26 1
a26 1
.Dd $Mdocdate$
d436 1
a436 1
used to map user ID to name
@


1.47
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.46 2007/05/29 00:56:56 otto Exp $
d274 4
a277 1
or their command line equivalents.
d324 2
@


1.46
log
@Instead of using hand-crafted redraws minimizing screen updates, use curses.
Enables nice things like process highlighting without hurting the brain.
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.45 2007/03/15 22:02:22 jmc Exp $
d26 1
a26 1
.Dd August 14, 1997
@


1.45
log
@make the description of command line options and interactive
commands more consistent;

started by a diff from Mark Lumsden
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.44 2007/02/14 08:29:28 jmc Exp $
a265 2
.Pp
The following commands may not be available with overstrike terminals:
d318 3
@


1.44
log
@more refinements for the interactive commands section; ok otto
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.43 2007/02/13 16:16:23 jmc Exp $
d34 1
d37 1
a37 1
.Op Fl g Ar command
d41 1
a41 1
.Op Fl U Ar username
d43 1
d102 3
a104 3
.It Fl g Ar command
Show only processes that contain the string
.Ar command
d131 3
a133 1
Sort the process display area using the specified field as the primary key.
d171 1
a171 1
.It Fl U Ar username
d173 1
a173 1
.Ar username .
d314 3
a316 2
Change the sorting order of the processes, selected by
.Ar field .
d321 1
a321 1
Display a specific process, selected by
d343 1
a343 1
Display only processes owned by a specific
@


1.43
log
@mark up `dumb' using .Em, to be consistent with an earlier
mark up of `intelligent';
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.42 2007/02/13 16:14:46 jmc Exp $
d275 5
a279 9
.It d Ar n
Show number
.Ar n
displays.
Remember that the next display counts as one, so typing
.Sq d1
will make
.Nm
show one final display and then immediately exit.
d305 3
a307 3
.It n\*(Ba# Ar n
Show number
.Ar n
d320 1
a320 1
.It r Ar n pid
d323 2
a324 2
of a list of processes to number
.Ar n
d331 3
a333 3
.It s Ar n
Change the time of the delay between displays to
.Ar n
@


1.42
log
@improve the description for -C;

started by a mail from Igor Sobrado;
ok otto
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.41 2007/02/09 21:15:18 jmc Exp $
d66 1
a66 1
.Dq dumb
@


1.41
log
@document how signalling via `k' works, after some help from theo and miod;
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.40 2007/02/09 20:11:02 jmc Exp $
d87 2
a88 3
Show process
.Em command
line arguments.
@


1.40
log
@clean up the interactive commands list, mainly by showing
the arguments these commands take;

based on some improvements from Mark Lumsden
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.39 2007/02/06 15:27:25 jmc Exp $
d299 6
a304 2
.It k
Send a signal
d306 2
a307 1
by default) to a list of processes.
@


1.39
log
@document the `+' interactive command more fully;
help/ok otto
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.38 2007/02/04 19:17:14 otto Exp $
d255 1
a255 1
.It h or \&?
d261 1
a261 1
.Nm top .
d276 4
a279 2
.It d
Change the number of displays to show (prompt for new number).
d281 1
a281 1
.Dq d1
d291 7
a297 7
.It g
Display only processes that contain a string in their command name
(prompt for string).
If the string specified is simply
.Sq + ,
then no process name matching will be done.
.It I or i
d305 7
a311 5
.It n or #
Change the number of processes to display (prompt for new number).
.It o
Change the sorting order of the processes
.Pq prompt for order .
d315 6
a320 6
.It p
Display a specific process (prompt for PID).
If the PID specified is simply
.Sq + ,
then processes belonging to all users will be displayed.
.It r
d323 4
a326 2
of a list of processes (prompt for the new nice value and the list of
PIDs, all separated by space).
d331 4
a334 3
.It s
Change the number of seconds to delay between displays
(prompt for new number).
d337 5
a341 5
.It u
Display only processes owned by a specific username (prompt for username).
If the username specified is simply
.Sq + ,
then processes belonging to all users will be displayed.
@


1.38
log
@Introducing the '+' interactive command to reset all filters.
From Mark Lumsden. ok millert@@ deraadt@@ simon@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.37 2007/01/10 14:02:20 jmc Exp $
d267 7
a273 1
Remove process filter(s).
@


1.37
log
@- use .Sq for single characters, rather than .Dq
- zap trailing whitespace
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.36 2007/01/03 18:59:20 otto Exp $
d266 2
@


1.36
log
@Missing 'T' in interactive command list. From Mark Lumsden.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.35 2007/01/03 18:57:49 otto Exp $
d281 1
a281 1
.It g 
d285 1
a285 1
.Dq + ,
d306 1
a306 1
.Dq + ,
d325 1
a325 1
.Dq + ,
@


1.35
log
@Add a 'g' command to only show processes having a string in their
command name. ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.34 2006/12/27 07:24:52 otto Exp $
d320 2
@


1.34
log
@Also provide 'C' as a command line arg. From Mark Lumsden <mark at cyodesigns
dot com>.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.33 2005/12/05 12:20:27 jmc Exp $
d36 1
d101 4
d281 6
@


1.33
log
@oops: forgot to remind tedu to add -T to SYNOPSIS too...
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.32 2005/12/04 23:10:06 tedu Exp $
d34 1
a34 1
.Op Fl bIinqSTu
d85 4
@


1.32
log
@support for toggling thread viewing.
ok brad, hints from jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.31 2005/09/06 23:30:33 jmc Exp $
d34 1
a34 1
.Op Fl bIinqSu
@


1.31
log
@pesky comma;
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.30 2005/09/06 23:28:23 jmc Exp $
d155 4
@


1.30
log
@make some of the stat utility pages reference each other;
idea from a mail to misc@@ from simon dassow;
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.29 2005/06/17 09:40:48 markus Exp $
d404 1
a404 1
.Xr vmstat 8 ,
@


1.29
log
@add a 'C' command ) that toggles the display of the full cmdline;
with Jared Yanovich; ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.28 2005/05/25 02:19:43 jaredy Exp $
d394 1
d396 1
d401 4
a404 1
.Xr renice 8
@


1.28
log
@SIZE and RES are not always in kbytes
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.27 2005/05/14 09:03:31 jmc Exp $
d253 2
@


1.27
log
@sort options + sync usage();
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.26 2005/05/13 20:43:30 jaredy Exp $
a346 1
Given in kilobytes.
a348 1
Given in kilobytes.
@


1.26
log
@grab bag of man page updates
- sync to reality (kill first BUG, WCPU field, and ABANDONED
  state and add WAIT field description)
- transform paragraph of field descriptions into a list
- minor mdoc, spelling, capitalization nits

ok & help jmc, mickey
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.25 2004/10/07 06:26:12 otto Exp $
d34 1
a34 1
.Op Fl biInqSu
d96 5
a112 5
.It Fl I
Do not display idle processes.
By default,
.Nm
displays both active and idle processes.
d145 4
d155 5
a159 4
.It Fl S
Show system processes in the display.
Normally, system processes such as the pager and the swapper are not shown.
This option makes them visible.
a168 5
.It Fl U Ar username
Show only those processes owned by
.Ar username .
This option currently only accepts usernames and will not understand
UID numbers.
d242 2
a245 2
.It h or \&?
Display a summary of the commands (help screen).
d266 1
a266 1
.It i or I
d294 2
a298 2
.It S
Toggle the display of system processes.
@


1.25
log
@introduce -p option and p command to only show a single process.
From Patrick Latifi. ok deraadt@@ millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.24 2004/05/10 20:26:08 millert Exp $
d110 3
a112 1
By default, top displays both active and idle processes.
d126 3
a128 1
version of top supports
d141 1
a141 1
to -20 so that it will run faster.
d283 2
a284 2
Display a specific process (prompt for pid).
If the pid specified is simply
d290 2
a291 1
of a list of processes.
d319 1
a319 1
(sleeping, running, starting, zombies, and stopped),
d321 1
a321 1
(user, nice, system, and idle).
d324 1
a324 1
over 1, 5 and 15 minutes.
d331 8
a338 2
PID is the process ID, USERNAME is the name
of the process's owner (if
d340 15
a354 7
is specified, a UID column will be substituted for USERNAME),
PRI is the current priority of the process,
NICE is the nice amount (in the range -20 to 20),
SIZE is the total size of the process (text, data, and stack),
RES is the current amount of resident memory (both SIZE and RES are
given in kilobytes),
STATE is the current state (one of
d356 2
a357 3
.Li WAIT ,
.Li run ,
.Li idl ,
d359 1
d361 16
a376 18
.Li stop ) ,
TIME is the number of system and user CPU seconds that the process has used,
WCPU, when displayed, is the weighted CPU percentage (this is the same
value that
.Xr ps 1
displays as CPU),
CPU is the raw percentage and is the field that is sorted to determine
the order of the processes, and
COMMAND is the name of the command that the process is currently running
(if the process is swapped out, this column is marked
.Li <swapped> ) .
.Sh NOTES
The
.Em ABANDONED
state (known in the kernel as
.Em SWAIT )
was abandoned, thus the name.
A process should never end up in this state.
d378 1
a378 1
.Bl -tag -width XxXXXX
d383 1
a383 1
.Bl -tag -width XxXXXXXXX -compact
d388 2
a402 3
The command name for swapped processes should be tracked down, but this
would make the program run slower.
.Pp
@


1.24
log
@Describe load average and remove useless "BUG".  OK deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.23 2003/09/19 10:32:24 jmc Exp $
d37 1
d131 3
d278 5
@


1.23
log
@commands.c: add `o' and `S' to internal help, sort options
top.1: sort options and SYNOPSIS
       add description of `o' (from Patrick Latifi)
top.c: sync usage() with SYNOPSIS

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.22 2003/09/02 18:50:07 jmc Exp $
d301 1
a301 1
the three load averages,
d309 2
a374 21
Don't shoot me, but the default for
.Fl I
has changed once again.
So many people were confused by the fact that
.Nm
wasn't showing them all the processes that I have decided to make the
default behavior show idle processes, just like it did in version 2.
But to appease folks who can't stand that behavior, I have added the
ability to set
.Li default
options in the environment variable
.Ev TOP
(see the
.Sx OPTIONS
section).
Those who want the behavior that version 3.0 had need only set
the environment variable
.Ev TOP
to
.Li -I .
.Pp
@


1.22
log
@escape punctuation;
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.21 2003/06/10 09:12:12 jmc Exp $
d34 1
a34 1
.Op Fl SbiInqu
d36 1
a37 1
.Op Fl o Ar field
a72 4
.It Fl S
Show system processes in the display.
Normally, system processes such as the pager and the swapper are not shown.
This option makes them visible.
d84 11
d117 13
d137 10
a155 30
.It Fl d Ar count
Show only
.Ar count
displays, then exit.
A display is considered to be one update of the screen.
This option allows the user to select the number of displays
to be shown before
.Nm
automatically exits.
For intelligent terminals, no upper limit is set.
The default is 1 for dumb terminals.
.It Fl s Ar time
Set the delay between screen updates to
.Ar time
seconds.
The value may be fractional, to permit delays of less than 1 second.
The default delay between updates is 5 seconds.
.It Fl o Ar field
Sort the process display area using the specified field as the primary key.
The field name is the name of the column as seen in the output,
but in lower case.
The
.Ox
version of top supports
.Ar cpu ,
.Ar size ,
.Ar res ,
.Ar time ,
and
.Ar pri .
d241 4
d252 8
a259 5
.It n or #
Change the number of processes to display (prompt for new number).
.It s
Change the number of seconds to delay between displays
(prompt for new number).
d266 8
d280 5
a289 10
.It e
Display a list of system errors (if any) generated by the last
.Li kill
or
.Li renice
command.
.It i or I
Toggle the display of idle processes.
.It S
Toggle the display of system processes.
@


1.21
log
@- section reorder
- COMPATIBILITY merge
- macro cleanup
- kill whitespace at EOL
- new sentence, new line

ssh pages ok markus@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.20 2003/06/03 21:09:02 deraadt Exp $
d236 1
a236 1
.It h or ?
@


1.20
log
@terms 3 & 4 cleanup based on "terms" file
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.19 2002/04/21 18:53:43 hugh Exp $
d255 1
a255 1
.Ns ( Dv TERM
d336 1
a336 1
.Em SWAIT Ns )
@


1.19
log
@Document fractional delays.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.18 2001/11/11 01:48:58 fgsch Exp $
a12 7
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"      This product includes software developed by Jason Downs for the
.\"      OpenBSD system.
.\" 4. Neither the name(s) of the author(s) nor the name OpenBSD
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
@


1.18
log
@Add 'S' to interactive mode to toggle the display of system
processes; From NetBSD.
millert@@ ok.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.17 2001/05/10 18:13:06 aaron Exp $
d148 1
@


1.17
log
@Typo; physial -> physical.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.16 2000/11/10 05:10:41 aaron Exp $
d284 2
@


1.16
log
@- Section shuffling: comply to the section ordering outlined in mdoc(7).
- Some .Nm trimming.
- .Sh AUTHOR -> .Sh AUTHORS
- Other miscellaneous fixes here and there.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.15 2000/11/09 17:52:44 aaron Exp $
d302 1
a302 1
It also includes information about physial and virtual memory allocation.
@


1.15
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.14 2000/07/06 04:06:57 aaron Exp $
a342 2
.Sh AUTHOR
William LeFebvre, EECS Department, Northwestern University
d364 2
@


1.14
log
@Insert more missing .El directives. Our troff really should identify these and
spit out a warning.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.13 2000/03/11 21:40:05 aaron Exp $
d79 1
a79 1
.Bl -tag -width XxXXXXXXXXX
@


1.13
log
@Various cleanups and standardizations.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.12 1999/10/17 20:24:36 aaron Exp $
d358 1
@


1.12
log
@More consistent introduction to options.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.11 1999/06/23 06:53:39 millert Exp $
d50 2
a51 1
information.  If standard output is an intelligent terminal (see below) then
d53 4
a56 2
by default.  Otherwise, a good number of them are shown (around 20).
Raw CPU percentage is used to rank the processes.  If
d64 3
a66 3
and those that do not.  This
distinction affects the choice of defaults for certain options.  In the
remainder of this document, an
d69 5
a73 3
to end of line.  Conversely, a
.Em dumb
terminal is one that does not support such features.  If the output of
d81 3
a83 2
Show system processes in the display.  Normally, system processes such as
the pager and the swapper are not shown.  This option makes them visible.
d87 7
a93 2
mode.  In this mode, all input from the terminal is
ignored.  Interrupt characters (such as ^C and ^\e) still have an effect.
d98 3
a100 2
mode.  In this mode, any input is immediately read for processing.  See the
section on
d102 2
a103 1
for an explanation of which keys perform what functions.  After the command
d105 2
a106 2
not understood.  This mode is the default when standard output is an
intelligent terminal.
d113 2
a114 1
mode.  This is identical to
d120 2
a121 1
to -20 so that it will run faster.  This can be used when the system is
d125 2
a126 1
Do not take the time to map UID numbers to usernames.  Normally,
d129 4
a132 3
all the user ID numbers it encounters into login names.  This option
disables all that, while possibly decreasing execution time.  The UID
numbers are displayed instead of the names.
d136 3
a138 2
displays, then exit.  A display is considered to be one update of the
screen.  This option allows the user to select the number of displays
d141 3
a143 2
automatically exits.  For intelligent terminals, no upper limit
is set.  The default is 1 for dumb terminals.
d147 2
a148 1
seconds.  The default delay between updates is 5 seconds.
d150 4
a153 3
Sort the process display area using the specified field as the primary
key.  The field name is the name of the column as seen in the output,
but in lower case.  The
d175 2
a176 2
indicating that they can stretch as far as possible.  This is accomplished
by using any proper prefix of the keywords
d188 3
a190 2
is examined for options before the command line is scanned.  This enables
a user to set his or her own defaults.  The number of processes to display
d199 4
a202 2
are actually toggles.  A second specification of any of these options
will negate the first.  Thus a user who has the environment variable
d214 2
a215 2
it reads commands from the terminal and acts upon them accordingly.  In this
mode, the terminal is put in
d217 2
a218 2
so that a character will be processed as soon as it is typed.  Almost always,
a key will be pressed when
d222 2
a223 1
seconds to elapse.  If this is the case, the command will be
d225 3
a227 2
(reflecting any changes that the command may have specified).  This
happens even if the command was incorrect.  If a key is pressed while
d230 4
a233 2
then process the command.  Some commands require additional information,
and the user will be prompted accordingly.  While typing this information
d262 2
a263 1
by default) to a list of processes.  This acts similarly to the command
d268 2
a269 1
of a list of processes.  This acts similarly to the command
d305 2
a306 1
processes.  This display is similar in spirit to
d308 2
a309 1
but it is not exactly the same.  PID is the process ID, USERNAME is the name
d341 2
a342 1
was abandoned, thus the name.  A process should never end up in this state.
d358 7
d368 2
a369 1
has changed once again.  So many people were confused by the fact that
d380 2
a381 1
section).  Those who want the behavior that version 3.0 had need only set
d394 2
a395 1
is collecting information for an update.  The picture it gives is only a
a396 7
.Sh SEE ALSO
.Xr kill 1 ,
.Xr ps 1 ,
.Xr stty 1 ,
.Xr systat 1 ,
.Xr mem 4 ,
.Xr renice 8
@


1.11
log
@our top does not show the last pid assigned
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.10 1999/06/05 01:21:44 aaron Exp $
d72 2
a73 1
.Sh OPTIONS
@


1.10
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.9 1999/05/16 19:58:04 alex Exp $
d262 1
a262 1
the last process ID assigned to a process,
@


1.9
log
@Cleanup xrefs under SEE ALSO.  Specifically:

  - Sort xrefs by section, and then alphabetically.
  - Add missing commas between xref items.
  - Remove commas from the last xref entry.
  - Remove duplicate entries.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.8 1999/03/22 23:41:56 pjanzen Exp $
d35 1
a35 1
.Os OpenBSD
d63 1
a63 1
remainder of this document, an 
d66 1
a66 1
to end of line.  Conversely, a 
d97 1
a97 1
Use 
d179 1
a179 1
set to 
d181 1
a181 1
may use the command 
d200 1
a200 1
happens even if the command was incorrect.  If a key is pressed while 
@


1.8
log
@pronoun agreement
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.7 1999/02/19 19:15:07 deraadt Exp $
d357 1
d359 1
a359 2
.Xr renice 8 ,
.Xr systat 1
@


1.7
log
@Xr
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.6 1998/12/16 02:38:50 aaron Exp $
d119 2
a120 2
screen.  This option allows the user to select the number of displays they
want to see before
@


1.6
log
@more .Nm fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.5 1998/10/30 00:24:39 aaron Exp $
d358 2
a359 1
.Xr renice 8
@


1.5
log
@usr.bin/ man page fixes, t-z
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.4 1998/08/21 13:55:24 kstailey Exp $
d40 1
a40 1
.Nm
@


1.4
log
@support "-o field" and the interactive "o" command
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.3 1997/08/30 17:20:58 deraadt Exp $
d38 1
a38 1
.Nd display and update information about the top cpu processes
d53 1
a53 1
Raw cpu percentage is used to rank the processes.  If
d109 1
a109 1
Do not take the time to map uid numbers to usernames.  Normally,
d112 2
a113 2
all the user id numbers it encounters into login names.  This option
disables all that, while possibly decreasing execution time.  The uid
d119 2
a120 2
screen.  This option allows the user to select the number of displays he
wants to see before
d139 1
a139 1
.Ar pri.
d144 1
a144 1
uid numbers.
d180 1
a180 1
.Li -I
d182 1
a182 1
.Li top -I
d221 1
a221 1
.Li d1
d262 1
a262 1
the last process id assigned to a process
d276 1
a276 1
but it is not exactly the same.  PID is the process id, USERNAME is the name
d293 2
a294 2
TIME is the number of system and user cpu seconds that the process has used,
WCPU, when displayed, is the weighted cpu percentage (this is the same
d307 1
a307 1
.Em SWAIT
d358 1
a358 1
.Xr renice 8 .
@


1.3
log
@minor errors; josh@@quick.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.2 1997/08/14 15:05:03 downsj Exp $
d44 1
a44 1
.\" .Op Fl o Ar field
d128 12
a139 11
.\" .It Fl o Ar field
.\" Sort the process display area on the specified field.  The field name is
.\" the name of the column as seen in the output, but in lower case.  Likely
.\" values are
.\" .Ar cpu ,
.\" .Ar size ,
.\" .Ar res ,
.\" and
.\" .Ar time ,
.\" but may vary on different operating systems.  Note that
.\" not all operating systems support this option.
@


1.2
log
@Mandoc manual, and use the full screen.
@
text
@d1 1
a1 1
.\"	$OpenBSD: top.1,v 1.1 1997/08/14 14:00:25 downsj Exp $
d99 1
a99 1
mode.  This is indentical to
@


1.1
log
@top 3.4, with a few changes.  Still needs more work.
@
text
@d1 50
a50 38
.\"	$OpenBSD$
.nr N 15
.nr D 5
.TH TOP 1 Local
.UC 4
.SH NAME
top \- display and update information about the top cpu processes
.SH SYNOPSIS
.B top
[
.B \-SbiInqu
] [
.BI \-d count
] [
.BI \-s time
] [
.BI \-o field
] [
.BI \-U username
] [
.I number
]
.SH DESCRIPTION
.\" This defines appropriate quote strings for nroff and troff
.ds lq \&"
.ds rq \&"
.if t .ds lq ``
.if t .ds rq ''
.\" Just in case these number registers aren't set yet...
.if \nN==0 .nr N 10
.if \nD==0 .nr D 5
.I Top
displays the top
.if !\nN==-1 \nN
processes on the system and periodically updates this information.
.if \nN==-1 \
\{\
If standard output is an intelligent terminal (see below) then
a52 1
.\}
d54 1
a54 1
.I number
d56 1
a56 1
.I number
d58 2
a59 2
.PP
.I Top
d63 7
a69 5
remainder of this document, an \*(lqintelligent\*(rq terminal is one that
supports cursor addressing, clear screen, and clear to end of line.
Conversely, a \*(lqdumb\*(rq terminal is one that does not support such
features.  If the output of
.I top
d72 3
a74 3
.SH OPTIONS
.TP
.B \-S
d77 4
a80 3
.TP
.B \-b
Use \*(lqbatch\*(rq mode.  In this mode, all input from the terminal is
d83 9
a91 8
.TP
.B \-i
Use \*(lqinteractive\*(rq mode.  In this mode, any input is immediately
read for processing.  See the section on \*(lqInteractive Mode\*(rq
for an explanation of
which keys perform what functions.  After the command is processed, the
screen will immediately be updated, even if the command was not
understood.  This mode is the default when standard output is an
d93 1
a93 2
.TP
.B \-I
d96 5
a100 3
.TP
.B \-n
Use \*(lqnon-interactive\*(rq mode.  This is indentical to \*(lqbatch\*(rq
d102 1
a102 2
.TP
.B \-q
d104 1
a104 1
.I top
d108 1
a108 2
.TP
.B \-u
d110 2
a111 2
.I top
will read as much of the file \*(lq/etc/passwd\*(rq as is necessary to map
d115 1
a115 2
.TP
.BI \-d count
d117 1
a117 1
.I count
d121 1
a121 1
.I top
d124 1
a124 2
.TP
.BI \-s time
d126 14
a139 11
.I time
seconds.  The default delay between updates is \nD seconds.
.TP
.BI \-o field
Sort the process display area on the specified field.  The field name is
the name of the column as seen in the output, but in lower case.  Likely
values are \*(lqcpu\*(rq, \*(lqsize\*(rq, \*(lqres\*(rq, and \*(lqtime\*(rq,
but may vary on different operating systems.  Note that
not all operating systems support this option.
.TP
.BI \-U username
d141 1
a141 1
.IR username .
d144 2
a145 1
.PP
d147 1
a147 1
.I count
d149 7
a155 6
.I number
fields can be specified as \*(lqinfinite\*(rq, indicating that they can
stretch as far as possible.  This is accomplished by using any proper
prefix of the keywords
\*(lqinfinity\*(rq,
\*(lqmaximum\*(rq,
d157 1
a157 1
\*(lqall\*(rq.
d159 1
a159 1
.I count
d161 2
a162 2
.BI infinity .
.PP
d164 1
a164 1
.B TOP
d168 2
a169 1
.BR TOP .
d171 2
a172 2
.BR \-I ,
.BR \-S ,
d174 1
a174 1
.B \-u
d177 7
a183 3
.B TOP
set to \*(lq\-I\*(rq may use the command \*(lqtop \-I\*(rq to see idle processes.
.SH "INTERACTIVE MODE"
d185 9
a193 7
.I top
is running in \*(lqinteractive mode\*(rq, it reads commands from the
terminal and acts upon them accordingly.  In this mode, the terminal is
put in \*(lqCBREAK\*(rq, so that a character will be
processed as soon as it is typed.  Almost always, a key will be
pressed when
.I top
d195 1
a195 1
.I time
d200 1
a200 1
.I top
d205 1
a205 1
.IR stty )
d207 1
a207 1
.PP
d209 2
a210 2
.TP
.B ^L
d212 1
a212 1
.IP "\fBh\fP\ or\ \fB?\fP"
d214 1
a214 2
.TP
.B q
d216 2
a217 3
.IR top.
.TP
.B d
d220 1
a220 1
.B d1
d222 1
a222 1
.I top
d224 1
a224 2
.TP
.B n or #
d226 1
a226 2
.TP
.B s
d229 11
a239 12
.TP
.B k
Send a signal (\*(lqkill\*(rq by default) to a list of processes.  This
acts similarly to the command
.IR kill (1)).
.TP
.B r
Change the priority (the \*(lqnice\*(rq) of a list of processes.
This acts similarly to the command
.IR renice (8)).
.TP
.B u
d241 4
a244 4
If the username specified is simply \*(lq+\*(rq, then processes belonging
to all users will be displayed.
.TP
.B e
d246 1
a246 1
.BR k ill
d248 1
a248 1
.BR r enice
d250 1
a250 4
.TP
.B i
(or
.BR I)
d252 7
a258 6
.SH "THE DISPLAY"
The actual display varies depending on the specific variant of Unix
that the machine is running.  This description may not exactly match
what is seen by top running on this particular machine.  Differences
are listed at the end of this manual entry.
.PP
d261 2
a262 1
the last process id assigned to a process (on most systems),
d271 1
a271 1
.PP
d274 1
a274 1
.IR ps (1)
d277 1
a277 1
.B \-u
d280 1
a280 1
NICE is the nice amount (in the range \-20 to 20),
d284 8
a291 2
STATE is the current state (one of \*(lqsleep\*(rq, \*(lqWAIT\*(rq,
\*(lqrun\*(rq, \*(lqidl\*(rq, \*(lqzomb\*(rq, or \*(lqstop\*(rq),
d295 1
a295 1
.IR ps (1)
d300 9
a308 5
(if the process is swapped out, this column is marked \*(lq<swapped>\*(rq).
.SH NOTES
The \*(lqABANDONED\*(rq state (known in the kernel as \*(lqSWAIT\*(rq) was
abandoned, thus the name.  A process should never end up in this state.
.SH AUTHOR
d310 14
a323 11
.SH ENVIRONMENT
.DT
TOP	user-configurable defaults for options.
.SH FILES
.DT
/dev/kmem		kernel memory
.br
/dev/mem		physical memory
.br
/bsd			system image
.SH BUGS
d325 1
a325 1
.B \-I
d327 1
a327 1
.I top
d331 12
a342 7
ability to set \*(lqdefault\*(rq options in the environment variable
.B TOP
(see the OPTIONS section).  Those who want the behavior that version
3.0 had need only set the environment variable
.B TOP
to \*(lq\-I\*(rq.
.PP
d345 1
a345 1
.PP
d347 1
a347 1
.IR ps (1),
d349 1
a349 1
.I top
d352 6
a357 6
.SH "SEE ALSO"
kill(1),
ps(1),
stty(1),
mem(4),
renice(8)
@
