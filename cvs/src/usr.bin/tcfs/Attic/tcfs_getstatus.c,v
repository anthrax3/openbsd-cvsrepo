head	1.9;
access;
symbols
	OPENBSD_3_2:1.8.0.10
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.8.0.8
	OPENBSD_3_1_BASE:1.8
	OPENBSD_3_0:1.8.0.6
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_9:1.8.0.4
	OPENBSD_2_8:1.8.0.2
	OPENBSD_2_8_BASE:1.8
	TCFS00:1.1.1.1
	PROVOS001:1.1.1;
locks; strict;
comment	@ * @;


1.9
date	2003.02.24.02.13.14;	author deraadt;	state dead;
branches;
next	1.8;

1.8
date	2000.06.20.08.28.02;	author fgsch;	state Exp;
branches;
next	1.7;

1.7
date	2000.06.20.07.58.57;	author fgsch;	state Exp;
branches;
next	1.6;

1.6
date	2000.06.20.07.09.46;	author fgsch;	state Exp;
branches;
next	1.5;

1.5
date	2000.06.20.01.29.14;	author provos;	state Exp;
branches;
next	1.4;

1.4
date	2000.06.19.23.06.25;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	2000.06.19.22.42.28;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	2000.06.19.20.35.47;	author fgsch;	state Exp;
branches;
next	1.1;

1.1
date	2000.06.18.22.07.24;	author provos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.06.18.22.07.24;	author provos;	state Exp;
branches;
next	;


desc
@@


1.9
log
@bye bye
@
text
@/*	$OpenBSD: tcfs_getstatus.c,v 1.8 2000/06/20 08:28:02 fgsch Exp $	*/

/*
 *	Transparent Cryptographic File System (TCFS) for NetBSD 
 *	Author and mantainer: 	Luigi Catuogno [luicat@@tcfs.unisa.it]
 *	
 *	references:		http://tcfs.dia.unisa.it
 *				tcfs-bsd@@tcfs.unisa.it
 */

/*
 *	Base utility set v0.1
 */

#include <sys/types.h>
#include <sys/param.h>
#include <sys/mount.h>
#include <sys/ucred.h>
#include <ctype.h>
#include <pwd.h>
#include <unistd.h>

#include <miscfs/tcfs/tcfs.h>
#include <miscfs/tcfs/tcfs_cmd.h>

#include "tcfsdefines.h"
#include "tcfslib.h"
#include "tcfspwdb.h"


int
tcfs_getstatus(char *filesystem, struct tcfs_status *st)
{
	int i;
	struct tcfs_args x;

	if (!tcfs_verify_fs(filesystem))
		return (-1);	

	x.cmd = TCFS_GET_STATUS;
	i = tcfs_callfunction(filesystem, &x);
	*st = x.st;

	return (i);
}
@


1.8
log
@oops from my prev commit. move param.h above mount.h so NGROUPS is found.
@
text
@d1 1
a1 1
/*	$OpenBSD: tcfs_getstatus.c,v 1.7 2000/06/20 07:58:57 fgsch Exp $	*/
@


1.7
log
@add openbsd tags. rearrange headers as per style(9) and indent.
replace some strcpy by strlcpy.
@
text
@d1 1
a1 1
/*	$OpenBSD: tcfs_getstatus.c,v 1.6 2000/06/20 07:09:46 fgsch Exp $	*/
d16 1
a17 1
#include <sys/param.h>
@


1.6
log
@add missing declarations and includes.
@
text
@d1 1
a1 1
/*	$OpenBSD: tcfs_getstatus.c,v 1.5 2000/06/20 01:29:14 provos Exp $	*/
d15 4
d22 1
a22 3
#include <sys/types.h>
#include <sys/param.h>
#include <sys/mount.h>
d25 1
a26 2
#include <sys/ucred.h>

@


1.5
log
@no include <des.h> anymore
@
text
@d1 1
a1 1
/*	$OpenBSD: tcfs_getstatus.c,v 1.4 2000/06/19 23:06:25 aaron Exp $	*/
d25 3
@


1.4
log
@more KNF
@
text
@d1 1
a1 1
/*	$OpenBSD: tcfs_getstatus.c,v 1.3 2000/06/19 22:42:28 aaron Exp $	*/
a20 1
#include <des.h>
@


1.3
log
@KNF
@
text
@d1 1
a1 1
/*	$OpenBSD: tcfs_getstatus.c,v 1.2 2000/06/19 20:35:47 fgsch Exp $	*/
d40 1
@


1.2
log
@add openbsd tag
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d38 1
a38 1
	i = tcfs_callfunction(filesystem,&x);
@


1.1
log
@Initial revision
@
text
@d1 2
@


1.1.1.1
log
@Initial import of very much rewritten TCFS userland.  This code is still
nasty.
@
text
@@
