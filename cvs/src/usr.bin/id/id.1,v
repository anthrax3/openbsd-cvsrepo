head	1.20;
access;
symbols
	OPENBSD_6_2:1.20.0.2
	OPENBSD_6_2_BASE:1.20
	OPENBSD_6_1:1.18.0.10
	OPENBSD_6_1_BASE:1.18
	OPENBSD_6_0:1.18.0.6
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.2
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.18.0.4
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.17.0.14
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.17.0.18
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.17.0.16
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.12
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.17.0.10
	OPENBSD_5_3_BASE:1.17
	OPENBSD_5_2:1.17.0.8
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.6
	OPENBSD_5_0:1.17.0.4
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.16.0.8
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.16.0.4
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.16.0.6
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.16.0.2
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.14.0.6
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.14.0.4
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.12.0.10
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.12.0.8
	OPENBSD_4_0_BASE:1.12
	OPENBSD_3_9:1.12.0.6
	OPENBSD_3_9_BASE:1.12
	OPENBSD_3_8:1.12.0.4
	OPENBSD_3_8_BASE:1.12
	OPENBSD_3_7:1.12.0.2
	OPENBSD_3_7_BASE:1.12
	OPENBSD_3_6:1.11.0.6
	OPENBSD_3_6_BASE:1.11
	OPENBSD_3_5:1.11.0.4
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.11.0.2
	OPENBSD_3_4_BASE:1.11
	OPENBSD_3_3:1.9.0.14
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.9.0.12
	OPENBSD_3_2_BASE:1.9
	OPENBSD_3_1:1.9.0.10
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.9.0.8
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9_BASE:1.9
	OPENBSD_2_9:1.9.0.6
	OPENBSD_2_8:1.9.0.4
	OPENBSD_2_8_BASE:1.9
	OPENBSD_2_7:1.9.0.2
	OPENBSD_2_7_BASE:1.9
	OPENBSD_2_6:1.7.0.2
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.4.0.4
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.3.0.4
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.2
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.20
date	2017.05.30.15.29.53;	author tedu;	state Exp;
branches;
next	1.19;
commitid	WNNMF689Dw68ks5Y;

1.19
date	2017.05.30.15.07.01;	author tedu;	state Exp;
branches;
next	1.18;
commitid	PafdjmsnviaNIOYZ;

1.18
date	2015.05.19.16.03.19;	author millert;	state Exp;
branches;
next	1.17;
commitid	qIH4PWYMzOy7m0HS;

1.17
date	2010.09.03.11.09.29;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2009.02.08.17.15.10;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2009.01.04.11.19.55;	author sobrado;	state Exp;
branches;
next	1.14;

1.14
date	2007.05.31.19.20.11;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2007.05.30.04.41.34;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2004.11.16.13.51.35;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2003.07.14.09.01.35;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2003.06.03.02.56.09;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.07.21.11.10;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	2000.03.04.22.19.23;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	99.07.04.11.53.55;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.07.02.20.11.45;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.06.05.01.21.27;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	98.09.26.19.54.52;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	97.05.30.07.49.19;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.06.26.05.34.24;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.45.24;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.45.24;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.20
log
@usage and order tweaks from jmc
@
text
@.\"	$OpenBSD: id.1,v 1.19 2017/05/30 15:07:01 tedu Exp $
.\"	$NetBSD: id.1,v 1.5 1995/09/28 08:05:40 perry Exp $
.\"
.\" Copyright (c) 1991, 1993, 1994
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" the Institute of Electrical and Electronics Engineers, Inc.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@@(#)id.1	8.2 (Berkeley) 5/5/94
.\"
.Dd $Mdocdate: May 30 2017 $
.Dt ID 1
.Os
.Sh NAME
.Nm id
.Nd return user identity
.Sh SYNOPSIS
.Nm id
.Op Ar user
.Nm id
.Fl c
.Op Ar user
.Nm id
.Fl G Op Fl n
.Op Ar user
.Nm id
.Fl g Op Fl nr
.Op Ar user
.Nm id
.Fl p
.Op Ar user
.Nm id
.Fl R
.Nm id
.Fl u Op Fl nr
.Op Ar user
.Sh DESCRIPTION
The
.Nm
utility displays the user and group names and numeric IDs, of the
calling process, to the standard output.
If the real and effective IDs are different, both are displayed,
otherwise only the real ID is displayed.
.Pp
If a
.Ar user
(login name or user ID)
is specified, the user and group IDs of that user are displayed.
In this case, the real and effective IDs are assumed to be the same.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl c
Display the login class of the real user ID or the specified
.Ar user .
.It Fl G
Display the different group IDs (effective, real and supplementary)
as whitespace separated numbers, in no particular order.
.It Fl g
Display the effective group ID as a number.
.It Fl n
Display the name of the user or group ID for the
.Fl G ,
.Fl g
and
.Fl u
options instead of the number.
If any of the ID numbers cannot be mapped into names, the number will be
displayed as usual.
.It Fl p
Make the output human-readable.
If the user name returned by
.Xr getlogin 2
is different from the login name referenced by the user ID, the name
returned by
.Xr getlogin 2
is displayed, preceded by the keyword
.Dq login .
The user ID as a name is displayed, preceded by the keyword
.Dq uid .
If the effective user ID is different from the real user ID, the real user
ID is displayed as a name, preceded by the keyword
.Dq euid .
If the effective group ID is different from the real group ID, the real group
ID is displayed as a name, preceded by the keyword
.Dq rgid .
The list of groups to which the user belongs is then displayed as names,
preceded by the keyword
.Dq groups .
If there is a login class specified for the user in the
.Xr passwd 5
database, it is displayed, preceded by the keyword
.Dq class .
Each display is on a separate line.
.It Fl R
Display the routing table of the current process.
.It Fl r
Display the real ID for the
.Fl g
and
.Fl u
options instead of the effective ID.
.It Fl u
Display the effective user ID as a number.
.El
.Sh EXIT STATUS
.Ex -std id
.Sh SEE ALSO
.Xr who 1 ,
.Xr login.conf 5
.Sh STANDARDS
The
.Nm
utility is compliant with the
.St -p1003.1-2008
specification.
.Pp
The flags
.Op Fl cpR
are extensions to that specification.
.Sh HISTORY
The
historic
.Xr groups 1
command is equivalent to
.Ic id Fl Gn Op Ar user .
.Pp
The
historic
.Xr whoami 1
command is equivalent to
.Ic id Fl un .
.Pp
The
.Nm
command first appeared in
.Bx 4.4 .
@


1.19
log
@id -R: make current rdomain more easily accessible to the shell
ok benno deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.18 2015/05/19 16:03:19 millert Exp $
d36 1
a36 1
.Dd $Mdocdate: May 19 2015 $
d58 2
a61 2
.Nm id
.Fl R
@


1.18
log
@Add -c flag to display the user's login class.  OK espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.17 2010/09/03 11:09:29 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: September 3 2010 $
d60 2
d120 2
d144 1
a144 1
.Op Fl cp
@


1.17
log
@add an EXIT STATUS section for /usr/bin;
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.16 2009/02/08 17:15:10 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: February 8 2009 $
d46 3
d76 3
d113 4
d130 2
a131 1
.Xr who 1
d139 3
a141 3
The flag
.Op Fl p
is an extension to that specification.
@


1.16
log
@bump the posix reference in STANDARDS to IEEE Std 1003.1-2008, with a few
updates to follow;
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.15 2009/01/04 11:19:55 sobrado Exp $
d36 1
a36 1
.Dd $Mdocdate: January 4 2009 $
d117 1
a117 1
.Pp
@


1.15
log
@replace hardcoded exit values with .Ex macros;

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.14 2007/05/31 19:20:11 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: May 31 2007 $
d125 1
a125 1
.St -p1003.1-2004
@


1.14
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.13 2007/05/30 04:41:34 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate$
d118 1
a118 3
The
.Nm
utility exits 0 on success or >0 if an error occurred.
@


1.13
log
@- use a consistent text for STANDARDS
- note which options are extensions to POSIX
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.12 2004/11/16 13:51:35 jmc Exp $
d36 1
a36 1
.Dd May 5, 1994
@


1.12
log
@-p supports optional [user] arg;
from matthew clarke;
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.11 2003/07/14 09:01:35 jmc Exp $
d126 7
a132 2
function is expected to conform to
.St -p1003.2 .
@


1.11
log
@.Ic Nm -> .Ic
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.10 2003/06/03 02:56:09 millert Exp $
d53 1
@


1.10
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.9 2000/03/07 21:11:10 aaron Exp $
d138 1
a138 1
.Ic Nm id Fl un .
@


1.9
log
@Various cleanup.
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.8 2000/03/04 22:19:23 aaron Exp $
d18 1
a18 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.8
log
@In Unix land we prefer "whitespace" to "white space" or "white-space". At
least, this is the impression I get from looking at a lot of Perl docs.
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.7 1999/07/04 11:53:55 aaron Exp $
d97 4
a100 2
is displayed, preceded by the keyword ``login''.
The user ID as a name is displayed, preceded by the keyword ``uid''.
d102 2
a103 1
ID is displayed as a name, preceded by the keyword ``euid''.
d105 2
a106 1
ID is displayed as a name, preceded by the keyword ``rgid''.
d108 2
a109 1
preceded by the keyword ``groups''.
d136 1
a136 1
.Dq Nm id Fl Gn Op Ar user .
d142 1
a142 1
.Dq Nm id Fl un .
@


1.7
log
@correct use of .Nm; some other formatting nits
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.6 1999/07/02 20:11:45 aaron Exp $
d78 1
a78 1
as white-space separated numbers, in no particular order.
@


1.6
log
@consistent .Dd usage; proper format is: .Dd Month DD, YYYY
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.5 1999/06/05 01:21:27 aaron Exp $
d62 1
a62 1
.Nm id
d117 1
a117 1
.Nm id
d123 1
a123 1
.Nm id
d140 1
a140 1
.Nm id
@


1.5
log
@- remove trailing white space
- remove arguments from .Os macros
- remove arguments from .Nm macros, where appropriate
- some more Dq/Sq/Ql insanity
- still lots to do in the usr.bin tree... :/
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.4 1998/09/26 19:54:52 aaron Exp $
d40 1
a40 1
.Dd May, 5, 1994
@


1.4
log
@usr.bin/ man page fixes, f-m.
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.3 1997/05/30 07:49:19 deraadt Exp $
d42 1
a42 1
.Os BSD 4.4
@


1.3
log
@for i in `find . -name \*.[123456789] -exec grep '^.Dd ' {} /dev/null \; | \
	grep '"' | cut -d':' -f1`; do
sed -e '/^.Dd /s/"//g' -e '/^.Dd /s/\(^.Dd [A-Za-z]*\) \(.*\)$/\1, \2/' <$i >x
cat x > $i
done
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.2 1996/06/26 05:34:24 deraadt Exp $
d118 1
a118 1
utility exits 0 on success, and >0 if an error occurs.
@


1.2
log
@rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: id.1,v 1.5 1995/09/28 08:05:40 perry Exp $
d40 1
a40 1
.Dd "May 5, 1994"
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
