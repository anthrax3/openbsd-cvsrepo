head	1.652;
access;
symbols
	OPENBSD_6_1:1.639.0.4
	OPENBSD_6_1_BASE:1.639
	OPENBSD_6_0:1.620.0.2
	OPENBSD_6_0_BASE:1.620
	OPENBSD_5_9:1.611.0.2
	OPENBSD_5_9_BASE:1.611
	OPENBSD_5_8:1.599.0.4
	OPENBSD_5_8_BASE:1.599
	OPENBSD_5_7:1.591.0.2
	OPENBSD_5_7_BASE:1.591
	OPENBSD_5_6:1.575.0.4
	OPENBSD_5_6_BASE:1.575
	OPENBSD_5_5:1.566.0.4
	OPENBSD_5_5_BASE:1.566
	OPENBSD_5_4:1.549.0.2
	OPENBSD_5_4_BASE:1.549
	OPENBSD_5_3:1.540.0.2
	OPENBSD_5_3_BASE:1.540
	OPENBSD_5_2:1.537.0.2
	OPENBSD_5_2_BASE:1.537
	OPENBSD_5_1_BASE:1.533
	OPENBSD_5_1:1.533.0.2
	OPENBSD_5_0:1.525.0.2
	OPENBSD_5_0_BASE:1.525
	OPENBSD_4_9:1.509.0.2
	OPENBSD_4_9_BASE:1.509
	OPENBSD_4_8:1.499.0.2
	OPENBSD_4_8_BASE:1.499
	OPENBSD_4_7:1.484.0.2
	OPENBSD_4_7_BASE:1.484
	OPENBSD_4_6:1.467.0.4
	OPENBSD_4_6_BASE:1.467
	OPENBSD_4_5:1.454.0.2
	OPENBSD_4_5_BASE:1.454
	OPENBSD_4_4:1.438.0.2
	OPENBSD_4_4_BASE:1.438
	OPENBSD_4_3:1.424.0.2
	OPENBSD_4_3_BASE:1.424
	OPENBSD_4_2:1.409.0.2
	OPENBSD_4_2_BASE:1.409
	OPENBSD_4_1:1.393.0.2
	OPENBSD_4_1_BASE:1.393
	OPENBSD_4_0:1.385.0.2
	OPENBSD_4_0_BASE:1.385
	OPENBSD_3_9:1.365.0.2
	OPENBSD_3_9_BASE:1.365
	OPENBSD_3_8:1.348.0.2
	OPENBSD_3_8_BASE:1.348
	OPENBSD_3_7:1.331.0.2
	OPENBSD_3_7_BASE:1.331
	OPENBSD_3_6:1.314.0.2
	OPENBSD_3_6_BASE:1.314
	SMP_SYNC_A:1.304
	SMP_SYNC_B:1.304
	OPENBSD_3_5:1.292.0.2
	OPENBSD_3_5_BASE:1.292
	OPENBSD_3_4:1.279.0.2
	OPENBSD_3_4_BASE:1.279
	UBC_SYNC_A:1.272
	OPENBSD_3_3:1.269.0.2
	OPENBSD_3_3_BASE:1.269
	OPENBSD_3_2:1.257.0.2
	OPENBSD_3_2_BASE:1.257
	OPENBSD_3_1:1.245.0.2
	OPENBSD_3_1_BASE:1.245
	UBC_SYNC_B:1.257
	UBC:1.233.0.2
	UBC_BASE:1.233
	OPENBSD_3_0:1.227.0.2
	OPENBSD_3_0_BASE:1.227
	OPENBSD_2_9_BASE:1.196
	OPENBSD_2_9:1.196.0.2
	OPENBSD_2_8:1.178.0.2
	OPENBSD_2_8_BASE:1.178
	OPENBSD_2_7:1.161.0.2
	OPENBSD_2_7_BASE:1.161
	SMP:1.151.0.2
	SMP_BASE:1.151
	kame_19991208:1.138
	OPENBSD_2_6:1.129.0.2
	OPENBSD_2_6_BASE:1.129
	OPENBSD_2_5:1.114.0.2
	OPENBSD_2_5_BASE:1.114
	OPENBSD_2_4:1.96.0.2
	OPENBSD_2_4_BASE:1.96
	OPENBSD_2_3:1.77.0.2
	OPENBSD_2_3_BASE:1.77
	OPENBSD_2_2:1.65.0.2
	OPENBSD_2_2_BASE:1.65
	OPENBSD_2_1:1.56.0.2
	OPENBSD_2_1_BASE:1.56
	OPENBSD_2_0:1.40.0.2
	OPENBSD_2_0_BASE:1.40
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.652
date	2017.09.12.08.23.42;	author mpi;	state Exp;
branches;
next	1.651;
commitid	Kz6PiS7Kl8MPR4Dx;

1.651
date	2017.08.11.20.50.15;	author mpi;	state Exp;
branches;
next	1.650;
commitid	wVXEBQlY9db5AjLx;

1.650
date	2017.07.31.16.47.03;	author florian;	state Exp;
branches;
next	1.649;
commitid	HFwUb6riXpWnlR73;

1.649
date	2017.07.30.18.16.14;	author florian;	state Exp;
branches;
next	1.648;
commitid	z0X2vKcxAWZuAxov;

1.648
date	2017.06.28.18.24.02;	author mikeb;	state Exp;
branches;
next	1.647;
commitid	FqbGHiUNgQGtga0J;

1.647
date	2017.05.29.12.58.37;	author jmatthew;	state Exp;
branches;
next	1.646;
commitid	4creoj1zD9Rwgo6f;

1.646
date	2017.05.29.10.55.34;	author claudio;	state Exp;
branches;
next	1.645;
commitid	VHxvECzeszikTqfo;

1.645
date	2017.05.15.11.23.25;	author mikeb;	state Exp;
branches;
next	1.644;
commitid	MV7SeE82QLGXQJBO;

1.644
date	2017.04.30.21.33.02;	author mikeb;	state Exp;
branches;
next	1.643;
commitid	oZW9ZdETDbgUy9ox;

1.643
date	2017.04.30.13.04.49;	author mpi;	state Exp;
branches;
next	1.642;
commitid	xDPbcPU6tYP39nZG;

1.642
date	2017.04.28.13.50.54;	author mpi;	state Exp;
branches;
next	1.641;
commitid	34WECc0W9rocx17W;

1.641
date	2017.04.20.13.57.30;	author visa;	state Exp;
branches;
next	1.640;
commitid	RHJVP52IiQkInZzu;

1.640
date	2017.04.20.12.59.36;	author visa;	state Exp;
branches;
next	1.639;
commitid	35AK3Wv48Mc7uWnr;

1.639
date	2017.02.08.05.09.25;	author guenther;	state Exp;
branches;
next	1.638;
commitid	V3fgN8BO1mri8xSU;

1.638
date	2017.01.22.20.08.10;	author reyk;	state Exp;
branches;
next	1.637;
commitid	1DxbC3qUASBRgUkI;

1.637
date	2017.01.13.13.25.01;	author stsp;	state Exp;
branches;
next	1.636;
commitid	atuv3yOreRt16UlX;

1.636
date	2016.12.15.19.18.41;	author fcambus;	state Exp;
branches;
next	1.635;
commitid	45LhUG6e3lYbiYAV;

1.635
date	2016.11.30.14.26.12;	author stsp;	state Exp;
branches;
next	1.634;
commitid	6ZPuA6kN8UsJx1r0;

1.634
date	2016.11.14.08.54.19;	author mpi;	state Exp;
branches;
next	1.633;
commitid	SPJDraPFwXOZQLLT;

1.633
date	2016.10.21.06.27.50;	author dlg;	state Exp;
branches;
next	1.632;
commitid	D5WUiCvZ665NhpbX;

1.632
date	2016.09.16.19.13.17;	author jasper;	state Exp;
branches;
next	1.631;
commitid	aag1XqKQQN6pS0l5;

1.631
date	2016.09.15.01.05.15;	author dlg;	state Exp;
branches;
next	1.630;
commitid	asT65ud2hFmyYuyz;

1.630
date	2016.09.09.04.50.54;	author dlg;	state Exp;
branches;
next	1.629;
commitid	XOpojCCt9TQwM6NG;

1.629
date	2016.09.06.19.48.44;	author tedu;	state Exp;
branches;
next	1.628;
commitid	7E9GUOq9x5kDuVz3;

1.628
date	2016.09.05.07.24.33;	author dlg;	state Exp;
branches;
next	1.627;
commitid	TvUKfKA851H2irAh;

1.627
date	2016.09.04.09.22.28;	author mpi;	state Exp;
branches;
next	1.626;
commitid	jBolvsPoQ0BaYiLs;

1.626
date	2016.09.03.14.20.26;	author phessler;	state Exp;
branches;
next	1.625;
commitid	m9T2f1BYzcUNRKPY;

1.625
date	2016.09.01.10.06.33;	author goda;	state Exp;
branches;
next	1.624;
commitid	53X2QcUepPKjCjvt;

1.624
date	2016.08.13.20.35.57;	author kettenis;	state Exp;
branches;
next	1.623;
commitid	kBw0nqkbxsWQkuLJ;

1.623
date	2016.08.11.09.30.57;	author natano;	state Exp;
branches;
next	1.622;
commitid	Uff0gLxxyMR3Aiez;

1.622
date	2016.08.05.19.00.25;	author kettenis;	state Exp;
branches;
next	1.621;
commitid	PWnrMbYWs67oDQuR;

1.621
date	2016.08.05.11.40.22;	author kettenis;	state Exp;
branches;
next	1.620;
commitid	RTL5HPvRBPYQoyOC;

1.620
date	2016.06.17.19.20.19;	author guenther;	state Exp;
branches;
next	1.619;
commitid	5sWf13QzkWEcq4jC;

1.619
date	2016.05.03.14.52.39;	author mpi;	state Exp;
branches;
next	1.618;
commitid	dxC8XEETMDhMlqh6;

1.618
date	2016.04.25.20.09.14;	author tedu;	state Exp;
branches;
next	1.617;
commitid	43yo2G4zZOY9ab4i;

1.617
date	2016.04.19.10.12.36;	author mpi;	state Exp;
branches;
next	1.616;
commitid	uzREFYXNwPSah65A;

1.616
date	2016.03.25.18.53.41;	author zhuk;	state Exp;
branches;
next	1.615;
commitid	W0qlJjPXXoeZUGDO;

1.615
date	2016.03.09.18.20.29;	author stsp;	state Exp;
branches;
next	1.614;
commitid	qWn9Co1qejXWqmGn;

1.614
date	2016.03.09.09.04.15;	author mpi;	state Exp;
branches;
next	1.613;
commitid	AEIAF7S6Z6Ey8k81;

1.613
date	2016.03.01.16.43.08;	author naddy;	state Exp;
branches;
next	1.612;
commitid	EkPO5hcDLACEBw66;

1.612
date	2016.02.28.15.46.18;	author naddy;	state Exp;
branches;
next	1.611;
commitid	iOuZImHZRAr7Hvd6;

1.611
date	2016.02.18.01.23.05;	author krw;	state Exp;
branches;
next	1.610;
commitid	XjooOGZYzRolYJCm;

1.610
date	2015.12.08.10.06.11;	author dlg;	state Exp;
branches;
next	1.609;
commitid	VAQjlQNQBXJ725Km;

1.609
date	2015.12.03.12.42.03;	author goda;	state Exp;
branches;
next	1.608;
commitid	FFhJyNTOYvvsqwUi;

1.608
date	2015.12.01.18.28.29;	author goda;	state Exp;
branches;
next	1.607;
commitid	6ZruJ8AlaPn1cF8H;

1.607
date	2015.11.06.18.07.57;	author mpi;	state Exp;
branches;
next	1.606;
commitid	VPXyKUac3MuBmK1w;

1.606
date	2015.11.03.01.31.36;	author mikeb;	state Exp;
branches;
next	1.605;
commitid	jsYuUjxp9lhd0Ksp;

1.605
date	2015.10.24.10.52.05;	author reyk;	state Exp;
branches;
next	1.604;
commitid	PvSfHvj4AhI0uuuE;

1.604
date	2015.10.09.01.17.21;	author deraadt;	state Exp;
branches;
next	1.603;
commitid	6ulbDS81ej0XxvnS;

1.603
date	2015.09.28.08.32.04;	author mpi;	state Exp;
branches;
next	1.602;
commitid	MCjArMsyMPhqxF1g;

1.602
date	2015.09.10.18.39.57;	author deraadt;	state Exp;
branches;
next	1.601;
commitid	AuTZ0DPk87yBjaZ8;

1.601
date	2015.09.10.16.30.23;	author krw;	state Exp;
branches;
next	1.600;
commitid	9pWIHufyPNBOOdoM;

1.600
date	2015.09.03.09.16.33;	author mpi;	state Exp;
branches;
next	1.599;
commitid	JKgkl7lOd3ZwSuiJ;

1.599
date	2015.07.21.03.38.22;	author reyk;	state Exp;
branches;
next	1.598;
commitid	t8p39jbat5DBrbFu;

1.598
date	2015.07.20.22.16.41;	author rzalamena;	state Exp;
branches;
next	1.597;
commitid	yaHvJbufOxtjWSFd;

1.597
date	2015.07.19.02.35.35;	author deraadt;	state Exp;
branches;
next	1.596;
commitid	CJwjm9NDWu6nJ6ES;

1.596
date	2015.07.18.15.51.16;	author mpi;	state Exp;
branches;
next	1.595;
commitid	lwQKRpFyNEr7kjoF;

1.595
date	2015.07.17.22.52.29;	author tedu;	state Exp;
branches;
next	1.594;
commitid	OOrGfFHYAn65M2qc;

1.594
date	2015.07.02.01.33.59;	author dlg;	state Exp;
branches;
next	1.593;
commitid	HBmwORlhlW47BLMN;

1.593
date	2015.06.19.11.12.24;	author jmatthew;	state Exp;
branches;
next	1.592;
commitid	I5HMIEQiHPSVn0jd;

1.592
date	2015.05.11.06.46.21;	author ratchov;	state Exp;
branches;
next	1.591;
commitid	RaOGL5SyOGOZylwx;

1.591
date	2014.12.28.21.32.44;	author krw;	state Exp;
branches;
next	1.590;
commitid	XsOzCX2YLadmSGZj;

1.590
date	2014.12.03.18.16.50;	author deraadt;	state Exp;
branches;
next	1.589;
commitid	MKeOJZQRCea2eX9x;

1.589
date	2014.12.03.07.33.27;	author tedu;	state Exp;
branches;
next	1.588;
commitid	nRTq0cfVUS0OKtjS;

1.588
date	2014.12.03.05.03.38;	author tedu;	state Exp;
branches;
next	1.587;
commitid	rXj0DCyLDHFQeQEG;

1.587
date	2014.12.03.04.56.02;	author tedu;	state Exp;
branches;
next	1.586;
commitid	AbM6NhjOEsjjhG9j;

1.586
date	2014.12.02.17.41.55;	author deraadt;	state Exp;
branches;
next	1.585;
commitid	18VHp8hNPInPQUCF;

1.585
date	2014.11.24.02.03.37;	author brad;	state Exp;
branches;
next	1.584;
commitid	Wmnzf8bGQILqXRTG;

1.584
date	2014.11.15.10.29.42;	author dlg;	state Exp;
branches;
next	1.583;
commitid	jnaB96sQ9olXjLTN;

1.583
date	2014.10.20.00.38.50;	author tedu;	state Exp;
branches;
next	1.582;
commitid	EqQlSCitaQJnMrBZ;

1.582
date	2014.10.12.19.33.32;	author miod;	state Exp;
branches;
next	1.581;
commitid	nk2r03py9FjdNSK1;

1.581
date	2014.10.09.08.21.48;	author matthew;	state Exp;
branches;
next	1.580;
commitid	36xObzDB3RrngiY3;

1.580
date	2014.10.09.03.36.32;	author tedu;	state Exp;
branches;
next	1.579;
commitid	5aim8XjT50Pph6wl;

1.579
date	2014.10.07.20.23.31;	author tedu;	state Exp;
branches;
next	1.578;
commitid	1hbxZJRSxjvGk5Dm;

1.578
date	2014.10.01.10.08.29;	author mpi;	state Exp;
branches;
next	1.577;
commitid	H2YI4nUd6WXupaiB;

1.577
date	2014.09.08.04.40.30;	author doug;	state Exp;
branches;
next	1.576;
commitid	eZUjxECXTMZqzs5z;

1.576
date	2014.08.20.06.23.03;	author mikeb;	state Exp;
branches;
next	1.575;
commitid	3nalvU8sn6rZiZ1d;

1.575
date	2014.07.13.15.32.28;	author miod;	state Exp;
branches;
next	1.574;
commitid	PkUmoT9mKpliN2oG;

1.574
date	2014.07.13.13.28.26;	author pelikan;	state Exp;
branches;
next	1.573;
commitid	dOiPqBMzR47FMb48;

1.573
date	2014.07.11.21.54.38;	author tedu;	state Exp;
branches;
next	1.572;
commitid	0n9cIGBISFAEt4b1;

1.572
date	2014.04.19.12.27.06;	author henning;	state Exp;
branches;
next	1.571;

1.571
date	2014.04.18.21.55.23;	author jasper;	state Exp;
branches;
next	1.570;

1.570
date	2014.04.12.05.06.58;	author dlg;	state Exp;
branches;
next	1.569;

1.569
date	2014.03.18.22.36.37;	author miod;	state Exp;
branches;
next	1.568;

1.568
date	2014.03.08.14.34.12;	author mpi;	state Exp;
branches;
next	1.567;

1.567
date	2014.03.05.23.10.41;	author kettenis;	state Exp;
branches;
next	1.566;

1.566
date	2014.02.10.22.41.27;	author jmatthew;	state Exp;
branches;
next	1.565;

1.565
date	2014.01.19.06.04.03;	author jmatthew;	state Exp;
branches;
next	1.564;

1.564
date	2014.01.18.09.23.26;	author jsing;	state Exp;
branches;
next	1.563;

1.563
date	2013.12.13.19.55.12;	author naddy;	state Exp;
branches;
next	1.562;

1.562
date	2013.11.11.09.15.34;	author mpi;	state Exp;
branches;
next	1.561;

1.561
date	2013.10.29.04.23.16;	author dlg;	state Exp;
branches;
next	1.560;

1.560
date	2013.10.28.12.33.32;	author mpi;	state Exp;
branches;
next	1.559;

1.559
date	2013.10.20.21.16.35;	author miod;	state Exp;
branches;
next	1.558;

1.558
date	2013.10.17.08.02.18;	author deraadt;	state Exp;
branches;
next	1.557;

1.557
date	2013.10.15.01.41.45;	author miod;	state Exp;
branches;
next	1.556;

1.556
date	2013.10.13.10.10.02;	author reyk;	state Exp;
branches;
next	1.555;

1.555
date	2013.10.12.12.02.03;	author henning;	state Exp;
branches;
next	1.554;

1.554
date	2013.09.24.20.10.53;	author miod;	state Exp;
branches;
next	1.553;

1.553
date	2013.09.24.09.20.11;	author espie;	state Exp;
branches;
next	1.552;

1.552
date	2013.08.20.09.14.15;	author mpi;	state Exp;
branches;
next	1.551;

1.551
date	2013.08.13.05.52.22;	author guenther;	state Exp;
branches;
next	1.550;

1.550
date	2013.08.12.04.11.52;	author jsg;	state Exp;
branches;
next	1.549;

1.549
date	2013.07.11.01.20.31;	author jsg;	state Exp;
branches;
next	1.548;

1.548
date	2013.06.11.18.17.25;	author deraadt;	state Exp;
branches;
next	1.547;

1.547
date	2013.06.03.15.54.47;	author tedu;	state Exp;
branches;
next	1.546;

1.546
date	2013.05.29.22.23.01;	author tedu;	state Exp;
branches;
next	1.545;

1.545
date	2013.03.31.13.30.23;	author kettenis;	state Exp;
branches;
next	1.544;

1.544
date	2013.03.28.16.41.39;	author tedu;	state Exp;
branches;
next	1.543;

1.543
date	2013.03.26.16.39.08;	author tedu;	state Exp;
branches;
next	1.542;

1.542
date	2013.03.15.09.10.52;	author ratchov;	state Exp;
branches;
next	1.541;

1.541
date	2013.03.14.11.18.37;	author mpi;	state Exp;
branches;
next	1.540;

1.540
date	2013.01.21.11.17.48;	author patrick;	state Exp;
branches;
next	1.539;

1.539
date	2012.11.29.23.36.34;	author stsp;	state Exp;
branches;
next	1.538;

1.538
date	2012.08.23.06.12.49;	author deraadt;	state Exp;
branches;
next	1.537;

1.537
date	2012.04.26.01.22.31;	author matthew;	state Exp;
branches;
next	1.536;

1.536
date	2012.04.06.15.10.40;	author jsing;	state Exp;
branches;
next	1.535;

1.535
date	2012.03.28.20.44.23;	author miod;	state Exp;
branches;
next	1.534;

1.534
date	2012.03.09.13.01.28;	author ariane;	state Exp;
branches;
next	1.533;

1.533
date	2011.12.31.17.06.10;	author jsing;	state Exp;
branches;
next	1.532;

1.532
date	2011.12.24.04.34.20;	author guenther;	state Exp;
branches;
next	1.531;

1.531
date	2011.12.22.23.20.48;	author miod;	state Exp;
branches;
next	1.530;

1.530
date	2011.12.21.23.12.03;	author miod;	state Exp;
branches;
next	1.529;

1.529
date	2011.10.13.18.23.39;	author claudio;	state Exp;
branches;
next	1.528;

1.528
date	2011.10.06.20.49.28;	author deraadt;	state Exp;
branches;
next	1.527;

1.527
date	2011.09.03.20.03.27;	author miod;	state Exp;
branches;
next	1.526;

1.526
date	2011.08.18.20.02.58;	author miod;	state Exp;
branches;
next	1.525;

1.525
date	2011.07.09.00.47.18;	author henning;	state Exp;
branches;
next	1.524;

1.524
date	2011.07.09.00.10.52;	author deraadt;	state Exp;
branches;
next	1.523;

1.523
date	2011.07.08.19.19.20;	author tedu;	state Exp;
branches;
next	1.522;

1.522
date	2011.07.08.18.38.53;	author ariane;	state Exp;
branches;
next	1.521;

1.521
date	2011.07.08.17.58.16;	author ariane;	state Exp;
branches;
next	1.520;

1.520
date	2011.07.07.02.57.24;	author deraadt;	state Exp;
branches;
next	1.519;

1.519
date	2011.07.07.01.19.39;	author tedu;	state Exp;
branches;
next	1.518;

1.518
date	2011.07.06.10.25.21;	author ariane;	state Exp;
branches;
next	1.517;

1.517
date	2011.07.04.20.57.54;	author deraadt;	state Exp;
branches;
next	1.516;

1.516
date	2011.07.03.22.39.12;	author tedu;	state Exp;
branches;
next	1.515;

1.515
date	2011.06.30.13.43.14;	author tedu;	state Exp;
branches;
next	1.514;

1.514
date	2011.06.23.21.50.26;	author oga;	state Exp;
branches;
next	1.513;

1.513
date	2011.06.23.17.06.07;	author matthew;	state Exp;
branches;
next	1.512;

1.512
date	2011.04.07.13.42.53;	author thib;	state Exp;
branches;
next	1.511;

1.511
date	2011.04.05.18.51.25;	author thib;	state Exp;
branches;
next	1.510;

1.510
date	2011.04.05.12.50.15;	author guenther;	state Exp;
branches;
next	1.509;

1.509
date	2011.01.10.23.23.56;	author tedu;	state Exp;
branches;
next	1.508;

1.508
date	2011.01.06.19.32.09;	author damien;	state Exp;
branches;
next	1.507;

1.507
date	2011.01.06.07.27.15;	author damien;	state Exp;
branches;
next	1.506;

1.506
date	2010.12.21.20.14.43;	author thib;	state Exp;
branches;
next	1.505;

1.505
date	2010.12.21.14.56.24;	author claudio;	state Exp;
branches;
next	1.504;

1.504
date	2010.10.06.22.19.20;	author mikeb;	state Exp;
branches;
next	1.503;

1.503
date	2010.09.22.13.03.48;	author claudio;	state Exp;
branches;
next	1.502;

1.502
date	2010.09.22.11.54.23;	author mikeb;	state Exp;
branches;
next	1.501;

1.501
date	2010.09.10.16.34.08;	author thib;	state Exp;
branches;
next	1.500;

1.500
date	2010.09.06.23.44.10;	author thib;	state Exp;
branches;
next	1.499;

1.499
date	2010.07.31.08.33.19;	author ratchov;	state Exp;
branches;
next	1.498;

1.498
date	2010.07.20.15.28.43;	author matthew;	state Exp;
branches;
next	1.497;

1.497
date	2010.07.13.16.47.03;	author deraadt;	state Exp;
branches;
next	1.496;

1.496
date	2010.07.05.23.10.16;	author tedu;	state Exp;
branches;
next	1.495;

1.495
date	2010.07.01.17.30.25;	author tedu;	state Exp;
branches;
next	1.494;

1.494
date	2010.07.01.01.54.38;	author deraadt;	state Exp;
branches;
next	1.493;

1.493
date	2010.06.29.20.30.33;	author guenther;	state Exp;
branches;
next	1.492;

1.492
date	2010.06.08.12.46.49;	author jsing;	state Exp;
branches;
next	1.491;

1.491
date	2010.05.26.16.16.23;	author thib;	state Exp;
branches;
next	1.490;

1.490
date	2010.05.11.09.37.13;	author claudio;	state Exp;
branches;
next	1.489;

1.489
date	2010.05.10.17.44.21;	author damien;	state Exp;
branches;
next	1.488;

1.488
date	2010.05.01.13.13.08;	author oga;	state Exp;
branches;
next	1.487;

1.487
date	2010.04.22.19.02.52;	author oga;	state Exp;
branches;
next	1.486;

1.486
date	2010.04.20.22.53.24;	author miod;	state Exp;
branches;
next	1.485;

1.485
date	2010.03.22.21.20.55;	author miod;	state Exp;
branches;
next	1.484;

1.484
date	2010.01.11.03.50.55;	author yasuoka;	state Exp;
branches;
next	1.483;

1.483
date	2009.11.25.19.07.52;	author oga;	state Exp;
branches;
next	1.482;

1.482
date	2009.11.14.16.55.11;	author damien;	state Exp;
branches;
next	1.481;

1.481
date	2009.11.09.03.16.07;	author deraadt;	state Exp;
branches;
next	1.480;

1.480
date	2009.11.05.20.50.14;	author michele;	state Exp;
branches;
next	1.479;

1.479
date	2009.10.08.20.35.44;	author matthieu;	state Exp;
branches;
next	1.478;

1.478
date	2009.10.04.16.08.37;	author michele;	state Exp;
branches;
next	1.477;

1.477
date	2009.10.03.19.51.53;	author kettenis;	state Exp;
branches;
next	1.476;

1.476
date	2009.09.08.17.52.17;	author michele;	state Exp;
branches;
next	1.475;

1.475
date	2009.09.08.17.00.41;	author michele;	state Exp;
branches;
next	1.474;

1.474
date	2009.09.02.18.20.54;	author thib;	state Exp;
branches;
next	1.473;

1.473
date	2009.08.29.21.12.55;	author kettenis;	state Exp;
branches;
next	1.472;

1.472
date	2009.08.25.16.16.34;	author jsg;	state Exp;
branches;
next	1.471;

1.471
date	2009.08.20.15.04.24;	author thib;	state Exp;
branches;
next	1.470;

1.470
date	2009.08.09.23.04.49;	author miod;	state Exp;
branches;
next	1.469;

1.469
date	2009.08.09.12.47.23;	author dlg;	state Exp;
branches;
next	1.468;

1.468
date	2009.07.23.15.15.25;	author jordan;	state Exp;
branches;
next	1.467;

1.467
date	2009.06.17.01.30.30;	author thib;	state Exp;
branches;
next	1.466;

1.466
date	2009.06.16.16.42.41;	author ariane;	state Exp;
branches;
next	1.465;

1.465
date	2009.06.16.00.11.29;	author oga;	state Exp;
branches;
next	1.464;

1.464
date	2009.06.10.03.24.02;	author marco;	state Exp;
branches;
next	1.463;

1.463
date	2009.06.06.03.45.08;	author oga;	state Exp;
branches;
next	1.462;

1.462
date	2009.06.06.03.20.58;	author deraadt;	state Exp;
branches;
next	1.461;

1.461
date	2009.06.06.00.49.08;	author deraadt;	state Exp;
branches;
next	1.460;

1.460
date	2009.06.06.00.35.00;	author pirofti;	state Exp;
branches;
next	1.459;

1.459
date	2009.06.04.22.08.52;	author chl;	state Exp;
branches;
next	1.458;

1.458
date	2009.06.03.22.09.30;	author thib;	state Exp;
branches;
next	1.457;

1.457
date	2009.06.03.14.45.54;	author jj;	state Exp;
branches;
next	1.456;

1.456
date	2009.06.01.17.42.33;	author ariane;	state Exp;
branches;
next	1.455;

1.455
date	2009.05.06.18.21.23;	author stevesk;	state Exp;
branches;
next	1.454;

1.454
date	2009.01.29.15.12.28;	author pyr;	state Exp;
branches;
next	1.453;

1.453
date	2009.01.18.13.36.56;	author thib;	state Exp;
branches;
next	1.452;

1.452
date	2008.12.21.21.37.43;	author miod;	state Exp;
branches;
next	1.451;

1.451
date	2008.12.12.12.23.36;	author michele;	state Exp;
branches;
next	1.450;

1.450
date	2008.12.03.23.39.32;	author dlg;	state Exp;
branches;
next	1.449;

1.449
date	2008.11.24.04.46.59;	author tedu;	state Exp;
branches;
next	1.448;

1.448
date	2008.11.23.17.58.58;	author deraadt;	state Exp;
branches;
next	1.447;

1.447
date	2008.11.22.21.26.48;	author oga;	state Exp;
branches;
next	1.446;

1.446
date	2008.11.17.00.18.13;	author krw;	state Exp;
branches;
next	1.445;

1.445
date	2008.11.09.15.11.19;	author oga;	state Exp;
branches;
next	1.444;

1.444
date	2008.10.15.23.23.51;	author deraadt;	state Exp;
branches;
next	1.443;

1.443
date	2008.10.10.20.21.40;	author deraadt;	state Exp;
branches;
next	1.442;

1.442
date	2008.09.09.13.56.39;	author henning;	state Exp;
branches;
next	1.441;

1.441
date	2008.08.15.19.42.03;	author miod;	state Exp;
branches;
next	1.440;

1.440
date	2008.08.12.16.51.39;	author damien;	state Exp;
branches;
next	1.439;

1.439
date	2008.08.12.15.43.00;	author damien;	state Exp;
branches;
next	1.438;

1.438
date	2008.07.21.19.05.21;	author damien;	state Exp;
branches;
next	1.437;

1.437
date	2008.07.08.05.22.00;	author dlg;	state Exp;
branches;
next	1.436;

1.436
date	2008.06.15.06.56.09;	author mpf;	state Exp;
branches;
next	1.435;

1.435
date	2008.06.12.06.58.38;	author deraadt;	state Exp;
branches;
next	1.434;

1.434
date	2008.06.11.12.35.44;	author deraadt;	state Exp;
branches;
next	1.433;

1.433
date	2008.06.10.20.14.36;	author beck;	state Exp;
branches;
next	1.432;

1.432
date	2008.06.09.22.47.41;	author djm;	state Exp;
branches;
next	1.431;

1.431
date	2008.05.06.13.33.50;	author pyr;	state Exp;
branches;
next	1.430;

1.430
date	2008.04.23.13.28.58;	author jsg;	state Exp;
branches;
next	1.429;

1.429
date	2008.04.23.10.55.13;	author norby;	state Exp;
branches;
next	1.428;

1.428
date	2008.04.16.18.32.14;	author damien;	state Exp;
branches;
next	1.427;

1.427
date	2008.04.09.19.49.55;	author robert;	state Exp;
branches;
next	1.426;

1.426
date	2008.03.16.19.42.57;	author otto;	state Exp;
branches;
next	1.425;

1.425
date	2008.03.16.19.00.28;	author oga;	state Exp;
branches;
next	1.424;

1.424
date	2008.01.21.20.00.32;	author sobrado;	state Exp;
branches;
next	1.423;

1.423
date	2008.01.19.23.53.53;	author marco;	state Exp;
branches;
next	1.422;

1.422
date	2008.01.05.17.33.28;	author mbalmer;	state Exp;
branches;
next	1.421;

1.421
date	2007.11.28.23.37.34;	author oga;	state Exp;
branches;
next	1.420;

1.420
date	2007.11.27.17.21.52;	author tedu;	state Exp;
branches;
next	1.419;

1.419
date	2007.11.27.16.37.05;	author tedu;	state Exp;
branches;
next	1.418;

1.418
date	2007.11.25.18.25.33;	author deraadt;	state Exp;
branches;
next	1.417;

1.417
date	2007.11.25.15.36.27;	author deraadt;	state Exp;
branches;
next	1.416;

1.416
date	2007.11.25.11.23.33;	author deraadt;	state Exp;
branches;
next	1.415;

1.415
date	2007.11.23.10.25.15;	author deraadt;	state Exp;
branches;
next	1.414;

1.414
date	2007.11.15.21.15.34;	author damien;	state Exp;
branches;
next	1.413;

1.413
date	2007.10.18.17.39.54;	author miod;	state Exp;
branches;
next	1.412;

1.412
date	2007.10.15.01.22.20;	author deraadt;	state Exp;
branches;
next	1.411;

1.411
date	2007.10.10.15.53.53;	author art;	state Exp;
branches;
next	1.410;

1.410
date	2007.09.12.12.59.55;	author mglocker;	state Exp;
branches;
next	1.409;

1.409
date	2007.07.18.18.17.09;	author damien;	state Exp;
branches;
next	1.408;

1.408
date	2007.07.06.01.23.25;	author deraadt;	state Exp;
branches;
next	1.407;

1.407
date	2007.06.05.08.08.47;	author henning;	state Exp;
branches;
next	1.406;

1.406
date	2007.06.01.05.37.14;	author deraadt;	state Exp;
branches;
next	1.405;

1.405
date	2007.06.01.02.46.11;	author uwe;	state Exp;
branches;
next	1.404;

1.404
date	2007.05.31.18.16.59;	author dlg;	state Exp;
branches;
next	1.403;

1.403
date	2007.05.30.08.10.02;	author uwe;	state Exp;
branches;
next	1.402;

1.402
date	2007.05.30.04.35.10;	author uwe;	state Exp;
branches;
next	1.401;

1.401
date	2007.05.30.03.42.53;	author uwe;	state Exp;
branches;
next	1.400;

1.400
date	2007.05.29.18.21.19;	author claudio;	state Exp;
branches;
next	1.399;

1.399
date	2007.05.15.15.23.36;	author art;	state Exp;
branches;
next	1.398;

1.398
date	2007.05.15.01.00.15;	author dlg;	state Exp;
branches;
next	1.397;

1.397
date	2007.04.05.16.25.25;	author mglocker;	state Exp;
branches;
next	1.396;

1.396
date	2007.03.22.02.48.42;	author dlg;	state Exp;
branches;
next	1.395;

1.395
date	2007.03.19.14.33.28;	author dlg;	state Exp;
branches;
next	1.394;

1.394
date	2007.03.19.03.02.09;	author marco;	state Exp;
branches;
next	1.393;

1.393
date	2007.02.19.11.44.24;	author dlg;	state Exp;
branches;
next	1.392;

1.392
date	2006.12.06.20.07.52;	author martin;	state Exp;
branches;
next	1.391;

1.391
date	2006.12.02.15.55.18;	author miod;	state Exp;
branches;
next	1.390;

1.390
date	2006.11.25.18.10.29;	author uwe;	state Exp;
branches;
next	1.389;

1.389
date	2006.11.25.14.31.59;	author uwe;	state Exp;
branches;
next	1.388;

1.388
date	2006.11.17.18.58.30;	author mglocker;	state Exp;
branches;
next	1.387;

1.387
date	2006.10.27.18.26.11;	author deraadt;	state Exp;
branches;
next	1.386;

1.386
date	2006.10.15.19.55.47;	author claudio;	state Exp;
branches;
next	1.385;

1.385
date	2006.08.22.18.12.13;	author mglocker;	state Exp;
branches;
next	1.384;

1.384
date	2006.08.06.13.06.58;	author miod;	state Exp;
branches;
next	1.383;

1.383
date	2006.08.03.16.13.24;	author mbalmer;	state Exp;
branches;
next	1.382;

1.382
date	2006.08.03.08.45.01;	author mglocker;	state Exp;
branches;
next	1.381;

1.381
date	2006.07.19.18.38.42;	author grunk;	state Exp;
branches;
next	1.380;

1.380
date	2006.07.18.11.52.12;	author dlg;	state Exp;
branches;
next	1.379;

1.379
date	2006.06.29.22.14.41;	author dlg;	state Exp;
branches;
next	1.378;

1.378
date	2006.06.19.15.13.35;	author deraadt;	state Exp;
branches;
next	1.377;

1.377
date	2006.06.17.19.07.19;	author damien;	state Exp;
branches;
next	1.376;

1.376
date	2006.06.02.20.25.09;	author pedro;	state Exp;
branches;
next	1.375;

1.375
date	2006.06.01.20.10.28;	author mbalmer;	state Exp;
branches;
next	1.374;

1.374
date	2006.05.28.17.21.14;	author uwe;	state Exp;
branches;
next	1.373;

1.373
date	2006.05.27.23.40.27;	author claudio;	state Exp;
branches;
next	1.372;

1.372
date	2006.05.27.19.03.55;	author dlg;	state Exp;
branches;
next	1.371;

1.371
date	2006.05.27.14.18.01;	author miod;	state Exp;
branches;
next	1.370;

1.370
date	2006.04.28.08.34.31;	author pedro;	state Exp;
branches;
next	1.369;

1.369
date	2006.04.06.20.25.14;	author marco;	state Exp;
branches;
next	1.368;

1.368
date	2006.03.21.18.40.54;	author reyk;	state Exp;
branches;
next	1.367;

1.367
date	2006.03.12.00.18.07;	author brad;	state Exp;
branches;
next	1.366;

1.366
date	2006.03.04.16.27.02;	author grange;	state Exp;
branches;
next	1.365;

1.365
date	2006.02.01.11.03.33;	author dlg;	state Exp;
branches;
next	1.364;

1.364
date	2006.01.29.17.29.29;	author marco;	state Exp;
branches;
next	1.363;

1.363
date	2006.01.23.14.42.54;	author martin;	state Exp;
branches;
next	1.362;

1.362
date	2006.01.14.19.04.14;	author miod;	state Exp;
branches;
next	1.361;

1.361
date	2006.01.14.15.14.32;	author kettenis;	state Exp;
branches;
next	1.360;

1.360
date	2006.01.09.21.19.48;	author jsg;	state Exp;
branches;
next	1.359;

1.359
date	2006.01.09.20.03.28;	author damien;	state Exp;
branches;
next	1.358;

1.358
date	2006.01.02.19.49.23;	author miod;	state Exp;
branches;
next	1.357;

1.357
date	2005.12.11.21.30.30;	author miod;	state Exp;
branches;
next	1.356;

1.356
date	2005.12.06.20.18.57;	author pedro;	state Exp;
branches;
next	1.355;

1.355
date	2005.11.24.12.08.16;	author pedro;	state Exp;
branches;
next	1.354;

1.354
date	2005.11.10.08.10.16;	author dlg;	state Exp;
branches;
next	1.353;

1.353
date	2005.11.01.03.10.21;	author jsg;	state Exp;
branches;
next	1.352;

1.352
date	2005.10.31.19.35.14;	author deraadt;	state Exp;
branches;
next	1.351;

1.351
date	2005.09.26.22.32.05;	author miod;	state Exp;
branches;
next	1.350;

1.350
date	2005.09.15.20.23.10;	author miod;	state Exp;
branches;
next	1.349;

1.349
date	2005.09.08.09.11.07;	author jsg;	state Exp;
branches;
next	1.348;

1.348
date	2005.07.17.12.21.28;	author miod;	state Exp;
branches;
next	1.347;

1.347
date	2005.07.06.01.52.13;	author mickey;	state Exp;
branches;
next	1.346;

1.346
date	2005.07.03.20.13.59;	author drahn;	state Exp;
branches;
next	1.345;

1.345
date	2005.06.16.21.06.55;	author uwe;	state Exp;
branches;
next	1.344;

1.344
date	2005.06.08.05.01.04;	author henning;	state Exp;
branches;
next	1.343;

1.343
date	2005.06.07.02.48.39;	author henning;	state Exp;
branches;
next	1.342;

1.342
date	2005.06.03.23.09.12;	author deraadt;	state Exp;
branches;
next	1.341;

1.341
date	2005.05.29.02.54.50;	author reyk;	state Exp;
branches;
next	1.340;

1.340
date	2005.05.26.16.37.37;	author miod;	state Exp;
branches;
next	1.339;

1.339
date	2005.05.26.00.33.45;	author pedro;	state Exp;
branches;
next	1.338;

1.338
date	2005.05.24.02.45.17;	author reyk;	state Exp;
branches;
next	1.337;

1.337
date	2005.05.15.11.29.12;	author miod;	state Exp;
branches;
next	1.336;

1.336
date	2005.05.10.01.16.31;	author brad;	state Exp;
branches;
next	1.335;

1.335
date	2005.05.01.21.36.57;	author brad;	state Exp;
branches;
next	1.334;

1.334
date	2005.04.16.22.19.28;	author kettenis;	state Exp;
branches;
next	1.333;

1.333
date	2005.03.29.17.27.30;	author deraadt;	state Exp;
branches;
next	1.332;

1.332
date	2005.03.29.17.24.52;	author pedro;	state Exp;
branches;
next	1.331;

1.331
date	2005.03.08.20.00.24;	author tdeval;	state Exp;
branches;
next	1.330;

1.330
date	2005.03.05.23.58.43;	author tdeval;	state Exp;
branches;
next	1.329;

1.329
date	2005.02.25.22.25.30;	author reyk;	state Exp;
branches;
next	1.328;

1.328
date	2005.02.19.16.58.00;	author reyk;	state Exp;
branches;
next	1.327;

1.327
date	2005.02.15.20.51.16;	author damien;	state Exp;
branches;
next	1.326;

1.326
date	2005.01.14.22.39.31;	author miod;	state Exp;
branches;
next	1.325;

1.325
date	2005.01.14.12.04.02;	author grange;	state Exp;
branches;
next	1.324;

1.324
date	2005.01.14.01.08.11;	author pvalchev;	state Exp;
branches;
next	1.323;

1.323
date	2004.12.29.01.02.30;	author jsg;	state Exp;
branches;
next	1.322;

1.322
date	2004.12.22.12.02.47;	author grange;	state Exp;
branches;
next	1.321;

1.321
date	2004.11.28.23.39.45;	author canacar;	state Exp;
branches;
next	1.320;

1.320
date	2004.11.23.09.39.29;	author reyk;	state Exp;
branches;
next	1.319;

1.319
date	2004.11.17.14.12.59;	author deraadt;	state Exp;
branches;
next	1.318;

1.318
date	2004.11.02.02.45.36;	author reyk;	state Exp;
branches;
next	1.317;

1.317
date	2004.10.08.13.04.35;	author grange;	state Exp;
branches;
next	1.316;

1.316
date	2004.09.15.21.32.42;	author mickey;	state Exp;
branches;
next	1.315;

1.315
date	2004.09.14.23.49.28;	author henning;	state Exp;
branches;
next	1.314;

1.314
date	2004.08.05.17.04.51;	author pefo;	state Exp;
branches;
next	1.313;

1.313
date	2004.07.29.06.25.45;	author tedu;	state Exp;
branches;
next	1.312;

1.312
date	2004.07.28.17.15.12;	author tholo;	state Exp;
branches;
next	1.311;

1.311
date	2004.07.21.17.30.55;	author marius;	state Exp;
branches;
next	1.310;

1.310
date	2004.07.20.20.15.13;	author art;	state Exp;
branches;
next	1.309;

1.309
date	2004.07.15.12.10.44;	author henning;	state Exp;
branches;
next	1.308;

1.308
date	2004.06.28.01.34.46;	author aaron;	state Exp;
branches;
next	1.307;

1.307
date	2004.06.22.23.55.23;	author millert;	state Exp;
branches;
next	1.306;

1.306
date	2004.06.22.22.53.51;	author millert;	state Exp;
branches;
next	1.305;

1.305
date	2004.06.20.17.19.26;	author itojun;	state Exp;
branches;
next	1.304;

1.304
date	2004.06.06.16.49.08;	author cedric;	state Exp;
branches;
next	1.303;

1.303
date	2004.06.03.18.07.59;	author grange;	state Exp;
branches;
next	1.302;

1.302
date	2004.05.30.08.11.26;	author grange;	state Exp;
branches;
next	1.301;

1.301
date	2004.05.27.23.20.27;	author deraadt;	state Exp;
branches;
next	1.300;

1.300
date	2004.05.27.23.19.10;	author deraadt;	state Exp;
branches;
next	1.299;

1.299
date	2004.05.27.20.48.46;	author tedu;	state Exp;
branches;
next	1.298;

1.298
date	2004.05.23.17.33.43;	author grange;	state Exp;
branches;
next	1.297;

1.297
date	2004.05.20.03.04.37;	author marco;	state Exp;
branches;
next	1.296;

1.296
date	2004.05.07.18.13.00;	author miod;	state Exp;
branches;
next	1.295;

1.295
date	2004.05.07.14.42.26;	author millert;	state Exp;
branches;
next	1.294;

1.294
date	2004.05.06.17.40.11;	author grange;	state Exp;
branches;
next	1.293;

1.293
date	2004.04.25.02.48.03;	author itojun;	state Exp;
branches;
next	1.292;

1.292
date	2004.03.12.00.35.02;	author miod;	state Exp;
branches;
next	1.291;

1.291
date	2004.03.10.01.27.14;	author deraadt;	state Exp;
branches;
next	1.290;

1.290
date	2004.03.06.03.23.19;	author krw;	state Exp;
branches;
next	1.289;

1.289
date	2004.02.13.20.39.31;	author mickey;	state Exp;
branches;
next	1.288;

1.288
date	2004.01.07.21.30.59;	author markus;	state Exp;
branches;
next	1.287;

1.287
date	2004.01.07.00.13.22;	author fgsch;	state Exp;
branches;
next	1.286;

1.286
date	2003.12.28.17.16.28;	author tedu;	state Exp;
branches;
next	1.285;

1.285
date	2003.12.24.22.40.15;	author krw;	state Exp;
branches;
next	1.284;

1.284
date	2003.12.12.20.05.45;	author cedric;	state Exp;
branches;
next	1.283;

1.283
date	2003.10.17.21.04.58;	author mcbride;	state Exp;
branches;
next	1.282;

1.282
date	2003.10.07.07.08.45;	author markus;	state Exp;
branches;
next	1.281;

1.281
date	2003.10.01.21.41.05;	author itojun;	state Exp;
branches;
next	1.280;

1.280
date	2003.09.26.00.19.23;	author mickey;	state Exp;
branches;
next	1.279;

1.279
date	2003.08.21.19.12.07;	author frantzen;	state Exp;
branches;
next	1.278;

1.278
date	2003.08.19.03.36.20;	author mickey;	state Exp;
branches;
next	1.277;

1.277
date	2003.08.15.23.01.01;	author fgsch;	state Exp;
branches;
next	1.276;

1.276
date	2003.08.12.11.05.47;	author hin;	state Exp;
branches;
next	1.275;

1.275
date	2003.07.24.08.03.19;	author itojun;	state Exp;
branches;
next	1.274;

1.274
date	2003.07.24.03.07.47;	author deraadt;	state Exp;
branches;
next	1.273;

1.273
date	2003.05.20.03.05.42;	author tedu;	state Exp;
branches;
next	1.272;

1.272
date	2003.05.12.21.08.39;	author tedu;	state Exp;
branches;
next	1.271;

1.271
date	2003.04.25.21.24.15;	author grange;	state Exp;
branches;
next	1.270;

1.270
date	2003.03.29.00.51.38;	author mickey;	state Exp;
branches;
next	1.269;

1.269
date	2003.02.24.01.17.36;	author deraadt;	state Exp;
branches;
next	1.268;

1.268
date	2003.02.17.23.07.43;	author miod;	state Exp;
branches;
next	1.267;

1.267
date	2003.01.21.16.59.23;	author markus;	state Exp;
branches;
next	1.266;

1.266
date	2003.01.08.05.20.35;	author mickey;	state Exp;
branches;
next	1.265;

1.265
date	2003.01.08.02.11.38;	author krw;	state Exp;
branches;
next	1.264;

1.264
date	2003.01.07.00.25.05;	author dhartmei;	state Exp;
branches;
next	1.263;

1.263
date	2002.12.31.11.48.50;	author matthieu;	state Exp;
branches;
next	1.262;

1.262
date	2002.12.29.20.07.34;	author cedric;	state Exp;
branches;
next	1.261;

1.261
date	2002.12.18.00.15.21;	author henning;	state Exp;
branches;
next	1.260;

1.260
date	2002.12.16.08.51.39;	author kjc;	state Exp;
branches;
next	1.259;

1.259
date	2002.12.13.02.59.20;	author tdeval;	state Exp;
branches;
next	1.258;

1.258
date	2002.11.29.18.25.23;	author mickey;	state Exp;
branches;
next	1.257;

1.257
date	2002.09.03.16.30.54;	author mickey;	state Exp;
branches;
next	1.256;

1.256
date	2002.07.06.19.14.20;	author nordin;	state Exp;
branches;
next	1.255;

1.255
date	2002.06.28.00.34.54;	author smurph;	state Exp;
branches;
next	1.254;

1.254
date	2002.06.26.00.14.38;	author itojun;	state Exp;
branches;
next	1.253;

1.253
date	2002.06.09.22.03.43;	author niklas;	state Exp;
branches;
next	1.252;

1.252
date	2002.06.09.08.53.08;	author pb;	state Exp;
branches;
next	1.251;

1.251
date	2002.06.09.04.44.31;	author pb;	state Exp;
branches;
next	1.250;

1.250
date	2002.06.09.03.57.12;	author pb;	state Exp;
branches;
next	1.249;

1.249
date	2002.06.08.21.22.02;	author itojun;	state Exp;
branches;
next	1.248;

1.248
date	2002.05.16.16.16.51;	author provos;	state Exp;
branches;
next	1.247;

1.247
date	2002.05.06.16.37.39;	author mickey;	state Exp;
branches;
next	1.246;

1.246
date	2002.04.25.04.56.59;	author mickey;	state Exp;
branches;
next	1.245;

1.245
date	2002.03.28.18.23.07;	author mickey;	state Exp;
branches;
next	1.244;

1.244
date	2002.03.19.02.49.20;	author millert;	state Exp;
branches;
next	1.243;

1.243
date	2002.03.14.20.15.00;	author jason;	state Exp;
branches;
next	1.242;

1.242
date	2002.03.14.19.20.03;	author jason;	state Exp;
branches;
next	1.241;

1.241
date	2002.03.14.00.42.25;	author miod;	state Exp;
branches;
next	1.240;

1.240
date	2002.02.22.20.37.45;	author drahn;	state Exp;
branches;
next	1.239;

1.239
date	2002.02.18.01.55.30;	author krw;	state Exp;
branches;
next	1.238;

1.238
date	2002.02.16.04.36.33;	author smurph;	state Exp;
branches;
next	1.237;

1.237
date	2002.01.29.15.48.29;	author jason;	state Exp;
branches;
next	1.236;

1.236
date	2002.01.24.22.38.02;	author mickey;	state Exp;
branches;
next	1.235;

1.235
date	2002.01.18.02.11.08;	author miod;	state Exp;
branches;
next	1.234;

1.234
date	2001.12.19.08.58.05;	author art;	state Exp;
branches;
next	1.233;

1.233
date	2001.12.10.04.45.31;	author art;	state Exp;
branches
	1.233.2.1;
next	1.232;

1.232
date	2001.11.29.08.40.09;	author itojun;	state Exp;
branches;
next	1.231;

1.231
date	2001.11.27.05.27.11;	author art;	state Exp;
branches;
next	1.230;

1.230
date	2001.11.21.21.23.56;	author csapuntz;	state Exp;
branches;
next	1.229;

1.229
date	2001.11.02.10.06.13;	author jjbg;	state Exp;
branches;
next	1.228;

1.228
date	2001.10.27.05.02.29;	author deraadt;	state Exp;
branches;
next	1.227;

1.227
date	2001.10.04.21.43.37;	author gluk;	state Exp;
branches;
next	1.226;

1.226
date	2001.09.21.00.01.19;	author art;	state Exp;
branches;
next	1.225;

1.225
date	2001.09.19.13.28.43;	author art;	state Exp;
branches;
next	1.224;

1.224
date	2001.09.18.08.52.17;	author art;	state Exp;
branches;
next	1.223;

1.223
date	2001.08.19.17.12.20;	author jason;	state Exp;
branches;
next	1.222;

1.222
date	2001.08.18.22.05.21;	author jason;	state Exp;
branches;
next	1.221;

1.221
date	2001.08.18.16.15.39;	author aaron;	state Exp;
branches;
next	1.220;

1.220
date	2001.08.09.14.32.59;	author deraadt;	state Exp;
branches;
next	1.219;

1.219
date	2001.08.08.15.15.28;	author jjbg;	state Exp;
branches;
next	1.218;

1.218
date	2001.08.03.15.15.09;	author mickey;	state Exp;
branches;
next	1.217;

1.217
date	2001.07.18.12.24.20;	author art;	state Exp;
branches;
next	1.216;

1.216
date	2001.07.17.20.34.49;	author provos;	state Exp;
branches;
next	1.215;

1.215
date	2001.07.13.17.26.44;	author niklas;	state Exp;
branches;
next	1.214;

1.214
date	2001.07.05.17.52.45;	author deraadt;	state Exp;
branches;
next	1.213;

1.213
date	2001.07.05.17.37.30;	author deraadt;	state Exp;
branches;
next	1.212;

1.212
date	2001.07.05.16.51.32;	author jjbg;	state Exp;
branches;
next	1.211;

1.211
date	2001.07.05.07.24.10;	author art;	state Exp;
branches;
next	1.210;

1.210
date	2001.06.27.05.50.05;	author kjc;	state Exp;
branches;
next	1.209;

1.209
date	2001.06.27.05.10.55;	author art;	state Exp;
branches;
next	1.208;

1.208
date	2001.06.25.20.48.15;	author provos;	state Exp;
branches;
next	1.207;

1.207
date	2001.06.25.03.28.01;	author csapuntz;	state Exp;
branches;
next	1.206;

1.206
date	2001.06.24.19.48.57;	author kjell;	state Exp;
branches;
next	1.205;

1.205
date	2001.06.23.06.35.52;	author angelos;	state Exp;
branches;
next	1.204;

1.204
date	2001.06.08.14.39.54;	author angelos;	state Exp;
branches;
next	1.203;

1.203
date	2001.06.08.08.15.51;	author deraadt;	state Exp;
branches;
next	1.202;

1.202
date	2001.06.08.02.53.19;	author angelos;	state Exp;
branches;
next	1.201;

1.201
date	2001.05.30.02.12.22;	author deraadt;	state Exp;
branches;
next	1.200;

1.200
date	2001.05.15.02.40.34;	author millert;	state Exp;
branches;
next	1.199;

1.199
date	2001.05.13.15.39.26;	author deraadt;	state Exp;
branches;
next	1.198;

1.198
date	2001.05.11.07.13.14;	author deraadt;	state Exp;
branches;
next	1.197;

1.197
date	2001.05.02.20.30.28;	author mickey;	state Exp;
branches;
next	1.196;

1.196
date	2001.04.10.22.52.00;	author aaron;	state Exp;
branches;
next	1.195;

1.195
date	2001.04.09.07.14.17;	author tholo;	state Exp;
branches;
next	1.194;

1.194
date	2001.03.29.01.39.31;	author aaron;	state Exp;
branches;
next	1.193;

1.193
date	2001.03.29.01.26.46;	author aaron;	state Exp;
branches;
next	1.192;

1.192
date	2001.03.21.23.24.50;	author art;	state Exp;
branches;
next	1.191;

1.191
date	2001.03.18.04.34.56;	author nate;	state Exp;
branches;
next	1.190;

1.190
date	2001.03.11.02.48.19;	author aaron;	state Exp;
branches;
next	1.189;

1.189
date	2001.03.07.23.59.02;	author mickey;	state Exp;
branches;
next	1.188;

1.188
date	2001.02.15.04.07.57;	author krw;	state Exp;
branches;
next	1.187;

1.187
date	2001.02.10.10.42.34;	author niklas;	state Exp;
branches;
next	1.186;

1.186
date	2001.02.08.18.46.21;	author itojun;	state Exp;
branches;
next	1.185;

1.185
date	2001.02.06.00.22.14;	author mickey;	state Exp;
branches;
next	1.184;

1.184
date	2001.01.24.09.38.02;	author hugh;	state Exp;
branches;
next	1.183;

1.183
date	2001.01.23.04.19.42;	author krw;	state Exp;
branches;
next	1.182;

1.182
date	2000.12.17.21.34.57;	author mickey;	state Exp;
branches;
next	1.181;

1.181
date	2000.12.12.03.41.22;	author jason;	state Exp;
branches;
next	1.180;

1.180
date	2000.11.16.20.02.21;	author provos;	state Exp;
branches;
next	1.179;

1.179
date	2000.11.16.05.53.59;	author aaron;	state Exp;
branches;
next	1.178;

1.178
date	2000.09.28.19.16.14;	author mickey;	state Exp;
branches;
next	1.177;

1.177
date	2000.09.19.03.23.16;	author angelos;	state Exp;
branches;
next	1.176;

1.176
date	2000.09.15.13.44.23;	author mickey;	state Exp;
branches;
next	1.175;

1.175
date	2000.09.06.01.51.16;	author rahnds;	state Exp;
branches;
next	1.174;

1.174
date	2000.08.12.04.30.18;	author jasoni;	state Exp;
branches;
next	1.173;

1.173
date	2000.06.25.08.50.22;	author espie;	state Exp;
branches;
next	1.172;

1.172
date	2000.06.20.09.46.11;	author fgsch;	state Exp;
branches;
next	1.171;

1.171
date	2000.06.19.03.21.18;	author tholo;	state Exp;
branches;
next	1.170;

1.170
date	2000.06.18.17.32.42;	author itojun;	state Exp;
branches;
next	1.169;

1.169
date	2000.06.17.17.16.04;	author provos;	state Exp;
branches;
next	1.168;

1.168
date	2000.06.12.17.23.49;	author itojun;	state Exp;
branches;
next	1.167;

1.167
date	2000.06.12.06.10.43;	author fgsch;	state Exp;
branches;
next	1.166;

1.166
date	2000.06.06.20.18.20;	author art;	state Exp;
branches;
next	1.165;

1.165
date	2000.05.30.19.34.20;	author mickey;	state Exp;
branches;
next	1.164;

1.164
date	2000.05.29.18.04.08;	author aaron;	state Exp;
branches;
next	1.163;

1.163
date	2000.05.27.21.06.07;	author provos;	state Exp;
branches;
next	1.162;

1.162
date	2000.05.17.18.20.19;	author mickey;	state Exp;
branches;
next	1.161;

1.161
date	2000.04.26.19.04.59;	author chris;	state Exp;
branches;
next	1.160;

1.160
date	2000.04.19.00.10.35;	author deraadt;	state Exp;
branches;
next	1.159;

1.159
date	2000.04.18.19.35.28;	author jason;	state Exp;
branches;
next	1.158;

1.158
date	2000.04.18.18.44.22;	author jason;	state Exp;
branches;
next	1.157;

1.157
date	2000.04.08.05.50.50;	author aaron;	state Exp;
branches;
next	1.156;

1.156
date	2000.04.03.01.02.00;	author mickey;	state Exp;
branches;
next	1.155;

1.155
date	2000.03.23.09.59.56;	author art;	state Exp;
branches;
next	1.154;

1.154
date	2000.03.19.06.53.40;	author deraadt;	state Exp;
branches;
next	1.153;

1.153
date	2000.03.17.10.25.20;	author angelos;	state Exp;
branches;
next	1.152;

1.152
date	2000.02.28.23.13.06;	author deraadt;	state Exp;
branches;
next	1.151;

1.151
date	2000.02.07.00.33.03;	author niklas;	state Exp;
branches
	1.151.2.1;
next	1.150;

1.150
date	2000.01.27.08.09.07;	author angelos;	state Exp;
branches;
next	1.149;

1.149
date	2000.01.21.03.15.06;	author angelos;	state Exp;
branches;
next	1.148;

1.148
date	2000.01.11.17.58.50;	author peter;	state Exp;
branches;
next	1.147;

1.147
date	2000.01.11.01.48.33;	author fgsch;	state Exp;
branches;
next	1.146;

1.146
date	2000.01.08.04.34.37;	author angelos;	state Exp;
branches;
next	1.145;

1.145
date	2000.01.06.21.01.15;	author fgsch;	state Exp;
branches;
next	1.144;

1.144
date	2000.01.02.09.06.42;	author angelos;	state Exp;
branches;
next	1.143;

1.143
date	99.12.30.18.21.56;	author provos;	state Exp;
branches;
next	1.142;

1.142
date	99.12.27.21.41.13;	author fgsch;	state Exp;
branches;
next	1.141;

1.141
date	99.12.09.19.05.17;	author deraadt;	state Exp;
branches;
next	1.140;

1.140
date	99.12.09.18.34.41;	author angelos;	state Exp;
branches;
next	1.139;

1.139
date	99.12.09.14.55.37;	author provos;	state Exp;
branches;
next	1.138;

1.138
date	99.12.08.06.50.17;	author itojun;	state Exp;
branches;
next	1.137;

1.137
date	99.11.30.07.55.55;	author cmetz;	state Exp;
branches;
next	1.136;

1.136
date	99.11.28.11.50.36;	author downsj;	state Exp;
branches;
next	1.135;

1.135
date	99.11.26.20.19.42;	author niklas;	state Exp;
branches;
next	1.134;

1.134
date	99.11.08.15.36.01;	author mickey;	state Exp;
branches;
next	1.133;

1.133
date	99.10.29.05.23.47;	author angelos;	state Exp;
branches;
next	1.132;

1.132
date	99.10.29.02.00.44;	author angelos;	state Exp;
branches;
next	1.131;

1.131
date	99.10.29.01.46.48;	author angelos;	state Exp;
branches;
next	1.130;

1.130
date	99.10.28.03.22.54;	author angelos;	state Exp;
branches;
next	1.129;

1.129
date	99.09.19.06.52.08;	author csapuntz;	state Exp;
branches;
next	1.128;

1.128
date	99.09.10.12.24.26;	author kstailey;	state Exp;
branches;
next	1.127;

1.127
date	99.08.17.22.47.16;	author mickey;	state Exp;
branches;
next	1.126;

1.126
date	99.08.13.05.35.14;	author fgsch;	state Exp;
branches;
next	1.125;

1.125
date	99.08.04.13.10.54;	author peter;	state Exp;
branches;
next	1.124;

1.124
date	99.07.30.13.43.35;	author d;	state Exp;
branches;
next	1.123;

1.123
date	99.07.25.10.23.17;	author deraadt;	state Exp;
branches;
next	1.122;

1.122
date	99.07.25.04.38.26;	author csapuntz;	state Exp;
branches;
next	1.121;

1.121
date	99.07.18.21.25.20;	author csapuntz;	state Exp;
branches;
next	1.120;

1.120
date	99.07.06.20.17.52;	author cmetz;	state Exp;
branches;
next	1.119;

1.119
date	99.07.01.23.10.39;	author deraadt;	state Exp;
branches;
next	1.118;

1.118
date	99.06.21.23.21.44;	author d;	state Exp;
branches;
next	1.117;

1.117
date	99.06.18.07.23.57;	author deraadt;	state Exp;
branches;
next	1.116;

1.116
date	99.04.30.01.58.59;	author art;	state Exp;
branches;
next	1.115;

1.115
date	99.04.20.20.06.10;	author niklas;	state Exp;
branches;
next	1.114;

1.114
date	99.04.08.05.21.34;	author niklas;	state Exp;
branches;
next	1.113;

1.113
date	99.03.30.00.19.04;	author niklas;	state Exp;
branches;
next	1.112;

1.112
date	99.03.17.05.33.11;	author mjacob;	state Exp;
branches;
next	1.111;

1.111
date	99.02.26.17.01.29;	author jason;	state Exp;
branches;
next	1.110;

1.110
date	99.02.26.01.33.07;	author art;	state Exp;
branches;
next	1.109;

1.109
date	99.02.24.22.59.00;	author angelos;	state Exp;
branches;
next	1.108;

1.108
date	99.02.24.22.38.22;	author angelos;	state Exp;
branches;
next	1.107;

1.107
date	99.02.24.22.36.42;	author angelos;	state Exp;
branches;
next	1.106;

1.106
date	99.02.17.20.39.16;	author deraadt;	state Exp;
branches;
next	1.105;

1.105
date	99.01.11.14.28.55;	author niklas;	state Exp;
branches;
next	1.104;

1.104
date	99.01.11.01.43.50;	author niklas;	state Exp;
branches;
next	1.103;

1.103
date	99.01.11.01.00.05;	author deraadt;	state Exp;
branches;
next	1.102;

1.102
date	99.01.02.00.02.48;	author niklas;	state Exp;
branches;
next	1.101;

1.101
date	98.12.26.12.35.10;	author provos;	state Exp;
branches;
next	1.100;

1.100
date	98.11.28.04.06.04;	author mickey;	state Exp;
branches;
next	1.99;

1.99
date	98.11.17.06.14.47;	author downsj;	state Exp;
branches;
next	1.98;

1.98
date	98.11.08.15.09.01;	author mickey;	state Exp;
branches;
next	1.97;

1.97
date	98.11.06.06.32.14;	author fgsch;	state Exp;
branches;
next	1.96;

1.96
date	98.09.28.02.43.22;	author jason;	state Exp;
branches;
next	1.95;

1.95
date	98.09.28.02.33.55;	author jason;	state Exp;
branches;
next	1.94;

1.94
date	98.09.28.01.23.44;	author mickey;	state Exp;
branches;
next	1.93;

1.93
date	98.09.27.03.56.00;	author rahnds;	state Exp;
branches;
next	1.92;

1.92
date	98.09.27.03.38.40;	author downsj;	state Exp;
branches;
next	1.91;

1.91
date	98.09.22.06.46.51;	author fgsch;	state Exp;
branches;
next	1.90;

1.90
date	98.09.18.00.35.11;	author art;	state Exp;
branches;
next	1.89;

1.89
date	98.09.11.10.12.45;	author fgsch;	state Exp;
branches;
next	1.88;

1.88
date	98.09.10.17.23.59;	author jason;	state Exp;
branches;
next	1.87;

1.87
date	98.09.03.06.24.19;	author jason;	state Exp;
branches;
next	1.86;

1.86
date	98.08.30.17.11.32;	author art;	state Exp;
branches;
next	1.85;

1.85
date	98.08.27.05.00.09;	author deraadt;	state Exp;
branches;
next	1.84;

1.84
date	98.08.27.00.46.28;	author mickey;	state Exp;
branches;
next	1.83;

1.83
date	98.08.27.00.44.40;	author mickey;	state Exp;
branches;
next	1.82;

1.82
date	98.08.24.05.42.18;	author millert;	state Exp;
branches;
next	1.81;

1.81
date	98.08.24.05.26.50;	author millert;	state Exp;
branches;
next	1.80;

1.80
date	98.07.10.19.56.55;	author mickey;	state Exp;
branches;
next	1.79;

1.79
date	98.04.26.21.52.03;	author provos;	state Exp;
branches;
next	1.78;

1.78
date	98.04.26.21.03.05;	author provos;	state Exp;
branches;
next	1.77;

1.77
date	98.03.24.03.26.03;	author deraadt;	state Exp;
branches;
next	1.76;

1.76
date	98.03.15.03.53.48;	author millert;	state Exp;
branches;
next	1.75;

1.75
date	98.03.01.00.37.53;	author niklas;	state Exp;
branches;
next	1.74;

1.74
date	98.01.28.14.19.39;	author niklas;	state Exp;
branches;
next	1.73;

1.73
date	98.01.26.04.12.14;	author dgregor;	state Exp;
branches;
next	1.72;

1.72
date	98.01.10.23.41.18;	author csapuntz;	state Exp;
branches;
next	1.71;

1.71
date	97.11.25.11.00.10;	author provos;	state Exp;
branches;
next	1.70;

1.70
date	97.11.10.04.01.22;	author mickey;	state Exp;
branches;
next	1.69;

1.69
date	97.11.06.12.27.00;	author niklas;	state Exp;
branches;
next	1.68;

1.68
date	97.11.06.05.58.07;	author csapuntz;	state Exp;
branches;
next	1.67;

1.67
date	97.11.06.02.53.48;	author niklas;	state Exp;
branches;
next	1.66;

1.66
date	97.11.04.09.10.50;	author provos;	state Exp;
branches;
next	1.65;

1.65
date	97.10.06.20.19.37;	author deraadt;	state Exp;
branches;
next	1.64;

1.64
date	97.10.06.15.07.17;	author csapuntz;	state Exp;
branches;
next	1.63;

1.63
date	97.08.20.17.09.41;	author angelos;	state Exp;
branches;
next	1.62;

1.62
date	97.08.19.21.58.02;	author angelos;	state Exp;
branches;
next	1.61;

1.61
date	97.07.23.04.35.32;	author denny;	state Exp;
branches;
next	1.60;

1.60
date	97.07.11.23.37.50;	author provos;	state Exp;
branches;
next	1.59;

1.59
date	97.06.20.19.44.47;	author provos;	state Exp;
branches;
next	1.58;

1.58
date	97.06.20.05.42.50;	author provos;	state Exp;
branches;
next	1.57;

1.57
date	97.05.30.08.28.30;	author downsj;	state Exp;
branches;
next	1.56;

1.56
date	97.04.30.20.21.14;	author deraadt;	state Exp;
branches;
next	1.55;

1.55
date	97.04.30.19.44.29;	author deraadt;	state Exp;
branches;
next	1.54;

1.54
date	97.04.24.08.37.46;	author downsj;	state Exp;
branches;
next	1.53;

1.53
date	97.03.30.22.05.16;	author mickey;	state Exp;
branches;
next	1.52;

1.52
date	97.03.23.11.02.58;	author pefo;	state Exp;
branches;
next	1.51;

1.51
date	97.02.27.14.05.52;	author briggs;	state Exp;
branches;
next	1.50;

1.50
date	97.02.20.01.07.37;	author deraadt;	state Exp;
branches;
next	1.49;

1.49
date	96.12.23.02.42.23;	author deraadt;	state Exp;
branches;
next	1.48;

1.48
date	96.11.30.13.39.20;	author niklas;	state Exp;
branches;
next	1.47;

1.47
date	96.11.30.00.53.34;	author niklas;	state Exp;
branches;
next	1.46;

1.46
date	96.11.28.23.10.28;	author niklas;	state Exp;
branches;
next	1.45;

1.45
date	96.10.29.03.45.25;	author deraadt;	state Exp;
branches;
next	1.44;

1.44
date	96.10.21.09.55.44;	author mickey;	state Exp;
branches;
next	1.43;

1.43
date	96.10.21.09.39.59;	author mickey;	state Exp;
branches;
next	1.42;

1.42
date	96.10.19.14.29.59;	author deraadt;	state Exp;
branches;
next	1.41;

1.41
date	96.10.19.13.26.14;	author mickey;	state Exp;
branches;
next	1.40;

1.40
date	96.09.20.06.44.46;	author deraadt;	state Exp;
branches;
next	1.39;

1.39
date	96.08.30.08.39.19;	author deraadt;	state Exp;
branches;
next	1.38;

1.38
date	96.08.29.07.40.25;	author deraadt;	state Exp;
branches;
next	1.37;

1.37
date	96.08.27.14.46.54;	author shawn;	state Exp;
branches;
next	1.36;

1.36
date	96.08.23.19.57.37;	author niklas;	state Exp;
branches;
next	1.35;

1.35
date	96.08.15.14.44.47;	author shawn;	state Exp;
branches;
next	1.34;

1.34
date	96.08.07.17.27.52;	author deraadt;	state Exp;
branches;
next	1.33;

1.33
date	96.08.02.15.32.41;	author deraadt;	state Exp;
branches;
next	1.32;

1.32
date	96.07.29.06.06.19;	author deraadt;	state Exp;
branches;
next	1.31;

1.31
date	96.07.29.05.50.17;	author deraadt;	state Exp;
branches;
next	1.30;

1.30
date	96.07.27.11.27.38;	author deraadt;	state Exp;
branches;
next	1.29;

1.29
date	96.07.27.07.20.01;	author deraadt;	state Exp;
branches;
next	1.28;

1.28
date	96.07.02.01.07.42;	author chuck;	state Exp;
branches;
next	1.27;

1.27
date	96.06.30.21.42.46;	author chuck;	state Exp;
branches;
next	1.26;

1.26
date	96.06.24.03.34.51;	author downsj;	state Exp;
branches;
next	1.25;

1.25
date	96.06.23.19.37.23;	author maja;	state Exp;
branches;
next	1.24;

1.24
date	96.06.21.15.18.31;	author chuck;	state Exp;
branches;
next	1.23;

1.23
date	96.06.10.05.58.50;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	96.05.28.12.16.34;	author deraadt;	state Exp;
branches;
next	1.21;

1.21
date	96.05.22.12.08.17;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	96.05.10.12.33.26;	author deraadt;	state Exp;
branches;
next	1.19;

1.19
date	96.05.05.12.42.09;	author deraadt;	state Exp;
branches;
next	1.18;

1.18
date	96.05.05.12.23.24;	author mickey;	state Exp;
branches;
next	1.17;

1.17
date	96.05.02.13.46.29;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	96.04.28.17.01.48;	author mickey;	state Exp;
branches;
next	1.15;

1.15
date	96.04.21.22.18.51;	author deraadt;	state Exp;
branches;
next	1.14;

1.14
date	96.04.19.16.08.25;	author niklas;	state Exp;
branches;
next	1.13;

1.13
date	96.04.19.07.31.23;	author mickey;	state Exp;
branches;
next	1.12;

1.12
date	96.03.30.04.51.25;	author mickey;	state Exp;
branches;
next	1.11;

1.11
date	96.03.29.12.05.49;	author mickey;	state Exp;
branches;
next	1.10;

1.10
date	96.03.26.15.09.35;	author mickey;	state Exp;
branches;
next	1.9;

1.9
date	96.03.24.17.02.43;	author tholo;	state Exp;
branches;
next	1.8;

1.8
date	96.03.03.17.56.50;	author niklas;	state Exp;
branches;
next	1.7;

1.7
date	96.01.29.23.05.04;	author tholo;	state Exp;
branches;
next	1.6;

1.6
date	96.01.25.05.44.35;	author dm;	state Exp;
branches;
next	1.5;

1.5
date	96.01.15.21.34.08;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	96.01.07.02.33.57;	author dm;	state Exp;
branches;
next	1.3;

1.3
date	96.01.04.01.31.37;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.12.14.05.00.26;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.52.26;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.52.26;	author deraadt;	state Exp;
branches;
next	;

1.151.2.1
date	2000.03.02.07.04.35;	author niklas;	state Exp;
branches;
next	1.151.2.2;

1.151.2.2
date	2000.03.24.09.09.04;	author niklas;	state Exp;
branches;
next	1.151.2.3;

1.151.2.3
date	2001.05.14.22.06.47;	author niklas;	state Exp;
branches;
next	1.151.2.4;

1.151.2.4
date	2001.07.04.10.39.55;	author niklas;	state Exp;
branches;
next	1.151.2.5;

1.151.2.5
date	2001.10.31.03.11.47;	author nate;	state Exp;
branches;
next	1.151.2.6;

1.151.2.6
date	2001.11.13.21.05.48;	author niklas;	state Exp;
branches;
next	1.151.2.7;

1.151.2.7
date	2001.12.05.00.43.28;	author niklas;	state Exp;
branches;
next	1.151.2.8;

1.151.2.8
date	2002.03.06.02.07.09;	author niklas;	state Exp;
branches;
next	1.151.2.9;

1.151.2.9
date	2002.03.28.11.43.03;	author niklas;	state Exp;
branches;
next	1.151.2.10;

1.151.2.10
date	2003.03.27.23.53.48;	author niklas;	state Exp;
branches;
next	1.151.2.11;

1.151.2.11
date	2003.05.13.19.21.27;	author ho;	state Exp;
branches;
next	1.151.2.12;

1.151.2.12
date	2003.05.16.00.29.41;	author niklas;	state Exp;
branches;
next	1.151.2.13;

1.151.2.13
date	2003.06.07.11.00.37;	author ho;	state Exp;
branches;
next	1.151.2.14;

1.151.2.14
date	2004.02.19.10.51.29;	author niklas;	state Exp;
branches;
next	1.151.2.15;

1.151.2.15
date	2004.06.05.23.12.35;	author niklas;	state Exp;
branches;
next	1.151.2.16;

1.151.2.16
date	2004.06.07.20.41.19;	author niklas;	state Exp;
branches;
next	;

1.233.2.1
date	2002.01.31.22.55.28;	author niklas;	state Exp;
branches;
next	1.233.2.2;

1.233.2.2
date	2002.06.11.03.28.26;	author art;	state Exp;
branches;
next	1.233.2.3;

1.233.2.3
date	2002.10.29.00.30.52;	author art;	state Exp;
branches;
next	1.233.2.4;

1.233.2.4
date	2003.05.19.21.53.00;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.652
log
@Remove option DDB_STRUCTINFO.  Now that ddb(4) is CTF aware, similar
functionnalities are available in GENERIC.

ok jasper@@, deraadt@@, guenther@@, dlg@@
@
text
@#	$OpenBSD: files,v 1.651 2017/08/11 20:50:15 mpi Exp $
#	$NetBSD: files,v 1.87 1996/05/19 17:17:50 jonathan Exp $

#	@@(#)files.newconf	7.5 (Berkeley) 5/10/93


# generic attributes
define	disk
define	tape
define	ifnet
define	tty
define	audio {}
define	scsi {}
define	atascsi {}
define	ifmedia
define	mii {[phy = -1]}
define	midibus {}
define	radiobus {}
define	i2cbus {}
define	gpiobus {}
define	onewirebus {}
define	video {}

# filesystem firmware loading attribute
define firmload

# radio device attributes
define tea5757
define lm700x
define tc921x
define pt2254a

device	video
attach	video at video

# audio and midi devices, attaches to audio hardware driver
device	audio
attach	audio at audio
device	midi
attach	midi at midibus

# raster operations attributes
define	rasops1
define	rasops4
define	rasops8
define	rasops15
define	rasops16
define	rasops24
define	rasops32
define	rasops_bswap
define	rasops_rotation

# I2C bus bit-banging
define	i2c_bitbang

# 1-Wire bus bit-banging
define	onewire_bitbang

# net device attributes - we have generic code for ether(net)
define	crypto
define	ether
define	sppp
define	wlan

# "Chipset" attributes.  These are the machine-independent portions
# of device drivers.
define	ncr5380sbc	# NCR 5380 SCSI Bus Controller
define	ncr53c7xx	# NCR 53c7xx SCSI Bus Controller
define	dp8390nic	# 8390-family Ethernet controllers
define	rtl80x9		# Realtek 8019/8029 NE2000-compatible
define	dl10019		# DL10019/10022-family Ethernet controllers
define	ax88190		# AX88190-family Ethernet controllers

# a wscons output device; used later, but needs to be near the top for
# common file (e.g. vga) definitions.
define	wsdisplaydev		{[mux = 1]}
define	wsemuldisplaydev	{[console = -1], [mux = 1]}
define	wskbddev		{[console = -1], [mux = 1]}
define	wsmousedev		{[mux = 0]}

# SMC 93Cx6 Serial EEPROM devices
define	smc93cx6
file	dev/ic/smc93cx6.c		smc93cx6

# common PC display functions
define	pcdisplayops
file	dev/ic/pcdisplay_subr.c		pcdisplayops
file	dev/ic/pcdisplay_chars.c	pcdisplayops

# Mostek time-of-day clock and NVRAM
define	mk48txx
file	dev/ic/mk48txx.c		mk48txx

# agp integrated graphics attaches at vga. defines are in dev/pci/files.agp
define agpint {}

# DRM - Direct Rendering Manager: /dev/drm
define drmdev {}

# VGA graphics
device	vga: wsemuldisplaydev, pcdisplayops, drmdev, agpint
file	dev/ic/vga.c			vga & (vga_pci | vga_isa) needs-flag
file	dev/ic/vga_subr.c		vga & (vga_pci | vga_isa) needs-flag

# Video modes
define	edid
file	dev/videomode/edid.c		edid
file    dev/videomode/vesagtf.c         edid
file    dev/videomode/videomode.c       edid

# Attribute for devices that read/write an IEEE 802.3u MII bus using the
# bit-bang method.
define	mii_bitbang
file	dev/mii/mii_bitbang.c		mii_bitbang

define	wdc_base
define	ata {[channel = -1], [drive = -1]}
define	atapi {[channel = -1]}
# Common code for ESDI/IDE/etc. controllers
device	wdc: ata, atapi, wdc_base
file	dev/ic/wdc.c			wdc_base

# "Chipset" drivers.  These are the bus-independent routines which
# contain the cfdrivers.  Attachments are provided by files.<bus>

# Adaptec 2[789]4X, 394X, aic7770 and aic78[5678]0 SCSI controllers
device	ahc: scsi, smc93cx6
file	dev/ic/aic7xxx.c		ahc
file	dev/ic/aic7xxx_openbsd.c	ahc
file	dev/ic/aic7xxx_seeprom.c	ahc

# Adaptec U320 SCSI controllers
device	ahd: scsi
file	dev/ic/aic79xx.c		ahd
file	dev/ic/aic79xx_openbsd.c	ahd

# Adaptec AIC-6[23]60 SCSI controllers
device	aic: scsi
file	dev/ic/aic6360.c	aic & (aic_isa | aic_pcmcia | aic_isapnp)

# DPT EATA SCSI controllers
device	dpt: scsi
file	dev/ic/dpt.c			dpt

# AdvanSys 1200A, 1200B and ULTRA SCSI controllers
device	adv: scsi
file	dev/ic/adv.c			adv

# AdvanSys ULTRA WIDE SCSI controllers
device	adw: scsi
file	dev/ic/adw.c			adw

# ICP Vortex GDT RAID controllers
device	gdt: scsi
file	dev/ic/gdt_common.c		gdt

# 3ware Escalade RAID controllers
device	twe: scsi
file	dev/ic/twe.c			twe

# LSI64854 DMA controller back-end
define	lsi64854
file	dev/ic/lsi64854.c		lsi64854

# Compaq Smart ARRAY controllers
device	cac: scsi
file	dev/ic/cac.c			cac

# Compaq Smart ARRAY 5* controllers
device	ciss: scsi
file	dev/ic/ciss.c			ciss

# AMI MegaRAID controllers
device	ami: scsi
file	dev/ic/ami.c			ami

# LSI MegaRAID SAS controllers
device	mfi: scsi
file	dev/ic/mfi.c			mfi

# QLogic ISP SCSI Controllers
device	qlw: scsi
file	dev/ic/qlw.c			qlw

# QLogic ISP23xx FC Controllers
device  qla: scsi
file    dev/ic/qla.c                    qla

# Advanced Host Controller Interface for Serial ATA
device	ahci: scsi, atascsi
file	dev/ic/ahci.c			ahci | (ahci_pci | ahci_jmb |
						imxahci | sxiahci) needs-flag

# NVM Express Controller
device	nvme: scsi
file	dev/ic/nvme.c			nvme needs-flag

# LSI Logic Fusion-MPT Message Passing Interface
device	mpi: scsi
file	dev/ic/mpi.c			mpi

# Emulex Light Pulse Fibre Channel (Service Level Interface)
device	sli: scsi
file	dev/ic/sli.c			sli

# Silicon Image 3124/3132/3531 SATALink
device	sili: scsi, atascsi
file	dev/ic/sili.c			sili

# UltraStor SCSI controllers
device	uha: scsi
file	dev/ic/uha.c			uha

# NCR 53c9x or Emulex ESP SCSI Controller
define	ncr53c9x
device	esp: scsi, ncr53c9x
file	dev/ic/ncr53c9x.c		ncr53c9x

# common stuff for siop and esiop
define	siop_common
file	dev/ic/siop_common.c		siop_common

# Symbios/NCR 53c720/53c8xx SCSI controllers
device	siop: scsi,siop_common
file	dev/ic/siop.c			siop & (siop_pci | siop_gedoens)

# Symbios/NCR 53c710 SCSI controllers
device	osiop: scsi
file	dev/ic/osiop.c			osiop & (osiop_gsc | osiop_eisa | osiop_mc | osiop_pcctwo)

# Symbios/NCR 53c700 SCSI controllers
device	oosiop: scsi
file	dev/ic/oosiop.c			oosiop

# Western Digital WD33C93 SCSI controllers
define	wd33c93ctrl
file	dev/ic/wd33c93.c		wd33c93ctrl

# 3Com Etherlink-III Ethernet controller
device	ep: ether, ifnet, ifmedia, mii
file	dev/ic/elink3.c			ep

# LEMAC-based cards
device	lc: ether, ifnet, ifmedia
file	dev/ic/lemac.c			lc

# WaveLan
device	wi: ether, ifnet, ifmedia
file	dev/ic/if_wi.c			wi
file	dev/ic/if_wi_hostap.c		wi

# Aironet 802.11 DS Ethernet controller
device	an: ether, ifnet, ifmedia, wlan
file	dev/ic/an.c			an

# LANCE and PCnet Ethernet controllers
device	le: ether, ifnet, ifmedia
define	le24
define	le32
file	dev/ic/am7990.c			le24
file	dev/ic/am79900.c		le32
file	dev/ic/lance.c			le24 | le32

# 3Com 3c9xx
device	xl: ether, ifnet, ifmedia, mii
file	dev/ic/xl.c			xl

# Intel EtherExpress PRO 10/100B
device	fxp: ether, ifnet, ifmedia, mii, firmload
file	dev/ic/fxp.c			fxp

# Myson MTD803
device	mtd: ether, ifnet, ifmedia, mii
file	dev/ic/mtd8xx.c			mtd

# Realtek 8129/8139
device	rl: ether, ifnet, ifmedia, mii
file	dev/ic/rtl81x9.c		rl

# Realtek 8169
device	re: ether, ifnet, ifmedia, mii
file	dev/ic/re.c			re

# Clones of Digital 2104x
device	dc: ether, ifnet, ifmedia, mii
file	dev/ic/dc.c			dc

# SMC 91Cxx Ethernet Controller
device	sm: ether, ifnet, ifmedia, mii, mii_bitbang
file	dev/ic/smc91cxx.c		sm

# SMC 83C170 EPIC/100 Fast Ethernet Controller
device	epic: ether, ifnet, ifmedia, mii
file	dev/ic/smc83c170.c		epic

# Novell NE2000-compatible Ethernet cards, based on the
# National Semiconductor DS8390.
device	ne: ether, ifnet, dp8390nic, ifmedia, mii
file	dev/ic/ne2000.c			ne

# D-Link DL10019/10022 NE2000-compatible network interface subroutines
file	dev/ic/dl10019.c		dl10019

# ASIX AX88190 NE2000-compatible network interface subroutines
file	dev/ic/ax88190.c		ax88190

# Intel i82596/i82586 Ethernet Controller
device	ie: ether, ifnet, ifmedia
file	dev/ic/i82596.c			ie & (ie_pci | ie_eisa | ie_gsc)

# Sun GEM Ethernet controllers
device	gem: ether, ifnet, ifmedia, mii
file	dev/ic/gem.c			gem

# Synopsis Designware GMAC core, as found on Allwinner A20
# and other SoCs
device	dwge: ether, ifnet, ifmedia, mii
file	dev/ic/dwc_gmac.c		dwge

device	ti: ether, ifnet, ifmedia, mii, firmload
file	dev/ic/ti.c			ti

# 8250/16[45]50-based "com" ports
device	com: tty
file	dev/ic/com.c			com & (com | com_cardbus | com_gsc |
					       com_isapnp)	needs-flag

# PC-like keyboard controller
define	pckbcslot {[slot = -1]}
device	pckbc: pckbcslot
file	dev/ic/pckbc.c			pckbc needs-flag

# PCF8584 I2C Controllers
device	pcfiic: i2cbus
file	dev/ic/pcf8584.c		pcfiic

# AC-97 CODECs
define	ac97
file	dev/ic/ac97.c			ac97

# Cyclades Cyclom multiport serial cards
device	cy: tty
file	dev/ic/cy.c			cy & (cy_isa | cy_pci)	needs-flag

# PC parallel ports (IEEE 1284)
device	lpt
file	dev/ic/lpt.c			lpt & (lpt_isa | lpt_localbus |
					       lpt_gsc | lpt_puc | lpt_apio |
					       lpt_ebus) needs-flag

# STI (hp graphics)
device	sti: wsemuldisplaydev
file	dev/ic/sti.c			sti & (sti_gedoens |
					       sti_pci) needs-flag

# Initio ULTRA WIDE/ULTRA2 WIDE SCSI Controllers
device	iha: scsi
file	dev/ic/iha.c			iha

# Tekram TRM-S1040 SCSI Cards (DC395U/UW/F,DC315/U)
device	trm: scsi
file	dev/ic/trm.c			trm

# National Semiconductor LM78/79/81 and compatible hardware monitors
device	lm
file	dev/ic/lm78.c			lm

# Atheros AR5k (802.11/a/b/g) Hardware Abstraction Layer
define	ar5xxx
file	dev/ic/ar5xxx.c			ar5xxx
file	dev/ic/ar5210.c			ar5xxx
file	dev/ic/ar5211.c			ar5xxx
file	dev/ic/ar5212.c			ar5xxx

# Atheros AR5k (802.11/a/b/g) driver
device	ath: ether, ifnet, ifmedia, ar5xxx, wlan, gpiobus
file	dev/ic/ath.c			ath

# Atheros AR9k (802.11a/g/n) driver
device	athn: ether, ifnet, ifmedia, wlan
file	dev/ic/athn.c			athn
file	dev/ic/ar5008.c			athn
file	dev/ic/ar5416.c			athn
file	dev/ic/ar9280.c			athn
file	dev/ic/ar9285.c			athn
file	dev/ic/ar9287.c			athn
file	dev/ic/ar9003.c			athn
file	dev/ic/ar9380.c			athn

# ADMtek ADM8211 802.11
device	atw: ether, ifnet, ifmedia, smc93cx6, wlan
file	dev/ic/atw.c			atw

# Realtek RTL8180 802.11
device	rtw: ether, ifnet, ifmedia, smc93cx6, wlan
file	dev/ic/rtw.c			rtw

# Realtek RTL8188CE 802.11
device	rtwn: ifnet, wlan, firmload
file	dev/ic/rtwn.c			rtwn | urtwn

# Ralink RT2500/RT2600 802.11
device	ral: ether, ifnet, ifmedia, firmload, wlan
file	dev/ic/rt2560.c			ral
file	dev/ic/rt2661.c			ral
file	dev/ic/rt2860.c			ral

# Texas Instruments ACX 802.11
device	acx: ether, ifnet, ifmedia, firmload, wlan
file	dev/ic/acx.c			acx
file	dev/ic/acx111.c			acx
file	dev/ic/acx100.c			acx

# Conexant PrismGT
device	pgt: ether, ifnet, ifmedia, firmload, wlan
file	dev/ic/pgt.c			pgt

# Adaptec AIC-6915 Ethernet interface
device sf: ether, ifnet, ifmedia, mii
file	dev/ic/aic6915.c		sf

# Marvell Libertas Open
device	malo: ether, ifnet, ifmedia, firmload, wlan
file	dev/ic/malo.c			malo

# Broadcom AirForce
device	bwi: ether, ifnet, ifmedia, firmload, wlan
file	dev/ic/bwi.c			bwi

# Attributes which machine-independent bus support can be attached to.
# These should be defined here, because some of these busses can have
# devices which provide these attributes, and we'd like to avoid hairy
# ordering constraints on inclusion of the busses' "files" files.
define	isabus {}			# ISA attachment
define	eisabus {}			# EISA attachment
define	pcibus {[bus = -1]}		# PCI attachment
define	tcbus {}			# TurboChannel attachment
define	usbus {}			# USB attachment
define	usbdev {}			# USB function attachment
define	pcmciabus {[controller = -1], [socket = -1]}	# PCMCIA attachment
define	cbbus {[slot = -1]}		# CardBus attachment
define	pcmciaslot {[slot = -1]}	# PCMCIA slot itself
define	sdmmcbus {}			# SD/MMC attachment
define	btbus {}			# Bluetooth host controller
define	agpbus {}			# AGP bridge
device	virtio {}			# VirtIO

# UHCI USB controller
device	uhci: usbus
file	dev/usb/uhci.c			uhci	needs-flag

# OHCI USB controller
device	ohci: usbus
file	dev/usb/ohci.c			ohci	needs-flag

# EHCI USB controller
device	ehci: usbus
file	dev/usb/ehci.c			ehci	needs-flag

# XHCI USB controller
device	xhci: usbus
file	dev/usb/xhci.c			xhci	needs-flag

# SDHC SD/MMC controller
device	sdhc: sdmmcbus
file	dev/sdmmc/sdhc.c		sdhc

# Winbond Integrated Media Reader
device wbsd: sdmmcbus
file	dev/ic/w83l518d.c		wbsd
file	dev/ic/w83l518d_sdmmc.c		wbsd

# Realtek RTS5209 Card Reader
device	rtsx: sdmmcbus
file	dev/ic/rtsx.c			rtsx

# AMD 7930 audio/ISDN codec
define	am7930
file	dev/ic/am7930.c			am7930

# Siemens PSB2160 audio codec, as found in HP systems
device	arcofi: audio
file	dev/ic/arcofi.c			arcofi

# radio devices, attaches to radio hardware driver
device	radio
attach	radio at radiobus
file dev/radio.c			radio	needs-flag

# IPMI
device	ipmi
file	dev/ipmi.c			ipmi	needs-flag

# Virtual SCSI
device	vscsi: scsi
attach	vscsi at root
file	dev/vscsi.c			vscsi	needs-flag

# SCSI Multipathing
device	mpath: scsi
attach	mpath at root
file	scsi/mpath.c			mpath	needs-flag

# Software RAID
device	softraid: scsi
attach	softraid at root
file	dev/softraid.c			softraid	needs-flag
file	dev/softraid_concat.c		softraid
file	dev/softraid_crypto.c		softraid & crypto
file	dev/softraid_raid0.c		softraid
file	dev/softraid_raid1.c		softraid
file	dev/softraid_raid5.c		softraid
file	dev/softraid_raid6.c		softraid

# SPD Memory EEPROM
device	spdmem
file	dev/spdmem.c			spdmem

# AIC-6250 SCSI
device	oaic: scsi
file	dev/ic/aic6250.c		oaic

# legitimate pseudo-devices
pseudo-device vnd: disk
pseudo-device rd: disk
file	dev/rd.c			rd needs-flag

pseudo-device pty: tty
pseudo-device nmea: tty
pseudo-device msts: tty
pseudo-device endrun: tty

pseudo-device loop: ifnet
pseudo-device pair: ifnet, ether
pseudo-device ppp: ifnet
pseudo-device tun: ifnet
pseudo-device bpfilter: ifnet
pseudo-device enc: ifnet
pseudo-device etherip: ifnet, ether, ifmedia
pseudo-device bridge: ifnet, ether
pseudo-device vlan: ifnet, ether
pseudo-device carp: ifnet, ether
pseudo-device sppp: ifnet
pseudo-device gif: ifnet
pseudo-device gre: ifnet
pseudo-device crypto: ifnet
pseudo-device trunk: ifnet, ether, ifmedia
pseudo-device mpe: ifnet, ether
pseudo-device mpw: ifnet, ether
pseudo-device vether: ifnet, ether
pseudo-device pppx: ifnet
pseudo-device vxlan: ifnet, ether, ifmedia
pseudo-device switch: ifnet, ether

pseudo-device ksyms
file	dev/ksyms.c			ksyms needs-flag

pseudo-device fuse
file	miscfs/fuse/fuse_device.c	fuse	needs-flag
file	miscfs/fuse/fuse_file.c		fuse
file	miscfs/fuse/fuse_lookup.c	fuse
file	miscfs/fuse/fuse_vfsops.c	fuse
file	miscfs/fuse/fuse_vnops.c	fuse
file	miscfs/fuse/fusebuf.c		fuse

pseudo-device pf: ifnet
file	net/pf.c			pf	needs-flag
file	net/pf_norm.c			pf
file	net/pf_ruleset.c		pf
file	net/pf_ioctl.c			pf
file	net/pf_table.c			pf
file	net/pf_osfp.c			pf
file	net/pf_if.c			pf
file	net/pf_lb.c			pf
file	net/hfsc.c			pf
file	net/fq_codel.c			pf

pseudo-device pflog: ifnet
file	net/if_pflog.c			pflog	needs-flag
pseudo-device pfsync: ifnet
file	net/if_pfsync.c			pfsync	needs-flag

pseudo-device pflow: ifnet
file	net/if_pflow.c			pflow	needs-flag

pseudo-device bio
file	dev/bio.c			bio needs-flag

pseudo-device hotplug
file	dev/hotplug.c			hotplug	needs-flag

pseudo-device pppoe: ifnet, ether, sppp
file 	net/if_pppoe.c			pppoe	needs-flag

# XXX machine-independent SCSI files should live somewhere here, maybe

# kernel sources
file ddb/db_access.c			ddb
file ddb/db_break.c			ddb
file ddb/db_command.c			ddb
file ddb/db_ctf.c			ddb
file ddb/db_dwarf.c			ddb
file ddb/db_elf.c			ddb
file ddb/db_examine.c			ddb
file ddb/db_expr.c			ddb
file ddb/db_hangman.c			ddb
file ddb/db_input.c			ddb
file ddb/db_lex.c			ddb
file ddb/db_output.c			ddb
file ddb/db_prof.c			ddb & ddbprof & !gprof
file ddb/db_run.c			ddb
file ddb/db_sym.c			ddb
file ddb/db_trap.c			ddb
file ddb/db_variables.c			ddb
file ddb/db_watch.c			ddb
file ddb/db_usrreq.c			ddb
file dev/audio.c			audio			needs-flag
file dev/cons.c
file dev/diskmap.c
file dev/firmload.c			firmload
file dev/flash.c			flash			needs-flag
file dev/ic/ncr5380sbc.c		ncr5380sbc
file dev/ic/ncr53c7xx.c			ncr53c7xx
file dev/ic/dp8390.c			dp8390nic
file dev/ic/rtl80x9.c			rtl80x9
file dev/ic/tea5757.c			tea5757
file dev/ic/lm700x.c			lm700x
file dev/ic/tc921x.c			tc921x
file dev/ic/pt2254a.c			pt2254a
file dev/midi.c				midi | midibus		needs-flag
file dev/mulaw.c			audio			needs-flag
file dev/vnd.c				vnd			needs-flag
file dev/rnd.c
file dev/video.c			video			needs-flag
file isofs/cd9660/cd9660_bmap.c		cd9660
file isofs/cd9660/cd9660_lookup.c	cd9660
file isofs/cd9660/cd9660_node.c		cd9660
file isofs/cd9660/cd9660_rrip.c		cd9660
file isofs/cd9660/cd9660_util.c		cd9660
file isofs/cd9660/cd9660_vfsops.c	cd9660
file isofs/cd9660/cd9660_vnops.c	cd9660
file isofs/udf/udf_subr.c		udf
file isofs/udf/udf_vfsops.c		udf
file isofs/udf/udf_vnops.c		udf
file kern/clock_subr.c
file kern/exec_conf.c
file kern/exec_elf.c
file kern/exec_script.c
file kern/exec_subr.c
file kern/init_main.c
file kern/init_sysent.c
file kern/kern_acct.c			accounting
file kern/kern_bufq.c
file kern/kern_clock.c
file kern/kern_descrip.c
file kern/kern_event.c
file kern/kern_exec.c
file kern/kern_exit.c
file kern/kern_fork.c
file kern/kern_kthread.c
file kern/kern_ktrace.c			ktrace
file kern/kern_lock.c
file kern/kern_malloc.c
file kern/kern_malloc_debug.c		malloc_debug
file kern/kern_mutex.c			witness
file kern/kern_rwlock.c
file kern/kern_physio.c
file kern/kern_proc.c
file kern/kern_prot.c
file kern/kern_resource.c
file kern/kern_pledge.c
file kern/kern_sched.c
file kern/kern_sensors.c
file kern/kern_sig.c
file kern/kern_subr.c
file kern/kern_sysctl.c
file kern/kern_synch.c
file kern/kern_tc.c
file kern/kern_time.c
file kern/kern_timeout.c
file kern/kern_uuid.c
file kern/kern_watchdog.c		!small_kernel
file kern/kern_task.c
file kern/kern_srp.c
file kern/kern_xxx.c
file kern/sched_bsd.c
file kern/subr_autoconf.c
file kern/subr_disk.c
file kern/subr_evcount.c
file kern/subr_extent.c
file kern/subr_hibernate.c		hibernate
file kern/subr_log.c
file kern/subr_percpu.c
file kern/subr_poison.c			diagnostic
file kern/subr_pool.c
file kern/subr_tree.c
file kern/dma_alloc.c
file kern/subr_prf.c
file kern/subr_prof.c
file kern/subr_userconf.c		boot_config
file kern/subr_witness.c		witness
file kern/subr_xxx.c
file kern/sys_futex.c
file kern/sys_generic.c
file kern/sys_pipe.c
file kern/sys_process.c			ptrace
file kern/sys_socket.c
file kern/syscalls.c			syscall_debug
file kern/sysv_ipc.c			sysvshm | sysvsem | sysvmsg
file kern/sysv_msg.c			sysvmsg
file kern/sysv_sem.c			sysvsem
file kern/sysv_shm.c			sysvshm
file kern/tty.c
file kern/tty_conf.c
file kern/tty_pty.c			pty			needs-count
file kern/tty_nmea.c			nmea			needs-flag
file kern/tty_msts.c			msts			needs-flag
file kern/tty_endrun.c			endrun			needs-flag
file kern/tty_subr.c
file kern/tty_tty.c
file kern/uipc_domain.c
file kern/uipc_mbuf.c
file kern/uipc_mbuf2.c
file kern/uipc_proto.c
file kern/uipc_socket.c
file kern/uipc_socket2.c
file kern/uipc_syscalls.c
file kern/uipc_usrreq.c
file kern/vfs_bio.c
file kern/vfs_biomem.c
file kern/vfs_cache.c
file kern/vfs_default.c
file kern/vfs_init.c
file kern/vfs_lockf.c
file kern/vfs_lookup.c
file kern/vfs_subr.c
file kern/vfs_sync.c
file kern/vfs_syscalls.c
file kern/vfs_vops.c
file kern/vfs_vnops.c
file kern/vfs_getcwd.c
file kern/spec_vnops.c
file miscfs/deadfs/dead_vnops.c
file miscfs/fifofs/fifo_vnops.c		fifo
file msdosfs/msdosfs_conv.c		msdosfs
file msdosfs/msdosfs_denode.c		msdosfs
file msdosfs/msdosfs_fat.c		msdosfs
file msdosfs/msdosfs_lookup.c		msdosfs
file msdosfs/msdosfs_vfsops.c		msdosfs
file msdosfs/msdosfs_vnops.c		msdosfs
file ntfs/ntfs_compr.c			ntfs
file ntfs/ntfs_conv.c			ntfs
file ntfs/ntfs_ihash.c			ntfs
file ntfs/ntfs_subr.c			ntfs
file ntfs/ntfs_vfsops.c			ntfs
file ntfs/ntfs_vnops.c			ntfs
file tmpfs/tmpfs_mem.c			tmpfs
file tmpfs/tmpfs_subr.c			tmpfs
file tmpfs/tmpfs_vfsops.c		tmpfs
file tmpfs/tmpfs_vnops.c		tmpfs
file tmpfs/tmpfs_specops.c		tmpfs
file tmpfs/tmpfs_fifoops.c		tmpfs & fifo
file net/art.c
file net/bpf.c				bpfilter		needs-count
file net/bpf_filter.c			bpfilter
file net/if.c
file net/ifq.c
file net/if_ethersubr.c			ether			needs-flag
file net/if_etherip.c			etherip			needs-flag
file net/if_spppsubr.c			sppp
file net/if_loop.c			loop
file net/if_media.c			ifmedia
file net/if_ppp.c			ppp			needs-count
file net/ppp_tty.c			ppp
file net/bsd-comp.c			ppp_bsdcomp
file net/ppp-deflate.c			ppp_deflate
file net/if_tun.c			tun			needs-count
file net/if_bridge.c			bridge			needs-count
file net/bridgectl.c			bridge
file net/bridgestp.c			bridge
file net/if_vlan.c			vlan			needs-count
file net/if_switch.c			switch			needs-count
file net/switchctl.c			switch
file net/switchofp.c			switch
file net/pipex.c			pipex
file net/radix.c			pf | ipsec | pipex | nfsserver
file net/raw_cb.c
file net/raw_usrreq.c
file net/rtable.c
file net/route.c
file net/rtsock.c
file net/slcompress.c			ppp
file net/if_enc.c			enc			needs-count
file net/if_gre.c			gre			needs-count
file net/if_trunk.c			trunk			needs-count
file net/trunklacp.c			trunk
file net/if_mpe.c			mpe			needs-count
file net/if_mpw.c			mpw & bridge		needs-count
file net/if_vether.c			vether			needs-count
file net/if_pair.c			pair			needs-count
file net/if_pppx.c			pppx			needs-count
file net/if_vxlan.c			vxlan			needs-count
file net/bfd.c				bfd
file net80211/ieee80211.c		wlan
file net80211/ieee80211_amrr.c		wlan
file net80211/ieee80211_crypto.c	wlan
file net80211/ieee80211_crypto_bip.c	wlan
file net80211/ieee80211_crypto_ccmp.c	wlan
file net80211/ieee80211_crypto_tkip.c	wlan
file net80211/ieee80211_crypto_wep.c	wlan
file net80211/ieee80211_input.c		wlan
file net80211/ieee80211_ioctl.c		wlan
file net80211/ieee80211_mira.c		wlan
file net80211/ieee80211_node.c		wlan
file net80211/ieee80211_output.c	wlan
file net80211/ieee80211_pae_input.c	wlan
file net80211/ieee80211_pae_output.c	wlan
file net80211/ieee80211_proto.c		wlan
file net80211/ieee80211_rssadapt.c	wlan
file net80211/ieee80211_regdomain.c	wlan
file netinet/if_ether.c			ether
file netinet/igmp.c
file netinet/in.c
file netinet/in_pcb.c
file netinet/in_proto.c
file netinet/inet_nat64.c		pf
file netinet/inet_ntop.c
file netinet/ip_divert.c		pf
file netinet/ip_icmp.c
file netinet/ip_id.c
file netinet/ip_input.c
file netinet/ip_mroute.c		mrouting
file netinet/ip_output.c
file netinet/raw_ip.c
file netinet/tcp_debug.c
file netinet/tcp_input.c
file netinet/tcp_output.c
file netinet/tcp_subr.c
file netinet/tcp_timer.c
file netinet/tcp_usrreq.c
file netinet/udp_usrreq.c
file netinet/ip_gre.c
file netinet/ip_ipsp.c			ipsec | tcp_signature
file netinet/ip_spd.c			ipsec | tcp_signature
file netinet/ip_ipip.c
file netinet/ip_ether.c			gif
file netinet/ipsec_input.c		ipsec
file netinet/ipsec_output.c		ipsec
file netinet/ip_esp.c			ipsec
file netinet/ip_ah.c			ipsec
file netinet/ip_carp.c			carp			needs-count
file netinet/ip_ipcomp.c		ipsec
file crypto/aes.c			ipsec | crypto | uvm_swap_encrypt | wlan
file crypto/rijndael.c			ipsec | crypto | uvm_swap_encrypt | wlan
file crypto/md5.c
file crypto/rmd160.c			ipsec | crypto
file crypto/sha1.c			ipsec | crypto | carp | wlan
file crypto/sha2.c
file crypto/blf.c			ipsec | crypto | vnd
file crypto/cast.c			ipsec | crypto
file crypto/ecb_enc.c			ipsec | crypto
file crypto/set_key.c			ipsec | crypto
file crypto/ecb3_enc.c			ipsec | crypto
file crypto/crypto.c			ipsec | crypto
file crypto/criov.c			ipsec | crypto
file crypto/cryptosoft.c		ipsec | crypto
file crypto/xform.c			ipsec | crypto
file crypto/xform_ipcomp.c		ipsec | crypto
file crypto/arc4.c
file crypto/michael.c			wlan
file crypto/cmac.c			wlan
file crypto/hmac.c			wlan | (softraid & crypto)
file crypto/gmac.c			ipsec | crypto
file crypto/key_wrap.c			wlan
file crypto/idgen.c			inet6 | nfsclient | nfsserver
file crypto/chachapoly.c		ipsec | crypto
file crypto/poly1305.c			ipsec | crypto
file crypto/siphash.c
file netmpls/mpls_input.c		mpls
file netmpls/mpls_output.c		mpls
file netmpls/mpls_proto.c		mpls
file netmpls/mpls_raw.c			mpls
file netmpls/mpls_shim.c		mpls
file nfs/krpc_subr.c			nfsclient
#file nfs/nfs_aiod.c			nfsclient
file nfs/nfs_bio.c			nfsclient
file nfs/nfs_boot.c			nfsclient
file nfs/nfs_debug.c			nfsclient & ddb
file nfs/nfs_node.c			nfsclient
file nfs/nfs_kq.c			nfsclient
file nfs/nfs_serv.c			nfsserver
file nfs/nfs_socket.c			nfsserver | nfsclient
file nfs/nfs_srvcache.c			nfsserver
file nfs/nfs_subs.c			nfsserver | nfsclient
file nfs/nfs_syscalls.c			nfsserver | nfsclient
file nfs/nfs_vfsops.c			nfsclient
file nfs/nfs_vnops.c			nfsclient
file ufs/ffs/ffs_alloc.c		ffs | mfs
file ufs/ffs/ffs_balloc.c		ffs | mfs
file ufs/ffs/ffs_inode.c		ffs | mfs
file ufs/ffs/ffs_subr.c			ffs | mfs
file ufs/ffs/ffs_softdep_stub.c		ffs | mfs
file ufs/ffs/ffs_tables.c		ffs | mfs
file ufs/ffs/ffs_vfsops.c		ffs | mfs
file ufs/ffs/ffs_vnops.c		ffs | mfs
file ufs/ffs/ffs_softdep.c		ffs_softupdates
file ufs/mfs/mfs_vfsops.c		mfs
file ufs/mfs/mfs_vnops.c		mfs
file ufs/ufs/ufs_bmap.c			ffs | mfs | ext2fs
file ufs/ufs/ufs_dirhash.c		ufs_dirhash & (ffs | mfs)
file ufs/ufs/ufs_ihash.c		ffs | mfs | ext2fs | fuse
file ufs/ufs/ufs_inode.c		ffs | mfs | ext2fs
file ufs/ufs/ufs_lookup.c		ffs | mfs | ext2fs
file ufs/ufs/ufs_quota.c		quota & ( ffs | mfs | ext2fs )
file ufs/ufs/ufs_quota_stub.c		ffs | mfs
file ufs/ufs/ufs_vfsops.c		ffs | mfs | ext2fs
file ufs/ufs/ufs_vnops.c		ffs | mfs | ext2fs
file ufs/ext2fs/ext2fs_alloc.c		ext2fs
file ufs/ext2fs/ext2fs_balloc.c		ext2fs
file ufs/ext2fs/ext2fs_bmap.c		ext2fs
file ufs/ext2fs/ext2fs_bswap.c		ext2fs
file ufs/ext2fs/ext2fs_extents.c	ext2fs
file ufs/ext2fs/ext2fs_inode.c		ext2fs
file ufs/ext2fs/ext2fs_lookup.c		ext2fs
file ufs/ext2fs/ext2fs_readwrite.c	ext2fs
file ufs/ext2fs/ext2fs_subr.c		ext2fs
file ufs/ext2fs/ext2fs_vfsops.c		ext2fs
file ufs/ext2fs/ext2fs_vnops.c		ext2fs
file uvm/uvm_addr.c
file uvm/uvm_amap.c
file uvm/uvm_anon.c
file uvm/uvm_aobj.c
file uvm/uvm_device.c
file uvm/uvm_fault.c
file uvm/uvm_glue.c
file uvm/uvm_init.c
file uvm/uvm_io.c
file uvm/uvm_km.c
file uvm/uvm_map.c
file uvm/uvm_meter.c
file uvm/uvm_mmap.c
file uvm/uvm_object.c
file uvm/uvm_page.c
file uvm/uvm_pager.c
file uvm/uvm_pdaemon.c
file uvm/uvm_pmemrange.c
file uvm/uvm_stat.c
file uvm/uvm_swap.c
file uvm/uvm_swap_encrypt.c		uvm_swap_encrypt
file uvm/uvm_unix.c
file uvm/uvm_user.c
file uvm/uvm_vnode.c

# IPv6
file net/if_gif.c			gif			needs-count
file netinet/ip_ecn.c
file netinet6/in6_pcb.c			inet6
file netinet6/in6.c			inet6
file netinet6/ip6_divert.c		inet6 & pf
file netinet6/in6_ifattach.c		inet6
file netinet6/in6_cksum.c		inet6
file netinet6/in6_src.c			inet6
file netinet6/in6_proto.c		inet6
file netinet6/dest6.c			inet6
file netinet6/frag6.c			inet6
file netinet6/icmp6.c			inet6
file netinet6/ip6_id.c			inet6
file netinet6/ip6_input.c		inet6
file netinet6/ip6_forward.c		inet6
file netinet6/ip6_mroute.c		inet6 & mrouting
file netinet6/ip6_output.c		inet6
file netinet6/route6.c			inet6
file netinet6/mld6.c			inet6
file netinet6/nd6.c			inet6
file netinet6/nd6_nbr.c			inet6
file netinet6/nd6_rtr.c			inet6
file netinet6/raw_ip6.c			inet6
file netinet6/udp6_output.c		inet6

# ... PF_KEY
file net/pfkeyv2.c			ipsec | tcp_signature
file net/pfkeyv2_parsemessage.c		ipsec | tcp_signature
file net/pfkeyv2_convert.c		ipsec | tcp_signature

# libx86emu
file dev/x86emu/x86emu.c		x86emu
file dev/x86emu/x86emu_util.c		x86emu

# libkern MI components
file lib/libkern/mcount.c		gprof
file lib/libkern/getsn.c
file lib/libkern/random.c
file lib/libkern/explicit_bzero.c
file lib/libkern/timingsafe_bcmp.c
file lib/libkern/arch/${MACHINE_ARCH}/strchr.S | lib/libkern/strchr.c
file lib/libkern/arch/${MACHINE_ARCH}/strrchr.S | lib/libkern/strrchr.c
file lib/libkern/arch/${MACHINE_ARCH}/__main.S | lib/libkern/__main.c
file lib/libkern/arch/${MACHINE_ARCH}/imax.S | lib/libkern/imax.c
file lib/libkern/arch/${MACHINE_ARCH}/imin.S | lib/libkern/imin.c
file lib/libkern/arch/${MACHINE_ARCH}/lmax.S | lib/libkern/lmax.c
file lib/libkern/arch/${MACHINE_ARCH}/lmin.S | lib/libkern/lmin.c
file lib/libkern/arch/${MACHINE_ARCH}/max.S | lib/libkern/max.c
file lib/libkern/arch/${MACHINE_ARCH}/min.S | lib/libkern/min.c
file lib/libkern/arch/${MACHINE_ARCH}/ulmax.S | lib/libkern/ulmax.c
file lib/libkern/arch/${MACHINE_ARCH}/ulmin.S | lib/libkern/ulmin.c
file lib/libkern/arch/${MACHINE_ARCH}/memchr.S | lib/libkern/memchr.c
file lib/libkern/arch/${MACHINE_ARCH}/memcmp.S | lib/libkern/memcmp.c
file lib/libkern/arch/${MACHINE_ARCH}/bcmp.S | lib/libkern/bcmp.c
file lib/libkern/arch/${MACHINE_ARCH}/bzero.S | lib/libkern/bzero.c
file lib/libkern/arch/${MACHINE_ARCH}/bcopy.S | lib/libkern/bcopy.c
file lib/libkern/arch/${MACHINE_ARCH}/memcpy.S | lib/libkern/memcpy.c
file lib/libkern/arch/${MACHINE_ARCH}/memmove.S | lib/libkern/memmove.c
file lib/libkern/arch/${MACHINE_ARCH}/ffs.S | lib/libkern/ffs.c
file lib/libkern/arch/${MACHINE_ARCH}/fls.S | lib/libkern/fls.c
file lib/libkern/arch/${MACHINE_ARCH}/flsl.S | lib/libkern/flsl.c
file lib/libkern/arch/${MACHINE_ARCH}/memset.S | lib/libkern/memset.c
file lib/libkern/arch/${MACHINE_ARCH}/strcmp.S | lib/libkern/strcmp.c
file lib/libkern/arch/${MACHINE_ARCH}/strlcat.S | lib/libkern/strlcat.c
file lib/libkern/arch/${MACHINE_ARCH}/strlcpy.S | lib/libkern/strlcpy.c
file lib/libkern/arch/${MACHINE_ARCH}/strlen.S | lib/libkern/strlen.c
file lib/libkern/arch/${MACHINE_ARCH}/strncmp.S | lib/libkern/strncmp.c
file lib/libkern/arch/${MACHINE_ARCH}/strncpy.S | lib/libkern/strncpy.c
file lib/libkern/arch/${MACHINE_ARCH}/strnlen.S | lib/libkern/strnlen.c
file lib/libkern/arch/${MACHINE_ARCH}/scanc.S | lib/libkern/scanc.c
file lib/libkern/arch/${MACHINE_ARCH}/skpc.S | lib/libkern/skpc.c
file lib/libkern/arch/${MACHINE_ARCH}/htonl.S | lib/libkern/htonl.c
file lib/libkern/arch/${MACHINE_ARCH}/htons.S | lib/libkern/htons.c
file lib/libkern/arch/${MACHINE_ARCH}/strncasecmp.S | lib/libkern/strncasecmp.c

file lib/libz/adler32.c			ppp_deflate | ipsec | crypto | bios
file lib/libz/crc32.c
file lib/libz/infback.c			ppp_deflate | ipsec | crypto
file lib/libz/inffast.c			ppp_deflate | ipsec | crypto
file lib/libz/inflate.c			ppp_deflate | ipsec | crypto
file lib/libz/inftrees.c		ppp_deflate | ipsec | crypto
file lib/libz/deflate.c			ppp_deflate | ipsec | crypto
file lib/libz/zutil.c			ppp_deflate | ipsec | crypto
file lib/libz/zopenbsd.c		ppp_deflate | ipsec | crypto
file lib/libz/trees.c			ppp_deflate | ipsec | crypto
file lib/libz/compress.c		ppp_deflate | ipsec | crypto

@


1.651
log
@Merge DDBCTF into DDB.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.650 2017/07/31 16:47:03 florian Exp $
a611 1
file ddb/db_struct.c			ddb & ddb_struct
@


1.650
log
@Give back some space to the ramdisk by compiling net/radix.c only
if we compile pf, ipsec, pipex or nfsserver.
Suggested by mpi some time ago.
Tweak & OK bluhm
deraadt assumes it's fair
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.649 2017/07/30 18:16:14 florian Exp $
d601 1
a601 1
file ddb/db_ctf.c			ddb & ddbctf
@


1.649
log
@Switch installer to Allotment Routing Table (ART).
Prompted by a bugreport by naddy that IPv6 autoconfiguration is broken
in the installer.
OK mpi, "go for it" deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.648 2017/06/28 18:24:02 mikeb Exp $
d787 1
a787 1
file net/radix.c
@


1.648
log
@hfsc.c should depend on pf instead of inet

Discussed with and OK henning@@ at d2k17 as a part of a larger diff.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.647 2017/05/29 12:58:37 jmatthew Exp $
d764 1
a764 1
file net/art.c				art
@


1.647
log
@Add hibernate support for nvme(4).  This creates a separate IO queue that is
only active during hibernation, preallocating the the submission and completion
queues during attach as they need to be page-aligned.

tested on an x270 that successfully hibernates now.
ok dlg@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.646 2017/05/29 10:55:34 claudio Exp $
d575 2
a576 1
file	net/hfsc.c			ifnet
a766 1
file net/fq_codel.c			pf
@


1.646
log
@PFKEY version 2 is the only pfkey version supported. No need for extra
abstraction. First step of making PF_KEY a bit more like PF_ROUTE.
OK mpi@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.645 2017/05/15 11:23:25 mikeb Exp $
d196 1
a196 1
file	dev/ic/nvme.c			nvme
@


1.645
log
@Hook up FQ-CoDel to the tree and enable configuration in the pfctl(8)

OK sthen, visa
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.644 2017/04/30 21:33:02 mikeb Exp $
d982 3
a984 4
file net/pfkey.c			key | ipsec | tcp_signature
file net/pfkeyv2.c			key | ipsec | tcp_signature
file net/pfkeyv2_parsemessage.c		key | ipsec | tcp_signature
file net/pfkeyv2_convert.c		key | ipsec | tcp_signature
@


1.644
log
@Constant time AES implementation

This introduces a 32-bit constant time AES implementation from
Thomas Pornin originally for BearSSL and then adjusted by Thomas
and myself to fit OpenBSD kernel. One of the additional features
is an API for encryption and decryption subkey expansion in the
format specified by NIST in FIPS 197.

Tested by myself and naddy@@, ok djm@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.643 2017/04/30 13:04:49 mpi Exp $
d766 1
@


1.643
log
@Unifdef KGDB.

It doesn't compile und hasn't been working during the last decade.

ok kettenis@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.642 2017/04/28 13:50:54 mpi Exp $
d853 1
@


1.642
log
@Add futex(2) syscall based on a sane subset of its Linux equivalent.

The syscall is marked NOLOCK and only FUTEX_WAIT grabs the KERNEL_LOCK()
because of PCATCH and the signal nightmare.

Serialization of threads is currently done with a global & exclusive
rwlock.

Note that the current implementation still use copyin(9) which is not
guaranteed to be atomic.  Committing now such that remaining issues can
be addressed in-tree.

With inputs from guenther@@, kettenis@@ and visa@@.

ok deraadt@@, visa@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.641 2017/04/20 13:57:30 visa Exp $
d597 1
a597 1
file ddb/db_access.c			ddb | kgdb
d610 1
a610 1
file ddb/db_run.c			ddb | kgdb
a685 1
file kern/kgdb_stub.c			kgdb
@


1.641
log
@Hook up mutex(9) to witness(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.640 2017/04/20 12:59:36 visa Exp $
d704 1
@


1.640
log
@Add a port of witness(4) lock validation tool from FreeBSD.

Go-ahead from kettenis@@, guenther@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.639 2017/02/08 05:09:25 guenther Exp $
d665 1
@


1.639
log
@In exec_elf.c: expand ELFNAME(), ELFNAME2(), and ELFNAMEEND() except
leaving out the size, so that
	ELFNAME2(exec,makecmds)
becomes
	exec_elf_makecmds
instead of
	exec_elf{32,64}_makecmds
and then delete the ELFNAME2() and ELFNAMEEND() macros.

Move the prototypes for functions local to exec_elf.c to there from
exec_elf.h.

Simplify the SMALL_KERNEL conditionals around the ELF coredump code.

Change exec_conf.c to use the size-generic names and macros

Remove exec_elf{32,64}.c and just build exec_elf.c; delete the
_KERN_DO_ELF and _KERN_DO_ELF64 #defines.

ok jca@@, encouragement from deraadt@@ and tom@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.638 2017/01/22 20:08:10 reyk Exp $
d701 1
@


1.638
log
@define virtio in conf/files

This unbreaks build on archs that are non-pv but PCI because I moved
virtio out of files.pci but kept a virtio dependency for the
virtio_pci driver.

Issue report and fix suggested by visa@@ and miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.637 2017/01/13 13:25:01 stsp Exp $
d647 1
a647 2
file kern/exec_elf32.c
file kern/exec_elf64.c
@


1.637
log
@Always compile the mira code if net80211 is included.
Should unbreak the tree on many platforms broken since athn(4) 11n commit.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.636 2016/12/15 19:18:41 fcambus Exp $
d446 1
@


1.636
log
@Remove rasops2 (2-bit color depth) functions, they are unused.

It seems unlikely that any future new platform will ever need them.

OK mpi@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.635 2016/11/30 14:26:12 stsp Exp $
d811 1
a811 1
file net80211/ieee80211_mira.c		wlan & (iwm | iwn)
@


1.635
log
@Enable mira in kernel builds.

For now, only build mira if the iwm(4) or iwn(4) drivers are also
built since other wifi drivers don't even have 11n support yet.
This limits platforms affected by this change to i386 and amd64.

make release on i386/amd64 platforms tested by tb@@ (thanks!)
ok tb@@ mpi@@ kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.634 2016/11/14 08:54:19 mpi Exp $
a43 1
define	rasops2
@


1.634
log
@Remove radix_mpath dragons.

This code insn't used since ART is the default.

ok vgross@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.633 2016/10/21 06:27:50 dlg Exp $
d812 1
@


1.633
log
@add generalised access to per cpu data structures and counters.

both the cpumem and counters api simply allocates memory for each cpu in
the system that can be used for arbitrary per cpu data (via cpumem), or
a versioned set of counters per cpu (counters).

there is an alternate backend for uniprocessor systems that basically
turns the percpu data access into an immediate access to a single
allocation.

there is also support for percpu data structures that are available at
boot time by providing an allocation for the boot cpu. after autoconf,
these allocations have to be resized to provide for all cpus that were
enumerated by boot.

ok mpi@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.632 2016/09/16 19:13:17 jasper Exp $
a785 1
file net/radix_mpath.c			!small_kernel & !art
@


1.632
log
@teach ddb(4) about CTF. currently it only loads the CTF and uses it on amd64
to lookup the number of function parameters. however having this basic
facility allows us to expand it's usage.

currently hidden behind the (disabled) DDBCTF kernel option as some of the
required tools are not available in base yet. in addition to that one
also needs recent bootblocks that load the .SUNW_ctf kernel section.

discussed with mpi@@ over many a cider and ale in cambridge
feedback and ok guenther@@ mpi@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.631 2016/09/15 01:05:15 dlg Exp $
d694 1
@


1.631
log
@enable the subr_tree version of red-black trees again.

the problem with the .h file pulling in sys/param.h for NULL, which
in turn goes and pulls in a ton of MI insanity, has been fixed.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.629 2016/09/06 19:48:44 tedu Exp $
d600 1
@


1.630
log
@disable subr_tree code for now
@
text
@d695 1
@


1.629
log
@zap bha, hiding outside dev/ tree
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.628 2016/09/05 07:24:33 dlg Exp $
a694 1
file kern/subr_tree.c
@


1.628
log
@enable the subr_tree version of red-black trees
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.627 2016/09/04 09:22:28 mpi Exp $
a152 4

# BusLogic MultiMaster and MultiMaster Ultra SCSI controllers
device	bha: scsi
file	dev/ic/bha.c		bha & (bha_pci | bha_isa | bha_eisa) needs-flag
@


1.627
log
@Introduce Dynamic Profiling, a ddb(4) based & gprof compatible kernel
profiling framework.

Code patching is used to enable probes when entering functions.  The
probes will call a mcount()-like function to match the behavior of a
GPROF kernel.

Currently only available on amd64 and guarded under DDBPROF.  Support
for other archs will follow soon.

A new sysctl knob, ddb.console, need to be set to 1 in securelevel 0
to be able to use this feature.

Inputs and ok guenther@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.626 2016/09/03 14:20:26 phessler Exp $
d699 1
@


1.626
log
@Add in the (disabled) kernel glue for BFD

OK claudio@@, henning@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.625 2016/09/01 10:06:33 goda Exp $
d612 1
@


1.625
log
@Import switch(4), an in-kernel OpenFlow switch which can work alone.
switch(4) currently supports OpenFlow 1.3.5.
Currently, it's disabled by the kernel config.

With help from yasuoka@@ reyk@@ jsg@@.

ok deraadt@@ yasuoka@@ reyk@@ henning@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.624 2016/08/13 20:35:57 kettenis Exp $
d803 1
@


1.624
log
@Add the core of the code for dwge(4), a driver for the Synopsis Designware
GMAC core which is used on the Allwinner A20 SoCs and later SoCs in the
Allwinner family.  Since this core is very likely to show up the base of
other devices, it gets to live here in dev/ic.

Ported from NetBSD (where it is named awge(4)) by patrick@@.  Some further
fixes by me.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.623 2016/08/11 09:30:57 natano Exp $
d557 1
d781 3
@


1.623
log
@fuse requires ufs_ihash.c
ok mpi
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.622 2016/08/05 19:00:25 kettenis Exp $
d319 5
@


1.622
log
@Switch the sunxi platform over to the new interrupt establish API.  This
involves turning sxiahci(4) into a real driver that dynamically attaches.
ehci(4) now also attaches dynamically.

ok jsg@@, patrick@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.621 2016/08/05 11:40:22 kettenis Exp $
d899 1
a899 1
file ufs/ufs/ufs_ihash.c		ffs | mfs | ext2fs
@


1.621
log
@imxahci(4) needs ahci.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.620 2016/06/17 19:20:19 guenther Exp $
d197 1
a197 1
						imxahci) needs-flag
@


1.620
log
@urtwn device now needs rtwn.c, even if rtwn device isn't built

ok mpi@@ jca@@ mglocker@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.619 2016/05/03 14:52:39 mpi Exp $
d196 2
a197 1
file	dev/ic/ahci.c			ahci | ahci_pci | ahci_jmb needs-flag
@


1.619
log
@Stop using a soft-interrupt context to process incoming network packets.

Use a new task that runs holding the KERNEL_LOCK to execute mp-unsafe
code.  Our current goal is to progressively move input functions to the
unlocked task.

This gives a small performance boost confirmed by Hrvoje Popovski's
IPv4 forwarding measurement:

before:					after:

send           receive			send           receive
400kpps        400kpps                  400kpps        400kpps
500kpps        500kpps                  500kpps        500kpps
600kpps        600kpps                  600kpps        600kpps
650kpps        650kpps                  650kpps        640kpps
700kpps        700kpps                  700kpps        700kpps
720kpps        640kpps                  720kpps        710kpps
800kpps        640kpps                  800kpps        650kpps
1.4Mpps        570kpps                  1.4Mpps        590kpps
14Mpps         570kpps                  14Mpps         590kpps


ok kettenis@@, bluhm@@, dlg@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.618 2016/04/25 20:09:14 tedu Exp $
d399 1
a399 1
file	dev/ic/rtwn.c			rtwn
@


1.618
log
@remove systrace
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.617 2016/04/19 10:12:36 mpi Exp $
a765 1
file net/netisr.c
@


1.617
log
@Keep db_write_cmd() in the only place where it is used, just like we did
with db_show_regs().
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.616 2016/03/25 18:53:41 zhuk Exp $
a61 1
define	systrace
a551 2
pseudo-device systrace

a626 1
file dev/systrace.c			systrace		needs-flag
d698 1
a698 1
file kern/sys_process.c			ptrace | systrace
@


1.616
log
@Free some more space in kernel - for network code, of course - by removal
of three unused FS-related functions.

okay mpi@@ and beck@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.615 2016/03/09 18:20:29 stsp Exp $
a613 1
file ddb/db_write_cmd.c			ddb
@


1.615
log
@Hook up dev/ic/rtwn.c -- should have been part of rtwn(4) split commit.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.614 2016/03/09 09:04:15 mpi Exp $
a728 1
file kern/vfs_cluster.c
@


1.614
log
@Move db_show_regs() in the only file where it is used and turn it private.

ok mlarkin@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.613 2016/03/01 16:43:08 naddy Exp $
d397 4
@


1.613
log
@Copy the stackgap_init() and stackgap_alloc() functions from
compat/common/compat_util.c to dev/systrace.c, the one place they
are used, and remove the remaining kernel references to compat/*.
ok visa@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.612 2016/02/28 15:46:18 naddy Exp $
a603 1
file ddb/db_print.c			ddb
@


1.612
log
@Support for running Linux binaries under emulation is going away.

Remove "option COMPAT_LINUX" and everything directly tied to it from the
kernel and the corresponding man page documentation.

ok visa@@ guenther@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.611 2016/02/18 01:23:05 krw Exp $
a975 3

# COMPAT_* support code (base and other shared code)
file compat/common/compat_util.c	!small_kernel
@


1.611
log
@Die, trailing whitespace, die!
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.610 2015/12/08 10:06:11 dlg Exp $
a978 1
file compat/common/compat_dir.c		!small_kernel & compat_linux
@


1.610
log
@split the interface send queue (struct ifqueue) implementation out.

the intention is to make it more clear what belongs to a transmit
queue and what belongs to an interface.

suggested by and ok mpi@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.609 2015/12/03 12:42:03 goda Exp $
d107 1
a107 1
# Video modes 
d817 1
a817 1
file netinet/in_proto.c	
d830 1
a830 1
file netinet/tcp_subr.c	
d846 1
a846 1
file crypto/md5.c			
d860 1
a860 1
file crypto/arc4.c			
@


1.609
log
@Implement etherip(4) driver

This commit is not removing the existing EtherIP part of gif(4) and
it keeps EtherIP of gif(4) working.

ok jbg@@ sthen@@ mpi@@ reyk@@ yasuoka@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.608 2015/12/01 18:28:29 goda Exp $
d762 1
@


1.608
log
@Split functions in if_bridge.c into if_bridge.c bridgectl.c .

Splitting functions in if_bridge.c into if_bridge.c for the forwarding part
and bridgectl.c for the control part. It shouldn't have any functional change.

ok reyk@@ mpi@@ yasuoka@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.607 2015/11/06 18:07:57 mpi Exp $
d534 1
d763 1
@


1.607
log
@Do not compile net/radix_mpath.c in ART-enabled kernels.

In such kernels multipath routing support is independant from the data
structure used to perform the binary lookup.  Is is implemented as a
singly-listed list of route entries. This is possible because a "struct
rtentry" is no longer mapped 1:1 to a node in the tree.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.606 2015/11/03 01:31:36 mikeb Exp $
d772 1
@


1.606
log
@Hook up Chacha20-Poly1305 to the OpenBSD Cryptographic Framework

ok naddy, jsing
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.605 2015/10/24 10:52:05 reyk Exp $
d776 1
a776 1
file net/radix_mpath.c			!small_kernel
@


1.605
log
@Add pair(4), a vether-based virtual Ethernet driver to interconnect
rdomains and bridges on the local system.  This can be used to route
through local rdomains, to create L2 devices (like trunks) between
them, and many other things.

Discussed with many, with input from mpi@@
OK sthen@@ phessler@@ yasuoka@@ mikeb@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.604 2015/10/09 01:17:21 deraadt Exp $
d863 2
@


1.604
log
@Rename tame() to pledge().  This fairly interface has evolved to be more
strict than anticipated.  It allows a programmer to pledge/promise/covenant
that their program will operate within an easily defined subset of the
Unix environment, or it pays the price.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.603 2015/09/28 08:32:04 mpi Exp $
d529 1
d790 1
@


1.603
log
@Merge gif(4)'s tentacles in a single file.

Tested by <mxb AT alumni DOT chalmers DOT se>.

ok dlg@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.602 2015/09/10 18:39:57 deraadt Exp $
d666 1
a666 1
file kern/kern_tame.c
@


1.602
log
@GPT requires crc32 unconditionally, for (size-constrained) install
media which lack ppp/crypto/etc.  Include the libz one.  If this
becomes a size issue later, krw has a tiny crc32 to use instead.
ok krw
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.601 2015/09/10 16:30:23 krw Exp $
a939 2
file netinet/in_gif.c			gif
file netinet6/in6_gif.c			gif & inet6
@


1.601
log
@Now that the GPT code tries really hard not to get in the way and
accidentally capture disks ...

Eliminate kernel option GPT and associated #ifdef GPT/#endif. Let
everybody get on the GPT bandwagon and we'll see what wheels fly
off.

Requested by & ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.600 2015/09/03 09:16:33 mpi Exp $
d1021 1
a1021 1
file lib/libz/crc32.c			ppp_deflate | ipsec | crypto
@


1.600
log
@Add missing net/art.c, found the hardway by reyk@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.599 2015/07/21 03:38:22 reyk Exp $
d676 1
a676 1
file kern/kern_uuid.c			gpt
d1021 1
a1021 1
file lib/libz/crc32.c			ppp_deflate | ipsec | crypto | gpt
@


1.599
log
@Add pvbus(4), a pseudo-bus to attach non-PCI paravirtual devices and buses.
vmt(4) is moved from mainbus0 to pvbus0, more devices will follow.

OK sf@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.598 2015/07/20 22:16:41 rzalamena Exp $
d756 1
@


1.598
log
@Implemented MPLS pseudowire (mpw(4)) to be used with VPLS and VPWS.

ok mpi@@, claudio@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.597 2015/07/19 02:35:35 deraadt Exp $
a487 4

# VMware Tools
device	vmt
file	dev/vmt.c			vmt	needs-flag
@


1.597
log
@tame(2) is a subsystem which restricts programs into a "reduced feature
operating model".  This is the kernel component; various changes should
proceed in-tree for a while before userland programs start using it.
ok miod, discussions and help from many
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.596 2015/07/18 15:51:16 mpi Exp $
d546 1
d790 1
@


1.596
log
@Abstract the routing table internals behind an rtable_* API.

Code abusing the radix internals for the routing table should now
includes <net/rtable.h> and only deal with "struct rtentry".

Code using a radix tree for another purpose can still include
<net/radix.h>.

Inputs from and ok claudio@@, mikeb@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.595 2015/07/17 22:52:29 tedu Exp $
d669 1
@


1.595
log
@remove obsolete INET kernel option
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.594 2015/07/02 01:33:59 dlg Exp $
d779 1
@


1.594
log
@introduce srp, which according to the manpage i wrote is short for
"shared reference pointers".

srp allows concurrent access to a data structure by multiple cpus
while avoiding interlocking cpu opcodes. it manages its own reference
counts and the garbage collection of those data structure to avoid
use after frees.

internally srp is a twisted version of hazard pointers, which are
a relative of RCU.

jmatthew wrote the bulk of a hazard pointer implementation and
changed bpf to use it to allow mpsafe access to bpfilters. however,
at s2k15 we were trying to apply it to other data structures but
the memory overhead of every hazard pointer would have blown out
significantly in several uses cases. a bulk of our time at s2k15
was spent reworking hazard pointers into srp.

this diff adds the srp api and adds the necessary metadata to struct
cpuinfo on our MP architectures. srp on uniprocessor platforms has
alternate code that is optimised because it knows there'll be no
concurrent access to data by multiple cpus.

srp is made available to the system via param.h, so it should be
available everywhere in the kernel.

the docs likely need improvement cos im too close to the implementation.

ok mpi@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.593 2015/06/19 11:12:24 jmatthew Exp $
d761 1
a761 1
file net/if_ethersubr.c			ether | inet		needs-flag
d806 30
a835 30
file netinet/if_ether.c			ether | inet
file netinet/igmp.c			inet
file netinet/in.c			inet
file netinet/in_pcb.c			inet
file netinet/in_proto.c			inet
file netinet/inet_nat64.c		inet & pf
file netinet/inet_ntop.c		inet | inet6
file netinet/ip_divert.c		inet & pf
file netinet/ip_icmp.c			inet
file netinet/ip_id.c			inet
file netinet/ip_input.c			inet
file netinet/ip_mroute.c		inet & mrouting
file netinet/ip_output.c		inet
file netinet/raw_ip.c			inet
file netinet/tcp_debug.c		inet
file netinet/tcp_input.c		inet
file netinet/tcp_output.c		inet
file netinet/tcp_subr.c			inet
file netinet/tcp_timer.c		inet
file netinet/tcp_usrreq.c		inet
file netinet/udp_usrreq.c		inet
file netinet/ip_gre.c			inet
file netinet/ip_ipsp.c			(inet | inet6) & (ipsec | tcp_signature)
file netinet/ip_spd.c			(inet | inet6) & (ipsec | tcp_signature)
file netinet/ip_ipip.c			inet | inet6
file netinet/ip_ether.c			(inet | inet6) & gif
file netinet/ipsec_input.c		(inet | inet6) & ipsec
file netinet/ipsec_output.c		(inet | inet6) & ipsec
file netinet/ip_esp.c			inet & ipsec
file netinet/ip_ah.c			inet & ipsec
d837 2
a838 2
file netinet/ip_ipcomp.c		inet & ipsec
file crypto/rijndael.c			(inet & ipsec) | crypto | uvm_swap_encrypt | wlan
d840 2
a841 2
file crypto/rmd160.c			(inet & ipsec) | crypto
file crypto/sha1.c			(inet & ipsec) | crypto | carp | wlan
d843 10
a852 10
file crypto/blf.c			(inet & ipsec) | crypto | vnd
file crypto/cast.c			(inet & ipsec) | crypto
file crypto/ecb_enc.c			(inet & ipsec) | crypto
file crypto/set_key.c			(inet & ipsec) | crypto
file crypto/ecb3_enc.c			(inet & ipsec) | crypto
file crypto/crypto.c			(inet & ipsec) | crypto
file crypto/criov.c			(inet & ipsec) | crypto
file crypto/cryptosoft.c		(inet & ipsec) | crypto
file crypto/xform.c			(inet & ipsec) | crypto
file crypto/xform_ipcomp.c		(inet & ipsec) | crypto
d857 1
a857 1
file crypto/gmac.c			(inet & ipsec) | crypto
d938 2
a939 2
file netinet/ip_ecn.c			inet | inet6
file netinet/in_gif.c			gif & inet
@


1.593
log
@remove isp(4) now that the ql* family have replaced it
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.592 2015/05/11 06:46:21 ratchov Exp $
d681 1
@


1.592
log
@Remove all audio format conversion code from the kernel (btw holding
the kernel_lock), as we already do better conversions in
user-mode. Yet, no need for every single driver to fiddle with the
conversion code as they are done transparently by common MI code. With
help from armani and miod, support from mpi

ok armani@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.591 2014/12/28 21:32:44 krw Exp $
a186 6
# QLogic ISP 10x0 SCSI Controllers
device	isp: scsi
file	dev/ic/isp.c			isp
file	dev/ic/isp_openbsd.c		isp
file	dev/ic/isp_library.c		isp

a193 5

# QLogic firmware shared between qla and isp
file	dev/microcode/isp/isp_fw2100.c	qla | isp_pci
file	dev/microcode/isp/isp_fw2200.c	qla | isp
file	dev/microcode/isp/isp_fw2300.c	qla | isp_pci
@


1.591
log
@The greatest happiness is to scatter inferiour APIs, to drive them
before you, to see their files reduced to ashes, to see those who
love them shrouded in tears, and to gather into your API all their
invocations.

In other words, workq is no more. There is only taskq.

ok kettenis@@ dlg@@ (creator of taskq) jmc@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.590 2014/12/03 18:16:50 deraadt Exp $
a26 4
# audio device attributes
define	mulaw
define	auconv

d488 1
a488 1
device	arcofi: audio, auconv, mulaw
a624 1
file dev/auconv.c			auconv
d639 1
a639 1
file dev/mulaw.c			mulaw
@


1.590
log
@no md5 in the kernel?  not even close to true
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.589 2014/12/03 07:33:27 tedu Exp $
a695 1
file kern/kern_workq.c
@


1.589
log
@md5 when wlan is needed too. fixes i386 ramdiskC
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.588 2014/12/03 05:03:38 tedu Exp $
d855 1
a855 1
file crypto/md5.c			(inet & ipsec) | crypto | tcp_signature | wlan
@


1.588
log
@deraadt points out i forgot about tcp_signature, although this won't
usually matter as all generic configs with tcp sigs have crypto too.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.587 2014/12/03 04:56:02 tedu Exp $
d855 1
a855 1
file crypto/md5.c			(inet & ipsec) | crypto | tcp_signature
@


1.587
log
@should no longer need md5 by default in all kernel builds.
tested with a few generic and ramdisk configs.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.586 2014/12/02 17:41:55 deraadt Exp $
d855 1
a855 1
file crypto/md5.c			(inet & ipsec) | crypto
@


1.586
log
@macppc G5 needs fcu in RAMDISK, mentioned by mpi
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.585 2014/11/24 02:03:37 brad Exp $
d855 1
a855 1
file crypto/md5.c
@


1.585
log
@use the correct capitalization for Realtek.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.584 2014/11/15 10:29:42 dlg Exp $
d686 1
a686 1
file kern/kern_sensors.c		!small_kernel
@


1.584
log
@wire siphash into the build so in_pcb hashes can use it.

ok yasuoka@@ mikeb@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.583 2014/10/20 00:38:50 tedu Exp $
d76 1
a76 1
define	rtl80x9		# RealTek 8019/8029 NE2000-compatible
d296 1
a296 1
# RealTek 8129/8139
@


1.583
log
@unconditionally build sha2 so we can use it in all the kernels.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.582 2014/10/12 19:33:32 miod Exp $
d876 1
@


1.582
log
@Remove unnecessary `needs-flag' attributes.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.581 2014/10/09 08:21:48 matthew Exp $
d858 1
a858 1
file crypto/sha2.c			(inet & ipsec) | crypto | wlan
@


1.581
log
@ddb: add support for DWARF line number decoding

This allows ddb's "trace" command to include file and line numbers:

  ddb{0}> trace
  Debugger() at Debugger+0x9 [../../../../arch/amd64/amd64/db_interface.c:405]
  ddb_sysctl() at ddb_sysctl+0x1b4 [../../../../ddb/db_usrreq.c:104]
  sys___sysctl() at sys___sysctl+0x216 [../../../../kern/kern_sysctl.c:229]
  syscall() at syscall+0x297 [../../../../sys/syscall_mi.h:84]
  --- syscall (number 202) ---
  end of kernel
  end trace frame: 0x7f7ffffcf1d7, count: -4
  acpi_pdirpa+0x4117aa:

For this to work, it requires using a new version of boot(8), and
booting a kernel with the .debug_line section present (e.g., building
with ``makeoptions DEBUG="-g"'' and then booting the bsd.gdb kernel
instead of the stripped bsd kernel).

Still a WIP, but no failure reports yet.  Committing so further
development and testing can happen in tree.

prodding deraadt, guenther, mlarkin
ok mpi
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.580 2014/10/09 03:36:32 tedu Exp $
d476 1
a476 1
file	dev/sdmmc/sdhc.c		sdhc	needs-flag
d485 1
a485 1
file	dev/ic/rtsx.c			rtsx	needs-flag
@


1.580
log
@remove LKM
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.579 2014/10/07 20:23:31 tedu Exp $
d612 1
@


1.579
log
@remove preliminary AOE (ata over ethernet) support. not finished after
many years and wide spread demand for support never materialized.
time to pack it in.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.578 2014/10/01 10:08:29 mpi Exp $
a676 1
file kern/kern_lkm.c			lkm
@


1.578
log
@sl(4) is no more, thanks for all the fish!
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.577 2014/09/08 04:40:30 doug Exp $
a521 1
file	dev/softraid_aoe.c		softraid & ether & aoe
a804 1
file net/if_aoe.c			ether & aoe
@


1.577
log
@Additional cleanup for procfs removal

ok guenther@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.576 2014/08/20 06:23:03 mikeb Exp $
a548 1
pseudo-device sl: ifnet
a781 1
file net/if_sl.c			sl			needs-count
d798 1
a798 1
file net/slcompress.c			sl | ppp
@


1.576
log
@Bye bye /dev/crypto

The interface has been disabled by default for about 4 years and
currently there's not much value in having it around at all.

ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.575 2014/07/13 15:32:28 miod Exp $
d718 1
a718 1
file kern/sys_process.c			ptrace | procfs | systrace
a757 6
file miscfs/procfs/procfs_cmdline.c	procfs
file miscfs/procfs/procfs_linux.c	procfs
file miscfs/procfs/procfs_status.c	procfs
file miscfs/procfs/procfs_subr.c	procfs
file miscfs/procfs/procfs_vfsops.c	procfs
file miscfs/procfs/procfs_vnops.c	procfs
@


1.575
log
@Initial support to read GPT partition tables in the kernel, if option GPT.
Contributed by Markus Mueller; code based upon Bitrig's GPT support, with
stricter GPT structures validation and support for alternate header places.

ok deraadt@@ jsing@@ krw@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.574 2014/07/13 13:28:26 pelikan Exp $
a874 1
file crypto/cryptodev.c			((inet & ipsec) | crypto)	needs-flag
@


1.574
log
@ext4 (extents) read support

Tested on amd64 with > 4GB files and 50,000 subdirectories.
From FreeBSD, thanks!

ok deraadt guenther
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.573 2014/07/11 21:54:38 tedu Exp $
d696 1
d1046 1
a1046 1
file lib/libz/crc32.c			ppp_deflate | ipsec | crypto
@


1.573
log
@"It's not the years, honey; it's the mileage."

bluetooth support doesn't work and isn't going anywhere. the current
design is a dead end, and should not be the basis for any future support.
general consensus says to whack it so as to not mislead the unwary.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.572 2014/04/19 12:27:06 henning Exp $
d929 1
@


1.572
log
@bye bye altq bits
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.570 2014/04/12 05:06:58 dlg Exp $
a69 1
define	bluetooth
a885 19
file netbt/bt_input.c			bluetooth		needs-flag
file netbt/bt_proto.c			bluetooth
file netbt/hci_event.c			bluetooth
file netbt/hci_ioctl.c			bluetooth
file netbt/hci_link.c			bluetooth
file netbt/hci_misc.c			bluetooth
file netbt/hci_socket.c			bluetooth
file netbt/hci_unit.c			bluetooth
file netbt/l2cap_lower.c		bluetooth
file netbt/l2cap_misc.c			bluetooth
file netbt/l2cap_signal.c		bluetooth
file netbt/l2cap_socket.c		bluetooth
file netbt/l2cap_upper.c		bluetooth
file netbt/rfcomm_dlc.c			bluetooth
file netbt/rfcomm_session.c		bluetooth
file netbt/rfcomm_socket.c		bluetooth
file netbt/rfcomm_upper.c		bluetooth
file netbt/sco_socket.c			bluetooth
file netbt/sco_upper.c			bluetooth
@


1.571
log
@rename wd33c93 to wd33c93ctrl (but keep the filenames as is) so we can
add attributes to it later; as wd33c93 is not a valid device name.

ok miod@@
@
text
@a611 6
file altq/altq_subr.c			altq
file altq/altq_red.c			altq
file altq/altq_cbq.c			altq
file altq/altq_rmclass.c		altq
file altq/altq_hfsc.c			altq
file altq/altq_priq.c			altq
@


1.570
log
@start working on a driver for non volatile memory express controllers.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.569 2014/03/18 22:36:37 miod Exp $
d257 2
a258 2
define	wd33c93
file	dev/ic/wd33c93.c		wd33c93
@


1.569
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.568 2014/03/08 14:34:12 mpi Exp $
d214 4
@


1.568
log
@Dumb xhci(4) implementation.

This driver does not handle isochronous endpoint (yet) and has no logical
TD representation.  Each transfer is linked to the raw TRB of its related
endpoint.

Most of the transfer error completion codes are not handled, even with all
the cheese provided by miod@@ I couldn't find a proper way to reset an
endpoint asynchronously when a device babbles.  Or maybe it was the wine?
Anyway this will come soon.

In general the endpoint configuration and reset code is really crude and
requires some love, but our stack should be fixed to properly open only
once the default pipe of every new USB device first.

This means this driver wont work as it is, our stack needs other changes
first.

Suspend/resume works but ports are not suspended for the moment.

But even with these problems, interrupt devices: ukbd(4), ums(4) and
sensors like ugold(4) work properly and USB 3.0 umass(4) devices give
me a reasonnable read/write speed.

Timeouts to cancel USB transfers are not enabled *on purpose*, to be able
to track down potential timing issues.

I'm committing now so that others can help fixing my bugs (8

All this work has been done on an ExpressCard with a NEC xHCI 0.96, other
implementations/versions might trigger more bugs :)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.567 2014/03/05 23:10:41 kettenis Exp $
d365 2
a366 2
file	dev/ic/sti.c			sti & (sti_dio | sti_gedoens |
					       sti_pci | sti_sgc) needs-flag
@


1.567
log
@Introduce qlw(4), a new driver for QLogic ISP SCSI HBAs.  For now only
supports the PCI variants; SBUs support will follow.  Works reasonably
well now.  Others are encouraged to test it.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.566 2014/02/10 22:41:27 jmatthew Exp $
d466 4
@


1.566
log
@Build isp2xxx firmware into separate object files so we only include
one copy when both isp(4) and qla(4) are enabled.  This is a temporary
measure until qla(4) takes over completely.

looked at by miod@@ and kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.565 2014/01/19 06:04:03 jmatthew Exp $
d197 4
@


1.565
log
@Introduce qla(4), a new driver for Qlogic fibre channel HBAs (only ISP23xx
so far).  Works reasonably well now, so it's going in the tree so others can
try it out.

with some help and fixes from dlg@@, general encouragement from basically
everyone
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.564 2014/01/18 09:23:26 jsing Exp $
d201 5
@


1.564
log
@Rename softraid RAIDP to softraid RAID5.

Discussed with krw@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.563 2013/12/13 19:55:12 naddy Exp $
d197 4
@


1.563
log
@Remove the 4.3BSD tty(4) compatibility shims.  RIP.  ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.562 2013/11/11 09:15:34 mpi Exp $
d502 3
d507 1
a507 3
file	dev/softraid_raidp.c		softraid
file	dev/softraid_crypto.c		softraid & crypto
file	dev/softraid_aoe.c		softraid & ether & aoe
a508 1
file	dev/softraid_concat.c		softraid
@


1.562
log
@Replace most of our formating functions to convert IPv4/6 addresses from
network to presentation format to inet_ntop().

The few remaining functions will be soon converted.

ok mikeb@@, deraadt@@ and moral support from henning@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.561 2013/10/29 04:23:16 dlg Exp $
a1001 1
file compat/common/tty_43.c		compat_43
@


1.561
log
@introduce tasks and taskqs as an alternative to workqs.

tasks are modelled on the timeout api, so users familiar with
timeout_set, timeout_add, and timeout_del will already know what
to expect from task_set, task_add, and task_del.

i wrote this because workq_add_task can fail in the place you
actually need it, and there arent any good ways of recovering at
that point.  workq_queue_task was added to try and help, but required
external state to be stored for users of that api to know whether
something was already queued or not.

workqs also didnt provide a way to cancel or remove work.

this has been percolating with a bunch of people. putting it in as i
wrote it so i can apply their feedback to the code with the history kept
in cvs.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.560 2013/10/28 12:33:32 mpi Exp $
d823 1
@


1.560
log
@tedu FDDI support and the 3 flavors the driver for DEC devices, even
miod@@ cannot find two boards using the same media.

With precious punctuation review from guenther@@, thanks!

ok deraadt@@, henning@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.559 2013/10/20 21:16:35 miod Exp $
d684 1
@


1.559
log
@Fix osiop.c inclusion rule.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.558 2013/10/17 08:02:18 deraadt Exp $
d64 1
a64 2
# net device attributes - we have generic code for ether(net),
# and fddi.
a67 1
define	fddi
a75 1
define	pdq		# DEC FDDI chipset
a623 2
file dev/ic/pdq.c			pdq
file dev/ic/pdq_ifsubr.c		pdq
d769 1
a769 2
file net/if_ethersubr.c			ether | inet | fddi	needs-flag
file net/if_fddisubr.c			fddi
@


1.558
log
@Remove support for a.out and ecoff.  We only do elf now.
ok miod
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.557 2013/10/15 01:41:45 miod Exp $
d236 1
a236 1
file	dev/ic/osiop.c			osiop & (osiop_gsc | osiop_eisa | osiop_pcctwo)
@


1.557
log
@Driver for the AIC-6250 SCSI controller found on AViiON models 100, 200, 300,
400 and 4300. Limited to PIO mode only for now, until the DMA controller is
tamed. Heavily based upon the MI aic(4) driver.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.556 2013/10/13 10:10:02 reyk Exp $
a600 1
file ddb/db_aout.c			ddb
a651 1
file kern/exec_aout.c
a652 1
file kern/exec_ecoff.c
@


1.556
log
@Import vxlan(4), the virtual extensible local area network tunnel
interface.  VXLAN is a UDP-based tunnelling protocol for overlaying
virtualized layer 2 networks over layer 3 networks. The implementation
is based on draft-mahalingam-dutt-dcops-vxlan-04 and has been tested
with other implementations in the wild.

put it in deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.555 2013/10/12 12:02:03 henning Exp $
d516 4
@


1.555
log
@hook in hfsc.c/h
looked over & tested by many, ok phessler sthen
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.554 2013/09/24 20:10:53 miod Exp $
d544 1
d804 1
@


1.554
log
@Sync the MI LANCE code ( le(4) ) with NetBSD, except for the following:
- the am7990_get() - now lance_get() - is unchanged.
- the interrupt acknowledge logic is unchanged, and will disable interrupts,
  then acknowledge all interrupt conditions.

Add ILACC (79900) support (from NetBSD).

Both LANCE (am7990.c) and ILACC (am79900.c) code share as much common code
(lance.c) as possible. This affects all le(4) attachments, but the changes
are mostly mechanical, to split am7990-specific parts from lance-agnostic
parts.

Compile tested on all affected platforms. Tested on alpha, hp300, luna88k,
mvme88k, sparc, sparc64 and vax.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.553 2013/09/24 09:20:11 espie Exp $
d567 2
@


1.553
log
@a bit more tmpfs scaffolding (still not active, no kernel change)
reduces the actual diff needed, and allows one to build mount_tmpfs
without reinstalling the includes.

(still awaiting review on the uvm bits)

okay krw@@, tedu@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.552 2013/08/20 09:14:15 mpi Exp $
d265 5
a269 1
file	dev/ic/am7990.c			le
@


1.552
log
@tedu netnatm and ueagle(4).

ok mikeb@@, sthen@@, tedu@@ (implied), doc bits ok jmc@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.551 2013/08/13 05:52:22 guenther Exp $
d757 6
@


1.551
log
@Switch time_t, ino_t, clock_t, and struct kevent's ident and data
members to 64bit types.  Assign new syscall numbers for (almost
all) the syscalls that involve the affected types, including anything
with time_t, timeval, itimerval, timespec, rusage, dirent, stat,
or kevent arguments.  Add a d_off member to struct dirent and replace
getdirentries() with getdents(), thus immensely simplifying and
accelerating telldir/seekdir.  Build perl with -DBIG_TIME.

Bump the major on every single base library: the compat bits included
here are only good enough to make the transition; the T32 compat
option will be burned as soon as we've reached the new world are
are happy with the snapshots for all architectures.

DANGER: ABI incompatibility.  Updating to this kernel requires extra
work or you won't be able to login: install a snapshot instead.

Much assistance in fixing userland issues from deraadt@@ and tedu@@
and build assistance from todd@@ and otto@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.550 2013/08/12 04:11:52 jsg Exp $
a65 1
define	atm
a759 1
file net/if_atmsubr.c			atm			needs-flag
a806 1
file netinet/if_atm.c			atm
a884 3
file netnatm/natm_pcb.c			natm
file netnatm/natm_proto.c		natm
file netnatm/natm.c			natm
@


1.550
log
@Add a port of the TTM and Radeon DRM code from Linux 3.8.13.
Includes kernel modesetting, framebuffer console and support
for newer hardware.

Firmware needs to be present for acceleration and in some cases
modesetting to work.  It can be installed via fw_update
or manually via pkg_add.

With lots of help from kettenis@@ some macppc bits from mpi@@
and some ttm refcount/queue bits from FreeBSD.

Thanks to M:Tier and the OpenBSD Foundation for sponsoring this work.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.549 2013/07/11 01:20:31 jsg Exp $
d996 1
a996 1
file compat/common/compat_dir.c		!small_kernel
@


1.549
log
@add fls/flsl functions to find the last bit set in a value
from FreeBSD
ok mikeb@@ haesbaert@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.548 2013/06/11 18:17:25 deraadt Exp $
a109 1
include "dev/pci/drm/files.drm"
@


1.548
log
@stop compiling ovbcopy support
ok kettenis
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.547 2013/06/03 15:54:47 tedu Exp $
d1029 2
@


1.547
log
@changes for isc fuse support. not enabled. ok beck deraadt.
from Sylvestre Gallon ccna.syl gmail.com
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.546 2013/05/29 22:23:01 tedu Exp $
a1025 1
file lib/libkern/arch/${MACHINE_ARCH}/ovbcopy.S | lib/libkern/ovbcopy.c
@


1.546
log
@uvm_loan has not (ever) been compiled or used.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.545 2013/03/31 13:30:23 kettenis Exp $
d547 8
@


1.545
log
@Unbreak the build on amd64 by making sure that inteldrm pulls in the generic
i2c bit-banging code.  Requires us to move around the i2c_bitbang define.
Also move the onewire_bitbang define to be close to i2c_bitbang since they
are similar.

ok jsing@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.544 2013/03/28 16:41:39 tedu Exp $
a937 1
#file uvm/uvm_loan.c
@


1.544
log
@separate memory poisoning code to a new file and make it usable kernel wide
ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.543 2013/03/26 16:39:08 tedu Exp $
d58 6
a133 3

# 1-Wire bus bit-banging
define	onewire_bitbang
@


1.543
log
@remove the old_?magic aout exec functions which are never used.
ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.542 2013/03/15 09:10:52 ratchov Exp $
d681 1
@


1.542
log
@Delete the sequencer(4) driver, since its not used any longer. Diff
mostly from armani.
ok miod, mpi, jsg and help from sthen
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.541 2013/03/14 11:18:37 mpi Exp $
a984 1
file compat/common/compat_exec.c	!small_kernel
@


1.541
log
@tedu faith(4), suggested by todd@@ some weeks ago after a submission by
dhill.

ok krw@@, mikeb@@, tedu@@ (implicit)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.540 2013/01/21 11:17:48 patrick Exp $
a539 1
pseudo-device sequencer
a617 1
file dev/sequencer.c			sequencer		needs-flag
@


1.540
log
@Split AHCI in order to support devices which are not attached via pci.
Tested on a few machines, including JMicron and Intel AHCIs.

ok dlg@@ jmatthew@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.539 2012/11/29 23:36:34 stsp Exp $
a531 1
pseudo-device faith: ifnet
a952 1
file net/if_faith.c			faith			needs-count
@


1.539
log
@Add rtsx(4), a new driver for the Realtek RTS5209 card reader.
This card reader does not comply to the standard SDHC interface
supported by sdhc(4) and hence requires a custom driver.

With help from uwe and mikeb. Useful hints were also provided by the
author of the corresponding Linux driver (wwang at realsil com cn),
thanks a lot!  Tested by myself and weerd on i386 and amd64.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.538 2012/08/23 06:12:49 deraadt Exp $
d199 4
@


1.538
log
@kill nnpfs dead
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.537 2012/04/26 01:22:31 matthew Exp $
d456 4
@


1.537
log
@Add strnlen() to libkern.

ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.536 2012/04/06 15:10:40 jsing Exp $
a918 14
file nnpfs/nnpfs_common-bsd.c		nnpfs
file nnpfs/nnpfs_deb.c			nnpfs
file nnpfs/nnpfs_dev-bsd.c		nnpfs
file nnpfs/nnpfs_dev-common.c		nnpfs
file nnpfs/nnpfs_message.c		nnpfs
file nnpfs/nnpfs_node.c			nnpfs
file nnpfs/nnpfs_node-bsd.c		nnpfs
file nnpfs/nnpfs_syscalls-common.c	nnpfs
file nnpfs/nnpfs_vfsops-bsd.c		nnpfs
file nnpfs/nnpfs_vfsops-common.c	nnpfs
file nnpfs/nnpfs_vfsops-openbsd.c	nnpfs
file nnpfs/nnpfs_vnodeops-bsd.c		nnpfs
file nnpfs/nnpfs_vnodeops-common.c	nnpfs
file nnpfs/nnpfs_syscalls-dummy.c	!nnpfs
@


1.536
log
@tedu the raidframe.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.534 2012/03/09 13:01:28 ariane Exp $
d1037 1
@


1.535
log
@Work in progress support for the SGI Indigo, Indigo 2 and Indy systems
(IP20, IP22, IP24) in 64-bit mode, adapated from NetBSD. Currently limited
to headless operation, input and video drivers will get ported soon.

Should work on all R4000, R4440 and R5000 based systems. L2 cache on R5000SC
Indy not supported yet (coming soon), R4600 not supported yet either (coming
soon as well).

Tested to boot multiuser on: Indigo2 R4000SC, Indy R4000PC, Indy R4000SC,
Indy R5000SC, Indigo2 R4400SC. There are still glitches in the Ethernet driver
which are being looked at.

Expansion support is limited to the GIO E++ board; GIO boards with PCI-GIO
bridges not ported yet due to the lack of hardware, and this kind of driver
does not port blindly.

Most of this work comes from NetBSD, polishing and integration work, as well
as putting as many ``R4x00 in 64-bit mode'' erratas as necessary, by yours
truly.

More work is coming, as well as trying to get some easy way to boot install
kernels (as older PROM can only boot ECOFF binaries, which won't do for the
kernel).
@
text
@a505 1
pseudo-device raid: disk
a615 60
file dev/raidframe/rf_acctrace.c	raid			needs-flag
file dev/raidframe/rf_alloclist.c	raid			needs-flag
file dev/raidframe/rf_aselect.c		raid			needs-flag
file dev/raidframe/rf_callback.c	raid			needs-flag
file dev/raidframe/rf_chaindecluster.c	raid			needs-flag
file dev/raidframe/rf_copyback.c	raid			needs-flag
file dev/raidframe/rf_cvscan.c		raid			needs-flag
file dev/raidframe/rf_dagdegrd.c	raid			needs-flag
file dev/raidframe/rf_dagdegwr.c	raid			needs-flag
file dev/raidframe/rf_dagffrd.c		raid			needs-flag
file dev/raidframe/rf_dagffwr.c		raid			needs-flag
file dev/raidframe/rf_dagfuncs.c	raid			needs-flag
file dev/raidframe/rf_dagutils.c	raid			needs-flag
file dev/raidframe/rf_debugMem.c	raid			needs-flag
file dev/raidframe/rf_debugprint.c	raid			needs-flag
file dev/raidframe/rf_decluster.c	raid			needs-flag
file dev/raidframe/rf_declusterPQ.c	raid			needs-flag
file dev/raidframe/rf_diskqueue.c	raid			needs-flag
file dev/raidframe/rf_disks.c		raid			needs-flag
file dev/raidframe/rf_driver.c		raid			needs-flag
file dev/raidframe/rf_engine.c		raid			needs-flag
file dev/raidframe/rf_evenodd.c		raid			needs-flag
file dev/raidframe/rf_evenodd_dagfuncs.c raid			needs-flag
file dev/raidframe/rf_evenodd_dags.c	raid			needs-flag
file dev/raidframe/rf_fifo.c		raid			needs-flag
file dev/raidframe/rf_interdecluster.c	raid			needs-flag
file dev/raidframe/rf_invertq.c		raid			needs-flag
file dev/raidframe/rf_openbsdkintf.c	raid			needs-flag
file dev/raidframe/rf_layout.c		raid			needs-flag
file dev/raidframe/rf_map.c		raid			needs-flag
file dev/raidframe/rf_mcpair.c		raid			needs-flag
file dev/raidframe/rf_memchunk.c	raid			needs-flag
file dev/raidframe/rf_nwayxor.c		raid			needs-flag
file dev/raidframe/rf_options.c		raid			needs-flag
file dev/raidframe/rf_paritylog.c	raid			needs-flag
file dev/raidframe/rf_paritylogDiskMgr.c raid			needs-flag
file dev/raidframe/rf_paritylogging.c	raid			needs-flag
file dev/raidframe/rf_parityloggingdags.c raid			needs-flag
file dev/raidframe/rf_parityscan.c	raid			needs-flag
file dev/raidframe/rf_pq.c		raid			needs-flag
file dev/raidframe/rf_pqdeg.c		raid			needs-flag
file dev/raidframe/rf_pqdegdags.c	raid			needs-flag
file dev/raidframe/rf_psstatus.c	raid			needs-flag
file dev/raidframe/rf_raid0.c		raid			needs-flag
file dev/raidframe/rf_raid1.c		raid			needs-flag
file dev/raidframe/rf_raid4.c		raid			needs-flag
file dev/raidframe/rf_raid5.c		raid			needs-flag
file dev/raidframe/rf_raid5_rotatedspare.c raid			needs-flag
file dev/raidframe/rf_reconbuffer.c	raid			needs-flag
file dev/raidframe/rf_reconmap.c	raid			needs-flag
file dev/raidframe/rf_reconstruct.c	raid			needs-flag
file dev/raidframe/rf_reconutil.c	raid			needs-flag
file dev/raidframe/rf_revent.c		raid			needs-flag
file dev/raidframe/rf_shutdown.c	raid			needs-flag
file dev/raidframe/rf_sstf.c		raid			needs-flag
file dev/raidframe/rf_states.c		raid			needs-flag
file dev/raidframe/rf_stripelocks.c	raid			needs-flag
file dev/raidframe/rf_strutils.c	raid			needs-flag
file dev/raidframe/rf_threadstuff.c	raid			needs-flag
file dev/raidframe/rf_utils.c		raid			needs-flag
@


1.534
log
@New vmmap implementation.

no oks (it is really a pain to review properly)
extensively tested, I'm confident it'll be stable
'now is the time' from several icb inhabitants

Diff provides:
- ability to specify different allocators for different regions/maps
- a simpler implementation of the current allocator
- currently in compatibility mode: it will generate similar addresses
  as the old allocator
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.533 2011/12/31 17:06:10 jsing Exp $
d236 4
@


1.533
log
@Implement a concatenating discipline for softraid.

Many thanks to Marco Peereboom for his assistance with testing and
debugging. Thanks also to Josh Grosse and Chris Jackman for testing.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.531 2011/12/22 23:20:48 miod Exp $
d990 1
@


1.532
log
@Remove the ability to ptrace via procfs, as no one is using it, so fixing
and extending it to support rthreads would be a waste of time.  Also, don't
show rthreads in the process listing in procfs.

Reassurances that compat_linux doesn't need this from ajacoutot@@
ok kettenis@@
@
text
@d494 1
@


1.531
log
@Add 16-bit modes to arcofi(4). Big-endian signed is native, others require some
bit or byte flipping. Trivial, and would have been part of the initial commit,
had I not made the mistake of testing a big-endian chip with 16-bit audio
data in little-endian format (``oops'').
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.530 2011/12/21 23:12:03 miod Exp $
a780 1
file miscfs/procfs/procfs_ctl.c		procfs
a781 1
file miscfs/procfs/procfs_note.c	procfs
@


1.530
log
@Work-in-progress driver for the HP ``Audio1'' device found on the HP 9000/425e
(hp300) and the HP9000/705 and 9000/710 (hppa). 8-bit mono, 8KHz, no surprise
since it is based upon a digital phone chip.
Tested on 425e only so far, and playback only; configured in, but disabled,
on hppa kernels until there are positive test reports (I am not sure the
interrupt assignment on hppa is correct).
And now people no longer can joke about audio on hp300.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.529 2011/10/13 18:23:39 claudio Exp $
d458 1
a458 1
device	arcofi: audio, mulaw
@


1.529
log
@Since the IPv6 madness is not enough introduce NAT64 -- which is actually
"af-to" a generic IP version translator for pf(4).
Not everything perfect yet but lets fix these things in the tree.
Insane amount of work done by sperreault@@, mikeb@@ and reyk@@.
Looked over by mcbride@@ henning@@ and myself at eurobsdcon.
OK mcbride@@ and general put it in from deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.528 2011/10/06 20:49:28 deraadt Exp $
d456 4
@


1.528
log
@ccd goes to the attic
discussed with jsing and millert
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.527 2011/09/03 20:03:27 miod Exp $
d853 1
@


1.527
log
@MI driver for AMD79C30 audio chip; from NetBSD
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.526 2011/08/18 20:02:58 miod Exp $
a496 1
pseudo-device ccd: disk
a587 1
file dev/ccd.c				ccd			needs-flag
@


1.526
log
@So, it turns out that models 362 and 382 built-in frame buffer only shows up
in DIO-II space, as a fat device spanning four select codes (i.e. 16MB of
memory). This is way too much for an at-most 2 Mpixel 8bit frame buffer, and
it turns out that this is because the device provides both a regular DIO-II
frame buffer (spanning two select codes) and a regular STI frame buffer
(spanning the other two select codes).
This commit introduces a straightforward sti@@dio attachment to get a working
sti(4) and wsdisplay(4) in a ridiculously small number of lines; however
the console code needs some changes to avoid duplicating globals.

While there, add sti@@dio support for the bootblocks, and I couldn't help
myself but clean the most rotten parts of them, and try to have them reuse
various files in sys/arch/hp300/dev instead of rolling their outdated ones.

Tested on a real 382 with the low-resolution frame buffer:
sti0 at dio0 scode 132: rev 8.02;129, ID 0x27134CB440A00499
sti0: 382V, 2048x512 frame buffer, 640x480x8 display
sti0: 8x16 font type 1, 16 bpc, charset 0-255
wsdisplay0 at sti0 mux 1: console (std, vt100 emulation)

Boot blocks updates tested on DIO-II 425t (serial/glass console), SGC 425e
(serial/glass console) and 382 (serial/glass console). And will be tested
on SGC 425t soon as well.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.525 2011/07/09 00:47:18 henning Exp $
d452 4
@


1.525
log
@begone, fucking rotten appletalk shit. ok room
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.524 2011/07/09 00:10:52 deraadt Exp $
d342 2
a343 2
file	dev/ic/sti.c			sti & (sti_pci | sti_gedoens |
					       sti_sgc) needs-flag
@


1.524
log
@Remove COMPAT_25.  The one piece moved by COMPAT_LINUX moves there.
ok guenther
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.523 2011/07/08 19:19:20 tedu Exp $
a898 6
file netatalk/aarp.c			netatalk
file netatalk/at_control.c		netatalk
file netatalk/at_proto.c		netatalk
file netatalk/ddp_input.c		netatalk
file netatalk/ddp_output.c		netatalk
file netatalk/ddp_usrreq.c		netatalk
@


1.523
log
@remove all traces of COMPAT_09 and COMPAT_10. ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.522 2011/07/08 18:38:53 ariane Exp $
a1053 1
file compat/common/compat_vm.c		!small_kernel & compat_linux
@


1.522
log
@Don't compile hibernate support unless it is enabled by a config option.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.521 2011/07/08 17:58:16 ariane Exp $
a1054 1
file compat/common/kern_info_09.c	!small_kernel & compat_linux
@


1.521
log
@Move hiballoc to hibernate.h, subr_hibernate.c
Next few commits will move other hibernate-specific functionality,
like the pig-allocator, to subr_hibernate.

No functional change, no callers either.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.520 2011/07/07 02:57:24 deraadt Exp $
d724 1
a724 1
file kern/subr_hibernate.c		!small_kernel
@


1.520
log
@Replace the cruddy old sys/net/zlib.[ch].  We now use the sys/lib/libz
code.  Missing chunks of the API are imported from the libc version,
with a few #ifdef's to port it into the kernel environment.

The bootblocks already used the newer code, and should encounter no
surprises since there are so few changes to the existing files. In
the kernel, ipcomp and kernel ppp are changed to the new API.
ipcomp has been tested.

ok tedu the brave
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.519 2011/07/07 01:19:39 tedu Exp $
d724 1
a724 1
file kern/subr_hiballoc.c		!small_kernel
@


1.519
log
@remove all the old COMPAT_43 syscalls.  The option itself remains for
the other things it enables.  Move a few old wrappers into linux compat
where they are still being used.
ok deraadt guenther
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.518 2011/07/06 10:25:21 ariane Exp $
a808 1
file net/zlib.c				ppp_deflate | ipsec | crypto
d891 1
a891 1
file crypto/deflate.c			(inet & ipsec) | crypto
d1100 13
@


1.518
log
@Hibernate memory allocator.

A simple first-fit allocator, intended to manage small ranges of memory.
This is currently not called.

tested and ok mlarkin@@, prodded by deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.517 2011/07/04 20:57:54 deraadt Exp $
d1057 1
a1057 8
file compat/common/kern_exit_43.c	!small_kernel
file compat/common/kern_info_43.c	!small_kernel
file compat/common/kern_resource_43.c	!small_kernel
file compat/common/kern_sig_43.c	!small_kernel
file compat/common/tty_43.c		!small_kernel
file compat/common/uipc_syscalls_43.c	!small_kernel
file compat/common/vfs_syscalls_43.c	!small_kernel
file compat/common/vm_43.c		!small_kernel
@


1.517
log
@move the specfs code to a place people can see it; ok guenther thib krw
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.516 2011/07/03 22:39:12 tedu Exp $
d724 1
@


1.516
log
@cdnr and rio disciplines are not being used or supported, clear a path
for new code.  ok henning
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.515 2011/06/30 13:43:14 tedu Exp $
d770 1
a780 2
file miscfs/specfs/spec_vnops.c
file miscfs/specfs/spec_subr.c
@


1.515
log
@compat_35 has not been enabled for sometime, time to remove it
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.514 2011/06/23 21:50:26 oga Exp $
a560 1
file altq/altq_cdnr.c			altq_cdnr
a562 1
file altq/altq_rio.c			altq_rio
@


1.514
log
@Move uvm_pglistalloc and uvm_pglistfree to uvm_page.c and garbage
college uvm_pglist.c

uvm_pglistalloc and free are just thin wrappers around pmemrange these
days and don't really need their own file.

ok ariane@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.513 2011/06/23 17:06:07 matthew Exp $
a1058 2
file compat/common/vfs_syscalls_35.c	!small_kernel & compat_35
file compat/common/kern_ipc_35.c	!small_kernel & compat_35
@


1.513
log
@Complete rewrite for rd(4) to eliminate unnecessary functionality and
better follow current disk driver conventions.

Prompted by oga@@.

"go ahead" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.512 2011/04/07 13:42:53 thib Exp $
a1009 1
file uvm/uvm_pglist.c
@


1.512
log
@merge vfs_conf.c and vfs_init.c and retire vfs_conf.c;

The contents belong togather a long with other crud,
that should get moved at some point.

ok deraadt@@, miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.509 2011/01/10 23:23:56 tedu Exp $
d496 1
a496 1
file	dev/ramdisk.c			rd needs-flag
a1017 1
file dev/rd.c				ramdisk_hooks
@


1.511
log
@Remove portalfs.

While it is a terribly cool idea, it's just awful and since noone has stepped
up to the plate to keep it up with the current vop state, retire it to the
attic.

ok krw@@, deraadt@@, guenther@@, miod@@.
comments from jmc@@
@
text
@a761 1
file kern/vfs_conf.c
@


1.510
log
@Push COMPAT_FREEBSD in front of a whale.  Buggy, out of date, no
one has been weeding it, and it makes life harder.

Toasts of Brennivin for its passing from many; diff ok henning@@
@
text
@a774 2
file miscfs/portal/portal_vfsops.c	portal
file miscfs/portal/portal_vnops.c	portal
@


1.509
log
@add a new function, explicit_bzero, to be used for erasing "secret" stuff.
unlike normal bzero, we guarantee that the compiler will not optimize out
calls to this function for otherwise dead variables.
to be adjusted as needed when compilers and linkers get smarter.
ok deraadt miod
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.508 2011/01/06 19:32:09 damien Exp $
d1062 3
a1064 8
file compat/common/compat_vm.c		!small_kernel &
	(compat_freebsd | compat_linux)
file compat/common/kern_info_09.c	!small_kernel &
	(compat_freebsd | compat_linux)
file compat/common/kern_ipc_10.c	!small_kernel & compat_freebsd
file compat/common/vfs_syscalls_25.c	!small_kernel & compat_freebsd
file compat/common/vfs_syscalls_35.c	!small_kernel & (compat_35 |
	compat_freebsd )
@


1.508
log
@only athn at uhub (not pci or cardbus) needs firmload
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.507 2011/01/06 07:27:15 damien Exp $
d1088 1
@


1.507
log
@"athn* at uhub? port ?"
this adds preliminary support for the Atheros AR9271 chipset and
probably the AR9280+AR7010 and AR9287+AR7010 too though those were
not tested.
scanning still takes a very long time (~1 sec per channel) but
otherwise, operation in STA mode seems stable.
will implement fast channel change soon.

committed over the Ubiquiti WifiStation EXT (AR9271) on i386 with WPA.
requires firmware (see man page for details)

ok deraadt@@ (who checked the .h files)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.506 2010/12/21 20:14:43 thib Exp $
d369 1
a369 1
device	athn: ether, ifnet, ifmedia, wlan, firmload
@


1.506
log
@Bring back the "End the VOP experiment." diff, naddy's issues where
unrelated, and his alpha is much happier now.

OK deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.505 2010/12/21 14:56:24 claudio Exp $
d369 1
a369 1
device	athn: ether, ifnet, ifmedia, wlan
@


1.505
log
@Convert netisr to a normal soft interrupt instead of hanving MD code
for it. This makes the netisr a real C function which will help further
development. No noticable performance change on i386 and amd64.
With input from kettenis@@ and miod@@ additional OKs mikeb@@ and henning@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.504 2010/10/06 22:19:20 mikeb Exp $
d770 1
a772 1
file kern/vnode_if.c
@


1.504
log
@Retire Skipjack

There's not much use for the declassified cipher from the 80's
with a questionable license these days.  According to the FIPS
drafts, Skipjack reaches its EOL in December 2010.

The libc portion will be removed after the ports hackathon.

djm and thib agree, no objections from deraadt
Thanks to jsg for digging up FIPS drafts.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.503 2010/09/22 13:03:48 claudio Exp $
d810 1
@


1.503
log
@Add a new interface pppx(4) -- the ppp multiplexer to be used with npppd
and pipex. pppx(4) creates an interface whenever a session is created
so that altq and pf can work on these.
Started by dlg@@ debugged and made usable by myself
OK dlg@@ yasuoka@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.502 2010/09/22 11:54:23 mikeb Exp $
a887 1
file crypto/skipjack.c			(inet & ipsec) | crypto
@


1.502
log
@OCF support for the Galois/Counter Mode (GCM) for AES as
described in FIPS SP 800-38D.

This implementation supports 16 byte authentication tag only,
splitting transformation into two parts: encryption and
authentication.  Encryption is handled by the existing
AES-CTR implementation, while authentication requires new
AES_GMAC hash function.

Additional routine is added to the software crypto driver
to deal with peculiarities of a combined authentication-
encryption transformation.

With suggestions from reyk, naddy and toby.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.501 2010/09/10 16:34:08 thib Exp $
d520 1
d832 1
@


1.501
log
@Backout the VOP diff until the issues naddy was seeing on alpha (gcc3)
have been resolved.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.500 2010/09/06 23:44:10 thib Exp $
d900 1
@


1.500
log
@End the VOP experiment. Instead of the ridicolusly complicated operation
vector setup that has questionable features (that have, as far as I can
tell never been used in practice, atleast not in OpenBSD), remove all
the gunk and favor a simple struct full of function pointers that get
set directly by each of the filesystems.

Removes gobs of ugly code and makes things simpler by a magnitude.

The only downside of this is that we loose the vnoperate feature so
the spec/fifo operations of the filesystems need to be kept in sync
with specfs and fifofs, this is no big deal as the API it self is pretty
static.

Many thanks to armani@@ who pulled an earlier version of this diff to
current after c2k10 and Gabriel Kihlman on tech@@ for testing.

Liked by many. "come on, find your balls" deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.499 2010/07/31 08:33:19 ratchov Exp $
a768 1
file kern/vfs_vops.c
d771 1
@


1.499
log
@remove the ``midisyn'' framework and anything using it, i.e., the opl
device and the midi interface to pcppi.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.498 2010/07/20 15:28:43 matthew Exp $
d769 1
a771 1
file kern/vnode_if.c
@


1.498
log
@Add OpenSSH's timingsafe_bcmp() to libkern.

ok djm@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.497 2010/07/13 16:47:03 deraadt Exp $
a17 1
define	midisyn
a325 5
# OPL2/OPL3 FM synth driver
device	opl: midibus, midisyn
file	dev/ic/opl.c			opl
file	dev/ic/oplinstrs.c		opl

a601 1
file dev/midisyn.c			midisyn
@


1.497
log
@dma_alloc() and dma_free().  This is a thin shim on top of a bag of
pools, sized by powers of 2, which are constrained to dma memory.
ok matthew tedu thib
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.496 2010/07/05 23:10:16 tedu Exp $
d1092 1
@


1.496
log
@i forgot to remove various compat references from here.  spotted by deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.495 2010/07/01 17:30:25 tedu Exp $
d734 1
@


1.495
log
@another day, another compat gets removed.  today is ibcs2's turn
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.494 2010/07/01 01:54:38 deraadt Exp $
d1066 1
a1066 1
	(compat_freebsd | compat_bsdos | compat_sunos | compat_linux)
d1068 3
a1070 6
	(compat_freebsd | compat_sunos | 
	compat_osf1 | compat_linux)
file compat/common/kern_ipc_10.c	!small_kernel &
	(compat_freebsd | compat_sunos | compat_bsdos)
file compat/common/vfs_syscalls_25.c	!small_kernel &
	(compat_freebsd | compat_bsdos | compat_sunos)
d1072 1
a1072 1
	compat_freebsd | compat_bsdos | compat_sunos)
@


1.494
log
@compat_o43 and compat_23 can die
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.493 2010/06/29 20:30:33 guenther Exp $
d1068 1
a1068 1
	(compat_freebsd | compat_ibcs2 | compat_sunos | 
d1071 1
a1071 1
	(compat_freebsd | compat_ibcs2 | compat_sunos | compat_bsdos)
@


1.493
log
@Remove COMPAT_HPUX.  No one wanted to support it and its fewmets were
blocking other cleanups
ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.492 2010/06/08 12:46:49 jsing Exp $
a1075 1
file compat/common/vfs_syscalls_o43.c	!small_kernel & compat_o43
a1076 1
file compat/common/kern_ipc_23.c	!small_kernel & compat_23
@


1.492
log
@Introduce a diskmap pseudo device which allows userland to open a disk
specified via its disklabel UID. The mapping from the disklabel UID to the
real disk and the opening of the resulting device is performed atomically
using a single ioctl.

ok krw@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.490 2010/05/11 09:37:13 claudio Exp $
d1066 1
a1066 1
	(compat_freebsd | compat_bsdos | compat_sunos | compat_hpux | compat_linux)
d1068 1
a1068 1
	(compat_freebsd | compat_ibcs2 | compat_sunos | compat_hpux |
d1071 1
a1071 1
	(compat_freebsd | compat_ibcs2 | compat_sunos | compat_hpux | compat_bsdos)
d1073 1
a1073 1
	(compat_freebsd | compat_bsdos | compat_sunos | compat_hpux)
d1075 1
a1075 1
	compat_freebsd | compat_bsdos | compat_sunos | compat_hpux)
@


1.491
log
@Reintroduce bufqs. A few changes since it was backed out after some good
comments from dlg@@.

No need for a separate bufq.h, keep all of in buf.h; As requested by kittens
and deraadt.

Only sd(4) and wd(4) for now. The rest of the drivers will be converted soon,
also other goodies like heuristics for sd(4) for selecting the bufq type and
the death of disksort() are forthcoming.

Tested on: i386, amd64, sparc64, macppc, loongson and alpha by myself and
phessler.

OK art@@, beck@@, kettenis@@, oga@@
@
text
@d594 1
@


1.490
log
@ip_ether.c makes only sense if the kernel has gif(4) support.
OK sthen@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.489 2010/05/10 17:44:21 damien Exp $
d695 1
@


1.489
log
@athn(4) is going to support a new family of Atheros 802.11n
chips (AR9003), which differs from the currently supported
families (AR5008, AR9001 and AR9002).

The main differences (from a driver point of view) are:

* DMA:
Tx and Rx descriptors have changed.
A single Tx descriptor can now reference up to 4 scatter/gather
DMA segments.
There is now a DMA ring for reporting Tx status with separate
Tx status descriptors (this ring is used to report Tx status for
all the Tx FIFOs).
Rx status descriptors are now put at the beginning of Rx buffers
and do not need to be allocated separately from buffers.
There are two Rx FIFOs (low priority and high priority) instead
of one.

* ROM:
The AR9003 family uses OTP-ROM instead of EEPROM.
Reading the ROM is totally insane since vendors can provide only
the chunks of ROM that differ from a default image (and thus the
default image has to be stored in the driver).
This is referenced as "compressed ROM" in the Linux driver, though
there is no real compression involved, at least for the moment.

* PHY registers:
All PHY registers have changed.
Some registers offsets do not fit on 16 bits anymore, but
since they are 32-bit aligned, we can still make them fit on
16 bits to save .rodata space in initialization tables.

* MAC registers:
Some MAC registers offsets have changed (GPIO, interrupt masks)
which is quite annoying (though ~98% remain the same.)

* Initialization values:
Initialization values are now split in mac/soc/bb/radio blocks
and pre/core/post phases in the Linux driver.  I have chosen to
not go that road and merge these blocks in modal and non-modal
initialization values (similar to the other families).
The initialization order remains exactly the same as the Linux
driver though.

To manage these differences, I have split athn.c in two backends:
ar5008.c contains the bits that are specific to the AR5008,
AR9001 and AR9002 families (used by ar5416.c, ar9280.c,
ar9285.c and ar9287.c) and that were previously in athn.c.

ar9003.c contains the bits that are specific to the new
AR9003 family (used by ar9380.c only for now.)

I have introduced a thin hardware abstraction layer (actually
a set of pointers to functions) that is used in athn.c.
My intent is to keep this abstraction layer as thin as possible
and not to create another ugly pile of abstraction layers a la
MadWifi.

I think I've managed to keep things sane, probably at the expense
of duplicating some code in both ar5008.c and ar9003.c, but at
least we do not have to dig through layers and layers of virtual
descriptors to figure out what is mapped to the hardware.

Tested for non-regression on various AR5416 (sparc64+i386), AR9281
and AR9285 (i386 only) adapters.
AR9380 part is not tested (hardware is not available to the general
public yet).

Committed over my AR9285 2.0.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.488 2010/05/01 13:13:08 oga Exp $
d876 1
a876 1
file netinet/ip_ether.c			inet
@


1.488
log
@Unbreak ramdisks.

I forgot that uvm_object.c wasn't build if SMALL_KERNEL. Fix this by building
the file unconditionally and only building the less used functions when
SMALL_KERNEL is not defined.

unbreaks ramdisk build. ok jsg@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.487 2010/04/22 19:02:52 oga Exp $
d377 1
d382 2
@


1.487
log
@Committing on behalf or ariane@@.

recommit pmemrange:
        physmem allocator: change the view of free memory from single
        free pages to free ranges.  Classify memory based on region with
        associated use-counter (which is used to construct a priority
        list of where to allocate memory).

	Based on code from tedu@@, help from many.

Useable now that bugs have been found and fixed in most architecture's
pmap.c

ok by everyone who has done a pmap or uvm commit in the last year.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.486 2010/04/20 22:53:24 miod Exp $
d1007 1
a1007 1
file uvm/uvm_object.c			!small_kernel
@


1.486
log
@Add bus_dma and oosiop(4), as found on the AV530 family. Tested on model 4605.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.485 2010/03/22 21:20:55 miod Exp $
d1012 1
@


1.485
log
@Split existing spdmem@@i2c code into bus-agnostic spd record decoding code,
and an i2c attachment.
No functional change; ok jsg@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.484 2010/01/11 03:50:55 yasuoka Exp $
d236 1
a236 1
file	dev/ic/oosiop.c			oosiop & (oosiop_gsc)
@


1.484
log
@Initial import PIPEX.  PIPEX(Pppac IP EXtension) is a IP forwarding
acceleration for PPP access concentrator.

ok mcbride@@ dlg@@ deraadt@@ reyk@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.483 2009/11/25 19:07:52 oga Exp $
d489 4
@


1.483
log
@re-add uvm_objwire and uvm_objunwire. needed for intel GEM support.

It was backed out as part of the date-based revert after c2k9.

"you can commit that" kettenis@@

original diff oked by ariane@@, art@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.482 2009/11/14 16:55:11 damien Exp $
d814 1
@


1.482
log
@athn(4), a driver for Atheros 802.11a/g/n devices.
written from scratch based on the vendor driver for Linux (ath9k).
AR9285 and AR9287 parts are 100% untested.
only basic functionnalities are enabled for now.

committed over an AR9281.

"commit" deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.481 2009/11/09 03:16:07 deraadt Exp $
d1002 1
@


1.481
log
@vether(4) is a virtual ethernet device driver which can be used
so that a bridge-etherip-tunnel host can join into the bridge itself.
It is ridiculous that this capability was missing from our network
stack portfolio, considering we have bgp and ospf daemons...
discussed at length with claudio
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.480 2009/11/05 20:50:14 michele Exp $
d373 8
@


1.480
log
@IPv6 support for divert sockets.

tested by phessler@@ pyr@@
ok claudio@@
"go ahead" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.479 2009/10/08 20:35:44 matthieu Exp $
d510 1
d818 1
@


1.479
log
@Import EDID handling code from NetBSD. Ok deraadt@@, miod@@, mglocker@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.478 2009/10/04 16:08:37 michele Exp $
d1012 1
@


1.478
log
@Add (again) support for divert sockets. They allow you to:

- queue packets from pf(4) to a userspace application
- reinject packets from the application into the kernel stack.

The divert socket can be bound to a special "divert port" and will
receive every packet diverted to that port by pf(4).

The pf syntax is pretty simple, e.g.:

pass on em0 inet proto tcp from any to any port 80 divert-packet port 1

A lot of discussion have happened since my last commit that resulted
in many changes and improvements.
I would *really* like to thank everyone who took part in the discussion
especially canacar@@ who spotted out which are the limitations of this approach.

OpenBSD divert(4) is meant to be compatible with software running on
top of FreeBSD's divert sockets even though they are pretty different and will
become even more with time.

discusses with many, but mainly reyk@@ canacar@@ deraadt@@ dlg@@ claudio@@ beck@@
tested by reyk@@ and myself
ok reyk@@ claudio@@ beck@@
manpage help and ok by jmc@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.477 2009/10/03 19:51:53 kettenis Exp $
d111 6
@


1.477
log
@Driver for the SD/MMC part of the Winbond W83L518D/W83L519D Integrated Media
Reader.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.476 2009/09/08 17:52:17 michele Exp $
d834 1
@


1.476
log
@I had not enough oks to commit this diff.
Sorry.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.474 2009/09/02 18:20:54 thib Exp $
d436 5
@


1.475
log
@Add support for divert sockets. They allow you to:

- queue packets from pf(4) to a userspace application
- reinject packets from the application into the kernel stack.

The divert socket can be bound to a special "divert port" and will
receive every packet diverted to that port by pf(4).

The pf syntax is pretty simple, e.g.:

pass on em0 inet proto tcp from any to any port 80 divert-packet port 8000

test, bugfix and ok by reyk@@
manpage help and ok by jmc@@
no objections from many others.
@
text
@a828 1
file netinet/ip_divert.c		inet
@


1.474
log
@Backout the asyncio/aiod change, as it causes buf's to get hung.
problem noticed by deraadt@@

ok beck@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.472 2009/08/25 16:16:34 jsg Exp $
d829 1
@


1.473
log
@Split the ti(4) driver into mostly bus-agnostic code and PCI-specific
attachment.  Add SBus support to the bus-agnostic code.
@
text
@d910 1
a910 1
file nfs/nfs_aiod.c			nfsclient
@


1.472
log
@Remove support for packet mode of Metricom Ricochet radios.
It currently doesn't compile and this is unlikely to change
as there are many alternatives now since we no longer live
in the early 1990s and Metricom went bankrupt some time ago.

ok many @@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.471 2009/08/20 15:04:24 thib Exp $
d303 3
@


1.471
log
@Rework the way we do async I/O in nfs. Introduce separate buf queues for
each mount, and when work is "found", peg an aiod to that mount todo the
I/O. Make nfs_asyncio() a bit smarter when deciding when to do asyncio
and when to force it sync, this is done by keeping the aiod's one two lists,
an "idle" and an "all" list, so asyncio is only done when there are aiods
hanging around todo it for us or are already pegged to the mount.

Idea liked by at least beck@@ (and I think art@@).
Extensive testing done by myself and jasper and a few others on various
arch's.

Ideas/Code from Net/Free.

OK blambert@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.469 2009/08/09 12:47:23 dlg Exp $
a484 1
pseudo-device strip: ifnet
a781 1
file net/if_strip.c			strip			needs-count
d797 1
a797 1
file net/slcompress.c			sl | ppp | strip
@


1.470
log
@Introduce option DDB_STRUCT. Kernels compiled with this option (except on
a few arches where toolchain limitations apply) will embed some symbolic
information about the various structs used within the kernel, and have
new ddb commands allowing struct display and some useful information
gathering. Kernel rodata increase varies accross platforms from ~150KB to
~300KB.
This option is not enabled by default.
@
text
@d909 1
@


1.469
log
@add mpath(4), a driver that steals paths to scsi devices if it
thinks they could be available via multiple paths. those stolen
devices are then made available via mpath(4).

this is the minimum amount of code to implement the stealing. it
is generally broken and very brittle, so it is currently disabled.

it is going in so i can work on it in the tree.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.467 2009/06/17 01:30:30 thib Exp $
d548 1
d554 1
a560 1
file ddb/db_hangman.c			ddb
@


1.468
log
@Adding disabled framework for RAID6
ok marco@@
@
text
@d452 5
@


1.467
log
@Revert bufq's. this is inline with the major midlayer reverts that
have been going on. this appears to bring us back to stable state.

lots of testing by oga and ariane and my self.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.466 2009/06/16 16:42:41 ariane Exp $
d461 1
@


1.466
log
@Backout pmemrange (which to most people is more well known as physmem
allocator).

"i can't see any obvious problems" oga
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.455 2009/05/06 18:21:23 stevesk Exp $
a658 1
file kern/kern_bufq.c
@


1.465
log
@Backout all changes to uvm after pmemrange (which will be backed out
separately).

a change at or just before the hackathon has either exposed or added a
very very nasty memory corruption bug that is giving us hell right now.
So in the interest of kernel stability these diffs are being backed out
until such a time as that corruption bug has been found and squashed,
then the ones that are proven good may slowly return.

a quick hitlist of the main commits this backs out:

mine:
uvm_objwire
the lock change in uvm_swap.c
using trees for uvm objects instead of the hash
removing the pgo_releasepg callback.

art@@'s:
putting pmap_page_protect(VM_PROT_NONE) in uvm_pagedeactivate() since
all callers called that just prior anyway.

ok beck@@, ariane@@.

prompted by deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.464 2009/06/10 03:24:02 marco Exp $
a975 1
file uvm/uvm_pmemrange.c
@


1.464
log
@Add framework for raid 4 & 5 so that we can work in tree.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.463 2009/06/06 03:45:08 oga Exp $
a971 1
file uvm/uvm_object.c			!small_kernel
@


1.463
log
@Add uvm_objwire() and uvm_objunwire(), I need this for some of my crazy
shitz.

Code mostly from netbsd with some tweaks from me. The loaning case is
specifcically if 0ed out right now because we do not do loaning.

ok ariane@@, art@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.462 2009/06/06 03:20:58 deraadt Exp $
d458 1
@


1.462
log
@option X86EMU is how this subsystem is brought into a kernel
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.461 2009/06/06 00:49:08 deraadt Exp $
d971 1
@


1.461
log
@fix include paths
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.460 2009/06/06 00:35:00 pirofti Exp $
d1046 2
a1047 2
file dev/x86emu/x86emu.c		vga_post
file dev/x86emu/x86emu_util.c		vga_post
@


1.460
log
@Add vga bios repost support. Fetched from the NetBSD tree mostly.

Tested on multiple i386 and it works, amd64 works also with a few
exceptions that will get fixed.

The initial effort of importing was done by oga@@, thanks!

Lots of testing and debugging by mlarkin@@ and me.
Okay deraadt@@, oga@@, mlarkin@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.459 2009/06/04 22:08:52 chl Exp $
d1045 4
a1084 3
# libx86emu
file lib/libkern/x86emu.c !small_kernel
file lib/libkern/x86emu_util.c !small_kernel
@


1.459
log
@fix minor tab alignment

ok jj@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.458 2009/06/03 22:09:30 thib Exp $
d1081 3
@


1.458
log
@add a flexible buffer queue (bufq) api, based on the never used
one by tedu@@. It doesn't do anything smart yet, it just uses
plain old disksort. we also keep the old method of queueing bufs
since some miods have crazy MD drivers that need some love.

ok beck@@, art@@
tested by many on many archs.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.456 2009/06/01 17:42:33 ariane Exp $
d946 1
a946 1
file nnpfs/nnpfs_dev-bsd.c			nnpfs
d948 1
a948 1
file nnpfs/nnpfs_message.c			nnpfs
d950 2
a951 2
file nnpfs/nnpfs_node-bsd.c			nnpfs
file nnpfs/nnpfs_syscalls-common.c		nnpfs
d953 2
a954 2
file nnpfs/nnpfs_vfsops-common.c		nnpfs
file nnpfs/nnpfs_vfsops-openbsd.c		nnpfs
d956 2
a957 2
file nnpfs/nnpfs_vnodeops-common.c		nnpfs
file nnpfs/nnpfs_syscalls-dummy.c		!nnpfs
@


1.457
log
@Arla client rename from xfs to nnpfs for later upgrades. Tested on various arches. ok todd@@ beck@@
@
text
@d658 1
@


1.456
log
@physmem allocator: change the view of free memory from single free pages
to free ranges.
Classify memory based on region with associated use-counter (which is used
to construct a priority list of where to allocate memory).

Based on code from tedu@@, help from many.
Ok art@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.455 2009/05/06 18:21:23 stevesk Exp $
d943 14
a956 14
file xfs/xfs_common-bsd.c		xfs
file xfs/xfs_deb.c			xfs
file xfs/xfs_dev-bsd.c			xfs
file xfs/xfs_dev-common.c		xfs
file xfs/xfs_message.c			xfs
file xfs/xfs_node.c			xfs
file xfs/xfs_node-bsd.c			xfs
file xfs/xfs_syscalls-common.c		xfs
file xfs/xfs_vfsops-bsd.c		xfs
file xfs/xfs_vfsops-common.c		xfs
file xfs/xfs_vfsops-openbsd.c		xfs
file xfs/xfs_vnodeops-bsd.c		xfs
file xfs/xfs_vnodeops-common.c		xfs
file xfs/xfs_syscalls-dummy.c		!xfs
@


1.455
log
@endrun(4) - EndRun Technologies native time-of-day message timedelta
sensor.  Based on msts(4).  Tested with Praecis Ct
(http://www.endruntechnologies.com/network-time-source.htm).

help and feedback mbalmer
'no problem with this sensor going in' deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.454 2009/01/29 15:12:28 pyr Exp $
d974 1
@


1.454
log
@Split the address selection from pools away from pf.c and put it in
pf_lb.c. This will ease the process of adding more selection types
without bloatening pf.c even more.

ok and a weird death threat, henning@@
raised eyebrow, dlg@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.453 2009/01/18 13:36:56 thib Exp $
d471 1
d713 1
@


1.453
log
@Add nfs ddb hooks, for now only to show all the outstanding nfsreq's
and to print out struct nfsreq.

"get it in so people can pound on it" blambert@@
OK and information_s_ on the manpage from miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.452 2008/12/21 21:37:43 miod Exp $
d504 1
@


1.452
log
@vfs_syscalls_35 is required if option COMPAT_35
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.451 2008/12/12 12:23:36 michele Exp $
d900 1
@


1.451
log
@Add netmpls/mpls_output.c

ok claudio@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.450 2008/12/03 23:39:32 dlg Exp $
d1025 2
a1026 2
file compat/common/vfs_syscalls_35.c	!small_kernel &
	(compat_freebsd | compat_bsdos | compat_sunos | compat_hpux)
@


1.450
log
@add vscsi(4), a virtual scsi controller that passes all scsi requests up to
userland for handling. this is to scsi what tun(4) is for networks.

this is going into the tree so i can work on some crazy scsi stuff, but its
not being enabled since it is useless unless you're working on some crazy
scsi stuff.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.449 2008/11/24 04:46:59 tedu Exp $
d890 1
@


1.449
log
@marco reminds me that these files changed too
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.448 2008/11/23 17:58:58 deraadt Exp $
d446 5
@


1.448
log
@pccom can finally die; ok kettenis dlg drahn, tested by okan
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.447 2008/11/22 21:26:48 oga Exp $
d454 1
d789 1
@


1.447
log
@Move the drm drivers over from:

vga1 at pci0
inteldrm0 at vga1

to

vga1 at pci0
inteldrm0 at vga1
drm0 at inteldrm0

i.e. a similar scheme to audio(4) where the interface attaches on top of
the wildly different drivers. This helps to clean up the code a lot
(more is coming) and help me start to move drm to being essentially bus
independent, which will help in the future.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.446 2008/11/17 00:18:13 krw Exp $
a305 1
device	pccom: tty			# XXX
a307 1
file	dev/ic/com_subr.c		com | pccom
@


1.446
log
@Use new isp_library.c rather than isp_inline.h. No functional change.

Tested by naddy@@. 'go for it' marco@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.445 2008/11/09 15:11:19 oga Exp $
d104 1
a104 1
define drm {}
d108 1
a108 1
device	vga: wsemuldisplaydev, pcdisplayops, drm, agpint
@


1.445
log
@Rework that way that agp attaches.

previously, we had a static list of pcidevs and which agp driver would
be interanlly attached. Instead, split the agp drivers so they work like
audio(4), where we attach a driver, which sets up some callbacks and
initial state, then attaches the interface (agp(4)). Since this allows
us to attach different drivers in different places, and give them
/proper/ probe functions move most of the drivers back to attaching at
pchb, where they should, and intagp (formerly agp_i810) stays attaching
at vga, since it's part of the intel integrated graphics chips.

Diff shrinks the kernel slightly, gets rid of the annoying "no integrated
graphics" warning, and allows more cleanup later.

Tested by many. fix for alpha build (the only other vga_pci.c consumer)
suggested by miod.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.444 2008/10/15 23:23:51 deraadt Exp $
d193 1
@


1.444
log
@make random(9) return per-cpu values (by saving the seed in the cpuinfo),
which are uniform for the profclock on each cpu in a SMP system (but using
a different seed for each cpu).  on all cpus, avoid seeding with a value out
of the [0, 2^31-1] range (since that is not stable)
ok kettenis drahn
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.443 2008/10/10 20:21:40 deraadt Exp $
d100 2
a101 3
# AGP
define agpbus {}
include "dev/pci/files.agp"
d108 1
a108 1
device	vga: wsemuldisplaydev, pcdisplayops, drm, agpbus
d417 1
@


1.443
log
@Use the MI random() for all cases; no need for a MD version since it
has never been performance sensitive.
Running on all platforms, discussed with millert and kettenis, ok toby
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.442 2008/09/09 13:56:39 henning Exp $
a1035 1
file lib/libkern/srandom.c
@


1.442
log
@welcome pflow(4), a netflow v5 compatible flow export interface.
flows export data gathered from pf states.
initial implementation by Joerg Goltermann <jg@@osn.de>, guidance and many
changes by me. 'put it in' theo
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.441 2008/08/15 19:42:03 miod Exp $
d1035 2
a1036 2
file lib/libkern/arch/${MACHINE_ARCH}/random.S | lib/libkern/random.c
file lib/libkern/arch/${MACHINE_ARCH}/srandom.S | lib/libkern/srandom.c
@


1.441
log
@hmac.c is needed by softraid crypto now, even on non-wlan machines.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.440 2008/08/12 16:51:39 damien Exp $
d503 3
@


1.440
log
@Welcome BIP: the Broadcast/Multicast Integrity Protocol defined
in Draft IEEE P802.11w.
It provides data integrity and replay protection for broadcast/
multicast robust management frames (not used yet) using AES-128
in CMAC mode.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.439 2008/08/12 15:43:00 damien Exp $
d852 1
a852 1
file crypto/hmac.c			wlan
@


1.439
log
@Implementation of the HMAC-MD5, HMAC-SHA1, HMAC-SHA256, AES-128-CMAC
and AES Key Wrap algorithms.
They will replace/extend the non-generic implementation in net80211.

AES-128-CMAC tested by sobrado@@ (AlphaServer 1200),
naddy@@ (alpha/sparc64) and sthen@@ (sparc64, armish).
HMAC-* reviewed by hshoexer@@

ok and hints from djm@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.438 2008/07/21 19:05:21 damien Exp $
d789 1
@


1.438
log
@move processing of EAPOL frames away from ieee80211_{input,output}.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.437 2008/07/08 05:22:00 dlg Exp $
d835 1
a835 1
file crypto/sha2.c			(inet & ipsec) | crypto
d850 3
@


1.437
log
@vmt(4) is a kernel level implementation of the vmware tools.

it only provides the hosts machines clock as a timedelta sensor so far.

getting it into the tree so people can work on it as suggested by fgsch@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.435 2008/06/12 06:58:38 deraadt Exp $
d796 2
@


1.436
log
@Add 802.3ad LACP support for trunk(4).
Implementation from NetBSD. Ported via FreeBSD's version in trunk^Wlagg(4).
This is still work in progress.  Tested with a HP ProCurve 3500.
OK reyk@@
@
text
@d444 4
@


1.435
log
@Bring biomem diff back into the tree after the nfs_bio.c fix went in.
ok thib beck art
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.433 2008/06/10 20:14:36 beck Exp $
d780 1
@


1.434
log
@back out biomem diff since it is not right yet.  Doing very large
file copies to nfsv2 causes the system to eventually peg the console.
On the console ^T indicates that the load is increasing rapidly, ddb
indicates many calls to getbuf, there is some very slow nfs traffic
making none (or extremely slow) progress.  Eventually some machines
seize up entirely.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.432 2008/06/09 22:47:41 djm Exp $
d710 1
@


1.433
log
@
Buffer cache revamp

1) remove multiple size queues, introduced as a stopgap.
2) decouple pages containing data from their mappings
3) only keep buffers mapped when they actually have to be mapped
  (right now, this is when buffers are B_BUSY)
4) New functions to make a buffer busy, and release the busy flag
   (buf_acquire and buf_release)
5) Move high/low water marks and statistics counters into a structure
6) Add a sysctl to retrieve buffer cache statistics

Tested in several variants and beat upon by bob and art for a year. run
accidentally on henning's nfs server for a few months...

ok deraadt@@, krw@@, art@@ - who promises to be around to deal with any fallout
@
text
@a709 1
file kern/vfs_biomem.c
@


1.432
log
@Introduce a facility to generate unpredictable 32 bit numbers with
near maximal (2^32) cycle times. These are useful for network
IDs in cases where there are negative consequences to ID prediction
and/or reuse.

Use the idgen32() functions to generate IPv6 IDs and NFS client/server
XIDs.

Pseudorandom permutation code in crypto/idgen.c based on public
domain skip32.c from Greg Rose.

feedback & ok thib@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.431 2008/05/06 13:33:50 pyr Exp $
d710 1
@


1.431
log
@bring in the mpe interface - for ``MPLS Provider Edge'' - this is a work
in progress and some bits need to be cleaned up but will be in-tree for
convenience.

ok claudio@@, norby@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.430 2008/04/23 13:28:58 jsg Exp $
d842 1
@


1.430
log
@Remove driver for pre 802.11 RangeLAN2 wireless devices.
It doesn't compile, was never finished, is now irrelevant, and miod
has taken it apon himself to scare good boys and girls by suggesting
they read the code.

ok dlg@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.429 2008/04/23 10:55:13 norby Exp $
d479 1
d779 1
@


1.429
log
@Import MPLS (Multi Protocol Label Switching)

MPLS support partly based on the (abandoned?) AYAME project.
Basic LSR (Label Switch Router) functionality is present, but not fully
functional yet.

It is currently possible to insert entries in the LIB (Label Information Base)
with route(8), but setting the operation type is not supported yet.

Imported to allow more people to work on this in the coming weeks.

ok claudio@@ laurent@@ dlg@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.428 2008/04/16 18:32:14 damien Exp $
a247 5

# RangeLAN2
device	rln: ether, ifnet
file	dev/ic/rln.c			rln
file	dev/ic/rlnsubr.c		rln
@


1.428
log
@Kernel implementation of the 4-way handshake and group-key
handshake protocols (both supplicant and authenticator state
machines) as defined in the IEEE 802.11i standard.

Software implementation of the TKIP (Temporal Key Integrity
Protocol) and CCMP (CTR with CBC-MAC Protocol) protocols.

This diff doesn't implement any of the 802.1X authentication
protocols and thus only PSK authentication (using pre-shared
keys) is currently supported.

In concrete terms, this adds support for WPA-PSK and WPA2-PSK
protocols, both in station and hostap modes.

The following drivers are marked as WPA-capable and should
work:  bwi(4), malo(4), ral(4), iwn(4), wpi(4), ural(4),
rum(4), upgt(4), and zyd(4)

The following options have been added to ifconfig(8):
wpa, wpapsk, wpaprotos, wpaakms, wpaciphers, wpagroupcipher

wpa-psk(8) can be used to generate keys from passphrases.

tested by many@@
ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.427 2008/04/09 19:49:55 robert Exp $
d870 4
@


1.427
log
@Initial import for uvideo(4) and video(4):

uvideo(4) is a driver for USB video device class devices including webcams,
camcorders and other cameras.

video(4) is a device-independent layer that implements the V4L2 (Video for Linux Two)
API.

These drivers are *really* work in progress so don't even try to use them just yet,
because the driver still has some issues, even if it can be used to capture simple
MJPEG videos.

ok mglocker@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.426 2008/03/16 19:42:57 otto Exp $
d786 3
@


1.426
log
@Widen some struct statfs fields to support large filesystem stata
and add some to be able to support statvfs(2). Do the compat dance
to provide backward compatibility.  ok thib@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.425 2008/03/16 19:00:28 oga Exp $
d23 1
d38 3
d626 1
@


1.425
log
@Make agp(4) attach at vga(4) instead of pchb(4). This is because sometimes
agp and drm need to use the same memory mapping, the best way to deal
with that is to allow them to share (that's coming later), for this to
work cleanly we move the attach point of agp.

Ideally most agp drivers would attach at pchb, with only agp_i810
(and any that work similarly) attaching at vga, but this will do for
now.

ok kettenis@@, miod@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.424 2008/01/21 20:00:32 sobrado Exp $
d995 1
@


1.424
log
@use the right capitalization for `QLogic'

ok jsing@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.423 2008/01/19 23:53:53 marco Exp $
d96 4
d105 1
a105 1
device	vga: wsemuldisplaydev, pcdisplayops, drm
@


1.423
log
@Add initial scaffold for RAID 0.  No IO just yet.

Much prodding todd
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.422 2008/01/05 17:33:28 mbalmer Exp $
d182 1
a182 1
# Qlogic ISP 10x0 SCSI Controllers
@


1.422
log
@Add support for the Meinberg Standard Time String format that all Meinberg
radio clocks can transmit over serial ports.  This is implemented as a
line discipline similar to nmea(4) and provides a timedelta sensor.

See http://www.meinberg.de/english/specs/timestr.htm for details on the
MSTS format.

ldattach(8) is extended to support the "msts" line discipline and two stopbits
(which some radio clocks, e.g. the C51 use).  Do a "make includes" before your
next system build.

Initially from Maurice Janssen based on nmea(4).  "go for it" deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.421 2007/11/28 23:37:34 oga Exp $
d445 1
@


1.421
log
@Initial import of the DRM (direct rendering manager).

This is the kernel part necessary for DRI support in X. Disabled for now
because it still has a few bugs, but now I can work on it in tree. Also
requires the requisite bits in X, which are currently under discussion
on how to deal with them with privsep. ported from a combination of the
free and netbsd implementations.

Known bugs:
1) only the first occurence of X in any session will have dri, after
that something prevents it working.
2) if the machine does not have a dri capable card, the kernel panics.
Something's up in one of the probe functions. I haven't been able to
find it though.
3) radeon cards need to be forced to use PCI mode otherwise they get
into an infinite loop.

This is known to at least kinda work with SiS, radeons in pci mode and
intel cards.

ok deraadt, kinda ok art, a few other people had a quick look.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.420 2007/11/27 17:21:52 tedu Exp $
d457 2
d692 1
@


1.420
log
@also move softraid raid1 into own file, ok marco
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.419 2007/11/27 16:37:05 tedu Exp $
d96 4
d101 1
a101 1
device	vga: wsemuldisplaydev, pcdisplayops
@


1.419
log
@split crypto functions out into their own file, so softraid.c is not such
a jungle.  ok deraadt marco
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.418 2007/11/25 18:25:33 deraadt Exp $
d441 2
a442 1
file	dev/softraid_crypto.c			softraid & crypto
@


1.418
log
@libkern, begone.  Move to a new mechanism where config(8)'s "file"
directive can select between MI and MD versions of these files.  At
the same time, adjust the boot programs to pick exactly what they need,
instead of the 7 or 8 mechanisms previously used.

There will be some fallout from this, but testing it all by myself is a
ridiculously slow process; it will be finished in-tree.

Various developers were very nice and avoided making fun of me when I
was gibbering in the corner..
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.417 2007/11/25 15:36:27 deraadt Exp $
d441 1
@


1.417
log
@unbreak compat_osf1; spotted by mk
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.416 2007/11/25 11:23:33 deraadt Exp $
d991 38
@


1.416
log
@Get rid of the kernel 'libcompat' framework, and instead use conf/files to
decide which files must be pulled into the kernel.  Also conditionalize
the pulling of those files based on the COMPAT_* options.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.415 2007/11/23 10:25:15 deraadt Exp $
d973 2
a974 1
	(compat_freebsd | compat_ibcs2 | compat_sunos | compat_hpux | compat_linux)
@


1.415
log
@move nmea stuff to same place other line discs go
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.414 2007/11/15 21:15:34 damien Exp $
d965 25
@


1.414
log
@New driver for Ralink RT2860 chipset.
Attaches as 'ral' as it shares the PCI and CardBus frontends with
RT2560 and RT2661 though it is actually a separate driver.

Requires a firmware that can't be redistributed with the base system
due to license restrictions (exact same license as iwn(4) firmware).

The 802.11n capabilities not yet supported (except MIMO).
Great thanks to Sam Fourman Jr for donating hardware.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.413 2007/10/18 17:39:54 miod Exp $
d450 1
a450 1

d683 1
a964 4

# NMEA0183 support
pseudo-device nmea: tty
file	kern/tty_nmea.c			nmea needs-flag
@


1.413
log
@Define a new attribute, pckbcslot, which pckbc and gsckbc provide, and to
which pckbd and pms attach. This makes it simpler to add new controllers
pckbd/pms can attach to.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.412 2007/10/15 01:22:20 deraadt Exp $
d372 1
@


1.412
log
@the new dev/rnd.c uses the shared arc4 code instead of implimenting it by
itself, and thus demands the unconditional inclusion of crypto/arc4.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.411 2007/10/10 15:53:53 art Exp $
d305 2
a306 1
device	pckbc {[slot = -1]}
a307 3

# HPPA PS/2 input ports (forward definition)
device	gsckbc {[slot = -1]}
@


1.411
log
@Make context switching much more MI:
 - Move the functionality of choosing a process from cpu_switch into
   a much simpler function: cpu_switchto. Instead of having the locore
   code walk the run queues, let the MI code choose the process we
   want to run and only implement the context switching itself in MD
   code.
 - Let MD context switching run without worrying about spls or locks.
 - Instead of having the idle loop implemented with special contexts
   in MD code, implement one idle proc for each cpu. make the idle
   loop MI with MD hooks.
 - Change the proc lists from the old style vax queues to TAILQs.
 - Change the sleep queue from vax queues to TAILQs. This makes
   wakeup() go from O(n^2) to O(n)

there will be some MD fallout, but it will be fixed shortly.
There's also a few cleanups to be done after this.

deraadt@@, kettenis@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.410 2007/09/12 12:59:55 mglocker Exp $
d821 1
a821 1
file crypto/arc4.c			wi | wlan
@


1.410
log
@PCI and Cardbus hookup for the Broadcom AirForce devices.

OK jsg@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.409 2007/07/18 18:17:09 damien Exp $
d648 1
@


1.409
log
@net80211 requires AES too.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.408 2007/07/06 01:23:25 deraadt Exp $
d392 4
@


1.408
log
@sha1 is needed by wlan now, too
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.407 2007/06/05 08:08:47 henning Exp $
d799 1
a799 1
file crypto/rijndael.c			(inet & ipsec) | crypto | uvm_swap_encrypt
@


1.407
log
@IPX is about to go away, remove commented out IPX options in GENERIC and
ipx related files (doesn't compile anyway)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.406 2007/06/01 05:37:14 deraadt Exp $
d802 1
a802 1
file crypto/sha1.c			(inet & ipsec) | crypto | carp
@


1.406
log
@remove crufty adosfs.  everytime we try to change a vfs layer interface,
adosfs has the issue and in an entirely different way.  noone uses this
code so this is hte best way to handle the problem
diff from pedro who went to sleep but we need to move ahead; ok thib
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.405 2007/06/01 02:46:11 uwe Exp $
a845 11
file netipx/ipx.c			ipx
file netipx/ipx_input.c			ipx
file netipx/ipx_ip.c			ipx
file netipx/ipx_outputfl.c		ipx
file netipx/ipx_pcb.c			ipx
file netipx/ipx_proto.c			ipx
file netipx/ipx_tun.c			ipx
file netipx/ipx_usrreq.c		ipx
file netipx/ipx_cksum.c			ipx
file netipx/spx_debug.c			ipx
file netipx/spx_usrreq.c		ipx
@


1.405
log
@complete the sys/netbt import and adopt some more code to our interfaces
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.404 2007/05/31 18:16:59 dlg Exp $
a495 4
file adosfs/adlookup.c			adosfs
file adosfs/adutil.c			adosfs
file adosfs/advfsops.c			adosfs
file adosfs/advnops.c			adosfs
@


1.404
log
@add an interface for work queues run from a kernel thread.

this type of code is implemented many times already in the kernel, this is
a generic version of all those replicated code bases.

originally from tedu@@
ok tedu@@ tom@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.403 2007/05/30 08:10:02 uwe Exp $
d831 1
d839 8
@


1.403
log
@Unbreak the tree for gwk
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.402 2007/05/30 04:35:10 uwe Exp $
d657 1
@


1.402
log
@Unbreak the tree - forgot a needs-flag; discovered by gwk
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.401 2007/05/30 03:42:53 uwe Exp $
d827 3
a829 1
file netbt/hci_event.c			bluetooth		needs-flag
@


1.401
log
@Import parts of the NetBSD bluetooth stack; ok gwk, and grange on removal
of the existing code
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.400 2007/05/29 18:21:19 claudio Exp $
d827 1
a827 3
#file netbt/bt_input.c			bluetooth		needs-flag
#file netbt/bt_proto.c			bluetooth
file netbt/hci_event.c			bluetooth
@


1.400
log
@Move tokenring support to the attic where it can join the cards that where
decomissioned aeon ago. We will not miss it at all.
OK dlg@@ henning@@ and a lot of cheers by other in the room
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.399 2007/05/15 15:23:36 art Exp $
d407 1
d827 10
a836 3
file netbt/bt_input.c			bluetooth		needs-flag
file netbt/bt_proto.c			bluetooth
file netbt/hci_raw.c			bluetooth
@


1.399
log
@Remove the MI implementation of mutexes and remove the __HAVE_MUTEX
option. Every architecture implements mutexes now.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.398 2007/05/15 01:00:15 dlg Exp $
a62 1
define	token
a296 4
# TROPIC Token-Ring controller
device	tr: ether, token, ifnet
file	dev/ic/tropic.c			tr

d735 1
a735 1
file net/if_ethersubr.c			ether | inet | fddi | token needs-flag
a746 1
file net/if_tokensubr.c			token			needs-flag
@


1.398
log
@start work on a driver for emulex fibre channel controllers.

it is split up into a bus independant chunk (dev/ic/sli*) and the attach
glue (dev/pci/sli_pci.c) cos there are sbus varaints of this chip which i
hope to get my hands on one day.

this does nothing except attach to the LP8000 controllers.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.397 2007/04/05 16:25:25 mglocker Exp $
a668 1
file kern/subr_mutex.c
@


1.397
log
@After been attacked by Michael Buesch <mb@@bu3sch.de> because we initially
were using some of their routines in the bcw driver, I decided to stop
working on it.  To avoid any further license chit chat I plain drop the
driver.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.396 2007/03/22 02:48:42 dlg Exp $
d187 4
@


1.396
log
@import sili(4) so it can be worked on in the tree. this will support the
silicon image 3124/3132/3531 sata chipsets eventually.

so far this is the autoconf glue, an actual match routine for the 3124, and
interrupt establishment code. it is split up between pci and ic cos there
are cardbus variants of these controllers that we can support in the
future.

thanks to jolan@@ for the name, it was better liked than my initial
suggestion of siisl(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.394 2007/03/19 03:02:09 marco Exp $
a392 4

# Broadcom BCM43xx
device	bcw: ether, ifnet, ifmedia, wlan
file	dev/ic/bcw.c			bcw
@


1.395
log
@attach softraid to the root of the device tree in a machine independant
way, rather than requiring some glue in each machines mainbus probe.

it is still commented out.

based on a discussion with miod@@ ok marco@@ deraadt@@
@
text
@d188 4
@


1.394
log
@Add a new device that provides a framework for IO manipulation.  A very basic
implementation of a RAID 1 is included in this but it does not deal with
failures yet.  Disabled in GENERIC.

Suggestions from and ok beck@@ miod@@ krw@@ dlg@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.393 2007/02/19 11:44:24 dlg Exp $
d434 3
a436 1
device softraid: scsi
@


1.393
log
@pull in atascsi, a scsi to ata translation layer, so i can work on it in
tree. ive lost two large changes today thanks to my own stupidity which
could have been avoided if they were in the tree.

discussed with deraadt@@

ok jsg@@ grange@@ an older version was ok marco@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.391 2006/12/02 15:55:18 miod Exp $
d434 3
a489 1

@


1.392
log
@replace Adaptec AIC-6915 Starfire driver with the fully bus_dma(9)-able
driver from NetBSD

ok brad@@ reyk@@

additional testing Nick Nauwelaerts
@
text
@d14 1
@


1.391
log
@On frame buffers which endianness differs from the host CPU, we can not afford
using ovbcopy() in the erasecols emulop, as the ovbcopy implementation might
do larger-than-byte loads and store, which will not have the expected result
if the source and destination addresses are not similarly aligned.

Instead, roll our own byte-only ovbcopy() in this case. This is made dependent
on a config(8) attribute to avoid bloating platforms which do not need this,
thus frame buffers which may set RI_BSWAP in ri_flg need to depend on this
attribute.

Problem spotted by matthieu@@ using tcsh on sparc64 console.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.390 2006/11/25 18:10:29 uwe Exp $
d380 4
@


1.390
log
@
Initial USB device controller (UDC) and USB CDC Ethernet function support
for PXA27x/Zaurus, not enabled yet; for dlg and dale :)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.389 2006/11/25 14:31:59 uwe Exp $
d51 1
@


1.389
log
@Initial NAND flash support for Zaurus, not enabled yet; prodded by many.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.388 2006/11/17 18:58:30 mglocker Exp $
d397 1
@


1.388
log
@This is a very initial import for a driver which supports the IEEE 802.11
Broadcom BCM43xx chipset.  Device attaches, but has no further
functionality yet.

The work has been done by Jon Simola <jsimola@@gmail.com>, based on the
existing bce(4) code.  He will continue to work on the driver and try
to make further progress.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.387 2006/10/27 18:26:11 deraadt Exp $
d521 1
@


1.387
log
@mcbride forgot to pull in the newly created pf_ruleset.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.386 2006/10/15 19:55:47 claudio Exp $
d383 4
@


1.386
log
@First stubs for a new driver for the Marvell Libertas chips.
The card correctly loads the firmware and it is possible to send a few
simple commands to the card but that's it. No packet are sent or received.
Only the Netgear WG511v2 cardbus card is tested.
A cheese fondue and a bigger amount of white wine was needed to make the
interrupts work -- until last night the driver was uploading the firmware
to fast and the card garbled the image without moaning. It took us a full
day and hundreds of test kernels to figure that out.
Joint work with mglocker@@, fondue by mbalmer@@
OK mglocker@@, get it in deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.385 2006/08/22 18:12:13 mglocker Exp $
d458 1
@


1.385
log
@Very initial import to support the PrismGT chipset (FullMAC for now).

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.384 2006/08/06 13:06:58 miod Exp $
d379 4
@


1.384
log
@Time for rcons code to retire.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.383 2006/08/03 16:13:24 mbalmer Exp $
d375 4
@


1.383
log
@Remove the tb(4) line discipline and manual page.  I found no man pages
referencing tb(4).

ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.382 2006/08/03 08:45:01 mglocker Exp $
a80 1
define	wsrasteremulops
@


1.382
log
@Inital import for the acx(4) driver.

ok deraadt@@ jsg@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.381 2006/07/19 18:38:42 grunk Exp $
a423 1
pseudo-device tb: tty
a659 1
file kern/tty_tb.c			tb			needs-count
@


1.381
log
@make kernels w/o PTRACE compile again.

help from mickey@@, "commit it" miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.380 2006/07/18 11:52:12 dlg Exp $
d370 6
@


1.380
log
@get rid of arc network support. we have no users of it so this is dead
code. however, it is still cluttering up the kernel namespace a bit. it is
better gone.

ok claudio@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.379 2006/06/29 22:14:41 dlg Exp $
d644 1
a644 1
file kern/sys_process.c			ptrace
@


1.379
log
@remove mpt. it has since been replaced with mpi, which is a smaller and
cleaner driver that supports more hardware.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.378 2006/06/19 15:13:35 deraadt Exp $
d53 1
a53 1
# net device attributes - we have generic code for arc(net), ether(net),
a54 1
define	arc
a707 1
file net/if_arcsubr.c			arc			needs-flag
@


1.378
log
@move clock_subr.c to a better place, and now it is always in the kernel
so that things can use it; tested on all architectures; ok kettenis
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.377 2006/06/17 19:07:19 damien Exp $
a182 7

# LSILogic Fusion-MPT I/O Processor SCSI/FC Controllers
#
device	mpt: scsi
file	dev/ic/mpt.c			mpt
file	dev/ic/mpt_debug.c		mpt
file	dev/ic/mpt_openbsd.c		mpt
@


1.377
log
@Move AMRR rate control algorithm out of wpi(4) and ural(4), into net80211.

ok brad@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.376 2006/06/02 20:25:09 pedro Exp $
d599 1
@


1.376
log
@Add a clonable devices implementation. Hacked along with thib@@, input
from krw@@ and toby@@, subliminal prodding from dlg@@, okay deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.375 2006/06/01 20:10:28 mbalmer Exp $
d745 1
@


1.375
log
@Add basic NMEA0183 support as a tty line discipline.  The line discipline
decodes NMEA messages completely transparent to userland applications, i.e.
userland can still use the NMEA stream and talk to the device.  If data
is received, a timedelta sensor suitable for ntpd is created.  The timestamp
is not very precise at the moment, use of this is experimental at best.

"get it in or we see how well the swiss people can swim" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.374 2006/05/28 17:21:14 uwe Exp $
d699 1
@


1.374
log
@Support for standard SD host controllers like the Ricoh 5C822, a small
generic bus layer, and SCSI emulation for SD/MMC memory cards.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.373 2006/05/27 23:40:27 claudio Exp $
d938 4
@


1.373
log
@Do the same thing as for IPv4. Use a sysctl to enable/disable mfrowarding
and additionaly make the code part of the MROUTING option. Put it in deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.372 2006/05/27 19:03:55 dlg Exp $
d391 1
d404 4
@


1.372
log
@add mpi(4), an alternative (replacement) driver for lsi logic fusion mpt
controllers currently supported by mpt(4).

ok marco@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.371 2006/05/27 14:18:01 miod Exp $
d918 1
a918 1
file netinet6/ip6_mroute.c		inet6
@


1.371
log
@Make NCOM_{CARDBUS,GSC,ISAPNP} defined again in com.h, as there is code
relying upon them.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.370 2006/04/28 08:34:31 pedro Exp $
d190 4
@


1.370
log
@Instrumentation for an in-kernel getcwd() implementation.
Not yet activated. Diff by marius@@ long ago, from NetBSD.
Okay miod@@ and krw@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.369 2006/04/06 20:25:14 marco Exp $
d300 2
a301 1
file	dev/ic/com.c			com needs-flag
@


1.369
log
@Hook up mfi, remains disabled.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.368 2006/03/21 18:40:54 reyk Exp $
d674 1
@


1.368
log
@Implementation of the Michael MIC as defined in IEEE 802.11i for TKIP.
The MIC generates a weak 64bit digest protected by an additional key.
Obviously, this digest alg is required for future IEEE 802.11i/WPA
support.

test vectors passed on alpha amd64 mvme68k mvme88k sgi sparc sparc64 vax i386

ok djm@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.367 2006/03/12 00:18:07 brad Exp $
d174 4
@


1.367
log
@remove BPF filter support if the bpfilter device is removed.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.366 2006/03/04 16:27:02 grange Exp $
d785 1
@


1.366
log
@Dallas 1-Wire bus support. Includes the following drivers:

gpioow(4)	1-Wire bus bit-banging through GPIO pin
onewire(4)	1-Wire bus driver
owid(4)		1-Wire ID family type device
owtemp(4)	1-Wire temperature family type device

Drivers for RS-232 and USB bus masters will follow.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.365 2006/02/01 11:03:33 dlg Exp $
d697 1
a697 1
file net/bpf_filter.c			bpfilter | ppp
@


1.365
log
@a driver for the phillips pcf8584 i2c controller as found on the sun netra
t1 105.

tested by henning@@ djm@@
ok kettenis@@ put it in deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.364 2006/01/29 17:29:29 marco Exp $
d21 1
d113 3
@


1.364
log
@Disable iic whenever ipmi is enabled.  This fixes boxes like Sun x4200 that
freak out when more than one device driver touch the i2c devices.
Reported by: Srebrenko Sehic <ssehic at gmail dot com>

ok kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.363 2006/01/23 14:42:54 martin Exp $
d301 4
@


1.363
log
@update sm(4) from NetBSD, including support for more models and MII;
also activate ISA attachment;

ok brad@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.362 2006/01/14 19:04:14 miod Exp $
d391 4
@


1.362
log
@Better UDF name extraction code, which will not forget to report errors in
some cases; also silence a few udf messages unless option DIAGNOSTIC.

Tests and tweaks and ok pedro@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.361 2006/01/14 15:14:32 kettenis Exp $
d259 1
a259 1
device	sm: ether, ifnet, ifmedia
@


1.361
log
@Rename nslm7x.c into lm78.c and nslm7xvar.h into lm78var.h, and clean up
lm78var.h.
Now that I've completely rewritten the driver, replace copyright with my own.
suggested by deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.360 2006/01/09 21:19:48 jsg Exp $
d570 1
a570 1
file isofs/udf/osta.c			udf
@


1.360
log
@Move an(4) to a driver based on the NetBSD one.
This brings net80211 support and support for newer hardware.
In addition ancontrol is no longer needed.

This driver does not yet work on big endian archs like the previous
one did.

"do it" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.359 2006/01/09 20:03:28 damien Exp $
d334 1
a334 1
# National Semiconductor LM7[89] and compatible hardware monitors
d336 1
a336 1
file	dev/ic/nslm7x.c			lm
@


1.359
log
@- add preliminary support for Ralink Technology RT2561, RT2561S and RT2661
  chipsets in ral(4).
- restructure the code a bit; split ic/ral.c into ic/rt2560.c and ic/rt2661.c
- import the 8051 microcode files required by these chipsets.
- more to come;  there is currently no automatic rate control and some
  features are untested (hostap and ibss modes for instance).  most of
  the pre-802.11n capabilities of the RT2661 chipset are not supported
  (like frame aggregation, piggy-back).  MIMO should work though the
  performance/range gain has not been measured.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.358 2006/01/02 19:49:23 miod Exp $
d222 1
a222 1
device	an: ether, ifnet, ifmedia
@


1.358
log
@Remove orphaned i2c_bitbang code, as well as i2c_bitbang and i2cexec
attributes.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.357 2005/12/11 21:30:30 miod Exp $
d357 4
a360 3
# Ralink RT2500 802.11
device	ral: ether, ifnet, ifmedia, wlan
file	dev/ic/ral.c			ral
@


1.357
log
@Replace procfs_domem() with a similar interface, process_domem(), which lives
out of procfs and gets a ptrace request PT_{READ,WRITE}_{I,D} as argument;
also procfs_checkioperm() becomes process_checkioperm().

From art@@ some time ago; ok kettenis@@ pedro@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.356 2005/12/06 20:18:57 pedro Exp $
a81 4

# i2c device attributes
define	i2cexec
define	i2c_bitbang
@


1.356
log
@Remove fdescfs
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.355 2005/11/24 12:08:16 pedro Exp $
a668 1
file miscfs/procfs/procfs_mem.c
@


1.355
log
@Remove kernfs, okay deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.354 2005/11/10 08:10:16 dlg Exp $
a662 2
file miscfs/fdesc/fdesc_vfsops.c	fdesc
file miscfs/fdesc/fdesc_vnops.c		fdesc
@


1.354
log
@split the sensors stuff out into a source file of its own.

tested on GENERIC and RAMDISK_CD to see if the small_kernel stuff stays
happy
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.353 2005/11/01 03:10:21 jsg Exp $
a665 2
file miscfs/kernfs/kernfs_vfsops.c	kernfs
file miscfs/kernfs/kernfs_vnops.c	kernfs
@


1.353
log
@Remove the call to ieee80211_ifattach() for the moment as it
makes wi prematurely depend on net80211 code which bloats the
ramdisks.

ok dlg@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.352 2005/10/31 19:35:14 deraadt Exp $
d603 1
@


1.352
log
@jsg forgot to specify that wi(4) now needs wlan option; ok miod
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.351 2005/09/26 22:32:05 miod Exp $
d221 1
a221 1
device	wi: ether, ifnet, ifmedia, wlan
@


1.351
log
@Share com probe code between com and pccom; allows us to get rid of awkward
code duplication in cardbus, pcmcia and puc attachments.

Joint effort with fgs@@; blessed deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.350 2005/09/15 20:23:10 miod Exp $
d221 1
a221 1
device	wi: ether, ifnet, ifmedia
@


1.350
log
@Stop compiling the texte console rotation code #ifdef __zaurus__, but use
a flag in the rasops_info structure; drivers which may use it shall declare
a specific attribute for the config(8) machinery, so that the necessary code
is compiled in.

In addition to this, rotated font computation is now done on-demand, and a
list of unrotated-rotated font cookie pairs is kept, rather than rotating all
built-in wsfonts at initialization time.

No user-perceptible functional change.

Tested matthieu@@ uwe@@, ok uwe@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.349 2005/09/08 09:11:07 jsg Exp $
d295 1
d297 1
@


1.349
log
@Remove FreeBSD if_printf compat function from net80211.
ok reyk@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.348 2005/07/17 12:21:28 miod Exp $
d50 1
@


1.348
log
@Attach com(4) to the built-in modem found on Tadpole SPARCbooks.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.347 2005/07/06 01:52:13 mickey Exp $
a720 1
file net80211/ieee80211_compat.c	wlan
@


1.347
log
@smartarray 5* raid controller; does io but needs more work; commented out in configs for now
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.346 2005/07/03 20:13:59 drahn Exp $
d294 1
a294 5
file	dev/ic/com.c			com & (com_isa | com_isapnp |
					       com_commulti | com_pcmcia |
					       com_localbus | com_gsc |
					       com_puc | com_ebus | com_pxaip |
					       com_dino) needs-flag
@


1.346
log
@Extended Attributes was a piece to get to ACLs, however ACLs have not
been worked on, so EA is pointless. Also the code is not enabled
in GENERIC so it is not being tested or maintained.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.345 2005/06/16 21:06:55 uwe Exp $
d165 4
@


1.345
log
@unbust "com at pxaip" attachment so that there is no need to enable
"com at pcmcia" in RAMDISK as a workaround.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.344 2005/06/08 05:01:04 henning Exp $
a825 1
file ufs/ufs/ufs_extattr.c		ffs | mfs
@


1.344
log
@Xerox NS leaves us
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.343 2005/06/07 02:48:39 henning Exp $
d293 1
a293 1
					       com_puc | com_ebus | com_pxa2x0 |
@


1.343
log
@no more CCITT
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.342 2005/06/03 23:09:12 deraadt Exp $
a789 10
file netns/idp_usrreq.c			ns
file netns/ns.c				ns
file netns/ns_error.c			ns
file netns/ns_input.c			ns
file netns/ns_ip.c			ns
file netns/ns_output.c			ns
file netns/ns_pcb.c			ns
file netns/ns_proto.c			ns
file netns/spp_debug.c			ns
file netns/spp_usrreq.c			ns
@


1.342
log
@com_pxa2x0 must cause com.c compilation; piece missed by uwe
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.341 2005/05/29 02:54:50 reyk Exp $
a729 19
file netccitt/ccitt_proto.c		ccitt
file netccitt/hd_debug.c		hdlc
file netccitt/hd_input.c		hdlc
file netccitt/hd_output.c		hdlc
file netccitt/hd_subr.c			hdlc
file netccitt/hd_timer.c		hdlc
file netccitt/if_x25subr.c		ccitt
file netccitt/llc_input.c		llc
file netccitt/llc_output.c		llc
file netccitt/llc_subr.c		llc
file netccitt/llc_timer.c		llc
file netccitt/pk_acct.c			ccitt
file netccitt/pk_debug.c		ccitt
file netccitt/pk_input.c		ccitt
file netccitt/pk_llcsubr.c		llc | hdlc
file netccitt/pk_output.c		ccitt
file netccitt/pk_subr.c			ccitt
file netccitt/pk_timer.c		ccitt
file netccitt/pk_usrreq.c		ccitt
@


1.341
log
@cleanup rtw
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.340 2005/05/26 16:37:37 miod Exp $
d293 1
a293 1
					       com_puc | com_ebus |
@


1.340
log
@trunk depends on ifmedia.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.339 2005/05/26 00:33:45 pedro Exp $
a356 2
file	dev/ic/rtwphy.c			rtw
file	dev/ic/rtwphyio.c		rtw
@


1.339
log
@RIP stackable filesystems, ok marius@@ tedu@@, discussed with deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.338 2005/05/24 02:45:17 reyk Exp $
d419 1
a419 1
pseudo-device trunk: ifnet, ether
@


1.338
log
@initial import of a trunking (link aggregation and link failover)
implementation. it currently supports round robin mode with link state
checking, additional modes will be added later.

ok brad@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.337 2005/05/15 11:29:12 miod Exp $
a660 3
file miscfs/genfs/layer_subr.c		nullfs | umapfs
file miscfs/genfs/layer_vfsops.c	nullfs | umapfs
file miscfs/genfs/layer_vnops.c		nullfs | umapfs
a665 2
file miscfs/nullfs/null_vfsops.c	nullfs
file miscfs/nullfs/null_vnops.c		nullfs
a677 6
file miscfs/umapfs/umap_subr.c		umapfs
file miscfs/umapfs/umap_vfsops.c	umapfs
file miscfs/umapfs/umap_vnops.c		umapfs
file miscfs/union/union_subr.c		union
file miscfs/union/union_vfsops.c	union
file miscfs/union/union_vnops.c		union
@


1.337
log
@Partial sync to the NetBSD wscons code, bringing a better wsmux behaviour
and bugfixes (the kqueue code, /dev/wsmuxctl and screen border color changes
have not been picked), keeping local changes.

Tested by many on alpha/cats/hp300/i386/macppc/sparc/sparc64/zaurus if not more.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.336 2005/05/10 01:16:31 brad Exp $
d419 1
d732 1
@


1.336
log
@Add epic(4) driver which supersedes tx(4).

This buys us..
- bus_dma
- big endian support
- multicast
- support for another EPIC chipset

From NetBSD

ok mickey@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.335 2005/05/01 21:36:57 brad Exp $
d76 4
a79 4
define	wsdisplaydev {}
define	wsemuldisplaydev {[console = -1]}
define	wskbddev {[console = -1], [mux = -1]}
define	wsmousedev {[mux = -1]}
@


1.335
log
@To allow for MD override of in4_cksum()...

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.334 2005/04/16 22:19:28 kettenis Exp $
d260 4
@


1.334
log
@Remove regs and fpregs pseudo-files from procfs.
ok deraadt@@, miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.333 2005/03/29 17:27:30 deraadt Exp $
a757 1
file netinet/in4_cksum.c		inet
@


1.333
log
@in right place
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.332 2005/03/29 17:24:52 pedro Exp $
a669 1
file miscfs/procfs/procfs_fpregs.c	ptrace
a672 1
file miscfs/procfs/procfs_regs.c	ptrace
@


1.332
log
@Bring in UDF support from FreeBSD, disabled for now.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.331 2005/03/08 20:00:24 tdeval Exp $
d567 3
a697 3
file isofs/udf/osta.c			udf
file isofs/udf/udf_vfsops.c		udf
file isofs/udf/udf_vnops.c		udf
@


1.331
log
@Cosmetics...
Mainly remove space between locators parens, replace spaces with tabs
where appropriate and consistently align dependencies.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.330 2005/03/05 23:58:43 tdeval Exp $
d695 3
@


1.330
log
@Clean up the tree from incomplete, unreliable and unsupported IEEE1394 code.
Ok deraadt@@, miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.329 2005/02/25 22:25:30 reyk Exp $
d16 1
a16 1
define	midibus { }
d101 2
a102 2
file	dev/ic/vga.c		vga & (vga_pci | vga_isa)	needs-flag
file	dev/ic/vga_subr.c	vga & (vga_pci | vga_isa)	needs-flag
d107 1
a107 1
file	dev/mii/mii_bitbang.c	mii_bitbang
d114 1
a114 1
file	dev/ic/wdc.c wdc_base
d136 1
a136 1
file	dev/ic/dpt.c		dpt
d140 1
a140 1
file	dev/ic/adv.c		adv
d144 1
a144 1
file	dev/ic/adw.c		adw
d152 1
a152 1
file	dev/ic/gdt_common.c	gdt
d156 1
a156 1
file	dev/ic/twe.c		twe
d160 1
a160 1
file	dev/ic/lsi64854.c	lsi64854
d164 1
a164 1
file	dev/ic/cac.c		cac
d168 1
a168 1
file	dev/ic/ami.c		ami
d177 4
a180 4
device  mpt: scsi
file    dev/ic/mpt.c			mpt
file    dev/ic/mpt_debug.c		mpt
file    dev/ic/mpt_openbsd.c		mpt
d184 1
a184 1
file	dev/ic/uha.c		uha
d189 1
a189 1
file	dev/ic/ncr53c9x.c	ncr53c9x
d209 1
a209 1
file	dev/ic/elink3.c		ep
d213 1
a213 1
file	dev/ic/lemac.c		lc
d217 2
a218 2
file	dev/ic/if_wi.c		wi
file	dev/ic/if_wi_hostap.c	wi
d222 1
a222 1
file	dev/ic/an.c		an
d226 2
a227 2
file	dev/ic/rln.c		rln
file	dev/ic/rlnsubr.c	rln
d231 1
a231 1
file	dev/ic/am7990.c		le
d235 1
a235 1
file	dev/ic/xl.c		xl
d239 1
a239 1
file	dev/ic/fxp.c		fxp
d243 1
a243 1
file	dev/ic/mtd8xx.c		mtd
d247 1
a247 1
file	dev/ic/rtl81x9.c	rl
d251 1
a251 1
file	dev/ic/re.c		re
d255 1
a255 1
file	dev/ic/dc.c		dc
d259 1
a259 1
file	dev/ic/smc91cxx.c	sm
d264 1
a264 1
file	dev/ic/ne2000.c		ne
d267 1
a267 1
file	dev/ic/dl10019.c	dl10019
d270 1
a270 1
file	dev/ic/ax88190.c	ax88190
d274 1
a274 1
file	dev/ic/i82596.c		ie & (ie_pci | ie_eisa | ie_gsc)
d278 1
a278 1
file	dev/ic/gem.c		gem
d282 1
a282 1
file	dev/ic/tropic.c		tr
d286 5
a290 1
file	dev/ic/com.c		com & (com_isa | com_isapnp | com_commulti | com_pcmcia | com_localbus | com_gsc | com_puc | com_ebus | com_dino) needs-flag
d293 2
a294 2
device	pckbc { [slot = -1] }
file	dev/ic/pckbc.c		pckbc needs-flag
d297 1
a297 1
device	gsckbc { [slot = -1] }
d310 1
a310 1
file	dev/ic/cy.c		cy & (cy_isa | cy_pci)	needs-flag
d314 3
a316 1
file	dev/ic/lpt.c		lpt & (lpt_isa | lpt_localbus | lpt_gsc | lpt_puc | lpt_apio | lpt_ebus) needs-flag
d320 2
a321 1
file	dev/ic/sti.c		sti & (sti_pci | sti_gedoens | sti_sgc) needs-flag
d325 1
a325 1
file	dev/ic/iha.c		iha
d329 1
a329 1
file	dev/ic/trm.c		trm
d333 1
a333 1
file	dev/ic/nslm7x.c		lm
d336 5
a340 5
define  ar5xxx
file	dev/ic/ar5xxx.c		ar5xxx
file	dev/ic/ar5210.c		ar5xxx
file	dev/ic/ar5211.c		ar5xxx
file	dev/ic/ar5212.c		ar5xxx
d344 1
a344 1
file	dev/ic/ath.c		ath
d348 1
a348 1
file	dev/ic/atw.c		atw
d352 3
a354 3
file	dev/ic/rtw.c		rtw
file	dev/ic/rtwphy.c		rtw
file	dev/ic/rtwphyio.c	rtw
d358 1
a358 1
file	dev/ic/ral.c		ral
d364 2
a365 2
define	isabus { }			# ISA attachment
define	eisabus { }			# EISA attachment
d367 3
a369 3
define	tcbus { }			# TurboChannel attachment
define	usbus { }			# USB attachment
define	pcmciabus { [controller = -1], [socket = -1]}	# PCMCIA attachment
d420 1
a420 1
file	dev/ksyms.c	ksyms needs-flag
d423 6
a428 6
file	net/pf.c		pf	needs-flag
file	net/pf_norm.c		pf
file	net/pf_ioctl.c		pf
file	net/pf_table.c		pf
file	net/pf_osfp.c		pf
file	net/pf_if.c		pf
d430 1
a430 1
file	net/if_pflog.c		pflog	needs-flag
d432 1
a432 1
file	net/if_pfsync.c		pfsync	needs-flag
d435 1
a435 1
file	dev/bio.c	bio needs-flag
d438 1
a438 1
file	dev/hotplug.c		hotplug	needs-flag
d441 1
a441 1
file 	net/if_pppoe.c		pppoe	needs-flag
d841 1
a841 1
file nfs/nfs_kq.c                       nfsclient
@


1.329
log
@add support for the atheros ar5211 802.11A/B/g wireless chipset.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.328 2005/02/19 16:58:00 reyk Exp $
a58 1
define	ieee1394
a361 1
define	fwbus {[idhi=-1],[idlo=-1]}	# IEEE 1394 attachment
a382 16
#
# IEEE 1212 routines
define	ieee1212
file	dev/std/ieee1212.c		ieee1212

#
# SBP2 routines for IEEE 1394
define	sbp2
file	dev/std/sbp2.c			sbp2

# IEEE 1394 controllers
# (These need to be here since it will have both PCI and CardBus attachments)
#
device	fwlynx: fwbus
device	fwohci: fwbus

a718 1
#file net/if_ieee1394subr.c		ieee1394
a749 1
#file netinet/if_ieee1394arp.c		ieee1394 & inet
@


1.328
log
@add support for the atheros ar5212 wireless chipsets. it is not
finished yet and still misses some channel initialization and
calibration bits.

(if you want to hand in your dmesg output, please build a kernel with
an uncommented COUNTRYCODE in line 109 of dev/ic/ar5xxx.c to get the
value stored in your card's eeprom.)

ok henning@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.327 2005/02/15 20:51:16 damien Exp $
d333 1
a333 1
#file	dev/ic/ar5211.c		ar5xxx
@


1.327
log
@Driver for Ralink Technology RT2500 wireless adapters.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.326 2005/01/14 22:39:31 miod Exp $
d334 1
a334 1
#file	dev/ic/ar5212.c		ar5xxx
@


1.326
log
@Switch OpenBSD/hp300 to wscons, still using on-board ROM fonts for now.

Main features:
- MI hil drivers, allowing live plug/unplug of devices, and the keyboard
  does not need to be at id 1 anymore.
- SGC bus support on 4xx models. SGC frame buffers are supported too, but
  not as console, though you can use them as a regular glass terminal if
  you run a getty on ttyC0. Currently not compiled-in, awaiting for an sti(4)
  fix to be commited.
- HP-UX compatibility interfaces are removed. grfinfo and hilinfo are removed.

X11 support is currently broken by these changes; X.org X11R6 support will
be available very soon.

Tested on hyperion and 4 different flavours of catseye/topcat/kathmandu; other,
older frame buffers (davinci, gatorbox and renaissance) could not been tested
but should work; please report any regression.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.325 2005/01/14 12:04:02 grange Exp $
d349 4
@


1.325
log
@First step in Bluetooth protocol stack support.

The code is adopted from the FreeBSD netgraph-based Bluetooth
implementation by Maksim Yevmenkin <m_evmenkin@@yahoo.com> but
all netgraph glue was replaced with usual BSD network stack
hooks. This is a work in progress. Only HCI layer works for now,
L2CAP and RFCOMM are on the way.

Help in testing from many, ok markus@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.324 2005/01/14 01:08:11 pvalchev Exp $
d315 1
a315 1
file	dev/ic/sti.c		sti & (sti_pci | sti_gedoens)
@


1.324
log
@split re(4) into bus-independent code (ic/re.c) and PCI front-end
(pci/if_re_pci.c) for soon-to-come cardbus support; ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.323 2004/12/29 01:02:30 jsg Exp $
d63 1
d819 3
@


1.323
log
@Driver for Realtek 802.11 devices from NetBSD.
Not yet working.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.322 2004/12/22 12:02:47 grange Exp $
d248 4
@


1.322
log
@Use vfs firmware loader for fxp(4) interrupt coalescing microcode.
Initial work by Dmitry Bogdan <bogdan@@eastonline.ru> with a help
from me and Theo.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.321 2004/11/28 23:39:45 canacar Exp $
d338 6
@


1.321
log
@In kernel pppoe client, a simple IPv4 only implementation.
Initial porting from NetBSD by David Berghoff.
Modified/simplified to match our sppp implementation.
ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.320 2004/11/23 09:39:29 reyk Exp $
d238 1
a238 1
device	fxp: ether, ifnet, ifmedia, mii
@


1.320
log
@support the gpio found on ath(4) devices.
ok grange@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.319 2004/11/17 14:12:59 deraadt Exp $
d435 4
@


1.319
log
@firmware loading; ok pedro tedu dlg miod
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.318 2004/11/02 02:45:36 reyk Exp $
d332 1
a332 1
device	ath: ether, ifnet, ifmedia, ar5xxx, wlan
@


1.318
log
@imported Sam Leffler's ath driver for atheros multimode wireless nics
from NetBSD and FreeBSD.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.317 2004/10/08 13:04:35 grange Exp $
d22 3
d474 1
@


1.317
log
@Move dev/cons.c to MI conf/files.

ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.316 2004/09/15 21:32:42 mickey Exp $
d321 11
d724 1
@


1.316
log
@add pcxu tlb handlers and cpu probing
add u2/uturn ioa driver in dumb mode now
enable pcxu/pcxw support
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.315 2004/09/14 23:49:28 henning Exp $
d459 1
@


1.315
log
@remove remaining unused traces from src route
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.314 2004/08/05 17:04:51 pefo Exp $
d194 1
a194 1
file	dev/ic/siop.c			siop
d307 1
a307 1
file	dev/ic/sti.c		sti & (sti_pci | sti_sgc | sti_phantom)
@


1.314
log
@Cleanup attachs for com and lpt for mips.
ok, miod, todd
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.313 2004/07/29 06:25:45 tedu Exp $
a697 1
file net/route_src.c			!small_kernel
@


1.313
log
@put the scheduler in its own file.  reduces clutter, and logically separates
"put this process to sleep" and "find a process to run" operations.
no functional change.  ok art@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.312 2004/07/28 17:15:12 tholo Exp $
d279 1
a279 1
file	dev/ic/com.c		com & (com_isa | com_isapnp | com_commulti | com_pcmcia | com_pica | com_algor | com_gsc | com_puc | com_ebus | com_dino) needs-flag
d303 1
a303 1
file	dev/ic/lpt.c		lpt & (lpt_isa | lpt_pica | lpt_algor | lpt_gsc | lpt_puc | lpt_apio | lpt_ebus) needs-flag
@


1.312
log
@This touches only MI code, and adds new time keeping code.  The
code is all conditionalized on __HAVE_TIMECOUNTER, and not
enabled on any platforms.

adjtime(2) support exists, courtesy of nordin@@, sysctl(2) support
and a concept of quality for each time source attached exists.

High quality time sources exists for PIIX4 ACPI timer as well as
some AMD power management chips.  This will have to be redone
once we actually add ACPI support (at that time we need to use
the ACPI interfaces to get at these clocks).

ok art@@ ken@@ miod@@ jmc@@ and many more
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.311 2004/07/21 17:30:55 marius Exp $
d580 1
@


1.311
log
@kqueue support for NFS, adapted from netbsd.

ok art@@ pedro@@, "get it in" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.310 2004/07/20 20:15:13 art Exp $
d574 1
@


1.310
log
@Introducing mutexes - cpu-owned spinning locks with spl semantics.

This is the MI (slightly inefficient and not MP safe) implementation.

deraadt@@ ok Tested by many. (this and following commits)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.309 2004/07/15 12:10:44 henning Exp $
d814 1
@


1.309
log
@bye bye netiso, you won't be missed
ok millert deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.308 2004/06/28 01:34:46 aaron Exp $
d584 1
@


1.308
log
@Add new, generic ``evcount'' event counter API to the kernel.  From art@@,
with modifications from me.  Includes code for generic interrupt counter
fetching via sysctl.  deraadt@@ tholo@@ drahn@@ millert@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.307 2004/06/22 23:55:23 millert Exp $
a784 34
file netiso/clnp_debug.c		iso
file netiso/clnp_er.c			iso
file netiso/clnp_frag.c			iso
file netiso/clnp_input.c		iso
file netiso/clnp_options.c		iso
file netiso/clnp_output.c		iso
file netiso/clnp_raw.c			iso
file netiso/clnp_subr.c			iso
file netiso/clnp_timer.c		iso
file netiso/cltp_usrreq.c		iso
file netiso/esis.c			iso
file netiso/idrp_usrreq.c		iso
file netiso/if_cons.c			iso
file netiso/if_eon.c			eon
file netiso/iso.c			iso
file netiso/iso_chksum.c		iso
file netiso/iso_pcb.c			iso
file netiso/iso_proto.c			iso
file netiso/iso_snpac.c			iso
file netiso/tp_astring.c		iso | tpip
file netiso/tp_cons.c			iso
file netiso/tp_driver.c			iso | tpip
file netiso/tp_emit.c			iso | tpip
file netiso/tp_inet.c			iso | tpip
file netiso/tp_input.c			iso | tpip
file netiso/tp_iso.c			iso
file netiso/tp_meas.c			iso | tpip
file netiso/tp_output.c			iso | tpip
file netiso/tp_pcb.c			iso | tpip
file netiso/tp_subr.c			iso | tpip
file netiso/tp_subr2.c			iso | tpip
file netiso/tp_timer.c			iso | tpip
file netiso/tp_trace.c			iso | tpip
file netiso/tp_usrreq.c			iso | tpip
@


1.307
log
@atw(4) driver from NetBSD (dyoung).  Based in part on a port by
Matthew Gream.

Unfortunately, the adm8211 card I have with me does not work correctly
with the driver yet so real testing will have to wait until I get
my hands on an adm8211-based DWL-650 or something similar.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.306 2004/06/22 22:53:51 millert Exp $
d581 1
@


1.306
log
@Import current NetBSD/FreeBSD 802.11 framework.
Based in part on a diff from Matthew Gream.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.305 2004/06/20 17:19:26 itojun Exp $
d320 4
@


1.305
log
@goodbye TUBA.  deraadt ok
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.304 2004/06/06 16:49:08 cedric Exp $
d696 9
a704 1
file net/if_ieee80211subr.c		wlan
@


1.304
log
@extend routing table to be able to match and route packets based on
their *source* IP address in addition to their destination address.
routing table "destination" now contains a "struct sockaddr_rtin"
for IPv4 instead of a "struct sockaddr_in".
the routing socket has been extended in a backward-compatible way.
todo: PMTU enhancements, IPv6. ok deraadt@@ mcbride@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.303 2004/06/03 18:07:59 grange Exp $
a805 3
file netiso/tuba_subr.c			iso | tuba
file netiso/tuba_table.c		iso | tuba
file netiso/tuba_usrreq.c		iso | tuba
@


1.303
log
@A framework for supporting various General Purpose Input/Output (GPIO)
devices. Such devices provide a set of pins that you can use to connect
for example leds to it.
The pins can be accessed either from userland through the /dev/gpio*
device files or from the kernel drivers. The latter is necessary
for implementing timing-sensitive things like i2c or 1-wire master
controller.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.302 2004/05/30 08:11:26 grange Exp $
d690 1
@


1.302
log
@Devices hot plugging support.
The hotplug pseudo-device passes device attachment and detachment events
to userland.  When a device attaches or detaches, the corresponding event
is queued.  The events can then be obtained from the queue through the
read(2) call on the /dev/hotplug device file. Each event consists of
event type (attach/detach), device class (DV_*) and device name (sd1 e.g.).

We have hotplug pseudo-device on alpha, amd64, i386, macppc and sparc64.
Since it was tested only on i386 other archs has it commented out
in GENERIC until tested.

The idea liked peter@@ tedu@@ drahn@@ millert@@ marco@@ henning@@.
Ok deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.301 2004/05/27 23:20:27 deraadt Exp $
d20 1
@


1.301
log
@oops
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.298 2004/05/23 17:33:43 grange Exp $
d413 3
@


1.300
log
@remove tedu crud
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.299 2004/05/27 20:48:46 tedu Exp $
a412 3

pseudo-device hotplug
file	dev/hotplug.c		hotplug	needs-flag
@


1.299
log
@make acct(2) optional with ACCOUNTING
ok art@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.298 2004/05/23 17:33:43 grange Exp $
a619 1
file miscfs/genfs/genfs_vnops.c
@


1.298
log
@I2C framework originally written by Steve C. Woodford and Jason R. Thorpe
for NetBSD (r).

This framework supports various i2c master controllers:
- dumb bit-bang controllers
- a few styles of automated controllers that give you control
over sending start/stop conditions on the i2c bus
- automated controllers that are too smart for its own good,
giving software no control over start/stop conditions
- smbus controllers by emulating smbus protocol with i2c commands

i2c slave devices need their addresses to be specified in the kernel
config file, no device discovery presented.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.297 2004/05/20 03:04:37 marco Exp $
d414 3
d547 1
a547 1
file kern/kern_acct.c
d620 1
@


1.297
log
@Add ahd.  ok krw@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.296 2004/05/07 18:13:00 miod Exp $
d19 1
d77 4
@


1.296
log
@Replace the old ssh(4) NCR53C710 scsi driver with a pcctwo attachment for
the MI osiop(4) driver.

This improves performance very slighly and should also improve reliability.

Tested on 25MHz (50MHz osiop) and 33MHz (66MHz osiop) MVME187 boards.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.295 2004/05/07 14:42:26 millert Exp $
d115 5
@


1.295
log
@Replace RSA-derived md5 code with code derived from Colin Plumb's PD version.
This moves md5.c out of libkern and into sys/crypto where it belongs (as
requested by markus@@).  Note that md5.c is still mandatory (dev/rnd.c uses it).
Verified with IPsec + hmac-md5 and tcp md5sig. OK henning@@ and hshoexer@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.294 2004/05/06 17:40:11 grange Exp $
d187 1
a187 1
file	dev/ic/osiop.c			osiop & (osiop_gsc | osiop_eisa)
@


1.294
log
@carp needs sha1.c; noticed by form@@pdp-11.org.ru.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.293 2004/04/25 02:48:03 itojun Exp $
d734 1
@


1.293
log
@radix tree with multipath support.  from kame.  deraadt ok
user visible changes:
- you can add multiple routes with same key (route add A B then route add A C)
- you have to specify gateway address if there are multiple entries on the table
  (route delete A B, instead of route delete A)
kernel change:
- radix_node_head has an extra entry
- rnh_deladdr takes extra argument

TODO:
- actually take advantage of multipath (rtalloc -> rtalloc_mpath)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.292 2004/03/12 00:35:02 miod Exp $
d735 1
a735 1
file crypto/sha1.c			(inet & ipsec) | crypto
@


1.292
log
@Oops, declare oosiop.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.291 2004/03/10 01:27:14 deraadt Exp $
d672 1
@


1.291
log
@skip uvm_loan until later (kernel shrink); idea from markus
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.290 2004/03/06 03:23:19 krw Exp $
d185 1
a185 1
# Symbios/NCR 53c720/53c8xx SCSI controllers
d188 4
@


1.290
log
@Add last 'files' bit to allow mpt driver to be compiled.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.289 2004/02/13 20:39:31 mickey Exp $
d877 1
a877 1
file uvm/uvm_loan.c
d893 1
a893 15
# ... NRL IPv6
#file netinet6/in6.c			inet6
#file netinet6/ipv6_icmp.c		inet6
#file netinet6/in6_cksum.c		inet6
file netinet6/in6_pcb.c			inet6
#file netinet6/raw_ipv6.c		inet6
#file netinet6/ipv6_input.c		inet6
#file netinet6/ipv6_discovery.c		inet6
#file netinet6/ipv6_addrconf.c		inet6
#file netinet6/ipv6_rtrequest.c		inet6
#file netinet6/ipv6_output.c		inet6
#file netinet6/in6_proto.c		inet6
#file netinet6/ipv6_trans.c		inet6

# ... KAME IPv6
d899 1
a902 1
#file netinet6/in6_pcb.c		inet6
a918 7
#file netinet6/tcp6_debug.c		inet6 & tcp6
#file netinet6/tcp6_input.c		inet6 & tcp6
#file netinet6/tcp6_output.c		inet6 & tcp6
#file netinet6/tcp6_subr.c		inet6 & tcp6
#file netinet6/tcp6_timer.c		inet6 & tcp6
#file netinet6/tcp6_usrreq.c		inet6 & tcp6
#file netinet6/udp6_usrreq.c		inet6
@


1.289
log
@support secondary com@@dino from todd@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.288 2004/01/07 21:30:59 markus Exp $
d160 7
@


1.288
log
@no kern_watchdog for SMALL_KERNEL; ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.287 2004/01/07 00:13:22 fgsch Exp $
d257 1
a257 1
file	dev/ic/com.c		com & (com_isa | com_isapnp | com_commulti | com_pcmcia | com_pica | com_algor | com_gsc | com_puc | com_ebus) needs-flag
@


1.287
log
@ieee80211 framework from NetBSD; ok'd by several people some time ago.
more fixes comming.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.286 2003/12/28 17:16:28 tedu Exp $
d547 1
a547 1
file kern/kern_watchdog.c
@


1.286
log
@add dirhash, and wire in rwlocks used by dirhash
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.285 2003/12/24 22:40:15 krw Exp $
d57 1
d669 1
d737 1
a737 1
file crypto/arc4.c			wi
@


1.285
log
@Sync ahc with NetBSD, which was in turn updated from FreeBSD by Pascal
Renauld of Network Storage Solutions, Inc. Many fixes, wider device
support. In particular, the notorious 'Target 0' problem seems to be
fixed.

Does *not* include any updates to isa or eisa code beyond what was
necessary to compile.

Known issues:

1) Tagged Queuing is probably not optimal.

2) PPR negotiation may not be fully functional.

3) No support yet for freezing devices or channels.

4) The mechanism for preventing 'A' and 'B' channel confusion during probe
can fail if scsibus > 254 found.

5) Requeuing I/O's not working. A workaround will be committed almost
immediately. At the moment timeouts, SCSI message rejects, aborting
SCB's and trying to freeze a device may cause incomplete i/o's to be
reported as complete.

6) Verbosity and probe messages need work.

7) Last disk on bus seems to go through an extra re-negotiation.

8) >16 devices on an adapter will trigger the usual problems of total
openings exceeding available SCB's under heavy load.

Tested by deraadt@@, beck@@, miod@@, naddy@@, drahn@@, marc@@ amoung
others.

ok deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.284 2003/12/12 20:05:45 cedric Exp $
d535 1
d826 1
@


1.284
log
@Move PF interface code to new net/pf_if.c
Expect improvements in this area soon.
ok dhartmei@@ mcbride@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.283 2003/10/17 21:04:58 mcbride Exp $
d113 1
@


1.283
log
@Common Address Redundancy Protocol

Allows multiple hosts to share an IP address, providing high availability
and load balancing.

Based on code by mickey@@, with additional help from markus@@
and Marco_Pfatschbacher@@genua.de

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.282 2003/10/07 07:08:45 markus Exp $
d382 1
@


1.282
log
@use crypto/arc4; test, debug, ok millert@@; ok fgsch@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.281 2003/10/01 21:41:05 itojun Exp $
d363 1
d714 1
@


1.281
log
@use random number generator to generate IPv6 fragment ID/flowlabel.
cleanup IPv6 flowlabel handling.  deraadt ok
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.280 2003/09/26 00:19:23 mickey Exp $
d730 1
@


1.280
log
@missed a file
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.279 2003/08/21 19:12:07 frantzen Exp $
d906 1
@


1.279
log
@Add Michal Zalewski's p0f v2 style passive OS fingerprinting to PF.
Exposes the source IP's operating system to the filter language.
Interesting policy decisions are now enforceable:
.	block proto tcp from any os SCO
.	block proto tcp from any os Windows to any port smtp
.	rdr ... from any os "Windows 98" to port WWW -> 127.0.0.1 port 8001
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.278 2003/08/19 03:36:20 mickey Exp $
d216 1
a216 1
file	dev/ic/mtd803.c		mtd
@


1.278
log
@myson mtd803 ether and enable mtdphy no; form netbsd via form@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.277 2003/08/15 23:01:01 fgsch Exp $
d380 1
@


1.277
log
@- remove ahc dependency, convert smc93cx6 into an attribute.
- support for 8 and 32 bit registers.
from NetBSD.
deraadt@@ and krw@@ testing and ok.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.276 2003/08/12 11:05:47 hin Exp $
d213 4
@


1.276
log
@Build xfs/xfs_node.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.275 2003/07/24 08:03:19 itojun Exp $
d76 4
d110 1
a110 1
device	ahc: scsi
a112 1
file	dev/ic/smc93cx6.c		ahc
@


1.275
log
@hmac-sha2-{256,384,512} support in AH/ESP auth.  markus ok
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.274 2003/07/24 03:07:47 deraadt Exp $
d835 1
@


1.274
log
@ether | inet stuff; pr 3356; from d
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.273 2003/05/20 03:05:42 tedu Exp $
d709 1
@


1.273
log
@support for NTFS.  from NetBSD via Julien Bordet
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.272 2003/05/12 21:08:39 tedu Exp $
d630 1
a630 1
file net/if_ethersubr.c			ether | fddi | token	needs-flag
d676 1
a676 1
file netinet/if_ether.c			ether
@


1.272
log
@new files for layer fs if nullfs | umapfs
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.271 2003/04/25 21:24:15 grange Exp $
d312 4
d619 6
@


1.271
log
@lm(4) driver from NetBSD adapted for sysctl interface.
The lm driver provides support for the National Semiconductor LM series
hardware monitors and register compatible chips. It supports LM78,
LM78-J, LM79, Winbond W83697HF, W83627HF, W83781D and W83782D chips.

Tested and ok'ed by millert@@ and henning@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.270 2003/03/29 00:51:38 mickey Exp $
d579 3
a586 1
file miscfs/nullfs/null_subr.c		nullfs
@


1.270
log
@some mount stinger onto phantomas and there is not need to flag stingers too
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.269 2003/02/24 01:17:36 deraadt Exp $
d285 4
@


1.269
log
@Remove tcfs until this entire licensing mess is cleaned up.  This is
ANOTHER case of a developer having ignored licenses when importing code.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.268 2003/02/17 23:07:43 miod Exp $
d175 1
a175 1
file	dev/ic/osiop.c			osiop & osiop_gsc
d276 1
a276 1
file	dev/ic/sti.c		sti & (sti_pci | sti_sgc)	needs-flag
@


1.268
log
@Allow the generic ps/2 mouse driver, pms, to attach to gsckbc as well.
Thankfully HP's ps/2 mouse have no specific behaviour.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.267 2003/01/21 16:59:23 markus Exp $
a582 15
file miscfs/tcfs/tcfs_subr.c		tcfs
file miscfs/tcfs/tcfs_vfsops.c		tcfs
file miscfs/tcfs/tcfs_vnops.c		tcfs
file miscfs/tcfs/tcfs_attr.c		tcfs
file miscfs/tcfs/tcfs_cipher_TDES.c	tcfs
file miscfs/tcfs/tcfs_cipher_BLOWFISH.c	tcfs
file miscfs/tcfs/tcfs_cipher_conf.c	tcfs
file miscfs/tcfs/tcfs_cipher_none.c	tcfs
file miscfs/tcfs/tcfs_cmd.c		tcfs
file miscfs/tcfs/tcfs_crypto.c		tcfs
file miscfs/tcfs/tcfs_dir.c		tcfs
file miscfs/tcfs/tcfs_fileinfo.c	tcfs
file miscfs/tcfs/tcfs_interp.c		tcfs
file miscfs/tcfs/tcfs_keytab.c		tcfs
file miscfs/tcfs/tcfs_rw.c		tcfs
d693 1
a693 1
file crypto/blf.c			(inet & ipsec) | crypto | tcfs | vnd
d696 3
a698 3
file crypto/ecb_enc.c			(inet & ipsec) | crypto | tcfs
file crypto/set_key.c			(inet & ipsec) | crypto | tcfs
file crypto/ecb3_enc.c			(inet & ipsec) | crypto | tcfs
@


1.267
log
@add kern.watchdog sysctl and generic watchdog interface;
based on feedback and discussions with mickey, henric, fgsch and jakob.
ok art@@, mickey@@, jakob@@, henric@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.266 2003/01/08 05:20:35 mickey Exp $
d253 3
@


1.266
log
@better osiop at gsc attachment and kill dead siop from files.hppa
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.265 2003/01/08 02:11:38 krw Exp $
d523 1
@


1.265
log
@Merry Christmas Mickey!

First cut at osiop driver (LSI Logic/Symbios/NCR 53C710). For hppa
only at the moment.

Functional for the most part, but there are known problems:

1) SCSI_CHECK/REQUEST_SENSE not handled at all - simply returns a
zero'ed scsi_sense_data buffer. As a result all osiop sc_link's are
created with the ADEV_NODOORLOCK quirk to suppress PREVENT_ALLOW
commands from being issued (and failing) during probe.

2) Sync negotiation (wide is not supported on this chip) needs to be
validated due to some ominous comments in the source about being valid
only for the 33Mhz Zeus board.

3) Probe message needs fixing/completion to issue useful info. See 2).

4) Timeout/hangs occur under heavy load, e.g. make builds.

From NetBSD.

ok mickey@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.264 2003/01/07 00:25:05 dhartmei Exp $
d175 1
a175 1
file	dev/ic/osiop.c			osiop
@


1.264
log
@sha1.c is no longer needed by pf.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.263 2002/12/31 11:48:50 matthieu Exp $
d172 4
@


1.263
log
@sha1.c is needed by pf.
ok fgs@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.262 2002/12/29 20:07:34 cedric Exp $
d699 1
a699 1
file crypto/sha1.c			(inet & ipsec) | crypto | pf
@


1.262
log
@Add support for radix tables for source and destination of PF rules.
ok dhartmei@@, mcbride@@, henning@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.261 2002/12/18 00:15:21 henning Exp $
d699 1
a699 1
file crypto/sha1.c			(inet & ipsec) | crypto
@


1.261
log
@enable PRIQ and HFSC if ALTQ itself is enabled.

ok theo
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.260 2002/12/16 08:51:39 kjc Exp $
d357 1
@


1.260
log
@remove altq files no longer used by a switch over to pf-based altq
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.259 2002/12/13 02:59:20 tdeval Exp $
d377 2
a378 2
file altq/altq_hfsc.c			altq_hfsc
file altq/altq_priq.c			altq_priq
@


1.259
log
@Enable support for SCSI over FireWire.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.258 2002/11/29 18:25:23 mickey Exp $
a371 1
file altq/altq_conf.c			altq
a375 2
file altq/altq_afmap.c			altq_afmap
file altq/altq_blue.c			altq_blue
a376 1
file altq/altq_fifoq.c			altq_fifoq
a377 1
file altq/altq_localq.c			altq_localq
a379 1
file altq/altq_wfq.c			altq_wfq
@


1.258
log
@expose state table changes
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.257 2002/09/03 16:30:54 mickey Exp $
d313 2
a314 2
#define	sbp2
#file	dev/ieee1394/sbp2.c		sbp2
@


1.257
log
@aic at isapnp, from anders@@Arnholm.nu w/ fixes from me
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.256 2002/07/06 19:14:20 nordin Exp $
a338 1
pseudo-device pflog: ifnet
d357 4
a649 1
file net/if_pflog.c			pflog			needs-count
@


1.256
log
@Remove kernel support for NTP. ok deraadt@@ and tholo@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.255 2002/06/28 00:34:54 smurph Exp $
d113 1
a113 1
file	dev/ic/aic6360.c	aic
@


1.255
log
@Return of new ahc
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.254 2002/06/26 00:14:38 itojun Exp $
a508 1
file kern/kern_ntptime.c
@


1.254
log
@forgot to commit - IEEE1394 bits
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.253 2002/06/09 22:03:43 niklas Exp $
d107 3
a109 2
file	dev/ic/aic7xxx.c	ahc
file	dev/ic/smc93cx6.c	ahc
@


1.253
log
@bio is a driver that can delegate ioctls to other drivers which
otherwise do not deserve a /dev-node of their own.  Will be used for RAID
mgmt among other things.  Initially only i386 gets the device, but other
platforms will follow in a few hours.  MAKEDEV stuff coming soon too.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.252 2002/06/09 08:53:08 pb Exp $
d54 1
d287 1
d305 16
d649 1
d671 1
@


1.252
log
@
split ioctl functions out of pf.c into pf_ioctl.c

frantzen@@, dhartmei@@ ok, tested kernel & userland.

checked for colliding commits
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.251 2002/06/09 04:44:31 pb Exp $
d339 3
@


1.251
log
@
uncommit, broken (by corrupt diff)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.249 2002/06/08 21:22:02 itojun Exp $
d338 1
@


1.250
log
@
new file sys/net/pf_ioctl.c

functions moved from pf.c to there

ok dhartmei@@, frantzen@@

testing myself + henning@@, kernel & userland utils fine
@
text
@a337 1
file	net/pf_ioctl.c		pf
@


1.249
log
@sync with latest KAME in6_ifaddr/prefix/default router manipulation.
behavior changes:
- two iocts used by ndp(8) are now obsolete (backward compat provided).
  use sysctl path instead.
- lo0 does not get ::1 automatically.  it will get ::1 when lo0 comes up.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.248 2002/05/16 16:16:51 provos Exp $
d338 1
@


1.248
log
@systrace facility, used to enforce and generate policies for system calls
okay deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.247 2002/05/06 16:37:39 mickey Exp $
a861 1
file netinet6/in6_prefix.c		inet6
@


1.247
log
@tuner driver for the fms cards.
attach radio at the fms(4), instead of a separate device,
which would never work out fine.
from Vladimir Popov <jumbo@@narod.ru>
rework the radio config stuff (radio at radiobus, instead of radio at radio),
allowing to tag source files in the files.* files w/ radio attribute.
from mickey@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.246 2002/04/25 04:56:59 mickey Exp $
d51 1
d330 1
d396 1
@


1.246
log
@soundforte radio driver, from Vladimir Popov <jumbo@@narod.ru>
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.245 2002/03/28 18:23:07 mickey Exp $
d18 1
a18 1
define	radio {}
d299 2
a300 1
attach	radio at radio
a378 1
file dev/radio.c			radio			needs-flag
@


1.245
log
@i forgot these for if_wi
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.244 2002/03/19 02:49:20 millert Exp $
d27 2
d388 2
@


1.244
log
@revert to older ahc driver until the new one's bugs are fixed
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.243 2002/03/14 20:15:00 jason Exp $
d179 1
@


1.243
log
@From NetBSD: driver for lpt at ebus
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.242 2002/03/14 19:20:03 jason Exp $
d104 1
a104 2
file	dev/ic/aic7xxx_openbsd.c	ahc
file	dev/ic/aic7xxx_93cx6.c	ahc
@


1.242
log
@allow lpt at apio
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.241 2002/03/14 00:42:25 miod Exp $
d260 1
a260 1
file	dev/ic/lpt.c		lpt & (lpt_isa | lpt_pica | lpt_algor | lpt_gsc | lpt_puc | lpt_apio) needs-flag
@


1.241
log
@Turn the ptrace(2) syscall into a kernel compile option, option PTRACE in
your kernel configuration file.
By default, GENERIC will enable this.

When PTRACE is not enabled, several ptrace-like features of the procfs
filesystem will be disabled as well (namely, the ability to read and write
any process' registers, as well as attching, single stepping and detaching
to/from processes).

This should help paranoid people build better sandboxens, and us to build
smaller ramdisks.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.240 2002/02/22 20:37:45 drahn Exp $
d260 1
a260 1
file	dev/ic/lpt.c		lpt & (lpt_isa | lpt_pica | lpt_algor | lpt_gsc | lpt_puc) needs-flag
@


1.240
log
@Extended Attribute support from FreeBSD/TrustedBSD ok art@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.239 2002/02/18 01:55:30 krw Exp $
d505 1
a505 1
file kern/sys_process.c
d567 1
a567 1
file miscfs/procfs/procfs_fpregs.c
d571 1
a571 1
file miscfs/procfs/procfs_regs.c
@


1.239
log
@Add trm - driver for Tekram TRM-S1040 cards (DC395U/UW/F,DC315/U).

Thanks to Tekram for donating a couple of cards and a NetBSD driver by
Erich Chen of Tekram. Thanks to Martin Akesson for a first port of the
NetBSD driver to OpenBSD and thanks to Ashley Martens for the major
cleanup to make it presentable and style(9)ish.

Only tested on i386 at this time.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.238 2002/02/16 04:36:33 smurph Exp $
d774 1
@


1.238
log
@New port of FreeBSD's ahc driver
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.237 2002/01/29 15:48:29 jason Exp $
d269 4
@


1.237
log
@Remove the iov2pages/mbuf2pages API... All of the relevant arch's support
bus_dma(9) which actually does this job correctly.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.236 2002/01/24 22:38:02 mickey Exp $
d104 2
a105 1
file	dev/ic/smc93cx6.c	ahc
@


1.236
log
@bussified and bus-split bustec scsi ha driver.
original port done by chris@@ in '98 and pounded into
-current by me, plus support for wide mode.
tested on pci in both modes by me, on eisa (w/
half success, thus not enabled yet) by jason@@.
niklas@@, jason@@, millert@@ ok.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.235 2002/01/18 02:11:08 miod Exp $
a676 1
file crypto/cryptombuf.c		(inet & ipsec) | crypto
@


1.235
log
@Resource map code is not used anymore. Long live the extent code!
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.234 2001/12/19 08:58:05 art Exp $
d124 1
a124 1
file	dev/ic/bha.c		bha
@


1.234
log
@UBC was a disaster. It worked very good when it worked, but on some
machines or some configurations or in some phase of the moon (we actually
don't know when or why) files disappeared. Since we've not been able to
track down the problem in two weeks intense debugging and we need -current
to be stable, back out everything to a state it had before UBC.

We apologise for the inconvenience.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.233 2001/12/10 04:45:31 art Exp $
a495 1
file kern/subr_rmap.c
@


1.233
log
@Big cleanup inspired by NetBSD with some parts of the code from NetBSD.
 - get rid of VOP_BALLOCN and VOP_SIZE
 - move the generic getpages and putpages into miscfs/genfs
 - create a genfs_node which must be added to the top of the private portion
   of each vnode for filsystems that want to use genfs_{get,put}pages
 - rename genfs_mmap to vop_generic_mmap
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.232 2001/11/29 08:40:09 itojun Exp $
a535 1
file miscfs/genfs/genfs_vnops.c
a803 1
file uvm/uvm_bio.c
@


1.233.2.1
log
@Merge in -current, builds on i386, otherwise untested
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.237 2002/01/29 15:48:29 jason Exp $
d124 1
a124 1
file	dev/ic/bha.c		bha & (bha_pci | bha_isa | bha_eisa) needs-flag
d496 1
d679 1
@


1.233.2.2
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.233.2.1 2002/01/31 22:55:28 niklas Exp $
d18 1
a18 1
define	radiobus {}
a26 2
define tc921x
define pt2254a
a48 1
define	systrace
a178 1
file	dev/ic/if_wi_hostap.c	wi
d259 1
a259 1
file	dev/ic/lpt.c		lpt & (lpt_isa | lpt_pica | lpt_algor | lpt_gsc | lpt_puc | lpt_apio | lpt_ebus) needs-flag
a268 4
# Tekram TRM-S1040 SCSI Cards (DC395U/UW/F,DC315/U)
device	trm: scsi
file	dev/ic/trm.c		trm

d292 1
a292 2
attach	radio at radiobus
file dev/radio.c			radio	needs-flag
a320 1
pseudo-device systrace
a327 1
file	net/pf_ioctl.c		pf
d371 1
a380 2
file dev/ic/tc921x.c			tc921x
file dev/ic/pt2254a.c			pt2254a
a384 1
file dev/systrace.c			systrace		needs-flag
d500 1
a500 1
file kern/sys_process.c			ptrace
d563 1
a563 1
file miscfs/procfs/procfs_fpregs.c	ptrace
d567 1
a567 1
file miscfs/procfs/procfs_regs.c	ptrace
a769 1
file ufs/ufs/ufs_extattr.c		ffs | mfs
d851 1
@


1.233.2.3
log
@sync to -current
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.233.2.2 2002/06/11 03:28:26 art Exp $
a53 1
define	ieee1394
d106 2
a107 3
file	dev/ic/aic7xxx.c		ahc
file	dev/ic/aic7xxx_openbsd.c	ahc
file	dev/ic/smc93cx6.c		ahc
d111 1
a111 1
file	dev/ic/aic6360.c	aic & (aic_isa | aic_pcmcia | aic_isapnp)
a285 1
define	fwbus {[idhi=-1],[idlo=-1]}	# IEEE 1394 attachment
a302 16
#
# IEEE 1212 routines
define	ieee1212
file	dev/std/ieee1212.c		ieee1212

#
# SBP2 routines for IEEE 1394
#define	sbp2
#file	dev/ieee1394/sbp2.c		sbp2

# IEEE 1394 controllers
# (These need to be here since it will have both PCI and CardBus attachments)
#
device	fwlynx: fwbus
device	fwohci: fwbus

a339 3
pseudo-device bio
file	dev/bio.c	bio needs-flag

d487 1
a628 1
#file net/if_ieee1394subr.c		ieee1394
a649 1
#file netinet/if_ieee1394arp.c		ieee1394 & inet
@


1.233.2.4
log
@sync
@
text
@d1 1
a1 1
#	$OpenBSD$
a172 4
# Symbios/NCR 53c720/53c8xx SCSI controllers
device	osiop: scsi
file	dev/ic/osiop.c			osiop & (osiop_gsc | osiop_eisa)

a249 3
# HPPA PS/2 input ports (forward definition)
device	gsckbc { [slot = -1] }

d269 1
a269 1
file	dev/ic/sti.c		sti & (sti_pci | sti_sgc | sti_phantom)
a278 4
# National Semiconductor LM7[89] and compatible hardware monitors
device	lm
file	dev/ic/nslm7x.c		lm

d313 2
a314 2
define	sbp2
file	dev/std/sbp2.c			sbp2
d339 1
a357 5
file	net/pf_table.c		pf
pseudo-device pflog: ifnet
file	net/if_pflog.c		pflog	needs-flag
pseudo-device pfsync: ifnet
file	net/if_pfsync.c		pfsync	needs-flag
d369 1
d374 2
d377 4
a380 2
file altq/altq_hfsc.c			altq
file altq/altq_priq.c			altq
d382 1
a520 1
file kern/kern_watchdog.c
a569 3
file miscfs/genfs/layer_subr.c		nullfs | umapfs
file miscfs/genfs/layer_vfsops.c	nullfs | umapfs
file miscfs/genfs/layer_vnops.c		nullfs | umapfs
d575 1
d578 15
d648 1
d704 1
a704 1
file crypto/blf.c			(inet & ipsec) | crypto | vnd
d707 3
a709 3
file crypto/ecb_enc.c			(inet & ipsec) | crypto
file crypto/set_key.c			(inet & ipsec) | crypto
file crypto/ecb3_enc.c			(inet & ipsec) | crypto
@


1.232
log
@funcs in netinet/ip_ether.c is referenced even without ipsec
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.231 2001/11/27 05:27:11 art Exp $
d536 1
@


1.231
log
@Merge in the unified buffer cache code as found in NetBSD 2001/03/10. The
code is written mostly by Chuck Silvers <chuq@@chuq.com>/<chs@@netbsd.org>.

Tested for the past few weeks by many developers, should be in a pretty stable
state, but will require optimizations and additional cleanups.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.230 2001/11/21 21:23:56 csapuntz Exp $
d659 1
a659 1
file netinet/ip_ether.c			inet & ipsec
@


1.230
log
@Don't use #define QUOTA - use stub file instead

Pass over the quota code in ufs/. Make code paths clearer. Clean up some names.
Move all code that manipulates quotas directly into ufs_quota.c

Use vfs_mount_foreach_vnode to traverse list of vnodes in mountpoint.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.229 2001/11/02 10:06:13 jjbg Exp $
d804 1
@


1.229
log
@Make kernel compile without IPSEC, PPP_DEFLATE but with CRYPTO. Reported by
Brian J. Kifiak <bk@@rt.fm>. Thanks!
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.228 2001/10/27 05:02:29 deraadt Exp $
d775 1
@


1.228
log
@permit compiling of non-pci kernels containing ahc
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.227 2001/10/04 21:43:37 gluk Exp $
d601 1
a601 1
file net/zlib.c				ppp_deflate | ipsec
@


1.227
log
@radio files.
From Vladimir Popov <jumbo@@narod.ru>, Maxim Tsyplakov <tm@@oganer.net>
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.226 2001/09/21 00:01:19 art Exp $
d104 1
@


1.226
log
@Driver for Sun GEM ethernet. Not ready yet.
From NetBSD
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.225 2001/09/19 13:28:43 art Exp $
d18 1
d24 4
d289 4
d370 1
d378 2
@


1.225
log
@Unify elf32 and elf64 code with macros. This forced a renaming
of a few functions from elf32.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.224 2001/09/18 08:52:17 art Exp $
d222 4
d232 1
a232 1
file	dev/ic/com.c		com & (com_isa | com_isapnp | com_commulti | com_pcmcia | com_pica | com_algor | com_gsc | com_puc) needs-flag
@


1.224
log
@Opps. should have comitted this yesterday. add ext2fs_bswap
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.223 2001/08/19 17:12:20 jason Exp $
d440 1
a440 1
file kern/exec_elf.c
@


1.223
log
@add attribute for LSI dma controller
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.222 2001/08/18 22:05:21 jason Exp $
d763 1
@


1.222
log
@Mostek cmos clock stuff (from netbsd)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.221 2001/08/18 16:15:39 aaron Exp $
d127 4
@


1.221
log
@Add MII routines to support the ASIX AX88190 MAC controller; from NetBSD.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.220 2001/08/09 14:32:59 deraadt Exp $
d71 4
@


1.220
log
@change a maze of altq options into just "altq" for the base+red+cbq, and
then altq_* for each of the other * experimental options.  and.. enable
it by default in GENERIC.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.219 2001/08/08 15:15:28 jjbg Exp $
d57 1
d206 3
@


1.219
log
@IPCOMP removal. deraadt@@ ok.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.218 2001/08/03 15:15:09 mickey Exp $
a309 4
file altq/altq_afmap.c			altq
file altq/altq_blue.c			altq
file altq/altq_cbq.c			altq
file altq/altq_cdnr.c			altq
d311 1
a311 4
file altq/altq_fifoq.c			altq
file altq/altq_hfsc.c			altq
file altq/altq_localq.c			altq
file altq/altq_priq.c			altq
d313 1
a313 1
file altq/altq_rio.c			altq
d315 9
a323 2
file altq/altq_subr.c			altq
file altq/altq_wfq.c			altq
@


1.218
log
@proper vga_* handling; pointed out by tholo@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.217 2001/07/18 12:24:20 art Exp $
d572 1
a572 1
file net/zlib.c				ppp_deflate | ipcomp
d635 1
a635 1
file netinet/ip_ipcomp.c		inet & ipsec & ipcomp
d651 1
a651 1
file crypto/deflate.c			ipcomp & crypto
@


1.217
log
@sort subr_pool into the right place.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.216 2001/07/17 20:34:49 provos Exp $
d73 2
a74 2
file	dev/ic/vga.c		vga & vga_pci	needs-flag
file	dev/ic/vga_subr.c	vga & vga_pci
@


1.216
log
@split ip normalization out into a separate file, okay dhartmei@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.215 2001/07/13 17:26:44 niklas Exp $
d464 1
a472 1
file kern/subr_pool.c
@


1.215
log
@On my 10th wedding anniversary I am celebrating by
committing this driver for technology from back when I got married :-)
It is for DEC EtherWorks cards, and comes from NetBSD.  I have done severe
KNF, and fixed the driver to work with PIO-only cards. Enjoy!
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.214 2001/07/05 17:52:45 deraadt Exp $
d301 1
@


1.214
log
@deflate only for ipcomp
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.213 2001/07/05 17:37:30 deraadt Exp $
d43 1
a45 1
define	crypto
d156 4
@


1.213
log
@zlib only for ppp_deflate | ipcomp
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.212 2001/07/05 16:51:32 jjbg Exp $
d646 1
a646 1
file crypto/deflate.c			(inet & ipsec) | crypto
@


1.212
log
@IPComp. Turned off by default in GENERIC.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.211 2001/07/05 07:24:10 art Exp $
d567 1
a567 1
file net/zlib.c				ppp_deflate
@


1.211
log
@kern_fthread is no longer needed.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.210 2001/06/27 05:50:05 kjc Exp $
d630 1
d646 1
@


1.210
log
@ALTQ base modifications to the kernel.
 - ALTQ introduces a set of new queue macros that coexist with the
   traditional IF_XXX macros.
 - "struct ifaltq" replaces "struct ifqueue" in "struct ifnet".
 - assign cdev major 74 for i386 and 54 for alpha as ALTQ control interface.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.209 2001/06/27 05:10:55 art Exp $
a435 1
file kern/kern_fthread.c
@


1.209
log
@uvm is no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.208 2001/06/25 20:48:15 provos Exp $
d305 14
@


1.208
log
@first stab at packet logging for pf.  inspired by late night dreams of art.
we just pass drop and passed packets to different pseudo interface that
can be listened to with bpf.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.207 2001/06/25 03:28:01 csapuntz Exp $
d750 23
a772 40
file vm/device_pager.c			!uvm & devpager
file vm/swap_pager.c			!uvm & swappager
file vm/vm_fault.c			!uvm
file vm/vm_glue.c			!uvm
file vm/vm_init.c			!uvm
file vm/vm_kern.c			!uvm
file vm/vm_map.c			!uvm
file vm/vm_meter.c			!uvm
file vm/vm_mmap.c			!uvm
file vm/vm_object.c			!uvm
file vm/vm_page.c			!uvm
file vm/vm_pageout.c			!uvm
file vm/vm_pager.c			!uvm
file vm/vm_swap.c			!uvm
file vm/vm_unix.c			!uvm
file vm/vm_user.c			!uvm
file vm/vnode_pager.c			!uvm
file uvm/uvm_amap.c			uvm
file uvm/uvm_anon.c			uvm
file uvm/uvm_aobj.c			uvm
file uvm/uvm_device.c			uvm
file uvm/uvm_fault.c			uvm
file uvm/uvm_glue.c			uvm
file uvm/uvm_init.c			uvm
file uvm/uvm_io.c			uvm
file uvm/uvm_km.c			uvm
file uvm/uvm_loan.c			uvm
file uvm/uvm_map.c			uvm
file uvm/uvm_meter.c			uvm
file uvm/uvm_mmap.c			uvm
file uvm/uvm_page.c			uvm
file uvm/uvm_pager.c			uvm
file uvm/uvm_pdaemon.c			uvm
file uvm/uvm_pglist.c			uvm
file uvm/uvm_stat.c			uvm
file uvm/uvm_swap.c			uvm
file uvm/uvm_swap_encrypt.c		uvm & uvm_swap_encrypt
file uvm/uvm_unix.c			uvm
file uvm/uvm_user.c			uvm
file uvm/uvm_vnode.c			uvm
@


1.207
log
@Remove NQNFS
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.206 2001/06/24 19:48:57 kjell Exp $
d281 1
d567 1
@


1.206
log
@Initial import of pf, an all-new ipf-compatable packet filter.
Insane amounts of work done my dhartmei. Great work!
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.205 2001/06/23 06:35:52 angelos Exp $
a700 1
file nfs/nfs_nqlease.c			nfsserver | nfsclient
@


1.205
log
@Add in4_cksum.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.204 2001/06/08 14:39:54 angelos Exp $
d293 3
@


1.204
log
@Remve net_osdep.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.203 2001/06/08 08:15:51 deraadt Exp $
d585 1
@


1.203
log
@rename a file for The Anal One
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.202 2001/06/08 02:53:19 angelos Exp $
a803 1
file net/net_osdep.c
@


1.202
log
@Add pfkeyv2_convert.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.201 2001/05/30 02:12:22 deraadt Exp $
d624 1
a624 1
file crypto/mbuf.c			(inet & ipsec) | crypto
@


1.201
log
@Remove ipf.  Darren Reed has interpreted his (old, new, whichever)
licence in a way that makes ipf not free according to the rules we
established over 5 years ago, at www.openbsd.org/goals.html (and those
same basic rules govern the other *BSD projects too).  Specifically,
Darren says that modified versions are not permitted.  But software
which OpenBSD uses and redistributes must be free to all (be they
people or companies), for any purpose they wish to use it, including
modification, use, peeing on, or even integration into baby mulching
machines or atomic bombs to be dropped on Australia.  Furthermore, we
know of a number of companies using ipf with modification like us, who
are now in the same situation, and we hope that some of them will work
with us to fill this gap that now exists in OpenBSD (temporarily, we
hope).
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.200 2001/05/15 02:40:34 millert Exp $
d841 1
@


1.200
log
@Split wi(4) into bus-dependent and bus-independent bits similar to
an(4) -- no real code changes at this point.
Rename if_wavelan_ieee.h to if_wi_ieee.h while I'm at it and
create an if_wivar.h similar to NetBSD.
PCI adaptors exist that are not true PCMCIA controllers so
wi(4) @@ PCI is possible (though the code is not working yet ;-).
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.199 2001/05/13 15:39:26 deraadt Exp $
a602 8
file netinet/ip_fil.c			ipfilter
file netinet/fil.c			ipfilter
file netinet/ip_nat.c			ipfilter
file netinet/ip_frag.c			ipfilter
file netinet/ip_state.c			ipfilter
file netinet/ip_proxy.c			ipfilter
file netinet/ip_auth.c			ipfilter
file netinet/ip_log.c			ipfilter
@


1.199
log
@initial cut at /dev/crypto support.  takes original mbuf "try, and discard
if we fail" semantics and extends to two varients of data movement: mbuf,
or an iovec style block.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.197 2001/05/02 20:30:28 mickey Exp $
d158 2
a159 1
# device	wlp: ether, ifnet
@


1.198
log
@unify rd(4) even more
@
text
@d286 1
d628 2
@


1.197
log
@pack all NVGA*s into one vga.h, lot's of spaces vs tabs
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.196 2001/04/10 22:52:00 aaron Exp $
d789 1
@


1.196
log
@Split RealTek 8129/8139 driver into bus-dependent and bus-independent parts;
prep for an rl CardBus attachment.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.195 2001/04/09 07:14:17 tholo Exp $
d30 8
a37 8
define  rasops1
define  rasops2
define  rasops4
define  rasops8
define  rasops15
define  rasops16
define  rasops24
define  rasops32
d67 3
a69 3
define pcdisplayops
file   dev/ic/pcdisplay_subr.c         pcdisplayops
file   dev/ic/pcdisplay_chars.c        pcdisplayops
d72 3
a74 3
device  vga: wsemuldisplaydev, pcdisplayops
file    dev/ic/vga.c            vga     needs-flag
file    dev/ic/vga_subr.c       vga
d81 3
a83 3
define  wdc_base
define  ata {[channel = -1], [drive = -1]}
define  atapi {[channel = -1]}
d85 2
a86 2
device  wdc: ata, atapi, wdc_base
file    dev/ic/wdc.c wdc_base
d146 2
a147 2
define siop_common
file dev/ic/siop_common.c		siop_common
d150 2
a151 2
device siop: scsi,siop_common
file dev/ic/siop.c			siop
d158 1
a158 1
# device wlp: ether, ifnet
d214 2
a215 2
device pckbc { [slot = -1] }
file   dev/ic/pckbc.c          pckbc needs-flag
d223 2
a224 2
define  ac97
file    dev/ic/ac97.c			ac97
d241 1
a241 1
 
d319 1
a319 1
file dev/audio.c			audio 			needs-flag
d333 16
a348 16
file dev/raidframe/rf_acctrace.c        raid                    needs-flag
file dev/raidframe/rf_alloclist.c       raid                    needs-flag
file dev/raidframe/rf_aselect.c         raid                    needs-flag
file dev/raidframe/rf_callback.c        raid                    needs-flag
file dev/raidframe/rf_chaindecluster.c  raid                    needs-flag
file dev/raidframe/rf_copyback.c        raid                    needs-flag
file dev/raidframe/rf_cvscan.c          raid                    needs-flag
file dev/raidframe/rf_dagdegrd.c        raid                    needs-flag
file dev/raidframe/rf_dagdegwr.c        raid                    needs-flag
file dev/raidframe/rf_dagffrd.c         raid                    needs-flag
file dev/raidframe/rf_dagffwr.c         raid                    needs-flag
file dev/raidframe/rf_dagfuncs.c        raid                    needs-flag
file dev/raidframe/rf_dagutils.c        raid                    needs-flag
file dev/raidframe/rf_debugMem.c        raid                    needs-flag
file dev/raidframe/rf_debugprint.c      raid                    needs-flag
file dev/raidframe/rf_decluster.c       raid                    needs-flag
d390 3
a392 3
file dev/raidframe/rf_strutils.c        raid                    needs-flag
file dev/raidframe/rf_threadstuff.c     raid                    needs-flag
file dev/raidframe/rf_utils.c           raid                    needs-flag
d614 1
a614 1
file netinet/ipsec_output.c             (inet | inet6) & ipsec
d796 1
a796 1
#file netinet6/ipv6_input.c   		inet6
d800 1
a800 1
#file netinet6/ipv6_output.c  		inet6
d802 1
a802 1
#file netinet6/ipv6_trans.c   		inet6
@


1.195
log
@Add emulation of Linux features to procfs; mostly from NetBSD.  ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.194 2001/03/29 01:39:31 aaron Exp $
d180 4
@


1.194
log
@Add MII support to NE2000 PCMCIA driver. Both the Netgear FA410TXC and
New Media LiveWire Fast Ethernet adapters now work after these changes,
although the Netgear card still requires media to be set manually.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.193 2001/03/29 01:26:46 aaron Exp $
d507 1
@


1.193
log
@Support for the MII on the D-Link DL10019/DL10022 NE2000-compatible Ethernet
chips; from NetBSD, with some required modifications by me.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.192 2001/03/21 23:24:50 art Exp $
d191 1
a191 1
device	ne: ether, ifnet, dp8390nic, ifmedia
@


1.192
log
@Ok, I'm breaking my promise. I promised to not do anything with the
old vm system and I hoped that it would make people help me to switch all
archs to uvm. But that didn't help.

Fix pool to work with the old vm system (not optimal, ha!).
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.191 2001/03/18 04:34:56 nate Exp $
d56 1
d193 3
@


1.191
log
@Add rasops
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.190 2001/03/11 02:48:19 aaron Exp $
d440 1
a779 3

# XXX
file kern/subr_pool.c			uvm
@


1.190
log
@Code for devices that read/write to an IEEE 802.3u MII bus using the
bit-bang method; from NetBSD.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.189 2001/03/07 23:59:02 mickey Exp $
d28 10
@


1.189
log
@and this will produce a cubios mickey
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.188 2001/02/15 04:07:57 krw Exp $
d64 5
@


1.188
log
@Import siop, a replacement for the ncr SCSI driver, from NetBSD.

Written for NetBSD by Manuel Bouyer.

Tested with various cards on i386 and alpha.

Outstanding issue: doesn't work with PowerPC yet.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.187 2001/02/10 10:42:34 niklas Exp $
d110 4
@


1.187
log
@new symbol handling in ddb for ELF, there is still a problem with hangman on alpha though..
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.186 2001/02/08 18:46:21 itojun Exp $
d124 8
@


1.186
log
@witch raw ip6 socket code from NRL to kame.
makes upgrades/code sharing much easier.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.185 2001/02/06 00:22:14 mickey Exp $
d268 1
@


1.185
log
@allow changing number of loopbacks in ukc.
change rest of the code to use lo0ifp pointing
to the corresponding struct ifnet.
itojun@@ and niklas@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.184 2001/01/24 09:38:02 hugh Exp $
d760 1
a760 1
file netinet6/raw_ipv6.c		inet6
d795 1
a795 1
#file netinet6/raw_ip6.c			inet6
@


1.184
log
@KGDB for i386 from NetBSD via niklas, with tweaks and accommodations.
Tested by various, vetted by mickey & theo.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.183 2001/01/23 04:19:42 krw Exp $
d502 1
a502 1
file net/if_loop.c			loop			needs-count
@


1.183
log
@Add support for Initio INI-91xx SCSI Cards
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.182 2000/12/17 21:34:57 mickey Exp $
d264 1
a264 1
file ddb/db_access.c			ddb
d274 1
a274 1
file ddb/db_run.c			ddb
d399 1
@


1.182
log
@Compaq SMART Array RAID controllers.
based on netbsd driver.
testing helps from brad@@
eisa untested, but should work (;
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.181 2000/12/12 03:41:22 jason Exp $
d203 4
@


1.181
log
@Add support for 802.1D spanning tree protocol.
NOTE: this requires recompiling brconfig with updated include files.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.180 2000/11/16 20:02:21 provos Exp $
d106 4
@


1.180
log
@support kernel event queues, from FreeBSD by Jonathan Lemon,
okay art@@, millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.179 2000/11/16 05:53:59 aaron Exp $
d505 1
@


1.179
log
@New files for pcdisplay(4), vga(4), and pckbc(4)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.178 2000/09/28 19:16:14 mickey Exp $
d368 1
@


1.178
log
@there is no pseudo-device random anymore, it's hardcoded in init_main
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.177 2000/09/19 03:23:16 angelos Exp $
d55 10
d174 4
a193 4

# VGA
device	vga: wsemuldisplaydev
file	dev/ic/vga.c		vga & (vga_isa | vga_pci)
@


1.177
log
@Added files, and IPv6-IPsec update.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.176 2000/09/15 13:44:23 mickey Exp $
a225 1
pseudo-device random
@


1.176
log
@3ware escalade is coming
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.175 2000/09/06 01:51:16 rahnds Exp $
d552 1
d556 1
@


1.175
log
@vgafb is removed, was only used on powerpc, and is not in a state to
be an MI device. This old version was based on old wscons and will not build.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.174 2000/08/12 04:30:18 jasoni Exp $
d92 4
@


1.174
log
@add procfs_cmdline.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.173 2000/06/25 08:50:22 espie Exp $
a179 5

# VGA framebuffer
device	vgafb: wsdisplaydev
file	dev/ic/vgafb.c		vgafb & (vgafb_isa | vgafb_pci)
file	dev/ic/font_8x16.c	vgafb & (vgafb_isa | vgafb_pci)
@


1.173
log
@vnd needs blowfish. Ok provos@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.172 2000/06/20 09:46:11 fgsch Exp $
d453 1
@


1.172
log
@some files from crypto/ are needed for tcfs.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.171 2000/06/19 03:21:18 tholo Exp $
d560 1
a560 1
file crypto/blf.c			(inet & ipsec) | crypto | tcfs
@


1.171
log
@Need to include rijndael.c for crypto | (inet & ipsec) too
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.170 2000/06/18 17:32:42 itojun Exp $
d560 1
a560 1
file crypto/blf.c			(inet & ipsec) | crypto
d563 3
a565 3
file crypto/ecb_enc.c			(inet & ipsec) | crypto
file crypto/set_key.c			(inet & ipsec) | crypto
file crypto/ecb3_enc.c			(inet & ipsec) | crypto
@


1.170
log
@sync with KAME udp6_output().  udp output logic is very different between
IPv4/v6 so the separation should make more sense.

TODO: remove IPv6 case from udp_output()
TODO: remove/comment out/#if 0 IPv4 mapped address cases
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.169 2000/06/17 17:16:04 provos Exp $
a247 1
file crypto/rijndael.c			uvm_swap_encrypt
d557 1
@


1.169
log
@initial import of tcfs.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.168 2000/06/12 17:23:49 itojun Exp $
d781 1
@


1.168
log
@add kern/uipc_mbuf2.c again
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.167 2000/06/12 06:10:43 fgsch Exp $
d437 15
@


1.167
log
@move cfdriver to ncr53c9x.c and device declaration to conf/files.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.166 2000/06/06 20:18:20 art Exp $
d409 1
@


1.166
log
@malloc debugging code. Enabled by option MALLOC_DEBUG.
Make sure you read the docs (malloc(9)) before use.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.165 2000/05/30 19:34:20 mickey Exp $
a42 1
define	ncr53c9x	# NCR 53c9x or Emulex ESP SCSI Controller
d102 5
a271 1
file dev/ic/ncr53c9x.c			ncr53c9x
@


1.165
log
@add sti graphics available in pci and sgc form factors
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.164 2000/05/29 18:04:08 aaron Exp $
d368 1
@


1.164
log
@Support for 3c574 and 3CCFEM556BI PCMCIA Ethernet; from NetBSD.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.163 2000/05/27 21:06:07 provos Exp $
d181 4
@


1.163
log
@use rijndael instead of blowfish because of faster key setup.
break swap paritions into sections, each section has own
encryption key.  if a section's key becomes unreferenced, erase it.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.162 2000/05/17 18:20:19 mickey Exp $
d104 1
a104 1
device	ep: ether, ifnet, ifmedia
@


1.162
log
@new wscons defines
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.161 2000/04/26 19:04:59 chris Exp $
d240 1
d536 1
a536 1
file crypto/blf.c			(inet & ipsec) | crypto | uvm_swap_encrypt
@


1.161
log
@Add if_vlan
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.160 2000/04/19 00:10:35 deraadt Exp $
d50 5
a54 1
define  wsconsdev {[console = -1]}
d174 1
a174 1
device	vga: wsconsdev
d178 1
a178 1
device	vgafb: wsconsdev
@


1.160
log
@split out mbuf scatter gather function
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.159 2000/04/18 19:35:28 jason Exp $
d218 1
d467 1
@


1.159
log
@split dc driver into bus dependent and bus independent (pci) parts
(cardbus to come later).
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.158 2000/04/18 18:44:22 jason Exp $
d537 1
@


1.158
log
@split fxp into bus independent and dependent (pci) parts (cardbus to come)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.157 2000/04/08 05:50:50 aaron Exp $
d126 4
@


1.157
log
@Initial check-in for support of 32-bit CardBus PC Cards; from NetBSD. On many
machines, this code needs the new PCIBIOS* options enabled in the kernel config
file to work, but your mileage may vary. Included is a working 3c575 driver for
3Com 10/100 CardBus PC Card NICs (tested only with the 'C' revision). The 3c575
is the pccard version of the PCI EtherLink XL cards, and thus the xl driver has
been split into /sys/dev/ic.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.156 2000/04/03 01:02:00 mickey Exp $
d119 1
d122 4
@


1.156
log
@aironet 802.11 ds driver from freebsd, isa and pci are missing
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.155 2000/03/23 09:59:56 art Exp $
d119 3
a175 1
define	pcmciabus { }			# PCMCIA attachment
d178 3
@


1.155
log
@New API for timeouts. Replaces the old timeout()/untimeout() API and
makes it the callers responsibility to allocate resources for the
timeouts.

This is a KISS implementation and does _not_ solve the problems of slow
handling of a large number of pending timeouts (this will be solved in
future work) (although hardclock is now guarateed to take constant time
for handling of timeouts).

Old timeout() and untimeout() are implemented as wrappers around the new
API and kept for compatibility. They will be removed as soon as all
subsystems are converted to use the new API.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.154 2000/03/19 06:53:40 deraadt Exp $
d105 4
@


1.154
log
@split crypto driver front-end from software crypto engine
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.153 2000/03/17 10:25:20 angelos Exp $
d349 1
@


1.153
log
@Cryptographic services framework, and software "device driver". The
idea is to support various cryptographic hardware accelerators (which
may be (detachable) cards, secondary/tertiary/etc processors,
software crypto, etc). Supports session migration between crypto
devices. What it doesn't (yet) support:
 - multiple instances of the same algorithm used in the same session
 - use of multiple crypto drivers in the same session
 - asymmetric crypto

No support for a userland device yet.

IPsec code path modified to allow for asynchronous cryptography
(callbacks used in both input and output processing). Some unrelated
code simplification done in the process (especially for AH).

Development of this code kindly supported by Network Security
Technologies (NSTI). The code was writen mostly in Greece, and is
being committed from Montreal.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.152 2000/02/28 23:13:06 deraadt Exp $
d517 1
@


1.152
log
@move crypto code
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.151 2000/02/07 00:33:03 niklas Exp $
a505 1
file netinet/ip_xform.c			inet & ipsec
d516 2
@


1.151
log
@Rough but working driver for ICP-Vortex RAID
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.150 2000/01/27 08:09:07 angelos Exp $
d509 8
a516 8
file netinet/ip_rmd160.c		inet & ipsec
file netinet/ip_sha1.c			inet & ipsec
file netinet/ip_blf.c			(inet & ipsec) | uvm_swap_encrypt
file netinet/ip_cast.c			inet & ipsec
file netinet/ip_skipjack.c		inet & ipsec
file netinet/libdeslite/ecb_enc.c	inet & ipsec
file netinet/libdeslite/set_key.c	inet & ipsec
file netinet/libdeslite/ecb3_enc.c	inet & ipsec
@


1.151.2.1
log
@Sync with -current
@
text
@d1 1
a1 1
#	$OpenBSD$
d509 8
a516 8
file crypto/rmd160.c			(inet & ipsec) | crypto
file crypto/sha1.c			(inet & ipsec) | crypto
file crypto/blf.c			(inet & ipsec) | crypto | uvm_swap_encrypt
file crypto/cast.c			(inet & ipsec) | crypto
file crypto/skipjack.c			(inet & ipsec) | crypto
file crypto/ecb_enc.c			(inet & ipsec) | crypto
file crypto/set_key.c			(inet & ipsec) | crypto
file crypto/ecb3_enc.c			(inet & ipsec) | crypto
@


1.151.2.2
log
@Sync with -current
@
text
@a348 1
file kern/kern_timeout.c
d506 1
a516 3
file crypto/crypto.c			(inet & ipsec) | crypto
file crypto/cryptosoft.c		(inet & ipsec) | crypto
file crypto/xform.c			(inet & ipsec) | crypto
@


1.151.2.3
log
@merge in approximately 2.9 into SMP branch
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.196 2001/04/10 22:52:00 aaron Exp $
a28 10
# raster operations attributes
define  rasops1
define  rasops2
define  rasops4
define  rasops8
define  rasops15
define  rasops16
define  rasops24
define  rasops32

d43 1
a46 1
define	dl10019		# DL10019/10022-family Ethernet controllers
d50 1
a50 20
define	wsdisplaydev {}
define	wsemuldisplaydev {[console = -1]}
define	wskbddev {[console = -1], [mux = -1]}
define	wsmousedev {[mux = -1]}
define	wsrasteremulops

# common PC display functions
define pcdisplayops
file   dev/ic/pcdisplay_subr.c         pcdisplayops
file   dev/ic/pcdisplay_chars.c        pcdisplayops

# VGA graphics
device  vga: wsemuldisplaydev, pcdisplayops
file    dev/ic/vga.c            vga     needs-flag
file    dev/ic/vga_subr.c       vga

# Attribute for devices that read/write an IEEE 802.3u MII bus using the
# bit-bang method.
define	mii_bitbang
file	dev/mii/mii_bitbang.c	mii_bitbang
a89 12
# 3ware Escalade RAID controllers
device	twe: scsi
file	dev/ic/twe.c		twe

# Compaq Smart ARRAY controllers
device	cac: scsi
file	dev/ic/cac.c		cac

# AMI MegaRAID controllers
device	ami: scsi
file	dev/ic/ami.c		ami

a98 13
# NCR 53c9x or Emulex ESP SCSI Controller
define	ncr53c9x
device	esp: scsi, ncr53c9x
file	dev/ic/ncr53c9x.c	ncr53c9x

# common stuff for siop and esiop
define siop_common
file dev/ic/siop_common.c		siop_common

# Symbios/NCR 53c720/53c8xx SCSI controllers
device siop: scsi,siop_common
file dev/ic/siop.c			siop

d100 1
a100 1
device	ep: ether, ifnet, ifmedia, mii
a105 4
# Aironet 802.11 DS Ethernet controller
device	an: ether, ifnet, ifmedia
file	dev/ic/an.c		an

a114 16
# 3Com 3c9xx
device	xl: ether, ifnet, ifmedia, mii
file	dev/ic/xl.c		xl

# Intel EtherExpress PRO 10/100B
device	fxp: ether, ifnet, ifmedia, mii
file	dev/ic/fxp.c		fxp

# RealTek 8129/8139
device	rl: ether, ifnet, ifmedia, mii
file	dev/ic/rtl81x9.c	rl

# Clones of Digital 2104x
device	dc: ether, ifnet, ifmedia, mii
file	dev/ic/dc.c		dc

d121 1
a121 1
device	ne: ether, ifnet, dp8390nic, ifmedia, mii
a123 3
# D-Link DL10019/10022 NE2000-compatible network interface subroutines
file	dev/ic/dl10019.c	dl10019

a135 4
# PC-like keyboard controller
device pckbc { [slot = -1] }
file   dev/ic/pckbc.c          pckbc needs-flag

d153 9
a161 8
# STI (hp graphics)
device	sti: wsemuldisplaydev
file	dev/ic/sti.c		sti & (sti_pci | sti_sgc)	needs-flag

# Initio ULTRA WIDE/ULTRA2 WIDE SCSI Controllers
device	iha: scsi
file	dev/ic/iha.c		iha
 
d169 1
a171 3
define	pcmciabus { [controller = -1], [socket = -1]}	# PCMCIA attachment
define	cbbus {[slot = -1]}		# CardBus attachment
define	pcmciaslot {[slot = -1]}	# PCMCIA slot itself
d197 1
a199 1
pseudo-device vlan: ifnet, ether
d217 1
a217 1
file ddb/db_access.c			ddb | kgdb
a220 1
file ddb/db_elf.c			ddb
d227 1
a227 1
file ddb/db_run.c			ddb | kgdb
d240 1
a329 1
file kern/kern_event.c
a339 1
file kern/kern_malloc_debug.c		malloc_debug
a350 1
file kern/kgdb_stub.c			kgdb
a362 1
file kern/subr_pool.c
a376 1
file kern/uipc_mbuf2.c
a403 15
file miscfs/tcfs/tcfs_subr.c		tcfs
file miscfs/tcfs/tcfs_vfsops.c		tcfs
file miscfs/tcfs/tcfs_vnops.c		tcfs
file miscfs/tcfs/tcfs_attr.c		tcfs
file miscfs/tcfs/tcfs_cipher_TDES.c	tcfs
file miscfs/tcfs/tcfs_cipher_BLOWFISH.c	tcfs
file miscfs/tcfs/tcfs_cipher_conf.c	tcfs
file miscfs/tcfs/tcfs_cipher_none.c	tcfs
file miscfs/tcfs/tcfs_cmd.c		tcfs
file miscfs/tcfs/tcfs_crypto.c		tcfs
file miscfs/tcfs/tcfs_dir.c		tcfs
file miscfs/tcfs/tcfs_fileinfo.c	tcfs
file miscfs/tcfs/tcfs_interp.c		tcfs
file miscfs/tcfs/tcfs_keytab.c		tcfs
file miscfs/tcfs/tcfs_rw.c		tcfs
a405 1
file miscfs/procfs/procfs_cmdline.c	procfs
a407 1
file miscfs/procfs/procfs_linux.c	procfs
d436 1
a436 1
file net/if_loop.c			loop
a447 2
file net/bridgestp.c			bridge
file net/if_vlan.c			vlan			needs-count
a503 1
file netinet/ip_spd.c			(inet | inet6) & (ipsec | tcp_signature)
a506 1
file netinet/ipsec_output.c             (inet | inet6) & ipsec
a508 1
file crypto/rijndael.c			(inet & ipsec) | crypto | uvm_swap_encrypt
d511 1
a511 1
file crypto/blf.c			(inet & ipsec) | crypto | tcfs | vnd
d514 3
a516 3
file crypto/ecb_enc.c			(inet & ipsec) | crypto | tcfs
file crypto/set_key.c			(inet & ipsec) | crypto | tcfs
file crypto/ecb3_enc.c			(inet & ipsec) | crypto | tcfs
a518 1
file crypto/mbuf.c			(inet & ipsec) | crypto
d680 3
d688 1
a688 1
#file netinet6/raw_ipv6.c		inet6
d723 1
a723 1
file netinet6/raw_ip6.c			inet6
a730 1
file netinet6/udp6_output.c		inet6
@


1.151.2.4
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.151.2.3 2001/05/14 22:06:47 niklas Exp $
d30 8
a37 8
define	rasops1
define	rasops2
define	rasops4
define	rasops8
define	rasops15
define	rasops16
define	rasops24
define	rasops32
d67 3
a69 3
define	pcdisplayops
file	dev/ic/pcdisplay_subr.c		pcdisplayops
file	dev/ic/pcdisplay_chars.c	pcdisplayops
d72 3
a74 3
device	vga: wsemuldisplaydev, pcdisplayops
file	dev/ic/vga.c		vga & vga_pci	needs-flag
file	dev/ic/vga_subr.c	vga & vga_pci
d81 3
a83 3
define	wdc_base
define	ata {[channel = -1], [drive = -1]}
define	atapi {[channel = -1]}
d85 2
a86 2
device	wdc: ata, atapi, wdc_base
file	dev/ic/wdc.c wdc_base
d146 2
a147 2
define	siop_common
file	dev/ic/siop_common.c		siop_common
d150 2
a151 2
device	siop: scsi,siop_common
file	dev/ic/siop.c			siop
d158 1
a158 2
device	wi: ether, ifnet, ifmedia
file	dev/ic/if_wi.c		wi
d214 2
a215 2
device	pckbc { [slot = -1] }
file	dev/ic/pckbc.c		pckbc needs-flag
d223 2
a224 2
define	ac97
file	dev/ic/ac97.c			ac97
d241 1
a241 1

a279 1
pseudo-device pflog: ifnet
a285 1
pseudo-device crypto: ifnet
a291 3
pseudo-device pf: ifnet
file	net/pf.c		pf	needs-flag

a298 14
file altq/altq_afmap.c			altq
file altq/altq_blue.c			altq
file altq/altq_cbq.c			altq
file altq/altq_cdnr.c			altq
file altq/altq_conf.c			altq
file altq/altq_fifoq.c			altq
file altq/altq_hfsc.c			altq
file altq/altq_localq.c			altq
file altq/altq_priq.c			altq
file altq/altq_red.c			altq
file altq/altq_rio.c			altq
file altq/altq_rmclass.c		altq
file altq/altq_subr.c			altq
file altq/altq_wfq.c			altq
d319 1
a319 1
file dev/audio.c			audio			needs-flag
d333 16
a348 16
file dev/raidframe/rf_acctrace.c	raid			needs-flag
file dev/raidframe/rf_alloclist.c	raid			needs-flag
file dev/raidframe/rf_aselect.c		raid			needs-flag
file dev/raidframe/rf_callback.c	raid			needs-flag
file dev/raidframe/rf_chaindecluster.c	raid			needs-flag
file dev/raidframe/rf_copyback.c	raid			needs-flag
file dev/raidframe/rf_cvscan.c		raid			needs-flag
file dev/raidframe/rf_dagdegrd.c	raid			needs-flag
file dev/raidframe/rf_dagdegwr.c	raid			needs-flag
file dev/raidframe/rf_dagffrd.c		raid			needs-flag
file dev/raidframe/rf_dagffwr.c		raid			needs-flag
file dev/raidframe/rf_dagfuncs.c	raid			needs-flag
file dev/raidframe/rf_dagutils.c	raid			needs-flag
file dev/raidframe/rf_debugMem.c	raid			needs-flag
file dev/raidframe/rf_debugprint.c	raid			needs-flag
file dev/raidframe/rf_decluster.c	raid			needs-flag
d390 3
a392 3
file dev/raidframe/rf_strutils.c	raid			needs-flag
file dev/raidframe/rf_threadstuff.c	raid			needs-flag
file dev/raidframe/rf_utils.c		raid			needs-flag
a560 1
file net/if_pflog.c			pflog			needs-count
a582 1
file netinet/in4_cksum.c		inet
d601 8
d614 1
a614 1
file netinet/ipsec_output.c		(inet | inet6) & ipsec
a626 2
file crypto/cryptodev.c			((inet & ipsec) | crypto)	needs-flag
file crypto/criov.c			(inet & ipsec) | crypto
d628 1
a628 1
file crypto/cryptombuf.c		(inet & ipsec) | crypto
d701 1
d749 40
a788 24
file uvm/uvm_amap.c
file uvm/uvm_anon.c
file uvm/uvm_aobj.c
file uvm/uvm_device.c
file uvm/uvm_fault.c
file uvm/uvm_glue.c
file uvm/uvm_init.c
file uvm/uvm_io.c
file uvm/uvm_km.c
file uvm/uvm_loan.c
file uvm/uvm_map.c
file uvm/uvm_meter.c
file uvm/uvm_mmap.c
file uvm/uvm_page.c
file uvm/uvm_pager.c
file uvm/uvm_pdaemon.c
file uvm/uvm_pglist.c
file uvm/uvm_stat.c
file uvm/uvm_swap.c
file uvm/uvm_swap_encrypt.c		uvm_swap_encrypt
file uvm/uvm_unix.c
file uvm/uvm_user.c
file uvm/uvm_vnode.c
file dev/rd.c				ramdisk_hooks
d796 1
a796 1
#file netinet6/ipv6_input.c		inet6
d800 1
a800 1
#file netinet6/ipv6_output.c		inet6
d802 1
a802 1
#file netinet6/ipv6_trans.c		inet6
d807 1
a843 1
file net/pfkeyv2_convert.c		key | ipsec | tcp_signature
@


1.151.2.5
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.151.2.4 2001/07/04 10:39:55 niklas Exp $
a17 1
define	radio {}
a22 4
# radio device attributes
define tea5757
define lm700x

a42 1
define	crypto
d45 1
a56 1
define	ax88190		# AX88190-family Ethernet controllers
a70 4
# Mostek time-of-day clock and NVRAM
define	mk48txx
file	dev/ic/mk48txx.c		mk48txx

d73 2
a74 2
file	dev/ic/vga.c		vga & (vga_pci | vga_isa)	needs-flag
file	dev/ic/vga_subr.c	vga & (vga_pci | vga_isa)	needs-flag
a93 1
file	dev/ic/smc93cx6.c	ahc
a122 4
# LSI64854 DMA controller back-end
define	lsi64854
file	dev/ic/lsi64854.c	lsi64854

a156 4
# LEMAC-based cards
device	lc: ether, ifnet, ifmedia
file	dev/ic/lemac.c		lc

a201 3
# ASIX AX88190 NE2000-compatible network interface subroutines
file	dev/ic/ax88190.c	ax88190

a205 4
# Sun GEM Ethernet controllers
device	gem: ether, ifnet, ifmedia, mii
file	dev/ic/gem.c		gem

d212 1
a212 1
file	dev/ic/com.c		com & (com_isa | com_isapnp | com_commulti | com_pcmcia | com_pica | com_algor | com_gsc | com_puc | com_ebus) needs-flag
a263 4
# radio devices, attaches to radio hardware driver
device	radio
attach	radio at radio

a296 1
file	net/pf_norm.c		pf
d305 4
d310 4
a313 1
file altq/altq_subr.c			altq
d315 1
a315 1
file altq/altq_cbq.c			altq
d317 2
a318 9
file altq/altq_afmap.c			altq_afmap
file altq/altq_blue.c			altq_blue
file altq/altq_cdnr.c			altq_cdnr
file altq/altq_fifoq.c			altq_fifoq
file altq/altq_hfsc.c			altq_hfsc
file altq/altq_localq.c			altq_localq
file altq/altq_priq.c			altq_priq
file altq/altq_rio.c			altq_rio
file altq/altq_wfq.c			altq_wfq
a339 1
file dev/radio.c			radio			needs-flag
a346 2
file dev/ic/tea5757.c			tea5757
file dev/ic/lm700x.c			lm700x
d423 1
a423 1
file kern/exec_elf32.c
d436 1
a459 1
file kern/subr_pool.c
d468 1
d568 1
a568 1
file net/zlib.c				ppp_deflate | ipsec
a630 1
file netinet/ip_ipcomp.c		inet & ipsec
a645 1
file crypto/deflate.c			(inet & ipsec) | crypto
a744 1
file ufs/ext2fs/ext2fs_bswap.c		ext2fs
@


1.151.2.6
log
@Merge in -current
@
text
@d1 1
a1 1
#	$OpenBSD$
d601 1
a601 1
file net/zlib.c				ppp_deflate | ipsec | crypto
@


1.151.2.7
log
@Merge in -current
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.151.2.6 2001/11/13 21:05:48 niklas Exp $
d659 1
a659 1
file netinet/ip_ether.c			inet
a774 1
file ufs/ufs/ufs_quota_stub.c		ffs | mfs
a802 1
file uvm/uvm_bio.c
@


1.151.2.8
log
@Merge in trunk
@
text
@d1 1
a1 1
#	$OpenBSD$
d104 1
a104 2
file	dev/ic/aic7xxx_openbsd.c	ahc
file	dev/ic/aic7xxx_93cx6.c	ahc
d124 1
a124 1
file	dev/ic/bha.c		bha & (bha_pci | bha_isa | bha_eisa) needs-flag
a268 4
# Tekram TRM-S1040 SCSI Cards (DC395U/UW/F,DC315/U)
device	trm: scsi
file	dev/ic/trm.c		trm

d496 1
d678 1
a770 1
file ufs/ufs/ufs_extattr.c		ffs | mfs
d804 1
@


1.151.2.9
log
@Merge in -current from about a week ago
@
text
@d104 2
a105 1
file	dev/ic/smc93cx6.c	ahc
d260 1
a260 1
file	dev/ic/lpt.c		lpt & (lpt_isa | lpt_pica | lpt_algor | lpt_gsc | lpt_puc | lpt_apio | lpt_ebus) needs-flag
d505 1
a505 1
file kern/sys_process.c			ptrace
d567 1
a567 1
file miscfs/procfs/procfs_fpregs.c	ptrace
d571 1
a571 1
file miscfs/procfs/procfs_regs.c	ptrace
@


1.151.2.10
log
@Sync the SMP branch with 3.3
@
text
@d18 1
a18 1
define	radiobus {}
a26 2
define tc921x
define pt2254a
a48 1
define	systrace
a50 1
define	ieee1394
d103 2
a104 3
file	dev/ic/aic7xxx.c		ahc
file	dev/ic/aic7xxx_openbsd.c	ahc
file	dev/ic/smc93cx6.c		ahc
d108 1
a108 1
file	dev/ic/aic6360.c	aic & (aic_isa | aic_pcmcia | aic_isapnp)
a167 4
# Symbios/NCR 53c720/53c8xx SCSI controllers
device	osiop: scsi
file	dev/ic/osiop.c			osiop & osiop_gsc

a178 1
file	dev/ic/if_wi_hostap.c	wi
a243 3
# HPPA PS/2 input ports (forward definition)
device	gsckbc { [slot = -1] }

a281 1
define	fwbus {[idhi=-1],[idlo=-1]}	# IEEE 1394 attachment
d296 1
a296 18
attach	radio at radiobus
file dev/radio.c			radio	needs-flag

#
# IEEE 1212 routines
define	ieee1212
file	dev/std/ieee1212.c		ieee1212

#
# SBP2 routines for IEEE 1394
define	sbp2
file	dev/std/sbp2.c			sbp2

# IEEE 1394 controllers
# (These need to be here since it will have both PCI and CardBus attachments)
#
device	fwlynx: fwbus
device	fwohci: fwbus
d315 1
a324 1
pseudo-device systrace
a331 9
file	net/pf_ioctl.c		pf
file	net/pf_table.c		pf
pseudo-device pflog: ifnet
file	net/if_pflog.c		pflog	needs-flag
pseudo-device pfsync: ifnet
file	net/if_pfsync.c		pfsync	needs-flag

pseudo-device bio
file	dev/bio.c	bio needs-flag
d340 1
d345 2
d348 4
a351 2
file altq/altq_hfsc.c			altq
file altq/altq_priq.c			altq
d353 1
d375 1
a384 2
file dev/ic/tc921x.c			tc921x
file dev/ic/pt2254a.c			pt2254a
a388 1
file dev/systrace.c			systrace		needs-flag
d478 1
a490 1
file kern/kern_watchdog.c
d547 15
d617 1
a618 1
#file net/if_ieee1394subr.c		ieee1394
a639 1
#file netinet/if_ieee1394arp.c		ieee1394 & inet
d671 1
a671 1
file crypto/blf.c			(inet & ipsec) | crypto | vnd
d674 3
a676 3
file crypto/ecb_enc.c			(inet & ipsec) | crypto
file crypto/set_key.c			(inet & ipsec) | crypto
file crypto/ecb3_enc.c			(inet & ipsec) | crypto
d854 1
@


1.151.2.11
log
@Sync the SMP branch to -current. This includes moving to ELF.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.151.2.10 2003/03/27 23:53:48 niklas Exp $
d175 1
a175 1
file	dev/ic/osiop.c			osiop & (osiop_gsc | osiop_eisa)
d276 1
a276 1
file	dev/ic/sti.c		sti & (sti_pci | sti_sgc | sti_phantom)
a284 4

# National Semiconductor LM7[89] and compatible hardware monitors
device	lm
file	dev/ic/nslm7x.c		lm
@


1.151.2.12
log
@merge the trunk so we will get the genfs and locking fixes
@
text
@d1 1
a1 1
#	$OpenBSD$
a578 3
file miscfs/genfs/layer_subr.c		nullfs | umapfs
file miscfs/genfs/layer_vfsops.c	nullfs | umapfs
file miscfs/genfs/layer_vnops.c		nullfs | umapfs
d584 1
@


1.151.2.13
log
@Sync SMP branch to -current
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.151.2.12 2003/05/16 00:29:41 niklas Exp $
a311 4
# EHCI USB controller
device	ehci: usbus
file	dev/usb/ehci.c			ehci	needs-flag

a614 6
file ntfs/ntfs_compr.c			ntfs
file ntfs/ntfs_conv.c			ntfs
file ntfs/ntfs_ihash.c			ntfs
file ntfs/ntfs_subr.c			ntfs
file ntfs/ntfs_vfsops.c			ntfs
file ntfs/ntfs_vnops.c			ntfs
@


1.151.2.14
log
@Merge of current from two weeks agointo the SMP branch
@
text
@d1 1
a1 1
#	$OpenBSD$
a56 1
define	wlan
a75 4
# SMC 93Cx6 Serial EEPROM devices
define	smc93cx6
file	dev/ic/smc93cx6.c		smc93cx6

d106 1
a106 1
device	ahc: scsi, smc93cx6
d109 1
a109 1
file	dev/ic/aic7xxx_seeprom.c	ahc
a210 4
# Myson MTD803
device	mtd: ether, ifnet, ifmedia, mii
file	dev/ic/mtd8xx.c		mtd

a355 1
pseudo-device carp: ifnet, ether
a372 2
file	net/pf_osfp.c		pf
file	net/pf_if.c		pf
a523 1
file kern/kern_rwlock.c
d534 1
a534 1
file kern/kern_watchdog.c		!small_kernel
d630 1
a630 1
file net/if_ethersubr.c			ether | inet | fddi | token needs-flag
a655 1
file net/if_ieee80211subr.c		wlan
d676 1
a676 1
file netinet/if_ether.c			ether | inet
a704 1
file netinet/ip_carp.c			carp			needs-count
a708 1
file crypto/sha2.c			(inet & ipsec) | crypto
a720 1
file crypto/arc4.c			wi | wlan
a810 1
file ufs/ufs/ufs_dirhash.c		ufs_dirhash & (ffs | mfs)
a833 1
file xfs/xfs_node.c			xfs
a895 1
file netinet6/ip6_id.c			inet6
@


1.151.2.15
log
@Merge with the trunk
@
text
@a18 2
define	i2cbus {}
define	gpiobus {}
a76 4
# i2c device attributes
define	i2cexec
define	i2c_bitbang

a115 5
# Adaptec U320 SCSI controllers
device	ahd: scsi
file	dev/ic/aic79xx.c		ahd
file	dev/ic/aic79xx_openbsd.c	ahd

a160 7
# LSILogic Fusion-MPT I/O Processor SCSI/FC Controllers
#
device  mpt: scsi
file    dev/ic/mpt.c			mpt
file    dev/ic/mpt_debug.c		mpt
file    dev/ic/mpt_openbsd.c		mpt

d178 1
a178 1
# Symbios/NCR 53c710 SCSI controllers
d180 1
a180 5
file	dev/ic/osiop.c			osiop & (osiop_gsc | osiop_eisa | osiop_pcctwo)

# Symbios/NCR 53c700 SCSI controllers
device	oosiop: scsi
file	dev/ic/oosiop.c			oosiop & (oosiop_gsc)
d257 1
a257 1
file	dev/ic/com.c		com & (com_isa | com_isapnp | com_commulti | com_pcmcia | com_pica | com_algor | com_gsc | com_puc | com_ebus | com_dino) needs-flag
a392 3
pseudo-device hotplug
file	dev/hotplug.c		hotplug	needs-flag

d523 1
a523 1
file kern/kern_acct.c			accounting
a660 1
file net/radix_mpath.c			!small_kernel
a721 1
file crypto/md5.c
d723 1
a723 1
file crypto/sha1.c			(inet & ipsec) | crypto | carp
d870 1
a870 1
#file uvm/uvm_loan.c
d886 15
a900 1
# IPv6
a905 1
file netinet6/in6_pcb.c			inet6
d909 1
d926 7
@


1.151.2.16
log
@sync to head
@
text
@a689 1
file net/route_src.c			!small_kernel
@


1.150
log
@Merge "old" and "new" ESP and AH in two files (one for each).
Fix a couple of buglets with ingress flow deletion.
tcpdump on enc0 should now show all outgoing packets *before* being
processed, and all incoming packets *after* being processed.

Good to be in Canada (land of the free commits).
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.149 2000/01/21 03:15:06 angelos Exp $
d85 4
@


1.149
log
@Rename the ip4_* routines to ipip_*, make it so GIF tunnels are not
affected by net.inet.ipip.allow (the sysctl formerly known as
net.inet.ip4.allow), rename the VIF ipip_input to ipip_mroute_input.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.148 2000/01/11 17:58:50 peter Exp $
d503 2
a504 4
file netinet/ip_esp_old.c		inet & ipsec
file netinet/ip_esp_new.c		inet & ipsec
file netinet/ip_ah_old.c		inet & ipsec
file netinet/ip_ah_new.c		inet & ipsec
@


1.148
log
@remove deleted raidframe files
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.147 2000/01/11 01:48:33 fgsch Exp $
d499 1
a499 1
file netinet/ip_ip4.c			inet | inet6
@


1.147
log
@ipx_erro not used anymore; remove it.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.146 2000/01/08 04:34:37 angelos Exp $
a252 1
file dev/raidframe/rf_cpuutil.c         raid                    needs-flag
@


1.146
log
@gre(4) interface in GENERIC
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.145 2000/01/06 21:01:15 fgsch Exp $
a572 1
file netipx/ipx_error.c			ipx
@


1.145
log
@Leave audio alone for midi or midibus.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.144 2000/01/02 09:06:42 angelos Exp $
d199 1
d451 1
d490 1
@


1.144
log
@ip_ip4.c should be included in inet | inet6.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.143 1999/12/30 18:21:56 provos Exp $
d231 1
a231 1
file dev/audio.c			audio | midi |midibus	needs-flag
@


1.143
log
@swap encryption for UVM, option UVM_SWAP_ENCRYPT.  needs to be enabled
via sysctl.
Pages are encrypted with the Blowfish encryption algorithm, the key
is initialized randomly on first swap out, ensuring that entropy has
accumulated in the kernel randomness pool.  Eventually, swap encryption
will be decided on a process by process basis, e.g. a process that reads from
a cryptographic filesystem will enable swap encrypt for its pages. okay
art@@ and deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.142 1999/12/27 21:41:13 fgsch Exp $
d497 1
a497 1
file netinet/ip_ip4.c			inet & (ipsec | mrouting)
@


1.142
log
@Add tropic driver definition and token ring support.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.141 1999/12/09 19:05:17 deraadt Exp $
d507 1
a507 1
file netinet/ip_blf.c			inet & ipsec
d669 1
@


1.141
log
@angelos and downsj, communicate, you dorks
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.140 1999/12/09 18:34:41 angelos Exp $
d37 1
d124 4
d428 1
a428 1
file net/if_ethersubr.c			ether | fddi		needs-flag
d440 1
@


1.140
log
@Include ipsec_input.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.139 1999/12/09 14:55:37 provos Exp $
a494 1
file netinet/ipsec_input.c		inet & ipsec
@


1.139
log
@ipsec_input.c instead of ip_esp.c and ip_ah.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.138 1999/12/08 06:50:17 itojun Exp $
d490 1
a490 1
file netinet/ip_ipsp.c			inet & (ipsec | tcp_signature)
d493 1
@


1.138
log
@bring in KAME IPv6 code, dated 19991208.
replaces NRL IPv6 layer.  reuses NRL pcb layer.  no IPsec-on-v6 support.
see sys/netinet6/{TODO,IMPLEMENTATION} for more details.

GENERIC configuration should work fine as before.  GENERIC.v6 works fine
as well, but you'll need KAME userland tools to play with IPv6 (will be
bringed into soon).
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.137 1999/11/30 07:55:55 cmetz Exp $
a492 2
file netinet/ip_ah.c			inet & ipsec
file netinet/ip_esp.c			inet & ipsec
d494 1
@


1.137
log
@Added port of the NetBSD (-current) DPT SmartCache III/IV PCI/EISA host adapter
driver to OpenBSD.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.136 1999/11/28 11:50:36 downsj Exp $
d192 2
d671 21
a691 1
# ... IPv6
d693 1
a693 1
file netinet6/ipv6_icmp.c		inet6
d695 3
a697 7
file netinet6/in6_pcb.c			inet6
file netinet6/raw_ipv6.c		inet6
file netinet6/ipv6_input.c   		inet6
file netinet6/ipv6_discovery.c		inet6
file netinet6/ipv6_addrconf.c		inet6
file netinet6/ipv6_rtrequest.c		inet6
file netinet6/ipv6_output.c  		inet6
d699 20
a718 1
file netinet6/ipv6_trans.c   		inet6
@


1.136
log
@lpt_puc support
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.135 1999/11/26 20:19:42 niklas Exp $
d68 4
@


1.135
log
@Forgotten com attachments (since most people use pccom on i386)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.134 1999/11/08 15:36:01 mickey Exp $
d138 1
a138 1
file	dev/ic/lpt.c		lpt & (lpt_isa | lpt_pica | lpt_algor | lpt_gsc) needs-flag
@


1.134
log
@move MI definition of rd into it's MI place also fixing
attributes, allowing kernels to exist w/ rd as the only disk device.
tested on a few archs; niels@@ & millert@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.133 1999/10/29 05:23:47 angelos Exp $
d121 1
a121 1
file	dev/ic/com.c		com & (com_isa | com_commulti | com_pcmcia | com_pica | com_algor | com_gsc) needs-flag
@


1.133
log
@Make if_enc.c depend on enc (not inet & ipsec), add needs-count flag.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.132 1999/10/29 02:00:44 angelos Exp $
d172 2
@


1.132
log
@Roll back dependency on bridge, unnecessary because of ifdef in ip_ether.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.131 1999/10/29 01:46:48 angelos Exp $
d435 1
a435 1
file net/if_enc.c			inet & ipsec
@


1.131
log
@ip_ether.c depends on bridge as well
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.130 1999/10/28 03:22:54 angelos Exp $
d484 1
a484 1
file netinet/ip_ether.c			inet & ipsec & bridge
@


1.130
log
@Add ip_ether.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.129 1999/09/19 06:52:08 csapuntz Exp $
d484 1
a484 1
file netinet/ip_ether.c			inet & ipsec
@


1.129
log
@

Define ac97 attribute
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.128 1999/09/10 12:24:26 kstailey Exp $
d484 1
@


1.128
log
@ELF64
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.127 1999/08/17 22:47:16 mickey Exp $
d127 4
@


1.127
log
@factor out ie device definition; niklas@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.126 1999/08/13 05:35:14 fgsch Exp $
d301 1
@


1.126
log
@USB attachment and controllers.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.125 1999/08/04 13:10:54 peter Exp $
d114 4
@


1.125
log
@* remove redundant rf_ccmn.h

* remove init call to rf_ConfigureEtimer() and rf_sys.c in which it is the
  only function. update conf/files to reflect this.

* update sources to make sure _KERNEL is used not KERNEL

* change rf_etimer.h to protect macros an include of sys/kernel.h with
  a check for _KERNEL - let raidctl compile again.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.124 1999/07/30 13:43:35 d Exp $
d150 9
@


1.124
log
@rename rl2->rln for sanity
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.123 1999/07/25 10:23:17 deraadt Exp $
a274 1
file dev/raidframe/rf_sys.c             raid                    needs-flag
@


1.123
log
@remove extra comments
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.122 1999/07/25 04:38:26 csapuntz Exp $
d99 2
a100 2
file	dev/ic/rl2.c		rln
file	dev/ic/rl2subr.c	rln
@


1.122
log
@

Enable new ATA/ATAPISCSI functionality as default.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.121 1999/07/18 21:25:20 csapuntz Exp $
a50 1
#Start uncommenting for new ATA stuff
a56 1
#End uncommenting for new ATA stuff
@


1.121
log
@

Import of NetBSD ATA/IDE stuff.

Introduction of home-grown

To enable this stuff in your configuration, look at the NEWATA conf file
and go through

dev/isa/files.isa
dev/pci/files.pci
conf/files
arch/i386/conf/files.i386

and follow the instructions on commenting/uncommenting stuff
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.120 1999/07/06 20:17:52 cmetz Exp $
d52 6
a57 6
#define  wdc_base
#define  ata {[channel = -1], [drive = -1]}
#define  atapi {[channel = -1]}
## Common code for ESDI/IDE/etc. controllers
#device  wdc: ata, atapi, wdc_base
#file    dev/ic/wdc.c wdc_base
@


1.120
log
@Added support for TCP MD5 option (RFC 2385).
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.119 1999/07/01 23:10:39 deraadt Exp $
d50 9
@


1.119
log
@lmc driver; ported by chris@@dqc.org
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.118 1999/06/21 23:21:44 d Exp $
d458 1
a458 1
file netinet/ip_ipsp.c			inet & ipsec
d653 3
a655 3
file net/pfkey.c			key | ipsec
file net/pfkeyv2.c			key | ipsec
file net/pfkeyv2_parsemessage.c		key | ipsec
@


1.118
log
@RangeLAN2 wireless network card
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.117 1999/06/18 07:23:57 deraadt Exp $
d36 1
d161 1
d393 1
@


1.117
log
@split out transforms; some debugging done but there may still be bugs in
the new key init/zero functions
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.116 1999/04/30 01:58:59 art Exp $
d88 5
@


1.116
log
@upgrade Arla to fresher code. Too many new features and bugfixes.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.115 1999/04/20 20:06:10 niklas Exp $
d454 1
@


1.115
log
@Merge MROUTING and IPSEC wrt handling of IP-in-IP tunnelled packets.
Fix a panic case in the MROUTING code too.  Drop M_TUNNEL support, nothing
ever uses it.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.114 1999/04/08 05:21:34 niklas Exp $
d573 1
a573 1
file xfs/xfs_common.c			xfs
d575 2
a576 1
file xfs/xfs_dev.c			xfs
d578 8
a585 4
file xfs/xfs_node.c			xfs
file xfs/xfs_syscalls.c
file xfs/xfs_vfsops.c			xfs
file xfs/xfs_vnodeops.c			xfs
@


1.114
log
@How nice that we always had multicast routing in our kernels even when
no MROUTING option has been set, and thus nothing calls the stuff...
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.113 1999/03/30 00:19:04 niklas Exp $
d451 1
a451 1
file netinet/ip_ip4.c			inet & ipsec
@


1.113
log
@make option IPSEC imply option KEY
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.112 1999/03/17 05:33:11 mjacob Exp $
d432 1
a432 1
file netinet/ip_mroute.c		inet
@


1.112
log
@complete update of ISP driver- includes 2100 FC support
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.111 1999/02/26 17:01:29 jason Exp $
d639 3
a641 3
file net/pfkey.c			key
file net/pfkeyv2.c			key
file net/pfkeyv2_parsemessage.c		key
@


1.111
log
@Ethernet bridge/IP firewall driver.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.110 1999/02/26 01:33:07 art Exp $
d76 1
@


1.110
log
@config changes for uvm
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.109 1999/02/24 22:59:00 angelos Exp $
d153 1
d395 1
@


1.109
log
@Use net/, not netsec/ for pfkey files.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.108 1999/02/24 22:38:22 angelos Exp $
d578 42
a619 17
file vm/device_pager.c			devpager
file vm/swap_pager.c			swappager
file vm/vm_fault.c
file vm/vm_glue.c
file vm/vm_init.c
file vm/vm_kern.c
file vm/vm_map.c
file vm/vm_meter.c
file vm/vm_mmap.c
file vm/vm_object.c
file vm/vm_page.c
file vm/vm_pageout.c
file vm/vm_pager.c
file vm/vm_swap.c
file vm/vm_unix.c
file vm/vm_user.c
file vm/vnode_pager.c
@


1.108
log
@Don't include skipjack twice.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.107 1999/02/24 22:36:42 angelos Exp $
d611 3
a613 3
file netsec/pfkey.c			key
file netsec/pfkeyv2.c			key
file netsec/pfkeyv2_parsemessage.c	key
@


1.107
log
@Add option KEY in GENERIC, and update files.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.106 1999/02/17 20:39:16 deraadt Exp $
a456 1
file netinet/ip_skipjack.c		inet & ipsec
@


1.106
log
@ipsec skipjack, based on free .fi code (some .gov type will test this for me)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.105 1999/01/11 14:28:55 niklas Exp $
a400 1
file net/encap.c			inet & ipsec
d460 1
a611 1
file netsec/sadb.c			key
@


1.105
log
@Import of CMU's RAIDframe via NetBSD.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.102 1999/01/02 00:02:48 niklas Exp $
d35 1
d458 1
a615 2

file kern/nbuf.c			nrl_ipsec
@


1.104
log
@Forgot to add kern_kthread.c here
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.103 1999/01/11 01:00:05 deraadt Exp $
d139 1
d199 62
@


1.103
log
@ipv6 chunks; nrl
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.102 1999/01/02 00:02:48 niklas Exp $
d220 1
@


1.102
log
@Midi & sequencer support from NetBSD, mostly by Lennart Augustsson
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.101 1998/12/26 12:35:10 provos Exp $
d530 22
@


1.101
log
@make ip_id random but ensure that ids dont repeat for some period.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.100 1998/11/28 04:06:04 mickey Exp $
d16 2
d23 1
a23 1
# audio device, attaches to audio hardware driver
d26 2
d104 5
d152 2
d183 1
a183 1
file dev/audio.c			audio			needs-flag
d192 2
d195 1
@


1.100
log
@lpt is definately IEEE 1284
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.99 1998/11/17 06:14:47 downsj Exp $
d349 1
@


1.99
log
@Add adw device driver.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.98 1998/11/08 15:09:01 mickey Exp $
d104 1
a104 1
# PC parallel ports (XXX what chip?)
@


1.98
log
@compile MI com/lpt/ncr53c7xx for hppa
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.97 1998/11/06 06:32:14 fgsch Exp $
d59 4
@


1.97
log
@Support for RealTek 8019 and 8029 NE2000-compatible network interfaces.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.96 1998/09/28 02:43:22 jason Exp $
d35 1
d94 1
a94 1
file	dev/ic/com.c		com & (com_isa | com_commulti | com_pcmcia | com_pica | com_algor) needs-flag
d102 1
a102 1
file	dev/ic/lpt.c		lpt & (lpt_isa | lpt_pica | lpt_algor) needs-flag
d171 1
@


1.96
log
@'sm' requires ifmedia attribute
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.95 1998/09/28 02:33:55 jason Exp $
d38 1
d174 1
@


1.95
log
@'ne' requires ifmedia attribute
"there can be only one!" - mickey@@
"There can be only 4" - jason@@
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.94 1998/09/28 01:23:44 mickey Exp $
d82 1
a82 1
device	sm: ether, ifnet
@


1.94
log
@introduce attribute 'ifmedia' which means 'this particulariface
supports if_edia stuff so include correspondent MI support'.
reviewed/additions by jason@@, he said "there might be more of 'em",
but i'd say, there can be only one!
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.93 1998/09/27 03:56:00 rahnds Exp $
d87 1
a87 1
device	ne: ether, ifnet, dp8390nic
@


1.93
log
@add wscons support to powerpc port.
This contains several pieces of the port
MI:
    vgafb, on powerpc under openfirmware the vga card comes up in gfx mode.
    instead of resetting it to text mode, vgafb treats this as a raster
    display. The mechanism used may not have been the best, it's
    interface to wscons is as a text display, and it does the character
    plotting itself.
    font_8x16.c was stolen from the atari port for use.

MD:
    ppcppi support stolen from alpha
    pms.c, pckbd.c and the rest of the support files were
    used nearly directly.

    powerpc
      conf.c to support wscon, vga/kbd
      machdep.c hack to get around a bus_space_set_region,bus_space_copy error.
      ofw_machdep.c some hack code on the road to supporting wscons as console.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.92 1998/09/27 03:38:40 downsj Exp $
d14 1
d71 1
a71 1
device	ep: ether, ifnet
d78 1
a78 1
device	le: ether, ifnet
d298 1
a298 1
file net/if_media.c
@


1.92
log
@Add adv driver.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.91 1998/09/22 06:46:51 fgsch Exp $
d104 5
@


1.91
log
@Add NE[12]00 and DS8390 drivers.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.90 1998/09/18 00:35:11 art Exp $
d52 4
@


1.90
log
@always build xfs_syscalls
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.89 1998/09/11 10:12:45 fgsch Exp $
d36 1
d80 5
d162 1
@


1.89
log
@Add sm and aic devices.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.88 1998/09/10 17:23:59 jason Exp $
d470 1
a470 1
file xfs/xfs_syscalls.c			xfs
@


1.88
log
@Added 'mii' bus
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.87 1998/09/03 06:24:19 jason Exp $
d48 4
d74 4
@


1.87
log
@o OpenBSD gets if_media support (from NetBSD)
o rework/simplify if_xl to use it
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.86 1998/08/30 17:11:32 art Exp $
d14 1
@


1.86
log
@glue for xfs
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.85 1998/08/27 05:00:09 deraadt Exp $
d272 1
@


1.85
log
@Undo changes which were not discussed.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.82 1998/08/24 05:42:18 millert Exp $
d455 8
@


1.84
log
@defopt TIMEZONE
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.83 1998/08/27 00:44:40 mickey Exp $
a5 3
# MI options
defopt	TIMEZONE
defopt	NTP
@


1.83
log
@defopt NTP
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.82 1998/08/24 05:42:18 millert Exp $
d7 1
@


1.82
log
@back out a change that should not have escaped
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.81 1998/08/24 05:26:50 millert Exp $
d6 2
@


1.81
log
@/dev/ksyms; kernel symbols pseudo-device that masquerades as an a.out binary for ports that copy the symbol table to the end of kernel space (all that use DDB do this)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.80 1998/07/10 19:56:55 mickey Exp $
a57 4

# National Semiconductor DP8390 Ethernet controller
device	ed: ether, ifnet
file	dev/ic/dp8390.c		ed
@


1.80
log
@add MI ipx_cksum.c for those missing MD one
@
text
@d59 4
d115 3
@


1.79
log
@remove another foul up of mine
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.78 1998/04/26 21:03:05 provos Exp $
d410 1
@


1.78
log
@update audio from NetBSD, mostly by Lennart Augustsson <augustss@@cs.chalmers.se>
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.77 1998/03/24 03:26:03 deraadt Exp $
a243 2
file miscfs/procfs/procfs_environ.c	procfs
file miscfs/procfs/procfs_eproc.c	procfs
@


1.77
log
@add isp driver from netbsd, more munging needed
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.76 1998/03/15 03:53:48 millert Exp $
d12 1
a12 1
define	audio
d17 5
d137 1
d244 2
@


1.76
log
@Add Kirk McKusick's soft update code.  This is an implementation of:
    http://www.ece.cmu.edu/~ganger/papers/CSE-TR-254-95/
This code currently has a restrictive copyright (for the time being)
and so is not enabled by default; "option FFS_SOFTUPDATES" will enable it.
Note that you will need to re-run config(8) as the old softdep stubs
have moved to ffs_softdep_stub.c.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.75 1998/03/01 00:37:53 niklas Exp $
d45 4
@


1.75
log
@Merge of MACHINE_NEW_CONTIG (aka MNN) code from Chuck Cranor,
<chuck@@openbsd.org>. This code is as of yet disabled on all platforms,
actually not yet supported on more than mvme68k, although other
platforms are expected soon, as code is already available.
This code makes handling of multiple physical memory regions
consistent over all platforms, as well as keeping the performance of
maintaining a single continuous memory chunk.  It is also a
requirement for the upcoming UVM replacement VM system.

What I did in this merge: just declared the pmap_map function in a
MD include file per port that needs it.  It's not an exported pmap
interface, says Chuck.  It ended up in differnt include files on
differnet ports, as I tried to follow the current policy on a per-arch
basis.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.74 1998/01/28 14:19:39 niklas Exp $
d418 1
a418 1
file ufs/ffs/ffs_softdep.c              ffs | mfs
d422 1
@


1.74
log
@Missing files, noted by Marco S Hyman <marc@@snafu.org>
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.73 1998/01/26 04:12:14 dgregor Exp $
d158 1
@


1.73
log
@IPF 3.2.3
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.71 1997/11/25 11:00:10 provos Exp $
d208 1
d213 1
@


1.72
log
@Broke up vfs_subr.c which was getting a bit huge. We now have seperate files
for the syncer daemon as well as default VOP_*.
@
text
@a207 1
file kern/vfs_default.c
a211 1
file kern/vfs_sync.c
d314 3
@


1.71
log
@add ripemd160.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.70 1997/11/10 04:01:22 mickey Exp $
d208 1
d213 1
@


1.70
log
@use files.wscons
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.69 1997/11/06 12:27:00 niklas Exp $
d322 1
@


1.69
log
@Add some missing things for the MI vga driver.  Move wscons to an MI place as
well.  $OpenBSD$ tagging
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.68 1997/11/06 05:58:07 csapuntz Exp $
a75 12

#
# "Workstation Console" glue; attaches frame buffer to emulator & kbd.
#
device	wscons
attach	wscons at wsconsdev
file	dev/wscons/wscons.c	wscons	needs-flag
file	dev/wscons/wscons_emul.c	wscons

file	dev/wscons/event.c	wscons
file	dev/wscons/kbd.c	wscons
file	dev/wscons/ms.c		wscons
@


1.68
log
@Updates for VFS Lite 2 + soft update.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.67 1997/11/06 02:53:48 niklas Exp $
d80 8
a87 8
#device	wscons
#attach	wscons at wsconsdev
#file	dev/wscons/wscons.c	wscons	needs-flag
#file	dev/wscons/wscons_emul.c	wscons

#file	dev/wscons/event.c	wscons
#file	dev/wscons/kbd.c	wscons
#file	dev/wscons/ms.c		wscons
@


1.67
log
@We need an MI vga driver.  The alpha one was most MI.  Not entirely yet though.
Some files were move behind CVS back.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.66 1997/11/04 09:10:50 provos Exp $
d171 1
d423 1
a445 1
file vm/kern_lock.c
@


1.66
log
@make it easier to add additional transforms. add blowfish and cast
encryption. some more info for kernfs/ipsec.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.65 1997/10/06 20:19:37 deraadt Exp $
d31 4
d72 16
@


1.65
log
@back out vfs lite2 till after 2.2
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.63 1997/08/20 17:09:41 angelos Exp $
d314 2
@


1.64
log
@VFS Lite2 Changes
@
text
@a151 1
file kern/kern_lock.c
d374 1
a374 1
file netipx/ipx_error.c			ipxf
a395 16

file ufs/bffs/bffs_vfsops.c		bffs
file ufs/bffs/bffs_vnops.c              bffs

file ufs/cffs/cffs_alloc.c		cffs
file ufs/cffs/cffs_balloc.c		cffs
file ufs/cffs/cffs_dir.c                cffs
file ufs/cffs/cffs_group.c              cffs
file ufs/cffs/cffs_hash.c		cffs
file ufs/cffs/cffs_inode.c		cffs
file ufs/cffs/cffs_lookup.c             cffs
file ufs/cffs/cffs_subr.c		cffs
file ufs/cffs/cffs_vfsops.c		cffs
file ufs/cffs/cffs_vnops.c		cffs
file ufs/cffs/iloctbl.c                 cffs

a401 1
file ufs/ffs/ffs_softdep.c              ffs
d422 1
@


1.63
log
@Comment out wavelan device.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.62 1997/08/19 21:58:02 angelos Exp $
d152 1
d375 1
a375 1
file netipx/ipx_error.c			ipx
d397 16
d419 1
a439 1
file vm/kern_lock.c
@


1.62
log
@Add wlp (wavelan) device.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.61 1997/07/23 04:35:32 denny Exp $
d51 1
a51 1
device wlp: ether, ifnet
@


1.61
log
@Add netatalk files.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.60 1997/07/11 23:37:50 provos Exp $
d49 3
@


1.60
log
@put old esp/ah and new esp/ah in different files.
generalised way of handling transforms.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.59 1997/06/20 19:44:47 provos Exp $
d314 6
@


1.59
log
@3des ede
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.58 1997/06/20 05:42:50 provos Exp $
d302 2
d306 4
a309 9
file netinet/ip_espdes.c		inet & ipsec
file netinet/ip_esp3des.c		inet & ipsec
file netinet/ip_espdesmd5.c		inet & ipsec
file netinet/ip_ipsp.c			inet & ipsec
file netinet/ip_ahmd5.c			inet & ipsec
file netinet/ip_ahsha1.c		inet & ipsec
file netinet/ip_ip4.c			inet & ipsec
file netinet/ip_ahhmacmd5.c		inet & ipsec
file netinet/ip_ahhmacsha1.c		inet & ipsec
a313 1
file netinet/ip_esp3desmd5.c		inet & ipsec
@


1.58
log
@ip_ahsha1.c + ip_esp3des.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.57 1997/05/30 08:28:30 downsj Exp $
d316 1
@


1.57
log
@Support the new ext2fs.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.56 1997/04/30 20:21:14 deraadt Exp $
d305 1
d309 1
@


1.56
log
@more inet & ipsec
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.55 1997/04/30 19:44:29 deraadt Exp $
d401 1
a401 1
file ufs/ufs/ufs_quota.c		quota
d404 9
a412 10
file gnu/ext2fs/ext2_alloc.c		ext2fs
file gnu/ext2fs/ext2_balloc.c		ext2fs
file gnu/ext2fs/ext2_inode.c		ext2fs
file gnu/ext2fs/ext2_inode_cnv.c	ext2fs
file gnu/ext2fs/ext2_linux_balloc.c	ext2fs
file gnu/ext2fs/ext2_linux_ialloc.c	ext2fs
file gnu/ext2fs/ext2_lookup.c		ext2fs
file gnu/ext2fs/ext2_subr.c		ext2fs
file gnu/ext2fs/ext2_vfsops.c		ext2fs
file gnu/ext2fs/ext2_vnops.c		ext2fs
@


1.55
log
@inet & ipsec
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.54 1997/04/24 08:37:46 downsj Exp $
d258 2
a259 2
file net/if_enc.c			inet
file net/encap.c			inet
@


1.54
log
@Don't even support LFS in the kernel.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.53 1997/03/30 22:05:16 mickey Exp $
d302 13
a314 13
file netinet/ip_ah.c			inet | ipsec
file netinet/ip_esp.c			inet | ipsec
file netinet/ip_espdes.c		inet | ipsec
file netinet/ip_espdesmd5.c		inet | ipsec
file netinet/ip_ipsp.c			inet | ipsec
file netinet/ip_ahmd5.c			inet | ipsec
file netinet/ip_ip4.c			inet | ipsec
file netinet/ip_ahhmacmd5.c		inet | ipsec
file netinet/ip_ahhmacsha1.c		inet | ipsec
file netinet/ip_sha1.c			inet | ipsec
file netinet/libdeslite/ecb_enc.c	inet | ipsec
file netinet/libdeslite/set_key.c	inet | ipsec
file netinet/ip_esp3desmd5.c		inet | ipsec
@


1.53
log
@no more 2(two) md5 libs in kernel!
tested for rnd(4).... should work for ip too, since it's
the copy of ip_md*.
use sys/md5k.h for protos.... std iface forever!
hurray!
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.52 1997/03/23 11:02:58 pefo Exp $
a394 11
file ufs/lfs/lfs_alloc.c		lfs
file ufs/lfs/lfs_bio.c			lfs
file ufs/lfs/lfs_balloc.c		lfs
file ufs/lfs/lfs_cksum.c		lfs
file ufs/lfs/lfs_debug.c		lfs
file ufs/lfs/lfs_inode.c		lfs
file ufs/lfs/lfs_segment.c		lfs
file ufs/lfs/lfs_subr.c			lfs
file ufs/lfs/lfs_syscalls.c		lfs
file ufs/lfs/lfs_vfsops.c		lfs
file ufs/lfs/lfs_vnops.c		lfs
d397 4
a400 4
file ufs/ufs/ufs_bmap.c			ffs | lfs | mfs | ext2fs
file ufs/ufs/ufs_ihash.c		ffs | lfs | mfs | ext2fs
file ufs/ufs/ufs_inode.c		ffs | lfs | mfs | ext2fs
file ufs/ufs/ufs_lookup.c		ffs | lfs | mfs | ext2fs
d402 2
a403 2
file ufs/ufs/ufs_vfsops.c		ffs | lfs | mfs | ext2fs
file ufs/ufs/ufs_vnops.c		ffs | lfs | mfs | ext2fs
@


1.52
log
@Some changes for arc local bus com & lpt.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.51 1997/02/27 14:05:52 briggs Exp $
a311 1
file netinet/ip_md5c.c			inet | ipsec
@


1.51
log
@Add M.I. ncr53c9x SCSI driver file.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.50 1997/02/20 01:07:37 deraadt Exp $
d56 1
a56 1
file	dev/ic/com.c		com & (com_isa | com_commulti | com_pcmcia | com_pica) needs-flag
d64 1
a64 1
file	dev/ic/lpt.c		lpt & (lpt_isa | lpt_pica) needs-flag
@


1.50
log
@IPSEC package by John Ioannidis and Angelos D. Keromytis. Written in
Greece. From ftp.funet.fi:/pub/unix/security/net/ip/BSDipsec.tar.gz
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.49 1996/12/23 02:42:23 deraadt Exp $
d28 1
d120 1
@


1.49
log
@use _{NLIST,KERN}_DO_{AOUT,ELF,ECOFF} to select binary types
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.48 1996/11/30 13:39:20 niklas Exp $
d89 1
d256 2
d300 14
@


1.48
log
@Com driver moved, still somewhat ISA-dependent though, but it will
improve.  Pica and PCMCIA-dependent stuff factored out.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.47 1996/11/30 00:53:34 niklas Exp $
d132 2
a133 2
file kern/exec_ecoff.c			compat_ultrix | compat_osf1 | exec_ecoff
file kern/exec_elf.c			compat_svr4 | compat_linux | native_elf
@


1.47
log
@Cleaned up.  lpt is MI now.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.46 1996/11/28 23:10:28 niklas Exp $
d52 4
@


1.46
log
@Adaption to new bus.h from NetBSD.  Various driver has been updated to
NetBSD 961107 state.  Other has not, partly because sometimes the bus.h
changes was coupled with other changes.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.45 1996/10/29 03:45:25 deraadt Exp $
d53 1
a53 1
# LANCE and PCnet Ethernet controllers
d56 4
@


1.45
log
@quota minimizing
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.42 1996/10/19 14:29:59 deraadt Exp $
d36 8
@


1.44
log
@undo last change.
Use The Source, Luke!
@
text
@d378 1
a378 1
file ufs/ufs/ufs_quota.c		ffs | lfs | mfs | ext2fs
@


1.43
log
@add procfs flags
@
text
@d196 2
a197 2
file miscfs/procfs/procfs_fpregs.c	procfs
file miscfs/procfs/procfs_mem.c		procfs
d199 1
a199 1
file miscfs/procfs/procfs_regs.c	procfs
@


1.42
log
@not ready for this yet, mickey
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.40 1996/09/20 06:44:46 deraadt Exp $
d196 2
a197 2
file miscfs/procfs/procfs_fpregs.c
file miscfs/procfs/procfs_mem.c
d199 1
a199 1
file miscfs/procfs/procfs_regs.c
@


1.41
log
@random device is permanent now.
@
text
@a189 1
file miscfs/kernfs/kernfs_subr.c	kernfs
@


1.40
log
@do not fool people into thinking VNODEPAGER is an option; netbsd pr#2757, erik@@aarhus1.uni-c.dk
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.39 1996/08/30 08:39:19 deraadt Exp $
d106 1
a106 1
file dev/rnd.c				random			needs-flag
d190 1
@


1.39
log
@rnd, not random
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.38 1996/08/29 07:40:25 deraadt Exp $
d408 1
a408 1
file vm/vnode_pager.c			vnodepager
@


1.38
log
@random
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.37 1996/08/27 14:46:54 shawn Exp $
d106 1
a106 1
file dev/random.c			random			needs-flag
@


1.37
log
@New fast pipe(2) from freebsd without fancy vm stuff.

The old pipes can be used with the "OLD_PIPE" config option.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.36 1996/08/23 19:57:37 niklas Exp $
d72 1
a72 1
pseudo-device rnd
a104 1
file dev/rnd.c				rnd			needs-flag
d106 1
@


1.36
log
@Force NCY_ISA & NCY_PCI symbols into cy.h
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.35 1996/08/15 14:44:47 shawn Exp $
d152 1
@


1.35
log
@clean up. we no longer need these.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.34 1996/08/07 17:27:52 deraadt Exp $
d47 1
a47 1
file	dev/ic/cy.c		cy		needs-flag
@


1.34
log
@tiny extent manager by shawn
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.33 1996/08/02 15:32:41 deraadt Exp $
a100 1
file dev/ic/93cx6.c			aic7xxx
@


1.33
log
@grr, of course cy.c needs needs-flag for conf.c
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.32 1996/07/29 06:06:19 deraadt Exp $
d145 1
@


1.32
log
@grr
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.31 1996/07/29 05:50:17 deraadt Exp $
d47 1
a47 1
file	dev/ic/cy.c		cy
@


1.31
log
@cy needs-count (for now)
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.30 1996/07/27 11:27:38 deraadt Exp $
d47 1
a47 1
file	dev/ic/cy.c		cy	needs-count
@


1.30
log
@subr_userconf.c only for BOOT_CONFIG option
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.29 1996/07/27 07:20:01 deraadt Exp $
d47 1
a47 1
file	dev/ic/cy.c		cy
@


1.29
log
@split cy driver up
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.28 1996/07/02 01:07:42 chuck Exp $
d149 1
a149 1
file kern/subr_userconf.c
@


1.28
log
@move natm to correct place
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.27 1996/06/30 21:42:46 chuck Exp $
d44 4
@


1.27
log
@add natm
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.26 1996/06/24 03:34:51 downsj Exp $
a233 3
file netnatm/natm_pcb.c			natm
file netnatm/natm_proto.c		natm
file netnatm/natm.c			natm
d313 3
@


1.26
log
@ufs changes: add the notion of directory operators.

gnu/ext2fs: add the second extended filesystem.

Note that I'm commiting this now for the sake of the ufs changes; ext2fs
is not yet fully integrated into the system.
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.25 1996/06/23 19:37:23 maja Exp $
d234 3
@


1.25
log
@Added support for user modifiable kernel at boot (-c) /maja
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.24 1996/06/21 15:18:31 chuck Exp $
d366 17
a382 7
file ufs/ufs/ufs_bmap.c			ffs | lfs | mfs
file ufs/ufs/ufs_ihash.c		ffs | lfs | mfs
file ufs/ufs/ufs_inode.c		ffs | lfs | mfs
file ufs/ufs/ufs_lookup.c		ffs | lfs | mfs
file ufs/ufs/ufs_quota.c		ffs | lfs | mfs
file ufs/ufs/ufs_vfsops.c		ffs | lfs | mfs
file ufs/ufs/ufs_vnops.c		ffs | lfs | mfs
@


1.24
log
@add in new files for ATM
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.23 1996/06/10 05:58:50 deraadt Exp $
d145 1
@


1.23
log
@exec_elf if native_elf option
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.22 1996/05/28 12:16:34 deraadt Exp $
d21 1
d215 1
d252 1
@


1.22
log
@thread changes
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.21 1996/05/22 12:08:17 deraadt Exp $
d113 1
a113 1
file kern/exec_elf.c			compat_svr4 | compat_linux
@


1.21
log
@scsi here, +/- few other things
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.20 1996/05/10 12:33:26 deraadt Exp $
a135 1
file kern/kern_thread.c
@


1.20
log
@split le driver, add iy driver
@
text
@d1 2
a2 2
#	$OpenBSD: files,v 1.15 1996/04/21 22:18:51 deraadt Exp $
#	$NetBSD: files,v 1.84 1996/05/07 08:56:54 mycroft Exp $
d13 1
a13 1

d26 1
a27 2
define	ncr5380sbc	# NCR 5380 SCSI Bus Controller
define	aic7xxx		# Adaptec aic7770 and aic7870 SCSI controllers
d32 4
d66 1
a95 1
file dev/ic/aic7xxx.c			aic7xxx
d219 1
d231 1
a231 1
file net/slcompress.c			sl | ppp
@


1.19
log
@ahc/ahe driver update from freebsd; merged by soda@@sra.co.jp and
pete@@demon.net
@
text
@d2 1
a2 1
#	$NetBSD: files,v 1.83 1996/04/25 02:18:25 thorpej Exp $
d36 4
@


1.18
log
@add advanced hang analyzer.
idea by theo.
@
text
@d89 1
@


1.17
log
@add ep driver for various PC busses
@
text
@d85 1
@


1.16
log
@Move ipx_cksum.c into MD config file.
@
text
@d2 1
a2 1
#	$NetBSD: files,v 1.82 1996/03/19 01:02:35 paulus Exp $
d29 7
@


1.15
log
@partial sync with netbsd 960418, more to come
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.14 1996/04/19 16:08:25 niklas Exp $
a303 1
file netipx/ipx_cksum.c			ipx
@


1.14
log
@NetBSD 960317 merge
@
text
@d1 1
a1 1
#	$OpenBSD: files,v 1.13 1996/04/19 07:31:23 mickey Exp $
d96 2
a97 2
file kern/exec_ecoff.c			compat_ultrix compat_osf1 exec_ecoff
file kern/exec_elf.c			compat_svr4 compat_linux
d134 1
a134 1
file kern/sysv_ipc.c			sysvshm sysvsem sysvmsg
d196 1
a196 1
file net/bpf_filter.c			bpfilter ppp
d199 1
a199 1
file net/if_ethersubr.c			ether fddi		needs-flag
d214 1
a214 1
file net/slcompress.c			sl ppp
d229 1
a229 1
file netccitt/pk_llcsubr.c		llc hdlc
d275 1
a275 1
file netiso/tp_astring.c		iso tpip
d277 4
a280 4
file netiso/tp_driver.c			iso tpip
file netiso/tp_emit.c			iso tpip
file netiso/tp_inet.c			iso tpip
file netiso/tp_input.c			iso tpip
d282 11
a292 11
file netiso/tp_meas.c			iso tpip
file netiso/tp_output.c			iso tpip
file netiso/tp_pcb.c			iso tpip
file netiso/tp_subr.c			iso tpip
file netiso/tp_subr2.c			iso tpip
file netiso/tp_timer.c			iso tpip
file netiso/tp_trace.c			iso tpip
file netiso/tp_usrreq.c			iso tpip
file netiso/tuba_subr.c			iso tuba
file netiso/tuba_table.c		iso tuba
file netiso/tuba_usrreq.c		iso tuba
d319 1
a319 1
file nfs/nfs_nqlease.c			nfsserver nfsclient
d321 1
a321 1
file nfs/nfs_socket.c			nfsserver nfsclient
d323 2
a324 2
file nfs/nfs_subs.c			nfsserver nfsclient
file nfs/nfs_syscalls.c			nfsserver nfsclient
d327 7
a333 7
file ufs/ffs/ffs_alloc.c		ffs mfs
file ufs/ffs/ffs_balloc.c		ffs mfs
file ufs/ffs/ffs_inode.c		ffs mfs
file ufs/ffs/ffs_subr.c			ffs mfs
file ufs/ffs/ffs_tables.c		ffs mfs
file ufs/ffs/ffs_vfsops.c		ffs mfs
file ufs/ffs/ffs_vnops.c		ffs mfs
d347 7
a353 7
file ufs/ufs/ufs_bmap.c			ffs lfs mfs
file ufs/ufs/ufs_ihash.c		ffs lfs mfs
file ufs/ufs/ufs_inode.c		ffs lfs mfs
file ufs/ufs/ufs_lookup.c		ffs lfs mfs
file ufs/ufs/ufs_quota.c		ffs lfs mfs
file ufs/ufs/ufs_vfsops.c		ffs lfs mfs
file ufs/ufs/ufs_vnops.c		ffs lfs mfs
@


1.13
log
@Make kernel config again.
at least isa,eisa,pci ocnfigs were affected.
@
text
@d1 1
a1 1
#	$OpenBSD$
d37 1
@


1.12
log
@Added: sysctl access to the ddb variables.
Fixed: "netbsd" strings in sym table handling routines.
now it is usefull to change max_{width,line} according
to your real console geometry, just w/ sysctl program.
@
text
@d1 2
a2 1
#	$NetBSD: files,v 1.74 1996/02/13 17:09:46 christos Exp $
d30 9
d109 1
a110 1
file kern/kern_ntptime.c
d195 1
a195 1
file net/bpf_filter.c			bpfilter
d204 3
a206 1
file net/bsd-comp.c			ppp
a299 1
file netns/ns_cksum.c			ns
d302 12
@


1.11
log
@Initial commit of random source driver.
@
text
@d66 1
@


1.10
log
@From NetBSD: vnode_if.[ch] made machine independent.
very usefull (for <sys/vnode.h> inclusion).
from the other side this is really machine independent ...
tested w/ i386, but should not cause errors w/ other arch's.
pls, test it (don't forget to reconfig kernel ;)
@
text
@d41 1
d73 1
@


1.9
log
@Add kern/kern_thread.c
@
text
@d147 1
@


1.8
log
@From NetBSD: Remove tty_compat.c, add ns_cksum.c
@
text
@d106 1
@


1.7
log
@Add kernel PLL for system clock
Add ntp_adjtime() and ntp_gettime() system calls
Mostly stolen from FreeBSD
@
text
@d1 1
a1 1
#	$NetBSD: files,v 1.72 1996/01/13 02:05:19 thorpej Exp $
a123 1
file kern/tty_compat.c
d283 1
@


1.6
log
@IP filter 3.0.1
@
text
@d97 1
@


1.5
log
@add aic7xxx driver
@
text
@d235 3
@


1.4
log
@from beurton@@fnet.fr:  Darren Reed's IP filter
@
text
@d1 1
a1 1
#	$NetBSD: files,v 1.71 1996/01/01 22:27:08 thorpej Exp $
d27 1
d67 1
@


1.3
log
@mi 5380 driver
@
text
@d231 2
@


1.2
log
@update from netbsd
@
text
@d1 1
a1 1
#	$NetBSD: files,v 1.70 1995/11/25 00:37:39 cgd Exp $
d18 1
a18 2
# and fddi.  "pdq" is a DEC FDDI chipset, which is interfaced to several
# busses and needs to be defined here (EISA, PCI, TC).
d22 5
a26 1
define	pdq
d66 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$NetBSD: files,v 1.69 1995/10/04 23:33:14 pk Exp $
d76 1
a76 1
file kern/exec_ecoff.c			compat_ultrix compat_osf1
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@

