head	1.7;
access;
symbols
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.7.0.12
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.8
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.10
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.2
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.6
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.4
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.5.0.2
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.4.0.48
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.46
	OPENBSD_5_0:1.4.0.44
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.42
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.40
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.36
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.38
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.34
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.32
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.30
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.28
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.26
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.24
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.22
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.20
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.18
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.16
	OPENBSD_3_6_BASE:1.4
	SMP_SYNC_A:1.4
	SMP_SYNC_B:1.4
	OPENBSD_3_5:1.4.0.14
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.4.0.12
	OPENBSD_3_4_BASE:1.4
	UBC_SYNC_A:1.4
	OPENBSD_3_3:1.4.0.10
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.8
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.6
	OPENBSD_3_1_BASE:1.4
	UBC_SYNC_B:1.4
	UBC:1.4.0.4
	UBC_BASE:1.4
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_8:1.2.0.8
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.6
	OPENBSD_2_7_BASE:1.2
	SMP:1.2.0.4
	SMP_BASE:1.2
	kame_19991208:1.2
	OPENBSD_2_6:1.2.0.2
	OPENBSD_2_6_BASE:1.2;
locks; strict;
comment	@ * @;


1.7
date	2013.09.30.12.02.30;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	2013.03.28.03.37.10;	author tedu;	state Exp;
branches;
next	1.5;

1.5
date	2013.01.16.04.05.22;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2001.06.27.04.51.48;	author art;	state Exp;
branches;
next	1.3;

1.3
date	2001.03.09.03.13.47;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	99.08.23.17.08.37;	author art;	state Exp;
branches
	1.2.4.1;
next	1.1;

1.1
date	99.05.22.21.22.34;	author weingart;	state Exp;
branches;
next	;

1.2.4.1
date	2001.05.14.22.45.04;	author niklas;	state Exp;
branches;
next	1.2.4.2;

1.2.4.2
date	2001.07.04.11.00.31;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Use PATH_MAX, NAME_MAX and LOGIN_NAME_MAX not MAXPATHNAMELEN,
MAXNAMLEN or MAXLOGNAME where possible.  OK deraadt@@
@
text
@/*	$OpenBSD: swap.h,v 1.6 2013/03/28 03:37:10 tedu Exp $	*/
/*	$NetBSD: swap.h,v 1.2 1998/09/13 14:46:24 christos Exp $	*/

/*
 * Copyright (c) 1995, 1996, 1998 Matthew R. Green, Tobias Weingartner
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. The name of the author may not be used to endorse or promote products
 *    derived from this software without specific prior written permission
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
 * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef _SYS_SWAP_H_
#define _SYS_SWAP_H_

#include <sys/syslimits.h>

/* These structures are used to return swap information for userland */
struct swapent {
	dev_t	se_dev;			/* device id */
	int	se_flags;		/* flags */
	int	se_nblks;		/* total blocks */
	int	se_inuse;		/* blocks in use */
	int	se_priority;		/* priority of this device */
	char	se_path[PATH_MAX];	/* path name */
};

#ifdef _KERNEL
#define	NETDEV		(dev_t)(-2)	/* network device (for nfs swap) */
#endif /* _KERNEL */

#define SWAP_ON		1		/* begin swapping on device */
#define SWAP_OFF	2		/* (stop swapping on device) */
#define SWAP_NSWAP	3		/* how many swap devices ? */
#define SWAP_STATS	4		/* get device info */
#define SWAP_CTL	5		/* change priority on device */
#define SWAP_DUMPDEV 	7		/* use this device as dump device */

#define SWF_INUSE	0x00000001	/* in use: we have swapped here */
#define SWF_ENABLE	0x00000002	/* enabled: we can swap here */
#define SWF_BUSY	0x00000004	/* busy: I/O happening here */
#define SWF_FAKE	0x00000008	/* fake: still being built */

#endif /* _SYS_SWAP_H_ */
@


1.6
log
@it is no longer interesting that struct swapent is not compatible with a
vm system that was replaced over 10 years ago.
@
text
@d1 1
a1 1
/*	$OpenBSD: swap.h,v 1.5 2013/01/16 04:05:22 deraadt Exp $	*/
d43 1
a43 1
	char	se_path[MAXPATHLEN];	/* path name */
@


1.5
log
@do not expose NETDEV to userland from param.h
@
text
@d1 1
a1 1
/*	$OpenBSD: swap.h,v 1.4 2001/06/27 04:51:48 art Exp $	*/
a28 9
 */

/* NOTE: This is the current swap.h from NetBSD.  Since we are "upgrading"
 * to the new vm_swap code now, we will not keep compatibility with the
 * old vm_swap code that was in NetBSD.  This means that we do not have
 * an oswapent structure, but instead use a "new" swapent structure, with
 * no overlay.
 *
 * --Toby.
@


1.4
log
@kill old vm
@
text
@d1 1
a1 1
/*	$OpenBSD: swap.h,v 1.3 2001/03/09 03:13:47 deraadt Exp $	*/
d54 4
@


1.3
log
@PATH_MAX+1 is wrong.  Not cranking libc/libc_r majors over this, since they just got cranked a little while ago. discussion with millert
@
text
@d1 1
a1 1
/*	$OpenBSD: swap.h,v 1.2 1999/08/23 17:08:37 art Exp $	*/
a65 6

#if defined(_KERNEL) && !defined(UVM)
daddr_t swap_alloc __P((int size));
void swap_free __P((int size, daddr_t addr));
void swapinit __P((void));
#endif
@


1.2
log
@Opps. Forgot to commit this in the recent uvm sync. (noted by mickey@@)
@
text
@d1 1
a1 1
/*	$OpenBSD: swap.h,v 1.1 1999/05/22 21:22:34 weingart Exp $	*/
d52 1
a52 1
	char	se_path[PATH_MAX+1];	/* path name */
@


1.2.4.1
log
@merge in approximately 2.9 into SMP branch
@
text
@d1 1
a1 1
/*	$OpenBSD: swap.h,v 1.3 2001/03/09 03:13:47 deraadt Exp $	*/
d52 1
a52 1
	char	se_path[MAXPATHLEN];	/* path name */
@


1.2.4.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
/*	$OpenBSD: swap.h,v 1.2.4.1 2001/05/14 22:45:04 niklas Exp $	*/
d66 6
@


1.1
log
@Add new vm_swap code for dynamic swap.  From netbsd, munged some by me, and
others.   syscall commit pending.
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d60 1
@

