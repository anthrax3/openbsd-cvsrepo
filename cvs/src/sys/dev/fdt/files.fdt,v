head	1.20;
access;
symbols
	OPENBSD_6_1:1.9.0.4
	OPENBSD_6_1_BASE:1.9;
locks; strict;
comment	@# @;


1.20
date	2017.07.29.17.25.20;	author kettenis;	state Exp;
branches;
next	1.19;
commitid	ATpi6NRnrpFFbe7s;

1.19
date	2017.07.25.20.20.09;	author kettenis;	state Exp;
branches;
next	1.18;
commitid	Nt8uDki3EFnyTEsR;

1.18
date	2017.07.23.19.26.03;	author kettenis;	state Exp;
branches;
next	1.17;
commitid	QTAjuDt18QJKihIr;

1.17
date	2017.05.21.08.59.45;	author kettenis;	state Exp;
branches;
next	1.16;
commitid	gq5zoECC5WSNA6VU;

1.16
date	2017.05.06.18.25.43;	author kettenis;	state Exp;
branches;
next	1.15;
commitid	k4JKrNi4UKOxXaIT;

1.15
date	2017.05.05.20.13.54;	author kettenis;	state Exp;
branches;
next	1.14;
commitid	YepkTw0wJ5FIzYfN;

1.14
date	2017.05.05.17.43.47;	author kettenis;	state Exp;
branches;
next	1.13;
commitid	ZRNlpCAUvYG7SYKF;

1.13
date	2017.05.05.15.23.46;	author kettenis;	state Exp;
branches;
next	1.12;
commitid	cmnNztOL1tBGCx7r;

1.12
date	2017.04.30.17.42.32;	author kettenis;	state Exp;
branches;
next	1.11;
commitid	j4UEUkiMjp0CRDQz;

1.11
date	2017.04.30.14.00.06;	author kettenis;	state Exp;
branches;
next	1.10;
commitid	uoHNZJ5ortZ8pnHm;

1.10
date	2017.04.29.20.49.09;	author kettenis;	state Exp;
branches;
next	1.9;
commitid	Mwk7jUbjteTWOEP6;

1.9
date	2017.03.11.00.11.47;	author kettenis;	state Exp;
branches;
next	1.8;
commitid	cE6kTWWPtWNfOmPm;

1.8
date	2017.03.09.20.04.21;	author kettenis;	state Exp;
branches;
next	1.7;
commitid	m4mOc5MAkLR3siNv;

1.7
date	2017.03.09.19.26.39;	author kettenis;	state Exp;
branches;
next	1.6;
commitid	ed0pUj9qPLuP9exQ;

1.6
date	2017.02.22.23.01.15;	author patrick;	state Exp;
branches;
next	1.5;
commitid	Qhm7Utq249k5dJ2T;

1.5
date	2017.01.26.01.46.19;	author jsg;	state Exp;
branches;
next	1.4;
commitid	DVor4li8N6n5BUTd;

1.4
date	2017.01.25.10.14.40;	author jsg;	state Exp;
branches;
next	1.3;
commitid	W3BvAHxrMCafa4lm;

1.3
date	2017.01.23.14.15.16;	author kettenis;	state Exp;
branches;
next	1.2;
commitid	TeY9mthInugDSiRF;

1.2
date	2017.01.21.08.26.49;	author patrick;	state Exp;
branches;
next	1.1;
commitid	dvP7gLmLqGu2JY3W;

1.1
date	2017.01.03.19.57.01;	author kettenis;	state Exp;
branches;
next	;
commitid	fs9AbY79UEfLzZyj;


desc
@@


1.20
log
@Add a bcmaux(4) driver that handles clocks and interrupts for the
auxilliary UART.  Makes serial console work with newer device trees.

ok jsg@@
@
text
@#	$OpenBSD: files.fdt,v 1.19 2017/07/25 20:20:09 kettenis Exp $
#
# Config file and device description for machine-independent FDT code.
# Included by ports that need it.

device	simplefb: wsemuldisplaydev, rasops15, rasops16, rasops24, rasops32
attach	simplefb at fdt
file	dev/fdt/simplefb.c		simplefb

device	sxiccmu
attach	sxiccmu at fdt
file	dev/fdt/sxiccmu.c		sxiccmu

device	sxipio {}: gpiobus
attach	sxipio at fdt
file	dev/fdt/sxipio.c		sxipio

device	sxirtc
attach	sxirtc at fdt
file	dev/fdt/sxirtc.c		sxirtc

device	sximmc: sdmmcbus
attach	sximmc at fdt
file	dev/fdt/sximmc.c		sximmc

device	sxitwi: i2cbus
attach	sxitwi at fdt
file	dev/fdt/sxitwi.c		sxitwi

device	axppmic
attach	axppmic at i2c
file	dev/fdt/axp20x.c		axppmic

device	bcmaux
attach	bcmaux at fdt
file	dev/fdt/bcm2835_aux.c		bcmaux

device	bcmdog
attach	bcmdog at fdt
file	dev/fdt/bcm2835_dog.c		bcmdog

device	exrtc
attach	exrtc at fdt
file	dev/fdt/exrtc.c			exrtc

# ARM PrimeCell PL031 Real-time clock
device	plrtc
attach	plrtc at fdt
file	dev/fdt/plrtc.c			plrtc

# ARM Power State Coordination Interface
device	psci
attach	psci at fdt
file	dev/fdt/psci.c			psci

attach	virtio at fdt with virtio_mmio
file	dev/fdt/virtio_mmio.c		virtio_mmio

# Advanced Host Controller Interface for Serial ATA
attach	ahci at fdt with ahci_fdt
file	dev/fdt/ahci_fdt.c		ahci_fdt

attach	dwge at fdt with dwge_fdt
file	dev/fdt/if_dwge_fdt.c		dwge_fdt

attach	ehci at fdt with ehci_fdt
file	dev/fdt/ehci_fdt.c		ehci_fdt

attach	sdhc at fdt with sdhc_fdt
file	dev/fdt/sdhc_fdt.c		sdhc_fdt

attach	xhci at fdt with xhci_fdt
file	dev/fdt/xhci_fdt.c		xhci_fdt

device	syscon
attach	syscon at fdt
file	dev/fdt/syscon.c		syscon

device	rkclock
attach	rkclock at fdt
file	dev/fdt/rkclock.c		rkclock

device	rkgrf
attach	rkgrf at fdt
file	dev/fdt/rkgrf.c			rkgrf

device	rkgpio
attach	rkgpio at fdt
file	dev/fdt/rkgpio.c		rkgpio

device	rkpinctrl: fdt
attach	rkpinctrl at fdt
file	dev/fdt/rkpinctrl.c		rkpinctrl

device	dwmmc: sdmmcbus
attach	dwmmc at fdt
file	dev/fdt/dwmmc.c			dwmmc

device	dwdog
attach	dwdog at fdt
file	dev/fdt/dwdog.c			dwdog
@


1.19
log
@Add dwdog(4), a driver for the Synopsys Designware watchdog timer integrated
on (for example) the Rockchip RK3288 SoC.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.18 2017/07/23 19:26:03 kettenis Exp $
d33 4
@


1.18
log
@Add sxitwi(4), a driver for the (i2c compatible) two-wire bus found on
several Allwinner SoCs.  From Artturi Alm, based on code from NetBSD.

Also add axppmic(4), a driver for the AXP209 i2c PMIC, which provides
power down support.  Written by Artturi Alm.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.17 2017/05/21 08:59:45 kettenis Exp $
d94 4
@


1.17
log
@Add dwmmc(4), a driver for the Synopsis Designware SD/MMC controller as found
on various Rockchip SoCs.

This is still WIP.  Next steps will be to get rid of various busy-wait loops
and add DMA support.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.16 2017/05/06 18:25:43 kettenis Exp $
d25 8
@


1.16
log
@Add rkgpio(4), a driver to handle GPIOs on Rockchip SoCs.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.15 2017/05/05 20:13:54 kettenis Exp $
d82 4
@


1.15
log
@Move dwge(4) glue into dev/fdt.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.14 2017/05/05 17:43:47 kettenis Exp $
d75 5
a79 1
device	rkpinctrl
@


1.14
log
@Add rkpinctrl(4), a driver to configure pins on Rockchip SoCs.  For now,
only the RK3399 is supported.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.13 2017/05/05 15:23:46 kettenis Exp $
d50 3
@


1.13
log
@Add glue to attach SDHC compliant controllers using the FDT.  This makes
the eMMC controller on the Rockchip RK3399 work.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.12 2017/04/30 17:42:32 kettenis Exp $
d71 4
@


1.12
log
@Add rkclock(4), a driver for the Rockchip RK3399 clocks.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.11 2017/04/30 14:00:06 kettenis Exp $
d53 3
@


1.11
log
@Add rkgrf(4), a driver that makes the "generic register file" of the Rockchip
RK3399 available to other drivers through the regmap interface.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.10 2017/04/29 20:49:09 kettenis Exp $
d60 4
@


1.10
log
@Replace sxiehci.c with more generic glue in ehci_fdt.c that is similiar in
spirit to the xhci_fdt.c glue.  The new code sets up any attached USB PHYs
based on their "compatible" property.  All the hardware supported by sxiehci.c
should be supported by this new code.  In addition to that this adds support
for the EHCI controllers found on various Rockchip hardware such as the
RK3288 and RK3399 SoCs.

ok patrick@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.9 2017/03/11 00:11:47 kettenis Exp $
d60 4
@


1.9
log
@Add exrtc(4), a driver for the RTC found on Samsung Exynos SoCs.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.8 2017/03/09 20:04:21 kettenis Exp $
a25 3
attach	ehci at fdt with sxiehci
file	dev/fdt/sxiehci.c		sxiehci

d50 3
@


1.8
log
@Add syscon(4), a driver that provides reboot/poweroff functionality through
the generic "regmap" interface.

ok patrick@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.7 2017/03/09 19:26:39 kettenis Exp $
d32 4
@


1.7
log
@Glue to attach xhci(4) using the device tree.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.6 2017/02/22 23:01:15 patrick Exp $
d52 4
@


1.6
log
@Add a generic ahci(4) frontend for FDT.

ok kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.5 2017/01/26 01:46:19 jsg Exp $
d49 3
@


1.5
log
@The only difference between armv7 and arm64 fdt virtio attachments is an
uneeded include.  Remove the include and move to MI fdt directory.
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.4 2017/01/25 10:14:40 jsg Exp $
d45 4
@


1.4
log
@Move psci(4) and plrtc(4) so arm64 can use them.
Tested by and ok patrick@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.3 2017/01/23 14:15:16 kettenis Exp $
d43 2
@


1.3
log
@Add bcmdog(4), a watchdog timer for the Raspberry Pi.

Based on code written by patrick@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.2 2017/01/21 08:26:49 patrick Exp $
d32 11
@


1.2
log
@Move Allwinner drivers that will soon be used by OpenBSD/arm64
to the new MI FDT driver directory.

"go ahead" kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.fdt,v 1.1 2017/01/03 19:57:01 kettenis Exp $
d28 4
@


1.1
log
@Add simplefb(4), a driver to support the framebuffer set up by the firmware
on some platforms that use device trees.  Works on Allwinner (sunxi) and
should also work on Raspberry Pi (broadcom) armv7 platforms.

ok jsg@@, visa@@
@
text
@d1 1
a1 1
#	$OpenBSD$
d9 19
@

