head	1.5;
access;
symbols
	OPENBSD_3_6:1.4.0.10
	OPENBSD_3_6_BASE:1.4
	SMP_SYNC_A:1.4
	SMP_SYNC_B:1.4
	OPENBSD_3_5:1.4.0.8
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.4.0.6
	OPENBSD_3_4_BASE:1.4
	UBC_SYNC_A:1.4
	SMP:1.4.0.4
	OPENBSD_3_3:1.4.0.2
	OPENBSD_3_3_BASE:1.4
	UBC:1.1.0.4
	UBC_SYNC_B:1.1
	OPENBSD_3_2:1.1.0.2
	OPENBSD_3_2_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2005.03.05.23.58.43;	author tdeval;	state dead;
branches;
next	1.4;

1.4
date	2002.12.30.12.54.05;	author tdeval;	state Exp;
branches;
next	1.3;

1.3
date	2002.12.30.11.55.54;	author tdeval;	state Exp;
branches;
next	1.2;

1.2
date	2002.12.13.02.54.18;	author tdeval;	state Exp;
branches;
next	1.1;

1.1
date	2002.06.25.17.11.49;	author itojun;	state Exp;
branches
	1.1.4.1;
next	;

1.1.4.1
date	2003.05.19.22.01.43;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Clean up the tree from incomplete, unreliable and unsupported IEEE1394 code.
Ok deraadt@@, miod@@
@
text
@### $OpenBSD: TODO,v 1.4 2002/12/30 12:54:05 tdeval Exp $ ###

TODO :
------

- Move all mbuf code to if_fw.c. Make if_fw use the generic read/write/inreg
  and then it can translate the packets into the appropriate mbuf's.

- Need a tlabel alloc routine within fwohci and a way to use 64 tlabel's per
  node (rather than a global set of 64 as it's used now).

- Flesh out the documentation of the high level API in fwohci.c (fwlynx will
  need to implement the same thing so this should be more than just comments
  in fwohci.c).

- Track down issues where multiple hosts plugged into a firewire hub don't
  init/see all devices on resets sometimes.

- Should do topology maps, speed maps, the various bus managers, etc.

- Implement a real fwscsi scsibus, with each attached device as a new
  target/lun. Not a new scsibus per device.

- Implement proper handlers with either 1 main thread, or timeouts and
  callbacks.

- Move all the SBP2 data manipulation routines to SBP2 codebase.

==============================================================================

DONE :
------

- Move SBP2 routines into their own file.

- Rewrite ROM parsing/validation. Unroll all recursion, add ref counting, path
  elimination, etc.

- Move rom routines into their own files to allow easier cross usage.

- Write sub match setup for fwnode/fwscsi so matching devices listed in the
  ROM can be done via autoconf.

- Remove all of the devcap stuff.

- SBP2 needs a complete API written up: logins, ORB management/allocation, etc. 
  (basic routines have been implemented).

- Add locator detection/usage into fwohci code.

- Change all FW_DEBUG wrapped printf's to DPRINTF macro's.

- Ack errors from a TX complete should get passed up to any registered
  callbacks.

- Make fwohci detach correctly (for cardbus/etc type interfaces).

- Use handler_set (with NULL cb) to create a higher level <bus>_unreg.

- Rewrite handler_set to allow sub regions, minimums, etc without having to
  register 100 callbacks for 100 quad reads.
@


1.4
log
@Add $OpenBSD$ tag.

Thanks to Clarie Wouter (rimshot at pandora point be)
@
text
@d1 1
a1 1
### $OpenBSD$ ###
@


1.3
log
@Update.
@
text
@d1 2
@


1.2
log
@"Documentation" update.
@
text
@a3 5
- Rewrite handler_set to allow sub regions, minimums, etc without having to
  register 100 callbacks for 100 quad reads.

- Use handler_set (with NULL cb) to create a higher level <bus>_unreg.

d25 2
d55 5
@


1.1
log
@IEEE1394 infrastructure part.
IP-over-FW and SCSI over FW are being worked on.
@
text
@d1 2
a2 2
Rewrite handler_set to allow sub regions, minimums, etc without having to
register 100 callbacks for 100 quad reads.
d4 2
a5 1
Use handler set (with NULL cb) to create a higher level <bus>_unreg
d7 1
a7 2
Move all mbuf code to if_fw.c. Make if_fw use the generic read/write/inreg and
then it can translate the packets into the appropriate mbuf's.
d9 2
a10 2
Need a tlabel alloc routine within fwohci and a way to use 64 tlabel's per
node (rather than a global set of 64 as it's used now).
d12 2
a13 3
Flesh out the documentation of the high level API in fwohci.c (fwlynx will need
to implement the same thing so this should be more than just comments in 
fwohci.c)
d15 3
a17 1
Move SBP2 routines into their own file.
d19 2
a20 2
done - Rewrite ROM parsing/validation. Unroll all recursion, add ref counting, 
       path elimination, etc. 
d22 1
a22 1
done - Move rom routines into their own files to allow easier cross usage.
d24 2
a25 2
done - Write sub match setup for fwnode/fwscsi so matching devices listed in 
       the ROM can be done via autoconf.
d27 2
a28 1
done - Remove all of the devcap stuff.
d30 1
a30 1
SBP2 needs a complete API written up: logins, ORB management/allocation, etc.
d32 2
a33 1
done - Add locator detection/usage into fwohci code.
d35 1
a35 1
Should do topology maps, speed maps, the various bus managers, etc.
d37 2
a38 1
done - change all FW_DEBUG wrapped printf's to DPRINTF macro's
d40 1
a40 1
done - ack errors from a TX complete should get passed up to any registered callbacks
d42 2
a43 2
Track down issues where multiple hosts plugged into a firewire hub don't 
init/see all devices on resets sometimes.
d45 13
a57 1
done - Make fwohci detach correctly (for cardbus/etc type interfaces)
@


1.1.4.1
log
@sync
@
text
@d1 2
a2 1
### $OpenBSD$ ###
d4 1
a4 2
TODO :
------
d6 2
a7 2
- Move all mbuf code to if_fw.c. Make if_fw use the generic read/write/inreg
  and then it can translate the packets into the appropriate mbuf's.
d9 2
a10 2
- Need a tlabel alloc routine within fwohci and a way to use 64 tlabel's per
  node (rather than a global set of 64 as it's used now).
d12 3
a14 3
- Flesh out the documentation of the high level API in fwohci.c (fwlynx will
  need to implement the same thing so this should be more than just comments
  in fwohci.c).
d16 1
a16 2
- Track down issues where multiple hosts plugged into a firewire hub don't
  init/see all devices on resets sometimes.
d18 2
a19 1
- Should do topology maps, speed maps, the various bus managers, etc.
d21 1
a21 2
- Implement a real fwscsi scsibus, with each attached device as a new
  target/lun. Not a new scsibus per device.
d23 2
a24 2
- Implement proper handlers with either 1 main thread, or timeouts and
  callbacks.
d26 1
a26 1
- Move all the SBP2 data manipulation routines to SBP2 codebase.
d28 1
a28 1
==============================================================================
d30 1
a30 2
DONE :
------
d32 1
a32 1
- Move SBP2 routines into their own file.
d34 1
a34 2
- Rewrite ROM parsing/validation. Unroll all recursion, add ref counting, path
  elimination, etc.
d36 1
a36 1
- Move rom routines into their own files to allow easier cross usage.
d38 2
a39 2
- Write sub match setup for fwnode/fwscsi so matching devices listed in the
  ROM can be done via autoconf.
d41 1
a41 18
- Remove all of the devcap stuff.

- SBP2 needs a complete API written up: logins, ORB management/allocation, etc. 
  (basic routines have been implemented).

- Add locator detection/usage into fwohci code.

- Change all FW_DEBUG wrapped printf's to DPRINTF macro's.

- Ack errors from a TX complete should get passed up to any registered
  callbacks.

- Make fwohci detach correctly (for cardbus/etc type interfaces).

- Use handler_set (with NULL cb) to create a higher level <bus>_unreg.

- Rewrite handler_set to allow sub regions, minimums, etc without having to
  register 100 callbacks for 100 quad reads.
@


