head	1.13;
access;
symbols
	OPENBSD_6_2:1.13.0.44
	OPENBSD_6_2_BASE:1.13
	OPENBSD_6_1:1.13.0.42
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.13.0.40
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.13.0.34
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.36
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.13.0.28
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.32
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.30
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.26
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.24
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.13.0.20
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.22
	OPENBSD_5_0:1.13.0.18
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.16
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.13.0.14
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.13.0.10
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.13.0.12
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.13.0.8
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.6
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.4
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.2
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.10.0.4
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.10.0.2
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.9.0.2
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8;
locks; strict;
comment	@ * @;


1.13
date	2007.03.12.01.04.52;	author reyk;	state Exp;
branches;
next	1.12;

1.12
date	2007.03.05.16.54.33;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2007.03.05.15.13.26;	author reyk;	state Exp;
branches;
next	1.10;

1.10
date	2005.12.18.17.59.58;	author reyk;	state Exp;
branches;
next	1.9;

1.9
date	2005.05.08.14.46.50;	author reyk;	state Exp;
branches;
next	1.8;

1.8
date	2005.03.20.04.21.55;	author reyk;	state Exp;
branches;
next	1.7;

1.7
date	2005.02.17.23.52.05;	author reyk;	state Exp;
branches;
next	1.6;

1.6
date	2005.02.17.23.21.49;	author reyk;	state Exp;
branches;
next	1.5;

1.5
date	2004.12.31.01.00.23;	author reyk;	state Exp;
branches;
next	1.4;

1.4
date	2004.11.03.19.44.12;	author reyk;	state Exp;
branches;
next	1.3;

1.3
date	2004.11.03.16.40.46;	author reyk;	state Exp;
branches;
next	1.2;

1.2
date	2004.11.02.14.05.49;	author reyk;	state Exp;
branches;
next	1.1;

1.1
date	2004.11.02.03.01.16;	author reyk;	state Exp;
branches;
next	;


desc
@@


1.13
log
@add some HAL functions (again) inspired by the changes from the
madwifi-old-openhal project. this was backed out the last time because
it was too close to the release and i didn't respect the ABI/API lock.
@
text
@/*	$OpenBSD: ar5210reg.h,v 1.11 2007/03/05 15:13:26 reyk Exp $	*/

/*
 * Copyright (c) 2004, 2005, 2006, 2007 Reyk Floeter <reyk@@openbsd.org>
 *
 * Permission to use, copy, modify, and distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 */

/*
 * Known registers of the Atheros AR5000 Wireless LAN chipset
 * (AR5210 + AR5110).
 */

#ifndef _AR5K_AR5210_REG_H
#define _AR5K_AR5210_REG_H

/*
 * First tansmit queue descriptor pointer register ("data queue")
 */
#define AR5K_AR5210_TXDP0	0x0000

/*
 * Second transmit queue descriptor pointer register ("beacon queue")
 */
#define AR5K_AR5210_TXDP1	0x0004

/*
 * Command register
 */
#define AR5K_AR5210_CR		0x0008
#define AR5K_AR5210_CR_TXE0	0x00000001
#define AR5K_AR5210_CR_TXE1	0x00000002
#define AR5K_AR5210_CR_RXE	0x00000004
#define AR5K_AR5210_CR_TXD0	0x00000008
#define AR5K_AR5210_CR_TXD1	0x00000010
#define AR5K_AR5210_CR_RXD	0x00000020
#define AR5K_AR5210_CR_SWI	0x00000040

/*
 * Receive queue descriptor pointer register
 */
#define AR5K_AR5210_RXDP	0x000c

/*
 * Configuration and status register
 */
#define AR5K_AR5210_CFG		0x0014
#define AR5K_AR5210_CFG_SWTD	0x00000001
#define AR5K_AR5210_CFG_SWTB	0x00000002
#define AR5K_AR5210_CFG_SWRD	0x00000004
#define AR5K_AR5210_CFG_SWRB	0x00000008
#define AR5K_AR5210_CFG_SWRG	0x00000010
#define AR5K_AR5210_CFG_EEBS	0x00000200
#define AR5K_AR5210_CFG_TXCNT	0x00007800
#define AR5K_AR5210_CFG_TXCNT_S	11
#define AR5K_AR5210_CFG_TXFSTAT 0x00008000
#define AR5K_AR5210_CFG_TXFSTRT 0x00010000

/*
 * Interrupt service register
 */
#define AR5K_AR5210_ISR		0x001c
#define AR5K_AR5210_ISR_RXOK	0x00000001
#define AR5K_AR5210_ISR_RXDESC	0x00000002
#define AR5K_AR5210_ISR_RXERR	0x00000004
#define AR5K_AR5210_ISR_RXNOFRM	0x00000008
#define AR5K_AR5210_ISR_RXEOL	0x00000010
#define AR5K_AR5210_ISR_RXORN	0x00000020
#define AR5K_AR5210_ISR_TXOK	0x00000040
#define AR5K_AR5210_ISR_TXDESC	0x00000080
#define AR5K_AR5210_ISR_TXERR	0x00000100
#define AR5K_AR5210_ISR_TXNOFRM 0x00000200
#define AR5K_AR5210_ISR_TXEOL	0x00000400
#define AR5K_AR5210_ISR_TXURN	0x00000800
#define AR5K_AR5210_ISR_MIB	0x00001000
#define AR5K_AR5210_ISR_SWI	0x00002000
#define AR5K_AR5210_ISR_RXPHY	0x00004000
#define AR5K_AR5210_ISR_RXKCM	0x00008000
#define AR5K_AR5210_ISR_SWBA	0x00010000
#define AR5K_AR5210_ISR_BRSSI	0x00020000
#define AR5K_AR5210_ISR_BMISS	0x00040000
#define AR5K_AR5210_ISR_MCABT	0x00100000
#define AR5K_AR5210_ISR_SSERR	0x00200000
#define AR5K_AR5210_ISR_DPERR	0x00400000
#define AR5K_AR5210_ISR_GPIO	0x01000000
#define	AR5K_AR5210_ISR_FATAL	(					\
	AR5K_AR5210_ISR_MCABT | AR5K_AR5210_ISR_SSERR |			\
	AR5K_AR5210_ISR_DPERR | AR5K_AR5210_ISR_RXORN			\
)

/*
 * Interrupt mask register
 */
#define AR5K_AR5210_IMR		0x0020
#define AR5K_AR5210_IMR_RXOK	0x00000001
#define AR5K_AR5210_IMR_RXDESC	0x00000002
#define AR5K_AR5210_IMR_RXERR	0x00000004
#define AR5K_AR5210_IMR_RXNOFRM	0x00000008
#define AR5K_AR5210_IMR_RXEOL	0x00000010
#define AR5K_AR5210_IMR_RXORN	0x00000020
#define AR5K_AR5210_IMR_TXOK	0x00000040
#define AR5K_AR5210_IMR_TXDESC	0x00000080
#define AR5K_AR5210_IMR_TXERR	0x00000100
#define AR5K_AR5210_IMR_TXNOFRM 0x00000200
#define AR5K_AR5210_IMR_TXEOL	0x00000400
#define AR5K_AR5210_IMR_TXURN	0x00000800
#define AR5K_AR5210_IMR_MIB	0x00001000
#define AR5K_AR5210_IMR_SWI	0x00002000
#define AR5K_AR5210_IMR_RXPHY	0x00004000
#define AR5K_AR5210_IMR_RXKCM	0x00008000
#define AR5K_AR5210_IMR_SWBA	0x00010000
#define AR5K_AR5210_IMR_BRSSI	0x00020000
#define AR5K_AR5210_IMR_BMISS	0x00040000
#define AR5K_AR5210_IMR_MCABT	0x00100000
#define AR5K_AR5210_IMR_SSERR	0x00200000
#define AR5K_AR5210_IMR_DPERR	0x00400000
#define AR5K_AR5210_IMR_GPIO	0x01000000

/*
 * Interrupt enable register
 */
#define AR5K_AR5210_IER		0x0024
#define AR5K_AR5210_IER_DISABLE	0x00000000
#define AR5K_AR5210_IER_ENABLE	0x00000001

/*
 * Beacon control register
 */
#define AR5K_AR5210_BCR		0x0028
#define AR5K_AR5210_BCR_AP	0x00000000
#define AR5K_AR5210_BCR_ADHOC	0x00000001
#define AR5K_AR5210_BCR_BDMAE	0x00000002
#define AR5K_AR5210_BCR_TQ1FV	0x00000004
#define AR5K_AR5210_BCR_TQ1V	0x00000008
#define AR5K_AR5210_BCR_BCGET	0x00000010

/*
 * Beacon status register
 */
#define AR5K_AR5210_BSR			0x002c
#define AR5K_AR5210_BSR_BDLYSW		0x00000001
#define AR5K_AR5210_BSR_BDLYDMA		0x00000002
#define AR5K_AR5210_BSR_TXQ1F		0x00000004
#define AR5K_AR5210_BSR_ATIMDLY		0x00000008
#define AR5K_AR5210_BSR_SNPBCMD		0x00000100
#define AR5K_AR5210_BSR_SNPBDMAE	0x00000200
#define AR5K_AR5210_BSR_SNPTQ1FV	0x00000400
#define AR5K_AR5210_BSR_SNPTQ1V		0x00000800
#define AR5K_AR5210_BSR_SNAPPEDBCRVALID	0x00001000
#define AR5K_AR5210_BSR_SWBA_CNT	0x00ff0000

/*
 * DMA size definitions
 */
typedef enum {
	AR5K_AR5210_DMASIZE_4B = 0,
	AR5K_AR5210_DMASIZE_8B,
	AR5K_AR5210_DMASIZE_16B,
	AR5K_AR5210_DMASIZE_32B,
	AR5K_AR5210_DMASIZE_64B,
	AR5K_AR5210_DMASIZE_128B,
	AR5K_AR5210_DMASIZE_256B,
	AR5K_AR5210_DMASIZE_512B
} ar5k_ar5210_dmasize_t;

/*
 * Transmit configuration register
 */
#define AR5K_AR5210_TXCFG		0x0030
#define AR5K_AR5210_TXCFG_SDMAMR	0x00000007
#define AR5K_AR5210_TXCFG_TXFSTP	0x00000008
#define AR5K_AR5210_TXCFG_TXFULL	0x00000070
#define AR5K_AR5210_TXCFG_TXCONT_EN	0x00000080

/*
 * Receive configuration register
 */
#define AR5K_AR5210_RXCFG		0x0034
#define AR5K_AR5210_RXCFG_SDMAMW	0x00000007
#define AR5K_AR5210_RXCFG_ZLFDMA	0x00000010

/*
 * MIB control register
 */
#define AR5K_AR5210_MIBC		0x0040
#define AR5K_AR5210_MIBC_COW		0x00000001
#define AR5K_AR5210_MIBC_FMC		0x00000002
#define AR5K_AR5210_MIBC_CMC		0x00000004
#define AR5K_AR5210_MIBC_MCS		0x00000008

/*
 * Timeout prescale register
 */
#define AR5K_AR5210_TOPS		0x0044

/*
 * Receive timeout register (no frame received)
 */
#define AR5K_AR5210_RXNOFRM		0x0048

/*
 * Transmit timeout register (no frame sent)
 */
#define AR5K_AR5210_TXNOFRM		0x004c

/*
 * Receive frame gap timeout register
 */
#define AR5K_AR5210_RPGTO		0x0050

/*
 * Receive frame count limit register
 */
#define AR5K_AR5210_RFCNT		0x0054
#define AR5K_AR5210_RFCNT_RFCL		0x0000000f

/*
 * Misc settings/status register
 */
#define AR5K_AR5210_MISC		0x0058
#define AR5K_AR5210_MISC_LED_DECAY	0x001c0000
#define AR5K_AR5210_MISC_LED_BLINK	0x00e00000

/*
 * Reset control register
 */
#define AR5K_AR5210_RC			0x4000
#define AR5K_AR5210_RC_PCU		0x00000001
#define AR5K_AR5210_RC_DMA		0x00000002
#define AR5K_AR5210_RC_MAC		0x00000004
#define AR5K_AR5210_RC_PHY		0x00000008
#define AR5K_AR5210_RC_PCI		0x00000010
#define AR5K_AR5210_RC_CHIP		(				\
	AR5K_AR5210_RC_PCU | AR5K_AR5210_RC_DMA |			\
	AR5K_AR5210_RC_MAC | AR5K_AR5210_RC_PHY				\
)

/*
 * Sleep control register
 */
#define AR5K_AR5210_SCR			0x4004
#define AR5K_AR5210_SCR_SLDUR		0x0000ffff
#define AR5K_AR5210_SCR_SLE		0x00030000
#define AR5K_AR5210_SCR_SLE_WAKE	0x00000000
#define AR5K_AR5210_SCR_SLE_SLP		0x00010000
#define AR5K_AR5210_SCR_SLE_ALLOW	0x00020000

/*
 * Interrupt pending register
 */
#define AR5K_AR5210_INTPEND		0x4008
#define AR5K_AR5210_INTPEND_IP		0x00000001

/*
 * Sleep force register
 */
#define AR5K_AR5210_SFR			0x400c
#define AR5K_AR5210_SFR_SF		0x00000001

/*
 * PCI configuration register
 */
#define AR5K_AR5210_PCICFG		0x4010
#define AR5K_AR5210_PCICFG_EEAE		0x00000001
#define AR5K_AR5210_PCICFG_CLKRUNEN	0x00000004
#define AR5K_AR5210_PCICFG_LED_PEND	0x00000020
#define AR5K_AR5210_PCICFG_LED_ACT	0x00000040
#define AR5K_AR5210_PCICFG_SL_INTEN	0x00000800
#define AR5K_AR5210_PCICFG_LED_BCTL	0x00001000
#define AR5K_AR5210_PCICFG_SL_INPEN	0x00002800
#define AR5K_AR5210_PCICFG_SPWR_DN	0x00010000

/*
 * "General Purpose Input/Output" (GPIO) control register
 */
#define AR5K_AR5210_GPIOCR		0x4014
#define AR5K_AR5210_GPIOCR_INT_ENA	0x00008000
#define AR5K_AR5210_GPIOCR_INT_SELL	0x00000000
#define AR5K_AR5210_GPIOCR_INT_SELH	0x00010000
#define AR5K_AR5210_GPIOCR_IN(n)	(0 << ((n) * 2))
#define AR5K_AR5210_GPIOCR_OUT0(n)	(1 << ((n) * 2))
#define AR5K_AR5210_GPIOCR_OUT1(n)	(2 << ((n) * 2))
#define AR5K_AR5210_GPIOCR_OUT(n)	(3 << ((n) * 2))
#define AR5K_AR5210_GPIOCR_ALL(n)	(3<< ((n) * 2))
#define AR5K_AR5210_GPIOCR_INT_SEL(n)	((n) << 12)

#define AR5K_AR5210_NUM_GPIO	6

/*
 * "General Purpose Input/Output" (GPIO) data output register
 */
#define AR5K_AR5210_GPIODO	0x4018

/*
 * "General Purpose Input/Output" (GPIO) data input register
 */
#define AR5K_AR5210_GPIODI	0x401c
#define AR5K_AR5210_GPIOD_MASK	0x0000002f

/*
 * Silicon revision register
 */
#define AR5K_AR5210_SREV		0x4020
#define AR5K_AR5210_SREV_REV		0x0000000f
#define AR5K_AR5210_SREV_REV_S		0
#define AR5K_AR5210_SREV_VER		0x000000ff
#define AR5K_AR5210_SREV_VER_S		4

/*
 * EEPROM access registers
 */
#define AR5K_AR5210_EEPROM_BASE		0x6000
#define AR5K_AR5210_EEPROM_RDATA	0x6800
#define AR5K_AR5210_EEPROM_STATUS	0x6c00
#define AR5K_AR5210_EEPROM_STAT_RDERR	0x0001
#define AR5K_AR5210_EEPROM_STAT_RDDONE	0x0002
#define AR5K_AR5210_EEPROM_STAT_WRERR	0x0004
#define AR5K_AR5210_EEPROM_STAT_WRDONE	0x0008

/*
 * PCU registers
 */

#define AR5K_AR5210_PCU_MIN	0x8000
#define AR5K_AR5210_PCU_MAX	0x8fff

/*
 * First station id register (MAC address in lower 32 bits)
 */
#define AR5K_AR5210_STA_ID0	0x8000

/*
 * Second station id register (MAC address in upper 16 bits)
 */
#define AR5K_AR5210_STA_ID1			0x8004
#define AR5K_AR5210_STA_ID1_AP			0x00010000
#define AR5K_AR5210_STA_ID1_ADHOC		0x00020000
#define AR5K_AR5210_STA_ID1_PWR_SV		0x00040000
#define AR5K_AR5210_STA_ID1_NO_KEYSRCH		0x00080000
#define AR5K_AR5210_STA_ID1_NO_PSPOLL		0x00100000
#define AR5K_AR5210_STA_ID1_PCF			0x00200000
#define AR5K_AR5210_STA_ID1_DESC_ANTENNA	0x00400000
#define AR5K_AR5210_STA_ID1_DEFAULT_ANTENNA	0x00800000
#define AR5K_AR5210_STA_ID1_ACKCTS_6MB		0x01000000

/*
 * First BSSID register (MAC address, lower 32bits)
 */
#define AR5K_AR5210_BSS_ID0	0x8008

/*
 * Second BSSID register (MAC address in upper 16 bits)
 *
 * AID: Association ID
 */
#define AR5K_AR5210_BSS_ID1		0x800c
#define AR5K_AR5210_BSS_ID1_AID		0xffff0000
#define AR5K_AR5210_BSS_ID1_AID_S	16

/*
 * Backoff slot time register
 */
#define AR5K_AR5210_SLOT_TIME	0x8010

/*
 * ACK/CTS timeout register
 */
#define AR5K_AR5210_TIME_OUT		0x8014
#define AR5K_AR5210_TIME_OUT_ACK	0x00001fff
#define AR5K_AR5210_TIME_OUT_ACK_S	0
#define AR5K_AR5210_TIME_OUT_CTS	0x1fff0000
#define AR5K_AR5210_TIME_OUT_CTS_S	16

/*
 * RSSI threshold register
 */
#define AR5K_AR5210_RSSI_THR		0x8018
#define AR5K_AR5210_RSSI_THR_BM_THR	0x00000700
#define AR5K_AR5210_RSSI_THR_BM_THR_S	8

/*
 * Retry limit register
 */
#define AR5K_AR5210_RETRY_LMT			0x801c
#define AR5K_AR5210_RETRY_LMT_SH_RETRY		0x0000000f
#define AR5K_AR5210_RETRY_LMT_SH_RETRY_S	0
#define AR5K_AR5210_RETRY_LMT_LG_RETRY		0x000000f0
#define AR5K_AR5210_RETRY_LMT_LG_RETRY_S	4
#define AR5K_AR5210_RETRY_LMT_SSH_RETRY		0x00003f00
#define AR5K_AR5210_RETRY_LMT_SSH_RETRY_S	8
#define AR5K_AR5210_RETRY_LMT_SLG_RETRY		0x000fc000
#define AR5K_AR5210_RETRY_LMT_SLG_RETRY_S	14
#define AR5K_AR5210_RETRY_LMT_CW_MIN		0x3ff00000
#define AR5K_AR5210_RETRY_LMT_CW_MIN_S		20

/*
 * Transmit latency register
 */
#define AR5K_AR5210_USEC		0x8020
#define AR5K_AR5210_USEC_1		0x0000007f
#define AR5K_AR5210_USEC_1_S		0
#define AR5K_AR5210_USEC_32		0x00003f80
#define AR5K_AR5210_USEC_32_S		7
#define AR5K_AR5210_USEC_TX_LATENCY	0x000fc000
#define AR5K_AR5210_USEC_TX_LATENCY_S	14
#define AR5K_AR5210_USEC_RX_LATENCY	0x03f00000
#define AR5K_AR5210_USEC_RX_LATENCY_S	20

/*
 * PCU beacon control register
 */
#define AR5K_AR5210_BEACON		0x8024
#define AR5K_AR5210_BEACON_PERIOD	0x0000ffff
#define AR5K_AR5210_BEACON_PERIOD_S	0
#define AR5K_AR5210_BEACON_TIM		0x007f0000
#define AR5K_AR5210_BEACON_TIM_S	16
#define AR5K_AR5210_BEACON_EN		0x00800000
#define AR5K_AR5210_BEACON_RESET_TSF	0x01000000

/*
 * CFP period register
 */
#define AR5K_AR5210_CFP_PERIOD		0x8028

/*
 * Next beacon time register
 */
#define AR5K_AR5210_TIMER0		0x802c

/*
 * Next DMA beacon alert register
 */
#define AR5K_AR5210_TIMER1		0x8030

/*
 * Next software beacon alert register
 */
#define AR5K_AR5210_TIMER2		0x8034

/*
 * Next ATIM window time register
 */
#define AR5K_AR5210_TIMER3		0x8038

/*
 * First inter frame spacing register (IFS)
 */
#define AR5K_AR5210_IFS0		0x8040
#define AR5K_AR5210_IFS0_SIFS		0x000007ff
#define AR5K_AR5210_IFS0_SIFS_S		0
#define AR5K_AR5210_IFS0_DIFS		0x007ff800
#define AR5K_AR5210_IFS0_DIFS_S		11

/*
 * Second inter frame spacing register (IFS)
 */
#define AR5K_AR5210_IFS1		0x8044
#define AR5K_AR5210_IFS1_PIFS		0x00000fff
#define AR5K_AR5210_IFS1_PIFS_S		0
#define AR5K_AR5210_IFS1_EIFS		0x03fff000
#define AR5K_AR5210_IFS1_EIFS_S		12
#define AR5K_AR5210_IFS1_CS_EN		0x04000000

/*
 * CFP duration register
 */
#define AR5K_AR5210_CFP_DUR		0x8048

/*
 * Receive filter register
 */
#define AR5K_AR5210_RX_FILTER		0x804c
#define AR5K_AR5210_RX_FILTER_UNICAST	0x00000001
#define AR5K_AR5210_RX_FILTER_MULTICAST	0x00000002
#define AR5K_AR5210_RX_FILTER_BROADCAST	0x00000004
#define AR5K_AR5210_RX_FILTER_CONTROL	0x00000008
#define AR5K_AR5210_RX_FILTER_BEACON	0x00000010
#define AR5K_AR5210_RX_FILTER_PROMISC	0x00000020

/*
 * Multicast filter register (lower 32 bits)
 */
#define AR5K_AR5210_MCAST_FIL0	0x8050

/*
 * Multicast filter register (higher 16 bits)
 */
#define AR5K_AR5210_MCAST_FIL1	0x8054

/*
 * Transmit mask register (lower 32 bits)
 */
#define AR5K_AR5210_TX_MASK0	0x8058

/*
 * Transmit mask register (higher 16 bits)
 */
#define AR5K_AR5210_TX_MASK1	0x805c

/*
 * Clear transmit mask
 */
#define AR5K_AR5210_CLR_TMASK	0x8060

/*
 * Trigger level register (before transmission)
 */
#define AR5K_AR5210_TRIG_LVL	0x8064

/*
 * PCU control register
 */
#define AR5K_AR5210_DIAG_SW			0x8068
#define AR5K_AR5210_DIAG_SW_DIS_WEP_ACK		0x00000001
#define AR5K_AR5210_DIAG_SW_DIS_ACK		0x00000002
#define AR5K_AR5210_DIAG_SW_DIS_CTS		0x00000004
#define AR5K_AR5210_DIAG_SW_DIS_ENC		0x00000008
#define AR5K_AR5210_DIAG_SW_DIS_DEC		0x00000010
#define AR5K_AR5210_DIAG_SW_DIS_TX		0x00000020
#define AR5K_AR5210_DIAG_SW_DIS_RX		0x00000040
#define AR5K_AR5210_DIAG_SW_LOOP_BACK		0x00000080
#define AR5K_AR5210_DIAG_SW_CORR_FCS		0x00000100
#define AR5K_AR5210_DIAG_SW_CHAN_INFO		0x00000200
#define AR5K_AR5210_DIAG_SW_EN_SCRAM_SEED	0x00000400
#define AR5K_AR5210_DIAG_SW_SCVRAM_SEED		0x0003f800
#define AR5K_AR5210_DIAG_SW_DIS_SEQ_INC		0x00040000
#define AR5K_AR5210_DIAG_SW_FRAME_NV0		0x00080000

/*
 * TSF (clock) register (lower 32 bits)
 */
#define AR5K_AR5210_TSF_L32	0x806c

/*
 * TSF (clock) register (higher 32 bits)
 */
#define AR5K_AR5210_TSF_U32	0x8070

/*
 * Last beacon timestamp register
 */
#define AR5K_AR5210_LAST_TSTP	0x8080

/*
 * Retry count register
 */
#define AR5K_AR5210_RETRY_CNT		0x8084
#define AR5K_AR5210_RETRY_CNT_SSH	0x0000003f
#define AR5K_AR5210_RETRY_CNT_SLG	0x00000fc0

/*
 * Back-off status register
 */
#define AR5K_AR5210_BACKOFF		0x8088
#define AR5K_AR5210_BACKOFF_CW		0x000003ff
#define AR5K_AR5210_BACKOFF_CNT		0x03ff0000

/*
 * NAV register (current)
 */
#define AR5K_AR5210_NAV		0x808c

/*
 * RTS success register
 */
#define AR5K_AR5210_RTS_OK	0x8090

/*
 * RTS failure register
 */
#define AR5K_AR5210_RTS_FAIL	0x8094

/*
 * ACK failure register
 */
#define AR5K_AR5210_ACK_FAIL	0x8098

/*
 * FCS failure register
 */
#define AR5K_AR5210_FCS_FAIL	0x809c

/*
 * Beacon count register
 */
#define AR5K_AR5210_BEACON_CNT	0x80a0

/*
 * Key table (WEP) register
 */
#define AR5K_AR5210_KEYTABLE_0		0x9000
#define AR5K_AR5210_KEYTABLE(n)		(AR5K_AR5210_KEYTABLE_0 + ((n) << 5))
#define AR5K_AR5210_KEYTABLE_OFF(_n, x)	(AR5K_AR5210_KEYTABLE(_n) + (x << 2))
#define AR5K_AR5210_KEYTABLE_TYPE(_n)	AR5K_AR5210_KEYTABLE_OFF(_n, 5)
#define AR5K_AR5210_KEYTABLE_TYPE_40	0x00000000
#define AR5K_AR5210_KEYTABLE_TYPE_104	0x00000001
#define AR5K_AR5210_KEYTABLE_TYPE_128	0x00000003
#define AR5K_AR5210_KEYTABLE_MAC0(_n)	AR5K_AR5210_KEYTABLE_OFF(_n, 6)
#define AR5K_AR5210_KEYTABLE_MAC1(_n)	AR5K_AR5210_KEYTABLE_OFF(_n, 7)
#define AR5K_AR5210_KEYTABLE_VALID	0x00008000

#define AR5K_AR5210_KEYTABLE_SIZE	64
#define AR5K_AR5210_KEYCACHE_SIZE	8

/*
 * PHY register
 */
#define	AR5K_AR5210_PHY(_n)	(0x9800 + ((_n) << 2))

/*
 * PHY frame control register
 */
#define	AR5K_AR5210_PHY_FC		0x9804
#define	AR5K_AR5210_PHY_FC_TURBO_MODE	0x00000001
#define	AR5K_AR5210_PHY_FC_TURBO_SHORT	0x00000002
#define	AR5K_AR5210_PHY_FC_TIMING_ERR	0x01000000
#define	AR5K_AR5210_PHY_FC_PARITY_ERR	0x02000000
#define	AR5K_AR5210_PHY_FC_ILLRATE_ERR	0x04000000
#define	AR5K_AR5210_PHY_FC_ILLLEN_ERR	0x08000000
#define	AR5K_AR5210_PHY_FC_SERVICE_ERR	0x20000000
#define	AR5K_AR5210_PHY_FC_TXURN_ERR	0x40000000

/*
 * PHY agility command register
 */
#define	AR5K_AR5210_PHY_AGC		0x9808
#define	AR5K_AR5210_PHY_AGC_DISABLE	0x08000000

/*
 * PHY chip revision register
 */
#define	AR5K_AR5210_PHY_CHIP_ID		0x9818

/*
 * PHY activation register
 */
#define	AR5K_AR5210_PHY_ACTIVE		0x981c
#define	AR5K_AR5210_PHY_ENABLE		0x00000001
#define	AR5K_AR5210_PHY_DISABLE		0x00000002

/*
 * PHY signal register
 */
#define	AR5K_AR5210_PHY_SIG		0x9858
#define	AR5K_AR5210_PHY_SIG_FIRSTEP	0x0003f000
#define	AR5K_AR5210_PHY_SIG_FIRSTEP_S	12
#define	AR5K_AR5210_PHY_SIG_FIRPWR	0x03fc0000
#define	AR5K_AR5210_PHY_SIG_FIRPWR_S	18

/*
 * PHY coarse agility control register
 */
#define	AR5K_AR5210_PHY_AGCCOARSE	0x985c
#define	AR5K_AR5210_PHY_AGCCOARSE_LO	0x00007f80
#define	AR5K_AR5210_PHY_AGCCOARSE_LO_S	7
#define	AR5K_AR5210_PHY_AGCCOARSE_HI	0x003f8000
#define	AR5K_AR5210_PHY_AGCCOARSE_HI_S	15

/*
 * PHY agility control register
 */
#define	AR5K_AR5210_PHY_AGCCTL		0x9860
#define	AR5K_AR5210_PHY_AGCCTL_CAL	0x00000001
#define	AR5K_AR5210_PHY_AGCCTL_NF	0x00000002

/*
 * PHY noise floor status register
 */
#define AR5K_AR5210_PHY_NF		0x9864
#define AR5K_AR5210_PHY_NF_M		0x000001ff
#define AR5K_AR5210_PHY_NF_ACTIVE	0x00000100
#define AR5K_AR5210_PHY_NF_RVAL(_n)	(((_n) >> 19) & AR5K_AR5210_PHY_NF_M)
#define AR5K_AR5210_PHY_NF_AVAL(_n)	(-((_n) ^ AR5K_AR5210_PHY_NF_M) + 1)

/*
 * PHY ADC saturation register
 */
#define	AR5K_AR5210_PHY_ADCSAT		0x9868
#define	AR5K_AR5210_PHY_ADCSAT_ICNT	0x0001f800
#define	AR5K_AR5210_PHY_ADCSAT_ICNT_S	11
#define	AR5K_AR5210_PHY_ADCSAT_THR	0x000007e0
#define	AR5K_AR5210_PHY_ADCSAT_THR_S	5

/*
 * PHY RF stage register
 */
#define AR5K_AR5210_PHY_RFSTG		0x98d4
#define AR5K_AR5210_PHY_RFSTG_DISABLE	0x00000021

/*
 * Misc PHY/radio registers
 */
#define AR5K_AR5210_BB_GAIN(_n)		(0x9b00 + ((_n) << 2))
#define AR5K_AR5210_RF_GAIN(_n)		(0x9a00 + ((_n) << 2))

#endif
@


1.12
log
@back out, reyk is not paying attention
@
text
@d1 1
a1 1
/*	$OpenBSD: ar5210reg.h,v 1.10 2005/12/18 17:59:58 reyk Exp $	*/
d4 1
a4 1
 * Copyright (c) 2004, 2005 Reyk Floeter <reyk@@openbsd.org>
@


1.11
log
@Add some HAL functions.

From madwifi-old-openhal via Nick Kossifidis (mickflemm at gmail dot com)

Bump copyright while I'm here.
@
text
@d4 1
a4 1
 * Copyright (c) 2004, 2005, 2006, 2007 Reyk Floeter <reyk@@openbsd.org>
@


1.10
log
@Update my e-mail address in the copyright statement, no binary changes.
@
text
@d1 1
a1 1
/*	$OpenBSD: ar5210reg.h,v 1.9 2005/05/08 14:46:50 reyk Exp $	*/
d4 1
a4 1
 * Copyright (c) 2004, 2005 Reyk Floeter <reyk@@openbsd.org>
@


1.9
log
@fix silicon version number reporting. ie. ath0: mac 80.6 -> ath0: mac 5.6.
@
text
@d1 1
a1 1
/*	$OpenBSD: ar5210reg.h,v 1.8 2005/03/20 04:21:55 reyk Exp $	*/
d4 1
a4 1
 * Copyright (c) 2004, 2005 Reyk Floeter <reyk@@vantronix.net>
@


1.8
log
@some fixes for wep and reset.

btw.: this is a commit using an ar5212 in 11b mode...

ok deraadt@@, krw@@
@
text
@d1 1
a1 1
/*	$OpenBSD: ar5210reg.h,v 1.7 2005/02/17 23:52:05 reyk Exp $	*/
d314 4
a317 8
#define AR5K_AR5210_SREV_ID_M		0x000000ff
#define AR5K_AR5210_SREV_FPGA		1
#define AR5K_AR5210_SREV_PHYPLUS	2
#define AR5K_AR5210_SREV_PHYPLUS_MS	3
#define AR5K_AR5210_SREV_CRETE		4
#define AR5K_AR5210_SREV_CRETE_MS	5
#define AR5K_AR5210_SREV_CRETE_MS23	7
#define AR5K_AR5210_SREV_CRETE_23	8
@


1.7
log
@a new year and a new, less restrictive license. because it has to be
free.

go ahead miod@@
@
text
@d1 1
a1 1
/*	$OpenBSD: ar5210reg.h,v 1.6 2005/02/17 23:21:49 reyk Exp $	*/
d606 3
a608 1
#define AR5K_AR5210_KEYTABLE(n)		(AR5K_AR5210_KEYTABLE_0 + ((n) * 32))
d612 2
@


1.6
log
@knf
@
text
@d1 1
a1 1
/*	$OpenBSD: ar5210reg.h,v 1.5 2004/12/31 01:00:23 reyk Exp $	*/
d4 1
a4 1
 * Copyright (c) 2004 Reyk Floeter <reyk@@vantronix.net>.
d6 3
a8 1
 * All rights reserved.
d10 7
a16 18
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT
 * OF THIRD PARTY RIGHTS. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR
 * HOLDERS INCLUDED IN THIS NOTICE BE LIABLE FOR ANY CLAIM, OR ANY
 * SPECIAL INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER
 * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF
 * CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN
 * CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
@


1.5
log
@sync with the latest work and add some stuff needed by the upcoming ar5211/ar5212
support. some further cleanups and changes will follow.
@
text
@d1 1
a1 1
/*	$OpenBSD: ar5210reg.h,v 1.4 2004/11/03 19:44:12 reyk Exp $	*/
d106 2
a107 2
        AR5K_AR5210_ISR_MCABT | AR5K_AR5210_ISR_SSERR |			\
        AR5K_AR5210_ISR_DPERR | AR5K_AR5210_ISR_RXORN			\
d254 1
a254 1
        AR5K_AR5210_RC_MAC | AR5K_AR5210_RC_PHY				\
@


1.4
log
@register typo
@
text
@d1 1
a1 1
/*	$OpenBSD: ar5210reg.h,v 1.3 2004/11/03 16:40:46 reyk Exp $	*/
a343 14
 * AR5210 EEPROM data registers
 */
#define	AR5K_AR5210_EEPROM_MAGIC		0x3d
#define	AR5K_AR5210_EEPROM_MAGIC_VALUE		0x5aa5
#define AR5K_AR5210_EEPROM_PROTECT		0x3f
#define	AR5K_AR5210_EEPROM_PROTECT_128_191	0x80
#define AR5K_AR5210_EEPROM_REG_DOMAIN		0xbf
#define AR5K_AR5210_EEPROM_INFO_BASE		0xc0
#define AR5K_AR5210_EEPROM_INFO_VERSION					\
        (AR5K_AR5210_EEPROM_INFO_BASE + 1)
#define	AR5K_AR5210_EEPROM_INFO_MAX					\
        (0x400 - AR5K_AR5210_EEPROM_INFO_BASE)

/*
d661 18
d682 26
a707 2
#define	AR5K_AR5210_PHY_AGC_CAL		0x00000001
#define	AR5K_AR5210_PHY_AGC_NF		0x00000002
@


1.3
log
@knf, use positive error values (suggested by miod@@)
@
text
@d1 1
a1 1
/*	$OpenBSD: ar5210reg.h,v 1.2 2004/11/02 14:05:49 reyk Exp $	*/
d86 1
a86 1
#define AR5K_AR5210_ISR_RXEOL	0x00000120
@


1.2
log
@spacing, beautify dmesg output
@
text
@d1 1
a1 1
/*	$OpenBSD: ar5210reg.h,v 1.1 2004/11/02 03:01:16 reyk Exp $	*/
d44 1
a44 1
#define AR5K_AR5210_TXDP1 	0x0004
d49 8
a56 8
#define AR5K_AR5210_CR 		0x0008
#define AR5K_AR5210_CR_TXE0 	0x00000001
#define AR5K_AR5210_CR_TXE1 	0x00000002
#define AR5K_AR5210_CR_RXE 	0x00000004
#define AR5K_AR5210_CR_TXD0 	0x00000008
#define AR5K_AR5210_CR_TXD1 	0x00000010
#define AR5K_AR5210_CR_RXD 	0x00000020
#define AR5K_AR5210_CR_SWI 	0x00000040
d61 1
a61 1
#define AR5K_AR5210_RXDP 	0x000c
d66 8
a73 8
#define AR5K_AR5210_CFG 	0x0014
#define AR5K_AR5210_CFG_SWTD 	0x00000001
#define AR5K_AR5210_CFG_SWTB 	0x00000002
#define AR5K_AR5210_CFG_SWRD 	0x00000004
#define AR5K_AR5210_CFG_SWRB 	0x00000008
#define AR5K_AR5210_CFG_SWRG 	0x00000010
#define AR5K_AR5210_CFG_EEBS 	0x00000200
#define AR5K_AR5210_CFG_TXCNT 	0x00007800
d86 5
a90 5
#define AR5K_AR5210_ISR_RXEOL 	0x00000120
#define AR5K_AR5210_ISR_RXORN 	0x00000020
#define AR5K_AR5210_ISR_TXOK 	0x00000040
#define AR5K_AR5210_ISR_TXDESC 	0x00000080
#define AR5K_AR5210_ISR_TXERR 	0x00000100
d92 3
a94 3
#define AR5K_AR5210_ISR_TXEOL 	0x00000400
#define AR5K_AR5210_ISR_TXURN 	0x00000800
#define AR5K_AR5210_ISR_MIB 	0x00001000
d105 1
a105 1
#define	AR5K_AR5210_ISR_FATAL 	(					\
d113 4
a116 4
#define AR5K_AR5210_IMR 	0x0020
#define AR5K_AR5210_IMR_RXOK 	0x00000001
#define AR5K_AR5210_IMR_RXDESC 	0x00000002
#define AR5K_AR5210_IMR_RXERR 	0x00000004
d119 4
a122 4
#define AR5K_AR5210_IMR_RXORN 	0x00000020
#define AR5K_AR5210_IMR_TXOK 	0x00000040
#define AR5K_AR5210_IMR_TXDESC 	0x00000080
#define AR5K_AR5210_IMR_TXERR 	0x00000100
d124 13
a136 13
#define AR5K_AR5210_IMR_TXEOL 	0x00000400
#define AR5K_AR5210_IMR_TXURN 	0x00000800
#define AR5K_AR5210_IMR_MIB 	0x00001000
#define AR5K_AR5210_IMR_SWI 	0x00002000
#define AR5K_AR5210_IMR_RXPHY 	0x00004000
#define AR5K_AR5210_IMR_RXKCM 	0x00008000
#define AR5K_AR5210_IMR_SWBA 	0x00010000
#define AR5K_AR5210_IMR_BRSSI 	0x00020000
#define AR5K_AR5210_IMR_BMISS 	0x00040000
#define AR5K_AR5210_IMR_MCABT 	0x00100000
#define AR5K_AR5210_IMR_SSERR 	0x00200000
#define AR5K_AR5210_IMR_DPERR 	0x00400000
#define AR5K_AR5210_IMR_GPIO 	0x01000000
d141 1
a141 1
#define AR5K_AR5210_IER 	0x0024
d143 1
a143 1
#define AR5K_AR5210_IER_ENABLE 	0x00000001
d149 6
a154 6
#define AR5K_AR5210_BCR_AP 	0x00000000
#define AR5K_AR5210_BCR_ADHOC 	0x00000001
#define AR5K_AR5210_BCR_BDMAE 	0x00000002
#define AR5K_AR5210_BCR_TQ1FV 	0x00000004
#define AR5K_AR5210_BCR_TQ1V 	0x00000008
#define AR5K_AR5210_BCR_BCGET 	0x00000010
d159 9
a167 9
#define AR5K_AR5210_BSR 		0x002c
#define AR5K_AR5210_BSR_BDLYSW 		0x00000001
#define AR5K_AR5210_BSR_BDLYDMA 	0x00000002
#define AR5K_AR5210_BSR_TXQ1F 		0x00000004
#define AR5K_AR5210_BSR_ATIMDLY 	0x00000008
#define AR5K_AR5210_BSR_SNPBCMD 	0x00000100
#define AR5K_AR5210_BSR_SNPBDMAE 	0x00000200
#define AR5K_AR5210_BSR_SNPTQ1FV 	0x00000400
#define AR5K_AR5210_BSR_SNPTQ1V 	0x00000800
d189 3
a191 3
#define AR5K_AR5210_TXCFG_SDMAMR 	0x00000007
#define AR5K_AR5210_TXCFG_TXFSTP 	0x00000008
#define AR5K_AR5210_TXCFG_TXFULL 	0x00000070
d204 3
a206 3
#define AR5K_AR5210_MIBC 		0x0040
#define AR5K_AR5210_MIBC_COW 		0x00000001
#define AR5K_AR5210_MIBC_FMC 		0x00000002
d208 1
a208 1
#define AR5K_AR5210_MIBC_MCS 		0x00000008
d213 1
a213 1
#define AR5K_AR5210_TOPS 		0x0044
d218 1
a218 1
#define AR5K_AR5210_RXNOFRM 		0x0048
d223 1
a223 1
#define AR5K_AR5210_TXNOFRM 		0x004c
d228 1
a228 1
#define AR5K_AR5210_RPGTO 		0x0050
d233 2
a234 2
#define AR5K_AR5210_RFCNT 		0x0054
#define AR5K_AR5210_RFCNT_RFCL 		0x0000000f
d239 1
a239 1
#define AR5K_AR5210_MISC 		0x0058
d247 7
a253 7
#define AR5K_AR5210_RC_PCU 		0x00000001
#define AR5K_AR5210_RC_DMA 		0x00000002
#define AR5K_AR5210_RC_MAC 		0x00000004
#define AR5K_AR5210_RC_PHY 		0x00000008
#define AR5K_AR5210_RC_PCI 		0x00000010
#define AR5K_AR5210_RC_CHIP    		(				\
	AR5K_AR5210_RC_PCU | AR5K_AR5210_RC_DMA | 			\
d261 5
a265 5
#define AR5K_AR5210_SCR_SLDUR 		0x0000ffff
#define AR5K_AR5210_SCR_SLE 		0x00030000
#define AR5K_AR5210_SCR_SLE_WAKE 	0x00000000
#define AR5K_AR5210_SCR_SLE_SLP 	0x00010000
#define AR5K_AR5210_SCR_SLE_ALLOW 	0x00020000
d270 2
a271 2
#define AR5K_AR5210_INTPEND 		0x4008
#define AR5K_AR5210_INTPEND_IP 		0x00000001
d276 2
a277 2
#define AR5K_AR5210_SFR 		0x400c
#define AR5K_AR5210_SFR_SF 		0x00000001
d282 9
a290 9
#define AR5K_AR5210_PCICFG 		0x4010
#define AR5K_AR5210_PCICFG_EEAE 	0x00000001
#define AR5K_AR5210_PCICFG_CLKRUNEN 	0x00000004
#define AR5K_AR5210_PCICFG_LED_PEND 	0x00000020
#define AR5K_AR5210_PCICFG_LED_ACT 	0x00000040
#define AR5K_AR5210_PCICFG_SL_INTEN 	0x00000800
#define AR5K_AR5210_PCICFG_LED_BCTL 	0x00001000
#define AR5K_AR5210_PCICFG_SL_INPEN 	0x00002800
#define AR5K_AR5210_PCICFG_SPWR_DN 	0x00010000
d295 10
a304 10
#define AR5K_AR5210_GPIOCR 		0x4014
#define AR5K_AR5210_GPIOCR_INT_ENA 	0x00008000
#define AR5K_AR5210_GPIOCR_INT_SELL 	0x00000000
#define AR5K_AR5210_GPIOCR_INT_SELH 	0x00010000
#define AR5K_AR5210_GPIOCR_IN(n) 	(0 << ((n) * 2))
#define AR5K_AR5210_GPIOCR_OUT0(n) 	(1 << ((n) * 2))
#define AR5K_AR5210_GPIOCR_OUT1(n) 	(2 << ((n) * 2))
#define AR5K_AR5210_GPIOCR_OUT(n) 	(3 << ((n) * 2))
#define AR5K_AR5210_GPIOCR_ALL(n) 	(3<< ((n) * 2))
#define AR5K_AR5210_GPIOCR_INT_SEL(n) 	((n) << 12)
d306 1
a306 1
#define AR5K_AR5210_NUM_GPIO 	6
d311 1
a311 1
#define AR5K_AR5210_GPIODO 	0x4018
d316 2
a317 2
#define AR5K_AR5210_GPIODI 	0x401c
#define AR5K_AR5210_GPIOD_MASK 	0x0000002f
d322 9
a330 9
#define AR5K_AR5210_SREV 		0x4020
#define AR5K_AR5210_SREV_ID_M 		0x000000ff
#define AR5K_AR5210_SREV_FPGA 		1
#define AR5K_AR5210_SREV_PHYPLUS 	2
#define AR5K_AR5210_SREV_PHYPLUS_MS 	3
#define AR5K_AR5210_SREV_CRETE 		4
#define AR5K_AR5210_SREV_CRETE_MS 	5
#define AR5K_AR5210_SREV_CRETE_MS23 	7
#define AR5K_AR5210_SREV_CRETE_23 	8
d335 7
a341 7
#define AR5K_AR5210_EEPROM_BASE 	0x6000
#define AR5K_AR5210_EEPROM_RDATA 	0x6800
#define AR5K_AR5210_EEPROM_STATUS 	0x6c00
#define AR5K_AR5210_EEPROM_STAT_RDERR 	0x0001
#define AR5K_AR5210_EEPROM_STAT_RDDONE 	0x0002
#define AR5K_AR5210_EEPROM_STAT_WRERR 	0x0004
#define AR5K_AR5210_EEPROM_STAT_WRDONE 	0x0008
d347 1
a347 1
#define	AR5K_AR5210_EEPROM_MAGIC_VALUE 		0x5aa5
d349 4
a352 4
#define	AR5K_AR5210_EEPROM_PROTECT_128_191 	0x80
#define AR5K_AR5210_EEPROM_REG_DOMAIN 		0xbf
#define AR5K_AR5210_EEPROM_INFO_BASE 		0xc0
#define AR5K_AR5210_EEPROM_INFO_VERSION 				\
d354 1
a354 1
#define	AR5K_AR5210_EEPROM_INFO_MAX 					\
d361 2
a362 2
#define AR5K_AR5210_PCU_MIN 	0x8000
#define AR5K_AR5210_PCU_MAX 	0x8fff
d367 1
a367 1
#define AR5K_AR5210_STA_ID0 	0x8000
d372 8
a379 8
#define AR5K_AR5210_STA_ID1 			0x8004
#define AR5K_AR5210_STA_ID1_AP 			0x00010000
#define AR5K_AR5210_STA_ID1_ADHOC 		0x00020000
#define AR5K_AR5210_STA_ID1_PWR_SV 		0x00040000
#define AR5K_AR5210_STA_ID1_NO_KEYSRCH 		0x00080000
#define AR5K_AR5210_STA_ID1_NO_PSPOLL 		0x00100000
#define AR5K_AR5210_STA_ID1_PCF 		0x00200000
#define AR5K_AR5210_STA_ID1_DESC_ANTENNA 	0x00400000
d381 1
a381 1
#define AR5K_AR5210_STA_ID1_ACKCTS_6MB 		0x01000000
d393 3
a395 3
#define AR5K_AR5210_BSS_ID1 		0x800c
#define AR5K_AR5210_BSS_ID1_AID 	0xffff0000
#define AR5K_AR5210_BSS_ID1_AID_S 	16
d400 1
a400 1
#define AR5K_AR5210_SLOT_TIME 	0x8010
d405 2
a406 2
#define AR5K_AR5210_TIME_OUT 		0x8014
#define AR5K_AR5210_TIME_OUT_ACK 	0x00001fff
d408 2
a409 2
#define AR5K_AR5210_TIME_OUT_CTS 	0x1fff0000
#define AR5K_AR5210_TIME_OUT_CTS_S 	16
d414 2
a415 2
#define AR5K_AR5210_RSSI_THR 		0x8018
#define AR5K_AR5210_RSSI_THR_BM_THR 	0x00000700
d421 6
a426 6
#define AR5K_AR5210_RETRY_LMT 			0x801c
#define AR5K_AR5210_RETRY_LMT_SH_RETRY 		0x0000000f
#define AR5K_AR5210_RETRY_LMT_SH_RETRY_S 	0
#define AR5K_AR5210_RETRY_LMT_LG_RETRY 		0x000000f0
#define AR5K_AR5210_RETRY_LMT_LG_RETRY_S 	4
#define AR5K_AR5210_RETRY_LMT_SSH_RETRY 	0x00003f00
d428 1
a428 1
#define AR5K_AR5210_RETRY_LMT_SLG_RETRY 	0x000fc000
d430 2
a431 2
#define AR5K_AR5210_RETRY_LMT_CW_MIN 		0x3ff00000
#define AR5K_AR5210_RETRY_LMT_CW_MIN_S 		20
d436 9
a444 9
#define AR5K_AR5210_USEC 		0x8020
#define AR5K_AR5210_USEC_1 		0x0000007f
#define AR5K_AR5210_USEC_1_S 		0
#define AR5K_AR5210_USEC_32 		0x00003f80
#define AR5K_AR5210_USEC_32_S 		7
#define AR5K_AR5210_USEC_TX_LATENCY 	0x000fc000
#define AR5K_AR5210_USEC_TX_LATENCY_S 	14
#define AR5K_AR5210_USEC_RX_LATENCY 	0x03f00000
#define AR5K_AR5210_USEC_RX_LATENCY_S 	20
d449 3
a451 3
#define AR5K_AR5210_BEACON 		0x8024
#define AR5K_AR5210_BEACON_PERIOD 	0x0000ffff
#define AR5K_AR5210_BEACON_PERIOD_S 	0
d465 1
a465 1
#define AR5K_AR5210_TIMER0 		0x802c
d470 1
a470 1
#define AR5K_AR5210_TIMER1 		0x8030
d475 1
a475 1
#define AR5K_AR5210_TIMER2 		0x8034
d480 1
a480 1
#define AR5K_AR5210_TIMER3 		0x8038
d485 5
a489 5
#define AR5K_AR5210_IFS0 		0x8040
#define AR5K_AR5210_IFS0_SIFS 		0x000007ff
#define AR5K_AR5210_IFS0_SIFS_S 	0
#define AR5K_AR5210_IFS0_DIFS 		0x007ff800
#define AR5K_AR5210_IFS0_DIFS_S 	11
d494 6
a499 6
#define AR5K_AR5210_IFS1 		0x8044
#define AR5K_AR5210_IFS1_PIFS 		0x00000fff
#define AR5K_AR5210_IFS1_PIFS_S 	0
#define AR5K_AR5210_IFS1_EIFS 		0x03fff000
#define AR5K_AR5210_IFS1_EIFS_S 	12
#define AR5K_AR5210_IFS1_CS_EN 		0x04000000
d504 1
a504 1
#define AR5K_AR5210_CFP_DUR 		0x8048
d509 2
a510 2
#define AR5K_AR5210_RX_FILTER 		0x804c
#define AR5K_AR5210_RX_FILTER_UNICAST 	0x00000001
d513 2
a514 2
#define AR5K_AR5210_RX_FILTER_CONTROL 	0x00000008
#define AR5K_AR5210_RX_FILTER_BEACON 	0x00000010
d550 15
a564 15
#define AR5K_AR5210_DIAG_SW 			0x8068
#define AR5K_AR5210_DIAG_SW_DIS_WEP_ACK 	0x00000001
#define AR5K_AR5210_DIAG_SW_DIS_ACK 		0x00000002
#define AR5K_AR5210_DIAG_SW_DIS_CTS 		0x00000004
#define AR5K_AR5210_DIAG_SW_DIS_ENC 		0x00000008
#define AR5K_AR5210_DIAG_SW_DIS_DEC 		0x00000010
#define AR5K_AR5210_DIAG_SW_DIS_TX 		0x00000020
#define AR5K_AR5210_DIAG_SW_DIS_RX 		0x00000040
#define AR5K_AR5210_DIAG_SW_LOOP_BACK 		0x00000080
#define AR5K_AR5210_DIAG_SW_CORR_FCS 		0x00000100
#define AR5K_AR5210_DIAG_SW_CHAN_INFO 		0x00000200
#define AR5K_AR5210_DIAG_SW_EN_SCRAM_SEED 	0x00000400
#define AR5K_AR5210_DIAG_SW_SCVRAM_SEED 	0x0003f800
#define AR5K_AR5210_DIAG_SW_DIS_SEQ_INC 	0x00040000
#define AR5K_AR5210_DIAG_SW_FRAME_NV0 		0x00080000
d574 1
a574 1
#define AR5K_AR5210_TSF_U32 	0x8070
d579 1
a579 1
#define AR5K_AR5210_LAST_TSTP 	0x8080
d584 3
a586 3
#define AR5K_AR5210_RETRY_CNT 		0x8084
#define AR5K_AR5210_RETRY_CNT_SSH 	0x0000003f
#define AR5K_AR5210_RETRY_CNT_SLG 	0x00000fc0
d591 3
a593 3
#define AR5K_AR5210_BACKOFF 		0x8088
#define AR5K_AR5210_BACKOFF_CW 		0x000003ff
#define AR5K_AR5210_BACKOFF_CNT 	0x03ff0000
d598 1
a598 1
#define AR5K_AR5210_NAV 	0x808c
d629 5
a633 5
#define AR5K_AR5210_KEYTABLE(n) 	(AR5K_AR5210_KEYTABLE_0 + ((n) * 32))
#define AR5K_AR5210_KEYTABLE_TYPE_40 	0x00000000
#define AR5K_AR5210_KEYTABLE_TYPE_104 	0x00000001
#define AR5K_AR5210_KEYTABLE_TYPE_128 	0x00000003
#define AR5K_AR5210_KEYTABLE_VALID 	0x00008000
d635 2
a636 2
#define AR5K_AR5210_KEYTABLE_SIZE 	64
#define AR5K_AR5210_KEYCACHE_SIZE 	8
d646 9
a654 9
#define	AR5K_AR5210_PHY_FC 		0x9804
#define	AR5K_AR5210_PHY_FC_TURBO_MODE 	0x00000001
#define	AR5K_AR5210_PHY_FC_TURBO_SHORT 	0x00000002
#define	AR5K_AR5210_PHY_FC_TIMING_ERR 	0x01000000
#define	AR5K_AR5210_PHY_FC_PARITY_ERR 	0x02000000
#define	AR5K_AR5210_PHY_FC_ILLRATE_ERR 	0x04000000
#define	AR5K_AR5210_PHY_FC_ILLLEN_ERR 	0x08000000
#define	AR5K_AR5210_PHY_FC_SERVICE_ERR 	0x20000000
#define	AR5K_AR5210_PHY_FC_TXURN_ERR 	0x40000000
d659 2
a660 2
#define	AR5K_AR5210_PHY_AGC 		0x9808
#define	AR5K_AR5210_PHY_AGC_DISABLE 	0x08000000
d665 1
a665 1
#define	AR5K_AR5210_PHY_CHIP_ID 	0x9818
d671 2
a672 2
#define	AR5K_AR5210_PHY_ENABLE 		0x00000001
#define	AR5K_AR5210_PHY_DISABLE 	0x00000002
@


1.1
log
@import of a free hal part for the ath driver as a replacement for the
binary-only hal module found in FreeBSD and NetBSD. OpenBSD's approach
is based on reverse engineering because it is _not_ possible to
include a non-free and binary-only piece of software in a 100% free
operating system. it still lacks some features found in the "official" hal
module but this will be done very soon with a help by a lot of
contributors - because it's free.

ok deraadt@@
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d4 1
a4 1
 * Copyright (c) 2004 Reyk Floeter <reyk@@vantronix.net>. 
d67 6
a72 6
#define AR5K_AR5210_CFG_SWTD 	0x00000001	
#define AR5K_AR5210_CFG_SWTB 	0x00000002	
#define AR5K_AR5210_CFG_SWRD 	0x00000004	
#define AR5K_AR5210_CFG_SWRB 	0x00000008	
#define AR5K_AR5210_CFG_SWRG 	0x00000010	
#define AR5K_AR5210_CFG_EEBS 	0x00000200	
d81 1
a81 1
#define AR5K_AR5210_ISR		0x001c		
d84 2
a85 2
#define AR5K_AR5210_ISR_RXERR	0x00000004			
#define AR5K_AR5210_ISR_RXNOFRM	0x00000008			
d87 18
a104 18
#define AR5K_AR5210_ISR_RXORN 	0x00000020			
#define AR5K_AR5210_ISR_TXOK 	0x00000040			
#define AR5K_AR5210_ISR_TXDESC 	0x00000080			
#define AR5K_AR5210_ISR_TXERR 	0x00000100			
#define AR5K_AR5210_ISR_TXNOFRM 0x00000200			
#define AR5K_AR5210_ISR_TXEOL 	0x00000400			
#define AR5K_AR5210_ISR_TXURN 	0x00000800			
#define AR5K_AR5210_ISR_MIB 	0x00001000			
#define AR5K_AR5210_ISR_SWI	0x00002000			
#define AR5K_AR5210_ISR_RXPHY	0x00004000			
#define AR5K_AR5210_ISR_RXKCM	0x00008000			
#define AR5K_AR5210_ISR_SWBA	0x00010000			
#define AR5K_AR5210_ISR_BRSSI	0x00020000			
#define AR5K_AR5210_ISR_BMISS	0x00040000			
#define AR5K_AR5210_ISR_MCABT	0x00100000			
#define AR5K_AR5210_ISR_SSERR	0x00200000			
#define AR5K_AR5210_ISR_DPERR	0x00400000			
#define AR5K_AR5210_ISR_GPIO	0x01000000			
d113 24
a136 24
#define AR5K_AR5210_IMR 	0x0020			
#define AR5K_AR5210_IMR_RXOK 	0x00000001			
#define AR5K_AR5210_IMR_RXDESC 	0x00000002			
#define AR5K_AR5210_IMR_RXERR 	0x00000004			
#define AR5K_AR5210_IMR_RXNOFRM	0x00000008			
#define AR5K_AR5210_IMR_RXEOL	0x00000010			
#define AR5K_AR5210_IMR_RXORN 	0x00000020			
#define AR5K_AR5210_IMR_TXOK 	0x00000040			
#define AR5K_AR5210_IMR_TXDESC 	0x00000080			
#define AR5K_AR5210_IMR_TXERR 	0x00000100			
#define AR5K_AR5210_IMR_TXNOFRM 0x00000200			
#define AR5K_AR5210_IMR_TXEOL 	0x00000400			
#define AR5K_AR5210_IMR_TXURN 	0x00000800			
#define AR5K_AR5210_IMR_MIB 	0x00001000			
#define AR5K_AR5210_IMR_SWI 	0x00002000			
#define AR5K_AR5210_IMR_RXPHY 	0x00004000			
#define AR5K_AR5210_IMR_RXKCM 	0x00008000			
#define AR5K_AR5210_IMR_SWBA 	0x00010000			
#define AR5K_AR5210_IMR_BRSSI 	0x00020000			
#define AR5K_AR5210_IMR_BMISS 	0x00040000			
#define AR5K_AR5210_IMR_MCABT 	0x00100000			
#define AR5K_AR5210_IMR_SSERR 	0x00200000			
#define AR5K_AR5210_IMR_DPERR 	0x00400000			
#define AR5K_AR5210_IMR_GPIO 	0x01000000			
d142 2
a143 2
#define AR5K_AR5210_IER_DISABLE	0x00000000			
#define AR5K_AR5210_IER_ENABLE 	0x00000001			
d151 4
a154 4
#define AR5K_AR5210_BCR_BDMAE 	0x00000002			
#define AR5K_AR5210_BCR_TQ1FV 	0x00000004			
#define AR5K_AR5210_BCR_TQ1V 	0x00000008			
#define AR5K_AR5210_BCR_BCGET 	0x00000010			
d159 11
a169 11
#define AR5K_AR5210_BSR 		0x002c			
#define AR5K_AR5210_BSR_BDLYSW 		0x00000001			
#define AR5K_AR5210_BSR_BDLYDMA 	0x00000002			
#define AR5K_AR5210_BSR_TXQ1F 		0x00000004			
#define AR5K_AR5210_BSR_ATIMDLY 	0x00000008			
#define AR5K_AR5210_BSR_SNPBCMD 	0x00000100			
#define AR5K_AR5210_BSR_SNPBDMAE 	0x00000200			
#define AR5K_AR5210_BSR_SNPTQ1FV 	0x00000400			
#define AR5K_AR5210_BSR_SNPTQ1V 	0x00000800			
#define AR5K_AR5210_BSR_SNAPPEDBCRVALID	0x00001000			
#define AR5K_AR5210_BSR_SWBA_CNT	0x00ff0000			
d188 5
a192 5
#define AR5K_AR5210_TXCFG		0x0030			
#define AR5K_AR5210_TXCFG_SDMAMR 	0x00000007			
#define AR5K_AR5210_TXCFG_TXFSTP 	0x00000008			
#define AR5K_AR5210_TXCFG_TXFULL 	0x00000070			
#define AR5K_AR5210_TXCFG_TXCONT_EN	0x00000080			
d197 3
a199 3
#define AR5K_AR5210_RXCFG		0x0034			
#define AR5K_AR5210_RXCFG_SDMAMW	0x00000007			
#define AR5K_AR5210_RXCFG_ZLFDMA	0x00000010			
d206 3
a208 3
#define AR5K_AR5210_MIBC_FMC 		0x00000002			
#define AR5K_AR5210_MIBC_CMC		0x00000004			
#define AR5K_AR5210_MIBC_MCS 		0x00000008			
d230 2
a231 2
/* 
 * Receive frame count limit register 
d234 1
a234 1
#define AR5K_AR5210_RFCNT_RFCL 		0x0000000f			
d237 1
a237 1
 * Misc settings/status register 
d240 2
a241 2
#define AR5K_AR5210_MISC_LED_DECAY	0x001c0000			
#define AR5K_AR5210_MISC_LED_BLINK	0x00e00000			
d247 5
a251 5
#define AR5K_AR5210_RC_PCU 		0x00000001			
#define AR5K_AR5210_RC_DMA 		0x00000002			
#define AR5K_AR5210_RC_MAC 		0x00000004			
#define AR5K_AR5210_RC_PHY 		0x00000008			
#define AR5K_AR5210_RC_PCI 		0x00000010			
d261 5
a265 5
#define AR5K_AR5210_SCR_SLDUR 		0x0000ffff			
#define AR5K_AR5210_SCR_SLE 		0x00030000			
#define AR5K_AR5210_SCR_SLE_WAKE 	0x00000000			
#define AR5K_AR5210_SCR_SLE_SLP 	0x00010000			
#define AR5K_AR5210_SCR_SLE_ALLOW 	0x00020000			
d277 1
a277 1
#define AR5K_AR5210_SFR_SF 		0x00000001			
d283 8
a290 8
#define AR5K_AR5210_PCICFG_EEAE 	0x00000001			
#define AR5K_AR5210_PCICFG_CLKRUNEN 	0x00000004			
#define AR5K_AR5210_PCICFG_LED_PEND 	0x00000020			
#define AR5K_AR5210_PCICFG_LED_ACT 	0x00000040			
#define AR5K_AR5210_PCICFG_SL_INTEN 	0x00000800			
#define AR5K_AR5210_PCICFG_LED_BCTL 	0x00001000			
#define AR5K_AR5210_PCICFG_SL_INPEN 	0x00002800			
#define AR5K_AR5210_PCICFG_SPWR_DN 	0x00010000			
d296 9
a304 9
#define AR5K_AR5210_GPIOCR_INT_ENA 	0x00008000			
#define AR5K_AR5210_GPIOCR_INT_SELL 	0x00000000			
#define AR5K_AR5210_GPIOCR_INT_SELH 	0x00010000			
#define AR5K_AR5210_GPIOCR_IN(n) 	(0 << ((n) * 2))			
#define AR5K_AR5210_GPIOCR_OUT0(n) 	(1 << ((n) * 2))			
#define AR5K_AR5210_GPIOCR_OUT1(n) 	(2 << ((n) * 2))			
#define AR5K_AR5210_GPIOCR_OUT(n) 	(3 << ((n) * 2))			
#define AR5K_AR5210_GPIOCR_ALL(n) 	(3<< ((n) * 2))			
#define AR5K_AR5210_GPIOCR_INT_SEL(n) 	((n) << 12)			
d326 1
a326 1
#define AR5K_AR5210_SREV_PHYPLUS_MS 	3 
d328 3
a330 3
#define AR5K_AR5210_SREV_CRETE_MS 	5 
#define AR5K_AR5210_SREV_CRETE_MS23 	7 
#define AR5K_AR5210_SREV_CRETE_23 	8 
d335 7
a341 7
#define AR5K_AR5210_EEPROM_BASE 	0x6000 
#define AR5K_AR5210_EEPROM_RDATA 	0x6800 
#define AR5K_AR5210_EEPROM_STATUS 	0x6c00 
#define AR5K_AR5210_EEPROM_STAT_RDERR 	0x0001 
#define AR5K_AR5210_EEPROM_STAT_RDDONE 	0x0002 
#define AR5K_AR5210_EEPROM_STAT_WRERR 	0x0004 
#define AR5K_AR5210_EEPROM_STAT_WRDONE 	0x0008 
d373 9
a381 9
#define AR5K_AR5210_STA_ID1_AP 			0x00010000			
#define AR5K_AR5210_STA_ID1_ADHOC 		0x00020000			
#define AR5K_AR5210_STA_ID1_PWR_SV 		0x00040000			
#define AR5K_AR5210_STA_ID1_NO_KEYSRCH 		0x00080000			
#define AR5K_AR5210_STA_ID1_NO_PSPOLL 		0x00100000			
#define AR5K_AR5210_STA_ID1_PCF 		0x00200000			
#define AR5K_AR5210_STA_ID1_DESC_ANTENNA 	0x00400000			
#define AR5K_AR5210_STA_ID1_DEFAULT_ANTENNA	0x00800000			
#define AR5K_AR5210_STA_ID1_ACKCTS_6MB 		0x01000000			
d394 1
a394 1
#define AR5K_AR5210_BSS_ID1_AID 	0xffff0000			
d406 1
a406 1
#define AR5K_AR5210_TIME_OUT_ACK 	0x00001fff			
d408 1
a408 1
#define AR5K_AR5210_TIME_OUT_CTS 	0x1fff0000			
d415 1
a415 1
#define AR5K_AR5210_RSSI_THR_BM_THR 	0x00000700			
d422 1
a422 1
#define AR5K_AR5210_RETRY_LMT_SH_RETRY 		0x0000000f			
d424 1
a424 1
#define AR5K_AR5210_RETRY_LMT_LG_RETRY 		0x000000f0			
d426 1
a426 1
#define AR5K_AR5210_RETRY_LMT_SSH_RETRY 	0x00003f00			
d428 1
a428 1
#define AR5K_AR5210_RETRY_LMT_SLG_RETRY 	0x000fc000			
d437 1
a437 1
#define AR5K_AR5210_USEC_1 		0x0000007f			
d439 1
a439 1
#define AR5K_AR5210_USEC_32 		0x00003f80			
d441 1
a441 1
#define AR5K_AR5210_USEC_TX_LATENCY 	0x000fc000			
d443 1
a443 1
#define AR5K_AR5210_USEC_RX_LATENCY 	0x03f00000			
d450 1
a450 1
#define AR5K_AR5210_BEACON_PERIOD 	0x0000ffff			
d452 1
a452 1
#define AR5K_AR5210_BEACON_TIM		0x007f0000			
d454 2
a455 2
#define AR5K_AR5210_BEACON_EN		0x00800000			
#define AR5K_AR5210_BEACON_RESET_TSF	0x01000000			
d460 1
a460 1
#define AR5K_AR5210_CFP_PERIOD		0x8028			
d465 1
a465 1
#define AR5K_AR5210_TIMER0 		0x802c			
d470 1
a470 1
#define AR5K_AR5210_TIMER1 		0x8030			
d475 1
a475 1
#define AR5K_AR5210_TIMER2 		0x8034			
d480 1
a480 1
#define AR5K_AR5210_TIMER3 		0x8038			
d486 1
a486 1
#define AR5K_AR5210_IFS0_SIFS 		0x000007ff			
d488 1
a488 1
#define AR5K_AR5210_IFS0_DIFS 		0x007ff800			
d495 1
a495 1
#define AR5K_AR5210_IFS1_PIFS 		0x00000fff			
d497 1
a497 1
#define AR5K_AR5210_IFS1_EIFS 		0x03fff000			
d499 1
a499 1
#define AR5K_AR5210_IFS1_CS_EN 		0x04000000			
d504 1
a504 1
#define AR5K_AR5210_CFP_DUR 		0x8048			
d509 7
a515 7
#define AR5K_AR5210_RX_FILTER 		0x804c			
#define AR5K_AR5210_RX_FILTER_UNICAST 	0x00000001			
#define AR5K_AR5210_RX_FILTER_MULTICAST	0x00000002			
#define AR5K_AR5210_RX_FILTER_BROADCAST	0x00000004			
#define AR5K_AR5210_RX_FILTER_CONTROL 	0x00000008			
#define AR5K_AR5210_RX_FILTER_BEACON 	0x00000010			
#define AR5K_AR5210_RX_FILTER_PROMISC	0x00000020			
d530 1
a530 1
#define AR5K_AR5210_TX_MASK0	0x8058			
d551 14
a564 14
#define AR5K_AR5210_DIAG_SW_DIS_WEP_ACK 	0x00000001			
#define AR5K_AR5210_DIAG_SW_DIS_ACK 		0x00000002			
#define AR5K_AR5210_DIAG_SW_DIS_CTS 		0x00000004			
#define AR5K_AR5210_DIAG_SW_DIS_ENC 		0x00000008			
#define AR5K_AR5210_DIAG_SW_DIS_DEC 		0x00000010			
#define AR5K_AR5210_DIAG_SW_DIS_TX 		0x00000020			
#define AR5K_AR5210_DIAG_SW_DIS_RX 		0x00000040			
#define AR5K_AR5210_DIAG_SW_LOOP_BACK 		0x00000080			
#define AR5K_AR5210_DIAG_SW_CORR_FCS 		0x00000100			
#define AR5K_AR5210_DIAG_SW_CHAN_INFO 		0x00000200			
#define AR5K_AR5210_DIAG_SW_EN_SCRAM_SEED 	0x00000400			
#define AR5K_AR5210_DIAG_SW_SCVRAM_SEED 	0x0003f800			
#define AR5K_AR5210_DIAG_SW_DIS_SEQ_INC 	0x00040000			
#define AR5K_AR5210_DIAG_SW_FRAME_NV0 		0x00080000			
d585 2
a586 2
#define AR5K_AR5210_RETRY_CNT_SSH 	0x0000003f			
#define AR5K_AR5210_RETRY_CNT_SLG 	0x00000fc0			
d592 2
a593 2
#define AR5K_AR5210_BACKOFF_CW 		0x000003ff			
#define AR5K_AR5210_BACKOFF_CNT 	0x03ff0000			
d638 1
a638 1
/* 
@

