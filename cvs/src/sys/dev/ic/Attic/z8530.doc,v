head	1.3;
access;
symbols
	OPENBSD_3_6:1.2.0.36
	OPENBSD_3_6_BASE:1.2
	SMP_SYNC_A:1.2
	SMP_SYNC_B:1.2
	OPENBSD_3_5:1.2.0.34
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.32
	OPENBSD_3_4_BASE:1.2
	UBC_SYNC_A:1.2
	OPENBSD_3_3:1.2.0.30
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.28
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.26
	OPENBSD_3_1_BASE:1.2
	UBC_SYNC_B:1.2
	UBC:1.2.0.24
	UBC_BASE:1.2
	OPENBSD_3_0:1.2.0.22
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_9:1.2.0.20
	OPENBSD_2_8:1.2.0.18
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.16
	OPENBSD_2_7_BASE:1.2
	SMP:1.2.0.14
	SMP_BASE:1.2
	kame_19991208:1.2
	OPENBSD_2_6:1.2.0.12
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.10
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.8
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.6
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.4
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.2
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.1.0.2
	OPENBSD_2_0_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2004.11.24.22.07.40;	author miod;	state dead;
branches;
next	1.2;

1.2
date	96.10.31.01.01.41;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	96.01.31.07.01.06;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Long time not accurate anymore.
@
text
@$OpenBSD: z8530.doc,v 1.2 1996/10/31 01:01:41 niklas Exp $
$NetBSD: z8530.doc,v 1.1 1996/01/24 01:07:21 gwr Exp $

Here are the results of my reorganization work on the zs driver.
Everything compiles and appears to work.

Enjoy!
Gordon Ross

----------------------------------------------------------------
This design has a "zs controller" named "zsc" with three
flavors of child drivers that can be attached above it.
The three child drivers are:
	zstty:	normal RS-232 line
	kbd:	sun keyboard
	ms:	sun mouse

Note that the machine-dependent parts are:
	arch/sun3/include/z8530var.h
	arch/sun3/dev/zs.c
(replicate those for new systems)

The Sun hardware dependent parts (Sun3 and SPARC) are:
	kd*	sun keyboard/display console stuff
	event*	sun "firm event" stuff

----------------------------------------------------------------
Here is how the autoconfig looks on a sun3:

zsc0 at obio0 addr 0x0 level 6 softpri 3
kbd0 at zsc0 channel 0
ms0 at zsc0 channel 1
zsc1 at obio0 addr 0x20000 level 6 softpri 3
zstty0 at zsc1 channel 0 (console)
zstty1 at zsc1 channel 1


----------------------------------------------------------------
Config lines:

In any config file (i.e. GENERIC, NEW_ZS, ...)
Note {kbd,ms} are sun-specific.

#
# New console (zs) stuff
#
zsc0 at obio? addr ?
zsc1 at obio? addr ?
kbd0 at zsc0 channel 0
ms0  at zsc0 channel 1
zstty* at zsc? channel ?


----------------------------------------------------------------
In conf/files.sun3

#
# Console (zs) related stuff
#
device zsc at obio {channel = -1}
file arch/sun3/dev/zs.c 		zsc needs-flag
file dev/ic/z8530sc.c			zsc

device zstty at zsc: tty
file dev/ic/z8530tty.c			zstty needs-flag

define zsevent
file dev/sun/event.c			zsevent

device kbd at zsc: zsevent
file dev/sun/kbd.c			kbd needs-flag
file dev/sun/kbd_tables.c 		kbd
file arch/sun3/dev/kd.c 		kbd

device ms at zsc: zsevent
file dev/sun/ms.c			ms needs-flag

@


1.2
log
@$OpenBSD RCSIDs
@
text
@d1 1
a1 1
$OpenBSD: z8530.doc,v 1.1 1996/01/24 01:07:21 gwr Exp $
@


1.1
log
@z8530 reorganization from gwr (which i think isn't nearly as machine
independent or correct as he thinks it is)
@
text
@d1 1
@
