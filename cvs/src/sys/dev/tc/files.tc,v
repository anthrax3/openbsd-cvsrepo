head	1.13;
access;
symbols
	OPENBSD_6_2:1.13.0.12
	OPENBSD_6_2_BASE:1.13
	OPENBSD_6_1:1.13.0.10
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.13.0.6
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.13.0.2
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.4
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.12.0.4
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.11.0.6
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.4
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.9.0.8
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.9.0.6
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.4
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.2
	OPENBSD_5_0:1.8.0.28
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.8.0.26
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.8.0.24
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.20
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.22
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.18
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.16
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.14
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.12
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.10
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.8
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.8.0.6
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.8.0.4
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.6.0.10
	OPENBSD_3_6_BASE:1.6
	SMP_SYNC_A:1.6
	SMP_SYNC_B:1.6
	OPENBSD_3_5:1.6.0.8
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.6
	OPENBSD_3_4_BASE:1.6
	UBC_SYNC_A:1.6
	OPENBSD_3_3:1.6.0.4
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.2
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.5.0.28
	OPENBSD_3_1_BASE:1.5
	UBC_SYNC_B:1.6
	UBC:1.5.0.26
	UBC_BASE:1.5
	OPENBSD_3_0:1.5.0.24
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_9:1.5.0.22
	OPENBSD_2_8:1.5.0.20
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.5.0.18
	OPENBSD_2_7_BASE:1.5
	SMP:1.5.0.16
	SMP_BASE:1.5
	kame_19991208:1.5
	OPENBSD_2_6:1.5.0.14
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.5.0.12
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.5.0.10
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.5.0.8
	OPENBSD_2_3_BASE:1.5
	OPENBSD_2_2:1.5.0.6
	OPENBSD_2_2_BASE:1.5
	OPENBSD_2_1:1.5.0.4
	OPENBSD_2_1_BASE:1.5
	OPENBSD_2_0:1.5.0.2
	OPENBSD_2_0_BASE:1.5;
locks; strict;
comment	@# @;


1.13
date	2015.05.11.06.46.22;	author ratchov;	state Exp;
branches;
next	1.12;
commitid	RaOGL5SyOGOZylwx;

1.12
date	2014.10.18.12.21.57;	author miod;	state Exp;
branches;
next	1.11;
commitid	bMGwcxDJMvwyWkup;

1.11
date	2013.10.28.12.33.32;	author mpi;	state Exp;
branches;
next	1.10;

1.10
date	2013.09.24.20.11.05;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.04.20.10.18;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2005.03.08.20.00.25;	author tdeval;	state Exp;
branches;
next	1.7;

1.7
date	2004.09.16.09.14.02;	author mickey;	state Exp;
branches;
next	1.6;

1.6
date	2002.05.02.22.56.06;	author miod;	state Exp;
branches;
next	1.5;

1.5
date	96.05.26.00.27.52;	author deraadt;	state Exp;
branches
	1.5.16.1
	1.5.26.1;
next	1.4;

1.4
date	96.05.10.12.33.25;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.04.21.22.26.22;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.04.18.23.48.21;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	95.12.26.18.18.45;	author deraadt;	state Exp;
branches;
next	;

1.5.16.1
date	2003.03.28.00.38.30;	author niklas;	state Exp;
branches;
next	;

1.5.26.1
date	2002.06.11.03.42.29;	author art;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Remove all audio format conversion code from the kernel (btw holding
the kernel_lock), as we already do better conversions in
user-mode. Yet, no need for every single driver to fiddle with the
conversion code as they are done transparently by common MI code. With
help from armani and miod, support from mpi

ok armani@@
@
text
@#	$OpenBSD: files.tc,v 1.12 2014/10/18 12:21:57 miod Exp $
#	$NetBSD: files.tc,v 1.26 2001/11/28 10:21:24 lukem Exp $
#
# Config file and device description for machine-independent
# TURBOchannel code.  Included by ports that need it.

device	tc {[slot = -1], [offset = -1]}
#attach	tc at tcbus
file	dev/tc/tc.c			tc

# IOCTL ASIC
device	ioasic {[offset = -1]}
attach	ioasic at tc
file	dev/tc/ioasic_subr.c		ioasic

# LANCE attachments.
#  lance device defined in sys/conf/files
#  le_dec_subr	attribute defined in sys/dev/dec/files.dec

attach	le at ioasic with le_ioasic:	le24, le_dec_subr
file	dev/tc/if_le_ioasic.c		le_ioasic

attach	le at tc with le_tc:		le24, le_dec_subr
file	dev/tc/if_le_tc.c		le_tc

# baseboard audio
device	bba: audio, am7930
attach	bba at ioasic
file	dev/tc/bba.c			bba

# TCDS dual channel SCSI
device	tcds {[chip = -1]}
attach	tcds at tc
file	dev/tc/tcds.c			tcds

# 53C[F]90 PMAZ single channel SCSI
device	asc: ncr53c9x, scsi
file	dev/tc/asc.c			asc
attach	asc at tc with asc_tc
file	dev/tc/asc_tc.c			asc_tc
attach	asc at tcds with asc_tcds
file	dev/tc/asc_tcds.c		asc_tcds
@


1.12
log
@Remove even more unnecessary `needs-flag' attributes from config machinery,
as well as useless include of the generated flag files.
@
text
@d1 1
a1 1
#	$OpenBSD: files.tc,v 1.11 2013/10/28 12:33:32 mpi Exp $
d27 1
a27 1
device	bba: audio, am7930, mulaw
@


1.11
log
@tedu FDDI support and the 3 flavors the driver for DEC devices, even
miod@@ cannot find two boards using the same media.

With precious punctuation review from guenther@@, thanks!

ok deraadt@@, henning@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.tc,v 1.10 2013/09/24 20:11:05 miod Exp $
d9 1
a9 1
file	dev/tc/tc.c			tc	needs-flag
@


1.10
log
@Sync the MI LANCE code ( le(4) ) with NetBSD, except for the following:
- the am7990_get() - now lance_get() - is unchanged.
- the interrupt acknowledge logic is unchanged, and will disable interrupts,
  then acknowledge all interrupt conditions.

Add ILACC (79900) support (from NetBSD).

Both LANCE (am7990.c) and ILACC (am79900.c) code share as much common code
(lance.c) as possible. This affects all le(4) attachments, but the changes
are mostly mechanical, to split am7990-specific parts from lance-agnostic
parts.

Compile tested on all affected platforms. Tested on alpha, hp300, luna88k,
mvme88k, sparc, sparc64 and vax.
@
text
@d1 1
a1 1
#	$OpenBSD: files.tc,v 1.9 2011/09/04 20:10:18 miod Exp $
a29 5

# DEFTA FDDI controller
device	fta: pdq, fddi, ifnet
attach	fta at tc
file	dev/tc/if_fta.c			fta
@


1.9
log
@Driver for the TURBOchannel alpha baseboard audio. Ported from NetBSD, with
changes to allow using non-native encodings, and alpha specific code to try
and avoid doing 8 bit memory access.
Tested on 3000/300LX, deaf testing on 3000/600.
@
text
@d1 1
a1 1
#	$OpenBSD: files.tc,v 1.8 2005/03/08 20:00:25 tdeval Exp $
d20 1
a20 1
attach	le at ioasic with le_ioasic:	le_dec_subr
d23 1
a23 1
attach	le at tc with le_tc:		le_dec_subr
@


1.8
log
@Cosmetics...
Mainly remove space between locators parens, replace spaces with tabs
where appropriate and consistently align dependencies.
@
text
@d1 1
a1 1
#	$OpenBSD: files.tc,v 1.7 2004/09/16 09:14:02 mickey Exp $
d25 5
@


1.7
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: files.tc,v 1.6 2002/05/02 22:56:06 miod Exp $
d20 1
a20 1
attach le at ioasic with le_ioasic:	le_dec_subr
d23 1
a23 1
attach le at tc with le_tc:		le_dec_subr
@


1.6
log
@Big TURBOchannel support catchup from NetBSD, part 1.
A few local changes and tweaks remain.

This bring DEC 3000 machines back in the game, but framebuffers are still
not supported at the moment.

Thanks to ericj@@ and nate@@ for supplying me a DEC 3000 for testing.
@
text
@d1 1
a1 1
#	$OpenBSD$
d12 1
a12 1
device	ioasic { offset = -1 }
d32 1
a32 1
device	tcds { chip = -1 }
@


1.5
log
@sync 0521
@
text
@d1 2
a2 2
#	$OpenBSD: files.tc,v 1.4 1996/05/10 12:33:25 deraadt Exp $
#	$NetBSD: files.tc,v 1.5 1996/05/20 00:45:02 thorpej Exp $
d4 2
a5 2
# Config.new file and device description for machine-independent
# TurboChannel code.  Included by ports that need it.
d8 1
a8 1
attach	tc at tcbus
d11 4
a14 6
# device defined in sys/conf/files
# attach le at ioasic with le_ioasic
# attach le at tc with le_tc
# file	dev/tc/if_le_dec.c		(le_ioasic | le_tc)
# file	dev/tc/if_le_ioasic.c		le_ioasic needs-flag # for le_iomem
# file	dev/tc/if_le_tc.c		le_tc
d16 11
a26 1
# DEC DEFTA TC FDDI Controller
d30 13
@


1.5.16.1
log
@Sync the SMP branch with 3.3
@
text
@d1 2
a2 2
#	$OpenBSD$
#	$NetBSD: files.tc,v 1.26 2001/11/28 10:21:24 lukem Exp $
d4 2
a5 2
# Config file and device description for machine-independent
# TURBOchannel code.  Included by ports that need it.
d8 1
a8 1
#attach	tc at tcbus
d11 6
a16 4
# IOCTL ASIC
device	ioasic { offset = -1 }
attach	ioasic at tc
file	dev/tc/ioasic_subr.c		ioasic
d18 1
a18 11
# LANCE attachments.
#  lance device defined in sys/conf/files
#  le_dec_subr	attribute defined in sys/dev/dec/files.dec

attach le at ioasic with le_ioasic:	le_dec_subr
file	dev/tc/if_le_ioasic.c		le_ioasic

attach le at tc with le_tc:		le_dec_subr
file	dev/tc/if_le_tc.c		le_tc

# DEFTA FDDI controller
a21 13

# TCDS dual channel SCSI
device	tcds { chip = -1 }
attach	tcds at tc
file	dev/tc/tcds.c			tcds

# 53C[F]90 PMAZ single channel SCSI
device	asc: ncr53c9x, scsi
file	dev/tc/asc.c			asc
attach	asc at tc with asc_tc
file	dev/tc/asc_tc.c			asc_tc
attach	asc at tcds with asc_tcds
file	dev/tc/asc_tcds.c		asc_tcds
@


1.5.26.1
log
@Sync UBC branch to -current
@
text
@d1 2
a2 2
#	$OpenBSD$
#	$NetBSD: files.tc,v 1.26 2001/11/28 10:21:24 lukem Exp $
d4 2
a5 2
# Config file and device description for machine-independent
# TURBOchannel code.  Included by ports that need it.
d8 1
a8 1
#attach	tc at tcbus
d11 6
a16 4
# IOCTL ASIC
device	ioasic { offset = -1 }
attach	ioasic at tc
file	dev/tc/ioasic_subr.c		ioasic
d18 1
a18 11
# LANCE attachments.
#  lance device defined in sys/conf/files
#  le_dec_subr	attribute defined in sys/dev/dec/files.dec

attach le at ioasic with le_ioasic:	le_dec_subr
file	dev/tc/if_le_ioasic.c		le_ioasic

attach le at tc with le_tc:		le_dec_subr
file	dev/tc/if_le_tc.c		le_tc

# DEFTA FDDI controller
a21 13

# TCDS dual channel SCSI
device	tcds { chip = -1 }
attach	tcds at tc
file	dev/tc/tcds.c			tcds

# 53C[F]90 PMAZ single channel SCSI
device	asc: ncr53c9x, scsi
file	dev/tc/asc.c			asc
attach	asc at tc with asc_tc
file	dev/tc/asc_tc.c			asc_tc
attach	asc at tcds with asc_tcds
file	dev/tc/asc_tcds.c		asc_tcds
@


1.4
log
@split le driver, add iy driver
@
text
@d1 2
a2 2
#	$OpenBSD: files.tc,v 1.2 1996/04/18 23:48:21 niklas Exp $
#	$NetBSD: files.tc,v 1.4 1996/05/07 02:25:00 thorpej Exp $
d17 5
@


1.3
log
@partial sync with netbsd 960418, more to come
@
text
@d2 1
a2 1
#	$NetBSD: files.tc,v 1.3 1996/03/17 00:58:33 thorpej Exp $
d11 6
a16 4
# XXX conflicts with ISA if_le.c
#device le: ether, ifnet		# XXX PMAX BASEBOARD OPTIONS
#attach le at ioasic, tc with le_tc
#file	dev/tc/if_le.c			le	needs-flag	# for le_iomem
@


1.2
log
@NetBSD 960317 merge
@
text
@d1 2
a2 2
#	$OpenBSD$
#	$NetBSD: files.tc,v 1.2 1996/02/27 22:00:04 cgd Exp $
d7 2
a8 1
device	tc at tcbus {[slot = -1], [offset = -1]}
d12 2
a13 1
#device le at ioasic, tc: ether, ifnet		# XXX PMAX BASEBOARD OPTIONS
@


1.1
log
@from netbsd:
files file to define 'tcbus' attribute, to which 'tc's attach.
also defines tc device.  does _not_ define le driver, because
of conflicts with other (e.g. ISA) le drivers.  (Alpha kernel
configuration files include files.isa and files.tc.)
@
text
@d1 2
a2 1
#	$NetBSD: files.tc,v 1.1 1995/12/20 00:54:18 cgd Exp $
a5 5

# ports should define "chipsets" which have the tcbus attribute
# and attach their TC bus subdevices

define	tcbus { }
@
