head	1.5;
access;
symbols
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.5.0.34
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.24
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.32
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.30
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.28
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.26
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.22
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.20
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.18
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.16
	OPENBSD_5_0:1.5.0.14
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.12
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.10
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.6
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.8
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.4
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.4.0.18
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.16
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.14
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.12
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.10
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.8
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.6
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.4
	OPENBSD_3_6_BASE:1.4
	SMP_SYNC_A:1.4
	SMP_SYNC_B:1.4
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.3.0.14
	OPENBSD_3_4_BASE:1.3
	UBC_SYNC_A:1.3
	OPENBSD_3_3:1.3.0.12
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.10
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.8
	OPENBSD_3_1_BASE:1.3
	UBC_SYNC_B:1.3
	UBC:1.3.0.6
	UBC_BASE:1.3
	OPENBSD_3_0:1.3.0.4
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_8:1.2.0.8
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.6
	OPENBSD_2_7_BASE:1.2
	SMP:1.2.0.4
	SMP_BASE:1.2
	kame_19991208:1.2
	OPENBSD_2_6:1.2.0.2
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.1.0.4
	OPENBSD_2_5_BASE:1.1
	OPENBSD_2_4:1.1.0.2
	OPENBSD_2_4_BASE:1.1;
locks; strict;
comment	@ * @;


1.5
date	2008.06.26.05.42.16;	author ray;	state Exp;
branches;
next	1.4;

1.4
date	2003.10.22.09.39.29;	author jmc;	state Exp;
branches;
next	1.3;

1.3
date	2001.04.17.01.19.22;	author jason;	state Exp;
branches;
next	1.2;

1.2
date	99.06.22.16.12.05;	author jason;	state Exp;
branches
	1.2.4.1;
next	1.1;

1.1
date	98.09.10.17.17.33;	author jason;	state Exp;
branches;
next	;

1.2.4.1
date	2001.05.14.22.25.23;	author niklas;	state Exp;
branches;
next	1.2.4.2;

1.2.4.2
date	2004.02.19.10.56.24;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.5
log
@First pass at removing clauses 3 and 4 from NetBSD licenses.

Not sure what's more surprising: how long it took for NetBSD to
catch up to the rest of the BSDs (including UCB), or the amount of
code that NetBSD has claimed for itself without attributing to the
actual authors.

OK deraadt@@
@
text
@/*	$OpenBSD: inphyreg.h,v 1.4 2003/10/22 09:39:29 jmc Exp $	*/
/*	$NetBSD: inphyreg.h,v 1.1 1998/08/11 00:00:28 thorpej Exp $	*/

/*-
 * Copyright (c) 1998 The NetBSD Foundation, Inc.
 * All rights reserved.
 *
 * This code is derived from software contributed to The NetBSD Foundation
 * by Jason R. Thorpe of the Numerical Aerospace Simulation Facility,
 * NASA Ames Research Center.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE NETBSD FOUNDATION, INC. AND CONTRIBUTORS
 * ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE FOUNDATION OR CONTRIBUTORS
 * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef _DEV_MII_INPHYREG_H_
#define	_DEV_MII_INPHYREG_H_

/*
 * Intel 82555, 82562EM, and 82562ET registers.
 * Note that the 82562 chips are basically 82555 with a few extra registers
 * and all of the 100baseT4 support removed.  Bits in the SCR register do
 * overlap however.
 */

#define	MII_INPHY_SCR		0x10	/* Status and Control */
#define	SCR_FLOWCTL		0x8000	/* PHY Base flow control enabled */
#define	SCR_CSDC		0x2000	/* Carrier sense disconnect control */
#define	SCR_TFCD		0x1000	/* Transmit flow control disable */
#define	SCR_RDSI		0x0800	/* Receive deserializer in-sync */
#define	SCR_100TXPD		0x0400	/* 100baseTX is powered down */
#define	SCR_10TPD		0x0200	/* 10baseT is powered down */
#define	SCR_POLARITY		0x0100	/* reverse 10baseT polarity */
#define	SCR_T4			0x0004	/* autoneg resulted in 100baseT4 */
#define	SCR_S100		0x0002	/* autoneg resulted in 100baseTX */
#define	SCR_FDX			0x0001	/* autoneg resulted in full-duplex */
/* 82562E[MT] only */
#define	SCR_PHYADDR_M		0x007c	/* phy address mask */
#define	SCR_PHYADDR_S		2	/* shift to normalize */

#define	MII_INPHY_SCTRL		0x11	/* Special Control Bit */
#define	SCTRL_SCRBYPASS		0x8000	/* scrambler bypass */
#define	SCTRL_4B5BNYPASS	0x4000	/* 4bit to 5bit bypass */
#define	SCTRL_FTHP		0x2000	/* force transmit H-pattern */
#define	SCTRL_F34TP		0x1000	/* force 34 transmit patter */
#define	SCTRL_GOODLINK		0x0800	/* 100baseTX link good */
#define	SCTRL_TCSD		0x0200	/* transmit carrier sense disable */
#define	SCTRL_DDPD		0x0100	/* disable dynamic power-down */
#define	SCTRL_ANEGLOOP		0x0080	/* autonegotiation loopback */
#define	SCTRL_MDITRISTATE	0x0040	/* MDI Tri-state */
#define	SCTRL_FILTERBYPASS	0x0020	/* Filter bypass */
#define	SCTRL_AUTOPOLDIS	0x0010	/* auto-polarity disable */
#define	SCTRL_SQUELCHDIS	0x0008	/* squlch test disable */
#define	SCTRL_EXTSQUELCH	0x0004	/* extended sequelch enable */
#define	SCTRL_LINKINTDIS	0x0002	/* link integrity disable */
#define	SCTRL_JABBERDIS		0x0001	/* jabber disabled */
/* 82562E[MT] only */
#define	SCTRL_SRE		0x0400	/* symbol error enable */
#define SCTRL_FORCEPOL		0x0020	/* force polarity, 0 = normal */

/* 82562E[MT] only */
#define	MII_INPHY_PHYADDR	0x12	/* phy address register, 82562 only */

/* 82562E[MT] only */
#define	MII_INPHY_100TXFCC	0x13	/* false carrier counter */

#define	MII_INPHY_100TXRDC	0x14	/* 100baseTX Receive Disconnect Cntr */

#define	MII_INPHY_100TXREFC	0x15	/* 100baseTX Receive Error Frame Ctr */

#define	MII_INPHY_RSEC		0x16	/* Receive Symbol Error Counter */

#define	MII_INPHY_100TXRPEOFC	0x17	/* 100baseTX Rcv Premature EOF Ctr */

#define	MII_INPHY_10TREOFC	0x18	/* 10baseT Rcv EOF Ctr */

#define	MII_INPHY_10TTJDC	0x19	/* 10baseT Tx Jabber Detect Ctr */

#define	MII_INPHY_SCTRL2	0x1b	/* 82555 Special Control */
#define	SCTRL2_LEDMASK		0x0007	/* mask of LEDs control: see below */

#define	LEDMASK_ACTLINK		0x0000	/* A = Activity, L = Link */
#define	LEDMASK_SPDCOLL		0x0001	/* A = Speed, L = Collision */
#define	LEDMASK_SPDLINK		0x0002	/* A = Speed, L = Link */
#define	LEDMASK_ACTCOLL		0x0003	/* A = Activity, L = Collision */
#define	LEDMASK_OFFOFF		0x0004	/* A = off, L = off */
#define	LEDMASK_OFFON		0x0005	/* A = off, L = on */
#define	LEDMASK_ONOFF		0x0006	/* A = on, L = off */
#define	LESMASK_ONON		0x0007	/* A = on, L = on */

#endif /* _DEV_MII_INPHYREG_H_ */
@


1.4
log
@typos from Tom Cosgrove;
@
text
@d1 1
a1 1
/*	$OpenBSD: inphyreg.h,v 1.3 2001/04/17 01:19:22 jason Exp $	*/
a19 7
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by the NetBSD
 *	Foundation, Inc. and its contributors.
 * 4. Neither the name of The NetBSD Foundation nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
@


1.3
log
@add support for the 82562E[MT] phys (These are essentially 82555's will
all support for T4 gone).  There are some register definition conflicts
(SCR), but that is qualified by the presence of T4 support.
@
text
@d1 1
a1 1
/*	$OpenBSD: inphyreg.h,v 1.2 1999/06/22 16:12:05 jason Exp $	*/
d74 1
a74 1
#define	SCTRL_ANEGLOOP		0x0080	/* autonegotiaion loopback */
@


1.2
log
@From NetBSD: SCTRL2 register number wrong.
@
text
@d1 1
a1 1
/*	$OpenBSD: inphyreg.h,v 1.1 1998/09/10 17:17:33 jason Exp $	*/
d45 4
a48 1
 * Intel 82555 registers.
d62 3
d82 9
@


1.2.4.1
log
@merge in approximately 2.9 into SMP branch
@
text
@d1 1
a1 1
/*	$OpenBSD: inphyreg.h,v 1.3 2001/04/17 01:19:22 jason Exp $	*/
d45 1
a45 4
 * Intel 82555, 82562EM, and 82562ET registers.
 * Note that the 82562 chips are basically 82555 with a few extra registers
 * and all of the 100baseT4 support removed.  Bits in the SCR register do
 * overlap however.
a58 3
/* 82562E[MT] only */
#define	SCR_PHYADDR_M		0x007c	/* phy address mask */
#define	SCR_PHYADDR_S		2	/* shift to normalize */
a75 9
/* 82562E[MT] only */
#define	SCTRL_SRE		0x0400	/* symbol error enable */
#define SCTRL_FORCEPOL		0x0020	/* force polarity, 0 = normal */

/* 82562E[MT] only */
#define	MII_INPHY_PHYADDR	0x12	/* phy address register, 82562 only */

/* 82562E[MT] only */
#define	MII_INPHY_100TXFCC	0x13	/* false carrier counter */
@


1.2.4.2
log
@Merge of current from two weeks agointo the SMP branch
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d74 1
a74 1
#define	SCTRL_ANEGLOOP		0x0080	/* autonegotiation loopback */
@


1.1
log
@OpenBSD gets sys/dev/mii layer from NetBSD
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d89 1
a89 1
#define	MII_INPHY_SCTRL2	0x21	/* 82555 Special Control */
@

