head	1.4;
access;
symbols
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.34
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.24
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.32
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.30
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.28
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.26
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.22
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.20
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.18
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.16
	OPENBSD_5_0:1.4.0.14
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.12
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.10
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.6
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.8
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.4
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.3.0.38
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.36
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.34
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.32
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.30
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.28
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.26
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.24
	OPENBSD_3_6_BASE:1.3
	SMP_SYNC_A:1.3
	SMP_SYNC_B:1.3
	OPENBSD_3_5:1.3.0.22
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.20
	OPENBSD_3_4_BASE:1.3
	UBC_SYNC_A:1.3
	OPENBSD_3_3:1.3.0.18
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.16
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.14
	OPENBSD_3_1_BASE:1.3
	UBC_SYNC_B:1.3
	UBC:1.3.0.12
	UBC_BASE:1.3
	OPENBSD_3_0:1.3.0.10
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_9:1.3.0.8
	OPENBSD_2_8:1.3.0.6
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.4
	OPENBSD_2_7_BASE:1.3
	SMP:1.3.0.2
	SMP_BASE:1.3
	kame_19991208:1.2
	OPENBSD_2_6:1.2.0.4
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.1.0.2
	OPENBSD_2_4_BASE:1.1;
locks; strict;
comment	@ * @;


1.4
date	2008.06.26.05.42.16;	author ray;	state Exp;
branches;
next	1.3;

1.3
date	2000.01.18.04.20.49;	author jason;	state Exp;
branches;
next	1.2;

1.2
date	99.03.09.00.02.45;	author jason;	state Exp;
branches;
next	1.1;

1.1
date	98.09.10.17.17.34;	author jason;	state Exp;
branches;
next	;


desc
@@


1.4
log
@First pass at removing clauses 3 and 4 from NetBSD licenses.

Not sure what's more surprising: how long it took for NetBSD to
catch up to the rest of the BSDs (including UCB), or the amount of
code that NetBSD has claimed for itself without attributing to the
actual authors.

OK deraadt@@
@
text
@/*	$OpenBSD: nsphyreg.h,v 1.3 2000/01/18 04:20:49 jason Exp $	*/
/*	$NetBSD: nsphyreg.h,v 1.1 1998/08/10 23:58:39 thorpej Exp $	*/

/*-
 * Copyright (c) 1998 The NetBSD Foundation, Inc.
 * All rights reserved.
 *
 * This code is derived from software contributed to The NetBSD Foundation
 * by Jason R. Thorpe of the Numerical Aerospace Simulation Facility,
 * NASA Ames Research Center.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE NETBSD FOUNDATION, INC. AND CONTRIBUTORS
 * ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE FOUNDATION OR CONTRIBUTORS
 * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef _DEV_MII_NSPHYREG_H_
#define	_DEV_MII_NSPHYREG_H_

/*
 * National Semiconductor DP83840 Ethernet PHY register definitions
 * Further documentation can be found at:
 *	http://www.national.com/pf/DP/DP83840A.html
 */

#define	MII_NSPHY_DCR		0x12	/* Disconnect counter */

#define	MII_NSPHY_FCSCR		0x13	/* False carrier sense counter */

#define	MII_NSPHY_RECR		0x15	/* Receive error counter */

#define	MII_NSPHY_SRR		0x16	/* Silicon revision */

#define	MII_NSPHY_PCR		0x17	/* PCS sub-layer configuration */
#define	PCR_NRZI		0x8000	/* NRZI encoding enabled for 100TX */
#define	PCR_DESCRTOSEL		0x4000	/* descrambler t/o select (2ms) */
#define	PCR_DESCRTODIS		0x2000	/* descrambler t/o disable */
#define	PCR_REPEATER		0x1000	/* repeater mode */
#define	PCR_ENCSEL		0x0800	/* encoder mode select */
#define	PCR_TXREADYSEL		0x0400	/* use internal txrdy signal */
#define	PCR_CONGCTRL		0x0100	/* congestion control */
#define	PCR_CLK25MDIS		0x0080	/* CLK25M disable */
#define	PCR_FLINK100		0x0040	/* force good link in 100mbps */
#define	PCR_CIMDIS		0x0020	/* carrier integrity monitor disable */
#define	PCR_TXOFF		0x0010	/* force transmit off */
#define	PCR_LED1MODE		0x0004	/* LED1 mode: see below */
#define	PCR_LED4MODE		0x0002	/* LED4 mode: see below */

/*
 * LED1 Mode:
 *
 *	1	LED1 output configured to PAR's CON_STATUS, useful for
 *		network management in 100baseTX mode.
 *
 *	0	Normal LED1 operation - 10baseTX and 100baseTX transmission
 *		activity.
 *
 * LED4 Mode:
 *
 *	1	LED4 output configured to indicate full-duplex in both
 *		10baseT and 100baseTX modes.
 *
 *	0	LED4 output configured to indicate polarity in 10baseT
 *		mode and full-duplex in 100baseTX mode.
 */

#define	MII_NSPHY_LBREMR	0x18	/* Loopback, bypass, error mask */
#define	LBREMR_BADSSDEN		0x8000	/* enable bad SSD detection */
#define	LBREMR_BP4B5B		0x4000	/* bypass 4b/5b encoding */
#define	LBREMR_BPSCR		0x2000	/* bypass scrambler */
#define	LBREMR_BPALIGN		0x1000	/* bypass alignment function */
#define	LBREMR_10LOOP		0x0800	/* 10baseT loopback */
#define	LBREMR_LB1		0x0200	/* loopback ctl 1 */
#define	LBREMR_LB0		0x0100	/* loopback ctl 0 */
#define	LBREMR_ALTCRS		0x0040	/* alt crs operation */
#define	LBREMR_LOOPXMTDIS	0x0020	/* disable transmit in 100TX loopbk */
#define	LBREMR_CODEERR		0x0010	/* code errors */
#define	LBREMR_PEERR		0x0008	/* premature end errors */
#define	LBREMR_LINKERR		0x0004	/* link errors */
#define	LBREMR_PKTERR		0x0002	/* packet errors */

#define	MII_NSPHY_PAR		0x19	/* Physical address and status */
#define	PAR_DISCRSJAB		0x0800	/* disable car sense during jab */
#define	PAR_ANENSTAT		0x0400	/* autoneg mode status */
#define	PAR_FEFIEN		0x0100	/* far end fault enable */
#define	PAR_FDX			0x0080	/* full duplex status */
#define	PAR_10			0x0040	/* 10mbps mode */
#define	PAR_CON			0x0020	/* connect status */
#define	PAR_AMASK		0x001f	/* PHY address bits */

#define	MII_NSPHY_10BTSR	0x1b	/* 10baseT status */
#define	MII_NSPHY_10BTCR	0x1c	/* 10baseT configuration */

#endif /* _DEV_MII_NSPHYREG_H_ */
@


1.3
log
@Fix fxp+nsphy problem: don't reset everytime when switching to auto mode.
Also, document "magic" bits.
@
text
@d1 1
a1 1
/*	$OpenBSD: nsphyreg.h,v 1.2 1999/03/09 00:02:45 jason Exp $	*/
a19 7
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by the NetBSD
 *	Foundation, Inc. and its contributors.
 * 4. Neither the name of The NetBSD Foundation nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
@


1.2
log
@reference docs
@
text
@d1 1
a1 1
/*	$OpenBSD: nsphyreg.h,v 1.1 1998/09/10 17:17:34 jason Exp $	*/
d64 2
@


1.1
log
@OpenBSD gets sys/dev/mii layer from NetBSD
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d45 3
a47 1
 * DP83840 registers.
@

