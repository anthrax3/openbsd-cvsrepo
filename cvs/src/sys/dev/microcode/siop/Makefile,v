head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.42
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.38
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.28
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.36
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.34
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.32
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.30
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.26
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.24
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.22
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.20
	OPENBSD_5_0:1.4.0.18
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.16
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.14
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.10
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.12
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.8
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.6
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.4
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.2
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.3.0.14
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.12
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.10
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.8
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.6
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.4
	OPENBSD_3_6_BASE:1.3
	SMP_SYNC_A:1.3
	SMP_SYNC_B:1.3
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.2.0.4
	OPENBSD_3_4_BASE:1.2
	UBC_SYNC_A:1.2
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.1.0.12
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.10
	OPENBSD_3_1_BASE:1.1
	UBC_SYNC_B:1.1
	UBC:1.1.0.8
	UBC_BASE:1.1
	OPENBSD_3_0:1.1.0.6
	OPENBSD_3_0_BASE:1.1
	SMP:1.1.0.4
	OPENBSD_2_9_BASE:1.1
	OPENBSD_2_9:1.1.0.2;
locks; strict;
comment	@# @;


1.4
date	2007.04.05.23.41.20;	author drahn;	state Exp;
branches;
next	1.3;

1.3
date	2004.03.12.00.04.57;	author miod;	state Exp;
branches;
next	1.2;

1.2
date	2003.01.08.02.11.38;	author krw;	state Exp;
branches;
next	1.1;

1.1
date	2001.02.15.04.07.59;	author krw;	state Exp;
branches
	1.1.4.1
	1.1.8.1;
next	;

1.1.4.1
date	2001.05.14.22.25.16;	author niklas;	state Exp;
branches;
next	1.1.4.2;

1.1.4.2
date	2003.03.28.00.38.19;	author niklas;	state Exp;
branches;
next	1.1.4.3;

1.1.4.3
date	2004.06.05.23.12.47;	author niklas;	state Exp;
branches;
next	;

1.1.8.1
date	2003.05.19.22.16.05;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Allow usb microcode to be built in a cross environment.  System endian has been
factored out of the result binaries already. Still need to address non usb.
ok deraadt.
@
text
@# $OpenBSD: Makefile,v 1.3 2004/03/12 00:04:57 miod Exp $
# $NetBSD: Makefile,v 1.1 2000/04/21 17:57:01 bouyer Exp $

all: siop.out osiop.out oosiop.out

PROG=	ncr53cxxx
MKSHARE=no
MAN=
CC=${HOSTCC}

.include <bsd.prog.mk>

regen: siop.out osiop.out oosiop.out
headers: siop.out osiop.out oosiop.out

siop.out: siop.ss ${PROG}
	./${PROG} siop.ss -p siop.out

osiop.out: osiop.ss ${PROG}
	./${PROG} osiop.ss -p osiop.out

oosiop.out: oosiop.ss ${PROG}
	./${PROG} oosiop.ss -p oosiop.out
@


1.3
log
@Preliminary port of NetBSD oosiop driver, for NCR53C700 chips, as commonly
encountered on the oldest hppa machines.

Currently compiled in, but disabled, in the kernel, until it is stable
enough - right now read access are fine, but writes eventually time out
and do not complete.

ok deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/01/08 02:11:38 krw Exp $
d9 1
@


1.2
log
@Merry Christmas Mickey!

First cut at osiop driver (LSI Logic/Symbios/NCR 53C710). For hppa
only at the moment.

Functional for the most part, but there are known problems:

1) SCSI_CHECK/REQUEST_SENSE not handled at all - simply returns a
zero'ed scsi_sense_data buffer. As a result all osiop sc_link's are
created with the ADEV_NODOORLOCK quirk to suppress PREVENT_ALLOW
commands from being issued (and failing) during probe.

2) Sync negotiation (wide is not supported on this chip) needs to be
validated due to some ominous comments in the source about being valid
only for the 33Mhz Zeus board.

3) Probe message needs fixing/completion to issue useful info. See 2).

4) Timeout/hangs occur under heavy load, e.g. make builds.

From NetBSD.

ok mickey@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2001/02/15 04:07:59 krw Exp $
d4 1
a4 1
all: siop.out osiop.out
d12 2
a13 2
regen: siop.out osiop.out
headers: siop.out osiop.out
d20 3
@


1.1
log
@Import siop, a replacement for the ncr SCSI driver, from NetBSD.

Written for NetBSD by Manuel Bouyer.

Tested with various cards on i386 and alpha.

Outstanding issue: doesn't work with PowerPC yet.
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
all: siop.out
d12 2
a13 2
regen: siop.out
headers: siop.out
d16 1
a16 1
	./${PROG} siop.ss -o siop.out
d18 2
@


1.1.8.1
log
@sync
@
text
@d4 1
a4 1
all: siop.out osiop.out
d12 2
a13 2
regen: siop.out osiop.out
headers: siop.out osiop.out
d16 1
a16 1
	./${PROG} siop.ss -p siop.out
a17 2
osiop.out: osiop.ss ${PROG}
	./${PROG} osiop.ss -p osiop.out
@


1.1.4.1
log
@merge in approximately 2.9 into SMP branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2001/02/15 04:07:59 krw Exp $
@


1.1.4.2
log
@Sync the SMP branch with 3.3
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
all: siop.out osiop.out
d12 2
a13 2
regen: siop.out osiop.out
headers: siop.out osiop.out
d16 1
a16 1
	./${PROG} siop.ss -p siop.out
a17 2
osiop.out: osiop.ss ${PROG}
	./${PROG} osiop.ss -p osiop.out
@


1.1.4.3
log
@Merge with the trunk
@
text
@d4 1
a4 1
all: siop.out osiop.out oosiop.out
d12 2
a13 2
regen: siop.out osiop.out oosiop.out
headers: siop.out osiop.out oosiop.out
a19 3

oosiop.out: oosiop.ss ${PROG}
	./${PROG} oosiop.ss -p oosiop.out
@


