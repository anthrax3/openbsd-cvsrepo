head	1.9;
access;
symbols
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.9.0.38
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.28
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.36
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.9.0.34
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.9.0.32
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.30
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.9.0.26
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.9.0.24
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.22
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.20
	OPENBSD_5_0:1.9.0.18
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.16
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.14
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.10
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.9.0.12
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.8
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.6
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.4
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.8.0.6
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.4
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.8.0.2
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.5.0.8
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.6
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.5.0.4
	OPENBSD_3_6_BASE:1.5
	SMP_SYNC_A:1.5
	SMP_SYNC_B:1.5
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.4.0.2
	OPENBSD_3_4_BASE:1.4
	UBC_SYNC_A:1.3
	OPENBSD_3_3:1.3.0.4
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.2.0.10
	OPENBSD_3_1_BASE:1.2
	UBC_SYNC_B:1.3
	UBC:1.2.0.8
	UBC_BASE:1.2
	OPENBSD_3_0:1.2.0.6
	OPENBSD_3_0_BASE:1.2
	SMP:1.2.0.4
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_9:1.2.0.2;
locks; strict;
comment	@# @;


1.9
date	2007.04.13.18.16.17;	author krw;	state Exp;
branches;
next	1.8;

1.8
date	2005.11.20.22.32.48;	author krw;	state Exp;
branches;
next	1.7;

1.7
date	2005.10.10.16.27.24;	author krw;	state Exp;
branches;
next	1.6;

1.6
date	2005.10.08.15.59.05;	author krw;	state Exp;
branches;
next	1.5;

1.5
date	2004.03.12.00.05.43;	author miod;	state Exp;
branches;
next	1.4;

1.4
date	2003.07.01.17.15.06;	author krw;	state Exp;
branches;
next	1.3;

1.3
date	2002.09.16.00.53.12;	author krw;	state Exp;
branches;
next	1.2;

1.2
date	2001.04.15.06.01.31;	author krw;	state Exp;
branches
	1.2.4.1
	1.2.8.1;
next	1.1;

1.1
date	2001.02.15.04.07.59;	author krw;	state Exp;
branches;
next	;

1.2.4.1
date	2001.05.14.22.25.16;	author niklas;	state Exp;
branches;
next	1.2.4.2;

1.2.4.2
date	2003.03.28.00.38.19;	author niklas;	state Exp;
branches;
next	1.2.4.3;

1.2.4.3
date	2004.02.19.10.56.24;	author niklas;	state Exp;
branches;
next	1.2.4.4;

1.2.4.4
date	2004.06.05.23.12.47;	author niklas;	state Exp;
branches;
next	;

1.2.8.1
date	2002.10.29.00.33.27;	author art;	state Exp;
branches;
next	;


desc
@@


1.9
log
@scsi_generic is now 16 bytes. Adjust offsets into structure being
passed to controller so they point where expected. Fixes martin@@'s
alpha and sparc machines.
@
text
@/*	$OpenBSD: ncr53cxxx.c,v 1.7 2005/10/08 15:54:49 krw Exp $	*/
/*
 *	DO NOT EDIT - this file is automatically generated.
 *	created from siop.ss on Fri Apr 13 20:12:23 2007
 */
const u_int32_t siop_script[] = {
	0x78340000, 0x00000000,			/* 000 -   0 */
	0x78350000, 0x00000000,			/* 008 -   8 */
	0x72370000, 0x00000000,			/* 010 -  16 */
	0x80840020, 0x00000318,			/* 018 -  24 */
	0x868b0000, 0x00000380,			/* 020 -  32 */
	0x878b0000, 0x000002f8,			/* 028 -  40 */
	0x808b0000, 0x00000408,			/* 030 -  48 */
	0x818b0000, 0x000003a0,			/* 038 -  56 */
	0x828b0000, 0x00000378,			/* 040 -  64 */
	0x838b0000, 0x00000380,			/* 048 -  72 */
	0x98080000, 0x0000ffff,			/* 050 -  80 */
	0x741a4000, 0x00000000,			/* 058 -  88 */
	0x980c0000, 0x0000ff83,			/* 060 -  96 */
	0x80000000, 0x00000000,			/* 068 - 104 */
	0x7810ff00, 0x00000000,			/* 070 - 112 */
	0x7811ff00, 0x00000000,			/* 078 - 120 */
	0x7812ff00, 0x00000000,			/* 080 - 128 */
	0x7813ff00, 0x00000000,			/* 088 - 136 */
	0x78340000, 0x00000000,			/* 090 - 144 */
	0x78350000, 0x00000000,			/* 098 - 152 */
	0x80000000, 0x00000000,			/* 0a0 - 160 */
	0x80000000, 0x00000000,			/* 0a8 - 168 */
	0x80000000, 0x00000000,			/* 0b0 - 176 */
	0x80000000, 0x00000000,			/* 0b8 - 184 */
	0x80000000, 0x00000000,			/* 0c0 - 192 */
	0x80000000, 0x00000000,			/* 0c8 - 200 */
	0x80000000, 0x00000000,			/* 0d0 - 208 */
	0x80000000, 0x00000000,			/* 0d8 - 216 */
	0x80000000, 0x00000000,			/* 0e0 - 224 */
	0x80000000, 0x00000000,			/* 0e8 - 232 */
	0x80000000, 0x00000000,			/* 0f0 - 240 */
	0x80000000, 0x00000000,			/* 0f8 - 248 */
	0x80000000, 0x00000000,			/* 100 - 256 */
	0x80000000, 0x00000000,			/* 108 - 264 */
	0x80000000, 0x00000000,			/* 110 - 272 */
	0x80000000, 0x00000000,			/* 118 - 280 */
	0x80000000, 0x00000000,			/* 120 - 288 */
	0x80000000, 0x00000000,			/* 128 - 296 */
	0x80000000, 0x00000000,			/* 130 - 304 */
	0x80000000, 0x00000000,			/* 138 - 312 */
	0x80000000, 0x00000000,			/* 140 - 320 */
	0x80000000, 0x00000000,			/* 148 - 328 */
	0x80000000, 0x00000000,			/* 150 - 336 */
	0x80000000, 0x00000000,			/* 158 - 344 */
	0x80000000, 0x00000000,			/* 160 - 352 */
	0x80000000, 0x00000000,			/* 168 - 360 */
	0x80000000, 0x00000000,			/* 170 - 368 */
	0x80000000, 0x00000000,			/* 178 - 376 */
	0x80000000, 0x00000000,			/* 180 - 384 */
	0x80000000, 0x00000000,			/* 188 - 392 */
	0x80000000, 0x00000000,			/* 190 - 400 */
	0x80000000, 0x00000000,			/* 198 - 408 */
	0x80000000, 0x00000000,			/* 1a0 - 416 */
	0x80000000, 0x00000000,			/* 1a8 - 424 */
	0x80000000, 0x00000000,			/* 1b0 - 432 */
	0x80000000, 0x00000000,			/* 1b8 - 440 */
	0x80000000, 0x00000000,			/* 1c0 - 448 */
	0x80000000, 0x00000000,			/* 1c8 - 456 */
	0x80000000, 0x00000000,			/* 1d0 - 464 */
	0x80000000, 0x00000000,			/* 1d8 - 472 */
	0x7810ff00, 0x00000000,			/* 1e0 - 480 */
	0x7811ff00, 0x00000000,			/* 1e8 - 488 */
	0x7812ff00, 0x00000000,			/* 1f0 - 496 */
	0x7813ff00, 0x00000000,			/* 1f8 - 504 */
	0x78360000, 0x00000000,			/* 200 - 512 */
	0x78372000, 0x00000000,			/* 208 - 520 */
	0x80000000, 0x00000000,			/* 210 - 528 */
	0x54000000, 0xfffffe38,			/* 218 - 536 */
	0x80000000, 0x00000000,			/* 220 - 544 */
	0x740a8f00, 0x00000000,			/* 228 - 552 */
	0x6a340000, 0x00000000,			/* 230 - 560 */
	0x800c00ff, 0x00000000,			/* 238 - 568 */
	0x800c00ff, 0x00000000,			/* 240 - 576 */
	0x800c00ff, 0x00000000,			/* 248 - 584 */
	0x800c00ff, 0x00000000,			/* 250 - 592 */
	0x800c00ff, 0x00000000,			/* 258 - 600 */
	0x800c00ff, 0x00000000,			/* 260 - 608 */
	0x800c00ff, 0x00000000,			/* 268 - 616 */
	0x800c00ff, 0x00000000,			/* 270 - 624 */
	0x800c00ff, 0x00000000,			/* 278 - 632 */
	0x800c00ff, 0x00000000,			/* 280 - 640 */
	0x800c00ff, 0x00000000,			/* 288 - 648 */
	0x800c00ff, 0x00000000,			/* 290 - 656 */
	0x800c00ff, 0x00000000,			/* 298 - 664 */
	0x800c00ff, 0x00000000,			/* 2a0 - 672 */
	0x800c00ff, 0x00000000,			/* 2a8 - 680 */
	0x98080000, 0x0000ff80,			/* 2b0 - 688 */
	0x0f000001, 0x00000000,			/* 2b8 - 696 */
	0x6c350700, 0x00000000,			/* 2c0 - 704 */
	0x60000040, 0x00000000,			/* 2c8 - 712 */
	0x97030000, 0x00000000,			/* 2d0 - 720 */
	0x0f000001, 0x00000000,			/* 2d8 - 728 */
	0x60000040, 0x00000000,			/* 2e0 - 736 */
	0x6a370000, 0x00000000,			/* 2e8 - 744 */
	0x90040020, 0x00000000,			/* 2f0 - 752 */
	0x0f000001, 0x00000000,			/* 2f8 - 760 */
	0x60000040, 0x00000000,			/* 300 - 768 */
	0x6a360000, 0x00000000,			/* 308 - 776 */
	0x90080000, 0x00000000,			/* 310 - 784 */
	0x60000040, 0x00000000,			/* 318 - 792 */
	0x7a340100, 0x00000000,			/* 320 - 800 */
	0x60000008, 0x00000000,			/* 328 - 808 */
	0x1f00003c, 0x0000003c,			/* 330 - 816 */
	0x808c0000, 0x00000218,			/* 338 - 824 */
	0x808c0002, 0xffffffd0,			/* 340 - 832 */
	0x808c0001, 0x00000218,			/* 348 - 840 */
	0x98040004, 0x0000ff01,			/* 350 - 848 */
	0x88880000, 0x000001d0,			/* 358 - 856 */
	0x74340100, 0x00000000,			/* 360 - 864 */
	0x98040000, 0x0000ff04,			/* 368 - 872 */
	0x72350000, 0x00000000,			/* 370 - 880 */
	0x808c0000, 0xfffffcf0,			/* 378 - 888 */
	0x98080000, 0x0000ff05,			/* 380 - 896 */
	0x60000040, 0x00000000,			/* 388 - 904 */
	0x80880000, 0xfffffc88,			/* 390 - 912 */
	0x58000008, 0x00000000,			/* 398 - 920 */
	0x60000040, 0x00000000,			/* 3a0 - 928 */
	0x1e000054, 0x00000054,			/* 3a8 - 936 */
	0x60000008, 0x00000000,			/* 3b0 - 944 */
	0x80880000, 0xfffffc60,			/* 3b8 - 952 */
	0x1a00005c, 0x0000005c,			/* 3c0 - 960 */
	0x80880000, 0xfffffc50,			/* 3c8 - 968 */
	0x1b000064, 0x00000064,			/* 3d0 - 976 */
	0x80880000, 0xfffffc40,			/* 3d8 - 984 */
	0x88880000, 0x000000b8,			/* 3e0 - 992 */
	0x7a340200, 0x00000000,			/* 3e8 - 1000 */
	0x1900006c, 0x0000006c,			/* 3f0 - 1008 */
	0x7e350100, 0x00000000,			/* 3f8 - 1016 */
	0x7e100800, 0x00000000,			/* 400 - 1024 */
	0x7f110000, 0x00000000,			/* 408 - 1032 */
	0x7f120000, 0x00000000,			/* 410 - 1040 */
	0x7f130000, 0x00000000,			/* 418 - 1048 */
	0x818b0000, 0xffffffc8,			/* 420 - 1056 */
	0x88880000, 0x000000b8,			/* 428 - 1064 */
	0x7c34fd00, 0x00000000,			/* 430 - 1072 */
	0x80880000, 0xfffffbe0,			/* 438 - 1080 */
	0x88880000, 0x00000058,			/* 440 - 1088 */
	0x7a340200, 0x00000000,			/* 448 - 1096 */
	0x1800006c, 0x0000006c,			/* 450 - 1104 */
	0x7e350100, 0x00000000,			/* 458 - 1112 */
	0x7e100800, 0x00000000,			/* 460 - 1120 */
	0x7f110000, 0x00000000,			/* 468 - 1128 */
	0x7f120000, 0x00000000,			/* 470 - 1136 */
	0x7f130000, 0x00000000,			/* 478 - 1144 */
	0x808b0000, 0xffffffc8,			/* 480 - 1152 */
	0x88880000, 0x00000058,			/* 488 - 1160 */
	0x7c34fd00, 0x00000000,			/* 490 - 1168 */
	0x80880000, 0xfffffb80,			/* 498 - 1176 */
	0x72100000, 0x00000000,			/* 4a0 - 1184 */
	0x6a5c0000, 0x00000000,			/* 4a8 - 1192 */
	0x72110000, 0x00000000,			/* 4b0 - 1200 */
	0x6a5d0000, 0x00000000,			/* 4b8 - 1208 */
	0x72120000, 0x00000000,			/* 4c0 - 1216 */
	0x6a5e0000, 0x00000000,			/* 4c8 - 1224 */
	0x72130000, 0x00000000,			/* 4d0 - 1232 */
	0x6a5f0000, 0x00000000,			/* 4d8 - 1240 */
	0x90080000, 0x00000000,			/* 4e0 - 1248 */
	0x725c0000, 0x00000000,			/* 4e8 - 1256 */
	0x6a100000, 0x00000000,			/* 4f0 - 1264 */
	0x725d0000, 0x00000000,			/* 4f8 - 1272 */
	0x6a110000, 0x00000000,			/* 500 - 1280 */
	0x725e0000, 0x00000000,			/* 508 - 1288 */
	0x6a120000, 0x00000000,			/* 510 - 1296 */
	0x725f0000, 0x00000000,			/* 518 - 1304 */
	0x6a130000, 0x00000000,			/* 520 - 1312 */
	0x90080000, 0x00000000,			/* 528 - 1320 */
	0x7c027f00, 0x00000000,			/* 530 - 1328 */
	0x60000008, 0x00000000,			/* 538 - 1336 */
	0x60000040, 0x00000000,			/* 540 - 1344 */
	0x48000000, 0x00000000,			/* 548 - 1352 */
	0x90080000, 0x00000000,			/* 550 - 1360 */
	0x88880000, 0xffffffd0,			/* 558 - 1368 */
	0x98080000, 0x0000ff00,			/* 560 - 1376 */
	0x60000040, 0x00000000,			/* 568 - 1384 */
	0x1f000044, 0x00000044,			/* 570 - 1392 */
	0x98080000, 0x0000ff02,			/* 578 - 1400 */
	0x60000040, 0x00000000,			/* 580 - 1408 */
	0x1f00004c, 0x0000004c,			/* 588 - 1416 */
	0x98080000, 0x0000ff03,			/* 590 - 1424 */
	0x80000000, 0x00000000,			/* 598 - 1432 */
};

const u_int32_t lun_switch[] = {
	0x7803ff00, 0x00000000,			/* 000 -   0 */
	0x7805ff00, 0x00000000,			/* 008 -   8 */
	0x80080000, 0x00000000,			/* 010 -  16 */
	0x88880000, 0xffffffe0,			/* 018 -  24 */
	0x72350000, 0x00000000,			/* 020 -  32 */
	0x98080000, 0x0000ff81,			/* 028 -  40 */
};

const u_int32_t tag_switch[] = {
	0x72360000, 0x00000000,			/* 000 -   0 */
	0x800c0000, 0x00000000,			/* 008 -   8 */
	0x800c0001, 0x00000000,			/* 010 -  16 */
	0x800c0002, 0x00000000,			/* 018 -  24 */
	0x800c0003, 0x00000000,			/* 020 -  32 */
	0x800c0004, 0x00000000,			/* 028 -  40 */
	0x800c0005, 0x00000000,			/* 030 -  48 */
	0x800c0006, 0x00000000,			/* 038 -  56 */
	0x800c0007, 0x00000000,			/* 040 -  64 */
	0x800c0008, 0x00000000,			/* 048 -  72 */
	0x800c0009, 0x00000000,			/* 050 -  80 */
	0x800c000a, 0x00000000,			/* 058 -  88 */
	0x800c000b, 0x00000000,			/* 060 -  96 */
	0x800c000c, 0x00000000,			/* 068 - 104 */
	0x800c000d, 0x00000000,			/* 070 - 112 */
	0x800c000e, 0x00000000,			/* 078 - 120 */
	0x800c000f, 0x00000000,			/* 080 - 128 */
	0x98080000, 0x0000ff82,			/* 088 - 136 */
};

const u_int32_t load_dsa[] = {
	0x7810f000, 0x00000000,			/* 000 -   0 */
	0x7811f100, 0x00000000,			/* 008 -   8 */
	0x7812f200, 0x00000000,			/* 010 -  16 */
	0x7813f300, 0x00000000,			/* 018 -  24 */
	0x90080000, 0x00000000,			/* 020 -  32 */
	0x88880000, 0xffffffd0,			/* 028 -  40 */
	0x80080000, 0x00000000,			/* 030 -  48 */
	0x88880000, 0xffffffc0,			/* 038 -  56 */
	0x43000028, 0x00000000,			/* 040 -  64 */
	0xc0000004, 0x00000000, 0x00000000,	/* 048 -  72 */
	0x80080000, 0x00000000,			/* 054 -  84 */
	0x80000000, 0x00000000,			/* 05c -  92 */
};

const u_int32_t siop_led_on[] = {
	0x7c07fe00, 0x00000000,			/* 000 -   0 */
};

const u_int32_t siop_led_off[] = {
	0x7a070100, 0x00000000,			/* 000 -   0 */
};

#define	A_t_id	0x00000028
#define	A_t_msg_in	0x0000003c
#define	A_t_ext_msg_in	0x00000044
#define	A_t_ext_msg_data	0x0000004c
#define	A_t_msg_out	0x00000054
#define	A_t_cmd	0x0000005c
#define	A_t_status	0x00000064
#define	A_t_data	0x0000006c
#define	A_int_done	0x0000ff00
#define	A_int_msgin	0x0000ff01
#define	A_int_extmsgin	0x0000ff02
#define	A_int_extmsgdata	0x0000ff03
#define	A_int_disc	0x0000ff04
#define	A_int_saveoffset	0x0000ff05
#define	A_int_reseltarg	0x0000ff80
#define	A_int_resellun	0x0000ff81
#define	A_int_reseltag	0x0000ff82
#define	A_int_resfail	0x0000ff83
#define	A_int_err	0x0000ffff
#define	A_flag_sdp	0x00000001
#define	A_flag_data	0x00000002
#define	A_flag_data_mask	0x000000fd
#define	Ent_waitphase	0x00000020
#define	Ent_send_msgout	0x00000398
#define	Ent_msgout	0x000003a8
#define	Ent_msgin	0x00000328
#define	Ent_handle_msgin	0x00000338
#define	Ent_msgin_ack	0x00000388
#define	Ent_dataout	0x00000440
#define	Ent_datain	0x000003e0
#define	Ent_cmdout	0x000003c0
#define	Ent_status	0x000003d0
#define	Ent_disconnect	0x00000530
#define	Ent_reselect	0x000001e0
#define	Ent_reselected	0x00000000
#define	Ent_selected	0x00000388
#define	Ent_script_sched	0x00000070
#define	Ent_script_sched_slot0	0x000000a0
#define	Ent_get_extmsgdata	0x00000580
#define	Ent_resel_targ0	0x00000238
#define	Ent_msgin_space	0x00000598
#define	Ent_lunsw_return	0x000002b8
#define	Ent_led_on1	0x00000068
#define	Ent_led_on2	0x00000220
#define	Ent_led_off	0x00000210
#define	E_abs_script_sched_slot0	0x00000000
u_int32_t E_abs_script_sched_slot0_Used[] = {
	0x00000029,
	0x0000002b,
	0x0000002d,
	0x0000002f,
	0x00000031,
	0x00000033,
	0x00000035,
	0x00000037,
	0x00000039,
	0x0000003b,
	0x0000003d,
	0x0000003f,
	0x00000041,
	0x00000043,
	0x00000045,
	0x00000047,
	0x00000049,
	0x0000004b,
	0x0000004d,
	0x0000004f,
	0x00000051,
	0x00000053,
	0x00000055,
	0x00000057,
	0x00000059,
	0x0000005b,
	0x0000005d,
	0x0000005f,
	0x00000061,
	0x00000063,
	0x00000065,
	0x00000067,
	0x00000069,
	0x0000006b,
	0x0000006d,
	0x0000006f,
	0x00000071,
	0x00000073,
	0x00000075,
	0x00000077,
};

#define	E_abs_targ0	0x00000000
u_int32_t E_abs_targ0_Used[] = {
	0x0000008f,
	0x00000091,
	0x00000093,
	0x00000095,
	0x00000097,
	0x00000099,
	0x0000009b,
	0x0000009d,
	0x0000009f,
	0x000000a1,
	0x000000a3,
	0x000000a5,
	0x000000a7,
	0x000000a9,
	0x000000ab,
};

#define	E_abs_msgin	0x00000000
u_int32_t E_abs_msgin_Used[] = {
	0x000000af,
	0x000000b7,
	0x000000bf,
};

#define	Ent_lun_switch_entry	0x00000018
#define	Ent_resel_lun0	0x00000028
#define	Ent_restore_scntl3	0x00000000
#define	E_abs_lunsw_return	0x00000000
u_int32_t E_abs_lunsw_return_Used[] = {
	0x00000005,
};

#define	Ent_tag_switch_entry	0x00000000
#define	Ent_resel_tag0	0x00000008
#define	E_abs_tag0	0x00000000
u_int32_t E_abs_tag0_Used[] = {
	0x00000003,
	0x00000005,
	0x00000007,
	0x00000009,
	0x0000000b,
	0x0000000d,
	0x0000000f,
	0x00000011,
	0x00000013,
	0x00000015,
	0x00000017,
	0x00000019,
	0x0000001b,
	0x0000001d,
	0x0000001f,
	0x00000021,
};

#define	Ent_rdsa0	0x00000000
#define	Ent_rdsa1	0x00000008
#define	Ent_rdsa2	0x00000010
#define	Ent_rdsa3	0x00000018
#define	Ent_ldsa_reload_dsa	0x00000028
#define	Ent_ldsa_select	0x00000038
#define	Ent_ldsa_data	0x0000005c
#define	E_ldsa_abs_reselected	0x00000000
u_int32_t E_ldsa_abs_reselected_Used[] = {
	0x0000000d,
};

#define	E_ldsa_abs_reselect	0x00000000
u_int32_t E_ldsa_abs_reselect_Used[] = {
	0x00000011,
};

#define	E_ldsa_abs_selected	0x00000000
u_int32_t E_ldsa_abs_selected_Used[] = {
	0x00000016,
};

#define	E_ldsa_abs_data	0x00000000
u_int32_t E_ldsa_abs_data_Used[] = {
	0x00000013,
};

#define	E_ldsa_abs_slot	0x00000000
u_int32_t E_ldsa_abs_slot_Used[] = {
	0x00000014,
};

@


1.8
log
@Un-revert backout to 20051009 and add patches from Martin Bouyer to
close NetBSD PR#31990. Fixes interaction with some problematic drives
found by miod@@, martin@@, otto@@.

Tested martin@@ otto@@ miod@@

ok miod@@ mickey@@
@
text
@d4 1
a4 1
 *	created from siop.ss on Sun Nov 20 17:26:10 2005
d109 1
a109 1
	0x1f000038, 0x00000038,			/* 330 - 816 */
d124 1
a124 1
	0x1e000050, 0x00000050,			/* 3a8 - 936 */
d127 1
a127 1
	0x1a000058, 0x00000058,			/* 3c0 - 960 */
d129 1
a129 1
	0x1b000060, 0x00000060,			/* 3d0 - 976 */
d133 1
a133 1
	0x19000068, 0x00000068,			/* 3f0 - 1008 */
d145 1
a145 1
	0x18000068, 0x00000068,			/* 450 - 1104 */
d181 1
a181 1
	0x1f000040, 0x00000040,			/* 570 - 1392 */
d184 1
a184 1
	0x1f000048, 0x00000048,			/* 588 - 1416 */
d243 7
a249 7
#define	A_t_msg_in	0x00000038
#define	A_t_ext_msg_in	0x00000040
#define	A_t_ext_msg_data	0x00000048
#define	A_t_msg_out	0x00000050
#define	A_t_cmd	0x00000058
#define	A_t_status	0x00000060
#define	A_t_data	0x00000068
@


1.7
log
@Add handling for IGNORE WIDE RESIDUE messages. Actually calculate
resid instead of assuming it is always 0. From bouyer via NetBSD. Note
we are now sync'd with the latest (1.78 siop.c, 1.37 siop_common.c)
NetBSD code.

Tested by various people over the last year+. Didn't solve any of
their problems but didn't cause any regression either.
@
text
@d4 1
a4 1
 *	created from siop.ss on Mon Oct 10 12:15:59 2005
d11 1
a11 1
	0x868b0000, 0x00000370,			/* 020 -  32 */
d13 4
a16 4
	0x808b0000, 0x000003f8,			/* 030 -  48 */
	0x818b0000, 0x00000390,			/* 038 -  56 */
	0x828b0000, 0x00000368,			/* 040 -  64 */
	0x838b0000, 0x00000370,			/* 048 -  72 */
d110 1
a110 1
	0x808c0000, 0x00000208,			/* 338 - 824 */
d112 1
a112 1
	0x808c0001, 0x00000208,			/* 348 - 840 */
d114 1
a114 1
	0x88880000, 0x000001c0,			/* 358 - 856 */
d116 10
a125 10
	0x808c0000, 0xfffffd00,			/* 368 - 872 */
	0x98080000, 0x0000ff04,			/* 370 - 880 */
	0x60000040, 0x00000000,			/* 378 - 888 */
	0x80880000, 0xfffffc98,			/* 380 - 896 */
	0x58000008, 0x00000000,			/* 388 - 904 */
	0x60000040, 0x00000000,			/* 390 - 912 */
	0x1e000050, 0x00000050,			/* 398 - 920 */
	0x60000008, 0x00000000,			/* 3a0 - 928 */
	0x80880000, 0xfffffc70,			/* 3a8 - 936 */
	0x1a000058, 0x00000058,			/* 3b0 - 944 */
d127 1
a127 1
	0x1b000060, 0x00000060,			/* 3c0 - 960 */
d129 58
a186 56
	0x88880000, 0x000000b8,			/* 3d0 - 976 */
	0x7a340200, 0x00000000,			/* 3d8 - 984 */
	0x19000068, 0x00000068,			/* 3e0 - 992 */
	0x7e350100, 0x00000000,			/* 3e8 - 1000 */
	0x7e100800, 0x00000000,			/* 3f0 - 1008 */
	0x7f110000, 0x00000000,			/* 3f8 - 1016 */
	0x7f120000, 0x00000000,			/* 400 - 1024 */
	0x7f130000, 0x00000000,			/* 408 - 1032 */
	0x818b0000, 0xffffffc8,			/* 410 - 1040 */
	0x88880000, 0x000000b8,			/* 418 - 1048 */
	0x7c34fd00, 0x00000000,			/* 420 - 1056 */
	0x80880000, 0xfffffbf0,			/* 428 - 1064 */
	0x88880000, 0x00000058,			/* 430 - 1072 */
	0x7a340200, 0x00000000,			/* 438 - 1080 */
	0x18000068, 0x00000068,			/* 440 - 1088 */
	0x7e350100, 0x00000000,			/* 448 - 1096 */
	0x7e100800, 0x00000000,			/* 450 - 1104 */
	0x7f110000, 0x00000000,			/* 458 - 1112 */
	0x7f120000, 0x00000000,			/* 460 - 1120 */
	0x7f130000, 0x00000000,			/* 468 - 1128 */
	0x808b0000, 0xffffffc8,			/* 470 - 1136 */
	0x88880000, 0x00000058,			/* 478 - 1144 */
	0x7c34fd00, 0x00000000,			/* 480 - 1152 */
	0x80880000, 0xfffffb90,			/* 488 - 1160 */
	0x72100000, 0x00000000,			/* 490 - 1168 */
	0x6a5c0000, 0x00000000,			/* 498 - 1176 */
	0x72110000, 0x00000000,			/* 4a0 - 1184 */
	0x6a5d0000, 0x00000000,			/* 4a8 - 1192 */
	0x72120000, 0x00000000,			/* 4b0 - 1200 */
	0x6a5e0000, 0x00000000,			/* 4b8 - 1208 */
	0x72130000, 0x00000000,			/* 4c0 - 1216 */
	0x6a5f0000, 0x00000000,			/* 4c8 - 1224 */
	0x90080000, 0x00000000,			/* 4d0 - 1232 */
	0x725c0000, 0x00000000,			/* 4d8 - 1240 */
	0x6a100000, 0x00000000,			/* 4e0 - 1248 */
	0x725d0000, 0x00000000,			/* 4e8 - 1256 */
	0x6a110000, 0x00000000,			/* 4f0 - 1264 */
	0x725e0000, 0x00000000,			/* 4f8 - 1272 */
	0x6a120000, 0x00000000,			/* 500 - 1280 */
	0x725f0000, 0x00000000,			/* 508 - 1288 */
	0x6a130000, 0x00000000,			/* 510 - 1296 */
	0x90080000, 0x00000000,			/* 518 - 1304 */
	0x7c027f00, 0x00000000,			/* 520 - 1312 */
	0x60000008, 0x00000000,			/* 528 - 1320 */
	0x60000040, 0x00000000,			/* 530 - 1328 */
	0x48000000, 0x00000000,			/* 538 - 1336 */
	0x90080000, 0x00000000,			/* 540 - 1344 */
	0x88880000, 0xffffffd0,			/* 548 - 1352 */
	0x98080000, 0x0000ff00,			/* 550 - 1360 */
	0x60000040, 0x00000000,			/* 558 - 1368 */
	0x1f000040, 0x00000040,			/* 560 - 1376 */
	0x98080000, 0x0000ff02,			/* 568 - 1384 */
	0x60000040, 0x00000000,			/* 570 - 1392 */
	0x1f000048, 0x00000048,			/* 578 - 1400 */
	0x98080000, 0x0000ff03,			/* 580 - 1408 */
	0x80000000, 0x00000000,			/* 588 - 1416 */
d255 1
d265 2
a266 2
#define	Ent_send_msgout	0x00000388
#define	Ent_msgout	0x00000398
d269 6
a274 6
#define	Ent_msgin_ack	0x00000378
#define	Ent_dataout	0x00000430
#define	Ent_datain	0x000003d0
#define	Ent_cmdout	0x000003b0
#define	Ent_status	0x000003c0
#define	Ent_disconnect	0x00000520
d277 1
a277 1
#define	Ent_selected	0x00000378
d280 1
a280 1
#define	Ent_get_extmsgdata	0x00000570
d282 1
a282 1
#define	Ent_msgin_space	0x00000588
@


1.6
log
@Sync with r1.7 of ncr53cxxx.c. Changes to comments only.
@
text
@d4 1
a4 1
 *	created from siop.ss on Sat Oct  8 11:55:06 2005
d11 1
a11 1
	0x868b0000, 0x00000380,			/* 020 -  32 */
d13 4
a16 4
	0x808b0000, 0x00000408,			/* 030 -  48 */
	0x818b0000, 0x000003a0,			/* 038 -  56 */
	0x828b0000, 0x00000378,			/* 040 -  64 */
	0x838b0000, 0x00000380,			/* 048 -  72 */
d110 1
a110 1
	0x808c0000, 0x00000218,			/* 338 - 824 */
d112 1
a112 1
	0x808c0001, 0x00000218,			/* 348 - 840 */
d114 1
a114 1
	0x88880000, 0x000001d0,			/* 358 - 856 */
d117 9
a125 9
	0x72350000, 0x00000000,			/* 370 - 880 */
	0x808c0000, 0xfffffcf0,			/* 378 - 888 */
	0x98080000, 0x0000ff04,			/* 380 - 896 */
	0x60000040, 0x00000000,			/* 388 - 904 */
	0x80880000, 0xfffffc88,			/* 390 - 912 */
	0x58000008, 0x00000000,			/* 398 - 920 */
	0x60000040, 0x00000000,			/* 3a0 - 928 */
	0x1e000050, 0x00000050,			/* 3a8 - 936 */
	0x60000008, 0x00000000,			/* 3b0 - 944 */
d127 1
a127 1
	0x1a000058, 0x00000058,			/* 3c0 - 960 */
d129 56
a184 58
	0x1b000060, 0x00000060,			/* 3d0 - 976 */
	0x80880000, 0xfffffc40,			/* 3d8 - 984 */
	0x88880000, 0x000000b8,			/* 3e0 - 992 */
	0x7a340200, 0x00000000,			/* 3e8 - 1000 */
	0x19000068, 0x00000068,			/* 3f0 - 1008 */
	0x7e350100, 0x00000000,			/* 3f8 - 1016 */
	0x7e100800, 0x00000000,			/* 400 - 1024 */
	0x7f110000, 0x00000000,			/* 408 - 1032 */
	0x7f120000, 0x00000000,			/* 410 - 1040 */
	0x7f130000, 0x00000000,			/* 418 - 1048 */
	0x818b0000, 0xffffffc8,			/* 420 - 1056 */
	0x88880000, 0x000000b8,			/* 428 - 1064 */
	0x7c34fd00, 0x00000000,			/* 430 - 1072 */
	0x80880000, 0xfffffbe0,			/* 438 - 1080 */
	0x88880000, 0x00000058,			/* 440 - 1088 */
	0x7a340200, 0x00000000,			/* 448 - 1096 */
	0x18000068, 0x00000068,			/* 450 - 1104 */
	0x7e350100, 0x00000000,			/* 458 - 1112 */
	0x7e100800, 0x00000000,			/* 460 - 1120 */
	0x7f110000, 0x00000000,			/* 468 - 1128 */
	0x7f120000, 0x00000000,			/* 470 - 1136 */
	0x7f130000, 0x00000000,			/* 478 - 1144 */
	0x808b0000, 0xffffffc8,			/* 480 - 1152 */
	0x88880000, 0x00000058,			/* 488 - 1160 */
	0x7c34fd00, 0x00000000,			/* 490 - 1168 */
	0x80880000, 0xfffffb80,			/* 498 - 1176 */
	0x72100000, 0x00000000,			/* 4a0 - 1184 */
	0x6a5c0000, 0x00000000,			/* 4a8 - 1192 */
	0x72110000, 0x00000000,			/* 4b0 - 1200 */
	0x6a5d0000, 0x00000000,			/* 4b8 - 1208 */
	0x72120000, 0x00000000,			/* 4c0 - 1216 */
	0x6a5e0000, 0x00000000,			/* 4c8 - 1224 */
	0x72130000, 0x00000000,			/* 4d0 - 1232 */
	0x6a5f0000, 0x00000000,			/* 4d8 - 1240 */
	0x90080000, 0x00000000,			/* 4e0 - 1248 */
	0x725c0000, 0x00000000,			/* 4e8 - 1256 */
	0x6a100000, 0x00000000,			/* 4f0 - 1264 */
	0x725d0000, 0x00000000,			/* 4f8 - 1272 */
	0x6a110000, 0x00000000,			/* 500 - 1280 */
	0x725e0000, 0x00000000,			/* 508 - 1288 */
	0x6a120000, 0x00000000,			/* 510 - 1296 */
	0x725f0000, 0x00000000,			/* 518 - 1304 */
	0x6a130000, 0x00000000,			/* 520 - 1312 */
	0x90080000, 0x00000000,			/* 528 - 1320 */
	0x7c027f00, 0x00000000,			/* 530 - 1328 */
	0x60000008, 0x00000000,			/* 538 - 1336 */
	0x60000040, 0x00000000,			/* 540 - 1344 */
	0x48000000, 0x00000000,			/* 548 - 1352 */
	0x90080000, 0x00000000,			/* 550 - 1360 */
	0x88880000, 0xffffffd0,			/* 558 - 1368 */
	0x98080000, 0x0000ff00,			/* 560 - 1376 */
	0x60000040, 0x00000000,			/* 568 - 1384 */
	0x1f000040, 0x00000040,			/* 570 - 1392 */
	0x98080000, 0x0000ff02,			/* 578 - 1400 */
	0x60000040, 0x00000000,			/* 580 - 1408 */
	0x1f000048, 0x00000048,			/* 588 - 1416 */
	0x98080000, 0x0000ff03,			/* 590 - 1424 */
	0x80000000, 0x00000000,			/* 598 - 1432 */
d262 2
a263 2
#define	Ent_send_msgout	0x00000398
#define	Ent_msgout	0x000003a8
d266 6
a271 6
#define	Ent_msgin_ack	0x00000388
#define	Ent_dataout	0x00000440
#define	Ent_datain	0x000003e0
#define	Ent_cmdout	0x000003c0
#define	Ent_status	0x000003d0
#define	Ent_disconnect	0x00000530
d274 1
a274 1
#define	Ent_selected	0x00000388
d277 1
a277 1
#define	Ent_get_extmsgdata	0x00000580
d279 1
a279 1
#define	Ent_msgin_space	0x00000598
@


1.5
log
@Regen
@
text
@d1 1
a1 1
/*	$OpenBSD: ncr53cxxx.c,v 1.6 2004/03/12 00:04:57 miod Exp $	*/
d4 1
a4 1
 *	created from siop.ss on Thu Mar 11 17:05:27 2004
@


1.4
log
@Don't dma map the xs->cmd. Copy it to a safe buffer that is already
mapped and sync'ed appropriately, and is guaranteed to be in one
memory page.

Eliminate now unused dmamap_cmd and rs_cmd fields.

Fix another error message (adding active command to reset list) so
that it includes the adapter name.

Add missing letoh32() calls to debug code.

The evils of directly mapping *xs->cmd were pointed out by Mickey
during osiop development. In particular, *xs->cmd may start on one
memory page and run into the next. Since the dma logic in most
cards/drivers (including siop) only allocates one address/size pair to
map *xs->cmd, parts of a command could be lost or corrupted.

The large number of 6 byte dma mappings noted long ago by someone
(Henric?).  This change reduces the dma mapping activity per i/o by
1/3 to 1/2 and may give a performance boost of some kind.

Successfully tested on i386, sparc64 (ultra30 - thanks Jolan,
blade100), macppc and alpha.

Unfortunately these changes don't fix the Blade1000 siop problems.

**NOTE** If scsi_generic is ever upped to 16 bytes the offsets in
siop.ss must be updated!
@
text
@d1 1
a1 1
/*	$NetBSD: ncr53cxxx.c,v 1.10 2002/04/21 22:40:10 bouyer Exp $	*/
d4 1
a4 1
 *	created from siop.ss on Sat Jun 28 19:18:24 2003
@


1.3
log
@Resync siop with NetBSD. Make strong effort to minimize
differences, undoing whitespace, spelling, etc. changes
and adopting the NetBSD code instead of equivalent home
grown code for PPR negotiation, etc.

siop.c            1.21 -> 1.64
siop_common.c     1.12 -> 1.30
siopreg.h         1.7  -> 1.13
siopvar.h         1.13 -> 1.18
siopvar_common.h  1.10 -> 1.21
ncr53cxxx.c       1.5  -> 1.10
siop.ss           1.12 -> 1.17
siop_pci.c        1.8  -> 1.11
siop_pci_common.c 1.6  -> 1.17
siop_pci_common.h 1.2  -> 1.4

Many fixes, add 1010-66 support, restructure things to prepare for
addition of esiop, osiop and oosiop drivers.

tested on various archs by art@@, millert@@, wilfried@@, jason@@,
Dan Weeks.

ok deraadt@@.
@
text
@d4 1
a4 1
 *	created from siop.ss on Sun Sep  1 23:53:00 2002
d109 1
a109 1
	0x1f000030, 0x00000030,			/* 330 - 816 */
d124 1
a124 1
	0x1e000048, 0x00000048,			/* 3a8 - 936 */
d127 1
a127 1
	0x1a000050, 0x00000050,			/* 3c0 - 960 */
d129 1
a129 1
	0x1b000058, 0x00000058,			/* 3d0 - 976 */
d133 1
a133 1
	0x19000060, 0x00000060,			/* 3f0 - 1008 */
d145 1
a145 1
	0x18000060, 0x00000060,			/* 450 - 1104 */
d181 1
a181 1
	0x1f000038, 0x00000038,			/* 570 - 1392 */
d184 1
a184 1
	0x1f000040, 0x00000040,			/* 588 - 1416 */
d243 7
a249 7
#define	A_t_msg_in	0x00000030
#define	A_t_ext_msg_in	0x00000038
#define	A_t_ext_msg_data	0x00000040
#define	A_t_msg_out	0x00000048
#define	A_t_cmd	0x00000050
#define	A_t_status	0x00000058
#define	A_t_data	0x00000060
a415 81
};


u_int32_t INSTRUCTIONS = 0x000000da;
u_int32_t PATCHES = 0x0000004b;
u_int32_t LABELPATCHES[] = {
	0x00000029,
	0x0000002b,
	0x0000002d,
	0x0000002f,
	0x00000031,
	0x00000033,
	0x00000035,
	0x00000037,
	0x00000039,
	0x0000003b,
	0x0000003d,
	0x0000003f,
	0x00000041,
	0x00000043,
	0x00000045,
	0x00000047,
	0x00000049,
	0x0000004b,
	0x0000004d,
	0x0000004f,
	0x00000051,
	0x00000053,
	0x00000055,
	0x00000057,
	0x00000059,
	0x0000005b,
	0x0000005d,
	0x0000005f,
	0x00000061,
	0x00000063,
	0x00000065,
	0x00000067,
	0x00000069,
	0x0000006b,
	0x0000006d,
	0x0000006f,
	0x00000071,
	0x00000073,
	0x00000075,
	0x00000077,
	0x0000008f,
	0x00000091,
	0x00000093,
	0x00000095,
	0x00000097,
	0x00000099,
	0x0000009b,
	0x0000009d,
	0x0000009f,
	0x000000a1,
	0x000000a3,
	0x000000a5,
	0x000000a7,
	0x000000a9,
	0x000000ab,
	0x00000005,
	0x00000003,
	0x00000005,
	0x00000007,
	0x00000009,
	0x0000000b,
	0x0000000d,
	0x0000000f,
	0x00000011,
	0x00000013,
	0x00000015,
	0x00000017,
	0x00000019,
	0x0000001b,
	0x0000001d,
	0x0000001f,
	0x00000021,
	0x0000000d,
	0x00000011,
	0x00000016,
@


1.2
log
@Support U160 on 53c1010 chips.

Add support for PPR negotiations and DT transfers,
and the preservation and restoration of the
SCNTL4 register which controls Ultra3 transfers.

Redo sync lookup, since the same period factor
can mean two things depending on whether you are
using DT or ST. Keep a minimum allowed ST period
factor, and a minimum allowd DT period factor for
each adapter.

Currently NO support for QAS or IUS or AIP.
@
text
@d1 1
a1 1
/*	$NetBSD: ncr53cxxx.c,v 1.5 2000/10/23 14:51:51 bouyer Exp $	*/
d4 1
a4 1
 *	created from siop.ss on Tue Mar 27 13:58:43 2001
d10 7
a16 7
	0x80840020, 0x00000300,			/* 018 -  24 */
	0x868b0000, 0x00000368,			/* 020 -  32 */
	0x878b0000, 0x000002e0,			/* 028 -  40 */
	0x808b0000, 0x000003f0,			/* 030 -  48 */
	0x818b0000, 0x00000388,			/* 038 -  56 */
	0x828b0000, 0x00000360,			/* 040 -  64 */
	0x838b0000, 0x00000368,			/* 048 -  72 */
d20 7
a26 7
	0x7810ff00, 0x00000000,			/* 068 - 104 */
	0x7811ff00, 0x00000000,			/* 070 - 112 */
	0x7812ff00, 0x00000000,			/* 078 - 120 */
	0x7813ff00, 0x00000000,			/* 080 - 128 */
	0x78340000, 0x00000000,			/* 088 - 136 */
	0x78350000, 0x00000000,			/* 090 - 144 */
	0x80000000, 0x00000000,			/* 098 - 152 */
d66 12
a77 12
	0x7810ff00, 0x00000000,			/* 1d8 - 472 */
	0x7811ff00, 0x00000000,			/* 1e0 - 480 */
	0x7812ff00, 0x00000000,			/* 1e8 - 488 */
	0x7813ff00, 0x00000000,			/* 1f0 - 496 */
	0x78360000, 0x00000000,			/* 1f8 - 504 */
	0x78372000, 0x00000000,			/* 200 - 512 */
	0x54000000, 0xfffffe48,			/* 208 - 520 */
	0x740a8f00, 0x00000000,			/* 210 - 528 */
	0x6a340000, 0x00000000,			/* 218 - 536 */
	0x800c00ff, 0x00000000,			/* 220 - 544 */
	0x800c00ff, 0x00000000,			/* 228 - 552 */
	0x800c00ff, 0x00000000,			/* 230 - 560 */
d90 6
a95 6
	0x98080000, 0x0000ff80,			/* 298 - 664 */
	0x0f000001, 0x00000000,			/* 2a0 - 672 */
	0x6c350700, 0x00000000,			/* 2a8 - 680 */
	0x60000040, 0x00000000,			/* 2b0 - 688 */
	0x97030000, 0x00000000,			/* 2b8 - 696 */
	0x0f000001, 0x00000000,			/* 2c0 - 704 */
d97 6
a102 6
	0x6a370000, 0x00000000,			/* 2d0 - 720 */
	0x90040020, 0x00000000,			/* 2d8 - 728 */
	0x0f000001, 0x00000000,			/* 2e0 - 736 */
	0x60000040, 0x00000000,			/* 2e8 - 744 */
	0x6a360000, 0x00000000,			/* 2f0 - 752 */
	0x90080000, 0x00000000,			/* 2f8 - 760 */
d104 16
a119 16
	0x7a340100, 0x00000000,			/* 308 - 776 */
	0x60000008, 0x00000000,			/* 310 - 784 */
	0x1f000030, 0x00000030,			/* 318 - 792 */
	0x808c0000, 0x00000218,			/* 320 - 800 */
	0x808c0002, 0xffffffd0,			/* 328 - 808 */
	0x808c0001, 0x00000218,			/* 330 - 816 */
	0x98040004, 0x0000ff01,			/* 338 - 824 */
	0x88880000, 0x000001d0,			/* 340 - 832 */
	0x74340100, 0x00000000,			/* 348 - 840 */
	0x808c0000, 0xfffffd10,			/* 350 - 848 */
	0x72350000, 0x00000000,			/* 358 - 856 */
	0x808c0000, 0xfffffd00,			/* 360 - 864 */
	0x98080000, 0x0000ff04,			/* 368 - 872 */
	0x60000040, 0x00000000,			/* 370 - 880 */
	0x80880000, 0xfffffca0,			/* 378 - 888 */
	0x58000008, 0x00000000,			/* 380 - 896 */
d121 59
a179 59
	0x1e000048, 0x00000048,			/* 390 - 912 */
	0x60000008, 0x00000000,			/* 398 - 920 */
	0x80880000, 0xfffffc78,			/* 3a0 - 928 */
	0x1a000050, 0x00000050,			/* 3a8 - 936 */
	0x80880000, 0xfffffc68,			/* 3b0 - 944 */
	0x1b000058, 0x00000058,			/* 3b8 - 952 */
	0x80880000, 0xfffffc58,			/* 3c0 - 960 */
	0x88880000, 0x000000b8,			/* 3c8 - 968 */
	0x7a340200, 0x00000000,			/* 3d0 - 976 */
	0x19000060, 0x00000060,			/* 3d8 - 984 */
	0x7e350100, 0x00000000,			/* 3e0 - 992 */
	0x7e100800, 0x00000000,			/* 3e8 - 1000 */
	0x7f110000, 0x00000000,			/* 3f0 - 1008 */
	0x7f120000, 0x00000000,			/* 3f8 - 1016 */
	0x7f130000, 0x00000000,			/* 400 - 1024 */
	0x818b0000, 0xffffffc8,			/* 408 - 1032 */
	0x88880000, 0x000000b8,			/* 410 - 1040 */
	0x7c34fd00, 0x00000000,			/* 418 - 1048 */
	0x80880000, 0xfffffbf8,			/* 420 - 1056 */
	0x88880000, 0x00000058,			/* 428 - 1064 */
	0x7a340200, 0x00000000,			/* 430 - 1072 */
	0x18000060, 0x00000060,			/* 438 - 1080 */
	0x7e350100, 0x00000000,			/* 440 - 1088 */
	0x7e100800, 0x00000000,			/* 448 - 1096 */
	0x7f110000, 0x00000000,			/* 450 - 1104 */
	0x7f120000, 0x00000000,			/* 458 - 1112 */
	0x7f130000, 0x00000000,			/* 460 - 1120 */
	0x808b0000, 0xffffffc8,			/* 468 - 1128 */
	0x88880000, 0x00000058,			/* 470 - 1136 */
	0x7c34fd00, 0x00000000,			/* 478 - 1144 */
	0x80880000, 0xfffffb98,			/* 480 - 1152 */
	0x72100000, 0x00000000,			/* 488 - 1160 */
	0x6a5c0000, 0x00000000,			/* 490 - 1168 */
	0x72110000, 0x00000000,			/* 498 - 1176 */
	0x6a5d0000, 0x00000000,			/* 4a0 - 1184 */
	0x72120000, 0x00000000,			/* 4a8 - 1192 */
	0x6a5e0000, 0x00000000,			/* 4b0 - 1200 */
	0x72130000, 0x00000000,			/* 4b8 - 1208 */
	0x6a5f0000, 0x00000000,			/* 4c0 - 1216 */
	0x90080000, 0x00000000,			/* 4c8 - 1224 */
	0x725c0000, 0x00000000,			/* 4d0 - 1232 */
	0x6a100000, 0x00000000,			/* 4d8 - 1240 */
	0x725d0000, 0x00000000,			/* 4e0 - 1248 */
	0x6a110000, 0x00000000,			/* 4e8 - 1256 */
	0x725e0000, 0x00000000,			/* 4f0 - 1264 */
	0x6a120000, 0x00000000,			/* 4f8 - 1272 */
	0x725f0000, 0x00000000,			/* 500 - 1280 */
	0x6a130000, 0x00000000,			/* 508 - 1288 */
	0x90080000, 0x00000000,			/* 510 - 1296 */
	0x7c027f00, 0x00000000,			/* 518 - 1304 */
	0x60000008, 0x00000000,			/* 520 - 1312 */
	0x60000040, 0x00000000,			/* 528 - 1320 */
	0x48000000, 0x00000000,			/* 530 - 1328 */
	0x90080000, 0x00000000,			/* 538 - 1336 */
	0x88880000, 0xffffffd0,			/* 540 - 1344 */
	0x98080000, 0x0000ff00,			/* 548 - 1352 */
	0x60000040, 0x00000000,			/* 550 - 1360 */
	0x1f000038, 0x00000038,			/* 558 - 1368 */
	0x98080000, 0x0000ff02,			/* 560 - 1376 */
d181 6
a186 3
	0x1f000040, 0x00000040,			/* 570 - 1392 */
	0x98080000, 0x0000ff03,			/* 578 - 1400 */
	0x10000000, 0x00000000,			/* 580 - 1408 */
d192 4
a195 5
	0x7808ff00, 0x00000000,			/* 010 -  16 */
	0x80080000, 0x00000000,			/* 018 -  24 */
	0x88880000, 0xffffffd8,			/* 020 -  32 */
	0x72350000, 0x00000000,			/* 028 -  40 */
	0x98080000, 0x0000ff81,			/* 030 -  48 */
d231 9
a239 1
	0x10000000, 0x00000000,			/* 05c -  92 */
d264 11
a274 11
#define	Ent_send_msgout	0x00000380
#define	Ent_msgout	0x00000390
#define	Ent_msgin	0x00000310
#define	Ent_handle_msgin	0x00000320
#define	Ent_msgin_ack	0x00000370
#define	Ent_dataout	0x00000428
#define	Ent_datain	0x000003c8
#define	Ent_cmdout	0x000003a8
#define	Ent_status	0x000003b8
#define	Ent_disconnect	0x00000518
#define	Ent_reselect	0x000001d8
d276 10
a285 7
#define	Ent_selected	0x00000370
#define	Ent_script_sched	0x00000068
#define	Ent_script_sched_slot0	0x00000098
#define	Ent_get_extmsgdata	0x00000568
#define	Ent_resel_targ0	0x00000220
#define	Ent_msgin_space	0x00000580
#define	Ent_lunsw_return	0x000002a0
a287 1
	0x00000027,
d327 1
a331 3
	0x00000089,
	0x0000008b,
	0x0000008d,
d344 3
d351 3
a353 3
	0x000000a9,
	0x000000b1,
	0x000000b9,
d356 2
a357 2
#define	Ent_lun_switch_entry	0x00000020
#define	Ent_resel_lun0	0x00000030
d361 1
a361 1
	0x00000007,
d419 80
a498 2
u_int32_t INSTRUCTIONS = 0x000000d6;
u_int32_t PATCHES = 0x00000000;
@


1.2.8.1
log
@sync to -current
@
text
@d1 1
a1 1
/*	$NetBSD: ncr53cxxx.c,v 1.10 2002/04/21 22:40:10 bouyer Exp $	*/
d4 1
a4 1
 *	created from siop.ss on Sun Sep  1 23:53:00 2002
d10 7
a16 7
	0x80840020, 0x00000318,			/* 018 -  24 */
	0x868b0000, 0x00000380,			/* 020 -  32 */
	0x878b0000, 0x000002f8,			/* 028 -  40 */
	0x808b0000, 0x00000408,			/* 030 -  48 */
	0x818b0000, 0x000003a0,			/* 038 -  56 */
	0x828b0000, 0x00000378,			/* 040 -  64 */
	0x838b0000, 0x00000380,			/* 048 -  72 */
d20 7
a26 7
	0x80000000, 0x00000000,			/* 068 - 104 */
	0x7810ff00, 0x00000000,			/* 070 - 112 */
	0x7811ff00, 0x00000000,			/* 078 - 120 */
	0x7812ff00, 0x00000000,			/* 080 - 128 */
	0x7813ff00, 0x00000000,			/* 088 - 136 */
	0x78340000, 0x00000000,			/* 090 - 144 */
	0x78350000, 0x00000000,			/* 098 - 152 */
d66 12
a77 12
	0x80000000, 0x00000000,			/* 1d8 - 472 */
	0x7810ff00, 0x00000000,			/* 1e0 - 480 */
	0x7811ff00, 0x00000000,			/* 1e8 - 488 */
	0x7812ff00, 0x00000000,			/* 1f0 - 496 */
	0x7813ff00, 0x00000000,			/* 1f8 - 504 */
	0x78360000, 0x00000000,			/* 200 - 512 */
	0x78372000, 0x00000000,			/* 208 - 520 */
	0x80000000, 0x00000000,			/* 210 - 528 */
	0x54000000, 0xfffffe38,			/* 218 - 536 */
	0x80000000, 0x00000000,			/* 220 - 544 */
	0x740a8f00, 0x00000000,			/* 228 - 552 */
	0x6a340000, 0x00000000,			/* 230 - 560 */
d90 6
a95 6
	0x800c00ff, 0x00000000,			/* 298 - 664 */
	0x800c00ff, 0x00000000,			/* 2a0 - 672 */
	0x800c00ff, 0x00000000,			/* 2a8 - 680 */
	0x98080000, 0x0000ff80,			/* 2b0 - 688 */
	0x0f000001, 0x00000000,			/* 2b8 - 696 */
	0x6c350700, 0x00000000,			/* 2c0 - 704 */
d97 6
a102 6
	0x97030000, 0x00000000,			/* 2d0 - 720 */
	0x0f000001, 0x00000000,			/* 2d8 - 728 */
	0x60000040, 0x00000000,			/* 2e0 - 736 */
	0x6a370000, 0x00000000,			/* 2e8 - 744 */
	0x90040020, 0x00000000,			/* 2f0 - 752 */
	0x0f000001, 0x00000000,			/* 2f8 - 760 */
d104 16
a119 16
	0x6a360000, 0x00000000,			/* 308 - 776 */
	0x90080000, 0x00000000,			/* 310 - 784 */
	0x60000040, 0x00000000,			/* 318 - 792 */
	0x7a340100, 0x00000000,			/* 320 - 800 */
	0x60000008, 0x00000000,			/* 328 - 808 */
	0x1f000030, 0x00000030,			/* 330 - 816 */
	0x808c0000, 0x00000218,			/* 338 - 824 */
	0x808c0002, 0xffffffd0,			/* 340 - 832 */
	0x808c0001, 0x00000218,			/* 348 - 840 */
	0x98040004, 0x0000ff01,			/* 350 - 848 */
	0x88880000, 0x000001d0,			/* 358 - 856 */
	0x74340100, 0x00000000,			/* 360 - 864 */
	0x808c0000, 0xfffffd00,			/* 368 - 872 */
	0x72350000, 0x00000000,			/* 370 - 880 */
	0x808c0000, 0xfffffcf0,			/* 378 - 888 */
	0x98080000, 0x0000ff04,			/* 380 - 896 */
d121 59
a179 59
	0x80880000, 0xfffffc88,			/* 390 - 912 */
	0x58000008, 0x00000000,			/* 398 - 920 */
	0x60000040, 0x00000000,			/* 3a0 - 928 */
	0x1e000048, 0x00000048,			/* 3a8 - 936 */
	0x60000008, 0x00000000,			/* 3b0 - 944 */
	0x80880000, 0xfffffc60,			/* 3b8 - 952 */
	0x1a000050, 0x00000050,			/* 3c0 - 960 */
	0x80880000, 0xfffffc50,			/* 3c8 - 968 */
	0x1b000058, 0x00000058,			/* 3d0 - 976 */
	0x80880000, 0xfffffc40,			/* 3d8 - 984 */
	0x88880000, 0x000000b8,			/* 3e0 - 992 */
	0x7a340200, 0x00000000,			/* 3e8 - 1000 */
	0x19000060, 0x00000060,			/* 3f0 - 1008 */
	0x7e350100, 0x00000000,			/* 3f8 - 1016 */
	0x7e100800, 0x00000000,			/* 400 - 1024 */
	0x7f110000, 0x00000000,			/* 408 - 1032 */
	0x7f120000, 0x00000000,			/* 410 - 1040 */
	0x7f130000, 0x00000000,			/* 418 - 1048 */
	0x818b0000, 0xffffffc8,			/* 420 - 1056 */
	0x88880000, 0x000000b8,			/* 428 - 1064 */
	0x7c34fd00, 0x00000000,			/* 430 - 1072 */
	0x80880000, 0xfffffbe0,			/* 438 - 1080 */
	0x88880000, 0x00000058,			/* 440 - 1088 */
	0x7a340200, 0x00000000,			/* 448 - 1096 */
	0x18000060, 0x00000060,			/* 450 - 1104 */
	0x7e350100, 0x00000000,			/* 458 - 1112 */
	0x7e100800, 0x00000000,			/* 460 - 1120 */
	0x7f110000, 0x00000000,			/* 468 - 1128 */
	0x7f120000, 0x00000000,			/* 470 - 1136 */
	0x7f130000, 0x00000000,			/* 478 - 1144 */
	0x808b0000, 0xffffffc8,			/* 480 - 1152 */
	0x88880000, 0x00000058,			/* 488 - 1160 */
	0x7c34fd00, 0x00000000,			/* 490 - 1168 */
	0x80880000, 0xfffffb80,			/* 498 - 1176 */
	0x72100000, 0x00000000,			/* 4a0 - 1184 */
	0x6a5c0000, 0x00000000,			/* 4a8 - 1192 */
	0x72110000, 0x00000000,			/* 4b0 - 1200 */
	0x6a5d0000, 0x00000000,			/* 4b8 - 1208 */
	0x72120000, 0x00000000,			/* 4c0 - 1216 */
	0x6a5e0000, 0x00000000,			/* 4c8 - 1224 */
	0x72130000, 0x00000000,			/* 4d0 - 1232 */
	0x6a5f0000, 0x00000000,			/* 4d8 - 1240 */
	0x90080000, 0x00000000,			/* 4e0 - 1248 */
	0x725c0000, 0x00000000,			/* 4e8 - 1256 */
	0x6a100000, 0x00000000,			/* 4f0 - 1264 */
	0x725d0000, 0x00000000,			/* 4f8 - 1272 */
	0x6a110000, 0x00000000,			/* 500 - 1280 */
	0x725e0000, 0x00000000,			/* 508 - 1288 */
	0x6a120000, 0x00000000,			/* 510 - 1296 */
	0x725f0000, 0x00000000,			/* 518 - 1304 */
	0x6a130000, 0x00000000,			/* 520 - 1312 */
	0x90080000, 0x00000000,			/* 528 - 1320 */
	0x7c027f00, 0x00000000,			/* 530 - 1328 */
	0x60000008, 0x00000000,			/* 538 - 1336 */
	0x60000040, 0x00000000,			/* 540 - 1344 */
	0x48000000, 0x00000000,			/* 548 - 1352 */
	0x90080000, 0x00000000,			/* 550 - 1360 */
	0x88880000, 0xffffffd0,			/* 558 - 1368 */
	0x98080000, 0x0000ff00,			/* 560 - 1376 */
d181 3
a183 6
	0x1f000038, 0x00000038,			/* 570 - 1392 */
	0x98080000, 0x0000ff02,			/* 578 - 1400 */
	0x60000040, 0x00000000,			/* 580 - 1408 */
	0x1f000040, 0x00000040,			/* 588 - 1416 */
	0x98080000, 0x0000ff03,			/* 590 - 1424 */
	0x80000000, 0x00000000,			/* 598 - 1432 */
d189 5
a193 4
	0x80080000, 0x00000000,			/* 010 -  16 */
	0x88880000, 0xffffffe0,			/* 018 -  24 */
	0x72350000, 0x00000000,			/* 020 -  32 */
	0x98080000, 0x0000ff81,			/* 028 -  40 */
d229 1
a229 9
	0x80000000, 0x00000000,			/* 05c -  92 */
};

const u_int32_t siop_led_on[] = {
	0x7c07fe00, 0x00000000,			/* 000 -   0 */
};

const u_int32_t siop_led_off[] = {
	0x7a070100, 0x00000000,			/* 000 -   0 */
d254 11
a264 11
#define	Ent_send_msgout	0x00000398
#define	Ent_msgout	0x000003a8
#define	Ent_msgin	0x00000328
#define	Ent_handle_msgin	0x00000338
#define	Ent_msgin_ack	0x00000388
#define	Ent_dataout	0x00000440
#define	Ent_datain	0x000003e0
#define	Ent_cmdout	0x000003c0
#define	Ent_status	0x000003d0
#define	Ent_disconnect	0x00000530
#define	Ent_reselect	0x000001e0
d266 7
a272 10
#define	Ent_selected	0x00000388
#define	Ent_script_sched	0x00000070
#define	Ent_script_sched_slot0	0x000000a0
#define	Ent_get_extmsgdata	0x00000580
#define	Ent_resel_targ0	0x00000238
#define	Ent_msgin_space	0x00000598
#define	Ent_lunsw_return	0x000002b8
#define	Ent_led_on1	0x00000068
#define	Ent_led_on2	0x00000220
#define	Ent_led_off	0x00000210
d275 1
a314 1
	0x00000077,
d319 3
a333 3
	0x000000a7,
	0x000000a9,
	0x000000ab,
d338 3
a340 3
	0x000000af,
	0x000000b7,
	0x000000bf,
d343 2
a344 2
#define	Ent_lun_switch_entry	0x00000018
#define	Ent_resel_lun0	0x00000028
d348 1
a348 1
	0x00000005,
d406 2
a407 80
u_int32_t INSTRUCTIONS = 0x000000da;
u_int32_t PATCHES = 0x0000004b;
u_int32_t LABELPATCHES[] = {
	0x00000029,
	0x0000002b,
	0x0000002d,
	0x0000002f,
	0x00000031,
	0x00000033,
	0x00000035,
	0x00000037,
	0x00000039,
	0x0000003b,
	0x0000003d,
	0x0000003f,
	0x00000041,
	0x00000043,
	0x00000045,
	0x00000047,
	0x00000049,
	0x0000004b,
	0x0000004d,
	0x0000004f,
	0x00000051,
	0x00000053,
	0x00000055,
	0x00000057,
	0x00000059,
	0x0000005b,
	0x0000005d,
	0x0000005f,
	0x00000061,
	0x00000063,
	0x00000065,
	0x00000067,
	0x00000069,
	0x0000006b,
	0x0000006d,
	0x0000006f,
	0x00000071,
	0x00000073,
	0x00000075,
	0x00000077,
	0x0000008f,
	0x00000091,
	0x00000093,
	0x00000095,
	0x00000097,
	0x00000099,
	0x0000009b,
	0x0000009d,
	0x0000009f,
	0x000000a1,
	0x000000a3,
	0x000000a5,
	0x000000a7,
	0x000000a9,
	0x000000ab,
	0x00000005,
	0x00000003,
	0x00000005,
	0x00000007,
	0x00000009,
	0x0000000b,
	0x0000000d,
	0x0000000f,
	0x00000011,
	0x00000013,
	0x00000015,
	0x00000017,
	0x00000019,
	0x0000001b,
	0x0000001d,
	0x0000001f,
	0x00000021,
	0x0000000d,
	0x00000011,
	0x00000016,
};

@


1.2.4.1
log
@merge in approximately 2.9 into SMP branch
@
text
@@


1.2.4.2
log
@Sync the SMP branch with 3.3
@
text
@d1 1
a1 1
/*	$NetBSD: ncr53cxxx.c,v 1.10 2002/04/21 22:40:10 bouyer Exp $	*/
d4 1
a4 1
 *	created from siop.ss on Sun Sep  1 23:53:00 2002
d10 7
a16 7
	0x80840020, 0x00000318,			/* 018 -  24 */
	0x868b0000, 0x00000380,			/* 020 -  32 */
	0x878b0000, 0x000002f8,			/* 028 -  40 */
	0x808b0000, 0x00000408,			/* 030 -  48 */
	0x818b0000, 0x000003a0,			/* 038 -  56 */
	0x828b0000, 0x00000378,			/* 040 -  64 */
	0x838b0000, 0x00000380,			/* 048 -  72 */
d20 7
a26 7
	0x80000000, 0x00000000,			/* 068 - 104 */
	0x7810ff00, 0x00000000,			/* 070 - 112 */
	0x7811ff00, 0x00000000,			/* 078 - 120 */
	0x7812ff00, 0x00000000,			/* 080 - 128 */
	0x7813ff00, 0x00000000,			/* 088 - 136 */
	0x78340000, 0x00000000,			/* 090 - 144 */
	0x78350000, 0x00000000,			/* 098 - 152 */
d66 12
a77 12
	0x80000000, 0x00000000,			/* 1d8 - 472 */
	0x7810ff00, 0x00000000,			/* 1e0 - 480 */
	0x7811ff00, 0x00000000,			/* 1e8 - 488 */
	0x7812ff00, 0x00000000,			/* 1f0 - 496 */
	0x7813ff00, 0x00000000,			/* 1f8 - 504 */
	0x78360000, 0x00000000,			/* 200 - 512 */
	0x78372000, 0x00000000,			/* 208 - 520 */
	0x80000000, 0x00000000,			/* 210 - 528 */
	0x54000000, 0xfffffe38,			/* 218 - 536 */
	0x80000000, 0x00000000,			/* 220 - 544 */
	0x740a8f00, 0x00000000,			/* 228 - 552 */
	0x6a340000, 0x00000000,			/* 230 - 560 */
d90 6
a95 6
	0x800c00ff, 0x00000000,			/* 298 - 664 */
	0x800c00ff, 0x00000000,			/* 2a0 - 672 */
	0x800c00ff, 0x00000000,			/* 2a8 - 680 */
	0x98080000, 0x0000ff80,			/* 2b0 - 688 */
	0x0f000001, 0x00000000,			/* 2b8 - 696 */
	0x6c350700, 0x00000000,			/* 2c0 - 704 */
d97 6
a102 6
	0x97030000, 0x00000000,			/* 2d0 - 720 */
	0x0f000001, 0x00000000,			/* 2d8 - 728 */
	0x60000040, 0x00000000,			/* 2e0 - 736 */
	0x6a370000, 0x00000000,			/* 2e8 - 744 */
	0x90040020, 0x00000000,			/* 2f0 - 752 */
	0x0f000001, 0x00000000,			/* 2f8 - 760 */
d104 16
a119 16
	0x6a360000, 0x00000000,			/* 308 - 776 */
	0x90080000, 0x00000000,			/* 310 - 784 */
	0x60000040, 0x00000000,			/* 318 - 792 */
	0x7a340100, 0x00000000,			/* 320 - 800 */
	0x60000008, 0x00000000,			/* 328 - 808 */
	0x1f000030, 0x00000030,			/* 330 - 816 */
	0x808c0000, 0x00000218,			/* 338 - 824 */
	0x808c0002, 0xffffffd0,			/* 340 - 832 */
	0x808c0001, 0x00000218,			/* 348 - 840 */
	0x98040004, 0x0000ff01,			/* 350 - 848 */
	0x88880000, 0x000001d0,			/* 358 - 856 */
	0x74340100, 0x00000000,			/* 360 - 864 */
	0x808c0000, 0xfffffd00,			/* 368 - 872 */
	0x72350000, 0x00000000,			/* 370 - 880 */
	0x808c0000, 0xfffffcf0,			/* 378 - 888 */
	0x98080000, 0x0000ff04,			/* 380 - 896 */
d121 59
a179 59
	0x80880000, 0xfffffc88,			/* 390 - 912 */
	0x58000008, 0x00000000,			/* 398 - 920 */
	0x60000040, 0x00000000,			/* 3a0 - 928 */
	0x1e000048, 0x00000048,			/* 3a8 - 936 */
	0x60000008, 0x00000000,			/* 3b0 - 944 */
	0x80880000, 0xfffffc60,			/* 3b8 - 952 */
	0x1a000050, 0x00000050,			/* 3c0 - 960 */
	0x80880000, 0xfffffc50,			/* 3c8 - 968 */
	0x1b000058, 0x00000058,			/* 3d0 - 976 */
	0x80880000, 0xfffffc40,			/* 3d8 - 984 */
	0x88880000, 0x000000b8,			/* 3e0 - 992 */
	0x7a340200, 0x00000000,			/* 3e8 - 1000 */
	0x19000060, 0x00000060,			/* 3f0 - 1008 */
	0x7e350100, 0x00000000,			/* 3f8 - 1016 */
	0x7e100800, 0x00000000,			/* 400 - 1024 */
	0x7f110000, 0x00000000,			/* 408 - 1032 */
	0x7f120000, 0x00000000,			/* 410 - 1040 */
	0x7f130000, 0x00000000,			/* 418 - 1048 */
	0x818b0000, 0xffffffc8,			/* 420 - 1056 */
	0x88880000, 0x000000b8,			/* 428 - 1064 */
	0x7c34fd00, 0x00000000,			/* 430 - 1072 */
	0x80880000, 0xfffffbe0,			/* 438 - 1080 */
	0x88880000, 0x00000058,			/* 440 - 1088 */
	0x7a340200, 0x00000000,			/* 448 - 1096 */
	0x18000060, 0x00000060,			/* 450 - 1104 */
	0x7e350100, 0x00000000,			/* 458 - 1112 */
	0x7e100800, 0x00000000,			/* 460 - 1120 */
	0x7f110000, 0x00000000,			/* 468 - 1128 */
	0x7f120000, 0x00000000,			/* 470 - 1136 */
	0x7f130000, 0x00000000,			/* 478 - 1144 */
	0x808b0000, 0xffffffc8,			/* 480 - 1152 */
	0x88880000, 0x00000058,			/* 488 - 1160 */
	0x7c34fd00, 0x00000000,			/* 490 - 1168 */
	0x80880000, 0xfffffb80,			/* 498 - 1176 */
	0x72100000, 0x00000000,			/* 4a0 - 1184 */
	0x6a5c0000, 0x00000000,			/* 4a8 - 1192 */
	0x72110000, 0x00000000,			/* 4b0 - 1200 */
	0x6a5d0000, 0x00000000,			/* 4b8 - 1208 */
	0x72120000, 0x00000000,			/* 4c0 - 1216 */
	0x6a5e0000, 0x00000000,			/* 4c8 - 1224 */
	0x72130000, 0x00000000,			/* 4d0 - 1232 */
	0x6a5f0000, 0x00000000,			/* 4d8 - 1240 */
	0x90080000, 0x00000000,			/* 4e0 - 1248 */
	0x725c0000, 0x00000000,			/* 4e8 - 1256 */
	0x6a100000, 0x00000000,			/* 4f0 - 1264 */
	0x725d0000, 0x00000000,			/* 4f8 - 1272 */
	0x6a110000, 0x00000000,			/* 500 - 1280 */
	0x725e0000, 0x00000000,			/* 508 - 1288 */
	0x6a120000, 0x00000000,			/* 510 - 1296 */
	0x725f0000, 0x00000000,			/* 518 - 1304 */
	0x6a130000, 0x00000000,			/* 520 - 1312 */
	0x90080000, 0x00000000,			/* 528 - 1320 */
	0x7c027f00, 0x00000000,			/* 530 - 1328 */
	0x60000008, 0x00000000,			/* 538 - 1336 */
	0x60000040, 0x00000000,			/* 540 - 1344 */
	0x48000000, 0x00000000,			/* 548 - 1352 */
	0x90080000, 0x00000000,			/* 550 - 1360 */
	0x88880000, 0xffffffd0,			/* 558 - 1368 */
	0x98080000, 0x0000ff00,			/* 560 - 1376 */
d181 3
a183 6
	0x1f000038, 0x00000038,			/* 570 - 1392 */
	0x98080000, 0x0000ff02,			/* 578 - 1400 */
	0x60000040, 0x00000000,			/* 580 - 1408 */
	0x1f000040, 0x00000040,			/* 588 - 1416 */
	0x98080000, 0x0000ff03,			/* 590 - 1424 */
	0x80000000, 0x00000000,			/* 598 - 1432 */
d189 5
a193 4
	0x80080000, 0x00000000,			/* 010 -  16 */
	0x88880000, 0xffffffe0,			/* 018 -  24 */
	0x72350000, 0x00000000,			/* 020 -  32 */
	0x98080000, 0x0000ff81,			/* 028 -  40 */
d229 1
a229 9
	0x80000000, 0x00000000,			/* 05c -  92 */
};

const u_int32_t siop_led_on[] = {
	0x7c07fe00, 0x00000000,			/* 000 -   0 */
};

const u_int32_t siop_led_off[] = {
	0x7a070100, 0x00000000,			/* 000 -   0 */
d254 11
a264 11
#define	Ent_send_msgout	0x00000398
#define	Ent_msgout	0x000003a8
#define	Ent_msgin	0x00000328
#define	Ent_handle_msgin	0x00000338
#define	Ent_msgin_ack	0x00000388
#define	Ent_dataout	0x00000440
#define	Ent_datain	0x000003e0
#define	Ent_cmdout	0x000003c0
#define	Ent_status	0x000003d0
#define	Ent_disconnect	0x00000530
#define	Ent_reselect	0x000001e0
d266 7
a272 10
#define	Ent_selected	0x00000388
#define	Ent_script_sched	0x00000070
#define	Ent_script_sched_slot0	0x000000a0
#define	Ent_get_extmsgdata	0x00000580
#define	Ent_resel_targ0	0x00000238
#define	Ent_msgin_space	0x00000598
#define	Ent_lunsw_return	0x000002b8
#define	Ent_led_on1	0x00000068
#define	Ent_led_on2	0x00000220
#define	Ent_led_off	0x00000210
d275 1
a314 1
	0x00000077,
d319 3
a333 3
	0x000000a7,
	0x000000a9,
	0x000000ab,
d338 3
a340 3
	0x000000af,
	0x000000b7,
	0x000000bf,
d343 2
a344 2
#define	Ent_lun_switch_entry	0x00000018
#define	Ent_resel_lun0	0x00000028
d348 1
a348 1
	0x00000005,
d406 2
a407 80
u_int32_t INSTRUCTIONS = 0x000000da;
u_int32_t PATCHES = 0x0000004b;
u_int32_t LABELPATCHES[] = {
	0x00000029,
	0x0000002b,
	0x0000002d,
	0x0000002f,
	0x00000031,
	0x00000033,
	0x00000035,
	0x00000037,
	0x00000039,
	0x0000003b,
	0x0000003d,
	0x0000003f,
	0x00000041,
	0x00000043,
	0x00000045,
	0x00000047,
	0x00000049,
	0x0000004b,
	0x0000004d,
	0x0000004f,
	0x00000051,
	0x00000053,
	0x00000055,
	0x00000057,
	0x00000059,
	0x0000005b,
	0x0000005d,
	0x0000005f,
	0x00000061,
	0x00000063,
	0x00000065,
	0x00000067,
	0x00000069,
	0x0000006b,
	0x0000006d,
	0x0000006f,
	0x00000071,
	0x00000073,
	0x00000075,
	0x00000077,
	0x0000008f,
	0x00000091,
	0x00000093,
	0x00000095,
	0x00000097,
	0x00000099,
	0x0000009b,
	0x0000009d,
	0x0000009f,
	0x000000a1,
	0x000000a3,
	0x000000a5,
	0x000000a7,
	0x000000a9,
	0x000000ab,
	0x00000005,
	0x00000003,
	0x00000005,
	0x00000007,
	0x00000009,
	0x0000000b,
	0x0000000d,
	0x0000000f,
	0x00000011,
	0x00000013,
	0x00000015,
	0x00000017,
	0x00000019,
	0x0000001b,
	0x0000001d,
	0x0000001f,
	0x00000021,
	0x0000000d,
	0x00000011,
	0x00000016,
};

@


1.2.4.3
log
@Merge of current from two weeks agointo the SMP branch
@
text
@d4 1
a4 1
 *	created from siop.ss on Sat Jun 28 19:18:24 2003
d109 1
a109 1
	0x1f000038, 0x00000038,			/* 330 - 816 */
d124 1
a124 1
	0x1e000050, 0x00000050,			/* 3a8 - 936 */
d127 1
a127 1
	0x1a000058, 0x00000058,			/* 3c0 - 960 */
d129 1
a129 1
	0x1b000060, 0x00000060,			/* 3d0 - 976 */
d133 1
a133 1
	0x19000068, 0x00000068,			/* 3f0 - 1008 */
d145 1
a145 1
	0x18000068, 0x00000068,			/* 450 - 1104 */
d181 1
a181 1
	0x1f000040, 0x00000040,			/* 570 - 1392 */
d184 1
a184 1
	0x1f000048, 0x00000048,			/* 588 - 1416 */
d243 7
a249 7
#define	A_t_msg_in	0x00000038
#define	A_t_ext_msg_in	0x00000040
#define	A_t_ext_msg_data	0x00000048
#define	A_t_msg_out	0x00000050
#define	A_t_cmd	0x00000058
#define	A_t_status	0x00000060
#define	A_t_data	0x00000068
d416 81
@


1.2.4.4
log
@Merge with the trunk
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d4 1
a4 1
 *	created from siop.ss on Thu Mar 11 17:05:27 2004
@


1.1
log
@Import siop, a replacement for the ncr SCSI driver, from NetBSD.

Written for NetBSD by Manuel Bouyer.

Tested with various cards on i386 and alpha.

Outstanding issue: doesn't work with PowerPC yet.
@
text
@d1 1
a1 2
/*	$OpenBSD$ */
/*	$NetBSD: siop.out,v 1.11 2000/10/23 14:54:50 bouyer Exp $	*/
d4 1
a4 1
 *	created from siop.ss on Mon Oct 23 16:54:27 2000
d106 1
a106 1
	0x1f000020, 0x00000020,			/* 318 - 792 */
d121 1
a121 1
	0x1e000038, 0x00000038,			/* 390 - 912 */
d124 1
a124 1
	0x1a000040, 0x00000040,			/* 3a8 - 936 */
d126 1
a126 1
	0x1b000048, 0x00000048,			/* 3b8 - 952 */
d130 1
a130 1
	0x19000050, 0x00000050,			/* 3d8 - 984 */
d142 1
a142 1
	0x18000050, 0x00000050,			/* 438 - 1080 */
d178 1
a178 1
	0x1f000028, 0x00000028,			/* 558 - 1368 */
d181 1
a181 1
	0x1f000030, 0x00000030,			/* 570 - 1392 */
d189 5
a193 4
	0x80080000, 0x00000000,			/* 010 -  16 */
	0x88880000, 0xffffffe0,			/* 018 -  24 */
	0x72350000, 0x00000000,			/* 020 -  32 */
	0x98080000, 0x0000ff81,			/* 028 -  40 */
d226 1
a226 1
	0x43000018, 0x00000000,			/* 040 -  64 */
d232 8
a239 8
#define	A_t_id	0x00000018
#define	A_t_msg_in	0x00000020
#define	A_t_ext_msg_in	0x00000028
#define	A_t_ext_msg_data	0x00000030
#define	A_t_msg_out	0x00000038
#define	A_t_cmd	0x00000040
#define	A_t_status	0x00000048
#define	A_t_data	0x00000050
d343 2
a344 2
#define	Ent_lun_switch_entry	0x00000018
#define	Ent_resel_lun0	0x00000028
d348 1
a348 1
	0x00000005,
d406 1
a406 1
u_int32_t INSTRUCTIONS = 0x000000d5;
@

