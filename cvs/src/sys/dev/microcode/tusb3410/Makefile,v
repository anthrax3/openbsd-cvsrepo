head	1.11;
access;
symbols
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.10
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.8
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.6
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.4.0.14
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.12
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.10
	OPENBSD_5_0:1.4.0.8
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.6
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.2.0.10
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2;
locks; strict;
comment	@# @;


1.11
date	2017.01.23.01.00.58;	author jsg;	state Exp;
branches;
next	1.10;
commitid	tQUUVqc2xH8wsKVH;

1.10
date	2016.09.03.13.37.45;	author guenther;	state Exp;
branches;
next	1.9;
commitid	6T3r4QcMFKe3Fo5T;

1.9
date	2016.08.10.14.27.17;	author deraadt;	state Exp;
branches;
next	1.8;
commitid	nJ2GKPOeS3xtih2N;

1.8
date	2016.07.10.15.16.15;	author visa;	state Exp;
branches;
next	1.7;
commitid	dZZrqA4QWG1SyJ7W;

1.7
date	2016.05.11.21.52.51;	author deraadt;	state Exp;
branches;
next	1.6;
commitid	VpgRpYXqYSJy4P7J;

1.6
date	2015.05.26.02.21.54;	author jsg;	state Exp;
branches;
next	1.5;
commitid	oDbpE009KcdKNYqN;

1.5
date	2013.03.25.17.40.12;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2010.01.30.20.48.20;	author miod;	state Exp;
branches;
next	1.3;

1.3
date	2009.09.09.12.10.35;	author marex;	state Exp;
branches;
next	1.2;

1.2
date	2007.11.19.23.36.40;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2007.11.16.16.30.03;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Build firmware for usb devices on arm64.

ok patrick@@
@
text
@# $OpenBSD: Makefile,v 1.10 2016/09/03 13:37:45 guenther Exp $

NOPROG=
NOMAN=
CC=${HOSTCC}

# USB capable systems only
.if (${MACHINE_ARCH} == "powerpc" || \
    ${MACHINE} == "alpha" || ${MACHINE} == "amd64" || \
    ${MACHINE} == "arm64" || ${MACHINE} == "armv7" || \
    ${MACHINE} == "hppa" || ${MACHINE} == "i386" || \
    ${MACHINE} == "landisk" || ${MACHINE} == "loongson" || \
    ${MACHINE} == "octeon" || ${MACHINE} == "sgi" || \
    ${MACHINE} == "sparc64")

FIRM= 	tusb3410

PROG=	build

CLEANFILES+= ${FIRM} ${PROG}

all: ${FIRM}

${FIRM}: build
	${.OBJDIR}/build

realinstall:

afterinstall:
	${INSTALL} -c -o ${BINOWN} -g ${BINGRP} -m 644 \
	    ${FIRM} ${DESTDIR}/etc/firmware
	${INSTALL} -c -o ${BINOWN} -g ${BINGRP} -m 644 \
	    ${.CURDIR}/tusb3410-license ${DESTDIR}/etc/firmware
.endif

.include <bsd.prog.mk>
@


1.10
log
@Retire zaurus, as it hasn't made the EABI jump and will be permanently broken
shortly when we use the hardware thread register in userland
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2016/08/10 14:27:17 deraadt Exp $
d10 1
a10 1
    ${MACHINE} == "armv7" || \
@


1.9
log
@armish handled some early-gen arm machines, which required tons of
workarounds.  Some of them will soon stand in the way of armv7.
Off to the attic you go.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2016/07/10 15:16:15 visa Exp $
d14 1
a14 1
    ${MACHINE} == "sparc64" || ${MACHINE} == "zaurus")
@


1.8
log
@Build firmware for USB devices on octeon.

ok deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2016/05/11 21:52:51 deraadt Exp $
d10 1
a10 1
    ${MACHINE} == "armish" || ${MACHINE} == "armv7" || \
@


1.7
log
@remove hppa64 port, which we never got going beyond broken single users.
hppa reverse-stack gives us a valuable test case, but most developers don't
have a 2nd one to proceed further with this.
ok kettenis
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/05/26 02:21:54 jsg Exp $
d13 1
a13 1
    ${MACHINE} == "sgi" || \
@


1.6
log
@Build all the firmware for usb devices on armv7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/03/25 17:40:12 deraadt Exp $
d11 1
a11 2
    ${MACHINE} == "hppa" || \
    ${MACHINE} == "hppa64" || ${MACHINE} == "i386" || \
@


1.5
log
@these will not be built for palm since it went away
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/01/30 20:48:20 miod Exp $
d10 2
a11 1
    ${MACHINE} == "armish" || ${MACHINE} == "hppa" || \
@


1.4
log
@Build these firmwares on loongson.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/09/09 12:10:35 marex Exp $
d13 1
a13 1
    ${MACHINE} == "palm" || ${MACHINE} == "sgi" || \
@


1.3
log
@Palm: Integration into the tree

OK deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/11/19 23:36:40 deraadt Exp $
d8 7
a14 6
.if (${MACHINE} == "i386") || (${MACHINE} == "amd64") || \
    (${MACHINE} == "alpha") || (${MACHINE} == "sparc64") || \
    (${MACHINE_ARCH} == "powerpc") || (${MACHINE} == "hppa") || \
    (${MACHINE} == "hppa64") || (${MACHINE} == "sgi") || \
    (${MACHINE} == "landisk") || (${MACHINE} == "armish") || \
    (${MACHINE} == "zaurus") || (${MACHINE} == "palm")
@


1.2
log
@armish and zaurus too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2007/11/16 16:30:03 deraadt Exp $
d13 1
a13 1
    (${MACHINE} == "zaurus")
@


1.1
log
@firmware (if not store in a seeprom in the device) for the uticom(4)
this was compiled by someone from the full source code published by TI
under a surprisingly free license (which is probably not even actually
enforceable in any way, since they forgot to put the phrase Copyright
above it... where do they hire their lawyers??  anyways, everyone benefits)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/08/01 21:42:44 deraadt Exp $
d12 2
a13 1
    (${MACHINE} == "landisk")
@

