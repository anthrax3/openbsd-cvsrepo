head	1.11;
access;
symbols
	OPENBSD_5_5:1.10.0.12
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.10.0.8
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.10.0.6
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.4
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.2
	OPENBSD_5_0:1.9.0.2
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.8.0.12
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.8.0.10
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.6
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.8
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.4
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.2
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.7.0.10
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.7.0.8
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.6
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.4
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.2
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.6.0.12
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.10
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.6.0.8
	OPENBSD_3_6_BASE:1.6
	SMP_SYNC_A:1.6
	SMP_SYNC_B:1.6
	OPENBSD_3_5:1.6.0.6
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.4
	OPENBSD_3_4_BASE:1.6
	UBC_SYNC_A:1.6
	OPENBSD_3_3:1.6.0.2
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.5.0.6
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.5.0.4
	OPENBSD_3_1_BASE:1.5
	UBC_SYNC_B:1.5
	UBC:1.5.0.2
	UBC_BASE:1.5
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9:1.3.0.14
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.12
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.10
	OPENBSD_2_7_BASE:1.3
	SMP:1.3.0.8
	SMP_BASE:1.3
	kame_19991208:1.3
	OPENBSD_2_6:1.3.0.6
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.4
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.1.0.2
	OPENBSD_2_2_BASE:1.1;
locks; strict;
comment	@ * @;


1.11
date	2014.03.18.22.36.32;	author miod;	state dead;
branches;
next	1.10;

1.10
date	2011.08.18.19.54.18;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2011.03.23.16.54.34;	author pirofti;	state Exp;
branches;
next	1.8;

1.8
date	2008.06.26.05.42.10;	author ray;	state Exp;
branches;
next	1.7;

1.7
date	2005.09.27.22.05.37;	author miod;	state Exp;
branches;
next	1.6;

1.6
date	2003.02.11.19.20.26;	author mickey;	state Exp;
branches;
next	1.5;

1.5
date	2001.11.04.02.58.03;	author miod;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2001.08.26.00.15.37;	author miod;	state Exp;
branches;
next	1.3;

1.3
date	98.05.10.11.31.56;	author downsj;	state Exp;
branches
	1.3.8.1;
next	1.2;

1.2
date	97.11.06.19.42.41;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	97.07.06.08.02.11;	author downsj;	state Exp;
branches;
next	;

1.3.8.1
date	2001.10.31.02.52.46;	author nate;	state Exp;
branches;
next	1.3.8.2;

1.3.8.2
date	2001.11.13.21.00.51;	author niklas;	state Exp;
branches;
next	1.3.8.3;

1.3.8.3
date	2003.03.27.23.19.21;	author niklas;	state Exp;
branches;
next	;

1.5.2.1
date	2003.05.19.21.39.16;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@/*	$OpenBSD: hp300spu.h,v 1.10 2011/08/18 19:54:18 miod Exp $	*/
/*	$NetBSD: hp300spu.h,v 1.2 1997/05/01 05:26:48 thorpej Exp $	*/

/*-
 * Copyright (c) 1996, 1997 The NetBSD Foundation, Inc.
 * All rights reserved.
 *
 * This code is derived from software contributed to The NetBSD Foundation
 * by Jason R. Thorpe.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE NETBSD FOUNDATION, INC. AND CONTRIBUTORS
 * ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef _MACHINE_HP300SPU_H_
#define	_MACHINE_HP300SPU_H_

/*
 * This file describes various constants that describe and/or
 * are unique to the HP 9000/300 or 400 SPUs.
 */

/* values for machineid */
#define	HP_320		0	/* 16MHz 68020+HP MMU+16K external cache */
#define	HP_330		1	/* 16MHz 68020+68851 MMU */
#define	HP_350		2	/* 25MHz 68020+HP MMU+32K external cache */
#define	HP_36X		3	/* 25MHz 68030 */
#define	HP_370		4	/* 33MHz 68030+64K external cache */
#define	HP_340		5	/* 16MHz 68030 */
#define	HP_345		6	/* 50MHz 68030+32K external cache */
#define	HP_375		7	/* 50MHz 68030+32K external cache */
#define	HP_400		8	/* 50MHz 68030+32K external cache */
#define	HP_380		9	/* 25MHz 68040 */
#define	HP_425		10	/* 25MHz 68040 */
#define HP_433		11	/* 33MHz 68040 */
#define	HP_385		12	/* 33MHz 68040 */
#define	HP_382		13	/* 25MHz 68040 */

/* values for mmuid - used to differentiate similar CPU/cache combos */
#define	MMUID_345	1	/* 345 */
#define	MMUID_375	3	/* 375 */
#define	MMUID_382	11	/* 382 */
#define	MMUID_385	2	/* 385 */
#define	MMUID_425_T	5	/* 425t - 25MHz Trailways */
#define	MMUID_425_S	7	/* 425s - 25MHz Strider */
#define	MMUID_433_T	4	/* 433t - 33MHz Trailways */
#define	MMUID_433_S	6	/* 433s - 33MHz Strider */
#define MMUID_425_E	9	/* 425e - 25MHz Woody */

#define	MMUID_SHIFT	8	/* right shift by this... */
#define	MMUID_MASK	0xff	/* ...and mask with this to get mmuid */

#if defined (_KERNEL) && !defined(_LOCORE)
extern	int machineid;		/* CPU model */
extern	int cpuspeed;		/* CPU speed, in MHz */
extern	int mmuid;		/* MMU id */
#endif /* _KERNEL && ! _LOCORE */

#endif /* _MACHINE_HP300SPU_H_ */
@


1.10
log
@Because model 362 does not have an SGC bus (or a blind, deaf and mute one),
there is no way we can tell models 360 and 362 apart by probing for an SGC
bus, or for a frodo(4) chip since of the `lil' black swan' 3x2 models, only
model 382 has frodo. So don't bother trying to tell models 360 and 362
apart, and use a common 36X symbol. No functional change except for useless
code removal.
@
text
@d1 1
a1 1
/*	$OpenBSD: hp300spu.h,v 1.9 2011/03/23 16:54:34 pirofti Exp $	*/
@


1.9
log
@Normalize sentinel. Use _MACHINE_*_H_ and _<ARCH>_*_H_ properly and consitently.

Discussed and okay drahn@@. Okay deraadt@@.
@
text
@d1 1
a1 1
/*	$OpenBSD: hp300spu.h,v 1.8 2008/06/26 05:42:10 ray Exp $	*/
d45 1
a45 1
#define	HP_360		3	/* 25MHz 68030 */
d55 1
a55 2
#define	HP_362		13	/* 25MHz 68030 */
#define	HP_382		14	/* 25MHz 68040 */
@


1.8
log
@First pass at removing clauses 3 and 4 from NetBSD licenses.

Not sure what's more surprising: how long it took for NetBSD to
catch up to the rest of the BSDs (including UCB), or the amount of
code that NetBSD has claimed for itself without attributing to the
actual authors.

OK deraadt@@
@
text
@d1 1
a1 1
/*	$OpenBSD: hp300spu.h,v 1.7 2005/09/27 22:05:37 miod Exp $	*/
d33 2
a34 2
#ifndef _HP300_HP300SPU_H_
#define	_HP300_HP300SPU_H_
d78 1
a78 1
#endif /* _HP300_HP300SPU_H_ */
@


1.7
log
@Identify HP 9000/362 and HP 9000/382 models, and attach frodo on them.
Model 382 can be identified with a unique MMUID value; model 362 is told
from model 360 by probing for the frodo chip. Their built-in frame buffer
is not supported at the moment.

Matching information derived from messages to the NetBSD mailing lists.
@
text
@d1 1
a1 1
/*	$OpenBSD: hp300spu.h,v 1.6 2003/02/11 19:20:26 mickey Exp $	*/
a18 7
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *        This product includes software developed by the NetBSD
 *        Foundation, Inc. and its contributors.
 * 4. Neither the name of The NetBSD Foundation nor the names of its
 *    contributors may be used to endorse or promote products derived
 *    from this software without specific prior written permission.
@


1.6
log
@be consistant on Hz vs hz
@
text
@d1 1
a1 1
/*	$OpenBSD: hp300spu.h,v 1.5 2001/11/04 02:58:03 miod Exp $	*/
d62 2
d68 1
d76 1
a76 1
#define	MMUID_SHIFT	8	/* left shift by this... */
@


1.5
log
@Change the magic formulae in charge of setting the correct defines
for cpu, mmu, and cache attributes from a mandatory include file to
the kernel makefile. This saves some cpp cycles and removes forced
dependencies on hp300spu.h.

millert@@ does not like but does not object either.
@
text
@d1 1
a1 1
/*	$OpenBSD: hp300spu.h,v 1.4 2001/08/26 00:15:37 miod Exp $	*/
d71 1
a71 1
#define MMUID_425_E	9	/* 425e - 25Mhz Woody */
@


1.5.2.1
log
@sync
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d71 1
a71 1
#define MMUID_425_E	9	/* 425e - 25MHz Woody */
@


1.4
log
@Nuke annoying defopt, by popular demand. Plus you get two typos fixed
for free.
@
text
@d1 1
a1 1
/*	$OpenBSD: hp300spu.h,v 1.3 1998/05/10 11:31:56 downsj Exp $	*/
a80 48

#ifdef _KERNEL

/*
 * This section associates hp300 model configurations with certain
 * combinations of CPU, MMU, and cache.
 */

/*
 * CPU configuration.
 */
#if defined(HP320) || defined(HP330) || defined(HP350)
#define M68020
#endif

#if defined(HP340) || defined(HP345) || defined(HP360) || defined(HP370) || \
    defined(HP375) || defined(HP400)
#define M68030
#endif

#if defined(HP380) || defined(HP385) || defined(HP425) || defined(HP433)
#define M68040
#endif

/*
 * MMU configuration.
 */
#if defined(HP320) || defined(HP350)
#define M68K_MMU_HP
#endif

#if defined(HP330) || defined(M68030) || defined(M68040)
#define	M68K_MMU_MOTOROLA
#endif

/*
 * Cache configuration.
 */
#if defined(M68K_MMU_HP)
#define	CACHE_HAVE_VAC
#endif

#if defined(HP345) || defined(HP360) || defined(HP370) || \
    defined(HP375) || defined(HP400)
#define	CACHE_HAVE_PAC
#endif

#endif /* _KERNEL */
@


1.3
log
@Add support for 425e.
@
text
@d1 1
a1 1
/*	$OpenBSD: hp300spu.h,v 1.2 1997/11/06 19:42:41 millert Exp $	*/
d86 1
a86 1
 * combindations of CPU, MMU, and cache.
a87 17

/*
 * Pull in user-defined SPU configuration options.
 */
#include "opt_hp320.h"
#include "opt_hp330.h"
#include "opt_hp340.h"
#include "opt_hp345.h"
#include "opt_hp350.h"
#include "opt_hp360.h"
#include "opt_hp370.h"
#include "opt_hp375.h"
#include "opt_hp380.h"
#include "opt_hp385.h"
#include "opt_hp400.h"
#include "opt_hp425.h"
#include "opt_hp433.h"
@


1.3.8.1
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
/*	$OpenBSD: hp300spu.h,v 1.3 1998/05/10 11:31:56 downsj Exp $	*/
d86 1
a86 1
 * combinations of CPU, MMU, and cache.
d88 17
@


1.3.8.2
log
@Merge in -current
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d81 48
@


1.3.8.3
log
@Sync the SMP branch with 3.3
@
text
@d71 1
a71 1
#define MMUID_425_E	9	/* 425e - 25MHz Woody */
@


1.2
log
@Idnetify/support hp385 (33Mhz 68040)
@
text
@d1 1
a1 1
/*	$OpenBSD: hp300spu.h,v 1.1 1997/07/06 08:02:11 downsj Exp $	*/
d59 1
a59 1
#define	HP_425		10	/* 26MHz 68040 */
d71 1
@


1.1
log
@Sync with changes from NetBSD, up to 970705.

This includes all of the new frodo drivers, from Michael Smith, hacked up
by Jason R. Thorpe; other changes, mostly configuration and/or m68k
abstraction related, from Thorpe.  A few others of my own.

This compiles and runs, have not yet tested Domain kbd or apci ports.
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d61 1
d66 1
d100 1
d117 1
a117 1
#if defined(HP380) || defined(HP425) || defined(HP433)
@
