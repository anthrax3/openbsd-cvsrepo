head	1.35;
access;
symbols
	OPENBSD_5_5:1.34.0.12
	OPENBSD_5_5_BASE:1.34
	OPENBSD_5_4:1.34.0.8
	OPENBSD_5_4_BASE:1.34
	OPENBSD_5_3:1.34.0.6
	OPENBSD_5_3_BASE:1.34
	OPENBSD_5_2:1.34.0.4
	OPENBSD_5_2_BASE:1.34
	OPENBSD_5_1_BASE:1.34
	OPENBSD_5_1:1.34.0.2
	OPENBSD_5_0:1.31.0.2
	OPENBSD_5_0_BASE:1.31
	OPENBSD_4_9:1.30.0.12
	OPENBSD_4_9_BASE:1.30
	OPENBSD_4_8:1.30.0.10
	OPENBSD_4_8_BASE:1.30
	OPENBSD_4_7:1.30.0.6
	OPENBSD_4_7_BASE:1.30
	OPENBSD_4_6:1.30.0.8
	OPENBSD_4_6_BASE:1.30
	OPENBSD_4_5:1.30.0.4
	OPENBSD_4_5_BASE:1.30
	OPENBSD_4_4:1.30.0.2
	OPENBSD_4_4_BASE:1.30
	OPENBSD_4_3:1.29.0.4
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.29.0.2
	OPENBSD_4_2_BASE:1.29
	OPENBSD_4_1:1.28.0.4
	OPENBSD_4_1_BASE:1.28
	OPENBSD_4_0:1.28.0.2
	OPENBSD_4_0_BASE:1.28
	OPENBSD_3_9:1.26.0.2
	OPENBSD_3_9_BASE:1.26
	OPENBSD_3_8:1.25.0.2
	OPENBSD_3_8_BASE:1.25
	OPENBSD_3_7:1.23.0.2
	OPENBSD_3_7_BASE:1.23
	OPENBSD_3_6:1.19.0.2
	OPENBSD_3_6_BASE:1.19
	SMP_SYNC_A:1.15
	SMP_SYNC_B:1.15
	OPENBSD_3_5:1.15.0.12
	OPENBSD_3_5_BASE:1.15
	OPENBSD_3_4:1.15.0.10
	OPENBSD_3_4_BASE:1.15
	UBC_SYNC_A:1.15
	OPENBSD_3_3:1.15.0.8
	OPENBSD_3_3_BASE:1.15
	OPENBSD_3_2:1.15.0.6
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.15.0.4
	OPENBSD_3_1_BASE:1.15
	UBC_SYNC_B:1.15
	UBC:1.15.0.2
	UBC_BASE:1.15
	OPENBSD_3_0:1.14.0.2
	OPENBSD_3_0_BASE:1.14
	OPENBSD_2_9:1.8.0.4
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.8.0.2
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.7.0.6
	OPENBSD_2_7_BASE:1.7
	SMP:1.7.0.4
	SMP_BASE:1.7
	kame_19991208:1.7
	OPENBSD_2_6:1.7.0.2
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.6.0.8
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.6.0.6
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.6.0.4
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.6.0.2
	OPENBSD_2_2_BASE:1.6
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3;
locks; strict;
comment	@# @;


1.35
date	2014.03.18.22.36.31;	author miod;	state dead;
branches;
next	1.34;

1.34
date	2011.11.08.19.22.13;	author deraadt;	state Exp;
branches;
next	1.33;

1.33
date	2011.08.18.20.03.38;	author miod;	state Exp;
branches;
next	1.32;

1.32
date	2011.08.18.19.54.16;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2011.06.29.20.52.09;	author matthew;	state Exp;
branches;
next	1.30;

1.30
date	2008.06.08.20.37.39;	author deraadt;	state Exp;
branches;
next	1.29;

1.29
date	2007.05.01.15.22.23;	author deraadt;	state Exp;
branches;
next	1.28;

1.28
date	2006.07.09.19.45.01;	author miod;	state Exp;
branches;
next	1.27;

1.27
date	2006.04.14.21.05.43;	author miod;	state Exp;
branches;
next	1.26;

1.26
date	2005.09.27.22.05.36;	author miod;	state Exp;
branches;
next	1.25;

1.25
date	2005.05.01.07.54.42;	author david;	state Exp;
branches;
next	1.24;

1.24
date	2005.04.22.11.59.11;	author miod;	state Exp;
branches;
next	1.23;

1.23
date	2005.02.27.22.21.47;	author miod;	state Exp;
branches;
next	1.22;

1.22
date	2005.01.23.16.53.36;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2005.01.14.22.39.23;	author miod;	state Exp;
branches;
next	1.20;

1.20
date	2004.09.16.09.14.03;	author mickey;	state Exp;
branches;
next	1.19;

1.19
date	2004.08.25.21.00.37;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2004.08.22.21.31.33;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2004.08.04.20.14.39;	author miod;	state Exp;
branches;
next	1.16;

1.16
date	2004.08.03.21.46.54;	author miod;	state Exp;
branches;
next	1.15;

1.15
date	2001.11.25.23.23.45;	author miod;	state Exp;
branches;
next	1.14;

1.14
date	2001.10.10.23.43.42;	author millert;	state Exp;
branches;
next	1.13;

1.13
date	2001.10.06.18.07.54;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2001.06.27.05.46.12;	author art;	state Exp;
branches;
next	1.11;

1.11
date	2001.06.23.19.46.57;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2001.05.17.00.57.53;	author pvalchev;	state Exp;
branches;
next	1.9;

1.9
date	2001.05.04.22.48.58;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	2000.10.31.16.52.50;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	99.08.15.07.42.45;	author downsj;	state Exp;
branches
	1.7.4.1;
next	1.6;

1.6
date	97.10.20.01.49.02;	author downsj;	state Exp;
branches;
next	1.5;

1.5
date	97.07.06.08.06.40;	author downsj;	state Exp;
branches;
next	1.4;

1.4
date	97.07.06.08.01.43;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	97.04.17.08.21.55;	author downsj;	state Exp;
branches;
next	1.2;

1.2
date	97.04.16.11.55.54;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	97.02.23.01.19.08;	author downsj;	state Exp;
branches;
next	;

1.7.4.1
date	2001.04.18.16.05.32;	author niklas;	state Exp;
branches;
next	1.7.4.2;

1.7.4.2
date	2001.07.04.10.15.22;	author niklas;	state Exp;
branches;
next	1.7.4.3;

1.7.4.3
date	2001.10.31.02.52.46;	author nate;	state Exp;
branches;
next	1.7.4.4;

1.7.4.4
date	2001.12.05.00.39.09;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.35
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@#	$OpenBSD: RAMDISK,v 1.34 2011/11/08 19:22:13 deraadt Exp $
#
# Ram disk kernel.
#

machine hp300 m68k

# Support for various CPU types
option		HP340
option		HP345
option		HP360
option		HP362
option		HP370
option		HP375
option		HP380
option		HP382
option		HP385
option		HP400
option		HP425
option		HP433

maxusers	32

option		TIMEZONE=0	# time zone to adjust RTC time by
option		DST=0		# daylight saving time used by RTC

option		FFS		# UFS
#option		EXT2FS		# Linux ext2fs

option		NFSCLIENT	# Network File System client

option		CD9660		# ISO 9660 + Rock Ridge file system
#option		MSDOSFS		# MS-DOS file system

option		INET		# IP + ICMP + TCP + UDP

option		BOOT_CONFIG	# add support for boot -c

# Options for HP hardware
option		USELEDS		# make the lights twinkle
#option		CONSCODE="9"	# force console at this select code for DIO
				# or DIO-II devices, or 256 + slot number
				# for SGC devices

# Verbose descriptions of unconfigured DIO devices
# (Warning: this compiles in a large string table)
option		DIOVERBOSE	# recognize "unknown" DIO devices

# Options for the ramdisk.
option		MINIROOTSIZE=4096
option		RAMDISK_HOOKS

config		bsd	root on rd0a swap on rd0b and hd0b and sd0b

mainbus0	at root		# root "bus"

intio0		at mainbus0	# internal i/o space
dio0		at mainbus0	# DIO/DIO-II bus
sgc0		at mainbus0	# SGC bus on some 4xx models

# Human Interface Loop devices
hil0		at intio?	# HIL controller
hilkbd*		at hil?		# keyboards
wskbd*		at hilkbd? mux 1
#hilms*		at hil?		# mice, buttons and tablets
#wsmouse*	at hilms? mux 0
#hilid*		at hil?		# ID module

# Frodo utility chip found on 382 and 4xx's
frodo0		at intio?

# 8250-like serial ports found on Frodo ASIC
dnkbd0		at frodo?	# Domain keyboard flavor
wskbd*		at dnkbd? mux 1
#wsmouse*	at dnkbd? mux 0
apci*		at frodo?	# tty flavor

# Davinci framebuffer
dvbox*		at intio?
dvbox*		at dio?
wsdisplay*	at dvbox?

# Gatorbox framebuffer
gbox*		at intio?
gbox*		at dio?
wsdisplay*	at gbox?

# Hyperion framebuffer
hyper*		at dio?
wsdisplay*	at hyper?

# Renaissance framebuffer
rbox*		at intio?
rbox*		at dio?
wsdisplay*	at rbox?

# Topcat/catseye framebuffers
topcat*		at intio?
topcat*		at dio?
wsdisplay*	at topcat?

# TurboVRX framebuffer
tvrx*		at dio?
wsdisplay*	at tvrx?

# 362/382 built-in framebuffer
sti*		at dio?
wsdisplay*	at sti?

# SGC framebuffers
sti*		at sgc?
#wsdisplay*	at sti?		# already done above

dca0		at dio? scode 9	flags 1	# DCA serial interfaces
dca*		at dio?

dcm*		at dio? flags 0xe	# DCM 4- or 8-port serial interfaces

le*		at dio?			# LANCE ethernet interfaces

nhpib0		at dio? scode 7		# slow internal HP-IB
nhpib*		at dio?

fhpib*		at dio?			# `fast' HP-IB

hpibbus0	at nhpib0
hpibbus*	at nhpib?
hpibbus*	at fhpib?

hd*		at hpibbus?		# HP-IB disks
ct*		at hpibbus?		# HP-IB cartridge tapes
mt*		at hpibbus?		# HP-IB 9-track tape

spc*		at dio? flags 0x00	# SCSI controller

scsibus*	at scsi?
sd*		at scsibus?		# SCSI disks
st*		at scsibus?		# SCSI tapes
cd*		at scsibus?		# SCSI CD-ROMs

pseudo-device	loop	1	# network loopback
pseudo-device	pty	16	# pseudo-terminals
pseudo-device	bpfilter 1	# packet filter
pseudo-device	rd	1	# ramdisk
@


1.34
log
@consistant "config bsd" lines; ok miod
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.34 2011/11/08 19:17:11 deraadt Exp $
@


1.33
log
@Add sti@@dio attachments.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.32 2011/08/18 19:54:16 miod Exp $
d53 1
a53 1
config		bsd	root on rd0 swap on rd0 and hd0b and sd0b
@


1.32
log
@Because model 362 does not have an SGC bus (or a blind, deaf and mute one),
there is no way we can tell models 360 and 362 apart by probing for an SGC
bus, or for a frodo(4) chip since of the `lil' black swan' 3x2 models, only
model 382 has frodo. So don't bother trying to tell models 360 and 362
apart, and use a common 36X symbol. No functional change except for useless
code removal.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.31 2011/06/29 20:52:09 matthew Exp $
d106 4
d112 1
a112 1
wsdisplay*	at sti?
@


1.31
log
@Replace all instances of "scsibus* at hba?" with a single "scsibus* at
scsi?" rule, similar to how ethernet PHY drivers attach at mii.

Discussed on icb.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.30 2008/06/08 20:37:39 deraadt Exp $
d69 1
a69 1
# Frodo utility chip found on 362, 382 and 4xx's
@


1.30
log
@alpha/conf/RAMDISK
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.29 2007/05/01 15:22:23 deraadt Exp $
a130 1
scsibus*	at spc?
d132 1
@


1.29
log
@RAMDISK kernels do not need DIAGNOSTIC
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.28 2006/07/09 19:45:01 miod Exp $
a33 1
option		FIFO		# FIFOs; RECOMMENDED
@


1.28
log
@68020-based hp300 systems are not supported anymore now. If you still use
any, I'll suggest you buy a boat so that they can be recycled as boat anchors.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.27 2006/04/14 21:05:43 miod Exp $
a25 2

option		DIAGNOSTIC	# internal consistency checks
@


1.27
log
@Minimal support for the HP98705 ``Tigershark'' TurboVRX frame buffer
(using an overlay plane only for now). Bootblocks, text console and X11
are supported.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.26 2005/09/27 22:05:36 miod Exp $
a8 2
option		HP320
option		HP330		# includes 318, 319
a10 1
option		HP350
@


1.26
log
@Identify HP 9000/362 and HP 9000/382 models, and attach frodo on them.
Model 382 can be identified with a unique MMUID value; model 362 is told
from model 360 by probing for the frodo chip. Their built-in frame buffer
is not supported at the moment.

Matching information derived from messages to the NetBSD mailing lists.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.25 2005/05/01 07:54:42 david Exp $
d107 4
@


1.25
log
@spacing; ok miod@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.24 2005/04/22 11:59:11 miod Exp $
d15 1
d19 1
d75 1
a75 1
# Frodo utility chip found on 4xx's
@


1.24
log
@Driver for the Apollo Domain keyboard and mouse, for the HP 9000/4xx series.

Claims the console keyboard if a keyboard is detected at boot time,
otherwise HIL is preferred (but due to wsmux both can be used simultaneously).
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.23 2005/02/27 22:21:47 miod Exp $
d77 1
a77 1
dnkbd0		at frodo? 	# Domain keyboard flavor
@


1.23
log
@Document how to set CONSCODE to point to an SGC device if one wants to force
the console.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.22 2005/01/23 16:53:36 miod Exp $
d77 4
a80 2
#dnkbd0		at frodo? offset 0x0	# Domain keyboard flavor
apci*		at frodo?		# tty flavor
@


1.22
log
@Enable sgc and sti.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.21 2005/01/14 22:39:23 miod Exp $
d45 3
a47 1
#option		CONSCODE="9"	# force console at this select code
@


1.21
log
@Switch OpenBSD/hp300 to wscons, still using on-board ROM fonts for now.

Main features:
- MI hil drivers, allowing live plug/unplug of devices, and the keyboard
  does not need to be at id 1 anymore.
- SGC bus support on 4xx models. SGC frame buffers are supported too, but
  not as console, though you can use them as a regular glass terminal if
  you run a getty on ttyC0. Currently not compiled-in, awaiting for an sti(4)
  fix to be commited.
- HP-UX compatibility interfaces are removed. grfinfo and hilinfo are removed.

X11 support is currently broken by these changes; X.org X11R6 support will
be available very soon.

Tested on hyperion and 4 different flavours of catseye/topcat/kathmandu; other,
older frame buffers (davinci, gatorbox and renaissance) could not been tested
but should work; please report any regression.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.20 2004/09/16 09:14:03 mickey Exp $
d61 1
a61 1
#sgc0		at mainbus0	# SGC bus on some 4xx models
d103 2
a104 2
#sti*		at sgc?
#wsdisplay*	at sti?
@


1.20
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.19 2004/08/25 21:00:37 miod Exp $
d9 3
a11 3
option	 	HP320
option	 	HP330		# includes 318, 319
option	 	HP340
d13 5
a17 5
option	 	HP350
option	 	HP360
option	 	HP370
option	 	HP375
option	 	HP380
d19 3
a21 3
option	 	HP400
option	 	HP425
option	 	HP433
d44 1
a44 1
option	 	USELEDS		# make the lights twinkle
a45 2
option	 	UK_KEYBOARD	# include United Kingdom HIL keymap
option	 	SE_KEYBOARD	# include Swedish HIL keymap
d49 1
a49 1
option	 	DIOVERBOSE	# recognize "unknown" DIO devices
d61 9
d81 1
d86 1
d90 1
d95 1
d100 1
d102 3
a104 9
# Framebuffer abstraction
grf*		at dvbox?
grf*		at gbox?
grf*		at hyper?
grf*		at rbox?
grf*		at topcat?

# Internal Terminal Emulator
ite*		at grf?
@


1.19
log
@Allow DMA transfers to be disabled through device flags; default is to enable
DMA.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.18 2004/08/22 21:31:33 miod Exp $
d69 1
a69 1
apci*		at frodo? offset ?	# tty flavor
d73 1
a73 1
dvbox*		at dio? scode ?
d77 1
a77 1
gbox*		at dio? scode ?
d80 1
a80 1
hyper*		at dio? scode ?
d84 1
a84 1
rbox*		at dio? scode ?
d88 1
a88 1
topcat*		at dio? scode ?
d100 2
a101 2
dca0		at dio? scode 9	flags 1	  # DCA serial interfaces
dca*		at dio? scode ?
d103 1
a103 1
dcm*		at dio? scode ?	flags 0xe # DCM 4- or 8-port serial interfaces
d105 1
a105 1
le*		at dio? scode ?		# LANCE ethernet interfaces
d108 1
a108 1
nhpib*		at dio? scode ?
d110 1
a110 1
fhpib*		at dio? scode ?		# `fast' HP-IB
d116 3
a118 3
hd*		at hpibbus? slave ? punit ?	# HP-IB disks
ct*		at hpibbus? slave ? punit ?	# HP-IB cartridge tapes
mt*		at hpibbus? slave ? punit ?	# HP-IB 9-track tape
d120 1
a120 1
spc*		at dio? scode ? flags 0x00	# SCSI controller
d123 3
a125 3
sd*		at scsibus? target ? lun ?	# SCSI disks
st*		at scsibus? target ? lun ?	# SCSI tapes
cd*		at scsibus? target ? lun ?	# SCSI CD-ROMs
@


1.18
log
@Crank maxusers to 32; 16 is not enough to workaround the 68040-pmap problem
on some machines, and I probably won't have time to fix it properly
for this release.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.17 2004/08/04 20:14:39 miod Exp $
d120 1
a120 1
spc*		at dio? scode ?		# SCSI controller
@


1.17
log
@Crank maxusers to 32 on m68k GENERIC kernels, and to 16 on m68k installation
media.

The latter is to work around a pmap issue on 680[46]0, for which either
a kluge or a real fix look very ugly.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.16 2004/08/03 21:46:54 miod Exp $
d23 1
a23 1
maxusers	16
@


1.16
log
@Replace the old 4.4BSD scsi code used on hp300 with a ``real'' driver
interfaced with the MI scsi code.

Adapted from NetBSD with some changes (especially to get tape and old
cd-rom drives to not cause the driver to spin during probe).

Tested by millert@@ and I, ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.15 2001/11/25 23:23:45 miod Exp $
d23 1
a23 1
maxusers	8
@


1.15
log
@Extend the magic formulae to choose option FPSP only if 68040 processor
support needed.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.14 2001/10/10 23:43:42 millert Exp $
d120 2
a121 1
oscsi*		at dio? scode ?		# Old HP SCSI
d123 3
a125 3
sd*		at oscsi? target ? lun ?	# SCSI disks
st*		at oscsi? target ? lun ?	# SCSI tapes
ac*		at oscsi? target ? lun ?	# SCSI changers
@


1.14
log
@gc SWAPPAGER and DEVPAGER options
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.13 2001/10/06 18:07:54 miod Exp $
a43 1
option	 	FPSP		# floating point interface for 68040
@


1.13
log
@Remove MSDOSFS support from the ramdisk.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.12 2001/06/27 05:46:12 art Exp $
a26 3

option		SWAPPAGER	# paging; REQUIRED
option		DEVPAGER	# mmap() of devices
@


1.12
log
@UVM is no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.11 2001/06/23 19:46:57 deraadt Exp $
d39 1
a39 1
option		MSDOSFS		# MS-DOS file system
@


1.11
log
@no more kernfs
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.10 2001/05/17 00:57:53 pvalchev Exp $
a21 2

option		UVM		# use the UVM virtual memory system
@


1.10
log
@It's Daylight Saving Time, not Savings.  Fix comments.
Discussed with pjanzen@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.9 2001/05/04 22:48:58 aaron Exp $
a42 1
option		KERNFS		# /kern
@


1.9
log
@Substantial update from NetBSD, most notably gives us UVM support; millert@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.8 2000/10/31 16:52:50 millert Exp $
d28 1
a28 1
option		DST=0		# daylight savings time used by RTC
@


1.8
log
@Trim the fat, needs testing.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7 1999/08/15 07:42:45 downsj Exp $
d22 2
@


1.7
log
@Add missing HP385 defines...
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.6 1997/10/20 01:49:02 downsj Exp $
a7 3
# Include all GENERIC options
include "../../../conf/GENERIC"

a22 1
# Need to set locally
d25 22
a49 1
#option		PANICBUTTON	# two fast <reset>s on HIL dump kernel
a53 13
# This option enables a different copyin/copyout that uses page
# mapping for large copies.
#option	 	MAPPEDCOPY	# different copyin/copyout for large copies

#
# HP-UX binary compatibility.
# NOTE: THIS IS STILL VERY EXPERIMENTAL.  YOUR MILEAGE MAY VARY.
#
#option	 	COMPAT_HPUX	# HP-UX binary compatibility

#option	 	COMPAT_M68K4K	# compat. with NetBSD/m68k4k binaries
#option		COMPAT_SUNOS	# SunOS/sun3 binaries

d62 1
a62 1
config		bsd root rd0 swap rd0
a123 1
ppi0		at hpibbus0 slave 5 punit 0	# HP-IB plotter
d131 4
a134 1
pseudo-device	rd 2
@


1.7.4.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.8 2000/10/31 16:52:50 millert Exp $
d8 3
d26 1
a28 22
option		TIMEZONE=0	# time zone to adjust RTC time by
option		DST=0		# daylight savings time used by RTC

option		SWAPPAGER	# paging; REQUIRED
option		DEVPAGER	# mmap() of devices

option		DIAGNOSTIC	# internal consistency checks

option		FFS		# UFS
#option		EXT2FS		# Linux ext2fs

option		NFSCLIENT	# Network File System client

option		CD9660		# ISO 9660 + Rock Ridge file system
option		MSDOSFS		# MS-DOS file system
option		FIFO		# FIFOs; RECOMMENDED
option		KERNFS		# /kern

option		INET		# IP + ICMP + TCP + UDP

option		BOOT_CONFIG	# add support for boot -c

d32 1
d37 13
d58 1
a58 1
config		bsd	root on rd0 swap on rd0 and hd0b and sd0b
d120 1
d128 1
a128 4
pseudo-device	loop	1	# network loopback
pseudo-device	pty	16	# pseudo-terminals
pseudo-device	bpfilter 1	# packet filter
pseudo-device	rd	1	# ramdisk
@


1.7.4.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7.4.1 2001/04/18 16:05:32 niklas Exp $
d26 1
a26 1
option		DST=0		# daylight saving time used by RTC
d41 1
@


1.7.4.3
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7.4.2 2001/07/04 10:15:22 niklas Exp $
d28 3
d39 1
a39 1
#option		MSDOSFS		# MS-DOS file system
@


1.7.4.4
log
@Merge in -current
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7.4.3 2001/10/31 02:52:46 nate Exp $
d44 1
@


1.6
log
@Sync with GENERIC.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.5 1997/07/06 08:06:40 downsj Exp $
d21 1
@


1.5
log
@Match changes to other configs, missed in last commit.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.3 1997/04/17 08:21:55 downsj Exp $
d14 1
a14 1
option		HP340
d16 8
a23 8
option		HP350
option		HP360
option		HP370
option		HP375
option		HP380
option		HP400
option		HP425
option		HP433
d47 1
@


1.4
log
@Sync with changes from NetBSD, up to 970705.

This includes all of the new frodo drivers, from Michael Smith, hacked up
by Jason R. Thorpe; other changes, mostly configuration and/or m68k
abstraction related, from Thorpe.  A few others of my own.

This compiles and runs, have not yet tested Domain kbd or apci ports.
@
text
@d14 10
a23 6
option	 	HP340
option	 	HP350
option	 	HP360
option	 	HP370
option	 	HP375		# includes 345, 400t, 400s
option	 	HP380		# includes 425t, 425s, 433s
d62 7
@


1.3
log
@Add back rd devices.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.2 1997/04/16 11:55:54 downsj Exp $
d22 1
a22 1
maxusers	16
@


1.2
log
@Merge portions of NetBSD up to 970415.

This includes:
	* All of the prototyping and KNF changes.
	* The new interrupt system.
	* Portions of the Domain Keyboard support from Mike Smith.

This does not include:
	* m68k changes, namely generic dumps.

Various sundry changes and fixes by me.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.1 1997/02/23 01:19:08 downsj Exp $
d114 2
@


1.1
log
@s/MINIROOT/RAMDISK/g
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.3 1997/02/16 17:54:38 downsj Exp $
d48 4
a113 4

option		MINIROOTSIZE=4096
option		RAMDISK_HOOKS
pseudo-device	rd 2
@
