head	1.56;
access;
symbols
	OPENBSD_5_5:1.55.0.12
	OPENBSD_5_5_BASE:1.55
	OPENBSD_5_4:1.55.0.8
	OPENBSD_5_4_BASE:1.55
	OPENBSD_5_3:1.55.0.6
	OPENBSD_5_3_BASE:1.55
	OPENBSD_5_2:1.55.0.4
	OPENBSD_5_2_BASE:1.55
	OPENBSD_5_1_BASE:1.55
	OPENBSD_5_1:1.55.0.2
	OPENBSD_5_0:1.52.0.2
	OPENBSD_5_0_BASE:1.52
	OPENBSD_4_9:1.51.0.2
	OPENBSD_4_9_BASE:1.51
	OPENBSD_4_8:1.50.0.2
	OPENBSD_4_8_BASE:1.50
	OPENBSD_4_7:1.47.0.12
	OPENBSD_4_7_BASE:1.47
	OPENBSD_4_6:1.47.0.14
	OPENBSD_4_6_BASE:1.47
	OPENBSD_4_5:1.47.0.10
	OPENBSD_4_5_BASE:1.47
	OPENBSD_4_4:1.47.0.8
	OPENBSD_4_4_BASE:1.47
	OPENBSD_4_3:1.47.0.6
	OPENBSD_4_3_BASE:1.47
	OPENBSD_4_2:1.47.0.4
	OPENBSD_4_2_BASE:1.47
	OPENBSD_4_1:1.47.0.2
	OPENBSD_4_1_BASE:1.47
	OPENBSD_4_0:1.46.0.2
	OPENBSD_4_0_BASE:1.46
	OPENBSD_3_9:1.44.0.2
	OPENBSD_3_9_BASE:1.44
	OPENBSD_3_8:1.42.0.2
	OPENBSD_3_8_BASE:1.42
	OPENBSD_3_7:1.37.0.2
	OPENBSD_3_7_BASE:1.37
	OPENBSD_3_6:1.32.0.2
	OPENBSD_3_6_BASE:1.32
	SMP_SYNC_A:1.30
	SMP_SYNC_B:1.30
	OPENBSD_3_5:1.30.0.12
	OPENBSD_3_5_BASE:1.30
	OPENBSD_3_4:1.30.0.10
	OPENBSD_3_4_BASE:1.30
	UBC_SYNC_A:1.30
	OPENBSD_3_3:1.30.0.8
	OPENBSD_3_3_BASE:1.30
	OPENBSD_3_2:1.30.0.6
	OPENBSD_3_2_BASE:1.30
	OPENBSD_3_1:1.30.0.4
	OPENBSD_3_1_BASE:1.30
	UBC_SYNC_B:1.30
	UBC:1.30.0.2
	UBC_BASE:1.30
	OPENBSD_3_0:1.28.0.2
	OPENBSD_3_0_BASE:1.28
	OPENBSD_2_9:1.25.0.2
	OPENBSD_2_9_BASE:1.25
	OPENBSD_2_8:1.24.0.6
	OPENBSD_2_8_BASE:1.24
	OPENBSD_2_7:1.24.0.4
	OPENBSD_2_7_BASE:1.24
	SMP:1.24.0.2
	SMP_BASE:1.24
	kame_19991208:1.23
	OPENBSD_2_6:1.23.0.2
	OPENBSD_2_6_BASE:1.23
	OPENBSD_2_5:1.22.0.6
	OPENBSD_2_5_BASE:1.22
	OPENBSD_2_4:1.22.0.4
	OPENBSD_2_4_BASE:1.22
	OPENBSD_2_3:1.22.0.2
	OPENBSD_2_3_BASE:1.22
	OPENBSD_2_2:1.21.0.2
	OPENBSD_2_2_BASE:1.21
	OPENBSD_2_1:1.20.0.2
	OPENBSD_2_1_BASE:1.20
	OPENBSD_2_0:1.9.0.2
	OPENBSD_2_0_BASE:1.9
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.56
date	2014.03.18.22.36.31;	author miod;	state dead;
branches;
next	1.55;

1.55
date	2011.12.21.23.12.03;	author miod;	state Exp;
branches;
next	1.54;

1.54
date	2011.08.18.20.03.38;	author miod;	state Exp;
branches;
next	1.53;

1.53
date	2011.08.18.19.54.16;	author miod;	state Exp;
branches;
next	1.52;

1.52
date	2011.06.29.20.52.09;	author matthew;	state Exp;
branches;
next	1.51;

1.51
date	2010.11.19.20.52.39;	author miod;	state Exp;
branches;
next	1.50;

1.50
date	2010.07.03.03.59.16;	author krw;	state Exp;
branches;
next	1.49;

1.49
date	2010.07.02.19.57.14;	author tedu;	state Exp;
branches;
next	1.48;

1.48
date	2010.06.29.20.30.32;	author guenther;	state Exp;
branches;
next	1.47;

1.47
date	2007.01.06.20.17.59;	author miod;	state Exp;
branches;
next	1.46;

1.46
date	2006.07.09.19.45.01;	author miod;	state Exp;
branches;
next	1.45;

1.45
date	2006.04.14.21.05.43;	author miod;	state Exp;
branches;
next	1.44;

1.44
date	2006.02.14.18.11.03;	author miod;	state Exp;
branches;
next	1.43;

1.43
date	2005.09.27.22.05.36;	author miod;	state Exp;
branches;
next	1.42;

1.42
date	2005.08.03.02.10.43;	author dlg;	state Exp;
branches;
next	1.41;

1.41
date	2005.05.01.07.54.42;	author david;	state Exp;
branches;
next	1.40;

1.40
date	2005.04.30.00.49.36;	author deraadt;	state Exp;
branches;
next	1.39;

1.39
date	2005.04.30.00.36.04;	author deraadt;	state Exp;
branches;
next	1.38;

1.38
date	2005.04.22.11.59.11;	author miod;	state Exp;
branches;
next	1.37;

1.37
date	2005.02.27.22.21.47;	author miod;	state Exp;
branches;
next	1.36;

1.36
date	2005.01.23.16.53.36;	author miod;	state Exp;
branches;
next	1.35;

1.35
date	2005.01.18.19.13.23;	author miod;	state Exp;
branches;
next	1.34;

1.34
date	2005.01.14.22.39.23;	author miod;	state Exp;
branches;
next	1.33;

1.33
date	2004.09.16.09.14.03;	author mickey;	state Exp;
branches;
next	1.32;

1.32
date	2004.08.25.21.00.37;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2004.08.03.21.46.54;	author miod;	state Exp;
branches;
next	1.30;

1.30
date	2001.12.06.01.03.42;	author miod;	state Exp;
branches;
next	1.29;

1.29
date	2001.11.25.23.23.45;	author miod;	state Exp;
branches;
next	1.28;

1.28
date	2001.08.19.17.06.42;	author miod;	state Exp;
branches;
next	1.27;

1.27
date	2001.06.27.05.46.12;	author art;	state Exp;
branches;
next	1.26;

1.26
date	2001.05.04.22.48.58;	author aaron;	state Exp;
branches;
next	1.25;

1.25
date	2001.03.08.03.37.17;	author itojun;	state Exp;
branches;
next	1.24;

1.24
date	2000.01.09.22.00.19;	author itojun;	state Exp;
branches
	1.24.2.1;
next	1.23;

1.23
date	99.06.13.06.27.12;	author downsj;	state Exp;
branches;
next	1.22;

1.22
date	97.11.06.19.42.30;	author millert;	state Exp;
branches;
next	1.21;

1.21
date	97.07.06.08.01.42;	author downsj;	state Exp;
branches;
next	1.20;

1.20
date	97.04.17.08.21.54;	author downsj;	state Exp;
branches;
next	1.19;

1.19
date	97.04.16.11.55.53;	author downsj;	state Exp;
branches;
next	1.18;

1.18
date	97.02.24.01.16.07;	author downsj;	state Exp;
branches;
next	1.17;

1.17
date	97.02.16.14.37.08;	author downsj;	state Exp;
branches;
next	1.16;

1.16
date	97.02.16.10.42.16;	author downsj;	state Exp;
branches;
next	1.15;

1.15
date	97.02.10.06.43.28;	author downsj;	state Exp;
branches;
next	1.14;

1.14
date	97.02.05.17.41.51;	author downsj;	state Exp;
branches;
next	1.13;

1.13
date	97.02.03.08.11.52;	author downsj;	state Exp;
branches;
next	1.12;

1.12
date	97.02.03.04.47.05;	author downsj;	state Exp;
branches;
next	1.11;

1.11
date	97.01.18.08.16.56;	author downsj;	state Exp;
branches;
next	1.10;

1.10
date	97.01.12.15.12.13;	author downsj;	state Exp;
branches;
next	1.9;

1.9
date	96.09.20.06.45.03;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	96.08.31.02.09.11;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	96.06.25.20.55.37;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	96.06.24.17.02.24;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	96.06.23.11.47.01;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	96.04.25.06.36.19;	author mickey;	state Exp;
branches;
next	1.3;

1.3
date	96.01.05.13.33.36;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.12.14.05.28.21;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.50.16;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.50.16;	author deraadt;	state Exp;
branches;
next	;

1.24.2.1
date	2001.04.18.16.05.31;	author niklas;	state Exp;
branches;
next	1.24.2.2;

1.24.2.2
date	2001.07.04.10.15.21;	author niklas;	state Exp;
branches;
next	1.24.2.3;

1.24.2.3
date	2001.10.31.02.52.46;	author nate;	state Exp;
branches;
next	1.24.2.4;

1.24.2.4
date	2001.12.05.00.39.09;	author niklas;	state Exp;
branches;
next	1.24.2.5;

1.24.2.5
date	2002.03.06.00.57.22;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.56
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@#	$OpenBSD: GENERIC,v 1.55 2011/12/21 23:12:03 miod Exp $
#
# For further information on compiling OpenBSD kernels, see the config(8)
# man page.
#
# For further information on hardware support for this architecture, see
# the intro(4) man page.  For further information about kernel options
# for this architecture, see the options(4) man page.  For an explanation
# of each device driver in this file see the section 4 man page for the
# device.

machine		hp300 m68k
include		"../../../conf/GENERIC"
maxusers	32			# estimated number of users

# Support for various CPU types
option		HP340
option		HP345
option		HP360
option		HP362
option		HP370
option		HP375
option		HP380
option		HP382
option		HP385
option		HP400
option		HP425
option		HP433

# Options for HP hardware
option		USELEDS		# make the lights twinkle
#option		CONSCODE="9"	# force console at this select code for DIO
				# or DIO-II devices, or 256 + slot number
				# for SGC devices

option	WSDISPLAY_COMPAT_RAWKBD		# provide raw scancodes; needed for X11

# Verbose descriptions of unconfigured DIO devices
# (Warning: this compiles in a large string table)
option		DIOVERBOSE	# recognize "unknown" DIO devices

config		bsd swap generic

mainbus0	at root		# root "bus"

intio0		at mainbus0	# internal i/o space
dio0		at mainbus0	# DIO/DIO-II bus
sgc0		at mainbus0	# SGC bus on some 4xx models

# Human Interface Loop devices
hil0		at intio?	# HIL controller
hilkbd*		at hil?		# keyboards
wskbd*		at hilkbd? mux 1
hilms*		at hil?		# mice, buttons and tablets
wsmouse*	at hilms? mux 0
hilid*		at hil?		# ID module

# Frodo utility chip found on 382 and 4xx's
frodo0		at intio?
#isabr0		at frodo0	# ISA slot on some 4xx models

# 8250-like serial ports found on Frodo ASIC
dnkbd0		at frodo?	# Domain keyboard flavor
wskbd*		at dnkbd? mux 1
wsmouse*	at dnkbd? mux 0
apci*		at frodo?	# tty flavor

# Davinci framebuffer
dvbox*		at intio?
dvbox*		at dio?
wsdisplay*	at dvbox?

# Gatorbox framebuffer
gbox*		at intio?
gbox*		at dio?
wsdisplay*	at gbox?

# Hyperion framebuffer
hyper*		at dio?
wsdisplay*	at hyper?

# Renaissance framebuffer
rbox*		at intio?
rbox*		at dio?
wsdisplay*	at rbox?

# Topcat/catseye framebuffers
topcat*		at intio?
topcat*		at dio?
wsdisplay*	at topcat?

# TurboVRX framebuffer
tvrx*		at dio?
wsdisplay*	at tvrx?

# 362/382 built-in framebuffer
sti*		at dio?
wsdisplay*	at sti?

# SGC framebuffers
sti*		at sgc?
#wsdisplay*	at sti?		# already done above

dca0		at dio? scode 9 flags 1	# DCA serial interfaces
dca*		at dio?

dcm*		at dio? flags 0xe	# DCM 4- or 8-port serial interfaces

le*		at dio?			# LANCE ethernet interfaces

nhpib0		at dio? scode 7		# slow internal HP-IB
nhpib*		at dio?

fhpib*		at dio?			# `fast' HP-IB

hpibbus0	at nhpib0
hpibbus*	at nhpib?
hpibbus*	at fhpib?

hd*		at hpibbus?			# HP-IB disks
ct*		at hpibbus?			# HP-IB cartridge tapes
mt*		at hpibbus?			# HP-IB 9-track tape
ppi0		at hpibbus0 slave 5 punit 0	# HP-IB plotter

spc*		at dio? flags 0x00		# SCSI controller

scsibus*	at scsi?
sd*		at scsibus?			# SCSI disks
st*		at scsibus?			# SCSI tapes
cd*		at scsibus?			# SCSI CD-ROMs
ch*		at scsibus?			# SCSI changer devices
safte*		at scsibus?			# SCSI AF-TE
ses*		at scsibus?			# SCSI enclosure services
uk*		at scsibus?			# unknown SCSI devices

# 425e digital audio
arcofi*		at dio?
audio*		at arcofi?

# ISA devices
#isa*		at isabr?

pseudo-device	hotplug		1	# devices hot plugging
pseudo-device	wsmux		2	# mouse and keyboard multiplexor
@


1.55
log
@Work-in-progress driver for the HP ``Audio1'' device found on the HP 9000/425e
(hp300) and the HP9000/705 and 9000/710 (hppa). 8-bit mono, 8KHz, no surprise
since it is based upon a digital phone chip.
Tested on 425e only so far, and playback only; configured in, but disabled,
on hppa kernels until there are positive test reports (I am not sure the
interrupt assignment on hppa is correct).
And now people no longer can joke about audio on hp300.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.54 2011/08/18 20:03:38 miod Exp $
@


1.54
log
@Add sti@@dio attachments.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.53 2011/08/18 19:54:16 miod Exp $
d135 4
@


1.53
log
@Because model 362 does not have an SGC bus (or a blind, deaf and mute one),
there is no way we can tell models 360 and 362 apart by probing for an SGC
bus, or for a frodo(4) chip since of the `lil' black swan' 3x2 models, only
model 382 has frodo. So don't bother trying to tell models 360 and 362
apart, and use a common 36X symbol. No functional change except for useless
code removal.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.52 2011/06/29 20:52:09 matthew Exp $
d96 4
d102 1
a102 1
wsdisplay*	at sti?
@


1.52
log
@Replace all instances of "scsibus* at hba?" with a single "scsibus* at
scsi?" rule, similar to how ethernet PHY drivers attach at mii.

Discussed on icb.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.51 2010/11/19 20:52:39 miod Exp $
d58 1
a58 1
# Frodo utility chip found on 362, 382 and 4xx's
@


1.51
log
@add pseudo-device hotplug.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.50 2010/07/03 03:59:16 krw Exp $
a121 1
scsibus*	at spc?
d123 1
@


1.50
log
@No more ss(4) or usscanner(4). Unused, unloved and unmaintained.
General huzzahs.

"go for it" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.49 2010/07/02 19:57:14 tedu Exp $
d135 2
a136 1
pseudo-device	wsmux	2	# mouse and keyboard multiplexor
@


1.49
log
@remove support for compat_sunos (and m68k4k).  ok deraadt guenther
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.48 2010/06/29 20:30:32 guenther Exp $
a127 1
ss*		at scsibus?			# SCSI scanners
@


1.48
log
@Remove COMPAT_HPUX.  No one wanted to support it and its fewmets were
blocking other cleanups
ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.47 2007/01/06 20:17:59 miod Exp $
a36 3

option		COMPAT_M68K4K	# compat. with NetBSD/m68k4k binaries
option		COMPAT_SUNOS	# SunOS/sun3 binaries
@


1.47
log
@Add commented out ISA entries.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.46 2006/07/09 19:45:01 miod Exp $
a37 1
option		COMPAT_HPUX	# HP-UX binary compatibility
@


1.46
log
@68020-based hp300 systems are not supported anymore now. If you still use
any, I'll suggest you buy a boat so that they can be recycled as boat anchors.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.45 2006/04/14 21:05:43 miod Exp $
d64 1
d136 3
@


1.45
log
@Minimal support for the HP98705 ``Tigershark'' TurboVRX frame buffer
(using an overlay plane only for now). Bootblocks, text console and X11
are supported.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.44 2006/02/14 18:11:03 miod Exp $
a16 2
option		HP320
option		HP330		# includes 318, 319
a18 1
option		HP350
@


1.44
log
@Homogeneize WSDISPLAY_* option comments (especially on cats)
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.43 2005/09/27 22:05:36 miod Exp $
d97 4
@


1.43
log
@Identify HP 9000/362 and HP 9000/382 models, and attach frodo on them.
Model 382 can be identified with a unique MMUID value; model 362 is told
from model 360 by probing for the frodo chip. Their built-in frame buffer
is not supported at the moment.

Matching information derived from messages to the NetBSD mailing lists.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.42 2005/08/03 02:10:43 dlg Exp $
d39 1
a39 1
option		WSDISPLAY_COMPAT_RAWKBD		# provide raw scancodes
@


1.42
log
@enable safte and ses on all archs that appear to have real scsi busses

ok deraadt@@ beck@@ marco@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.41 2005/05/01 07:54:42 david Exp $
d23 1
d27 1
d65 1
a65 1
# Frodo utility chip found on 4xx's
@


1.41
log
@spacing; ok miod@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.40 2005/04/30 00:49:36 deraadt Exp $
d129 2
@


1.40
log
@start the job of making things look more alike
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.39 2005/04/30 00:36:04 deraadt Exp $
d67 1
a67 1
dnkbd0		at frodo? 	# Domain keyboard flavor
@


1.39
log
@nice docs at top of GENERIC
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.38 2005/04/22 11:59:11 miod Exp $
d12 3
a14 4
machine hp300 m68k

# Include all GENERIC options
include "../../../conf/GENERIC"
a29 3

# Need to set locally
maxusers	32
@


1.38
log
@Driver for the Apollo Domain keyboard and mouse, for the HP 9000/4xx series.

Claims the console keyboard if a keyboard is detected at boot time,
otherwise HIL is preferred (but due to wsmux both can be used simultaneously).
@
text
@d1 1
a1 2
#	$OpenBSD: GENERIC,v 1.37 2005/02/27 22:21:47 miod Exp $
#	$NetBSD: GENERIC,v 1.23 1997/01/31 06:12:57 thorpej Exp $
d3 2
a4 1
# Generic kernel - one size fits all.
d6 5
@


1.37
log
@Document how to set CONSCODE to point to an SGC device if one wants to force
the console.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.36 2005/01/23 16:53:36 miod Exp $
d66 3
a68 1
#dnkbd0		at frodo? offset 0x0	# Domain keyboard flavor
@


1.36
log
@Enable sgc and sti.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.35 2005/01/18 19:13:23 miod Exp $
d32 3
a34 1
#option		CONSCODE="9"	# force console at this select code
@


1.35
log
@Enable WSDISPLAY_COMPAT_RAWKBD
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.34 2005/01/14 22:39:23 miod Exp $
d50 1
a50 1
#sgc0		at mainbus0	# SGC bus on some 4xx models
d92 2
a93 2
#sti*		at sgc?
#wsdisplay*	at sti?
@


1.34
log
@Switch OpenBSD/hp300 to wscons, still using on-board ROM fonts for now.

Main features:
- MI hil drivers, allowing live plug/unplug of devices, and the keyboard
  does not need to be at id 1 anymore.
- SGC bus support on 4xx models. SGC frame buffers are supported too, but
  not as console, though you can use them as a regular glass terminal if
  you run a getty on ttyC0. Currently not compiled-in, awaiting for an sti(4)
  fix to be commited.
- HP-UX compatibility interfaces are removed. grfinfo and hilinfo are removed.

X11 support is currently broken by these changes; X.org X11R6 support will
be available very soon.

Tested on hyperion and 4 different flavours of catseye/topcat/kathmandu; other,
older frame buffers (davinci, gatorbox and renaissance) could not been tested
but should work; please report any regression.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.33 2004/09/16 09:14:03 mickey Exp $
d33 2
@


1.33
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.32 2004/08/25 21:00:37 miod Exp $
d13 3
a15 3
option	 	HP320
option	 	HP330		# includes 318, 319
option	 	HP340
d17 9
a25 9
option	 	HP350
option	 	HP360
option	 	HP370
option	 	HP375
option	 	HP380
option	 	HP385
option	 	HP400
option	 	HP425
option	 	HP433
d31 1
a31 1
option	 	USELEDS		# make the lights twinkle
a32 2
option	 	UK_KEYBOARD	# include United Kingdom HIL keymap
option	 	SE_KEYBOARD	# include Swedish HIL keymap
d34 2
a35 7
#
# HP-UX binary compatibility.
# NOTE: THIS IS STILL VERY EXPERIMENTAL.  YOUR MILEAGE MAY VARY.
#
option	 	COMPAT_HPUX	# HP-UX binary compatibility

option	 	COMPAT_M68K4K	# compat. with NetBSD/m68k4k binaries
d40 1
a40 1
option	 	DIOVERBOSE	# recognize "unknown" DIO devices
d48 9
d68 1
d73 1
d77 1
d82 1
d87 1
d89 3
a91 9
# Framebuffer abstraction
grf*		at dvbox?
grf*		at gbox?
grf*		at hyper?
grf*		at rbox?
grf*		at topcat?

# Internal Terminal Emulator
ite*		at grf?
d93 1
a93 1
dca0		at dio? scode 9	flags 1	# DCA serial interfaces
d96 1
a96 1
dcm*		at dio? flags 0xe # DCM 4- or 8-port serial interfaces
d123 2
@


1.32
log
@Allow DMA transfers to be disabled through device flags; default is to enable
DMA.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.31 2004/08/03 21:46:54 miod Exp $
d61 1
a61 1
apci*		at frodo? offset ?	# tty flavor
d65 1
a65 1
dvbox*		at dio? scode ?
d69 1
a69 1
gbox*		at dio? scode ?
d72 1
a72 1
hyper*		at dio? scode ?
d76 1
a76 1
rbox*		at dio? scode ?
d80 1
a80 1
topcat*		at dio? scode ?
d92 2
a93 2
dca0		at dio? scode 9	flags 1	  # DCA serial interfaces
dca*		at dio? scode ?
d95 1
a95 1
dcm*		at dio? scode ?	flags 0xe # DCM 4- or 8-port serial interfaces
d97 1
a97 1
le*		at dio? scode ?		# LANCE ethernet interfaces
d100 1
a100 1
nhpib*		at dio? scode ?
d102 1
a102 1
fhpib*		at dio? scode ?		# `fast' HP-IB
d108 3
a110 3
hd*		at hpibbus? slave ? punit ?	# HP-IB disks
ct*		at hpibbus? slave ? punit ?	# HP-IB cartridge tapes
mt*		at hpibbus? slave ? punit ?	# HP-IB 9-track tape
d113 1
a113 1
spc*		at dio? scode ? flags 0x00	# SCSI controller
d116 6
a121 6
sd*		at scsibus? target ? lun ?	# SCSI disks
st*		at scsibus? target ? lun ?	# SCSI tapes
cd*		at scsibus? target ? lun ?	# SCSI CD-ROMs
ch*		at scsibus? target ? lun ?	# SCSI changer devices
ss*		at scsibus? target ? lun ?	# SCSI scanners
uk*		at scsibus? target ? lun ?	# unknown SCSI devices
@


1.31
log
@Replace the old 4.4BSD scsi code used on hp300 with a ``real'' driver
interfaced with the MI scsi code.

Adapted from NetBSD with some changes (especially to get tape and old
cd-rom drives to not cause the driver to spin during probe).

Tested by millert@@ and I, ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.30 2001/12/06 01:03:42 miod Exp $
d113 1
a113 1
spc*		at dio? scode ?		# SCSI controller
@


1.30
log
@MAPPEDCOPY no more.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.29 2001/11/25 23:23:45 miod Exp $
d113 2
a114 1
oscsi*		at dio? scode ?		# Old HP SCSI
d116 6
a121 3
sd*		at oscsi? target ? lun ?	# SCSI disks
st*		at oscsi? target ? lun ?	# SCSI tapes
ac*		at oscsi? target ? lun ?	# SCSI changers
@


1.29
log
@Extend the magic formulae to choose option FPSP only if 68040 processor
support needed.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.28 2001/08/19 17:06:42 miod Exp $
a34 4

# This option enables a different copyin/copyout that uses page
# mapping for large copies.
#option	 	MAPPEDCOPY	# different copyin/copyout for large copies
@


1.28
log
@PANICBUTTON no more.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.27 2001/06/27 05:46:12 art Exp $
a30 1
option	 	FPSP		# floating point interface for 68040
@


1.27
log
@UVM is no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.26 2001/05/04 22:48:58 aaron Exp $
a32 1
#option		PANICBUTTON	# two fast <reset>s on HIL dump kernel
@


1.26
log
@Substantial update from NetBSD, most notably gives us UVM support; millert@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.25 2001/03/08 03:37:17 itojun Exp $
a25 2

option		UVM		# use the UVM virtual memory system
@


1.25
log
@move gif* and faith* into sys/conf/GENERIC.  deraadt and angelos ok
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.24 2000/01/09 22:00:19 itojun Exp $
d26 2
@


1.24
log
@add INET6 into conf/GENERIC.
add pseudo-devices for IPv6 into arch/*/conf/GENERIC.
nuke arch/*/conf/GENERIC.v6.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.23 1999/06/13 06:27:12 downsj Exp $
a123 4

# for IPv6
pseudo-device	gif		4
#pseudo-device	faith		1
@


1.24.2.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.25 2001/03/08 03:37:17 itojun Exp $
d124 4
@


1.24.2.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.24.2.1 2001/04/18 16:05:31 niklas Exp $
@


1.24.2.3
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.24.2.2 2001/07/04 10:15:21 niklas Exp $
d33 1
@


1.24.2.4
log
@Merge in -current
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.24.2.3 2001/10/31 02:52:46 nate Exp $
d31 1
@


1.24.2.5
log
@Merge in trunk
@
text
@d1 1
a1 1
#	$OpenBSD$
d35 4
@


1.23
log
@Don't need rd here...
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.22 1997/11/06 19:42:30 millert Exp $
d124 4
@


1.22
log
@Idnetify/support hp385 (33Mhz 68040)
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.21 1997/07/06 08:01:42 downsj Exp $
a123 2

pseudo-device	rd 2
@


1.21
log
@Sync with changes from NetBSD, up to 970705.

This includes all of the new frodo drivers, from Michael Smith, hacked up
by Jason R. Thorpe; other changes, mostly configuration and/or m68k
abstraction related, from Thorpe.  A few others of my own.

This compiles and runs, have not yet tested Domain kbd or apci ports.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.20 1997/04/17 08:21:54 downsj Exp $
d22 1
@


1.20
log
@Add back rd devices.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.19 1997/04/16 11:55:53 downsj Exp $
d16 1
d20 5
a24 2
option	 	HP375		# includes 345, 400t, 400s
option	 	HP380		# includes 425t, 425s, 433s
d60 7
@


1.19
log
@Merge portions of NetBSD up to 970415.

This includes:
	* All of the prototyping and KNF changes.
	* The new interrupt system.
	* Portions of the Domain Keyboard support from Mike Smith.

This does not include:
	* m68k changes, namely generic dumps.

Various sundry changes and fixes by me.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.18 1997/02/24 01:16:07 downsj Exp $
d112 2
@


1.18
log
@Add support for COMPAT_SUNOS and enable it.

hp300 now runs sun3 SunOS executables!
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.17 1997/02/16 14:37:08 downsj Exp $
a111 2

pseudo-device	rd 2
@


1.17
log
@More rd changes that were missed...  Still not working.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.16 1997/02/16 10:42:16 downsj Exp $
d44 1
@


1.16
log
@Add initial ram disk support.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.15 1997/02/10 06:43:28 downsj Exp $
d111 2
@


1.15
log
@Kill COMPAT_NOLABEL.  It is not appropiate in the modern world.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.14 1997/02/05 17:41:51 downsj Exp $
d9 1
a9 1
# Include all GENERIC option	
@


1.14
log
@Make std.hp300 useable for other config files, just don't use it in GENERIC
ones.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.13 1997/02/03 08:11:52 downsj Exp $
a27 1
option	 	COMPAT_NOLABEL	# defaults for unlabeled disks
@


1.13
log
@rd -> hd
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.12 1997/02/03 04:47:05 downsj Exp $
d7 1
a7 2
# Include attributes common to all hp300s
include "arch/hp300/conf/std.hp300"
@


1.12
log
@Merge new config(8) support from NetBSD, by Jason Thorpe.
Also add siginfo glue, BOOT_CONFIG, and various other changes.
@
text
@d1 1
a1 1
#	$OpenBSD$
d103 1
a103 1
rd*		at hpibbus? slave ? punit ?	# HP-IB disks
@


1.11
log
@Add stuff from /sys/conf/GENERIC, including IPFILTER.
@
text
@d1 2
a2 2
#	$OpenBSD: GENERIC,v 1.10 1997/01/12 15:12:13 downsj Exp $
#	$NetBSD: GENERIC,v 1.16 1996/12/11 09:10:40 thorpej Exp $
a5 1
machine		"hp300"
d7 15
a21 9
cpu             "HP320"
cpu             "HP330"         # includes 318, 319
cpu             "HP340"
cpu             "HP350"
cpu		"HP360"
cpu		"HP370"
cpu		"HP375"		# includes 345, 400t, 400s
cpu		"HP380"		# includes 425t, 425s, 433s
ident		GENERIC
a23 1
timezone	8 dst
a25 36
# Standard system options
options		SWAPPAGER		# swap pager (anonymous and swap space)
options		DEVPAGER		# device pager (mapped devices)
options         "COMPAT_43"             # compatibility with 4.3BSD interfaces
options         "COMPAT_44"             # compatibility with 4.4BSD binaries
options         "COMPAT_09"             # compatibility with NetBSD 0.9
options		"COMPAT_10"		# compatibility with NetBSD 1.0
options		COMPAT_M68K4K		# NetBSD compatibility
options         SYSVSHM                 # System V-style shared memory
options         SYSVSEM                 # System V-style semaphores
options         SYSVMSG                 # System V-style message queues
options         KTRACE                  # system call tracing support
options		"NKMEMCLUSTERS=1024"	# 4K pages in kernel malloc pool

# Filesystem options
options		FIFO		# POSIX fifo support (in all filesystems)
options		FFS,QUOTA	# fast filesystem with user and group quotas
options         "CD9660"        # CD-ROM ISO-9660 filesystem
options		NFSSERVER	# Network filesystem server
options		NFSCLIENT	# Network filesystem client
options		UNION		# Union filesystem (req. for FDESC)
options		KERNFS		# kernel data-structure filesystem
options		FDESC		# user file descriptor filesystem
options		PROCFS		# /proc filesystem
options		PORTAL		# create sockets with open(2)
options		UMAPFS		# NULLFS + uid and gid remapping
options		NULLFS		# loopback file system
options		MFS		# Memory-based filesystem

# Networking options
options		INET		# Internet protocols
#options	GATEWAY		# IP forwarding + larger mb_map
options		MROUTING	# Multicast routing
options		IPFILTER	# IP packet filter for security
#options	"TCP_COMPAT_42"	# compatibility with 4.2BSD TCP/IP

d27 11
a37 7
options		FPSP		# floating point interface for 68040
options		USELEDS		# make the lights twinkle
options		COMPAT_NOLABEL	# defaults for unlabeled disks
#options	PANICBUTTON	# two fast <reset>s on HIL dump kernel
#options	CONSCODE="9"	# force console at this select code
options		UK_KEYBOARD	# include United Kingdom HIL keymap
options		SE_KEYBOARD	# include Swedish HIL keymap
d43 1
a43 1
options	COMPAT_HPUX		# HP-UX binary compatibility
d45 5
a49 2
# Debugging options
options		DDB		# Kernel Dynamic Debugger
d53 60
a112 54
master		hpib0	at scode7
master		hpib1	at scode?
master		hpib2	at scode?
master		hpib3	at scode?
disk		rd0	at hpib? slave ?
disk		rd1	at hpib? slave ?
disk		rd2	at hpib? slave ?
disk		rd3	at hpib? slave ?
disk		rd4	at hpib? slave ?
disk		rd5	at hpib? slave ?
disk		rd6	at hpib? slave ?
tape		ct0	at hpib0 slave ?
tape		ct1	at hpib0 slave ? flags 1
tape		mt0	at hpib0 slave ?
device		ppi0	at hpib0 slave 5

master		scsi0	at scode?
master		scsi1	at scode?
master		scsi2	at scode?
master		scsi3	at scode?
disk		sd0	at scsi? slave ?
disk		sd1	at scsi? slave ?
disk		sd2	at scsi? slave ?
disk		sd3	at scsi? slave ?
disk		sd4	at scsi? slave ?
disk		sd5	at scsi? slave ?
disk		sd6	at scsi? slave ?
disk		sd7	at scsi? slave ?
disk		sd8	at scsi? slave ?
disk		sd9	at scsi? slave ?
tape		st0	at scsi? slave ?
tape		st1	at scsi? slave ?

device		dca0	at scode9 flags 1
device		dca1	at scode?

device		dcm0	at scode? flags 0xe
device		dcm1	at scode? flags 0xe

device		le0	at scode?
device		le1	at scode?

device		grf0	at scode?
device		grf1	at scode?

pseudo-device	pty		64	# pseudo ptys
pseudo-device	sl		4	# SLIP network interfaces
pseudo-device	ppp		4	# PPP network interfaces
pseudo-device	bpfilter	16	# Berkeley packet filter
pseudo-device	vnd		4	# vnode pseudo-disks
pseudo-device	ccd		4	# concatenated disk devices
pseudo-device	ite			# terminal emulation on grf
pseudo-device	loop			# loopback network interface
pseudo-device	ether			# basic ethernet support
@


1.10
log
@Mostly sync to NetBSD-current of 011196.  Compiles, links, boots to single
user.

KNOWN NOT WORKING:
	* DIO-II devices
	* Dynamic executables

NOT EVEN TRIED:
	* New config support
@
text
@d1 1
a1 1
#	$OpenBSD$
d34 1
a34 1
options		"NKMEMCLUSTERS=1024"	# # 4K pages in kernel malloc pool
d46 3
d53 1
a53 1
options		GATEWAY		# IP forwarding + larger mb_map
d55 2
a56 1
#options		"TCP_COMPAT_42"	# compatibility with 4.2BSD TCP/IP
@


1.9
log
@do not fool people into thinking VNODEPAGER is an option; netbsd pr#2757, erik@@aarhus1.uni-c.dk
@
text
@d1 2
a2 1
#	$NetBSD: GENERIC,v 1.9 1996/02/24 00:54:53 thorpej Exp $
d60 2
a71 2
# If the kernel isn't named `GENERIC', uncomment the line below.
#options	GENERIC		# Generic swap support
@


1.8
log
@disable TCP_COMPAT_42
@
text
@a22 1
options		VNODEPAGER		# vnode pager (mapped files)
@


1.7
log
@COMPAT_M68K4K
@
text
@d52 1
a52 1
options		"TCP_COMPAT_42"	# compatibility with 4.2BSD TCP/IP
@


1.6
log
@kernel is /bsd
@
text
@d29 1
a29 1
options		"COMPAT_M68K4K"
@


1.5
log
@sync to 0622
@
text
@d72 1
a72 1
config		netbsd swap generic
@


1.4
log
@sync w/ Net 960424
@
text
@d29 1
@


1.3
log
@from netbsd:
Enable COMPAT_HPUX by default.  It's still not 100% yet, but it doesn't
seem to really hurt anything, either.  Makes it easier for folks using
binary snapshots only to try it out.
GENERIC: now that the PT map allocation is fixed, increase the default
maxusers to 32.
@
text
@d1 1
a1 1
#	$NetBSD: GENERIC,v 1.8 1995/12/29 17:12:48 thorpej Exp $
d58 1
@


1.2
log
@update from netbsd (verbatim)
@
text
@d1 1
a1 1
#	$NetBSD: GENERIC,v 1.7 1995/11/28 08:47:38 thorpej Exp $
d19 1
a19 1
maxusers	16
d63 1
a63 1
#options	COMPAT_HPUX	# HP-UX binary compatibility
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$NetBSD: GENERIC,v 1.6 1995/10/10 02:12:41 thorpej Exp $
d59 4
a62 1
# XXX DOESN'T WORK YET!
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
