head	1.19;
access;
symbols
	OPENBSD_5_5:1.18.0.28
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.18.0.24
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.18.0.22
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.20
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.18
	OPENBSD_5_0:1.18.0.16
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.14
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.18.0.12
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.8
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.18.0.10
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.6
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.17.0.32
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.17.0.30
	OPENBSD_4_1_BASE:1.17
	OPENBSD_4_0:1.17.0.28
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.17.0.26
	OPENBSD_3_9_BASE:1.17
	OPENBSD_3_8:1.17.0.24
	OPENBSD_3_8_BASE:1.17
	OPENBSD_3_7:1.17.0.22
	OPENBSD_3_7_BASE:1.17
	OPENBSD_3_6:1.17.0.20
	OPENBSD_3_6_BASE:1.17
	SMP_SYNC_A:1.17
	SMP_SYNC_B:1.17
	OPENBSD_3_5:1.17.0.18
	OPENBSD_3_5_BASE:1.17
	OPENBSD_3_4:1.17.0.16
	OPENBSD_3_4_BASE:1.17
	UBC_SYNC_A:1.17
	OPENBSD_3_3:1.17.0.14
	OPENBSD_3_3_BASE:1.17
	OPENBSD_3_2:1.17.0.12
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.17.0.10
	OPENBSD_3_1_BASE:1.17
	UBC_SYNC_B:1.17
	UBC:1.17.0.8
	UBC_BASE:1.17
	OPENBSD_3_0:1.17.0.6
	OPENBSD_3_0_BASE:1.17
	OPENBSD_2_9:1.17.0.4
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.17.0.2
	OPENBSD_2_8_BASE:1.17
	OPENBSD_2_7:1.16.0.6
	OPENBSD_2_7_BASE:1.16
	SMP:1.16.0.4
	SMP_BASE:1.16
	kame_19991208:1.16
	OPENBSD_2_6:1.16.0.2
	OPENBSD_2_6_BASE:1.16
	OPENBSD_2_5:1.14.0.8
	OPENBSD_2_5_BASE:1.14
	OPENBSD_2_4:1.14.0.6
	OPENBSD_2_4_BASE:1.14
	OPENBSD_2_3:1.14.0.4
	OPENBSD_2_3_BASE:1.14
	OPENBSD_2_2:1.14.0.2
	OPENBSD_2_2_BASE:1.14
	OPENBSD_2_1:1.10.0.2
	OPENBSD_2_1_BASE:1.10
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.19
date	2014.03.18.22.36.32;	author miod;	state dead;
branches;
next	1.18;

1.18
date	2007.11.26.10.01.42;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2000.05.25.21.54.43;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	99.08.16.09.48.16;	author downsj;	state Exp;
branches
	1.16.4.1;
next	1.15;

1.15
date	99.08.16.09.43.07;	author downsj;	state Exp;
branches;
next	1.14;

1.14
date	97.09.15.06.20.54;	author downsj;	state Exp;
branches;
next	1.13;

1.13
date	97.09.14.12.54.19;	author downsj;	state Exp;
branches;
next	1.12;

1.12
date	97.07.14.08.13.24;	author downsj;	state Exp;
branches;
next	1.11;

1.11
date	97.07.13.07.21.43;	author downsj;	state Exp;
branches;
next	1.10;

1.10
date	97.04.21.07.37.36;	author downsj;	state Exp;
branches;
next	1.9;

1.9
date	97.04.16.12.38.21;	author downsj;	state Exp;
branches;
next	1.8;

1.8
date	97.04.16.11.56.36;	author downsj;	state Exp;
branches;
next	1.7;

1.7
date	97.02.16.19.16.27;	author downsj;	state Exp;
branches;
next	1.6;

1.6
date	97.02.06.02.53.49;	author downsj;	state Exp;
branches;
next	1.5;

1.5
date	97.02.03.07.19.01;	author downsj;	state Exp;
branches;
next	1.4;

1.4
date	97.01.17.08.32.37;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	96.10.24.14.06.25;	author mickey;	state Exp;
branches;
next	1.2;

1.2
date	96.01.16.00.59.04;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.50.26;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.50.26;	author deraadt;	state Exp;
branches;
next	;

1.16.4.1
date	2001.04.18.16.05.45;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@#	$OpenBSD: Makefile,v 1.18 2007/11/26 10:01:42 deraadt Exp $
#	$NetBSD: Makefile,v 1.23 1997/02/04 03:51:37 thorpej Exp $

.if ${MACHINE} == "hp300"
SUBDIR=	libsa libsaz libz common mkboot uboot cdboot installboot
.endif

.include <bsd.subdir.mk>
@


1.18
log
@More LIBKERN bits that go away
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2000/05/25 21:54:43 deraadt Exp $
@


1.17
log
@cause traversal into arch & subdirectories for the purposes of manual page install...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 1999/08/16 09:48:16 downsj Exp $
d5 1
a5 1
SUBDIR=	libsa libsaz libkern libz common mkboot uboot cdboot installboot
@


1.16
log
@Add cdboot...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 1999/08/16 09:43:07 downsj Exp $
d4 1
d6 1
@


1.16.4.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2000/05/25 21:54:43 deraadt Exp $
a3 1
.if ${MACHINE} == "hp300"
a4 1
.endif
@


1.15
log
@Implement real CD booting, aka SYS_CDBOOT, the LIF file small enough to
fit in the begining of an ISO9660 image...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 1997/09/15 06:20:54 downsj Exp $
d4 1
a4 1
SUBDIR=	libsa libsaz libkern libz common mkboot uboot installboot
@


1.14
log
@Add isolif, the last piece of making bootable CDs.  Needs some more work.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 1997/09/14 12:54:19 downsj Exp $
d4 1
a4 1
SUBDIR=	libsa libkern libz common mkboot stripboot uboot installboot isolif
@


1.13
log
@Make and install a raw version of uboot, too.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 1997/07/14 08:13:24 downsj Exp $
d4 1
a4 1
SUBDIR=	libsa libkern libz common mkboot stripboot uboot installboot
@


1.12
log
@The grand reorganization, OpenBSD style.

Lossely based on the NetBSD reorg, but much improved upon, simpler, and doesn't
scribble needless junk into the bootblocks.
@
text
@d1 1
a1 1
#	$OpenBSD$
d4 1
a4 1
SUBDIR=	libsa libkern libz common mkboot uboot installboot
@


1.11
log
@APCI support and new CPU configuration from NetBSD.
Fix all of the include refs.
Bump version number to 2.1.
@
text
@d1 2
a2 3
#	$OpenBSD: Makefile,v 1.10 1997/04/21 07:37:36 downsj Exp $
#	$NetBSD: Makefile,v 1.22 1996/10/18 06:03:25 thorpej Exp $
#	@@(#)Makefile	8.1 (Berkeley) 6/10/93
d4 1
a4 2
NOPROG=	noprog
NOMAN=	noman
d6 1
a6 105
#SUBDIR=	libkern libsa

# RELOC=FFF00000 allows for boot prog up to FF000 (1044480) bytes long
RELOC=	FFF00000

CONS=	-DDCACONSOLE -DITECONSOLE -DDCMCONSOLE -DAPCICONSOLE
CONS+=	-DHIL_KEYBOARD -DUK_KEYBOARD -DDOMAIN_KEYBOARD
DEFS=	-DSTANDALONE ${CONS} -Dhp300
#DEFS+=	-DNETIF_DEBUG -DRPC_DEBUG -DNFS_DEBUG -DRARP_DEBUG -DNET_DEBUG
#DEFS+=	-DLE_DEBUG
CFLAGS=	-O3 -msoft-float ${INCPATH} ${DEFS}

SRCS=	apci.c autoconf.c cons.c ct.c dca.c dcm.c devopen.c dnkbd.c fhpib.c \
	hd.c hil.c hpib.c if_le.c ite.c ite_dv.c ite_gb.c ite_rb.c \
	ite_subr.c ite_tc.c ite_hy.c kbd.c kbdconf.c kbdvar.h machdep.c \
	nhpib.c prf.c scsi.c sd.c version.c
OBJS=	${SRCS:N*.h:R:S/$/.o/g}

S=	${.CURDIR}/../../..

.PATH: ${S}/arch/${MACHINE_ARCH}/${MACHINE_ARCH}
.PATH: ${S}/stand

INCPATH=-I${.CURDIR} -I${.CURDIR}/../.. -I${S} -I${S}/lib/libsa

.include "${.CURDIR}/libkern/Makefile.inc"
LIBKERN=	${KERN_LIB}

### find out what to use for libz
Z_AS=	library
.include "${S}/lib/libz/Makefile.inc"
LIBZ=	${ZLIB}

.include "${.CURDIR}/libsa/Makefile.inc"
LIBSA=	${SA_LIB}

LIBS=	${OBJS} ${LIBSA} ${LIBZ} ${LIBKERN}

BOOTS=	uboot.lif
BOOTAOUTS=uboot
ALL=	${BOOTS} mkboot installboot

all: ${ALL}

${BOOTS}: ${LIBS}

# depend on CFLAGS

${OBJS}: Makefile

# startups

srt0.o: ${.CURDIR}/srt0.s
	${CC} ${INCPATH} ${DEFS} -c ${.CURDIR}/srt0.s

# unified boot program (disk, network, tape)
uboot.lif: uboot mkboot
	./mkboot uboot $@@

uboot:	srt0.o uboot.o tgets.o netio.o clock.o conf.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin srt0.o uboot.o tgets.o netio.o clock.o \
	    conf.o ${LIBS} -o $@@
	@@size $@@
	@@echo $@@ total size should not exceed 1044480 bytes

# helper program ... turns OMAGIC into LIF
mkboot: ${.CURDIR}/mkboot.c
	${CC} ${CFLAGS} ${.CURDIR}/mkboot.c -o $@@

installboot: ${.CURDIR}/installboot.sh
	@@rm -f installboot
	cp -p ${.CURDIR}/installboot.sh installboot

# utilities

clean::
	rm -f *.o *.i
	rm -f a.out ${BOOTS} ${BOOTAOUTS}
	rm -f mkboot installboot

install:
	${INSTALL} -d -m 755 -o ${BINOWN} -g ${BINGRP} \
	    ${DESTDIR}/usr/mdec/rbootd
	${INSTALL} -c -o ${BINOWN} -g ${BINGRP} -m 555 installboot \
	    ${DESTDIR}/usr/mdec
	${INSTALL} -c -o ${BINOWN} -g ${BINGRP} -m 444 uboot.lif \
	    ${DESTDIR}/usr/mdec
	rm -f ${DESTDIR}/usr/mdec/hdboot
	ln ${DESTDIR}/usr/mdec/uboot.lif ${DESTDIR}/usr/mdec/hdboot
	rm -f ${DESTDIR}/usr/mdec/boothd
	ln ${DESTDIR}/usr/mdec/uboot.lif ${DESTDIR}/usr/mdec/boothd
	rm -f ${DESTDIR}/usr/mdec/sdboot
	ln ${DESTDIR}/usr/mdec/uboot.lif ${DESTDIR}/usr/mdec/sdboot
	rm -f ${DESTDIR}/usr/mdec/bootsd
	ln ${DESTDIR}/usr/mdec/uboot.lif ${DESTDIR}/usr/mdec/bootsd
	rm -f ${DESTDIR}/usr/mdec/ctboot
	ln ${DESTDIR}/usr/mdec/uboot.lif ${DESTDIR}/usr/mdec/ctboot
	rm -f ${DESTDIR}/usr/mdec/bootct
	ln ${DESTDIR}/usr/mdec/uboot.lif ${DESTDIR}/usr/mdec/bootct
	rm -f ${DESTDIR}/usr/mdec/rbootd/SYS_UBOOT
	ln ${DESTDIR}/usr/mdec/uboot.lif ${DESTDIR}/usr/mdec/rbootd/SYS_UBOOT

#obj: _SUBDIRUSE

.include <bsd.prog.mk>
@


1.10
log
@SYS_INST has left the building!
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 1997/04/16 12:38:21 downsj Exp $
d13 1
a13 1
CONS=	-DDCACONSOLE -DITECONSOLE -DDCMCONSOLE
d15 1
a15 1
DEFS=	-DSTANDALONE -DCOMPAT_NOLABEL ${CONS} -Dhp300 # -DROMPRF
d18 1
a18 1
CFLAGS=	-O3 ${INCPATH} ${DEFS}
d20 1
a20 1
SRCS=	autoconf.c cons.c ct.c dca.c dcm.c devopen.c dnkbd.c fhpib.c \
d54 1
a54 1
# depend on DEFS
d56 1
a56 3
devopen.o machdep.o srt0.o: Makefile
cons.o dca.o hil.o: Makefile
ite.o ite_subr.o ite_dv.o ite_gb.o ite_hy.o ite_rb.o ite_tc.o: Makefile
@


1.9
log
@Add a proper version number ala other ports, and clean up various parts of
the Makefiles.  Lots more to do...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 1997/04/16 11:56:36 downsj Exp $
d46 2
a47 2
BOOTS=	uboot.lif inst.lif
BOOTAOUTS=uboot inst
a74 10
# miniroot installation program
inst.lif: inst mkboot
	./mkboot inst $@@

inst: srt0.o inst.o clock.o conf.o netio.o tgets.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin srt0.o inst.o clock.o conf.o netio.o \
	    tgets.o ${LIBS} -o $@@
	@@size $@@
	@@echo $@@ total size should not exceed 1044480 bytes

a110 4
	${INSTALL} -c -o ${BINOWN} -g ${BINGRP} -m 444 inst.lif \
	    ${DESTDIR}/usr/mdec
	rm -f ${DESTDIR}/usr/mdec/rbootd/SYS_INST
	ln ${DESTDIR}/usr/mdec/inst.lif ${DESTDIR}/usr/mdec/rbootd/SYS_INST
@


1.8
log
@Merge portions of NetBSD up to 970415.

This includes:
	* All of the prototyping and KNF changes.
	* The new interrupt system.
	* Portions of the Domain Keyboard support from Mike Smith.

This does not include:
	* m68k changes, namely generic dumps.

Various sundry changes and fixes by me.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 1997/02/16 19:16:27 downsj Exp $
d20 4
a23 1
SRCS=   autoconf.c cons.c devopen.c machdep.c prf.c
a24 4
DSRCS=	ct.c dca.c dcm.c dnkbd.c fhpib.c hd.c hil.c hpib.c if_le.c \
	ite.c ite_dv.c ite_gb.c ite_rb.c ite_subr.c ite_tc.c ite_hy.c \
	kbd.c kbdconf.c kbdvar.h nhpib.c scsi.c sd.c
DOBJS=	${DSRCS:N*.h:R:S/$/.o/g}
d44 1
a44 1
LIBS=	${OBJS} libdrive.a ${LIBSA} ${LIBZ} ${LIBKERN}
a53 5
libdrive.a: ${DOBJS}
	rm -f $@@
	${AR} cq $@@ ${DOBJS}
	${RANLIB} $@@

d98 1
a98 1
	rm -f libdrive.a mkboot installboot
@


1.7
log
@rd -> hd
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 1997/02/06 02:53:49 downsj Exp $
d14 1
d22 1
a22 1
DSRCS=	ct.c dca.c dcm.c fhpib.c hd.c hil.c hpib.c if_le.c \
d24 1
a24 1
	nhpib.c scsi.c sd.c
@


1.6
log
@Enable support for gzip'd kernels.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1997/02/03 07:19:01 downsj Exp $
d112 4
a115 4
	rm -f ${DESTDIR}/usr/mdec/rdboot
	ln ${DESTDIR}/usr/mdec/uboot.lif ${DESTDIR}/usr/mdec/rdboot
	rm -f ${DESTDIR}/usr/mdec/bootrd
	ln ${DESTDIR}/usr/mdec/uboot.lif ${DESTDIR}/usr/mdec/bootrd
@


1.5
log
@rd -> hd
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1997/01/17 08:32:37 downsj Exp $
d36 5
d44 1
a44 1
LIBS=	${OBJS} libdrive.a ${LIBSA} ${LIBKERN}
@


1.4
log
@hp300 bootblocks, sync'd with NetBSD 011697, with changes and a new build
method.
@
text
@d1 1
a1 1
#	$OpenBSD$
d21 1
a21 1
DSRCS=	ct.c dca.c dcm.c fhpib.c hil.c hpib.c if_le.c \
d23 1
a23 1
	nhpib.c rd.c scsi.c sd.c
@


1.3
log
@kernel is 'bsd'
@
text
@d1 2
a2 2
#	$NetBSD: Makefile,v 1.19 1996/01/15 01:41:37 thorpej Exp $

d8 1
a8 1
SUBDIR=	libsa
d32 3
a34 4
### find out what to use for libkern
KERNREL=
.include "$S/lib/libkern/Makefile.inc"
LIBKERN=	${KERNLIB}
d41 2
a42 1
BOOTS=	pboot netboot sys_inst dboot dcopy tboot tcopy cat #ls
d65 3
a67 18
tpsrt0.o: ${.CURDIR}/srt0.s
	${CC} ${INCPATH} ${DEFS} -DTP -c ${.CURDIR}/srt0.s -o $@@

# new boot
pboot:	srt0.o pboot.o tgets.o conf.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin srt0.o pboot.o tgets.o conf.o ${LIBS} -o $@@
	@@size $@@
	@@echo $@@ total size should not exceed 1044480 bytes

ls:	srt0.o ls.o conf.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin srt0.o ls.o conf.o ${LIBS} -o $@@
	@@size $@@
	@@echo $@@ total size should not exceed 1044480 bytes

cat:	srt0.o cat.o conf.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin srt0.o cat.o conf.o ${LIBS} -o $@@
	@@size $@@
	@@echo $@@ total size should not exceed 1044480 bytes
d69 3
a71 3
# installation
sys_inst: srt0.o sys_inst.o clock.o instconf.o inst_netio.o tgets.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin srt0.o sys_inst.o clock.o instconf.o inst_netio.o tgets.o ${LIBS} -o $@@
d75 3
a77 5
instconf.o: ${.CURDIR}/conf.c
	${CC} ${CFLAGS} -DSYS_INST -c ${.CURDIR}/conf.c -o $@@

inst_netio.o: ${.CURDIR}/netio.c
	${CC} ${CFLAGS} -DSYS_INST -c ${.CURDIR}/netio.c -o $@@
d79 3
a81 4
# bootable from network

netboot:	srt0.o netboot.o clock.o netconf.o netio.o tgets.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin srt0.o netboot.o clock.o netconf.o netio.o tgets.o ${LIBS} -o $@@
d85 1
a85 32
netconf.o: ${.CURDIR}/conf.c
	${CC} ${CFLAGS} -DNETBOOT -c ${.CURDIR}/conf.c -o $@@

# bootable from tape

tboot:	srt0.o tboot.o conf.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin srt0.o tboot.o conf.o ${LIBS} -o $@@
	@@size $@@
	@@echo $@@ total size should not exceed 1044480 bytes

tboot.o: ${.CURDIR}/boot.c
	${CC} ${CFLAGS} -DJUSTASK -c ${.CURDIR}/boot.c -o $@@

tcopy:	tpsrt0.o copy.o conf.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin tpsrt0.o copy.o conf.o ${LIBS} -o $@@
	@@size $@@
	@@echo $@@ total size should not exceed 1044480 bytes

# bootable from floppy or real disks

dboot:	srt0.o boot.o tapeconf.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin srt0.o boot.o tapeconf.o ${LIBS} -o $@@
	@@size $@@
	@@echo $@@ text+data size should not exceed 57344 bytes
	@@echo $@@ total size should not exceed 1044480 bytes

tapeconf.o: ${.CURDIR}/conf.c
	${CC} ${CFLAGS} -DTAPEBOOT -c ${.CURDIR}/conf.c -o $@@

dcopy:	srt0.o copy.o conf.o ${LIBS}
	${LD} -N -T ${RELOC} -e begin srt0.o copy.o conf.o ${LIBS} -o $@@

d96 8
a103 13
	rm -f *.o *.exe *.i errs make.out
	rm -f a.out pboot cat ls tboot tcopy
	rm -f boot[a-z]? boot[a-wyz][a-z].c conf[a-wyz][a-z].c
	rm -f core sboot
	rm -f libdrive.a mkboot dboot dcopy installboot *.lif

install: mkboot installboot ${ALL}
	./mkboot pboot bsdboot.lif
	./mkboot netboot netboot.lif
	./mkboot sys_inst sys_inst.lif
	./mkboot dboot diskboot.lif
	./mkboot tboot tcopy tapeboot.lif
	install -c -o ${BINOWN} -g ${BINGRP} -m 555 installboot \
d105 4
a108 2
	install -c -o ${BINOWN} -g ${BINGRP} -m 444 bsdboot.lif \
	    ${DESTDIR}/usr/mdec/rdboot
d110 1
a110 1
	ln ${DESTDIR}/usr/mdec/rdboot ${DESTDIR}/usr/mdec/bootrd
d112 1
a112 1
	ln ${DESTDIR}/usr/mdec/rdboot ${DESTDIR}/usr/mdec/sdboot
d114 13
a126 8
	ln ${DESTDIR}/usr/mdec/sdboot ${DESTDIR}/usr/mdec/bootsd
	install -d -m 755 -o ${BINOWN} -g ${BINGRP} ${DESTDIR}/usr/mdec/rbootd
	install -c -o ${BINOWN} -g ${BINGRP} -m 444 netboot.lif \
	    ${DESTDIR}/usr/mdec/rbootd/SYS_NBOOT
	install -c -o ${BINOWN} -g ${BINGRP} -m 444 sys_inst.lif \
	    ${DESTDIR}/usr/mdec/rbootd/SYS_INST
	install -c -o ${BINOWN} -g ${BINGRP} -m 644 tapeboot.lif \
	    ${DESTDIR}/usr/mdec/bootct
a128 1
.include <bsd.subdir.mk>
@


1.2
log
@from netbsd:
Use ${BINOWN} and ${BINGRP} per Arne H. Juul <arnej@@ikke.idt.unit.no>
in PR #705.  Also, clean up some stuff left over from HP-BSD.
@
text
@d152 1
a152 1
	./mkboot pboot netbsdboot.lif
d159 1
a159 1
	install -c -o ${BINOWN} -g ${BINGRP} -m 444 netbsdboot.lif \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$NetBSD: Makefile,v 1.18 1995/09/23 17:40:54 thorpej Exp $
d157 4
a160 2
	install -c -o bin -g bin -m 555 installboot ${DESTDIR}/usr/mdec
	install -c -o bin -g bin -m 444 netbsdboot.lif ${DESTDIR}/usr/mdec/rdboot
d167 7
a173 8
	install -d -m 755 -o bin -g bin ${DESTDIR}/usr/mdec/rbootd
	install -c -o bin -g bin -m 444 netboot.lif ${DESTDIR}/usr/mdec/rbootd/SYS_NBOOT
	install -c -o bin -g bin -m 444 sys_inst.lif ${DESTDIR}/usr/mdec/rbootd/SYS_INST
	install -c -o bin -g bin -m 644 tapeboot.lif ${DESTDIR}/usr/mdec/bootct
#	install -o bin -g bin -m 755 -d ${DESTDIR}/sys/hpdist/tp
#	install -o bin -g bin -m 444 netbsdboot.lif ${DESTDIR}/sys/hpdist/tp
#	install -o bin -g bin -m 444 tapeboot.lif ${DESTDIR}/sys/hpdist/tp
#	install -o bin -g bin -m 444 diskboot.lif ${DESTDIR}/sys/hpdist/tp
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
