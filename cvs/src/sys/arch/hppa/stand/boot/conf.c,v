head	1.29;
access;
symbols
	OPENBSD_6_2:1.29.0.2
	OPENBSD_6_2_BASE:1.29
	OPENBSD_6_1:1.28.0.4
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.27.0.12
	OPENBSD_6_0_BASE:1.27
	OPENBSD_5_9:1.27.0.8
	OPENBSD_5_9_BASE:1.27
	OPENBSD_5_8:1.27.0.10
	OPENBSD_5_8_BASE:1.27
	OPENBSD_5_7:1.27.0.2
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.27.0.6
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.27.0.4
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.26.0.10
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.26.0.8
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.26.0.6
	OPENBSD_5_2_BASE:1.26
	OPENBSD_5_1_BASE:1.26
	OPENBSD_5_1:1.26.0.4
	OPENBSD_5_0:1.26.0.2
	OPENBSD_5_0_BASE:1.26
	OPENBSD_4_9:1.25.0.2
	OPENBSD_4_9_BASE:1.25
	OPENBSD_4_8:1.22.0.10
	OPENBSD_4_8_BASE:1.22
	OPENBSD_4_7:1.22.0.6
	OPENBSD_4_7_BASE:1.22
	OPENBSD_4_6:1.22.0.8
	OPENBSD_4_6_BASE:1.22
	OPENBSD_4_5:1.22.0.4
	OPENBSD_4_5_BASE:1.22
	OPENBSD_4_4:1.22.0.2
	OPENBSD_4_4_BASE:1.22
	OPENBSD_4_3:1.21.0.2
	OPENBSD_4_3_BASE:1.21
	OPENBSD_4_2:1.19.0.14
	OPENBSD_4_2_BASE:1.19
	OPENBSD_4_1:1.19.0.12
	OPENBSD_4_1_BASE:1.19
	OPENBSD_4_0:1.19.0.10
	OPENBSD_4_0_BASE:1.19
	OPENBSD_3_9:1.19.0.8
	OPENBSD_3_9_BASE:1.19
	OPENBSD_3_8:1.19.0.6
	OPENBSD_3_8_BASE:1.19
	OPENBSD_3_7:1.19.0.4
	OPENBSD_3_7_BASE:1.19
	OPENBSD_3_6:1.19.0.2
	OPENBSD_3_6_BASE:1.19
	SMP_SYNC_A:1.19
	SMP_SYNC_B:1.19
	OPENBSD_3_5:1.18.0.4
	OPENBSD_3_5_BASE:1.18
	OPENBSD_3_4:1.18.0.2
	OPENBSD_3_4_BASE:1.18
	UBC_SYNC_A:1.18
	OPENBSD_3_3:1.17.0.2
	OPENBSD_3_3_BASE:1.17
	OPENBSD_3_2:1.14.0.4
	OPENBSD_3_2_BASE:1.14
	OPENBSD_3_1:1.14.0.2
	OPENBSD_3_1_BASE:1.14
	UBC_SYNC_B:1.15
	UBC:1.12.0.8
	UBC_BASE:1.12
	OPENBSD_3_0:1.12.0.6
	OPENBSD_3_0_BASE:1.12
	OPENBSD_2_9:1.12.0.4
	OPENBSD_2_9_BASE:1.12
	OPENBSD_2_8:1.12.0.2
	OPENBSD_2_8_BASE:1.12
	OPENBSD_2_7:1.11.0.6
	OPENBSD_2_7_BASE:1.11
	SMP:1.11.0.4
	SMP_BASE:1.11
	kame_19991208:1.11
	OPENBSD_2_6:1.11.0.2
	OPENBSD_2_6_BASE:1.11
	OPENBSD_2_5:1.6.0.2
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.5.0.2
	OPENBSD_2_4_BASE:1.5
	mickey-boot:1.1.1.1
	mickey:1.1.1;
locks; strict;
comment	@ * @;


1.29
date	2017.09.08.05.36.51;	author deraadt;	state Exp;
branches;
next	1.28;
commitid	uRv5pa9QDlZaYgwD;

1.28
date	2016.09.13.18.27.49;	author jasper;	state Exp;
branches;
next	1.27;
commitid	PHzGPdVfpKxkA6ei;

1.27
date	2013.12.28.02.53.03;	author deraadt;	state Exp;
branches;
next	1.26;

1.26
date	2011.04.17.09.49.48;	author kettenis;	state Exp;
branches;
next	1.25;

1.25
date	2010.12.06.22.51.45;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2010.12.06.22.11.01;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2010.12.06.18.44.49;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2008.04.19.23.20.22;	author weingart;	state Exp;
branches;
next	1.21;

1.21
date	2008.03.04.22.33.11;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	2007.12.26.18.52.59;	author kettenis;	state Exp;
branches;
next	1.19;

1.19
date	2004.04.07.18.24.20;	author mickey;	state Exp;
branches;
next	1.18;

1.18
date	2003.04.15.18.07.32;	author mickey;	state Exp;
branches;
next	1.17;

1.17
date	2003.01.14.18.57.20;	author mickey;	state Exp;
branches;
next	1.16;

1.16
date	2003.01.14.10.59.18;	author mickey;	state Exp;
branches;
next	1.15;

1.15
date	2002.10.24.19.27.15;	author mickey;	state Exp;
branches;
next	1.14;

1.14
date	2002.03.02.20.26.50;	author mickey;	state Exp;
branches;
next	1.13;

1.13
date	2002.02.02.21.25.35;	author mickey;	state Exp;
branches;
next	1.12;

1.12
date	2000.05.30.22.02.28;	author mickey;	state Exp;
branches
	1.12.8.1;
next	1.11;

1.11
date	99.08.14.04.47.47;	author todd;	state Exp;
branches
	1.11.4.1;
next	1.10;

1.10
date	99.06.22.20.39.05;	author mickey;	state Exp;
branches;
next	1.9;

1.9
date	99.05.06.02.29.14;	author mickey;	state Exp;
branches;
next	1.8;

1.8
date	99.04.20.20.11.48;	author mickey;	state Exp;
branches;
next	1.7;

1.7
date	99.04.20.20.05.22;	author mickey;	state Exp;
branches;
next	1.6;

1.6
date	99.01.25.21.53.31;	author mickey;	state Exp;
branches;
next	1.5;

1.5
date	98.09.29.07.14.53;	author mickey;	state Exp;
branches;
next	1.4;

1.4
date	98.07.14.17.20.29;	author mickey;	state Exp;
branches;
next	1.3;

1.3
date	98.07.13.03.52.06;	author mickey;	state Exp;
branches;
next	1.2;

1.2
date	98.07.13.03.35.56;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	98.06.23.18.46.41;	author mickey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.06.23.18.46.41;	author mickey;	state Exp;
branches;
next	;

1.11.4.1
date	2001.04.18.16.06.54;	author niklas;	state Exp;
branches;
next	1.11.4.2;

1.11.4.2
date	2002.03.06.00.57.23;	author niklas;	state Exp;
branches;
next	1.11.4.3;

1.11.4.3
date	2003.03.27.23.26.54;	author niklas;	state Exp;
branches;
next	1.11.4.4;

1.11.4.4
date	2003.05.13.19.41.04;	author ho;	state Exp;
branches;
next	1.11.4.5;

1.11.4.5
date	2004.06.05.23.10.49;	author niklas;	state Exp;
branches;
next	;

1.12.8.1
date	2002.06.11.03.35.38;	author art;	state Exp;
branches;
next	1.12.8.2;

1.12.8.2
date	2002.10.29.00.28.03;	author art;	state Exp;
branches;
next	1.12.8.3;

1.12.8.3
date	2003.05.19.21.43.13;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.29
log
@If you use sys/param.h, you don't need sys/types.h
@
text
@/*	$OpenBSD: conf.c,v 1.28 2016/09/13 18:27:49 jasper Exp $	*/

/*
 * Copyright (c) 1998-2004 Michael Shalayeff
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
 * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE AUTHOR OR HIS RELATIVES BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF MIND, USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
 * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */

#include <sys/param.h>
#include <libsa.h>
#include <lib/libsa/ufs.h>
#include <lib/libsa/cd9660.h>
#include <dev/cons.h>

const char version[] = "1.4";
int	debug = 0;

struct fs_ops file_system[] = {
	{ ufs_open,    ufs_close,    ufs_read,    ufs_write,    ufs_seek,
	  ufs_stat,    ufs_readdir    },
	{ cd9660_open, cd9660_close, cd9660_read, cd9660_write, cd9660_seek,
	  cd9660_stat, cd9660_readdir },
	{ lif_open,    lif_close,    lif_read,    lif_write,    lif_seek,
	  lif_stat,    lif_readdir    },
};
int nfsys = nitems(file_system);

struct devsw devsw[] = {
	{ "dk",	iodcstrategy, dkopen, dkclose, noioctl },
	{ "ct",	iodcstrategy, ctopen, ctclose, noioctl },
	{ "lf", iodcstrategy, lfopen, lfclose, noioctl }
};
int	ndevs = nitems(devsw);

struct consdev	constab[] = {
	{ ite_probe, ite_init, ite_getc, ite_putc },
	{ NULL }
};
struct consdev *cn_tab;

@


1.28
log
@crank bootloader version after .SUNW_ctf change

as discussed with jsing@@ it's easier this way to ensure people have
bootblocks capable of loading the section
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.27 2013/12/28 02:53:03 deraadt Exp $	*/
a29 1
#include <sys/types.h>
@


1.27
log
@crank the version
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.26 2011/04/17 09:49:48 kettenis Exp $	*/
d36 1
a36 1
const char version[] = "1.3";
@


1.26
log
@Tweak the behaviour of boot(8) on hppa.  Normal boots now will give you a
chance to interrupt the boot procedure before booting the default kernel,
just like (most) of our other hardware platforms.  Interactive boots, where
you interrupt the firmware boot procedure and answer "Y" to the
"Interact with IPL?" question will now wait for human intervention at the
boot> prompt (without a timeout).  Should reduce frustration when trying to
boot an alternative kernel.

ok deraadt@@, miod@@, jsing@@, todd@@
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.25 2010/12/06 22:51:45 jasper Exp $	*/
d36 1
a36 1
const char version[] = "1.2";
@


1.25
log
@- properly remove NENTS now after fixing the fallout.

ok deraadt@@
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.24 2010/12/06 22:11:01 jasper Exp $	*/
d36 1
a36 1
const char version[] = "1.1";
@


1.24
log
@- partially revert previous NENTS removal for arches which got busted.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.23 2010/12/06 18:44:49 jasper Exp $	*/
d29 1
d47 1
a47 1
int nfsys = NENTS(file_system);
d54 1
a54 1
int	ndevs = NENTS(devsw);
@


1.23
log
@- drop NENTS(), which was yet another copy of nitems().
no binary change


ok deraadt@@
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.22 2008/04/19 23:20:22 weingart Exp $	*/
d46 1
a46 1
int nfsys = nitems(file_system);
d53 1
a53 1
int	ndevs = nitems(devsw);
@


1.22
log
@Change ELF loader to use the LMA as the load address for the
various segments.  Hopefully this will help remove various
hacks in the boot loader in the future.  This should have no
effect on most architectures (as we tend to have LMA == VMA).

ok drahn@@, soft ok's various others.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.21 2008/03/04 22:33:11 deraadt Exp $	*/
d46 1
a46 1
int nfsys = NENTS(file_system);
d53 1
a53 1
int	ndevs = NENTS(devsw);
@


1.21
log
@crank version #
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.20 2007/12/26 18:52:59 kettenis Exp $	*/
d35 1
a35 1
const char version[] = "1.0";
@


1.20
log
@Teach the hppa bootloader how to boot 64-bit kernels.

ok miod@@, deraadt@@
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.19 2004/04/07 18:24:20 mickey Exp $	*/
d35 1
a35 1
const char version[] = "0.9";
@


1.19
log
@update copyright; miod@@ is fine w/ files where he holds it too
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.18 2003/04/15 18:07:32 mickey Exp $	*/
d35 1
a35 1
const char version[] = "0.8";
@


1.18
log
@rearrange devsw to place dk in the beginning. necessary glue hookups in cdboot
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.17 2003/01/14 18:57:20 mickey Exp $	*/
d4 1
a4 1
 * Copyright (c) 1998 Michael Shalayeff
a14 5
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by Michael Shalayeff.
 * 4. The name of the author may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
d19 8
a26 7
 * IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@


1.17
log
@up the boot version after recent changes
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.16 2003/01/14 10:59:18 mickey Exp $	*/
d53 1
a54 1
	{ "dk",	iodcstrategy, dkopen, dkclose, noioctl },
@


1.16
log
@make the lif be tried the last after ufs and cd9660 get a chance
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.15 2002/10/24 19:27:15 mickey Exp $	*/
d39 1
a39 1
const char version[] = "0.7";
@


1.15
log
@use loadfile
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.14 2002/03/02 20:26:50 mickey Exp $	*/
a42 2
	{ lif_open,    lif_close,    lif_read,    lif_write,    lif_seek,
	  lif_stat,    lif_readdir    },
d47 2
@


1.14
log
@bump the version after recent addition
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.13 2002/02/02 21:25:35 mickey Exp $	*/
a36 1
#include <lib/libsa/exec.h>
a40 6

const struct x_sw execsw[] = {
	{ "elf", elf_probe,	elf_load,	elf_ldsym },
/*	{ "som", som_probe,	som_load,	som_ldsym }, */
	{ ""   , NULL,		NULL,		NULL },
};
@


1.13
log
@missing NULL
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.12 2000/05/30 22:02:28 mickey Exp $	*/
d40 1
a40 1
const char version[] = "0.6";
@


1.12
log
@elf_ldsym, increase boot minor version
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.11 1999/08/14 04:47:47 todd Exp $	*/
d46 1
a46 1
	{ ""   , NULL,		NULL },
@


1.12.8.1
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.12 2000/05/30 22:02:28 mickey Exp $	*/
d40 1
a40 1
const char version[] = "0.7";
d46 1
a46 1
	{ ""   , NULL,		NULL,		NULL },
@


1.12.8.2
log
@sync to -current
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.12.8.1 2002/06/11 03:35:38 art Exp $	*/
d37 1
d42 6
@


1.12.8.3
log
@sync
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d39 1
a39 1
const char version[] = "0.8";
d43 2
a48 2
	{ lif_open,    lif_close,    lif_read,    lif_write,    lif_seek,
	  lif_stat,    lif_readdir    },
d53 1
a54 1
	{ "ct",	iodcstrategy, ctopen, ctclose, noioctl },
@


1.11
log
@debugging off by default. ok mickey@@
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.10 1999/06/22 20:39:05 mickey Exp $	*/
d40 1
a40 1
const char version[] = "0.5";
d44 1
a44 1
	{ "elf", elf_probe,	elf_load/*,	elf_ldsym */ },
@


1.11.4.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.12 2000/05/30 22:02:28 mickey Exp $	*/
d40 1
a40 1
const char version[] = "0.6";
d44 1
a44 1
	{ "elf", elf_probe,	elf_load,	elf_ldsym },
@


1.11.4.2
log
@Merge in trunk
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d40 1
a40 1
const char version[] = "0.7";
d46 1
a46 1
	{ ""   , NULL,		NULL,		NULL },
@


1.11.4.3
log
@Sync the SMP branch with 3.3
@
text
@d37 1
d40 1
a40 1
const char version[] = "0.8";
d43 6
d50 2
a55 2
	{ lif_open,    lif_close,    lif_read,    lif_write,    lif_seek,
	  lif_stat,    lif_readdir    },
@


1.11.4.4
log
@Sync the SMP branch to -current.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.11.4.3 2003/03/27 23:26:54 niklas Exp $	*/
d53 1
a54 1
	{ "ct",	iodcstrategy, ctopen, ctclose, noioctl },
@


1.11.4.5
log
@Merge with the trunk
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d4 1
a4 1
 * Copyright (c) 1998-2004 Michael Shalayeff
d15 5
d24 7
a30 8
 * IN NO EVENT SHALL THE AUTHOR OR HIS RELATIVES BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF MIND, USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
 * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
 * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
@


1.10
log
@once it proved itself to work on everything we can get to, bump a version to 1/2 (;
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.9 1999/05/06 02:29:14 mickey Exp $	*/
d41 1
a41 1
int	debug = 1;
@


1.9
log
@no lifvar.h anymore
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.8 1999/04/20 20:11:48 mickey Exp $	*/
d40 1
a40 1
const char version[] = "0.05";
@


1.8
log
@fix prev commit blowup:
no ldsym for now
s/sd/dk/ since it's not always a disk, not even scsi (:
bump a version, things changed
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.7 1999/04/20 20:05:22 mickey Exp $	*/
a34 1
#include <machine/lifvar.h>
@


1.7
log
@Makefile
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.6 1999/01/25 21:53:31 mickey Exp $	*/
d41 1
a41 1
const char version[] = "0.04";
d45 1
a45 1
	{ "elf", elf_probe,	elf_load/*,	elf_ldsym */},
@


1.6
log
@call diskless kernel "bsd" so it would be loaded even we have
problems w/ kbd on PDC console device.
remove neva-gonna-b-there stuff from conf.c
some improvements to srt0.S code, use constants defined in machine/ files.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.5 1998/09/29 07:14:53 mickey Exp $	*/
d45 1
a45 1
	{ "elf", elf_probe,	elf_load,	elf_ldsym },
d62 1
a62 1
	{ "sd",	iodcstrategy, dkopen, dkclose, noioctl },
@


1.5
log
@update config
include (gzipped) diskless kernel if compiled in LIF volume
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.4 1998/07/14 17:20:29 mickey Exp $	*/
a37 4
#ifdef notdef
#include <lib/libsa/nfs.h>
#include <lib/libsa/netif.h>
#endif
d41 2
a42 2
const char version[] = "0.03";
int	debug = 0;
d45 2
a46 2
	{ "elf", elf_probe,	elf_load },
/*	{ "som", som_probe,	som_load }, */
a54 4
#ifdef notdef
	{ nfs_open,    nfs_close,    nfs_read,    nfs_write,    nfs_seek,
	  nfs_stat,    nfs_readdir    },
#endif
a58 7

#ifdef notdef
struct netif_driver	*netif_drivers[] = {
	NULL
};
int n_netif_drivers = NENTS(netif_drivers);
#endif
@


1.4
log
@add som support
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.3 1998/07/13 03:52:06 mickey Exp $	*/
d35 1
d45 2
a46 2
const char version[] = "0.02";
int	debug;
d50 1
a50 1
	{ "som", som_probe,	som_load },
d55 2
d76 3
a78 2
	{ "ct",	ctstrategy, ctopen, ctclose, noioctl },
	{ "dk",	dkstrategy, dkopen, dkclose, noioctl },
d87 1
@


1.3
log
@since i blew up prev commit msg, here it is:
upgrade to new coming stand/exec framework
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.2 1998/07/13 03:35:56 mickey Exp $	*/
d47 1
a47 1
struct x_sw execsw[] = {
d49 1
@


1.2
log
@libsa/itecons.c
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.c,v 1.1.1.1 1998/06/23 18:46:41 mickey Exp $	*/
d44 1
a44 1
const char version[] = "0.01";
d48 2
a49 2
	{ "elf",	elf_probe,	elf_load },
	{ ""   ,	NULL,		NULL },
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d41 1
d46 5
@


1.1.1.1
log
@ok, it boots, include and libkern to come
@
text
@@
