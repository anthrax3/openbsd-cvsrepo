head	1.16;
access;
symbols
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.4
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.14.0.4
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.14.0.2
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.13.0.14
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.13.0.16
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.13.0.12
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.10
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.8
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.6
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.13.0.4
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.13.0.2
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.12.0.2
	OPENBSD_3_9_BASE:1.12
	OPENBSD_3_8:1.9.0.2
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.8.0.14
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.8.0.12
	OPENBSD_3_6_BASE:1.8
	SMP_SYNC_A:1.8
	SMP_SYNC_B:1.8
	OPENBSD_3_5:1.8.0.10
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.8
	OPENBSD_3_4_BASE:1.8
	UBC_SYNC_A:1.8
	OPENBSD_3_3:1.8.0.6
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.4
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.8.0.2
	OPENBSD_3_1_BASE:1.8
	UBC_SYNC_B:1.8
	UBC:1.7.0.4
	UBC_BASE:1.7
	OPENBSD_3_0:1.7.0.2
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9:1.6.0.18
	OPENBSD_2_9_BASE:1.6
	NIKLAS_UNDEAD:1.6.0.16
	OPENBSD_2_8:1.6.0.14
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.6.0.12
	OPENBSD_2_7_BASE:1.6
	SMP:1.6.0.10
	SMP_BASE:1.6
	kame_19991208:1.6
	OPENBSD_2_6:1.6.0.8
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.6.0.6
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.6.0.4
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.6.0.2
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.5.0.4
	OPENBSD_2_2_BASE:1.5
	OPENBSD_2_1:1.5.0.2
	OPENBSD_2_1_BASE:1.5
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2;
locks; strict;
comment	@ * @;


1.16
date	2012.06.20.18.23.51;	author matthew;	state dead;
branches;
next	1.15;

1.15
date	2011.03.23.16.54.35;	author pirofti;	state Exp;
branches;
next	1.14;

1.14
date	2010.05.23.22.41.50;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	2006.07.11.18.58.15;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2006.01.13.21.01.28;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2006.01.13.19.36.44;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2006.01.02.18.10.05;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2005.07.23.23.30.55;	author martin;	state Exp;
branches;
next	1.8;

1.8
date	2002.03.14.01.26.35;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2001.05.05.22.33.50;	author art;	state Exp;
branches
	1.7.4.1;
next	1.6;

1.6
date	97.11.30.06.10.29;	author gene;	state Exp;
branches
	1.6.10.1;
next	1.5;

1.5
date	97.04.06.02.59.54;	author briggs;	state Exp;
branches;
next	1.4;

1.4
date	97.01.24.01.35.40;	author briggs;	state Exp;
branches;
next	1.3;

1.3
date	96.11.23.21.45.56;	author kstailey;	state Exp;
branches;
next	1.2;

1.2
date	96.05.26.18.35.45;	author briggs;	state Exp;
branches;
next	1.1;

1.1
date	96.05.26.18.14.01;	author briggs;	state Exp;
branches;
next	;

1.6.10.1
date	2001.07.04.10.18.30;	author niklas;	state Exp;
branches;
next	1.6.10.2;

1.6.10.2
date	2002.03.28.10.34.05;	author niklas;	state Exp;
branches;
next	;

1.7.4.1
date	2002.06.11.03.36.19;	author art;	state Exp;
branches;
next	;


desc
@@


1.16
log
@RIP mac68k.  No one loves you anymore.
@
text
@/*	$OpenBSD: autoconf.h,v 1.15 2011/03/23 16:54:35 pirofti Exp $	*/
/*	$NetBSD: autoconf.h,v 1.5 1996/12/17 06:47:40 scottr Exp $	*/

/*
 * Copyright (c) 1994 Gordon W. Ross
 * Copyright (c) 1993 Adam Glass
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by Adam Glass.
 * 4. The name of the Author may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY Adam Glass ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 */

#ifndef _MACHINE_AUTOCONF_H_
#define _MACHINE_AUTOCONF_H_

/*
 * Autoconfiguration information.
 * From sun3 port--adapted for mac68k platform by Allen Briggs.
 */

#ifdef _KERNEL
/* machdep.c */
void	mac68k_set_io_offsets(vaddr_t);
void	dumpconf(void);

/* clock.h */

u_long	clkread(void);
void	mac68k_calibrate_delay(void);
void	startrtclock(void);

#endif	/* _KERNEL */

#endif	/* _MACHINE_AUTOCONF_H_ */
@


1.15
log
@Normalize sentinel. Use _MACHINE_*_H_ and _<ARCH>_*_H_ properly and consitently.

Discussed and okay drahn@@. Okay deraadt@@.
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.14 2010/05/23 22:41:50 deraadt Exp $	*/
@


1.14
log
@seteconf() died years ago
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.13 2006/07/11 18:58:15 miod Exp $	*/
d36 2
a37 2
#ifndef _MAC68K_AUTOCONF_H_
#define _MAC68K_AUTOCONF_H_
d57 1
a57 1
#endif	/* _MAC68K_AUTOCONF_H_ */
@


1.13
log
@Remove duplicate prototypes already in <sys/systm.h>
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.12 2006/01/13 21:01:28 miod Exp $	*/
a44 3
/* autoconf.c */
void	setconf(void);

@


1.12
log
@Remove unused bad{,b,w,l}addr.
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.11 2006/01/13 19:36:44 miod Exp $	*/
a53 2
void	cpu_initclocks(void);
void	setstatclockrate(int);
a54 2
void	inittodr(time_t);
void	resettodr(void);
@


1.11
log
@Remove the Mac Rom Glue code completely. With the ADB ``direct'' code being
used by default, and since all PRAM accesses are either directly fiddling
with VIA registers or through ADB commands, the MRG code has no reason to
stay. This means the kernel is now not running unknown PROM code anymore.
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.10 2006/01/02 18:10:05 miod Exp $	*/
a50 3
int	badbaddr(register caddr_t addr);
int	badwaddr(register caddr_t addr);
int	badladdr(register caddr_t addr);
@


1.10
log
@Merge enablertclock() in cpu_initclocks(), kill unused disablertclock(), and
remove a wrong comment aboute startrtclock() being invoked twice.
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.9 2005/07/23 23:30:55 martin Exp $	*/
a64 2
/* macrom.c */
void	mrg_init(void);
@


1.9
log
@vm_offset_t -> vaddr_t
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.8 2002/03/14 01:26:35 millert Exp $	*/
a56 1
void	enablertclock(void);
a58 1
void	disablertclock(void);
@


1.8
log
@First round of __P removal in sys
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.7 2001/05/05 22:33:50 art Exp $	*/
d49 1
a49 1
void	mac68k_set_io_offsets(vm_offset_t);
@


1.7
log
@Rename configure() to cpu_configure().
Move it from cpu_startup() to main().
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.6 1997/11/30 06:10:29 gene Exp $	*/
d46 1
a46 1
void	setconf __P((void));
d49 5
a53 5
void	mac68k_set_io_offsets __P((vm_offset_t));
void	dumpconf __P((void));
int	badbaddr __P((register caddr_t addr));
int	badwaddr __P((register caddr_t addr));
int	badladdr __P((register caddr_t addr));
d57 9
a65 9
void	enablertclock __P((void));
void	cpu_initclocks __P((void));
void	setstatclockrate __P((int));
void	disablertclock __P((void));
u_long	clkread __P((void));
void	inittodr __P((time_t));
void	resettodr __P((void));
void	mac68k_calibrate_delay __P((void));
void	startrtclock __P((void));
d68 1
a68 1
void	mrg_init __P((void));
@


1.7.4.1
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.7 2001/05/05 22:33:50 art Exp $	*/
d46 1
a46 1
void	setconf(void);
d49 5
a53 5
void	mac68k_set_io_offsets(vm_offset_t);
void	dumpconf(void);
int	badbaddr(register caddr_t addr);
int	badwaddr(register caddr_t addr);
int	badladdr(register caddr_t addr);
d57 9
a65 9
void	enablertclock(void);
void	cpu_initclocks(void);
void	setstatclockrate(int);
void	disablertclock(void);
u_long	clkread(void);
void	inittodr(time_t);
void	resettodr(void);
void	mac68k_calibrate_delay(void);
void	startrtclock(void);
d68 1
a68 1
void	mrg_init(void);
@


1.6
log
@Add multiple inclusion protection, clean up comments, and wrap with _KERNEL
where appropriate.  Note that this buys us notable speed boosts on a machine
as slow as the mac68k.
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.5 1997/04/06 02:59:54 briggs Exp $	*/
a46 1
void	configure __P((void));
@


1.6.10.1
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.6 1997/11/30 06:10:29 gene Exp $	*/
d47 1
@


1.6.10.2
log
@Merge in -current from about a week ago
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d46 1
a46 1
void	setconf(void);
d49 5
a53 5
void	mac68k_set_io_offsets(vm_offset_t);
void	dumpconf(void);
int	badbaddr(register caddr_t addr);
int	badwaddr(register caddr_t addr);
int	badladdr(register caddr_t addr);
d57 9
a65 9
void	enablertclock(void);
void	cpu_initclocks(void);
void	setstatclockrate(int);
void	disablertclock(void);
u_long	clkread(void);
void	inittodr(time_t);
void	resettodr(void);
void	mac68k_calibrate_delay(void);
void	startrtclock(void);
d68 1
a68 1
void	mrg_init(void);
@


1.5
log
@Eradicate #include <sys/*> from machine/*.h.  Prompting from Gene.
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.4 1997/01/24 01:35:40 briggs Exp $	*/
d36 3
d44 1
d70 3
@


1.4
log
@Sync w/ NETBSD_CURRENT_971122.
@
text
@d1 1
a1 1
/*	$OpenBSD: autoconf.h,v 1.3 1996/11/23 21:45:56 kstailey Exp $	*/
a34 2

#include <sys/device.h>
@


1.3
log
@added const to second parameter of cfprint_t routines
@
text
@d1 2
a2 2
/*	$OpenBSD$	*/
/*	$NetBSD: autoconf.h,v 1.2 1996/05/18 18:52:48 briggs Exp $	*/
a42 12
/* These are the "bus" types: */
#define	BUS_OBIO	0	/* On-board I/O */
#define	BUS_NUBUS	1	/* "nubus"  */

/*
 * This is the "args" parameter to the bus match/attach functions.
 */
struct confargs {
	int	ca_bustype;		/* BUS_INTERNAL0, ... */
	int	slot;
};

a44 4
int	bus_scan __P((struct device *, void *, void *));
int	bus_print __P((void *, const char *));
int	bus_peek __P((int, vm_offset_t, int));
char	*bus_mapin __P((int, int, int));
a52 2

int	mac68k_name_match __P((struct device *, void *, void *));
@


1.2
log
@Add OpenBSD Id string.
@
text
@d58 1
a58 1
int	bus_print __P((void *, char *));
@


1.1
log
@Sync with NetBSD-current.
@
text
@d1 1
@
