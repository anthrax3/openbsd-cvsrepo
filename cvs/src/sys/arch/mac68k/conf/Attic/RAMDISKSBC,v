head	1.7;
access;
symbols
	OPENBSD_3_6:1.4.0.2
	OPENBSD_3_6_BASE:1.4
	SMP_SYNC_A:1.4
	SMP_SYNC_B:1.4
	OPENBSD_3_5:1.3.0.4
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	UBC_SYNC_A:1.3
	SMP:1.1.0.8
	OPENBSD_3_3:1.1.0.6
	OPENBSD_3_3_BASE:1.1
	UBC_SYNC_B:1.1
	OPENBSD_3_2:1.1.0.4
	OPENBSD_3_2_BASE:1.1
	UBC:1.1.0.2;
locks; strict;
comment	@# @;


1.7
date	2004.12.03.06.37.51;	author miod;	state dead;
branches;
next	1.6;

1.6
date	2004.12.02.20.17.49;	author miod;	state Exp;
branches;
next	1.5;

1.5
date	2004.09.16.09.14.03;	author mickey;	state Exp;
branches;
next	1.4;

1.4
date	2004.04.01.22.15.55;	author xsa;	state Exp;
branches;
next	1.3;

1.3
date	2003.05.13.22.45.10;	author miod;	state Exp;
branches;
next	1.2;

1.2
date	2003.05.05.13.59.38;	author miod;	state Exp;
branches;
next	1.1;

1.1
date	2002.04.24.22.34.42;	author miod;	state Exp;
branches
	1.1.2.1
	1.1.8.1;
next	;

1.1.2.1
date	2002.06.11.03.36.18;	author art;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2003.05.19.21.49.42;	author tedu;	state Exp;
branches;
next	;

1.1.8.1
date	2003.05.13.19.41.05;	author ho;	state Exp;
branches;
next	1.1.8.2;

1.1.8.2
date	2003.05.16.00.29.39;	author niklas;	state Exp;
branches;
next	1.1.8.3;

1.1.8.3
date	2004.06.05.23.10.51;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Kill mac68k *SBC kernels. Instead, build kernels with both sbc scsi flavours
compiled in, but one disabled, and use config -e to swap them and build
the other kernels; saves valuable compile time.

Add ramdisks into the build (at release time). Since we are moving to a
bsd.rd installation, it is not necessary to put kernels in .tgz files
anymore, so don't bother, and adjust installation script sets information
accordingly.
@
text
@#	$OpenBSD: RAMDISKSBC,v 1.6 2004/12/02 20:17:49 miod Exp $
#
# RAMDISKSBC - bsd.rd configuration file (SBC version)

machine		mac68k m68k

# 1.4 meg ramdisk
option		MINIROOTSIZE=2880
option		RAMDISK_HOOKS

option		SCSITERSE
option		SMALL_KERNEL
option		NO_PROPOLICE
option		TIMEZONE=0
option		DST=0
option		FFS		# UFS
option		NFSCLIENT	# Network File System client
option		CD9660		# ISO 9660 + Rock Ridge file system
option		FIFO		# FIFOs; RECOMMENDED
option		INET		# IP + ICMP + TCP + UDP

pseudo-device	loop	1	# network loopback
pseudo-device	bpfilter 1	# packet filter

# Comment out until UKC can be invoked on mac68k...
#option		BOOT_CONFIG	# add support for boot -c
option		DDB

# Mac-specific options
option		HZ=60		# Macs like 60Hz
option		M68040
option		M68030
option		M68020		# Must have 68851 PMMU
option		FPSP
option		FPU_EMULATE
option		DISABLE_ADB_WITH_SERIAL_CONSOLE
#option		MRG_ADB		  # Use ROM-based ADB driver

config		bsd		root on rd0a
maxusers	16

mainbus0 at root

# on-board I/O
obio0 at mainbus?

adb0	at obio?
esp0	at obio?		# SCSI NCR 53C9x
esp1	at obio?		# SCSI NCR 53C9x
intvid0	at obio?		# Internal video hardware
mc*	at obio?		# MACE ethernet on Centris/Quadra 660av
sn*	at obio?		# Internal ethernet
zsc0	at obio?		# Zilog serial chip
zstty*	at zsc?

nubus0		at mainbus?

ae*		at nubus?	# Most Apple Ethernet Cards
macvid*		at nubus?	# NuBus video cards
sn*		at nubus?	# SONIC-based ethernet cards

# Attach grf semantics to all video hardware as it is found
grf*		at intvid?
grf*		at macvid?

# Attach ite semantics to the appropriate grf device
ite0		at grf?

# Use only one of ncrscsi or sbc
#ncrscsi0	at obio?		# SCSI NCR 5380
sbc0		at obio? flags 0x1	# MI NCR 5380 SCSI Bus Controller

scsibus*	at esp?
#scsibus*	at ncrscsi?
scsibus*	at sbc?

sd*	at scsibus?		# SCSI disk drives
st*	at scsibus?		# SCSI tape drives
cd*	at scsibus?		# SCSI CD-ROM drives

pseudo-device	rd 1
@


1.6
log
@option DISABLE_EXT_CACHE is not used anymore.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKSBC,v 1.5 2004/09/16 09:14:03 mickey Exp $
@


1.5
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKSBC,v 1.4 2004/04/01 22:15:55 xsa Exp $
a35 1
option		DISABLE_EXT_CACHE # Don't use IIci external cache
@


1.4
log
@
typos in comments: hz -> Hz
initial hint from Martin Reindl <mreindl at catai.org>
ok miod@@ jmc@@.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKSBC,v 1.3 2003/05/13 22:45:10 miod Exp $
d55 1
a55 1
zstty*	at zsc? channel ?
d78 3
a80 3
sd*	at scsibus? target ? lun ?	# SCSI disk drives
st*	at scsibus? target ? lun ?	# SCSI tape drives
cd*	at scsibus? target ? lun ?	# SCSI CD-ROM drives
@


1.3
log
@Add option NO_PROPOLICE, which explicitely disables the use of the propolice
stack protection when building kernels. Intended to be used on installation
media, with tight space constraints - currently, only added where
SMALL_KERNEL was already defined.

Not thoroughly tested, but requested by deraadt.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKSBC,v 1.2 2003/05/05 13:59:38 miod Exp $
d30 1
a30 1
option		HZ=60		# Macs like 60hz
@


1.2
log
@Write explicit scsibus at controller attachment, rather than scsibus at scsi
attribute.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKSBC,v 1.1 2002/04/24 22:34:42 miod Exp $
d13 1
@


1.1
log
@RAMDISK configurations for mac68k.
@
text
@d1 1
a1 1
#	$OpenBSD$
d73 4
a76 1
scsibus*	at scsi?
@


1.1.8.1
log
@Sync the SMP branch to -current.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKSBC,v 1.1 2002/04/24 22:34:42 miod Exp $
d73 1
a73 4
scsibus*	at esp?
#scsibus*	at ncrscsi?
scsibus*	at sbc?

@


1.1.8.2
log
@merge the trunk so we will get the genfs and locking fixes
@
text
@d1 1
a1 1
#	$OpenBSD$
a12 1
option		NO_PROPOLICE
@


1.1.8.3
log
@Merge with the trunk
@
text
@d30 1
a30 1
option		HZ=60		# Macs like 60Hz
@


1.1.2.1
log
@Sync UBC branch to -current
@
text
@@


1.1.2.2
log
@sync
@
text
@a12 1
option		NO_PROPOLICE
d73 1
a73 4
scsibus*	at esp?
#scsibus*	at ncrscsi?
scsibus*	at sbc?

@


