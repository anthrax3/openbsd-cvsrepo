head	1.5;
access;
symbols
	OPENBSD_6_1:1.5.0.12
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.5.0.8
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.4
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.6
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.22
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.20
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.16
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.14
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.12
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.10
	OPENBSD_5_0:1.4.0.8
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.6
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.3.0.40
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.36
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.34
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.32
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.30
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.28
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.26
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.24
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.22
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.20
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.18
	OPENBSD_3_6_BASE:1.3
	SMP_SYNC_A:1.3
	SMP_SYNC_B:1.3
	OPENBSD_3_5:1.3.0.16
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.14
	OPENBSD_3_4_BASE:1.3
	UBC_SYNC_A:1.3
	OPENBSD_3_3:1.3.0.12
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.10
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.8
	OPENBSD_3_1_BASE:1.3
	UBC_SYNC_B:1.3
	UBC:1.3.0.6
	UBC_BASE:1.3
	SMP:1.3.0.4
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	SPARC64:1.1.1.1
	NETBSD:1.1.1;
locks; strict;
comment	@ * @;


1.5
date	2014.11.26.20.30.41;	author stsp;	state Exp;
branches;
next	1.4;
commitid	e315CjZvNnS0qsAl;

1.4
date	2009.11.04.12.03.57;	author jsing;	state Exp;
branches;
next	1.3;

1.3
date	2001.08.22.04.30.52;	author jason;	state Exp;
branches
	1.3.4.1;
next	1.2;

1.2
date	2001.08.20.19.55.33;	author jason;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.18.15.50.46;	author jason;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.08.18.15.50.46;	author jason;	state Exp;
branches;
next	;

1.3.4.1
date	2001.10.31.03.07.59;	author nate;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Introduce softraid boot support to sparc64 ofwboot.
sparc64 machines should now be able to boot from softraid raid1 and crypto.
Tested on sun blade100, sunfire v240, and sun t1000 ldom guests.
Lots of encouragement from deraadt@@
@
text
@/*	$OpenBSD: ofdev.h,v 1.4 2009/11/04 12:03:57 jsing Exp $	*/
/*	$NetBSD: ofdev.h,v 1.1 2000/08/20 14:58:41 mrg Exp $	*/

/*
 * Copyright (C) 1995, 1996 Wolfgang Solfrank.
 * Copyright (C) 1995, 1996 TooLs GmbH.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by TooLs GmbH.
 * 4. The name of TooLs GmbH may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY TOOLS GMBH ``AS IS'' AND ANY EXPRESS OR
 * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL TOOLS GMBH BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 * OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 * OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
#ifndef	_STAND_DEV_H_
#define	_STAND_DEV_H_

/* #define BOOT_DEBUG */
#ifdef BOOT_DEBUG
extern u_int32_t boot_debug;
#define DPRINTF(x...)		do { if (boot_debug) printf(x); } while(0)
#define DNPRINTF(n,x...)	do { if (boot_debug & n) printf(x); } while(0)
#define BOOT_D_OFDEV		0x0001
#define BOOT_D_OFNET		0x0002
#else
#define DPRINTF(x...)
#define DNPRINTF(n,x...)
#endif

struct of_dev {
	int handle;
	int type;
	u_long partoff;
	int bsize;
};

/* Known types: */
#define	OFDEV_NET	1
#define	OFDEV_DISK	2
#define	OFDEV_SOFTRAID	3

#define	DEFAULT_KERNEL	"/bsd"

extern char opened_name[];
extern int floppyboot;

int load_disklabel(struct of_dev *, struct disklabel *);
int strategy(void *, int, daddr32_t, size_t, void *, size_t *);

#endif
@


1.4
log
@Replace the #ifdef NON_DEBUG and #ifdef NOTDEF_DEBUG mess with more sane
DPRINTF/DNPRINTF() debugging.
@
text
@d1 1
a1 1
/*	$OpenBSD: ofdev.h,v 1.2 2001/08/20 19:55:33 jason Exp $	*/
d59 1
d65 3
@


1.3
log
@default kernel is 'bsd' around here
@
text
@d37 12
@


1.3.4.1
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
@


1.2
log
@$OpenBSD$
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d48 1
a48 1
#define	DEFAULT_KERNEL	"/netbsd"
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@Enough of NetBSD/sparc64 for ofwboot to compile/link
@
text
@@
