head	1.148;
access;
symbols
	OPENBSD_6_1:1.148.0.6
	OPENBSD_6_1_BASE:1.148
	OPENBSD_6_0:1.148.0.4
	OPENBSD_6_0_BASE:1.148
	OPENBSD_5_9:1.148.0.2
	OPENBSD_5_9_BASE:1.148
	OPENBSD_5_8:1.147.0.4
	OPENBSD_5_8_BASE:1.147
	OPENBSD_5_7:1.145.0.2
	OPENBSD_5_7_BASE:1.145
	OPENBSD_5_6:1.145.0.4
	OPENBSD_5_6_BASE:1.145
	OPENBSD_5_5:1.144.0.4
	OPENBSD_5_5_BASE:1.144
	OPENBSD_5_4:1.140.0.2
	OPENBSD_5_4_BASE:1.140
	OPENBSD_5_3:1.139.0.2
	OPENBSD_5_3_BASE:1.139
	OPENBSD_5_2:1.136.0.2
	OPENBSD_5_2_BASE:1.136
	OPENBSD_5_1_BASE:1.135
	OPENBSD_5_1:1.135.0.2
	OPENBSD_5_0:1.134.0.2
	OPENBSD_5_0_BASE:1.134
	OPENBSD_4_9:1.132.0.2
	OPENBSD_4_9_BASE:1.132
	OPENBSD_4_8:1.130.0.4
	OPENBSD_4_8_BASE:1.130
	OPENBSD_4_7:1.130.0.2
	OPENBSD_4_7_BASE:1.130
	OPENBSD_4_6:1.126.0.2
	OPENBSD_4_6_BASE:1.126
	OPENBSD_4_5:1.117.0.2
	OPENBSD_4_5_BASE:1.117
	OPENBSD_4_4:1.110.0.2
	OPENBSD_4_4_BASE:1.110
	OPENBSD_4_3:1.95.0.2
	OPENBSD_4_3_BASE:1.95
	OPENBSD_4_2:1.86.0.2
	OPENBSD_4_2_BASE:1.86
	OPENBSD_4_1:1.77.0.2
	OPENBSD_4_1_BASE:1.77
	OPENBSD_4_0:1.72.0.2
	OPENBSD_4_0_BASE:1.72
	OPENBSD_3_9:1.65.0.2
	OPENBSD_3_9_BASE:1.65
	OPENBSD_3_8:1.61.0.2
	OPENBSD_3_8_BASE:1.61
	OPENBSD_3_7:1.58.0.2
	OPENBSD_3_7_BASE:1.58
	OPENBSD_3_6:1.48.0.4
	OPENBSD_3_6_BASE:1.48
	SMP_SYNC_A:1.48
	SMP_SYNC_B:1.48
	OPENBSD_3_5:1.48.0.2
	OPENBSD_3_5_BASE:1.48
	OPENBSD_3_4:1.47.0.2
	OPENBSD_3_4_BASE:1.47
	UBC_SYNC_A:1.44
	OPENBSD_3_3:1.43.0.2
	OPENBSD_3_3_BASE:1.43
	OPENBSD_3_2:1.41.0.2
	OPENBSD_3_2_BASE:1.41
	OPENBSD_3_1:1.32.0.2
	OPENBSD_3_1_BASE:1.32
	UBC_SYNC_B:1.41
	UBC:1.22.0.2
	UBC_BASE:1.22
	SMP:1.19.0.2
	OPENBSD_3_0:1.18.0.4
	OPENBSD_3_0_BASE:1.18;
locks; strict;
comment	@# @;


1.148
date	2016.01.08.15.54.13;	author jcs;	state Exp;
branches;
next	1.147;
commitid	kI4H556ZKYkRQGw5;

1.147
date	2015.07.17.22.52.29;	author tedu;	state Exp;
branches;
next	1.146;
commitid	OOrGfFHYAn65M2qc;

1.146
date	2015.05.11.06.46.21;	author ratchov;	state Exp;
branches;
next	1.145;
commitid	RaOGL5SyOGOZylwx;

1.145
date	2014.07.11.21.54.38;	author tedu;	state Exp;
branches;
next	1.144;
commitid	0n9cIGBISFAEt4b1;

1.144
date	2013.11.04.14.07.16;	author deraadt;	state Exp;
branches;
next	1.143;

1.143
date	2013.11.01.21.22.31;	author miod;	state Exp;
branches;
next	1.142;

1.142
date	2013.08.15.06.54.35;	author kettenis;	state Exp;
branches;
next	1.141;

1.141
date	2013.08.12.04.11.52;	author jsg;	state Exp;
branches;
next	1.140;

1.140
date	2013.04.21.14.44.16;	author sebastia;	state Exp;
branches;
next	1.139;

1.139
date	2012.12.08.20.38.10;	author kettenis;	state Exp;
branches;
next	1.138;

1.138
date	2012.10.17.11.52.22;	author kettenis;	state Exp;
branches;
next	1.137;

1.137
date	2012.08.30.15.51.13;	author deraadt;	state Exp;
branches;
next	1.136;

1.136
date	2012.03.17.21.30.09;	author kettenis;	state Exp;
branches;
next	1.135;

1.135
date	2011.11.15.22.27.53;	author deraadt;	state Exp;
branches;
next	1.134;

1.134
date	2011.07.06.05.48.57;	author kettenis;	state Exp;
branches;
next	1.133;

1.133
date	2011.07.06.05.35.53;	author kettenis;	state Exp;
branches;
next	1.132;

1.132
date	2011.01.14.20.12.39;	author matthieu;	state Exp;
branches;
next	1.131;

1.131
date	2010.12.06.20.10.18;	author jasper;	state Exp;
branches;
next	1.130;

1.130
date	2009.12.31.11.58.41;	author kettenis;	state Exp;
branches;
next	1.129;

1.129
date	2009.10.04.17.49.33;	author deraadt;	state Exp;
branches;
next	1.128;

1.128
date	2009.10.03.19.56.14;	author kettenis;	state Exp;
branches;
next	1.127;

1.127
date	2009.09.19.19.37.42;	author kettenis;	state Exp;
branches;
next	1.126;

1.126
date	2009.07.05.17.13.25;	author kettenis;	state Exp;
branches;
next	1.125;

1.125
date	2009.06.03.23.45.15;	author kettenis;	state Exp;
branches;
next	1.124;

1.124
date	2009.06.02.04.13.37;	author kettenis;	state Exp;
branches;
next	1.123;

1.123
date	2009.05.20.18.22.33;	author miod;	state Exp;
branches;
next	1.122;

1.122
date	2009.05.16.10.53.06;	author kettenis;	state Exp;
branches;
next	1.121;

1.121
date	2009.05.10.12.24.04;	author kettenis;	state Exp;
branches;
next	1.120;

1.120
date	2009.04.12.14.53.15;	author kettenis;	state Exp;
branches;
next	1.119;

1.119
date	2009.03.09.22.36.43;	author kettenis;	state Exp;
branches;
next	1.118;

1.118
date	2009.03.01.19.17.18;	author kettenis;	state Exp;
branches;
next	1.117;

1.117
date	2009.01.12.20.11.13;	author kettenis;	state Exp;
branches;
next	1.116;

1.116
date	2009.01.10.17.28.48;	author kettenis;	state Exp;
branches;
next	1.115;

1.115
date	2009.01.10.17.13.28;	author kettenis;	state Exp;
branches;
next	1.114;

1.114
date	2009.01.04.17.24.06;	author kettenis;	state Exp;
branches;
next	1.113;

1.113
date	2008.12.30.21.34.07;	author kettenis;	state Exp;
branches;
next	1.112;

1.112
date	2008.12.29.22.07.35;	author miod;	state Exp;
branches;
next	1.111;

1.111
date	2008.08.13.19.30.02;	author kettenis;	state Exp;
branches;
next	1.110;

1.110
date	2008.07.11.14.23.53;	author kettenis;	state Exp;
branches;
next	1.109;

1.109
date	2008.07.07.14.46.18;	author kettenis;	state Exp;
branches;
next	1.108;

1.108
date	2008.07.06.08.52.26;	author kettenis;	state Exp;
branches;
next	1.107;

1.107
date	2008.07.06.07.27.43;	author kettenis;	state Exp;
branches;
next	1.106;

1.106
date	2008.06.10.00.02.09;	author kettenis;	state Exp;
branches;
next	1.105;

1.105
date	2008.04.21.04.50.22;	author deraadt;	state Exp;
branches;
next	1.104;

1.104
date	2008.03.23.20.07.21;	author miod;	state Exp;
branches;
next	1.103;

1.103
date	2008.03.16.22.21.27;	author kettenis;	state Exp;
branches;
next	1.102;

1.102
date	2008.03.13.22.46.58;	author kettenis;	state Exp;
branches;
next	1.101;

1.101
date	2008.03.09.20.52.55;	author kettenis;	state Exp;
branches;
next	1.100;

1.100
date	2008.03.09.17.34.30;	author kettenis;	state Exp;
branches;
next	1.99;

1.99
date	2008.03.09.17.24.19;	author kettenis;	state Exp;
branches;
next	1.98;

1.98
date	2008.03.08.19.40.07;	author kettenis;	state Exp;
branches;
next	1.97;

1.97
date	2008.03.08.19.28.37;	author kettenis;	state Exp;
branches;
next	1.96;

1.96
date	2008.03.08.19.27.26;	author kettenis;	state Exp;
branches;
next	1.95;

1.95
date	2008.02.20.09.44.47;	author robert;	state Exp;
branches;
next	1.94;

1.94
date	2008.02.12.10.12.14;	author robert;	state Exp;
branches;
next	1.93;

1.93
date	2008.01.18.20.13.22;	author kettenis;	state Exp;
branches;
next	1.92;

1.92
date	2007.11.27.23.29.57;	author kettenis;	state Exp;
branches;
next	1.91;

1.91
date	2007.10.20.18.54.42;	author kettenis;	state Exp;
branches;
next	1.90;

1.90
date	2007.10.10.15.53.53;	author art;	state Exp;
branches;
next	1.89;

1.89
date	2007.09.10.21.33.16;	author kettenis;	state Exp;
branches;
next	1.88;

1.88
date	2007.08.25.18.36.47;	author kettenis;	state Exp;
branches;
next	1.87;

1.87
date	2007.08.21.21.45.29;	author kettenis;	state Exp;
branches;
next	1.86;

1.86
date	2007.08.04.16.46.03;	author kettenis;	state Exp;
branches;
next	1.85;

1.85
date	2007.06.08.22.57.43;	author jasper;	state Exp;
branches;
next	1.84;

1.84
date	2007.05.29.04.10.15;	author kettenis;	state Exp;
branches;
next	1.83;

1.83
date	2007.05.28.23.10.10;	author beck;	state Exp;
branches;
next	1.82;

1.82
date	2007.04.10.19.05.52;	author kettenis;	state Exp;
branches;
next	1.81;

1.81
date	2007.04.10.19.03.10;	author kettenis;	state Exp;
branches;
next	1.80;

1.80
date	2007.04.09.19.59.06;	author kettenis;	state Exp;
branches;
next	1.79;

1.79
date	2007.04.04.18.48.25;	author kettenis;	state Exp;
branches;
next	1.78;

1.78
date	2007.03.30.22.24.56;	author kettenis;	state Exp;
branches;
next	1.77;

1.77
date	2007.03.07.06.23.02;	author miod;	state Exp;
branches;
next	1.76;

1.76
date	2007.02.03.20.08.50;	author miod;	state Exp;
branches;
next	1.75;

1.75
date	2006.12.09.20.06.48;	author miod;	state Exp;
branches;
next	1.74;

1.74
date	2006.12.02.15.55.16;	author miod;	state Exp;
branches;
next	1.73;

1.73
date	2006.09.27.06.33.03;	author grange;	state Exp;
branches;
next	1.72;

1.72
date	2006.06.27.20.29.20;	author deraadt;	state Exp;
branches;
next	1.71;

1.71
date	2006.06.19.15.13.35;	author deraadt;	state Exp;
branches;
next	1.70;

1.70
date	2006.06.16.22.01.30;	author jason;	state Exp;
branches;
next	1.69;

1.69
date	2006.06.02.04.46.01;	author jason;	state Exp;
branches;
next	1.68;

1.68
date	2006.05.28.23.37.42;	author jason;	state Exp;
branches;
next	1.67;

1.67
date	2006.05.15.21.38.34;	author miod;	state Exp;
branches;
next	1.66;

1.66
date	2006.03.04.10.29.24;	author miod;	state Exp;
branches;
next	1.65;

1.65
date	2006.02.10.05.28.56;	author djm;	state Exp;
branches;
next	1.64;

1.64
date	2006.02.01.11.03.33;	author dlg;	state Exp;
branches;
next	1.63;

1.63
date	2006.01.02.01.58.55;	author deraadt;	state Exp;
branches;
next	1.62;

1.62
date	2005.12.27.23.19.01;	author deraadt;	state Exp;
branches;
next	1.61;

1.61
date	2005.08.01.03.03.13;	author david;	state Exp;
branches;
next	1.60;

1.60
date	2005.05.02.03.22.10;	author brad;	state Exp;
branches;
next	1.59;

1.59
date	2005.05.01.21.36.57;	author brad;	state Exp;
branches;
next	1.58;

1.58
date	2005.03.09.18.41.48;	author miod;	state Exp;
branches;
next	1.57;

1.57
date	2005.03.08.20.00.24;	author tdeval;	state Exp;
branches;
next	1.56;

1.56
date	2005.03.05.01.44.52;	author miod;	state Exp;
branches;
next	1.55;

1.55
date	2004.10.08.13.04.36;	author grange;	state Exp;
branches;
next	1.54;

1.54
date	2004.10.01.18.18.48;	author jason;	state Exp;
branches;
next	1.53;

1.53
date	2004.09.28.02.06.36;	author jason;	state Exp;
branches;
next	1.52;

1.52
date	2004.09.27.21.12.40;	author jason;	state Exp;
branches;
next	1.51;

1.51
date	2004.09.23.18.00.58;	author jason;	state Exp;
branches;
next	1.50;

1.50
date	2004.09.22.21.48.18;	author jason;	state Exp;
branches;
next	1.49;

1.49
date	2004.09.16.09.14.04;	author mickey;	state Exp;
branches;
next	1.48;

1.48
date	2003.12.04.11.11.24;	author miod;	state Exp;
branches;
next	1.47;

1.47
date	2003.07.15.03.51.12;	author jason;	state Exp;
branches;
next	1.46;

1.46
date	2003.06.23.09.28.00;	author miod;	state Exp;
branches;
next	1.45;

1.45
date	2003.06.16.20.46.13;	author miod;	state Exp;
branches;
next	1.44;

1.44
date	2003.05.06.09.14.39;	author miod;	state Exp;
branches;
next	1.43;

1.43
date	2003.02.17.01.29.19;	author henric;	state Exp;
branches;
next	1.42;

1.42
date	2003.01.14.19.56.32;	author jason;	state Exp;
branches;
next	1.41;

1.41
date	2002.07.12.10.25.02;	author miod;	state Exp;
branches;
next	1.40;

1.40
date	2002.06.20.14.44.17;	author jason;	state Exp;
branches;
next	1.39;

1.39
date	2002.06.19.22.07.17;	author fgsch;	state Exp;
branches;
next	1.38;

1.38
date	2002.06.11.10.50.10;	author jason;	state Exp;
branches;
next	1.37;

1.37
date	2002.06.11.06.53.03;	author fgsch;	state Exp;
branches;
next	1.36;

1.36
date	2002.06.08.21.56.02;	author jason;	state Exp;
branches;
next	1.35;

1.35
date	2002.06.04.21.50.07;	author jason;	state Exp;
branches;
next	1.34;

1.34
date	2002.06.03.16.35.55;	author fgsch;	state Exp;
branches;
next	1.33;

1.33
date	2002.05.21.04.31.03;	author jason;	state Exp;
branches;
next	1.32;

1.32
date	2002.04.04.23.16.21;	author jason;	state Exp;
branches;
next	1.31;

1.31
date	2002.03.14.20.15.00;	author jason;	state Exp;
branches;
next	1.30;

1.30
date	2002.02.18.17.14.34;	author jason;	state Exp;
branches;
next	1.29;

1.29
date	2002.02.01.21.48.23;	author jason;	state Exp;
branches;
next	1.28;

1.28
date	2002.01.30.23.58.02;	author jason;	state Exp;
branches;
next	1.27;

1.27
date	2002.01.25.03.24.53;	author jason;	state Exp;
branches;
next	1.26;

1.26
date	2002.01.24.15.54.37;	author jason;	state Exp;
branches;
next	1.25;

1.25
date	2002.01.24.03.48.05;	author jason;	state Exp;
branches;
next	1.24;

1.24
date	2002.01.15.22.01.34;	author jason;	state Exp;
branches;
next	1.23;

1.23
date	2002.01.03.21.58.59;	author jason;	state Exp;
branches;
next	1.22;

1.22
date	2001.12.14.14.59.04;	author jason;	state Exp;
branches
	1.22.2.1;
next	1.21;

1.21
date	2001.12.07.16.34.03;	author jason;	state Exp;
branches;
next	1.20;

1.20
date	2001.12.04.20.13.47;	author jason;	state Exp;
branches;
next	1.19;

1.19
date	2001.10.28.02.23.28;	author jason;	state Exp;
branches
	1.19.2.1;
next	1.18;

1.18
date	2001.10.05.17.37.30;	author jason;	state Exp;
branches;
next	1.17;

1.17
date	2001.10.01.18.11.57;	author jason;	state Exp;
branches;
next	1.16;

1.16
date	2001.09.29.07.16.12;	author jason;	state Exp;
branches;
next	1.15;

1.15
date	2001.09.18.21.04.33;	author jason;	state Exp;
branches;
next	1.14;

1.14
date	2001.09.08.22.33.51;	author jason;	state Exp;
branches;
next	1.13;

1.13
date	2001.09.06.11.01.19;	author art;	state Exp;
branches;
next	1.12;

1.12
date	2001.08.23.05.05.59;	author art;	state Exp;
branches;
next	1.11;

1.11
date	2001.08.22.21.50.37;	author jason;	state Exp;
branches;
next	1.10;

1.10
date	2001.08.22.13.54.56;	author art;	state Exp;
branches;
next	1.9;

1.9
date	2001.08.22.12.24.48;	author art;	state Exp;
branches;
next	1.8;

1.8
date	2001.08.21.21.42.30;	author jason;	state Exp;
branches;
next	1.7;

1.7
date	2001.08.21.16.21.27;	author jason;	state Exp;
branches;
next	1.6;

1.6
date	2001.08.20.22.49.36;	author jason;	state Exp;
branches;
next	1.5;

1.5
date	2001.08.20.20.23.52;	author jason;	state Exp;
branches;
next	1.4;

1.4
date	2001.08.19.18.53.37;	author art;	state Exp;
branches;
next	1.3;

1.3
date	2001.08.19.17.24.34;	author art;	state Exp;
branches;
next	1.2;

1.2
date	2001.08.19.16.37.00;	author jason;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.18.19.09.52;	author art;	state Exp;
branches;
next	;

1.19.2.1
date	2001.10.31.03.07.57;	author nate;	state Exp;
branches;
next	1.19.2.2;

1.19.2.2
date	2001.11.13.21.04.17;	author niklas;	state Exp;
branches;
next	1.19.2.3;

1.19.2.3
date	2001.12.05.00.39.13;	author niklas;	state Exp;
branches;
next	1.19.2.4;

1.19.2.4
date	2002.03.06.02.04.46;	author niklas;	state Exp;
branches;
next	1.19.2.5;

1.19.2.5
date	2002.03.28.10.57.11;	author niklas;	state Exp;
branches;
next	1.19.2.6;

1.19.2.6
date	2003.03.27.23.42.35;	author niklas;	state Exp;
branches;
next	1.19.2.7;

1.19.2.7
date	2003.05.13.19.41.09;	author ho;	state Exp;
branches;
next	1.19.2.8;

1.19.2.8
date	2004.02.19.10.49.59;	author niklas;	state Exp;
branches;
next	;

1.22.2.1
date	2002.01.31.22.55.23;	author niklas;	state Exp;
branches;
next	1.22.2.2;

1.22.2.2
date	2002.06.11.03.38.42;	author art;	state Exp;
branches;
next	1.22.2.3;

1.22.2.3
date	2002.10.29.00.28.11;	author art;	state Exp;
branches;
next	1.22.2.4;

1.22.2.4
date	2003.05.19.21.46.57;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.148
log
@Move HID support files out of dev/usb into new dev/hid directory

These files aren't USB-specific and were used by the previous
Bluetooth implementation, and will be used by the upcoming
HID-over-i2C implementation

ok deraadt
previous version ok kettenis and mpi
@
text
@#	$OpenBSD: files.sparc64,v 1.147 2015/07/17 22:52:29 tedu Exp $
#	$NetBSD: files.sparc64,v 1.50 2001/08/10 20:53:50 eeh Exp $

# maxpartitions must be first item in files.${ARCH}
maxpartitions 16

maxusers 2 8 1024

define	mainbus {}
device	mainbus: pcibus, mainbus
attach	mainbus at root

device	ssm: mainbus
attach	ssm at mainbus
file	arch/sparc64/dev/ssm.c			ssm

define	upa {}
device	upa
attach	upa at mainbus
file	arch/sparc64/dev/upa.c			upa

define	central {}
device	central
attach	central at mainbus
file	arch/sparc64/dev/central.c		central

define	fhc {}
device	fhc
file	arch/sparc64/dev/fhc.c			fhc

attach	fhc at central with fhc_central
file	arch/sparc64/dev/fhc_central.c		fhc_central

attach	fhc at mainbus with fhc_mainbus
file	arch/sparc64/dev/fhc_mainbus.c		fhc_mainbus

device	clkbrd
attach	clkbrd at fhc
file	arch/sparc64/dev/clkbrd.c		clkbrd

device	environ
attach	environ at fhc
file	arch/sparc64/dev/environ.c		environ

device	vbus {}
attach	vbus at mainbus
file	arch/sparc64/dev/vbus.c			vbus

device	cbus {}
attach	cbus at vbus
file	arch/sparc64/dev/cbus.c			cbus

# Sun HME Ethernet controllers
device	hme: ether, ifnet, mii, ifmedia
file	dev/ic/hme.c				hme

device	uperf
file	arch/sparc64/dev/uperf.c		uperf needs-flag

# Framebuffer support

file	arch/sparc64/dev/fb.c
include	"dev/wscons/files.wscons"
include	"dev/rasops/files.rasops"
include	"dev/wsfont/files.wsfont"

device	pcons: wsemuldisplaydev
attach	pcons at mainbus
file	arch/sparc64/dev/pcons.c		pcons needs-flag

device	prtc
attach	prtc at mainbus
file	arch/sparc64/dev/prtc.c			prtc

include	"dev/sbus/files.sbus"
include	"dev/mii/files.mii"
include	"dev/atapiscsi/files.atapiscsi"
include	"dev/ata/files.ata"
include	"dev/pckbc/files.pckbc"
include	"dev/pcmcia/files.pcmcia"

# Needs to be declared before including files.sun
device	zs {[channel = -1]}

# Sun specific files
include	"dev/sun/files.sun"

define	iommu
define	viommu
file	arch/sparc64/dev/iommu.c		iommu | viommu | sbus
file	arch/sparc64/dev/viommu.c		viommu

define msi
file	arch/sparc64/dev/msi.c			msi

attach	sbus at mainbus with sbus_mb
attach	sbus at xbox with sbus_xbox
file	arch/sparc64/dev/sbus.c			sbus

device	creator: wsemuldisplaydev, rasops32, firmload
attach	creator at mainbus, upa
file	arch/sparc64/dev/creator.c		creator

device	gfb: wsemuldisplaydev, rasops32
attach	gfb at upa
file	arch/sparc64/dev/gfb.c			gfb

include	"dev/pci/files.pci"
major	{wd = 12}

device	psycho: pcibus, iommu
attach	psycho at mainbus
file	arch/sparc64/dev/psycho.c		psycho

device	schizo: pcibus, iommu
attach	schizo at mainbus
file	arch/sparc64/dev/schizo.c		schizo

device	pyro: pcibus, iommu, msi
attach	pyro at mainbus
file	arch/sparc64/dev/pyro.c			pyro

device	vpci: pcibus, viommu, msi
attach	vpci at mainbus
file	arch/sparc64/dev/vpci.c			vpci

file	arch/sparc64/dev/pci_machdep.c		psycho | schizo | pyro | vpci

attach	hme at pci with hme_pci
file	dev/pci/if_hme_pci.c			hme_pci

define	ifb_ident
file	arch/sparc64/dev/ifb_ident.c		ifb_ident

device	vgafb: ifb_ident, wsemuldisplaydev, rasops_bswap, rasops8, rasops16, rasops32
attach	vgafb at pci
file	arch/sparc64/dev/vgafb.c		vgafb

device	machfb: wsemuldisplaydev, rasops_bswap, rasops8
attach	machfb at pci
file	arch/sparc64/dev/machfb.c		machfb

device	radeonfb: wsemuldisplaydev, rasops_bswap, rasops8, rasops32
attach	radeonfb at pci
file	arch/sparc64/dev/radeonfb.c		radeonfb

device	ifb: ifb_ident, wsemuldisplaydev, rasops_bswap, rasops8
attach	ifb at pci
file	arch/sparc64/dev/ifb.c			ifb

device	raptor: wsemuldisplaydev, rasops_bswap, rasops8
attach	raptor at pci
file	arch/sparc64/dev/raptor.c		raptor

device	gfxp: wsemuldisplaydev, rasops_bswap, rasops8, rasops32
attach	gfxp at pci
file	arch/sparc64/dev/gfxp.c			gfxp

device	sbbc
attach	sbbc at pci
file	arch/sparc64/dev/sbbc.c			sbbc needs-flag

# Starfire PC is needed for sbus and pci
file	arch/sparc64/dev/starfire.c		sbus | psycho

device	ebus {[addr = -1]}: pcibus
attach	ebus at pci
attach	ebus at mainbus with ebus_mainbus
file	arch/sparc64/dev/ebus.c			ebus
file	arch/sparc64/dev/ebus_mainbus.c		ebus_mainbus

attach	uperf at ebus with uperf_ebus
file	arch/sparc64/dev/uperf_ebus.c		uperf_ebus

device	clock: mk48txx
attach	clock at mainbus, sbus with clock_sbus
attach	clock at ebus with clock_ebus
attach	clock at fhc with clock_fhc

device	timer
attach	timer at mainbus, sbus

device	eeprom
attach	eeprom at sbus, ebus
file	arch/sparc64/sparc64/clock.c

device	cmp {}
attach	cmp at mainbus
file	arch/sparc64/dev/cmp.c			cmp

device	core {}
attach	core at cmp
file	arch/sparc64/dev/core.c			core

device	cpu
attach	cpu at mainbus, cmp, core
file	arch/sparc64/sparc64/cpu.c

device	auxio
attach	auxio at ebus with auxio_ebus
attach	auxio at sbus with auxio_sbus
file	arch/sparc64/dev/auxio.c		auxio

device	bbc
attach	bbc at ebus
file	arch/sparc64/dev/bbc.c			bbc

device	beeper
attach	beeper at ebus
file	arch/sparc64/dev/beeper.c		beeper

device	beep
attach	beep at ebus
file	arch/sparc64/dev/beep.c			beep

device	led
attach	led at ebus
file	arch/sparc64/dev/led.c			led

device	lom
attach	lom at ebus
file	arch/sparc64/dev/lom.c			lom

device	pmc
attach	pmc at ebus
file	arch/sparc64/dev/pmc.c			pmc

device	ppm
attach	ppm at ebus
file	arch/sparc64/dev/ppm.c			ppm

device	power
attach	power at ebus
file	arch/sparc64/dev/power.c		power

device	rtc
attach	rtc at ebus
file	arch/sparc64/dev/rtc.c			rtc

device	sab {}
attach	sab at ebus
device	sabtty
attach	sabtty at sab
file	arch/sparc64/dev/sab.c			sab | sabtty needs-flag

device	audioce: audio
attach	audioce at ebus
file	arch/sparc64/dev/ce4231.c		audioce

file	arch/sparc64/dev/stp_sbus.c		stp_sbus

attach	wbsd at ebus with wbsd_ebus
file	arch/sparc64/dev/wbsd_ebus.c		wbsd

#
# Console related stuff
#

attach	com at ebus with com_ebus
file	arch/sparc64/dev/com_ebus.c		com_ebus

attach	pckbc at ebus with pckbc_ebus
file	arch/sparc64/dev/pckbc_ebus.c		pckbc_ebus

device	comkbd: wskbddev, sunkbd
attach	comkbd at ebus
file	arch/sparc64/dev/comkbd_ebus.c		comkbd

device	comms: wsmousedev, sunms
attach	comms at ebus
file	arch/sparc64/dev/comms_ebus.c		comms

attach	lpt at ebus with lpt_ebus
file	arch/sparc64/dev/lpt_ebus.c		lpt_ebus

#device	zs {[channel = -1]}
attach	zs at sbus with zs_sbus
attach	zs at fhc with zs_fhc
file	arch/sparc64/dev/zs.c			zs
file	dev/ic/z8530sc.c			zs

define	zstty {}
device	zstty: tty
attach	zstty at zs
file	dev/ic/z8530tty.c			zstty needs-flag

device	zskbd: wskbddev, sunkbd
attach	zskbd at zs
file	arch/sparc64/dev/z8530kbd.c		zskbd

# Floppy drive
device	fdc {}
attach	fdc at sbus with fdc_sbus
attach	fdc at ebus with fdc_ebus
device	fd: disk
attach	fd at fdc
file	arch/sparc64/dev/fd.c			fdc | fd	needs-flag

# PCF8584 I2C Controller
attach	pcfiic at ebus with pcfiic_ebus
file	arch/sparc64/dev/pcfiic_ebus.c		pcfiic_ebus

file	arch/sparc64/dev/consinit.c

file	arch/sparc64/fpu/fpu.c
file	arch/sparc64/fpu/fpu_add.c
file	arch/sparc64/fpu/fpu_compare.c
file	arch/sparc64/fpu/fpu_div.c
file	arch/sparc64/fpu/fpu_explode.c
file	arch/sparc64/fpu/fpu_implode.c
file	arch/sparc64/fpu/fpu_mul.c
file	arch/sparc64/fpu/fpu_sqrt.c
file	arch/sparc64/fpu/fpu_subr.c

file	arch/sparc64/sparc64/autoconf.c
file	arch/sparc64/sparc64/busop.c
file	arch/sparc64/sparc64/cache.c
file	arch/sparc64/sparc64/conf.c
file	arch/sparc64/sparc64/disksubr.c
file	arch/sparc64/sparc64/emul.c
file	arch/sparc64/sparc64/hvcall.S		sun4v
file	arch/sparc64/sparc64/in_cksum.S
file	arch/sparc64/sparc64/in4_cksum.c
file	arch/sparc64/sparc64/intr.c
file	arch/sparc64/sparc64/ipifuncs.c		multiprocessor
file	arch/sparc64/sparc64/kgdb_machdep.c	kgdb
# sparc64/sparc64/locore.s is handled specially in the makefile,
# because it must come first in the "ld" command line.
file	arch/sparc64/sparc64/lock_machdep.c	multiprocessor
file	arch/sparc64/sparc64/machdep.c
file	arch/sparc64/sparc64/mdesc.c		sun4v
file	arch/sparc64/sparc64/mem.c
file	arch/sparc64/sparc64/mutex.S
file	arch/sparc64/sparc64/openprom.c
file	arch/sparc64/sparc64/openfirm.c
file	arch/sparc64/sparc64/ofw_machdep.c
file	arch/sparc64/sparc64/pmap.c
file	arch/sparc64/sparc64/process_machdep.c
file	arch/sparc64/sparc64/sys_machdep.c
file	arch/sparc64/sparc64/trap.c
file	arch/sparc64/sparc64/vm_machdep.c

file	arch/sparc64/sparc64/db_interface.c	ddb | kgdb
file	arch/sparc64/sparc64/db_trace.c		ddb
file	arch/sparc64/sparc64/db_disasm.c	ddb

#
# Machine-independent SCSI drivers
#
include	"scsi/files.scsi"
major	{sd = 7}
major	{vnd = 8}
major	{cd = 18}
major	{rd = 5}

#
# Machine-independent HID support
#
include	"dev/hid/files.hid"

#
# Machine-independent I2C drivers
#
include "dev/i2c/files.i2c"
file	arch/sparc64/dev/ofwi2c.c		i2cbus

#
# Machine-independent SD/MMC drivers
#
include "dev/sdmmc/files.sdmmc"

#
# Machine-independent USB drivers
#
include	"dev/usb/files.usb"

#
# Cardbus
#
include "dev/cardbus/files.cardbus"
file	arch/sparc64/sparc64/rbus_machdep.c	cardbus

#
# Machine-dependent I2C drivers
#

# PCF8591 ADC I2C Sensor (needs ofw, so sparc64 only for now)
device	pcfadc
attach	pcfadc at i2c
file	arch/sparc64/dev/pcf8591_ofw.c		pcfadc

# PCF8591 ADC I2C Sensor (envctrl, so sparc64 only)
device	ecadc
attach	ecadc at i2c
file	arch/sparc64/dev/pcf8591_envctrl.c	ecadc

# TDA8444 (sparc64 only for now)
device	tda
attach	tda at i2c
file	arch/sparc64/dev/tda.c			tda needs-flag

#
# Machine-independent GPIO drivers
#
include "dev/gpio/files.gpio"

#
# Machine-independent 1-Wire drivers
#
include "dev/onewire/files.onewire"

# Virtual console
device	vcons
attach	vcons at vbus
file	arch/sparc64/dev/vcons.c		vcons needs-flag

# Virtual random number generator
device	vrng
attach	vrng at vbus
file	arch/sparc64/dev/vrng.c			vrng

# Virtual rtc
device	vrtc
attach	vrtc at vbus
file	arch/sparc64/dev/vrtc.c			vrtc

define	ldc
file	arch/sparc64/dev/ldc.c			ldc

# Virtual disk server
device	vds {}
attach	vds at cbus
file	arch/sparc64/dev/vds.c			vds

# Virtual disk server port
device	vdsp: ldc
attach	vdsp at vds
file	arch/sparc64/dev/vdsp.c			vdsp needs-flag

# Virtual disk
device	vdsk: ldc, scsi
attach	vdsk at cbus
file	arch/sparc64/dev/vdsk.c			vdsk

# Virtual network switch
device	vsw {}
attach	vsw at cbus
file	arch/sparc64/dev/vsw.c			vsw

# Virtual network
device	vnet: ldc
attach	vnet at cbus, vsw
file	arch/sparc64/dev/vnet.c			vnet

# Virtual console concentrator
device	vcc {}
attach	vcc at cbus
file	arch/sparc64/dev/vcc.c			vcc

device	vcctty: ldc
attach	vcctty at vcc
file	arch/sparc64/dev/vcctty.c		vcctty needs-flag

# Virtual channel
device	vldc {}
attach	vldc at cbus
file	arch/sparc64/dev/vldc.c			vldc

device	vldcp: ldc
attach	vldcp at vldc
file	arch/sparc64/dev/vldcp.c		vldcp needs-flag

device	mgiic: i2cbus
attach	mgiic at mainbus
file	arch/sparc64/dev/mgiic.c		mgiic
@


1.147
log
@remove obsolete INET kernel option
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.146 2015/05/11 06:46:21 ratchov Exp $
d355 5
@


1.146
log
@Remove all audio format conversion code from the kernel (btw holding
the kernel_lock), as we already do better conversions in
user-mode. Yet, no need for every single driver to fiddle with the
conversion code as they are done transparently by common MI code. With
help from armani and miod, support from mpi

ok armani@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.145 2014/07/11 21:54:38 tedu Exp $
d322 2
a323 2
file	arch/sparc64/sparc64/in_cksum.S		inet
file	arch/sparc64/sparc64/in4_cksum.c	inet
@


1.145
log
@"It's not the years, honey; it's the mileage."

bluetooth support doesn't work and isn't going anywhere. the current
design is a dead end, and should not be the basis for any future support.
general consensus says to whack it so as to not mislead the unwary.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.144 2013/11/04 14:07:16 deraadt Exp $
d246 1
a246 1
device	audioce: audio, auconv
@


1.144
log
@remove iop(4) driver.  it is entirely unmaintained and supports something
which basically doesn't exist at all.
reminded about it by brad
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.143 2013/11/01 21:22:31 miod Exp $
a370 5

#
# Bluetooth
#
include "dev/bluetooth/files.bluetooth"
@


1.143
log
@Drop zsaddr[NZS] and the need for zs to be needs-count. zsaddr[] is no longer
necessary now that each zs device registers its own interrupt handler, and
zshard() does not need to walk all zs chips, which has been the case for years.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.142 2013/08/15 06:54:35 kettenis Exp $
a75 1
include	"dev/i2o/files.i2o"
@


1.142
log
@Include files.agp and files.drm from files.pci.  Makes sure "drm.h" gets
generated on all architectures that support pci, making alpha and loongson
compile again.

ok todd@@, miod@@ seemed to agree with the idea
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.141 2013/08/12 04:11:52 jsg Exp $
d280 1
a280 1
file	arch/sparc64/dev/zs.c			zs needs-flag
@


1.141
log
@Add a port of the TTM and Radeon DRM code from Linux 3.8.13.
Includes kernel modesetting, framebuffer console and support
for newer hardware.

Firmware needs to be present for acceleration and in some cases
modesetting to work.  It can be installed via fw_update
or manually via pkg_add.

With lots of help from kettenis@@ some macppc bits from mpi@@
and some ttm refcount/queue bits from FreeBSD.

Thanks to M:Tier and the OpenBSD Foundation for sponsoring this work.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.140 2013/04/21 14:44:16 sebastia Exp $
a109 2
include	"dev/pci/files.agp"
include	"dev/pci/drm/files.drm"
@


1.140
log
@Unify the zs tty driver.

Most of the hard work by mpi@@, who provided the initial diff.
Fixes for sparc from myself. Tested on sgi and sparc myself.
Compiles and detects zstty on my powerbook, compile tested on
sparc64 by me. Real testing with zs device on sparc64 by miod@@
who also gave a lot of help and feedback.

ok miod@@, mpi@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.139 2012/12/08 20:38:10 kettenis Exp $
d110 2
@


1.139
log
@Make ldomd(8) to control the availability of virtual disks to guest domains.
This is done by opening the corresponding /dev/vdspN device file.  The virtual
disk will remain available until that device is closed, which happens
automatically when ldomd(8) exits.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.138 2012/10/17 11:52:22 kettenis Exp $
d281 1
a281 1
file	arch/sparc64/dev/z8530sc.c		zs
d286 1
a286 1
file	arch/sparc64/dev/z8530tty.c		zstty needs-flag
@


1.138
log
@Rename hvctl(4) into vldcp(4) since this driver now handles other services
as well.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.137 2012/08/30 15:51:13 deraadt Exp $
d439 1
a439 1
file	arch/sparc64/dev/vdsp.c			vdsp
@


1.137
log
@no md_root_setconf
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.136 2012/03/17 21:30:09 kettenis Exp $
d470 3
a472 3
device	hvctl: ldc
attach	hvctl at vldc
file	arch/sparc64/dev/hvctl.c		hvctl needs-flag
@


1.136
log
@Add vldc(4) and hvctl(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.135 2011/11/15 22:27:53 deraadt Exp $
a346 2

file	arch/sparc64/dev/md_root.c	memory_disk_hooks
@


1.135
log
@Simplify various parts of the puc(4) attachment code.  Tested lightly
by krw and myself.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.134 2011/07/06 05:48:57 kettenis Exp $
d466 9
@


1.134
log
@Add MSI support to pyro(4).  Tested on a v215 with the on-board mpi(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.134 2011/07/06 05:39:00 kettenis Exp $
a110 2

include	"dev/puc/files.puc"
@


1.133
log
@Split some generic MSI code out into its own file.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.132 2011/01/14 20:12:39 matthieu Exp $
d122 1
a122 1
device	pyro: pcibus, iommu
@


1.132
log
@creator needs firmload. ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.131 2010/12/06 20:10:18 jasper Exp $
d94 3
d126 1
a126 1
device	vpci: pcibus, viommu
@


1.131
log
@- use consistent 'include' rules without a full relative path.
tested on a GENERIC config from all arches.

ok deraadt@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.130 2009/12/31 11:58:41 kettenis Exp $
d98 1
a98 1
device	creator: wsemuldisplaydev, rasops32
@


1.130
log
@Add vds(4) and vdsp(4), implementing the vDisk server side protocol.  This
makes it possible to run an OpenBSD guest domain on top of a virtiual disk
backed by a disk image on a filesystem on OpenBSD control or service domain.

Probably doesn't support running Solaris or Linux yet.  Haven't tried those
yet because booting their installers in a guest domain is way too painful!
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.129 2009/10/04 17:49:33 deraadt Exp $
d87 1
a87 1
include	"../../../dev/sun/files.sun"
d352 1
a352 1
include	"../../../scsi/files.scsi"
@


1.129
log
@pull in wbsd conditionally; ok kettenis
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.128 2009/10/03 19:56:14 kettenis Exp $
d431 10
@


1.128
log
@Glue to attach the SD/MCC reader of the W83L519D found on some Tadpole
laptops.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.127 2009/09/19 19:37:42 kettenis Exp $
d253 1
a253 1
file	arch/sparc64/dev/wbsd_ebus.c
@


1.127
log
@Initial stab at a driver for LOMlite2 as found on the Sun Fire V100, Sun Fire
V120 and Sun Netra X1.  For now this only provides a temperature sensor, but
more stuff will follow.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.126 2009/07/05 17:13:25 kettenis Exp $
d252 3
d363 5
@


1.126
log
@radeonfb(4), an accelerated framebuffer for Sun XVR-100 boards (which have an
ATI Radeon 7000 chip on them).  While there, make gfxp(4) depend on rasops32
just in case somebody removes other framebuffers that pull this in from their
kernel config.

ok deraadt@@, miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.125 2009/06/03 23:45:15 kettenis Exp $
d219 4
@


1.125
log
@Initial stab at a driver for the Tech Source Raptor GFX built around the
3D Labs Permedia 2v chip.  These cards were sold by Sun as PGX32.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.124 2009/06/02 04:13:37 kettenis Exp $
d143 4
d155 1
a155 1
device	gfxp: wsemuldisplaydev, rasops_bswap, rasops8
@


1.124
log
@Initial stab at an accelerated driver for PGX/PGX64 framebuffers.
Inspiration from the NetBSD, Linux and X.org drivers.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.123 2009/05/20 18:22:33 miod Exp $
d150 4
@


1.123
log
@Add code to attach sun mice on sparc and sparc64 as wsmouse devices. Since
not all Sun mice run at the canonical 1200 bps, hop between 1200, 4800 and
9600 bps by paying attention to breaks on the line.

Attachement and engine code written 7 years ago for OpenBSD/sparc, except for
sparc64 com(4) attachment. Speed hop idea borrowed from Opensolaris.

This allows sparc and sparc64 users to run X11 without needing a configuration
file anymore, as it was in the XFree86 3.x days. Multihead configurations
will still need a minimal configuration file, though.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.122 2009/05/16 10:53:06 kettenis Exp $
d138 4
@


1.122
log
@Add vsw(4), a driver for the virtual network switch on sun4v.  This is just
some simple glue to attach each port as a network interface.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.121 2009/05/10 12:24:04 kettenis Exp $
d83 3
d246 1
a246 1
device	comkbd: tty, wskbddev, sunkbd
d250 4
d257 1
a257 1
device	zs {[channel = -1]}
d268 1
a268 1
device	zskbd: tty, wskbddev, sunkbd
d270 1
a270 1
file	arch/sparc64/dev/z8530kbd.c		zskbd needs-flag
@


1.121
log
@Add vcc(4) and vcctty(4).  The vcc(4) driver is a driver for the "Virtual
Console Concentrator" found on the control domain of sun4v systems.  It
manages the connections to the consoles of guest domains which are exposed
as terminal-like devices through vcctty(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.120 2009/04/12 14:53:15 kettenis Exp $
d406 5
d413 1
a413 1
attach	vnet at cbus
@


1.120
log
@Move code handling Machine Descriptions out of the cbus(4) driver.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.119 2009/03/09 22:36:43 kettenis Exp $
d410 9
@


1.119
log
@Initial stab at a driver for FFB3/XVR-1000.  It seems to work fine, but without
acceleration it is a tad bit slow, so leave this disabled for now.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.118 2009/03/01 19:17:18 kettenis Exp $
d305 1
@


1.118
log
@An accelerated framebuffer driver for the Tech Source Raptor GFX cards built
around the Number 0 Imagine-128 chip.  Colormap support is still missing.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.117 2009/01/12 20:11:13 kettenis Exp $
d98 4
@


1.117
log
@Initial stab at a driver for virtual disks found on sun4v logical domains.
Still needs some work, but reading from and writing to a disk image works.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.116 2009/01/10 17:28:48 kettenis Exp $
d135 4
@


1.116
log
@Tweak the way we include the iommu code a bit.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.115 2009/01/10 17:13:28 kettenis Exp $
d391 5
@


1.115
log
@Split off LDC support code into its own file.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.114 2009/01/04 17:24:06 kettenis Exp $
d55 1
a55 1
file	dev/ic/hme.c			hme
d86 5
d104 1
a104 1
device	psycho: pcibus
d108 1
a108 1
device	schizo: pcibus
d112 1
a112 1
device	pyro: pcibus
d116 1
a116 1
device	vpci: pcibus
a138 4

# IOMMU is for both sbus and pci
file	arch/sparc64/dev/iommu.c		sbus | psycho | schizo | pyro | vpci
file	arch/sparc64/dev/viommu.c		vpci
@


1.114
log
@Initial stab at a driver for virtual network devices found on sun4v logical
domains.  Still needs a lot of work, but good enough for an nfs root.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.113 2008/12/30 21:34:07 kettenis Exp $
d388 3
d392 1
a392 1
device	vnet
@


1.113
log
@Add cbus(4), a virtual bus for devices that use logical domain channels as
found on sun4v systems with multiple domains configured.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.112 2008/12/29 22:07:35 miod Exp $
d387 5
@


1.112
log
@Move ifb identification to its own routine. We can not simply have the ifb
probe win over vgafb, since one may configure a kernel with vgafb but without
ifb (especially slackers who forget to rerun config).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.111 2008/08/13 19:30:02 kettenis Exp $
d48 4
@


1.111
log
@Initial stab at a driver for the integrated random number generator of the
UltraSPARC T2.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.110 2008/07/11 14:23:53 kettenis Exp $
d116 4
a119 1
device	vgafb: wsemuldisplaydev, rasops_bswap, rasops8, rasops16, rasops32
d123 1
a123 1
device	ifb: wsemuldisplaydev, rasops8
@


1.110
log
@Fujitsu SPARC64-VI CPU's have two cores that have two threads each.  Provide
a core(4) device, representing these cores and attach cpu(4) devices to it
for each thread.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.108 2008/07/06 08:52:26 kettenis Exp $
d370 5
@


1.109
log
@Extend sbbc(4) to provide a console driver for the v1280.
@
text
@d156 8
d165 1
a165 1
attach	cpu at mainbus
a166 4

device	cmp: mainbus
attach	cmp at mainbus
file	arch/sparc64/dev/cmp.c			cmp
@


1.108
log
@Add ssm(4), a driver for the scalable shared memory device found on
Serengeti and Starcat systems.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.107 2008/07/06 07:27:43 kettenis Exp $
d126 1
a126 1
file	arch/sparc64/dev/sbbc.c			sbbc
@


1.107
log
@Add sbbc(4), a driver for the BootBus controller on Serengeti and StarCat
systems that provides time of day services and (in the future) console
services.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.106 2008/06/10 00:02:09 kettenis Exp $
d12 4
a15 1
file	arch/sparc64/dev/upa.c			upa
d20 1
@


1.106
log
@Add cmp(4), a dummy driver to make attaching CMT cpus easier.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.105 2008/04/21 04:50:22 deraadt Exp $
d119 4
@


1.105
log
@Work in progress at supporting the Mentor Graphics i2c core found in
the Fire pcie hostbridge.  Fairly horrid device to deal with.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.104 2008/03/23 20:07:21 miod Exp $
d151 4
@


1.104
log
@Not-functional-enough driver for the Sun Expert3D cards, put in tree as an
incentive for further tinkering only; not for the faint of heart.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.103 2008/03/16 22:21:27 kettenis Exp $
d359 4
@


1.103
log
@Add some e10k support code.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.102 2008/03/13 22:46:58 kettenis Exp $
d115 4
@


1.102
log
@Add prtc(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.101 2008/03/09 20:52:55 kettenis Exp $
d119 3
@


1.101
log
@Add files for vpci(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.100 2008/03/09 17:34:30 kettenis Exp $
d62 4
@


1.100
log
@The IOMMU code is needed for schizo(4) and pyro(4) too.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.99 2008/03/09 17:24:19 kettenis Exp $
d99 5
a103 1
file	arch/sparc64/dev/pci_machdep.c		psycho | schizo | pyro
d113 2
a114 1
file	arch/sparc64/dev/iommu.c		sbus | psycho | schizo | pyro
@


1.99
log
@Add hvcall.S if option SUN4V is defined.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.98 2008/03/08 19:40:07 kettenis Exp $
d108 2
a109 2
# IOMMU is for both
file	arch/sparc64/dev/iommu.c		sbus | psycho
@


1.98
log
@Add vcons(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.97 2008/03/08 19:28:37 kettenis Exp $
d247 1
@


1.97
log
@Add vrtc(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.96 2008/03/08 19:27:26 kettenis Exp $
d332 5
@


1.96
log
@Add vbus(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.95 2008/02/20 09:44:47 robert Exp $
d332 5
@


1.95
log
@make tda(4) run the fans at maximum speed when we are about to drop
drop to ddb(4) in order to avoid overheating in case of a system crash.

ok kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.94 2008/02/12 10:12:14 robert Exp $
d40 4
@


1.94
log
@tda(4) is a driver for Philips TDA8444 which can be found in
Sun Blade 1000/1500/2000/2500 machines.
The driver controlls the speed of the ambient and cpu fans,
based on the temperatures.
not included in GENERIC yet; help and ok kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.93 2008/01/18 20:13:22 kettenis Exp $
d317 1
a317 1
file	arch/sparc64/dev/tda.c			tda
@


1.93
log
@Add environ(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.92 2007/11/27 23:29:57 kettenis Exp $
d313 5
@


1.92
log
@Like i386 and amd64 - make the __mp_lock not spin at splhigh.

help from & ok art@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.91 2007/10/20 18:54:42 kettenis Exp $
d36 4
@


1.91
log
@Add support for the temperature sensors on the SUNW,envctrltwo device found
on the Sun Enterprise 250.  This device (and SUNW,envctrl found on the
Enterprise 450) is a PCF8584 I2C controller with several generic I2C chips
attached to it.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.90 2007/10/10 15:53:53 art Exp $
d246 1
@


1.90
log
@Make context switching much more MI:
 - Move the functionality of choosing a process from cpu_switch into
   a much simpler function: cpu_switchto. Instead of having the locore
   code walk the run queues, let the MI code choose the process we
   want to run and only implement the context switching itself in MD
   code.
 - Let MD context switching run without worrying about spls or locks.
 - Instead of having the idle loop implemented with special contexts
   in MD code, implement one idle proc for each cpu. make the idle
   loop MI with MD hooks.
 - Change the proc lists from the old style vax queues to TAILQs.
 - Change the sleep queue from vax queues to TAILQs. This makes
   wakeup() go from O(n^2) to O(n)

there will be some MD fallout, but it will be fixed shortly.
There's also a few cleanups to be done after this.

deraadt@@, kettenis@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.89 2007/09/10 21:33:16 kettenis Exp $
d303 5
@


1.89
log
@IPI implementation.  Bits and pieces from NetBSD, but the interface has been
changed to free up another 64-bit word in the interrupt transaction.  This
means we have two 64-bit words available for arguments, which means we
probably don't need to pass arguments through structures.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.88 2007/08/25 18:36:47 kettenis Exp $
a245 1
file	arch/sparc64/sparc64/locore2.c
@


1.88
log
@Real mutexes for sparc64.  Some comments from henric@@ and claudio@@.
Tested by fkr@@, claudio@@, nick@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.87 2007/08/21 21:45:29 kettenis Exp $
d242 1
d260 1
a260 1
file	arch/sparc64/sparc64/db_trace.c	ddb
@


1.87
log
@Remove two out-of-date comments.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.86 2007/08/04 16:46:03 kettenis Exp $
d248 1
a248 1
file	arch/sparc64/sparc64/mutex.c
@


1.86
log
@rbus for sparc64

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.85 2007/06/08 22:57:43 jasper Exp $
a232 2
# N.B.: optimizer breaks pmap.c and/or cache.c somehow -- have not
# identified the exact problem yet.  NOOPT_C suffices for now.
a253 3
# the following overrides the generic "sys_process.c"
# commented out by deraadt
#file	arch/sparc64/sparc64/sys_process.c
@


1.85
log
@include files.bluetooth, so that bluetooth support can be compiled,
if enabled.

ok gwk@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.84 2007/05/29 04:10:15 kettenis Exp $
d293 6
@


1.84
log
@Add led(4).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.83 2007/05/28 23:10:10 beck Exp $
d288 5
@


1.83
log
@Maintaining a broken compatibility layer for a broken OS is not a productive
activity for anyone. Bye bye COMPAT_NETBSD. ok tedu@@, deraadt@@, and many others
in the hackathon room.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.82 2007/04/10 19:05:52 kettenis Exp $
d144 4
@


1.82
log
@Driver for the BootBus Controller; sets some magic bits that makes pmc(4)
actually work.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.81 2007/04/10 19:03:10 kettenis Exp $
a61 4

# COMPAT_NETBSD
include	"compat/netbsd/files.netbsd"
file	arch/sparc64/sparc64/netbsd_machdep.c	compat_netbsd
@


1.81
log
@New driver for watchdog time on NatSemi PC87317 SuperIO chip.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.80 2007/04/09 19:59:06 kettenis Exp $
d136 4
@


1.80
log
@Seperate rtc(4) code out into its own file.  Add support for catching the
power button interrupts on ds1287 models.  The hardware will stil power off
automatically about 20 seconds after the power button is pressed, but we get
a decent chance at doing a clean shutdown before that.

"a good start" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.79 2007/04/04 18:48:25 kettenis Exp $
d144 4
@


1.79
log
@Add support for ebus at mainbus, as found on machines with pyro(4) like the
v215.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.78 2007/03/30 22:24:56 kettenis Exp $
a120 3
device	rtc
attach	rtc at ebus with rtc_ebus

d152 4
@


1.78
log
@First stab at a driver for the Host/PCIe bridge found on the Sun Fire
v215/v245/v445 systems.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.77 2007/03/07 06:23:02 miod Exp $
d109 1
d111 1
@


1.77
log
@For unsupported (yet) Expert3D style frame buffers, attach pcons and attach
a really dumb wsdisplay to pcons, so that wskbd/wsmouse input drivers can be
used for input, and prom for output.

This is a band-aid for the release, so that people with such frame buffers
do not need to unplug them or switch to serial console to install OpenBSD.

Probably not the best way to do this, but this one has a minimal footprint
and no tentacles in wscons.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.76 2007/02/03 20:08:50 miod Exp $
d90 6
a95 1
file	arch/sparc64/dev/pci_machdep.c		psycho | schizo
@


1.76
log
@Simple single-processor mutex implementation, simpler than the MI code by
use of MD spl code bowels. No functional change.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.75 2006/12/09 20:06:48 miod Exp $
a36 4
device	pcons
attach	pcons at mainbus
file	arch/sparc64/dev/pcons.c		pcons needs-flag

d50 4
@


1.75
log
@Do not make sun terminal emulation selected by the wsemul_sun frame buffer
attribute anymore; remove it and use option WSEMUL_SUN instead, which gets
added to all sparc* kernels.

While there, do not compile vt100 emulation on sparc* kernels, this saves 16+
KB of text.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.74 2006/12/02 15:55:16 miod Exp $
d223 1
a232 1
file	arch/sparc64/sparc64/process_machdep.c
d234 1
d239 1
a245 1
file	arch/sparc64/sparc64/disksubr.c
@


1.74
log
@On frame buffers which endianness differs from the host CPU, we can not afford
using ovbcopy() in the erasecols emulop, as the ovbcopy implementation might
do larger-than-byte loads and store, which will not have the expected result
if the source and destination addresses are not similarly aligned.

Instead, roll our own byte-only ovbcopy() in this case. This is made dependent
on a config(8) attribute to avoid bloating platforms which do not need this,
thus frame buffers which may set RI_BSWAP in ri_flg need to depend on this
attribute.

Problem spotted by matthieu@@ using tcsh on sparc64 console.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.73 2006/09/27 06:33:03 grange Exp $
d74 1
a74 1
device	creator: wsemuldisplaydev, rasops32, wsemul_sun
d95 1
a95 1
device	vgafb: wsemuldisplaydev, rasops_bswap, rasops8, rasops16, rasops32, wsemul_sun
@


1.73
log
@Add files.onewire to all our USB archs, it will be used soon.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.72 2006/06/27 20:29:20 deraadt Exp $
d95 1
a95 1
device	vgafb: wsemuldisplaydev, rasops8, rasops16, rasops32, wsemul_sun
@


1.72
log
@pull in files.gpio in case we want it
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.71 2006/06/19 15:13:35 deraadt Exp $
d286 4
@


1.71
log
@move clock_subr.c to a better place, and now it is always in the kernel
so that things can use it; tested on all architectures; ok kettenis
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.70 2006/06/16 22:01:30 jason Exp $
d280 5
@


1.70
log
@skeleton driver for power button on u5.. does precisely nothing except attach.
Will hook it into the right places this weekend (and put it into GENERIC
and write a man page when it does something useful).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.69 2006/06/02 04:46:01 jason Exp $
a122 1
file	dev/clock_subr.c
@


1.69
log
@ppm driver.  We don't use it for much... except to blink the power switch led. woot!
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.68 2006/05/28 23:37:42 jason Exp $
d145 4
@


1.68
log
@placeholder driver for the bbc,beep device.  should be straightforward
to fill in later.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.67 2006/05/15 21:38:34 miod Exp $
d141 4
@


1.67
log
@Merge creator attachment code again, it turns out the upa/mainbus attachment
code split is not necessary after all; ok jason@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.66 2006/03/04 10:29:24 miod Exp $
d137 4
@


1.66
log
@creator needs rasops32 only, and vgafb never needs rasops24.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.65 2006/02/10 05:28:56 djm Exp $
d75 1
a76 6

attach	creator at mainbus with creator_mainbus
file	arch/sparc64/dev/creator_mainbus.c	creator_mainbus

attach	creator at upa with creator_upa
file	arch/sparc64/dev/creator_upa.c		creator_upa
@


1.65
log
@driver for Philips PCF8591 I2C ADC sensor. Because of the mindlessness
of this chip, it is impossible to probe for and we need to be told where
it is and how to understand its output. We get this information from
openfirmware, but this restricts the use of the driver to sparc64 for now.
Only sensors that OFW identifies as temperature sensors are supported at
present.

prodded by dlg@@ "get it in" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.64 2006/02/01 11:03:33 dlg Exp $
d74 1
a74 1
device	creator: wsemuldisplaydev, rasops8, rasops16, rasops24, rasops32, wsemul_sun
d100 1
a100 1
device	vgafb: wsemuldisplaydev, rasops8, rasops16, rasops24, rasops32, wsemul_sun
@


1.64
log
@a driver for the phillips pcf8584 i2c controller as found on the sun netra
t1 105.

tested by henning@@ djm@@
ok kettenis@@ put it in deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.63 2006/01/02 01:58:55 deraadt Exp $
d265 10
@


1.63
log
@do i2c initialization using ofw data instead of scanning; ok kettenis
this may require some changes for non-pmu controllers later, which may
do the ofw tables slightly differently
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.62 2005/12/27 23:19:01 deraadt Exp $
d194 4
@


1.62
log
@enable some i2c bus drivers (piixpm(4), alipm(4), ichiic(4)) as needed
by each arch
enable adc(4), admtemp(4), admlc(4), admtm(4), admtmp(4), admtt(4),
adt(4), lm(4), lmenv(4), lmtemp(4), maxds(4), and maxtmp(4) iic chip
drivers too, which provide gobs of sensor info
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.61 2005/08/01 03:03:13 david Exp $
d255 1
@


1.61
log
@spacing; ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.60 2005/05/02 03:22:10 brad Exp $
d250 5
@


1.60
log
@sparc64 optimized in4_cksum().

From NetBSD
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.59 2005/05/01 21:36:57 brad Exp $
d217 1
a217 1
file	arch/sparc64/sparc64/kgdb_machdep.c kgdb
@


1.59
log
@To allow for MD override of in4_cksum()...

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.58 2005/03/09 18:41:48 miod Exp $
d215 1
a215 1
file	netinet/in4_cksum.c			inet
@


1.58
log
@Preliminary support for the floppy drive on Ultrasparcs. Only tested on
SBus machines so far, although EBus attachment glue is provided but not enabled
by default.

Also, fdformat(8) does not work correctly yet, although reading and writing
is safe; this will hopefully be fixed in the near future.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.57 2005/03/08 20:00:24 tdeval Exp $
d214 2
a215 1
file	arch/sparc64/sparc64/in_cksum.S
@


1.57
log
@Cosmetics...
Mainly remove space between locators parens, replace spaces with tabs
where appropriate and consistently align dependencies.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.56 2005/03/05 01:44:52 miod Exp $
d186 8
@


1.56
log
@Preliminary xbox support: attaches, memory mapping and interrupts work, but
DMA transfers are not implemented yet, and are disabled (which causes drivers
to SBus cards on the xbox to fail to attach).

In practice, this allows frame buffers to work, maybe more devices; DMA
support will be worked on in the near future.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.55 2004/10/08 13:04:36 grange Exp $
d9 3
a11 3
define mainbus {}
device mainbus: pcibus, mainbus
attach mainbus at root
d14 7
a20 7
define upa {}
device upa
attach upa at mainbus

define central {}
device central
attach central at mainbus
d23 2
a24 2
define fhc {}
device fhc
d27 1
a27 1
attach fhc at central with fhc_central
d30 1
a30 1
attach fhc at mainbus with fhc_mainbus
d33 2
a34 2
device clkbrd
attach clkbrd at fhc
d37 2
a38 2
device pcons
attach pcons at mainbus
d51 11
a61 11
include "dev/wscons/files.wscons"
include "dev/rasops/files.rasops"
include "dev/wsfont/files.wsfont"

include "dev/sbus/files.sbus"
include "dev/i2o/files.i2o"
include "dev/mii/files.mii"
include "dev/atapiscsi/files.atapiscsi"
include "dev/ata/files.ata"
include "dev/pckbc/files.pckbc"
include "dev/pcmcia/files.pcmcia"
d64 1
a64 1
include "compat/netbsd/files.netbsd"
d68 1
a68 1
include "../../../dev/sun/files.sun"
d74 1
a74 1
device creator: wsemuldisplaydev, rasops8, rasops16, rasops24, rasops32, wsemul_sun
d77 1
a77 1
attach creator at mainbus with creator_mainbus
d80 1
a80 1
attach creator at upa with creator_upa
d83 2
a84 2
include "dev/pci/files.pci"
major { wd = 12 }
d86 1
a86 1
include "dev/puc/files.puc"
d88 2
a89 2
device psycho: pcibus
attach psycho at mainbus
d92 2
a93 2
device schizo: pcibus
attach schizo at mainbus
d100 2
a101 2
device vgafb: wsemuldisplaydev, rasops8, rasops16, rasops24, rasops32, wsemul_sun
attach vgafb at pci
d107 2
a108 2
device ebus {[addr = -1]}: pcibus
attach ebus at pci
d114 4
a117 4
device clock: mk48txx
attach clock at mainbus, sbus with clock_sbus
attach clock at ebus with clock_ebus
attach clock at fhc with clock_fhc
d119 2
a120 2
device rtc
attach rtc at ebus with  rtc_ebus
d122 2
a123 2
device timer
attach timer at mainbus, sbus
d125 2
a126 2
device eeprom
attach eeprom at sbus, ebus
d130 2
a131 2
device cpu
attach cpu at mainbus
d134 3
a136 3
device auxio
attach auxio at ebus with auxio_ebus
attach auxio at sbus with auxio_sbus
d139 2
a140 2
device beeper
attach beeper at ebus
d143 4
a146 4
device sab {}
attach sab at ebus
device sabtty
attach sabtty at sab
d149 2
a150 2
device audioce: audio, auconv
attach audioce at ebus
d159 1
a159 1
attach com at ebus with com_ebus
d162 1
a162 1
attach pckbc at ebus with pckbc_ebus
d165 2
a166 2
device comkbd: tty, wskbddev, sunkbd
attach comkbd at ebus
d169 1
a169 1
attach lpt at ebus with lpt_ebus
d172 3
a174 3
device zs {[channel = -1]}
attach zs at sbus with zs_sbus
attach zs at fhc with zs_fhc
d178 3
a180 3
define zstty {}
device zstty: tty
attach zstty at zs
d183 2
a184 2
device zskbd: tty, wskbddev, sunkbd
attach zskbd at zs
d236 5
a240 5
include "../../../scsi/files.scsi"
major { sd = 7 }
major { vnd = 8 }
major { cd = 18 }
major { rd = 5 }
d245 1
a245 1
include "dev/usb/files.usb"
@


1.55
log
@Move dev/cons.c to MI conf/files.

ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.54 2004/10/01 18:18:48 jason Exp $
d70 2
a71 1
attach sbus at mainbus
@


1.54
log
@add a blink_led API (shaves ~1k from GENERIC) rather than have the same
logic in 3 files.  Devices register a function to be called to turn the
led on and off based on load average. (Note: rerun config and make depend)
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.53 2004/09/28 02:06:36 jason Exp $
a185 1
file	dev/cons.c
@


1.53
log
@driver for "clock-board" (mainly blinky lights, but also has information about the chassis)
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.52 2004/09/27 21:12:40 jason Exp $
d25 1
a25 1
file	arch/sparc64/dev/fhc.c			fhc needs-flag
d35 1
a35 1
file	arch/sparc64/dev/clkbrd.c		clkbrd needs-flag
d136 1
a136 1
file	arch/sparc64/dev/auxio.c		auxio needs-flag
@


1.52
log
@Important stuff: blinky lights for fhc
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.51 2004/09/23 18:00:58 jason Exp $
d32 4
@


1.51
log
@prepare the way for multi-bus attachment of zs (specifically zs@@fhc).
Remove the zs@@mainbus stuff from files.sparc64 (nothing uses it)
don't forget to rerun config...
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.50 2004/09/22 21:48:18 jason Exp $
d25 1
a25 1
file	arch/sparc64/dev/fhc.c			fhc
@


1.50
log
@infrastructure for central, fhc(mainbus/central), and clock@@fhc
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.49 2004/09/16 09:14:04 mickey Exp $
d168 2
a169 1
attach zs at mainbus, sbus
@


1.49
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.48 2003/12/04 11:11:24 miod Exp $
d18 15
d112 1
@


1.48
log
@creator needs wsemul_sun attribute.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.47 2003/07/15 03:51:12 jason Exp $
d151 1
a151 1
device zs {channel = -1}
@


1.47
log
@include the puc stuff (currently commented out in GENERIC)
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.46 2003/06/23 09:28:00 miod Exp $
d54 1
a54 1
device creator: wsemuldisplaydev, rasops8, rasops16, rasops24, rasops32
@


1.46
log
@Split the stp driver into its core, and md attachment routines, and provide
attachment routines for sparc and sparc64.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.45 2003/06/16 20:46:13 miod Exp $
d65 2
@


1.45
log
@Provide the same fbxxx() api as on sparc, in order to factorize more code
and eventually share some drivers.
This also brings us screen unblanking upon entering ddb, which can be really
useful at times...
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.44 2003/05/06 09:14:39 miod Exp $
d129 2
@


1.44
log
@Declare the major number for wd, so that a custom kernel can specific explicit
root on wd0a.

Problem spotted by Denis A. Doroshenko.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.43 2003/02/17 01:29:19 henric Exp $
d29 3
d35 1
@


1.43
log
@
Add support for the Sun Enterprise 450
Reduce the size of a GENERIC kernel by ~190k
Remove the nasty pointer/bus_space_handle_t casts
Adds debug bus_space code including the ability to trace
    bus operations (it actually works now).

The following rules are now followed (and verfified by the debug
code):

1.  A "bus_space_handle_t" may only be used with the
    "bus_space_tag_t" that created it.
2.  Only "bus_space_map()" may create "bus_space_handle_t"s.
3.  A "bus_space_handle_t" may not be modified after it has
    been created (other than being destroyed by "bus_space_unmap()").


Thanks to help from mcbride, marc, jason, drahn, to anyone that might
have slipped my mind at the moment.

ok jason@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.42 2003/01/14 19:56:32 jason Exp $
d60 1
@


1.42
log
@Move sunkbd defn to common place and remove old event.c reference
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.41 2002/07/12 10:25:02 miod Exp $
d172 1
@


1.41
log
@No need to include files.sun, which only add the "frim event" stuff which
has absolutely no use on wscons architectures.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.40 2002/06/20 14:44:17 jason Exp $
d44 3
a130 3

define sunkbd
file	dev/sun/sunkbd.c			sunkbd
@


1.40
log
@left over sparc-ism's; Matt Potter <matt@@vertrauen.org>
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.39 2002/06/19 22:07:17 fgsch Exp $
a28 1
include "dev/sun/files.sun"
@


1.39
log
@more sbus->pcmcia pieces.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.38 2002/06/11 10:50:10 jason Exp $
d179 1
a179 1
# sparc/sparc/locore.s is handled specially in the makefile,
@


1.38
log
@add upa and creator at upa
(neither of which work correctly, but hey, it's a starting point)
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.37 2002/06/11 06:53:03 fgsch Exp $
d39 1
@


1.37
log
@split creator driver into bus specific and common code.
requested and ok by jason@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.36 2002/06/08 21:56:02 jason Exp $
d12 5
d52 3
@


1.36
log
@Initial (not quite fully working) driver for the schizo on the blade1000
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.35 2002/06/04 21:50:07 jason Exp $
a42 1
attach creator at mainbus
d44 3
@


1.35
log
@Convert vgafb from rcons to rasops
If depth is 24, select rasops32 (and make sure the stride is right)
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.34 2002/06/03 16:35:55 fgsch Exp $
d46 2
a49 1
include "dev/pci/files.pci"
d51 5
a55 1
file	arch/sparc64/dev/pci_machdep.c		psycho
@


1.34
log
@add rasops24 to creator. minor indentation while i'm here.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.33 2002/05/21 04:31:03 jason Exp $
d26 2
a41 4
# Raster operations
include "dev/rasops/files.rasops"
include "dev/wsfont/files.wsfont"

d55 1
a55 1
device vgafb: wsemuldisplaydev, wsrasteremulops, wsemul_sun
@


1.33
log
@Skeleton driver for the Creator/Creator3D framebuffer (doesn't do much
except provide an entry point for mmap'n from userland so I can figure out
how it works).  Many thanks to Matt Potter <matt@@vertrauen.org> for providing
a card.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.32 2002/04/04 23:16:21 jason Exp $
d44 1
a44 1
device creator: wsemuldisplaydev, rasops8, rasops16, rasops32
d55 1
a55 1
file	dev/pci/if_hme_pci.c		hme_pci
d137 1
a137 1
file arch/sparc64/dev/z8530tty.c		zstty needs-flag
d141 1
a141 1
file arch/sparc64/dev/z8530kbd.c		zskbd needs-flag
@


1.32
log
@Some PCI machines do not implement the uperf registers.  Those that do
provide an 'sc at ebus'.  Use that instead of a direct attachment of
uperf to psycho.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.31 2002/03/14 20:15:00 jason Exp $
d39 8
@


1.31
log
@From NetBSD: driver for lpt at ebus
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.30 2002/02/18 17:14:34 jason Exp $
a39 1
define psycho {}
a45 3
attach	uperf at psycho with uperf_psycho
file	arch/sparc64/dev/uperf_psycho.c		uperf_psycho needs-flag

d59 3
@


1.30
log
@Pull in dev/pckbc/files.pckbc, and put in placeholder for pckbc at ebus
(driver coming later today, hopefully)
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.29 2002/02/01 21:48:23 jason Exp $
d118 3
@


1.29
log
@Clean up auxio a bit and add machdep.led_blink sysctl (like sparc),
portions from NetBSD.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.28 2002/01/30 23:58:02 jason Exp $
d31 1
d111 3
@


1.28
log
@Driver for getting at performance counters.  These manifest them
selves as "sc at sbus" and a couple of registers on psycho (sabre
doesn't appear to have these registers).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.27 2002/01/25 03:24:53 jason Exp $
d85 1
a85 1
file	arch/sparc64/dev/auxio.c		auxio
@


1.27
log
@move the scancode -> wskbd event map into a seperate file... more still
to move, though.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.26 2002/01/24 15:54:37 jason Exp $
d21 3
d39 1
d45 3
@


1.26
log
@Add a driver for keyboards on com (ns16550 clones) as found on the AXi, etc.
Also, add the necessary config goop
Finally, enable com* at ebus?, comkbd* at ebus?, and vgafb* at pci?
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.25 2002/01/24 03:48:05 jason Exp $
d101 4
a104 1
device comkbd: tty, wskbddev
d118 1
a118 2
define zskbd {}
device zskbd: tty, wskbddev
@


1.25
log
@Remove the ms (mainly at zs) stuff
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.24 2002/01/15 22:01:34 jason Exp $
d100 4
@


1.24
log
@allow zskbd* at zs?
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.23 2002/01/03 21:58:59 jason Exp $
a114 7

device ms
attach ms at zs with ms_zs
attach ms at zstty
file dev/sun/ms_zs.c			ms_zs
file dev/sun/ms.c			ms needs-flag
file dev/sun/sunms.c			ms needs-flag
@


1.23
log
@define a new wsemul_sun attribute and add it to the sparc64 framebuffers
[This needs to be extended to the vt100 and dumb emulations too.. in time].
(This allows the removal of WSEMUL_SUN from sparc64/conf/GENERIC)
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.22 2001/12/14 14:59:04 jason Exp $
d111 4
a114 8
device kbd
attach kbd at zs with kbd_zs
attach kbd at zstty
file arch/sparc64/dev/kbd_zs.c			kbd_zs
file arch/sparc64/dev/kbd.c			kbd needs-flag
file dev/sun/kbd_tables.c 		kbd
file arch/sparc64/dev/kd.c 		kbd
file dev/sun/sunkbd.c			kbd needs-flag
@


1.22
log
@Driver for vga framebuffers on sparc64 based on cgsix (which is based on
cgsix from sparc and vgafb from macppc).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.21 2001/12/07 16:34:03 jason Exp $
d22 1
a27 1
include "dev/wscons/files.wscons"
d45 1
a45 1
device vgafb: wsemuldisplaydev, wsrasteremulops
@


1.22.2.1
log
@Merge in -current, builds on i386, otherwise untested
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.28 2002/01/30 23:58:02 jason Exp $
a20 3
device	uperf
file	arch/sparc64/dev/uperf.c		uperf needs-flag

a21 1
include "dev/wscons/files.wscons"
d27 1
a35 1
define psycho {}
a41 3
attach	uperf at psycho with uperf_psycho
file	arch/sparc64/dev/uperf_psycho.c		uperf_psycho needs-flag

d45 1
a45 1
device vgafb: wsemuldisplaydev, wsrasteremulops, wsemul_sun
a100 7
define sunkbd
file	dev/sun/sunkbd.c			sunkbd

device comkbd: tty, wskbddev, sunkbd
attach comkbd at ebus
file	arch/sparc64/dev/comkbd_ebus.c		comkbd

d111 15
a125 3
device zskbd: tty, wskbddev, sunkbd
attach zskbd at zs
file arch/sparc64/dev/z8530kbd.c		zskbd needs-flag
@


1.22.2.2
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.22.2.1 2002/01/31 22:55:23 niklas Exp $
a25 2
include "dev/rasops/files.rasops"
include "dev/wsfont/files.wsfont"
a30 1
include "dev/pckbc/files.pckbc"
d39 1
a39 6
device creator: wsemuldisplaydev, rasops8, rasops16, rasops24, rasops32
attach creator at mainbus
file	arch/sparc64/dev/creator.c		creator

include "dev/pci/files.pci"

d42 1
d44 1
d46 2
a47 4
device schizo: pcibus
attach schizo at mainbus
file	arch/sparc64/dev/schizo.c		schizo
file	arch/sparc64/dev/pci_machdep.c		psycho | schizo
d50 1
a50 1
file	dev/pci/if_hme_pci.c			hme_pci
d52 1
a52 1
device vgafb: wsemuldisplaydev, rasops8, rasops16, rasops24, rasops32, wsemul_sun
a62 3
attach	uperf at ebus with uperf_ebus
file	arch/sparc64/dev/uperf_ebus.c		uperf_ebus

d85 1
a85 1
file	arch/sparc64/dev/auxio.c		auxio needs-flag
a110 3
attach pckbc at ebus with pckbc_ebus
file	arch/sparc64/dev/pckbc_ebus.c		pckbc_ebus

a114 3
attach lpt at ebus with lpt_ebus
file	arch/sparc64/dev/lpt_ebus.c		lpt_ebus

d123 1
a123 1
file	arch/sparc64/dev/z8530tty.c		zstty needs-flag
d127 1
a127 1
file	arch/sparc64/dev/z8530kbd.c		zskbd needs-flag
@


1.22.2.3
log
@sync to -current
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.22.2.2 2002/06/11 03:38:42 art Exp $
a11 5
file	arch/sparc64/dev/upa.c			upa

define upa {}
device upa
attach upa at mainbus
d24 1
a33 1
include "dev/pcmcia/files.pcmcia"
d43 1
a45 6
attach creator at mainbus with creator_mainbus
file	arch/sparc64/dev/creator_mainbus.c	creator_mainbus

attach creator at upa with creator_upa
file	arch/sparc64/dev/creator_upa.c		creator_upa

d168 1
a168 1
# sparc64/sparc64/locore.s is handled specially in the makefile,
@


1.22.2.4
log
@sync
@
text
@d1 1
a1 1
#	$OpenBSD$
a43 3
# Sun specific files
include "../../../dev/sun/files.sun"

a56 1
major { wd = 12 }
d129 3
a171 1
file	arch/sparc64/sparc64/busop.c
@


1.21
log
@rtc at ebus; netbsd
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.20 2001/12/04 20:13:47 jason Exp $
d44 4
@


1.20
log
@add stuff for wsdisplay
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.19 2001/10/28 02:23:28 jason Exp $
d55 3
@


1.19
log
@oops, don't forget sab entries here too.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.18 2001/10/05 17:37:30 jason Exp $
d27 1
@


1.19.2.1
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD$
d75 6
@


1.19.2.2
log
@Merge in -current
@
text
@a75 6
device sab {}
attach sab at ebus
device sabtty
attach sabtty at sab
file	arch/sparc64/dev/sab.c			sab | sabtty needs-flag

@


1.19.2.3
log
@Merge in -current
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.19.2.2 2001/11/13 21:04:17 niklas Exp $
a26 1
include "dev/wscons/files.wscons"
@


1.19.2.4
log
@Merge in trunk
@
text
@d1 1
a1 1
#	$OpenBSD$
a20 3
device	uperf
file	arch/sparc64/dev/uperf.c		uperf needs-flag

a21 1
include "dev/wscons/files.wscons"
d27 1
a27 1
include "dev/pckbc/files.pckbc"
a35 1
define psycho {}
a41 3
attach	uperf at psycho with uperf_psycho
file	arch/sparc64/dev/uperf_psycho.c		uperf_psycho needs-flag

a44 4
device vgafb: wsemuldisplaydev, wsrasteremulops, wsemul_sun
attach vgafb at pci
file	arch/sparc64/dev/vgafb.c		vgafb

a55 3
device rtc
attach rtc at ebus with  rtc_ebus

d71 1
a71 1
file	arch/sparc64/dev/auxio.c		auxio needs-flag
a93 10
define sunkbd
file	dev/sun/sunkbd.c			sunkbd

attach pckbc at ebus with pckbc_ebus
file	arch/sparc64/dev/pckbc_ebus.c		pckbc_ebus

device comkbd: tty, wskbddev, sunkbd
attach comkbd at ebus
file	arch/sparc64/dev/comkbd_ebus.c		comkbd

d104 15
a118 3
device zskbd: tty, wskbddev, sunkbd
attach zskbd at zs
file arch/sparc64/dev/z8530kbd.c		zskbd needs-flag
@


1.19.2.5
log
@Merge in -current from about a week ago
@
text
@a118 3
attach lpt at ebus with lpt_ebus
file	arch/sparc64/dev/lpt_ebus.c		lpt_ebus

@


1.19.2.6
log
@Sync the SMP branch with 3.3
@
text
@a11 5
file	arch/sparc64/dev/upa.c			upa

define upa {}
device upa
attach upa at mainbus
d24 1
a25 2
include "dev/rasops/files.rasops"
include "dev/wsfont/files.wsfont"
a31 1
include "dev/pcmcia/files.pcmcia"
a36 3
# Sun specific files
include "../../../dev/sun/files.sun"

d40 1
a40 11
device creator: wsemuldisplaydev, rasops8, rasops16, rasops24, rasops32
file	arch/sparc64/dev/creator.c		creator

attach creator at mainbus with creator_mainbus
file	arch/sparc64/dev/creator_mainbus.c	creator_mainbus

attach creator at upa with creator_upa
file	arch/sparc64/dev/creator_upa.c		creator_upa

include "dev/pci/files.pci"

d43 1
d45 1
d47 2
a48 4
device schizo: pcibus
attach schizo at mainbus
file	arch/sparc64/dev/schizo.c		schizo
file	arch/sparc64/dev/pci_machdep.c		psycho | schizo
d51 1
a51 1
file	dev/pci/if_hme_pci.c			hme_pci
d53 1
a53 1
device vgafb: wsemuldisplaydev, rasops8, rasops16, rasops24, rasops32, wsemul_sun
a63 3
attach	uperf at ebus with uperf_ebus
file	arch/sparc64/dev/uperf_ebus.c		uperf_ebus

d109 3
d130 1
a130 1
file	arch/sparc64/dev/z8530tty.c		zstty needs-flag
d134 1
a134 1
file	arch/sparc64/dev/z8530kbd.c		zskbd needs-flag
a151 1
file	arch/sparc64/sparc64/busop.c
d158 1
a158 1
# sparc64/sparc64/locore.s is handled specially in the makefile,
@


1.19.2.7
log
@Sync the SMP branch to -current.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.19.2.6 2003/03/27 23:42:35 niklas Exp $
a59 1
major { wd = 12 }
@


1.19.2.8
log
@Merge of current from two weeks agointo the SMP branch
@
text
@d1 1
a1 1
#	$OpenBSD$
a28 3
# Framebuffer support

file	arch/sparc64/dev/fb.c
a31 1

d50 1
a50 1
device creator: wsemuldisplaydev, rasops8, rasops16, rasops24, rasops32, wsemul_sun
a61 2
include "dev/puc/files.puc"

a124 2

file	arch/sparc64/dev/stp_sbus.c		stp_sbus
@


1.18
log
@pull in the usb stuff (doesn't quite work yet, though)
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.17 2001/10/01 18:11:57 jason Exp $
d75 6
@


1.17
log
@+audioce
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.16 2001/09/29 07:16:12 jason Exp $
d168 4
@


1.16
log
@from the "Ok, so I couldn't sleep" department: minimal driver for the beeper at ebus device
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.15 2001/09/18 21:04:33 jason Exp $
d75 4
@


1.15
log
@bring sparc64 OUT of the stone age... MAXPARTITIONS 16
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.14 2001/09/08 22:33:51 jason Exp $
d71 4
@


1.14
log
@Import netbsd's fpu handling (modified to be separate from sparc); this is
for paranoia's sake (don't want to break sparc32 while hacking on it).
Real work by art.
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.13 2001/09/06 11:01:19 art Exp $
d5 1
a5 1
maxpartitions 8
@


1.13
log
@COMPAT_NETBSD and glue for com at ebus
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.12 2001/08/23 05:05:59 art Exp $
d108 9
a116 9
file	arch/sparc/fpu/fpu.c
file	arch/sparc/fpu/fpu_add.c
file	arch/sparc/fpu/fpu_compare.c
file	arch/sparc/fpu/fpu_div.c
file	arch/sparc/fpu/fpu_explode.c
file	arch/sparc/fpu/fpu_implode.c
file	arch/sparc/fpu/fpu_mul.c
file	arch/sparc/fpu/fpu_sqrt.c
file	arch/sparc/fpu/fpu_subr.c
@


1.12
log
@glue for atapi and ata
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.11 2001/08/22 21:50:37 jason Exp $
d28 4
d75 3
@


1.11
log
@add hme at pci attachment (yes, this doesn't really belong here).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.10 2001/08/22 13:54:56 art Exp $
d25 2
@


1.10
log
@clock at ebus, auxio at ebus, PCIVERBOSE
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.9 2001/08/22 12:24:48 art Exp $
d34 3
@


1.9
log
@first steps toward pci
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.8 2001/08/21 21:42:30 jason Exp $
d44 1
d50 1
a50 1
attach eeprom at sbus
d58 5
d75 1
a75 1
file arch/sparc64/dev/z8530tty.c			zstty needs-flag
@


1.8
log
@zs and all it's associated stuff (all from NetBSD).. Works on my ultra1,
but still needs tweaks (wedging this into OpenBSD is worse than square
peg in round hole).
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.7 2001/08/21 16:21:27 jason Exp $
d23 2
d29 6
d38 4
a131 5

#
# Media Indepedent Interface (mii)
#
include "../../../dev/mii/files.mii"
@


1.7
log
@put bus independent part of hme in here so we don't conflict with the sparc
driver (this is wrong and will need to be fixed eventually)
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.6 2001/08/20 22:49:36 jason Exp $
d52 1
a52 1
file	dev/ic/z8530sc.c			zs
d57 1
a57 1
file dev/ic/z8530tty.c			zstty needs-flag
d62 2
a63 2
file dev/sun/kbd_zs.c			kbd_zs
file dev/sun/kbd.c			kbd needs-flag
@


1.6
log
@add qec+be (testing consisted of compiling... I've merely proven it syntactically correct).
GENERIC now depends on mii goop (be internal phy)
@
text
@d1 1
a1 1
#	$OpenBSD: files.sparc64,v 1.5 2001/08/20 20:23:52 jason Exp $
d16 4
@


1.5
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD$
d117 8
@


1.4
log
@scsi, no devices yet.
@
text
@d1 1
@


1.3
log
@No need for procfs_machdep
@
text
@d115 7
@


1.2
log
@remove ddb stuff, in4_cksum.c inet dependency, and include sbus stuff
@
text
@a96 1
file	arch/sparc64/sparc64/procfs_machdep.c	procfs
@


1.1
log
@A very minimal skeleton. Based on code in NetBSD and sparc.
@
text
@d17 1
a18 1
device sbus { slot = -1, offset = -1 }
a89 1
file	arch/sparc64/sparc64/in4_cksum.c	inet
a113 2
#file 	ddb/db_aout.c			ddb_aout
#file	ddb/db_elf.c			ddb
@

