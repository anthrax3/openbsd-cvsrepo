head	1.4;
access;
symbols
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.38
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.34
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.30
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.32
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.24
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.28
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.26
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.22
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.20
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.18
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.16
	OPENBSD_5_0:1.4.0.14
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.12
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.10
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.6
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.8
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.4
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2008.07.12.14.26.07;	author kettenis;	state Exp;
branches;
next	1.3;

1.3
date	2008.07.06.08.53.38;	author kettenis;	state Exp;
branches;
next	1.2;

1.2
date	2008.06.10.00.02.09;	author kettenis;	state Exp;
branches;
next	1.1;

1.1
date	2007.10.17.21.31.13;	author kettenis;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Add a temporary hack to attach only the first thread of every core for
MULTIPROCESSOR kernels.  We map 'struct cpuinfo' at the same virtual
address on every processor, but since threads on the same core share
an MMU this doesn't quite work.  With the hack we are at least able to
use the other core (and any additional processors).
@
text
@#	$OpenBSD: GENERIC.MP,v 1.2 2008/06/10 00:02:09 kettenis Exp $

include "arch/sparc64/conf/GENERIC"

option	MULTIPROCESSOR
#option	MP_LOCKDEBUG

cpu*	at mainbus?
cpu*	at ssm?
cpu*	at cmp?
cpu*	at core?
@


1.3
log
@Enable ssm(4) and remove hacks that worked around the fact that we didn't
have it.
@
text
@d11 1
@


1.2
log
@Add cmp(4), a dummy driver to make attaching CMT cpus easier.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC.MP,v 1.1 2007/10/17 21:31:13 kettenis Exp $
d9 1
@


1.1
log
@Let other people build sparc64 bsd.mp too.
@
text
@d1 1
a1 1
#	$OpenBSD$
d9 1
@

