head	1.20;
access;
symbols
	OPENBSD_6_1_BASE:1.20
	OPENBSD_6_0:1.20.0.6
	OPENBSD_6_0_BASE:1.20
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.20.0.4
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.19.0.2
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.18.0.4
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.17.0.14
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.10
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.17.0.8
	OPENBSD_5_3_BASE:1.17
	OPENBSD_5_2:1.17.0.6
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.4
	OPENBSD_5_0:1.17.0.2
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.16.0.8
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.16.0.6
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.16.0.2
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.16.0.4
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.13.0.8
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.6
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.4
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.2
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.10.0.4
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.10.0.2
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.6.0.4
	OPENBSD_3_6_BASE:1.6
	SMP_SYNC_A:1.6
	SMP_SYNC_B:1.6
	OPENBSD_3_5:1.6.0.2
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	UBC_SYNC_A:1.4
	OPENBSD_3_3:1.3.0.12
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.10
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.8
	OPENBSD_3_1_BASE:1.3
	UBC_SYNC_B:1.3
	UBC:1.3.0.6
	UBC_BASE:1.3
	SMP:1.3.0.4
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3;
locks; strict;
comment	@# @;


1.20
date	2015.07.17.22.52.29;	author tedu;	state Exp;
branches;
next	1.19;
commitid	OOrGfFHYAn65M2qc;

1.19
date	2014.10.10.05.43.36;	author deraadt;	state Exp;
branches;
next	1.18;
commitid	eyBTAcDp3o260Uyq;

1.18
date	2014.04.05.16.33.14;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2011.06.29.20.52.09;	author matthew;	state Exp;
branches;
next	1.16;

1.16
date	2009.06.24.11.38.40;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	2009.06.04.00.26.17;	author kettenis;	state Exp;
branches;
next	1.14;

1.14
date	2009.06.02.05.07.28;	author kettenis;	state Exp;
branches;
next	1.13;

1.13
date	2007.05.01.15.22.23;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	2006.12.09.20.06.48;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2006.06.21.19.28.08;	author jason;	state Exp;
branches;
next	1.10;

1.10
date	2005.08.09.16.48.11;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2005.05.01.07.54.43;	author david;	state Exp;
branches;
next	1.8;

1.8
date	2004.09.16.09.35.37;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2004.09.16.09.14.04;	author mickey;	state Exp;
branches;
next	1.6;

1.6
date	2004.01.04.00.29.50;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2003.06.13.20.27.50;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2003.05.13.22.45.11;	author miod;	state Exp;
branches;
next	1.3;

1.3
date	2001.10.15.18.44.56;	author jason;	state Exp;
branches
	1.3.4.1
	1.3.6.1;
next	1.2;

1.2
date	2001.10.11.01.56.45;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2001.10.10.04.31.56;	author deraadt;	state Exp;
branches;
next	;

1.3.4.1
date	2001.10.31.03.07.57;	author nate;	state Exp;
branches;
next	1.3.4.2;

1.3.4.2
date	2003.05.16.00.29.40;	author niklas;	state Exp;
branches;
next	1.3.4.3;

1.3.4.3
date	2004.02.19.10.49.59;	author niklas;	state Exp;
branches;
next	;

1.3.6.1
date	2003.05.19.21.46.57;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.20
log
@remove obsolete INET kernel option
@
text
@#	$OpenBSD: RAMDISKU5,v 1.19 2014/10/10 05:43:36 deraadt Exp $

machine		sparc64
maxusers	4

option		TIMEZONE=0
option		DST=0

option		SMALL_KERNEL
option		NO_PROPOLICE
option		BOOT_CONFIG

option		RAMDISK_HOOKS
option		MINIROOTSIZE=6144

option		FFS

option		WSEMUL_SUN	# provide sun terminal emulation; required
option		WSEMUL_NO_VT100	# do not provide vt100 terminal emulation

config		bsd root on rd0a

mainbus0	at root
cpu0		at mainbus0

upa0		at mainbus0
schizo*		at mainbus0
pci*		at schizo?
psycho*		at mainbus0
pci*		at psycho?		# Ultra 5
pci*		at ppb?
ppb*		at pci?
ebus*		at pci?

hme*		at pci?
gem*		at pci?

auxio*		at ebus?
clock*		at ebus?

pcons0		at mainbus0		# PROM console 

timer*		at mainbus0		# Timer chip (some systems)

pciide*		at pci? flags 0x0000
wd*		at pciide? flags 0x0a00
atapiscsi*	at pciide?

siop*		at pci?

scsibus*	at scsi?
sd*		at scsibus?
#cd*		at scsibus?

nsphy*		at mii?			# NS and compatible PHYs
qsphy*		at mii?			# Quality Semi QS6612 PHYs
ukphy*		at mii?			# Unknown PHYs

ohci*		at pci ?
uhci*		at pci?
usb*		at ohci?
usb*		at uhci?

uhub*		at usb?
uhub*		at uhub?
uhidev*		at uhub?		# Human Interface Devices
ukbd*		at uhidev?		# USB Keyboard
wskbd*		at ukbd?

sab*		at ebus?
sabtty*		at sab?
com*		at ebus?
comkbd*		at ebus?
wskbd*		at comkbd?

pckbc*		at ebus?		# controller
pckbd*		at pckbc?		#  ps2 keyboard
wskbd*		at pckbd?		#    generic keyboard layer

creator*	at upa0			# Creator3D/Elite3D framebuffers
wsdisplay*	at creator?
gfxp*		at pci?			# PGX32 framebuffer
wsdisplay*	at gfxp?
machfb*		at pci?			# PGX/PGX64 framebuffers
wsdisplay*	at machfb?
raptor*		at pci?			# Raptor framebuffer
wsdisplay*	at raptor?
vgafb*		at pci?
wsdisplay*	at vgafb?

pseudo-device	rd 1
pseudo-device	loop 1
@


1.19
log
@Significant unification of RAMDISK* config files, making them diffable.
This makes it easier to remove components not required to do an install,
and subsequently add other desireable components ...
In snapshots (in various forks) for about a week.
Do some upgrades and installs, please.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.18 2014/04/05 16:33:14 deraadt Exp $
a16 1
option		INET
@


1.18
log
@qla and qle are working well enough, so just delete use of isp.  don't
even comment the lines.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.17 2011/06/29 20:52:09 matthew Exp $
a2 1
# Machine architecture; required by config(8)
d4 1
d6 6
a11 2
# maxusers means mostly "let's get small" in terms of kernel malloc's
maxusers	2
d16 2
a17 12
#option		DDB		# need this to see what's happening

option		TIMEZONE=0	# time zone to adjust RTC time by
option		DST=0		# daylight saving time used by RTC

option		SMALL_KERNEL
option		NO_PROPOLICE
option		FFS		# UFS
#option		NFSCLIENT	# Network File System client
#option		CD9660		# ISO 9660 + Rock Ridge file system
option		INET		# IP + ICMP + TCP + UDP
option		BOOT_CONFIG	# add support for boot -c
d22 4
a25 2
# Generic swap; second partition of root disk or network.
config		bsd	root on rd0a
d27 53
a79 71
# Main bus and CPU .. all systems.
mainbus0 at root
cpu0	at mainbus0

# Bus types found on SPARC systems.
upa0	at mainbus0
schizo*	at mainbus0
pci*	at schizo?
psycho*	at mainbus0
pci*	at psycho?		# Ultra 5
pci*	at ppb?
ppb*	at pci?
ebus*	at pci?

# PCI Ethernet
hme*	at pci?
gem*	at pci?

auxio*	at ebus?
clock*	at ebus?		# Mostek clock

## PROM console driver -- if all else fails
pcons0	at mainbus0		# PROM console

timer*	at mainbus0		# Timer chip (some systems)

pciide*	at pci? flags 0x0000
wd*	at pciide? flags 0x0a00
atapiscsi* at pciide?

siop*	at pci?

# These entries find devices on all SCSI busses and assign
# unit numers dynamically.
scsibus* at scsi?
sd*	at scsibus?		# SCSI disks
#cd*	at scsibus?		# SCSI CD-ROMs

# Media Independent Interface (mii) drivers)
nsphy*	at mii?			# NS and compatible PHYs
qsphy*	at mii?			# Quality Semi QS6612 PHYs
ukphy*	at mii?			# Unknown PHYs

# PCI USB Controllers
ohci*	at pci ?
uhci*	at pci?

# USB bus support
usb*	at ohci?
usb*	at uhci?

# USB devices
uhub*	at usb?			# USB Hubs
uhub*	at uhub?		# USB Hubs
uhidev*	at uhub?		# Human Interface Devices
ukbd*	at uhidev?		# USB Keyboard
wskbd*	at ukbd?

# SAB82532 based serial ports
sab*	at ebus?
sabtty*	at sab?

# NS16550 based serial ports
com*	at ebus?
comkbd*	at ebus?
wskbd*	at comkbd?

# i8042 based serial ports (PS/2 ports)
pckbc*	at ebus?		# controller
pckbd*	at pckbc?		#  ps2 keyboard
wskbd*	at pckbd?		#    generic keyboard layer
a80 1
# Framebuffers
d92 2
a93 2
pseudo-device	rd	2	# ramdisk
pseudo-device	loop	1	# network loopback
@


1.17
log
@Replace all instances of "scsibus* at hba?" with a single "scsibus* at
scsi?" rule, similar to how ethernet PHY drivers attach at mii.

Discussed on icb.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.16 2009/06/24 11:38:40 deraadt Exp $
a61 1
#isp*	at pci?
@


1.16
log
@for the isp(4) driver, invert the meaning of the options which pull
firmwares into the smaller (and larger) media
ok krw
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.15 2009/06/04 00:26:17 kettenis Exp $
a59 1
scsibus* at atapiscsi?
a61 1
scsibus*	at siop?
a62 1
#scsibus*	at isp?
d66 1
@


1.15
log
@Enable gfxp(4).
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.14 2009/06/02 05:07:28 kettenis Exp $
d63 1
a64 2
#option	ISP_COMPILE_FW=1
scsibus*	at siop?
@


1.14
log
@Enable machfb(4) and raptor(4) here too.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.13 2007/05/01 15:22:23 deraadt Exp $
d110 2
@


1.13
log
@RAMDISK kernels do not need DIAGNOSTIC
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.12 2006/12/09 20:06:48 miod Exp $
d108 1
a108 1
creator*	at upa0
d110 4
@


1.12
log
@Do not make sun terminal emulation selected by the wsemul_sun frame buffer
attribute anymore; remove it and use option WSEMUL_SUN instead, which gets
added to all sparc* kernels.

While there, do not compile vt100 emulation on sparc* kernels, this saves 16+
KB of text.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.11 2006/06/21 19:28:08 jason Exp $
a18 1
#option		DIAGNOSTIC	# internal consistency checks
@


1.11
log
@Don't need option SUN4U.  It's not -really- an option on sparc64, duh.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.10 2005/08/09 16:48:11 deraadt Exp $
d25 3
@


1.10
log
@apparently some ultra machines do need this, work by miod; testing my uwe
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.9 2005/05/01 07:54:43 david Exp $
a4 2

option		SUN4U
@


1.9
log
@spacing; ok miod@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKU5,v 1.8 2004/09/16 09:35:37 deraadt Exp $
a25 1
option		INET6		# IPv6 (needs INET)
d36 3
d45 1
a49 1
#com*	at ebus?
d63 2
d66 1
d77 35
@


1.8
log
@spacing
@
text
@d1 1
a1 1
# 	$OpenBSD: RAMDISKU5,v 1.7 2004/09/16 09:14:04 mickey Exp $
@


1.7
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
# 	$OpenBSD: RAMDISKU5,v 1.6 2004/01/04 00:29:50 deraadt Exp $
d48 1
a48 1
clock*	at ebus?		# Mostek clock 
@


1.6
log
@put INET6, rtsol, and ping6 onto media where it fits.  install.sub changes
which begin to enable use of this will follow at a later time.
@
text
@d1 1
a1 1
# 	$OpenBSD: RAMDISKU5,v 1.5 2003/06/13 20:27:50 brad Exp $
d38 1
a38 1
pci*	at psycho?				# Ultra 5
d40 1
a40 1
ppb*	at pci? dev ? function ?
d43 2
a44 2
hme*	at pci? dev ? function ?
gem*	at pci? dev ? function ?
d48 1
a48 1
clock*	at ebus?				# Mostek clock 
d51 1
a51 1
pcons0	at mainbus0				# PROM console
d53 1
a53 1
timer*	at mainbus0				# Timer chip (some systems)
d55 3
a57 3
pciide*	at pci? dev ? function ? flags 0x0000
wd*	at pciide? channel ? drive ? flags 0x0a00
atapiscsi* at pciide? channel ?
d60 1
a60 1
siop*	at pci? dev ? function ?
d65 2
a66 2
sd*		at scsibus? target ? lun ?	# SCSI disks
#cd*		at scsibus? target ? lun ?	# SCSI CD-ROMs
d69 3
a71 3
nsphy*	at mii? phy ?				# NS and compatible PHYs
qsphy*	at mii? phy ?				# Quality Semi QS6612 PHYs
ukphy*	at mii? phy ?				# Unknown PHYs
@


1.5
log
@no more "option _LP64".
@
text
@d1 1
a1 1
# 	$OpenBSD: RAMDISKU5,v 1.4 2003/05/13 22:45:11 miod Exp $
d26 1
@


1.4
log
@Add option NO_PROPOLICE, which explicitely disables the use of the propolice
stack protection when building kernels. Intended to be used on installation
media, with tight space constraints - currently, only added where
SMALL_KERNEL was already defined.

Not thoroughly tested, but requested by deraadt.
@
text
@d1 1
a1 1
# 	$OpenBSD: RAMDISKU5,v 1.3 2001/10/15 18:44:56 jason Exp $
a6 1
option		_LP64
@


1.3
log
@Acer labs chipsets (like on Blade100/Netra X1) have bugs when UDMA mode 4
is used.  Disable that mode for now; from NetBSD.
@
text
@d1 1
a1 1
# 	$OpenBSD: RAMDISKU5,v 1.2 2001/10/11 01:56:45 deraadt Exp $
d21 1
@


1.3.6.1
log
@sync
@
text
@d1 1
a1 1
# 	$OpenBSD$
a20 1
option		NO_PROPOLICE
@


1.3.4.1
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
# 	$OpenBSD$
@


1.3.4.2
log
@merge the trunk so we will get the genfs and locking fixes
@
text
@a20 1
option		NO_PROPOLICE
@


1.3.4.3
log
@Merge of current from two weeks agointo the SMP branch
@
text
@d7 1
a26 1
option		INET6		# IPv6 (needs INET)
@


1.2
log
@disable com*.... do not ask why
@
text
@d1 1
a1 1
# 	$OpenBSD: RAMDISKU5,v 1.1 2001/10/10 04:31:56 deraadt Exp $
d55 1
a55 1
wd*	at pciide? channel ? drive ? flags 0x0000
@


1.1
log
@pci one
@
text
@d1 1
a1 1
# 	$OpenBSD: RAMDISK,v 1.7 2001/10/09 21:32:04 deraadt Exp $
d46 1
a46 1
com*	at ebus?
@

