head	1.54;
access;
symbols
	OPENBSD_6_1:1.54.0.4
	OPENBSD_6_1_BASE:1.54
	OPENBSD_6_0:1.53.0.2
	OPENBSD_6_0_BASE:1.53
	OPENBSD_5_9:1.51.0.2
	OPENBSD_5_9_BASE:1.51
	OPENBSD_5_8:1.50.0.4
	OPENBSD_5_8_BASE:1.50
	OPENBSD_5_7:1.48.0.2
	OPENBSD_5_7_BASE:1.48
	OPENBSD_5_6:1.44.0.4
	OPENBSD_5_6_BASE:1.44
	OPENBSD_5_5:1.41.0.4
	OPENBSD_5_5_BASE:1.41
	OPENBSD_5_4:1.38.0.4
	OPENBSD_5_4_BASE:1.38
	OPENBSD_5_3:1.38.0.2
	OPENBSD_5_3_BASE:1.38
	OPENBSD_5_2:1.36.0.6
	OPENBSD_5_2_BASE:1.36
	OPENBSD_5_1_BASE:1.36
	OPENBSD_5_1:1.36.0.4
	OPENBSD_5_0:1.36.0.2
	OPENBSD_5_0_BASE:1.36
	OPENBSD_4_9:1.32.0.2
	OPENBSD_4_9_BASE:1.32
	OPENBSD_4_8:1.23.0.2
	OPENBSD_4_8_BASE:1.23
	OPENBSD_4_7:1.21.0.2
	OPENBSD_4_7_BASE:1.21
	xmas_lemote:1.1.1.1
	miod:1.1.1;
locks; strict;
comment	@# @;


1.54
date	2016.11.17.14.44.34;	author visa;	state Exp;
branches;
next	1.53;
commitid	zpzeBQyLCunWa7bU;

1.53
date	2016.06.28.04.41.37;	author jmatthew;	state Exp;
branches;
next	1.52;
commitid	YZhKLotIHp83F5gq;

1.52
date	2016.06.01.11.39.59;	author mglocker;	state Exp;
branches;
next	1.51;
commitid	mStvUvphhCNkmYZZ;

1.51
date	2016.01.08.09.48.41;	author mpi;	state Exp;
branches;
next	1.50;
commitid	6CNbiIsHwBGHHsVm;

1.50
date	2015.04.16.09.09.49;	author mpi;	state Exp;
branches;
next	1.49;
commitid	KBJ2lRApjJc2ViL3;

1.49
date	2015.04.02.14.24.02;	author jasper;	state Exp;
branches;
next	1.48;
commitid	yz8AKMooAJP4DTxN;

1.48
date	2015.01.04.20.55.38;	author uaa;	state Exp;
branches;
next	1.47;
commitid	wC4MIxetRQmy4yZq;

1.47
date	2014.12.11.19.44.17;	author tedu;	state Exp;
branches;
next	1.46;
commitid	jUSAZlQ30WF1ESM9;

1.46
date	2014.12.04.11.19.17;	author mpi;	state Exp;
branches;
next	1.45;
commitid	A7GhX7JjZkWx725T;

1.45
date	2014.11.24.02.03.37;	author brad;	state Exp;
branches;
next	1.44;
commitid	Wmnzf8bGQILqXRTG;

1.44
date	2014.07.11.21.58.09;	author tedu;	state Exp;
branches;
next	1.43;
commitid	P5c0TU6cQn5F24Co;

1.43
date	2014.04.07.22.20.43;	author andre;	state Exp;
branches;
next	1.42;

1.42
date	2014.04.07.08.27.24;	author brad;	state Exp;
branches;
next	1.41;

1.41
date	2013.11.15.19.42.20;	author sasano;	state Exp;
branches;
next	1.40;

1.40
date	2013.09.05.19.42.07;	author sasano;	state Exp;
branches;
next	1.39;

1.39
date	2013.08.20.14.27.29;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2013.01.14.21.18.47;	author pirofti;	state Exp;
branches;
next	1.37;

1.37
date	2012.09.27.14.01.35;	author jsg;	state Exp;
branches;
next	1.36;

1.36
date	2011.07.07.23.41.09;	author tedu;	state Exp;
branches;
next	1.35;

1.35
date	2011.06.29.20.52.09;	author matthew;	state Exp;
branches;
next	1.34;

1.34
date	2011.05.24.20.27.11;	author matthew;	state Exp;
branches;
next	1.33;

1.33
date	2011.04.10.20.27.02;	author shadchin;	state Exp;
branches;
next	1.32;

1.32
date	2011.02.17.20.14.30;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2011.01.08.11.56.30;	author damien;	state Exp;
branches;
next	1.30;

1.30
date	2010.12.12.14.33.57;	author damien;	state Exp;
branches;
next	1.29;

1.29
date	2010.11.26.20.13.55;	author miod;	state Exp;
branches;
next	1.28;

1.28
date	2010.11.19.20.53.44;	author miod;	state Exp;
branches;
next	1.27;

1.27
date	2010.11.15.19.07.34;	author damien;	state Exp;
branches;
next	1.26;

1.26
date	2010.09.26.20.39.08;	author miod;	state Exp;
branches;
next	1.25;

1.25
date	2010.09.23.16.21.46;	author yuo;	state Exp;
branches;
next	1.24;

1.24
date	2010.09.21.02.46.33;	author deraadt;	state Exp;
branches;
next	1.23;

1.23
date	2010.07.03.03.59.16;	author krw;	state Exp;
branches;
next	1.22;

1.22
date	2010.05.08.21.59.53;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2010.03.03.20.57.28;	author mk;	state Exp;
branches;
next	1.20;

1.20
date	2010.03.03.13.33.27;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2010.03.02.20.54.51;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2010.02.28.22.39.13;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2010.02.28.22.32.50;	author miod;	state Exp;
branches;
next	1.16;

1.16
date	2010.02.28.08.30.27;	author otto;	state Exp;
branches;
next	1.15;

1.15
date	2010.02.26.14.53.11;	author miod;	state Exp;
branches;
next	1.14;

1.14
date	2010.02.24.22.16.18;	author miod;	state Exp;
branches;
next	1.13;

1.13
date	2010.02.23.21.04.16;	author otto;	state Exp;
branches;
next	1.12;

1.12
date	2010.02.19.15.14.19;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2010.02.19.08.30.04;	author otto;	state Exp;
branches;
next	1.10;

1.10
date	2010.02.19.00.21.43;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2010.02.18.22.45.26;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2010.02.12.08.14.00;	author miod;	state Exp;
branches;
next	1.7;

1.7
date	2010.02.09.12.15.37;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2010.02.08.19.42.32;	author miod;	state Exp;
branches;
next	1.5;

1.5
date	2010.02.05.21.07.39;	author otto;	state Exp;
branches;
next	1.4;

1.4
date	2010.02.04.16.37.53;	author otto;	state Exp;
branches;
next	1.3;

1.3
date	2010.01.31.19.12.30;	author miod;	state Exp;
branches;
next	1.2;

1.2
date	2010.01.31.15.50.07;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2009.12.25.22.15.11;	author miod;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.12.25.22.15.11;	author miod;	state Exp;
branches;
next	;


desc
@@


1.54
log
@Turn Loongson 3A bits on.

The work on the platform was made possible by a hardware donation
from Loongson Technology.
@
text
@#	$OpenBSD: GENERIC,v 1.53 2016/06/28 04:41:37 jmatthew Exp $
#
# For further information on compiling OpenBSD kernels, see the config(8)
# man page.
#
# For further information on hardware support for this architecture, see
# the intro(4) man page.  For further information about kernel options
# for this architecture, see the options(4) man page.  For an explanation
# of each device driver in this file see the section 4 man page for the
# device.

machine		loongson mips64
include		"../../../conf/GENERIC"
maxusers	32

option		CPU_LOONGSON2
option		CPU_LOONGSON3
option		CPU_MIPS64R2		# required by CPU_LOONGSON3
makeoption	LINK_ADDRESS="0xffffffff80200000"

option		USER_PCICONF
option		WSDISPLAY_COMPAT_RAWKBD	# provide raw scancodes; needed for X11

option		PCIVERBOSE
option		USBVERBOSE

config	bsd	swap generic

#
# Definition of system
#
mainbus0	at root
cpu0		at mainbus0
clock0		at mainbus0
apm0		at mainbus0

# 2E- and 2F- based systems with Bonito or Bonito-like northbridge
bonito*		at mainbus0
pci*		at bonito?
# 3A-based systems with a HyperTransport-PCI northbridge
htb*		at mainbus0
pci*		at htb?
ppb*		at pci?
pci*		at ppb?

# Lemote Lynloong, Lemote Fuloong 2F and Lemote Yeeloong devices
glxpcib*	at pci?
gpio*		at glxpcib?
isa0		at glxpcib?
glxclk*		at glxpcib?
mcclock0	at isa? port 0x70
pckbc0		at isa?				# Yeeloong only
pckbd*		at pckbc?			# Yeeloong only
wskbd*		at pckbd? mux 1			# Yeeloong only
pms*		at pckbc?			# Yeeloong only
wsmouse*	at pms? mux 0			# Yeeloong only
ykbec0		at isa? port 0x381		# Yeeloong only
com0		at isa? port 0x2f8 irq 3	# Fuloong 2F only
com1		at isa? port 0x3f8 irq 4	# Fuloong 2F only (IR port)
pciide*		at pci?
wd*		at pciide? flags 0x0000
sisfb*		at pci?				# Lynloong/Fuloong 2F only
wsdisplay*	at sisfb?
smfb*		at pci?				# Yeeloong only
wsdisplay*	at smfb?
auglx*		at pci?
audio*		at auglx?

# Gdium Liberty specific devices
voyager*	at pci?
gpio0		at voyager?
gdiumiic0	at gpio0 offset 6 mask 0x81	# pins 6 and 13
gdiumiic0	at gpio0 offset 46 mask 0x03	# pins 46 and 47
iic0		at gdiumiic0
stsec0		at iic0				# ST7 Embedded Controller
lmtemp0		at iic0 			# National Semiconductor LM75
mfokclock0	at iic0				# M41T8x todclock
#iic*		at voyager?
ohci*		at voyager?
smfb*		at voyager?
wsdisplay*	at smfb?

# AMD RS780E devices
azalia*		at pci?
audio*		at azalia?
piixpm*		at pci?
iic*		at piixpm?
spdmem*		at iic?
radeonfb*	at pci?
wsdisplay*	at radeonfb?

# Generic 2E systems (in addition to the Fuloong devices)
pcib*		at pci?
isa0		at pcib?
vga*		at pci?
wsdisplay*	at vga?
auvia*		at pci?
audio*		at auvia?
viapm*		at pci?

# Generic 3A systems
leioc0		at mainbus0
com*		at leioc?
ahci*		at pci?

# USB Controllers
ohci*		at pci?
uhci*		at pci?
ehci*		at pci?

# USB bus support
usb*		at ohci?
usb*		at uhci?
usb*		at ehci?

# USB devices
uhub*		at usb?		# USB Hubs
uhub*		at uhub?	# USB Hubs
ualea*		at uhub?	# Araneus Alea II TRNG
uonerng*	at uhub?	# Moonbase Otago OneRNG
umodem*		at uhub?	# USB Modems/Serial
ucom*		at umodem?
uvisor*		at uhub?	# Handspring Visor
ucom*		at uvisor?
uvscom*		at uhub?	# SUNTAC Slipper U VS-10U serial
ucom*		at uvscom?
ubsa*		at uhub?	# Belkin serial adapter
ucom*		at ubsa?
uftdi*		at uhub?	# FTDI FT8U100AX serial adapter
ucom*		at uftdi?
uplcom* 	at uhub?	# I/O DATA USB-RSAQ2 serial adapter
ucom*		at uplcom?
umct*		at uhub?	# MCT USB-RS232 serial adapter
ucom*		at umct?
uslcom*		at uhub?	# Silicon Laboratories CP210x serial
ucom*		at uslcom?
uark*		at uhub?	# Arkmicro ARK3116 serial
ucom*		at uark?
moscom*		at uhub?	# MosChip MCS7703 serial
ucom*		at moscom?		
umcs*		at uhub?	# MosChip MCS78x0 serial
ucom*		at umcs?
uipaq*		at uhub?	# iPAQ serial adapter
ucom*		at uipaq?
umsm*		at uhub?	# Qualcomm MSM EVDO
ucom*		at umsm?
uchcom*		at uhub?	# WinChipHead CH341/340 serial
ucom*		at uchcom?
ulpt*		at uhub?	# USB Printers	
umass*		at uhub?	# USB Mass Storage devices
uhidev*		at uhub?	# Human Interface Devices
ums*		at uhidev?	# USB mouse
wsmouse*	at ums? mux 0
ukbd*		at uhidev?	# USB keyboard
wskbd*		at ukbd? mux 1
uslhcom* 	at uhidev?	# Silicon Labs CP2110 USB HID UART
ucom*		at uslhcom?
uhid*		at uhidev?	# USB generic HID support
upd*		at uhidev?	# USB Power Devices sensors
atu*		at uhub?	# Atmel AT76c50x based 802.11b
aue*		at uhub?	# ADMtek AN986 Pegasus Ethernet  
axe*		at uhub?	# ASIX Electronics AX88172 USB Ethernet
axen*		at uhub?	# ASIX Electronics AX88179 USB Ethernet
cdce*		at uhub?	# CDC Ethernet
urndis*		at uhub?	# Remote NDIS Ethernet
cue*		at uhub?	# CATC USB-EL1201A based Ethernet
kue*		at uhub?	# Kawasaki KL5KUSB101B based Ethernet
mos*		at uhub?	# MOSCHIP MCS7730/7830 10/100 Ethernet
smsc*		at uhub?	# SMSC LAN95xx Ethernet
otus*		at uhub?	# Atheros AR9001U
athn*		at uhub?	# Atheros AR9002U
rum*		at uhub?	# Ralink RT2501USB/RT2601USB
run*		at uhub?	# Ralink RT2700U/RT2800U/RT3000U
uath*		at uhub?	# Atheros AR5005UG/AR5005UX
udav*		at uhub?	# Davicom DM9601 based Ethernet
upgt*		at uhub?	# Conexant/Intersil PrismGT SoftMAC USB
upl*		at uhub?	# Prolific PL2301/PL2302 host-to-host `network'
ugl*		at uhub?	# Genesys Logic GL620USB-A host-to-host `network'
ural*		at uhub?	# Ralink RT2500USB
url*		at uhub?	# Realtek RTL8150L based adapters
ure*		at uhub?	# Realtek RTL8152 based adapters
urtw*		at uhub?	# Realtek 8187
rsu*		at uhub?	# Realtek RTL8188SU/RTL8191SU/RTL8192SU
urtwn*		at uhub?	# Realtek RTL8188CU/RTL8192CU
wi*		at uhub?	# WaveLAN IEEE 802.11DS
zyd*		at uhub?	# Zydas ZD1211
uberry*		at uhub?	# Research In Motion BlackBerry 
udcf*		at uhub?	# Gude Expert mouseCLOCK
uthum*		at uhidev?	# TEMPerHUM sensor
ugold*		at uhidev?	# gold TEMPer sensor
utwitch*	at uhidev?	# YUREX BBU sensor
ugen*		at uhub?	# USB Generic driver

# USB Audio
uaudio*		at uhub?
audio*		at uaudio?
umidi*		at uhub?	# USB MIDI
midi*		at umidi?

# USB Video
uvideo*		at uhub?
video*		at uvideo?

utvfu*		at uhub?	# Fushicai Audio-Video Grabber
video*		at utvfu?
audio*		at utvfu?

udl*		at uhub?
wsdisplay*	at udl?

# NICs
ral*		at pci?
re*		at pci?
rl*		at pci?

# Media Independent Interface (mii) drivers
acphy*		at mii?		# Altima AC101 PHYs
amphy*		at mii?		# AMD 79C873 PHYs
bmtphy*		at mii?		# Broadcom 10/100 PHYs
eephy*		at mii?		# Marvell 88E1000 series PHY
rgephy*		at mii?		# Realtek 8169S/8110S PHY
rlphy*		at mii?		# Realtek 8139 internal PHYs
urlphy*		at mii?		# Realtek RTL8150L internal PHY
ukphy*		at mii?		# "unknown" PHYs

# SCSI Bus devices
scsibus*	at scsi?
sd*		at scsibus?
st*		at scsibus?
cd*		at scsibus?
ch*		at scsibus?
uk*		at scsibus?

pseudo-device	hotplug	1	# devices hot plugging
pseudo-device	wsmux	2	# mouse & keyboard multiplexor
@


1.53
log
@enable ure(4) where we already have url(4)
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.52 2016/06/01 11:39:59 mglocker Exp $
d17 2
d37 1
a37 1
# Main local buses
d40 5
d83 9
d100 5
@


1.52
log
@Enable utvfu(4) everywhere where uvideo(4) is also enabled.

suggested by mpi
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.51 2016/01/08 09:48:41 mpi Exp $
d160 1
@


1.51
log
@Enable uonerng(4) where ualea(4) is already present.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.50 2015/04/16 09:09:49 mpi Exp $
d181 4
@


1.50
log
@Enable ualea(4) where we have uhub(4), these USB device lists cry for
unification...
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.49 2015/04/02 14:24:02 jasper Exp $
d99 1
@


1.49
log
@use correct capitalization of 'BlackBerry'

"sure" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.48 2015/01/04 20:55:38 uaa Exp $
d98 1
@


1.48
log
@add new driver uslhcom(4) USB HID based UART.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.47 2014/12/11 19:44:17 tedu Exp $
d163 1
a163 1
uberry*		at uhub?	# Research In Motion Blackberry 
@


1.47
log
@dragonflybsd has added a urio driver. conservation of urios requires
that we delete ours, which isn't actually useful.
ok mpi sthen
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.46 2014/12/04 11:19:17 mpi Exp $
d133 2
@


1.46
log
@Enable umcs(4) where moscom(4) is present.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.45 2014/11/24 02:03:37 brad Exp $
a127 1
urio*		at uhub?	# Diamond Multimedia Rio 500
@


1.45
log
@use the correct capitalization for Realtek.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.44 2014/07/11 21:58:09 tedu Exp $
d118 2
@


1.44
log
@remove bthub remnants
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.43 2014/04/07 22:20:43 andre Exp $
d155 1
a155 1
urtw*		at uhub?	# RealTek 8187
d191 1
a191 1
rlphy*		at mii?		# RealTek 8139 internal PHYs
@


1.43
log
@Enable upd(4) on archs where uhidev(4) is present, requested by mpi@@.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.42 2014/04/07 08:27:24 brad Exp $
a178 11

# Bluetooth controllers
#ubt*	at uhub? disable	# USB Bluetooth
#bthub*	at ubt?
#bthidev*	at bthub?		# Bluetooth HID support
#btkbd*	at bthidev?
#btms*	at bthidev?
#wskbd*	at btkbd? mux 1
#wsmouse*	at btms? mux 0
#btsco*	at bthub?		# Bluetooth audio support
#audio*	at btsco?
@


1.42
log
@Add axen(4) wherever axe(4) is.

ok mpi@@ yuo@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.41 2013/11/15 19:42:20 sasano Exp $
d133 1
@


1.41
log
@Added dev/usb/if_ugl.c, a driver for Genesys Logic GL620USB-A
USB host-to-host link cable. This driver is derived from upl(4).
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.40 2013/09/05 19:42:07 sasano Exp $
d136 1
@


1.40
log
@ugold(4) is a driver for PCsensor's USB gold TEMPer temperature
measurement device (idVendor:idProduct=0x0c45:0x7401).

newly added.

ok by mpi@@ and sthen@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.39 2013/08/20 14:27:29 ajacoutot Exp $
d150 1
@


1.39
log
@Remove uscanner(4). It was disabled in GENERIC more than 2.5 years ago.
No regression has been reported since libusb became the prefered
solution to work with USB scanners.

req. by mpi@@
ok ian@@ mpi@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.38 2013/01/14 21:18:47 pirofti Exp $
d160 1
@


1.38
log
@Loongson: Replace the system clock provided by the CPU with a GLX MFGPT.

CPU throttling was not possible due to the fact that the system clock
was the CPU clock. So slowing down the CPU would also slow down the
passing of time.

This commit adds a driver for the MFGPT1 clock from the AMD companion
chip found on lemote and hooks it up as the system clock.

It also changes the frequency value of hz from the default, which was
100, to 128. That's because the scaling on MFGPT clocks is represented
by powers of two.

Okay miod@@.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.37 2012/09/27 14:01:35 jsg Exp $
a126 1
uscanner*	at uhub? disable# USB Scanners
@


1.37
log
@enable smsc
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.36 2011/07/07 23:41:09 tedu Exp $
d43 1
@


1.36
log
@deraadt says disable bluetooth everywhere else too
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.35 2011/06/29 20:52:09 matthew Exp $
d141 1
@


1.35
log
@Replace all instances of "scsibus* at hba?" with a single "scsibus* at
scsi?" rule, similar to how ethernet PHY drivers attach at mii.

Discussed on icb.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.34 2011/05/24 20:27:11 matthew Exp $
d176 9
a184 10
ubt*	at uhub? disable	# USB Bluetooth
bthub*	at ubt?

bthidev*	at bthub?		# Bluetooth HID support
btkbd*	at bthidev?
btms*	at bthidev?
wskbd*	at btkbd? mux 1
wsmouse*	at btms? mux 0
btsco*	at bthub?		# Bluetooth audio support
audio*	at btsco?
@


1.34
log
@On OpenBSD, we've always attached scsibus(4) to umass(4), even for
ATAPI devices.  atapiscsi(4) is only for handling ATAPI devices on an
ATA bus, so umass(4) shouldn't care about it.

ok krw@@, dlg@@; no objections from deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.33 2011/04/10 20:27:02 shadchin Exp $
a124 1
scsibus*	at umass?
d203 1
@


1.33
log
@Merge viapm and viaenv

Pluses:
- Add support SMBus for VT82C596, VT82C596B, VT82C686A, VT8231
- Add support ACPI timer for all VIA South Bridges

ok deraadt@@, tested sthen@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.32 2011/02/17 20:14:30 miod Exp $
a124 2
atapiscsi*	at umass?
scsibus*	at atapiscsi?
@


1.32
log
@Disable sbt and ubt devices. The bluetooth code will sometimes sleep while
holding locks, this is not allowed, and nobody has stepped up to fix this,
so better not lure people into using bluetooth devices.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.31 2011/01/08 11:56:30 damien Exp $
d82 1
a82 1
viaenv*		at pci?
@


1.31
log
@The Ubiquiti WiFiStation EXT works on the Sun Blade 1500.
Enable athn at uhub on all USB 2.0 capable arches.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.30 2010/12/12 14:33:57 damien Exp $
d179 1
a179 1
ubt*	at uhub?		# USB Bluetooth
@


1.30
log
@rsu(4) works on the sparc64, so add it everywhere where urtwn(4) is.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.29 2010/11/26 20:13:55 miod Exp $
d145 1
@


1.29
log
@Disable uscanner(4) by default on all kernels which configure it. First step
until possible removal, if indeed this causes no regression for scanner users.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.28 2010/11/19 20:53:44 miod Exp $
d154 1
@


1.28
log
@Add urio and uscanner.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.27 2010/11/15 19:07:34 damien Exp $
d129 1
a129 1
uscanner*	at uhub?	# USB Scanners
@


1.27
log
@add urtwn(4) to more USB 2.0 capable architectures, since it works
on sparc64 and macppc.

prodded by jsg@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.26 2010/09/26 20:39:08 miod Exp $
d128 2
@


1.26
log
@Merge pmsi(4) into pms(4). From Alexandr Shadchin on tech@@.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.25 2010/09/23 16:21:46 yuo Exp $
d152 1
@


1.25
log
@enable utwitch(4) (formely uyurex(4)) by default

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.24 2010/09/21 02:46:33 deraadt Exp $
d47 2
a48 2
pmsi*		at pckbc?			# Yeeloong only
wsmouse*	at pmsi? mux 0			# Yeeloong only
@


1.24
log
@gpio at glxpcib was forgotten; tested by pirofti
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.23 2010/07/03 03:59:16 krw Exp $
d157 1
@


1.23
log
@No more ss(4) or usscanner(4). Unused, unloved and unmaintained.
General huzzahs.

"go for it" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.22 2010/05/08 21:59:53 miod Exp $
d41 1
@


1.22
log
@Huge work-in-progress commit to support Loongson 2E-based evaluation boards
with a VIA 686 southbridge.

Features:
- 686 setup code (no thanks to PMON for not initializing the beast).
- work in progress ISA interrupt handling code.
- support for vga(4) compatible devices as console, in PC-compatible text mode.
- move legacy (ISA) support code out of bonito(4) to make things clearer.
- support more than 256MB on 2E-based systems.

Tested on a generic 2E-based evaluation board by someone who wishes to remain
anonymous; you know who you are, thank you very much for testing.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.21 2010/03/03 20:57:28 mk Exp $
a202 1
ss*		at scsibus?
@


1.21
log
@Enable urndis(4) everywhere that has USB enabled to get it tested.

Much prodding from deraadt.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.20 2010/03/03 13:33:27 jasper Exp $
d73 9
@


1.20
log
@- add and enable bluetooth

ok miod@@ otto@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.19 2010/03/02 20:54:51 miod Exp $
d128 1
@


1.19
log
@Add support for the Lemote Lynloong all-in-one PC (basically a Fuloong without
the serial and IR ports, built into a mac-like case). At least PMON initializes
the frame buffer in a much friendlier video mode (1360x768x16), but there is
still no frame buffer acceleration yet.

Tested by wvdputte.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.18 2010/02/28 22:39:13 miod Exp $
d160 12
@


1.18
log
@Attach the IR port as a second serial port on Fuloong 2F. Verified to attach
and get interrupts by otto@@, no further testing due to lack of IR devices.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.17 2010/02/28 22:32:50 miod Exp $
d39 1
a39 1
# Lemote Fuloong 2F and Lemote Yeeloong devices
d53 1
a53 1
sisfb*		at pci?				# Fuloong 2F only
@


1.17
log
@Minimal frame buffer driver for the SiS 315 found on Lemote Fuloong systems.
Currently unable to change video modes or provide any form of acceleration,
so you are stuck in a 640x400x8 mode, but at least people scared of serial
consoles will get a chance to use their Fuloongs now.

Tested by otto@@ (early developments) and jasper@@ (final version)
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.16 2010/02/28 08:30:27 otto Exp $
d50 1
@


1.16
log
@Basic apm(4), providing battery/power status and events. apm(4) is the
generic part, ykbec(4) provides the device specific parts. Other
battery/power status drivers can easily hook to adb(4). With help
from miod@@; ok matthieu@@ miod@@ jasper@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.15 2010/02/26 14:53:11 miod Exp $
d52 2
d55 1
@


1.15
log
@Subdevice interrupt dispatcher for voyager(4) and ohci@@voyager device, only
allowed to match on old gdium artwork, as newer artwork have nothing
connected to the usb pins, and this causes the empty bus probe to stall the
boot a few seconds.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.14 2010/02/24 22:16:18 miod Exp $
d33 1
@


1.14
log
@Minimal support for the ST7 chip found on Gdium Liberty, brings us battery
information and a few other things not yet wired.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.13 2010/02/23 21:04:16 otto Exp $
d65 1
a65 1
#ohci*		at voyager?
@


1.13
log
@ykbec(4), a driver to read fan, temperature and battery status using
the kb3310b embedded controller chip on the yeeloong. With help & ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.12 2010/02/19 15:14:19 miod Exp $
d61 1
a66 1

@


1.12
log
@Add built-in audio support on Lemote systems.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.11 2010/02/19 08:30:04 otto Exp $
d47 1
@


1.11
log
@even more USB; ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.10 2010/02/19 00:21:43 miod Exp $
d51 2
a61 1
#gdiumiic1	at gpio0 offset 41 mask 0x03	# pins 41 and 42
@


1.10
log
@Add a driver for the M41T8x time-of-day clock chips, such as the M41T83
found on the Gdium Liberty. These machines finally no longer complain about
a missing todclock.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.9 2010/02/18 22:45:26 miod Exp $
d82 2
a83 4
umsm*		at uhub?
ucom*		at umsm?
uplcom*		at uhub?	# I/O DATA USB-RSAQ2 serial adapter
ucom*		at uplcom?
d88 18
d136 3
a139 1
uthum*		at uhidev?	# TEMPerHUM sensor
d144 2
@


1.9
log
@Add a master driver for the VoyagerGX SM502 chip found on the Gdium, which is
not only a framebuffer. Allow smfb to attach either at pci or at voyager.

Add gpio@@voyager and gdiumiic@@gpio, a derivative of the MI gpioiic driver.
This allows us to get lmtemp@@iic on the Lemote; the next step being to
write a driver for the i2c todclock chip found on the same bus.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.8 2010/02/12 08:14:00 miod Exp $
d59 1
@


1.8
log
@Overhaul per-platform specific operation by moving all the differences into
per-platform structs or function pointers; therefore bonito(4) no longer needs
to know about particular systems.

While there, bring little bits of Fuloong 2F support, tested on otto@@'s
machine.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.7 2010/02/09 12:15:37 jasper Exp $
d37 2
a39 1

d42 6
a47 7
pckbc0		at isa?
pckbd*		at pckbc?
wskbd*		at pckbd? mux 1
pmsi*		at pckbc?
wsmouse*	at pmsi? mux 0
com0		at isa? port 0x2f8 irq 3

d50 14
a63 1
smfb*		at pci?
@


1.7
log
@- add the whole gang of USB devices; as prompted by deraadt@@
- add section headers

ok otto@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.5 2010/02/05 21:07:39 otto Exp $
d46 1
d122 1
d130 1
@


1.6
log
@Add ral(4), found on the Gdium Liberty 1000.
@
text
@d27 3
d34 1
d51 2
d57 1
a57 5
ral*		at pci?
rl*		at pci?
rlphy*		at mii?
ukphy*		at mii?

d61 5
a65 3
uhub*		at usb?
uhub*		at uhub?
umodem*		at uhub?
a66 2
uplcom*		at uhub?                # I/O DATA USB-RSAQ2 serial adapter
ucom*		at uplcom?
d69 8
a76 1
umass*		at uhub?
d80 2
a81 3
uhidev*		at uhub?
uhid*		at uhidev?
ums*		at uhidev?
d83 1
a83 1
ukbd*		at uhidev?
d85 22
a106 1
urtw*		at uhub?
d108 1
a108 2
url*		at uhub?
urlphy*		at mii?
d111 2
d116 17
@


1.5
log
@add uaudio; ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.4 2010/02/04 16:37:53 otto Exp $
d51 1
@


1.4
log
@add a few USB devices known to work; ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.3 2010/01/31 19:12:30 miod Exp $
d80 2
@


1.3
log
@Add hotplug and wsmux.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.2 2010/01/31 15:50:07 matthieu Exp $
d60 6
@


1.2
log
@Add option WSCONS_COMPAT_RAWKBD for X. ok miod@@.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.1.1.1 2009/12/25 22:15:11 miod Exp $
d20 1
a20 1
option		WSDISPLAY_COMPAT_RAWKBD
d83 3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$OpenBSD$
d20 1
@


1.1.1.1
log
@By popular demand and peer pressure, check-in work in progress work to support
the Yeelong Lemote mips-based netbook. Kernel bits only for now, needs
polishing; most of this work done during h2k9 last month, although the
porting effort started earlier this year.
@
text
@@
