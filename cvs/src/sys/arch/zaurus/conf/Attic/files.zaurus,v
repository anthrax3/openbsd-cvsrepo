head	1.33;
access;
symbols
	OPENBSD_6_0:1.32.0.4
	OPENBSD_6_0_BASE:1.32
	OPENBSD_5_9:1.32.0.2
	OPENBSD_5_9_BASE:1.32
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.30.0.2
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.29.0.4
	OPENBSD_5_6_BASE:1.29
	OPENBSD_5_5:1.28.0.4
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.27.0.10
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.27.0.8
	OPENBSD_5_3_BASE:1.27
	OPENBSD_5_2:1.27.0.6
	OPENBSD_5_2_BASE:1.27
	OPENBSD_5_1_BASE:1.27
	OPENBSD_5_1:1.27.0.4
	OPENBSD_5_0:1.27.0.2
	OPENBSD_5_0_BASE:1.27
	OPENBSD_4_9:1.26.0.4
	OPENBSD_4_9_BASE:1.26
	OPENBSD_4_8:1.26.0.2
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.25.0.10
	OPENBSD_4_7_BASE:1.25
	OPENBSD_4_6:1.25.0.12
	OPENBSD_4_6_BASE:1.25
	OPENBSD_4_5:1.25.0.8
	OPENBSD_4_5_BASE:1.25
	OPENBSD_4_4:1.25.0.6
	OPENBSD_4_4_BASE:1.25
	OPENBSD_4_3:1.25.0.4
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.25.0.2
	OPENBSD_4_2_BASE:1.25
	OPENBSD_4_1:1.23.0.2
	OPENBSD_4_1_BASE:1.23
	OPENBSD_4_0:1.21.0.4
	OPENBSD_4_0_BASE:1.21
	OPENBSD_3_9:1.21.0.2
	OPENBSD_3_9_BASE:1.21
	OPENBSD_3_8:1.20.0.2
	OPENBSD_3_8_BASE:1.20
	OPENBSD_3_7:1.15.0.2
	OPENBSD_3_7_BASE:1.15;
locks; strict;
comment	@# @;


1.33
date	2016.09.03.13.37.43;	author guenther;	state dead;
branches;
next	1.32;
commitid	6T3r4QcMFKe3Fo5T;

1.32
date	2016.01.08.15.54.13;	author jcs;	state Exp;
branches;
next	1.31;
commitid	kI4H556ZKYkRQGw5;

1.31
date	2015.05.11.06.46.21;	author ratchov;	state Exp;
branches;
next	1.30;
commitid	RaOGL5SyOGOZylwx;

1.30
date	2014.10.18.12.21.57;	author miod;	state Exp;
branches;
next	1.29;
commitid	bMGwcxDJMvwyWkup;

1.29
date	2014.07.11.21.54.38;	author tedu;	state Exp;
branches;
next	1.28;
commitid	0n9cIGBISFAEt4b1;

1.28
date	2013.11.04.14.07.16;	author deraadt;	state Exp;
branches;
next	1.27;

1.27
date	2011.05.15.08.52.48;	author matthieu;	state Exp;
branches;
next	1.26;

1.26
date	2010.06.07.16.34.20;	author drahn;	state Exp;
branches;
next	1.25;

1.25
date	2007.06.08.22.57.43;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2007.03.18.20.53.10;	author uwe;	state Exp;
branches;
next	1.23;

1.23
date	2006.11.25.14.31.59;	author uwe;	state Exp;
branches;
next	1.22;

1.22
date	2006.09.27.06.33.03;	author grange;	state Exp;
branches;
next	1.21;

1.21
date	2005.11.17.05.26.31;	author uwe;	state Exp;
branches;
next	1.20;

1.20
date	2005.07.01.23.51.55;	author uwe;	state Exp;
branches;
next	1.19;

1.19
date	2005.06.16.21.30.12;	author uwe;	state Exp;
branches;
next	1.18;

1.18
date	2005.05.01.19.25.37;	author matthieu;	state Exp;
branches;
next	1.17;

1.17
date	2005.04.26.01.09.00;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	2005.04.15.01.05.50;	author pascoe;	state Exp;
branches;
next	1.15;

1.15
date	2005.01.28.17.14.31;	author drahn;	state Exp;
branches;
next	1.14;

1.14
date	2005.01.26.06.34.53;	author uwe;	state Exp;
branches;
next	1.13;

1.13
date	2005.01.20.23.34.36;	author uwe;	state Exp;
branches;
next	1.12;

1.12
date	2005.01.19.02.02.34;	author uwe;	state Exp;
branches;
next	1.11;

1.11
date	2005.01.16.18.13.10;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2005.01.16.04.26.15;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2005.01.13.23.33.37;	author drahn;	state Exp;
branches;
next	1.8;

1.8
date	2005.01.13.17.44.43;	author drahn;	state Exp;
branches;
next	1.7;

1.7
date	2005.01.13.16.24.16;	author drahn;	state Exp;
branches;
next	1.6;

1.6
date	2005.01.04.14.13.06;	author drahn;	state Exp;
branches;
next	1.5;

1.5
date	2005.01.04.03.47.00;	author drahn;	state Exp;
branches;
next	1.4;

1.4
date	2005.01.02.19.43.07;	author drahn;	state Exp;
branches;
next	1.3;

1.3
date	2004.12.31.18.28.37;	author drahn;	state Exp;
branches;
next	1.2;

1.2
date	2004.12.31.00.40.52;	author drahn;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.31.00.04.35;	author drahn;	state Exp;
branches;
next	;


desc
@@


1.33
log
@Retire zaurus, as it hasn't made the EABI jump and will be permanently broken
shortly when we use the hardware thread register in userland
@
text
@#	$OpenBSD: files.zaurus,v 1.32 2016/01/08 15:54:13 jcs Exp $
#
# First try for arm-specific configuration info
#

maxpartitions	16
maxusers	2 8 64

major	{wd = 16}
major	{sd = 24}
major	{cd = 26}
major	{rd = 18}

file	arch/arm/arm/conf.c

file	arch/zaurus/zaurus/zaurus_machdep.c

#
# Machine-independent SCSI drivers
#
include "scsi/files.scsi"
include "dev/atapiscsi/files.atapiscsi"

# CPU support and integrated peripherals
include "arch/arm/xscale/files.pxa2x0"

# LCD frame buffer
attach lcd at pxaip with lcd_pxaip
file arch/zaurus/zaurus/zaurus_lcd.c		lcd_pxaip

# GPIO keyboard 
device zkbd: wskbddev
attach zkbd at pxaip
file arch/zaurus/dev/zaurus_kbd.c		zkbd

# 16-bit GPIO controller
device scoop
attach scoop at pxaip
file arch/zaurus/dev/zaurus_scoop.c		scoop

# PCMCIA/CF socket controller
attach pxapcic at pxaip with pxapcic_scoop
file arch/zaurus/dev/scoop_pcic.c		pxapcic_scoop

# SD/MMC socket controller
attach pxammc at pxaip with pxammc_scoop
file arch/zaurus/dev/scoop_mmc.c		pxammc_scoop

# Dedicated SSP unit for ADC, touch screen, and backlight
device zssp
attach zssp at pxaip
file arch/zaurus/dev/zaurus_ssp.c		zssp

# Power manager and APM emulation
attach apm at pxaip with apm_pxaip
file arch/zaurus/dev/zaurus_apm.c		apm_pxaip

# Zaurus touchpad
device zts: wsmousedev
attach zts at pxaip
file arch/zaurus/dev/zts.c			zts

# Zaurus sound
device	zaudio: audio, i2s, i2c
attach	zaudio at pxaip
file	arch/zaurus/dev/zaurus_audio.c		zaudio

# Zaurus remote control
device	zrc: wskbddev
attach	zrc at pxaip
file	arch/zaurus/dev/zaurus_remote.c		zrc

# NAND flash pseudo-disk device (Xilinx NAND flash controller)
device	flash: disk
attach	flash at pxaip with flash_pxaip
file	arch/zaurus/dev/zaurus_flash.c		flash_pxaip

#
# Machine-independent ATA drivers
#
include "dev/ata/files.ata"

# Generic MD files
file	arch/zaurus/zaurus/autoconf.c

file	arch/arm/arm/disksubr.c			disk

# ARM FPE
file	arch/arm/fpe-arm/armfpe_glue.S		armfpe
file	arch/arm/fpe-arm/armfpe_init.c		armfpe
file	arch/arm/fpe-arm/armfpe.s		armfpe

# Include WSCONS stuff
include "dev/wscons/files.wscons"
include "dev/rasops/files.rasops"
include "dev/wsfont/files.wsfont"

#
# Machine-independent HID support
#
include	"dev/hid/files.hid"

# Include USB stuff
include "dev/usb/files.usb"

attach pxaudc at pxaip with pxaudc_zaurus
file arch/zaurus/dev/zaurus_udc.c		pxaudc_zaurus

# Media Independent Interface (mii)
include "dev/mii/files.mii"

#
# Machine-independent SD/MMC drivers
#
include "dev/sdmmc/files.sdmmc"

#
# Machine-independent 1-Wire drivers
#
include "dev/onewire/files.onewire"
@


1.32
log
@Move HID support files out of dev/usb into new dev/hid directory

These files aren't USB-specific and were used by the previous
Bluetooth implementation, and will be used by the upcoming
HID-over-i2C implementation

ok deraadt
previous version ok kettenis and mpi
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.31 2015/05/11 06:46:21 ratchov Exp $
@


1.31
log
@Remove all audio format conversion code from the kernel (btw holding
the kernel_lock), as we already do better conversions in
user-mode. Yet, no need for every single driver to fiddle with the
conversion code as they are done transparently by common MI code. With
help from armani and miod, support from mpi

ok armani@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.30 2014/10/18 12:21:57 miod Exp $
d97 5
@


1.30
log
@Remove even more unnecessary `needs-flag' attributes from config machinery,
as well as useless include of the generated flag files.
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.29 2014/07/11 21:54:38 tedu Exp $
d64 1
a64 1
device	zaudio: audio, auconv, mulaw, i2s, i2c
@


1.29
log
@"It's not the years, honey; it's the mileage."

bluetooth support doesn't work and isn't going anywhere. the current
design is a dead end, and should not be the basis for any future support.
general consensus says to whack it so as to not mislead the unwary.
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.28 2013/11/04 14:07:16 deraadt Exp $
d61 1
a61 1
file arch/zaurus/dev/zts.c			zts needs-flag
@


1.28
log
@remove iop(4) driver.  it is entirely unmaintained and supports something
which basically doesn't exist at all.
reminded about it by brad
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.27 2011/05/15 08:52:48 matthieu Exp $
a102 2
# Bluetooth
include "dev/bluetooth/files.bluetooth"
@


1.27
log
@Remove unused include of file.pckbdc. Those arches do not have
a PC/AT or PS/2 keyboard/mouse controller. ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.26 2010/06/07 16:34:20 drahn Exp $
a91 3

# Machine-independent I2O drivers.
include "dev/i2o/files.i2o"
@


1.26
log
@Break pxaudc into xscale and MD pieces so that palm and zaurus can correctly
share the driver with different GPIOs/IRQs Diff from marex via jasper.
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.25 2007/06/08 22:57:43 jasper Exp $
a99 1
include "dev/pckbc/files.pckbc"
@


1.25
log
@include files.bluetooth, so that bluetooth support can be compiled,
if enabled.

ok gwk@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.24 2007/03/18 20:53:10 uwe Exp $
d21 2
a22 2
include "../../../scsi/files.scsi"
include "../../../dev/atapiscsi/files.atapiscsi"
d105 2
@


1.24
log
@Support the PXA27x SD/SDIO/MMC controller on Zaurus

We use the suggested workaround for the problem E40 in the PXA27x errata
sheet. Unfortunately this limits the bus speed to 9.75Mhz.
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.23 2006/11/25 14:31:59 uwe Exp $
d104 3
@


1.23
log
@Initial NAND flash support for Zaurus, not enabled yet; prodded by many.
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.22 2006/09/27 06:33:03 grange Exp $
d45 4
d107 5
@


1.22
log
@Add files.onewire to all our USB archs, it will be used soon.
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.21 2005/11/17 05:26:31 uwe Exp $
d68 5
@


1.21
log
@Sharp CE-RH2 remote control driver
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.20 2005/07/01 23:51:55 uwe Exp $
d98 5
@


1.20
log
@Move all zaurus specific code from pxa2x0_pcic.c into scoop_pcic.c
without affecting the way the driver works.
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.19 2005/06/16 21:30:12 uwe Exp $
d63 5
@


1.19
log
@i2c and i2s are separete devices, and zaudio depends on them.
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.18 2005/05/01 19:25:37 matthieu Exp $
d36 1
a36 1
# Onboard peripheral and GPIO controller
d38 1
a38 1
attach scoop at pxaip with scoop_pxaip
d40 4
@


1.18
log
@Fix zaudio dependencies. ok uwe@@, pascoe@@.
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.17 2005/04/26 01:09:00 deraadt Exp $
d56 1
a56 1
device	zaudio: audio, auconv,  mulaw
a58 2
file	arch/arm/xscale/pxa2x0_i2s.c		zaudio
file	arch/arm/xscale/pxa2x0_i2c.c		zaudio
@


1.17
log
@let ramdisks compile after zts changes
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.16 2005/04/15 01:05:50 pascoe Exp $
d56 1
a56 1
device	zaudio: audio
@


1.16
log
@Add basic audio playback support for the Zaurus SL-C3000.

ok dlg@@ drahn@@ uwe@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.15 2005/01/28 17:14:31 drahn Exp $
d53 1
a53 1
file arch/zaurus/dev/zts.c			zts
@


1.15
log
@Add zts, touch screen driver for zaurus.
Currently in it's early stage,  instead of an absolute pointing device,
it currently does relative, and only in polled mode.
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.14 2005/01/26 06:34:53 uwe Exp $
d54 7
@


1.14
log
@New device for the dedicated SSP unit, automatic battery charging, and
reporting the remaining battery life to apmd(8).
ok drahn@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.13 2005/01/20 23:34:36 uwe Exp $
d49 5
@


1.13
log
@Enable apm/scoop drivers and report A/C power status correctly.
ok drahn@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.12 2005/01/19 02:02:34 uwe Exp $
d41 5
d48 1
a48 1
file arch/zaurus/zaurus/zaurus_apm.c		apm_pxaip
@


1.12
log
@APM emulation framework and zaurus scoop driver.  Not enabled yet.
ok drahn@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.zaurus,v 1.11 2005/01/16 18:13:10 deraadt Exp $
d40 4
@


1.11
log
@header
@
text
@d1 1
a1 1
#	$OpenBSD$
d35 5
@


1.10
log
@spacing
@
text
@d1 1
a1 1
#	$NetBSD: files.pxaarm,v 1.17 2003/02/17 20:51:53 ichiro Exp $
@


1.9
log
@Stage one of wscons support.
@
text
@d29 1
a29 1
file arch/zaurus/zaurus/zaurus_lcd.c			lcd_pxaip
d34 1
a34 1
file arch/zaurus/dev/zaurus_kbd.c			zkbd
d47 2
a48 2
file	arch/arm/fpe-arm/armfpe_glue.S	armfpe
file	arch/arm/fpe-arm/armfpe_init.c	armfpe
a58 1

@


1.8
log
@do not keep references to obio in this.
@
text
@d32 1
a32 1
device zkbd
@


1.7
log
@Drop obio, attach lcd directly to pxaip. Fixes interrupt problems.
@
text
@d28 2
a29 2
attach lcd at pxaip with lcd_obio
file arch/zaurus/zaurus/zaurus_lcd.c			lcd_obio
@


1.6
log
@cleaner pci/fcom arm cats vs zaurus config.
@
text
@a8 2
include "../../../scsi/files.scsi"
include "../../../dev/atapiscsi/files.atapiscsi"
d18 6
a26 12
# LUBBOCK on-board devices (including CPLD)
device	obio {[addr = -1], [size = -1], [width = -1], [intr = -1]}: bus_space_generic
attach	obio at pxaip
file	arch/zaurus/zaurus/obio.c			obio

#device	sacpcic: pcmciabus
#attach	sacpcic at sacc
#file	arch/arm/sa11x0/sa11x1_pcic.c			sacpcic needs-flag
#file	arch/arm/sa11x0/sa11xx_pcic.c			sacpcic
#file	arch/zaurus/zaurus/zaurus_pcic.c		sacpcic


d28 1
a28 1
attach lcd at obio with lcd_obio
d31 5
a39 5

#
# Machine-independent SCSI drivers
#

@


1.5
log
@USB support for C3000, much thanks to dlg@@ for pxa2x0_ohci.c
@
text
@a68 4
# kludge, not present on zaurus, but needed for arm/conf.c
device  fcom: tty, bus_space_generic
file    arch/arm/footbridge/footbridge_com.c            fcom needs-flag

d73 1
a73 1
include "../../../dev/mii/files.mii"
@


1.4
log
@OpenBSD tags
@
text
@a0 1
#	$OpenBSD$
a61 15
#
# Include PCI config
#
include "dev/mii/files.mii"
include "dev/pci/files.pci"

device	pcib: isabus
attach	pcib at pci
file	arch/zaurus/pci/pcib.c			pcib

file	arch/zaurus/pci/pciide_machdep.c	pciide

# Include USB stuff
include "dev/usb/files.usb"

d72 6
@


1.3
log
@kludge around this build problem for now.
@
text
@d1 1
@


1.2
log
@cleanups pointed out by miod@@
@
text
@d82 5
@


1.1
log
@Port of OpenBSD to the Zaurus, currently running on C860, soon C3000.
@
text
@d6 1
a6 1
maxpartitions	8
@

