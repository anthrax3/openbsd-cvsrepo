head	1.54;
access;
symbols
	OPENBSD_6_0:1.54.0.2
	OPENBSD_6_0_BASE:1.54
	OPENBSD_5_9:1.53.0.2
	OPENBSD_5_9_BASE:1.53
	OPENBSD_5_8:1.53.0.4
	OPENBSD_5_8_BASE:1.53
	OPENBSD_5_7:1.52.0.2
	OPENBSD_5_7_BASE:1.52
	OPENBSD_5_6:1.49.0.4
	OPENBSD_5_6_BASE:1.49
	OPENBSD_5_5:1.46.0.4
	OPENBSD_5_5_BASE:1.46
	OPENBSD_5_4:1.44.0.4
	OPENBSD_5_4_BASE:1.44
	OPENBSD_5_3:1.44.0.2
	OPENBSD_5_3_BASE:1.44
	OPENBSD_5_2:1.43.0.4
	OPENBSD_5_2_BASE:1.43
	OPENBSD_5_1_BASE:1.43
	OPENBSD_5_1:1.43.0.2
	OPENBSD_5_0:1.42.0.2
	OPENBSD_5_0_BASE:1.42
	OPENBSD_4_9:1.41.0.4
	OPENBSD_4_9_BASE:1.41
	OPENBSD_4_8:1.41.0.2
	OPENBSD_4_8_BASE:1.41
	OPENBSD_4_7:1.39.0.2
	OPENBSD_4_7_BASE:1.39
	OPENBSD_4_6:1.39.0.4
	OPENBSD_4_6_BASE:1.39
	OPENBSD_4_5:1.38.0.4
	OPENBSD_4_5_BASE:1.38
	OPENBSD_4_4:1.38.0.2
	OPENBSD_4_4_BASE:1.38
	OPENBSD_4_3:1.36.0.4
	OPENBSD_4_3_BASE:1.36
	OPENBSD_4_2:1.36.0.2
	OPENBSD_4_2_BASE:1.36
	OPENBSD_4_1:1.35.0.2
	OPENBSD_4_1_BASE:1.35
	OPENBSD_4_0:1.34.0.4
	OPENBSD_4_0_BASE:1.34
	OPENBSD_3_9:1.34.0.2
	OPENBSD_3_9_BASE:1.34
	OPENBSD_3_8:1.31.0.2
	OPENBSD_3_8_BASE:1.31
	OPENBSD_3_7:1.21.0.2
	OPENBSD_3_7_BASE:1.21;
locks; strict;
comment	@# @;


1.54
date	2016.06.28.04.41.37;	author jmatthew;	state Exp;
branches;
next	1.53;
commitid	YZhKLotIHp83F5gq;

1.53
date	2015.07.17.22.52.29;	author tedu;	state Exp;
branches;
next	1.52;
commitid	OOrGfFHYAn65M2qc;

1.52
date	2014.11.24.02.03.37;	author brad;	state Exp;
branches;
next	1.51;
commitid	Wmnzf8bGQILqXRTG;

1.51
date	2014.10.10.05.43.36;	author deraadt;	state Exp;
branches;
next	1.50;
commitid	eyBTAcDp3o260Uyq;

1.50
date	2014.08.22.20.03.56;	author deraadt;	state Exp;
branches;
next	1.49;
commitid	v3mi9m9bp9Skjxm7;

1.49
date	2014.07.12.21.56.57;	author tedu;	state Exp;
branches;
next	1.48;
commitid	6Bshd6p5VmKoCOQI;

1.48
date	2014.04.08.02.25.33;	author brad;	state Exp;
branches;
next	1.47;

1.47
date	2014.04.07.08.27.24;	author brad;	state Exp;
branches;
next	1.46;

1.46
date	2013.11.15.19.42.20;	author sasano;	state Exp;
branches;
next	1.45;

1.45
date	2013.08.20.14.27.31;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2012.09.27.14.01.35;	author jsg;	state Exp;
branches;
next	1.43;

1.43
date	2011.09.20.22.11.42;	author miod;	state Exp;
branches;
next	1.42;

1.42
date	2011.06.29.20.52.09;	author matthew;	state Exp;
branches;
next	1.41;

1.41
date	2010.07.03.03.59.17;	author krw;	state Exp;
branches;
next	1.40;

1.40
date	2010.04.26.20.51.51;	author deraadt;	state Exp;
branches;
next	1.39;

1.39
date	2009.06.02.06.33.24;	author todd;	state Exp;
branches;
next	1.38;

1.38
date	2008.06.27.05.29.54;	author todd;	state Exp;
branches;
next	1.37;

1.37
date	2008.06.08.20.37.39;	author deraadt;	state Exp;
branches;
next	1.36;

1.36
date	2007.03.18.21.47.25;	author uwe;	state Exp;
branches;
next	1.35;

1.35
date	2006.11.28.15.25.10;	author deraadt;	state Exp;
branches;
next	1.34;

1.34
date	2006.02.14.18.11.04;	author miod;	state Exp;
branches;
next	1.33;

1.33
date	2005.12.27.20.05.34;	author drahn;	state Exp;
branches;
next	1.32;

1.32
date	2005.12.20.02.37.10;	author drahn;	state Exp;
branches;
next	1.31;

1.31
date	2005.08.28.05.30.43;	author deraadt;	state Exp;
branches;
next	1.30;

1.30
date	2005.06.16.21.06.55;	author uwe;	state Exp;
branches;
next	1.29;

1.29
date	2005.05.31.23.05.41;	author deraadt;	state Exp;
branches;
next	1.28;

1.28
date	2005.05.27.19.01.21;	author uwe;	state Exp;
branches;
next	1.27;

1.27
date	2005.05.09.15.32.19;	author uwe;	state Exp;
branches;
next	1.26;

1.26
date	2005.05.01.07.54.43;	author david;	state Exp;
branches;
next	1.25;

1.25
date	2005.04.30.00.36.26;	author deraadt;	state Exp;
branches;
next	1.24;

1.24
date	2005.04.28.05.39.41;	author deraadt;	state Exp;
branches;
next	1.23;

1.23
date	2005.04.17.18.10.28;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2005.03.31.12.35.45;	author dlg;	state Exp;
branches;
next	1.21;

1.21
date	2005.03.18.07.48.43;	author dlg;	state Exp;
branches;
next	1.20;

1.20
date	2005.02.18.15.35.47;	author dlg;	state Exp;
branches;
next	1.19;

1.19
date	2005.02.01.15.41.24;	author drahn;	state Exp;
branches;
next	1.18;

1.18
date	2005.01.26.06.34.53;	author uwe;	state Exp;
branches;
next	1.17;

1.17
date	2005.01.20.23.34.36;	author uwe;	state Exp;
branches;
next	1.16;

1.16
date	2005.01.19.02.02.34;	author uwe;	state Exp;
branches;
next	1.15;

1.15
date	2005.01.17.22.58.01;	author miod;	state Exp;
branches;
next	1.14;

1.14
date	2005.01.16.18.12.46;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	2005.01.14.18.18.19;	author drahn;	state Exp;
branches;
next	1.12;

1.12
date	2005.01.14.18.09.07;	author drahn;	state Exp;
branches;
next	1.11;

1.11
date	2005.01.14.00.39.20;	author drahn;	state Exp;
branches;
next	1.10;

1.10
date	2005.01.13.23.33.37;	author drahn;	state Exp;
branches;
next	1.9;

1.9
date	2005.01.13.20.47.57;	author drahn;	state Exp;
branches;
next	1.8;

1.8
date	2005.01.10.22.16.08;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2005.01.10.05.20.20;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2005.01.10.05.12.03;	author drahn;	state Exp;
branches;
next	1.5;

1.5
date	2005.01.10.05.05.41;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2005.01.04.05.13.34;	author drahn;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.04.03.47.00;	author drahn;	state Exp;
branches;
next	1.2;

1.2
date	2004.12.31.00.40.52;	author drahn;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.31.00.04.35;	author drahn;	state Exp;
branches;
next	;


desc
@@


1.54
log
@enable ure(4) where we already have url(4)
@
text
@#	$OpenBSD: RAMDISK,v 1.53 2015/07/17 22:52:29 tedu Exp $

machine		zaurus arm
maxusers	4

option		TIMEZONE=0
option		DST=0
option		SMALL_KERNEL
option		NO_PROPOLICE
option		BOOT_CONFIG

option		MINIROOTSIZE=5120
option		RAMDISK_HOOKS

option		FFS
option		CD9660
option		MSDOSFS
option		INET6
option		EXT2FS
option		CRYPTO

option		ARM32
option		PXAGPIO_HAS_GPION_INTRS

makeoptions	KERNEL_BASE_PHYS="0xa0200000"
makeoptions	KERNEL_BASE_VIRT="0xc0200000"

option		CPU_XSCALE_PXA2X0
#option		XSCALE_CACHE_WRITE_THROUGH
option		XSCALE_CACHE_WRITE_BACK
makeoptions	CPUFLAGS="-mcpu=xscale"

config		bsd root on rd0a swap on rd0b

mainbus0	at root
cpu0		at mainbus?
pxaip0		at mainbus?
pxaintc0	at pxaip?		# interrupt controller
pxagpio0	at pxaip?
scoop0		at pxaip?
scoop1		at pxaip?
pxaost0		at pxaip? addr 0x40a00000 size 0x20

lcd0		at pxaip?
wsdisplay*	at lcd? console ?
zssp0		at pxaip?		# ADC, touch screen, backlight
zts0		at pxaip?		# touch screen
wsmouse*	at zts? mux 0
zkbd0		at pxaip?
wskbd*		at zkbd? mux 1
pxaudc0		at pxaip?		# USB Device Controller

ohci0		at pxaip?
usbf*		at pxaudc?		# USB logical device
cdcef*		at usbf?		# CDC ethernet function
usb*		at ohci?

uhub*		at usb?
uhub*		at uhub?
uhidev*		at uhub?
uhid*		at uhidev?		# USB Generic HID devices
ukbd*		at uhidev?		# USB HID Keyboard devices
wskbd*		at ukbd? mux 1
aue*		at uhub?		# ADMtek AN986 Pegasus Ethernet
axe*		at uhub?		# ASIX Electronics AX88172 USB Ethernet
axen*		at uhub?		# ASIX Electronics AX88179 USB Ethernet
cdce*		at uhub?		# CDC Ethernet
cue*		at uhub?		# CATC USB-EL1201A based Ethernet
kue*		at uhub?		# Kawasaki KL5KUSB101B based Ethernet
smsc*		at uhub?		# SMSC LAN95xx Ethernet
udav*		at uhub?		# Davicom DM9601 based Ethernet
ural*		at uhub?		# Ralink RT2500
url*		at uhub?		# Realtek RTL8150L based adapters
ure*		at uhub?		# Realtek RTL8152 based adapters
wi*		at uhub?		# WaveLAN IEEE 802.11DS
upl*		at uhub?		# Prolific PL2301/PL2302 host-to-host
ugl*		at uhub?		# Genesys Logic GL620USB-A host-to-host
umass*		at uhub?

pxammc0		at pxaip?		# MMC/SD/SDIO controller
sdmmc*		at pxammc?		# SD/MMC bus
softraid0	at root

scsibus*	at scsi?
sd*		at scsibus?
cd*		at scsibus?

option		COM_PXA2X0
com0		at pxaip? addr 0x40100000 intr 22	# Full Function UART
com1		at pxaip? addr 0x40200000 intr 21	# BlueTooth UART
com2		at pxaip? addr 0x40700000 intr 20	# Standard UART (for IrDA)

pxapcic0	at pxaip?
pcmcia*		at pxapcic?
wi*		at pcmcia?
ne*		at pcmcia?
wdc*		at pcmcia?
wd*		at wdc? flags 0x0000

exphy*		at mii?			# 3Com internal PHYs
inphy*		at mii?			# Intel 82555 PHYs
iophy*		at mii?			# Intel 82553 PHYs
icsphy*		at mii?			# ICS 1890 PHYs
lxtphy*		at mii?			# Level1 LXT970 PHYs
nsphy*		at mii?			# NS and compatible PHYs
nsphyter*	at mii?			# NS and compatible PHYs
qsphy*		at mii?			# Quality Semi QS6612 PHYs
sqphy*		at mii?			# Seeq 8x220 PHYs
rlphy*		at mii?			# Realtek 8139 internal PHYs
mtdphy*		at mii?			# Myson MTD972 PHYs
acphy*		at mii?			# Altima AC101 PHYs
amphy*		at mii?			# AMD 79C873 PHYs
tqphy*		at mii?			# TDK 78Q212x PHYs
bmtphy*		at mii?			# Broadcom 10/100 PHYs
eephy*		at mii?			# Marvell 88E1000 series PHY
nsgphy*		at mii?			# NS gigabit PHYs
urlphy*		at mii?			# Realtek RTL8150L internal PHY
rgephy*		at mii?			# Realtek 8169S/8110S PHY
ukphy*		at mii?			# "unknown" PHYs

apm0		at pxaip?		# APM emulation

pseudo-device	wsmux 2
pseudo-device	loop 1
pseudo-device	bpfilter 1
pseudo-device	rd 1
pseudo-device	bio 1
@


1.53
log
@remove obsolete INET kernel option
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.52 2014/11/24 02:03:37 brad Exp $
d74 1
@


1.52
log
@use the correct capitalization for Realtek.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.51 2014/10/10 05:43:36 deraadt Exp $
a17 1
option		INET
@


1.51
log
@Significant unification of RAMDISK* config files, making them diffable.
This makes it easier to remove components not required to do an install,
and subsequently add other desireable components ...
In snapshots (in various forks) for about a week.
Do some upgrades and installs, please.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.50 2014/08/22 20:03:56 deraadt Exp $
d109 1
a109 1
rlphy*		at mii?			# RealTek 8139 internal PHYs
@


1.50
log
@pseudo-device crypto was accidentally left for some architectures.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.49 2014/07/12 21:56:57 tedu Exp $
d3 2
a4 1
machine	zaurus	arm
d6 16
a21 10
options	TIMEZONE=0	# time zone to adjust RTC time by
options	DST=0		# daylight saving time used by RTC
options	FFS		# UFS
options	CD9660		# ISO 9660 + Rock Ridge file system
options	MSDOSFS		# MS-DOS file system
options	INET		# IP + ICMP + TCP + UDP
options	INET6		# IPv6 (needs INET)
options	DDB		# kernel debugger
options	EXT2FS		# Second Extended Filesystem
options	CRYPTO		# Cryptographic framework
d23 2
a24 2
options		ARM32
options		PXAGPIO_HAS_GPION_INTRS
d29 3
a31 8
# estimated number of users

maxusers	32

# CPU options
options		CPU_XSCALE_PXA2X0	# Support the XScale core
#options	XSCALE_CACHE_WRITE_THROUGH
options		XSCALE_CACHE_WRITE_BACK
d34 1
a34 6
#option	WSDISPLAY_COMPAT_USL		# VT handling
#option	WSDISPLAY_COMPAT_RAWKBD		# provide raw scancodes; needed for X11
#option	WSDISPLAY_DEFAULTSCREENS=2	# initial number of text consoles
#option	WSDISPLAY_COMPAT_PCVT		# emulate some ioctls; needed for X11

config		bsd	root on rd0a swap on rd0b
a35 1
# The main bus device
d39 2
a40 3

pxaintc0	at pxaip?	# interrupt controller
pxagpio0	at pxaip?	# GPIO
d45 4
a48 2
# touch screen
zts0		at pxaip?
a49 2

# keyboard
a51 2

# USB controllers
a52 1
ohci0		at pxaip?		# Open Host Controller
d54 1
a54 1
# USB function support
a56 2

# USB bus support
a57 2
uhub*		at usb?			# USB Root Hub
uhub*		at uhub?		# USB Hubs
d59 2
a60 1
# USB devices
a64 4
#ums*		at uhub?		# USB Mice
#wsmouse*	at ums? mux 0
#ulpt*		at uhub?		# USB Printer
#atu*		at uhub?		# Atmel AT76C50x based 802.11b
d77 2
a78 3
ugl*		at uhub?		# Genesys Logic GL620A-USB host-to-host
#ugen*		at uhub?		# USB Generic driver
umass*		at uhub?		# USB Mass Storage devices
a79 1
# SD/MMC support
d82 1
a82 1
softraid0	at root			# Software RAID
a85 1
#st*		at scsibus?
a86 2
#ch*		at scsibus?
#uk*		at scsibus?
d88 4
a91 5
# integrated 16550 UARTs
options COM_PXA2X0
com0	at pxaip? addr 0x40100000 intr 22	# Full Function UART
com1	at pxaip? addr 0x40200000 intr 21	# BlueTooth UART
com2	at pxaip? addr 0x40700000 intr 20	# Standard UART (for IrDA)
a92 3
#aupxa0	at pxaip?		# AC97 interface

# CF (pcmcia) support
a97 2

# IDE hard drives
d100 28
a127 48
# PHY
exphy*	at mii?			# 3Com internal PHYs
inphy*	at mii?			# Intel 82555 PHYs
iophy*	at mii?			# Intel 82553 PHYs
icsphy*	at mii?			# ICS 1890 PHYs
lxtphy*	at mii?			# Level1 LXT970 PHYs
nsphy*	at mii?			# NS and compatible PHYs
nsphyter* at mii?		# NS and compatible PHYs
qsphy*	at mii?			# Quality Semi QS6612 PHYs
sqphy*	at mii?			# Seeq 8x220 PHYs
rlphy* at mii?			# RealTek 8139 internal PHYs
mtdphy* at mii?			# Myson MTD972 PHYs
#dcphy*	at mii?			# Digital Clone PHYs
acphy*	at mii?			# Altima AC101 PHYs
amphy*	at mii?			# AMD 79C873 PHYs
tqphy*	at mii?			# TDK 78Q212x PHYs
bmtphy*	at mii?			# Broadcom 10/100 PHYs
#brgphy* at mii?		# Broadcom Gigabit PHYs
eephy* at mii?			# Marvell 88E1000 series PHY
#xmphy*	at mii?			# XaQti XMAC-II PHYs
nsgphy*	at mii?			# NS gigabit PHYs
urlphy*	at mii?			# Realtek RTL8150L internal PHY
rgephy* at mii?			# Realtek 8169S/8110S PHY
#ciphy* at mii?			# Cicada CS8201 10/100/1000 copper PHY
ukphy*	at mii?			# "unknown" PHYs

# LCD
lcd0		at pxaip?
wsdisplay*	at lcd? console ?

# Dedicated SSP unit for ADC, touch screen, and backlight
zssp0		at pxaip?

# APM emulation
apm0		at pxaip?

# Pseudo-Devices
pseudo-device	wsmux		2	# mouse & keyboard multiplexor
pseudo-device	loop		1	# network loopback
pseudo-device	bpfilter	1	# packet filter
pseudo-device	rd		1	# ram disk
pseudo-device	bio		1	# ioctl multiplexing device

options	BOOT_CONFIG	# boot-time kernel config

# RAMDISK stuff
options	MINIROOTSIZE=5120
options	RAMDISK_HOOKS
@


1.49
log
@"Dr. Jones. Again we see there is nothing you can possess which I cannot
take away."

remove uyap. no effect except on hppa where it was strangely enabled.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.48 2014/04/08 02:25:33 brad Exp $
a163 1
#pseudo-device	crypto		1
@


1.48
log
@Add rgephy(4) for axe(4) and axen(4).
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.47 2014/04/07 08:27:24 brad Exp $
a92 1
#uyap*		at uhub?		# Y@@P firmware loader
@


1.47
log
@Add axen(4) wherever axe(4) is.

ok mpi@@ yuo@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.46 2013/11/15 19:42:20 sasano Exp $
d149 1
a149 1
#rgephy* at mii?		# Realtek 8169S/8110S PHY
@


1.46
log
@Added dev/usb/if_ugl.c, a driver for Genesys Logic GL620USB-A
USB host-to-host link cable. This driver is derived from upl(4).
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.45 2013/08/20 14:27:31 ajacoutot Exp $
d82 1
@


1.45
log
@Remove uscanner(4). It was disabled in GENERIC more than 2.5 years ago.
No regression has been reported since libusb became the prefered
solution to work with USB scanners.

req. by mpi@@
ok ian@@ mpi@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.44 2012/09/27 14:01:35 jsg Exp $
d91 1
@


1.44
log
@enable smsc
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.43 2011/09/20 22:11:42 miod Exp $
a90 1
#uscanner*	at uhub?		# USB Scanner driver
@


1.43
log
@Remove !defined(CACHE_CLEAN_BLOCK_INTR) code, and make CACHE_CLEAN_BLOCK_INTR
no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.42 2011/06/29 20:52:09 matthew Exp $
d85 1
@


1.42
log
@Replace all instances of "scsibus* at hba?" with a single "scsibus* at
scsi?" rule, similar to how ethernet PHY drivers attach at mii.

Discussed on icb.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.41 2010/07/03 03:59:17 krw Exp $
a17 2

options		CACHE_CLEAN_BLOCK_INTR
@


1.41
log
@No more ss(4) or usscanner(4). Unused, unloved and unmaintained.
General huzzahs.

"go for it" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.40 2010/04/26 20:51:51 deraadt Exp $
a95 1
scsibus*	at umass?
a99 1
scsibus*	at sdmmc?		# SCSI emulation
a100 1
scsibus*	at softraid?
d102 1
@


1.40
log
@BOARDTYPE is no longer used by Makefile.*; spotted by miod
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.39 2009/06/02 06:33:24 todd Exp $
a92 2
#usscanner*	at uhub?		# USB SCSI scanners
#scsibus*	at usscanner?
a108 1
#ss*		at scsibus?
@


1.39
log
@add CRYPTO and softraid to zaurus RAMDISK
Sure deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.38 2008/06/27 05:29:54 todd Exp $
a22 1
makeoptions	BOARDTYPE="zaurus"
@


1.38
log
@add bio & bioctl
ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.37 2008/06/08 20:37:39 deraadt Exp $
d14 1
d105 2
@


1.37
log
@alpha/conf/RAMDISK
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.36 2007/03/18 21:47:25 uwe Exp $
d172 1
@


1.36
log
@Enable pxammc and sdmmc in RAMDISK, too.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.35 2006/11/28 15:25:10 deraadt Exp $
a13 1
options	FIFO		# FIFOs; RECOMMENDED
@


1.35
log
@enable usbf/cdcef, can be used during install (somehow)
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.34 2006/02/14 18:11:04 miod Exp $
d100 5
@


1.34
log
@Homogeneize WSDISPLAY_* option comments (especially on cats)
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.33 2005/12/27 20:05:34 drahn Exp $
d64 4
@


1.33
log
@Instead of using options to configure code, use machine header files
<machine/intr.h>. On the road to cleanup.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.32 2005/12/20 02:37:10 drahn Exp $
d35 4
a38 4
#option WSDISPLAY_COMPAT_USL		# VT handling
#option WSDISPLAY_COMPAT_RAWKBD		# can get raw scancodes
#option WSDISPLAY_DEFAULTSCREENS=2
#option WSDISPLAY_COMPAT_PCVT		# emulate some ioctls
@


1.32
log
@switch to using clock4 instead of clock0 so that we get clocks when running
at 91MHz (clock4 is programmed to be based of the 32.768KHz clock.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.31 2005/08/28 05:30:43 deraadt Exp $
a16 2
#options	ARM_INTR_IMPL="<arch/arm/xscale/pxa2x0_intr.h>"
options		PXA2x0_INTR
@


1.31
log
@axe gig needs eephy; noted by dlg/jsg, add to required media
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.30 2005/06/16 21:06:55 uwe Exp $
d53 1
a53 1
saost0		at pxaip? addr 0x40a00000 size 0x20
@


1.30
log
@unbust "com at pxaip" attachment so that there is no need to enable
"com at pcmcia" in RAMDISK as a workaround.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.29 2005/05/31 23:05:41 deraadt Exp $
d142 1
a142 1
#eephy* at mii?			# Marvell 88E1000 series PHY
@


1.29
log
@add pcmcia com* until uwe fixes the code
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.28 2005/05/27 19:01:21 uwe Exp $
a116 1
com*		at pcmcia?		# PCMCIA modems/serial ports
@


1.28
log
@The forgotten part of the merge of pxacom back into com.
Also the *CONSOLE options are no longer needed.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.27 2005/05/09 15:32:19 uwe Exp $
d117 1
@


1.27
log
@Enable clock to STUART unit, and enable com2 in GENERIC and RAMDISK
configurations.  The STUARTCONSOLE option doesn't work yet.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.26 2005/05/01 07:54:43 david Exp $
a110 3
options FFUARTCONSOLE
#options BTUARTCONSOLE
#options STUARTCONSOLE
@


1.26
log
@spacing; ok miod@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.25 2005/04/30 00:36:26 deraadt Exp $
d110 1
a110 1
#com2	at pxaip? addr 0x40700000 intr 20	# Standard UART (for IrDA)
d113 1
@


1.25
log
@this is not GENERIC
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.24 2005/04/28 05:39:41 deraadt Exp $
d17 1
a17 1
#options 	ARM_INTR_IMPL="<arch/arm/xscale/pxa2x0_intr.h>"
d32 3
a34 3
options 	CPU_XSCALE_PXA2X0	# Support the XScale core
#options 	XSCALE_CACHE_WRITE_THROUGH
options 	XSCALE_CACHE_WRITE_BACK
d108 3
a110 3
com0	at pxaip?  addr 0x40100000 intr 22	# Full Function UART
com1	at pxaip?  addr 0x40200000 intr 21	# BlueTooth UART
#com2	at pxaip?  addr 0x40700000 intr 20	# Standard UART (for IrDA)
d120 1
a120 1
ne* 		at pcmcia?
@


1.24
log
@going to need zts on RAMDISK...
@
text
@d1 1
a1 19
#	$OpenBSD: RAMDISK,v 1.23 2005/04/17 18:10:28 deraadt Exp $
#
# GENERIC machine description file
#
# This machine description file is used to generate the default OpenBSD
# kernel.  The generic kernel does not include all options, subsystems
# and device drivers, but should be useful for most applications.
#
# The machine description file can be customised for your specific
# machine to reduce the kernel size and improve its performance.
#
# For further information on compiling OpenBSD kernels, see the config(8)
# man page.
#
# For further information on hardware support for this architecture, see
# the intro(4) man page.  For further information about kernel options
# for this architecture, see the options(4) man page.  For an explanation
# of each device driver in this file see the section 4 man page for the
# device.
@


1.23
log
@sort usb section
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.22 2005/03/31 12:35:45 dlg Exp $
d72 4
@


1.22
log
@order the usb stuff, and remove duplicate config lines for usb at ohci.
fix some spelling while here.

ok uwe@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.21 2005/03/18 07:48:43 dlg Exp $
d94 1
a95 1
#atu*		at uhub?		# Atmel AT76C50x based 802.11b
d97 1
a99 2
cdce*		at uhub?		# CDC Ethernet
upl*		at uhub?		# Prolific PL2301/PL2302 host-to-host
d104 1
@


1.21
log
@enable ural since it works fine here too

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.20 2005/02/18 15:35:47 dlg Exp $
a71 3
pxaudc0		at pxaip?
ohci0		at pxaip?
usb*		at ohci?
d77 4
d82 3
a84 3
usb*		at ohci?	flags 0x1
uhub*		at usb?
uhub*		at uhub?
d86 1
d95 1
d123 1
a123 1
com1	at pxaip?  addr 0x40200000 intr 21	# BlueTootth UART
@


1.20
log
@enable pxaudc. clean up the ohci line in the RAMDISK while im here

ok drahn@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.19 2005/02/01 15:41:24 drahn Exp $
d99 1
@


1.19
log
@enable writeback, with a workaround for the xscale pte updates.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.18 2005/01/26 06:34:53 uwe Exp $
d72 2
a73 1
ohci0		at pxaip? addr 0x4c000000 size 0x70 intr 3
@


1.18
log
@New device for the dedicated SSP unit, automatic battery charging, and
reporting the remaining battery life to apmd(8).
ok drahn@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.17 2005/01/20 23:34:36 uwe Exp $
d51 2
a52 2
options 	XSCALE_CACHE_WRITE_THROUGH
#options 	XSCALE_CACHE_WRITE_BACK
@


1.17
log
@Enable apm/scoop drivers and report A/C power status correctly.
ok drahn@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.16 2005/01/19 02:02:34 uwe Exp $
d164 3
@


1.16
log
@APM emulation framework and zaurus scoop driver.  Not enabled yet.
ok drahn@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.15 2005/01/17 22:58:01 miod Exp $
d69 2
a70 2
#scoop0		at pxaip? addr 0x10800000 size 0x2c
#scoop1		at pxaip? addr 0x14800000 size 0x2c
d166 1
a166 1
#apm0		at pxaip?
@


1.15
log
@Hypo in comments
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.14 2005/01/16 18:12:46 deraadt Exp $
d69 2
d164 3
@


1.14
log
@WSEMUL_VT100 is the default
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.13 2005/01/14 18:18:19 drahn Exp $
d56 1
a56 1
#option WSDISPLAY_COMPAT_RAWKBD		# can get raw scancoetes
@


1.13
log
@These options are not signficant.
@
text
@d1 1
a1 2
#	$OpenBSD: RAMDISK,v 1.12 2005/01/14 18:09:07 drahn Exp $
# $NetBSD: GENERIC,v 1.27.4.1 2002/08/01 04:18:06 lukem Exp $
a22 1
# include "../../../conf/GENERIC"
a25 1
#options	NFSCLIENT	# Network File System client
d131 1
a131 1
wd*	at wdc? flags 0x0000
a158 1

a161 1
options 	WSEMUL_VT100		# VT100 / VT220 emulation
@


1.12
log
@scrub scrub scrub
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.11 2005/01/14 00:39:20 drahn Exp $
a39 2
options 	COTULLA
options 	LUBBOCK
@


1.11
log
@del obio
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.10 2005/01/13 23:33:37 drahn Exp $
d25 11
a35 11
option		TIMEZONE=0	# time zone to adjust RTC time by
option		DST=0		# daylight saving time used by RTC
option		FFS		# UFS
#option		NFSCLIENT	# Network File System client
option		CD9660		# ISO 9660 + Rock Ridge file system
option		MSDOSFS		# MS-DOS file system
option		INET		# IP + ICMP + TCP + UDP
option		INET6		# IPv6 (needs INET)
option		DDB		# kernel debugger
option		EXT2FS		# Second Extended Filesystem
option		FIFO		# FIFOs; RECOMMENDED
a53 11
# Standard system options

#options 	UCONSOLE	# users can use TIOCCONS (for xconsole)
#options 	INSECURE	# disable kernel securelevel

#options 	RTC_OFFSET=0	# hardware clock is this many mins. west of GMT
#options 	NTP		# NTP phase/frequency locked loop

# CPU options

# For StrongARM systems
d60 4
a63 3
# FPA options

#options 	ARMFPE		# ARM Ltd FPE
d118 1
a118 1
# cotulla integrated 16550 UARTs
d121 1
a121 1
com1	at pxaip?  addr 0x40200000 intr 21 	# BlueTootth UART
a124 2
options KGDB_DEVNAME="\"btuart\""   # ffuart or btuart
options KGDB_DEVRATE=115200
d128 1
a128 1
# pcic
d161 1
a161 1
#ciphy*  at mii?		# Cicada CS8201 10/100/1000 copper PHY
d177 1
a177 1
option		BOOT_CONFIG	# boot-time kernel config
d180 2
a181 2
option		MINIROOTSIZE=5120
option		RAMDISK_HOOKS
@


1.10
log
@Stage one of wscons support.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.9 2005/01/13 20:47:57 drahn Exp $
a175 4
# On-board device support
obio0		at pxaip? intr 8
#sm0		at obio? addr 0x0c000000 intr 3 	# on-board SMC 91C96
#options LUBBOCK_SMC91C96_16BIT
d178 1
a178 1
lcd0		at obio?
@


1.9
log
@keyboard driver for zaurus, needs connect to wscons still.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.8 2005/01/10 22:16:08 deraadt Exp $
d89 2
a90 1
zkbd0		at pxaip? # mux 1
@


1.8
log
@spacing
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7 2005/01/10 05:20:20 deraadt Exp $
d87 3
@


1.7
log
@phy sanity
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.6 2005/01/10 05:12:03 drahn Exp $
d35 1
a35 1
option          FIFO            # FIFOs; RECOMMENDED
d117 6
a122 6
sd*             at scsibus?
#st*             at scsibus?
cd*             at scsibus?
#ch*             at scsibus?
#ss*             at scsibus?
#uk*             at scsibus?
d126 1
a126 1
com0	at pxaip?  addr 0x40100000 intr 22      # Full Function UART
a135 1

d153 1
a153 1
nsphyter*	at mii?		# NS and compatible PHYs
d163 1
a163 1
#brgphy* at mii?			# Broadcom Gigabit PHYs
a181 1

a193 1

@


1.6
log
@add ne for CF network cards.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.5 2005/01/10 05:05:41 deraadt Exp $
d159 1
a159 1
dcphy*	at mii?			# Digital Clone PHYs
d164 3
a166 3
brgphy*	at mii?			# Broadcom Gigabit PHYs
eephy* at mii?			# Marvell 88E1000 series PHY
xmphy*	at mii?			# XaQti XMAC-II PHYs
d169 2
a170 2
rgephy*	at mii?			# Realtek 8169S/8110S PHY
ciphy*  at mii?			# Cicada CS8201 10/100/1000 copper PHY
@


1.5
log
@full set of phy, why waste our time!
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.4 2005/01/04 05:13:34 drahn Exp $
d141 1
@


1.4
log
@Add scsi devices.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.3 2005/01/04 03:47:00 drahn Exp $
d147 24
a170 2
rlphy*		at mii?		# RealTek 8139 internal PHYs
ukphy*		at mii?		# generic unknown PHYs
@


1.3
log
@USB support for C3000, much thanks to dlg@@ for pxa2x0_ohci.c
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.2 2004/12/31 00:40:52 drahn Exp $
d116 7
@


1.2
log
@cleanups pointed out by miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.1 2004/12/31 00:04:35 drahn Exp $
d85 31
d139 4
d155 1
a155 1
#pseudo-device	wsmux		2	# mouse & keyboard multiplexor
@


1.1
log
@Port of OpenBSD to the Zaurus, currently running on C860, soon C3000.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7 2004/10/08 07:14:43 mcbride Exp $
a26 1
option		COMPAT_43	# and 4.3BSD
a70 2
options SYSCALL_DEBUG

a74 6
#option WSDISPLAY_COMPAT_USL		# VT handling
#option WSDISPLAY_COMPAT_RAWKBD		# can get raw scancodes
#option WSDISPLAY_DEFAULTSCREENS=6	# can get raw scancodes
#option WSDISPLAY_COMPAT_PCVT		# can get raw scancodes

#config		bsd	swap generic
a128 1
#option		MINIROOTSIZE=8192
@

