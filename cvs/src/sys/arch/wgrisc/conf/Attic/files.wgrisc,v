head	1.4;
access;
symbols
	SMP_SYNC_A:1.4
	SMP_SYNC_B:1.4
	UBC_SYNC_A:1.4
	UBC_SYNC_B:1.4
	OPENBSD_2_8:1.3.0.16
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.14
	OPENBSD_2_7_BASE:1.3
	SMP:1.3.0.12
	SMP_BASE:1.3
	kame_19991208:1.3
	OPENBSD_2_6:1.3.0.10
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.8
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.6
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.4
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.2
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.2.0.2
	OPENBSD_2_1_BASE:1.2
	WGRISC_1_0:1.1.1.1
	PEFO:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2001.02.07.07.46.48;	author art;	state dead;
branches;
next	1.3;

1.3
date	97.08.24.12.01.12;	author pefo;	state Exp;
branches
	1.3.12.1;
next	1.2;

1.2
date	97.02.23.21.59.26;	author pefo;	state Exp;
branches;
next	1.1;

1.1
date	97.02.06.16.02.45;	author pefo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.02.06.16.02.45;	author pefo;	state Exp;
branches;
next	;

1.3.12.1
date	2001.05.14.21.39.28;	author niklas;	state dead;
branches;
next	;


desc
@@


1.4
log
@We need to loose some weight.
If someone feels very opposed to this, the code is left in the Attic.
Just revive and _make_it_work_.
@
text
@#	$OpenBSD: files.wgrisc,v 1.3 1997/08/24 12:01:12 pefo Exp $
#
# maxpartitions must be first item in files.${ARCH}
#
maxpartitions 8

maxusers 2 8 64

#	Required files


file	arch/wgrisc/wgrisc/autoconf.c
file	arch/wgrisc/wgrisc/conf.c
file	arch/wgrisc/wgrisc/cpu_exec.c
file	arch/wgrisc/wgrisc/disksubr.c
file	arch/wgrisc/wgrisc/machdep.c
file	arch/wgrisc/wgrisc/minidebug.c
file	arch/wgrisc/wgrisc/mem.c
file	arch/wgrisc/wgrisc/pmap.c
file	arch/wgrisc/wgrisc/process_machdep.c
file	arch/wgrisc/wgrisc/sys_machdep.c
file	arch/wgrisc/wgrisc/trap.c
file	arch/wgrisc/wgrisc/vm_machdep.c

#
#	Machine-independent ATAPI drivers 
#

include "../../../dev/atapi/files.atapi"


#
#	System BUS types
#

define	mainbus {}
device	mainbus
attach	mainbus at root
file	arch/wgrisc/wgrisc/mainbus.c	mainbus

#	Our CPU configurator
device	cpu
attach	cpu at mainbus			# not optional
file arch/wgrisc/wgrisc/cpu.c			cpu

#
#	LOCALBUS bus autoconfiguration devices
#
device	riscbus {}
attach	riscbus at mainbus			# { slot = -1, offset = -1 }
file	arch/wgrisc/riscbus/riscbus.c		riscbus

#	Real time clock, must have one..
device	clock
attach	clock at riscbus
file	arch/wgrisc/wgrisc/clock.c		clock
file	arch/wgrisc/wgrisc/clock_dp.c		clock

#	Ethernet chip
device	sn
attach	sn at riscbus: ifnet, ether
file	arch/wgrisc/dev/if_sn.c		sn	needs-count

#	Use machine independent SCSI driver routines
include	"../../../scsi/files.scsi"
major	{sd = 0}
major	{cd = 3}

#	Machine dependent SCSI interface driver
device	asc: scsi
attach	asc at riscbus
file	arch/wgrisc/dev/asc.c		asc	needs-count

#	FLASH Memory device driver
device	fl
attach	fl at riscbus
file	arch/wgrisc/dev/flash.c		fl	needs-count

#
#	ISA
#
device	isabr {} : isabus
attach	isabr at mainbus
file	arch/wgrisc/isa/isabus.c		isabr

#
#	Stock isa bus support
#
define  pcmcia {}			# XXX dummy decl...

include	"../../../dev/isa/files.isa"

# National Semiconductor DS8390/WD83C690-based boards
# (WD/SMC 80x3 family, SMC Ultra [8216], 3Com 3C503, NE[12]000, and clones)
# XXX conflicts with other ports; can't be in files.isa
device  ed: ether, ifnet
attach  ed at isa with ed_isa
attach  ed at pcmcia with ed_pcmcia
file    dev/isa/if_ed.c                 ed & (ed_isa | ed_pcmcia) needs-flag

# 8250/16[45]50-based "com" ports
attach  com at riscbus with com_risc
file    arch/wgrisc/dev/com_risc.c        com_risc

#

file	dev/cons.c
file	dev/cninit.c
file	netinet/in_cksum.c
file	netns/ns_cksum.c			ns

@


1.3
log
@New stuff
@
text
@d1 1
a1 1
#	$OpenBSD: files.wgrisc,v 1.2 1997/02/23 21:59:26 pefo Exp $
@


1.3.12.1
log
@Continue the aborted merge of current just before 2.9 was cut into the
SMP branch.  Note that this will not make any progress of SMP functionality,
it is just merging of new code from the trunk into the old branch.
Please do not ask me questions about SMP status because of this mail,
instead go read the archives of smp@@openbsd.org, where I mailed about
these commits some week ago.  Another note: I am doing this in chunks now,
so as to not lock too much of the tree for long times
@
text
@d1 1
a1 1
#	$OpenBSD: files.wgrisc,v 1.3 1997/08/24 12:01:12 pefo Exp $
@


1.2
log
@First cut of Flash memory disk. Needs more work though...
@
text
@d1 1
a1 1
#	$OpenBSD: files.wgrisc,v 1.1.1.1 1997/02/06 16:02:45 pefo Exp $
d75 3
a77 3
device	flash
attach	flash at riscbus
file	arch/wgrisc/dev/flash.c		flash	needs-count
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$OpenBSD$
d73 5
@


1.1.1.1
log
@Import of WGRISC port. (Willowglen R3081 board)
@
text
@@
