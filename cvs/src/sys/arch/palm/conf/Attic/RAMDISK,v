head	1.11;
access;
symbols
	OPENBSD_5_3:1.10.0.2
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.9.0.4
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.2
	OPENBSD_5_0:1.8.0.2
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.7.0.4
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4;
locks; strict;
comment	@# @;


1.11
date	2013.03.25.17.22.11;	author deraadt;	state dead;
branches;
next	1.10;

1.10
date	2012.09.27.14.01.35;	author jsg;	state Exp;
branches;
next	1.9;

1.9
date	2011.09.20.22.11.42;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2011.06.29.20.52.09;	author matthew;	state Exp;
branches;
next	1.7;

1.7
date	2010.07.03.03.59.17;	author krw;	state Exp;
branches;
next	1.6;

1.6
date	2010.07.03.01.48.18;	author matthew;	state Exp;
branches;
next	1.5;

1.5
date	2010.04.26.20.51.51;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2009.10.25.04.16.33;	author marex;	state Exp;
branches;
next	1.3;

1.3
date	2009.09.25.18.07.16;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2009.09.06.00.51.28;	author marex;	state Exp;
branches;
next	1.1;

1.1
date	2009.09.05.01.22.11;	author marex;	state Exp;
branches;
next	;


desc
@@


1.11
log
@the unused palm code goes away.
@
text
@#	$OpenBSD: RAMDISK,v 1.10 2012/09/27 14:01:35 jsg Exp $

machine	palm	arm

options	TIMEZONE=0	# time zone to adjust RTC time by
options	DST=0		# daylight saving time used by RTC
options	FFS		# UFS
options	CD9660		# ISO 9660 + Rock Ridge file system
options	MSDOSFS		# MS-DOS file system
options	INET		# IP + ICMP + TCP + UDP
options	INET6		# IPv6 (needs INET)
options	DDB		# kernel debugger
options	EXT2FS		# Second Extended Filesystem
options	CRYPTO		# Cryptographic framework

options		ARM32
options		PXAGPIO_HAS_GPION_INTRS

makeoptions	KERNEL_BASE_PHYS="0xa0200000"
makeoptions	KERNEL_BASE_VIRT="0xc0200000"

# estimated number of users

maxusers	32

# CPU options
options		CPU_XSCALE_PXA2X0	# Support the XScale core
#options	XSCALE_CACHE_WRITE_THROUGH
options		XSCALE_CACHE_WRITE_BACK
makeoptions	CPUFLAGS="-mcpu=xscale"

option	WSDISPLAY_COMPAT_USL		# VT handling
option	WSDISPLAY_COMPAT_RAWKBD		# provide raw scancodes; needed for X11
option	WSDISPLAY_DEFAULTSCREENS=2	# initial number of text consoles
option	WSDISPLAY_COMPAT_PCVT		# emulate some ioctls; needed for X11

config		bsd	root on rd0a swap on rd0b

# The main bus device
mainbus0	at root
cpu0		at mainbus?
pxaip0		at mainbus?

pxaintc0	at pxaip?		# interrupt controller
pxagpio0	at pxaip?		# GPIO controller
pxaost0		at pxaip? addr 0x40a00000 size 0x20

# USB controllers
pxaudc0		at pxaip?		# USB Device Controller
ohci0		at pxaip?		# Open Host Controller

# USB function support
usbf*		at pxaudc?		# USB logical device
#cdcef*		at usbf?		# CDC ethernet function

# USB bus support
usb*		at ohci?
uhub*		at usb?			# USB Root Hub
uhub*		at uhub?		# USB Hubs

# USB devices
uhidev*		at uhub?
uhid*		at uhidev?		# USB Generic HID devices
ukbd*		at uhidev?		# USB HID Keyboard devices
wskbd*		at ukbd? mux 1
#ums*		at uhub?		# USB Mice
#wsmouse*	at ums? mux 0
#ulpt*		at uhub?		# USB Printer
atu*		at uhub?		# Atmel AT76C50x based 802.11b
aue*		at uhub?		# ADMtek AN986 Pegasus Ethernet
axe*		at uhub?		# ASIX Electronics AX88172 USB Ethernet
cdce*		at uhub?		# CDC Ethernet
cue*		at uhub?		# CATC USB-EL1201A based Ethernet
kue*		at uhub?		# Kawasaki KL5KUSB101B based Ethernet
smsc*		at uhub?		# SMSC LAN95xx Ethernet
#udav*		at uhub?		# Davicom DM9601 based Ethernet
ural*		at uhub?		# Ralink RT2500
#url*		at uhub?		# Realtek RTL8150L based adapters
wi*		at uhub?		# WaveLAN IEEE 802.11DS
upl*		at uhub?		# Prolific PL2301/PL2302 host-to-host
#uscanner*	at uhub?		# USB Scanner driver
#uyap*		at uhub?		# Y@@P firmware loader
ugen*		at uhub?		# USB Generic driver
umass*		at uhub?		# USB Mass Storage devices

# SD/MMC support
pxammc0		at pxaip? addr 0x41100000	# MMC/SD/SDIO controller
sdmmc*		at pxammc?		# SD/MMC bus
softraid0	at root			# Software RAID

scsibus*	at scsi?
sd*		at scsibus?
#st*		at scsibus?
cd*		at scsibus?
#ch*		at scsibus?
#uk*		at scsibus?

# integrated 16550 UARTs
options COM_PXA2X0
com0	at pxaip? addr 0x40100000 intr 22	# Full Function UART
com1	at pxaip? addr 0x40200000 intr 21	# BlueTooth UART
com2	at pxaip? addr 0x40700000 intr 20	# Standard UART (for IrDA)

#aupxa0	at pxaip?		# AC97 interface

# CF (pcmcia) support
#pxapcic0	at pxaip?
#pcmcia*		at pxapcic?
#wi*		at pcmcia?
#ne*		at pcmcia?
#wdc*		at pcmcia?

wdc0		at pxaip? addr 0x20000000

# IDE hard drives
wd*		at wdc? flags 0x0000

# PHY
#exphy*	at mii?			# 3Com internal PHYs
#inphy*	at mii?			# Intel 82555 PHYs
#iophy*	at mii?			# Intel 82553 PHYs
#icsphy*	at mii?			# ICS 1890 PHYs
#lxtphy*	at mii?			# Level1 LXT970 PHYs
#nsphy*	at mii?			# NS and compatible PHYs
#nsphyter* at mii?		# NS and compatible PHYs
#qsphy*	at mii?			# Quality Semi QS6612 PHYs
#sqphy*	at mii?			# Seeq 8x220 PHYs
rlphy* at mii?			# RealTek 8139 internal PHYs
#mtdphy* at mii?			# Myson MTD972 PHYs
#dcphy*	at mii?			# Digital Clone PHYs
acphy*	at mii?			# Altima AC101 PHYs
amphy*	at mii?			# AMD 79C873 PHYs
#tqphy*	at mii?			# TDK 78Q212x PHYs
bmtphy*	at mii?			# Broadcom 10/100 PHYs
#brgphy* at mii?		# Broadcom Gigabit PHYs
eephy* at mii?			# Marvell 88E1000 series PHY
#xmphy*	at mii?			# XaQti XMAC-II PHYs
#nsgphy*	at mii?			# NS gigabit PHYs
urlphy*	at mii?			# Realtek RTL8150L internal PHY
#rgephy* at mii?		# Realtek 8169S/8110S PHY
#ciphy* at mii?			# Cicada CS8201 10/100/1000 copper PHY
ukphy*	at mii?			# "unknown" PHYs

# Input
pxa27x_kpc0	at pxaip? addr 0x41500000
wskbd0		at pxa27x_kpc0 mux 1

# LCD
lcd0		at pxaip? addr 0x44000000
wsdisplay*	at lcd? console ?

# Pseudo-Devices
pseudo-device	wsmux		2	# mouse & keyboard multiplexor
#pseudo-device	crypto		1
pseudo-device	loop		1	# network loopback
pseudo-device	bpfilter	1	# packet filter
pseudo-device	rd		1	# ram disk
pseudo-device	bio		1	# ioctl multiplexing device

options	BOOT_CONFIG	# boot-time kernel config

# RAMDISK stuff
options	MINIROOTSIZE=5120
options	RAMDISK_HOOKS
@


1.10
log
@enable smsc
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.9 2011/09/20 22:11:42 miod Exp $
@


1.9
log
@Remove !defined(CACHE_CLEAN_BLOCK_INTR) code, and make CACHE_CLEAN_BLOCK_INTR
no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.8 2011/06/29 20:52:09 matthew Exp $
d75 1
@


1.8
log
@Replace all instances of "scsibus* at hba?" with a single "scsibus* at
scsi?" rule, similar to how ethernet PHY drivers attach at mii.

Discussed on icb.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7 2010/07/03 03:59:17 krw Exp $
a17 2

options		CACHE_CLEAN_BLOCK_INTR
@


1.7
log
@No more ss(4) or usscanner(4). Unused, unloved and unmaintained.
General huzzahs.

"go for it" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.6 2010/07/03 01:48:18 matthew Exp $
a85 1
scsibus*	at umass?
a89 1
scsibus*	at sdmmc?		# SCSI emulation
a90 1
scsibus*	at softraid?
d92 1
@


1.6
log
@Omit some silly USB devices from RAMDISK kernels.

suggestion of more devices and ok tedu@@; ok krw@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.5 2010/04/26 20:51:51 deraadt Exp $
a82 2
#usscanner*	at uhub?		# USB SCSI scanners
#scsibus*	at usscanner?
a98 1
#ss*		at scsibus?
@


1.5
log
@BOARDTYPE is no longer used by Makefile.*; spotted by miod
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.4 2009/10/25 04:16:33 marex Exp $
d70 1
a70 1
ulpt*		at uhub?		# USB Printer
d82 4
a85 4
uscanner*	at uhub?		# USB Scanner driver
usscanner*	at uhub?		# USB SCSI scanners
scsibus*	at usscanner?
uyap*		at uhub?		# Y@@P firmware loader
@


1.4
log
@palm: kernel configuration file changes

ok brad@@ marex@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.3 2009/09/25 18:07:16 jasper Exp $
a22 1
makeoptions	BOARDTYPE="palm"
@


1.3
log
@- enable axe/aue to make my life a bit easier

ok marex@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.2 2009/09/06 00:51:28 marex Exp $
d135 1
a135 1
#rlphy* at mii?			# RealTek 8139 internal PHYs
d139 1
a139 1
#amphy*	at mii?			# AMD 79C873 PHYs
d146 2
a147 2
#urlphy*	at mii?			# Realtek RTL8150L internal PHY
rgephy* at mii?		# Realtek 8169S/8110S PHY
@


1.2
log
@Palm: cleanup kernel configuration files
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.1 2009/09/05 01:22:11 marex Exp $
d73 2
a74 2
#aue*		at uhub?		# ADMtek AN986 Pegasus Ethernet
#axe*		at uhub?		# ASIX Electronics AX88172 USB Ethernet
d138 1
a138 1
#acphy*	at mii?			# Altima AC101 PHYs
d141 1
a141 1
#bmtphy*	at mii?			# Broadcom 10/100 PHYs
d143 1
a143 1
#eephy* at mii?			# Marvell 88E1000 series PHY
d147 1
a147 1
#rgephy* at mii?		# Realtek 8169S/8110S PHY
d149 1
a149 1
#ukphy*	at mii?			# "unknown" PHYs
@


1.1
log
@Palm: initial commit of sys/arch/palm

OK deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.39 2009/06/02 06:33:24 todd Exp $
d47 2
a48 2
pxaintc0	at pxaip?	# interrupt controller
pxagpio0	at pxaip?	# GPIO
d71 2
a72 2
#ulpt*		at uhub?		# USB Printer
#atu*		at uhub?		# Atmel AT76C50x based 802.11b
d83 5
a87 5
#uscanner*	at uhub?		# USB Scanner driver
#usscanner*	at uhub?		# USB SCSI scanners
#scsibus*	at usscanner?
#uyap*		at uhub?		# Y@@P firmware loader
#ugen*		at uhub?		# USB Generic driver
d92 1
a92 1
pxammc0		at pxaip?		# MMC/SD/SDIO controller
d120 1
a120 1
wdc0		at pxaip?
d152 1
a152 1
pxa27x_kpc0	at pxaip?
d156 1
a156 1
lcd0		at pxaip?
@

