head	1.45;
access;
symbols
	OPENBSD_6_2_BASE:1.45
	OPENBSD_6_1:1.45.0.8
	OPENBSD_6_1_BASE:1.45
	OPENBSD_6_0:1.45.0.4
	OPENBSD_6_0_BASE:1.45
	OPENBSD_5_9:1.45.0.2
	OPENBSD_5_9_BASE:1.45
	OPENBSD_5_8:1.44.0.4
	OPENBSD_5_8_BASE:1.44
	OPENBSD_5_7:1.43.0.2
	OPENBSD_5_7_BASE:1.43
	OPENBSD_5_6:1.42.0.4
	OPENBSD_5_6_BASE:1.42
	OPENBSD_5_5:1.40.0.4
	OPENBSD_5_5_BASE:1.40
	OPENBSD_5_4:1.38.0.8
	OPENBSD_5_4_BASE:1.38
	OPENBSD_5_3:1.38.0.6
	OPENBSD_5_3_BASE:1.38
	OPENBSD_5_2:1.38.0.4
	OPENBSD_5_2_BASE:1.38
	OPENBSD_5_1_BASE:1.38
	OPENBSD_5_1:1.38.0.2
	OPENBSD_5_0:1.37.0.2
	OPENBSD_5_0_BASE:1.37
	OPENBSD_4_9:1.36.0.8
	OPENBSD_4_9_BASE:1.36
	OPENBSD_4_8:1.36.0.6
	OPENBSD_4_8_BASE:1.36
	OPENBSD_4_7:1.36.0.2
	OPENBSD_4_7_BASE:1.36
	OPENBSD_4_6:1.36.0.4
	OPENBSD_4_6_BASE:1.36
	OPENBSD_4_5:1.33.0.4
	OPENBSD_4_5_BASE:1.33
	OPENBSD_4_4:1.33.0.2
	OPENBSD_4_4_BASE:1.33
	OPENBSD_4_3:1.31.0.4
	OPENBSD_4_3_BASE:1.31
	OPENBSD_4_2:1.31.0.2
	OPENBSD_4_2_BASE:1.31
	OPENBSD_4_1:1.30.0.4
	OPENBSD_4_1_BASE:1.30
	OPENBSD_4_0:1.30.0.2
	OPENBSD_4_0_BASE:1.30
	OPENBSD_3_9:1.29.0.2
	OPENBSD_3_9_BASE:1.29
	OPENBSD_3_8:1.28.0.2
	OPENBSD_3_8_BASE:1.28
	OPENBSD_3_7:1.26.0.2
	OPENBSD_3_7_BASE:1.26
	OPENBSD_3_6:1.23.0.4
	OPENBSD_3_6_BASE:1.23
	SMP_SYNC_A:1.23
	SMP_SYNC_B:1.23
	OPENBSD_3_5:1.23.0.2
	OPENBSD_3_5_BASE:1.23
	OPENBSD_3_4:1.22.0.2
	OPENBSD_3_4_BASE:1.22
	UBC_SYNC_A:1.22
	OPENBSD_3_3:1.21.0.4
	OPENBSD_3_3_BASE:1.21
	OPENBSD_3_2:1.21.0.2
	OPENBSD_3_2_BASE:1.21
	OPENBSD_3_1:1.18.0.2
	OPENBSD_3_1_BASE:1.18
	UBC_SYNC_B:1.21
	UBC:1.13.0.4
	UBC_BASE:1.13
	OPENBSD_3_0:1.13.0.2
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9:1.6.0.4
	OPENBSD_2_9_BASE:1.6
	SMP:1.6.0.2;
locks; strict;
comment	@# @;


1.45
date	2015.09.19.10.41.05;	author miod;	state Exp;
branches;
next	1.44;
commitid	BaW2TwrHwXmvxeUa;

1.44
date	2015.07.17.22.52.28;	author tedu;	state Exp;
branches;
next	1.43;
commitid	OOrGfFHYAn65M2qc;

1.43
date	2014.10.10.05.43.33;	author deraadt;	state Exp;
branches;
next	1.42;
commitid	eyBTAcDp3o260Uyq;

1.42
date	2014.03.31.04.22.26;	author deraadt;	state Exp;
branches;
next	1.41;

1.41
date	2014.03.14.05.38.31;	author jmatthew;	state Exp;
branches;
next	1.40;

1.40
date	2014.02.19.05.32.56;	author jmatthew;	state Exp;
branches;
next	1.39;

1.39
date	2013.10.29.22.33.10;	author deraadt;	state Exp;
branches;
next	1.38;

1.38
date	2011.10.22.19.33.04;	author miod;	state Exp;
branches;
next	1.37;

1.37
date	2011.06.29.20.52.08;	author matthew;	state Exp;
branches;
next	1.36;

1.36
date	2009.06.25.13.06.16;	author deraadt;	state Exp;
branches;
next	1.35;

1.35
date	2009.06.24.11.38.39;	author deraadt;	state Exp;
branches;
next	1.34;

1.34
date	2009.03.24.18.48.08;	author deraadt;	state Exp;
branches;
next	1.33;

1.33
date	2008.05.23.17.47.41;	author deraadt;	state Exp;
branches;
next	1.32;

1.32
date	2008.03.21.17.10.33;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2007.08.01.16.30.00;	author miod;	state Exp;
branches;
next	1.30;

1.30
date	2006.03.12.17.29.48;	author martin;	state Exp;
branches;
next	1.29;

1.29
date	2006.02.23.23.53.51;	author miod;	state Exp;
branches;
next	1.28;

1.28
date	2005.07.31.10.13.49;	author deraadt;	state Exp;
branches;
next	1.27;

1.27
date	2005.05.01.07.54.41;	author david;	state Exp;
branches;
next	1.26;

1.26
date	2005.01.06.21.32.56;	author deraadt;	state Exp;
branches;
next	1.25;

1.25
date	2004.11.05.16.29.18;	author deraadt;	state Exp;
branches;
next	1.24;

1.24
date	2004.09.16.09.14.02;	author mickey;	state Exp;
branches;
next	1.23;

1.23
date	2004.01.16.09.27.40;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2003.05.13.22.45.06;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2002.06.30.16.24.40;	author miod;	state Exp;
branches;
next	1.20;

1.20
date	2002.05.02.22.56.06;	author miod;	state Exp;
branches;
next	1.19;

1.19
date	2002.04.28.20.55.14;	author pvalchev;	state Exp;
branches;
next	1.18;

1.18
date	2002.03.30.20.21.25;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2002.03.24.22.18.51;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	2002.03.04.22.52.22;	author nate;	state Exp;
branches;
next	1.15;

1.15
date	2002.03.04.21.16.29;	author deraadt;	state Exp;
branches;
next	1.14;

1.14
date	2002.02.09.07.08.30;	author ericj;	state Exp;
branches;
next	1.13;

1.13
date	2001.09.29.01.18.13;	author deraadt;	state Exp;
branches
	1.13.4.1;
next	1.12;

1.12
date	2001.09.28.22.58.56;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2001.07.19.14.34.28;	author art;	state Exp;
branches;
next	1.10;

1.10
date	2001.06.27.05.46.08;	author art;	state Exp;
branches;
next	1.9;

1.9
date	2001.06.23.19.46.57;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2001.05.16.09.06.32;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2001.05.14.03.10.26;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2001.04.16.03.19.52;	author deraadt;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2001.04.14.23.43.32;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2001.04.09.07.07.40;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	2001.02.13.14.50.33;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	2001.02.05.21.41.25;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2001.01.27.21.17.30;	author deraadt;	state Exp;
branches;
next	;

1.6.2.1
date	2001.04.18.16.00.37;	author niklas;	state Exp;
branches;
next	1.6.2.2;

1.6.2.2
date	2001.07.04.10.14.30;	author niklas;	state Exp;
branches;
next	1.6.2.3;

1.6.2.3
date	2001.10.31.02.52.44;	author nate;	state Exp;
branches;
next	1.6.2.4;

1.6.2.4
date	2002.03.06.00.47.43;	author niklas;	state Exp;
branches;
next	1.6.2.5;

1.6.2.5
date	2003.03.27.23.18.06;	author niklas;	state Exp;
branches;
next	1.6.2.6;

1.6.2.6
date	2003.05.16.00.29.38;	author niklas;	state Exp;
branches;
next	1.6.2.7;

1.6.2.7
date	2004.02.19.09.59.34;	author niklas;	state Exp;
branches;
next	;

1.13.4.1
date	2002.06.11.03.33.40;	author art;	state Exp;
branches;
next	1.13.4.2;

1.13.4.2
date	2002.10.29.00.28.00;	author art;	state Exp;
branches;
next	1.13.4.3;

1.13.4.3
date	2003.05.19.21.38.53;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.45
log
@No need for wsmux on these installation media, which lack USB support.
@
text
@#	$OpenBSD: RAMDISKB,v 1.44 2015/07/17 22:52:28 tedu Exp $

machine		alpha
maxusers	4

option		TIMEZONE=0
option		DST=0
option		SMALL_KERNEL
option		NO_PROPOLICE
option		BOOT_CONFIG

option		RAMDISK_HOOKS
option		MINIROOTSIZE=5744

option		SCSITERSE

option		FFS

#option		DEC_3000_500	# Flamingo etc:	3000/[4-9]00*
#option		DEC_3000_300	# Pelican etc:	3000/300*
#option		DEC_2100_A50	# Avanti etc:	AlphaStation 400, 200, etc.
#option		DEC_KN20AA	# KN20AA:	AlphaStation 600
#option		DEC_AXPPCI_33	# NoName:	AXPpci33, etc.
#option		DEC_EB164	# EB164:	AlphaPC 164
#option		DEC_EB64PLUS	# EB64+:	AlphaPC 64, etc.
#option		DEC_2000_300	# "Jensen":	2000/300 (DECpc AXP 150)
#option		DEC_550		# Miata:	Digital Personal Workstation
#option		DEC_1000	# Mikasa etc:	Digital AlphaServer 1000
#option		DEC_1000A	# Corelle etc:	Digital AlphaServer 800/1000A
option		DEC_6600	# EV6:		XP1000, 264DP OEM Board
option		API_UP1000	# EV6:		Alpha Processor UP1000

option		WSKBD_NO_INTL_LAYOUTS	# no international keyboard layouts

config		bsd root on rd0a swap on rd0b and wd0b and sd0b

mainbus0	at root
cpu*		at mainbus0
option		NO_IEEE		# Disable IEEE math

irongate*	at mainbus?
tsc*		at mainbus0
tsp*		at tsc?

pci*		at irongate?
pci*		at tsp?
pci*		at ppb?

ahc*		at pci?				# AHA-28xx SCSI (NOT 64-BIT)
de*		at pci?				# 21x4[012]-based Ethernet
dc*		at pci?				# 21143, "tulip" clone ethernet
siop*		at pci?				# NCR 53c8xx SCSI
pceb*		at pci?				# Intel PCI-EISA bridge
vga*		at pci?				# PCI VGA graphics
ppb*		at pci?				# PCI-PCI bridges
sio*		at pci?				# Intel PCI-ISA bridge
tga*		at pci?				# DEC ZLXp-E[123] graphics

qlw*		at pci?				# QLogic ISP SCSI
qla*		at pci?				# Qlogic ISP 2[123]xx FibreChannel
option		ISP_NOFIRMWARE

amphy*		at mii?				# AMD 79C873 PHYs
bmtphy*		at mii?				# Broadcom 10/100 PHYs
dcphy*		at mii?				# Digital Clone PHYs
lxtphy*		at mii?				# Level1 LXT970 PHYs
mtdphy*		at mii?				# Myson MTD972 PHYs
sqphy*		at mii?				# Seeq 8x220 PHYs
tqphy*		at mii?				# TDK 78Q212x PHYs
ukphy*		at mii?				# "unknown" PHYs

isa*		at pceb?
isa*		at sio?

mcclock*	at isa? port 0x70
pckbc*		at isa?				# PC keyboard controller
pckbd*		at pckbc?			# PC keyboard (kbd port)
com*		at isa? port 0x3f8 irq 4	# standard serial ports
com*		at isa? port 0x2f8 irq 3

pciide*		at pci? flags 0x0000
wd*		at pciide? flags 0x0000

scsibus*	at scsi?
#cd*		at scsibus?			# SCSI CD-ROM drives
sd*		at scsibus?			# SCSI disk drives

wsdisplay*	at vga?
wsdisplay*	at tga?
wskbd*		at pckbd?

pseudo-device	loop 1
pseudo-device	rd 1
@


1.44
log
@remove obsolete INET kernel option
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.43 2014/10/10 05:43:33 deraadt Exp $
d90 1
a90 1
wskbd*		at pckbd? mux 1
@


1.43
log
@Significant unification of RAMDISK* config files, making them diffable.
This makes it easier to remove components not required to do an install,
and subsequently add other desireable components ...
In snapshots (in various forks) for about a week.
Do some upgrades and installs, please.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.42 2014/03/31 04:22:26 deraadt Exp $
a17 1
option		INET
@


1.42
log
@give up on isp, and only use ql[wae]
Be a bit cynical about firmware fitting, of course..
ok jmatthew
@
text
@d1 1
a1 2
#	$OpenBSD: RAMDISKB,v 1.41 2014/03/14 05:38:31 jmatthew Exp $
#	$NetBSD: RAMDISK,v 1.9 1996/12/03 17:25:33 cgd Exp $
d3 2
a4 1
machine	alpha			# architecture, used by config; REQUIRED
d6 2
d10 9
a19 1
# CPU Support; at least one is REQUIRED
a33 20
# Enable the hooks used for initializing the ram-disk.
option		RAMDISK_HOOKS
option		MINIROOTSIZE=5744	# 4 Megabytes!

option		NO_IEEE		# Disable IEEE math

# Standard system options
maxusers	8			# estimated number of users

# File system options
option		FFS		# Fast file system

# Networking options
option		INET		# Internet protocol suite

# Misc. options
#option		EISAVERBOSE		# recognize "unknown" EISA devices
#option		PCIVERBOSE		# recognize "unknown" PCI devices
#option		TCVERBOSE		# recognize "unknown" TC devices
option		SCSITERSE		# less verbose scsi error messages
d36 1
a36 1
option		BOOT_CONFIG
d38 3
a40 4
config	bsd	root on rd0a swap on rd0b and wd0b and sd0b

mainbus0 at root
cpu*	at mainbus0
d42 46
a87 93
# PCI host bus adapter support
#apecs*	at mainbus?
#cia*	at mainbus?
#lca*	at mainbus?
irongate* at mainbus?
tsc*	at mainbus0
tsp*	at tsc?

# PCI bus support
#pci*	at apecs?
#pci*	at cia?
#pci*	at lca?
pci*	at irongate?
pci*	at tsp?
pci*	at ppb?

# PCI devices
ahc*	at pci?				# AHA-28xx SCSI (NOT 64-BIT)
de*	at pci?				# 21x4[012]-based Ethernet
dc*	at pci?				# 21143, "tulip" clone ethernet
#fxp*	at pci?				# EtherExpress 10/100B ethernet cards
#ne*	at pci?				# NE2000-compat ethernet cards
#en*	at pci?				# ENI PCI ATM (untested)
#ep*	at pci?				# 3COM 3c59x (untested)
#xl*	at pci?				# 3COM 3c9xx (untested)
siop*	at pci?				# NCR 53c8xx SCSI
pceb*	at pci?				# Intel PCI-EISA bridge
vga*	at pci?				# PCI VGA graphics
ppb*	at pci?				# PCI-PCI bridges
sio*	at pci?				# Intel PCI-ISA bridge
tga*	at pci?				# DEC ZLXp-E[123] graphics
#pcn*	at pci?				# AMD PCnet-PCI Ethernet

qlw*	at pci?				# QLogic ISP SCSI
qla*	at pci?				# Qlogic ISP 2[123]xx FibreChannel
option ISP_NOFIRMWARE
#qle*	at pci?				# Qlogic ISP 2[45]xx FibreChannel
#option QLE_NOFIRMWARE

# Media Independent Interface (mii) drivers
amphy*	at mii?				# AMD 79C873 PHYs
bmtphy*	at mii?				# Broadcom 10/100 PHYs
dcphy*	at mii?				# Digital Clone PHYs
#exphy*	at mii?				# 3Com internal PHYs
#inphy*	at mii?				# Intel 82555 PHYs
#icsphy* at mii?			# ICS 1890 PHYs
lxtphy* at mii?				# Level1 LXT970 PHYs
mtdphy* at mii?				# Myson MTD972 PHYs
#nsphy*	at mii?				# NS and compatible PHYs
#nsphyter* at mii?			# NS and compatible PHYs
#qsphy*	at mii?				# Quality Semi QS6612 PHYs
sqphy*	at mii?				# Seeq 8x220 PHYs
tqphy*	at mii?				# TDK 78Q212x PHYs
ukphy*	at mii?				# "unknown" PHYs

# ISA/EISA bus support
isa*	at	pceb?
isa*	at	sio?

# ISA devices
mcclock* at isa? port 0x70
pckbc*	at isa?				# PC keyboard controller
pckbd*	at pckbc?			# PC keyboard (kbd port)
#pms*	at pckbc?			# PS/2-style mouse (aux port)
com*	at isa? port 0x3f8 irq 4	# standard serial ports
com*	at isa? port 0x2f8 irq 3
#lpt*	at isa? port 0x3bc irq 7	# standard parallel port
#vga*	at isa?				# ISA (EISA: XXX) VGA
#we0	at isa? port 0x280 iomem 0xd0000 irq 9	# WD/SMC 80x3 ethernet series
#we1	at isa? port 0x300 iomem 0xcc000 irq 10	#
#ec0	at isa? port 0x250 iomem 0xd8000 irq 9	# 3C503 ethernet cards
#ne0	at isa? port 0x240 irq 9	# NE[12]000 ethernet cards
#ne1	at isa? port 0x300 irq 10	# NE[12]000 ethernet cards
#ne2	at isa? port 0x280 irq 9	# NE[12]000 ethernet cards
#cy0	at isa? iomem 0xd4000 irq 12	# ISA cyclom card

# IDE
pciide* at pci? flags 0x0000
#wdc0	at isa? port 0x1f0 irq 14 flags 0x00
#wdc1	at isa? port 0x170 irq 15 flags 0x00
#wd*	at wdc? flags 0x0000
wd*	at pciide? flags 0x0000

#atapiscsi* at wdc?
#atapiscsi* at pciide?

# SCSI bus support

# SCSI devices
scsibus* at scsi?
#cd*	at scsibus?			# SCSI CD-ROM drives
sd*	at scsibus?			# SCSI disk drives
#st*	at scsibus?			# SCSI tape drives
a88 1
# Workstation Console attachments
d93 2
a94 4
#pseudo-device	bpfilter	1
pseudo-device	loop
pseudo-device	rd		1
#pseudo-device	wsmux		2	# mouse & keyboard multiplexor
@


1.41
log
@enable qla(4) and qle(4) in ramdisks, except on sgi where the cdfs overflows
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.40 2014/02/19 05:32:56 jmatthew Exp $
d86 1
a86 1
isp*	at pci?				# Qlogic ISP [12]0x0 SCSI/FibreChannel
a87 1
qle*	at pci?				# Qlogic ISP 2[45]xx FibreChannel
d89 2
a90 1
option QLE_NOFIRMWARE
@


1.40
log
@add qla and qle everywhere we currently have isp, commented out except for
qle in GENERIC on i386, amd64 and sparc64, where it's reasonably well tested
and likely to be useful.

requested by deraadt@@ and kettenis@@, ok dlg@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.39 2013/10/29 22:33:10 deraadt Exp $
d87 2
a88 2
#qla*	at pci?				# Qlogic ISP 2[123]xx FibreChannel
#qle*	at pci?				# Qlogic ISP 2[45]xx FibreChannel
d90 1
@


1.39
log
@bye bye fea / fpa
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.38 2011/10/22 19:33:04 miod Exp $
d87 2
@


1.38
log
@Comment out wsmux to save kernel text, since USB support is missing from
this kernel anyway.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.37 2011/06/29 20:52:08 matthew Exp $
a77 1
#fpa*	at pci?				# DEC DEFPA FDDI cards
@


1.37
log
@Replace all instances of "scsibus* at hba?" with a single "scsibus* at
scsi?" rule, similar to how ethernet PHY drivers attach at mii.

Discussed on icb.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.36 2009/06/25 13:06:16 deraadt Exp $
d153 1
a153 1
pseudo-device	wsmux		2	# mouse & keyboard multiplexor
@


1.36
log
@fxp no longer fits on this media
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.35 2009/06/24 11:38:39 deraadt Exp $
a135 1
#scsibus* at atapiscsi?
a137 4
#scsibus* at asc?
scsibus* at ahc?
scsibus* at siop?
scsibus* at isp?
d140 1
@


1.35
log
@for the isp(4) driver, invert the meaning of the options which pull
firmwares into the smaller (and larger) media
ok krw
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.34 2009/03/24 18:48:08 deraadt Exp $
d73 1
a73 1
fxp*	at pci?				# EtherExpress 10/100B ethernet cards
d99 2
a100 2
nsphy*	at mii?				# NS and compatible PHYs
nsphyter* at mii?			# NS and compatible PHYs
@


1.34
log
@give up on pcn to make it all fit; ok miod
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.33 2008/05/23 17:47:41 deraadt Exp $
d86 1
d88 1
a88 4
#option ISP_COMPILE_FW=1
#option ISP_COMPILE_1040_FW=1
#option ISP_COMPILE_1080_FW=1
#option ISP_COMPILE_12160_FW=1
@


1.33
log
@do not use swap generic; these should specifically choose rd0a
spotted by merdely, realization by miod
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.32 2008/03/21 17:10:33 miod Exp $
d85 1
a85 1
pcn*	at pci?				# AMD PCnet-PCI Ethernet
@


1.32
log
@Add option WSKBD_NO_INTL_LAYOUTS to prevent inclusion of international
keyboard layouts, instead of having SMALL_KERNEL imply this on alpha.
No functional change.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.31 2007/08/01 16:30:00 miod Exp $
d48 1
a48 1
config	bsd	swap generic
@


1.31
log
@Stop making de win over dc on alpha, and include both dc and de on all
installation media now - it fits.

THIS MEANS YOU NEED TO RENAME /etc/hostname.de0 TO /etc/hostname.dc0
BEFORE BOOTING A NEW KERNEL.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.30 2006/03/12 17:29:48 martin Exp $
d44 1
@


1.30
log
@with pcn(4) now in place remove or replace the references to PCI le(4)
and complement pcn* at pci? where useful as request by brad@@

ok brad@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.29 2006/02/23 23:53:51 miod Exp $
d71 1
a71 1
#dc*	at pci?				# 21143, "tulip" clone ethernet
d92 3
d97 5
a101 3
#icsphy*	at mii?			# ICS 1890 PHYs
#lxtphy*	at mii?			# Level1 LXT970 PHYs
#nsphy*	at mii?				# NS and compatible PHYs
d103 2
a104 2
#sqphy*	at mii?				# Seeq 8x220 PHYs
#mtdphy*	at mii?			# Myson MTD972 PHYs
@


1.29
log
@de fits again.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.28 2005/07/31 10:13:49 deraadt Exp $
a77 1
#le*	at pci?				# PCI LANCE Ethernet (untested)
d84 1
@


1.28
log
@unfortunately de(4) no longer fits
people who add to the kernel without thinking of the growth caused this
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.27 2005/05/01 07:54:41 david Exp $
d70 1
a70 1
#de*	at pci?				# 21x4[012]-based Ethernet
d121 1
a121 1
#cy0	atisa? iomem 0xd4000 irq 12	# ISA cyclom card
@


1.27
log
@spacing; ok miod@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.26 2005/01/06 21:32:56 deraadt Exp $
d70 1
a70 1
de*	at pci?				# 21x4[012]-based Ethernet
@


1.26
log
@use wsmux more; miod ok
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.25 2004/11/05 16:29:18 deraadt Exp $
d148 1
a148 1
wskbd*          at pckbd? mux 1
@


1.25
log
@we want ukphy on the media; miod ok
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.24 2004/09/16 09:14:02 mickey Exp $
d148 1
a148 1
wskbd*          at pckbd?
d153 1
@


1.24
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.23 2004/01/16 09:27:40 deraadt Exp $
d100 1
a100 1
#ukphy*	at mii?				# "unknown" PHYs
@


1.23
log
@cia* is not needed on floppyB, all these machines use tsc*.  but at least
some of these machines use a ahc* scsi controller.  and it still fits!
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.22 2003/05/13 22:45:06 miod Exp $
d47 1
a47 1
config		bsd	swap generic
d49 2
a50 2
mainbus0 at	root
cpu*	at	mainbus0
d53 6
a58 6
#apecs*	at	mainbus?
#cia*	at	mainbus?
#lca*	at	mainbus?
irongate* at	mainbus?
tsc*	at	mainbus0
tsp*	at	tsc?
d61 6
a66 6
#pci*	at	apecs?
#pci*	at	cia?
#pci*	at	lca?
pci*	at	irongate?
pci*	at	tsp?
pci*	at	ppb?
d69 17
a85 17
ahc*	at	pci? dev ? function ?		# AHA-28xx SCSI (NOT 64-BIT)
de*	at	pci? dev ? function ?		# 21x4[012]-based Ethernet
#dc*	at	pci? dev ? function ?		# 21143, "tulip" clone ethernet
fxp*	at	pci? dev ? function ?		# EtherExpress 10/100B ethernet cards
#ne*	at	pci? dev ? function ?		# NE2000-compat ethernet cards
#en*	at	pci? dev ? function ?		# ENI PCI ATM (untested)
#ep*	at	pci? dev ? function ?		# 3COM 3c59x (untested)
#xl*	at	pci? dev ? function ?		# 3COM 3c9xx (untested)
#fpa*	at	pci? dev ? function ?		# DEC DEFPA FDDI cards
#le*	at	pci? dev ? function ?		# PCI LANCE Ethernet (untested)
siop*	at	pci? dev ? function ?		# NCR 53c8xx SCSI
pceb*	at	pci? dev ? function ?		# Intel PCI-EISA bridge
vga*	at	pci? dev ? function ?		# PCI VGA graphics
ppb*	at	pci? dev ? function ?		# PCI-PCI bridges
sio*	at	pci? dev ? function ?		# Intel PCI-ISA bridge
tga*	at	pci? dev ? function ?		# DEC ZLXp-E[123] graphics
isp*	at	pci? dev ? function ?		# Qlogic ISP [12]0x0 SCSI/FibreChannel
d92 9
a100 9
#exphy*	at mii? phy ?				# 3Com internal PHYs
#inphy*	at mii? phy ?				# Intel 82555 PHYs
#icsphy*	at mii? phy ?			# ICS 1890 PHYs
#lxtphy*	at mii? phy ?			# Level1 LXT970 PHYs
#nsphy*	at mii? phy ?				# NS and compatible PHYs
#qsphy*	at mii? phy ?				# Quality Semi QS6612 PHYs
#sqphy*	at mii? phy ?				# Seeq 8x220 PHYs
#mtdphy*	at mii? phy ?				# Myson MTD972 PHYs
#ukphy*	at mii? phy ?				# "unknown" PHYs
d107 15
a121 15
mcclock* at	isa? port 0x70
pckbc*	at	isa?				# PC keyboard controller
pckbd*	at	pckbc?				# PC keyboard (kbd port)
#pms*	at	pckbc?				# PS/2-style mouse (aux port)
com*	at	isa? port 0x3f8 irq 4		# standard serial ports
com*	at	isa? port 0x2f8 irq 3
#lpt*	at	isa? port 0x3bc irq 7		# standard parallel port
#vga*	at	isa?				# ISA (EISA: XXX) VGA
#we0	at 	isa? port 0x280 iomem 0xd0000 irq 9	# WD/SMC 80x3 ethernet series
#we1	at 	isa? port 0x300 iomem 0xcc000 irq 10	#
#ec0	at 	isa? port 0x250 iomem 0xd8000 irq 9	# 3C503 ethernet cards
#ne0	at 	isa? port 0x240 irq 9		# NE[12]000 ethernet cards
#ne1	at 	isa? port 0x300 irq 10		# NE[12]000 ethernet cards
#ne2	at 	isa? port 0x280 irq 9		# NE[12]000 ethernet cards
#cy0	at	isa? iomem 0xd4000 irq 12	# ISA cyclom card
d124 1
a124 1
pciide* at pci ? dev ? function ? flags 0x0000
d127 2
a128 2
#wd*	at wdc? channel ? drive ? flags 0x0000
wd*	at pciide? channel ? drive ? flags 0x0000
d130 2
a131 2
#atapiscsi* at wdc? channel ?
#atapiscsi* at pciide? channel ?
d135 4
a138 4
#scsibus* at	asc?
scsibus* at	ahc?
scsibus* at	siop?
scsibus* at	isp?
d141 3
a143 3
#cd*	at	scsibus? target ? lun ?		# SCSI CD-ROM drives
sd*	at	scsibus? target ? lun ?		# SCSI disk drives
#st*	at	scsibus? target ? lun ?		# SCSI tape drives
d146 3
a148 3
wsdisplay*	at	vga?
wsdisplay*	at	tga?
wskbd*          at      pckbd?
@


1.22
log
@Add option NO_PROPOLICE, which explicitely disables the use of the propolice
stack protection when building kernels. Intended to be used on installation
media, with tight space constraints - currently, only added where
SMALL_KERNEL was already defined.

Not thoroughly tested, but requested by deraadt.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.21 2002/06/30 16:24:40 miod Exp $
d54 1
a54 1
cia*	at	mainbus?
d62 1
a62 1
pci*	at	cia?
d69 1
a69 1
#ahc*	at	pci? dev ? function ?		# AHA-28xx SCSI (NOT 64-BIT)
d114 1
a114 1
vga*	at	isa?				# ISA (EISA: XXX) VGA
d136 1
@


1.21
log
@AlphaServer 800 and 1000 support; from NetBSD. Tested by Tor Houghton.
Added to floppy31 still fits.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.20 2002/05/02 22:56:06 miod Exp $
d7 1
@


1.20
log
@Big TURBOchannel support catchup from NetBSD, part 1.
A few local changes and tweaks remain.

This bring DEC 3000 machines back in the game, but framebuffers are still
not supported at the moment.

Thanks to ericj@@ and nate@@ for supplying me a DEC 3000 for testing.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.19 2002/04/28 20:55:14 pvalchev Exp $
d15 1
d18 2
@


1.19
log
@IEEE 754 floating point completion code, and implementation of the
FP_C (Floating Point Control Quadword).

From ross@@NetBSD.  Added a way to disable it with option NO_IEEE,
which appears on the ramdisks to save space.  This affects only
programs compiled with -mieee, and what it essentially does is
enabling infinities and NaNs, instead of generating SIGFPE on
division by zero, overflow, etc.
ok art, deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.18 2002/03/30 20:21:25 deraadt Exp $
a140 1
#wsdisplay*	at	cfb?
a141 1
#wsdisplay*	at	sfb?
@


1.18
log
@fxp fits again
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.17 2002/03/24 22:18:51 deraadt Exp $
d23 2
@


1.17
log
@This is ridiculous.  Put the same dc vs de on the floppy as the kernel.  How did you forget about this, Nate?
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.16 2002/03/04 22:52:22 nate Exp $
d66 1
a66 1
#fxp*	at	pci? dev ? function ?		# EtherExpress 10/100B ethernet cards
@


1.16
log
@since we can't fit both dc and de, we've got to have de so we can have support
for 2104x chips which dc does not support at all.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.15 2002/03/04 21:16:29 deraadt Exp $
d65 1
@


1.15
log
@dc not de
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.14 2002/02/09 07:08:30 ericj Exp $
d64 1
a64 1
dc*	at	pci? dev ? function ?		# 21x4[012]-based Ethernet
@


1.14
log
@
spelling, brige->bridge
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.13 2001/09/29 01:18:13 deraadt Exp $
d64 1
a64 1
de*	at	pci? dev ? function ?		# 21x4[012]-based Ethernet
@


1.13
log
@using #define is wrong, use #option
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.12 2001/09/28 22:58:56 deraadt Exp $
d73 1
a73 1
pceb*	at	pci? dev ? function ?		# Intel PCI-EISA brige
@


1.13.4.1
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.13 2001/09/29 01:18:13 deraadt Exp $
a23 2
option		NO_IEEE		# Disable IEEE math

d65 1
a65 2
#dc*	at	pci? dev ? function ?		# 21143, "tulip" clone ethernet
fxp*	at	pci? dev ? function ?		# EtherExpress 10/100B ethernet cards
d73 1
a73 1
pceb*	at	pci? dev ? function ?		# Intel PCI-EISA bridge
d138 1
d140 1
@


1.13.4.2
log
@sync to -current
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.13.4.1 2002/06/11 03:33:40 art Exp $
a14 1
#option		DEC_EB64PLUS	# EB64+:	AlphaPC 64, etc.
a16 2
#option		DEC_1000	# Mikasa etc:	Digital AlphaServer 1000
#option		DEC_1000A	# Corelle etc:	Digital AlphaServer 800/1000A
@


1.13.4.3
log
@sync
@
text
@d1 1
a1 1
#	$OpenBSD$
a6 1
option		NO_PROPOLICE
@


1.12
log
@and mention XP1000 in the right place
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.11 2001/07/19 14:34:28 art Exp $
d79 4
@


1.11
log
@No more need to define PMAP_NEW.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.10 2001/06/27 05:46:08 art Exp $
d17 1
a17 1
option		DEC_6600	# EV6:		264DP OEM Board
@


1.10
log
@UVM is no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.9 2001/06/23 19:46:57 deraadt Exp $
a5 1
option		PMAP_NEW	# required
@


1.9
log
@no more kernfs
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.8 2001/05/16 09:06:32 deraadt Exp $
a5 1
option		UVM		# required
@


1.8
log
@use SMALL_KERNEL option
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.7 2001/05/14 03:10:26 deraadt Exp $
a30 1
option		KERNFS		# pseudo-fs to get at kernel internals
@


1.7
log
@cleanup a lot
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.6 2001/04/16 03:19:52 deraadt Exp $
d8 1
@


1.6
log
@API_UP1000 support fits
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.5 2001/04/14 23:43:32 deraadt Exp $
d10 8
a17 1
option          DEC_550		# Miata:	Digital Personal Workstation
d74 1
a74 1
ncr*	at	pci? dev ? function ?		# NCR 53c8xx SCSI
d127 1
a127 1
scsibus* at	ncr?
@


1.6.2.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.6 2001/04/16 03:19:52 deraadt Exp $
@


1.6.2.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.6.2.1 2001/04/18 16:00:37 niklas Exp $
d6 1
a7 1
option		SMALL_KERNEL
d10 1
a10 8
#option		DEC_3000_500	# Flamingo etc:	3000/[4-9]00*
#option		DEC_3000_300	# Pelican etc:	3000/300*
#option		DEC_2100_A50	# Avanti etc:	AlphaStation 400, 200, etc.
#option		DEC_KN20AA	# KN20AA:	AlphaStation 600
#option		DEC_AXPPCI_33	# NoName:	AXPpci33, etc.
#option		DEC_EB164	# EB164:	AlphaPC 164
#option		DEC_2000_300	# "Jensen":	2000/300 (DECpc AXP 150)
#option		DEC_550		# Miata:	Digital Personal Workstation
d23 1
d67 1
a67 1
siop*	at	pci? dev ? function ?		# NCR 53c8xx SCSI
d120 1
a120 1
scsibus* at	siop?
@


1.6.2.3
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.6.2.2 2001/07/04 10:14:30 niklas Exp $
d6 1
d18 1
a18 1
option		DEC_6600	# EV6:		XP1000, 264DP OEM Board
a79 4
#option ISP_COMPILE_FW=1
#option ISP_COMPILE_1040_FW=1
#option ISP_COMPILE_1080_FW=1
#option ISP_COMPILE_12160_FW=1
@


1.6.2.4
log
@Merge in trunk
@
text
@d1 1
a1 1
#	$OpenBSD$
d73 1
a73 1
pceb*	at	pci? dev ? function ?		# Intel PCI-EISA bridge
@


1.6.2.5
log
@Sync the SMP branch with 3.3
@
text
@a14 1
#option		DEC_EB64PLUS	# EB64+:	AlphaPC 64, etc.
a16 2
#option		DEC_1000	# Mikasa etc:	Digital AlphaServer 1000
#option		DEC_1000A	# Corelle etc:	Digital AlphaServer 800/1000A
a23 2
option		NO_IEEE		# Disable IEEE math

d65 1
a65 2
#dc*	at	pci? dev ? function ?		# 21143, "tulip" clone ethernet
fxp*	at	pci? dev ? function ?		# EtherExpress 10/100B ethernet cards
d138 1
d140 1
@


1.6.2.6
log
@merge the trunk so we will get the genfs and locking fixes
@
text
@a6 1
option		NO_PROPOLICE
@


1.6.2.7
log
@Merge of -current from two weeks ago into the SMP branch
@
text
@d54 1
a54 1
#cia*	at	mainbus?
d62 1
a62 1
#pci*	at	cia?
d69 1
a69 1
ahc*	at	pci? dev ? function ?		# AHA-28xx SCSI (NOT 64-BIT)
d114 1
a114 1
#vga*	at	isa?				# ISA (EISA: XXX) VGA
a135 1
scsibus* at	ahc?
@


1.5
log
@clean
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.4 2001/04/09 07:07:40 deraadt Exp $
a9 7
#option		DEC_3000_500	# Flamingo etc:	3000/[4-9]00*
#option		DEC_3000_300	# Pelican etc:	3000/300*
#option		DEC_2100_A50	# Avanti etc:	AlphaStation 400, 200, etc.
#option		DEC_KN20AA	# KN20AA:	AlphaStation 600
#option		DEC_AXPPCI_33	# NoName:	AXPpci33, etc.
#option		DEC_EB164	# EB164:	AlphaPC 164
#option		DEC_2000_300	# "Jensen":	2000/300 (DECpc AXP 150)
d12 1
d44 2
a45 1
lca*	at	mainbus?
d52 2
a53 1
pci*	at	lca?
@


1.4
log
@further stripping down
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.3 2001/02/13 14:50:33 deraadt Exp $
d77 1
a77 1
isp*	at	pci? dev ? function ?	# Qlogic ISP [12]0x0 SCSI/FibreChannel
@


1.3
log
@default more wscons options
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.2 2001/02/05 21:41:25 deraadt Exp $
d16 1
a16 1
option		DEC_2000_300	# "Jensen":	2000/300 (DECpc AXP 150)
d48 1
a48 1
apecs*	at	mainbus?
d55 1
a55 1
pci*	at	apecs?
d64 1
a64 1
fxp*	at	pci? dev ? function ?		# EtherExpress 10/100B ethernet cards
d81 1
a81 1
inphy*	at mii? phy ?				# Intel 82555 PHYs
@


1.2
log
@BOOT_CONFIG fits
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKB,v 1.1 2001/01/27 21:17:30 deraadt Exp $
a38 2

option		WSEMUL_VT100		# wscons VT100 emulation
@


1.1
log
@these will be for additional floppies, and CD bsd.rd
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.36 2001/01/23 20:50:36 art Exp $
d41 2
@

