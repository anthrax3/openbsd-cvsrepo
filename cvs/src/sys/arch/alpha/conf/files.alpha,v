head	1.104;
access;
symbols
	OPENBSD_6_2:1.104.0.4
	OPENBSD_6_2_BASE:1.104
	OPENBSD_6_1:1.103.0.8
	OPENBSD_6_1_BASE:1.103
	OPENBSD_6_0:1.103.0.4
	OPENBSD_6_0_BASE:1.103
	OPENBSD_5_9:1.103.0.2
	OPENBSD_5_9_BASE:1.103
	OPENBSD_5_8:1.102.0.4
	OPENBSD_5_8_BASE:1.102
	OPENBSD_5_7:1.101.0.2
	OPENBSD_5_7_BASE:1.101
	OPENBSD_5_6:1.99.0.4
	OPENBSD_5_6_BASE:1.99
	OPENBSD_5_5:1.98.0.4
	OPENBSD_5_5_BASE:1.98
	OPENBSD_5_4:1.95.0.2
	OPENBSD_5_4_BASE:1.95
	OPENBSD_5_3:1.93.0.6
	OPENBSD_5_3_BASE:1.93
	OPENBSD_5_2:1.93.0.4
	OPENBSD_5_2_BASE:1.93
	OPENBSD_5_1_BASE:1.93
	OPENBSD_5_1:1.93.0.2
	OPENBSD_5_0:1.91.0.4
	OPENBSD_5_0_BASE:1.91
	OPENBSD_4_9:1.91.0.2
	OPENBSD_4_9_BASE:1.91
	OPENBSD_4_8:1.90.0.2
	OPENBSD_4_8_BASE:1.90
	OPENBSD_4_7:1.89.0.2
	OPENBSD_4_7_BASE:1.89
	OPENBSD_4_6:1.88.0.6
	OPENBSD_4_6_BASE:1.88
	OPENBSD_4_5:1.88.0.2
	OPENBSD_4_5_BASE:1.88
	OPENBSD_4_4:1.87.0.2
	OPENBSD_4_4_BASE:1.87
	OPENBSD_4_3:1.84.0.2
	OPENBSD_4_3_BASE:1.84
	OPENBSD_4_2:1.82.0.2
	OPENBSD_4_2_BASE:1.82
	OPENBSD_4_1:1.77.0.2
	OPENBSD_4_1_BASE:1.77
	OPENBSD_4_0:1.76.0.2
	OPENBSD_4_0_BASE:1.76
	OPENBSD_3_9:1.72.0.2
	OPENBSD_3_9_BASE:1.72
	OPENBSD_3_8:1.68.0.2
	OPENBSD_3_8_BASE:1.68
	OPENBSD_3_7:1.65.0.2
	OPENBSD_3_7_BASE:1.65
	OPENBSD_3_6:1.60.0.2
	OPENBSD_3_6_BASE:1.60
	SMP_SYNC_A:1.59
	SMP_SYNC_B:1.59
	OPENBSD_3_5:1.59.0.8
	OPENBSD_3_5_BASE:1.59
	OPENBSD_3_4:1.59.0.6
	OPENBSD_3_4_BASE:1.59
	UBC_SYNC_A:1.59
	OPENBSD_3_3:1.59.0.4
	OPENBSD_3_3_BASE:1.59
	OPENBSD_3_2:1.59.0.2
	OPENBSD_3_2_BASE:1.59
	OPENBSD_3_1:1.56.0.2
	OPENBSD_3_1_BASE:1.56
	UBC_SYNC_B:1.59
	UBC:1.53.0.2
	UBC_BASE:1.53
	OPENBSD_3_0:1.50.0.2
	OPENBSD_3_0_BASE:1.50
	OPENBSD_2_9:1.47.0.2
	OPENBSD_2_9_BASE:1.47
	OPENBSD_2_8:1.34.0.2
	OPENBSD_2_8_BASE:1.34
	OPENBSD_2_7:1.30.0.4
	OPENBSD_2_7_BASE:1.30
	SMP:1.30.0.2
	SMP_BASE:1.30
	kame_19991208:1.30
	OPENBSD_2_6:1.29.0.2
	OPENBSD_2_6_BASE:1.29
	OPENBSD_2_5:1.24.0.2
	OPENBSD_2_5_BASE:1.24
	OPENBSD_2_4:1.23.0.2
	OPENBSD_2_4_BASE:1.23
	OPENBSD_2_3:1.21.0.2
	OPENBSD_2_3_BASE:1.21
	OPENBSD_2_2:1.14.0.2
	OPENBSD_2_2_BASE:1.14
	OPENBSD_2_1:1.11.0.2
	OPENBSD_2_1_BASE:1.11
	OPENBSD_2_0:1.5.0.2
	OPENBSD_2_0_BASE:1.5
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.104
date	2017.06.05.17.49.06;	author deraadt;	state Exp;
branches;
next	1.103;
commitid	wXtA3KPnBnlZZwY8;

1.103
date	2016.01.08.15.54.12;	author jcs;	state Exp;
branches;
next	1.102;
commitid	kI4H556ZKYkRQGw5;

1.102
date	2015.07.17.22.52.28;	author tedu;	state Exp;
branches;
next	1.101;
commitid	OOrGfFHYAn65M2qc;

1.101
date	2014.12.24.18.46.14;	author miod;	state Exp;
branches;
next	1.100;
commitid	Tur8zmifqCnJgGsd;

1.100
date	2014.12.04.21.03.50;	author tedu;	state Exp;
branches;
next	1.99;
commitid	r0wnjctffDRI84iN;

1.99
date	2014.07.11.21.54.37;	author tedu;	state Exp;
branches;
next	1.98;
commitid	0n9cIGBISFAEt4b1;

1.98
date	2014.01.26.17.40.11;	author miod;	state Exp;
branches;
next	1.97;

1.97
date	2013.11.04.14.07.15;	author deraadt;	state Exp;
branches;
next	1.96;

1.96
date	2013.08.15.06.54.35;	author kettenis;	state Exp;
branches;
next	1.95;

1.95
date	2013.03.09.16.48.55;	author deraadt;	state Exp;
branches;
next	1.94;

1.94
date	2013.03.09.02.10.47;	author deraadt;	state Exp;
branches;
next	1.93;

1.93
date	2011.11.15.22.27.52;	author deraadt;	state Exp;
branches;
next	1.92;

1.92
date	2011.10.06.20.49.28;	author deraadt;	state Exp;
branches;
next	1.91;

1.91
date	2010.12.06.20.10.17;	author jasper;	state Exp;
branches;
next	1.90;

1.90
date	2010.06.30.20.38.49;	author tedu;	state Exp;
branches;
next	1.89;

1.89
date	2009.11.07.23.01.38;	author miod;	state Exp;
branches;
next	1.88;

1.88
date	2008.11.09.15.11.18;	author oga;	state Exp;
branches;
next	1.87;

1.87
date	2008.07.19.18.13.04;	author miod;	state Exp;
branches;
next	1.86;

1.86
date	2008.05.20.08.03.53;	author kettenis;	state Exp;
branches;
next	1.85;

1.85
date	2008.03.21.18.44.13;	author deraadt;	state Exp;
branches;
next	1.84;

1.84
date	2007.12.29.16.59.13;	author miod;	state Exp;
branches;
next	1.83;

1.83
date	2007.11.25.18.25.25;	author deraadt;	state Exp;
branches;
next	1.82;

1.82
date	2007.06.08.22.57.42;	author jasper;	state Exp;
branches;
next	1.81;

1.81
date	2007.05.28.23.10.10;	author beck;	state Exp;
branches;
next	1.80;

1.80
date	2007.05.05.21.05.43;	author martin;	state Exp;
branches;
next	1.79;

1.79
date	2007.04.13.08.31.50;	author martin;	state Exp;
branches;
next	1.78;

1.78
date	2007.03.16.21.22.27;	author robert;	state Exp;
branches;
next	1.77;

1.77
date	2006.09.27.06.33.03;	author grange;	state Exp;
branches;
next	1.76;

1.76
date	2006.08.13.23.00.38;	author miod;	state Exp;
branches;
next	1.75;

1.75
date	2006.08.07.18.58.37;	author miod;	state Exp;
branches;
next	1.74;

1.74
date	2006.06.19.15.13.33;	author deraadt;	state Exp;
branches;
next	1.73;

1.73
date	2006.05.06.05.30.01;	author brad;	state Exp;
branches;
next	1.72;

1.72
date	2006.02.23.23.54.59;	author miod;	state Exp;
branches;
next	1.71;

1.71
date	2006.02.23.20.14.14;	author miod;	state Exp;
branches;
next	1.70;

1.70
date	2006.02.12.21.09.06;	author miod;	state Exp;
branches;
next	1.69;

1.69
date	2005.12.27.23.18.59;	author deraadt;	state Exp;
branches;
next	1.68;

1.68
date	2005.07.14.02.09.46;	author uwe;	state Exp;
branches;
next	1.67;

1.67
date	2005.05.09.21.54.58;	author brad;	state Exp;
branches;
next	1.66;

1.66
date	2005.05.01.21.36.55;	author brad;	state Exp;
branches;
next	1.65;

1.65
date	2005.03.08.20.00.22;	author tdeval;	state Exp;
branches;
next	1.64;

1.64
date	2004.11.04.11.03.44;	author miod;	state Exp;
branches;
next	1.63;

1.63
date	2004.10.08.13.04.35;	author grange;	state Exp;
branches;
next	1.62;

1.62
date	2004.09.18.07.12.14;	author pvalchev;	state Exp;
branches;
next	1.61;

1.61
date	2004.09.16.09.14.03;	author mickey;	state Exp;
branches;
next	1.60;

1.60
date	2004.07.03.19.18.47;	author millert;	state Exp;
branches;
next	1.59;

1.59
date	2002.06.30.16.24.40;	author miod;	state Exp;
branches;
next	1.58;

1.58
date	2002.05.02.22.56.06;	author miod;	state Exp;
branches;
next	1.57;

1.57
date	2002.04.28.20.55.14;	author pvalchev;	state Exp;
branches;
next	1.56;

1.56
date	2002.03.23.14.14.25;	author deraadt;	state Exp;
branches;
next	1.55;

1.55
date	2002.02.09.07.05.53;	author ericj;	state Exp;
branches;
next	1.54;

1.54
date	2002.01.23.03.20.41;	author ericj;	state Exp;
branches;
next	1.53;

1.53
date	2001.11.05.02.41.01;	author art;	state Exp;
branches
	1.53.2.1;
next	1.52;

1.52
date	2001.11.05.02.39.56;	author art;	state Exp;
branches;
next	1.51;

1.51
date	2001.10.26.01.28.06;	author nate;	state Exp;
branches;
next	1.50;

1.50
date	2001.06.26.02.37.28;	author mickey;	state Exp;
branches;
next	1.49;

1.49
date	2001.05.11.07.55.30;	author deraadt;	state Exp;
branches;
next	1.48;

1.48
date	2001.05.11.06.41.36;	author deraadt;	state Exp;
branches;
next	1.47;

1.47
date	2001.04.14.17.51.41;	author art;	state Exp;
branches;
next	1.46;

1.46
date	2001.03.21.17.26.38;	author art;	state Exp;
branches;
next	1.45;

1.45
date	2001.03.18.04.39.07;	author nate;	state Exp;
branches;
next	1.44;

1.44
date	2001.03.07.22.01.20;	author ericj;	state Exp;
branches;
next	1.43;

1.43
date	2001.02.16.05.17.31;	author jason;	state Exp;
branches;
next	1.42;

1.42
date	2001.02.01.17.25.07;	author art;	state Exp;
branches;
next	1.41;

1.41
date	2000.12.11.16.15.15;	author nate;	state Exp;
branches;
next	1.40;

1.40
date	2000.11.26.19.41.21;	author millert;	state Exp;
branches;
next	1.39;

1.39
date	2000.11.25.00.38.31;	author art;	state Exp;
branches;
next	1.38;

1.38
date	2000.11.16.15.52.32;	author ericj;	state Exp;
branches;
next	1.37;

1.37
date	2000.11.16.04.50.18;	author ericj;	state Exp;
branches;
next	1.36;

1.36
date	2000.11.16.04.30.01;	author ericj;	state Exp;
branches;
next	1.35;

1.35
date	2000.11.08.16.01.07;	author art;	state Exp;
branches;
next	1.34;

1.34
date	2000.08.12.20.11.32;	author ericj;	state Exp;
branches;
next	1.33;

1.33
date	2000.07.05.21.52.07;	author ericj;	state Exp;
branches;
next	1.32;

1.32
date	2000.07.03.20.14.22;	author ericj;	state Exp;
branches;
next	1.31;

1.31
date	2000.07.03.19.30.20;	author mickey;	state Exp;
branches;
next	1.30;

1.30
date	99.11.08.15.36.07;	author mickey;	state Exp;
branches
	1.30.2.1;
next	1.29;

1.29
date	99.09.14.01.05.24;	author kstailey;	state Exp;
branches;
next	1.28;

1.28
date	99.09.12.14.15.16;	author kstailey;	state Exp;
branches;
next	1.27;

1.27
date	99.08.08.19.17.27;	author deraadt;	state Exp;
branches;
next	1.26;

1.26
date	99.07.30.19.05.50;	author deraadt;	state Exp;
branches;
next	1.25;

1.25
date	99.07.25.04.38.25;	author csapuntz;	state Exp;
branches;
next	1.24;

1.24
date	99.01.08.03.16.16;	author niklas;	state Exp;
branches;
next	1.23;

1.23
date	98.09.22.20.43.33;	author jason;	state Exp;
branches;
next	1.22;

1.22
date	98.07.01.02.44.11;	author angelos;	state Exp;
branches;
next	1.21;

1.21
date	98.04.07.22.07.42;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	98.04.04.22.06.14;	author deraadt;	state Exp;
branches;
next	1.19;

1.19
date	98.04.04.21.53.53;	author don;	state Exp;
branches;
next	1.18;

1.18
date	98.01.06.23.37.56;	author niklas;	state Exp;
branches;
next	1.17;

1.17
date	97.11.10.04.01.25;	author mickey;	state Exp;
branches;
next	1.16;

1.16
date	97.11.06.12.27.01;	author niklas;	state Exp;
branches;
next	1.15;

1.15
date	97.11.06.02.53.44;	author niklas;	state Exp;
branches;
next	1.14;

1.14
date	97.07.09.02.58.32;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	97.07.06.18.34.28;	author niklas;	state Exp;
branches;
next	1.12;

1.12
date	97.07.06.01.53.55;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	97.04.13.04.52.33;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	97.03.25.08.00.43;	author niklas;	state Exp;
branches;
next	1.9;

1.9
date	97.02.26.16.30.59;	author niklas;	state Exp;
branches;
next	1.8;

1.8
date	97.01.24.19.57.03;	author niklas;	state Exp;
branches;
next	1.7;

1.7
date	96.12.08.00.20.22;	author niklas;	state Exp;
branches;
next	1.6;

1.6
date	96.10.30.22.38.45;	author niklas;	state Exp;
branches;
next	1.5;

1.5
date	96.07.29.20.01.27;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	96.06.18.09.42.59;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	95.12.26.18.11.07;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.12.14.03.52.59;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.49.41;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.49.41;	author deraadt;	state Exp;
branches;
next	;

1.30.2.1
date	2001.04.18.16.00.39;	author niklas;	state Exp;
branches;
next	1.30.2.2;

1.30.2.2
date	2001.07.04.10.14.31;	author niklas;	state Exp;
branches;
next	1.30.2.3;

1.30.2.3
date	2001.10.31.02.52.44;	author nate;	state Exp;
branches;
next	1.30.2.4;

1.30.2.4
date	2001.11.13.21.00.49;	author niklas;	state Exp;
branches;
next	1.30.2.5;

1.30.2.5
date	2002.03.06.00.47.43;	author niklas;	state Exp;
branches;
next	1.30.2.6;

1.30.2.6
date	2003.03.27.23.18.06;	author niklas;	state Exp;
branches;
next	;

1.53.2.1
date	2002.01.31.22.55.05;	author niklas;	state Exp;
branches;
next	1.53.2.2;

1.53.2.2
date	2002.06.11.03.33.40;	author art;	state Exp;
branches;
next	1.53.2.3;

1.53.2.3
date	2002.10.29.00.28.00;	author art;	state Exp;
branches;
next	;


desc
@@


1.104
log
@Split early startup code out of locore.S into locore0.S.  Adjust link
run so that this locore0.o is always at the start of the executable.
But randomize the link order of all other .o files in the kernel, so
that their exec/rodata/data/bss segments land all over the place.

Late during kernel boot, smash the startup code with traps so that
it does not point to the other randomly placed code.  It has be smashed,
because alpha (insecurely in my view) runs in the KSEG0 space.

As a result, the internal layout of every newly build bsd kernel is
different from past kernels.  Internal relative offsets are not known
to an outside attacker.  The only known offsets are in the startup code,
which is gone.

Ramdisk kernels cannot be compiled like this, because they are gzip'd.
When the internal pointer references change, the compression dictionary
bloats and results in poorer compression.
@
text
@#	$OpenBSD: files.alpha,v 1.103 2016/01/08 15:54:12 jcs Exp $
#	$NetBSD: files.alpha,v 1.32 1996/11/25 04:03:21 cgd Exp $
#
# alpha-specific configuration info

# maxpartitions must be first item in files.${ARCH}
maxpartitions 16

maxusers 2 8 128

# this loses, but there's no way to define attributes which have attributes
define	alpha_shared_intr
file	arch/alpha/dev/shared_intr.c	alpha_shared_intr | dec_eb164 |
					dec_kn20aa | dec_6600 | dec_550 |
					dec_1000 | dec_1000a | dec_eb64plus |
					dec_kn300

define	alpha_sgmap
file	arch/alpha/dev/sgmap_common.c		alpha_sgmap | dec_3000_500

#
# Bus-independent devices
#

device	mainbus {}			# no locators (yet?)
attach	mainbus at root

device	cpu {}				# not really optional
attach	cpu at mainbus
file	arch/alpha/alpha/cpu.c			cpu

major	{vnd = 9}

#
# Media Independent Interface (mii)
#
include	"dev/mii/files.mii"

#
# Machine-independent SCSI drivers
#

include	"scsi/files.scsi"
major	{st = 2}
major	{cd = 3}
major	{sd = 8}
major	{rd = 6}

# Raster operations
include	"dev/rasops/files.rasops"
include	"dev/wsfont/files.wsfont"

#
# "workstation console" routines
#

include	"dev/wscons/files.wscons"

#
# Bus-independent support for DEC devices
#
include	"dev/dec/files.dec"

#
# TURBOchannel Devices
#
include	"dev/tc/files.tc"

#
# MCBUS bus Devices
#
device	mcbus { mid = -1 }
attach	mcbus at mainbus
file	arch/alpha/mcbus/mcbus.c		mcbus & dec_kn300

device	mcmem: mcbus
attach	mcmem at mcbus
file	arch/alpha/mcbus/mcmem.c		mcmem

# TC attachment is MD
attach	tc at tcbus

device	tcasic: tcbus
attach	tcasic at mainbus
file	arch/alpha/tc/tcasic.c			tcasic	needs-flag
file	arch/alpha/tc/tc_bus_mem.c		tcasic
file	arch/alpha/tc/tc_dma.c			tcasic
file	arch/alpha/tc/tc_dma_3000_300.c		tcasic & dec_3000_300
file	arch/alpha/tc/tc_dma_3000_500.c		tcasic & dec_3000_500
file	arch/alpha/tc/tc_sgmap.c		tcasic & dec_3000_500
file	arch/alpha/tc/tc_3000_500.c		tcasic & dec_3000_500
file	arch/alpha/tc/tc_3000_300.c		tcasic & dec_3000_300

# the TURBOchannel IOCTL ASIC
# IOASIC device and attachment defined in sys/dev/tc/files.tc
file	arch/alpha/tc/ioasic.c			ioasic needs-flag

# PMAG-B CX
device	cfb: wsemuldisplaydev
attach	cfb at tc
file	arch/alpha/tc/cfb.c			cfb		needs-flag

# PMAGB-B HX or CXT
device	sfb: wsemuldisplaydev
attach	sfb at tc
file	arch/alpha/tc/sfb.c			sfb		needs-flag

# 8530 UARTs
device	scc
attach	scc at ioasic
file	arch/alpha/tc/scc.c			scc		needs-count

# TC and baseboard ioasic Lance ethernet are in files.tc

#
# ISA Bus support
#

#
# Machine-independent ATAPI drivers
#

include	"dev/atapiscsi/files.atapiscsi"
include	"dev/ata/files.ata"

include	"dev/pci/files.pci"	# XXX some ISA devs are 'at pci' too.
include	"dev/isa/files.isa"
major	{wd = 0}
major	{fd = 4}

device	pcic: pcmciabus
file	dev/ic/i82365.c			pcic

# PCIC pcmcia controller on ISA bus.
attach	pcic at isa with pcic_isa
file	dev/isa/i82365_isa.c		pcic_isa

# Code common to ISA and ISAPnP attachments
file	dev/isa/i82365_isasubr.c	pcic_isa | pcic_isapnp | pcic_pci

#
# Machine-independent PCMCIA drivers
#
include "dev/pcmcia/files.pcmcia"

#
# ISA Bus devices
#

file	arch/alpha/isa/isa_machdep.c		isa

define	isadma_bounce
file	arch/alpha/isa/isadma_bounce.c		isadma_bounce & isa_dma

include	"dev/pckbc/files.pckbc"

#
# EISA Bus support
#

include	"dev/eisa/files.eisa"

file	arch/alpha/eisa/eisa_machdep.c		eisa


#
# PCI Bus support
#

# include "dev/pci/files.pci" XXX SEE ABOVE

file	arch/alpha/pci/pciide_machdep.c		pciide

define	alpha_pci_sgmap_pte64
file	arch/alpha/pci/pci_sgmap_pte64.c	alpha_pci_sgmap_pte64

device	apecs: pcibus, alpha_sgmap, alpha_pci_sgmap_pte64
attach	apecs at mainbus
file	arch/alpha/pci/apecs.c			apecs	needs-flag
file	arch/alpha/pci/apecs_bus_io.c		apecs
file	arch/alpha/pci/apecs_bus_mem.c		apecs
file	arch/alpha/pci/apecs_pci.c		apecs
file	arch/alpha/pci/apecs_dma.c		apecs

device	lca: pcibus, alpha_sgmap, alpha_pci_sgmap_pte64
attach	lca at mainbus
file	arch/alpha/pci/lca.c			lca	needs-flag
file	arch/alpha/pci/lca_bus_io.c		lca
file	arch/alpha/pci/lca_bus_mem.c		lca
file	arch/alpha/pci/lca_pci.c		lca
file	arch/alpha/pci/lca_dma.c		lca

device	cia: pcibus, alpha_sgmap, alpha_pci_sgmap_pte64
attach	cia at mainbus
file	arch/alpha/pci/cia.c			cia	needs-flag
file	arch/alpha/pci/cia_dma.c		cia
file	arch/alpha/pci/cia_pci.c		cia
file	arch/alpha/pci/cia_bus_io.c		cia
file	arch/alpha/pci/cia_bus_mem.c		cia
file	arch/alpha/pci/cia_bwx_bus_io.c		cia
file	arch/alpha/pci/cia_bwx_bus_mem.c	cia

device	irongate: pcibus, isadma_bounce
attach	irongate at mainbus
file	arch/alpha/pci/irongate.c		irongate
file	arch/alpha/pci/irongate_bus_io.c	irongate
file	arch/alpha/pci/irongate_bus_mem.c	irongate
file	arch/alpha/pci/irongate_dma.c		irongate
file	arch/alpha/pci/irongate_pci.c		irongate

device	tsc {}
attach	tsc at mainbus
file	arch/alpha/pci/tsc.c			tsc

device	tsciic: i2cbus, i2c_bitbang
attach	tsciic at tsc
file	arch/alpha/pci/tsciic.c			tsciic

device	tsp: pcibus, alpha_sgmap, alpha_pci_sgmap_pte64
attach	tsp at tsc
file	arch/alpha/pci/tsp_dma.c		tsp
file	arch/alpha/pci/tsp_pci.c		tsp
file	arch/alpha/pci/tsp_bus_io.c		tsp
file	arch/alpha/pci/tsp_bus_mem.c		tsp

device	mcpcia: pcibus, alpha_sgmap, alpha_pci_sgmap_pte64
attach	mcpcia at mcbus
file	arch/alpha/pci/mcpcia.c		mcpcia
file	arch/alpha/pci/mcpcia_bus_io.c	mcpcia
file	arch/alpha/pci/mcpcia_bus_mem.c	mcpcia
file	arch/alpha/pci/mcpcia_dma.c	mcpcia
file	arch/alpha/pci/mcpcia_pci.c	mcpcia

file	arch/alpha/pci/pci_2100_a50.c		dec_2100_a50
file	arch/alpha/pci/pci_axppci_33.c		dec_axppci_33
file	arch/alpha/pci/pci_eb164.c		dec_eb164
file	arch/alpha/pci/pci_eb164_intr.s		dec_eb164
file	arch/alpha/pci/pci_eb64plus.c		dec_eb64plus
file	arch/alpha/pci/pci_eb64plus_intr.s	dec_eb64plus
file	arch/alpha/pci/pci_kn20aa.c		dec_kn20aa
file	arch/alpha/pci/pci_kn300.c		dec_kn300
file	arch/alpha/pci/pci_550.c		dec_550
file	arch/alpha/pci/pci_1000a.c		dec_1000a
file	arch/alpha/pci/pci_1000.c		dec_1000
file	arch/alpha/pci/pci_6600.c		dec_6600
file	arch/alpha/pci/pci_alphabook1.c		dec_alphabook1
file	arch/alpha/pci/pci_up1000.c		api_up1000

#
# PCI Bus devices
#

file	arch/alpha/pci/pci_machdep.c		pci

device	sio: isabus, alpha_shared_intr, cy82c693
attach	sio at pci
device	pceb: isabus, eisabus, cy82c693
attach	pceb at pci
file	arch/alpha/pci/sio.c			sio | pceb	needs-flag
file	arch/alpha/pci/sio_pic.c		sio | pceb

device	hme: ether, ifnet, mii, ifmedia
file	dev/ic/hme.c			hme
attach	hme at pci with hme_pci 
file	dev/pci/if_hme_pci.c		hme_pci

#
# ISA PnP
#

include	"dev/isa/files.isapnp"
file	arch/alpha/isa/isapnp_machdep.c		isapnp

#
# Devices that can live on multiple busses
#

device	mcclock
attach	mcclock at ioasic with mcclock_ioasic
attach	mcclock at isa with mcclock_isa
file	arch/alpha/alpha/mcclock.c		mcclock
file	arch/alpha/tc/mcclock_ioasic.c		mcclock_ioasic
file	arch/alpha/isa/mcclock_isa.c		mcclock_isa

#
# Standard files
#

file	arch/alpha/alpha/autoconf.c
file	arch/alpha/alpha/clock.c
file	arch/alpha/alpha/conf.c
file	arch/alpha/alpha/db_disasm.c		ddb
file	arch/alpha/alpha/db_interface.c		ddb
file	arch/alpha/alpha/db_trace.c		ddb
file	arch/alpha/alpha/interrupt.c
file	arch/alpha/alpha/ipifuncs.c		multiprocessor
file	arch/alpha/alpha/lock_machdep.c		multiprocessor
file	arch/alpha/alpha/machdep.c
file	arch/alpha/alpha/mainbus.c
file	arch/alpha/alpha/locore.s
file	arch/alpha/alpha/mem.c
file	arch/alpha/alpha/pmap.c
file	arch/alpha/alpha/process_machdep.c
file	arch/alpha/alpha/prom.c
file	arch/alpha/alpha/sys_machdep.c
file	arch/alpha/alpha/trap.c
file	arch/alpha/alpha/fp_complete.c		!no_ieee
file	arch/alpha/alpha/vm_machdep.c
file	arch/alpha/alpha/disksubr.c
file	arch/alpha/dev/bus_dma.c
file	arch/alpha/alpha/mutex.c

#
# Network protocol checksum routines
#

file	arch/alpha/alpha/in_cksum.c

# XXX
file	arch/alpha/alpha/promcons.c

# XXX
file	arch/alpha/alpha/cpuconf.c
file	arch/alpha/alpha/dec_2100_a50.c		dec_2100_a50
file	arch/alpha/alpha/dec_21000.c		dec_21000
file	arch/alpha/alpha/dec_3000_300.c		dec_3000_300
file	arch/alpha/alpha/dec_3000_500.c		dec_3000_500
file	arch/alpha/alpha/dec_axppci_33.c	dec_axppci_33
file	arch/alpha/alpha/dec_eb164.c		dec_eb164
file	arch/alpha/alpha/dec_eb64plus.c		dec_eb64plus
file	arch/alpha/alpha/dec_kn20aa.c		dec_kn20aa
file	arch/alpha/alpha/dec_kn300.c		dec_kn300
file	arch/alpha/alpha/dec_550.c		dec_550	
file	arch/alpha/alpha/dec_alphabook1.c	dec_alphabook1
file	arch/alpha/alpha/dec_1000a.c		dec_1000 | dec_1000a
file	arch/alpha/alpha/dec_6600.c		dec_6600
file	arch/alpha/alpha/api_up1000.c		api_up1000

#
# Machine-independent HID support
#
include	"dev/hid/files.hid"

#
# Machine-independent I2C drivers
#
include "dev/i2c/files.i2c"

#
# Machine-independent USB drivers
#
include	"dev/usb/files.usb"

#
# Machine-independent 1-Wire drivers
#
include "dev/onewire/files.onewire"

# Machine-dependent libkern components
file	lib/libkern/softfloat.c			!no_ieee
file	lib/libkern/arch/alpha/__divl.S
file	lib/libkern/arch/alpha/__divlu.S
file	lib/libkern/arch/alpha/__divq.S
file	lib/libkern/arch/alpha/__divqu.S
file	lib/libkern/arch/alpha/__reml.S
file	lib/libkern/arch/alpha/__remlu.S
file	lib/libkern/arch/alpha/__remq.S
file	lib/libkern/arch/alpha/__remqu.S
@


1.103
log
@Move HID support files out of dev/usb into new dev/hid directory

These files aren't USB-specific and were used by the previous
Bluetooth implementation, and will be used by the upcoming
HID-over-i2C implementation

ok deraadt
previous version ok kettenis and mpi
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.102 2015/07/17 22:52:28 tedu Exp $
d300 1
@


1.102
log
@remove obsolete INET kernel option
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.101 2014/12/24 18:46:14 miod Exp $
d337 5
@


1.101
log
@tsciic(4): i2c controller onboard Tsunami and Titan chipsets, gives access to
the fan sensors on systems without RMC. From NetBSD, ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.100 2014/12/04 21:03:50 tedu Exp $
d316 1
a316 1
file	arch/alpha/alpha/in_cksum.c		inet
@


1.100
log
@as promised 18 years ago, consolidate isa floppy disks in files.isa
ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.99 2014/07/11 21:54:37 tedu Exp $
d214 4
@


1.99
log
@"It's not the years, honey; it's the mileage."

bluetooth support doesn't work and isn't going anywhere. the current
design is a dead end, and should not be the basis for any future support.
general consensus says to whack it so as to not mislead the unwary.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.98 2014/01/26 17:40:11 miod Exp $
d129 1
a155 11

# Floppy disk controller
#device	fdc {[drive = -1]}: isa_dma
device	fdc {[drive = -1]}
attach	fdc at isa
file	dev/isa/fdc.c				fdc needs-flag

device	fd: disk, isa_dma
attach	fd at fdc
file	dev/isa/fd.c				fd needs-flag
major	{fd = 4}
@


1.98
log
@Work in progress work towards SMP, heavily based upon NetBSD. The MP kernel
will boot multiuser, but will deadlock under load, and I can't find my
mistake yet.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.97 2013/11/04 14:07:15 deraadt Exp $
a352 5

#
# Bluetooth
#
include "dev/bluetooth/files.bluetooth"
@


1.97
log
@remove iop(4) driver.  it is entirely unmaintained and supports something
which basically doesn't exist at all.
reminded about it by brad
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.96 2013/08/15 06:54:35 kettenis Exp $
d303 1
@


1.96
log
@Include files.agp and files.drm from files.pci.  Makes sure "drm.h" gets
generated on all architectures that support pci, making alpha and loongson
compile again.

ok todd@@, miod@@ seemed to agree with the idea
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.95 2013/03/09 16:48:55 deraadt Exp $
a47 3

# I2O
include	"dev/i2o/files.i2o"
@


1.95
log
@remove unneccessary needs-flag
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.94 2013/03/09 02:10:47 deraadt Exp $
a183 2

include "dev/pci/files.agp"
@


1.94
log
@First steps towards alphabook1 support; from netbsd
miod did not disagree.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.93 2011/11/15 22:27:52 deraadt Exp $
d333 14
a346 14
file	arch/alpha/alpha/dec_2100_a50.c		dec_2100_a50	needs-flag
file	arch/alpha/alpha/dec_21000.c		dec_21000	needs-flag
file	arch/alpha/alpha/dec_3000_300.c		dec_3000_300	needs-flag
file	arch/alpha/alpha/dec_3000_500.c		dec_3000_500	needs-flag
file	arch/alpha/alpha/dec_axppci_33.c	dec_axppci_33	needs-flag
file	arch/alpha/alpha/dec_eb164.c		dec_eb164	needs-flag
file	arch/alpha/alpha/dec_eb64plus.c		dec_eb64plus	needs-flag
file	arch/alpha/alpha/dec_kn20aa.c		dec_kn20aa	needs-flag
file	arch/alpha/alpha/dec_kn300.c		dec_kn300	needs-flag
file	arch/alpha/alpha/dec_550.c		dec_550		needs-flag
file	arch/alpha/alpha/dec_alphabook1.c	dec_alphabook1	needs-flag
file	arch/alpha/alpha/dec_1000a.c		dec_1000 | dec_1000a	needs-flag
file	arch/alpha/alpha/dec_6600.c		dec_6600	needs-flag
file	arch/alpha/alpha/api_up1000.c		api_up1000	needs-flag
@


1.93
log
@Simplify various parts of the puc(4) attachment code.  Tested lightly
by krw and myself.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.92 2011/10/06 20:49:28 deraadt Exp $
a128 3
# XXX Dummy bus needed for some multi-homed devices specified in files.isa
define	pcmcia {}

d133 15
d257 1
d343 1
@


1.92
log
@ccd goes to the attic
discussed with jsing and millert
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.91 2010/12/06 20:10:17 jasper Exp $
a134 2

include	"dev/puc/files.puc"
@


1.91
log
@- use consistent 'include' rules without a full relative path.
tested on a GENERIC config from all arches.

ok deraadt@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.90 2010/06/30 20:38:49 tedu Exp $
a31 1
major	{ccd = 7}
@


1.90
log
@remove compat_osf1 support from the kernel
ok deraadt miod
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.89 2009/11/07 23:01:38 miod Exp $
d38 1
a38 1
include	"../../../dev/mii/files.mii"
d272 1
a272 1
include	"../../../dev/isa/files.isapnp"
@


1.89
log
@Blink leds on the DEC 3000 models (three different led types).
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.88 2008/11/09 15:11:18 oga Exp $
a335 4

# OSF/1 Binary Compatibility (COMPAT_OSF1)
include	"compat/osf1/files.osf1"
file	arch/alpha/alpha/osf1_locore.s		compat_osf1
@


1.88
log
@Rework that way that agp attaches.

previously, we had a static list of pcidevs and which agp driver would
be interanlly attached. Instead, split the agp drivers so they work like
audio(4), where we attach a driver, which sets up some callbacks and
initial state, then attaches the interface (agp(4)). Since this allows
us to attach different drivers in different places, and give them
/proper/ probe functions move most of the drivers back to attaching at
pchb, where they should, and intagp (formerly agp_i810) stays attaching
at vga, since it's part of the intel integrated graphics chips.

Diff shrinks the kernel slightly, gets rid of the annoying "no integrated
graphics" warning, and allows more cleanup later.

Tested by many. fix for alpha build (the only other vga_pci.c consumer)
suggested by miod.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.87 2008/07/19 18:13:04 miod Exp $
d100 1
a100 1
file	arch/alpha/tc/ioasic.c			ioasic
@


1.87
log
@Add code to walk the eisa configuration, from NetBSD. This configuration
is not used yet, but this seems to ``warm up'' the eisa chips so that
accesses to the eisa bus later do not cause machine checks.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.86 2008/05/20 08:03:53 kettenis Exp $
d175 2
@


1.86
log
@Remove stray "attach com at isapnp with com_isapnp".
ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.85 2008/03/21 18:44:13 deraadt Exp $
d166 2
@


1.85
log
@crank maxusers on some architectures
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.84 2007/12/29 16:59:13 miod Exp $
a269 2

attach	com at isapnp with com_isapnp
@


1.84
log
@Unifdef NO_IEEE in the libkern softfloat code, and put an appropriate rule
in files.alpha to compensate for NO_IEEE kernels.

This will allow the softfloat code to be used by other platforms than alpha.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.83 2007/11/25 18:25:25 deraadt Exp $
d9 1
a9 1
maxusers 2 8 64
@


1.83
log
@libkern, begone.  Move to a new mechanism where config(8)'s "file"
directive can select between MI and MD versions of these files.  At
the same time, adjust the boot programs to pick exactly what they need,
instead of the 7 or 8 mechanisms previously used.

There will be some fallout from this, but testing it all by myself is a
ridiculously slow process; it will be finished in-tree.

Various developers were very nice and avoided making fun of me when I
was gibbering in the corner..
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.82 2007/06/08 22:57:42 jasper Exp $
d360 1
a360 1
file	lib/libkern/softfloat.c
@


1.82
log
@include files.bluetooth, so that bluetooth support can be compiled,
if enabled.

ok gwk@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.81 2007/05/28 23:10:10 beck Exp $
d358 11
@


1.81
log
@Maintaining a broken compatibility layer for a broken OS is not a productive
activity for anyone. Bye bye COMPAT_NETBSD. ok tedu@@, deraadt@@, and many others
in the hackathon room.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.80 2007/05/05 21:05:43 martin Exp $
d348 5
@


1.80
log
@simple single-processor only mutex implementation

ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.79 2007/04/13 08:31:50 martin Exp $
a337 4

# NetBSD binary compatibility (COMPAT_NETBSD)
include	"../../../compat/netbsd/files.netbsd"
file	arch/alpha/alpha/netbsd_machdep.c	compat_netbsd
@


1.79
log
@get alpha SMP into a state where it at least compiles:

- add machine-dependent spinlock operations
- add basic interprocessor interrupt sending and receiving code

from NetBSD; ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.78 2007/03/16 21:22:27 robert Exp $
d308 1
@


1.78
log
@add DEC_KN300 support from NetBSD;

This code makes it possible to run on some of the AlphaServers,
namely AlphaServer 4100 and 1200.

add mcbus(4) and mcpcia(4) to provide support for the system bus and
the MCPCIA-to-PCI bus adapter that can be found in these systems

allow the pci_swiz_bus code to handle variable extent names
to be able to handle more than one mcpcia(4)

"just commit it" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.77 2006/09/27 06:33:03 grange Exp $
d295 1
@


1.77
log
@Add files.onewire to all our USB archs, it will be used soon.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.76 2006/08/13 23:00:38 miod Exp $
d15 2
a16 1
					dec_1000 | dec_1000a | dec_eb64plus
d71 1
d73 10
a82 1
include	"dev/tc/files.tc"
d224 8
d239 1
d327 1
@


1.76
log
@Make sure we generate sfb.h and cfb.h, even though support is not there yet.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.75 2006/08/07 18:58:37 miod Exp $
d329 5
@


1.75
log
@rcons removal fallout, spotted by kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.74 2006/06/19 15:13:33 deraadt Exp $
d92 3
a94 3
#device	cfb: wsemuldisplaydev, wsrasteremulops
#attach	cfb at tc
#file	arch/alpha/tc/cfb.c			cfb		needs-flag
d97 3
a99 3
#device	sfb: wsemuldisplaydev, wsrasteremulops
#attach	sfb at tc
#file	arch/alpha/tc/sfb.c			sfb		needs-flag
@


1.74
log
@move clock_subr.c to a better place, and now it is always in the kernel
so that things can use it; tested on all architectures; ok kettenis
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.73 2006/05/06 05:30:01 brad Exp $
d92 3
a94 3
device	cfb: wsemuldisplaydev, wsrasteremulops
attach	cfb at tc
file	arch/alpha/tc/cfb.c			cfb		needs-flag
d97 3
a99 3
device	sfb: wsemuldisplaydev, wsrasteremulops
attach	sfb at tc
file	arch/alpha/tc/sfb.c			sfb		needs-flag
@


1.73
log
@- Add vge(4), lge(4), hme(4), mtd(4), luphy(4) and ciphy(4)
- Move tl(4) and ste(4) out of the untested section
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.72 2006/02/23 23:54:59 miod Exp $
a286 1
file	dev/clock_subr.c
@


1.72
log
@Better dependency rules in files.alpha, also point to cpuconf.c in the
source tree instead of copying it to the kernel compilation directory for
no good reason.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.71 2006/02/23 20:14:14 miod Exp $
d238 5
@


1.71
log
@Only compile badaddr() if we have support for TurboChannel, apecs, cia or lca,
as they are the only users of badaddr(); shrinks RAMDISKB a little more.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.70 2006/02/12 21:09:06 miod Exp $
d163 1
a163 1
file	arch/alpha/pci/pciide_machdep.c		pci
d204 1
a204 1
file	arch/alpha/pci/tsc.c			dec_6600
d278 1
a278 1
file	arch/alpha/alpha/fp_complete.c
d294 1
a294 1
# file	arch/alpha/alpha/cpuconf.c
@


1.70
log
@Remove dead isabeep driver and unused isabeep() function.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.69 2005/12/27 23:18:59 deraadt Exp $
d78 1
a78 1
file	arch/alpha/tc/tcasic.c			tcasic
d170 1
a170 1
file	arch/alpha/pci/apecs.c			apecs
d178 1
a178 1
file	arch/alpha/pci/lca.c			lca
d186 1
a186 1
file	arch/alpha/pci/cia.c			cia
@


1.69
log
@enable some i2c bus drivers (piixpm(4), alipm(4), ichiic(4)) as needed
by each arch
enable adc(4), admtemp(4), admlc(4), admtm(4), admtmp(4), admtt(4),
adt(4), lm(4), lmenv(4), lmtemp(4), maxds(4), and maxtmp(4) iic chip
drivers too, which provide gobs of sensor info
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.68 2005/07/14 02:09:46 uwe Exp $
a135 3

device	isabeep
attach	isabeep at pcppi
@


1.68
log
@More netccitt and netns removals; OK henning, brad, mickey
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.67 2005/05/09 21:54:58 brad Exp $
d318 5
@


1.67
log
@- add alpha optimized in4_cksum
- de register and use ANSI prototypes

From NetBSD

ok miod@@ martin@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.66 2005/05/01 21:36:55 brad Exp $
a291 1
file	netns/ns_cksum.c			ns
@


1.66
log
@To allow for MD override of in4_cksum()...

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.65 2005/03/08 20:00:22 tdeval Exp $
a291 1
file	netinet/in4_cksum.c			inet
@


1.65
log
@Cosmetics...
Mainly remove space between locators parens, replace spaces with tabs
where appropriate and consistently align dependencies.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.64 2004/11/04 11:03:44 miod Exp $
a286 1

d288 1
a288 1
# Optional/miscellaneous files
d291 2
a292 2
file	arch/alpha/alpha/in_cksum.c		inet & !generic_in_cksum
file	netinet/in_cksum.c			inet & generic_in_cksum
@


1.64
log
@Stricter rules for isadma_bounce, shaves 4KB off a RAMDISKB kernel.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.63 2004/10/08 13:04:35 grange Exp $
d18 1
a18 1
file	arch/alpha/dev/sgmap_common.c alpha_sgmap | dec_3000_500
d24 1
a24 1
device	mainbus { }			# no locators (yet?)
d27 1
a27 1
device	cpu { }				# not really optional
d29 1
a29 1
file	arch/alpha/alpha/cpu.c		cpu
d31 2
a32 2
major { ccd = 7 }
major { vnd = 9 }
d37 1
a37 1
include "../../../dev/mii/files.mii"
d43 5
a47 5
include "scsi/files.scsi"
major { st = 2 }
major { cd = 3 }
major { sd = 8 }
major { rd = 6 }
d50 1
a50 1
include "dev/i2o/files.i2o"
d53 2
a54 2
include "dev/rasops/files.rasops"
include "dev/wsfont/files.wsfont"
d60 1
a60 1
include "dev/wscons/files.wscons"
d65 1
a65 1
include "dev/dec/files.dec"
d71 1
a71 1
include "dev/tc/files.tc"
d78 8
a85 8
file	arch/alpha/tc/tcasic.c		tcasic
file	arch/alpha/tc/tc_bus_mem.c	tcasic
file	arch/alpha/tc/tc_dma.c		tcasic
file	arch/alpha/tc/tc_dma_3000_300.c	tcasic & dec_3000_300
file	arch/alpha/tc/tc_dma_3000_500.c	tcasic & dec_3000_500
file	arch/alpha/tc/tc_sgmap.c	tcasic & dec_3000_500
file	arch/alpha/tc/tc_3000_500.c	tcasic & dec_3000_500
file	arch/alpha/tc/tc_3000_300.c	tcasic & dec_3000_300
d89 1
a89 1
file	arch/alpha/tc/ioasic.c		ioasic
d94 1
a94 1
file	arch/alpha/tc/cfb.c		cfb		needs-flag
d99 1
a99 1
file	arch/alpha/tc/sfb.c		sfb		needs-flag
d104 1
a104 1
file	arch/alpha/tc/scc.c		scc		needs-count
d116 2
a117 2
include "dev/atapiscsi/files.atapiscsi"
include "dev/ata/files.ata"
d122 3
a124 3
include "dev/pci/files.pci"	# XXX some ISA devs are 'at pci' too.
include "dev/isa/files.isa"
major { wd = 0 }
d126 1
a126 1
include "dev/puc/files.puc"
d132 1
a132 1
file	arch/alpha/isa/isa_machdep.c	isa
d134 2
a135 2
define isadma_bounce
file arch/alpha/isa/isadma_bounce.c	isadma_bounce & isa_dma
d137 2
a138 2
device isabeep
attach isabeep at pcppi
d140 1
a140 1
include "dev/pckbc/files.pckbc"
d146 1
a146 1
file	dev/isa/fdc.c	fdc needs-flag
d150 1
a150 1
file	dev/isa/fd.c	fd needs-flag
d157 1
a157 1
include "dev/eisa/files.eisa"
d166 1
a166 1
file    arch/alpha/pci/pciide_machdep.c  pci
d173 5
a177 5
file	arch/alpha/pci/apecs.c		apecs
file	arch/alpha/pci/apecs_bus_io.c	apecs
file	arch/alpha/pci/apecs_bus_mem.c	apecs
file	arch/alpha/pci/apecs_pci.c	apecs
file	arch/alpha/pci/apecs_dma.c	apecs
d181 5
a185 5
file	arch/alpha/pci/lca.c		lca
file	arch/alpha/pci/lca_bus_io.c	lca
file	arch/alpha/pci/lca_bus_mem.c	lca
file	arch/alpha/pci/lca_pci.c	lca
file	arch/alpha/pci/lca_dma.c	lca
d189 6
a194 6
file	arch/alpha/pci/cia.c		cia
file	arch/alpha/pci/cia_dma.c	cia
file	arch/alpha/pci/cia_pci.c	cia
file	arch/alpha/pci/cia_bus_io.c	cia
file	arch/alpha/pci/cia_bus_mem.c	cia
file	arch/alpha/pci/cia_bwx_bus_io.c	cia
d205 10
a214 10
device  tsc { }
attach  tsc at mainbus
file    arch/alpha/pci/tsc.c            dec_6600

device  tsp: pcibus, alpha_sgmap, alpha_pci_sgmap_pte64
attach  tsp at tsc
file    arch/alpha/pci/tsp_dma.c        tsp
file    arch/alpha/pci/tsp_pci.c        tsp
file    arch/alpha/pci/tsp_bus_io.c     tsp
file    arch/alpha/pci/tsp_bus_mem.c    tsp
d233 1
a233 1
file	arch/alpha/pci/pci_machdep.c	pci
d239 2
a240 2
file	arch/alpha/pci/sio.c		sio | pceb	needs-flag
file	arch/alpha/pci/sio_pic.c	sio | pceb
d246 2
a247 2
include "../../../dev/isa/files.isapnp"
file	arch/alpha/isa/isapnp_machdep.c	isapnp
d249 1
a249 1
attach  com at isapnp with com_isapnp
d258 3
a260 3
file	arch/alpha/alpha/mcclock.c	mcclock
file	arch/alpha/tc/mcclock_ioasic.c	mcclock_ioasic
file	arch/alpha/isa/mcclock_isa.c	mcclock_isa
d311 1
a311 1
file    arch/alpha/alpha/dec_6600.c             dec_6600	needs-flag
d315 1
a315 1
include "compat/osf1/files.osf1"
d319 1
a319 1
include "../../../compat/netbsd/files.netbsd"
d325 1
a325 1
include "dev/usb/files.usb"
@


1.63
log
@Move dev/cons.c to MI conf/files.

ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.62 2004/09/18 07:12:14 pvalchev Exp $
d135 1
a135 1
file arch/alpha/isa/isadma_bounce.c	isadma_bounce
@


1.62
log
@add puc; ok miod
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.61 2004/09/16 09:14:03 mickey Exp $
a285 1
file	dev/cons.c
@


1.61
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.60 2004/07/03 19:18:47 millert Exp $
d125 2
@


1.60
log
@Cruft removal; ed(4) has been dead for ages.  OK deraadt@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.59 2002/06/30 16:24:40 miod Exp $
d141 2
a142 2
#device	fdc {drive = -1}: isa_dma
device	fdc {drive = -1}
@


1.59
log
@AlphaServer 800 and 1000 support; from NetBSD. Tested by Tor Houghton.
Added to floppy31 still fits.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.58 2002/05/02 22:56:06 miod Exp $
a138 9

# National Semiconductor DS8390/WD83C690-based boards
# (WD/SMC 80x3 family, SMC Ultra [8216], 3Com 3C503, NE[12]000, and clones)
# XXX conflicts with other ports; can't be in files.isa
device	ed: ether, ifnet
attach	ed at isa with ed_isa
attach	ed at pcmcia with ed_pcmcia
attach	ed at pci with ed_pci
file	dev/isa/if_ed.c			ed & (ed_isa | ed_pcmcia | ed_pci) needs-flag
@


1.58
log
@Big TURBOchannel support catchup from NetBSD, part 1.
A few local changes and tweaks remain.

This bring DEC 3000 machines back in the game, but framebuffers are still
not supported at the moment.

Thanks to ericj@@ and nate@@ for supplying me a DEC 3000 for testing.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.57 2002/04/28 20:55:14 pvalchev Exp $
d15 1
a15 1
					dec_eb64plus
d231 2
d318 1
@


1.57
log
@IEEE 754 floating point completion code, and implementation of the
FP_C (Floating Point Control Quadword).

From ross@@NetBSD.  Added a way to disable it with option NO_IEEE,
which appears on the ramdisks to save space.  This affects only
programs compiled with -mieee, and what it essentially does is
enabling infinities and NaNs, instead of generating SIGFPE on
division by zero, overflow, etc.
ok art, deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.56 2002/03/23 14:14:25 deraadt Exp $
d63 6
a68 1
# TurboChannel Devices
d73 3
d80 4
d87 2
a88 3
# the TurboChannel IOCTL ASIC
device	ioasic { offset = -1 }
attach	ioasic at tc
d91 1
a91 1
# Color Frame buffer
d94 1
a94 1
file	arch/alpha/tc/cfb.c		cfb
d96 1
a96 1
# Smart Frame buffer
d99 1
a99 1
file	arch/alpha/tc/sfb.c		sfb
d106 1
a106 17
# the TCDS ASIC
device	tcds { slot = -1 }
attach	tcds at tc
file	arch/alpha/tc/tcds.c		tcds		needs-count

# 53C[F]90 SCSI
device asc: scsi
attach	asc at tcds
file	arch/alpha/tc/asc.c		asc		needs-count
file	arch/alpha/tc/tcds_dma.c	asc

# Baseboard Lance ethernet.
attach	le at ioasic with le_ioasic
attach	le at tc with le_tc
file	dev/tc/if_le_dec.c		(le_ioasic | le_tc)
file	dev/tc/if_le_ioasic.c		le_ioasic	needs-flag #for le_iomem
file	dev/tc/if_le_tc.c		le_tc
@


1.56
log
@typo repair; openbsd@@davidkrause.com
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.55 2002/02/09 07:05:53 ericj Exp $
d291 1
@


1.55
log
@
these functions are no longer needed
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.54 2002/01/23 03:20:41 ericj Exp $
d35 1
a35 1
# Media Indepedent Interface (mii)
@


1.54
log
@
add support for AlphaPC 64.
from NetBSD.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.53 2001/11/05 02:41:01 art Exp $
a288 1
file	arch/alpha/alpha/support.c
@


1.53
log
@irongate needs isadma bouncing.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.52 2001/11/05 02:39:56 art Exp $
d14 2
a15 1
					dec_kn20aa | dec_6600 | dec_550
d228 10
a237 8
file	arch/alpha/pci/pci_2100_a50.c	dec_2100_a50
file	arch/alpha/pci/pci_axppci_33.c	dec_axppci_33
file	arch/alpha/pci/pci_eb164.c	dec_eb164
file	arch/alpha/pci/pci_eb164_intr.s	dec_eb164
file	arch/alpha/pci/pci_kn20aa.c	dec_kn20aa
file	arch/alpha/pci/pci_550.c	dec_550
file	arch/alpha/pci/pci_6600.c	dec_6600
file	arch/alpha/pci/pci_up1000.c	api_up1000
d318 1
@


1.53.2.1
log
@Merge in -current, builds on i386, otherwise untested
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.54 2002/01/23 03:20:41 ericj Exp $
d14 1
a14 2
					dec_kn20aa | dec_6600 | dec_550 |
					dec_eb64plus
d227 8
a234 10
file	arch/alpha/pci/pci_2100_a50.c		dec_2100_a50
file	arch/alpha/pci/pci_axppci_33.c		dec_axppci_33
file	arch/alpha/pci/pci_eb164.c		dec_eb164
file	arch/alpha/pci/pci_eb164_intr.s		dec_eb164
file	arch/alpha/pci/pci_eb64plus.c		dec_eb64plus
file	arch/alpha/pci/pci_eb64plus_intr.s	dec_eb64plus
file	arch/alpha/pci/pci_kn20aa.c		dec_kn20aa
file	arch/alpha/pci/pci_550.c		dec_550
file	arch/alpha/pci/pci_6600.c		dec_6600
file	arch/alpha/pci/pci_up1000.c		api_up1000
a314 1
file	arch/alpha/alpha/dec_eb64plus.c		dec_eb64plus	needs-flag
@


1.53.2.2
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.53.2.1 2002/01/31 22:55:05 niklas Exp $
d35 1
a35 1
# Media Independent Interface (mii)
d63 1
a63 6
# Bus-independent support for DEC devices
#
include "dev/dec/files.dec"

#
# TURBOchannel Devices
a67 3
# TC attachment is MD
attach	tc at tcbus

a71 4
file	arch/alpha/tc/tc_dma.c		tcasic
file	arch/alpha/tc/tc_dma_3000_300.c	tcasic & dec_3000_300
file	arch/alpha/tc/tc_dma_3000_500.c	tcasic & dec_3000_500
file	arch/alpha/tc/tc_sgmap.c	tcasic & dec_3000_500
d75 3
a77 2
# the TURBOchannel IOCTL ASIC
# IOASIC device and attachment defined in sys/dev/tc/files.tc
d80 1
a80 1
# PMAG-B CX
d83 1
a83 1
file	arch/alpha/tc/cfb.c		cfb		needs-flag
d85 1
a85 1
# PMAGB-B HX or CXT
d88 1
a88 1
file	arch/alpha/tc/sfb.c		sfb		needs-flag
d95 17
a111 1
# TC and baseboard ioasic Lance ethernet are in files.tc
d289 1
a291 1
file	arch/alpha/alpha/fp_complete.c
@


1.53.2.3
log
@sync to -current
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.53.2.2 2002/06/11 03:33:40 art Exp $
d15 1
a15 1
					dec_1000 | dec_1000a | dec_eb64plus
a230 2
file	arch/alpha/pci/pci_1000a.c		dec_1000a
file	arch/alpha/pci/pci_1000.c		dec_1000
a315 1
file	arch/alpha/alpha/dec_1000a.c		dec_1000 | dec_1000a	needs-flag
@


1.52
log
@Code for isadma bouncing.
From NetBSD.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.51 2001/10/26 01:28:06 nate Exp $
d208 1
a208 1
device	irongate: pcibus
@


1.51
log
@First cut at a port of isadma and floppy driver.  ok art@@
From NetBSD via jay@@rootaction.net
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.50 2001/06/26 02:37:28 mickey Exp $
d135 1
d137 1
a137 1
file arch/alpha/isa/isadmabounce.c	isadma_bounce
@


1.50
log
@i2o or iop at pci fails
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.49 2001/05/11 07:55:30 deraadt Exp $
d135 5
d151 11
@


1.49
log
@more rd merge (headcolds suck)
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.48 2001/05/11 06:41:36 deraadt Exp $
d47 3
@


1.48
log
@unify
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.47 2001/04/14 17:51:41 art Exp $
a45 3

# RAM Disk
file	dev/rd.c			ramdisk_hooks
@


1.47
log
@Add support for Alpha Processor, Inc. UP1000.
From NetBSD.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.46 2001/03/21 17:26:38 art Exp $
d48 1
a48 1
file	arch/alpha/alpha/rd_root.c	ramdisk_hooks
@


1.46
log
@Move files from common to dev to be more like other archs
(and so that tab completion on "compile" works as on other archs. :))
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.45 2001/03/18 04:39:07 nate Exp $
d191 8
d217 1
d301 1
a301 1

@


1.45
log
@Enable rasops and wsfonts for alpha so TGA can use them
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.44 2001/03/07 22:01:20 ericj Exp $
d17 1
a17 1
file	arch/alpha/common/sgmap_common.c alpha_sgmap | dec_3000_500
d265 1
a265 1
file	arch/alpha/common/bus_dma.c
@


1.44
log
@
lca and apecs buses need sgmap glue as well.
pointed out by wasilx@@forest.ihep.su - PR1713
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.43 2001/02/16 05:17:31 jason Exp $
d50 4
@


1.43
log
@bring in netbsd bus_dma stuff for lca and apecs busses
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.42 2001/02/01 17:25:07 art Exp $
d161 1
a161 1
device	apecs: pcibus
d169 1
a169 1
device	lca: pcibus
@


1.42
log
@pckbc_isa seems to have moved to files.isa
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.41 2000/12/11 16:15:15 nate Exp $
d167 1
d175 1
@


1.41
log
@Some alphas have USB
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.40 2000/11/26 19:41:21 millert Exp $
a130 6

# ISA PC keyboard controller

# PC-like keyboard controller
attach	pckbc at isa with pckbc_isa
file	dev/isa/pckbc_isa.c		pckbc	needs-flag
@


1.40
log
@alpha clock fixes from NetBSD
Fixes ' no more 'WARNING: preposterous clock chip time' on 164SX
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.39 2000/11/25 00:38:31 art Exp $
d301 5
@


1.39
log
@pull in cy82c693 for sio and pceb
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.38 2000/11/16 15:52:32 ericj Exp $
d266 1
@


1.38
log
@update for recent conf/files update
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.37 2000/11/16 04:50:18 ericj Exp $
d216 1
a216 1
device	sio: isabus, alpha_shared_intr
d218 1
a218 1
device	pceb: isabus, eisabus
@


1.37
log
@
initial support for 21264 systems.
from NetBSD.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.35 2000/11/08 16:01:07 art Exp $
a134 3
device  pckbc { [slot = -1] }
file	dev/ic/pckbc.c			pckbc	needs-flag

@


1.36
log
@
configure vga console, keyboard and mouse once again. support coming soon.
@
text
@d14 1
a14 1
					dec_kn20aa | dec_550
d194 11
d211 1
d293 1
@


1.35
log
@Merge in big portions of the improvements NetBSD did to their alpha port.
Highlights: UVM, PMAP_NEW, bus_dma (only on some buses for now), new hardware
support, possiblity for ELF, etc, etc. Too much to mention.

This is still work in progress. video consoles might be broken, otherwise
we have basically the same functionality as before plus more.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.34 2000/08/12 20:11:32 ericj Exp $
d14 1
a14 1
					dec_kn20aa
d52 1
a52 1
# "wprkstation cpnsole" routines
a125 3
#file	arch/alpha/isa/isafcns_jensen.c	dec_2000_300


d130 3
a132 3
#device	ibus at mainbus { }
#device	jcombo at ibus: isabus
#device	jeisa at ibus: eisabus
d134 6
a139 1
file	arch/alpha/isa/isa_machdep.c	isa
d141 1
a141 11
device	pckbc { }
attach	pckbc at isa
file	arch/alpha/isa/pckbc.c		pckbc

device	pckbd
attach	pckbd at pckbc
file	arch/alpha/isa/pckbd.c		pckbd

device	pms
attach	pms at pckbc
file	arch/alpha/isa/pms.c		pms
a193 1

d281 1
@


1.34
log
@use osf sigcode for compat_osf1
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.33 2000/07/05 21:52:07 ericj Exp $
d16 3
a137 1
file    arch/alpha/pci/pciide_machdep.c  pci
d173 5
d192 1
a192 1
device	cia: pcibus
d195 2
d199 3
a201 1
file	arch/alpha/pci/cia_pci.c	cia
d208 1
a208 1

d257 1
a257 2
file	arch/alpha/alpha/pmap.c			new_pmap
file	arch/alpha/alpha/pmap.old.c		!new_pmap
d265 1
d289 1
@


1.33
log
@change these to use asc as well
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.32 2000/07/03 20:14:22 ericj Exp $
d281 1
@


1.32
log
@esp define was moved to conf/files
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.31 2000/07/03 19:30:20 mickey Exp $
d93 4
a96 3
attach	esp at tcds
file	arch/alpha/tc/esp.c		esp		needs-count
file	arch/alpha/tc/tcds_dma.c	esp
@


1.31
log
@closer approximation to an alpha using new wscons.
tga moved to dev/pci.
by request from alpha people.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.30 1999/11/08 15:36:07 mickey Exp $
a92 1
device	esp: scsi
@


1.30
log
@move MI definition of rd into it's MI place also fixing
attributes, allowing kernels to exist w/ rd as the only disk device.
tested on a few archs; niels@@ & millert@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.29 1999/09/14 01:05:24 kstailey Exp $
a48 7
# raster console routines
#

define	raster
include "dev/rcons/files.rcons"

#
d73 1
a73 1
device	cfb: raster, wsconsdev
d78 1
a78 1
device	sfb: raster, wsconsdev
a210 7

device	tga: raster, wsconsdev
attach	tga at pci
file	arch/alpha/pci/tga.c		tga		needs-flag
file	arch/alpha/pci/tga_conf.c	tga
file	arch/alpha/pci/tga_bt463.c	tga
file	arch/alpha/pci/tga_bt485.c	tga
@


1.30.2.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.47 2001/04/14 17:51:41 art Exp $
d14 1
a14 4
					dec_kn20aa | dec_6600 | dec_550

define	alpha_sgmap
file	arch/alpha/dev/sgmap_common.c alpha_sgmap | dec_3000_500
d48 6
a53 3
# Raster operations
include "dev/rasops/files.rasops"
include "dev/wsfont/files.wsfont"
d56 1
a56 1
# "workstation console" routines
d80 1
a80 1
device	cfb: wsemuldisplaydev, wsrasteremulops
d85 1
a85 1
device	sfb: wsemuldisplaydev, wsrasteremulops
d100 4
a103 4
device asc: scsi
attach	asc at tcds
file	arch/alpha/tc/asc.c		asc		needs-count
file	arch/alpha/tc/tcds_dma.c	asc
d130 3
d137 4
d142 1
d144 11
a154 1
include "dev/pckbc/files.pckbc"
d178 1
a178 6
file    arch/alpha/pci/pciide_machdep.c  pci

define	alpha_pci_sgmap_pte64
file	arch/alpha/pci/pci_sgmap_pte64.c	alpha_pci_sgmap_pte64

device	apecs: pcibus, alpha_sgmap, alpha_pci_sgmap_pte64
a183 1
file	arch/alpha/pci/apecs_dma.c	apecs
d185 1
a185 1
device	lca: pcibus, alpha_sgmap, alpha_pci_sgmap_pte64
a190 1
file	arch/alpha/pci/lca_dma.c	lca
d192 1
a192 1
device	cia: pcibus, alpha_sgmap, alpha_pci_sgmap_pte64
a194 2
file	arch/alpha/pci/cia_dma.c	cia
file	arch/alpha/pci/cia_pci.c	cia
d197 1
a197 21
file	arch/alpha/pci/cia_bwx_bus_io.c	cia
file	arch/alpha/pci/cia_bwx_bus_mem.c	cia

device	irongate: pcibus
attach	irongate at mainbus
file	arch/alpha/pci/irongate.c		irongate
file	arch/alpha/pci/irongate_bus_io.c	irongate
file	arch/alpha/pci/irongate_bus_mem.c	irongate
file	arch/alpha/pci/irongate_dma.c		irongate
file	arch/alpha/pci/irongate_pci.c		irongate

device  tsc { }
attach  tsc at mainbus
file    arch/alpha/pci/tsc.c            dec_6600

device  tsp: pcibus, alpha_sgmap, alpha_pci_sgmap_pte64
attach  tsp at tsc
file    arch/alpha/pci/tsp_dma.c        tsp
file    arch/alpha/pci/tsp_pci.c        tsp
file    arch/alpha/pci/tsp_bus_io.c     tsp
file    arch/alpha/pci/tsp_bus_mem.c    tsp
d204 1
a204 3
file	arch/alpha/pci/pci_550.c	dec_550
file	arch/alpha/pci/pci_6600.c	dec_6600
file	arch/alpha/pci/pci_up1000.c	api_up1000
d212 1
a212 1
device	sio: isabus, alpha_shared_intr, cy82c693
d214 1
a214 1
device	pceb: isabus, eisabus, cy82c693
d219 7
d260 2
a261 1
file	arch/alpha/alpha/pmap.c
a268 2
file	arch/alpha/dev/bus_dma.c
file	dev/clock_subr.c
a291 3
file	arch/alpha/alpha/dec_550.c		dec_550		needs-flag
file    arch/alpha/alpha/dec_6600.c             dec_6600	needs-flag
file	arch/alpha/alpha/api_up1000.c		api_up1000	needs-flag
a294 1
file	arch/alpha/alpha/osf1_locore.s		compat_osf1
a298 5

#
# Machine-independent USB drivers
#
include "dev/usb/files.usb"
@


1.30.2.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.30.2.1 2001/04/18 16:00:39 niklas Exp $
d46 3
a49 3

# I2O
include "dev/i2o/files.i2o"
@


1.30.2.3
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.30.2.2 2001/07/04 10:14:31 niklas Exp $
a134 5
define isadma_bounce
file arch/alpha/isa/isadmabounce.c	isadma_bounce

device isabeep
attach isabeep at pcppi
a145 11

# Floppy disk controller
#device	fdc {drive = -1}: isa_dma
device	fdc {drive = -1}
attach	fdc at isa
file	dev/isa/fdc.c	fdc needs-flag

device	fd: disk, isa_dma
attach	fd at fdc
file	dev/isa/fd.c	fd needs-flag
major	{fd = 4}
@


1.30.2.4
log
@Merge in -current
@
text
@d1 1
a1 1
#	$OpenBSD$
a134 1

d136 1
a136 1
file arch/alpha/isa/isadma_bounce.c	isadma_bounce
d207 1
a207 1
device	irongate: pcibus, isadma_bounce
@


1.30.2.5
log
@Merge in trunk
@
text
@d14 1
a14 2
					dec_kn20aa | dec_6600 | dec_550 |
					dec_eb64plus
d227 8
a234 10
file	arch/alpha/pci/pci_2100_a50.c		dec_2100_a50
file	arch/alpha/pci/pci_axppci_33.c		dec_axppci_33
file	arch/alpha/pci/pci_eb164.c		dec_eb164
file	arch/alpha/pci/pci_eb164_intr.s		dec_eb164
file	arch/alpha/pci/pci_eb64plus.c		dec_eb64plus
file	arch/alpha/pci/pci_eb64plus_intr.s	dec_eb64plus
file	arch/alpha/pci/pci_kn20aa.c		dec_kn20aa
file	arch/alpha/pci/pci_550.c		dec_550
file	arch/alpha/pci/pci_6600.c		dec_6600
file	arch/alpha/pci/pci_up1000.c		api_up1000
d286 1
a314 1
file	arch/alpha/alpha/dec_eb64plus.c		dec_eb64plus	needs-flag
@


1.30.2.6
log
@Sync the SMP branch with 3.3
@
text
@d15 1
a15 1
					dec_1000 | dec_1000a | dec_eb64plus
d35 1
a35 1
# Media Independent Interface (mii)
d63 1
a63 6
# Bus-independent support for DEC devices
#
include "dev/dec/files.dec"

#
# TURBOchannel Devices
a67 3
# TC attachment is MD
attach	tc at tcbus

a71 4
file	arch/alpha/tc/tc_dma.c		tcasic
file	arch/alpha/tc/tc_dma_3000_300.c	tcasic & dec_3000_300
file	arch/alpha/tc/tc_dma_3000_500.c	tcasic & dec_3000_500
file	arch/alpha/tc/tc_sgmap.c	tcasic & dec_3000_500
d75 3
a77 2
# the TURBOchannel IOCTL ASIC
# IOASIC device and attachment defined in sys/dev/tc/files.tc
d80 1
a80 1
# PMAG-B CX
d83 1
a83 1
file	arch/alpha/tc/cfb.c		cfb		needs-flag
d85 1
a85 1
# PMAGB-B HX or CXT
d88 1
a88 1
file	arch/alpha/tc/sfb.c		sfb		needs-flag
d95 17
a111 1
# TC and baseboard ioasic Lance ethernet are in files.tc
a235 2
file	arch/alpha/pci/pci_1000a.c		dec_1000a
file	arch/alpha/pci/pci_1000.c		dec_1000
a290 1
file	arch/alpha/alpha/fp_complete.c
a319 1
file	arch/alpha/alpha/dec_1000a.c		dec_1000 | dec_1000a	needs-flag
@


1.29
log
@signals
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.28 1999/09/12 14:15:16 kstailey Exp $
a44 2
pseudo-device rd
file	dev/ramdisk.c			rd		needs-flag
@


1.28
log
@Add COMPAT_NETBSD.  Currently only works for ELF64.  Many missing system calls.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.27 1999/08/08 19:17:27 deraadt Exp $
d300 1
@


1.27
log
@prepare for isapnp, if it ever really happens
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.26 1999/07/30 19:05:50 deraadt Exp $
d297 3
@


1.26
log
@acd goes away
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.25 1999/07/25 04:38:25 csapuntz Exp $
d234 2
@


1.25
log
@

Enable new ATA/ATAPISCSI functionality as default.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.24 1999/01/08 03:16:16 niklas Exp $
a120 2
#include "dev/atapi/files.atapi"
#major { acd = 4 }
@


1.24
log
@s/pcppi/pckbc/ due to conflict with "real" pcppi and as a step towards
sys/dev/pckbc.  Will probably still not coexist with pcppi but now alpha at
least configs.  I will come back here anyday and improve.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.23 1998/09/22 20:43:33 jason Exp $
d121 2
a122 2
include "dev/atapi/files.atapi"
major { acd = 4 }
d124 2
d146 1
a146 1
file     arch/alpha/pci/pciide_machdep.c  pci
@


1.23
log
@Add mii layer for alpha (needed by new fxp)
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.22 1998/07/01 02:44:11 angelos Exp $
d146 3
a148 3
device	pcppi { }
attach	pcppi at isa
file	arch/alpha/isa/pcppi.c		pcppi
d151 1
a151 1
attach	pckbd at pcppi
d155 1
a155 1
attach	pms at pcppi
@


1.22
log
@Add pciide_machdep.c; that file is taken from NetBSD (forgot to
mention in previous commit).
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.21 1998/04/07 22:07:42 deraadt Exp $
d29 5
@


1.21
log
@enable _insque and _remque; don
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.20 1998/04/04 22:06:14 deraadt Exp $
d139 1
@


1.20
log
@undo unapproved change
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.18 1998/01/06 23:37:56 niklas Exp $
d258 1
a258 1
#file	arch/alpha/alpha/support.c
@


1.19
log
@Include arch/alpha/support.c required by netiso/netccitt/netns
@
text
@d258 1
a258 1
file	arch/alpha/alpha/support.c
@


1.18
log
@Dummy PnP support, so alpha will compile
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.17 1997/11/10 04:01:25 mickey Exp $
d258 1
a258 1
#file	arch/alpha/alpha/support.c
@


1.17
log
@use files.wscons
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.16 1997/11/06 12:27:01 niklas Exp $
d221 7
@


1.16
log
@Add some missing things for the MI vga driver.  Move wscons to an MI place as
well.  $OpenBSD$ tagging
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.15 1997/11/06 02:53:44 niklas Exp $
d51 6
a56 2
file	dev/wscons/wscons_rinit.c	raster
file	dev/wscons/wscons_rops.c	raster
@


1.15
log
@We need an MI vga driver.  The alpha one was most MI.  Not entirely yet though.
Some files were move behind CVS back.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.14 1997/07/09 02:58:32 deraadt Exp $
d51 2
a52 15
file	arch/alpha/wscons/wscons_rinit.c	raster
file	arch/alpha/wscons/wscons_rops.c		raster


#
# "Workstation Console" glue; attaches frame buffer to emulator & kbd.
#
device	wscons
attach	wscons at wsconsdev
file	arch/alpha/wscons/wscons.c	wscons		needs-flag
file	arch/alpha/wscons/wscons_emul.c	wscons

file	arch/alpha/wscons/event.c	wscons
file	arch/alpha/wscons/kbd.c		wscons
file	arch/alpha/wscons/ms.c		wscons
@


1.14
log
@alpha/common/ insults my filec
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.13 1997/07/06 18:34:28 niklas Exp $
a10 4
# a wscons output device; used later, but needs to be near the top for
# common file (e.g. vga) definitions.
define  wsconsdev {[console = -1]}

a15 3
device	vga: wsconsdev
file	arch/alpha/dev/vga.c		vga

a160 3
attach	vga at isa with vga_isa
file	arch/alpha/isa/vga_isa.c	vga_isa		needs-flag

a229 5


attach	vga at pci with vga_pci
file	arch/alpha/pci/vga_pci.c	vga_pci		needs-flag

@


1.13
log
@DDB files + some major number specifications that were missing
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.12 1997/07/06 01:53:55 millert Exp $
d17 1
a17 1
file	arch/alpha/common/shared_intr.c	alpha_shared_intr | dec_eb164 |
d21 1
a21 1
file	arch/alpha/common/vga.c		vga
@


1.12
log
@maxpartitions 16
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.11 1997/04/13 04:52:33 millert Exp $
d34 2
d133 2
d141 1
d264 3
@


1.11
log
@Add support for PCI NE2000 clones.  I finally got around to doing this :-)
Tested on alpha, should work on i386 as well.  Note that we treat
a PCI NE2000 as a 16-bit card for now since the driver can not
deal with > 16 bit cards.  To fix this isa16bit in ed_softc needs to
be changed to bus_width (in bytes).  I plan to do this as part
of the split ed driver.
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.10 1997/03/25 08:00:43 niklas Exp $
d7 1
a7 1
maxpartitions 8
@


1.10
log
@Addition of the ed ethernet driver
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.9 1997/02/26 16:30:59 niklas Exp $
d172 2
a173 1
file	dev/isa/if_ed.c			ed & (ed_isa | ed_pcmcia) needs-flag
@


1.9
log
@Workaround for some weird cpp bug that made cpuconf.o builds fail
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.8 1997/01/24 19:57:03 niklas Exp $
d165 8
@


1.8
log
@Sync with NetBSD 961207
@
text
@d1 1
a1 1
#	$OpenBSD: files.alpha,v 1.7 1996/12/08 00:20:22 niklas Exp $
d278 1
a278 1
file	arch/alpha/alpha/cpuconf.c
@


1.7
log
@Merge to NetBSD 961107, i.e. mostly new bus.h
@
text
@d1 2
a2 2
#	$OpenBSD: files.alpha,v 1.6 1996/10/30 22:38:45 niklas Exp $
#	$NetBSD: files.alpha,v 1.27 1996/10/22 21:15:45 cgd Exp $
d11 11
d27 1
a27 1
device	mainbus { }	              # no locators (yet?)
d30 1
a30 1
device	cpu { }				# not really optional; can be a 'bus'
a62 1
define  wsconsdev {[console = -1]}
a71 1

d149 1
a149 6
device  pckbd
attach  pckbd at isa
file    arch/alpha/isa/pckbd.c           pckbd needs-flag
device  pms
attach  pms at isa
file    arch/alpha/isa/pms.c             pms needs-flag
d151 14
d182 2
d189 2
a192 3
file	arch/alpha/pci/apecs_lca_bus_io.c	apecs | lca
file	arch/alpha/pci/apecs_lca_bus_mem.c	apecs | lca

d201 3
a204 1
file	arch/alpha/pci/pci_axppci_33.c	dec_axppci_33
d213 1
a213 1
device	sio: isabus
d228 2
a229 3
device	pcivga: wsconsdev
attach	pcivga at pci
file	arch/alpha/pci/pcivga.c		pcivga		needs-flag
d278 8
a285 6
file	arch/alpha/alpha/dec_3000_500.c		dec_3000_500
file	arch/alpha/alpha/dec_3000_300.c		dec_3000_300
file	arch/alpha/alpha/dec_2100_a50.c		dec_2100_a50
file	arch/alpha/alpha/dec_kn20aa.c		dec_kn20aa
file	arch/alpha/alpha/dec_axppci_33.c	dec_axppci_33
file	arch/alpha/alpha/dec_21000.c		dec_21000
@


1.6
log
@Merge to NetBSD 961020.  Retained our kernel APIs where NetBSD has changed.
-Wall -Wstrict-prototypes -Wmissing-prototypes too.
@
text
@d1 2
a2 2
#	$OpenBSD: files.alpha,v 1.26 1996/09/27 17:14:35 cgd Exp $
#	$NetBSD: files.alpha,v 1.26 1996/09/27 17:14:35 cgd Exp $
a71 1
file	arch/alpha/tc/tc_bus_io.c	tcasic
@


1.5
log
@Bring forward alpha configuration files to 0722.  Add OpenBSD
tags. s/netbsd/bsd/.  Add ATAPI and dummy PCMCIA defines.
@
text
@d1 2
a2 2
#	$OpenBSD: files.alpha,v 1.19.4.2 1996/05/30 23:20:37 cgd Exp $
#	$NetBSD: files.alpha,v 1.19.4.2 1996/05/30 23:20:37 cgd Exp $
d6 1
a6 1
# maxpartitions must be first item in files.${ARCH}.newconf
d28 1
a28 1
include "../../../scsi/files.scsi"
d33 5
d44 1
a44 1
include "../../../dev/rcons/files.rcons"
d67 1
a67 1
include "../../../dev/tc/files.tc"
d122 1
a122 1
include "../../../dev/atapi/files.atapi"
d127 2
a128 2
include "../../../dev/pci/files.pci"	# XXX some ISA devs are 'at pci' too.
include "../../../dev/isa/files.isa"
d153 1
a153 1
include "../../../dev/eisa/files.eisa"
d160 1
a160 1
# include "../../../dev/pci/files.pci" XXX SEE ABOVE
d235 2
a236 1
file	arch/alpha/alpha/pmap.c
d239 1
a239 1
file	arch/alpha/alpha/support.c
d251 2
a252 1
file	arch/alpha/alpha/in_cksum.c		inet
d267 1
a267 1
include "../../../compat/osf1/files.osf1"
@


1.4
log
@sync to 0616, retaining local diffs
@
text
@d1 1
d113 8
@


1.3
log
@from netbsd; rename TC 'asic' to 'ioasic'
@
text
@d1 1
a1 1
#	$NetBSD: files.alpha,v 1.9 1995/12/20 00:14:19 cgd Exp $
d15 2
a16 1
device mainbus at root { }              # no locators (yet?)
d18 2
a19 1
device	cpu at mainbus { }		# not really optional; can be a 'bus'
a33 8
# ansi/sun console emulator
#

define	ansicons
file	dev/pseudo/ansicons.c		ansicons


#
d37 1
d39 2
a40 4

define	rcons
file	dev/pseudo/rcons_init.c		rcons
file	dev/pseudo/rcons_subr.c		rcons
a44 1
# XXX should be pseudo-device, with an ansicons attribute.
d46 9
a54 2
define	wsc				# XXX should be pseudo-dev
file	arch/alpha/pci/wscons.c		wsc		needs-flag
d63 2
a64 1
device tcasic at mainbus: tcbus
d66 4
a69 2
file	arch/alpha/tc/tc_3000_500.c	dec_3000_500
file	arch/alpha/tc/tc_3000_300.c	dec_3000_300
d72 12
a83 9
device ioasic at tc { offset = -1 }
file	arch/alpha/tc/ioasic.c		ioasic		needs-flag

# the TurboChannel clock (XXX)
# device clock at ioasic			# not really optional
#file	arch/alpha/alpha/clock.c	clock

# Smart Frame buffer (XXX NOT YET SUPPORTED)
device sfb at tc
d87 2
a88 1
device scc at ioasic
d92 2
a93 1
device tcds at tc { slot = -1 }
d97 2
a98 1
device esp at tcds: scsi
d103 5
a107 2
device le at ioasic, tc: ether, ifnet
file	dev/tc/if_le.c			le	needs-flag # for le_iomem
d113 1
d123 3
a125 3
device	ibus at mainbus { }
device	jcombo at ibus: isabus
device	jeisa at ibus: eisabus
d127 2
a128 1
device  pckbd at isa
d130 2
a131 1
device  pms at isa
d146 1
a146 1
include "../../../dev/pci/files.pci"
d148 2
a149 1
device	apecs at mainbus: pcibus
a150 1
file	arch/alpha/pci/apecs_isa.c	apecs
d153 10
a162 1
device	cia at mainbus: pcibus
d164 2
a165 1
file	arch/alpha/pci/cia_isa.c	cia
a167 5
device	lca at mainbus: pcibus
file	arch/alpha/pci/lca.c		lca
file	arch/alpha/pci/lca_isa.c	lca
file	arch/alpha/pci/lca_pci.c	lca

d179 6
a184 4
device	sio at pci: isabus
device	pceb at pci: eisabus
file	arch/alpha/pci/sio.c		sio pceb	needs-flag
file	arch/alpha/pci/sio_pic.c	sio pceb
d186 2
a187 1
device	tga at pci: rcons, wsc, ansicons
d189 4
d194 2
a195 1
device	pcivga at pci: wsc, ansicons
d203 6
a208 5
device clock at isa, ioasic				# not really optional
file	arch/alpha/alpha/clock.c	clock
file	arch/alpha/alpha/clock_mc.c	dec_3000_500 dec_2000_300 dec_3000_300
					dec_2100_a50 dec_kn20aa dec_axppci_33
					dec_21000
d215 1
a229 1
file	netinet/in_cksum.c
d236 2
a237 1
file	netns/ns_cksum.c		ns
@


1.2
log
@update to netbsd
@
text
@d1 1
a1 1
#	$NetBSD: files.alpha,v 1.8 1995/11/23 02:35:27 cgd Exp $
d62 5
a66 3
# the turbochannel bus itself
device tc at mainbus { slot = -1, offset = -1 }
file	arch/alpha/tc/tc.c		tc		needs-flag
a67 1
file	arch/alpha/tc/tc_3000_500.c	dec_3000_500
d70 2
a71 2
device asic at tc { offset = -1 }	# not really optional
file	arch/alpha/tc/asic.c		asic		needs-flag
d74 1
a74 1
# device clock at asic 			# not really optional
d82 1
a82 1
device scc at asic
d94 3
a96 4
# Baseboard Lance ethernet.  (XXX option slot lance)
device le at asic: ifnet, ether
file	arch/alpha/tc/if_le.c		le		needs-count

d176 1
a176 1
device clock at isa, asic				# not really optional
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$NetBSD: files.alpha,v 1.7 1995/09/20 00:20:18 thorpej Exp $
d20 1
d30 1
d34 1
d38 1
d42 3
a45 2
file	dev/pseudo/raster_op.c		rcons
file	dev/pseudo/raster_text.c	rcons
d49 1
d57 1
d70 1
a70 1
file	arch/alpha/tc/asic.c		asic
d97 10
d108 1
a108 1
# PCI-bearing chipsets and "necessary" files.
d111 24
a134 1
device	apecs at mainbus { }
d139 6
a144 1
device	lca at cpu { }
d146 2
a147 1
file	arch/alpha/pci/lca_pio.c	lca
d150 3
d155 1
a155 1
# PCI devices
a157 3
device	pci at apecs, lca {[bus = -1], [dev = -1]}

include "../../../dev/pci/files.pci"
d160 4
a163 3
device	sio at pci { }
file	arch/alpha/pci/sio.c		sio
file	arch/alpha/pci/sio_pic.c	sio
d171 1
d173 1
a173 1
# ISA Devices
a175 3
device	isa at sio {[port = -1], [size = 0],	# XXX
			[iomem = -1], [iosiz = 0],
			[irq = -1], [drq = -1]}
d177 4
a180 17

include "../../../dev/isa/files.isa"
file	arch/alpha/isa/isa_machdep.c	isa		needs-flag # XXX

#file	arch/alpha/isa/isafcns_jensen.c	dec_2000_300

device  pckbd at isa
file    arch/alpha/isa/pckbd.c           pckbd needs-flag
device  pms at isa
file    arch/alpha/isa/pms.c             pms needs-flag


#
# EISA Devices
#

#include "../../../dev/eisa/files.eisa"
d203 1
d205 1
a205 1
# Optional files
a209 4
file	arch/alpha/alpha/clock.c	clock
file	arch/alpha/alpha/clock_mc.c	dec_3000_500 dec_2000_300 dec_3000_300
					dec_2100_a50

d214 6
a219 3
file	arch/alpha/alpha/dec_3000_500.c	dec_3000_500
file	arch/alpha/alpha/dec_3000_300.c	dec_3000_300
file	arch/alpha/alpha/dec_2100_a50.c	dec_2100_a50
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
