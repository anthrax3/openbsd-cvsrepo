head	1.8;
access;
symbols
	SMP_SYNC_A:1.8
	SMP_SYNC_B:1.8
	UBC_SYNC_A:1.8
	UBC_SYNC_B:1.8
	SMP:1.8.0.2
	OPENBSD_2_1:1.7.0.2
	OPENBSD_2_1_BASE:1.7
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@ * @;


1.8
date	97.07.05.10.38.42;	author niklas;	state dead;
branches;
next	1.7;

1.7
date	97.01.24.19.57.54;	author niklas;	state Exp;
branches;
next	1.6;

1.6
date	96.12.08.00.20.44;	author niklas;	state Exp;
branches;
next	1.5;

1.5
date	96.10.30.22.40.11;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	96.07.29.23.00.48;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	96.06.18.09.44.33;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.12.14.03.53.35;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.49.45;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.49.45;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Remove obsolete files
@
text
@/*	$OpenBSD: pcivgavar.h,v 1.7 1997/01/24 19:57:54 niklas Exp $	*/
@


1.7
log
@Sync with NetBSD 961207
@
text
@d1 1
a1 1
/*	$OpenBSD: pcivgavar.h,v 1.6 1996/12/08 00:20:44 niklas Exp $	*/
@


1.6
log
@Merge to NetBSD 961107, i.e. mostly new bus.h
@
text
@d1 1
a1 62
/*	$OpenBSD: pcivgavar.h,v 1.5 1996/10/30 22:40:11 niklas Exp $	*/
/*	$NetBSD: pcivgavar.h,v 1.6 1996/10/23 04:12:30 cgd Exp $	*/

/*
 * Copyright (c) 1995, 1996 Carnegie-Mellon University.
 * All rights reserved.
 *
 * Author: Chris G. Demetriou
 * 
 * Permission to use, copy, modify and distribute this software and
 * its documentation is hereby granted, provided that both the copyright
 * notice and this permission notice appear in all copies of the
 * software, derivative works or modified versions, and any portions
 * thereof, and that both notices appear in supporting documentation.
 * 
 * CARNEGIE MELLON ALLOWS FREE USE OF THIS SOFTWARE IN ITS "AS IS" 
 * CONDITION.  CARNEGIE MELLON DISCLAIMS ANY LIABILITY OF ANY KIND 
 * FOR ANY DAMAGES WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
 * 
 * Carnegie Mellon requests users of this software to return to
 *
 *  Software Distribution Coordinator  or  Software.Distribution@@CS.CMU.EDU
 *  School of Computer Science
 *  Carnegie Mellon University
 *  Pittsburgh PA 15213-3890
 *
 * any improvements or extensions that they make and grant Carnegie the
 * rights to redistribute these changes.
 */

struct pcivga_devconfig {
	bus_space_tag_t	dc_iot;
	bus_space_tag_t	dc_memt;
	pci_chipset_tag_t dc_pc;

	pcitag_t	dc_pcitag;	/* PCI tag */

	bus_space_handle_t dc_ioh, dc_memh;

	int		dc_ncol, dc_nrow; /* screen width & height */
	int		dc_ccol, dc_crow; /* current cursor position */

	char		dc_so;		/* in standout mode? */
	char		dc_at;		/* normal attributes */
	char		dc_so_at;	/* standout attributes */
};
	
struct pcivga_softc {
	struct	device sc_dev;

	struct	pcivga_devconfig *sc_dc; /* device configuration */
	void	*sc_intr;		/* interrupt handler info */
};

#define	DEVICE_IS_PCIVGA(class, id)					\
	    (((PCI_CLASS(class) == PCI_CLASS_DISPLAY &&			\
	      PCI_SUBCLASS(class) == PCI_SUBCLASS_DISPLAY_VGA) ||	\
	     (PCI_CLASS(class) == PCI_CLASS_PREHISTORIC &&		\
	      PCI_SUBCLASS(class) == PCI_SUBCLASS_PREHISTORIC_VGA)) ? 1 : 0)

void    pcivga_console __P((bus_space_tag_t, bus_space_tag_t,
	    pci_chipset_tag_t, int, int, int));
@


1.5
log
@Merge to NetBSD 961020.  Retained our kernel APIs where NetBSD has changed.
-Wall -Wstrict-prototypes -Wmissing-prototypes too.
@
text
@d1 2
a2 2
/*	$OpenBSD: pcivgavar.h,v 1.5 1996/04/12 06:08:58 cgd Exp $	*/
/*	$NetBSD: pcivgavar.h,v 1.5 1996/04/12 06:08:58 cgd Exp $	*/
d32 2
a33 1
	bus_chipset_tag_t dc_bc;
d38 1
a38 2
	bus_io_handle_t	dc_ioh;
	bus_mem_handle_t dc_memh;
d61 2
a62 2
void    pcivga_console __P((bus_chipset_tag_t, pci_chipset_tag_t, int, int,
	    int));
@


1.4
log
@Add OpenBSD tags.  Adapt to OpenBSD *_intr_establish calling convention
@
text
@@


1.3
log
@sync to 0616, retaining local diffs
@
text
@d1 1
@


1.2
log
@update to netbsd
@
text
@d1 1
a1 1
/*	$NetBSD: pcivgavar.h,v 1.3 1995/11/23 02:38:13 cgd Exp $	*/
d4 1
a4 1
 * Copyright (c) 1995 Carnegie-Mellon University.
a29 2
#include <dev/pseudo/ansicons.h>

d31 2
a32 6
	__const struct pci_conf_fns *dc_pcf;
	void		*dc_pcfa;
	__const struct pci_mem_fns *dc_pmf;
	void		*dc_pmfa;
	__const struct pci_pio_fns *dc_ppf;
	void		*dc_ppfa;
d34 1
a34 1
	pci_tag_t	dc_pcitag;	/* PCI tag */
d36 2
a37 2
	u_int16_t	*dc_crtat;	/* VGA screen memory */
	int		dc_iobase;	/* VGA I/O address */
a44 2

	struct ansicons	dc_ansicons;	/* ansi console emulator info XXX */
a53 2
#define	PCIVGA_CURSOR_OFF	-1	/* pass to pcivga_cpos to disable */

d55 1
a55 1
	    ((PCI_CLASS(class) == PCI_CLASS_DISPLAY &&			\
d58 1
a58 1
	      PCI_SUBCLASS(class) == PCI_SUBCLASS_PREHISTORIC_VGA))
d60 2
a61 4
void    pcivga_console __P((__const struct pci_conf_fns *, void *, 
	    __const struct pci_mem_fns *, void *,
	    __const struct pci_pio_fns *, void *,
	    pci_bus_t, pci_device_t, pci_function_t));
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
/*	$NetBSD: pcivgavar.h,v 1.2 1995/08/03 01:17:21 cgd Exp $	*/
d30 2
d33 8
a40 1
	pcitag_t	dc_pcitag;	/* PCI tag */
d64 10
a73 6
void	pcivga_cursor __P((void *, int, int));
void	pcivga_putstr __P((void *, int, int, char *, int));
void	pcivga_copycols __P((void *, int, int, int,int));
void	pcivga_erasecols __P((void *, int, int, int));
void	pcivga_copyrows __P((void *, int, int, int));
void	pcivga_eraserows __P((void *, int, int));
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
