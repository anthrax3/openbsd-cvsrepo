head	1.24;
access;
symbols
	SMP_SYNC_A:1.24
	SMP_SYNC_B:1.24
	UBC_SYNC_A:1.24
	UBC_SYNC_B:1.24
	NIKLAS_UNDEAD:1.23.0.4
	OPENBSD_2_8:1.23.0.2
	OPENBSD_2_8_BASE:1.23
	OPENBSD_2_7:1.22.0.4
	OPENBSD_2_7_BASE:1.22
	SMP:1.22.0.2
	SMP_BASE:1.22
	kame_19991208:1.22
	OPENBSD_2_6:1.21.0.2
	OPENBSD_2_6_BASE:1.21
	OPENBSD_2_5:1.19.0.4
	OPENBSD_2_5_BASE:1.19
	OPENBSD_2_4:1.19.0.2
	OPENBSD_2_4_BASE:1.19
	OPENBSD_2_3:1.18.0.2
	OPENBSD_2_3_BASE:1.18
	OPENBSD_2_2:1.15.0.4
	OPENBSD_2_2_BASE:1.15
	OPENBSD_2_1:1.15.0.2
	OPENBSD_2_1_BASE:1.15
	OPENBSD_2_0:1.8.0.2
	OPENBSD_2_0_BASE:1.8
	PEFO_960624:1.1.1.1
	PEFO:1.1.1;
locks; strict;
comment	@# @;


1.24
date	2001.02.07.07.45.01;	author art;	state dead;
branches;
next	1.23;

1.23
date	2000.08.15.01.04.17;	author imp;	state Exp;
branches;
next	1.22;

1.22
date	99.11.08.15.36.07;	author mickey;	state Exp;
branches
	1.22.2.1;
next	1.21;

1.21
date	99.09.11.10.20.20;	author niklas;	state Exp;
branches;
next	1.20;

1.20
date	99.08.12.13.06.33;	author niklas;	state Exp;
branches;
next	1.19;

1.19
date	98.05.05.05.44.41;	author imp;	state Exp;
branches;
next	1.18;

1.18
date	98.03.16.09.38.38;	author pefo;	state Exp;
branches;
next	1.17;

1.17
date	98.01.28.13.46.03;	author pefo;	state Exp;
branches;
next	1.16;

1.16
date	97.12.27.12.13.13;	author niklas;	state Exp;
branches;
next	1.15;

1.15
date	97.05.18.13.45.24;	author pefo;	state Exp;
branches;
next	1.14;

1.14
date	97.04.10.16.29.12;	author pefo;	state Exp;
branches;
next	1.13;

1.13
date	97.03.23.11.34.32;	author pefo;	state Exp;
branches;
next	1.12;

1.12
date	97.03.12.19.16.49;	author pefo;	state Exp;
branches;
next	1.11;

1.11
date	96.12.11.12.59.29;	author niklas;	state Exp;
branches;
next	1.10;

1.10
date	96.11.30.13.39.41;	author niklas;	state Exp;
branches;
next	1.9;

1.9
date	96.11.28.23.35.40;	author niklas;	state Exp;
branches;
next	1.8;

1.8
date	96.09.24.21.30.00;	author niklas;	state Exp;
branches;
next	1.7;

1.7
date	96.09.19.00.30.37;	author imp;	state Exp;
branches;
next	1.6;

1.6
date	96.09.17.18.31.59;	author pefo;	state Exp;
branches;
next	1.5;

1.5
date	96.09.15.09.46.08;	author pefo;	state Exp;
branches;
next	1.4;

1.4
date	96.09.14.15.58.20;	author pefo;	state Exp;
branches;
next	1.3;

1.3
date	96.09.06.04.57.50;	author imp;	state Exp;
branches;
next	1.2;

1.2
date	96.06.24.20.05.35;	author pefo;	state Exp;
branches;
next	1.1;

1.1
date	96.06.24.09.07.20;	author pefo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.06.24.09.07.20;	author pefo;	state Exp;
branches;
next	;

1.22.2.1
date	2001.04.18.16.02.35;	author niklas;	state dead;
branches;
next	;


desc
@@


1.24
log
@We need to loose some weight.
If someone feels very opposed to this, the code is left in the Attic.
Just revive and _make_it_work_.
@
text
@#	$OpenBSD: files.arc,v 1.23 2000/08/15 01:04:17 imp Exp $
#
# maxpartitions must be first item in files.${ARCH}
#
maxpartitions 16

maxusers 2 8 64

#	Required files

file	arch/arc/arc/autoconf.c
file	arch/arc/arc/conf.c
file	arch/arc/dev/dma.c
file	arch/arc/arc/machdep.c
file	arch/arc/arc/pmap.c
file	arch/arc/arc/trap.c

file	arch/mips/mips/arcbios.c

#
# Media Independent Interface (mii)
#
include "../../../dev/mii/files.mii"

#
# Machine-independent ATAPI drivers
#

include "../../../dev/atapiscsi/files.atapiscsi"
include "../../../dev/ata/files.ata"

#
#	System BUS types
#
define	mainbus {}
device	mainbus
attach	mainbus at root
file	arch/mips/mips/mainbus.c	mainbus

#	Our CPU configurator
device	cpu
attach	cpu at mainbus			# not optional
file arch/mips/mips/cpu.c		cpu

#
#	PICA bus autoconfiguration devices
#
device	pica {}
attach	pica at mainbus			# optional
file	arch/arc/pica/picabus.c		pica

#
#	ALGOR bus autoconfiguration devices
#
device	algor {}
attach	algor at mainbus		# optional
file	arch/arc/algor/algorbus.c	algor

#
#	ISA Bus bridge
#
device	isabr {} : isabus
attach	isabr at mainbus		# optional
file	arch/arc/isa/isabus.c		isabr

#
#	PCI Bus bridge
#
device	pbcpcibr {} : pcibus
attach	pbcpcibr at mainbus		# optional
file	arch/arc/pci/pbcpcibus.c	pbcpcibr

#	Ethernet chip on PICA bus
device	sn
attach	sn at pica: ifnet, ether
file	arch/arc/dev/if_sn.c		sn	needs-count

#	Use machine independent SCSI driver routines
include	"../../../scsi/files.scsi"
major	{sd = 0}
major	{cd = 3}

#	Symbios 53C94 SCSI interface driver on PICA bus
device	asc: scsi
attach	asc at pica
file	arch/arc/dev/asc.c		asc	needs-count

#	Floppy disk controller on PICA bus
device	fdc {drive = -1}
attach	fdc at pica
device	fd: disk
attach	fd at fdc
file	arch/arc/dev/fd.c		fdc	needs-flag
major	{fd = 7}

#
#	Stock ISA bus support
#
define  pcmcia {}			# XXX dummy decl...

include	"../../../dev/pci/files.pci"
include	"../../../dev/isa/files.isa"
major	{ wd = 4 }

#	Real time clock, must have one..
device	clock
attach	clock at pica with clock_pica
attach	clock at isa with clock_isa
attach	clock at algor with clock_algor
file	arch/arc/arc/clock_mc.c	clock & (clock_isa | clock_pica | clock_algor) needs-flag

#	Console driver on PC-style graphics
device	pc: tty
attach	pc at pica with pc_pica
attach	pc at isa with pc_isa
device	pms: tty
attach	pms at pica
file	arch/arc/dev/pccons.c		pc & (pc_pica | pc_isa)	needs-flag

# BusLogic BT-445C VLB SCSI Controller. Special on TYNE local bus.
device  btl: scsi
attach  btl at isa
file    arch/arc/dti/btl.c              btl needs-count

# 8250/16[45]50-based "com" ports
attach	com at pica with com_pica
attach	com at algor with com_algor
file	arch/arc/dev/com_lbus.c		com & (com_pica | com_algor)

# Game adapter (joystick)
device  joy
attach  joy at isa
file    arch/arc/isa/joy.c             joy needs-flag

# PC parallel ports (XXX what chip?)
attach	lpt at pica with lpt_pica
attach	lpt at algor with lpt_algor
file	arch/arc/dev/lpt_lbus.c		lpt & (lpt_pica | lpt_algor)


#
#	PCI Bus support
#

# PCI VGA display driver
device	pcivga: tty
attach	pcivga at pci
file	arch/arc/pci/pci_vga.c		pcivga

#
# ISA PnP
#

include "../../../dev/isa/files.isapnp"
file	arch/arc/isa/isapnp_machdep.c	isapnp

#
# Specials.
#
# RAM disk for boot tape
file arch/arc/dev/rd_root.c		ramdisk_hooks
major {rd = 8}

#
#	Common files
#

file	dev/cons.c
file	dev/cninit.c
file	netinet/in_cksum.c
file	netns/ns_cksum.c			ns

file	compat/ultrix/ultrix_misc.c		compat_ultrix
file	compat/ultrix/ultrix_syscalls.c		compat_ultrix
file	compat/ultrix/ultrix_sysent.c		compat_ultrix

@


1.23
log
@+files.mii for ep
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.22 1999/11/08 15:36:07 mickey Exp $
@


1.22
log
@move MI definition of rd into it's MI place also fixing
attributes, allowing kernels to exist w/ rd as the only disk device.
tested on a few archs; niels@@ & millert@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.21 1999/09/11 10:20:20 niklas Exp $
d19 5
@


1.22.2.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.22 1999/11/08 15:36:07 mickey Exp $
@


1.21
log
@We do not use the ed driver anymore
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.20 1999/08/12 13:06:33 niklas Exp $
a155 2
pseudo-device rd
file dev/ramdisk.c			rd needs-flag
@


1.20
log
@Switchover to new IDE framework, and do away with ed finally
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.19 1998/05/05 05:44:41 imp Exp $
a128 1
file    dev/isa/if_ed.c                 ed & (ed_isa | ed_pcmcia) needs-flag
@


1.19
log
@First cut at joy.c port from i386
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.18 1998/03/16 09:38:38 pefo Exp $
d21 1
a21 1
#	Machine-independent ATAPI drivers 
d23 3
a25 2
include "../../../dev/atapi/files.atapi"
major	{ acd = 5 }
a128 7

# National Semiconductor DS8390/WD83C690-based boards
# (WD/SMC 80x3 family, SMC Ultra [8216], 3Com 3C503, NE[12]000, and clones)
# XXX conflicts with other ports; can't be in files.isa
device  ed: ether, ifnet
attach  ed at isa with ed_isa
attach  ed at pcmcia with ed_pcmcia
@


1.18
log
@DDB.

Support for Algorithmics R5000/R10000 evaluation board. So far only the
RM5260 is supported. RM5270 - RM7000 later. R5000 and R10000 depending
on access to cpu modules.

vm_machdep.c moved to arch/mips/mips.
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.17 1998/01/28 13:46:03 pefo Exp $
d124 4
@


1.17
log
@Moving around files for new mips arch layout
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.16 1997/12/27 12:13:13 niklas Exp $
a16 1
file	arch/arc/arc/vm_machdep.c
@


1.16
log
@PnP support
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.15 1997/05/18 13:45:24 pefo Exp $
a12 2
file	arch/arc/arc/cpu_exec.c
file	arch/arc/arc/disksubr.c
a14 2
file	arch/arc/arc/minidebug.c
file	arch/arc/arc/mem.c
a15 2
file	arch/arc/arc/process_machdep.c
file	arch/arc/arc/sys_machdep.c
d19 1
a19 1
file	arch/arc/arc/arcbios.c
d33 1
a33 1
file	arch/arc/arc/mainbus.c	mainbus
d38 1
a38 1
file arch/arc/arc/cpu.c			cpu
a104 1
file	arch/arc/arc/clock.c	clock & (clock_isa | clock_pica | clock_algor) needs-flag
@


1.15
log
@RAMDISK additions
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.14 1997/04/10 16:29:12 pefo Exp $
d155 7
@


1.14
log
@Attempt to clean up local devices.
Added support for new QED RT52x0 processors.
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.13 1997/03/23 11:34:32 pefo Exp $
d155 9
@


1.13
log
@Adding more arches require more structuring and cleanup. More to come...
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.12 1997/03/12 19:16:49 pefo Exp $
d150 5
@


1.12
log
@Addition of support for a PCI based Vr4300 board from Algorithmics, the P-4032.
Changes to io macros were done to handle sparse bus addressing dynamically.
This is a first cut (rough).
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.11 1996/12/11 12:59:29 niklas Exp $
d112 1
a112 1
file	arch/arc/arc/clock_mc.c	clock & (clock_isa | clock_pica) needs-flag
d125 1
a125 1
file    arch/arc/dti/btl.c                    btl needs-count
d130 1
a130 1
file	arch/arc/pica/com_pica.c	com_pica
d143 2
a144 1
file	arch/arc/pica/lpt_pica.c	lpt_pica
a145 1
#
@


1.11
log
@isadma belongs in files.isa
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.10 1996/11/30 13:39:41 niklas Exp $
d50 1
a50 1
attach	pica at mainbus			# 
d54 7
d64 1
a64 1
attach	isabr at mainbus
d67 8
a74 1
#	Ethernet chip
d84 1
a84 1
#	Machine dependent SCSI interface driver
d89 1
a89 1
#	Floppy disk controller
a100 1
define  pci {}				# XXX dummy decl...
d102 1
d110 2
a111 1
file	arch/arc/arc/clock.c	clock & (clock_isa | clock_pica) needs-flag
d129 1
d132 1
d145 8
@


1.10
log
@Com driver moved, still somewhat ISA-dependent though, but it will
improve.  Pica and PCMCIA-dependent stuff factored out.
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.9 1996/11/28 23:35:40 niklas Exp $
a58 2
#file    arch/arc/isa/isadma.c		isadma needs-flag
file    dev/isa/isadma.c		isadma needs-flag
@


1.9
log
@Adaption to new bus.h from NetBSD.  Various driver has been updated to
NetBSD 961107 state.  Other has not, partly because sometimes the bus.h
changes was coupled with other changes.
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.8 1996/09/24 21:30:00 niklas Exp $
d116 1
@


1.8
log
@add majors for wd & acd
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.7 1996/09/19 00:30:37 imp Exp $
d59 2
a60 1
file    arch/arc/isa/isadma.c		isadma needs-flag
a108 13
#	Serial driver for both ISA and LOCAL bus.
device  ace: tty
attach  ace at isa with ace_isa
attach  ace at commulti with ace_commulti
attach  ace at pica with ace_pica
file    arch/arc/dev/ace.c		ace & (ace_isa | ace_commulti | ace_pica) needs-flag 

# 	Parallel ports (XXX what chip?)
device  lpr
attach  lpr at isa with lpr_isa
attach	lpr at pica with lpr_pica
file	arch/arc/dev/lpr.c		lpr & (lpr_isa | lpr_pica) needs-flag

d114 3
d124 4
@


1.7
log
@Deskstation rPC44 tweaks
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.6 1996/09/17 18:31:59 pefo Exp $
d31 1
d91 1
@


1.6
log
@BusLogic BT445C driver for DeskStation's
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.5 1996/09/15 09:46:08 pefo Exp $
d122 1
a122 1
file    arch/dti/isa/btl.c                    btl needs-count
@


1.5
log
@Ok, ok! We now autosense system type. Same compiled kernel works on both
Deskstation TYNE and Acer PICA.
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.4 1996/09/14 15:58:20 pefo Exp $
d119 1
a119 1
# BusLogic BT-445C VLB SCSI Controller. Special on local bus.
d122 1
a122 1
file    arch/arc/isa/btl.c                    btl needs-count
@


1.4
log
@First shot at a multivendor kernel. This version handles pica's and desk-
station tyne's. Auto detection still needs to be compleeted.
Checked in version is hardwired for pica's. Use the PICA config file.
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.3 1996/09/06 04:57:50 imp Exp $
a10 1

a29 1

a31 1

a34 1

d49 1
a49 1
attach	pica at mainbus			# { slot = -1, offset = -1 }
d52 8
a81 9


#
#	ISA
#
device	isabr {} : isabus
attach	isabr at mainbus
file	arch/arc/isa/isabus.c		isabr
file    arch/arc/isa/isadma.c		isadma needs-flag
@


1.3
log
@Implement bios_ident() which will identify each type of CPU that we
support.  First cut at more complete ARC BIOS support.  bios_ident() will
eventually be table driven as soon as I generate the tables.

Much information on the BIOS calls has come from the Linux/MIPS MILO
boot loader.
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.2 1996/06/24 20:05:35 pefo Exp $
d5 1
a5 1
maxpartitions 8
a55 6
#	Real time clock, must have one..
device	clock
attach	clock at pica
file	arch/arc/arc/clock.c		clock
file	arch/arc/arc/clock_mc.c		clock

a70 7
#	Console driver on PC-style graphics
device	pc: tty
attach	pc at pica
device	pms: tty
attach	pms at pica
file	arch/arc/dev/pccons.c		pc	needs-count

d96 15
d123 13
@


1.2
log
@com.c -> local ace.c, lpt -> local lpr.c
@
text
@d1 1
a1 1
#	$OpenBSD: files.arc,v 1.1.1.1 1996/06/24 09:07:20 pefo Exp $
d25 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$OpenBSD$
d113 6
@


1.1.1.1
log
@Next try. ARC tree import. "New" Mips (spim) ARC compliant systems tree.
This tree will eventually suport viritualy all ARC compliant Mips systems,
that is all we can lay our hands on for porting/testing. It will supersede
the pica tree which will be removed shortly when this tree is functioning.
@
text
@@

