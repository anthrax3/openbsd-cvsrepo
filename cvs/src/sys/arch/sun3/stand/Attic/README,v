head	1.5;
access;
symbols
	SMP_SYNC_A:1.5
	SMP_SYNC_B:1.5
	UBC_SYNC_A:1.5
	OPENBSD_3_2:1.4.0.8
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.6
	OPENBSD_3_1_BASE:1.4
	UBC_SYNC_B:1.4
	UBC:1.4.0.4
	UBC_BASE:1.4
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_9:1.3.0.22
	OPENBSD_2_8:1.3.0.20
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.18
	OPENBSD_2_7_BASE:1.3
	SMP:1.3.0.16
	SMP_BASE:1.3
	kame_19991208:1.3
	OPENBSD_2_6:1.3.0.14
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.12
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.10
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.8
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.6
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.4
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.5
date	2002.12.31.16.35.41;	author miod;	state dead;
branches;
next	1.4;

1.4
date	2001.07.04.08.33.43;	author niklas;	state Exp;
branches
	1.4.4.1;
next	1.3;

1.3
date	95.12.14.05.26.53;	author deraadt;	state Exp;
branches
	1.3.16.1;
next	1.2;

1.2
date	95.11.19.13.53.09;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.51.56;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.51.56;	author deraadt;	state Exp;
branches;
next	;

1.3.16.1
date	2001.10.31.03.08.00;	author nate;	state Exp;
branches;
next	1.3.16.2;

1.3.16.2
date	2003.03.27.23.52.18;	author niklas;	state dead;
branches;
next	;

1.4.4.1
date	2003.05.19.21.49.45;	author tedu;	state dead;
branches;
next	;


desc
@@


1.5
log
@amiga and sun3 turned out to not be y2k+3 compliant here. Remove them, as
well as the few userland tools which were only used on these platforms.
@
text
@/*	$OpenBSD: README,v 1.4 2001/07/04 08:33:43 niklas Exp $ */
/*	$NetBSD: README,v 1.3 1995/11/17 23:23:45 gwr Exp $ */

The sun bootblocks are split into two parts: a small 1st-level program that
gets written right after the superblock in a partition (and is hence limited
in size to SBSIZE - DEV_BSIZE bytes), and a 2nd-level program that resides
in the filesystem proper.

The 1st-level program is loaded into memory by the PROM. It loads the second
stage program from a set of filesystem block numbers that are hard-coded
into it by the `installboot' program. The prototype code for the 1st-level
bootblocks are in `bootxx'.

The 2nd-level program (`ufsboot') is normally installed in the root FS
as `/ufsboot'. It uses the device drivers in the PROM and the stand-alone
filesystem code in `libsa.a' to locate and load the kernel.

Use the following command to install the 1st-level bootblocks in the
root filesystem (on `sd0a') using the file `/boot' as the second level
boot program:

	mount /dev/sd0a /mnt
	cd /usr/mdec
	cp -p ufsboot /mnt/ufsboot
	sync ; sleep 1 ; sync
	./installboot -v /mnt/ufsboot bootxx /dev/rsd0a

The above only works with securelevel <= 0 (see init.8 manual).

Status:

netboot works.

bootxx, installboot are tested and working.  It would be nice if
installboot would find the inumber for the 2nd stage boot program
without having the filesystem mounted so this command can work
with securelevel==1 (the default).  Doing this requies adding
code to read and do a directory lookup in the root...

@


1.4
log
@$OpenBSD$
@
text
@d1 1
a1 1
/*	$OpenBSD: README,v 1.3 1995/11/17 23:23:45 gwr Exp $ */
@


1.4.4.1
log
@sync
@
text
@d1 1
a1 1
/*	$OpenBSD: README,v 1.4 2001/07/04 08:33:43 niklas Exp $ */
@


1.3
log
@update from netbsd (verbatim)
@
text
@d1 1
@


1.3.16.1
log
@Sync the SMP branch to something just after 3.0
@
text
@a0 1
/*	$OpenBSD$ */
@


1.3.16.2
log
@Sync the SMP branch with 3.3
@
text
@d1 1
a1 1
/*	$OpenBSD: README,v 1.3.16.1 2001/10/31 03:08:00 nate Exp $ */
@


1.2
log
@from netbsd; just cleanup
@
text
@d1 1
a1 1
/*	$NetBSD: README,v 1.2.2.1 1995/11/18 06:47:34 gwr Exp $ */
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
/*	$NetBSD: README,v 1.2 1995/08/12 18:38:30 gwr Exp $ */
d22 4
a25 1
	installboot /mnt/ufsboot bootxx /dev/rsd0a
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
