head	1.8;
access;
symbols
	SMP_SYNC_A:1.8
	SMP_SYNC_B:1.8
	UBC_SYNC_A:1.8
	UBC_SYNC_B:1.8
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	SMP:1.5.0.14
	SMP_BASE:1.5
	kame_19991208:1.5
	OPENBSD_2_6:1.5.0.12
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.5.0.10
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.5.0.8
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.5.0.6
	OPENBSD_2_3_BASE:1.5
	OPENBSD_2_2:1.5.0.4
	OPENBSD_2_2_BASE:1.5
	OPENBSD_2_1:1.5.0.2
	OPENBSD_2_1_BASE:1.5;
locks; strict;
comment	@# @;


1.8
date	2000.05.26.00.44.21;	author miod;	state dead;
branches;
next	1.7;

1.7
date	2000.05.26.00.07.27;	author miod;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.30.15.27.57;	author miod;	state Exp;
branches;
next	1.5;

1.5
date	97.02.11.17.41.16;	author kstailey;	state Exp;
branches
	1.5.14.1;
next	1.4;

1.4
date	96.11.23.18.05.34;	author kstailey;	state Exp;
branches;
next	1.3;

1.3
date	96.11.23.07.54.48;	author kstailey;	state Exp;
branches;
next	1.2;

1.2
date	96.11.13.12.12.17;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	96.10.11.23.05.44;	author deraadt;	state Exp;
branches;
next	;

1.5.14.1
date	2001.05.14.21.37.23;	author niklas;	state dead;
branches;
next	;


desc
@@


1.8
log
@Use ../../../conf/GENERIC for standard set of options; general cleanup
@
text
@#	$OpenBSD: GENERIC_KGDB,v 1.7 2000/05/26 00:07:27 miod Exp $
#	$NetBSD: GENERIC_KGDB,v 1.1.2.1 1996/08/19 23:35:07 gwr Exp $

#
# GENERIC_KGDB Sun3 (3/50, 3/60, 3/110, 3/160, 3/260)
# like GENERIC but supports KGDB (gdb -k on other machine)
#

include "arch/sun3/conf/std.sun3"

# Machines to be supported by this kernel
option 		GENERIC
option 		FPU_EMULATE
option	 	HAVECACHE	# Sun3/260 VAC

# Needs to be set per system.  i.e change these as you see fit
maxusers	4

# Standard system options
option	 	KTRACE		# system call tracing support

# Debugging options.  Uncomment either this:
#option	 	DDB
# ... or these two: (for KGDB on another machine)
makeoptions DEBUG="-g"		# symbols for kgdb + nm
option	 	KGDB

# Filesystem options
option	 	NFSSERVER	# nfs server support
option	 	NFSCLIENT	# nfs client support
option	 	FFS		# ufs file system
#
option	 	CD9660		# ISO 9660 + Rock Ridge file system
option	 	FDESC		# /dev/fd/*
option	 	FIFO		# FIFOs; RECOMMENDED
option	 	KERNFS		# /kern
option	 	NULLFS		# loopback file system
option	 	PROCFS		# /proc
option	 	UNION		# union file system
option	 	MFS		# memory-based filesystem

# Networking options
option	 	INET		# IP prototol stack support
option		IPFILTER	# IP packet filter for security
option		IPFILTER_LOG	# use /dev/ipl to log IPF
#option		GATEWAY		# IP packet forwarding
#option	 	TCP_COMPAT_42	# TCP bug compatibility with 4.2BSD
# XXX - Work-around for root on slow SunOS/Sun3 servers (sigh...)
option	 	NFS_BOOT_RWSIZE=1024

# Compatability options
option	 	COMPAT_SUNOS	# can run SunOS 4.1.1 executables
option	 	COMPAT_43	# and 4.3BSD and ...
option	 	COMPAT_10	# NetBSD 1.0
option	 	COMPAT_11	# NetBSD 1.1
option	 	COMPAT_12	# NetBSD 1.2

# Sun3-specific debugging options
option	 	PMAP_DEBUG
#option	 	VMFAULT_TRACE
#option	 	SYSCALL_DEBUG
#option	 	EXEC_DEBUG
option	 	DIAGNOSTIC
#option	 	SCSIDEBUG

config		bsd swap generic

#
# Serial ports
#
zstty0 at zsc1 channel 0	# ttya
zstty1 at zsc1 channel 1	# ttyb

kbd0   at zsc0 channel 0	# keyboard
ms0    at zsc0 channel 1	# mouse

#
# Network devices
#

# Intel Ethernet (onboard, or VME)
ie0 at obio0 addr   0x0C0000 level 3
ie1 at vmes0 addr 0xffe88000 level 3 vect 0x75

# Lance Ethernet (only onboard)
le0 at obio0 addr   0x120000 level 3

#
# Disk and tape devices
#

# Sun3 "si" SCSI controller (NCR 5380)
# This driver has several flags which may be enabled by OR'ing
# the values and using the "flags" directive.  (PR#1929)
# Valid flags are:
#
#  0x01        Use DMA (may be polled)
#  0x02        Use DMA completion interrupts
#  0x04        Allow disconnect/reselect
#
# E.g. "flags 0x07" would enable DMA, interrupts, and reselect.
# Note: these values are quite a bit paranoid...
si0 at obio0 addr   0x140000 level 2
si0 at vmes0 addr 0xff200000 level 2 vect 0x40
si1 at vmes0 addr 0xff204000 level 2 vect 0x41

# Xylogics 7053 controllers
# xdc0 at vmel0 addr 0xffffee80 level 2 vect 0x44
# xdc1 at vmel0 addr 0xffffee90 level 2 vect 0x45
# xd* at xdc? drive ?

# Xylogics 450/451 controllers
# xyc0 at vmes0 addr 0xffffee40 level 2 vect 0x48
# xyc1 at vmes0 addr 0xffffee48 level 2 vect 0x49
# xy* at xyc? drive ?

# Xylogics 472 tape controllers?

#
# Frame buffer devices
#

# The default cgfour address depends on the machine:
# 3/60: obmem 0xFF200000 .. 0xFF9fffff
# 3/110: different? (not tested)
cgfour0 at obmem0 addr ?

# 3/60 P4 accelerated 8-bit color frame buffer
# cgsix0 at obmem0 addr ?

# 3/60 P4 24-bit color frame buffer
# cgeight0 at obmem0 addr ?

# The default bwtwo address depends on the machine:
# 3/50: obmem   0x100000
# else: obmem 0xff000000
bwtwo0 at obmem0 addr ?
# 3/60 P4 color frame buffer overlay plane, or P4 monochrome frame buffer
#bwtwo1 at obmem0 addr 0xff300000
# 3/60 plug-in color frame buffer overlay plane
#bwtwo1 at obmem0 addr 0xff400000

# Sun-3 color board, or CG5 8-bit VME frame buffer.
cgtwo0 at vmes0 addr 0xff400000 level 4 vect 0xA8

# Support for the CG9 24-bit VME frame buffer.
# cgnine0 at vmel0 addr 0x08000000

#
# SCSI infrastructure
#
scsibus* at scsi?

# Sun compatible scsi device mappings
sd0 at scsibus? target 0 lun 0
sd1 at scsibus? target 0 lun 1
sd2 at scsibus? target 1 lun 0
sd3 at scsibus? target 1 lun 1
sd* at scsibus? target ? lun ?

st0 at scsibus? target 4 lun 0
st1 at scsibus? target 5 lun 0
st* at scsibus? target ? lun ?

cd0 at scsibus? target 6 lun 0
cd* at scsibus? target ? lun ?

ch* at scsibus? target ? lun ?
ss* at scsibus? target ? lun ?
uk* at scsibus? target ? lun ?

pseudo-device	loop		1	# network loopback
pseudo-device	bpfilter 	8	# packet filter
pseudo-device	sl		2	# CSLIP
pseudo-device	ppp		2	# PPP
pseudo-device	tun		2	# network tunneling over tty
pseudo-device	enc		4	# encryption device

pseudo-device	pty		64	# pseudo-terminals
pseudo-device	vnd		4	# paging to files
pseudo-device	ksyms	1		# kernel symbols device

# for IPv6
pseudo-device	gif		4
#pseudo-device	faith		1
@


1.7
log
@Disable TCP 4.2 compatibility bugs by default
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_KGDB,v 1.6 2000/04/30 15:27:57 miod Exp $
@


1.6
log
@Add $OpenBSD$, update pseudo-device settings
@
text
@d1 1
a1 1
#	$OpenBSD$
d47 1
a47 1
option	 	TCP_COMPAT_42	# TCP bug compatibility with 4.2BSD
@


1.5
log
@no more VNODEPAGER #define
@
text
@d1 1
d12 3
a14 3
options 	GENERIC
options 	FPU_EMULATE
options 	HAVECACHE		# Sun3/260 VAC
d20 1
a20 1
options 	KTRACE				# system call tracing support
d23 1
a23 1
#options 	DDB
d25 2
a26 2
makeoptions DEBUG="-g"			# symbols for kgdb + nm
options 	KGDB
d29 12
a40 12
options 	NFSSERVER	# nfs server support
options 	NFSCLIENT	# nfs client support
options 	FFS		# ufs file system
#
options 	CD9660		# ISO 9660 + Rock Ridge file system
options 	FDESC		# /dev/fd/*
options 	FIFO		# FIFOs; RECOMMENDED
options 	KERNFS		# /kern
options 	NULLFS		# loopback file system
options 	PROCFS		# /proc
options 	UNION		# union file system
options 	MFS		# memory-based filesystem
d43 5
a47 3
options 	INET		# IP prototol stack support
#options	GATEWAY		# IP packet forwarding
options 	TCP_COMPAT_42	# TCP bug compatibility with 4.2BSD
d49 1
a49 1
options 	NFS_BOOT_RWSIZE=1024
d52 5
a56 5
options 	COMPAT_SUNOS	# can run SunOS 4.1.1 executables
options 	COMPAT_43	# and 4.3BSD and ...
options 	COMPAT_10	# NetBSD 1.0
options 	COMPAT_11	# NetBSD 1.1
options 	COMPAT_12	# NetBSD 1.2
d59 6
a64 7
options 	PMAP_DEBUG
#options 	VMFAULT_TRACE
#options 	SYSCALL_DEBUG
#options 	EXEC_DEBUG
options 	DIAGNOSTIC
#options 	SCSIDEBUG
options 	NCR5380_DEBUG
d82 1
a82 1
ie0 at obio0 addr ? level ?
d86 1
a86 1
le0 at obio0 addr ? level ?
d93 11
a103 1
si0 at obio0 addr ? level ?
d168 18
a185 14
#ch* at scsibus? target ? lun ?

# RAM-disk drivers
pseudo-device	rd	2

# Misc.
pseudo-device	loop	1		# network loopback
pseudo-device	bpfilter 8		# packet filter
pseudo-device	sl	2		# CSLIP
pseudo-device	ppp	2		# PPP
pseudo-device	tun	2		# network tunneling over tty

pseudo-device	pty	64		# pseudo-terminals
#pseudo-device	vnd	4		# paging to files
@


1.5.14.1
log
@Continue the aborted merge of current just before 2.9 was cut into the
SMP branch.  Note that this will not make any progress of SMP functionality,
it is just merging of new code from the trunk into the old branch.
Please do not ask me questions about SMP status because of this mail,
instead go read the archives of smp@@openbsd.org, where I mailed about
these commits some week ago.  Another note: I am doing this in chunks now,
so as to not lock too much of the tree for long times
@
text
@@


1.4
log
@include "std.sun3" -> include "arch/sun3/conf/std.sun3"
@
text
@a53 1
options 	UCONSOLE	# Allow non-root TIOCCONS
@


1.3
log
@sync with NetBSD
@
text
@d8 1
a8 1
include "std.sun3"
@


1.2
log
@kernel is bsd
@
text
@a18 1
options 	SWAPPAGER, VNODEPAGER, DEVPAGER	# paging
@


1.1
log
@sync + our changes
@
text
@d66 1
a66 1
config		netbsd swap generic
@
