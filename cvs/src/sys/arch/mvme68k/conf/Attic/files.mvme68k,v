head	1.39;
access;
symbols
	OPENBSD_5_5:1.38.0.4
	OPENBSD_5_5_BASE:1.38
	OPENBSD_5_4:1.36.0.2
	OPENBSD_5_4_BASE:1.36
	OPENBSD_5_3:1.35.0.10
	OPENBSD_5_3_BASE:1.35
	OPENBSD_5_2:1.35.0.8
	OPENBSD_5_2_BASE:1.35
	OPENBSD_5_1_BASE:1.35
	OPENBSD_5_1:1.35.0.6
	OPENBSD_5_0:1.35.0.4
	OPENBSD_5_0_BASE:1.35
	OPENBSD_4_9:1.35.0.2
	OPENBSD_4_9_BASE:1.35
	OPENBSD_4_8:1.34.0.2
	OPENBSD_4_8_BASE:1.34
	OPENBSD_4_7:1.33.0.2
	OPENBSD_4_7_BASE:1.33
	OPENBSD_4_6:1.33.0.4
	OPENBSD_4_6_BASE:1.33
	OPENBSD_4_5:1.31.0.2
	OPENBSD_4_5_BASE:1.31
	OPENBSD_4_4:1.29.0.10
	OPENBSD_4_4_BASE:1.29
	OPENBSD_4_3:1.29.0.8
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.29.0.6
	OPENBSD_4_2_BASE:1.29
	OPENBSD_4_1:1.29.0.4
	OPENBSD_4_1_BASE:1.29
	OPENBSD_4_0:1.29.0.2
	OPENBSD_4_0_BASE:1.29
	OPENBSD_3_9:1.28.0.2
	OPENBSD_3_9_BASE:1.28
	OPENBSD_3_8:1.26.0.4
	OPENBSD_3_8_BASE:1.26
	OPENBSD_3_7:1.26.0.2
	OPENBSD_3_7_BASE:1.26
	OPENBSD_3_6:1.24.0.2
	OPENBSD_3_6_BASE:1.24
	SMP_SYNC_A:1.23
	SMP_SYNC_B:1.23
	OPENBSD_3_5:1.23.0.8
	OPENBSD_3_5_BASE:1.23
	OPENBSD_3_4:1.23.0.6
	OPENBSD_3_4_BASE:1.23
	UBC_SYNC_A:1.23
	OPENBSD_3_3:1.23.0.4
	OPENBSD_3_3_BASE:1.23
	OPENBSD_3_2:1.23.0.2
	OPENBSD_3_2_BASE:1.23
	OPENBSD_3_1:1.22.0.2
	OPENBSD_3_1_BASE:1.22
	UBC_SYNC_B:1.23
	UBC:1.20.0.2
	UBC_BASE:1.20
	OPENBSD_3_0:1.18.0.2
	OPENBSD_3_0_BASE:1.18
	OPENBSD_2_9:1.16.0.2
	OPENBSD_2_9_BASE:1.16
	OPENBSD_2_8:1.15.0.2
	OPENBSD_2_8_BASE:1.15
	OPENBSD_2_7:1.13.0.4
	OPENBSD_2_7_BASE:1.13
	SMP:1.13.0.2
	SMP_BASE:1.13
	kame_19991208:1.11
	OPENBSD_2_6:1.10.0.2
	OPENBSD_2_6_BASE:1.10
	OPENBSD_2_5:1.9.0.10
	OPENBSD_2_5_BASE:1.9
	OPENBSD_2_4:1.9.0.8
	OPENBSD_2_4_BASE:1.9
	OPENBSD_2_3:1.9.0.6
	OPENBSD_2_3_BASE:1.9
	OPENBSD_2_2:1.9.0.4
	OPENBSD_2_2_BASE:1.9
	OPENBSD_2_1:1.9.0.2
	OPENBSD_2_1_BASE:1.9
	OPENBSD_2_0:1.6.0.2
	OPENBSD_2_0_BASE:1.6
	theo-1:1.1.1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.39
date	2014.03.18.22.36.34;	author miod;	state dead;
branches;
next	1.38;

1.38
date	2013.12.01.21.56.42;	author miod;	state Exp;
branches;
next	1.37;

1.37
date	2013.09.24.20.10.45;	author miod;	state Exp;
branches;
next	1.36;

1.36
date	2013.05.19.20.32.47;	author miod;	state Exp;
branches;
next	1.35;

1.35
date	2010.12.06.20.10.18;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2010.06.29.20.30.33;	author guenther;	state Exp;
branches;
next	1.33;

1.33
date	2009.03.01.22.08.13;	author miod;	state Exp;
branches;
next	1.32;

1.32
date	2009.03.01.21.40.49;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2009.02.18.20.48.00;	author miod;	state Exp;
branches;
next	1.30;

1.30
date	2009.02.17.22.28.38;	author miod;	state Exp;
branches;
next	1.29;

1.29
date	2006.04.21.22.21.53;	author miod;	state Exp;
branches;
next	1.28;

1.28
date	2005.11.27.14.19.07;	author miod;	state Exp;
branches;
next	1.27;

1.27
date	2005.09.21.21.08.34;	author miod;	state Exp;
branches;
next	1.26;

1.26
date	2005.03.08.20.00.23;	author tdeval;	state Exp;
branches;
next	1.25;

1.25
date	2004.10.08.13.04.36;	author grange;	state Exp;
branches;
next	1.24;

1.24
date	2004.07.10.03.40.33;	author deraadt;	state Exp;
branches;
next	1.23;

1.23
date	2002.04.21.23.43.18;	author miod;	state Exp;
branches;
next	1.22;

1.22
date	2002.02.22.22.45.30;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2001.12.20.19.02.29;	author miod;	state Exp;
branches;
next	1.20;

1.20
date	2001.11.30.20.58.18;	author miod;	state Exp;
branches
	1.20.2.1;
next	1.19;

1.19
date	2001.11.21.00.29.58;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2001.05.11.07.13.15;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2001.05.11.06.41.43;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	2001.02.18.17.41.02;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	2000.06.10.20.39.20;	author deraadt;	state Exp;
branches;
next	1.14;

1.14
date	2000.06.08.18.06.16;	author art;	state Exp;
branches;
next	1.13;

1.13
date	2000.01.25.04.18.17;	author smurph;	state Exp;
branches
	1.13.2.1;
next	1.12;

1.12
date	2000.01.24.05.20.53;	author smurph;	state Exp;
branches;
next	1.11;

1.11
date	99.11.08.15.36.09;	author mickey;	state Exp;
branches;
next	1.10;

1.10
date	99.08.17.22.47.14;	author mickey;	state Exp;
branches;
next	1.9;

1.9
date	97.03.31.00.23.56;	author downsj;	state Exp;
branches;
next	1.8;

1.8
date	96.12.20.08.26.26;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	96.12.11.21.04.59;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	96.06.30.17.39.44;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	96.05.27.21.48.08;	author chuck;	state Exp;
branches;
next	1.4;

1.4
date	96.05.10.12.42.21;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.04.28.11.22.55;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.11.07.08.42.23;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.51.10;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.51.10;	author deraadt;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	95.10.18.10.42.58;	author deraadt;	state Exp;
branches;
next	;

1.13.2.1
date	2001.04.18.16.10.20;	author niklas;	state Exp;
branches;
next	1.13.2.2;

1.13.2.2
date	2001.07.04.10.19.22;	author niklas;	state Exp;
branches;
next	1.13.2.3;

1.13.2.3
date	2001.12.05.00.39.11;	author niklas;	state Exp;
branches;
next	1.13.2.4;

1.13.2.4
date	2003.03.27.23.32.16;	author niklas;	state Exp;
branches;
next	;

1.20.2.1
date	2002.01.31.22.55.15;	author niklas;	state Exp;
branches;
next	1.20.2.2;

1.20.2.2
date	2002.06.11.03.36.49;	author art;	state Exp;
branches;
next	;


desc
@@


1.39
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@#	$OpenBSD: files.mvme68k,v 1.38 2013/12/01 21:56:42 miod Exp $

# config file for mvme68k

# maxpartitions must be first item in files.${ARCH}
maxpartitions 16

maxusers 2 8 64

device	mainbus {[addr = -1]}
attach	mainbus at root
file	arch/mvme68k/dev/mainbus.c

device	pcc {[offset = -1], [ipl = 0]}
attach	pcc at mainbus
file	arch/mvme68k/dev/pcc.c			pcc needs-count

device	pcctwo {[offset = -1], [ipl = 0]}
attach	pcctwo at mainbus
file	arch/mvme68k/dev/pcctwo.c		pcctwo needs-count

device	mc {[offset = -1], [ipl = 0]}
attach	mc at mainbus
file	arch/mvme68k/dev/mc.c			mc needs-count

device	lrc {[offset = -1], [ipl = 0]}
attach	lrc at mainbus
file	arch/mvme68k/dev/lrc.c			lrc needs-flag

device	ofobio {[offset = -1], [ipl = 0]}
attach	ofobio at mainbus
file	arch/mvme68k/dev/ofobio.c		ofobio needs-flag

device	clock
attach	clock at pcc, mc, pcctwo, lrc, ofobio
file	arch/mvme68k/dev/clock.c

device	zs {[channel = -1]}
attach	zs at pcc, mc
file	arch/mvme68k/dev/zs.c			zs needs-flag
file	dev/ic/z8530sc.c			zs

device	zstty: tty
attach	zstty at zs
file	dev/ic/z8530tty.c			zstty needs-flag

device	cl: tty
attach	cl at pcctwo
file	arch/mvme68k/dev/cl.c			cl needs-count

device	dart: tty
attach	dart at lrc with dartlrc
attach	dart at ofobio with dartofobio
file	arch/mvme68k/dev/dart.c			dart needs-flag
file	arch/mvme68k/dev/dart_lrc.c		dartlrc
file	arch/mvme68k/dev/dart_ofobio.c		dartofobio

device	vme {}
attach	vme at pcc, mc, pcctwo, lrc, ofobio
device	vmes {[addr = -1], [vec = -1], [ipl = 0]}
attach	vmes at vme
device	vmel {[addr = -1], [vec = -1], [ipl = 0]}
attach	vmel at vme
file	arch/mvme68k/dev/vme.c			vme | vmes | vmel
file	arch/mvme68k/dev/vmes.c			vmes needs-count
file	arch/mvme68k/dev/vmel.c			vmel needs-count

#device	vsb {}
#attach	vsb at lrc, ofobio
#file	arch/mvme68k/dev/vsb.c			vsb needs-flag

attach	le at pcc, vmes: le24
file	arch/mvme68k/dev/if_le.c		le

attach	ie at mc, pcctwo
file	arch/mvme68k/dev/if_ie.c		ie

include "scsi/files.scsi"

device	wdsc: wd33c93, scsi
attach	wdsc at pcc
file	arch/mvme68k/dev/wdsc.c			wdsc

device	ipic {manu = -1, prod = -1, [vec = -1], [ipl = 0]}
attach	ipic at mc
file	arch/mvme68k/dev/ipic.c			ipic

device	fooip
attach	fooip at ipic
file	arch/mvme68k/dev/fooip.c		fooip

attach	osiop at mc with osiop_mc
attach	osiop at pcctwo with osiop_pcctwo
file	arch/mvme68k/dev/osiop_mvme68k.c	osiop_mc | osiop_pcctwo

device	memc
attach	memc at mc, pcctwo
file	arch/mvme68k/dev/memc.c			memc

device	flash
attach	flash at mainbus
file	arch/mvme68k/dev/flash.c		flash needs-count

device	sram
attach	sram at mainbus
device	nvram
attach	nvram at pcc, mc, pcctwo, lrc, ofobio
file	arch/mvme68k/dev/sram.c			sram needs-count
file	arch/mvme68k/dev/nvram.c		nvram needs-count
file	arch/mvme68k/dev/memdevs.c		nvram | sram

device	lp
attach	lp at pcc
file	arch/mvme68k/dev/lp.c			lp needs-count

device	lptwo
attach	lptwo at pcctwo
file	arch/mvme68k/dev/lptwo.c		lptwo needs-count

#device	xdc {target = -1}
#attach	xdc at vmes
#device	xd: disk
#attach	xd at xdc
#file	arch/mvme68k/dev/xd.c			xd needs-flag

major	{sd = 4}
major	{cd = 6}
major	{vnd = 8}
major	{rd = 9}
#major	{xd = 10}

file	arch/mvme68k/mvme68k/autoconf.c
file	arch/mvme68k/mvme68k/bus_dma.c
file	arch/mvme68k/mvme68k/conf.c
file	arch/mvme68k/mvme68k/disksubr.c
file	arch/mvme68k/mvme68k/machdep.c
file	arch/mvme68k/mvme68k/mem.c
file	arch/m68k/m68k/pmap_motorola.c
file	arch/mvme68k/mvme68k/pmap_bootstrap.c
file	arch/mvme68k/mvme68k/sys_machdep.c
file	arch/mvme68k/mvme68k/trap.c
file	arch/mvme68k/mvme68k/vm_machdep.c
file	dev/cninit.c

file	arch/m68k/m68k/db_memrw.c		ddb

device	wl: tty
attach	wl at vmes
file	arch/mvme68k/dev/wl.c			wl needs-count

define	bpp
file	arch/mvme68k/dev/bpp.c			bpp

# MVME328
device	vs: scsi
attach	vs at vmes
file	arch/mvme68k/dev/vs.c			vs

# MVME327
device	vsbic: bpp, scsi
attach	vsbic at vmes
file	arch/mvme68k/dev/vsbic.c		vsbic
@


1.38
log
@switch mvme68k to the MI zs(4) driver.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.37 2013/09/24 20:10:45 miod Exp $
@


1.37
log
@Sync the MI LANCE code ( le(4) ) with NetBSD, except for the following:
- the am7990_get() - now lance_get() - is unchanged.
- the interrupt acknowledge logic is unchanged, and will disable interrupts,
  then acknowledge all interrupt conditions.

Add ILACC (79900) support (from NetBSD).

Both LANCE (am7990.c) and ILACC (am79900.c) code share as much common code
(lance.c) as possible. This affects all le(4) attachments, but the changes
are mostly mechanical, to split am7990-specific parts from lance-agnostic
parts.

Compile tested on all affected platforms. Tested on alpha, hp300, luna88k,
mvme88k, sparc, sparc64 and vax.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.36 2013/05/19 20:32:47 miod Exp $
d38 1
a38 1
device	zs: tty
d40 6
a45 1
file	arch/mvme68k/dev/zs.c			zs needs-count
@


1.36
log
@Switch mvme68k to MI wdsc(4) driver. Tested on MVME147.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.35 2010/12/06 20:10:18 jasper Exp $
d67 1
a67 1
attach	le at pcc, vmes
@


1.35
log
@- use consistent 'include' rules without a full relative path.
tested on a GENERIC config from all arches.

ok deraadt@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.34 2010/06/29 20:30:33 guenther Exp $
d75 1
a75 1
device	wdsc: scsi
a76 1
file	arch/mvme68k/dev/sbic.c			wdsc
@


1.34
log
@Remove COMPAT_HPUX.  No one wanted to support it and its fewmets were
blocking other cleanups
ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.33 2009/03/01 22:08:13 miod Exp $
d73 1
a73 1
include "../../../scsi/files.scsi"
@


1.33
log
@Support for MVME141 boards. Tested with both VME and VSB memory boards
(and MVME327 SCSI and MVME376 Ethernet, to provide a complete system).
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.32 2009/03/01 21:40:49 miod Exp $
a141 6

# Compatibility modules

# HP-UX binary compatibility
include	"compat/hpux/m68k/files.hpux"
file	arch/mvme68k/mvme68k/hpux_machdep.c	compat_hpux
@


1.32
log
@Support for MVME165 board - code written in april 2006, eventually debugged
last month.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.31 2009/02/18 20:48:00 miod Exp $
d30 4
d35 1
a35 1
attach	clock at pcc, mc, pcctwo, lrc
d48 1
d51 1
d54 1
a54 1
attach	vme at pcc, mc, pcctwo, lrc
d64 1
a64 1
#attach	vsb at lrc
d103 1
a103 1
attach	nvram at pcc, mc, pcctwo, lrc
@


1.31
log
@delay() would only work as intended after clock0 attached. Initialize the
delay strategy variable in locore now; this fixes the occasional console
output artefacts on MVME177.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.30 2009/02/17 22:28:38 miod Exp $
d26 4
d31 1
a31 1
attach	clock at pcc, mc, pcctwo
d42 4
d48 1
a48 1
attach	vme at pcc, mc, pcctwo
d57 4
d97 1
a97 1
attach	nvram at pcc, mc, pcctwo
@


1.30
log
@Add real bus_space and bus_dma to mvme68k, so that it can benefit from
recent driver work; this gives us better osiop and vs drivers, vsbic
(although currently disabled on 68060 boards until more bugs are fixed),
and the ability to boot and root off vs and vsbic.

Existing code is not modified and still uses memory mapped structures;
this might change eventually as more code gets factorized and moved to
MI land.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.29 2006/04/21 22:21:53 miod Exp $
d28 1
a28 1
file	arch/mvme68k/dev/clock.c		clock
@


1.29
log
@Since bugtty (and BUG routines in general) can only work if we keep the BUG
mapped, and we don't, do not bother carrying this code around - it can not
be used anyway.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.28 2005/11/27 14:19:07 miod Exp $
d12 1
d70 3
a72 4
device	ssh: scsi
attach	ssh at mc, pcctwo
file	arch/mvme68k/dev/sshdma.c		ssh
file	arch/mvme68k/dev/ssh.c			ssh
d111 1
d135 4
d142 5
a146 1
file	arch/mvme68k/dev/vsdma.c		vs
@


1.28
log
@Get rid of the `len' locator for VME devices, since mappings have a page
granularity anyway; devices who would want more than one page mapped in
order to probe for the hardware can take appropriate action in their cfmatch
routine anyway.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.27 2005/09/21 21:08:34 miod Exp $
a36 4
device	bugtty: tty
attach	bugtty at mainbus
file	arch/mvme68k/dev/bugtty.c		bugtty needs-count
file	arch/mvme68k/dev/bug.c			bugtty
@


1.27
log
@isbad() is only used on SMD disks on sparc; remove it on other platforms.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.26 2005/03/08 20:00:23 tdeval Exp $
d44 1
a44 1
device	vmes {[addr = -1], [len = -1], [vec = -1], [ipl = 0]}
d46 1
a46 1
device	vmel {[addr = -1], [len = -1], [vec = -1], [ipl = 0]}
@


1.26
log
@Cosmetics...
Mainly remove space between locators parens, replace spaces with tabs
where appropriate and consistently align dependencies.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.25 2004/10/08 13:04:36 grange Exp $
a116 1
file	arch/mvme68k/mvme68k/dkbad.c
@


1.25
log
@Move dev/cons.c to MI conf/files.

ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.24 2004/07/10 03:40:33 deraadt Exp $
d10 2
a11 2
device mainbus { [addr = -1] }
attach mainbus at root
d13 35
a47 35
device pcc { [offset = -1], [ ipl = 0 ] }
attach pcc at mainbus
file arch/mvme68k/dev/pcc.c			pcc needs-count

device pcctwo { [offset = -1], [ ipl = 0 ] }
attach pcctwo at mainbus
file arch/mvme68k/dev/pcctwo.c			pcctwo needs-count

device mc { [offset = -1], [ ipl = 0 ] }
attach mc at mainbus
file arch/mvme68k/dev/mc.c			mc needs-count

device clock
attach clock at pcc, mc, pcctwo
file arch/mvme68k/dev/clock.c			clock

device zs: tty
attach zs at pcc, mc
file arch/mvme68k/dev/zs.c			zs needs-count

device cl: tty
attach cl at pcctwo
file arch/mvme68k/dev/cl.c			cl needs-count

device bugtty: tty
attach bugtty at mainbus
file arch/mvme68k/dev/bugtty.c			bugtty needs-count
file arch/mvme68k/dev/bug.c			bugtty

device vme { }
attach vme at pcc, mc, pcctwo
device vmes { [addr = -1], [len = -1], [vec = -1], [ipl = 0] }
attach vmes at vme
device vmel { [addr = -1], [len = -1], [vec = -1], [ipl = 0] }
attach vmel at vme
d53 1
a53 1
file    arch/mvme68k/dev/if_le.c		le
d55 2
a56 2
attach ie at mc, pcctwo
file    arch/mvme68k/dev/if_ie.c		ie
d60 2
a61 2
device wdsc: scsi
attach wdsc at pcc
d65 2
a66 2
device ipic { manu = -1, prod = -1, [vec = -1], [ipl = 0] }
attach ipic at mc
d69 2
a70 2
device fooip
attach fooip at ipic
d73 2
a74 2
device ssh: scsi
attach ssh at mc, pcctwo
d78 2
a79 2
device memc
attach memc at mc, pcctwo
d82 2
a83 2
device flash
attach flash at mainbus
d86 4
a89 4
device sram
attach sram at mainbus
device nvram
attach nvram at pcc, mc, pcctwo
d94 2
a95 2
device lp
attach lp at pcc
d98 2
a99 2
device lptwo
attach lptwo at pcctwo
d102 4
a105 4
#device xdc {target = -1}
#attach xdc at vmes
#device xd: disk
#attach xd at xdc
d108 18
a125 18
major { sd = 4 }
major { cd = 6 }
major { vnd = 8 }
major { rd = 9 }
#major { xd = 10 }

file arch/mvme68k/mvme68k/autoconf.c
file arch/mvme68k/mvme68k/conf.c
file arch/mvme68k/mvme68k/disksubr.c
file arch/mvme68k/mvme68k/dkbad.c
file arch/mvme68k/mvme68k/machdep.c
file arch/mvme68k/mvme68k/mem.c
file arch/m68k/m68k/pmap_motorola.c
file arch/mvme68k/mvme68k/pmap_bootstrap.c
file arch/mvme68k/mvme68k/sys_machdep.c
file arch/mvme68k/mvme68k/trap.c
file arch/mvme68k/mvme68k/vm_machdep.c
file dev/cninit.c
d127 1
a127 1
file arch/m68k/m68k/db_memrw.c			ddb
d135 3
a137 3
device wl: tty
attach wl at vmes
file arch/mvme68k/dev/wl.c			wl needs-count
d139 2
a140 2
device vs: scsi
attach vs at vmes
@


1.24
log
@files.hpux is now in a {m68k,hppa} subdir
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.23 2002/04/21 23:43:18 miod Exp $
a124 1
file dev/cons.c
@


1.23
log
@Add a maxusers line, and comment out xd lines.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.22 2002/02/22 22:45:30 miod Exp $
d133 1
a133 1
include	"compat/hpux/files.hpux"
@


1.22
log
@Switch mvme68k to pmap_motorola again.
68060 operation tested by deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.21 2001/12/20 19:02:29 miod Exp $
d8 2
d76 1
a76 1
file	arch/mvme68k/dev/ssh.c		ssh
d102 5
a106 5
device xdc {target = -1}
attach xdc at vmes
device xd: disk
attach xd at xdc
file	arch/mvme68k/dev/xd.c			xd needs-flag
d112 1
a112 1
major { xd = 10 }
@


1.21
log
@Temporarily revert the pmap_motorola changes, as they may account for
some problems as well.
Requested by deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.20 2001/11/30 20:58:18 miod Exp $
d118 1
a118 1
file arch/mvme68k/mvme68k/pmap.c
@


1.20
log
@Switch to pmap_motorola.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.19 2001/11/21 00:29:58 miod Exp $
d118 1
a118 1
file arch/m68k/m68k/pmap_motorola.c
@


1.20.2.1
log
@Merge in -current, builds on i386, otherwise untested
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.21 2001/12/20 19:02:29 miod Exp $
d118 1
a118 1
file arch/mvme68k/mvme68k/pmap.c
@


1.20.2.2
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.20.2.1 2002/01/31 22:55:15 niklas Exp $
a7 2
maxusers 2 8 64

d74 1
a74 1
file	arch/mvme68k/dev/ssh.c			ssh
d100 5
a104 5
#device xdc {target = -1}
#attach xdc at vmes
#device xd: disk
#attach xd at xdc
#file	arch/mvme68k/dev/xd.c			xd needs-flag
d110 1
a110 1
#major { xd = 10 }
d118 1
a118 1
file arch/m68k/m68k/pmap_motorola.c
@


1.19
log
@Provide COMPAT_SUNOS files via the common m68k configuration files.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.18 2001/05/11 07:13:15 deraadt Exp $
d118 1
a118 1
file arch/mvme68k/mvme68k/pmap.c
@


1.18
log
@unify rd(4) even more
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.17 2001/05/11 06:41:43 deraadt Exp $
a132 4

# SunOS Binary Compatibility (COMPAT_SUNOS)
include	"compat/sunos/files.sunos"
file	arch/m68k/m68k/sunos_machdep.c		compat_sunos
@


1.17
log
@unify
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.16 2001/02/18 17:41:02 deraadt Exp $
a98 3

# RAM disk for boot tape
file dev/rd.c					ramdisk_hooks
@


1.16
log
@two siop drivers conflict.  rename to ssh -- short for Symbios Scripts Hardware
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.15 2000/06/10 20:39:20 deraadt Exp $
d101 1
a101 1
file arch/mvme68k/dev/rd_root.c			ramdisk_hooks
@


1.15
log
@er, wrong
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.14 2000/06/08 18:06:16 art Exp $
d71 4
a74 4
device siop: scsi
attach siop at mc, pcctwo
file	arch/mvme68k/dev/siopdma.c		siop
file	arch/mvme68k/dev/siop.c			siop
@


1.14
log
@use arch/mvme68k/dev/memdevs.c, not mvme88k.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.13 2000/01/25 04:18:17 smurph Exp $
a144 2
file	arch/mvme68k/dev/memdevs.c			nvram | sram

d147 2
a148 2
file	arch/mvme68k/dev/vs.c				vs
file	arch/mvme68k/dev/vsdma.c			vs
@


1.13
log
@Added support for MVME328 SCSI VME board.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.12 2000/01/24 05:20:53 smurph Exp $
d145 1
a145 1
file	arch/mvme88k/dev/memdevs.c			nvram | sram
@


1.13.2.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.16 2001/02/18 17:41:02 deraadt Exp $
d71 4
a74 4
device ssh: scsi
attach ssh at mc, pcctwo
file	arch/mvme68k/dev/sshdma.c		ssh
file	arch/mvme68k/dev/ssh.c		ssh
d145 2
d149 2
a150 2
file	arch/mvme68k/dev/vs.c			vs
file	arch/mvme68k/dev/vsdma.c		vs
@


1.13.2.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.13.2.1 2001/04/18 16:10:20 niklas Exp $
d99 3
@


1.13.2.3
log
@Merge in -current
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.13.2.2 2001/07/04 10:19:22 niklas Exp $
d118 1
a118 1
file arch/m68k/m68k/pmap_motorola.c
d133 4
@


1.13.2.4
log
@Sync the SMP branch with 3.3
@
text
@d1 1
a1 1
#	$OpenBSD$
a7 2
maxusers 2 8 64

d74 1
a74 1
file	arch/mvme68k/dev/ssh.c			ssh
d100 5
a104 5
#device xdc {target = -1}
#attach xdc at vmes
#device xd: disk
#attach xd at xdc
#file	arch/mvme68k/dev/xd.c			xd needs-flag
d110 1
a110 1
#major { xd = 10 }
@


1.12
log
@Fixed bug in disksubr.c relating to disklabels.  Added MVME376 support to le.  Made installboot insert M68K for volume ID, not M88K.  Correctly documented installboot.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.11 1999/11/08 15:36:09 mickey Exp $
d145 6
@


1.11
log
@move MI definition of rd into it's MI place also fixing
attributes, allowing kernels to exist w/ rd as the only disk device.
tested on a few archs; niels@@ & millert@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.10 1999/08/17 22:47:14 mickey Exp $
d40 11
a50 1
attach	le at pcc
a101 10

device vme { }
attach vme at pcc, mc, pcctwo
device vmes { [addr = -1], [len = -1], [vec = -1], [ipl = 0] }
attach vmes at vme
device vmel { [addr = -1], [len = -1], [vec = -1], [ipl = 0] }
attach vmel at vme
file	arch/mvme68k/dev/vme.c			vme | vmes | vmel
file	arch/mvme68k/dev/vmes.c			vmes needs-count
file	arch/mvme68k/dev/vmel.c			vmel needs-count
@


1.10
log
@factor out ie device definition; niklas@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.9 1997/03/31 00:23:56 downsj Exp $
a90 2
pseudo-device rd
file dev/ramdisk.c				rd needs-flag
@


1.9
log
@Modernize OpenBSD/mvme68k to match various changes in m68k and hp300 code.

Compiles, but untested for lack of hardware.
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.8 1996/12/20 08:26:26 deraadt Exp $
a42 1
device ie: ifnet, ether
@


1.8
log
@config-dependent heck no
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.7 1996/12/11 21:04:59 deraadt Exp $
a128 1
file arch/m68k/m68k/copy.s
d136 4
d141 1
a141 1
include	"../../../compat/sunos/files.sunos"
@


1.7
log
@add stub for willowglen vme serial card driver
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.5 1996/05/27 21:48:08 chuck Exp $
d122 1
a122 1
file arch/mvme68k/mvme68k/machdep.c		config-dependent
@


1.6
log
@option not options
@
text
@d140 5
@


1.5
log
@enable ram disk
@
text
@d1 1
a1 1
#	$OpenBSD: files.mvme68k,v 1.4 1996/05/10 12:42:21 deraadt Exp $
d107 1
a107 1
attach xdc at vmel
@


1.4
log
@split le driver, if_name/if_unit -> if_xname/if_softc
@
text
@d1 1
a1 1
#	$OpenBSD$
d91 5
d115 1
@


1.3
log
@device/attach split
@
text
@d40 1
a40 2
device le: ifnet, ether
attach le at pcc
@


1.2
log
@$Id$ lines
MVME167: repair job
@
text
@d1 1
a1 1
#	$Id$
d8 2
a9 1
device mainbus at root { [addr = -1] }
d11 2
a12 1
device pcc at mainbus { [offset = -1], [ ipl = 0 ] }
d15 2
a16 1
device pcctwo at mainbus { [offset = -1], [ ipl = 0 ] }
d19 2
a20 1
device mc at mainbus { [offset = -1], [ ipl = 0 ] }
d23 2
a24 1
device clock at pcc, mc, pcctwo
d27 2
a28 1
device zs at pcc, mc: tty
d31 2
a32 1
device cl at pcctwo: tty
d35 2
a36 1
device bugtty at mainbus: tty
d40 2
a41 1
device le at pcc: ifnet, ether
d44 2
a45 1
device ie at mc, pcctwo: ifnet, ether
d50 4
a53 3
device sbic at pcc: scsi
file	arch/mvme68k/dev/sbic.c			sbic
file	arch/mvme68k/dev/sbicdma.c		sbic
d55 2
a56 1
device ipic at mc { manu = -1, prod = -1, [vec = -1], [ipl = 0] }
d59 2
a60 1
device fooip at ipic
d63 2
a64 1
device siop at mc, pcctwo: scsi
d68 2
a69 1
device memc at mc, pcctwo
d72 2
a73 1
device flash at mainbus
d76 4
a79 2
device sram at mainbus
device nvram at pcc, mc, pcctwo
d82 1
a82 1
file	arch/mvme68k/dev/memdevs.c		nvram sram
d84 2
a85 1
device lp at pcc
d88 2
a89 1
device lptwo at pcctwo
d92 7
a98 4
device vme at pcc, mc, pcctwo { }
device vmes at vme { [addr = -1], [len = -1], [vec = -1], [ipl = 0] }
device vmel at vme { [addr = -1], [len = -1], [vec = -1], [ipl = 0] }
file	arch/mvme68k/dev/vme.c			vme vmes vmel
d102 4
a105 2
device xdc at vmel {target = -1}
device xd at xdc: disk
d127 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$NetBSD: files.mvme68k,v 1.1.1.1 1995/07/25 23:12:05 chuck Exp $
d5 2
a6 2
# maxpartitions must be first item in files.${ARCH}.newconf
maxpartitions 8
d8 1
a8 1
device mainbus at root { }
d10 2
a11 2
device iio at mainbus { offset = -1, [ ipl = 0 ] }
file arch/mvme68k/dev/iio.c			iio
d13 2
a14 2
device clock at iio
file arch/mvme68k/mvme68k/clock.c		clock
d16 7
a22 1
device zs at iio: tty
d25 6
a30 2
device pcc at iio
file arch/mvme68k/dev/pcc.c			pcc
d32 1
a32 1
device le at iio: ifnet, ether
d35 3
d40 47
a86 3
major { sd = 7 }
major { cd = 18 }
major { vnd = 6 }
d103 2
d106 2
a107 3
include "../../../compat/sunos/files.sunos"
file    arch/m68k/m68k/sunos_machdep.c  compat_sunos

@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@


1.1.1.2
log
@mvme68k port by me. some parts by dale rahn.
@
text
@d1 1
a1 1
#	$NetBSD$
d5 2
a6 2
# maxpartitions must be first item in files.${ARCH}
maxpartitions 16
d8 1
a8 1
device mainbus at root { [addr = -1] }
d10 2
a11 2
device pcc at mainbus { [offset = -1], [ ipl = 0 ] }
file arch/mvme68k/dev/pcc.c			pcc needs-count
d13 2
a14 2
device pcctwo at mainbus { [offset = -1], [ ipl = 0 ] }
file arch/mvme68k/dev/pcctwo.c			pcctwo needs-count
d16 1
a16 7
device mc at mainbus { [offset = -1], [ ipl = 0 ] }
file arch/mvme68k/dev/mc.c			mc needs-count

device clock at pcc, mc, pcctwo
file arch/mvme68k/dev/clock.c			clock

device zs at pcc, mc: tty
d19 2
a20 6
device cl at pcctwo: tty
file arch/mvme68k/dev/cl.c			cl needs-count

device bugtty at mainbus: tty
file arch/mvme68k/dev/bugtty.c			bugtty needs-count
file arch/mvme68k/dev/bug.c			bugtty
d22 1
a22 1
device le at pcc: ifnet, ether
a24 3
device ie at mc, pcctwo: ifnet, ether
file    arch/mvme68k/dev/if_ie.c		ie

d27 3
a29 47
device sbic at pcc: scsi
file	arch/mvme68k/dev/sbic.c			sbic
file	arch/mvme68k/dev/sbicdma.c		sbic

device ipic at mc { manu = -1, prod = -1, [vec = -1], [ipl = 0] }
file	arch/mvme68k/dev/ipic.c			ipic

device fooip at ipic
file	arch/mvme68k/dev/fooip.c		fooip

device siop at mc, pcctwo: scsi
file	arch/mvme68k/dev/siopdma.c		siop
file	arch/mvme68k/dev/siop.c			siop

device memc at mc, pcctwo
file	arch/mvme68k/dev/memc.c			memc

device flash at mainbus
file	arch/mvme68k/dev/flash.c		flash needs-count

device sram at mainbus
device nvram at pcc, mc, pcctwo
file	arch/mvme68k/dev/sram.c			sram needs-count
file	arch/mvme68k/dev/nvram.c		nvram needs-count
file	arch/mvme68k/dev/memdevs.c		nvram sram

device lp at pcc
file	arch/mvme68k/dev/lp.c			lp needs-count

device lptwo at pcctwo
file	arch/mvme68k/dev/lptwo.c		lptwo needs-count

device vme at pcc, mc, pcctwo { }
device vmes at vme { [addr = -1], [len = -1], [vec = -1], [ipl = 0] }
device vmel at vme { [addr = -1], [len = -1], [vec = -1], [ipl = 0] }
file	arch/mvme68k/dev/vme.c			vme vmes vmel
file	arch/mvme68k/dev/vmes.c			vmes needs-count
file	arch/mvme68k/dev/vmel.c			vmel needs-count

device xdc at vmel {target = -1}
device xd at xdc: disk
file	arch/mvme68k/dev/xd.c			xd needs-flag

major { sd = 4 }
major { cd = 6 }
major { vnd = 8 }
major { xd = 10 }
d46 3
a48 1
# Compatibility modules
a49 3
# SunOS Binary Compatibility (COMPAT_SUNOS)
include	"../../../compat/sunos/files.sunos"
file	arch/m68k/m68k/sunos_machdep.c		compat_sunos
@
