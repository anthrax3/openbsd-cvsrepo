head	1.13;
access;
symbols
	OPENBSD_3_7:1.12.0.2
	OPENBSD_3_7_BASE:1.12
	OPENBSD_3_6:1.11.0.12
	OPENBSD_3_6_BASE:1.11
	SMP_SYNC_A:1.11
	SMP_SYNC_B:1.11
	OPENBSD_3_5:1.11.0.10
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.11.0.8
	OPENBSD_3_4_BASE:1.11
	UBC_SYNC_A:1.11
	OPENBSD_3_3:1.11.0.6
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.11.0.4
	OPENBSD_3_2_BASE:1.11
	OPENBSD_3_1:1.11.0.2
	OPENBSD_3_1_BASE:1.11
	UBC_SYNC_B:1.11
	UBC:1.10.0.4
	UBC_BASE:1.10
	OPENBSD_3_0:1.10.0.2
	OPENBSD_3_0_BASE:1.10
	OPENBSD_2_9:1.7.0.2
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_8:1.6.0.6
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.6.0.4
	OPENBSD_2_7_BASE:1.6
	SMP:1.6.0.2
	SMP_BASE:1.6
	kame_19991208:1.2
	OPENBSD_2_6:1.2.0.12
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.10
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.8
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.6
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.4
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.2
	OPENBSD_2_1_BASE:1.2;
locks; strict;
comment	@# @;


1.13
date	2005.08.01.12.03.31;	author miod;	state dead;
branches;
next	1.12;

1.12
date	2004.09.16.09.14.03;	author mickey;	state Exp;
branches;
next	1.11;

1.11
date	2002.03.14.00.47.58;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2001.06.27.05.46.19;	author art;	state Exp;
branches
	1.10.4.1;
next	1.9;

1.9
date	2001.06.26.21.35.24;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2001.06.12.22.51.42;	author miod;	state Exp;
branches;
next	1.7;

1.7
date	2001.02.18.17.41.01;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2000.01.27.03.14.28;	author smurph;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2000.01.25.04.18.17;	author smurph;	state Exp;
branches;
next	1.4;

1.4
date	2000.01.24.05.20.53;	author smurph;	state Exp;
branches;
next	1.3;

1.3
date	2000.01.06.03.50.16;	author smurph;	state Exp;
branches;
next	1.2;

1.2
date	97.03.31.00.23.51;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	97.02.16.03.19.53;	author rahnds;	state Exp;
branches;
next	;

1.6.2.1
date	2001.04.18.16.10.18;	author niklas;	state Exp;
branches;
next	1.6.2.2;

1.6.2.2
date	2001.07.04.10.19.19;	author niklas;	state Exp;
branches;
next	1.6.2.3;

1.6.2.3
date	2002.03.28.10.34.05;	author niklas;	state Exp;
branches;
next	;

1.10.4.1
date	2002.06.11.03.36.49;	author art;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Dead meat.
@
text
@#	$OpenBSD: MINIROOT,v 1.12 2004/09/16 09:14:03 mickey Exp $

machine		mvme68k m68k

include "../../../conf/GENERIC"
rmoption	PTRACE

option		M68060		# support for 060
option		M68040		# support for 040
option		FPSP		# MC68040 floating point support
option		M060SP		# ...and MC68060 support package
option		M68030		# support for 030
option		FPU_EMULATE	# FPU emulation

option		MVME147		# (requires M68030)
option		MVME162		# (requires M68040, FPSP)
option		MVME167		# includes 166 (requires M68040, FPSP)
option		MVME177		# (requires M68060, 060SP, FPSP)

#option		COMPAT_SUNOS
#option		COMPAT_HPUX
#option		COMPAT_M68K4K

maxusers	32

config		bsd		root rd0 swap on rd0b

mainbus0 at root

# MVME147
pcc0	at mainbus0 addr 0xfffe0000
clock0	at pcc0 ipl 5
nvram0	at pcc0 offset 0x0000
zs0	at pcc0 offset 0x3000 ipl 4
zs1	at pcc0 offset 0x3800 ipl 4
le0	at pcc0 offset 0x1800 ipl 1
wdsc0	at pcc0 offset 0x4000 ipl 2
lp0	at pcc0 ipl 1
vme0	at pcc0 offset 0x2000

# MVME162
mc0	at mainbus0 addr 0xfff00000
clock0	at mc0 ipl 5
nvram0	at mc0 offset 0xc0000
zs0	at mc0 offset 0x45000 ipl 4
zs1	at mc0 offset 0x45801 ipl 4
ie0	at mc0 offset 0x46000 ipl 1
ssh0	at mc0 offset 0x47000 ipl 2
memc0	at mc0 offset 0x43000
memc1	at mc0 offset 0x43100
ipic0	at mc0 offset 0xbc000
vme0	at mc0 offset 0x40000
flash0	at mainbus0 addr 0xffa00000
sram0	at mainbus0 addr 0xffe00000

fooip*	at ipic? manu 0x11 prod 0x22 ipl 1

# MVME166/167/177
pcctwo0 at mainbus0 addr 0xfff00000
clock0	at pcctwo0 ipl 5
nvram0	at pcctwo0 offset 0xc0000
ie0	at pcctwo0 offset 0x46000 ipl 1
ssh0	at pcctwo0 offset 0x47000 ipl 2
cl0	at pcctwo0 offset 0x45000 ipl 3
vme0	at pcctwo0 offset 0x40000
#lptwo0	at pcctwo0 ipl 1
memc0	at pcctwo0 offset 0x43000
memc1	at pcctwo0 offset 0x43100
sram0	at mainbus0 addr 0xffe00000

bugtty0 at mainbus0

vmes0	at vme0

vs*	at vmes0 addr 0xffff9000 ipl 2 vec 0x80 len 0x800
vs*	at vmes0 addr 0xffff9800 ipl 2 vec 0x82 len 0x800
vs*	at vmes0 addr 0xffff4800 ipl 2 vec 0x84 len 0x800
vs*	at vmes0 addr 0xffff5800 ipl 2 vec 0x86 len 0x800
vs*	at vmes0 addr 0xffff7000 ipl 2 vec 0x88 len 0x800
vs*	at vmes0 addr 0xffff7800 ipl 2 vec 0x8a len 0x800

le*	at vmes0 addr 0xffff1200 ipl 1 vec 0x74 len 0x100
le*	at vmes0 addr 0xffff1400 ipl 1 vec 0x75 len 0x100
le*	at vmes0 addr 0xffff1600 ipl 1 vec 0x76 len 0x100

vmel0	at vme0

scsibus* at wdsc?
scsibus* at ssh?
scsibus* at vs?

sd*	at scsibus?
st*	at scsibus?
cd*	at scsibus?
ch*	at scsibus?
ss*	at scsibus?
uk*	at scsibus?

# 2 meg ramdisk
option		MINIROOTSIZE=4096
option		RAMDISK_HOOKS
pseudo-device	rd 2

#si0	at vmes0 addr 0xff200000 ipl 2 vec 0x40
#nxdc0	at vmes0 addr 0xff00ee80 ipl 2 vec 0x44
#xd*	at xdc?
@


1.12
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.11 2002/03/14 00:47:58 miod Exp $
@


1.11
log
@Remove PTRACE support out of the ramdisks/miniroots.
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.10 2001/06/27 05:46:19 art Exp $
d92 6
a97 6
sd*	at scsibus? target ? lun ?
st*	at scsibus? target ? lun ?
cd*	at scsibus? target ? lun ?
ch*	at scsibus? target ? lun ?
ss*	at scsibus? target ? lun ?
uk*	at scsibus? target ? lun ?
d106 1
a106 1
#xd*	at xdc? target ?
@


1.10
log
@UVM is no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.9 2001/06/26 21:35:24 miod Exp $
d6 1
@


1.10.4.1
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.10 2001/06/27 05:46:19 art Exp $
a5 1
rmoption	PTRACE
@


1.9
log
@A few changes to mvme68k:
+ switch to UVM
+ fix the system trace problem
+ big cleanup of locore.s (macro for BUG calls, use more common m68k
  code whenever possible, and the macros in <m68k/asm.h>)
+ better indentation on some parts (old KNF)
+ call doshutdownhooks() at shutdown
+ use <net/netisr_dispatch.h>
+ upgrade pmap.c to something very close to our current hp300 pmap.c,
  minus support for PMAP_NEW and for HP MMU
+ various tidbits I forget to mention here

work and tests by smurph@@ and me.
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.8 2001/06/12 22:51:42 miod Exp $
a5 1
option		UVM
@


1.8
log
@Add ``scsibus* at vs?'', except on model 147, for which the vs driver
has issues.
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.7 2001/02/18 17:41:01 deraadt Exp $
d6 1
@


1.7
log
@two siop drivers conflict.  rename to ssh -- short for Symbios Scripts Hardware
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.6 2000/01/27 03:14:28 smurph Exp $
d89 1
@


1.6
log
@Took out le* at 0xffffd200.  It conflicts with GCSR on some boards.
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.5 2000/01/25 04:18:17 smurph Exp $
d47 1
a47 1
siop0	at mc0 offset 0x47000 ipl 2
d62 1
a62 1
siop0	at pcctwo0 offset 0x47000 ipl 2
d88 1
a88 1
scsibus* at siop?
@


1.6.2.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.7 2001/02/18 17:41:01 deraadt Exp $
d47 1
a47 1
ssh0	at mc0 offset 0x47000 ipl 2
d62 1
a62 1
ssh0	at pcctwo0 offset 0x47000 ipl 2
d88 1
a88 1
scsibus* at ssh?
@


1.6.2.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.6.2.1 2001/04/18 16:10:18 niklas Exp $
a88 1
scsibus* at vs?
@


1.6.2.3
log
@Merge in -current from about a week ago
@
text
@d1 1
a1 1
#	$OpenBSD$
a5 1
rmoption	PTRACE
@


1.5
log
@Added support for MVME328 SCSI VME board.
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.4 2000/01/24 05:20:53 smurph Exp $
d81 3
@


1.4
log
@Fixed bug in disksubr.c relating to disklabels.  Added MVME376 support to le.  Made installboot insert M68K for volume ID, not M88K.  Correctly documented installboot.
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.3 2000/01/06 03:50:16 smurph Exp $
d73 9
@


1.3
log
@Added support for MVME177
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.2 1997/03/31 00:23:51 downsj Exp $
d25 1
a25 1
config		bsd		root rd0 swap on sd0 and sd1 and sd2
d85 1
@


1.2
log
@Modernize OpenBSD/mvme68k to match various changes in m68k and hp300 code.

Compiles, but untested for lack of hardware.
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.1 1997/02/16 03:19:53 rahnds Exp $
d7 1
a7 1
#option		M68060		# support for 060
d10 1
d12 1
d17 1
a17 1
#option		MVME177		# (requires M68060, ...)
@


1.1
log
@Add new kernel configuration that support ramdisk in the data segment
via rdsetroot.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.8 1996/06/30 17:39:38 deraadt Exp $
a10 1
option		FPCOPROC	# Support for MC6888[12] (Required)
d18 2
@
