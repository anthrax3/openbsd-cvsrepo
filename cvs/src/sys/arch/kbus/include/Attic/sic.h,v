head	1.2;
access;
symbols
	SMP_SYNC_A:1.2
	SMP_SYNC_B:1.2
	UBC_SYNC_A:1.2
	UBC_SYNC_B:1.2
	OPENBSD_2_8:1.1.1.1.0.16
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.14
	OPENBSD_2_7_BASE:1.1.1.1
	SMP:1.1.1.1.0.12
	SMP_BASE:1.1.1.1
	kame_19991208:1.1.1.1
	OPENBSD_2_6:1.1.1.1.0.10
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.8
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.6
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.4
	OPENBSD_2_3_BASE:1.1.1.1
	OPENBSD_2_2:1.1.1.1.0.2
	OPENBSD_2_2_BASE:1.1.1.1
	gingold_1:1.1.1.1
	gingold:1.1.1;
locks; strict;
comment	@ * @;


1.2
date	2001.02.07.07.46.16;	author art;	state dead;
branches;
next	1.1;

1.1
date	97.10.14.07.25.31;	author gingold;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.10.14.07.25.31;	author gingold;	state Exp;
branches
	1.1.1.1.12.1;
next	;

1.1.1.1.12.1
date	2001.04.18.16.09.17;	author niklas;	state dead;
branches;
next	;


desc
@@


1.2
log
@We need to loose some weight.
If someone feels very opposed to this, the code is left in the Attic.
Just revive and _make_it_work_.
@
text
@
/* General constants.  */
#define SIC_NUM_IPL	256	/* Number of interrupt priority levels.  */

/* For DIR.  */
#define SIC_DIR_MASK	0x3f	/* Current device id.  */

/* For IPR.  */
#define SIC_IPR_MASK	0xff	/* Current interrupt priority level.  */
#define SIC_IPR_CLR_MASK 0xffff0000	/* Clear bits always read as 1.  */

/* For IRC.  */
#define SIC_IRC_E	0x00000001	/* Enable receiver.  */
#define SIC_IRC_P	0x00000002	/* Interrupt pending.  */

/* For IPV.  */
#define SIC_IPV_IVL	0xff00		/* Pending interrupt vector level.  */
#define SIC_IPV_BRDCST	0x0080		/* Broadcast interrupt if set.  */
#define SIC_IPV_DIR	0x0040		/* Directed interrupt if set.  */
#define SIC_IPV_INFO	0x003f		/* Misc info if undirected int.  */
#define SIC_IPV_DDID	0x003f		/* Dest dev id if directed int.  */

/* For IXR.  */
#define SIC_IXR_IVL	0xff00		/* Pending interrupt vector level.  */
#define SIC_IXR_DIR	0x0040		/* Directed interrupt if set.  */
#define SIC_IXR_INFO	0x003f		/* Misc info if undirected int.  */
#define SIC_IXR_DDID	0x003f		/* Dest dev id if directed int.  */

/* For ITXC.  */
#define SIC_ITXC_E	0x0001		/* Transmitter enable bit.  */
#define SIC_ITXC_A	0x0002		/* interrupt acked bit.  */

/* Interrupt vectors.  */
#define INTR_VME_1	0x82		/* 130: vme level 1. */
#define INTR_IOASIC	0x83		/* 131: ioasic, wd33c93a.  */
#define INTR_VME_2	0x84		/* 132: vme level 2.  */
#define INTR_FB		0x85		/* 133: frame buffer.  */
#define INTR_VME_3	0x86		/* 134: vme level 3. */
#define INTR_LANCE	0x87		/* 135: LANCE.  */
#define INTR_VME_4	0x88		/* 136: vme level 4. */
#define INTR_ZS		0x89		/* 137: zs.  */
#define INTR_VME_5	0x8a		/* 138: vme level 5. */
#define INTR_VME_6	0x8c		/* 140: vme level 6. */
#define INTR_CLOCK	0x8d		/* 141: clock.  */
#define INTR_VME_7	0x8e		/* 142: vme level 7. */

/* Get a sic intr from a vme level.  */
#define VME_IPL_TO_INTR(l)	(128 + 2 * (l))
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Gingold's port for kbus Series5 machine.  Not fully finished and not very stable
@
text
@@


1.1.1.1.12.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@@

