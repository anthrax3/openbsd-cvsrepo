head	1.28;
access;
symbols
	SMP_SYNC_A:1.28
	SMP_SYNC_B:1.28
	UBC_SYNC_A:1.28
	UBC_SYNC_B:1.28
	OPENBSD_2_9:1.19.0.2
	OPENBSD_2_9_BASE:1.19
	OPENBSD_2_8:1.10.0.2
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.4.0.10
	OPENBSD_2_7_BASE:1.4
	SMP:1.4.0.8
	SMP_BASE:1.4
	kame_19991208:1.4
	OPENBSD_2_6:1.4.0.6
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.4
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.1.0.4
	OPENBSD_2_3_BASE:1.1
	OPENBSD_2_2:1.1.0.2
	OPENBSD_2_2_BASE:1.1;
locks; strict;
comment	@# @;


1.28
date	2001.09.01.15.59.31;	author drahn;	state dead;
branches;
next	1.27;

1.27
date	2001.06.27.07.32.52;	author drahn;	state Exp;
branches;
next	1.26;

1.26
date	2001.06.27.05.46.25;	author art;	state Exp;
branches;
next	1.25;

1.25
date	2001.06.26.22.03.04;	author drahn;	state Exp;
branches;
next	1.24;

1.24
date	2001.06.25.21.44.00;	author mickey;	state Exp;
branches;
next	1.23;

1.23
date	2001.06.25.19.15.43;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2001.06.23.19.46.58;	author deraadt;	state Exp;
branches;
next	1.21;

1.21
date	2001.05.29.01.20.43;	author drahn;	state Exp;
branches;
next	1.20;

1.20
date	2001.05.17.00.57.58;	author pvalchev;	state Exp;
branches;
next	1.19;

1.19
date	2001.04.13.03.01.02;	author deraadt;	state Exp;
branches;
next	1.18;

1.18
date	2001.04.11.05.48.25;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2001.03.29.19.55.11;	author drahn;	state Exp;
branches;
next	1.16;

1.16
date	2001.03.25.06.32.53;	author drahn;	state Exp;
branches;
next	1.15;

1.15
date	2001.03.03.05.50.43;	author drahn;	state Exp;
branches;
next	1.14;

1.14
date	2001.02.16.05.56.50;	author drahn;	state Exp;
branches;
next	1.13;

1.13
date	2001.02.16.05.26.27;	author drahn;	state Exp;
branches;
next	1.12;

1.12
date	2001.02.13.14.50.33;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2000.12.07.18.19.31;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2000.09.16.04.03.00;	author rahnds;	state Exp;
branches;
next	1.9;

1.9
date	2000.09.07.22.03.09;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2000.09.07.01.43.05;	author rahnds;	state Exp;
branches;
next	1.7;

1.7
date	2000.09.06.03.57.23;	author rahnds;	state Exp;
branches;
next	1.6;

1.6
date	2000.08.08.01.45.09;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2000.08.08.01.07.52;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	98.10.10.06.31.30;	author rahnds;	state Exp;
branches
	1.4.8.1;
next	1.3;

1.3
date	98.08.07.01.46.30;	author rahnds;	state Exp;
branches;
next	1.2;

1.2
date	98.05.29.04.15.29;	author rahnds;	state Exp;
branches;
next	1.1;

1.1
date	97.10.13.09.42.50;	author pefo;	state Exp;
branches;
next	;

1.4.8.1
date	2001.04.18.16.12.55;	author niklas;	state Exp;
branches;
next	1.4.8.2;

1.4.8.2
date	2001.07.04.10.22.14;	author niklas;	state Exp;
branches;
next	1.4.8.3;

1.4.8.3
date	2001.10.31.03.07.54;	author nate;	state dead;
branches;
next	1.4.8.4;

1.4.8.4
date	2001.11.13.21.04.16;	author niklas;	state Exp;
branches;
next	1.4.8.5;

1.4.8.5
date	2001.11.13.22.14.33;	author niklas;	state dead;
branches;
next	;


desc
@@


1.28
log
@The "powerpc" port which has supported the newer Apple Macintosh powerpc based
is being renamed to macppc. This is to allow sharing of common code
between different powerpc base platforms.

Most of the work involved in the renaming process was performed by miod@@

Files moved from powerpc/conf to macppc/conf

files.powerpc was modified to keep powerpc common files.
@
text
@#	$OpenBSD: RAMDISK,v 1.27 2001/06/27 07:32:52 drahn Exp $
#
# PPC GENERIC config file
#

machine		powerpc

maxusers	32

# default type, instructs system to try to determin what proper type is
# actual machine type probed via name of openfirmware root node.
option		SYS_TYPE=APPL

option		FIREPOWERBUGS
option		PPC_MPC106_BUG
option		PCIVERBOSE
option		WSEMUL_NO_DUMB

# include "../../../conf/GENERIC"
option		TIMEZONE=0	# time zone to adjust RTC time by
option		DST=0		# daylight saving time used by RTC
option		SWAPPAGER	# paging; REQUIRED
option		DEVPAGER	# mmap() of devices
option		COMPAT_43	# and 4.3BSD
option		FFS		# UFS
option		MFS		# memory file system
option		CD9660		# ISO 9660 + Rock Ridge file system
option		MSDOSFS		# MS-DOS file system
option		INET		# IP + ICMP + TCP + UDP
option		DDB		# IP + ICMP + TCP + UDP

config		bsd	root on rd0a swap on rd0b


#
#  Now the Machine specification
#
mainbus0	at root
cpu*		at mainbus0

mpcpcibr*	at mainbus0	# MPC106 PCI Bridge.
memc*		at mainbus0
pchb*		at pci?		# host bridge identifiers

#### PCI Bus devices.

pci*		at mpcpcibr?
ppb*		at pci? dev ? function ?	# PCI-PCI bridges
pci*		at ppb? bus ?

siop*		at pci? dev ? function ?
#ncr*		at pci? dev ? function ?
fxp*		at pci? dev ? function ?
de*		at pci? dev ? function ?
#vme*		at pci? dev ? function ?
vgafb0		at pci? dev ? function ?	# PCI VGA graphics 
#ep*		at pci? dev ? function ?	# 3Com 3c59x
#ne*		at pci? dev ? function ?	# NE2000-compatible Ethernet
#adv*		at pci? dev ? function ?	# AdvanSys 1200[A,B], 9xx[U,UA] SCSI
#ahc*		at pci? dev ? function ?	# Adaptec 294x, aic78x0 SCSI
#bha*		at pci? dev ? function ?	# BusLogic 9xx SCSI
#pcscp*		at pci? dev ? function ?	# AMD Am53c974 PCscsi-PCI SCSI
pciide*	at pci? dev ? function ?
macobio0	at pci? dev ? function ?
gm*		at pci? dev ? function ?	# GMAC ethernet
an*		at pci? dev ? function ?	# Cisco/Aironet 802.11DS

# how many of these are needed?
exphy*		at mii? phy ?		# 3Com internal PHYs
inphy*		at mii? phy ?		# Intel 82555 PHYs
iophy*		at mii? phy ?		# Intel 82553 PHYs
icsphy*		at mii? phy ?		# Integrated Circuit Systems ICS1890
#lxtphy*	at mii? phy ?		# Level One LXT-970 PHYs
nsphy*		at mii? phy ?		# NS83840 PHYs
#nsphyter*	at mii? phy ?		# NS83843 PHYs
#qsphy*		at mii? phy ?		# Quality Semiconductor QS6612 PHYs
sqphy*		at mii? phy ?		# Seeq 80220/80221/80223 PHYs
#tlphy*		at mii? phy ?		# ThunderLAN PHYs
#tqphy*		at mii? phy ?		# TDK Semiconductor PHYs
brgphy*		at mii? phy ?		# Broadcom 10/100/1000 PHYs 
bmtphy*		at mii? phy ?		# Broadcom 10/100 PHYs 
ukphy*		at mii? phy ?		# generic unknown PHYs

macintr0	at macobio?		# old interrupt controller
openpic0	at macobio?		# openpic interrupt controller
bm*		at macobio?		# bmac ethernet
#mc*		at macobio?		# MACE ethernet
#esp*		at macobio? flags 0x00ff# 53c9x SCSI
#mesh*		at macobio? flags 0xffff# MESH SCSI
#nvram*		at macobio?		# nvram
adb*		at macobio?		# Apple Desktop Bus
wi*		at macobio?		# Apple Airport 802.11DS
gpio*		at macobio?		# GPIO, PMU interrupt router.
gpio*		at gpio?		# GPIO, PMU interrupt router.
aed*		at adb?			# ADB Event Device
akbd*		at adb?			# ADB keyboard
wskbd*		at akbd? console ?
#ams*		at adb?			# ADB mouse
#wsmouse*	at ams?			
abtn*		at adb?			# ADB button?
#zsc*		at macobio?
#zstty*		at zsc? channel ?

scsibus*	at siop?
#scsibus*	at ncr?
#scsibus*	at adv?
#scsibus*	at ahc?
#scsibus*	at bha?
#scsibus*	at esp?
#scsibus*	at mesh?
#scsibus*	at pcscp?

wdc*		at macobio? flags 0x0
wd*		at wdc? drive ? flags 0x0000
wd*		at pciide? channel ? drive ?
atapiscsi*	at wdc? channel ? flags 0x0000
atapiscsi*	at pciide? channel ? flags 0x0000
scsibus*	at atapiscsi?

# PCI USB Controllers
ohci*		at pci?			# Open Host Controller

# USB bus support
usb*		at ohci?	flags 0x1
uhub*		at usb?
uhub*		at uhub? port ? configuration ? interface ?

uhid*		at uhub? port ? configuration ?	# USB Generic HID devices
ukbd*		at uhub? port ? configuration ?	# USB HID Keyboard devices
#ums*		at uhub? port ? configuration ?	# USB Mice
#wsmouse*	at ums? mux 0
#ulpt*		at uhub? port ? configuration ?	# USB Printer
#uscanner*	at uhub? port ?			# USB Scanner driver
#usscanner*	at uhub? port ?			# USB SCSI scanners
#scsibus*	at usscanner?
#uyap*		at uhub? port ?			# Y@@P firmware loader
#ugen*		at uhub? port ? configuration ? # USB Generic driver
umass*		at uhub? port ? configuration ? # USB Mass Storage devices
scsibus*	at umass?
kue*		at uhub? port ?			# Kawasaki KL5KUSB101B
aue*		at uhub? port ?			# USB EtherNet 

wsdisplay*	at vgafb?
wskbd*		at ukbd? console ?

sd*		at scsibus? target ? lun ?
st*		at scsibus? target ? lun ?            
cd*		at scsibus? target ? lun ?
#ch*		at scsibus? target ? lun ?
#ss*		at scsibus? target ? lun ?
#uk*		at scsibus? target ? lun ?

pseudo-device	loop	1	# network loopback
pseudo-device	pty	64	# pseudo-terminals
#pseudo-device	ccd	4	# concatenated disk devices
#pseudo-device	ksyms	1	# kernel symbols device
pseudo-device   bpfilter 1	# packet filter
pseudo-device	rd	1	# ram disk

# RAMDISK stuff
option		MINIROOTSIZE=8192
option		RAMDISK_HOOKS
@


1.27
log
@Aue works fine, add it.
kue was not added to ramdisk kernel, add it too.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.26 2001/06/27 05:46:25 art Exp $
@


1.26
log
@UVM is no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.25 2001/06/26 22:03:04 drahn Exp $
d140 2
@


1.25
log
@Add pciide support to ramdisk.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.24 2001/06/25 21:44:00 mickey Exp $
a13 1
option		UVM
@


1.24
log
@add an and wi attachments
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.23 2001/06/25 19:15:43 deraadt Exp $
d64 1
a64 1
#pciide*	at pci? dev ? function ?
a114 2
#wd*		at pciide? channel ? drive ?
#wd*		at wdc? channel ? drive ? flags 0x0000
d116 1
d118 1
@


1.23
log
@obio -> macobio, and cleanups
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.22 2001/06/23 19:46:58 deraadt Exp $
d67 1
d93 1
@


1.22
log
@no more kernfs
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.21 2001/05/29 01:20:43 drahn Exp $
d65 1
a65 1
obio0		at pci? dev ? function ?
d69 27
a95 27
exphy*	at mii? phy ?			# 3Com internal PHYs
inphy*	at mii? phy ?			# Intel 82555 PHYs
iophy*	at mii? phy ?			# Intel 82553 PHYs
icsphy* at mii? phy ?			# Integrated Circuit Systems ICS1890
#lxtphy* at mii? phy ?			# Level One LXT-970 PHYs
nsphy*	at mii? phy ?			# NS83840 PHYs
#nsphyter* at mii? phy ?		# NS83843 PHYs
#qsphy*	at mii? phy ?			# Quality Semiconductor QS6612 PHYs
sqphy*	at mii? phy ?			# Seeq 80220/80221/80223 PHYs
#tlphy*	at mii? phy ?			# ThunderLAN PHYs
#tqphy*	at mii? phy ?			# TDK Semiconductor PHYs
brgphy* at mii? phy ?			# Broadcom 10/100/1000 PHYs 
bmtphy* at mii? phy ?			# Broadcom 10/100 PHYs 
ukphy*	at mii? phy ?			# generic unknown PHYs

macintr0 at obio?			# old interrupt controller
openpic0 at obio?			# openpic interrupt controller
bm*	at obio?			# bmac ethernet
#mc*	at obio?			# MACE ethernet
#esp*	at obio? flags 0x00ff		# 53c9x SCSI
#mesh*	at obio? flags 0xffff		# MESH SCSI
#nvram*	at obio?			# nvram
adb*	at obio?			# Apple Desktop Bus
gpio*	at obio?			# GPIO, PMU interrupt router.
gpio*	at gpio?			# GPIO, PMU interrupt router.
aed*	at adb?				# ADB Event Device
akbd*	at adb?				# ADB keyboard
d97 5
a101 7
#ams*	at adb?				# ADB mouse
#wsmouse* at ams?			
abtn*	at adb?				# ADB button?
#zsc*	at obio?
#zstty*	at zsc? channel ?

#### SCSI attachment points
d112 6
a117 10
wdc*	at obio? flags 0x0
#wd*	at pciide? channel ? drive ?
#wd*	at wdc? channel ? drive ? flags 0x0000
wd*	at wdc? drive ? flags 0x0000

atapiscsi* at wdc? channel ? flags 0x0000

# ATAPI<->SCSI
scsibus* at atapiscsi?

d120 1
a120 1
ohci*	at pci?				# Open Host Controller
d123 16
a138 18
usb*	at ohci?	flags 0x1
uhub*	at usb?
uhub*  at uhub? port ? configuration ? interface ?

uhid*	at uhub? port ? configuration ?	# USB Generic HID devices
ukbd*	at uhub? port ? configuration ?	# USB HID Keyboard devices
#ums*	at uhub? port ? configuration ?	# USB Mice
#wsmouse* at ums? mux 0
#ulpt*	at uhub? port ? configuration ?	# USB Printer
#uscanner*  at uhub? port ?		# USB Scanner driver
#usscanner* at uhub? port ?		# USB SCSI scanners, e.g., HP5300
#scsibus* at usscanner?
#uyap*	at uhub? port ?			# Y@@P firmware loader
#ugen*	at uhub? port ? configuration ? # USB Generic driver
umass*	at uhub? port ? configuration ? # USB Mass Storage devices
scsibus* at umass?

#### Workstation Console attachments
a142 2
#### SCSI Bus devices
 
d155 1
a155 1
pseudo-device	rd	 1	# ram disk
a159 2


@


1.21
log
@Hardware clock support, via adb.
This reduces the dependancy on openfirmware somewhat.
Since Openfirmware is not actually used for anything,
it is no longer necessary to configure it. so several lines of
useless dmesg are now gone.

This does not have clock setting code enabled yet.
All of the code is in place, but needs further testing before
it is trusted.

I wish Apple would store UTC not localtime in the hardware clock,
besides the fact that the clock base is 1904.

Need to keep the clock sane for dual boot machines.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.20 2001/05/17 00:57:58 pvalchev Exp $
a29 1
option		KERNFS		# /kern
@


1.20
log
@It's Daylight Saving Time, not Savings.  Fix comments.
Discussed with pjanzen@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.19 2001/04/13 03:01:02 deraadt Exp $
a42 1
ofroot*		at mainbus0
d44 1
a159 8

#### openfirmware devices
# mostly unused currently 
ofbus*		at openfirm?
ofrtc*		at openfirm?
#ofdisk*		at openfirm?	 # used for floppy support
#ofnet*		at openfirm?
ofcons*	at openfirm?
@


1.19
log
@bmtphy
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.18 2001/04/11 05:48:25 deraadt Exp $
d22 1
a22 1
option		DST=0		# daylight savings time used by RTC
@


1.18
log
@include brgphy
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.17 2001/03/29 19:55:11 drahn Exp $
d82 1
@


1.17
log
@Major cleanup.
Sync with GENERIC config as appropriate for RAMDISK.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.16 2001/03/25 06:32:53 drahn Exp $
d81 1
@


1.16
log
@add bpfilter (bpf) to RAMDISK kernel for dhcp support.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.15 2001/03/03 05:50:43 drahn Exp $
d49 19
a67 17
pci*	at mpcpcibr?
pci*	at ppb? bus ?
ppb*	at pci? dev ? function ?	# PCI-PCI bridges

siop*	at pci? dev ? function ?
#ncr*	at pci? dev ? function ?
de*	at pci? dev ? function ?
vgafb0	at pci? dev ? function ?	# PCI VGA graphics 
#ep*	at pci? dev ? function ?	# 3Com 3c59x
#ne*	at pci? dev ? function ?	# NE2000-compatible Ethernet
#adv*	at pci? dev ? function ?	# AdvanSys 1200[A,B], 9xx[U,UA] SCSI
#ahc*	at pci? dev ? function ?	# Adaptec 294x, aic78x0 SCSI
#bha*	at pci? dev ? function ?	# BusLogic 9xx SCSI
#pcscp*	at pci? dev ? function ?	# AMD Am53c974 PCscsi-PCI SCSI
#pciide* at pci? dev ? function ?
obio0	at pci? dev ? function ?
gm*	at pci? dev ? function ?       		# gmac ethernet  G4 
d70 25
a94 23
exphy*  at mii? phy ?                   # 3Com internal PHYs
inphy*  at mii? phy ?                   # Intel 82555 PHYs
iophy*  at mii? phy ?                   # Intel 82553 PHYs
icsphy* at mii? phy ?                   # Integrated Circuit Systems ICS1890
#lxtphy* at mii? phy ?                   # Level One LXT-970 PHYs
nsphy*  at mii? phy ?                   # NS83840 PHYs
#nsphyter* at mii? phy ?                 # NS83843 PHYs
#qsphy*  at mii? phy ?                   # Quality Semiconductor QS6612 PHYs
sqphy*  at mii? phy ?                   # Seeq 80220/80221/80223 PHYs
#tlphy*  at mii? phy ?                   # ThunderLAN PHYs
#tqphy*  at mii? phy ?                   # TDK Semiconductor PHYs
ukphy*  at mii? phy ?                   # generic unknown PHYs

macintr0 at obio?                        # old interrupt controller
openpic0 at obio?                        # openpic interrupt controller
bm*     at obio?                        # bmac ethernet
#mc*     at obio?                        # MACE ethernet
#esp*    at obio? flags 0x00ff           # 53c9x SCSI
#mesh*   at obio? flags 0xffff           # MESH SCSI
#nvram*  at obio?                        # nvram
adb*    at obio?                        # Apple Desktop Bus
#aed*    at adb?                         # ADB Event Device
akbd*   at adb?                         # ADB keyboard
d96 5
a100 3
#ams*    at adb?                         # ADB mouse
#zsc*    at obio?
#zstty*  at zsc? channel ?
d114 3
a116 3
#wd*     at pciide? channel ? drive ?
#wd*     at wdc? channel ? drive ? flags 0x0000
wd*     at wdc? drive ? flags 0x0000
a124 1
#uhci*	at pci?				# Universal Host Controller (Intel)
a127 1
#usb*	at uhci?
d132 10
a141 8
# USB Generic HID devices
uhid*  at uhub? port ? configuration ? interface ?

# USB HID Keyboard devices
ukbd*  at uhub? port ? configuration ? interface ?

# USB Generic driver
ugen*  at uhub? port ? configuration ? interface ?
a143 1

@


1.15
log
@Add ADB keyboard and umass device to powerpc RAMDISK kernel.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.14 2001/02/16 05:56:50 drahn Exp $
a32 4
pseudo-device	loop	2	# network loopback
pseudo-device	pty	64	# pseudo-terminals
#pseudo-device	ccd	4	# concatenated disk devices
#pseudo-device	ksyms	1	# kernel symbols device
d162 6
a167 1
pseudo-device	rd		 1	# ram disk
d172 1
@


1.14
log
@For powerpc use siop driver instead of ncr, now that siop issue on powerpc
has been resolved.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.13 2001/02/16 05:26:27 drahn Exp $
d94 2
a95 1
#akbd*   at adb?                         # ADB keyboard
d140 2
@


1.13
log
@Engage UVM for powerpc. It is now running fairly well (better than non UVM)
on my machines as well as on brad's.
This change also eliminates the need for the ld.so hack for powerpc.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.12 2001/02/13 14:50:33 deraadt Exp $
d57 2
a58 1
ncr*	at pci? dev ? function ?
d101 2
a102 1
scsibus*	at ncr?
@


1.12
log
@default more wscons options
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.11 2000/12/07 18:19:31 deraadt Exp $
d14 1
@


1.11
log
@clean
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.10 2000/09/16 04:03:00 rahnds Exp $
a16 1
option		WSEMUL_VT100
@


1.10
log
@It is possible to have more than one usb keyboard configured thru wskbd.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.9 2000/09/07 22:03:09 deraadt Exp $
d15 1
a15 1
options		PPC_MPC106_BUG
d17 2
a18 2
option          WSEMUL_VT100
option          WSEMUL_NO_DUMB
d53 16
a68 16
pci*		at mpcpcibr?
pci*		at ppb? bus ?
ppb*		at pci? dev ? function ?	# PCI-PCI bridges

ncr*		at pci? dev ? function ?
de*		at pci? dev ? function ?
vgafb0		at pci? dev ? function ?	# PCI VGA graphics 
#ep*		at pci? dev ? function ?        # 3Com 3c59x
#ne*		at pci? dev ? function ?        # NE2000-compatible Ethernet
#adv*	at pci? dev ? function ?        # AdvanSys 1200[A,B], 9xx[U,UA] SCSI
#ahc*		at pci? dev ? function ?        # Adaptec 294x, aic78x0 SCSI
#bha*		at pci? dev ? function ?        # BusLogic 9xx SCSI
#pcscp*		at pci? dev ? function ?        # AMD Am53c974 PCscsi-PCI SCSI
#pciide*		at pci? dev ? function ?
obio0   at pci? dev ? function ?
gm*     at pci? dev ? function ?       		# gmac ethernet  G4 
@


1.9
log
@console ? here too
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.8 2000/09/07 01:43:05 rahnds Exp $
d142 1
a142 1
wskbd0		at ukbd? console ?
@


1.8
log
@Use the vt100 console emulation, remove dumb just for space.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7 2000/09/06 03:57:23 rahnds Exp $
d142 1
a142 1
wskbd0		at ukbd? console 1
@


1.7
log
@Update to use vga console, USB keyboard, adb for reset/poweroff.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.6 2000/08/08 01:45:09 deraadt Exp $
d17 2
@


1.6
log
@more glitz
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.5 2000/08/08 01:07:52 deraadt Exp $
a47 2
#isabr*		at pci?		# ISA dev bridge.
#isabr*		at mainbus0	# ISA dev bridge.
d57 1
a57 3
#vme*		at pci? dev ? function ?
#vga*		at pci? dev ? function ?	# PCI VGA graphics 
#vgafb0		at pci? dev ? function ?	# PCI VGA graphics 
a63 1
#ofb*	at pci? dev ? function ?        # Generic Open Firmware Framebuffer
a64 1
#macofcons0 at pci? dev ? function ?    # OpenFirmware console (for debugging)
a81 8
# PCI USB Controllers
#uhci*	at pci?				# Universal Host Controller (Intel)
#ohci*	at pci?				# Open Host Controller

# USB bus support
#usb*	at uhci?
#usb*	at ohci?

d89 1
a89 1
#adb*    at obio?                        # Apple Desktop Bus
a95 1

a105 1

d117 9
a125 1
#### ISA Bus devices.
d127 2
a128 1
#isa*		at isabr?
d130 2
a131 4
#com0		at isa? port 0x3f8 irq 4
#com1		at isa? port 0x2f8 irq 3
#com2		at isa? port 0x3e8 irq 1	#addresses for VI board com1
#com3		at isa? port 0x2e8 irq 5	#addresses for VI board com0
d133 2
a134 3
#pckbc0		at isa?			# PC prog. periph. interface
#pckbd0		at pckbc?			# PC keyboard (kbd port)
#pms0		at pckbc?			# PS/2-style mouse (aux port)
a135 1
#vga0		at isa?			# ISA VGA
d139 2
a140 2
#wscons*		at vga?
#wscons*		at vgafb?
@


1.5
log
@GENERIC is what we really use
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISKMAC,v 1.9 2000/08/07 18:51:22 deraadt Exp $
d16 1
@


1.4
log
@Merged versions of GENERIC and MIX as well as RAMDISK and RAMDISKMIX.
@
text
@d1 1
d3 1
a3 1
# RAMDISK install kernel definition.
d8 1
a8 5
maxusers	8

# Standard system options
option		SWAPPAGER
option		DEVPAGER
d12 1
a12 1
option		SYS_TYPE=OFWMACH
d17 17
a33 2
#options		KTRACE
#options		DEBUG
d35 1
a35 10
option		NFSCLIENT
#option		NFSSERVER

option		CD9660
option		MSDOSFS
options		FIFO
options		KERNFS
option		FFS
#option		QUOTA
option		MFS
a36 4
options		INET

# Specify storage configuration using ramdisk
config		bsd	root on rd0a swap on rd0b
d46 3
a48 3
isabr*		at pci?		# ISA dev bridge.
mpcpcibr*	at mainbus0	# MPC106 PCI Bridge.
isabr*		at mainbus0	# ISA dev bridge.
d53 3
a56 1
scsibus*	at ncr?
d61 70
d134 1
a134 1
isa*		at isabr?
d136 15
a150 4
com0		at isa? port 0x3f8 irq 4
com1		at isa? port 0x2f8 irq 3
com2		at isa? port 0x3e8 irq 1	#addresses for VI board com1
com3		at isa? port 0x2e8 irq 5	#addresses for VI board com0
d165 1
a165 1
#ofdisk*	at openfirm?	 # used for floppy support
d167 1
a167 3
#ofcons*	at openfirm?

#### PSEUDO Devices
a168 10
pseudo-device	loop		 1	# network loopback
#pseudo-device	bpfilter	 8	# packet filter ports
#pseudo-device	sl		 2	# serial-line IP ports
pseudo-device	ppp		 1	# serial-line PPP ports
#pseudo-device	tun		 2	# network tunneling over tty

#pseudo-device	pty		64	# pseudo ptys
#pseudo-device	random		 1
#pseudo-device	vnd		 4	# paging to files
#pseudo-device	ccd		 4	# concatenated disk devices
@


1.4.8.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@a0 1
#	$OpenBSD: RAMDISK,v 1.19 2001/04/13 03:01:02 deraadt Exp $
d2 1
a2 1
# PPC GENERIC config file
d7 5
a11 1
maxusers	32
d15 1
a15 1
option		SYS_TYPE=APPL
a16 1
option		UVM
d18 7
a24 17
option		PPC_MPC106_BUG
option		PCIVERBOSE
option		WSEMUL_NO_DUMB

# include "../../../conf/GENERIC"
option		TIMEZONE=0	# time zone to adjust RTC time by
option		DST=0		# daylight savings time used by RTC
option		SWAPPAGER	# paging; REQUIRED
option		DEVPAGER	# mmap() of devices
option		COMPAT_43	# and 4.3BSD
option		FFS		# UFS
option		MFS		# memory file system
option		CD9660		# ISO 9660 + Rock Ridge file system
option		MSDOSFS		# MS-DOS file system
option		KERNFS		# /kern
option		INET		# IP + ICMP + TCP + UDP
option		DDB		# IP + ICMP + TCP + UDP
d26 11
a38 1

d47 3
a49 1
pchb*		at pci?		# host bridge identifiers
d54 2
a55 6
ppb*		at pci? dev ? function ?	# PCI-PCI bridges
pci*		at ppb? bus ?

siop*		at pci? dev ? function ?
#ncr*		at pci? dev ? function ?
fxp*		at pci? dev ? function ?
d58 4
a61 88
vgafb0		at pci? dev ? function ?	# PCI VGA graphics 
#ep*		at pci? dev ? function ?	# 3Com 3c59x
#ne*		at pci? dev ? function ?	# NE2000-compatible Ethernet
#adv*		at pci? dev ? function ?	# AdvanSys 1200[A,B], 9xx[U,UA] SCSI
#ahc*		at pci? dev ? function ?	# Adaptec 294x, aic78x0 SCSI
#bha*		at pci? dev ? function ?	# BusLogic 9xx SCSI
#pcscp*		at pci? dev ? function ?	# AMD Am53c974 PCscsi-PCI SCSI
#pciide*	at pci? dev ? function ?
obio0		at pci? dev ? function ?
gm*		at pci? dev ? function ?	# GMAC ethernet

# how many of these are needed?
exphy*	at mii? phy ?			# 3Com internal PHYs
inphy*	at mii? phy ?			# Intel 82555 PHYs
iophy*	at mii? phy ?			# Intel 82553 PHYs
icsphy* at mii? phy ?			# Integrated Circuit Systems ICS1890
#lxtphy* at mii? phy ?			# Level One LXT-970 PHYs
nsphy*	at mii? phy ?			# NS83840 PHYs
#nsphyter* at mii? phy ?		# NS83843 PHYs
#qsphy*	at mii? phy ?			# Quality Semiconductor QS6612 PHYs
sqphy*	at mii? phy ?			# Seeq 80220/80221/80223 PHYs
#tlphy*	at mii? phy ?			# ThunderLAN PHYs
#tqphy*	at mii? phy ?			# TDK Semiconductor PHYs
brgphy* at mii? phy ?			# Broadcom 10/100/1000 PHYs 
bmtphy* at mii? phy ?			# Broadcom 10/100 PHYs 
ukphy*	at mii? phy ?			# generic unknown PHYs

macintr0 at obio?			# old interrupt controller
openpic0 at obio?			# openpic interrupt controller
bm*	at obio?			# bmac ethernet
#mc*	at obio?			# MACE ethernet
#esp*	at obio? flags 0x00ff		# 53c9x SCSI
#mesh*	at obio? flags 0xffff		# MESH SCSI
#nvram*	at obio?			# nvram
adb*	at obio?			# Apple Desktop Bus
gpio*	at obio?			# GPIO, PMU interrupt router.
gpio*	at gpio?			# GPIO, PMU interrupt router.
aed*	at adb?				# ADB Event Device
akbd*	at adb?				# ADB keyboard
wskbd*		at akbd? console ?
#ams*	at adb?				# ADB mouse
#wsmouse* at ams?			
abtn*	at adb?				# ADB button?
#zsc*	at obio?
#zstty*	at zsc? channel ?

#### SCSI attachment points

scsibus*	at siop?
#scsibus*	at ncr?
#scsibus*	at adv?
#scsibus*	at ahc?
#scsibus*	at bha?
#scsibus*	at esp?
#scsibus*	at mesh?
#scsibus*	at pcscp?

wdc*	at obio? flags 0x0
#wd*	at pciide? channel ? drive ?
#wd*	at wdc? channel ? drive ? flags 0x0000
wd*	at wdc? drive ? flags 0x0000

atapiscsi* at wdc? channel ? flags 0x0000

# ATAPI<->SCSI
scsibus* at atapiscsi?


# PCI USB Controllers
ohci*	at pci?				# Open Host Controller

# USB bus support
usb*	at ohci?	flags 0x1
uhub*	at usb?
uhub*  at uhub? port ? configuration ? interface ?

uhid*	at uhub? port ? configuration ?	# USB Generic HID devices
ukbd*	at uhub? port ? configuration ?	# USB HID Keyboard devices
#ums*	at uhub? port ? configuration ?	# USB Mice
#wsmouse* at ums? mux 0
#ulpt*	at uhub? port ? configuration ?	# USB Printer
#uscanner*  at uhub? port ?		# USB Scanner driver
#usscanner* at uhub? port ?		# USB SCSI scanners, e.g., HP5300
#scsibus* at usscanner?
#uyap*	at uhub? port ?			# Y@@P firmware loader
#ugen*	at uhub? port ? configuration ? # USB Generic driver
umass*	at uhub? port ? configuration ? # USB Mass Storage devices
scsibus* at umass?
d63 1
a63 1
#### Workstation Console attachments
d65 4
a68 2
wsdisplay*	at vgafb?
wskbd*		at ukbd? console ?
d83 1
a83 1
#ofdisk*		at openfirm?	 # used for floppy support
d85 1
a85 1
ofcons*	at openfirm?
d87 13
a99 6
pseudo-device	loop	1	# network loopback
pseudo-device	pty	64	# pseudo-terminals
#pseudo-device	ccd	4	# concatenated disk devices
#pseudo-device	ksyms	1	# kernel symbols device
pseudo-device   bpfilter 1	# packet filter
pseudo-device	rd	 1	# ram disk
a103 1

@


1.4.8.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.4.8.1 2001/04/18 16:12:55 niklas Exp $
d14 1
d22 1
a22 1
option		DST=0		# daylight saving time used by RTC
d30 1
d43 1
a44 1
memc*		at mainbus0
d65 2
a66 2
pciide*	at pci? dev ? function ?
macobio0	at pci? dev ? function ?
a67 1
an*		at pci? dev ? function ?	# Cisco/Aironet 802.11DS
d70 27
a96 28
exphy*		at mii? phy ?		# 3Com internal PHYs
inphy*		at mii? phy ?		# Intel 82555 PHYs
iophy*		at mii? phy ?		# Intel 82553 PHYs
icsphy*		at mii? phy ?		# Integrated Circuit Systems ICS1890
#lxtphy*	at mii? phy ?		# Level One LXT-970 PHYs
nsphy*		at mii? phy ?		# NS83840 PHYs
#nsphyter*	at mii? phy ?		# NS83843 PHYs
#qsphy*		at mii? phy ?		# Quality Semiconductor QS6612 PHYs
sqphy*		at mii? phy ?		# Seeq 80220/80221/80223 PHYs
#tlphy*		at mii? phy ?		# ThunderLAN PHYs
#tqphy*		at mii? phy ?		# TDK Semiconductor PHYs
brgphy*		at mii? phy ?		# Broadcom 10/100/1000 PHYs 
bmtphy*		at mii? phy ?		# Broadcom 10/100 PHYs 
ukphy*		at mii? phy ?		# generic unknown PHYs

macintr0	at macobio?		# old interrupt controller
openpic0	at macobio?		# openpic interrupt controller
bm*		at macobio?		# bmac ethernet
#mc*		at macobio?		# MACE ethernet
#esp*		at macobio? flags 0x00ff# 53c9x SCSI
#mesh*		at macobio? flags 0xffff# MESH SCSI
#nvram*		at macobio?		# nvram
adb*		at macobio?		# Apple Desktop Bus
wi*		at macobio?		# Apple Airport 802.11DS
gpio*		at macobio?		# GPIO, PMU interrupt router.
gpio*		at gpio?		# GPIO, PMU interrupt router.
aed*		at adb?			# ADB Event Device
akbd*		at adb?			# ADB keyboard
d98 7
a104 5
#ams*		at adb?			# ADB mouse
#wsmouse*	at ams?			
abtn*		at adb?			# ADB button?
#zsc*		at macobio?
#zstty*		at zsc? channel ?
d115 10
a124 6
wdc*		at macobio? flags 0x0
wd*		at wdc? drive ? flags 0x0000
wd*		at pciide? channel ? drive ?
atapiscsi*	at wdc? channel ? flags 0x0000
atapiscsi*	at pciide? channel ? flags 0x0000
scsibus*	at atapiscsi?
d127 1
a127 1
ohci*		at pci?			# Open Host Controller
d130 18
a147 18
usb*		at ohci?	flags 0x1
uhub*		at usb?
uhub*		at uhub? port ? configuration ? interface ?

uhid*		at uhub? port ? configuration ?	# USB Generic HID devices
ukbd*		at uhub? port ? configuration ?	# USB HID Keyboard devices
#ums*		at uhub? port ? configuration ?	# USB Mice
#wsmouse*	at ums? mux 0
#ulpt*		at uhub? port ? configuration ?	# USB Printer
#uscanner*	at uhub? port ?			# USB Scanner driver
#usscanner*	at uhub? port ?			# USB SCSI scanners
#scsibus*	at usscanner?
#uyap*		at uhub? port ?			# Y@@P firmware loader
#ugen*		at uhub? port ? configuration ? # USB Generic driver
umass*		at uhub? port ? configuration ? # USB Mass Storage devices
scsibus*	at umass?
kue*		at uhub? port ?			# Kawasaki KL5KUSB101B
aue*		at uhub? port ?			# USB EtherNet 
d152 2
d161 8
d174 1
a174 1
pseudo-device	rd	1	# ram disk
d179 2
@


1.4.8.3
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.4.8.2 2001/07/04 10:22:14 niklas Exp $
@


1.4.8.4
log
@Merge in -current
@
text
@d1 1
a1 1
#	$OpenBSD$
@


1.4.8.5
log
@repair
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.4.8.4 2001/11/13 21:04:16 niklas Exp $
@


1.3
log
@Shrink kernels and make work for ramdisks better. (so they fit on floppy)
@
text
@d13 4
d18 1
a18 3

# specific define for VI boards
options		power4e
d39 3
d45 3
a50 9

#### ISA Bus devices.

isa*		at isabr?

com0		at isa? port 0x2e8 irq 5
com1		at isa? port 0x3e8 irq 1


d58 2
d61 8
d75 11
a85 4
ch*		at scsibus? target ? lun ?
ss*		at scsibus? target ? lun ?
uk*		at scsibus? target ? lun ?

d92 1
a92 1
pseudo-device	ppp		 2	# serial-line PPP ports
@


1.2
log
@Major changes here and there, tweaks elsewhere.
Support for Openfirmware drivers was reintroduced so that more systems
were supported. This should work with the real driver configurations
as well.

Bootloader files were deleted/replaced with the newer versions in the
subdirectory. Some effort has been made to be closer to support booting
(at least the bootloader) on the Mac.

Config files that end with OFW are the openfirmware versions of the kernels
without have native drivers.

Native driver support has not been changed, presumably it still works.
I couldn't test that.
@
text
@a11 1
option		NATIVE_ELF
d18 2
a19 2
options		KTRACE
options		DEBUG
d22 1
a22 1
option		NFSSERVER
d28 2
a29 1
option		FFS,QUOTA
d75 1
a75 1
pseudo-device	sl		 2	# serial-line IP ports
@


1.1
log
@Monolithic PowerPC kernel RAMDISK
@
text
@d16 3
@

