head	1.10;
access;
symbols
	SMP_SYNC_A:1.10
	SMP_SYNC_B:1.10
	UBC_SYNC_A:1.10
	UBC_SYNC_B:1.10
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_9:1.8.0.14
	OPENBSD_2_8:1.8.0.12
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.8.0.10
	OPENBSD_2_7_BASE:1.8
	SMP:1.8.0.8
	SMP_BASE:1.8
	kame_19991208:1.8
	OPENBSD_2_6:1.8.0.6
	OPENBSD_2_6_BASE:1.8
	OPENBSD_2_5:1.8.0.4
	OPENBSD_2_5_BASE:1.8
	OPENBSD_2_4:1.8.0.2
	OPENBSD_2_4_BASE:1.8
	OPENBSD_2_3:1.7.0.4
	OPENBSD_2_3_BASE:1.7
	OPENBSD_2_2:1.7.0.2
	OPENBSD_2_2_BASE:1.7
	OPENBSD_2_1:1.6.0.2
	OPENBSD_2_1_BASE:1.6
	powerpc_1:1.1.1.1;
locks; strict;
comment	@# @;


1.10
date	2001.09.01.15.39.02;	author drahn;	state dead;
branches;
next	1.9;

1.9
date	2001.06.23.01.53.01;	author drahn;	state Exp;
branches;
next	1.8;

1.8
date	98.05.29.04.15.44;	author rahnds;	state Exp;
branches
	1.8.8.1;
next	1.7;

1.7
date	97.10.15.14.07.53;	author pefo;	state Exp;
branches;
next	1.6;

1.6
date	97.05.21.22.50.04;	author rahnds;	state Exp;
branches;
next	1.5;

1.5
date	97.02.18.22.36.40;	author rahnds;	state Exp;
branches;
next	1.4;

1.4
date	97.02.06.23.44.55;	author rahnds;	state Exp;
branches;
next	1.3;

1.3
date	97.01.09.05.21.27;	author rahnds;	state Exp;
branches;
next	1.2;

1.2
date	96.12.28.06.31.08;	author rahnds;	state Exp;
branches;
next	1.1;

1.1
date	96.12.21.20.35.59;	author rahnds;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.12.21.20.35.59;	author rahnds;	state Exp;
branches;
next	;

1.8.8.1
date	2001.07.04.10.23.07;	author niklas;	state Exp;
branches;
next	1.8.8.2;

1.8.8.2
date	2001.10.31.03.07.56;	author nate;	state dead;
branches;
next	;


desc
@@


1.10
log
@The "powerpc" port which has supported the newer Apple Macintosh powerpc based
is being renamed to macppc. This is to allow sharing of common code
between different powerpc base platforms.

Most of the work involved in the renaming process was performed by miod@@

Files moved from powerpc/stand to macppc/stand
@
text
@#	$OpenBSD: Makefile,v 1.9 2001/06/23 01:53:01 drahn Exp $
#	$NetBSD: Makefile,v 1.1 1996/09/30 16:34:59 ws Exp $

SUBDIR=	ofwboot boot.mac mbr

SAREL=
KERNREL=
KERN_AS=library
Z_AS=library
SA_ZLIB=smth
USE_LOADFILE=yes

.include "Makefile.inc"
.include "$S/lib/libz/Makefile.inc"
.include "$S/lib/libsa/Makefile.inc"
.include "$S/lib/libkern/Makefile.inc"

all:	${ZLIB} ${SALIB} ${KERNLIB} _SUBDIRUSE

libdep:
	@@echo ${.OBJDIR}/${SALIB} $(KERNLIB) ${ZLIB}


${PROG}:	

clean::	_SUBDIRUSE

cleandir:	_SUBDIRUSE

depend::	_SUBDIRUSE

.include <bsd.obj.mk>
.include <bsd.subdir.mk>
@


1.9
log
@Support for powerpc to load symbols, uses new libsa loadfile.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2001/06/23 01:48:41 drahn Exp $
@


1.8
log
@Major changes here and there, tweaks elsewhere.
Support for Openfirmware drivers was reintroduced so that more systems
were supported. This should work with the real driver configurations
as well.

Bootloader files were deleted/replaced with the newer versions in the
subdirectory. Some effort has been made to be closer to support booting
(at least the bootloader) on the Mac.

Config files that end with OFW are the openfirmware versions of the kernels
without have native drivers.

Native driver support has not been changed, presumably it still works.
I couldn't test that.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 1997/10/15 14:07:53 pefo Exp $
d11 1
@


1.8.8.1
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 1998/05/29 04:15:44 rahnds Exp $
a10 1
USE_LOADFILE=yes
@


1.8.8.2
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8.8.1 2001/07/04 10:23:07 niklas Exp $
@


1.7
log
@Add shm/sem includes, fix up disklabel stuff
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 1997/05/21 22:50:04 rahnds Exp $
d4 1
a4 2
#SUBDIR=	boot boot.mac ofwboot mbr
SUBDIR=	ofwboot mbr
@


1.6
log
@build ofwboot, this is the "new" boot program, boot.ppc probably will
go away soon.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1997/02/18 22:36:40 rahnds Exp $
d4 2
a5 1
SUBDIR=	boot boot.mac ofwboot
@


1.5
log
@Add the necessary pieces to boot on a PowerMAC, does not currently work,
Debugging in progress.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1997/02/06 23:44:55 rahnds Exp $
d4 1
a4 1
SUBDIR=	boot boot.mac
@


1.4
log
@Add zlib support for booting gzipped kernels.
Clean up to allow this to happen.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1997/01/09 05:21:27 rahnds Exp $
d4 1
a4 1
SUBDIR=	boot
@


1.3
log
@Fix the SALIB dependancies correctly so that it builds and locates
the library.

Fix alloc.c so that the piece allocated is of the "correct" size for
the current allocation by splitting the buffer.
This was required so that free would work correctly if a large buffer
was allocated, then freed, the allocated again with a small allocation.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 1996/12/28 06:31:08 rahnds Exp $
d9 2
d13 1
d17 1
a17 1
all:	${SALIB} ${KERNLIB} _SUBDIRUSE
d20 1
a20 1
	@@echo ${.OBJDIR}/${SALIB} $(KERNLIB)
@


1.2
log
@add OpenBSD tag to files.
@
text
@d1 1
a1 1
#	$OpenBSD:$
d14 1
a14 1
all:	$(SALIB) ${KERNLIB} _SUBDIRUSE
d17 1
a17 1
	@@echo $(SALIB) $(KERNLIB)
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@Check-in of powerpc kernel support.
NOTE: This will not work until the other pieces are checked in.
This is primarily the NetBSD powerpc port, with modifications
to support ELF. 
@
text
@@
