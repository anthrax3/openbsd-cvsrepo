head	1.13;
access;
symbols
	OPENBSD_5_5:1.12.0.18
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.14
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.12.0.12
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.12.0.10
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.8
	OPENBSD_5_0:1.12.0.6
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.12.0.4
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.12.0.2
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.10.0.8
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.10
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.6
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.10.0.4
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.10.0.2
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.9.0.10
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.9.0.8
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.6
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.4
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.2
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.7.0.22
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.7.0.20
	OPENBSD_3_6_BASE:1.7
	SMP_SYNC_A:1.7
	SMP_SYNC_B:1.7
	OPENBSD_3_5:1.7.0.18
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.7.0.16
	OPENBSD_3_4_BASE:1.7
	UBC_SYNC_A:1.7
	OPENBSD_3_3:1.7.0.14
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.7.0.12
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.7.0.10
	OPENBSD_3_1_BASE:1.7
	UBC_SYNC_B:1.7
	UBC:1.7.0.8
	UBC_BASE:1.7
	OPENBSD_3_0:1.7.0.6
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9:1.7.0.4
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_8:1.7.0.2
	OPENBSD_2_8_BASE:1.7
	OPENBSD_2_7:1.6.0.16
	OPENBSD_2_7_BASE:1.6
	SMP:1.6.0.14
	SMP_BASE:1.6
	kame_19991208:1.6
	OPENBSD_2_6:1.6.0.12
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.6.0.10
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.6.0.8
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.6.0.6
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.6.0.4
	OPENBSD_2_2_BASE:1.6
	OPENBSD_2_1:1.6.0.2
	OPENBSD_2_1_BASE:1.6
	OPENBSD_2_0:1.5.0.2
	OPENBSD_2_0_BASE:1.5;
locks; strict;
comment	@# @;


1.13
date	2014.03.18.22.36.33;	author miod;	state dead;
branches;
next	1.12;

1.12
date	2010.06.29.21.42.55;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2010.05.31.22.21.43;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2007.10.18.18.08.02;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2005.05.06.11.16.47;	author pedro;	state Exp;
branches;
next	1.8;

1.8
date	2005.05.06.02.52.45;	author marco;	state Exp;
branches;
next	1.7;

1.7
date	2000.05.25.21.55.02;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	97.01.13.11.51.02;	author niklas;	state Exp;
branches
	1.6.14.1;
next	1.5;

1.5
date	96.08.23.18.59.52;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	96.08.04.13.10.29;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.08.04.01.22.43;	author niklas;	state dead;
branches;
next	1.2;

1.2
date	96.05.29.21.05.10;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	95.11.07.21.15.17;	author deraadt;	state Exp;
branches;
next	;

1.6.14.1
date	2001.04.18.16.09.57;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@#	$OpenBSD: Makefile,v 1.12 2010/06/29 21:42:55 deraadt Exp $

SUBDIR=	060sp fpsp

tags:

.include <bsd.subdir.mk>
@


1.12
log
@Don't use SUBDIR to traverse tags builds, but punt them straight to
the specific target in kern/Makefile. Be more cautious and block tags
builds in m68k in case something tries to build them there.
ok drahn
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2010/05/31 22:21:43 deraadt Exp $
@


1.11
log
@Completely rewrite the tags file creation process.  use config(8) against
a fat kernel (GERERIC or GENERIC.MP) into a temporary dir, then extract some
variables using make -V, and after some more singing and dancing use this
full and (more) correct list of files with ctags.  Don't read this code.
ok guenther
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2007/10/22 01:26:31 deraadt Exp $
d4 2
@


1.10
log
@enter for obj@@ building, otherwise dribbles happen
@
text
@d1 1
a1 29
#	$OpenBSD: Makefile,v 1.9 2005/05/06 11:16:47 pedro Exp $

S=${.CURDIR}/../..
.include "$S/kern/Make.tags.inc"

SUBDIR+= 060sp fpsp

TM68K=	$S/arch/m68k/tags
SM68K=	$S/arch/m68k/m68k/*.[ch] \
	$S/arch/m68k/include/*.h
AM68K=	$S/arch/m68k/m68k/*.[sS]  \
	$S/lib/libkern/arch/m68k/*.[sS] \
	$S/arch/m68k/fpsp/*.sa    \
	$S/arch/m68k/060sp/*.[sS] \
	$S/arch/m68k/060sp/*.sa   \

# Directories in which to place m68k tags links
DM68K=	conf m68k include pci

tags:
	-ctags -wdtf ${TM68K} ${COMM} ${SM68K}
	egrep "^ENTRY(.*)|^ALTENTRY(.*)" ${AM68K} | \
	    sed "s;\([^:]*\):\([^(]*\)(\([^, )]*\)\(.*\);\3	\1	/^\2(\3\4$$/;" \
		>> ${TM68K}
	sort -o ${TM68K} ${TM68K}

links:
	-for i in ${DM68K}; do \
	    cd $$i && rm -f tags; ln -s ${TM68K} tags; done
d3 1
@


1.9
log
@generate vim-compatible tag files, from netbsd
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2005/05/06 02:52:45 marco Exp $
a5 1
.if ${MACHINE_ARCH} == "m68k"
a6 1
.endif
@


1.8
log
@Add tags to m68k.

<miod>	commit your stuff.
<miod>	make tags work.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2000/05/25 21:55:02 deraadt Exp $
d25 1
a25 1
	    sed "s;\([^:]*\):\([^(]*\)(\([^, )]*\)\(.*\);\3 \1 /^\2(\3\4$$/;" \
@


1.7
log
@cause traversal into arch & subdirectories for the purposes of manual page install...
@
text
@d1 4
a4 1
#	$OpenBSD: Makefile,v 1.6 1997/01/13 11:51:02 niklas Exp $
d9 24
@


1.6
log
@Sync to 970110 NetBSD
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1996/08/23 18:59:52 niklas Exp $
d3 1
d5 1
@


1.6.14.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2000/05/25 21:55:02 deraadt Exp $
a2 1
.if ${MACHINE_ARCH} == "m68k"
a3 1
.endif
@


1.5
log
@treat 060sp build like fpsp, i.e. automatic subdir-diving from arch/m68k
and then handle de-facto standard rules intuitively
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile,v 1.4 1996/08/04 13:10:29 deraadt Exp $
#	$NetBSD: Makefile,v 1.5 1995/09/15 21:05:21 pk Exp $
@


1.4
log
@no, we need this Makefile
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 1996/05/29 21:05:10 niklas Exp $
d4 1
a4 1
SUBDIR+= fpsp
@


1.3
log
@Merge of 0722 NetBSD
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 1996/05/29 21:05:10 niklas Exp niklas $
@


1.2
log
@$OpenBSD$ additions
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1995/09/15 21:05:21 pk Exp $
@


1.1
log
@fpsp is a subdir
@
text
@d1 1
@
