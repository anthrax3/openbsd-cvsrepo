head	1.16;
access;
symbols
	SMP_SYNC_A:1.16
	SMP_SYNC_B:1.16
	UBC_SYNC_A:1.16
	OPENBSD_3_2:1.15.0.2
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.14.0.2
	OPENBSD_3_1_BASE:1.14
	UBC_SYNC_B:1.15
	UBC:1.12.0.2
	UBC_BASE:1.12
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9:1.9.0.2
	OPENBSD_2_9_BASE:1.9
	OPENBSD_2_8:1.8.0.2
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.6.0.6
	OPENBSD_2_7_BASE:1.6
	SMP:1.6.0.4
	SMP_BASE:1.6
	kame_19991208:1.6
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.5.0.4
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.5.0.2
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.4.0.4
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.2
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.2.0.2
	OPENBSD_2_1_BASE:1.2;
locks; strict;
comment	@# @;


1.16
date	2002.12.31.16.35.37;	author miod;	state dead;
branches;
next	1.15;

1.15
date	2002.08.03.08.55.35;	author pvalchev;	state Exp;
branches;
next	1.14;

1.14
date	2002.03.14.00.47.56;	author miod;	state Exp;
branches;
next	1.13;

1.13
date	2002.01.23.19.16.09;	author fgsch;	state Exp;
branches;
next	1.12;

1.12
date	2001.12.07.15.22.35;	author art;	state Exp;
branches
	1.12.2.1;
next	1.11;

1.11
date	2001.08.28.09.19.03;	author jj;	state Exp;
branches;
next	1.10;

1.10
date	2001.06.27.05.46.11;	author art;	state Exp;
branches;
next	1.9;

1.9
date	2000.11.08.11.53.54;	author art;	state Exp;
branches;
next	1.8;

1.8
date	2000.07.20.15.28.52;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2000.07.16.07.41.12;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	99.09.09.21.27.36;	author espie;	state Exp;
branches
	1.6.4.1;
next	1.5;

1.5
date	98.10.04.23.26.38;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	97.09.19.17.16.17;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	97.09.18.13.39.40;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	97.05.18.13.18.27;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	97.05.13.16.07.23;	author niklas;	state Exp;
branches;
next	;

1.6.4.1
date	2001.04.18.16.02.04;	author niklas;	state Exp;
branches;
next	1.6.4.2;

1.6.4.2
date	2001.07.04.10.15.06;	author niklas;	state Exp;
branches;
next	1.6.4.3;

1.6.4.3
date	2001.10.31.02.52.45;	author nate;	state Exp;
branches;
next	1.6.4.4;

1.6.4.4
date	2002.03.06.00.56.18;	author niklas;	state Exp;
branches;
next	1.6.4.5;

1.6.4.5
date	2002.03.28.10.06.14;	author niklas;	state Exp;
branches;
next	1.6.4.6;

1.6.4.6
date	2003.03.27.23.19.17;	author niklas;	state dead;
branches;
next	;

1.12.2.1
date	2002.01.31.22.55.06;	author niklas;	state Exp;
branches;
next	1.12.2.2;

1.12.2.2
date	2002.06.11.03.34.57;	author art;	state Exp;
branches;
next	1.12.2.3;

1.12.2.3
date	2002.10.29.00.28.01;	author art;	state Exp;
branches;
next	1.12.2.4;

1.12.2.4
date	2003.05.19.21.49.38;	author tedu;	state dead;
branches;
next	;


desc
@@


1.16
log
@amiga and sun3 turned out to not be y2k+3 compliant here. Remove them, as
well as the few userland tools which were only used on these platforms.
@
text
@#	$OpenBSD: RAMDISK,v 1.15 2002/08/03 08:55:35 pvalchev Exp $

#
# A ramdisk kernel
#

include "arch/amiga/conf/std.amiga"

include "conf/GENERIC"
rmoption	PTRACE

maxusers	4

#
# mainboards to support (in addition to Amiga)
#
option		DRACO

#
# processors this kernel should support
#
option		"M68060"	# support for 060
option		"M060SP"	# ...and MC68060 support package
option		"M68040"	# support for 040
option		FPSP		# MC68040 floating point support
option		"M68030"	# support for 030
option		"M68020"	# support for 020/851
option		FPU_EMULATE	# FPU emulation

#
# File systems
#
option		ADOSFS		# AmigaDOS file system

#
# Compatibility options for various existing systems
#
#option		COMPAT_SUNOS	# Support to run Sun (m68k) executables
#option		COMPAT_HPUX	# HP300 compatibility

#
# Support for various kernel options
#


#
# Misc. debugging options
#
#option		DEBUG		# Add debugging statements
#option		SYSCALL_DEBUG	# debug all syscalls.
#option		SCSIDEBUG	# Add SCSI debugging statements
#option		PANICBUTTON	# Forced crash via keypress (???)

#
# Amiga specific options
#
# ATTENTION: There is NO WARRANTY AT ALL that the sync will be complete
# before the 10 secondinterval ends, or that KBDRESET does work at all.
#option		KBDRESET	# sync on Ctrl-Amiga-Amiga

# These options improve performance with the built-in serial port
# on slower Amigas.  Try the larger buffers first then lev6_defer.
#option		"SERIBUF_SIZE=4096"
#option		"SEROBUF_SIZE=32"
#option		LEV6_DEFER	# defers l6 to l4 (below serial l5)
option		IPL_REMAP_1	# use remapping interruptsystem version 1
#option		IPL_REMAP_2	# and version 2 (not yet done)

option		RETINACONSOLE	# enable code to allow retina to be console
option		ULOWELLCONSOLE	# enable code to allow a2410 to be console
option		CL5426CONSOLE	# Cirrus console
option		CV64CONSOLE	# CyberVision console
option		TSENGCONSOLE	# Tseng console

option		GRF_ECS		# Enhanced Chip Set
option		GRF_NTSC	# NTSC
option		GRF_PAL		# PAL
option		"GRF_A2024"	# Support for the A2024
option		GRF_AGA		# AGA Chip Set
#option		"KFONT_8X11"	# 8x11 font

# This is how you would tell the kernel the A2410 oscillator frequencies:
# The used frequencies are the defaults, and don't need option setting
#option		"ULOWELL_OSC1=36000000"
#option		"ULOWELL_OSC2=66667000"

# This is how you specify the blitting speed, higher values may speed up blits
# a little bit.  If you raise this value too much some trash may appear.
# the commented version is the default.
#option		RH_MEMCLK 61000000
# this option enables the 64 bit sprite which doesn't seems to be work
# for quite a few people.  E.g. The cursor sprite will turn to a block
# when moved to the top of the screen in X.
#option		RH_64BIT_SPRITE
# enables fast scroll code appears to now work on 040 systems.
#option		RETINA_SPEED_HACK
# enables the Hardwarecursor which does not work on some systems.
#option		RH_HARDWARECURSOR

# Options for the ramdisk.
option		MINIROOTSIZE=3584
option		RAMDISK_HOOKS

config		bsd root rd0 swap rd0

grfcc0		at mainbus0		# custom chips
grfrt0		at zbus0		# retina II
grfrh0		at zbus0		# retina III
grfcl*		at zbus0		# Picasso II/Piccalo/Spectrum
grful0		at zbus0		# A2410
grfcv0		at zbus0		# CyberVision 64
grfet*		at zbus0		# Tseng (oMniBus, Domino, Merlin)

grf0		at grfcc0
grf1		at grfrt0
grf2		at grfrh0
grf3		at grfcl?
grf4		at grful0
grf5		at grfcv0
grf6		at grfet?

ite0		at grf0			# terminal emulators for grf's
ite1		at grf1			# terminal emulators for grf's
ite2		at grf2			# terminal emulators for grf's
ite3		at grf3			# terminal emulators for grf's
ite4		at grf4			# terminal emulators for grf's
ite5		at grf5			# terminal emulators for grf's
ite6		at grf6			# terminal emulators for grf's

#msc0		at zbus0		# A2232 MSC multiport serial.
#mfc0		at zbus0		# MultiFaceCard I/O board
#mfcs0		at mfc0 unit 0		# MFC serial
#mfcs1		at mfc0 unit 1		# MFC serial
#mfcp0		at mfc0 unit 0		# MFC parallel [not available yet]
#mfc1		at zbus0		# MultiFaceCard 2nd I/O board
#mfcs2		at mfc1 unit 0
#mfcs3		at mfc1 unit 1
#mfcp1		at mfc1 unit 0

le0		at zbus0		# Lance ethernet.
ed0		at zbus0		# dp8390 ethernet
es0		at zbus0		# SMC 91C90 ethernet
qn0		at zbus0		# quicknet ethernet
bah0		at zbus0		# C= arcnet


# scsi stuff, all possible
gvpbus*		at zbus0
gtsc0		at gvpbus?		# GVP series II scsi
ahsc0		at mainbus0		# A3000 scsi
atzsc0		at zbus0		# A2091 scsi
wstsc0		at zbus0		# Wordsync II scsi
ivsc0		at zbus0		# IVS scsi
mlhsc0		at zbus0		# Hacker scsi
otgsc0		at zbus0		# 12 gauge scsi
zssc0		at zbus0		# Zeus scsi
mgnsc0		at zbus0		# Magnum scsi
wesc0		at zbus0		# Warp Engine scsi
idesc0		at mainbus0		# A4000 & A1200 IDE
afsc0		at zbus0		# A4091 scsi
aftsc0		at mainbus0		# A4000T scsi
flsc0		at zbus0		# FastlaneZ3 scsi
bzsc0		at zbus0		# Blizzard 1230 I,II scsi
bztzsc0		at zbus0		# Blizzard 2060 scsi
empsc0		at zbus0		# Emplant scsi
drsc0		at mainbus0		# DraCo scsi

scsibus*	at gtsc0
scsibus*	at ahsc0
scsibus*	at atzsc0
scsibus*	at wstsc0
scsibus*	at ivsc0
scsibus*	at mlhsc0
scsibus*	at otgsc0
scsibus*	at zssc0
scsibus*	at mgnsc0
scsibus*	at wesc0
scsibus*	at idesc0
scsibus*	at afsc0
scsibus*	at aftsc0
scsibus*	at flsc0
scsibus*	at bzsc0
scsibus*	at bztzsc0
scsibus*	at empsc0
scsibus*	at drsc0

# each hard drive from low target to high
# will configure to the next available sd unit number
sd*	at scsibus? target ? lun ?	# scsi disks
st*	at scsibus? target ? lun ?	# scsi tapes
cd*	at scsibus? target ? lun ?	# scsi cd's
#ss*	at scsibus? target ? lun ?	# scsi scanners
#ch*	at scsibus? target ? lun ?	# scsi autochangers
#uk*	at scsibus? target ? lun ?	# scsi unknown

ggbus*	at zbus0			# Goldengate bridge
isa*	at ggbus?

cross*	at zbus0			# CrossLink bridge
isa*	at cross?

#isapnp0	at isa?

#com0	at isa? port 0x3f8 irq 4	# Standard PC serial ports
#com1	at isa? port 0x2f8 irq 3
#com2	at isa? port 0x3e8 irq 5
#com3	at isa? port 0x2e8 irq 9	# (conflicts with some video cards)
#com4	at isa? port 0x0f0 irq 11	# Crosslink builtin ports
#com5	at isa? port 0x0f8 irq 10
#ast0	at isa? port 0x1a0 irq 3	# AST 4-port serial cards
#com*	at ast? slave ?
#boca0	at isa? port 0x100 irq 5	# BOCA 8-port serial cards
#com*	at boca? slave ?
#rtfps0	at isa? port 0x1230 irq 10	# RT 4-port serial cards
#com*	at rtfps? slave ?
# option for using CD1400 handshaking for incoming data
# requires a special cable that exchanges the RTS and DTR lines
# options CY_HW_RTS
# cy0	at isa? iomem 0xd4000 irq 12	# ISA cyclom card

#lpt0	at isa? port 0x378 irq 7	# Standard PC parallel ports
#lpt1	at isa? port 0x278
#lpt2	at isa? port 0x3bc

wdc0	at isa? port 0x1f0 irq 14	# ST506, ESDI, and IDE controllers
#wdc1	at isa? port 0x170 irq ?
wd*	at wdc? drive ?

we0	at isa? port 0x280 iomem 0xd0000 irq 9	# WD/SMC 80x3 ethernet series
we1	at isa? port 0x300 iomem 0xcc000 irq 10	#
ec0	at isa? port 0x250 iomem 0xd8000 irq 9	# 3C503 ethernet cards
ne0	at isa? port 0x240 iomem 0xd8000 irq 9	# NE[12]000 ethernet cards
ne1	at isa? port 0x300 irq 10		# NE[12]000 ethernet cards
#ne*	at isapnp?				# NE[12]000 PnP ethernet cards

fd*	at fdc0 unit ?

pseudo-device	view	1		# views
pseudo-device	rd	1		# ramdisk
@


1.15
log
@spell 'debugging' correctly with double 'g' (in comments)
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.14 2002/03/14 00:47:56 miod Exp $
@


1.14
log
@Remove PTRACE support out of the ramdisks/miniroots.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.13 2002/01/23 19:16:09 fgsch Exp $
d47 1
a47 1
# Misc. debuging options
@


1.13
log
@compatability -> compatibility.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.12 2001/12/07 15:22:35 art Exp $
d8 1
d10 1
@


1.12
log
@
Sigh. MACHINE_NONCONTIG is not only non-optional, it has been replaced
by MACHINE_NEW_NONCONTIG ages ago and that option is gone too.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.11 2001/08/28 09:19:03 jj Exp $
d34 1
a34 1
# Compatability options for various existing systems
d37 1
a37 1
#option		COMPAT_HPUX	# HP300 compatability
@


1.12.2.1
log
@Merge in -current, builds on i386, otherwise untested
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.13 2002/01/23 19:16:09 fgsch Exp $
d34 1
a34 1
# Compatibility options for various existing systems
d37 1
a37 1
#option		COMPAT_HPUX	# HP300 compatibility
@


1.12.2.2
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.12.2.1 2002/01/31 22:55:06 niklas Exp $
a7 1

a8 1
rmoption	PTRACE
@


1.12.2.3
log
@sync to -current
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.12.2.2 2002/06/11 03:34:57 art Exp $
d47 1
a47 1
# Misc. debugging options
@


1.12.2.4
log
@sync
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.12.2.3 2002/10/29 00:28:01 art Exp $
@


1.11
log
@Dont hardcode NKMEMCLUSTERS, calculate it to 256, as other m68ks do.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.10 2001/06/27 05:46:11 art Exp $
a54 1
option		MACHINE_NONCONTIG # Non-contiguous memory support
@


1.10
log
@UVM is no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.9 2000/11/08 11:53:54 art Exp $
a42 1
option		"NKMEMCLUSTERS=256"	# Size of kernel malloc area
@


1.9
log
@Enable UVM by default.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.8 2000/07/20 15:28:52 espie Exp $
a26 2

option		UVM		# use the UVM virtual memory system
@


1.8
log
@Revert to old vm, now that it builds again.
UVM on amiga is definitely NOT READY for prime time yet.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7 2000/07/16 07:41:12 espie Exp $
d28 1
a28 1
#option		UVM		# use the UVM virtual memory system
@


1.7
log
@non-UVM doesn't even boot
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.6 1999/09/09 21:27:36 espie Exp $
d28 1
a28 1
option		UVM		# use the UVM virtual memory system
@


1.6
log
@New atapi->scsi interface.
Kill acd.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.5 1998/10/04 23:26:38 niklas Exp $
d27 2
@


1.6.4.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.9 2000/11/08 11:53:54 art Exp $
a26 2

option		UVM		# use the UVM virtual memory system
@


1.6.4.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.6.4.1 2001/04/18 16:02:04 niklas Exp $
d27 2
@


1.6.4.3
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.6.4.2 2001/07/04 10:15:06 niklas Exp $
d43 1
@


1.6.4.4
log
@Merge in trunk
@
text
@d1 1
a1 1
#	$OpenBSD$
d34 1
a34 1
# Compatibility options for various existing systems
d37 1
a37 1
#option		COMPAT_HPUX	# HP300 compatibility
d55 1
@


1.6.4.5
log
@Merge in -current from about a week ago
@
text
@a7 1

a8 1
rmoption	PTRACE
@


1.6.4.6
log
@Sync the SMP branch with 3.3
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.6.4.5 2002/03/28 10:06:14 niklas Exp $
@


1.5
log
@No more name clashes since ed disappeared from the isa world
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.4 1997/09/19 17:16:17 niklas Exp $
a227 3

atapibus* at wdc?
acd*	at atapibus? drive ?
@


1.4
log
@Kill FPCOPROC (and some forgotten {SWAP,DEV}PAGER)
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.3 1997/09/18 13:39:40 niklas Exp $
d232 6
a237 4
# XXX should be ed but clashes with Zorro ed device
isaed0	at isa? port 0x280 iomem 0xd0000 irq 9	# WD/SMC, 3C503, and NE[12]000
isaed1	at isa? port 0x250 iomem 0xd8000 irq 9	#   ethernet cards
isaed2	at isa? port 0x300 iomem 0xcc000 irq 10
@


1.3
log
@Merge of NetBSD changes upto last week or so, with the exception of stand/
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.2 1997/05/18 13:18:27 niklas Exp $
a25 1
option		FPCOPROC	# Support for MC6888[12] (Required)
@


1.2
log
@Trim!
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.1 1997/05/13 16:07:23 niklas Exp $
d27 1
a144 1
ae0		at zbus0		# Ariadne ethernet
@


1.1
log
@Add ramdisk config stuff
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.20 1997/03/25 16:53:56 niklas Exp $
d10 1
a10 1
maxusers	8
d36 1
a36 1
option		COMPAT_SUNOS	# Support to run Sun (m68k) executables
d101 1
a101 1
option		MINIROOTSIZE=4096
d130 4
a133 4
msc0		at zbus0		# A2232 MSC multiport serial.
mfc0		at zbus0		# MultiFaceCard I/O board
mfcs0		at mfc0 unit 0		# MFC serial
mfcs1		at mfc0 unit 1		# MFC serial
d193 3
a195 3
ss*	at scsibus? target ? lun ?	# scsi scanners
ch*	at scsibus? target ? lun ?	# scsi autochangers
uk*	at scsibus? target ? lun ?	# scsi unknown
d205 3
a207 3
com0	at isa? port 0x3f8 irq 4	# Standard PC serial ports
com1	at isa? port 0x2f8 irq 3
com2	at isa? port 0x3e8 irq 5
d209 8
a216 8
com4	at isa? port 0x0f0 irq 11	# Crosslink builtin ports
com5	at isa? port 0x0f8 irq 10
ast0	at isa? port 0x1a0 irq 3	# AST 4-port serial cards
com*	at ast? slave ?
boca0	at isa? port 0x100 irq 5	# BOCA 8-port serial cards
com*	at boca? slave ?
rtfps0	at isa? port 0x1230 irq 10	# RT 4-port serial cards
com*	at rtfps? slave ?
d222 3
a224 3
lpt0	at isa? port 0x378 irq 7	# Standard PC parallel ports
lpt1	at isa? port 0x278
lpt2	at isa? port 0x3bc
d240 2
a241 2
pseudo-device	view	10		# views
pseudo-device	rd	2		# ramdisk
@
