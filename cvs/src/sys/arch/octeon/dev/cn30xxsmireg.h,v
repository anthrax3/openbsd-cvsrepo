head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.4
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.1.0.26
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.22
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.18
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.20
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.12
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.16
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.14
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.10
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.8
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.6
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.4
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@ * @;


1.2
date	2017.05.02.13.26.49;	author visa;	state Exp;
branches;
next	1.1;
commitid	RNCOX3BHktrY156Z;

1.1
date	2011.06.16.11.22.30;	author syuu;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Revise MDIO driver code so that device instances can be attached
using fdt. This lets the system utilize multiple MDIO controllers.

This patch enables all RJ45 Ethernet ports on EdgeRouter Pro.
The SFP module slots do not work yet.

OK kettenis@@, jmatthew@@
@
text
@/*
 * THIS FILE IS AUTOMATICALLY GENERATED
 * DONT EDIT THIS FILE
 */

/*	$OpenBSD: cn30xxsmireg.h,v 1.1 2011/06/16 11:22:30 syuu Exp $	*/

/*
 * Copyright (c) 2007 Internet Initiative Japan, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 */

/*
 * Cavium Networks OCTEON CN30XX Hardware Reference Manual
 * CN30XX-HM-1.0
 * 18.3 SMI Registers
 */

#ifndef _CN30XXSMIREG_H_
#define _CN30XXSMIREG_H_

#define	SMI_CMD_OFFSET				0x00ULL
#define	SMI_WR_DAT_OFFSET			0x08ULL
#define	SMI_RD_DAT_OFFSET			0x10ULL
#define	SMI_CLK_OFFSET				0x18ULL
#define	SMI_EN_OFFSET				0x20ULL

/* SMI CMD */
#define SMI_CMD_63_17			0xfffffffffffe0000ULL
#define SMI_CMD_PHY_OP			0x0000000000010000ULL
#define SMI_CMD_15_13			0x000000000000e000ULL
#define SMI_CMD_PHY_ADR			0x0000000000001f00ULL
#define  SMI_CMD_PHY_ADR_SHIFT		8
#define SMI_CMD_7_5			0x00000000000000e0ULL
#define SMI_CMD_REG_ADR			0x000000000000001fULL
#define  SMI_CMD_REG_ADR_SHIFT		0

/* SMI_WR_DAT */
#define SMI_WR_DAT_63_18		0xfffffffffffc0000ULL
#define SMI_WR_DAT_PENDING		0x0000000000020000ULL
#define SMI_WR_DAT_VAL			0x0000000000010000ULL
#define SMI_WR_DAT_DAT			0x000000000000ffffULL

/* SMI_RD_DAT */
#define SMI_RD_DAT_63_18		0xfffffffffffc0000ULL
#define SMI_RD_DAT_PENDING		0x0000000000020000ULL
#define SMI_RD_DAT_VAL			0x0000000000010000ULL
#define SMI_RD_DAT_DAT			0x000000000000ffffULL

/* SMI_CLK */
#define SMI_CLK_63_21			0xffffffffffe00000ULL
#define SMI_CLK_SAMPLE_HI		0x00000000001f0000ULL
#define SMI_CLK_15_14			0x000000000000c000ULL
#define SMI_CLK_CLK_IDLE		0x0000000000002000ULL
#define SMI_CLK_PREAMBLE		0x0000000000001000ULL
#define SMI_CLK_SAMPLE			0x0000000000000f00ULL
#define SMI_CLK_PHASE			0x00000000000000ffULL

/* SMI_EN */
#define SMI_EN_63_1			0xfffffffffffffffeULL
#define SMI_EN_EN			0x0000000000000001ULL

/* XXX */

#endif /* _CN30XXSMIREG_H_ */
@


1.1
log
@Ethernet driver merged from IIJ's contribution code.
@
text
@d6 1
a6 1
/*	$OpenBSD$	*/
a42 6
#define	SMI_CMD					0x0001180000001800ULL
#define	SMI_WR_DAT				0x0001180000001808ULL
#define	SMI_RD_DAT				0x0001180000001810ULL
#define	SMI_CLK					0x0001180000001818ULL
#define	SMI_EN					0x0001180000001820ULL

a47 3

#define SMI_BASE				0x0001180000001800ULL
#define SMI_SIZE				0x028ULL
@

