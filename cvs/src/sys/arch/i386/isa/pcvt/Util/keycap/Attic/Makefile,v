head	1.11;
access;
symbols
	SMP_SYNC_A:1.11
	SMP_SYNC_B:1.11
	UBC_SYNC_A:1.11
	UBC_SYNC_B:1.11
	OPENBSD_2_9:1.10.0.4
	OPENBSD_2_9_BASE:1.10
	OPENBSD_2_8:1.10.0.2
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.7.0.4
	OPENBSD_2_7_BASE:1.7
	SMP:1.7.0.2
	SMP_BASE:1.7
	kame_19991208:1.7
	OPENBSD_2_6:1.5.0.4
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.5.0.2
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.4.0.8
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.4.0.6
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.4
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.4.0.2
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.11
date	2001.05.29.22.09.38;	author mickey;	state dead;
branches;
next	1.10;

1.10
date	2000.05.26.11.50.45;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2000.05.25.21.54.50;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2000.05.25.19.08.59;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	99.11.18.09.03.39;	author deraadt;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	99.11.17.04.55.36;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	99.01.13.07.26.05;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	96.12.04.11.54.01;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.06.11.23.51.16;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.06.03.03.21.59;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.50.46;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.50.46;	author deraadt;	state Exp;
branches;
next	;

1.7.2.1
date	2001.04.18.16.08.13;	author niklas;	state Exp;
branches;
next	1.7.2.2;

1.7.2.2
date	2001.07.04.10.17.46;	author niklas;	state dead;
branches;
next	;


desc
@@


1.11
log
@remove this used to be great console driver; x11 builds w/o it all fine; aaron@@, todd@@, matthieu@@ ok
@
text
@#	$OpenBSD: Makefile,v 1.10 2000/05/26 11:50:45 deraadt Exp $

MAN3	=	keycap.3
MAN5	=	keycap.5
MLINKS	=	keycap.3 kgetent.3 keycap.3 kgetnum.3 keycap.3 kgetflag.3 \
		keycap.3 kgetstr.3
MANSUBDIR=/i386

.if ${MACHINE} == "i386"
LIB	=	keycap
CAPDIR	=	/usr/share/misc
CAPPATH	=	$(CAPDIR)/keycap.pcvt
KEYCAPSRC=	keycap.src
CFLAGS	+=	-DKEYCAP_PATH=\"$(CAPPATH)\"
SRCS	=	keycap.c

beforeinstall:
	-@@if [ ! -d ${DESTDIR}${LIBDIR} ]; then \
		mkdir ${DESTDIR}${LIBDIR}; \
	fi
	install -c -m ${LIBMODE} -o ${LIBOWN} -g ${LIBGRP} \
	    ${.CURDIR}/${KEYCAPSRC} ${DESTDIR}${CAPPATH}
.include <bsd.lib.mk>
.else
NOPROG=
.include <bsd.prog.mk>
.endif

@


1.10
log
@more portable manual pages
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2000/05/25 21:54:50 deraadt Exp $
@


1.9
log
@cause traversal into arch & subdirectories for the purposes of manual page install...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2000/05/25 19:08:59 deraadt Exp $
d3 7
a15 5
MAN3	=	keycap.3
MAN5	=	keycap.5
MLINKS	=	keycap.3 kgetent.3 keycap.3 kgetnum.3 keycap.3 kgetflag.3 \
		keycap.3 kgetstr.3
MANSUBDIR=/i386
d23 5
a28 1
.include <bsd.lib.mk>
@


1.8
log
@man subdir
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 1999/11/18 09:03:39 deraadt Exp $
d9 2
a10 1
MAN	=	keycap.3 keycap.5
d13 1
a13 1
MANSUBDIR=i386
@


1.7
log
@more untested MLINKS
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 1999/11/17 04:55:36 millert Exp $
d9 1
a9 1
MAN3	=	keycap.3 keycap.5
d12 1
@


1.7.2.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2000/05/26 11:50:45 deraadt Exp $
a2 7
MAN3	=	keycap.3
MAN5	=	keycap.5
MLINKS	=	keycap.3 kgetent.3 keycap.3 kgetnum.3 keycap.3 kgetflag.3 \
		keycap.3 kgetstr.3
MANSUBDIR=/i386

.if ${MACHINE} == "i386"
d9 3
d19 1
a20 5
.else
NOPROG=
.include <bsd.prog.mk>
.endif

@


1.7.2.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7.2.1 2001/04/18 16:08:13 niklas Exp $
@


1.6
log
@add MLINKs
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1999/01/13 07:26:05 niklas Exp $
d9 1
a9 1
MAN	=	keycap.3 keycap.5
@


1.5
log
@RCSIds
@
text
@d1 1
a1 1
#	$OpenBSD$
d9 3
a11 3
MAN3	=	keycap.${MAN3EXT}
MAN5	=	keycap.${MAN5EXT}
#CLEANFILES+=	keycap.0 keycap.0
@


1.4
log
@DESTDIR fixing
@
text
@d1 2
@


1.3
log
@no need for a keycap database backup
@
text
@d2 1
a2 1
CAPDIR	=	$(DESTDIR)/usr/share/misc
d12 3
a14 1
	@@if [ ! -d ${DESTDIR}${LIBDIR} ]; then mkdir ${DESTDIR}${LIBDIR};fi
d16 1
a16 1
	${.CURDIR}/${KEYCAPSRC} ${CAPPATH}
@


1.2
log
@fix remote install.
@
text
@a12 2
	@@${ECHO} "Saving old keycap database"
	-mv -f ${CAPPATH} ${CAPPATH}.BAK
a14 1

@


1.1
log
@Initial revision
@
text
@d14 1
a14 1
	-mv -f ${DESTDIR}${CAPPATH} ${DESTDIR}${CAPPATH}.BAK
d16 1
a16 1
	${.CURDIR}/${KEYCAPSRC} ${DESTDIR}${CAPPATH}
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
