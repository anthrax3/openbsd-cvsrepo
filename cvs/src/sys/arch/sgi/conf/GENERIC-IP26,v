head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.8
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.4
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.10
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.8
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.4
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2015.11.02.20.14.36;	author miod;	state Exp;
branches;
next	1.2;
commitid	Irb0dUO4X5QhH90i;

1.2
date	2014.08.22.20.03.56;	author deraadt;	state Exp;
branches;
next	1.1;
commitid	v3mi9m9bp9Skjxm7;

1.1
date	2012.09.29.21.46.02;	author miod;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Define KERNBASE in addition to LINK_ADDRESS.
@
text
@#	$OpenBSD: GENERIC-IP26,v 1.2 2014/08/22 20:03:56 deraadt Exp $
#
# THIS KERNEL IS FOR POWER INDIGO2 R8000 (IP26) SYSTEMS ONLY.
#
# For further information on compiling OpenBSD kernels, see the config(8)
# man page.
#
# For further information on hardware support for this architecture, see
# the intro(4) man page.  For further information about kernel options
# for this architecture, see the options(4) man page.  For an explanation
# of each device driver in this file see the section 4 man page for the
# device.

machine		sgi mips64
include		"../../../conf/GENERIC"
maxusers	32		# Estimated number of users

# Make options
makeoption	LINK_ADDRESS="0xa800000008010000"
option		KERNBASE="0xa800000008000000"

option	WSDISPLAY_COMPAT_RAWKBD	# Provide raw scancodes; needed for X11

option		EISAVERBOSE
option		PCIVERBOSE
option		USER_PCICONF	# User-space PCI configuration

# Define what targets to support
option		TGT_INDIGO2	# Indigo2
option		ARCBIOS		# mandatory
option		CPU_R8000	# R8000 support

config		bsd	swap generic

#
# Definition of system
#
mainbus0	at root
cpu*		at mainbus0

tcc0		at mainbus0	# Streaming Cache Controller
int0		at mainbus0	# Interrupt Controller and scheduling clock
imc0		at mainbus0	# Memory Controller
gio0		at imc0
eisa0		at imc0

hpc0		at gio? addr 0x1fb80000

dsclock0	at hpc0
sq*		at hpc?		# On-board Ethernet
wdsc*		at hpc?		# On-board SCSI
#haltwo*		at hpc0		# Audio
panel*		at hpc0		# front panel buttons
pckbc*		at hpc0		# keyboard and mouse

zs0		at hpc0
zstty*		at zs0		# Serial ports

pckbd*		at pckbc?
wskbd*		at pckbd? mux 1
pms*		at pckbc?
wsmouse*	at pms? mux 0

grtwo*		at gio?		# Express (GR2/GR3) graphics
wsdisplay*	at grtwo?
#impact*		at gio?		# Impact graphics
#wsdisplay*	at impact?
newport*	at gio?		# XL graphics
wsdisplay*	at newport?

giopci*		at gio?
pci*		at giopci?

#dc*		at pci?		# Phobos G100/G130/G160 Fast Ethernet
#lxtphy*		at mii?		# Level1 LXT970 PHYs
#ukphy*		at mii?		# "unknown" PHYs

#audio*		at haltwo?

scsibus*	at scsi?
sd*		at scsibus?
st*		at scsibus?
cd*		at scsibus?
ch*		at scsibus?
safte*		at scsibus?
ses*		at scsibus?
uk*		at scsibus?

#pseudo-device	hotplug	1	# devices hot plugging
pseudo-device	wsmux	2       # Mouse and keyboard multiplexor
@


1.2
log
@pseudo-device crypto was accidentally left for some architectures.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC-IP26,v 1.1 2012/09/29 21:46:02 miod Exp $
d20 1
@


1.1
log
@Work in progress support for the Power Indigo2 R8000 system (IP26). This is
basically an IP22 system (R4000 Indigo2) with the ECC memory board of IP28,
and a so-called ``streaming'' L2 cache.

IP26 kernels currently boot single-user, but don't live long; I am suspecting
a bug in the tcc cache routines, but am currently not able to find it (come
to think of it, my understanding of how this cache works could be wrong, and
of course there is no documentation for it but what can be gathered from
IRIX' <sys/IP26.h> comments and defines).

Hopefully this situation will improve in the near future; in the meantime I
am commiting this as `work in progress' to make sure this code doesn't get
lost.
@
text
@d1 1
a1 1
#	$OpenBSD$
a87 1
pseudo-device	crypto	1
@

