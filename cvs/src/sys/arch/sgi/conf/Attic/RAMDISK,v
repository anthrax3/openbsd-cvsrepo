head	1.25;
access;
symbols
	OPENBSD_4_5:1.23.0.2
	OPENBSD_4_5_BASE:1.23
	OPENBSD_4_4:1.22.0.2
	OPENBSD_4_4_BASE:1.22
	OPENBSD_4_3:1.17.0.2
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.15.0.2
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.14.0.2
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.13.0.6
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.4
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.2
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.10.0.2
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6;
locks; strict;
comment	@# @;


1.25
date	2009.05.14.21.16.40;	author miod;	state dead;
branches;
next	1.24;

1.24
date	2009.04.13.21.13.46;	author miod;	state Exp;
branches;
next	1.23;

1.23
date	2008.08.25.16.15.53;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2008.07.01.04.50.59;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2008.06.27.05.29.54;	author todd;	state Exp;
branches;
next	1.20;

1.20
date	2008.06.08.20.37.39;	author deraadt;	state Exp;
branches;
next	1.19;

1.19
date	2008.04.14.04.17.45;	author deraadt;	state Exp;
branches;
next	1.18;

1.18
date	2008.04.07.22.36.26;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2008.02.20.18.46.20;	author miod;	state Exp;
branches;
next	1.16;

1.16
date	2008.01.06.21.36.08;	author miod;	state Exp;
branches;
next	1.15;

1.15
date	2007.05.20.14.10.46;	author miod;	state Exp;
branches;
next	1.14;

1.14
date	2006.10.18.19.11.54;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2005.05.01.17.19.34;	author david;	state Exp;
branches;
next	1.12;

1.12
date	2005.05.01.07.54.42;	author david;	state Exp;
branches;
next	1.11;

1.11
date	2005.04.28.15.10.07;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2004.10.20.12.49.15;	author pefo;	state Exp;
branches;
next	1.9;

1.9
date	2004.09.17.11.32.53;	author msf;	state Exp;
branches;
next	1.8;

1.8
date	2004.09.16.09.14.04;	author mickey;	state Exp;
branches;
next	1.7;

1.7
date	2004.09.15.16.07.31;	author pefo;	state Exp;
branches;
next	1.6;

1.6
date	2004.08.11.15.13.21;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2004.08.10.19.08.18;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2004.08.10.13.47.45;	author pefo;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.09.14.57.26;	author pefo;	state Exp;
branches;
next	1.2;

1.2
date	2004.08.09.10.19.50;	author miod;	state Exp;
branches;
next	1.1;

1.1
date	2004.08.06.21.12.18;	author pefo;	state Exp;
branches;
next	;


desc
@@


1.25
log
@Rename sgi GENERIC and RAMDISK with -IP32 suffixes, and have the build
machinery minimally cope with this.

Discussed with and reluctantely accepted by deraadt@@; we both dislike
losing the ``naturally comes out of your fingers'' kernel names and the
``one size fits all'' logic; but for now I don't see any easy way to
get a single kernel binary able to run on multiple IP## flavours.
@
text
@#	$OpenBSD: RAMDISK,v 1.24 2009/04/13 21:13:46 miod Exp $
#

machine		sgi mips64

maxusers	4
option		TIMEZONE=0	# minutes west of GMT (for)
option		DST=0		# use daylight savings rules

# Make options
makeoption	LINK_ADDRESS="0xffffffff80100000"

option		ARCBIOS		# Systems uses ARC firmware.

option		PCIVERBOSE
option		USBVERBOSE

option		DDB

# Filesystem options
option		CD9660		# ISO 9660 + Rock Ridge file system
option		FFS		# fast filesystem
option		FFS2		# fast filesystem 2
#option		MSDOSFS		# Ability to read write MS-Dos filesystem
option		NFSCLIENT	# Sun NFS-compatible filesystem (client)

# Networking options
option		INET		# IP + ICMP + TCP + UDP
option		INET6		# IPv6 (needs INET)

# RAMDISK stuff
option		MINIROOTSIZE=8192
option		RAMDISK_HOOKS

# Define what targets to support
option		TGT_O2

# Specify storage configuration using ramdisk
config		bsd	root on rd0a swap on rd0b

#
# Definition of system
#
mainbus0	at root
cpu*		at mainbus0
clock0		at mainbus0

#### Main local buses
macebus0	at mainbus0	# MACE controller localbus.

# GBE Framebuffer
gbe0		at mainbus0

#### Localbus devices
mec0		at macebus0 base 0x00280000 irq 4
mkbc0		at macebus0 base 0x00320000 irq 6
com0		at macebus0 base 0x00390000 irq 5
com1		at macebus0 base 0x00398000 irq 5
dsrtc0		at macebus0

#### PCI Bus
macepcibr0	at macebus0	# MACE controller PCI Bus bridge.
pci*		at macepcibr?	# PCI is on pci bridge

#### SCSI controllers
ahc*		at pci?
siop*		at pci?

# USB Controllers
ohci*		at pci?	# Open Host Controller
uhci*		at pci?	# Universal Host Controller
ehci*		at pci?	# Enhanced Host Controller

# USB bus support
usb*		at ohci?
usb*		at uhci?
usb*		at ehci?

# USB devices
uhub*		at usb?		# USB Hubs
uhub*		at uhub?	# USB Hubs
umodem*		at uhub?	# USB Modems/Serial
ucom*		at umodem?
uvscom*		at uhub?	# SUNTAC Slipper U VS-10U serial
ucom*		at uvscom?
ubsa*		at uhub?	# Belkin serial adapter
ucom*		at ubsa?
ulpt*		at uhub?	# USB Printers	
umass*		at uhub?	# USB Mass Storage devices
scsibus*	at umass?
uhidev*		at uhub?	# Human Interface Devices
ums*		at uhidev?	# USB mouse
wsmouse*	at ums? mux 0
ukbd*		at uhidev?	# USB keyboard
wskbd*		at ukbd? mux 1
uhid*		at uhidev?	# USB generic HID support
aue*		at uhub?	# ADMtek AN986 Pegasus Ethernet  
ugen*		at uhub?	# USB Generic driver

#### NICs
dc*		at pci?		# 21143, "tulip" clone ethernet
ep*		at pci?		# 3Com 3c59x
fxp*		at pci?		# EtherExpress 10/100B ethernet
mtd*		at pci?		# Myson MTD803 3-in-1 Ethernet
ne*		at pci?		# NE2000-compatible Ethernet
ti*		at pci?		# Alteon ACEnic gigabit Ethernet
vr*		at pci?		# VIA Rhine Fast Ethernet
xl*		at pci?		# 3C9xx ethernet

##### Media Independent Interface (mii) drivers
exphy*		at mii?		# 3Com internal PHYs
inphy*		at mii?		# Intel 82555 PHYs
iophy*		at mii?		# Intel 82553 PHYs
icsphy*		at mii?		# ICS 1890 PHYs
lxtphy*		at mii?		# Level1 LXT970 PHYs
nsphy*		at mii?		# NS and compatible PHYs
nsphyter*	at mii?		# NS and compatible PHYs
qsphy*		at mii?		# Quality Semi QS6612 PHYs
sqphy*		at mii?		# Seeq 8x220 PHYs
rlphy*		at mii?		# RealTek 8139 internal PHYs
mtdphy*		at mii?		# Myson MTD972 PHYs
dcphy*		at mii?		# Digital Clone PHYs
acphy*		at mii?		# Altima AC101 PHYs
amphy*		at mii?		# AMD 79C873 PHYs
tqphy*		at mii?		# TDK 78Q212x PHYs
bmtphy*		at mii?		# Broadcom 10/100 PHYs
brgphy*		at mii?		# Broadcom Gigabit PHYs
eephy*		at mii?		# Marvell 88E1000 series PHY
xmphy*		at mii?		# XaQti XMAC-II PHYs
nsgphy*		at mii?		# NS gigabit PHYs
urlphy*		at mii?		# Realtek RTL8150L internal PHY
rgephy*		at mii?		# Realtek 8169S/8110S PHY
ukphy*		at mii?		# "unknown" PHYs

#### WS console
wsdisplay*	at gbe?

#### Keyboard and Mouse
pckbd*		at mkbc?
wskbd*		at pckbd? console ?

#### SCSI Bus devices
scsibus*	at ahc?
scsibus*	at siop?

sd*		at scsibus?
st*		at scsibus?
cd*		at scsibus?
#ch*		at scsibus?
#ss*		at scsibus?
#uk*		at scsibus?

#### PSEUDO Devices
pseudo-device	loop		1	# network loopback
pseudo-device	bpfilter	1	# packet filter ports

pseudo-device	rd		1	# Ram disk.
pseudo-device	bio		1	# ioctl multiplexing device

option		BOOT_CONFIG	# add support for boot -c
@


1.24
log
@Add missing option BOOT_CONFIG
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.23 2008/08/25 16:15:53 jasper Exp $
@


1.23
log
@- add a bunch of enabled usb devices that have been tested.

together with the previous commits by jsing@@, OpenBSD/sgi does USB now.

ok jsing@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.22 2008/07/01 04:50:59 brad Exp $
d159 2
@


1.22
log
@Enable FFS2 on most of the larger RAMDISK media.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.21 2008/06/27 05:29:54 todd Exp $
d68 31
@


1.21
log
@add bio & bioctl
ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.20 2008/06/08 20:37:39 deraadt Exp $
d23 1
@


1.20
log
@alpha/conf/RAMDISK
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.19 2008/04/14 04:17:45 deraadt Exp $
d126 1
@


1.19
log
@typo in attachment
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.18 2008/04/07 22:36:26 miod Exp $
a21 1
option		FIFO		# POSIX fifo support (in all filesystems)
@


1.18
log
@Split clock attachment in two parts: a timecounter attachment (at mainbus),
and a time-of-day chip (wherever it gets found).
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.17 2008/02/20 18:46:20 miod Exp $
d59 1
a59 1
dsrtc0		at mainbus0
@


1.17
log
@Completely overhault attachment rules on sgi. No more indirect configuration
inherited from OpenBSD/arc machines with ISA bus; mainbus children match on
device name and other hierarchies match on simplified locators.
As a bonus, attachment lines in dmesg will now print their locators.

ok jsing@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.16 2008/01/06 21:36:08 miod Exp $
d46 1
a54 1
clock0		at macebus0
d59 1
@


1.16
log
@Sync console devices with GENERIC.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.15 2007/05/20 14:10:46 miod Exp $
a53 1

d55 4
a58 4
mec0		at macebus0 sys 0x18 base 0x00280000 irq 4
mkbc0		at macebus0 sys 0x18 base 0x00320000 irq 6
com0		at macebus0 sys 0x18 base 0x00390000 irq 5
com1		at macebus0 sys 0x18 base 0x00398000 irq 5
@


1.15
log
@option AHC_CTRL_ID is not used.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.14 2006/10/18 19:11:54 brad Exp $
d48 1
d50 2
a51 1
macebus0	at mainbus0	# MACE controller localbus.
d57 1
d104 6
a126 1

@


1.14
log
@enable IPv6 on the RAMDISK image.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.13 2005/05/01 17:19:34 david Exp $
a36 4

# Control certain other stuff
option		AHC_CTRL_ID=0	# SGI have scsi controllers at 0.

@


1.13
log
@spelling
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.12 2005/05/01 07:54:42 david Exp $
d28 2
a29 1
option		INET		# Internet protocols
@


1.12
log
@spacing; ok miod@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.11 2005/04/28 15:10:07 deraadt Exp $
d24 1
a24 1
#option		MSDOSFS		# Ability to read write MS-Dos filsystem
@


1.11
log
@remove junk from 8 years ago
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.10 2004/10/20 12:49:15 pefo Exp $
d117 2
a118 2
pseudo-device	loop		 1	# network loopback
pseudo-device	bpfilter	 1	# packet filter ports
d120 1
a120 1
pseudo-device	rd		 1	# Ram disk.
@


1.10
log
@Fix some 64 bit address problems.
Some function names made more unique.
Other changes for the upcoming Origin 200 support.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.9 2004/09/17 11:32:53 msf Exp $
a12 4
# Standard system options
option		SWAPPAGER	# swap pager (anonymous and swap space)
option		DEVPAGER	# device pager (mapped devices)

a17 2
option		DIAGNOSTIC	# extra kernel debugging checks
#option		DEBUG		# extra kernel debugging support
a21 1
#option		FDESC		# user file descriptor filesystem (/dev/fd)
a23 2
option		KERNFS		# kernel data-structure filesystem
#option		MFS		# memory-based filesystem
a25 3
#option		NULLFS		# null layer filesystem
#option		PROCFS		# /proc

a27 1
#option		GATEWAY		# IP packet forwarding
a28 2
#option		NS		# XNS
#option		IPX		# IPX+SPX
@


1.9
log
@Remove option EON from kernel and options(4)
ok henning@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.8 2004/09/16 09:14:04 mickey Exp $
d11 1
d51 4
@


1.8
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7 2004/09/15 16:07:31 pefo Exp $
a42 2
#option		ISO,TPIP	# OSI networking
#option		EON		# OSI tunneling over IP
@


1.7
log
@Assume default compiler settings
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.6 2004/08/11 15:13:21 deraadt Exp $
d78 2
a79 2
ahc*		at pci? dev ? function ?
siop*		at pci? dev ? function ?
d82 8
a89 10
dc*		at pci? dev ? function ?	# 21143, "tulip" clone ethernet
ep*		at pci? dev ? function ?	# 3Com 3c59x
fxp*		at pci? dev ? function ?	# EtherExpress 10/100B ethernet
mtd*		at pci? dev ? function ?	# Myson MTD803 3-in-1 Ethernet
ne*		at pci? dev ? function ?	# NE2000-compatible Ethernet
ti*		at pci? dev ? function ?	# Alteon ACEnic gigabit Ethernet
vr*		at pci? dev ? function ?	# VIA Rhine Fast Ethernet
xl*		at pci? dev ? function ?	# 3C9xx ethernet


d92 23
a114 23
exphy*		at mii? phy ?		# 3Com internal PHYs
inphy*		at mii? phy ?		# Intel 82555 PHYs
iophy*		at mii? phy ?		# Intel 82553 PHYs
icsphy*		at mii? phy ?		# ICS 1890 PHYs
lxtphy*		at mii? phy ?		# Level1 LXT970 PHYs
nsphy*		at mii? phy ?		# NS and compatible PHYs
nsphyter*	at mii? phy ?		# NS and compatible PHYs
qsphy*		at mii? phy ?		# Quality Semi QS6612 PHYs
sqphy*		at mii? phy ?		# Seeq 8x220 PHYs
rlphy*		at mii? phy ?		# RealTek 8139 internal PHYs
mtdphy*		at mii? phy ?		# Myson MTD972 PHYs
dcphy*		at mii? phy ?		# Digital Clone PHYs
acphy*		at mii? phy ?		# Altima AC101 PHYs
amphy*		at mii? phy ?		# AMD 79C873 PHYs
tqphy*		at mii? phy ?		# TDK 78Q212x PHYs
bmtphy*		at mii? phy ?		# Broadcom 10/100 PHYs
brgphy*		at mii? phy ?		# Broadcom Gigabit PHYs
eephy*		at mii? phy ?		# Marvell 88E1000 series PHY
xmphy*		at mii? phy ?		# XaQti XMAC-II PHYs
nsgphy*		at mii? phy ?		# NS gigabit PHYs
urlphy*		at mii? phy ?		# Realtek RTL8150L internal PHY
rgephy*		at mii? phy ?		# Realtek 8169S/8110S PHY
ukphy*		at mii? phy ?		# "unknown" PHYs
a117 1

d121 6
a126 7
sd*		at scsibus? target ? lun ?
st*		at scsibus? target ? lun ?
cd*		at scsibus? target ? lun ?
#ch*		at scsibus? target ? lun ?
#ss*		at scsibus? target ? lun ?
#uk*		at scsibus? target ? lun ?

a128 1

@


1.6
log
@PCIVERBOSE by default (USBVERBOSE comes along for the future ride); pefo ok
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.5 2004/08/10 19:08:18 deraadt Exp $
a10 2
makeoption	ISALEV="-mips2 -D_MIPS_ISA=_MIPS_ISA_MIPS2"
makeoption	ENDIAN="-EB"
@


1.5
log
@spacing
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.4 2004/08/10 13:47:45 pefo Exp $
d19 3
@


1.4
log
@Add O2 built in ethernet.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.3 2004/08/09 14:57:26 pefo Exp $
d73 1
a73 1
macepcibr0	at macebus0 	# MACE controller PCI Bus bridge.
@


1.3
log
@Big cleanup. Removed some unused obsolete stuff and fixed copyrights
on some files. Arcbios support is now in, thus detects memorysize and cpu
clock frequency.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.2 2004/08/09 10:19:50 miod Exp $
d68 1
@


1.2
log
@UVM is no longer an option since years.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.1 2004/08/06 21:12:18 pefo Exp $
d18 1
a18 1
option		NATIVE_ELF	# Systems uses ELF as native format
@


1.1
log
@initial sgi import
@
text
@d1 1
a1 1
#	$OpenBSD$
a17 1
option 		UVM		# uses unified VM system
@

