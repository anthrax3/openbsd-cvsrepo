head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.8
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.4
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.10
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.8
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.4
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2015.11.02.20.14.36;	author miod;	state Exp;
branches;
next	1.3;
commitid	Irb0dUO4X5QhH90i;

1.3
date	2015.07.17.22.52.29;	author tedu;	state Exp;
branches;
next	1.2;
commitid	OOrGfFHYAn65M2qc;

1.2
date	2014.10.10.05.43.35;	author deraadt;	state Exp;
branches;
next	1.1;
commitid	eyBTAcDp3o260Uyq;

1.1
date	2012.09.29.21.46.02;	author miod;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Define KERNBASE in addition to LINK_ADDRESS.
@
text
@#	$OpenBSD: RAMDISK-IP26,v 1.3 2015/07/17 22:52:29 tedu Exp $
#
# THIS KERNEL IS FOR POWER INDIGO2 R8000 (IP26) SYSTEMS ONLY.

machine		sgi mips64
maxusers	4

option		TIMEZONE=0
option		DST=0
option		SMALL_KERNEL
option		NO_PROPOLICE
option		BOOT_CONFIG

option		MINIROOTSIZE=10240
option		RAMDISK_HOOKS

option		EISAVERBOSE
option		PCIVERBOSE

option		FFS
option		CD9660
option		NFSCLIENT
option		INET6

makeoption	LINK_ADDRESS="0xa800000008010000"
option		KERNBASE="0xa800000008000000"
option		TGT_INDIGO2		# Indigo2
option		ARCBIOS			# mandatory
option		CPU_R8000		# R8000 support

config		bsd root on rd0a swap on rd0b

mainbus0	at root
cpu*		at mainbus0

tcc0		at mainbus0		# Streaming Cache Controller
int0		at mainbus0		# Interrupt Controller and scheduling clock
imc0		at mainbus0		# Memory Controller
gio0		at imc0
eisa0		at imc0

hpc0		at gio? addr 0x1fb80000

dsclock0	at hpc0
sq*		at hpc?			# On-board Ethernet
wdsc*		at hpc?			# On-board SCSI
pckbc*		at hpc0			# keyboard and mouse

zs0		at hpc0
zstty*		at zs0			# Serial ports

pckbd*		at pckbc?
wskbd*		at pckbd? mux 1

grtwo*		at gio?			# Express (GR2/GR3) graphics
wsdisplay*	at grtwo?
newport*	at gio?			# XL graphics
wsdisplay*	at newport?

giopci*		at gio?
pci*		at giopci?

scsibus*	at scsi?
sd*		at scsibus?
st*		at scsibus?
cd*		at scsibus?

pseudo-device	loop 1
pseudo-device	bpfilter 1
pseudo-device	rd 1
pseudo-device	bio 1
@


1.3
log
@remove obsolete INET kernel option
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK-IP26,v 1.2 2014/10/10 05:43:35 deraadt Exp $
d26 1
@


1.2
log
@Significant unification of RAMDISK* config files, making them diffable.
This makes it easier to remove components not required to do an install,
and subsequently add other desireable components ...
In snapshots (in various forks) for about a week.
Do some upgrades and installs, please.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK-IP26,v 1.1 2012/09/29 21:46:02 miod Exp $
a22 1
option		INET
@


1.1
log
@Work in progress support for the Power Indigo2 R8000 system (IP26). This is
basically an IP22 system (R4000 Indigo2) with the ECC memory board of IP28,
and a so-called ``streaming'' L2 cache.

IP26 kernels currently boot single-user, but don't live long; I am suspecting
a bug in the tcc cache routines, but am currently not able to find it (come
to think of it, my understanding of how this cache works could be wrong, and
of course there is no documentation for it but what can be gathered from
IRIX' <sys/IP26.h> comments and defines).

Hopefully this situation will improve in the near future; in the meantime I
am commiting this as `work in progress' to make sure this code doesn't get
lost.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK-IP28,v 1.3 2012/07/14 19:53:27 miod Exp $
a5 1

a6 2
option		TIMEZONE=0	# minutes west of GMT (for)
option		DST=0		# use daylight savings rules
d8 5
a12 2
# Make options
makeoption	LINK_ADDRESS="0xa800000008010000"
d14 2
a15 1
option		DDB
d20 5
a24 10
# Filesystem options
option		CD9660		# ISO 9660 + Rock Ridge file system
option		FIFO		# POSIX fifo support (in all filesystems)
option		FFS		# fast filesystem
#option		MSDOSFS		# Ability to read write MS-Dos filesystem
option		NFSCLIENT	# Sun NFS-compatible filesystem (client)

# Networking options
option		INET		# IP + ICMP + TCP + UDP
option		INET6		# IPv6 (needs INET)
d26 4
a29 8
# RAMDISK stuff
option		MINIROOTSIZE=10240
option		RAMDISK_HOOKS

# Define what targets to support
option		TGT_INDIGO2	# Indigo2
option		ARCBIOS		# mandatory
option		CPU_R8000	# R8000 support
d31 1
a31 2
# Specify storage configuration using ramdisk
config		bsd	root on rd0a swap on rd0b
a32 3
#
# Definition of system
#
d36 3
a38 3
tcc0		at mainbus0	# Streaming Cache Controller
int0		at mainbus0	# Interrupt Controller and scheduling clock
imc0		at mainbus0	# Memory Controller
d44 4
a47 4
dsclock0	at hpc0	
sq*		at hpc?		# On-board Ethernet
wdsc*		at hpc?		# On-board SCSI
pckbc*		at hpc0		# keyboard and mouse
d50 1
a50 1
zstty*		at zs0		# Serial ports
a53 2
#pms*		at pckbc?
#wsmouse*	at pms? mux 0
d55 1
a55 1
grtwo*		at gio?		# Express (GR2/GR3) graphics
d57 1
a57 3
#impact*		at gio?		# Impact graphics
#wsdisplay*	at impact?
newport*	at gio?		# XL graphics
a66 9
#ch*		at scsibus?
#uk*		at scsibus?

#### PSEUDO Devices
pseudo-device	loop		1	# network loopback
pseudo-device	bpfilter	1	# packet filter ports

pseudo-device	rd		1	# Ram disk.
pseudo-device	bio		1	# ioctl multiplexing device
d68 4
a71 1
option		BOOT_CONFIG	# add support for boot -c
@

