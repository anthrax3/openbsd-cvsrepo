head	1.39;
access;
symbols
	OPENBSD_5_9:1.38.0.2
	OPENBSD_5_9_BASE:1.38
	OPENBSD_5_8:1.38.0.4
	OPENBSD_5_8_BASE:1.38
	OPENBSD_5_7:1.37.0.2
	OPENBSD_5_7_BASE:1.37
	OPENBSD_5_6:1.36.0.16
	OPENBSD_5_6_BASE:1.36
	OPENBSD_5_5:1.36.0.14
	OPENBSD_5_5_BASE:1.36
	OPENBSD_5_4:1.36.0.10
	OPENBSD_5_4_BASE:1.36
	OPENBSD_5_3:1.36.0.8
	OPENBSD_5_3_BASE:1.36
	OPENBSD_5_2:1.36.0.6
	OPENBSD_5_2_BASE:1.36
	OPENBSD_5_1_BASE:1.36
	OPENBSD_5_1:1.36.0.4
	OPENBSD_5_0:1.36.0.2
	OPENBSD_5_0_BASE:1.36
	OPENBSD_4_9:1.33.0.4
	OPENBSD_4_9_BASE:1.33
	OPENBSD_4_8:1.33.0.2
	OPENBSD_4_8_BASE:1.33
	OPENBSD_4_7:1.31.0.4
	OPENBSD_4_7_BASE:1.31
	OPENBSD_4_6:1.31.0.6
	OPENBSD_4_6_BASE:1.31
	OPENBSD_4_5:1.31.0.2
	OPENBSD_4_5_BASE:1.31
	OPENBSD_4_4:1.29.0.2
	OPENBSD_4_4_BASE:1.29
	OPENBSD_4_3:1.28.0.6
	OPENBSD_4_3_BASE:1.28
	OPENBSD_4_2:1.28.0.4
	OPENBSD_4_2_BASE:1.28
	OPENBSD_4_1:1.28.0.2
	OPENBSD_4_1_BASE:1.28
	OPENBSD_4_0:1.27.0.2
	OPENBSD_4_0_BASE:1.27
	OPENBSD_3_9:1.24.0.4
	OPENBSD_3_9_BASE:1.24
	OPENBSD_3_8:1.24.0.2
	OPENBSD_3_8_BASE:1.24
	OPENBSD_3_7:1.23.0.2
	OPENBSD_3_7_BASE:1.23
	OPENBSD_3_6:1.21.0.4
	OPENBSD_3_6_BASE:1.21
	SMP_SYNC_A:1.21
	SMP_SYNC_B:1.21
	OPENBSD_3_5:1.21.0.2
	OPENBSD_3_5_BASE:1.21
	OPENBSD_3_4:1.20.0.4
	OPENBSD_3_4_BASE:1.20
	UBC_SYNC_A:1.20
	OPENBSD_3_3:1.20.0.2
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.18.0.2
	OPENBSD_3_2_BASE:1.18
	OPENBSD_3_1:1.15.0.2
	OPENBSD_3_1_BASE:1.15
	UBC_SYNC_B:1.18
	UBC:1.13.0.2
	UBC_BASE:1.13
	OPENBSD_3_0:1.12.0.2
	OPENBSD_3_0_BASE:1.12
	SMP:1.5.0.4
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_9:1.5.0.2
	OPENBSD_2_8:1.1.0.2
	OPENBSD_2_8_BASE:1.1;
locks; strict;
comment	@# @;


1.39
date	2016.03.09.16.28.48;	author deraadt;	state dead;
branches;
next	1.38;
commitid	OSDG2O3Cgeifnf1W;

1.38
date	2015.07.17.22.52.29;	author tedu;	state Exp;
branches;
next	1.37;
commitid	OOrGfFHYAn65M2qc;

1.37
date	2014.10.10.05.43.36;	author deraadt;	state Exp;
branches;
next	1.36;
commitid	eyBTAcDp3o260Uyq;

1.36
date	2011.07.06.18.32.59;	author miod;	state Exp;
branches;
next	1.35;

1.35
date	2011.06.29.20.52.09;	author matthew;	state Exp;
branches;
next	1.34;

1.34
date	2011.06.27.03.27.07;	author tedu;	state Exp;
branches;
next	1.33;

1.33
date	2010.07.03.03.59.17;	author krw;	state Exp;
branches;
next	1.32;

1.32
date	2010.06.29.18.46.34;	author tedu;	state Exp;
branches;
next	1.31;

1.31
date	2008.08.20.19.00.01;	author miod;	state Exp;
branches;
next	1.30;

1.30
date	2008.08.18.23.19.21;	author miod;	state Exp;
branches;
next	1.29;

1.29
date	2008.06.08.20.37.39;	author deraadt;	state Exp;
branches;
next	1.28;

1.28
date	2006.11.06.20.28.20;	author miod;	state Exp;
branches;
next	1.27;

1.27
date	2006.08.30.19.29.20;	author miod;	state Exp;
branches;
next	1.26;

1.26
date	2006.08.27.16.55.38;	author miod;	state Exp;
branches;
next	1.25;

1.25
date	2006.07.30.12.40.07;	author miod;	state Exp;
branches;
next	1.24;

1.24
date	2005.05.01.07.54.43;	author david;	state Exp;
branches;
next	1.23;

1.23
date	2004.09.16.09.35.37;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2004.09.16.09.14.04;	author mickey;	state Exp;
branches;
next	1.21;

1.21
date	2004.01.04.00.29.50;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	2003.03.08.04.43.45;	author hugh;	state Exp;
branches;
next	1.19;

1.19
date	2002.12.10.23.46.49;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2002.06.11.09.40.32;	author hugh;	state Exp;
branches;
next	1.17;

1.17
date	2002.06.11.09.36.24;	author hugh;	state Exp;
branches;
next	1.16;

1.16
date	2002.05.11.09.54.08;	author hugh;	state Exp;
branches;
next	1.15;

1.15
date	2002.04.05.03.09.34;	author deraadt;	state Exp;
branches;
next	1.14;

1.14
date	2002.01.31.11.51.00;	author hugh;	state Exp;
branches;
next	1.13;

1.13
date	2001.12.05.03.08.58;	author hugh;	state Exp;
branches
	1.13.2.1;
next	1.12;

1.12
date	2001.10.10.23.43.42;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2001.10.06.18.07.57;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2001.08.18.20.29.53;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2001.07.31.08.24.56;	author hugh;	state Exp;
branches;
next	1.8;

1.8
date	2001.06.27.05.15.40;	author art;	state Exp;
branches;
next	1.7;

1.7
date	2001.06.23.19.46.59;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2001.05.17.00.57.59;	author pvalchev;	state Exp;
branches;
next	1.5;

1.5
date	2001.04.09.00.53.53;	author hugh;	state Exp;
branches
	1.5.4.1;
next	1.4;

1.4
date	2001.02.24.10.31.59;	author hugh;	state Exp;
branches;
next	1.3;

1.3
date	2001.02.11.06.34.36;	author hugh;	state Exp;
branches;
next	1.2;

1.2
date	2001.01.28.01.19.58;	author hugh;	state Exp;
branches;
next	1.1;

1.1
date	2000.10.31.02.30.56;	author hugh;	state Exp;
branches;
next	;

1.5.4.1
date	2001.05.14.21.37.53;	author niklas;	state Exp;
branches;
next	1.5.4.2;

1.5.4.2
date	2001.07.04.10.24.21;	author niklas;	state Exp;
branches;
next	1.5.4.3;

1.5.4.3
date	2001.10.31.03.08.01;	author nate;	state Exp;
branches;
next	1.5.4.4;

1.5.4.4
date	2002.03.06.02.04.47;	author niklas;	state Exp;
branches;
next	1.5.4.5;

1.5.4.5
date	2003.03.27.23.52.19;	author niklas;	state Exp;
branches;
next	1.5.4.6;

1.5.4.6
date	2004.02.19.10.50.02;	author niklas;	state Exp;
branches;
next	;

1.13.2.1
date	2002.01.31.22.55.26;	author niklas;	state Exp;
branches;
next	1.13.2.2;

1.13.2.2
date	2002.06.11.03.39.18;	author art;	state Exp;
branches;
next	1.13.2.3;

1.13.2.3
date	2002.10.29.00.28.13;	author art;	state Exp;
branches;
next	1.13.2.4;

1.13.2.4
date	2003.05.19.21.46.09;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.39
log
@We are done providing support for the vax.
lots of agreement.
@
text
@#	$OpenBSD: RAMDISK,v 1.38 2015/07/17 22:52:29 tedu Exp $

machine		vax
maxusers	4

option		TIMEZONE=0
option		DST=0

option		SMALL_KERNEL
option		NO_PROPOLICE
option		BOOT_CONFIG

option		RAMDISK_HOOKS
option		MINIROOTSIZE=3072

option		FFS
option		NFSCLIENT
option		CD9660
option		INET6

# Here are all different supported CPU types listed.
option		VAX630			# MV II
option		VAX650			# MV III, 3300, 3600, 3800, 3900
option		VAX660			# VAX 4000 200
option		VAX670			# VAX 4000 300
option		VAX680			# VAX 4000 {4,5,6,7}0{0,5}{,A}
option		VAX410			# VS 2000, 3100/{30,}
option		VAX43			# VS 3100/76
option		VAX46			# VS 4000/60
option		VAX48			# VS 4000 VLC
option		VAX49			# VS 4000/90
option		VAX53			# VAX 4000/10{0,5,6}
option		VAX60			# VS 3[58][24]0
option		VXT			# VXT2000 and VXT2000+
option		INSN_EMULATE		# CPU lacks some hardware instructions.

config		bsd root on rd0a swap on rd0b

mainbus0	at root

# All buses; from the beginning attached to mainbus.
vsbus0		at mainbus0		# All VAXstations
ibus0		at mainbus0		# All Microvax
mbus0		at mainbus0		# VS 3[58][24]0
vxtbus0		at mainbus0		# VXT2000

# Vsbus, the virtual VAXstation bus, and possible devices.
le0		at vsbus0 csr 0x200e0000 # LANCE ethernet
ze0		at vsbus0 csr 0x20008000 # SGEC ethernet
dz0		at vsbus0 csr 0x200a0000 # DC-367 DZ-11 lookalike ctlr
dz0		at vsbus0 csr 0x25000000 # VS4000/90 4000/10X MV3100/9X serial
hdc0		at vsbus0 csr 0x200c0000 # HDC9224 MFM/floppy ctlr
ncr0		at vsbus0 csr 0x200c0080 # VS2000/3100 SCSI-ctlr
ncr1		at vsbus0 csr 0x200c0180 # VS2000/3100 SCSI-ctlr
asc0		at vsbus0 csr 0x200c0080 # VS4000/60 (or VLC) SCSI-ctlr
asc0		at vsbus0 csr 0x26000080 # VS4000/90 4000/10X MV3100/9X SCSI
smg0		at vsbus0 csr 0x200f0000 # VS3100 on-board mono frame buffer
gpx0		at vsbus0 csr 0x3c000000 # VS3100 GPX display option
lcg0		at vsbus0 csr 0x20100000 # VS4000/60 (or VLC) frame buffer
lcspx0		at vsbus0 csr 0x39302000 # VS4000/90 frame buffer

hd*		at hdc0 drive?		# RD5x disks

# Ibus, the internal bus on most Microvaxen
uba0		at ibus0		# Qbus adapter
ze0		at ibus0		# SGEC on-board ethernet
le0		at ibus0		# LANCE ethernet

# M-bus found on VS 3[58][24]0
fwio*		at mbus0 mid ?		# I/O module
legss0		at mbus0 mid 7		# Graphics module
uba0		at mbus0 mid 0		# Q-bus adaptor module

dz0		at fwio?		# DZ-11 like serial ports
dz*		at fwio?		# DZ-11 (on additional fwio)
le0		at fwio?		# LANCE ethernet
le*		at fwio?		# LANCE (on additional fwio)
sii*		at fwio?		# SII SCSI

# VXT2000 devices
ze0		at vxtbus0		# SGEC on-board ethernet
qsc0		at vxtbus0		# serial ports
lcspx0		at vxtbus0		# color frame buffer

uda0		at uba?	csr 0172150	# UDA50/RQDX?
uda1		at uba?	csr 0160334
mtc0		at uba? csr 0174500	# Tape MSCP ctlr
qe0		at uba? csr 0174440	# DEQNA/DELQA
dz0		at uba? csr 0160100	# DZ-11

mscpbus*	at uda?
mscpbus*	at mtc?

ra*		at mscpbus? drive?	# MSCP disk
rx*		at mscpbus? drive?	# MSCP floppy
mt*		at mscpbus? drive?	# MSCP tape

scsibus*	at scsi?
sd*		at scsibus?
st*		at scsibus?
cd*		at scsibus?

wsdisplay*	at gpx?
wsdisplay*	at lcg?
wsdisplay*	at lcspx?
wsdisplay*	at legss?
wsdisplay*	at smg?

lkkbd0		at dz0 line 0
lkkbd0		at qsc0 line 2
wskbd*		at lkkbd?

pseudo-device	loop 1
pseudo-device	bpfilter 1
pseudo-device	rd 1
@


1.38
log
@remove obsolete INET kernel option
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.37 2014/10/10 05:43:36 deraadt Exp $
@


1.37
log
@Significant unification of RAMDISK* config files, making them diffable.
This makes it easier to remove components not required to do an install,
and subsequently add other desireable components ...
In snapshots (in various forks) for about a week.
Do some upgrades and installs, please.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.36 2011/07/06 18:32:59 miod Exp $
a18 1
option		INET
@


1.36
log
@Remove support for non-microVAX, non-VAXstation, non-VXT hardware in the
VAX port. This means, 11/7xx, VAX6000 and VAX8x00 systems, as well as SBI,
CMI, BI, XMI and MASSBUS drivers.
Most of these files were not being compiled or kept in compilable state over
the years anyway.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.35 2011/06/29 20:52:09 matthew Exp $
d3 9
a11 1
machine		vax			# machine type
d16 6
d23 14
a36 27
# One of these is required.
option		VAX630		# MV II
option		VAX650		# MV III, 3300, 3600, 3800, 3900
option		VAX660		# VAX 4000 200
option		VAX670		# VAX 4000 300
option		VAX680		# VAX 4000 {4,5,6,7}0{0,5}{,A}
option		VAX410		# VS 2000, 3100/{30,}
option		VAX43		# VS 3100/76
option		VAX46		# VS 4000/60
option		VAX48		# VS 4000 VLC
option		VAX49		# VS 4000/90
option		VAX53		# VAX 4000/10{0,5,6}
option		VAX60		# VS 3[58][24]0
option		VXT		# VXT2000 and VXT2000+

maxusers	8		# estimated number of users
option		TIMEZONE=0	# time zone to adjust RTC time by
option		DST=0		# daylight saving time used by RTC

option		FFS		# UFS

option		NFSCLIENT	# Network File System client
option		CD9660		# ISO 9660 + Rock Ridge file system
#option		MSDOSFS		# MS-DOS file system

option		INET		# IP + ICMP + TCP + UDP
option		INET6		# IPv6 (needs INET)
d38 1
a38 5
option		BOOT_CONFIG	# boot-time kernel config

config		bsd	root on rd0a swap on rd0b	# and sd0b

option		INSN_EMULATE	# CPU lacks some hardware instructions.
a63 1
#ry*		at hdc0 drive?		# RX floppies
a68 1
#shac0		at ibus0		# DSSI controller
a85 1
# Devices on Unibus/Qbus adapters
a88 1
#de0		at uba? csr 0174510	# DELUA/DEUNA
a89 1
#dhu0		at uba? csr 0160440	# DHU-11
a90 1
#dl0		at uba? csr 0176500	# DL-11
a91 1
# MSCP devices
a98 2
# SCSI devices

a102 4
#ch*		at scsibus?
#safte*		at scsibus?
#ses*		at scsibus?
#uk*		at scsibus?
a103 1
# Workstation console
a112 7
#lkms0		at dz0 line 1
#lkms0		at qsc0 line 3
#wsmouse*	at lkms?

pseudo-device	loop		1	# network loopback
pseudo-device	bpfilter	1	# packet filter
pseudo-device	rd		1	# ramdisk
d114 3
@


1.35
log
@Replace all instances of "scsibus* at hba?" with a single "scsibus* at
scsi?" rule, similar to how ethernet PHY drivers attach at mii.

Discussed on icb.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.34 2011/06/27 03:27:07 tedu Exp $
a9 4
#option		VAX8600
#option		VAX8200
#option		VAX780		# 11/780
#option		VAX750		# 11/750
a45 4
#abus0		at mainbus0		# Master bus on VAX 8600
#sbi0		at mainbus0		# SBI, master bus on 11/780.
#cmi0		at mainbus0		# 11/750 internal bus.
#bi0		at mainbus0		# VAX 8200
a47 2
#nbi0		at mainbus0		# VAX 8800
#xmi0		at mainbus0		# VAX 6000
a90 23
# Devices connected at VAXBI
#cpu*		at bi? node?		# KA820/KA825 cpu
#mem*		at bi? node?		# Memory subsystems
#uba*		at bi? node?		# DWBUA BI-Unibus adapter
#ni*		at bi? node?		# DEBNA/DEBNT ethernet adapter
#kdb*		at bi? node?		# KDB50 MSCP disk ctlr
#mscpbus*	at kdb?

# CMI (VAX 11/750)
#mem*		at cmi? tr?		# Memory subsystems
#uba*		at cmi? tr?		# Unibus adapters
#mba*		at cmi? tr?		# Massbus adapters

# SBI (VAX 11/780, VAX 8600)
#sbi*		at abus0		# VAX 8600 can have up to 4 SBI's.

#mem*		at sbi? tr?		# Memory subsystems
#uba*		at sbi? tr?		# Unibus adapters
#mba*		at sbi? tr?		# Massbus adapters

# Devices on Massbus adapters
#hp*		at mba? drive?		# RM/RP disk drives

a94 3
#ts0		at uba? csr 0172520	# TS11/TSV05 tape.
#qd0		at uba? csr 0177400	# 4- or 8-bitplans color graphics
#qv0		at uba? csr 0177400	# Monochrome graphics
a103 1
#mscpbus*	at kdb?
a125 3

#wsdisplay*	at qd0
#wsdisplay*	at qv0
@


1.34
log
@remove compat_vax1k.  no more 4.3bsd reno support.  ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.33 2010/07/03 03:59:17 krw Exp $
a146 3
scsibus*	at asc?
scsibus*	at ncr?
scsibus*	at sii?
d148 1
@


1.33
log
@No more ss(4) or usscanner(4). Unused, unloved and unmaintained.
General huzzahs.

"go for it" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.32 2010/06/29 18:46:34 tedu Exp $
a43 3

# Old compat stuff; needed to run 4.3BSD Reno programs.
#option		COMPAT_VAX1K	# Must be present to run pre-1.4 binaries.
@


1.32
log
@COMPAT_ULTRIX is not used, time to retire it.  ok deraadt miod
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.31 2008/08/20 19:00:01 miod Exp $
a157 1
#ss*		at scsibus?
@


1.31
log
@Minimal driver for the VAXstation 35x0/38x0 LEGSS option, currently limited
to 8 bit mode operation, and no color or accelerated features until I can
find documentation about it.

Speed is decent by VAX standards, except for scrolling, which is so
abysmally slow one could see ZZ Top's beards growing while waiting for the
screen to scroll...
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.30 2008/08/18 23:19:21 miod Exp $
a45 3
# Note that if COMPAT_ULTRIX is set, you lose compatibility with
# 4.3BSD Reno programs and get Ultrix compatibility instead.
# (They cannot coexist).
a46 1
#option		COMPAT_ULTRIX
@


1.30
log
@Add support for the ``Firefox'' VAXstation 3520/3540/3820/3840 workstations,
currently limited to serial console and a single processor working.

All ``on-board'' devices, including the Q-bus adapter, but except for
the frame buffer, are supported. The machine will boot over the network
or from SCSI devices.

Lots of thanks to Al Kossow for www.bitsavers.org, on which I found the
technical documentation allowing me to complete this port (which was
lacking at the time I got that machine...).
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.29 2008/06/08 20:37:39 deraadt Exp $
d94 2
a95 1
uba0		at mbus0 mid 0
d171 1
@


1.29
log
@alpha/conf/RAMDISK
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.28 2006/11/06 20:28:20 miod Exp $
d25 1
d65 1
d92 10
d155 1
@


1.28
log
@Sync the VS2000 (and some VS3100) MFM controller driver with NetBSD, and
enable it in GENERIC and RAMDISK.
Completely untested due to lack of hardware (both my VS3100 are dual-SCSI),
but it hopefully can't hurt.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.27 2006/08/30 19:29:20 miod Exp $
a35 1
#option		FIFO		# FIFOs; RECOMMENDED
@


1.27
log
@Enable VXT2000 bits now that they are worth using; ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.26 2006/08/27 16:55:38 miod Exp $
d72 1
a72 1
#hdc0		at vsbus0 csr 0x200c0000 # HDC9224 MFM/floppy ctlr
d82 1
a82 1
#hd*		at hdc0 drive?		# RD5x disks
a139 3

# VS2000 builtin MFM controller (HDC9224)
#hdc0		at vsbus0		# The strange builtin MFM controller
@


1.26
log
@Work-in-progress VXT2000 support (commented out in GENERIC so far). Glass
console works on color model, serial console works, ethernet attaches but
does not work correctly yet.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.25 2006/07/30 12:40:07 miod Exp $
d25 1
a25 1
#option		VXT		# VXT2000 and VXT2000+
d65 1
a65 1
#vxtbus0		at mainbus0		# VXT2000
d92 3
a94 3
#ze0		at vxtbus0		# SGEC on-board ethernet
#qsc0		at vxtbus0		# serial ports
#lcspx0		at vxtbus0		# color frame buffer
d167 1
a167 1
#lkkbd0		at qsc0 line 2
@


1.25
log
@Add wscons stuff to the installation media as well.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.24 2005/05/01 07:54:43 david Exp $
d25 1
d65 1
d91 5
d167 1
d170 1
@


1.24
log
@spacing; ok miod@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.23 2004/09/16 09:35:37 deraadt Exp $
a4 3
#makeoptions	COPTS="-Os"		# untested
makeoptions	COPTS="-O2"

d75 4
a78 2
#smg0		at vsbus0 csr 0x200f0000 # Small monochrome display ctlr.
#clr0		at vsbus0 csr 0x30000000 # 4- or 8-bitplans color graphics
d146 2
d151 7
a157 4
#wsdisplay0	at smg?
#wsdisplay0	at clr0
#wsdisplay0	at qd0
#wsdisplay0	at qv0
d159 2
a160 2
#lkkbd0		at dz0 line 0
#wskbd*		at lkkbd?
@


1.23
log
@spacing
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.22 2004/09/16 09:14:04 mickey Exp $
d3 1
a3 1
machine 	vax			# machine type
d17 2
a18 2
option 		VAX630		# MV II
option 		VAX650		# MV III, 3300, 3600, 3800, 3900
d20 1
a20 1
option	 	VAX670		# VAX 4000 300
d22 3
a24 3
option	 	VAX410		# VS 2000, 3100/{30,}
option 		VAX43		# VS 3100/76
option 		VAX46		# VS 4000/60
d26 1
a26 1
option 		VAX49		# VS 4000/90
d85 2
a86 2
uba0		at ibus0 		# Qbus adapter
ze0		at ibus0 		# SGEC on-board ethernet
d88 1
a88 1
#shac0		at ibus0 		# DSSI controller
@


1.22
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.21 2004/01/04 00:29:50 deraadt Exp $
d62 1
a62 1
#bi0		at mainbus0		# VAX 8200 
@


1.21
log
@put INET6, rtsol, and ping6 onto media where it fits.  install.sub changes
which begin to enable use of this will follow at a later time.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.20 2003/03/08 04:43:45 hugh Exp $
d142 6
a147 6
sd*		at scsibus? target? lun?
st*		at scsibus? target? lun?
cd*		at scsibus? target? lun?
#ch*		at scsibus? target? lun?
#ss*		at scsibus? target? lun?
#uk*		at scsibus? target? lun?
d156 1
a156 1
#wskbd*		at lkkbd? console ?
@


1.20
log
@qe tested and working well; enable
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.19 2002/12/10 23:46:49 miod Exp $
d41 1
@


1.19
log
@VT100 emul is the default, and there is no point yet having more than one
wsscreen per wsdisplay device ; from deraadt@@ long ago.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.18 2002/06/11 09:40:32 hugh Exp $
d120 1
a120 1
#qe0		at uba? csr 0174440	# DEQNA/DELQA
@


1.18
log
@Oops, no need for 1k lpgsz support on the ramdisk.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.17 2002/06/11 09:36:24 hugh Exp $
a44 3

# WS console uses VT100 terminal emulation
#option		WSEMUL_VT100
@


1.17
log
@New boot code, mostly from ragge's work in NetBSD.
Some header syncing and a couple network drivers came along for the ride.
Assembly files have been renamed from .s to .S to facilitate diffs.
Kernel is backwards compat - with manual interaction.
OpenBSD features have been preserved.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.16 2002/05/11 09:54:08 hugh Exp $
a9 2

option		COMPAT_VAX1K
@


1.16
log
@Enable dz at uba, since it seems to move characters back and forth
in the SIMH/VAX simulator OK. If anyone has an actual card to test,
a report would be appreciated.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.15 2002/04/05 03:09:34 deraadt Exp $
d10 2
@


1.15
log
@remove un-needed stuff.  I leave NFSCLIENT for hugh
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.14 2002/01/31 11:51:00 hugh Exp $
d125 1
a125 1
#dz0		at uba? csr 0160100	# DZ-11
@


1.14
log
@Make comment more representative.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.13 2001/12/05 03:08:58 hugh Exp $
d9 1
a9 1
option		MINIROOTSIZE=4352	# LESS THAN RELOC
d13 4
a16 4
#option 		VAX8600
#option 		VAX8200
#option 		VAX780		# 11/780
#option 		VAX750		# 11/750
d38 1
a38 1
option		FIFO		# FIFOs; RECOMMENDED
d47 1
a47 2
option		WSEMUL_VT100
option		WSDISPLAY_DEFAULTSCREENS=8
d80 1
a80 1
smg0		at vsbus0 csr 0x200f0000 # Small monochrome display ctlr.
d147 3
a149 3
ch*		at scsibus? target? lun?
ss*		at scsibus? target? lun?
uk*		at scsibus? target? lun?
d152 1
a152 3
wsdisplay0	at smg?


d157 4
a160 4
lkkbd0		at dz0 line 0
wskbd*		at lkkbd? console ?
lkms0		at dz0 line 1
wsmouse*	at lkms?
@


1.13
log
@Enable MSCP disk support, since although untested due to lack of
hardware, it's possible this is working...
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.12 2001/10/10 23:43:42 millert Exp $
d19 3
a21 3
option		VAX660		# VAX 4000/200
option	 	VAX670		# VAX 4000/300
option		VAX680		# VAX 4000/[45]00
@


1.13.2.1
log
@Merge in -current, builds on i386, otherwise untested
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.14 2002/01/31 11:51:00 hugh Exp $
d19 3
a21 3
option		VAX660		# VAX 4000 200
option	 	VAX670		# VAX 4000 300
option		VAX680		# VAX 4000 {4,5,6,7}0{0,5}{,A}
@


1.13.2.2
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.13.2.1 2002/01/31 22:55:26 niklas Exp $
d9 1
a9 1
option		MINIROOTSIZE=3072
d13 4
a16 4
#option		VAX8600
#option		VAX8200
#option		VAX780		# 11/780
#option		VAX750		# 11/750
d38 1
a38 1
#option		FIFO		# FIFOs; RECOMMENDED
d47 2
a48 1
#option		WSEMUL_VT100
d81 1
a81 1
#smg0		at vsbus0 csr 0x200f0000 # Small monochrome display ctlr.
d126 1
a126 1
dz0		at uba? csr 0160100	# DZ-11
d148 3
a150 3
#ch*		at scsibus? target? lun?
#ss*		at scsibus? target? lun?
#uk*		at scsibus? target? lun?
d153 3
a155 1
#wsdisplay0	at smg?
d160 4
a163 4
#lkkbd0		at dz0 line 0
#wskbd*		at lkkbd? console ?
#lkms0		at dz0 line 1
#wsmouse*	at lkms?
@


1.13.2.3
log
@sync to -current
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.13.2.2 2002/06/11 03:39:18 art Exp $
@


1.13.2.4
log
@sync
@
text
@d1 1
a1 1
#	$OpenBSD$
d46 3
d123 1
a123 1
qe0		at uba? csr 0174440	# DEQNA/DELQA
@


1.12
log
@gc SWAPPAGER and DEVPAGER options
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.11 2001/10/06 18:07:57 miod Exp $
d117 2
a118 2
#uda0		at uba?	csr 0172150	# UDA50/RQDX?
#uda1		at uba?	csr 0160334
d130 1
a130 1
#mscpbus*	at uda?
d134 1
a134 1
#ra*		at mscpbus? drive?	# MSCP disk
@


1.11
log
@Remove MSDOSFS support from the ramdisk.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.10 2001/08/18 20:29:53 miod Exp $
a31 3

option		SWAPPAGER	# paging; REQUIRED
option		DEVPAGER	# mmap() of devices
@


1.10
log
@We don't provide COMPAT_1[234] options anymore.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.9 2001/07/31 08:24:56 hugh Exp $
d40 1
a40 1
option		MSDOSFS		# MS-DOS file system
@


1.9
log
@+smg +wscons
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.8 2001/06/27 05:15:40 art Exp $
a57 3
option		COMPAT_12
#option		COMPAT_13
#option		COMPAT_14
@


1.8
log
@option UVM is not needed anymore
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.7 2001/06/23 19:46:59 deraadt Exp $
d87 1
a87 1
#smg0		at vsbus0 csr 0x200f0000 # Small monochrome display ctlr.
d159 2
a160 1
#wscons*	at smg?
d165 5
a169 1
#lkc0		at dz0
@


1.7
log
@no more kernfs
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.6 2001/05/17 00:57:59 pvalchev Exp $
a27 2

option		UVM			# VAX uses UVM; REQUIRED
@


1.6
log
@It's Daylight Saving Time, not Savings.  Fix comments.
Discussed with pjanzen@@
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.5 2001/04/09 00:53:53 hugh Exp $
a43 1
option		KERNFS		# /kern
@


1.5
log
@Comment out compat vax1k until needed.
Also a large quantity of whitespace fixes.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.4 2001/02/24 10:31:59 hugh Exp $
d33 1
a33 1
option		DST=0		# daylight savings time used by RTC
@


1.5.4.1
log
@Continue the aborted merge of current just before 2.9 was cut into the
SMP branch.  Note that this will not make any progress of SMP functionality,
it is just merging of new code from the trunk into the old branch.
Please do not ask me questions about SMP status because of this mail,
instead go read the archives of smp@@openbsd.org, where I mailed about
these commits some week ago.  Another note: I am doing this in chunks now,
so as to not lock too much of the tree for long times
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.5 2001/04/09 00:53:53 hugh Exp $
@


1.5.4.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.5.4.1 2001/05/14 21:37:53 niklas Exp $
d29 2
d33 1
a33 1
option		DST=0		# daylight saving time used by RTC
d44 1
@


1.5.4.3
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.5.4.2 2001/07/04 10:24:21 niklas Exp $
d33 3
d40 1
a40 1
#option		MSDOSFS		# MS-DOS file system
d58 3
d87 1
a87 1
smg0		at vsbus0 csr 0x200f0000 # Small monochrome display ctlr.
d159 1
a159 2
wsdisplay0	at smg?

d164 1
a164 5

lkkbd0		at dz0 line 0
wskbd*		at lkkbd? console ?
lkms0		at dz0 line 1
wsmouse*	at lkms?
@


1.5.4.4
log
@Merge in trunk
@
text
@d1 1
a1 1
#	$OpenBSD$
d19 3
a21 3
option		VAX660		# VAX 4000 200
option	 	VAX670		# VAX 4000 300
option		VAX680		# VAX 4000 {4,5,6,7}0{0,5}{,A}
d117 2
a118 2
uda0		at uba?	csr 0172150	# UDA50/RQDX?
uda1		at uba?	csr 0160334
d130 1
a130 1
mscpbus*	at uda?
d134 1
a134 1
ra*		at mscpbus? drive?	# MSCP disk
@


1.5.4.5
log
@Sync the SMP branch with 3.3
@
text
@d9 1
a9 1
option		MINIROOTSIZE=3072
d13 4
a16 4
#option		VAX8600
#option		VAX8200
#option		VAX780		# 11/780
#option		VAX750		# 11/750
d38 1
a38 1
#option		FIFO		# FIFOs; RECOMMENDED
d46 4
d81 1
a81 1
#smg0		at vsbus0 csr 0x200f0000 # Small monochrome display ctlr.
d124 1
a124 1
qe0		at uba? csr 0174440	# DEQNA/DELQA
d126 1
a126 1
dz0		at uba? csr 0160100	# DZ-11
d148 3
a150 3
#ch*		at scsibus? target? lun?
#ss*		at scsibus? target? lun?
#uk*		at scsibus? target? lun?
d153 3
a155 1
#wsdisplay0	at smg?
d160 4
a163 4
#lkkbd0		at dz0 line 0
#wskbd*		at lkkbd? console ?
#lkms0		at dz0 line 1
#wsmouse*	at lkms?
@


1.5.4.6
log
@Merge of current from two weeks agointo the SMP branch
@
text
@a40 1
option		INET6		# IPv6 (needs INET)
@


1.4
log
@Support for VAX 4000/{2,4,5}00 from Michael Kukat. untested.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.3 2001/02/11 06:34:36 hugh Exp $
d53 2
a54 2
option 		WSEMUL_VT100
option 		WSDISPLAY_DEFAULTSCREENS=8
d60 5
a64 5
option 		COMPAT_VAX1K	# Must be present to run pre-1.4 binaries.
option 		COMPAT_12
#option 	COMPAT_13
#option 	COMPAT_14
#option 	COMPAT_ULTRIX
@


1.3
log
@Pick up a NetBSD hack to attach Cheetah to vsbus as well as ibus.
High kludge factor, but the payoff is vsbus scsi for free.
Most of the work is by Michael Kukat and ragge, with a few other
synchronisations thrown in.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.2 2001/01/28 01:19:58 hugh Exp $
d19 1
d21 1
@


1.2
log
@Basic support for boardtype 1303 (Cheetah) machines.
Layout of the DZ's registers (among other things) determined
by a massive amount of trial and error.
Work by Brandon and me.
@
text
@d1 1
a1 1
#	$OpenBSD: RAMDISK,v 1.1 2000/10/31 02:30:56 hugh Exp $
d82 1
a82 1
dz0		at vsbus0 csr 0x25000000 # VS4000/90 serial line
d87 1
a87 1
asc0		at vsbus0 csr 0x26000080 # VS4000/90 SCSI-ctlr
d97 1
a98 2
le0		at ibus0		# LANCE ethernet
dz0		at ibus0		# DZ serial controller
@


1.1
log
@ramdisk support for vax.
@
text
@d1 1
a1 1
#	$OpenBSD$
d25 1
d98 2
a99 1
le0			at ibus0		# LANCE ethernet
@

