head	1.10;
access;
symbols
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.2
	OPENBSD_5_0:1.8.0.2
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.7.0.12
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.10
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.6
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.8
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.4
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.2
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.6.0.20
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.6.0.18
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.6.0.16
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.14
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.12
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.10
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.8
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.6.0.6
	OPENBSD_3_6_BASE:1.6
	SMP_SYNC_A:1.6
	SMP_SYNC_B:1.6
	OPENBSD_3_5:1.6.0.4
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.2
	OPENBSD_3_4_BASE:1.6
	UBC_SYNC_A:1.5
	OPENBSD_3_3:1.5.0.4
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.5.0.2
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.4.0.12
	OPENBSD_3_1_BASE:1.4
	UBC_SYNC_B:1.5
	UBC:1.4.0.10
	UBC_BASE:1.4
	OPENBSD_3_0:1.4.0.8
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_9:1.4.0.6
	OPENBSD_2_8:1.4.0.4
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.2
	OPENBSD_2_7_BASE:1.4
	SMP:1.3.0.12
	SMP_BASE:1.3
	kame_19991208:1.3
	OPENBSD_2_6:1.3.0.10
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.8
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.6
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.4
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.2
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@ * @;


1.10
date	2012.06.26.16.12.45;	author deraadt;	state dead;
branches;
next	1.9;

1.9
date	2011.08.29.13.13.21;	author kettenis;	state Exp;
branches;
next	1.8;

1.8
date	2011.03.23.16.54.37;	author pirofti;	state Exp;
branches;
next	1.7;

1.7
date	2008.07.21.20.50.55;	author martynas;	state Exp;
branches;
next	1.6;

1.6
date	2003.06.02.23.27.57;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2002.05.11.14.46.41;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2000.04.26.03.08.41;	author bjc;	state Exp;
branches
	1.4.10.1;
next	1.3;

1.3
date	97.08.01.21.35.35;	author deraadt;	state Exp;
branches
	1.3.12.1;
next	1.2;

1.2
date	97.05.29.00.04.39;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.52.06;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.52.06;	author deraadt;	state Exp;
branches;
next	;

1.3.12.1
date	2001.05.14.21.37.59;	author niklas;	state Exp;
branches;
next	1.3.12.2;

1.3.12.2
date	2003.03.27.23.52.19;	author niklas;	state Exp;
branches;
next	1.3.12.3;

1.3.12.3
date	2003.06.07.11.14.47;	author ho;	state Exp;
branches;
next	;

1.4.10.1
date	2002.06.11.03.39.19;	author art;	state Exp;
branches;
next	;


desc
@@


1.10
log
@create new machine/_float.h which is namespace clean.  create a new
MI float.h which pulls in and defines the values that are needed from
there, and repair sys/limits.h so that it defines the values it needs
as well (depending on POSIX version, XPG version, etc).  guenther has
a more exact selection of that coming for limits.h.
this also fixes a few mistakes for the vax.
reviewed by kettenis and guenther.
@
text
@/*	$OpenBSD: float.h,v 1.9 2011/08/29 13:13:21 kettenis Exp $	*/
/*	$NetBSD: float.h,v 1.5 1998/10/10 02:13:55 matt Exp $	*/

/*
 * Copyright (c) 1989 Regents of the University of California.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 3. Neither the name of the University nor the names of its contributors
 *    may be used to endorse or promote products derived from this software
 *    without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 *	@@(#)float.h     7.2 (Berkeley) 6/28/90
 */

#ifndef _MACHINE_FLOAT_H_
#define _MACHINE_FLOAT_H_

#include <sys/cdefs.h>

#define FLT_RADIX	2		/* b */
#define FLT_ROUNDS	1		/* FP addition rounds to nearest */
#if __ISO_C_VISIBLE >= 1999
#define FLT_EVAL_METHOD	0		/* no promotions */
#endif

#define FLT_MANT_DIG	24		/* p */
#define FLT_EPSILON	1.19209290E-7F	/* b**(1-p) */
#define FLT_MIN_EXP	(-127)		/* emin */
#define FLT_MIN_10_EXP	(-38)		/* ceil(log10(b**(emin-1))) */
#define FLT_MAX_EXP	127		/* emax */
#define FLT_MAX_10_EXP	38		/* floor(log10((1-b**(-p))*b**emax)) */

#define DBL_MANT_DIG	56
#define DBL_EPSILON	2.77555756156289135E-17
#define DBL_MIN_EXP	(-127)
#define DBL_MIN_10_EXP	(-38)
#define DBL_MAX_EXP	127
#define DBL_MAX_10_EXP	38

/* limits.h also defines this */
#if !defined(FLT_DIG)
# define FLT_DIG	6		/* floor((p-1)*log10(b))+(b == 10) */
# define FLT_MIN	2.93873588E-39F	/* b**(emin-1) */
# define FLT_MAX	1.70141173E+38F	/* (1-b**(-p))*b**emax */
# define DBL_DIG	16
# define DBL_MIN	2.938735877055718770E-39
# define DBL_MAX	1.701411834604692294E+38
#endif

#define LDBL_MANT_DIG	DBL_MANT_DIG
#define LDBL_EPSILON	DBL_EPSILON
#define LDBL_DIG	DBL_DIG
#define LDBL_MIN_EXP	DBL_MIN_EXP
#define LDBL_MIN	DBL_MIN
#define LDBL_MIN_10_EXP	DBL_MIN_10_EXP
#define LDBL_MAX_EXP	DBL_MAX_EXP
#define LDBL_MAX	DBL_MAX
#define LDBL_MAX_10_EXP	DBL_MAX_10_EXP

#if __ISO_C_VISIBLE >= 1999
#define DECIMAL_DIG	18
#endif

#endif	/* _MACHINE_FLOAT_H_ */
@


1.9
log
@Only provide FLT_EVAL_METHOD for C99.  Add missing DECIMAL_DIG for C99.

ok guenther@@
@
text
@d1 1
a1 1
/*	$OpenBSD: float.h,v 1.8 2011/03/23 16:54:37 pirofti Exp $	*/
@


1.8
log
@Normalize sentinel. Use _MACHINE_*_H_ and _<ARCH>_*_H_ properly and consitently.

Discussed and okay drahn@@. Okay deraadt@@.
@
text
@d1 1
a1 1
/*	$OpenBSD: float.h,v 1.7 2008/07/21 20:50:55 martynas Exp $	*/
d38 2
d42 1
d44 1
d79 4
@


1.7
log
@- add proper double_t and float_t definitions for each arch
- math.h shouldn't define FLT_EVAL_METHOD, but float.h should (per
C99).  remove from math.h, and add proper definitions in float.h
ok millert@@
@
text
@d1 1
a1 1
/*	$OpenBSD: float.h,v 1.6 2003/06/02 23:27:57 millert Exp $	*/
d35 2
a36 2
#ifndef _VAX_FLOAT_H_
#define _VAX_FLOAT_H_
d76 1
a76 1
#endif	/* _VAX_FLOAT_H_ */
@


1.6
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
/*	$OpenBSD: float.h,v 1.5 2002/05/11 14:46:41 millert Exp $	*/
d40 1
@


1.5
log
@Avoid multiple definitions of macros in float.h and limits.h.  This
is a long-standing problem that recently showed up on vax because
due to some indirection cpp no longer believes the definitions are
equivalent (though they really are).  From espie@@
@
text
@d1 1
a1 1
/*	$OpenBSD: float.h,v 1.4 2000/04/26 03:08:41 bjc Exp $	*/
d16 1
a16 5
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by the University of
 *	California, Berkeley and its contributors.
 * 4. Neither the name of the University nor the names of its contributors
@


1.4
log
@vax resurrection, part 1: sync with early-april netbsd

many changes here, notable:  uvm, ansi.h, more (and cleaner) vsbus support
@
text
@d1 1
a1 1
/*	$OpenBSD: float.h,v 1.3 1997/08/01 21:35:35 deraadt Exp $	*/
a46 1
#define FLT_DIG		6		/* floor((p-1)*log10(b))+(b == 10) */
a47 1
#define FLT_MIN		2.93873588E-39F	/* b**(emin-1) */
a49 1
#define FLT_MAX		1.70141173E+38F	/* (1-b**(-p))*b**emax */
a53 1
#define DBL_DIG		16
a54 1
#define DBL_MIN		2.938735877055718770E-39
a56 1
#define DBL_MAX		1.701411834604692294E+38
d58 10
@


1.4.10.1
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
/*	$OpenBSD: float.h,v 1.4 2000/04/26 03:08:41 bjc Exp $	*/
d47 1
d49 1
d52 1
d57 1
d59 1
d62 1
a63 10

/* limits.h also defines this */
#if !defined(FLT_DIG)
# define FLT_DIG	6		/* floor((p-1)*log10(b))+(b == 10) */
# define FLT_MIN	2.93873588E-39F	/* b**(emin-1) */
# define FLT_MAX	1.70141173E+38F	/* (1-b**(-p))*b**emax */
# define DBL_DIG	16
# define DBL_MIN	2.938735877055718770E-39
# define DBL_MAX	1.701411834604692294E+38
#endif
@


1.3
log
@proto __flt_rounds correctly
@
text
@d1 2
a2 2
/*	$OpenBSD: float.h,v 1.2 1997/05/29 00:04:39 niklas Exp $	*/
/*	$NetBSD: float.h,v 1.2 1994/10/26 08:02:08 cgd Exp $	*/
d18 2
a19 2
 *      This product includes software developed by the University of
 *      California, Berkeley and its contributors.
d36 1
a36 1
 *      @@(#)float.h     7.2 (Berkeley) 6/28/90
d39 2
a40 1
#include <sys/cdefs.h>
d42 34
a75 36
__BEGIN_DECLS
int __flt_rounds __P((void));
__END_DECLS

#define FLT_RADIX       2               /* b */
#define FLT_ROUNDS      1               /* FP addition rounds to nearest */

#define FLT_MANT_DIG    24              /* p */
#define FLT_EPSILON     1.19209290E-07F /* b**(1-p) */
#define FLT_DIG         6               /* floor((p-1)*log10(b))+(b == 10) */
#define FLT_MIN_EXP     -127            /* emin */
#define FLT_MIN         2.93873588E-39F /* b**(emin-1) */
#define FLT_MIN_10_EXP  -38             /* ceil(log10(b**(emin-1))) */
#define FLT_MAX_EXP     127             /* emax */
#define FLT_MAX         1.70141173E+38F /* (1-b**(-p))*b**emax */
#define FLT_MAX_10_EXP  38              /* floor(log10((1-b**(-p))*b**emax)) */

#define DBL_MANT_DIG    56
#define DBL_EPSILON     2.775557561562891351E-17
#define DBL_DIG         16
#define DBL_MIN_EXP     -127
#define DBL_MIN         2.938735877055718770E-39
#define DBL_MIN_10_EXP  -38
#define DBL_MAX_EXP     127
#define DBL_MAX         1.701411834604692294E+38
#define DBL_MAX_10_EXP  38

#define LDBL_MANT_DIG   DBL_MANT_DIG
#define LDBL_EPSILON    DBL_EPSILON
#define LDBL_DIG        DBL_DIG
#define LDBL_MIN_EXP    DBL_MIN_EXP
#define LDBL_MIN        DBL_MIN
#define LDBL_MIN_10_EXP DBL_MIN_10_EXP
#define LDBL_MAX_EXP    DBL_MAX_EXP
#define LDBL_MAX        DBL_MAX
#define LDBL_MAX_10_EXP DBL_MAX_10_EXP
@


1.3.12.1
log
@Continue the aborted merge of current just before 2.9 was cut into the
SMP branch.  Note that this will not make any progress of SMP functionality,
it is just merging of new code from the trunk into the old branch.
Please do not ask me questions about SMP status because of this mail,
instead go read the archives of smp@@openbsd.org, where I mailed about
these commits some week ago.  Another note: I am doing this in chunks now,
so as to not lock too much of the tree for long times
@
text
@d1 2
a2 2
/*	$OpenBSD: float.h,v 1.4 2000/04/26 03:08:41 bjc Exp $	*/
/*	$NetBSD: float.h,v 1.5 1998/10/10 02:13:55 matt Exp $	*/
d18 2
a19 2
 *	This product includes software developed by the University of
 *	California, Berkeley and its contributors.
d36 1
a36 1
 *	@@(#)float.h     7.2 (Berkeley) 6/28/90
d39 1
a39 2
#ifndef _VAX_FLOAT_H_
#define _VAX_FLOAT_H_
d41 36
a76 34
#define FLT_RADIX	2		/* b */
#define FLT_ROUNDS	1		/* FP addition rounds to nearest */

#define FLT_MANT_DIG	24		/* p */
#define FLT_EPSILON	1.19209290E-7F	/* b**(1-p) */
#define FLT_DIG		6		/* floor((p-1)*log10(b))+(b == 10) */
#define FLT_MIN_EXP	(-127)		/* emin */
#define FLT_MIN		2.93873588E-39F	/* b**(emin-1) */
#define FLT_MIN_10_EXP	(-38)		/* ceil(log10(b**(emin-1))) */
#define FLT_MAX_EXP	127		/* emax */
#define FLT_MAX		1.70141173E+38F	/* (1-b**(-p))*b**emax */
#define FLT_MAX_10_EXP	38		/* floor(log10((1-b**(-p))*b**emax)) */

#define DBL_MANT_DIG	56
#define DBL_EPSILON	2.77555756156289135E-17
#define DBL_DIG		16
#define DBL_MIN_EXP	(-127)
#define DBL_MIN		2.938735877055718770E-39
#define DBL_MIN_10_EXP	(-38)
#define DBL_MAX_EXP	127
#define DBL_MAX		1.701411834604692294E+38
#define DBL_MAX_10_EXP	38

#define LDBL_MANT_DIG	DBL_MANT_DIG
#define LDBL_EPSILON	DBL_EPSILON
#define LDBL_DIG	DBL_DIG
#define LDBL_MIN_EXP	DBL_MIN_EXP
#define LDBL_MIN	DBL_MIN
#define LDBL_MIN_10_EXP	DBL_MIN_10_EXP
#define LDBL_MAX_EXP	DBL_MAX_EXP
#define LDBL_MAX	DBL_MAX
#define LDBL_MAX_10_EXP	DBL_MAX_10_EXP

#endif	/* _VAX_FLOAT_H_ */
@


1.3.12.2
log
@Sync the SMP branch with 3.3
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d47 1
d49 1
d52 1
d57 1
d59 1
d62 1
a63 10

/* limits.h also defines this */
#if !defined(FLT_DIG)
# define FLT_DIG	6		/* floor((p-1)*log10(b))+(b == 10) */
# define FLT_MIN	2.93873588E-39F	/* b**(emin-1) */
# define FLT_MAX	1.70141173E+38F	/* (1-b**(-p))*b**emax */
# define DBL_DIG	16
# define DBL_MIN	2.938735877055718770E-39
# define DBL_MAX	1.701411834604692294E+38
#endif
@


1.3.12.3
log
@Sync SMP branch to -current
@
text
@d1 1
a1 1
/*	$OpenBSD: float.h,v 1.3.12.2 2003/03/27 23:52:19 niklas Exp $	*/
d16 5
a20 1
 * 3. Neither the name of the University nor the names of its contributors
@


1.2
log
@RCS tagging
@
text
@d1 1
a1 1
/*	$OpenBSD: float.h,v 1.2 1994/10/26 08:02:08 cgd Exp $	*/
d38 6
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
