head	1.2;
access;
symbols
	SMP_SYNC_A:1.2
	SMP_SYNC_B:1.2
	UBC_SYNC_A:1.2
	UBC_SYNC_B:1.2
	SMP:1.2.0.2
	mvme88kport:1.1.1.1;
locks; strict;
comment	@# @;


1.2
date	97.03.03.20.47.50;	author rahnds;	state dead;
branches;
next	1.1;

1.1
date	97.03.03.19.30.43;	author rahnds;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.03.03.19.30.43;	author rahnds;	state Exp;
branches;
next	;


desc
@@


1.2
log
@When importing a tree, make certain that a bunch of garbage isn't left around.
@
text
@all:	boot boot.out
CFLAGS+=-fwritable-strings -I${.CURDIR}/../include
CFLAGS+=-I${.CURDIR}/../.. -I${.CURDIR}/../../machine
CFLAGS+=-I/usr/src/sys
LDFLAGS+= -L ${.CURDIR}/../libbug -L/usr/local/lib
BOOT=FC0000
#BOOT=1000000

LIBBUG!= cd $(.CURDIR)/../libbug; \
     printf "xxx:\n\techo \$${.OBJDIR}/libbug.a\n" | ${MAKE} -r -s -f - xxx

LDADD+=${LIBBUG} #/usr/local/lib/libgcc.a
SRCS+=bugcrt.c bugio.c main.c

.PATH:    ${.CURDIR}/../bugcrt ${.CURDIR}/../libbug ${.CURDIR}/../../../../lib/libc_sa ${.CURDIR}/${MACHINE_ARCH}

boot:	bugcrt.o main.o bcopy.o memset.o printf.o ${LIBBUG}
#	ld -o {.TARGET} -x -n -Ttext ${BOOT} bugcrt.o bugio.o main.o bcopy.o memset.o printf.o /usr/local/lib/libgcc.a
	ld -o ${.TARGET} -x -N -Ttext ${BOOT} ${.ALLSRC} ${LDADD}

boot.out:
	${.CURDIR}/wrtvid ${.OBJDIR}/boot && mv ${.OBJDIR}/boot.? ${.CURDIR}

#main.o: main.c
#	${CC} ${CFLAGS} -c -O ${.ALLSRC}
#	${LD} -x -r ${.TARGET}
#	${LD} -x  ${.TARGET}
#	mv a.out ${.TARGET}

.include <bsd.prog.mk>
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Third try at importing the mvme88k port. This is a working kernel
from nivas.
Userland and compiler still need to be worked on.
Make certain what directory the import is done from.
@
text
@@
