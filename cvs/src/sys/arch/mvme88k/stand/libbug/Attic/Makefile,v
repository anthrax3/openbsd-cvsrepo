head	1.11;
access;
symbols
	OPENBSD_5_5:1.10.0.6
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.10.0.2
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.9.0.2
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.7.0.36
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.34
	OPENBSD_5_0:1.7.0.32
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.30
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.28
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.24
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.26
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.22
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.20
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.18
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.7.0.16
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.14
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.12
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.10
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.7.0.8
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.6
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.7.0.4
	OPENBSD_3_6_BASE:1.7
	SMP_SYNC_A:1.7
	SMP_SYNC_B:1.7
	OPENBSD_3_5:1.7.0.2
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.5.0.22
	OPENBSD_3_4_BASE:1.5
	UBC_SYNC_A:1.5
	OPENBSD_3_3:1.5.0.20
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.5.0.18
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.5.0.16
	OPENBSD_3_1_BASE:1.5
	UBC_SYNC_B:1.5
	UBC:1.5.0.14
	UBC_BASE:1.5
	OPENBSD_3_0:1.5.0.12
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9:1.5.0.10
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_8:1.5.0.8
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.5.0.6
	OPENBSD_2_7_BASE:1.5
	SMP:1.5.0.4
	SMP_BASE:1.5
	kame_19991208:1.5
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.4.0.4
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.3.0.6
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.4
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3
	mvme88kport:1.1.1.2
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	first_1:1.1.1.1;
locks; strict;
comment	@# @;


1.11
date	2014.03.18.22.36.36;	author miod;	state dead;
branches;
next	1.10;

1.10
date	2013.05.14.20.30.47;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2012.11.25.14.10.47;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2012.08.21.14.46.19;	author pascal;	state Exp;
branches;
next	1.7;

1.7
date	2004.01.26.19.48.33;	author miod;	state Exp;
branches;
next	1.6;

1.6
date	2003.10.01.20.39.41;	author miod;	state Exp;
branches;
next	1.5;

1.5
date	99.09.27.19.30.00;	author smurph;	state Exp;
branches
	1.5.4.1;
next	1.4;

1.4
date	98.08.22.07.39.51;	author smurph;	state Exp;
branches;
next	1.3;

1.3
date	97.03.03.20.22.25;	author rahnds;	state Exp;
branches;
next	1.2;

1.2
date	97.03.03.19.08.41;	author rahnds;	state dead;
branches;
next	1.1;

1.1
date	95.10.18.10.54.20;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.10.54.20;	author deraadt;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	97.03.03.19.30.33;	author rahnds;	state Exp;
branches;
next	;

1.5.4.1
date	2004.02.19.10.49.09;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@#	$OpenBSD: Makefile,v 1.10 2013/05/14 20:30:47 miod Exp $

LIB=bug

NOPIC=
NOPROFILE=
NOPIE=

S=${.CURDIR}/../../../..
DIR_SA=$S/lib/libsa

CFLAGS+=-I${.CURDIR}/../../include -I${DIR_SA}

SRCS=	delay.c diskrd.c diskwr.c getbrdid.c inchr.c instat.c \
	netcfig.c netctrl.c netfopen.c netfread.c outstr.c putchar.c \
	return.c rtc_rd.c

install:

.include <bsd.lib.mk>
@


1.10
log
@Older BUG version do not implement the `out cr/lf' BUG system call, and, worse,
do not return from it, for extra fun. The good thing is that the existing
kernel console code logic issueing \n as \r\n works nicely with the regular
BUG output routines, so there was no reason to use this particular BUG routine
in the first place.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2012/11/25 14:10:47 miod Exp $
@


1.9
log
@Recognize a wrong network configuration which would cause tftpboot to
apparently freeze, and in any case fail to load anything; if this happens,
tell the user what to do and return to the BUG (altering the configuration
from tftpboot itself doesn't seem to have any effect, unfortunately).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2012/08/21 14:46:19 pascal Exp $
d15 1
a15 1
	netcfig.c netctrl.c netfopen.c netfread.c outln.c outstr.c putchar.c \
@


1.8
log
@Add NOPIE= bits for sys/arch/*/stand to ensure that bootblocks will always be
built with -fno-pie.  This gets the hairiest part of PIE out of the way ...

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2004/01/26 19:48:33 miod Exp $
d15 2
a16 1
	netfopen.c netfread.c outln.c outstr.c putchar.c return.c rtc_rd.c
@


1.7
log
@tftp-only netboot code, inspired from mvmeppc, and stripped down; it will
become necessary to boot from unsupported (as far as mvme88k/stand/ is
concerned) network cards, such as the MVME374 and the MVME376.

Not enabled in the build yet, because there are a few issues left, but
it is nonetheless usable...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2003/10/01 20:39:41 miod Exp $
d7 1
@


1.6
log
@Compile kernel and bootblocks with -mmemcpy, to get rid of libgcc dependancy.
Also, honor default compilation options in stand/ whenever possible.

This requires an up-to-date compiler, but it's not exactly like many people
are going to be affected by this change...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1999/09/27 19:30:00 smurph Exp $
d13 2
a14 2
SRCS=	delay.c diskrd.c diskwr.c getbrdid.c inchr.c instat.c outln.c \
	outstr.c putchar.c return.c rtc_rd.c
@


1.5
log
@changed loader load address.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1998/08/22 07:39:51 smurph Exp $
d11 1
a11 1
CFLAGS+=-O2 -I${.CURDIR}/../../include -I${DIR_SA}
@


1.5.4.1
log
@Merge of current from two weeks agointo the SMP branch
@
text
@d1 1
a1 1
#	$OpenBSD$
d11 1
a11 1
CFLAGS+=-I${.CURDIR}/../../include -I${DIR_SA}
d13 2
a14 2
SRCS=	delay.c diskrd.c diskwr.c getbrdid.c inchr.c instat.c \
	netfopen.c netfread.c outln.c outstr.c putchar.c return.c rtc_rd.c
@


1.4
log
@new libbug.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1996/05/16 02:25:39 chuck Exp $
d11 1
a11 1
CFLAGS+=-I${.CURDIR}/../../include -I${DIR_SA}
@


1.3
log
@Cleanup after import. This also seems to bring up the current version.
@
text
@d1 2
d8 4
a11 1
CFLAGS+=-I${.CURDIR}/../../include
d13 2
a14 3
SRCS=delay.c diskrd.c diskwr.c getbrdid.c instat.c outln.c outstr.c \
	return.c rtc_rd.c
.PATH:    ${.CURDIR}/../../../../lib/libc_sa ${.CURDIR}/${MACHINE_ARCH}
@


1.2
log
@This is a remove to get rid of the old mvme88k port which was incomplete
to replace it with a working version. The kernel compiles and works
at least.  The new version will be imported shortly.
@
text
@d3 3
a5 1
CFLAGS+=-I${.CURDIR}/../include
a6 13
CFLAGS+=-I${.CURDIR}/../..
CFLAGS+=-I/usr/src/sys
CFLAGS+=-fwritable-strings

SRCS+=bugio.c
#SRCS+=bugcrt.c bugio.c main.c

.if (${MACHINE_ARCH} == "m68k")
SRCS+=mvme147.c bcopy.c memset.c
.endif
.if (${MACHINE_ARCH} == "m88k")
SRCS+=bcopy.c memset.c printf.c
.endif
d8 2
d12 1
a12 6
all:	bugio.o

#bugio.o: bugio.c
#	${CC} ${CFLAGS} -c -O ${.ALLSRC}
#	${LD} -x -r ${.TARGET}
#	mv a.out ${.TARGET}
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@initial 88k import; code by nivas and based on mach luna88k
@
text
@@


1.1.1.2
log
@Third try at importing the mvme88k port. This is a working kernel
from nivas.
Userland and compiler still need to be worked on.
Make certain what directory the import is done from.
@
text
@d3 8
a10 2
NOPIC=
NOPROFILE=
d12 6
a17 1
CFLAGS+=-I${.CURDIR}/../../include
a18 2
SRCS=delay.c diskrd.c diskwr.c getbrdid.c instat.c outln.c outstr.c \
	return.c rtc_rd.c
d21 6
a26 1
install:
@
