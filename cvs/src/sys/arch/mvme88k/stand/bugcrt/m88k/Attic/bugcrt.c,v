head	1.2;
access;
symbols
	SMP_SYNC_A:1.2
	SMP_SYNC_B:1.2
	UBC_SYNC_A:1.2
	UBC_SYNC_B:1.2
	SMP:1.2.0.2
	OPENBSD_2_3:1.1.1.1.0.6
	OPENBSD_2_3_BASE:1.1.1.1
	OPENBSD_2_2:1.1.1.1.0.4
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.2
	OPENBSD_2_1_BASE:1.1.1.1
	mvme88kport:1.1.1.1;
locks; strict;
comment	@ * @;


1.2
date	98.08.22.05.43.06;	author smurph;	state dead;
branches;
next	1.1;

1.1
date	97.03.03.19.30.32;	author rahnds;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.03.03.19.30.32;	author rahnds;	state Exp;
branches;
next	;


desc
@@


1.2
log
@part of a remove to get stand into shape.
@
text
@#include <sys/types.h>
#include <machine/prom.h>

struct mvmeprom_args bugargs = { 1 };		/* not BSS */

	asm (".text");
	asm (".long 0x003ffff8");
	asm (".long _start");
start()
{
	register int dev_lun asm ("r2");
	register int ctrl_lun asm ("r3");
	register int flags asm ("r4");
	register int ctrl_addr asm ("r5");
	register int entry asm ("r6");
	register int conf_blk asm ("r7");
	register char *arg_start asm ("r8");
	register char *arg_end asm ("r9");
	extern int edata, end;

asm	("#	enable SFU1");
asm	("		ldcr	r10,cr1");
asm	("		xor	r10,r10,0x8");
asm	("		stcr	r10,cr1");

	bugargs.dev_lun = dev_lun;
	bugargs.ctrl_lun = ctrl_lun;
	bugargs.flags = flags;
	bugargs.ctrl_addr = ctrl_addr;
	bugargs.entry = entry;
	bugargs.conf_blk = conf_blk;
	bugargs.arg_start = arg_start;
	bugargs.arg_end = arg_end;
	*arg_end = 0;

	bzero(&edata, (int)&end - (int)&edata);
	main();
	mvmeprom_return();
	/* NOTREACHED */
}

__main()
{
}
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Third try at importing the mvme88k port. This is a working kernel
from nivas.
Userland and compiler still need to be worked on.
Make certain what directory the import is done from.
@
text
@@
