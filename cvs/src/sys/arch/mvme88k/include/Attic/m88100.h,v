head	1.14;
access;
symbols
	OPENBSD_5_5:1.13.0.42
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.38
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.36
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.13.0.34
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.32
	OPENBSD_5_0:1.13.0.30
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.28
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.13.0.26
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.13.0.22
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.13.0.24
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.13.0.20
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.18
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.16
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.14
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.13.0.12
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.13.0.10
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.8
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.6
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.13.0.4
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.13.0.2
	OPENBSD_3_6_BASE:1.13
	SMP_SYNC_A:1.13
	SMP_SYNC_B:1.13
	OPENBSD_3_5:1.11.0.2
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.9.0.12
	OPENBSD_3_4_BASE:1.9
	UBC_SYNC_A:1.9
	OPENBSD_3_3:1.9.0.10
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.9.0.8
	OPENBSD_3_2_BASE:1.9
	OPENBSD_3_1:1.9.0.6
	OPENBSD_3_1_BASE:1.9
	UBC_SYNC_B:1.9
	UBC:1.9.0.4
	UBC_BASE:1.9
	OPENBSD_3_0:1.9.0.2
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9:1.7.0.2
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_8:1.4.0.10
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.8
	OPENBSD_2_7_BASE:1.4
	SMP:1.4.0.6
	SMP_BASE:1.4
	kame_19991208:1.4
	OPENBSD_2_6:1.4.0.4
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.3.0.8
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.6
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.4
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3
	mvme88kport:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	first_1:1.1.1.1;
locks; strict;
comment	@ * @;


1.14
date	2014.03.18.22.36.36;	author miod;	state dead;
branches;
next	1.13;

1.13
date	2004.04.26.14.31.11;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2004.04.26.12.34.05;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2003.10.05.20.24.19;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2003.09.26.23.37.02;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2001.09.28.20.45.49;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2001.08.12.12.03.02;	author heko;	state Exp;
branches;
next	1.7;

1.7
date	2001.03.07.23.37.16;	author miod;	state Exp;
branches;
next	1.6;

1.6
date	2001.02.01.03.38.17;	author smurph;	state Exp;
branches;
next	1.5;

1.5
date	2001.01.14.20.25.24;	author smurph;	state Exp;
branches;
next	1.4;

1.4
date	99.02.09.06.36.26;	author smurph;	state Exp;
branches
	1.4.6.1;
next	1.3;

1.3
date	97.03.03.20.21.03;	author rahnds;	state Exp;
branches;
next	1.2;

1.2
date	97.03.03.19.07.34;	author rahnds;	state dead;
branches;
next	1.1;

1.1
date	95.10.18.10.54.24;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.10.54.24;	author deraadt;	state Exp;
branches;
next	;

1.4.6.1
date	2001.04.18.16.11.21;	author niklas;	state Exp;
branches;
next	1.4.6.2;

1.4.6.2
date	2001.10.31.03.01.19;	author nate;	state Exp;
branches;
next	1.4.6.3;

1.4.6.3
date	2004.02.19.10.49.07;	author niklas;	state Exp;
branches;
next	1.4.6.4;

1.4.6.4
date	2004.06.05.23.09.50;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.14
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@/* $OpenBSD: m88100.h,v 1.13 2004/04/26 14:31:11 miod Exp $ */
/* public domain */
#include <m88k/m88100.h>
@


1.13
log
@Fix RCSID
@
text
@d1 1
a1 1
/* $OpenBSD$ */
@


1.12
log
@Start factorizing luna88k and mvme88k common parts.
For now, include files only.
@
text
@d1 1
a1 1
/* $OpenBSD */
@


1.11
log
@typos
@
text
@d1 3
a3 59
/*	$OpenBSD: m88100.h,v 1.10 2003/09/26 23:37:02 miod Exp $ */
/*
 * Mach Operating System
 * Copyright (c) 1993-1992 Carnegie Mellon University
 * All Rights Reserved.
 *
 * Permission to use, copy, modify and distribute this software and its
 * documentation is hereby granted, provided that both the copyright
 * notice and this permission notice appear in all copies of the
 * software, derivative works or modified versions, and any portions
 * thereof, and that both notices appear in supporting documentation.
 *
 * CARNEGIE MELLON ALLOWS FREE USE OF THIS SOFTWARE IN ITS "AS IS"
 * CONDITION.  CARNEGIE MELLON DISCLAIMS ANY LIABILITY OF ANY KIND FOR
 * ANY DAMAGES WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
 *
 * Carnegie Mellon requests users of this software to return to
 *
 *  Software Distribution Coordinator  or  Software.Distribution@@CS.CMU.EDU
 *  School of Computer Science
 *  Carnegie Mellon University
 *  Pittsburgh PA 15213-3890
 *
 * any improvements or extensions that they make and grant Carnegie Mellon
 * the rights to redistribute these changes.
 */

#ifndef __MACHINE_M88100_H__
#define __MACHINE_M88100_H__

/*
 *	88100 RISC definitions
 */

/*
 * DMT0, DMT1, DMT2 layout
 *
 * The DMT_SKIP bit is never set by the cpu.  It is used to mark 'known'
 * transactions so that they don't get processed a second time by
 * data_access_emulation().
 */
#define DMT_SKIP	0x00010000	/* skip this dmt */
#define DMT_BO		0x00008000	/* Byte-Ordering */
#define DMT_DAS		0x00004000	/* Data Access Space */
#define DMT_DOUB1	0x00002000	/* Double Word */
#define DMT_LOCKBAR	0x00001000	/* Bud Lock */
#define DMT_DREG	0x00000F80	/* Destination Registers 5bits */
#define DMT_SIGNED	0x00000040	/* Sign-Extended Bit */
#define DMT_EN		0x0000003C	/* Byte Enable Bit */
#define DMT_WRITE	0x00000002	/* Read/Write Transaction Bit */
#define	DMT_VALID	0x00000001	/* Valid Transaction Bit */

#define	DMT_DREGSHIFT	7
#define	DMT_ENSHIFT	2

#define	DMT_DREGBITS(x)	(((x) & DMT_DREG) >> DMT_DREGSHIFT)
#define	DMT_ENBITS(x)	(((x) & DMT_EN) >> DMT_ENSHIFT)

#endif /* __MACHINE_M88100_H__ */
@


1.10
log
@Death to the bitfields, this time "struct dmt_reg" - and I think that's all.
While there, KNF data_access_exception().
@
text
@d1 2
a2 2
/*	$OpenBSD: m88100.h,v 1.9 2001/09/28 20:45:49 miod Exp $ */
/* 
d6 1
a6 1
 * 
d12 1
a12 1
 * 
d16 1
a16 1
 * 
d18 1
a18 1
 * 
d23 2
a24 2
 * 
 * any improvements or extensions that they make and grant Carnegie Mellon 
d39 1
a39 1
 * transactions so that they don't get prosessed a second time by
@


1.9
log
@"sys/foo.h" -> <sys/foo.h>
@
text
@d1 1
a1 1
/*	$OpenBSD: m88100.h,v 1.8 2001/08/12 12:03:02 heko Exp $ */
a26 6
/*
 * HISTORY
 */
/*
 * M88100 flags
 */
a30 1

d35 8
a42 2
/* DMT0, DMT1, DMT2 */
#define DMT_SKIP	0x00010000	/* skip this dmt in data_access_emulation */
d53 2
a54 2
#ifndef	_LOCORE
#include <sys/types.h>
d56 2
a57 18
/* dmt_skip is never set by the cpu.  It is used to 
 * mark 'known' transactions so that they don't get 
 * prosessed by data_access_emulation().  XXX smurph 
 */
struct dmt_reg {
	unsigned int :15,
	dmt_skip:1,   
	dmt_bo:1,
	dmt_das:1,
	dmt_doub1:1,
	dmt_lockbar:1,
	dmt_dreg:5,
	dmt_signed:1,
	dmt_en:4,
	dmt_write:1,
	dmt_valid:1;
};
#endif 
@


1.8
log
@#(endif|else) foo is incorrect, make it #endif /* foo */
deraadt@@ ok
@
text
@d1 1
a1 1
/*	$OpenBSD: m88100.h,v 1.7 2001/03/07 23:37:16 miod Exp $ */
d55 1
a55 1
#include "sys/types.h"
@


1.7
log
@Inclusion from assembly code is detected with _LOCORE, no more fancy symbols.
@
text
@d1 1
a1 1
/*	$OpenBSD: m88100.h,v 1.6 2001/02/01 03:38:17 smurph Exp $ */
d76 1
a76 1
#endif __MACHINE_M88100_H__
@


1.6
log
@Major changes to get MVME188 working.  More header and code cleanups.  The
kernel is tested on MVME188A/2P256 and MVME188A/1P64.
@
text
@d1 1
a1 1
/*	$OpenBSD: m88100.h,v 1.5 2001/01/14 20:25:24 smurph Exp $ */
d54 1
a54 1
#ifndef	ASSEMBLER
@


1.5
log
@Complete move to UVM virtual memory system.  More header fixes.
@
text
@d1 1
a1 1
/*	$OpenBSD: m88100.h,v 1.4 1999/02/09 06:36:26 smurph Exp $ */
d43 1
d57 4
d62 11
a72 10
    unsigned int :16,
	  dmt_bo:1,
          dmt_das:1,
	  dmt_doub1:1,
	  dmt_lockbar:1,
	  dmt_dreg:5,
	  dmt_signed:1,
	  dmt_en:4,
	  dmt_write:1,
	  dmt_valid:1;
@


1.4
log
@Added kernel support for user debugging.  Fixed file ID's
@
text
@d1 1
a1 1
/*	$OpenBSD: m88100.h,v 1.1 1998/12/15 04:45:50 smurph Exp $ */
d34 2
a35 2
#ifndef _M88100_H_
#define _M88100_H_
d70 1
a70 1
#endif  _M88100_H_
@


1.4.6.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
/*	$OpenBSD: m88100.h,v 1.7 2001/03/07 23:37:16 miod Exp $ */
d34 2
a35 2
#ifndef __MACHINE_M88100_H__
#define __MACHINE_M88100_H__
a42 1
#define DMT_SKIP	0x00010000	/* skip this dmt in data_access_emulation */
d53 1
a53 1
#ifndef	_LOCORE
a55 4
/* dmt_skip is never set by the cpu.  It is used to 
 * mark 'known' transactions so that they don't get 
 * prosessed by data_access_emulation().  XXX smurph 
 */
d57 10
a66 11
	unsigned int :15,
	dmt_skip:1,   
	dmt_bo:1,
	dmt_das:1,
	dmt_doub1:1,
	dmt_lockbar:1,
	dmt_dreg:5,
	dmt_signed:1,
	dmt_en:4,
	dmt_write:1,
	dmt_valid:1;
d70 1
a70 1
#endif __MACHINE_M88100_H__
@


1.4.6.2
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
/*	$OpenBSD: m88100.h,v 1.4.6.1 2001/04/18 16:11:21 niklas Exp $ */
d55 1
a55 1
#include <sys/types.h>
d76 1
a76 1
#endif /* __MACHINE_M88100_H__ */
@


1.4.6.3
log
@Merge of current from two weeks agointo the SMP branch
@
text
@d1 2
a2 2
/*	$OpenBSD$ */
/*
d6 1
a6 1
 *
d12 1
a12 1
 *
d16 1
a16 1
 *
d18 1
a18 1
 *
d23 2
a24 2
 *
 * any improvements or extensions that they make and grant Carnegie Mellon
d27 6
d37 1
d42 2
a43 8
/*
 * DMT0, DMT1, DMT2 layout
 *
 * The DMT_SKIP bit is never set by the cpu.  It is used to mark 'known'
 * transactions so that they don't get processed a second time by
 * data_access_emulation().
 */
#define DMT_SKIP	0x00010000	/* skip this dmt */
d54 2
a55 2
#define	DMT_DREGSHIFT	7
#define	DMT_ENSHIFT	2
d57 18
a74 2
#define	DMT_DREGBITS(x)	(((x) & DMT_DREG) >> DMT_DREGSHIFT)
#define	DMT_ENBITS(x)	(((x) & DMT_EN) >> DMT_ENSHIFT)
@


1.4.6.4
log
@Merge with the trunk
@
text
@d1 59
a59 3
/* $OpenBSD$ */
/* public domain */
#include <m88k/m88100.h>
@


1.3
log
@Cleanup after import. This also seems to bring up the current version.
@
text
@d1 1
@


1.2
log
@This is a remove to get rid of the old mvme88k port which was incomplete
to replace it with a working version. The kernel compiles and works
at least.  The new version will be imported shortly.
@
text
@@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@initial 88k import; code by nivas and based on mach luna88k
@
text
@@
