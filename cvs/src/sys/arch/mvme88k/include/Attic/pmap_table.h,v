head	1.12;
access;
symbols
	OPENBSD_5_5:1.11.0.42
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.38
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.11.0.36
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.11.0.34
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.32
	OPENBSD_5_0:1.11.0.30
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.28
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.11.0.26
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.11.0.22
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.11.0.24
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.20
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.11.0.18
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.11.0.16
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.11.0.14
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.11.0.12
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.10
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.11.0.8
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.11.0.6
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.11.0.4
	OPENBSD_3_7_BASE:1.11
	OPENBSD_3_6:1.11.0.2
	OPENBSD_3_6_BASE:1.11
	SMP_SYNC_A:1.10
	SMP_SYNC_B:1.10
	OPENBSD_3_5:1.10.0.2
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.8.0.8
	OPENBSD_3_4_BASE:1.8
	UBC_SYNC_A:1.8
	OPENBSD_3_3:1.8.0.6
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.4
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.8.0.2
	OPENBSD_3_1_BASE:1.8
	UBC_SYNC_B:1.8
	UBC:1.7.0.4
	UBC_BASE:1.7
	OPENBSD_3_0:1.7.0.2
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9:1.6.0.2
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_8:1.5.0.8
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.5.0.6
	OPENBSD_2_7_BASE:1.5
	SMP:1.5.0.4
	SMP_BASE:1.5
	kame_19991208:1.5
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.3.0.8
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.6
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.4
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3
	mvme88kport:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	first_1:1.1.1.1;
locks; strict;
comment	@ * @;


1.12
date	2014.03.18.22.36.36;	author miod;	state dead;
branches;
next	1.11;

1.11
date	2004.07.25.11.06.42;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2003.10.05.20.27.46;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2003.09.16.20.52.19;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2002.03.14.01.26.39;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2001.08.12.12.03.02;	author heko;	state Exp;
branches
	1.7.4.1;
next	1.6;

1.6
date	2001.01.14.20.25.24;	author smurph;	state Exp;
branches;
next	1.5;

1.5
date	99.09.27.20.46.19;	author smurph;	state Exp;
branches
	1.5.4.1;
next	1.4;

1.4
date	99.02.09.06.36.27;	author smurph;	state Exp;
branches;
next	1.3;

1.3
date	97.03.03.20.21.10;	author rahnds;	state Exp;
branches;
next	1.2;

1.2
date	97.03.03.19.07.41;	author rahnds;	state dead;
branches;
next	1.1;

1.1
date	95.10.18.10.54.23;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.10.54.23;	author deraadt;	state Exp;
branches;
next	;

1.5.4.1
date	2001.04.18.16.11.24;	author niklas;	state Exp;
branches;
next	1.5.4.2;

1.5.4.2
date	2001.10.31.03.01.19;	author nate;	state Exp;
branches;
next	1.5.4.3;

1.5.4.3
date	2002.03.28.10.36.02;	author niklas;	state Exp;
branches;
next	1.5.4.4;

1.5.4.4
date	2004.02.19.10.49.07;	author niklas;	state Exp;
branches;
next	;

1.7.4.1
date	2002.06.11.03.37.10;	author art;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@/* $OpenBSD: pmap_table.h,v 1.11 2004/07/25 11:06:42 miod Exp $ */
/* public domain */
#include <m88k/pmap_table.h>
@


1.11
log
@Merge luna88k and mvme88k pmap. The pmap will now assume that the memory
below the kernel text is reserved for the PROM, instead of using fixed
(but different) values between luna88k and mvme88k.

Tested on mvme88k by myself, on luna88k by aoyama@@
@
text
@d1 1
a1 1
/* $OpenBSD: pmap_table.h,v 1.10 2003/10/05 20:27:46 miod Exp $ */
@


1.10
log
@Kill vm_offset_t and vm_size_t, in favor of the [pv]addr_t and [pv]size_t
typedefs.
@
text
@d1 3
a3 49
/*	$OpenBSD: pmap_table.h,v 1.9 2003/09/16 20:52:19 miod Exp $ */
/*
 * Mach Operating System
 * Copyright (c) 1992 Carnegie Mellon University
 * All Rights Reserved.
 *
 * Permission to use, copy, modify and distribute this software and its
 * documentation is hereby granted, provided that both the copyright
 * notice and this permission notice appear in all copies of the
 * software, derivative works or modified versions, and any portions
 * thereof, and that both notices appear in supporting documentation.
 *
 * CARNEGIE MELLON ALLOWS FREE USE OF THIS SOFTWARE IN ITS "AS IS"
 * CONDITION.  CARNEGIE MELLON DISCLAIMS ANY LIABILITY OF ANY KIND FOR
 * ANY DAMAGES WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
 *
 * Carnegie Mellon requests users of this software to return to
 *
 *  Software Distribution Coordinator  or  Software.Distribution@@CS.CMU.EDU
 *  School of Computer Science
 *  Carnegie Mellon University
 *  Pittsburgh PA 15213-3890
 *
 * any improvements or extensions that they make and grant Carnegie Mellon
 * the rights to redistribute these changes.
 */

#ifndef __MACHINE_PMAP_TABLE_H__
#define __MACHINE_PMAP_TABLE_H__

/*
 * Built-in mappings list.
 * An entry is considered invalid if pm_size = 0, and
 * end of list is indicated by pm_size 0xffffffff
 */
typedef struct {
	vaddr_t		phys_start;	/* in bytes */
	vaddr_t		virt_start;	/* in bytes */
	vsize_t		size;		/* in bytes */
	unsigned int	prot;		/* vm_prot_read, vm_prot_write */
	unsigned int	cacheability;	/* none, writeback, normal */
} pmap_table_entry;

typedef const pmap_table_entry *pmap_table_t;

pmap_table_t pmap_table_build(void);

#endif	/* __MACHINE_PMAP_TABLE_H__ */

@


1.9
log
@Remove unused material from include files, as well as the annoying U() macro
which is only used to obfuscate things.

Doing this points out that the BUG memory is not at the same address on
187 and 197 (the 197 BUG is inside obio), so provide distinct constants,
and treat 187 and 197 slightly differently in pmap_bootstrap(). However, we
now need to map the 197 flash memory as well...

While there, simplify and constify pmap_table_build() and its associated data.
@
text
@d1 2
a2 2
/*	$OpenBSD: pmap_table.h,v 1.8 2002/03/14 01:26:39 millert Exp $ */
/* 
d6 1
a6 1
 * 
d12 1
a12 1
 * 
d16 1
a16 1
 * 
d18 1
a18 1
 * 
d23 2
a24 2
 * 
 * any improvements or extensions that they make and grant Carnegie Mellon 
d37 3
a39 3
	vm_offset_t	phys_start;	/* in bytes */
	vm_offset_t	virt_start;	/* in bytes */
	unsigned int	size;		/* in bytes */
@


1.8
log
@First round of __P removal in sys
@
text
@d1 1
a1 1
/*	$OpenBSD: pmap_table.h,v 1.7 2001/08/12 12:03:02 heko Exp $ */
d28 3
d32 3
a34 1
 * HISTORY
a35 6


/* an entry is considered invalid if pm_size = 0 */
/* end of list is indicated by pm_size 0xffffffff */
#ifndef __MACHINE_PAMP_TABLE_H__
#define __MACHINE_PAMP_TABLE_H__
d37 5
a41 5
  vm_offset_t phys_start;   /* in bytes */
  vm_offset_t virt_start;   /* in bytes */
  unsigned int	size;      /* in bytes */
  unsigned int  prot;	      /* vm_prot_read, vm_prot_write */
  unsigned int  cacheability; /* none, writeback, normal */
d44 3
a46 1
typedef pmap_table_entry *pmap_table_t;
d48 1
a48 2
pmap_table_t pmap_table_build(unsigned memory_size);
#endif /* __MACHINE_PAMP_TABLE_H__ */
@


1.7
log
@#(endif|else) foo is incorrect, make it #endif /* foo */
deraadt@@ ok
@
text
@d1 1
a1 1
/*	$OpenBSD: pmap_table.h,v 1.6 2001/01/14 20:25:24 smurph Exp $ */
d47 1
a47 1
pmap_table_t pmap_table_build __P((unsigned memory_size));
@


1.7.4.1
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
/*	$OpenBSD: pmap_table.h,v 1.7 2001/08/12 12:03:02 heko Exp $ */
d47 1
a47 1
pmap_table_t pmap_table_build(unsigned memory_size);
@


1.6
log
@Complete move to UVM virtual memory system.  More header fixes.
@
text
@d1 1
a1 1
/*	$OpenBSD: pmap_table.h,v 1.5 1999/09/27 20:46:19 smurph Exp $ */
d48 1
a48 1
#endif __MACHINE_PAMP_TABLE_H__
@


1.5
log
@Adding support for MVME188 and MVME197
@
text
@d1 1
a1 1
/*	$OpenBSD: pmap_table.h,v 1.4 1999/02/09 06:36:27 smurph Exp $ */
d35 2
a36 1

d48 1
a48 2


@


1.5.4.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
/*	$OpenBSD: pmap_table.h,v 1.6 2001/01/14 20:25:24 smurph Exp $ */
d35 1
a35 2
#ifndef __MACHINE_PAMP_TABLE_H__
#define __MACHINE_PAMP_TABLE_H__
d47 2
a48 1
#endif __MACHINE_PAMP_TABLE_H__
@


1.5.4.2
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
/*	$OpenBSD: pmap_table.h,v 1.5.4.1 2001/04/18 16:11:24 niklas Exp $ */
d48 1
a48 1
#endif /* __MACHINE_PAMP_TABLE_H__ */
@


1.5.4.3
log
@Merge in -current from about a week ago
@
text
@d1 1
a1 1
/*	$OpenBSD$ */
d47 1
a47 1
pmap_table_t pmap_table_build(unsigned memory_size);
@


1.5.4.4
log
@Merge of current from two weeks agointo the SMP branch
@
text
@d2 1
a2 1
/*
d6 1
a6 1
 *
d12 1
a12 1
 *
d16 1
a16 1
 *
d18 1
a18 1
 *
d23 2
a24 2
 *
 * any improvements or extensions that they make and grant Carnegie Mellon
a27 3
#ifndef __MACHINE_PMAP_TABLE_H__
#define __MACHINE_PMAP_TABLE_H__

d29 1
a29 3
 * Built-in mappings list.
 * An entry is considered invalid if pm_size = 0, and
 * end of list is indicated by pm_size 0xffffffff
d31 6
d38 5
a42 5
	vaddr_t		phys_start;	/* in bytes */
	vaddr_t		virt_start;	/* in bytes */
	vsize_t		size;		/* in bytes */
	unsigned int	prot;		/* vm_prot_read, vm_prot_write */
	unsigned int	cacheability;	/* none, writeback, normal */
d45 1
a45 3
typedef const pmap_table_entry *pmap_table_t;

pmap_table_t pmap_table_build(void);
d47 2
a48 1
#endif	/* __MACHINE_PMAP_TABLE_H__ */
@


1.4
log
@Added kernel support for user debugging.  Fixed file ID's
@
text
@d1 1
a1 1
/*	$OpenBSD: pmap_table.h,v 1.1 1998/12/15 06:02:55 smurph Exp $ */
d37 2
a38 2
  vm_offset_t	phys_start;   /* in bytes */
  vm_offset_t   virt_start;   /* in bytes */
d45 4
@


1.3
log
@Cleanup after import. This also seems to bring up the current version.
@
text
@d1 1
@


1.2
log
@This is a remove to get rid of the old mvme88k port which was incomplete
to replace it with a working version. The kernel compiles and works
at least.  The new version will be imported shortly.
@
text
@@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@initial 88k import; code by nivas and based on mach luna88k
@
text
@@
