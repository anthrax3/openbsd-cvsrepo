head	1.59;
access;
symbols
	OPENBSD_5_5:1.58.0.6
	OPENBSD_5_5_BASE:1.58
	OPENBSD_5_4:1.58.0.2
	OPENBSD_5_4_BASE:1.58
	OPENBSD_5_3:1.56.0.2
	OPENBSD_5_3_BASE:1.56
	OPENBSD_5_2:1.55.0.6
	OPENBSD_5_2_BASE:1.55
	OPENBSD_5_1_BASE:1.55
	OPENBSD_5_1:1.55.0.4
	OPENBSD_5_0:1.55.0.2
	OPENBSD_5_0_BASE:1.55
	OPENBSD_4_9:1.54.0.4
	OPENBSD_4_9_BASE:1.54
	OPENBSD_4_8:1.54.0.2
	OPENBSD_4_8_BASE:1.54
	OPENBSD_4_7:1.53.0.4
	OPENBSD_4_7_BASE:1.53
	OPENBSD_4_6:1.53.0.6
	OPENBSD_4_6_BASE:1.53
	OPENBSD_4_5:1.53.0.2
	OPENBSD_4_5_BASE:1.53
	OPENBSD_4_4:1.52.0.10
	OPENBSD_4_4_BASE:1.52
	OPENBSD_4_3:1.52.0.8
	OPENBSD_4_3_BASE:1.52
	OPENBSD_4_2:1.52.0.6
	OPENBSD_4_2_BASE:1.52
	OPENBSD_4_1:1.52.0.4
	OPENBSD_4_1_BASE:1.52
	OPENBSD_4_0:1.52.0.2
	OPENBSD_4_0_BASE:1.52
	OPENBSD_3_9:1.49.0.2
	OPENBSD_3_9_BASE:1.49
	OPENBSD_3_8:1.48.0.2
	OPENBSD_3_8_BASE:1.48
	OPENBSD_3_7:1.44.0.2
	OPENBSD_3_7_BASE:1.44
	OPENBSD_3_6:1.43.0.2
	OPENBSD_3_6_BASE:1.43
	SMP_SYNC_A:1.43
	SMP_SYNC_B:1.43
	OPENBSD_3_5:1.39.0.2
	OPENBSD_3_5_BASE:1.39
	OPENBSD_3_4:1.33.0.2
	OPENBSD_3_4_BASE:1.33
	UBC_SYNC_A:1.32
	OPENBSD_3_3:1.32.0.2
	OPENBSD_3_3_BASE:1.32
	OPENBSD_3_2:1.31.0.4
	OPENBSD_3_2_BASE:1.31
	OPENBSD_3_1:1.31.0.2
	OPENBSD_3_1_BASE:1.31
	UBC_SYNC_B:1.31
	UBC:1.28.0.2
	UBC_BASE:1.28
	OPENBSD_3_0:1.20.0.2
	OPENBSD_3_0_BASE:1.20
	OPENBSD_2_9:1.17.0.2
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.11.0.6
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.11.0.4
	OPENBSD_2_7_BASE:1.11
	SMP:1.11.0.2
	SMP_BASE:1.11
	kame_19991208:1.10
	OPENBSD_2_6:1.10.0.2
	OPENBSD_2_6_BASE:1.10
	OPENBSD_2_5:1.7.0.2
	OPENBSD_2_5_BASE:1.7
	OPENBSD_2_4:1.6.0.8
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.6.0.6
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.6.0.4
	OPENBSD_2_2_BASE:1.6
	OPENBSD_2_1:1.6.0.2
	OPENBSD_2_1_BASE:1.6
	mvme88kport:1.1.1.2
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4
	first_1:1.1.1.1;
locks; strict;
comment	@# @;


1.59
date	2014.03.18.22.36.35;	author miod;	state dead;
branches;
next	1.58;

1.58
date	2013.05.23.21.20.12;	author miod;	state Exp;
branches;
next	1.57;

1.57
date	2013.05.17.22.51.59;	author miod;	state Exp;
branches;
next	1.56;

1.56
date	2013.02.19.20.52.26;	author miod;	state Exp;
branches;
next	1.55;

1.55
date	2011.06.29.20.52.09;	author matthew;	state Exp;
branches;
next	1.54;

1.54
date	2010.07.03.03.59.17;	author krw;	state Exp;
branches;
next	1.53;

1.53
date	2009.02.14.17.41.40;	author miod;	state Exp;
branches;
next	1.52;

1.52
date	2006.05.28.11.09.56;	author miod;	state Exp;
branches;
next	1.51;

1.51
date	2006.05.02.21.43.07;	author miod;	state Exp;
branches;
next	1.50;

1.50
date	2006.04.19.22.09.38;	author miod;	state Exp;
branches;
next	1.49;

1.49
date	2005.09.06.19.21.57;	author miod;	state Exp;
branches;
next	1.48;

1.48
date	2005.08.03.02.10.44;	author dlg;	state Exp;
branches;
next	1.47;

1.47
date	2005.05.01.07.54.42;	author david;	state Exp;
branches;
next	1.46;

1.46
date	2005.04.30.00.49.36;	author deraadt;	state Exp;
branches;
next	1.45;

1.45
date	2005.04.30.00.36.05;	author deraadt;	state Exp;
branches;
next	1.44;

1.44
date	2004.09.16.09.14.03;	author mickey;	state Exp;
branches;
next	1.43;

1.43
date	2004.05.07.18.12.55;	author miod;	state Exp;
branches;
next	1.42;

1.42
date	2004.04.29.14.33.27;	author miod;	state Exp;
branches;
next	1.41;

1.41
date	2004.04.26.12.34.05;	author miod;	state Exp;
branches;
next	1.40;

1.40
date	2004.04.24.19.51.44;	author miod;	state Exp;
branches;
next	1.39;

1.39
date	2004.01.05.20.07.59;	author miod;	state Exp;
branches;
next	1.38;

1.38
date	2004.01.01.01.51.24;	author miod;	state Exp;
branches;
next	1.37;

1.37
date	2003.12.27.23.58.08;	author miod;	state Exp;
branches;
next	1.36;

1.36
date	2003.12.25.21.02.46;	author miod;	state Exp;
branches;
next	1.35;

1.35
date	2003.12.25.00.21.16;	author miod;	state Exp;
branches;
next	1.34;

1.34
date	2003.10.11.22.06.48;	author miod;	state Exp;
branches;
next	1.33;

1.33
date	2003.08.01.07.43.01;	author miod;	state Exp;
branches;
next	1.32;

1.32
date	2003.01.04.16.20.30;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2001.12.22.18.48.50;	author smurph;	state Exp;
branches;
next	1.30;

1.30
date	2001.12.22.18.22.38;	author smurph;	state Exp;
branches;
next	1.29;

1.29
date	2001.12.22.17.58.31;	author smurph;	state Exp;
branches;
next	1.28;

1.28
date	2001.12.19.07.04.41;	author smurph;	state Exp;
branches
	1.28.2.1;
next	1.27;

1.27
date	2001.12.19.04.02.25;	author smurph;	state Exp;
branches;
next	1.26;

1.26
date	2001.12.16.23.49.43;	author miod;	state Exp;
branches;
next	1.25;

1.25
date	2001.12.13.20.32.56;	author miod;	state Exp;
branches;
next	1.24;

1.24
date	2001.12.13.19.02.38;	author miod;	state Exp;
branches;
next	1.23;

1.23
date	2001.12.13.08.55.51;	author smurph;	state Exp;
branches;
next	1.22;

1.22
date	2001.11.27.05.26.34;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2001.11.08.23.53.12;	author miod;	state Exp;
branches;
next	1.20;

1.20
date	2001.08.23.22.04.32;	author miod;	state Exp;
branches;
next	1.19;

1.19
date	2001.06.27.05.46.21;	author art;	state Exp;
branches;
next	1.18;

1.18
date	2001.05.31.21.05.00;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2001.04.09.20.40.51;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	2001.03.08.03.37.18;	author itojun;	state Exp;
branches;
next	1.15;

1.15
date	2001.03.07.02.00.08;	author miod;	state Exp;
branches;
next	1.14;

1.14
date	2001.02.12.08.16.20;	author smurph;	state Exp;
branches;
next	1.13;

1.13
date	2001.02.01.03.38.11;	author smurph;	state Exp;
branches;
next	1.12;

1.12
date	2001.01.14.20.25.22;	author smurph;	state Exp;
branches;
next	1.11;

1.11
date	2000.01.09.22.00.21;	author itojun;	state Exp;
branches
	1.11.2.1;
next	1.10;

1.10
date	99.09.27.21.30.11;	author smurph;	state Exp;
branches;
next	1.9;

1.9
date	99.09.27.21.21.15;	author smurph;	state Exp;
branches;
next	1.8;

1.8
date	99.05.29.04.41.42;	author smurph;	state Exp;
branches;
next	1.7;

1.7
date	98.12.15.06.02.54;	author smurph;	state Exp;
branches;
next	1.6;

1.6
date	97.03.03.20.20.27;	author rahnds;	state Exp;
branches;
next	1.5;

1.5
date	97.03.03.19.06.58;	author rahnds;	state dead;
branches;
next	1.4;

1.4
date	96.09.20.06.45.16;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.08.31.02.09.29;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.05.15.08.56.16;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.10.54.18;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.10.54.18;	author deraadt;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	97.03.03.19.31.53;	author rahnds;	state Exp;
branches;
next	;

1.11.2.1
date	2001.04.18.16.10.47;	author niklas;	state Exp;
branches;
next	1.11.2.2;

1.11.2.2
date	2001.07.04.10.19.47;	author niklas;	state Exp;
branches;
next	1.11.2.3;

1.11.2.3
date	2001.10.31.03.01.18;	author nate;	state Exp;
branches;
next	1.11.2.4;

1.11.2.4
date	2001.11.13.21.04.14;	author niklas;	state Exp;
branches;
next	1.11.2.5;

1.11.2.5
date	2001.12.05.00.39.12;	author niklas;	state Exp;
branches;
next	1.11.2.6;

1.11.2.6
date	2002.03.06.01.08.05;	author niklas;	state Exp;
branches;
next	1.11.2.7;

1.11.2.7
date	2003.03.27.23.32.17;	author niklas;	state Exp;
branches;
next	1.11.2.8;

1.11.2.8
date	2004.02.19.10.49.06;	author niklas;	state Exp;
branches;
next	1.11.2.9;

1.11.2.9
date	2004.06.05.23.09.48;	author niklas;	state Exp;
branches;
next	;

1.28.2.1
date	2002.01.31.22.55.16;	author niklas;	state Exp;
branches;
next	1.28.2.2;

1.28.2.2
date	2003.05.19.21.45.52;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.59
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@#	$OpenBSD: GENERIC,v 1.58 2013/05/23 21:20:12 miod Exp $
#
# For further information on compiling OpenBSD kernels, see the config(8)
# man page.
#
# For further information on hardware support for this architecture, see
# the intro(4) man page.  For further information about kernel options
# for this architecture, see the options(4) man page.  For an explanation
# of each device driver in this file see the section 4 man page for the
# device.

machine		mvme88k m88k
include		"../../../conf/GENERIC"
maxusers	32			# estimated number of users

# Processor type
option		M88100
option		M88110
option		M88410

option		MVME181		# support for MVME181 (requires M88100)
option		MVME187		# support for MVME187 (requires M88100)
option		MVME188		# support for MVME188 (requires M88100)
option		MVME197		# support for MVME197 (requires M88110, M88410)

# Define this if your M88100 processor has the xxx.usr bug (mask C82N)
option		ERRATA__XXX_USR


config		bsd		swap generic

#
# devices
#

mainbus0	at root

# MVME181 devices
angelfire0	at mainbus0 addr 0xff800000
vme0		at angelfire0 offset 0x680000
dart0		at angelfire0 offset 0x640000 ipl 5
dsrtc0		at angelfire0 offset 0x10000

# MVME1x7 devices
pcctwo0		at mainbus0 addr 0xfff00000		# MVME187
bussw0		at mainbus0 addr 0xfff00000		# MVME197
sram0		at mainbus0 addr 0xffe00000		# MVME187
pcctwo0		at bussw0 offset 0x00000		# MVME197
nvram0		at pcctwo0 offset 0xc0000
vme0		at pcctwo0 offset 0x40000
ie0		at pcctwo0 offset 0x46000 ipl 3
osiop0		at pcctwo0 offset 0x47000 ipl 2
cl0		at pcctwo0 offset 0x45000 ipl 3
cl1		at pcctwo0 offset 0x45200 ipl 3		# M8120 only
#lptwo0		at pcctwo0 offset 0x45000 ipl 1
memc0		at pcctwo0 offset 0x43000
memc1		at pcctwo0 offset 0x43100

# MVME188 devices
syscon0		at mainbus0 addr 0xfff00000		# MVME188
nvram0		at syscon0 offset 0x80000
dart0		at syscon0 offset 0x82000 ipl 3
vme0		at syscon0 offset 0x85000

vmes0		at vme0
vmel0		at vme0

# MVME327
vsbic0		at vmes0 addr 0xffffa600 ipl 2
vsbic1		at vmes0 addr 0xffffa700 ipl 2
# MVME328, MVME328XT
vs0		at vmes0 addr 0xffff9000 ipl 2
vs1		at vmes0 addr 0xffff9800 ipl 2
vs2		at vmes0 addr 0xffff4800 ipl 2
vs3		at vmes0 addr 0xffff5800 ipl 2
vs4		at vmes0 addr 0xffff7000 ipl 2
vs5		at vmes0 addr 0xffff7800 ipl 2
# MVME332XT
vx0		at vmes0 addr 0xff780000 ipl 3
vx1		at vmes0 addr 0xff790000 ipl 3
vx2		at vmes0 addr 0xff7a0000 ipl 3
vx3		at vmes0 addr 0xff7b0000 ipl 3
# MVME376
le0		at vmes0 addr 0xffff1200 ipl 3
le1		at vmes0 addr 0xffff1400 ipl 3
le2		at vmes0 addr 0xffff1600 ipl 3
le3		at vmes0 addr 0xffff5400 ipl 3
le4		at vmes0 addr 0xffff5600 ipl 3
le5		at vmes0 addr 0xffffa400 ipl 3

scsibus*	at scsi?
sd*		at scsibus?
st*		at scsibus?
cd*		at scsibus?
ch*		at scsibus?
safte*		at scsibus?
ses*		at scsibus?
uk*		at scsibus?
@


1.58
log
@TOD clock support for AngelFire boards
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.57 2013/05/17 22:51:59 miod Exp $
@


1.57
log
@Preliminary support for MVME180 and MVME181 boards. On-board serial ports
and VME controller are supported; tod chip isn't supported yet (coming soon).
MVME236 memory boards are not supported and won't likely be (unless I get my
hands on one).

MVME181-1 boots multiuser (slowly) with MVME328 SCSI and MVME376 Ethernet
despite only having 8MB of memory onboard.

MVME180 untested; might need tweaking to get MVME SCSI and Ethernet boards
supported.

Many thanks to Matti Nummi for lending me an MVME181 board.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.56 2013/02/19 20:52:26 miod Exp $
d42 1
@


1.56
log
@Introduce `option M88410', to be added to 88110 system designs making use of the
#$%&#@@! MC88410 chip. This will allow design-agonstic m88k-specific code to be
able to tell pure 88110 kernels apart from possible 88110+88410 ones.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.55 2011/06/29 20:52:09 matthew Exp $
d21 1
d26 1
a26 1
# Define this if your processor has the xxx.usr bug (mask C82N)
d36 6
a41 1
mainbus0 at root
d44 13
a56 13
pcctwo0 at mainbus0 addr 0xfff00000		# MVME187
bussw0	at mainbus0 addr 0xfff00000		# MVME197
sram0	at mainbus0 addr 0xffe00000		# MVME187
pcctwo0 at bussw0 offset 0x00000		# MVME197
nvram0	at pcctwo0 offset 0xc0000
vme0	at pcctwo0 offset 0x40000
ie0	at pcctwo0 offset 0x46000 ipl 3
osiop0	at pcctwo0 offset 0x47000 ipl 2
cl0	at pcctwo0 offset 0x45000 ipl 3
cl1	at pcctwo0 offset 0x45200 ipl 3		# M8120 only
#lptwo0	at pcctwo0 offset 0x45000 ipl 1
memc0	at pcctwo0 offset 0x43000
memc1	at pcctwo0 offset 0x43100
d59 4
a62 4
syscon0 at mainbus0 addr 0xfff00000		# MVME188
nvram0	at syscon0 offset 0x80000
dart0	at syscon0 offset 0x82000 ipl 3
vme0	at syscon0 offset 0x85000
d64 2
a65 2
vmes0	at vme0
vmel0	at vme0
d68 2
a69 2
vsbic0	at vmes0 addr 0xffffa600 ipl 2
vsbic1	at vmes0 addr 0xffffa700 ipl 2
d71 6
a76 6
vs0	at vmes0 addr 0xffff9000 ipl 2
vs1	at vmes0 addr 0xffff9800 ipl 2
vs2	at vmes0 addr 0xffff4800 ipl 2
vs3	at vmes0 addr 0xffff5800 ipl 2
vs4	at vmes0 addr 0xffff7000 ipl 2
vs5	at vmes0 addr 0xffff7800 ipl 2
d78 4
a81 4
vx0	at vmes0 addr 0xff780000 ipl 3
vx1	at vmes0 addr 0xff790000 ipl 3
vx2	at vmes0 addr 0xff7a0000 ipl 3
vx3	at vmes0 addr 0xff7b0000 ipl 3
d83 15
a97 13
le0	at vmes0 addr 0xffff1200 ipl 3
le1	at vmes0 addr 0xffff1400 ipl 3
le2	at vmes0 addr 0xffff1600 ipl 3


scsibus* at scsi?
sd*	at scsibus?
st*	at scsibus?
cd*	at scsibus?
ch*	at scsibus?
safte*	at scsibus?
ses*	at scsibus?
uk*	at scsibus?
@


1.55
log
@Replace all instances of "scsibus* at hba?" with a single "scsibus* at
scsi?" rule, similar to how ethernet PHY drivers attach at mii.

Discussed on icb.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.54 2010/07/03 03:59:17 krw Exp $
d19 1
d21 3
a23 3
option		MVME187			# support for 187 (requires M88100)
option		MVME188			# support for 188 (requires M88100)
option		MVME197			# support for 197 (requires M88110)
@


1.54
log
@No more ss(4) or usscanner(4). Unused, unloved and unmaintained.
General huzzahs.

"go for it" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.53 2009/02/14 17:41:40 miod Exp $
a79 3
scsibus* at osiop?
scsibus* at vs?
scsibus* at vsbic?
d81 1
@


1.53
log
@Add vsbic(4), a drive for the MVME327A SCSI and floppy controller, only for
the SCSI part so far.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.52 2006/05/28 11:09:56 miod Exp $
a87 1
ss*	at scsibus?
@


1.52
log
@Configure network devices at ipl 3, not ipl 1.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.51 2006/05/02 21:43:07 miod Exp $
d60 11
d75 1
a78 6
vs0	at vmes0 addr 0xffff9000 ipl 2
vs1	at vmes0 addr 0xffff9800 ipl 2
vs2	at vmes0 addr 0xffff4800 ipl 2
vs3	at vmes0 addr 0xffff5800 ipl 2
vs4	at vmes0 addr 0xffff7000 ipl 2
vs5	at vmes0 addr 0xffff7800 ipl 2
d80 1
d82 1
a82 1
scsibus* at osiop?
@


1.51
log
@Wave goodbye to bugtty on mvme88k as well.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.50 2006/04/19 22:09:38 miod Exp $
d43 1
a43 1
ie0	at pcctwo0 offset 0x46000 ipl 1
d64 3
a66 3
le0	at vmes0 addr 0xffff1200 ipl 1
le1	at vmes0 addr 0xffff1400 ipl 1
le2	at vmes0 addr 0xffff1600 ipl 1
@


1.50
log
@Get rid of the clock device attachment - since the clock is not something
we can live without, move it into the board-dependent code. This even makes
the code slightly smaller.

clock.c is moved from dev/ to mvme88k/ and only keeps common variables and
delay().
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.49 2005/09/06 19:21:57 miod Exp $
a34 2

bugtty0 at mainbus0
@


1.49
log
@Remove misleading NCPUS (hardcoded) option. From the SMP tree.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.48 2005/08/03 02:10:44 dlg Exp $
a42 1
clock0	at pcctwo0 ipl 5
a54 1
clock0	at syscon0 ipl 5
@


1.48
log
@enable safte and ses on all archs that appear to have real scsi busses

ok deraadt@@ beck@@ marco@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.47 2005/05/01 07:54:42 david Exp $
a22 1
option		"NCPUS=1"		# number of CPUs supported (max 4)
@


1.47
log
@spacing; ok miod@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.46 2005/04/30 00:49:36 deraadt Exp $
d87 2
@


1.46
log
@start the job of making things look more alike
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.45 2005/04/30 00:36:05 deraadt Exp $
d41 1
a41 1
bussw0  at mainbus0 addr 0xfff00000		# MVME197
@


1.45
log
@nice docs at top of GENERIC
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.44 2004/09/16 09:14:03 mickey Exp $
d13 2
a14 2

include "../../../conf/GENERIC"
d20 4
a23 5
option		MVME187		# support for 187 (requires M88100)
option		MVME188		# support for 188 (requires M88100)
option		MVME197		# support for 197 (requires M88110)

option		"NCPUS=1"	# number of CPUs supported (max 4)
a27 1
maxusers	64
@


1.44
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 10
a10 1
#	$OpenBSD: GENERIC,v 1.43 2004/05/07 18:12:55 miod Exp $
@


1.43
log
@Replace the old ssh(4) NCR53C710 scsi driver with a pcctwo attachment for
the MI osiop(4) driver.

This improves performance very slighly and should also improve reliability.

Tested on 25MHz (50MHz osiop) and 33MHz (66MHz osiop) MVME187 boards.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.42 2004/04/29 14:33:27 miod Exp $
d75 6
a80 6
sd*	at scsibus? target ? lun ?
st*	at scsibus? target ? lun ?
cd*	at scsibus? target ? lun ?
ch*	at scsibus? target ? lun ?
ss*	at scsibus? target ? lun ?
uk*	at scsibus? target ? lun ?
@


1.42
log
@Continue factorizing m88k common code, this time files in <arch>/<arch>
which were copied verbatim from mvme88k to luna88k.

This requires backing out syntactic sugar in mvme88k kernel configuration
files which would deduct the required processor types from the board models,
as the common code only depends upon the M88100 and M88110 defines.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.41 2004/04/26 12:34:05 miod Exp $
d41 1
a41 1
ssh0	at pcctwo0 offset 0x47000 ipl 2
d73 1
a73 1
scsibus* at ssh?
@


1.41
log
@Start factorizing luna88k and mvme88k common parts.
For now, include files only.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.40 2004/04/24 19:51:44 miod Exp $
d7 8
a14 3
option		MVME187		# support for 187
option		MVME188		# support for 188
option		MVME197		# support for 197
a15 2
option		BUGMAP		# use the Bug ROM VME mappings
#option		DEBUG		# print debugging statements
@


1.40
log
@Preliminary switch to an mvme88k bus_space world. Not all drivers have been
converted yet, and they rely upon some linear mappings provided by bus_space.

In order to not impact performance, almost all the bus_space accesses go
through macros and inline functions. This currently restricts us to D16 and
D32 access modes, which are selected at compilation time. Since there are no
plans to support D8 vme devices in the future, this is acceptable for now.

This makes the "len" locator for vme devices go away, and allows to simplify
some code which was using the pcctwo device, and will now directly access
hardware which is known to exist, rather than wait until the device is
attached.

While there, try to enforce more interrupt vector number checks, since these
changes pointed out that dart(4) had been working correctly so far by sheer
luck only.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.39 2004/01/05 20:07:59 miod Exp $
d3 1
a3 1
machine		mvme88k
@


1.39
log
@Support for the second set of serial ports on the M8120 (untested)
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.38 2004/01/01 01:51:24 miod Exp $
d33 1
a33 1
pcctwo0 at bussw0 offset 0x42000		# MVME197
d55 13
a67 13
vx0	at vmes0 addr 0xff780000 ipl 3 len 0x10000
vx1	at vmes0 addr 0xff790000 ipl 3 len 0x10000
vx2	at vmes0 addr 0xff7a0000 ipl 3 len 0x10000
vx3	at vmes0 addr 0xff7b0000 ipl 3 len 0x10000
le0	at vmes0 addr 0xffff1200 ipl 1 len 0x100
le1	at vmes0 addr 0xffff1400 ipl 1 len 0x100
le2	at vmes0 addr 0xffff1600 ipl 1 len 0x100
vs0	at vmes0 addr 0xffff9000 ipl 2 len 0x800
vs1	at vmes0 addr 0xffff9800 ipl 2 len 0x800
vs2	at vmes0 addr 0xffff4800 ipl 2 len 0x800
vs3	at vmes0 addr 0xffff5800 ipl 2 len 0x800
vs4	at vmes0 addr 0xffff7000 ipl 2 len 0x800
vs5	at vmes0 addr 0xffff7800 ipl 2 len 0x800
@


1.38
log
@Add sram on mvme187.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.37 2003/12/27 23:58:08 miod Exp $
d40 1
@


1.37
log
@Replace the MVME376 driver from a homemade and dusty if_ve driver to
a ``regular'' if_le driver, sharing the common am7990 code.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.36 2003/12/25 21:02:46 miod Exp $
d32 1
@


1.36
log
@Enable vx(4) again - while it still awaits more tests, it can attach without
affecting a multiuser boot.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.35 2003/12/25 00:21:16 miod Exp $
d57 3
a59 3
ve0	at vmes0 addr 0xffff1200 ipl 1 len 0x100
ve1	at vmes0 addr 0xffff1400 ipl 1 len 0x100
ve2	at vmes0 addr 0xffff1600 ipl 1 len 0x100
@


1.35
log
@Disable vx* for now.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.34 2003/10/11 22:06:48 miod Exp $
d53 4
a56 4
vx0	at vmes0 disable addr 0xff780000 ipl 3 len 0x10000
vx1	at vmes0 disable addr 0xff790000 ipl 3 len 0x10000
vx2	at vmes0 disable addr 0xff7a0000 ipl 3 len 0x10000
vx3	at vmes0 disable addr 0xff7b0000 ipl 3 len 0x10000
@


1.34
log
@Merge sclock and clock pseudo-devices.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.33 2003/08/01 07:43:01 miod Exp $
d53 4
a56 4
vx0	at vmes0 addr 0xff780000 ipl 3 len 0x10000
vx1	at vmes0 addr 0xff790000 ipl 3 len 0x10000
vx2	at vmes0 addr 0xff7a0000 ipl 3 len 0x10000
vx3	at vmes0 addr 0xff7b0000 ipl 3 len 0x10000
@


1.33
log
@Fix pcctwo locator typos
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.32 2003/01/04 16:20:30 miod Exp $
d3 1
a3 1
machine		mvme88k 
a12 1
#option		EH_DEBUG	# debugging code for exception handlers
d15 1
a15 1
option		ERRATA__XXX_USR	
a26 1
# ------------------------------ mainbus devices ------------------------
a27 3
pcctwo0 at mainbus0 addr 0xfff00000
syscon0 at mainbus0 addr 0xfff00000
bussw0  at mainbus0 addr 0xfff00000
d29 4
a32 4
# ------------------------------ bussw devices --------------------------
pcctwo0 at bussw0 offset 0x42000

# ------------------------------ pcctwo devices -------------------------
a33 1
sclock0	at pcctwo0 ipl 5
d43 2
a44 1
# ------------------------------ syscon0 devices ------------------------
a45 1
sclock0	at syscon0 ipl 5
a49 1
# ------------------------------ vme0 devices --------------------------
a52 1
# ------------------------------ vmes0 devices -------------------------
a66 1
# ------------------------------- vs0 devices --------------------------
a67 2

# ------------------------------ ssh0 devices --------------------------
a69 1
# ------------------------------ scsibus0 devices ----------------------
d73 3
@


1.32
log
@Fix a few pcctwo attachment addresses
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.31 2001/12/22 18:48:50 smurph Exp $
d45 1
a45 1
#lptwo0	at pcctwo0 addr 0x45000 ipl 1
@


1.31
log
@vme devices 'auto vector'.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.30 2001/12/22 18:22:38 smurph Exp $
d45 1
a45 1
#lptwo0	at pcctwo0 addr 0xfff45000 ipl 1 size
@


1.30
log
@Put miod's Makefile hack to define M88100 and M88110 back in.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.29 2001/12/22 17:58:31 smurph Exp $
d61 13
a73 13
vx0	at vmes0 addr 0xff780000 ipl 3 vec 0x70 len 0x10000
vx1	at vmes0 addr 0xff790000 ipl 3 vec 0x71	len 0x10000
vx2	at vmes0 addr 0xff7a0000 ipl 3 vec 0x72 len 0x10000
vx3	at vmes0 addr 0xff7b0000 ipl 3 vec 0x73 len 0x10000
ve0	at vmes0 addr 0xffff1200 ipl 1 vec 0x74 len 0x100
ve1	at vmes0 addr 0xffff1400 ipl 1 vec 0x75 len 0x100
ve2	at vmes0 addr 0xffff1600 ipl 1 vec 0x76 len 0x100
vs0	at vmes0 addr 0xffff9000 ipl 2 vec 0x80 len 0x800
vs1	at vmes0 addr 0xffff9800 ipl 2 vec 0x82 len 0x800
vs2	at vmes0 addr 0xffff4800 ipl 2 vec 0x84 len 0x800
vs3	at vmes0 addr 0xffff5800 ipl 2 vec 0x86 len 0x800
vs4	at vmes0 addr 0xffff7000 ipl 2 vec 0x88 len 0x800
vs5	at vmes0 addr 0xffff7800 ipl 2 vec 0x8a len 0x800
@


1.29
log
@GENERIC configuration now includes MVME197 and M88110 options.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.28 2001/12/19 07:04:41 smurph Exp $
d7 3
a9 5
option		M88100		# support for mc88110 processor
option		M88110		# support for mc88110 processor
option		MVME187		# support for 187 (M88100 required)
option		MVME188		# support for 188 (M88100 required)
option		MVME197		# support for 197 (M88110 required)
@


1.28
log
@Introduce brdtyp and change what cputyp means.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.27 2001/12/19 04:02:25 smurph Exp $
d8 1
a8 1
#option		M88110		# support for mc88110 processor
d11 1
a11 1
#option		MVME197		# support for 197 (M88110 required)
@


1.28.2.1
log
@Merge in -current, builds on i386, otherwise untested
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.31 2001/12/22 18:48:50 smurph Exp $
d7 5
a11 3
option		MVME187		# support for 187
option		MVME188		# support for 188
option		MVME197		# support for 197
d63 13
a75 13
vx0	at vmes0 addr 0xff780000 ipl 3 len 0x10000
vx1	at vmes0 addr 0xff790000 ipl 3 len 0x10000
vx2	at vmes0 addr 0xff7a0000 ipl 3 len 0x10000
vx3	at vmes0 addr 0xff7b0000 ipl 3 len 0x10000
ve0	at vmes0 addr 0xffff1200 ipl 1 len 0x100
ve1	at vmes0 addr 0xffff1400 ipl 1 len 0x100
ve2	at vmes0 addr 0xffff1600 ipl 1 len 0x100
vs0	at vmes0 addr 0xffff9000 ipl 2 len 0x800
vs1	at vmes0 addr 0xffff9800 ipl 2 len 0x800
vs2	at vmes0 addr 0xffff4800 ipl 2 len 0x800
vs3	at vmes0 addr 0xffff5800 ipl 2 len 0x800
vs4	at vmes0 addr 0xffff7000 ipl 2 len 0x800
vs5	at vmes0 addr 0xffff7800 ipl 2 len 0x800
@


1.28.2.2
log
@sync
@
text
@d1 1
a1 1
#	$OpenBSD$
d45 1
a45 1
#lptwo0	at pcctwo0 addr 0x45000 ipl 1
@


1.27
log
@bus switch name shortened.  Added register definitons and functionality.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.26 2001/12/16 23:49:43 miod Exp $
d7 5
a11 3
option		MVME187		# support for 187
option		MVME188		# support for 188
#option		MVME197		# support for 197
d36 1
a36 1
# ----------------------------- busswitch devices -----------------------
@


1.26
log
@Revert the mvme88k to 20011212. Recent changes had not been merged correctly,
and I am fed up with dissecting diffs to put back code that disappeared.
This will likely be fixed shortly.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.22 2001/11/27 05:26:34 miod Exp $
d32 1
a32 1
busswitch0 at mainbus0 addr 0xfff00000
d35 1
a35 1
pcctwo0 at busswitch0 offset 0x42000
@


1.25
log
@Add magic to the kernel Makefile to remove the need to explicitely put
the processor type in the configuration files, if you specify a board type.
Also, some syntaxic sugar for the MVME187 case as well.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.24 2001/12/13 19:02:38 miod Exp $
a11 1

a15 1
# In doubt, leave it enabled.
d32 1
a32 1
bussw0	at mainbus0 addr 0xfff00000
d34 2
a35 2
# ------------------------------ bussw devices --------------------------
pcctwo0 at bussw0 offset 0x42000
@


1.24
log
@Make this run successfully through config(8), for starters...
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.23 2001/12/13 08:55:51 smurph Exp $
d7 3
a9 5
option		M88100		# support for mc88100 1st generation RISC
option		M88110		# support for mc88120 2ond generation RISC
option		MVME187		# support for 187 (requires M88100)
option		MVME188		# support for 188 (requires M88100)
#option		MVME197		# support for 197 (requires M88110)
d12 1
d17 1
@


1.23
log
@Support for MVME197 completed.  Fix SPL defs.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.22 2001/11/27 05:26:34 miod Exp $
d34 1
a34 1
busswitch0 at mainbus0 addr 0xfff00000
d36 2
a37 2
# ----------------------------- busswitch devices -----------------------
pcctwo0 at busswitch0 offset 0x42000
@


1.22
log
@Move the declaration of EH_DEBUG and ERRATA__XXX_USR to the kernel
configuration files.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.21 2001/11/08 23:53:12 miod Exp $
d7 5
a11 3
option		MVME187		# support for 187
option		MVME188		# support for 188
#option		MVME197		# support for 197
@


1.21
log
@There is no point keeping ramdisk support in non-RAMDISK kernels.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.20 2001/08/23 22:04:32 miod Exp $
d13 4
@


1.20
log
@option M88000 is not necessary for mvme88k.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.19 2001/06/27 05:46:21 art Exp $
a80 3

# ------------------------------ pseudo devices ------------------------
pseudo-device	rd 2
@


1.19
log
@UVM is no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.18 2001/05/31 21:05:00 miod Exp $
a6 1
option		"M88000"	# support for 88K
@


1.18
log
@Typos.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.17 2001/04/09 20:40:51 deraadt Exp $
a10 1
option		UVM		# use the UVM virtual memory system
@


1.17
log
@FFS_SOFTUPDATES in sys/conf/GENERIC
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.16 2001/03/08 03:37:18 itojun Exp $
d32 1
a32 1
# ----------------------------- busswicth devices -----------------------
d73 1
a73 1
# ------------------------------ svme0 devices -------------------------
a84 1
#pseudo-device	raid		4
@


1.16
log
@move gif* and faith* into sys/conf/GENERIC.  deraadt and angelos ok
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.15 2001/03/07 02:00:08 miod Exp $
a11 1
option		FFS_SOFTUPDATES	# Soft Updates
@


1.15
log
@Replace siop devices with ssh.
Include ../../../conf/GENERIC in non-GENERIC configurations. Remove XT,
which is no more different from GENERIC then.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.14 2001/02/12 08:16:20 smurph Exp $
a87 3
# for IPv6
pseudo-device	gif		4
#pseudo-device	faith		1
@


1.14
log
@correct buginstat(), statclock now working for '188, systat vmstat now works,
serial driver for '188 working better.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.13 2001/02/01 03:38:11 smurph Exp $
d42 1
a42 1
siop0	at pcctwo0 offset 0x47000 ipl 2
d77 2
a78 2
# ------------------------------ siop0 devices -------------------------
scsibus* at siop?
@


1.13
log
@Major changes to get MVME188 working.  More header and code cleanups.  The
kernel is tested on MVME188A/2P256 and MVME188A/1P64.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.12 2001/01/14 20:25:22 smurph Exp $
d10 1
a10 1
option		MVME197		# support for 197
@


1.12
log
@Complete move to UVM virtual memory system.  More header fixes.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.11 2000/01/09 22:00:21 itojun Exp $
d15 1
@


1.11
log
@add INET6 into conf/GENERIC.
add pseudo-devices for IPv6 into arch/*/conf/GENERIC.
nuke arch/*/conf/GENERIC.v6.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.10 1999/09/27 21:30:11 smurph Exp $
d7 8
a14 4
options		"M88000"	# support for 88K
options		MVME187		# support for 187
options		MVME188		# support for 188
options		MVME197		# support for 197
d85 1
@


1.11.2.1
log
@Update the SMP branch to -current, this breaks the SMP branch though.
But it will be fixed soonish.  Note, nothing new has happened, this is just
a merge of the trunk into this branch.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.17 2001/04/09 20:40:51 deraadt Exp $
d7 4
a10 8
option		"M88000"	# support for 88K
option		MVME187		# support for 187
option		MVME188		# support for 188
#option		MVME197		# support for 197
option		UVM		# use the UVM virtual memory system
option		"NCPUS=1"	# number of CPUs supported (max 4)
option		BUGMAP		# use the Bug ROM VME mappings
#option		DEBUG		# print debugging statements
d37 1
a37 1
ssh0	at pcctwo0 offset 0x47000 ipl 2
d72 2
a73 2
# ------------------------------ ssh0 devices --------------------------
scsibus* at ssh?
a80 1
#pseudo-device	raid		4
d82 3
@


1.11.2.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.11.2.1 2001/04/18 16:10:47 niklas Exp $
d11 1
d32 1
a32 1
# ----------------------------- busswitch devices -----------------------
d73 1
a73 1
# ------------------------------- vs0 devices --------------------------
d85 1
@


1.11.2.3
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.11.2.2 2001/07/04 10:19:47 niklas Exp $
d7 1
@


1.11.2.4
log
@Merge in -current
@
text
@d1 1
a1 1
#	$OpenBSD$
d81 3
@


1.11.2.5
log
@Merge in -current
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.11.2.4 2001/11/13 21:04:14 niklas Exp $
a12 4
#option		EH_DEBUG	# debugging code for exception handlers

# Define this if your processor has the xxx.usr bug (mask C82N)
option		ERRATA__XXX_USR	
@


1.11.2.6
log
@Merge in trunk
@
text
@d1 1
a1 1
#	$OpenBSD$
d9 1
a9 1
option		MVME197		# support for 197
d32 1
a32 1
bussw0  at mainbus0 addr 0xfff00000
d34 2
a35 2
# ------------------------------ bussw devices --------------------------
pcctwo0 at bussw0 offset 0x42000
d61 13
a73 13
vx0	at vmes0 addr 0xff780000 ipl 3 len 0x10000
vx1	at vmes0 addr 0xff790000 ipl 3 len 0x10000
vx2	at vmes0 addr 0xff7a0000 ipl 3 len 0x10000
vx3	at vmes0 addr 0xff7b0000 ipl 3 len 0x10000
ve0	at vmes0 addr 0xffff1200 ipl 1 len 0x100
ve1	at vmes0 addr 0xffff1400 ipl 1 len 0x100
ve2	at vmes0 addr 0xffff1600 ipl 1 len 0x100
vs0	at vmes0 addr 0xffff9000 ipl 2 len 0x800
vs1	at vmes0 addr 0xffff9800 ipl 2 len 0x800
vs2	at vmes0 addr 0xffff4800 ipl 2 len 0x800
vs3	at vmes0 addr 0xffff5800 ipl 2 len 0x800
vs4	at vmes0 addr 0xffff7000 ipl 2 len 0x800
vs5	at vmes0 addr 0xffff7800 ipl 2 len 0x800
@


1.11.2.7
log
@Sync the SMP branch with 3.3
@
text
@d45 1
a45 1
#lptwo0	at pcctwo0 addr 0x45000 ipl 1
@


1.11.2.8
log
@Merge of current from two weeks agointo the SMP branch
@
text
@d3 1
a3 1
machine		mvme88k
d13 1
d16 1
a16 1
option		ERRATA__XXX_USR
d28 1
d30 3
d34 4
a37 5
# MVME1x7 devices
pcctwo0 at mainbus0 addr 0xfff00000		# MVME187
bussw0  at mainbus0 addr 0xfff00000		# MVME197
sram0	at mainbus0 addr 0xffe00000		# MVME187
pcctwo0 at bussw0 offset 0x42000		# MVME197
d39 1
d45 1
a45 2
cl1	at pcctwo0 offset 0x45200 ipl 3		# M8120 only
#lptwo0	at pcctwo0 offset 0x45000 ipl 1
d49 1
a49 2
# MVME188 devices
syscon0 at mainbus0 addr 0xfff00000		# MVME188
d51 1
d56 1
d60 1
d65 3
a67 3
le0	at vmes0 addr 0xffff1200 ipl 1 len 0x100
le1	at vmes0 addr 0xffff1400 ipl 1 len 0x100
le2	at vmes0 addr 0xffff1600 ipl 1 len 0x100
d75 1
d77 2
d81 1
a84 3
ch*	at scsibus? target ? lun ?
ss*	at scsibus? target ? lun ?
uk*	at scsibus? target ? lun ?
@


1.11.2.9
log
@Merge with the trunk
@
text
@d3 1
a3 1
machine		mvme88k m88k
d7 3
a9 8
# Processor type
option		M88100
option		M88110

option		MVME187		# support for 187 (requires M88100)
option		MVME188		# support for 188 (requires M88100)
option		MVME197		# support for 197 (requires M88110)

d11 2
d33 1
a33 1
pcctwo0 at bussw0 offset 0x00000		# MVME197
d38 1
a38 1
osiop0	at pcctwo0 offset 0x47000 ipl 2
d55 13
a67 13
vx0	at vmes0 addr 0xff780000 ipl 3
vx1	at vmes0 addr 0xff790000 ipl 3
vx2	at vmes0 addr 0xff7a0000 ipl 3
vx3	at vmes0 addr 0xff7b0000 ipl 3
le0	at vmes0 addr 0xffff1200 ipl 1
le1	at vmes0 addr 0xffff1400 ipl 1
le2	at vmes0 addr 0xffff1600 ipl 1
vs0	at vmes0 addr 0xffff9000 ipl 2
vs1	at vmes0 addr 0xffff9800 ipl 2
vs2	at vmes0 addr 0xffff4800 ipl 2
vs3	at vmes0 addr 0xffff5800 ipl 2
vs4	at vmes0 addr 0xffff7000 ipl 2
vs5	at vmes0 addr 0xffff7800 ipl 2
d70 1
a70 1
scsibus* at osiop?
@


1.10
log
@oops!
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.9 1999/09/27 21:21:15 smurph Exp $
d82 3
@


1.9
log
@Some cleaning...
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.8 1999/05/29 04:41:42 smurph Exp $
d36 1
a36 1
ie0	at pcctwo0 offset 0x46000 ipl 3
d59 3
a61 3
ve0	at vmes0 addr 0xffff1200 ipl 3 vec 0x74 len 0x100
ve1	at vmes0 addr 0xffff1400 ipl 3 vec 0x75 len 0x100
ve2	at vmes0 addr 0xffff1600 ipl 3 vec 0x76 len 0x100
@


1.8
log
@Added vme bus device drivers. MVME328, MVME376, MVME332
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.7 1998/12/15 06:02:54 smurph Exp $
d9 2
d19 1
d21 1
d23 1
a23 2
#bugtty0 at mainbus0
#sram0	at mainbus0 addr 0xffe00000
d25 6
d33 1
d42 8
d53 19
d74 1
a75 2
#sd0	at scsibus? target 0 lun 0
#sd1	at scsibus? target 2 lun 0
d79 1
@


1.7
log
@Commint for the first real mvme88k OpendBSD
@
text
@d1 1
a1 1
#	$OpenBSD: MINIROOT,v 1.2 1997/03/31 00:23:51 downsj Exp $
d20 1
a20 1
sram0	at mainbus0 addr 0xffe00000
@


1.6
log
@Cleanup after import. This also seems to bring up the current version.
@
text
@d1 1
a1 3
#
# This configuration file contains all possible options
#
d3 1
a3 1
machine m88k
d5 1
a5 1
options		TIMEZONE=300, DST=1
a6 3
#
# processors this kernel should support
#
d10 1
a10 21
options		SWAPPAGER	# Pager for processes (Required)
options		VNODEPAGER	# Pager for vnodes (Required)
options		DEVPAGER	# Pager for devices (Required)

#
# Networking options
#

#
# File system related options
#
#options		QUOTA		# Disk quotas for local disks
#options		NFSSERVER	# Network File System server side code
#options		NFSCLIENT	# Network File System client side code

#
# File systems
#
options		FFS		# Berkeley fast file system
options		MFS		# Memory based filesystem
options		FIFO		# FIFO operations on vnodes (Recommended)
d12 1
a12 25
#
# Compatability options for various existing systems
#
#options		"COMPAT_43"	# 4.3 BSD compatible system calls
#options		"TCP_COMPAT_42"	# Use 4.2 BSD style TCP
#options		"COMPAT_NOMID"	# allow nonvalid machine id executables

#
# Support for System V IPC facilities.
#

#
# Support for various kernel options
#
options		GENERIC		# Mini-root boot support
options		DIAGNOSTIC	# Add additional error checking code
options		"NKMEMCLUSTERS=256"	# Size of kernel malloc area

#
# Misc. debuging options
#
options		PANICWAIT	# Require keystroke to dump/reboot
options		DEBUG		# Add debugging statements
options		DDB		# Kernel debugger
options		SYSCALL_DEBUG	# debug all syscalls.
d18 11
a28 10
# mainbus devices
#sram0	at mainbus0 addr 0xffe00000
vme0	at mainbus0 addr 0xfff40000
pcctwo0 at mainbus0 addr 0xfff42000
# pcctwo devices
clock0	at pcctwo0 addr 0xfff42000 ipl 5
nvram0	at pcctwo0 addr 0xfffc0000 size 0x10000
#ie0	at pcctwo0 addr 0xfff46000 ipl 1 size
#siop0	at pcctwo0 addr 0xfff47000 ipl 2 #size
cl0	at pcctwo0 addr 0xfff45000 ipl 3 size 0x512
d30 3
a32 8
#mcecc0	at pcctwo0 addr 0xfff43000
#mcecc1	at pcctwo0 addr 0xfff43100
#memc0	at pcctwo0 addr 0xfff43000
#memc1	at pcctwo0 addr 0xfff43100

#bugtty0 at mainbus0

#vme0 devices
d35 10
a44 13

#scsibus* at siop?
#
#sd*	at scsibus? target ? lun ?
#st*	at scsibus? target ? lun ?
#cd*	at scsibus? target ? lun ?

#pseudo-device	sl			# slip
#pseudo-device	ppp			# ppp
pseudo-device	pty 16			# pseudo terminals
pseudo-device	loop			# network loopback

config	netbsd swap on generic
@


1.5
log
@This is a remove to get rid of the old mvme88k port which was incomplete
to replace it with a working version. The kernel compiles and works
at least.  The new version will be imported shortly.
@
text
@a1 4
# GENERIC AMIGA
#
#	$Id: GENERIC,v 1.4 1996/09/20 06:45:16 deraadt Exp $
#
d5 1
a5 1
include "std.mvme1x7"
a6 1
maxusers	8
d13 1
d16 1
a21 9
options		INET		# IP networking support (Required)
#options	ISO		# ISO Networking support
#options	TPIP		# ARGO TP networking support
#options	CCITT		# CCITT X.25
#options	NS		# Xerox XNS
#options	EON		# ISO CLNL over IP
#options	GATEWAY		# Packet forwarding
#options	DIRECTED_BROADCAST	# Broadcast across subnets
#options	NSIP		# XNS over IP
d26 3
a28 3
options		QUOTA		# Disk quotas for local disks
options		NFSSERVER	# Network File System server side code
options		NFSCLIENT	# Network File System client side code
a34 4
options		PROCFS		# Process filesystem
options		KERNFS		# Kernel parameter filesystem (Recommended)
options		FDESC		# /dev/fd filesystem
options		NULLFS		# Loopback filesystem
a35 4
options		"CD9660"	# ISO 9660 file system, with Rock Ridge
#options	PORTAL		# Portal filesystem
#options	MSDOSFS		# MS-DOS filesystem

d40 1
a40 2
options		"COMPAT_09"	# compatability with older NetBSD release
options		"COMPAT_43"	# 4.3 BSD compatible system calls
d42 1
a42 2
options		"COMPAT_NOMID"	# allow nonvalid machine id executables
#options	COMPAT_HPUX	# HP300 compatability
a46 3
#options		SYSVSHM		# System V-like shared memory
#options		SYSVMSG		# System V-like messages
#options		SYSVSEM		# System V-like semaphores
a51 2
#options		LKM		# Loadable kernel modules
options		KTRACE		# Add kernel tracing system call
d59 4
a62 6
options	DEBUG		# Add debugging statements
#options		DDB		# Kernel debugger
#options	SYSCALL_DEBUG	# debug all syscalls.
#options	SCSIDEBUG	# Add SCSI debugging statements
#options	KGDB		# Kernel debugger (KGDB) support
#options	PANICBUTTON	# Forced crash via keypress (???)
d66 28
a93 18
m187le0		at mainbus0		# Ethernet
m187tty0	at mainbus		# tty

# scsi stuff, all possible
m187scsi0	at mainbus0
bugscsi0	at mainbus0

scsibus0	at m187scsi0
scsibus1	at bugscsi0

# each hard drive from low target to high
# will configure to the next available sd unit number
sd*	at scsibus? target ? lun ?	# scsi disks
st*	at scsibus? target ? lun ?	# scsi tapes
cd*	at scsibus? target ? lun ?	# scsi cd's
ch*	at scsibus? target ? lun ?	# scsi cd changers
ss*	at scsibus? target ? lun ?	# scsi scanners
uk*	at scsibus? target ? lun ?	# unknown scsi
d95 2
a96 2
pseudo-device	sl			# slip
pseudo-device	ppp			# ppp
@


1.4
log
@do not fool people into thinking VNODEPAGER is an option; netbsd pr#2757, erik@@aarhus1.uni-c.dk
@
text
@d4 1
a4 1
#	$Id: GENERIC,v 1.3 1996/08/31 02:09:29 deraadt Exp $
@


1.3
log
@disable TCP_COMPAT_42
@
text
@d4 1
a4 1
#	$Id: GENERIC,v 1.2 1996/05/15 08:56:16 mickey Exp $
a19 1
options		VNODEPAGER	# Pager for vnodes (Required)
@


1.2
log
@add all the possible SCSI device types to the GENERIC configs.
@
text
@d4 1
a4 1
#	$Id: GENERIC,v 1.1.1.1 1995/10/18 10:54:18 deraadt Exp $
d63 1
a63 1
options		"TCP_COMPAT_42"	# Use 4.2 BSD style TCP
@


1.1
log
@Initial revision
@
text
@d4 1
a4 1
#	$Id: GENERIC,v 1.22.2.3 1994/08/03 03:16:01 cgd Exp $
a108 1

d111 3
@


1.1.1.1
log
@initial 88k import; code by nivas and based on mach luna88k
@
text
@@


1.1.1.2
log
@Third try at importing the mvme88k port. This is a working kernel
from nivas.
Userland and compiler still need to be worked on.
Make certain what directory the import is done from.
@
text
@d2 4
d9 1
a9 1
machine m88k
d11 1
a17 1
options		MVME187		# support for 187
d26 9
d39 3
a41 3
#options		QUOTA		# Disk quotas for local disks
#options		NFSSERVER	# Network File System server side code
#options		NFSCLIENT	# Network File System client side code
d48 4
d53 4
d61 5
a65 3
#options		"COMPAT_43"	# 4.3 BSD compatible system calls
#options		"TCP_COMPAT_42"	# Use 4.2 BSD style TCP
#options		"COMPAT_NOMID"	# allow nonvalid machine id executables
d70 3
d78 2
d87 6
a92 4
options		DEBUG		# Add debugging statements
options		DDB		# Kernel debugger
options		SYSCALL_DEBUG	# debug all syscalls.

d96 16
a111 28
mainbus0 at root
# mainbus devices
#sram0	at mainbus0 addr 0xffe00000
vme0	at mainbus0 addr 0xfff40000
pcctwo0 at mainbus0 addr 0xfff42000
# pcctwo devices
clock0	at pcctwo0 addr 0xfff42000 ipl 5
nvram0	at pcctwo0 addr 0xfffc0000 size 0x10000
#ie0	at pcctwo0 addr 0xfff46000 ipl 1 size
#siop0	at pcctwo0 addr 0xfff47000 ipl 2 #size
cl0	at pcctwo0 addr 0xfff45000 ipl 3 size 0x512
#lptwo0	at pcctwo0 addr 0xfff45000 ipl 1 size
#mcecc0	at pcctwo0 addr 0xfff43000
#mcecc1	at pcctwo0 addr 0xfff43100
#memc0	at pcctwo0 addr 0xfff43000
#memc1	at pcctwo0 addr 0xfff43100

#bugtty0 at mainbus0

#vme0 devices
vmes0	at vme0
vmel0	at vme0

#scsibus* at siop?
#
#sd*	at scsibus? target ? lun ?
#st*	at scsibus? target ? lun ?
#cd*	at scsibus? target ? lun ?
d113 2
a114 2
#pseudo-device	sl			# slip
#pseudo-device	ppp			# ppp
@
