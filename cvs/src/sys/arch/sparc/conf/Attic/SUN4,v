head	1.43;
access;
symbols
	OPENBSD_6_0:1.42.0.20
	OPENBSD_6_0_BASE:1.42
	OPENBSD_5_9:1.42.0.16
	OPENBSD_5_9_BASE:1.42
	OPENBSD_5_8:1.42.0.18
	OPENBSD_5_8_BASE:1.42
	OPENBSD_5_7:1.42.0.10
	OPENBSD_5_7_BASE:1.42
	OPENBSD_5_6:1.42.0.14
	OPENBSD_5_6_BASE:1.42
	OPENBSD_5_5:1.42.0.12
	OPENBSD_5_5_BASE:1.42
	OPENBSD_5_4:1.42.0.8
	OPENBSD_5_4_BASE:1.42
	OPENBSD_5_3:1.42.0.6
	OPENBSD_5_3_BASE:1.42
	OPENBSD_5_2:1.42.0.4
	OPENBSD_5_2_BASE:1.42
	OPENBSD_5_1_BASE:1.42
	OPENBSD_5_1:1.42.0.2
	OPENBSD_5_0:1.41.0.2
	OPENBSD_5_0_BASE:1.41
	OPENBSD_4_9:1.39.0.4
	OPENBSD_4_9_BASE:1.39
	OPENBSD_4_8:1.39.0.2
	OPENBSD_4_8_BASE:1.39
	OPENBSD_4_7:1.36.0.2
	OPENBSD_4_7_BASE:1.36
	OPENBSD_4_6:1.36.0.4
	OPENBSD_4_6_BASE:1.36
	OPENBSD_4_5:1.35.0.10
	OPENBSD_4_5_BASE:1.35
	OPENBSD_4_4:1.35.0.6
	OPENBSD_4_4_BASE:1.35
	OPENBSD_4_3:1.35.0.8
	OPENBSD_4_3_BASE:1.35
	OPENBSD_4_2:1.35.0.4
	OPENBSD_4_2_BASE:1.35
	OPENBSD_4_1:1.35.0.2
	OPENBSD_4_1_BASE:1.35
	OPENBSD_4_0:1.33.0.2
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.32.0.2
	OPENBSD_3_9_BASE:1.32
	OPENBSD_3_8:1.31.0.2
	OPENBSD_3_8_BASE:1.31
	OPENBSD_3_7:1.30.0.2
	OPENBSD_3_7_BASE:1.30
	OPENBSD_3_6:1.28.0.6
	OPENBSD_3_6_BASE:1.28
	SMP_SYNC_A:1.28
	SMP_SYNC_B:1.28
	OPENBSD_3_5:1.28.0.4
	OPENBSD_3_5_BASE:1.28
	OPENBSD_3_4:1.28.0.2
	OPENBSD_3_4_BASE:1.28
	UBC_SYNC_A:1.28
	OPENBSD_3_3:1.27.0.2
	OPENBSD_3_3_BASE:1.27
	OPENBSD_3_2:1.26.0.2
	OPENBSD_3_2_BASE:1.26
	OPENBSD_3_1:1.25.0.6
	OPENBSD_3_1_BASE:1.25
	UBC_SYNC_B:1.26
	UBC:1.25.0.4
	UBC_BASE:1.25
	OPENBSD_3_0:1.25.0.2
	OPENBSD_3_0_BASE:1.25
	OPENBSD_2_9_BASE:1.22
	OPENBSD_2_9:1.22.0.8
	OPENBSD_2_8:1.22.0.6
	OPENBSD_2_8_BASE:1.22
	OPENBSD_2_7:1.22.0.4
	OPENBSD_2_7_BASE:1.22
	SMP:1.22.0.2
	SMP_BASE:1.22
	kame_19991208:1.22
	OPENBSD_2_6:1.21.0.4
	OPENBSD_2_6_BASE:1.21
	OPENBSD_2_5:1.21.0.2
	OPENBSD_2_5_BASE:1.21
	OPENBSD_2_4:1.20.0.4
	OPENBSD_2_4_BASE:1.20
	OPENBSD_2_3:1.20.0.2
	OPENBSD_2_3_BASE:1.20
	OPENBSD_2_2:1.14.0.2
	OPENBSD_2_2_BASE:1.14
	OPENBSD_2_1:1.12.0.2
	OPENBSD_2_1_BASE:1.12
	OPENBSD_2_0:1.11.0.2
	OPENBSD_2_0_BASE:1.11
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.43
date	2016.09.01.09.23.41;	author tedu;	state dead;
branches;
next	1.42;
commitid	Q2PxaFNhqAe0Wmla;

1.42
date	2011.11.08.12.53.58;	author deraadt;	state Exp;
branches;
next	1.41;

1.41
date	2011.07.04.22.53.53;	author tedu;	state Exp;
branches;
next	1.40;

1.40
date	2011.06.29.20.52.09;	author matthew;	state Exp;
branches;
next	1.39;

1.39
date	2010.07.03.03.59.17;	author krw;	state Exp;
branches;
next	1.38;

1.38
date	2010.07.02.19.57.15;	author tedu;	state Exp;
branches;
next	1.37;

1.37
date	2010.06.07.19.54.32;	author miod;	state Exp;
branches;
next	1.36;

1.36
date	2009.05.20.18.22.32;	author miod;	state Exp;
branches;
next	1.35;

1.35
date	2006.12.10.16.14.20;	author miod;	state Exp;
branches;
next	1.34;

1.34
date	2006.12.09.20.06.46;	author miod;	state Exp;
branches;
next	1.33;

1.33
date	2006.06.26.22.16.23;	author miod;	state Exp;
branches;
next	1.32;

1.32
date	2005.12.12.20.39.36;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2005.05.01.07.54.42;	author david;	state Exp;
branches;
next	1.30;

1.30
date	2004.09.27.19.32.38;	author miod;	state Exp;
branches;
next	1.29;

1.29
date	2004.09.16.09.14.04;	author mickey;	state Exp;
branches;
next	1.28;

1.28
date	2003.05.14.01.07.22;	author miod;	state Exp;
branches;
next	1.27;

1.27
date	2003.01.31.22.00.22;	author miod;	state Exp;
branches;
next	1.26;

1.26
date	2002.08.12.10.44.03;	author miod;	state Exp;
branches;
next	1.25;

1.25
date	2001.07.21.20.47.55;	author deraadt;	state Exp;
branches
	1.25.4.1;
next	1.24;

1.24
date	2001.06.27.05.46.27;	author art;	state Exp;
branches;
next	1.23;

1.23
date	2001.05.10.10.34.41;	author art;	state Exp;
branches;
next	1.22;

1.22
date	99.10.29.14.14.28;	author art;	state Exp;
branches
	1.22.2.1;
next	1.21;

1.21
date	99.02.16.21.30.21;	author art;	state Exp;
branches;
next	1.20;

1.20
date	98.03.25.07.54.52;	author jason;	state Exp;
branches;
next	1.19;

1.19
date	98.03.04.19.49.04;	author johns;	state Exp;
branches;
next	1.18;

1.18
date	98.03.04.19.24.51;	author johns;	state Exp;
branches;
next	1.17;

1.17
date	98.03.04.12.42.25;	author johns;	state Exp;
branches;
next	1.16;

1.16
date	98.02.26.10.50.24;	author johns;	state Exp;
branches;
next	1.15;

1.15
date	98.02.26.08.05.51;	author jason;	state Exp;
branches;
next	1.14;

1.14
date	97.06.22.21.42.41;	author downsj;	state Exp;
branches;
next	1.13;

1.13
date	97.06.13.16.06.38;	author johns;	state Exp;
branches;
next	1.12;

1.12
date	97.04.29.05.16.00;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	96.09.20.06.45.21;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	96.08.31.02.09.37;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	96.08.19.00.21.48;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	96.01.04.01.31.40;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	95.11.20.07.01.13;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	95.11.17.12.35.29;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	95.10.23.16.19.55;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	95.10.23.08.35.31;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	95.10.22.06.49.22;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.10.21.13.53.49;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.51.37;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.51.37;	author deraadt;	state Exp;
branches;
next	;

1.22.2.1
date	2001.07.04.10.23.15;	author niklas;	state Exp;
branches;
next	1.22.2.2;

1.22.2.2
date	2001.10.31.03.07.56;	author nate;	state Exp;
branches;
next	1.22.2.3;

1.22.2.3
date	2003.03.27.23.49.24;	author niklas;	state Exp;
branches;
next	1.22.2.4;

1.22.2.4
date	2003.05.16.00.29.40;	author niklas;	state Exp;
branches;
next	;

1.25.4.1
date	2002.10.29.00.28.09;	author art;	state Exp;
branches;
next	1.25.4.2;

1.25.4.2
date	2003.05.19.21.46.32;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.43
log
@Celebrate OpenBSD 6.0 release by retiring the sparc port.
You've served us well, good friend, but now it's time to rest.
ok deraadt
@
text
@#	$OpenBSD: SUN4,v 1.42 2011/11/08 12:53:58 deraadt Exp $
#	$NetBSD: GENERIC,v 1.28.2.1 1996/07/02 23:55:22 jtc Exp $

# Machine architecture; required by config(8)
machine		sparc

include "../../../conf/GENERIC"

option		SUN4		# sun4/100, sun4/200, sun4/300

#option		MMU_3L		# 3-level MMU on sun4/400

# Options for SPARCstation hardware
option		WSEMUL_SUN	# provide sun terminal emulation; required
option		WSEMUL_NO_VT100	# do not provide vt100 terminal emulation
option		WSDISPLAY_COMPAT_RAWKBD # provide raw scancodes; needed for X11

maxusers	16		# estimated number of users

# Generic swap; second partition of root disk or network.
config		bsd	swap generic

# Main bus and CPU .. all systems.
mainbus0 at root
cpu0	at mainbus0

# Bus types found on SPARC systems.
obio0	at mainbus0				# sun4 and sun4m
vmes0	at mainbus0				# sun4
vmel0	at mainbus0				# sun4

# Mostek clock found on 4/300, sun4c, and sun4m systems.
# The Mostek clock NVRAM is the "eeprom" on sun4/300 systems.
clock0	at obio0 addr 0xf2000000		# sun4/300

# Intersil clock found on 4/100 and 4/200 systems.
oclock0	at obio0 addr 0xf3000000		# sun4/100 and sun4/200

# Memory error registers.
memreg0	at obio0 addr 0xf4000000		# sun4

# Timer chip found on 4/300, sun4c, and sun4m systems.
timer0	at obio0 addr 0xef000000		# sun4/300

# EEPROM found on 4/100 and 4/200 systems.  Note that the 4/300
# doesn't use this driver; the `EEPROM' is in the NVRAM on the
# Mostek clock chip on 4/300 systems.
eeprom0	at obio0 addr 0xf2000000		# sun4/100 and sun4/200

# 8 segment led display on sun4 systems
led0 at mainbus0				# sun4

# Zilog 8530 serial chips.  Each has two-channels.
# zs0 is ttya and ttyb.  zs1 is the keyboard and mouse.
zs0	at obio0 addr 0xf1000000 level 12		# sun4
zs1	at obio0 addr 0xf0000000 level 12		# sun4
zs2	at obio0 addr 0xe0000000 level 12		# sun4/300

zstty* at zs?
zskbd* at zs?
wskbd* at zskbd?
zsms*  at zs?
wsmouse* at zsms?

#
# Note the flags on the esp entries below, that work around
# deficiencies in the current driver:
#	bits 0-7:  disable disconnect/reselect for the corresponding target
#	bits 8-15: disable synch negotiation for target [bit-8]
#	Note: targets 4-7 have disconnect/reselect enabled on the premise
#	      that tape devices normally have one of these targets. Tape
#	      devices should be allowed to disconnect for the SCSI bus
#	      to operate acceptably.
#

# sun4/300 SCSI - an NCR53c94 or equivalent behind
# an LSI Logic DMA controller
dma0	at obio0 addr 0xfa001000 level 4		# sun4/300
esp0	at obio0 addr 0xfa000000 level 4 flags 0x00ff000f

# sun4/300 and sun4c Ethernet - an AMD 7990 LANCE
le0	at obio0 addr 0xf9000000 level 6		# sun4/300

# sun4/100 and sun4/200 Ethernet - an Intel 82586 on-board
# or on a Multibus/VME card.
ie0	at obio0 addr 0xf6000000 level 6		# sun4/100 and sun4/200

ie1	at vmes0 addr 0xffe88000 level 5 vect 0x75
ie2	at vmes0 addr 0xff31ff02 level 5 vect 0x76
ie3	at vmes0 addr 0xff35ff02 level 5 vect 0x77
ie4	at vmes0 addr 0xff2dff02 level 5 vect 0x7c

# Xylogics 753 or 7053 VME SMD disk controllers and disks, found
# on sun4 systems.
xdc0	at vmel0 addr 0xffffee80 level 3 vect 0x44
xdc1	at vmel0 addr 0xffffee90 level 3 vect 0x45
xdc2	at vmel0 addr 0xffffeea0 level 3 vect 0x46
xdc3	at vmel0 addr 0xffffeeb0 level 3 vect 0x47
xd*	at xdc?

# Xylogics 451 or 451 VME SMD disk controllers and disks, found
# on sun4 systems.
xyc0	at vmes0 addr 0xffffee40 level 3 vect 0x48
xyc1	at vmes0 addr 0xffffee48 level 3 vect 0x49
xy*	at xyc?

# NCR5380-based "Sun SCSI 3" VME SCSI controller.
# This driver has several flags which may be enabled by OR'ing
# the values and using the "flags" directive.
# Valid flags are:
#
#	0x01		Use DMA (may be polled)
#	0x02		Use DMA completion interrupts
#	0x04		Allow disconnect/reselect
#
# E.g. the following would enable DMA, interrupts, and reselect:
# si0	at vmes0 addr 0xff200000 level 3 vect 0x40 flags 0x07
#
si0	at vmes0 addr 0xff200000 level 3 vect 0x40 flags 0x01

# NCR5380-based "SCSI Weird" on-board SCSI interface found
# on sun4/100 systems.  The flags are the same as the "si"
# controller.  Note, while DMA is enabled by default, only
# polled DMA works at this time, and reselects do not work
# on this particular controller.
sw0	at obio0 addr 0xfa000000 level 3 flags 0x01

# Sun "bwtwo" black and white framebuffer, found on sun4, sun4c, and sun4m
# systems.
bwtwo0	at obio0 addr 0xfd000000 level 4	# sun4/200
bwtwo0	at obio0 addr 0xfb300000 level 4	# sun4/100 and sun4/300 P4
wsdisplay* at bwtwo?

# Sun "cgtwo" VME color framebuffer.
cgtwo0	at vmes0 addr 0xff400000 level 4 vect 0xa8
wsdisplay* at cgtwo?

# Sun "cgfour" color framebuffer.
cgfour0	at obio0 addr 0xfb300000 level 4	# sun4/100 and sun4/300 P4
wsdisplay* at cgfour?

# Sun "cgsix" accelerated color framebuffer.
cgsix0	at obio0 addr 0xfb000000 level 4	# sun4/100 and sun4/300 P4
wsdisplay* at cgsix?

# Sun "cgeight" 24-bit framebuffer.
cgeight0 at obio0 addr 0xfb300000 level 4	# sun4/100 and sun4/300 P4
wsdisplay* at cgeight?

# SCSI bus layer.  SCSI devices attach to the SCSI bus, which attaches
# to the underlying hardware controller.

# These entries find devices on all SCSI busses and assign
# unit numers dynamically.
scsibus* at scsi?
sd*	at scsibus?		# SCSI disks
st*	at scsibus?		# SCSI tapes
cd*	at scsibus?		# SCSI CD-ROMs
ch*	at scsibus?		# SCSI changer devices
uk*	at scsibus?		# unknown SCSI devices

pseudo-device	wsmux	2	# mouse & keyboard multiplexor
@


1.42
log
@procfs for solaris compat?  not anymore; ok miod
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.41 2011/07/04 22:53:53 tedu Exp $
@


1.41
log
@remove compat_svr4 support.  ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.40 2011/06/29 20:52:09 matthew Exp $
a13 2
option		PROCFS		# /proc

@


1.40
log
@Replace all instances of "scsibus* at hba?" with a single "scsibus* at
scsi?" rule, similar to how ethernet PHY drivers attach at mii.

Discussed on icb.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.39 2010/07/03 03:59:17 krw Exp $
a13 1
option		COMPAT_SVR4	# compatibility with SVR4 binaries
@


1.39
log
@No more ss(4) or usscanner(4). Unused, unloved and unmaintained.
General huzzahs.

"go for it" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.38 2010/07/02 19:57:15 tedu Exp $
a154 3
scsibus* at esp?
scsibus* at si?
scsibus* at sw?
d158 1
@


1.38
log
@remove support for compat_sunos (and m68k4k).  ok deraadt guenther
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.37 2010/06/07 19:54:32 miod Exp $
a164 1
ss*	at scsibus?		# SCSI scanners
@


1.37
log
@Rework the way onboard devices attach on Sun 4/110 systems (which only have a
28 bit address bus) by reusing the regular sun4 configuration stanzas (with
the upper four bits set in the device addresses), and clearing them when
searching for a PROM mapping.
This makes the obio autoconf code simpler, and all knowledge of the 4/110
specifics is now contained in a single file (dev/obio.c).

ok todd@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.36 2009/05/20 18:22:32 miod Exp $
a13 1
option		COMPAT_SUNOS	# compatibility with SunOS binaries
@


1.36
log
@Add code to attach sun mice on sparc and sparc64 as wsmouse devices. Since
not all Sun mice run at the canonical 1200 bps, hop between 1200, 4800 and
9600 bps by paying attention to breaks on the line.

Attachement and engine code written 7 years ago for OpenBSD/sparc, except for
sparc64 com(4) attachment. Speed hop idea borrowed from Opensolaris.

This allows sparc and sparc64 users to run X11 without needing a configuration
file anymore, as it was in the XFree86 3.x days. Multihead configurations
will still need a minimal configuration file, though.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.35 2006/12/10 16:14:20 miod Exp $
d41 1
a41 2
oclock0	at obio0 addr 0xf3000000		# sun4/200
oclock0	at obio0 addr 0x03000000		# sun4/100
d44 1
a44 2
memreg0	at obio0 addr 0xf4000000		# sun4/200 and sun4/300
memreg0	at obio0 addr 0x04000000		# sun4/100
d52 1
a52 2
eeprom0	at obio0 addr 0xf2000000		# sun4/200
eeprom0	at obio0 addr 0x02000000		# sun4/100
d59 2
a60 4
zs0	at obio0 addr 0xf1000000 level 12		# sun4/200 and sun4/300
zs0	at obio0 addr 0x01000000 level 12		# sun4/100
zs1	at obio0 addr 0xf0000000 level 12		# sun4/200 and sun4/300
zs1	at obio0 addr 0x00000000 level 12		# sun4/100
d90 1
a90 2
ie0	at obio0 addr 0xf6000000 level 6		# sun4/200 on-board
ie0	at obio0 addr 0x06000000 level 6		# sun4/100 on-board
d130 1
a130 1
sw0	at obio0 addr 0x0a000000 level 3 flags 0x01
d135 1
a135 2
bwtwo0	at obio0 addr 0xfb300000 level 4	# sun4/300 in P4 slot
bwtwo0	at obio0 addr 0x0b300000 level 4	# sun4/100 in P4 slot
d143 1
a143 2
cgfour0	at obio0 addr 0xfb300000 level 4	# sun4/300 P4
cgfour0	at obio0 addr 0x0b300000 level 4	# sun4/100 P4
d147 1
a147 2
cgsix0	at obio0 addr 0xfb000000 level 4	# sun4/300 P4
cgsix0	at obio0 addr 0x0b000000 level 4	# sun4/100 P4
d151 1
a151 2
cgeight0 at obio0 addr 0xfb300000 level 4	# sun4/300 P4
cgeight0 at obio0 addr 0x0b300000 level 4	# sun4/100 P4
@


1.35
log
@Allow ``flags 0'' to work to disable DMA for si(4) and sw(4) - it would get
ignored previously.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.34 2006/12/09 20:06:46 miod Exp $
d20 1
d71 2
d178 2
@


1.34
log
@Do not make sun terminal emulation selected by the wsemul_sun frame buffer
attribute anymore; remove it and use option WSEMUL_SUN instead, which gets
added to all sparc* kernels.

While there, do not compile vt100 emulation on sparc* kernels, this saves 16+
KB of text.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.33 2006/06/26 22:16:23 miod Exp $
d126 1
a126 2
# By default, DMA is enabled in the driver.
si0	at vmes0 addr 0xff200000 level 3 vect 0x40
d133 1
a133 1
sw0	at obio0 addr 0x0a000000 level 3
@


1.33
log
@Enable wide targets on FAS366 esp; note that this changes the way esp
user-controllable device flags are parsed, be sure to rerun config(8) on your
next kernel compile.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.32 2005/12/12 20:39:36 miod Exp $
d17 3
@


1.32
log
@Only include PROCFS on kernels which have either COMPAT_LINUX or COMPAT_SVR4,
otherwise it's just a waste of bytes.
ok deraadt@@ mickey@@
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.31 2005/05/01 07:54:42 david Exp $
d82 1
a82 1
esp0	at obio0 addr 0xfa000000 level 4 flags 0xff0f	#
@


1.31
log
@spacing; ok miod@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.30 2004/09/27 19:32:38 miod Exp $
d16 1
@


1.30
log
@Do not mention a commented out strip(4), it is already in sys/conf/GENERIC.
@
text
@d1 2
a2 2
#	$OpenBSD: SUN4,v 1.29 2004/09/16 09:14:04 mickey Exp $
# 	$NetBSD: GENERIC,v 1.28.2.1 1996/07/02 23:55:22 jtc Exp $
@


1.29
log
@cleanup deafult locators (blah ?); please check that your most hated architecture is still fluffy (;
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.28 2003/05/14 01:07:22 miod Exp $
a171 3

#pseudo-device	strip	1	# radio clock

@


1.28
log
@zs driver on sparc does not take flags anymore since 10 months, so don't
mention any.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.27 2003/01/31 22:00:22 miod Exp $
d63 3
a65 3
zstty* at zs? channel ?
zskbd* at zs? channel ?
wskbd* at zskbd? console ?
d102 1
a102 1
xd*	at xdc? drive ?
d108 1
a108 1
xy*	at xyc? drive ?
d166 6
a171 6
sd*	at scsibus? target ? lun ?		# SCSI disks
st*	at scsibus? target ? lun ?		# SCSI tapes
cd*	at scsibus? target ? lun ?		# SCSI CD-ROMs
ch*	at scsibus? target ? lun ?		# SCSI changer devices
ss*	at scsibus? target ? lun ?		# SCSI scanners
uk*	at scsibus? target ? lun ?		# unknown SCSI devices
@


1.27
log
@Various typos; Andrey Matveev
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.26 2002/08/12 10:44:03 miod Exp $
d57 5
a61 5
zs0	at obio0 addr 0xf1000000 level 12 flags 0x103	# sun4/200 and sun4/300
zs0	at obio0 addr 0x01000000 level 12 flags 0x103	# sun4/100
zs1	at obio0 addr 0xf0000000 level 12 flags 0x103	# sun4/200 and sun4/300
zs1	at obio0 addr 0x00000000 level 12 flags 0x103	# sun4/100
zs2	at obio0 addr 0xe0000000 level 12 flags 0x103	# sun4/300
@


1.26
log
@Convert sparc console code from rcons and pseudo-devices to rasops and wscons.
For most framebuffers it is faster.

Other changes include:
o 24 bit support in tcx(4) for the S24 framebuffer
o accelerated cgsix(4) text console
o new cgtwelve(4) driver for the GS framebuffer
o improved serial driver code
o better keyboard support

The following framebuffers have not been tested but should work: cgfour,
cgeight and cgfourteen

These changes will require XF4 changes, to use Xwsfb instead of Xsun*, to be
commited later today.

Most of the work by me during the LSM and the week after, with code borrowed
from jason@@, NetBSD (new serial code), and feedback from mickey@@. Work on
pnozz(4) done by millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.25 2001/07/21 20:47:55 deraadt Exp $
a8 2
# Options for variants of the Sun SPARC architecure.
# At least one is required.
@


1.25
log
@no rd required in regular kernels
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.24 2001/06/27 05:46:27 art Exp $
a15 1
option		RASTERCONSOLE	# fast rasterop console
d65 4
d135 1
a135 3
# systems.  If your sun4 system has a cgfour installed in the P4 slot,
# the P4 entries for "bwtwo" will attach to the overlay plane of the
# "cgfour".
d139 1
d141 1
a141 1
# Sun "cgtwo" VME color framebuffer
d143 1
d145 1
a145 2
# Sun "cgfour" color framebuffer with overlay plane.  See above comment
# regarding overlay plane.
d148 1
d153 1
d155 1
a155 1
# Sun "cgeight" 24-bit framebuffer
d158 1
a174 1
pseudo-device	kbd		# Sun keyboard
@


1.25.4.1
log
@sync to -current
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.25 2001/07/21 20:47:55 deraadt Exp $
d16 1
a65 4
zstty* at zs? channel ?
zskbd* at zs? channel ?
wskbd* at zskbd? console ?

d132 3
a134 1
# systems.
a137 1
wsdisplay* at bwtwo?
d139 1
a139 1
# Sun "cgtwo" VME color framebuffer.
a140 1
wsdisplay* at cgtwo?
d142 2
a143 1
# Sun "cgfour" color framebuffer.
a145 1
wsdisplay* at cgfour?
a149 1
wsdisplay* at cgsix?
d151 1
a151 1
# Sun "cgeight" 24-bit framebuffer.
a153 1
wsdisplay* at cgeight?
d170 1
@


1.25.4.2
log
@sync
@
text
@d1 1
a1 1
#	$OpenBSD$
d9 2
d59 5
a63 5
zs0	at obio0 addr 0xf1000000 level 12		# sun4/200 and sun4/300
zs0	at obio0 addr 0x01000000 level 12		# sun4/100
zs1	at obio0 addr 0xf0000000 level 12		# sun4/200 and sun4/300
zs1	at obio0 addr 0x00000000 level 12		# sun4/100
zs2	at obio0 addr 0xe0000000 level 12		# sun4/300
@


1.24
log
@UVM is no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.23 2001/05/10 10:34:41 art Exp $
a171 1
pseudo-device	rd 2
@


1.23
log
@UVM is no longer optional on sparc.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.22 1999/10/29 14:14:28 art Exp $
a18 2

option		UVM		# use the UVM virtual memory system ; required
@


1.22
log
@Use UVM by default on sparc.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.21 1999/02/16 21:30:21 art Exp $
d20 1
a20 1
option		UVM		# use the UVM virtual memory system
@


1.22.2.1
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.22 1999/10/29 14:14:28 art Exp $
d19 2
@


1.22.2.2
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.22.2.1 2001/07/04 10:23:15 niklas Exp $
d172 1
@


1.22.2.3
log
@Sync the SMP branch with 3.3
@
text
@d1 1
a1 1
#	$OpenBSD$
d9 2
d16 1
a65 4
zstty* at zs? channel ?
zskbd* at zs? channel ?
wskbd* at zskbd? console ?

d132 3
a134 1
# systems.
a137 1
wsdisplay* at bwtwo?
d139 1
a139 1
# Sun "cgtwo" VME color framebuffer.
a140 1
wsdisplay* at cgtwo?
d142 2
a143 1
# Sun "cgfour" color framebuffer.
a145 1
wsdisplay* at cgfour?
a149 1
wsdisplay* at cgsix?
d151 1
a151 1
# Sun "cgeight" 24-bit framebuffer.
a153 1
wsdisplay* at cgeight?
d170 1
@


1.22.2.4
log
@merge the trunk so we will get the genfs and locking fixes
@
text
@d57 5
a61 5
zs0	at obio0 addr 0xf1000000 level 12		# sun4/200 and sun4/300
zs0	at obio0 addr 0x01000000 level 12		# sun4/100
zs1	at obio0 addr 0xf0000000 level 12		# sun4/200 and sun4/300
zs1	at obio0 addr 0x00000000 level 12		# sun4/100
zs2	at obio0 addr 0xe0000000 level 12		# sun4/300
@


1.21
log
@Start using new pipe code
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.20 1998/03/25 07:54:52 jason Exp $
d19 2
@


1.20
log
@Driver for the 8 leds on the back of sun4 machines.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.19 1998/03/04 19:49:04 johns Exp $
a173 1
options		OLD_PIPE		# XXX nbpg botch
@


1.19
log
@Backout HZ comments I added, which are not appropriate for inclusion in
kernel config files.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.18 1998/03/04 19:24:51 johns Exp $
d54 3
@


1.18
log
@Corrected comments for machines with oclock0...
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.17 1998/03/04 12:42:25 johns Exp $
a32 14

# The system clock (and stat clock) may be set higher than 100 Hz
# On sun4c and sun4m systems.  This is useful if you have a speedy
# machine and need high accuracy timing for real-time oriented applications.
# Note: running the system clock at a higher rate will cause the kernel
#       to use proportionally CPU time handling clock interrupts,
#       and if set to ridiculously high values may cause problems.
#       
# Note: 4/100 and 4/200 systems will only run the clocks at 100 Hz,
#       other values are ignored.
#       
# On sparc, 1000000 modulo HZ must == 0.  If not, a warning is printed
#       at boot time, and HZ is reset to 100.
#option          HZ=1000
@


1.17
log
@Added comments about changing HZ to custom values on sparc.  Only supported
for sun4c and sun4m machines.  sun4 will only run at the default HZ=100.
Added commented out option for HZ=1000 along with info for GENERIC, SUN4C,
and SUN4M configs.  Added note to SUN4 config warning that HZ is ignored.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.16 1998/02/26 10:50:24 johns Exp $
d34 13
a46 3

# Note: sun4 system will only run the clocks at 100 Hz, other values
#       are ignored.  The HZ option has no effect for sun4.
@


1.16
log
@Backout of cpu init changes, breaks on sun4m currently..
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.14 1997/06/22 21:42:41 downsj Exp $
d33 4
@


1.15
log
@updated to reflect cpu initialization
@
text
@d27 1
@


1.14
log
@Add appropiate `maxusers' everywhere it was lacking.
@
text
@d1 1
a1 1
#	$OpenBSD: SUN4,v 1.13 1997/06/13 16:06:38 johns Exp $
a26 1
cpu0	at mainbus0
@


1.13
log
@updated SUN4 config from current GENERIC, previous rev was way out of date
and non-functional.
@
text
@d1 1
a1 1
#	$OpenBSD$
d19 2
@


1.12
log
@lfs dies
@
text
@d1 2
a2 1
# 	$NetBSD: GENERIC,v 1.19 1995/10/08 11:45:39 pk Exp $
d4 1
a5 41
option		SUN4
#option			MMU_3L
#option		DDB,DEBUG,DIAGNOSTIC

# obsolete timezone spec
option		TIMEZONE=0, DST=0

# Standard system options
option		SWAPPAGER, DEVPAGER	# paging
#option		DEBUG, DIAGNOSTIC	# extra kernel debugging
option		KTRACE			# system call tracing support
#option		KGDB			# support for kernel gdb
#option		KGDBDEV=0xc01, KGDBRATE=38400	# device & baud rate
option		RASTERCONSOLE		# fast rasterop console
option		SYSVMSG,SYSVSEM,SYSVSHM
option		COMPAT_09, COMPAT_10

# Filesystem options
option		FFS
option		NFSSERVER	# Sun NFS-compatible filesystem
option		NFSCLIENT	# Sun NFS-compatible filesystem
option		KERNFS		# kernel data-structure filesystem
option		FIFO		# POSIX fifo support (in all filesystems)
option		QUOTA		# fast filesystem with user and group quotas
option		MFS		# memory-based filesystem
option		LOFS		# Loop-back filesystem
option		FDESC		# user file descriptor filesystem
option		UMAPFS		# uid/gid remapping filesystem
option		PORTAL		# portal filesystem (still experimental)
option		PROCFS		# /proc
option		CD9660		# ISO 9660 + Rock Ridge file system
option		UNION		# union file system

# Networking options
option		INET
#option		TCP_COMPAT_42	# compatibility with 4.2BSD TCP/IP
#option		GATEWAY		# IP packet forwarding
#option		ISO		# OSI networking
#option		TPIP
#option		EON
option		COMPAT_43
d7 7
a13 1
option		LKM
d16 3
a18 2
option		COMPAT_SUNOS		# compatibility with SunOS binaries
option		COMPAT_SVR4		# compatibility with SVR4 binaries
d20 1
d23 1
d27 57
a83 45
#sbus0	at mainbus0
obio0	at mainbus0
vmes0	at mainbus0
vmel0	at mainbus0

#audio0	at mainbus0
#auxreg0 at mainbus0
#clock0	at mainbus0
clock0	at obio0 addr 0xf2000000
oclock0	at obio0 addr 0xf3000000
oclock0	at obio0 addr 0x03000000		# 4/100
#memreg0 at mainbus0
memreg0	at obio0 addr 0xf4000000
memreg0	at obio0 addr 0x04000000		# 4/100
#timer0	at mainbus0
timer0	at obio0 addr 0xef000000
eeprom0	at obio0 addr 0xf2000000
eeprom0	at obio0 addr 0x02000000		# 4/100

#zs0	at mainbus0
zs0	at obio0 addr 0xf1000000 level 12 flags 0x103
zs0	at obio0 addr 0x01000000 level 12 flags 0x103	# 4/100
#zs1	at mainbus0
zs1	at obio0 addr 0xf0000000 level 12 flags 0x103
zs1	at obio0 addr 0x00000000 level 12 flags 0x103	# 4/100
zs2	at obio0 addr 0xe0000000 level 12 flags 0x103

# FSBE/S or sun4m
#espdma0	at sbus0 slot ? offset ?
#espdma*	at sbus0 slot ? offset ?
#esp0	at espdma? slot ? offset ?
#esp*	at espdma? slot ? offset ?

# old sun4c SCSI
#dma0	at sbus0 slot ? offset ?
#dma*	at sbus0 slot ? offset ?
dma0	at obio0 addr 0xfa001000 level 4
#esp0	at sbus0 slot ? offset ?
#esp*	at sbus0 slot ? offset ?
esp0	at obio0 addr 0xfa000000 level 4

# old sun4c
#le0	at sbus? slot ? offset ?
#le*	at sbus? slot ? offset ?
le0	at obio0 addr 0xf9000000 level 6
a84 2
ie0	at obio0 addr 0xf6000000 level 6
ie0	at obio0 addr 0x06000000 level 6		# 4/100
d90 2
d98 2
d104 13
d118 6
a123 1
si1	at vmes0 addr 0xff204000 level 3 vect 0x41
d126 9
a134 4
#bwtwo0	at sbus? slot ? offset ?
#bwtwo*	at sbus? slot ? offset ?
bwtwo0	at obio0 addr 0xfd000000 level 4	# 4/260
bwtwo0	at obio0 addr 0xfb300000 level 4	# 4/{300/400} ??
a135 12
#cgnine0 at vmel0 addr 0x08000000 level 4
#cgthree0 at sbus? slot ? offset ?
#cgthree* at sbus? slot ? offset ?
#cgsix0 at sbus? slot ? offset ?
#cgsix* at sbus? slot ? offset ?

pfour0	at obio0 addr 0xfb000000
pfour0	at obio0 addr 0x0b000000                        # 4/100
bwtwo0	at pfour0
cgfour0	at pfour0
cgeight0 at pfour0
cgsix0	at pfour0
d137 15
d156 14
a169 15
sd*	at scsibus? target ? lun ?
st*	at scsibus? target ? lun ?
cd*	at scsibus? target ? lun ?

#fdc0	at mainbus0
#fd*	at fdc0

pseudo-device	loop
pseudo-device	pty	32
pseudo-device	sl	2
pseudo-device	kbd
pseudo-device	ppp	2
pseudo-device	tun	4
pseudo-device	vnd	3
pseudo-device	bpfilter 16
@


1.11
log
@do not fool people into thinking VNODEPAGER is an option; netbsd pr#2757, erik@@aarhus1.uni-c.dk
@
text
@a31 1
option		LFS		# Log-based filesystem (still experimental)
@


1.10
log
@disable TCP_COMPAT_42
@
text
@d12 1
a12 1
option		SWAPPAGER, VNODEPAGER, DEVPAGER	# paging
@


1.9
log
@s/options/option/
@
text
@d40 1
a40 1
option		TCP_COMPAT_42	# compatibility with 4.2BSD TCP/IP
@


1.8
log
@mi 5380 driver
@
text
@d4 3
a6 3
options		SUN4
#options		MMU_3L
#options	DDB,DEBUG,DIAGNOSTIC
d9 1
a9 1
options		TIMEZONE=0, DST=0
d12 8
a19 8
options		SWAPPAGER, VNODEPAGER, DEVPAGER	# paging
#options	DEBUG, DIAGNOSTIC	# extra kernel debugging
options		KTRACE			# system call tracing support
#options	KGDB			# support for kernel gdb
#options	KGDBDEV=0xc01, KGDBRATE=38400	# device & baud rate
options		RASTERCONSOLE		# fast rasterop console
options		SYSVMSG,SYSVSEM,SYSVSHM
options		COMPAT_09, COMPAT_10
d22 15
a36 15
options		FFS
options		NFSSERVER	# Sun NFS-compatible filesystem
options		NFSCLIENT	# Sun NFS-compatible filesystem
options		KERNFS		# kernel data-structure filesystem
options		FIFO		# POSIX fifo support (in all filesystems)
options		QUOTA		# fast filesystem with user and group quotas
options		MFS		# memory-based filesystem
options		LOFS		# Loop-back filesystem
options		FDESC		# user file descriptor filesystem
options		UMAPFS		# uid/gid remapping filesystem
options		LFS		# Log-based filesystem (still experimental)
options		PORTAL		# portal filesystem (still experimental)
options		PROCFS		# /proc
options		CD9660		# ISO 9660 + Rock Ridge file system
options		UNION		# union file system
d39 7
a45 7
options		INET
options		TCP_COMPAT_42	# compatibility with 4.2BSD TCP/IP
#options	GATEWAY		# IP packet forwarding
#options	ISO		# OSI networking
#options	TPIP
#options	EON
options		COMPAT_43
d47 1
a47 1
options		LKM
d50 2
a51 2
options		COMPAT_SUNOS		# compatibility with SunOS binaries
options		COMPAT_SVR4		# compatibility with SVR4 binaries
@


1.7
log
@add # declaration for vme cgnine card
@
text
@d121 3
a123 3
si0	at vmes0 addr 0xff200000 level 2 vect 0x40
si1	at vmes0 addr 0xff204000 level 2 vect 0x41
sw0	at obio0 addr 0x0a000000 level 2
@


1.6
log
@add si1
@
text
@d130 1
@


1.5
log
@+ bwtwo0 at pfour0
@
text
@d122 1
@


1.4
log
@kill MMU_3L until it works
@
text
@d136 1
@


1.3
log
@kernel name is /bsd
@
text
@d5 1
a5 1
options		MMU_3L
@


1.2
log
@updated but not completely tested
@
text
@d53 1
a53 1
config		netbsd	swap generic
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$NetBSD: SUN4,v 1.12 1995/06/02 17:53:57 pk Exp $
d4 3
a6 1
options		"SUN4"
d17 1
a17 1
options		RCONSOLE		# fast rasterop console
d19 1
a19 1
options		"COMPAT_09", "COMPAT_10"
d25 12
a36 11
#options	KERNFS		# kernel data-structure filesystem
#options	FIFO		# POSIX fifo support (in all filesystems)
#options	QUOTA		# fast filesystem with user and group quotas
#options	MFS		# memory-based filesystem
#options	LOFS		# Loop-back filesystem
#options	FDESC		# user file descriptor filesystem
#options	UMAPFS		# uid/gid remapping filesystem
#options	LFS		# Log-based filesystem (still experimental)
#options	PORTAL		# portal filesystem (still experimental)
#options	PROCFS		# /proc
#options	CD9660		# ISO 9660 + Rock Ridge file system
d51 1
d58 1
d63 3
d69 1
d72 1
d74 2
d77 1
d80 1
d85 9
d95 2
d99 3
d111 29
d141 2
d147 3
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@

