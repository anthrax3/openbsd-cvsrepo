head	1.38;
access;
symbols
	SMP_SYNC_A:1.38
	SMP_SYNC_B:1.38
	UBC_SYNC_A:1.38
	OPENBSD_3_1:1.37.0.6
	OPENBSD_3_1_BASE:1.37
	UBC_SYNC_B:1.38
	UBC:1.37.0.4
	UBC_BASE:1.37
	OPENBSD_3_0:1.37.0.2
	OPENBSD_3_0_BASE:1.37
	OPENBSD_2_9_BASE:1.34
	OPENBSD_2_9:1.34.0.2
	OPENBSD_2_8:1.32.0.6
	OPENBSD_2_8_BASE:1.32
	OPENBSD_2_7:1.32.0.4
	OPENBSD_2_7_BASE:1.32
	SMP:1.32.0.2
	SMP_BASE:1.32
	kame_19991208:1.31
	OPENBSD_2_6:1.30.0.2
	OPENBSD_2_6_BASE:1.30
	OPENBSD_2_5:1.27.0.2
	OPENBSD_2_5_BASE:1.27
	OPENBSD_2_4:1.24.0.2
	OPENBSD_2_4_BASE:1.24
	OPENBSD_2_3:1.19.0.2
	OPENBSD_2_3_BASE:1.19
	OPENBSD_2_2:1.17.0.2
	OPENBSD_2_2_BASE:1.17
	OPENBSD_2_1:1.14.0.2
	OPENBSD_2_1_BASE:1.14
	OPENBSD_2_0:1.12.0.2
	OPENBSD_2_0_BASE:1.12
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.38
date	2002.04.26.18.57.16;	author deraadt;	state dead;
branches;
next	1.37;

1.37
date	2001.07.21.20.47.55;	author deraadt;	state Exp;
branches
	1.37.4.1;
next	1.36;

1.36
date	2001.06.27.05.46.26;	author art;	state Exp;
branches;
next	1.35;

1.35
date	2001.05.10.10.34.40;	author art;	state Exp;
branches;
next	1.34;

1.34
date	2001.04.17.12.50.12;	author brad;	state Exp;
branches;
next	1.33;

1.33
date	2001.03.08.03.37.19;	author itojun;	state Exp;
branches;
next	1.32;

1.32
date	2000.01.22.10.01.57;	author deraadt;	state Exp;
branches
	1.32.2.1;
next	1.31;

1.31
date	99.10.29.14.14.27;	author art;	state Exp;
branches;
next	1.30;

1.30
date	99.09.06.03.46.16;	author jason;	state Exp;
branches;
next	1.29;

1.29
date	99.06.06.04.48.24;	author jason;	state Exp;
branches;
next	1.28;

1.28
date	99.04.18.03.24.22;	author jason;	state Exp;
branches;
next	1.27;

1.27
date	99.03.01.04.56.04;	author jason;	state Exp;
branches;
next	1.26;

1.26
date	99.02.16.21.30.21;	author art;	state Exp;
branches;
next	1.25;

1.25
date	99.02.01.00.30.42;	author jason;	state Exp;
branches;
next	1.24;

1.24
date	98.10.19.05.43.29;	author jason;	state Exp;
branches;
next	1.23;

1.23
date	98.09.16.23.13.51;	author jason;	state Exp;
branches;
next	1.22;

1.22
date	98.09.10.17.34.30;	author jason;	state Exp;
branches;
next	1.21;

1.21
date	98.05.22.08.25.29;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	98.04.30.06.12.55;	author jason;	state Exp;
branches;
next	1.19;

1.19
date	98.02.26.10.50.18;	author johns;	state Exp;
branches;
next	1.18;

1.18
date	98.02.26.08.05.48;	author jason;	state Exp;
branches;
next	1.17;

1.17
date	97.09.17.06.47.03;	author downsj;	state Exp;
branches;
next	1.16;

1.16
date	97.08.08.08.47.11;	author downsj;	state Exp;
branches;
next	1.15;

1.15
date	97.06.22.21.42.41;	author downsj;	state Exp;
branches;
next	1.14;

1.14
date	97.05.14.00.12.13;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	97.01.02.22.37.54;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	96.09.25.10.18.28;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	96.08.19.00.12.05;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	96.08.19.00.07.32;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	96.08.11.05.34.03;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	96.01.04.01.31.40;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	95.11.20.07.01.13;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	95.11.17.12.35.29;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	95.10.23.16.19.54;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	95.10.23.08.35.31;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	95.10.22.06.49.21;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.10.21.13.53.49;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.51.36;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.51.36;	author deraadt;	state Exp;
branches;
next	;

1.32.2.1
date	2001.05.14.21.37.01;	author niklas;	state Exp;
branches;
next	1.32.2.2;

1.32.2.2
date	2001.07.04.10.23.13;	author niklas;	state Exp;
branches;
next	1.32.2.3;

1.32.2.3
date	2001.10.31.03.07.56;	author nate;	state Exp;
branches;
next	1.32.2.4;

1.32.2.4
date	2003.03.27.23.49.24;	author niklas;	state dead;
branches;
next	;

1.37.4.1
date	2002.06.11.03.38.15;	author art;	state dead;
branches;
next	;


desc
@@


1.38
log
@build release bsd.scsi3 from regular bsd file, by using config -e to
clone sd0 out of sd*.  my idea, initial hack by miod, my makefile hackery
@
text
@#	$OpenBSD: GENERIC_SCSI3,v 1.37 2001/07/21 20:47:55 deraadt Exp $
# 	$NetBSD: GENERIC,v 1.48 1997/08/23 19:19:01 mjacob Exp $

# Machine architecture; required by config(8)
machine		sparc

include "../../../conf/GENERIC"


# Options for variants of the Sun SPARC architecure.
# At least one is required.
option		SUN4		# sun4/100, sun4/200, sun4/300
option		SUN4C		# sun4c - SS1, 1+, 2, ELC, SLC, IPC, IPX, etc.
option		SUN4M		# sun4m - SS10, SS20, Classic, etc.

#option		MMU_3L		# 3-level MMU on sun4/400

#option		KGDB		# support for kernel gdb
#option		KGDBDEV=0xc01	# kgdb device number (dev_t)
#option		KGDBRATE=38400	# baud rate

# Options for SPARCstation hardware
option		RASTERCONSOLE	# fast rasterop console
option		COMPAT_SUNOS	# compatibility with SunOS binaries
option		COMPAT_SVR4	# compatibility with SVR4 binaries

maxusers	18		# estimated number of users

# Generic swap; second partition of root disk or network.
config		bsd	swap generic

# Main bus and CPU .. all systems.
mainbus0 at root
cpu0	at mainbus0

# Bus types found on SPARC systems.
sbus0	at mainbus0				# sun4c
obio0	at mainbus0				# sun4 and sun4m
vmes0	at mainbus0				# sun4
vmel0	at mainbus0				# sun4
iommu0	at mainbus0				# sun4m
sbus0	at iommu0				# sun4m

audioamd0 at mainbus0				# sun4c
audioamd0 at obio0				# sun4m
audioamd0 at sbus0 slot ? offset ?		# sun4m
audio*	at audioamd?

audiocs0 at sbus0 slot ? offset ?		# sun4m
audio*	at audiocs?

auxreg0	at mainbus0				# sun4c
auxreg0	at obio0				# sun4m

# Power status and control register found on Sun4m systems
power0	at obio0

# Mostek clock found on 4/300, sun4c, and sun4m systems.
# The Mostek clock NVRAM is the "eeprom" on sun4/300 systems.
clock0	at mainbus0				# sun4c
clock0	at obio0				# sun4m
clock0	at obio0 addr 0xf2000000		# sun4/300

# Intersil clock found on 4/100 and 4/200 systems.
oclock0	at obio0 addr 0xf3000000		# sun4/200
oclock0	at obio0 addr 0x03000000		# sun4/100

# Memory error registers.
memreg0	at mainbus0				# sun4c
memreg0	at obio0				# sun4m
memreg0	at obio0 addr 0xf4000000		# sun4/200 and sun4/300
memreg0	at obio0 addr 0x04000000		# sun4/100

# Timer chip found on 4/300, sun4c, and sun4m systems.
timer0	at mainbus0				# sun4c
timer0	at obio0				# sun4m
timer0	at obio0 addr 0xef000000		# sun4/300

# EEPROM found on 4/100 and 4/200 systems.  Note that the 4/300
# doesn't use this driver; the `EEPROM' is in the NVRAM on the
# Mostek clock chip on 4/300 systems.
eeprom0	at obio0 addr 0xf2000000		# sun4/200
eeprom0	at obio0 addr 0x02000000		# sun4/100

# 8 segment led display on sun4/sun4m systems
led0 at mainbus0				# sun4
led0 at obio0					# sun4/600

# Zilog 8530 serial chips.  Each has two-channels.
# zs0 is ttya and ttyb.  zs1 is the keyboard and mouse.
zs0	at mainbus0					# sun4c
zs0	at obio0					# sun4m
zs0	at obio0 addr 0xf1000000 level 12 flags 0x103	# sun4/200 and sun4/300
zs0	at obio0 addr 0x01000000 level 12 flags 0x103	# sun4/100
zs1	at mainbus0					# sun4c
zs1	at obio0					# sun4m
zs1	at obio0 addr 0xf0000000 level 12 flags 0x103	# sun4/200 and sun4/300
zs1	at obio0 addr 0x00000000 level 12 flags 0x103	# sun4/100
zs2	at obio0 addr 0xe0000000 level 12 flags 0x103	# sun4/300

# Magma serial/parallel port devices
magma*	at sbus? slot ? offset ?			# magma serial cards
mtty*	at magma?
mbpp*	at magma?

# SUNW,spif serial/parallel port devices
spif*	at sbus? slot ? offset ?			# spif serial cards
stty*	at spif?
sbpp*	at spif?

bpp*	at sbus? slot ? offset ?			# parallel port 

# SUNW,xbox SBus Expansion Subsystem
xbox*	at sbus? slot ? offset ?			# SBus Expansion box
sbus*	at xbox?

#
# Note the flags on the esp entries below, that work around
# deficiencies in the current driver:
#	bits 0-7:  disable disconnect/reselect for the corresponding target
#	bits 8-15: disable synch negotiation for target [bit-8]
#	Note: targets 4-7 have disconnect/reselect enabled on the premise
#	      that tape devices normally have one of these targets. Tape
#	      devices should be allowed to disconnect for the SCSI bus
#	      to operate acceptably.
#

# sun4/300 SCSI - an NCR53c94 or equivalent behind
# an LSI Logic DMA controller
dma0	at obio0 addr 0xfa001000 level 4		# sun4/300
esp0	at obio0 addr 0xfa000000 level 4 flags 0xff0f	#

# sun4c or sun4m SCSI - an NCR53c94 or equivalent behind
# specialized DMA glue
dma0	at sbus0 slot ? offset ?			# on-board SCSI
esp0	at sbus0 slot ? offset ? flags 0xff0f		# sun4c
esp0	at dma0 flags 0xff0f				# sun4m

# FSBE/S SCSI - an NCR53c94 or equivalent behind
dma*	at sbus? slot ? offset ?			# SBus SCSI
esp*	at sbus? slot ? offset ? flags 0xff0f		# two flavours
esp*	at dma? flags 0xff0f				# depending on model

#sun4c, sun4m
isp*	at sbus? slot ? offset ?

# sun4m Ethernet - an AMD 7990 LANCE behind
# specialized DMA glue
ledma0	at sbus0 slot ? offset ?			# sun4m on-board
le0	at ledma0					#

# Additional SBus LANCE devices - glued on by lebuffer
lebuffer0	at sbus0 slot ? offset ?		# sun4m SBus
lebuffer*	at sbus? slot ? offset ?		# sun4m SBus
le0	at lebuffer0					#
le*	at lebuffer?					#

# sun4/300 and sun4c Ethernet - an AMD 7990 LANCE
le0	at sbus0 slot ? offset ?			# sun4c on-board
le*	at sbus? slot ? offset ?

le0	at obio0 addr 0xf9000000 level 6		# sun4/300

# sun4/100 and sun4/200 Ethernet - an Intel 82586 on-board
# or on a Multibus/VME card.
ie0	at obio0 addr 0xf6000000 level 6		# sun4/200 on-board
ie0	at obio0 addr 0x06000000 level 6		# sun4/100 on-board

ie1	at vmes0 addr 0xffe88000 level 5 vect 0x75
ie2	at vmes0 addr 0xff31ff02 level 5 vect 0x76
ie3	at vmes0 addr 0xff35ff02 level 5 vect 0x77
ie4	at vmes0 addr 0xff2dff02 level 5 vect 0x7c

# HappyMeal ethernet
hme*	at sbus? slot ? offset ?
# Media Independent Interface (mii) drivers (required by hme)
nsphy*	at mii? phy ?				# NS and compatible PHYs
qsphy*	at mii? phy ?				# Quality Semi QS6612 PHYs

# Quad-ethernet glue device, and sub-devices
qec*	at sbus? slot ? offset ?
qe*	at qec?
be*	at qec?

# Xylogics 753 or 7053 VME SMD disk controllers and disks, found
# on sun4 systems.
xdc0	at vmel0 addr 0xffffee80 level 3 vect 0x44
xdc1	at vmel0 addr 0xffffee90 level 3 vect 0x45
xdc2	at vmel0 addr 0xffffeea0 level 3 vect 0x46
xdc3	at vmel0 addr 0xffffeeb0 level 3 vect 0x47
xd*	at xdc? drive ?

# Xylogics 451 or 451 VME SMD disk controllers and disks, found
# on sun4 systems.
xyc0	at vmes0 addr 0xffffee40 level 3 vect 0x48
xyc1	at vmes0 addr 0xffffee48 level 3 vect 0x49
xy*	at xyc? drive ?

# NCR5380-based "Sun SCSI 3" VME SCSI controller.
# This driver has several flags which may be enabled by OR'ing
# the values and using the "flags" directive.
# Valid flags are:
#
#	0x01		Use DMA (may be polled)
#	0x02		Use DMA completion interrupts
#	0x04		Allow disconnect/reselect
#
# E.g. the following would enable DMA, interrupts, and reselect:
# si0	at vmes0 addr 0xff200000 level 3 vect 0x40 flags 0x07
#
# By default, DMA is enabled in the driver.
si0	at vmes0 addr 0xff200000 level 3 vect 0x40

# NCR5380-based "SCSI Weird" on-board SCSI interface found
# on sun4/100 systems.  The flags are the same as the "si"
# controller.  Note, while DMA is enabled by default, only
# polled DMA works at this time, and reselects do not work
# on this particular controller.
sw0	at obio0 addr 0x0a000000 level 3

# Sun "bwtwo" black and white framebuffer, found on sun4, sun4c, and sun4m
# systems.  If your sun4 system has a cgfour installed in the P4 slot,
# the P4 entries for "bwtwo" will attach to the overlay plane of the
# "cgfour".
bwtwo0	at sbus0 slot ? offset ?		# sun4c on-board
bwtwo*	at sbus? slot ? offset ?		# sun4c and sun4m
bwtwo0	at obio0 addr 0xfd000000 level 4	# sun4/200
bwtwo0	at obio0 addr 0xfb300000 level 4	# sun4/300 in P4 slot
bwtwo0	at obio0 addr 0x0b300000 level 4	# sun4/100 in P4 slot

# Sun "cgtwo" VME color framebuffer
cgtwo0	at vmes0 addr 0xff400000 level 4 vect 0xa8

# Sun "cgthree" Sbus color framebuffer
cgthree0 at sbus? slot ? offset ?
cgthree* at sbus? slot ? offset ?
#cgthree0 at obio? slot ? offset ?		# sun4m
#cgthree* at obio? slot ? offset ?		# sun4m

# Sun "cgfour" color framebuffer with overlay plane.  See above comment
# regarding overlay plane.
cgfour0	at obio0 addr 0xfb300000 level 4	# sun4/300 P4
cgfour0	at obio0 addr 0x0b300000 level 4	# sun4/100 P4

# Sun "cgsix" accelerated color framebuffer.
cgsix0	at sbus? slot ? offset ?
cgsix*	at sbus? slot ? offset ?
cgsix0	at obio0 addr 0xfb000000 level 4	# sun4/300 P4
cgsix0	at obio0 addr 0x0b000000 level 4	# sun4/100 P4

# Sun "cgeight" 24-bit framebuffer
cgeight0 at obio0 addr 0xfb300000 level 4	# sun4/300 P4
cgeight0 at obio0 addr 0x0b300000 level 4	# sun4/100 P4

# Sun "tcx" accelerated color framebuffer.
tcx0	at sbus? slot ? offset ?
tcx*	at sbus? slot ? offset ?

# Sun "cgfourteen" accelerated 24-bit framebuffer.
cgfourteen0	at obio0			# sun4m

# Weitek p9100 found on Tadpole 3GS/3GX
pnozz0	at sbus? slot ? offset ?
# Microcontroller found on Tadpole
tctrl0	at obio0

# SCSI bus layer.  SCSI devices attach to the SCSI bus, which attaches
# to the underlying hardware controller.
scsibus* at esp?
scsibus* at si?
scsibus* at sw?
scsibus* at isp?

# Map the SCSI disk at target 3 to unit 0, a'la SunOS.
sd0    at scsibus? target 3 lun ?

# These entries find devices on all SCSI busses and assign
# unit numers dynamically.
sd*	at scsibus? target ? lun ?		# SCSI disks
st*	at scsibus? target ? lun ?		# SCSI tapes
cd*	at scsibus? target ? lun ?		# SCSI CD-ROMs
ch*	at scsibus? target ? lun ?		# SCSI changer devices
ss*	at scsibus? target ? lun ?		# SCSI scanners
uk*	at scsibus? target ? lun ?		# unknown SCSI devices

# Floppy controller and drive found on SPARCstations.
fdc0	at mainbus0				# sun4c controller
fdc0	at obio0				# sun4m controller
fd*	at fdc0					# the drive itself

# flash memory, sysconfig regs, and VME for Force boards
#scf0	at mainbus0				# FORCE CPU-5V sysconfig
#flash0	at obio0				# FORCE CPU-5V flash-memory
#fga0	at iommu0				# FORCE CPU-5V VME/SBus bridge
#fvme*	at fga0					# FORCE CPU-5V
#daadio*	at fvme? addr 0x0 level 1 vect 0x1f	# Matrix MD-DAADIO board

pseudo-device	kbd		# Sun keyboard
#pseudo-device	strip	1	# radio clock
@


1.37
log
@no rd required in regular kernels
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.36 2001/06/27 05:46:26 art Exp $
@


1.37.4.1
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.37 2001/07/21 20:47:55 deraadt Exp $
@


1.36
log
@UVM is no longer an option.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.35 2001/05/10 10:34:40 art Exp $
a299 1
pseudo-device	rd 2
@


1.35
log
@UVM is no longer optional on sparc.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.34 2001/04/17 12:50:12 brad Exp $
a20 2

option		UVM		# use the UVM virtual memory system ; required
@


1.34
log
@sync maxusers with GENERIC.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.33 2001/03/08 03:37:19 itojun Exp $
d22 1
a22 1
option		UVM		# use the UVM virtual memory system
@


1.33
log
@move gif* and faith* into sys/conf/GENERIC.  deraadt and angelos ok
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.32 2000/01/22 10:01:57 deraadt Exp $
d29 1
a29 1
maxusers	16		# estimated number of users
@


1.32
log
@changes to GENERIC must be matched in GENERIC_SCSI3
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC,v 1.47 2000/01/09 22:00:24 itojun Exp $
a302 3
# for IPv6
pseudo-device	gif		4
#pseudo-device	faith		1
@


1.32.2.1
log
@Continue the aborted merge of current just before 2.9 was cut into the
SMP branch.  Note that this will not make any progress of SMP functionality,
it is just merging of new code from the trunk into the old branch.
Please do not ask me questions about SMP status because of this mail,
instead go read the archives of smp@@openbsd.org, where I mailed about
these commits some week ago.  Another note: I am doing this in chunks now,
so as to not lock too much of the tree for long times
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.34 2001/04/17 12:50:12 brad Exp $
d29 1
a29 1
maxusers	18		# estimated number of users
d303 3
@


1.32.2.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.32.2.1 2001/05/14 21:37:01 niklas Exp $
d21 2
@


1.32.2.3
log
@Sync the SMP branch to something just after 3.0
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.32.2.2 2001/07/04 10:23:13 niklas Exp $
d300 1
@


1.32.2.4
log
@Sync the SMP branch with 3.3
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.32.2.3 2001/10/31 03:07:56 nate Exp $
@


1.31
log
@Use UVM by default on sparc.
@
text
@d1 2
a2 2
#	$OpenBSD: GENERIC_SCSI3,v 1.30 1999/09/06 03:46:16 jason Exp $
# 	$NetBSD: GENERIC,v 1.28.2.1 1996/07/02 23:55:22 jtc Exp $
d9 1
d146 3
d266 2
a271 1
#scsibus* at isp?
d274 1
d277 1
a277 1
sd0	at scsibus? target 3 lun ?
d293 7
d303 3
a305 1

@


1.30
log
@p9100 console driver for tadpole 3g[sx] (based on cgthree.c and netbsd's
driver).  Needs clean-up.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.29 1999/06/06 04:48:24 jason Exp $
d20 2
@


1.29
log
@First cut at SUNW,CS4231 audio driver (ss4/ss5).  This driver is output-only
at the moment.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.28 1999/04/18 03:24:22 jason Exp $
d257 3
@


1.28
log
@Support for the Sun SBus Expansion Subsystem (SUNW,xbox)
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.27 1999/03/01 04:56:04 jason Exp $
d47 3
@


1.27
log
@led driver support for 4/[1236]00 machines
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.26 1999/02/16 21:30:21 art Exp $
d109 4
d174 1
a174 1
qec*	at sbus0 slot ? offset ?
@


1.26
log
@Start using new pipe code
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.25 1999/02/01 00:30:42 jason Exp $
d80 4
@


1.25
log
@driver for the 8 serial 1 parallel SUNW,spif board:
o heavily based on magma driver
o no support for the parallel port yet
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.24 1998/10/19 05:43:29 jason Exp $
a274 1
options		OLD_PIPE		# XXX nbpg botch
@


1.24
log
@qec+qe support & OpenBSD tags for everyone
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.23 1998/09/16 23:13:51 jason Exp $
d97 7
@


1.23
log
@Attempt to make clear the dependence of hme->phys and phys->hme
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.22 1998/09/10 17:34:30 jason Exp $
d157 5
@


1.22
log
@Modified to use mii layer for hme
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.21 1998/05/22 08:25:29 deraadt Exp $
d154 1
a154 2

# Media Independent Interface (mii) drivers
@


1.21
log
@magma in both these
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.20 1998/04/30 06:12:55 jason Exp $
d151 7
@


1.20
log
@Updated sparc audio
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.19 1998/02/26 10:50:18 johns Exp $
d92 5
@


1.19
log
@Backout of cpu init changes, breaks on sun4m currently..
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.17 1997/09/17 06:47:03 downsj Exp $
d46 1
@


1.18
log
@updated to reflect cpu initialization
@
text
@d33 1
@


1.17
log
@NETBSD_CURRENT_970916.  Lot's just ID changes, since changes don't apply to
us.  Includes some pmap changes, for which I don't have the original commit
message(s) handy.
@
text
@d1 1
a1 1
#	$OpenBSD: GENERIC_SCSI3,v 1.16 1997/08/08 08:47:11 downsj Exp $
a32 1
cpu0	at mainbus0
@


1.16
log
@Update GENERIC_SCSI3 from GENERIC and add tags.
@
text
@d1 1
a1 1
#	$OpenBSD$
d43 3
a45 3
audio0	at mainbus0				# sun4c
audio0	at obio0				# sun4m
audio0	at sbus0 slot ? offset ?		# sun4m
@


1.15
log
@Add appropiate `maxusers' everywhere it was lacking.
@
text
@d1 2
a2 1
# 	$NetBSD: GENERIC_SCSI3,v 1.28.2.1 1996/07/02 23:55:24 jtc Exp $
d45 1
d124 5
a128 3
# Additional SBus LANCE devices - glued on by lebuffer (not yet implemented)
#lebuffer*	at sbus0 slot ? offset ?		# sun4m SBus
#le*	at lebuffer?					#
d216 7
d226 1
d230 3
a234 2
# Map the SCSI disk at target 3 to unit 0, a'la SunOS.
sd0	at scsibus? target 3 lun ?
d239 2
@


1.14
log
@add rd support
@
text
@d25 2
@


1.13
log
@COMPAT_{SUNOS,SVR4}
@
text
@d232 1
a232 1

@


1.12
log
@OLD_PIPE for now; till NBPG botch is fixed in freebsd sys_pipe.c
@
text
@d22 2
@


1.11
log
@s/options/option/; kill pseudo-devs
@
text
@d230 3
@


1.10
log
@use /sys/conf/GENERIC
@
text
@d10 9
a18 9
options		SUN4		# sun4/100, sun4/200, sun4/300
options		SUN4C		# sun4c - SS1, 1+, 2, ELC, SLC, IPC, IPX, etc.
options		SUN4M		# sun4m - SS10, SS20, Classic, etc.

#options	MMU_3L		# 3-level MMU on sun4/400

#options	KGDB		# support for kernel gdb
#options	KGDBDEV=0xc01	# kgdb device number (dev_t)
#options	KGDBRATE=38400	# baud rate
d21 1
a21 1
options		RASTERCONSOLE	# fast rasterop console
a227 3
pseudo-device	loop		# loopback interface; required
pseudo-device	pty	32	# pseudo-ttys (for network, etc.)
pseudo-device	sl	2	# SLIP interfaces
a228 5
pseudo-device	ppp	2	# PPP interfaces
pseudo-device	tun	4	# Network "tunnel" device
pseudo-device	bpfilter 16	# Berkeley Packet Filter
pseudo-device	vnd	4	# disk-like interface to files
pseudo-device	ccd	4	# concatenated and striped disks
@


1.9
log
@netbsd port, now we merge our changes back in
@
text
@d6 2
a15 20
# obsolete timezone spec; optional
#options	TIMEZONE=0, DST=0

# Standard system options
options		SWAPPAGER	# swap and anonymous memory; required
options		VNODEPAGER	# mapped files; required
options		DEVPAGER	# mapped devices; required
options		KTRACE		# system call tracing
options		SYSVMSG		# System V message queues
options		SYSVSEM		# System V semaphores
options		SYSVSHM		# System V shared memory
#options	SHMMAXPGS=1024	# 1024 pages is the default
options		LKM		# loadable kernel modules
#options	INSECURE	# disable kernel security level
#options	UCONSOLE	# allow anyone to steal the virtual console

# Debugging options
#options	DDB		# kernel dynamic debugger
#options	DEBUG		# kernel debugging code
#options	DIAGNOSTIC	# extra kernel sanity checking
a19 32
# Compatibility options
options		COMPAT_43	# 4.3BSD system interfaces
options		COMPAT_10	# NetBSD 1.0 binary compatibility
options		COMPAT_11	# NetBSD 1.1 binary compatibility
options		COMPAT_SUNOS	# SunOS 4.x binary compatibility
options		COMPAT_SVR4	# SunOS 5.x binary compatibility

# Filesystem options
options		FFS		# Berkeley Fast Filesystem
options		QUOTA		# FFS quotas
options		NFSSERVER	# Sun NFS-compatible filesystem server
options		NFSCLIENT	# Sun NFS-compatible filesystem client
options		KERNFS		# kernel data-structure filesystem
options		NULLFS		# NULL layered filesystem
options		MFS		# memory-based filesystem
options		FDESC		# user file descriptor filesystem
options		UMAPFS		# uid/gid remapping filesystem
options		LFS		# Log-based filesystem (still experimental)
options		PORTAL		# portal filesystem (still experimental)
options		PROCFS		# /proc
options		CD9660		# ISO 9660 + Rock Ridge file system
options		UNION		# union file system
options		FIFO		# POSIX fifo support (in all filesystems)

# Networking options
options		INET		# IP stack
options		TCP_COMPAT_42	# compatibility with 4.2BSD TCP/IP
#options	GATEWAY		# IP packet forwarding
#options	ISO,TPIP	# OSI networking
#options	EON		# OSI tunneling over IP
#options	CCITT,LLC,HDLC	# X.25

d24 1
a24 1
config		netbsd	swap generic
@


1.8
log
@mi 5380 driver
@
text
@d1 1
a1 1
# 	$NetBSD: GENERIC,v 1.19 1995/10/08 11:45:39 pk Exp $
d3 1
a4 3
options		SUN4, SUN4C, SUN4M
#options		MMU_3L
#options	DDB,DEBUG,DIAGNOSTIC
d6 10
a15 2
# obsolete timezone spec
options		TIMEZONE=0, DST=0
d18 26
a43 8
options		SWAPPAGER, VNODEPAGER, DEVPAGER	# paging
#options	DEBUG, DIAGNOSTIC	# extra kernel debugging
options		KTRACE			# system call tracing support
#options	KGDB			# support for kernel gdb
#options	KGDBDEV=0xc01, KGDBRATE=38400	# device & baud rate
options		RASTERCONSOLE		# fast rasterop console
options		SYSVMSG,SYSVSEM,SYSVSHM
options		COMPAT_09, COMPAT_10
d46 4
a49 3
options		FFS
options		NFSSERVER	# Sun NFS-compatible filesystem
options		NFSCLIENT	# Sun NFS-compatible filesystem
d51 1
a51 2
options		FIFO		# POSIX fifo support (in all filesystems)
options		QUOTA		# fast filesystem with user and group quotas
a52 1
options		LOFS		# Loop-back filesystem
d60 1
d63 1
a63 1
options		INET
d66 3
a68 6
#options	ISO		# OSI networking
#options	TPIP
#options	EON
options		COMPAT_43

options		LKM
d71 1
a71 2
options		COMPAT_SUNOS		# compatibility with SunOS binaries
options		COMPAT_SVR4		# compatibility with SVR4 binaries
d73 2
a74 1
config		bsd	swap generic
d76 1
d80 91
a170 40
sbus0	at mainbus0
obio0	at mainbus0
vmes0	at mainbus0
vmel0	at mainbus0

audio0	at mainbus0
auxreg0	at mainbus0
clock0	at mainbus0
clock0	at obio0 addr 0xf2000000
oclock0	at obio0 addr 0xf3000000
oclock0	at obio0 addr 0x03000000		# 4/100
memreg0	at mainbus0
memreg0	at obio0 addr 0xf4000000
memreg0	at obio0 addr 0x04000000		# 4/100
timer0	at mainbus0
timer0	at obio0 addr 0xef000000
eeprom0	at obio0 addr 0xf2000000
eeprom0	at obio0 addr 0x02000000		# 4/100

zs0	at mainbus0
zs0	at obio0 addr 0xf1000000 level 12 flags 0x103
zs0	at obio0 addr 0x01000000 level 12 flags 0x103	# 4/100
zs1	at mainbus0
zs1	at obio0 addr 0xf0000000 level 12 flags 0x103
zs1	at obio0 addr 0x00000000 level 12 flags 0x103	# 4/100
zs2	at obio0 addr 0xe0000000 level 12 flags 0x103

# FSBE/S or sun4m
espdma0	at sbus0 slot ? offset ?
espdma*	at sbus0 slot ? offset ?
esp0	at espdma? slot ? offset ?
esp*	at espdma? slot ? offset ?

# old sun4c SCSI
dma0	at sbus0 slot ? offset ?
dma*	at sbus0 slot ? offset ?
dma0	at obio0 addr 0xfa001000 level 4
esp0	at sbus0 slot ? offset ?
esp*	at sbus0 slot ? offset ?
esp0	at obio0 addr 0xfa000000 level 4
d172 2
a173 2
# old sun4c
le0	at sbus? slot ? offset ?
a174 1
le0	at obio0 addr 0xf9000000 level 6
d176 7
a182 2
ie0	at obio0 addr 0xf6000000 level 6
ie0	at obio0 addr 0x06000000 level 6		# 4/100
d188 2
d196 2
d202 13
d216 6
a221 1
si1	at vmes0 addr 0xff204000 level 3 vect 0x41
d224 11
a234 4
bwtwo0	at sbus? slot ? offset ?
bwtwo*	at sbus? slot ? offset ?
bwtwo0	at obio0 addr 0xfd000000 level 4	# 4/260
bwtwo0	at obio0 addr 0xfb300000 level 4	# 4/{300/400} ??
d236 2
a237 1
#cgnine0 at vmel0 addr 0x08000000 level 4
d240 2
a241 2
cgsix0 at sbus? slot ? offset ?
cgsix* at sbus? slot ? offset ?
d243 14
a256 6
pfour0	at obio0 addr 0xfb000000
pfour0	at obio0 addr 0x0b000000                        # 4/100
bwtwo0	at pfour0
cgfour0	at pfour0
cgeight0 at pfour0
cgsix0	at pfour0
d258 2
d264 3
a266 3
# Map scsi-id 3 to sd0; no questions asked. Map the remaining drives
# in the default order. This is because SunOS's rom swaps scsi-id 3 to
# sd0, and scsi-id 0 to sd3.
d268 20
a287 15
sd*	at scsibus? target ? lun ?
st*	at scsibus? target ? lun ?
cd*	at scsibus? target ? lun ?

fdc0	at mainbus0
fd*	at fdc0

pseudo-device	loop
pseudo-device	pty	32
pseudo-device	sl	2
pseudo-device	kbd
pseudo-device	ppp	2
pseudo-device	tun	4
pseudo-device	vnd	3
pseudo-device	bpfilter 16
@


1.7
log
@add # declaration for vme cgnine card
@
text
@d121 3
a123 3
si0	at vmes0 addr 0xff200000 level 2 vect 0x40
si1	at vmes0 addr 0xff204000 level 2 vect 0x41
sw0	at obio0 addr 0x0a000000 level 2
@


1.6
log
@add si1
@
text
@d130 1
@


1.5
log
@+ bwtwo0 at pfour0
@
text
@d122 1
@


1.4
log
@kill MMU_3L until it works
@
text
@d136 1
@


1.3
log
@kernel name is /bsd
@
text
@d5 1
a5 1
options		MMU_3L
@


1.2
log
@updated but not completely tested
@
text
@d53 1
a53 1
config		netbsd	swap generic
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# 	$NetBSD: GENERIC_SCSI3,v 1.19 1995/10/08 11:45:40 pk Exp $
d4 2
a5 2
options		"SUN4", "SUN4C"
#options	MMU_3L
d19 1
a19 1
options		"COMPAT_09", "COMPAT_10"
d134 6
d144 1
a144 1
# Map scsi-id 3 to  sd0; no questions asked. Map the remaining drives
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@

