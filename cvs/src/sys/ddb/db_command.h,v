head	1.32;
access;
symbols
	OPENBSD_6_1:1.32.0.6
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.32.0.2
	OPENBSD_6_0_BASE:1.32
	OPENBSD_5_9:1.31.0.2
	OPENBSD_5_9_BASE:1.31
	OPENBSD_5_8:1.30.0.22
	OPENBSD_5_8_BASE:1.30
	OPENBSD_5_7:1.30.0.14
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.30.0.18
	OPENBSD_5_6_BASE:1.30
	OPENBSD_5_5:1.30.0.16
	OPENBSD_5_5_BASE:1.30
	OPENBSD_5_4:1.30.0.12
	OPENBSD_5_4_BASE:1.30
	OPENBSD_5_3:1.30.0.10
	OPENBSD_5_3_BASE:1.30
	OPENBSD_5_2:1.30.0.8
	OPENBSD_5_2_BASE:1.30
	OPENBSD_5_1_BASE:1.30
	OPENBSD_5_1:1.30.0.6
	OPENBSD_5_0:1.30.0.4
	OPENBSD_5_0_BASE:1.30
	OPENBSD_4_9:1.30.0.2
	OPENBSD_4_9_BASE:1.30
	OPENBSD_4_8:1.29.0.4
	OPENBSD_4_8_BASE:1.29
	OPENBSD_4_7:1.29.0.2
	OPENBSD_4_7_BASE:1.29
	OPENBSD_4_6:1.24.0.4
	OPENBSD_4_6_BASE:1.24
	OPENBSD_4_5:1.22.0.2
	OPENBSD_4_5_BASE:1.22
	OPENBSD_4_4:1.21.0.2
	OPENBSD_4_4_BASE:1.21
	OPENBSD_4_3:1.20.0.8
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.20.0.6
	OPENBSD_4_2_BASE:1.20
	OPENBSD_4_1:1.20.0.4
	OPENBSD_4_1_BASE:1.20
	OPENBSD_4_0:1.20.0.2
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.19.0.6
	OPENBSD_3_9_BASE:1.19
	OPENBSD_3_8:1.19.0.4
	OPENBSD_3_8_BASE:1.19
	OPENBSD_3_7:1.19.0.2
	OPENBSD_3_7_BASE:1.19
	OPENBSD_3_6:1.18.0.4
	OPENBSD_3_6_BASE:1.18
	SMP_SYNC_A:1.18
	SMP_SYNC_B:1.18
	OPENBSD_3_5:1.18.0.2
	OPENBSD_3_5_BASE:1.18
	OPENBSD_3_4:1.17.0.2
	OPENBSD_3_4_BASE:1.17
	UBC_SYNC_A:1.17
	OPENBSD_3_3:1.16.0.2
	OPENBSD_3_3_BASE:1.16
	OPENBSD_3_2:1.15.0.2
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.14.0.2
	OPENBSD_3_1_BASE:1.14
	UBC_SYNC_B:1.15
	UBC:1.11.0.6
	UBC_BASE:1.11
	OPENBSD_3_0:1.11.0.4
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_9:1.11.0.2
	OPENBSD_2_8:1.10.0.2
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.9.0.10
	OPENBSD_2_7_BASE:1.9
	SMP:1.9.0.8
	SMP_BASE:1.9
	kame_19991208:1.9
	OPENBSD_2_6:1.9.0.6
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.9.0.4
	OPENBSD_2_5_BASE:1.9
	OPENBSD_2_4:1.9.0.2
	OPENBSD_2_4_BASE:1.9
	OPENBSD_2_3:1.7.0.2
	OPENBSD_2_3_BASE:1.7
	OPENBSD_2_2:1.6.0.2
	OPENBSD_2_2_BASE:1.6
	OPENBSD_2_1:1.5.0.4
	OPENBSD_2_1_BASE:1.5
	OPENBSD_2_0:1.5.0.2
	OPENBSD_2_0_BASE:1.5
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@ * @;


1.32
date	2016.04.19.12.23.25;	author mpi;	state Exp;
branches;
next	1.31;
commitid	8RTokESmYJ4rQpkq;

1.31
date	2016.01.25.14.30.30;	author mpi;	state Exp;
branches;
next	1.30;
commitid	7AkssaZPPd7mA8h3;

1.30
date	2010.11.05.15.17.50;	author claudio;	state Exp;
branches;
next	1.29;

1.29
date	2009.08.17.13.11.58;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2009.08.14.21.16.13;	author thib;	state Exp;
branches;
next	1.27;

1.27
date	2009.08.13.13.49.20;	author thib;	state Exp;
branches;
next	1.26;

1.26
date	2009.08.09.23.04.49;	author miod;	state Exp;
branches;
next	1.25;

1.25
date	2009.08.08.15.04.43;	author beck;	state Exp;
branches;
next	1.24;

1.24
date	2009.06.17.01.30.30;	author thib;	state Exp;
branches;
next	1.23;

1.23
date	2009.06.03.22.09.30;	author thib;	state Exp;
branches;
next	1.22;

1.22
date	2009.01.18.13.36.56;	author thib;	state Exp;
branches;
next	1.21;

1.21
date	2008.03.23.12.31.58;	author miod;	state Exp;
branches;
next	1.20;

1.20
date	2006.07.11.21.17.58;	author mickey;	state Exp;
branches;
next	1.19;

1.19
date	2005.01.03.16.49.56;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2003.12.03.12.50.33;	author markus;	state Exp;
branches;
next	1.17;

1.17
date	2003.05.12.19.56.04;	author mickey;	state Exp;
branches;
next	1.16;

1.16
date	2003.02.12.14.41.07;	author jason;	state Exp;
branches;
next	1.15;

1.15
date	2002.05.18.09.49.17;	author art;	state Exp;
branches;
next	1.14;

1.14
date	2002.03.14.01.26.51;	author millert;	state Exp;
branches;
next	1.13;

1.13
date	2002.01.28.19.31.56;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2002.01.02.22.22.00;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2001.04.18.23.17.25;	author art;	state Exp;
branches
	1.11.6.1;
next	1.10;

1.10
date	2000.06.07.09.40.02;	author art;	state Exp;
branches;
next	1.9;

1.9
date	98.09.01.04.27.01;	author art;	state Exp;
branches
	1.9.8.1;
next	1.8;

1.8
date	98.08.30.15.38.26;	author art;	state Exp;
branches;
next	1.7;

1.7
date	98.02.25.19.53.48;	author weingart;	state Exp;
branches;
next	1.6;

1.6
date	97.09.08.19.46.38;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	96.05.31.10.37.24;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	96.04.21.22.18.58;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.03.11.11.16.03;	author mickey;	state Exp;
branches;
next	1.2;

1.2
date	96.02.20.13.35.34;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.52.27;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.52.27;	author deraadt;	state Exp;
branches;
next	;

1.9.8.1
date	2001.05.14.22.06.56;	author niklas;	state Exp;
branches;
next	1.9.8.2;

1.9.8.2
date	2001.07.04.10.40.07;	author niklas;	state Exp;
branches;
next	1.9.8.3;

1.9.8.3
date	2002.03.06.02.07.09;	author niklas;	state Exp;
branches;
next	1.9.8.4;

1.9.8.4
date	2002.03.28.11.43.03;	author niklas;	state Exp;
branches;
next	1.9.8.5;

1.9.8.5
date	2003.03.28.00.00.19;	author niklas;	state Exp;
branches;
next	1.9.8.6;

1.9.8.6
date	2003.05.16.00.29.41;	author niklas;	state Exp;
branches;
next	1.9.8.7;

1.9.8.7
date	2004.02.19.10.56.12;	author niklas;	state Exp;
branches;
next	;

1.11.6.1
date	2002.01.31.22.55.29;	author niklas;	state Exp;
branches;
next	1.11.6.2;

1.11.6.2
date	2002.06.11.03.28.48;	author art;	state Exp;
branches;
next	1.11.6.3;

1.11.6.3
date	2003.05.19.21.52.44;	author tedu;	state Exp;
branches;
next	;


desc
@@


1.32
log
@Do not expose private functions.
@
text
@/*	$OpenBSD: db_command.h,v 1.31 2016/01/25 14:30:30 mpi Exp $	*/
/*	$NetBSD: db_command.h,v 1.8 1996/02/05 01:56:55 christos Exp $	*/

/*
 * Mach Operating System
 * Copyright (c) 1993,1992,1991,1990 Carnegie Mellon University
 * All Rights Reserved.
 *
 * Permission to use, copy, modify and distribute this software and its
 * documentation is hereby granted, provided that both the copyright
 * notice and this permission notice appear in all copies of the
 * software, derivative works or modified versions, and any portions
 * thereof, and that both notices appear in supporting documentation.
 *
 * CARNEGIE MELLON ALLOWS FREE USE OF THIS SOFTWARE IN ITS "AS IS"
 * CONDITION.  CARNEGIE MELLON DISCLAIMS ANY LIABILITY OF ANY KIND FOR
 * ANY DAMAGES WHATSOEVER RESULTING FROM THE USE OF THIS SOFTWARE.
 *
 * Carnegie Mellon requests users of this software to return to
 *
 *  Software Distribution Coordinator  or  Software.Distribution@@CS.CMU.EDU
 *  School of Computer Science
 *  Carnegie Mellon University
 *  Pittsburgh PA 15213-3890
 *
 * any improvements or extensions that they make and grant Carnegie Mellon
 * the rights to redistribute these changes.
 *
 *	Author: David B. Golub, Carnegie Mellon University
 *	Date:	7/90
 */

/*
 * Command loop declarations.
 */
struct db_command;

void db_error(char *);
void db_skip_to_eol(void);
void db_command_loop(void);
void db_command(struct db_command **, struct db_command *);
void db_machine_commands_install(struct db_command *);

extern	db_addr_t db_dot, db_last_addr, db_prev, db_next;

/*
 * Command table
 */
struct db_command {
	char		*name;		/* command name */
	/* function to call */
	void		(*fcn)(db_expr_t, int, db_expr_t, char *);
	int		flag;		/* extra info: */
#define	CS_OWN		0x1		/* non-standard syntax */
#define	CS_MORE		0x2		/* standard syntax, but may have other
					   words at end */
#define	CS_SET_DOT	0x100		/* set dot after command */
	struct db_command *more;	/* another level of command */
};
@


1.31
log
@Kill trailing whitespaces.  No object change.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.30 2010/11/05 15:17:50 claudio Exp $	*/
d36 3
d40 1
a40 3
struct db_command;
int db_cmd_search(char *, struct db_command *, struct db_command **);
void db_cmd_list(struct db_command *);
a41 17
void db_buf_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_map_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_malloc_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_mbuf_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_mount_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_show_all_mounts(db_expr_t, int, db_expr_t, char *);
void db_show_all_vnodes(db_expr_t, int, db_expr_t, char *);
void db_show_all_bufs(db_expr_t, int, db_expr_t, char *);
void db_object_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_page_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_extent_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_pool_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_proc_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_uvmexp_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_vnode_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_nfsreq_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_nfsnode_print_cmd(db_expr_t, int, db_expr_t, char *);
a42 16
void db_help_cmd(db_expr_t, int, db_expr_t, char *);
void db_command_loop(void);
void db_error(char *);
void db_fncall(db_expr_t, int, db_expr_t, char *);
void db_boot_sync_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_crash_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_dump_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_halt_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_reboot_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_poweroff_cmd(db_expr_t, int, db_expr_t, char *);
void db_stack_trace_cmd(db_expr_t, int, db_expr_t, char *);
void db_dmesg_cmd(db_expr_t, int, db_expr_t, char *);
void db_show_panic_cmd(db_expr_t, int, db_expr_t, char *);
void db_bcstats_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_struct_offset_cmd(db_expr_t, int, db_expr_t, char *);
void db_struct_layout_cmd(db_expr_t, int, db_expr_t, char *);
@


1.30
log
@Implement m_print as real ddb command "show mbuf addr" in the way other
such commands are implemented.
"Ja! You'll need to update ddb.4 as well, of course." miod@@
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.29 2009/08/17 13:11:58 jasper Exp $	*/
d4 1
a4 1
/* 
d8 1
a8 1
 * 
d14 1
a14 1
 * 
d18 1
a18 1
 * 
d20 1
a20 1
 * 
d25 1
a25 1
 * 
@


1.29
log
@dd 'show all bufs' to show all the buffers in the system

ok beck@@ thib@@
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.28 2009/08/14 21:16:13 thib Exp $	*/
d44 1
@


1.28
log
@add ddb functions to be able to show all the nfsnodes in the system
and rewrite the nfsreq code to use pool_walk().

OK beck@@, blambert@@
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.25 2009/08/08 15:04:43 beck Exp $	*/
d47 1
@


1.27
log
@add a show all vnodes command, use dlg's nice pool_walk() to accomplish
this.

ok beck@@, dlg@@
@
text
@d55 1
@


1.26
log
@Introduce option DDB_STRUCT. Kernels compiled with this option (except on
a few arches where toolchain limitations apply) will embed some symbolic
information about the various structs used within the kernel, and have
new ddb commands allowing struct display and some useful information
gathering. Kernel rodata increase varies accross platforms from ~150KB to
~300KB.
This option is not enabled by default.
@
text
@d46 1
@


1.25
log
@two things:
1) fix buffer cache low water mark to allow for extremely low memory machines
without dying
2) Add "show bcstats" to ddb to allow for looking at the buffer cache statistics in ddb

ok art@@ oga@@
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.23 2009/06/03 22:09:30 thib Exp $	*/
d69 2
@


1.24
log
@Revert bufq's. this is inline with the major midlayer reverts that
have been going on. this appears to bring us back to stable state.

lots of testing by oga and ariane and my self.
@
text
@d68 1
@


1.23
log
@add a flexible buffer queue (bufq) api, based on the never used
one by tedu@@. It doesn't do anything smart yet, it just uses
plain old disksort. we also keep the old method of queueing bufs
since some miods have crazy MD drivers that need some love.

ok beck@@, art@@
tested by many on many archs.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.21 2008/03/23 12:31:58 miod Exp $	*/
a41 1
void db_bufq_print_cmd(db_expr_t, int, db_expr_t, char *);
@


1.22
log
@Add nfs ddb hooks, for now only to show all the outstanding nfsreq's
and to print out struct nfsreq.

"get it in so people can pound on it" blambert@@
OK and information_s_ on the manpage from miod@@
@
text
@d42 1
@


1.21
log
@show all mounts command for ddb. From mickey a long time ago.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.20 2006/07/11 21:17:58 mickey Exp $	*/
d53 1
@


1.20
log
@add mount/vnode/buf and softdep printing commands; tested on a few archs and will make pedro happy too (;
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.19 2005/01/03 16:49:56 miod Exp $	*/
d45 1
@


1.19
log
@Add "show panic" command to ddb, to easily retrieve the panic message.
Will hopefully bring us better panic reports.

From Joris Vink.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.18 2003/12/03 12:50:33 markus Exp $	*/
d41 1
d44 1
d51 1
@


1.18
log
@add dmesg command; ok deraadt, mcbride, henning and more
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.17 2003/05/12 19:56:04 mickey Exp $	*/
d62 1
@


1.17
log
@sho proc [addr] to print some proc's field; art@@ ok
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.16 2003/02/12 14:41:07 jason Exp $	*/
d61 1
@


1.16
log
@Remove commons; inspired by netbsd.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.15 2002/05/18 09:49:17 art Exp $	*/
d47 1
@


1.15
log
@Rename the MD db_stack_trace_cmd to db_stack_trace_print. Add an argument
that specifies which printf funciton it should use. Implement
db_stack_trace_cmd in MI code.

Thanks to miod@@ for all the tests.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.14 2002/03/14 01:26:51 millert Exp $	*/
d61 1
a61 6
db_addr_t	db_dot;		/* current location */
db_addr_t	db_last_addr;	/* last explicit address typed */
db_addr_t	db_prev;	/* last address examined
				   or written */
db_addr_t	db_next;	/* next address to be examined
				   or written */
@


1.14
log
@First round of __P removal in sys
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.13 2002/01/28 19:31:56 miod Exp $	*/
d59 1
@


1.13
log
@Add "boot reboot" to please jason@@ and "boot poweroff" to please drahn@@.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.12 2002/01/02 22:22:00 miod Exp $	*/
d36 1
a36 1
void db_skip_to_eol __P((void));
d38 21
a58 21
int db_cmd_search __P((char *, struct db_command *, struct db_command **));
void db_cmd_list __P((struct db_command *));
void db_command __P((struct db_command **, struct db_command *));
void db_map_print_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_malloc_print_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_object_print_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_page_print_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_extent_print_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_pool_print_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_uvmexp_print_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_machine_commands_install __P((struct db_command *));
void db_help_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_command_loop __P((void));
void db_error __P((char *));
void db_fncall __P((db_expr_t, int, db_expr_t, char *));
void db_boot_sync_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_boot_crash_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_boot_dump_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_boot_halt_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_boot_reboot_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_boot_poweroff_cmd __P((db_expr_t, int, db_expr_t, char *));
d73 1
a73 1
	void		(*fcn) __P((db_expr_t, int, db_expr_t, char *));
@


1.12
log
@Add more vocabulary (commands) to ddb, from NetBSD.
ok art@@
(manual page update coming soon)
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.11 2001/04/18 23:17:25 art Exp $	*/
d57 2
@


1.11
log
@New boot command: boot halt.
Don't sync, don't dump, just halt.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.10 2000/06/07 09:40:02 art Exp $	*/
d44 1
d46 2
@


1.11.6.1
log
@Merge in -current, builds on i386, otherwise untested
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.13 2002/01/28 19:31:56 miod Exp $	*/
a43 1
void db_page_print_cmd __P((db_expr_t, int, db_expr_t, char *));
a44 2
void db_pool_print_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_uvmexp_print_cmd __P((db_expr_t, int, db_expr_t, char *));
a53 2
void db_boot_reboot_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_boot_poweroff_cmd __P((db_expr_t, int, db_expr_t, char *));
@


1.11.6.2
log
@Sync UBC branch to -current
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.11.6.1 2002/01/31 22:55:29 niklas Exp $	*/
d36 1
a36 1
void db_skip_to_eol(void);
d38 21
a58 22
int db_cmd_search(char *, struct db_command *, struct db_command **);
void db_cmd_list(struct db_command *);
void db_command(struct db_command **, struct db_command *);
void db_map_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_malloc_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_object_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_page_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_extent_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_pool_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_uvmexp_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_machine_commands_install(struct db_command *);
void db_help_cmd(db_expr_t, int, db_expr_t, char *);
void db_command_loop(void);
void db_error(char *);
void db_fncall(db_expr_t, int, db_expr_t, char *);
void db_boot_sync_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_crash_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_dump_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_halt_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_reboot_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_poweroff_cmd(db_expr_t, int, db_expr_t, char *);
void db_stack_trace_cmd(db_expr_t, int, db_expr_t, char *);
d73 1
a73 1
	void		(*fcn)(db_expr_t, int, db_expr_t, char *);
@


1.11.6.3
log
@sync
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
a46 1
void db_proc_print_cmd(db_expr_t, int, db_expr_t, char *);
d61 6
a66 1
extern	db_addr_t db_dot, db_last_addr, db_prev, db_next;
@


1.10
log
@Add 'show malloc' that prints out malloc debugging information if available.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.9 1998/09/01 04:27:01 art Exp $	*/
d53 1
@


1.9
log
@the sync command does not work, back it out
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.7 1998/02/25 19:53:48 weingart Exp $	*/
d42 1
@


1.9.8.1
log
@merge in approximately 2.9 into SMP branch
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.10 2000/06/07 09:40:02 art Exp $	*/
a41 1
void db_malloc_print_cmd __P((db_expr_t, int, db_expr_t, char *));
@


1.9.8.2
log
@Merge in -current from two days ago in the SMP branch.
As usual with merges, they do not indicate progress, so do not hold
your breath for working SMP, and do not mail me and ask about the
state of it.  It has not changed.  There is work ongoing, but very, very
slowly.  The commit is done in parts as to not lock up the tree in too
big chunks at a time.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.9.8.1 2001/05/14 22:06:56 niklas Exp $	*/
a52 1
void db_boot_halt_cmd __P((db_expr_t, int, db_expr_t, char *));
@


1.9.8.3
log
@Merge in trunk
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
a43 1
void db_page_print_cmd __P((db_expr_t, int, db_expr_t, char *));
a44 2
void db_pool_print_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_uvmexp_print_cmd __P((db_expr_t, int, db_expr_t, char *));
a53 2
void db_boot_reboot_cmd __P((db_expr_t, int, db_expr_t, char *));
void db_boot_poweroff_cmd __P((db_expr_t, int, db_expr_t, char *));
@


1.9.8.4
log
@Merge in -current from about a week ago
@
text
@d36 1
a36 1
void db_skip_to_eol(void);
d38 21
a58 21
int db_cmd_search(char *, struct db_command *, struct db_command **);
void db_cmd_list(struct db_command *);
void db_command(struct db_command **, struct db_command *);
void db_map_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_malloc_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_object_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_page_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_extent_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_pool_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_uvmexp_print_cmd(db_expr_t, int, db_expr_t, char *);
void db_machine_commands_install(struct db_command *);
void db_help_cmd(db_expr_t, int, db_expr_t, char *);
void db_command_loop(void);
void db_error(char *);
void db_fncall(db_expr_t, int, db_expr_t, char *);
void db_boot_sync_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_crash_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_dump_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_halt_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_reboot_cmd(db_expr_t, int, db_expr_t, char *);
void db_boot_poweroff_cmd(db_expr_t, int, db_expr_t, char *);
d73 1
a73 1
	void		(*fcn)(db_expr_t, int, db_expr_t, char *);
@


1.9.8.5
log
@Sync the SMP branch with 3.3
@
text
@a58 1
void db_stack_trace_cmd(db_expr_t, int, db_expr_t, char *);
d60 6
a65 1
extern	db_addr_t db_dot, db_last_addr, db_prev, db_next;
@


1.9.8.6
log
@merge the trunk so we will get the genfs and locking fixes
@
text
@a46 1
void db_proc_print_cmd(db_expr_t, int, db_expr_t, char *);
@


1.9.8.7
log
@Merge of current from two weeks agointo the SMP branch
@
text
@a60 1
void db_dmesg_cmd(db_expr_t, int, db_expr_t, char *);
@


1.8
log
@add a sync command that does not reboot
@
text
@a51 1
void db_sync_cmd __P((db_expr_t, int, db_expr_t, char *));
@


1.7
log
@Add command to print out extents.  This helps in debugging PnP stuff,
and "it's just plain cool".
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.6 1997/09/08 19:46:38 deraadt Exp $	*/
d52 1
@


1.6
log
@put 'help' in front of 'hangman'
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.5 1996/05/31 10:37:24 niklas Exp $	*/
d43 1
@


1.5
log
@-Wall and -Wstrict-prototypes cleanup
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.4 1996/04/21 22:18:58 deraadt Exp $	*/
d44 1
a44 1
void db_help_cmd __P((void));
@


1.4
log
@partial sync with netbsd 960418, more to come
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.3 1996/03/11 11:16:03 mickey Exp $	*/
d48 3
@


1.3
log
@Debbuger changed towards the latest Mach.
Some minor changes for Linux ;) emulation.
Small bug fixes from NetBSD.
@
text
@d1 2
a2 1
/*	$OpenBSD: db_command.h,v 1.2 1996/02/20 13:35:34 mickey Exp $	*/
@


1.2
log
@netbsd-current import & 'boot' cmd addition.
@
text
@d1 1
a1 1
/*	$OpenBSD: db_command.h,v 1.8 1996/02/05 01:56:55 christos Exp $	*/
d5 1
a5 1
 * Copyright (c) 1991,1990 Carnegie Mellon University
d14 1
a14 1
 * CARNEGIE MELLON ALLOWS FREE USE OF THIS SOFTWARE IN ITS 
d25 2
a26 2
 * any improvements or extensions that they make and grant Carnegie the
 * rights to redistribute these changes.
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
/*	$NetBSD: db_command.h,v 1.7 1994/10/09 08:30:00 mycroft Exp $	*/
d35 9
d45 2
a46 3
void db_skip_to_eol __P((void));

void db_error __P((char *));	/* report error */
d60 2
a61 1
	void		(*fcn)();	/* function to call */
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@

