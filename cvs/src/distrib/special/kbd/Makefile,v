head	1.20;
access;
symbols
	OPENBSD_6_1:1.20.0.4
	OPENBSD_6_1_BASE:1.20
	OPENBSD_6_0:1.19.0.4
	OPENBSD_6_0_BASE:1.19
	OPENBSD_5_9:1.19.0.2
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.18.0.8
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.18.0.2
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.18.0.4
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.17.0.6
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.4
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.17.0.2
	OPENBSD_5_3_BASE:1.17
	OPENBSD_5_2:1.16.0.12
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.10
	OPENBSD_5_0:1.16.0.8
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.16.0.6
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.16.0.4
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.16.0.2
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.14.0.8
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.4
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.14.0.2
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.13.0.8
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.6
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.13.0.4
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.13.0.2
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.12.0.2
	OPENBSD_3_9_BASE:1.12
	OPENBSD_3_8:1.11.0.2
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.10.0.4
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.10.0.2
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.8.0.2
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.4.0.4
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.2
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.1.0.2
	OPENBSD_3_1_BASE:1.1;
locks; strict;
comment	@# @;


1.20
date	2016.09.27.22.03.49;	author deraadt;	state Exp;
branches;
next	1.19;
commitid	IXkv3kGA2BxL1UHh;

1.19
date	2015.12.01.07.50.07;	author deraadt;	state Exp;
branches;
next	1.18;
commitid	Rh8AZFtVMVCiwPts;

1.18
date	2014.03.18.22.36.29;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2013.01.08.17.41.31;	author shadchin;	state Exp;
branches;
next	1.16;

1.16
date	2009.10.28.07.36.49;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	2009.10.11.12.19.49;	author maja;	state Exp;
branches;
next	1.14;

1.14
date	2008.05.13.21.29.32;	author miod;	state Exp;
branches;
next	1.13;

1.13
date	2006.05.09.21.17.13;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2006.01.04.20.40.00;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2005.05.09.20.23.42;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2004.08.06.22.40.12;	author pefo;	state Exp;
branches;
next	1.9;

1.9
date	2004.05.03.15.18.19;	author drahn;	state Exp;
branches;
next	1.8;

1.8
date	2004.02.27.17.36.14;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2004.02.07.21.07.16;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2004.02.07.21.04.15;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2004.02.07.20.57.58;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2002.11.23.23.53.22;	author miod;	state Exp;
branches;
next	1.3;

1.3
date	2002.08.12.10.46.52;	author miod;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.20.00.27.54;	author miod;	state Exp;
branches;
next	1.1;

1.1
date	2002.04.12.02.15.31;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.20
log
@remove more kvm code
@
text
@#	$OpenBSD: Makefile,v 1.19 2015/12/01 07:50:07 deraadt Exp $

PROG=	kbd

SRCS=	main.c kbd_wscons.c
.PATH:  ${.CURDIR}/../../../sbin/kbd

.include <bsd.prog.mk>
@


1.19
log
@Send Aviion to same place as Nova II
discussed with jsg
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.18 2014/03/18 22:36:29 miod Exp $
a5 1
CFLAGS+=-DNOKVM
@


1.18
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2013/01/08 17:41:31 shadchin Exp $
a2 1
.if ${MACHINE} != "aviion"
a7 3
.else
NOPROG=	Yes
.endif
@


1.17
log
@Remove unnecessary dependencies (-lkvm)
ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 2009/10/28 07:36:49 deraadt Exp $
d3 1
a3 2
.if ${MACHINE} != "aviion" && ${MACHINE} != "mvme68k" && \
    ${MACHINE} != "mvme88k"
@


1.16
log
@Use a Makefile.inc to share all the -Os and such options we use
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 2009/10/11 12:19:49 maja Exp $
a9 4

LDADD=	-lkvm
DPADD=	${LIBKVM}

@


1.15
log
@Enable kbd on landisk and socppc. -moj ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2008/05/13 21:29:32 miod Exp $
a5 1
COPTS+=	-Os
a16 2

MAN=
@


1.14
log
@Disable more wscons bits on socppc.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2006/05/09 21:17:13 miod Exp $
d3 2
a4 3
.if ${MACHINE} != "aviion" && ${MACHINE} != "landisk" && \
    ${MACHINE} != "mvme68k" && ${MACHINE} != "mvme88k" && \
    ${MACHINE} != "socppc"
@


1.13
log
@Administrative changes for aviion, ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2006/01/04 20:40:00 miod Exp $
d3 3
a5 2
.if ${MACHINE} != "aviion" && ${MACHINE} != "mvme68k" && \
    ${MACHINE} != "mvme88k"
@


1.12
log
@mac68k here too now
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2005/05/09 20:23:42 miod Exp $
d3 2
a4 1
.if ${MACHINE} != "mvme68k" && ${MACHINE} != "mvme88k"
@


1.11
log
@Sync architectures list with /sbin/kbd; prompted by martin@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2004/08/06 22:40:12 pefo Exp $
d3 1
a3 2
.if ${MACHINE} != "mac68k" && ${MACHINE} != "mvme68k" && \
    ${MACHINE} != "mvme88k"
@


1.10
log
@add sgi
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2004/05/03 15:18:19 drahn Exp $
d3 2
a4 5
.if (${MACHINE} == "alpha") || (${MACHINE} == "hppa") || \
    (${MACHINE} == "i386") || (${MACHINE} == "macppc") || \
    (${MACHINE} == "sparc") || (${MACHINE} == "sparc64") || \
    (${MACHINE} == "vax") || (${MACHINE} == "amd64") || \
    (${MACHINE} == "sgi") || (${MACHINE} == "cats")
@


1.9
log
@Remove OpenBSD/pegaos, this has been announced before but delayed until
the tree was stable. No point in code supporting a company which screws
its employees being in the OpenBSD tree.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2004/02/07 21:07:16 deraadt Exp $
d7 1
a7 1
    (${MACHINE} == "cats")
@


1.8
log
@change amd64's MACHINE_ARCH from x86_64 to amd64.  There are many many
reasons for this, quite a few of them technical, and not all of them
in response to Intel's broken ia32e crud.  The gcc toolchain stays at
x86_64 for now.
@
text
@d7 1
a7 1
    (${MACHINE} == "cats") || (${MACHINE} == "pegasos")
@


1.7
log
@pegasos gets kbd too, bad dale
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2004/02/07 21:04:15 deraadt Exp $
d6 1
a6 1
    (${MACHINE} == "vax") || (${MACHINE_ARCH} == "x86_64") || \
@


1.6
log
@and cats too, says miod
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2004/02/07 20:57:58 deraadt Exp $
d7 1
a7 1
    (${MACHINE} == "cats")
@


1.5
log
@kbd needed for amd64
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2002/11/23 23:53:22 miod Exp $
d6 2
a7 1
    (${MACHINE} == "vax") || (${MACHINE_ARCH} == "x86_64")
@


1.4
log
@Sync with sbin/kbd/Makefile
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2002/08/12 10:46:52 miod Exp $
d6 1
a6 1
    (${MACHINE} == "vax")
@


1.3
log
@Enable wscons code on sparc, and let kbd_sparc.c die
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2002/04/20 00:27:54 miod Exp $
d11 1
a11 1
CFLAGS+=-DNOKVM -I${.CURDIR}/../../../sbin/kbd
@


1.2
log
@Sync with sbin/kbd/Makefile
[sorry for breaking the tree on non-sparc non-wscons arches]
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2002/04/19 00:05:20 miod Exp $
d10 1
a10 1
SRCS=	main.c
a13 4
.if (${MACHINE} == "sparc")
SRCS+=	kbd_sparc.c
.else
SRCS+=	kbd_wscons.c
a15 1
.endif
@


1.1
log
@kbd setting code for the installer.  smat@@acm.org, miod, and krw.  Minimal
last minute tweaks to it by me, but you can trust me, right?
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2002/02/19 01:49:57 maja Exp $
d3 4
a7 1
MAN=
d9 2
d14 7
a20 1
SRCS=	main.c
a21 8
.if (${MACHINE} == "arc")
SRCS+=	kbd_i386.c
.elif (${MACHINE} == "i386") || (${MACHINE} == "macppc")  || \
      (${MACHINE} == "vax") || (${MACHINE} == "alpha") || \
      (${MACHINE} == "sparc64")
SRCS+=	kbd_wscons.c
.elif (${MACHINE} == "sparc")
SRCS+=	kbd_sparc.c
d23 1
a23 1
SRCS+=	kbd_void.c
d25 2
@

