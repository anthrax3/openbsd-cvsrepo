head	1.16;
access;
symbols
	OPENBSD_6_2:1.16.0.4
	OPENBSD_6_2_BASE:1.16
	OPENBSD_6_1:1.15.0.4
	OPENBSD_6_1_BASE:1.15
	OPENBSD_6_0:1.14.0.8
	OPENBSD_6_0_BASE:1.14
	OPENBSD_5_9:1.14.0.4
	OPENBSD_5_9_BASE:1.14
	OPENBSD_5_8:1.14.0.6
	OPENBSD_5_8_BASE:1.14
	OPENBSD_5_7:1.14.0.2
	OPENBSD_5_7_BASE:1.14
	OPENBSD_5_6:1.13.0.10
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.6
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.4
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.10.0.12
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.10
	OPENBSD_5_0:1.10.0.8
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.10.0.6
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.10.0.4
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.2
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.9.0.20
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.16
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.14
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.12
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.9.0.10
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.9.0.8
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.6
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.4
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.2
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.7.0.4
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.7.0.2
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.5.0.12
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.5.0.10
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.5.0.8
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.5.0.6
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.5.0.4
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9:1.3.0.6
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.2.0.2
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.1.0.4
	OPENBSD_2_5_BASE:1.1
	OPENBSD_2_4:1.1.0.2
	OPENBSD_2_4_BASE:1.1;
locks; strict;
comment	@# @;


1.16
date	2017.07.08.20.40.42;	author krw;	state Exp;
branches;
next	1.15;
commitid	m8NWlCmhV7lLD66o;

1.15
date	2017.02.12.13.15.50;	author krw;	state Exp;
branches;
next	1.14;
commitid	IDlzr3qamZK5lxzj;

1.14
date	2014.11.01.20.56.29;	author deraadt;	state Exp;
branches;
next	1.13;
commitid	95dX5GPYBBEJKcnn;

1.13
date	2012.11.23.15.25.47;	author krw;	state Exp;
branches;
next	1.12;

1.12
date	2012.11.09.18.51.56;	author krw;	state Exp;
branches;
next	1.11;

1.11
date	2012.10.30.18.39.44;	author krw;	state Exp;
branches;
next	1.10;

1.10
date	2009.10.28.07.36.49;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2005.07.18.02.33.50;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2005.07.11.19.18.39;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2004.05.04.13.10.11;	author henning;	state Exp;
branches;
next	1.6;

1.6
date	2004.04.05.13.37.56;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2001.07.30.11.25.14;	author hugh;	state Exp;
branches;
next	1.4;

1.4
date	2001.06.25.07.40.45;	author art;	state Exp;
branches;
next	1.3;

1.3
date	2000.03.01.22.10.09;	author todd;	state Exp;
branches;
next	1.2;

1.2
date	99.06.17.20.42.29;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	98.09.15.21.43.05;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.16
log
@Unhook tables.c from Makefile.
@
text
@#	$OpenBSD: Makefile,v 1.15 2017/02/12 13:15:50 krw Exp $

.include <bsd.own.mk>

.PATH:	${.CURDIR}/../../../sbin/dhclient

CLIENT_PATH='"PATH=/usr/bin:/usr/sbin:/bin:/sbin"'
CPPFLAGS+= -I${.CURDIR}/../../../sbin/dhclient
SRCS=	dhclient.c clparse.c dispatch.c bpf.c options.c \
	conflex.c log.c kroute.c packet.c \
	parse.c privsep.c
PROG=	dhclient
LDADD+=	-lutil
DPADD+= ${LIBUTIL}

.include <bsd.prog.mk>
.include <bsd.subdir.mk>
@


1.15
log
@Switch from 'legacy' errwarn.c to standard daemon logging functions.

No objections heard. Feedback from millert@@ guenther@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2014/11/01 20:56:29 deraadt Exp $
d11 1
a11 1
	tables.c parse.c privsep.c
@


1.14
log
@cope with removed file
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2012/11/23 15:25:47 krw Exp $
d10 1
a10 1
	conflex.c errwarn.c kroute.c packet.c \
@


1.13
log
@Use the libutil imsg framework rather than a hand-rolled local
version. This is the last hand-rolled imsg implementation I could
spot. Doesn't seem to break sparc64.

Suggested by chris@@, tweaks from brad@@ and reyk@@.

ok reyk@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2012/11/09 18:51:56 krw Exp $
d10 1
a10 1
	conflex.c errwarn.c kroute.c packet.c convert.c \
@


1.12
log
@Oops. Special dhclient also needs to forget about inet.c.

Spotted by naddy@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2012/10/30 18:39:44 krw Exp $
d13 2
@


1.11
log
@Nuke dhclient-script and dhclient.conf 'script' directive. Do all
interface and route configuration via ioctl's and routing sockets.

This will break configurations using local enhancements of
dhclient-script, which will now require alternate arrangements.

Committing early to allow time to identify and develop required
alternatives.

Several proddings by deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2009/10/28 07:36:49 deraadt Exp $
d10 1
a10 1
	conflex.c errwarn.c inet.c kroute.c packet.c convert.c \
@


1.10
log
@Use a Makefile.inc to share all the -Os and such options we use
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2005/07/18 02:33:50 deraadt Exp $
d10 2
a11 2
	conflex.c errwarn.c inet.c packet.c convert.c tables.c parse.c \
	privsep.c
@


1.9
log
@two files deleted and krw did not notice
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2005/07/11 19:18:39 deraadt Exp $
a6 1
COPTS+=-Os
a12 3
MAN=

LDSTATIC?=      -static
@


1.8
log
@hash.c no longer used
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2004/05/04 13:10:11 henning Exp $
d10 2
a11 2
SRCS=	dhclient.c clparse.c alloc.c dispatch.c bpf.c options.c \
	tree.c conflex.c errwarn.c inet.c packet.c convert.c tables.c parse.c \
@


1.7
log
@adjust, need privsep.c here too
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2004/04/05 13:37:56 deraadt Exp $
d10 1
a10 1
SRCS=	dhclient.c clparse.c alloc.c dispatch.c hash.c bpf.c options.c \
@


1.6
log
@move to our new dhclient
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2001/07/30 11:25:14 hugh Exp $
d11 2
a12 1
	tree.c conflex.c errwarn.c inet.c packet.c convert.c tables.c parse.c
@


1.5
log
@minor reorder to make vax ld happy
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2001/06/25 07:40:45 art Exp $
d5 1
a5 2
.PATH:	${.CURDIR}/../../../usr.sbin/dhcp/dhclient
.PATH:  ${.CURDIR}/../../../usr.sbin/dhcp/common
d9 3
a11 7
CPPFLAGS+= -I${.CURDIR}/../../../usr.sbin/dhcp \
	-I${.CURDIR}/../../../usr.sbin/dhcp/includes \
	-DCLIENT_PATH=${CLIENT_PATH}
SRCS=	dhclient.c clparse.c \
	alloc.c dispatch.c hash.c memory.c print.c bpf.c icmp.c options.c \
	tree.c conflex.c errwarn.c inet.c packet.c socket.c convert.c \
	ethernet.c tables.c parse.c
@


1.4
log
@Fix dhclient build.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2000/03/01 22:10:09 todd Exp $
d16 1
a16 1
	ethernet.c parse.c tables.c
@


1.3
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD$
d9 4
a12 1
CPPFLAGS+= -I${.CURDIR}/../../../usr.sbin/dhcp -I${.CURDIR}/../../../usr.sbin/dhcp/includes
d14 3
a16 3
        raw.c parse.c nit.c icmp.c dispatch.c conflex.c upf.c bpf.c socket.c \
        packet.c memory.c print.c options.c inet.c convert.c sysconf.c \
        tree.c tables.c hash.c alloc.c errwarn.c inet_addr.c dns.c resolv.c
@


1.2
log
@use -Os for all of these
@
text
@d1 2
@


1.1
log
@dhclient for the install floppy
@
text
@d6 1
@

