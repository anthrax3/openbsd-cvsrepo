head	1.3;
access;
symbols
	OPENBSD_6_0:1.1.0.10
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.6
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.8
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2016.11.08.19.33.58;	author tb;	state Exp;
branches;
next	1.2;
commitid	Yoz1BvwjdFeCs7k8;

1.2
date	2016.09.25.17.32.22;	author natano;	state Exp;
branches;
next	1.1;
commitid	J0D271TtRBfCTIQ3;

1.1
date	2014.07.09.19.23.28;	author espie;	state Exp;
branches;
next	;
commitid	7cDYL9MDx0DC1oMf;


desc
@@


1.3
log
@Set permissions of src.db and mandoc.db explicitly to 644 so
they don't depend on the umask during make build.

ok deraadt
@
text
@# $OpenBSD: Makefile,v 1.2 2016/09/25 17:32:22 natano Exp $

DB = /usr/lib/locate/src.db

makedb:
	/bin/sh ${.CURDIR}/makelocatedb ${OSrev} >${DESTDIR}${DB}
	chown ${BINOWN}:${BINGRP} ${DESTDIR}${DB}
	chmod 644 ${DESTDIR}${DB}

.PHONY: makedb

.include <bsd.own.mk>
@


1.2
log
@Fix /usr/lib/locate/src.db owner for noperm release builds.
ok millert tb
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2014/07/09 19:23:28 espie Exp $
d8 1
@


1.1
log
@do locatedb as part of the build process
"works for me" deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
d10 2
@

