head	1.11;
access;
symbols
	OPENBSD_5_6:1.10.0.18
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.10.0.14
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.10.0.12
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.10.0.10
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.8
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.6
	OPENBSD_5_0:1.10.0.4
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.9.0.30
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.26
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.9.0.28
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.24
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.22
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.20
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.9.0.18
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.9.0.16
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.14
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.12
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.10
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.8
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.9.0.6
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.9.0.4
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.6.0.6
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.4
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.6.0.2
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.5.0.8
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9:1.5.0.6
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_8:1.5.0.4
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.5.0.2
	OPENBSD_2_7_BASE:1.5
	OPENBSD_2_6:1.4.0.4
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.3.0.8
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.6
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.4
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.11
date	2014.08.26.20.19.26;	author rpe;	state dead;
branches;
next	1.10;
commitid	2uCZGoLImpFRV5IL;

1.10
date	2010.10.18.04.11.15;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2003.07.02.02.08.02;	author avsm;	state Exp;
branches;
next	1.8;

1.8
date	2003.06.02.04.04.32;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2003.03.28.01.14.56;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2001.12.25.01.30.22;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.01.22.10.08;	author todd;	state Exp;
branches;
next	1.4;

1.4
date	98.12.19.18.32.31;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.11.05.03.16.36;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.10.24.13.20.40;	author briggs;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.37.44;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.37.44;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Create etc set during 'make build' and embed it in base set to make
it available during a regular install or upgrade so that it doesn't
need to be independently fetched.

Idea, directions and OK deraadt@@
Feedback and Ok halex@@ and aja@@
@
text
@#!/bin/sh
#	$OpenBSD: makeflist,v 1.10 2010/10/18 04:11:15 deraadt Exp $
#
# Copyright (c) 2001 Theo de Raadt
# All rights reserved.
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions
# are met:
# 1. Redistributions of source code must retain the above copyright
#    notice, this list of conditions and the following disclaimer.
# 2. Redistributions in binary form must reproduce the above copyright
#    notice, this list of conditions and the following disclaimer in the
#    documentation and/or other materials provided with the distribution.
#
# THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
# IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
# OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
# IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
# INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
# NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
# DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
# THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
# (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
# THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

arch=`machine`

TMP=`mktemp /tmp/_mkr.XXXXXXXXXX` || exit 1
trap 'rm -f $TMP' 0 1 15

for i in base comp etc game; do
	cat ./lists/$i/mi ./lists/$i/md.${arch} >> $TMP
done
cat ./lists/man/mi ./lists/man/md.${arch} >> $TMP

sort $TMP
@


1.10
log
@sync
@
text
@d2 1
a2 1
#	$OpenBSD: makeflist,v 1.9 2003/07/02 02:08:02 avsm Exp $
@


1.9
log
@bump mktemp randomness from 6 to 10 X's; deraadt@@ ok
@
text
@d2 1
a2 1
#	$OpenBSD: makeflist,v 1.8 2003/06/02 04:04:32 deraadt Exp $
a35 1
cat ./lists/misc/mi ./lists/misc/md.${arch} >> $TMP
@


1.8
log
@typos
@
text
@d2 1
a2 1
#	$OpenBSD: makeflist,v 1.7 2003/03/28 01:14:56 deraadt Exp $
d29 1
a29 1
TMP=`mktemp /tmp/_mkr.XXXXXX` || exit 1
@


1.7
log
@I rewrote these a while back; copyright to me
@
text
@d2 1
a2 1
#	$OpenBSD: makeflist,v 1.7 2003/03/28 00:42:45 deraadt Exp $
a14 1
#    derived from this software without specific prior written permission.
@


1.6
log
@convert mkr/ckr to shell scripts, use mktemp(1)
@
text
@d2 25
a26 1
#	$OpenBSD: makeflist,v 1.5 2000/03/01 22:10:08 todd Exp $
@


1.5
log
@$OpenBSD$
@
text
@d1 2
a2 2
#!/bin/csh -f
#	$OpenBSD$
d4 1
d6 2
a7 2
set arch=`machine`
set listsdir=`pwd`/lists
d9 5
a13 1
set TMPFILE=/tmp/_LIST.$$
d15 1
a15 17
set lists=(base comp etc game)
# SPECIAL: man misc

foreach setname ($lists)
	cat $listsdir/$setname/mi $listsdir/$setname/md.${arch} >>! $TMPFILE
end

set setname=man
grep ${arch} $listsdir/man/md_share | \
    cat $listsdir/$setname/mi $listsdir/$setname/md.${arch} - >>! $TMPFILE

set setname=misc
grep -v ${arch} $listsdir/man/md_share | \
    cat $listsdir/$setname/mi $listsdir/$setname/md.${arch} - >>! $TMPFILE

sort $TMPFILE
/bin/rm $TMPFILE
@


1.4
log
@merge text into base
@
text
@d2 2
@


1.3
log
@s/games/game/
@
text
@d8 1
a8 1
set lists=(base comp etc game text)
a9 1
# EXTRA SPECIAL (not done here): secr
@


1.2
log
@Use machine instead of uname -m to get .
This allows the scripts to work more easily in some cross-development
situations and does not break any normal uses.
@
text
@d8 1
a8 1
set lists=(base comp etc games text)
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
set arch=`uname -m`
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
