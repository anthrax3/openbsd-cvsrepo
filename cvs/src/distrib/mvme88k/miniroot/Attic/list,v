head	1.15;
access;
symbols
	OPENBSD_3_3:1.14.0.2
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.12.0.2
	OPENBSD_3_2_BASE:1.12
	OPENBSD_3_1:1.6.0.4
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.6.0.2
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9:1.2.0.10
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.8
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.6
	OPENBSD_2_7_BASE:1.2
	OPENBSD_2_6:1.2.0.4
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2;
locks; strict;
comment	@# @;


1.15
date	2003.08.07.20.57.05;	author miod;	state dead;
branches;
next	1.14;

1.14
date	2003.01.30.22.09.56;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	2003.01.03.18.36.08;	author krw;	state Exp;
branches;
next	1.12;

1.12
date	2002.05.01.19.21.28;	author mickey;	state Exp;
branches;
next	1.11;

1.11
date	2002.04.30.04.05.49;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2002.04.30.01.31.20;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2002.04.29.17.13.38;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2002.04.22.02.43.16;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2002.04.21.17.14.17;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2001.10.08.19.26.14;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2001.09.17.18.21.30;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2001.08.29.15.01.17;	author krw;	state Exp;
branches;
next	1.3;

1.3
date	2001.06.23.19.44.48;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	98.12.20.23.36.43;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	98.12.17.02.16.31;	author smurph;	state Exp;
branches;
next	;


desc
@@


1.15
log
@Bits and pieces towards mvme88k installation media, mostly cloned from the
mvme68k code.
@
text
@#	$OpenBSD: list,v 1.14 2003/01/30 22:09:56 deraadt Exp $
#	$NetBSD: list,v 1.2.4.2 1996/06/26 19:25:00 pk Exp $

# Amiga extra's
LINK	instbin				sbin/disklabel
LINK	instbin				sbin/mount_msdos
LINK	instbin				usr/bin/cksum usr/bin/sum
LINK	instbin				usr/bin/grep usr/bin/egrep usr/bin/fgrep
LINK	instbin				usr/bin/less usr/bin/more

SYMLINK	/tmp	var/tmp

# copy the MAKEDEV script and make some devices
SCRIPT	${DESTDIR}/dev/MAKEDEV		dev/MAKEDEV
SPECIAL	cd dev; sh MAKEDEV all

# copy the kernel
COPY	bsd	bsd

# various files that we need in /etc for the install
SCRIPT	${DESTDIR}/etc/disktab		etc/disktab.shadow
SYMLINK	/tmp/disktab.shadow		etc/disktab
SYMLINK	/tmp/fstab.shadow		etc/fstab
SYMLINK	/tmp/resolv.conf.shadow		etc/resolv.conf
SYMLINK	/tmp/hosts			etc/hosts
TERMCAP	vt100,vt220,dumb		usr/share/misc/termcap

# and the installation tools
SCRIPT	${ARCHDIR}/../install.md	install.md
@


1.14
log
@remove bogus comment
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.13 2003/01/03 18:36:08 krw Exp $
@


1.13
log
@Save a few more bytes on install media by stripping comments from
dhclient-script and disktab files in architectures where this wasn't
already being done.

OK deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.12 2002/05/01 19:21:28 mickey Exp $
a10 1
# Minimize use of MFS
@


1.12
log
@when filtering termcap selecet vt220, not vt200, since that's what we gonna use later, plus a few rcsid vicinity cleanups; millert@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.11 2002/04/30 04:05:49 deraadt Exp $
d22 1
a22 1
COPY	${DESTDIR}/etc/disktab		etc/disktab.shadow
@


1.11
log
@tset bye bye
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.10 2002/04/30 01:31:20 deraadt Exp $
d27 1
a27 1
TERMCAP	vt100,vt200,dumb		usr/share/misc/termcap
@


1.10
log
@use SCRIPT command
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.9 2002/04/29 17:13:38 deraadt Exp $
a8 1
LINK	instbin				usr/bin/tset usr/bin/reset
@


1.9
log
@generate termcap file using a list2sh.awk directrive; distrib becomes a lot smaller again
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.8 2002/04/22 02:43:16 deraadt Exp $
d5 6
a10 6
LINK	instbin			sbin/disklabel
LINK	instbin			sbin/mount_msdos
LINK	instbin			usr/bin/cksum usr/bin/sum
LINK	instbin			usr/bin/grep usr/bin/egrep usr/bin/fgrep
LINK	instbin			usr/bin/tset usr/bin/reset
LINK	instbin			usr/bin/less usr/bin/more
d16 1
a16 1
COPY	${DESTDIR}/dev/MAKEDEV		dev/MAKEDEV
d31 1
a31 1
SPECIAL sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' -e "s/^ARCH=ARCH$/ARCH=`arch -ks`" < ${ARCHDIR}/../install.md > install.md
@


1.8
log
@use one common dot.profile for all
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.7 2002/04/21 17:14:17 deraadt Exp $
a16 1
COPY	${DESTDIR}/dev/MAKEDEV.local	dev/MAKEDEV.local
a17 4
#SPECIAL	/bin/rm dev/MAKEDEV

# and a few useful bits of the termcap file (512K and still growing 8-)
SPECIAL tic -C ${CURDIR}/../../share/termtypes/termtypes.master | sed -n -e 's,/usr/share/lib/tabset,/usr/share/tabset,g' -e 's,/usr/lib/tabset,/usr/share/tabset,g' -e '/^dumb|/,/:[ 	]*$/p' -e '/^unknown|/,/:[ 	]*$/p' -e '/^vt.*|/,/:[ 	]*$/p' > usr/share/misc/termcap
d28 1
@


1.7
log
@minor cleanups, i think
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.6 2001/10/08 19:26:14 deraadt Exp $
a34 1
COPY	${ARCHDIR}/dot.profile		.profile
@


1.6
log
@arch -ks
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.5 2001/09/17 18:21:30 deraadt Exp $
d7 4
a10 9

SYMLINK	../../instbin		usr/bin/basename
SYMLINK ../../instbin		usr/bin/cksum usr/bin/sum
SYMLINK ../../instbin		usr/bin/grep usr/bin/egrep usr/bin/fgrep
SYMLINK ../../instbin		usr/bin/netstat
SYMLINK ../../instbin		usr/bin/rsh
SYMLINK ../../instbin		usr/bin/tset usr/bin/reset
SYMLINK	../../instbin		usr/bin/less usr/bin/more
SYMLINK	../../instbin		usr/sbin/sysctl
@


1.5
log
@zap kernfs
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.4 2001/08/29 15:01:17 krw Exp $
d41 1
a41 1
SPECIAL sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' -e "s/^ARCH=ARCH$/ARCH=`arch`" < ${ARCHDIR}/../install.md > install.md
@


1.4
log
@Apply recent changes in the i386 comment eradication code to all
architectures using a list2sh.awk and related 'list' files (alpha,
hp300, mac68k, mvme68k, mvme88k, mvmeppc, powerpc and vax).

list2sh.awk is modified so that in handling SPECIAL lines the tabs in
regular expressions are not lost to awk field parsing.

Any 'list' file trying to eliminate comments, using SPECIAL lines and
sed, now eliminates lines that

a) have '#' as the first non-blank, non-tab character, with at least
one blank or tab following the '#'.

b) have '#' as the first non-blank, non-tab character, with a newline
immediately following the '#'.

Previous b) was not being done, and only leading/following blanks were
being looked for due to the loss of tab characters in list2sh.awk.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.3 2001/06/23 19:44:48 deraadt Exp $
a5 1
LINK	instbin			sbin/mount_ados
@


1.3
log
@argh.  stop using kernfs, using dmesg using sysctl.  encode ARCH into
install.md at build time.  remove some crud.  and the icing on the cake:
skip testing all this until next week
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.2 1998/12/20 23:36:43 millert Exp $
d42 1
a42 1
SPECIAL sed -e '/^#[ 	].*$/d' -e "s/^ARCH=ARCH$/ARCH=`arch`" < ${ARCHDIR}/../install.md > install.md
@


1.2
log
@termcap.src is no more, run tic against termtypes.master instead
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.1 1998/12/17 02:16:31 smurph Exp $
d42 1
a42 1
COPY	${ARCHDIR}/../install.md	install.md
@


1.1
log
@commit to add upport for mvme88k.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.5 1997/05/19 21:38:34 niklas Exp $
d28 1
a28 2
# COPY	${CURDIR}/../../share/termcap/termcap.src usr/share/misc/termcap
SPECIAL sed -n -e '/^dumb|/,/:[ 	]*$/p' -e '/^unknown|/,/:[ 	]*$/p' -e '/^vt.*|/,/:[ 	]*$/p' ${CURDIR}/../../share/termcap/termcap.src > usr/share/misc/termcap
@

