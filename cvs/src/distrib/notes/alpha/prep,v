head	1.32;
access;
symbols
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.32.0.12
	OPENBSD_6_0_BASE:1.32
	OPENBSD_5_9:1.32.0.8
	OPENBSD_5_9_BASE:1.32
	OPENBSD_5_8:1.32.0.10
	OPENBSD_5_8_BASE:1.32
	OPENBSD_5_7:1.32.0.4
	OPENBSD_5_7_BASE:1.32
	OPENBSD_5_6:1.32.0.6
	OPENBSD_5_6_BASE:1.32
	OPENBSD_5_5:1.32.0.2
	OPENBSD_5_5_BASE:1.32
	OPENBSD_5_4:1.31.0.4
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.31.0.2
	OPENBSD_5_3_BASE:1.31
	OPENBSD_5_2:1.30.0.12
	OPENBSD_5_2_BASE:1.30
	OPENBSD_5_1_BASE:1.30
	OPENBSD_5_1:1.30.0.8
	OPENBSD_5_0:1.30.0.10
	OPENBSD_5_0_BASE:1.30
	OPENBSD_4_9:1.30.0.6
	OPENBSD_4_9_BASE:1.30
	OPENBSD_4_8:1.30.0.4
	OPENBSD_4_8_BASE:1.30
	OPENBSD_4_7:1.30.0.2
	OPENBSD_4_7_BASE:1.30
	OPENBSD_4_6:1.29.0.6
	OPENBSD_4_6_BASE:1.29
	OPENBSD_4_5:1.29.0.2
	OPENBSD_4_5_BASE:1.29
	OPENBSD_4_4:1.28.0.2
	OPENBSD_4_4_BASE:1.28
	OPENBSD_4_3:1.25.0.10
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.25.0.6
	OPENBSD_4_2_BASE:1.25
	OPENBSD_4_1:1.25.0.4
	OPENBSD_4_1_BASE:1.25
	OPENBSD_4_0:1.25.0.2
	OPENBSD_4_0_BASE:1.25
	OPENBSD_3_9:1.24.0.2
	OPENBSD_3_9_BASE:1.24
	OPENBSD_3_8:1.23.0.4
	OPENBSD_3_8_BASE:1.23
	OPENBSD_3_7:1.23.0.2
	OPENBSD_3_7_BASE:1.23
	OPENBSD_3_6:1.22.0.4
	OPENBSD_3_6_BASE:1.22
	OPENBSD_3_5:1.22.0.2
	OPENBSD_3_5_BASE:1.22
	OPENBSD_3_4:1.20.0.2
	OPENBSD_3_4_BASE:1.20
	OPENBSD_3_3:1.19.0.2
	OPENBSD_3_3_BASE:1.19
	OPENBSD_3_2:1.17.0.2
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.13.0.2
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.10.0.2
	OPENBSD_3_0_BASE:1.10
	OPENBSD_2_9:1.8.0.2
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.7.0.10
	OPENBSD_2_8_BASE:1.7
	OPENBSD_2_7:1.7.0.8
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.7.0.6
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.7.0.4
	OPENBSD_2_5_BASE:1.7
	OPENBSD_2_4:1.7.0.2
	OPENBSD_2_4_BASE:1.7
	OPENBSD_2_3:1.6.0.4
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.6.0.2
	OPENBSD_2_2_BASE:1.6
	OPENBSD_2_1:1.5.0.2
	OPENBSD_2_1_BASE:1.5
	INITIAL_IMPORT:1.1.1.1
	GRAICHEN:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2014.02.03.05.35.40;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2013.02.25.20.08.27;	author miod;	state Exp;
branches;
next	1.30;

1.30
date	2010.03.07.14.53.02;	author miod;	state Exp;
branches;
next	1.29;

1.29
date	2009.02.28.20.55.49;	author miod;	state Exp;
branches;
next	1.28;

1.28
date	2008.08.06.20.29.49;	author miod;	state Exp;
branches;
next	1.27;

1.27
date	2008.08.06.17.22.14;	author miod;	state Exp;
branches;
next	1.26;

1.26
date	2008.08.05.23.02.34;	author miod;	state Exp;
branches;
next	1.25;

1.25
date	2006.08.30.23.50.59;	author kurt;	state Exp;
branches;
next	1.24;

1.24
date	2005.11.12.18.39.19;	author martin;	state Exp;
branches;
next	1.23;

1.23
date	2005.03.18.13.31.13;	author miod;	state Exp;
branches;
next	1.22;

1.22
date	2004.03.23.21.05.06;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2004.03.17.09.25.09;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2003.09.06.22.22.42;	author miod;	state Exp;
branches;
next	1.19;

1.19
date	2003.03.24.11.33.56;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2002.10.07.20.49.05;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2002.06.30.16.36.55;	author miod;	state Exp;
branches;
next	1.16;

1.16
date	2002.06.25.20.19.34;	author miod;	state Exp;
branches;
next	1.15;

1.15
date	2002.06.09.05.53.54;	author todd;	state Exp;
branches;
next	1.14;

1.14
date	2002.05.02.23.13.40;	author miod;	state Exp;
branches;
next	1.13;

1.13
date	2002.04.07.22.13.01;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2002.04.01.00.50.20;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2001.12.03.22.30.36;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2001.10.01.01.32.16;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2001.09.29.00.08.10;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2001.04.25.20.27.48;	author miod;	state Exp;
branches;
next	1.7;

1.7
date	98.05.18.00.33.23;	author todd;	state Exp;
branches;
next	1.6;

1.6
date	97.08.06.14.15.37;	author kstailey;	state Exp;
branches;
next	1.5;

1.5
date	97.05.25.17.30.55;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	97.05.24.20.00.56;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	97.05.18.02.33.33;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	97.05.17.01.48.00;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	97.05.13.10.31.38;	author graichen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.05.13.10.31.38;	author graichen;	state Exp;
branches;
next	;


desc
@@


1.32
log
@Build and document bsd.mp on alpha.
@
text
@dnl	$OpenBSD: prep,v 1.31 2013/02/25 20:08:27 miod Exp $
OpenBSD/MACHINE requires the SRM console.  Some alphas come with
the AlphaBIOS (also known as the ARC firmware on older machines) instead;
this is what Windows NT uses. It is fairly simple to replace the AlphaBIOS
with the SRM firmware.

Switching your MACHINE to SRM console:

    AlphaServer class machines (except for models 300 and 400) and recent
    enough machines (such as the Miata and later models) have enough
    flash ROM space to carry both the AlphaBIOS and the SRM console.

    To switch to SRM from AlphaBIOS, do the following:
    - enter the AlphaBIOS setup upon startup
      (F2 key, or Ctrl-B from serial console)
    - choose "CMOS Setup" from the menu
    - select "Advanced CMOS Setup" (F6 key, or Ctrl-F from serial console)
    - change the "Console Selection" setting to "OpenVMS console (SRM)"
    - confirm your changes with F10 (or Ctrl-U) twice, then enter.
    - power-cycle your system for the changes to take effect.

    If you didn't find a "Console Selection" entry (for example on 164SX or
    164LX), your system can not hold both the AlphaBIOS and SRM console in
    flash, and you will have to upgrade your firmware.

    You can get replacement firmware either from a firmware update CD-ROM,
    which can be downloaded from
	ftp://ftp.hp.com/pub/alphaserver/firmware/v73.zip
    However, this CD-ROM image only supports AlphaServer DS10, DS20, DS20L,
    and ES40.  Firmware update for other models can be picked individually
    via FTP from
	ftp://ftp.hp.com/pub/alphaserver/firmware/retired_platforms/

    Please refer to
	http://h18002.www1.hp.com/alphaserver/firmware/index.html
    for more information.

    Note that, on most models, upgrading the firmware requires a jumper
    to be moved on the motherboards; refer to the firmware update
    instructions for details.

AXPpci33 Motherboard specific notes:

    The 1994 version of the OEM guide has an incorrect pinout for the
    serial ports.  The newer version used to be available at
	ftp://ftp.digital.com/pub/Digital/axppci/design_guide.ps.Z 
    with a corrected pinout (as well as more information than the 1994
    edition). Although ftp.digital.com does not exist anymore, a few
    copies of this document are scattered accross various ftp servers
    on the globe, such as
	ftp://ftp.uniroma2.it/Digital/support/axppci/design_guide.ps.Z
    or
        http://vt100.net/mirror/mds-199909/cd1/alpha/axpcidgc.pdf
    
    Note that there are two flavors of PC serial connectors.  If you
    have the wrong kind, you won't get any output from the serial console.

Using the SRM console:

    This is not intended to be an exhaustive guide on using the
    SRM firmware console.  It should, however, give you enough
    information to boot OpenBSD/MACHINE.

    To see a list of devices connected to your alpha, you can
    use the "show device" command.  For booting, the devices you
    are interested in are "dva0" (the floppy drive) and
    "dka*" (the disk drives).

    You can set ROM variables by saying "set VARIABLE VALUE".
    Some variables you will want to set:

	auto_action
		Determines what happens when you turn the power on,
		halt, or restart your machine.  Valid values are:

		"halt"
			the system will not autoboot, will restart when
			rebooted (shutdown -r), and will not restart
			when halted (shutdown -h).
		"boot"
			the system will autoboot on powerup, and when the
			system is halted (shutdown -h) or rebooted
			(shutdown -r).
		"restart"
			the system will autoboot on powerup, will restart
			when rebooted (shutdown -r), and will not restart
			when halted (shutdown -h).

		Most users will want to set this to "restart".

	bootdef_dev
		Default boot device (or list of devices).

	boot_file
		Name of the kernel to boot.  If this variable is empty,
		"bsd" will be loaded.  Note that this variable does not
		exist in all versions of the SRM console, in which case
		you need to always boot manually and specify a kernel
		filename if it differs from "bsd".

	boot_osflags
		Flags to pass to the kernel (there is no need to prefix
		them with a `-' dash sign).

    To see a list of all variables on your machine, use the "show"
    command with no arguments.  If there are too many of them, you
    might want to page with "show | more".

    You can bypass the boot_file and boot_osflags values from the command
    prompt, with the -fi (to override boot_file) and -fl (to override
    boot_osflags) options. For example,

	boot -fi bsd -fl c dka0

    will boot the "bsd" kernel with the "c" flag on dka0.  However, some
    versions of the SRM console (mainly on DEC 3000 series) will only let
    you specify uppercase filenames.

USB support on the XP1000:

    For some unknown reason, the USB interface found on the XP1000
    (and possibly the XP900 and the XP1100) is not enabled unless a
    specific SRM environment variable is set.

    If you plan to use USB devices on these machines, enter
	set usb_enable on
    at the SRM prompt, followed by
	init
    before attempting to install OpenBSD.

EISA configuration:

    A few MACHINE systems support EISA devices. However, the SRM firmware
    has only a very limited knowledge of EISA devices and is not able to
    configure them.

    Every time an EISA board is added to or removed from the system, the
    EISA Configuration Utility needs to be run from a floppy disk using the
    ``runecu'' command at the SRM prompt. An ECU floppy disk is supposed to
    be provided with EISA-capable systems; this disk will be updated with
    the current configuration every time it is run, and needs to be
    writeable. ECU disks should not be shared between systems.

    Redistributing ECU is not allowed, however a copy of it can be
    downloaded from:

    ftp://ftp.hp.com/pub/alphaserver/firmware/other/utility/ecu/ntecuv111a.zip

    Extract this archive to a newly FAT-formated 3"1/2 floppy disk to get
    a pristine ECU disk.

SRM console boot device restrictions:

    The SRM firmware on your system may or may not be able to boot from
    any disk controller you may install in your MACHINE.
    The built-in disk controllers on your MACHINE will always be supported,
    however on IDE-based machines, such as the EB164, 164SX and 164LX, as
    well as the low-end Personal Workstation (non-u models), you can plug
    in a SCSI controller, and boot from it if it is recognized.

    Recent SRM releases for these machines will be able to boot (or netboot)
    from the following controllers:
	QLogic PCI SCSI controllers
	Symbios Logic (NCR) 53C8xx (but not on PC164)
	Adaptec AHA-[23]9[34]x[U][W] cards
	Intel i8255x-based cards (EtherExpress PRO)
    The following controllers are known not to be supported as boot devices
    by the SRM:
	Adaptec AHA-[23]9[34]xU2 cards

    Depending on your specific model, your mileage may vary, though.

OpenBSD/MACHINE console device restrictions:

    On systems with no framebuffer supported (currently all
    TURBOchannel-based machines), OpenBSD/MACHINE must be used with a
    serial console.
    
    Setting an Alpha system to use a serial console is system-specific.
    Although most models will default to serial console if no keyboard
    is connected on powerup, this behaviour can't be relied upon.
    The recommended procedure is:

	DEC 3000/[4-9]00
		Flip the `S3' switch on the back of the machine
		(up for glass console, down for serial console).

		When configured to use a serial console, it is also
		necessary to set the ``server'' SRM environment
		variable to ``on'' for the system to autoboot on
		powerup despite the lack of a keyboard and mouse
		plugged in.

	DEC 3000/300 family machines
		Console is selected by the `W2' jumper block, to the
		edge of the logic board, near the memory banks.

		Setting the jumper cap on pins 1-2 selects glass
		console, and on pins 2-3 selects serial console.

	All other machines
		From the SRM console, enter either
			set console serial
		or
			set console graphics
		at the SRM prompt, then enter
			init
		or cycle power.

@


1.31
log
@Mention where to download an ECU floppy image and when/how to use it, for
people curs^Wblessed with EISA-capable alpha systems.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.30 2010/03/07 14:53:02 miod Exp $
d89 1
a89 1
		Most users will want to set this to "boot".
@


1.30
log
@Better information about DEC 3000/300 console selection.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.29 2009/02/28 20:55:49 miod Exp $
d130 21
@


1.29
log
@Mention another url for the axppci33 reference, this time in pdf.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.28 2008/08/06 20:29:49 miod Exp $
d174 5
a178 3
		These machines will automatically switch to serial
		console if the keyboard/mouse connector is left
		unplugged.
@


1.28
log
@Mention onboard USB might be disabled on XP1000 and close relatives, and how
to enable it if necessary. From FreeBSD.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.27 2008/08/06 17:22:14 miod Exp $
d52 2
@


1.27
log
@Jumbo update of installation notes for alpha:
- mention more models supported by each floppy
- mention more supported and unsupported models
- sync cdrom boot instructions with reality
- update ftp urls, ftp.digital.com no longer exist (but I resisted whining
  at HP which does not provide all the contents formerly available from
  ftp.digital.com and which you have to pick from educational sites which
  have mirrored them)
- various little rewording

with help from sobrado@@
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.26 2008/08/05 23:02:34 miod Exp $
d116 12
@


1.26
log
@More SRM information, and how to make a non model 300 DEC 3000 autoboot
unattended when configured for serial console and no keyboard is plugged.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.25 2006/08/30 23:50:59 kurt Exp $
d9 3
a11 3
    AlphaServer class machines (except for model 400) and recent machines
    (such as the Miata and later models) have enough flash ROM space to
    carry both the AlphaBIOS and the SRM console.
d26 8
a33 3
    You can get replacement firmware either from a firmware update CD-ROM
    or via FTP from
	ftp://ftp.digital.com/pub/DEC/Alpha/firmware/
d35 1
a35 1
	http://ftp.digital.com/pub/DEC/Alpha/firmware/readme.html
d44 11
a54 7
    The 1994 version of the OEM guide has an incorrect pinout
    for the serial ports.  The newer version from
    ftp://ftp.digital.com/pub/Digital/axppci/design_guide.ps.Z 
    has a corrected pinout (as well as more information than
    the 1994 edition).  Note that there are two flavors
    of PC serial connectors.  If you have the wrong kind,
    you won't get any output from the serial console.
d140 22
a161 15
    On systems with no framebuffer supported, including all
    TURBOchannel-based machines, OpenBSD/MACHINE must be used with a
    serial console.  Setting an Alpha system to use a serial console
    is system-specific.  The procedure for most common hardware is:

	DEC 3000/[4-9]00's:
		Flip the appropriate switch on the back of the machine.

		It is also necessary to set the ``server'' SRM
		environment variable to ``on'' for the system to
		autoboot on powerup despite the lack of a keyboard
		and mouse plugged in.

	DEC 3000/300 family machines:
		Boot the machine with the keyboard/mouse connector
d164 2
a165 2
	Other machines running the SRM console on local display:
		From the SRM console, enter
d167 2
d171 1
a171 6
		or cycle power.  Switching back to glass console is
		done with the opposite command:
			set console graphics

    See your owner's manual for more details on how to set your machine
    to use a serial console.
a172 14
    Note that some MACHINE computers currently *require* a serial console
    and can't be used from a regular keyboard/display console, even though
    the motherboard has appropriate connectors.
    Currently, only the TURBOchannel MACHINE computers (DEC 3000) require
    use of a serial console.

dnl XXX This only affects kernels built without pckbc on machines configured
dnl XXX for glass console. Not worth keeping at the moment... -- miod
dnl    If booting using the regular console aborts with ``not configured to
dnl    use display && keyboard console'', then you need to use a serial
dnl    console.
dnl
    If your machine was not listed in the list above, please report this
    to <alpha@@OpenBSD.org>.
@


1.25
log
@Remove reference to an unmaintained web page. okay deraadt@@
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.24 2005/11/12 18:39:19 martin Exp $
d8 5
a12 2
    Recent machines (such as the Miata and later models) have enough flash
    ROM space to carry both the AlphaBIOS and the SRM console.
d15 1
a15 1
      (F2 key, or ^B from serial console)
d17 1
a17 1
    - select "Advanced CMOS Setup" (F6 key, or ^F from serial console)
d19 1
a19 1
    - confirm your changes with F10 (or ^U) twice, then enter.
d33 4
d38 1
d48 1
d60 34
a93 11
	auto_action	Determines what happens when you turn the power on,
			halt, or crash your machine.  Valid values
			{:-include-:} "halt", "boot", and "restart".
			Most users will want to set this to "boot".
	bootdef_dev	Default boot device (or list of devices).
	boot_file	Name of the kernel to boot.  If this variable is
			empty, "bsd" will be loaded.  Note that this
			variable does not exist in all versions of the SRM
			console, in which case you need to always specify a
			kernel filename if it differs from "bsd".
	boot_osflags	Flags to pass to the kernel.
d95 2
a96 1
    command with no arguments.
d101 1
d103 2
a104 1
    will boot the "bsd" kernel with the "c" flag on dka0. However, some
d108 1
a109 1
SRM console boot device restrictions:
d117 2
a118 2
    Recent SRM releases for these machines will be able to boot from the
    following controllers:
d122 1
d129 1
a130 1
OpenBSD/MACHINE console device restrictions:
d139 5
d153 3
a155 1
		or cycle power.
@


1.24
log
@no longer require boot_osflags being set to 'a' in the SRM for going multiuser; setting boot_osflags to 's' explicitly will get us to singleuser as usual; very old SRM versions can only set 'a' or 's', but are still fine because we ignore 'a' now and default to multiuser

idea and ok deraadt@@, jsg@@, testing by many
final ok miod@@
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.23 2005/03/18 13:31:13 miod Exp $
a91 2
    A more detailed, and perhaps more up-to-date, list is available at the
    following URL: http://www.pofo.de/alpha-boot
@


1.23
log
@Sync with reality
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.22 2004/03/23 21:05:06 jmc Exp $
a61 2
			IMPORTANT! For multiuser boot, this needs to be
			set to "a".
d68 2
a69 2
	boot -fi bsd -fl ac dka0
    will boot the "bsd" kernel with the "ac" flags on dka0. However, some
@


1.22
log
@update url;
ok miod@@ deraadt@@
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.21 2004/03/17 09:25:09 jmc Exp $
d127 6
a132 3
    If booting using the regular console aborts with ``not configured to
    use display && keyboard console'', then you need to use a serial
    console.
@


1.21
log
@grammar, consistency fixes, and typos;
ok miod@@
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.20 2003/09/06 22:22:42 miod Exp $
d33 1
a33 1
    ftp://gatekeeper.dec.com/pub/DEC/axppci/design_guide.ps.Z
@


1.20
log
@MD Installation notes updates for 3.4, 1/3

This mainly includes an hopefully helpful section about i386 upgrades, which
I urge knowledgeable people and native english speakers to check out, in
order to polish it soon enough.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.19 2003/03/24 11:33:56 miod Exp $
d9 1
a9 1
    rom space to carry both the AlphaBIOS and the SRM console.
d24 1
a24 1
    or via ftp from
d45 1
a45 1
    use the "show device" command.  For booting the devices you
d51 1
a51 1
	auto_action	Determines what happens when you turn power on,
d64 1
a64 1
    To see a list of all variables on your machine use the "show"
d82 1
a82 1
    an SCSI controller, and boot from it if it is recognized.
d131 1
a131 1
    on <alpha@@OpenBSD.org>.
@


1.19
log
@Tweak a few texts to cope with the fact that we ship official OpenBSD CD-ROM
and bootable CD-ROM mini images on some platforms, too. Mention such a mini
image for alpha, consistent spelling of CD-ROM, and a few minor updates not
worth mentioning I had lying in my tree.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.18 2002/10/07 20:49:05 miod Exp $
d131 1
a131 1
    on <alpha@@openbsd.org>.
@


1.18
log
@Add specific installation steps for DEC 3000 machines, and document a few
caveats from their v.1 SRM.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.17 2002/06/30 16:36:55 miod Exp $
d23 2
a24 2
    You can get replacement firmware either from a firmware update CD or via
    ftp from
@


1.17
log
@Mention DEC EtherWORKS and AlphaServer 800/1000/1000A support.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.16 2002/06/25 20:19:34 miod Exp $
d57 4
a60 1
			empty, "bsd" will be loaded.
d71 3
a73 1
    will boot the "bsd" kernel with the "ac" flags on dka0.
@


1.16
log
@More details on booting from a secondary scsi controller, from feedback
on alpha@@.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.15 2002/06/09 05:53:54 todd Exp $
d88 1
@


1.15
log
@knf
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.14 2002/05/02 23:13:40 miod Exp $
d71 26
a96 4
On systems with no framebuffer supported, including all
TURBOchannel-based machines, OpenBSD/MACHINE must be used with a
serial console.  Setting an Alpha system to use a serial console
is system-specific.  The procedure for most common hardware is:
d112 2
a113 2
See your owner's manual for more details on how to set your machine
to use a serial console.
d115 11
a125 10
Note that some MACHINE computers currently *require* a serial console
and can't be used from a regular keyboard/display console, even though
the motherboard has appropriate connectors.
Currently, only the TURBOchannel MACHINE computers (DEC 3000) require use
of a serial console.

If booting using the regular console aborts with ``not configured to use
display && keyboard console'', then you need to use a serial console.
If your machine was not listed in the list above, please report this on
<alpha@@openbsd.org>.
@


1.14
log
@Update TURBOchannel machines status.
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.13 2002/04/07 22:13:01 miod Exp $
d63 1
a63 1
    
@


1.13
log
@- more SRM firmware information (how to switch to SRM, boot -fi, boot -fl)
- correct upgrade information (do it yourself)
@
text
@d1 1
a1 1
dnl	$OpenBSD: prep,v 1.12 2002/04/01 00:50:20 miod Exp $
d71 18
a88 24
dnl Change back when TC support is back
dnl On systems with no framebuffer supported, including all
dnl TurboChannel-based machines, OpenBSD/MACHINE must be used with a
dnl serial console.  Setting an Alpha system to use a serial console
dnl is system-specific.  The procedure for most common hardware is:
dnl
dnl	DEC 3000/[4-9]00's:
dnl		Flip the appropriate switch on the back of the machine.
dnl
dnl	DEC 3000/300 family machines:
dnl		Boot the machine with the keyboard/mouse connector
dnl		unplugged.
dnl
dnl	Other machines running the SRM console on local display:
dnl		Get to the SRM console prompt.  Enter "set console serial",
dnl		then enter "init" or cycle power.
dnl
On systems with no framebuffer supported, OpenBSD/MACHINE must be used
with a serial console.  Setting an Alpha system to use a serial console
is system-specific.  From the SRM console on local display, enter
	set console serial
at the SRM prompt, then enter
	init
or cycle power.
d93 6
a98 7
dnl Uncomment when TC support is back
dnl Note that some MACHINE computers currently *require* a serial console
dnl and can't be used from a regular keyboard/display console, even though
dnl the motherboard has appropriate connectors.
dnl Currently, only the TurboChannel MACHINE computers (DEC 3000) require use
dnl of a serial console.
dnl
d101 2
a102 4
dnl If your machine was not listed in the list above, please report this on
dnl <alpha@@openbsd.org>.
If this is the case, please report this on <alpha@@openbsd.org>.

@


1.12
log
@Don't list TurboChannel alpha as supported until the various support
issues are fixed.
@
text
@d1 1
a1 1
dnl	$OpenBSD$
d3 26
a28 6
the ARC firmware instead (this is what Windows NT uses).  It is
fairly simple to replace the ARC firmware with the SRM version.
You can get replacement firmware either from a firmware update
CD or via ftp from ftp://ftp.digital.com/pub/DEC/Alpha/firmware/.
Please refer to http://ftp.digital.com/pub/DEC/Alpha/firmware/readme.html
for more information.
d60 1
a60 7
			set to "-a".
	booted_osflags	Don't try to set this one directly.  It will
			contain whatever flags the OS was last booted
			with.
			To set it indirectly, boot with the -flags
			option; for example "b dka0 -flags a" will boot
			multiuser from dka0 and set booted_osflags to "a".
d63 6
@


1.11
log
@Style, also make the fact that boot_osflags needs to contain "-a" for the
system to boot multiuser.
Based on feedback from Dan Shechter <danshtr@@yahoo.com> on alpha@@
@
text
@d1 1
d51 24
a74 15
On systems with no framebuffer supported, including all
TurboChannel-based machines, OpenBSD/MACHINE must be used with a
serial console.  Setting an Alpha system to use a serial console
is system-specific.  The procedure for most common hardware is:

	DEC 3000/[4-9]00's:
		Flip the appropriate switch on the back of the machine.

	DEC 3000/300 family machines:
		Boot the machine with the keyboard/mouse connector
		unplugged.

	Other machines running the SRM console on local display:
		Get to the SRM console prompt.  Enter "set console serial",
		then enter "init" or cycle power.
d79 7
a85 6
Note that some MACHINE computers currently *require* a serial console
and can't be used from a regular keyboard/display console, even though
the motherboard has appropriate connectors.
Currently, only the TurboChannel MACHINE computers (DEC 3000) require use
of a serial console.

d88 3
a90 2
If your machine was not listed in the list above, please report this on
<alpha@@openbsd.org>.
@


1.10
log
@Autmun alpha notes cleanup:
- more details for floppy and floppyB
- hardware list updated
- get in sync with other arches: more setup text, at the correct
  location, etc.
- remove the list of alpha-related urls, update the ftp.digital.com
  addresses for the AXPpci notes (no more available from main site,
  but still on ftp.europe and gatekeeper) and firmware availability
- update the description of the bsd.rd procedure to match reality
- and fix a few typos in the process.

Blessed by deraadt@@
@
text
@d30 3
a32 3
	auto_action	Determines what happens when you turn power
			on, halt, or crash your machine.  Valid
			values {:-include-:} "halt", "boot", and "restart".
d35 5
a39 4
	boot_file	Name of the kernel to boot.  If you don't set
			this "bsd" will be loaded.
	boot_osflags	Flags to pass in to the kernel.  For multiuser
			boot this needs to be set to "-a".
d42 4
a45 3
			with.  To set indirectly, boot with the -flags
			option, eg: "b dka0 -flags a" will boot into
			multi-user and set booted_osflags to "a".
@


1.9
log
@Mention that some alpha models only work from serial console.
@
text
@d6 2
d9 1
a9 1
AXPPCI33 Motherboard notes:
d12 1
a12 1
    ftp://ftp.digital.com/pub/Digital/axppci/design_guide.ps.Z
a17 22
Acquiring and updating firmware:
    As of May, 1997, the latest firmware version available for
    ftp is version 3.9.  To update an alpha with an axppci33
    motherboard from ARC firmware to SRM one would ftp to
    ftp.digital.com and download
	/pub/DEC/Alpha/firmware/v3.9/decaxppci33/decaxppci33_v1_6.exe
    then copy it to a FAT-formatted (ie: DOS) floppy with the name
    FWUPDATE.EXE.  Now that you have your new firmware on a floppy
    you just need to insert it into your machine's floppy drive and
    turn on the machine.  To actually update the firmware you need to
    choose the "Supplementary menu" from the ARC console and then
    "Install new firmware".  After fwupdate.exe is done loading from
    the floppy, enter "update srm" at the prompt and hit return.
    After the update is complete you may want to verify the update
    (if this was not done automatically) by entering "verify srm" at
    the prompt.  Once this is done you can enter "exit" and cycle power
    on your machine.  When it reboots you should be in the SRM console.

    Note that the procedure for updating SRM firmware from an
    existing version of the SRM console is different.  Please see
    the README files that come with the firmware update for details.

d49 1
a49 1
TurboChannel-based machines, OpenBSD/Alpha *must* be used with a
d60 1
a60 1
	AlphaStations, AXPpci systems and most others:
d70 2
a71 21
The following MACHINE models fall in this category:
	- TurboChannel MACHINE computers listed above
	- Personal Workstation (Miata)

If booting using the regular console aborts with ``not configured to use display
&& keyboard console'', then you need to use a serial console. If your machine
was not listed in the list above, please report this on alpha@@openbsd.org.


Alpha-related URL's:
    ftp://ftp.digital.com/pub/Digital/Alpha/
	Alpha related documents, software and firmware upgrades.

    http://www.digital.com/info/semiconductor/alpha.htm
	Alpha processor and support chip information.

    http://www.brouhaha.com/~eric/computers/udb-man.ps.gz
	The Multia Service manual, in postscript form.

    http://www.alphalinux.org
	Alpha linux notes with a good introduction to Alpha chips/systems.
d73 4
a76 3
    http://www.redhat.com/support/mailing-lists/
	The linux axp-list mailing list is probably the best source of
	alpha hardware related info, there's a searchable archive too.
a77 2
    http://www.netbsd.org/Ports/alpha/
	Pointers to documentation and supported systems.
@


1.8
log
@General cleanup and updates here too, ok deraadt@@
@
text
@d1 1
a1 1
OpenBSD/alpha requires the SRM console.  Some alphas come with
d41 1
a41 1
    information to boot OpenBSD/alpha.
d86 11
@


1.7
log
@s/cpp/m4/g
@
text
@d67 21
d98 1
a98 1
    http://www.azstarnet.com/~axplinux/
@


1.6
log
@doc booted_osflags
@
text
@d52 1
a52 1
			values include "halt", "boot", and "restart".
@


1.5
log
@Useful alpha URL's from grr@@openbsd.org
@
text
@d59 5
@


1.4
log
@Add axppci33 info
@
text
@d61 20
@


1.3
log
@Talk about SRM console variables people will want to know about.
@
text
@d7 9
@


1.2
log
@Talk about updating console from ARC -> SRM
Should also talk about SRM console variables somewhere.
@
text
@d7 45
a51 16
As of May, 1997, the latest firmware version available for
ftp is version 3.9.  To update an alpha with an axppci33
motherboard from ARC firmware to SRM one would ftp to
ftp.digital.com and download
    /pub/DEC/Alpha/firmware/v3.9/decaxppci33/decaxppci33_v1_6.exe
then copy it to a FAT-formatted (ie: DOS) floppy with the name
FWUPDATE.EXE.  Now that you have your new firmware on a floppy
you just need to insert it into your machine's floppy drive and
turn on the machine.  To actually update the firmware you need to
choose the "Supplementary menu" from the ARC console and then
"Install new firmware".  After fwupdate.exe is done loading from
the floppy, enter "update srm" at the prompt and hit return.
After the update is complete you may want to verify the update
(if this was not done automatically) by entering "verify srm" at
the prompt.  Once this is done you can enter "exit" and cycle power
on your machine.  When it reboots you should be in the SRM console.
@


1.1
log
@Initial revision
@
text
@d1 22
@


1.1.1.1
log
@add empty files for now - so that make release works - but someone has
to write something down here (this is also true for powerpc btw.) ... no
i have to do enough to get the pmax notes and install scripts into shape :-)
@
text
@@
