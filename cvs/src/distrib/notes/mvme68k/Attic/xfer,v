head	1.9;
access;
symbols
	OPENBSD_5_5:1.8.0.18
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.8.0.16
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.8.0.14
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.8.0.12
	OPENBSD_5_2_BASE:1.8
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.8
	OPENBSD_5_0:1.8.0.10
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.8.0.6
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.8.0.4
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.7.0.22
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.18
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.14
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.16
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.7.0.12
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.10
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.8
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.6
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.7.0.4
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.5.0.12
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.5.0.10
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.5.0.8
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.5.0.6
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.5.0.4
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.1.0.16
	OPENBSD_2_8_BASE:1.1
	OPENBSD_2_7:1.1.0.14
	OPENBSD_2_7_BASE:1.1
	OPENBSD_2_6:1.1.0.12
	OPENBSD_2_6_BASE:1.1
	OPENBSD_2_5:1.1.0.10
	OPENBSD_2_5_BASE:1.1
	OPENBSD_2_4:1.1.0.8
	OPENBSD_2_4_BASE:1.1
	OPENBSD_2_3:1.1.0.6
	OPENBSD_2_3_BASE:1.1
	OPENBSD_2_2:1.1.0.4
	OPENBSD_2_2_BASE:1.1
	OPENBSD_2_1:1.1.0.2
	OPENBSD_2_1_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2014.03.18.22.36.28;	author miod;	state dead;
branches;
next	1.8;

1.8
date	2010.03.16.17.23.09;	author miod;	state Exp;
branches;
next	1.7;

1.7
date	2005.03.18.13.30.53;	author miod;	state Exp;
branches;
next	1.6;

1.6
date	2004.06.22.00.42.12;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2001.10.06.19.27.20;	author miod;	state Exp;
branches;
next	1.4;

1.4
date	2001.10.02.22.46.29;	author miod;	state Exp;
branches;
next	1.3;

1.3
date	2001.10.02.19.51.18;	author miod;	state Exp;
branches;
next	1.2;

1.2
date	2001.04.25.20.27.58;	author miod;	state Exp;
branches;
next	1.1;

1.1
date	96.10.12.01.19.37;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Retire hp300, mvme68k and mvme88k ports. These ports have no users, keeping
this hardware alive is becoming increasingly difficult, and I should heed the
message sent by the three disks which have died on me over the last few days.

Noone sane will mourn these ports anyway. So long, and thanks for the fish.
@
text
@dnl	$OpenBSD: xfer,v 1.8 2010/03/16 17:23:09 miod Exp $
Installation is supported from several media types, including:

	CD-ROM
	FFS partitions
	Tape
	Remote NFS partition
	FTP
	HTTP

OpenBSDXferPrelude

OpenBSDXferBootTape(xbase xetc xfont xshare,stboot obs=512,bootst obs=512,bsd.rd obs=8k conv=osync)

OpenBSDXferNFS

OpenBSDXferFFS
@


1.8
log
@Jumbo commit for 4.7 installation instructions:
- do not mention tape as an installation media on systems where it is very
  unlikely that a tape drive can be connected to (i.e. anything with only
  USB as expansion capabilities)
- do not mention that fetching the installation sets from a partition is
  ``for upgrades only''. You may do this for installation, but of course
  you can not use a partition which will be newfs'ed for that purpose.
- mention ext2fs partitions as possible installation sets source only on
  platforms where the installation media actually can mount an ext2fs
  filesystem.
- stress the fact that the sparc miniroot image is a GENERIC kernel with
  a little on-disk filesystem, and not a RAMDISK kernel with a little
  in-memory filesystem, and thus must not be overwritten during installation
  (i.e. be careful if you repartition the disk the miniroot has been put on).
- more conv=sync -> conv=osync for tape setup instructions.
- model-specific layout changes on armish, loongson and socppc instructions.
- fix various typos and grammar mistaeks.

"sure" deraadt@@ (without eyeballing)
@
text
@d1 1
a1 1
dnl	$OpenBSD: xfer,v 1.7 2005/03/18 13:30:53 miod Exp $
@


1.7
log
@Mention local filesystems are only suitable for upgrades.
@
text
@d1 1
a1 1
dnl	$OpenBSD$
d5 1
a5 1
	FFS partitions (for upgrades only)
d7 1
a7 1
	Remote NFS partitions
d13 1
a13 2

OpenBSDXferBootTape(xbase xetc xfont xshare,stboot obs=512,bootst obs=512,bsd.rd obs=8k conv=sync)
@


1.6
log
@introduce the new xetc set. ok deraadt@@, miod@@, krw@@.
@
text
@d1 1
d5 1
a5 1
	FFS partitions
@


1.5
log
@- use the new m4.common shared instructions.
- try to have consistent order, across arches, in the list of possible
  installation media.
- alpha can't install over nfs, but macppc can.
@
text
@d13 1
a13 1
OpenBSDXferBootTape(xbase xfont xshare,stboot obs=512,bootst obs=512,bsd.rd obs=8k conv=sync)
@


1.4
log
@I'm so good I managed to cut'n'paste the same typo over all those files.
@
text
@d3 1
a6 1
	CD-ROM
d10 1
a10 86
The steps necessary to prepare the distribution sets for installation
depend on which method of installation you choose.  The various methods
are explained below.

The variety of options listed may seem confusing, but situations vary
widely in terms of what peripherals and what sort of network arrangements
a user has, the intent is to provide some way that will be practical.


The steps necessary to prepare the distribution sets for installation
depend on which method of installation you choose.  Some methods
require a bit of setup first that is explained below.


To install or upgrade OpenBSD using a tape, you need to do the following:

	To install OpenBSD from a tape, you need to make a tape that
	contains the distribution set files, each in "tar" format or
	in "gzipped tar format".  First you will need to transfer the
	distribution sets to your local system, using ftp or by mounting
	the CD-ROM containing the release.  Then you need to make a tape
	containing the files.

	If you're making the tape on a UN*X-like system, the easiest way
	to do so is make a shell script along the following lines, call it
	"/tmp/maketape".

	#! /bin/sh
	tape=/dev/nrst0
	mt -f ${tape} rewind
	if test $# -lt 1
	then
		dd if=stboot of=${tape} obs=512
		dd if=bootst of=${tape} obs=512
		dd if=bsd.rd of=${tape} obs=8k conv=sync
	fi
	for file in base etc comp game man misc xbase xfont xshare
	do
		dd if=${file}OSrev.tgz of=${tape} obs=8k conv=sync
	done
	tar cf ${tape} bsd
	mt -f ${tape} offline
	# end of script


	And then:

	cd .../OSREV/MACHINE
	sh -x /tmp/maketape

	
	Note that this script creates a bootable tape. If you only want to
	fetch the OpenBSD files from tape, but want to boot from another
	device, you can save time and space creating the tape this way:

	cd .../OSREV/MACHINE
	sh -x /tmp/maketape noboot

	
	If you're using a system other than OpenBSD or SunOS, the tape
	name and other requirements may change.


To install OpenBSD using a remote partition, mounted via
NFS, you must do the following:

	NOTE:	This method of installation is recommended only for
		those already familiar with using BSD network
		configuration and management commands.  If you aren't,
		this documentation should help, but is not intended to
		be all-encompassing.

	Place the OpenBSD distribution sets you wish to install into a
	directory on an NFS server, and make that directory mountable
	by the machine on which you are installing or upgrading OpenBSD.
	This will probably require modifying the /etc/exports file
	of the NFS server and resetting its mount daemon (mountd).
	(Both of these actions will probably require superuser
	privileges on the server.)

	You need to know the numeric IP address of the NFS server,
	and, if the server is not on a network directly connected to
	the machine on which you're installing or upgrading OpenBSD,
	you need to know the numeric IP address of the router closest
	to the OpenBSD machine.  Finally, you need to know the numeric
	IP address of the OpenBSD machine itself.
a11 6
	Once the NFS server is set up properly and you have the
	information mentioned above, you can proceed to the next step
	in the installation or upgrade process.  If you're installing
	OpenBSD from scratch, go to the section on preparing your hard
	disk, below.  If you're upgrading an existing installation, go
	directly to the section on upgrading.
d13 1
a13 4
If you are upgrading OpenBSD, you also have the option of installing
OpenBSD by putting the new distribution sets somewhere in your existing
file system, and using them from there.  To do that, you must do the
following:
d15 1
a15 7
	Place the distribution sets you wish to upgrade somewhere in
	your current file system tree.  At a bare minimum, you must
	upgrade the "base" binary distribution, and so must put the
	"base{:--:}OSrev" set somewhere in your file system.  If you wish,
	you can do the other sets, as well, but you should NOT upgrade
	the "etc" distribution; the "etc" distribution contains system
	configuration files that you should review and update by hand.
d17 1
a17 2
	Once you have done this, you can proceed to the next step in
	the upgrade process, actually upgrading your system.
@


1.3
log
@Your average close-to-release distrib/notes/FOO update.
This time:
- update hardware list, reorganize it more logically
- gets most of the bsd.rd description and instructions on par with other
  arches
- document hov to create a boot tape, and how to boot via s-records
- tries to be more verbose about board setup

This is still way too concise. If you write english better than me (trivial)
and know mvme68k a bit, you're welcome to help fill the blanks.

At least this is better than the existing instructions, and deraadt@@ agrees.
@
text
@d85 1
a85 1
	This will probably require modifying the /etc/exports file on
@


1.2
log
@General cleanup and updates here too, ok deraadt@@
@
text
@d6 1
d10 109
a118 73
The steps necessary to prepare the distribution sets
for installation depend on which method of installation
you choose.  The various methods are explained below.

To prepare for installing via an NFS partition:

	Place the OpenBSD software you wish to install into
	a directory on an NFS server, and make that directory
	mountable by the machine which you will be installing
	OpenBSD on.  This will probably require modifying the
	/etc/exports file of the NFS server and resetting
	mountd, acts which will require superuser privileges.
	Note the numeric IP address of the NFS server and of
	the router closest to the the new OpenBSD machine,
	if the NFS server is not on a network which is
	directly attached to the OpenBSD machine.

	If you are using a diskless setup to install OpenBSD on
	your machine, you can take advantage of the fact that
	the above has already been done on your machine's server.
	So, you can conveniently put the OpenBSD filesets in your
	machine's root filesystem on the server where the install
	program can find them.

	Once you have done this, you can proceed to the next
	step in the installation process, preparing your
	system for OpenBSD installation.

To prepare for installing via FTP:

	NOTE: this method of installation is recommended
	      only for those already familiar with using
	      the BSD network-manipulation commands and
	      interfaces.  If you aren't, this documentation
	      should help, but is not intended to be
	      all-encompassing.

	The preparations for this method of installation
	are easy: all you have to do is make sure that
	there's some FTP site from which you can retrieve
	the OpenBSD installation when it's time to do
	the install.  You should know the numeric IP
	address of that site, the numeric IP address of
	your nearest router if one is necessary

	Once you have done this, you can proceed to the next
	step in the installation process, preparing your
	system for OpenBSD installation.

To prepare for installing via a tape:

	To install OpenBSD from a tape, you need to somehow
	get the OpenBSD filesets you wish to install on
	your system on to the appropriate kind of tape,
	in tar format.

	If you're making the tape on a UN*X system, the easiest
	way to do so is:

		tar cvf <tape_device> <files>

	where "<tape_device>" is the name of the tape device
	that describes the tape drive you're using (possibly
	something like /dev/nrst0, but we make no guarantees 8-).
	Under SunOS 5.x, this would be something like /dev/rmt/0mbn.
	Again, your mileage may vary.  If you can't figure it out,
	ask your system administrator.  "<files>" are the names
	of the "set_name.nnn" files which you want to be placed
	on the tape.

	Once you have done this, you can proceed to the next
	step in the installation process, preparing your 
	system for OpenBSD installation.
@


1.1
log
@ho hum
@
text
@d2 4
a5 1
	NFS partitions
d7 1
a7 1
	Tape
@

