head	1.26;
access;
symbols
	OPENBSD_6_0:1.26.0.10
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.26.0.6
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.26.0.8
	OPENBSD_5_8_BASE:1.26
	OPENBSD_5_7:1.26.0.2
	OPENBSD_5_7_BASE:1.26
	OPENBSD_5_6:1.26.0.4
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.25.0.2
	OPENBSD_5_5_BASE:1.25
	OPENBSD_5_4:1.23.0.4
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.23.0.2
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.21.0.2
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.8
	OPENBSD_5_0:1.20.0.10
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.20.0.6
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.20.0.4
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.20.0.2
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.18.0.4
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.16.0.4
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.16.0.2
	OPENBSD_4_4_BASE:1.16
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.14.0.4
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.14.0.2
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.13.0.6
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.4
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.2
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.10.0.4
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.10.0.2
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.8.0.2
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.4.0.4
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.2
	OPENBSD_3_3_BASE:1.4;
locks; strict;
comment	@# @;


1.26
date	2014.03.19.01.59.48;	author tedu;	state Exp;
branches;
next	1.25;

1.25
date	2014.01.26.04.35.09;	author tedu;	state Exp;
branches;
next	1.24;

1.24
date	2013.12.04.23.20.19;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2013.02.25.20.34.07;	author miod;	state Exp;
branches;
next	1.22;

1.22
date	2013.02.09.19.47.09;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2012.06.21.01.00.36;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	2010.03.16.17.23.09;	author miod;	state Exp;
branches;
next	1.19;

1.19
date	2009.10.25.20.56.24;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2009.05.13.18.38.29;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2009.05.12.21.06.50;	author miod;	state Exp;
branches;
next	1.16;

1.16
date	2008.08.05.22.58.01;	author miod;	state Exp;
branches;
next	1.15;

1.15
date	2008.03.10.21.38.27;	author miod;	state Exp;
branches;
next	1.14;

1.14
date	2007.03.01.19.24.45;	author miod;	state Exp;
branches;
next	1.13;

1.13
date	2005.08.30.17.05.31;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2005.03.26.15.56.37;	author mickey;	state Exp;
branches;
next	1.11;

1.11
date	2005.03.25.22.18.00;	author mickey;	state Exp;
branches;
next	1.10;

1.10
date	2004.05.04.23.59.39;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2004.05.04.23.40.49;	author mickey;	state Exp;
branches;
next	1.8;

1.8
date	2004.03.17.09.25.09;	author jmc;	state Exp;
branches;
next	1.7;

1.7
date	2004.03.17.06.37.25;	author mickey;	state Exp;
branches;
next	1.6;

1.6
date	2004.03.16.08.25.00;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2004.01.20.17.48.37;	author miod;	state Exp;
branches;
next	1.4;

1.4
date	2003.03.25.19.57.20;	author miod;	state Exp;
branches;
next	1.3;

1.3
date	2003.02.15.01.23.26;	author miod;	state Exp;
branches;
next	1.2;

1.2
date	2003.01.04.00.18.06;	author miod;	state Exp;
branches;
next	1.1;

1.1
date	2002.12.19.01.00.13;	author miod;	state Exp;
branches;
next	;


desc
@@


1.26
log
@you are still welcome to install from tape, but as befits an elite master
of unix arcana, we will not condescend to tell you how. why spoil the fun?
@
text
@dnl	$OpenBSD: install,v 1.25 2014/01/26 04:35:09 tedu Exp $
dnl lots of texts coming from {mvme68k,vax}/install initially
OpenBSDInstallPrelude

Bootstrapping the installation ramdisk kernel is supported
from either the network or a CD-ROM.


Booting from CD-ROM installation media:

  To boot from SCSI CD-ROM, simply insert the CD into the drive before power
  up, then during the computer's self-test cycle, press the space bar.
  Subsequently at the PROM prompt issue a command:

	BOOT_ADMIN> search

  to initiate a search for all bootable devices available.  This procedure
  may take a few minutes and should you have configured network boot services
  present may find those too.  A sample output might be:

   Path Number        Device Path              Device Type
   -----------        -----------------        -----------
   P0                 SESCSI.2.0               TOSHIBA CD-ROM XM-6201TA
   P1                 LAN.10.0.0.5.3.254       boron
   P2                 FWSCSI.5.0               IBM     DDRS-34560WS
   P3                 FWSCSI.0.0               SEAGATE ST318436LW
   P4                 SESCSI.6.0               HP     HP35480A

  To boot from your CD-ROM type:

	BOOT_ADMIN> boot p0


Booting from Network:

  In order to bootstrap via the network, you must provide a second system to
  act as a boot server. It is convenient if this is a second OpenBSD machine
  as the necessary services are already installed, although source code for
  such programs as dhcpd can be found in OpenBSD's source tree, and should be
  reasonably portable to other UN*X-like operating systems. More information
  on diskless booting can be found in the OpenBSD diskless(8) manual page.

  Your MACHINE expects to be able to download a LIF (``Logical
  Interchange Format'') image, containing both the boot code and the kernel,
  via the HP rboot protocol, for older firmware, or via the bootp protocol,
  for more recent firmware.

  Old firmware operation

    Most of the 7xx models (except the 712, the second generation of 715, i.e.
    715/64/80/100/100XC, and the 74x) have an older version of PDC. There are
    two levels of interactive commands in this version.
    The first level is a short menu:

	b)   Boot from specified device
	s)   Search for bootable device
	a)   Enter Boot Administration mode
	x)   Exit and continue boot sequence

	Select from menu:

    In this case, you will need to setup rbootd on the server. Start by
    creating an /etc/rbootd.conf file on the bootserver. The format of this
    file is the ethernet address followed by the LIF filename. Here is an
    example:

	08:00:09:70:c4:11		lif{:--:}OSrev.fs

    Then start rbootd (or configure /etc/rc.conf to always start rbootd). Once
    rbootd is running, the server name will then appear on the MACHINE as part
    of the possible boot choices in a boot device search (``s'' command).

  Modern firmware operation

    More recent machines mostly those based on the 7100LC, 7200 and 7300LC CPU
    types have a different PDC version.  There is only one interactive mode,
    with a BOOT_ADMIN> prompt, which provides both boot settings and commands.

    In this case, you will need to set up dhcpd on the server, which can
    serve bootp protocol requests.  Start by editing the /etc/dhcpd.conf on
    the bootserver, and declare an information block. Here is an example:

	subnet 10.0.0.0 netmask 255.0.0.0 {
		host boron {
			filename "lif{:--:}OSrev.fs";
			hardware ethernet 08:00:09:70:c4:11;
			fixed-address 10.42.42.42;
		}
	}

    Do not forget to enable dhcpd.

    You will also need to enable tftpd, for the MACHINE to download the
    installation kernel (`filename' entry) from the server in its tftp
    directory.

  Common operation

    You are now ready to bootstrap the installation kernel. On your machine,
    escape to a prompt and boot from the network by entering ``boot lan isl''.
    On old PDC firmware, you will need to enter administration mode first.


Installing using the netboot procedure:

OpenBSDInstallPart2

	Boot your machine from the installation media as described above.

	It will take a while to load the installation kernel, especially from
	a slow network connection or a CD-ROM, most likely more than a minute.
	If some action doesn't eventually happen, or the spinning cursor
	has stopped and nothing further has happened, either your boot
	media is bad, your diskless setup is incorrect, or you may have
	a hardware or configuration problem.

OpenBSDInstallPart3(,"sd0")

OpenBSDInstallPart4

OpenBSDInstallPart5(,{:-
	Due to prom limitations, you should make sure the whole 'a'
	partition is CONTAINED WITHIN THE FIRST 2GB of the disk if
	you intend to boot from it.-:})

	Since the target disk will become the boot disk for your new
	OpenBSD/MACHINE installation, the disklabel program will restrict
	the available disk area to keep the first cylinder, which will
	contain the bootblock, safe from being overwritten. If you don't
	plan to install a bootblock on this disk, you can reclaim this
	space with the 'b' command.

OpenBSDInstallPart6({:-CD-ROM, -:})

OpenBSDURLInstall

OpenBSDCDROMInstall

OpenBSDNFSInstall

OpenBSDDISKInstall(,{:-only -:})

OpenBSDCommonInstall

OpenBSDInstallWrapup

OpenBSDCongratulations



OpenBSDUnattendedInstallation
@


1.25
log
@remove unnecessary so-called verbiage. ok chris deraadt miod
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.24 2013/12/04 23:20:19 jmc Exp $
d6 1
a6 1
from either network, tape or CD-ROM.
d9 1
a9 1
Booting from Tape or CD-ROM installation media:
a10 3
  You can burn a bootable CD-ROM and boot from it or you can prepare an
  installation tape as described in the "Creating an installation tape"
  section earlier.
a32 4
  To boot from your tape type:

	BOOT_ADMIN> boot p4

d133 1
a133 1
OpenBSDInstallPart6({:-CD-ROM, tape, -:})
a143 2

OpenBSDTAPEInstall
@


1.24
log
@committing uwe's autoinstall notes, as requested by deraadt;
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.23 2013/02/25 20:34:07 miod Exp $
d50 1
a50 1
  Your MACHINE expects to be able to download a so-called LIF (``Logical
@


1.23
log
@The rule of thumb for `your system runs an old PDC' left out PCXS systems.
Change it to `all 7xx systems, but 712 and 2nd generation 715, run old PDC'.
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.22 2013/02/09 19:47:09 miod Exp $
d157 4
@


1.22
log
@Update network boot configuration instructions to no longer refer to
bootparams termcap-like two-letter fields in the configuration file.
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.21 2012/06/21 01:00:36 deraadt Exp $
d27 1
a27 1
   P1                 LAN.10.0.0.5.3.254       lucifier
d57 3
a59 2
    Models such as 7[035]5, 715/33/50/75, 725/50/75 have an older version
    of PDC. There are two levels of interactive commands in this version.
@


1.21
log
@clean mac68k dribbles
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.20 2010/03/16 17:23:09 miod Exp $
d11 6
a16 6
You can burn a bootable CD-ROM and boot from it or you can prepare an
installation tape as described in the "Creating an installation tape"
section earlier.
To boot from SCSI CD-ROM, simply insert the CD into the drive before power
up, then during the computer's self-test cycle, press the space bar.
Subsequently at the PROM prompt issue a command:
d20 3
a22 3
to initiate a search for all bootable devices available.  This procedure
may take a few minutes and should you have configured network boot services
present may find those too.  A sample output might be:
d32 1
a32 1
To boot from your CD-ROM type:
d36 1
a36 1
To boot from your tape type:
d43 17
a59 17
In order to bootstrap via the network, you must provide a second system to
act as a boot server. It is convenient if this is a second OpenBSD machine
as the necessary services are already installed, although source code for
such programs as dhcpd can be found in OpenBSD's source tree, and should be
reasonably portable to other UN*X-like operating systems. More information
on diskless booting can be found in the OpenBSD diskless(8) manual page.

Your MACHINE expects to be able to download a so-called LIF (``Logical
Interchange Format'') image, containing both the boot code and the kernel,
via the HP rboot protocol, for older firmware, or via the bootp protocol,
for more recent firmware.

Old firmware operation

Models such as 7[035]5, 715/33/50/75, 725/50/75 have an older version
of PDC. There are two levels of interactive commands in this version.
The first level is a short menu:
d68 4
a71 3
In this case, you will need to setup rbootd on the server. Start by creating
an /etc/rbootd.conf file on the bootserver. The format of this file is the
ethernet address followed by the LIF filename. Here is an example:
d75 13
a87 13
Then start rbootd (or configure /etc/rc.conf to always start rbootd). Once
rbootd is running, the server name will then appear on the MACHINE as part of
the possible boot choices in a boot device search (``s'' command).

Modern firmware operation

More recent machines mostly those based on the 7100LC, 7200 and 7300LC CPU
types have a different PDC version.  There is only one interactive mode,
with a BOOT_ADMIN> prompt, which provides both boot settings and commands.

In this case, you will need to set up dhcpd on the server, which can
serve bootp protocol requests.  Start by editing the /etc/dhcpd.conf on
the bootserver, and declare an information block. Here is an example:
d97 1
a97 1
Do not forget to enable dhcpd.
d99 3
a101 2
You will also need to enable tftpd, for the MACHINE to download the
miniroot (bf entry) from the server in the /tftpboot (td entry) directory.
d103 1
a103 1
Common operation
d105 3
a107 3
You are now ready to bootstrap the miniroot. On your MACHINE, escape to a
prompt and boot from the network by entering ``boot lan isl''. On old PDC
firmware, you will need to enter administration mode first.
d116 1
a116 1
	It will take a while to load the miniroot image, especially from
@


1.20
log
@Jumbo commit for 4.7 installation instructions:
- do not mention tape as an installation media on systems where it is very
  unlikely that a tape drive can be connected to (i.e. anything with only
  USB as expansion capabilities)
- do not mention that fetching the installation sets from a partition is
  ``for upgrades only''. You may do this for installation, but of course
  you can not use a partition which will be newfs'ed for that purpose.
- mention ext2fs partitions as possible installation sets source only on
  platforms where the installation media actually can mount an ext2fs
  filesystem.
- stress the fact that the sparc miniroot image is a GENERIC kernel with
  a little on-disk filesystem, and not a RAMDISK kernel with a little
  in-memory filesystem, and thus must not be overwritten during installation
  (i.e. be careful if you repartition the disk the miniroot has been put on).
- more conv=sync -> conv=osync for tape setup instructions.
- model-specific layout changes on armish, loongson and socppc instructions.
- fix various typos and grammar mistaeks.

"sure" deraadt@@ (without eyeballing)
@
text
@d1 2
a2 2
dnl	$OpenBSD: install,v 1.19 2009/10/25 20:56:24 miod Exp $
dnl lots of texts coming from {mac68k,mvme68k,vax}/install initially
@


1.19
log
@Add a mention the `a' partition needs to be contained within the first 2GB
of the disk, for the prom to be able to correctly read the kernel image.
Found the hard way by landry@@
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.18 2009/05/13 18:38:29 miod Exp $
d137 1
a137 1
OpenBSDInstallPart6({:-CD-ROM, -:})
@


1.18
log
@Better disk partitioning details, especially for MBR + disklabel or
HFS + disklabel setups.
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.17 2009/05/12 21:06:50 miod Exp $
d125 4
a128 1
OpenBSDInstallPart5
@


1.17
log
@Try to catch up with installer changes in the installation notes.
Also, the per-platform features are moved to a common place, which makes
the MD layout easier to work on. m4.common is still a tangled mess of subtly
placed dnl, though...
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.16 2008/08/05 22:58:01 miod Exp $
d136 1
a136 3
OpenBSDFTPInstall

OpenBSDHTTPInstall
@


1.16
log
@Better description of the installation steps:
- document questions in proper order: hostname before network configuration,
  DNS only if network is configured, sshd and ntpd, aperture only on
  machines which need it, serial console only on machines which need it.
  This is done by splitting the end of OpenBSDCommonURL in various
  macros, OpenBSDInstallWrapup, OpenBSDInstallAperture, OpenBSDInstallConsole
  and OpenBSDInstallWrapupPart2.
- use the above macros when appropriate, OpenBSDInstallWrapup* being
  mandatory on all arches.
- remove serial console configuration blurb on sparc and sparc64, it is
  handled by OpenBSDInstallConsole now.
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.15 2008/03/10 21:38:27 miod Exp $
d121 1
a121 1
OpenBSDBootMsgs(,"sd0")
d123 1
a123 7
	You will next be asked for your terminal type.  If you are
	installing from a non-serial console, the default of "vt220"
	is correct.  If you are installing from a serial console
	you should choose the terminal type from amongst those listed.
	(If your terminal type is xterm, just use vt220.)

OpenBSDInstallPart3
d125 1
a125 1
OpenBSDInstallPart4
d134 1
a134 3
OpenBSDInstallPart5(sd0)

OpenBSDInstallNet({:-CD-ROM, -:},nofloppy)
a139 2
OpenBSDTAPEInstall

d146 1
a146 1
OpenBSDCommonFS
d148 1
a148 1
OpenBSDCommonURL
a150 2

OpenBSDInstallWrapupPart2
@


1.15
log
@Suggest vt220 as a TERM value for serial-console-in-an-xterm setup everywhere
instead of a mix of vt100 and vt220.
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.14 2007/03/01 19:24:45 miod Exp $
d159 4
@


1.14
log
@Your spring jumbo m4-fu. This time:
- mention comp contains an objective-C compiler too.
- rewrite InstallPrelude so that it will only output the ``know your drive
  geometry'' blurb if asked to, and for a specified disk type. Use it for
  non-IDE and non-SCSI disks only, otherwise the kernel is good enough to
  do the job without the users' help.
- similarily, adapt BootMsgs to make the second part of the geometry blurb
  optional, and to accept up to three disk types. Use this to report better
  disk names (i.e. no point saying an scsi disk would show up as sd0 on
  platforms which can't have scsi disks, or won't be able to boot from them).
- in InstallPart4, drop the part about block and fragment sizes in
  disklabel. The defaults are good, and you won't get to change them unless
  you switched to expert mode.
- the default answer to ``wanna get the ftp mirror list, unzel?'' is ``no'',
  so pressing enter to get it is not enough anymore (-:
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.13 2005/08/30 17:05:31 miod Exp $
d124 1
a124 1
	installing from a non-serial console, the default of "vt100"
d127 1
a127 1
	(If your terminal type is xterm, just use vt100).
@


1.13
log
@Update sets size, and a few tweaks; also size of files smaller than 1MB
get printed in KB now; ok mickey@@ deraadt@@
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.12 2005/03/26 15:56:37 mickey Exp $
d121 1
a121 1
OpenBSDBootMsgs
@


1.12
log
@expand the cdrom section into the tape reelm
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.11 2005/03/25 22:18:00 mickey Exp $
d6 1
a6 1
from both network and CD-ROM.
d46 1
a46 1
such programs as mopd can be found in OpenBSD's source tree, and should be
d96 1
a96 1
Do not forget to enable dhcpd, either as a standalone process.
@


1.11
log
@put in some cdrom booting notes cloned from hp300
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.10 2004/05/04 23:59:39 deraadt Exp $
d9 1
a9 1
Booting from CD-ROM installation media:
d11 3
a13 1
You can burn a bootable CD-ROM and boot from it.
d30 1
d35 4
@


1.10
log
@de-emphasize bootpd even more; mickey ok
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.9 2004/05/04 23:40:49 mickey Exp $
d5 27
a31 2
Currently, the only way to bootstrap the installation procedure is
to boot the miniroot over the network.
a106 1
dnl mention slow cdrom someday
d108 1
a108 1
	a slow network connection, most likely more than a minute.
a112 3

	When presented with the boot prompt, simply press enter, or wait
	for the kernel to autoboot after 5 seconds.
@


1.9
log
@make a new example w/ dhcpd instead
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.7 2004/03/17 06:37:25 mickey Exp $
d20 2
a21 2
via the HP rboot protocol, for older firmware, or via bootp, for
more recent firmware.
d52 3
a54 3
In this case, you will need to set up either bootpd or dhcpd on the server.
Assuming a dhcpd setup, start by editing the /etc/dhcpd.conf on the bootserver,
and declare an information block. Here is an example:
d64 1
a64 1
Do not forget to enable dhcpd, either as a standalone process, or via inetd.
@


1.8
log
@grammar, consistency fixes, and typos;
ok miod@@
@
text
@d5 1
a5 1
Currently, the only way to bootstrap the installation procedure is 
d20 1
a20 1
via the HP rboot protocol, for older firmware, or via bootp or dhcp, for
d36 1
a36 1
In this case, you will need to set up rbootd on the server. Start by creating
d38 1
a38 1
Ethernet address followed by the LIF filename. Here is an example:
d48 3
a50 3
More recent machines mostly based on the 7100LC, 7200 and 7300LC CPU types
have a different PDC version.  There is only one interactive mode, with a
BOOT_ADMIN> prompt, which provides both boot settings and commands.
d53 1
a53 1
Assuming a bootp setup, start by editing the /etc/bootptab on the bootserver,
d56 7
a62 9
	boron:\
		ha=08000970c411:\
		bf=lif{:--:}OSrev.fs:\
		hd=:\
		ht=ethernet:\
		ip=10.42.42.42:\
		rp=/export/MACHINE:\
		sm=255.0.0.0:\
		td=/tftpboot:
d64 1
a64 1
Do not forget to enable bootpd, either as a standalone process, or via inetd.
d99 2
a100 2
	(If your terminal type is xterm, just use vt100.)
	
@


1.7
log
@repair old/new pdc recognition
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.6 2004/03/16 08:25:00 jmc Exp $
d36 1
a36 1
In this case, you will need to setup rbootd on the server. Start by creating
d38 1
a38 1
ethernet address followed by the LIF filename. Here is an example:
d101 1
a101 1
	(If your terminal type is xterm, just use vt100).
@


1.6
log
@typos and consistency fixes;
ok miod@@
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.5 2004/01/20 17:48:37 miod Exp $
d25 2
a26 2
PDC ROM v1.4 and below are easily recognizable, as they will start with a
text banner. There are two levels of interactive commands in this version.
d48 3
a50 4
PDC ROM 1.5 and above will start with a small graphics window at the screen
center (unless you are using a serial console). There is only one interactive
mode, with a BOOT_ADMIN> prompt, which provides both boot settings and
commands.
@


1.5
log
@No HP-IB disks on hppa (yet).
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.4 2003/03/25 19:57:20 miod Exp $
d53 1
a53 1
In this case, you will need to setup either bootpd or dhcpd on the server.
@


1.4
log
@Killer typos. My bad.
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.3 2003/02/15 01:23:26 miod Exp $
d129 1
a129 1
OpenBSDDISKInstall({:-"hdN" or -:},{:-only -:})
@


1.3
log
@Better documentation on how to install the latest OpenBSD/hppa snapshots.
These notes are slowly starting to get in shape when compared to other
architectures, although there are still some unclear points and rought edges
(not even mentioning a couple of references to an upgrade feature...)
@
text
@d1 1
a1 1
dnl	$OpenBSD: install,v 1.2 2003/01/04 00:18:06 miod Exp $
d104 1
a104 1
OpenBDSInstallPart3
d115 1
a115 1
OpenBSDDInstallPart5(sd0)
@


1.2
log
@Various typos and inaccuracies; David Krause
@
text
@d1 3
a3 2
dnl	$OpenBSD: install,v 1.1 2002/12/19 01:00:13 miod Exp $
dnl lots of texts coming from {mac68k,mvme68k,vax}/install intially
d5 2
a6 2
At the moment, the only way to install OpenBSD is to use a diskless setup.
No installation media is provided.
d9 1
a9 1
Diskless Setup Configuration:
a22 1

d40 1
a40 1
	08:00:09:70:c4:11		boot.lif
a45 1

d59 1
a59 1
		bf=boot.lif:\
d69 23
a91 2
You will also need to enable tftpd, for the MACHINE to download its boot.lif
(bf entry) image from the server in the /tftpboot (td entry) directory.
d93 2
d96 30
a125 1
Common operation
d127 1
a127 2
Next you need to export a directory for your new machine to mount over
NFS. This is accomplished by adding an entry to /etc/exports such as:
d129 1
a129 1
	/export/MACHINE -maproot=root snake
d131 1
a131 1
where ``snake'' is the hostname of your MACHINE.
d133 1
a133 55
Finally, you need to add an entry for your MACHINE in /etc/bootparams.
For example:

	snake		root=myserver:/export/MACHINE

Enable rpc.bootparamd either by turning it on in /etc/rc.conf and rebooting,
or by running it manually.

Unpack at least `base{:--:}OSrev.tgz' and `etc{:--:}OSrev.tgz' sets on the server in the
root directory for your target machine, `/export/MACHINE' in this example. If
you elect to use a separately NFS-mounted filesystem for `/usr' with your
diskless setup, make sure the "./usr" base files in base{:--:}OSrev.tgz end
up in the correct location. One way to do this is to temporarily use a
loopback mount on the server, re-routing <root>/usr to your server's exported
OpenBSD "/usr" directory.

A few configuration files in <root>/etc need to be edited:

	dhclient.conf
		DHCP client information, if necessary, check dhclient.conf(5)
		for the syntax.
	fstab
		Enter the entries for the remotely mounted filesystems.
		For example:
		  server:/export/root/client       /     nfs  rw 0 0
		  server:/export/exec/MACHINE.OpenBSD /usr  nfs  rw 0 0
		Be sure to add the server swap space, such as:
		  server:/export/swap/client none swap sw,nfsmntpt=/swap 0 0
		after creating the `<root>/swap' directory.
	hostname.if (likely, hostname.ie0)
		Configuration of the host adapter, check hostname.if(5)
		for the syntax.
	hosts
		Add the IP addresses of both server and client.
	mygate
		This file contains the IP address of the default gateway.
	myname
		This file contains the client's hostname, with a
		fully-qualified domain name.
	resolv.conf
		Name server configuration, check resolv.conf(5) for the
		syntax.

Now you must populate the `/dev' directory for your client. After
changing your working directory to `<root>/dev', run the MAKEDEV script.
Depending on your host operating system, you may get error messages about
unknown users and groups. These errors are inconsequential for the purpose
of installing OpenBSD.  However, you will want to correct them after
booting your machine. To do so, simply re-run MAKEDEV on your OpenBSD
machine once it has booted.

Once these files are configured, your system should be able to behave like
any other OpenBSD system once booted. On your MACHINE, escape to a prompt and
boot from the network by entering ``boot lan isl''. On old PDC firmware, you
will need to enter administration mode first.
a134 1
dnl this is a bit hypocritical. Oh well.
@


1.1
log
@Very crude notes for the hppa adventurous person.
@
text
@d1 1
a1 1
dnl	$OpenBSD$
d110 1
a110 1
		  server:/export/swap/client /swap swap sw,nfsmntpt=/swap 0 0
d126 1
a126 1
Now you must populate the the `/dev' directory for your client. After
@

