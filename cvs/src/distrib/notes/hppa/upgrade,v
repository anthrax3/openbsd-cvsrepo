head	1.9;
access;
symbols
	OPENBSD_6_1:1.9.0.26
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.9.0.22
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.18
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.20
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.9.0.14
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.9.0.16
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.12
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.9.0.10
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.9.0.8
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.6
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.4
	OPENBSD_5_0:1.9.0.2
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.8.0.4
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.8.0.2
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.7.0.2
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.4
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.6.0.4
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.2
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.5.0.22
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.18
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.16
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.14
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.5.0.12
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.10
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.8
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.5.0.6
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.4
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3;
locks; strict;
comment	@# @;


1.9
date	2011.08.08.20.03.03;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2010.06.05.19.35.57;	author miod;	state Exp;
branches;
next	1.7;

1.7
date	2009.05.17.00.31.51;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2008.08.05.16.41.10;	author miod;	state Exp;
branches;
next	1.5;

1.5
date	2003.09.07.01.15.52;	author mickey;	state Exp;
branches;
next	1.4;

1.4
date	2003.09.06.22.22.43;	author miod;	state Exp;
branches;
next	1.3;

1.3
date	2003.03.06.04.19.45;	author david;	state Exp;
branches;
next	1.2;

1.2
date	2003.01.14.21.54.34;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	2002.12.19.01.00.13;	author miod;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Usual release distrib/notes churning. ok deraadt@@
@
text
@dnl	$OpenBSD: upgrade,v 1.8 2010/06/05 19:35:57 miod Exp $
OpenBSDUpgrade({:-the LIF image ``lif{:--:}OSrev.fs'', or a RAMDISK kernel ``bsd.rd''-:})
@


1.8
log
@Mention the bootblock upgrade before booting bsd.rd is only necessary for
4.4 and older; this block will disappear in a few releases from now.
@
text
@d1 2
a2 39
dnl	$OpenBSD: upgrade,v 1.7 2009/05/17 00:31:51 sthen Exp $
Warning! Upgrades to OpenBSD OSREV are currently only supported from the
immediately previous release.  The upgrade process will also work with older
releases, but might not execute some migration tasks that would be necessary
for a proper upgrade.  The best solution, whenever possible, is to backup
your data and reinstall from scratch.

To upgrade OpenBSD OSREV from a previous version, start with the general
instructions in the section "Installing OpenBSD".

    Warning! If you intend to upgrade an OpenBSD 4.4 system, or an even older
    version, by booting bsd.rd from the existing OpenBSD system disk, it will
    be necessary to update your boot blocks first.
    To do this, replace your existing boot blocks with the xxboot file
    provided in the OpenBSD/MACHINE OSrev distribution:
	  # cat xxboot > /usr/mdec/xxboot
	  # /sbin/disklabel -B /dev/rsd0c
    (assuming your system disk is sd0). Do NOT use `cp' to copy the boot
    blocks, as there are several hard links to /usr/mdec/xxboot which need
    to be preserved for this operation to succeed.

Boot from the LIF image ``lif{:--:}OSrev.fs'', or a RAMDISK kernel ``bsd.rd''.
When prompted, select the (U)pgrade option rather than the (I)nstall
option at the prompt in the install process.

The upgrade script will ask you for the existing root partition, and
will use the existing filesystems defined in /etc/fstab to install the
new system in.  It will also use your existing network parameters.

From then, the upgrade procedure is very close to the installation
procedure described earlier in this document.  Note that the upgrade
procedure will not let you pick the ``etc{:--:}OSrev.tgz'' set, so as to
preserve your files in `/etc' which you are likely to have customized
since a previous installation.

However, it is strongly advised that you unpack the etc{:--:}OSrev.tgz set in
a temporary directory and merge changes by hand, since some components of
your system may not function correctly until your files in `/etc' are
updated.
@


1.7
log
@"all components of your system may not function" -> "some components..."
ok miod@@
@
text
@d1 1
a1 3
dnl	$OpenBSD: upgrade,v 1.6 2008/08/05 16:41:10 miod Exp $
dnl Replace with this (removing the mention about the bootblocks update)
dnl for 4.5 or 4.6, maybe...
d11 10
a20 13
dnl For 4.5, alter this text to mention this is needed for bootblocks
dnl older than 4.4.
Warning! If you intend to upgrade by booting bsd.rd from the existing
OpenBSD system disk, it will be necessary to update your boot blocks first.
To do this, replace your existing boot blocks with the xxboot file provided
in the OpenBSD/MACHINE OSrev distribution:

  # cat xxboot > /usr/mdec/xxboot
  # /sbin/disklabel -B /dev/rsd0c

(assuming your system disk is sd0). Do NOT use `cp' to copy the boot blocks,
as there are several hard links to /usr/mdec/xxboot which need to be
preserved for this operation to succeed.
@


1.6
log
@Tell people to update their bootblocks (and how to do so) if they
intend to upgrade with bsd.rd.
@
text
@d1 1
a1 1
dnl	$OpenBSD: upgrade,v 1.5 2003/09/07 01:15:52 mickey Exp $
d42 1
a42 1
a temporary directory and merge changes by hand, since all components of
@


1.5
log
@better upgrade media; miod@@ ok
@
text
@d1 44
a44 2
dnl	$OpenBSD: upgrade,v 1.4 2003/09/06 22:22:43 miod Exp $
OpenBSDUpgrade({:-the LIF image ``lif{:--:}OSrev.fs'', or a RAMDISK kernel ``bsd.rd''-:})
@


1.4
log
@MD Installation notes updates for 3.4, 1/3

This mainly includes an hopefully helpful section about i386 upgrades, which
I urge knowledgeable people and native english speakers to check out, in
order to polish it soon enough.
@
text
@d1 2
a2 3
dnl	$OpenBSD: upgrade,v 1.3 2003/03/06 04:19:45 david Exp $
dnl OpenBSDUpgrade({:-the CD-ROM, the miniroot-:})
OpenBSDUpgrade({:-the miniroot-:})
@


1.3
log
@spelling fixes
ok henning@@
@
text
@d1 1
a1 4
dnl	$OpenBSD: upgrade,v 1.2 2003/01/14 21:54:34 mickey Exp $
Since OpenBSD/OSREV is the first MACHINE release, there is no upgrade
functionality.
dnl
d3 1
@


1.2
log
@sprinkle some more fluff around
@
text
@d1 1
a1 1
dnl	$OpenBSD: upgrade,v 1.1 2002/12/19 01:00:13 miod Exp $
d3 1
a3 1
functionnality.
@


1.1
log
@Very crude notes for the hppa adventurous person.
@
text
@d1 1
a1 1
dnl	$OpenBSD$
d5 1
a5 1
dnl OpenBSDUpgrade({:-the CD-ROM, the miniroot, or the installation floppy-:})
@

