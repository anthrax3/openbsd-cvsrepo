head	1.12;
access;
symbols
	OPENBSD_6_1:1.12.0.12
	OPENBSD_6_1_BASE:1.12
	OPENBSD_6_0:1.12.0.8
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.12.0.4
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.12.0.6
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.12.0.2
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.10.0.6
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.10.0.4
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.9.0.24
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.9.0.22
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.20
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.18
	OPENBSD_5_0:1.9.0.16
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.14
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.12
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.8
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.9.0.10
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.6
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.4
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.7.0.12
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.10
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.8
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.7.0.6
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.4
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.7.0.2
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.6.0.6
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.4
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.2
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.5.0.2
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.4.0.20
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.18
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9:1.4.0.16
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.14
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.12
	OPENBSD_2_7_BASE:1.4
	OPENBSD_2_6:1.4.0.10
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.8
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.6
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.4.0.4
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.2
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.1.0.4
	OPENBSD_2_1_BASE:1.1
	OPENBSD_2_0:1.1.0.2
	OPENBSD_2_0_BASE:1.1;
locks; strict;
comment	@# @;


1.12
date	2015.02.23.09.33.38;	author deraadt;	state Exp;
branches;
next	1.11;
commitid	sE7W2XcFYu0zEQKd;

1.11
date	2015.01.12.17.10.36;	author deraadt;	state Exp;
branches;
next	1.10;
commitid	YnC5MZEzOuyYFUOV;

1.10
date	2014.03.02.20.19.17;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2007.10.18.18.16.20;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2007.08.14.18.57.32;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2004.08.15.21.43.35;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2003.03.04.09.28.16;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2002.04.22.02.40.02;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	97.09.18.17.18.37;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	97.09.17.14.19.19;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	97.09.07.19.59.02;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	96.06.02.11.43.50;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.12
log
@oops, cdfs must be built.  spotted by todd, here is the correct diff
@
text
@#	$OpenBSD: Makefile,v 1.11 2015/01/12 17:10:36 deraadt Exp $

SUBDIR= ramdisk_cd ramdisk cdfs

.if	make(obj) || make(cleandir) || make(clean)
SUBDIR+= iso
.endif

unconfig:
	cd ramdisk_cd; ${MAKE} unconfig
	cd ramdisk; ${MAKE} unconfig

.include <bsd.subdir.mk>
@


1.11
log
@Due to recent savings with instbin, we can take i386 to one install
floppy. A few drivers are missing, but the world has moved on (the drivers
included are always a work in progress)
Speeds up make release substantially, of course.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2014/03/02 20:19:17 deraadt Exp $
d3 1
a3 1
SUBDIR= ramdisk_cd ramdisk
@


1.10
log
@Give up on the other kind of CD.  Noone uses it, I am positive.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2007/10/18 18:16:20 deraadt Exp $
d3 1
a3 1
SUBDIR= ramdisk_cd ramdiskA ramdiskB ramdiskC cdfs
d11 1
a11 3
	cd ramdiskA; ${MAKE} unconfig
	cd ramdiskB; ${MAKE} unconfig
	cd ramdiskC; ${MAKE} unconfig
@


1.9
log
@enter iso dir for clean/cleandir, too, to delete dribbles
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2007/08/14 18:57:32 deraadt Exp $
d3 1
a3 1
SUBDIR= ramdisk_cd ramdiskA ramdiskB ramdiskC cdfs cdfs-emu
@


1.8
log
@make obj dirs in iso; talked with miod about it
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2004/08/15 21:43:35 deraadt Exp $
d5 1
a5 1
.if	make(obj)
@


1.7
log
@sigh, build both CD media
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2003/03/04 09:28:16 deraadt Exp $
d4 4
@


1.6
log
@Provide a ~2MB ISO file which contains *JUST* $REV/i386/cdrom{Rev}.fs,
which can then be burnt onto a CD, and then you can do an ftp install
from that.  This will suffice for people without floppies in upcoming
machines.  No, I am not going to put the sets on that CD.  We've been
over this before.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2002/04/22 02:40:02 deraadt Exp $
d3 1
a3 1
SUBDIR= ramdisk_cd ramdiskA ramdiskB ramdiskC cdfs
@


1.5
log
@move things back a directory
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2000/07/11 19:23:58 deraadt Exp $
d3 1
a3 1
SUBDIR= ramdisk_cd ramdiskA ramdiskB ramdiskC
@


1.4
log
@if we start at the top of distrib, we will end up in the right place...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1997/09/17 14:19:19 deraadt Exp $
d3 7
a9 1
SUBDIR=	floppies
@


1.3
log
@generalize Todd's work for ftp/pppd/rsh to ramdisks and miniroots on all
architectures.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 1997/09/07 19:59:02 millert Exp $
d3 1
a3 1
SUBDIR=	../crunch floppies
@


1.2
log
@Build private versions of ftp and pppd w/o the bloat.  This could be used
to remove kerberos from the the floppy as well as Theo pointed out.
This allows us to put back some things that were removed due to lack of space.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1 1996/06/02 11:43:50 deraadt Exp $
d3 1
a3 1
SUBDIR=	../crunch special floppies
@


1.1
log
@traverse down below, building what we need
@
text
@d1 1
a1 1
#	$OpenBSD$
d3 1
a3 1
SUBDIR=	../crunch floppies
@
