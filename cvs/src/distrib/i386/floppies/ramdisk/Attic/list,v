head	1.28;
access;
symbols
	OPENBSD_2_5:1.27.0.2
	OPENBSD_2_5_BASE:1.27
	OPENBSD_2_4:1.23.0.2
	OPENBSD_2_4_BASE:1.23
	OPENBSD_2_3:1.15.0.2
	OPENBSD_2_3_BASE:1.15
	OPENBSD_2_2:1.11.0.2
	OPENBSD_2_2_BASE:1.11
	OPENBSD_2_1:1.7.0.2
	OPENBSD_2_1_BASE:1.7;
locks; strict;
comment	@# @;


1.28
date	99.08.06.20.49.11;	author deraadt;	state dead;
branches;
next	1.27;

1.27
date	99.04.08.08.01.26;	author deraadt;	state Exp;
branches;
next	1.26;

1.26
date	99.03.04.00.01.24;	author deraadt;	state Exp;
branches;
next	1.25;

1.25
date	99.03.02.05.47.24;	author deraadt;	state Exp;
branches;
next	1.24;

1.24
date	99.02.28.06.50.51;	author deraadt;	state Exp;
branches;
next	1.23;

1.23
date	98.10.10.06.57.15;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	98.10.09.11.20.43;	author deraadt;	state Exp;
branches;
next	1.21;

1.21
date	98.10.07.18.42.10;	author millert;	state Exp;
branches;
next	1.20;

1.20
date	98.10.07.09.09.29;	author deraadt;	state Exp;
branches;
next	1.19;

1.19
date	98.09.24.06.43.27;	author millert;	state Exp;
branches;
next	1.18;

1.18
date	98.09.17.20.14.14;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	98.09.17.15.31.16;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	98.09.15.21.54.44;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	98.03.30.20.47.25;	author deraadt;	state Exp;
branches;
next	1.14;

1.14
date	97.12.02.02.30.05;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	97.12.01.02.43.38;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	97.11.17.17.39.56;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	97.09.06.03.53.59;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	97.09.05.09.08.18;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	97.09.02.23.06.24;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	97.08.30.17.42.53;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	97.05.11.21.50.07;	author tholo;	state Exp;
branches;
next	1.6;

1.6
date	97.05.08.15.52.29;	author tholo;	state Exp;
branches;
next	1.5;

1.5
date	97.05.08.05.56.23;	author tholo;	state Exp;
branches;
next	1.4;

1.4
date	97.05.03.07.50.16;	author tholo;	state Exp;
branches;
next	1.3;

1.3
date	97.04.22.00.35.10;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	97.04.17.02.10.46;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	97.04.13.17.17.55;	author mickey;	state Exp;
branches;
next	;


desc
@@


1.28
log
@new install media.  floppyXX.fs is the regular one.  floppyBXX.fs contains no
none of the scsi drivers on the first floppy, but others (to be detailed
elsewhere).  bsd.rd is still the one from floppyXX.fs.  finally, cdromXX.fs
is a 2.88MB install, which contains a superset of all these.. to be placed on
the CD.
@
text
@#	$OpenBSD: list,v 1.27 1999/04/08 08:01:26 deraadt Exp $

# copy the crunched binary, link to it, and kill it
COPY	${OBJDIR}/instbin	instbin
LINK	instbin			bin/cat
LINK	instbin			bin/chmod
LINK	instbin			bin/cp
LINK	instbin			bin/cpio bin/pax bin/tar
LINK	instbin			bin/dd
LINK	instbin			bin/df
LINK	instbin			bin/ed
LINK	instbin			bin/expr
LINK	instbin			bin/ln
LINK	instbin			bin/ls
LINK	instbin			bin/mkdir
LINK	instbin			bin/mv
LINK	instbin			bin/rm
LINK	instbin			bin/sh bin/ksh
LINK	instbin			bin/sleep
LINK	instbin			bin/stty
LINK	instbin			sbin/disklabel
LINK	instbin			sbin/dhclient
LINK	instbin			sbin/fdisk
LINK	instbin			sbin/fsck sbin/fsck_ffs
LINK	instbin			sbin/halt sbin/reboot
LINK	instbin			sbin/ifconfig
LINK	instbin			sbin/init
LINK	instbin			sbin/mknod
LINK	instbin			sbin/mount
LINK	instbin			sbin/mount_cd9660
LINK	instbin			sbin/mount_ffs
LINK	instbin			sbin/mount_msdos
LINK	instbin			sbin/mount_nfs
LINK	instbin			sbin/mount_kernfs
LINK	instbin			sbin/mount_ext2fs
LINK	instbin			sbin/newfs sbin/mount_mfs
LINK	instbin			sbin/ping
LINK	instbin			sbin/restore
LINK	instbin			sbin/route
#LINK	instbin			sbin/scsi
#LINK	instbin			sbin/swapon
LINK	instbin			sbin/umount
LINK	instbin			usr/bin/egrep usr/bin/fgrep usr/bin/grep
LINK	instbin			usr/bin/ftp
LINK	instbin			usr/bin/gzip usr/bin/gunzip usr/bin/gzcat
LINK	instbin			usr/bin/less usr/bin/more
LINK	instbin			usr/bin/rsh
LINK	instbin			usr/bin/sed
LINK	instbin			usr/bin/sort
LINK	instbin			usr/sbin/chown usr/sbin/chgrp
LINK	instbin			usr/mdec/installboot
SPECIAL	/bin/rm instbin

# `internal' crunchgen links
ARGVLINK sh		-sh

# copy the MAKEDEV script and make some devices
COPY	${DESTDIR}/dev/MAKEDEV	dev/MAKEDEV
SPECIAL	cd dev; sh MAKEDEV ramdisk
SPECIAL	/bin/rm dev/MAKEDEV

# we need the contents of /usr/mdec
COPY	${DESTDIR}/usr/mdec/biosboot	usr/mdec/biosboot
COPY	${DESTDIR}/usr/mdec/mbr		usr/mdec/mbr
COPY	${DESTDIR}/usr/mdec/boot	usr/mdec/boot

# various files that we need in /etc for the install
COPY	${DESTDIR}/etc/group		etc/group
COPY	${DESTDIR}/etc/protocols	etc/protocols
COPY	${DESTDIR}/etc/services		etc/services
COPY	${DESTDIR}/etc/spwd.db		etc/spwd.db
COPY	${DESTDIR}/etc/disktab		etc/disktab.shadow
SYMLINK	/tmp/disktab.shadow		etc/disktab
SYMLINK	/tmp/fstab.shadow		etc/fstab
SYMLINK	/tmp/resolv.conf.shadow		etc/resolv.conf
SYMLINK	/tmp/hosts			etc/hosts

# dhcp things
COPY	${DESTDIR}/sbin/dhclient-script sbin/dhclient-script

# and the common installation tools
COPY	${CURDIR}/termcap.pcvt	usr/share/misc/termcap
#COPY	${DESTDIR}/usr/share/misc/scsi_modes	usr/share/misc/scsi_modes

# and the installation tools
COPY	dot.profile			.profile
COPY	install.md			install.md
COPY	${CURDIR}/../../../miniroot/install.sh		install
COPY	${CURDIR}/../../../miniroot/upgrade.sh		upgrade
SPECIAL sed "/^VERSION=/s/=.*/=${REV}/" < ${CURDIR}/../../../miniroot/install.sub > install.sub
SPECIAL	chmod 755 install upgrade
@


1.27
log
@and... once again... swapon goes away
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.26 1999/03/04 00:01:24 deraadt Exp $
@


1.26
log
@swapon now fits again
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.25 1999/03/02 05:47:24 deraadt Exp $
d41 1
a41 1
LINK	instbin			sbin/swapon
@


1.25
log
@argh, swapon does not fit
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.24 1999/02/28 06:50:51 deraadt Exp $
d41 1
a41 1
#LINK	instbin			sbin/swapon
@


1.24
log
@put swapon on i386 floppy
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.23 1998/10/10 06:57:15 deraadt Exp $
d41 1
a41 1
LINK	instbin			sbin/swapon
@


1.23
log
@remove scsi(8).. we need more space for drivers
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.22 1998/10/09 11:20:43 deraadt Exp $
d41 1
@


1.22
log
@no need for dhclient.conf anymore; created by script
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.21 1998/10/07 18:42:10 millert Exp $
d40 1
a40 1
LINK	instbin			sbin/scsi
d82 1
a82 1
COPY	${DESTDIR}/usr/share/misc/scsi_modes	usr/share/misc/scsi_modes
@


1.21
log
@kill hostname, pwd, test, sync
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.20 1998/10/07 09:09:29 deraadt Exp $
a77 1
COPY	${CURDIR}/../../../miniroot/dhclient.conf etc/dhclient.conf
@


1.20
log
@no need for /bin/test on the floppy
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.19 1998/09/24 06:43:27 millert Exp $
a12 1
LINK	instbin			bin/hostname
a16 1
LINK	instbin			bin/pwd
a20 1
LINK	instbin			bin/sync
@


1.19
log
@use cutword, not cut(1), and remove cut(1) from the floppy
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.18 1998/09/17 20:14:14 deraadt Exp $
a23 1
LINK	instbin			bin/test bin/[
@


1.18
log
@custom floppy dhclient.conf; asks for much more info
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.17 1998/09/17 15:31:16 deraadt Exp $
a45 1
LINK	instbin			usr/bin/cut
@


1.17
log
@dhclient-script should be in sbin
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.16 1998/09/15 21:54:44 deraadt Exp $
d83 1
a83 1
COPY	${DESTDIR}/etc/dhclient.conf	etc/dhclient.conf
@


1.16
log
@add dhclient support; remove ppp/slip for now
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.15 1998/03/30 20:47:25 deraadt Exp $
d84 1
a84 1
COPY	${DESTDIR}/etc/dhclient-script etc/dhclient-script
@


1.15
log
@make upgrade executable
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.14 1997/12/02 02:30:05 deraadt Exp $
d26 1
a43 1
LINK	instbin			sbin/slattach
a53 1
LINK	instbin			usr/sbin/chat
a54 1
LINK	instbin			usr/sbin/pppd
d82 3
a84 1
COPYDIR	${DESTDIR}/etc/ppp		etc/ppp
@


1.14
log
@repository move of src/bin/pdksh to src/bin/ksh
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.13 1997/12/01 02:43:38 deraadt Exp $
d96 1
a96 1
SPECIAL	chmod 755 install
@


1.13
log
@bye bye vi, curses got too large. alternatives anyone?
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.12 1997/11/17 17:39:56 deraadt Exp $
d20 1
a20 1
LINK	instbin			bin/sh bin/pdksh
@


1.12
log
@old bootblocks went away
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.11 1997/09/06 03:53:59 millert Exp $
a53 1
LINK	instbin			usr/bin/vi
@


1.11
log
@Use real pcvt termcap entry, not dec vt220.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.10 1997/09/05 09:08:18 deraadt Exp $
a72 4
COPY	${DESTDIR}/usr/mdec/bootsd	usr/mdec/bootsd
COPY	${DESTDIR}/usr/mdec/sdboot	usr/mdec/sdboot
LINK	usr/mdec/bootsd			usr/mdec/bootwd
LINK	usr/mdec/sdboot			usr/mdec/wdboot
@


1.10
log
@delete bad144 and tip
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.9 1997/09/02 23:06:24 deraadt Exp $
d92 1
a92 1
COPY	${CURDIR}/termcap.vt	usr/share/misc/termcap
@


1.9
log
@put installboot on the floppy
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.8 1997/08/30 17:42:53 millert Exp $
a53 1
LINK	instbin			usr/bin/tip
a54 1
LINK	instbin			usr/sbin/bad144
@


1.8
log
@We use pcvt on the console so we need a vt220 termcap.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.7 1997/05/11 21:50:07 tholo Exp $
d60 1
d72 3
@


1.7
log
@Add some links needed by the install procedure
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.6 1997/05/08 15:52:29 tholo Exp $
d90 1
a90 1
COPY	${CURDIR}/termcap.pc3	usr/share/misc/termcap
@


1.6
log
@No need for symlinks; this is all one file system
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.5 1997/05/08 05:56:23 tholo Exp $
d81 5
@


1.5
log
@Clean up build of install floppy
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.4 1997/05/03 07:50:16 tholo Exp $
d46 14
a59 14
SYMLINK	/bin/cat		usr/bin/cut
SYMLINK	/bin/cat		usr/bin/egrep usr/bin/fgrep usr/bin/grep
SYMLINK	/bin/cat		usr/bin/ftp
SYMLINK	/bin/cat		usr/bin/gzip usr/bin/gunzip usr/bin/gzcat
SYMLINK	/bin/cat		usr/bin/less usr/bin/more
SYMLINK	/bin/cat		usr/bin/rsh
SYMLINK	/bin/cat		usr/bin/sed
SYMLINK	/bin/cat		usr/bin/sort
SYMLINK	/bin/cat		usr/bin/tip
SYMLINK /bin/cat		usr/bin/vi
SYMLINK	/bin/cat		usr/sbin/bad144
SYMLINK	/bin/cat		usr/sbin/chat
SYMLINK	/bin/cat		usr/sbin/chown usr/sbin/chgrp
SYMLINK	/bin/cat		usr/sbin/pppd
@


1.4
log
@Almost complete install script that uses the machine-independant code from
the miniroot; not quite ready for prime-time yet but getting closer
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.3 1997/04/22 00:35:10 deraadt Exp $
d3 84
a86 2
# the disktab explanation file
COPY	disktab.preinstall		etc/disktab.preinstall
a89 2
COPY	dot.instutils			.instutils
COPY	resolv.conf			etc/resolv.conf
@


1.3
log
@first cut, ftp works
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.2 1997/04/17 02:10:46 niklas Exp $
a8 2
COPY	install.md			install
COPY	dot.hdprofile			tmp/.hdprofile
d10 4
@


1.2
log
@I had rcs-openbsd.pl have its way here
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.1 1997/04/13 17:17:55 mickey Exp $
d11 1
@


1.1
log
@import of hp300's ramdisk stuff for i386.
merged w/ existing stuff...
awk nuked away from ramdisk, only MAKEDEV needs it.
@
text
@d1 1
a1 1
#	$Id: list,v 1.1.1.1 1995/10/18 08:37:34 deraadt Exp $
@
