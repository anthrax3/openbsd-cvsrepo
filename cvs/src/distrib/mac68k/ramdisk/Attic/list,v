head	1.36;
access;
symbols
	OPENBSD_5_1_BASE:1.35
	OPENBSD_5_1:1.35.0.6
	OPENBSD_5_0:1.35.0.4
	OPENBSD_5_0_BASE:1.35
	OPENBSD_4_9:1.35.0.2
	OPENBSD_4_9_BASE:1.35
	OPENBSD_4_8:1.34.0.2
	OPENBSD_4_8_BASE:1.34
	OPENBSD_4_7:1.33.0.2
	OPENBSD_4_7_BASE:1.33
	OPENBSD_4_6:1.32.0.4
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.28.0.2
	OPENBSD_4_5_BASE:1.28
	OPENBSD_4_4:1.27.0.8
	OPENBSD_4_4_BASE:1.27
	OPENBSD_4_3:1.27.0.6
	OPENBSD_4_3_BASE:1.27
	OPENBSD_4_2:1.27.0.4
	OPENBSD_4_2_BASE:1.27
	OPENBSD_4_1:1.27.0.2
	OPENBSD_4_1_BASE:1.27
	OPENBSD_4_0:1.26.0.2
	OPENBSD_4_0_BASE:1.26
	OPENBSD_3_9:1.25.0.6
	OPENBSD_3_9_BASE:1.25
	OPENBSD_3_8:1.25.0.4
	OPENBSD_3_8_BASE:1.25
	OPENBSD_3_7:1.25.0.2
	OPENBSD_3_7_BASE:1.25
	OPENBSD_3_6:1.20.0.4
	OPENBSD_3_6_BASE:1.20
	OPENBSD_3_5:1.20.0.2
	OPENBSD_3_5_BASE:1.20
	OPENBSD_3_4:1.19.0.4
	OPENBSD_3_4_BASE:1.19
	OPENBSD_3_3:1.19.0.2
	OPENBSD_3_3_BASE:1.19
	OPENBSD_3_2:1.17.0.2
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.8.0.2
	OPENBSD_3_1_BASE:1.8
	OPENBSD_3_0:1.7.0.2
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9:1.3.0.4
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.2
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.1.0.4
	OPENBSD_2_7_BASE:1.1
	OPENBSD_2_6:1.1.0.2
	OPENBSD_2_6_BASE:1.1;
locks; strict;
comment	@# @;


1.36
date	2012.06.20.18.45.44;	author matthew;	state dead;
branches;
next	1.35;

1.35
date	2010.10.18.04.07.51;	author deraadt;	state Exp;
branches;
next	1.34;

1.34
date	2010.03.31.17.51.42;	author deraadt;	state Exp;
branches;
next	1.33;

1.33
date	2010.01.01.05.47.00;	author deraadt;	state Exp;
branches;
next	1.32;

1.32
date	2009.05.03.00.25.30;	author deraadt;	state Exp;
branches;
next	1.31;

1.31
date	2009.04.19.00.59.39;	author deraadt;	state Exp;
branches;
next	1.30;

1.30
date	2009.04.17.07.06.34;	author deraadt;	state Exp;
branches;
next	1.29;

1.29
date	2009.04.17.03.55.20;	author deraadt;	state Exp;
branches;
next	1.28;

1.28
date	2009.02.19.23.43.54;	author krw;	state Exp;
branches;
next	1.27;

1.27
date	2007.02.14.23.38.20;	author deraadt;	state Exp;
branches;
next	1.26;

1.26
date	2006.03.06.09.40.54;	author deraadt;	state Exp;
branches;
next	1.25;

1.25
date	2005.01.12.18.25.29;	author deraadt;	state Exp;
branches;
next	1.24;

1.24
date	2005.01.11.19.21.07;	author deraadt;	state Exp;
branches;
next	1.23;

1.23
date	2004.12.29.00.45.32;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2004.12.02.22.11.58;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2004.10.02.16.10.38;	author krw;	state Exp;
branches;
next	1.20;

1.20
date	2004.01.04.00.29.50;	author deraadt;	state Exp;
branches;
next	1.19;

1.19
date	2003.02.25.01.44.39;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2003.02.21.17.26.56;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2002.05.01.19.21.28;	author mickey;	state Exp;
branches;
next	1.16;

1.16
date	2002.05.01.01.15.53;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	2002.04.30.09.18.20;	author deraadt;	state Exp;
branches;
next	1.14;

1.14
date	2002.04.30.01.31.20;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	2002.04.29.17.13.38;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	2002.04.28.19.25.09;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2002.04.24.22.33.41;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2002.04.22.02.43.16;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2002.04.21.17.10.10;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2002.02.09.17.02.14;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2001.10.08.19.26.14;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2001.09.17.18.21.30;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2001.08.29.15.01.17;	author krw;	state Exp;
branches;
next	1.4;

1.4
date	2001.06.23.19.44.45;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	2000.07.15.02.21.00;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	2000.06.09.17.42.53;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	99.06.13.10.33.31;	author downsj;	state Exp;
branches;
next	;


desc
@@


1.36
log
@more mac68k bits for the attic
@
text
@#	$OpenBSD: list,v 1.35 2010/10/18 04:07:51 deraadt Exp $

SRCDIRS distrib/special
SRCDIRS bin sbin usr.bin usr.sbin

# copy the crunched binary, link to it, and kill it
COPY	${OBJDIR}/instbin			instbin
LINK	instbin					bin/arch
LINK	instbin					bin/cat
LINK	instbin					bin/date
LINK	instbin					bin/chmod bin/chgrp sbin/chown
LINK	instbin					bin/cp
LINK	instbin					bin/dd
LINK	instbin					bin/df
LINK	instbin					bin/ed
LINK	instbin					bin/expr
LINK	instbin					bin/hostname
LINK	instbin					bin/ksh bin/sh
ARGVLINK ksh					-sh
LINK	instbin					bin/ln
LINK	instbin					bin/ls
LINK	instbin					bin/mkdir
LINK	instbin					bin/mt bin/eject
LINK	instbin					bin/mv
LINK	instbin					bin/pax bin/tar bin/cpio
LINK	instbin					bin/rm
LINK	instbin					bin/sha256
LINK	instbin					bin/sleep
LINK	instbin					bin/stty
LINK	instbin					bin/sync
LINK	instbin					sbin/dhclient
LINK	instbin					sbin/disklabel
LINK	instbin					sbin/dmesg
LINK	instbin					sbin/fsck
LINK	instbin					sbin/fsck_ffs
LINK	instbin					sbin/ifconfig
LINK	instbin					sbin/init
LINK	instbin					sbin/mknod
LINK	instbin					sbin/mount
LINK	instbin					sbin/mount_cd9660
LINK	instbin					sbin/mount_ffs
LINK	instbin					sbin/mount_nfs
LINK	instbin					sbin/newfs
LINK	instbin					sbin/pdisk
LINK	instbin					sbin/ping
LINK	instbin					sbin/ping6
LINK	instbin					sbin/reboot sbin/halt
LINK	instbin					sbin/route
LINK	instbin					sbin/rtsol
LINK	instbin					sbin/umount
LINK	instbin					usr/bin/ftp
LINK	instbin					usr/bin/grep usr/bin/fgrep usr/bin/egrep
LINK	instbin					usr/bin/gzip usr/bin/gunzip usr/bin/gzcat
LINK	instbin					usr/bin/less usr/bin/more
LINK	instbin					usr/bin/sed
LINK	instbin					sbin/sysctl

# copy the MAKEDEV script and make some devices
SCRIPT	${DESTDIR}/dev/MAKEDEV			dev/MAKEDEV
SPECIAL	cd dev; sh MAKEDEV ramdisk

# various files that we need in /etc for the install
COPY	${DESTDIR}/etc/group			etc/group
COPY	${CURDIR}/../../miniroot/protocols	etc/protocols
COPY	${CURDIR}/../../miniroot/services	etc/services
COPY	${CURDIR}/../../miniroot/master.passwd	etc/master.passwd
SPECIAL	pwd_mkdb -p -d etc master.passwd; rm etc/master.passwd
SYMLINK	/tmp/fstab.shadow			etc/fstab
SYMLINK	/tmp/resolv.conf.shadow			etc/resolv.conf
SYMLINK	/tmp/hosts				etc/hosts
TERMCAP	vt100,vt220,dumb			usr/share/misc/termcap

# dhcp things
SCRIPT	${DESTDIR}/sbin/dhclient-script		sbin/dhclient-script

# and the installation tools
SCRIPT	${CURDIR}/../../miniroot/dot.profile	.profile
SCRIPT	${CURDIR}/install.md			install.md
SCRIPT	${CURDIR}/../../miniroot/install.sh	install
SCRIPT	${CURDIR}/../../miniroot/upgrade.sh	upgrade
SCRIPT	${CURDIR}/../../miniroot/install.sub	install.sub
SPECIAL	chmod 755 install upgrade sbin/dhclient-script

HASH	var/hash
@


1.35
log
@Place a smaller spwd.db onto the install media.  Be consistant with the naming
of the "additional" list files (for architectures which split the list)
Then... cleanup some TZ which it is clear should not have been placed onto
certain media which don't have the space for them.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.34 2010/03/31 17:51:42 deraadt Exp $
@


1.34
log
@put date(1) onto the media, it fits
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.33 2010/01/01 05:47:00 deraadt Exp $
d66 2
a67 1
COPY	${DESTDIR}/etc/spwd.db			etc/spwd.db
@


1.33
log
@add arch(1) to the ramdisk, it is tiny and we will soon need it
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.32 2009/05/03 00:25:30 deraadt Exp $
d10 1
@


1.32
log
@We will need bin/sleep on all ramdisks.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.31 2009/04/19 00:59:39 deraadt Exp $
d8 1
@


1.31
log
@Use sysctl -n hw.disknames instead of the custom disknames program
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.30 2009/04/17 07:06:34 deraadt Exp $
d26 1
@


1.30
log
@unify some more pieces
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.29 2009/04/17 03:55:20 deraadt Exp $
d53 1
a53 1
LINK	instbin					usr/bin/disknames
@


1.29
log
@Put bin/sha256 and build a hash directory onto the media that can fit
them
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.28 2009/02/19 23:43:54 krw Exp $
d70 1
a70 1
SCRIPT    ${DESTDIR}/sbin/dhclient-script	sbin/dhclient-script
@


1.28
log
@Don't create links to non-existant disktab files on the install
media.

The Alpha disktab was an empty (comment only) file.

ok deraadt@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.27 2007/02/14 23:38:20 deraadt Exp $
d25 1
d79 2
@


1.27
log
@put the disknames command on all install media (hope i did not miss any) ok krw@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.26 2006/03/06 09:40:54 deraadt Exp $
a62 1
SYMLINK	/tmp/disktab.shadow			etc/disktab
@


1.26
log
@eject -> mt (except on alpha where size tests are needed)
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.25 2005/01/12 18:25:29 deraadt Exp $
d52 1
@


1.25
log
@remove some differences
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.24 2005/01/11 19:21:07 deraadt Exp $
d21 1
a21 1
LINK	instbin					bin/mt
@


1.24
log
@put a seperate and real fsck on the media
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.23 2004/12/29 00:45:32 deraadt Exp $
d16 2
a24 2
LINK	instbin					bin/ksh bin/sh
ARGVLINK ksh					-sh
a31 1
LINK	instbin					sbin/reboot sbin/halt
d43 1
d47 1
a48 1
LINK	instbin					usr/bin/ftp
@


1.23
log
@nothing uses a SRCDIR of gnu anymore, proposed by mickey, tested by me
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.22 2004/12/02 22:11:58 miod Exp $
d30 2
a31 1
LINK	instbin					sbin/fsck_ffs sbin/fsck
@


1.22
log
@pdisk on the ramdisk
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.21 2004/10/02 16:10:38 krw Exp $
d4 1
a4 1
SRCDIRS gnu/usr.bin usr.bin bin sbin usr.sbin
@


1.21
log
@Don't put /bin/test or /bin/[ on install media since they are builtins
for ksh.

ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.20 2004/01/04 00:29:50 deraadt Exp $
d26 1
d40 1
d43 1
a44 1
LINK	instbin					sbin/route
a46 1
LINK	instbin					usr/bin/less usr/bin/more
d49 1
@


1.20
log
@put INET6, rtsol, and ping6 onto media where it fits.  install.sub changes
which begin to enable use of this will follow at a later time.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.19 2003/02/25 01:44:39 miod Exp $
a25 1
LINK	instbin					bin/test bin/[
@


1.19
log
@Provide the necessary source dirs information for proper ramdisk build.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.18 2003/02/21 17:26:56 deraadt Exp $
d41 2
@


1.18
log
@toss in dhclient-script; from krw
@
text
@d1 4
a4 1
#	$OpenBSD: list,v 1.17 2002/05/01 19:21:28 mickey Exp $
@


1.17
log
@when filtering termcap selecet vt220, not vt200, since that's what we gonna use later, plus a few rcsid vicinity cleanups; millert@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.16 2002/05/01 01:15:53 millert Exp $
d61 3
d70 1
a70 1
SPECIAL	chmod 755 install upgrade
@


1.16
log
@We only need fsck_ffs, not the fsck front end.
Make all fsck list file entries simply be:
LINK	instbin			sbin/fsck_ffs sbin/fsck
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.15 2002/04/30 09:18:20 deraadt Exp $
d59 1
a59 1
TERMCAP	vt100,vt200,dumb			usr/share/misc/termcap
@


1.15
log
@use makeconf.awk throughout, delete instbin in Makefile
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.14 2002/04/30 01:31:20 deraadt Exp $
d27 1
a27 2
LINK	instbin					sbin/fsck
LINK	instbin					sbin/fsck_ffs
@


1.14
log
@use SCRIPT command
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.13 2002/04/29 17:13:38 deraadt Exp $
a45 1
SPECIAL	rm instbin
@


1.13
log
@generate termcap file using a list2sh.awk directrive; distrib becomes a lot smaller again
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.12 2002/04/28 19:25:09 deraadt Exp $
d4 42
a45 42
COPY	${OBJDIR}/instbin	instbin
LINK	instbin			bin/cat
LINK	instbin			bin/chmod bin/chgrp sbin/chown
LINK	instbin			bin/cp
LINK	instbin			bin/dd
LINK	instbin			bin/df
LINK	instbin			bin/ed
LINK	instbin			bin/expr
LINK	instbin			bin/hostname
LINK	instbin			bin/ln
LINK	instbin			bin/ls
LINK	instbin			bin/mkdir
LINK	instbin			bin/mt
LINK	instbin			bin/mv
LINK	instbin			bin/pax bin/tar bin/cpio
LINK	instbin			bin/rm
LINK	instbin			bin/ksh bin/sh
ARGVLINK ksh			-sh
LINK	instbin			bin/stty
LINK	instbin			bin/test bin/[
LINK	instbin			sbin/dhclient
LINK	instbin			sbin/disklabel
LINK	instbin			sbin/dmesg
LINK	instbin			sbin/fsck
LINK	instbin			sbin/fsck_ffs
LINK	instbin			sbin/reboot sbin/halt
LINK	instbin			sbin/ifconfig
LINK	instbin			sbin/init
LINK	instbin			sbin/mknod
LINK	instbin			sbin/mount
LINK	instbin			sbin/mount_cd9660
LINK	instbin			sbin/mount_ffs
LINK	instbin			sbin/mount_nfs
LINK	instbin			sbin/newfs
LINK	instbin			sbin/ping
LINK	instbin			sbin/route
LINK	instbin			sbin/umount
LINK	instbin			usr/bin/grep usr/bin/fgrep usr/bin/egrep
LINK	instbin			usr/bin/less usr/bin/more
LINK	instbin			usr/bin/ftp
LINK	instbin			usr/bin/gzip usr/bin/gunzip usr/bin/gzcat
LINK	instbin			usr/bin/sed
d49 1
a49 1
COPY	${DESTDIR}/dev/MAKEDEV	dev/MAKEDEV
d53 9
a61 9
COPY	${DESTDIR}/etc/group		etc/group
COPY	${CURDIR}/../../miniroot/protocols etc/protocols
COPY	${CURDIR}/../../miniroot/services  etc/services
COPY	${DESTDIR}/etc/spwd.db		etc/spwd.db
SYMLINK	/tmp/disktab.shadow		etc/disktab
SYMLINK	/tmp/fstab.shadow		etc/fstab
SYMLINK	/tmp/resolv.conf.shadow		etc/resolv.conf
SYMLINK	/tmp/hosts			etc/hosts
TERMCAP	vt100,vt200,dumb		usr/share/misc/termcap
d64 5
a68 6
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/../../miniroot/dot.profile > .profile
SPECIAL sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' -e "s/^ARCH=ARCH$/ARCH=`arch -ks`/" < ${CURDIR}/install.md > install.md
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/../../miniroot/install.sh > install
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/../../miniroot/upgrade.sh > upgrade
SPECIAL sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' -e "/^VERSION=/s/=.*/=${REV}/" < ${CURDIR}/../../miniroot/install.sub > install.sub

@


1.12
log
@remove confusion about disktab
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.11 2002/04/24 22:33:41 miod Exp $
a50 1
#SPECIAL	/bin/rm dev/MAKEDEV
d61 1
a61 3

# and the common installation tools
SPECIAL	sed -e '/^#[ 	].*$/d' < ${TOPDIR}/common/termcap.vt > usr/share/misc/termcap
@


1.11
log
@The beginnings of decent mac68k installation media, as two bsd.rd images.
Currently, the building of this is not enabled in "make release", however.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.10 2002/04/22 02:43:16 deraadt Exp $
d55 2
a56 2
COPY	${DESTDIR}/etc/protocols	etc/protocols
COPY	${DESTDIR}/etc/services		etc/services
d58 1
a58 1
SYMLINK	/tmp/disktab.shadow		etc/disktab      
@


1.10
log
@use one common dot.profile for all
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.9 2002/04/21 17:10:10 deraadt Exp $
d3 44
a46 48
COPY	${OBJDIR}/raminst	raminst
LINK	raminst			bin/cat
LINK	raminst			bin/chmod bin/chgrp sbin/chown
LINK	raminst			bin/cp
LINK	raminst			bin/df
LINK	raminst			bin/dd
LINK	raminst			bin/ed
LINK	raminst			bin/expr
LINK	raminst			bin/ln
LINK	raminst			bin/ls
LINK	raminst			bin/kill
LINK	raminst			bin/hostname
LINK	raminst			bin/mkdir
LINK	raminst			bin/mv
LINK	raminst			bin/pwd
LINK	raminst			bin/rm
LINK	raminst			bin/sh
LINK	bin/sh			bin/-sh
LINK	raminst			bin/sleep
LINK	raminst			bin/stty
LINK	raminst			bin/sync
LINK	raminst			bin/test
LINK	raminst			bin/[
LINK	raminst			sbin/disklabel
LINK	raminst			sbin/fsck
LINK	raminst			sbin/halt
LINK	raminst			sbin/ifconfig
LINK	raminst			sbin/init
LINK	raminst			sbin/mknod
LINK	raminst			usr/bin/more
LINK	raminst			sbin/mount
LINK	raminst			sbin/mount_cd9660
LINK	raminst			sbin/mount_ffs
LINK	raminst			sbin/mount_nfs
LINK	raminst			sbin/mount_mfs
LINK	raminst			sbin/newfs
LINK	raminst			sbin/reboot
LINK	raminst			sbin/route
LINK	raminst			sbin/umount
LINK	raminst			usr/bin/ftp
LINK	raminst			usr/bin/egrep
LINK	raminst			usr/bin/grep
LINK	raminst			usr/bin/gzip
LINK	raminst			usr/bin/less
LINK	raminst			usr/bin/sed
LINK	raminst			bin/pax
LINK	raminst			usr/bin/tar
SPECIAL	/bin/rm raminst
d49 1
a49 2
#COPY	${DESTDIR}/dev/MAKEDEV	dev/MAKEDEV
COPY	${CURDIR}/../../../etc/etc.mac68k/MAKEDEV	dev/MAKEDEV
d51 1
d54 8
a61 4
COPY	rd.group		etc/group
COPY	rd.master.passwd	etc/master.passwd
COPY	rd.disktab		etc/disktab
SPECIAL	cd etc; pwd_mkdb -p -d . ./master.passwd
d68 1
a68 1
SPECIAL sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' -e "s/^ARCH=ARCH$/ARCH=`arch -ks`/" < ${CURDIR}/../install.md > install.md
d71 1
a71 1
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' -e "/^VERSION=/s/=.*/=${REV}/" < ${CURDIR}/../../miniroot/install.sub > install.sub
a73 3

# so DNS can work
SYMLINK /tmp/resolv.conf.shadow		etc/resolv.conf
@


1.9
log
@remove junk not needed
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.8 2002/02/09 17:02:14 deraadt Exp $
a62 2
# we strip comments from files since we need the space...

a63 1
SPECIAL	sed -e '/^#[ 	].*$/d' < ${TOPDIR}/common/dot.commonutils > .commonutils
d67 1
a67 2
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/dot.profile > .profile
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/dot.instutils > .instutils
@


1.8
log
@use "ramdisk" MAKEDEV target always
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.7 2001/10/08 19:26:14 deraadt Exp $
d3 1
a3 1
COPY	${OBJDIR}/raminst		raminst
a40 1
LINK	raminst			sbin/slattach
a47 1
LINK	raminst			usr/bin/sort
a49 4
LINK	raminst			usr/bin/tip
LINK	raminst			usr/sbin/chat
LINK	raminst			usr/sbin/pppd
LINK	raminst			usr/bin/vi
@


1.7
log
@arch -ks
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.6 2001/09/17 18:21:30 deraadt Exp $
d61 1
a61 1
SPECIAL	cd dev; sh MAKEDEV raminst
@


1.6
log
@zap kernfs
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.5 2001/08/29 15:01:17 krw Exp $
d78 1
a78 1
SPECIAL sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' -e "s/^ARCH=ARCH$/ARCH=`arch -s`/" < ${CURDIR}/../install.md > install.md
@


1.5
log
@Apply recent changes in the i386 comment eradication code to all
architectures using a list2sh.awk and related 'list' files (alpha,
hp300, mac68k, mvme68k, mvme88k, mvmeppc, powerpc and vax).

list2sh.awk is modified so that in handling SPECIAL lines the tabs in
regular expressions are not lost to awk field parsing.

Any 'list' file trying to eliminate comments, using SPECIAL lines and
sed, now eliminates lines that

a) have '#' as the first non-blank, non-tab character, with at least
one blank or tab following the '#'.

b) have '#' as the first non-blank, non-tab character, with a newline
immediately following the '#'.

Previous b) was not being done, and only leading/following blanks were
being looked for due to the loss of tab characters in list2sh.awk.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.4 2001/06/23 19:44:45 deraadt Exp $
a35 1
LINK	raminst			sbin/mount_kernfs
@


1.4
log
@argh.  stop using kernfs, using dmesg using sysctl.  encode ARCH into
install.md at build time.  remove some crud.  and the icing on the cake:
skip testing all this until next week
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.3 2000/07/15 02:21:00 deraadt Exp $
d77 6
a82 6
SPECIAL	sed -e '/^#[ 	].*$/d' < ${CURDIR}/dot.profile > .profile
SPECIAL	sed -e '/^#[ 	].*$/d' < ${CURDIR}/dot.instutils > .instutils
SPECIAL sed -e '/^#[ 	].*$/d' -e "s/^ARCH=ARCH$/ARCH=`arch -s`/" < ${CURDIR}/../install.md > install.md
SPECIAL	sed -e '/^#[ 	].*$/d' < ${CURDIR}/../../miniroot/install.sh > install
SPECIAL	sed -e '/^#[ 	].*$/d' < ${CURDIR}/../../miniroot/upgrade.sh > upgrade
SPECIAL	sed -e "/^VERSION=/s/=.*/=${REV}/" -e '/^#[ 	].*$/d' < ${CURDIR}/../../miniroot/install.sub > install.sub
@


1.3
log
@fix more ch* in lists
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.2 2000/06/09 17:42:53 mickey Exp $
d79 1
a79 1
SPECIAL	sed -e '/^#[ 	].*$/d' < ${CURDIR}/install.md > install.md
@


1.2
log
@chown/chgrp changes
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.1 1999/06/13 10:33:31 downsj Exp $
d5 1
a5 2
LINK	raminst			bin/chmod
LINK	raminst			bin/chgrp
a25 1
LINK	raminst			sbin/chown
@


1.1
log
@New ramdisk framework for mac68k.  Not tested yet.

This is only a portion of it, and isn't even buildable on mac68k itself.
(It requires an hp300.)
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.13 1999/04/01 04:39:51 millert Exp $
d6 1
d27 1
a45 1
LINK	raminst			usr/bin/chgrp
a56 1
LINK	raminst			usr/sbin/chown
@

