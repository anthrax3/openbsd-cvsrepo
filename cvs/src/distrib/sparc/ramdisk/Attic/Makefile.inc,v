head	1.19;
access;
symbols
	OPENBSD_6_0:1.18.0.36
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.32
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.18.0.34
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.18.0.28
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.18.0.30
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.18.0.26
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.18.0.24
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.18.0.22
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.20
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.18
	OPENBSD_5_0:1.18.0.16
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.14
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.18.0.12
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.8
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.18.0.10
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.6
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.17.0.2
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.15.0.2
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.14.0.18
	OPENBSD_4_0_BASE:1.14
	OPENBSD_3_9:1.14.0.16
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.14.0.14
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.14.0.12
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.14.0.10
	OPENBSD_3_6_BASE:1.14
	OPENBSD_3_5:1.14.0.8
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.14.0.6
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.14.0.4
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.14.0.2
	OPENBSD_3_2_BASE:1.14
	OPENBSD_3_1:1.13.0.4
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.13.0.2
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9:1.11.0.14
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_8:1.11.0.12
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.11.0.10
	OPENBSD_2_7_BASE:1.11
	OPENBSD_2_6:1.11.0.8
	OPENBSD_2_6_BASE:1.11
	OPENBSD_2_5:1.11.0.6
	OPENBSD_2_5_BASE:1.11
	OPENBSD_2_4:1.11.0.4
	OPENBSD_2_4_BASE:1.11
	OPENBSD_2_3:1.11.0.2
	OPENBSD_2_3_BASE:1.11
	OPENBSD_2_2:1.10.0.2
	OPENBSD_2_2_BASE:1.10
	OPENBSD_2_1:1.7.0.2
	OPENBSD_2_1_BASE:1.7;
locks; strict;
comment	@# @;


1.19
date	2016.09.01.10.08.29;	author deraadt;	state dead;
branches;
next	1.18;
commitid	qVq42rwKOPg5Qxjs;

1.18
date	2008.03.06.08.23.49;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2007.06.17.00.28.21;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	2007.04.09.14.55.11;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	2007.02.16.16.56.22;	author tsi;	state Exp;
branches;
next	1.14;

1.14
date	2002.05.01.19.21.28;	author mickey;	state Exp;
branches;
next	1.13;

1.13
date	2001.09.21.05.43.42;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	2001.09.04.22.25.02;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	98.02.18.22.46.51;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	97.09.19.06.07.18;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	97.05.29.09.19.50;	author grr;	state Exp;
branches;
next	1.8;

1.8
date	97.05.28.22.43.59;	author niklas;	state Exp;
branches;
next	1.7;

1.7
date	97.05.25.22.56.41;	author grr;	state Exp;
branches;
next	1.6;

1.6
date	97.05.25.08.20.32;	author grr;	state Exp;
branches;
next	1.5;

1.5
date	97.05.24.10.46.21;	author johns;	state Exp;
branches;
next	1.4;

1.4
date	97.05.21.16.11.20;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	97.05.15.08.46.13;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	97.05.14.21.53.00;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	97.05.14.20.44.37;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.19
log
@remove sparc media building goop
@
text
@#	$OpenBSD: Makefile.inc,v 1.18 2008/03/06 08:23:49 deraadt Exp $

IMAGESIZE?=		4000
GZIPCMD?=		gzip
GZIPFLAGS?=		-9nv
GZIPEXT?=		.gz
MAKEFLOPPY=		1
BOOT=			${DESTDIR}/usr/mdec/boot
INSTALLBOOT=		${DESTDIR}/usr/mdec/installboot
@


1.18
log
@Change ramdisk filesystem size from 4352 to 4000 blocks, so that
bsd.rd does not overlap the boot code... this problem is starting to
feel familiar.. tested by myself and claudio
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.17 2007/06/17 00:28:21 deraadt Exp $
@


1.17
log
@Stop using disklabel -r.  The disklabel code does not know all the semantics
for pushing disklabels onto the disk (and besides that, it is buggy and
unreadable crap); thanks for help from krw
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.16 2007/04/09 14:55:11 millert Exp $
d3 1
a3 1
IMAGESIZE?=		4352
@


1.16
log
@Add -n to gzip flags.  Save a few bytes since we no longer save
the uncompressed filename in the gzip header.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.15 2007/02/16 16:56:22 tsi Exp $
a7 1
RAWLABEL=
@


1.15
log
@s/GZIP/GZIPCMD/g in `make release` structure to avoid conflict with gzip's
use of a GZIP environment variable for extra command flags.

ok deraadt@@, millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.14 2002/05/01 19:21:28 mickey Exp $
d5 1
a5 1
GZIPFLAGS?=		-9v
@


1.14
log
@when filtering termcap selecet vt220, not vt200, since that's what we gonna use later, plus a few rcsid vicinity cleanups; millert@@ ok
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.13 2001/09/21 05:43:42 deraadt Exp $
d4 1
a4 1
GZIP?=			gzip
@


1.13
log
@OK, the old sizes work again
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile.inc,v 1.12 2001/09/04 22:25:02 deraadt Exp $
#	$OpenBSD: Makefile.inc,v 1.12 2001/09/04 22:25:02 deraadt Exp $
@


1.12
log
@MB == megabytes, Mb == megabits
@
text
@d1 2
a2 2
#	$OpenBSD: Makefile.inc,v 1.11 1998/02/18 22:46:51 deraadt Exp $
#	$OpenBSD: Makefile.inc,v 1.11 1998/02/18 22:46:51 deraadt Exp $
d4 1
a4 1
IMAGESIZE?=		5352
@


1.11
log
@run usr/mdec/installboot
@
text
@d1 2
a2 2
#	$OpenBSD: Makefile.inc,v 1.10 1997/09/19 06:07:18 deraadt Exp $
#	$OpenBSD: Makefile.inc,v 1.10 1997/09/19 06:07:18 deraadt Exp $
d4 1
a4 1
IMAGESIZE?=		4352 # 2Mb & change in 512 byte blocks
@


1.10
log
@zboot went away
@
text
@d1 2
a2 2
#	$OpenBSD: Makefile.inc,v 1.9 1997/05/29 09:19:50 grr Exp $
#	$OpenBSD: Makefile.inc,v 1.9 1997/05/29 09:19:50 grr Exp $
d11 1
@


1.9
log
@make ramdisk use special compressed kernel capable boot blocks and related issues
@
text
@d1 2
a2 2
#	$OpenBSD: Makefile.inc,v 1.5 1997/05/24 10:46:21 johns Exp $
#	$OpenBSD: Makefile.inc,v 1.5 1997/05/24 10:46:21 johns Exp $
d10 1
a10 1
BOOT=			${DESTDIR}/usr/mdec/zboot
@


1.8
log
@Import RCS tag fix, to bad it didn not make it into 2.1
@
text
@d1 2
a2 1
#	$OpenBSD: Makefile.inc,v 1.7 1997/05/25 22:56:41 grr Exp $
a4 1
BOOT_INSTALLBOOT?=	/usr/mdec/bootxx
d10 1
@


1.7
log
@commit updated ramdisk stuff, even if it's not going into release
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile.inc,v 1.6 1997/05/25 08:20:32 grr Exp $
#	$OpenBSD: Makefile.inc,v 1.6 1997/05/25 08:20:32 grr Exp $
@


1.6
log
@make a ramdisk optimally sized to fit below 0x340000 and still have a few free blocks, .../sparc/stand/boot/Makefile still needs to be un-reverted to make the corresponding bootblocks though
@
text
@d1 2
a2 2
#	$OpenBSD: Makefile.inc,v 1.5 1997/05/24 10:46:21 johns Exp $
#	$OpenBSD: Makefile.inc,v 1.5 1997/05/24 10:46:21 johns Exp $
d4 1
a4 1
IMAGESIZE?=		4480 # 4Mb in 512 byte blocks
@


1.5
log
@Committing George's ramdisk changes as per his instructions...
@
text
@d1 2
a2 2
#	$OpenBSD: Makefile.inc,v 1.3 1997/05/15 08:46:13 deraadt Exp $
#	$OpenBSD: Makefile.inc,v 1.3 1997/05/15 08:46:13 deraadt Exp $
d4 1
a4 1
IMAGESIZE?=		8192 # 4Mb in 512 byte blocks
@


1.4
log
@ramdisk too small, who cares why for now
@
text
@d4 1
a4 1
IMAGESIZE?=		5120 # 2.5Mb in 512 byte blocks
d9 2
a10 1
#MAKEFLOPPY=		1
@


1.3
log
@capability for making rd sparc floppies, as soon as sparc bootblocks do zlib
@
text
@d1 2
a2 2
#	$OpenBSD$
#	$OpenBSD: Makefile.inc,v 1.4 1997/05/07 12:40:50 niklas Exp $
d4 1
a4 1
IMAGESIZE?=		4096 # 2Mb in 512 byte blocks
@


1.2
log
@working bsd.rd; without vi for now
@
text
@d1 2
a2 2
#	$OpenBSD: Makefile.inc,v 1.1 1997/05/14 20:44:37 deraadt Exp $
#	$OpenBSD: Makefile.inc,v 1.1 1997/05/14 20:44:37 deraadt Exp $
d4 1
a4 1
IMAGESIZE=		4096
d9 1
@


1.1
log
@shareable ramdisk creation; in part by grr
@
text
@d1 2
a2 2
#	$OpenBSD$
#	$OpenBSD: Makefile.inc,v 1.4 1997/05/07 12:40:50 niklas Exp $
d4 1
a4 1
IMAGESIZE=		6144
@
