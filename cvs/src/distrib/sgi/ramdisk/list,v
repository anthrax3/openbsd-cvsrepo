head	1.55;
access;
symbols
	OPENBSD_6_1:1.54.0.4
	OPENBSD_6_1_BASE:1.54
	OPENBSD_6_0:1.50.0.2
	OPENBSD_6_0_BASE:1.50
	OPENBSD_5_9:1.49.0.2
	OPENBSD_5_9_BASE:1.49
	OPENBSD_5_8:1.49.0.4
	OPENBSD_5_8_BASE:1.49
	OPENBSD_5_7:1.46.0.2
	OPENBSD_5_7_BASE:1.46
	OPENBSD_5_6:1.42.0.4
	OPENBSD_5_6_BASE:1.42
	OPENBSD_5_5:1.41.0.2
	OPENBSD_5_5_BASE:1.41
	OPENBSD_5_4:1.34.0.4
	OPENBSD_5_4_BASE:1.34
	OPENBSD_5_3:1.34.0.2
	OPENBSD_5_3_BASE:1.34
	OPENBSD_5_2:1.32.0.2
	OPENBSD_5_2_BASE:1.32
	OPENBSD_5_1_BASE:1.30
	OPENBSD_5_1:1.30.0.4
	OPENBSD_5_0:1.30.0.2
	OPENBSD_5_0_BASE:1.30
	OPENBSD_4_9:1.29.0.2
	OPENBSD_4_9_BASE:1.29
	OPENBSD_4_8:1.27.0.2
	OPENBSD_4_8_BASE:1.27
	OPENBSD_4_7:1.25.0.2
	OPENBSD_4_7_BASE:1.25
	OPENBSD_4_6:1.24.0.4
	OPENBSD_4_6_BASE:1.24
	OPENBSD_4_5:1.16.0.2
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.15.0.2
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.12.0.4
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.10.0.4
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.10.0.2
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.9.0.2
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3;
locks; strict;
comment	@# @;


1.55
date	2017.07.08.15.42.47;	author florian;	state Exp;
branches;
next	1.54;
commitid	z77G1MDbSa1Hkev8;

1.54
date	2016.09.17.15.03.39;	author florian;	state Exp;
branches;
next	1.53;
commitid	4iDaUFNgyRvNiP2A;

1.53
date	2016.09.13.22.27.50;	author rpe;	state Exp;
branches;
next	1.52;
commitid	GBnmSiVk0pmscj9y;

1.52
date	2016.09.04.12.41.26;	author deraadt;	state Exp;
branches;
next	1.51;
commitid	pf91ixaKpvFKsPCu;

1.51
date	2016.09.04.09.54.22;	author rpe;	state Exp;
branches;
next	1.50;
commitid	GShD1XwYMI1YRfdA;

1.50
date	2016.04.02.12.23.46;	author rpe;	state Exp;
branches;
next	1.49;
commitid	RiZ3BjQb9aPCOLdl;

1.49
date	2015.04.13.21.27.07;	author deraadt;	state Exp;
branches;
next	1.48;
commitid	XlnjSM8QPyxXBJUX;

1.48
date	2015.04.02.16.13.25;	author deraadt;	state Exp;
branches;
next	1.47;
commitid	xCtdNbyuk86cJEuz;

1.47
date	2015.03.11.15.27.32;	author deraadt;	state Exp;
branches;
next	1.46;
commitid	CiK8k4NfUdHOtlhW;

1.46
date	2015.02.23.08.09.46;	author deraadt;	state Exp;
branches;
next	1.45;
commitid	OJZZR2nB2iwRyEOa;

1.45
date	2014.12.28.04.40.19;	author deraadt;	state Exp;
branches;
next	1.44;
commitid	0Q152diy3j6ZcHnS;

1.44
date	2014.12.23.17.17.17;	author deraadt;	state Exp;
branches;
next	1.43;
commitid	IN5KmXrnip5FTaGs;

1.43
date	2014.12.03.20.11.19;	author florian;	state Exp;
branches;
next	1.42;
commitid	BNzpeI3z4QKLCMCf;

1.42
date	2014.07.20.02.37.35;	author deraadt;	state Exp;
branches;
next	1.41;
commitid	Js54FgDjh3ceuvNj;

1.41
date	2014.03.03.07.40.34;	author deraadt;	state Exp;
branches;
next	1.40;

1.40
date	2014.01.19.00.33.40;	author deraadt;	state Exp;
branches;
next	1.39;

1.39
date	2014.01.11.05.40.16;	author deraadt;	state Exp;
branches;
next	1.38;

1.38
date	2014.01.10.07.57.28;	author deraadt;	state Exp;
branches;
next	1.37;

1.37
date	2014.01.09.19.02.04;	author deraadt;	state Exp;
branches;
next	1.36;

1.36
date	2014.01.08.21.53.35;	author deraadt;	state Exp;
branches;
next	1.35;

1.35
date	2014.01.07.02.27.56;	author deraadt;	state Exp;
branches;
next	1.34;

1.34
date	2012.10.30.18.39.44;	author krw;	state Exp;
branches;
next	1.33;

1.33
date	2012.10.18.16.57.31;	author deraadt;	state Exp;
branches;
next	1.32;

1.32
date	2012.05.25.17.32.38;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2012.03.29.20.27.53;	author miod;	state Exp;
branches;
next	1.30;

1.30
date	2011.08.02.01.14.28;	author deraadt;	state Exp;
branches;
next	1.29;

1.29
date	2011.02.06.21.49.55;	author miod;	state Exp;
branches;
next	1.28;

1.28
date	2010.10.18.04.08.30;	author deraadt;	state Exp;
branches;
next	1.27;

1.27
date	2010.03.31.19.44.35;	author miod;	state Exp;
branches;
next	1.26;

1.26
date	2010.03.31.17.51.42;	author deraadt;	state Exp;
branches;
next	1.25;

1.25
date	2010.01.01.05.47.01;	author deraadt;	state Exp;
branches;
next	1.24;

1.24
date	2009.06.02.06.17.47;	author todd;	state Exp;
branches;
next	1.23;

1.23
date	2009.05.30.04.01.29;	author miod;	state Exp;
branches;
next	1.22;

1.22
date	2009.05.21.13.21.33;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2009.05.14.18.58.17;	author miod;	state Exp;
branches;
next	1.20;

1.20
date	2009.05.03.00.25.30;	author deraadt;	state Exp;
branches;
next	1.19;

1.19
date	2009.04.19.00.59.39;	author deraadt;	state Exp;
branches;
next	1.18;

1.18
date	2009.04.17.07.06.34;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2009.04.17.03.55.20;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	2009.02.19.23.43.54;	author krw;	state Exp;
branches;
next	1.15;

1.15
date	2008.06.27.05.29.54;	author todd;	state Exp;
branches;
next	1.14;

1.14
date	2008.05.04.21.23.29;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2008.01.06.21.36.21;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2007.02.14.23.38.21;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2006.03.06.09.40.55;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2005.04.06.21.01.04;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2005.01.12.18.25.31;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2005.01.11.19.21.08;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2004.12.29.00.45.34;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2004.11.22.17.24.15;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2004.10.02.16.10.38;	author krw;	state Exp;
branches;
next	1.4;

1.4
date	2004.10.02.14.47.12;	author krw;	state Exp;
branches;
next	1.3;

1.3
date	2004.09.06.07.16.45;	author miod;	state Exp;
branches;
next	1.2;

1.2
date	2004.08.26.13.32.15;	author pefo;	state Exp;
branches;
next	1.1;

1.1
date	2004.08.06.22.33.27;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.55
log
@hook up slaacd to the installer on media where we have INET6
@
text
@#	$OpenBSD: list,v 1.54 2016/09/17 15:03:39 florian Exp $

SRCDIRS distrib/special

# copy the crunched binary, link to it, and kill it
COPY	${OBJDIR}/instbin			instbin
LINK	instbin					bin/arch
LINK	instbin					bin/cat
LINK	instbin					bin/chmod bin/chgrp sbin/chown
LINK	instbin					bin/cp
LINK	instbin					bin/date
LINK	instbin					bin/dd
LINK	instbin					bin/df
LINK	instbin					bin/ed
LINK	instbin					bin/hostname
LINK	instbin					bin/ksh bin/sh
ARGVLINK ksh					-sh
LINK	instbin					bin/ln
LINK	instbin					bin/ls
LINK	instbin					bin/md5 bin/sha256 bin/sha512
SPECIAL	rm bin/md5
LINK	instbin					bin/mkdir
LINK	instbin					bin/mt bin/eject
LINK	instbin					bin/mv
LINK	instbin					bin/pax bin/tar
LINK	instbin					bin/rm
LINK	instbin					bin/sleep
LINK	instbin					bin/stty
LINK	instbin					bin/sync
LINK	instbin					sbin/bioctl
LINK	instbin					sbin/dhclient
LINK	instbin					sbin/disklabel
LINK	instbin					sbin/dmesg
LINK	instbin					sbin/fsck
LINK	instbin					sbin/fsck_ffs
LINK	instbin					sbin/ifconfig
LINK	instbin					sbin/init
LINK	instbin					sbin/kbd
LINK	instbin					sbin/mknod
LINK	instbin					sbin/mount
LINK	instbin					sbin/mount_cd9660
LINK	instbin					sbin/mount_ffs
LINK	instbin					sbin/mount_nfs
LINK	instbin					sbin/newfs
LINK	instbin					sbin/ping sbin/ping6
LINK	instbin					sbin/reboot sbin/halt
LINK	instbin					sbin/route
LINK	instbin					sbin/slaacd
LINK	instbin					sbin/sysctl
LINK	instbin					sbin/umount
LINK	instbin					usr/bin/doas
LINK	instbin					usr/bin/encrypt
LINK	instbin					usr/bin/ftp
LINK	instbin					usr/bin/grep usr/bin/egrep usr/bin/fgrep
LINK	instbin					usr/bin/gzip usr/bin/gunzip usr/bin/gzcat
LINK	instbin					usr/bin/more usr/bin/less
LINK	instbin					usr/bin/sed
LINK	instbin					usr/bin/signify
LINK	instbin					usr/sbin/chroot
LINK	instbin					usr/sbin/pwd_mkdb

# copy the MAKEDEV script and make some devices
SCRIPT	${DESTDIR}/dev/MAKEDEV			dev/MAKEDEV
SPECIAL	cd dev; sh MAKEDEV ramdisk

COPY	${DESTDIR}/usr/mdec/sgivol		usr/mdec/sgivol

# various files that we need in /etc for the install
COPY	${CURDIR}/../../miniroot/group		etc/group
COPY	${CURDIR}/../../miniroot/master.passwd	etc/master.passwd
SPECIAL	pwd_mkdb -p -d etc master.passwd; rm etc/master.passwd
COPY	${DESTDIR}/etc/signify/openbsd-${REV}-base.pub	etc/signify/openbsd-${REV}-base.pub
COPY	${CURDIR}/../../miniroot/protocols	etc/protocols
COPY	${CURDIR}/../../miniroot/services	etc/services
SYMLINK	/tmp/i/fstab.shadow			etc/fstab
SYMLINK	/tmp/i/resolv.conf.shadow		etc/resolv.conf
SYMLINK	/tmp/i/hosts				etc/hosts
TERMCAP	vt100,vt220,dumb			usr/share/misc/termcap

# firmware we might need
#COPY	${DESTDIR}/etc/firmware/tigon1		etc/firmware/tigon1
#COPY	${DESTDIR}/etc/firmware/tigon2		etc/firmware/tigon2
COPY	${DESTDIR}/etc/firmware/bnx-b06		etc/firmware/bnx-b06
COPY	${DESTDIR}/etc/firmware/bnx-b09		etc/firmware/bnx-b09
COPY	${DESTDIR}/etc/firmware/bnx-rv2p	etc/firmware/bnx-rv2p
COPY	${DESTDIR}/etc/firmware/bnx-xi-rv2p	etc/firmware/bnx-xi-rv2p
COPY	${DESTDIR}/etc/firmware/bnx-xi90-rv2p	etc/firmware/bnx-xi90-rv2p

# and the installation tools
SCRIPT	${CURDIR}/../../miniroot/dot.profile	.profile
SCRIPT	${CURDIR}/install.md			install.md
SCRIPT	${CURDIR}/../../miniroot/install.sub	install.sub
SPECIAL	chmod 755 install.sub
SYMLINK	install.sub				autoinstall
SYMLINK	install.sub				install
SYMLINK	install.sub				upgrade

TZ
@


1.54
log
@ping6(8) is now a hardlink to ping(8).
The instbin stuff looks good to deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.53 2016/09/13 22:27:50 rpe Exp $
d48 1
@


1.53
log
@Provide a stripped down group file for the install media.
Saves precious 896 bytes as a side effect.

OK deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.52 2016/09/04 12:41:26 deraadt Exp $
d45 1
a45 2
LINK	instbin					sbin/ping
LINK	instbin					sbin/ping6
@


1.52
log
@add missing doas entries; noticed by avsm
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.51 2016/09/04 09:54:22 rpe Exp $
d69 1
a69 1
COPY	${DESTDIR}/etc/group			etc/group
@


1.51
log
@Move files created by root during install/upgrade in a subdir of
/tmp with proper permissions so that unprivileged programs can not
tamper with them.

positive feedback from deraadt
OK halex
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.50 2016/04/02 12:23:46 rpe Exp $
d51 1
@


1.50
log
@- merge install.sh into install.sub as do_install()
- merge upgrade.sh into install.sub as do_upgrade()
- delete install.sh and upgrade.sh
- make install.sub executable
- turn install and upgrade into symbolic links to install.sub
- add autoinstall symbolic link to install.sub
- change dot.profile to use these symlinks
- introduce a -m option to set MODE in install.sub
- alternativly set MODE and AUTO depending on PROGNAME
- execute the do_{install,upgrade) functions depending on $MODE

OK halex@@, krw@@
'go for it' deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.49 2015/04/13 21:27:07 deraadt Exp $
d74 3
a76 3
SYMLINK	/tmp/fstab.shadow			etc/fstab
SYMLINK	/tmp/resolv.conf.shadow			etc/resolv.conf
SYMLINK	/tmp/hosts				etc/hosts
@


1.49
log
@pwd_mkdb now fits onto the install media.  no more chroot games.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.48 2015/04/02 16:13:25 deraadt Exp $
a90 2
SCRIPT	${CURDIR}/../../miniroot/upgrade.sh	upgrade
SCRIPT	${CURDIR}/../../miniroot/install.sh	install
d92 4
a95 1
SPECIAL	chmod 755 install upgrade
@


1.48
log
@more -> less; not less -> more
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.47 2015/03/11 15:27:32 deraadt Exp $
d59 1
@


1.47
log
@adjust for removal of expr (and while here, sort all these lists, with the
goal of eventually refactoring them)
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.45 2014/12/28 04:40:19 deraadt Exp $
d55 1
a55 1
LINK	instbin					usr/bin/less usr/bin/more
@


1.46
log
@expr no longer needed on media, thanks to halex and todd and rpe
@
text
@a8 1
LINK	instbin					bin/date
d11 1
d30 1
d53 1
a53 1
LINK	instbin					usr/bin/grep usr/bin/fgrep usr/bin/egrep
d58 1
a58 1
LINK	instbin					sbin/bioctl
@


1.45
log
@Build special/encrypt into instbin, to prepare for dropping use of the
version in just installed base.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.44 2014/12/23 17:17:17 deraadt Exp $
a14 1
LINK	instbin					bin/expr
@


1.44
log
@successful switchover to non-reach-around SRCDIR
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.43 2014/12/03 20:11:19 florian Exp $
d51 1
@


1.43
log
@rtsol(8) is no longer needed on the ramdisks.
OK deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.42 2014/07/20 02:37:35 deraadt Exp $
a3 1
SRCDIRS bin sbin
@


1.42
log
@place sysctl in sorted order; Jean-Philippe Ouellet
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.41 2014/03/03 07:40:34 deraadt Exp $
a49 1
LINK	instbin					sbin/rtsol
@


1.41
log
@use official 5.5 key
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.40 2014/01/19 00:33:40 deraadt Exp $
d51 1
a57 1
LINK	instbin					sbin/sysctl
@


1.40
log
@we no long use the /var/hash files, but rely on the SHA256.sig file.
We can remove the hashing support.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.39 2014/01/11 05:38:13 deraadt Exp $
d71 1
a71 1
COPY	${DESTDIR}/etc/signify/${REV}base.pub	etc/signify/${REV}base.pub
@


1.39
log
@No need for a bin/cpio link on the media, because the pax|tar binary does
not support cpio anymore.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.38 2014/01/10 07:57:28 deraadt Exp $
a95 1
HASH	var/hash	bsd.IP22 bsd.IP27 bsd.IP28 bsd.IP30 bsd.mp.IP30 bsd.IP32
@


1.38
log
@remove md5 after installing it (with the links to the sha256/512 commands).
this is because the md5/sha256/sha512 are in the same binary, found in the
md5 directory, but the version on the media lacks md5 support.  Understand?
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.37 2014/01/09 19:02:04 deraadt Exp $
d27 1
a27 1
LINK	instbin					bin/pax bin/tar bin/cpio
@


1.37
log
@copy the relevant key for the release onto the media
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.36 2014/01/08 21:53:35 deraadt Exp $
d23 1
@


1.36
log
@Switch to using the base sha256 command, rather than some customized
abomination.
install.sub chunk tested by rpe
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.35 2014/01/07 02:27:56 deraadt Exp $
d70 1
@


1.35
log
@SRCDRS usr.bin usr.sbin is a bad idea (because of PIE).  The places we
pick binaries up must be compiled -static or at least in some safe
model for reuse.  Since we now use distrib/special for those, we can
safely remove usr.bin and usr.sbin from this list.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.34 2012/10/30 18:39:44 krw Exp $
d22 1
a27 1
LINK	instbin					bin/sha256
d57 1
@


1.34
log
@Nuke dhclient-script and dhclient.conf 'script' directive. Do all
interface and route configuration via ioctl's and routing sockets.

This will break configurations using local enhancements of
dhclient-script, which will now require alternate arrangements.

Committing early to allow time to identify and develop required
alternatives.

Several proddings by deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.33 2012/10/18 16:57:31 deraadt Exp $
d4 1
a4 1
SRCDIRS bin sbin usr.bin usr.sbin
@


1.33
log
@put fewer things in usr/mdec on the ramdisk filesystem, and use them
once baseXX has been installed in /mnt.  sgivol installs the bootblocks
much later now.
ok miod
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.32 2012/05/25 17:32:38 miod Exp $
a84 3
# dhcp things
SCRIPT	${DESTDIR}/sbin/dhclient-script		sbin/dhclient-script

d91 1
a91 1
SPECIAL	chmod 755 install upgrade sbin/dhclient-script
@


1.32
log
@Hook sgi IP28 kernels into the build. While there, update the iso images to
provide IP22 and IP28 kernels, as well as the ECOFF bootblock.

No objection from deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.31 2012/03/29 20:27:53 miod Exp $
a62 9
# we need the contents of /usr/mdec
COPY	${DESTDIR}/usr/mdec/boot32		usr/mdec/boot32
SYMLINK	/usr/mdec/boot32			usr/mdec/boot-IP32
COPY	${DESTDIR}/usr/mdec/boot64		usr/mdec/boot64
SYMLINK	/usr/mdec/boot64			usr/mdec/boot-IP27
SYMLINK	/usr/mdec/boot64			usr/mdec/boot-IP28
SYMLINK	/usr/mdec/boot64			usr/mdec/boot-IP30
COPY	${DESTDIR}/usr/mdec/bootecoff		usr/mdec/bootecoff
SYMLINK	/usr/mdec/bootecoff			usr/mdec/boot-IP22
@


1.31
log
@Hook IP22 kernels to the build, and document how to boot the installation
media on them. Try to be helpful and explain how things may fail on the
older PROM and what to do about this.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.30 2011/08/02 01:14:28 deraadt Exp $
d68 1
d105 1
a105 1
HASH	var/hash	bsd.IP22 bsd.IP27 bsd.IP30 bsd.mp.IP30 bsd.IP32
@


1.30
log
@stop using the word 'firmwares'
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.29 2011/02/06 21:49:55 miod Exp $
d69 2
d104 1
a104 1
HASH	var/hash	bsd.IP27 bsd.IP30 bsd.mp.IP30 bsd.IP32
@


1.29
log
@Embed the hash of bsd.rd.IP30 as well.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.28 2010/10/18 04:08:30 deraadt Exp $
d82 1
a82 1
# firmwares that might need loading
@


1.28
log
@Place a smaller spwd.db onto the install media.  Be consistant with the naming
of the "additional" list files (for architectures which split the list)
Then... cleanup some TZ which it is clear should not have been placed onto
certain media which don't have the space for them.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.27 2010/03/31 19:44:35 miod Exp $
d102 1
a102 1
HASH	var/hash	bsd.IP27 bsd.IP30 bsd.IP32
@


1.27
log
@Add bnx firmware on installation media; this causes a media oflow, so
enlarge bsd.rd filesystem; this in turn causes a cd oflow, so enlarge
cd filesystem.
ok jsing@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.26 2010/03/31 17:51:42 deraadt Exp $
d73 2
a74 1
COPY	${DESTDIR}/etc/spwd.db			etc/spwd.db
@


1.26
log
@put date(1) onto the media, it fits
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.25 2010/01/01 05:47:01 deraadt Exp $
d84 5
@


1.25
log
@add arch(1) to the ramdisk, it is tiny and we will soon need it
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.24 2009/06/02 06:17:47 todd Exp $
d10 1
@


1.24
log
@add TZ on install media where it should fit
ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.23 2009/05/30 04:01:29 miod Exp $
d8 1
@


1.23
log
@Build IP27 and IP30 kernels on sgi; put then on the cdrom images too
(although for now our cd images fail to boot on IP27 and IP30).
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.22 2009/05/21 13:21:33 miod Exp $
d95 1
@


1.22
log
@Fix symbolic links in /usr/mdec on the installation media. Oops.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.21 2009/05/14 18:58:17 miod Exp $
d94 1
a94 1
HASH	var/hash
@


1.21
log
@Update to match the new bootblocks filenames.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.20 2009/05/03 00:25:30 deraadt Exp $
d63 1
a63 1
SYMLINK	${DESTDIR}/usr/mdec/boot32		usr/mdec/boot-IP32
d65 2
a66 2
SYMLINK	${DESTDIR}/usr/mdec/boot64		usr/mdec/boot-IP27
SYMLINK	${DESTDIR}/usr/mdec/boot64		usr/mdec/boot-IP30
@


1.20
log
@We will need bin/sleep on all ramdisks.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.19 2009/04/19 00:59:39 deraadt Exp $
d62 5
a66 1
COPY	${DESTDIR}/usr/mdec/boot		usr/mdec/boot
@


1.19
log
@Use sysctl -n hw.disknames instead of the custom disknames program
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.18 2009/04/17 07:06:34 deraadt Exp $
d26 1
@


1.18
log
@unify some more pieces
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.17 2009/04/17 03:55:20 deraadt Exp $
d53 1
a53 1
LINK	instbin					usr/bin/disknames
@


1.17
log
@Put bin/sha256 and build a hash directory onto the media that can fit
them
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.16 2009/02/19 23:43:54 krw Exp $
d79 1
a79 1
COPY	${DESTDIR}/sbin/dhclient-script		sbin/dhclient-script
@


1.16
log
@Don't create links to non-existant disktab files on the install
media.

The Alpha disktab was an empty (comment only) file.

ok deraadt@@ miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.15 2008/06/27 05:29:54 todd Exp $
d25 1
d88 2
@


1.15
log
@add bio & bioctl
ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.14 2008/05/04 21:23:29 brad Exp $
a67 1
SYMLINK	/tmp/disktab.shadow			etc/disktab
@


1.14
log
@Add ping6 and rtsol.

ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.13 2008/01/06 21:36:21 miod Exp $
d53 1
@


1.13
log
@kbd(8) on the ramdisks.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.12 2007/02/14 23:38:21 deraadt Exp $
d42 1
d45 1
@


1.12
log
@put the disknames command on all install media (hope i did not miss any) ok krw@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.11 2006/03/06 09:40:55 deraadt Exp $
d34 1
@


1.11
log
@eject -> mt (except on alpha where size tests are needed)
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.10 2005/04/06 21:01:04 deraadt Exp $
d49 1
@


1.10
log
@no more tigon firmware here
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.9 2005/01/12 18:25:31 deraadt Exp $
d21 1
a21 1
LINK	instbin					bin/mt
@


1.9
log
@remove some differences
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.8 2005/01/11 19:21:08 deraadt Exp $
d70 2
a71 2
COPY	${DESTDIR}/etc/firmware/tigon1		etc/firmware/tigon1
COPY	${DESTDIR}/etc/firmware/tigon2		etc/firmware/tigon2
@


1.8
log
@put a seperate and real fsck on the media
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.7 2004/12/29 00:45:34 deraadt Exp $
d16 2
a24 2
LINK	instbin					bin/ksh bin/sh
ARGVLINK ksh					-sh
d27 1
d29 1
a31 1
LINK	instbin					sbin/reboot sbin/halt
a33 2
LINK	instbin					sbin/dhclient
LINK	instbin					sbin/dmesg
d41 1
d44 1
a45 1
LINK	instbin					usr/bin/ftp
@


1.7
log
@nothing uses a SRCDIR of gnu anymore, proposed by mickey, tested by me
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.6 2004/11/22 17:24:15 deraadt Exp $
d7 42
a48 42
COPY	${OBJDIR}/instbin	instbin
LINK	instbin			bin/cat
LINK	instbin			bin/chmod bin/chgrp sbin/chown
LINK	instbin			bin/cp
LINK	instbin			bin/dd
LINK	instbin			bin/df
LINK	instbin			bin/ed
LINK	instbin			bin/expr
LINK	instbin			bin/hostname
LINK	instbin			bin/ln
LINK	instbin			bin/ls
LINK	instbin			bin/mkdir
LINK	instbin			bin/mt
LINK	instbin			bin/mv
LINK	instbin			bin/pax bin/tar bin/cpio
LINK	instbin			bin/rm
LINK	instbin			bin/ksh bin/sh
ARGVLINK ksh			-sh
LINK	instbin			bin/stty
LINK	instbin			bin/sync
LINK	instbin			sbin/disklabel
LINK	instbin			sbin/fsck
LINK	instbin			sbin/fsck_ffs
LINK	instbin			sbin/reboot sbin/halt
LINK	instbin			sbin/ifconfig
LINK	instbin			sbin/init
LINK	instbin			sbin/dhclient
LINK	instbin			sbin/dmesg
LINK	instbin			sbin/mknod
LINK	instbin			sbin/mount
LINK	instbin			sbin/mount_cd9660
LINK	instbin			sbin/mount_ffs
LINK	instbin			sbin/mount_nfs
LINK	instbin			sbin/newfs
LINK	instbin			sbin/ping
LINK	instbin			sbin/route
LINK	instbin			sbin/umount
LINK	instbin			usr/bin/grep usr/bin/fgrep usr/bin/egrep
LINK	instbin			usr/bin/ftp
LINK	instbin			usr/bin/gzip usr/bin/gunzip usr/bin/gzcat
LINK	instbin			usr/bin/less usr/bin/more
LINK	instbin			usr/bin/sed
d51 1
a51 1
SCRIPT	${DESTDIR}/dev/MAKEDEV	dev/MAKEDEV
@


1.6
log
@tigon firmwares on the big ramdisks
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.5 2004/10/02 16:10:38 krw Exp $
d4 1
a4 1
SRCDIRS usr.bin bin sbin usr.sbin gnu/usr.bin
@


1.5
log
@Don't put /bin/test or /bin/[ on install media since they are builtins
for ksh.

ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.4 2004/10/02 14:47:12 krw Exp $
d68 4
@


1.4
log
@Last use of sleep(1) in install scripts was eliminated by recent
re-write of install_cd() so remove sleep(1) from install media.

"sure!" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.3 2004/09/06 07:16:45 miod Exp $
a26 1
LINK	instbin			bin/test bin/[
@


1.3
log
@Make /upgrade mode +x in the ramdisks.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.2 2004/08/26 13:32:15 pefo Exp $
a24 1
LINK	instbin			bin/sleep
@


1.2
log
@install for disk bootable system
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.1 2004/08/06 22:33:27 deraadt Exp $
d80 1
a80 1
SPECIAL	chmod 755 install
@


1.1
log
@put ramdisk in right place
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.13 2004/08/06 22:30:02 pefo Exp $
d57 2
a58 3
#COPY	${DESTDIR}/usr/mdec/boot		usr/mdec/boot
#COPY	${DESTDIR}/usr/mdec/bootxx		usr/mdec/bootxx
#COPY	${DESTDIR}/usr/mdec/installboot		usr/mdec/installboot
@

