head	1.69;
access;
symbols
	OPENBSD_6_2:1.69.0.6
	OPENBSD_6_2_BASE:1.69
	OPENBSD_6_1:1.69.0.4
	OPENBSD_6_1_BASE:1.69
	OPENBSD_6_0:1.66.0.4
	OPENBSD_6_0_BASE:1.66
	OPENBSD_5_9:1.65.0.4
	OPENBSD_5_9_BASE:1.65
	OPENBSD_5_8:1.65.0.2
	OPENBSD_5_8_BASE:1.65
	OPENBSD_5_7:1.62.0.4
	OPENBSD_5_7_BASE:1.62
	OPENBSD_5_6:1.58.0.4
	OPENBSD_5_6_BASE:1.58
	OPENBSD_5_5:1.57.0.2
	OPENBSD_5_5_BASE:1.57
	OPENBSD_5_4:1.47.0.12
	OPENBSD_5_4_BASE:1.47
	OPENBSD_5_3:1.47.0.10
	OPENBSD_5_3_BASE:1.47
	OPENBSD_5_2:1.47.0.8
	OPENBSD_5_2_BASE:1.47
	OPENBSD_5_1_BASE:1.47
	OPENBSD_5_1:1.47.0.6
	OPENBSD_5_0:1.47.0.4
	OPENBSD_5_0_BASE:1.47
	OPENBSD_4_9:1.47.0.2
	OPENBSD_4_9_BASE:1.47
	OPENBSD_4_8:1.46.0.2
	OPENBSD_4_8_BASE:1.46
	OPENBSD_4_7:1.45.0.2
	OPENBSD_4_7_BASE:1.45
	OPENBSD_4_6:1.44.0.4
	OPENBSD_4_6_BASE:1.44
	OPENBSD_4_5:1.39.0.10
	OPENBSD_4_5_BASE:1.39
	OPENBSD_4_4:1.39.0.8
	OPENBSD_4_4_BASE:1.39
	OPENBSD_4_3:1.39.0.6
	OPENBSD_4_3_BASE:1.39
	OPENBSD_4_2:1.39.0.4
	OPENBSD_4_2_BASE:1.39
	OPENBSD_4_1:1.39.0.2
	OPENBSD_4_1_BASE:1.39
	OPENBSD_4_0:1.38.0.2
	OPENBSD_4_0_BASE:1.38
	OPENBSD_3_9:1.37.0.4
	OPENBSD_3_9_BASE:1.37
	OPENBSD_3_8:1.37.0.2
	OPENBSD_3_8_BASE:1.37
	OPENBSD_3_7:1.36.0.2
	OPENBSD_3_7_BASE:1.36
	OPENBSD_3_6:1.32.0.4
	OPENBSD_3_6_BASE:1.32
	OPENBSD_3_5:1.32.0.2
	OPENBSD_3_5_BASE:1.32
	OPENBSD_3_4:1.31.0.2
	OPENBSD_3_4_BASE:1.31
	OPENBSD_3_3:1.30.0.4
	OPENBSD_3_3_BASE:1.30
	OPENBSD_3_2:1.30.0.2
	OPENBSD_3_2_BASE:1.30
	OPENBSD_3_1:1.24.0.2
	OPENBSD_3_1_BASE:1.24
	OPENBSD_3_0:1.22.0.2
	OPENBSD_3_0_BASE:1.22
	OPENBSD_2_9:1.19.0.4
	OPENBSD_2_9_BASE:1.19
	OPENBSD_2_8:1.19.0.2
	OPENBSD_2_8_BASE:1.19
	OPENBSD_2_7:1.16.0.2
	OPENBSD_2_7_BASE:1.16
	OPENBSD_2_6:1.15.0.8
	OPENBSD_2_6_BASE:1.15
	OPENBSD_2_5:1.15.0.6
	OPENBSD_2_5_BASE:1.15
	OPENBSD_2_4:1.15.0.4
	OPENBSD_2_4_BASE:1.15
	OPENBSD_2_3:1.15.0.2
	OPENBSD_2_3_BASE:1.15
	OPENBSD_2_2:1.14.0.2
	OPENBSD_2_2_BASE:1.14
	OPENBSD_2_1:1.10.0.2
	OPENBSD_2_1_BASE:1.10
	OPENBSD_2_0:1.5.0.2
	OPENBSD_2_0_BASE:1.5;
locks; strict;
comment	@# @;


1.69
date	2016.09.17.15.03.39;	author florian;	state Exp;
branches;
next	1.68;
commitid	4iDaUFNgyRvNiP2A;

1.68
date	2016.09.13.22.27.50;	author rpe;	state Exp;
branches;
next	1.67;
commitid	GBnmSiVk0pmscj9y;

1.67
date	2016.09.03.10.57.12;	author rpe;	state Exp;
branches;
next	1.66;
commitid	pFfkafQ0XO5kSNdx;

1.66
date	2016.04.02.12.23.46;	author rpe;	state Exp;
branches;
next	1.65;
commitid	RiZ3BjQb9aPCOLdl;

1.65
date	2015.04.13.21.27.07;	author deraadt;	state Exp;
branches;
next	1.64;
commitid	XlnjSM8QPyxXBJUX;

1.64
date	2015.04.02.16.13.25;	author deraadt;	state Exp;
branches;
next	1.63;
commitid	xCtdNbyuk86cJEuz;

1.63
date	2015.03.11.15.27.32;	author deraadt;	state Exp;
branches;
next	1.62;
commitid	CiK8k4NfUdHOtlhW;

1.62
date	2015.02.23.08.09.46;	author deraadt;	state Exp;
branches;
next	1.61;
commitid	OJZZR2nB2iwRyEOa;

1.61
date	2014.12.28.04.40.18;	author deraadt;	state Exp;
branches;
next	1.60;
commitid	0Q152diy3j6ZcHnS;

1.60
date	2014.12.27.06.02.01;	author deraadt;	state Exp;
branches;
next	1.59;
commitid	ynzGEyGPUs5Lc7eO;

1.59
date	2014.12.03.20.11.19;	author florian;	state Exp;
branches;
next	1.58;
commitid	BNzpeI3z4QKLCMCf;

1.58
date	2014.07.20.02.37.35;	author deraadt;	state Exp;
branches;
next	1.57;
commitid	Js54FgDjh3ceuvNj;

1.57
date	2014.03.02.03.36.22;	author deraadt;	state Exp;
branches;
next	1.56;

1.56
date	2014.02.21.19.14.23;	author deraadt;	state Exp;
branches;
next	1.55;

1.55
date	2014.02.21.16.30.14;	author deraadt;	state Exp;
branches;
next	1.54;

1.54
date	2014.02.21.16.29.08;	author deraadt;	state Exp;
branches;
next	1.53;

1.53
date	2014.01.19.00.33.40;	author deraadt;	state Exp;
branches;
next	1.52;

1.52
date	2014.01.11.05.40.15;	author deraadt;	state Exp;
branches;
next	1.51;

1.51
date	2014.01.10.07.57.28;	author deraadt;	state Exp;
branches;
next	1.50;

1.50
date	2014.01.09.19.02.04;	author deraadt;	state Exp;
branches;
next	1.49;

1.49
date	2014.01.08.21.53.35;	author deraadt;	state Exp;
branches;
next	1.48;

1.48
date	2014.01.07.02.27.55;	author deraadt;	state Exp;
branches;
next	1.47;

1.47
date	2010.10.18.04.07.48;	author deraadt;	state Exp;
branches;
next	1.46;

1.46
date	2010.03.31.17.51.42;	author deraadt;	state Exp;
branches;
next	1.45;

1.45
date	2010.01.01.05.47.00;	author deraadt;	state Exp;
branches;
next	1.44;

1.44
date	2009.05.06.01.30.39;	author deraadt;	state Exp;
branches;
next	1.43;

1.43
date	2009.05.03.00.25.29;	author deraadt;	state Exp;
branches;
next	1.42;

1.42
date	2009.04.19.00.59.39;	author deraadt;	state Exp;
branches;
next	1.41;

1.41
date	2009.04.17.07.18.55;	author deraadt;	state Exp;
branches;
next	1.40;

1.40
date	2009.04.17.03.55.19;	author deraadt;	state Exp;
branches;
next	1.39;

1.39
date	2007.02.14.23.38.20;	author deraadt;	state Exp;
branches;
next	1.38;

1.38
date	2006.03.06.09.40.54;	author deraadt;	state Exp;
branches;
next	1.37;

1.37
date	2005.03.30.20.27.57;	author deraadt;	state Exp;
branches;
next	1.36;

1.36
date	2005.01.12.18.25.29;	author deraadt;	state Exp;
branches;
next	1.35;

1.35
date	2005.01.11.19.21.07;	author deraadt;	state Exp;
branches;
next	1.34;

1.34
date	2004.12.29.00.45.33;	author deraadt;	state Exp;
branches;
next	1.33;

1.33
date	2004.10.02.14.47.12;	author krw;	state Exp;
branches;
next	1.32;

1.32
date	2004.01.04.00.29.51;	author deraadt;	state Exp;
branches;
next	1.31;

1.31
date	2003.06.22.22.26.20;	author deraadt;	state Exp;
branches;
next	1.30;

1.30
date	2002.04.30.07.22.56;	author deraadt;	state Exp;
branches;
next	1.29;

1.29
date	2002.04.30.01.31.20;	author deraadt;	state Exp;
branches;
next	1.28;

1.28
date	2002.04.28.19.25.09;	author deraadt;	state Exp;
branches;
next	1.27;

1.27
date	2002.04.22.02.43.16;	author deraadt;	state Exp;
branches;
next	1.26;

1.26
date	2002.04.21.07.47.20;	author deraadt;	state Exp;
branches;
next	1.25;

1.25
date	2002.04.18.22.17.19;	author deraadt;	state Exp;
branches;
next	1.24;

1.24
date	2001.12.17.00.41.50;	author krw;	state Exp;
branches;
next	1.23;

1.23
date	2001.12.13.01.40.15;	author krw;	state Exp;
branches;
next	1.22;

1.22
date	2001.10.02.17.01.31;	author deraadt;	state Exp;
branches;
next	1.21;

1.21
date	2001.09.17.18.21.30;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	2001.06.23.19.44.45;	author deraadt;	state Exp;
branches;
next	1.19;

1.19
date	2000.07.25.18.23.32;	author deraadt;	state Exp;
branches;
next	1.18;

1.18
date	2000.06.12.16.02.49;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2000.06.09.17.42.53;	author mickey;	state Exp;
branches;
next	1.16;

1.16
date	2000.04.25.22.01.58;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	97.12.02.02.30.12;	author deraadt;	state Exp;
branches;
next	1.14;

1.14
date	97.10.02.01.11.07;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	97.09.17.14.19.33;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	97.08.24.22.44.59;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	97.08.24.07.07.35;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	97.05.05.05.33.17;	author grr;	state Exp;
branches;
next	1.9;

1.9
date	97.05.04.11.08.41;	author niklas;	state Exp;
branches;
next	1.8;

1.8
date	97.05.01.11.05.15;	author niklas;	state Exp;
branches;
next	1.7;

1.7
date	97.04.30.19.42.01;	author niklas;	state Exp;
branches;
next	1.6;

1.6
date	97.04.30.18.52.46;	author niklas;	state Exp;
branches;
next	1.5;

1.5
date	96.10.08.07.03.58;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	96.09.05.21.26.41;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.06.29.05.54.17;	author tholo;	state Exp;
branches;
next	1.2;

1.2
date	96.01.07.13.22.53;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.12.26.18.35.42;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.69
log
@ping6(8) is now a hardlink to ping(8).
The instbin stuff looks good to deraadt@@
@
text
@#	$OpenBSD: list,v 1.68 2016/09/13 22:27:50 rpe Exp $

SRCDIRS distrib/special

# copy the crunched binary, link to it, and kill it
COPY	${OBJDIR}/instbin			instbin
LINK	instbin					bin/arch
LINK	instbin					bin/cat
LINK	instbin					bin/chmod bin/chgrp sbin/chown
LINK	instbin					bin/cp
LINK	instbin					bin/date
LINK	instbin					bin/dd
LINK	instbin					bin/df
LINK	instbin					bin/ed
LINK	instbin					bin/hostname
LINK	instbin					bin/ksh bin/sh
ARGVLINK ksh					-sh
LINK	instbin					bin/ln
LINK	instbin					bin/ls
LINK	instbin					bin/md5 bin/sha256 bin/sha512
SPECIAL	rm bin/md5
LINK	instbin					bin/mkdir
LINK	instbin					bin/mt bin/eject
LINK	instbin					bin/mv
LINK	instbin					bin/pax bin/tar
LINK	instbin					bin/rm
LINK	instbin					bin/sleep
LINK	instbin					bin/stty
LINK	instbin					bin/sync
LINK	instbin					sbin/disklabel
LINK	instbin					sbin/dmesg
LINK	instbin					sbin/fsck
LINK	instbin					sbin/fsck_ffs
LINK	instbin					sbin/ifconfig
LINK	instbin					sbin/init
LINK	instbin					sbin/mknod
LINK	instbin					sbin/mount
LINK	instbin					sbin/mount_cd9660
LINK	instbin					sbin/mount_ffs
LINK	instbin					sbin/mount_nfs
LINK	instbin					sbin/mount_udf
LINK	instbin					sbin/newfs
LINK	instbin					sbin/ping sbin/ping6
LINK	instbin					sbin/reboot sbin/halt
LINK	instbin					sbin/route
LINK	instbin					sbin/sysctl
LINK	instbin					sbin/umount
LINK	instbin					usr/bin/doas
LINK	instbin					usr/bin/encrypt
LINK	instbin					usr/bin/ftp
LINK	instbin					usr/bin/grep usr/bin/egrep usr/bin/fgrep
LINK	instbin					usr/bin/gzip usr/bin/gunzip usr/bin/gzcat
LINK	instbin					usr/bin/more usr/bin/less
LINK	instbin					usr/bin/sed
LINK	instbin					usr/bin/signify
LINK	instbin					usr/sbin/chroot
LINK	instbin					usr/sbin/pwd_mkdb

# various files that we need in /etc for the install
COPY	${CURDIR}/../../miniroot/group		etc/group
COPY	${CURDIR}/../miniroot/master.passwd	etc/master.passwd
SPECIAL	pwd_mkdb -p -d etc master.passwd; rm etc/master.passwd
COPY	${DESTDIR}/etc/signify/openbsd-${REV}-base.pub	etc/signify/openbsd-${REV}-base.pub
COPY	${CURDIR}/../miniroot/protocols		etc/protocols
COPY	${CURDIR}/../miniroot/services		etc/services

# and the installation scripts
SCRIPT	${CURDIR}/dot.profile			.profile
SCRIPT	${CURDIR}/install.sub			install.sub
SPECIAL	chmod 755 install.sub
SYMLINK	install.sub				autoinstall
SYMLINK	install.sub				install
SYMLINK	install.sub				upgrade

TZ
@


1.68
log
@Provide a stripped down group file for the install media.
Saves precious 896 bytes as a side effect.

OK deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.67 2016/09/03 10:57:12 rpe Exp $
d43 1
a43 2
LINK	instbin					sbin/ping
LINK	instbin					sbin/ping6
@


1.67
log
@Enable a stripped down version of doas(1) on the install media.

OK halex, tb, deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.66 2016/04/02 12:23:46 rpe Exp $
d61 1
a61 1
COPY	${DESTDIR}/etc/group			etc/group
@


1.66
log
@- merge install.sh into install.sub as do_install()
- merge upgrade.sh into install.sub as do_upgrade()
- delete install.sh and upgrade.sh
- make install.sub executable
- turn install and upgrade into symbolic links to install.sub
- add autoinstall symbolic link to install.sub
- change dot.profile to use these symlinks
- introduce a -m option to set MODE in install.sub
- alternativly set MODE and AUTO depending on PROGNAME
- execute the do_{install,upgrade) functions depending on $MODE

OK halex@@, krw@@
'go for it' deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.65 2015/04/13 21:27:07 deraadt Exp $
d49 1
@


1.65
log
@pwd_mkdb now fits onto the install media.  no more chroot games.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.64 2015/04/02 16:13:25 deraadt Exp $
a68 2
SCRIPT	${CURDIR}/upgrade.sh			upgrade
SCRIPT	${CURDIR}/install.sh			install
d70 4
a73 1
SPECIAL	chmod 755 install upgrade
@


1.64
log
@more -> less; not less -> more
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.63 2015/03/11 15:27:32 deraadt Exp $
d57 1
@


1.63
log
@adjust for removal of expr (and while here, sort all these lists, with the
goal of eventually refactoring them)
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.61 2014/12/28 04:40:18 deraadt Exp $
d53 1
a53 1
LINK	instbin					usr/bin/less usr/bin/more
@


1.62
log
@expr no longer needed on media, thanks to halex and todd and rpe
@
text
@a8 1
LINK	instbin					bin/date
d11 1
d30 1
a38 1
LINK	instbin					sbin/mount_udf
d41 2
a42 1
LINK	instbin					sbin/newfs sbin/mount_mfs
d51 1
d53 1
d56 1
@


1.61
log
@Build special/encrypt into instbin, to prepare for dropping use of the
version in just installed base.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.60 2014/12/27 06:02:01 deraadt Exp $
a14 1
LINK	instbin					bin/expr
@


1.60
log
@SRCDIRS must now always come from distrib/special.  A few systems
still MD installboot, and we will need to repair those before
release, or force them pure -static use by both base and instbin.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.59 2014/12/03 20:11:19 florian Exp $
d49 1
@


1.59
log
@rtsol(8) is no longer needed on the ramdisks.
OK deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.58 2014/07/20 02:37:35 deraadt Exp $
a3 1
SRCDIRS bin sbin
@


1.58
log
@place sysctl in sorted order; Jean-Philippe Ouellet
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.57 2014/03/02 03:36:22 deraadt Exp $
a47 1
LINK	instbin					sbin/rtsol
@


1.57
log
@move to official keys
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.56 2014/02/21 19:14:23 deraadt Exp $
d49 1
a53 1
LINK	instbin					sbin/sysctl
@


1.56
log
@remove irksome useless comments
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.54 2014/02/21 16:29:08 deraadt Exp $
d60 1
a60 1
COPY	${DESTDIR}/etc/signify/${REV}base.pub	etc/signify/${REV}base.pub
@


1.55
log
@oops, seperate pieces coming...
@
text
@d1 1
a1 2
#	$OpenBSD: list,v 1.53 2014/01/19 00:33:40 deraadt Exp $
#	$NetBSD: list,v 1.4.4.1 1996/06/20 20:30:26 pk Exp $
@


1.54
log
@services
@
text
@d2 1
@


1.53
log
@we no long use the /var/hash files, but rely on the SHA256.sig file.
We can remove the hashing support.
@
text
@d1 1
a1 2
#	$OpenBSD: list,v 1.52 2014/01/11 05:38:13 deraadt Exp $
#	$NetBSD: list,v 1.4.4.1 1996/06/20 20:30:26 pk Exp $
@


1.52
log
@No need for a bin/cpio link on the media, because the pax|tar binary does
not support cpio anymore.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.51 2014/01/10 07:57:28 deraadt Exp $
a71 1
HASH	var/hash
@


1.51
log
@remove md5 after installing it (with the links to the sha256/512 commands).
this is because the md5/sha256/sha512 are in the same binary, found in the
md5 directory, but the version on the media lacks md5 support.  Understand?
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.50 2014/01/09 19:02:04 deraadt Exp $
d28 1
a28 1
LINK	instbin					bin/pax bin/tar bin/cpio
@


1.50
log
@copy the relevant key for the release onto the media
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.49 2014/01/08 21:53:35 deraadt Exp $
d24 1
@


1.49
log
@Switch to using the base sha256 command, rather than some customized
abomination.
install.sub chunk tested by rpe
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.48 2014/01/07 02:27:55 deraadt Exp $
d60 1
@


1.48
log
@SRCDRS usr.bin usr.sbin is a bad idea (because of PIE).  The places we
pick binaries up must be compiled -static or at least in some safe
model for reuse.  Since we now use distrib/special for those, we can
safely remove usr.bin and usr.sbin from this list.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.47 2010/10/18 04:07:48 deraadt Exp $
d23 1
a28 1
LINK	instbin					bin/sha256
d54 1
@


1.47
log
@Place a smaller spwd.db onto the install media.  Be consistant with the naming
of the "additional" list files (for architectures which split the list)
Then... cleanup some TZ which it is clear should not have been placed onto
certain media which don't have the space for them.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.46 2010/03/31 17:51:42 deraadt Exp $
d5 1
a5 1
SRCDIRS bin sbin usr.bin usr.sbin
@


1.46
log
@put date(1) onto the media, it fits
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.45 2010/01/01 05:47:00 deraadt Exp $
d57 2
a58 1
COPY	${DESTDIR}/etc/spwd.db			etc/spwd.db
@


1.45
log
@add arch(1) to the ramdisk, it is tiny and we will soon need it
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.44 2009/05/06 01:30:39 deraadt Exp $
d11 1
@


1.44
log
@Put the tzdir onto some of the media we think it will fit onto
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.43 2009/05/03 00:25:29 deraadt Exp $
d9 1
@


1.43
log
@We will need bin/sleep on all ramdisks.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.42 2009/04/19 00:59:39 deraadt Exp $
d67 1
@


1.42
log
@Use sysctl -n hw.disknames instead of the custom disknames program
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.41 2009/04/17 07:18:55 deraadt Exp $
d27 1
@


1.41
log
@er, wrong path
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.40 2009/04/17 03:55:19 deraadt Exp $
d50 1
a50 1
LINK	instbin					usr/bin/disknames
@


1.40
log
@Put bin/sha256 and build a hash directory onto the media that can fit
them
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.39 2007/02/14 23:38:20 deraadt Exp $
d65 1
a65 1
HASH	/var/hash
@


1.39
log
@put the disknames command on all install media (hope i did not miss any) ok krw@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.38 2006/03/06 09:40:54 deraadt Exp $
d26 1
d64 2
@


1.38
log
@eject -> mt (except on alpha where size tests are needed)
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.37 2005/03/30 20:27:57 deraadt Exp $
d49 1
@


1.37
log
@put mount_udf here too (big media things use this)
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.36 2005/01/12 18:25:29 deraadt Exp $
d22 1
a22 1
LINK	instbin					bin/mt
@


1.36
log
@remove some differences
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.35 2005/01/11 19:21:07 deraadt Exp $
d36 1
@


1.35
log
@put a seperate and real fsck on the media
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.34 2004/12/29 00:45:33 deraadt Exp $
d17 2
a25 1
LINK	instbin					bin/ksh bin/sh
a30 1
LINK	instbin					sbin/reboot sbin/halt
d41 2
a43 1
LINK	instbin					sbin/route
a47 3

# `internal' crunchgen links
ARGVLINK ksh					-sh
@


1.34
log
@nothing uses a SRCDIR of gnu anymore, proposed by mickey, tested by me
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.33 2004/10/02 14:47:12 krw Exp $
d8 39
a46 38
COPY	${OBJDIR}/instbin	instbin
LINK	instbin			bin/cat
LINK	instbin			bin/chmod bin/chgrp sbin/chown usr/bin/chflags
LINK	instbin			bin/cp
LINK	instbin			bin/dd
LINK	instbin			bin/df
LINK	instbin			bin/ed
LINK	instbin			bin/expr
LINK	instbin			bin/hostname
LINK	instbin			bin/ln
LINK	instbin			bin/ls
LINK	instbin			bin/mkdir
LINK	instbin			bin/mt
LINK	instbin			bin/mv
LINK	instbin			bin/pax bin/tar bin/cpio
LINK	instbin			bin/rm
LINK	instbin			bin/ksh bin/sh
LINK	instbin			bin/stty
LINK	instbin			bin/sync
LINK	instbin			sbin/dmesg
LINK	instbin			sbin/fsck_ffs sbin/fsck
LINK	instbin			sbin/reboot sbin/halt
LINK	instbin			sbin/ifconfig
LINK	instbin			sbin/init
LINK	instbin			sbin/mknod
LINK	instbin			sbin/mount
LINK	instbin			sbin/mount_cd9660
LINK	instbin			sbin/mount_ffs
LINK	instbin			sbin/mount_nfs
LINK	instbin			sbin/newfs sbin/mount_mfs
LINK	instbin			sbin/ping
LINK	instbin			sbin/ping6
LINK	instbin			sbin/rtsol
LINK	instbin			sbin/route
LINK	instbin			sbin/umount
LINK	instbin			usr/bin/ftp
LINK	instbin			usr/bin/gzip usr/bin/gunzip usr/bin/gzcat
LINK	instbin			usr/bin/sed
d49 1
a49 1
ARGVLINK ksh		-sh
d52 4
a55 4
COPY	${DESTDIR}/etc/group		etc/group
COPY	${DESTDIR}/etc/spwd.db		etc/spwd.db
COPY	${CURDIR}/../miniroot/protocols	etc/protocols
COPY	${CURDIR}/../miniroot/services	etc/services
d58 4
a61 4
SCRIPT	${CURDIR}/dot.profile		.profile
SCRIPT	${CURDIR}/upgrade.sh		upgrade
SCRIPT	${CURDIR}/install.sh		install
SCRIPT	${CURDIR}/install.sub		install.sub
@


1.33
log
@Last use of sleep(1) in install scripts was eliminated by recent
re-write of install_cd() so remove sleep(1) from install media.

"sure!" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.32 2004/01/04 00:29:51 deraadt Exp $
d5 1
a5 1
SRCDIRS usr.bin bin sbin usr.sbin gnu/usr.bin
@


1.32
log
@put INET6, rtsol, and ping6 onto media where it fits.  install.sub changes
which begin to enable use of this will follow at a later time.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.31 2003/06/22 22:26:20 deraadt Exp $
a25 1
LINK	instbin			bin/sleep
@


1.31
log
@put gnu at the end of the SRCDIRS list
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.30 2002/04/30 07:22:56 deraadt Exp $
d40 2
@


1.30
log
@oops, typo
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.29 2002/04/30 01:31:20 deraadt Exp $
d5 1
a5 1
SRCDIRS gnu/usr.bin usr.bin bin sbin usr.sbin
@


1.29
log
@use SCRIPT command
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.28 2002/04/28 19:25:09 deraadt Exp $
d56 4
a59 4
SPECIAL	${CURDIR}/dot.profile		.profile
SPECIAL	${CURDIR}/upgrade.sh		upgrade
SPECIAL	${CURDIR}/install.sh		install
SPECIAL	${CURDIR}/install.sub		install.sub
@


1.28
log
@remove confusion about disktab
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.27 2002/04/22 02:43:16 deraadt Exp $
d56 4
a59 4
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/dot.profile > .profile
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/upgrade.sh > upgrade
SPECIAL	sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' < ${CURDIR}/install.sh > install
SPECIAL sed -e '/^[ 	]*#[ 	].*$/d' -e '/^[ 	]*#$/d' -e "/^VERSION=/s/=.*/=${REV}/" < ${CURDIR}/install.sub > install.sub
@


1.27
log
@use one common dot.profile for all
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.26 2002/04/21 07:47:20 deraadt Exp $
a46 3
ARGVLINK mount_ffs	ffs
ARGVLINK mount_nfs	nfs
ARGVLINK mount_cd9660	cd9660
a50 3
COPY	${DESTDIR}/etc/master.passwd	etc/master.passwd
COPY	${DESTDIR}/etc/passwd		etc/passwd
COPY	${DESTDIR}/etc/pwd.db		etc/pwd.db
d52 2
a53 2
COPY	${CURDIR}/protocols		etc/protocols
COPY	${CURDIR}/services		etc/services
@


1.26
log
@strip scripts; remove some crud
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.25 2002/04/18 22:17:19 deraadt Exp $
d62 1
@


1.25
log
@no chroot, and avoid SYMLINK to instbin
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.24 2001/12/17 00:41:50 krw Exp $
d5 1
a5 1
SRCDIRS gnu/usr.bin usr.bin bin sbin usr.sbin usr.bin/vi
a40 2
LINK	instbin			sbin/shutdown
LINK	instbin			sbin/slattach
a44 3
LINK	instbin			usr/bin/sort
LINK	instbin			usr/bin/tip
LINK	instbin			usr/bin/build usr/bin/vi
d62 3
a64 4
COPY	${CURDIR}/install.sub		install.sub
COPY	${CURDIR}/install.sh		install
COPY	${CURDIR}/upgrade.sh		upgrade
SPECIAL sed "/^VERSION=/s/=.*/=${REV}/" < ${CURDIR}/install.sub > install.sub
@


1.24
log
@Use actual files for short versions of /etc/protocols and
/etc/services used during installations.

This way it is not necessary to run the install script before
using commands requiring these files.

Requested by deraadt@@.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.23 2001/12/13 01:40:15 krw Exp $
d44 6
a49 7
SYMLINK	../../instbin		usr/sbin/chroot
SYMLINK	../../instbin		usr/bin/ftp
SYMLINK	../../instbin		usr/bin/gzip usr/bin/gunzip usr/bin/gzcat
SYMLINK	../../instbin		usr/bin/sed
SYMLINK	../../instbin		usr/bin/sort
SYMLINK	../../instbin		usr/bin/tip
SYMLINK	../../instbin		usr/bin/build usr/bin/vi
@


1.23
log
@Remove /etc/protocols and /etc/services from install media
that use the miniroot install scripts.

During an install, donetconfig() in miniroot/install.sub now
creates a minimal /etc/protocols and /etc/services.

During an upgrade, enable_network() now copies the existing
protocols and services files into /etc.

Saves approximately 13K on floppy/cd images.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.22 2001/10/02 17:01:31 deraadt Exp $
d64 2
@


1.22
log
@more gnu/usr.bin before usr.bin
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.21 2001/09/17 18:21:30 deraadt Exp $
a61 1
COPY	${DESTDIR}/etc/protocols	etc/protocols
a62 1
COPY	${DESTDIR}/etc/services		etc/services
@


1.21
log
@zap kernfs
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.20 2001/06/23 19:44:45 deraadt Exp $
d5 1
a5 1
SRCDIRS usr.bin bin sbin usr.sbin gnu/usr.bin usr.bin/vi
@


1.20
log
@argh.  stop using kernfs, using dmesg using sysctl.  encode ARCH into
install.md at build time.  remove some crud.  and the icing on the cake:
skip testing all this until next week
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.19 2000/07/25 18:23:32 deraadt Exp $
a37 1
LINK	instbin			sbin/mount_kernfs
@


1.19
log
@deal with chflags merge, again
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.18 2000/06/12 16:02:49 deraadt Exp $
d28 1
@


1.18
log
@fix ch* links
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.17 2000/06/09 17:42:53 mickey Exp $
d10 1
a10 1
LINK	instbin			bin/chmod bin/chgrp sbin/chown
a43 1
SYMLINK	../../instbin		usr/bin/chflags
@


1.17
log
@chown/chgrp changes
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.16 2000/04/25 22:01:58 millert Exp $
d10 1
a10 2
LINK	instbin			bin/chmod
LINK	instbin			bin/chgrp
a27 1
LINK	instbin			sbin/chown
@


1.16
log
@kill, test and pwd are ksh builtins--no need to include standalone binaries.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.15 1997/12/02 02:30:12 deraadt Exp $
d11 1
d29 1
a46 1
SYMLINK	../../instbin		usr/sbin/chown usr/bin/chgrp
@


1.15
log
@repository move of src/bin/pdksh to src/bin/ksh
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.14 1997/10/02 01:11:07 deraadt Exp $
a18 1
LINK	instbin			bin/kill
a22 1
LINK	instbin			bin/pwd
a27 1
LINK	instbin			bin/test bin/[
@


1.14
log
@build vi thingy correctly; toddf found the bug
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.13 1997/09/17 14:19:33 deraadt Exp $
d26 1
a26 1
LINK	instbin			bin/pdksh bin/sh
d61 1
a61 1
ARGVLINK pdksh		-sh
@


1.13
log
@generalize Todd's work for ftp/pppd/rsh to ramdisks and miniroots on all
architectures.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.12 1997/08/24 22:44:59 deraadt Exp $
d55 1
a55 1
SYMLINK	../../instbin		usr/bin/build
a77 1
SPECIAL	ln -s instbin		usr/bin/vi
@


1.12
log
@vi, build, argh, hack around it
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.11 1997/08/24 07:07:35 deraadt Exp $
d4 1
@


1.11
log
@no vim
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.10 1997/05/05 05:33:17 grr Exp $
d4 1
a4 1
SRCDIRS usr.bin bin sbin usr.sbin gnu/usr.bin
d54 1
a54 1
SYMLINK	../../instbin		usr/bin/vi
d77 1
@


1.10
log
@if kernfs is to be the official path, we need to be able to mount it
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.9 1997/05/04 11:08:41 niklas Exp $
d54 1
a54 1
SYMLINK	../../instbin		usr/bin/vim usr/bin/vi
a69 1
COPY	${DESTDIR}/etc/virc		etc/virc
@


1.9
log
@The -sh link should be to pdksh instead of sh, or makeconf.awk
will try to bring in ash as well
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.8 1997/05/01 11:05:15 niklas Exp $
d39 1
@


1.8
log
@pdksh, man, pdksh
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.7 1997/04/30 19:42:01 niklas Exp $
d59 1
a59 1
ARGVLINK sh		-sh
@


1.7
log
@pax/tar/cpio done right, hopefully
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.6 1997/04/30 18:52:46 niklas Exp $
d25 1
a25 1
LINK	instbin			bin/sh
@


1.6
log
@We run OpenBSD. we also want vim acting as vi.
@
text
@d1 1
a1 1
#	$OpenBSD: list,v 1.4.4.1 1996/06/20 20:30:26 pk Exp $
d22 1
a51 2
SYMLINK	../../instbin		usr/bin/pax
SYMLINK	usr/bin/pax		usr/bin/tar
@


1.5
log
@pax, -update
@
text
@d1 1
d54 1
d70 1
@


1.4
log
@sync to netbsd
@
text
@d50 2
a51 1
SYMLINK	../../instbin		usr/bin/tar
a52 1
SYMLINK	../../instbin		usr/sbin/update
@


1.3
log
@Update for removal of GNU tar(1)
@
text
@d1 3
a3 1
#	$NetBSD: list,v 1.3 1996/01/06 22:45:14 pk Exp $
d27 3
a29 7
LINK	instbin			bin/tar
LINK	instbin			bin/test
LINK	instbin			bin/[
LINK	instbin			sbin/disklabel
LINK	instbin			sbin/dmesg
LINK	instbin			sbin/fsck
LINK	instbin			sbin/halt
d37 1
a37 1
LINK	instbin			sbin/newfs
a38 1
LINK	instbin			sbin/reboot
a42 2
SYMLINK	../../instbin		usr/bin/awk
SYMLINK	../../instbin		usr/bin/basename
d44 2
a45 4
SYMLINK	../../instbin		usr/bin/chgrp
SYMLINK	../../instbin		usr/bin/cut
SYMLINK	../../instbin		usr/bin/egrep
SYMLINK	../../instbin		usr/bin/fgrep
d47 1
a47 7
SYMLINK	../../instbin		usr/bin/grep
SYMLINK	../../instbin		usr/bin/gunzip
SYMLINK	../../instbin		usr/bin/gzcat
SYMLINK	../../instbin		usr/bin/gzip
SYMLINK	../../instbin		usr/bin/more
SYMLINK	../../instbin		usr/bin/netstat
SYMLINK	../../instbin		usr/bin/rsh
a48 1
SYMLINK	../../instbin		usr/bin/strings
d50 1
a51 4
SYMLINK	../../instbin		usr/bin/tset
SYMLINK	../../instbin		usr/bin/vi
SYMLINK	../../instbin		usr/sbin/chown
SYMLINK	../../instbin		usr/sbin/chroot
d54 5
a58 8
# Minimize use of MFS
SYMLINK	/tmp	var/tmp

# copy the MAKEDEV script and make some devices
COPY	${DESTDIR}/dev/MAKEDEV		dev/MAKEDEV
COPY	${DESTDIR}/dev/MAKEDEV.local	dev/MAKEDEV.local
SPECIAL	cd dev; sh MAKEDEV all
SPECIAL	/bin/rm dev/MAKEDEV
a68 6
# the zoneinfo
COPYDIR	${DESTDIR}/usr/share/zoneinfo	usr/share/zoneinfo

# and the termcap file
COPY	${CURDIR}/../../share/termcap/termcap.src usr/share/misc/termcap

d73 1
@


1.2
log
@update from netbsd
@
text
@d25 1
a63 1
SYMLINK	../../instbin		usr/bin/tar
@


1.1
log
@update from netbsd
@
text
@d1 1
a1 1
#	$NetBSD: list,v 1.2 1995/12/19 00:54:07 pk Exp $
d94 6
@
