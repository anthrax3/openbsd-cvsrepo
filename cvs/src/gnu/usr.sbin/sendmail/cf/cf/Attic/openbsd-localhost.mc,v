head	1.6;
access;
symbols
	OPENBSD_5_6:1.5.0.16
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.14
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.10
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.8
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.6
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.4
	OPENBSD_5_0:1.5.0.2
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.4.0.38
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.36
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.32
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.34
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.30
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.28
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.26
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.24
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.22
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.20
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.18
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.16
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.14
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.12
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.10
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.4.0.6
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.8
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.4
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.2
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2;
locks; strict;
comment	@# @;


1.6
date	2014.09.17.18.49.49;	author matthieu;	state dead;
branches;
next	1.5;
commitid	M7i5giHIoz3DMlTU;

1.5
date	2011.04.07.15.37.01;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2001.12.10.20.57.11;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	2001.11.29.16.40.46;	author todd;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.13.13.55.57;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.11.19.31.31;	author millert;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Bye.
@
text
@define(`LOCALHOST_ONLY')dnl
include(_CF_DIR_`cf/openbsd-proto.mc')dnl
@


1.5
log
@Make the localhost cf the same as the prototype cf but listen on
the loopback interface instead of all interfaces.
OK dlg@@ ajacoutot@@ giovanni@@
@
text
@@


1.4
log
@Add FEATURE(`accept_unresolvable_domains')
This should help folks whose IP address is not resolvable.
@
text
@d1 2
a2 37
divert(-1)
#
# Copyright (c) 1998 Sendmail, Inc.  All rights reserved.
# Copyright (c) 1983 Eric P. Allman.  All rights reserved.
# Copyright (c) 1988, 1993
#	The Regents of the University of California.  All rights reserved.
#
# By using this file, you agree to the terms and conditions set
# forth in the LICENSE file which can be found at the top level of
# the sendmail distribution.
#
#

#
#  This configuration only runs sendmail on the localhost interface.
#  This allows mail on the local host to work without accepting
#  connections from the net at large.
#

divert(0)dnl
VERSIONID(`@@(#)openbsd-localhost.mc $Revision: 1.3 $')
OSTYPE(openbsd)dnl
FEATURE(nouucp, `reject')dnl
FEATURE(`accept_unresolvable_domains')dnl
FEATURE(`no_default_msa')dnl
MAILER(local)dnl
MAILER(smtp)dnl
DAEMON_OPTIONS(`Family=inet, address=127.0.0.1, Name=MTA')dnl
DAEMON_OPTIONS(`Family=inet6, address=::1, Name=MTA6, M=O')dnl
DAEMON_OPTIONS(`Family=inet, address=127.0.0.1, Port=587, Name=MSA, M=E')dnl
DAEMON_OPTIONS(`Family=inet6, address=::1, Port=587, Name=MSA6, M=O, M=E')dnl
CLIENT_OPTIONS(`Family=inet6, Address=::')dnl
CLIENT_OPTIONS(`Family=inet, Address=0.0.0.0')dnl
dnl
dnl Some broken nameservers will return SERVFAIL (a temporary failure) 
dnl on T_AAAA (IPv6) lookups.
define(`confBIND_OPTS', `WorkAroundBrokenAAAA')dnl
@


1.3
log
@use ipv6 when possible; transparent if you don't have ipv6 enabled
..without this, client only connects to remote ipv4 smtp sites,
  and yes, localhost is a 'remote' site during testing.
millert@@ ok.
@
text
@d21 7
a27 6
VERSIONID(`@@(#)openbsd-localhost.mc $Revision: 1.2 $')
OSTYPE(openbsd)
FEATURE(nouucp, `reject')
FEATURE(`no_default_msa')
MAILER(local)
MAILER(smtp)
@


1.2
log
@Bind MSA port to localhost as well; noted by fgs@@
@
text
@d21 1
a21 1
VERSIONID(`@@(#)openbsd-localhost.mc $Revision: 1.1 $')
d31 2
@


1.1
log
@localhost-only config
@
text
@d21 1
a21 1
VERSIONID(`@@(#)openbsd-localhost.mc $Revision: 1.3 $')
d24 1
d29 2
@

