head	1.33;
access;
symbols
	OPENBSD_5_6:1.32.0.4
	OPENBSD_5_6_BASE:1.32
	OPENBSD_5_5:1.29.0.4
	OPENBSD_5_5_BASE:1.29
	OPENBSD_5_4:1.28.0.20
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.28.0.18
	OPENBSD_5_3_BASE:1.28
	OPENBSD_5_2:1.28.0.16
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.28
	OPENBSD_5_1:1.28.0.14
	OPENBSD_5_0:1.28.0.12
	OPENBSD_5_0_BASE:1.28
	OPENBSD_4_9:1.28.0.10
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.28.0.8
	OPENBSD_4_8_BASE:1.28
	OPENBSD_4_7:1.28.0.4
	OPENBSD_4_7_BASE:1.28
	OPENBSD_4_6:1.28.0.6
	OPENBSD_4_6_BASE:1.28
	OPENBSD_4_5:1.28.0.2
	OPENBSD_4_5_BASE:1.28
	OPENBSD_4_4:1.26.0.16
	OPENBSD_4_4_BASE:1.26
	OPENBSD_4_3:1.26.0.14
	OPENBSD_4_3_BASE:1.26
	OPENBSD_4_2:1.26.0.12
	OPENBSD_4_2_BASE:1.26
	OPENBSD_4_1:1.26.0.10
	OPENBSD_4_1_BASE:1.26
	OPENBSD_4_0:1.26.0.8
	OPENBSD_4_0_BASE:1.26
	OPENBSD_3_9:1.26.0.6
	OPENBSD_3_9_BASE:1.26
	OPENBSD_3_8:1.26.0.4
	OPENBSD_3_8_BASE:1.26
	OPENBSD_3_7:1.26.0.2
	OPENBSD_3_7_BASE:1.26
	OPENBSD_3_6:1.25.0.2
	OPENBSD_3_6_BASE:1.25
	OPENBSD_3_5:1.23.0.2
	OPENBSD_3_5_BASE:1.23
	OPENBSD_3_4:1.22.0.2
	OPENBSD_3_4_BASE:1.22
	OPENBSD_3_3:1.21.0.4
	OPENBSD_3_3_BASE:1.21
	OPENBSD_3_2:1.17.0.2
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.15.0.4
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.15.0.2
	OPENBSD_3_0_BASE:1.15
	SENDMAIL_8_12_0:1.1.1.3
	OPENBSD_2_9:1.11.0.2
	OPENBSD_2_9_BASE:1.11
	SENDMAIL_8_11_2:1.1.1.2
	OPENBSD_2_8:1.9.0.2
	OPENBSD_2_8_BASE:1.9
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	SENDMAIL_8_10_0:1.1.1.1
	SENDMAIL_INC:1.1.1;
locks; strict;
comment	@# @;


1.33
date	2014.09.17.18.49.51;	author matthieu;	state dead;
branches;
next	1.32;
commitid	M7i5giHIoz3DMlTU;

1.32
date	2014.04.15.20.55.42;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2014.04.13.08.35.27;	author brad;	state Exp;
branches;
next	1.30;

1.30
date	2014.03.19.21.10.27;	author tedu;	state Exp;
branches;
next	1.29;

1.29
date	2013.08.06.19.05.57;	author miod;	state Exp;
branches;
next	1.28;

1.28
date	2008.08.20.22.19.49;	author dlg;	state Exp;
branches;
next	1.27;

1.27
date	2008.08.20.12.38.41;	author dlg;	state Exp;
branches;
next	1.26;

1.26
date	2005.01.12.18.15.46;	author millert;	state Exp;
branches;
next	1.25;

1.25
date	2004.06.29.04.07.49;	author millert;	state Exp;
branches;
next	1.24;

1.24
date	2004.06.24.03.59.26;	author millert;	state Exp;
branches;
next	1.23;

1.23
date	2003.12.30.18.53.09;	author millert;	state Exp;
branches;
next	1.22;

1.22
date	2003.08.13.23.36.33;	author millert;	state Exp;
branches;
next	1.21;

1.21
date	2003.03.10.21.08.44;	author millert;	state Exp;
branches;
next	1.20;

1.20
date	2003.03.09.00.14.19;	author millert;	state Exp;
branches;
next	1.19;

1.19
date	2003.02.27.21.22.14;	author millert;	state Exp;
branches;
next	1.18;

1.18
date	2003.02.19.06.18.10;	author millert;	state Exp;
branches;
next	1.17;

1.17
date	2002.06.03.17.25.46;	author millert;	state Exp;
branches;
next	1.16;

1.16
date	2002.04.18.00.49.28;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	2001.09.20.22.10.02;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	2001.09.12.19.17.10;	author millert;	state Exp;
branches;
next	1.13;

1.13
date	2001.09.11.19.02.49;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2001.05.05.22.00.17;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2001.02.11.22.35.18;	author millert;	state Exp;
branches
	1.11.2.1;
next	1.10;

1.10
date	2001.01.15.21.09.06;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2000.10.09.23.45.00;	author millert;	state Exp;
branches
	1.9.2.1;
next	1.8;

1.8
date	2000.08.01.12.57.47;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2000.06.11.20.43.22;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.06.15.45.44;	author millert;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2000.04.06.01.05.37;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2000.04.04.13.58.28;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.04.04.50.14;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.02.19.48.34;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	2000.04.02.19.05.43;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.02.19.05.43;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.01.15.20.52.09;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2001.09.11.18.55.49;	author millert;	state Exp;
branches;
next	;

1.6.2.1
date	2000.10.10.05.13.38;	author jason;	state Exp;
branches;
next	;

1.9.2.1
date	2001.05.31.00.31.27;	author miod;	state Exp;
branches;
next	;

1.11.2.1
date	2001.05.31.01.47.55;	author jason;	state Exp;
branches;
next	;


desc
@@


1.33
log
@Bye.
@
text
@#	$OpenBSD: Makefile,v 1.32 2014/04/15 20:55:42 miod Exp $

PROG=	sendmail

.include <bsd.own.mk>

WANT_LIBSM=1
WANT_LIBSMUTIL=1

# For TLS/SSL support
ENVDEF+= -DSTARTTLS
LDADD+= -lssl -lcrypto
DPADD=	${LIBSSL} ${LIBCRYPTO}

# To build with SASL support define WANT_SMTPAUTH in /etc/mk.conf (unsupported)
.if defined(WANT_SMTPAUTH)
ENVDEF+= -DSASL
CFLAGS+= -I/usr/local/include/sasl
LDADD+= -lsasl2
LDFLAGS+=-L/usr/local/lib
.endif

# Compile with milter support.
ENVDEF+= -DMILTER

# Compile with socket map support.
ENVDEF+= -DSOCKETMAP

# Since we have random PIDs we need to be careful to avoid filename collisions
ENVDEF+= -DFAST_PID_RECYCLE

# We want sendmail to call setlogin() when running commands as a non-root user
ENVDEF+= -D_FFR_USE_SETLOGIN

SRCS=	main.c alias.c arpadate.c bf.c collect.c conf.c control.c convtime.c \
	daemon.c deliver.c domain.c envelope.c err.c headers.c macro.c map.c \
	mci.c milter.c mime.c parseaddr.c queue.c ratectrl.c readcf.c \
	recipient.c sasl.c savemail.c sfsasl.c shmticklib.c sm_resolve.c \
	srvrsmtp.c stab.c stats.c sysexits.c timers.c tls.c trace.c udb.c \
	usersmtp.c util.c version.c
MAN=	mailq.8 sendmail.8
MLINKS=	sendmail.8 hoststat.1 sendmail.8 purgestat.1
BINDIR=	/usr/libexec/sendmail
BINOWN=	root
BINGRP=	smmsp
BINMODE=2555

beforeinstall:
	# Force user to make the world sane for us
	@@if [ -f /etc/sendmail.cf ]; then \
		if [ ! -f /etc/mail/sendmail.cf ]; then \
			echo "Error: /etc/sendmail.cf exists but /etc/mail/sendmail.cf does not.  Please move /etc/sendmail.cf to /etc/mail/sendmail.cf."; \
			false; \
		else \
			echo "Warning: both /etc/mail/sendmail.cf and /etc/sendmail.cf exist.  Sendmail will use /etc/mail/sendmail.cf."; \
		fi ; \
	fi
	@@if test -f /etc/rc && grep -q /etc/sendmail.cf /etc/rc; \
	    then echo "Error: /etc/rc must check for /etc/mail/sendmail.cf, not /etc/sendmail.cf"; \
	    false; \
	fi
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g wheel -m 444 \
	    ${.CURDIR}/helpfile ${DESTDIR}/etc/mail/helpfile

afterinstall:
	cmp -s ${.CURDIR}/TUNING ${DESTDIR}${SHAREDIR}/sendmail/TUNING || \
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} \
	    -m 444  ${.CURDIR}/TUNING ${DESTDIR}${SHAREDIR}/sendmail/TUNING ; \


.include "../../Makefile.inc"
.include <bsd.prog.mk>
@


1.32
log
@Remove workarounds for ld reaching MAXDSIZ on vax, now that MAXDSIZ is
more comfortable.
Reminded by brad@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.31 2014/04/13 08:35:27 brad Exp $
@


1.31
log
@Clean up last bits of TCP_WRAPPERS and ELF_TOOLCHAIN.

ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.30 2014/03/19 21:10:27 tedu Exp $
a20 4
.endif

.if ${MACHINE} == "vax"
LDFLAGS+=-Wl,--no-keep-memory
@


1.30
log
@use smtpd man pages by default. ok deraadt jmc
sendmail.8 note by jmc
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.29 2013/08/06 19:05:57 miod Exp $
a6 1
WANT_LIBWRAP=1
@


1.29
log
@Switch vax to gcc 3.3.6.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.28 2008/08/20 22:19:49 dlg Exp $
d46 1
a46 1
MAN=	aliases.5 mailq.8 newaliases.8 sendmail.8
@


1.28
log
@fix the comment about enabling socket map support

noticed by ajacoutot
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.27 2008/08/20 12:38:41 dlg Exp $
d22 4
@


1.27
log
@enable support for socket maps.

ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.26 2005/01/12 18:15:46 millert Exp $
d27 1
a27 1
# Compile with milter support.
@


1.26
log
@update to sendmail 8.13.3
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.25 2004/06/29 04:07:49 millert Exp $
d26 3
@


1.25
log
@Build and install libmilter.a (static only) and libmilter.h.  OK deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.24 2004/06/24 03:59:26 millert Exp $
a31 3

# Deal with SSL errors by recognizing them as EOF.
ENVDEF+= -D_FFR_DEAL_WITH_ERROR_SSL
@


1.24
log
@Update to sendmail.8.13.0
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.23 2003/12/30 18:53:09 millert Exp $
d24 1
a24 2
# To build milter support define WANT_LIBMILTER in /etc/mk.conf (unsupported)
.if defined(WANT_LIBMILTER)
a25 1
.endif
@


1.23
log
@Define _FFR_DEAL_WITH_ERROR_SSL.  This will causes sendmail to deal with
SSL errors by recognizing them as EOF.  Otherwise, sendmail can get into
an infinite loop logging "STARTTLS: read error=generic SSL error (0)"
This was causing problems on the mailing list server...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.22 2003/08/13 23:36:33 millert Exp $
d40 4
a43 4
	mci.c milter.c mime.c parseaddr.c queue.c readcf.c recipient.c \
	sasl.c savemail.c sfsasl.c shmticklib.c sm_resolve.c srvrsmtp.c stab.c \
	stats.c sysexits.c timers.c tls.c trace.c udb.c usersmtp.c util.c \
	version.c
@


1.22
log
@Install sendmail tuning guide
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.21 2003/03/10 21:08:44 millert Exp $
d34 3
@


1.21
log
@Move /var/log/sendmail.st creation to etc/Makefile where it belongs;
noticed by grange@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.20 2003/03/09 00:14:19 millert Exp $
d64 6
@


1.20
log
@Pull in bsd.own.mk early so we can get WANT_* from there.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.19 2003/02/27 21:22:14 millert Exp $
a63 2
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g wheel -m 644 \
	    /dev/null ${DESTDIR}/var/log/sendmail.st
@


1.19
log
@Change things back such that defining WANT_LIBMILTER in mk.conf
will build with libmilter support since that appears to be what
people do (though it was not actually intended to work that way).

Also add WANT_SMTPAUTH for SASL support and WANT_LDAP for LDAP map support.
These last two from Chuck Yerkes.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.18 2003/02/19 06:18:10 millert Exp $
d4 2
@


1.18
log
@Give milter the ghost of a chance of working; still not supported in any way.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2002/06/03 17:25:46 millert Exp $
d14 7
a20 3
# To build with Cyrus SASL support (untested)
#ENVDEF+= -DSASL
#LDADD+= -lsasl
d22 1
a22 1
# For mail filter support (untested)
@


1.17
log
@Update to sendmail-8.12.4
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 2002/04/18 00:49:28 millert Exp $
d18 4
a21 5
# To build with mail filter support (untested)
#WANT_LIBMILTER=1
#ENVDEF+= -DMILTER
#CPPFLAGS+= -pthread
#LDFLAGS+= -pthread
@


1.16
log
@update to sendmail 8.12.3
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 2001/09/20 22:10:02 millert Exp $
d33 1
a33 1
	savemail.c sasl.c sfsasl.c shmticklib.c sm_resolve.c srvrsmtp.c stab.c \
@


1.15
log
@mailq moves to section 8 since it can only be run by the superuser now
that sendmail is no longer setuid root.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2001/09/12 19:17:10 millert Exp $
d26 3
@


1.14
log
@Add commented out support for Cyrus SASL
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2001/09/11 19:02:49 millert Exp $
d33 1
a33 1
MAN=	aliases.5 mailq.1 newaliases.8 sendmail.8
@


1.13
log
@merge in sendmail 8.12.0 with BSD Makefiles and mdoc man pages
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2001/05/05 22:00:17 millert Exp $
d13 4
@


1.12
log
@Define FAST_PID_RECYCLE -- will be on for OpenBSD in next sendmail release
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2001/02/11 22:35:18 millert Exp $
d6 1
d10 1
a10 1
ENVDEF+= -DSTARTTLS -D_FFR_TLS_TOREK
d14 5
a18 2
# Work around broken name servers that return SERV_FAIL for AAAA records
ENVDEF+= -D_FFR_WORKAROUND_BROKEN_NAMESERVERS
d23 6
a28 9
# To cause sendmail to drop privs in test mode (-bt) uncomment the following
#ENVDEF+= -D_FFR_TESTMODE_DROP_PRIVS

SRCS=	main.c alias.c arpadate.c bf_torek.c clock.c collect.c \
	conf.c control.c convtime.c daemon.c deliver.c domain.c \
	envelope.c err.c headers.c macro.c map.c mci.c milter.c \
	mime.c parseaddr.c queue.c readcf.c recipient.c savemail.c \
	sfsasl.c shmticklib.c srvrsmtp.c stab.c stats.c sysexits.c \
	timers.c trace.c udb.c usersmtp.c util.c version.c
d33 2
a34 2
BINGRP=	bin
BINMODE=4555
d50 1
a50 1
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m 444 \
d52 1
a52 1
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m 644 \
@


1.11
log
@Define _FFR_WORKAROUND_BROKEN_NAMESERVERS to work around broken
name servers that return SERV_FAIL for AAAA records; fgsch@@openbsd.org
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2001/01/15 21:09:06 millert Exp $
d15 3
@


1.11.2.1
log
@Pull in patch from current:
Fix (millert), Errata 001:
Update to sendmail 8.11.4:
    8.11.4 revamps signal handling within the MTA in order to reduce
    the likelihood of a race condition that can lead to heap
    corruption as described in Michal Zalewski's advisory.  The
    problems discussed in the advisory are not currently known to
    be exploitable but we recommend upgrading to 8.11.4 in case a
    method is found to exploit the signal handling race condition.
    8.11.4 also fixes other bugs found since the release of 8.11.3.

See the RELEASE_NOTES file for more details.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2001/05/05 22:00:17 millert Exp $
a14 3

# Since we have random PIDs we need to be careful to avoid filename collisions
ENVDEF+= -DFAST_PID_RECYCLE
@


1.10
log
@sendmail 8.11.2 with BSD Makefiles
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2000/10/09 23:45:00 millert Exp $
d12 3
@


1.9
log
@Fix non-exploitable buffer oflow in test mode.  Also add a line to uncomment
in sendmail/Makefile to cause sendmail to drop privs in test mode.
From sendmail+gshapiro@@SENDMAIL.ORG
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2000/08/01 12:57:47 millert Exp $
d8 6
a13 1
# To casue sendmail to drop privs in test mode (-bt) uncomment the following
@


1.9.2.1
log
@Pull in patch from current:
Errata(028):
The signal handlers in sendmail contain code that is unsafe in the
context of a signal handler.  This leads to potentially serious race
conditions.  At the moment this is a theoretical attack only and can
only be exploited on the local host (if at all).
Fix(millert):
Update to sendmail 8.11.4:
8.11.4 revamps signal handling within the MTA in order to reduce
the likelihood of a race condition that can lead to heap
corruption as described in Michal Zalewski's advisory.  The
problems discussed in the advisory are not currently known to
be exploitable but we recommend upgrading to 8.11.4 in case a
method is found to exploit the signal handling race condition.
8.11.4 also fixes other bugs found since the release of 8.11.3.

See the RELEASE_NOTES file for more details.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2001/05/05 22:00:17 millert Exp $
d8 1
a8 12
# For TLS/SSL support
ENVDEF+= -DSTARTTLS -D_FFR_TLS_TOREK
LDADD+= -lssl -lcrypto
DPADD=	${LIBSSL} ${LIBCRYPTO}

# Work around broken name servers that return SERV_FAIL for AAAA records
ENVDEF+= -D_FFR_WORKAROUND_BROKEN_NAMESERVERS

# Since we have random PIDs we need to be careful to avoid filename collisions
ENVDEF+= -DFAST_PID_RECYCLE

# To cause sendmail to drop privs in test mode (-bt) uncomment the following
@


1.8
log
@Fix sanity check, sendmail is started from rc, not netstart.
From brad@@comstyle.com.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2000/06/11 20:43:22 millert Exp $
d7 3
@


1.7
log
@newaliases.1 -> newaliases.8
In the past any user could do a newaliases but these days you have to
be a "trusted user" (in class T) so section 1 is inappropriate.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2000/04/06 15:45:44 millert Exp $
d31 2
a32 2
	@@if test -f /etc/netstart && grep -q /etc/sendmail.cf /etc/netstart; \
	    then echo "Error: /etc/netstart must check for /etc/mail/sendmail.cf, not /etc/sendmail.cf"; \
@


1.6
log
@Fix typo introduce when removing smtpd MLINK
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2000/04/06 01:05:37 millert Exp $
d14 1
a14 1
MAN=	aliases.5 mailq.1 newaliases.1 sendmail.8
@


1.6.2.1
log
@Pull in patch from current:
Errata:
There is a non-exploitable buffer overflow in sendmail's test mode.
Fix (millert):
Fix non-exploitable buffer oflow in test mode.  Also add a line to uncomment
in sendmail/Makefile to cause sendmail to drop privs in test mode.
From sendmail+gshapiro@@SENDMAIL.ORG
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2000/04/06 15:45:44 millert Exp $
a6 3

# To casue sendmail to drop privs in test mode (-bt) uncomment the following
#ENVDEF+= -D_FFR_TESTMODE_DROP_PRIVS
@


1.5
log
@Don't make a sendmail smtpd link, it will be confused with beck's smtpd.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2000/04/06 01:03:53 millert Exp $
d15 1
a15 1
MLINKS=	sendmail.8 sendmail.8 hoststat.1 sendmail.8 purgestat.1
@


1.4
log
@Make sure /etc/netstart references /etc/mail/sendmail.cf, not
/etc/sendmail.cf or on reboot sendmail will not be started.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2000/04/04 04:50:14 millert Exp $
d15 1
a15 1
MLINKS=	sendmail.8 smtpd.8 sendmail.8 hoststat.1 sendmail.8 purgestat.1
@


1.3
log
@Add MLINKs from sendmail.8 to smtpd.8, hoststat.1, purgestat.1
Convert man pages back to mandoc format.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2000/04/02 19:48:34 millert Exp $
d30 4
@


1.2
log
@Remove sendmail's `Build' scaffolding and add real Makefiles
praliases should be in section 1, not 8
Use arc4random(3) instead of random(3)
Add some sample OpenBSD .mc files
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.22 1999/08/02 19:50:09 jakob Exp $
d15 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#       $Sendmail: Makefile,v 8.11 1999/09/23 22:36:42 ca Exp $
d3 1
a3 3
SHELL= /bin/sh
BUILD=   ./Build
OPTIONS= $(CONFIG) $(FLAGS)
d5 2
a6 6
all: FRC
	$(SHELL) $(BUILD) $(OPTIONS) $@@
clean: FRC
	$(SHELL) $(BUILD) $(OPTIONS) $@@
install: FRC
	$(SHELL) $(BUILD) $(OPTIONS) $@@
d8 11
a18 2
fresh: FRC
	$(SHELL) $(BUILD) $(OPTIONS) -c
d20 17
a36 1
FRC:
@


1.1.1.1
log
@stock sendmail 8.10.0 with $Id -> $Sendmail
@
text
@@


1.1.1.2
log
@sendmail 8.11.2
@
text
@d1 1
a1 1
#       $Id: Makefile,v 8.11 1999/09/23 22:36:42 ca Exp $
@


1.1.1.3
log
@sendmail 8.12.0 with $Id tags converted to $Sendmail
@
text
@d1 1
a1 1
#       $Sendmail: Makefile,v 8.11 1999/09/23 22:36:42 ca Exp $
@


