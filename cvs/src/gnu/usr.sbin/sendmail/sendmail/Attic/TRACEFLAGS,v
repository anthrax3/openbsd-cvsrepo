head	1.17;
access;
symbols
	OPENBSD_5_6:1.16.0.6
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.16.0.4
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.15.0.4
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.2
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.14.0.6
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.4
	OPENBSD_5_0:1.14.0.2
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.13.0.18
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.13.0.16
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.13.0.12
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.13.0.14
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.13.0.10
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.8
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.6
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.4
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.13.0.2
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.12.0.2
	OPENBSD_4_0_BASE:1.12
	OPENBSD_3_9:1.11.0.4
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.11.0.2
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.10.0.4
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.10.0.2
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.9.0.2
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.8.0.2
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.8.0.4
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.5.0.2
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	SENDMAIL_8_12_0:1.1.1.3
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	SENDMAIL_8_11_2:1.1.1.2
	OPENBSD_2_8:1.1.1.1.0.4
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.2
	OPENBSD_2_7_BASE:1.1.1.1
	SENDMAIL_8_10_0:1.1.1.1
	SENDMAIL_INC:1.1.1;
locks; strict;
comment	@# @;


1.17
date	2014.09.17.18.49.51;	author matthieu;	state dead;
branches;
next	1.16;
commitid	M7i5giHIoz3DMlTU;

1.16
date	2014.02.07.21.25.00;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	2012.12.26.11.44.12;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	2011.05.17.15.54.23;	author millert;	state Exp;
branches;
next	1.13;

1.13
date	2007.02.04.13.17.35;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2006.03.22.18.43.55;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2005.04.08.16.00.50;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2004.06.24.03.59.26;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2003.09.17.17.31.40;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2003.01.01.19.59.22;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2002.09.15.02.23.35;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	2002.06.03.17.25.46;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2002.01.14.03.21.40;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.11.19.02.49;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	2001.05.29.01.31.14;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	2001.01.15.21.09.06;	author millert;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2000.04.02.19.05.43;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.02.19.05.43;	author millert;	state Exp;
branches
	1.1.1.1.4.1;
next	1.1.1.2;

1.1.1.2
date	2001.01.15.20.52.10;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2001.09.11.18.55.50;	author millert;	state Exp;
branches;
next	;

1.1.1.1.4.1
date	2001.05.31.00.31.28;	author miod;	state Exp;
branches;
next	;

1.2.2.1
date	2001.05.31.01.47.55;	author jason;	state Exp;
branches;
next	;


desc
@@


1.17
log
@Bye.
@
text
@#	$Sendmail: TRACEFLAGS,v 8.53 2013/11/27 01:27:03 gshapiro Exp $
0, 4	main.c		main	canonical name, UUCP node name, a.k.a.s
0, 15	main.c		main	print configuration
0, 44	util.c		printav	print address of each string
0, 101	main.c		main	print version and exit
1	main.c		main	print from person
2	main.c		finis
3	conf.c		getla, shouldqueue
4	conf.c		enoughspace
5	clock.c		setevent, clrevent, tick
6	savemail.c	savemail, returntosender
7	queue.c		queuename
8	domain.c	getmxrr, getcanonname
9	daemon.c	getauthinfo	IDENT protocol
9	daemon.c	maphostname
10	deliver.c	deliver
11	deliver.c	openmailer, mailfile
12	parseaddr.c	remotename
13	deliver.c	sendall, sendenvelope
14	headers.c	commaize
15	daemon.c	getrequests
16	daemon.c	makeconnection
17	deliver.c	hostsignature
17	domain.c	mxrand
18	usersmtp.c	reply, smtpmessage, smtpinit, smtpmailfrom, smtpdata
19	srvrsmtp.c	smtp
20	parseaddr.c	parseaddr
21	parseaddr.c	rewrite
22	parseaddr.c	prescan
23	main.c		testmodeline
24	parseaddr.c	buildaddr, allocaddr
25	recipient.c	sendtolist
26	recipient.c	recipient
27	alias.c		alias
27	alias.c		readaliases
27	alias.c		forward
27	recipient.c	include
28	udb.c		udbexpand, udbsender
29	parseaddr.c	maplocaluser
29	recipient.c	recipient (local users), finduser
30	collect.c	collect
30	collect.c	eatfrom
31	headers.c	chompheader
32	headers.c	eatheader
33	headers.c	crackaddr
34	headers.c	putheader
35	macro.c		expand, define
36	stab.c		stab
37	readcf.c	(many)
38	map.c		initmaps, setupmaps (bogus map)
39	map.c		map_rewrite
40	queue.c		queueup, orderq, dowork
41	queue.c		orderq
42	mci.c		mci_get
43	mime.c		mime8to7
44	recipient.c	writable
44	safefile.c	safefile, safedirpath, filechanged
45	envelope.c	setsender
46	envelope.c	openxscript
47	main.c		drop_privileges
48	parseaddr.c	rscheck
48	conf.c		validate_connection
49	conf.c		checkcompat
50	envelope.c	dropenvelope
51	queue.c		unlockqueue
52	main.c		disconnect
53	util.c		xfclose
54	err.c		putoutmsg
55	conf.c		lockfile
56	mci.c		persistent host status
57	util.c		snprintf
58	bf.c		bf* routines
59	parseaddr.c	cataddr
60	map.c
61	conf.c		sm_gethostbyname
62	multiple	file descriptor checking
63	queue.c		runqueue process watching
64	multiple	Milter
65	main.c		permission checks
#if _FFR_ADAPTIVE_EOL
66	srvrsmtp.c	conformance checks
#endif /* _FFR_ADAPTIVE_EOL */
#if _FFR_QUEUE_SCHED_DBG
69	queue.c		scheduling
#endif /* _FFR_QUEUE_SCHED_DBG */
70	queue.c		quarantining
71,>99	milter.c	quarantine on errors
73	queue.c		shared memory updates
74,>99	map.c		LDAP map defer
80			content length
81			sun remote mode
83	collect.c	timeout
84	deliver.c	timeout
85	map.c		dprintf map
89	conf.c		>=8 use sm_dprintf() instead of syslog()
91	mci.c		syslogging of MCI cache information
93,>99	*		Prevent daemon connection fork for profiling/debugging
94,>99	srvrsmtp.c	cause commands to fail (for protocol testing)
95	srvrsmtp.c	AUTH
95	usersmtp.c	AUTH
96	tls.c		DHparam info, Activate SSL_CTX_set_info_callback()
97	srvrsmtp.c	Trace automode settings for I/O
98	*		timers
99	main.c		avoid backgrounding (no printed output)
@


1.16
log
@Update to sendmail 8.14.8.  This touches a lot of files due to the
Sendmail, Inc -> Proofpoint name change.  See RELEASE_NOTES for
actual changes.
@
text
@@


1.15
log
@Update to sendmail 8.14.6
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.52 2012/03/03 00:10:42 ca Exp $
d101 1
a101 1
96	tls.c		Activate SSL_CTX_set_info_callback()
@


1.14
log
@Update to sendmail 8.14.5
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.48 2008/11/03 21:09:26 gshapiro Exp $
d80 6
a85 6
#if _FFR_ADAPTIVE_EOL 
66	srvrsmtp.c	conformance checks 
#endif /* _FFR_ADAPTIVE_EOL */ 
#if _FFR_QUEUE_SCHED_DBG 
69	queue.c		scheduling 
#endif /* _FFR_QUEUE_SCHED_DBG */ 
d95 1
@


1.13
log
@Update to sendmail-8.14.0.  OK mbalmer@@
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.47 2006/09/11 22:36:32 ca Exp $
d89 1
@


1.12
log
@Update to sendmail 8.13.6
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.44 2006/02/27 18:52:41 ca Exp $
d30 1
d73 1
d93 1
@


1.11
log
@update to sendmail 8.13.4
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.43 2005/02/16 23:38:51 ca Exp $
d89 2
@


1.10
log
@Update to sendmail.8.13.0
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.42 2003/06/13 22:29:11 lijian Exp $
d86 1
@


1.9
log
@Update to sendmail-8.12.10.  This includes a fix for a buffer overflow
in address parsing.  That fix (but not all of sendmail-8.12.10) has
been applied to OpenBSD 3.4 and the 3.2 and 3.2 -stable branches.
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.37.2.4 2003/06/13 21:59:45 lijian Exp $
d78 6
a83 7
#if _FFR_ADAPTIVE_EOL
66	srvrsmtp.c	conformance checks
#endif /* _FFR_ADAPTIVE_EOL */
#if _FFR_QUEUE_SCHED_DBG
69	queue.c		scheduling
#endif /* _FFR_QUEUE_SCHED_DBG */
#if _FFR_QUARANTINE
a84 1
#endif /* _FFR_QUARANTINE */
@


1.8
log
@update to sendmail 8.12.7
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.37.2.3 2002/09/12 02:57:36 gshapiro Exp $
@


1.7
log
@update to sendmail-8.12.6
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.37.2.1 2002/07/01 20:55:47 gshapiro Exp $
d78 1
d80 2
d83 1
d91 1
@


1.6
log
@Update to sendmail-8.12.4
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.37 2002/05/24 23:37:32 ca Exp $
d83 1
@


1.5
log
@update to sendmail-8.12.2
@
text
@d1 1
a1 2
#	$Sendmail: TRACEFLAGS,v 8.35 2001/11/28 01:01:25 gshapiro Exp $
0, 1	main.c		main	skip background fork
d55 1
a55 1
44	recipient.c	writeable
a78 1
67	conf.c		signals
d89 2
@


1.4
log
@merge in sendmail 8.12.0 with BSD Makefiles and mdoc man pages
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.34 2001/04/25 00:16:04 ca Exp $
d82 3
@


1.3
log
@Update to sendmail 8.11.4:
    8.11.4 revamps signal handling within the MTA in order to reduce
    the likelihood of a race condition that can lead to heap
    corruption as described in Michal Zalewski's advisory.  The
    problems discussed in the advisory are not currently known to
    be exploitable but we recommend upgrading to 8.11.4 in case a
    method is found to exploit the signal handling race condition.
    8.11.4 also fixes other bugs found since the release of 8.11.3.

See the RELEASE_NOTES file for more details.
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.29.16.1 2001/05/03 17:24:00 gshapiro Exp $
d78 2
d81 1
d85 1
a85 1
94	srvrsmtp.c	cause commands to fail (for protocol testing)
@


1.2
log
@sendmail 8.11.2 with BSD Makefiles
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.29 1999/11/04 23:31:02 gshapiro Exp $
d78 1
@


1.2.2.1
log
@Pull in patch from current:
Fix (millert), Errata 001:
Update to sendmail 8.11.4:
    8.11.4 revamps signal handling within the MTA in order to reduce
    the likelihood of a race condition that can lead to heap
    corruption as described in Michal Zalewski's advisory.  The
    problems discussed in the advisory are not currently known to
    be exploitable but we recommend upgrading to 8.11.4 in case a
    method is found to exploit the signal handling race condition.
    8.11.4 also fixes other bugs found since the release of 8.11.3.

See the RELEASE_NOTES file for more details.
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.29.16.1 2001/05/03 17:24:00 gshapiro Exp $
a77 1
67	conf.c		signals
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@stock sendmail 8.10.0 with $Id -> $Sendmail
@
text
@@


1.1.1.1.4.1
log
@Pull in patch from current:
Errata(028):
The signal handlers in sendmail contain code that is unsafe in the
context of a signal handler.  This leads to potentially serious race
conditions.  At the moment this is a theoretical attack only and can
only be exploited on the local host (if at all).
Fix(millert):
Update to sendmail 8.11.4:
8.11.4 revamps signal handling within the MTA in order to reduce
the likelihood of a race condition that can lead to heap
corruption as described in Michal Zalewski's advisory.  The
problems discussed in the advisory are not currently known to
be exploitable but we recommend upgrading to 8.11.4 in case a
method is found to exploit the signal handling race condition.
8.11.4 also fixes other bugs found since the release of 8.11.3.

See the RELEASE_NOTES file for more details.
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.29.16.1 2001/05/03 17:24:00 gshapiro Exp $
a77 1
67	conf.c		signals
@


1.1.1.2
log
@sendmail 8.11.2
@
text
@d1 1
a1 1
#	$Id: TRACEFLAGS,v 8.29 1999/11/04 23:31:02 gshapiro Exp $
@


1.1.1.3
log
@sendmail 8.12.0 with $Id tags converted to $Sendmail
@
text
@d1 1
a1 1
#	$Sendmail: TRACEFLAGS,v 8.34 2001/04/25 00:16:04 ca Exp $
a77 4
65	main.c		permission checks
66	srvrsmtp.c	conformance checks
67	conf.c		signals
69	queue.c		scheduling
d81 1
a81 1
94,>99	srvrsmtp.c	cause commands to fail (for protocol testing)
@


