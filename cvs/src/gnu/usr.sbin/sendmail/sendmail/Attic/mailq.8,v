head	1.12;
access;
symbols
	OPENBSD_5_6:1.11.0.6
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.4
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.10.0.12
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.10.0.10
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.8
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.6
	OPENBSD_5_0:1.10.0.4
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.8.0.14
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.10
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.12
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.8
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.6
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.4
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.6.0.12
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.10
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.8
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.6
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.4
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.5.0.4
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.3.0.4
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.1.0.6
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.4
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1;
locks; strict;
comment	@.\" @;


1.12
date	2014.09.17.18.49.52;	author matthieu;	state dead;
branches;
next	1.11;
commitid	M7i5giHIoz3DMlTU;

1.11
date	2014.02.07.21.25.00;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2010.09.23.14.51.57;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2010.09.23.14.20.02;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2007.04.04.14.43.48;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2007.03.15.22.36.44;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2004.06.24.03.59.27;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2003.09.02.18.18.54;	author jmc;	state Exp;
branches;
next	1.4;

1.4
date	2003.08.06.08.19.46;	author jmc;	state Exp;
branches;
next	1.3;

1.3
date	2003.02.05.10.29.49;	author jmc;	state Exp;
branches;
next	1.2;

1.2
date	2003.01.01.19.59.22;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.20.22.10.02;	author millert;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Bye.
@
text
@.\"	$OpenBSD: mailq.8,v 1.11 2014/02/07 21:25:00 millert Exp $
.\"
.\" Copyright (c) 1998-2000, 2002, 2007 Proofpoint, Inc. and its suppliers.
.\"	All rights reserved.
.\" Copyright (c) 1983, 1997 Eric P. Allman.  All rights reserved.
.\" Copyright (c) 1985, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" By using this file, you agree to the terms and conditions set
.\" forth in the LICENSE file which can be found at the top level of
.\" the sendmail distribution.
.\"
.\"
.\"     $Sendmail: mailq.1,v 8.22 2013/11/22 20:51:55 ca Exp $
.\"
.Dd $Mdocdate: February 7 2014 $
.Dt MAILQ 8
.Os
.Sh NAME
.Nm mailq
.Nd print the mail queue
.Sh SYNOPSIS
.Nm mailq
.Op Fl \&Ac
.Op Fl q...
.Op Fl v
.Sh DESCRIPTION
.Nm
prints a summary of the mail messages queued for future delivery.
It may only be run by the superuser.
.Pp
The first line printed for each message
shows the internal identifier used on this host
for the message with a possible status character,
the size of the message in bytes,
the date and time the message was accepted into the queue,
and the envelope sender of the message.
The second line shows the error message that caused this message
to be retained in the queue;
it will not be present if the message is being processed
for the first time.
The status characters are either
.Sq *
to indicate the job is being processed;
.Sq X
to indicate that the load is too high to process the job; and
.Sq -
to indicate that the job is too young to process.
The following lines show message recipients,
one per line.
.Pp
.Nm
is identical to
.Dq Li "sendmail -bp" .
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl \&Ac
Show the mail submission queue specified in
.Pa /etc/mail/submit.cf
instead of the MTA queue specified in
.Pa /etc/mail/sendmail.cf .
.It Fl qL
Show the
.Dq lost
items in the mail queue instead of the normal queue items.
.It Fl qQ
Show the quarantined items in the mail queue instead of the normal queue
items.
.It Fl q\fR[\fI!\fR] Ns Cm I Ar substr
Limit processed jobs to those containing
.Ar substr
as a substring of the queue ID or not when
.Sq \&!
is specified.
.It Fl q\fR[\fI!\fR] Ns Cm Q Ar substr
Limit processed jobs to quarantined jobs containing
.Ar substr
as a substring of the quarantine reason or not when
.Sq \&!
is specified.
.It Fl q\fR[\fI!\fR] Ns Cm R Ar substr
Limit processed jobs to those containing
.Ar substr
as a substring of one of the recipients or not when
.Sq \&!
is specified.
.It Fl q\fR[\fI!\fR] Ns Cm S Ar substr
Limit processed jobs to those containing
.Ar substr
as a substring of the sender or not when
.Sq \&!
is specified.
.It Fl v
Print verbose information.
This adds the priority of the message and
a single character indicator (``+'' or blank)
indicating whether a warning message has been sent
on the first line of the message.
Additionally, extra lines may be intermixed with the recipients
indicating the
.Dq controlling user
information;
this shows who will own any programs that are executed
on behalf of this message
and the name of the alias this command expanded from, if any.
Moreover, status messages for each recipient are printed
if available.
.El
.Pp
Several sendmail.cf options influence the behavior of the
.Nm
utility.
The number of items printed per queue group is restricted by
.Li MaxQueueRunSize
if that value is set.
The status character
.Sq *
is not printed for some values of
.Li QueueSortOrder ,
e.g.,
.Ar filename ,
.Ar random ,
.Ar modification ,
and
.Ar none ,
unless a
.Fl q
option is used to limit the processed jobs.
.Sh EXIT STATUS
.Ex -std mailq
.Sh SEE ALSO
.Xr mailer.conf 5 ,
.Xr sendmail 8
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.0 .
@


1.11
log
@Update to sendmail 8.14.8.  This touches a lot of files due to the
Sendmail, Inc -> Proofpoint name change.  See RELEASE_NOTES for
actual changes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailq.8,v 1.10 2010/09/23 14:51:57 jmc Exp $
d16 1
a16 1
.Dd $Mdocdate: September 23 2010 $
@


1.10
log
@add RCSID and Mdocdate to these pages; ok millert
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d3 1
a3 1
.\" Copyright (c) 1998-2000, 2002, 2007 Sendmail, Inc. and its suppliers.
d14 1
a14 1
.\"     $Sendmail: mailq.1,v 8.21 2007/03/22 18:21:27 ca Exp $
d16 1
a16 1
.Dd $Mdocdate$
@


1.9
log
@use an EXIT STATUS section for these pages;
@
text
@d1 2
d16 1
a16 1
.Dd March 22, 2007
@


1.8
log
@Update to sendmail-8.14.1
@
text
@d128 2
a129 4
.Pp
The
.Nm
utility exits 0 on success, and >0 if an error occurs.
@


1.7
log
@.Nm does not need an argument; from Igor Sobrado
@
text
@d1 1
a1 1
.\" Copyright (c) 1998-2000, 2002 Sendmail, Inc. and its suppliers.
d12 1
a12 1
.\"     $Sendmail: mailq.1,v 8.20 2002/06/27 22:47:34 gshapiro Exp $
d14 1
a14 1
.Dd September 26, 2002
d108 20
@


1.6
log
@Update to sendmail.8.13.0
@
text
@d26 1
a26 1
.Nm mailq
@


1.5
log
@escape punctuation;
ok deraadt@@
@
text
@d12 1
a12 1
.\"     $Sendmail: mailq.1,v 8.19.2.1 2002/09/26 23:03:39 gshapiro Exp $
d61 7
d72 6
@


1.4
log
@small cleanup;
ok millert@@
@
text
@d65 1
a65 1
.Sq !
d71 1
a71 1
.Sq !
d77 1
a77 1
.Sq !
@


1.3
log
@typos; isakmpd(8) ok niklas@@, mailwrapper(8) help kjell@@
@
text
@d64 1
a64 1
as a substring of the queue id or not when
@


1.2
log
@update to sendmail 8.12.7
@
text
@d61 1
a61 1
.It Fl q\fR[\fI!\fR]I Ar substr
d67 1
a67 1
.It Fl q\fR[\fI!\fR]R Ar substr
d73 1
a73 1
.It Fl q\fR[\fI!\fR]S Ar substr
@


1.1
log
@mailq moves to section 8 since it can only be run by the superuser now
that sendmail is no longer setuid root.
@
text
@d1 1
a1 1
.\" Copyright (c) 1998, 1999 Sendmail, Inc. and its suppliers.
d12 1
a12 1
.\"     $Sendmail: mailq.1,v 8.18 2000/12/23 19:37:48 ca Exp $
d14 1
a14 1
.Dd December 23, 2000
d22 2
d26 1
a26 1
.Nm Mailq
d50 1
a50 1
.Nm Mailq
d56 23
d86 3
a88 1
indicating the ``controlling user'' information;
d97 1
a97 1
.Nm mailq
d104 1
a104 1
.Nm mailq
@

