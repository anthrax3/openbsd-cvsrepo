head	1.14;
access;
symbols
	OPENBSD_5_6:1.13.0.6
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.4
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.12.0.4
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.12.0.2
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.11.0.8
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.6
	OPENBSD_5_0:1.11.0.4
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.10.0.10
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.6
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.8
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.4
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.10.0.2
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.9.0.14
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.9.0.12
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.9.0.10
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.8
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.6
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.4
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.2
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.8.0.4
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.2
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.7.0.2
	OPENBSD_3_4_BASE:1.7
	OPENBSD_3_3:1.6.0.10
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.6
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.6.0.4
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.6.0.2
	OPENBSD_3_0_BASE:1.6
	SENDMAIL_8_12_0:1.1.1.3
	OPENBSD_2_9:1.5.0.2
	OPENBSD_2_9_BASE:1.5
	SENDMAIL_8_11_2:1.1.1.2
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	SENDMAIL_8_10_0:1.1.1.1
	SENDMAIL_INC:1.1.1;
locks; strict;
comment	@.\" @;


1.14
date	2014.09.17.18.49.51;	author matthieu;	state dead;
branches;
next	1.13;
commitid	M7i5giHIoz3DMlTU;

1.13
date	2014.02.07.21.25.00;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2012.08.18.16.25.20;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.18.15.01.38;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2008.06.15.21.17.27;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2004.09.18.04.08.34;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2003.09.20.16.53.10;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2003.08.06.08.19.46;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2001.09.11.19.02.49;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2001.01.15.21.09.06;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2000.06.11.21.03.39;	author millert;	state Exp;
branches
	1.4.2.1;
next	1.3;

1.3
date	2000.04.04.04.50.14;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.02.19.48.34;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	2000.04.02.19.05.43;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.02.19.05.43;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.01.15.20.52.10;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2001.09.11.18.55.50;	author millert;	state Exp;
branches;
next	;

1.4.2.1
date	2001.05.31.00.31.28;	author miod;	state Exp;
branches;
next	;


desc
@@


1.14
log
@Bye.
@
text
@.\" Copyright (c) 1998-2000 Proofpoint, Inc. and its suppliers.
.\"
.\" Copyright (c) 1998-2000 Sendmail, Inc. and its suppliers.
.\"	All rights reserved.
.\" Copyright (c) 1983, 1997 Eric P. Allman.  All rights reserved.
.\" Copyright (c) 1985, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" By using this file, you agree to the terms and conditions set
.\" forth in the LICENSE file which can be found at the top level of
.\" the sendmail distribution.
.\"
.\"
.\"     $Sendmail: aliases.5,v 8.19 2004/07/12 05:39:21 ca Exp $
.\"
.Dd $Mdocdate: February 7 2014 $
.Dt ALIASES 5
.Os
.Sh NAME
.Nm aliases
.Nd aliases file for sendmail
.Sh SYNOPSIS
.Nm aliases
.Sh DESCRIPTION
This file describes user
.Tn ID
aliases used by
.Pa /usr/sbin/sendmail .
The file resides in
.Pa /etc/mail
and
is formatted as a series of lines of the form
.Bd -filled -offset indent
name: addr_1, addr_2, addr_3, . . .
.Ed
.Pp
The
.Em name
is the name to alias, and the
.Em addr_n
are the aliases for that name.
.Em addr_n
can be another alias, a local username, a local filename,
a command,
an include file,
or an external address.
.Bl -tag -width Ds
.It Em Local Username
username
.Pp
The username must be available via
.Xr getpwnam 3 .
.El
.Bl -tag -width Ds
.It Em Local Filename
/path/name
.Pp
Messages are appended to the file specified by the full pathname
(starting with a slash (/))
.El
.Bl -tag -width Ds
.It Em Command
|command
.Pp
A command starts with a pipe symbol (|),
it receives messages via standard input.
.El
.Bl -tag -width Ds
.It Em Include File
:include: /path/name
.Pp
The aliases in pathname are added to the aliases for
.Em name .
.El
.Bl -tag -width Ds
.It Em E-Mail Address
user@@domain
.Pp
An e-mail address in RFC 5322 format.
.El
.Pp
Lines beginning with whitespace are continuation lines.
Another way to continue lines is by placing a backslash
directly before a newline.
Lines beginning with
.Ql #
are comments.
.Pp
Aliasing occurs only on local names.
Loops can not occur, since no message will be sent to any person more than once.
.Pp
If an alias is found for
.Em name ,
sendmail then checks for an alias for
.Em owner-name .
If it is found and the result of the lookup expands to a single
address, the envelope sender address of the message is rewritten to
that address.
If it is found and the result expands to more than one address, the
envelope sender address is changed to
.Em owner-name .
.Pp
After aliasing has been done, local and valid recipients who have a
.Dq Pa .forward
file in their home directory have messages forwarded to the
list of users defined in that file.
.Pp
This is only the raw data file; the actual aliasing information is
placed into a binary format in the file
.Pa /etc/mail/aliases.db
using the program
.Xr newaliases 8 .
A
.Xr newaliases
command should be executed each time the aliases file is changed for the
change to take effect.
.Sh SEE ALSO
.Xr dbm 3 ,
.Xr dbopen 3 ,
.Xr newaliases 8 ,
.Xr sendmail 8
.Sh HISTORY
The
.Nm
file format appeared in
.Bx 4.0 .
.Sh BUGS
If you have compiled
.Xr sendmail
with DBM support instead of NEWDB,
you may have encountered problems in
.Xr dbm 3
restricting a single alias to about 1000 bytes of information.
You can get longer aliases by ``chaining''; that is, make the last name in
the alias be a dummy name which is a continuation alias.
@


1.13
log
@Update to sendmail 8.14.8.  This touches a lot of files due to the
Sendmail, Inc -> Proofpoint name change.  See RELEASE_NOTES for
actual changes.
@
text
@d16 1
a16 1
.Dd $Mdocdate: August 18 2012 $
@


1.12
log
@RFC updates:
5322 obsoletes 2822
5321 obsoletes 821 and 2821
6409 obsoletes 2476 and 4409
@
text
@d1 1
a1 1
.\"	$OpenBSD: aliases.5,v 1.11 2010/10/18 15:01:38 jmc Exp $
d16 1
a16 1
.Dd $Mdocdate: October 18 2010 $
@


1.11
log
@smm bits removal; whilst here, fix up aliases.5;
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d16 1
a16 1
.Dd $Mdocdate$
d79 1
a79 1
An e-mail address in RFC 2822 format.
@


1.10
log
@RFC 2822 obsoletes RFC 822; from Igor Zinovik
@
text
@d1 2
d16 1
a16 1
.Dd July 12, 2004
d47 1
a47 2
.Pp
.Bl -tag
d54 1
a54 1
.Bl -tag
d61 1
a61 1
.Bl -tag
d68 1
a68 1
.Bl -tag
d75 1
a75 1
.Bl -tag
a121 10
.Rs
.%T "Sendmail Installation and Operation Guide"
.%V SMM
.%N \&No. 8
.Re
.Rs
.%T "Sendmail \- An Internetwork Mail Router"
.%V SMM
.%N \&No. 9
.Re
@


1.9
log
@Update to sendmail-8.13.1
@
text
@d78 1
a78 1
An e-mail address in RFC 822 format.
@


1.8
log
@Fix pasto; closes PR 3482
@
text
@d12 1
a12 1
.\"     $Sendmail: aliases.5,v 8.17 2000/12/14 23:09:46 gshapiro Exp $
d14 1
a14 1
.Dd December 14, 2000
d90 11
@


1.7
log
@small cleanup;
ok millert@@
@
text
@a54 1
username
@


1.6
log
@merge in sendmail 8.12.0 with BSD Makefiles and mdoc man pages
@
text
@d49 1
a49 1

d57 1
a57 1

d64 1
a64 1

d71 1
a71 1

d78 1
a78 1

d83 2
a84 2
Another way to continue lines is by placing a backslash 
directly before a newline.  
d121 5
a134 5
.Sh HISTORY
The
.Nm
file format appeared in
.Bx 4.0 .
@


1.5
log
@sendmail 8.11.2 with BSD Makefiles
@
text
@d12 1
a12 1
.\"     $Sendmail: aliases.5,v 8.15.4.2 2000/12/14 23:08:15 gshapiro Exp $
@


1.4
log
@newaliases(1) -> newaliases(8)
@
text
@d12 1
a12 1
.\"     $Sendmail: aliases.5,v 8.15 2000/02/26 01:12:21 ca Exp $
d14 1
a14 1
.Dd February 26, 1999
d107 1
a108 1
.Xr dbm 3 ,
@


1.4.2.1
log
@Pull in patch from current:
Errata(028):
The signal handlers in sendmail contain code that is unsafe in the
context of a signal handler.  This leads to potentially serious race
conditions.  At the moment this is a theoretical attack only and can
only be exploited on the local host (if at all).
Fix(millert):
Update to sendmail 8.11.4:
8.11.4 revamps signal handling within the MTA in order to reduce
the likelihood of a race condition that can lead to heap
corruption as described in Michal Zalewski's advisory.  The
problems discussed in the advisory are not currently known to
be exploitable but we recommend upgrading to 8.11.4 in case a
method is found to exploit the signal handling race condition.
8.11.4 also fixes other bugs found since the release of 8.11.3.

See the RELEASE_NOTES file for more details.
@
text
@d12 1
a12 1
.\"     $Sendmail: aliases.5,v 8.15.4.2 2000/12/14 23:08:15 gshapiro Exp $
d14 1
a14 1
.Dd December 14, 2000
d107 1
a108 1
.Xr dbopen 3 ,
@


1.3
log
@Add MLINKs from sendmail.8 to smtpd.8, hoststat.1, purgestat.1
Convert man pages back to mandoc format.
@
text
@d101 1
a101 1
.Xr newaliases 1 .
a106 1
.Xr newaliases 1 ,
d109 1
@


1.2
log
@Remove sendmail's `Build' scaffolding and add real Makefiles
praliases should be in section 1, not 8
Use arc4random(3) instead of random(3)
Add some sample OpenBSD .mc files
@
text
@d2 1
a2 1
.\"	 All rights reserved.
d14 16
a29 14
.TH ALIASES 5 "$Date: 2000/02/26 01:12:21 $"
.SH NAME
.B aliases
\- aliases file for sendmail
.SH SYNOPSIS
.B aliases
.SH DESCRIPTION
This file describes user 
ID 
aliases used by 
sendmail.
The file resides in 
/etc/mail 
and 
d31 1
a31 1
.IP
d33 2
a34 1
.PP
d36 1
a36 1
.I name
d38 3
a40 3
.I addr_n
are the aliases for that name.  
.I addr_n
d45 10
a54 2
.TP
.B Local Username
a55 4
.IP
The username must be available via getpwnam(3).
.TP
.B Local Filename
d57 1
a57 1
.IP
d60 3
a62 2
.TP
.B Command
d64 1
a64 1
.IP
d67 3
a69 2
.TP
.B Include File
d71 1
a71 1
.IP
d73 4
a76 3
.I name.
.TP
.B E-Mail Address
d78 1
a78 1
.IP
d80 3
a82 2
.PP
Lines beginning with white space are continuation lines.  
d85 2
a86 2
Lines beginning with 
# 
d88 2
a89 2
.PP
Aliasing occurs only on local names.  
d91 4
a94 4
.PP
After aliasing has been done, local and valid recipients who have a 
``.forward'' 
file in their home directory have messages forwarded to the 
d96 1
a96 1
.PP
d98 7
a104 7
placed into a binary format in the file 
/etc/mail/aliases.db
using the program 
newaliases(1).  
A 
newaliases
command should be executed each time the aliases file is changed for the 
d106 18
a123 14
.SH SEE  ALSO
newaliases(1), 
dbopen(3), 
dbm(3), 
sendmail(8)
.PP
.I
SENDMAIL Installation and Operation Guide.
.PP
.I 
SENDMAIL An Internetwork Mail Router.
.SH BUGS
If you have compiled 
sendmail 
d125 4
a128 4
you may have encountered problems in 
dbm(3) 
restricting a single alias to about 1000 bytes of information.  
You can get longer aliases by ``chaining''; that is, make the last name in 
d130 1
a130 1
.SH HISTORY
d132 3
a134 3
.B aliases
file format appeared in 
4.0BSD.
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@stock sendmail 8.10.0 with $Id -> $Sendmail
@
text
@@


1.1.1.2
log
@sendmail 8.11.2
@
text
@d12 1
a12 1
.\"     $Id: aliases.5,v 8.15.4.2 2000/12/14 23:08:15 gshapiro Exp $
d14 1
a14 1
.TH ALIASES 5 "$Date: 2000/12/14 23:08:15 $"
d16 1
a16 1
aliases
d97 1
a98 2
dbopen(3), 
db_open(3), 
@


1.1.1.3
log
@sendmail 8.12.0 with $Id tags converted to $Sendmail
@
text
@d12 1
a12 1
.\"     $Sendmail: aliases.5,v 8.17 2000/12/14 23:09:46 gshapiro Exp $
d14 1
a14 1
.TH ALIASES 5 "$Date: 2000/12/14 23:09:46 $"
@


