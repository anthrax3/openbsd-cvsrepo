head	1.8;
access;
symbols
	OPENBSD_5_6:1.7.0.6
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.4
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.30
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.28
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.26
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.24
	OPENBSD_5_0:1.6.0.22
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.20
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.6.0.18
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.14
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.16
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.12
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.10
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.6.0.8
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.6.0.6
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.6.0.4
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.4.0.20
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.18
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.16
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.14
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.12
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.4.0.8
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.10
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.6
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.4
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	SENDMAIL_8_12_0:1.1.1.3
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_9_BASE:1.3
	SENDMAIL_8_11_2:1.1.1.2
	OPENBSD_2_8:1.2.0.4
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.2
	OPENBSD_2_7_BASE:1.2
	SENDMAIL_8_10_0:1.1.1.1
	SENDMAIL_INC:1.1.1;
locks; strict;
comment	@ * @;


1.8
date	2014.09.17.18.49.52;	author matthieu;	state dead;
branches;
next	1.7;
commitid	M7i5giHIoz3DMlTU;

1.7
date	2014.02.07.21.25.00;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	2006.08.13.13.01.48;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2006.03.22.18.43.56;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.11.19.02.50;	author millert;	state Exp;
branches
	1.4.16.1
	1.4.18.1
	1.4.20.1;
next	1.3;

1.3
date	2001.01.15.21.09.10;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.07.19.20.44;	author millert;	state Exp;
branches
	1.2.4.1;
next	1.1;

1.1
date	2000.04.02.19.05.48;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.02.19.05.48;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.01.15.20.52.17;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2001.09.11.18.55.51;	author millert;	state Exp;
branches;
next	;

1.2.4.1
date	2001.05.31.00.31.43;	author miod;	state Exp;
branches;
next	;

1.4.16.1
date	2006.03.24.05.42.48;	author brad;	state Exp;
branches;
next	;

1.4.18.1
date	2006.03.24.05.56.18;	author brad;	state Exp;
branches;
next	;

1.4.20.1
date	2006.03.25.01.49.38;	author brad;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Bye.
@
text
@/*
 * Copyright (c) 1999, 2000, 2006 Proofpoint, Inc. and its suppliers.
 *	All rights reserved.
 *
 * By using this file, you agree to the terms and conditions set
 * forth in the LICENSE file which can be found at the top level of
 * the sendmail distribution.
 *
 *	$Sendmail: sfsasl.h,v 8.21 2013/11/22 20:51:56 ca Exp $"
 */

#ifndef SFSASL_H
# define SFSASL_H

# if SASL
extern int	sfdcsasl __P((SM_FILE_T **, SM_FILE_T **, sasl_conn_t *, int));
# endif /* SASL */

# if STARTTLS
extern int	tls_retry __P((SSL *, int, int, time_t, int, int,
				const char *));
extern int	sfdctls __P((SM_FILE_T **, SM_FILE_T **, SSL *));
# endif /* STARTTLS */

#endif /* ! SFSASL_H */
@


1.7
log
@Update to sendmail 8.14.8.  This touches a lot of files due to the
Sendmail, Inc -> Proofpoint name change.  See RELEASE_NOTES for
actual changes.
@
text
@@


1.6
log
@Update to sendmail-8.13.8
@
text
@d2 1
a2 1
 * Copyright (c) 1999, 2000, 2006 Sendmail, Inc. and its suppliers.
d9 1
a9 1
 *	$Sendmail: sfsasl.h,v 8.20 2006/03/27 21:31:00 ca Exp $"
@


1.5
log
@Update to sendmail 8.13.6
@
text
@d9 1
a9 1
 *	$Sendmail: sfsasl.h,v 8.19 2006/02/27 19:53:37 ca Exp $"
d15 3
a17 3
#if SASL
extern int	sfdcsasl __P((SM_FILE_T **, SM_FILE_T **, sasl_conn_t *));
#endif /* SASL */
@


1.4
log
@merge in sendmail 8.12.0 with BSD Makefiles and mdoc man pages
@
text
@d2 1
a2 1
 * Copyright (c) 1999, 2000 Sendmail, Inc. and its suppliers.
d9 1
a9 1
 *	$Sendmail: sfsasl.h,v 8.17 2000/09/19 21:30:49 ca Exp $"
d20 2
@


1.4.20.1
log
@Apply the patch for the async signals race condition in Sendmail.
@
text
@a19 2
extern int	tls_retry __P((SSL *, int, int, time_t, int, int,
				const char *));
@


1.4.18.1
log
@Apply the patch for the async signals race condition in Sendmail.
@
text
@a19 2
extern int	tls_retry __P((SSL *, int, int, time_t, int, int,
				const char *));
@


1.4.16.1
log
@Apply the patch for the async signals race condition in Sendmail.
@
text
@a19 2
extern int	tls_retry __P((SSL *, int, int, time_t, int, int,
				const char *));
@


1.3
log
@sendmail 8.11.2 with BSD Makefiles
@
text
@d9 1
a9 1
 *	$Sendmail: sfsasl.h,v 8.13.4.4 2000/07/18 18:44:51 gshapiro Exp $"
d15 3
a17 18
# if SFIO
#  include <sfio.h>
# endif /* SFIO */

# if SASL
#  if SFIO

/* sf discipline to add sasl */
typedef struct _sasldisc
{
	Sfdisc_t	disc;
	sasl_conn_t	*conn;
} Sasldisc_t;

extern int	sfdcsasl __P((Sfio_t *, Sfio_t *, sasl_conn_t *));

#  endif /* SFIO */
# endif /* SASL */
d20 2
a21 8
#  if SFIO

/* sf discipline to add tls */
typedef struct _tlsdisc
{
	Sfdisc_t	disc;
	SSL		*con;
} Tlsdisc_t;
a22 16
extern int	sfdctls __P((Sfio_t *, Sfio_t *, SSL *));

#  else /* SFIO */
#   if _FFR_TLS_TOREK

typedef struct tls_conn
{
	FILE		*fp;	/* original FILE * */
	SSL		*con;	/* SSL context */
} Tlsdisc_t;

extern int	sfdctls __P((FILE **, FILE **, SSL *));

#   endif /* _FFR_TLS_TOREK */
#  endif /* SFIO */
# endif /* STARTTLS */
@


1.2
log
@Update to sendmail-8.10.1
@
text
@d9 1
a9 1
 *	$Sendmail: sfsasl.h,v 8.13 2000/03/10 18:09:34 ca Exp $"
d15 3
d19 2
d22 38
@


1.2.4.1
log
@Pull in patch from current:
Errata(028):
The signal handlers in sendmail contain code that is unsafe in the
context of a signal handler.  This leads to potentially serious race
conditions.  At the moment this is a theoretical attack only and can
only be exploited on the local host (if at all).
Fix(millert):
Update to sendmail 8.11.4:
8.11.4 revamps signal handling within the MTA in order to reduce
the likelihood of a race condition that can lead to heap
corruption as described in Michal Zalewski's advisory.  The
problems discussed in the advisory are not currently known to
be exploitable but we recommend upgrading to 8.11.4 in case a
method is found to exploit the signal handling race condition.
8.11.4 also fixes other bugs found since the release of 8.11.3.

See the RELEASE_NOTES file for more details.
@
text
@d9 1
a9 1
 *	$Sendmail: sfsasl.h,v 8.13.4.4 2000/07/18 18:44:51 gshapiro Exp $"
a14 3
# if SFIO
#  include <sfio.h>
# endif /* SFIO */
a15 2
# if SASL
#  if SFIO
a16 38
/* sf discipline to add sasl */
typedef struct _sasldisc
{
	Sfdisc_t	disc;
	sasl_conn_t	*conn;
} Sasldisc_t;

extern int	sfdcsasl __P((Sfio_t *, Sfio_t *, sasl_conn_t *));

#  endif /* SFIO */
# endif /* SASL */

# if STARTTLS
#  if SFIO

/* sf discipline to add tls */
typedef struct _tlsdisc
{
	Sfdisc_t	disc;
	SSL		*con;
} Tlsdisc_t;

extern int	sfdctls __P((Sfio_t *, Sfio_t *, SSL *));

#  else /* SFIO */
#   if _FFR_TLS_TOREK

typedef struct tls_conn
{
	FILE		*fp;	/* original FILE * */
	SSL		*con;	/* SSL context */
} Tlsdisc_t;

extern int	sfdctls __P((FILE **, FILE **, SSL *));

#   endif /* _FFR_TLS_TOREK */
#  endif /* SFIO */
# endif /* STARTTLS */
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
 * Copyright (c) 1999 Sendmail, Inc. and its suppliers.
d9 1
a9 1
 *	$Sendmail: sfsasl.h,v 8.11 1999/07/13 22:00:03 ca Exp $"
@


1.1.1.1
log
@stock sendmail 8.10.0 with $Id -> $Sendmail
@
text
@@


1.1.1.2
log
@sendmail 8.11.2
@
text
@d2 1
a2 1
 * Copyright (c) 1999, 2000 Sendmail, Inc. and its suppliers.
d9 1
a9 1
 *	$Id: sfsasl.h,v 8.13.4.4 2000/07/18 18:44:51 gshapiro Exp $"
a14 3
# if SFIO
#  include <sfio.h>
# endif /* SFIO */
a15 2
# if SASL
#  if SFIO
a16 38
/* sf discipline to add sasl */
typedef struct _sasldisc
{
	Sfdisc_t	disc;
	sasl_conn_t	*conn;
} Sasldisc_t;

extern int	sfdcsasl __P((Sfio_t *, Sfio_t *, sasl_conn_t *));

#  endif /* SFIO */
# endif /* SASL */

# if STARTTLS
#  if SFIO

/* sf discipline to add tls */
typedef struct _tlsdisc
{
	Sfdisc_t	disc;
	SSL		*con;
} Tlsdisc_t;

extern int	sfdctls __P((Sfio_t *, Sfio_t *, SSL *));

#  else /* SFIO */
#   if _FFR_TLS_TOREK

typedef struct tls_conn
{
	FILE		*fp;	/* original FILE * */
	SSL		*con;	/* SSL context */
} Tlsdisc_t;

extern int	sfdctls __P((FILE **, FILE **, SSL *));

#   endif /* _FFR_TLS_TOREK */
#  endif /* SFIO */
# endif /* STARTTLS */
@


1.1.1.3
log
@sendmail 8.12.0 with $Id tags converted to $Sendmail
@
text
@d9 1
a9 1
 *	$Sendmail: sfsasl.h,v 8.17 2000/09/19 21:30:49 ca Exp $"
d15 18
a32 3
#if SASL
extern int	sfdcsasl __P((SM_FILE_T **, SM_FILE_T **, sasl_conn_t *));
#endif /* SASL */
d35 24
a58 1
extern int	sfdctls __P((SM_FILE_T **, SM_FILE_T **, SSL *));
a59 1

@


