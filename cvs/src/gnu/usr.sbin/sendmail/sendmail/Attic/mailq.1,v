head	1.6;
access;
symbols
	SENDMAIL_8_12_0:1.1.1.3
	OPENBSD_2_9:1.4.0.2
	OPENBSD_2_9_BASE:1.4
	SENDMAIL_8_11_2:1.1.1.2
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	SENDMAIL_8_10_0:1.1.1.1
	SENDMAIL_INC:1.1.1;
locks; strict;
comment	@.\" @;


1.6
date	2001.09.20.22.10.02;	author millert;	state dead;
branches;
next	1.5;

1.5
date	2001.09.11.19.02.49;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2001.01.15.21.09.08;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.04.04.50.14;	author millert;	state Exp;
branches
	1.3.4.1;
next	1.2;

1.2
date	2000.04.02.19.48.35;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	2000.04.02.19.05.45;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.02.19.05.45;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.01.15.20.52.14;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2001.09.11.18.55.50;	author millert;	state Exp;
branches;
next	;

1.3.4.1
date	2001.05.31.00.31.35;	author miod;	state Exp;
branches;
next	;


desc
@@


1.6
log
@mailq moves to section 8 since it can only be run by the superuser now
that sendmail is no longer setuid root.
@
text
@.\" Copyright (c) 1998, 1999 Sendmail, Inc. and its suppliers.
.\"	All rights reserved.
.\" Copyright (c) 1983, 1997 Eric P. Allman.  All rights reserved.
.\" Copyright (c) 1985, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" By using this file, you agree to the terms and conditions set
.\" forth in the LICENSE file which can be found at the top level of
.\" the sendmail distribution.
.\"
.\"
.\"     $Sendmail: mailq.1,v 8.18 2000/12/23 19:37:48 ca Exp $
.\"
.Dd December 23, 2000
.Dt MAILQ 1
.Os
.Sh NAME
.Nm mailq
.Nd print the mail queue
.Sh SYNOPSIS
.Nm mailq
.Op Fl v
.Sh DESCRIPTION
.Nm Mailq
prints a summary of the mail messages queued for future delivery.
.Pp
The first line printed for each message
shows the internal identifier used on this host
for the message with a possible status character,
the size of the message in bytes,
the date and time the message was accepted into the queue,
and the envelope sender of the message.
The second line shows the error message that caused this message
to be retained in the queue;
it will not be present if the message is being processed
for the first time.
The status characters are either
.Sq *
to indicate the job is being processed;
.Sq X
to indicate that the load is too high to process the job; and
.Sq -
to indicate that the job is too young to process.
The following lines show message recipients,
one per line.
.Pp
.Nm Mailq
is identical to
.Dq Li "sendmail -bp" .
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl v
Print verbose information.
This adds the priority of the message and
a single character indicator (``+'' or blank)
indicating whether a warning message has been sent
on the first line of the message.
Additionally, extra lines may be intermixed with the recipients
indicating the ``controlling user'' information;
this shows who will own any programs that are executed
on behalf of this message
and the name of the alias this command expanded from, if any.
Moreover, status messages for each recipient are printed
if available.
.El
.Pp
The
.Nm mailq
utility exits 0 on success, and >0 if an error occurs.
.Sh SEE ALSO
.Xr mailer.conf 5 ,
.Xr sendmail 8
.Sh HISTORY
The
.Nm mailq
command appeared in
.Bx 4.0 .
@


1.5
log
@merge in sendmail 8.12.0 with BSD Makefiles and mdoc man pages
@
text
@@


1.4
log
@sendmail 8.11.2 with BSD Makefiles
@
text
@d12 1
a12 1
.\"     $Sendmail: mailq.1,v 8.14.28.3 2000/12/14 23:08:15 gshapiro Exp $
d14 1
a14 1
.Dd December 14, 2000
d64 2
@


1.3
log
@Add MLINKs from sendmail.8 to smtpd.8, hoststat.1, purgestat.1
Convert man pages back to mandoc format.
@
text
@d12 1
a12 1
.\"     $Sendmail: mailq.1,v 8.14 1999/06/22 20:41:34 tony Exp $
d14 1
a14 1
.Dd June 22, 1999
d29 1
a29 1
for the message,
d37 7
@


1.3.4.1
log
@Pull in patch from current:
Errata(028):
The signal handlers in sendmail contain code that is unsafe in the
context of a signal handler.  This leads to potentially serious race
conditions.  At the moment this is a theoretical attack only and can
only be exploited on the local host (if at all).
Fix(millert):
Update to sendmail 8.11.4:
8.11.4 revamps signal handling within the MTA in order to reduce
the likelihood of a race condition that can lead to heap
corruption as described in Michal Zalewski's advisory.  The
problems discussed in the advisory are not currently known to
be exploitable but we recommend upgrading to 8.11.4 in case a
method is found to exploit the signal handling race condition.
8.11.4 also fixes other bugs found since the release of 8.11.3.

See the RELEASE_NOTES file for more details.
@
text
@d12 1
a12 1
.\"     $Sendmail: mailq.1,v 8.14.28.3 2000/12/14 23:08:15 gshapiro Exp $
d14 1
a14 1
.Dd December 14, 2000
d29 1
a29 1
for the message with a possible status character,
a36 7
The status characters are either
.Sq *
to indicate the job is being processed;
.Sq X
to indicate that the load is too high to process the job; and
.Sq -
to indicate that the job is too young to process.
@


1.2
log
@Remove sendmail's `Build' scaffolding and add real Makefiles
praliases should be in section 1, not 8
Use arc4random(3) instead of random(3)
Add some sample OpenBSD .mc files
@
text
@d2 1
a2 1
.\"	 All rights reserved.
d14 11
a24 9
.TH MAILQ 1 "$Date: 1999/06/22 20:41:34 $"
.SH NAME
.B mailq
\- print the mail queue
.SH SYNOPSIS
.B mailq
.RB [ \-v ]
.SH DESCRIPTION
.B Mailq
d26 4
a29 4
.PP
The first line printed for each message 
shows the internal identifier used on this host 
for the message, 
d31 7
a37 7
the date and time the message was accepted into the queue, 
and the envelope sender of the message.  
The second line shows the error message that caused this message 
to be retained in the queue; 
it will not be present if the message is being processed 
for the first time.  
The following lines show message recipients, 
d39 5
a43 4
.PP
.B Mailq
is identical to ``sendmail -bp''.
.PP
d45 6
a50 6
.TP
.B \-v
Print verbose information.  
This adds the priority of the message and 
a single character indicator (``+'' or blank) 
indicating whether a warning message has been sent 
d53 3
a55 3
indicating the ``controlling user'' information; 
this shows who will own any programs that are executed 
on behalf of this message 
d57 2
a58 1
.PP
d60 1
a60 1
.B mailq
d62 4
a65 3
.SH SEE ALSO
sendmail(8)
.SH HISTORY
d67 3
a69 3
.B mailq
command appeared in 
4.0BSD.
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@stock sendmail 8.10.0 with $Id -> $Sendmail
@
text
@@


1.1.1.2
log
@sendmail 8.11.2
@
text
@d1 1
a1 1
.\" Copyright (c) 1998-2000 Sendmail, Inc. and its suppliers.
d12 1
a12 1
.\"     $Id: mailq.1,v 8.14.28.3 2000/12/14 23:08:15 gshapiro Exp $
d14 1
a14 1
.TH MAILQ 1 "$Date: 2000/12/14 23:08:15 $"
d16 1
a16 1
mailq
d27 1
a27 1
for the message with a possible status character, 
a34 7
The status characters are either
.B *
to indicate the job is being processed;
.B X
to indicate that the load is too high to process the job; and
.B -
to indicate that the job is too young to process.
@


1.1.1.3
log
@sendmail 8.12.0 with $Id tags converted to $Sendmail
@
text
@d12 1
a12 1
.\"     $Sendmail: mailq.1,v 8.18 2000/12/23 19:37:48 ca Exp $
d14 1
a14 1
.TH MAILQ 1 "$Date: 2000/12/23 19:37:48 $"
a60 2
Moreover, status messages for each recipient are printed
if available.
@


