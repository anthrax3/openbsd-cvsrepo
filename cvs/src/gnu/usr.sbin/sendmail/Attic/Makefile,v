head	1.11;
access;
symbols
	OPENBSD_5_6:1.10.0.18
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.10.0.16
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.10.0.12
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.10.0.10
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.8
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.6
	OPENBSD_5_0:1.10.0.4
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.9.0.26
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.22
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.9.0.24
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.20
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.18
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.16
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.9.0.14
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.9.0.12
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.10
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.8
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.6
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.4
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.9.0.2
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.8.0.6
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.2
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.8.0.4
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.5.0.2
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.4.0.4
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	SENDMAIL_8_12_0:1.1.1.3
	OPENBSD_2_9:1.3.0.6
	OPENBSD_2_9_BASE:1.3
	SENDMAIL_8_11_2:1.1.1.2
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	SENDMAIL_8_10_0:1.1.1.1
	SENDMAIL_INC:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2014.09.17.18.49.49;	author matthieu;	state dead;
branches;
next	1.10;
commitid	M7i5giHIoz3DMlTU;

1.10
date	2010.10.17.22.54.37;	author schwarze;	state Exp;
branches;
next	1.9;

1.9
date	2004.06.29.04.07.49;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2003.03.09.00.18.04;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2003.02.27.21.22.14;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	2003.02.19.06.18.10;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2002.07.20.17.30.26;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.11.19.02.47;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.04.04.58.35;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.02.19.48.09;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	2000.04.02.19.05.36;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.02.19.05.36;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.01.15.20.51.51;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2001.09.11.18.55.48;	author millert;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Bye.
@
text
@#	$OpenBSD: Makefile,v 1.10 2010/10/17 22:54:37 schwarze Exp $

# We only use these libs internally
.if !make(install)
SUBDIR= libsmutil libsmdb libsm
.else
SUBDIR=
.endif

# The bits we install
SUBDIR+= libmilter sendmail mailstats makemap praliases smrsh editmap cf/cf

# Extra bits we don't build/install right now
#SUBDIR+= mail.local rmail vacation

# These just get installed verbatim
.if make(install)
SUBDIR+= cf
.endif

.include <bsd.subdir.mk>
@


1.10
log
@Stop installing me(1) and ms(1) source code.
We will soon get rid of groff in base,
so there is no longer any way to use these files with base.
No opposition on tech@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2004/06/29 04:07:49 millert Exp $
@


1.9
log
@Build and install libmilter.a (static only) and libmilter.h.  OK deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2003/03/09 00:18:04 millert Exp $
d18 1
a18 1
SUBDIR+= doc/op cf
@


1.8
log
@Move WANT_LIBMILTER bits until after bsd.own.mk has been pulled in.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2003/02/27 21:22:14 millert Exp $
d11 1
a11 1
SUBDIR+=sendmail mailstats makemap praliases smrsh editmap cf/cf
a21 5

# To build milter support define WANT_LIBMILTER in /etc/mk.conf (unsupported)
.if defined(WANT_LIBMILTER)
SUBDIR+= libmilter
.endif
@


1.7
log
@Change things back such that defining WANT_LIBMILTER in mk.conf
will build with libmilter support since that appears to be what
people do (though it was not actually intended to work that way).

Also add WANT_SMTPAUTH for SASL support and WANT_LDAP for LDAP map support.
These last two from Chuck Yerkes.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2003/02/19 06:18:10 millert Exp $
a12 5
# To build milter support define WANT_LIBMILTER in /etc/mk.conf (unsupported)
.if defined(WANT_LIBMILTER)
SUBDIR+= libmilter
.endif

d22 5
@


1.6
log
@Give milter the ghost of a chance of working; still not supported in any way.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2002/07/20 17:30:26 millert Exp $
d13 4
a16 3
# To build with mail filter support (untested)
#SUBDIR+= libmilter
#.MAKEFLAGS+="WANT_LIBMILTER=1"
@


1.5
log
@Fix up WANT_LIBMILTER stuff for people who want to use it; downsj@@downsj.com
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2001/09/11 19:02:47 millert Exp $
a5 3
.if defined(WANT_LIBMILTER)
SUBDIR+= libmilter
.endif
d13 4
d18 1
a18 1
#SUBDIR+= libmilter mail.local rmail vacation
@


1.4
log
@merge in sendmail 8.12.0 with BSD Makefiles and mdoc man pages
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2000/04/04 04:58:35 millert Exp $
d6 3
@


1.3
log
@Don't install sendmail internal libs and add some comments
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2000/04/02 19:48:09 millert Exp $
d5 1
a5 1
SUBDIR= libsmutil libsmdb
d11 1
a11 1
SUBDIR+=sendmail mailstats makemap praliases smrsh cf/cf
@


1.2
log
@Remove sendmail's `Build' scaffolding and add real Makefiles
praliases should be in section 1, not 8
Use arc4random(3) instead of random(3)
Add some sample OpenBSD .mc files
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1998/05/19 16:56:48 millert Exp $
d3 11
a13 1
SUBDIR= libsmutil libsmdb sendmail mailstats makemap praliases smrsh cf/cf
d15 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#       $Sendmail: Makefile.dist,v 8.9 1999/09/27 21:39:11 gshapiro Exp $
d3 5
a7 5
SHELL= /bin/sh
SUBDIRS= libsmutil libsmdb sendmail mail.local mailstats makemap \
	 praliases rmail smrsh vacation
BUILD=   ./Build
OPTIONS= $(CONFIG) $(FLAGS)
d9 1
a9 33
all: FRC
	@@for x in $(SUBDIRS); \
	do \
		(cd $$x; echo Making $@@ in:; pwd; \
		$(SHELL) $(BUILD) $(OPTIONS)); \
	done

clean: FRC
	@@for x in $(SUBDIRS); \
	do \
		(cd $$x; echo Making $@@ in:; pwd; \
		$(SHELL) $(BUILD) $(OPTIONS) $@@); \
	done

install: FRC
	@@for x in $(SUBDIRS); \
	do \
		(cd $$x; echo Making $@@ in:; pwd; \
		$(SHELL) $(BUILD) $(OPTIONS) $@@); \
	done

fresh: FRC
	@@for x in $(SUBDIRS); \
	do \
		(cd $$x; echo Making $@@ in:; pwd; \
		$(SHELL) $(BUILD) $(OPTIONS) -c); \
	done

$(SUBDIRS): FRC
	@@cd $@@; pwd; \
	$(SHELL) $(BUILD) $(OPTIONS)

FRC:
@


1.1.1.1
log
@stock sendmail 8.10.0 with $Id -> $Sendmail
@
text
@@


1.1.1.2
log
@sendmail 8.11.2
@
text
@d1 1
a1 1
#       $Id: Makefile.dist,v 8.9 1999/09/27 21:39:11 gshapiro Exp $
@


1.1.1.3
log
@sendmail 8.12.0 with $Id tags converted to $Sendmail
@
text
@d1 1
a1 1
#       $Sendmail: Makefile.dist,v 8.15 2001/08/23 20:44:39 ca Exp $
d4 2
a5 3
SUBDIRS= libsm libsmutil libsmdb sendmail editmap mail.local \
	 mailstats makemap praliases rmail smrsh vacation
# libmilter: requires pthread
a23 7
	@@for x in $(SUBDIRS); \
	do \
		(cd $$x; echo Making $@@ in:; pwd; \
		$(SHELL) $(BUILD) $(OPTIONS) $@@); \
	done

install-docs: FRC
@


