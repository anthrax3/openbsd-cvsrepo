head	1.2;
access;
symbols
	OPENBSD_2_3:1.1.1.1.0.4
	OPENBSD_2_3_BASE:1.1.1.1
	OPENBSD_2_2:1.1.1.1.0.2
	OPENBSD_2_2_BASE:1.1.1.1
	E2FSPROGS110:1.1.1.1
	E2FSPROGS:1.1.1;
locks; strict;
comment	@# @;


1.2
date	98.07.07.18.21.18;	author art;	state dead;
branches;
next	1.1;

1.1
date	97.06.14.07.18.50;	author downsj;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.06.14.07.18.50;	author downsj;	state Exp;
branches;
next	;


desc
@@


1.2
log
@old, big, not compiled and not used, die
@
text
@#!/usr/bin/awk -f
#
#  Awk program to analyze mtrace.c output.
#
$1 == "+"	{ if (allocated[$2] != "")
		    print "+", $2, "Alloc", NR, "duplicate:", allocated[$2];
		  else
		    allocated[$2] = $3;
		}
$1 == "-"	{ if (allocated[$2] != "") {
		    allocated[$2] = "";
		    if (allocated[$2] != "")
			print "DELETE FAILED", $2, allocated[$2];
		  } else
		    print "-", $2, "Free", NR, "was never alloc'd";
		}
$1 == "<"	{ if (allocated[$2] != "")
		    allocated[$2] = "";
		  else
		    print "-", $2, "Realloc", NR, "was never alloc'd";
		}
$1 == ">"	{ if (allocated[$2] != "")
		    print "+", $2, "Realloc", NR, "duplicate:", allocated[$2];
		  else
		    allocated[$2] = $3;
		}

# Ignore "= Start"
$1 == "="	{ }
# Ignore failed realloc attempts for now
$1 == "!"	{ }


END		{ for (x in allocated) 
		    if (allocated[x] != "")
		      print "+", x, allocated[x];
		}
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Initial import of (unmodifed) e2fsprogs 1.10.
@
text
@@
