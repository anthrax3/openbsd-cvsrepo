head	1.1;
branch	1.1.1;
access;
symbols
	OPENBSD_6_1_BASE:1.1.1.1
	LLVM_4_0_0:1.1.1.1
	LLVM_4_0_0_RC1:1.1.1.1
	LLVM_3_9_1:1.1.1.1
	LLVM_3_8_1:1.1.1.1
	LLVM:1.1.1;
locks; strict;
comment	@ * @;


1.1
date	2016.09.03.22.46.56;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;
commitid	piLU3CHugy63NlaI;

1.1.1.1
date	2016.09.03.22.46.56;	author pascal;	state Exp;
branches;
next	;
commitid	piLU3CHugy63NlaI;


desc
@@


1.1
log
@Initial revision
@
text
@//===--- DeltaTree.h - B-Tree for Rewrite Delta tracking --------*- C++ -*-===//
//
//                     The LLVM Compiler Infrastructure
//
// This file is distributed under the University of Illinois Open Source
// License. See LICENSE.TXT for details.
//
//===----------------------------------------------------------------------===//
//
// This file defines the DeltaTree class.
//
//===----------------------------------------------------------------------===//

#ifndef LLVM_CLANG_REWRITE_CORE_DELTATREE_H
#define LLVM_CLANG_REWRITE_CORE_DELTATREE_H

#include "llvm/Support/Compiler.h"

namespace clang {

  /// DeltaTree - a multiway search tree (BTree) structure with some fancy
  /// features.  B-Trees are generally more memory and cache efficient than
  /// binary trees, because they store multiple keys/values in each node.  This
  /// implements a key/value mapping from index to delta, and allows fast lookup
  /// on index.  However, an added (important) bonus is that it can also
  /// efficiently tell us the full accumulated delta for a specific file offset
  /// as well, without traversing the whole tree.
  class DeltaTree {
    void *Root;    // "DeltaTreeNode *"
    void operator=(const DeltaTree &) = delete;
  public:
    DeltaTree();

    // Note: Currently we only support copying when the RHS is empty.
    DeltaTree(const DeltaTree &RHS);
    ~DeltaTree();

    /// getDeltaAt - Return the accumulated delta at the specified file offset.
    /// This includes all insertions or delections that occurred *before* the
    /// specified file index.
    int getDeltaAt(unsigned FileIndex) const;

    /// AddDelta - When a change is made that shifts around the text buffer,
    /// this method is used to record that info.  It inserts a delta of 'Delta'
    /// into the current DeltaTree at offset FileIndex.
    void AddDelta(unsigned FileIndex, int Delta);
  };
}  // end namespace clang

#endif
@


1.1.1.1
log
@Use the space freed up by sparc and zaurus to import LLVM.

ok hackroom@@
@
text
@@
