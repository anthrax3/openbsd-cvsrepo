head	1.4;
access;
symbols
	OPENBSD_2_5:1.3.0.6
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.4
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.2
	OPENBSD_2_3_BASE:1.3
	FSF_2_8_0:1.1.1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	FSF_2_7_1:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@# @;


1.4
date	99.05.26.16.33.28;	author espie;	state dead;
branches;
next	1.3;

1.3
date	98.03.03.21.39.02;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	96.03.16.04.20.15;	author etheisen;	state Exp;
branches;
next	1.1;

1.1
date	96.03.15.22.17.27;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.03.15.22.17.27;	author niklas;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	98.03.03.20.16.51;	author millert;	state Exp;
branches;
next	;


desc
@@


1.4
log
@old libg++, replaced by part of egcs.
@
text
@#! /bin/sh
# Configuration validation subroutine script, version 1.1.
#   Copyright (C) 1991, 92, 93, 94, 95, 96, 1997 Free Software Foundation, Inc.
# This file is (in principle) common to ALL GNU software.
# The presence of a machine in this file suggests that SOME GNU software
# can handle that machine.  It does not imply ALL GNU software can.
#
# This file is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place - Suite 330,
# Boston, MA 02111-1307, USA.

# As a special exception to the GNU General Public License, if you
# distribute this file as part of a program that contains a
# configuration script generated by Autoconf, you may include it under
# the same distribution terms that you use for the rest of that program.

# Configuration subroutine to validate and canonicalize a configuration type.
# Supply the specified configuration type as an argument.
# If it is invalid, we print an error message on stderr and exit with code 1.
# Otherwise, we print the canonical config type on stdout and succeed.

# This file is supposed to be the same for all GNU packages
# and recognize all the CPU types, system types and aliases
# that are meaningful with *any* GNU software.
# Each package is responsible for reporting which valid configurations
# it does not support.  The user should be able to distinguish
# a failure to support a valid configuration from a meaningless
# configuration.

# The goal of this file is to map all the various variations of a given
# machine specification into a single specification in the form:
#	CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM
# or in some cases, the newer four-part form:
#	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
# It is wrong to echo any other type of specification.

if [ x$1 = x ]
then
	echo Configuration name missing. 1>&2
	echo "Usage: $0 CPU-MFR-OPSYS" 1>&2
	echo "or     $0 ALIAS" 1>&2
	echo where ALIAS is a recognized configuration type. 1>&2
	exit 1
fi

# First pass through any local machine types.
case $1 in
	*local*)
		echo $1
		exit 0
		;;
	*)
	;;
esac

# Separate what the user gave into CPU-COMPANY and OS or KERNEL-OS (if any).
# Here we must recognize all the valid KERNEL-OS combinations.
maybe_os=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\2/'`
case $maybe_os in
  linux-gnu*)
    os=-$maybe_os
    basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`
    ;;
  *)
    basic_machine=`echo $1 | sed 's/-[^-]*$//'`
    if [ $basic_machine != $1 ]
    then os=`echo $1 | sed 's/.*-/-/'`
    else os=; fi
    ;;
esac

### Let's recognize common machines as not being operating systems so
### that things like config.sub decstation-3100 work.  We also
### recognize some manufacturers as not being operating systems, so we
### can provide default operating systems below.
case $os in
	-sun*os*)
		# Prevent following clause from handling this invalid input.
		;;
	-dec* | -mips* | -sequent* | -encore* | -pc532* | -sgi* | -sony* | \
	-att* | -7300* | -3300* | -delta* | -motorola* | -sun[234]* | \
	-unicom* | -ibm* | -next | -hp | -isi* | -apollo | -altos* | \
	-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\
	-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \
	-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \
	-apple)
		os=
		basic_machine=$1
		;;
	-sim | -cisco | -oki | -wec | -winbond )	# CYGNUS LOCAL
		os=
		basic_machine=$1
		;;
	-scout)						# CYGNUS LOCAL
		;;
	-wrs)						# CYGNUS LOCAL
		os=vxworks
		basic_machine=$1
		;;
	-hiux*)
		os=-hiuxwe2
		;;
	-sco5)
		os=sco3.2v5
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-sco4)
		os=-sco3.2v4
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-sco3.2.[4-9]*)
		os=`echo $os | sed -e 's/sco3.2./sco3.2v/'`
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-sco3.2v[4-9]*)
		# Don't forget version if it is 3.2v4 or newer.
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-sco*)
		os=-sco3.2v2
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-isc)
		os=-isc2.2
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-clix*)
		basic_machine=clipper-intergraph
		;;
	-isc*)
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
	-lynx*)
		os=-lynxos
		;;
	-ptx*)
		basic_machine=`echo $1 | sed -e 's/86-.*/86-sequent/'`
		;;
	-windowsnt*)
		os=`echo $os | sed -e 's/windowsnt/winnt/'`
		;;
	-psos*)
		os=-psos
		;;
esac

# Decode aliases for certain CPU-COMPANY combinations.
case $basic_machine in
	# Recognize the basic CPU types without company name.
	# Some are omitted here because they have special meanings below.
	tahoe | i860 | m32r | m68k | m68000 | m88k | ns32k | arc | arm \
		| arme[lb] | pyramid | mn10200 | mn10300 \
		| tron | a29k | 580 | i960 | h8300 | hppa | hppa1.0 | hppa1.1 \
		| alpha | alphaev5 | alphaev56 | we32k | ns16k | clipper \
		| i370 | sh | powerpc | powerpcle | 1750a | dsp16xx | pdp11 \
		| mips64 | mipsel | mips64el | mips64orion | mips64orionel \
		| mipstx39 | mipstx39el \
		| sparc | sparclet | sparclite | sparc64 | v850)
		basic_machine=$basic_machine-unknown
		;;
	m88110 | m680[01234]0 | m683?2 | m68360 | z8k | v70 | h8500 | w65) # CYGNUS LOCAL
		basic_machine=$basic_machine-unknown
		;;
	mips64vr4300 | mips64vr4300el) # CYGNUS LOCAL jsmith/vr4300
		basic_machine=$basic_machine-unknown
		;;
	mips64vr4100 | mips64vr4100el) # CYGNUS LOCAL jsmith/vr4100
		basic_machine=$basic_machine-unknown
		;;
	mips64vr5000 | mips64vr5000el) # CYGNUS LOCAL ian/vr5000
		basic_machine=$basic_machine-unknown
		;;
	mips16) # CYGNUS LOCAL krk/mips16
		basic_machine=$basic_machine-unknown
		;;
	d10v)				# CYGNUS LOCAL meissner/d10v
		basic_machine=$basic_machine-unknown
		;;
	# We use `pc' rather than `unknown'
	# because (1) that's what they normally are, and
	# (2) the word "unknown" tends to confuse beginning users.
	i[3456]86)
	  basic_machine=$basic_machine-pc
	  ;;
	# Object if more than one company name word.
	*-*-*)
		echo Invalid configuration \`$1\': machine \`$basic_machine\' not recognized 1>&2
		exit 1
		;;
	# Recognize the basic CPU types with company name.
	vax-* | tahoe-* | i[3456]86-* | i860-* | m32r-* | m68k-* | m68000-* \
	      | m88k-* | sparc-* | ns32k-* | fx80-* | arc-* | arm-* | c[123]* \
	      | mips-* | pyramid-* | tron-* | a29k-* | romp-* | rs6000-* \
	      | power-* | none-* | 580-* | cray2-* | h8300-* | i960-* \
	      | xmp-* | ymp-* | hppa-* | hppa1.0-* | hppa1.1-* \
	      | alpha-* | alphaev5-* | alphaev56-* | we32k-* | cydra-* \
	      | ns16k-* | pn-* | np1-* | xps100-* | clipper-* | orion-* \
	      | sparclite-* | pdp11-* | sh-* | powerpc-* | powerpcle-* \
	      | sparc64-* | mips64-* | mipsel-* \
	      | mips64el-* | mips64orion-* | mips64orionel-* \
	      | mipstx39-* | mipstx39el-* \
	      | f301-*)
		;;
	m88110-* | m680[01234]0-* | m683?2-* | m68360-* | z8k-* | h8500-* | d10v-*) # CYGNUS LOCAL
		;;
	mips64vr4300-* | mips64vr4300el-*) # CYGNUS LOCAL jsmith/vr4300
		;;
	mips64vr4100-* | mips64vr4100el-*) # CYGNUS LOCAL jsmith/vr4100
		;;
	mips16-*) # CYGNUS LOCAL krk/mips16
		;;
	# Recognize the various machine names and aliases which stand
	# for a CPU type and a company and sometimes even an OS.
	386bsd)						# CYGNUS LOCAL
		basic_machine=i386-unknown
		os=-bsd
		;;
	3b1 | 7300 | 7300-att | att-7300 | pc7300 | safari | unixpc)
		basic_machine=m68000-att
		;;
	3b*)
		basic_machine=we32k-att
		;;
	a29khif)					# CYGNUS LOCAL
		basic_machine=a29k-amd
		os=-udi
		;;
	adobe68k)					# CYGNUS LOCAL
		basic_machine=m68010-adobe
		os=-scout
		;;
	alliant | fx80)
		basic_machine=fx80-alliant
		;;
	altos | altos3068)
		basic_machine=m68k-altos
		;;
	am29k)
		basic_machine=a29k-none
		os=-bsd
		;;
	amdahl)
		basic_machine=580-amdahl
		os=-sysv
		;;
	amiga | amiga-*)
		basic_machine=m68k-cbm
		;;
	amigaos | amigados)
		basic_machine=m68k-cbm
		os=-amigaos
		;;
	amigaunix | amix)
		basic_machine=m68k-cbm
		os=-sysv4
		;;
	apollo68)
		basic_machine=m68k-apollo
		os=-sysv
		;;
	apollo68bsd)					# CYGNUS LOCAL
		basic_machine=m68k-apollo
		os=-bsd
		;;
	aux)
		basic_machine=m68k-apple
		os=-aux
		;;
	balance)
		basic_machine=ns32k-sequent
		os=-dynix
		;;
	convex-c1)
		basic_machine=c1-convex
		os=-bsd
		;;
	convex-c2)
		basic_machine=c2-convex
		os=-bsd
		;;
	convex-c32)
		basic_machine=c32-convex
		os=-bsd
		;;
	convex-c34)
		basic_machine=c34-convex
		os=-bsd
		;;
	convex-c38)
		basic_machine=c38-convex
		os=-bsd
		;;
	cray | ymp)
		basic_machine=ymp-cray
		os=-unicos
		;;
	cray2)
		basic_machine=cray2-cray
		os=-unicos
		;;
	[ctj]90-cray)
		basic_machine=c90-cray
		os=-unicos
		;;
	crds | unos)
		basic_machine=m68k-crds
		;;
	da30 | da30-*)
		basic_machine=m68k-da30
		;;
	decstation | decstation-3100 | pmax | pmax-* | pmin | dec3100 | decstatn)
		basic_machine=mips-dec
		;;
	delta | 3300 | motorola-3300 | motorola-delta \
	      | 3300-motorola | delta-motorola)
		basic_machine=m68k-motorola
		;;
	delta88)
		basic_machine=m88k-motorola
		os=-sysv3
		;;
	dpx20 | dpx20-*)
		basic_machine=rs6000-bull
		os=-bosx
		;;
	dpx2* | dpx2*-bull)
		basic_machine=m68k-bull
		os=-sysv3
		;;
	ebmon29k)
		basic_machine=a29k-amd
		os=-ebmon
		;;
	elxsi)
		basic_machine=elxsi-elxsi
		os=-bsd
		;;
	encore | umax | mmax)
		basic_machine=ns32k-encore
		;;
	es1800 | OSE68k | ose68k | ose | OSE)		# CYGNUS LOCAL
		basic_machine=m68k-ericsson
		os=-ose
		;;
	fx2800)
		basic_machine=i860-alliant
		;;
	genix)
		basic_machine=ns32k-ns
		;;
	gmicro)
		basic_machine=tron-gmicro
		os=-sysv
		;;
	h3050r* | hiux*)
		basic_machine=hppa1.1-hitachi
		os=-hiuxwe2
		;;
	h8300hms)
		basic_machine=h8300-hitachi
		os=-hms
		;;
	h8300xray)					# CYGNUS LOCAL
		basic_machine=h8300-hitachi
		os=-xray
		;;
	h8500hms)					# CYGNUS LOCAL
		basic_machine=h8500-hitachi
		os=-hms
		;;
	harris)
		basic_machine=m88k-harris
		os=-sysv3
		;;
	hp300-*)
		basic_machine=m68k-hp
		;;
	hp300bsd)
		basic_machine=m68k-hp
		os=-bsd
		;;
	hp300hpux)
		basic_machine=m68k-hp
		os=-hpux
		;;
        w89k-*)						# CYGNUS LOCAL
                basic_machine=hppa1.1-winbond
                os=-proelf
                ;;
        op50n-*)					# CYGNUS LOCAL
                basic_machine=hppa1.1-oki
                os=-proelf
                ;;
        op60c-*)					# CYGNUS LOCAL
                basic_machine=hppa1.1-oki
                os=-proelf
                ;;
        hppro)						# CYGNUS LOCAL
                basic_machine=hppa1.1-hp
                os=-proelf
                ;;
	hp9k2[0-9][0-9] | hp9k31[0-9])
		basic_machine=m68000-hp
		;;
	hp9k3[2-9][0-9])
		basic_machine=m68k-hp
		;;
	hp9k7[0-9][0-9] | hp7[0-9][0-9] | hp9k8[0-9]7 | hp8[0-9]7)
		basic_machine=hppa1.1-hp
		;;
	hp9k8[0-9][0-9] | hp8[0-9][0-9])
		basic_machine=hppa1.0-hp
		;;
	hppa-next)
		os=-nextstep3
		;;
	hppaosf)					# CYGNUS LOCAL
		basic_machine=hppa1.1-hp
		os=-osf
		;;
	i370-ibm* | ibm*)
		basic_machine=i370-ibm
		os=-mvs
		;;
# I'm not sure what "Sysv32" means.  Should this be sysv3.2?
	i[3456]86v32)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
		os=-sysv32
		;;
	i[3456]86v4*)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
		os=-sysv4
		;;
	i[3456]86v)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
		os=-sysv
		;;
	i[3456]86sol2)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
		os=-solaris2
		;;
	i386mach)					# CYGNUS LOCAL
		basic_machine=i386-mach
		os=-mach
		;;
	i386-vsta | vsta)				# CYGNUS LOCAL
		basic_machine=i386-unknown
		os=-vsta
		;;
	i386-go32 | go32)				# CYGNUS LOCAL
		basic_machine=i386-unknown
		os=-go32
		;;
	iris | iris4d)
		basic_machine=mips-sgi
		case $os in
		    -irix*)
			;;
		    *)
			os=-irix4
			;;
		esac
		;;
	isi68 | isi)
		basic_machine=m68k-isi
		os=-sysv
		;;
	m88k-omron*)
		basic_machine=m88k-omron
		;;
	magnum | m3230)
		basic_machine=mips-mips
		os=-sysv
		;;
	merlin)
		basic_machine=ns32k-utek
		os=-sysv
		;;
	miniframe)
		basic_machine=m68000-convergent
		;;
	mipsel*-linux*)
		basic_machine=mipsel-unknown
		os=-linux-gnu
		;;
	mips*-linux*)
		basic_machine=mips-unknown
		os=-linux-gnu
		;;
	mips3*-*)
		basic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`
		;;
	mips3*)
		basic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`-unknown
		;;
	monitor)					# CYGNUS LOCAL
		basic_machine=m68k-rom68k
		os=-coff
		;;
	msdos)						# CYGNUS LOCAL
		basic_machine=i386-unknown	
		os=-msdos
		;;
	ncr3000)
		basic_machine=i486-ncr
		os=-sysv4
		;;
	netbsd386)
		basic_machine=i386-unknown		# CYGNUS LOCAL
		os=-netbsd
		;;
	news | news700 | news800 | news900)
		basic_machine=m68k-sony
		os=-newsos
		;;
	news1000)
		basic_machine=m68030-sony
		os=-newsos
		;;
	news-3600 | risc-news)
		basic_machine=mips-sony
		os=-newsos
		;;
	necv70)						# CYGNUS LOCAL
		basic_machine=v70-nec
		os=-sysv
		;;
	next | m*-next )
		basic_machine=m68k-next
		case $os in
		    -nextstep* )
			;;
		    -ns2*)
		      os=-nextstep2
			;;
		    *)
		      os=-nextstep3
			;;
		esac
		;;
	nh3000)
		basic_machine=m68k-harris
		os=-cxux
		;;
	nh[45]000)
		basic_machine=m88k-harris
		os=-cxux
		;;
	nindy960)
		basic_machine=i960-intel
		os=-nindy
		;;
	mon960)						# CYGNUS LOCAL
		basic_machine=i960-intel
		os=-mon960
		;;
	np1)
		basic_machine=np1-gould
		;;
	OSE68000 | ose68000)				# CYGNUS LOCAL
		basic_machine=m68000-ericsson
		os=-ose
		;;
	os68k)						# CYGNUS LOCAL
		basic_machine=m68k-none
		os=-os68k
		;;
	pa-hitachi)
		basic_machine=hppa1.1-hitachi
		os=-hiuxwe2
		;;
	paragon)
		basic_machine=i860-intel
		os=-osf
		;;
	pbd)
		basic_machine=sparc-tti
		;;
	pbb)
		basic_machine=m68k-tti
		;;
        pc532 | pc532-*)
		basic_machine=ns32k-pc532
		;;
	pentium | p5)
		basic_machine=i586-intel
		;;
	pentiumpro | p6)
		basic_machine=i686-intel
		;;
	pentium-* | p5-*)
		basic_machine=i586-`echo $basic_machine | sed 's/^[^-]*-//'`
		;;
	pentiumpro-* | p6-*)
		basic_machine=i686-`echo $basic_machine | sed 's/^[^-]*-//'`
		;;
	k5)
		# We don't have specific support for AMD's K5 yet, so just call it a Pentium
		basic_machine=i586-amd
		;;
	nexen)
		# We don't have specific support for Nexgen yet, so just call it a Pentium
		basic_machine=i586-nexgen
		;;
	pn)
		basic_machine=pn-gould
		;;
	power)	basic_machine=rs6000-ibm
		;;
	ppc)	basic_machine=powerpc-unknown
	        ;;
	ppc-*)	basic_machine=powerpc-`echo $basic_machine | sed 's/^[^-]*-//'`
		;;
	ppcle | powerpclittle | ppc-le | powerpc-little)
		basic_machine=powerpcle-unknown
	        ;;
	ppcle-* | powerpclittle-*)
		basic_machine=powerpcle-`echo $basic_machine | sed 's/^[^-]*-//'`
		;;
	ps2)
		basic_machine=i386-ibm
		;;
	rom68k)						# CYGNUS LOCAL
		basic_machine=m68k-rom68k
		os=-coff
		;;
	rm[46]00)
		basic_machine=mips-siemens
		;;
	rtpc | rtpc-*)
		basic_machine=romp-ibm
		;;
	sa29200)					# CYGNUS LOCAL
		basic_machine=a29k-amd
		os=-udi
		;;
	sequent)
		basic_machine=i386-sequent
		;;
	sh)
		basic_machine=sh-hitachi
		os=-hms
		;;
	sparclite-wrs)					# CYGNUS LOCAL
		basic_machine=sparclite-wrs
		os=-vxworks
		;;
	sps7)
		basic_machine=m68k-bull
		os=-sysv2
		;;
	spur)
		basic_machine=spur-unknown
		;;
	st2000)						# CYGNUS LOCAL
		basic_machine=m68k-tandem
		;;
	stratus)					# CYGNUS LOCAL
		basic_machine=i860-stratus
		os=-sysv4
		;;
	sun2)
		basic_machine=m68000-sun
		;;
	sun2os3)
		basic_machine=m68000-sun
		os=-sunos3
		;;
	sun2os4)
		basic_machine=m68000-sun
		os=-sunos4
		;;
	sun3os3)
		basic_machine=m68k-sun
		os=-sunos3
		;;
	sun3os4)
		basic_machine=m68k-sun
		os=-sunos4
		;;
	sun4os3)
		basic_machine=sparc-sun
		os=-sunos3
		;;
	sun4os4)
		basic_machine=sparc-sun
		os=-sunos4
		;;
	sun4sol2)
		basic_machine=sparc-sun
		os=-solaris2
		;;
	sun3 | sun3-*)
		basic_machine=m68k-sun
		;;
	sun4)
		basic_machine=sparc-sun
		;;
	sun386 | sun386i | roadrunner)
		basic_machine=i386-sun
		;;
	symmetry)
		basic_machine=i386-sequent
		os=-dynix
		;;
	tx39)
		basic_machine=mipstx39-unknown
		;;
	tx39el)
		basic_machine=mipstx39el-unknown
		;;
	tower | tower-32)
		basic_machine=m68k-ncr
		;;
	udi29k)
		basic_machine=a29k-amd
		os=-udi
		;;
	ultra3)
		basic_machine=a29k-nyu
		os=-sym1
		;;
	v810 | necv810)					# CYGNUS LOCAL
		basic_machine=v810-nec
		os=-none
		;;
	vaxv)
		basic_machine=vax-dec
		os=-sysv
		;;
	vms)
		basic_machine=vax-dec
		os=-vms
		;;
	vpp*|vx|vx-*)
               basic_machine=f301-fujitsu
               ;;
	vxworks960)
		basic_machine=i960-wrs
		os=-vxworks
		;;
	vxworks68)
		basic_machine=m68k-wrs
		os=-vxworks
		;;
	vxworks29k)
		basic_machine=a29k-wrs
		os=-vxworks
		;;
	w65*)						# CYGNUS LOCAL
 		basic_machine=w65-wdc
 		os=-none
		;;
	xmp)
		basic_machine=xmp-cray
		os=-unicos
		;;
        xps | xps100)
		basic_machine=xps100-honeywell
		;;
	z8k-*-coff)					# CYGNUS LOCAL
		basic_machine=z8k-unknown
		os=-sim
		;;
	none)
		basic_machine=none-none
		os=-none
		;;

# Here we handle the default manufacturer of certain CPU types.  It is in
# some cases the only manufacturer, in others, it is the most popular.
	w89k)						# CYGNUS LOCAL
		basic_machine=hppa1.1-winbond
		;;
	op50n)						# CYGNUS LOCAL
		basic_machine=hppa1.1-oki
		;;
	op60c)						# CYGNUS LOCAL
		basic_machine=hppa1.1-oki
		;;
	mips)
		if [ x$os = x-linux-gnu ]; then
			basic_machine=mips-unknown
		else
			basic_machine=mips-mips
		fi
		;;
	romp)
		basic_machine=romp-ibm
		;;
	rs6000)
		basic_machine=rs6000-ibm
		;;
	vax)
		basic_machine=vax-dec
		;;
	pdp11)
		basic_machine=pdp11-dec
		;;
	we32k)
		basic_machine=we32k-att
		;;
	sparc)
		basic_machine=sparc-sun
		;;
        cydra)
		basic_machine=cydra-cydrome
		;;
	orion)
		basic_machine=orion-highlevel
		;;
	orion105)
		basic_machine=clipper-highlevel
		;;
	mac | mpw | mac-mpw)				# CYGNUS LOCAL
		basic_machine=m68k-apple
		;;
	pmac | pmac-mpw)				# CYGNUS LOCAL
		basic_machine=powerpc-apple
		;;
	*)
		echo Invalid configuration \`$1\': machine \`$basic_machine\' not recognized 1>&2
		exit 1
		;;
esac

# Here we canonicalize certain aliases for manufacturers.
case $basic_machine in
	*-digital*)
		basic_machine=`echo $basic_machine | sed 's/digital.*/dec/'`
		;;
	*-commodore*)
		basic_machine=`echo $basic_machine | sed 's/commodore.*/cbm/'`
		;;
	*)
		;;
esac

# Decode manufacturer-specific aliases for certain operating systems.

if [ x"$os" != x"" ]
then
case $os in
        # First match some system type aliases
        # that might get confused with valid system types.
	# -solaris* is a basic system type, with this one exception.
	-solaris1 | -solaris1.*)
		os=`echo $os | sed -e 's|solaris1|sunos4|'`
		;;
	-solaris)
		os=-solaris2
		;;
	-unixware* | svr4*)
		os=-sysv4
		;;
	-gnu/linux*)
		os=`echo $os | sed -e 's|gnu/linux|linux-gnu|'`
		;;
	# First accept the basic system types.
	# The portable systems comes first.
	# Each alternative MUST END IN A *, to match a version number.
	# -sysv* is not here because it comes later, after sysvr4.
	-gnu* | -bsd* | -mach* | -minix* | -genix* | -ultrix* | -irix* \
	      | -*vms* | -sco* | -esix* | -isc* | -aix* | -sunos | -sunos[34]*\
	      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -solaris* | -sym* \
	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
	      | -aos* \
	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
	      | -hiux* | -386bsd* | -netbsd* | -openbsd* | -freebsd* | -riscix* \
	      | -lynxos* | -bosx* | -nextstep* | -cxux* | -aout* | -elf* \
	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
	      | -cygwin32* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
	      | -mingw32* | -linux-gnu* | -uxpv*)
	# Remember, each alternative MUST END IN *, to match a version number.
		;;
	# CYGNUS LOCAL
	-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
	      | -windows* | -osx | -abug |  -netware* | -os9* | -beos* \
	      | -macos* | -mpw* | -magic* | -mon960* | -lnews* )
		;;
	-mac*)
		os=`echo $os | sed -e 's|mac|macos|'`
		;;
	# END CYGNUS LOCAL
	-linux*)
		os=`echo $os | sed -e 's|linux|linux-gnu|'`
		;;
	-sunos5*)
		os=`echo $os | sed -e 's|sunos5|solaris2|'`
		;;
	-sunos6*)
		os=`echo $os | sed -e 's|sunos6|solaris3|'`
		;;
	-osfrose*)
		os=-osfrose
		;;
	-osf*)
		os=-osf
		;;
	-utek*)
		os=-bsd
		;;
	-dynix*)
		os=-bsd
		;;
	-acis*)
		os=-aos
		;;
	-386bsd)					# CYGNUS LOCAL
		os=-bsd
		;;
	-ctix* | -uts*)
		os=-sysv
		;;
	-ns2 )
	        os=-nextstep2
		;;
	# Preserve the version number of sinix5.
	-sinix5.*)
		os=`echo $os | sed -e 's|sinix|sysv|'`
		;;
	-sinix*)
		os=-sysv4
		;;
	-triton*)
		os=-sysv3
		;;
	-oss*)
		os=-sysv3
		;;
	-svr4)
		os=-sysv4
		;;
	-svr3)
		os=-sysv3
		;;
	-sysvr4)
		os=-sysv4
		;;
	# This must come after -sysvr4.
	-sysv*)
		;;
	-ose*)						# CYGNUS LOCAL
		os=-ose
		;;
	-es1800*)					# CYGNUS LOCAL
		os=-ose
		;;
	-xenix)
		os=-xenix
		;;
	-none)
		;;
	*)
		# Get rid of the `-' at the beginning of $os.
		os=`echo $os | sed 's/[^-]*-//'`
		echo Invalid configuration \`$1\': system \`$os\' not recognized 1>&2
		exit 1
		;;
esac
else

# Here we handle the default operating systems that come with various machines.
# The value should be what the vendor currently ships out the door with their
# machine or put another way, the most popular os provided with the machine.

# Note that if you're going to try to match "-MANUFACTURER" here (say,
# "-sun"), then you have to tell the case statement up towards the top
# that MANUFACTURER isn't an operating system.  Otherwise, code above
# will signal an error saying that MANUFACTURER isn't an operating
# system, and we'll never get to this point.

case $basic_machine in
	*-acorn)
		os=-riscix1.2
		;;
	arm*-semi)
		os=-aout
		;;
        pdp11-*)
		os=-none
		;;
	*-dec | vax-*)
		os=-ultrix4.2
		;;
	m68*-apollo)
		os=-domain
		;;
	i386-sun)
		os=-sunos4.0.2
		;;
	m68000-sun)
		os=-sunos3
		# This also exists in the configure program, but was not the
		# default.
		# os=-sunos4
		;;
	m68*-cisco)					# CYGNUS LOCAL
		os=-aout
		;;
	mips*-cisco)					# CYGNUS LOCAL
		os=-elf
		;;
        mips*-*)                                        # CYGNUS LOCAL
                os=-elf
                ;;
	*-tti)	# must be before sparc entry or we get the wrong os.
		os=-sysv3
		;;
	sparc-* | *-sun)
		os=-sunos4.1.1
		;;
	*-be)						# CYGNUS LOCAL
		os=-beos
		;;
	*-ibm)
		os=-aix
		;;
	*-wec)						# CYGNUS LOCAL
		os=-proelf
		;;
	*-winbond)					# CYGNUS LOCAL
		os=-proelf
		;;
	*-oki)						# CYGNUS LOCAL
		os=-proelf
		;;
	*-hp)
		os=-hpux
		;;
	*-hitachi)
		os=-hiux
		;;
	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
		os=-sysv
		;;
	*-cbm)
		os=-amigaos
		;;
	*-dg)
		os=-dgux
		;;
	*-dolphin)
		os=-sysv3
		;;
	m68k-ccur)
		os=-rtu
		;;
	m88k-omron*)
		os=-luna
		;;
	*-next )
		os=-nextstep
		;;
	*-sequent)
		os=-ptx
		;;
	*-crds)
		os=-unos
		;;
	*-ns)
		os=-genix
		;;
	i370-*)
		os=-mvs
		;;
	*-next)
		os=-nextstep3
		;;
        *-gould)
		os=-sysv
		;;
        *-highlevel)
		os=-bsd
		;;
	*-encore)
		os=-bsd
		;;
        *-sgi)
		os=-irix
		;;
        *-siemens)
		os=-sysv4
		;;
	*-masscomp)
		os=-rtu
		;;
	f301-fujitsu)
		os=-uxpv
		;;
	*-rom68k)					# CYGNUS LOCAL
		os=-coff
		;;
	*-*bug)						# CYGNUS LOCAL
		os=-coff
		;;
	*-apple)					# CYGNUS LOCAL
		os=-macos
		;;
	*)
		os=-none
		;;
esac
fi

# Here we handle the case where we know the os, and the CPU type, but not the
# manufacturer.  We pick the logical manufacturer.
vendor=unknown
case $basic_machine in
	*-unknown)
		case $os in
			-riscix*)
				vendor=acorn
				;;
			-sunos*)
				vendor=sun
				;;
			-aix*)
				vendor=ibm
				;;
			-beos*)						# CYGNUS LOCAL
				vendor=be
				;;
			-hpux*)
				vendor=hp
				;;
			-hiux*)
				vendor=hitachi
				;;
			-unos*)
				vendor=crds
				;;
			-dgux*)
				vendor=dg
				;;
			-luna*)
				vendor=omron
				;;
			-genix*)
				vendor=ns
				;;
			-mvs*)
				vendor=ibm
				;;
			-ptx*)
				vendor=sequent
				;;
			-vxsim* | -vxworks*)
				vendor=wrs
				;;
			-aux*)
				vendor=apple
				;;
			-hms*)				# CYGNUS LOCAL
				vendor=hitachi
				;;
			-mpw* | -macos*)		# CYGNUS LOCAL
				vendor=apple
				;;
		esac
		basic_machine=`echo $basic_machine | sed "s/unknown/$vendor/"`
		;;
esac

echo $basic_machine$os
@


1.3
log
@libg++ 2.8.0 from FSF + changes to build in an OpenBSD environment
@
text
@@


1.2
log
@Allow standard GNU build with openbsd.
@
text
@d3 1
a3 1
#   Copyright (C) 1991, 1992, 1993, 1994, 1995 Free Software Foundation, Inc.
d6 1
a6 1
# can handle that machine.  It does not imply ALL GNU software can. 
d20 2
a21 1
# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
d44 2
d67 15
a81 5
# Separate what the user gave into CPU-COMPANY and OS (if any).
basic_machine=`echo $1 | sed 's/-[^-]*$//'`
if [ $basic_machine != $1 ]
then os=`echo $1 | sed 's/.*-/-/'`
else os=; fi
d96 2
a97 1
	-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp )
a104 4
	-apple*)					# CYGNUS LOCAL
		os=
		basic_machine=$1
		;;
d114 4
d120 1
a120 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-unknown/'`
d124 1
a124 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-unknown/'`
d128 1
a128 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-unknown/'`
d132 1
a132 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-unknown/'`
d136 1
a136 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-unknown/'`
d142 1
a142 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-unknown/'`
d153 3
d162 8
a169 7
	tahoe | i[345]86 | i860 | m68k | m68000 | m88k | ns32k | arm | armeb \
		| armel | pyramid \
		| tron | a29k | 580 | i960 | h8300 | hppa1.0 | hppa1.1 \
		| alpha | we32k | ns16k | clipper | sparclite | i370 | sh \
		| powerpc | powerpcle | sparc64 | 1750a | dsp16xx | mips64 | mipsel \
		| pdp11 | mips64el | mips64orion | mips64orionel \
		| sparc)
d175 4
a178 1
	mips64vr4300 | mips64vr4300el) # CYGNUS LOCAL jsmith
d181 15
d202 14
a215 8
	vax-* | tahoe-* | i[345]86-* | i860-* | m68k-* | m68000-* | m88k-* \
	      | sparc-* | ns32k-* | fx80-* | arm-* | arme[lb]-* | c[123]* \
	      | mips-* | pyramid-* | tron-* | a29k-* | romp-* | rs6000-* | power-* \
	      | none-* | 580-* | cray2-* | h8300-* | i960-* | xmp-* | ymp-* \
	      | hppa1.0-* | hppa1.1-* | alpha-* | we32k-* | cydra-* | ns16k-* \
	      | pn-* | np1-* | xps100-* | clipper-* | orion-* | sparclite-* \
	      | pdp11-* | sh-* | powerpc-* | powerpcle-* | sparc64-* | mips64-* | mipsel-* \
	      | mips64el-* | mips64orion-* | mips64orionel-*)
d217 1
a217 1
	m88110-* | m680[01234]0-* | m683?2-* | m68360-* | z8k-* | h8500-*) # CYGNUS LOCAL
d219 3
a221 1
	mips64vr4300-* | mips64vr4300el-*) # CYGNUS LOCAL jsmith
d260 1
a260 1
	amigados)
d262 1
a262 1
		os=-amigados
d276 3
a278 3
	arm | armel | armeb)
		basic_machine=arm-arm
		os=-aout
d312 4
d425 3
d437 2
a438 2
	i[345]86v32)
		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
d441 2
a442 2
	i[345]86v4*)
		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
d445 2
a446 2
	i[345]86v)
		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
d449 2
a450 2
	i[345]86sol2)
		basic_machine=`echo $1 | sed -e 's/86.*/86-unknown/'`
d493 8
a522 4
	openbsd386)
		basic_machine=i386-unknown		# CYGNUS LOCAL
		os=-openbsd
		;;
d564 4
d596 1
a596 2
	pentium | p5 | p6)
		# We don't have specific support for the Intel Pentium (p6) followon yet, so just call it a Pentium
d599 4
a602 2
	pentium-* | p5-* | p6-*)
		# We don't have specific support for the Intel Pentium (p6) followon yet, so just call it a Pentium
d605 3
d612 1
a612 1
	nexgen)
a658 14
	sparcfrw)					# CYGNUS LOCAL
		basic_machine=sparcfrw-sun
		os=-sunos4
		;;
	sparcfrwcompat)					# CYGNUS LOCAL
		basic_machine=sparcfrwcompat-sun
		os=-sunos4
		;;
	sparclitefrw)					# CYGNUS LOCAL
		basic_machine=sparclitefrw-fujitsu
		;;
	sparclitefrwcompat)				# CYGNUS LOCAL
		basic_machine=sparclitefrwcompat-fujitsu
		;;
d717 6
d746 3
d757 4
a760 4
        vxworks29k)					# CYGNUS LOCAL
                basic_machine=a29k-wrs
                os=-vxworks
                ;;
d793 5
a797 1
		basic_machine=mips-mips
d826 1
a826 1
	mac)						# CYGNUS LOCAL
d829 2
a830 2
	mpw)						# CYGNUS LOCAL
		basic_machine=m68k-apple
d855 2
d868 1
a868 1
		os=`echo $os | sed -e 's|gnu/linux|linux|'`
d872 1
a872 1
	# Each alternative must end in a *, to match a version number.
d874 2
a875 2
	-gnu* | -bsd* | -mach* | -lites* | -minix* | -genix* | -ultrix* | -irix* \
	      | -vms* | -sco* | -esix* | -isc* | -aix* | -sunos | -sunos[345]* \
d877 5
a881 4
	      | -amigados* | -msdos* | -moss* | -newsos* | -unicos* | -aos* \
	      | -nindy* | -vxworks* | -ebmon* | -hms* | -mvs* | -clix* \
	      | -riscos* | -linux* | -uniplus* | -iris* | -rtu* | -xenix* \
	      | -hiux* | -386bsd* | -netbsd* | -openbsd* | -freebsd* | -riscix*  | -lites* \
d883 5
a887 1
	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta | -udi | -eabi*)
d890 3
a892 4
	-go32 | -sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
	      | -windows* | -osx | -abug |  -netware* | -proelf | -os9*)
		;;
	-macos*)					# CYGNUS LOCAL
d894 1
a894 1
	-mac*)						# CYGNUS LOCAL
d897 3
a899 6

	-mpw*)						# CYGNUS LOCAL
		;;
	-pe*)
		;;
	-win32)
d928 3
d990 3
d1017 3
d1026 3
d1051 1
a1051 1
		os=-amigados
d1065 3
d1101 3
d1111 1
a1111 1
		os=-macos7
a1130 6
			-bosx*)				# CYGNUS LOCAL
				vendor=bull
				;;
			-lynxos*)
				vendor=lynx
				;;
d1134 3
d1161 1
a1161 1
			-vxworks*)
d1163 3
@


1.1
log
@Initial revision
@
text
@d464 4
d816 1
a816 1
	      | -hiux* | -386bsd* | -netbsd* | -freebsd* | -riscix*  | -lites* \
@


1.1.1.1
log
@Import of GNU libg++ 2.7.1 port (prepared by Erik Theisen)
@
text
@@


1.1.1.2
log
@libg++ 2.8.0 baseline import
@
text
@d3 1
a3 1
#   Copyright (C) 1991, 92, 93, 94, 95, 96, 1997 Free Software Foundation, Inc.
d6 1
a6 1
# can handle that machine.  It does not imply ALL GNU software can.
d20 1
a20 2
# Foundation, Inc., 59 Temple Place - Suite 330,
# Boston, MA 02111-1307, USA.
a42 2
# or in some cases, the newer four-part form:
#	CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
d64 5
a68 15
# Separate what the user gave into CPU-COMPANY and OS or KERNEL-OS (if any).
# Here we must recognize all the valid KERNEL-OS combinations.
maybe_os=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\2/'`
case $maybe_os in
  linux-gnu*)
    os=-$maybe_os
    basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`
    ;;
  *)
    basic_machine=`echo $1 | sed 's/-[^-]*$//'`
    if [ $basic_machine != $1 ]
    then os=`echo $1 | sed 's/.*-/-/'`
    else os=; fi
    ;;
esac
d83 1
a83 2
	-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \
	-apple)
d91 4
a103 4
	-sco5)
		os=sco3.2v5
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
		;;
d106 1
a106 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
d110 1
a110 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
d114 1
a114 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
d118 1
a118 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
d122 1
a122 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
d128 1
a128 1
		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
a138 3
	-psos*)
		os=-psos
		;;
d145 7
a151 8
	tahoe | i860 | m32r | m68k | m68000 | m88k | ns32k | arc | arm \
		| arme[lb] | pyramid | mn10200 | mn10300 \
		| tron | a29k | 580 | i960 | h8300 | hppa | hppa1.0 | hppa1.1 \
		| alpha | alphaev5 | alphaev56 | we32k | ns16k | clipper \
		| i370 | sh | powerpc | powerpcle | 1750a | dsp16xx | pdp11 \
		| mips64 | mipsel | mips64el | mips64orion | mips64orionel \
		| mipstx39 | mipstx39el \
		| sparc | sparclet | sparclite | sparc64 | v850)
d157 1
a157 13
	mips64vr4300 | mips64vr4300el) # CYGNUS LOCAL jsmith/vr4300
		basic_machine=$basic_machine-unknown
		;;
	mips64vr4100 | mips64vr4100el) # CYGNUS LOCAL jsmith/vr4100
		basic_machine=$basic_machine-unknown
		;;
	mips64vr5000 | mips64vr5000el) # CYGNUS LOCAL ian/vr5000
		basic_machine=$basic_machine-unknown
		;;
	mips16) # CYGNUS LOCAL krk/mips16
		basic_machine=$basic_machine-unknown
		;;
	d10v)				# CYGNUS LOCAL meissner/d10v
a159 6
	# We use `pc' rather than `unknown'
	# because (1) that's what they normally are, and
	# (2) the word "unknown" tends to confuse beginning users.
	i[3456]86)
	  basic_machine=$basic_machine-pc
	  ;;
d166 8
a173 12
	vax-* | tahoe-* | i[3456]86-* | i860-* | m32r-* | m68k-* | m68000-* \
	      | m88k-* | sparc-* | ns32k-* | fx80-* | arc-* | arm-* | c[123]* \
	      | mips-* | pyramid-* | tron-* | a29k-* | romp-* | rs6000-* \
	      | power-* | none-* | 580-* | cray2-* | h8300-* | i960-* \
	      | xmp-* | ymp-* | hppa-* | hppa1.0-* | hppa1.1-* \
	      | alpha-* | alphaev5-* | alphaev56-* | we32k-* | cydra-* \
	      | ns16k-* | pn-* | np1-* | xps100-* | clipper-* | orion-* \
	      | sparclite-* | pdp11-* | sh-* | powerpc-* | powerpcle-* \
	      | sparc64-* | mips64-* | mipsel-* \
	      | mips64el-* | mips64orion-* | mips64orionel-* \
	      | mipstx39-* | mipstx39el-* \
	      | f301-*)
d175 1
a175 1
	m88110-* | m680[01234]0-* | m683?2-* | m68360-* | z8k-* | h8500-* | d10v-*) # CYGNUS LOCAL
d177 1
a177 5
	mips64vr4300-* | mips64vr4300el-*) # CYGNUS LOCAL jsmith/vr4300
		;;
	mips64vr4100-* | mips64vr4100el-*) # CYGNUS LOCAL jsmith/vr4100
		;;
	mips16-*) # CYGNUS LOCAL krk/mips16
d216 1
a216 1
	amigaos | amigados)
d218 1
a218 1
		os=-amigaos
d232 3
a234 3
	aux)
		basic_machine=m68k-apple
		os=-aux
a267 4
	[ctj]90-cray)
		basic_machine=c90-cray
		os=-unicos
		;;
a376 3
	hppa-next)
		os=-nextstep3
		;;
d386 2
a387 2
	i[3456]86v32)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
d390 2
a391 2
	i[3456]86v4*)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
d394 2
a395 2
	i[3456]86v)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
d398 2
a399 2
	i[3456]86sol2)
		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
a441 8
	mipsel*-linux*)
		basic_machine=mipsel-unknown
		os=-linux-gnu
		;;
	mips*-linux*)
		basic_machine=mips-unknown
		os=-linux-gnu
		;;
a504 4
	mon960)						# CYGNUS LOCAL
		basic_machine=i960-intel
		os=-mon960
		;;
d533 2
a534 1
	pentium | p5)
d537 2
a538 4
	pentiumpro | p6)
		basic_machine=i686-intel
		;;
	pentium-* | p5-*)
a540 3
	pentiumpro-* | p6-*)
		basic_machine=i686-`echo $basic_machine | sed 's/^[^-]*-//'`
		;;
d545 1
a545 1
	nexen)
d592 14
a663 6
	tx39)
		basic_machine=mipstx39-unknown
		;;
	tx39el)
		basic_machine=mipstx39el-unknown
		;;
a686 3
	vpp*|vx|vx-*)
               basic_machine=f301-fujitsu
               ;;
d695 4
a698 4
	vxworks29k)
		basic_machine=a29k-wrs
		os=-vxworks
		;;
d731 1
a731 5
		if [ x$os = x-linux-gnu ]; then
			basic_machine=mips-unknown
		else
			basic_machine=mips-mips
		fi
d760 1
a760 1
	mac | mpw | mac-mpw)				# CYGNUS LOCAL
d763 2
a764 2
	pmac | pmac-mpw)				# CYGNUS LOCAL
		basic_machine=powerpc-apple
a788 2
        # First match some system type aliases
        # that might get confused with valid system types.
d800 1
a800 1
		os=`echo $os | sed -e 's|gnu/linux|linux-gnu|'`
d804 1
a804 1
	# Each alternative MUST END IN A *, to match a version number.
d806 2
a807 2
	-gnu* | -bsd* | -mach* | -minix* | -genix* | -ultrix* | -irix* \
	      | -*vms* | -sco* | -esix* | -isc* | -aix* | -sunos | -sunos[34]*\
d809 4
a812 5
	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
	      | -aos* \
	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
	      | -hiux* | -386bsd* | -netbsd* | -openbsd* | -freebsd* | -riscix* \
d814 1
a814 5
	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
	      | -cygwin32* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
	      | -mingw32* | -linux-gnu* | -uxpv*)
	# Remember, each alternative MUST END IN *, to match a version number.
d817 4
a820 3
	-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
	      | -windows* | -osx | -abug |  -netware* | -os9* | -beos* \
	      | -macos* | -mpw* | -magic* | -mon960* | -lnews* )
d822 1
a822 1
	-mac*)
d825 6
a830 3
	# END CYGNUS LOCAL
	-linux*)
		os=`echo $os | sed -e 's|linux|linux-gnu|'`
a858 3
	-ns2 )
	        os=-nextstep2
		;;
a917 3
	arm*-semi)
		os=-aout
		;;
a941 3
        mips*-*)                                        # CYGNUS LOCAL
                os=-elf
                ;;
a947 3
	*-be)						# CYGNUS LOCAL
		os=-beos
		;;
d970 1
a970 1
		os=-amigaos
a983 3
	*-next )
		os=-nextstep
		;;
a1016 3
	f301-fujitsu)
		os=-uxpv
		;;
d1024 1
a1024 1
		os=-macos
d1044 6
a1052 3
			-beos*)						# CYGNUS LOCAL
				vendor=be
				;;
d1077 1
a1077 1
			-vxsim* | -vxworks*)
a1078 3
				;;
			-aux*)
				vendor=apple
@

