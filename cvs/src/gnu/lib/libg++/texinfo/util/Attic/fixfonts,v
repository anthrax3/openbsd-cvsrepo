head	1.4;
access;
symbols
	OPENBSD_2_5:1.3.0.6
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.4
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.2
	OPENBSD_2_3_BASE:1.3
	FSF_2_8_0:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@# @;


1.4
date	99.05.26.16.39.46;	author espie;	state dead;
branches;
next	1.3;

1.3
date	98.03.03.21.50.20;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	98.03.03.20.42.26;	author millert;	state dead;
branches;
next	1.1;

1.1
date	98.03.03.20.25.15;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.03.03.20.25.15;	author millert;	state Exp;
branches;
next	;


desc
@@


1.4
log
@old libg++, replaced by part of egcs.
@
text
@#!/bin/sh
# Make links named `lcircle10' for all TFM and GF/PK files, if no
# lcircle10 files already exist.

# Don't override definition of prefix and/or libdir if they are
# already defined in the environment. 
if test "z${prefix}" = "z" ; then
  prefix=/usr/local
else
  # prefix may contain references to other variables, thanks to make.
  eval prefix=\""${prefix}"\"
fi

if test "z${libdir}" = "z" ; then
  libdir="${prefix}/lib/tex"
else
  # libdir may contain references to other variables, thanks to make.
  eval libdir=\""${libdir}"\"
fi

texlibdir="${libdir}"
texfontdir="${texlibdir}/fonts"

# Directories for the different font formats, in case they're not all
# stored in one place.
textfmdir="${textfmdir-${texfontdir}}"
texpkdir="${texpkdir-${texfontdir}}"
texgfdir="${texgfdir-${texfontdir}}"

test "z${TMPDIR}" = "z" && TMPDIR="/tmp"

tempfile="${TMPDIR}/circ$$"
tempfile2="${TMPDIR}/circ2$$"

# EXIT SIGHUP SIGINT SIGQUIT SIGTERM
#trap 'rm -f "${tempfile}" "${tempfile2}"' 0 1 2 3 15

# Find all the fonts with names that include `circle'.
(cd "${texfontdir}"; find . -name '*circle*' -print > "${tempfile}")

# If they have lcircle10.tfm, assume everything is there, and quit.
if grep 'lcircle10\.tfm' "${tempfile}" > /dev/null 2>&1 ; then
  echo "Found lcircle10.tfm."
  exit 0
fi

# No TFM file for lcircle.  Make a link to circle10.tfm if it exists,
# and then make a link to the bitmap files.
grep 'circle10\.tfm' "${tempfile}" > "${tempfile2}" \
 || {
  echo "I can't find any circle fonts in ${texfontdir}.
If it isn't installed somewhere else, you need to get the Metafont sources
from somewhere, e.g., labrea.stanford.edu:pub/tex/latex/circle10.mf, and
run Metafont on them."
  exit 1
 }

# We have circle10.tfm.  (If we have it more than once, take the first
# one.)  Make the link.
tempfile2_line1="`sed -ne '1p;q' \"${tempfile2}\"`"
ln "${tempfile2_line1}" "${textfmdir}/lcircle10.tfm"
echo "Linked to ${tempfile2_line1}."

# Now make a link for the PK files, if any.
(cd "${texpkdir}"
 for f in `grep 'circle10.*pk' "${tempfile}"` ; do
    set - `echo "$f" \
            | sed -ne '/\//!s/^/.\//;s/\(.*\)\/\([^\/][^\/]*\)$/\1 \2/;p'`
    ln "$f" "${1}/l${2}"
    echo "Linked to $f."
 done
)

# And finally for the GF files.
(cd "${texgfdir}"
 for f in `grep 'circle10.*gf' "${tempfile}"` ; do
    set - `echo "$f" \
            | sed -ne '/\//!s/^/.\//;s/\(.*\)\/\([^\/][^\/]*\)$/\1 \2/;p'`
    ln "$f" "${1}/l${2}"
    echo "Linked to $f."
 done
)

# eof
@


1.3
log
@libg++ 2.8.0 from FSF + changes to build in an OpenBSD environment
@
text
@@


1.2
log
@Files from libg++ 2.8.0 that cvs erroneously placed in the trunk.
@
text
@@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@libg++ 2.8.0 baseline import
@
text
@@

