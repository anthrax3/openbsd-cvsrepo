head	1.2;
access;
symbols
	OPENBSD_2_5:1.1.1.1.0.12
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.10
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.8
	OPENBSD_2_3_BASE:1.1.1.1
	FSF_2_8_0:1.1.1.1
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	FSF_2_7_1:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@# @;


1.2
date	99.05.26.16.37.39;	author espie;	state dead;
branches;
next	1.1;

1.1
date	96.03.15.22.20.00;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.03.15.22.20.00;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.2
log
@old libg++, replaced by part of egcs.
@
text
@# This file is a shell script fragment that supplies the information
# necessary for a configure script to process the program in
# this directory.  For more information, look at ../configure.

configdirs=
srctrigger=stdio.h
srcname="libio/stdio"
package_makefile_frag=../Make.pack

# per-host:

# per-target:

LIBDIR=yes
TO_TOPDIR=../../
ALL=nothing
MOSTLYCLEAN='*.o pic stamp-picdir core stdio.list'
(. ${srcdir}/../config.shared) >${package_makefile_frag}

# post-target:

# Certain files that are used to build a C library (such as fprintf.o)
# are compled from the same sources as the ioXXX versions (such as ioprintf.c).
# These lines add the appropriate rules.
# NOTE: We assume a C compiler that where -o with -c works.
# But these files are not built by default anyway ...

# TODO: remove rename tmpfile tmpnam

stdio_renames="fclose fflush fgetpos fgets fopen fprintf fputs fread \
  fscanf fsetpos ftell fwrite getdelim gets perror printf puts \
  scanf setbuffer setvbuf sprintf sscanf ungetc vsprintf vsscanf"
stdio_objects=""

for file in $stdio_renames ; do
  cat >>Makefile <<EOF
$file.o: \$(srcdir)/../io$file.c
	if [ -n "\$(PICFLAG)" ]; then \\
	  \$(CC_FOR_STDIO) \$(CFLAGS) \$(CINCLUDES) \$(PICFLAG) -c \\
	  \$(srcdir)/../io$file.c -D_IO_$file=$file -o pic/$file.o; \\
	fi
	\$(CC_FOR_STDIO) \$(CFLAGS) \$(CINCLUDES) -c \\
	  \$(srcdir)/../io$file.c -D_IO_$file=$file -o $file.o
EOF
  stdio_objects="$stdio_objects $file.o"
done
sed -e "/STDIO_RENAMED_OBJECTS =/s/=.*/=${stdio_objects}/" <Makefile >tmp
mv -f tmp Makefile
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Import of GNU libg++ 2.7.1 port (prepared by Erik Theisen)
@
text
@@

