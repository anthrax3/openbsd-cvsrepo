head	1.2;
access;
symbols
	OPENBSD_2_5:1.1.1.2.0.6
	OPENBSD_2_5_BASE:1.1.1.2
	OPENBSD_2_4:1.1.1.2.0.4
	OPENBSD_2_4_BASE:1.1.1.2
	OPENBSD_2_3:1.1.1.2.0.2
	OPENBSD_2_3_BASE:1.1.1.2
	FSF_2_8_0:1.1.1.2
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	FSF_2_7_1:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@# @;


1.2
date	99.05.26.16.38.51;	author espie;	state dead;
branches;
next	1.1;

1.1
date	96.03.15.22.20.39;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.03.15.22.20.39;	author niklas;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	98.03.03.20.24.55;	author millert;	state Exp;
branches;
next	;


desc
@@


1.2
log
@old libg++, replaced by part of egcs.
@
text
@# This file is a shell script fragment that supplies the information
# necessary for a configure script to process the program in
# this directory.  For more information, look at ../../configure.

configdirs=
srctrigger=tcomplex.cc
srcname="tests for ANSI C++ library"
package_makefile_frag=Make.pack

# per-host:

# per-target:

target_makefile_frag=../target-mkfrag

TO_TOPDIR=../../
ALL=' '
XCXXINCLUDES="-I${srcdir}/.. -I${srcdir}/../stl -I${TO_TOPDIR}libio -I${srcdir}/${TO_TOPDIR}libio"
SIMPLE_TESTS='tstring tlist tmap tvector'
TESTS="tcomplex ${SIMPLE_TESTS}"
MOSTLYCLEAN="*.o core ${TESTS} *.out"
(. ${srcdir}/${TO_TOPDIR}libio/config.shared) >${package_makefile_frag}

# post-target:

CHECK=""

for TEST in ${SIMPLE_TESTS} ; do
  echo "${TEST}: ${TEST}.o" '$(DEPLIBS)
	$(CXX) -o' "${TEST} ${TEST}.o" '$(LDLIBS)
' >> Makefile
done

for TEST in ${TESTS} ; do
  echo ".PHONY: check-${TEST}" >>Makefile
  if [ -f ${srcdir}/${TEST}.inp ] ; then
    echo "check-${TEST}: ${TEST}" '$(srcdir)'"/${TEST}.inp
	./${TEST} < "'$(srcdir)'"/${TEST}.inp > ${TEST}.out 2>&1" >>Makefile
  else
    echo "check-${TEST}: ${TEST}
	./${TEST} > ${TEST}.out 2>&1"  >>Makefile
  fi
  echo '	diff -c $(srcdir)/'"${TEST}.exp ${TEST}.out"  >>Makefile
  CHECK="${CHECK} check-${TEST}"
done
echo "
check: ${CHECK}" >>Makefile


@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Import of GNU libg++ 2.7.1 port (prepared by Erik Theisen)
@
text
@@


1.1.1.2
log
@libg++ 2.8.0 baseline import
@
text
@d30 1
a30 1
	$(CXX) $(CXXFLAGS) -o' "${TEST} ${TEST}.o" '$(LDLIBS)
d46 1
a46 6
if [ -d ${srcdir}/../../gcc ] ; then
  echo "
check:
check-old: ${CHECK}" >>Makefile
else
  echo "
a47 1
fi
@

