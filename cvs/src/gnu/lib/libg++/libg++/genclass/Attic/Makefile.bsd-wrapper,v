head	1.3;
access;
symbols
	OPENBSD_2_5:1.2.0.10
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.8
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.6
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.4
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.2
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.1.0.2
	OPENBSD_2_0_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	99.05.26.16.34.32;	author espie;	state dead;
branches;
next	1.2;

1.2
date	97.04.27.20.55.50;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	96.03.16.05.18.47;	author etheisen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@old libg++, replaced by part of egcs.
@
text
@#	$OpenBSD: Makefile.bsd-wrapper,v 1.2 1997/04/27 20:55:50 millert Exp $

PROG=		genclass
SRCS=	
NOMAN=
CLEANFILES+=	genclass.tmp sedscript my.out

install:
	install ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
		${PROG} ${DESTDIR}/usr/bin

tags:

GXX_INCLUDEDIR=	/usr/include/g++

genclass: genclass.sh
	echo "/^PROTODIR=/c\\" > sedscript
	echo "PROTODIR=$$\{PROTODIR-$(GXX_INCLUDEDIR)/gen\}" >> sedscript
	sed <$(.CURDIR)/../Makefile.bsd-wrapper -n -e '/VERSION/s/LIBG++_DIST_VERSION *= *\(.*\)/s|<VERSION>|\1|/p' >> sedscript
	sed -f sedscript < $(.CURDIR)/genclass.sh > genclass.tmp
	chmod 0755 genclass.tmp
	rm -f sedscript
	mv genclass.tmp genclass

gentest: gentest.sh expected.out
	$(.CURDIR)/gentest.sh > my.out 2>&1
	diff $(.CURDIR)/expected.out my.out

.include <bsd.prog.mk>
@


1.2
log
@COPY -> INSTALL_COPY and STRIP -> INSTALL_STRIP
This fixes namespace problems where STRIP is sometimes used as
the name of the strip(1) to use and other times used as
the flag to send install(1) when stripping (or not).
COPY doesn't have this problem (yet) but was poorly named.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.1 1996/03/16 05:18:47 etheisen Exp $
@


1.1
log
@Allow native BSD build of libg++ 2.7.1.  This is a complete replacement of
the GNU build procedure, not a wrapper.  Generates standard, profiled,
shared object, and shared library versions of libiberty, libstdc++, and
libg++.  libiberty version 0.0, libstdc++ version 27.1, and libg++ version
27.1.  Requires modification of bsd.subdir.mk pmake include.  Targets
linked with the shared libraries libstdc++ and libg++ will, by default,
automatically be run time linked with libm and libcurses.
@
text
@d1 1
a1 1
#	$OpenBSD$
d9 1
a9 1
	install ${COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
@
