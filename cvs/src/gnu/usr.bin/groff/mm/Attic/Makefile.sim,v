head	1.2;
access;
symbols
	groff_1_15:1.1.1.3
	OPENBSD_2_0:1.1.1.2.0.2
	OPENBSD_2_0_BASE:1.1.1.2
	mgm_1_29:1.1.1.2
	mgm_1_28:1.1.1.1
	gnu:1.1.1;
locks; strict;
comment	@# @;


1.2
date	97.04.22.14.07.30;	author kstailey;	state dead;
branches;
next	1.1;

1.1
date	96.09.15.01.48.06;	author etheisen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.09.15.01.48.06;	author etheisen;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	96.09.15.01.56.32;	author etheisen;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2000.04.09.07.58.33;	author millert;	state Exp;
branches;
next	;


desc
@@


1.2
log
@GNU Groff 1.10 exhaustively tested.
Jason, thanks for a good foundation to build on, but mine works better.
@
text
@#
# $Id: Makefile.sim,v 1.1 1996/09/15 01:48:06 etheisen Exp $
#
# To install mgm separately as tmac.gm:
# make -f Makefile.sub tmacdir=/usr/local/lib/groff/tmac srcdir=. \
#	INSTALL_DATA='install -m 644' tmac_m=gm install
#
# or as tmac.m:
#
# tmacdir is the destination for your groff/tmac-directory, srcdir is
# this directory and INSTALL_DATA is the command to install a file with.
# If you dont have 'install': use 'cp'.


# change this to whatever you like
tmacdir=/usr/local/lib/groff/tmac
#tmac_m = gm
tmac_m = m
indexdir = xx
install = install -m 644

# Do not change anything below this line
srcdir = .
version = 1.28
mdate = 1996-05-15

.SUFFIXES: .n .man

all:


install: groff_mm.n groff_mmse.n
	$(MAKE) -f Makefile.sub tmacdir=$(tmacdir) srcdir=$(srcdir) \
		INSTALL_DATA='$(install)' tmac_m=$(tmac_m) install

 uninstall: groff_mm.n groff_mmse.n
      $(MAKE) -f Makefile.sub tmacdir=$(tmacdir) srcdir=$(srcdir) \
              INSTALL_DATA='$(install)' tmac_m=$(tmac_m) uninstall_sub


.man.n:
	@@echo Making $@@ from $<
	@@-rm -f $@@
	@@sed -e "s;@@HYPHENFILE@@;$(hyphenfile);g" \
	-e "s;@@FONTDIR@@;$(fontdir);g" \
	-e "s;@@FONTPATH@@;$(fontpath);g" \
	-e "s;@@MACRODIR@@;$(tmacdir);g" \
	-e "s;@@MACROPATH@@;$(tmacpath);g" \
	-e "s;@@DEVICE@@;$(DEVICE);g" \
	-e "s;@@DEFAULT_INDEX@@;$(indexdir)/$(indexname);g" \
	-e "s;@@DEFAULT_INDEX_NAME@@;$(indexname);g" \
	-e "s;@@INDEX_SUFFIX@@;$(indexext);g" \
	-e "s;@@COMMON_WORDS_FILE@@;$(common_words_file);g" \
	-e "s;@@MAN1EXT@@;$(man1ext);g" \
	-e "s;@@MAN5EXT@@;$(man5ext);g" \
	-e "s;@@MAN7EXT@@;$(man7ext);g" \
	-e "s;@@TMAC_S@@;$(tmac_s);g" \
	-e "s;@@TMAC_M@@;$(tmac_m);g" \
	-e "s;@@TMAC_MDIR@@;$(tmacdir)/mm;g" \
	-e "s;@@BROKEN_SPOOLER_FLAGS@@;$(BROKEN_SPOOLER_FLAGS);g" \
	-e "s;@@VERSION@@;$(version);g" \
	-e "s;@@MDATE@@;$(mdate);g" \
	-e "s;@@g@@;$(g);g" \
	-e "s;@@G@@;`echo $(g) | tr [a-z] [A-Z]`;g" \
	$< >$@@

@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# $Id: Makefile.sim,v 1.28 1996/05/15 05:39:32 jh Exp $
@


1.1.1.1
log
@Updated mm (mgm) macros
@
text
@@


1.1.1.2
log
@Updated mm (mgm) macros
@
text
@d2 1
a2 1
# $Id: Makefile.sim,v 1.29 1996/09/06 05:13:07 jh Exp $
d24 2
a25 2
version = 1.29
mdate = 1996-09-06
@


1.1.1.3
log
@groff 1.15
@
text
@d2 1
a2 1
# $Id: Makefile.sim,v 1.32 1999/09/03 05:33:14 jh Exp $
d24 2
a25 2
version = 1.32
mdate = 1999-09-03
@

