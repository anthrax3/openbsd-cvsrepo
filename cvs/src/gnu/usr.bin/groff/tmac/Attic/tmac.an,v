head	1.3;
access;
symbols
	OPENBSD_4_9:1.2.0.4
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.1.2.0.40
	OPENBSD_4_7_BASE:1.1.1.2
	OPENBSD_4_6:1.1.1.2.0.42
	OPENBSD_4_6_BASE:1.1.1.2
	OPENBSD_4_5:1.1.1.2.0.38
	OPENBSD_4_5_BASE:1.1.1.2
	OPENBSD_4_4:1.1.1.2.0.36
	OPENBSD_4_4_BASE:1.1.1.2
	OPENBSD_4_3:1.1.1.2.0.34
	OPENBSD_4_3_BASE:1.1.1.2
	OPENBSD_4_2:1.1.1.2.0.32
	OPENBSD_4_2_BASE:1.1.1.2
	OPENBSD_4_1:1.1.1.2.0.30
	OPENBSD_4_1_BASE:1.1.1.2
	OPENBSD_4_0:1.1.1.2.0.28
	OPENBSD_4_0_BASE:1.1.1.2
	OPENBSD_3_9:1.1.1.2.0.26
	OPENBSD_3_9_BASE:1.1.1.2
	OPENBSD_3_8:1.1.1.2.0.24
	OPENBSD_3_8_BASE:1.1.1.2
	OPENBSD_3_7:1.1.1.2.0.22
	OPENBSD_3_7_BASE:1.1.1.2
	OPENBSD_3_6:1.1.1.2.0.20
	OPENBSD_3_6_BASE:1.1.1.2
	OPENBSD_3_5:1.1.1.2.0.18
	OPENBSD_3_5_BASE:1.1.1.2
	OPENBSD_3_4:1.1.1.2.0.16
	OPENBSD_3_4_BASE:1.1.1.2
	OPENBSD_3_3:1.1.1.2.0.14
	OPENBSD_3_3_BASE:1.1.1.2
	OPENBSD_3_2:1.1.1.2.0.12
	OPENBSD_3_2_BASE:1.1.1.2
	OPENBSD_3_1:1.1.1.2.0.10
	OPENBSD_3_1_BASE:1.1.1.2
	OPENBSD_3_0:1.1.1.2.0.8
	OPENBSD_3_0_BASE:1.1.1.2
	OPENBSD_2_9:1.1.1.2.0.6
	OPENBSD_2_9_BASE:1.1.1.2
	OPENBSD_2_8:1.1.1.2.0.4
	OPENBSD_2_8_BASE:1.1.1.2
	OPENBSD_2_7:1.1.1.2.0.2
	OPENBSD_2_7_BASE:1.1.1.2
	groff_1_15:1.1.1.2
	OPENBSD_2_6:1.1.1.1.0.14
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.12
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.10
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.8
	OPENBSD_2_3_BASE:1.1.1.1
	groff_1_11a:1.1.1
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	groff_1_10:1.1.1.1
	gnu:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2011.03.12.19.04.02;	author schwarze;	state dead;
branches;
next	1.2;

1.2
date	2010.06.05.19.09.55;	author schwarze;	state Exp;
branches;
next	1.1;

1.1
date	96.09.14.19.01.50;	author etheisen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.09.14.19.01.50;	author etheisen;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2000.04.09.07.58.30;	author millert;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Replaced by mandoc(1) for base and xenocara purposes,
and comes with 4.9 ports.
ok deraadt@@
@
text
@.\"Copyright (C) 1989, 1990, 1991, 1992 Free Software Foundation, Inc.
.\"     Written by James Clark (jjc@@jclark.com)
.\"
.\"This file is part of groff.
.\"
.\"groff is free software; you can redistribute it and/or modify it under
.\"the terms of the GNU General Public License as published by the Free
.\"Software Foundation; either version 2, or (at your option) any later
.\"version.
.\"
.\"groff is distributed in the hope that it will be useful, but WITHOUT ANY
.\"WARRANTY; without even the implied warranty of MERCHANTABILITY or
.\"FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
.\"for more details.
.\"
.\"You should have received a copy of the GNU General Public License along
.\"with groff; see the file COPYING.  If not, write to the Free Software
.\"Foundation, 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
.\"
.\" -rC1 => number pages continuously, rather than start each at 1
.\" -rD1 => double-sided printing, ie different odd and even page footers
.\" -rPnnn => number first page nnn
.\" -rXnnn => number pages after nnn as nnna, nnnb, nnnc, ...
.\"
.\" The file man.local is loaded at the end.  Put local additions there.
.\" If you need to add things to TH, use `.am TH'.
.\"
.if !\n(.g .ab These man macros work only with groff.
.nr _C \n(.C
.cp 0
.if !rD .nr D 0
.if !rC .nr C 0
.if rP .pn 0\nP
.de set-an-margin
.  ie '\*(.T'html' \{\
.    nr an-margin 0i
.  \}
.  el \{\
.    nr an-margin \\n[IN]
.  \}
..
.\" .TH title section extra1 extra2 extra3
.de TH
.cp 0
.de an-init \" We have to do it like this to get multiple man pages right.
.ds an-title "\\$1
.ds an-section "\\$2
.ds an-extra1 "\\$3
.ie \\n[.$]>3 .ds an-extra2 "\\$4
.el .ds an-extra2 \"Sun Release 4.0
.ie \\n[.$]>4 .ds an-extra3 "\\$5
.el .ds an-extra3 \"System Programmer's Manual
.ds an-init
\\..
.DT
.ie '\*(.T'html' \{\
.  nr IN 1.3i
.\}
.el \{\
.  nr IN 7.2n
.\}
.if n \{\
.  nr ll 78n
.  ll 78n
.  nr lt 78n
.  lt 78n
.\}
.el \{\
.  nr ll 6.5i
.  ll 6.5i
.  nr lt 6.5i
.  lt 6.5i
.\}
.PD
.nr PS 10 \" normal point-size
.nr SN 3n \" the indentation of sub-sub-headings relative to sub-headings
.nr an-level 1
.set-an-margin
.nr an-prevailing-indent \\n[IN]
.nr an-tag-sep 1n
.nr an-no-space-flag 0
.nr an-break-flag 0
.nr an-div? 0
.wh 0 an-header
.wh -1i an-footer
.wh -.5i an-p-footer
.if \\n[nl]>0 \{\
.	ie \\nC .bp \\n%+1
.	el .bp 1
.\}
..
.de DT
.ta T .5i \" This sets tabs every .5 inches
..
.de PD
.ie \\n[.$] .nr PD (v;\\$1)
.el .nr PD .4v>?\n[.V]
..
.de an-header
.an-init
.ev 1
.ie '\*(.T'html' \{\
.   tl ''''
.\}
.el \{\
.   sp .5i
.   tl '\\*[an-title](\\*[an-section])'\\*[an-extra3]'\\*[an-title](\\*[an-section])'
.   sp |1i
.\}
.ev
.ns
..
.de an-footer
'bp
..
.af an-page-letter a
.de an-p-footer
.ev 1
.ie '\*(.T'html' \{\
.   ds an-page-string "
.   ds an-extra1      "
.   ds an-extra2      "
.\}
.el .ds an-page-string \\n%
.if rX \{\
.	if \\n%>\\nX \{\
.		nr an-page-letter \\n%-\\nX
.		ds an-page-string \\nX\\n[an-page-letter]
.\}\}
.ie \\nD \{\
.	if o .tl '\\*[an-extra2]'\\*[an-extra1]'\\*[an-page-string]'
.	if e .tl '\\*[an-page-string]'\\*[an-extra1]'\\*[an-extra2]'
.\}
.el .tl '\\*[an-extra2]'\\*[an-extra1]'\\*[an-page-string]'
.if '\*(.T'html' \{\
.	tl ''''
.\}
.ev
..
.de SH
.sp \\n[PD]u
.nr an-level 1
.set-an-margin
.nr an-prevailing-indent \\n[IN]
.fi
.in \\n[an-margin]u
.ti 0
.it 1 an-trap
.nr an-no-space-flag 1
.nr an-break-flag 1
.ps \\n[PS]-1
.ft B
.ne 2v+1u
.if \\n[.$] \&\\$*
..
.de SS
.sp \\n[PD]u
.nr an-level 1
.set-an-margin
.nr an-prevailing-indent \\n[IN]
.fi
.in \\n[IN]u
.ti \\n[SN]u
.it 1 an-trap
.nr an-no-space-flag 1
.nr an-break-flag 1
.ps \\n[PS]
.ft B
.ne 2v+1u
.if \\n[.$] \&\\$*
..
.de B
.it 1 an-trap
.ft B
.if \\n[.$] \&\\$*
..
.de I
.it 1 an-trap
.ft I
.if \\n[.$] \&\\$*
..
.de SM
.it 1 an-trap
.ps -1
.if \\n[.$] \&\\$*
..
.de SB
.it 1 an-trap
.ps -1
.ft B
.if \\n[.$] \&\\$*
..
.de TP
.sp \\n[PD]u
.if \\n[.$] .nr an-prevailing-indent (n;\\$1)
.it 1 an-trap
.if !\\n[an-div?] .di an-div
.in 0
.nr an-div? 1
..
.de an-trap
.ft R
.ps \\n[PS]
.if \\n[an-break-flag] \{\
.	br
.	nr an-break-flag 0
.\}
.if \\n[an-no-space-flag] \{\
.	ns
.	nr an-no-space-flag 0
.\}
.if \\n[an-div?] .an-do-tag
..
.de an-do-tag
.nr an-div? 0
.br
.di
.ie \\n[dl]+\\n[an-tag-sep]>\\n[an-prevailing-indent] \{\
.	in \\n[an-margin]u
.	ne 2v+1u
.	an-div
.	br
.	in \\n[an-margin]u+\\n[an-prevailing-indent]u
.\}
.el \{\
.	in \\n[an-margin]u+\\n[an-prevailing-indent]u
.	ti -\\n[an-prevailing-indent]u
.	chop an-div
.	ne 1v+1u
\\*[an-div]\\h'|\\n[an-prevailing-indent]u'\c
.\}
..
.de LP
.br
.sp \\n[PD]u
.ps \\n[PS]
.ft R
.in \\n[an-margin]u
.nr an-prevailing-indent \\n[IN]
..
.als PP LP
.als P LP
.de IP
.ie !\\n[.$] \{\
.	ps \\n[PS]
.	ft R
.	sp \\n[PD]u
.	ne 1v+1u
.	in \\n[an-margin]u+\\n[an-prevailing-indent]u
.\}
.el \{\
.	ie \\n[.$]-1 .TP "\\$2"
.	el .TP
\&\\$1
.\}
..
.de HP
.ps \\n[PS]
.ft R
.sp \\n[PD]u
.ne 1v+1u
.if \\n[.$] .nr an-prevailing-indent (n;\\$1)
.in \\n[an-margin]u+\\n[an-prevailing-indent]u
.ti \\n[an-margin]u
..
.ds an-empty \" this is referenced to avoid looping on eg .RB ( \\ )
.de RI
.if \\n[.$] \{\
.	ds an-result \&\\$1
.	shift
.	while \\n[.$]>=2 \{\
.		as an-result \,\fI\\$1\fR\/\\$2\\*[an-empty]
.		shift 2
.	\}
.	if \\n[.$] .as an-result \,\fI\\$1\fR
\\*[an-result]
.\}
..
.de IR
.if \\n[.$] \{\
.	ds an-result \&\fI\\$1\fR
.	shift
.	while \\n[.$]>=2 \{\
.		as an-result \/\\$1\fI\,\\$2\fR
.		shift 2
.	\}
.	if \\n[.$] .as an-result \/\\$1
\\*[an-result]
.\}
..
.de IB
.if \\n[.$] \{\
.	ds an-result \&\fI\\$1
.	shift
.	while \\n[.$]>=2 \{\
.		as an-result \/\\fB\\$1\fI\,\\$2\\*[an-empty]
.		shift 2
.	\}
.	if \\n[.$] .as an-result \/\\fB\\$1
\\*[an-result]
.	ft R
.\}
..
.de BI
.if \\n[.$] \{\
.	ds an-result \&\fB\\$1
.	shift
.	while \\n[.$]>=2 \{\
.		as an-result \,\fI\\$1\fB\/\\$2\\*[an-empty]
.		shift 2
.	\}
.	if \\n[.$] .as an-result \,\fI\\$1
\\*[an-result]
.	ft R
.\}
..
.de RB
.ds an-result \&
.while \\n[.$]>=2 \{\
.	as an-result \fR\\$1\fB\\$2\\*[an-empty]
.	shift 2
.\}
.if \\n[.$] .as an-result \fR\\$1
\\*[an-result]
.ft R
..
.de BR
.ds an-result \&
.while \\n[.$]>=2 \{\
.	as an-result \fB\\$1\fR\\$2\\*[an-empty]
.	shift 2
.\}
.if \\n[.$] .as an-result \fB\\$1
\\*[an-result]
.ft R
..
.de RS
.br
.nr an-saved-margin\\n[an-level] \\n[an-margin]
.nr an-saved-prevailing-indent\\n[an-level] \\n[an-prevailing-indent]
.ie \\n[.$] .nr an-margin +(n;\\$1)
.el .nr an-margin +\\n[an-prevailing-indent]
.in \\n[an-margin]u
.nr an-prevailing-indent \\n[IN]
.nr an-level +1
..
.de RE
.br
.ie \\n[.$] .nr an-level (;\\$1)<?\\n[an-level]
.el .nr an-level -1
.nr an-level 1>?\\n[an-level]
.nr an-margin \\n[an-saved-margin\\n[an-level]]
.nr an-prevailing-indent \\n[an-saved-prevailing-indent\\n[an-level]]
.in \\n[an-margin]u
..
.ds S \s[\\n[PS]]
.ie c\[rg] .ds R \[rg]
.el .ds R (Reg.)
.ie c\[tm] .ds Tm \[tm]
.el .ds Tm (TM)
.ds lq \(lq
.ds rq \(rq
.hy 14
.\" Load local modifications.
.mso man.local
.cp \n(_C
@


1.2
log
@Increase the -man -Tascii text width from 65 to 78 characters
in both our old in-tree groff and in mandoc, because
1) It looks and reads better.
2) It agrees with both bsd.lv mandoc and with modern groff.
The tmac.an part was done by millert@@, with a minor fix by me.

While touching our old groff, switch off hyphenation, suggested a long
time ago by millert@@.  It helps searching and comparisons.

While touching mandoc terminal_man(), explicitely initialize the
tabwidth - not strictly required, but easier to understand
and more robust, also suggested by millert@@.

General mumbling of agreement by many,
including millert@@ deraadt@@ jmc@@ sobrado@@ ...

Remaining problem:
Setting the title length (.lt) has no effect for me,
but we can fix this in tree in case anybody figures it out.
@
text
@@


1.1
log
@Initial revision
@
text
@d34 8
d52 1
a52 1
.el .ds an-extra3 \"UNIX Programmer's Manual
d56 18
a73 2
.nr IN 7.2n
.nr LL 6.5i
d78 1
a78 1
.nr an-margin \\n[IN]
d102 8
a109 3
.sp .5i
.tl '\\*[an-title](\\*[an-section])'\\*[an-extra3]'\\*[an-title](\\*[an-section])'
.sp |1i
d119 6
a124 1
.ds an-page-string \\n%
d135 3
d143 1
a143 1
.nr an-margin \\n[IN]
d146 1
a146 1
.in \\n[IN]u
d159 1
a159 1
.nr an-margin \\n[IN]
a217 2
.in \\n[an-margin]u+\\n[an-prevailing-indent]u
.ti -\\n[an-prevailing-indent]u
d219 1
d223 1
d226 2
@


1.1.1.1
log
@Third time because import sucks.
@
text
@@


1.1.1.2
log
@groff 1.15
@
text
@a33 8
.de set-an-margin
.  ie '\*(.T'html' \{\
.    nr an-margin 0i
.  \}
.  el \{\
.    nr an-margin \\n[IN]
.  \}
..
d44 1
a44 1
.el .ds an-extra3 \"System Programmer's Manual
d48 1
a48 6
.ie '\*(.T'html' \{\
.  nr IN 1.3i
.\}
.el \{\
.  nr IN 7.2n
.\}
d54 1
a54 1
.set-an-margin
d78 3
a80 8
.ie '\*(.T'html' \{\
.   tl ''''
.\}
.el \{\
.   sp .5i
.   tl '\\*[an-title](\\*[an-section])'\\*[an-extra3]'\\*[an-title](\\*[an-section])'
.   sp |1i
.\}
d90 1
a90 6
.ie '\*(.T'html' \{\
.   ds an-page-string "
.   ds an-extra1      "
.   ds an-extra2      "
.\}
.el .ds an-page-string \\n%
a100 3
.if '\*(.T'html' \{\
.	tl ''''
.\}
d106 1
a106 1
.set-an-margin
d109 1
a109 1
.in \\n[an-margin]u
d122 1
a122 1
.set-an-margin
d181 2
a183 1
.	in \\n[an-margin]u
a186 1
.	in \\n[an-margin]u+\\n[an-prevailing-indent]u
a188 2
.	in \\n[an-margin]u+\\n[an-prevailing-indent]u
.	ti -\\n[an-prevailing-indent]u
@

