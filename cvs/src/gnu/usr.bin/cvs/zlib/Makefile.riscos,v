head	1.1;
branch	1.1.1;
access;
symbols
	OPENBSD_6_2:1.1.1.2.0.68
	OPENBSD_6_2_BASE:1.1.1.2
	OPENBSD_6_1:1.1.1.2.0.66
	OPENBSD_6_1_BASE:1.1.1.2
	OPENBSD_6_0:1.1.1.2.0.62
	OPENBSD_6_0_BASE:1.1.1.2
	OPENBSD_5_9:1.1.1.2.0.58
	OPENBSD_5_9_BASE:1.1.1.2
	OPENBSD_5_8:1.1.1.2.0.60
	OPENBSD_5_8_BASE:1.1.1.2
	OPENBSD_5_7:1.1.1.2.0.52
	OPENBSD_5_7_BASE:1.1.1.2
	OPENBSD_5_6:1.1.1.2.0.56
	OPENBSD_5_6_BASE:1.1.1.2
	OPENBSD_5_5:1.1.1.2.0.54
	OPENBSD_5_5_BASE:1.1.1.2
	OPENBSD_5_4:1.1.1.2.0.50
	OPENBSD_5_4_BASE:1.1.1.2
	OPENBSD_5_3:1.1.1.2.0.48
	OPENBSD_5_3_BASE:1.1.1.2
	OPENBSD_5_2:1.1.1.2.0.46
	OPENBSD_5_2_BASE:1.1.1.2
	OPENBSD_5_1_BASE:1.1.1.2
	OPENBSD_5_1:1.1.1.2.0.44
	OPENBSD_5_0:1.1.1.2.0.42
	OPENBSD_5_0_BASE:1.1.1.2
	OPENBSD_4_9:1.1.1.2.0.40
	OPENBSD_4_9_BASE:1.1.1.2
	OPENBSD_4_8:1.1.1.2.0.38
	OPENBSD_4_8_BASE:1.1.1.2
	OPENBSD_4_7:1.1.1.2.0.34
	OPENBSD_4_7_BASE:1.1.1.2
	OPENBSD_4_6:1.1.1.2.0.36
	OPENBSD_4_6_BASE:1.1.1.2
	OPENBSD_4_5:1.1.1.2.0.32
	OPENBSD_4_5_BASE:1.1.1.2
	OPENBSD_4_4:1.1.1.2.0.30
	OPENBSD_4_4_BASE:1.1.1.2
	OPENBSD_4_3:1.1.1.2.0.28
	OPENBSD_4_3_BASE:1.1.1.2
	OPENBSD_4_2:1.1.1.2.0.26
	OPENBSD_4_2_BASE:1.1.1.2
	OPENBSD_4_1:1.1.1.2.0.24
	OPENBSD_4_1_BASE:1.1.1.2
	OPENBSD_4_0:1.1.1.2.0.22
	OPENBSD_4_0_BASE:1.1.1.2
	OPENBSD_3_9:1.1.1.2.0.20
	OPENBSD_3_9_BASE:1.1.1.2
	OPENBSD_3_8:1.1.1.2.0.18
	OPENBSD_3_8_BASE:1.1.1.2
	OPENBSD_3_7:1.1.1.2.0.16
	OPENBSD_3_7_BASE:1.1.1.2
	OPENBSD_3_6:1.1.1.2.0.14
	OPENBSD_3_6_BASE:1.1.1.2
	OPENBSD_3_5:1.1.1.2.0.12
	OPENBSD_3_5_BASE:1.1.1.2
	OPENBSD_3_4:1.1.1.2.0.10
	OPENBSD_3_4_BASE:1.1.1.2
	OPENBSD_3_3:1.1.1.2.0.8
	OPENBSD_3_3_BASE:1.1.1.2
	OPENBSD_3_2:1.1.1.2.0.6
	OPENBSD_3_2_BASE:1.1.1.2
	OPENBSD_3_1:1.1.1.2.0.4
	OPENBSD_3_1_BASE:1.1.1.2
	OPENBSD_3_0:1.1.1.2.0.2
	OPENBSD_3_0_BASE:1.1.1.2
	cvs-1-11-1p1:1.1.1.2
	OPENBSD_2_9:1.1.1.1.0.18
	OPENBSD_2_9_BASE:1.1.1.1
	cvs-1-11:1.1.1.1
	OPENBSD_2_8:1.1.1.1.0.16
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.14
	OPENBSD_2_7_BASE:1.1.1.1
	OPENBSD_2_6:1.1.1.1.0.12
	OPENBSD_2_6_BASE:1.1.1.1
	cvs-1-10-7:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.10
	OPENBSD_2_5_BASE:1.1.1.1
	cvs-1-10-5:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.8
	OPENBSD_2_4_BASE:1.1.1.1
	cvs-1-10:1.1.1.1
	cvs-1-9-28:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.6
	OPENBSD_2_3_BASE:1.1.1.1
	cvs-1-9-26:1.1.1.1
	cvs-1-9-24:1.1.1.1
	OPENBSD_2_2:1.1.1.1.0.4
	OPENBSD_2_2_BASE:1.1.1.1
	cvs-1-9-10:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.2
	OPENBSD_2_1_BASE:1.1.1.1
	cvs-1-9-8:1.1.1.1
	cvs-1-9-6:1.1.1.1
	cvs-1-9-4:1.1.1.1
	cvs-1-9-2:1.1.1.1
	cvs-1-9:1.1.1.1
	cyclic:1.1.1;
locks; strict;
comment	@# @;


1.1
date	96.10.18.03.35.04;	author tholo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.10.18.03.35.04;	author tholo;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.09.28.22.45.40;	author tholo;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Initial revision
@
text
@# Project:   zlib_1_03


# Toolflags:
CCflags = -c -depend !Depend -IC: -g -throwback  -DRISCOS  -fnah 
C++flags = -c -depend !Depend -IC: -throwback
Linkflags = -aif -c++ -o $@@ 
ObjAsmflags = -throwback -NoCache -depend !Depend
CMHGflags = 
LibFileflags = -c -l -o $@@ 
Squeezeflags = -o $@@


# Final targets:
@@.zlib_lib:   @@.o.adler32 @@.o.compress @@.o.crc32 @@.o.deflate @@.o.gzio \
        @@.o.infblock @@.o.infcodes @@.o.inffast @@.o.inflate @@.o.inftrees @@.o.infutil @@.o.trees \
        @@.o.uncompress @@.o.zutil 
        LibFile $(LibFileflags) @@.o.adler32 @@.o.compress @@.o.crc32 @@.o.deflate \
        @@.o.gzio @@.o.infblock @@.o.infcodes @@.o.inffast @@.o.inflate @@.o.inftrees @@.o.infutil \
        @@.o.trees @@.o.uncompress @@.o.zutil 
@@.test:   @@.tests.minigzip @@.tests.example 
        echo Please run "Test" in directory tests 
@@.tests.minigzip:   @@.o.minigzip @@.zlib_lib C:o.Stubs 
        Link $(Linkflags) @@.o.minigzip @@.zlib_lib C:o.Stubs 
@@.tests.example:   @@.o.example @@.zlib_lib C:o.Stubs 
        Link $(Linkflags) @@.o.example @@.zlib_lib C:o.Stubs 


# User-editable dependencies:
.c.o:
        cc $(ccflags) -o $@@ $<

# Static dependencies:
@@.o.example:   @@.tests.c.example
        cc $(ccflags) -o @@.o.example @@.tests.c.example 
@@.o.minigzip:   @@.tests.c.minigzip
        cc $(ccflags) -o @@.o.minigzip @@.tests.c.minigzip 


# Dynamic dependencies:
o.minigzip:	tests.c.minigzip
o.minigzip:	h.zlib
o.minigzip:	h.zconf
o.example:	tests.c.example
o.example:	h.zlib
o.example:	h.zconf
@


1.1.1.1
log
@New release from Cyclic Software
@
text
@@


1.1.1.2
log
@Latest from Cyclic Software
@
text
@d2 1
a2 2
# Patched for zlib 1.1.2 rw@@shadow.org.uk 19980430
# test works out-of-the-box, installs `somewhere' on demand
d5 1
a5 1
CCflags = -c -depend !Depend -IC: -g -throwback  -DRISCOS  -fah 
a12 2
# change the line below to where _you_ want the library installed.
libdest = lib:zlib
d15 1
a15 1
@@.lib:   @@.o.adler32 @@.o.compress @@.o.crc32 @@.o.deflate @@.o.gzio \
d17 1
a17 1
        @@.o.uncompr @@.o.zutil 
d20 8
a27 39
        @@.o.trees @@.o.uncompr @@.o.zutil 
test:   @@.minigzip @@.example @@.lib
	@@copy @@.lib @@.libc  A~C~DF~L~N~P~Q~RS~TV
	@@echo running tests: hang on.
	@@/@@.minigzip -f -9 libc
	@@/@@.minigzip -d libc-gz
	@@/@@.minigzip -f -1 libc
	@@/@@.minigzip -d libc-gz
	@@/@@.minigzip -h -9 libc
	@@/@@.minigzip -d libc-gz
	@@/@@.minigzip -h -1 libc
	@@/@@.minigzip -d libc-gz
	@@/@@.minigzip -9 libc
	@@/@@.minigzip -d libc-gz
	@@/@@.minigzip -1 libc
	@@/@@.minigzip -d libc-gz
	@@diff @@.lib @@.libc
	@@echo that should have reported '@@.lib and @@.libc identical' if you have diff.
	@@/@@.example @@.fred @@.fred
	@@echo that will have given lots of hello!'s.

@@.minigzip:   @@.o.minigzip @@.lib C:o.Stubs 
        Link $(Linkflags) @@.o.minigzip @@.lib C:o.Stubs 
@@.example:   @@.o.example @@.lib C:o.Stubs 
        Link $(Linkflags) @@.o.example @@.lib C:o.Stubs

install: @@.lib
	cdir $(libdest)
	cdir $(libdest).h
	@@copy @@.h.zlib $(libdest).h.zlib A~C~DF~L~N~P~Q~RS~TV
	@@copy @@.h.zconf $(libdest).h.zconf A~C~DF~L~N~P~Q~RS~TV
	@@copy @@.lib $(libdest).lib  A~C~DF~L~N~P~Q~RS~TV
	@@echo okay, installed zlib in $(libdest)

clean:; remove @@.minigzip
	remove @@.example
	remove @@.libc
	-wipe @@.o.* F~r~cV
	remove @@.fred
d34 5
d41 4
a44 1
o.example:	c.example
a46 79
o.minigzip:	c.minigzip
o.minigzip:	h.zlib
o.minigzip:	h.zconf
o.adler32:	c.adler32
o.adler32:	h.zlib
o.adler32:	h.zconf
o.compress:	c.compress
o.compress:	h.zlib
o.compress:	h.zconf
o.crc32:	c.crc32
o.crc32:	h.zlib
o.crc32:	h.zconf
o.deflate:	c.deflate
o.deflate:	h.deflate
o.deflate:	h.zutil
o.deflate:	h.zlib
o.deflate:	h.zconf
o.gzio:	c.gzio
o.gzio:	h.zutil
o.gzio:	h.zlib
o.gzio:	h.zconf
o.infblock:	c.infblock
o.infblock:	h.zutil
o.infblock:	h.zlib
o.infblock:	h.zconf
o.infblock:	h.infblock
o.infblock:	h.inftrees
o.infblock:	h.infcodes
o.infblock:	h.infutil
o.infcodes:	c.infcodes
o.infcodes:	h.zutil
o.infcodes:	h.zlib
o.infcodes:	h.zconf
o.infcodes:	h.inftrees
o.infcodes:	h.infblock
o.infcodes:	h.infcodes
o.infcodes:	h.infutil
o.infcodes:	h.inffast
o.inffast:	c.inffast
o.inffast:	h.zutil
o.inffast:	h.zlib
o.inffast:	h.zconf
o.inffast:	h.inftrees
o.inffast:	h.infblock
o.inffast:	h.infcodes
o.inffast:	h.infutil
o.inffast:	h.inffast
o.inflate:	c.inflate
o.inflate:	h.zutil
o.inflate:	h.zlib
o.inflate:	h.zconf
o.inflate:	h.infblock
o.inftrees:	c.inftrees
o.inftrees:	h.zutil
o.inftrees:	h.zlib
o.inftrees:	h.zconf
o.inftrees:	h.inftrees
o.inftrees:	h.inffixed
o.infutil:	c.infutil
o.infutil:	h.zutil
o.infutil:	h.zlib
o.infutil:	h.zconf
o.infutil:	h.infblock
o.infutil:	h.inftrees
o.infutil:	h.infcodes
o.infutil:	h.infutil
o.trees:	c.trees
o.trees:	h.deflate
o.trees:	h.zutil
o.trees:	h.zlib
o.trees:	h.zconf
o.trees:	h.trees
o.uncompr:	c.uncompr
o.uncompr:	h.zlib
o.uncompr:	h.zconf
o.zutil:	c.zutil
o.zutil:	h.zutil
o.zutil:	h.zlib
o.zutil:	h.zconf
@


