head	1.1;
branch	1.1.1;
access;
symbols
	OPENBSD_6_1:1.1.1.8.0.66
	OPENBSD_6_1_BASE:1.1.1.8
	OPENBSD_6_0:1.1.1.8.0.64
	OPENBSD_6_0_BASE:1.1.1.8
	OPENBSD_5_9:1.1.1.8.0.60
	OPENBSD_5_9_BASE:1.1.1.8
	OPENBSD_5_8:1.1.1.8.0.62
	OPENBSD_5_8_BASE:1.1.1.8
	OPENBSD_5_7:1.1.1.8.0.54
	OPENBSD_5_7_BASE:1.1.1.8
	OPENBSD_5_6:1.1.1.8.0.58
	OPENBSD_5_6_BASE:1.1.1.8
	OPENBSD_5_5:1.1.1.8.0.56
	OPENBSD_5_5_BASE:1.1.1.8
	OPENBSD_5_4:1.1.1.8.0.52
	OPENBSD_5_4_BASE:1.1.1.8
	OPENBSD_5_3:1.1.1.8.0.50
	OPENBSD_5_3_BASE:1.1.1.8
	OPENBSD_5_2:1.1.1.8.0.48
	OPENBSD_5_2_BASE:1.1.1.8
	OPENBSD_5_1_BASE:1.1.1.8
	OPENBSD_5_1:1.1.1.8.0.46
	OPENBSD_5_0:1.1.1.8.0.44
	OPENBSD_5_0_BASE:1.1.1.8
	OPENBSD_4_9:1.1.1.8.0.42
	OPENBSD_4_9_BASE:1.1.1.8
	OPENBSD_4_8:1.1.1.8.0.40
	OPENBSD_4_8_BASE:1.1.1.8
	OPENBSD_4_7:1.1.1.8.0.36
	OPENBSD_4_7_BASE:1.1.1.8
	OPENBSD_4_6:1.1.1.8.0.38
	OPENBSD_4_6_BASE:1.1.1.8
	OPENBSD_4_5:1.1.1.8.0.34
	OPENBSD_4_5_BASE:1.1.1.8
	OPENBSD_4_4:1.1.1.8.0.32
	OPENBSD_4_4_BASE:1.1.1.8
	OPENBSD_4_3:1.1.1.8.0.30
	OPENBSD_4_3_BASE:1.1.1.8
	OPENBSD_4_2:1.1.1.8.0.28
	OPENBSD_4_2_BASE:1.1.1.8
	OPENBSD_4_1:1.1.1.8.0.26
	OPENBSD_4_1_BASE:1.1.1.8
	OPENBSD_4_0:1.1.1.8.0.24
	OPENBSD_4_0_BASE:1.1.1.8
	OPENBSD_3_9:1.1.1.8.0.22
	OPENBSD_3_9_BASE:1.1.1.8
	OPENBSD_3_8:1.1.1.8.0.20
	OPENBSD_3_8_BASE:1.1.1.8
	OPENBSD_3_7:1.1.1.8.0.18
	OPENBSD_3_7_BASE:1.1.1.8
	OPENBSD_3_6:1.1.1.8.0.16
	OPENBSD_3_6_BASE:1.1.1.8
	OPENBSD_3_5:1.1.1.8.0.14
	OPENBSD_3_5_BASE:1.1.1.8
	OPENBSD_3_4:1.1.1.8.0.12
	OPENBSD_3_4_BASE:1.1.1.8
	OPENBSD_3_3:1.1.1.8.0.10
	OPENBSD_3_3_BASE:1.1.1.8
	OPENBSD_3_2:1.1.1.8.0.8
	OPENBSD_3_2_BASE:1.1.1.8
	OPENBSD_3_1:1.1.1.8.0.6
	OPENBSD_3_1_BASE:1.1.1.8
	OPENBSD_3_0:1.1.1.8.0.4
	OPENBSD_3_0_BASE:1.1.1.8
	cvs-1-11-1p1:1.1.1.8
	OPENBSD_2_9:1.1.1.8.0.2
	OPENBSD_2_9_BASE:1.1.1.8
	cvs-1-11:1.1.1.8
	OPENBSD_2_8:1.1.1.7.0.12
	OPENBSD_2_8_BASE:1.1.1.7
	OPENBSD_2_7:1.1.1.7.0.10
	OPENBSD_2_7_BASE:1.1.1.7
	OPENBSD_2_6:1.1.1.7.0.8
	OPENBSD_2_6_BASE:1.1.1.7
	cvs-1-10-7:1.1.1.7
	OPENBSD_2_5:1.1.1.7.0.6
	OPENBSD_2_5_BASE:1.1.1.7
	cvs-1-10-5:1.1.1.7
	OPENBSD_2_4:1.1.1.7.0.4
	OPENBSD_2_4_BASE:1.1.1.7
	cvs-1-10:1.1.1.7
	cvs-1-9-28:1.1.1.7
	OPENBSD_2_3:1.1.1.7.0.2
	OPENBSD_2_3_BASE:1.1.1.7
	cvs-1-9-26:1.1.1.7
	cvs-1-9-24:1.1.1.6
	OPENBSD_2_2:1.1.1.5.0.4
	OPENBSD_2_2_BASE:1.1.1.5
	cvs-1-9-10:1.1.1.5
	OPENBSD_2_1:1.1.1.5.0.2
	OPENBSD_2_1_BASE:1.1.1.5
	cvs-1-9-8:1.1.1.5
	cvs-1-9-6:1.1.1.5
	cvs-1-9-4:1.1.1.5
	cvs-1-9-2:1.1.1.5
	cvs-1-9:1.1.1.4
	OPENBSD_2_0:1.1.1.3.0.2
	OPENBSD_2_0_BASE:1.1.1.3
	cvs-1-8-1:1.1.1.3
	cvs-1-8:1.1.1.3
	cvs-1-7-2:1.1.1.3
	cvs-1-7-1:1.1.1.2
	cvs-1-6:1.1.1.1
	cyclic:1.1.1;
locks; strict;
comment	@ * @;


1.1
date	95.12.19.09.21.31;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.12.19.09.21.31;	author deraadt;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	96.01.30.00.17.50;	author tholo;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	96.04.27.19.41.30;	author tholo;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	96.10.18.03.35.16;	author tholo;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	97.02.21.06.37.11;	author tholo;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	98.02.22.08.20.55;	author tholo;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	98.03.12.06.58.18;	author tholo;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2001.02.10.18.57.36;	author tholo;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Initial revision
@
text
@/* $CVSid: @@(#)hash.h 1.23 94/10/07 $	 */

/*
 * Copyright (c) 1992, Brian Berliner and Jeff Polk
 * 
 * You may distribute under the terms of the GNU General Public License as
 * specified in the README file that comes with the CVS 1.4 kit.
 */

/*
 * The number of buckets for the hash table contained in each list.  This
 * should probably be prime.
 */
#define HASHSIZE	151

/*
 * Types of nodes
 */
enum ntype
{
    UNKNOWN, HEADER, ENTRIES, FILES, LIST, RCSNODE,
    RCSVERS, DIRS, UPDATE, LOCK, NDBMNODE
};
typedef enum ntype Ntype;

struct node
{
    Ntype type;
    struct node *next;
    struct node *prev;
    struct node *hashnext;
    struct node *hashprev;
    char *key;
    char *data;
    void (*delproc) ();
};
typedef struct node Node;

struct list
{
    Node *list;
    Node *hasharray[HASHSIZE];
    struct list *next;
};
typedef struct list List;

List *getlist PROTO((void));
Node *findnode PROTO((List * list, const char *key));
Node *getnode PROTO((void));
int addnode PROTO((List * list, Node * p));
int walklist PROTO((List * list, int (*)(Node *n, void *closure), void *closure));
void dellist PROTO((List ** listp));
void delnode PROTO((Node * p));
void freenode PROTO((Node * p));
void sortlist PROTO((List * list, int (*)(const Node *, const Node *)));
@


1.1.1.1
log
@raw import of cvs-1.6
@
text
@@


1.1.1.2
log
@Upgrade to 1.7.1 snapshot
@
text
@d22 1
a22 1
    RCSVERS, DIRS, UPDATE, LOCK, NDBMNODE, FILEATTR
a48 1
Node *findnode_fn PROTO((List * list, const char *key));
a51 1
int list_isempty PROTO ((List *list));
@


1.1.1.3
log
@Latest public release from Cyclic; fixes numerous memory leaks and have
some performance improvements
@
text
@d22 1
a22 2
    RCSVERS, DIRS, UPDATE, LOCK, NDBMNODE, FILEATTR,
    VARIABLE
@


1.1.1.4
log
@New release from Cyclic Software
@
text
@d23 1
a23 1
    VARIABLE, RCSFIELD
@


1.1.1.5
log
@New release from Cyclic Software
@
text
@d1 2
@


1.1.1.6
log
@Latest version from Cyclic
@
text
@d5 1
a5 1
 * specified in the README file that comes with the CVS source distribution.
a49 1
int insert_before PROTO((List * list, Node * marker, Node * p));
a50 1
int addnode_at_front PROTO((List * list, Node * p));
@


1.1.1.7
log
@Latest version from Cyclic
@
text
@a58 1
int fsortcmp PROTO((const Node * p, const Node * q));
@


1.1.1.8
log
@Latest from Cyclic Software
@
text
@d19 1
a19 1
    NT_UNKNOWN, HEADER, ENTRIES, FILES, LIST, RCSNODE,
d21 1
a21 1
    VARIABLE, RCSFIELD, RCSCMPFLD
@


