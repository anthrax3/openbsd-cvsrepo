head	1.16;
access;
symbols
	OPENBSD_6_1:1.16.0.18
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.16.0.14
	OPENBSD_6_0_BASE:1.16
	OPENBSD_5_9:1.16.0.10
	OPENBSD_5_9_BASE:1.16
	OPENBSD_5_8:1.16.0.12
	OPENBSD_5_8_BASE:1.16
	OPENBSD_5_7:1.16.0.4
	OPENBSD_5_7_BASE:1.16
	OPENBSD_5_6:1.16.0.8
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.16.0.6
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.15.0.38
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.36
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.34
	OPENBSD_5_0:1.15.0.32
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.30
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.15.0.28
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.24
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.15.0.26
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.22
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.20
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.18
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.15.0.16
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.15.0.14
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.15.0.12
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.10
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.8
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.15.0.6
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.15.0.4
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.15.0.2
	OPENBSD_3_5_BASE:1.15
	OPENBSD_3_4:1.14.0.6
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.14.0.4
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.14.0.2
	OPENBSD_3_2_BASE:1.14
	OPENBSD_3_1:1.13.0.4
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.13.0.2
	OPENBSD_3_0_BASE:1.13
	cvs-1-11-1p1:1.1.1.13
	OPENBSD_2_9:1.11.0.2
	OPENBSD_2_9_BASE:1.11
	cvs-1-11:1.1.1.12
	OPENBSD_2_8:1.10.0.6
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.10.0.4
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.10.0.2
	OPENBSD_2_6_BASE:1.10
	cvs-1-10-7:1.1.1.11
	OPENBSD_2_5:1.9.0.2
	OPENBSD_2_5_BASE:1.9
	cvs-1-10-5:1.1.1.11
	OPENBSD_2_4:1.8.0.2
	OPENBSD_2_4_BASE:1.8
	cvs-1-10:1.1.1.10
	cvs-1-9-28:1.1.1.9
	OPENBSD_2_3:1.6.0.2
	OPENBSD_2_3_BASE:1.6
	cvs-1-9-26:1.1.1.9
	cvs-1-9-24:1.1.1.8
	OPENBSD_2_2:1.4.0.2
	OPENBSD_2_2_BASE:1.4
	cvs-1-9-10:1.1.1.7
	OPENBSD_2_1:1.1.1.7.0.2
	OPENBSD_2_1_BASE:1.1.1.7
	cvs-1-9-8:1.1.1.7
	cvs-1-9-6:1.1.1.7
	cvs-1-9-4:1.1.1.6
	cvs-1-9-2:1.1.1.5
	cvs-1-9:1.1.1.4
	OPENBSD_2_0:1.1.1.3.0.2
	OPENBSD_2_0_BASE:1.1.1.3
	cvs-1-8-1:1.1.1.3
	cvs-1-8:1.1.1.3
	cvs-1-7-2:1.1.1.3
	cvs-1-7-1:1.1.1.2
	cvs-1-6:1.1.1.1
	cyclic:1.1.1;
locks; strict;
comment	@# @;


1.16
date	2013.06.03.21.56.03;	author robert;	state Exp;
branches;
next	1.15;

1.15
date	2003.12.17.10.29.10;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2002.06.03.15.55.42;	author todd;	state Exp;
branches;
next	1.13;

1.13
date	2001.09.29.00.00.39;	author tholo;	state Exp;
branches;
next	1.12;

1.12
date	2001.09.28.23.26.33;	author tholo;	state Exp;
branches;
next	1.11;

1.11
date	2001.02.10.19.31.34;	author tholo;	state Exp;
branches;
next	1.10;

1.10
date	99.09.10.06.19.49;	author tholo;	state Exp;
branches;
next	1.9;

1.9
date	99.02.28.21.57.47;	author tholo;	state Exp;
branches;
next	1.8;

1.8
date	98.08.22.21.04.21;	author tholo;	state Exp;
branches;
next	1.7;

1.7
date	98.08.12.22.57.21;	author tholo;	state Exp;
branches;
next	1.6;

1.6
date	98.03.12.07.22.24;	author tholo;	state Exp;
branches;
next	1.5;

1.5
date	98.02.22.08.55.53;	author tholo;	state Exp;
branches;
next	1.4;

1.4
date	97.07.24.16.17.24;	author kstailey;	state Exp;
branches;
next	1.3;

1.3
date	97.07.24.16.16.35;	author kstailey;	state Exp;
branches;
next	1.2;

1.2
date	97.07.24.16.08.21;	author kstailey;	state Exp;
branches;
next	1.1;

1.1
date	95.12.19.09.21.30;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.12.19.09.21.30;	author deraadt;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	96.01.30.00.17.41;	author tholo;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	96.04.27.19.41.20;	author tholo;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	96.10.18.03.35.07;	author tholo;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	97.02.21.06.36.59;	author tholo;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	97.03.18.01.55.39;	author tholo;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	97.03.29.04.37.52;	author tholo;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	98.02.22.08.20.43;	author tholo;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	98.03.12.06.57.58;	author tholo;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	98.08.22.20.52.14;	author tholo;	state Exp;
branches;
next	1.1.1.11;

1.1.1.11
date	99.02.28.21.32.01;	author tholo;	state Exp;
branches;
next	1.1.1.12;

1.1.1.12
date	2001.02.10.18.57.32;	author tholo;	state Exp;
branches;
next	1.1.1.13;

1.1.1.13
date	2001.09.28.22.45.37;	author tholo;	state Exp;
branches;
next	;


desc
@@


1.16
log
@avoid rebuilding server.c and client.c in the install target
@
text
@# Makefile.in generated automatically by automake 1.4e from Makefile.am.

# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
# Free Software Foundation, Inc.
# This Makefile.in is free software; the Free Software Foundation
# gives unlimited permission to copy and/or distribute it,
# with or without modifications, as long as this notice is preserved.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.

@@SET_MAKE@@

# Makefile for GNU CVS program.
# Copyright (C) 1986, 1988-1990, 2000 Free Software Foundation, Inc.

# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2, or (at your option)
# any later version.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.


srcdir = @@srcdir@@
top_srcdir = @@top_srcdir@@
VPATH = @@srcdir@@
prefix = @@prefix@@
exec_prefix = @@exec_prefix@@

bindir = @@bindir@@
sbindir = @@sbindir@@
libexecdir = @@libexecdir@@
datadir = @@datadir@@
sysconfdir = @@sysconfdir@@
sharedstatedir = @@sharedstatedir@@
localstatedir = @@localstatedir@@
libdir = @@libdir@@
infodir = @@infodir@@
mandir = @@mandir@@
includedir = @@includedir@@
oldincludedir = /usr/include

pkgdatadir = $(datadir)/@@PACKAGE@@
pkglibdir = $(libdir)/@@PACKAGE@@
pkgincludedir = $(includedir)/@@PACKAGE@@

top_builddir = ..

ACLOCAL = @@ACLOCAL@@
AUTOCONF = @@AUTOCONF@@
AUTOMAKE = @@AUTOMAKE@@
AUTOHEADER = @@AUTOHEADER@@

INSTALL = @@INSTALL@@
INSTALL_PROGRAM = @@INSTALL_PROGRAM@@
INSTALL_DATA = @@INSTALL_DATA@@
INSTALL_SCRIPT = @@INSTALL_SCRIPT@@
INSTALL_HEADER = $(INSTALL_DATA)
transform = @@program_transform_name@@

NORMAL_INSTALL = :
PRE_INSTALL = :
POST_INSTALL = :
NORMAL_UNINSTALL = :
PRE_UNINSTALL = :
POST_UNINSTALL = :
AMTAR = @@AMTAR@@
AWK = @@AWK@@
CC = @@CC@@
CSH = @@CSH@@
DEPDIR = @@DEPDIR@@
ETAGS = @@ETAGS@@
ETAGS_INCLUDE_OPTION = @@ETAGS_INCLUDE_OPTION@@
INSTALL_STRIP_PROGRAM = @@INSTALL_STRIP_PROGRAM@@
INSTALL_STRIP_PROGRAM_ENV = @@INSTALL_STRIP_PROGRAM_ENV@@
KRB4 = @@KRB4@@
LN_S = @@LN_S@@
MAKEINFO = @@MAKEINFO@@
PACKAGE = @@PACKAGE@@
PERL = @@PERL@@
PR = @@PR@@
PS2PDF = @@PS2PDF@@
RANLIB = @@RANLIB@@
ROFF = @@ROFF@@
STRIP = @@STRIP@@
TEXI2DVI = @@TEXI2DVI@@
VERSION = @@VERSION@@
YACC = @@YACC@@
_am_include = @@_am_include@@
_am_quote = @@_am_quote@@
includeopt = @@includeopt@@
install_sh = @@install_sh@@

SHELL = /bin/sh

# $(includeopt) is CVS specific and set by configure
# FIXME - This includes line is dependant on its order.  This means there is
# some namespace hackery going on that maybe shouldn't be.  Long term fix is to
# try and remove naming ocnflicts and fix Automake to allow particular includes
# to be attached only to particular object files.  Short term fix is either or.
INCLUDES = -I$(top_srcdir)/lib -I$(top_srcdir)/diff $(includeopt)

bin_PROGRAMS = cvs
bin_SCRIPTS = cvsbug

# The cvs executable
cvs_SOURCES = \
	add.c \
	admin.c \
	annotate.c \
	buffer.c \
	checkin.c \
	checkout.c \
	classify.c \
	client.c \
	commit.c \
	create_adm.c \
	cvsrc.c diff.c \
	edit.c \
	entries.c \
	error.c \
	expand_path.c \
	fileattr.c \
	filesubr.c \
	find_names.c \
	hardlink.c \
	hash.c \
	history.c \
	ignore.c \
	import.c \
	lock.c \
	log.c \
	login.c \
	logmsg.c \
	main.c \
	mkmodules.c \
	modules.c \
	myndbm.c \
	no_diff.c \
	parseinfo.c \
	patch.c \
	rcs.c \
	rcscmds.c \
	recurse.c \
	release.c \
	remove.c \
	repos.c \
	root.c \
	run.c \
	scramble.c \
	server.c \
	status.c \
	subr.c \
	tag.c \
	update.c \
	vers_ts.c \
	watch.c \
	wrapper.c \
	zlib.c \
	buffer.h \
	client.h \
	cvs.h \
	edit.h \
	error.h \
	fileattr.h \
	hardlink.h \
	hash.h \
	myndbm.h \
	rcs.h \
	server.h \
	update.h \
	watch.h

cvs_LDADD = \
	../diff/libdiff.a \
	../lib/libcvs.a \
	@@ZLIB@@ \
	version.o

cvs_EXTRA_DIST = version.c

# extra clean targets
# wish this could be distclean-hdr-local but it's not part of automake
DISTCLEANFILES = options.h-SAVED check.log check.plog

# General
EXTRA_DIST = \
	$(cvs_EXTRA_DIST) \
	.cvsignore \
	ChangeLog-9194 \
	ChangeLog-9395 \
	ChangeLog-96 \
	ChangeLog-97 \
	build_src.com \
	sanity.sh \
	version.c \
	version.c.in

EXEEXT =
OBJEXT = o
subdir = src
mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
CONFIG_HEADER = $(top_builddir)/config.h options.h
CONFIG_CLEAN_FILES = cvsbug
bin_PROGRAMS = cvs$(EXEEXT)
PROGRAMS = $(bin_PROGRAMS)

am_cvs_OBJECTS = add.$(OBJEXT) admin.$(OBJEXT) annotate.$(OBJEXT) \
	buffer.$(OBJEXT) checkin.$(OBJEXT) checkout.$(OBJEXT) \
	classify.$(OBJEXT) client.$(OBJEXT) commit.$(OBJEXT) \
	create_adm.$(OBJEXT) cvsrc.$(OBJEXT) diff.$(OBJEXT) \
	edit.$(OBJEXT) entries.$(OBJEXT) error.$(OBJEXT) \
	expand_path.$(OBJEXT) fileattr.$(OBJEXT) filesubr.$(OBJEXT) \
	find_names.$(OBJEXT) hardlink.$(OBJEXT) hash.$(OBJEXT) \
	history.$(OBJEXT) ignore.$(OBJEXT) import.$(OBJEXT) \
	lock.$(OBJEXT) log.$(OBJEXT) login.$(OBJEXT) logmsg.$(OBJEXT) \
	main.$(OBJEXT) mkmodules.$(OBJEXT) modules.$(OBJEXT) \
	myndbm.$(OBJEXT) no_diff.$(OBJEXT) parseinfo.$(OBJEXT) \
	patch.$(OBJEXT) rcs.$(OBJEXT) rcscmds.$(OBJEXT) \
	recurse.$(OBJEXT) release.$(OBJEXT) remove.$(OBJEXT) \
	repos.$(OBJEXT) root.$(OBJEXT) run.$(OBJEXT) scramble.$(OBJEXT) \
	server.$(OBJEXT) status.$(OBJEXT) subr.$(OBJEXT) tag.$(OBJEXT) \
	update.$(OBJEXT) vers_ts.$(OBJEXT) watch.$(OBJEXT) \
	wrapper.$(OBJEXT) zlib.$(OBJEXT)
cvs_OBJECTS = $(am_cvs_OBJECTS)
cvs_DEPENDENCIES = ../diff/libdiff.a ../lib/libcvs.a @@ZLIB_DEPEND@@ \
	version.o
cvs_LDFLAGS =
SCRIPTS = $(bin_SCRIPTS)

COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
CFLAGS = @@CFLAGS@@
CCLD = $(CC)
LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@@

DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir) -I.
DEFS = @@DEFS@@
CPPFLAGS = @@CPPFLAGS@@
LDFLAGS = @@LDFLAGS@@
LIBS = @@LIBS@@
DIST_SOURCES = $(cvs_SOURCES)
depcomp = $(SHELL) $(top_srcdir)/depcomp
@@AMDEP_TRUE@@DEP_FILES = $(DEPDIR)/add.Po $(DEPDIR)/admin.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/annotate.Po $(DEPDIR)/buffer.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/checkin.Po $(DEPDIR)/checkout.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/classify.Po $(DEPDIR)/client.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/commit.Po $(DEPDIR)/create_adm.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/cvsrc.Po $(DEPDIR)/diff.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/edit.Po $(DEPDIR)/entries.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/error.Po $(DEPDIR)/expand_path.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/fileattr.Po $(DEPDIR)/filesubr.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/find_names.Po $(DEPDIR)/hardlink.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/hash.Po $(DEPDIR)/history.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/ignore.Po $(DEPDIR)/import.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/lock.Po $(DEPDIR)/log.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/login.Po $(DEPDIR)/logmsg.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/main.Po $(DEPDIR)/mkmodules.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/modules.Po $(DEPDIR)/myndbm.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/no_diff.Po $(DEPDIR)/parseinfo.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/patch.Po $(DEPDIR)/rcs.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/rcscmds.Po $(DEPDIR)/recurse.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/release.Po $(DEPDIR)/remove.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/repos.Po $(DEPDIR)/root.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/run.Po $(DEPDIR)/scramble.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/server.Po $(DEPDIR)/status.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/subr.Po $(DEPDIR)/tag.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/update.Po $(DEPDIR)/vers_ts.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/watch.Po $(DEPDIR)/wrapper.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/zlib.Po
DIST_COMMON = ./stamp-h2.in ChangeLog Makefile.am Makefile.in cvsbug.in \
	options.h.in
SOURCES = $(cvs_SOURCES)
OBJECTS = $(am_cvs_OBJECTS)

all: options.h
	$(MAKE) $(AM_MAKEFLAGS) all-am

.SUFFIXES:
.SUFFIXES: .c .o .obj

$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.in $(ACLOCAL_M4)
	cd $(top_srcdir) && \
	  $(AUTOMAKE) --gnu  src/Makefile

Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
	cd $(top_builddir) && \
	  CONFIG_HEADERS= CONFIG_LINKS= \
	  CONFIG_FILES=$(subdir)/$@@ $(SHELL) ./config.status

options.h: #stamp-h2
	@@if test ! -f $@@; then \
		rm -f stamp-h2; \
		$(MAKE) stamp-h2; \
	else :; fi
stamp-h2: $(srcdir)/options.h.in $(top_builddir)/config.status
	@@rm -f stamp-h2 stamp-h2T
	@@echo timestamp > stamp-h2T 2> /dev/null
	cd $(top_builddir) \
	  && CONFIG_FILES= CONFIG_HEADERS=src/options.h \
	     $(SHELL) ./config.status
	@@mv stamp-h2T stamp-h2
$(srcdir)/options.h.in:  $(srcdir)/./stamp-h2.in
	@@if test ! -f $@@; then \
		rm -f $(srcdir)/./stamp-h2.in; \
		$(MAKE) $(srcdir)/./stamp-h2.in; \
	else :; fi
$(srcdir)/./stamp-h2.in: $(top_srcdir)/configure.in $(ACLOCAL_M4) $(top_srcdir)/acconfig.h
	@@rm -f $(srcdir)/./stamp-h2.in $(srcdir)/./stamp-h2.inT
	@@echo timestamp > $(srcdir)/./stamp-h2.inT 2> /dev/null
	cd $(top_srcdir) && $(AUTOHEADER)
	@@mv $(srcdir)/./stamp-h2.inT $(srcdir)/./stamp-h2.in

distclean-hdr:
	-rm -f options.h
cvsbug: $(top_builddir)/config.status cvsbug.in
	cd $(top_builddir) && CONFIG_FILES=$(subdir)/$@@ CONFIG_HEADERS= CONFIG_LINKS= $(SHELL) ./config.status
install-binPROGRAMS:
	@@$(NORMAL_INSTALL)
	$(mkinstalldirs) $(DESTDIR)$(bindir)
	@@list='$(bin_PROGRAMS)'; for p in $$list; do \
	  if test -f $$p; then \
	    f=`echo $$p|sed 's/$(EXEEXT)$$//;$(transform);s/$$/$(EXEEXT)/'`; \
	   echo " $(INSTALL_PROGRAM_ENV) $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/$$f"; \
	   $(INSTALL_PROGRAM_ENV) $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/$$f; \
	  else :; fi; \
	done

uninstall-binPROGRAMS:
	@@$(NORMAL_UNINSTALL)
	@@list='$(bin_PROGRAMS)'; for p in $$list; do \
	  f=`echo $$p|sed 's/$(EXEEXT)$$//;$(transform);s/$$/$(EXEEXT)/'`; \
	  echo " rm -f $(DESTDIR)$(bindir)/$$f"; \
	  rm -f $(DESTDIR)$(bindir)/$$f; \
	done

clean-binPROGRAMS:
	-test -z "$(bin_PROGRAMS)" || rm -f $(bin_PROGRAMS)

cvs$(EXEEXT): $(cvs_OBJECTS) $(cvs_DEPENDENCIES)
	@@rm -f cvs$(EXEEXT)
	$(LINK) $(cvs_LDFLAGS) $(cvs_OBJECTS) $(cvs_LDADD) $(LIBS)
install-binSCRIPTS: $(bin_SCRIPTS)
	@@$(NORMAL_INSTALL)
	$(mkinstalldirs) $(DESTDIR)$(bindir)
	@@list='$(bin_SCRIPTS)'; for p in $$list; do \
	  f="`echo $$p|sed '$(transform)'`"; \
	  if test -f $$p; then \
	    echo " $(INSTALL_SCRIPT) $$p $(DESTDIR)$(bindir)/$$f"; \
	    $(INSTALL_SCRIPT) $$p $(DESTDIR)$(bindir)/$$f; \
	  elif test -f $(srcdir)/$$p; then \
	    echo " $(INSTALL_SCRIPT) $(srcdir)/$$p $(DESTDIR)$(bindir)/$$f"; \
	    $(INSTALL_SCRIPT) $(srcdir)/$$p $(DESTDIR)$(bindir)/$$f; \
	  else :; fi; \
	done

uninstall-binSCRIPTS:
	@@$(NORMAL_UNINSTALL)
	@@list='$(bin_SCRIPTS)'; for p in $$list; do \
	  f="`echo $$p|sed '$(transform)'`"; \
	  echo " rm -f $(DESTDIR)$(bindir)/$$f"; \
	  rm -f $(DESTDIR)$(bindir)/$$f; \
	done

mostlyclean-compile:
	-rm -f *.$(OBJEXT) core *.core

distclean-compile:
	-rm -f *.tab.c

tags: TAGS

ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
	unique=`for i in $$list; do \
	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
	  done | \
	  $(AWK) '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	mkid -fID $$unique $(LISP)

TAGS:  $(HEADERS) $(SOURCES) options.h.in $(TAGS_DEPENDENCIES) \
		$(TAGS_FILES) $(LISP)
	tags=; \
	here=`pwd`; \
	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
	unique=`for i in $$list @@CONFIG@@; do \
	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
	  done | \
	  $(AWK) '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	test -z "$(ETAGS_ARGS)options.h.in$$unique$(LISP)$$tags" \
	  || $(ETAGS) $(ETAGS_ARGS) $$tags options.h.in $$unique $(LISP)

GTAGS:
	here=`CDPATH=: && cd $(top_builddir) && pwd` \
	  && cd $(top_srcdir) \
	  && gtags -i $$here

distclean-tags:
	-rm -f TAGS ID

@@_am_include@@ @@_am_quote@@$(DEPDIR)/add.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/admin.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/annotate.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/buffer.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/checkin.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/checkout.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/classify.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/client.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/commit.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/create_adm.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/cvsrc.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/diff.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/edit.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/entries.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/error.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/expand_path.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/fileattr.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/filesubr.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/find_names.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/hardlink.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/hash.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/history.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/ignore.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/import.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/lock.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/log.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/login.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/logmsg.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/main.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/mkmodules.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/modules.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/myndbm.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/no_diff.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/parseinfo.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/patch.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/rcs.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/rcscmds.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/recurse.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/release.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/remove.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/repos.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/root.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/run.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/scramble.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/server.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/status.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/subr.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/tag.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/update.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/vers_ts.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/watch.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/wrapper.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/zlib.Po@@_am_quote@@

distclean-depend:
	-rm -rf $(DEPDIR)

CCDEPMODE = @@CCDEPMODE@@

.c.o:
	source='$<' object='$@@' libtool=no @@AMDEPBACKSLASH@@
	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @@AMDEPBACKSLASH@@
	$(CCDEPMODE) $(depcomp) @@AMDEPBACKSLASH@@
	$(COMPILE) -c -o $@@ `test -f $< || echo '$(srcdir)/'`$<

.c.obj:
	source='$<' object='$@@' libtool=no @@AMDEPBACKSLASH@@
	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @@AMDEPBACKSLASH@@
	$(CCDEPMODE) $(depcomp) @@AMDEPBACKSLASH@@
	$(COMPILE) -c -o $@@ `cygpath -w $<`


DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)

top_distdir = ..
distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)

distdir: $(DISTFILES)
	@@for file in $(DISTFILES); do \
	  d=$(srcdir); \
	  if test -d $$d/$$file; then \
	    cp -pR $$d/$$file $(distdir) \
	    || exit 1; \
	  else \
	    test -f $(distdir)/$$file \
	    || cp -p $$d/$$file $(distdir)/$$file \
	    || exit 1; \
	  fi; \
	done
check-am: all-am
	$(MAKE) $(AM_MAKEFLAGS) check-local
check: check-am
all-am: Makefile $(PROGRAMS) $(SCRIPTS) options.h

installdirs:
	$(mkinstalldirs) $(DESTDIR)$(bindir) $(DESTDIR)$(bindir)

install: install-am
install-exec: install-exec-am
install-data: install-data-am
uninstall: uninstall-am

install-am:
	@@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am

installcheck: installcheck-am

install-strip:
	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
	  INSTALL_PROGRAM_ENV='$(INSTALL_STRIP_PROGRAM_ENV)' install

mostlyclean-generic:

clean-generic:

distclean-generic:
	-rm -f Makefile $(CONFIG_CLEAN_FILES)
	-rm -f config.cache config.log stamp-h stamp-h[0-9]*
	-test -z "$(DISTCLEANFILES)" || rm -f $(DISTCLEANFILES)

maintainer-clean-generic:
	@@echo "This command is intended for maintainers to use"
	@@echo "it deletes files that may require special tools to rebuild."
	-rm -f Makefile.in
clean: clean-am

clean-am: clean-binPROGRAMS clean-generic mostlyclean-am

distclean: distclean-am

distclean-am: clean-am distclean-compile distclean-depend \
	distclean-generic distclean-hdr distclean-tags

dvi:

dvi-am:

info:

info-am:

install-data-am:

install-exec-am: install-binPROGRAMS install-binSCRIPTS

install-info:

install-man:

installcheck-am:

maintainer-clean: maintainer-clean-am

maintainer-clean-am: distclean-am maintainer-clean-generic

mostlyclean: mostlyclean-am

mostlyclean-am: mostlyclean-compile mostlyclean-generic

uninstall-am: uninstall-binPROGRAMS uninstall-binSCRIPTS

.PHONY: all all-am check check-am check-local clean clean-binPROGRAMS \
	clean-generic distclean distclean-compile distclean-depend \
	distclean-generic distclean-hdr distclean-tags distdir dvi \
	dvi-am info info-am install install-am install-binPROGRAMS \
	install-binSCRIPTS install-data install-data-am install-exec \
	install-exec-am install-info install-man install-strip \
	installcheck installcheck-am installdirs maintainer-clean \
	maintainer-clean-generic mostlyclean mostlyclean-compile \
	mostlyclean-generic tags uninstall uninstall-am \
	uninstall-binPROGRAMS uninstall-binSCRIPTS


check-local:
	$(SHELL) $(srcdir)/sanity.sh `pwd`/cvs

.PHONY: remotecheck
remotecheck: all
	$(SHELL) $(srcdir)/sanity.sh -r `pwd`/cvs

# version.c
# - build this here so that we can distribute it
# - version.c needs to be updated only once, since it depends on
#   configure.in, not on the results of a 'configure' run.
# - It is guaranteed (with GNU Make) that when the version in configure.in
#   is changed, acversion.m4 is built only after the new version number is
#   propagated to the Makefile.  (Libtool uses the same guarantee.)
# - need the explicit version.o dependency or else make won't match
#   $(top_srcdir)/version.c when looking for a dependency for version.c
version.o: version.c
version.c: $(srcdir)/version.c.in $(top_srcdir)/configure.in
	sed 's,@@VERSION\@@,$(VERSION),g' $(srcdir)/version.c.in > version.tc
	mv version.tc version.c

# for backwards compatibility with the old makefiles
.PHONY: realclean
realclean: maintainer-clean

# Tell versions [3.59,3.63) of GNU make to not export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
@


1.15
log
@Quick fix for zlib's update.
@
text
@d324 1
a324 1
install-binPROGRAMS: $(bin_PROGRAMS)
d511 1
a511 1
install-am: all-am
@


1.14
log
@make ro /usr/src work again, tholo@@ ok
while I'm here, make 'cleandir' cleanup all files
@
text
@d107 1
a107 1
INCLUDES = -I$(top_srcdir)/lib -I$(top_srcdir)/diff -I$(top_srcdir)/zlib $(includeopt)
@


1.13
log
@Merge remaining local changes, correct build issues
@
text
@d297 1
a297 1
options.h: stamp-h2
d597 5
a601 5
#   $(srcdir)/version.c when looking for a dependency for version.c
version.o: $(srcdir)/version.c
$(srcdir)/version.c: $(srcdir)/version.c.in $(top_srcdir)/configure.in
	sed 's,@@VERSION\@@,$(VERSION),g' $(srcdir)/version.c.in >$(srcdir)/version.tc
	mv $(srcdir)/version.tc $(srcdir)/version.c
@


1.12
log
@Merge local changes; work in progress
@
text
@d183 1
a183 1
	../zlib/libz.a \
d232 1
a232 1
cvs_DEPENDENCIES = ../diff/libdiff.a ../lib/libcvs.a ../zlib/libz.a \
@


1.11
log
@Integrate local changes
@
text
@d1 15
d17 1
a17 2
# Do not use this makefile directly, but only from `../Makefile'.
# Copyright (C) 1986, 1988-1990 Free Software Foundation, Inc.
a28 1
SHELL = /bin/sh
d30 1
a30 1
srcdir     = @@srcdir@@
d32 1
a32 2
VPATH      = @@srcdir@@

a35 1
# Where to install the executables.
d37 11
d49 10
a58 5
# Where to put the system-wide .cvsrc file
datadir = $(prefix)/share

# Where to put the manual pages.
mandir = @@mandir@@
a59 1
# Use cp if you don't have install.
d61 1
d63 179
a241 1
INSTALL_PROGRAM = @@INSTALL_PROGRAM@@
d243 4
d248 94
d343 2
a344 25
SOURCES = add.c admin.c buffer.c checkin.c checkout.c classify.c client.c \
commit.c create_adm.c cvsrc.c diff.c edit.c entries.c error.c expand_path.c \
fileattr.c find_names.c hardlink.c hash.c history.c ignore.c import.c \
lock.c log.c login.c logmsg.c main.c mkmodules.c modules.c myndbm.c no_diff.c \
parseinfo.c patch.c rcs.c rcscmds.c recurse.c release.c remove.c repos.c \
root.c rtag.c scramble.c server.c status.c subr.c filesubr.c run.c \
tag.c update.c watch.c wrapper.c vers_ts.c version.c zlib.c

OBJECTS = add.o admin.o buffer.o checkin.o checkout.o classify.o client.o \
commit.o create_adm.o cvsrc.o diff.o edit.o entries.o expand_path.o \
fileattr.o find_names.o hardlink.o hash.o history.o ignore.o import.o \
lock.o log.o login.o logmsg.o main.o mkmodules.o modules.o myndbm.o no_diff.o \
parseinfo.o patch.o rcs.o rcscmds.o recurse.o release.o remove.o repos.o \
root.o rtag.o scramble.o server.o status.o tag.o update.o \
watch.o wrapper.o vers_ts.o \
subr.o filesubr.o run.o version.o error.o zlib.o

HEADERS = buffer.h cvs.h rcs.h hardlink.h hash.h myndbm.h \
	update.h server.h client.h error.h fileattr.h edit.h watch.h

TAGFILES = $(HEADERS) options.h.in $(SOURCES)

DISTFILES = .cvsignore Makefile.in \
	    ChangeLog ChangeLog-97 ChangeLog-96 ChangeLog-9395 ChangeLog-9194 \
            sanity.sh cvsbug.sh $(TAGFILES) build_src.com
d346 16
a361 1
PROGS = cvs cvsbug
d363 7
a369 1
DEFS = @@DEFS@@ @@includeopt@@
d371 2
a372 5
CC	 = @@CC@@
CFLAGS = @@CFLAGS@@
CPPFLAGS =
LDFLAGS = @@LDFLAGS@@
ZLIB = @@ZLIB@@
d374 2
a375 2
INCLUDES = -I. -I.. -I$(srcdir) -I$(top_srcdir)/lib
ZLIB_INCLUDES = @@ZLIB_INCLUDES@@
d377 1
a377 2
.c.o:
	$(CC) $(CPPFLAGS) $(INCLUDES) $(DEFS) $(CFLAGS) -c $<
d379 83
a461 2
all: Makefile $(PROGS)
.PHONY: all
d463 2
a464 2
saber_cvs:
	@@cd ..; $(MAKE) saber SUBDIRS=src
d466 1
a466 2
lint:
	@@cd ..; $(MAKE) lint SUBDIRS=src
d468 29
a496 4
install: installdirs
	@@for prog in $(PROGS); do \
	  echo Installing $$prog in $(bindir); \
	  $(INSTALL_PROGRAM) $$prog $(bindir)/$$prog ; \
d498 4
d504 34
a537 1
	$(SHELL) $(top_srcdir)/mkinstalldirs $(bindir)
d539 2
a540 1
.PHONY: install installdirs
d542 1
a542 3
installcheck:
	$(SHELL) $(srcdir)/sanity.sh $(bindir)/cvs
.PHONY: installcheck
d544 1
a544 3
check: all
	$(SHELL) $(srcdir)/sanity.sh `pwd`/cvs
.PHONY: check
d546 1
a546 5
# I'm not sure there is any remaining reason for this to be separate from
# `make check'.
remotecheck: all
	$(SHELL) $(srcdir)/sanity.sh -r `pwd`/cvs
.PHONY: remotecheck
d548 1
a548 2
tags: $(TAGFILES)
	ctags $(TAGFILES)
d550 1
a550 2
TAGS: $(TAGFILES)
	etags `for i in $(TAGFILES); do echo $(srcdir)/$$i; done`
d552 1
a552 3
ls:
	@@echo $(DISTFILES)
.PHONY: ls
d554 1
a554 3
clean:
	rm -f $(PROGS) *.o core check.log check.plog
.PHONY: clean
d556 1
a556 3
distclean: clean
	rm -f tags TAGS Makefile options.h
.PHONY: distclean
d558 1
a558 2
realclean: distclean
.PHONY: realclean
d560 1
a560 6
dist-dir:
	mkdir ${DISTDIR}
	for i in ${DISTFILES}; do \
	  ln $(srcdir)/$${i} ${DISTDIR}; \
	done
.PHONY: dist-dir
d562 1
a562 1
# Linking rules.
d564 1
a564 1
$(PROGS): ../lib/libcvs.a ../diff/libdiff.a
d566 1
a566 2
cvs: $(OBJECTS)
	$(CC) $(OBJECTS) ../lib/libcvs.a ../diff/libdiff.a $(ZLIB) $(LIBS) $(LDFLAGS) -o $@@ 
d568 1
a568 25
xlint: $(SOURCES)
	files= ; \
	for i in $(SOURCES) ; do \
	  files="$$files $(srcdir)/$$i" ; \
	done ; \
	sh -c "lint $(DEFS) $(INCLUDES) $$files | grep -v \"possible pointer alignment problem\" \
	| grep -v \"argument closure unused\""

saber: $(SOURCES)
	# load $(CFLAGS) $(SOURCES)
	# load ../lib/libcvs.a $(LIBS)

cvsbug: cvsbug.sh $(srcdir)/version.c
	echo > .fname \
	  cvs-`sed < $(srcdir)/version.c \
		    -e '/version_string/!d' \
		    -e 's/[^0-9.]*\([0-9.]*\).*/\1/' \
		    -e q`
	sed -e 's,xDATADIRx,$(datadir)/cvs,g' \
	    -e "s,xVERSIONx,`cat .fname`,g" $(srcdir)/$@@.sh > $@@-t
	rm -f .fname
	mv $@@-t $@@
	chmod a+x $@@

# Compilation rules.
d570 10
a579 1
$(OBJECTS): $(HEADERS) options.h
a580 2
rcscmds.o: rcscmds.c $(top_srcdir)/diff/diffrun.h
	$(CC) $(CPPFLAGS) $(INCLUDES) -I$(top_srcdir)/diff $(DEFS) $(CFLAGS) -c $(srcdir)/rcscmds.c
d582 2
a583 2
zlib.o: zlib.c
	$(CC) $(CPPFLAGS) $(INCLUDES) ${ZLIB_INCLUDES} $(DEFS) $(CFLAGS) -c $(srcdir)/zlib.c
d585 3
a587 3
subdir = src
Makefile: ../config.status Makefile.in
	cd .. && CONFIG_FILES=$(subdir)/$@@ CONFIG_HEADERS= ./config.status
d589 13
a601 2
options.h: ../config.status options.h.in
	cd .. && CONFIG_FILES=$(subdir)/$@@ CONFIG_HEADERS= ./config.status
d603 3
a605 2
#../config.status: ../configure
#	cd .. ; $(SHELL) config.status --recheck
d607 3
a609 2
#../configure: ../configure.in
#	cd $(top_srcdir) ; autoconf
@


1.10
log
@Put files in /usr/libexec/cvs and /usr/libdata/cvs; suggestion from Todd
Miller <todd.miller@@courtesan.com>
@
text
@d25 1
a25 1
bindir = $(exec_prefix)/bin
d31 1
a31 1
mandir = $(prefix)/man
@


1.9
log
@Integrate local changes
@
text
@d28 1
a28 1
libdir = $(prefix)/lib
d169 1
a169 1
	sed -e 's,xLIBDIRx,$(libdir)/cvs,g' \
@


1.8
log
@Integrate local changes
@
text
@d103 1
a103 1
	RCSBIN=$(bindir) ; export RCSBIN ; $(SHELL) $(srcdir)/sanity.sh $(bindir)/cvs
a106 4
	if [ -x ../../rcs/src/rcs ] ; then \
		RCSBIN=`pwd`/../../rcs/src ; \
		export RCSBIN ; \
	fi ; \
@


1.7
log
@Use system zlib if present and of recent enough vintage
@
text
@d183 3
@


1.6
log
@Integrate local changes
@
text
@d74 1
d77 2
d150 1
a150 1
$(PROGS): ../lib/libcvs.a ../zlib/libz.a ../diff/libdiff.a
d153 1
a153 1
	$(CC) $(OBJECTS) ../lib/libcvs.a ../zlib/libz.a ../diff/libdiff.a $(LIBS) $(LDFLAGS) -o $@@ 
d184 1
a184 1
	$(CC) $(CPPFLAGS) $(INCLUDES) -I$(top_srcdir)/zlib $(DEFS) $(CFLAGS) -c $(srcdir)/zlib.c
@


1.5
log
@Integrate local changes
@
text
@d42 1
a42 1
fileattr.c find_names.c hash.c history.c ignore.c import.c \
d50 1
a50 1
fileattr.o find_names.o hash.o history.o ignore.o import.o \
d57 1
a57 1
HEADERS = buffer.h cvs.h rcs.h hash.h myndbm.h \
d128 1
a128 1
	/bin/rm -f $(PROGS) *.o core check.log check.plog
@


1.4
log
@install programs using INSTALL_PROGRAM of all things, will cvsbug this, pr 188
@
text
@d63 1
a63 1
	    ChangeLog ChangeLog-96 ChangeLog-9395 ChangeLog-9194 \
d147 1
a147 1
$(PROGS): ../lib/libcvs.a ../zlib/libz.a
d150 1
a150 1
	$(CC) $(OBJECTS) ../lib/libcvs.a ../zlib/libz.a $(LIBS) $(LDFLAGS) -o $@@ 
@


1.3
log
@back out 1.2
@
text
@d91 1
a91 1
	  $(INSTALL) $$prog $(bindir)/$$prog ; \
@


1.2
log
@install programs using INSTALL_PROGRAM of all things, will cvsbug this, pr 188
@
text
@d147 1
a147 1
$(PROGS): ../lib/libcvs.a $(ZLIB)
d150 1
a150 1
	$(CC) $(OBJECTS) ../lib/libcvs.a $(LIBS) $(LDFLAGS) -o $@@ 
@


1.1
log
@Initial revision
@
text
@a14 6
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.

# $CVSid: @@(#)Makefile.in 1.19 94/09/29 $

d40 4
a43 3
SOURCES = add.c admin.c checkin.c checkout.c classify.c client.c commit.c \
create_adm.c cvsrc.c diff.c entries.c find_names.c hash.c history.c ignore.c \
import.c lock.c log.c logmsg.c main.c modules.c myndbm.c no_diff.c \
d45 7
a51 7
root.c rtag.c server.c status.c subr.c filesubr.c run.c tag.c update.c \
wrapper.c vers_ts.c version.c
MSOURCES = mkmodules.c

OBJECTS = add.o admin.o checkin.o checkout.o classify.o commit.o \
create_adm.o cvsrc.o diff.o entries.o find_names.o hash.o history.o \
ignore.o import.o lock.o log.o logmsg.o main.o modules.o myndbm.o no_diff.o \
d53 3
a55 1
root.o rtag.o status.o tag.o update.o wrapper.o vers_ts.o server.o client.o
d57 2
a58 1
MOBJECTS = hash.o mkmodules.o myndbm.o
d60 1
a60 1
COMMON_OBJECTS = subr.o filesubr.o run.o version.o
d62 3
a64 2
HEADERS = cvs.h rcs.h hash.h myndbm.h patchlevel.h \
	update.h server.h client.h
d66 1
a66 6
DISTFILES = .cvsignore Makefile.in ChangeLog ChangeLog.fsf \
	    NOTES README-rm-add \
            sanity.sh cvsbug.sh \
            $(HEADERS) options.h.in $(SOURCES) $(MSOURCES) 

PROGS = cvs mkmodules cvsbug
d79 1
a79 1
all: $(PROGS)
d88 1
a88 2
# CYGNUS LOCAL: Do not depend upon installdirs
install:
d117 2
a118 2
tags: $(DISTFILES)
	ctags $(DISTFILES)
d120 2
a121 2
TAGS: $(DISTFILES)
	etags `for i in $(DISTFILES); do echo $(srcdir)/$$i; done`
d128 1
a128 1
	/bin/rm -f $(PROGS) *.o core
d147 1
a147 1
$(PROGS): ../lib/libcvs.a
d149 2
a150 2
cvs: $(OBJECTS) $(COMMON_OBJECTS)
	$(CC) $(OBJECTS) $(COMMON_OBJECTS) ../lib/libcvs.a $(LIBS) $(LDFLAGS) -o $@@ 
d164 11
a174 2
mkmodules: $(MOBJECTS) $(COMMON_OBJECTS)
	$(CC) $(LDFLAGS) -o $@@ $(MOBJECTS) $(COMMON_OBJECTS) ../lib/libcvs.a $(LIBS) $(LIBIBERTY)
d176 1
a176 2
cvsbug: cvsbug.sh
	cp $(srcdir)/cvsbug.sh cvsbug
d178 1
a178 1
# Compilation rules.
d180 2
a181 1
$(OBJECTS) $(COMMON_OBJECTS) mkmodules.o: $(HEADERS) options.h
@


1.1.1.1
log
@raw import of cvs-1.6
@
text
@@


1.1.1.2
log
@Upgrade to 1.7.1 snapshot
@
text
@d47 2
a48 3
create_adm.c cvsrc.c diff.c edit.c entries.c error.c expand_path.c \
fileattr.c find_names.c hash.c history.c ignore.c import.c \
lock.c log.c login.c logmsg.c main.c modules.c myndbm.c no_diff.c \
d50 2
a51 2
root.c rtag.c scramble.c server.c status.c subr.c filesubr.c run.c \
tag.c update.c watch.c wrapper.c vers_ts.c version.c
d54 3
a56 4
OBJECTS = add.o admin.o checkin.o checkout.o classify.o client.o commit.o \
create_adm.o cvsrc.o diff.o edit.o entries.o expand_path.o \
fileattr.o find_names.o hash.o history.o ignore.o import.o \
lock.o log.o login.o logmsg.o main.o modules.o myndbm.o no_diff.o \
d58 1
a58 2
root.o rtag.o scramble.o server.o status.o tag.o update.o \
watch.o wrapper.o vers_ts.o
d62 1
a62 1
COMMON_OBJECTS = subr.o filesubr.o run.o version.o error.o
d64 2
a65 4
HEADERS = cvs.h rcs.h hash.h myndbm.h \
	update.h server.h client.h error.h fileattr.h edit.h watch.h

TAGFILES = $(HEADERS) options.h.in $(SOURCES) $(MSOURCES)
d69 2
a70 1
            sanity.sh cvsbug.sh $(TAGFILES)
d85 1
a85 1
all: Makefile $(PROGS)
d124 2
a125 2
tags: $(TAGFILES)
	ctags $(TAGFILES)
d127 2
a128 2
TAGS: $(TAGFILES)
	etags `for i in $(TAGFILES); do echo $(srcdir)/$$i; done`
d175 1
a175 10
	echo > .fname \
	  cvs-`sed < $(srcdir)/version.c \
		    -e '/version_string/!d' \
		    -e 's/[^0-9.]*\([0-9.]*\).*/\1/' \
		    -e q`
	sed -e 's,xLIBDIRx,$(libdir)/cvs,g' \
	    -e "s,xVERSIONx,`cat .fname`,g" $(srcdir)/$@@.sh > $@@-t
	rm -f .fname
	mv $@@-t $@@
	chmod a+x $@@
@


1.1.1.3
log
@Latest public release from Cyclic; fixes numerous memory leaks and have
some performance improvements
@
text
@d49 1
a49 1
lock.c log.c login.c logmsg.c main.c mkmodules.c modules.c myndbm.c no_diff.c \
d53 1
d58 1
a58 1
lock.o log.o login.o logmsg.o main.o mkmodules.o modules.o myndbm.o no_diff.o \
d61 5
a65 2
watch.o wrapper.o vers_ts.o \
subr.o filesubr.o run.o version.o error.o
d70 1
a70 1
TAGFILES = $(HEADERS) options.h.in $(SOURCES)
d72 1
a72 1
DISTFILES = .cvsignore Makefile.in ChangeLog ChangeLog-9395 ChangeLog-9194 \
d76 1
a76 1
PROGS = cvs cvsbug
d139 1
a139 1
	/bin/rm -f $(PROGS) *.o core check.log check.plog
d160 2
a161 2
cvs: $(OBJECTS)
	$(CC) $(OBJECTS) ../lib/libcvs.a $(LIBS) $(LDFLAGS) -o $@@ 
d175 3
d192 1
a192 1
$(OBJECTS): $(HEADERS) options.h
@


1.1.1.4
log
@New release from Cyclic Software
@
text
@d46 2
a47 2
SOURCES = add.c admin.c buffer.c checkin.c checkout.c classify.c client.c \
commit.c create_adm.c cvsrc.c diff.c edit.c entries.c error.c expand_path.c \
d52 1
a52 1
tag.c update.c watch.c wrapper.c vers_ts.c version.c zlib.c
d54 2
a55 2
OBJECTS = add.o admin.o buffer.o checkin.o checkout.o classify.o client.o \
commit.o create_adm.o cvsrc.o diff.o edit.o entries.o expand_path.o \
d61 1
a61 1
subr.o filesubr.o run.o version.o error.o zlib.o
d63 1
a63 1
HEADERS = buffer.h cvs.h rcs.h hash.h myndbm.h \
d69 2
a70 2
	    NOTES \
            sanity.sh cvsbug.sh $(TAGFILES) build_src.com
d154 1
a154 1
$(PROGS): ../lib/libcvs.a ../zlib/libz.a
d157 1
a157 1
	$(CC) $(OBJECTS) ../lib/libcvs.a ../zlib/libz.a $(LIBS) $(LDFLAGS) -o $@@ 
d171 1
a171 1
cvsbug: cvsbug.sh $(srcdir)/version.c
a185 3

zlib.o: zlib.c
	$(CC) $(CPPFLAGS) $(INCLUDES) -I$(top_srcdir)/zlib $(DEFS) $(CFLAGS) -c $(srcdir)/zlib.c
@


1.1.1.5
log
@New release from Cyclic Software
@
text
@d15 6
d68 1
a68 2
DISTFILES = .cvsignore Makefile.in \
	    ChangeLog ChangeLog-96 ChangeLog-9395 ChangeLog-9194 \
@


1.1.1.6
log
@New release from Cyclic Software
@
text
@d64 1
@


1.1.1.7
log
@Latest release from Cyclic Software
@
text
@d88 2
a89 1
install: installdirs
@


1.1.1.8
log
@Latest version from Cyclic
@
text
@d63 1
a63 1
	    ChangeLog ChangeLog-97 ChangeLog-96 ChangeLog-9395 ChangeLog-9194 \
d147 1
a147 1
$(PROGS): ../lib/libcvs.a ../zlib/libz.a ../diff/libdiff.a
d150 1
a150 1
	$(CC) $(OBJECTS) ../lib/libcvs.a ../zlib/libz.a ../diff/libdiff.a $(LIBS) $(LDFLAGS) -o $@@ 
@


1.1.1.9
log
@Latest version from Cyclic
@
text
@d42 1
a42 1
fileattr.c find_names.c hardlink.c hash.c history.c ignore.c import.c \
d50 1
a50 1
fileattr.o find_names.o hardlink.o hash.o history.o ignore.o import.o \
d57 1
a57 1
HEADERS = buffer.h cvs.h rcs.h hardlink.h hash.h myndbm.h \
d128 1
a128 1
	rm -f $(PROGS) *.o core check.log check.plog
@


1.1.1.10
log
@Latest version from Cyclic
@
text
@d180 1
a180 4
rcscmds.o: rcscmds.c $(top_srcdir)/diff/diffrun.h
	$(CC) $(CPPFLAGS) $(INCLUDES) -I$(top_srcdir)/diff $(DEFS) $(CFLAGS) -c $(srcdir)/rcscmds.c

zlib.o: zlib.c $(top_srcdir)/zlib/zlib.h
@


1.1.1.11
log
@Latest version from Cyclic
@
text
@d100 1
a100 1
	$(SHELL) $(srcdir)/sanity.sh $(bindir)/cvs
d104 4
@


1.1.1.12
log
@Latest from Cyclic Software
@
text
@d25 1
a25 1
bindir = @@bindir@@
d28 1
a28 1
libdir = @@libdir@@
d31 1
a31 1
mandir = @@mandir@@
@


1.1.1.13
log
@Latest from Cyclic Software
@
text
@a0 15
# Makefile.in generated automatically by automake 1.4e from Makefile.am.

# Copyright 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
# Free Software Foundation, Inc.
# This Makefile.in is free software; the Free Software Foundation
# gives unlimited permission to copy and/or distribute it,
# with or without modifications, as long as this notice is preserved.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.

@@SET_MAKE@@

d2 2
a3 1
# Copyright (C) 1986, 1988-1990, 2000 Free Software Foundation, Inc.
d15 1
d17 1
a17 1
srcdir = @@srcdir@@
d19 2
a20 1
VPATH = @@srcdir@@
d24 1
d26 2
a27 6
sbindir = @@sbindir@@
libexecdir = @@libexecdir@@
datadir = @@datadir@@
sysconfdir = @@sysconfdir@@
sharedstatedir = @@sharedstatedir@@
localstatedir = @@localstatedir@@
d29 2
a30 1
infodir = @@infodir@@
a31 13
includedir = @@includedir@@
oldincludedir = /usr/include

pkgdatadir = $(datadir)/@@PACKAGE@@
pkglibdir = $(libdir)/@@PACKAGE@@
pkgincludedir = $(includedir)/@@PACKAGE@@

top_builddir = ..

ACLOCAL = @@ACLOCAL@@
AUTOCONF = @@AUTOCONF@@
AUTOMAKE = @@AUTOMAKE@@
AUTOHEADER = @@AUTOHEADER@@
d33 1
d35 1
a36 37
INSTALL_DATA = @@INSTALL_DATA@@
INSTALL_SCRIPT = @@INSTALL_SCRIPT@@
INSTALL_HEADER = $(INSTALL_DATA)
transform = @@program_transform_name@@

NORMAL_INSTALL = :
PRE_INSTALL = :
POST_INSTALL = :
NORMAL_UNINSTALL = :
PRE_UNINSTALL = :
POST_UNINSTALL = :
AMTAR = @@AMTAR@@
AWK = @@AWK@@
CC = @@CC@@
CSH = @@CSH@@
DEPDIR = @@DEPDIR@@
ETAGS = @@ETAGS@@
ETAGS_INCLUDE_OPTION = @@ETAGS_INCLUDE_OPTION@@
INSTALL_STRIP_PROGRAM = @@INSTALL_STRIP_PROGRAM@@
INSTALL_STRIP_PROGRAM_ENV = @@INSTALL_STRIP_PROGRAM_ENV@@
KRB4 = @@KRB4@@
LN_S = @@LN_S@@
MAKEINFO = @@MAKEINFO@@
PACKAGE = @@PACKAGE@@
PERL = @@PERL@@
PR = @@PR@@
PS2PDF = @@PS2PDF@@
RANLIB = @@RANLIB@@
ROFF = @@ROFF@@
STRIP = @@STRIP@@
TEXI2DVI = @@TEXI2DVI@@
VERSION = @@VERSION@@
YACC = @@YACC@@
_am_include = @@_am_include@@
_am_quote = @@_am_quote@@
includeopt = @@includeopt@@
install_sh = @@install_sh@@
d38 27
a64 1
SHELL = /bin/sh
d66 1
a66 102
# $(includeopt) is CVS specific and set by configure
# FIXME - This includes line is dependant on its order.  This means there is
# some namespace hackery going on that maybe shouldn't be.  Long term fix is to
# try and remove naming ocnflicts and fix Automake to allow particular includes
# to be attached only to particular object files.  Short term fix is either or.
INCLUDES = -I$(top_srcdir)/lib -I$(top_srcdir)/diff -I$(top_srcdir)/zlib $(includeopt)

bin_PROGRAMS = cvs
bin_SCRIPTS = cvsbug

# The cvs executable
cvs_SOURCES = \
	add.c \
	admin.c \
	annotate.c \
	buffer.c \
	checkin.c \
	checkout.c \
	classify.c \
	client.c \
	commit.c \
	create_adm.c \
	cvsrc.c diff.c \
	edit.c \
	entries.c \
	error.c \
	expand_path.c \
	fileattr.c \
	filesubr.c \
	find_names.c \
	hardlink.c \
	hash.c \
	history.c \
	ignore.c \
	import.c \
	lock.c \
	log.c \
	login.c \
	logmsg.c \
	main.c \
	mkmodules.c \
	modules.c \
	myndbm.c \
	no_diff.c \
	parseinfo.c \
	patch.c \
	rcs.c \
	rcscmds.c \
	recurse.c \
	release.c \
	remove.c \
	repos.c \
	root.c \
	run.c \
	scramble.c \
	server.c \
	status.c \
	subr.c \
	tag.c \
	update.c \
	vers_ts.c \
	watch.c \
	wrapper.c \
	zlib.c \
	buffer.h \
	client.h \
	cvs.h \
	edit.h \
	error.h \
	fileattr.h \
	hardlink.h \
	hash.h \
	myndbm.h \
	rcs.h \
	server.h \
	update.h \
	watch.h

cvs_LDADD = \
	../diff/libdiff.a \
	../lib/libcvs.a \
	../zlib/libz.a \
	version.o

cvs_EXTRA_DIST = version.c

# extra clean targets
# wish this could be distclean-hdr-local but it's not part of automake
DISTCLEANFILES = options.h-SAVED check.log check.plog

# General
EXTRA_DIST = \
	$(cvs_EXTRA_DIST) \
	.cvsignore \
	ChangeLog-9194 \
	ChangeLog-9395 \
	ChangeLog-96 \
	ChangeLog-97 \
	build_src.com \
	sanity.sh \
	version.c \
	version.c.in
d68 1
a68 31
EXEEXT =
OBJEXT = o
subdir = src
mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
CONFIG_HEADER = $(top_builddir)/config.h options.h
CONFIG_CLEAN_FILES = cvsbug
bin_PROGRAMS = cvs$(EXEEXT)
PROGRAMS = $(bin_PROGRAMS)

am_cvs_OBJECTS = add.$(OBJEXT) admin.$(OBJEXT) annotate.$(OBJEXT) \
	buffer.$(OBJEXT) checkin.$(OBJEXT) checkout.$(OBJEXT) \
	classify.$(OBJEXT) client.$(OBJEXT) commit.$(OBJEXT) \
	create_adm.$(OBJEXT) cvsrc.$(OBJEXT) diff.$(OBJEXT) \
	edit.$(OBJEXT) entries.$(OBJEXT) error.$(OBJEXT) \
	expand_path.$(OBJEXT) fileattr.$(OBJEXT) filesubr.$(OBJEXT) \
	find_names.$(OBJEXT) hardlink.$(OBJEXT) hash.$(OBJEXT) \
	history.$(OBJEXT) ignore.$(OBJEXT) import.$(OBJEXT) \
	lock.$(OBJEXT) log.$(OBJEXT) login.$(OBJEXT) logmsg.$(OBJEXT) \
	main.$(OBJEXT) mkmodules.$(OBJEXT) modules.$(OBJEXT) \
	myndbm.$(OBJEXT) no_diff.$(OBJEXT) parseinfo.$(OBJEXT) \
	patch.$(OBJEXT) rcs.$(OBJEXT) rcscmds.$(OBJEXT) \
	recurse.$(OBJEXT) release.$(OBJEXT) remove.$(OBJEXT) \
	repos.$(OBJEXT) root.$(OBJEXT) run.$(OBJEXT) scramble.$(OBJEXT) \
	server.$(OBJEXT) status.$(OBJEXT) subr.$(OBJEXT) tag.$(OBJEXT) \
	update.$(OBJEXT) vers_ts.$(OBJEXT) watch.$(OBJEXT) \
	wrapper.$(OBJEXT) zlib.$(OBJEXT)
cvs_OBJECTS = $(am_cvs_OBJECTS)
cvs_DEPENDENCIES = ../diff/libdiff.a ../lib/libcvs.a ../zlib/libz.a \
	version.o
cvs_LDFLAGS =
SCRIPTS = $(bin_SCRIPTS)
d70 1
a70 2
COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
d72 1
a72 6
CCLD = $(CC)
LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@@

DEFAULT_INCLUDES =  -I. -I$(srcdir) -I$(top_builddir) -I.
DEFS = @@DEFS@@
CPPFLAGS = @@CPPFLAGS@@
a73 87
LIBS = @@LIBS@@
DIST_SOURCES = $(cvs_SOURCES)
depcomp = $(SHELL) $(top_srcdir)/depcomp
@@AMDEP_TRUE@@DEP_FILES = $(DEPDIR)/add.Po $(DEPDIR)/admin.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/annotate.Po $(DEPDIR)/buffer.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/checkin.Po $(DEPDIR)/checkout.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/classify.Po $(DEPDIR)/client.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/commit.Po $(DEPDIR)/create_adm.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/cvsrc.Po $(DEPDIR)/diff.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/edit.Po $(DEPDIR)/entries.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/error.Po $(DEPDIR)/expand_path.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/fileattr.Po $(DEPDIR)/filesubr.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/find_names.Po $(DEPDIR)/hardlink.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/hash.Po $(DEPDIR)/history.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/ignore.Po $(DEPDIR)/import.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/lock.Po $(DEPDIR)/log.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/login.Po $(DEPDIR)/logmsg.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/main.Po $(DEPDIR)/mkmodules.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/modules.Po $(DEPDIR)/myndbm.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/no_diff.Po $(DEPDIR)/parseinfo.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/patch.Po $(DEPDIR)/rcs.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/rcscmds.Po $(DEPDIR)/recurse.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/release.Po $(DEPDIR)/remove.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/repos.Po $(DEPDIR)/root.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/run.Po $(DEPDIR)/scramble.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/server.Po $(DEPDIR)/status.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/subr.Po $(DEPDIR)/tag.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/update.Po $(DEPDIR)/vers_ts.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/watch.Po $(DEPDIR)/wrapper.Po \
@@AMDEP_TRUE@@	$(DEPDIR)/zlib.Po
DIST_COMMON = ./stamp-h2.in ChangeLog Makefile.am Makefile.in cvsbug.in \
	options.h.in
SOURCES = $(cvs_SOURCES)
OBJECTS = $(am_cvs_OBJECTS)

all: options.h
	$(MAKE) $(AM_MAKEFLAGS) all-am

.SUFFIXES:
.SUFFIXES: .c .o .obj

$(srcdir)/Makefile.in:  Makefile.am  $(top_srcdir)/configure.in $(ACLOCAL_M4)
	cd $(top_srcdir) && \
	  $(AUTOMAKE) --gnu  src/Makefile

Makefile:  $(srcdir)/Makefile.in  $(top_builddir)/config.status
	cd $(top_builddir) && \
	  CONFIG_HEADERS= CONFIG_LINKS= \
	  CONFIG_FILES=$(subdir)/$@@ $(SHELL) ./config.status

options.h: stamp-h2
	@@if test ! -f $@@; then \
		rm -f stamp-h2; \
		$(MAKE) stamp-h2; \
	else :; fi
stamp-h2: $(srcdir)/options.h.in $(top_builddir)/config.status
	@@rm -f stamp-h2 stamp-h2T
	@@echo timestamp > stamp-h2T 2> /dev/null
	cd $(top_builddir) \
	  && CONFIG_FILES= CONFIG_HEADERS=src/options.h \
	     $(SHELL) ./config.status
	@@mv stamp-h2T stamp-h2
$(srcdir)/options.h.in:  $(srcdir)/./stamp-h2.in
	@@if test ! -f $@@; then \
		rm -f $(srcdir)/./stamp-h2.in; \
		$(MAKE) $(srcdir)/./stamp-h2.in; \
	else :; fi
$(srcdir)/./stamp-h2.in: $(top_srcdir)/configure.in $(ACLOCAL_M4) $(top_srcdir)/acconfig.h
	@@rm -f $(srcdir)/./stamp-h2.in $(srcdir)/./stamp-h2.inT
	@@echo timestamp > $(srcdir)/./stamp-h2.inT 2> /dev/null
	cd $(top_srcdir) && $(AUTOHEADER)
	@@mv $(srcdir)/./stamp-h2.inT $(srcdir)/./stamp-h2.in

distclean-hdr:
	-rm -f options.h
cvsbug: $(top_builddir)/config.status cvsbug.in
	cd $(top_builddir) && CONFIG_FILES=$(subdir)/$@@ CONFIG_HEADERS= CONFIG_LINKS= $(SHELL) ./config.status
install-binPROGRAMS: $(bin_PROGRAMS)
	@@$(NORMAL_INSTALL)
	$(mkinstalldirs) $(DESTDIR)$(bindir)
	@@list='$(bin_PROGRAMS)'; for p in $$list; do \
	  if test -f $$p; then \
	    f=`echo $$p|sed 's/$(EXEEXT)$$//;$(transform);s/$$/$(EXEEXT)/'`; \
	   echo " $(INSTALL_PROGRAM_ENV) $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/$$f"; \
	   $(INSTALL_PROGRAM_ENV) $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/$$f; \
	  else :; fi; \
	done
d75 3
a77 35
uninstall-binPROGRAMS:
	@@$(NORMAL_UNINSTALL)
	@@list='$(bin_PROGRAMS)'; for p in $$list; do \
	  f=`echo $$p|sed 's/$(EXEEXT)$$//;$(transform);s/$$/$(EXEEXT)/'`; \
	  echo " rm -f $(DESTDIR)$(bindir)/$$f"; \
	  rm -f $(DESTDIR)$(bindir)/$$f; \
	done

clean-binPROGRAMS:
	-test -z "$(bin_PROGRAMS)" || rm -f $(bin_PROGRAMS)

cvs$(EXEEXT): $(cvs_OBJECTS) $(cvs_DEPENDENCIES)
	@@rm -f cvs$(EXEEXT)
	$(LINK) $(cvs_LDFLAGS) $(cvs_OBJECTS) $(cvs_LDADD) $(LIBS)
install-binSCRIPTS: $(bin_SCRIPTS)
	@@$(NORMAL_INSTALL)
	$(mkinstalldirs) $(DESTDIR)$(bindir)
	@@list='$(bin_SCRIPTS)'; for p in $$list; do \
	  f="`echo $$p|sed '$(transform)'`"; \
	  if test -f $$p; then \
	    echo " $(INSTALL_SCRIPT) $$p $(DESTDIR)$(bindir)/$$f"; \
	    $(INSTALL_SCRIPT) $$p $(DESTDIR)$(bindir)/$$f; \
	  elif test -f $(srcdir)/$$p; then \
	    echo " $(INSTALL_SCRIPT) $(srcdir)/$$p $(DESTDIR)$(bindir)/$$f"; \
	    $(INSTALL_SCRIPT) $(srcdir)/$$p $(DESTDIR)$(bindir)/$$f; \
	  else :; fi; \
	done

uninstall-binSCRIPTS:
	@@$(NORMAL_UNINSTALL)
	@@list='$(bin_SCRIPTS)'; for p in $$list; do \
	  f="`echo $$p|sed '$(transform)'`"; \
	  echo " rm -f $(DESTDIR)$(bindir)/$$f"; \
	  rm -f $(DESTDIR)$(bindir)/$$f; \
	done
d79 2
a80 2
mostlyclean-compile:
	-rm -f *.$(OBJEXT) core *.core
d82 2
a83 2
distclean-compile:
	-rm -f *.tab.c
d85 2
a86 1
tags: TAGS
d88 4
a91 118
ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
	unique=`for i in $$list; do \
	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
	  done | \
	  $(AWK) '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	mkid -fID $$unique $(LISP)

TAGS:  $(HEADERS) $(SOURCES) options.h.in $(TAGS_DEPENDENCIES) \
		$(TAGS_FILES) $(LISP)
	tags=; \
	here=`pwd`; \
	list='$(SOURCES) $(HEADERS) $(TAGS_FILES)'; \
	unique=`for i in $$list @@CONFIG@@; do \
	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
	  done | \
	  $(AWK) '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	test -z "$(ETAGS_ARGS)options.h.in$$unique$(LISP)$$tags" \
	  || $(ETAGS) $(ETAGS_ARGS) $$tags options.h.in $$unique $(LISP)

GTAGS:
	here=`CDPATH=: && cd $(top_builddir) && pwd` \
	  && cd $(top_srcdir) \
	  && gtags -i $$here

distclean-tags:
	-rm -f TAGS ID

@@_am_include@@ @@_am_quote@@$(DEPDIR)/add.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/admin.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/annotate.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/buffer.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/checkin.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/checkout.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/classify.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/client.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/commit.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/create_adm.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/cvsrc.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/diff.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/edit.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/entries.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/error.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/expand_path.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/fileattr.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/filesubr.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/find_names.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/hardlink.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/hash.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/history.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/ignore.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/import.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/lock.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/log.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/login.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/logmsg.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/main.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/mkmodules.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/modules.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/myndbm.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/no_diff.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/parseinfo.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/patch.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/rcs.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/rcscmds.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/recurse.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/release.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/remove.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/repos.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/root.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/run.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/scramble.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/server.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/status.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/subr.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/tag.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/update.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/vers_ts.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/watch.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/wrapper.Po@@_am_quote@@
@@_am_include@@ @@_am_quote@@$(DEPDIR)/zlib.Po@@_am_quote@@

distclean-depend:
	-rm -rf $(DEPDIR)

CCDEPMODE = @@CCDEPMODE@@

.c.o:
	source='$<' object='$@@' libtool=no @@AMDEPBACKSLASH@@
	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @@AMDEPBACKSLASH@@
	$(CCDEPMODE) $(depcomp) @@AMDEPBACKSLASH@@
	$(COMPILE) -c -o $@@ `test -f $< || echo '$(srcdir)/'`$<

.c.obj:
	source='$<' object='$@@' libtool=no @@AMDEPBACKSLASH@@
	depfile='$(DEPDIR)/$*.Po' tmpdepfile='$(DEPDIR)/$*.TPo' @@AMDEPBACKSLASH@@
	$(CCDEPMODE) $(depcomp) @@AMDEPBACKSLASH@@
	$(COMPILE) -c -o $@@ `cygpath -w $<`


DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)

top_distdir = ..
distdir = $(top_distdir)/$(PACKAGE)-$(VERSION)

distdir: $(DISTFILES)
	@@for file in $(DISTFILES); do \
	  d=$(srcdir); \
	  if test -d $$d/$$file; then \
	    cp -pR $$d/$$file $(distdir) \
	    || exit 1; \
	  else \
	    test -f $(distdir)/$$file \
	    || cp -p $$d/$$file $(distdir)/$$file \
	    || exit 1; \
	  fi; \
a92 4
check-am: all-am
	$(MAKE) $(AM_MAKEFLAGS) check-local
check: check-am
all-am: Makefile $(PROGRAMS) $(SCRIPTS) options.h
d95 1
a95 1
	$(mkinstalldirs) $(DESTDIR)$(bindir) $(DESTDIR)$(bindir)
d97 1
a97 4
install: install-am
install-exec: install-exec-am
install-data: install-data-am
uninstall: uninstall-am
d99 3
a101 2
install-am: all-am
	@@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
d103 3
a105 1
installcheck: installcheck-am
d107 5
a111 3
install-strip:
	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
	  INSTALL_PROGRAM_ENV='$(INSTALL_STRIP_PROGRAM_ENV)' install
d113 2
a114 1
mostlyclean-generic:
d116 2
a117 1
clean-generic:
d119 3
a121 4
distclean-generic:
	-rm -f Makefile $(CONFIG_CLEAN_FILES)
	-rm -f config.cache config.log stamp-h stamp-h[0-9]*
	-test -z "$(DISTCLEANFILES)" || rm -f $(DISTCLEANFILES)
d123 3
a125 5
maintainer-clean-generic:
	@@echo "This command is intended for maintainers to use"
	@@echo "it deletes files that may require special tools to rebuild."
	-rm -f Makefile.in
clean: clean-am
d127 3
a129 1
clean-am: clean-binPROGRAMS clean-generic mostlyclean-am
d131 2
a132 1
distclean: distclean-am
d134 6
a139 2
distclean-am: clean-am distclean-compile distclean-depend \
	distclean-generic distclean-hdr distclean-tags
d141 1
a141 1
dvi:
d143 1
a143 1
dvi-am:
d145 2
a146 1
info:
d148 25
a172 1
info-am:
d174 1
a174 1
install-data-am:
d176 2
a177 1
install-exec-am: install-binPROGRAMS install-binSCRIPTS
d179 2
a180 1
install-info:
d182 3
a184 5
install-man:

installcheck-am:

maintainer-clean: maintainer-clean-am
d186 2
a187 1
maintainer-clean-am: distclean-am maintainer-clean-generic
d189 2
a190 42
mostlyclean: mostlyclean-am

mostlyclean-am: mostlyclean-compile mostlyclean-generic

uninstall-am: uninstall-binPROGRAMS uninstall-binSCRIPTS

.PHONY: all all-am check check-am check-local clean clean-binPROGRAMS \
	clean-generic distclean distclean-compile distclean-depend \
	distclean-generic distclean-hdr distclean-tags distdir dvi \
	dvi-am info info-am install install-am install-binPROGRAMS \
	install-binSCRIPTS install-data install-data-am install-exec \
	install-exec-am install-info install-man install-strip \
	installcheck installcheck-am installdirs maintainer-clean \
	maintainer-clean-generic mostlyclean mostlyclean-compile \
	mostlyclean-generic tags uninstall uninstall-am \
	uninstall-binPROGRAMS uninstall-binSCRIPTS


check-local:
	$(SHELL) $(srcdir)/sanity.sh `pwd`/cvs

.PHONY: remotecheck
remotecheck: all
	$(SHELL) $(srcdir)/sanity.sh -r `pwd`/cvs

# version.c
# - build this here so that we can distribute it
# - version.c needs to be updated only once, since it depends on
#   configure.in, not on the results of a 'configure' run.
# - It is guaranteed (with GNU Make) that when the version in configure.in
#   is changed, acversion.m4 is built only after the new version number is
#   propagated to the Makefile.  (Libtool uses the same guarantee.)
# - need the explicit version.o dependency or else make won't match
#   $(srcdir)/version.c when looking for a dependency for version.c
version.o: $(srcdir)/version.c
$(srcdir)/version.c: $(srcdir)/version.c.in $(top_srcdir)/configure.in
	sed 's,@@VERSION\@@,$(VERSION),g' $(srcdir)/version.c.in >$(srcdir)/version.tc
	mv $(srcdir)/version.tc $(srcdir)/version.c

# for backwards compatibility with the old makefiles
.PHONY: realclean
realclean: maintainer-clean
d192 2
a193 3
# Tell versions [3.59,3.63) of GNU make to not export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
@


