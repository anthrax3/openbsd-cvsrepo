head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.4
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.7.0.16
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.10
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.12
	OPENBSD_5_8_BASE:1.7
	PERL_5_20_2:1.1.1.7
	OPENBSD_5_7:1.7.0.4
	OPENBSD_5_7_BASE:1.7
	PERL_5_20_1:1.1.1.7
	OPENBSD_5_6:1.7.0.8
	OPENBSD_5_6_BASE:1.7
	PERL_5_18_2:1.1.1.7
	PERL:1.1.1
	OPENBSD_5_5:1.7.0.6
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.2
	OPENBSD_5_4_BASE:1.7
	PERL_5_16_3:1.1.1.7
	OPENBSD_5_3:1.6.0.18
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.16
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.14
	OPENBSD_5_0:1.6.0.12
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.10
	OPENBSD_4_9_BASE:1.6
	PERL_5_12_2:1.1.1.6
	OPENBSD_4_8:1.6.0.8
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.4
	OPENBSD_4_7_BASE:1.6
	PERL_5_10_1:1.1.1.6
	OPENBSD_4_6:1.6.0.6
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.2
	OPENBSD_4_5_BASE:1.6
	PERL_5_10_0:1.1.1.6
	OPENBSD_4_4:1.5.0.20
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.18
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.16
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.14
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.5.0.12
	OPENBSD_4_0_BASE:1.5
	PERL_5_8_8:1.1.1.5
	OPENBSD_3_9:1.5.0.10
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.8
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.6
	OPENBSD_3_7_BASE:1.5
	PERL_5_8_6:1.1.1.5
	OPENBSD_3_6:1.5.0.4
	OPENBSD_3_6_BASE:1.5
	PERL_5_8_5:1.1.1.5
	PERL_5_8_3:1.1.1.5
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	PERL_5_8_2:1.1.1.5
	OPENBSD_3_4:1.4.0.4
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.2
	OPENBSD_3_3_BASE:1.4
	PERL_5_8_0:1.1.1.4
	OPENBSD_3_2:1.3.0.6
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.4
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	PERL_5_6_1:1.1.1.3
	OPENBSD_2_9:1.2.0.6
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.4
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.2
	OPENBSD_2_7_BASE:1.2
	PERL_5_6_0:1.1.1.2
	OPENBSD_2_6:1.1.0.8
	OPENBSD_2_6_BASE:1.1
	PERL_500503:1.1.1.1
	CPAN:1.1.1
	OPENBSD_2_5:1.1.0.6
	OPENBSD_2_5_BASE:1.1
	OPENBSD_2_4:1.1.0.4
	OPENBSD_2_4_BASE:1.1
	OPENBSD_2_3:1.1.0.2
	OPENBSD_2_3_BASE:1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.8
date	2017.02.05.00.31.52;	author afresh1;	state Exp;
branches;
next	1.7;
commitid	cxJ08BvJA9Pt2PTM;

1.7
date	2013.03.25.20.40.43;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2008.09.29.17.35.56;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2003.12.03.03.02.19;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2002.10.27.22.25.16;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	2001.05.24.18.34.44;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.06.17.03.37;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	97.11.30.07.48.07;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.29.22.36.53;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2000.04.06.16.08.30;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2001.05.24.18.21.51;	author millert;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2002.10.27.22.14.50;	author millert;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2003.12.03.02.43.35;	author millert;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2008.09.29.17.18.03;	author millert;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2013.03.25.20.06.35;	author sthen;	state Exp;
branches;
next	;


desc
@perl 5.004_04
@


1.8
log
@Fix merge issues, remove excess files - match perl-5.24.1 dist
@
text
@If you read this file _as_is_, just ignore the funny characters you
see. It is written in the POD format (see perlpod manpage) which is
specially designed to be readable as is.

=head1 NAME

perlamiga - Perl under AmigaOS 4.1

=head1 NOTE

This is a port of Perl 5.22.1, it is a fresh port and not in any way
compatible with my previous ports of Perl 5.8 and 5.16.3. This means
you will need to reinstall / rebuild any third party modules you have
installed.

newlib.library version 53.28 or greater is required.

=head1 SYNOPSIS

Once perl is installed you can read this document in the following way

	sh -c "perldoc perlamiga"

or you may read I<as is>: either as F<README.amiga>, or F<pod/perlamiga.pod>.

=cut

       NAME
       SYNOPSIS
       DESCRIPTION
         -  Prerequisites
         -  Starting Perl programs under AmigaOS
         -  Shortcomings of Perl under AmigaOS
       INSTALLATION
       CHANGES

=head1 DESCRIPTION

=head2 Prerequisites for running Perl 5.22.1 under AmigaOS 4.1

=over 6

=item B<AmigaOS 4.1 update 6 with all updates applied as of 9th October 2013>

The most important of which is:

=item B<newlib.library version 53.28 or greater>

=item B<AmigaOS SDK>

Perl installs into the SDK directory structure and expects many of the
build tools present in the SDK to be available. So for the best results
install the SDK first.

=item B<abc-shell>

If you do not have the SDK installed you must at least have abc-shell
installed or some other suitable sh port. This is required to run
external commands and should be available as 'sh' in your path.

=back

=head2 Starting Perl programs under AmigaOS 4.1

Perl may be run from the AmigaOS shell but for best results should be
run under abc-shell.  (abc-shell handles file globbing, pattern
expansion, and sets up environment variables in the UN*Xy way that
Perl expects.)

For example:

	New Shell process 10
	10.AmigaOS4:> sh
	/AmigaOS4>perl path:to/myprog arg1 arrg2 arg3

Abc-shell can also launch programs via the #! syntax at the start of
the program file, it's best use the form #!SDK:Local/C/perl so that
the AmigaOS shell may also find perl in the same way. AmigaOS requires
the script bit to be set for this to work

	10.AmigaOS4:> sh
	/AmigaOS4>myprog arg1 arrg2 arg3

=head2 Limitations of Perl under AmigaOS 4.1

=over 6

=item B<Nested Piped programs can crash when run from older abc-shells>

abc-shell version 53.2 has a bug that can cause crashes in the
subprocesses used to run piped programs, if a later version is
available you should install it instead.

=item B<Incorrect or unexpected command line unescaping>

newlib.library 53.30 and earlier incorrectly unescape slashed escape
sequences e.g. \" \n \t etc requiring unusual extra escaping.

=item B<Starting subprocesses via open has limitations>

	open FH, "command |"

Subprocesses started with open use a minimal popen() routine and
therefore they do not return pids usable with waitpid etc.

=item If you find any other limitations or bugs then let me know.

Please report bugs in this version of perl to andy@@broad.ology.org.uk
in the first instance.

=back

=head1 INSTALLATION

This guide assumes you have obtained a prebuilt archive from os4depot.net.

Unpack the main archive to a temporary location (RAM: is fine).

Execute the provided install script from shell or via its icon.

You B<must not> attempt to install by hand.

Once installed you may delete the temporary archive.

This approach will preserve links in the installation without creating
duplicate binaries.

If you have the earlier ports perl 5.16 or 5.8 installed you may like
to rename your perl executable to perl516 or perl58 or something
similar before the installation of 5.22.1, this will allow you to use
both versions at the same time.

=head1 Amiga Specific Modules

=head2 Amiga::ARexx

The Amiga::ARexx module allows you to easily create a perl based ARexx
host or to send ARexx commands to other programs.

Try C<perldoc Amiga::ARexx> for more info.

=head2 Amiga::Exec

The Amiga::Exec module introduces support for Wait().

Try C<perldoc Amiga::Exec> for more info.

=head1 BUILDING

To build perl under AmigaOS from the patched sources you will need to
have a recent version of the SDK. Version 53.29 is recommended,
earlier versions will probably work too.

With the help of Jarkko Hietaniemi the Configure system has been tweaked to
run under abc-shell so the recommend build process is as follows.

	stack 2000000
	sh Configure -de
	gmake

This will build the default setup that installs under SDK:local/newlib/lib/

=head1 CHANGES

=over 6

=item B<August 2015>

=over 2

=item Port to Perl 5.22

=item Add handling of NIL: to afstat()

=item Fix inheritance of environment variables by subprocesses.

=item Fix exec, and exit in "forked" subprocesses.

=item Fix issue with newlib's unlink, which could cause infinite loops.

=item Add flock() emulation using IDOS->LockRecord thanks to Tony Cook
for the suggestion.

=item Fix issue where kill was using the wrong kind of process ID

=back

=item B<27th November 2013>

=over 2

=item Create new installation system based on installperl links
and Amiga protection bits now set correctly.

=item Pod now defaults to text.

=item File::Spec should now recognise an Amiga style absolute path as well
as an Unix style one. Relative paths must always be Unix style.

=back

=item B<20th November 2013>

=over 2

=item Configured to use SDK:Local/C/perl to start standard scripts

=item Added Amiga::Exec module with support for Wait() and AmigaOS signal numbers.

=back

=item B<10th October 13>

First release of port to 5.16.3.

=back

=head1 SEE ALSO

You like this port?  See L<http://www.broad.ology.org.uk/amiga/>
for how you can help.

=cut
@


1.7
log
@merge/resolve conflicts
(some more to do after this one)
@
text
@d7 1
a7 1
perlamiga - Perl under Amiga OS
d11 6
a16 4
B<Perl 5.8.0 cannot be built in AmigaOS.  You can use either the
maintenance release Perl 5.6.1 or the development release Perl 5.7.2
in AmigaOS.  See L</"PERL 5.8.0 BROKEN IN AMIGAOS"> if you want to help
fixing this problem.>
d20 1
a20 7
One can read this document in the following formats:

	man perlamiga
	multiview perlamiga.guide

to list some (not all may be available simultaneously), or it may
be read I<as is>: either as F<README.amiga>, or F<pod/perlamiga.pod>.
d22 1
a22 2
A recent version of perl for the Amiga can be found at the Geek Gadgets
section of the Aminet:
d24 1
a24 1
      http://www.aminet.net/~aminet/dev/gg
d28 4
a31 8
Contents
 
 perlamiga - Perl under Amiga OS

       NAME 
       SYNOPSIS 
       DESCRIPTION 
         -  Prerequisites 
d34 2
a35 15
       INSTALLATION 
       Accessing documentation 
         -  Manpages 
         -  HTML 
         -  GNU info files 
         -  LaTeX docs 
       BUILD 
         -  Build Prerequisites 
         -  Getting the perl source 
         -  Application of the patches 
         -  Making 
         -  Testing 
         -  Installing the built perl 
       AUTHOR 
       SEE ALSO 
d39 1
a39 1
=head2 Prerequisites for Compiling Perl on AmigaOS
d43 1
a43 1
=item B<Unix emulation for AmigaOS: ixemul.library>
d45 1
a45 4
You need the Unix emulation for AmigaOS, whose most important part is
B<ixemul.library>. For a minimum setup, get the latest versions
of the following packages from the Aminet archives
( L<http://www.aminet.net/~aminet/> ):
d47 1
a47 3
	ixemul-bin
	ixemul-env-bin
	pdksh-bin
d49 1
a49 2
Note also that this is a minimum setup; you might want to add other
packages of B<ADE> (the I<Amiga Developers Environment>).
d51 3
a53 1
=item B<Version of Amiga OS>
d55 5
a59 1
You need at the very least AmigaOS version 2.0. Recommended is version 3.1.
d63 1
a63 1
=head2 Starting Perl programs under AmigaOS
d65 4
a68 2
Start your Perl program F<foo> with arguments C<arg1 arg2 arg3> the
same way as on any other platform, by
d70 1
a70 1
	perl foo arg1 arg2 arg3
d72 3
a74 2
If you want to specify perl options C<-my_opts> to the perl itself (as
opposed to your program), use
d76 4
a79 1
	perl -my_opts foo arg1 arg2 arg3
d81 2
a82 3
Alternately, you can try to get a replacement for the system's B<Execute>
command that honors the #!/usr/bin/perl syntax in scripts and set the s-Bit
of your scripts. Then you can invoke your scripts like under UNIX with
d84 1
a84 1
	foo arg1 arg2 arg3
d86 1
a86 5
(Note that having *nixish full path to perl F</usr/bin/perl> is not
necessary, F<perl> would be enough, but having full path would make it
easier to use your script under *nix.)

=head2 Shortcomings of Perl under AmigaOS
d88 1
a88 2
Perl under AmigaOS lacks some features of perl under UNIX because of
deficiencies in the UNIX-emulation, most notably:
d90 3
a92 3
=over 6

=item *
d94 1
a94 1
fork()
d96 2
a97 1
=item * 
d99 1
a99 1
some features of the UNIX filesystem regarding link count and file dates
d101 1
a101 1
=item *
d103 2
a104 1
inplace operation (the -i switch) without backup file
d106 1
a106 1
=item *
d108 2
a109 2
umask() works, but the correct permissions are only set when the file is
finally close()d
d115 1
a115 2
Change to the installation directory (most probably ADE:), and
extract the binary distribution:
d117 1
a117 1
lha -mraxe x perl-$VERSION-bin.lha
d119 1
a119 1
or
d121 1
a121 1
tar xvzpf perl-$VERSION-bin.tgz
d123 1
a123 1
(Of course you need lha or tar and gunzip for this.)
d125 2
a126 1
For installation of the Unix emulation, read the appropriate docs.
d128 4
a131 1
=head1 Accessing documentation
d133 1
a133 1
=head2 Manpages for Perl on AmigaOS
d135 1
a135 2
If you have C<man> installed on your system, and you installed perl
manpages, use something like this:
d137 2
a138 3
	man perlfunc
	man less
	man ExtUtils.MakeMaker
d140 1
a140 1
to access documentation for different components of Perl. Start with
d142 1
a142 1
	man perl
d144 1
a144 3
Note: You have to modify your man.conf file to search for manpages
in the /ade/lib/perl5/man/man3 directory, or the man pages for the
perl library will not be found. 
d146 1
a146 3
Note that dot (F<.>) is used as a package separator for documentation
for packages, and as usual, sometimes you need to give the section - C<3>
above - to avoid shadowing by the I<less(1) manpage>.
d148 1
d150 3
a152 1
=head2 Perl HTML Documentation on AmigaOS
d154 2
a155 2
If you have some WWW browser available, you can build B<HTML> docs.
Cd to directory with F<.pod> files, and do like this
d157 3
a159 2
	cd /ade/lib/perl5/pod
	pod2html
d161 1
a161 2
After this you can direct your browser the file F<perl.html> in this
directory, and go ahead with reading docs.
d163 1
a163 1
Alternatively you may be able to get these docs prebuilt from C<CPAN>.
d165 1
a165 1
=head2 Perl GNU Info Files on AmigaOS
d167 1
a167 3
Users of C<Emacs> would appreciate it very much, especially with
C<CPerl> mode loaded. You need to get latest C<pod2info> from C<CPAN>,
or, alternately, prebuilt info pages.
d169 1
a169 1
=head2 Perl LaTeX Documentation on AmigaOS
d171 1
a171 1
Can be constructed using C<pod2latex>.
d173 1
a173 1
=head1 BUILDING PERL ON AMIGAOS
d175 1
a175 1
Here we discuss how to build Perl under AmigaOS.
d177 1
a177 1
=head2 Build Prerequisites for Perl on AmigaOS
d179 1
a179 2
You need to have the latest B<ixemul> (Unix emulation for Amiga)
from Aminet.
d181 2
a182 1
=head2 Getting the Perl Source for AmigaOS
d184 1
a184 2
You can either get the latest perl-for-amiga source from Ninemoons
and extract it with:
d186 1
a186 1
  tar xvzpf perl-$VERSION-src.tgz
d188 1
a188 1
or get the official source from CPAN:
d190 1
a190 1
  http://www.cpan.org/src/5.0
d192 2
a193 1
Extract it like this
d195 1
a195 1
  tar xvzpf perl-$VERSION.tar.gz
d197 2
a198 3
You will see a message about errors while extracting F<Configure>. This
is normal and expected. (There is a conflict with a similarly-named file
F<configure>, but it causes no harm.)
d200 1
a200 1
=head2 Making Perl on AmigaOS
d202 1
a202 1
Remember to use a hefty wad of stack (I use 2000000)
d204 1
a204 1
  sh configure.gnu --prefix=/gg
d206 1
a206 1
Now type
d208 1
a208 1
  make depend
d210 1
a210 1
Now!
d212 1
a212 1
  make
d214 1
a214 1
=head2 Testing Perl on AmigaOS
d216 1
a216 34
Now run

  make test

Some tests will be skipped because they need the fork() function:

F<io/pipe.t>, F<op/fork.t>, F<lib/filehand.t>, F<lib/open2.t>, F<lib/open3.t>, 
F<lib/io_pipe.t>, F<lib/io_sock.t>

=head2 Installing the built Perl on AmigaOS

Run

  make install

=head1 PERL 5.8.0 BROKEN IN AMIGAOS

As told above, Perl 5.6.1 was still good in AmigaOS, as was 5.7.2.
After Perl 5.7.2 (change #11423, see the Changes file, and the file
pod/perlhack.pod for how to get the individual changes) Perl dropped
its internal support for vfork(), and that was very probably the step
that broke AmigaOS (since the ixemul library has only vfork).  
The build finally fails when the ext/DynaLoader is being built, and
PERL ends up as "0" in the produced Makefile, trying to run "0" does
not quite work.  Also, executing miniperl in backticks seems to
generate nothing: very probably related to the (v)fork problems.
B<Fixing the breakage requires someone quite familiar with the ixemul
library, and how one is supposed to run external commands in AmigaOS
without fork().>

=head1 AUTHORS

Norbert Pueschel, pueschel@@imsdd.meb.uni-bonn.de
Jan-Erik Karlsson, trg@@privat.utfors.se
d220 2
a221 1
perl(1).
@


1.6
log
@fix conflicts and merge in local changes to perl 5.10.0
@
text
@d70 1
a70 1
( http://www.aminet.net/~aminet/ ):
@


1.5
log
@Resolve conflicts for perl 5.8.2, remove old files, and add OpenBSD-specific scaffolding
@
text
@d29 1
a29 1
      http://www.aminet.net/~aminet/dev/gg/index.html
@


1.4
log
@Resolve conflicts, remove old files, merge local changes
@
text
@d29 1
a29 1
      http://www.aminet.net/~aminet/dirs/dev_gg.html
@


1.3
log
@merge in perl 5.6.1 with our local changes
@
text
@d9 7
d28 1
a28 1
  
d50 1
a50 1
         -  Prerequisites 
d61 1
a61 1
=head2 Prerequisites
d69 2
a70 1
of the following packages from the Aminet archives (http://www.aminet.net/~aminet/):
d93 1
a93 1
opposed to to your program), use
d112 1
a112 1
=over 4
d114 1
a114 1
=item * 
d118 1
a118 1
=item *
d124 1
a124 1
inplace operation (the B<-i> switch) without backup file
d150 1
a150 1
=head2 Manpages
d172 1
a172 1
=head2 B<HTML>
d185 1
a185 1
=head2 B<GNU> C<info> files
d191 1
a191 1
=head2 C<LaTeX> docs
d193 1
a193 1
can be constructed using C<pod2latex>.
d195 1
a195 1
=head1 BUILD
d199 1
a199 1
=head2 Prerequisites
d204 1
a204 1
=head2 Getting the perl source
d213 1
a213 1
  http://www.perl.com/CPAN/src/5.0
d223 1
a223 1
=head2 Making
d225 1
a225 1
=over 4
d227 1
a227 15
=item *

remember to use a healthy sized stack (I used 2000000)

=item *

your PATH environment variable must include /bin (e.g. ".:/bin" is good)
(or, more precisely, it must include the directory where you have your
basic UNIX utilities like test, cat, sed, and so on)

=item *
	
  sh Configure -Dprefix=/ade -Dloclibpth=/ade/lib

=item *
d229 1
a229 1
fix makedepend
d231 1
a231 27
	In the file 'makedepend' there are three spots like this `$cat ...`:
	a for loop near line 75, an egrep near line 161, and a for loop near
	line 175.  In all those spots using an editor change the $cat to
	/bin/cat.

=item *

now type make depend

	When the make depend has ended load the gnumakefile into
	an editor and go to the end of the file.

	Move upwards in the file until you reach av.o: EXTERN.h
	and delete all lines down to # WARNING: Put....

=item *

now go to the x2p directory

	Load the gnumakefile into an editor.

	Go to the end moveup until you reach hash.o: EXTERN.h
	and delete all lines dowonwards until you reach a line saying

	# WARNING: Put nothing....

=item *
d237 1
a237 3
=back

=head2 Testing
d248 1
a248 1
=head2 Installing the built perl
d253 15
@


1.2
log
@perl-5.6.0 + local changes
@
text
@d19 5
d61 2
a62 7
B<ixemul.library>. For a minimum setup, get the following archives from
ftp://ftp.ninemoons.com/pub/ade/current or a mirror:

ixemul-46.0-bin.lha
ixemul-46.0-env-bin.lha
pdksh-4.9-bin.lha
ADE-misc-bin.lha
d64 3
a66 2
Note that there might be newer versions available by the time you read
this.
d104 9
a112 1
=over 6
d114 1
a114 1
=item fork()
d116 1
a116 1
=item some features of the UNIX filesystem regarding link count and file dates
d118 1
a118 1
=item inplace operation (the -i switch) without backup file
d120 2
a121 2
=item umask() works, but the correct permissions are only set when the file is
      finally close()d
d130 1
a130 1
lha -mraxe x perl-5.003-bin.lha
d134 1
a134 1
tar xvzpf perl-5.003-bin.tgz
d193 2
a194 3
You need to have the latest B<ADE> (Amiga Developers Environment)
from ftp://ftp.ninemoons.com/pub/ade/current.
Also, you need a lot of free memory, probably at least 8MB.
d201 1
a201 1
  tar xvzpf perl-5.004-src.tgz
d209 1
a209 1
  tar xvzpf perl5.004.tar.gz
d217 19
a235 1
  sh configure.gnu --prefix=/ade
d237 29
a265 1
Now
d269 2
d288 1
a288 1
=head1 AUTHOR
d291 1
@


1.1
log
@perl 5.004_04
@
text
@d113 1
a113 1
 
@


1.1.1.1
log
@perl5.005_03
@
text
@@


1.1.1.2
log
@virgin perl 5.6.0
@
text
@d113 1
a113 1

@


1.1.1.3
log
@stock perl 5.6.1
@
text
@a18 5
A recent version of perl for the Amiga can be found at the Geek Gadgets
section of the Aminet:
  
      http://www.aminet.net/~aminet/dirs/dev_gg.html

d56 7
a62 2
B<ixemul.library>. For a minimum setup, get the latest versions
of the following packages from the Aminet archives (http://www.aminet.net/~aminet/):
d64 2
a65 3
	ixemul-bin
	ixemul-env-bin
	pdksh-bin
d103 1
a103 9
=over 4

=item * 

fork()

=item *

some features of the UNIX filesystem regarding link count and file dates
d105 1
a105 1
=item *
d107 1
a107 1
inplace operation (the B<-i> switch) without backup file
d109 1
a109 1
=item *
d111 2
a112 2
umask() works, but the correct permissions are only set when the file is
finally close()d
d121 1
a121 1
lha -mraxe x perl-$VERSION-bin.lha
d125 1
a125 1
tar xvzpf perl-$VERSION-bin.tgz
d184 3
a186 2
You need to have the latest B<ixemul> (Unix emulation for Amiga)
from Aminet.
d193 1
a193 1
  tar xvzpf perl-$VERSION-src.tgz
d201 1
a201 1
  tar xvzpf perl-$VERSION.tar.gz
d209 1
a209 19
=over 4

=item *

remember to use a healthy sized stack (I used 2000000)

=item *

your PATH environment variable must include /bin (e.g. ".:/bin" is good)
(or, more precisely, it must include the directory where you have your
basic UNIX utilities like test, cat, sed, and so on)

=item *
	
  sh Configure -Dprefix=/ade -Dloclibpth=/ade/lib

=item *

fix makedepend
d211 1
a211 29
	In the file 'makedepend' there are three spots like this `$cat ...`:
	a for loop near line 75, an egrep near line 161, and a for loop near
	line 175.  In all those spots using an editor change the $cat to
	/bin/cat.

=item *

now type make depend

	When the make depend has ended load the gnumakefile into
	an editor and go to the end of the file.

	Move upwards in the file until you reach av.o: EXTERN.h
	and delete all lines down to # WARNING: Put....

=item *

now go to the x2p directory

	Load the gnumakefile into an editor.

	Go to the end moveup until you reach hash.o: EXTERN.h
	and delete all lines dowonwards until you reach a line saying

	# WARNING: Put nothing....

=item *

Now!
a214 2
=back

d232 1
a232 1
=head1 AUTHORS
a234 1
Jan-Erik Karlsson, trg@@privat.utfors.se
@


1.1.1.4
log
@stock perl 5.8.0 from CPAN
@
text
@a8 7
=head1 NOTE

B<Perl 5.8.0 cannot be built in AmigaOS.  You can use either the
maintenance release Perl 5.6.1 or the development release Perl 5.7.2
in AmigaOS.  See L</"PERL 5.8.0 BROKEN IN AMIGAOS"> if you want to help
fixing this problem.>

d21 1
a21 1

d43 1
a43 1
         -  Build Prerequisites 
d54 1
a54 1
=head2 Prerequisites for Compiling Perl on AmigaOS
d62 1
a62 2
of the following packages from the Aminet archives
( http://www.aminet.net/~aminet/ ):
d85 1
a85 1
opposed to your program), use
d104 1
a104 1
=over 6
d106 1
a106 1
=item *
d110 1
a110 1
=item * 
d116 1
a116 1
inplace operation (the -i switch) without backup file
d142 1
a142 1
=head2 Manpages for Perl on AmigaOS
d164 1
a164 1
=head2 Perl HTML Documentation on AmigaOS
d177 1
a177 1
=head2 Perl GNU Info Files on AmigaOS
d183 1
a183 1
=head2 Perl LaTeX Documentation on AmigaOS
d185 1
a185 1
Can be constructed using C<pod2latex>.
d187 1
a187 1
=head1 BUILDING PERL ON AMIGAOS
d191 1
a191 1
=head2 Build Prerequisites for Perl on AmigaOS
d196 1
a196 1
=head2 Getting the Perl Source for AmigaOS
d205 1
a205 1
  http://www.cpan.org/src/5.0
d215 1
a215 1
=head2 Making Perl on AmigaOS
d217 1
a217 1
Remember to use a hefty wad of stack (I use 2000000)
d219 15
a233 1
  sh configure.gnu --prefix=/gg
d235 1
a235 1
Now type
d237 27
a263 1
  make depend
d269 3
a271 1
=head2 Testing Perl on AmigaOS
d282 1
a282 1
=head2 Installing the built Perl on AmigaOS
a286 15

=head1 PERL 5.8.0 BROKEN IN AMIGAOS

As told above, Perl 5.6.1 was still good in AmigaOS, as was 5.7.2.
After Perl 5.7.2 (change #11423, see the Changes file, and the file
pod/perlhack.pod for how to get the individual changes) Perl dropped
its internal support for vfork(), and that was very probably the step
that broke AmigaOS (since the ixemul library has only vfork).  
The build finally fails when the ext/DynaLoader is being built, and
PERL ends up as "0" in the produced Makefile, trying to run "0" does
not quite work.  Also, executing miniperl in backticks seems to
generate nothing: very probably related to the (v)fork problems.
B<Fixing the breakage requires someone quite familiar with the ixemul
library, and how one is supposed to run external commands in AmigaOS
without fork().>
@


1.1.1.5
log
@perl 5.8.2 from CPAN
@
text
@d29 1
a29 1
      http://www.aminet.net/~aminet/dev/gg/index.html
@


1.1.1.6
log
@import perl 5.10.0 from CPAN
@
text
@d29 1
a29 1
      http://www.aminet.net/~aminet/dev/gg
@


1.1.1.7
log
@import perl 5.16.3 from CPAN - worked on by Andrew Fresh and myself
@
text
@d70 1
a70 1
( L<http://www.aminet.net/~aminet/> ):
@


