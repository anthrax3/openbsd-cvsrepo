head	1.5;
access;
symbols
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	PERL_5_18_2:1.1.1.3
	PERL:1.1.1
	OPENBSD_5_5:1.3.0.6
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	PERL_5_16_3:1.1.1.2
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	PERL_5_12_2:1.1.1.1
	CPAN:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.5
date	2014.11.17.20.56.58;	author afresh1;	state dead;
branches;
next	1.4;
commitid	QP75iYx42Uo7mMxO;

1.4
date	2014.03.24.15.05.24;	author afresh1;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.25.20.40.46;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2010.09.25.12.24.13;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	2010.09.24.14.49.06;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.09.24.14.49.06;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2013.03.25.20.06.47;	author sthen;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2014.03.24.14.58.49;	author afresh1;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Fix merge conflicts, remove extra files, match upstream perl-5.20.1

ok deraadt@@ sthen@@ espie@@ miod@@
@
text
@
                            Compress-Raw-Bzip2

                         Version 2.060

                             7th January 2013

       Copyright (c) 2005-2013 Paul Marquess. All rights reserved.
          This program is free software; you can redistribute it
           and/or modify it under the same terms as Perl itself.

             The directory bzip2-src contains a subset of the 
          source files copied directly from bzip2 version 1.0.6.
           These files are Copyright(C) 1996-2010 Julian Seward.
    See the file bzip2-src/LICENSE for licence details for these files.
             Full source for the bzip2 library is available at
                           http://www.bzip.org/

    Note that the files bzip2.c, bzip2recover.c, bzlib.c & decompress.c
      have been modified to allow them to build with a C++ compiler. 
           The file bzip2-src/bzip2-cpp.patch contains the patch 
               that was used to modify the original source.

DESCRIPTION
-----------

Compress-Raw-Bzip2 provides the interface to the bzip2 library for the modules
IO::Compress::Bzip2 and IO::Compress::Bunzip2.

PREREQUISITES
-------------

Before you can build Compress-Raw-Bzip2 you need to have the following
installed on your system:

    * A C compiler

    * Perl 5.006 or better. 

BUILDING THE MODULE
-------------------

Assuming you have met all the prerequisites, the module can now be built
using this sequence of commands:

    perl Makefile.PL
    make
    make test

INSTALLATION
------------

To install Compress-Raw-Bzip2, run the command below:

    make install

TROUBLESHOOTING
---------------

Solaris build fails with "language optional software package not installed"
---------------------------------------------------------------------------

If you are trying to build this module under Solaris and you get an
error message like this

    /usr/ucb/cc: language optional software package not installed

it means that Perl cannot find the C compiler on your system. The cryptic
message is just Sun's way of telling you that you haven't bought their
C compiler.

When you build a Perl module that needs a C compiler, the Perl build
system tries to use the same C compiler that was used to build perl
itself. In this case your Perl binary was built with a C compiler that
lived in /usr/ucb.

To continue with building this module, you need to get a C compiler,
or tell Perl where your C compiler is, if you already have one.

Assuming you have now got a C compiler, what you do next will be dependent
on what C compiler you have installed. If you have just installed Sun's
C compiler, you shouldn't have to do anything. Just try rebuilding
this module.

If you have installed another C compiler, say gcc, you have to tell perl
how to use it instead of /usr/ucb/cc.

This set of options seems to work if you want to use gcc. Your mileage
may vary.

    perl Makefile.PL CC=gcc CCCDLFLAGS=-fPIC OPTIMIZE=" "
    make test

If that doesn't work for you, it's time to make changes to the Makefile
by hand. Good luck!

Solaris build fails with "gcc: unrecognized option `-KPIC'"
-----------------------------------------------------------

You are running Solaris and you get an error like this when you try to
build this Perl module

    gcc: unrecognized option `-KPIC'

This symptom usually means that you are using a Perl binary that has been
built with the Sun C compiler, but you are using gcc to build this module.

When Perl builds modules that need a C compiler, it will attempt to use
the same C compiler and command line options that was used to build perl
itself. In this case "-KPIC" is a valid option for the Sun C compiler,
but not for gcc. The equivalent option for gcc is "-fPIC".

The solution is either:

    1. Build both Perl and this module with the same C compiler, either
       by using the Sun C compiler for both or gcc for both.

    2. Try generating the Makefile for this module like this perl

           perl Makefile.PL CC=gcc CCCDLFLAGS=-fPIC OPTIMIZE=" " LD=gcc
           make test

       This second option seems to work when mixing a Perl binary built
       with the Sun C compiler and this module built with gcc. Your
       mileage may vary.

HP-UX Notes
-----------

I've had a report that when building Compress-Raw-Bzip2 under HP-UX that it
is necessary to have first built the bzip2 library with the -fpic
option.

FEEDBACK
--------

How to report a problem with Compress-Raw-Bzip2.

To help me help you, I need all of the following information:

 1. The Versions of everything relevant.
    This includes:

     a. The *complete* output from running this
     
            perl -V
     
        Do not edit the output in any way.
        Note, I want you to run "perl -V" and NOT "perl -v".
     
        If your perl does not understand the "-V" option it is too
        old. This module needs Perl version 5.004 or better.     

     b. The version of Compress-Raw-Bzip2 you have. 
        If you have successfully installed Compress-Raw-Bzip2, this one-liner
        will tell you:

           perl -MCompress::Raw::Bzip2 -e 'print qq[ver $Compress::Raw::Bzip2::VERSION\n]'

        If you are  running windows use this

           perl -MCompress::Raw::Bzip2 -e "print qq[ver $Compress::Raw::Bzip2::VERSION\n]"

        If you haven't installed Compress-Raw-Bzip2 then search Compress::Raw::Bzip2.pm
        for a line like this:

          $VERSION = "2.060" ;

     c. The version of bzip2 you have used.
        If you have successfully installed Compress-Raw-Bzip2, this one-liner
        will tell you:

          perl -MCompress::Raw::Bzip2 -e "print q[bzip2 ver ]. Compress::Raw::Bzip2::ZLIB_VERSION.qq[\n]" 

        If not, look at the beginning of the file zlib.h. 

 2. If you are having problems building Compress-Raw-Bzip2, send me a
    complete log of what happened. Start by unpacking the Compress-Raw-Bzip2
    module into a fresh directory and keep a log of all the steps

        [edit config.in, if necessary]
        perl Makefile.PL
        make
        make test TEST_VERBOSE=1          

Paul Marquess <pmqs@@cpan.org>
@


1.4
log
@Merge perl-5.18.2 plus local patches, remove old files

OK espie@@ sthen@@ deraadt@@
@
text
@@


1.3
log
@merge/resolve conflicts
(some more to do after this one)
@
text
@d2 1
a2 1
                             Compress-Raw-Bzip2
d4 1
a4 1
                             Version 2.048
d6 1
a6 1
                             29th January 2012
d8 1
a8 1
       Copyright (c) 2005-2012 Paul Marquess. All rights reserved.
d38 1
a38 1
    * Perl 5.004 or better. 
d167 1
a167 1
          $VERSION = "2.048" ;
@


1.2
log
@Update to Compress-Raw-Bzip2 2.031; no actual code changes since
we fixed bzip2-src/decompress.c separately.
@
text
@d4 1
a4 1
                             Version 2.031
d6 1
a6 1
                               21st September 2010
d8 1
a8 1
       Copyright (c) 2005-2010 Paul Marquess. All rights reserved.
d167 1
a167 1
          $VERSION = "2.031" ;
@


1.1
log
@Initial revision
@
text
@d4 1
a4 1
                             Version 2.024
d6 1
a6 1
                             7th January 2010
d13 2
a14 2
          source files copied directly from bzip2 version 1.0.5.
           These files are Copyright(C) 1996-2007 Julian Seward.
d167 1
a167 1
          $VERSION = "2.024" ;
@


1.1.1.1
log
@Perl 5.12.2 from CPAN
@
text
@@


1.1.1.2
log
@import perl 5.16.3 from CPAN - worked on by Andrew Fresh and myself
@
text
@d4 1
a4 1
                             Version 2.048
d6 1
a6 1
                             29th January 2012
d8 1
a8 1
       Copyright (c) 2005-2012 Paul Marquess. All rights reserved.
d13 2
a14 2
          source files copied directly from bzip2 version 1.0.6.
           These files are Copyright(C) 1996-2010 Julian Seward.
d167 1
a167 1
          $VERSION = "2.048" ;
@


1.1.1.3
log
@Import perl-5.18.2

OK espie@@ sthen@@ deraadt@@
@
text
@d2 1
a2 1
                            Compress-Raw-Bzip2
d4 1
a4 1
                         Version 2.060
d6 1
a6 1
                             7th January 2013
d8 1
a8 1
       Copyright (c) 2005-2013 Paul Marquess. All rights reserved.
d38 1
a38 1
    * Perl 5.006 or better. 
d167 1
a167 1
          $VERSION = "2.060" ;
@


