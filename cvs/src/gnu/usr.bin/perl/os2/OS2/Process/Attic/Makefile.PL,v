head	1.5;
access;
symbols
	OPENBSD_4_8:1.4.0.28
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.24
	OPENBSD_4_7_BASE:1.4
	PERL_5_10_1:1.1.1.3
	OPENBSD_4_6:1.4.0.26
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.22
	OPENBSD_4_5_BASE:1.4
	PERL_5_10_0:1.1.1.3
	OPENBSD_4_4:1.4.0.20
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.18
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.16
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.14
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.12
	OPENBSD_4_0_BASE:1.4
	PERL_5_8_8:1.1.1.3
	OPENBSD_3_9:1.4.0.10
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.8
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.6
	OPENBSD_3_7_BASE:1.4
	PERL_5_8_6:1.1.1.3
	OPENBSD_3_6:1.4.0.4
	OPENBSD_3_6_BASE:1.4
	PERL_5_8_5:1.1.1.3
	PERL_5_8_3:1.1.1.3
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	PERL_5_8_2:1.1.1.3
	OPENBSD_3_4:1.3.0.4
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	PERL_5_8_0:1.1.1.2
	OPENBSD_3_2:1.2.0.14
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.12
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.10
	OPENBSD_3_0_BASE:1.2
	PERL_5_6_1:1.1.1.1
	OPENBSD_2_9:1.2.0.8
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.6
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.4
	OPENBSD_2_7_BASE:1.2
	PERL_5_6_0:1.1.1.1
	OPENBSD_2_6:1.2.0.2
	OPENBSD_2_6_BASE:1.2
	PERL_500503:1.1.1.1
	CPAN:1.1.1
	OPENBSD_2_5:1.1.0.6
	OPENBSD_2_5_BASE:1.1
	OPENBSD_2_4:1.1.0.4
	OPENBSD_2_4_BASE:1.1
	OPENBSD_2_3:1.1.0.2
	OPENBSD_2_3_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2010.09.24.14.59.58;	author millert;	state dead;
branches;
next	1.4;

1.4
date	2003.12.03.03.02.42;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	2002.10.27.22.25.32;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	99.04.29.22.52.05;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	97.11.30.07.58.37;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.29.22.40.28;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2002.10.27.22.15.03;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.12.03.02.44.18;	author millert;	state Exp;
branches;
next	;


desc
@@


1.5
log
@remove files no longer in perl 5.12.2 (or that have moved)
@
text
@use ExtUtils::MakeMaker;

create_constants();		# Make a module

# See lib/ExtUtils/MakeMaker.pm for details of how to influence
# the contents of the Makefile that is written.
WriteMakefile(
    'NAME'	=> 'OS2::Process',
    VERSION_FROM=> 'Process.pm',
    MAN3PODS 	=> {}, 	# Pods will be built by installman.
    'LIBS'	=> [''],   # e.g., '-lm' 
    'DEFINE'	=> '',     # e.g., '-DHAVE_SOMETHING' 
    'INC'	=> '',     # e.g., '-I/usr/include/other' 
    IMPORTS	=> { _16_DosSmSetTitle => 'sesmgr.DOSSMSETTITLE',
		     # _16_Win16SetTitle => 'pmshapi.93',
		   },
);

sub create_constants {
  return if -d 'Process_constants';
  my $src_dir;
  my @@try = qw(.. ../.. ../../.. ../../../..);
  for (@@try) {
    $src_dir = $_, last if -d "$_/utils" and -r "$_/utils/h2xs";
  }
  warn("Can't find \$PERL_SRC/utils/h2xs in @@try, falling back to no constants"),
    return unless defined $src_dir;
  # Can't name it *::Constants, otherwise constants.xs would overwrite it...
  # This produces warnings from PSZ-conversion on WS_* constants.
  system $^X, "-I$src_dir/lib", "$src_dir/utils/h2xs", '-fn', 'OS2::Process::Const',
    '--skip-exporter', '--skip-autoloader', # too large memory overhead
      '--skip-strict', '--skip-warnings', # likewise
	'--skip-ppport',	# will not work without dynaloading.
				# Most useful for OS2::Process:
	  '-M^(HWND|WM|SC|SWP|WC|PROG|QW|EDI|WS|QWS|QWP|QWL|FF|FI|LS|FS|FCF|BS|MS|TBM|CF|CFI|FID|MB|MBID|CF|CFI|SPTR)_',
	    '-F', '-DINCL_NLS -DINCL_BASE -DINCL_PM', # Define more symbols
	      'os2emx.h'	# EMX version of OS/2 API
    and warn("Can't build module with contants, falling back to no constants"),
      return;
  rename 'OS2/Process/Const', 'Process_constants'
    or warn("Error renaming module, falling back to no constants: $!"),
      return;
  return 1;
}
@


1.4
log
@Resolve conflicts for perl 5.8.2, remove old files, and add OpenBSD-specific scaffolding
@
text
@@


1.3
log
@Resolve conflicts, remove old files, merge local changes
@
text
@d35 1
a35 1
	  '-M^(HWND|WM|SC|SWP|WC|PROG|QW|EDI|WS|QWS|QWP|QWL|FF|FI|LS|FS|FCF|BS|MS|TBM|CF|CFI|FID)_',
@


1.2
log
@perl5.005_03 (stock)
@
text
@d2 3
d10 1
a10 1
    MAN3PODS 	=> ' ', 	# Pods will be built by installman.
d18 27
@


1.1
log
@perl 5.004_04
@
text
@d6 1
a6 1
    'VERSION'	=> '0.1',
d11 3
@


1.1.1.1
log
@perl5.005_03
@
text
@d6 1
a6 1
    VERSION_FROM=> 'Process.pm',
a10 3
    IMPORTS	=> { _16_DosSmSetTitle => 'sesmgr.DOSSMSETTITLE',
		     # _16_Win16SetTitle => 'pmshapi.93',
		   },
@


1.1.1.2
log
@stock perl 5.8.0 from CPAN
@
text
@a1 3

create_constants();		# Make a module

d7 1
a7 1
    MAN3PODS 	=> {}, 	# Pods will be built by installman.
a14 27

sub create_constants {
  return if -d 'Process_constants';
  my $src_dir;
  my @@try = qw(.. ../.. ../../.. ../../../..);
  for (@@try) {
    $src_dir = $_, last if -d "$_/utils" and -r "$_/utils/h2xs";
  }
  warn("Can't find \$PERL_SRC/utils/h2xs in @@try, falling back to no constants"),
    return unless defined $src_dir;
  # Can't name it *::Constants, otherwise constants.xs would overwrite it...
  # This produces warnings from PSZ-conversion on WS_* constants.
  system $^X, "-I$src_dir/lib", "$src_dir/utils/h2xs", '-fn', 'OS2::Process::Const',
    '--skip-exporter', '--skip-autoloader', # too large memory overhead
      '--skip-strict', '--skip-warnings', # likewise
	'--skip-ppport',	# will not work without dynaloading.
				# Most useful for OS2::Process:
	  '-M^(HWND|WM|SC|SWP|WC|PROG|QW|EDI|WS|QWS|QWP|QWL|FF|FI|LS|FS|FCF|BS|MS|TBM|CF|CFI|FID)_',
	    '-F', '-DINCL_NLS -DINCL_BASE -DINCL_PM', # Define more symbols
	      'os2emx.h'	# EMX version of OS/2 API
    and warn("Can't build module with contants, falling back to no constants"),
      return;
  rename 'OS2/Process/Const', 'Process_constants'
    or warn("Error renaming module, falling back to no constants: $!"),
      return;
  return 1;
}
@


1.1.1.3
log
@perl 5.8.2 from CPAN
@
text
@d35 1
a35 1
	  '-M^(HWND|WM|SC|SWP|WC|PROG|QW|EDI|WS|QWS|QWP|QWL|FF|FI|LS|FS|FCF|BS|MS|TBM|CF|CFI|FID|MB|MBID|CF|CFI|SPTR)_',
@


