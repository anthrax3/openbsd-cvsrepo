head	1.2;
access;
symbols
	OPENBSD_2_6:1.1.0.8
	OPENBSD_2_6_BASE:1.1
	PERL_500503:1.1.1.1
	CPAN:1.1.1
	OPENBSD_2_5:1.1.0.6
	OPENBSD_2_5_BASE:1.1
	OPENBSD_2_4:1.1.0.4
	OPENBSD_2_4_BASE:1.1
	OPENBSD_2_3:1.1.0.2
	OPENBSD_2_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2000.04.06.17.09.04;	author millert;	state dead;
branches;
next	1.1;

1.1
date	97.11.30.08.06.41;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.04.29.22.42.14;	author millert;	state Exp;
branches;
next	;


desc
@@


1.2
log
@perl-5.6.0 + local changes
@
text
@open (MINIMAIN, "<../miniperlmain.c") || die "failed to open miniperlmain.c" . $!;

while (<MINIMAIN>) {
	if (/Do not delete this line--writemain depends on it/) {
		last;
		}
	else {
		print $_;
		}
	};

close(MINIMAIN);

print "char *staticlinkmodules[]={\n";
foreach (@@ARGV) {
	print "\t\"".$_."\",\n";
	}
print "\tNULL,\n";
print "\t};\n";
print "\n";
foreach (@@ARGV) {
	print "EXTERN_C void boot_$_ _((CV* cv));\n"
	}

print <<EOP;

static void
xs_init()
{
	dXSUB_SYS;
	char *file = __FILE__;
EOP

foreach (@@ARGV) {
	if (/DynaLoader/) {
	    print "\tnewXS(\"$_\:\:boot_$_\", boot_$_, file);\n";
		}
	else {
	    print "\tnewXS(\"$_\:\:bootstrap\", boot_$_, file);\n";
		};
	}

print <<EOP;
}
EOP
@


1.1
log
@perl 5.004_04
@
text
@@


1.1.1.1
log
@perl5.005_03
@
text
@@

