head	1.2;
access;
symbols
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.1.1.7.0.12
	OPENBSD_6_0_BASE:1.1.1.7
	OPENBSD_5_9:1.1.1.7.0.6
	OPENBSD_5_9_BASE:1.1.1.7
	OPENBSD_5_8:1.1.1.7.0.8
	OPENBSD_5_8_BASE:1.1.1.7
	PERL_5_20_2:1.1.1.7
	OPENBSD_5_7:1.1.1.7.0.2
	OPENBSD_5_7_BASE:1.1.1.7
	PERL_5_20_1:1.1.1.7
	OPENBSD_5_6:1.1.1.7.0.4
	OPENBSD_5_6_BASE:1.1.1.7
	PERL_5_18_2:1.1.1.7
	PERL:1.1.1
	OPENBSD_5_5:1.1.1.6.0.6
	OPENBSD_5_5_BASE:1.1.1.6
	OPENBSD_5_4:1.1.1.6.0.2
	OPENBSD_5_4_BASE:1.1.1.6
	PERL_5_16_3:1.1.1.6
	OPENBSD_5_3:1.1.1.5.0.10
	OPENBSD_5_3_BASE:1.1.1.5
	OPENBSD_5_2:1.1.1.5.0.8
	OPENBSD_5_2_BASE:1.1.1.5
	OPENBSD_5_1_BASE:1.1.1.5
	OPENBSD_5_1:1.1.1.5.0.6
	OPENBSD_5_0:1.1.1.5.0.4
	OPENBSD_5_0_BASE:1.1.1.5
	OPENBSD_4_9:1.1.1.5.0.2
	OPENBSD_4_9_BASE:1.1.1.5
	PERL_5_12_2:1.1.1.5
	OPENBSD_4_8:1.1.1.4.0.8
	OPENBSD_4_8_BASE:1.1.1.4
	OPENBSD_4_7:1.1.1.4.0.4
	OPENBSD_4_7_BASE:1.1.1.4
	PERL_5_10_1:1.1.1.4
	OPENBSD_4_6:1.1.1.4.0.6
	OPENBSD_4_6_BASE:1.1.1.4
	OPENBSD_4_5:1.1.1.4.0.2
	OPENBSD_4_5_BASE:1.1.1.4
	PERL_5_10_0:1.1.1.4
	OPENBSD_4_4:1.1.1.3.0.18
	OPENBSD_4_4_BASE:1.1.1.3
	OPENBSD_4_3:1.1.1.3.0.16
	OPENBSD_4_3_BASE:1.1.1.3
	OPENBSD_4_2:1.1.1.3.0.14
	OPENBSD_4_2_BASE:1.1.1.3
	OPENBSD_4_1:1.1.1.3.0.12
	OPENBSD_4_1_BASE:1.1.1.3
	OPENBSD_4_0:1.1.1.3.0.10
	OPENBSD_4_0_BASE:1.1.1.3
	PERL_5_8_8:1.1.1.3
	OPENBSD_3_9:1.1.1.3.0.8
	OPENBSD_3_9_BASE:1.1.1.3
	OPENBSD_3_8:1.1.1.3.0.6
	OPENBSD_3_8_BASE:1.1.1.3
	OPENBSD_3_7:1.1.1.3.0.4
	OPENBSD_3_7_BASE:1.1.1.3
	PERL_5_8_6:1.1.1.3
	OPENBSD_3_6:1.1.1.3.0.2
	OPENBSD_3_6_BASE:1.1.1.3
	PERL_5_8_5:1.1.1.3
	PERL_5_8_3:1.1.1.2
	OPENBSD_3_5:1.1.1.2.0.2
	OPENBSD_3_5_BASE:1.1.1.2
	PERL_5_8_2:1.1.1.2
	OPENBSD_3_4:1.1.1.1.0.4
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	PERL_5_8_0:1.1.1.1
	CPAN:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.2
date	2017.02.05.00.31.52;	author afresh1;	state Exp;
branches;
next	1.1;
commitid	cxJ08BvJA9Pt2PTM;

1.1
date	2002.10.27.22.14.47;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.10.27.22.14.47;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.12.03.02.43.30;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2004.08.09.17.45.35;	author millert;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2008.09.29.17.18.03;	author millert;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2010.09.24.14.48.27;	author millert;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2013.03.25.20.06.26;	author sthen;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2014.03.24.14.58.45;	author afresh1;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Fix merge issues, remove excess files - match perl-5.24.1 dist
@
text
@LD = $(CC)
CCFLAGS = -c
DEFINES = -DPERL_CORE -DPERL_MICRO -DSTANDARD_C -DPERL_USE_SAFE_PUTENV \
	  -DNO_MATHOMS
OPTIMIZE = 
CFLAGS = $(DEFINES) $(OPTIMIZE)
LDFLAGS = 
LIBS = -lm
_O = .o
ENV = env
PERL = perl
_X = 
RUN = 

all:	microperl

O = uav$(_O) udeb$(_O) udoio$(_O) udoop$(_O) udquote$(_O) udump$(_O) \
	uglobals$(_O) ugv$(_O) uhv$(_O) umro$(_O)\
	umg$(_O) uperlmain$(_O) uop$(_O) ureentr$(_O) \
	upad$(_O) uperl$(_O) uperlio$(_O) uperly$(_O) upp$(_O) \
	upp_ctl$(_O) upp_hot$(_O) upp_sys$(_O) upp_pack$(_O) upp_sort$(_O) \
	uregcomp$(_O) uregexec$(_O) urun$(_O) \
	uscope$(_O) usv$(_O) utaint$(_O) utime64$(_O) utoke$(_O) \
	unumeric$(_O) ulocale$(_O) umathoms$(_O) \
	uuniversal$(_O) uutf8$(_O) uutil$(_O) uperlapi$(_O) ukeywords$(_O)

microperl:	$(O)
	$(LD) -o $@@ $(O) $(LDFLAGS) $(LIBS)

generated_headers = uuudmap.h ubitcount.h umg_data.h
H = av.h uconfig.h cop.h cv.h embed.h embedvar.h form.h gv.h handy.h \
	hv.h hv_func.h intrpvar.h iperlsys.h mg.h op.h opcode.h opnames.h pad.h \
	patchlevel.h perl.h perlsdio.h perlvars.h perly.h pp.h \
	pp_proto.h proto.h reentr.h regexp.h scope.h sv.h \
	thread.h unixish.h utf8.h util.h warnings.h $(generated_headers)

HE = $(H) EXTERN.h

clean:
	-rm -f $(O) microperl ugenerate_uudmap$(_X) $(generated_headers)

distclean:	clean

# The microconfiguration.

# Cannot use $$ in the command line itself, so using var expansion instead.
Config = '$$Config{$$1}'
patch_uconfig:
	$(PERL) -MConfig -pi -e "s/^((?:short|int|long(?:dbl|long)?|ptr|double|[iun]v|u?quad|[iu]\d+|fpos|lseek)(?:size|type)|byteorder|d_quad|quadkind|use64.+)=.*/\\1='"$(Config)"'/g" uconfig.sh

regen_uconfig: uconfig.sh config_h.SH
	$(ENV) CONFIG_SH=uconfig.sh CONFIG_H=uconfig.h sh ./config_h.SH

regen_uconfig64: uconfig64.sh config_h.SH
	$(ENV) CONFIG_SH=uconfig64.sh CONFIG_H=uconfig.h sh ./config_h.SH

# Do not regenerate perly.c and perly.h.

perly.c: perly.y
	-@@echo perly.c is uptodate

perly.h: perly.y
	-@@echo perly.h is uptodate

# The microperl objects.

uav$(_O):	$(HE) av.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) av.c

udeb$(_O):	$(HE) deb.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) deb.c

udoio$(_O):	$(HE) doio.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) doio.c

udoop$(_O):	$(HE) doop.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) doop.c

udquote$(_O):	$(HE) dquote.c regcomp.h regnodes.h
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) dquote.c

udump$(_O):	$(HE) dump.c regcomp.h regnodes.h
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) dump.c

uglobals$(_O):	$(H) globals.c INTERN.h perlapi.h $(generated_headers)
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) globals.c

ugv$(_O):	$(HE) gv.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) gv.c

umro$(_O):	$(HE) mro_core.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) mro_core.c

uhv$(_O):	$(HE) hv.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) hv.c

ukeywords$(_O):	$(HE) keywords.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) keywords.c

umg$(_O):	$(HE) mg.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) mg.c

uperlmain$(_O):	$(HE) miniperlmain.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) miniperlmain.c

uop$(_O):	$(HE) op.c keywords.h
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) -DPERL_EXTERNAL_GLOB op.c

ureentr$(_O):	$(HE) reentr.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) reentr.c

upad$(_O):	$(HE) pad.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pad.c

uperl$(_O):	$(HE) perl.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) perl.c

uperlio$(_O):	$(HE) perlio.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) perlio.c

uperly$(_O):	$(HE) perly.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) perly.c

upp$(_O):	$(HE) pp.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp.c

upp_ctl$(_O):	$(HE) pp_ctl.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp_ctl.c

upp_hot$(_O):	$(HE) pp_hot.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp_hot.c

upp_sys$(_O):	$(HE) pp_sys.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp_sys.c

upp_pack$(_O):	$(HE) pp_pack.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp_pack.c

upp_sort$(_O):	$(HE) pp_sort.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp_sort.c

uregcomp$(_O):	$(HE) regcomp.c regcomp.h regnodes.h INTERN.h
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) regcomp.c

uregexec$(_O):	$(HE) regexec.c regcomp.h regnodes.h
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) regexec.c

urun$(_O):	$(HE) run.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) run.c

uscope$(_O):	$(HE) scope.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) scope.c

usv$(_O):	$(HE) sv.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) sv.c

utaint$(_O):	$(HE) taint.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) taint.c

utime64$(_O):	$(HE) time64.c time64.h time64_config.h
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) time64.c

utoke$(_O):	$(HE) toke.c keywords.h
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) toke.c

ulocale$(_O):	$(HE) locale.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) locale.c

unumeric$(_O):	$(HE) numeric.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) numeric.c

umathoms$(_O):	$(HE) mathoms.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) mathoms.c

uuniversal$(_O):	$(HE) universal.c XSUB.h
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) universal.c

uutf8$(_O):	$(HE) utf8.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) utf8.c

uutil$(_O):	$(HE) util.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) util.c

uperlapi$(_O):	$(HE) perlapi.c perlapi.h
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) perlapi.c

uuudmap.h umg_data.h: ubitcount.h

ubitcount.h: ugenerate_uudmap$(_X)
	$(RUN) ./ugenerate_uudmap$(_X) $(generated_headers)

ugenerate_uudmap$(_O): generate_uudmap.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) generate_uudmap.c

ugenerate_uudmap$(_X): ugenerate_uudmap$(_O)
	$(LD) -o ugenerate_uudmap $(LDFLAGS) ugenerate_uudmap$(_O) $(LIBS)

microtest: microperl
	- cd t && (rm -f perl; ln -s ../microperl perl) \
	  && ./perl TEST base/*.t cmd/*.t

# That's it, folks!
@


1.1
log
@Initial revision
@
text
@d2 4
a5 2
DEFINES = -DPERL_CORE -DPERL_MICRO
OPTIMIZE =
d7 1
d10 4
d17 2
a18 2
O = uav$(_O) udeb$(_O) udoio$(_O) udoop$(_O) udump$(_O) \
	uglobals$(_O) ugv$(_O) uhv$(_O) \
d20 1
a20 1
	uperl$(_O) uperlio$(_O) uperly$(_O) upp$(_O) \
d23 3
a25 3
	uscope$(_O) usv$(_O) utaint$(_O) utoke$(_O) \
	unumeric$(_O) ulocale$(_O) \
	uuniversal$(_O) uutf8$(_O) uutil$(_O) uperlapi$(_O)
d28 1
a28 1
	$(LD) -o $@@ $(O) $(LIBS)
d30 1
d32 4
a35 4
	hv.h intrpvar.h iperlsys.h mg.h op.h opcode.h opnames.h patchlevel.h \
	perl.h perlsdio.h perlvars.h perly.h pp.h pp_proto.h proto.h reentr.h \
	regexp.h scope.h sv.h thrdvar.h thread.h unixish.h utf8.h util.h \
	warnings.h
d40 1
a40 1
	-rm -f $(O) microperl
a42 1
	-rm -f uconfig.h
d46 10
a55 2
uconfig.h:	uconfig.sh config_h.SH
	CONFIG_SH=uconfig.sh CONFIG_H=uconfig.h sh ./config_h.SH
d68 1
a68 1
	$(CC) -c -o $@@ $(CFLAGS) av.c
d71 1
a71 1
	$(CC) -c -o $@@ $(CFLAGS) deb.c
d74 1
a74 1
	$(CC) -c -o $@@ $(CFLAGS) doio.c
d77 4
a80 1
	$(CC) -c -o $@@ $(CFLAGS) doop.c
d83 1
a83 1
	$(CC) -c -o $@@ $(CFLAGS) dump.c
d85 2
a86 2
uglobals$(_O):	$(H) globals.c INTERN.h perlapi.h
	$(CC) -c -o $@@ $(CFLAGS) globals.c
d89 4
a92 1
	$(CC) -c -o $@@ $(CFLAGS) gv.c
d95 4
a98 1
	$(CC) -c -o $@@ $(CFLAGS) hv.c
d101 1
a101 1
	$(CC) -c -o $@@ $(CFLAGS) mg.c
d104 1
a104 1
	$(CC) -c -o $@@ $(CFLAGS) miniperlmain.c
d107 1
a107 1
	$(CC) -c -o $@@ $(CFLAGS) op.c
d110 4
a113 1
	$(CC) -c -o $@@ $(CFLAGS) reentr.c
d116 1
a116 1
	$(CC) -c -o $@@ $(CFLAGS) perl.c
d119 1
a119 1
	$(CC) -c -o $@@ $(CFLAGS) perlio.c
d122 1
a122 1
	$(CC) -c -o $@@ $(CFLAGS) perly.c
d125 1
a125 1
	$(CC) -c -o $@@ $(CFLAGS) pp.c
d128 1
a128 1
	$(CC) -c -o $@@ $(CFLAGS) pp_ctl.c
d131 1
a131 1
	$(CC) -c -o $@@ $(CFLAGS) pp_hot.c
d134 1
a134 1
	$(CC) -c -o $@@ $(CFLAGS) pp_sys.c
d137 1
a137 1
	$(CC) -c -o $@@ $(CFLAGS) pp_pack.c
d140 1
a140 1
	$(CC) -c -o $@@ $(CFLAGS) pp_sort.c
d143 1
a143 1
	$(CC) -c -o $@@ $(CFLAGS) regcomp.c
d146 1
a146 1
	$(CC) -c -o $@@ $(CFLAGS) regexec.c
d149 1
a149 1
	$(CC) -c -o $@@ $(CFLAGS) run.c
d152 1
a152 1
	$(CC) -c -o $@@ $(CFLAGS) scope.c
d155 1
a155 1
	$(CC) -c -o $@@ $(CFLAGS) sv.c
d158 4
a161 1
	$(CC) -c -o $@@ $(CFLAGS) taint.c
d164 1
a164 1
	$(CC) -c -o $@@ $(CFLAGS) toke.c
d167 1
a167 1
	$(CC) -c -o $@@ $(CFLAGS) locale.c
d170 4
a173 1
	$(CC) -c -o $@@ $(CFLAGS) numeric.c
d176 1
a176 1
	$(CC) -c -o $@@ $(CFLAGS) universal.c
d179 1
a179 1
	$(CC) -c -o $@@ $(CFLAGS) utf8.c
d182 1
a182 1
	$(CC) -c -o $@@ $(CFLAGS) util.c
d185 12
a196 1
	$(CC) -c -o $@@ $(CFLAGS) perlapi.c
d198 3
d202 1
@


1.1.1.1
log
@stock perl 5.8.0 from CPAN
@
text
@@


1.1.1.2
log
@perl 5.8.2 from CPAN
@
text
@d2 2
a3 2
DEFINES = -DPERL_CORE -DPERL_MICRO -DSTANDARD_C -DPERL_USE_SAFE_PUTENV
OPTIMIZE = 
a6 1
ENV = env
d13 1
a13 1
	upad$(_O) uperl$(_O) uperlio$(_O) uperly$(_O) upp$(_O) \
d18 1
a18 1
	uuniversal$(_O) uutf8$(_O) uutil$(_O) uperlapi$(_O) uxsutils$(_O)
d24 4
a27 4
	hv.h intrpvar.h iperlsys.h mg.h op.h opcode.h opnames.h pad.h \
	patchlevel.h perl.h perlsdio.h perlvars.h perly.h pp.h \
	pp_proto.h proto.h reentr.h regexp.h scope.h sv.h thrdvar.h \
	thread.h unixish.h utf8.h util.h warnings.h
d40 1
a40 1
	$(ENV) CONFIG_SH=uconfig.sh CONFIG_H=uconfig.h sh ./config_h.SH
d83 1
a83 1
	$(CC) -c -o $@@ $(CFLAGS) -DPERL_EXTERNAL_GLOB op.c
a87 3
upad$(_O):	$(HE) pad.c
	$(CC) -c -o $@@ $(CFLAGS) pad.c

a153 2
uxsutils$(_O):	$(HE) xsutils.c
	$(CC) -c -o $@@ $(CFLAGS) xsutils.c
a154 1
# That's it, folks!
@


1.1.1.3
log
@Import of stock perl 5.8.5
@
text
@d36 1
d40 1
a40 1
regen_uconfig:
@


1.1.1.4
log
@import perl 5.10.0 from CPAN
@
text
@a1 1
CCFLAGS = -c
a4 1
LDFLAGS = 
a7 3
PERL = perl
_X = 
RUN = 
d12 1
a12 1
	uglobals$(_O) ugv$(_O) uhv$(_O) umro$(_O)\
d18 1
a18 1
	unumeric$(_O) ulocale$(_O) umathoms$(_O) \
d22 1
a22 1
	$(LD) -o $@@ $(O) $(LDFLAGS) $(LIBS)
d27 2
a28 2
	pp_proto.h proto.h reentr.h regexp.h scope.h sv.h \
	thread.h unixish.h utf8.h util.h uudmap.h warnings.h
d33 1
a33 1
	-rm -f $(O) microperl generate_uudmap$(_X) uudmap.h
d39 1
a39 6
# Cannot use $$ in the command line itself, so using var expansion instead.
Config = '$$Config{$$1}'
patch_uconfig:
	$(PERL) -MConfig -pi -e "s/^((?:short|int|long(?:dbl|long)?|ptr|double|[iun]v|u?quad|[iu]\d+|fpos|lseek)(?:size|type)|byteorder|d_quad|quadkind|use64.+)=.*/\\1='"$(Config)"'/g" uconfig.shx

regen_uconfig uconfig.h: uconfig.sh
d53 1
a53 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) av.c
d56 1
a56 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) deb.c
d59 1
a59 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) doio.c
d62 1
a62 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) doop.c
d65 1
a65 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) dump.c
d68 1
a68 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) globals.c
d71 1
a71 4
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) gv.c

umro$(_O):	$(HE) mro.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) mro.c
d74 1
a74 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) hv.c
d77 1
a77 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) mg.c
d80 1
a80 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) miniperlmain.c
d83 1
a83 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) -DPERL_EXTERNAL_GLOB op.c
d86 1
a86 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) reentr.c
d89 1
a89 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pad.c
d92 1
a92 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) perl.c
d95 1
a95 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) perlio.c
d98 1
a98 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) perly.c
d101 1
a101 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp.c
d104 1
a104 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp_ctl.c
d107 1
a107 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp_hot.c
d110 1
a110 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp_sys.c
d113 1
a113 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp_pack.c
d116 1
a116 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) pp_sort.c
d119 1
a119 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) regcomp.c
d122 1
a122 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) regexec.c
d125 1
a125 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) run.c
d128 1
a128 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) scope.c
d131 1
a131 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) sv.c
d134 1
a134 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) taint.c
d137 1
a137 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) toke.c
d140 1
a140 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) locale.c
d143 1
a143 4
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) numeric.c

umathoms$(_O):	$(HE) mathoms.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) mathoms.c
d146 1
a146 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) universal.c
d149 1
a149 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) utf8.c
d152 1
a152 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) util.c
d155 1
a155 1
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) perlapi.c
d158 1
a158 10
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) xsutils.c

uudmap.h: generate_uudmap$(_X)
	$(RUN) ./generate_uudmap$(_X) >uudmap.h

generate_uudmap$(_O): generate_uudmap.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) generate_uudmap.c

generate_uudmap$(_X): generate_uudmap$(_O)
	$(LD) -o generate_uudmap $(LDFLAGS) generate_uudmap$(_O) $(LIBS)
@


1.1.1.5
log
@Perl 5.12.2 from CPAN
@
text
@d24 1
a24 1
	uuniversal$(_O) uutf8$(_O) uutil$(_O) uperlapi$(_O)
d172 3
@


1.1.1.6
log
@import perl 5.16.3 from CPAN - worked on by Andrew Fresh and myself
@
text
@d3 1
a3 2
DEFINES = -DPERL_CORE -DPERL_MICRO -DSTANDARD_C -DPERL_USE_SAFE_PUTENV \
	  -DNO_MATHOMS
d24 1
a24 1
	uuniversal$(_O) uutf8$(_O) uutil$(_O) uperlapi$(_O) ukeywords$(_O)
a28 1
generated_headers = uuudmap.h ubitcount.h umg_data.h
d33 1
a33 1
	thread.h unixish.h utf8.h util.h warnings.h $(generated_headers)
d38 1
a38 1
	-rm -f $(O) microperl ugenerate_uudmap$(_X) $(generated_headers)
d47 1
a47 1
	$(PERL) -MConfig -pi -e "s/^((?:short|int|long(?:dbl|long)?|ptr|double|[iun]v|u?quad|[iu]\d+|fpos|lseek)(?:size|type)|byteorder|d_quad|quadkind|use64.+)=.*/\\1='"$(Config)"'/g" uconfig.sh
d49 1
a49 1
regen_uconfig: uconfig.sh config_h.SH
a51 3
regen_uconfig64: uconfig64.sh config_h.SH
	$(ENV) CONFIG_SH=uconfig64.sh CONFIG_H=uconfig.h sh ./config_h.SH

d77 1
a77 1
uglobals$(_O):	$(H) globals.c INTERN.h perlapi.h $(generated_headers)
a88 3
ukeywords$(_O):	$(HE) keywords.c
	$(CC) $(CCFLAGS) -o $@@ $(CFLAGS) keywords.c

d173 2
a174 1
uuudmap.h umg_data.h: ubitcount.h
d176 1
a176 4
ubitcount.h: ugenerate_uudmap$(_X)
	$(RUN) ./ugenerate_uudmap$(_X) $(generated_headers)

ugenerate_uudmap$(_O): generate_uudmap.c
d179 2
a180 6
ugenerate_uudmap$(_X): ugenerate_uudmap$(_O)
	$(LD) -o ugenerate_uudmap $(LDFLAGS) ugenerate_uudmap$(_O) $(LIBS)

microtest: microperl
	- cd t && (rm -f perl; ln -s ../microperl perl) \
	  && ./perl TEST base/*.t cmd/*.t
@


1.1.1.7
log
@Import perl-5.18.2

OK espie@@ sthen@@ deraadt@@
@
text
@d32 1
a32 1
	hv.h hv_func.h intrpvar.h iperlsys.h mg.h op.h opcode.h opnames.h pad.h \
@


