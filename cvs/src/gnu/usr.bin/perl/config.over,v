head	1.22;
access;
symbols
	OPENBSD_6_1:1.22.0.2
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.20.0.10
	OPENBSD_6_0_BASE:1.20
	OPENBSD_5_9:1.20.0.4
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.20.0.6
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.20.0.2
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.17.0.4
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.16.0.6
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.14.0.18
	OPENBSD_5_3_BASE:1.14
	OPENBSD_5_2:1.14.0.16
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.14
	OPENBSD_5_0:1.14.0.12
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.14.0.10
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.14.0.8
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.14.0.4
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.14.0.6
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.2
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.13.0.16
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.14
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.12
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.13.0.10
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.13.0.8
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.6
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.4
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.13.0.2
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.12.0.4
	OPENBSD_3_6_BASE:1.12
	PERL_5_8_5:1.1.1.1
	CPAN:1.1.1
	OPENBSD_3_5:1.12.0.2
	OPENBSD_3_5_BASE:1.12
	OPENBSD_3_4:1.11.0.4
	OPENBSD_3_4_BASE:1.11
	OPENBSD_3_3:1.11.0.2
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.10.0.2
	OPENBSD_3_2_BASE:1.10
	OPENBSD_3_1:1.9.0.8
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.9.0.6
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9:1.9.0.4
	OPENBSD_2_9_BASE:1.9
	OPENBSD_2_8:1.9.0.2
	OPENBSD_2_8_BASE:1.9
	OPENBSD_2_7:1.8.0.2
	OPENBSD_2_7_BASE:1.8
	OPENBSD_2_6:1.7.0.2
	OPENBSD_2_6_BASE:1.7;
locks; strict;
comment	@# @;


1.22
date	2017.02.05.00.33.38;	author afresh1;	state Exp;
branches;
next	1.21;
commitid	7JLVNm1wwPgqSqTa;

1.21
date	2016.11.09.17.09.56;	author millert;	state Exp;
branches;
next	1.20;
commitid	orxmffoGbTZMge2v;

1.20
date	2014.11.17.21.36.21;	author afresh1;	state Exp;
branches;
next	1.19;
commitid	9VlhTr6BKzZNBC9G;

1.19
date	2014.11.17.21.03.08;	author afresh1;	state Exp;
branches;
next	1.18;
commitid	KQNGgR8uwAxYXWj8;

1.18
date	2014.11.17.21.00.55;	author afresh1;	state Exp;
branches;
next	1.17;
commitid	LnErp1MFKSuew5Fr;

1.17
date	2014.03.24.15.05.13;	author afresh1;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.25.20.44.46;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.25.20.40.43;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2008.10.12.19.15.31;	author millert;	state Exp;
branches;
next	1.13;

1.13
date	2005.02.18.17.46.02;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2003.12.03.03.02.19;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2002.10.27.22.25.17;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2002.09.11.19.41.37;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2000.10.18.19.34.34;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2000.04.08.16.40.51;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	99.08.26.14.45.46;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	99.08.20.09.40.24;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	99.05.16.00.24.13;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	99.05.04.16.15.19;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	99.05.03.00.06.27;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	99.04.30.18.16.17;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	99.04.29.22.56.01;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.08.09.17.45.37;	author millert;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Apply local patches - perl-5.24.1
@
text
@#
# Override default paths when building in the OpenBSD src tree
#
# $OpenBSD: config.over,v 1.21 2016/11/09 17:09:56 millert Exp $
#

# We use a different architecture name than the default
archname="`arch -s`-${osname}"
myarchname="$archname"

# Use correct paths for a distribution
prefix='/usr'
prefixexp='/usr'

# But site binaries go in /usr/local/bin for ports
siteprefix='/usr/local'
siteprefixexp='/usr/local'
installsitebin='/usr/local/bin'

installarchlib="/usr/libdata/perl5/${archname}"
archlib="${installarchlib}"
archlibexp="${archlib}"

test $useshrplib = "true" && ccdlflags="-Wl,-R${installarchlib}/CORE"   

installprivlib="/usr/libdata/perl5"
privlib="${installprivlib}"
privlibexp="${privlib}"

installsitearch="/usr/local/libdata/perl5/site_perl/${archname}"
sitearch="${installsitearch}"
sitearchexp="${sitearch}"

installsitelib="/usr/local/libdata/perl5/site_perl"
sitelib="${installsitelib}"
sitelibexp="${sitelib}"

installstyle="${privlib}"

# We install the man pages ourselves until installman gets smarter
man1dir='/usr/share/man/man1'
man1direxp='/usr/share/man/man1'
installman1dir='/usr/share/man/man1'
man1ext='1'
man3dir='/usr/share/man/man3p'
man3direxp='/usr/share/man/man3p'
installman3dir='/usr/share/man/man3p'
man3ext='3p'
siteman1dir='/usr/local/man/man1'
siteman1direxp='/usr/local/man/man1'
installsiteman1dir='/usr/local/man/man1'
siteman3dir='/usr/local/man/man3p'
siteman3direxp='/usr/local/man/man3p'
installsiteman3dir='/usr/local/man/man3p'

# Never hardcode developer info into a distribution
cf_by='root'
cf_email='root@@localhost'
cf_time='Thu Jan  1  0:00:00 UTC 1970'
perladmin='root@@localhost'
mydomain=''
myhostname=''
myuname='openbsd'

# force to use ranlib
ranlib='ranlib'
@


1.21
log
@Remove /usr/libdata/perl5/site_perl from sitelib and sitearch, now
that we don't install .ph files we only want to search for these
under /usr/local/libdata/perl5/site_perl.  OK afresh1@@
@
text
@d4 1
a4 1
# $OpenBSD: config.over,v 1.20 2014/11/17 21:36:21 afresh1 Exp $
d20 2
a21 2
installarchlib="/usr/libdata/perl5/${archname}/${version}"
archlib="${installarchlib}:/usr/local/libdata/perl5/${archname}/${version}"
d27 1
a27 1
privlib="${installprivlib}:/usr/local/libdata/perl5"
@


1.20
log
@Re-add lost unicore files in perl-5.20.1
@
text
@d4 1
a4 1
# $OpenBSD: config.over,v 1.16 2013/03/25 20:44:46 sthen Exp $
a29 1
# NOTE: primary dir for sitearch lives in /usr/local
d31 1
a31 1
sitearch="${installsitearch}:/usr/libdata/perl5/site_perl/${archname}"
a33 1
# NOTE: primary dir for sitelib lives in /usr/local
d35 1
a35 1
sitelib="${installsitelib}:/usr/libdata/perl5/site_perl"
@


1.19
log
@Regenerate unicore for perl-5.20.1

ok deraadt@@ sthen@@ espie@@ miod@@
@
text
@@


1.18
log
@Apply local patches to perl-5.20.1

ok deraadt@@ sthen@@ espie@@ miod@@
@
text
@@


1.17
log
@Merge perl-5.18.2 plus local patches, remove old files

OK espie@@ sthen@@ deraadt@@
@
text
@d4 1
a4 1
# $OpenBSD: config.over,v 1.13 2005/02/18 17:46:02 millert Exp $
@


1.16
log
@merge/resolve conflicts/add files
@
text
@@


1.15
log
@merge/resolve conflicts
(some more to do after this one)
@
text
@@


1.14
log
@Remove hack from MM_Unix.pm and simply set man1dir to 'none' in
installperl to prevent man page installation of the perl man pages.
@
text
@d40 2
@


1.13
log
@Set cf_time to the epoch for consistency of generated files.
@
text
@d4 1
a4 1
# $OpenBSD: config.over,v 1.12 2003/12/03 03:02:19 millert Exp $
d41 3
a43 3
man1dir=''
man1direxp=''
installman1dir=''
d45 3
a47 3
man3dir=''
man3direxp=''
installman3dir=''
@


1.12
log
@Resolve conflicts for perl 5.8.2, remove old files, and add OpenBSD-specific scaffolding
@
text
@d4 1
a4 1
# $OpenBSD: config.over,v 1.11 2002/10/27 22:25:17 millert Exp $
d59 1
@


1.11
log
@Resolve conflicts, remove old files, merge local changes
@
text
@d4 1
a4 1
# $OpenBSD: config.over,v 1.10 2002/09/11 19:41:37 millert Exp $
d49 6
@


1.10
log
@Pass ld the -R flag to add directories to the list of places to
search for shared objects instead of using a LD_RUN_PATH hack.  We
use -R here since it works with both the old and new (binutils) ld
flavors.  The LD_RUN_PATH hack was using the wrong directory anyway
and so didn't even work.  Problem pointed out by H. Steuer.
@
text
@d4 1
a4 1
# $OpenBSD: config.over,v 1.9 2000/10/18 19:34:34 millert Exp $
d57 3
@


1.9
log
@set siteprefix and siteprefixexp to /usr/local as they should be
@
text
@d4 1
a4 1
# $OpenBSD: config.over,v 1.8 2000/04/08 16:40:51 millert Exp $
d23 2
@


1.8
log
@Make installsitebin '/usr/local/bin'
@
text
@d4 1
a4 1
# $OpenBSD: config.over,v 1.7 1999/08/26 14:45:46 millert Exp $
d16 2
@


1.7
log
@OpenBSD CVS tag
@
text
@d4 1
a4 1
# $OpenBSD$
d14 3
@


1.6
log
@Take advantage of "arch -s"
@
text
@d4 2
@


1.5
log
@remove the "cat" prefix from man extensions since it makes perldoc send the wrong section number to pod2man
@
text
@d6 1
a6 1
archname="`arch |cut -f2 -d.`-${osname}"
@


1.4
log
@Move perl lib files to /usr/libdata/perl5 and /usr/local/libdata/perl5.
Now install perl lib manpages in /usr/share/man/cat3p.
Add gen_openbsd_mandep, an emasculated version of installman that
just generates the man dependencies and MANALL declaration.
NOTE: you must update your make(1) for the new man pages to format.
@
text
@d35 1
a35 1
man1ext='cat1'
d39 1
a39 1
man3ext='cat3p'
@


1.3
log
@For each search dir in /usr/lib/perl5, also look in /usr/local/lib/perl5.
This is mostly for ports.
@
text
@d13 2
a14 2
installarchlib="/usr/lib/perl5/${archname}/${version}"
archlib="${installarchlib}:/usr/local/lib/perl5/${archname}/${version}"
d17 2
a18 2
installprivlib="/usr/lib/perl5"
privlib="${installprivlib}:/usr/local/lib/perl5"
d21 3
a23 2
installsitearch="/usr/lib/perl5/site_perl/${archname}"
sitearch="${installsitearch}:/usr/local/lib/perl5/site_perl/${archname}"
d26 3
a28 2
installsitelib="/usr/lib/perl5/site_perl"
sitelib="${installsitelib}:/usr/local/lib/perl5/site_perl"
d31 1
a31 1
# We install the man oages ourselves until installman gets smarter
@


1.2
log
@Use arch, not uname
@
text
@d13 2
a14 1
archlib="/usr/lib/perl5/${archname}/${version}"
a15 1
installarchlib="${archlib}"
d17 2
a18 1
privlib='/usr/lib/perl5'
a19 1
installprivlib="${privlib}"    
d21 2
a22 1
sitearch="/usr/lib/perl5/site_perl/${archname}"
a23 1
installsitearch="${sitearch}"
d25 2
a26 1
sitelib='/usr/lib/perl5/site_perl'
a27 1
installsitelib="${sitelib}"
d33 1
a33 1
man1ext='0'
d37 1
a37 1
man3ext='0'
@


1.1
log
@New configuration method, use a combination of hints and config.over.  Also add in OpenBSD-specific patches
@
text
@d6 1
a6 1
archname="`uname -m`-${osname}"
@


1.1.1.1
log
@Import of stock perl 5.8.5
@
text
@a3 2
# $OpenBSD: config.over,v 1.12 2003/12/03 03:02:19 millert Exp $
#
d6 1
a6 1
archname="`arch -s`-${osname}"
d13 1
a13 7
# But site binaries go in /usr/local/bin for ports
siteprefix='/usr/local'
siteprefixexp='/usr/local'
installsitebin='/usr/local/bin'

installarchlib="/usr/libdata/perl5/${archname}/${version}"
archlib="${installarchlib}:/usr/local/libdata/perl5/${archname}/${version}"
d15 1
d17 1
a17 4
test $useshrplib = "true" && ccdlflags="-Wl,-R${installarchlib}/CORE"   

installprivlib="/usr/libdata/perl5"
privlib="${installprivlib}:/usr/local/libdata/perl5"
d19 1
d21 1
a21 3
# NOTE: primary dir for sitearch lives in /usr/local
installsitearch="/usr/local/libdata/perl5/site_perl/${archname}"
sitearch="${installsitearch}:/usr/libdata/perl5/site_perl/${archname}"
d23 1
d25 1
a25 3
# NOTE: primary dir for sitelib lives in /usr/local
installsitelib="/usr/local/libdata/perl5/site_perl"
sitelib="${installsitelib}:/usr/libdata/perl5/site_perl"
d27 1
d29 1
a29 1
# We install the man pages ourselves until installman gets smarter
d33 1
a33 1
man1ext='1'
d37 1
a37 7
man3ext='3p'
siteman1dir='/usr/local/man/man1'
siteman1direxp='/usr/local/man/man1'
installsiteman1dir='/usr/local/man/man1'
siteman3dir='/usr/local/man/man3p'
siteman3direxp='/usr/local/man/man3p'
installsiteman3dir='/usr/local/man/man3p'
a45 3

# force to use ranlib
ranlib='ranlib'
@


