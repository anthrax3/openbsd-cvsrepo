head	1.2;
access;
symbols
	OPENBSD_4_8:1.1.1.1.0.4
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.2
	OPENBSD_4_7_BASE:1.1.1.1
	PERL_5_10_1:1.1.1.1
	CPAN:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2010.09.24.14.59.45;	author millert;	state dead;
branches;
next	1.1;

1.1
date	2009.10.12.18.11.01;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.10.12.18.11.01;	author millert;	state Exp;
branches;
next	;


desc
@@


1.2
log
@remove files no longer in perl 5.12.2 (or that have moved)
@
text
@#!/usr/bin/perl

use strict;
use warnings;

use lib $ENV{PERL_CORE} ? '../lib/Module/Build/t/lib' : 't/lib';
use MBTest 'no_plan';

use_ok 'Module::Build';
ensure_blib 'Module::Build';

{
    chdir MBTest->tmpdir();

    my $build = Module::Build->new(
        dist_name       => "Foo-Bar",
        dist_version    => '1.23',
    );

    my $skip = "mskip.txt";  # for compatibility
    $build->_write_default_maniskip($skip);

    ok -r $skip, "Default maniskip written";
    my $have = slurp($skip);

    my $head;
    if( $build->_eumanifest_has_include ) {
        $head = "#!include_default\n";
    }
    else {
        $head = slurp($build->_default_maniskip);
    }

    like $have, qr/^\Q$head\E/, "default MANIFEST.SKIP used";
    like $have, qr/^# Avoid Module::Build generated /ms, "Module::Build specific entries";
    like $have, qr/Foo-Bar-/, "distribution tarball entry";
}
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@import perl 5.10.1
@
text
@@
