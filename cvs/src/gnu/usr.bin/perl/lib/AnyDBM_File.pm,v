head	1.14;
access;
symbols
	OPENBSD_6_1:1.14.0.2
	OPENBSD_6_1_BASE:1.14
	OPENBSD_6_0:1.12.0.8
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.12.0.2
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.12.0.4
	OPENBSD_5_8_BASE:1.12
	PERL_5_20_2:1.1.1.5
	OPENBSD_5_7:1.10.0.2
	OPENBSD_5_7_BASE:1.10
	PERL_5_20_1:1.1.1.5
	OPENBSD_5_6:1.8.0.8
	OPENBSD_5_6_BASE:1.8
	PERL_5_18_2:1.1.1.5
	PERL:1.1.1
	OPENBSD_5_5:1.8.0.6
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.8.0.2
	OPENBSD_5_4_BASE:1.8
	PERL_5_16_3:1.1.1.5
	OPENBSD_5_3:1.7.0.14
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.12
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.10
	OPENBSD_5_0:1.7.0.8
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.6
	OPENBSD_4_9_BASE:1.7
	PERL_5_12_2:1.1.1.4
	OPENBSD_4_8:1.7.0.4
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.2
	OPENBSD_4_7_BASE:1.7
	PERL_5_10_1:1.1.1.4
	OPENBSD_4_6:1.5.0.6
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	PERL_5_10_0:1.1.1.4
	OPENBSD_4_4:1.4.0.24
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.22
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.20
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.18
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.16
	OPENBSD_4_0_BASE:1.4
	PERL_5_8_8:1.1.1.4
	OPENBSD_3_9:1.4.0.14
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.12
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.10
	OPENBSD_3_7_BASE:1.4
	PERL_5_8_6:1.1.1.4
	OPENBSD_3_6:1.4.0.8
	OPENBSD_3_6_BASE:1.4
	PERL_5_8_5:1.1.1.4
	PERL_5_8_3:1.1.1.4
	OPENBSD_3_5:1.4.0.6
	OPENBSD_3_5_BASE:1.4
	PERL_5_8_2:1.1.1.4
	OPENBSD_3_4:1.4.0.4
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.2
	OPENBSD_3_3_BASE:1.4
	PERL_5_8_0:1.1.1.4
	OPENBSD_3_2:1.3.0.12
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.10
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.8
	OPENBSD_3_0_BASE:1.3
	PERL_5_6_1:1.1.1.3
	OPENBSD_2_9:1.3.0.6
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	PERL_5_6_0:1.1.1.3
	OPENBSD_2_6:1.2.0.8
	OPENBSD_2_6_BASE:1.2
	PERL_500503:1.1.1.2
	CPAN:1.1.1
	OPENBSD_2_5:1.2.0.6
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.4
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	perl5003:1.1.1.1
	lwall:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.14
date	2017.02.05.00.33.41;	author afresh1;	state Exp;
branches;
next	1.13;
commitid	7JLVNm1wwPgqSqTa;

1.13
date	2017.02.05.00.32.15;	author afresh1;	state Exp;
branches;
next	1.12;
commitid	cxJ08BvJA9Pt2PTM;

1.12
date	2015.04.25.19.26.22;	author afresh1;	state Exp;
branches;
next	1.11;
commitid	3qGYFVvfrExB70FB;

1.11
date	2015.04.25.19.14.46;	author afresh1;	state Exp;
branches;
next	1.10;
commitid	XRK22kO4se3v2i2I;

1.10
date	2014.11.17.21.01.00;	author afresh1;	state Exp;
branches;
next	1.9;
commitid	LnErp1MFKSuew5Fr;

1.9
date	2014.11.17.20.57.06;	author afresh1;	state Exp;
branches;
next	1.8;
commitid	QP75iYx42Uo7mMxO;

1.8
date	2013.03.25.20.40.55;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2009.10.13.01.25.48;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	2009.10.12.18.24.37;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2008.09.30.12.21.40;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2002.10.27.22.25.25;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.06.17.05.58;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	97.11.30.07.56.35;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	96.08.19.10.12.28;	author downsj;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.08.19.10.12.28;	author downsj;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.04.29.22.39.38;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2000.04.06.16.09.33;	author millert;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2002.10.27.22.14.57;	author millert;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2013.03.25.20.08.50;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.14
log
@Apply local patches - perl-5.24.1
@
text
@package AnyDBM_File;
use warnings;
use strict;

use 5.006_001;
our $VERSION = '1.01';
our @@ISA = qw(NDBM_File DB_File GDBM_File SDBM_File ODBM_File) unless @@ISA;

my $mod;
for $mod (@@ISA) {
    if (eval "require $mod") {
	@@ISA = ($mod);	# if we leave @@ISA alone, warnings abound
	return 1;
    }
}

die "No DBM package was successfully found or installed";

__END__

=head1 NAME

AnyDBM_File - provide framework for multiple DBMs

=head1 SYNOPSIS

    use AnyDBM_File;

=head1 DESCRIPTION

This module is a "pure virtual base class"--it has nothing of its own.
It's just there to inherit from one of the various DBM packages.  It
prefers ndbm for compatibility reasons with Perl 4, then Berkeley DB (See
L<DB_File>), GDBM, SDBM (which is always there--it comes with Perl), and
finally ODBM.   This way old programs that used to use NDBM via dbmopen()
can still do so, but new ones can reorder @@ISA:

    BEGIN { @@AnyDBM_File::ISA = qw(DB_File GDBM_File NDBM_File) }
    use AnyDBM_File;

Having multiple DBM implementations makes it trivial to copy database formats:

    use Fcntl; use NDBM_File; use DB_File;
    tie %newhash,  'DB_File', $new_filename, O_CREAT|O_RDWR;
    tie %oldhash,  'NDBM_File', $old_filename, 1, 0;
    %newhash = %oldhash;

=head2 DBM Comparisons

Here's a partial table of features the different packages offer:

                         odbm    ndbm    sdbm    gdbm    bsd-db
			 ----	 ----    ----    ----    ------
 Linkage comes w/ perl   yes     yes     yes     yes     yes
 Src comes w/ perl       no      no      yes     no      no
 Comes w/ many unix os   yes     yes[0]  no      no      no
 Builds ok on !unix      ?       ?       yes     yes     ?
 Code Size               ?       ?       small   big     big
 Database Size           ?       ?       small   big?    ok[1]
 Speed                   ?       ?       slow    ok      fast
 FTPable                 no      no      yes     yes     yes
 Easy to build          N/A     N/A      yes     yes     ok[2]
 Size limits             1k      4k      1k[3]   none    none
 Byte-order independent  no      no      no      no      yes
 Licensing restrictions  ?       ?       no      yes     no


=over 4

=item [0] 

on mixed universe machines, may be in the bsd compat library,
which is often shunned.

=item [1] 

Can be trimmed if you compile for one access method.

=item [2] 

See L<DB_File>. 
Requires symbolic links.  

=item [3] 

By default, but can be redefined.

=back

=head1 SEE ALSO

dbm(3), ndbm(3), DB_File(3), L<perldbmfilter>

=cut
@


1.13
log
@Fix merge issues, remove excess files - match perl-5.24.1 dist
@
text
@a24 2
NDBM_File, DB_File, GDBM_File, SDBM_File, ODBM_File - various DBM implementations

@


1.12
log
@Apply local patches, remove excess files - perl-5.20.2
@
text
@d25 2
@


1.11
log
@Fix merge issues, remove excess files - match perl-5.20.2 dist
@
text
@a24 2
NDBM_File, DB_File, GDBM_File, SDBM_File, ODBM_File - various DBM implementations

@


1.10
log
@Apply local patches to perl-5.20.1

ok deraadt@@ sthen@@ espie@@ miod@@
@
text
@d25 2
@


1.9
log
@Fix merge conflicts, remove extra files, match upstream perl-5.20.1

ok deraadt@@ sthen@@ espie@@ miod@@
@
text
@a24 2
NDBM_File, DB_File, GDBM_File, SDBM_File, ODBM_File - various DBM implementations

@


1.8
log
@merge/resolve conflicts
(some more to do after this one)
@
text
@d25 2
@


1.7
log
@Merge in some local changes that got lost.
@
text
@d2 2
d6 1
a6 1
our $VERSION = '1.00';
d18 2
a19 1
#return 0;
d43 1
a43 1
    use POSIX; use NDBM_File; use DB_File;
@


1.6
log
@Merge in perl 5.10.1
@
text
@a21 2
NDBM_File, DB_File, GDBM_File, SDBM_File, ODBM_File - various DBM implementations

@


1.5
log
@Remove a couple more bogus man pages and add missing MLINKs.  The
makewhatis info for the perl man pages now matches the pages themselves.
@
text
@d22 2
@


1.4
log
@Resolve conflicts, remove old files, merge local changes
@
text
@a21 2
NDBM_File, DB_File, GDBM_File, SDBM_File, ODBM_File - various DBM implementations

@


1.3
log
@perl-5.6.0 + local changes
@
text
@d3 2
a4 1
use 5.005_64;
@


1.2
log
@perl 5.004_04
@
text
@d3 2
a4 2
use vars qw(@@ISA);
@@ISA = qw(NDBM_File DB_File GDBM_File SDBM_File ODBM_File) unless @@ISA;
d90 1
a90 1
dbm(3), ndbm(3), DB_File(3)
@


1.1
log
@Initial revision
@
text
@d3 1
d6 10
a15 5
eval { require NDBM_File } ||
eval { require DB_File } ||
eval { require GDBM_File } ||
eval { require SDBM_File } ||
eval { require ODBM_File };
d21 1
a21 1
NDBM_File, ODBM_File, SDBM_File, GDBM_File - various DBM implementations
d36 2
a37 8
    @@AnyDBM_File::ISA = qw(DB_File GDBM_File NDBM_File);

Note, however, that an explicit use overrides the specified order:

    use GDBM_File;
    @@AnyDBM_File::ISA = qw(DB_File GDBM_File NDBM_File);

will only find GDBM_File.
d42 2
a43 2
    tie %newhash,  DB_File, $new_filename, O_CREAT|O_RDWR;
    tie %oldhash,  NDBM_File, $old_filename, 1, 0;
@


1.1.1.1
log
@Import of Perl 5.003 into the tree.  Makefile.bsd-wrapper and
config.sh.OpenBSD are the only local changes.
@
text
@@


1.1.1.2
log
@perl5.005_03
@
text
@a2 1
use vars qw(@@ISA);
d5 5
a9 10
my $mod;
for $mod (@@ISA) {
    if (eval "require $mod") {
	@@ISA = ($mod);	# if we leave @@ISA alone, warnings abound
	return 1;
    }
}

die "No DBM package was successfully found or installed";
#return 0;
d15 1
a15 1
NDBM_File, DB_File, GDBM_File, SDBM_File, ODBM_File - various DBM implementations
d30 8
a37 2
    BEGIN { @@AnyDBM_File::ISA = qw(DB_File GDBM_File NDBM_File) }
    use AnyDBM_File;
d42 2
a43 2
    tie %newhash,  'DB_File', $new_filename, O_CREAT|O_RDWR;
    tie %oldhash,  'NDBM_File', $old_filename, 1, 0;
@


1.1.1.3
log
@virgin perl 5.6.0
@
text
@d3 2
a4 2
use 5.005_64;
our @@ISA = qw(NDBM_File DB_File GDBM_File SDBM_File ODBM_File) unless @@ISA;
d90 1
a90 1
dbm(3), ndbm(3), DB_File(3), L<perldbmfilter>
@


1.1.1.4
log
@stock perl 5.8.0 from CPAN
@
text
@d3 1
a3 2
use 5.006_001;
our $VERSION = '1.00';
@


1.1.1.5
log
@import perl 5.16.3 from CPAN - worked on by Andrew Fresh and myself
@
text
@a1 2
use warnings;
use strict;
d4 1
a4 1
our $VERSION = '1.01';
d16 1
a16 2

__END__
d42 1
a42 1
    use Fcntl; use NDBM_File; use DB_File;
@


