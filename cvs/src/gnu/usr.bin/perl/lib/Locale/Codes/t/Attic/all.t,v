head	1.2;
access;
symbols
	OPENBSD_4_8:1.1.1.2.0.26
	OPENBSD_4_8_BASE:1.1.1.2
	OPENBSD_4_7:1.1.1.2.0.22
	OPENBSD_4_7_BASE:1.1.1.2
	PERL_5_10_1:1.1.1.2
	OPENBSD_4_6:1.1.1.2.0.24
	OPENBSD_4_6_BASE:1.1.1.2
	OPENBSD_4_5:1.1.1.2.0.20
	OPENBSD_4_5_BASE:1.1.1.2
	PERL_5_10_0:1.1.1.2
	OPENBSD_4_4:1.1.1.2.0.18
	OPENBSD_4_4_BASE:1.1.1.2
	OPENBSD_4_3:1.1.1.2.0.16
	OPENBSD_4_3_BASE:1.1.1.2
	OPENBSD_4_2:1.1.1.2.0.14
	OPENBSD_4_2_BASE:1.1.1.2
	OPENBSD_4_1:1.1.1.2.0.12
	OPENBSD_4_1_BASE:1.1.1.2
	OPENBSD_4_0:1.1.1.2.0.10
	OPENBSD_4_0_BASE:1.1.1.2
	PERL_5_8_8:1.1.1.2
	OPENBSD_3_9:1.1.1.2.0.8
	OPENBSD_3_9_BASE:1.1.1.2
	OPENBSD_3_8:1.1.1.2.0.6
	OPENBSD_3_8_BASE:1.1.1.2
	OPENBSD_3_7:1.1.1.2.0.4
	OPENBSD_3_7_BASE:1.1.1.2
	PERL_5_8_6:1.1.1.2
	OPENBSD_3_6:1.1.1.2.0.2
	OPENBSD_3_6_BASE:1.1.1.2
	PERL_5_8_5:1.1.1.2
	PERL_5_8_3:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.6
	OPENBSD_3_5_BASE:1.1.1.1
	PERL_5_8_2:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.4
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.2
	OPENBSD_3_3_BASE:1.1.1.1
	PERL_5_8_0:1.1.1.1
	CPAN:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.2
date	2010.09.24.14.59.41;	author millert;	state dead;
branches;
next	1.1;

1.1
date	2002.10.27.22.15.00;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.10.27.22.15.00;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2004.08.09.17.47.11;	author millert;	state Exp;
branches;
next	;


desc
@@


1.2
log
@remove files no longer in perl 5.12.2 (or that have moved)
@
text
@#!./perl
#
# all.t - tests for all_* routines in
#	Locale::Country
#	Locale::Language
#	Locale::Currency
#	Locale::Script
#
# There are four tests. We get a list of all codes, convert to
# language/country/currency, # convert back to code,
# and check that they're the same. Then we do the same,
# starting with list of languages/countries/currencies.
#

BEGIN {
        chdir 't' if -d 't';
        @@INC = '../lib';
}

use Locale::Country;
use Locale::Language;
use Locale::Currency;
use Locale::Script;

print "1..20\n";

my $code;
my $language;
my $country;
my $ok;
my $reverse;
my $currency;
my $script;


#-----------------------------------------------------------------------
# Old API - without codeset specified, default to ALPHA_2
#-----------------------------------------------------------------------
$ok = 1;
foreach $code (all_country_codes())
{
    $country = code2country($code);
    if (!defined $country)
    {
        $ok = 0;
        last;
    }
    $reverse = country2code($country);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $code)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 1\n" : "not ok 1\n");

#-----------------------------------------------------------------------
# code to country, back to code, for ALPHA2
#-----------------------------------------------------------------------
$ok = 1;
foreach $code (all_country_codes(LOCALE_CODE_ALPHA_2))
{
    $country = code2country($code, LOCALE_CODE_ALPHA_2);
    if (!defined $country)
    {
        $ok = 0;
        last;
    }
    $reverse = country2code($country, LOCALE_CODE_ALPHA_2);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $code)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 2\n" : "not ok 2\n");

#-----------------------------------------------------------------------
# code to country, back to code, for ALPHA3
#-----------------------------------------------------------------------
$ok = 1;
foreach $code (all_country_codes(LOCALE_CODE_ALPHA_3))
{
    $country = code2country($code, LOCALE_CODE_ALPHA_3);
    if (!defined $country)
    {
        $ok = 0;
        last;
    }
    $reverse = country2code($country, LOCALE_CODE_ALPHA_3);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $code)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 3\n" : "not ok 3\n");

#-----------------------------------------------------------------------
# code to country, back to code, for NUMERIC
#-----------------------------------------------------------------------
$ok = 1;
foreach $code (all_country_codes(LOCALE_CODE_NUMERIC))
{
    $country = code2country($code, LOCALE_CODE_NUMERIC);
    if (!defined $country)
    {
        $ok = 0;
        last;
    }
    $reverse = country2code($country, LOCALE_CODE_NUMERIC);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $code)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 4\n" : "not ok 4\n");


#-----------------------------------------------------------------------
# Old API - country to code, back to country, using default of ALPHA_2
#-----------------------------------------------------------------------
$ok = 1;
foreach $country (all_country_names())
{
    $code = country2code($country);
    if (!defined $code)
    {
        $ok = 0;
        last;
    }
    $reverse = code2country($code);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $country)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 5\n" : "not ok 5\n");

#-----------------------------------------------------------------------
# country to code, back to country, using LOCALE_CODE_ALPHA_2
#-----------------------------------------------------------------------
$ok = 1;
foreach $country (all_country_names())
{
    $code = country2code($country, LOCALE_CODE_ALPHA_2);
    if (!defined $code)
    {
        $ok = 0;
        last;
    }
    $reverse = code2country($code, LOCALE_CODE_ALPHA_2);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $country)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 6\n" : "not ok 6\n");

#-----------------------------------------------------------------------
# country to code, back to country, using LOCALE_CODE_ALPHA_3
#-----------------------------------------------------------------------
$ok = 1;
foreach $country (all_country_names())
{
    $code = country2code($country, LOCALE_CODE_ALPHA_3);
    if (!defined $code)
    {
	next if ($country eq 'Antarctica'
		 || $country eq 'Bouvet Island'
		 || $country eq 'Cocos (Keeling) Islands'
		 || $country eq 'Christmas Island'
		 || $country eq 'France, Metropolitan'
		 || $country eq 'South Georgia and the South Sandwich Islands'
		 || $country eq 'Heard Island and McDonald Islands'
		 || $country eq 'British Indian Ocean Territory'
		 || $country eq 'French Southern Territories'
		 || $country eq 'United States Minor Outlying Islands'
		 || $country eq 'Mayotte'
		 || $country eq 'Zaire');
        $ok = 0;
        last;
    }
    $reverse = code2country($code, LOCALE_CODE_ALPHA_3);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $country)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 7\n" : "not ok 7\n");

#-----------------------------------------------------------------------
# country to code, back to country, using LOCALE_CODE_NUMERIC
#-----------------------------------------------------------------------
$ok = 1;
foreach $country (all_country_names())
{
    $code = country2code($country, LOCALE_CODE_NUMERIC);
    if (!defined $code)
    {
	next if ($country eq 'Antarctica'
		 || $country eq 'Bouvet Island'
		 || $country eq 'Cocos (Keeling) Islands'
		 || $country eq 'Christmas Island'
		 || $country eq 'France, Metropolitan'
		 || $country eq 'South Georgia and the South Sandwich Islands'
		 || $country eq 'Heard Island and McDonald Islands'
		 || $country eq 'British Indian Ocean Territory'
		 || $country eq 'French Southern Territories'
		 || $country eq 'United States Minor Outlying Islands'
		 || $country eq 'Mayotte'
		 || $country eq 'Zaire');
        $ok = 0;
        last;
    }
    $reverse = code2country($code, LOCALE_CODE_NUMERIC);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $country)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 8\n" : "not ok 8\n");


$ok = 1;
foreach $code (all_language_codes())
{
    $language = code2language($code);
    if (!defined $language)
    {
        $ok = 0;
        last;
    }
    $reverse = language2code($language);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $code)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 9\n" : "not ok 9\n");


$ok = 1;
foreach $language (all_language_names())
{
    $code = language2code($language);
    if (!defined $code)
    {
        $ok = 0;
        last;
    }
    $reverse = code2language($code);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $language)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 10\n" : "not ok 10\n");

$ok = 1;
foreach $code (all_currency_codes())
{
    $currency = code2currency($code);
    if (!defined $currency)
    {
        $ok = 0;
        last;
    }
    $reverse = currency2code($currency);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    #
    # three special cases:
    #	The Kwacha has two codes - used in Zambia and Malawi
    #	The Russian Ruble has two codes - rub and rur
    #	The Belarussian Ruble has two codes - byb and byr
    if ($reverse ne $code
	&& $code ne 'mwk' && $code ne 'zmk'
	&& $code ne 'byr' && $code ne 'byb'
	&& $code ne 'rub' && $code ne 'rur')
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 11\n" : "not ok 11\n");

$ok = 1;
foreach $currency (all_currency_names())
{
    $code = currency2code($currency);
    if (!defined $code)
    {
        $ok = 0;
        last;
    }
    $reverse = code2currency($code);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $currency)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 12\n" : "not ok 12\n");

#=======================================================================
#
#	Locale::Script tests
#
#=======================================================================

#-----------------------------------------------------------------------
# Old API - without codeset specified, default to ALPHA_2
#-----------------------------------------------------------------------
$ok = 1;
foreach $code (all_script_codes())
{
    $script = code2script($code);
    if (!defined $script)
    {
        $ok = 0;
        last;
    }
    $reverse = script2code($script);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $code)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 13\n" : "not ok 13\n");

#-----------------------------------------------------------------------
# code to script, back to code, for ALPHA2
#-----------------------------------------------------------------------
$ok = 1;
foreach $code (all_script_codes(LOCALE_CODE_ALPHA_2))
{
    $script = code2script($code, LOCALE_CODE_ALPHA_2);
    if (!defined $script)
    {
        $ok = 0;
        last;
    }
    $reverse = script2code($script, LOCALE_CODE_ALPHA_2);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $code)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 14\n" : "not ok 14\n");

#-----------------------------------------------------------------------
# code to script, back to code, for ALPHA3
#-----------------------------------------------------------------------
$ok = 1;
foreach $code (all_script_codes(LOCALE_CODE_ALPHA_3))
{
    $script = code2script($code, LOCALE_CODE_ALPHA_3);
    if (!defined $script)
    {
        $ok = 0;
        last;
    }
    $reverse = script2code($script, LOCALE_CODE_ALPHA_3);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $code)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 15\n" : "not ok 15\n");

#-----------------------------------------------------------------------
# code to script, back to code, for NUMERIC
#-----------------------------------------------------------------------
$ok = 1;
foreach $code (all_script_codes(LOCALE_CODE_NUMERIC))
{
    $script = code2script($code, LOCALE_CODE_NUMERIC);
    if (!defined $script)
    {
        $ok = 0;
        last;
    }
    $reverse = script2code($script, LOCALE_CODE_NUMERIC);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $code)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 16\n" : "not ok 16\n");


#-----------------------------------------------------------------------
# Old API - script to code, back to script, using default of ALPHA_2
#-----------------------------------------------------------------------
$ok = 1;
foreach $script (all_script_names())
{
    $code = script2code($script);
    if (!defined $code)
    {
        $ok = 0;
        last;
    }
    $reverse = code2script($code);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $script)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 17\n" : "not ok 17\n");

#-----------------------------------------------------------------------
# script to code, back to script, using LOCALE_CODE_ALPHA_2
#-----------------------------------------------------------------------
$ok = 1;
foreach $script (all_script_names())
{
    $code = script2code($script, LOCALE_CODE_ALPHA_2);
    if (!defined $code)
    {
        $ok = 0;
        last;
    }
    $reverse = code2script($code, LOCALE_CODE_ALPHA_2);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $script)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 18\n" : "not ok 18\n");

#-----------------------------------------------------------------------
# script to code, back to script, using LOCALE_CODE_ALPHA_3
#-----------------------------------------------------------------------
$ok = 1;
foreach $script (all_script_names())
{
    $code = script2code($script, LOCALE_CODE_ALPHA_3);
    if (!defined $code)
    {
        $ok = 0;
        last;
    }
    $reverse = code2script($code, LOCALE_CODE_ALPHA_3);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $script)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 19\n" : "not ok 19\n");

#-----------------------------------------------------------------------
# script to code, back to script, using LOCALE_CODE_NUMERIC
#-----------------------------------------------------------------------
$ok = 1;
foreach $script (all_script_names())
{
    $code = script2code($script, LOCALE_CODE_NUMERIC);
    if (!defined $code)
    {
        $ok = 0;
        last;
    }
    $reverse = code2script($code, LOCALE_CODE_NUMERIC);
    if (!defined $reverse)
    {
        $ok = 0;
        last;
    }
    if ($reverse ne $script)
    {
        $ok = 0;
        last;
    }
}
print ($ok ? "ok 20\n" : "not ok 20\n");

@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@stock perl 5.8.0 from CPAN
@
text
@@


1.1.1.2
log
@Import of stock perl 5.8.5
@
text
@d15 5
@

