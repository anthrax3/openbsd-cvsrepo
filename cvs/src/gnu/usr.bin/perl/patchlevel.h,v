head	1.44;
access;
symbols
	PERL_5_24_2:1.1.1.18
	OPENBSD_6_1:1.43.0.4
	OPENBSD_6_1_BASE:1.43
	OPENBSD_6_0:1.42.0.4
	OPENBSD_6_0_BASE:1.42
	OPENBSD_5_9:1.38.0.2
	OPENBSD_5_9_BASE:1.38
	OPENBSD_5_8:1.38.0.4
	OPENBSD_5_8_BASE:1.38
	PERL_5_20_2:1.1.1.17
	OPENBSD_5_7:1.37.0.2
	OPENBSD_5_7_BASE:1.37
	PERL_5_20_1:1.1.1.16
	OPENBSD_5_6:1.32.0.4
	OPENBSD_5_6_BASE:1.32
	PERL_5_18_2:1.1.1.15
	PERL:1.1.1
	OPENBSD_5_5:1.31.0.6
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.31.0.2
	OPENBSD_5_4_BASE:1.31
	PERL_5_16_3:1.1.1.14
	OPENBSD_5_3:1.29.0.2
	OPENBSD_5_3_BASE:1.29
	OPENBSD_5_2:1.27.0.4
	OPENBSD_5_2_BASE:1.27
	OPENBSD_5_1_BASE:1.27
	OPENBSD_5_1:1.27.0.2
	OPENBSD_5_0:1.25.0.2
	OPENBSD_5_0_BASE:1.25
	OPENBSD_4_9:1.22.0.2
	OPENBSD_4_9_BASE:1.22
	PERL_5_12_2:1.1.1.13
	OPENBSD_4_8:1.17.0.4
	OPENBSD_4_8_BASE:1.17
	OPENBSD_4_7:1.17.0.2
	OPENBSD_4_7_BASE:1.17
	PERL_5_10_1:1.1.1.12
	OPENBSD_4_6:1.16.0.6
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.16.0.2
	OPENBSD_4_5_BASE:1.16
	PERL_5_10_0:1.1.1.11
	OPENBSD_4_4:1.15.0.10
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.8
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.15.0.6
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.15.0.4
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.15.0.2
	OPENBSD_4_0_BASE:1.15
	PERL_5_8_8:1.1.1.10
	OPENBSD_3_9:1.14.0.2
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.13.0.4
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.13.0.2
	OPENBSD_3_7_BASE:1.13
	PERL_5_8_6:1.1.1.9
	OPENBSD_3_6:1.11.0.2
	OPENBSD_3_6_BASE:1.11
	PERL_5_8_5:1.1.1.8
	PERL_5_8_3:1.1.1.7
	OPENBSD_3_5:1.9.0.2
	OPENBSD_3_5_BASE:1.9
	PERL_5_8_2:1.1.1.6
	OPENBSD_3_4:1.8.0.4
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.8.0.2
	OPENBSD_3_3_BASE:1.8
	PERL_5_8_0:1.1.1.5
	OPENBSD_3_2:1.7.0.6
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.7.0.4
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.7.0.2
	OPENBSD_3_0_BASE:1.7
	PERL_5_6_1:1.1.1.4
	OPENBSD_2_9:1.6.0.2
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_8:1.5.0.2
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.4.0.2
	OPENBSD_2_7_BASE:1.4
	PERL_5_6_0:1.1.1.3
	OPENBSD_2_6:1.3.0.2
	OPENBSD_2_6_BASE:1.3
	PERL_500503:1.1.1.2
	CPAN:1.1.1
	OPENBSD_2_5:1.2.0.6
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.4
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	perl5003:1.1.1.1
	lwall:1.1.1;
locks; strict;
comment	@ * @;
expand	@o@;


1.44
date	2017.08.14.13.48.45;	author afresh1;	state Exp;
branches;
next	1.43;
commitid	CrMEpTqBUsxCMTjx;

1.43
date	2017.02.05.00.31.53;	author afresh1;	state Exp;
branches;
next	1.42;
commitid	cxJ08BvJA9Pt2PTM;

1.42
date	2016.07.25.10.53.00;	author afresh1;	state Exp;
branches;
next	1.41;
commitid	FHUgABTHZQuYQh2B;

1.41
date	2016.07.08.14.26.04;	author millert;	state Exp;
branches;
next	1.40;
commitid	cdAbreaxuwRqyLap;

1.40
date	2016.07.03.01.07.48;	author afresh1;	state Exp;
branches;
next	1.39;
commitid	GzHqjSTnBjdF7Wcw;

1.39
date	2016.04.22.20.10.59;	author millert;	state Exp;
branches;
next	1.38;
commitid	SWPbNnTyasFgV06F;

1.38
date	2015.04.25.19.14.37;	author afresh1;	state Exp;
branches
	1.38.2.1
	1.38.4.1;
next	1.37;
commitid	XRK22kO4se3v2i2I;

1.37
date	2014.11.17.21.00.55;	author afresh1;	state Exp;
branches;
next	1.36;
commitid	LnErp1MFKSuew5Fr;

1.36
date	2014.11.17.20.56.47;	author afresh1;	state Exp;
branches;
next	1.35;
commitid	QP75iYx42Uo7mMxO;

1.35
date	2014.10.26.22.04.16;	author bluhm;	state Exp;
branches;
next	1.34;
commitid	kVoteutXh2Ohmymx;

1.34
date	2014.09.05.06.53.07;	author jasper;	state Exp;
branches;
next	1.33;
commitid	xuNrf7DlYReDd0jV;

1.33
date	2014.09.01.06.45.47;	author jasper;	state Exp;
branches;
next	1.32;
commitid	PzTjl6bQfJCNjod1;

1.32
date	2014.03.24.15.05.13;	author afresh1;	state Exp;
branches;
next	1.31;

1.31
date	2013.03.25.20.40.44;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2013.03.06.19.21.08;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2013.02.08.16.56.14;	author millert;	state Exp;
branches;
next	1.28;

1.28
date	2012.10.26.18.56.49;	author millert;	state Exp;
branches;
next	1.27;

1.27
date	2011.11.01.13.52.21;	author jasper;	state Exp;
branches
	1.27.4.1;
next	1.26;

1.26
date	2011.10.11.18.13.35;	author rpointel;	state Exp;
branches;
next	1.25;

1.25
date	2011.04.18.21.29.51;	author bluhm;	state Exp;
branches;
next	1.24;

1.24
date	2011.04.18.17.48.24;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2011.04.18.08.27.57;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2011.01.07.12.19.31;	author jasper;	state Exp;
branches
	1.22.2.1;
next	1.21;

1.21
date	2011.01.06.21.23.16;	author millert;	state Exp;
branches;
next	1.20;

1.20
date	2010.12.06.14.34.15;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2010.09.25.13.13.55;	author millert;	state Exp;
branches;
next	1.18;

1.18
date	2010.09.24.15.06.40;	author millert;	state Exp;
branches;
next	1.17;

1.17
date	2009.10.12.18.24.21;	author millert;	state Exp;
branches
	1.17.4.1;
next	1.16;

1.16
date	2008.09.29.17.35.58;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	2006.03.28.19.22.58;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	2006.01.02.23.37.10;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2005.02.02.20.13.33;	author millert;	state Exp;
branches
	1.13.2.1
	1.13.4.1;
next	1.12;

1.12
date	2005.01.15.21.30.20;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2004.08.09.18.08.55;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2004.04.07.21.32.59;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2003.12.03.03.02.21;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2002.10.27.22.25.18;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2001.05.24.18.34.52;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	2001.02.07.17.51.05;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2000.08.08.15.51.09;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2000.04.06.17.04.08;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	99.04.29.22.51.03;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	97.11.30.07.48.54;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	96.08.19.10.11.44;	author downsj;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.08.19.10.11.44;	author downsj;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.04.29.22.37.31;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2000.04.06.16.08.41;	author millert;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2001.05.24.18.22.11;	author millert;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2002.10.27.22.14.48;	author millert;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2003.12.03.02.43.32;	author millert;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2004.04.07.21.12.51;	author millert;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2004.08.09.17.45.42;	author millert;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2005.01.15.21.16.29;	author millert;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	2006.03.28.18.47.33;	author millert;	state Exp;
branches;
next	1.1.1.11;

1.1.1.11
date	2008.09.29.17.18.07;	author millert;	state Exp;
branches;
next	1.1.1.12;

1.1.1.12
date	2009.10.12.18.10.37;	author millert;	state Exp;
branches;
next	1.1.1.13;

1.1.1.13
date	2010.09.24.14.48.34;	author millert;	state Exp;
branches;
next	1.1.1.14;

1.1.1.14
date	2013.03.25.20.06.28;	author sthen;	state Exp;
branches;
next	1.1.1.15;

1.1.1.15
date	2014.03.24.14.58.45;	author afresh1;	state Exp;
branches;
next	1.1.1.16;

1.1.1.16
date	2014.11.17.20.52.37;	author afresh1;	state Exp;
branches;
next	1.1.1.17;
commitid	B31cAbBIXiCqnL97;

1.1.1.17
date	2015.04.25.19.10.10;	author afresh1;	state Exp;
branches;
next	1.1.1.18;
commitid	Wpcs5S8qILgEZC7F;

1.1.1.18
date	2017.08.14.13.45.27;	author afresh1;	state Exp;
branches;
next	;
commitid	fAzrs78vdW2Yfc6A;

1.13.2.1
date	2006.01.03.05.44.49;	author brad;	state Exp;
branches;
next	;

1.13.4.1
date	2006.01.03.04.22.40;	author brad;	state Exp;
branches;
next	;

1.17.4.1
date	2011.04.20.13.58.54;	author bluhm;	state Exp;
branches;
next	;

1.22.2.1
date	2011.04.20.13.53.38;	author bluhm;	state Exp;
branches;
next	;

1.27.4.1
date	2013.03.06.19.23.52;	author jasper;	state Exp;
branches;
next	;

1.38.2.1
date	2016.08.05.01.01.36;	author afresh1;	state Exp;
branches;
next	;
commitid	HjAJx2yjL4A8HWon;

1.38.4.1
date	2016.08.05.01.00.52;	author afresh1;	state Exp;
branches;
next	;
commitid	wK3bUiy9jNch0Key;


desc
@@


1.44
log
@Fix merge issues, remove excess files - match perl-5.24.2 dist

OK bluhm@@, Reads ok sthen@@
@
text
@/*    patchlevel.h
 *
 *    Copyright (C) 1993, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
 *    2003, 2004, 2005, 2006, 2007, 2008, 2009, by Larry Wall and others
 *
 *    You may distribute under the terms of either the GNU General Public
 *    License or the Artistic License, as specified in the README file.
 *
 */

#ifndef __PATCHLEVEL_H_INCLUDED__

/* do not adjust the whitespace! Configure expects the numbers to be
 * exactly on the third column */

#define PERL_REVISION	5		/* age */
#define PERL_VERSION	24		/* epoch */
#define PERL_SUBVERSION	2		/* generation */

/* The following numbers describe the earliest compatible version of
   Perl ("compatibility" here being defined as sufficient binary/API
   compatibility to run XS code built with the older version).
   Normally this should not change across maintenance releases.

   Note that this only refers to an out-of-the-box build.  Many non-default
   options such as usemultiplicity tend to break binary compatibility
   more often.

   This is used by Configure et al to figure out
   PERL_INC_VERSION_LIST, which lists version libraries
   to include in @@INC.  See INSTALL for how this works.

   Porting/bump-perl-version will automatically set these to the version of perl
   to be released for blead releases, and to 5.X.0 for maint releases. Manually
   changing them should not be necessary.
*/
#define PERL_API_REVISION	5
#define PERL_API_VERSION	24
#define PERL_API_SUBVERSION	0
/*
   XXX Note:  The selection of non-default Configure options, such
   as -Duselonglong may invalidate these settings.  Currently, Configure
   does not adequately test for this.   A.D.  Jan 13, 2000
*/

#define __PATCHLEVEL_H_INCLUDED__
#endif

/*
	local_patches -- list of locally applied less-than-subversion patches.
	If you're distributing such a patch, please give it a name and a
	one-line description, placed just before the last NULL in the array
	below.  If your patch fixes a bug in the perlbug database, please
	mention the bugid.  If your patch *IS* dependent on a prior patch,
	please place your applied patch line after its dependencies. This
	will help tracking of patch dependencies.

	Please either use 'diff --unified=0' if your diff supports
	that or edit the hunk of the diff output which adds your patch
	to this list, to remove context lines which would give patch
	problems. For instance, if the original context diff is

	   *** patchlevel.h.orig	<date here>
	   --- patchlevel.h	<date here>
	   *** 38,43 ***
	   --- 38,44 ---
	     	,"FOO1235 - some patch"
	     	,"BAR3141 - another patch"
	     	,"BAZ2718 - and another patch"
	   + 	,"MINE001 - my new patch"
	     	,NULL
	     };

	please change it to
	   *** patchlevel.h.orig	<date here>
	   --- patchlevel.h	<date here>
	   *** 41,43 ***
	   --- 41,44 ---
	   + 	,"MINE001 - my new patch"
	     	,NULL
	     };

	(Note changes to line numbers as well as removal of context lines.)
	This will prevent patch from choking if someone has previously
	applied different patches than you.

        History has shown that nobody distributes patches that also
        modify patchlevel.h. Do it yourself. The following perl
        program can be used to add a comment to patchlevel.h:

#!perl
die "Usage: perl -x patchlevel.h comment ..." unless @@ARGV;
open PLIN, "patchlevel.h" or die "Couldn't open patchlevel.h : $!";
open PLOUT, ">patchlevel.new" or die "Couldn't write on patchlevel.new : $!";
my $seen=0;
while (<PLIN>) {
    if (/\t,NULL/ and $seen) {
       while (my $c = shift @@ARGV){
	    $c =~ s|\\|\\\\|g;
	    $c =~ s|"|\\"|g;
            print PLOUT qq{\t,"$c"\n};
       }
    }
    $seen++ if /local_patches\[\]/;
    print PLOUT;
}
close PLOUT or die "Couldn't close filehandle writing to patchlevel.new : $!";
close PLIN or die "Couldn't close filehandle reading from patchlevel.h : $!";
close DATA; # needed to allow unlink to work win32.
unlink "patchlevel.bak" or warn "Couldn't unlink patchlevel.bak : $!"
  if -e "patchlevel.bak";
rename "patchlevel.h", "patchlevel.bak" or
  die "Couldn't rename patchlevel.h to patchlevel.bak : $!";
rename "patchlevel.new", "patchlevel.h" or
  die "Couldn't rename patchlevel.new to patchlevel.h : $!";
__END__

Please keep empty lines below so that context diffs of this file do
not ever collect the lines belonging to local_patches() into the same
hunk.

 */

#if !defined(PERL_PATCHLEVEL_H_IMPLICIT) && !defined(LOCAL_PATCH_COUNT)
#  if defined(PERL_IS_MINIPERL)
#    define PERL_PATCHNUM "UNKNOWN-miniperl"
#    define PERL_GIT_UNPUSHED_COMMITS /*leave-this-comment*/
#  elif defined(PERL_MICRO)
#    define PERL_PATCHNUM "UNKNOWN-microperl"
#    define PERL_GIT_UNPUSHED_COMMITS /*leave-this-comment*/
#  else
#include "git_version.h"
#  endif
static const char * const local_patches[] = {
	NULL
#ifdef PERL_GIT_UNCOMMITTED_CHANGES
	,"uncommitted-changes"
#endif
	PERL_GIT_UNPUSHED_COMMITS    	/* do not remove this line */
	,NULL
};



/* Initial space prevents this variable from being inserted in config.sh  */
#  define	LOCAL_PATCH_COUNT	\
	((int)(C_ARRAY_LENGTH(local_patches)-2))

/* the old terms of reference, add them only when explicitly included */
#define PATCHLEVEL		PERL_VERSION
#undef  SUBVERSION		/* OS/390 has a SUBVERSION in a system header */
#define SUBVERSION		PERL_SUBVERSION
#endif
@


1.43
log
@Fix merge issues, remove excess files - match perl-5.24.1 dist
@
text
@d18 1
a18 1
#define PERL_SUBVERSION	1		/* generation */
@


1.42
log
@Patch perl CVE-2016-1238

The problem relates to Perl 5 ("perl") loading modules from the
includes directory array ("@@INC") in which the last element is the
current directory (".").  That means that, when "perl" wants to
load a module (during first compilation or during lazy loading of
a module in run-time), perl will look for the module in the current
directory at the end, since '.' is the last include directory in
its array of include directories to seek. The issue is with requiring
libraries that are in "." but are not otherwise installed.

The major problem with this behavior is that it unexpectedly puts
a user at risk whenever they execute any Perl scripts from a directory
that is writable by other accounts on the system. For instance, if
a user is logged in as root and changes directory into /tmp or an
account's home directory, it is possible to now run any shell
commands that are written in C, Python or Ruby without fear.

The same isn't true for any shell commands that are written in Perl,
since a significant proportion of Perl scripts will execute code
in the current working directory whenever they are run. For example,
if a user on a shared system creates the file /tmp/Pod/Perldoc/Toterm.pm,
and then I log in as root, change directory to /tmp, and run "perldoc
perlrun", it will execute the code they have placed in the file.


ok deraadt@@
@
text
@d17 2
a18 2
#define PERL_VERSION	20		/* epoch */
#define PERL_SUBVERSION	3		/* generation */
d38 1
a38 1
#define PERL_API_VERSION	20
a137 3
	,"CVE-2016-6185"
	,"CVE-2015-8853"
	,"CVE-2016-1238"
@


1.41
log
@The XSLoader issue has been assigned CVE-2016-6185
@
text
@d140 1
@


1.40
log
@Update to perl 5.20.3

OK bluhm@@
@
text
@d138 1
@


1.39
log
@Add entry for CVE-2015-8853 patch.
@
text
@d18 1
a18 1
#define PERL_SUBVERSION	2		/* generation */
@


1.38
log
@Fix merge issues, remove excess files - match perl-5.20.2 dist
@
text
@d138 1
@


1.38.2.1
log
@Patch perl CVE-2016-1238

The problem relates to Perl 5 ("perl") loading modules from the
includes directory array ("@@INC") in which the last element is the
current directory (".").  That means that, when "perl" wants to
load a module (during first compilation or during lazy loading of
a module in run-time), perl will look for the module in the current
directory at the end, since '.' is the last include directory in
its array of include directories to seek. The issue is with requiring
libraries that are in "." but are not otherwise installed.

The major problem with this behavior is that it unexpectedly puts
a user at risk whenever they execute any Perl scripts from a directory
that is writable by other accounts on the system. For instance, if
a user is logged in as root and changes directory into /tmp or an
account's home directory, it is possible to now run any shell
commands that are written in C, Python or Ruby without fear.

The same isn't true for any shell commands that are written in Perl,
since a significant proportion of Perl scripts will execute code
in the current working directory whenever they are run. For example,
if a user on a shared system creates the file /tmp/Pod/Perldoc/Toterm.pm,
and then I log in as root, change directory to /tmp, and run "perldoc
perlrun", it will execute the code they have placed in the file.
@
text
@a137 1
	,"CVE-2016-1238"
@


1.38.4.1
log
@Patch perl CVE-2016-1238

The problem relates to Perl 5 ("perl") loading modules from the
includes directory array ("@@INC") in which the last element is the
current directory (".").  That means that, when "perl" wants to
load a module (during first compilation or during lazy loading of
a module in run-time), perl will look for the module in the current
directory at the end, since '.' is the last include directory in
its array of include directories to seek. The issue is with requiring
libraries that are in "." but are not otherwise installed.

The major problem with this behavior is that it unexpectedly puts
a user at risk whenever they execute any Perl scripts from a directory
that is writable by other accounts on the system. For instance, if
a user is logged in as root and changes directory into /tmp or an
account's home directory, it is possible to now run any shell
commands that are written in C, Python or Ruby without fear.

The same isn't true for any shell commands that are written in Perl,
since a significant proportion of Perl scripts will execute code
in the current working directory whenever they are run. For example,
if a user on a shared system creates the file /tmp/Pod/Perldoc/Toterm.pm,
and then I log in as root, change directory to /tmp, and run "perldoc
perlrun", it will execute the code they have placed in the file.
@
text
@a137 1
	,"CVE-2016-1238"
@


1.37
log
@Apply local patches to perl-5.20.1

ok deraadt@@ sthen@@ espie@@ miod@@
@
text
@d18 1
a18 1
#define PERL_SUBVERSION	1		/* generation */
a136 1
	,"CVE-2014-4330"
@


1.36
log
@Fix merge conflicts, remove extra files, match upstream perl-5.20.1

ok deraadt@@ sthen@@ espie@@ miod@@
@
text
@d137 1
@


1.35
log
@Fix a possibly infinite recursion in Perl Data::Dumper.

Derived from Perl git commit http://perl5.git.perl.org/perl.git
19be3be6968e2337bcdfe480693fff795ecd1304
Add a configuration variable/option to limit recursion when dumping
deep data structures.
Defaults the limit to 1000, which can be reduced or increase, or
eliminated by setting it to 0.
This patch addresses CVE-2014-4330.  This bug was found and
reported by: LSE Leading Security Experts GmbH employee Markus
Vervier.

From Maximilian Pascher;  OK schwarze@@ afresh1@@
@
text
@d17 2
a18 2
#define PERL_VERSION	18		/* epoch */
#define PERL_SUBVERSION	2		/* generation */
d38 1
a38 1
#define PERL_API_VERSION	18
a135 2
	,"Update libnet to 1.27"
	,"CVE-2014-4330"
d147 1
a147 1
	((int)(sizeof(local_patches)/sizeof(local_patches[0])-2))
@


1.34
log
@update libnet to 1.27; various bugfixes and improvements:
http://cpansearch.perl.org/src/SHAY/libnet-1.27/Changes

ok millert@@
@
text
@d137 1
@


1.33
log
@apply fix from upstream to remedy RT 37700, which hardens the close() function

ok millert@@
@
text
@d136 1
a136 1
	,"Fix for RT 37700"
@


1.32
log
@Merge perl-5.18.2 plus local patches, remove old files

OK espie@@ sthen@@ deraadt@@
@
text
@d136 1
@


1.31
log
@merge/resolve conflicts
(some more to do after this one)
@
text
@d17 2
a18 2
#define PERL_VERSION	16		/* epoch */
#define PERL_SUBVERSION	3		/* generation */
d38 1
a38 1
#define PERL_API_VERSION	16
@


1.30
log
@Apply patch from RedHat to address CVE-2013-1667, perl: DoS in rehashing code
For more information please refer to: http://code.activestate.com/lists/perl5-porters/191311/

ok millert@@
@
text
@d17 2
a18 2
#define PERL_VERSION	12		/* epoch */
#define PERL_SUBVERSION	2		/* generation */
d29 1
a29 1
   This is used by Configure et al to figure out 
d32 4
d37 3
a39 3
#define PERL_API_REVISION	5	/* Adjust manually as needed.  */
#define PERL_API_VERSION	12	/* Adjust manually as needed.  */
#define PERL_API_SUBVERSION	0	/* Adjust manually as needed.  */
d73 2
a74 2
	
	please change it to 
d82 1
a82 1
	
d99 2
a135 10
	,"CVE-2010-0405"
	,"Updated CGI to 3.51"
	,"Updated Test::Simple to 0.98"
	,"Updated List::Util to 1.23"
	,"CVE-2011-1487"
	,"Updated Digest to 1.17"
	,"CVE-2011-2939"
	,"CVE-2012-5195"
	,"CVE-2012-6329"
	,"CVE-2013-1667"
@


1.29
log
@Fix for CVE-2012-6329; from perl git via Sebastian Trahm
@
text
@d139 1
@


1.28
log
@Fix for CVE-2012-5195; ok miod@@
@
text
@d138 1
@


1.27
log
@Security fix for CVE-2011-2939, Perl decode_xs heap-based buffer overflow.

ok espie@@ millert@@
@
text
@d137 1
@


1.27.4.1
log
@Apply patch from RedHat to address CVE-2013-1667, perl: DoS in rehashing code
For more information please refer to: http://code.activestate.com/lists/perl5-porters/191311/

ok millert@@
@
text
@a136 1
	,"CVE-2013-1667"
@


1.26
log
@Update Digest module to 1.17 (security fix).
Thanks Emeric Boit for reporting me this.
ok millert@@ espie@@
@
text
@d136 1
@


1.25
log
@Perl security fix for CVE-2011-1487:
ucfirst(), uc() and lc() forget to set the tainted flag if input
was marked as tainted.

http://rt.perl.org/rt3/Public/Bug/Display.html?id=87336
http://perl5.git.perl.org/perl.git/commitdiff/539689e74a3bcb04d29e4cd9396de91a81045b99

ok millert@@
@
text
@d135 1
@


1.24
log
@Update Test::Simple to 0.98

ok millert@@
@
text
@d134 1
@


1.23
log
@- update List::Util to 1.23, as needed by newer p5-POE

tested in bulk build.
ok millert@@
@
text
@d132 1
a132 1
	,"Updated Test::Simple to 0.96"
@


1.22
log
@- Update Test::Simple to 0.96

from Abel Abraham Camarillo Ojeda
ok espie@@ millert@@
@
text
@d133 1
@


1.22.2.1
log
@Perl security fix for CVE-2011-1487.
ok sthen@@ jasper@@
@
text
@a132 1
	,"CVE-2011-1487"
@


1.21
log
@Update CGI to 3.51, which includes a better fix for SA42443,
"multipart_init()" HTTP Header Injection Vulnerability.
@
text
@d132 1
@


1.20
log
@- update CGI to 3.50, which includes a fix for SA42443,
"multipart_init()" HTTP Header Injection Vulnerability.
- add a mention in patchlevel.h (reminded by millert@@)

ok millert@@
@
text
@d131 1
a131 1
	,"Updated CGI to 3.50"
@


1.19
log
@Add CVE-2010-0405 to list of local patches.
@
text
@d131 1
@


1.18
log
@merge in perl 5.12.2 plus local changes
@
text
@d130 1
@


1.17
log
@Merge in perl 5.10.1
@
text
@d17 2
a18 2
#define PERL_VERSION	10		/* epoch */
#define PERL_SUBVERSION	1		/* generation */
d34 1
a34 1
#define PERL_API_VERSION	10	/* Adjust manually as needed.  */
a120 1
#    define PERL_GIT_UNCOMMITTED_CHANGES ,"UNKNOWN"
a123 1
#    define PERL_GIT_UNCOMMITTED_CHANGES ,"UNKNOWN"
d130 3
a133 1
        PERL_GIT_UNCOMMITTED_CHANGES	/* do not remove this line */
@


1.17.4.1
log
@Perl security fix for CVE-2011-1487.
ok sthen@@ jasper@@
@
text
@a131 1
	,"CVE-2011-1487"
@


1.16
log
@fix conflicts and merge in local changes to perl 5.10.0
@
text
@d3 2
a4 2
 *    Copyright (C) 1993, 1995, 1996, 1997, 1998, 1999, 2000, 2001,
 *    2002, 2003, 2004, 2005, 2006, 2007, by Larry Wall and others
d18 1
a18 1
#define PERL_SUBVERSION	0		/* generation */
d119 11
d132 2
@


1.15
log
@merge in perl 5.8.8
@
text
@d3 2
a4 2
 *    Copyright (C) 1993, 1995, 1996, 1997, 1998, 1999,
 *    2000, 2001, 2002, 2003, 2004, 2005, 2006, by Larry Wall and others
d17 2
a18 2
#define PERL_VERSION	8		/* epoch */
#define PERL_SUBVERSION	8		/* generation */
d34 1
a34 1
#define PERL_API_VERSION	8	/* Adjust manually as needed.  */
a117 3



d119 1
a119 1
static const char *local_patches[] = {
d128 1
a128 1
	(sizeof(local_patches)/sizeof(local_patches[0])-2)
@


1.14
log
@The official fix for the Perl sprintf buffer overflow.

ok millert@@
@
text
@d4 1
a4 1
 *    2000, 2001, 2002, 2003, 2004, by Larry Wall and others
d18 1
a18 1
#define PERL_SUBVERSION	6		/* generation */
d103 1
d122 1
a122 1
static	char	*local_patches[] = {
a123 2
	,"SUIDPERLIO1 - fix PERLIO_DEBUG buffer overflow (CAN-2005-0156)"
	,"SPRINTF0 - fixes for sprintf formatting issues - CVE-2005-3962"
@


1.13
log
@Limit PERLIO_DEBUG environtment variable to a sane length and just ignore
it if setuid.  Found by Kevin Finisterre, fix from perl developers.
@
text
@d124 1
@


1.13.2.1
log
@MFC:
Fix by brad@@

The official fix for the Perl sprintf buffer overflow.
@
text
@a123 1
	,"SPRINTF0 - fixes for sprintf formatting issues - CVE-2005-3962"
@


1.13.4.1
log
@MFC:
Fix by brad@@

The official fix for the Perl sprintf buffer overflow.
@
text
@a123 1
	,"SPRINTF0 - fixes for sprintf formatting issues - CVE-2005-3962"
@


1.12
log
@sync in-tree perl with 5.8.6
@
text
@d123 1
@


1.11
log
@merge 5.8.5 into HEAD
remove now-unused files
crank libperl shared library major number
update Makefile.bsd-wrapper
tweak openbsd hints file for arm and m68k
@
text
@d18 1
a18 1
#define PERL_SUBVERSION	5		/* generation */
d122 1
a122 1
        NULL
@


1.10
log
@merge local changes into perl-5.8.3
@
text
@d4 1
a4 1
 *    2000, 2001, 2002, 2003, by Larry Wall and others
d18 1
a18 1
#define PERL_SUBVERSION	3		/* generation */
@


1.9
log
@Resolve conflicts for perl 5.8.2, remove old files, and add OpenBSD-specific scaffolding
@
text
@d18 1
a18 1
#define PERL_SUBVERSION	2		/* generation */
@


1.8
log
@Resolve conflicts, remove old files, merge local changes
@
text
@d3 2
a4 1
 *    Copyright (c) 1997-2002, Larry Wall
d18 1
a18 1
#define PERL_SUBVERSION	0		/* generation */
d54 5
a58 3
	Please edit the hunk of diff which adds your patch to this list,
	to remove context lines which would give patch problems.  For instance,
	if the original context diff is
d76 1
d82 33
d116 4
d125 2
@


1.7
log
@merge in perl 5.6.1 with our local changes
@
text
@d1 9
d16 2
a17 2
#define PERL_VERSION	6		/* epoch */
#define PERL_SUBVERSION	1		/* generation */
d33 1
a33 1
#define PERL_API_VERSION	5	/* Adjust manually as needed.  */
d81 1
a81 1
	NULL
@


1.6
log
@Change 6214 by gsar@@auger on 2000/06/08 13:57:54
    @@_ can't have junk in it even in the non-USE_ITHREADS case because
    caller() wants to populate @@DB::args with it (causes a coredump
    in Carp::confess())
@
text
@d8 1
a8 1
#define PERL_SUBVERSION	0		/* generation */
d72 1
a72 3
        NULL
	,"SUIDMAIL - fixes for suidperl security"
	,"CHANGE6214 - fixes a coredump in @@DB::args"
@


1.5
log
@The official perl fix deletes the /bin/mail code entirely.
@
text
@d74 1
@


1.4
log
@perl-5.6.0 + local changes
@
text
@d72 2
a73 1
	NULL
@


1.3
log
@perl5.005_03 (stock)
@
text
@d2 32
a33 3
#define PATCHLEVEL 5
#undef SUBVERSION     /* OS/390 has a SUBVERSION in a system header */
#define SUBVERSION 3
d70 1
d80 4
a83 1
#  define __PATCHLEVEL_H_INCLUDED__
@


1.2
log
@perl 5.004_04
@
text
@d1 4
a4 2
#define PATCHLEVEL 4
#define SUBVERSION 4
d8 1
a8 1
	If you're distributing such a patch, please give it a tag name and a
d22 1
a22 1
			,"MAINT_TRIAL_1 - 5.00x_0x maintenance release trial 1"
a40 1
/* The following line and terminating '};' are read by perlbug.PL. Don't alter. */ 
d49 3
@


1.1
log
@Initial revision
@
text
@d1 2
a2 2
#define PATCHLEVEL 3
#define SUBVERSION 0
d6 1
a6 1
	If you're distributing such a patch, please give it a name and a
d20 1
a20 1
	     	,"FOO1235 - some patch"
d39 1
d45 2
a46 1
#define	LOCAL_PATCH_COUNT	\
@


1.1.1.1
log
@Import of Perl 5.003 into the tree.  Makefile.bsd-wrapper and
config.sh.OpenBSD are the only local changes.
@
text
@@


1.1.1.2
log
@perl5.005_03
@
text
@d1 2
a2 4
#ifndef __PATCHLEVEL_H_INCLUDED__
#define PATCHLEVEL 5
#undef SUBVERSION     /* OS/390 has a SUBVERSION in a system header */
#define SUBVERSION 3
d44 1
a44 2
/* Initial space prevents this variable from being inserted in config.sh  */
#  define	LOCAL_PATCH_COUNT	\
a45 3

#  define __PATCHLEVEL_H_INCLUDED__
#endif
@


1.1.1.3
log
@virgin perl 5.6.0
@
text
@d2 3
a4 32

/* do not adjust the whitespace! Configure expects the numbers to be
 * exactly on the third column */

#define PERL_REVISION	5		/* age */
#define PERL_VERSION	6		/* epoch */
#define PERL_SUBVERSION	0		/* generation */

/* The following numbers describe the earliest compatible version of
   Perl ("compatibility" here being defined as sufficient binary/API
   compatibility to run XS code built with the older version).
   Normally this should not change across maintenance releases.

   Note that this only refers to an out-of-the-box build.  Many non-default
   options such as usemultiplicity tend to break binary compatibility
   more often.

   This is used by Configure et al to figure out 
   PERL_INC_VERSION_LIST, which lists version libraries
   to include in @@INC.  See INSTALL for how this works.
*/
#define PERL_API_REVISION	5	/* Adjust manually as needed.  */
#define PERL_API_VERSION	5	/* Adjust manually as needed.  */
#define PERL_API_SUBVERSION	0	/* Adjust manually as needed.  */
/*
   XXX Note:  The selection of non-default Configure options, such
   as -Duselonglong may invalidate these settings.  Currently, Configure
   does not adequately test for this.   A.D.  Jan 13, 2000
*/

#define __PATCHLEVEL_H_INCLUDED__
#endif
a40 1
#if !defined(PERL_PATCHLEVEL_H_IMPLICIT) && !defined(LOCAL_PATCH_COUNT)
d50 1
a50 4
/* the old terms of reference, add them only when explicitly included */
#define PATCHLEVEL		PERL_VERSION
#undef  SUBVERSION		/* OS/390 has a SUBVERSION in a system header */
#define SUBVERSION		PERL_SUBVERSION
@


1.1.1.4
log
@stock perl 5.6.1
@
text
@d8 1
a8 1
#define PERL_SUBVERSION	1		/* generation */
@


1.1.1.5
log
@stock perl 5.8.0 from CPAN
@
text
@a0 9
/*    patchlevel.h
 *
 *    Copyright (c) 1997-2002, Larry Wall
 *
 *    You may distribute under the terms of either the GNU General Public
 *    License or the Artistic License, as specified in the README file.
 *
 */

d7 2
a8 2
#define PERL_VERSION	8		/* epoch */
#define PERL_SUBVERSION	0		/* generation */
d24 1
a24 1
#define PERL_API_VERSION	8	/* Adjust manually as needed.  */
d72 1
a72 1
        NULL
@


1.1.1.6
log
@perl 5.8.2 from CPAN
@
text
@d3 1
a3 2
 *    Copyright (C) 1993, 1995, 1996, 1997, 1998, 1999,
 *    2000, 2001, 2002, 2003, by Larry Wall and others
d17 1
a17 1
#define PERL_SUBVERSION	2		/* generation */
d53 3
a55 5
	Please either use 'diff --unified=0' if your diff supports
	that or edit the hunk of the diff output which adds your patch
	to this list, to remove context lines which would give patch
	problems. For instance, if the original context diff is

a72 1
	     	,NULL
a77 33

        History has shown that nobody distributes patches that also
        modify patchlevel.h. Do it yourself. The following perl
        program can be used to add a comment to patchlevel.h:

#!perl
die "Usage: perl -x patchlevel.h comment ..." unless @@ARGV;
open PLIN, "patchlevel.h" or die "Couldn't open patchlevel.h : $!";
open PLOUT, ">patchlevel.new" or die "Couldn't write on patchlevel.new : $!";
my $seen=0;
while (<PLIN>) {
    if (/\t,NULL/ and $seen) {
       while (my $c = shift @@ARGV){
            print PLOUT qq{\t,"$c"\n};
       }
    }
    $seen++ if /local_patches\[\]/;
    print PLOUT;
}
close PLOUT or die "Couldn't close filehandle writing to patchlevel.new : $!";
close PLIN or die "Couldn't close filehandle reading from patchlevel.h : $!";
unlink "patchlevel.bak" or warn "Couldn't unlink patchlevel.bak : $!"
  if -e "patchlevel.bak";
rename "patchlevel.h", "patchlevel.bak" or
  die "Couldn't rename patchlevel.h to patchlevel.bak : $!";
rename "patchlevel.new", "patchlevel.h" or
  die "Couldn't rename patchlevel.new to patchlevel.h : $!";
__END__

Please keep empty lines below so that context diffs of this file do
not ever collect the lines belonging to local_patches() into the same
hunk.

a78 4




a83 2


@


1.1.1.7
log
@perl 5.8.3 from CPAN
@
text
@d18 1
a18 1
#define PERL_SUBVERSION	3		/* generation */
@


1.1.1.8
log
@Import of stock perl 5.8.5
@
text
@d4 1
a4 1
 *    2000, 2001, 2002, 2003, 2004, by Larry Wall and others
d18 1
a18 1
#define PERL_SUBVERSION	5		/* generation */
@


1.1.1.9
log
@perl 5.8.6 from CPAN
@
text
@d18 1
a18 1
#define PERL_SUBVERSION	6		/* generation */
d122 1
a122 1
	NULL
@


1.1.1.10
log
@perl 5.8.8 import
@
text
@d4 1
a4 1
 *    2000, 2001, 2002, 2003, 2004, 2005, 2006, by Larry Wall and others
d18 1
a18 1
#define PERL_SUBVERSION	8		/* generation */
a102 1
close DATA; # needed to allow unlink to work win32.
d121 1
a121 1
static const char *local_patches[] = {
@


1.1.1.11
log
@import perl 5.10.0 from CPAN
@
text
@d3 2
a4 2
 *    Copyright (C) 1993, 1995, 1996, 1997, 1998, 1999, 2000, 2001,
 *    2002, 2003, 2004, 2005, 2006, 2007, by Larry Wall and others
d17 2
a18 2
#define PERL_VERSION	10		/* epoch */
#define PERL_SUBVERSION	0		/* generation */
d34 1
a34 1
#define PERL_API_VERSION	10	/* Adjust manually as needed.  */
d118 3
d122 1
a122 1
static const char * const local_patches[] = {
d131 1
a131 1
	((int)(sizeof(local_patches)/sizeof(local_patches[0])-2))
@


1.1.1.12
log
@import perl 5.10.1
@
text
@d3 2
a4 2
 *    Copyright (C) 1993, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
 *    2003, 2004, 2005, 2006, 2007, 2008, 2009, by Larry Wall and others
d18 1
a18 1
#define PERL_SUBVERSION	1		/* generation */
a118 11
#  if defined(PERL_IS_MINIPERL)
#    define PERL_PATCHNUM "UNKNOWN-miniperl"
#    define PERL_GIT_UNCOMMITTED_CHANGES ,"UNKNOWN"
#    define PERL_GIT_UNPUSHED_COMMITS /*leave-this-comment*/
#  elif defined(PERL_MICRO)
#    define PERL_PATCHNUM "UNKNOWN-microperl"
#    define PERL_GIT_UNCOMMITTED_CHANGES ,"UNKNOWN"
#    define PERL_GIT_UNPUSHED_COMMITS /*leave-this-comment*/
#  else
#include "git_version.h"
#  endif
a120 2
	PERL_GIT_UNPUSHED_COMMITS    	/* do not remove this line */
        PERL_GIT_UNCOMMITTED_CHANGES	/* do not remove this line */
@


1.1.1.13
log
@Perl 5.12.2 from CPAN
@
text
@d17 2
a18 2
#define PERL_VERSION	12		/* epoch */
#define PERL_SUBVERSION	2		/* generation */
d34 1
a34 1
#define PERL_API_VERSION	12	/* Adjust manually as needed.  */
d121 1
d125 1
a131 3
#ifdef PERL_GIT_UNCOMMITTED_CHANGES
	,"uncommitted-changes"
#endif
d133 1
@


1.1.1.14
log
@import perl 5.16.3 from CPAN - worked on by Andrew Fresh and myself
@
text
@d17 2
a18 2
#define PERL_VERSION	16		/* epoch */
#define PERL_SUBVERSION	3		/* generation */
d29 1
a29 1
   This is used by Configure et al to figure out
a31 4

   Porting/bump-perl-version will automatically set these to the version of perl
   to be released for blead releases, and to 5.X.0 for maint releases. Manually
   changing them should not be necessary.
d33 3
a35 3
#define PERL_API_REVISION	5
#define PERL_API_VERSION	16
#define PERL_API_SUBVERSION	0
d69 2
a70 2

	please change it to
d78 1
a78 1

a94 2
	    $c =~ s|\\|\\\\|g;
	    $c =~ s|"|\\"|g;
@


1.1.1.15
log
@Import perl-5.18.2

OK espie@@ sthen@@ deraadt@@
@
text
@d17 2
a18 2
#define PERL_VERSION	18		/* epoch */
#define PERL_SUBVERSION	2		/* generation */
d38 1
a38 1
#define PERL_API_VERSION	18
@


1.1.1.16
log
@Import perl-5.20.1
@
text
@d17 2
a18 2
#define PERL_VERSION	20		/* epoch */
#define PERL_SUBVERSION	1		/* generation */
d38 1
a38 1
#define PERL_API_VERSION	20
d147 1
a147 1
	((int)(C_ARRAY_LENGTH(local_patches)-2))
@


1.1.1.17
log
@Import perl-5.20.2
@
text
@d18 1
a18 1
#define PERL_SUBVERSION	2		/* generation */
@


1.1.1.18
log
@Import perl-5.24.2
@
text
@d17 1
a17 1
#define PERL_VERSION	24		/* epoch */
d38 1
a38 1
#define PERL_API_VERSION	24
@


