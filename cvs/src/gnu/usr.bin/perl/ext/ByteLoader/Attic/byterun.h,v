head	1.2;
access;
symbols
	OPENBSD_4_4:1.1.1.5.0.10
	OPENBSD_4_4_BASE:1.1.1.5
	OPENBSD_4_3:1.1.1.5.0.8
	OPENBSD_4_3_BASE:1.1.1.5
	OPENBSD_4_2:1.1.1.5.0.6
	OPENBSD_4_2_BASE:1.1.1.5
	OPENBSD_4_1:1.1.1.5.0.4
	OPENBSD_4_1_BASE:1.1.1.5
	OPENBSD_4_0:1.1.1.5.0.2
	OPENBSD_4_0_BASE:1.1.1.5
	PERL_5_8_8:1.1.1.5
	OPENBSD_3_9:1.1.1.4.0.10
	OPENBSD_3_9_BASE:1.1.1.4
	OPENBSD_3_8:1.1.1.4.0.8
	OPENBSD_3_8_BASE:1.1.1.4
	OPENBSD_3_7:1.1.1.4.0.6
	OPENBSD_3_7_BASE:1.1.1.4
	PERL_5_8_6:1.1.1.4
	OPENBSD_3_6:1.1.1.4.0.4
	OPENBSD_3_6_BASE:1.1.1.4
	PERL_5_8_5:1.1.1.4
	PERL_5_8_3:1.1.1.4
	OPENBSD_3_5:1.1.1.4.0.2
	OPENBSD_3_5_BASE:1.1.1.4
	PERL_5_8_2:1.1.1.4
	OPENBSD_3_4:1.1.1.3.0.4
	OPENBSD_3_4_BASE:1.1.1.3
	OPENBSD_3_3:1.1.1.3.0.2
	OPENBSD_3_3_BASE:1.1.1.3
	PERL_5_8_0:1.1.1.3
	OPENBSD_3_2:1.1.1.2.0.6
	OPENBSD_3_2_BASE:1.1.1.2
	OPENBSD_3_1:1.1.1.2.0.4
	OPENBSD_3_1_BASE:1.1.1.2
	OPENBSD_3_0:1.1.1.2.0.2
	OPENBSD_3_0_BASE:1.1.1.2
	PERL_5_6_1:1.1.1.2
	OPENBSD_2_9:1.1.1.1.0.6
	OPENBSD_2_9_BASE:1.1.1.1
	OPENBSD_2_8:1.1.1.1.0.4
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.2
	OPENBSD_2_7_BASE:1.1.1.1
	PERL_5_6_0:1.1.1.1
	CPAN:1.1.1;
locks; strict;
comment	@ * @;


1.2
date	2008.09.29.17.36.02;	author millert;	state dead;
branches;
next	1.1;

1.1
date	2000.04.06.16.09.04;	author millert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.06.16.09.04;	author millert;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.05.24.18.22.41;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2002.10.27.22.14.53;	author millert;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.12.03.02.43.41;	author millert;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2006.03.28.18.47.55;	author millert;	state Exp;
branches;
next	;


desc
@@


1.2
log
@fix conflicts and merge in local changes to perl 5.10.0
@
text
@/*
 *      Copyright (c) 1996-1999 Malcolm Beattie
 *
 *      You may distribute under the terms of either the GNU General Public
 *      License or the Artistic License, as specified in the README file.
 *
 */
/*
 * This file is autogenerated from bytecode.pl. Changes made here will be lost.
 */
struct bytestream {
    void *data;
    int (*pfgetc)(void *);
    int (*pfread)(char *, size_t, size_t, void *);
    void (*pfreadpv)(U32, void *, XPV *);
};

enum {
    INSN_RET,			/* 0 */
    INSN_LDSV,			/* 1 */
    INSN_LDOP,			/* 2 */
    INSN_STSV,			/* 3 */
    INSN_STOP,			/* 4 */
    INSN_LDSPECSV,			/* 5 */
    INSN_NEWSV,			/* 6 */
    INSN_NEWOP,			/* 7 */
    INSN_NEWOPN,			/* 8 */
    INSN_NEWPV,			/* 9 */
    INSN_NOP,			/* 10 */
    INSN_PV_CUR,			/* 11 */
    INSN_PV_FREE,			/* 12 */
    INSN_SV_UPGRADE,			/* 13 */
    INSN_SV_REFCNT,			/* 14 */
    INSN_SV_REFCNT_ADD,			/* 15 */
    INSN_SV_FLAGS,			/* 16 */
    INSN_XRV,			/* 17 */
    INSN_XPV,			/* 18 */
    INSN_XIV32,			/* 19 */
    INSN_XIV64,			/* 20 */
    INSN_XNV,			/* 21 */
    INSN_XLV_TARGOFF,			/* 22 */
    INSN_XLV_TARGLEN,			/* 23 */
    INSN_XLV_TARG,			/* 24 */
    INSN_XLV_TYPE,			/* 25 */
    INSN_XBM_USEFUL,			/* 26 */
    INSN_XBM_PREVIOUS,			/* 27 */
    INSN_XBM_RARE,			/* 28 */
    INSN_XFM_LINES,			/* 29 */
    INSN_XIO_LINES,			/* 30 */
    INSN_XIO_PAGE,			/* 31 */
    INSN_XIO_PAGE_LEN,			/* 32 */
    INSN_XIO_LINES_LEFT,			/* 33 */
    INSN_XIO_TOP_NAME,			/* 34 */
    INSN_COMMENT,			/* 35 */
    INSN_XIO_TOP_GV,			/* 36 */
    INSN_XIO_FMT_NAME,			/* 37 */
    INSN_XIO_FMT_GV,			/* 38 */
    INSN_XIO_BOTTOM_NAME,			/* 39 */
    INSN_XIO_BOTTOM_GV,			/* 40 */
    INSN_XIO_SUBPROCESS,			/* 41 */
    INSN_XIO_TYPE,			/* 42 */
    INSN_XIO_FLAGS,			/* 43 */
    INSN_XCV_STASH,			/* 44 */
    INSN_XCV_START,			/* 45 */
    INSN_XCV_ROOT,			/* 46 */
    INSN_XCV_GV,			/* 47 */
    INSN_XCV_FILE,			/* 48 */
    INSN_XCV_DEPTH,			/* 49 */
    INSN_XCV_PADLIST,			/* 50 */
    INSN_XCV_OUTSIDE,			/* 51 */
    INSN_XCV_FLAGS,			/* 52 */
    INSN_AV_EXTEND,			/* 53 */
    INSN_AV_PUSH,			/* 54 */
    INSN_XAV_FILL,			/* 55 */
    INSN_XAV_MAX,			/* 56 */
    INSN_XAV_FLAGS,			/* 57 */
    INSN_XHV_RITER,			/* 58 */
    INSN_XHV_NAME,			/* 59 */
    INSN_HV_STORE,			/* 60 */
    INSN_SV_MAGIC,			/* 61 */
    INSN_MG_OBJ,			/* 62 */
    INSN_MG_PRIVATE,			/* 63 */
    INSN_MG_FLAGS,			/* 64 */
    INSN_MG_PV,			/* 65 */
    INSN_XMG_STASH,			/* 66 */
    INSN_GV_FETCHPV,			/* 67 */
    INSN_GV_STASHPV,			/* 68 */
    INSN_GP_SV,			/* 69 */
    INSN_GP_REFCNT,			/* 70 */
    INSN_GP_REFCNT_ADD,			/* 71 */
    INSN_GP_AV,			/* 72 */
    INSN_GP_HV,			/* 73 */
    INSN_GP_CV,			/* 74 */
    INSN_GP_FILE,			/* 75 */
    INSN_GP_IO,			/* 76 */
    INSN_GP_FORM,			/* 77 */
    INSN_GP_CVGEN,			/* 78 */
    INSN_GP_LINE,			/* 79 */
    INSN_GP_SHARE,			/* 80 */
    INSN_XGV_FLAGS,			/* 81 */
    INSN_OP_NEXT,			/* 82 */
    INSN_OP_SIBLING,			/* 83 */
    INSN_OP_PPADDR,			/* 84 */
    INSN_OP_TARG,			/* 85 */
    INSN_OP_TYPE,			/* 86 */
    INSN_OP_SEQ,			/* 87 */
    INSN_OP_FLAGS,			/* 88 */
    INSN_OP_PRIVATE,			/* 89 */
    INSN_OP_FIRST,			/* 90 */
    INSN_OP_LAST,			/* 91 */
    INSN_OP_OTHER,			/* 92 */
    INSN_OP_CHILDREN,			/* 93 */
    INSN_OP_PMREPLROOT,			/* 94 */
    INSN_OP_PMREPLROOTGV,			/* 95 */
    INSN_OP_PMREPLSTART,			/* 96 */
    INSN_OP_PMNEXT,			/* 97 */
    INSN_PREGCOMP,			/* 98 */
    INSN_OP_PMFLAGS,			/* 99 */
    INSN_OP_PMPERMFLAGS,			/* 100 */
    INSN_OP_SV,			/* 101 */
    INSN_OP_PADIX,			/* 102 */
    INSN_OP_PV,			/* 103 */
    INSN_OP_PV_TR,			/* 104 */
    INSN_OP_REDOOP,			/* 105 */
    INSN_OP_NEXTOP,			/* 106 */
    INSN_OP_LASTOP,			/* 107 */
    INSN_COP_LABEL,			/* 108 */
    INSN_COP_STASHPV,			/* 109 */
    INSN_COP_FILE,			/* 110 */
    INSN_COP_SEQ,			/* 111 */
    INSN_COP_ARYBASE,			/* 112 */
    INSN_COP_LINE,			/* 113 */
    INSN_COP_WARNINGS,			/* 114 */
    INSN_MAIN_START,			/* 115 */
    INSN_MAIN_ROOT,			/* 116 */
    INSN_CURPAD,			/* 117 */
    MAX_INSN = 117
};

enum {
    OPt_OP,		/* 0 */
    OPt_UNOP,		/* 1 */
    OPt_BINOP,		/* 2 */
    OPt_LOGOP,		/* 3 */
    OPt_LISTOP,		/* 4 */
    OPt_PMOP,		/* 5 */
    OPt_SVOP,		/* 6 */
    OPt_PADOP,		/* 7 */
    OPt_PVOP,		/* 8 */
    OPt_LOOP,		/* 9 */
    OPt_COP		/* 10 */
};

extern void byterun(pTHXo_ struct bytestream bs);

#define INIT_SPECIALSV_LIST STMT_START { \
	PL_specialsv_list[0] = Nullsv; \
	PL_specialsv_list[1] = &PL_sv_undef; \
	PL_specialsv_list[2] = &PL_sv_yes; \
	PL_specialsv_list[3] = &PL_sv_no; \
    } STMT_END
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@virgin perl 5.6.0
@
text
@@


1.1.1.2
log
@stock perl 5.6.1
@
text
@d11 5
a15 4
struct byteloader_fdata {
    SV	*datasv;
    int next_out;
    int	idx;
a17 13
struct byteloader_state {
    struct byteloader_fdata	*bs_fdata;
    SV				*bs_sv;
    void			**bs_obj_list;
    int				bs_obj_list_fill;
    XPV				bs_pv;
    int				bs_iv_overflows;
};

int bl_getc(struct byteloader_fdata *);
int bl_read(struct byteloader_fdata *, char *, size_t, size_t);
extern void byterun(pTHXo_ struct byteloader_state *);

d24 5
a28 5
    INSN_STPV,			/* 5 */
    INSN_LDSPECSV,			/* 6 */
    INSN_NEWSV,			/* 7 */
    INSN_NEWOP,			/* 8 */
    INSN_NEWOPN,			/* 9 */
d30 24
a53 24
    INSN_NEWPV,			/* 11 */
    INSN_PV_CUR,			/* 12 */
    INSN_PV_FREE,			/* 13 */
    INSN_SV_UPGRADE,			/* 14 */
    INSN_SV_REFCNT,			/* 15 */
    INSN_SV_REFCNT_ADD,			/* 16 */
    INSN_SV_FLAGS,			/* 17 */
    INSN_XRV,			/* 18 */
    INSN_XPV,			/* 19 */
    INSN_XIV32,			/* 20 */
    INSN_XIV64,			/* 21 */
    INSN_XNV,			/* 22 */
    INSN_XLV_TARGOFF,			/* 23 */
    INSN_XLV_TARGLEN,			/* 24 */
    INSN_XLV_TARG,			/* 25 */
    INSN_XLV_TYPE,			/* 26 */
    INSN_XBM_USEFUL,			/* 27 */
    INSN_XBM_PREVIOUS,			/* 28 */
    INSN_XBM_RARE,			/* 29 */
    INSN_XFM_LINES,			/* 30 */
    INSN_XIO_LINES,			/* 31 */
    INSN_XIO_PAGE,			/* 32 */
    INSN_XIO_PAGE_LEN,			/* 33 */
    INSN_XIO_LINES_LEFT,			/* 34 */
d55 58
a112 58
    INSN_XIO_TOP_NAME,			/* 36 */
    INSN_XIO_TOP_GV,			/* 37 */
    INSN_XIO_FMT_NAME,			/* 38 */
    INSN_XIO_FMT_GV,			/* 39 */
    INSN_XIO_BOTTOM_NAME,			/* 40 */
    INSN_XIO_BOTTOM_GV,			/* 41 */
    INSN_XIO_SUBPROCESS,			/* 42 */
    INSN_XIO_TYPE,			/* 43 */
    INSN_XIO_FLAGS,			/* 44 */
    INSN_XCV_STASH,			/* 45 */
    INSN_XCV_START,			/* 46 */
    INSN_XCV_ROOT,			/* 47 */
    INSN_XCV_GV,			/* 48 */
    INSN_XCV_FILE,			/* 49 */
    INSN_XCV_DEPTH,			/* 50 */
    INSN_XCV_PADLIST,			/* 51 */
    INSN_XCV_OUTSIDE,			/* 52 */
    INSN_XCV_FLAGS,			/* 53 */
    INSN_AV_EXTEND,			/* 54 */
    INSN_AV_PUSH,			/* 55 */
    INSN_XAV_FILL,			/* 56 */
    INSN_XAV_MAX,			/* 57 */
    INSN_XAV_FLAGS,			/* 58 */
    INSN_XHV_RITER,			/* 59 */
    INSN_XHV_NAME,			/* 60 */
    INSN_HV_STORE,			/* 61 */
    INSN_SV_MAGIC,			/* 62 */
    INSN_MG_OBJ,			/* 63 */
    INSN_MG_PRIVATE,			/* 64 */
    INSN_MG_FLAGS,			/* 65 */
    INSN_MG_PV,			/* 66 */
    INSN_XMG_STASH,			/* 67 */
    INSN_GV_FETCHPV,			/* 68 */
    INSN_GV_STASHPV,			/* 69 */
    INSN_GP_SV,			/* 70 */
    INSN_GP_REFCNT,			/* 71 */
    INSN_GP_REFCNT_ADD,			/* 72 */
    INSN_GP_AV,			/* 73 */
    INSN_GP_HV,			/* 74 */
    INSN_GP_CV,			/* 75 */
    INSN_GP_FILE,			/* 76 */
    INSN_GP_IO,			/* 77 */
    INSN_GP_FORM,			/* 78 */
    INSN_GP_CVGEN,			/* 79 */
    INSN_GP_LINE,			/* 80 */
    INSN_GP_SHARE,			/* 81 */
    INSN_XGV_FLAGS,			/* 82 */
    INSN_OP_NEXT,			/* 83 */
    INSN_OP_SIBLING,			/* 84 */
    INSN_OP_PPADDR,			/* 85 */
    INSN_OP_TARG,			/* 86 */
    INSN_OP_TYPE,			/* 87 */
    INSN_OP_SEQ,			/* 88 */
    INSN_OP_FLAGS,			/* 89 */
    INSN_OP_PRIVATE,			/* 90 */
    INSN_OP_FIRST,			/* 91 */
    INSN_OP_LAST,			/* 92 */
    INSN_OP_OTHER,			/* 93 */
d137 1
a137 4
    INSN_PUSH_BEGIN,			/* 118 */
    INSN_PUSH_INIT,			/* 119 */
    INSN_PUSH_END,			/* 120 */
    MAX_INSN = 120
d154 8
@


1.1.1.3
log
@stock perl 5.8.0 from CPAN
@
text
@d28 1
a28 1
extern void byterun(pTHX_ struct byteloader_state *);
@


1.1.1.4
log
@perl 5.8.2 from CPAN
@
text
@a21 1
    int				bs_ix;
d28 1
a28 1
extern int byterun(pTHX_ struct byteloader_state *);
d38 3
a40 3
    INSN_LDSPECSVX,			/* 7 */
    INSN_NEWSV,			/* 8 */
    INSN_NEWSVX,			/* 9 */
d42 24
a65 24
    INSN_NEWOP,			/* 11 */
    INSN_NEWOPX,			/* 12 */
    INSN_NEWOPN,			/* 13 */
    INSN_NEWPV,			/* 14 */
    INSN_PV_CUR,			/* 15 */
    INSN_PV_FREE,			/* 16 */
    INSN_SV_UPGRADE,			/* 17 */
    INSN_SV_REFCNT,			/* 18 */
    INSN_SV_REFCNT_ADD,			/* 19 */
    INSN_SV_FLAGS,			/* 20 */
    INSN_XRV,			/* 21 */
    INSN_XPV,			/* 22 */
    INSN_XPV_CUR,			/* 23 */
    INSN_XPV_LEN,			/* 24 */
    INSN_XIV,			/* 25 */
    INSN_XNV,			/* 26 */
    INSN_XLV_TARGOFF,			/* 27 */
    INSN_XLV_TARGLEN,			/* 28 */
    INSN_XLV_TARG,			/* 29 */
    INSN_XLV_TYPE,			/* 30 */
    INSN_XBM_USEFUL,			/* 31 */
    INSN_XBM_PREVIOUS,			/* 32 */
    INSN_XBM_RARE,			/* 33 */
    INSN_XFM_LINES,			/* 34 */
d67 86
a152 116
    INSN_XIO_LINES,			/* 36 */
    INSN_XIO_PAGE,			/* 37 */
    INSN_XIO_PAGE_LEN,			/* 38 */
    INSN_XIO_LINES_LEFT,			/* 39 */
    INSN_XIO_TOP_NAME,			/* 40 */
    INSN_XIO_TOP_GV,			/* 41 */
    INSN_XIO_FMT_NAME,			/* 42 */
    INSN_XIO_FMT_GV,			/* 43 */
    INSN_XIO_BOTTOM_NAME,			/* 44 */
    INSN_XIO_BOTTOM_GV,			/* 45 */
    INSN_XIO_SUBPROCESS,			/* 46 */
    INSN_XIO_TYPE,			/* 47 */
    INSN_XIO_FLAGS,			/* 48 */
    INSN_XCV_XSUBANY,			/* 49 */
    INSN_XCV_STASH,			/* 50 */
    INSN_XCV_START,			/* 51 */
    INSN_XCV_ROOT,			/* 52 */
    INSN_XCV_GV,			/* 53 */
    INSN_XCV_FILE,			/* 54 */
    INSN_XCV_DEPTH,			/* 55 */
    INSN_XCV_PADLIST,			/* 56 */
    INSN_XCV_OUTSIDE,			/* 57 */
    INSN_XCV_OUTSIDE_SEQ,			/* 58 */
    INSN_XCV_FLAGS,			/* 59 */
    INSN_AV_EXTEND,			/* 60 */
    INSN_AV_PUSHX,			/* 61 */
    INSN_AV_PUSH,			/* 62 */
    INSN_XAV_FILL,			/* 63 */
    INSN_XAV_MAX,			/* 64 */
    INSN_XAV_FLAGS,			/* 65 */
    INSN_XHV_RITER,			/* 66 */
    INSN_XHV_NAME,			/* 67 */
    INSN_XHV_PMROOT,			/* 68 */
    INSN_HV_STORE,			/* 69 */
    INSN_SV_MAGIC,			/* 70 */
    INSN_MG_OBJ,			/* 71 */
    INSN_MG_PRIVATE,			/* 72 */
    INSN_MG_FLAGS,			/* 73 */
    INSN_MG_NAME,			/* 74 */
    INSN_MG_NAMEX,			/* 75 */
    INSN_XMG_STASH,			/* 76 */
    INSN_GV_FETCHPV,			/* 77 */
    INSN_GV_FETCHPVX,			/* 78 */
    INSN_GV_STASHPV,			/* 79 */
    INSN_GV_STASHPVX,			/* 80 */
    INSN_GP_SV,			/* 81 */
    INSN_GP_REFCNT,			/* 82 */
    INSN_GP_REFCNT_ADD,			/* 83 */
    INSN_GP_AV,			/* 84 */
    INSN_GP_HV,			/* 85 */
    INSN_GP_CV,			/* 86 */
    INSN_GP_FILE,			/* 87 */
    INSN_GP_IO,			/* 88 */
    INSN_GP_FORM,			/* 89 */
    INSN_GP_CVGEN,			/* 90 */
    INSN_GP_LINE,			/* 91 */
    INSN_GP_SHARE,			/* 92 */
    INSN_XGV_FLAGS,			/* 93 */
    INSN_OP_NEXT,			/* 94 */
    INSN_OP_SIBLING,			/* 95 */
    INSN_OP_PPADDR,			/* 96 */
    INSN_OP_TARG,			/* 97 */
    INSN_OP_TYPE,			/* 98 */
    INSN_OP_SEQ,			/* 99 */
    INSN_OP_FLAGS,			/* 100 */
    INSN_OP_PRIVATE,			/* 101 */
    INSN_OP_FIRST,			/* 102 */
    INSN_OP_LAST,			/* 103 */
    INSN_OP_OTHER,			/* 104 */
    INSN_OP_PMREPLROOT,			/* 105 */
    INSN_OP_PMREPLSTART,			/* 106 */
    INSN_OP_PMNEXT,			/* 107 */
    INSN_OP_PMSTASHPV,			/* 108 */
    INSN_OP_PMREPLROOTPO,			/* 109 */
    INSN_OP_PMSTASH,			/* 110 */
    INSN_OP_PMREPLROOTGV,			/* 111 */
    INSN_PREGCOMP,			/* 112 */
    INSN_OP_PMFLAGS,			/* 113 */
    INSN_OP_PMPERMFLAGS,			/* 114 */
    INSN_OP_PMDYNFLAGS,			/* 115 */
    INSN_OP_SV,			/* 116 */
    INSN_OP_PADIX,			/* 117 */
    INSN_OP_PV,			/* 118 */
    INSN_OP_PV_TR,			/* 119 */
    INSN_OP_REDOOP,			/* 120 */
    INSN_OP_NEXTOP,			/* 121 */
    INSN_OP_LASTOP,			/* 122 */
    INSN_COP_LABEL,			/* 123 */
    INSN_COP_STASHPV,			/* 124 */
    INSN_COP_FILE,			/* 125 */
    INSN_COP_STASH,			/* 126 */
    INSN_COP_FILEGV,			/* 127 */
    INSN_COP_SEQ,			/* 128 */
    INSN_COP_ARYBASE,			/* 129 */
    INSN_COP_LINE,			/* 130 */
    INSN_COP_IO,			/* 131 */
    INSN_COP_WARNINGS,			/* 132 */
    INSN_MAIN_START,			/* 133 */
    INSN_MAIN_ROOT,			/* 134 */
    INSN_MAIN_CV,			/* 135 */
    INSN_CURPAD,			/* 136 */
    INSN_PUSH_BEGIN,			/* 137 */
    INSN_PUSH_INIT,			/* 138 */
    INSN_PUSH_END,			/* 139 */
    INSN_CURSTASH,			/* 140 */
    INSN_DEFSTASH,			/* 141 */
    INSN_DATA,			/* 142 */
    INSN_INCAV,			/* 143 */
    INSN_LOAD_GLOB,			/* 144 */
    INSN_REGEX_PADAV,			/* 145 */
    INSN_DOWARN,			/* 146 */
    INSN_COMPPAD_NAME,			/* 147 */
    INSN_XGV_STASH,			/* 148 */
    INSN_SIGNAL,			/* 149 */
    INSN_FORMFEED,			/* 150 */
    MAX_INSN = 150
@


1.1.1.5
log
@perl 5.8.8 import
@
text
@d1 1
a1 2
/* -*- buffer-read-only: t -*-
 *
a199 1
/* ex: set ro: */
@


