head	1.12;
access;
symbols
	OPENBSD_6_0:1.12.0.12
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.12.0.6
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.12.0.8
	OPENBSD_5_8_BASE:1.12
	PERL_5_20_2:1.1.1.11
	OPENBSD_5_7:1.12.0.2
	OPENBSD_5_7_BASE:1.12
	PERL_5_20_1:1.1.1.11
	OPENBSD_5_6:1.12.0.4
	OPENBSD_5_6_BASE:1.12
	PERL_5_18_2:1.1.1.11
	PERL:1.1.1
	OPENBSD_5_5:1.11.0.6
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.2
	OPENBSD_5_4_BASE:1.11
	PERL_5_16_3:1.1.1.10
	OPENBSD_5_3:1.10.0.10
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.8
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.6
	OPENBSD_5_0:1.10.0.4
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	PERL_5_12_2:1.1.1.9
	OPENBSD_4_8:1.9.0.4
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	PERL_5_10_1:1.1.1.8
	OPENBSD_4_6:1.8.0.16
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.12
	OPENBSD_4_5_BASE:1.8
	PERL_5_10_0:1.1.1.7
	OPENBSD_4_4:1.8.0.10
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.8
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.6
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.4
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.2
	OPENBSD_4_0_BASE:1.8
	PERL_5_8_8:1.1.1.7
	OPENBSD_3_9:1.7.0.10
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.7.0.8
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.6
	OPENBSD_3_7_BASE:1.7
	PERL_5_8_6:1.1.1.6
	OPENBSD_3_6:1.7.0.4
	OPENBSD_3_6_BASE:1.7
	PERL_5_8_5:1.1.1.6
	PERL_5_8_3:1.1.1.6
	OPENBSD_3_5:1.7.0.2
	OPENBSD_3_5_BASE:1.7
	PERL_5_8_2:1.1.1.6
	OPENBSD_3_4:1.6.0.4
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.2
	OPENBSD_3_3_BASE:1.6
	PERL_5_8_0:1.1.1.5
	OPENBSD_3_2:1.5.0.6
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.5.0.4
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	PERL_5_6_1:1.1.1.4
	OPENBSD_2_9:1.4.0.6
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.4
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.2
	OPENBSD_2_7_BASE:1.4
	PERL_5_6_0:1.1.1.3
	OPENBSD_2_6:1.3.0.2
	OPENBSD_2_6_BASE:1.3
	PERL_500503:1.1.1.2
	CPAN:1.1.1
	OPENBSD_2_5:1.2.0.6
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.4
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	perl5003:1.1.1.1
	lwall:1.1.1;
locks; strict;
comment	@# @;
expand	@o@;


1.12
date	2014.03.24.15.05.27;	author afresh1;	state Exp;
branches;
next	1.11;

1.11
date	2013.03.25.20.40.54;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2010.09.24.15.06.56;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2009.10.12.18.24.29;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2006.03.28.19.23.03;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2003.12.03.03.02.29;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	2002.10.27.22.25.22;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2001.05.24.18.35.10;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2000.04.06.17.05.16;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	99.04.29.22.51.28;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	97.11.30.07.55.20;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	96.08.19.10.12.05;	author downsj;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.08.19.10.12.05;	author downsj;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.04.29.22.38.44;	author millert;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2000.04.06.16.09.13;	author millert;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2001.05.24.18.22.49;	author millert;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2002.10.27.22.14.55;	author millert;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2003.12.03.02.43.50;	author millert;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2006.03.28.18.48.15;	author millert;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2009.10.12.18.11.20;	author millert;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2010.09.24.14.48.48;	author millert;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	2013.03.25.20.08.45;	author sthen;	state Exp;
branches;
next	1.1.1.11;

1.1.1.11
date	2014.03.24.14.59.01;	author afresh1;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Merge perl-5.18.2 plus local patches, remove old files

OK espie@@ sthen@@ deraadt@@
@
text
@# GDBM_File.pm -- Perl 5 interface to GNU gdbm library.

=head1 NAME

GDBM_File - Perl5 access to the gdbm library.

=head1 SYNOPSIS

    use GDBM_File ;
    tie %hash, 'GDBM_File', $filename, &GDBM_WRCREAT, 0640;
    # Use the %hash array.
    untie %hash ;

=head1 DESCRIPTION

B<GDBM_File> is a module which allows Perl programs to make use of the
facilities provided by the GNU gdbm library.  If you intend to use this
module you should really have a copy of the gdbm manualpage at hand.

Most of the libgdbm.a functions are available through the GDBM_File
interface.

=head1 AVAILABILITY

gdbm is available from any GNU archive.  The master site is
C<ftp.gnu.org>, but you are strongly urged to use one of the many
mirrors.  You can obtain a list of mirror sites from
http://www.gnu.org/order/ftp.html.

=head1 BUGS

The available functions and the gdbm/perl interface need to be documented.

The GDBM error number and error message interface needs to be added.

=head1 SEE ALSO

L<perl(1)>, L<DB_File(3)>, L<perldbmfilter>. 

=cut

package GDBM_File;

use strict;
use warnings;
our($VERSION, @@ISA, @@EXPORT);

require Carp;
require Tie::Hash;
require Exporter;
require XSLoader;
@@ISA = qw(Tie::Hash Exporter);
@@EXPORT = qw(
	GDBM_CACHESIZE
	GDBM_CENTFREE
	GDBM_COALESCEBLKS
	GDBM_FAST
	GDBM_FASTMODE
	GDBM_INSERT
	GDBM_NEWDB
	GDBM_NOLOCK
	GDBM_OPENMASK
	GDBM_READER
	GDBM_REPLACE
	GDBM_SYNC
	GDBM_SYNCMODE
	GDBM_WRCREAT
	GDBM_WRITER
);

# This module isn't dual life, so no need for dev version numbers.
$VERSION = '1.15';

XSLoader::load();

1;
@


1.11
log
@merge/resolve conflicts
(some more to do after this one)
@
text
@d72 1
a72 1
$VERSION = '1.14';
@


1.10
log
@merge in perl 5.12.2 plus local changes
@
text
@d46 1
a46 1
our($VERSION, @@ISA, @@EXPORT, $AUTOLOAD);
d51 1
a51 1
use XSLoader ();
d72 1
a72 1
$VERSION = '1.10';
d74 1
a74 11
sub AUTOLOAD {
    my($constname);
    ($constname = $AUTOLOAD) =~ s/.*:://;
    my ($error, $val) = constant($constname);
    Carp::croak $error if $error;
    no strict 'refs';
    *{$AUTOLOAD} = sub { $val };
    goto &{$AUTOLOAD};
}

XSLoader::load 'GDBM_File', $VERSION;
@


1.9
log
@Merge in perl 5.10.1
@
text
@d72 1
a72 1
$VERSION = '1.09';
@


1.8
log
@merge in perl 5.8.8
@
text
@d71 2
a72 1
$VERSION = "1.08";
@


1.7
log
@Resolve conflicts for perl 5.8.2, remove old files, and add OpenBSD-specific scaffolding
@
text
@d71 1
a71 1
$VERSION = "1.07";
@


1.6
log
@Resolve conflicts, remove old files, merge local changes
@
text
@d34 2
d55 2
d58 1
d62 1
d65 2
d71 1
a71 1
$VERSION = "1.06";
@


1.5
log
@merge in perl 5.6.1 with our local changes
@
text
@d25 4
a28 4
Gdbm is available from any GNU archive.  The master site is
C<prep.ai.mit.edu>, but your are strongly urged to use one of the many
mirrors.   You can obtain a list of mirror sites by issuing the
command	C<finger fsf@@prep.ai.mit.edu>.
a48 1
use AutoLoader;
d63 1
a63 1
$VERSION = "1.05";
d68 5
a72 12
    my $val = constant($constname, @@_ ? $_[0] : 0);
    if ($! != 0) {
	if ($! =~ /Invalid/ || $!{EINVAL}) {
	    $AutoLoader::AUTOLOAD = $AUTOLOAD;
	    goto &AutoLoader::AUTOLOAD;
	}
	else {
	    Carp::croak("Your vendor has not defined GDBM_File macro $constname, used");
	}
    }
    eval "sub $AUTOLOAD { $val }";
    goto &$AUTOLOAD;
a76 3
# Preloaded methods go here.  Autoload methods go after __END__, and are
# processed by the autosplit program.

a77 1
__END__
@


1.4
log
@perl-5.6.0 + local changes
@
text
@d43 1
d57 1
d64 1
a64 1
$VERSION = "1.03";
@


1.3
log
@perl5.005_03 (stock)
@
text
@d36 1
a36 1
L<perl(1)>, L<DB_File(3)>. 
d43 1
a43 1
use vars qw($VERSION @@ISA @@EXPORT $AUTOLOAD);
d49 2
a50 2
require DynaLoader;
@@ISA = qw(Tie::Hash Exporter DynaLoader);
d62 1
a62 1
$VERSION = "1.00";
d69 1
a69 1
	if ($! =~ /Invalid/) {
d81 1
a81 1
bootstrap GDBM_File $VERSION;
@


1.2
log
@perl 5.004_04
@
text
@d10 1
a10 1
    tie %hash, 'GDBM_File', $filename, &GDBM_WRCREAT, 0640);
@


1.1
log
@Initial revision
@
text
@d10 1
a10 1
    tie %hash, GDBM_File, $filename, &GDBM_WRCREAT, 0640);
@


1.1.1.1
log
@Import of Perl 5.003 into the tree.  Makefile.bsd-wrapper and
config.sh.OpenBSD are the only local changes.
@
text
@@


1.1.1.2
log
@perl5.005_03
@
text
@d10 1
a10 1
    tie %hash, 'GDBM_File', $filename, &GDBM_WRCREAT, 0640;
@


1.1.1.3
log
@virgin perl 5.6.0
@
text
@d36 1
a36 1
L<perl(1)>, L<DB_File(3)>, L<perldbmfilter>. 
d43 1
a43 1
our($VERSION, @@ISA, @@EXPORT, $AUTOLOAD);
d49 2
a50 2
use XSLoader ();
@@ISA = qw(Tie::Hash Exporter);
d62 1
a62 1
$VERSION = "1.03";
d69 1
a69 1
	if ($! =~ /Invalid/ || $!{EINVAL}) {
d81 1
a81 1
XSLoader::load 'GDBM_File', $VERSION;
@


1.1.1.4
log
@stock perl 5.6.1
@
text
@a42 1
use warnings;
a55 1
	GDBM_NOLOCK
d62 1
a62 1
$VERSION = "1.05";
@


1.1.1.5
log
@stock perl 5.8.0 from CPAN
@
text
@d25 4
a28 4
gdbm is available from any GNU archive.  The master site is
C<ftp.gnu.org>, but you are strongly urged to use one of the many
mirrors.  You can obtain a list of mirror sites from
http://www.gnu.org/order/ftp.html.
d49 1
d64 1
a64 1
$VERSION = "1.06";
d69 12
a80 5
    my ($error, $val) = constant($constname);
    Carp::croak $error if $error;
    no strict 'refs';
    *{$AUTOLOAD} = sub { $val };
    goto &{$AUTOLOAD};
d85 3
d89 1
@


1.1.1.6
log
@perl 5.8.2 from CPAN
@
text
@a33 2
The GDBM error number and error message interface needs to be added.

a52 2
	GDBM_CENTFREE
	GDBM_COALESCEBLKS
a53 1
	GDBM_FASTMODE
a56 1
	GDBM_OPENMASK
a58 2
	GDBM_SYNC
	GDBM_SYNCMODE
d63 1
a63 1
$VERSION = "1.07";
@


1.1.1.7
log
@perl 5.8.8 import
@
text
@d71 1
a71 1
$VERSION = "1.08";
@


1.1.1.8
log
@import perl 5.10.1
@
text
@d71 1
a71 2
# This module isn't dual life, so no need for dev version numbers.
$VERSION = '1.09';
@


1.1.1.9
log
@Perl 5.12.2 from CPAN
@
text
@d72 1
a72 1
$VERSION = '1.10';
@


1.1.1.10
log
@import perl 5.16.3 from CPAN - worked on by Andrew Fresh and myself
@
text
@d46 1
a46 1
our($VERSION, @@ISA, @@EXPORT);
d51 1
a51 1
require XSLoader;
d72 1
a72 1
$VERSION = '1.14';
d74 11
a84 1
XSLoader::load();
@


1.1.1.11
log
@Import perl-5.18.2

OK espie@@ sthen@@ deraadt@@
@
text
@d72 1
a72 1
$VERSION = '1.15';
@


