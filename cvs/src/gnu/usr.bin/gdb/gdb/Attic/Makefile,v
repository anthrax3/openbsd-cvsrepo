head	1.5;
access;
symbols
	OPENBSD_2_3:1.4.0.8
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.6
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.4.0.4
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.5
date	98.04.26.17.24.35;	author deraadt;	state dead;
branches;
next	1.4;

1.4
date	96.08.26.07.10.34;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.01.12.16.55.47;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.12.14.03.42.35;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.39.56;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.39.56;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.5
log
@we use binutils gdb everwhere now
@
text
@# $Id: Makefile,v 1.4 1996/08/26 07:10:34 deraadt Exp $

# Paths to libraries
#
PARALLEL=yes
LIBBFD!=cd $(.CURDIR)/../bfd; \
	printf "xxx:\n\techo \$${.OBJDIR}/libbfd.a\n" | \
	${MAKE} -r -s -f - xxx | grep libbfd

LIBREADLINE!=cd $(.CURDIR)/../readline; \
	printf "xxx:\n\techo \$${.OBJDIR}/libreadline.a\n" | \
	${MAKE} -r -s -f - xxx | grep libreadline

LIBIBERTY!=cd $(.CURDIR)/../libiberty; \
	printf "xxx:\n\techo \$${.OBJDIR}/libiberty.a\n" | \
	${MAKE} -r -s -f - xxx | grep libiberty


PROG=		gdb

CFLAGS+=	-I$(.CURDIR)/arch/$(MACHINE_ARCH) -I$(.CURDIR)/../bfd \
		-I$(.CURDIR)/../readline -I$(.CURDIR)/../include \
		-I$(.CURDIR) \
		-DHOST_CANONICAL=\"$(MACHINE_ARCH)-openbsd\" \
		-DTARGET_CANONICAL=\"$(MACHINE_ARCH)-openbsd\"

CFLAGS+=	-DNO_MMALLOC -DKERNEL_DEBUG -DHAVE_TERMIOS
YFLAGS+=	-p $(.PREFIX:S/-exp/_/:S/ch_/chill_/)

.PATH:		$(.CURDIR)/arch/$(MACHINE_ARCH)

SRCS=		blockframe.c core.c gdbtypes.c main.c source.c		\
		breakpoint.c maint.c  stabsread.c			\
		buildsym.c corelow.c kcorelow.c mem-break.c stack.c	\
		c-exp.c cp-valprint.c minsyms.c symfile.c		\
		c-lang.c dbxread.c elfread.c infcmd.c symmisc.c		\
		c-typeprint.c dcache.c inflow.c symtab.c		\
		c-valprint.c demangle.c infptrace.c objfiles.c target.c	\
		ch-exp.c infrun.c parse.c dwarfread.c thread.c		\
		ch-lang.c inftarg.c printcmd.c typeprint.c		\
		ch-typeprint.c environ.c init.c utils.c			\
		ch-valprint.c eval.c  language.c regex.c  valarith.c	\
		exec.c  m2-exp.c remote-utils.c valops.c		\
		command.c expprint.c m2-lang.c remote.c valprint.c	\
		complaints.c findvar.c m2-typeprint.c ser-unix.c values.c\
		copying.c fork-child.c m2-valprint.c serial.c version.c \
		dis-buf.c solib.c

CLEANFILES+=	c-exp.tab.h ch-exp.tab.h m2-exp.tab.h c-exp.c ch-exp.c m2-exp.c

LDADD=		$(LIBBFD) $(LIBREADLINE) $(LIBIBERTY)
DPADD=		$(LIBBFD) $(LIBREADLINE) $(LIBIBERTY)

LDADD+=		-ltermcap -lkvm
DPADD+=		$(LIBTERMCAP) $(LIBKVM)


.include "arch/$(MACHINE_ARCH)/Makefile.inc"
.include "../../Makefile.inc"
.include <bsd.prog.mk>
@


1.4
log
@openbsd not netbsd; from graichen
@
text
@d1 1
a1 1
# $Id: Makefile,v 1.3 1996/01/12 16:55:47 deraadt Exp $
@


1.3
log
@clean better
@
text
@d1 1
a1 1
# $Id: Makefile,v 1.9 1996/01/09 22:39:31 pk Exp $
d24 2
a25 2
		-DHOST_CANONICAL=\"$(MACHINE_ARCH)-netbsd\" \
		-DTARGET_CANONICAL=\"$(MACHINE_ARCH)-netbsd\"
@


1.2
log
@update from netbsd; parallel make stuff
@
text
@d1 1
a1 1
# $Id: Makefile,v 1.8 1995/10/22 22:48:45 christos Exp $
d49 1
a49 1
CLEANFILES+=	y.tab.h c-exp.c ch-exp.c m2-exp.c
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $Id: Makefile,v 1.6 1994/09/19 01:38:55 mycroft Exp $
d5 1
d7 2
a8 1
	printf "xxx:\n\techo \$${.OBJDIR}/libbfd.a\n" | ${MAKE} -r -s -f - xxx
d11 2
a12 1
	printf "xxx:\n\techo \$${.OBJDIR}/libreadline.a\n" | ${MAKE} -r -s -f - xxx
d15 2
a16 1
	printf "xxx:\n\techo \$${.OBJDIR}/libiberty.a\n" | ${MAKE} -r -s -f - xxx
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
