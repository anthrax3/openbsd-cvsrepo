head	1.11;
access;
symbols
	OPENBSD_6_1_BASE:1.11
	OPENBSD_6_0:1.11.0.14
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.10
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.12
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.4
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.11.0.8
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.6
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.2
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.10.0.8
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.6
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.4
	OPENBSD_5_0:1.10.0.2
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.6.0.2
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.1.1.1.0.2
	OPENBSD_4_7_BASE:1.1.1.1
	robert_20091015:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2013.05.08.15.30.38;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2011.08.04.14.46.58;	author kettenis;	state Exp;
branches;
next	1.9;

1.9
date	2011.07.04.05.46.18;	author pirofti;	state Exp;
branches;
next	1.8;

1.8
date	2010.09.10.16.20.11;	author kettenis;	state Exp;
branches;
next	1.7;

1.7
date	2010.09.09.19.16.50;	author jsg;	state Exp;
branches;
next	1.6;

1.6
date	2010.08.01.21.23.02;	author kettenis;	state Exp;
branches;
next	1.5;

1.5
date	2010.05.09.19.22.51;	author kettenis;	state Exp;
branches;
next	1.4;

1.4
date	2010.05.04.18.37.00;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2010.04.26.05.45.25;	author robert;	state Exp;
branches;
next	1.2;

1.2
date	2010.04.25.21.04.27;	author kettenis;	state Exp;
branches;
next	1.1;

1.1
date	2009.10.15.20.50.19;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.10.15.20.50.19;	author robert;	state Exp;
branches;
next	;


desc
@@


1.11
log
@A port of the current gcc 3.3.6 m88k backend to gcc 4.2.1.

Main features:
- md constraints rewritten in RTL
- md predicaties rewritten in RTL
- md va_arg switched to gimple
- abort() calls replaced with gcc_assert() or gcc_unreachable() for better
  diagnostics
- support for non-ELF systems completely removed

Missing:
- conversion of the pipeline information from define_function_unit to
  define_automata not done yet (thus pipeline information currently removed)

Known regressions against 3.3.6 so far:
- no stack protector support yet
- __builtin_setjmp doesn't restore the frame pointer correctly upon return
  from __builtin_longjmp
- at least one case of optimization error when delay slots are not disabled.
- libgcc is only built -fPIC, instead of static/fpic/fPIC.
@
text
@# $FreeBSD: src/gnu/usr.bin/cc/Makefile.tgt,v 1.11.8.1 2009/04/15 03:14:26 kensmith Exp $
# $OpenBSD: Makefile.tgt,v 1.10 2011/08/04 14:46:58 kettenis Exp $

TARGET_ARCH?=	${MACHINE_ARCH}

.if   ${TARGET_ARCH} == "alpha"
GCC_CPU=	alpha
.elif ${TARGET_ARCH} == "arm"
GCC_CPU=	arm
.elif ${TARGET_ARCH} == "i386" || ${TARGET_ARCH} == "amd64"
GCC_CPU=	i386
.elif ${TARGET_ARCH} == "ia64"
GCC_CPU=	ia64
.elif ${TARGET_ARCH} == "hppa"
GCC_CPU=	pa
TARGET_CPU_DEFAULT= MASK_PA_11
.elif ${TARGET_ARCH} == "hppa64"
GCC_CPU=	pa
TARGET_CPU_DEFAULT= MASK_PA_11|MASK_PA_20
.elif ${TARGET_ARCH} == "m88k"
GCC_CPU=	m88k
.elif ${TARGET_ARCH} == "mips64" || ${TARGET_ARCH} == "mips64el"
GCC_CPU=	mips
.elif ${TARGET_ARCH} == "powerpc"
GCC_CPU=	rs6000
.elif ${TARGET_ARCH} == "sh"
GCC_CPU=	sh
.elif ${TARGET_ARCH} == "sparc"
GCC_CPU=	sparc
TARGET_CPU_DEFAULT= TARGET_CPU_v7
.elif ${TARGET_ARCH} == "sparc64"
GCC_CPU=	sparc
TARGET_CPU_DEFAULT= TARGET_CPU_ultrasparc
.endif
@


1.10
log
@Add support for hppa64.

ok deraadt@@
@
text
@d2 1
a2 1
# $OpenBSD: Makefile.tgt,v 1.9 2011/07/04 05:46:18 pirofti Exp $
d20 2
@


1.9
log
@Add ia64 target.
@
text
@d2 1
a2 1
# $OpenBSD: Makefile.tgt,v 1.8 2010/09/10 16:20:11 kettenis Exp $
d17 3
@


1.8
log
@Add infrastructure to build GCC 4.2.1 for OpenBSD/mips64.  Only tested on
loongson (mips64el).

ok miod@@
@
text
@d2 1
a2 1
# $OpenBSD: Makefile.tgt,v 1.7 2010/09/09 19:16:50 jsg Exp $
d12 2
@


1.7
log
@let gcc4 build on landisk
initial diff from jasper, finished by me with help from miod

ok jasper@@ miod@@ kettenis@@
@
text
@d2 1
a2 1
# $OpenBSD: Makefile.tgt,v 1.6 2010/08/01 21:23:02 kettenis Exp $
d15 4
a20 2
.elif ${TARGET_ARCH} == "powerpc"
GCC_CPU=	rs6000
@


1.6
log
@Add infrastructure to buil GCC 4.2.1 on OpenBSD/sparc.
@
text
@d2 1
a2 1
# $OpenBSD: Makefile.tgt,v 1.5 2010/05/09 19:22:51 kettenis Exp $
d15 2
@


1.5
log
@Set TARGET_CPU_DEFAULT to MASK_PA_11 on hppa to match what we had for gcc3.
@
text
@d2 1
a2 1
# $OpenBSD: Makefile.tgt,v 1.4 2010/05/04 18:37:00 naddy Exp $
d17 3
@


1.4
log
@add infrastructure to build GCC 4.2.1 for OpenBSD/alpha; ok kettenis@@
@
text
@d2 1
a2 1
# $OpenBSD: Makefile.tgt,v 1.3 2010/04/26 05:45:25 robert Exp $
d14 1
@


1.3
log
@clean up a bit
@
text
@d2 1
a2 1
# $OpenBSD: Makefile.tgt,v 1.2 2010/04/25 21:04:27 kettenis Exp $
d6 3
a8 1
.if ${TARGET_ARCH} == "arm"
@


1.2
log
@Add infrastructure to build GCC 4.2.1 for OpenBSD/hppa.
@
text
@d2 1
a2 1
# $OpenBSD: Makefile.tgt,v 1.1.1.1 2009/10/15 20:50:19 robert Exp $
a11 3
.elif ${TARGET_ARCH} == "ia64"
TARGET_CPU_DEFAULT= MASK_GNU_AS|MASK_GNU_LD
GCC_CPU=	ia64
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# $OpenBSD$
d10 2
@


1.1.1.1
log
@Import a BSD make based infrastructure for building gcc, based on the
same solution from FreeBSD.
Don't even try to build it at the moment. This is commited so people can
work on it in tree.
@
text
@@
