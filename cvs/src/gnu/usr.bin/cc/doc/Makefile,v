head	1.2;
access;
symbols
	OPENBSD_6_0:1.1.1.1.0.28
	OPENBSD_6_0_BASE:1.1.1.1
	OPENBSD_5_9:1.1.1.1.0.24
	OPENBSD_5_9_BASE:1.1.1.1
	OPENBSD_5_8:1.1.1.1.0.26
	OPENBSD_5_8_BASE:1.1.1.1
	OPENBSD_5_7:1.1.1.1.0.18
	OPENBSD_5_7_BASE:1.1.1.1
	OPENBSD_5_6:1.1.1.1.0.22
	OPENBSD_5_6_BASE:1.1.1.1
	OPENBSD_5_5:1.1.1.1.0.20
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.16
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.14
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.12
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.10
	OPENBSD_5_0:1.1.1.1.0.8
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.6
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.4
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.2
	OPENBSD_4_7_BASE:1.1.1.1
	robert_20091015:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2016.11.08.17.39.12;	author tb;	state Exp;
branches;
next	1.1;
commitid	W1UPKCW8N0De6000;

1.1
date	2009.10.15.20.50.20;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.10.15.20.50.20;	author robert;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Set the permissions of the specs file explicitly so that they don't
depend on the umask.  Install headers and info files with group bin
like all the other headers and info files.

ok stefan
@
text
@# $FreeBSD: src/gnu/usr.bin/cc/doc/Makefile,v 1.14.8.1 2009/04/15 03:14:26 kensmith Exp $
# $OpenBSD: Makefile,v 1.1.1.1 2009/10/15 20:50:20 robert Exp $

.include <bsd.own.mk>

.include "${.CURDIR}/../Makefile.inc"
.include "${.CURDIR}/../Makefile.ver"

.PATH: ${GCCDIR}/doc ${GCCDIR}/doc/include

INFOS=	gcc cpp gccint cppinternals
INFOF=	${INFOS:S/$/.info/}

INFOSECTION=    "Gcc Documentation"
INFOENTRY_gcc=  "* gcc: (gcc).			The GNU C compiler."
INFOENTRY_cpp=  "* cpp: (cpp).			The GNU C pre-processor."
INFOENTRY_gccint= "* gccint: (gccint).		The GNU compiler family internal documentation."
INFOENTRY_cppinternals= "* cppinternals: (cppinternals).		The GNU compiler preprocessor internal documentation."

gcc.info: gcc.texi gcc-common.texi gcc-vers.texi frontends.texi		\
	 standards.texi invoke.texi extend.texi md.texi objc.texi	\
	 gcov.texi trouble.texi bugreport.texi service.texi		\
	 contribute.texi compat.texi funding.texi gnu.texi gpl.texi	\
	 fdl.texi contrib.texi cppenv.texi cppopts.texi			\
	 implement-c.texi

gccint.info: gccint.texi gcc-common.texi gcc-vers.texi			\
	 contribute.texi makefile.texi configterms.texi options.texi	\
	 portability.texi interface.texi passes.texi c-tree.texi	\
	 rtl.texi md.texi tm.texi hostconfig.texi fragments.texi	\
	 configfiles.texi collect2.texi headerdirs.texi funding.texi	\
	 gnu.texi gpl.texi fdl.texi contrib.texi languages.texi		\
	 sourcebuild.texi gty.texi libgcc.texi cfg.texi tree-ssa.texi	\
	 loop.texi

cpp.info: cpp.texi fdl.texi cppenv.texi cppopts.texi gcc-common.texi \
	gcc-vers.texi

cppinternals.info:  cppinternals.texi gcc-common.texi gcc-vers.texi

MAKEINFOFLAGS+= -I ${GCCDIR}/doc -I ${GCCDIR}/doc/include

gcc-vers.texi:
	(echo "@@set version-GCC $(BASEVER)"; \
	if [ "$(DEVPHASE)" = "experimental" ]; then \
		echo "@@set DEVELOPMENT"; \
	else \
		echo "@@clear DEVELOPMENT"; \
	fi; \
	echo "@@set srcdir $(BSDSRCDIR)/gnu/lib/libiberty/src" ) > ${.TARGET}

CLEANFILES= ${INFOF} gcc-vers.texi

.for x in ${INFOS}
${x}.info: ${x}.texi
	makeinfo --no-split -I ${.CURDIR} -I ${GCCDIR}/doc -I ${GCCDIR}/doc/include \
		${x}.texi -o ${.TARGET}
.endfor
	
all:	${INFOF}

clean: _SUBDIRUSE
	rm -f ${CLEANFILES}

depend:
	# Nothing here so far...

install: ${INFOF}
.for x in ${INFOS}
	install-info --quiet --section=${INFOSECTION} --entry=${INFOENTRY_${x}} \
		${x}.info ${DESTDIR}/usr/share/info/dir
.endfor
	${INSTALL} -o ${DOCOWN} -g ${DOCGRP} -m ${DOCMODE} ${.ALLSRC} \
		${DESTDIR}/usr/share/info

.include <bsd.prog.mk>
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# $OpenBSD$
d73 1
a73 1
	${INSTALL} -o ${BINOWN} -g ${LOCALEGRP} -m ${NONBINMODE} ${.ALLSRC} \
@


1.1.1.1
log
@Import a BSD make based infrastructure for building gcc, based on the
same solution from FreeBSD.
Don't even try to build it at the moment. This is commited so people can
work on it in tree.
@
text
@@
