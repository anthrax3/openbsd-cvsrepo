head	1.27;
access;
symbols
	OPENBSD_2_5:1.26.0.2
	OPENBSD_2_5_BASE:1.26
	OPENBSD_2_4:1.21.0.2
	OPENBSD_2_4_BASE:1.21
	OPENBSD_2_3:1.16.0.2
	OPENBSD_2_3_BASE:1.16
	FSF_2_8_1:1.1.1.3
	FSF_2_8_0:1.1.1.2
	OPENBSD_2_2:1.14.0.4
	OPENBSD_2_2_BASE:1.14
	OPENBSD_2_1:1.14.0.2
	OPENBSD_2_1_BASE:1.14
	OPENBSD_2_0:1.7.0.2
	OPENBSD_2_0_BASE:1.7
	FSF_2_7_2:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@# @;


1.27
date	99.05.26.16.21.11;	author espie;	state dead;
branches;
next	1.26;

1.26
date	99.03.05.17.39.45;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	99.02.28.15.26.02;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	99.02.23.09.20.19;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	99.02.18.13.59.20;	author mickey;	state Exp;
branches;
next	1.22;

1.22
date	99.02.09.03.32.44;	author smurph;	state Exp;
branches;
next	1.21;

1.21
date	98.05.17.15.33.54;	author mickey;	state Exp;
branches;
next	1.20;

1.20
date	98.05.11.13.43.24;	author niklas;	state Exp;
branches;
next	1.19;

1.19
date	98.05.10.19.43.05;	author niklas;	state Exp;
branches;
next	1.18;

1.18
date	98.05.06.21.30.44;	author mickey;	state Exp;
branches;
next	1.17;

1.17
date	98.05.04.21.22.53;	author mickey;	state Exp;
branches;
next	1.16;

1.16
date	98.03.08.18.26.51;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	98.03.03.21.15.45;	author niklas;	state Exp;
branches;
next	1.14;

1.14
date	97.04.12.21.54.46;	author pefo;	state Exp;
branches;
next	1.13;

1.13
date	97.04.09.13.42.45;	author downsj;	state Exp;
branches;
next	1.12;

1.12
date	97.04.09.10.26.18;	author downsj;	state Exp;
branches;
next	1.11;

1.11
date	97.04.04.13.18.25;	author graichen;	state Exp;
branches;
next	1.10;

1.10
date	96.12.22.18.32.41;	author rahnds;	state Exp;
branches;
next	1.9;

1.9
date	96.10.18.12.13.20;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	96.10.18.11.52.27;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	96.09.17.07.19.37;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	96.07.31.00.18.16;	author niklas;	state Exp;
branches;
next	1.5;

1.5
date	96.07.14.21.05.25;	author pefo;	state Exp;
branches;
next	1.4;

1.4
date	96.05.15.14.00.16;	author pefo;	state Exp;
branches;
next	1.3;

1.3
date	95.12.23.06.44.25;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.12.21.01.16.15;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	95.12.20.01.02.15;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.12.20.01.02.15;	author niklas;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	98.02.14.19.10.02;	author niklas;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	98.03.08.18.05.31;	author millert;	state Exp;
branches;
next	;


desc
@@


1.27
log
@So long, and thanks for all the bugs.
@
text
@#! /bin/sh

# Guess values for system-dependent variables and create Makefiles.
# Generated automatically using autoconf version 2.13 
# Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
#
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.

# Defaults:
ac_help=
ac_default_prefix=/usr/local
# Any additions from configure.in:
ac_help="$ac_help
  --with-gnu-ld           arrange to work with GNU ld."
ac_help="$ac_help
  --with-gnu-as           arrange to work with GNU as."
ac_help="$ac_help
  --with-stabs            arrange to use stabs instead of host debug format."
ac_help="$ac_help
  --with-elf              arrange to use ELF instead of host debug format."
ac_help="$ac_help
  --with-local-prefix=DIR specifies directory to put local include."
ac_help="$ac_help
  --with-gxx-include-dir=DIR
                          specifies directory to put g++ header files."
ac_help="$ac_help
  --enable-c-cpplib       Use cpplib for C."
ac_help="$ac_help
  --enable-threads        enable thread usage for target GCC.
  --enable-threads=LIB    use LIB thread package for target GCC."

# Initialize some variables set by options.
# The variables have the same names as the options, with
# dashes changed to underlines.
build=NONE
cache_file=./config.cache
exec_prefix=NONE
host=NONE
no_create=
nonopt=NONE
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
srcdir=
target=NONE
verbose=
x_includes=NONE
x_libraries=NONE
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datadir='${prefix}/share'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
libdir='${exec_prefix}/lib'
includedir='${prefix}/include'
oldincludedir='/usr/include'
infodir='${prefix}/info'
mandir='${prefix}/man'

# Initialize some other variables.
subdirs=
MFLAGS= MAKEFLAGS=
SHELL=${CONFIG_SHELL-/bin/sh}
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12

ac_prev=
for ac_option
do

  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval "$ac_prev=\$ac_option"
    ac_prev=
    continue
  fi

  case "$ac_option" in
  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) ac_optarg= ;;
  esac

  # Accept the important Cygnus configure options, so we can diagnose typos.

  case "$ac_option" in

  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir="$ac_optarg" ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build="$ac_optarg" ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file="$ac_optarg" ;;

  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
  | --da=*)
    datadir="$ac_optarg" ;;

  -disable-* | --disable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    eval "enable_${ac_feature}=no" ;;

  -enable-* | --enable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "enable_${ac_feature}='$ac_optarg'" ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix="$ac_optarg" ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he)
    # Omit some internal or obsolete options to make the list less imposing.
    # This message is too long to be a string in the A/UX 3.1 sh.
    cat << EOF
Usage: configure [options] [host]
Options: [defaults in brackets after descriptions]
Configuration:
  --cache-file=FILE       cache test results in FILE
  --help                  print this message
  --no-create             do not create output files
  --quiet, --silent       do not print \`checking...' messages
  --version               print the version of autoconf that created configure
Directory and file names:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [same as prefix]
  --bindir=DIR            user executables in DIR [EPREFIX/bin]
  --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
  --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
  --datadir=DIR           read-only architecture-independent data in DIR
                          [PREFIX/share]
  --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data in DIR
                          [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
  --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
  --includedir=DIR        C header files in DIR [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
  --infodir=DIR           info documentation in DIR [PREFIX/info]
  --mandir=DIR            man documentation in DIR [PREFIX/man]
  --srcdir=DIR            find the sources in DIR [configure dir or ..]
  --program-prefix=PREFIX prepend PREFIX to installed program names
  --program-suffix=SUFFIX append SUFFIX to installed program names
  --program-transform-name=PROGRAM
                          run sed PROGRAM on installed program names
EOF
    cat << EOF
Host type:
  --build=BUILD           configure for building on BUILD [BUILD=HOST]
  --host=HOST             configure for HOST [guessed]
  --target=TARGET         configure for TARGET [TARGET=HOST]
Features and packages:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --x-includes=DIR        X include files are in DIR
  --x-libraries=DIR       X library files are in DIR
EOF
    if test -n "$ac_help"; then
      echo "--enable and --with options recognized:$ac_help"
    fi
    exit 0 ;;

  -host | --host | --hos | --ho)
    ac_prev=host ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host="$ac_optarg" ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir="$ac_optarg" ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir="$ac_optarg" ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir="$ac_optarg" ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir="$ac_optarg" ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst \
  | --locals | --local | --loca | --loc | --lo)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
    localstatedir="$ac_optarg" ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir="$ac_optarg" ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir="$ac_optarg" ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix="$ac_optarg" ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix="$ac_optarg" ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix="$ac_optarg" ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name="$ac_optarg" ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir="$ac_optarg" ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir="$ac_optarg" ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site="$ac_optarg" ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir="$ac_optarg" ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir="$ac_optarg" ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target="$ac_optarg" ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers)
    echo "configure generated by autoconf version 2.13"
    exit 0 ;;

  -with-* | --with-*)
    ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "with_${ac_package}='$ac_optarg'" ;;

  -without-* | --without-*)
    ac_package=`echo $ac_option|sed -e 's/-*without-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    eval "with_${ac_package}=no" ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes="$ac_optarg" ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries="$ac_optarg" ;;

  -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
    ;;

  *)
    if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
      echo "configure: warning: $ac_option: invalid host type" 1>&2
    fi
    if test "x$nonopt" != xNONE; then
      { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
    fi
    nonopt="$ac_option"
    ;;

  esac
done

if test -n "$ac_prev"; then
  { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
fi

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

# File descriptor usage:
# 0 standard input
# 1 file creation
# 2 errors and warnings
# 3 some systems may open it to /dev/tty
# 4 used on the Kubota Titan
# 6 checking for... messages and results
# 5 compiler messages saved in config.log
if test "$silent" = yes; then
  exec 6>/dev/null
else
  exec 6>&1
fi
exec 5>./config.log

echo "\
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.
" 1>&5

# Strip out --no-create and --no-recursion so they do not pile up.
# Also quote any args containing shell metacharacters.
ac_configure_args=
for ac_arg
do
  case "$ac_arg" in
  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c) ;;
  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
  ac_configure_args="$ac_configure_args '$ac_arg'" ;;
  *) ac_configure_args="$ac_configure_args $ac_arg" ;;
  esac
done

# NLS nuisances.
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo > confdefs.h

# A filename unique to this package, relative to the directory that
# configure is in, which we can look for to find out if srcdir is correct.
ac_unique_file=tree.c

# Find the source files, if location was not specified.
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then its parent.
  ac_prog=$0
  ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
  test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
  srcdir=$ac_confdir
  if test ! -r $srcdir/$ac_unique_file; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
fi
if test ! -r $srcdir/$ac_unique_file; then
  if test "$ac_srcdir_defaulted" = yes; then
    { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
  else
    { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
  fi
fi
srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`

# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    echo "loading site script $ac_site_file"
    . "$ac_site_file"
  fi
done

if test -r "$cache_file"; then
  echo "loading cache $cache_file"
  . $cache_file
else
  echo "creating cache $cache_file"
  > $cache_file
fi

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

ac_exeext=
ac_objext=o
if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
  # Stardent Vistra SVR4 grep lacks -e, says ghazi@@caip.rutgers.edu.
  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
    ac_n= ac_c='
' ac_t='	'
  else
    ac_n=-n ac_c= ac_t=
  fi
else
  ac_n= ac_c='\c' ac_t=
fi




native_prefix=/usr
remove=rm
hard_link=ln
symbolic_link='ln -s'
copy=cp

# Check for additional parameters

# With GNU ld
# Check whether --with-gnu-ld or --without-gnu-ld was given.
if test "${with_gnu_ld+set}" = set; then
  withval="$with_gnu_ld"
  gnu_ld=yes
else
  gnu_ld=no
fi


# With GNU as
# Check whether --with-gnu-as or --without-gnu-as was given.
if test "${with_gnu_as+set}" = set; then
  withval="$with_gnu_as"
  gas=yes
else
  gas=no
fi


# With stabs
# Check whether --with-stabs or --without-stabs was given.
if test "${with_stabs+set}" = set; then
  withval="$with_stabs"
  stabs=yes
else
  stabs=no
fi


# With ELF
# Check whether --with-elf or --without-elf was given.
if test "${with_elf+set}" = set; then
  withval="$with_elf"
  elf=yes
else
  elf=no
fi


# Specify the local prefix
# Check whether --with-local-prefix or --without-local-prefix was given.
if test "${with_local_prefix+set}" = set; then
  withval="$with_local_prefix"
  local_prefix=$with_local_prefix
else
  local_prefix=/usr/local
fi


# Default local prefix if it is empty
if [ x$local_prefix = x ]; then
	local_prefix=/usr/local
fi

# Specify the g++ header file directory
# Check whether --with-gxx-include-dir or --without-gxx-include-dir was given.
if test "${with_gxx_include_dir+set}" = set; then
  withval="$with_gxx_include_dir"
  gxx_include_dir=$with_gxx_include_dir
else
  gxx_include_dir='${prefix}/include/g++'
fi


# Default g++ header file directory if it is empty
if [ x$gxx_include_dir = x ]; then
	gxx_include_dir='${prefix}/include/g++'
fi

# Enable use of cpplib for C.
# Check whether --enable-c-cpplib or --disable-c-cpplib was given.
if test "${enable_c_cpplib+set}" = set; then
  enableval="$enable_c_cpplib"
  if [ x$enable_c_cpplib != xno ]; then
  extra_c_objs="${extra_c_objs} cpplib.o cppexp.o cpphash.o cpperror.o"
  extra_c_flags=-DUSE_CPPLIB=1
fi
fi


# Enable threads
# Pass with no value to take the default
# Pass with a value to specify a thread package
# Check whether --enable-threads or --disable-threads was given.
if test "${enable_threads+set}" = set; then
  enableval="$enable_threads"
  if [ x$enable_threads = xno ]; then
	enable_threads=''
fi
else
  enable_threads=''
fi


# Check if a valid thread package
case x${enable_threads} in
	x | xno)
		# No threads
		thread_file='single'
		;;
	xyes)
		# default
		thread_file=''
		;;
	xdecosf1 | xirix | xmach | xos2 | xposix | xpthreads | xsingle | \
	xsolaris | xwin32)
		thread_file=$enable_threads
		;;
	*)
		echo "$enable_threads is an unknown thread package" 1>&2
		exit 1
		;;
esac

# Determine the host, build, and target systems
ac_aux_dir=
for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
  if test -f $ac_dir/install-sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f $ac_dir/install.sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  { echo "configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." 1>&2; exit 1; }
fi
ac_config_guess=$ac_aux_dir/config.guess
ac_config_sub=$ac_aux_dir/config.sub
ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.


# Do some error checking and defaulting for the host and target type.
# The inputs are:
#    configure --host=HOST --target=TARGET --build=BUILD NONOPT
#
# The rules are:
# 1. You are not allowed to specify --host, --target, and nonopt at the
#    same time.
# 2. Host defaults to nonopt.
# 3. If nonopt is not specified, then host defaults to the current host,
#    as determined by config.guess.
# 4. Target and build default to nonopt.
# 5. If nonopt is not specified, then target and build default to host.

# The aliases save the names the user supplied, while $host etc.
# will get canonicalized.
case $host---$target---$nonopt in
NONE---*---* | *---NONE---* | *---*---NONE) ;;
*) { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; } ;;
esac


# Make sure we can run config.sub.
if ${CONFIG_SHELL-/bin/sh} $ac_config_sub sun4 >/dev/null 2>&1; then :
else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
fi

echo $ac_n "checking host system type""... $ac_c" 1>&6
echo "configure:716: checking host system type" >&5

host_alias=$host
case "$host_alias" in
NONE)
  case $nonopt in
  NONE)
    if host_alias=`${CONFIG_SHELL-/bin/sh} $ac_config_guess`; then :
    else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
    fi ;;
  *) host_alias=$nonopt ;;
  esac ;;
esac

host=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$host" 1>&6

echo $ac_n "checking target system type""... $ac_c" 1>&6
echo "configure:737: checking target system type" >&5

target_alias=$target
case "$target_alias" in
NONE)
  case $nonopt in
  NONE) target_alias=$host_alias ;;
  *) target_alias=$nonopt ;;
  esac ;;
esac

target=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $target_alias`
target_cpu=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
target_vendor=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
target_os=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$target" 1>&6

echo $ac_n "checking build system type""... $ac_c" 1>&6
echo "configure:755: checking build system type" >&5

build_alias=$build
case "$build_alias" in
NONE)
  case $nonopt in
  NONE) build_alias=$host_alias ;;
  *) build_alias=$nonopt ;;
  esac ;;
esac

build=`${CONFIG_SHELL-/bin/sh} $ac_config_sub $build_alias`
build_cpu=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
build_vendor=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
build_os=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$build" 1>&6

test "$host_alias" != "$target_alias" &&
  test "$program_prefix$program_suffix$program_transform_name" = \
    NONENONEs,x,x, &&
  program_prefix=${target_alias}-


# Find the native compiler
# Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:782: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="gcc"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:812: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_prog_rejected=no
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
        ac_prog_rejected=yes
	continue
      fi
      ac_cv_prog_CC="cc"
      break
    fi
  done
  IFS="$ac_save_ifs"
if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# -gt 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    set dummy "$ac_dir/$ac_word" "$@@"
    shift
    ac_cv_prog_CC="$@@"
  fi
fi
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

  if test -z "$CC"; then
    case "`uname -s`" in
    *win32* | *WIN32*)
      # Extract the first word of "cl", so it can be a program name with args.
set dummy cl; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:863: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="cl"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi
 ;;
    esac
  fi
  test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
fi

echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:895: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

cat > conftest.$ac_ext << EOF

#line 906 "configure"
#include "confdefs.h"

main(){return(0);}
EOF
if { (eval echo configure:911: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
  else
    ac_cv_prog_cc_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
fi
rm -fr conftest*
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest${ac_exeext} $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:937: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross

echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
echo "configure:942: checking whether we are using GNU C" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.c <<EOF
#ifdef __GNUC__
  yes;
#endif
EOF
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:951: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
  ac_cv_prog_gcc=yes
else
  ac_cv_prog_gcc=no
fi
fi

echo "$ac_t""$ac_cv_prog_gcc" 1>&6

if test $ac_cv_prog_gcc = yes; then
  GCC=yes
else
  GCC=
fi

ac_test_CFLAGS="${CFLAGS+set}"
ac_save_CFLAGS="$CFLAGS"
CFLAGS=
echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:970: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' > conftest.c
if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
  ac_cv_prog_cc_g=yes
else
  ac_cv_prog_cc_g=no
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
if test "$ac_test_CFLAGS" = set; then
  CFLAGS="$ac_save_CFLAGS"
elif test $ac_cv_prog_cc_g = yes; then
  if test "$GCC" = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-g"
  fi
else
  if test "$GCC" = yes; then
    CFLAGS="-O2"
  else
    CFLAGS=
  fi
fi

echo $ac_n "checking whether ${MAKE-make} sets \${MAKE}""... $ac_c" 1>&6
echo "configure:1002: checking whether ${MAKE-make} sets \${MAKE}" >&5
set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftestmake <<\EOF
all:
	@@echo 'ac_maketemp="${MAKE}"'
EOF
# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
eval `${MAKE-make} -f conftestmake 2>/dev/null | grep temp=`
if test -n "$ac_maketemp"; then
  eval ac_cv_prog_make_${ac_make}_set=yes
else
  eval ac_cv_prog_make_${ac_make}_set=no
fi
rm -f conftestmake
fi
if eval "test \"`echo '$ac_cv_prog_make_'${ac_make}_set`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  SET_MAKE=
else
  echo "$ac_t""no" 1>&6
  SET_MAKE="MAKE=${MAKE-make}"
fi


# Find some useful tools
for ac_prog in mawk gawk nawk awk
do
# Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1035: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_AWK'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$AWK"; then
  ac_cv_prog_AWK="$AWK" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_AWK="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
AWK="$ac_cv_prog_AWK"
if test -n "$AWK"; then
  echo "$ac_t""$AWK" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

test -n "$AWK" && break
done

# Extract the first word of "flex", so it can be a program name with args.
set dummy flex; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1067: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_LEX'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$LEX"; then
  ac_cv_prog_LEX="$LEX" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_LEX="flex"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_LEX" && ac_cv_prog_LEX="lex"
fi
fi
LEX="$ac_cv_prog_LEX"
if test -n "$LEX"; then
  echo "$ac_t""$LEX" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

if test -z "$LEXLIB"
then
  case "$LEX" in
  flex*) ac_lib=fl ;;
  *) ac_lib=l ;;
  esac
  echo $ac_n "checking for yywrap in -l$ac_lib""... $ac_c" 1>&6
echo "configure:1101: checking for yywrap in -l$ac_lib" >&5
ac_lib_var=`echo $ac_lib'_'yywrap | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-l$ac_lib  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 1109 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char yywrap();

int main() {
yywrap()
; return 0; }
EOF
if { (eval echo configure:1120: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LEXLIB="-l$ac_lib"
else
  echo "$ac_t""no" 1>&6
fi

fi

# Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1145: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_RANLIB="ranlib"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
fi
fi
RANLIB="$ac_cv_prog_RANLIB"
if test -n "$RANLIB"; then
  echo "$ac_t""$RANLIB" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

for ac_prog in 'bison -y' byacc
do
# Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1177: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_YACC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$YACC"; then
  ac_cv_prog_YACC="$YACC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=":"
  ac_dummy="$PATH"
  for ac_dir in $ac_dummy; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_YACC="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
YACC="$ac_cv_prog_YACC"
if test -n "$YACC"; then
  echo "$ac_t""$YACC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

test -n "$YACC" && break
done
test -n "$YACC" || YACC="yacc"

# Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# ./install, which can be erroneously created by make from ./install.sh.
echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
echo "configure:1219: checking for a BSD compatible install" >&5
if test -z "$INSTALL"; then
if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS=":"
  for ac_dir in $PATH; do
    # Account for people who put trailing slashes in PATH elements.
    case "$ac_dir/" in
    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
    *)
      # OSF1 and SCO ODT 3.0 have their own names for install.
      # Don't use installbsd from OSF since it installs stuff as root
      # by default.
      for ac_prog in ginstall scoinst install; do
        if test -f $ac_dir/$ac_prog; then
	  if test $ac_prog = install &&
            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    :
	  else
	    ac_cv_path_install="$ac_dir/$ac_prog -c"
	    break 2
	  fi
	fi
      done
      ;;
    esac
  done
  IFS="$ac_save_IFS"

fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL="$ac_cv_path_install"
  else
    # As a last resort, use the slow shell script.  We don't cache a
    # path for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the path is relative.
    INSTALL="$ac_install_sh"
  fi
fi
echo "$ac_t""$INSTALL" 1>&6

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_SCRIPT" && INSTALL_SCRIPT='${INSTALL_PROGRAM}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'


echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
echo "configure:1273: checking how to run the C preprocessor" >&5
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
if eval "test \"`echo '$''{'ac_cv_prog_CPP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    # This must be in double quotes, not single quotes, because CPP may get
  # substituted into the Makefile and "${CC-cc}" will confuse make.
  CPP="${CC-cc} -E"
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp.
  cat > conftest.$ac_ext <<EOF
#line 1288 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1294: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -E -traditional-cpp"
  cat > conftest.$ac_ext <<EOF
#line 1305 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1311: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -nologo -E"
  cat > conftest.$ac_ext <<EOF
#line 1322 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1328: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP=/lib/cpp
fi
rm -f conftest*
fi
rm -f conftest*
fi
rm -f conftest*
  ac_cv_prog_CPP="$CPP"
fi
  CPP="$ac_cv_prog_CPP"
else
  ac_cv_prog_CPP="$CPP"
fi
echo "$ac_t""$CPP" 1>&6

echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
echo "configure:1353: checking for ANSI C header files" >&5
if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1358 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1366: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  ac_cv_header_stdc=yes
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 1383 "configure"
#include "confdefs.h"
#include <string.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
else
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 1401 "configure"
#include "confdefs.h"
#include <stdlib.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
else
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
if test "$cross_compiling" = yes; then
  :
else
  cat > conftest.$ac_ext <<EOF
#line 1422 "configure"
#include "confdefs.h"
#include <ctype.h>
#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int main () { int i; for (i = 0; i < 256; i++)
if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
exit (0); }

EOF
if { (eval echo configure:1433: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext} && (./conftest; exit) 2>/dev/null
then
  :
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_header_stdc=no
fi
rm -fr conftest*
fi

fi
fi

echo "$ac_t""$ac_cv_header_stdc" 1>&6
if test $ac_cv_header_stdc = yes; then
  cat >> confdefs.h <<\EOF
#define STDC_HEADERS 1
EOF

fi

echo $ac_n "checking whether time.h and sys/time.h may both be included""... $ac_c" 1>&6
echo "configure:1457: checking whether time.h and sys/time.h may both be included" >&5
if eval "test \"`echo '$''{'ac_cv_header_time'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1462 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/time.h>
#include <time.h>
int main() {
struct tm *tp;
; return 0; }
EOF
if { (eval echo configure:1471: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_header_time=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_time=no
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_header_time" 1>&6
if test $ac_cv_header_time = yes; then
  cat >> confdefs.h <<\EOF
#define TIME_WITH_SYS_TIME 1
EOF

fi

for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unistd.h sys/file.h sys/time.h sys/resource.h sys/param.h sys/times.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:1495: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1500 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1505: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out | grep -v "^conftest.${ac_ext}\$"`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done


# Use <inttypes.h> only if it exists,
# doesn't clash with <sys/types.h>, and declares intmax_t.
echo $ac_n "checking for inttypes.h""... $ac_c" 1>&6
echo "configure:1535: checking for inttypes.h" >&5
if eval "test \"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1540 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <inttypes.h>
int main() {
intmax_t i = -1;
; return 0; }
EOF
if { (eval echo configure:1548: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_header_inttypes_h=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_header_inttypes_h=no
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_header_inttypes_h" 1>&6
if test $gcc_cv_header_inttypes_h = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_INTTYPES_H 1
EOF

fi

for ac_func in strerror
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1571: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1576 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1599: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in putenv
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1626: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1631 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1654: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in popen
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1681: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1686 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1709: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in vprintf
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1736: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1741 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1764: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in bcopy
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1791: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1796 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1819: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in bzero
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1846: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1851 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1874: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in bcmp
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1901: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1906 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1929: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in index
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1956: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1961 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1984: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in rindex
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2011: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2016 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2039: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in kill
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2066: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2071 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2094: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in getrlimit
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2121: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2126 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2149: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in setrlimit
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2176: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2181 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2204: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in sysconf
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2231: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2236 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2259: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done


echo $ac_n "checking whether malloc must be declared""... $ac_c" 1>&6
echo "configure:2285: checking whether malloc must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_malloc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2290 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) malloc
; return 0; }
EOF
if { (eval echo configure:2317: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_malloc=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_malloc=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_malloc" 1>&6
if test $gcc_cv_decl_needed_malloc = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo malloc | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether realloc must be declared""... $ac_c" 1>&6
echo "configure:2339: checking whether realloc must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_realloc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2344 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) realloc
; return 0; }
EOF
if { (eval echo configure:2371: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_realloc=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_realloc=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_realloc" 1>&6
if test $gcc_cv_decl_needed_realloc = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo realloc | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether calloc must be declared""... $ac_c" 1>&6
echo "configure:2393: checking whether calloc must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_calloc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2398 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) calloc
; return 0; }
EOF
if { (eval echo configure:2425: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_calloc=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_calloc=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_calloc" 1>&6
if test $gcc_cv_decl_needed_calloc = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo calloc | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether free must be declared""... $ac_c" 1>&6
echo "configure:2447: checking whether free must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_free'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2452 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) free
; return 0; }
EOF
if { (eval echo configure:2479: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_free=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_free=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_free" 1>&6
if test $gcc_cv_decl_needed_free = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo free | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether index must be declared""... $ac_c" 1>&6
echo "configure:2501: checking whether index must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_index'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2506 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) index
; return 0; }
EOF
if { (eval echo configure:2533: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_index=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_index=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_index" 1>&6
if test $gcc_cv_decl_needed_index = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo index | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether rindex must be declared""... $ac_c" 1>&6
echo "configure:2555: checking whether rindex must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_rindex'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2560 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) rindex
; return 0; }
EOF
if { (eval echo configure:2587: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_rindex=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_rindex=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_rindex" 1>&6
if test $gcc_cv_decl_needed_rindex = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo rindex | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether getenv must be declared""... $ac_c" 1>&6
echo "configure:2609: checking whether getenv must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_getenv'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2614 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) getenv
; return 0; }
EOF
if { (eval echo configure:2641: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_getenv=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_getenv=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_getenv" 1>&6
if test $gcc_cv_decl_needed_getenv = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo getenv | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether sbrk must be declared""... $ac_c" 1>&6
echo "configure:2663: checking whether sbrk must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_sbrk'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2668 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) sbrk
; return 0; }
EOF
if { (eval echo configure:2695: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_sbrk=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_sbrk=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_sbrk" 1>&6
if test $gcc_cv_decl_needed_sbrk = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo sbrk | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi


echo $ac_n "checking for sys_siglist declaration in signal.h or unistd.h""... $ac_c" 1>&6
echo "configure:2718: checking for sys_siglist declaration in signal.h or unistd.h" >&5
if eval "test \"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2723 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <signal.h>
/* NetBSD declares sys_siglist in unistd.h.  */
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
int main() {
char *msg = *(sys_siglist + 1);
; return 0; }
EOF
if { (eval echo configure:2735: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_decl_sys_siglist=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_decl_sys_siglist=no
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_decl_sys_siglist" 1>&6
if test $ac_cv_decl_sys_siglist = yes; then
  cat >> confdefs.h <<\EOF
#define SYS_SIGLIST_DECLARED 1
EOF

fi


# File extensions
manext='.1'
objext='.o'



build_xm_file=
build_broken_install=
build_install_headers_dir=install-headers-tar
build_exeext=
host_xm_file=
host_xmake_file=
host_truncate_target=

# Decode the host machine, then the target machine.
# For the host machine, we save the xm_file variable as host_xm_file;
# then we decode the target machine and forget everything else
# that came from the host machine.
for machine in $build $host $target; do

	out_file=
	xmake_file=
	tmake_file=
	extra_headers=
	extra_passes=
	extra_parts=
	extra_programs=
	extra_objs=
	extra_host_objs=
	extra_gcc_objs=
	float_format=
	# Set this to force installation and use of collect2.
	use_collect2=
	# Set this to override the default target model.
	target_cpu_default=
	# Set this to force use of install.sh.
	broken_install=
	# Set this to control which fixincludes program to use.
	fixincludes=fixincludes
	# Set this to control how the header file directory is installed.
	install_headers_dir=install-headers-tar
	# Set this to a non-empty list of args to pass to cpp if the target
	# wants its .md file passed through cpp.
	md_cppflags=
	# Set this if directory names should be truncated to 14 characters.
	truncate_target=
	# Set this if gdb needs a dir command with `dirname $out_file`
	gdb_needs_out_file_path=
	# Set this if the build machine requires executables to have a
	# file name suffix.
	exeext=

	# Set default cpu_type, tm_file and xm_file so it can be updated in
	# each machine entry.
	cpu_type=`echo $machine | sed 's/-.*$//'`
	case $machine in
	alpha*-*-*)
		cpu_type=alpha
		;;
	arm*-*-*)
		cpu_type=arm
		;;
	c*-convex-*)
		cpu_type=convex
		;;
	i[34567]86-*-*)
		cpu_type=i386
		;;
	hppa*-*-*)
		cpu_type=pa
		;;
	m68000-*-*)
		cpu_type=m68k
		;;
	mips*-*-*)
		cpu_type=mips
		;;
	powerpc*-*-*)
		cpu_type=rs6000
		;;
	pyramid-*-*)
		cpu_type=pyr
		;;
	sparc*-*-*)
		cpu_type=sparc
		;;
	esac

	tm_file=${cpu_type}/${cpu_type}.h
	xm_file=${cpu_type}/xm-${cpu_type}.h
	
	# Common parts for openbsd systems
	case $machine in
	*-*-openbsd*)
		tm_file=${cpu_type}/openbsd.h
		# On OpenBSD systems, the headers are okay
		fixincludes=Makefile.in
		tmake_file="t-libc-ok t-openbsd"
		# avoid surprises, always provide an xm-openbsd file 
		xm_file=${cpu_type}/xm-openbsd.h
		;;
	esac
	case $machine in
	# Support site-specific machine types.
	*local*)
		cpu_type=`echo $machine | sed -e 's/-.*//'`
		rest=`echo $machine | sed -e "s/$cpu_type-//"`
		xm_file=${cpu_type}/xm-$rest.h
		tm_file=${cpu_type}/$rest.h
		if [ -f $srcdir/config/${cpu_type}/x-$rest ] ; \
		then xmake_file=${cpu_type}/x-$rest; \
		else true; \
		fi
		if [ -f $srcdir/config/${cpu_type}/t-$rest ] ; \
		then tmake_file=${cpu_type}/t-$rest; \
		else true; \
		fi
		;;
	1750a-*-*)
		;;
	a29k-*-bsd* | a29k-*-sym1*)
		tm_file="${tm_file} a29k/unix.h"
		xm_file=a29k/xm-unix.h
		xmake_file=a29k/x-unix
		use_collect2=yes
		;;
	a29k-*-udi | a29k-*-coff)
		tm_file="${tm_file} dbxcoff.h a29k/udi.h"
		tmake_file=a29k/t-a29kbare
		;;
	a29k-*-vxworks*)
		tm_file="${tm_file} dbxcoff.h a29k/udi.h a29k/vx29k.h"
		tmake_file=a29k/t-vx29k
		extra_parts="crtbegin.o crtend.o"
		;;
	a29k-*-*)			# Default a29k environment.
		use_collect2=yes
		;;
	alpha*-*-linux-gnuecoff*)
		tm_file="${tm_file} alpha/linux.h"
		xm_file="${xm_file} alpha/xm-linux.h"
		target_cpu_default="MASK_GAS"
		gas=no
		xmake_file=none
		fixincludes=Makefile.in
		gas=yes gnu_ld=yes
		;;
	alpha*-*-linux-gnulibc1*)
		tm_file="${tm_file} alpha/linux.h alpha/elf.h"
		xm_file="${xm_file} alpha/xm-linux.h"
		target_cpu_default="MASK_GAS"
		tmake_file="t-linux t-linux-gnulibc1 alpha/t-linux"
		xmake_file=none
		fixincludes=Makefile.in
		gas=yes gnu_ld=yes
 		if [ x$enable_threads = xyes ]; then
 			thread_file='posix'
 		fi
		;;
	alpha*-*-linux-gnu*)
		tm_file="${tm_file} alpha/linux.h alpha/elf.h"
		xm_file="${xm_file} alpha/xm-linux.h"
		target_cpu_default="MASK_GAS"
		tmake_file="t-linux alpha/t-linux"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		xmake_file=none
		fixincludes=Makefile.in
		gas=yes gnu_ld=yes
 		if [ x$enable_threads = xyes ]; then
 			thread_file='posix'
 		fi
		;;
	alpha-*-openbsd*)
		# default x-alpha is only appropriate for dec-osf.
		xmake_file=none
		;;
	alpha*-dec-osf*)
		if [ x$stabs = xyes ]
		then
			tm_file="${tm_file} dbx.h"
		fi
		if [ x$gas != xyes ]
		then
			extra_passes="mips-tfile mips-tdump"
		fi
		broken_install=yes
		use_collect2=yes
		case $machine in
		  *-*-osf1.2)
		    tm_file="${tm_file} alpha/osf12.h alpha/osf2or3.h"
		    ;;
		  *-*-osf[23]*)
		    tm_file="${tm_file} alpha/osf2or3.h"
		    ;;
		  *-*-osf4*)
		    # Some versions of OSF4 (specifically X4.0-9 296.7) have
		    # a broken tar, so we use cpio instead.
		    install_headers_dir=install-headers-cpio
		    ;;
		esac
		case $machine in
		  *-*-osf4.0[b-z] | *-*-osf4.[1-9]*)
		    target_cpu_default=MASK_SUPPORT_ARCH
		    ;;
		esac
		;;
	alpha*-*-winnt3*)
		tm_file="${tm_file} alpha/win-nt.h"
		target_cpu_default=MASK_WINDOWS_NT
		xm_file="${xm_file} config/winnt/xm-winnt.h alpha/xm-winnt.h"
		tmake_file=t-libc-ok
		xmake_file=winnt/x-winnt
		extra_host_objs=oldnames.o
		extra_gcc_objs="spawnv.o oldnames.o"
		fixincludes=fixinc.winnt
		if [ x$gnu_ld != xyes ]
		then
			extra_programs=ld.exe
		fi
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
		;;
	alpha*-dec-vms*)
		tm_file=alpha/vms.h
		xm_file="${xm_file} alpha/xm-vms.h"
		tmake_file=alpha/t-vms
		fixincludes=Makefile.in
		;;
	arc-*-elf*)
		extra_parts="crtinit.o crtfini.o"
		;;
	arm-*-coff* | armel-*-coff*)
		tm_file=arm/coff.h
		tmake_file=arm/t-bare
		;;
	arm-*-riscix1.[01]*)		# Acorn RISC machine (early versions)
		tm_file=arm/riscix1-1.h
		use_collect2=yes
		;;
	arm-*-riscix*)			# Acorn RISC machine
		if [ x$gas = xyes ]
		then
		    tm_file=arm/rix-gas.h
		else
		    tm_file=arm/riscix.h
		fi
		xmake_file=arm/x-riscix
		tmake_file=arm/t-riscix
		use_collect2=yes
		;;
	arm-semi-aout | armel-semi-aout)
		tm_file=arm/semi.h
		tmake_file=arm/t-semi
		fixincludes=Makefile.in # There is nothing to fix
		;;
	arm-semi-aof | armel-semi-aof)
		tm_file=arm/semiaof.h
		tmake_file=arm/t-semiaof
		fixincludes=Makefile.in # There is nothing to fix
		;;
	arm-*-netbsd*)
		tm_file=arm/netbsd.h
		xm_file=arm/xm-netbsd.h
		tmake_file="t-netbsd arm/t-netbsd"
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		;;
	arm-*-linux-gnuaout*)		# ARM GNU/Linux
		cpu_type=arm
		xm_file=arm/xm-linux.h
		xmake_file=x-linux
		tm_file=arm/linux-gas.h
		tmake_file=arm/t-linux
		fixincludes=Makefile.in
		broken_install=yes
		gnu_ld=yes
		;;
	arm-*-aout)
		tm_file=arm/aout.h
		tmake_file=arm/t-bare
		;;
	c1-convex-*)			# Convex C1
		target_cpu_default=1
		use_collect2=yes
		fixincludes=Makefile.in
		;;
	c2-convex-*)			# Convex C2
		target_cpu_default=2
		use_collect2=yes
		fixincludes=Makefile.in
		;;
	c32-convex-*)
		target_cpu_default=4
		use_collect2=yes
		fixincludes=Makefile.in
		;;
	c34-convex-*)
		target_cpu_default=8
		use_collect2=yes
		fixincludes=Makefile.in
		;;
	c38-convex-*)
		target_cpu_default=16		
		use_collect2=yes
		fixincludes=Makefile.in
		;;
	clipper-intergraph-clix*)
		tm_file="${tm_file} svr3.h clipper/clix.h"
		xm_file=clipper/xm-clix.h
		xmake_file=clipper/x-clix
		extra_headers=va-clipper.h
		extra_parts="crtbegin.o crtend.o"
		install_headers_dir=install-headers-cpio
		broken_install=yes
		;;
	dsp16xx-*)
		;;
	elxsi-elxsi-*)
		use_collect2=yes
		;;
# This hasn't been upgraded to GCC 2.
#	fx80-alliant-*)			# Alliant FX/80
#		;;
	h8300-*-*)
		float_format=i32
		;;
	hppa1.1-*-pro*)
		tm_file="pa/pa-pro.h ${tm_file} pa/pa-pro-end.h libgloss.h"
		xm_file=pa/xm-papro.h
		tmake_file=pa/t-pro
		;;
	hppa1.1-*-osf*)
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-osf.h"
		use_collect2=yes
		fixincludes=Makefile.in
		;;
	hppa1.1-*-rtems*)
		tm_file="pa/pa-pro.h ${tm_file} pa/pa-pro-end.h libgloss.h pa/rtems.h"
		xm_file=pa/xm-papro.h
		tmake_file=pa/t-pro
		;;
	hppa1.0-*-osf*)
		tm_file="${tm_file} pa/pa-osf.h"
		use_collect2=yes
		fixincludes=Makefile.in
		;;
	hppa1.1-*-bsd*)
		target_cpu_default=1
		use_collect2=yes
		fixincludes=Makefile.in
		;;
	hppa1.0-*-bsd*)
		use_collect2=yes
		fixincludes=Makefile.in
		;;
	hppa1.0-*-hpux7*)
		tm_file="pa/pa-oldas.h ${tm_file} pa/pa-hpux7.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/gas.h"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.0-*-hpux8.0[0-2]*)
		tm_file="${tm_file} pa/pa-hpux.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		else
			tm_file="pa/pa-oldas.h ${tm_file}"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.1-*-hpux8.0[0-2]*)
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-hpux.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		else
			tm_file="pa/pa-oldas.h ${tm_file}"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.1-*-hpux8*)
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-hpux.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.0-*-hpux8*)
		tm_file="${tm_file} pa/pa-hpux.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.1-*-hpux10*)
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hpux10.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.0-*-hpux10*)
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hpux10.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.1-*-hpux*)
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hpux9.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.0-*-hpux*)
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hpux9.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.1-*-hiux*)
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hiux.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.0-*-hiux*)
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hiux.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa*-*-lites*)
		target_cpu_default=1
		use_collect2=yes
		fixincludes=Makefile.in
		;;
	hppa*-*-openbsd*)
		target_cpu_default=1
		tmake_file=pa/t-openbsd
		use_collect2=yes
		;;
	i370-*-mvs*)
		;;
	i[34567]86-ibm-aix*)		# IBM PS/2 running AIX
                if [ x$gas = xyes ]
		then
			tm_file=i386/aix386.h
			extra_parts="crtbegin.o crtend.o"
			tmake_file=i386/t-crtstuff
		else
			tm_file=i386/aix386ng.h
			use_collect2=yes
		fi
		xm_file=i386/xm-aix.h
		xmake_file=i386/x-aix
		broken_install=yes
		;;
	i486-ncr-sysv4*)		# NCR 3000 - i486 running system V.4
		xm_file=i386/xm-sysv4.h
		xmake_file=i386/x-ncr3000
		if [ x$stabs = xyes -a x$gas = xyes ]
		then
			tm_file=i386/sysv4gdb.h
		else
			tm_file=i386/sysv4.h
		fi
		extra_parts="crtbegin.o crtend.o"
		tmake_file=i386/t-crtpic
		;;
	i[34567]86-next-*)
		tm_file=i386/next.h
		xm_file=i386/xm-next.h
		tmake_file=i386/t-next
		xmake_file=i386/x-next
		extra_objs=nextstep.o
 		if [ x$enable_threads = xyes ]; then
			thread_file='mach'
		fi
		;;
	i[34567]86-sequent-bsd*) 		# 80386 from Sequent
		use_collect2=yes
		if [ x$gas = xyes ]
		then
			tm_file=i386/seq-gas.h
		else
			tm_file=i386/sequent.h
		fi
		;;
	i[34567]86-sequent-ptx1*)
		xm_file=i386/xm-sysv3.h
		xmake_file=i386/x-sysv3
		tm_file=i386/seq-sysv3.h
		tmake_file=i386/t-crtstuff
		fixincludes=fixinc.ptx
		extra_parts="crtbegin.o crtend.o"
		install_headers_dir=install-headers-cpio
		broken_install=yes
		;;
	i[34567]86-sequent-ptx2* | i[34567]86-sequent-sysv3*)
		xm_file=i386/xm-sysv3.h
		xmake_file=i386/x-sysv3
		tm_file=i386/seq2-sysv3.h
		tmake_file=i386/t-crtstuff
		extra_parts="crtbegin.o crtend.o"
		fixincludes=fixinc.ptx
		install_headers_dir=install-headers-cpio
		broken_install=yes
		;;
	i[34567]86-sequent-ptx4* | i[34567]86-sequent-sysv4*)
		xm_file=i386/xm-sysv4.h
		xmake_file=x-svr4
		tm_file=i386/ptx4-i.h
		tmake_file=t-svr4
		extra_parts="crtbegin.o crtend.o"
		fixincludes=fixinc.ptx
		install_headers_dir=install-headers-cpio
		broken_install=yes
		;;
	i386-sun-sunos*)		# Sun i386 roadrunner
		xm_file=i386/xm-sun.h
		tm_file=i386/sun.h
		use_collect2=yes
		;;
	i[34567]86-*-aout*)
		tm_file=i386/i386-aout.h
		tmake_file=i386/t-i386bare
		;;
	i[34567]86-*-bsdi* | i[34567]86-*-bsd386*)
		tm_file=i386/bsd386.h
		xm_file=i386/xm-bsd386.h
#		tmake_file=t-libc-ok
		;;
	i[34567]86-*-bsd*)
		tm_file=i386/386bsd.h
		xm_file=i386/xm-bsd386.h
#		tmake_file=t-libc-ok
# Next line turned off because both 386BSD and BSD/386 use GNU ld.
#		use_collect2=yes
		;;
	i[34567]86-*-freebsdelf*)
		tm_file="i386/i386.h i386/att.h linux.h i386/freebsd-elf.h i386/perform.h"
		# On FreeBSD, the headers are already ok, except for math.h.
		fixincludes=fixinc.math
		tmake_file=i386/t-freebsd
		gas=yes
		gnu_ld=yes
		stabs=yes
		;;
	i[34567]86-*-freebsd*)
		tm_file=i386/freebsd.h
		# On FreeBSD, the headers are already ok, except for math.h.
		fixincludes=fixinc.math
		tmake_file=i386/t-freebsd
		;;
	i[34567]86-*-netbsd*)
		tm_file=i386/netbsd.h
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
		;;
	i[34567]86-*-openbsd*)
		# Nothing special
		;;
	i[34567]86-*-coff*)
		tm_file=i386/i386-coff.h
		tmake_file=i386/t-i386bare
		;;
	i[34567]86-*-isc*)		# 80386 running ISC system
		xm_file=i386/xm-isc.h
		case $machine in
		  i[34567]86-*-isc[34]*)
		    xmake_file=i386/x-isc3
		    ;;
		  *)
		    xmake_file=i386/x-isc
		    ;;
		esac
                if [ x$gas = xyes -a x$stabs = xyes ]
		then
			tm_file=i386/iscdbx.h
			tmake_file=i386/t-svr3dbx
			extra_parts="svr3.ifile svr3z.ifile"
		else
			tm_file=i386/isccoff.h
			tmake_file=i386/t-crtstuff
			extra_parts="crtbegin.o crtend.o"
		fi
		install_headers_dir=install-headers-cpio
		broken_install=yes
		;;
	i[34567]86-*-linux-gnuoldld*)	# Intel 80386's running GNU/Linux
		xm_file=i386/xm-linux.h # with a.out format using pre BFD linkers
		xmake_file=x-linux-aout
		tmake_file="t-linux-aout i386/t-crtstuff"
		tm_file=i386/linux-oldld.h
		fixincludes=Makefile.in
		broken_install=yes
		gnu_ld=yes
		;;
	i[34567]86-*-linux-gnuaout*)	# Intel 80386's running GNU/Linux
		xm_file=i386/xm-linux.h		# with a.out format
		xmake_file=x-linux-aout
		tmake_file="t-linux-aout i386/t-crtstuff"
		tm_file=i386/linux-aout.h
		fixincludes=Makefile.in #The headers are ok already.
		broken_install=yes
		gnu_ld=yes
		;;
	i[34567]86-*-linux-gnulibc1)
		xm_file=i386/xm-linux.h	# Intel 80386's running GNU/Linux
		xmake_file=x-linux	# with ELF format using the
		tm_file=i386/linux.h	# GNU/Linux C library 5
		tmake_file="t-linux t-linux-gnulibc1 i386/t-crtstuff"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
		broken_install=yes
		gnu_ld=yes
 		if [ x$enable_threads = xyes ]; then
 			thread_file='single'
 		fi
		;;
	i[34567]86-*-linux-gnu*)	# Intel 80386's running GNU/Linux
		xm_file=i386/xm-linux.h # with ELF format using glibc 2
		xmake_file=x-linux	# aka GNU/Linux C library 6
		tm_file=i386/linux.h
		tmake_file="t-linux i386/t-crtstuff"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
		broken_install=yes
		gnu_ld=yes
 		if [ x$enable_threads = xyes ]; then
 			thread_file='posix'
 		fi
		;;
	i[34567]86-*-gnu*)
		;;
	i[34567]86-go32-msdos | i[34567]86-*-go32*)
		xm_file=i386/xm-go32.h
		tm_file=i386/go32.h
		tmake_file=i386/t-go32
		;;
	i[34567]86-pc-msdosdjgpp*)
		xm_file=i386/xm-go32.h
		tm_file=i386/go32.h
		tmake_file=i386/t-go32
		gnu_ld=yes
		gas=yes
		;;
	i[34567]86-moss-msdos* | i[34567]86-*-moss*)
		tm_file=i386/moss.h
		tmake_file=t-libc-ok
		fixincludes=Makefile.in
		gnu_ld=yes
		gas=yes
		;;
	i[34567]86-*-lynxos*)
		if [ x$gas = xyes ]
		then
			tm_file=i386/lynx.h
		else
			tm_file=i386/lynx-ng.h
		fi
		xm_file=i386/xm-lynx.h
		tmake_file=i386/t-i386bare
		xmake_file=x-lynx
		;;
	i[34567]86-*-mach*)
		tm_file=i386/mach.h
#		tmake_file=t-libc-ok
		use_collect2=yes
		;;
	i[34567]86-*-osfrose*)		# 386 using OSF/rose
                if [ x$elf = xyes ]
		then
			tm_file=i386/osfelf.h
			use_collect2=
		else
			tm_file=i386/osfrose.h
			use_collect2=yes
		fi
		xm_file=i386/xm-osf.h
		xmake_file=i386/x-osfrose
		tmake_file=i386/t-osf
		extra_objs=halfpic.o
		;;
	i[34567]86-go32-rtems*)
		cpu_type=i386
		xm_file=i386/xm-go32.h
		tm_file=i386/go32-rtems.h
		tmake_file="i386/t-go32 t-rtems"
		;;
	i[34567]86-*-rtems*)
		cpu_type=i386
		tm_file=i386/rtems.h
		tmake_file="i386/t-i386bare t-rtems"
		;;
	i[34567]86-*-sco3.2v5*)		# 80386 running SCO Open Server 5
		xm_file=i386/xm-sco5.h
		xmake_file=i386/x-sco5
		fixincludes=fixinc.sco
		broken_install=yes
		install_headers_dir=install-headers-cpio
		tm_file=i386/sco5.h
		tmake_file=i386/t-sco5
		extra_parts="crtbegin.o crtend.o crtbeginS.o crtendS.o"
		;;
	i[34567]86-*-sco3.2v4*)	 	# 80386 running SCO 3.2v4 system
		xm_file=i386/xm-sco.h
		xmake_file=i386/x-sco4
		fixincludes=fixinc.sco
		broken_install=yes
		install_headers_dir=install-headers-cpio
                if [ x$stabs = xyes ]
		then
			tm_file=i386/sco4dbx.h
			tmake_file=i386/t-svr3dbx
			extra_parts="svr3.ifile svr3z.rfile"
		else
			tm_file=i386/sco4.h
			tmake_file=i386/t-crtstuff
			extra_parts="crtbegin.o crtend.o"
		fi
		truncate_target=yes
		;;
	i[34567]86-*-sco*)	 	# 80386 running SCO system
		xm_file=i386/xm-sco.h
		xmake_file=i386/x-sco
		broken_install=yes
		install_headers_dir=install-headers-cpio
                if [ x$stabs = xyes ]
		then
			tm_file=i386/scodbx.h
			tmake_file=i386/t-svr3dbx
			extra_parts="svr3.ifile svr3z.rfile"
		else
			tm_file=i386/sco.h
			extra_parts="crtbegin.o crtend.o"
			tmake_file=i386/t-crtstuff
		fi
		truncate_target=yes
		;;
	i[34567]86-*-solaris2*)
		xm_file=i386/xm-sysv4.h
		if [ x$stabs = xyes ]
		then
			tm_file=i386/sol2dbg.h
		else
			tm_file=i386/sol2.h
		fi
		tmake_file=i386/t-sol2
		extra_parts="crt1.o crti.o crtn.o gcrt1.o gmon.o crtbegin.o crtend.o"
		xmake_file=x-svr4
		fixincludes=fixinc.math
		broken_install=yes
 		if [ x$enable_threads = xyes ]; then
			thread_file='solaris'
		fi
		;;
	i[34567]86-*-sysv4*)		# Intel 80386's running system V.4
		xm_file=i386/xm-sysv4.h
		tm_file=i386/sysv4.h
		if [ x$stabs = xyes ]
		then
			tm_file="${tm_file} dbx.h"
		fi
		tmake_file=i386/t-crtpic
		xmake_file=x-svr4
		extra_parts="crtbegin.o crtend.o"
		;;
	i[34567]86-*-sysv*)		# Intel 80386's running system V
		xm_file=i386/xm-sysv3.h
		xmake_file=i386/x-sysv3
		if [ x$gas = xyes ]
		then
			if [ x$stabs = xyes ]
			then
				tm_file=i386/svr3dbx.h
				tmake_file=i386/t-svr3dbx
				extra_parts="svr3.ifile svr3z.rfile"
			else
				tm_file=i386/svr3gas.h
				extra_parts="crtbegin.o crtend.o"
				tmake_file=i386/t-crtstuff
			fi
		else
			tm_file=i386/sysv3.h
			extra_parts="crtbegin.o crtend.o"
			tmake_file=i386/t-crtstuff
		fi
		;;
	i386-*-vsta)			# Intel 80386's running VSTa kernel
		xm_file=i386/xm-vsta.h
		tm_file=i386/vsta.h
		tmake_file=i386/t-vsta
		xmake_file=i386/x-vsta
		;;
	i[34567]86-*-pe | i[34567]86-*-cygwin32)
		xm_file="${xm_file} i386/xm-cygwin32.h"
		tmake_file=i386/t-cygwin32
		tm_file=i386/cygwin32.h
		xmake_file=i386/x-cygwin32
		extra_objs=winnt.o
		fixincludes=Makefile.in
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
		exeext=.exe
		;;
	i[34567]86-*-mingw32*)
		tm_file=i386/mingw32.h
		xm_file="${xm_file} i386/xm-mingw32.h"
		tmake_file=i386/t-cygwin32
		extra_objs=winnt.o
		xmake_file=i386/x-cygwin32
		fixincludes=Makefile.in
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
		exeext=.exe
		case $machine in
			*mingw32msv*)
				;;
			*minwg32crt* | *mingw32*)
				tm_file="${tm_file} i386/crtdll.h"
				;;
		esac
		;;
	i[34567]86-*-winnt3*)
		tm_file=i386/win-nt.h
		out_file=i386/i386.c
		xm_file=i386/xm-winnt.h
		xmake_file=winnt/x-winnt
		tmake_file=i386/t-winnt
		extra_host_objs="winnt.o oldnames.o"
		extra_gcc_objs="spawnv.o oldnames.o"
		fixincludes=fixinc.winnt
		if [ x$gnu_ld != xyes ]
		then
			extra_programs=ld.exe
		fi
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
		;;
	i[34567]86-dg-dgux*)
		xm_file=i386/xm-dgux.h
		out_file=i386/dgux.c
		tm_file=i386/dgux.h
		tmake_file=i386/t-dgux
		xmake_file=i386/x-dgux
		fixincludes=Makefile.in # There is nothing to fix
		install_headers_dir=install-headers-cpio
              ;;
	i860-alliant-*)		# Alliant FX/2800
		tm_file="${tm_file} svr4.h i860/sysv4.h i860/fx2800.h"
		xm_file="${xm_file}"
		xmake_file=i860/x-fx2800
		tmake_file=i860/t-fx2800
		extra_parts="crtbegin.o crtend.o"
		;;
	i860-*-bsd*)
		tm_file="${tm_file} i860/bsd.h"
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} i860/bsd-gas.h"
		fi
		use_collect2=yes
		;;
	i860-*-mach*)
		tm_file="${tm_file} i860/mach.h"
		tmake_file=t-libc-ok
		;;
	i860-*-osf*)			# Intel Paragon XP/S, OSF/1AD
		tm_file="${tm_file} svr3.h i860/paragon.h"
		xm_file="${xm_file} xm-svr3.h"
		tmake_file=t-osf
		broken_install=yes
		;;
	i860-*-sysv3*)
		tm_file="${tm_file} svr3.h i860/sysv3.h"
		xm_file="${tm_file} xm-svr3.h"
		xmake_file=i860/x-sysv3
		extra_parts="crtbegin.o crtend.o"
		;;
	i860-*-sysv4*)
		tm_file="${tm_file} svr4.h i860/sysv4.h"
		xm_file="${xm_file} xm-svr3.h"
		xmake_file=i860/x-sysv4
		tmake_file=t-svr4
		extra_parts="crtbegin.o crtend.o"
		;;
	i960-wrs-vxworks5 | i960-wrs-vxworks5.0*)
		tm_file="${tm_file} i960/vx960.h"
		tmake_file=i960/t-vxworks960
		use_collect2=yes
		;;
	i960-wrs-vxworks5* | i960-wrs-vxworks)
		tm_file="${tm_file} dbxcoff.h i960/i960-coff.h i960/vx960-coff.h"
		tmake_file=i960/t-vxworks960
		use_collect2=yes
		;;
	i960-wrs-vxworks*)
		tm_file="${tm_file} i960/vx960.h"
		tmake_file=i960/t-vxworks960
		use_collect2=yes
		;;
	i960-*-coff*)
		tm_file="${tm_file} dbxcoff.h i960/i960-coff.h libgloss.h"
		tmake_file=i960/t-960bare
		use_collect2=yes
		;;
	i960-*-rtems)
		tmake_file="i960/t-960bare t-rtems"
		tm_file="${tm_file} dbxcoff.h i960/rtems.h"
		use_collect2=yes
		;;
	i960-*-*)			# Default i960 environment.
		use_collect2=yes
		;;
	m32r-*-elf*)
		extra_parts="crtinit.o crtfini.o"
		;;
	m68000-convergent-sysv*)
		tm_file=m68k/ctix.h
		xm_file=m68k/xm-3b1.h
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68000-hp-bsd*)			# HP 9000/200 running BSD
		tm_file=m68k/hp2bsd.h
		xmake_file=m68k/x-hp2bsd
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68000-hp-hpux*)		# HP 9000 series 300
		xm_file=m68k/xm-hp320.h
		if [ x$gas = xyes ]
		then
			xmake_file=m68k/x-hp320g
			tm_file=m68k/hp310g.h
		else
			xmake_file=m68k/x-hp320
			tm_file=m68k/hp310.h
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68000-sun-sunos3*)
		tm_file=m68k/sun2.h
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68000-sun-sunos4*)
		tm_file=m68k/sun2o4.h
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68000-att-sysv*)
		xm_file=m68k/xm-3b1.h
		if [ x$gas = xyes ]
		then
			tm_file=m68k/3b1g.h
		else
			tm_file=m68k/3b1.h
		fi
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-apple-aux*)		# Apple Macintosh running A/UX
		xm_file=m68k/xm-aux.h
		tmake_file=m68k/t-aux
		broken_install=yes
		install_headers_dir=install-headers-cpio
		extra_headers=math-68881.h
		extra_parts="crt1.o mcrt1.o maccrt1.o crt2.o crtn.o"
		tm_file=
		if [ "$gnu_ld" = yes ]
		then
			tm_file="${tm_file} m68k/auxgld.h"
		else
			tm_file="${tm_file} m68k/auxld.h"
		fi
		if [ "$gas" = yes ]
		then
			tm_file="${tm_file} m68k/auxgas.h"
		else
			tm_file="${tm_file} m68k/auxas.h"
		fi
		tm_file="${tm_file} m68k/a-ux.h"
		;;
	m68k-apollo-*)
		tm_file=m68k/apollo68.h
		xmake_file=m68k/x-apollo68
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-altos-sysv*)		   # Altos 3068
		if [ x$gas = xyes ]
		then
		        tm_file=m68k/altos3068.h
		        xm_file=m68k/xm-altos3068.h
		else
			echo "The Altos is supported only with the GNU assembler" 1>&2
			exit 1
		fi
		extra_headers=math-68881.h
	        ;;
	m68k-bull-sysv*)		# Bull DPX/2
		if [ x$gas = xyes ]
		then
			if [ x$stabs = xyes ]
			then
				tm_file=m68k/dpx2cdbx.h
			else
				tm_file=m68k/dpx2g.h
			fi
		else
			tm_file=m68k/dpx2.h
		fi
		xm_file=m68k/xm-m68kv.h
		xmake_file=m68k/x-dpx2
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-atari-sysv4*)              # Atari variant of V.4.
		tm_file=m68k/atari.h
		xm_file=m68k/xm-atari.h
		tmake_file=t-svr4
		extra_parts="crtbegin.o crtend.o"
		extra_headers=math-68881.h
		;;
	m68k-motorola-sysv*)
		tm_file=m68k/mot3300.h
		xm_file=m68k/xm-mot3300.h
		if [ x$gas = xyes ]
		then
			xmake_file=m68k/x-mot3300-gas
			if [ x$gnu_ld = xyes ]
			then
				tmake_file=m68k/t-mot3300-gald
			else
				tmake_file=m68k/t-mot3300-gas
				use_collect2=yes
			fi
		else
			xmake_file=m68k/x-mot3300
			if [ x$gnu_ld = xyes ]
			then
				tmake_file=m68k/t-mot3300-gld
			else
				tmake_file=m68k/t-mot3300
				use_collect2=yes
			fi
		fi
		gdb_needs_out_file_path=yes
		extra_parts="crt0.o mcrt0.o"
		extra_headers=math-68881.h
		;;
	m68k-ncr-sysv*)			# NCR Tower 32 SVR3
		tm_file=m68k/tower-as.h
		xm_file="${xm_file} xm-svr3.h"
		xmake_file=m68k/x-tower
		extra_parts="crtbegin.o crtend.o"
		extra_headers=math-68881.h
		;;
        m68k-plexus-sysv*)
		tm_file=m68k/plexus.h
		xm_file=m68k/xm-plexus.h
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-tti-*)
		tm_file=m68k/pbb.h
		xm_file=m68k/xm-m68kv.h
		extra_headers=math-68881.h
		;;
	m68k-crds-unos*)
		xm_file=m68k/xm-crds.h
		xmake_file=m68k/x-crds
		tm_file=m68k/crds.h
		broken_install=yes
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-cbm-sysv4*)		# Commodore variant of V.4.
		tm_file=m68k/amix.h
		xm_file=m68k/xm-amix.h
		xmake_file=m68k/x-amix
		tmake_file=t-svr4
		extra_parts="crtbegin.o crtend.o"
		extra_headers=math-68881.h
		;;
	m68k-ccur-rtu)
		tm_file=m68k/ccur-GAS.h
		xmake_file=m68k/x-ccur
		extra_headers=math-68881.h
		use_collect2=yes
		broken_install=yes
		;;
	m68k-hp-bsd4.4*)		# HP 9000/3xx running 4.4bsd
		tm_file=m68k/hp3bsd44.h
		xmake_file=m68k/x-hp3bsd44
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-hp-bsd*)			# HP 9000/3xx running Berkeley Unix
		tm_file=m68k/hp3bsd.h
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-isi-bsd*)
		if [ x$with_fp = xno ]
		then
			tm_file=m68k/isi-nfp.h
		else
			tm_file=m68k/isi.h
		fi
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-hp-hpux7*)	# HP 9000 series 300 running HPUX version 7.
		xm_file=m68k/xm-hp320.h
		if [ x$gas = xyes ]
		then
			xmake_file=m68k/x-hp320g
			tm_file=m68k/hp320g.h
		else
			xmake_file=m68k/x-hp320
			tm_file=m68k/hpux7.h
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-hp-hpux*)	# HP 9000 series 300
		xm_file=m68k/xm-hp320.h
		if [ x$gas = xyes ]
		then
			xmake_file=m68k/x-hp320g
			tm_file=m68k/hp320g.h
		else
			xmake_file=m68k/x-hp320
			tm_file=m68k/hp320.h
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-sun-mach*)
		tm_file=m68k/sun3mach.h
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-sony-newsos3*)
		if [ x$gas = xyes ]
		then
			tm_file=m68k/news3gas.h
		else
			tm_file=m68k/news3.h
		fi
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-sony-bsd* | m68k-sony-newsos*)
		if [ x$gas = xyes ]
		then
			tm_file=m68k/newsgas.h
		else
			tm_file=m68k/news.h
		fi
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-next-nextstep2*)
		tm_file=m68k/next21.h
		xm_file=m68k/xm-next.h
		tmake_file=m68k/t-next
		xmake_file=m68k/x-next
		extra_objs=nextstep.o
		extra_headers=math-68881.h
		use_collect2=yes
                ;;
	m68k-next-nextstep3*)
		tm_file=m68k/next.h
		xm_file=m68k/xm-next.h
		tmake_file=m68k/t-next
		xmake_file=m68k/x-next
		extra_objs=nextstep.o
		extra_headers=math-68881.h
 		if [ x$enable_threads = xyes ]; then
			thread_file='mach'
		fi
		;;
	m68k-sun-sunos3*)
		if [ x$with_fp = xno ]
		then
			tm_file=m68k/sun3n3.h
		else
			tm_file=m68k/sun3o3.h
		fi
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-sun-sunos*)			# For SunOS 4 (the default).
		if [ x$with_fp = xno ]
		then
			tm_file=m68k/sun3n.h
		else
			tm_file=m68k/sun3.h
		fi
		use_collect2=yes
		extra_headers=math-68881.h
		;;
	m68k-wrs-vxworks*)
		tm_file=m68k/vxm68k.h
		tmake_file=m68k/t-vxworks68
		extra_headers=math-68881.h
		;;
	m68k-*-aout*)
		tmake_file=m68k/t-m68kbare
		tm_file="m68k/m68k-aout.h libgloss.h"
		extra_headers=math-68881.h
		;;
	m68k-*-coff*)
		tmake_file=m68k/t-m68kbare
		tm_file="m68k/m68k-coff.h dbx.h libgloss.h"
		extra_headers=math-68881.h
		;;
	m68k-*-lynxos*)
		if [ x$gas = xyes ]
		then
			tm_file=m68k/lynx.h
		else
			tm_file=m68k/lynx-ng.h
		fi
		xm_file=m68k/xm-lynx.h
		xmake_file=x-lynx
		tmake_file=m68k/t-lynx
		extra_headers=math-68881.h
		;;
	m68k-*-netbsd*)
		tm_file=m68k/netbsd.h
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
		;;
	m68k-*-openbsd*)
		# Nothing special
		;;
	m68k-*-sysv3*)			# Motorola m68k's running system V.3
		xm_file=m68k/xm-m68kv.h
		xmake_file=m68k/x-m68kv
		extra_parts="crtbegin.o crtend.o"
		extra_headers=math-68881.h
		;;
	m68k-*-sysv4*)			# Motorola m68k's running system V.4
		tm_file=m68k/m68kv4.h
		xm_file=m68k/xm-m68kv.h
		tmake_file=t-svr4
		extra_parts="crtbegin.o crtend.o"
		extra_headers=math-68881.h
		;;
	m68k-*-linux-gnuaout*)		# Motorola m68k's running GNU/Linux
		xm_file=m68k/xm-linux.h	# with a.out format
		xmake_file=x-linux
		tm_file=m68k/linux-aout.h
		tmake_file="t-linux-aout m68k/t-linux-aout"
		fixincludes=Makefile.in # The headers are ok already.
		extra_headers=math-68881.h
		gnu_ld=yes
		;;
	m68k-*-linux-gnulibc1)		# Motorola m68k's running GNU/Linux
		xm_file=m68k/xm-linux.h	# with ELF format using the
		xmake_file=x-linux	# GNU/Linux C library 5
		tm_file=m68k/linux.h
		tmake_file="t-linux t-linux-gnulibc1 m68k/t-linux"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
		extra_headers=math-68881.h
		gnu_ld=yes
		;;
	m68k-*-linux-gnu*)		# Motorola m68k's running GNU/Linux
		xm_file=m68k/xm-linux.h	# with ELF format using glibc 2
		xmake_file=x-linux	# aka the GNU/Linux C library 6.
		tm_file=m68k/linux.h
		tmake_file="t-linux m68k/t-linux"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
		extra_headers=math-68881.h
		gnu_ld=yes
		if [ x$enable_threads = xyes ]; then
			thread_file='posix'
		fi
		;;
	m68k-*-psos*)
		tmake_file=m68k/t-m68kbare
		tm_file=m68k/m68k-psos.h
		extra_headers=math-68881.h
		;;
	m68k-*-rtems*)
		tmake_file="m68k/t-m68kbare t-rtems"
		tm_file=m68k/rtems.h
		extra_headers=math-68881.h
		;;

	m88k-dg-dgux*)
		case $machine in
		  m88k-dg-dguxbcs*)
		    tm_file=m88k/dguxbcs.h
		    tmake_file=m88k/t-dguxbcs
		    ;;
		  *)
		    tm_file=m88k/dgux.h
		    tmake_file=m88k/t-dgux
		    ;;
		esac
		extra_parts="crtbegin.o bcscrtbegin.o crtend.o m88kdgux.ld"
		broken_install=yes
		xmake_file=m88k/x-dgux
		if [ x$gas = xyes ]
		then
			tmake_file=m88k/t-dgux-gas
		fi
		fixincludes=fixinc.dgux
		;;
	m88k-dolphin-sysv3*)
		tm_file=m88k/dolph.h
		extra_parts="crtbegin.o crtend.o"
		xm_file=m88k/xm-sysv3.h
		xmake_file=m88k/x-dolph
		if [ x$gas = xyes ]
		then
			tmake_file=m88k/t-m88k-gas
		fi
		;;
	m88k-tektronix-sysv3)
		tm_file=m88k/tekXD88.h
		extra_parts="crtbegin.o crtend.o"
		xm_file=m88k/xm-sysv3.h
		xmake_file=m88k/x-tekXD88
		if [ x$gas = xyes ]
		then
			tmake_file=m88k/t-m88k-gas
		fi
		;;
	m88k-*-aout*)
		tm_file=m88k/m88k-aout.h
		;;
	m88k-*-coff*)
		tm_file=m88k/m88k-coff.h
		tmake_file=m88k/t-bug
		;;
	m88k-*-luna*)
		tm_file=m88k/luna.h
		extra_parts="crtbegin.o crtend.o"
		if [ x$gas = xyes ]
		then
			tmake_file=m88k/t-luna-gas
		else
			tmake_file=m88k/t-luna
		fi
		;;
	m88k-*-openbsd*)
		tmake_file="${tmake_file} m88k/t-openbsd"
		;;
	m88k-*-sysv3*)
		tm_file=m88k/sysv3.h
		extra_parts="crtbegin.o crtend.o"
		xm_file=m88k/xm-sysv3.h
		xmake_file=m88k/x-sysv3
		if [ x$gas = xyes ]
		then
			tmake_file=m88k/t-m88k-gas
		fi
		;;
	m88k-*-sysv4*)
		tm_file=m88k/sysv4.h
		extra_parts="crtbegin.o crtend.o"
		xmake_file=m88k/x-sysv4
		tmake_file=m88k/t-sysv4
		;;
	mips-sgi-irix6*)		# SGI System V.4., IRIX 6
		tm_file=mips/iris6.h
		xm_file=mips/xm-iris6.h
		broken_install=yes
		fixincludes=fixinc.irix
		xmake_file=mips/x-iris6
		tmake_file=mips/t-iris6
 		if [ x$enable_threads = xyes ]; then
			thread_file='irix'
		fi
		;;
	mips-sgi-irix5cross64)		# Irix5 host, Irix 6 target, cross64
		tm_file=mips/cross64.h
		xm_file=mips/xm-iris5.h
		broken_install=yes
		fixincludes=Makefile.in
		xmake_file=mips/x-iris
		tmake_file=mips/t-cross64
		# See comment in mips/iris[56].h files.
		use_collect2=yes
 		if [ x$enable_threads = xyes ]; then
			thread_file='irix'
		fi
		;;
        mips-sni-sysv4)
		if [ x$gas = xyes ]
		then
			if [ x$stabs = xyes ]
			then
				tm_file=mips/iris5gdb.h
			else
				tm_file=mips/sni-gas.h
			fi
		else
			tm_file=mips/sni-svr4.h
		fi
                xm_file=mips/xm-sysv.h
                xmake_file=mips/x-sni-svr4
                tmake_file=mips/t-mips-gas
                if [ x$gnu_ld != xyes ]
                then
                        use_collect2=yes
                fi
                broken_install=yes
                ;;
	mips-sgi-irix5*)		# SGI System V.4., IRIX 5
		if [ x$gas = xyes ]
		then
			tm_file=mips/iris5gas.h
			if [ x$stabs = xyes ]
			then
				tm_file="${tm_file} dbx.h"
			fi
		else
			tm_file=mips/iris5.h
		fi
		xm_file=mips/xm-iris5.h
		broken_install=yes
		fixincludes=fixinc.irix
		xmake_file=mips/x-iris
		# mips-tfile doesn't work yet
		tmake_file=mips/t-mips-gas
		# See comment in mips/iris5.h file.
		use_collect2=yes
 		if [ x$enable_threads = xyes ]; then
			thread_file='irix'
		fi
		;;
	mips-sgi-irix4loser*)		# Mostly like a MIPS.
		tm_file=mips/iris4loser.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xm_file=mips/xm-iris4.h
		broken_install=yes
		xmake_file=mips/x-iris
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-mips-gas
		else
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
 		if [ x$enable_threads = xyes ]; then
			thread_file='irix'
		fi
		;;
	mips-sgi-irix4*)		# Mostly like a MIPS.
		tm_file=mips/iris4.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xm_file=mips/xm-iris4.h
		broken_install=yes
		xmake_file=mips/x-iris
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-mips-gas
		else
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
 		if [ x$enable_threads = xyes ]; then
			thread_file='irix'
		fi
		;;
	mips-sgi-*)			# Mostly like a MIPS.
		tm_file=mips/iris3.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xm_file=mips/xm-iris3.h
		broken_install=yes
		xmake_file=mips/x-iris3
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-mips-gas
		else
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		;;
	mips-dec-osfrose*)		# Decstation running OSF/1 reference port with OSF/rose.
		tm_file=mips/osfrose.h
		xmake_file=mips/x-osfrose
		tmake_file=mips/t-osfrose
		extra_objs=halfpic.o
		use_collect2=yes
		;;
	mips-dec-osf*)			# Decstation running OSF/1 as shipped by DIGITAL
		tm_file=mips/dec-osf1.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xmake_file=mips/x-dec-osf1
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-mips-gas
		else
			tmake_file=mips/t-ultrix
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		;;
	mips-dec-bsd*)                  # Decstation running 4.4 BSD
              tm_file=mips/dec-bsd.h
              fixincludes=
	      if [ x$gas = xyes ]
	      then
		   	tmake_file=mips/t-mips-gas
	      else
			tmake_file=mips/t-ultrix
			extra_passes="mips-tfile mips-tdump"
	      fi
	      if [ x$gnu_ld != xyes ]
	      then
			use_collect2=yes
	      fi
	      ;;
	mips-dec-netbsd*)                  # Decstation running NetBSD
		tm_file=mips/netbsd.h
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
		if [ x$prefix = xNONE ]; then
			prefix=$native_prefix
		fi
		;;
	mips*el-*-openbsd*)  		    # MIPS running OpenBSD
		tm_file=${cpu_type}/openbsd-le.h
		xmake_file=none
		;;
	mips*-*-openbsd*)	    # MIPS big-endian running OpenBSD
		tm_file=${cpu_type}/openbsd-be.h
		xmake_file=none
		;;
	mips-sony-bsd* | mips-sony-newsos*)	# Sony NEWS 3600 or risc/news.
		tm_file=mips/news4.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-mips-gas
		else
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		xmake_file=mips/x-sony
		;;
	mips-sony-sysv*)		# Sony NEWS 3800 with NEWSOS5.0.
					# That is based on svr4.
		# t-svr4 is not right because this system doesn't use ELF.
		tm_file=mips/news5.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xm_file=mips/xm-news.h
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-mips-gas
		else
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		;;
	mips-tandem-sysv4*)		# Tandem S2 running NonStop UX
		tm_file=mips/svr4-t.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xm_file=mips/xm-sysv4.h
		xmake_file=mips/x-sysv
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-mips-gas
			extra_parts="crtbegin.o crtend.o"
		else
			tmake_file=mips/t-mips
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		broken_install=yes
		;;
	mips-*-ultrix* | mips-dec-mach3)	# Decstation.
		tm_file=mips/ultrix.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xmake_file=mips/x-ultrix
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-mips-gas
		else
			tmake_file=mips/t-ultrix
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
	        ;;
	mips-*-riscos[56789]bsd*)
		tm_file=mips/bsd-5.h	# MIPS BSD 4.3, RISC-OS 5.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-bsd-gas
		else
			tmake_file=mips/t-bsd
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		broken_install=yes
	        ;;
	mips-*-bsd* | mips-*-riscosbsd* | mips-*-riscos[1234]bsd*)
		tm_file=mips/bsd-4.h	# MIPS BSD 4.3, RISC-OS 4.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-bsd-gas
		else
			tmake_file=mips/t-bsd
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		broken_install=yes
	        ;;
	mips-*-riscos[56789]sysv4*)
		tm_file=mips/svr4-5.h	# MIPS System V.4., RISC-OS 5.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xm_file=mips/xm-sysv4.h
		xmake_file=mips/x-sysv
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-svr4-gas
		else
			tmake_file=mips/t-svr4
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		broken_install=yes
		;;
	mips-*-sysv4* | mips-*-riscos[1234]sysv4* | mips-*-riscossysv4*)
		tm_file=mips/svr4-4.h	# MIPS System V.4. RISC-OS 4.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xm_file=mips/xm-sysv.h
		xmake_file=mips/x-sysv
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-svr4-gas
		else
			tmake_file=mips/t-svr4
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		broken_install=yes
		;;
	mips-*-riscos[56789]sysv*)
		tm_file=mips/svr3-5.h	# MIPS System V.3, RISC-OS 5.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xm_file=mips/xm-sysv.h
		xmake_file=mips/x-sysv
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-svr3-gas
		else
			tmake_file=mips/t-svr3
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		broken_install=yes
		;;
	mips-*-sysv* | mips-*-riscos*sysv*)
		tm_file=mips/svr3-4.h	# MIPS System V.3, RISC-OS 4.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		xm_file=mips/xm-sysv.h
		xmake_file=mips/x-sysv
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-svr3-gas
		else
			tmake_file=mips/t-svr3
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		broken_install=yes
		;;
	mips-*-riscos[56789]*)		# Default MIPS RISC-OS 5.0.
		tm_file=mips/mips-5.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-mips-gas
		else
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		broken_install=yes
		;;
	mips-*-gnu*)
		;;
	mipsel-*-ecoff*)
		tm_file=mips/ecoffl.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		tmake_file=mips/t-ecoff
		;;
	mips-*-ecoff*)
		tm_file=mips/ecoff.h
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		tmake_file=mips/t-ecoff
		broken_install=yes
		;;
	mipsel-*-elf*)
		tm_file="mips/elfl.h libgloss.h"
		tmake_file=mips/t-ecoff
		;;
	mips-*-elf*)
		tm_file="mips/elf.h libgloss.h"
		tmake_file=mips/t-ecoff
		;;
	mips64el-*-elf*)
		tm_file="mips/elfl64.h libgloss.h"
		tmake_file=mips/t-ecoff
		;;
	mips64orionel-*-elf*)
		tm_file="mips/elflorion.h libgloss.h"
		tmake_file=mips/t-ecoff
		;;
	mips64-*-elf*)
		tm_file="mips/elf64.h libgloss.h"
		tmake_file=mips/t-ecoff
		;;
	mips64orion-*-elf*)
		tm_file="mips/elforion.h libgloss.h"
		tmake_file=mips/t-ecoff
		;;
	mips64orion-*-rtems*)
		tm_file=mips/rtems64.h
		tmake_file="mips/t-ecoff t-rtems"
		;;
	mipstx39el-*-elf*)
		tm_file="mips/r3900.h mips/elfl.h mips/abi64.h libgloss.h"
		tmake_file=mips/t-ecoff
		;;
	mipstx39-*-elf*)
		tm_file="mips/r3900.h mips/elf.h mips/abi64.h libgloss.h"
		tmake_file=mips/t-ecoff
		;;
	mips-*-*)				# Default MIPS RISC-OS 4.0.
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
		fi
		if [ x$gas = xyes ]
		then
			tmake_file=mips/t-mips-gas
		else
			extra_passes="mips-tfile mips-tdump"
		fi
		if [ x$gnu_ld != xyes ]
		then
			use_collect2=yes
		fi
		;;
	mn10200-*-*)
		cpu_type=mn10200
		tm_file="mn10200/mn10200.h"
		if [ x$stabs = xyes ]
		then
			tm_file="${tm_file} dbx.h"
		fi
		use_collect2=no
		;;
	mn10300-*-*)
		cpu_type=mn10300
		tm_file="mn10300/mn10300.h"
		if [ x$stabs = xyes ]
		then
			tm_file="${tm_file} dbx.h"
		fi
		use_collect2=no
		;;
	ns32k-encore-bsd*)
		tm_file=ns32k/encore.h
		use_collect2=yes
		;;
	ns32k-sequent-bsd*)
		tm_file=ns32k/sequent.h
		use_collect2=yes
		;;
	ns32k-tek6100-bsd*)
		tm_file=ns32k/tek6100.h
		broken_install=yes
		use_collect2=yes
		;;
	ns32k-tek6200-bsd*)
		tm_file=ns32k/tek6200.h
		broken_install=yes
		use_collect2=yes
		;;
# This has not been updated to GCC 2.
#	ns32k-ns-genix*)
#		xm_file=ns32k/xm-genix.h
#		xmake_file=ns32k/x-genix
#		tm_file=ns32k/genix.h
#		broken_install=yes
#		use_collect2=yes
#		;;
	ns32k-merlin-*)
		tm_file=ns32k/merlin.h
		use_collect2=yes
		;;
	ns32k-pc532-mach*)
		tm_file=ns32k/pc532-mach.h
		use_collect2=yes
		;;
	ns32k-pc532-minix*)
		tm_file=ns32k/pc532-min.h
		xm_file=ns32k/xm-pc532-min.h
		use_collect2=yes
		;;
	ns32k-pc532-netbsd*)
		tm_file=ns32k/netbsd.h
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
		;;
	ns32k-*-openbsd*)
		# Nothing special
		;;
        pdp11-*-bsd)
		tm_file="${tm_file} pdp11/2bsd.h"
                ;;
        pdp11-*-*)
		;;
	pyramid-*-*)
		cpu_type=pyr
		xmake_file=pyr/x-pyr
		use_collect2=yes
		;;
	romp-*-aos*)
		use_collect2=yes
		;;
	romp-*-openbsd*)
		xmake_file=romp/x-openbsd
		;;
	romp-*-mach*)
		xmake_file=romp/x-mach
		use_collect2=yes
		;;
	powerpc-*-openbsd*)
	   tmake_file=rs6000/t-openbsd
		xmake_file=none
		;;
	powerpc-*-sysv* | powerpc-*-elf*)
		tm_file=rs6000/sysv4.h
		xm_file=rs6000/xm-sysv4.h
		extra_headers=ppc-asm.h
		if [ x$gas = xyes ]
		then
			tmake_file="rs6000/t-ppcos rs6000/t-ppccomm"
		else
			tmake_file="rs6000/t-ppc rs6000/t-ppccomm"
		fi
		xmake_file=rs6000/x-sysv4
		;;
	powerpc-*-eabiaix*)
		tm_file=rs6000/eabiaix.h
		tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
		fixincludes=Makefile.in
		extra_headers=ppc-asm.h
		;;
	powerpc-*-eabisim*)
		tm_file=rs6000/eabisim.h
		tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
		fixincludes=Makefile.in
		extra_headers=ppc-asm.h
		;;
	powerpc-*-eabi*)
		tm_file=rs6000/eabi.h
		if [ x$gas = xyes ]
		then
			tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
		else
			tmake_file="rs6000/t-ppc rs6000/t-ppccomm"
		fi
		fixincludes=Makefile.in
		extra_headers=ppc-asm.h
		;;
	powerpc-*-rtems*)
		tm_file=rs6000/rtems.h
		if [ x$gas = xyes ]
		then
		     tmake_file="rs6000/t-ppcgas t-rtems rs6000/t-ppccomm"
		else
		     tmake_file="rs6000/t-ppc t-rtems rs6000/t-ppccomm"
		fi
		fixincludes=Makefile.in
		extra_headers=ppc-asm.h
		;;
	powerpc-*-linux-gnu*)
		tm_file=rs6000/linux.h
		xm_file=rs6000/xm-sysv4.h
		out_file=rs6000/rs6000.c
		if [ x$gas = xyes ]
		then
			tmake_file="rs6000/t-ppcos t-linux rs6000/t-ppccomm"
		else
			tmake_file="rs6000/t-ppc t-linux rs6000/t-ppccomm"
		fi
		xmake_file=x-linux
		fixincludes=Makefile.in
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		extra_headers=ppc-asm.h
		if [ x$enable_threads = xyes ]; then
			thread_file='posix'
		fi
		;;
        powerpc-*-vxworks*)
                cpu_type=rs6000
                xm_file=rs6000/xm-sysv4.h
                tm_file=rs6000/vxppc.h
                tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
		extra_headers=ppc-asm.h
                ;;
	powerpcle-*-sysv* | powerpcle-*-elf*)
		tm_file=rs6000/sysv4le.h
		xm_file=rs6000/xm-sysv4.h
		if [ x$gas = xyes ]
		then
			tmake_file="rs6000/t-ppcos rs6000/t-ppccomm"
		else
			tmake_file="rs6000/t-ppc rs6000/t-ppccomm"
		fi
		xmake_file=rs6000/x-sysv4
		extra_headers=ppc-asm.h
		;;
	powerpcle-*-eabisim*)
		tm_file=rs6000/eabilesim.h
		tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
		fixincludes=Makefile.in
		extra_headers=ppc-asm.h
		;;
	powerpcle-*-eabi*)
		tm_file=rs6000/eabile.h
		if [ x$gas = xyes ]
		then
			tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
		else
			tmake_file="rs6000/t-ppc rs6000/t-ppccomm"
		fi
		fixincludes=Makefile.in
		extra_headers=ppc-asm.h
		;;
        powerpcle-*-winnt* )
                tm_file=rs6000/win-nt.h
                tmake_file=rs6000/t-winnt
#               extra_objs=pe.o
		fixincludes=Makefile.in
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
		extra_headers=ppc-asm.h
		;;
	powerpcle-*-pe | powerpcle-*-cygwin32)
		tm_file=rs6000/cygwin32.h
		xm_file=rs6000/xm-cygwin32.h
		tmake_file=rs6000/t-winnt
		xmake_file=rs6000/x-cygwin32
#		extra_objs=pe.o
		fixincludes=Makefile.in
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
		exeext=.exe
		extra_headers=ppc-asm.h
		;;
	powerpcle-*-solaris2*)
		tm_file=rs6000/sol2.h
		xm_file=rs6000/xm-sysv4.h
		if [ x$gas = xyes ]
		then
			tmake_file="rs6000/t-ppcos rs6000/t-ppccomm"
		else
			tmake_file="rs6000/t-ppc rs6000/t-ppccomm"
		fi
		xmake_file=rs6000/x-sysv4
		fixincludes=fixinc.math
		extra_headers=ppc-asm.h
		;;
	rs6000-ibm-aix3.[01]*)
		tm_file=rs6000/aix31.h
		xmake_file=rs6000/x-aix31
		use_collect2=yes
		;;
	rs6000-ibm-aix3.2.[456789]* | powerpc-ibm-aix3.2.[456789]*)
		tm_file=rs6000/aix3newas.h
		if [ x$host != x$target ]
		then
			tmake_file=rs6000/t-xnewas
		else
			tmake_file=rs6000/t-newas
		fi
		use_collect2=yes
		;;
	rs6000-ibm-aix[456789].* | powerpc-ibm-aix[456789].*)
		tm_file=rs6000/aix41.h
		if [ x$host != x$target ]
		then
			tmake_file=rs6000/t-xnewas
		else
			tmake_file=rs6000/t-newas
		fi
		xmake_file=rs6000/x-aix31
		use_collect2=yes
		;;
	rs6000-ibm-aix*)
		use_collect2=yes
		;;
	rs6000-bull-bosx)
		use_collect2=yes
		;;
	rs6000-*-mach*)
		tm_file=rs6000/mach.h
		xm_file=rs6000/xm-mach.h
		xmake_file=rs6000/x-mach
		use_collect2=yes
		;;
	rs6000-*-lynxos*)
		tm_file=rs6000/lynx.h
		xm_file=rs6000/xm-lynx.h
		tmake_file=rs6000/t-rs6000
		xmake_file=rs6000/x-lynx
		use_collect2=yes
		;;
	sh-*-elf*)
		tm_file=sh/elf.h
		float_format=sh
		;;
	sh-*-rtems*)
		tmake_file="sh/t-sh t-rtems"
		tm_file=sh/rtems.h
		float_format=sh
		;;
	sh-*-*)
		float_format=sh
		;;
	sparc-tti-*)
		tm_file=sparc/pbd.h
		xm_file=sparc/xm-pbd.h
		;;
	sparc-wrs-vxworks* | sparclite-wrs-vxworks*)
		tm_file=sparc/vxsparc.h
		tmake_file=sparc/t-vxsparc
		use_collect2=yes
		;;
	sparc-*-aout*)
		tmake_file=sparc/t-sparcbare
		tm_file="sparc/aout.h libgloss.h"
		;;
	sparc-*-netbsd*)
		tm_file=sparc/netbsd.h
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
		;;
	sparc-*-openbsd*)
		# Nothing special
		;;
	sparc-*-bsd*)
		tm_file=sparc/bsd.h
		;;
	sparc-*-elf*)
		tm_file=sparc/elf.h
		tmake_file=sparc/t-elf
		extra_parts="crti.o crtn.o crtbegin.o crtend.o"
		#float_format=i128
		float_format=i64
		;;
	sparc-*-linux-gnuaout*)		# Sparc's running GNU/Linux, a.out
		xm_file="sparc/xm-sparc.h sparc/xm-linux.h"
		tm_file=sparc/linux-aout.h
		xmake_file=x-linux
		fixincludes=Makefile.in # The headers are ok already.
		broken_install=yes
		gnu_ld=yes
		;;
	sparc-*-linux-gnulibc1*)	# Sparc's running GNU/Linux, libc5
		xm_file="sparc/xm-sparc.h sparc/xm-linux.h"
		xmake_file=x-linux
		tm_file=sparc/linux.h
		tmake_file="t-linux t-linux-gnulibc1 sparc/t-linux"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
		broken_install=yes
		gnu_ld=yes
		;;
	sparc-*-linux-gnu*)		# Sparc's running GNU/Linux, libc6
		xm_file="sparc/xm-sparc.h sparc/xm-linux.h"
		xmake_file=x-linux
		tm_file=sparc/linux.h
		tmake_file="t-linux sparc/t-linux"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
		broken_install=yes
		gnu_ld=yes
 		if [ x$enable_threads = xyes ]; then
 			thread_file='posix'
 		fi
		;;
	sparc-*-lynxos*)
		if [ x$gas = xyes ]
		then
			tm_file=sparc/lynx.h
		else
			tm_file=sparc/lynx-ng.h
		fi
		xm_file=sparc/xm-lynx.h
		tmake_file=sparc/t-sunos41
		xmake_file=x-lynx
		;;
	sparc-*-rtems*)
		tmake_file="sparc/t-sparcbare t-rtems"
		tm_file=sparc/rtems.h
		;;
	sparc-*-solaris2*)
		if [ x$gnu_ld = xyes ]
		then
			tm_file=sparc/sol2.h
		else
			tm_file=sparc/sol2-sld.h
		fi
		xm_file=sparc/xm-sol2.h
		tmake_file=sparc/t-sol2
		xmake_file=sparc/x-sysv4
		extra_parts="crt1.o crti.o crtn.o gcrt1.o gmon.o crtbegin.o crtend.o"
		fixincludes=fixinc.math
		float_format=i128
		broken_install=yes
 		if [ x$enable_threads = xyes ]; then
			thread_file='solaris'
		fi
		;;
	sparc-*-sunos4.0*)
		tm_file=sparc/sunos4.h
		tmake_file=sparc/t-sunos40
		use_collect2=yes
		;;
	sparc-*-sunos4*)
		tm_file=sparc/sunos4.h
		tmake_file=sparc/t-sunos41
		use_collect2=yes
		if [ x$gas = xyes ]; then
			tm_file="${tm_file} sparc/sun4gas.h"
		fi
		;;
	sparc-*-sunos3*)
		tm_file=sparc/sun4o3.h
		use_collect2=yes
		;;
	sparc-*-sysv4*)
		tm_file=sparc/sysv4.h
		xm_file=sparc/xm-sysv4.h
		tmake_file=t-svr4
		xmake_file=sparc/x-sysv4
		extra_parts="crtbegin.o crtend.o"
		;;
	sparc-*-vxsim*)
		xm_file=sparc/xm-sol2.h
		tm_file=sparc/vxsim.h
		tmake_file=sparc/t-vxsparc
		xmake_file=sparc/x-sysv4
		;;
	sparclet-*-aout*)
		tm_file="sparc/splet.h libgloss.h"
		tmake_file=sparc/t-splet
		;;
	sparclite-*-coff*)
		tm_file="sparc/litecoff.h libgloss.h"
		tmake_file=sparc/t-sparclite
		;;
	sparclite-*-aout*)
		tm_file="sparc/lite.h aoutos.h libgloss.h"
		tmake_file=sparc/t-sparclite
		;;
	sparc64-*-aout*)
		tmake_file=sparc/t-sp64
		tm_file=sparc/sp64-aout.h
		;;
	sparc64-*-elf*)
		tmake_file=sparc/t-sp64
		tm_file=sparc/sp64-elf.h
		extra_parts="crtbegin.o crtend.o"
		;;
	sparc64-*-linux*)		# 64-bit Sparc's running GNU/Linux
		tmake_file=sparc/t-sp64
		xm_file="sparc/xm-sp64.h sparc/xm-linux.h"
		tm_file=sparc/linux64.h
		xmake_file=x-linux
		fixincludes=Makefile.in	# The headers are ok already.
		gnu_ld=yes
		;;
# This hasn't been upgraded to GCC 2.
#	tahoe-harris-*)			# Harris tahoe, using COFF.
#		tm_file=tahoe/harris.h
#		;;
#	tahoe-*-bsd*)			# tahoe running BSD
#		;;
# This hasn't been upgraded to GCC 2.
#	tron-*-*)
#		cpu_type=gmicro
#		use_collect2=yes
#		;;
	v850-*-*)
		cpu_type=v850
		tm_file="v850/v850.h"
		xm_file="v850/xm-v850.h"
		if [ x$stabs = xyes ]
		then
			tm_file="${tm_file} dbx.h"
		fi
		use_collect2=no
		;;
	vax-*-bsd*)			# vaxen running BSD
		use_collect2=yes
		float_format=vax
		;;
	vax-*-sysv*)			# vaxen running system V
		tm_file="${tm_file} vax/vaxv.h"
		xm_file="${xm_file} vax/xm-vaxv.h"
		float_format=vax
		;;
	vax-*-netbsd*)
		tm_file="${tm_file} netbsd.h vax/netbsd.h"
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
		float_format=vax
		;;
	vax-*-openbsd*)
		tmake_file="${tmake_file} vax/t-openbsd"
		float_format=vax
		;;
	vax-*-ultrix*)			# vaxen running ultrix
		tm_file="${tm_file} vax/ultrix.h"
		use_collect2=yes
		float_format=vax
		;;
	vax-*-vms*)			# vaxen running VMS
		xm_file=vax/xm-vms.h
		tm_file=vax/vms.h
		float_format=vax
		;;
	vax-*-*)			# vax default entry
		float_format=vax
		;;
	we32k-att-sysv*)
		xm_file="${xm_file} xm-svr3"
		use_collect2=yes
		;;
	*)
		echo "Configuration $machine not supported" 1>&2
		exit 1
		;;
	esac

	case $machine in
	*-*-linux-gnu*)
	        ;; # Existing Linux/GNU systems do not use the GNU setup.
	*-*-gnu*)
		# On the GNU system, the setup is just about the same on
		# each different CPU.  The specific machines that GNU
		# supports are matched above and just set $cpu_type.
		xm_file=${cpu_type}/xm-gnu.h
		tm_file=${cpu_type}/gnu.h
		extra_parts="crtbegin.o crtend.o crtbeginS.o crtendS.o"
		# GNU always uses ELF.
		elf=yes
		# GNU tools are the only tools.
		gnu_ld=yes
		gas=yes
		# On GNU, the headers are already okay.
		fixincludes=Makefile.in
		xmake_file=x-linux	# These details are the same as Linux.
		tmake_file=t-gnu	# These are not.
		;;
	*-*-sysv4*)
		fixincludes=fixinc.svr4
		xmake_try_sysv=x-sysv
		broken_install=yes
		install_headers_dir=install-headers-cpio
		;;
	*-*-sysv*)
		broken_install=yes
		install_headers_dir=install-headers-cpio
		;;
	esac

	# Distinguish i[34567]86
	# Also, do not run mips-tfile on MIPS if using gas.
	# Process --with-cpu= for PowerPC/rs6000
	target_cpu_default2=
	case $machine in
	i486-*-*)
		target_cpu_default2=1
		;;
	i586-*-*)
		target_cpu_default2=2
		;;
	i686-*-* | i786-*-*)
		target_cpu_default2=3
		;;
	alpha*-*-*)
		case $machine in
			alphaev6*)
				target_cpu_default2="MASK_CPU_EV6|MASK_BXW|MASK_CIX|MASK_MAX"
				;;
			alphapca56*)
				target_cpu_default2="MASK_CPU_EV5|MASK_BWX|TASK_MAX"
				;;
			alphaev56*)
				target_cpu_default2="MASK_CPU_EV5|MASK_BWX"
				;;
			alphaev5*)
				target_cpu_default2="MASK_CPU_EV5"
				;;
		esac
				
		if [ x$gas = xyes ]
		then
			if [ x$target_cpu_default2 = x ]
			then
				target_cpu_default2="MASK_GAS"
			else
				target_cpu_default2="${target_cpu_default2}|MASK_GAS"
			fi
		fi
		;;
	arm*-*-*)
		case "x$with_cpu" in
			x)
				# The most generic
				target_cpu_default2="TARGET_CPU_generic"
				;;

			# Distinguish cores, and major variants
			# arm7m doesn't exist, but D & I don't affect code
			xarm23678 | xarm250 | xarm67010 \
			| xarm7m | xarm7dm | xarm7dmi | xarm7tdmi \
			| xarm7100 | xarm7500 | xarm7500fe | xarm810 \
			| xstrongarm | xstrongarm110)
				target_cpu_default2="TARGET_CPU_$with_cpu"
				;;

			xyes | xno)
				echo "--with-cpu must be passed a value" 1>&2
				exit 1
				;;

			*)
				if [ x$pass2done = xyes ]
				then
					echo "Unknown cpu used with --with-cpu=$with_cpu" 1>&2
					exit 1
				fi
				;;
		esac
		;;

	mips*-*-ecoff* | mips*-*-elf*)
		if [ x$gas = xyes ]
		then
			if [ x$gnu_ld = xyes ]
			then
				target_cpu_default2=20
			else
				target_cpu_default2=16
			fi
		fi
		;;
	mips*-*-*)
		if [ x$gas = xyes ]
		then
			target_cpu_default2=16
		fi
		;;
	powerpc*-*-* | rs6000-*-*)
		case "x$with_cpu" in
			x)
				;;

			xcommon | xpower | xpower2 | xpowerpc | xrios \
			  | xrios1 | xrios2 | xrsc | xrsc1 \
			  | x601 | x602 | x603 | x603e | x604 | x604e | x620 \
			  | x403 | x505 | x801 | x821 | x823 | x860)
				target_cpu_default2="\"$with_cpu\""
				;;

			xyes | xno)
				echo "--with-cpu must be passed a value" 1>&2
				exit 1
				;;

			*)
				if [ x$pass2done = xyes ]
				then
					echo "Unknown cpu used with --with-cpu=$with_cpu" 1>&2
					exit 1
				fi
				;;
		esac
		;;
	sparc*-*-*)
		case ".$with_cpu" in
			.)
				target_cpu_default2=TARGET_CPU_"`echo $machine | sed 's/-.*$//'`"
				;;
			.supersparc | .ultrasparc | .v7 | .v8 | .v9)
				target_cpu_default2="TARGET_CPU_$with_cpu"
				;;
			*)
				if [ x$pass2done = xyes ]
				then
					echo "Unknown cpu used with --with-cpu=$with_cpu" 1>&2
					exit 1
				fi
				;;
		esac
		;;
	esac

	if [ x$target_cpu_default2 != x ]
	then
		if [ x$target_cpu_default != x ]
		then
			target_cpu_default="(${target_cpu_default}|${target_cpu_default2})"
		else
			target_cpu_default=$target_cpu_default2
		fi
	fi

	# No need for collect2 if we have the GNU linker.
	case x$gnu_ld in
	xyes)
		use_collect2=
		;;
	esac

# Save data on machine being used to compile GCC in build_xm_file.
# Save data on host machine in vars host_xm_file and host_xmake_file.
	if [ x$pass1done = x ]
	then
		if [ x"$xm_file" = x ]
		then build_xm_file=$cpu_type/xm-$cpu_type.h
		else build_xm_file=$xm_file
		fi
		build_broken_install=$broken_install
		build_install_headers_dir=$install_headers_dir
		build_exeext=$exeext
		pass1done=yes
	else
		if [ x$pass2done = x ]
		then
			if [ x"$xm_file" = x ]
			then host_xm_file=$cpu_type/xm-$cpu_type.h
			else host_xm_file=$xm_file
			fi
			if [ x"$xmake_file" = x ]
			then xmake_file=$cpu_type/x-$cpu_type
			fi
			host_xmake_file="$xmake_file"
			host_truncate_target=$truncate_target
			host_extra_gcc_objs=$extra_gcc_objs
			host_extra_objs=$extra_host_objs
			pass2done=yes
		fi
	fi
done

extra_objs="${host_extra_objs} ${extra_objs}"

# Default the target-machine variables that were not explicitly set.
if [ x"$tm_file" = x ]
then tm_file=$cpu_type/$cpu_type.h; fi

if [ x$extra_headers = x ]
then extra_headers=; fi

if [ x"$xm_file" = x ]
then xm_file=$cpu_type/xm-$cpu_type.h; fi

md_file=$cpu_type/$cpu_type.md

if [ x$out_file = x ]
then out_file=$cpu_type/$cpu_type.c; fi

if [ x"$tmake_file" = x ]
then tmake_file=$cpu_type/t-$cpu_type
fi

if [ x$float_format = x ]
then float_format=i64
fi

# Say what files are being used for the output code and MD file.
echo "Using \`$srcdir/config/$out_file' to output insns."
echo "Using \`$srcdir/config/$md_file' as machine description file."

count=a
for f in $tm_file; do
	count=${count}x
done
if [ $count = ax ]; then
	echo "Using \`$srcdir/config/$tm_file' as target machine macro file."
else
	echo "Using the following target machine macro files:"
	for f in $tm_file; do
		echo "	$srcdir/config/$f"
	done
fi

count=a
for f in $host_xm_file; do
	count=${count}x
done
if [ $count = ax ]; then
	echo "Using \`$srcdir/config/$host_xm_file' as host machine macro file."
else
	echo "Using the following host machine macro files:"
	for f in $host_xm_file; do
		echo "	$srcdir/config/$f"
	done
fi

if [ "$host_xm_file" != "$build_xm_file" ]; then
	count=a
	for f in $build_xm_file; do
		count=${count}x
	done
	if [ $count = ax ]; then
		echo "Using \`$srcdir/config/$build_xm_file' as build machine macro file."
	else
		echo "Using the following build machine macro files:"
		for f in $build_xm_file; do
			echo "	$srcdir/config/$f"
		done
	fi
fi

if [ x$thread_file = x ]
then thread_file='single'
fi

# Set up the header files.
# $links is the list of header files to create.
# $vars is the list of shell variables with file names to include.
# auto-conf.h is the file containing items generated by autoconf and is
# the first file included by config.h.
host_xm_file="auto-config.h ${host_xm_file}"
vars="host_xm_file tm_file xm_file build_xm_file"
links="config.h tm.h tconfig.h hconfig.h"

rm -f config.bak
if [ -f config.status ]; then mv -f config.status config.bak; fi

# Make the links.
while [ -n "$vars" ]
do
	# set file to car of files, files to cdr of files
	set $vars; var=$1; shift; vars=$*
	set $links; link=$1; shift; links=$*

	rm -f $link

	# Define TARGET_CPU_DEFAULT if the system wants one.
	# This substitutes for lots of *.h files.
	if [ x$target_cpu_default != x -a $link = tm.h ]
	then
		echo "#define TARGET_CPU_DEFAULT $target_cpu_default" >>$link
	fi

	for file in `eval echo '$'$var`; do
		echo "#include \"$file\"" >>$link
	done
done

# If we have a CVS directory, set up a rule so verion.c will be made
# from CVS tag information and use a dummy version number here if we
# don't have version.c.

version_dep=
if [ -d $srcdir/CVS ]; then
	version_dep=ChangeLog
fi

if [ ! -f $srcdir/version.c -a -d $srcdir/CVS ]
then
	version=unknown
else
	# Get the version number from the toplevel
	version=`sed -e 's/.*\"\([^ \"]*\)[ \"].*/\1/' < ${srcdir}/version.c`
fi

# Are we using gcc as the native compiler?
case $host in
*linux* | *cygwin32* | *mingw32*)
	if [ x$prefix = xNONE ]; then
		prefix=$native_prefix
	fi
	;;
esac

# Get an absolute path to the GCC top-level source directory
holddir=`pwd`
cd $srcdir
topdir=`pwd`
cd $holddir

# Conditionalize the makefile for this host machine.
# Make-host contains the concatenation of all host makefile fragments
# [there can be more than one].  This file is built by configure.frag.
host_overrides=Make-host
dep_host_xmake_file=
for f in .. ${host_xmake_file}
do
	if [ -f ${srcdir}/config/$f ]
	then
		dep_host_xmake_file="${dep_host_xmake_file} ${srcdir}/config/$f"
	fi
done

# Conditionalize the makefile for this target machine.
# Make-target contains the concatenation of all host makefile fragments
# [there can be more than one].  This file is built by configure.frag.
target_overrides=Make-target
dep_tmake_file=
for f in .. ${tmake_file}
do
	if [ -f ${srcdir}/config/$f ]
	then
		dep_tmake_file="${dep_tmake_file} ${srcdir}/config/$f"
	fi
done

# If the host doesn't support symlinks, modify CC in
# FLAGS_TO_PASS so CC="stage1/xgcc -Bstage1/" works.
# Otherwise, we can use "CC=$(CC)".
rm -f symtest.tem
if $symbolic_link $srcdir/gcc.c symtest.tem 2>/dev/null
then
	cc_set_by_configure="\$(CC)"
	stage_prefix_set_by_configure="\$(STAGE_PREFIX)"
else
	rm -f symtest.tem
	if cp -p $srcdir/gcc.c symtest.tem 2>/dev/null
	then
		symbolic_link="cp -p"
	else
		symbolic_link="cp"
	fi
	cc_set_by_configure="\`case '\$(CC)' in stage*) echo '\$(CC)' | sed -e 's|stage|../stage|g';; *) echo '\$(CC)';; esac\`"
	stage_prefix_set_by_configure="\`case '\$(STAGE_PREFIX)' in stage*) echo '\$(STAGE_PREFIX)' | sed -e 's|stage|../stage|g';; *) echo '\$(STAGE_PREFIX)';; esac\`"
fi
rm -f symtest.tem

out_object_file=`basename $out_file .c`.o

tm_file_list=
for f in $tm_file; do
	tm_file_list="${tm_file_list} \$(srcdir)/config/$f"
done

host_xm_file_list=
for f in $host_xm_file; do
	host_xm_file_list="${host_xm_file_list} \$(srcdir)/config/$f"
done

build_xm_file_list=
for f in $build_xm_file; do
	build_xm_file_list="${build_xm_file_list} \$(srcdir)/config/$f"
done

# Define macro CROSS_COMPILE in compilation
# if this is a cross-compiler.
# Also use all.cross instead of all.internal
# and add cross-make to Makefile.
cross_overrides="/dev/null"
if [ x$host != x$target ]
then
	cross_defines="CROSS=-DCROSS_COMPILE"
	cross_overrides="${topdir}/cross-make"
fi

# When building gcc with a cross-compiler, we need to fix a few things.
# This must come after cross-make as we want all.build to override
# all.cross.
build_overrides="/dev/null"
if [ x$build != x$host ]
then
	build_overrides="${topdir}/build-make"
fi

# Expand extra_headers to include complete path.
# This substitutes for lots of t-* files.
extra_headers_list=
if [ "x$extra_headers" = x ]
then true
else
	# Prepend ${srcdir}/ginclude/ to every entry in extra_headers.
	for file in $extra_headers;
	do
		extra_headers_list="${extra_headers_list} \$(srcdir)/ginclude/${file}"
	done
fi

# Add a definition of USE_COLLECT2 if system wants one.
# Also tell toplev.c what to do.
# This substitutes for lots of t-* files.
if [ x$use_collect2 = x ]
then
	will_use_collect2=
	maybe_use_collect2=
else
	will_use_collect2="ld"
	maybe_use_collect2="-DUSE_COLLECT2"
fi

# NEED TO CONVERT
# Set MD_DEPS if the real md file is in md.pre-cpp.
# Set MD_CPP to the cpp to pass the md file through.  Md files use ';'
# for line oriented comments, so we must always use a GNU cpp.  If
# building gcc with a cross compiler, use the cross compiler just
# built.  Otherwise, we can use the cpp just built.
md_file_sub=
if [ "x$md_cppflags" = x ]
then
	md_file_sub=$srcdir/config/$md_file
else
	md_file=md
fi

# If we have gas in the build tree, make a link to it.
if [ -f ../gas/Makefile ]; then
	rm -f as; $symbolic_link ../gas/as.new as 2>/dev/null
fi

# If we have ld in the build tree, make a link to it.
if [ -f ../ld/Makefile ]; then
	if [ x$use_collect2 = x ]; then
		rm -f ld; $symbolic_link ../ld/ld.new ld 2>/dev/null
	else
		rm -f collect-ld; $symbolic_link ../ld/ld.new collect-ld 2>/dev/null
	fi
fi

# Figure out what language subdirectories are present.
subdirs=
for lang in ${srcdir}/*/config-lang.in ..
do
	case $lang in
	..) ;;
	# The odd quoting in the next line works around
	# an apparent bug in bash 1.12 on linux.
	${srcdir}/[*]/config-lang.in) ;;
	*) subdirs="$subdirs `echo $lang | sed -e 's,^.*/\([^/]*\)/config-lang.in$,\1,'`" ;;
	esac
done

# Make empty files to contain the specs and options for each language.
# Then add #include lines to for a compiler that has specs and/or options.

lang_specs_files=
lang_options_files=
rm -f specs.h options.h
touch specs.h options.h
for subdir in . $subdirs
do
	if [ -f $srcdir/$subdir/lang-specs.h ]; then
		echo "#include \"$subdir/lang-specs.h\"" >>specs.h
		lang_specs_files="$lang_specs_files $srcdir/$subdir/lang-specs.h"
	fi
	if [ -f $srcdir/$subdir/lang-options.h ]; then
		echo "#include \"$subdir/lang-options.h\"" >>options.h
		lang_options_files="$lang_options_files $srcdir/$subdir/lang-options.h"
	fi
done

# These (without "all_") are set in each config-lang.in.
# `language' must be a single word so is spelled singularly.
all_languages=
all_boot_languages=
all_compilers=
all_stagestuff=
all_diff_excludes=
all_outputs=Makefile
# List of language makefile fragments.
all_lang_makefiles=
all_headers=
all_lib2funcs=

# Add the language fragments.
# Languages are added via two mechanisms.  Some information must be
# recorded in makefile variables, these are defined in config-lang.in.
# We accumulate them and plug them into the main Makefile.
# The other mechanism is a set of hooks for each of the main targets
# like `clean', `install', etc.

language_fragments="Make-lang"
language_hooks="Make-hooks"
oldstyle_subdirs=

for s in .. $subdirs
do
	if [ $s != ".." ]
	then
		language=
		boot_language=
		compilers=
		stagestuff=
		diff_excludes=
		headers=
		outputs=
		lib2funcs=
		. ${srcdir}/$s/config-lang.in
		if [ "x$language" = x ]
		then
			echo "${srcdir}/$s/config-lang.in doesn't set \$language." 1>&2
			exit 1
		fi
		all_lang_makefiles="$all_lang_makefiles ${srcdir}/$s/Make-lang.in ${srcdir}/$s/Makefile.in"
		all_languages="$all_languages $language"
		if [ "x$boot_language" = xyes ]
		then
			all_boot_languages="$all_boot_languages $language"
		fi
		all_compilers="$all_compilers $compilers"
		all_stagestuff="$all_stagestuff $stagestuff"
		all_diff_excludes="$all_diff_excludes $diff_excludes"
		all_headers="$all_headers $headers"
		all_outputs="$all_outputs $outputs"
		if [ x$outputs = x ]
		then
			oldstyle_subdirs="$oldstyle_subdirs $s"
		fi
		all_lib2funcs="$all_lib2funcs $lib2funcs"
	fi
done

# Since we can't use `::' targets, we link each language in
# with a set of hooks, reached indirectly via lang.${target}.

rm -f Make-hooks
touch Make-hooks
target_list="all.build all.cross start.encap rest.encap \
	info dvi \
	install-normal install-common install-info install-man \
	uninstall distdir \
	mostlyclean clean distclean extraclean maintainer-clean \
	stage1 stage2 stage3 stage4"
for t in $target_list
do
	x=
	for l in .. $all_languages
	do
		if [ $l != ".." ]; then
			x="$x $l.$t"
		fi
	done
	echo "lang.$t: $x" >> Make-hooks
done

# If we're not building in srcdir, create .gdbinit.

if [ ! -f Makefile.in ]; then
	echo "dir ." > .gdbinit
	echo "dir ${srcdir}" >> .gdbinit
	if [ x$gdb_needs_out_file_path = xyes ]
	then
		echo "dir ${srcdir}/config/"`dirname ${out_file}` >> .gdbinit
	fi
	if [ "x$subdirs" != x ]; then
		for s in $subdirs
		do
			echo "dir ${srcdir}/$s" >> .gdbinit
		done
	fi
	echo "source ${srcdir}/.gdbinit" >> .gdbinit
fi

# Process the language and host/target makefile fragments.
${CONFIG_SHELL-/bin/sh} $srcdir/configure.frag $srcdir "$subdirs" "$dep_host_xmake_file" "$dep_tmake_file"

# Substitute configuration variables


















































# Echo that links are built
if [ x$host = x$target ]
then
	str1="native "
else
	str1="cross-"
	str2=" from $host"
fi

if [ x$host != x$build ]
then
	str3=" on a $build system"
fi

if [ "x$str2" != x ] || [ "x$str3" != x ]
then
	str4=
fi

echo "Links are now set up to build a ${str1}compiler for ${target}$str4" 1>&2

if [ "x$str2" != x ] || [ "x$str3" != x ]
then
	echo " ${str2}${str3}." 1>&2
fi

# Truncate the target if necessary
if [ x$host_truncate_target != x ]; then
	target=`echo $target | sed -e 's/\(..............\).*/\1/'`
fi

# Configure the subdirectories
# AC_CONFIG_SUBDIRS($subdirs)

# Create the Makefile
# and configure language subdirectories
trap '' 1 2 15
cat > confcache <<\EOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
#
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
#
EOF
# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, don't put newlines in cache variables' values.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
(set) 2>&1 |
  case `(ac_space=' '; set | grep ac_space) 2>&1` in
  *ac_space=\ *)
    # `set' does not quote correctly, so add quotes (double-quote substitution
    # turns \\\\ into \\, and sed turns \\ into \).
    sed -n \
      -e "s/'/'\\\\''/g" \
      -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
    ;;
  *)
    # `set' quotes correctly as required by POSIX, so do not add quotes.
    sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
    ;;
  esac >> confcache
if cmp -s $cache_file confcache; then
  :
else
  if test -w $cache_file; then
    echo "updating cache $cache_file"
    cat confcache > $cache_file
  else
    echo "not updating unwritable cache $cache_file"
  fi
fi
rm -f confcache

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

# Any assignment to VPATH causes Sun make to only execute
# the first set of double-colon rules, so remove it if not needed.
# If there is a colon in the path, we need to keep it.
if test "x$srcdir" = x.; then
  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
fi

trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15

DEFS=-DHAVE_CONFIG_H

# Without the "./", some shells look in PATH for config.status.
: ${CONFIG_STATUS=./config.status}

echo creating $CONFIG_STATUS
rm -f $CONFIG_STATUS
cat > $CONFIG_STATUS <<EOF
#! /bin/sh
# Generated automatically by configure.
# Run this file to recreate the current configuration.
# This directory was configured as follows,
# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
#
# $0 $ac_configure_args
#
# Compiler output produced by configure, useful for debugging
# configure, is in ./config.log if it exists.

ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
for ac_option
do
  case "\$ac_option" in
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
  -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
    echo "$CONFIG_STATUS generated by autoconf version 2.13"
    exit 0 ;;
  -help | --help | --hel | --he | --h)
    echo "\$ac_cs_usage"; exit 0 ;;
  *) echo "\$ac_cs_usage"; exit 1 ;;
  esac
done

ac_given_srcdir=$srcdir
ac_given_INSTALL="$INSTALL"

trap 'rm -fr `echo "$all_outputs auto-config.h:config.in" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
EOF
cat >> $CONFIG_STATUS <<EOF

# Protect against being on the right side of a sed subst in config.status.
sed 's/%@@/@@@@/; s/@@%/@@@@/; s/%g\$/@@g/; /@@g\$/s/[\\\\&%]/\\\\&/g;
 s/@@@@/%@@/; s/@@@@/@@%/; s/@@g\$/%g/' > conftest.subs <<\\CEOF
$ac_vpsub
$extrasub
s%@@SHELL@@%$SHELL%g
s%@@CFLAGS@@%$CFLAGS%g
s%@@CPPFLAGS@@%$CPPFLAGS%g
s%@@CXXFLAGS@@%$CXXFLAGS%g
s%@@FFLAGS@@%$FFLAGS%g
s%@@DEFS@@%$DEFS%g
s%@@LDFLAGS@@%$LDFLAGS%g
s%@@LIBS@@%$LIBS%g
s%@@exec_prefix@@%$exec_prefix%g
s%@@prefix@@%$prefix%g
s%@@program_transform_name@@%$program_transform_name%g
s%@@bindir@@%$bindir%g
s%@@sbindir@@%$sbindir%g
s%@@libexecdir@@%$libexecdir%g
s%@@datadir@@%$datadir%g
s%@@sysconfdir@@%$sysconfdir%g
s%@@sharedstatedir@@%$sharedstatedir%g
s%@@localstatedir@@%$localstatedir%g
s%@@libdir@@%$libdir%g
s%@@includedir@@%$includedir%g
s%@@oldincludedir@@%$oldincludedir%g
s%@@infodir@@%$infodir%g
s%@@mandir@@%$mandir%g
s%@@host@@%$host%g
s%@@host_alias@@%$host_alias%g
s%@@host_cpu@@%$host_cpu%g
s%@@host_vendor@@%$host_vendor%g
s%@@host_os@@%$host_os%g
s%@@target@@%$target%g
s%@@target_alias@@%$target_alias%g
s%@@target_cpu@@%$target_cpu%g
s%@@target_vendor@@%$target_vendor%g
s%@@target_os@@%$target_os%g
s%@@build@@%$build%g
s%@@build_alias@@%$build_alias%g
s%@@build_cpu@@%$build_cpu%g
s%@@build_vendor@@%$build_vendor%g
s%@@build_os@@%$build_os%g
s%@@CC@@%$CC%g
s%@@SET_MAKE@@%$SET_MAKE%g
s%@@AWK@@%$AWK%g
s%@@LEX@@%$LEX%g
s%@@LEXLIB@@%$LEXLIB%g
s%@@RANLIB@@%$RANLIB%g
s%@@YACC@@%$YACC%g
s%@@INSTALL_PROGRAM@@%$INSTALL_PROGRAM%g
s%@@INSTALL_SCRIPT@@%$INSTALL_SCRIPT%g
s%@@INSTALL_DATA@@%$INSTALL_DATA%g
s%@@CPP@@%$CPP%g
s%@@manext@@%$manext%g
s%@@objext@@%$objext%g
s%@@subdirs@@%$subdirs%g
s%@@all_languages@@%$all_languages%g
s%@@all_boot_languages@@%$all_boot_languages%g
s%@@all_compilers@@%$all_compilers%g
s%@@all_lang_makefiles@@%$all_lang_makefiles%g
s%@@all_stagestuff@@%$all_stagestuff%g
s%@@all_diff_excludes@@%$all_diff_excludes%g
s%@@all_lib2funcs@@%$all_lib2funcs%g
s%@@all_headers@@%$all_headers%g
s%@@extra_passes@@%$extra_passes%g
s%@@extra_programs@@%$extra_programs%g
s%@@extra_parts@@%$extra_parts%g
s%@@extra_c_objs@@%$extra_c_objs%g
s%@@extra_c_flags@@%$extra_c_flags%g
s%@@extra_objs@@%$extra_objs%g
s%@@host_extra_gcc_objs@@%$host_extra_gcc_objs%g
s%@@extra_headers_list@@%$extra_headers_list%g
s%@@dep_host_xmake_file@@%$dep_host_xmake_file%g
s%@@dep_tmake_file@@%$dep_tmake_file%g
s%@@out_file@@%$out_file%g
s%@@out_object_file@@%$out_object_file%g
s%@@md_file@@%$md_file%g
s%@@tm_file_list@@%$tm_file_list%g
s%@@build_xm_file_list@@%$build_xm_file_list%g
s%@@host_xm_file_list@@%$host_xm_file_list%g
s%@@lang_specs_files@@%$lang_specs_files%g
s%@@lang_options_files@@%$lang_options_files%g
s%@@thread_file@@%$thread_file%g
s%@@version@@%$version%g
s%@@local_prefix@@%$local_prefix%g
s%@@gxx_include_dir@@%$gxx_include_dir%g
s%@@fixincludes@@%$fixincludes%g
s%@@build_install_headers_dir@@%$build_install_headers_dir%g
s%@@build_exeext@@%$build_exeext%g
s%@@float_format@@%$float_format%g
s%@@will_use_collect2@@%$will_use_collect2%g
s%@@maybe_use_collect2@@%$maybe_use_collect2%g
s%@@cc_set_by_configure@@%$cc_set_by_configure%g
s%@@stage_prefix_set_by_configure@@%$stage_prefix_set_by_configure%g
s%@@symbolic_link@@%$symbolic_link%g
s%@@version_dep@@%$version_dep%g
/@@target_overrides@@/r $target_overrides
s%@@target_overrides@@%%g
/@@host_overrides@@/r $host_overrides
s%@@host_overrides@@%%g
s%@@cross_defines@@%$cross_defines%g
/@@cross_overrides@@/r $cross_overrides
s%@@cross_overrides@@%%g
/@@build_overrides@@/r $build_overrides
s%@@build_overrides@@%%g
/@@language_fragments@@/r $language_fragments
s%@@language_fragments@@%%g
/@@language_hooks@@/r $language_hooks
s%@@language_hooks@@%%g

CEOF
EOF

cat >> $CONFIG_STATUS <<\EOF

# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
  else
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
  fi
done
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
fi
EOF

cat >> $CONFIG_STATUS <<EOF

CONFIG_FILES=\${CONFIG_FILES-"$all_outputs"}
EOF
cat >> $CONFIG_STATUS <<\EOF
for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.

  # Remove last slash and all that follows it.  Not all systems have dirname.
  ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
    # The file is in a subdirectory.
    test ! -d "$ac_dir" && mkdir "$ac_dir"
    ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
    # A "../" for each directory in $ac_dir_suffix.
    ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
  else
    ac_dir_suffix= ac_dots=
  fi

  case "$ac_given_srcdir" in
  .)  srcdir=.
      if test -z "$ac_dots"; then top_srcdir=.
      else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
  /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
  *) # Relative path.
    srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
    top_srcdir="$ac_dots$ac_given_srcdir" ;;
  esac

  case "$ac_given_INSTALL" in
  [/$]*) INSTALL="$ac_given_INSTALL" ;;
  *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
  esac

  echo creating "$ac_file"
  rm -f "$ac_file"
  configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
  case "$ac_file" in
  *Makefile*) ac_comsub="1i\\
# $configure_input" ;;
  *) ac_comsub= ;;
  esac

  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  sed -e "$ac_comsub
s%@@configure_input@@%$configure_input%g
s%@@srcdir@@%$srcdir%g
s%@@top_srcdir@@%$top_srcdir%g
s%@@INSTALL@@%$INSTALL%g
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
fi; done
rm -f conftest.s*

# These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
# NAME is the cpp macro being defined and VALUE is the value it is being given.
#
# ac_d sets the value in "#define NAME VALUE" lines.
ac_dA='s%^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
ac_dB='\([ 	][ 	]*\)[^ 	]*%\1#\2'
ac_dC='\3'
ac_dD='%g'
# ac_u turns "#undef NAME" with trailing blanks into "#define NAME VALUE".
ac_uA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_uB='\([ 	]\)%\1#\2define\3'
ac_uC=' '
ac_uD='\4%g'
# ac_e turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
ac_eA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_eB='$%\1#\2define\3'
ac_eC=' '
ac_eD='%g'

if test "${CONFIG_HEADERS+set}" != set; then
EOF
cat >> $CONFIG_STATUS <<EOF
  CONFIG_HEADERS="auto-config.h:config.in"
EOF
cat >> $CONFIG_STATUS <<\EOF
fi
for ac_file in .. $CONFIG_HEADERS; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  echo creating $ac_file

  rm -f conftest.frag conftest.in conftest.out
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  cat $ac_file_inputs > conftest.in

EOF

# Transform confdefs.h into a sed script conftest.vals that substitutes
# the proper values into config.h.in to produce config.h.  And first:
# Protect against being on the right side of a sed subst in config.status.
# Protect against being in an unquoted here document in config.status.
rm -f conftest.vals
cat > conftest.hdr <<\EOF
s/[\\&%]/\\&/g
s%[\\$`]%\\&%g
s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD}%gp
s%ac_d%ac_u%gp
s%ac_u%ac_e%gp
EOF
sed -n -f conftest.hdr confdefs.h > conftest.vals
rm -f conftest.hdr

# This sed command replaces #undef with comments.  This is necessary, for
# example, in the case of _POSIX_SOURCE, which is predefined and required
# on some systems where configure will not decide to define it.
cat >> conftest.vals <<\EOF
s%^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*%/* & */%
EOF

# Break up conftest.vals because some shells have a limit on
# the size of here documents, and old seds have small limits too.

rm -f conftest.tail
while :
do
  ac_lines=`grep -c . conftest.vals`
  # grep -c gives empty output for an empty file on some AIX systems.
  if test -z "$ac_lines" || test "$ac_lines" -eq 0; then break; fi
  # Write a limited-size here document to conftest.frag.
  echo '  cat > conftest.frag <<CEOF' >> $CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.vals >> $CONFIG_STATUS
  echo 'CEOF
  sed -f conftest.frag conftest.in > conftest.out
  rm -f conftest.in
  mv conftest.out conftest.in
' >> $CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.vals > conftest.tail
  rm -f conftest.vals
  mv conftest.tail conftest.vals
done
rm -f conftest.vals

cat >> $CONFIG_STATUS <<\EOF
  rm -f conftest.frag conftest.h
  echo "/* $ac_file.  Generated automatically by configure.  */" > conftest.h
  cat conftest.in >> conftest.h
  rm -f conftest.in
  if cmp -s $ac_file conftest.h 2>/dev/null; then
    echo "$ac_file is unchanged"
    rm -f conftest.h
  else
    # Remove last slash and all that follows it.  Not all systems have dirname.
      ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
      # The file is in a subdirectory.
      test ! -d "$ac_dir" && mkdir "$ac_dir"
    fi
    rm -f $ac_file
    mv conftest.h $ac_file
  fi
fi; done

EOF
cat >> $CONFIG_STATUS <<EOF

host='${host}'
build='${build}'
target='${target}'
target_alias='${target_alias}'
srcdir='${srcdir}'
subdirs='${subdirs}'
oldstyle_subdirs='${oldstyle_subdirs}'
symbolic_link='${symbolic_link}'
version_dep='${version_dep}'
program_transform_set='${program_transform_set}'
program_transform_name='${program_transform_name}'
dep_host_xmake_file='${dep_host_xmake_file}'
host_xmake_file='${host_xmake_file}'
dep_tmake_file='${dep_tmake_file}'
tmake_file='${tmake_file}'
thread_file='${thread_file}'
version='${version}'
local_prefix='${local_prefix}'
build_install_headers_dir='${build_install_headers_dir}'
build_exeext='${build_exeext}'
out_file='${out_file}'
gdb_needs_out_file_path='${gdb_needs_out_file_path}'
SET_MAKE='${SET_MAKE}'
build_broken_install='${build_broken_install}'
target_list='${target_list}'
target_overrides='${target_overrides}'
host_overrides='${host_overrides}'
cross_defines='${cross_defines}'
cross_overrides='${cross_overrides}'
build_overrides='${build_overrides}'

EOF
cat >> $CONFIG_STATUS <<\EOF

. $srcdir/configure.lang
case x$CONFIG_HEADERS in
xauto-config.h:config.in)
echo > cstamp-h ;;
esac
# If the host supports symlinks, point stage[1234] at ../stage[1234] so
# bootstrapping and the installation procedure can still use
# CC="stage1/xgcc -Bstage1/".  If the host doesn't support symlinks,
# FLAGS_TO_PASS has been modified to solve the problem there.
# This is virtually a duplicate of what happens in configure.lang; we do
# an extra check to make sure this only happens if ln -s can be used.
if [ "$symbolic_link" = "ln -s" ]; then
 for d in .. ${subdirs} ; do
   if [ $d != .. ]; then
	STARTDIR=`pwd`
	cd $d
	for t in stage1 stage2 stage3 stage4 include
	do
		rm -f $t
		$symbolic_link ../$t $t 2>/dev/null
	done
	cd $STARTDIR
   fi
 done
else true ; fi

exit 0
EOF
chmod +x $CONFIG_STATUS
rm -fr confdefs* $ac_clean_files
test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1

@


1.26
log
@Adjust configure.in & rerun autoconf.
@
text
@@


1.25
log
@Write a `default' OpenBSD setup to factorize stuff that is common to
all OpenBSD architectures. That way, you have to make a conscious
effort to rewrite it.

As usual, configure.in -> configure.
First guy who patches configure directly gets shot.
@
text
@d2852 3
a2854 2
		tmake_file=t-libc-ok
		xmake_file=x-openbsd
d2928 2
a2929 1
		# nothing special
a3259 1
		xm_file="${cpu_type}/xm-openbsd.h"
d4189 1
a4189 1
		tmake_file=m88k/t-openbsd
d4389 1
d4393 1
d4757 1
a4757 1
	powerpc-*-*bsd*)
d4759 1
a4759 1
		xmake_file=rs6000/x-openbsd
@


1.24
log
@Add openbsd changes directly to configure.in,
rebuild configure using latest autoconf.
@
text
@d2846 10
d2927 1
a2927 5
		tm_file=alpha/openbsd.h
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
		tmake_file=t-libc-ok
		xmake_file=x-openbsd
a3257 1
		tm_file="${cpu_type}/openbsd.h"
a3260 1
		fixincludes=Makefile.in
d3382 1
a3382 5
		tm_file=i386/openbsd.h
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
		tmake_file=t-libc-ok
		xmake_file=x-openbsd
d4072 1
a4072 5
		tm_file=m68k/openbsd.h
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
		tmake_file=t-libc-ok
		xmake_file=x-openbsd
a4187 3
		tm_file=m88k/openbsd.h
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
a4188 1
		xmake_file=x-openbsd
d4387 1
a4387 5
		tm_file=mips/openbsd-le.h
		xmake_file=x-openbsd
		tmake_file=t-libc-ok
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
d4390 1
a4390 5
		tm_file=mips/openbsd-be.h
		xmake_file=x-openbsd
		tmake_file=t-libc-ok
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
d4732 1
a4732 5
		tm_file=ns32k/openbsd.h
		tmake_file=t-libc-ok
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
		xmake_file=x-openbsd
a4747 3
		tm_file=romp/openbsd.h
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
a4754 1
		tm_file=rs6000/openbsd.h
a4755 2
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
d4971 1
a4971 5
		tm_file=sparc/openbsd.h
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
		tmake_file=t-libc-ok
		xmake_file=x-openbsd
d5144 1
a5144 5
		tm_file=vax/openbsd.h
		tmake_file="t-libc-ok vax/t-openbsd"
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
		xmake_file=x-openbsd
@


1.23
log
@better support for openbsd/hppa, some parts from current egcs-snapshot port; thanks espie@@
@
text
@d4 1
a4 1
# Generated automatically using autoconf version 2.12 
d70 1
d354 1
a354 1
    echo "configure generated by autoconf version 2.12"
d524 1
a524 1
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
d527 2
d683 3
a685 3
ac_config_guess="/bin/sh $ac_aux_dir/config.guess"
ac_config_sub="/bin/sh $ac_aux_dir/config.sub"
ac_configure="/bin/sh $ac_aux_dir/configure" # This should be Cygnus configure.
d710 1
a710 1
if $ac_config_sub sun4 >/dev/null 2>&1; then :
d715 1
a715 1
echo "configure:713: checking host system type" >&5
d722 1
a722 1
    if host_alias=`$ac_config_guess`; then :
d729 1
a729 1
host=`$ac_config_sub $host_alias`
d736 1
a736 1
echo "configure:734: checking target system type" >&5
d747 1
a747 1
target=`$ac_config_sub $target_alias`
d754 1
a754 1
echo "configure:752: checking build system type" >&5
d765 1
a765 1
build=`$ac_config_sub $build_alias`
d781 1
a781 1
echo "configure:779: checking for $ac_word" >&5
d788 3
a790 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d811 1
a811 1
echo "configure:808: checking for $ac_word" >&5
d818 1
a818 1
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
d820 2
a821 1
  for ac_dir in $PATH; do
d856 34
d894 1
a894 1
echo "configure:856: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5
d900 1
a900 1
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
d903 3
a905 2
cat > conftest.$ac_ext <<EOF
#line 866 "configure"
d907 1
d910 1
a910 1
if { (eval echo configure:870: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d924 6
d936 1
a936 1
echo "configure:890: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
d941 1
a941 1
echo "configure:895: checking whether we are using GNU C" >&5
d950 1
a950 1
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:904: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
d961 9
a969 5
  ac_test_CFLAGS="${CFLAGS+set}"
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:919: checking whether ${CC-cc} accepts -g" >&5
d984 4
a987 3
  if test "$ac_test_CFLAGS" = set; then
    CFLAGS="$ac_save_CFLAGS"
  elif test $ac_cv_prog_cc_g = yes; then
d990 4
d995 2
a997 3
else
  GCC=
  test "${CFLAGS+set}" = set || CFLAGS="-g"
d1001 1
a1001 1
echo "configure:947: checking whether ${MAKE-make} sets \${MAKE}" >&5
d1034 1
a1034 1
echo "configure:980: checking for $ac_word" >&5
d1041 3
a1043 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1066 1
a1066 1
echo "configure:1011: checking for $ac_word" >&5
d1073 3
a1075 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1100 1
a1100 1
echo "configure:1044: checking for yywrap in -l$ac_lib" >&5
d1108 1
a1108 1
#line 1052 "configure"
d1119 1
a1119 1
if { (eval echo configure:1063: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d1144 1
a1144 1
echo "configure:1088: checking for $ac_word" >&5
d1151 3
a1153 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1176 1
a1176 1
echo "configure:1119: checking for $ac_word" >&5
d1183 3
a1185 2
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
d1213 1
d1218 1
a1218 1
echo "configure:1159: checking for a BSD compatible install" >&5
d1223 1
a1223 1
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS="${IFS}:"
d1230 3
a1232 1
      for ac_prog in ginstall installbsd scoinst install; do
a1236 1
	    # OSF/1 installbsd also uses dspmsg, but is usable.
d1266 2
d1272 1
a1272 1
echo "configure:1210: checking how to run the C preprocessor" >&5
d1287 1
a1287 1
#line 1225 "configure"
d1293 2
a1294 2
{ (eval echo configure:1231: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1304 18
a1321 1
#line 1242 "configure"
d1327 2
a1328 2
{ (eval echo configure:1248: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1341 2
d1352 1
a1352 1
echo "configure:1271: checking for ANSI C header files" >&5
d1357 1
a1357 1
#line 1276 "configure"
d1365 2
a1366 2
{ (eval echo configure:1284: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1382 1
a1382 1
#line 1301 "configure"
d1400 1
a1400 1
#line 1319 "configure"
d1421 1
a1421 1
#line 1340 "configure"
d1432 1
a1432 1
if { (eval echo configure:1351: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
d1456 1
a1456 1
echo "configure:1375: checking whether time.h and sys/time.h may both be included" >&5
d1461 1
a1461 1
#line 1380 "configure"
d1470 1
a1470 1
if { (eval echo configure:1389: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1494 1
a1494 1
echo "configure:1413: checking for $ac_hdr" >&5
d1499 1
a1499 1
#line 1418 "configure"
d1504 2
a1505 2
{ (eval echo configure:1423: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
d1534 1
a1534 1
echo "configure:1453: checking for inttypes.h" >&5
d1539 1
a1539 1
#line 1458 "configure"
d1547 1
a1547 1
if { (eval echo configure:1466: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d1570 1
a1570 1
echo "configure:1489: checking for $ac_func" >&5
d1575 1
a1575 1
#line 1494 "configure"
d1598 1
a1598 1
if { (eval echo configure:1517: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d1625 1
a1625 1
echo "configure:1544: checking for $ac_func" >&5
d1630 1
a1630 1
#line 1549 "configure"
d1653 1
a1653 1
if { (eval echo configure:1572: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d1680 1
a1680 1
echo "configure:1599: checking for $ac_func" >&5
d1685 1
a1685 1
#line 1604 "configure"
d1708 1
a1708 1
if { (eval echo configure:1627: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d1735 1
a1735 1
echo "configure:1654: checking for $ac_func" >&5
d1740 1
a1740 1
#line 1659 "configure"
d1763 1
a1763 1
if { (eval echo configure:1682: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d1790 1
a1790 1
echo "configure:1709: checking for $ac_func" >&5
d1795 1
a1795 1
#line 1714 "configure"
d1818 1
a1818 1
if { (eval echo configure:1737: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d1845 1
a1845 1
echo "configure:1764: checking for $ac_func" >&5
d1850 1
a1850 1
#line 1769 "configure"
d1873 1
a1873 1
if { (eval echo configure:1792: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d1900 1
a1900 1
echo "configure:1819: checking for $ac_func" >&5
d1905 1
a1905 1
#line 1824 "configure"
d1928 1
a1928 1
if { (eval echo configure:1847: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d1955 1
a1955 1
echo "configure:1874: checking for $ac_func" >&5
d1960 1
a1960 1
#line 1879 "configure"
d1983 1
a1983 1
if { (eval echo configure:1902: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2010 1
a2010 1
echo "configure:1929: checking for $ac_func" >&5
d2015 1
a2015 1
#line 1934 "configure"
d2038 1
a2038 1
if { (eval echo configure:1957: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2065 1
a2065 1
echo "configure:1984: checking for $ac_func" >&5
d2070 1
a2070 1
#line 1989 "configure"
d2093 1
a2093 1
if { (eval echo configure:2012: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2120 1
a2120 1
echo "configure:2039: checking for $ac_func" >&5
d2125 1
a2125 1
#line 2044 "configure"
d2148 1
a2148 1
if { (eval echo configure:2067: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2175 1
a2175 1
echo "configure:2094: checking for $ac_func" >&5
d2180 1
a2180 1
#line 2099 "configure"
d2203 1
a2203 1
if { (eval echo configure:2122: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2230 1
a2230 1
echo "configure:2149: checking for $ac_func" >&5
d2235 1
a2235 1
#line 2154 "configure"
d2258 1
a2258 1
if { (eval echo configure:2177: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
d2284 1
a2284 1
echo "configure:2203: checking whether malloc must be declared" >&5
d2289 1
a2289 1
#line 2208 "configure"
d2316 1
a2316 1
if { (eval echo configure:2235: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2338 1
a2338 1
echo "configure:2257: checking whether realloc must be declared" >&5
d2343 1
a2343 1
#line 2262 "configure"
d2370 1
a2370 1
if { (eval echo configure:2289: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2392 1
a2392 1
echo "configure:2311: checking whether calloc must be declared" >&5
d2397 1
a2397 1
#line 2316 "configure"
d2424 1
a2424 1
if { (eval echo configure:2343: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2446 1
a2446 1
echo "configure:2365: checking whether free must be declared" >&5
d2451 1
a2451 1
#line 2370 "configure"
d2478 1
a2478 1
if { (eval echo configure:2397: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2500 1
a2500 1
echo "configure:2419: checking whether index must be declared" >&5
d2505 1
a2505 1
#line 2424 "configure"
d2532 1
a2532 1
if { (eval echo configure:2451: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2554 1
a2554 1
echo "configure:2473: checking whether rindex must be declared" >&5
d2559 1
a2559 1
#line 2478 "configure"
d2586 1
a2586 1
if { (eval echo configure:2505: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2608 1
a2608 1
echo "configure:2527: checking whether getenv must be declared" >&5
d2613 1
a2613 1
#line 2532 "configure"
d2640 1
a2640 1
if { (eval echo configure:2559: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2662 1
a2662 1
echo "configure:2581: checking whether sbrk must be declared" >&5
d2667 1
a2667 1
#line 2586 "configure"
d2694 1
a2694 1
if { (eval echo configure:2613: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2717 1
a2717 1
echo "configure:2636: checking for sys_siglist declaration in signal.h or unistd.h" >&5
d2722 1
a2722 1
#line 2641 "configure"
d2734 1
a2734 1
if { (eval echo configure:2653: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a2881 7
	alpha-*-openbsd*)
		tm_file=alpha/openbsd.h
		# On OpenBSD, the headers are already okay.
		fixincludes=Makefile.in
		tmake_file=t-libc-ok
		xmake_file=x-openbsd
		;;
d2916 7
d3391 1
a3391 1
		  i[345]86-*-isc[34]*)
d4779 1
a4779 1
	        tmake_file=rs6000/t-openbsd
d5940 1
a5940 1
  case `(ac_space=' '; set) 2>&1` in
d6007 1
a6007 1
    echo "$CONFIG_STATUS generated by autoconf version 2.12"
d6027 1
d6031 1
d6073 1
@


1.22
log
@Adding support for Motorola mvme88k
@
text
@d3170 3
a3172 3
		tm_file="pa/pa-openbsd.h"
		xm_file=pa/xm-openbsd.h
		xmake_file=x-openbsd
@


1.21
log
@fix cpp predefines for openbsd/hppa
@
text
@d4109 7
@


1.20
log
@Do not try to test libgcc1 on vax-crosscompilers as we miss two functions
 from libc at this point
@
text
@d3170 1
a3170 1
		tm_file="${tm_file} pa/pa-openbsd.h pa/pa-gas.h"
d3172 1
@


1.19
log
@"sh /bin/sh config.guess" does not work
@
text
@d5085 1
a5085 1
		tmake_file=t-libc-ok
@


1.18
log
@use shell to run scripts
@
text
@d719 1
a719 1
    if host_alias=`sh $ac_config_guess`; then :
@


1.17
log
@first cut on binutils/gcc support for hppa-*-openbsd*; tested on i386 host
@
text
@d680 3
a682 3
ac_config_guess=$ac_aux_dir/config.guess
ac_config_sub=$ac_aux_dir/config.sub
ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.
@


1.16
log
@update to gcc 2.8.1
@
text
@d3168 7
@


1.15
log
@GCC 2.8.0 merge
@
text
@d2145 55
d2202 1
a2202 1
echo "configure:2148: checking whether malloc must be declared" >&5
d2207 1
a2207 1
#line 2153 "configure"
d2234 1
a2234 1
if { (eval echo configure:2180: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2256 1
a2256 1
echo "configure:2202: checking whether realloc must be declared" >&5
d2261 1
a2261 1
#line 2207 "configure"
d2288 1
a2288 1
if { (eval echo configure:2234: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2310 1
a2310 1
echo "configure:2256: checking whether calloc must be declared" >&5
d2315 1
a2315 1
#line 2261 "configure"
d2342 1
a2342 1
if { (eval echo configure:2288: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2364 1
a2364 1
echo "configure:2310: checking whether free must be declared" >&5
d2369 1
a2369 1
#line 2315 "configure"
d2396 1
a2396 1
if { (eval echo configure:2342: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2418 1
a2418 1
echo "configure:2364: checking whether index must be declared" >&5
d2423 1
a2423 1
#line 2369 "configure"
d2450 1
a2450 1
if { (eval echo configure:2396: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2472 1
a2472 1
echo "configure:2418: checking whether rindex must be declared" >&5
d2477 1
a2477 1
#line 2423 "configure"
d2504 1
a2504 1
if { (eval echo configure:2450: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2526 1
a2526 1
echo "configure:2472: checking whether getenv must be declared" >&5
d2531 1
a2531 1
#line 2477 "configure"
d2558 1
a2558 1
if { (eval echo configure:2504: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2579 54
d2635 1
a2635 1
echo "configure:2527: checking for sys_siglist declaration in signal.h or unistd.h" >&5
d2640 1
a2640 1
#line 2532 "configure"
d2652 1
a2652 1
if { (eval echo configure:2544: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2738 1
a2738 1
	i[3456]86-*-*)
d2833 1
d3170 1
a3170 1
	i[3456]86-ibm-aix*)		# IBM PS/2 running AIX
d3196 1
a3196 1
	i[3456]86-next-*)
d3206 1
a3206 1
	i[3456]86-sequent-bsd*) 		# 80386 from Sequent
d3215 1
a3215 1
	i[3456]86-sequent-ptx1*)
d3225 1
a3225 1
	i[3456]86-sequent-ptx2* | i[3456]86-sequent-sysv3*)
d3235 1
a3235 1
	i[3456]86-sequent-ptx4* | i[3456]86-sequent-sysv4*)
d3250 1
a3250 1
	i[3456]86-*-aout*)
d3254 1
a3254 1
	i[3456]86-*-bsdi* | i[345]86-*-bsd386*)
d3259 1
a3259 1
	i[3456]86-*-bsd*)
d3266 1
a3266 1
	i[3456]86-*-freebsdelf*)
d3275 1
a3275 1
	i[3456]86-*-freebsd*)
d3281 1
a3281 1
	i[3456]86-*-netbsd*)
d3287 1
a3287 1
	i[3456]86-*-openbsd*)
d3294 1
a3294 1
	i[3456]86-*-coff*)
d3298 1
a3298 1
	i[3456]86-*-isc*)		# 80386 running ISC system
d3321 1
a3321 1
	i[3456]86-*-linux-gnuoldld*)	# Intel 80386's running GNU/Linux
d3330 1
a3330 1
	i[3456]86-*-linux-gnuaout*)	# Intel 80386's running GNU/Linux
d3339 1
a3339 1
	i[3456]86-*-linux-gnulibc1)
d3352 1
a3352 1
	i[3456]86-*-linux-gnu*)	# Intel 80386's running GNU/Linux
d3365 1
a3365 1
	i[3456]86-*-gnu*)
d3367 1
a3367 1
	i[3456]86-go32-msdos | i[3456]86-*-go32*)
d3372 8
a3379 1
	i[3456]86-moss-msdos* | i[3456]86-*-moss*)
d3386 1
a3386 1
	i[3456]86-*-lynxos*)
d3397 1
a3397 1
	i[3456]86-*-mach*)
d3402 1
a3402 1
	i[3456]86-*-osfrose*)		# 386 using OSF/rose
d3416 1
a3416 1
	i[345]86-go32-rtems*)
d3422 1
a3422 1
	i[345]86-*-rtems*)
d3427 1
a3427 1
	i[3456]86-*-sco3.2v5*)		# 80386 running SCO Open Server 5
d3432 1
d3437 1
a3437 1
	i[3456]86-*-sco3.2v4*)	 	# 80386 running SCO 3.2v4 system
d3455 1
a3455 1
	i[3456]86-*-sco*)	 	# 80386 running SCO system
d3472 1
a3472 1
	i[3456]86-*-solaris2*)
d3481 1
a3481 1
		extra_parts="crt1.o crti.o crtn.o crtbegin.o crtend.o"
d3489 1
a3489 1
	i[3456]86-*-sysv4*)		# Intel 80386's running system V.4
d3500 1
a3500 1
	i[3456]86-*-sysv*)		# Intel 80386's running system V
d3527 1
a3527 1
	i[3456]86-*-pe | i[3456]86-*-cygwin32)
d3539 1
a3539 1
	i[3456]86-*-mingw32)
d3550 7
d3558 1
a3558 1
	i[3456]86-*-winnt3*)
d3575 1
a3575 1
	i[3456]86-dg-dgux)
d3581 1
a3581 1
		fixincludes=fixinc.dgux
d3627 1
a3627 1
	i960-wrs-vxworks5*)
a4295 1
		prefix=$native_prefix
d4963 6
a4968 1
		tm_file=sparc/sol2.h
d5139 1
a5139 1
	# Distinguish i[3456]86
d5150 1
a5150 1
	i686-*-*)
d5427 7
a5433 3
# Truncate the target if necessary
if [ x$host_truncate_target != x ]; then
	target=`echo $target | sed -e 's/\(..............\).*/\1/'`
d5436 7
a5442 2
# Get the version number from the toplevel
version=`sed -e 's/.*\"\([^ \"]*\)[ \"].*/\1/' < ${srcdir}/version.c`
d5489 1
a5489 1
if $symbolic_link symtest1.tem symtest.tem 2>/dev/null
d5494 7
a5500 1
	symbolic_link="cp -p"
d5783 1
d5810 5
d5843 1
a5843 1
  case `(ac_space=' '; set | grep ac_space) 2>&1` in
d6018 1
d6250 1
@


1.14
log
@Make MIPS configuration more consistent
@
text
@d1 1
a1 20
#!/bin/sh
# Configuration script for GNU CC
#   Copyright (C) 1988, 90, 91, 92, 93, 94, 1995 Free Software Foundation, Inc.

#This file is part of GNU CC.

#GNU CC is free software; you can redistribute it and/or modify
#it under the terms of the GNU General Public License as published by
#the Free Software Foundation; either version 2, or (at your option)
#any later version.

#GNU CC is distributed in the hope that it will be useful,
#but WITHOUT ANY WARRANTY; without even the implied warranty of
#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#GNU General Public License for more details.

#You should have received a copy of the GNU General Public License
#along with GNU CC; see the file COPYING.  If not, write to
#the Free Software Foundation, 59 Temple Place - Suite 330,
#Boston, MA 02111-1307, USA.
d3 3
d7 1850
a1856 28
# Shell script to create proper links to machine-dependent files in
# preparation for compiling gcc.
#
# Options: --srcdir=DIR		specifies directory where sources are.
# 	   --host=HOST		specifies host configuration.
#	   --target=TARGET	specifies target configuration.
#	   --build=TARGET	specifies configuration of machine you are
#				using to compile GCC.
#	   --prefix=DIR		specifies directory to install in.
#	   --local-prefix=DIR	specifies directory to put local ./include in.
#	   --gxx-include-dir=DIR specifies directory to put g++ header files in.
#	   --exec-prefix=DIR	specifies directory to install executables in.
#	   --with-gnu-ld	arrange to work with GNU ld.
#	   --with-gnu-as	arrange to work with GAS.
#	   --with-stabs		arrange to use stabs instead of host debug format.
#	   --with-elf		arrange to use elf instead of host debug format.
#	   --enable-FOO, --enable-FOO=BAR include feature FOO (parameter BAR)
#	   --disable-FOO	do not include feature FOO
#	   --nfp		assume system has no FPU.
#	   --program-prefix=PREFIX specifies prefix for executable names.
#	   --program-suffix=SUFFIX specifies suffix for executable names.
#	   --program-transform-name=SED-EXPR specifies `sed' expression to
#				apply to executable names.
#
# If configure succeeds, it leaves its status in config.status.
# If configure fails after disturbing the status quo, 
# 	config.status is removed.
#
d1858 11
a1868 1
progname=$0
d1870 41
a1910 7
# Default --srcdir to the directory where the script is found, 
# if a directory was specified.
# The second sed call is to convert `.//configure' to `./configure'.
srcdir=`echo $0 | sed 's|//|/|' | sed 's|/[^/]*$||'`
if [ x$srcdir = x$0 ]
then
srcdir=
d1913 11
a1923 1
host=
d1925 42
a1966 2
# Default prefix to /usr/local.
prefix=/usr/local
d1968 6
a1973 3
# On systems where GCC is the native compiler, $prefix should be
# /usr. But the user can change it with configure --prefix=/foo/bar
native_prefix=/usr
d1975 47
a2021 12
# local_prefix specifies where to find the directory /usr/local/include
# We don't use $(prefix) for this
# because we always want GCC to search /usr/local/include
# even if GCC is installed somewhere other than /usr/local.
# Think THREE TIMES before specifying any other value for this!
# DO NOT make this use $prefix!
local_prefix=/usr/local
# Default is to let the Makefile set exec_prefix from $(prefix)
exec_prefix='$(prefix)'
#
# The default g++ include directory is $(libdir)/g++-include.
gxx_include_dir='$(libdir)/g++-include'
d2023 11
a2033 3
# Default --program-transform-name to nothing.
program_transform_name=
program_transform_set=
d2035 42
a2076 4
remove=rm
hard_link=ln
symbolic_link='ln -s'
copy=cp
d2078 11
a2088 2
# Record all the arguments, to write them in config.status.
arguments=$*
d2090 42
a2131 82
#for Test
#remove="echo rm"
#hard_link="echo ln"
#symbolic_link="echo ln -s"

target=
host=
build=
name1=
name2=

for arg in $*;
do
  case $next_arg in
  --srcdir)
    srcdir=$arg
    next_arg=
    ;;
  --host)
    host=$arg
    next_arg=
    ;;
  --target)
    target=$arg
    next_arg=
    ;;
  --build)
    build=$arg
    next_arg=
    ;;
  --prefix)
    prefix=$arg
    native_prefix=$prefix
    next_arg=
    ;;
  --local-prefix)
    local_prefix=$arg
    next_arg=
    ;;
  --gxx-include-dir)
    gxx_include_dir=$arg
    next_arg=
    ;;
  --exec-prefix)
    exec_prefix=$arg
    next_arg=
    ;;
  --program-transform-name)
    # Double any backslashes or dollar signs in the argument.
    if [ -n "${arg}" ] ; then
      program_transform_name="${program_transform_name} -e `echo ${arg} | sed -e 's/\\\\/\\\\\\\\/g' -e 's/\\\$/$$/g'`"
    fi
    program_transform_set=yes
    next_arg=
    ;;    
  --program-prefix)
    if [ -n "${arg}" ]; then
      program_transform_name="${program_transform_name} -e s,^,`echo ${arg} | sed -e 's/\\\\/\\\\\\\\/g' -e 's/\\\$/$$/g'`,"
    fi
    program_transform_set=yes
    next_arg=
    ;;
  --program-suffix)
    if [ -n "${arg}" ]; then
      program_transform_name="${program_transform_name} -e s,\$\$,`echo ${arg} | sed -e 's/\\\\/\\\\\\\\/g' -e 's/\\\$/$$/g'`,"
    fi
    program_transform_set=yes
    next_arg=
    ;;
  --x-*)
    next_arg=
    ;;
  *)
    case $arg in
      -*)
	if [ x$name1 != x ]
	then
		echo "Positional arguments must be last." 1>&2
		exit 1
	fi
	;;
    esac
d2133 10
a2142 183
    case $arg in
     -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
	next_arg=--srcdir
	;;
     -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
	srcdir=`echo $arg | sed 's/-*s[a-z]*=//'`
	;;
     -host | --host | --hos | --ho)
	next_arg=--host
	;;
     -host=* | --host=* | --hos=* | --ho=*)
	host=`echo $arg | sed 's/-*h[a-z]*=//'`
	;; 
     -target | --target | --targe | --targ | --tar | --ta | --t)
	next_arg=--target
	;;
     -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
	target=`echo $arg | sed 's/-*t[a-z]*=//'`
	;; 
     -build | --build | --buil | --bui | --bu | --b)
	next_arg=--build
	;;
     -build=* | --build=* | --buil=* | --bui=* | --bu=* | --b=*)
	build=`echo $arg | sed 's/-*b[a-z]*=//'`
	;; 
     -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
	next_arg=--prefix
	;;
     -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
	prefix=`echo $arg | sed 's/-*p[a-z]*=//'`
	native_prefix=$prefix
	;;
     -local-prefix | --local-prefix | --local-prefi | --local-pref | --local-pre \
	| --local-pr | --local-p | --local- | --local | --loc | --lo | --l)
	next_arg=--local-prefix
	;;
     -local-prefix=* | --local-prefix=* | --local-prefi=* | --local-pref=* \
	| --local-pre=* | --local-pr=* | --local-p=* | --local-=* | --local=* \
	| --loc=* | --lo=* | --l=*)
	local_prefix=`echo $arg | sed 's/-*l[-a-z]*=//'`
	;;
     -gxx-include-dir | --gxx-include-dir | --gxx-include \
	| --gxx-incl | --gxx-inc | --gxx-in | --gxx-i | --gxx- \
	| --gxx | --gxx | --gx | --g)
	next_arg=--gxx-include-dir
	;;
     -gxx-include-dir=* | --gxx-include-dir=* | --gxx-include=* \
	| --gxx-incl=* | --gxx-inc=* | --gxx-in=* | --gxx-i=* \
	| --gxx-=* | --gxx=* | --gxx=* | --gxx=* | --g=*)
	gxx_include_dir=`echo $arg | sed 's/-*g[-a-z]*=//'`
	;;
     -exec-prefix | --exec-prefix | --exec-prefi | --exec-pref | --exec-pre \
	| --exec-pr | --exec-p | --exec- | --exec | --exe | --ex | --e)
	next_arg=--exec-prefix
	;;
     -exec-prefix=* | --exec-prefix=* | --exec-prefi=* | --exec-pref=* \
	| --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* | --exec=* \
	| --exe=* | --ex=* | --e=*)
	exec_prefix=`echo $arg | sed 's/-*e[-a-z]*=//'`
	;;
     -program-transform-name | --program-transform-name \
	| --program-transform-nam | --program-transform-na \
	| --program-transform-n | --program-transform- | --program-transform \
	| --program-transfor | --program-transfo | --program-transf \
	| --program-trans | --program-tran | --program-tra \
	| --program-tr | --program-t)
	next_arg=--program-transform-name
	;;
     -program-transform-name=* | --program-transform-name=* \
	| --program-transform-nam=* | --program-transform-na=* \
	| --program-transform-n=* | --program-transform-=* \
	| --program-transform=* | --program-transfor=* | --program-transfo=* \
	| --program-transf=* | --program-trans=* | --program-tran=* \
	| --program-tra=* | --program-tr=* | --program-t=*)
	arg=`echo ${arg} | sed -e 's/^[-a-z_]*=//'`
	# Double any \ or $ in the argument.
	if [ -n "${arg}" ] ; then
	  program_transform_name="${program_transform_name} -e `echo ${arg} | sed -e 's/\\\\/\\\\\\\\/g' -e 's/\\\$/$$/g'`"
	fi
	program_transform_set=yes
	;;
     -program-prefix | --program-prefix | --program-prefi \
	| --program-pref | --program-pre | --program-pr \
	| --program-p)
	next_arg=--program-prefix
	;;
     -program-prefix=* | --program-prefix=* | --program-prefi=* \
	| --program-pref=* | --program-pre=* | --program-pr=* \
	| --program-p=*)
	arg=`echo ${arg} | sed -e 's/^[-a-z_]*=//'`
	if [ -n "${arg}" ]; then
	  program_transform_name="${program_transform_name} -e s,^,`echo ${arg} | sed -e 's/\\\\/\\\\\\\\/g' -e 's/\\\$/$$/g'`,"
	fi
	program_transform_set=yes
	;;
     -program-suffix | --program-suffix | --program-suffi \
	| --program-suff | --program-suf | --program-su \
	| --program-s)
	next_arg=--program-suffix
	;;
     -program-suffix=* | --program-suffix=* | --program-suffi=* \
	| --program-suff=* | --program-suf=* | --program-su=* \
	| --program-s=*)
	arg=`echo ${arg} | sed -e 's/^[-a-z_]*=//'`
	if [ -n "${arg}" ]; then
	  program_transform_name="${program_transform_name} -e s,\$\$,`echo ${arg} | sed -e 's/\\\\/\\\\\\\\/g' -e 's/\\\$/$$/g'`,"
	fi
	program_transform_set=yes
	;;
     -with-gnu-ld | --with-gnu-ld | --with-gnu-l)
	gnu_ld=yes
	;;
     -gas | --gas | --ga | --g | -with-gnu-as | --with-gnu-as | -with-gnu-a)
        gas=yes
	;;
     -nfp | --nfp | --nf | --n)
	nfp=yes
	;;
     -with-stabs | -with-stab | -with-sta | -with-st | -with-s \
	| --with-stabs | --with-stab | --with-sta | --with-st | --with-s \
	| -stabs | -stab | -sta | -st  \
	| --stabs | --stab | --sta | --st)
	stabs=yes
	;;
     -with-elf | -with-el | -with-se \
	| --with-elf | --with-el | --with-e \
	| -elf | -el | -e \
	|--elf | --el | --e)
	elf=yes
	;;
     -with-* | --with-*) ;; #ignored
     -without-* | --without-*) ;; #ignored
     -disable-* | --disable-*)
	enableopt=`echo ${arg} | sed 's:^-*disable-:enable_:;s:-:_:g'`
	eval $enableopt=no
	;;
     -enable-* | --enable-*)
	case "$arg" in
	*=*)	optarg=`echo $arg | sed 's:^[^=]*=::;s:-:_:g'` ;;
	*)	optarg=yes ;;
	esac
	enableopt=`echo ${arg} | sed 's:^-*::;s:=.*$::;s:-:_:g'`
	eval $enableopt="$optarg"
	;;
     -x | --x) ;; # ignored
     -x-*=* | --x-*=*) ;; # ignored
     -x-* | --x-*)
	next_arg=--x-ignored # ignored
	;;
     --he*) ;; # ignored for now (--help)
     --vers*) ;; # ignored for now (--version)
     -v | -verb* | --verb*) ;; # ignored for now (--verbose)
     --program-*) ;; #ignored (--program-prefix, --program-suffix)
     --c*) ;; #ignored (--cache-file)
     --q*) ;; #ignored (--quiet)
     --si*) ;; #ignored (--silent)
     -*)
	echo "Invalid option \`$arg'" 1>&2
	exit 1
	;;
     *)
# Allow configure HOST TARGET.  If just one name is given, it is used
# as both unless a host was previously given, in which case it is
# just the target.
	if [ x$name1 != x ]
	then
		if [ x$name2 != x ]
		then
			echo "More than two configuration names." 1>&2
			exit 1
		fi
		name2=$arg
	elif [ x$host != x ]
	then
		name1=$host
		name2=$arg
		host=
	else
		name1=$arg
	fi
	;;
    esac
  esac
a2144 6
if [ x$name1 != x ]
then
	if [ x$name2 = x ]
	then
		name2=$name1
	fi
d2146 260
a2405 5
	if [ x$host != x ]
	then
		echo "Duplicate specification of host." 1>&2
		exit 1
	fi
d2407 6
a2412 5
	if [ x$target != x ]
	then
		echo "Duplicate specification of target." 1>&2
		exit 1
	fi
a2413 3
	host=$name1
	build=$name1
	target=$name2
d2416 43
a2458 9
# Find the source files, if location was not specified.
if [ x$srcdir = x ]
then
	srcdirdefaulted=1
	srcdir=.
	if [ ! -r tree.c ]
	then
		srcdir=..
	fi
d2461 7
a2467 9
if [ ! -r ${srcdir}/tree.c ]
then
	if [ x$srcdirdefaulted = x ]
	then
	  echo "$progname: Can't find compiler sources in \`${srcdir}'" 1>&2
	else
	  echo "$progname: Can't find compiler sources in \`.' or \`..'" 1>&2
	fi
	exit 1
d2470 43
a2512 4
if [ -r ${srcdir}/config.status ] && [ x$srcdir != x. ]
then
	echo "$progname: \`configure' has been run in \`${srcdir}'" 1>&2
	exit 1
d2515 6
a2520 16
# Complain if an arg is missing
if [ x$build = x ]
then
	# If host was specified, always use it for build also to avoid
	# confusion.  If someone wants a cross compiler where build != host,
	# then they must specify build explicitly.  Since this case is
	# extremely rare, it does not matter that it is slightly inconvenient.
	if [ x$host != x ]
	then
		build=$host
	
	# This way of testing the result of a command substitution is
	# defined by Posix.2 (section 3.9.1) as well as traditional shells.
	elif build=`sh ${srcdir}/config.guess`
	then
		echo "This appears to be a ${build} system." 1>&2
a2521 17
	elif [ x$target != x ]
	then
		echo 'Config.guess failed to determine the host type.  Defaulting to target.'
		build=$target
	else
		echo 'Config.guess failed to determine the host type.  You need to specify one.' 1>&2
		echo "\
Usage: `basename $progname` [--host=HOST] [--build=BUILD]
       [--prefix=DIR] [--gxx-include-dir=DIR] [--local-pref=DIR] [--exec-pref=DIR]
       [--with-gnu-as] [--with-gnu-ld] [--with-stabs] [--with-elf] [--nfp] TARGET" 1>&2
	echo "Where HOST, TARGET and BUILD are three-part configuration names " 1>&2
		if [ -r config.status ]
		then
			tail +2 config.status 1>&2
		fi
		exit 1
	fi
d2524 29
a2552 4
# If $host was not specified, use $build.
if [ x$host = x ]
then
	host=$build
d2555 6
a2560 4
# If $target was not specified, use $host.
if [ x$target = x ]
then
	target=$host
d2563 7
d2571 3
a2575 2
host_broken_install=
host_install_headers_dir=install-headers-tar
a2577 5
# Validate the specs, and canonicalize them.
canon_build=`/bin/sh $srcdir/config.sub $build` || exit 1
canon_host=`/bin/sh $srcdir/config.sub $host` || exit 1
canon_target=`/bin/sh $srcdir/config.sub $target` || exit 1

d2582 1
a2582 1
for machine in $canon_build $canon_host $canon_target; do
a2583 3
	cpu_type=
	xm_file=
	tm_file=
d2589 62
a2650 21
	extra_parts=
	extra_programs=
	extra_objs=
	extra_gcc_objs=
	# Set this to force installation and use of collect2.
	use_collect2=
	# Set this to override the default target model.
	target_cpu_default=
	# Set this to force use of install.sh.
	broken_install=
	# Set this to control which fixincludes program to use.
	fixincludes=fixincludes
	# Set this to control how the header file directory is installed.
	install_headers_dir=install-headers-tar
	# Set this to a non-empty list of args to pass to cpp if the target
	# wants its .md file passed through cpp.
	md_cppflags=
	# Set this if directory names should be truncated to 14 characters.
	truncate_target=
	# Set this if gdb needs a dir command with `dirname $out_file`
	gdb_needs_out_file_path=
d2652 3
d2674 1
a2674 1
		tm_file=a29k/unix.h
a2676 1
		tmake_file=a29k/t-a29k
d2680 1
a2681 1
		tm_file=a29k/a29k-udi.h
d2684 1
a2685 1
		tm_file=a29k/vx29k.h
a2692 1
		xm_file=alpha/xm-openbsd.h
d2698 8
a2705 12
	alpha-dec-osf[23456789]*)
		tm_file=alpha/osf2.h
		if [ x$stabs = xyes ]
		then
			tm_file=alpha/gdb-osf2.h
		fi
		if [ x$gas != xyes ]
		then
			extra_passes="mips-tfile mips-tdump"
		fi
		broken_install=yes
		use_collect2=yes
d2707 23
a2729 12
	alpha-dec-osf1.2)
		tm_file=alpha/osf12.h
		if [ x$stabs = xyes ]
		then
			tm_file=alpha/gdb-osf12.h
		fi
		if [ x$gas != xyes ]
		then
			extra_passes="mips-tfile mips-tdump"
		fi
		broken_install=yes
		use_collect2=yes
d2731 1
a2731 1
	alpha-*-osf*)
d2734 1
a2734 1
			tm_file=alpha/gdb.h
d2742 18
d2761 4
a2764 3
	alpha-*-winnt3*)
		tm_file=alpha/win-nt.h
		xm_file=alpha/xm-winnt.h
d2767 1
a2767 1
		extra_objs=oldnames.o
d2774 16
a2806 1
		cpu_type=arm
d2811 25
a2835 1
	arm-*-*)			# generic version
d2838 1
a2838 2
		cpu_type=convex
		tm_file=convex/convex1.h
d2843 1
a2843 2
		cpu_type=convex
		tm_file=convex/convex2.h
d2848 1
a2848 2
		cpu_type=convex
		tm_file=convex/convex32.h	# Convex C32xx
d2853 1
a2853 2
		cpu_type=convex
		tm_file=convex/convex34.h	# Convex C34xx
d2858 1
a2858 2
		cpu_type=convex
		tm_file=convex/convex38.h	# Convex C38xx
d2863 1
a2863 2
		broken_install=yes
		cpu_type=clipper
d2865 1
a2865 1
		tm_file=clipper/clix.h
a2867 1
		xmake_file=clipper/x-clix
d2869 1
d2880 6
a2885 1
		cpu_type=h8300
d2888 2
a2889 2
		cpu_type=pa
		tm_file=pa/pa1-osf.h
d2893 5
d2899 1
a2899 2
		cpu_type=pa
		tm_file=pa/pa-osf.h
d2904 1
a2904 2
		cpu_type=pa
		tm_file=pa/pa1.h
a2908 1
		cpu_type=pa
d2913 1
a2913 1
		cpu_type=pa
a2915 1
		tmake_file=pa/t-pa
d2918 1
a2918 3
			tm_file=pa/pa-gux7.h
		else
			tm_file=pa/pa-hpux7.h
d2925 1
a2925 1
		cpu_type=pa
a2927 1
		tmake_file=pa/t-pa
d2930 1
a2930 1
			tm_file=pa/pa-ghpux.h
d2932 1
a2932 1
			tm_file=pa/pa-oldas.h
d2939 2
a2940 1
		cpu_type=pa
a2942 1
		tmake_file=pa/t-pa
d2945 1
a2945 1
			tm_file=pa/pa1-ghpux.h
d2947 26
a2972 1
			tm_file=pa/pa1-oldas.h
a2977 1
	hppa1.1-*-hpux9* | \
d2979 2
a2980 1
		cpu_type=pa
a2982 1
		tmake_file=pa/t-pa
d2985 1
a2985 3
			tm_file=pa/pa1-ghpux9.h
		else
			tm_file=pa/pa1-hpux9.h
a2990 1
	hppa1.0-*-hpux9* | \
d2992 1
a2992 1
		cpu_type=pa
a2994 1
		tmake_file=pa/t-pa
d2997 1
a2997 3
			tm_file=pa/pa-ghpux9.h
		else
			tm_file=pa/pa-hpux9.h
d3004 2
a3005 1
		cpu_type=pa
a3007 1
		tmake_file=pa/t-pa
d3010 1
a3010 3
			tm_file=pa/pa1-ghpux.h
		else
			tm_file=pa/pa1-hpux.h
d3017 1
a3017 1
		cpu_type=pa
a3019 1
		tmake_file=pa/t-pa
d3022 1
a3022 3
			tm_file=pa/pa-ghpux.h
		else
			tm_file=pa/pa-hpux.h
d3029 2
a3030 1
		cpu_type=pa
a3032 1
		tmake_file=pa/t-pa
d3035 1
a3035 3
			tm_file=pa/pa1-ghiux.h
		else
			tm_file=pa/pa1-hiux.h
d3042 1
a3042 1
		cpu_type=pa
a3044 1
		tmake_file=pa/t-pa
d3047 1
a3047 3
			tm_file=pa/pa-ghiux.h
		else
			tm_file=pa/pa-hiux.h
d3054 1
a3054 2
		cpu_type=pa
		tm_file=pa/pa1.h
a3058 4
		cpu_type=i370
		tm_file=i370/mvs.h
		xm_file=i370/xm-mvs.h
		out_file=i370/mvs370.c
d3060 1
a3060 2
	i[345]86-ibm-aix*)		# IBM PS/2 running AIX
		cpu_type=i386
a3074 1
		cpu_type=i386
d3077 6
a3082 1
		tm_file=i386/sysv4.h
d3086 1
a3086 2
	i[345]86-next-*)
		cpu_type=i386
a3087 1
		out_file=i386/next.c
d3091 4
d3096 1
a3096 2
	i[345]86-sequent-bsd*) 		# 80386 from Sequent
		cpu_type=i386
d3105 1
a3105 2
	i[345]86-sequent-ptx1*)
		cpu_type=i386
d3115 1
a3115 2
	i[345]86-sequent-ptx2* | i[345]86-sequent-sysv*)
		cpu_type=i386
d3125 10
d3140 1
a3140 2
	i[345]86-*-aout*)
		cpu_type=i386
d3144 1
a3144 2
	i[345]86-*-bsdi* | i[345]86-*-bsd386*)
		cpu_type=i386
d3149 1
a3149 2
	i[345]86-*-bsd*)
		cpu_type=i386
d3156 10
a3165 2
	i[345]86-*-freebsd*)
		cpu_type=i386
d3167 3
a3169 4
		xm_file=i386/xm-freebsd.h
		# On FreeBSD, the headers are already ok.
		fixincludes=Makefile.in
		xmake_file=i386/x-freebsd
d3171 1
a3171 2
	i[345]86-*-netbsd*)
		cpu_type=i386
d3173 3
a3175 5
		xm_file=i386/xm-netbsd.h
		# On NetBSD, the headers are already okay.
		fixincludes=Makefile.in
		tmake_file=t-libc-ok
		xmake_file=x-netbsd
d3177 1
a3177 2
	i[345]86-*-openbsd*)
		cpu_type=i386
a3178 1
		xm_file=i386/xm-openbsd.h
d3184 1
a3184 2
	i[345]86-*-coff*)
		cpu_type=i386
d3188 1
a3188 5
	i[345]86-*-gnu*)
		cpu_type=i386	# GNU supports this CPU; rest done below.
		;;
	i[345]86-*-isc*)		# 80386 running ISC system
		cpu_type=i386
a3197 1
		echo $xmake_file
d3202 1
a3202 1
			extra_parts="crtbegin.o crtend.o svr3.ifile svr3z.ifile"
d3211 4
a3214 4
	i[345]86-*-linux*oldld*)	# Intel 80386's running Linux
		cpu_type=i386		# with a.out format using pre BFD linkers
		xm_file=i386/xm-linux.h
		xmake_file=x-linux
d3216 1
a3216 1
		fixincludes=Makefile.in #On Linux, the headers are ok already.
d3220 4
a3223 4
	i[345]86-*-linux*aout*)		# Intel 80386's running Linux
		cpu_type=i386		# with a.out format
		xm_file=i386/xm-linux.h
		xmake_file=x-linux
d3225 1
a3225 1
		fixincludes=Makefile.in #On Linux, the headers are ok already.
d3229 16
a3244 4
	i[345]86-*-linux*)		# Intel 80386's running Linux
		cpu_type=i386		# with ELF format
		xm_file=i386/xm-linux.h
		xmake_file=x-linux
d3246 3
a3248 1
		fixincludes=Makefile.in #On Linux, the headers are ok already.
d3251 19
a3269 10
		# Don't use it. Linux uses a slightly different one.
		# The real one comes with the Linux C library.
		#extra_parts="crtbegin.o crtend.o"
		;;
      i[345]86-go32-msdos | i[345]86-*-go32)
              cpu_type=i386
              tm_file=i386/go32.h
              ;;
	i[345]86-*-lynxos*)
		cpu_type=i386
d3280 1
a3280 2
	i[345]86-*-mach*)
		cpu_type=i386
d3285 1
a3285 2
	i[345]86-*-osfrose*)		# 386 using OSF/rose
		cpu_type=i386
d3296 1
d3299 7
a3305 1
	i[345]86-*-sco3.2v4*)	 	# 80386 running SCO 3.2v4 system
d3307 13
d3335 1
d3337 1
a3337 2
	i[345]86-*-sco*)	 	# 80386 running SCO system
		cpu_type=i386
d3354 1
a3354 2
	i[345]86-*-solaris2* | i[345]86-*-sunos5*)
		cpu_type=i386
d3356 6
a3361 1
		tm_file=i386/sol2.h
d3365 1
a3365 1
		fixincludes=fixinc.svr4
d3367 3
d3371 1
a3371 2
	i[345]86-*-sysv4*)		# Intel 80386's running system V.4
		cpu_type=i386
d3373 1
d3376 1
a3376 3
			tm_file=i386/sysv4gdb.h
		else
			tm_file=i386/sysv4.h
d3382 1
a3382 2
	i[345]86-*-sysv*)		# Intel 80386's running system V
		cpu_type=i386
d3409 25
a3433 2
	i[345]86-*-winnt3*)
		cpu_type=i386
d3439 1
a3439 1
		extra_objs="winnt.o oldnames.o"
d3446 3
d3450 9
d3460 2
a3461 1
		xm_file=i860/xm-fx2800.h
a3462 1
		tm_file=i860/fx2800.h
d3467 1
d3470 1
a3470 3
			tm_file=i860/bsd-gas.h
		else
			tm_file=i860/bsd.h
d3475 1
a3475 2
		xm_file=i860/xm-i860.h
		tm_file=i860/mach.h
d3479 2
a3480 2
		xm_file=i860/xm-paragon.h
		tm_file=i860/paragon.h
d3485 2
a3486 1
		xm_file=i860/xm-sysv3.h
a3487 1
		tm_file=i860/sysv3.h
d3491 2
a3492 1
		xm_file=i860/xm-sysv4.h
a3493 1
		tm_file=i860/sysv4.h
d3498 1
a3499 1
		tm_file=i960/vx960.h
d3503 1
a3504 1
		tm_file=i960/vx960-coff.h
d3508 1
a3509 1
		tm_file=i960/vx960.h
d3513 1
d3515 5
a3519 1
		tm_file=i960/i960-coff.h
d3525 3
d3529 1
a3529 1
		cpu_type=m68k
a3530 1
		tm_file=m68k/ctix.h
a3534 1
		cpu_type=m68k
a3540 1
		cpu_type=m68k
a3555 1
		cpu_type=m68k
a3560 1
		cpu_type=m68k
a3565 1
		cpu_type=m68k
d3576 22
d3599 1
a3600 1
		tm_file=m68k/apollo68.h
d3607 1
a3608 1
		        tm_file=m68k/altos3068.h
d3640 1
a3641 1
		xmake_file=m68k/x-mot3300
d3644 8
a3651 1
			tm_file=m68k/mot3300g.h
d3653 8
a3660 2
			tm_file=m68k/mot3300.h
			gdb_needs_out_file_path=yes
d3662 2
a3663 1
		use_collect2=yes
d3668 1
a3668 1
		xm_file=m68k/xm-tower.h
d3719 1
a3719 1
		if [ x$nfp = xyes ]
a3784 1
		out_file=m68k/next.c
d3788 1
a3793 1
		out_file=m68k/next.c
d3797 1
d3799 3
d3804 1
a3804 1
		if [ x$nfp = xyes ]
d3814 1
a3814 1
		if [ x$nfp = xyes ]
d3830 1
a3830 1
		tm_file=m68k/m68k-aout.h
d3835 1
a3835 1
		tm_file=m68k/m68k-coff.h
a3850 1
		cpu_type=m68k
d3852 3
a3854 5
		xm_file=m68k/xm-netbsd.h
		# On NetBSD, the headers are already okay.
		fixincludes=Makefile.in
		tmake_file=t-libc-ok
		xmake_file=x-netbsd
a3856 1
		cpu_type=m68k
a3857 1
		xm_file=m68k/xm-openbsd.h
d3876 1
a3876 1
	m68k-*-linux*aout*)		# Motorola m68k's running Linux
d3880 12
a3891 2
		tmake_file=m68k/t-linux
		fixincludes=Makefile.in #On Linux, the headers are ok already.
d3895 3
a3897 3
	m68k-*-linux*)			# Motorola m68k's running Linux
		xm_file=m68k/xm-linux.h	# with ELF format
		xmake_file=x-linux
d3899 3
a3901 2
		tmake_file=m68k/t-linux
		fixincludes=Makefile.in #On Linux, the headers are ok already.
d3904 8
a3911 3
		# Don't use it. Linux uses a slightly different one.
		# The real one comes with the Linux C library.
		#extra_parts="crtbegin.o crtend.o"
d3913 6
d3923 1
a3923 1
		    xmake_file=m88k/x-dguxbcs
d3927 1
a3927 1
		    xmake_file=m88k/x-dgux
d3932 1
a3935 2
		else
			tmake_file=m88k/t-dgux
a3959 1
		cpu_type=m88k
a3962 1
		cpu_type=m88k
d3996 1
a3996 1
		fixincludes=Makefile.in
d3999 3
a4001 2
		# See comment in mips/iris[56].h files.
		use_collect2=yes
d4012 3
d4016 1
a4016 1
	mips-sgi-irix5*)		# SGI System V.4., IRIX 5
d4023 21
a4043 1
				tm_file=mips/iris5gas.h
d4050 1
a4050 1
		fixincludes=Makefile.in
d4056 3
d4061 1
d4063 1
a4063 3
			tm_file=mips/iris4gl.h
		else
			tm_file=mips/iris4loser.h
d4078 3
d4083 1
d4085 1
a4085 3
			tm_file=mips/iris4-gdb.h
		else
			tm_file=mips/iris4.h
d4100 3
d4105 1
d4107 1
a4107 3
			tm_file=mips/iris3-gdb.h
		else
			tm_file=mips/iris3.h
d4131 1
d4133 1
a4133 3
			tm_file=mips/dec-gosf1.h
		else
			tm_file=mips/dec-osf1.h
a4149 2
              xmake_file=
              tmake_file=
d4165 6
a4170 4
		xm_file=mips/xm-netbsd.h
		xmake_file=x-netbsd
		tmake_file=t-libc-ok
		fixincludes=Makefile.in
a4174 2
		xm_file=mips/xm-openbsd.h
		cpu_type=mips
d4177 1
a4178 1
		prefix=$native_prefix
a4181 2
		xm_file=mips/xm-openbsd.h
		cpu_type=mips
d4184 1
a4185 1
		prefix=$native_prefix
d4188 1
d4190 1
a4190 3
			tm_file=mips/news4-gdb.h
		else
			tm_file=mips/news4.h
d4207 1
d4209 1
a4209 3
			tm_file=mips/news5-gdb.h
		else
			tm_file=mips/news5.h
d4224 1
d4226 1
a4226 3
			tm_file=mips/svr4-t-gdb.h
		else
			tm_file=mips/svr4-t.h
d4245 1
d4247 1
a4247 3
			tm_file=mips/ultrix-gdb.h
		else
			tm_file=mips/ultrix.h
d4263 3
a4265 4
		if [ x$stabs = xyes ]; then	# MIPS BSD 4.3, RISC-OS 5.0
			tm_file=mips/bsd-5-gdb.h
		else
			tm_file=mips/bsd-5.h
d4281 3
a4283 4
		if [ x$stabs = xyes ]; then	# MIPS BSD 4.3, RISC-OS 4.0
			tm_file=mips/bsd-4-gdb.h
		else
			tm_file=mips/bsd-4.h
d4299 3
a4301 4
		if [ x$stabs = xyes ]; then	# MIPS System V.4., RISC-OS 5.0
			tm_file=mips/svr4-5-gdb.h
		else
			tm_file=mips/svr4-5.h
d4319 3
a4321 4
		if [ x$stabs = xyes ]; then	# MIPS System V.4. RISC-OS 4.0
			tm_file=mips/svr4-4-gdb.h
		else
			tm_file=mips/svr4-4.h
d4339 3
a4341 4
		if [ x$stabs = xyes ]; then	# MIPS System V.3, RISC-OS 5.0
			tm_file=mips/svr3-5-gdb.h
		else
			tm_file=mips/svr3-5.h
d4359 3
a4361 4
		if [ x$stabs = xyes ]; then	# MIPS System V.3, RISC-OS 4.0
			tm_file=mips/svr3-4-gdb.h
		else
			tm_file=mips/svr3-4.h
d4378 2
a4379 1
	mips-*-riscos[56789]*)			# Default MIPS RISC-OS 5.0.
d4381 1
a4381 3
			tm_file=mips/mips-5-gdb.h
		else
			tm_file=mips/mips-5.h
a4395 1
		cpu_type=mips	# GNU supports this CPU; rest done below.
d4398 1
a4398 1
		cpu_type=mips
d4400 1
a4400 3
		    tm_file=mips/ecoffl-gdb.h
		else
		    tm_file=mips/ecoffl.h
d4405 1
d4407 1
a4407 3
		    tm_file=mips/ecoff-gdb.h
		else
		    tm_file=mips/ecoff.h
d4413 1
a4413 2
		cpu_type=mips
		tm_file=mips/elfl.h
d4417 1
a4417 2
		cpu_type=mips
		tm_file=mips/elf.h
d4421 1
a4421 2
		cpu_type=mips
		tm_file=mips/elfl64.h
d4425 1
a4425 2
		cpu_type=mips
		tm_file=mips/elflorion.h
d4429 1
a4429 2
		cpu_type=mips
		tm_file=mips/elf64.h
d4433 13
a4445 2
		cpu_type=mips
		tm_file=mips/elforion.h
d4450 1
a4450 3
			tm_file=mips/mips-4-gdb.h
		else
			tm_file=mips/mips.h
d4463 18
d4522 3
a4524 5
		xm_file=ns32k/xm-netbsd.h
		tmake_file=t-libc-ok
		# On NetBSD, the headers are already okay.
		fixincludes=Makefile.in
		xmake_file=x-netbsd
a4527 1
		xm_file=ns32k/xm-openbsd.h
d4533 5
a4546 2
		cpu_type=romp
		xm_file=romp/xm-openbsd.h
a4555 12
	powerpc-ibm-aix[456789].*)
		cpu_type=rs6000
		tm_file=rs6000/aix41ppc.h
		tmake_file=rs6000/t-newas
		use_collect2=yes
		;;
	powerpc-ibm-aix*)
		cpu_type=rs6000
		tm_file=rs6000/powerpc.h
		tmake_file=rs6000/t-rs6000
		use_collect2=yes
		;;
a4556 2
		cpu_type=rs6000
		xm_file=rs6000/xm-openbsd.h
d4563 2
a4564 2
	powerpc-*-sysv4* | powerpc-*-elf*)
		cpu_type=rs6000
d4566 1
a4566 1
		tm_file=rs6000/sysv4.h
d4569 1
a4569 1
		     tmake_file=rs6000/t-ppcgas
d4571 1
a4571 1
		     tmake_file=rs6000/t-ppc
a4575 1
		cpu_type=rs6000
d4577 1
a4577 1
		tmake_file=rs6000/t-eabiaix
d4579 1
a4581 1
		cpu_type=rs6000
d4583 1
a4583 1
		tmake_file=rs6000/t-eabisim
d4585 1
a4587 1
		cpu_type=rs6000
d4591 12
a4602 1
		     tmake_file=rs6000/t-eabigas
d4604 1
a4604 1
		     tmake_file=rs6000/t-eabi
d4607 1
d4609 2
a4610 2
	powerpcle-*-sysv4* | powerpcle-*-elf*)
		cpu_type=rs6000
d4612 23
d4636 1
d4639 1
a4639 1
		     tmake_file=rs6000/t-ppclegas
d4641 1
a4641 1
		     tmake_file=rs6000/t-ppc
d4644 1
a4646 1
		cpu_type=rs6000
d4648 1
a4648 1
		tmake_file=rs6000/t-eabisim
d4650 1
a4652 1
		cpu_type=rs6000
d4656 1
a4656 1
		     tmake_file=rs6000/t-eabilegas
d4658 1
a4658 1
		     tmake_file=rs6000/t-eabi
d4661 37
a4700 1
		tmake_file=rs6000/t-rs6000
d4704 1
a4704 1
	rs6000-ibm-aix3.2.[456789]*)
d4706 6
a4711 1
		tmake_file=rs6000/t-newas
d4714 1
a4714 1
	rs6000-ibm-aix[456789].*)
d4716 6
a4721 1
		tmake_file=rs6000/t-newas
a4726 1
		tmake_file=rs6000/t-rs6000
a4728 1
		tmake_file=rs6000/t-rs6000
d4732 1
a4733 2
		tm_file=rs6000/mach.h
		tmake_file=rs6000/t-rs6000
d4738 1
a4738 1
		xmake_file=rs6000/x-lynx
a4739 1
		tm_file=rs6000/lynx.h
d4741 1
d4744 9
d4754 1
a4754 1
		cpu_type=sh
a4760 1
		cpu_type=sparc
d4767 1
a4767 1
		tm_file=sparc/sparc-aout.h
d4771 3
a4773 5
		xm_file=sparc/xm-netbsd.h
		# On NetBSD, the headers are already okay.
		fixincludes=Makefile.in
		tmake_file=t-libc-ok
		xmake_file=x-netbsd
a4776 1
		xm_file=sparc/xm-openbsd.h
d4785 38
d4834 6
a4839 1
	sparc-*-solaris2* | sparc-*-sunos5*)
a4840 1
		tm_file=sparc/sol2.h
d4843 3
a4845 2
		extra_parts="crt1.o crti.o crtn.o gmon.o crtbegin.o crtend.o"
		fixincludes=fixinc.svr4
d4847 3
d4860 3
d4869 1
a4870 1
		tm_file=sparc/sysv4.h
d4875 10
d4886 1
a4886 2
		cpu_type=sparc
		tm_file=sparc/litecoff.h
d4889 2
a4890 3
	sparclite-*-*)
		cpu_type=sparc
		tm_file=sparc/lite.h
a4891 1
		use_collect2=yes
a4893 1
		cpu_type=sparc
a4897 1
		cpu_type=sparc
d4902 8
d4921 10
d4933 1
d4936 3
a4938 2
		xm_file=vax/xm-vaxv.h
		tm_file=vax/vaxv.h
d4941 5
a4945 6
		tm_file=vax/netbsd.h
		xm_file=vax/xm-netbsd.h
		tmake_file=t-libc-ok
		# On NetBSD, the headers are already okay.
		fixincludes=Makefile.in
		xmake_file=x-netbsd
a4948 1
		xm_file=vax/xm-openbsd.h
d4953 1
d4956 1
a4956 1
		tm_file=vax/ultrix.h
d4958 1
d4963 1
d4965 2
a4966 9
        pdp11-*-bsd)
		xm_file=pdp11/xm-pdp11.h
		tm_file=pdp11/2bsd.h
		tmake_file=pdp11/t-pdp11
                ;;
        pdp11-*-*)
		xm_file=pdp11/xm-pdp11.h
		tm_file=pdp11/pdp11.h
		tmake_file=pdp11/t-pdp11
d4969 1
a4969 1
		cpu_type=we32k
d4979 2
d4987 1
a4987 1
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
d4995 2
a4996 4
		# Don't build libgcc1.c, because there is no non-GNU
		# compiler to build it with.  The GNU system C library will
		# include assembly versions of any needed functions.
		tmake_file=t-libc-ok
d5010 1
a5010 2
	# Distinguish i386 from i486/i586.
	# ??? For the moment we treat i586 as an i486.
d5012 2
d5015 64
a5078 2
	i[45]86-*-*)
		target_cpu_default=2
d5080 2
a5081 1
	mips*-*-*)
d5084 6
a5089 1
			target_cpu_default=16
d5092 1
a5092 1
	alpha-*-*)
d5095 1
a5095 1
			target_cpu_default=4
d5098 43
d5143 10
d5154 1
a5154 1
	case x$gnu_ld in 
a5159 5
# Default certain vars that apply to both host and target in turn.
	if [ x$cpu_type = x ]
	then cpu_type=`echo $machine | sed 's/-.*$//'`
	fi

d5164 1
a5164 1
		if [ x$xm_file = x ]
d5168 3
d5175 1
a5175 1
			if [ x$xm_file = x ]
d5179 1
a5179 1
			if [ x$xmake_file = x ]
d5182 1
a5182 3
			host_xmake_file=$xmake_file
			host_broken_install=$broken_install
			host_install_headers_dir=$install_headers_dir
d5184 2
d5191 2
d5194 1
a5194 1
if [ x$tm_file = x ]
d5200 1
a5200 1
if [ x$xm_file = x ]
d5208 51
a5258 2
if [ x$tmake_file = x ]
then tmake_file=$cpu_type/t-$cpu_type
d5261 2
a5262 7
# Say what files are being used for the output code and MD file.
echo "Using \`$srcdir/config/$out_file' to output insns."
echo "Using \`$srcdir/config/$md_file' as machine description file."
echo "Using \`$srcdir/config/$tm_file' as target machine macro file."
echo "Using \`$srcdir/config/$host_xm_file' as host machine macro file."
if [ $host_xm_file != $build_xm_file ]; then
	echo "Using \`$srcdir/config/$build_xm_file' as build machine macro file."
d5265 7
a5271 3
# Set up the list of links to be made.
# $links is the list of link names, and $files is the list of names to link to.
files="$host_xm_file $tm_file $xm_file $build_xm_file"
d5278 1
a5278 1
while [ -n "$files" ]
d5281 1
a5281 1
	set $files; file=$1; shift; files=$*
d5285 11
a5295 1
	echo "#include \"$file\"" >$link
d5306 117
a5422 2
# For the current directory and all of the language subdirectories,
# do the rest of the script ...
d5424 29
a5464 7
# Are we using gcc as the native compiler?
case $canon_host in
*linux*)	# All Linux's use gcc as the native compiler.
	prefix=$native_prefix
	;;
esac

d5484 23
a5506 12
# Define SET_MAKE if this old version of `make' doesn't define $(MAKE).
rm -f Makefile.xx
(echo 'all:'; echo '	@@echo maketemp=$(MAKE)') >Makefile.xx
case `${MAKE-make} -f Makefile.xx 2>/dev/null | grep maketemp=` in
'maketemp=')
	SET_MAKE="MAKE = ${MAKE-make}"
	;;
*)
	SET_MAKE=
	;;
esac
rm -f Makefile.xx
d5508 1
a5508 2
savesrcdir=$srcdir
for subdir in . $subdirs
d5510 34
a5543 1
	oldsrcdir=$savesrcdir
d5545 2
a5546 20
	# Re-adjust the path
	case $oldsrcdir in
	/*)
		srcdir=$oldsrcdir/$subdir
		;;
	*)
		case $subdir in
		.)
			;;
		*)
			oldsrcdir=../${oldsrcdir}
			srcdir=$oldsrcdir/$subdir
			;;
		esac
		;;
	esac
	mainsrcdir=$oldsrcdir
	STARTDIR=`pwd`
	test -d $subdir || mkdir $subdir
	cd $subdir
d5548 15
a5562 28
	# Create Makefile.tem from Makefile.in.
	# Make it set VPATH if necessary so that the sources are found.
	# Also change its value of srcdir.
	# Also create a .gdbinit file which runs the one in srcdir
	# and tells GDB to look there for source files.
	case $srcdir in
	. | ./$subdir | .././$subdir)
		rm -f Makefile.tem
		cp Makefile.in Makefile.tem
		chmod +w Makefile.tem
		;;
	*)
		rm -f Makefile.tem
		echo "VPATH = ${srcdir}" \
		  | cat - ${srcdir}/Makefile.in \
		  | sed "s@@^srcdir = \.@@srcdir = ${srcdir}@@" > Makefile.tem
		rm -f .gdbinit
		echo "dir ." > .gdbinit
		echo "dir ${srcdir}" >> .gdbinit
		if [ x$gdb_needs_out_file_path = xyes ]
		then
			echo "dir ${srcdir}/config/"`dirname ${out_file}` >> .gdbinit
		fi
		if [ "x$subdirs" != x ]; then
			for s in $subdirs
			do
				echo "dir ${srcdir}/$s" >> .gdbinit
			done
d5564 3
a5566 19
		echo "source ${srcdir}/.gdbinit" >> .gdbinit
		;;
	esac
	
	# Conditionalize the makefile for this host machine.
	if [ -f ${mainsrcdir}/config/${host_xmake_file} ]
	then
		rm -f Makefile.xx
		sed -e "/####host/  r ${mainsrcdir}/config/${host_xmake_file}" Makefile.tem > Makefile.xx
		echo "Merged ${host_xmake_file}."
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
		dep_host_xmake_file=${host_xmake_file}
	else
	# Say in the makefile that there is no host_xmake_file,
	# by using a name which (when interpreted relative to $srcdir/config)
	# will duplicate another dependency: $srcdir/Makefile.in.
		dep_host_xmake_file=../Makefile.in
	fi
d5568 1
a5568 8
	# Add a definition for MAKE if system wants one.
	case "$SET_MAKE" in
	?*)
		rm -f Makefile.xx
		(echo "$SET_MAKE"; cat Makefile.tem) >Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
	esac
d5570 6
a5575 10
	# Add a definition for INSTALL if system wants one.
	# This substitutes for lots of x-* files.
	if [ x$host_broken_install = x ]
	then true
	else
		rm -f Makefile.xx
		abssrcdir=`cd ${srcdir}; pwd`
		sed "s|^INSTALL = .*|INSTALL = ${abssrcdir}/install.sh -c|" Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
d5577 2
a5578 13

	# Some of the following don't make sense in the language makefiles,
	# but rather than introduce another level of nesting, we leave them
	# as is.

	# Set EXTRA_HEADERS according to extra_headers.
	# This substitutes for lots of t-* files.
	if [ "x$extra_headers" = x ]
	then true
	else
		# Prepend ${srcdir}/ginclude/ to every entry in extra_headers.
		list=
		for file in $extra_headers;
d5580 1
a5580 1
			list="${list} ${srcdir}/ginclude/${file}"
a5581 26
		rm -f Makefile.xx
		sed "s|^EXTRA_HEADERS =|EXTRA_HEADERS = ${list}|" Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
	fi
	
	# Set EXTRA_PASSES according to extra_passes.
	# This substitutes for lots of t-* files.
	if [ "x$extra_passes" = x ]
	then true
	else
		rm -f Makefile.xx
		sed "s/^EXTRA_PASSES =/EXTRA_PASSES = $extra_passes/" Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
	fi
	
	# Set EXTRA_PARTS according to extra_parts.
	# This substitutes for lots of t-* files.
	if [ "x$extra_parts" = x ]
	then true
	else
		rm -f Makefile.xx
		sed "s/^EXTRA_PARTS =/EXTRA_PARTS = $extra_parts/" Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
d5583 44
a5627 9
	# Set EXTRA_PROGRAMS according to extra_programs.
	if [ "x$extra_programs" = x ]
	then true
	else
		rm -f Makefile.xx
		sed "s/^EXTRA_PROGRAMS =/EXTRA_PROGRAMS = $extra_programs/" Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
	fi
a5628 10
	# Set EXTRA_OBJS according to extra_objs.
	# This substitutes for lots of t-* files.
	if [ "x$extra_objs" = x ]
	then true
	else
		rm -f Makefile.xx
		sed "s|^EXTRA_OBJS =|EXTRA_OBJS = $extra_objs|" Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
	fi
a5629 10
	# Set EXTRA_GCC_OBJS according to extra_gcc_objs.
	# This substitutes for lots of t-* files.
	if [ "x$extra_gcc_objs" = x ]
	then true
	else
		rm -f Makefile.xx
		sed "s|^EXTRA_GCC_OBJS =|EXTRA_GCC_OBJS = $extra_gcc_objs|" Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
	fi
a5630 126
	# Add a definition of USE_COLLECT2 if system wants one.
	# Also tell toplev.c what to do.
	# This substitutes for lots of t-* files.
	if [ x$use_collect2 = x ]
	then true
	else
		rm -f Makefile.xx
		(echo "USE_COLLECT2 = ld"; echo "MAYBE_USE_COLLECT2 = -DUSE_COLLECT2")\
	 	   | cat - Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
	fi
	
	# Add -DTARGET_CPU_DEFAULT for toplev.c if system wants one.
	# This substitutes for lots of *.h files.
	if [ x$target_cpu_default = x ]
	then true
	else
		rm -f Makefile.xx
	# This used cat, but rfg@@netcom.com said that ran into NFS bugs.
		sed -e "/^# Makefile for GNU C compiler./c\\
MAYBE_TARGET_DEFAULT = -DTARGET_CPU_DEFAULT=$target_cpu_default\\
\# Makefile for GNU C compiler." Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
	fi
	
	# Set MD_DEPS if the real md file is in md.pre-cpp.
	# Set MD_CPP to the cpp to pass the md file through.  Md files use ';'
	# for line oriented comments, so we must always use a GNU cpp.  If
	# building gcc with a cross compiler, use the cross compiler just
	# built.  Otherwise, we can use the cpp just built.
	if [ "x$md_cppflags" = x ]
	then
		md_file=$srcdir/config/$md_file
	else
		rm -f Makefile.xx
	  	(if [ x$host = x$build ] ; then
			echo "MD_DEPS = $(md_file) cpp" ; echo "MD_CPP = ./cpp"
		else
			echo "MD_DEPS = md.pre-cpp" ; echo "MD_CPP = \$(HOST_CC) -x c -E"
		fi
		md_file=md
		echo "MD_CPPFLAGS = $md_cppflags") | \
		  cat - Makefile.tem | sed -e "s|^MD_FILE[ 	]*=.*|MD_FILE = md|" > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
	fi
	
	# If we have gas in the build tree, make a link to it.
	if [ -f ../gas/Makefile ]; then
		rm -f as; $symbolic_link ../gas/as.new as 2>/dev/null
	fi
	
	# If we have ld in the build tree, make a link to it.
	if [ -f ../ld/Makefile ]; then
		if [ x$use_collect2 = x ]; then
			rm -f ld; $symbolic_link ../ld/ld.new ld 2>/dev/null
		else
			rm -f collect-ld; $symbolic_link ../ld/ld.new collect-ld 2>/dev/null
		fi
	fi
	
	# If using -program-transform-name, override the installation names.
	if [ "x${program_transform_set}" = "xyes" ] ; then
		sed -e "s/^program_transform_name[ 	]*=.*$/program_transform_name = $program_transform_name/" \
		    -e "s/^program_transform_cross_name[ 	]*=.*$/program_transform_cross_name = $program_transform_name/" \
		    Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
	fi
	
	# Conditionalize the makefile for this target machine.
	if [ -f ${mainsrcdir}/config/${tmake_file} ]
	then
		rm -f Makefile.xx
		sed -e "/####target/  r ${mainsrcdir}/config/${tmake_file}" Makefile.tem > Makefile.xx
		echo "Merged ${tmake_file}."
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
		dep_tmake_file=${tmake_file}
	else
	# Say in the makefile that there is no tmake_file,
	# by using a name which (when interpreted relative to $srcdir/config)
	# will duplicate another dependency: $srcdir/Makefile.in.
		dep_tmake_file=../Makefile.in
	fi
	
	# If this is the top level Makefile, add the language fragments.
	# Languages are added via two mechanisms.  Some information must be
	# recorded in makefile variables, these are defined in config-lang.in.
	# We accumulate them and plug them into the main Makefile.
	# The other mechanism is a set of hooks for each of the main targets
	# like `clean', `install', etc.
	if [ $subdir = . ]
	then
		# These (without "all_") are set in each config-lang.in.
		# `language' must be a single word so is spelled singularly.
		all_languages=
		all_compilers=
		all_stagestuff=
		all_diff_excludes=
		# List of language makefile fragments.
		all_lang_makefiles=

		rm -f Makefile.xx Makefile.ll
		touch Makefile.ll
		for s in .. $subdirs
		do
			if [ $s != ".." ]
			then
				language=
				compilers=
				stagestuff=
				diff_excludes=
				. ${mainsrcdir}/$s/config-lang.in
				if [ "x$language" = x ]
				then
					echo "${mainsrcdir}/$s/config-lang.in doesn't set \$language." 1>&2
					exit 1
				fi
				all_lang_makefiles="$all_lang_makefiles ${mainsrcdir}/$s/Make-lang.in ${mainsrcdir}/$s/Makefile.in"
				all_languages="$all_languages $language"
				all_compilers="$all_compilers $compilers"
				all_stagestuff="$all_stagestuff $stagestuff"
				all_diff_excludes="$all_diff_excludes $diff_excludes"
a5631 76
				cat ${mainsrcdir}/$s/Make-lang.in >> Makefile.ll
			fi
		done
		sed -e "/####language fragments/ r Makefile.ll" Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
		sed -e "s|^SUBDIRS[ 	]*=.*$|SUBDIRS = $subdirs|" \
		    -e "s|^LANGUAGES[ 	]*=[ 	]*\(.*\)$|LANGUAGES = \1 $all_languages|" \
		    -e "s|^COMPILERS[ 	]*=[ 	]*\(.*\)$|COMPILERS = \1 $all_compilers|" \
		    -e "s|^LANG_MAKEFILES[ 	]*=.*$|LANG_MAKEFILES = $all_lang_makefiles|" \
		    -e "s|^LANG_STAGESTUFF[ 	]*=.*$|LANG_STAGESTUFF = $all_stagestuff|" \
		    -e "s|^LANG_DIFF_EXCLUDES[ 	]*=.*$|LANG_DIFF_EXCLUDES = $all_diff_excludes|" \
		    Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem

		# Since we can't use `::' targets, we link each language in
		# with a set of hooks, reached indirectly via lang.${target}.

		target_list="all.build all.cross start.encap rest.encap \
			info dvi \
			install-normal install-common install-info install-man \
			uninstall distdir \
			mostlyclean clean distclean extraclean maintainer-clean \
			stage1 stage2 stage3 stage4"
		rm -f Makefile.ll
		for t in $target_list
		do
			x=
			for l in .. $all_languages
			do
				if [ $l != ".." ]; then
					x="$x $l.$t"
				fi
			done
			echo "lang.$t: $x" >> Makefile.ll
		done
		sed -e "/####language hooks/ r Makefile.ll" Makefile.tem > Makefile.xx
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
		rm -f Makefile.ll

		# If the host doesn't support symlinks, modify CC in
		# FLAGS_TO_PASS so CC="stage1/xgcc -Bstage1/" works.
		# Otherwise, we can use "CC=$(CC)".
		rm -f symtest.tem
		if $symbolic_link symtest1.tem symtest.tem 2>/dev/null
		then
			sed -e 's,CC=set-by-configure,CC=$(CC),' \
			    Makefile.tem > Makefile.xx
		else
			sed -e "s,CC=set-by-configure,CC=\`case '$(CC)' in stage*) echo '$(CC)' | sed -e 's|stage|../stage|g';; *) echo '$(CC)';; esac\`," \
			    Makefile.tem > Makefile.xx
		fi
		rm -f Makefile.tem
		mv Makefile.xx Makefile.tem
		rm -f symtest.tem

		if [ "x$all_languages" != x ]
		then
			# Missing space after `Merged' is intentional.
			echo "Merged$all_languages fragment(s)."
		fi

	# Otherwise, this is a language subdirectory.  If the host supports
	# symlinks, point stage[123] at ../stage[123] so bootstrapping and the
	# installation procedure can still use CC="stage1/xgcc -Bstage1/".
	# If the host doesn't support symlinks, FLAGS_TO_PASS has been
	# modified to solve the problem there.
	else
		for t in stage1 stage2 stage3 stage4 include
		do
			rm -f $t
			$symbolic_link ../$t $t 2>/dev/null
		done
	fi
a5632 60
	out_object_file=`basename $out_file .c`.o
	
	# Remove all formfeeds, since some Makes get confused by them.
	# Also arrange to give the variables `target', `host_xmake_file',
	# `tmake_file', `prefix', `local_prefix', `exec_prefix', `FIXINCLUDES'
	# `out_file', `out_object', `md_file', `lang_specs_files',
	# `lang_options_files', and `INSTALL_HEADERS_DIR' values in the
	# Makefile from the values they have in this script.
	rm -f Makefile.xx
	rm -f aux-output.c aux-output.o md
	# Create an empty Makefile.sed first, to work around a Nextstep 3.3 bug.
	echo 's|||' > Makefile.sed
	rm Makefile.sed
	echo 's|||' > Makefile.sed
	echo "s|^target=.*$|target=${target}|" >> Makefile.sed
	echo "s|^xmake_file=.*$|xmake_file=${dep_host_xmake_file}|" >> Makefile.sed
	echo "s|^tmake_file=.*$|tmake_file=${dep_tmake_file}|" >> Makefile.sed
	echo "s|^version=.*$|version=${version}|" >> Makefile.sed
	echo "s|^version=.*$|version=${version}|" >> Makefile.sed
	echo "s|^out_file=.*$|out_file=${srcdir}/config/${out_file}|" >> Makefile.sed
	echo "s|^out_object_file=.*$|out_object_file=${out_object_file}|" >> Makefile.sed
	echo "s|^md_file=.*$|md_file=${md_file}|" >> Makefile.sed
	echo "s|^tm_file=.*$|tm_file=${srcdir}/config/${tm_file}|" >> Makefile.sed
	echo "s|^host_xm_file=.*$|host_xm_file=${srcdir}/config/${host_xm_file}|" >> Makefile.sed
	echo "s|^build_xm_file=.*$|build_xm_file=${srcdir}/config/${build_xm_file}|" >> Makefile.sed
	echo "s|^lang_specs_files=.*$|lang_specs_files=${lang_specs_files}|" >> Makefile.sed
	echo "s|^lang_options_files=.*$|lang_options_files=${lang_options_files}|" >> Makefile.sed
	echo "s|^prefix[ 	]*=.*|prefix = $prefix|" >> Makefile.sed
	echo "s|^gxx_include_dir[ 	]*=.*|gxx_include_dir = $gxx_include_dir|" >> Makefile.sed
	echo "s|^local_prefix[ 	]*=.*|local_prefix = $local_prefix|" >> Makefile.sed
	echo "s|^exec_prefix[ 	]*=.*|exec_prefix = $exec_prefix|" >> Makefile.sed
	echo "s|^FIXINCLUDES[ 	]*=.*|FIXINCLUDES = $fixincludes|" >> Makefile.sed
	echo "s|^INSTALL_HEADERS_DIR[ 	]*=.*$|INSTALL_HEADERS_DIR = ${host_install_headers_dir}|" >> Makefile.sed
	sed -f Makefile.sed Makefile.tem > Makefile.xx
	rm -f Makefile.tem Makefile.sed
	mv Makefile.xx Makefile.tem
	
	# Install Makefile for real, after making final changes.
	# Define macro CROSS_COMPILE in compilation if this is a cross-compiler.
	# Also use all.cross instead of all.internal, and add cross-make to Makefile.
	if [ x$canon_host = x$canon_target ]
	then
		rm -f Makefile
	  	if [ x$canon_host = x$canon_build ]
		then
			mv Makefile.tem Makefile
		else
	#		When building gcc with a cross-compiler, we need to fix a
	#		few things.
			echo "build= $build" > Makefile
	    		sed -e "s|objc-runtime$||" \
			    -e "/####build/  r ${mainsrcdir}/build-make" Makefile.tem >> Makefile
			rm -f Makefile.tem Makefile.xx
		fi
	else
		rm -f Makefile
		echo "CROSS=-DCROSS_COMPILE" > Makefile
		sed -e "/####cross/  r ${mainsrcdir}/cross-make" Makefile.tem >> Makefile
		rm -f Makefile.tem Makefile.xx
	fi
a5633 1
	echo "Created \`$subdir/Makefile'."
a5634 8
	# If a subdirectory has a configure script, run it.
	if [ x$subdir != x. ]
	then
		if [ -f $srcdir/configure ]
		then
			${CONFIG_SHELL-sh} $srcdir/configure $arguments --srcdir=$srcdir
		fi
	fi
a5635 4
	cd $STARTDIR
done   # end of current-dir SUBDIRS loop
	
srcdir=$savesrcdir
a5636 15
# Describe the chosen configuration in config.status.
# Make that file a shellscript which will reestablish the same configuration.
echo "#!/bin/sh
# GCC was configured as follows:
${srcdir}/configure" $arguments > config.new
echo echo host=$canon_host target=$canon_target build=$canon_build >> config.new
chmod a+x config.new
if [ -f config.bak ] && cmp config.bak config.new >/dev/null 2>/dev/null;
then
	mv -f config.bak config.status
	rm -f config.new
else
	mv -f config.new config.status
	rm -f config.bak
fi
a5637 3
str2=
str3=
str4=.
d5639 2
a5640 1
if [ x$canon_host = x$canon_target ]
d5645 1
a5645 1
	str2=" from $canon_host"
d5648 1
a5648 1
if [ x$canon_host != x$canon_build ]
d5650 1
a5650 1
	str3=" on a $canon_build system"
d5658 1
a5658 1
echo "Links are now set up to build a ${str1}compiler for ${canon_target}$str4" 1>&2
d5665 485
d6151 5
@


1.13
log
@Revert to older (working) version of gcc, plus recent changes.
@
text
@d1801 1
a1801 1
	mips64el-*-openbsd*)  		    # MIPS R4k running OpenBSD
d1810 1
a1810 1
	mips64-*-openbsd*)	    # MIPS R4k big-endian running OpenBSD
@


1.12
log
@Remove the rest of the new files.

Commit a couple local configuration changes of mine before I lose them.
@
text
@a83 1
#gxx_include_dir='$(exec_prefix)/include/g++'
a557 7
	alpha-*-linux*)
		tm_file=alpha/linux.h
		tmake_file=alpha/t-linux
		xmake_file=alpha/x-linux
		fixincludes=Makefile.in
		xm_file=alpha/xm-linux.h
		;;
d1004 1
a1004 1
		xmake_file=x-linux-aout
d1013 1
a1013 1
		xmake_file=x-linux-aout
d1022 1
a1022 1
		xmake_file=x-linux-aout
@


1.11
log
@sync g77 to version 0.5.20 - i hope i got everything right because there
is no patch from 0.5.19 to 0.5.20 - so i did it by diffing two gcc trees
looking carefully at the results

what does the new g77 give us:
* now it completely works on the alpha (64bit)
* faster
* less bugs :-)
@
text
@d2177 8
@


1.10
log
@gcc support for powerpc-openbsd
@
text
@d84 1
d559 7
d1012 1
a1012 1
		xmake_file=x-linux
d1021 1
a1021 1
		xmake_file=x-linux
d1030 1
a1030 1
		xmake_file=x-linux
@


1.9
log
@one more touchup
@
text
@d2185 9
@


1.8
log
@${MACHINE_ARCH}-unknown-openbsd2.0 always, except for mips where little/big-endian is significant
@
text
@a1800 8
	mips-dec-openbsd*)                  # Decstation running OpenBSD
		tm_file=mips/openbsd.h
		xm_file=mips/xm-openbsd.h
		xmake_file=x-openbsd
		tmake_file=t-libc-ok
		fixincludes=Makefile.in
		prefix=$native_prefix
		;;
d1804 1
d1813 1
@


1.7
log
@use sh to run scripts; from graichen
@
text
@d1809 1
a1809 1
	mips-r4kle-openbsd* | mips-arc-openbsd*)  # MIPS R4k running OpenBSD
d1817 1
a1817 1
	mips-r4kbe-openbsd*)  # MIPS R4k running OpenBSD
d2159 1
a2159 1
	ns32k-pc532-openbsd*)
@


1.6
log
@Redid the info-file build slightly, but with kept semantics.  Made g77
this style too.  Added OpenBSD/alpha support
@
text
@d430 1
a430 1
	elif build=`${srcdir}/config.guess`
@


1.5
log
@Change "pica" config to "arc" as pica is superseded by arc.
@
text
@d550 8
@


1.4
log
@Additions for Mips ELF shlib support
@
text
@d1801 1
a1801 1
	mips-r4kle-openbsd* | mips-pica-openbsd*)  # MIPS R4k running OpenBSD
@


1.3
log
@add configurations for all the other platforms
@
text
@d1801 16
@


1.2
log
@First cut at making a minimal intrusive munge of gcc to fit in a BSD
framework.  This means, provide a Makefile.bsd-wrapper.  Remove
intermediate files from the source dir.  Build them in the obj-dir.
Add some Makefile hooks so we can tune the std Makefile for our
purpose but still have it behave normal for out-of-tree
configurations.  Only i386 is supported for now.  The other archs will
follow soon.   This checkin requires an existing makeinfo and a yacc
that accepts -o.
@
text
@d1522 9
d1793 8
d2135 8
d2295 8
d2394 8
@


1.1
log
@Initial revision
@
text
@d951 9
@


1.1.1.1
log
@FSF GCC version 2.7.2
@
text
@@


1.1.1.2
log
@*** empty log message ***
@
text
@d1 20
a20 1
#! /bin/sh
a21 3
# Guess values for system-dependent variables and create Makefiles.
# Generated automatically using autoconf version 2.12 
# Copyright (C) 1992, 93, 94, 95, 96 Free Software Foundation, Inc.
d23 30
a52 2
# This configure script is free software; the Free Software Foundation
# gives unlimited permission to copy, distribute and modify it.
d54 6
a59 39
# Defaults:
ac_help=
ac_default_prefix=/usr/local
# Any additions from configure.in:
ac_help="$ac_help
  --with-gnu-ld           arrange to work with GNU ld."
ac_help="$ac_help
  --with-gnu-as           arrange to work with GNU as."
ac_help="$ac_help
  --with-stabs            arrange to use stabs instead of host debug format."
ac_help="$ac_help
  --with-elf              arrange to use ELF instead of host debug format."
ac_help="$ac_help
  --with-local-prefix=DIR specifies directory to put local include."
ac_help="$ac_help
  --with-gxx-include-dir=DIR
                          specifies directory to put g++ header files."
ac_help="$ac_help
  --enable-c-cpplib       Use cpplib for C."
ac_help="$ac_help
  --enable-threads        enable thread usage for target GCC.
  --enable-threads=LIB    use LIB thread package for target GCC."

# Initialize some variables set by options.
# The variables have the same names as the options, with
# dashes changed to underlines.
build=NONE
cache_file=./config.cache
exec_prefix=NONE
host=NONE
no_create=
nonopt=NONE
no_recursion=
prefix=NONE
program_prefix=NONE
program_suffix=NONE
program_transform_name=s,x,x,
silent=
site=
d61 1
a61 16
target=NONE
verbose=
x_includes=NONE
x_libraries=NONE
bindir='${exec_prefix}/bin'
sbindir='${exec_prefix}/sbin'
libexecdir='${exec_prefix}/libexec'
datadir='${prefix}/share'
sysconfdir='${prefix}/etc'
sharedstatedir='${prefix}/com'
localstatedir='${prefix}/var'
libdir='${exec_prefix}/lib'
includedir='${prefix}/include'
oldincludedir='/usr/include'
infodir='${prefix}/info'
mandir='${prefix}/man'
d63 1
a63 5
# Initialize some other variables.
subdirs=
MFLAGS= MAKEFLAGS=
# Maximum number of lines to put in a shell here document.
ac_max_here_lines=12
d65 2
a66 3
ac_prev=
for ac_option
do
d68 16
a83 11
  # If the previous option needs an argument, assign it.
  if test -n "$ac_prev"; then
    eval "$ac_prev=\$ac_option"
    ac_prev=
    continue
  fi

  case "$ac_option" in
  -*=*) ac_optarg=`echo "$ac_option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
  *) ac_optarg= ;;
  esac
d85 3
a87 1
  # Accept the important Cygnus configure options, so we can diagnose typos.
d89 4
a92 1
  case "$ac_option" in
d94 2
a95 31
  -bindir | --bindir | --bindi | --bind | --bin | --bi)
    ac_prev=bindir ;;
  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)
    bindir="$ac_optarg" ;;

  -build | --build | --buil | --bui | --bu)
    ac_prev=build ;;
  -build=* | --build=* | --buil=* | --bui=* | --bu=*)
    build="$ac_optarg" ;;

  -cache-file | --cache-file | --cache-fil | --cache-fi \
  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)
    ac_prev=cache_file ;;
  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \
  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)
    cache_file="$ac_optarg" ;;

  -datadir | --datadir | --datadi | --datad | --data | --dat | --da)
    ac_prev=datadir ;;
  -datadir=* | --datadir=* | --datadi=* | --datad=* | --data=* | --dat=* \
  | --da=*)
    datadir="$ac_optarg" ;;

  -disable-* | --disable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*disable-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
    fi
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    eval "enable_${ac_feature}=no" ;;
d97 51
a147 5
  -enable-* | --enable-*)
    ac_feature=`echo $ac_option|sed -e 's/-*enable-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_feature| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_feature: invalid feature name" 1>&2; exit 1; }
d149 6
a154 72
    ac_feature=`echo $ac_feature| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "enable_${ac_feature}='$ac_optarg'" ;;

  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \
  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \
  | --exec | --exe | --ex)
    ac_prev=exec_prefix ;;
  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \
  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \
  | --exec=* | --exe=* | --ex=*)
    exec_prefix="$ac_optarg" ;;

  -gas | --gas | --ga | --g)
    # Obsolete; use --with-gas.
    with_gas=yes ;;

  -help | --help | --hel | --he)
    # Omit some internal or obsolete options to make the list less imposing.
    # This message is too long to be a string in the A/UX 3.1 sh.
    cat << EOF
Usage: configure [options] [host]
Options: [defaults in brackets after descriptions]
Configuration:
  --cache-file=FILE       cache test results in FILE
  --help                  print this message
  --no-create             do not create output files
  --quiet, --silent       do not print \`checking...' messages
  --version               print the version of autoconf that created configure
Directory and file names:
  --prefix=PREFIX         install architecture-independent files in PREFIX
                          [$ac_default_prefix]
  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                          [same as prefix]
  --bindir=DIR            user executables in DIR [EPREFIX/bin]
  --sbindir=DIR           system admin executables in DIR [EPREFIX/sbin]
  --libexecdir=DIR        program executables in DIR [EPREFIX/libexec]
  --datadir=DIR           read-only architecture-independent data in DIR
                          [PREFIX/share]
  --sysconfdir=DIR        read-only single-machine data in DIR [PREFIX/etc]
  --sharedstatedir=DIR    modifiable architecture-independent data in DIR
                          [PREFIX/com]
  --localstatedir=DIR     modifiable single-machine data in DIR [PREFIX/var]
  --libdir=DIR            object code libraries in DIR [EPREFIX/lib]
  --includedir=DIR        C header files in DIR [PREFIX/include]
  --oldincludedir=DIR     C header files for non-gcc in DIR [/usr/include]
  --infodir=DIR           info documentation in DIR [PREFIX/info]
  --mandir=DIR            man documentation in DIR [PREFIX/man]
  --srcdir=DIR            find the sources in DIR [configure dir or ..]
  --program-prefix=PREFIX prepend PREFIX to installed program names
  --program-suffix=SUFFIX append SUFFIX to installed program names
  --program-transform-name=PROGRAM
                          run sed PROGRAM on installed program names
EOF
    cat << EOF
Host type:
  --build=BUILD           configure for building on BUILD [BUILD=HOST]
  --host=HOST             configure for HOST [guessed]
  --target=TARGET         configure for TARGET [TARGET=HOST]
Features and packages:
  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)
  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]
  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
  --x-includes=DIR        X include files are in DIR
  --x-libraries=DIR       X library files are in DIR
EOF
    if test -n "$ac_help"; then
      echo "--enable and --with options recognized:$ac_help"
d156 6
a161 157
    exit 0 ;;

  -host | --host | --hos | --ho)
    ac_prev=host ;;
  -host=* | --host=* | --hos=* | --ho=*)
    host="$ac_optarg" ;;

  -includedir | --includedir | --includedi | --included | --include \
  | --includ | --inclu | --incl | --inc)
    ac_prev=includedir ;;
  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \
  | --includ=* | --inclu=* | --incl=* | --inc=*)
    includedir="$ac_optarg" ;;

  -infodir | --infodir | --infodi | --infod | --info | --inf)
    ac_prev=infodir ;;
  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)
    infodir="$ac_optarg" ;;

  -libdir | --libdir | --libdi | --libd)
    ac_prev=libdir ;;
  -libdir=* | --libdir=* | --libdi=* | --libd=*)
    libdir="$ac_optarg" ;;

  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \
  | --libexe | --libex | --libe)
    ac_prev=libexecdir ;;
  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \
  | --libexe=* | --libex=* | --libe=*)
    libexecdir="$ac_optarg" ;;

  -localstatedir | --localstatedir | --localstatedi | --localstated \
  | --localstate | --localstat | --localsta | --localst \
  | --locals | --local | --loca | --loc | --lo)
    ac_prev=localstatedir ;;
  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \
  | --localstate=* | --localstat=* | --localsta=* | --localst=* \
  | --locals=* | --local=* | --loca=* | --loc=* | --lo=*)
    localstatedir="$ac_optarg" ;;

  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)
    ac_prev=mandir ;;
  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)
    mandir="$ac_optarg" ;;

  -nfp | --nfp | --nf)
    # Obsolete; use --without-fp.
    with_fp=no ;;

  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c)
    no_create=yes ;;

  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)
    no_recursion=yes ;;

  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \
  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \
  | --oldin | --oldi | --old | --ol | --o)
    ac_prev=oldincludedir ;;
  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \
  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \
  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)
    oldincludedir="$ac_optarg" ;;

  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)
    ac_prev=prefix ;;
  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)
    prefix="$ac_optarg" ;;

  -program-prefix | --program-prefix | --program-prefi | --program-pref \
  | --program-pre | --program-pr | --program-p)
    ac_prev=program_prefix ;;
  -program-prefix=* | --program-prefix=* | --program-prefi=* \
  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)
    program_prefix="$ac_optarg" ;;

  -program-suffix | --program-suffix | --program-suffi | --program-suff \
  | --program-suf | --program-su | --program-s)
    ac_prev=program_suffix ;;
  -program-suffix=* | --program-suffix=* | --program-suffi=* \
  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)
    program_suffix="$ac_optarg" ;;

  -program-transform-name | --program-transform-name \
  | --program-transform-nam | --program-transform-na \
  | --program-transform-n | --program-transform- \
  | --program-transform | --program-transfor \
  | --program-transfo | --program-transf \
  | --program-trans | --program-tran \
  | --progr-tra | --program-tr | --program-t)
    ac_prev=program_transform_name ;;
  -program-transform-name=* | --program-transform-name=* \
  | --program-transform-nam=* | --program-transform-na=* \
  | --program-transform-n=* | --program-transform-=* \
  | --program-transform=* | --program-transfor=* \
  | --program-transfo=* | --program-transf=* \
  | --program-trans=* | --program-tran=* \
  | --progr-tra=* | --program-tr=* | --program-t=*)
    program_transform_name="$ac_optarg" ;;

  -q | -quiet | --quiet | --quie | --qui | --qu | --q \
  | -silent | --silent | --silen | --sile | --sil)
    silent=yes ;;

  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)
    ac_prev=sbindir ;;
  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \
  | --sbi=* | --sb=*)
    sbindir="$ac_optarg" ;;

  -sharedstatedir | --sharedstatedir | --sharedstatedi \
  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \
  | --sharedst | --shareds | --shared | --share | --shar \
  | --sha | --sh)
    ac_prev=sharedstatedir ;;
  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \
  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \
  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \
  | --sha=* | --sh=*)
    sharedstatedir="$ac_optarg" ;;

  -site | --site | --sit)
    ac_prev=site ;;
  -site=* | --site=* | --sit=*)
    site="$ac_optarg" ;;

  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)
    ac_prev=srcdir ;;
  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)
    srcdir="$ac_optarg" ;;

  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \
  | --syscon | --sysco | --sysc | --sys | --sy)
    ac_prev=sysconfdir ;;
  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \
  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)
    sysconfdir="$ac_optarg" ;;

  -target | --target | --targe | --targ | --tar | --ta | --t)
    ac_prev=target ;;
  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)
    target="$ac_optarg" ;;

  -v | -verbose | --verbose | --verbos | --verbo | --verb)
    verbose=yes ;;

  -version | --version | --versio | --versi | --vers)
    echo "configure generated by autoconf version 2.12"
    exit 0 ;;

  -with-* | --with-*)
    ac_package=`echo $ac_option|sed -e 's/-*with-//' -e 's/=.*//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-_a-zA-Z0-9]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
d163 5
a167 35
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    case "$ac_option" in
      *=*) ;;
      *) ac_optarg=yes ;;
    esac
    eval "with_${ac_package}='$ac_optarg'" ;;

  -without-* | --without-*)
    ac_package=`echo $ac_option|sed -e 's/-*without-//'`
    # Reject names that are not valid shell variable names.
    if test -n "`echo $ac_package| sed 's/[-a-zA-Z0-9_]//g'`"; then
      { echo "configure: error: $ac_package: invalid package name" 1>&2; exit 1; }
    fi
    ac_package=`echo $ac_package| sed 's/-/_/g'`
    eval "with_${ac_package}=no" ;;

  --x)
    # Obsolete; use --with-x.
    with_x=yes ;;

  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \
  | --x-incl | --x-inc | --x-in | --x-i)
    ac_prev=x_includes ;;
  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \
  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)
    x_includes="$ac_optarg" ;;

  -x-libraries | --x-libraries | --x-librarie | --x-librari \
  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)
    ac_prev=x_libraries ;;
  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \
  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
    x_libraries="$ac_optarg" ;;

  -*) { echo "configure: error: $ac_option: invalid option; use --help to show usage" 1>&2; exit 1; }
a168 1

d170 9
a178 8
    if test -n "`echo $ac_option| sed 's/[-a-z0-9.]//g'`"; then
      echo "configure: warning: $ac_option: invalid host type" 1>&2
    fi
    if test "x$nonopt" != xNONE; then
      { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; }
    fi
    nonopt="$ac_option"
    ;;
d180 182
d365 12
a376 3
if test -n "$ac_prev"; then
  { echo "configure: error: missing argument to --`echo $ac_prev | sed 's/_/-/g'`" 1>&2; exit 1; }
fi
d378 5
a382 1
trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15
d384 3
a386 12
# File descriptor usage:
# 0 standard input
# 1 file creation
# 2 errors and warnings
# 3 some systems may open it to /dev/tty
# 4 used on the Kubota Titan
# 6 checking for... messages and results
# 5 compiler messages saved in config.log
if test "$silent" = yes; then
  exec 6>/dev/null
else
  exec 6>&1
a387 41
exec 5>./config.log

echo "\
This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.
" 1>&5

# Strip out --no-create and --no-recursion so they do not pile up.
# Also quote any args containing shell metacharacters.
ac_configure_args=
for ac_arg
do
  case "$ac_arg" in
  -no-create | --no-create | --no-creat | --no-crea | --no-cre \
  | --no-cr | --no-c) ;;
  -no-recursion | --no-recursion | --no-recursio | --no-recursi \
  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r) ;;
  *" "*|*"	"*|*[\[\]\~\#\$\^\&\*\(\)\{\}\\\|\;\<\>\?]*)
  ac_configure_args="$ac_configure_args '$ac_arg'" ;;
  *) ac_configure_args="$ac_configure_args $ac_arg" ;;
  esac
done

# NLS nuisances.
# Only set these to C if already set.  These must not be set unconditionally
# because not all systems understand e.g. LANG=C (notably SCO).
# Fixing LC_MESSAGES prevents Solaris sh from translating var values in `set'!
# Non-C LC_CTYPE values break the ctype check.
if test "${LANG+set}"   = set; then LANG=C;   export LANG;   fi
if test "${LC_ALL+set}" = set; then LC_ALL=C; export LC_ALL; fi
if test "${LC_MESSAGES+set}" = set; then LC_MESSAGES=C; export LC_MESSAGES; fi
if test "${LC_CTYPE+set}"    = set; then LC_CTYPE=C;    export LC_CTYPE;    fi

# confdefs.h avoids OS command line length limits that DEFS can exceed.
rm -rf conftest* confdefs.h
# AIX cpp loses on an empty file, so make sure it contains at least a newline.
echo > confdefs.h

# A filename unique to this package, relative to the directory that
# configure is in, which we can look for to find out if srcdir is correct.
ac_unique_file=tree.c
d390 8
a397 12
if test -z "$srcdir"; then
  ac_srcdir_defaulted=yes
  # Try the directory containing this script, then its parent.
  ac_prog=$0
  ac_confdir=`echo $ac_prog|sed 's%/[^/][^/]*$%%'`
  test "x$ac_confdir" = "x$ac_prog" && ac_confdir=.
  srcdir=$ac_confdir
  if test ! -r $srcdir/$ac_unique_file; then
    srcdir=..
  fi
else
  ac_srcdir_defaulted=no
a398 8
if test ! -r $srcdir/$ac_unique_file; then
  if test "$ac_srcdir_defaulted" = yes; then
    { echo "configure: error: can not find sources in $ac_confdir or .." 1>&2; exit 1; }
  else
    { echo "configure: error: can not find sources in $srcdir" 1>&2; exit 1; }
  fi
fi
srcdir=`echo "${srcdir}" | sed 's%\([^/]\)/*$%\1%'`
d400 9
a408 21
# Prefer explicitly selected file to automatically selected ones.
if test -z "$CONFIG_SITE"; then
  if test "x$prefix" != xNONE; then
    CONFIG_SITE="$prefix/share/config.site $prefix/etc/config.site"
  else
    CONFIG_SITE="$ac_default_prefix/share/config.site $ac_default_prefix/etc/config.site"
  fi
fi
for ac_site_file in $CONFIG_SITE; do
  if test -r "$ac_site_file"; then
    echo "loading site script $ac_site_file"
    . "$ac_site_file"
  fi
done

if test -r "$cache_file"; then
  echo "loading cache $cache_file"
  . $cache_file
else
  echo "creating cache $cache_file"
  > $cache_file
d411 4
a414 17
ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

if (echo "testing\c"; echo 1,2,3) | grep c >/dev/null; then
  # Stardent Vistra SVR4 grep lacks -e, says ghazi@@caip.rutgers.edu.
  if (echo -n testing; echo 1,2,3) | sed s/-n/xn/ | grep xn >/dev/null; then
    ac_n= ac_c='
' ac_t='	'
  else
    ac_n=-n ac_c= ac_t=
  fi
else
  ac_n= ac_c='\c' ac_t=
d417 16
d434 15
a448 121


native_prefix=/usr
remove=rm
hard_link=ln
symbolic_link='ln -s'
copy=cp

# Check for additional parameters

# With GNU ld
# Check whether --with-gnu-ld or --without-gnu-ld was given.
if test "${with_gnu_ld+set}" = set; then
  withval="$with_gnu_ld"
  gnu_ld=yes
else
  gnu_ld=no
fi


# With GNU as
# Check whether --with-gnu-as or --without-gnu-as was given.
if test "${with_gnu_as+set}" = set; then
  withval="$with_gnu_as"
  gas=yes
else
  gas=no
fi


# With stabs
# Check whether --with-stabs or --without-stabs was given.
if test "${with_stabs+set}" = set; then
  withval="$with_stabs"
  stabs=yes
else
  stabs=no
fi


# With ELF
# Check whether --with-elf or --without-elf was given.
if test "${with_elf+set}" = set; then
  withval="$with_elf"
  elf=yes
else
  elf=no
fi


# Specify the local prefix
# Check whether --with-local-prefix or --without-local-prefix was given.
if test "${with_local_prefix+set}" = set; then
  withval="$with_local_prefix"
  local_prefix=$with_local_prefix
else
  local_prefix=/usr/local
fi


# Default local prefix if it is empty
if [ x$local_prefix = x ]; then
	local_prefix=/usr/local
fi

# Specify the g++ header file directory
# Check whether --with-gxx-include-dir or --without-gxx-include-dir was given.
if test "${with_gxx_include_dir+set}" = set; then
  withval="$with_gxx_include_dir"
  gxx_include_dir=$with_gxx_include_dir
else
  gxx_include_dir='${prefix}/include/g++'
fi


# Default g++ header file directory if it is empty
if [ x$gxx_include_dir = x ]; then
	gxx_include_dir='${prefix}/include/g++'
fi

# Enable use of cpplib for C.
# Check whether --enable-c-cpplib or --disable-c-cpplib was given.
if test "${enable_c_cpplib+set}" = set; then
  enableval="$enable_c_cpplib"
  if [ x$enable_c_cpplib != xno ]; then
  extra_c_objs="${extra_c_objs} cpplib.o cppexp.o cpphash.o cpperror.o"
  extra_c_flags=-DUSE_CPPLIB=1
fi
fi


# Enable threads
# Pass with no value to take the default
# Pass with a value to specify a thread package
# Check whether --enable-threads or --disable-threads was given.
if test "${enable_threads+set}" = set; then
  enableval="$enable_threads"
  if [ x$enable_threads = xno ]; then
	enable_threads=''
fi
else
  enable_threads=''
fi


# Check if a valid thread package
case x${enable_threads} in
	x | xno)
		# No threads
		thread_file='single'
		;;
	xyes)
		# default
		thread_file=''
		;;
	xdecosf1 | xirix | xmach | xos2 | xposix | xpthreads | xsingle | \
	xsolaris | xwin32)
		thread_file=$enable_threads
		;;
	*)
		echo "$enable_threads is an unknown thread package" 1>&2
d450 1
a450 247
		;;
esac

# Determine the host, build, and target systems
ac_aux_dir=
for ac_dir in $srcdir $srcdir/.. $srcdir/../..; do
  if test -f $ac_dir/install-sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install-sh -c"
    break
  elif test -f $ac_dir/install.sh; then
    ac_aux_dir=$ac_dir
    ac_install_sh="$ac_aux_dir/install.sh -c"
    break
  fi
done
if test -z "$ac_aux_dir"; then
  { echo "configure: error: can not find install-sh or install.sh in $srcdir $srcdir/.. $srcdir/../.." 1>&2; exit 1; }
fi
ac_config_guess=$ac_aux_dir/config.guess
ac_config_sub=$ac_aux_dir/config.sub
ac_configure=$ac_aux_dir/configure # This should be Cygnus configure.


# Do some error checking and defaulting for the host and target type.
# The inputs are:
#    configure --host=HOST --target=TARGET --build=BUILD NONOPT
#
# The rules are:
# 1. You are not allowed to specify --host, --target, and nonopt at the
#    same time.
# 2. Host defaults to nonopt.
# 3. If nonopt is not specified, then host defaults to the current host,
#    as determined by config.guess.
# 4. Target and build default to nonopt.
# 5. If nonopt is not specified, then target and build default to host.

# The aliases save the names the user supplied, while $host etc.
# will get canonicalized.
case $host---$target---$nonopt in
NONE---*---* | *---NONE---* | *---*---NONE) ;;
*) { echo "configure: error: can only configure for one host and one target at a time" 1>&2; exit 1; } ;;
esac


# Make sure we can run config.sub.
if $ac_config_sub sun4 >/dev/null 2>&1; then :
else { echo "configure: error: can not run $ac_config_sub" 1>&2; exit 1; }
fi

echo $ac_n "checking host system type""... $ac_c" 1>&6
echo "configure:713: checking host system type" >&5

host_alias=$host
case "$host_alias" in
NONE)
  case $nonopt in
  NONE)
    if host_alias=`$ac_config_guess`; then :
    else { echo "configure: error: can not guess host type; you must specify one" 1>&2; exit 1; }
    fi ;;
  *) host_alias=$nonopt ;;
  esac ;;
esac

host=`$ac_config_sub $host_alias`
host_cpu=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
host_vendor=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
host_os=`echo $host | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$host" 1>&6

echo $ac_n "checking target system type""... $ac_c" 1>&6
echo "configure:734: checking target system type" >&5

target_alias=$target
case "$target_alias" in
NONE)
  case $nonopt in
  NONE) target_alias=$host_alias ;;
  *) target_alias=$nonopt ;;
  esac ;;
esac

target=`$ac_config_sub $target_alias`
target_cpu=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
target_vendor=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
target_os=`echo $target | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$target" 1>&6

echo $ac_n "checking build system type""... $ac_c" 1>&6
echo "configure:752: checking build system type" >&5

build_alias=$build
case "$build_alias" in
NONE)
  case $nonopt in
  NONE) build_alias=$host_alias ;;
  *) build_alias=$nonopt ;;
  esac ;;
esac

build=`$ac_config_sub $build_alias`
build_cpu=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\1/'`
build_vendor=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\2/'`
build_os=`echo $build | sed 's/^\([^-]*\)-\([^-]*\)-\(.*\)$/\3/'`
echo "$ac_t""$build" 1>&6

test "$host_alias" != "$target_alias" &&
  test "$program_prefix$program_suffix$program_transform_name" = \
    NONENONEs,x,x, &&
  program_prefix=${target_alias}-


# Find the native compiler
# Extract the first word of "gcc", so it can be a program name with args.
set dummy gcc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:779: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_CC="gcc"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

if test -z "$CC"; then
  # Extract the first word of "cc", so it can be a program name with args.
set dummy cc; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:808: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_CC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$CC"; then
  ac_cv_prog_CC="$CC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  ac_prog_rejected=no
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      if test "$ac_dir/$ac_word" = "/usr/ucb/cc"; then
        ac_prog_rejected=yes
	continue
      fi
      ac_cv_prog_CC="cc"
      break
    fi
  done
  IFS="$ac_save_ifs"
if test $ac_prog_rejected = yes; then
  # We found a bogon in the path, so make sure we never use it.
  set dummy $ac_cv_prog_CC
  shift
  if test $# -gt 0; then
    # We chose a different compiler from the bogus one.
    # However, it has the same basename, so the bogon will be chosen
    # first if we set CC to just the basename; use the full file name.
    shift
    set dummy "$ac_dir/$ac_word" "$@@"
    shift
    ac_cv_prog_CC="$@@"
  fi
fi
fi
fi
CC="$ac_cv_prog_CC"
if test -n "$CC"; then
  echo "$ac_t""$CC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

  test -z "$CC" && { echo "configure: error: no acceptable cc found in \$PATH" 1>&2; exit 1; }
fi

echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works""... $ac_c" 1>&6
echo "configure:856: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) works" >&5

ac_ext=c
# CFLAGS is not in ac_cpp because -g, -O, etc. are not valid cpp options.
ac_cpp='$CPP $CPPFLAGS'
ac_compile='${CC-cc} -c $CFLAGS $CPPFLAGS conftest.$ac_ext 1>&5'
ac_link='${CC-cc} -o conftest $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS 1>&5'
cross_compiling=$ac_cv_prog_cc_cross

cat > conftest.$ac_ext <<EOF
#line 866 "configure"
#include "confdefs.h"
main(){return(0);}
EOF
if { (eval echo configure:870: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  ac_cv_prog_cc_works=yes
  # If we can't run a trivial program, we are probably using a cross compiler.
  if (./conftest; exit) 2>/dev/null; then
    ac_cv_prog_cc_cross=no
  else
    ac_cv_prog_cc_cross=yes
  fi
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  ac_cv_prog_cc_works=no
fi
rm -fr conftest*

echo "$ac_t""$ac_cv_prog_cc_works" 1>&6
if test $ac_cv_prog_cc_works = no; then
  { echo "configure: error: installation or configuration problem: C compiler cannot create executables." 1>&2; exit 1; }
fi
echo $ac_n "checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler""... $ac_c" 1>&6
echo "configure:890: checking whether the C compiler ($CC $CFLAGS $LDFLAGS) is a cross-compiler" >&5
echo "$ac_t""$ac_cv_prog_cc_cross" 1>&6
cross_compiling=$ac_cv_prog_cc_cross

echo $ac_n "checking whether we are using GNU C""... $ac_c" 1>&6
echo "configure:895: checking whether we are using GNU C" >&5
if eval "test \"`echo '$''{'ac_cv_prog_gcc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.c <<EOF
#ifdef __GNUC__
  yes;
#endif
EOF
if { ac_try='${CC-cc} -E conftest.c'; { (eval echo configure:904: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }; } | egrep yes >/dev/null 2>&1; then
  ac_cv_prog_gcc=yes
else
  ac_cv_prog_gcc=no
fi
d453 5
a457 1658
echo "$ac_t""$ac_cv_prog_gcc" 1>&6

if test $ac_cv_prog_gcc = yes; then
  GCC=yes
  ac_test_CFLAGS="${CFLAGS+set}"
  ac_save_CFLAGS="$CFLAGS"
  CFLAGS=
  echo $ac_n "checking whether ${CC-cc} accepts -g""... $ac_c" 1>&6
echo "configure:919: checking whether ${CC-cc} accepts -g" >&5
if eval "test \"`echo '$''{'ac_cv_prog_cc_g'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  echo 'void f(){}' > conftest.c
if test -z "`${CC-cc} -g -c conftest.c 2>&1`"; then
  ac_cv_prog_cc_g=yes
else
  ac_cv_prog_cc_g=no
fi
rm -f conftest*

fi

echo "$ac_t""$ac_cv_prog_cc_g" 1>&6
  if test "$ac_test_CFLAGS" = set; then
    CFLAGS="$ac_save_CFLAGS"
  elif test $ac_cv_prog_cc_g = yes; then
    CFLAGS="-g -O2"
  else
    CFLAGS="-O2"
  fi
else
  GCC=
  test "${CFLAGS+set}" = set || CFLAGS="-g"
fi

echo $ac_n "checking whether ${MAKE-make} sets \${MAKE}""... $ac_c" 1>&6
echo "configure:947: checking whether ${MAKE-make} sets \${MAKE}" >&5
set dummy ${MAKE-make}; ac_make=`echo "$2" | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_prog_make_${ac_make}_set'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftestmake <<\EOF
all:
	@@echo 'ac_maketemp="${MAKE}"'
EOF
# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
eval `${MAKE-make} -f conftestmake 2>/dev/null | grep temp=`
if test -n "$ac_maketemp"; then
  eval ac_cv_prog_make_${ac_make}_set=yes
else
  eval ac_cv_prog_make_${ac_make}_set=no
fi
rm -f conftestmake
fi
if eval "test \"`echo '$ac_cv_prog_make_'${ac_make}_set`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  SET_MAKE=
else
  echo "$ac_t""no" 1>&6
  SET_MAKE="MAKE=${MAKE-make}"
fi


# Find some useful tools
for ac_prog in mawk gawk nawk awk
do
# Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:980: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_AWK'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$AWK"; then
  ac_cv_prog_AWK="$AWK" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_AWK="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
AWK="$ac_cv_prog_AWK"
if test -n "$AWK"; then
  echo "$ac_t""$AWK" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

test -n "$AWK" && break
done

# Extract the first word of "flex", so it can be a program name with args.
set dummy flex; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1011: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_LEX'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$LEX"; then
  ac_cv_prog_LEX="$LEX" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_LEX="flex"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_LEX" && ac_cv_prog_LEX="lex"
fi
fi
LEX="$ac_cv_prog_LEX"
if test -n "$LEX"; then
  echo "$ac_t""$LEX" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

if test -z "$LEXLIB"
then
  case "$LEX" in
  flex*) ac_lib=fl ;;
  *) ac_lib=l ;;
  esac
  echo $ac_n "checking for yywrap in -l$ac_lib""... $ac_c" 1>&6
echo "configure:1044: checking for yywrap in -l$ac_lib" >&5
ac_lib_var=`echo $ac_lib'_'yywrap | sed 'y%./+-%__p_%'`
if eval "test \"`echo '$''{'ac_cv_lib_$ac_lib_var'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  ac_save_LIBS="$LIBS"
LIBS="-l$ac_lib  $LIBS"
cat > conftest.$ac_ext <<EOF
#line 1052 "configure"
#include "confdefs.h"
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char yywrap();

int main() {
yywrap()
; return 0; }
EOF
if { (eval echo configure:1063: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_lib_$ac_lib_var=no"
fi
rm -f conftest*
LIBS="$ac_save_LIBS"

fi
if eval "test \"`echo '$ac_cv_lib_'$ac_lib_var`\" = yes"; then
  echo "$ac_t""yes" 1>&6
  LEXLIB="-l$ac_lib"
else
  echo "$ac_t""no" 1>&6
fi

fi

# Extract the first word of "ranlib", so it can be a program name with args.
set dummy ranlib; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1088: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_RANLIB'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$RANLIB"; then
  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_RANLIB="ranlib"
      break
    fi
  done
  IFS="$ac_save_ifs"
  test -z "$ac_cv_prog_RANLIB" && ac_cv_prog_RANLIB=":"
fi
fi
RANLIB="$ac_cv_prog_RANLIB"
if test -n "$RANLIB"; then
  echo "$ac_t""$RANLIB" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

for ac_prog in 'bison -y' byacc
do
# Extract the first word of "$ac_prog", so it can be a program name with args.
set dummy $ac_prog; ac_word=$2
echo $ac_n "checking for $ac_word""... $ac_c" 1>&6
echo "configure:1119: checking for $ac_word" >&5
if eval "test \"`echo '$''{'ac_cv_prog_YACC'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  if test -n "$YACC"; then
  ac_cv_prog_YACC="$YACC" # Let the user override the test.
else
  IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    test -z "$ac_dir" && ac_dir=.
    if test -f $ac_dir/$ac_word; then
      ac_cv_prog_YACC="$ac_prog"
      break
    fi
  done
  IFS="$ac_save_ifs"
fi
fi
YACC="$ac_cv_prog_YACC"
if test -n "$YACC"; then
  echo "$ac_t""$YACC" 1>&6
else
  echo "$ac_t""no" 1>&6
fi

test -n "$YACC" && break
done
test -n "$YACC" || YACC="yacc"

# Find a good install program.  We prefer a C program (faster),
# so one script is as good as another.  But avoid the broken or
# incompatible versions:
# SysV /etc/install, /usr/sbin/install
# SunOS /usr/etc/install
# IRIX /sbin/install
# AIX /bin/install
# AFS /usr/afsws/bin/install, which mishandles nonexistent args
# SVR4 /usr/ucb/install, which tries to use the nonexistent group "staff"
# ./install, which can be erroneously created by make from ./install.sh.
echo $ac_n "checking for a BSD compatible install""... $ac_c" 1>&6
echo "configure:1159: checking for a BSD compatible install" >&5
if test -z "$INSTALL"; then
if eval "test \"`echo '$''{'ac_cv_path_install'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    IFS="${IFS= 	}"; ac_save_IFS="$IFS"; IFS="${IFS}:"
  for ac_dir in $PATH; do
    # Account for people who put trailing slashes in PATH elements.
    case "$ac_dir/" in
    /|./|.//|/etc/*|/usr/sbin/*|/usr/etc/*|/sbin/*|/usr/afsws/bin/*|/usr/ucb/*) ;;
    *)
      # OSF1 and SCO ODT 3.0 have their own names for install.
      for ac_prog in ginstall installbsd scoinst install; do
        if test -f $ac_dir/$ac_prog; then
	  if test $ac_prog = install &&
            grep dspmsg $ac_dir/$ac_prog >/dev/null 2>&1; then
	    # AIX install.  It has an incompatible calling convention.
	    # OSF/1 installbsd also uses dspmsg, but is usable.
	    :
	  else
	    ac_cv_path_install="$ac_dir/$ac_prog -c"
	    break 2
	  fi
	fi
      done
      ;;
    esac
  done
  IFS="$ac_save_IFS"

fi
  if test "${ac_cv_path_install+set}" = set; then
    INSTALL="$ac_cv_path_install"
  else
    # As a last resort, use the slow shell script.  We don't cache a
    # path for INSTALL within a source directory, because that will
    # break other packages using the cache if that directory is
    # removed, or if the path is relative.
    INSTALL="$ac_install_sh"
  fi
fi
echo "$ac_t""$INSTALL" 1>&6

# Use test -z because SunOS4 sh mishandles braces in ${var-val}.
# It thinks the first close brace ends the variable substitution.
test -z "$INSTALL_PROGRAM" && INSTALL_PROGRAM='${INSTALL}'

test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'


echo $ac_n "checking how to run the C preprocessor""... $ac_c" 1>&6
echo "configure:1210: checking how to run the C preprocessor" >&5
# On Suns, sometimes $CPP names a directory.
if test -n "$CPP" && test -d "$CPP"; then
  CPP=
fi
if test -z "$CPP"; then
if eval "test \"`echo '$''{'ac_cv_prog_CPP'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
    # This must be in double quotes, not single quotes, because CPP may get
  # substituted into the Makefile and "${CC-cc}" will confuse make.
  CPP="${CC-cc} -E"
  # On the NeXT, cc -E runs the code through the compiler's parser,
  # not just through cpp.
  cat > conftest.$ac_ext <<EOF
#line 1225 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1231: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP="${CC-cc} -E -traditional-cpp"
  cat > conftest.$ac_ext <<EOF
#line 1242 "configure"
#include "confdefs.h"
#include <assert.h>
Syntax Error
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1248: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
if test -z "$ac_err"; then
  :
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  CPP=/lib/cpp
fi
rm -f conftest*
fi
rm -f conftest*
  ac_cv_prog_CPP="$CPP"
fi
  CPP="$ac_cv_prog_CPP"
else
  ac_cv_prog_CPP="$CPP"
fi
echo "$ac_t""$CPP" 1>&6

echo $ac_n "checking for ANSI C header files""... $ac_c" 1>&6
echo "configure:1271: checking for ANSI C header files" >&5
if eval "test \"`echo '$''{'ac_cv_header_stdc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1276 "configure"
#include "confdefs.h"
#include <stdlib.h>
#include <stdarg.h>
#include <string.h>
#include <float.h>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1284: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
if test -z "$ac_err"; then
  rm -rf conftest*
  ac_cv_header_stdc=yes
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

if test $ac_cv_header_stdc = yes; then
  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 1301 "configure"
#include "confdefs.h"
#include <string.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "memchr" >/dev/null 2>&1; then
  :
else
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.
cat > conftest.$ac_ext <<EOF
#line 1319 "configure"
#include "confdefs.h"
#include <stdlib.h>
EOF
if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
  egrep "free" >/dev/null 2>&1; then
  :
else
  rm -rf conftest*
  ac_cv_header_stdc=no
fi
rm -f conftest*

fi

if test $ac_cv_header_stdc = yes; then
  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.
if test "$cross_compiling" = yes; then
  :
else
  cat > conftest.$ac_ext <<EOF
#line 1340 "configure"
#include "confdefs.h"
#include <ctype.h>
#define ISLOWER(c) ('a' <= (c) && (c) <= 'z')
#define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))
#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))
int main () { int i; for (i = 0; i < 256; i++)
if (XOR (islower (i), ISLOWER (i)) || toupper (i) != TOUPPER (i)) exit(2);
exit (0); }

EOF
if { (eval echo configure:1351: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest && (./conftest; exit) 2>/dev/null
then
  :
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -fr conftest*
  ac_cv_header_stdc=no
fi
rm -fr conftest*
fi

fi
fi

echo "$ac_t""$ac_cv_header_stdc" 1>&6
if test $ac_cv_header_stdc = yes; then
  cat >> confdefs.h <<\EOF
#define STDC_HEADERS 1
EOF

fi

echo $ac_n "checking whether time.h and sys/time.h may both be included""... $ac_c" 1>&6
echo "configure:1375: checking whether time.h and sys/time.h may both be included" >&5
if eval "test \"`echo '$''{'ac_cv_header_time'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1380 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <sys/time.h>
#include <time.h>
int main() {
struct tm *tp;
; return 0; }
EOF
if { (eval echo configure:1389: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_header_time=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_header_time=no
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_header_time" 1>&6
if test $ac_cv_header_time = yes; then
  cat >> confdefs.h <<\EOF
#define TIME_WITH_SYS_TIME 1
EOF

fi

for ac_hdr in limits.h stddef.h string.h strings.h stdlib.h time.h fcntl.h unistd.h sys/file.h sys/time.h sys/resource.h sys/param.h sys/times.h
do
ac_safe=`echo "$ac_hdr" | sed 'y%./+-%__p_%'`
echo $ac_n "checking for $ac_hdr""... $ac_c" 1>&6
echo "configure:1413: checking for $ac_hdr" >&5
if eval "test \"`echo '$''{'ac_cv_header_$ac_safe'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1418 "configure"
#include "confdefs.h"
#include <$ac_hdr>
EOF
ac_try="$ac_cpp conftest.$ac_ext >/dev/null 2>conftest.out"
{ (eval echo configure:1423: \"$ac_try\") 1>&5; (eval $ac_try) 2>&5; }
ac_err=`grep -v '^ *+' conftest.out`
if test -z "$ac_err"; then
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=yes"
else
  echo "$ac_err" >&5
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_header_$ac_safe=no"
fi
rm -f conftest*
fi
if eval "test \"`echo '$ac_cv_header_'$ac_safe`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_hdr=HAVE_`echo $ac_hdr | sed 'y%abcdefghijklmnopqrstuvwxyz./-%ABCDEFGHIJKLMNOPQRSTUVWXYZ___%'`
  cat >> confdefs.h <<EOF
#define $ac_tr_hdr 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done


# Use <inttypes.h> only if it exists,
# doesn't clash with <sys/types.h>, and declares intmax_t.
echo $ac_n "checking for inttypes.h""... $ac_c" 1>&6
echo "configure:1453: checking for inttypes.h" >&5
if eval "test \"`echo '$''{'gcc_cv_header_inttypes_h'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1458 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <inttypes.h>
int main() {
intmax_t i = -1;
; return 0; }
EOF
if { (eval echo configure:1466: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_header_inttypes_h=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_header_inttypes_h=no
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_header_inttypes_h" 1>&6
if test $gcc_cv_header_inttypes_h = yes; then
  cat >> confdefs.h <<\EOF
#define HAVE_INTTYPES_H 1
EOF

fi

for ac_func in strerror
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1489: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1494 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1517: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in putenv
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1544: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1549 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1572: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in popen
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1599: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1604 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1627: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in vprintf
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1654: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1659 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1682: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in bcopy
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1709: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1714 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1737: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in bzero
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1764: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1769 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1792: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in bcmp
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1819: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1824 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1847: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in index
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1874: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1879 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1902: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in rindex
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1929: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1934 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:1957: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in kill
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:1984: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 1989 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2012: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in getrlimit
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2039: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2044 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2067: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

for ac_func in setrlimit
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2094: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2099 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2122: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done


echo $ac_n "checking whether malloc must be declared""... $ac_c" 1>&6
echo "configure:2148: checking whether malloc must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_malloc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2153 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) malloc
; return 0; }
EOF
if { (eval echo configure:2180: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_malloc=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_malloc=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_malloc" 1>&6
if test $gcc_cv_decl_needed_malloc = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo malloc | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether realloc must be declared""... $ac_c" 1>&6
echo "configure:2202: checking whether realloc must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_realloc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2207 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) realloc
; return 0; }
EOF
if { (eval echo configure:2234: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_realloc=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_realloc=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_realloc" 1>&6
if test $gcc_cv_decl_needed_realloc = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo realloc | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether calloc must be declared""... $ac_c" 1>&6
echo "configure:2256: checking whether calloc must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_calloc'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2261 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) calloc
; return 0; }
EOF
if { (eval echo configure:2288: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_calloc=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_calloc=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_calloc" 1>&6
if test $gcc_cv_decl_needed_calloc = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo calloc | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether free must be declared""... $ac_c" 1>&6
echo "configure:2310: checking whether free must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_free'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2315 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) free
; return 0; }
EOF
if { (eval echo configure:2342: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_free=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_free=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_free" 1>&6
if test $gcc_cv_decl_needed_free = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo free | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether index must be declared""... $ac_c" 1>&6
echo "configure:2364: checking whether index must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_index'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2369 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) index
; return 0; }
EOF
if { (eval echo configure:2396: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_index=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_index=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_index" 1>&6
if test $gcc_cv_decl_needed_index = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo index | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether rindex must be declared""... $ac_c" 1>&6
echo "configure:2418: checking whether rindex must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_rindex'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2423 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) rindex
; return 0; }
EOF
if { (eval echo configure:2450: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_rindex=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_rindex=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_rindex" 1>&6
if test $gcc_cv_decl_needed_rindex = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo rindex | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

echo $ac_n "checking whether getenv must be declared""... $ac_c" 1>&6
echo "configure:2472: checking whether getenv must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_getenv'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2477 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) getenv
; return 0; }
EOF
if { (eval echo configure:2504: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_getenv=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_getenv=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_getenv" 1>&6
if test $gcc_cv_decl_needed_getenv = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo getenv | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi


echo $ac_n "checking for sys_siglist declaration in signal.h or unistd.h""... $ac_c" 1>&6
echo "configure:2527: checking for sys_siglist declaration in signal.h or unistd.h" >&5
if eval "test \"`echo '$''{'ac_cv_decl_sys_siglist'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2532 "configure"
#include "confdefs.h"
#include <sys/types.h>
#include <signal.h>
/* NetBSD declares sys_siglist in unistd.h.  */
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
int main() {
char *msg = *(sys_siglist + 1);
; return 0; }
EOF
if { (eval echo configure:2544: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  ac_cv_decl_sys_siglist=yes
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  ac_cv_decl_sys_siglist=no
fi
rm -f conftest*
fi

echo "$ac_t""$ac_cv_decl_sys_siglist" 1>&6
if test $ac_cv_decl_sys_siglist = yes; then
  cat >> confdefs.h <<\EOF
#define SYS_SIGLIST_DECLARED 1
EOF

fi


# File extensions
manext='.1'
objext='.o'

d459 5
a465 3
build_broken_install=
build_install_headers_dir=install-headers-tar
build_exeext=
d468 2
d472 5
d481 1
a481 1
for machine in $build $host $target; do
d483 3
a493 1
	extra_host_objs=
a494 1
	float_format=
a511 39
	# Set this if the build machine requires executables to have a
	# file name suffix.
	exeext=

	# Set default cpu_type, tm_file and xm_file so it can be updated in
	# each machine entry.
	cpu_type=`echo $machine | sed 's/-.*$//'`
	case $machine in
	alpha*-*-*)
		cpu_type=alpha
		;;
	arm*-*-*)
		cpu_type=arm
		;;
	c*-convex-*)
		cpu_type=convex
		;;
	i[3456]86-*-*)
		cpu_type=i386
		;;
	hppa*-*-*)
		cpu_type=pa
		;;
	m68000-*-*)
		cpu_type=m68k
		;;
	mips*-*-*)
		cpu_type=mips
		;;
	powerpc*-*-*)
		cpu_type=rs6000
		;;
	pyramid-*-*)
		cpu_type=pyr
		;;
	sparc*-*-*)
		cpu_type=sparc
		;;
	esac
a512 3
	tm_file=${cpu_type}/${cpu_type}.h
	xm_file=${cpu_type}/xm-${cpu_type}.h
	
d532 1
a532 1
		tm_file="${tm_file} a29k/unix.h"
d535 1
a538 1
		tm_file="${tm_file} dbxcoff.h a29k/udi.h"
d540 1
a542 1
		tm_file="${tm_file} dbxcoff.h a29k/udi.h a29k/vx29k.h"
d544 1
d550 12
a561 8
	alpha*-*-linux-gnuecoff*)
		tm_file="${tm_file} alpha/linux.h"
		xm_file="${xm_file} alpha/xm-linux.h"
		target_cpu_default="MASK_GAS"
		gas=no
		xmake_file=none
		fixincludes=Makefile.in
		gas=yes gnu_ld=yes
d563 12
a574 23
	alpha*-*-linux-gnulibc1*)
		tm_file="${tm_file} alpha/linux.h alpha/elf.h"
		xm_file="${xm_file} alpha/xm-linux.h"
		target_cpu_default="MASK_GAS"
		tmake_file="t-linux t-linux-gnulibc1 alpha/t-linux"
		xmake_file=none
		fixincludes=Makefile.in
		gas=yes gnu_ld=yes
 		if [ x$enable_threads = xyes ]; then
 			thread_file='posix'
 		fi
		;;
	alpha*-*-linux-gnu*)
		tm_file="${tm_file} alpha/linux.h alpha/elf.h"
		xm_file="${xm_file} alpha/xm-linux.h"
		target_cpu_default="MASK_GAS"
		tmake_file="t-linux alpha/t-linux"
		xmake_file=none
		fixincludes=Makefile.in
		gas=yes gnu_ld=yes
 		if [ x$enable_threads = xyes ]; then
 			thread_file='posix'
 		fi
d576 1
a576 1
	alpha*-dec-osf*)
d579 1
a579 1
			tm_file="${tm_file} dbx.h"
a586 18
		case $machine in
		  *-*-osf1.2)
		    tm_file="${tm_file} alpha/osf12.h alpha/osf2or3.h"
		    ;;
		  *-*-osf[23]*)
		    tm_file="${tm_file} alpha/osf2or3.h"
		    ;;
		  *-*-osf4*)
		    # Some versions of OSF4 (specifically X4.0-9 296.7) have
		    # a broken tar, so we use cpio instead.
		    install_headers_dir=install-headers-cpio
		    ;;
		esac
		case $machine in
		  *-*-osf4.0[b-z] | *-*-osf4.[1-9]*)
		    target_cpu_default=MASK_SUPPORT_ARCH
		    ;;
		esac
d588 3
a590 4
	alpha*-*-winnt3*)
		tm_file="${tm_file} alpha/win-nt.h"
		target_cpu_default=MASK_WINDOWS_NT
		xm_file="${xm_file} config/winnt/xm-winnt.h alpha/xm-winnt.h"
d593 1
a593 1
		extra_host_objs=oldnames.o
a599 16
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
		;;
	alpha*-dec-vms*)
		tm_file=alpha/vms.h
		xm_file="${xm_file} alpha/xm-vms.h"
		tmake_file=alpha/t-vms
		fixincludes=Makefile.in
		;;
	arc-*-elf*)
		extra_parts="crtinit.o crtfini.o"
		;;
	arm-*-coff* | armel-*-coff*)
		tm_file=arm/coff.h
		tmake_file=arm/t-bare
d617 1
d622 1
a622 25
	arm-semi-aof | armel-semi-aof)
		tm_file=arm/semiaof.h
		tmake_file=arm/t-semiaof
		fixincludes=Makefile.in # There is nothing to fix
		;;
	arm-*-netbsd*)
		tm_file=arm/netbsd.h
		xm_file=arm/xm-netbsd.h
		tmake_file="t-netbsd arm/t-netbsd"
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		;;
	arm-*-linux-gnuaout*)		# ARM GNU/Linux
		cpu_type=arm
		xm_file=arm/xm-linux.h
		xmake_file=x-linux
		tm_file=arm/linux-gas.h
		tmake_file=arm/t-linux
		fixincludes=Makefile.in
		broken_install=yes
		gnu_ld=yes
		;;
	arm-*-aout)
		tm_file=arm/aout.h
		tmake_file=arm/t-bare
d625 2
a626 1
		target_cpu_default=1
d631 2
a632 1
		target_cpu_default=2
d637 2
a638 1
		target_cpu_default=4
d643 2
a644 1
		target_cpu_default=8
d649 2
a650 1
		target_cpu_default=16		
d655 2
a656 1
		tm_file="${tm_file} svr3.h clipper/clix.h"
d658 1
a658 1
		xmake_file=clipper/x-clix
d661 1
a662 1
		broken_install=yes
d673 1
a673 6
		float_format=i32
		;;
	hppa1.1-*-pro*)
		tm_file="pa/pa-pro.h ${tm_file} pa/pa-pro-end.h libgloss.h"
		xm_file=pa/xm-papro.h
		tmake_file=pa/t-pro
d676 2
a677 2
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-osf.h"
a680 5
	hppa1.1-*-rtems*)
		tm_file="pa/pa-pro.h ${tm_file} pa/pa-pro-end.h libgloss.h pa/rtems.h"
		xm_file=pa/xm-papro.h
		tmake_file=pa/t-pro
		;;
d682 2
a683 1
		tm_file="${tm_file} pa/pa-osf.h"
d688 2
a689 1
		target_cpu_default=1
d694 1
d699 1
a699 1
		tm_file="pa/pa-oldas.h ${tm_file} pa/pa-hpux7.h"
d702 1
d705 3
a707 1
			tm_file="${tm_file} pa/gas.h"
d714 1
a714 1
		tm_file="${tm_file} pa/pa-hpux.h"
d717 1
d720 1
a720 1
			tm_file="${tm_file} pa/pa-gas.h"
d722 1
a722 1
			tm_file="pa/pa-oldas.h ${tm_file}"
d729 1
a729 2
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-hpux.h"
d732 1
d735 1
a735 1
			tm_file="${tm_file} pa/pa-gas.h"
d737 1
a737 26
			tm_file="pa/pa-oldas.h ${tm_file}"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.1-*-hpux8*)
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-hpux.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
		fi
		broken_install=yes
		install_headers_dir=install-headers-cpio
		use_collect2=yes
		;;
	hppa1.0-*-hpux8*)
		tm_file="${tm_file} pa/pa-hpux.h"
		xm_file=pa/xm-pahpux.h
		xmake_file=pa/x-pa-hpux
		if [ x$gas = xyes ]
		then
			tm_file="${tm_file} pa/pa-gas.h"
d743 1
d745 1
a745 2
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hpux10.h"
d748 1
d751 3
a753 1
			tm_file="${tm_file} pa/pa-gas.h"
d759 1
d761 1
a761 1
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hpux10.h"
d764 1
d767 3
a769 1
			tm_file="${tm_file} pa/pa-gas.h"
d776 1
a776 2
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hpux9.h"
d779 1
d782 3
a784 1
			tm_file="${tm_file} pa/pa-gas.h"
d791 1
a791 1
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hpux9.h"
d794 1
d797 3
a799 1
			tm_file="${tm_file} pa/pa-gas.h"
d806 1
a806 2
		target_cpu_default=1
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hiux.h"
d809 1
d812 3
a814 1
			tm_file="${tm_file} pa/pa-gas.h"
d821 1
a821 1
		tm_file="${tm_file} pa/pa-hpux.h pa/pa-hiux.h"
d824 1
d827 3
a829 1
			tm_file="${tm_file} pa/pa-gas.h"
d836 2
a837 1
		target_cpu_default=1
d842 4
d847 2
a848 1
	i[3456]86-ibm-aix*)		# IBM PS/2 running AIX
d863 1
d866 1
a866 6
		if [ x$stabs = xyes -a x$gas = xyes ]
		then
			tm_file=i386/sysv4gdb.h
		else
			tm_file=i386/sysv4.h
		fi
d870 2
a871 1
	i[3456]86-next-*)
d873 1
a876 4
		extra_objs=nextstep.o
 		if [ x$enable_threads = xyes ]; then
			thread_file='mach'
		fi
d878 2
a879 1
	i[3456]86-sequent-bsd*) 		# 80386 from Sequent
d888 2
a889 1
	i[3456]86-sequent-ptx1*)
d899 2
a900 1
	i[3456]86-sequent-ptx2* | i[3456]86-sequent-sysv3*)
a909 10
	i[3456]86-sequent-ptx4* | i[3456]86-sequent-sysv4*)
		xm_file=i386/xm-sysv4.h
		xmake_file=x-svr4
		tm_file=i386/ptx4-i.h
		tmake_file=t-svr4
		extra_parts="crtbegin.o crtend.o"
		fixincludes=fixinc.ptx
		install_headers_dir=install-headers-cpio
		broken_install=yes
		;;
d915 2
a916 1
	i[3456]86-*-aout*)
d920 2
a921 1
	i[3456]86-*-bsdi* | i[345]86-*-bsd386*)
d926 2
a927 1
	i[3456]86-*-bsd*)
d934 2
a935 10
	i[3456]86-*-freebsdelf*)
		tm_file="i386/i386.h i386/att.h linux.h i386/freebsd-elf.h i386/perform.h"
		# On FreeBSD, the headers are already ok, except for math.h.
		fixincludes=fixinc.math
		tmake_file=i386/t-freebsd
		gas=yes
		gnu_ld=yes
		stabs=yes
		;;
	i[3456]86-*-freebsd*)
d937 4
a940 3
		# On FreeBSD, the headers are already ok, except for math.h.
		fixincludes=fixinc.math
		tmake_file=i386/t-freebsd
d942 2
a943 1
	i[3456]86-*-netbsd*)
d945 5
a949 3
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
d951 2
a952 1
	i[3456]86-*-coff*)
d956 5
a960 1
	i[3456]86-*-isc*)		# 80386 running ISC system
d970 1
d975 1
a975 1
			extra_parts="svr3.ifile svr3z.ifile"
d984 4
a987 4
	i[3456]86-*-linux-gnuoldld*)	# Intel 80386's running GNU/Linux
		xm_file=i386/xm-linux.h # with a.out format using pre BFD linkers
		xmake_file=x-linux-aout
		tmake_file="t-linux-aout i386/t-crtstuff"
d989 1
a989 1
		fixincludes=Makefile.in
d993 4
a996 4
	i[3456]86-*-linux-gnuaout*)	# Intel 80386's running GNU/Linux
		xm_file=i386/xm-linux.h		# with a.out format
		xmake_file=x-linux-aout
		tmake_file="t-linux-aout i386/t-crtstuff"
d998 1
a998 1
		fixincludes=Makefile.in #The headers are ok already.
d1002 4
a1005 16
	i[3456]86-*-linux-gnulibc1)
		xm_file=i386/xm-linux.h	# Intel 80386's running GNU/Linux
		xmake_file=x-linux	# with ELF format using the
		tm_file=i386/linux.h	# GNU/Linux C library 5
		tmake_file="t-linux t-linux-gnulibc1 i386/t-crtstuff"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
		broken_install=yes
		gnu_ld=yes
 		if [ x$enable_threads = xyes ]; then
 			thread_file='single'
 		fi
		;;
	i[3456]86-*-linux-gnu*)	# Intel 80386's running GNU/Linux
		xm_file=i386/xm-linux.h # with ELF format using glibc 2
		xmake_file=x-linux	# aka GNU/Linux C library 6
d1007 1
a1007 3
		tmake_file="t-linux i386/t-crtstuff"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
d1010 10
a1019 19
 		if [ x$enable_threads = xyes ]; then
 			thread_file='posix'
 		fi
		;;
	i[3456]86-*-gnu*)
		;;
	i[3456]86-go32-msdos | i[3456]86-*-go32*)
		xm_file=i386/xm-go32.h
		tm_file=i386/go32.h
		tmake_file=i386/t-go32
		;;
	i[3456]86-moss-msdos* | i[3456]86-*-moss*)
		tm_file=i386/moss.h
		tmake_file=t-libc-ok
		fixincludes=Makefile.in
		gnu_ld=yes
		gas=yes
		;;
	i[3456]86-*-lynxos*)
d1030 2
a1031 1
	i[3456]86-*-mach*)
d1036 2
a1037 1
	i[3456]86-*-osfrose*)		# 386 using OSF/rose
a1047 1
		tmake_file=i386/t-osf
d1050 1
a1050 7
	i[345]86-go32-rtems*)
		cpu_type=i386
		xm_file=i386/xm-go32.h
		tm_file=i386/go32-rtems.h
		tmake_file="i386/t-go32 t-rtems"
		;;
	i[345]86-*-rtems*)
a1051 13
		tm_file=i386/rtems.h
		tmake_file="i386/t-i386bare t-rtems"
		;;
	i[3456]86-*-sco3.2v5*)		# 80386 running SCO Open Server 5
		xm_file=i386/xm-sco5.h
		xmake_file=i386/x-sco5
		fixincludes=fixinc.sco
		broken_install=yes
		tm_file=i386/sco5.h
		tmake_file=i386/t-sco5
		extra_parts="crtbegin.o crtend.o crtbeginS.o crtendS.o"
		;;
	i[3456]86-*-sco3.2v4*)	 	# 80386 running SCO 3.2v4 system
a1066 1
		truncate_target=yes
d1068 2
a1069 1
	i[3456]86-*-sco*)	 	# 80386 running SCO system
d1086 2
a1087 1
	i[3456]86-*-solaris2*)
d1089 1
a1089 6
		if [ x$stabs = xyes ]
		then
			tm_file=i386/sol2dbg.h
		else
			tm_file=i386/sol2.h
		fi
d1093 1
a1093 1
		fixincludes=fixinc.math
a1094 3
 		if [ x$enable_threads = xyes ]; then
			thread_file='solaris'
		fi
d1096 2
a1097 1
	i[3456]86-*-sysv4*)		# Intel 80386's running system V.4
a1098 1
		tm_file=i386/sysv4.h
d1101 3
a1103 1
			tm_file="${tm_file} dbx.h"
d1109 2
a1110 1
	i[3456]86-*-sysv*)		# Intel 80386's running system V
d1137 2
a1138 25
	i[3456]86-*-pe | i[3456]86-*-cygwin32)
		xm_file="${xm_file} i386/xm-cygwin32.h"
		tmake_file=i386/t-cygwin32
		tm_file=i386/cygwin32.h
		xmake_file=i386/x-cygwin32
		extra_objs=winnt.o
		fixincludes=Makefile.in
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
		exeext=.exe
		;;
	i[3456]86-*-mingw32)
		tm_file=i386/mingw32.h
		xm_file="${xm_file} i386/xm-mingw32.h"
		tmake_file=i386/t-cygwin32
		extra_objs=winnt.o
		xmake_file=i386/x-cygwin32
		fixincludes=Makefile.in
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
		exeext=.exe
		;;
	i[3456]86-*-winnt3*)
d1144 1
a1144 1
		extra_host_objs="winnt.o oldnames.o"
a1150 3
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
a1151 9
	i[3456]86-dg-dgux)
		xm_file=i386/xm-dgux.h
		out_file=i386/dgux.c
		tm_file=i386/dgux.h
		tmake_file=i386/t-dgux
		xmake_file=i386/x-dgux
		fixincludes=fixinc.dgux
		install_headers_dir=install-headers-cpio
              ;;
d1153 1
a1153 2
		tm_file="${tm_file} svr4.h i860/sysv4.h i860/fx2800.h"
		xm_file="${xm_file}"
d1155 1
a1159 1
		tm_file="${tm_file} i860/bsd.h"
d1162 3
a1164 1
			tm_file="${tm_file} i860/bsd-gas.h"
d1169 2
a1170 1
		tm_file="${tm_file} i860/mach.h"
d1174 2
a1175 2
		tm_file="${tm_file} svr3.h i860/paragon.h"
		xm_file="${xm_file} xm-svr3.h"
d1180 1
a1180 2
		tm_file="${tm_file} svr3.h i860/sysv3.h"
		xm_file="${tm_file} xm-svr3.h"
d1182 1
d1186 1
a1186 2
		tm_file="${tm_file} svr4.h i860/sysv4.h"
		xm_file="${xm_file} xm-svr3.h"
d1188 1
a1192 1
		tm_file="${tm_file} i960/vx960.h"
d1194 1
a1197 1
		tm_file="${tm_file} dbxcoff.h i960/i960-coff.h i960/vx960-coff.h"
d1199 1
a1202 1
		tm_file="${tm_file} i960/vx960.h"
d1204 1
a1207 1
		tm_file="${tm_file} dbxcoff.h i960/i960-coff.h libgloss.h"
d1209 1
a1209 5
		use_collect2=yes
		;;
	i960-*-rtems)
		tmake_file="i960/t-960bare t-rtems"
		tm_file="${tm_file} dbxcoff.h i960/rtems.h"
a1214 3
	m32r-*-elf*)
		extra_parts="crtinit.o crtfini.o"
		;;
d1216 2
a1218 1
		xm_file=m68k/xm-3b1.h
d1223 1
d1230 1
d1246 1
d1252 1
d1258 1
a1268 22
	m68k-apple-aux*)		# Apple Macintosh running A/UX
		xm_file=m68k/xm-aux.h
		tmake_file=m68k/t-aux
		broken_install=yes
		install_headers_dir=install-headers-cpio
		extra_headers=math-68881.h
		extra_parts="crt1.o mcrt1.o maccrt1.o crt2.o crtn.o"
		tm_file=
		if [ "$gnu_ld" = yes ]
		then
			tm_file="${tm_file} m68k/auxgld.h"
		else
			tm_file="${tm_file} m68k/auxld.h"
		fi
		if [ "$gas" = yes ]
		then
			tm_file="${tm_file} m68k/auxgas.h"
		else
			tm_file="${tm_file} m68k/auxas.h"
		fi
		tm_file="${tm_file} m68k/a-ux.h"
		;;
d1270 1
a1271 1
		xmake_file=m68k/x-apollo68
d1278 1
a1279 1
		        xm_file=m68k/xm-altos3068.h
a1310 1
		tm_file=m68k/mot3300.h
d1312 1
d1315 1
a1315 8
			xmake_file=m68k/x-mot3300-gas
			if [ x$gnu_ld = xyes ]
			then
				tmake_file=m68k/t-mot3300-gald
			else
				tmake_file=m68k/t-mot3300-gas
				use_collect2=yes
			fi
d1317 2
a1318 8
			xmake_file=m68k/x-mot3300
			if [ x$gnu_ld = xyes ]
			then
				tmake_file=m68k/t-mot3300-gld
			else
				tmake_file=m68k/t-mot3300
				use_collect2=yes
			fi
d1320 1
a1320 2
		gdb_needs_out_file_path=yes
		extra_parts="crt0.o mcrt0.o"
d1325 1
a1325 1
		xm_file="${xm_file} xm-svr3.h"
d1376 1
a1376 1
		if [ x$with_fp = xno ]
d1442 1
a1445 1
		extra_objs=nextstep.o
d1451 1
a1454 1
		extra_objs=nextstep.o
a1455 3
 		if [ x$enable_threads = xyes ]; then
			thread_file='mach'
		fi
d1458 1
a1458 1
		if [ x$with_fp = xno ]
d1468 1
a1468 1
		if [ x$with_fp = xno ]
d1484 1
a1484 1
		tm_file="m68k/m68k-aout.h libgloss.h"
d1489 1
a1489 1
		tm_file="m68k/m68k-coff.h dbx.h libgloss.h"
d1505 1
d1507 5
a1511 3
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
d1526 1
a1526 1
	m68k-*-linux-gnuaout*)		# Motorola m68k's running GNU/Linux
d1530 2
a1531 22
		tmake_file="t-linux-aout m68k/t-linux-aout"
		fixincludes=Makefile.in # The headers are ok already.
		extra_headers=math-68881.h
		gnu_ld=yes
		;;
	m68k-*-linux-gnulibc1)		# Motorola m68k's running GNU/Linux
		xm_file=m68k/xm-linux.h	# with ELF format using the
		xmake_file=x-linux	# GNU/Linux C library 5
		tm_file=m68k/linux.h
		tmake_file="t-linux t-linux-gnulibc1 m68k/t-linux"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
		extra_headers=math-68881.h
		gnu_ld=yes
		;;
	m68k-*-linux-gnu*)		# Motorola m68k's running GNU/Linux
		xm_file=m68k/xm-linux.h	# with ELF format using glibc 2
		xmake_file=x-linux	# aka the GNU/Linux C library 6.
		tm_file=m68k/linux.h
		tmake_file="t-linux m68k/t-linux"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
a1533 3
		if [ x$enable_threads = xyes ]; then
			thread_file='posix'
		fi
d1535 6
a1540 8
	m68k-*-psos*)
		tmake_file=m68k/t-m68kbare
		tm_file=m68k/m68k-psos.h
		extra_headers=math-68881.h
		;;
	m68k-*-rtems*)
		tmake_file="m68k/t-m68kbare t-rtems"
		tm_file=m68k/rtems.h
d1542 4
a1546 1

d1551 1
a1551 1
		    tmake_file=m88k/t-dguxbcs
d1555 1
a1555 1
		    tmake_file=m88k/t-dgux
a1559 1
		xmake_file=m88k/x-dgux
d1563 2
d1589 1
d1593 1
d1627 1
a1627 1
		fixincludes=fixinc.irix
d1630 2
a1631 3
 		if [ x$enable_threads = xyes ]; then
			thread_file='irix'
		fi
a1641 3
 		if [ x$enable_threads = xyes ]; then
			thread_file='irix'
		fi
d1643 1
a1643 1
        mips-sni-sysv4)
d1650 1
a1650 21
				tm_file=mips/sni-gas.h
			fi
		else
			tm_file=mips/sni-svr4.h
		fi
                xm_file=mips/xm-sysv.h
                xmake_file=mips/x-sni-svr4
                tmake_file=mips/t-mips-gas
                if [ x$gnu_ld != xyes ]
                then
                        use_collect2=yes
                fi
                broken_install=yes
                ;;
	mips-sgi-irix5*)		# SGI System V.4., IRIX 5
		if [ x$gas = xyes ]
		then
			tm_file=mips/iris5gas.h
			if [ x$stabs = xyes ]
			then
				tm_file="${tm_file} dbx.h"
d1657 1
a1657 1
		fixincludes=fixinc.irix
a1662 3
 		if [ x$enable_threads = xyes ]; then
			thread_file='irix'
		fi
a1664 1
		tm_file=mips/iris4loser.h
d1666 3
a1668 1
			tm_file="${tm_file} dbx.h"
a1682 3
 		if [ x$enable_threads = xyes ]; then
			thread_file='irix'
		fi
a1684 1
		tm_file=mips/iris4.h
d1686 3
a1688 1
			tm_file="${tm_file} dbx.h"
a1702 3
 		if [ x$enable_threads = xyes ]; then
			thread_file='irix'
		fi
a1704 1
		tm_file=mips/iris3.h
d1706 3
a1708 1
			tm_file="${tm_file} dbx.h"
a1731 1
		tm_file=mips/dec-osf1.h
d1733 3
a1735 1
			tm_file="${tm_file} dbx.h"
d1752 2
d1769 4
a1772 6
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
		if [ x$prefix = xNONE ]; then
			prefix=$native_prefix
		fi
a1775 1
		tm_file=mips/news4.h
d1777 3
a1779 1
			tm_file="${tm_file} dbx.h"
a1795 1
		tm_file=mips/news5.h
d1797 3
a1799 1
			tm_file="${tm_file} dbx.h"
a1813 1
		tm_file=mips/svr4-t.h
d1815 3
a1817 1
			tm_file="${tm_file} dbx.h"
a1835 1
		tm_file=mips/ultrix.h
d1837 3
a1839 1
			tm_file="${tm_file} dbx.h"
d1855 4
a1858 3
		tm_file=mips/bsd-5.h	# MIPS BSD 4.3, RISC-OS 5.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
d1874 4
a1877 3
		tm_file=mips/bsd-4.h	# MIPS BSD 4.3, RISC-OS 4.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
d1893 4
a1896 3
		tm_file=mips/svr4-5.h	# MIPS System V.4., RISC-OS 5.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
d1914 4
a1917 3
		tm_file=mips/svr4-4.h	# MIPS System V.4. RISC-OS 4.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
d1935 4
a1938 3
		tm_file=mips/svr3-5.h	# MIPS System V.3, RISC-OS 5.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
d1956 4
a1959 3
		tm_file=mips/svr3-4.h	# MIPS System V.3, RISC-OS 4.0
		if [ x$stabs = xyes ]; then
			tm_file="${tm_file} dbx.h"
d1976 1
a1976 2
	mips-*-riscos[56789]*)		# Default MIPS RISC-OS 5.0.
		tm_file=mips/mips-5.h
d1978 3
a1980 1
			tm_file="${tm_file} dbx.h"
d1995 1
d1998 1
a1998 1
		tm_file=mips/ecoffl.h
d2000 3
a2002 1
			tm_file="${tm_file} dbx.h"
a2006 1
		tm_file=mips/ecoff.h
d2008 3
a2010 1
			tm_file="${tm_file} dbx.h"
d2016 2
a2017 1
		tm_file="mips/elfl.h libgloss.h"
d2021 2
a2022 1
		tm_file="mips/elf.h libgloss.h"
d2026 2
a2027 1
		tm_file="mips/elfl64.h libgloss.h"
d2031 2
a2032 1
		tm_file="mips/elflorion.h libgloss.h"
d2036 2
a2037 1
		tm_file="mips/elf64.h libgloss.h"
d2041 2
a2042 13
		tm_file="mips/elforion.h libgloss.h"
		tmake_file=mips/t-ecoff
		;;
	mips64orion-*-rtems*)
		tm_file=mips/rtems64.h
		tmake_file="mips/t-ecoff t-rtems"
		;;
	mipstx39el-*-elf*)
		tm_file="mips/r3900.h mips/elfl.h mips/abi64.h libgloss.h"
		tmake_file=mips/t-ecoff
		;;
	mipstx39-*-elf*)
		tm_file="mips/r3900.h mips/elf.h mips/abi64.h libgloss.h"
d2047 3
a2049 1
			tm_file="${tm_file} dbx.h"
a2061 18
	mn10200-*-*)
		cpu_type=mn10200
		tm_file="mn10200/mn10200.h"
		if [ x$stabs = xyes ]
		then
			tm_file="${tm_file} dbx.h"
		fi
		use_collect2=no
		;;
	mn10300-*-*)
		cpu_type=mn10300
		tm_file="mn10300/mn10300.h"
		if [ x$stabs = xyes ]
		then
			tm_file="${tm_file} dbx.h"
		fi
		use_collect2=no
		;;
d2103 5
a2107 8
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
		;;
        pdp11-*-bsd)
		tm_file="${tm_file} pdp11/2bsd.h"
                ;;
        pdp11-*-*)
d2121 15
a2135 1
	powerpc-*-sysv* | powerpc-*-elf*)
a2136 2
		xm_file=rs6000/xm-sysv4.h
		extra_headers=ppc-asm.h
d2139 1
a2139 1
			tmake_file="rs6000/t-ppcos rs6000/t-ppccomm"
d2141 1
a2141 1
			tmake_file="rs6000/t-ppc rs6000/t-ppccomm"
d2146 1
d2148 1
a2148 1
		tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
a2149 1
		extra_headers=ppc-asm.h
d2152 1
d2154 1
a2154 1
		tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
a2155 1
		extra_headers=ppc-asm.h
d2158 1
d2162 1
a2162 1
			tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
d2164 1
a2164 1
			tmake_file="rs6000/t-ppc rs6000/t-ppccomm"
a2166 1
		extra_headers=ppc-asm.h
d2168 2
a2169 13
	powerpc-*-rtems*)
		tm_file=rs6000/rtems.h
		if [ x$gas = xyes ]
		then
		     tmake_file="rs6000/t-ppcgas t-rtems rs6000/t-ppccomm"
		else
		     tmake_file="rs6000/t-ppc t-rtems rs6000/t-ppccomm"
		fi
		fixincludes=Makefile.in
		extra_headers=ppc-asm.h
		;;
	powerpc-*-linux-gnu*)
		tm_file=rs6000/linux.h
a2170 23
		out_file=rs6000/rs6000.c
		if [ x$gas = xyes ]
		then
			tmake_file="rs6000/t-ppcos t-linux rs6000/t-ppccomm"
		else
			tmake_file="rs6000/t-ppc t-linux rs6000/t-ppccomm"
		fi
		xmake_file=x-linux
		fixincludes=Makefile.in
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		extra_headers=ppc-asm.h
		if [ x$enable_threads = xyes ]; then
			thread_file='posix'
		fi
		;;
        powerpc-*-vxworks*)
                cpu_type=rs6000
                xm_file=rs6000/xm-sysv4.h
                tm_file=rs6000/vxppc.h
                tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
		extra_headers=ppc-asm.h
                ;;
	powerpcle-*-sysv* | powerpcle-*-elf*)
a2171 1
		xm_file=rs6000/xm-sysv4.h
d2174 1
a2174 1
			tmake_file="rs6000/t-ppcos rs6000/t-ppccomm"
d2176 1
a2176 1
			tmake_file="rs6000/t-ppc rs6000/t-ppccomm"
a2178 1
		extra_headers=ppc-asm.h
d2181 1
d2183 1
a2183 1
		tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
a2184 1
		extra_headers=ppc-asm.h
d2187 1
d2191 1
a2191 1
			tmake_file="rs6000/t-ppcgas rs6000/t-ppccomm"
d2193 1
a2193 12
			tmake_file="rs6000/t-ppc rs6000/t-ppccomm"
		fi
		fixincludes=Makefile.in
		extra_headers=ppc-asm.h
		;;
        powerpcle-*-winnt* )
                tm_file=rs6000/win-nt.h
                tmake_file=rs6000/t-winnt
#               extra_objs=pe.o
		fixincludes=Makefile.in
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
a2194 8
		extra_headers=ppc-asm.h
		;;
	powerpcle-*-pe | powerpcle-*-cygwin32)
		tm_file=rs6000/cygwin32.h
		xm_file=rs6000/xm-cygwin32.h
		tmake_file=rs6000/t-winnt
		xmake_file=rs6000/x-cygwin32
#		extra_objs=pe.o
a2195 18
 		if [ x$enable_threads = xyes ]; then
			thread_file='win32'
		fi
		exeext=.exe
		extra_headers=ppc-asm.h
		;;
	powerpcle-*-solaris2*)
		tm_file=rs6000/sol2.h
		xm_file=rs6000/xm-sysv4.h
		if [ x$gas = xyes ]
		then
			tmake_file="rs6000/t-ppcos rs6000/t-ppccomm"
		else
			tmake_file="rs6000/t-ppc rs6000/t-ppccomm"
		fi
		xmake_file=rs6000/x-sysv4
		fixincludes=fixinc.math
		extra_headers=ppc-asm.h
d2199 1
d2203 1
a2203 1
	rs6000-ibm-aix3.2.[456789]* | powerpc-ibm-aix3.2.[456789]*)
d2205 1
a2205 6
		if [ x$host != x$target ]
		then
			tmake_file=rs6000/t-xnewas
		else
			tmake_file=rs6000/t-newas
		fi
d2208 1
a2208 1
	rs6000-ibm-aix[456789].* | powerpc-ibm-aix[456789].*)
d2210 1
a2210 6
		if [ x$host != x$target ]
		then
			tmake_file=rs6000/t-xnewas
		else
			tmake_file=rs6000/t-newas
		fi
d2216 1
d2219 1
d2223 1
d2225 1
a2225 1
		xm_file=rs6000/xm-mach.h
d2230 2
a2232 1
		xm_file=rs6000/xm-lynx.h
a2233 1
		xmake_file=rs6000/x-lynx
a2235 9
	sh-*-elf*)
		tm_file=sh/elf.h
		float_format=sh
		;;
	sh-*-rtems*)
		tmake_file="sh/t-sh t-rtems"
		tm_file=sh/rtems.h
		float_format=sh
		;;
d2237 1
a2237 1
		float_format=sh
d2244 1
d2251 1
a2251 1
		tm_file="sparc/aout.h libgloss.h"
d2255 5
a2259 3
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
a2263 38
	sparc-*-elf*)
		tm_file=sparc/elf.h
		tmake_file=sparc/t-elf
		extra_parts="crti.o crtn.o crtbegin.o crtend.o"
		#float_format=i128
		float_format=i64
		;;
	sparc-*-linux-gnuaout*)		# Sparc's running GNU/Linux, a.out
		xm_file="sparc/xm-sparc.h sparc/xm-linux.h"
		tm_file=sparc/linux-aout.h
		xmake_file=x-linux
		fixincludes=Makefile.in # The headers are ok already.
		broken_install=yes
		gnu_ld=yes
		;;
	sparc-*-linux-gnulibc1*)	# Sparc's running GNU/Linux, libc5
		xm_file="sparc/xm-sparc.h sparc/xm-linux.h"
		xmake_file=x-linux
		tm_file=sparc/linux.h
		tmake_file="t-linux t-linux-gnulibc1 sparc/t-linux"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
		broken_install=yes
		gnu_ld=yes
		;;
	sparc-*-linux-gnu*)		# Sparc's running GNU/Linux, libc6
		xm_file="sparc/xm-sparc.h sparc/xm-linux.h"
		xmake_file=x-linux
		tm_file=sparc/linux.h
		tmake_file="t-linux sparc/t-linux"
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
		fixincludes=Makefile.in # The headers are ok already.
		broken_install=yes
		gnu_ld=yes
 		if [ x$enable_threads = xyes ]; then
 			thread_file='posix'
 		fi
		;;
d2275 2
a2276 5
	sparc-*-rtems*)
		tmake_file="sparc/t-sparcbare t-rtems"
		tm_file=sparc/rtems.h
		;;
	sparc-*-solaris2*)
a2277 1
		xm_file=sparc/xm-sol2.h
d2280 2
a2281 3
		extra_parts="crt1.o crti.o crtn.o gcrt1.o gmon.o crtbegin.o crtend.o"
		fixincludes=fixinc.math
		float_format=i128
a2282 3
 		if [ x$enable_threads = xyes ]; then
			thread_file='solaris'
		fi
a2292 3
		if [ x$gas = xyes ]; then
			tm_file="${tm_file} sparc/sun4gas.h"
		fi
d2299 1
a2300 1
		xm_file=sparc/xm-sysv4.h
a2304 10
	sparc-*-vxsim*)
		xm_file=sparc/xm-sol2.h
		tm_file=sparc/vxsim.h
		tmake_file=sparc/t-vxsparc
		xmake_file=sparc/x-sysv4
		;;
	sparclet-*-aout*)
		tm_file="sparc/splet.h libgloss.h"
		tmake_file=sparc/t-splet
		;;
d2306 2
a2307 1
		tm_file="sparc/litecoff.h libgloss.h"
d2310 3
a2312 2
	sparclite-*-aout*)
		tm_file="sparc/lite.h aoutos.h libgloss.h"
d2314 1
d2317 1
d2322 1
a2326 8
	sparc64-*-linux*)		# 64-bit Sparc's running GNU/Linux
		tmake_file=sparc/t-sp64
		xm_file="sparc/xm-sp64.h sparc/xm-linux.h"
		tm_file=sparc/linux64.h
		xmake_file=x-linux
		fixincludes=Makefile.in	# The headers are ok already.
		gnu_ld=yes
		;;
a2337 10
	v850-*-*)
		cpu_type=v850
		tm_file="v850/v850.h"
		xm_file="v850/xm-v850.h"
		if [ x$stabs = xyes ]
		then
			tm_file="${tm_file} dbx.h"
		fi
		use_collect2=no
		;;
a2339 1
		float_format=vax
d2342 2
a2343 3
		tm_file="${tm_file} vax/vaxv.h"
		xm_file="${xm_file} vax/xm-vaxv.h"
		float_format=vax
d2346 6
a2351 5
		tm_file="${tm_file} netbsd.h vax/netbsd.h"
		# On NetBSD, the headers are already okay, except for math.h.
		fixincludes=fixinc.math
		tmake_file=t-netbsd
		float_format=vax
d2354 1
a2354 1
		tm_file="${tm_file} vax/ultrix.h"
a2355 1
		float_format=vax
a2359 1
		float_format=vax
d2361 9
a2369 2
	vax-*-*)			# vax default entry
		float_format=vax
d2372 1
a2372 1
		xm_file="${xm_file} xm-svr3"
a2381 2
	*-*-linux-gnu*)
	        ;; # Existing Linux/GNU systems do not use the GNU setup.
d2388 1
a2388 1
		extra_parts="crtbegin.o crtend.o crtbeginS.o crtendS.o"
d2396 4
a2399 2
		xmake_file=x-linux	# These details are the same as Linux.
		tmake_file=t-gnu	# These are not.
d2413 2
a2414 1
	# Distinguish i[3456]86
a2415 2
	# Process --with-cpu= for PowerPC/rs6000
	target_cpu_default2=
d2417 2
a2418 2
	i486-*-*)
		target_cpu_default2=1
d2420 1
a2420 64
	i586-*-*)
		target_cpu_default2=2
		;;
	i686-*-*)
		target_cpu_default2=3
		;;
	alpha*-*-*)
		case $machine in
			alphaev6*)
				target_cpu_default2="MASK_CPU_EV6|MASK_BXW|MASK_CIX|MASK_MAX"
				;;
			alphapca56*)
				target_cpu_default2="MASK_CPU_EV5|MASK_BWX|TASK_MAX"
				;;
			alphaev56*)
				target_cpu_default2="MASK_CPU_EV5|MASK_BWX"
				;;
			alphaev5*)
				target_cpu_default2="MASK_CPU_EV5"
				;;
		esac
				
		if [ x$gas = xyes ]
		then
			if [ x$target_cpu_default2 = x ]
			then
				target_cpu_default2="MASK_GAS"
			else
				target_cpu_default2="${target_cpu_default2}|MASK_GAS"
			fi
		fi
		;;
	arm*-*-*)
		case "x$with_cpu" in
			x)
				# The most generic
				target_cpu_default2="TARGET_CPU_generic"
				;;

			# Distinguish cores, and major variants
			# arm7m doesn't exist, but D & I don't affect code
			xarm23678 | xarm250 | xarm67010 \
			| xarm7m | xarm7dm | xarm7dmi | xarm7tdmi \
			| xarm7100 | xarm7500 | xarm7500fe | xarm810 \
			| xstrongarm | xstrongarm110)
				target_cpu_default2="TARGET_CPU_$with_cpu"
				;;

			xyes | xno)
				echo "--with-cpu must be passed a value" 1>&2
				exit 1
				;;

			*)
				if [ x$pass2done = xyes ]
				then
					echo "Unknown cpu used with --with-cpu=$with_cpu" 1>&2
					exit 1
				fi
				;;
		esac
		;;

	mips*-*-ecoff* | mips*-*-elf*)
d2423 1
a2423 6
			if [ x$gnu_ld = xyes ]
			then
				target_cpu_default2=20
			else
				target_cpu_default2=16
			fi
d2426 1
a2426 1
	mips*-*-*)
d2429 1
a2429 1
			target_cpu_default2=16
a2431 43
	powerpc*-*-* | rs6000-*-*)
		case "x$with_cpu" in
			x)
				;;

			xcommon | xpower | xpower2 | xpowerpc | xrios \
			  | xrios1 | xrios2 | xrsc | xrsc1 \
			  | x601 | x602 | x603 | x603e | x604 | x604e | x620 \
			  | x403 | x505 | x801 | x821 | x823 | x860)
				target_cpu_default2="\"$with_cpu\""
				;;

			xyes | xno)
				echo "--with-cpu must be passed a value" 1>&2
				exit 1
				;;

			*)
				if [ x$pass2done = xyes ]
				then
					echo "Unknown cpu used with --with-cpu=$with_cpu" 1>&2
					exit 1
				fi
				;;
		esac
		;;
	sparc*-*-*)
		case ".$with_cpu" in
			.)
				target_cpu_default2=TARGET_CPU_"`echo $machine | sed 's/-.*$//'`"
				;;
			.supersparc | .ultrasparc | .v7 | .v8 | .v9)
				target_cpu_default2="TARGET_CPU_$with_cpu"
				;;
			*)
				if [ x$pass2done = xyes ]
				then
					echo "Unknown cpu used with --with-cpu=$with_cpu" 1>&2
					exit 1
				fi
				;;
		esac
		;;
a2433 10
	if [ x$target_cpu_default2 != x ]
	then
		if [ x$target_cpu_default != x ]
		then
			target_cpu_default="(${target_cpu_default}|${target_cpu_default2})"
		else
			target_cpu_default=$target_cpu_default2
		fi
	fi

d2435 1
a2435 1
	case x$gnu_ld in
d2441 5
d2450 1
a2450 1
		if [ x"$xm_file" = x ]
a2453 3
		build_broken_install=$broken_install
		build_install_headers_dir=$install_headers_dir
		build_exeext=$exeext
d2458 1
a2458 1
			if [ x"$xm_file" = x ]
d2462 1
a2462 1
			if [ x"$xmake_file" = x ]
d2465 3
a2467 1
			host_xmake_file="$xmake_file"
a2468 2
			host_extra_gcc_objs=$extra_gcc_objs
			host_extra_objs=$extra_host_objs
a2473 2
extra_objs="${host_extra_objs} ${extra_objs}"

d2475 1
a2475 1
if [ x"$tm_file" = x ]
d2481 1
a2481 1
if [ x"$xm_file" = x ]
d2489 1
a2489 1
if [ x"$tmake_file" = x ]
d2493 7
a2499 51
if [ x$float_format = x ]
then float_format=i64
fi

# Say what files are being used for the output code and MD file.
echo "Using \`$srcdir/config/$out_file' to output insns."
echo "Using \`$srcdir/config/$md_file' as machine description file."

count=a
for f in $tm_file; do
	count=${count}x
done
if [ $count = ax ]; then
	echo "Using \`$srcdir/config/$tm_file' as target machine macro file."
else
	echo "Using the following target machine macro files:"
	for f in $tm_file; do
		echo "	$srcdir/config/$f"
	done
fi

count=a
for f in $host_xm_file; do
	count=${count}x
done
if [ $count = ax ]; then
	echo "Using \`$srcdir/config/$host_xm_file' as host machine macro file."
else
	echo "Using the following host machine macro files:"
	for f in $host_xm_file; do
		echo "	$srcdir/config/$f"
	done
fi

if [ "$host_xm_file" != "$build_xm_file" ]; then
	count=a
	for f in $build_xm_file; do
		count=${count}x
	done
	if [ $count = ax ]; then
		echo "Using \`$srcdir/config/$build_xm_file' as build machine macro file."
	else
		echo "Using the following build machine macro files:"
		for f in $build_xm_file; do
			echo "	$srcdir/config/$f"
		done
	fi
fi

if [ x$thread_file = x ]
then thread_file='single'
d2502 3
a2504 7
# Set up the header files.
# $links is the list of header files to create.
# $vars is the list of shell variables with file names to include.
# auto-conf.h is the file containing items generated by autoconf and is
# the first file included by config.h.
host_xm_file="auto-config.h ${host_xm_file}"
vars="host_xm_file tm_file xm_file build_xm_file"
d2511 1
a2511 1
while [ -n "$vars" ]
d2514 1
a2514 1
	set $vars; var=$1; shift; vars=$*
d2518 1
a2518 11

	# Define TARGET_CPU_DEFAULT if the system wants one.
	# This substitutes for lots of *.h files.
	if [ x$target_cpu_default != x -a $link = tm.h ]
	then
		echo "#define TARGET_CPU_DEFAULT $target_cpu_default" >>$link
	fi

	for file in `eval echo '$'$var`; do
		echo "#include \"$file\"" >>$link
	done
d2529 2
a2530 117
# Are we using gcc as the native compiler?
case $host in
*linux* | *cygwin32* | *mingw32*)
	if [ x$prefix = xNONE ]; then
		prefix=$native_prefix
	fi
	;;
esac

# Get an absolute path to the GCC top-level source directory
holddir=`pwd`
cd $srcdir
topdir=`pwd`
cd $holddir

# Conditionalize the makefile for this host machine.
# Make-host contains the concatenation of all host makefile fragments
# [there can be more than one].  This file is built by configure.frag.
host_overrides=Make-host
dep_host_xmake_file=
for f in .. ${host_xmake_file}
do
	if [ -f ${srcdir}/config/$f ]
	then
		dep_host_xmake_file="${dep_host_xmake_file} ${srcdir}/config/$f"
	fi
done

# Conditionalize the makefile for this target machine.
# Make-target contains the concatenation of all host makefile fragments
# [there can be more than one].  This file is built by configure.frag.
target_overrides=Make-target
dep_tmake_file=
for f in .. ${tmake_file}
do
	if [ -f ${srcdir}/config/$f ]
	then
		dep_tmake_file="${dep_tmake_file} ${srcdir}/config/$f"
	fi
done

# If the host doesn't support symlinks, modify CC in
# FLAGS_TO_PASS so CC="stage1/xgcc -Bstage1/" works.
# Otherwise, we can use "CC=$(CC)".
rm -f symtest.tem
if $symbolic_link symtest1.tem symtest.tem 2>/dev/null
then
	cc_set_by_configure="\$(CC)"
	stage_prefix_set_by_configure="\$(STAGE_PREFIX)"
else
	symbolic_link="cp -p"
	cc_set_by_configure="\`case '\$(CC)' in stage*) echo '\$(CC)' | sed -e 's|stage|../stage|g';; *) echo '\$(CC)';; esac\`"
	stage_prefix_set_by_configure="\`case '\$(STAGE_PREFIX)' in stage*) echo '\$(STAGE_PREFIX)' | sed -e 's|stage|../stage|g';; *) echo '\$(STAGE_PREFIX)';; esac\`"
fi
rm -f symtest.tem

out_object_file=`basename $out_file .c`.o

tm_file_list=
for f in $tm_file; do
	tm_file_list="${tm_file_list} \$(srcdir)/config/$f"
done

host_xm_file_list=
for f in $host_xm_file; do
	host_xm_file_list="${host_xm_file_list} \$(srcdir)/config/$f"
done

build_xm_file_list=
for f in $build_xm_file; do
	build_xm_file_list="${build_xm_file_list} \$(srcdir)/config/$f"
done

# Define macro CROSS_COMPILE in compilation
# if this is a cross-compiler.
# Also use all.cross instead of all.internal
# and add cross-make to Makefile.
cross_overrides="/dev/null"
if [ x$host != x$target ]
then
	cross_defines="CROSS=-DCROSS_COMPILE"
	cross_overrides="${topdir}/cross-make"
fi

# When building gcc with a cross-compiler, we need to fix a few things.
# This must come after cross-make as we want all.build to override
# all.cross.
build_overrides="/dev/null"
if [ x$build != x$host ]
then
	build_overrides="${topdir}/build-make"
fi

# Expand extra_headers to include complete path.
# This substitutes for lots of t-* files.
extra_headers_list=
if [ "x$extra_headers" = x ]
then true
else
	# Prepend ${srcdir}/ginclude/ to every entry in extra_headers.
	for file in $extra_headers;
	do
		extra_headers_list="${extra_headers_list} \$(srcdir)/ginclude/${file}"
	done
fi

# Add a definition of USE_COLLECT2 if system wants one.
# Also tell toplev.c what to do.
# This substitutes for lots of t-* files.
if [ x$use_collect2 = x ]
then
	will_use_collect2=
	maybe_use_collect2=
else
	will_use_collect2="ld"
	maybe_use_collect2="-DUSE_COLLECT2"
fi
a2531 29
# NEED TO CONVERT
# Set MD_DEPS if the real md file is in md.pre-cpp.
# Set MD_CPP to the cpp to pass the md file through.  Md files use ';'
# for line oriented comments, so we must always use a GNU cpp.  If
# building gcc with a cross compiler, use the cross compiler just
# built.  Otherwise, we can use the cpp just built.
md_file_sub=
if [ "x$md_cppflags" = x ]
then
	md_file_sub=$srcdir/config/$md_file
else
	md_file=md
fi

# If we have gas in the build tree, make a link to it.
if [ -f ../gas/Makefile ]; then
	rm -f as; $symbolic_link ../gas/as.new as 2>/dev/null
fi

# If we have ld in the build tree, make a link to it.
if [ -f ../ld/Makefile ]; then
	if [ x$use_collect2 = x ]; then
		rm -f ld; $symbolic_link ../ld/ld.new ld 2>/dev/null
	else
		rm -f collect-ld; $symbolic_link ../ld/ld.new collect-ld 2>/dev/null
	fi
fi

# Figure out what language subdirectories are present.
d2544 7
d2570 12
a2581 23
# These (without "all_") are set in each config-lang.in.
# `language' must be a single word so is spelled singularly.
all_languages=
all_boot_languages=
all_compilers=
all_stagestuff=
all_diff_excludes=
all_outputs=Makefile
# List of language makefile fragments.
all_lang_makefiles=
all_headers=
all_lib2funcs=

# Add the language fragments.
# Languages are added via two mechanisms.  Some information must be
# recorded in makefile variables, these are defined in config-lang.in.
# We accumulate them and plug them into the main Makefile.
# The other mechanism is a set of hooks for each of the main targets
# like `clean', `install', etc.

language_fragments="Make-lang"
language_hooks="Make-hooks"
oldstyle_subdirs=
d2583 2
a2584 1
for s in .. $subdirs
d2586 1
a2586 34
	if [ $s != ".." ]
	then
		language=
		boot_language=
		compilers=
		stagestuff=
		diff_excludes=
		headers=
		outputs=
		lib2funcs=
		. ${srcdir}/$s/config-lang.in
		if [ "x$language" = x ]
		then
			echo "${srcdir}/$s/config-lang.in doesn't set \$language." 1>&2
			exit 1
		fi
		all_lang_makefiles="$all_lang_makefiles ${srcdir}/$s/Make-lang.in ${srcdir}/$s/Makefile.in"
		all_languages="$all_languages $language"
		if [ "x$boot_language" = xyes ]
		then
			all_boot_languages="$all_boot_languages $language"
		fi
		all_compilers="$all_compilers $compilers"
		all_stagestuff="$all_stagestuff $stagestuff"
		all_diff_excludes="$all_diff_excludes $diff_excludes"
		all_headers="$all_headers $headers"
		all_outputs="$all_outputs $outputs"
		if [ x$outputs = x ]
		then
			oldstyle_subdirs="$oldstyle_subdirs $s"
		fi
		all_lib2funcs="$all_lib2funcs $lib2funcs"
	fi
done
d2588 20
a2607 2
# Since we can't use `::' targets, we link each language in
# with a set of hooks, reached indirectly via lang.${target}.
d2609 28
a2636 15
rm -f Make-hooks
touch Make-hooks
target_list="all.build all.cross start.encap rest.encap \
	info dvi \
	install-normal install-common install-info install-man \
	uninstall distdir \
	mostlyclean clean distclean extraclean maintainer-clean \
	stage1 stage2 stage3 stage4"
for t in $target_list
do
	x=
	for l in .. $all_languages
	do
		if [ $l != ".." ]; then
			x="$x $l.$t"
d2638 19
a2656 3
	done
	echo "lang.$t: $x" >> Make-hooks
done
d2658 8
a2665 1
# If we're not building in srcdir, create .gdbinit.
d2667 10
a2676 6
if [ ! -f Makefile.in ]; then
	echo "dir ." > .gdbinit
	echo "dir ${srcdir}" >> .gdbinit
	if [ x$gdb_needs_out_file_path = xyes ]
	then
		echo "dir ${srcdir}/config/"`dirname ${out_file}` >> .gdbinit
d2678 13
a2690 2
	if [ "x$subdirs" != x ]; then
		for s in $subdirs
d2692 1
a2692 1
			echo "dir ${srcdir}/$s" >> .gdbinit
d2694 26
a2720 34
	echo "source ${srcdir}/.gdbinit" >> .gdbinit
fi

# Process the language and host/target makefile fragments.
${CONFIG_SHELL-/bin/sh} $srcdir/configure.frag $srcdir "$subdirs" "$dep_host_xmake_file" "$dep_tmake_file"

# Substitute configuration variables



























d2722 9
d2732 10
d2743 10
d2754 126
d2881 76
d2958 60
d3019 1
d3021 8
d3030 4
d3035 15
d3051 3
d3055 1
a3055 12










# Echo that links are built
if [ x$host = x$target ]
d3060 1
a3060 1
	str2=" from $host"
d3063 1
a3063 1
if [ x$host != x$build ]
d3065 1
a3065 1
	str3=" on a $build system"
d3073 1
a3073 1
echo "Links are now set up to build a ${str1}compiler for ${target}$str4" 1>&2
a3079 485
# Configure the subdirectories
# AC_CONFIG_SUBDIRS($subdirs)

# Create the Makefile
# and configure language subdirectories
trap '' 1 2 15
cat > confcache <<\EOF
# This file is a shell script that caches the results of configure
# tests run on this system so they can be shared between configure
# scripts and configure runs.  It is not useful on other systems.
# If it contains results you don't want to keep, you may remove or edit it.
#
# By default, configure uses ./config.cache as the cache file,
# creating it if it does not exist already.  You can give configure
# the --cache-file=FILE option to use a different cache file; that is
# what configure does when it calls configure scripts in
# subdirectories, so they share the cache.
# Giving --cache-file=/dev/null disables caching, for debugging configure.
# config.status only pays attention to the cache file if you give it the
# --recheck option to rerun configure.
#
EOF
# The following way of writing the cache mishandles newlines in values,
# but we know of no workaround that is simple, portable, and efficient.
# So, don't put newlines in cache variables' values.
# Ultrix sh set writes to stderr and can't be redirected directly,
# and sets the high bit in the cache file unless we assign to the vars.
(set) 2>&1 |
  case `(ac_space=' '; set | grep ac_space) 2>&1` in
  *ac_space=\ *)
    # `set' does not quote correctly, so add quotes (double-quote substitution
    # turns \\\\ into \\, and sed turns \\ into \).
    sed -n \
      -e "s/'/'\\\\''/g" \
      -e "s/^\\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\\)=\\(.*\\)/\\1=\${\\1='\\2'}/p"
    ;;
  *)
    # `set' quotes correctly as required by POSIX, so do not add quotes.
    sed -n -e 's/^\([a-zA-Z0-9_]*_cv_[a-zA-Z0-9_]*\)=\(.*\)/\1=${\1=\2}/p'
    ;;
  esac >> confcache
if cmp -s $cache_file confcache; then
  :
else
  if test -w $cache_file; then
    echo "updating cache $cache_file"
    cat confcache > $cache_file
  else
    echo "not updating unwritable cache $cache_file"
  fi
fi
rm -f confcache

trap 'rm -fr conftest* confdefs* core core.* *.core $ac_clean_files; exit 1' 1 2 15

test "x$prefix" = xNONE && prefix=$ac_default_prefix
# Let make expand exec_prefix.
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

# Any assignment to VPATH causes Sun make to only execute
# the first set of double-colon rules, so remove it if not needed.
# If there is a colon in the path, we need to keep it.
if test "x$srcdir" = x.; then
  ac_vpsub='/^[ 	]*VPATH[ 	]*=[^:]*$/d'
fi

trap 'rm -f $CONFIG_STATUS conftest*; exit 1' 1 2 15

DEFS=-DHAVE_CONFIG_H

# Without the "./", some shells look in PATH for config.status.
: ${CONFIG_STATUS=./config.status}

echo creating $CONFIG_STATUS
rm -f $CONFIG_STATUS
cat > $CONFIG_STATUS <<EOF
#! /bin/sh
# Generated automatically by configure.
# Run this file to recreate the current configuration.
# This directory was configured as follows,
# on host `(hostname || uname -n) 2>/dev/null | sed 1q`:
#
# $0 $ac_configure_args
#
# Compiler output produced by configure, useful for debugging
# configure, is in ./config.log if it exists.

ac_cs_usage="Usage: $CONFIG_STATUS [--recheck] [--version] [--help]"
for ac_option
do
  case "\$ac_option" in
  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)
    echo "running \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion"
    exec \${CONFIG_SHELL-/bin/sh} $0 $ac_configure_args --no-create --no-recursion ;;
  -version | --version | --versio | --versi | --vers | --ver | --ve | --v)
    echo "$CONFIG_STATUS generated by autoconf version 2.12"
    exit 0 ;;
  -help | --help | --hel | --he | --h)
    echo "\$ac_cs_usage"; exit 0 ;;
  *) echo "\$ac_cs_usage"; exit 1 ;;
  esac
done

ac_given_srcdir=$srcdir
ac_given_INSTALL="$INSTALL"

trap 'rm -fr `echo "$all_outputs auto-config.h:config.in" | sed "s/:[^ ]*//g"` conftest*; exit 1' 1 2 15
EOF
cat >> $CONFIG_STATUS <<EOF

# Protect against being on the right side of a sed subst in config.status.
sed 's/%@@/@@@@/; s/@@%/@@@@/; s/%g\$/@@g/; /@@g\$/s/[\\\\&%]/\\\\&/g;
 s/@@@@/%@@/; s/@@@@/@@%/; s/@@g\$/%g/' > conftest.subs <<\\CEOF
$ac_vpsub
$extrasub
s%@@CFLAGS@@%$CFLAGS%g
s%@@CPPFLAGS@@%$CPPFLAGS%g
s%@@CXXFLAGS@@%$CXXFLAGS%g
s%@@DEFS@@%$DEFS%g
s%@@LDFLAGS@@%$LDFLAGS%g
s%@@LIBS@@%$LIBS%g
s%@@exec_prefix@@%$exec_prefix%g
s%@@prefix@@%$prefix%g
s%@@program_transform_name@@%$program_transform_name%g
s%@@bindir@@%$bindir%g
s%@@sbindir@@%$sbindir%g
s%@@libexecdir@@%$libexecdir%g
s%@@datadir@@%$datadir%g
s%@@sysconfdir@@%$sysconfdir%g
s%@@sharedstatedir@@%$sharedstatedir%g
s%@@localstatedir@@%$localstatedir%g
s%@@libdir@@%$libdir%g
s%@@includedir@@%$includedir%g
s%@@oldincludedir@@%$oldincludedir%g
s%@@infodir@@%$infodir%g
s%@@mandir@@%$mandir%g
s%@@host@@%$host%g
s%@@host_alias@@%$host_alias%g
s%@@host_cpu@@%$host_cpu%g
s%@@host_vendor@@%$host_vendor%g
s%@@host_os@@%$host_os%g
s%@@target@@%$target%g
s%@@target_alias@@%$target_alias%g
s%@@target_cpu@@%$target_cpu%g
s%@@target_vendor@@%$target_vendor%g
s%@@target_os@@%$target_os%g
s%@@build@@%$build%g
s%@@build_alias@@%$build_alias%g
s%@@build_cpu@@%$build_cpu%g
s%@@build_vendor@@%$build_vendor%g
s%@@build_os@@%$build_os%g
s%@@CC@@%$CC%g
s%@@SET_MAKE@@%$SET_MAKE%g
s%@@AWK@@%$AWK%g
s%@@LEX@@%$LEX%g
s%@@LEXLIB@@%$LEXLIB%g
s%@@RANLIB@@%$RANLIB%g
s%@@YACC@@%$YACC%g
s%@@INSTALL_PROGRAM@@%$INSTALL_PROGRAM%g
s%@@INSTALL_DATA@@%$INSTALL_DATA%g
s%@@CPP@@%$CPP%g
s%@@manext@@%$manext%g
s%@@objext@@%$objext%g
s%@@subdirs@@%$subdirs%g
s%@@all_languages@@%$all_languages%g
s%@@all_boot_languages@@%$all_boot_languages%g
s%@@all_compilers@@%$all_compilers%g
s%@@all_lang_makefiles@@%$all_lang_makefiles%g
s%@@all_stagestuff@@%$all_stagestuff%g
s%@@all_diff_excludes@@%$all_diff_excludes%g
s%@@all_lib2funcs@@%$all_lib2funcs%g
s%@@all_headers@@%$all_headers%g
s%@@extra_passes@@%$extra_passes%g
s%@@extra_programs@@%$extra_programs%g
s%@@extra_parts@@%$extra_parts%g
s%@@extra_c_objs@@%$extra_c_objs%g
s%@@extra_c_flags@@%$extra_c_flags%g
s%@@extra_objs@@%$extra_objs%g
s%@@host_extra_gcc_objs@@%$host_extra_gcc_objs%g
s%@@extra_headers_list@@%$extra_headers_list%g
s%@@dep_host_xmake_file@@%$dep_host_xmake_file%g
s%@@dep_tmake_file@@%$dep_tmake_file%g
s%@@out_file@@%$out_file%g
s%@@out_object_file@@%$out_object_file%g
s%@@md_file@@%$md_file%g
s%@@tm_file_list@@%$tm_file_list%g
s%@@build_xm_file_list@@%$build_xm_file_list%g
s%@@host_xm_file_list@@%$host_xm_file_list%g
s%@@lang_specs_files@@%$lang_specs_files%g
s%@@lang_options_files@@%$lang_options_files%g
s%@@thread_file@@%$thread_file%g
s%@@version@@%$version%g
s%@@local_prefix@@%$local_prefix%g
s%@@gxx_include_dir@@%$gxx_include_dir%g
s%@@fixincludes@@%$fixincludes%g
s%@@build_install_headers_dir@@%$build_install_headers_dir%g
s%@@build_exeext@@%$build_exeext%g
s%@@float_format@@%$float_format%g
s%@@will_use_collect2@@%$will_use_collect2%g
s%@@maybe_use_collect2@@%$maybe_use_collect2%g
s%@@cc_set_by_configure@@%$cc_set_by_configure%g
s%@@stage_prefix_set_by_configure@@%$stage_prefix_set_by_configure%g
s%@@symbolic_link@@%$symbolic_link%g
/@@target_overrides@@/r $target_overrides
s%@@target_overrides@@%%g
/@@host_overrides@@/r $host_overrides
s%@@host_overrides@@%%g
s%@@cross_defines@@%$cross_defines%g
/@@cross_overrides@@/r $cross_overrides
s%@@cross_overrides@@%%g
/@@build_overrides@@/r $build_overrides
s%@@build_overrides@@%%g
/@@language_fragments@@/r $language_fragments
s%@@language_fragments@@%%g
/@@language_hooks@@/r $language_hooks
s%@@language_hooks@@%%g

CEOF
EOF

cat >> $CONFIG_STATUS <<\EOF

# Split the substitutions into bite-sized pieces for seds with
# small command number limits, like on Digital OSF/1 and HP-UX.
ac_max_sed_cmds=90 # Maximum number of lines to put in a sed script.
ac_file=1 # Number of current file.
ac_beg=1 # First line for current file.
ac_end=$ac_max_sed_cmds # Line after last line for current file.
ac_more_lines=:
ac_sed_cmds=""
while $ac_more_lines; do
  if test $ac_beg -gt 1; then
    sed "1,${ac_beg}d; ${ac_end}q" conftest.subs > conftest.s$ac_file
  else
    sed "${ac_end}q" conftest.subs > conftest.s$ac_file
  fi
  if test ! -s conftest.s$ac_file; then
    ac_more_lines=false
    rm -f conftest.s$ac_file
  else
    if test -z "$ac_sed_cmds"; then
      ac_sed_cmds="sed -f conftest.s$ac_file"
    else
      ac_sed_cmds="$ac_sed_cmds | sed -f conftest.s$ac_file"
    fi
    ac_file=`expr $ac_file + 1`
    ac_beg=$ac_end
    ac_end=`expr $ac_end + $ac_max_sed_cmds`
  fi
done
if test -z "$ac_sed_cmds"; then
  ac_sed_cmds=cat
fi
EOF

cat >> $CONFIG_STATUS <<EOF

CONFIG_FILES=\${CONFIG_FILES-"$all_outputs"}
EOF
cat >> $CONFIG_STATUS <<\EOF
for ac_file in .. $CONFIG_FILES; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  # Adjust a relative srcdir, top_srcdir, and INSTALL for subdirectories.

  # Remove last slash and all that follows it.  Not all systems have dirname.
  ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
  if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
    # The file is in a subdirectory.
    test ! -d "$ac_dir" && mkdir "$ac_dir"
    ac_dir_suffix="/`echo $ac_dir|sed 's%^\./%%'`"
    # A "../" for each directory in $ac_dir_suffix.
    ac_dots=`echo $ac_dir_suffix|sed 's%/[^/]*%../%g'`
  else
    ac_dir_suffix= ac_dots=
  fi

  case "$ac_given_srcdir" in
  .)  srcdir=.
      if test -z "$ac_dots"; then top_srcdir=.
      else top_srcdir=`echo $ac_dots|sed 's%/$%%'`; fi ;;
  /*) srcdir="$ac_given_srcdir$ac_dir_suffix"; top_srcdir="$ac_given_srcdir" ;;
  *) # Relative path.
    srcdir="$ac_dots$ac_given_srcdir$ac_dir_suffix"
    top_srcdir="$ac_dots$ac_given_srcdir" ;;
  esac

  case "$ac_given_INSTALL" in
  [/$]*) INSTALL="$ac_given_INSTALL" ;;
  *) INSTALL="$ac_dots$ac_given_INSTALL" ;;
  esac

  echo creating "$ac_file"
  rm -f "$ac_file"
  configure_input="Generated automatically from `echo $ac_file_in|sed 's%.*/%%'` by configure."
  case "$ac_file" in
  *Makefile*) ac_comsub="1i\\
# $configure_input" ;;
  *) ac_comsub= ;;
  esac

  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  sed -e "$ac_comsub
s%@@configure_input@@%$configure_input%g
s%@@srcdir@@%$srcdir%g
s%@@top_srcdir@@%$top_srcdir%g
s%@@INSTALL@@%$INSTALL%g
" $ac_file_inputs | (eval "$ac_sed_cmds") > $ac_file
fi; done
rm -f conftest.s*

# These sed commands are passed to sed as "A NAME B NAME C VALUE D", where
# NAME is the cpp macro being defined and VALUE is the value it is being given.
#
# ac_d sets the value in "#define NAME VALUE" lines.
ac_dA='s%^\([ 	]*\)#\([ 	]*define[ 	][ 	]*\)'
ac_dB='\([ 	][ 	]*\)[^ 	]*%\1#\2'
ac_dC='\3'
ac_dD='%g'
# ac_u turns "#undef NAME" with trailing blanks into "#define NAME VALUE".
ac_uA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_uB='\([ 	]\)%\1#\2define\3'
ac_uC=' '
ac_uD='\4%g'
# ac_e turns "#undef NAME" without trailing blanks into "#define NAME VALUE".
ac_eA='s%^\([ 	]*\)#\([ 	]*\)undef\([ 	][ 	]*\)'
ac_eB='$%\1#\2define\3'
ac_eC=' '
ac_eD='%g'

if test "${CONFIG_HEADERS+set}" != set; then
EOF
cat >> $CONFIG_STATUS <<EOF
  CONFIG_HEADERS="auto-config.h:config.in"
EOF
cat >> $CONFIG_STATUS <<\EOF
fi
for ac_file in .. $CONFIG_HEADERS; do if test "x$ac_file" != x..; then
  # Support "outfile[:infile[:infile...]]", defaulting infile="outfile.in".
  case "$ac_file" in
  *:*) ac_file_in=`echo "$ac_file"|sed 's%[^:]*:%%'`
       ac_file=`echo "$ac_file"|sed 's%:.*%%'` ;;
  *) ac_file_in="${ac_file}.in" ;;
  esac

  echo creating $ac_file

  rm -f conftest.frag conftest.in conftest.out
  ac_file_inputs=`echo $ac_file_in|sed -e "s%^%$ac_given_srcdir/%" -e "s%:% $ac_given_srcdir/%g"`
  cat $ac_file_inputs > conftest.in

EOF

# Transform confdefs.h into a sed script conftest.vals that substitutes
# the proper values into config.h.in to produce config.h.  And first:
# Protect against being on the right side of a sed subst in config.status.
# Protect against being in an unquoted here document in config.status.
rm -f conftest.vals
cat > conftest.hdr <<\EOF
s/[\\&%]/\\&/g
s%[\\$`]%\\&%g
s%#define \([A-Za-z_][A-Za-z0-9_]*\) *\(.*\)%${ac_dA}\1${ac_dB}\1${ac_dC}\2${ac_dD}%gp
s%ac_d%ac_u%gp
s%ac_u%ac_e%gp
EOF
sed -n -f conftest.hdr confdefs.h > conftest.vals
rm -f conftest.hdr

# This sed command replaces #undef with comments.  This is necessary, for
# example, in the case of _POSIX_SOURCE, which is predefined and required
# on some systems where configure will not decide to define it.
cat >> conftest.vals <<\EOF
s%^[ 	]*#[ 	]*undef[ 	][ 	]*[a-zA-Z_][a-zA-Z_0-9]*%/* & */%
EOF

# Break up conftest.vals because some shells have a limit on
# the size of here documents, and old seds have small limits too.

rm -f conftest.tail
while :
do
  ac_lines=`grep -c . conftest.vals`
  # grep -c gives empty output for an empty file on some AIX systems.
  if test -z "$ac_lines" || test "$ac_lines" -eq 0; then break; fi
  # Write a limited-size here document to conftest.frag.
  echo '  cat > conftest.frag <<CEOF' >> $CONFIG_STATUS
  sed ${ac_max_here_lines}q conftest.vals >> $CONFIG_STATUS
  echo 'CEOF
  sed -f conftest.frag conftest.in > conftest.out
  rm -f conftest.in
  mv conftest.out conftest.in
' >> $CONFIG_STATUS
  sed 1,${ac_max_here_lines}d conftest.vals > conftest.tail
  rm -f conftest.vals
  mv conftest.tail conftest.vals
done
rm -f conftest.vals

cat >> $CONFIG_STATUS <<\EOF
  rm -f conftest.frag conftest.h
  echo "/* $ac_file.  Generated automatically by configure.  */" > conftest.h
  cat conftest.in >> conftest.h
  rm -f conftest.in
  if cmp -s $ac_file conftest.h 2>/dev/null; then
    echo "$ac_file is unchanged"
    rm -f conftest.h
  else
    # Remove last slash and all that follows it.  Not all systems have dirname.
      ac_dir=`echo $ac_file|sed 's%/[^/][^/]*$%%'`
      if test "$ac_dir" != "$ac_file" && test "$ac_dir" != .; then
      # The file is in a subdirectory.
      test ! -d "$ac_dir" && mkdir "$ac_dir"
    fi
    rm -f $ac_file
    mv conftest.h $ac_file
  fi
fi; done

EOF
cat >> $CONFIG_STATUS <<EOF

host='${host}'
build='${build}'
target='${target}'
target_alias='${target_alias}'
srcdir='${srcdir}'
subdirs='${subdirs}'
oldstyle_subdirs='${oldstyle_subdirs}'
symbolic_link='${symbolic_link}'
program_transform_set='${program_transform_set}'
program_transform_name='${program_transform_name}'
dep_host_xmake_file='${dep_host_xmake_file}'
host_xmake_file='${host_xmake_file}'
dep_tmake_file='${dep_tmake_file}'
tmake_file='${tmake_file}'
thread_file='${thread_file}'
version='${version}'
local_prefix='${local_prefix}'
build_install_headers_dir='${build_install_headers_dir}'
build_exeext='${build_exeext}'
out_file='${out_file}'
gdb_needs_out_file_path='${gdb_needs_out_file_path}'
SET_MAKE='${SET_MAKE}'
build_broken_install='${build_broken_install}'
target_list='${target_list}'
target_overrides='${target_overrides}'
host_overrides='${host_overrides}'
cross_defines='${cross_defines}'
cross_overrides='${cross_overrides}'
build_overrides='${build_overrides}'

EOF
cat >> $CONFIG_STATUS <<\EOF

. $srcdir/configure.lang
case x$CONFIG_HEADERS in
xauto-config.h:config.in)
echo > cstamp-h ;;
esac
# If the host supports symlinks, point stage[1234] at ../stage[1234] so
# bootstrapping and the installation procedure can still use
# CC="stage1/xgcc -Bstage1/".  If the host doesn't support symlinks,
# FLAGS_TO_PASS has been modified to solve the problem there.
# This is virtually a duplicate of what happens in configure.lang; we do
# an extra check to make sure this only happens if ln -s can be used.
if [ "$symbolic_link" = "ln -s" ]; then
 for d in .. ${subdirs} ; do
   if [ $d != .. ]; then
	STARTDIR=`pwd`
	cd $d
	for t in stage1 stage2 stage3 stage4 include
	do
		rm -f $t
		$symbolic_link ../$t $t 2>/dev/null
	done
	cd $STARTDIR
   fi
 done
else true ; fi

a3080 5
EOF
chmod +x $CONFIG_STATUS
rm -fr confdefs* $ac_clean_files
test "$no_create" = yes || ${CONFIG_SHELL-/bin/sh} $CONFIG_STATUS || exit 1

@


1.1.1.3
log
@FSF gcc 2.8.1
@
text
@a2144 55
for ac_func in sysconf
do
echo $ac_n "checking for $ac_func""... $ac_c" 1>&6
echo "configure:2149: checking for $ac_func" >&5
if eval "test \"`echo '$''{'ac_cv_func_$ac_func'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2154 "configure"
#include "confdefs.h"
/* System header to define __stub macros and hopefully few prototypes,
    which can conflict with char $ac_func(); below.  */
#include <assert.h>
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char $ac_func();

int main() {

/* The GNU C library defines this for functions which it implements
    to always fail with ENOSYS.  Some functions are actually named
    something starting with __ and the normal name is an alias.  */
#if defined (__stub_$ac_func) || defined (__stub___$ac_func)
choke me
#else
$ac_func();
#endif

; return 0; }
EOF
if { (eval echo configure:2177: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest; then
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=yes"
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  eval "ac_cv_func_$ac_func=no"
fi
rm -f conftest*
fi

if eval "test \"`echo '$ac_cv_func_'$ac_func`\" = yes"; then
  echo "$ac_t""yes" 1>&6
    ac_tr_func=HAVE_`echo $ac_func | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $ac_tr_func 1
EOF
 
else
  echo "$ac_t""no" 1>&6
fi
done

d2147 1
a2147 1
echo "configure:2203: checking whether malloc must be declared" >&5
d2152 1
a2152 1
#line 2208 "configure"
d2179 1
a2179 1
if { (eval echo configure:2235: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2201 1
a2201 1
echo "configure:2257: checking whether realloc must be declared" >&5
d2206 1
a2206 1
#line 2262 "configure"
d2233 1
a2233 1
if { (eval echo configure:2289: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2255 1
a2255 1
echo "configure:2311: checking whether calloc must be declared" >&5
d2260 1
a2260 1
#line 2316 "configure"
d2287 1
a2287 1
if { (eval echo configure:2343: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2309 1
a2309 1
echo "configure:2365: checking whether free must be declared" >&5
d2314 1
a2314 1
#line 2370 "configure"
d2341 1
a2341 1
if { (eval echo configure:2397: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2363 1
a2363 1
echo "configure:2419: checking whether index must be declared" >&5
d2368 1
a2368 1
#line 2424 "configure"
d2395 1
a2395 1
if { (eval echo configure:2451: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2417 1
a2417 1
echo "configure:2473: checking whether rindex must be declared" >&5
d2422 1
a2422 1
#line 2478 "configure"
d2449 1
a2449 1
if { (eval echo configure:2505: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2471 1
a2471 1
echo "configure:2527: checking whether getenv must be declared" >&5
d2476 1
a2476 1
#line 2532 "configure"
d2503 1
a2503 1
if { (eval echo configure:2559: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
a2523 54
echo $ac_n "checking whether sbrk must be declared""... $ac_c" 1>&6
echo "configure:2581: checking whether sbrk must be declared" >&5
if eval "test \"`echo '$''{'gcc_cv_decl_needed_sbrk'+set}'`\" = set"; then
  echo $ac_n "(cached) $ac_c" 1>&6
else
  cat > conftest.$ac_ext <<EOF
#line 2586 "configure"
#include "confdefs.h"

#include <stdio.h>
#ifdef HAVE_STRING_H
#include <string.h>
#else
#ifdef HAVE_STRINGS_H
#include <strings.h>
#endif
#endif
#ifdef HAVE_STDLIB_H
#include <stdlib.h>
#endif
#ifdef HAVE_UNISTD_H
#include <unistd.h>
#endif
#ifndef HAVE_RINDEX
#define rindex strrchr
#endif
#ifndef HAVE_INDEX
#define index strchr
#endif
int main() {
char *(*pfn) = (char *(*)) sbrk
; return 0; }
EOF
if { (eval echo configure:2613: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
  rm -rf conftest*
  gcc_cv_decl_needed_sbrk=no
else
  echo "configure: failed program was:" >&5
  cat conftest.$ac_ext >&5
  rm -rf conftest*
  gcc_cv_decl_needed_sbrk=yes
fi
rm -f conftest*
fi

echo "$ac_t""$gcc_cv_decl_needed_sbrk" 1>&6
if test $gcc_cv_decl_needed_sbrk = yes; then
  gcc_tr_decl=NEED_DECLARATION_`echo sbrk | tr 'abcdefghijklmnopqrstuvwxyz' 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'`
  cat >> confdefs.h <<EOF
#define $gcc_tr_decl 1
EOF

fi

d2526 1
a2526 1
echo "configure:2636: checking for sys_siglist declaration in signal.h or unistd.h" >&5
d2531 1
a2531 1
#line 2641 "configure"
d2543 1
a2543 1
if { (eval echo configure:2653: \"$ac_compile\") 1>&5; (eval $ac_compile) 2>&5; }; then
d2629 1
a2629 1
	i[34567]86-*-*)
a2716 1
		extra_parts="crtbegin.o crtbeginS.o crtend.o crtendS.o"
d3053 1
a3053 1
	i[34567]86-ibm-aix*)		# IBM PS/2 running AIX
d3079 1
a3079 1
	i[34567]86-next-*)
d3089 1
a3089 1
	i[34567]86-sequent-bsd*) 		# 80386 from Sequent
d3098 1
a3098 1
	i[34567]86-sequent-ptx1*)
d3108 1
a3108 1
	i[34567]86-sequent-ptx2* | i[34567]86-sequent-sysv3*)
d3118 1
a3118 1
	i[34567]86-sequent-ptx4* | i[34567]86-sequent-sysv4*)
d3133 1
a3133 1
	i[34567]86-*-aout*)
d3137 1
a3137 1
	i[34567]86-*-bsdi* | i[34567]86-*-bsd386*)
d3142 1
a3142 1
	i[34567]86-*-bsd*)
d3149 1
a3149 1
	i[34567]86-*-freebsdelf*)
d3158 1
a3158 1
	i[34567]86-*-freebsd*)
d3164 1
a3164 1
	i[34567]86-*-netbsd*)
d3170 1
a3170 1
	i[34567]86-*-coff*)
d3174 1
a3174 1
	i[34567]86-*-isc*)		# 80386 running ISC system
d3177 1
a3177 1
		  i[34567]86-*-isc[34]*)
d3197 1
a3197 1
	i[34567]86-*-linux-gnuoldld*)	# Intel 80386's running GNU/Linux
d3206 1
a3206 1
	i[34567]86-*-linux-gnuaout*)	# Intel 80386's running GNU/Linux
d3215 1
a3215 1
	i[34567]86-*-linux-gnulibc1)
d3228 1
a3228 1
	i[34567]86-*-linux-gnu*)	# Intel 80386's running GNU/Linux
d3241 1
a3241 1
	i[34567]86-*-gnu*)
d3243 1
a3243 1
	i[34567]86-go32-msdos | i[34567]86-*-go32*)
d3248 1
a3248 8
	i[34567]86-pc-msdosdjgpp*)
		xm_file=i386/xm-go32.h
		tm_file=i386/go32.h
		tmake_file=i386/t-go32
		gnu_ld=yes
		gas=yes
		;;
	i[34567]86-moss-msdos* | i[34567]86-*-moss*)
d3255 1
a3255 1
	i[34567]86-*-lynxos*)
d3266 1
a3266 1
	i[34567]86-*-mach*)
d3271 1
a3271 1
	i[34567]86-*-osfrose*)		# 386 using OSF/rose
d3285 1
a3285 1
	i[34567]86-go32-rtems*)
d3291 1
a3291 1
	i[34567]86-*-rtems*)
d3296 1
a3296 1
	i[34567]86-*-sco3.2v5*)		# 80386 running SCO Open Server 5
a3300 1
		install_headers_dir=install-headers-cpio
d3305 1
a3305 1
	i[34567]86-*-sco3.2v4*)	 	# 80386 running SCO 3.2v4 system
d3323 1
a3323 1
	i[34567]86-*-sco*)	 	# 80386 running SCO system
d3340 1
a3340 1
	i[34567]86-*-solaris2*)
d3349 1
a3349 1
		extra_parts="crt1.o crti.o crtn.o gcrt1.o gmon.o crtbegin.o crtend.o"
d3357 1
a3357 1
	i[34567]86-*-sysv4*)		# Intel 80386's running system V.4
d3368 1
a3368 1
	i[34567]86-*-sysv*)		# Intel 80386's running system V
d3395 1
a3395 1
	i[34567]86-*-pe | i[34567]86-*-cygwin32)
d3407 1
a3407 1
	i[34567]86-*-mingw32*)
a3417 7
		case $machine in
			*mingw32msv*)
				;;
			*minwg32crt* | *mingw32*)
				tm_file="${tm_file} i386/crtdll.h"
				;;
		esac
d3419 1
a3419 1
	i[34567]86-*-winnt3*)
d3436 1
a3436 1
	i[34567]86-dg-dgux*)
d3442 1
a3442 1
		fixincludes=Makefile.in # There is nothing to fix
d3488 1
a3488 1
	i960-wrs-vxworks5* | i960-wrs-vxworks)
d4150 1
d4777 1
a4777 6
		if [ x$gnu_ld = xyes ]
		then
			tm_file=sparc/sol2.h
		else
			tm_file=sparc/sol2-sld.h
		fi
d4940 1
a4940 1
	# Distinguish i[34567]86
d4951 1
a4951 1
	i686-*-* | i786-*-*)
d5228 3
a5230 7
# If we have a CVS directory, set up a rule so verion.c will be made
# from CVS tag information and use a dummy version number here if we
# don't have version.c.

version_dep=
if [ -d $srcdir/CVS ]; then
	version_dep=ChangeLog
d5233 2
a5234 7
if [ ! -f $srcdir/version.c -a -d $srcdir/CVS ]
then
	version=unknown
else
	# Get the version number from the toplevel
	version=`sed -e 's/.*\"\([^ \"]*\)[ \"].*/\1/' < ${srcdir}/version.c`
fi
d5281 1
a5281 1
if $symbolic_link $srcdir/gcc.c symtest.tem 2>/dev/null
d5286 1
a5286 7
	rm -f symtest.tem
	if cp -p $srcdir/gcc.c symtest.tem 2>/dev/null
	then
		symbolic_link="cp -p"
	else
		symbolic_link="cp"
	fi
a5568 1

a5594 5
# Truncate the target if necessary
if [ x$host_truncate_target != x ]; then
	target=`echo $target | sed -e 's/\(..............\).*/\1/'`
fi

d5623 1
a5623 1
  case `(ac_space=' '; set) 2>&1` in
a5797 1
s%@@version_dep@@%$version_dep%g
a6028 1
version_dep='${version_dep}'
@

