head	1.5;
access;
symbols
	OPENBSD_2_5:1.4.0.10
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.8
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.4.0.6
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.4
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.4.0.2
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.1.0.2
	OPENBSD_2_0_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	99.05.26.16.29.41;	author espie;	state dead;
branches;
next	1.4;

1.4
date	97.04.09.13.44.24;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	97.04.04.13.20.35;	author graichen;	state dead;
branches;
next	1.2;

1.2
date	96.12.15.23.35.49;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	96.07.27.02.51.40;	author downsj;	state Exp;
branches;
next	;


desc
@@


1.5
log
@So long, and thanks for all the bugs.
@
text
@@


1.4
log
@Revert to older (working) version of gcc, plus recent changes.
@
text
@@


1.3
log
@sync g77 to version 0.5.20 - i hope i got everything right because there
is no patch from 0.5.19 to 0.5.20 - so i did it by diffing two gcc trees
looking carefully at the results

what does the new g77 give us:
* now it completely works on the alpha (64bit)
* faster
* less bugs :-)
@
text
@@


1.2
log
@Update to g77 0.5.19
@
text
@@


1.1
log
@Initial integration of G77.

Please do a make cleandir before rebuilding gcc!
@
text
@a0 70
*** gcc-2.7.0/obstack.c	Thu Jun 15 18:12:08 1995
--- g77-2.7.0-0.5.16/obstack.c	Thu Aug 10 04:06:51 1995
*************** Foundation, 675 Mass Ave, Cambridge, MA 
*** 27,33 ****
     (especially if it is a shared library).  Rather than having every GNU
     program understand `configure --with-gnu-libc' and omit the object files,
!    it is simpler to just do this in the source for each such file.  */
  
! #if defined (_LIBC) || !defined (__GNU_LIBRARY__)
  
  
--- 27,40 ----
     (especially if it is a shared library).  Rather than having every GNU
     program understand `configure --with-gnu-libc' and omit the object files,
!    it is simpler to just do this in the source for each such file.
  
!    Actually, don't comment this code out after all.  Else, unless the
!    inlining set up by obstack.h also is commented out (and replaced by
!    including the system's <obstack.h>), bugs will result on a system
!    with an older obstack (with older and different inlining) installed.
!    And for now it doesn't seem worth having obstack.h #include <stdio.h>,
!    as above, just to get __GNU_LIBRARY__ defined, for example.  */
! 
! #if defined (_LIBC) || !defined (__GNU_LIBRARY__) || 1
  
  
*** gcc-2.7.0/stor-layout.c	Thu Jun 15 08:08:47 1995
--- g77-2.7.0-0.5.16/stor-layout.c	Thu Aug 10 14:00:15 1995
*************** get_pending_sizes ()
*** 82,85 ****
--- 82,95 ----
  }
  
+ void
+ put_pending_sizes (chain)
+      tree chain;
+ {
+   if (pending_sizes)
+     abort ();
+ 
+   pending_sizes = chain;
+ }
+ 
  /* Given a size SIZE that may not be a constant, return a SAVE_EXPR
     to serve as the actual size-expression for a type or decl.  */
*** gcc-2.7.0/tree.c	Thu Jun 15 08:10:23 1995
--- g77-2.7.0-0.5.16/tree.c	Mon Aug 28 12:21:15 1995
*************** save_expr (expr)
*** 2111,2115 ****
  
    if (TREE_CONSTANT (t) || (TREE_READONLY (t) && ! TREE_SIDE_EFFECTS (t))
!       || TREE_CODE (t) == SAVE_EXPR)
      return t;
  
--- 2111,2115 ----
  
    if (TREE_CONSTANT (t) || (TREE_READONLY (t) && ! TREE_SIDE_EFFECTS (t))
!       || TREE_CODE (t) == SAVE_EXPR || TREE_CODE (t) == ERROR_MARK)
      return t;
  
*** gcc-2.7.0/tree.h	Thu Jun 15 08:10:49 1995
--- g77-2.7.0-0.5.16/tree.h	Thu Aug 10 04:06:52 1995
*************** extern tree size_int			PROTO((unsigned H
*** 1290,1293 ****
--- 1290,1294 ----
  extern tree round_up			PROTO((tree, int));
  extern tree get_pending_sizes		PROTO((void));
+ extern void put_pending_sizes		PROTO((tree));
  
  /* Type for sizes of data-type.  */
@
