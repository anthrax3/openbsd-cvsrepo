head	1.8;
access;
symbols
	OPENBSD_5_5:1.6.0.14
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.10
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.8
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.6
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.4
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.5.0.8
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.6
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.4
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.4.0.20
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.18
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.16
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.14
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.12
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.10
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.8
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.6
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.4
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.2
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.3.0.4
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.2.0.14
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.12
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.10
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.8
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9:1.2.0.6
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.4
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.2
	OPENBSD_2_7_BASE:1.2
	OPENBSD_2_6:1.1.1.1.0.8
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.6
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.4
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	LYNX_2_8:1.1.1.1
	LYNX:1.1.1;
locks; strict;
comment	@ * @;


1.8
date	2014.07.23.19.13.26;	author deraadt;	state dead;
branches;
next	1.7;
commitid	EcR8E7r0stjLUV4p;

1.7
date	2014.07.09.04.11.35;	author daniel;	state Exp;
branches;
next	1.6;
commitid	lGGuvDWEniklWrQe;

1.6
date	2011.07.22.14.10.39;	author avsm;	state Exp;
branches;
next	1.5;

1.5
date	2009.05.31.09.16.52;	author avsm;	state Exp;
branches;
next	1.4;

1.4
date	2004.06.22.04.01.48;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2003.05.01.18.59.39;	author avsm;	state Exp;
branches;
next	1.2;

1.2
date	2000.03.25.18.17.09;	author maja;	state Exp;
branches;
next	1.1;

1.1
date	98.03.11.17.47.54;	author maja;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.03.11.17.47.54;	author maja;	state Exp;
branches;
next	;


desc
@@


1.8
log
@delinked from tree, now it goes to the bit bucket
@
text
@/* $LynxId: LYKeymap.h,v 1.53 2013/10/20 22:11:03 tom Exp $ */
#ifndef LYKEYMAP_H
#define LYKEYMAP_H

#include <HTUtils.h>
#include <HTList.h>
#include <LYCurses.h>

#ifdef __cplusplus
extern "C" {
#endif
    extern BOOLEAN LYisNonAlnumKeyname(int ch, int KeyName);
    extern HTList *LYcommandList(void);
    extern const char *lec_to_lecname(int code);
    extern char *LYKeycodeToString(int c, int upper8);
    extern char *fmt_keys(int lkc_first, int lkc_second);
    extern char *key_for_func(int func);
    extern char *key_for_func_ext(int lac, int context_code);
    extern int LYReverseKeymap(int KeyName);
    extern int LYStringToKeycode(char *src);
    extern int lacname_to_lac(const char *func);
    extern int lecname_to_lec(const char *func);
    extern int lkcstring_to_lkc(const char *src);
    extern int remap(char *key, const char *func, int for_dired);
    extern void print_keymap(char **newfile);
    extern void reset_emacs_keys(void);
    extern void reset_numbers_as_arrows(void);
    extern void reset_vi_keys(void);
    extern void set_emacs_keys(void);
    extern void set_numbers_as_arrows(void);
    extern void set_vi_keys(void);
    extern void set_vms_keys(void);

/* We only use unsigned keycodes; if there's a problem matching with enum
 * (which is supposed to be 'int'), that would be okay, but not as clean
 * for type-checking.
 */
    typedef short LYKeymap_t;

#define KEYMAP_SIZE 661
    extern LYKeymap_t keymap[KEYMAP_SIZE];	/* main keymap matrix */

#ifdef EXP_KEYBOARD_LAYOUT
    typedef unsigned short LYKbLayout_t;
    extern int current_layout;
    extern LYKbLayout_t *LYKbLayouts[];
    extern const char *LYKbLayoutNames[];
    extern BOOLEAN LYSetKbLayout(char *layout_id);
#endif

#if defined(DIRED_SUPPORT) && defined(OK_OVERRIDE)
    extern LYKeymap_t key_override[];
#endif

/* * *  LynxKeyCodes  * * */
#define LKC_ISLECLAC	0x8000	/* flag: contains lynxaction + editaction */
#define LKC_MOD1	0x4000	/* a modifier bit - currently for ^x-map */
#define LKC_MOD2	0x2000	/* another one - currently for esc-map */
#define LKC_MOD3	0x1000	/* another one - currently for double-map */
#define LKC_ISLAC	0x0800	/* flag: lynxkeycode already lynxactioncode */

/* Used to distinguish internal Lynx keycodes of (say) extended ncurses once. */
#define LKC_ISLKC	0x0400	/* flag: already lynxkeycode (not native) */
    /* 0x0400  is MOUSE_KEYSYM for slang in LYStrings.c */
#define LKC_MASK	0x07FF	/* mask for lynxkeycode proper */

#define LKC_DONE	0x07FE	/* special value - operation done, not-a-key */

/* * *  LynxActionCodes  * * */
#define LAC_SHIFT	8	/* shift for lynxactioncode - must not
				   overwrite any assigned LYK_* values */
#define LAC_MASK	((1<<LAC_SHIFT)-1)
    /* mask for lynxactioncode - must cover all
       assigned LYK_* values */

/*  Return lkc masking single actioncode, given an lkc masking a lac + lec */
#define LKC2_TO_LKC(c)   (((c) == -1 || !((c) & LKC_ISLECLAC)) ? (c) : \
			    (((c) & LAC_MASK) | LKC_ISLAC))

/*  Return lynxeditactioncode, given an lkc masking a lac + lec */
#define LKC2_TO_LEC(c)   (((c) == -1 || !((c) & LKC_ISLECLAC)) ? (c) : \
			    ((((c)&~LKC_ISLECLAC)>>LAC_SHIFT) & LAC_MASK))

/*  Convert lynxkeycode to lynxactioncode.  Modifiers are dropped.  */
#define LKC_TO_LAC(ktab,c) (((c) == -1) ? ktab[0] : \
			    ((c) & (LKC_ISLECLAC|LKC_ISLAC)) ? ((c) & LAC_MASK) : \
			    ktab[((c) & LKC_MASK) + 1])

/*  Mask lynxactioncode as a lynxkeycode.  */
#define LAC_TO_LKC0(a) ((a)|LKC_ISLAC)

/*  Mask a lynxactioncode and an editactioncode as a lynxkeycode.  */
#define LACLEC_TO_LKC0(a,b) ((a)|((b)<<LAC_SHIFT)|LKC_ISLECLAC)

/*  Convert lynxactioncode to a lynxkeycode, attempting reverse mapping.  */
#define LAC_TO_LKC(a) ((LYReverseKeymap(a)>=0)?LYReverseKeymap(a):LAC_TO_LKC0(a))

/*  Simplify a lynxkeycode:
    attempt reverse mapping if a single masked lynxactioncode, drop modifiers.  */
#define LKC_TO_C(c) ((c&LKC_ISLECLAC)? c : (c&LKC_ISLAC)? LAC_TO_LKC(c&LAC_MASK) : (c&LKC_MASK))

#define LKC_HAS_ESC_MOD(c) (c >= 0 && !(c&LKC_ISLECLAC) && (c&LKC_MOD2))

/* *  The defined LynxActionCodes  * */

/* Variables for holding and passing around lynxactioncodes are generally of
 * type int, the types LYKeymap_t and LYKeymapCodes are currently only used for
 * the definitions.  That could change.  - kw
 *
 * The values in this enum are indexed against the command names in the
 * 'revmap[]' array in LYKeymap.c
 */
    typedef enum {
	LYK_UNKNOWN = 0
	,LYK_COMMAND
	,LYK_1
	,LYK_2
	,LYK_3
	,LYK_4
	,LYK_5
	,LYK_6
	,LYK_7
	,LYK_8
	,LYK_9
	,LYK_SOURCE
	,LYK_RELOAD
	,LYK_QUIT
	,LYK_ABORT
	,LYK_NEXT_PAGE
	,LYK_PREV_PAGE
	,LYK_UP_TWO
	,LYK_DOWN_TWO
	,LYK_UP_HALF
	,LYK_DOWN_HALF
	,LYK_REFRESH
	,LYK_HOME
	,LYK_END
	,LYK_FIRST_LINK
	,LYK_LAST_LINK
	,LYK_PREV_LINK
	,LYK_NEXT_LINK
	,LYK_LPOS_PREV_LINK
	,LYK_LPOS_NEXT_LINK
	,LYK_FASTBACKW_LINK
	,LYK_FASTFORW_LINK
	,LYK_UP_LINK
	,LYK_DOWN_LINK
	,LYK_RIGHT_LINK
	,LYK_LEFT_LINK
	,LYK_HISTORY
	,LYK_PREV_DOC
	,LYK_NEXT_DOC
	,LYK_ACTIVATE
	,LYK_MOUSE_SUBMIT	/* mostly like LYK_ACTIVATE, for mouse use, don't map */
	,LYK_SUBMIT
	,LYK_RESET
	,LYK_GOTO
	,LYK_ECGOTO
	,LYK_HELP
	,LYK_DWIMHELP
	,LYK_INDEX
	,LYK_NOCACHE
	,LYK_INTERRUPT
	,LYK_MAIN_MENU
	,LYK_OPTIONS
	,LYK_INDEX_SEARCH
	,LYK_WHEREIS
	,LYK_PREV
	,LYK_NEXT
	,LYK_COMMENT
	,LYK_EDIT
	,LYK_INFO
	,LYK_PRINT
	,LYK_ADD_BOOKMARK
	,LYK_DEL_BOOKMARK
	,LYK_VIEW_BOOKMARK
	,LYK_VLINKS
	,LYK_SHELL
	,LYK_DOWNLOAD
	,LYK_TRACE_TOGGLE
	,LYK_TRACE_LOG
	,LYK_IMAGE_TOGGLE
	,LYK_INLINE_TOGGLE
	,LYK_HEAD
	,LYK_DO_NOTHING
	,LYK_TOGGLE_HELP
	,LYK_JUMP
	,LYK_EDITMAP
	,LYK_KEYMAP
	,LYK_LIST
	,LYK_TOOLBAR
	,LYK_HISTORICAL
	,LYK_MINIMAL
	,LYK_SOFT_DQUOTES
	,LYK_RAW_TOGGLE
	,LYK_COOKIE_JAR
	,LYK_F_LINK_NUM
	,LYK_CLEAR_AUTH
	,LYK_SWITCH_DTD
	,LYK_ELGOTO
	,LYK_CHANGE_LINK
	,LYK_DWIMEDIT
	,LYK_EDITTEXTAREA
	,LYK_GROWTEXTAREA
	,LYK_INSERTFILE

#ifdef USE_ADDRLIST_PAGE
	,LYK_ADDRLIST
#else
#define LYK_ADDRLIST      LYK_ADD_BOOKMARK
#endif

#ifdef USE_EXTERNALS
	,LYK_EXTERN_LINK
	,LYK_EXTERN_PAGE
#else
#define LYK_EXTERN_LINK   LYK_UNKNOWN
#define LYK_EXTERN_PAGE   LYK_UNKNOWN
#endif				/* !defined(USE_EXTERNALS) */

#if defined(VMS) || defined(DIRED_SUPPORT)
	,LYK_DIRED_MENU
#else
#define LYK_DIRED_MENU    LYK_UNKNOWN
#endif				/* VMS || DIRED_SUPPORT */

#ifdef DIRED_SUPPORT
	,LYK_CREATE
	,LYK_REMOVE
	,LYK_MODIFY
	,LYK_TAG_LINK
	,LYK_UPLOAD
	,LYK_INSTALL
#else
#define LYK_TAG_LINK      LYK_UNKNOWN
#endif				/* DIRED_SUPPORT */

	,LYK_CHANGE_CENTER

#ifdef KANJI_CODE_OVERRIDE
	,LYK_CHANGE_KCODE
#endif

#ifdef SUPPORT_CHDIR
	,LYK_CHDIR
	,LYK_PWD
#endif

#ifdef USE_CURSES_PADS
	,LYK_SHIFT_LEFT
	,LYK_SHIFT_RIGHT
	,LYK_LINEWRAP_TOGGLE
#else
#define LYK_SHIFT_LEFT      LYK_UNKNOWN
#define LYK_SHIFT_RIGHT     LYK_UNKNOWN
#define LYK_LINEWRAP_TOGGLE LYK_UNKNOWN
#endif

#ifdef CAN_CUT_AND_PASTE
	,LYK_PASTE_URL
	,LYK_TO_CLIPBOARD
#else
#define LYK_PASTE_URL      LYK_UNKNOWN
#define LYK_TO_CLIPBOARD   LYK_UNKNOWN
#endif

#ifdef EXP_NESTED_TABLES
	,LYK_NESTED_TABLES
#else
#define LYK_NESTED_TABLES  LYK_UNKNOWN
#endif

#ifdef USE_CACHEJAR
	,LYK_CACHE_JAR
#else
#define LYK_CACHE_JAR LYK_UNKNOWN
#endif

#ifdef USE_MAXSCREEN_TOGGLE
	,LYK_MAXSCREEN_TOGGLE
#else
#define LYK_MAXSCREEN_TOGGLE  LYK_UNKNOWN
#endif

    } LYKeymapCode;

/*
 * Symbol table for internal commands.
 */
    typedef struct {
	LYKeymapCode code;
	const char *name;
	const char *doc;
    } Kcmd;

    extern Kcmd *LYKeycodeToKcmd(LYKeymapCode code);
    extern Kcmd *LYStringToKcmd(const char *name);

#ifdef __cplusplus
}
#endif
#endif				/* LYKEYMAP_H */
@


1.7
log
@update to lynx 2.8.8rel2, keeping local changes. primarily to get these
changes from 2.8.8dev.16:

* fix most issues found by clang 3.2 analyze
* fix most issues found by Coverity scan

tested on i386, sparc64, and macppc by myself.
tested on vax by miod@@ (including https)
helpful discussion with avsm@@, sthen@@

ok deraadt@@
@
text
@@


1.6
log
@update to lynx2.8.7rel.2, with local patches:
- restore local lynx.cfg settings [avsm]
- fix makefile races [espie]
- read/write result checking fixes to avoid unsigned comparisons vs -1 [krw]
- initialize all the InputFieldData members correctly [fgsch]
- fix socklen_t test to include <sys/types.h> [miod]
- fgets(3) returns NULL on error, not 0. No functional change [cloder]

ok krw@@, tests by Simon Kuhnle and Martin Pieuchot
@
text
@d1 1
d14 2
a15 1
    extern char *LYKeycodeToString(int c, BOOLEAN upper8);
d24 1
a24 1
    extern int remap(char *key, const char *func, BOOLEAN for_dired);
d38 1
a38 1
    typedef unsigned short LYKeymap_t;
d48 1
a48 1
    extern int LYSetKbLayout(char *layout_id);
d154 3
a156 1
	,LYK_SUBMIT		/* mostly like LYK_ACTIVATE, for mouse use, don't map */
d188 1
d203 3
a205 3
	,LYK_EDIT_TEXTAREA
	,LYK_GROW_TEXTAREA
	,LYK_INSERT_FILE
d207 1
a207 1
#ifdef EXP_ADDRLIST_PAGE
d238 1
a238 1
	,LYK_CHG_CENTER
d241 1
a241 1
	,LYK_CHG_KCODE
d246 1
d277 6
@


1.5
log
@Update to lynx-2.8.6.rel5, with our local patches maintained where relevant.
tests from miod@@ sthen@@ jmc@@ jsing@@
two additional fixes from miod:
- fix uninitialized stack variable use, leading to occasional crash.
- modify the socklen_t test to include <sys/types.h>, fixes gcc2 build failures
@
text
@d267 6
@


1.4
log
@update to lynx 2.8.5rel.1
tested todd@@,naddy@@. millert@@ deraadt@@ ok
@
text
@d8 23
a30 20
extern BOOLEAN LYisNonAlnumKeyname PARAMS((int ch, int KeyName));
extern HTList *LYcommandList NOPARAMS;
extern char *LYKeycodeToString PARAMS((int c, BOOLEAN upper8));
extern char *fmt_keys PARAMS((int lkc_first, int lkc_second));
extern char *key_for_func PARAMS((int func));
extern char *key_for_func_ext PARAMS((int lac, int context_code));
extern int LYReverseKeymap PARAMS((int KeyName));
extern int LYStringToKeycode PARAMS((char *src));
extern int lacname_to_lac PARAMS((CONST char *func));
extern int lecname_to_lec PARAMS((CONST char *func));
extern int lkcstring_to_lkc PARAMS((CONST char *src));
extern int remap PARAMS((char *key, char *func, BOOLEAN for_dired));
extern void print_keymap PARAMS((char **newfile));
extern void reset_emacs_keys NOPARAMS;
extern void reset_numbers_as_arrows NOPARAMS;
extern void reset_vi_keys NOPARAMS;
extern void set_emacs_keys NOPARAMS;
extern void set_numbers_as_arrows NOPARAMS;
extern void set_vi_keys NOPARAMS;
extern void set_vms_keys NOPARAMS;
d36 1
a36 1
typedef unsigned short LYKeymap_t;
d39 1
a39 1
extern LYKeymap_t keymap[KEYMAP_SIZE]; /* main keymap matrix */
d42 5
a46 5
typedef unsigned short LYKbLayout_t;
extern int current_layout;
extern LYKbLayout_t * LYKbLayouts[];
extern char * LYKbLayoutNames[];
extern int LYSetKbLayout PARAMS((char *layout_id));
d50 1
a50 1
extern LYKeymap_t key_override[];
d62 1
a62 1
		     /* 0x0400  is MOUSE_KEYSYM for slang in LYStrings.c */
d71 2
a72 2
				/* mask for lynxactioncode - must cover all
				   assigned LYK_* values */
a86 1

a101 1

d104 3
a106 3
/*  Variables for holding and passing around lynxactioncodes are
 *  generally of type int, the types LYKeymap_t and LYKeymapCodes
 *  are currently only used for the definitions.  That could change. - kw
d108 2
a109 2
 *  The values in this enum are indexed against the command names in the
 *  'revmap[]' array in LYKeymap.c
d111 90
a200 90
typedef enum {
    LYK_UNKNOWN=0
  , LYK_COMMAND
  , LYK_1
  , LYK_2
  , LYK_3
  , LYK_4
  , LYK_5
  , LYK_6
  , LYK_7
  , LYK_8
  , LYK_9
  , LYK_SOURCE
  , LYK_RELOAD
  , LYK_QUIT
  , LYK_ABORT
  , LYK_NEXT_PAGE
  , LYK_PREV_PAGE
  , LYK_UP_TWO
  , LYK_DOWN_TWO
  , LYK_UP_HALF
  , LYK_DOWN_HALF
  , LYK_REFRESH
  , LYK_HOME
  , LYK_END
  , LYK_FIRST_LINK
  , LYK_LAST_LINK
  , LYK_PREV_LINK
  , LYK_NEXT_LINK
  , LYK_LPOS_PREV_LINK
  , LYK_LPOS_NEXT_LINK
  , LYK_FASTBACKW_LINK
  , LYK_FASTFORW_LINK
  , LYK_UP_LINK
  , LYK_DOWN_LINK
  , LYK_RIGHT_LINK
  , LYK_LEFT_LINK
  , LYK_HISTORY
  , LYK_PREV_DOC
  , LYK_NEXT_DOC
  , LYK_ACTIVATE
  , LYK_SUBMIT	/* mostly like LYK_ACTIVATE, for mouse use, don't map */
  , LYK_GOTO
  , LYK_ECGOTO
  , LYK_HELP
  , LYK_DWIMHELP
  , LYK_INDEX
  , LYK_NOCACHE
  , LYK_INTERRUPT
  , LYK_MAIN_MENU
  , LYK_OPTIONS
  , LYK_INDEX_SEARCH
  , LYK_WHEREIS
  , LYK_PREV
  , LYK_NEXT
  , LYK_COMMENT
  , LYK_EDIT
  , LYK_INFO
  , LYK_PRINT
  , LYK_ADD_BOOKMARK
  , LYK_DEL_BOOKMARK
  , LYK_VIEW_BOOKMARK
  , LYK_VLINKS
  , LYK_SHELL
  , LYK_DOWNLOAD
  , LYK_TRACE_TOGGLE
  , LYK_TRACE_LOG
  , LYK_IMAGE_TOGGLE
  , LYK_INLINE_TOGGLE
  , LYK_HEAD
  , LYK_DO_NOTHING
  , LYK_TOGGLE_HELP
  , LYK_JUMP
  , LYK_KEYMAP
  , LYK_LIST
  , LYK_TOOLBAR
  , LYK_HISTORICAL
  , LYK_MINIMAL
  , LYK_SOFT_DQUOTES
  , LYK_RAW_TOGGLE
  , LYK_COOKIE_JAR
  , LYK_F_LINK_NUM
  , LYK_CLEAR_AUTH
  , LYK_SWITCH_DTD
  , LYK_ELGOTO
  , LYK_CHANGE_LINK
  , LYK_DWIMEDIT
  , LYK_EDIT_TEXTAREA
  , LYK_GROW_TEXTAREA
  , LYK_INSERT_FILE
d203 1
a203 1
  , LYK_ADDRLIST
d209 2
a210 2
  , LYK_EXTERN_LINK
  , LYK_EXTERN_PAGE
d214 1
a214 1
#endif /* !defined(USE_EXTERNALS) */
d217 1
a217 1
  , LYK_DIRED_MENU
d220 1
a220 1
#endif /* VMS || DIRED_SUPPORT */
d223 6
a228 6
  , LYK_CREATE
  , LYK_REMOVE
  , LYK_MODIFY
  , LYK_TAG_LINK
  , LYK_UPLOAD
  , LYK_INSTALL
d231 1
a231 1
#endif /* DIRED_SUPPORT */
d233 1
a233 1
  , LYK_CHG_CENTER
d236 1
a236 1
  , LYK_CHG_KCODE
d240 1
a240 1
  , LYK_CHDIR
d244 3
a246 3
  , LYK_SHIFT_LEFT
  , LYK_SHIFT_RIGHT
  , LYK_LINEWRAP_TOGGLE
d254 2
a255 2
  , LYK_PASTE_URL
  , LYK_TO_CLIPBOARD
d262 1
a262 1
  , LYK_NESTED_TABLES
d267 1
a267 1
} LYKeymapCode;
d272 1
a272 1
typedef struct {
d274 3
a276 3
	CONST char *name;
	CONST char *doc;
} Kcmd;
d278 2
a279 2
extern Kcmd * LYKeycodeToKcmd PARAMS((LYKeymapCode code));
extern Kcmd * LYStringToKcmd PARAMS((CONST char * name));
d281 4
a284 1
#endif /* LYKEYMAP_H */
@


1.3
log
@Update to lynx-2.8.4-rel1, patchset d, now with IPv6 as well

Local patches we maintain to the distribution are:
- replace unbounded fscanf with fgets (avsm)
- spelling fixes (deraadt)
- hppa -O0 workaround (mickey)
- default to ftp passive (deraadt)
- work with non-exec scripts (deraadt,hin,maja)
- be more careful with rlogin username (art)
- default to our webpage (deraadt)
- install helpfiles locally (maja)
- mkdtemp temp space directory (art)
- install more recent config.guess (avsm)

Tested by beck,millert,grange,fries,miod and others, deraadt@@ ok
@
text
@a231 1
#ifdef SH_EX
a232 1
#endif /* SH_EX */
@


1.2
log
@Upgrade to Lynx 2.8.2. -moj
@
text
@a3 1
#ifndef HTUTILS_H
d5 2
a6 1
#endif
d8 4
a11 1
extern BOOLEAN LYisNonAlnumKeyname PARAMS((int ch, int key_name));
d13 7
a19 3
extern int LYReverseKeymap PARAMS((int key_name));
extern int lookup_keymap PARAMS((int code));
extern int remap PARAMS((char *key, char *func));
d39 1
d41 1
a41 1
extern LYKeymap_t * LYKbLayouts[];
d50 60
a109 1
/* The order of this enum must match the 'revmap[]' array in LYKeymap.c */
d112 1
a123 1
  , LYK_PIPE
d135 2
d139 2
d149 1
d151 1
d155 1
d163 1
d196 1
d208 5
a212 1
  , LYK_EXTERN
d232 46
a277 1
} LYKeymapCodes;
d279 2
@


1.1
log
@Initial revision
@
text
@d4 8
d13 3
a15 2
extern void set_vms_keys NOPARAMS;
extern void set_vi_keys NOPARAMS;
a17 1
extern void reset_emacs_keys NOPARAMS;
d19 2
a20 5
extern void reset_numbers_as_arrows NOPARAMS;
extern void print_keymap PARAMS((char **newfile));
extern char *key_for_func PARAMS((int func));
extern BOOLEAN LYisNonAlnumKeyname PARAMS((int ch, int key_name));
extern int LYReverseKeymap PARAMS((int key_name));
d22 15
a36 1
extern char keymap[]; /* main keymap matrix */
d39 1
a39 1
extern char override[];
d42 88
a129 1
#define CURRENT_KEYMAP_TITLE "Current Key Map"
d131 3
a133 73
#define       LYK_1             1
#define       LYK_2             2
#define       LYK_3             3
#define       LYK_4             4
#define       LYK_5             5
#define       LYK_6             6
#define       LYK_7             7
#define       LYK_8             8
#define       LYK_9             9
#define       LYK_SOURCE        10
#define       LYK_RELOAD        11
#define       LYK_PIPE          12
#define       LYK_QUIT          13
#define       LYK_ABORT         14
#define       LYK_NEXT_PAGE     15
#define       LYK_PREV_PAGE     16
#define       LYK_UP_TWO        17
#define       LYK_DOWN_TWO      18
#define       LYK_UP_HALF       19
#define       LYK_DOWN_HALF     20
#define       LYK_REFRESH       21
#define       LYK_HOME          22
#define       LYK_END           23
#define       LYK_PREV_LINK     24
#define       LYK_NEXT_LINK     25
#define       LYK_UP_LINK       26
#define       LYK_DOWN_LINK     27
#define       LYK_RIGHT_LINK    28
#define       LYK_LEFT_LINK     29
#define       LYK_HISTORY       30
#define       LYK_PREV_DOC      31
#define       LYK_ACTIVATE      32
#define       LYK_GOTO          33
#define       LYK_ECGOTO        34
#define       LYK_HELP          35
#define       LYK_INDEX         36
#define       LYK_NOCACHE       37
#define       LYK_INTERRUPT     38
#define       LYK_MAIN_MENU     39
#define       LYK_OPTIONS       40
#define       LYK_INDEX_SEARCH  41
#define       LYK_WHEREIS       42
#define       LYK_NEXT          43
#define       LYK_COMMENT       44
#define       LYK_EDIT          45
#define       LYK_INFO          46
#define       LYK_PRINT         47
#define       LYK_ADD_BOOKMARK  48
#define       LYK_DEL_BOOKMARK  49
#define       LYK_VIEW_BOOKMARK 50
#define       LYK_VLINKS        51
#define       LYK_SHELL         52
#define       LYK_DOWNLOAD      53
#define       LYK_TRACE_TOGGLE  54
#define       LYK_TRACE_LOG     55
#define       LYK_IMAGE_TOGGLE  56
#define       LYK_INLINE_TOGGLE 57
#define       LYK_HEAD          58
#define       LYK_DO_NOTHING    59
#define       LYK_TOGGLE_HELP   60
#define       LYK_JUMP          61
#define       LYK_KEYMAP        62
#define       LYK_LIST          63
#define       LYK_TOOLBAR       64
#define       LYK_HISTORICAL    65
#define       LYK_MINIMAL       66
#define       LYK_SOFT_DQUOTES  67
#define       LYK_RAW_TOGGLE    68
#define       LYK_COOKIE_JAR    69
#define       LYK_F_LINK_NUM    70
#define       LYK_CLEAR_AUTH    71
#define       LYK_SWITCH_DTD    72
#define       LYK_ELGOTO        73
a134 6
#ifdef USE_EXTERNALS
#define       LYK_EXTERN        74
#if defined(VMS) || defined(DIRED_SUPPORT)
#define       LYK_DIRED_MENU    75
#endif /* VMS || DIRED_SUPPORT */
#else  /* USE_EXTERNALS */
d136 3
a138 1
#define       LYK_DIRED_MENU    74
a139 1
#endif /* !defined(USE_EXTERNALS) */
d142 8
a149 6
#define       LYK_CREATE        (LYK_DIRED_MENU+1)
#define       LYK_REMOVE        (LYK_DIRED_MENU+2)
#define       LYK_MODIFY        (LYK_DIRED_MENU+3)
#define       LYK_TAG_LINK      (LYK_DIRED_MENU+4)
#define       LYK_UPLOAD        (LYK_DIRED_MENU+5)
#define       LYK_INSTALL       (LYK_DIRED_MENU+6)
d152 2
a153 5
#ifdef NOT_USED
#define       LYK_VERSION       81
#define       LYK_FORM_UP       82
#define       LYK_FORM_DOWN     83
#endif /* NOT_USED */
@


1.1.1.1
log
@Lynx 2.8
@
text
@@
