head	1.5;
access;
symbols
	OPENBSD_4_0:1.4.0.42
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.40
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.38
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.36
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.34
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.32
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.4.0.30
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.28
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.26
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.24
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.22
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9:1.4.0.20
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.18
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.16
	OPENBSD_2_7_BASE:1.4
	OPENBSD_2_6:1.4.0.14
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.12
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.10
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.4.0.8
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.6
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.4.0.4
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4;
locks; strict;
comment	@# @;


1.5
date	2007.02.14.17.54.15;	author niallo;	state dead;
branches;
next	1.4;

1.4
date	96.08.29.02.12.41;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	96.08.12.07.47.11;	author etheisen;	state Exp;
branches;
next	1.2;

1.2
date	96.08.12.04.26.12;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	96.08.12.04.07.33;	author millert;	state Exp;
branches;
next	;


desc
@@


1.5
log
@remove GNU RCS implementation from the tree.  Open RCS has been used for over
a release now.

prompted by deraadt@@, ok joris@@
@
text
@# Master makefile for RCS

#	$Id: Makefile.in,v 1.4 1996/08/29 02:12:41 millert Exp $

# Copyright 1995 Paul Eggert
#   Distributed under license by the Free Software Foundation, Inc.
#
# This file is part of RCS.
#
# RCS is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2, or (at your option)
# any later version.
#
# RCS is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with RCS; see the file COPYING.
# If not, write to the Free Software Foundation,
# 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
#
# Report problems and direct all questions to:
#
#    rcs-bugs@@cs.purdue.edu

srcdir = @@srcdir@@
VPATH = @@srcdir@@

@@SET_MAKE@@
SHELL = /bin/sh

CC = @@CC@@
CPPFLAGS = @@CPPFLAGS@@
CFLAGS = @@CFLAGS@@
LDFLAGS = @@LDFLAGS@@
 
prefix = @@prefix@@
exec_prefix = @@exec_prefix@@
bindir = $(exec_prefix)/bin
# Prefix for each installed program, normally empty or `g'.
binprefix =
libdir = $(prefix)/lib
# Prefix for each installed man page, normally empty or `g'.
manprefix =
mandir = $(prefix)/man/man1
manext = 1

# Documentation directories; special handling
INSTALL_MAN = man
# All other subdirs:
SUBDIRS = $(INSTALL_MAN) src

default :: all

standard_GNU_targets = \
	all install uninstall clean distclean mostlyclean maintainer-clean \
	TAGS info dvi check

maintainer-clean ::
	@@echo "This command is intended for maintainers to use;"
	@@echo "it deletes files that may require special tools to rebuild."

MDEFINES = bindir='$(bindir)' mandir='$(mandir)' manext='$(manext)' \
        prefix='$(prefix)' binprefix='$(binprefix)' \
        manprefix='$(manprefix)' CFLAGS='$(CFLAGS)' CPPFLAGS='$(CPPFLAGS)'\
        CC='$(CC)' LDFLAGS='$(LDFLAGS)' \
        INSTALL_MAN='$(INSTALL_MAN)'

$(standard_GNU_targets) installcheck installdebug ::
	@@for subdir in $(SUBDIRS); do \
	  ( cd $$subdir && $(MAKE) $(MDEFINES) $@@ ) || exit 1; \
	done

dist :: $(srcdir)/configure
	cd man && $(MAKE) rcsfile.5
	cd src && $(MAKE) TAGS
	$(MAKE) distclean
	set -x && \
	d=rcs-`sed -n <src/version.c \
		's/.*version_string[^"]*"\([0-9.]*\).*/\1/p' \
	` && \
	rm -fr $$d && \
	mkdir $$d $$d/man $$d/src && \
	ln *.ms ChangeLog configure configure.in COPYING CREDITS \
		INSTALL INSTALL.RCS install-sh \
		Makefile.in mkinstalldirs NEWS README REFS $$d && \
	(cd man && ln *.[0-9] *.[0-9]in \
		ChangeLog COPYING Makefile.in ../$$d/man) && \
	(cd src && ln *.[ch] *.heg *.sh ChangeLog COPYING \
		Makefile.in rcstest TAGS ../$$d/src) && \
	tar -cbf 1 - $$d | gzip -9 >$$d.tar.gz && \
	rm -fr $$d

$(srcdir)/configure : configure.in
	cd $(srcdir) && autoconf

config.status : configure
	./config.status --recheck

Makefile : Makefile.in config.status
	./config.status

clean :: clean.
clean. ::
	rm -f confdefs* conftest* core core.* *.core

distclean maintainer-clean :: distclean.
distclean. :: clean.
	rm -f Makefile config.cache config.log config.status
@


1.4
log
@top level definition of CC and CPPFLAGS
@
text
@d3 1
a3 1
#	$Id: Makefile.in,v 1.3 1996/08/12 07:47:11 etheisen Exp $
@


1.3
log
@CFLAGS and LDFLAGS weren't being passed down to lower level makefiles.
Top level GNU Makefile really is drain-bamaged.
@
text
@d3 1
a3 1
#	$Id: Makefile.in,v 1.2 1996/08/12 04:26:12 millert Exp $
d35 2
d54 1
a54 1
SUBDIRS = src $(INSTALL_MAN)
d68 1
a68 1
        manprefix='$(manprefix)' CFLAGS='$(CFLAGS)' \
@


1.2
log
@Top level Makefile.in is too dumb for FLAGS_TO_PASS stuff to work.
@
text
@d3 1
a3 1
#	$Id: Makefile.in,v 1.1 1996/08/12 04:07:33 millert Exp $
d35 14
d64 6
d72 1
a72 1
	  ( cd $$subdir && $(MAKE) $@@ ) || exit 1; \
@


1.1
log
@rcs 5.7 + OpenBSD changes
@
text
@d3 1
a3 1
#	$Id: Makefile.in,v 1.6 1995/06/16 06:19:24 eggert Exp $
a39 11
FLAGS_TO_PASS = \
	CC='$(CC)' \
	CFLAGS='$(CFLAGS)' \
	LDFLAGS='$(LDFLAGS)' \
	LIBS='$(LIBS)' \
	MAKE='$(MAKE)' \
	bindir='$(bindir)' \
	mandir='$(mandir)' \
	prefix='$(prefix)' \
	exec_prefix='$(exec_prefix)'

d52 1
a52 1
	  ( cd $$subdir && $(MAKE) $(FLAGS_TO_PASS) $@@ ) || exit 1; \
@
