head	1.1;
branch	1.1.1;
access;
symbols
	OPENBSD_6_2_BASE:1.1.1.1
	OPENBSD_6_1:1.1.1.1.0.54
	OPENBSD_6_1_BASE:1.1.1.1
	OPENBSD_6_0:1.1.1.1.0.50
	OPENBSD_6_0_BASE:1.1.1.1
	OPENBSD_5_9:1.1.1.1.0.46
	OPENBSD_5_9_BASE:1.1.1.1
	OPENBSD_5_8:1.1.1.1.0.48
	OPENBSD_5_8_BASE:1.1.1.1
	OPENBSD_5_7:1.1.1.1.0.40
	OPENBSD_5_7_BASE:1.1.1.1
	OPENBSD_5_6:1.1.1.1.0.44
	OPENBSD_5_6_BASE:1.1.1.1
	OPENBSD_5_5:1.1.1.1.0.42
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.38
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.36
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.34
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.32
	OPENBSD_5_0:1.1.1.1.0.30
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.28
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.26
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.22
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.24
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.20
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.18
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.16
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.14
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.12
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.10
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.8
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.6
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.4
	OPENBSD_3_7_BASE:1.1.1.1
	GDB_6_3:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.2
	OPENBSD_3_6_BASE:1.1.1.1
	GDB_6_1:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@ * @;


1.1
date	2004.05.21.19.16.16;	author kettenis;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.05.21.19.16.16;	author kettenis;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Initial revision
@
text
@#include <spe.h>

/* Test PowerPC SPU extensions.  */

#define vector __attribute__((vector_size(8)))

vector unsigned short f_vec;
vector short g_vec;
vector float h_vec;
vector float i_vec;
vector unsigned int l_vec;
vector int m_vec;
vector int n_vec;

/* dummy variables used in the testfile */
vector unsigned int a_vec_d = {1, 1};
vector int b_vec_d = {0, 0};
vector float c_vec_d = {1.0, 1.0};
vector unsigned int d_vec_d = {0, 0};
vector int e_vec_d = {1, 1};
vector unsigned short f_vec_d = {1, 1, 1, 1};
vector short g_vec_d = {1, 1, 1, 1};
vector float h_vec_d = {1.0, 1.0};
vector float i_vec_d = {2.0, 2.0};
vector unsigned int l_vec_d = {0, 0};
vector int m_vec_d = {0, 0};


vector int
vec_func (vector unsigned int a_vec_f,
          vector int b_vec_f,
          vector float c_vec_f,
          vector unsigned int d_vec_f,
          vector int e_vec_f,
          vector unsigned short f_vec_f,
          vector short g_vec_f,
          vector float h_vec_f,
          vector float i_vec_f,
          vector unsigned int l_vec_f,
          vector int m_vec_f) 
{
  vector int n_vec;


  int x,y,z;
  x = 2;
  y = 3;
 
  z = x + y;
  z++;
  n_vec = __ev_and(a_vec_f, b_vec_f);
  n_vec = __ev_or(c_vec_f, d_vec_f);
  n_vec = __ev_or(e_vec_f, f_vec_f);
  n_vec = __ev_and(g_vec_f, h_vec_f);
  n_vec = __ev_and(i_vec_f, l_vec_f);
  n_vec = __ev_or(m_vec_f, a_vec_f);

  return n_vec;
}

void marker(void) {};

int
main (void)
{
  vector unsigned int a_vec;
  vector int b_vec;
  vector float c_vec;
  vector unsigned int d_vec;
  vector int e_vec;

  vector int res_vec;

  a_vec = (vector unsigned int)__ev_create_u64 ((uint64_t) 55);
  b_vec = __ev_create_s64 ((int64_t) 66);
  c_vec = (vector float) __ev_create_fs (3.14F, 2.18F);
  d_vec = (vector unsigned int) __ev_create_u32 ((uint32_t) 5, (uint32_t) 4);
  e_vec = (vector int) __ev_create_s32 ((int32_t) 5, (int32_t) 6);
  f_vec = (vector unsigned short) __ev_create_u16 ((uint16_t) 6, (uint16_t) 6, (uint16_t) 7, (uint16_t) 1);
  g_vec = (vector short) __ev_create_s16 ((int16_t) 6, (int16_t) 6, (int16_t) 7, (int16_t) 9);
  h_vec = (vector float) __ev_create_sfix32_fs (3.0F, 2.0F);
  i_vec = (vector float) __ev_create_ufix32_fs (3.0F, 2.0F);
  l_vec = (vector unsigned int) __ev_create_ufix32_u32 (3U, 5U);
  m_vec = (vector int) __ev_create_sfix32_s32 (6, 9);

  marker ();

#if 0
/* This line is useful for cut-n-paste from a gdb session. */
vec_func(a_vec,b_vec,c_vec,d_vec,e_vec,f_vec,g_vec,h_vec,i_vec,l_vec,m_vec)
#endif

  res_vec = vec_func (a_vec,  /* goes in r3 */
                      b_vec,  /* goes in r4 */
                      c_vec,  /* goes in r5 */
                      d_vec,  /* goes in r6 */
                      e_vec,  /* goes in r7 */
                      f_vec,  /* goes in r8 */
                      g_vec,  /* goes in r9 */
                      h_vec,  /* goes in r10 */
                      i_vec,  /* goes in stack */
                      l_vec,  /* goes in stack */
                      m_vec);  /* goes in stack */

  return 0;
}
@


1.1.1.1
log
@GDB 6.1 (excluding .info files)
@
text
@@
