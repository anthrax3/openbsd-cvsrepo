head	1.3;
access;
symbols
	OPENBSD_3_5:1.2.0.32
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.30
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.28
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.26
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.24
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.22
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9:1.2.0.20
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.18
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.16
	OPENBSD_2_7_BASE:1.2
	new-binutils:1.2.0.14
	OPENBSD_2_6:1.2.0.12
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.10
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.8
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.6
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.4
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.2
	OPENBSD_2_1_BASE:1.2
	CYGNUS-961112:1.1.2.1
	CYGNUS:1.1.0.2;
locks; strict;
comment	@# @;


1.3
date	2004.05.21.20.23.31;	author kettenis;	state dead;
branches;
next	1.2;

1.2
date	96.11.23.03.46.44;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	96.11.19.14.30.39;	author niklas;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	96.11.19.14.30.39;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Resolve conflicts for GDB 6.1.  Add local patches.
ok deraadt@@
@
text
@

# Master nakefile for building wingdb targets

# Change these settings as needed for your environment:
# you can also set them on the cmd line via nmake VAR=val
# To build all targets for release on NT, do:
#	nmake BUILD=Release HOST=WINNT TARGET=all

# dawn's prefered settings:
!IF "$(PREFS)" == "dawn"
SRCDIR=h:\gnu\devo
OUTDIR=h:\gs\sh
INTDIR=h:\gs\tmp\sh
HOST=WIN95
BUILD=Debug
MSVC=g:\msvc22
MSVC16=g:\msvc15
MSTOOLS=g:\mstools
WIN=c:\windows
TARGET=sh
!ENDIF

# set defaults

FROM_MAKEFILE=makefile

# choices are HOST= [WIN95 WIN31 WINNT]
!IF "$(HOST)" == ""
HOST=WIN95
!ENDIF

!IF "$(BUILD)" != "Release"
DEBUG=ON
BUILD=Debug
!ENDIF

!IF "$(SRCDIR)" == ""
SRCDIR=g:\devo
!ENDIF
!IF "$(OUTDIR)" == ""
OUTDIR=c:\gs
!ENDIF
!IF "$(INTDIR)" == ""
INTDIR=c:\gs\tmp
!ENDIF


!IF "$(MSVC)" == ""
MSVC=c:\msvc22
!ENDIF
!IF "$(MSVC16)" == ""
MSVC16=c:\msvc15
!ENDIF
!IF "$(MSTOOLS)" == ""
MSTOOLS=c:\mstools
!ENDIF
!IF "$(WIN)" == ""
WIN=c:\windows
!ENDIF

MSWINDIR=$(SRCDIR)\gdb\mswin
EXE=$(OUTDIR)\gdb.exe
BSC=$(OUTDIR)\gui.bsc


!IF "(TARGET)" == "all"
MAKE_TARGET=sh m68k sparclet sparclit i386
!ELSEIF "$(TARGET)" == ""
MAKE_TARGET=sh
!ELSE
MAKE_TARGET=$(TARGET)
!ENDIF

all: common.mak serdll.mak $(MAKE_TARGET)

sh: sh.mak common.mak
	nmake -f sh.mak

m68k: m68k.mak common.mak
	nmake -f m68k.mak

sparclet: sparclet.mak common.mak
	nmake -f sparcletm68k.mak

sparclit: sparclit.mak common.mak
	nmake -f sparclit.mak

i386: i386.mak common.mak
	nmake -f i386.mak

clean:
!IF "$(MAKE_TARGET)" == "all"
	nmake -f sh.mak clean
	nmake -f m68k.mak clean
	nmake -f sparcletm68k.mak clean
	nmake -f sparclit.mak clean
	nmake -f i386.mak clean
!ELSE
	nmake -f $(MAKE_TARGET).mak clean
!ENDIF

@


1.2
log
@Merge to Cygnus 961112 + add some support (not ready) for shared libs
@
text
@@


1.1
log
@file makefile was initially added on branch CYGNUS.
@
text
@d1 102
@


1.1.2.1
log
@Import of 961112 Cygnus binutils+gas+ld+gdb+gprof
@
text
@a0 102


# Master nakefile for building wingdb targets

# Change these settings as needed for your environment:
# you can also set them on the cmd line via nmake VAR=val
# To build all targets for release on NT, do:
#	nmake BUILD=Release HOST=WINNT TARGET=all

# dawn's prefered settings:
!IF "$(PREFS)" == "dawn"
SRCDIR=h:\gnu\devo
OUTDIR=h:\gs\sh
INTDIR=h:\gs\tmp\sh
HOST=WIN95
BUILD=Debug
MSVC=g:\msvc22
MSVC16=g:\msvc15
MSTOOLS=g:\mstools
WIN=c:\windows
TARGET=sh
!ENDIF

# set defaults

FROM_MAKEFILE=makefile

# choices are HOST= [WIN95 WIN31 WINNT]
!IF "$(HOST)" == ""
HOST=WIN95
!ENDIF

!IF "$(BUILD)" != "Release"
DEBUG=ON
BUILD=Debug
!ENDIF

!IF "$(SRCDIR)" == ""
SRCDIR=g:\devo
!ENDIF
!IF "$(OUTDIR)" == ""
OUTDIR=c:\gs
!ENDIF
!IF "$(INTDIR)" == ""
INTDIR=c:\gs\tmp
!ENDIF


!IF "$(MSVC)" == ""
MSVC=c:\msvc22
!ENDIF
!IF "$(MSVC16)" == ""
MSVC16=c:\msvc15
!ENDIF
!IF "$(MSTOOLS)" == ""
MSTOOLS=c:\mstools
!ENDIF
!IF "$(WIN)" == ""
WIN=c:\windows
!ENDIF

MSWINDIR=$(SRCDIR)\gdb\mswin
EXE=$(OUTDIR)\gdb.exe
BSC=$(OUTDIR)\gui.bsc


!IF "(TARGET)" == "all"
MAKE_TARGET=sh m68k sparclet sparclit i386
!ELSEIF "$(TARGET)" == ""
MAKE_TARGET=sh
!ELSE
MAKE_TARGET=$(TARGET)
!ENDIF

all: common.mak serdll.mak $(MAKE_TARGET)

sh: sh.mak common.mak
	nmake -f sh.mak

m68k: m68k.mak common.mak
	nmake -f m68k.mak

sparclet: sparclet.mak common.mak
	nmake -f sparcletm68k.mak

sparclit: sparclit.mak common.mak
	nmake -f sparclit.mak

i386: i386.mak common.mak
	nmake -f i386.mak

clean:
!IF "$(MAKE_TARGET)" == "all"
	nmake -f sh.mak clean
	nmake -f m68k.mak clean
	nmake -f sparcletm68k.mak clean
	nmake -f sparclit.mak clean
	nmake -f i386.mak clean
!ELSE
	nmake -f $(MAKE_TARGET).mak clean
!ENDIF

@
