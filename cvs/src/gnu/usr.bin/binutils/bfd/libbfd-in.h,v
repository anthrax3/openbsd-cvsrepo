head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.16
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.8.0.18
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.14
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.10
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.12
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.4
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.8.0.8
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.8.0.6
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.8.0.2
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.7.0.34
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.32
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.30
	OPENBSD_5_0:1.7.0.28
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.26
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.24
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.20
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.22
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.18
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.16
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.14
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.7.0.12
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.10
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.8
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.6
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.7.0.4
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	BINUTILS_2_15:1.1.1.8
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	BINUTILS-2_14:1.1.1.7
	OPENBSD_3_5:1.5.0.8
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.5.0.6
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.5.0.4
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.5.0.2
	OPENBSD_3_2_BASE:1.5
	binutils-2_11_2:1.1.1.6
	OPENBSD_3_1:1.4.0.8
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.6
	OPENBSD_3_0_BASE:1.4
	BINUTILS-2_10_1:1.1.1.5
	OPENBSD_2_9:1.4.0.4
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4
	BINUTILS-2_10:1.1.1.5
	OPENBSD_2_7:1.3.0.18
	OPENBSD_2_7_BASE:1.3
	new-binutils:1.3.0.16
	OPENBSD_2_6:1.3.0.14
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.12
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.10
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.8
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.6
	OPENBSD_2_2_BASE:1.3
	BINUTILS-2_8_1:1.1.1.4
	OPENBSD_2_1:1.3.0.4
	OPENBSD_2_1_BASE:1.3
	CYGNUS-961112:1.1.1.3
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	CYGNUS-960904:1.1.1.3
	CYGNUS-960609:1.1.1.2
	CYGNUS-960607:1.1.1.2
	CYGNUS:1.1.1
	FSF_2_6:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@ * @;


1.8
date	2013.04.19.23.20.53;	author miod;	state Exp;
branches;
next	1.7;

1.7
date	2004.11.02.20.45.10;	author miod;	state Exp;
branches;
next	1.6;

1.6
date	2004.05.17.21.54.23;	author drahn;	state Exp;
branches;
next	1.5;

1.5
date	2002.05.13.17.07.30;	author fgsch;	state Exp;
branches;
next	1.4;

1.4
date	2000.09.12.19.11.19;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	96.09.04.19.01.13;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	96.06.10.10.45.54;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	96.01.08.11.04.58;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.01.08.11.04.58;	author niklas;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	96.06.07.11.06.00;	author niklas;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	96.09.04.17.38.16;	author niklas;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	97.05.29.09.19.56;	author niklas;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2000.09.12.14.45.47;	author espie;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2002.05.13.13.26.25;	author fgsch;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2004.05.17.20.42.18;	author drahn;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2004.11.02.20.22.30;	author miod;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Use time_t instead of long for archive timestamps, and print them as long long;
prodding deraadt@@
@
text
@/* libbfd.h -- Declarations used by bfd library *implementation*.
   (This include file is not for users of the library.)

   Copyright 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
   1999, 2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.

   Written by Cygnus Support.

This file is part of BFD, the Binary File Descriptor library.

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.  */

/* Align an address upward to a boundary, expressed as a number of bytes.
   E.g. align to an 8-byte boundary with argument of 8.  Take care never
   to wrap around if the address is within boundary-1 of the end of the
   address space.  */
#define BFD_ALIGN(this, boundary)					  \
  ((((bfd_vma) (this) + (boundary) - 1) >= (bfd_vma) (this))		  \
   ? (((bfd_vma) (this) + ((boundary) - 1)) & ~ (bfd_vma) ((boundary)-1)) \
   : ~ (bfd_vma) 0)

/* If you want to read and write large blocks, you might want to do it
   in quanta of this amount */
#define DEFAULT_BUFFERSIZE 8192

/* Set a tdata field.  Can't use the other macros for this, since they
   do casts, and casting to the left of assignment isn't portable.  */
#define set_tdata(bfd, v) ((bfd)->tdata.any = (v))

/* If BFD_IN_MEMORY is set for a BFD, then the iostream fields points
   to an instance of this structure.  */

struct bfd_in_memory
{
  /* Size of buffer.  */
  bfd_size_type size;
  /* Buffer holding contents of BFD.  */
  bfd_byte *buffer;
};

/* tdata for an archive.  For an input archive, cache
   needs to be free()'d.  For an output archive, symdefs do.  */

struct artdata {
  file_ptr first_file_filepos;
  /* Speed up searching the armap */
  struct ar_cache *cache;
  bfd *archive_head;		/* Only interesting in output routines */
  carsym *symdefs;		/* the symdef entries */
  symindex symdef_count;	/* how many there are */
  char *extended_names;		/* clever intel extension */
  time_t  armap_timestamp;	/* Timestamp value written into armap.
				   This is used for BSD archives to check
				   that the timestamp is recent enough
				   for the BSD linker to not complain,
				   just before we finish writing an
				   archive.  */
  file_ptr armap_datepos;	/* Position within archive to seek to
				   rewrite the date field.  */
  void *tdata;			/* Backend specific information.  */
};

#define bfd_ardata(bfd) ((bfd)->tdata.aout_ar_data)

/* Goes in bfd's arelt_data slot */
struct areltdata {
  char * arch_header;		/* it's actually a string */
  unsigned int parsed_size;	/* octets of filesize not including ar_hdr */
  char *filename;		/* null-terminated */
};

#define arelt_size(bfd) (((struct areltdata *)((bfd)->arelt_data))->parsed_size)

extern void *bfd_malloc
  (bfd_size_type);
extern void *bfd_realloc
  (void *, bfd_size_type);
extern void *bfd_zmalloc
  (bfd_size_type);

extern bfd_error_handler_type _bfd_error_handler;

/* These routines allocate and free things on the BFD's objalloc.  */

extern void *bfd_alloc
  (bfd *, bfd_size_type);
extern void *bfd_zalloc
  (bfd *, bfd_size_type);
extern void bfd_release
  (bfd *, void *);

bfd * _bfd_create_empty_archive_element_shell
  (bfd *obfd);
bfd * _bfd_look_for_bfd_in_cache
  (bfd *, file_ptr);
bfd_boolean _bfd_add_bfd_to_archive_cache
  (bfd *, file_ptr, bfd *);
bfd_boolean _bfd_generic_mkarchive
  (bfd *abfd);
const bfd_target *bfd_generic_archive_p
  (bfd *abfd);
bfd_boolean bfd_slurp_armap
  (bfd *abfd);
bfd_boolean bfd_slurp_bsd_armap_f2
  (bfd *abfd);
#define bfd_slurp_bsd_armap bfd_slurp_armap
#define bfd_slurp_coff_armap bfd_slurp_armap
bfd_boolean _bfd_slurp_extended_name_table
  (bfd *abfd);
extern bfd_boolean _bfd_construct_extended_name_table
  (bfd *, bfd_boolean, char **, bfd_size_type *);
bfd_boolean _bfd_write_archive_contents
  (bfd *abfd);
bfd_boolean _bfd_compute_and_write_armap
  (bfd *, unsigned int elength);
bfd *_bfd_get_elt_at_filepos
  (bfd *archive, file_ptr filepos);
extern bfd *_bfd_generic_get_elt_at_index
  (bfd *, symindex);
bfd * _bfd_new_bfd
  (void);
void _bfd_delete_bfd
  (bfd *);

bfd_boolean bfd_false
  (bfd *ignore);
bfd_boolean bfd_true
  (bfd *ignore);
void *bfd_nullvoidptr
  (bfd *ignore);
int bfd_0
  (bfd *ignore);
unsigned int bfd_0u
  (bfd *ignore);
long bfd_0l
  (bfd *ignore);
long _bfd_n1
  (bfd *ignore);
void bfd_void
  (bfd *ignore);

bfd *_bfd_new_bfd_contained_in
  (bfd *);
const bfd_target *_bfd_dummy_target
  (bfd *abfd);

void bfd_dont_truncate_arname
  (bfd *abfd, const char *filename, char *hdr);
void bfd_bsd_truncate_arname
  (bfd *abfd, const char *filename, char *hdr);
void bfd_gnu_truncate_arname
  (bfd *abfd, const char *filename, char *hdr);

bfd_boolean bsd_write_armap
  (bfd *arch, unsigned int elength, struct orl *map, unsigned int orl_count,
   int stridx);

bfd_boolean coff_write_armap
  (bfd *arch, unsigned int elength, struct orl *map, unsigned int orl_count,
   int stridx);

extern void *_bfd_generic_read_ar_hdr
  (bfd *);

extern void *_bfd_generic_read_ar_hdr_mag
  (bfd *, const char *);

bfd * bfd_generic_openr_next_archived_file
  (bfd *archive, bfd *last_file);

int bfd_generic_stat_arch_elt
  (bfd *, struct stat *);

#define _bfd_read_ar_hdr(abfd) \
  BFD_SEND (abfd, _bfd_read_ar_hdr_fn, (abfd))

/* Generic routines to use for BFD_JUMP_TABLE_GENERIC.  Use
   BFD_JUMP_TABLE_GENERIC (_bfd_generic).  */

#define _bfd_generic_close_and_cleanup bfd_true
#define _bfd_generic_bfd_free_cached_info bfd_true
#define _bfd_generic_new_section_hook \
  ((bfd_boolean (*) (bfd *, asection *)) bfd_true)
extern bfd_boolean _bfd_generic_get_section_contents
  (bfd *, asection *, void *, file_ptr, bfd_size_type);
extern bfd_boolean _bfd_generic_get_section_contents_in_window
  (bfd *, asection *, bfd_window *, file_ptr, bfd_size_type);

/* Generic routines to use for BFD_JUMP_TABLE_COPY.  Use
   BFD_JUMP_TABLE_COPY (_bfd_generic).  */

#define _bfd_generic_bfd_copy_private_bfd_data \
  ((bfd_boolean (*) (bfd *, bfd *)) bfd_true)
#define _bfd_generic_bfd_merge_private_bfd_data \
  ((bfd_boolean (*) (bfd *, bfd *)) bfd_true)
#define _bfd_generic_bfd_set_private_flags \
  ((bfd_boolean (*) (bfd *, flagword)) bfd_true)
#define _bfd_generic_bfd_copy_private_section_data \
  ((bfd_boolean (*) (bfd *, asection *, bfd *, asection *)) bfd_true)
#define _bfd_generic_bfd_copy_private_symbol_data \
  ((bfd_boolean (*) (bfd *, asymbol *, bfd *, asymbol *)) bfd_true)
#define _bfd_generic_bfd_print_private_bfd_data \
  ((bfd_boolean (*) (bfd *, void *)) bfd_true)

/* Routines to use for BFD_JUMP_TABLE_CORE when there is no core file
   support.  Use BFD_JUMP_TABLE_CORE (_bfd_nocore).  */

extern char *_bfd_nocore_core_file_failing_command
  (bfd *);
extern int _bfd_nocore_core_file_failing_signal
  (bfd *);
extern bfd_boolean _bfd_nocore_core_file_matches_executable_p
  (bfd *, bfd *);

/* Routines to use for BFD_JUMP_TABLE_ARCHIVE when there is no archive
   file support.  Use BFD_JUMP_TABLE_ARCHIVE (_bfd_noarchive).  */

#define _bfd_noarchive_slurp_armap bfd_false
#define _bfd_noarchive_slurp_extended_name_table bfd_false
#define _bfd_noarchive_construct_extended_name_table \
  ((bfd_boolean (*) (bfd *, char **, bfd_size_type *, const char **)) \
   bfd_false)
#define _bfd_noarchive_truncate_arname \
  ((void (*) (bfd *, const char *, char *)) bfd_void)
#define _bfd_noarchive_write_armap \
  ((bfd_boolean (*) (bfd *, unsigned int, struct orl *, unsigned int, int)) \
   bfd_false)
#define _bfd_noarchive_read_ar_hdr bfd_nullvoidptr
#define _bfd_noarchive_openr_next_archived_file \
  ((bfd *(*) (bfd *, bfd *)) bfd_nullvoidptr)
#define _bfd_noarchive_get_elt_at_index \
  ((bfd *(*) (bfd *, symindex)) bfd_nullvoidptr)
#define _bfd_noarchive_generic_stat_arch_elt bfd_generic_stat_arch_elt
#define _bfd_noarchive_update_armap_timestamp bfd_false

/* Routines to use for BFD_JUMP_TABLE_ARCHIVE to get BSD style
   archives.  Use BFD_JUMP_TABLE_ARCHIVE (_bfd_archive_bsd).  */

#define _bfd_archive_bsd_slurp_armap bfd_slurp_bsd_armap
#define _bfd_archive_bsd_slurp_extended_name_table \
  _bfd_slurp_extended_name_table
extern bfd_boolean _bfd_archive_bsd_construct_extended_name_table
  (bfd *, char **, bfd_size_type *, const char **);
#define _bfd_archive_bsd_truncate_arname bfd_bsd_truncate_arname
#define _bfd_archive_bsd_write_armap bsd_write_armap
#define _bfd_archive_bsd_read_ar_hdr _bfd_generic_read_ar_hdr
#define _bfd_archive_bsd_openr_next_archived_file \
  bfd_generic_openr_next_archived_file
#define _bfd_archive_bsd_get_elt_at_index _bfd_generic_get_elt_at_index
#define _bfd_archive_bsd_generic_stat_arch_elt \
  bfd_generic_stat_arch_elt
extern bfd_boolean _bfd_archive_bsd_update_armap_timestamp
  (bfd *);

/* Routines to use for BFD_JUMP_TABLE_ARCHIVE to get COFF style
   archives.  Use BFD_JUMP_TABLE_ARCHIVE (_bfd_archive_coff).  */

#define _bfd_archive_coff_slurp_armap bfd_slurp_coff_armap
#define _bfd_archive_coff_slurp_extended_name_table \
  _bfd_slurp_extended_name_table
extern bfd_boolean _bfd_archive_coff_construct_extended_name_table
  (bfd *, char **, bfd_size_type *, const char **);
#define _bfd_archive_coff_truncate_arname bfd_dont_truncate_arname
#define _bfd_archive_coff_write_armap coff_write_armap
#define _bfd_archive_coff_read_ar_hdr _bfd_generic_read_ar_hdr
#define _bfd_archive_coff_openr_next_archived_file \
  bfd_generic_openr_next_archived_file
#define _bfd_archive_coff_get_elt_at_index _bfd_generic_get_elt_at_index
#define _bfd_archive_coff_generic_stat_arch_elt \
  bfd_generic_stat_arch_elt
#define _bfd_archive_coff_update_armap_timestamp bfd_true

/* Routines to use for BFD_JUMP_TABLE_SYMBOLS where there is no symbol
   support.  Use BFD_JUMP_TABLE_SYMBOLS (_bfd_nosymbols).  */

#define _bfd_nosymbols_get_symtab_upper_bound _bfd_n1
#define _bfd_nosymbols_canonicalize_symtab \
  ((long (*) (bfd *, asymbol **)) _bfd_n1)
#define _bfd_nosymbols_make_empty_symbol _bfd_generic_make_empty_symbol
#define _bfd_nosymbols_print_symbol \
  ((void (*) (bfd *, void *, asymbol *, bfd_print_symbol_type)) bfd_void)
#define _bfd_nosymbols_get_symbol_info \
  ((void (*) (bfd *, asymbol *, symbol_info *)) bfd_void)
#define _bfd_nosymbols_bfd_is_local_label_name \
  ((bfd_boolean (*) (bfd *, const char *)) bfd_false)
#define _bfd_nosymbols_get_lineno \
  ((alent *(*) (bfd *, asymbol *)) bfd_nullvoidptr)
#define _bfd_nosymbols_find_nearest_line \
  ((bfd_boolean (*) (bfd *, asection *, asymbol **, bfd_vma, const char **, \
		     const char **, unsigned int *)) \
   bfd_false)
#define _bfd_nosymbols_bfd_make_debug_symbol \
  ((asymbol *(*) (bfd *, void *, unsigned long)) bfd_nullvoidptr)
#define _bfd_nosymbols_read_minisymbols \
  ((long (*) (bfd *, bfd_boolean, void **, unsigned int *)) _bfd_n1)
#define _bfd_nosymbols_minisymbol_to_symbol \
  ((asymbol *(*) (bfd *, bfd_boolean, const void *, asymbol *)) \
   bfd_nullvoidptr)

/* Routines to use for BFD_JUMP_TABLE_RELOCS when there is no reloc
   support.  Use BFD_JUMP_TABLE_RELOCS (_bfd_norelocs).  */

#define _bfd_norelocs_get_reloc_upper_bound \
  ((long (*) (bfd *, asection *)) _bfd_n1)
#define _bfd_norelocs_canonicalize_reloc \
  ((long (*) (bfd *, asection *, arelent **, asymbol **)) _bfd_n1)
#define _bfd_norelocs_bfd_reloc_type_lookup \
  ((reloc_howto_type *(*) (bfd *, bfd_reloc_code_real_type)) bfd_nullvoidptr)

/* Routines to use for BFD_JUMP_TABLE_WRITE for targets which may not
   be written.  Use BFD_JUMP_TABLE_WRITE (_bfd_nowrite).  */

#define _bfd_nowrite_set_arch_mach \
  ((bfd_boolean (*) (bfd *, enum bfd_architecture, unsigned long)) \
   bfd_false)
#define _bfd_nowrite_set_section_contents \
  ((bfd_boolean (*) (bfd *, asection *, const void *, file_ptr, bfd_size_type)) \
   bfd_false)

/* Generic routines to use for BFD_JUMP_TABLE_WRITE.  Use
   BFD_JUMP_TABLE_WRITE (_bfd_generic).  */

#define _bfd_generic_set_arch_mach bfd_default_set_arch_mach
extern bfd_boolean _bfd_generic_set_section_contents
  (bfd *, asection *, const void *, file_ptr, bfd_size_type);

/* Routines to use for BFD_JUMP_TABLE_LINK for targets which do not
   support linking.  Use BFD_JUMP_TABLE_LINK (_bfd_nolink).  */

#define _bfd_nolink_sizeof_headers ((int (*) (bfd *, bfd_boolean)) bfd_0)
#define _bfd_nolink_bfd_get_relocated_section_contents \
  ((bfd_byte *(*) (bfd *, struct bfd_link_info *, struct bfd_link_order *, \
		   bfd_byte *, bfd_boolean, asymbol **)) \
   bfd_nullvoidptr)
#define _bfd_nolink_bfd_relax_section \
  ((bfd_boolean (*) \
    (bfd *, asection *, struct bfd_link_info *, bfd_boolean *)) \
   bfd_false)
#define _bfd_nolink_bfd_gc_sections \
  ((bfd_boolean (*) (bfd *, struct bfd_link_info *)) \
   bfd_false)
#define _bfd_nolink_bfd_merge_sections \
  ((bfd_boolean (*) (bfd *, struct bfd_link_info *)) \
   bfd_false)
#define _bfd_nolink_bfd_discard_group \
  ((bfd_boolean (*) (bfd *, struct bfd_section *)) \
   bfd_false)
#define _bfd_nolink_bfd_link_hash_table_create \
  ((struct bfd_link_hash_table *(*) (bfd *)) bfd_nullvoidptr)
#define _bfd_nolink_bfd_link_hash_table_free \
  ((void (*) (struct bfd_link_hash_table *)) bfd_void)
#define _bfd_nolink_bfd_link_add_symbols \
  ((bfd_boolean (*) (bfd *, struct bfd_link_info *)) bfd_false)
#define _bfd_nolink_bfd_link_just_syms \
  ((void (*) (asection *, struct bfd_link_info *)) bfd_void)
#define _bfd_nolink_bfd_final_link \
  ((bfd_boolean (*) (bfd *, struct bfd_link_info *)) bfd_false)
#define _bfd_nolink_bfd_link_split_section \
  ((bfd_boolean (*) (bfd *, struct bfd_section *)) bfd_false)

/* Routines to use for BFD_JUMP_TABLE_DYNAMIC for targets which do not
   have dynamic symbols or relocs.  Use BFD_JUMP_TABLE_DYNAMIC
   (_bfd_nodynamic).  */

#define _bfd_nodynamic_get_dynamic_symtab_upper_bound _bfd_n1
#define _bfd_nodynamic_canonicalize_dynamic_symtab \
  ((long (*) (bfd *, asymbol **)) _bfd_n1)
#define _bfd_nodynamic_get_dynamic_reloc_upper_bound _bfd_n1
#define _bfd_nodynamic_canonicalize_dynamic_reloc \
  ((long (*) (bfd *, arelent **, asymbol **)) _bfd_n1)

/* Generic routine to determine of the given symbol is a local
   label.  */
extern bfd_boolean bfd_generic_is_local_label_name
  (bfd *, const char *);

/* Generic minisymbol routines.  */
extern long _bfd_generic_read_minisymbols
  (bfd *, bfd_boolean, void **, unsigned int *);
extern asymbol *_bfd_generic_minisymbol_to_symbol
  (bfd *, bfd_boolean, const void *, asymbol *);

/* Find the nearest line using .stab/.stabstr sections.  */
extern bfd_boolean _bfd_stab_section_find_nearest_line
  (bfd *, asymbol **, asection *, bfd_vma, bfd_boolean *,
   const char **, const char **, unsigned int *, void **);

/* Find the neaderst line using DWARF 1 debugging information.  */
extern bfd_boolean _bfd_dwarf1_find_nearest_line
  (bfd *, asection *, asymbol **, bfd_vma, const char **,
   const char **, unsigned int *);

/* Find the nearest line using DWARF 2 debugging information.  */
extern bfd_boolean _bfd_dwarf2_find_nearest_line
  (bfd *, asection *, asymbol **, bfd_vma, const char **, const char **,
   unsigned int *, unsigned int, void **);

/* Create a new section entry.  */
extern struct bfd_hash_entry *bfd_section_hash_newfunc
  (struct bfd_hash_entry *, struct bfd_hash_table *, const char *);

/* A routine to create entries for a bfd_link_hash_table.  */
extern struct bfd_hash_entry *_bfd_link_hash_newfunc
  (struct bfd_hash_entry *entry, struct bfd_hash_table *table,
   const char *string);

/* Initialize a bfd_link_hash_table.  */
extern bfd_boolean _bfd_link_hash_table_init
  (struct bfd_link_hash_table *, bfd *,
   struct bfd_hash_entry *(*) (struct bfd_hash_entry *,
			       struct bfd_hash_table *,
			       const char *));

/* Generic link hash table creation routine.  */
extern struct bfd_link_hash_table *_bfd_generic_link_hash_table_create
  (bfd *);

/* Generic link hash table destruction routine.  */
extern void _bfd_generic_link_hash_table_free
  (struct bfd_link_hash_table *);

/* Generic add symbol routine.  */
extern bfd_boolean _bfd_generic_link_add_symbols
  (bfd *, struct bfd_link_info *);

/* Generic add symbol routine.  This version is used by targets for
   which the linker must collect constructors and destructors by name,
   as the collect2 program does.  */
extern bfd_boolean _bfd_generic_link_add_symbols_collect
  (bfd *, struct bfd_link_info *);

/* Generic archive add symbol routine.  */
extern bfd_boolean _bfd_generic_link_add_archive_symbols
  (bfd *, struct bfd_link_info *,
   bfd_boolean (*) (bfd *, struct bfd_link_info *, bfd_boolean *));

/* Forward declaration to avoid prototype errors.  */
typedef struct bfd_link_hash_entry _bfd_link_hash_entry;

/* Generic routine to add a single symbol.  */
extern bfd_boolean _bfd_generic_link_add_one_symbol
  (struct bfd_link_info *, bfd *, const char *name, flagword,
   asection *, bfd_vma, const char *, bfd_boolean copy,
   bfd_boolean constructor, struct bfd_link_hash_entry **);

/* Generic routine to mark section as supplying symbols only.  */
extern void _bfd_generic_link_just_syms
  (asection *, struct bfd_link_info *);

/* Generic link routine.  */
extern bfd_boolean _bfd_generic_final_link
  (bfd *, struct bfd_link_info *);

extern bfd_boolean _bfd_generic_link_split_section
  (bfd *, struct bfd_section *);

/* Generic reloc_link_order processing routine.  */
extern bfd_boolean _bfd_generic_reloc_link_order
  (bfd *, struct bfd_link_info *, asection *, struct bfd_link_order *);

/* Default link order processing routine.  */
extern bfd_boolean _bfd_default_link_order
  (bfd *, struct bfd_link_info *, asection *, struct bfd_link_order *);

/* Count the number of reloc entries in a link order list.  */
extern unsigned int _bfd_count_link_order_relocs
  (struct bfd_link_order *);

/* Final link relocation routine.  */
extern bfd_reloc_status_type _bfd_final_link_relocate
  (reloc_howto_type *, bfd *, asection *, bfd_byte *,
   bfd_vma, bfd_vma, bfd_vma);

/* Relocate a particular location by a howto and a value.  */
extern bfd_reloc_status_type _bfd_relocate_contents
  (reloc_howto_type *, bfd *, bfd_vma, bfd_byte *);

/* Link stabs in sections in the first pass.  */

extern bfd_boolean _bfd_link_section_stabs
  (bfd *, void **, asection *, asection *, void **, bfd_size_type *);

/* Eliminate stabs for discarded functions and symbols.  */
extern bfd_boolean _bfd_discard_section_stabs
  (bfd *, asection *, void *, bfd_boolean (*) (bfd_vma, void *), void *);

/* Write out the .stab section when linking stabs in sections.  */

extern bfd_boolean _bfd_write_section_stabs
  (bfd *, void **, asection *, void **, bfd_byte *);

/* Write out the .stabstr string table when linking stabs in sections.  */

extern bfd_boolean _bfd_write_stab_strings
  (bfd *, void **);

/* Find an offset within a .stab section when linking stabs in
   sections.  */

extern bfd_vma _bfd_stab_section_offset
  (bfd *, void **, asection *, void **, bfd_vma);

/* Attempt to merge a SEC_MERGE section.  */

extern bfd_boolean _bfd_merge_section
  (bfd *, void **, asection *, void **);

/* Attempt to merge SEC_MERGE sections.  */

extern bfd_boolean _bfd_merge_sections
  (bfd *, void *, void (*) (bfd *, asection *));

/* Write out a merged section.  */

extern bfd_boolean _bfd_write_merged_section
  (bfd *, asection *, void *);

/* Find an offset within a modified SEC_MERGE section.  */

extern bfd_vma _bfd_merged_section_offset
  (bfd *, asection **, void *, bfd_vma, bfd_vma);

/* Create a string table.  */
extern struct bfd_strtab_hash *_bfd_stringtab_init
  (void);

/* Create an XCOFF .debug section style string table.  */
extern struct bfd_strtab_hash *_bfd_xcoff_stringtab_init
  (void);

/* Free a string table.  */
extern void _bfd_stringtab_free
  (struct bfd_strtab_hash *);

/* Get the size of a string table.  */
extern bfd_size_type _bfd_stringtab_size
  (struct bfd_strtab_hash *);

/* Add a string to a string table.  */
extern bfd_size_type _bfd_stringtab_add
  (struct bfd_strtab_hash *, const char *, bfd_boolean hash, bfd_boolean copy);

/* Write out a string table.  */
extern bfd_boolean _bfd_stringtab_emit
  (bfd *, struct bfd_strtab_hash *);

/* Check that endianness of input and output file match.  */
extern bfd_boolean _bfd_generic_verify_endian_match
  (bfd *, bfd *);

/* Macros to tell if bfds are read or write enabled.

   Note that bfds open for read may be scribbled into if the fd passed
   to bfd_fdopenr is actually open both for read and write
   simultaneously.  However an output bfd will never be open for
   read.  Therefore sometimes you want to check bfd_read_p or
   !bfd_read_p, and only sometimes bfd_write_p.
*/

#define	bfd_read_p(abfd) \
  ((abfd)->direction == read_direction || (abfd)->direction == both_direction)
#define	bfd_write_p(abfd) \
  ((abfd)->direction == write_direction || (abfd)->direction == both_direction)

void bfd_assert
  (const char*,int);

#define BFD_ASSERT(x) \
  { if (!(x)) bfd_assert(__FILE__,__LINE__); }

#define BFD_FAIL() \
  { bfd_assert(__FILE__,__LINE__); }

extern void _bfd_abort
  (const char *, int, const char *) ATTRIBUTE_NORETURN;

/* if gcc >= 2.6, we can give a function name, too */
#if __GNUC__ < 2 || (__GNUC__ == 2 && __GNUC_MINOR__ < 6)
#define __PRETTY_FUNCTION__  ((char *) NULL)
#endif

#undef abort
#define abort() _bfd_abort (__FILE__, __LINE__, __PRETTY_FUNCTION__)

/* Manipulate a system FILE but using BFD's "file_ptr", rather than
   the system "off_t" or "off64_t", as the offset.  */
extern file_ptr real_ftell (FILE *file);
extern int real_fseek (FILE *file, file_ptr offset, int whence);

FILE *	bfd_cache_lookup_worker
  (bfd *);

extern bfd *bfd_last_cache;

/* List of supported target vectors, and the default vector (if
   bfd_default_vector[0] is NULL, there is no default).  */
extern const bfd_target * const *bfd_target_vector;
extern const bfd_target *bfd_default_vector[];

/* List of associated target vectors.  */
extern const bfd_target * const *bfd_associated_vector;

/* Functions shared by the ECOFF and MIPS ELF backends, which have no
   other common header files.  */

#if defined(__STDC__) || defined(ALMOST_STDC)
struct ecoff_find_line;
#endif

extern bfd_boolean _bfd_ecoff_locate_line
  (bfd *, asection *, bfd_vma, struct ecoff_debug_info * const,
   const struct ecoff_debug_swap * const, struct ecoff_find_line *,
   const char **, const char **, unsigned int *);
extern bfd_boolean _bfd_ecoff_get_accumulated_pdr
  (void *, bfd_byte *);
extern bfd_boolean _bfd_ecoff_get_accumulated_sym
  (void *, bfd_byte *);
extern bfd_boolean _bfd_ecoff_get_accumulated_ss
  (void *, bfd_byte *);

extern bfd_vma _bfd_get_gp_value
  (bfd *);
extern void _bfd_set_gp_value
  (bfd *, bfd_vma);

/* Function shared by the COFF and ELF SH backends, which have no
   other common header files.  */

#ifndef _bfd_sh_align_load_span
extern bfd_boolean _bfd_sh_align_load_span
  (bfd *, asection *, bfd_byte *,
   bfd_boolean (*) (bfd *, asection *, void *, bfd_byte *, bfd_vma),
   void *, bfd_vma **, bfd_vma *, bfd_vma, bfd_vma, bfd_boolean *);
#endif
@


1.7
log
@Merge conflicts, bringing our changes back in:
- extra $(SHELL) and sugar for make (so that files not mode +x still work)
- safer temp file handling
- our W^X binary layout changes in ld
- OpenBSD policy for library file selection in ld
- arm and m88k changes which were not merged in time for official 2.15
- bfd core file handling
- a couple typos

New for 2.15:
- ld(1) and as(1) manpages now generated at build time
- binutils/stabs.c reverted to use our in-tree libiberty for now
- we still use our VIA C3 crypto code over stock binutils, as it recognizes
  more instructions
- new emulations for OpenBSD on mips64 machines, to help OpenBSD/sgi
- relaxed %f# handling in gas on OpenBSD/sparc64 (same as was in 2.14)

Tested on all platforms by various people; special thanks to sturm@@ and
otto@@.
@
text
@d64 1
a64 2
  /* when more compilers are standard C, this can be a time_t */
  long  armap_timestamp;	/* Timestamp value written into armap.
@


1.6
log
@Resolve merge conflicts, adjust method of W^X handing (.sh files)
remove testsuites (not useable) remove mmalloc (not part of new binutils).
@
text
@d3 4
a6 3
   Copyright 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
   2000, 2001, 2002
   Free Software Foundation, Inc.
d40 1
a40 1
#define set_tdata(bfd, v) ((bfd)->tdata.any = (PTR) (v))
d73 1
a73 1
  PTR tdata;			/* Backend specific information.  */
d87 6
a92 6
extern PTR bfd_malloc
  PARAMS ((bfd_size_type));
extern PTR bfd_realloc
  PARAMS ((PTR, bfd_size_type));
extern PTR bfd_zmalloc
  PARAMS ((bfd_size_type));
d98 4
a101 4
extern PTR bfd_alloc
  PARAMS ((bfd *, bfd_size_type));
extern PTR bfd_zalloc
  PARAMS ((bfd *, bfd_size_type));
d103 1
a103 1
  PARAMS ((bfd *, PTR));
d106 1
a106 1
  PARAMS ((bfd *obfd));
d108 1
a108 1
  PARAMS ((bfd *, file_ptr));
d110 1
a110 1
  PARAMS ((bfd *, file_ptr, bfd *));
d112 1
a112 1
  PARAMS ((bfd *abfd));
d114 1
a114 1
  PARAMS ((bfd *abfd));
d116 1
a116 1
  PARAMS ((bfd *abfd));
d118 1
a118 1
  PARAMS ((bfd *abfd));
d122 1
a122 1
  PARAMS ((bfd *abfd));
d124 1
a124 1
  PARAMS ((bfd *, bfd_boolean, char **, bfd_size_type *));
d126 1
a126 1
  PARAMS ((bfd *abfd));
d128 1
a128 1
  PARAMS ((bfd *, unsigned int elength));
d130 1
a130 1
  PARAMS ((bfd *archive, file_ptr filepos));
d132 1
a132 1
  PARAMS ((bfd *, symindex));
d134 1
a134 1
  PARAMS ((void));
d136 1
a136 1
  PARAMS ((bfd *));
d139 1
a139 1
  PARAMS ((bfd *ignore));
d141 3
a143 3
  PARAMS ((bfd *ignore));
PTR bfd_nullvoidptr
  PARAMS ((bfd *ignore));
d145 1
a145 1
  PARAMS ((bfd *ignore));
d147 1
a147 1
  PARAMS ((bfd *ignore));
d149 1
a149 1
  PARAMS ((bfd *ignore));
d151 1
a151 1
  PARAMS ((bfd *ignore));
d153 1
a153 1
  PARAMS ((bfd *ignore));
d156 1
a156 1
  PARAMS ((bfd *));
d158 1
a158 1
  PARAMS ((bfd *abfd));
d161 1
a161 1
  PARAMS ((bfd *abfd, const char *filename, char *hdr));
d163 1
a163 1
  PARAMS ((bfd *abfd, const char *filename, char *hdr));
d165 1
a165 1
  PARAMS ((bfd *abfd, const char *filename, char *hdr));
d168 2
a169 2
  PARAMS ((bfd *arch, unsigned int elength, struct orl *map,
	   unsigned int orl_count, int stridx));
d172 2
a173 2
  PARAMS ((bfd *arch, unsigned int elength, struct orl *map,
	   unsigned int orl_count, int stridx));
d175 2
a176 2
extern PTR _bfd_generic_read_ar_hdr
  PARAMS ((bfd *));
d178 2
a179 2
extern PTR _bfd_generic_read_ar_hdr_mag
  PARAMS ((bfd *, const char *));
d182 1
a182 1
  PARAMS ((bfd *archive, bfd *last_file));
d185 1
a185 1
  PARAMS ((bfd *, struct stat *));
d196 1
a196 1
  ((bfd_boolean (*) PARAMS ((bfd *, asection *))) bfd_true)
d198 1
a198 1
  PARAMS ((bfd *, asection *, PTR, file_ptr, bfd_size_type));
d200 1
a200 1
  PARAMS ((bfd *, asection *, bfd_window *, file_ptr, bfd_size_type));
d206 1
a206 1
  ((bfd_boolean (*) PARAMS ((bfd *, bfd *))) bfd_true)
d208 1
a208 1
  ((bfd_boolean (*) PARAMS ((bfd *, bfd *))) bfd_true)
d210 1
a210 1
  ((bfd_boolean (*) PARAMS ((bfd *, flagword))) bfd_true)
d212 1
a212 1
  ((bfd_boolean (*) PARAMS ((bfd *, asection *, bfd *, asection *))) bfd_true)
d214 1
a214 1
  ((bfd_boolean (*) PARAMS ((bfd *, asymbol *, bfd *, asymbol *))) bfd_true)
d216 1
a216 1
  ((bfd_boolean (*) PARAMS ((bfd *, PTR))) bfd_true)
d222 1
a222 1
  PARAMS ((bfd *));
d224 1
a224 1
  PARAMS ((bfd *));
d226 1
a226 1
  PARAMS ((bfd *, bfd *));
d234 1
a234 2
  ((bfd_boolean (*) \
    PARAMS ((bfd *, char **, bfd_size_type *, const char **))) \
d237 1
a237 1
  ((void (*) PARAMS ((bfd *, const char *, char *))) bfd_void)
d239 1
a239 2
  ((bfd_boolean (*) \
    PARAMS ((bfd *, unsigned int, struct orl *, unsigned int, int))) \
d243 1
a243 1
  ((bfd *(*) PARAMS ((bfd *, bfd *))) bfd_nullvoidptr)
d245 1
a245 1
  ((bfd *(*) PARAMS ((bfd *, symindex))) bfd_nullvoidptr)
d256 1
a256 1
  PARAMS ((bfd *, char **, bfd_size_type *, const char **));
d266 1
a266 1
  PARAMS ((bfd *));
d275 1
a275 1
  PARAMS ((bfd *, char **, bfd_size_type *, const char **));
d290 2
a291 2
#define _bfd_nosymbols_get_symtab \
  ((long (*) PARAMS ((bfd *, asymbol **))) _bfd_n1)
d294 1
a294 1
  ((void (*) PARAMS ((bfd *, PTR, asymbol *, bfd_print_symbol_type))) bfd_void)
d296 1
a296 1
  ((void (*) PARAMS ((bfd *, asymbol *, symbol_info *))) bfd_void)
d298 1
a298 1
  ((bfd_boolean (*) PARAMS ((bfd *, const char *))) bfd_false)
d300 1
a300 1
  ((alent *(*) PARAMS ((bfd *, asymbol *))) bfd_nullvoidptr)
d302 2
a303 3
  ((bfd_boolean (*) \
    PARAMS ((bfd *, asection *, asymbol **, bfd_vma, const char **, \
	     const char **, unsigned int *))) \
d306 1
a306 1
  ((asymbol *(*) PARAMS ((bfd *, PTR, unsigned long))) bfd_nullvoidptr)
d308 1
a308 1
  ((long (*) PARAMS ((bfd *, bfd_boolean, PTR *, unsigned int *))) _bfd_n1)
d310 1
a310 1
  ((asymbol *(*) PARAMS ((bfd *, bfd_boolean, const PTR, asymbol *))) \
d317 1
a317 1
  ((long (*) PARAMS ((bfd *, asection *))) _bfd_n1)
d319 1
a319 1
  ((long (*) PARAMS ((bfd *, asection *, arelent **, asymbol **))) _bfd_n1)
d321 1
a321 2
  ((reloc_howto_type *(*) PARAMS ((bfd *, bfd_reloc_code_real_type))) \
   bfd_nullvoidptr)
d327 1
a327 1
  ((bfd_boolean (*) PARAMS ((bfd *, enum bfd_architecture, unsigned long))) \
d330 1
a330 2
  ((bfd_boolean (*) \
   PARAMS ((bfd *, asection *, PTR, file_ptr, bfd_size_type))) \
d338 1
a338 1
  PARAMS ((bfd *, asection *, PTR, file_ptr, bfd_size_type));
d343 1
a343 1
#define _bfd_nolink_sizeof_headers ((int (*) PARAMS ((bfd *, bfd_boolean))) bfd_0)
d345 2
a346 3
  ((bfd_byte *(*) \
    PARAMS ((bfd *, struct bfd_link_info *, struct bfd_link_order *, \
	     bfd_byte *, bfd_boolean, asymbol **))) \
d350 1
a350 1
    PARAMS ((bfd *, asection *, struct bfd_link_info *, bfd_boolean *))) \
d353 1
a353 2
  ((bfd_boolean (*) \
    PARAMS ((bfd *, struct bfd_link_info *))) \
d356 1
a356 2
  ((bfd_boolean (*) \
    PARAMS ((bfd *, struct bfd_link_info *))) \
d359 1
a359 2
  ((bfd_boolean (*) \
    PARAMS ((bfd *, struct sec *))) \
d362 1
a362 1
  ((struct bfd_link_hash_table *(*) PARAMS ((bfd *))) bfd_nullvoidptr)
d364 1
a364 1
  ((void (*) PARAMS ((struct bfd_link_hash_table *))) bfd_void)
d366 1
a366 1
  ((bfd_boolean (*) PARAMS ((bfd *, struct bfd_link_info *))) bfd_false)
d368 1
a368 1
  ((void (*) PARAMS ((asection *, struct bfd_link_info *))) bfd_void)
d370 1
a370 1
  ((bfd_boolean (*) PARAMS ((bfd *, struct bfd_link_info *))) bfd_false)
d372 1
a372 1
  ((bfd_boolean (*) PARAMS ((bfd *, struct sec *))) bfd_false)
d380 1
a380 1
  ((long (*) PARAMS ((bfd *, asymbol **))) _bfd_n1)
d383 1
a383 1
  ((long (*) PARAMS ((bfd *, arelent **, asymbol **))) _bfd_n1)
d388 1
a388 1
  PARAMS ((bfd *, const char *));
d392 1
a392 1
  PARAMS ((bfd *, bfd_boolean, PTR *, unsigned int *));
d394 1
a394 1
  PARAMS ((bfd *, bfd_boolean, const PTR, asymbol *));
d398 2
a399 2
  PARAMS ((bfd *, asymbol **, asection *, bfd_vma, bfd_boolean *,
	   const char **, const char **, unsigned int *, PTR *));
d403 2
a404 2
  PARAMS ((bfd *, asection *, asymbol **, bfd_vma, const char **,
	   const char **, unsigned int *));
d408 2
a409 3
  PARAMS ((bfd *, asection *, asymbol **, bfd_vma, const char **,
	   const char **, unsigned int *, unsigned int,
	   PTR *));
d413 1
a413 1
  PARAMS ((struct bfd_hash_entry *, struct bfd_hash_table *, const char *));
d417 2
a418 3
  PARAMS ((struct bfd_hash_entry *entry,
	   struct bfd_hash_table *table,
	   const char *string));
d422 4
a425 4
  PARAMS ((struct bfd_link_hash_table *, bfd *,
	   struct bfd_hash_entry *(*) (struct bfd_hash_entry *,
				       struct bfd_hash_table *,
				       const char *)));
d429 1
a429 1
  PARAMS ((bfd *));
d433 1
a433 1
  PARAMS ((struct bfd_link_hash_table *));
d437 1
a437 1
  PARAMS ((bfd *, struct bfd_link_info *));
d443 1
a443 1
  PARAMS ((bfd *, struct bfd_link_info *));
d447 2
a448 2
  PARAMS ((bfd *, struct bfd_link_info *,
	   bfd_boolean (*) (bfd *, struct bfd_link_info *, bfd_boolean *)));
d455 3
a457 3
  PARAMS ((struct bfd_link_info *, bfd *, const char *name, flagword,
	   asection *, bfd_vma, const char *, bfd_boolean copy,
	   bfd_boolean constructor, struct bfd_link_hash_entry **));
d461 1
a461 1
  PARAMS ((asection *, struct bfd_link_info *));
d465 1
a465 1
  PARAMS ((bfd *, struct bfd_link_info *));
d468 1
a468 1
  PARAMS ((bfd *, struct sec *));
d472 1
a472 2
  PARAMS ((bfd *, struct bfd_link_info *, asection *,
	   struct bfd_link_order *));
d476 1
a476 2
  PARAMS ((bfd *, struct bfd_link_info *, asection *,
	   struct bfd_link_order *));
d480 1
a480 1
  PARAMS ((struct bfd_link_order *));
d484 2
a485 2
  PARAMS ((reloc_howto_type *, bfd *, asection *, bfd_byte *,
	   bfd_vma, bfd_vma, bfd_vma));
d489 1
a489 1
  PARAMS ((reloc_howto_type *, bfd *, bfd_vma, bfd_byte *));
d494 1
a494 1
  PARAMS ((bfd *, PTR *, asection *, asection *, PTR *));
d498 1
a498 2
  PARAMS ((bfd *, asection *, PTR,
	   bfd_boolean (*) (bfd_vma, PTR), PTR));
d503 1
a503 1
  PARAMS ((bfd *, PTR *, asection *, PTR *, bfd_byte *));
d508 1
a508 1
  PARAMS ((bfd *, PTR *));
d514 1
a514 1
  PARAMS ((bfd *, PTR *, asection *, PTR *, bfd_vma));
d519 1
a519 1
  PARAMS ((bfd *, PTR *, asection *, PTR *));
d524 1
a524 1
  PARAMS ((bfd *, PTR, void (*)(bfd *, asection *)));
d529 1
a529 1
  PARAMS ((bfd *, asection *, PTR));
d534 1
a534 1
  PARAMS ((bfd *, asection **, PTR, bfd_vma, bfd_vma));
d538 1
a538 1
  PARAMS ((void));
d542 1
a542 1
  PARAMS ((void));
d546 1
a546 1
  PARAMS ((struct bfd_strtab_hash *));
d550 1
a550 1
  PARAMS ((struct bfd_strtab_hash *));
d554 1
a554 2
  PARAMS ((struct bfd_strtab_hash *, const char *, bfd_boolean hash,
	   bfd_boolean copy));
d558 1
a558 1
  PARAMS ((bfd *, struct bfd_strtab_hash *));
d562 1
a562 1
  PARAMS ((bfd *, bfd *));
d573 4
a576 2
#define	bfd_read_p(abfd) ((abfd)->direction == read_direction || (abfd)->direction == both_direction)
#define	bfd_write_p(abfd) ((abfd)->direction == write_direction || (abfd)->direction == both_direction)
d579 1
a579 1
  PARAMS ((const char*,int));
d582 1
a582 1
{ if (!(x)) bfd_assert(__FILE__,__LINE__); }
d585 1
a585 1
{ bfd_assert(__FILE__,__LINE__); }
d588 1
a588 1
  PARAMS ((const char *, int, const char *)) ATTRIBUTE_NORETURN;
d598 5
d604 1
a604 1
  PARAMS ((bfd *));
d624 3
a626 3
  PARAMS ((bfd *, asection *, bfd_vma, struct ecoff_debug_info * const,
	   const struct ecoff_debug_swap * const, struct ecoff_find_line *,
	   const char **, const char **, unsigned int *));
d628 1
a628 1
  PARAMS ((PTR, bfd_byte *));
d630 1
a630 1
  PARAMS ((PTR, bfd_byte *));
d632 1
a632 1
  PARAMS ((PTR, bfd_byte *));
d635 1
a635 1
  PARAMS ((bfd *));
d637 1
a637 1
  PARAMS ((bfd *, bfd_vma));
d642 1
d644 4
a647 4
  PARAMS ((bfd *, asection *, bfd_byte *,
	   bfd_boolean (*) (bfd *, asection *, PTR, bfd_byte *, bfd_vma),
	   PTR, bfd_vma **, bfd_vma *, bfd_vma, bfd_vma, bfd_boolean *));

@


1.5
log
@resolve conflicts.
@
text
@d4 1
a4 1
   2000, 2001
a7 4
** NOTE: libbfd.h is a GENERATED file.  Don't change it; instead,
** change libbfd-in.h or the other BFD source files processed to
** generate this file.

d28 3
a30 3
#define BFD_ALIGN(this, boundary)					\
  ((((bfd_vma) (this) + (boundary) - 1) >= (bfd_vma) (this))		\
   ? (((bfd_vma) (this) + ((boundary) - 1)) & (~((boundary)-1)))	\
d86 6
a91 3
extern PTR bfd_malloc PARAMS ((size_t));
extern PTR bfd_realloc PARAMS ((PTR, size_t));
extern PTR bfd_zmalloc PARAMS ((size_t));
d97 21
a117 11
extern PTR bfd_alloc PARAMS ((bfd *, size_t));
extern PTR bfd_zalloc PARAMS ((bfd *, size_t));
extern void bfd_release PARAMS ((bfd *, PTR));

bfd *	_bfd_create_empty_archive_element_shell PARAMS ((bfd *obfd));
bfd *	_bfd_look_for_bfd_in_cache PARAMS ((bfd *arch_bfd, file_ptr index));
boolean _bfd_add_bfd_to_archive_cache PARAMS ((bfd *, file_ptr, bfd *));
boolean	_bfd_generic_mkarchive PARAMS ((bfd *abfd));
const bfd_target *bfd_generic_archive_p PARAMS ((bfd *abfd));
boolean	bfd_slurp_armap PARAMS ((bfd *abfd));
boolean bfd_slurp_bsd_armap_f2 PARAMS ((bfd *abfd));
d120 16
a135 33
boolean	_bfd_slurp_extended_name_table PARAMS ((bfd *abfd));
extern boolean _bfd_construct_extended_name_table
  PARAMS ((bfd *, boolean, char **, bfd_size_type *));
boolean	_bfd_write_archive_contents PARAMS ((bfd *abfd));
boolean _bfd_compute_and_write_armap PARAMS ((bfd *, unsigned int elength));
bfd *_bfd_get_elt_at_filepos PARAMS ((bfd *archive, file_ptr filepos));
extern bfd *_bfd_generic_get_elt_at_index PARAMS ((bfd *, symindex));
bfd * _bfd_new_bfd PARAMS ((void));

boolean	bfd_false PARAMS ((bfd *ignore));
boolean	bfd_true PARAMS ((bfd *ignore));
PTR	bfd_nullvoidptr PARAMS ((bfd *ignore));
int	bfd_0 PARAMS ((bfd *ignore));
unsigned int	bfd_0u PARAMS ((bfd *ignore));
long	bfd_0l PARAMS ((bfd *ignore));
long	_bfd_n1 PARAMS ((bfd *ignore));
void	bfd_void PARAMS ((bfd *ignore));

bfd *_bfd_new_bfd_contained_in PARAMS ((bfd *));
const bfd_target *_bfd_dummy_target PARAMS ((bfd *abfd));

void	bfd_dont_truncate_arname PARAMS ((bfd *abfd, const char *filename,
					char *hdr));
void	bfd_bsd_truncate_arname PARAMS ((bfd *abfd, const char *filename,
					char *hdr));
void	bfd_gnu_truncate_arname PARAMS ((bfd *abfd, const char *filename,
					char *hdr));

boolean	bsd_write_armap PARAMS ((bfd *arch, unsigned int elength,
				  struct orl *map, unsigned int orl_count, int stridx));

boolean	coff_write_armap PARAMS ((bfd *arch, unsigned int elength,
				   struct orl *map, unsigned int orl_count, int stridx));
d137 16
a152 1
extern PTR _bfd_generic_read_ar_hdr PARAMS ((bfd *));
d154 4
a157 1
extern PTR _bfd_generic_read_ar_hdr_mag PARAMS ((bfd *, const char *));
d159 17
a175 2
bfd *	bfd_generic_openr_next_archived_file PARAMS ((bfd *archive,
						     bfd *last_file));
d177 8
a184 1
int	bfd_generic_stat_arch_elt PARAMS ((bfd *, struct stat *));
d195 4
a198 5
  ((boolean (*) PARAMS ((bfd *, asection *))) bfd_true)
extern boolean _bfd_generic_get_section_contents
  PARAMS ((bfd *, asection *, PTR location, file_ptr offset,
	   bfd_size_type count));
extern boolean _bfd_generic_get_section_contents_in_window
d205 1
a205 1
  ((boolean (*) PARAMS ((bfd *, bfd *))) bfd_true)
d207 1
a207 1
  ((boolean (*) PARAMS ((bfd *, bfd *))) bfd_true)
d209 1
a209 1
  ((boolean (*) PARAMS ((bfd *, flagword))) bfd_true)
d211 1
a211 1
  ((boolean (*) PARAMS ((bfd *, asection *, bfd *, asection *))) bfd_true)
d213 1
a213 1
  ((boolean (*) PARAMS ((bfd *, asymbol *, bfd *, asymbol *))) bfd_true)
d215 1
a215 1
  ((boolean (*) PARAMS ((bfd *, PTR))) bfd_true)
d220 5
a224 3
extern char *_bfd_nocore_core_file_failing_command PARAMS ((bfd *));
extern int _bfd_nocore_core_file_failing_signal PARAMS ((bfd *));
extern boolean _bfd_nocore_core_file_matches_executable_p
d233 2
a234 1
  ((boolean (*) PARAMS ((bfd *, char **, bfd_size_type *, const char **))) \
d239 1
a239 1
  ((boolean (*) \
d256 1
a256 1
extern boolean _bfd_archive_bsd_construct_extended_name_table
d266 2
a267 1
extern boolean _bfd_archive_bsd_update_armap_timestamp PARAMS ((bfd *));
d275 1
a275 1
extern boolean _bfd_archive_coff_construct_extended_name_table
d293 1
a293 2
#define _bfd_nosymbols_make_empty_symbol \
  ((asymbol *(*) PARAMS ((bfd *))) bfd_nullvoidptr)
d299 1
a299 1
  ((boolean (*) PARAMS ((bfd *, const char *))) bfd_false)
d303 1
a303 1
  ((boolean (*) \
d310 1
a310 1
  ((long (*) PARAMS ((bfd *, boolean, PTR *, unsigned int *))) _bfd_n1)
d312 1
a312 1
  ((asymbol *(*) PARAMS ((bfd *, boolean, const PTR, asymbol *))) \
d330 1
a330 1
  ((boolean (*) PARAMS ((bfd *, enum bfd_architecture, unsigned long))) \
d333 2
a334 1
  ((boolean (*) PARAMS ((bfd *, asection *, PTR, file_ptr, bfd_size_type))) \
d341 1
a341 1
extern boolean _bfd_generic_set_section_contents
d347 1
a347 1
#define _bfd_nolink_sizeof_headers ((int (*) PARAMS ((bfd *, boolean))) bfd_0)
d351 1
a351 1
	     bfd_byte *, boolean, asymbol **))) \
d354 2
a355 2
  ((boolean (*) \
    PARAMS ((bfd *, asection *, struct bfd_link_info *, boolean *))) \
d358 5
a362 1
  ((boolean (*) \
d365 4
d371 2
d374 3
a376 1
  ((boolean (*) PARAMS ((bfd *, struct bfd_link_info *))) bfd_false)
d378 1
a378 1
  ((boolean (*) PARAMS ((bfd *, struct bfd_link_info *))) bfd_false)
d380 1
a380 1
  ((boolean (*) PARAMS ((bfd *, struct sec *))) bfd_false)
d395 2
a396 1
extern boolean bfd_generic_is_local_label_name PARAMS ((bfd *, const char *));
d400 1
a400 1
  PARAMS ((bfd *, boolean, PTR *, unsigned int *));
d402 1
a402 1
  PARAMS ((bfd *, boolean, const PTR, asymbol *));
d405 3
a407 3
extern boolean _bfd_stab_section_find_nearest_line
  PARAMS ((bfd *, asymbol **, asection *, bfd_vma, boolean *, const char **,
	   const char **, unsigned int *, PTR *));
d410 1
a410 1
extern boolean _bfd_dwarf1_find_nearest_line
d415 1
a415 1
extern boolean _bfd_dwarf2_find_nearest_line
d420 4
d431 1
a431 1
extern boolean _bfd_link_hash_table_init
d441 4
d446 1
a446 1
extern boolean _bfd_generic_link_add_symbols
d452 1
a452 1
extern boolean _bfd_generic_link_add_symbols_collect
d456 1
a456 1
extern boolean _bfd_generic_link_add_archive_symbols
d458 1
a458 3
	   boolean (*checkfn) (bfd *, struct bfd_link_info *, boolean *)));


d464 1
a464 1
extern boolean _bfd_generic_link_add_one_symbol
d466 6
a471 2
	   asection *, bfd_vma, const char *, boolean copy,
	   boolean constructor, struct bfd_link_hash_entry **));
d474 1
a474 1
extern boolean _bfd_generic_final_link
d477 1
a477 1
extern boolean _bfd_generic_link_split_section
d481 1
a481 1
extern boolean _bfd_generic_reloc_link_order
d486 1
a486 1
extern boolean _bfd_default_link_order
d497 1
a497 1
	   bfd_vma address, bfd_vma value, bfd_vma addend));
d505 1
a505 1
extern boolean _bfd_link_section_stabs
d508 5
d515 1
a515 1
extern boolean _bfd_write_section_stabs
d520 2
a521 1
extern boolean _bfd_write_stab_strings PARAMS ((bfd *, PTR *));
d529 20
d550 2
a551 1
extern struct bfd_strtab_hash *_bfd_stringtab_init PARAMS ((void));
d554 2
a555 1
extern struct bfd_strtab_hash *_bfd_xcoff_stringtab_init PARAMS ((void));
d558 2
a559 1
extern void _bfd_stringtab_free PARAMS ((struct bfd_strtab_hash *));
d562 2
a563 1
extern bfd_size_type _bfd_stringtab_size PARAMS ((struct bfd_strtab_hash *));
d567 2
a568 2
  PARAMS ((struct bfd_strtab_hash *, const char *, boolean hash,
	   boolean copy));
d571 2
a572 1
extern boolean _bfd_stringtab_emit PARAMS ((bfd *, struct bfd_strtab_hash *));
d575 2
a576 1
extern boolean _bfd_generic_verify_endian_match PARAMS ((bfd *, bfd *));
d590 2
a591 1
void	bfd_assert PARAMS ((const char*,int));
d599 2
a600 2
extern void _bfd_abort PARAMS ((const char *, int, const char *))
     ATTRIBUTE_NORETURN;
d610 2
a611 1
FILE *	bfd_cache_lookup_worker PARAMS ((bfd *));
d620 3
d630 1
a630 1
extern boolean _bfd_ecoff_locate_line
d634 6
a639 3
extern boolean _bfd_ecoff_get_accumulated_pdr PARAMS ((PTR, bfd_byte *));
extern boolean _bfd_ecoff_get_accumulated_sym PARAMS ((PTR, bfd_byte *));
extern boolean _bfd_ecoff_get_accumulated_ss PARAMS ((PTR, bfd_byte *));
d641 4
a644 2
extern bfd_vma _bfd_get_gp_value PARAMS ((bfd *));
extern void _bfd_set_gp_value PARAMS ((bfd *, bfd_vma));
d649 1
a649 1
extern boolean _bfd_sh_align_load_span
d651 2
a652 4
	   boolean (*) (bfd *, asection *, PTR, bfd_byte *, bfd_vma),
	   PTR, bfd_vma **, bfd_vma *, bfd_vma, bfd_vma, boolean *));

/* And more follows */
@


1.4
log
@Help stupid cvs fixing basic conflicts.
@
text
@d3 2
a4 1
   Copyright 1990, 91, 92, 93, 94, 95, 96, 97, 98, 99, 2000
d63 1
a63 1
  bfd *archive_head;            /* Only interesting in output routines */
d65 1
a65 1
  symindex symdef_count;             /* how many there are */
d83 3
a85 3
  char * arch_header;			     /* it's actually a string */
  unsigned int parsed_size;     /* octets of filesize not including ar_hdr */
  char *filename;			     /* null-terminated */
d132 1
a132 1
void	bfd_dont_truncate_arname PARAMS ((bfd *abfd, CONST char *filename,
d134 1
a134 1
void	bfd_bsd_truncate_arname PARAMS ((bfd *abfd, CONST char *filename,
d136 1
a136 1
void	bfd_gnu_truncate_arname PARAMS ((bfd *abfd, CONST char *filename,
d369 2
a370 1
	   const char **, unsigned int *, unsigned int));
d525 1
a525 1
extern const bfd_target * const bfd_target_vector[];
@


1.3
log
@Merge the Cygnus 960904 sources
@
text
@d3 2
a4 1
   Copyright 1990, 91, 92, 93, 94, 95, 1996 Free Software Foundation, Inc.
d28 7
a34 3
   E.g. align to an 8-byte boundary with argument of 8.  */
#define BFD_ALIGN(this, boundary) \
  ((( (this) + ((boundary) -1)) & (~((boundary)-1))))
d95 1
a95 1
/* These routines allocate and free things on the BFD's obstack.  */
d97 3
a99 7
PTR	bfd_alloc PARAMS ((bfd *abfd, size_t size));
PTR	bfd_zalloc PARAMS ((bfd *abfd, size_t size));
void	bfd_alloc_grow PARAMS ((bfd *abfd, PTR thing, size_t size));
PTR	bfd_alloc_finish PARAMS ((bfd *abfd));
PTR	bfd_alloc_by_size_t PARAMS ((bfd *abfd, size_t wanted));

#define	bfd_release(x,y) (void) obstack_free(&(x->memory),y)
d263 2
a264 2
#define _bfd_nosymbols_bfd_is_local_label \
  ((boolean (*) PARAMS ((bfd *, asymbol *))) bfd_false)
d321 4
d347 1
a347 1
extern boolean bfd_generic_is_local_label PARAMS ((bfd *, asymbol *));
d360 10
d451 1
a451 1
  PARAMS ((bfd *, asection *, PTR *, bfd_byte *));
d457 6
d482 3
d506 11
d524 1
a524 1
extern const bfd_target * const bfd_default_vector[];
@


1.2
log
@Bring Cygnus versions into the trunk, keeping our local patches
@
text
@a484 9
    
/* Now Steve, what's the story here? */
#ifdef lint
#define itos(x) "l"
#define stoi(x) 1
#else
#define itos(x) ((char*)(x))
#define stoi(x) ((int)(x))
#endif
d508 8
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
   Copyright 1990, 1991, 1992, 1993, 1994, 1995 Free Software Foundation, Inc.
d39 11
d84 3
a86 1
char *bfd_zmalloc PARAMS ((bfd_size_type size));
d90 1
a90 2
/* These routines allocate and free things on the BFD's obstack.  Note
   that realloc can never occur in place.  */
a93 1
PTR	bfd_realloc PARAMS ((bfd *abfd, PTR orig, size_t size));
d115 1
d145 2
d209 2
d227 1
d245 1
d350 5
d387 2
d428 14
d514 3
@


1.1.1.1
log
@Initial GNU binutils 2.6 import
@
text
@@


1.1.1.2
log
@(Correct) Import of Cygnus binutils snapshot taken 960607
@
text
@d3 1
a3 1
   Copyright 1990, 91, 92, 93, 94, 95, 1996 Free Software Foundation, Inc.
a38 11
/* If BFD_IN_MEMORY is set for a BFD, then the iostream fields points
   to an instance of this structure.  */

struct bfd_in_memory
{
  /* Size of buffer.  */
  bfd_size_type size;
  /* Buffer holding contents of BFD.  */
  bfd_byte *buffer;
};

d73 1
a73 3
extern PTR bfd_malloc PARAMS ((size_t));
extern PTR bfd_realloc PARAMS ((PTR, size_t));
extern PTR bfd_zmalloc PARAMS ((size_t));
d77 2
a78 1
/* These routines allocate and free things on the BFD's obstack.  */
d82 1
a103 1
extern bfd *_bfd_generic_get_elt_at_index PARAMS ((bfd *, symindex));
a132 2
extern PTR _bfd_generic_read_ar_hdr_mag PARAMS ((bfd *, const char *));

a194 2
#define _bfd_noarchive_get_elt_at_index \
  ((bfd *(*) PARAMS ((bfd *, symindex))) bfd_nullvoidptr)
a210 1
#define _bfd_archive_bsd_get_elt_at_index _bfd_generic_get_elt_at_index
a227 1
#define _bfd_archive_coff_get_elt_at_index _bfd_generic_get_elt_at_index
a331 5
/* Find the nearest line using .stab/.stabstr sections.  */
extern boolean _bfd_stab_section_find_nearest_line
  PARAMS ((bfd *, asymbol **, asection *, bfd_vma, boolean *, const char **,
	   const char **, unsigned int *, PTR *));

a363 2


a402 14
/* Link stabs in sections in the first pass.  */

extern boolean _bfd_link_section_stabs
  PARAMS ((bfd *, PTR *, asection *, asection *, PTR *));

/* Write out the .stab section when linking stabs in sections.  */

extern boolean _bfd_write_section_stabs
  PARAMS ((bfd *, asection *, PTR *, bfd_byte *));

/* Write out the .stabstr string table when linking stabs in sections.  */

extern boolean _bfd_write_stab_strings PARAMS ((bfd *, PTR *));

a474 3

extern bfd_vma _bfd_get_gp_value PARAMS ((bfd *));
extern void _bfd_set_gp_value PARAMS ((bfd *, bfd_vma));
@


1.1.1.3
log
@Import of binutils, gas, ld & gprof from Cygnus 960904 tree
@
text
@d485 9
a516 8

/* Function shared by the COFF and ELF SH backends, which have no
   other common header files.  */

extern boolean _bfd_sh_align_load_span
  PARAMS ((bfd *, asection *, bfd_byte *,
	   boolean (*) (bfd *, asection *, PTR, bfd_byte *, bfd_vma),
	   PTR, bfd_vma **, bfd_vma *, bfd_vma, bfd_vma, boolean *));
@


1.1.1.4
log
@Import of binutils-2.8.1 from Cygnus/FSF
@
text
@d3 1
a3 1
   Copyright 1990, 91, 92, 93, 94, 95, 96, 1997 Free Software Foundation, Inc.
d90 1
a90 1
/* These routines allocate and free things on the BFD's objalloc.  */
d92 7
a98 3
extern PTR bfd_alloc PARAMS ((bfd *, size_t));
extern PTR bfd_zalloc PARAMS ((bfd *, size_t));
extern void bfd_release PARAMS ((bfd *, PTR));
d262 2
a263 2
#define _bfd_nosymbols_bfd_is_local_label_name \
  ((boolean (*) PARAMS ((bfd *, const char *))) bfd_false)
d342 1
a342 1
extern boolean bfd_generic_is_local_label_name PARAMS ((bfd *, const char *));
d436 1
a436 1
  PARAMS ((bfd *, PTR *, asection *, PTR *, bfd_byte *));
a441 6
/* Find an offset within a .stab section when linking stabs in
   sections.  */

extern bfd_vma _bfd_stab_section_offset
  PARAMS ((bfd *, PTR *, asection *, PTR *, bfd_vma));

d489 1
a489 1
extern const bfd_target *bfd_default_vector[];
@


1.1.1.5
log
@Import binutils-2.10
- only the binutils package (no gdb here)
- don't import libiberty and texinfo, they are elsewhere
- remove all .info* generated files
@
text
@d3 1
a3 2
   Copyright 1990, 91, 92, 93, 94, 95, 96, 97, 98, 99, 2000
   Free Software Foundation, Inc.
d27 3
a29 7
   E.g. align to an 8-byte boundary with argument of 8.  Take care never
   to wrap around if the address is within boundary-1 of the end of the
   address space.  */
#define BFD_ALIGN(this, boundary)					\
  ((((bfd_vma) (this) + (boundary) - 1) >= (bfd_vma) (this))		\
   ? (((bfd_vma) (this) + ((boundary) - 1)) & (~((boundary)-1)))	\
   : ~ (bfd_vma) 0)
a315 4
#define _bfd_nolink_bfd_gc_sections \
  ((boolean (*) \
    PARAMS ((bfd *, struct bfd_link_info *))) \
   bfd_false)
a350 10
/* Find the neaderst line using DWARF 1 debugging information.  */
extern boolean _bfd_dwarf1_find_nearest_line
  PARAMS ((bfd *, asection *, asymbol **, bfd_vma, const char **,
	   const char **, unsigned int *));

/* Find the nearest line using DWARF 2 debugging information.  */
extern boolean _bfd_dwarf2_find_nearest_line
  PARAMS ((bfd *, asection *, asymbol **, bfd_vma, const char **,
	   const char **, unsigned int *, unsigned int));

a462 3

/* Check that endianness of input and output file match.  */
extern boolean _bfd_generic_verify_endian_match PARAMS ((bfd *, bfd *));
a482 11

extern void _bfd_abort PARAMS ((const char *, int, const char *))
     ATTRIBUTE_NORETURN;

/* if gcc >= 2.6, we can give a function name, too */
#if __GNUC__ < 2 || (__GNUC__ == 2 && __GNUC_MINOR__ < 6)
#define __PRETTY_FUNCTION__  ((char *) NULL)
#endif

#undef abort
#define abort() _bfd_abort (__FILE__, __LINE__, __PRETTY_FUNCTION__)
@


1.1.1.6
log
@Import binutils-2.11.2
- only the binutils package (no gdb here)
- don't import libiberty and texinfo, they are elsewhere
- remove all .info* generated files
@
text
@d3 1
a3 2
   Copyright 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
   2000, 2001
d62 1
a62 1
  bfd *archive_head;		/* Only interesting in output routines */
d64 1
a64 1
  symindex symdef_count;	/* how many there are */
d82 3
a84 3
  char * arch_header;		/* it's actually a string */
  unsigned int parsed_size;	/* octets of filesize not including ar_hdr */
  char *filename;		/* null-terminated */
d131 1
a131 1
void	bfd_dont_truncate_arname PARAMS ((bfd *abfd, const char *filename,
d133 1
a133 1
void	bfd_bsd_truncate_arname PARAMS ((bfd *abfd, const char *filename,
d135 1
a135 1
void	bfd_gnu_truncate_arname PARAMS ((bfd *abfd, const char *filename,
d368 1
a368 2
	   const char **, unsigned int *, unsigned int,
	   PTR *));
d523 1
a523 1
extern const bfd_target * const *bfd_target_vector;
@


1.1.1.7
log
@import binutils 2.14 (excluding testsuites, .info files, and .po files)
@
text
@d4 1
a4 1
   2000, 2001, 2002
d8 4
d32 3
a34 3
#define BFD_ALIGN(this, boundary)					  \
  ((((bfd_vma) (this) + (boundary) - 1) >= (bfd_vma) (this))		  \
   ? (((bfd_vma) (this) + ((boundary) - 1)) & ~ (bfd_vma) ((boundary)-1)) \
d90 3
a92 6
extern PTR bfd_malloc
  PARAMS ((bfd_size_type));
extern PTR bfd_realloc
  PARAMS ((PTR, bfd_size_type));
extern PTR bfd_zmalloc
  PARAMS ((bfd_size_type));
d98 11
a108 21
extern PTR bfd_alloc
  PARAMS ((bfd *, bfd_size_type));
extern PTR bfd_zalloc
  PARAMS ((bfd *, bfd_size_type));
extern void bfd_release
  PARAMS ((bfd *, PTR));

bfd * _bfd_create_empty_archive_element_shell
  PARAMS ((bfd *obfd));
bfd * _bfd_look_for_bfd_in_cache
  PARAMS ((bfd *, file_ptr));
bfd_boolean _bfd_add_bfd_to_archive_cache
  PARAMS ((bfd *, file_ptr, bfd *));
bfd_boolean _bfd_generic_mkarchive
  PARAMS ((bfd *abfd));
const bfd_target *bfd_generic_archive_p
  PARAMS ((bfd *abfd));
bfd_boolean bfd_slurp_armap
  PARAMS ((bfd *abfd));
bfd_boolean bfd_slurp_bsd_armap_f2
  PARAMS ((bfd *abfd));
d111 33
a143 16
bfd_boolean _bfd_slurp_extended_name_table
  PARAMS ((bfd *abfd));
extern bfd_boolean _bfd_construct_extended_name_table
  PARAMS ((bfd *, bfd_boolean, char **, bfd_size_type *));
bfd_boolean _bfd_write_archive_contents
  PARAMS ((bfd *abfd));
bfd_boolean _bfd_compute_and_write_armap
  PARAMS ((bfd *, unsigned int elength));
bfd *_bfd_get_elt_at_filepos
  PARAMS ((bfd *archive, file_ptr filepos));
extern bfd *_bfd_generic_get_elt_at_index
  PARAMS ((bfd *, symindex));
bfd * _bfd_new_bfd
  PARAMS ((void));
void _bfd_delete_bfd
  PARAMS ((bfd *));
d145 1
a145 16
bfd_boolean bfd_false
  PARAMS ((bfd *ignore));
bfd_boolean bfd_true
  PARAMS ((bfd *ignore));
PTR bfd_nullvoidptr
  PARAMS ((bfd *ignore));
int bfd_0
  PARAMS ((bfd *ignore));
unsigned int bfd_0u
  PARAMS ((bfd *ignore));
long bfd_0l
  PARAMS ((bfd *ignore));
long _bfd_n1
  PARAMS ((bfd *ignore));
void bfd_void
  PARAMS ((bfd *ignore));
d147 1
a147 4
bfd *_bfd_new_bfd_contained_in
  PARAMS ((bfd *));
const bfd_target *_bfd_dummy_target
  PARAMS ((bfd *abfd));
d149 2
a150 17
void bfd_dont_truncate_arname
  PARAMS ((bfd *abfd, const char *filename, char *hdr));
void bfd_bsd_truncate_arname
  PARAMS ((bfd *abfd, const char *filename, char *hdr));
void bfd_gnu_truncate_arname
  PARAMS ((bfd *abfd, const char *filename, char *hdr));

bfd_boolean bsd_write_armap
  PARAMS ((bfd *arch, unsigned int elength, struct orl *map,
	   unsigned int orl_count, int stridx));

bfd_boolean coff_write_armap
  PARAMS ((bfd *arch, unsigned int elength, struct orl *map,
	   unsigned int orl_count, int stridx));

extern PTR _bfd_generic_read_ar_hdr
  PARAMS ((bfd *));
d152 1
a152 8
extern PTR _bfd_generic_read_ar_hdr_mag
  PARAMS ((bfd *, const char *));

bfd * bfd_generic_openr_next_archived_file
  PARAMS ((bfd *archive, bfd *last_file));

int bfd_generic_stat_arch_elt
  PARAMS ((bfd *, struct stat *));
d163 5
a167 4
  ((bfd_boolean (*) PARAMS ((bfd *, asection *))) bfd_true)
extern bfd_boolean _bfd_generic_get_section_contents
  PARAMS ((bfd *, asection *, PTR, file_ptr, bfd_size_type));
extern bfd_boolean _bfd_generic_get_section_contents_in_window
d174 1
a174 1
  ((bfd_boolean (*) PARAMS ((bfd *, bfd *))) bfd_true)
d176 1
a176 1
  ((bfd_boolean (*) PARAMS ((bfd *, bfd *))) bfd_true)
d178 1
a178 1
  ((bfd_boolean (*) PARAMS ((bfd *, flagword))) bfd_true)
d180 1
a180 1
  ((bfd_boolean (*) PARAMS ((bfd *, asection *, bfd *, asection *))) bfd_true)
d182 1
a182 1
  ((bfd_boolean (*) PARAMS ((bfd *, asymbol *, bfd *, asymbol *))) bfd_true)
d184 1
a184 1
  ((bfd_boolean (*) PARAMS ((bfd *, PTR))) bfd_true)
d189 3
a191 5
extern char *_bfd_nocore_core_file_failing_command
  PARAMS ((bfd *));
extern int _bfd_nocore_core_file_failing_signal
  PARAMS ((bfd *));
extern bfd_boolean _bfd_nocore_core_file_matches_executable_p
d200 1
a200 2
  ((bfd_boolean (*) \
    PARAMS ((bfd *, char **, bfd_size_type *, const char **))) \
d205 1
a205 1
  ((bfd_boolean (*) \
d222 1
a222 1
extern bfd_boolean _bfd_archive_bsd_construct_extended_name_table
d232 1
a232 2
extern bfd_boolean _bfd_archive_bsd_update_armap_timestamp
  PARAMS ((bfd *));
d240 1
a240 1
extern bfd_boolean _bfd_archive_coff_construct_extended_name_table
d258 2
a259 1
#define _bfd_nosymbols_make_empty_symbol _bfd_generic_make_empty_symbol
d265 1
a265 1
  ((bfd_boolean (*) PARAMS ((bfd *, const char *))) bfd_false)
d269 1
a269 1
  ((bfd_boolean (*) \
d276 1
a276 1
  ((long (*) PARAMS ((bfd *, bfd_boolean, PTR *, unsigned int *))) _bfd_n1)
d278 1
a278 1
  ((asymbol *(*) PARAMS ((bfd *, bfd_boolean, const PTR, asymbol *))) \
d296 1
a296 1
  ((bfd_boolean (*) PARAMS ((bfd *, enum bfd_architecture, unsigned long))) \
d299 1
a299 2
  ((bfd_boolean (*) \
   PARAMS ((bfd *, asection *, PTR, file_ptr, bfd_size_type))) \
d306 1
a306 1
extern bfd_boolean _bfd_generic_set_section_contents
d312 1
a312 1
#define _bfd_nolink_sizeof_headers ((int (*) PARAMS ((bfd *, bfd_boolean))) bfd_0)
d316 1
a316 1
	     bfd_byte *, bfd_boolean, asymbol **))) \
d319 2
a320 2
  ((bfd_boolean (*) \
    PARAMS ((bfd *, asection *, struct bfd_link_info *, bfd_boolean *))) \
d323 1
a323 5
  ((bfd_boolean (*) \
    PARAMS ((bfd *, struct bfd_link_info *))) \
   bfd_false)
#define _bfd_nolink_bfd_merge_sections \
  ((bfd_boolean (*) \
a325 4
#define _bfd_nolink_bfd_discard_group \
  ((bfd_boolean (*) \
    PARAMS ((bfd *, struct sec *))) \
   bfd_false)
a327 2
#define _bfd_nolink_bfd_link_hash_table_free \
  ((void (*) PARAMS ((struct bfd_link_hash_table *))) bfd_void)
d329 1
a329 3
  ((bfd_boolean (*) PARAMS ((bfd *, struct bfd_link_info *))) bfd_false)
#define _bfd_nolink_bfd_link_just_syms \
  ((void (*) PARAMS ((asection *, struct bfd_link_info *))) bfd_void)
d331 1
a331 1
  ((bfd_boolean (*) PARAMS ((bfd *, struct bfd_link_info *))) bfd_false)
d333 1
a333 1
  ((bfd_boolean (*) PARAMS ((bfd *, struct sec *))) bfd_false)
d348 1
a348 2
extern bfd_boolean bfd_generic_is_local_label_name
  PARAMS ((bfd *, const char *));
d352 1
a352 1
  PARAMS ((bfd *, bfd_boolean, PTR *, unsigned int *));
d354 1
a354 1
  PARAMS ((bfd *, bfd_boolean, const PTR, asymbol *));
d357 3
a359 3
extern bfd_boolean _bfd_stab_section_find_nearest_line
  PARAMS ((bfd *, asymbol **, asection *, bfd_vma, bfd_boolean *,
	   const char **, const char **, unsigned int *, PTR *));
d362 1
a362 1
extern bfd_boolean _bfd_dwarf1_find_nearest_line
d367 1
a367 1
extern bfd_boolean _bfd_dwarf2_find_nearest_line
a371 4
/* Create a new section entry.  */
extern struct bfd_hash_entry *bfd_section_hash_newfunc
  PARAMS ((struct bfd_hash_entry *, struct bfd_hash_table *, const char *));

d379 1
a379 1
extern bfd_boolean _bfd_link_hash_table_init
a388 4
/* Generic link hash table destruction routine.  */
extern void _bfd_generic_link_hash_table_free
  PARAMS ((struct bfd_link_hash_table *));

d390 1
a390 1
extern bfd_boolean _bfd_generic_link_add_symbols
d396 1
a396 1
extern bfd_boolean _bfd_generic_link_add_symbols_collect
d400 1
a400 1
extern bfd_boolean _bfd_generic_link_add_archive_symbols
d402 3
a404 1
	   bfd_boolean (*) (bfd *, struct bfd_link_info *, bfd_boolean *)));
d410 1
a410 1
extern bfd_boolean _bfd_generic_link_add_one_symbol
d412 2
a413 6
	   asection *, bfd_vma, const char *, bfd_boolean copy,
	   bfd_boolean constructor, struct bfd_link_hash_entry **));

/* Generic routine to mark section as supplying symbols only.  */
extern void _bfd_generic_link_just_syms
  PARAMS ((asection *, struct bfd_link_info *));
d416 1
a416 1
extern bfd_boolean _bfd_generic_final_link
d419 1
a419 1
extern bfd_boolean _bfd_generic_link_split_section
d423 1
a423 1
extern bfd_boolean _bfd_generic_reloc_link_order
d428 1
a428 1
extern bfd_boolean _bfd_default_link_order
d439 1
a439 1
	   bfd_vma, bfd_vma, bfd_vma));
d447 1
a447 1
extern bfd_boolean _bfd_link_section_stabs
a449 5
/* Eliminate stabs for discarded functions and symbols.  */
extern bfd_boolean _bfd_discard_section_stabs
  PARAMS ((bfd *, asection *, PTR,
	   bfd_boolean (*) (bfd_vma, PTR), PTR));

d452 1
a452 1
extern bfd_boolean _bfd_write_section_stabs
d457 1
a457 2
extern bfd_boolean _bfd_write_stab_strings
  PARAMS ((bfd *, PTR *));
a464 20
/* Attempt to merge a SEC_MERGE section.  */

extern bfd_boolean _bfd_merge_section
  PARAMS ((bfd *, PTR *, asection *, PTR *));

/* Attempt to merge SEC_MERGE sections.  */

extern bfd_boolean _bfd_merge_sections
  PARAMS ((bfd *, PTR, void (*)(bfd *, asection *)));

/* Write out a merged section.  */

extern bfd_boolean _bfd_write_merged_section
  PARAMS ((bfd *, asection *, PTR));

/* Find an offset within a modified SEC_MERGE section.  */

extern bfd_vma _bfd_merged_section_offset
  PARAMS ((bfd *, asection **, PTR, bfd_vma, bfd_vma));

d466 1
a466 2
extern struct bfd_strtab_hash *_bfd_stringtab_init
  PARAMS ((void));
d469 1
a469 2
extern struct bfd_strtab_hash *_bfd_xcoff_stringtab_init
  PARAMS ((void));
d472 1
a472 2
extern void _bfd_stringtab_free
  PARAMS ((struct bfd_strtab_hash *));
d475 1
a475 2
extern bfd_size_type _bfd_stringtab_size
  PARAMS ((struct bfd_strtab_hash *));
d479 2
a480 2
  PARAMS ((struct bfd_strtab_hash *, const char *, bfd_boolean hash,
	   bfd_boolean copy));
d483 1
a483 2
extern bfd_boolean _bfd_stringtab_emit
  PARAMS ((bfd *, struct bfd_strtab_hash *));
d486 1
a486 2
extern bfd_boolean _bfd_generic_verify_endian_match
  PARAMS ((bfd *, bfd *));
d500 1
a500 2
void bfd_assert
  PARAMS ((const char*,int));
d508 2
a509 2
extern void _bfd_abort
  PARAMS ((const char *, int, const char *)) ATTRIBUTE_NORETURN;
d519 1
a519 2
FILE *	bfd_cache_lookup_worker
  PARAMS ((bfd *));
a527 3
/* List of associated target vectors.  */
extern const bfd_target * const *bfd_associated_vector;

d535 1
a535 1
extern bfd_boolean _bfd_ecoff_locate_line
d539 3
a541 6
extern bfd_boolean _bfd_ecoff_get_accumulated_pdr
  PARAMS ((PTR, bfd_byte *));
extern bfd_boolean _bfd_ecoff_get_accumulated_sym
  PARAMS ((PTR, bfd_byte *));
extern bfd_boolean _bfd_ecoff_get_accumulated_ss
  PARAMS ((PTR, bfd_byte *));
d543 2
a544 4
extern bfd_vma _bfd_get_gp_value
  PARAMS ((bfd *));
extern void _bfd_set_gp_value
  PARAMS ((bfd *, bfd_vma));
d549 1
a549 1
extern bfd_boolean _bfd_sh_align_load_span
d551 4
a554 2
	   bfd_boolean (*) (bfd *, asection *, PTR, bfd_byte *, bfd_vma),
	   PTR, bfd_vma **, bfd_vma *, bfd_vma, bfd_vma, bfd_boolean *));
@


1.1.1.8
log
@Binutils 2.15, with testsuites removed, and without gdb and libiberty.
@
text
@d3 3
a5 4

   Copyright 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998,
   1999, 2000, 2001, 2002, 2003, 2004 Free Software Foundation, Inc.

d39 1
a39 1
#define set_tdata(bfd, v) ((bfd)->tdata.any = (v))
d72 1
a72 1
  void *tdata;			/* Backend specific information.  */
d86 6
a91 6
extern void *bfd_malloc
  (bfd_size_type);
extern void *bfd_realloc
  (void *, bfd_size_type);
extern void *bfd_zmalloc
  (bfd_size_type);
d97 4
a100 4
extern void *bfd_alloc
  (bfd *, bfd_size_type);
extern void *bfd_zalloc
  (bfd *, bfd_size_type);
d102 1
a102 1
  (bfd *, void *);
d105 1
a105 1
  (bfd *obfd);
d107 1
a107 1
  (bfd *, file_ptr);
d109 1
a109 1
  (bfd *, file_ptr, bfd *);
d111 1
a111 1
  (bfd *abfd);
d113 1
a113 1
  (bfd *abfd);
d115 1
a115 1
  (bfd *abfd);
d117 1
a117 1
  (bfd *abfd);
d121 1
a121 1
  (bfd *abfd);
d123 1
a123 1
  (bfd *, bfd_boolean, char **, bfd_size_type *);
d125 1
a125 1
  (bfd *abfd);
d127 1
a127 1
  (bfd *, unsigned int elength);
d129 1
a129 1
  (bfd *archive, file_ptr filepos);
d131 1
a131 1
  (bfd *, symindex);
d133 1
a133 1
  (void);
d135 1
a135 1
  (bfd *);
d138 1
a138 1
  (bfd *ignore);
d140 3
a142 3
  (bfd *ignore);
void *bfd_nullvoidptr
  (bfd *ignore);
d144 1
a144 1
  (bfd *ignore);
d146 1
a146 1
  (bfd *ignore);
d148 1
a148 1
  (bfd *ignore);
d150 1
a150 1
  (bfd *ignore);
d152 1
a152 1
  (bfd *ignore);
d155 1
a155 1
  (bfd *);
d157 1
a157 1
  (bfd *abfd);
d160 1
a160 1
  (bfd *abfd, const char *filename, char *hdr);
d162 1
a162 1
  (bfd *abfd, const char *filename, char *hdr);
d164 1
a164 1
  (bfd *abfd, const char *filename, char *hdr);
d167 2
a168 2
  (bfd *arch, unsigned int elength, struct orl *map, unsigned int orl_count,
   int stridx);
d171 2
a172 2
  (bfd *arch, unsigned int elength, struct orl *map, unsigned int orl_count,
   int stridx);
d174 2
a175 2
extern void *_bfd_generic_read_ar_hdr
  (bfd *);
d177 2
a178 2
extern void *_bfd_generic_read_ar_hdr_mag
  (bfd *, const char *);
d181 1
a181 1
  (bfd *archive, bfd *last_file);
d184 1
a184 1
  (bfd *, struct stat *);
d195 1
a195 1
  ((bfd_boolean (*) (bfd *, asection *)) bfd_true)
d197 1
a197 1
  (bfd *, asection *, void *, file_ptr, bfd_size_type);
d199 1
a199 1
  (bfd *, asection *, bfd_window *, file_ptr, bfd_size_type);
d205 1
a205 1
  ((bfd_boolean (*) (bfd *, bfd *)) bfd_true)
d207 1
a207 1
  ((bfd_boolean (*) (bfd *, bfd *)) bfd_true)
d209 1
a209 1
  ((bfd_boolean (*) (bfd *, flagword)) bfd_true)
d211 1
a211 1
  ((bfd_boolean (*) (bfd *, asection *, bfd *, asection *)) bfd_true)
d213 1
a213 1
  ((bfd_boolean (*) (bfd *, asymbol *, bfd *, asymbol *)) bfd_true)
d215 1
a215 1
  ((bfd_boolean (*) (bfd *, void *)) bfd_true)
d221 1
a221 1
  (bfd *);
d223 1
a223 1
  (bfd *);
d225 1
a225 1
  (bfd *, bfd *);
d233 2
a234 1
  ((bfd_boolean (*) (bfd *, char **, bfd_size_type *, const char **)) \
d237 1
a237 1
  ((void (*) (bfd *, const char *, char *)) bfd_void)
d239 2
a240 1
  ((bfd_boolean (*) (bfd *, unsigned int, struct orl *, unsigned int, int)) \
d244 1
a244 1
  ((bfd *(*) (bfd *, bfd *)) bfd_nullvoidptr)
d246 1
a246 1
  ((bfd *(*) (bfd *, symindex)) bfd_nullvoidptr)
d257 1
a257 1
  (bfd *, char **, bfd_size_type *, const char **);
d267 1
a267 1
  (bfd *);
d276 1
a276 1
  (bfd *, char **, bfd_size_type *, const char **);
d291 2
a292 2
#define _bfd_nosymbols_canonicalize_symtab \
  ((long (*) (bfd *, asymbol **)) _bfd_n1)
d295 1
a295 1
  ((void (*) (bfd *, void *, asymbol *, bfd_print_symbol_type)) bfd_void)
d297 1
a297 1
  ((void (*) (bfd *, asymbol *, symbol_info *)) bfd_void)
d299 1
a299 1
  ((bfd_boolean (*) (bfd *, const char *)) bfd_false)
d301 1
a301 1
  ((alent *(*) (bfd *, asymbol *)) bfd_nullvoidptr)
d303 3
a305 2
  ((bfd_boolean (*) (bfd *, asection *, asymbol **, bfd_vma, const char **, \
		     const char **, unsigned int *)) \
d308 1
a308 1
  ((asymbol *(*) (bfd *, void *, unsigned long)) bfd_nullvoidptr)
d310 1
a310 1
  ((long (*) (bfd *, bfd_boolean, void **, unsigned int *)) _bfd_n1)
d312 1
a312 1
  ((asymbol *(*) (bfd *, bfd_boolean, const void *, asymbol *)) \
d319 1
a319 1
  ((long (*) (bfd *, asection *)) _bfd_n1)
d321 1
a321 1
  ((long (*) (bfd *, asection *, arelent **, asymbol **)) _bfd_n1)
d323 2
a324 1
  ((reloc_howto_type *(*) (bfd *, bfd_reloc_code_real_type)) bfd_nullvoidptr)
d330 1
a330 1
  ((bfd_boolean (*) (bfd *, enum bfd_architecture, unsigned long)) \
d333 2
a334 1
  ((bfd_boolean (*) (bfd *, asection *, const void *, file_ptr, bfd_size_type)) \
d342 1
a342 1
  (bfd *, asection *, const void *, file_ptr, bfd_size_type);
d347 1
a347 1
#define _bfd_nolink_sizeof_headers ((int (*) (bfd *, bfd_boolean)) bfd_0)
d349 3
a351 2
  ((bfd_byte *(*) (bfd *, struct bfd_link_info *, struct bfd_link_order *, \
		   bfd_byte *, bfd_boolean, asymbol **)) \
d355 1
a355 1
    (bfd *, asection *, struct bfd_link_info *, bfd_boolean *)) \
d358 2
a359 1
  ((bfd_boolean (*) (bfd *, struct bfd_link_info *)) \
d362 2
a363 1
  ((bfd_boolean (*) (bfd *, struct bfd_link_info *)) \
d366 2
a367 1
  ((bfd_boolean (*) (bfd *, struct bfd_section *)) \
d370 1
a370 1
  ((struct bfd_link_hash_table *(*) (bfd *)) bfd_nullvoidptr)
d372 1
a372 1
  ((void (*) (struct bfd_link_hash_table *)) bfd_void)
d374 1
a374 1
  ((bfd_boolean (*) (bfd *, struct bfd_link_info *)) bfd_false)
d376 1
a376 1
  ((void (*) (asection *, struct bfd_link_info *)) bfd_void)
d378 1
a378 1
  ((bfd_boolean (*) (bfd *, struct bfd_link_info *)) bfd_false)
d380 1
a380 1
  ((bfd_boolean (*) (bfd *, struct bfd_section *)) bfd_false)
d388 1
a388 1
  ((long (*) (bfd *, asymbol **)) _bfd_n1)
d391 1
a391 1
  ((long (*) (bfd *, arelent **, asymbol **)) _bfd_n1)
d396 1
a396 1
  (bfd *, const char *);
d400 1
a400 1
  (bfd *, bfd_boolean, void **, unsigned int *);
d402 1
a402 1
  (bfd *, bfd_boolean, const void *, asymbol *);
d406 2
a407 2
  (bfd *, asymbol **, asection *, bfd_vma, bfd_boolean *,
   const char **, const char **, unsigned int *, void **);
d411 2
a412 2
  (bfd *, asection *, asymbol **, bfd_vma, const char **,
   const char **, unsigned int *);
d416 3
a418 2
  (bfd *, asection *, asymbol **, bfd_vma, const char **, const char **,
   unsigned int *, unsigned int, void **);
d422 1
a422 1
  (struct bfd_hash_entry *, struct bfd_hash_table *, const char *);
d426 3
a428 2
  (struct bfd_hash_entry *entry, struct bfd_hash_table *table,
   const char *string);
d432 4
a435 4
  (struct bfd_link_hash_table *, bfd *,
   struct bfd_hash_entry *(*) (struct bfd_hash_entry *,
			       struct bfd_hash_table *,
			       const char *));
d439 1
a439 1
  (bfd *);
d443 1
a443 1
  (struct bfd_link_hash_table *);
d447 1
a447 1
  (bfd *, struct bfd_link_info *);
d453 1
a453 1
  (bfd *, struct bfd_link_info *);
d457 2
a458 2
  (bfd *, struct bfd_link_info *,
   bfd_boolean (*) (bfd *, struct bfd_link_info *, bfd_boolean *));
d465 3
a467 3
  (struct bfd_link_info *, bfd *, const char *name, flagword,
   asection *, bfd_vma, const char *, bfd_boolean copy,
   bfd_boolean constructor, struct bfd_link_hash_entry **);
d471 1
a471 1
  (asection *, struct bfd_link_info *);
d475 1
a475 1
  (bfd *, struct bfd_link_info *);
d478 1
a478 1
  (bfd *, struct bfd_section *);
d482 2
a483 1
  (bfd *, struct bfd_link_info *, asection *, struct bfd_link_order *);
d487 2
a488 1
  (bfd *, struct bfd_link_info *, asection *, struct bfd_link_order *);
d492 1
a492 1
  (struct bfd_link_order *);
d496 2
a497 2
  (reloc_howto_type *, bfd *, asection *, bfd_byte *,
   bfd_vma, bfd_vma, bfd_vma);
d501 1
a501 1
  (reloc_howto_type *, bfd *, bfd_vma, bfd_byte *);
d506 1
a506 1
  (bfd *, void **, asection *, asection *, void **, bfd_size_type *);
d510 2
a511 1
  (bfd *, asection *, void *, bfd_boolean (*) (bfd_vma, void *), void *);
d516 1
a516 1
  (bfd *, void **, asection *, void **, bfd_byte *);
d521 1
a521 1
  (bfd *, void **);
d527 1
a527 1
  (bfd *, void **, asection *, void **, bfd_vma);
d532 1
a532 1
  (bfd *, void **, asection *, void **);
d537 1
a537 1
  (bfd *, void *, void (*) (bfd *, asection *));
d542 1
a542 1
  (bfd *, asection *, void *);
d547 1
a547 1
  (bfd *, asection **, void *, bfd_vma, bfd_vma);
d551 1
a551 1
  (void);
d555 1
a555 1
  (void);
d559 1
a559 1
  (struct bfd_strtab_hash *);
d563 1
a563 1
  (struct bfd_strtab_hash *);
d567 2
a568 1
  (struct bfd_strtab_hash *, const char *, bfd_boolean hash, bfd_boolean copy);
d572 1
a572 1
  (bfd *, struct bfd_strtab_hash *);
d576 1
a576 1
  (bfd *, bfd *);
d587 2
a588 4
#define	bfd_read_p(abfd) \
  ((abfd)->direction == read_direction || (abfd)->direction == both_direction)
#define	bfd_write_p(abfd) \
  ((abfd)->direction == write_direction || (abfd)->direction == both_direction)
d591 1
a591 1
  (const char*,int);
d594 1
a594 1
  { if (!(x)) bfd_assert(__FILE__,__LINE__); }
d597 1
a597 1
  { bfd_assert(__FILE__,__LINE__); }
d600 1
a600 1
  (const char *, int, const char *) ATTRIBUTE_NORETURN;
a609 5
/* Manipulate a system FILE but using BFD's "file_ptr", rather than
   the system "off_t" or "off64_t", as the offset.  */
extern file_ptr real_ftell (FILE *file);
extern int real_fseek (FILE *file, file_ptr offset, int whence);

d611 1
a611 1
  (bfd *);
d631 3
a633 3
  (bfd *, asection *, bfd_vma, struct ecoff_debug_info * const,
   const struct ecoff_debug_swap * const, struct ecoff_find_line *,
   const char **, const char **, unsigned int *);
d635 1
a635 1
  (void *, bfd_byte *);
d637 1
a637 1
  (void *, bfd_byte *);
d639 1
a639 1
  (void *, bfd_byte *);
d642 1
a642 1
  (bfd *);
d644 1
a644 1
  (bfd *, bfd_vma);
a648 1
#ifndef _bfd_sh_align_load_span
d650 4
a653 4
  (bfd *, asection *, bfd_byte *,
   bfd_boolean (*) (bfd *, asection *, void *, bfd_byte *, bfd_vma),
   void *, bfd_vma **, bfd_vma *, bfd_vma, bfd_vma, bfd_boolean *);
#endif
@


