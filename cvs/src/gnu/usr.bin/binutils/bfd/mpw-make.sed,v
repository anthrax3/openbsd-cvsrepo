head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.86
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.82
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.78
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.80
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.72
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.76
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.74
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.70
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.68
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.66
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.64
	OPENBSD_5_0:1.4.0.62
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.60
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.58
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.54
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.56
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.52
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.50
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.48
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.46
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.44
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.42
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.40
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.38
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.36
	OPENBSD_3_7_BASE:1.4
	BINUTILS_2_15:1.1.1.4
	OPENBSD_3_6:1.4.0.34
	OPENBSD_3_6_BASE:1.4
	BINUTILS-2_14:1.1.1.4
	OPENBSD_3_5:1.4.0.32
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.4.0.30
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.28
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.26
	OPENBSD_3_2_BASE:1.4
	binutils-2_11_2:1.1.1.4
	OPENBSD_3_1:1.4.0.24
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.22
	OPENBSD_3_0_BASE:1.4
	BINUTILS-2_10_1:1.1.1.4
	OPENBSD_2_9:1.4.0.20
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.18
	OPENBSD_2_8_BASE:1.4
	BINUTILS-2_10:1.1.1.4
	OPENBSD_2_7:1.4.0.16
	OPENBSD_2_7_BASE:1.4
	new-binutils:1.4.0.14
	OPENBSD_2_6:1.4.0.12
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.10
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.8
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.4.0.6
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.4
	OPENBSD_2_2_BASE:1.4
	BINUTILS-2_8_1:1.1.1.4
	OPENBSD_2_1:1.4.0.2
	OPENBSD_2_1_BASE:1.4
	CYGNUS-961112:1.1.1.4
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	CYGNUS-960904:1.1.1.3
	CYGNUS-960609:1.1.1.2
	CYGNUS-960607:1.1.1.2
	CYGNUS:1.1.1
	FSF_2_6:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@# @;


1.4
date	96.11.23.03.33.21;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	96.09.04.19.01.26;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	96.06.10.10.46.19;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	96.01.08.11.05.02;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.01.08.11.05.02;	author niklas;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	96.06.07.11.06.10;	author niklas;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	96.09.04.17.38.27;	author niklas;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	96.11.19.14.12.52;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Merge to Cygnus 961112 + add some support (not ready) for shared libs
@
text
@# Sed commands to finish translating the Unix BFD Makefile into MPW syntax.

# Whack out unused host and target define bits.
/HDEFINES/s/@@HDEFINES@@//
/TDEFINES/s/@@TDEFINES@@//

# Fix pathnames to include directories.
/^INCDIR = /s/^INCDIR = .*$/INCDIR = "{topsrcdir}"include/
/^CSEARCH = /s/$/ -i "{INCDIR}":mpw: -i ::extra-include:/

# Comment out setting of vars, configure script will add these itself.
/^WORDSIZE =/s/^/#/
# /^ALL_BACKENDS/s/^/#/
/^BFD_BACKENDS/s/^/#/
/^BFD_MACHINES/s/^/#/
/^TDEFAULTS/s/^/#/

# Remove extra, useless, "all".
/^all \\Option-f _oldest/,/^$/d

# Remove the Makefile rebuild rule.
/^Makefile /,/--recheck/d

# Don't do any recursive subdir stuff.
/ subdir_do/s/{MAKE}/null-command/

/BFD_H/s/^{BFD_H}/#{BFD_H}/

# Add explicit srcdir paths to special files.
/config.bfd/s/ config.bfd/ "{s}"config.bfd/g
/targmatch.sed/s/ targmatch.sed/ "{s}"targmatch.sed/g

# Point at include files that are always in the objdir.
/bfd/s/"{s}"bfd\.h/"{o}"bfd.h/g
/config/s/"{s}"config\.h/"{o}"config.h/g
/targmatch/s/"{s}"targmatch\.h/"{o}"targmatch.h/g
/targmatch/s/^targmatch\.h/"{o}"targmatch.h/
/elf32-target/s/"{s}"elf32-target\.h/"{o}"elf32-target.h/g
/elf32-target/s/^elf32-target\.h/"{o}"elf32-target.h/
/elf64-target/s/"{s}"elf64-target\.h/"{o}"elf64-target.h/g
/elf64-target/s/^elf64-target\.h/"{o}"elf64-target.h/

/"{s}"{INCDIR}/s/"{s}"{INCDIR}/"{INCDIR}"/g

/dep/s/\.dep/__dep/g

# Removing duplicates is cool but presently unnecessary,
# so whack this out.
/^ofiles \\Option-f/,/^$/d
/ofiles/s/{OFILES} ofiles/{OFILES}/
/echo ofiles = /d
/cat ofiles/s/`cat ofiles`/{OFILES}/

# No corefile support.
/COREFILE/s/@@COREFILE@@//
/COREFLAG/s/@@COREFLAG@@//

# No PIC foolery in this environment.
/@@ALLLIBS@@/s/@@ALLLIBS@@/{TARGETLIB}/
/@@PICLIST@@/s/@@PICLIST@@//
/@@PICFLAG@@/s/@@PICFLAG@@//
/^{OFILES} \\Option-f stamp-picdir/,/^$/d

# Remove the pic trickery from the default build rule.
/^\.c\.o \\Option-f /,/End If/c\
.c.o \\Option-f .c

# MPW Make doesn't know about $<.
/"{o}"targets.c.o \\Option-f "{s}"targets.c Makefile/,/^$/c\
"{o}"targets.c.o \\Option-f "{s}"targets.c Makefile\
	{CC} @@DASH_C_FLAG@@ {ALL_CFLAGS} {TDEFAULTS} "{s}"targets.c -o "{o}"targets.c.o

/"{o}"archures.c.o \\Option-f "{s}"archures.c Makefile/,/^$/c\
"{o}"archures.c.o \\Option-f "{s}"archures.c Makefile\
	{CC} @@DASH_C_FLAG@@ {ALL_CFLAGS} {TDEFAULTS} "{s}"archures.c -o "{o}"archures.c.o

# Remove the .h rebuilding rules, we don't currently have a doc subdir,
# or a way to build the prototype-hacking tool that's in it.
/^"{srcdir}"bfd-in2.h \\Option-f /,/^$/d
/^"{srcdir}"libbfd.h \\Option-f /,/^$/d
/^"{srcdir}"libcoff.h \\Option-f /,/^$/d
@


1.3
log
@Merge the Cygnus 960904 sources
@
text
@d29 4
d36 2
@


1.2
log
@Bring Cygnus versions into the trunk, keeping our local patches
@
text
@d7 10
a16 7
/INCDIR=/s/"{srcdir}":/"{topsrcdir}"/
/^CSEARCH = .*$/s/$/ -i "{INCDIR}":mpw: -i ::extra-include:/

/WORDSIZE/s/^WORDSIZE = /#WORDSIZE = /
/BFD_MACHINES/s/^BFD_MACHINES = /#BFD_MACHINES = /
/BFD_BACKENDS/s/^BFD_BACKENDS = /#BFD_BACKENDS = /
/TDEFAULTS/s/^TDEFAULTS = /#TDEFAULTS = /
d33 1
d35 1
d65 1
a65 1
	{CC} {ALL_CFLAGS} {TDEFAULTS} "{s}"targets.c -o "{o}"targets.c.o
d69 1
a69 1
	{CC} {ALL_CFLAGS} {TDEFAULTS} "{s}"archures.c -o "{o}"archures.c.o
@


1.1
log
@Initial revision
@
text
@d47 10
d66 5
@


1.1.1.1
log
@Initial GNU binutils 2.6 import
@
text
@@


1.1.1.2
log
@(Correct) Import of Cygnus binutils snapshot taken 960607
@
text
@a46 10
# No PIC foolery in this environment.
/@@ALLLIBS@@/s/@@ALLLIBS@@/{TARGETLIB}/
/@@PICLIST@@/s/@@PICLIST@@//
/@@PICFLAG@@/s/@@PICFLAG@@//
/^{OFILES} \\Option-f stamp-picdir/,/^$/d

# Remove the pic trickery from the default build rule.
/^\.c\.o \\Option-f /,/End If/c\
.c.o \\Option-f .c

a55 5
# Remove the .h rebuilding rules, we don't currently have a doc subdir,
# or a way to build the prototype-hacking tool that's in it.
/^"{srcdir}"bfd-in2.h \\Option-f /,/^$/d
/^"{srcdir}"libbfd.h \\Option-f /,/^$/d
/^"{srcdir}"libcoff.h \\Option-f /,/^$/d
@


1.1.1.3
log
@Import of binutils, gas, ld & gprof from Cygnus 960904 tree
@
text
@d7 7
a13 10
# Fix pathnames to include directories.
/^INCDIR = /s/^INCDIR = .*$/INCDIR = "{topsrcdir}"include/
/^CSEARCH = /s/$/ -i "{INCDIR}":mpw: -i ::extra-include:/

# Comment out setting of vars, configure script will add these itself.
/^WORDSIZE =/s/^/#/
# /^ALL_BACKENDS/s/^/#/
/^BFD_BACKENDS/s/^/#/
/^BFD_MACHINES/s/^/#/
/^TDEFAULTS/s/^/#/
a29 1
/elf32-target/s/^elf32-target\.h/"{o}"elf32-target.h/
a30 1
/elf64-target/s/^elf64-target\.h/"{o}"elf64-target.h/
d60 1
a60 1
	{CC} @@DASH_C_FLAG@@ {ALL_CFLAGS} {TDEFAULTS} "{s}"targets.c -o "{o}"targets.c.o
d64 1
a64 1
	{CC} @@DASH_C_FLAG@@ {ALL_CFLAGS} {TDEFAULTS} "{s}"archures.c -o "{o}"archures.c.o
@


1.1.1.4
log
@Import of 961112 Cygnus binutils+gas+ld+gdb+gprof
@
text
@a28 4
# Add explicit srcdir paths to special files.
/config.bfd/s/ config.bfd/ "{s}"config.bfd/g
/targmatch.sed/s/ targmatch.sed/ "{s}"targmatch.sed/g

a31 2
/targmatch/s/"{s}"targmatch\.h/"{o}"targmatch.h/g
/targmatch/s/^targmatch\.h/"{o}"targmatch.h/
@
