head	1.4;
access;
symbols
	OPENBSD_3_5:1.3.0.8
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.6
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.4
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3
	binutils-2_11_2:1.1.1.3
	OPENBSD_3_1:1.2.0.8
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.6
	OPENBSD_3_0_BASE:1.2
	BINUTILS-2_10_1:1.1.1.2
	OPENBSD_2_9:1.2.0.4
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.2
	OPENBSD_2_8_BASE:1.2
	BINUTILS-2_10:1.1.1.2
	OPENBSD_2_7:1.1.0.18
	OPENBSD_2_7_BASE:1.1
	new-binutils:1.1.0.16
	OPENBSD_2_6:1.1.0.14
	OPENBSD_2_6_BASE:1.1
	OPENBSD_2_5:1.1.0.12
	OPENBSD_2_5_BASE:1.1
	OPENBSD_2_4:1.1.0.10
	OPENBSD_2_4_BASE:1.1
	OPENBSD_2_3:1.1.0.8
	OPENBSD_2_3_BASE:1.1
	OPENBSD_2_2:1.1.0.6
	OPENBSD_2_2_BASE:1.1
	BINUTILS-2_8_1:1.1.1.1
	OPENBSD_2_1:1.1.0.4
	OPENBSD_2_1_BASE:1.1
	CYGNUS-961112:1.1.1.1
	OPENBSD_2_0:1.1.0.2
	OPENBSD_2_0_BASE:1.1
	CYGNUS-960904:1.1.1.1
	CYGNUS-960609:1.1.1.1
	CYGNUS:1.1.1
	FSF_2_6:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2004.05.17.21.54.37;	author drahn;	state dead;
branches;
next	1.3;

1.3
date	2002.05.13.17.07.38;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	2000.09.12.19.12.06;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	96.01.08.11.06.57;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.01.08.11.06.57;	author niklas;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2000.09.12.14.46.54;	author espie;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2002.05.13.13.40.26;	author fgsch;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Resolve merge conflicts, adjust method of W^X handing (.sh files)
remove testsuites (not useable) remove mmalloc (not part of new binutils).
@
text
@	.IMPORT $global$,DATA
	.IMPORT $$dyncall,MILLICODE
; gcc_compiled.:
	.data

	.align 4
tab___2:
	.word L$0002
	.word L$0003
	.word L$0004
	.code

	.align 4
	.EXPORT execute,CODE
	.EXPORT execute,ENTRY,PRIV_LEV=3,ARGW0=GR,RTNVAL=GR
execute:
	.PROC
	.CALLINFO FRAME=0,NO_CALLS
	.ENTRY
	addil L'buf-$global$,%r27
	ldo R'buf-$global$(%r1),%r20
	ldil L'L$0002,%r19
	movb,<> %r26,%r26,L$0002
	ldo R'L$0002(%r19),%r22
	copy %r0,%r21
	addil L'tab___2-$global$,%r27
	ldo R'tab___2-$global$(%r1),%r23
	addil L'optab-$global$,%r27
	ldo R'optab-$global$(%r1),%r20
L$0009:
	sh2add %r21,%r23,%r19
	ldh 2(%r19),%r19
	ldo 1(%r21),%r21
	sub %r19,%r22,%r19
	comib,>= 2,%r21,L$0009
	sths,ma %r19,2(%r20)
	bv,n %r0(%r2)
L$0002:
	ldi 120,%r19
	stbs,ma %r19,1(%r20)
	ldhs,ma 2(%r26),%r19
	add %r22,%r19,%r19
	bv,n %r0(%r19)
L$0003:
	ldi 121,%r19
	stbs,ma %r19,1(%r20)
	ldhs,ma 2(%r26),%r19
	add %r22,%r19,%r19
	bv,n %r0(%r19)
L$0004:
	ldi 122,%r19
	stb %r19,0(%r20)
	bv %r0(%r2)
	stbs,mb %r0,1(%r20)
	.EXIT
	.PROCEND
	.IMPORT __main,CODE
	.IMPORT strcmp,CODE

	.align 4
L$C0000:
	.STRING "xyxyz\x00"
	.IMPORT abort,CODE
	.IMPORT exit,CODE
	.code

	.align 4
	.EXPORT main,CODE
	.EXPORT main,ENTRY,PRIV_LEV=3,RTNVAL=GR
main:
	.PROC
	.CALLINFO FRAME=128,CALLS,SAVE_RP
	.ENTRY
	stw %r2,-20(%r30)
	.CALL 
	bl __main,%r2
	ldo 128(%r30),%r30
	.CALL ARGW0=GR
	bl execute,%r2
	copy %r0,%r26
	addil L'optab-$global$,%r27
	copy %r1,%r19
	ldo R'optab-$global$(%r19),%r21
	ldh 2(%r21),%r20
	ldh R'optab-$global$(%r19),%r19
	addil L'p-$global$,%r27
	copy %r1,%r22
	sth %r20,R'p-$global$(%r22)
	ldo R'p-$global$(%r22),%r26
	sth %r20,4(%r26)
	sth %r19,2(%r26)
	ldh 4(%r21),%r19
	.CALL ARGW0=GR
	bl execute,%r2
	sth %r19,6(%r26)
	addil L'buf-$global$,%r27
	copy %r1,%r19
	ldo R'buf-$global$(%r19),%r26
	ldil L'L$C0000,%r25
	.CALL ARGW0=GR,ARGW1=GR
	bl strcmp,%r2
	ldo R'L$C0000(%r25),%r25
	comib,=,n 0,%r28,L$0011
	.CALL 
	bl abort,%r2
	nop
L$0011:
	.CALL ARGW0=GR
	bl exit,%r2
	copy %r0,%r26
	nop
	.EXIT
	.PROCEND
	.data

optab:	.comm 10
buf:	.comm 10
p:	.comm 10
@


1.3
log
@resolve conflicts.
@
text
@@


1.2
log
@Help stupid cvs fixing basic conflicts.
@
text
@d7 1
a7 1
tab___2
d16 1
a16 1
execute
d30 1
a30 1
L$0009
d38 1
a38 1
L$0002
d44 1
a44 1
L$0003
d50 1
a50 1
L$0004
d61 1
a61 1
L$C0000
d70 1
a70 1
main
d107 1
a107 1
L$0011
d116 3
a118 3
optab	.comm 10
buf	.comm 10
p	.comm 10
@


1.1
log
@Initial revision
@
text
@a0 6
	.SPACE $PRIVATE$
	.SUBSPA $DATA$,QUAD=1,ALIGN=8,ACCESS=31
	.SUBSPA $BSS$,QUAD=1,ALIGN=8,ACCESS=31,ZERO,SORT=82
	.SPACE $TEXT$
	.SUBSPA $LIT$,QUAD=0,ALIGN=8,ACCESS=44
	.SUBSPA $CODE$,QUAD=0,ALIGN=8,ACCESS=44,CODE_ONLY
d4 1
a4 2
	.SPACE $PRIVATE$
	.SUBSPA $DATA$
d11 1
a11 2
	.SPACE $TEXT$
	.SUBSPA $CODE$
d25 1
a25 1
	copy 0,%r21
d32 1
a32 1
	ldh 2(0,%r19),%r19
d36 2
a37 2
	sths,ma %r19,2(0,%r20)
	bv,n 0(%r2)
d40 2
a41 2
	stbs,ma %r19,1(0,%r20)
	ldhs,ma 2(0,%r26),%r19
d43 1
a43 1
	bv,n 0(%r19)
d46 2
a47 2
	stbs,ma %r19,1(0,%r20)
	ldhs,ma 2(0,%r26),%r19
d49 1
a49 1
	bv,n 0(%r19)
d52 3
a54 3
	stb %r19,0(0,%r20)
	bv 0(%r2)
	stbs,mb 0,1(0,%r20)
a58 2
	.SPACE $TEXT$
	.SUBSPA $LIT$
d65 1
a65 2
	.SPACE $TEXT$
	.SUBSPA $CODE$
d74 1
a74 1
	stw %r2,-20(0,%r30)
d80 1
a80 1
	copy 0,%r26
d84 1
a84 1
	ldh 2(0,%r21),%r20
d90 3
a92 3
	sth %r20,4(0,%r26)
	sth %r19,2(0,%r26)
	ldh 4(0,%r21),%r19
d95 1
a95 1
	sth %r19,6(0,%r26)
d110 1
a110 1
	copy 0,%r26
d114 1
a114 2
	.SPACE $PRIVATE$
	.SUBSPA $BSS$
@


1.1.1.1
log
@Initial GNU binutils 2.6 import
@
text
@@


1.1.1.2
log
@Import binutils-2.10
- only the binutils package (no gdb here)
- don't import libiberty and texinfo, they are elsewhere
- remove all .info* generated files
@
text
@d1 6
d10 2
a11 1
	.data
d18 2
a19 1
	.code
d33 1
a33 1
	copy %r0,%r21
d40 1
a40 1
	ldh 2(%r19),%r19
d44 2
a45 2
	sths,ma %r19,2(%r20)
	bv,n %r0(%r2)
d48 2
a49 2
	stbs,ma %r19,1(%r20)
	ldhs,ma 2(%r26),%r19
d51 1
a51 1
	bv,n %r0(%r19)
d54 2
a55 2
	stbs,ma %r19,1(%r20)
	ldhs,ma 2(%r26),%r19
d57 1
a57 1
	bv,n %r0(%r19)
d60 3
a62 3
	stb %r19,0(%r20)
	bv %r0(%r2)
	stbs,mb %r0,1(%r20)
d67 2
d75 2
a76 1
	.code
d85 1
a85 1
	stw %r2,-20(%r30)
d91 1
a91 1
	copy %r0,%r26
d95 1
a95 1
	ldh 2(%r21),%r20
d101 3
a103 3
	sth %r20,4(%r26)
	sth %r19,2(%r26)
	ldh 4(%r21),%r19
d106 1
a106 1
	sth %r19,6(%r26)
d121 1
a121 1
	copy %r0,%r26
d125 2
a126 1
	.data
@


1.1.1.3
log
@Import binutils-2.11.2
- only the binutils package (no gdb here)
- don't import libiberty and texinfo, they are elsewhere
- remove all .info* generated files
@
text
@d7 1
a7 1
tab___2:
d16 1
a16 1
execute:
d30 1
a30 1
L$0009:
d38 1
a38 1
L$0002:
d44 1
a44 1
L$0003:
d50 1
a50 1
L$0004:
d61 1
a61 1
L$C0000:
d70 1
a70 1
main:
d107 1
a107 1
L$0011:
d116 3
a118 3
optab:	.comm 10
buf:	.comm 10
p:	.comm 10
@


