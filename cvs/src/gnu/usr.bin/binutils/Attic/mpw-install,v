head	1.2;
access;
symbols
	OPENBSD_3_6:1.1.1.1.0.32
	OPENBSD_3_6_BASE:1.1.1.1
	BINUTILS-2_14:1.1.1.1
	OPENBSD_3_5:1.1.1.1.0.30
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.28
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.26
	OPENBSD_3_3_BASE:1.1.1.1
	OPENBSD_3_2:1.1.1.1.0.24
	OPENBSD_3_2_BASE:1.1.1.1
	binutils-2_11_2:1.1.1.1
	OPENBSD_3_1:1.1.1.1.0.22
	OPENBSD_3_1_BASE:1.1.1.1
	OPENBSD_3_0:1.1.1.1.0.20
	OPENBSD_3_0_BASE:1.1.1.1
	BINUTILS-2_10_1:1.1.1.1
	OPENBSD_2_9:1.1.1.1.0.18
	OPENBSD_2_9_BASE:1.1.1.1
	OPENBSD_2_8:1.1.1.1.0.16
	OPENBSD_2_8_BASE:1.1.1.1
	BINUTILS-2_10:1.1.1.1
	FSF:1.1.1
	OPENBSD_2_7:1.1.1.1.0.14
	OPENBSD_2_7_BASE:1.1.1.1
	new-binutils:1.1.1.1.0.12
	OPENBSD_2_6:1.1.1.1.0.10
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.8
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.6
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.4
	OPENBSD_2_3_BASE:1.1.1.1
	OPENBSD_2_2:1.1.1.1.0.2
	OPENBSD_2_2_BASE:1.1.1.1
	BINUTILS-2_8_1:1.1.1.1
	CYGNUS:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2004.11.02.20.59.23;	author miod;	state dead;
branches;
next	1.1;

1.1
date	97.05.29.09.15.18;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.05.29.09.15.18;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Merge glitches.
@
text
@# GNU Install script for MPW.

Set OldExit "{Exit}"
Set Exit 0

Set TempUserStartup "{TempFolder}"__temp__UserStartup

Echo '# UserStartup generated by GNU Install script' > "{TempUserStartup}"
Echo ''						>> "{TempUserStartup}"

# (should) Check that disk space is sufficient for installation.

# Assume that the install script is where everything else is.

Set thisdir "`Directory`"

# Copy the binaries to the desired place.

Confirm -t "Copy the binaries to somewhere else?"
Set TmpStatus {Status}
If {TmpStatus} == 0
	Set bindest "`GetFileName -d -m "Where to install the binaries?"`"
	If {Status} == 0
		If "`Exists "{thisdir}bin"`" != ""
			For afile In "{thisdir}"bin:\Option-x
				Duplicate -y "{afile}" "{bindest}"
			End For
		Else
			Echo "bin directory not found, exiting"
			Exit 1
		End If
	Else
		Echo "No destination supplied, exiting"
		Exit 1
	End If
Else If {TmpStatus} == 4
	# Use the existing directory.
	Set bindest "{thisdir}bin:"
Else
	# Cancelled from confirmation, escape altogether.
	Exit 1
End If

# Copy the libraries to the desired place.

Confirm -t "Copy the libraries to somewhere else?"
Set TmpStatus {Status}
If {TmpStatus} == 0
	Set libdest "`GetFileName -d -m "Where to install the libraries?"`"
	If {Status} == 0
		If "`Exists "{thisdir}lib:"`" != ""
			For afile In "{thisdir}"lib:\Option-x
				Duplicate -y "{afile}" "{libdest}"
			End For
		Else
			Echo "lib directory not found, exiting"
			Exit 1
		End If
	Else
		Echo "No destination supplied, exiting"
		Exit 1
	End If
Else If {TmpStatus} == 4
	# Use the existing directory.
	Set libdest "{thisdir}lib:"
Else
	# Cancelled from confirmation, escape altogether.
	Exit 1
End If


# Add the location of the binaries to the command path.

Echo -n 'Set Commands "'			>> "{TempUserStartup}"
Echo -n "{bindest}"				>> "{TempUserStartup}"
Echo    ',{Commands}"'				>> "{TempUserStartup}"
Echo ''						>> "{TempUserStartup}"

# Set up GCC exec prefix.

Set gcclibdir "{libdest}"gcc-lib:

Echo -n 'Set GCC_EXEC_PREFIX "'			>> "{TempUserStartup}"
Echo -n "{gcclibdir}"				>> "{TempUserStartup}"
Echo    '"'					>> "{TempUserStartup}"
Echo "Export GCC_EXEC_PREFIX"			>> "{TempUserStartup}"
Echo ''						>> "{TempUserStartup}"

# Set up path to libgcc.xcoff etc.

Echo -n 'Set GCCPPCLibraries "'			>> "{TempUserStartup}"
Echo -n "{libdest}"				>> "{TempUserStartup}"
Echo    '"'					>> "{TempUserStartup}"
Echo "Export GCCPPCLibraries"			>> "{TempUserStartup}"
Echo ''						>> "{TempUserStartup}"

# Display contents of UserStartup, confirm installation.

Set UserStartupName "UserStartup\Option-8GNU"

Echo "Contents of" {UserStartupName} "will be:"
Catenate "{TempUserStartup}"

Confirm "Install {UserStartupName} into the MPW folder {MPW} ?"
If {Status} == 0
	Duplicate "{TempUserStartup}" "{MPW}{UserStartupName}"
	Delete -y "{TempUserStartup}"
Else
	Echo "{UserStartupName} file not installed"
End If

# (should) Check HEXA resource, warn if low.

# (should) Check for spaces in pathnames, warn if found.

Echo "Installation was successful."
Echo ""
Echo "Be sure to review the usage notes in 'Read Me for MPW' before proceeding!"

# Restore previous settings.

Set Exit "{OldExit}"
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Import of binutils-2.8.1 from Cygnus/FSF
@
text
@@
