head	1.2;
access;
symbols
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.84
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.80
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.82
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.74
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.78
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.76
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.72
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.70
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.68
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.66
	OPENBSD_5_0:1.2.0.64
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.62
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.60
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.56
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.58
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.54
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.52
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.50
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.48
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.46
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.44
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.42
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.40
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.38
	OPENBSD_3_7_BASE:1.2
	BINUTILS_2_15:1.1.1.2
	OPENBSD_3_6:1.2.0.36
	OPENBSD_3_6_BASE:1.2
	BINUTILS-2_14:1.1.1.2
	OPENBSD_3_5:1.2.0.34
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.32
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.30
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.28
	OPENBSD_3_2_BASE:1.2
	binutils-2_11_2:1.1.1.2
	OPENBSD_3_1:1.2.0.26
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.24
	OPENBSD_3_0_BASE:1.2
	BINUTILS-2_10_1:1.1.1.2
	OPENBSD_2_9:1.2.0.22
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.20
	OPENBSD_2_8_BASE:1.2
	BINUTILS-2_10:1.1.1.2
	OPENBSD_2_7:1.2.0.18
	OPENBSD_2_7_BASE:1.2
	new-binutils:1.2.0.16
	OPENBSD_2_6:1.2.0.14
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.12
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.10
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.8
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	BINUTILS-2_8_1:1.1.1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	CYGNUS-961112:1.1.1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	CYGNUS-960904:1.1.1.2
	CYGNUS-960609:1.1.1.2
	CYGNUS-960607:1.1.1.2
	CYGNUS:1.1.1
	FSF_2_6:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@ * @;


1.2
date	96.06.10.10.53.49;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	96.01.08.11.08.26;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.01.08.11.08.26;	author niklas;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	96.06.07.11.07.43;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Bring Cygnus versions into the trunk, keeping our local patches
@
text
@/* Mac MPW host-specific definitions. */

#ifndef	__INCLUDE_MPW_H
#define __INCLUDE_MPW_H

#ifndef MPW
#define MPW
#endif

/* MPW C is basically ANSI, but doesn't actually enable __STDC__,
   nor does it allow __STDC__ to be #defined. */

#ifndef ALMOST_STDC
#define ALMOST_STDC
#endif

#include <stdio.h>
#include <ctype.h>
#include <errno.h>

#define HAVE_TIME_T_IN_TIME_H 1

#define HAVE_STDLIB_H 1

#define HAVE_ERRNO_H 1

#define HAVE_STDDEF_H 1

#define HAVE_STRING_H 1

#define HAVE_STDARG_H 1

#define HAVE_VPRINTF 1

#ifdef USE_MW_HEADERS

#include <unix.h>

#else

#include <fcntl.h>
#include <ioctl.h>
#include <sys/stat.h>

#define HAVE_FCNTL_H 1

#ifndef	O_ACCMODE
#define O_ACCMODE (O_RDONLY | O_WRONLY | O_RDWR)
#endif

#ifndef fileno
#define fileno(fp) ((fp)->_file)
#endif

/* stdio.h does not define this if __STDC__, so define here. */

#ifdef __STDC__
FILE *fdopen(int fildes, const char *mode);
#endif

#endif /* USE_MW_HEADERS */

/* Add ersatz definitions, for systems that lack them.  */

#ifndef EIO
#define EIO 96
#endif
#ifndef ENOENT
#define ENOENT 97
#endif
#ifndef EACCES
#define EACCES 98
#endif
#ifndef ENOSYS
#define ENOSYS 99
#endif

#ifndef R_OK
#define R_OK 4
#define W_OK 2
#define X_OK 1
#endif

/* Binary files have different characteristics; for instance, no cr/nl
   translation. */

#define USE_BINARY_FOPEN

#include <spin.h>

#ifdef MPW_C
#undef  __PTR_TO_INT
#define __PTR_TO_INT(P) ((int)(P))
#undef __INT_TO_PTR
#define __INT_TO_PTR(P) ((char *)(P))
#endif /* MPW_C */

#define NO_FCNTL

int fstat ();

FILE *mpw_fopen ();
int mpw_fseek ();
int mpw_fread ();
int mpw_fwrite ();
int mpw_access ();
int mpw_open ();
int mpw_creat ();
void mpw_abort (void);

/* Map these standard functions to improved versions in libiberty. */

#define fopen mpw_fopen
#define fseek mpw_fseek
#define fread mpw_fread
#define fwrite mpw_fwrite
#define open mpw_open
#define access mpw_access
#define creat mpw_creat
#define abort mpw_abort

#define POSIX_UTIME

#define LOSING_TOTALLY

/* Define this so that files will be closed before being unlinked. */

#define CLOSE_BEFORE_UNLINK

#endif /* __INCLUDE_MPW_H */
@


1.1
log
@Initial revision
@
text
@d21 1
a21 1
#define HAVE_TIME_T_IN_TIME_H
d23 1
a23 1
#define HAVE_STDLIB_H
d25 1
a25 1
#define HAVE_ERRNO_H
d27 1
a27 1
#define HAVE_STDDEF_H
d29 1
a29 1
#define HAVE_STRING_H
d31 3
a33 1
#define HAVE_STDARG_H
d45 2
a91 1

d96 1
a96 2

#endif
d106 2
a107 1
void mpw_abort ();
d109 1
d117 3
a120 1
#define creat mpw_creat
@


1.1.1.1
log
@Initial GNU binutils 2.6 import
@
text
@@


1.1.1.2
log
@(Correct) Import of Cygnus binutils snapshot taken 960607
@
text
@d21 1
a21 1
#define HAVE_TIME_T_IN_TIME_H 1
d23 1
a23 1
#define HAVE_STDLIB_H 1
d25 1
a25 1
#define HAVE_ERRNO_H 1
d27 1
a27 1
#define HAVE_STDDEF_H 1
d29 1
a29 1
#define HAVE_STRING_H 1
d31 1
a31 3
#define HAVE_STDARG_H 1

#define HAVE_VPRINTF 1
a42 2
#define HAVE_FCNTL_H 1

d88 1
d93 2
a94 1
#endif /* MPW_C */
d104 1
a104 2
int mpw_access ();
int mpw_open ();
a105 1
void mpw_abort (void);
d113 1
a113 2
#define open mpw_open
#define access mpw_access
a114 1
#define abort mpw_abort
@
