head	1.20;
access;
symbols
	OPENBSD_6_1:1.20.0.52
	OPENBSD_6_1_BASE:1.20
	OPENBSD_6_0:1.20.0.48
	OPENBSD_6_0_BASE:1.20
	OPENBSD_5_9:1.20.0.44
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.20.0.46
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.20.0.38
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.20.0.42
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.20.0.40
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.20.0.36
	OPENBSD_5_4_BASE:1.20
	OPENBSD_5_3:1.20.0.34
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.20.0.32
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.30
	OPENBSD_5_0:1.20.0.28
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.20.0.26
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.20.0.24
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.20.0.20
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.20.0.22
	OPENBSD_4_6_BASE:1.20
	OPENBSD_4_5:1.20.0.18
	OPENBSD_4_5_BASE:1.20
	OPENBSD_4_4:1.20.0.16
	OPENBSD_4_4_BASE:1.20
	OPENBSD_4_3:1.20.0.14
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.20.0.12
	OPENBSD_4_2_BASE:1.20
	OPENBSD_4_1:1.20.0.10
	OPENBSD_4_1_BASE:1.20
	OPENBSD_4_0:1.20.0.8
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.20.0.6
	OPENBSD_3_9_BASE:1.20
	OPENBSD_3_8:1.20.0.4
	OPENBSD_3_8_BASE:1.20
	OPENBSD_3_7:1.20.0.2
	OPENBSD_3_7_BASE:1.20
	BINUTILS_2_15:1.1.1.10
	OPENBSD_3_6:1.19.0.2
	OPENBSD_3_6_BASE:1.19
	BINUTILS-2_14:1.1.1.9
	OPENBSD_3_5:1.17.0.2
	OPENBSD_3_5_BASE:1.17
	OPENBSD_3_4:1.16.0.6
	OPENBSD_3_4_BASE:1.16
	OPENBSD_3_3:1.16.0.4
	OPENBSD_3_3_BASE:1.16
	OPENBSD_3_2:1.16.0.2
	OPENBSD_3_2_BASE:1.16
	binutils-2_11_2:1.1.1.8
	OPENBSD_3_1:1.15.0.4
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.15.0.2
	OPENBSD_3_0_BASE:1.15
	BINUTILS-2_10_1:1.1.1.7
	OPENBSD_2_9:1.14.0.4
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_8:1.14.0.2
	OPENBSD_2_8_BASE:1.14
	BINUTILS-2_10:1.1.1.6
	OPENBSD_2_7:1.8.0.6
	OPENBSD_2_7_BASE:1.8
	new-binutils:1.8.0.4
	OPENBSD_2_6:1.8.0.2
	OPENBSD_2_6_BASE:1.8
	OPENBSD_2_5:1.6.0.10
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.6.0.8
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.6.0.6
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.6.0.4
	OPENBSD_2_2_BASE:1.6
	BINUTILS-2_8_1:1.1.1.5
	OPENBSD_2_1:1.6.0.2
	OPENBSD_2_1_BASE:1.6
	CYGNUS-961112:1.1.1.4
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4
	CYGNUS-960904:1.1.1.3
	CYGNUS-960609:1.1.1.2
	CYGNUS-960607:1.1.1.2
	CYGNUS:1.1.1
	FSF_2_6:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@# @;


1.20
date	2004.11.02.20.45.15;	author miod;	state Exp;
branches;
next	1.19;

1.19
date	2004.05.18.01.45.19;	author drahn;	state Exp;
branches;
next	1.18;

1.18
date	2004.05.17.21.54.25;	author drahn;	state Exp;
branches;
next	1.17;

1.17
date	2004.01.13.03.43.40;	author mickey;	state Exp;
branches;
next	1.16;

1.16
date	2002.05.13.17.07.32;	author fgsch;	state Exp;
branches;
next	1.15;

1.15
date	2001.06.09.22.29.29;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2000.09.21.15.15.58;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.09.14.16.48.10;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.09.13.12.06.10;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.09.12.22.36.01;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.09.12.22.34.46;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2000.09.12.19.11.28;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	99.06.18.02.11.25;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	99.06.18.01.59.19;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	97.04.23.15.38.48;	author graichen;	state Exp;
branches;
next	1.5;

1.5
date	96.11.23.03.33.45;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	96.10.07.04.01.46;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.09.04.19.02.24;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	96.06.10.10.48.01;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	96.01.08.11.03.39;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.01.08.11.03.39;	author niklas;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	96.06.07.11.03.32;	author niklas;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	96.09.04.17.49.20;	author niklas;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	96.11.19.14.13.17;	author niklas;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	97.05.29.09.15.22;	author niklas;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2000.09.12.14.44.59;	author espie;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2001.06.09.22.06.12;	author espie;	state Exp;
branches;
next	1.1.1.8;

1.1.1.8
date	2002.05.13.13.13.56;	author fgsch;	state Exp;
branches;
next	1.1.1.9;

1.1.1.9
date	2004.05.17.20.42.02;	author drahn;	state Exp;
branches;
next	1.1.1.10;

1.1.1.10
date	2004.11.02.20.21.59;	author miod;	state Exp;
branches;
next	;


desc
@@


1.20
log
@Merge conflicts, bringing our changes back in:
- extra $(SHELL) and sugar for make (so that files not mode +x still work)
- safer temp file handling
- our W^X binary layout changes in ld
- OpenBSD policy for library file selection in ld
- arm and m88k changes which were not merged in time for official 2.15
- bfd core file handling
- a couple typos

New for 2.15:
- ld(1) and as(1) manpages now generated at build time
- binutils/stabs.c reverted to use our in-tree libiberty for now
- we still use our VIA C3 crypto code over stock binutils, as it recognizes
  more instructions
- new emulations for OpenBSD on mips64 machines, to help OpenBSD/sgi
- relaxed %f# handling in gas on OpenBSD/sparc64 (same as was in 2.14)

Tested on all platforms by various people; special thanks to sturm@@ and
otto@@.
@
text
@# Makefile.in generated automatically by automake 1.4-p6 from Makefile.am

# Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.
# This Makefile.in is free software; the Free Software Foundation
# gives unlimited permission to copy and/or distribute it,
# with or without modifications, as long as this notice is preserved.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.


SHELL = @@SHELL@@

srcdir = @@srcdir@@
top_srcdir = @@top_srcdir@@
VPATH = @@srcdir@@
prefix = @@prefix@@
exec_prefix = @@exec_prefix@@

bindir = @@bindir@@
sbindir = @@sbindir@@
libexecdir = @@libexecdir@@
datadir = @@datadir@@
sysconfdir = @@sysconfdir@@
sharedstatedir = @@sharedstatedir@@
localstatedir = @@localstatedir@@
libdir = @@libdir@@
infodir = @@infodir@@
mandir = @@mandir@@
includedir = @@includedir@@
oldincludedir = /usr/include

DESTDIR =

pkgdatadir = $(datadir)/@@PACKAGE@@
pkglibdir = $(libdir)/@@PACKAGE@@
pkgincludedir = $(includedir)/@@PACKAGE@@

top_builddir = .

ACLOCAL = @@ACLOCAL@@
AUTOCONF = @@AUTOCONF@@
AUTOMAKE = @@AUTOMAKE@@
AUTOHEADER = @@AUTOHEADER@@

INSTALL = @@INSTALL@@
INSTALL_PROGRAM = @@INSTALL_PROGRAM@@ $(AM_INSTALL_PROGRAM_FLAGS)
INSTALL_DATA = @@INSTALL_DATA@@
INSTALL_SCRIPT = @@INSTALL_SCRIPT@@
transform = @@program_transform_name@@

NORMAL_INSTALL = :
PRE_INSTALL = :
POST_INSTALL = :
NORMAL_UNINSTALL = :
PRE_UNINSTALL = :
POST_UNINSTALL = :
build_alias = @@build_alias@@
build_triplet = @@build@@
host_alias = @@host_alias@@
host_triplet = @@host@@
target_alias = @@target_alias@@
target_triplet = @@target@@
AR = @@AR@@
AS = @@AS@@
BUILD_DLLTOOL = @@BUILD_DLLTOOL@@
BUILD_DLLWRAP = @@BUILD_DLLWRAP@@
BUILD_MISC = @@BUILD_MISC@@
BUILD_NLMCONV = @@BUILD_NLMCONV@@
BUILD_SRCONV = @@BUILD_SRCONV@@
BUILD_WINDRES = @@BUILD_WINDRES@@
CATALOGS = @@CATALOGS@@
CATOBJEXT = @@CATOBJEXT@@
CC = @@CC@@
CXX = @@CXX@@
CXXCPP = @@CXXCPP@@
DATADIRNAME = @@DATADIRNAME@@
#DEMANGLER_NAME = @@DEMANGLER_NAME@@
DLLTOOL = @@DLLTOOL@@
DLLTOOL_DEFS = @@DLLTOOL_DEFS@@
EMULATION = @@EMULATION@@
EMULATION_VECTOR = @@EMULATION_VECTOR@@
EXEEXT = @@EXEEXT@@
GCJ = @@GCJ@@
GCJFLAGS = @@GCJFLAGS@@
GMOFILES = @@GMOFILES@@
GMSGFMT = @@GMSGFMT@@
GT_NO = @@GT_NO@@
GT_YES = @@GT_YES@@
HDEFINES = @@HDEFINES@@
INCLUDE_LOCALE_H = @@INCLUDE_LOCALE_H@@
INSTOBJEXT = @@INSTOBJEXT@@
INTLDEPS = @@INTLDEPS@@
INTLOBJS = @@INTLOBJS@@
LIBTOOL = @@LIBTOOL@@
LN_S = @@LN_S@@
MAINT = @@MAINT@@
MAKEINFO = @@MAKEINFO@@
MKINSTALLDIRS = @@MKINSTALLDIRS@@
MSGFMT = @@MSGFMT@@
NLMCONV_DEFS = @@NLMCONV_DEFS@@
OBJDUMP = @@OBJDUMP@@
OBJDUMP_DEFS = @@OBJDUMP_DEFS@@
OBJEXT = @@OBJEXT@@
PACKAGE = @@PACKAGE@@
POFILES = @@POFILES@@
POSUB = @@POSUB@@
RANLIB = @@RANLIB@@
STRIP = @@STRIP@@
USE_INCLUDED_LIBINTL = @@USE_INCLUDED_LIBINTL@@
USE_NLS = @@USE_NLS@@
VERSION = @@VERSION@@
bfdincludedir = @@bfdincludedir@@
bfdlibdir = @@bfdlibdir@@
l = @@l@@

INTLLIBS = @@INTLLIBS@@

AUTOMAKE_OPTIONS = cygnus dejagnu

SUBDIRS = doc po

tooldir = $(exec_prefix)/$(target_alias)

CC_FOR_BUILD = @@CC_FOR_BUILD@@
EXEEXT_FOR_BUILD = @@EXEEXT_FOR_BUILD@@

YACC = `if [ -f ../bison/bison ]; then echo ../bison/bison -y -L$(srcdir)/../bison/; else echo @@YACC@@; fi`
YFLAGS = -d
LEX = `if [ -f ../flex/flex ]; then echo ../flex/flex; else echo @@LEX@@; fi`

WARN_CFLAGS = @@WARN_CFLAGS@@
AM_CFLAGS = $(WARN_CFLAGS)

# these two are almost the same program
AR_PROG = ar
RANLIB_PROG = ranlib

# objcopy and strip should be the same program
OBJCOPY_PROG = objcopy
STRIP_PROG = strip-new

STRINGS_PROG = strings

READELF_PROG = readelf

# These should all be the same program too.
SIZE_PROG = size
NM_PROG = nm-new
OBJDUMP_PROG = objdump

# This is the demangler, as a standalone program.
# Note: This one is used as the installed name too, unlike the above.
#DEMANGLER_PROG = cxxfilt

ADDR2LINE_PROG = addr2line

NLMCONV_PROG = nlmconv
DLLTOOL_PROG = dlltool
WINDRES_PROG = windres
DLLWRAP_PROG = dllwrap

SRCONV_PROG = srconv$(EXEEXT) sysdump$(EXEEXT) coffdump$(EXEEXT) 

PROGS = $(OBJDUMP_PROG) $(AR_PROG) $(STRINGS_PROG) $(STRIP_PROG) $(RANLIB_PROG) $(DEMANGLER_PROG) $(OBJCOPY_PROG) @@BUILD_NLMCONV@@ @@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@ @@BUILD_WINDRES@@ $(ADDR2LINE_PROG) $(READELF_PROG) @@BUILD_DLLWRAP@@ @@BUILD_MISC@@

bin_PROGRAMS = $(OBJDUMP_PROG) $(AR_PROG) $(STRINGS_PROG) $(RANLIB_PROG) $(OBJCOPY_PROG) @@BUILD_NLMCONV@@ @@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@ @@BUILD_WINDRES@@ $(ADDR2LINE_PROG) $(READELF_PROG) @@BUILD_DLLWRAP@@ @@BUILD_MISC@@

#noinst_PROGRAMS = $(NM_PROG) $(STRIP_PROG) $(DEMANGLER_PROG)
noinst_PROGRAMS = $(STRIP_PROG)

EXTRA_PROGRAMS = $(NLMCONV_PROG) srconv sysdump coffdump $(DLLTOOL_PROG) $(WINDRES_PROG) $(DLLWRAP_PROG)

# Stuff that goes in tooldir/ if appropriate.
TOOL_PROGS = strip-new ar ranlib dlltool

BASEDIR = $(srcdir)/..
BFDDIR = $(BASEDIR)/bfd
INCDIR = $(BASEDIR)/include

MKDEP = gcc -MM

INCLUDES = -D_GNU_SOURCE \
	 -I. -I$(srcdir) -I../bfd -I$(BFDDIR) -I$(INCDIR) \
	 @@HDEFINES@@ \
	 -I$(srcdir)/../intl -I../intl \
	 -DLOCALEDIR="\"$(prefix)/share/locale\"" \
	 -Dbin_dummy_emulation=$(EMULATION_VECTOR)


HFILES = \
	arsup.h binemul.h bucomm.h budbg.h budemang.h \
	coffgrok.h debug.h dlltool.h nlmconv.h \
	windres.h winduni.h


GENERATED_HFILES = arparse.h sysroff.h sysinfo.h defparse.h rcparse.h

CFILES = \
	addr2line.c ar.c arsup.c binemul.c bucomm.c budemang.c \
	coffdump.c coffgrok.c cxxfilt.c debug.c dlltool.c dllwrap.c \
	emul_aix.c emul_vanilla.c filemode.c \
	ieee.c is-ranlib.c is-strip.c maybe-ranlib.c maybe-strip.c \
	nlmconv.c nm.c not-ranlib.c not-strip.c \
	objcopy.c objdump.c prdbg.c \
	rdcoff.c rddbg.c readelf.c rename.c \
	resbin.c rescoff.c resrc.c resres.c \
	size.c srconv.c stabs.c strings.c sysdump.c version.c \
	windres.c winduni.c wrstabs.c


GENERATED_CFILES = \
	arparse.c arlex.c sysroff.c sysinfo.c syslex.c \
	defparse.c deflex.c nlmheader.c rcparse.c rclex.c


DEBUG_SRCS = rddbg.c debug.c stabs.c ieee.c rdcoff.c
WRITE_DEBUG_SRCS = $(DEBUG_SRCS) wrstabs.c

# Code shared by all the binutils.
BULIBS = bucomm.c version.c filemode.c

BFDLIB = ../bfd/libbfd.la

OPCODES = ../opcodes/libopcodes.la

LIBIBERTY = -liberty

POTFILES = $(CFILES) $(DEBUG_SRCS) $(HFILES)

EXPECT = `if [ -f $$r/../expect/expect ] ; then \
          echo $$r/../expect/expect ; \
          else echo expect ; fi`

RUNTEST = `if [ -f ${srcdir}/../dejagnu/runtest ] ; then \
           echo ${srcdir}/../dejagnu/runtest ; \
           else echo runtest ;  fi`


CC_FOR_TARGET = ` \
  if [ -f $$r/../gcc/xgcc ] ; then \
    if [ -f $$r/../newlib/Makefile ] ; then \
      echo $$r/../gcc/xgcc -B$$r/../gcc/ -idirafter $$r/../newlib/targ-include -idirafter $${srcroot}/../newlib/libc/include -nostdinc; \
    else \
      echo $$r/../gcc/xgcc -B$$r/../gcc/; \
    fi; \
  else \
    if [ "@@host@@" = "@@target@@" ] ; then \
      echo $(CC); \
    else \
      echo gcc | sed '$(transform)'; \
    fi; \
  fi`


LDADD = $(BFDLIB) $(LIBIBERTY) $(INTLLIBS)

size_SOURCES = size.c $(BULIBS)

objcopy_SOURCES = objcopy.c not-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)

strings_SOURCES = strings.c $(BULIBS)

readelf_SOURCES = readelf.c version.c unwind-ia64.c
readelf_LDADD = $(INTLLIBS) $(LIBIBERTY)

strip_new_SOURCES = objcopy.c is-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)

nm_new_SOURCES = nm.c budemang.c $(BULIBS)

objdump_SOURCES = objdump.c budemang.c prdbg.c $(DEBUG_SRCS) $(BULIBS)
objdump_LDADD = $(OPCODES) $(BFDLIB) $(LIBIBERTY) $(INTLLIBS)

#cxxfilt_SOURCES = cxxfilt.c $(BULIBS)

ar_SOURCES = arparse.y arlex.l ar.c not-ranlib.c arsup.c rename.c binemul.c \
	emul_$(EMULATION).c $(BULIBS)

ar_LDADD = $(BFDLIB) $(LIBIBERTY) @@LEXLIB@@ $(INTLLIBS)

ranlib_SOURCES = ar.c is-ranlib.c arparse.y arlex.l arsup.c rename.c \
	binemul.c emul_$(EMULATION).c $(BULIBS)

ranlib_LDADD = $(BFDLIB) $(LIBIBERTY) @@LEXLIB@@ $(INTLLIBS)

addr2line_SOURCES = addr2line.c budemang.c $(BULIBS)

srconv_SOURCES = srconv.c coffgrok.c $(BULIBS)

dlltool_SOURCES = dlltool.c defparse.y deflex.l $(BULIBS)
dlltool_LDADD = $(BFDLIB) $(LIBIBERTY) @@LEXLIB@@ $(INTLLIBS)

coffdump_SOURCES = coffdump.c coffgrok.c $(BULIBS)

sysdump_SOURCES = sysdump.c $(BULIBS)

nlmconv_SOURCES = nlmconv.c nlmheader.y $(BULIBS)

windres_SOURCES = windres.c resrc.c rescoff.c resbin.c rcparse.y rclex.l \
	winduni.c resres.c $(BULIBS)

windres_LDADD = $(BFDLIB) $(LIBIBERTY) @@LEXLIB@@ $(INTLLIBS)

dllwrap_SOURCES = dllwrap.c version.c
dllwrap_LDADD = $(LIBIBERTY) $(INTLLIBS)

EXTRA_DIST = arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h \
	syslex.c deflex.c defparse.h defparse.c rclex.c rcparse.h rcparse.c


DISTCLEANFILES = sysinfo sysroff.c sysroff.h \
	site.exp site.bak


###

MOSTLYCLEANFILES = sysinfo binutils.log binutils.sum abcdefgh*

CLEANFILES = dep.sed DEP DEPA DEP1 DEP2
ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs
CONFIG_HEADER = config.h
CONFIG_CLEAN_FILES = 
bin_PROGRAMS =  objdump$(EXEEXT) ar$(EXEEXT) \
strings$(EXEEXT) ranlib$(EXEEXT) objcopy$(EXEEXT) @@BUILD_NLMCONV@@ \
@@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@ @@BUILD_WINDRES@@ addr2line$(EXEEXT) \
readelf$(EXEEXT) @@BUILD_DLLWRAP@@ @@BUILD_MISC@@
#noinst_PROGRAMS =  strip-new$(EXEEXT) cxxfilt$(EXEEXT)
noinst_PROGRAMS =  strip-new$(EXEEXT)
PROGRAMS =  $(bin_PROGRAMS) $(noinst_PROGRAMS)


DEFS = @@DEFS@@ -I. -I$(srcdir) -I.
CPPFLAGS = @@CPPFLAGS@@
LDFLAGS = @@LDFLAGS@@
LIBS = @@LIBS@@
nlmconv_OBJECTS =  nlmconv.$(OBJEXT) nlmheader.$(OBJEXT) \
bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
nlmconv_LDADD = $(LDADD)
nlmconv_DEPENDENCIES =  ../bfd/libbfd.la
nlmconv_LDFLAGS = 
srconv_OBJECTS =  srconv.$(OBJEXT) coffgrok.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
srconv_LDADD = $(LDADD)
srconv_DEPENDENCIES =  ../bfd/libbfd.la
srconv_LDFLAGS = 
sysdump_OBJECTS =  sysdump.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
sysdump_LDADD = $(LDADD)
sysdump_DEPENDENCIES =  ../bfd/libbfd.la
sysdump_LDFLAGS = 
coffdump_OBJECTS =  coffdump.$(OBJEXT) coffgrok.$(OBJEXT) \
bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
coffdump_LDADD = $(LDADD)
coffdump_DEPENDENCIES =  ../bfd/libbfd.la
coffdump_LDFLAGS = 
dlltool_OBJECTS =  dlltool.$(OBJEXT) defparse.$(OBJEXT) deflex.$(OBJEXT) \
bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
dlltool_DEPENDENCIES =  ../bfd/libbfd.la
dlltool_LDFLAGS = 
windres_OBJECTS =  windres.$(OBJEXT) resrc.$(OBJEXT) rescoff.$(OBJEXT) \
resbin.$(OBJEXT) rcparse.$(OBJEXT) rclex.$(OBJEXT) winduni.$(OBJEXT) \
resres.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
windres_DEPENDENCIES =  ../bfd/libbfd.la
windres_LDFLAGS = 
dllwrap_OBJECTS =  dllwrap.$(OBJEXT) version.$(OBJEXT)
dllwrap_DEPENDENCIES = 
dllwrap_LDFLAGS = 
size_OBJECTS =  size.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
size_LDADD = $(LDADD)
size_DEPENDENCIES =  ../bfd/libbfd.la
size_LDFLAGS = 
objdump_OBJECTS =  objdump.$(OBJEXT) budemang.$(OBJEXT) prdbg.$(OBJEXT) \
rddbg.$(OBJEXT) debug.$(OBJEXT) stabs.$(OBJEXT) ieee.$(OBJEXT) \
rdcoff.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
objdump_DEPENDENCIES =  ../opcodes/libopcodes.la ../bfd/libbfd.la
objdump_LDFLAGS = 
ar_OBJECTS =  arparse.$(OBJEXT) arlex.$(OBJEXT) ar.$(OBJEXT) \
not-ranlib.$(OBJEXT) arsup.$(OBJEXT) rename.$(OBJEXT) binemul.$(OBJEXT) \
emul_$(EMULATION).$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
ar_DEPENDENCIES =  ../bfd/libbfd.la
ar_LDFLAGS = 
strings_OBJECTS =  strings.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
strings_LDADD = $(LDADD)
strings_DEPENDENCIES =  ../bfd/libbfd.la
strings_LDFLAGS = 
ranlib_OBJECTS =  ar.$(OBJEXT) is-ranlib.$(OBJEXT) arparse.$(OBJEXT) \
arlex.$(OBJEXT) arsup.$(OBJEXT) rename.$(OBJEXT) binemul.$(OBJEXT) \
emul_$(EMULATION).$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
ranlib_DEPENDENCIES =  ../bfd/libbfd.la
ranlib_LDFLAGS = 
objcopy_OBJECTS =  objcopy.$(OBJEXT) not-strip.$(OBJEXT) \
rename.$(OBJEXT) rddbg.$(OBJEXT) debug.$(OBJEXT) stabs.$(OBJEXT) \
ieee.$(OBJEXT) rdcoff.$(OBJEXT) wrstabs.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
objcopy_LDADD = $(LDADD)
objcopy_DEPENDENCIES =  ../bfd/libbfd.la
objcopy_LDFLAGS = 
addr2line_OBJECTS =  addr2line.$(OBJEXT) budemang.$(OBJEXT) \
bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
addr2line_LDADD = $(LDADD)
addr2line_DEPENDENCIES =  ../bfd/libbfd.la
addr2line_LDFLAGS = 
readelf_OBJECTS =  readelf.$(OBJEXT) version.$(OBJEXT) \
unwind-ia64.$(OBJEXT)
readelf_DEPENDENCIES = 
readelf_LDFLAGS = 
nm_new_OBJECTS =  nm.$(OBJEXT) budemang.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
nm_new_LDADD = $(LDADD)
nm_new_DEPENDENCIES =  ../bfd/libbfd.la
nm_new_LDFLAGS = 
strip_new_OBJECTS =  objcopy.$(OBJEXT) is-strip.$(OBJEXT) \
rename.$(OBJEXT) rddbg.$(OBJEXT) debug.$(OBJEXT) stabs.$(OBJEXT) \
ieee.$(OBJEXT) rdcoff.$(OBJEXT) wrstabs.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
strip_new_LDADD = $(LDADD)
strip_new_DEPENDENCIES =  ../bfd/libbfd.la
strip_new_LDFLAGS = 
LEX_OUTPUT_ROOT = @@LEX_OUTPUT_ROOT@@
LEXLIB = @@LEXLIB@@
YLWRAP = $(top_srcdir)/../ylwrap
CFLAGS = @@CFLAGS@@
COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
CCLD = $(CC)
LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@
DIST_COMMON =  README ./stamp-h.in ChangeLog Makefile.am Makefile.in \
NEWS acinclude.m4 aclocal.m4 arlex.c arparse.c config.in configure \
configure.in deflex.c defparse.c nlmheader.c rclex.c rcparse.c


DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)

TAR = tar
GZIP_ENV = --best
SOURCES = $(nlmconv_SOURCES) $(srconv_SOURCES) $(sysdump_SOURCES) $(coffdump_SOURCES) $(dlltool_SOURCES) $(windres_SOURCES) $(dllwrap_SOURCES) $(size_SOURCES) $(objdump_SOURCES) $(ar_SOURCES) $(strings_SOURCES) $(ranlib_SOURCES) $(objcopy_SOURCES) $(addr2line_SOURCES) $(readelf_SOURCES) $(nm_new_SOURCES) $(strip_new_SOURCES)
OBJECTS = $(nlmconv_OBJECTS) $(srconv_OBJECTS) $(sysdump_OBJECTS) $(coffdump_OBJECTS) $(dlltool_OBJECTS) $(windres_OBJECTS) $(dllwrap_OBJECTS) $(size_OBJECTS) $(objdump_OBJECTS) $(ar_OBJECTS) $(strings_OBJECTS) $(ranlib_OBJECTS) $(objcopy_OBJECTS) $(addr2line_OBJECTS) $(readelf_OBJECTS) $(nm_new_OBJECTS) $(strip_new_OBJECTS)

all: all-redirect
.SUFFIXES:
.SUFFIXES: .S .c .l .lo .o .obj .s .y
$(srcdir)/Makefile.in: @@MAINTAINER_MODE_TRUE@@ Makefile.am $(top_srcdir)/configure.in $(ACLOCAL_M4) 
	cd $(top_srcdir) && $(AUTOMAKE) --cygnus Makefile

Makefile: $(srcdir)/Makefile.in  $(top_builddir)/config.status
	cd $(top_builddir) \
	  && CONFIG_FILES=$@@ CONFIG_HEADERS= $(SHELL) ./config.status

$(ACLOCAL_M4): @@MAINTAINER_MODE_TRUE@@ configure.in  acinclude.m4
	cd $(srcdir) && $(ACLOCAL)

config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
	$(SHELL) ./config.status --recheck
$(srcdir)/configure: @@MAINTAINER_MODE_TRUE@@$(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
	cd $(srcdir) && $(AUTOCONF)

config.h: stamp-h
	@@if test ! -f $@@; then \
		rm -f stamp-h; \
		$(MAKE) stamp-h; \
	else :; fi
stamp-h: $(srcdir)/config.in $(top_builddir)/config.status
	cd $(top_builddir) \
	  && CONFIG_FILES= CONFIG_HEADERS=config.h:config.in \
	     $(SHELL) ./config.status
	@@echo timestamp > stamp-h 2> /dev/null
$(srcdir)/config.in: @@MAINTAINER_MODE_TRUE@@$(srcdir)/stamp-h.in
	@@if test ! -f $@@; then \
		rm -f $(srcdir)/stamp-h.in; \
		$(MAKE) $(srcdir)/stamp-h.in; \
	else :; fi
$(srcdir)/stamp-h.in: $(top_srcdir)/configure.in $(ACLOCAL_M4) 
	cd $(top_srcdir) && $(AUTOHEADER)
	@@echo timestamp > $(srcdir)/stamp-h.in 2> /dev/null

mostlyclean-hdr:

clean-hdr:

distclean-hdr:
	-rm -f config.h

maintainer-clean-hdr:

mostlyclean-binPROGRAMS:

clean-binPROGRAMS:
	-test -z "$(bin_PROGRAMS)" || rm -f $(bin_PROGRAMS)

distclean-binPROGRAMS:

maintainer-clean-binPROGRAMS:

install-binPROGRAMS: $(bin_PROGRAMS)
	@@$(NORMAL_INSTALL)
	$(mkinstalldirs) $(DESTDIR)$(bindir)
	@@list='$(bin_PROGRAMS)'; for p in $$list; do \
	  if test -f $$p; then \
	    echo " $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/`echo $$p|sed 's/$(EXEEXT)$$//'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`"; \
	    $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/`echo $$p|sed 's/$(EXEEXT)$$//'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`; \
	  else :; fi; \
	done

uninstall-binPROGRAMS:
	@@$(NORMAL_UNINSTALL)
	list='$(bin_PROGRAMS)'; for p in $$list; do \
	  rm -f $(DESTDIR)$(bindir)/`echo $$p|sed 's/$(EXEEXT)$$//'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`; \
	done

mostlyclean-noinstPROGRAMS:

clean-noinstPROGRAMS:
	-test -z "$(noinst_PROGRAMS)" || rm -f $(noinst_PROGRAMS)

distclean-noinstPROGRAMS:

maintainer-clean-noinstPROGRAMS:

.c.o:
	$(COMPILE) -c $<

# FIXME: We should only use cygpath when building on Windows,
# and only if it is available.
.c.obj:
	$(COMPILE) -c `cygpath -w $<`

.s.o:
	$(COMPILE) -c $<

.S.o:
	$(COMPILE) -c $<

mostlyclean-compile:
	-rm -f *.o core *.core
	-rm -f *.$(OBJEXT)

clean-compile:

distclean-compile:
	-rm -f *.tab.c

maintainer-clean-compile:

.c.lo:
	$(LIBTOOL) --mode=compile $(COMPILE) -c $<

.s.lo:
	$(LIBTOOL) --mode=compile $(COMPILE) -c $<

.S.lo:
	$(LIBTOOL) --mode=compile $(COMPILE) -c $<

mostlyclean-libtool:
	-rm -f *.lo

clean-libtool:
	-rm -rf .libs _libs

distclean-libtool:

maintainer-clean-libtool:

nlmconv$(EXEEXT): $(nlmconv_OBJECTS) $(nlmconv_DEPENDENCIES)
	@@rm -f nlmconv$(EXEEXT)
	$(LINK) $(nlmconv_LDFLAGS) $(nlmconv_OBJECTS) $(nlmconv_LDADD) $(LIBS)

srconv$(EXEEXT): $(srconv_OBJECTS) $(srconv_DEPENDENCIES)
	@@rm -f srconv$(EXEEXT)
	$(LINK) $(srconv_LDFLAGS) $(srconv_OBJECTS) $(srconv_LDADD) $(LIBS)

sysdump$(EXEEXT): $(sysdump_OBJECTS) $(sysdump_DEPENDENCIES)
	@@rm -f sysdump$(EXEEXT)
	$(LINK) $(sysdump_LDFLAGS) $(sysdump_OBJECTS) $(sysdump_LDADD) $(LIBS)

coffdump$(EXEEXT): $(coffdump_OBJECTS) $(coffdump_DEPENDENCIES)
	@@rm -f coffdump$(EXEEXT)
	$(LINK) $(coffdump_LDFLAGS) $(coffdump_OBJECTS) $(coffdump_LDADD) $(LIBS)

dlltool$(EXEEXT): $(dlltool_OBJECTS) $(dlltool_DEPENDENCIES)
	@@rm -f dlltool$(EXEEXT)
	$(LINK) $(dlltool_LDFLAGS) $(dlltool_OBJECTS) $(dlltool_LDADD) $(LIBS)

windres$(EXEEXT): $(windres_OBJECTS) $(windres_DEPENDENCIES)
	@@rm -f windres$(EXEEXT)
	$(LINK) $(windres_LDFLAGS) $(windres_OBJECTS) $(windres_LDADD) $(LIBS)

dllwrap$(EXEEXT): $(dllwrap_OBJECTS) $(dllwrap_DEPENDENCIES)
	@@rm -f dllwrap$(EXEEXT)
	$(LINK) $(dllwrap_LDFLAGS) $(dllwrap_OBJECTS) $(dllwrap_LDADD) $(LIBS)

size$(EXEEXT): $(size_OBJECTS) $(size_DEPENDENCIES)
	@@rm -f size$(EXEEXT)
	$(LINK) $(size_LDFLAGS) $(size_OBJECTS) $(size_LDADD) $(LIBS)

objdump$(EXEEXT): $(objdump_OBJECTS) $(objdump_DEPENDENCIES)
	@@rm -f objdump$(EXEEXT)
	$(LINK) $(objdump_LDFLAGS) $(objdump_OBJECTS) $(objdump_LDADD) $(LIBS)

ar$(EXEEXT): $(ar_OBJECTS) $(ar_DEPENDENCIES)
	@@rm -f ar$(EXEEXT)
	$(LINK) $(ar_LDFLAGS) $(ar_OBJECTS) $(ar_LDADD) $(LIBS)

strings$(EXEEXT): $(strings_OBJECTS) $(strings_DEPENDENCIES)
	@@rm -f strings$(EXEEXT)
	$(LINK) $(strings_LDFLAGS) $(strings_OBJECTS) $(strings_LDADD) $(LIBS)

ranlib$(EXEEXT): $(ranlib_OBJECTS) $(ranlib_DEPENDENCIES)
	@@rm -f ranlib$(EXEEXT)
	$(LINK) $(ranlib_LDFLAGS) $(ranlib_OBJECTS) $(ranlib_LDADD) $(LIBS)

objcopy$(EXEEXT): $(objcopy_OBJECTS) $(objcopy_DEPENDENCIES)
	@@rm -f objcopy$(EXEEXT)
	$(LINK) $(objcopy_LDFLAGS) $(objcopy_OBJECTS) $(objcopy_LDADD) $(LIBS)

addr2line$(EXEEXT): $(addr2line_OBJECTS) $(addr2line_DEPENDENCIES)
	@@rm -f addr2line$(EXEEXT)
	$(LINK) $(addr2line_LDFLAGS) $(addr2line_OBJECTS) $(addr2line_LDADD) $(LIBS)

readelf$(EXEEXT): $(readelf_OBJECTS) $(readelf_DEPENDENCIES)
	@@rm -f readelf$(EXEEXT)
	$(LINK) $(readelf_LDFLAGS) $(readelf_OBJECTS) $(readelf_LDADD) $(LIBS)

nm-new$(EXEEXT): $(nm_new_OBJECTS) $(nm_new_DEPENDENCIES)
	@@rm -f nm-new$(EXEEXT)
	$(LINK) $(nm_new_LDFLAGS) $(nm_new_OBJECTS) $(nm_new_LDADD) $(LIBS)

strip-new$(EXEEXT): $(strip_new_OBJECTS) $(strip_new_DEPENDENCIES)
	@@rm -f strip-new$(EXEEXT)
	$(LINK) $(strip_new_LDFLAGS) $(strip_new_OBJECTS) $(strip_new_LDADD) $(LIBS)

.l.c:
	$(SHELL) $(YLWRAP) "$(LEX)" $< $(LEX_OUTPUT_ROOT).c $@@ -- $(AM_LFLAGS) $(LFLAGS)
.y.c:
	$(SHELL) $(YLWRAP) "$(YACC)" $< y.tab.c $*.c y.tab.h $*.h -- $(AM_YFLAGS) $(YFLAGS)
arparse.h: arparse.c
defparse.h: defparse.c
nlmheader.h: nlmheader.c
rcparse.h: rcparse.c


# This directory's subdirectories are mostly independent; you can cd
# into them and run `make' without going through this Makefile.
# To change the values of `make' variables: instead of editing Makefiles,
# (1) if the variable is set in `config.status', edit `config.status'
#     (which will cause the Makefiles to be regenerated when you run `make');
# (2) otherwise, pass the desired values on the `make' command line.

@@SET_MAKE@@

all-recursive install-data-recursive install-exec-recursive \
installdirs-recursive install-recursive uninstall-recursive install-info-recursive \
check-recursive installcheck-recursive info-recursive dvi-recursive:
	@@set fnord $(MAKEFLAGS); amf=$$2; \
	dot_seen=no; \
	target=`echo $@@ | sed s/-recursive//`; \
	list='$(SUBDIRS)'; for subdir in $$list; do \
	  echo "Making $$target in $$subdir"; \
	  if test "$$subdir" = "."; then \
	    dot_seen=yes; \
	    local_target="$$target-am"; \
	  else \
	    local_target="$$target"; \
	  fi; \
	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
	done; \
	if test "$$dot_seen" = "no"; then \
	  $(MAKE) $(AM_MAKEFLAGS) "$$target-am" || exit 1; \
	fi; test -z "$$fail"

mostlyclean-recursive clean-recursive distclean-recursive \
maintainer-clean-recursive:
	@@set fnord $(MAKEFLAGS); amf=$$2; \
	dot_seen=no; \
	rev=''; list='$(SUBDIRS)'; for subdir in $$list; do \
	  rev="$$subdir $$rev"; \
	  test "$$subdir" != "." || dot_seen=yes; \
	  true; \
	done; \
	test "$$dot_seen" = "no" && rev=". $$rev"; \
	target=`echo $@@ | sed s/-recursive//`; \
	for subdir in $$rev; do \
	  echo "Making $$target in $$subdir"; \
	  if test "$$subdir" = "."; then \
	    local_target="$$target-am"; \
	  else \
	    local_target="$$target"; \
	  fi; \
	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
	done && test -z "$$fail"
tags-recursive:
	list='$(SUBDIRS)'; for subdir in $$list; do \
	  test "$$subdir" = . || (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) tags); \
	done

tags: TAGS

ID: $(HEADERS) $(SOURCES) $(LISP)
	list='$(SOURCES) $(HEADERS)'; \
	unique=`for i in $$list; do echo $$i; done | \
	  awk '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	here=`pwd` && cd $(srcdir) \
	  && mkid -f$$here/ID $$unique $(LISP)

TAGS: tags-recursive $(HEADERS) $(SOURCES) config.in $(TAGS_DEPENDENCIES) $(LISP)
	tags=; \
	here=`pwd`; \
	list='$(SUBDIRS)'; for subdir in $$list; do \
   if test "$$subdir" = .; then :; else \
	    test -f $$subdir/TAGS && tags="$$tags -i $$here/$$subdir/TAGS"; \
   fi; \
	done; \
	list='$(SOURCES) $(HEADERS)'; \
	unique=`for i in $$list; do echo $$i; done | \
	  awk '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	test -z "$(ETAGS_ARGS)config.in$$unique$(LISP)$$tags" \
	  || (cd $(srcdir) && etags $(ETAGS_ARGS) $$tags config.in $$unique $(LISP) -o $$here/TAGS)

mostlyclean-tags:

clean-tags:

distclean-tags:
	-rm -f TAGS ID

maintainer-clean-tags:

distdir = $(PACKAGE)-$(VERSION)
top_distdir = $(distdir)

# This target untars the dist file and tries a VPATH configuration.  Then
# it guarantees that the distribution is self-contained by making another
# tarfile.
distcheck: dist
	-rm -rf $(distdir)
	GZIP=$(GZIP_ENV) $(TAR) zxf $(distdir).tar.gz
	mkdir $(distdir)/=build
	mkdir $(distdir)/=inst
	dc_install_base=`cd $(distdir)/=inst && pwd`; \
	cd $(distdir)/=build \
	  && ../configure --srcdir=.. --prefix=$$dc_install_base \
	  && $(MAKE) $(AM_MAKEFLAGS) \
	  && $(MAKE) $(AM_MAKEFLAGS) dvi \
	  && $(MAKE) $(AM_MAKEFLAGS) check \
	  && $(MAKE) $(AM_MAKEFLAGS) install \
	  && $(MAKE) $(AM_MAKEFLAGS) installcheck \
	  && $(MAKE) $(AM_MAKEFLAGS) dist
	-rm -rf $(distdir)
	@@banner="$(distdir).tar.gz is ready for distribution"; \
	dashes=`echo "$$banner" | sed s/./=/g`; \
	echo "$$dashes"; \
	echo "$$banner"; \
	echo "$$dashes"
dist: distdir
	-chmod -R a+r $(distdir)
	GZIP=$(GZIP_ENV) $(TAR) chozf $(distdir).tar.gz $(distdir)
	-rm -rf $(distdir)
dist-all: distdir
	-chmod -R a+r $(distdir)
	GZIP=$(GZIP_ENV) $(TAR) chozf $(distdir).tar.gz $(distdir)
	-rm -rf $(distdir)
distdir: $(DISTFILES)
	-rm -rf $(distdir)
	mkdir $(distdir)
	-chmod 777 $(distdir)
	@@for file in $(DISTFILES); do \
	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
	  if test -d $$d/$$file; then \
	    cp -pr $$d/$$file $(distdir)/$$file; \
	  else \
	    test -f $(distdir)/$$file \
	    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \
	    || cp -p $$d/$$file $(distdir)/$$file || :; \
	  fi; \
	done
	for subdir in $(SUBDIRS); do \
	  if test "$$subdir" = .; then :; else \
	    test -d $(distdir)/$$subdir \
	    || mkdir $(distdir)/$$subdir \
	    || exit 1; \
	    chmod 777 $(distdir)/$$subdir; \
	    (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) top_distdir=../$(distdir) distdir=../$(distdir)/$$subdir distdir) \
	      || exit 1; \
	  fi; \
	done

RUNTESTFLAGS =

DEJATOOL = $(PACKAGE)

RUNTESTDEFAULTFLAGS = --tool $(DEJATOOL) --srcdir $$srcdir
site.exp: Makefile
	@@echo 'Making a new site.exp file...'
	@@test ! -f site.bak || rm -f site.bak
	@@echo '## these variables are automatically generated by make ##' > $@@-t
	@@echo '# Do not edit here.  If you wish to override these values' >> $@@-t
	@@echo '# edit the last section' >> $@@-t
	@@echo 'set tool $(DEJATOOL)' >> $@@-t
	@@echo 'set srcdir $(srcdir)' >> $@@-t
	@@echo 'set objdir' `pwd` >> $@@-t
	@@echo 'set host_alias $(host_alias)' >> $@@-t
	@@echo 'set host_triplet $(host_triplet)' >> $@@-t
	@@echo 'set target_alias $(target_alias)' >> $@@-t
	@@echo 'set target_triplet $(target_triplet)' >> $@@-t
	@@echo 'set build_alias $(build_alias)' >> $@@-t
	@@echo 'set build_triplet $(build_triplet)' >> $@@-t
	@@echo '## All variables above are generated by configure. Do Not Edit ##' >> $@@-t
	@@test ! -f site.exp || sed '1,/^## All variables above are.*##/ d' site.exp >> $@@-t
	@@test ! -f site.exp || mv site.exp site.bak
	@@mv $@@-t site.exp
info-am:
info: info-recursive
dvi-am:
dvi: dvi-recursive
check-am:
	$(MAKE) $(AM_MAKEFLAGS) check-DEJAGNU
check: check-recursive
installcheck-am:
installcheck: installcheck-recursive
install-info-am: 
install-info: install-info-recursive
all-recursive-am: config.h
	$(MAKE) $(AM_MAKEFLAGS) all-recursive

install-exec-am: install-binPROGRAMS install-exec-local
install-exec: install-exec-recursive

install-data-am:
install-data: install-data-recursive

install-am: all-am
	@@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
install: install-recursive
uninstall-am: uninstall-binPROGRAMS
uninstall: uninstall-recursive
all-am: Makefile $(PROGRAMS) config.h
all-redirect: all-recursive-am
install-strip:
	$(MAKE) $(AM_MAKEFLAGS) AM_INSTALL_PROGRAM_FLAGS=-s install
installdirs: installdirs-recursive
installdirs-am:
	$(mkinstalldirs)  $(DESTDIR)$(bindir)


mostlyclean-generic:
	-test -z "$(MOSTLYCLEANFILES)" || rm -f $(MOSTLYCLEANFILES)

clean-generic:
	-test -z "$(CLEANFILES)" || rm -f $(CLEANFILES)

distclean-generic:
	-rm -f Makefile $(CONFIG_CLEAN_FILES)
	-rm -f config.cache config.log stamp-h stamp-h[0-9]*
	-test -z "$(DISTCLEANFILES)" || rm -f $(DISTCLEANFILES)

maintainer-clean-generic:
	-test -z "arlex.cdeflex.crclex.carparse.harparse.cdefparse.hdefparse.cnlmheader.hnlmheader.crcparse.hrcparse.c" || rm -f arlex.c deflex.c rclex.c arparse.h arparse.c defparse.h defparse.c nlmheader.h nlmheader.c rcparse.h rcparse.c
mostlyclean-am:  mostlyclean-hdr mostlyclean-binPROGRAMS \
		mostlyclean-noinstPROGRAMS mostlyclean-compile \
		mostlyclean-libtool mostlyclean-tags \
		mostlyclean-generic mostlyclean-local

mostlyclean: mostlyclean-recursive

clean-am:  clean-hdr clean-binPROGRAMS clean-noinstPROGRAMS \
		clean-compile clean-libtool clean-tags clean-generic \
		mostlyclean-am

clean: clean-recursive

distclean-am:  distclean-hdr distclean-binPROGRAMS \
		distclean-noinstPROGRAMS distclean-compile \
		distclean-libtool distclean-tags distclean-generic \
		clean-am
	-rm -f libtool

distclean: distclean-recursive
	-rm -f config.status

maintainer-clean-am:  maintainer-clean-hdr maintainer-clean-binPROGRAMS \
		maintainer-clean-noinstPROGRAMS \
		maintainer-clean-compile maintainer-clean-libtool \
		maintainer-clean-tags maintainer-clean-generic \
		distclean-am
	@@echo "This command is intended for maintainers to use;"
	@@echo "it deletes files that may require special tools to rebuild."

maintainer-clean: maintainer-clean-recursive
	-rm -f config.status

.PHONY: mostlyclean-hdr distclean-hdr clean-hdr maintainer-clean-hdr \
mostlyclean-binPROGRAMS distclean-binPROGRAMS clean-binPROGRAMS \
maintainer-clean-binPROGRAMS uninstall-binPROGRAMS install-binPROGRAMS \
mostlyclean-noinstPROGRAMS distclean-noinstPROGRAMS \
clean-noinstPROGRAMS maintainer-clean-noinstPROGRAMS \
mostlyclean-compile distclean-compile clean-compile \
maintainer-clean-compile mostlyclean-libtool distclean-libtool \
clean-libtool maintainer-clean-libtool install-data-recursive \
uninstall-data-recursive install-exec-recursive \
uninstall-exec-recursive installdirs-recursive uninstalldirs-recursive \
all-recursive check-recursive installcheck-recursive info-recursive \
dvi-recursive mostlyclean-recursive distclean-recursive clean-recursive \
maintainer-clean-recursive tags tags-recursive mostlyclean-tags \
distclean-tags clean-tags maintainer-clean-tags distdir check-DEJAGNU \
info-am info dvi-am dvi check check-am installcheck-am installcheck \
install-info-am install-info all-recursive-am install-exec-local \
install-exec-am install-exec install-data-am install-data install-am \
install uninstall-am uninstall all-redirect all-am all installdirs-am \
installdirs mostlyclean-generic distclean-generic clean-generic \
maintainer-clean-generic clean mostlyclean distclean maintainer-clean

po/POTFILES.in: @@MAINT@@ Makefile
	for f in $(POTFILES); do echo $$f; done | LC_COLLATE= sort > tmp \
	  && mv tmp $(srcdir)/po/POTFILES.in

check-DEJAGNU: site.exp
	srcdir=`cd $(srcdir) && pwd`; export srcdir; \
	r=`pwd`; export r; \
	EXPECT=$(EXPECT); export EXPECT; \
	if [ -f $(top_builddir)/../expect/expect ]; then \
	  TCL_LIBRARY=`cd $(top_srcdir)/../tcl/library && pwd`; \
	  export TCL_LIBRARY; \
	fi; \
	runtest=$(RUNTEST); \
	if $(SHELL) -c "$$runtest --version" > /dev/null 2>&1; then \
	  CC_FOR_TARGET="$(CC_FOR_TARGET)" CFLAGS_FOR_TARGET="$(CFLAGS)" \
		$$runtest --tool $(DEJATOOL) --srcdir $${srcdir}/testsuite \
			$(RUNTESTFLAGS); \
	else echo "WARNING: could not find \`runtest'" 1>&2; :;\
	fi

installcheck:
	/bin/sh $(srcdir)/sanity.sh $(bindir)

objdump.o:objdump.c
	$(COMPILE) -c $(OBJDUMP_DEFS) $(srcdir)/objdump.c

# The following is commented out for the conversion to automake.
# This rule creates a single binary that switches between ar and ranlib
# by looking at argv[0].  Use this kludge to save some disk space.
# However, you have to install things by hand.
# (That is after 'make install', replace the installed ranlib by a link to ar.)
# Alternatively, you can install ranlib.sh as ranlib.
# ar_with_ranlib: $(ADDL_DEPS) ar.o maybe-ranlib.o
#	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o maybe-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
#	-rm -f $(RANLIB_PROG)
#	-ln $(AR_PROG) $(RANLIB_PROG)
#
# objcopy and strip in one binary that uses argv[0] to decide its action.
#
#objcopy_with_strip: $(ADDL_DEPS) objcopy.o maybe-strip.o
#	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o maybe-strip.o $(ADDL_LIBS) $(EXTRALIBS)
#	-rm -f $(STRIP_PROG)
#	-ln $(OBJCOPY_PROG) $(STRIP_PROG)

sysroff.c: sysinfo$(EXEEXT_FOR_BUILD) sysroff.info 
	./sysinfo$(EXEEXT_FOR_BUILD) -c <$(srcdir)/sysroff.info >sysroff.c
	./sysinfo$(EXEEXT_FOR_BUILD) -i <$(srcdir)/sysroff.info >>sysroff.c
	./sysinfo$(EXEEXT_FOR_BUILD) -g <$(srcdir)/sysroff.info >>sysroff.c

sysroff.h: sysinfo$(EXEEXT_FOR_BUILD) sysroff.info
	./sysinfo$(EXEEXT_FOR_BUILD) -d <$(srcdir)/sysroff.info >sysroff.h

sysinfo$(EXEEXT_FOR_BUILD): sysinfo.o syslex.o
	$(CC_FOR_BUILD) $(CFLAGS) $(LDFLAGS) -o $@@ sysinfo.o syslex.o 

syslex.o: syslex.c sysinfo.h
	if [ -r syslex.c ]; then \
	  $(CC_FOR_BUILD) -c -I. $(CFLAGS)  syslex.c  ; \
	else \
	  $(CC_FOR_BUILD) -c -I. -I$(srcdir) $(CFLAGS) $(srcdir)/syslex.c ;\
	fi

sysinfo.o: sysinfo.c
	if [ -r sysinfo.c ]; then \
	  $(CC_FOR_BUILD) -c -I. $(CFLAGS)  sysinfo.c  ; \
	else \
	  $(CC_FOR_BUILD) -c -I. $(CFLAGS) $(srcdir)/sysinfo.c ; \
	fi

# We need these for parallel make.
arparse.h: arparse.c
defparse.h: defparse.c
nlmheader.h: nlmheader.c
rcparse.h: rcparse.c
sysinfo.h: sysinfo.c

dlltool.o:dlltool.c
	$(COMPILE) -c $(DLLTOOL_DEFS) $(srcdir)/dlltool.c

rescoff.o:rescoff.c
	$(COMPILE) -c $(DLLTOOL_DEFS) $(srcdir)/rescoff.c

# coff/sym.h and coff/ecoff.h won't be found by the automatic dependency
# scripts, since they are only included conditionally.
nlmconv.o: nlmconv.c $(INCDIR)/coff/sym.h $(INCDIR)/coff/ecoff.h
	ldname=`echo ld | sed '$(transform)'`; \
	$(COMPILE) -c -DLD_NAME="\"$${ldname}\"" @@NLMCONV_DEFS@@ $(srcdir)/nlmconv.c

diststuff: $(EXTRA_DIST) info

Makefile: $(BFDDIR)/configure.in

# Targets to rebuild dependencies in this Makefile.
# Have to get rid of DEP1 here so that "$?" later includes all of $(CFILES).
DEP: dep.sed $(CFILES) $(HFILES) $(GENERATED_CFILES) $(GENERATED_HFILES) config.h
	rm -f DEP1
	$(MAKE) MKDEP="$(MKDEP)" DEP1
	sed -f dep.sed < DEP1 > DEPA
	echo '# IF YOU PUT ANYTHING HERE IT WILL GO AWAY' >> DEPA
	if grep ' /' DEPA > /dev/null 2> /dev/null; then \
	  echo 'make DEP failed!'; exit 1; \
	else \
	  mv -f DEPA $@@; \
	fi

DEP1: $(CFILES) $(GENERATED_CFILES)
	echo '# DO NOT DELETE THIS LINE -- mkdep uses it.' > DEP2
	echo '# DO NOT PUT ANYTHING AFTER THIS LINE, IT WILL GO AWAY.' >> DEP2
	$(MKDEP) $(INCLUDES) $(CFLAGS) $? >> DEP2
	mv -f DEP2 $@@

dep.sed: dep-in.sed config.status
	objdir=`pwd`; \
	sed <$(srcdir)/dep-in.sed >dep.sed	\
		-e 's!@@INCDIR@@!$(INCDIR)!'	\
		-e 's!@@BFDDIR@@!$(BFDDIR)!'	\
		-e 's!@@SRCDIR@@!$(srcdir)!'	\
		-e "s!@@OBJDIR@@!$${objdir}!"	\
		-e 's!@@TOPDIR@@!'`echo $(srcdir) | sed -e s,/binutils$$,,`'!'

dep: DEP
	sed -e '/^..DO NOT DELETE THIS LINE/,$$d' < Makefile > tmp-Makefile
	cat DEP >> tmp-Makefile
	$(SHELL) $(srcdir)/../move-if-change tmp-Makefile Makefile

dep-in: DEP
	sed -e '/^..DO NOT DELETE THIS LINE/,$$d' < $(srcdir)/Makefile.in > tmp-Makefile.in
	cat DEP >> tmp-Makefile.in
	$(SHELL) $(srcdir)/../move-if-change tmp-Makefile.in $(srcdir)/Makefile.in

dep-am: DEP
	sed -e '/^..DO NOT DELETE THIS LINE/,$$d' < $(srcdir)/Makefile.am > tmp-Makefile.am
	cat DEP >> tmp-Makefile.am
	$(SHELL) $(srcdir)/../move-if-change tmp-Makefile.am $(srcdir)/Makefile.am

.PHONY: dep dep-in dep-am
mostlyclean-local:
	-rm -rf tmpdir

.PHONY: install-exec-local

install-exec-local: install-binPROGRAMS $(bin_PROGRAMS) $(noinst_PROGRAMS)
	@@list='$(noinst_PROGRAMS)'; for p in $$list; do \
	  if test -f $$p; then \
	    echo " $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/`echo $$p|sed -e 's/$(EXEEXT)$$//' -e 's/-new//' -e 's/cxxfilt/$(DEMANGLER_NAME)/'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`"; \
	    $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/`echo $$p|sed -e 's/$(EXEEXT)$$//' -e 's/-new//' -e 's/cxxfilt/$(DEMANGLER_NAME)/'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`; \
	  else :; fi; \
	done
	$(mkinstalldirs) $(DESTDIR)$(tooldir)/bin
	for i in $(TOOL_PROGS); do \
	  if [ -f $$i$(EXEEXT) ]; then \
	    j=`echo $$i | sed -e 's/-new//'`; \
	    k=`echo $$j | sed '$(transform)'`; \
	    if [ "$(bindir)/$$k" != "$(tooldir)/bin/$$j" ]; then \
	      rm -f $(DESTDIR)$(tooldir)/bin/$$j$(EXEEXT); \
	      ln $(DESTDIR)$(bindir)/$$k$(EXEEXT) $(DESTDIR)$(tooldir)/bin/$$j$(EXEEXT) >/dev/null 2>/dev/null \
		|| $(LIBTOOL) --mode=install $(INSTALL_PROGRAM) $$i$(EXEEXT) $(DESTDIR)$(tooldir)/bin/$$j$(EXEEXT); \
	    fi; \
	  else true; \
	  fi; \
	done

# What appears below is generated by a hacked mkdep using gcc -MM.

# DO NOT DELETE THIS LINE -- mkdep uses it.
# DO NOT PUT ANYTHING AFTER THIS LINE, IT WILL GO AWAY.
addr2line.o: addr2line.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/getopt.h $(INCDIR)/libiberty.h \
  $(INCDIR)/demangle.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h budemang.h
ar.o: ar.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/symcat.h \
  $(INCDIR)/libiberty.h $(INCDIR)/progress.h bucomm.h \
  config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/aout/ar.h $(BFDDIR)/libbfd.h arsup.h $(INCDIR)/filenames.h \
  binemul.h
arsup.o: arsup.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h arsup.h $(INCDIR)/libiberty.h bucomm.h \
  config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/filenames.h
binemul.o: binemul.c binemul.h ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h
bucomm.o: bucomm.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h ../bfd/bfdver.h $(INCDIR)/libiberty.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/filenames.h $(BFDDIR)/libbfd.h
budemang.o: budemang.c config.h ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h $(INCDIR)/demangle.h \
  budemang.h
coffdump.o: coffdump.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h coffgrok.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
coffgrok.o: coffgrok.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/coff/internal.h \
  $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h coffgrok.h
cxxfilt.o: cxxfilt.c config.h ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h $(INCDIR)/demangle.h $(INCDIR)/safe-ctype.h
debug.o: debug.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h debug.h
dlltool.o: dlltool.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/demangle.h \
  $(INCDIR)/dyn-string.h dlltool.h $(INCDIR)/safe-ctype.h
dllwrap.o: dllwrap.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/dyn-string.h
emul_aix.o: emul_aix.c binemul.h ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/bfdlink.h $(INCDIR)/coff/internal.h \
  $(INCDIR)/coff/xcoff.h $(BFDDIR)/libcoff.h $(BFDDIR)/libxcoff.h
emul_vanilla.o: emul_vanilla.c binemul.h ../bfd/bfd.h \
  $(INCDIR)/ansidecl.h $(INCDIR)/symcat.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
filemode.o: filemode.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h
ieee.o: ieee.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/symcat.h \
  $(INCDIR)/ieee.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h debug.h \
  budbg.h $(INCDIR)/filenames.h
is-ranlib.o: is-ranlib.c
is-strip.o: is-strip.c
maybe-ranlib.o: maybe-ranlib.c
maybe-strip.o: maybe-strip.c
nlmconv.o: nlmconv.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/safe-ctype.h \
  $(BFDDIR)/libnlm.h $(INCDIR)/nlm/common.h $(INCDIR)/nlm/internal.h \
  $(INCDIR)/nlm/external.h nlmconv.h
nm.o: nm.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/symcat.h \
  $(INCDIR)/progress.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h budemang.h $(INCDIR)/aout/stab_gnu.h \
  $(INCDIR)/aout/stab.def $(INCDIR)/aout/ranlib.h $(INCDIR)/demangle.h \
  $(INCDIR)/libiberty.h $(BFDDIR)/elf-bfd.h $(INCDIR)/elf/common.h \
  $(INCDIR)/elf/internal.h $(INCDIR)/elf/external.h $(INCDIR)/bfdlink.h
not-ranlib.o: not-ranlib.c
not-strip.o: not-strip.c
objcopy.o: objcopy.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/progress.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  budbg.h $(INCDIR)/filenames.h $(INCDIR)/fnmatch.h
objdump.o: objdump.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h ../bfd/bfdver.h $(INCDIR)/progress.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  budemang.h $(INCDIR)/safe-ctype.h $(INCDIR)/dis-asm.h \
  $(INCDIR)/libiberty.h $(INCDIR)/demangle.h debug.h \
  budbg.h $(INCDIR)/aout/aout64.h
prdbg.o: prdbg.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h debug.h \
  budbg.h
rdcoff.o: rdcoff.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/coff/internal.h bucomm.h \
  config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h $(BFDDIR)/libcoff.h \
  $(INCDIR)/bfdlink.h
rddbg.o: rddbg.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h debug.h \
  budbg.h
readelf.o: readelf.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/elf/common.h $(INCDIR)/elf/external.h \
  $(INCDIR)/elf/internal.h $(INCDIR)/elf/dwarf2.h $(INCDIR)/elf/alpha.h \
  $(INCDIR)/elf/reloc-macros.h $(INCDIR)/elf/arc.h $(INCDIR)/elf/arm.h \
  $(INCDIR)/elf/avr.h $(INCDIR)/elf/cris.h $(INCDIR)/elf/d10v.h \
  $(INCDIR)/elf/d30v.h $(INCDIR)/elf/dlx.h $(INCDIR)/elf/fr30.h \
  $(INCDIR)/elf/frv.h $(INCDIR)/elf/h8.h $(INCDIR)/elf/hppa.h \
  $(INCDIR)/elf/i386.h $(INCDIR)/elf/i370.h $(INCDIR)/elf/i860.h \
  $(INCDIR)/elf/i960.h $(INCDIR)/elf/ia64.h $(INCDIR)/elf/ip2k.h \
  $(INCDIR)/elf/m32r.h $(INCDIR)/elf/m68k.h $(INCDIR)/elf/m68hc11.h \
  $(INCDIR)/elf/mcore.h $(INCDIR)/elf/mips.h $(INCDIR)/elf/mmix.h \
  $(INCDIR)/elf/mn10200.h $(INCDIR)/elf/mn10300.h $(INCDIR)/elf/msp430.h \
  $(INCDIR)/elf/or32.h $(INCDIR)/elf/pj.h $(INCDIR)/elf/ppc.h \
  $(INCDIR)/elf/ppc64.h $(INCDIR)/elf/s390.h $(INCDIR)/elf/sh.h \
  $(INCDIR)/elf/sparc.h $(INCDIR)/elf/v850.h $(INCDIR)/elf/vax.h \
  $(INCDIR)/elf/x86-64.h $(INCDIR)/elf/xstormy16.h $(INCDIR)/elf/iq2000.h \
  $(INCDIR)/elf/xtensa.h $(INCDIR)/aout/ar.h bucomm.h \
  config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h unwind-ia64.h
rename.o: rename.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h
resbin.o: resbin.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h windres.h \
  winduni.h
rescoff.o: rescoff.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h windres.h \
  winduni.h $(INCDIR)/coff/internal.h $(BFDDIR)/libcoff.h \
  $(INCDIR)/bfdlink.h
resrc.o: resrc.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/safe-ctype.h \
  windres.h winduni.h
resres.o: resres.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h windres.h \
  winduni.h
size.o: size.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/symcat.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h
srconv.o: srconv.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h sysroff.h coffgrok.h $(INCDIR)/libiberty.h \
  $(INCDIR)/coff/internal.h $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h \
  sysroff.c
stabs.o: stabs.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/safe-ctype.h \
  $(INCDIR)/demangle.h debug.h budbg.h $(INCDIR)/filenames.h \
  $(INCDIR)/aout/aout64.h $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def
strings.o: strings.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/getopt.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  $(INCDIR)/safe-ctype.h
sysdump.o: sysdump.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/safe-ctype.h $(INCDIR)/libiberty.h \
  sysroff.h sysroff.c
version.o: version.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h ../bfd/bfdver.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
windres.o: windres.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/getopt.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  $(INCDIR)/safe-ctype.h $(INCDIR)/obstack.h windres.h \
  winduni.h
winduni.o: winduni.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h winduni.h $(INCDIR)/safe-ctype.h
wrstabs.o: wrstabs.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/safe-ctype.h \
  debug.h budbg.h $(INCDIR)/aout/aout64.h $(INCDIR)/aout/stab_gnu.h \
  $(INCDIR)/aout/stab.def
arparse.o: arparse.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h arsup.h
arlex.o: arlex.c $(INCDIR)/ansidecl.h $(INCDIR)/libiberty.h \
  arparse.h
sysroff.o: sysroff.c
sysinfo.o: sysinfo.c
syslex.o: syslex.c sysinfo.h
defparse.o: defparse.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h dlltool.h
deflex.o: deflex.c $(INCDIR)/libiberty.h $(INCDIR)/ansidecl.h \
  defparse.h dlltool.h
nlmheader.o: nlmheader.c $(INCDIR)/ansidecl.h $(INCDIR)/safe-ctype.h \
  ../bfd/bfd.h $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/nlm/common.h $(INCDIR)/nlm/internal.h \
  nlmconv.h
rcparse.o: rcparse.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h windres.h \
  winduni.h $(INCDIR)/safe-ctype.h
rclex.o: rclex.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/safe-ctype.h \
  windres.h winduni.h rcparse.h
# IF YOU PUT ANYTHING HERE IT WILL GO AWAY

# Tell versions [3.59,3.63) of GNU make to not export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
@


1.19
log
@Do not install binutils nm/size, mickey@@
@
text
@d80 1
a80 1
DEMANGLER_NAME = @@DEMANGLER_NAME@@
d156 1
a156 1
#DEMANGLER_PROG=cxxfilt
d185 6
a190 1
INCLUDES = -D_GNU_SOURCE 	 -I. -I$(srcdir) -I../bfd -I$(BFDDIR) -I$(INCDIR) 	 @@HDEFINES@@ 	 -I$(srcdir)/../intl -I../intl 	 -DLOCALEDIR="\"$(prefix)/share/locale\"" 	 -Dbin_dummy_emulation=$(EMULATION_VECTOR)
d193 4
a196 1
HFILES =  	arsup.h binemul.h bucomm.h budbg.h budemang.h 	coffgrok.h debug.h dlltool.h nlmconv.h 	windres.h winduni.h
d201 16
a216 4
CFILES =  	addr2line.c ar.c arsup.c binemul.c bucomm.c budemang.c 	coffdump.c coffgrok.c cxxfilt.c debug.c dlltool.c dllwrap.c 	emul_aix.c emul_vanilla.c filemode.c 	ieee.c is-ranlib.c is-strip.c maybe-ranlib.c maybe-strip.c 	nlmconv.c nm.c not-ranlib.c not-strip.c 	objcopy.c objdump.c prdbg.c 	rdcoff.c rddbg.c readelf.c rename.c 	resbin.c rescoff.c resrc.c resres.c 	size.c srconv.c stabs.c strings.c sysdump.c version.c 	windres.c winduni.c wrstabs.c


GENERATED_CFILES =  	arparse.c arlex.c sysroff.c sysinfo.c syslex.c 	defparse.c deflex.c nlmheader.c rcparse.c rclex.c
d233 23
a255 6
EXPECT = `if [ -f $$r/../expect/expect ] ; then           echo $$r/../expect/expect ;           else echo expect ; fi`

RUNTEST = `if [ -f ${srcdir}/../dejagnu/runtest ] ; then            echo ${srcdir}/../dejagnu/runtest ;            else echo runtest ;  fi`


CC_FOR_TARGET = `   if [ -f $$r/../gcc/xgcc ] ; then     if [ -f $$r/../newlib/Makefile ] ; then       echo $$r/../gcc/xgcc -B$$r/../gcc/ -idirafter $$r/../newlib/targ-include -idirafter $${srcroot}/../newlib/libc/include -nostdinc;     else       echo $$r/../gcc/xgcc -B$$r/../gcc/;     fi;   else     if [ "@@host@@" = "@@target@@" ] ; then       echo $(CC);     else       echo gcc | sed '$(transform)';     fi;   fi`
d278 2
a279 1
ar_SOURCES = arparse.y arlex.l ar.c not-ranlib.c arsup.c rename.c binemul.c 	emul_$(EMULATION).c $(BULIBS)
d283 2
a284 1
ranlib_SOURCES = ar.c is-ranlib.c arparse.y arlex.l arsup.c rename.c 	binemul.c emul_$(EMULATION).c $(BULIBS)
d301 2
a302 1
windres_SOURCES = windres.c resrc.c rescoff.c resbin.c rcparse.y rclex.l 	winduni.c resres.c $(BULIBS)
d309 2
a310 1
EXTRA_DIST = arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h 	syslex.c deflex.c defparse.h defparse.c rclex.c rcparse.h rcparse.c
d313 2
a314 1
DISTCLEANFILES = sysinfo sysroff.c sysroff.h 	site.exp site.bak
d330 1
d637 1
d867 1
a867 1
	-test -z "arlexcdeflexcrclexcarparseharparsecdefparsehdefparsecnlmheaderhnlmheadercrcparsehrcparsec" || rm -f arlexc deflexc rclexc arparseh arparsec defparseh defparsec nlmheaderh nlmheaderc rcparseh rcparsec
d923 1
a923 1
	for file in $(POTFILES); do echo $$file; done | sort > tmp \
d1075 1
a1075 1
	    if [ "$(DESTDIR)$(bindir)/$$k$(EXEEXT)" != "$(DESTDIR)$(tooldir)/bin/$$j$(EXEEXT)" ]; then \
d1105 3
a1107 3
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/filenames.h \
  ../bfd/bfdver.h $(BFDDIR)/libbfd.h
d1165 1
a1165 1
  budbg.h $(INCDIR)/filenames.h
d1201 3
a1203 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  unwind-ia64.h
@


1.18
log
@Resolve merge conflicts, adjust method of W^X handing (.sh files)
remove testsuites (not useable) remove mmalloc (not part of new binutils).
@
text
@d167 1
a167 1
PROGS = $(SIZE_PROG) $(OBJDUMP_PROG) $(NM_PROG) $(AR_PROG) $(STRINGS_PROG) $(STRIP_PROG) $(RANLIB_PROG) $(DEMANGLER_PROG) $(OBJCOPY_PROG) @@BUILD_NLMCONV@@ @@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@ @@BUILD_WINDRES@@ $(ADDR2LINE_PROG) $(READELF_PROG) @@BUILD_DLLWRAP@@ @@BUILD_MISC@@
d169 1
a169 1
bin_PROGRAMS = $(SIZE_PROG) $(OBJDUMP_PROG) $(AR_PROG) $(STRINGS_PROG) $(RANLIB_PROG) $(OBJCOPY_PROG) @@BUILD_NLMCONV@@ @@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@ @@BUILD_WINDRES@@ $(ADDR2LINE_PROG) $(READELF_PROG) @@BUILD_DLLWRAP@@ @@BUILD_MISC@@
d172 1
a172 1
noinst_PROGRAMS = $(NM_PROG) $(STRIP_PROG)
d177 1
a177 1
TOOL_PROGS = nm-new strip-new ar ranlib dlltool
d284 1
a284 1
bin_PROGRAMS =  size$(EXEEXT) objdump$(EXEEXT) ar$(EXEEXT) \
d288 1
a288 1
noinst_PROGRAMS =  nm-new$(EXEEXT) strip-new$(EXEEXT)
@


1.17
log
@use our own nm and size
@
text
@d1 1
a1 1
# Makefile.in generated automatically by automake 1.4 from Makefile.am
d3 1
a3 1
# Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.
d83 2
a111 1
UNDERSCORE = @@UNDERSCORE@@
d115 2
d123 1
a123 1
SUBDIRS = po
d156 1
a156 1
#DEMANGLER_PROG = cxxfilt
a166 4
man_MANS = ar.1 nm.1 objdump.1 ranlib.1 size.1 strings.1 strip.1 objcopy.1 \
	addr2line.1 nlmconv.1 $(DEMANGLER_NAME).1


d171 2
a172 1
noinst_PROGRAMS = $(NM_PROG) $(STRIP_PROG) $(DEMANGLER_PROG)
d176 2
a177 2
# Stuff that goes in tooldir/ if appropriate
TOOL_PROGS = strip-new ar ranlib dlltool
d185 1
a185 1
INCLUDES = -D_GNU_SOURCE -I. -I$(srcdir) -I../bfd -I$(BFDDIR) -I$(INCDIR) @@HDEFINES@@ -I$(srcdir)/../intl -I../intl -DLOCALEDIR="\"$(prefix)/share/locale\""
d187 2
a188 2
HFILES = arsup.h bucomm.h budbg.h coffgrok.h debug.h nlmconv.h dlltool.h \
	windres.h winduni.h
d193 1
a193 7
CFILES = addr2line.c ar.c arsup.c bucomm.c coffdump.c coffgrok.c debug.c \
	dlltool.c filemode.c ieee.c is-ranlib.c is-strip.c maybe-ranlib.c \
	maybe-strip.c nlmconv.c nm.c not-ranlib.c not-strip.c \
	objcopy.c objdump.c prdbg.c rdcoff.c rddbg.c size.c srconv.c \
	stabs.c strings.c sysdump.c version.c wrstabs.c \
	windres.c resrc.c rescoff.c resbin.c winduni.c readelf.c \
	resres.c dllwrap.c rename.c
d196 1
a196 3
GENERATED_CFILES = \
	underscore.c arparse.c arlex.c sysroff.c sysinfo.c syslex.c \
	defparse.c deflex.c nlmheader.c rcparse.c rclex.c
d213 3
a215 23
EXPECT = `if [ -f $$r/../expect/expect ] ; then \
          echo $$r/../expect/expect ; \
          else echo expect ; fi`

RUNTEST = `if [ -f ${srcdir}/../dejagnu/runtest ] ; then \
           echo ${srcdir}/../dejagnu/runtest ; \
           else echo runtest ;  fi`


CC_FOR_TARGET = ` \
  if [ -f $$r/../gcc/xgcc ] ; then \
    if [ -f $$r/../newlib/Makefile ] ; then \
      echo $$r/../gcc/xgcc -B$$r/../gcc/ -idirafter $$r/../newlib/targ-include -idirafter $${srcroot}/../newlib/libc/include -nostdinc; \
    else \
      echo $$r/../gcc/xgcc -B$$r/../gcc/; \
    fi; \
  else \
    if [ "@@host@@" = "@@target@@" ] ; then \
      echo $(CC); \
    else \
      echo gcc | sed '$(transform)'; \
    fi; \
  fi`
d218 2
a219 1
info_TEXINFOS = binutils.texi
d234 1
a234 1
nm_new_SOURCES = nm.c $(BULIBS)
d236 1
a236 1
objdump_SOURCES = objdump.c prdbg.c $(DEBUG_SRCS) $(BULIBS)
d239 3
a241 2
cxxfilt_SOURCES = 
cxxfilt_LDADD = cplus-dem.o underscore.o $(LIBIBERTY) $(INTLLIBS)
a242 1
ar_SOURCES = arparse.y arlex.l ar.c not-ranlib.c arsup.c rename.c $(BULIBS)
d245 2
a246 1
ranlib_SOURCES = ar.c is-ranlib.c arparse.y arlex.l arsup.c rename.c $(BULIBS)
d249 1
a249 1
addr2line_SOURCES = addr2line.c $(BULIBS)
d262 1
a262 2
windres_SOURCES = windres.c resrc.c rescoff.c resbin.c rcparse.y rclex.l \
	winduni.c resres.c $(BULIBS)
d269 1
a269 2
DISTSTUFF = arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h \
	syslex.c deflex.c defparse.h defparse.c rclex.c rcparse.h rcparse.c
d272 1
a272 2
DISTCLEANFILES = stamp-under sysinfo underscore.c sysroff.c sysroff.h \
	site.exp site.bak
d275 1
a275 4
MAINTAINERCLEANFILES = config.texi

MOSTLYCLEANFILES = sysinfo $(DEMANGLER_NAME).1 binutils.log binutils.sum \
	abcdefgh*
d277 1
d284 1
a284 1
bin_PROGRAMS =  objdump$(EXEEXT) ar$(EXEEXT) \
d288 1
a288 1
noinst_PROGRAMS =  strip-new$(EXEEXT)
d326 1
a326 1
dllwrap_DEPENDENCIES =  
d333 3
a335 3
objdump_OBJECTS =  objdump.$(OBJEXT) prdbg.$(OBJEXT) rddbg.$(OBJEXT) \
debug.$(OBJEXT) stabs.$(OBJEXT) ieee.$(OBJEXT) rdcoff.$(OBJEXT) \
bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
d339 3
a341 2
not-ranlib.$(OBJEXT) arsup.$(OBJEXT) rename.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
d350 3
a352 2
arlex.$(OBJEXT) arsup.$(OBJEXT) rename.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
d362 2
a363 2
addr2line_OBJECTS =  addr2line.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
d369 1
a369 1
readelf_DEPENDENCIES =
d371 2
a372 2
nm_new_OBJECTS =  nm.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
a382 3
cxxfilt_OBJECTS = 
cxxfilt_DEPENDENCIES =  cplus-dem.o underscore.o
cxxfilt_LDFLAGS = 
a390 9
TEXI2DVI = `if test -f $(top_srcdir)/../texinfo/util/texi2dvi; then echo $(top_srcdir)/../texinfo/util/texi2dvi; else echo texi2dvi; fi`
TEXINFO_TEX = $(top_srcdir)/../texinfo/texinfo.tex
INFO_DEPS = binutils.info
DVIS = binutils.dvi
TEXINFOS = binutils.texi
man1dir = $(mandir)/man1
MANS = $(man_MANS)

NROFF = nroff
d400 2
a401 6
SOURCES = $(nlmconv_SOURCES) $(srconv_SOURCES) $(sysdump_SOURCES) $(coffdump_SOURCES) $(dlltool_SOURCES) $(windres_SOURCES) $(dllwrap_SOURCES) $(size_SOURCES) $(objdump_SOURCES) $(ar_SOURCES) $(strings_SOURCES) $(ranlib_SOURCES) $(objcopy_SOURCES) $(addr2line_SOURCES) $(readelf_SOURCES) $(nm_new_SOURCES) $(strip_new_SOURCES) $(cxxfilt_SOURCES)
OBJECTS = $(nlmconv_OBJECTS) $(srconv_OBJECTS) $(sysdump_OBJECTS) $(coffdump_OBJECTS) $(dlltool_OBJECTS) $(windres_OBJECTS) $(dllwrap_OBJECTS) $(size_OBJECTS) $(objdump_OBJECTS) $(ar_OBJECTS) $(strings_OBJECTS) $(ranlib_OBJECTS) $(objcopy_OBJECTS) $(addr2line_OBJECTS) $(readelf_OBJECTS) $(nm_new_OBJECTS) $(strip_new_OBJECTS) $(cxxfilt_OBJECTS)

# Target to use for installing unformatted man-pages.  Some systems may not
# want them installed.
INSTALL_MAN = install-man
d405 1
a405 1
.SUFFIXES: .S .c .dvi .info .l .lo .o .obj .ps .s .texi .texinfo .txi .y
a593 4

cxxfilt$(EXEEXT): $(cxxfilt_OBJECTS) $(cxxfilt_DEPENDENCIES)
	@@rm -f cxxfilt$(EXEEXT)
	$(LINK) $(cxxfilt_LDFLAGS) $(cxxfilt_OBJECTS) $(cxxfilt_LDADD) $(LIBS)
a603 152
binutils.info: binutils.texi
binutils.dvi: binutils.texi


DVIPS = dvips

.texi.info:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<

.texi.dvi:
	TEXINPUTS=$(top_srcdir)/../texinfo/texinfo.tex:$$TEXINPUTS \
	  MAKEINFO='$(MAKEINFO) -I $(srcdir)' $(TEXI2DVI) $<

.texi:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<

.texinfo.info:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<

.texinfo:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<

.texinfo.dvi:
	TEXINPUTS=$(top_srcdir)/../texinfo/texinfo.tex:$$TEXINPUTS \
	  MAKEINFO='$(MAKEINFO) -I $(srcdir)' $(TEXI2DVI) $<

.txi.info:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<

.txi.dvi:
	TEXINPUTS=$(top_srcdir)/../texinfo/texinfo.tex:$$TEXINPUTS \
	  MAKEINFO='$(MAKEINFO) -I $(srcdir)' $(TEXI2DVI) $<

.txi:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<
.dvi.ps:
	$(DVIPS) $< -o $@@

install-info-am: $(INFO_DEPS)
	@@$(NORMAL_INSTALL)
	$(mkinstalldirs) $(DESTDIR)$(infodir)
	@@list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
	  for ifile in `cd $$d && echo $$file $$file-[0-9] $$file-[0-9][0-9]`; do \
	    if test -f $$d/$$ifile; then \
	      echo " $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile"; \
	      $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile; \
	    else : ; fi; \
	  done; \
	done
	@@$(POST_INSTALL)
	@@if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \
	  list='$(INFO_DEPS)'; \
	  for file in $$list; do \
	    echo " install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file";\
	    install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file || :;\
	  done; \
	else : ; fi

uninstall-info:
	$(PRE_UNINSTALL)
	@@if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \
	  ii=yes; \
	else ii=; fi; \
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  test -z "$ii" \
	    || install-info --info-dir=$(DESTDIR)$(infodir) --remove $$file; \
	done
	@@$(NORMAL_UNINSTALL)
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  (cd $(DESTDIR)$(infodir) && rm -f $$file $$file-[0-9] $$file-[0-9][0-9]); \
	done

dist-info: $(INFO_DEPS)
	list='$(INFO_DEPS)'; \
	for base in $$list; do \
	  if test -f $$base; then d=.; else d=$(srcdir); fi; \
	  for file in `cd $$d && eval echo $$base*`; do \
	    test -f $(distdir)/$$file \
	    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \
	    || cp -p $$d/$$file $(distdir)/$$file; \
	  done; \
	done

mostlyclean-aminfo:
	-rm -f binutils.aux binutils.cp binutils.cps binutils.dvi binutils.fn \
	  binutils.fns binutils.ky binutils.kys binutils.ps \
	  binutils.log binutils.pg binutils.toc binutils.tp \
	  binutils.tps binutils.vr binutils.vrs binutils.op binutils.tr \
	  binutils.cv binutils.cn

clean-aminfo:

distclean-aminfo:

maintainer-clean-aminfo:
	for i in $(INFO_DEPS); do \
	  rm -f $$i; \
	  if test "`echo $$i-[0-9]*`" != "$$i-[0-9]*"; then \
	    rm -f $$i-[0-9]*; \
	  fi; \
	done
clean-info: mostlyclean-aminfo

install-man1:
	$(mkinstalldirs) $(DESTDIR)$(man1dir)
	@@list='$(man1_MANS)'; \
	l2='$(man_MANS)'; for i in $$l2; do \
	  case "$$i" in \
	    *.1*) list="$$list $$i" ;; \
	  esac; \
	done; \
	for i in $$list; do \
	  if test -f $(srcdir)/$$i; then file=$(srcdir)/$$i; \
	  else file=$$i; fi; \
	  ext=`echo $$i | sed -e 's/^.*\\.//'`; \
	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
	  echo " $(INSTALL_DATA) $$file $(DESTDIR)$(man1dir)/$$inst"; \
	  $(INSTALL_DATA) $$file $(DESTDIR)$(man1dir)/$$inst; \
	done

uninstall-man1:
	@@list='$(man1_MANS)'; \
	l2='$(man_MANS)'; for i in $$l2; do \
	  case "$$i" in \
	    *.1*) list="$$list $$i" ;; \
	  esac; \
	done; \
	for i in $$list; do \
	  ext=`echo $$i | sed -e 's/^.*\\.//'`; \
	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
	  echo " rm -f $(DESTDIR)$(man1dir)/$$inst"; \
	  rm -f $(DESTDIR)$(man1dir)/$$inst; \
	done
install-man: $(MANS)
	@@$(NORMAL_INSTALL)
	$(MAKE) $(AM_MAKEFLAGS) install-man1
uninstall-man:
	@@$(NORMAL_UNINSTALL)
	$(MAKE) $(AM_MAKEFLAGS) uninstall-man1

d640 1
a640 1
	  test "$$subdir" = "." && dot_seen=yes; \
a751 1
	$(MAKE) $(AM_MAKEFLAGS) top_distdir="$(top_distdir)" distdir="$(distdir)" dist-info
d777 1
a777 1
info-am: $(INFO_DEPS)
d779 1
a779 1
dvi-am: $(DVIS)
d794 1
a794 1
install-data-am: $(INSTALL_MAN)
d800 1
a800 1
uninstall-am: uninstall-binPROGRAMS uninstall-man
d802 1
a802 1
all-am: Makefile $(PROGRAMS) $(MANS) config.h
d808 1
a808 1
	$(mkinstalldirs)  $(DESTDIR)$(bindir) $(DESTDIR)$(mandir)/man1
d823 1
a823 1
	-test -z "arlexldeflexlrclexlarparseharparsecdefparsehdefparsecnlmheaderhnlmheadercrcparsehrcparsec$(MAINTAINERCLEANFILES)" || rm -f arlexl deflexl rclexl arparseh arparsec defparseh defparsec nlmheaderh nlmheaderc rcparseh rcparsec $(MAINTAINERCLEANFILES)
d826 1
a826 1
		mostlyclean-libtool mostlyclean-aminfo mostlyclean-tags \
d832 2
a833 2
		clean-compile clean-libtool clean-aminfo clean-tags \
		clean-generic mostlyclean-am
d839 2
a840 2
		distclean-libtool distclean-aminfo distclean-tags \
		distclean-generic clean-am
d849 2
a850 2
		maintainer-clean-aminfo maintainer-clean-tags \
		maintainer-clean-generic distclean-am
d864 5
a868 8
clean-libtool maintainer-clean-libtool install-info-am uninstall-info \
mostlyclean-aminfo distclean-aminfo clean-aminfo \
maintainer-clean-aminfo install-man1 uninstall-man1 install-man \
uninstall-man install-data-recursive uninstall-data-recursive \
install-exec-recursive uninstall-exec-recursive installdirs-recursive \
uninstalldirs-recursive all-recursive check-recursive \
installcheck-recursive info-recursive dvi-recursive \
mostlyclean-recursive distclean-recursive clean-recursive \
d892 3
a894 3
	  $$runtest --tool $(DEJATOOL) --srcdir $${srcdir}/testsuite \
		CC_FOR_TARGET="$(CC_FOR_TARGET)" \
		CFLAGS_FOR_TARGET="$(CFLAGS)" $(RUNTESTFLAGS); \
a903 11
underscore.c: stamp-under ; @@true

stamp-under: Makefile
	echo '/*WARNING: This file is automatically generated!*/' >underscore.t
	echo "int prepends_underscore = @@UNDERSCORE@@;" >>underscore.t
	$(SHELL) $(srcdir)/../move-if-change underscore.t underscore.c
	touch stamp-under

cplus-dem.o: $(BASEDIR)/libiberty/cplus-dem.c $(INCDIR)/getopt.h
	$(COMPILE) -c -DMAIN -DVERSION='"$(VERSION)"' $(BASEDIR)/libiberty/cplus-dem.c

d966 3
a968 1
diststuff: $(DISTSTUFF) info
d995 2
a996 1
		-e "s!@@OBJDIR@@!$${objdir}!"
a1013 14

###
# DOCUMENTATION TARGETS
config.texi: Makefile
	rm -f config.texi
	echo '@@set VERSION $(VERSION)' > config.texi

binutils.dvi: $(srcdir)/binutils.texi config.texi

binutils.info: $(srcdir)/binutils.texi config.texi

$(DEMANGLER_NAME).1: cxxfilt.man Makefile
	sed -e 's/@@PROGRAM@@/$(DEMANGLER_NAME)/' < $(srcdir)/cxxfilt.man \
		> $(DEMANGLER_NAME).1
d1022 1
a1022 1
	    echo " $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(bindir)/`echo $$p|sed -e 's/$(EXEEXT)$$//' -e 's/-new//' -e 's/cxxfilt/$(DEMANGLER_NAME)/'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`"; \
d1031 1
a1031 1
	    if [ "$(bindir)/$$k$(EXEEXT)" != "$(tooldir)/bin/$$j$(EXEEXT)" ]; then \
d1045 8
a1052 6
  $(INCDIR)/getopt.h $(INCDIR)/libiberty.h $(INCDIR)/demangle.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
ar.o: ar.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/libiberty.h \
  $(INCDIR)/progress.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/aout/ar.h $(BFDDIR)/libbfd.h \
  arsup.h $(INCDIR)/filenames.h
d1054 6
a1059 2
  arsup.h $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/filenames.h
d1061 16
a1076 7
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/filenames.h
coffdump.o: coffdump.c coffgrok.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
coffgrok.o: coffgrok.c bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/coff/internal.h $(BFDDIR)/libcoff.h \
  $(INCDIR)/bfdlink.h coffgrok.h
d1078 2
a1079 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h
d1081 13
a1093 3
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h $(INCDIR)/demangle.h \
  $(INCDIR)/dyn-string.h dlltool.h
d1095 6
a1100 4
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
ieee.o: ieee.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/ieee.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h $(INCDIR)/filenames.h
d1106 10
a1115 7
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(BFDDIR)/libnlm.h $(INCDIR)/nlm/common.h \
  $(INCDIR)/nlm/internal.h $(INCDIR)/nlm/external.h nlmconv.h
nm.o: nm.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/progress.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/getopt.h $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def \
  $(INCDIR)/aout/ranlib.h $(INCDIR)/demangle.h $(INCDIR)/libiberty.h
d1119 2
a1120 2
  $(INCDIR)/progress.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h $(INCDIR)/libiberty.h \
d1123 3
a1125 2
  $(INCDIR)/getopt.h $(INCDIR)/progress.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/dis-asm.h \
d1129 3
a1131 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h
d1133 4
a1136 3
  $(INCDIR)/coff/internal.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/demangle.h \
  debug.h budbg.h $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h
d1138 19
d1158 22
a1179 2
  $(INCDIR)/libiberty.h debug.h budbg.h
size.o: size.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/getopt.h \
d1182 5
a1186 3
srconv.o: srconv.c bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h sysroff.h coffgrok.h $(INCDIR)/coff/internal.h \
  $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h sysroff.c
d1188 4
a1191 4
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h $(INCDIR)/demangle.h debug.h \
  budbg.h $(INCDIR)/aout/aout64.h $(INCDIR)/aout/stab_gnu.h \
  $(INCDIR)/aout/stab.def
d1193 3
a1195 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h
d1197 2
a1198 1
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
d1201 2
a1202 5
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
wrstabs.o: wrstabs.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h $(INCDIR)/aout/aout64.h \
  $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def
d1204 4
a1207 13
  $(INCDIR)/getopt.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/obstack.h \
  windres.h winduni.h
resrc.o: resrc.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h
rescoff.o: rescoff.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h $(INCDIR)/coff/internal.h \
  $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h
resbin.o: resbin.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h
d1209 7
a1215 23
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  winduni.h
readelf.o: readelf.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/elf/common.h $(INCDIR)/elf/external.h $(INCDIR)/elf/internal.h \
  $(INCDIR)/elf/dwarf2.h $(INCDIR)/elf/i386.h $(INCDIR)/elf/reloc-macros.h \
  $(INCDIR)/elf/v850.h $(INCDIR)/elf/ppc.h $(INCDIR)/elf/mips.h \
  $(INCDIR)/elf/alpha.h $(INCDIR)/elf/arm.h $(INCDIR)/elf/m68k.h \
  $(INCDIR)/elf/sparc.h $(INCDIR)/elf/m32r.h $(INCDIR)/elf/d10v.h \
  $(INCDIR)/elf/d30v.h $(INCDIR)/elf/sh.h $(INCDIR)/elf/mn10200.h \
  $(INCDIR)/elf/mn10300.h $(INCDIR)/elf/hppa.h $(INCDIR)/elf/arc.h \
  $(INCDIR)/elf/fr30.h $(INCDIR)/elf/mcore.h $(INCDIR)/elf/i960.h \
  $(INCDIR)/elf/pj.h $(INCDIR)/elf/avr.h $(INCDIR)/elf/ia64.h \
  $(INCDIR)/elf/cris.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h
resres.o: resres.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h
dllwrap.o: dllwrap.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h $(INCDIR)/dyn-string.h
rename.o: rename.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
underscore.o: underscore.c
d1217 4
a1220 3
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  arsup.h
arlex.o: arlex.c $(INCDIR)/libiberty.h arparse.h
d1225 2
a1226 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  dlltool.h
d1229 4
a1232 3
nlmheader.o: nlmheader.c ../bfd/bfd.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/nlm/common.h \
  $(INCDIR)/nlm/internal.h nlmconv.h
d1234 3
a1236 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h
d1238 3
a1240 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h rcparse.h
@


1.16
log
@resolve conflicts.
@
text
@d177 1
a177 1
TOOL_PROGS = nm-new strip-new ar ranlib dlltool
d315 1
a315 1
bin_PROGRAMS =  size$(EXEEXT) objdump$(EXEEXT) ar$(EXEEXT) \
d319 1
a319 1
noinst_PROGRAMS =  nm-new$(EXEEXT) strip-new$(EXEEXT)
@


1.15
log
@Automatic cvs merge. Dread what I will have to fix after this excuse
of a program is done...
@
text
@d77 2
d84 2
d103 2
d109 1
d131 3
d164 2
a165 1
man_MANS = ar.1 nm.1 objdump.1 ranlib.1 size.1 strings.1 strip.1 objcopy.1 	addr2line.1 nlmconv.1 $(DEMANGLER_NAME).1
d187 2
a188 1
HFILES = arsup.h bucomm.h budbg.h coffgrok.h debug.h nlmconv.h dlltool.h 	windres.h winduni.h
d193 7
a199 1
CFILES = addr2line.c ar.c arsup.c bucomm.c coffdump.c coffgrok.c debug.c 	dlltool.c filemode.c ieee.c is-ranlib.c is-strip.c maybe-ranlib.c 	maybe-strip.c nlmconv.c nm.c not-ranlib.c not-strip.c 	objcopy.c objdump.c prdbg.c rdcoff.c rddbg.c size.c srconv.c 	stabs.c strings.c sysdump.c version.c wrstabs.c 	windres.c resrc.c rescoff.c resbin.c winduni.c readelf.c 	resres.c dllwrap.c rename.c
d202 3
a204 1
GENERATED_CFILES =  	underscore.c arparse.c arlex.c sysroff.c sysinfo.c syslex.c 	defparse.c deflex.c nlmheader.c rcparse.c rclex.c
d221 23
a243 6
EXPECT = `if [ -f $$r/../expect/expect ] ; then           echo $$r/../expect/expect ;           else echo expect ; fi`

RUNTEST = `if [ -f ${srcdir}/../dejagnu/runtest ] ; then            echo ${srcdir}/../dejagnu/runtest ;            else echo runtest ;  fi`


CC_FOR_TARGET = `   if [ -f $$r/../gcc/xgcc ] ; then     if [ -f $$r/../newlib/Makefile ] ; then       echo $$r/../gcc/xgcc -B$$r/../gcc/ -idirafter $$r/../newlib/targ-include -idirafter $${srcroot}/../newlib/libc/include -nostdinc;     else       echo $$r/../gcc/xgcc -B$$r/../gcc/;     fi;   else     if [ "@@host@@" = "@@target@@" ] ; then       echo $(CC);     else       echo gcc | sed '$(transform)';     fi;   fi`
d256 1
a256 1
readelf_SOURCES = readelf.c version.c
d288 2
a289 1
windres_SOURCES = windres.c resrc.c rescoff.c resbin.c rcparse.y rclex.l 	winduni.c resres.c $(BULIBS)
d296 2
a297 1
DISTSTUFF = arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h 	syslex.c deflex.c defparse.h defparse.c rclex.c rcparse.h rcparse.c
d300 2
a301 1
DISTCLEANFILES = stamp-under sysinfo underscore.c sysroff.c sysroff.h 	site.exp site.bak
d306 2
a307 1
MOSTLYCLEANFILES = sysinfo $(DEMANGLER_NAME).1 binutils.log binutils.sum 	abcdefgh*
d310 1
a310 1
CLEANFILES = dep.sed DEP DEP1 DEP2
d327 2
a328 1
nlmconv_OBJECTS =  nlmconv.o nlmheader.o bucomm.o version.o filemode.o
d332 2
a333 1
srconv_OBJECTS =  srconv.o coffgrok.o bucomm.o version.o filemode.o
d337 2
a338 1
sysdump_OBJECTS =  sysdump.o bucomm.o version.o filemode.o
d342 2
a343 1
coffdump_OBJECTS =  coffdump.o coffgrok.o bucomm.o version.o filemode.o
d347 2
a348 2
dlltool_OBJECTS =  dlltool.o defparse.o deflex.o bucomm.o \
version.o filemode.o
d351 3
a353 2
windres_OBJECTS =  windres.o resrc.o rescoff.o resbin.o rcparse.o \
rclex.o winduni.o resres.o bucomm.o version.o filemode.o
d356 1
a356 1
dllwrap_OBJECTS =  dllwrap.o version.o
d359 2
a360 1
size_OBJECTS =  size.o bucomm.o version.o filemode.o
d364 3
a366 2
objdump_OBJECTS =  objdump.o prdbg.o rddbg.o debug.o stabs.o ieee.o \
rdcoff.o bucomm.o version.o filemode.o
d369 3
a371 2
ar_OBJECTS =  arparse.o arlex.o ar.o not-ranlib.o arsup.o rename.o \
bucomm.o version.o filemode.o
d374 2
a375 1
strings_OBJECTS =  strings.o bucomm.o version.o filemode.o
d379 3
a381 2
ranlib_OBJECTS =  ar.o is-ranlib.o arparse.o arlex.o arsup.o rename.o \
bucomm.o version.o filemode.o
d384 4
a387 2
objcopy_OBJECTS =  objcopy.o not-strip.o rename.o rddbg.o debug.o \
stabs.o ieee.o rdcoff.o wrstabs.o bucomm.o version.o filemode.o
d391 2
a392 1
addr2line_OBJECTS =  addr2line.o bucomm.o version.o filemode.o
d396 2
a397 1
readelf_OBJECTS =  readelf.o version.o
d400 2
a401 1
nm_new_OBJECTS =  nm.o bucomm.o version.o filemode.o
d405 4
a408 2
strip_new_OBJECTS =  objcopy.o is-strip.o rename.o rddbg.o debug.o \
stabs.o ieee.o rdcoff.o wrstabs.o bucomm.o version.o filemode.o
d450 1
a450 1
.SUFFIXES: .S .c .dvi .info .l .lo .o .ps .s .texi .texinfo .txi .y
d531 5
d544 1
d1106 3
d1189 7
a1195 2
	sed -f dep.sed < DEP1 > $@@
	echo '# IF YOU PUT ANYTHING HERE IT WILL GO AWAY' >> $@@
d1277 1
a1277 1
  arsup.h
d1280 1
a1280 1
  $(INCDIR)/fopen-same.h
d1283 1
a1283 1
  $(INCDIR)/fopen-same.h
d1294 2
a1295 2
  $(INCDIR)/fopen-same.h $(INCDIR)/demangle.h $(INCDIR)/dyn-string.h \
  dlltool.h
d1300 1
a1300 1
  $(INCDIR)/libiberty.h debug.h budbg.h
d1311 2
a1312 2
  $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def $(INCDIR)/aout/ranlib.h \
  $(INCDIR)/demangle.h $(INCDIR)/libiberty.h
d1317 2
a1318 1
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h budbg.h
d1383 3
a1385 2
  $(INCDIR)/elf/pj.h $(INCDIR)/elf/avr.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
d1391 1
a1391 1
  $(INCDIR)/fopen-same.h $(INCDIR)/dyn-string.h
@


1.14
log
@Fix man pages for good.
@
text
@d154 1
a154 2
man_MANS = ar.1 nm.1 objdump.1 ranlib.1 size.1 strings.1 strip.1 objcopy.1 \
	addr2line.1 nlmconv.1 $(DEMANGLER_NAME).1
d176 1
a176 2
HFILES = arsup.h bucomm.h budbg.h coffgrok.h debug.h nlmconv.h dlltool.h \
	windres.h winduni.h dyn-string.h
d181 1
a181 7
CFILES = addr2line.c ar.c arsup.c bucomm.c coffdump.c coffgrok.c debug.c \
	dlltool.c filemode.c ieee.c is-ranlib.c is-strip.c maybe-ranlib.c \
	maybe-strip.c nlmconv.c nm.c not-ranlib.c not-strip.c \
	objcopy.c objdump.c prdbg.c rdcoff.c rddbg.c size.c srconv.c \
	stabs.c strings.c sysdump.c version.c wrstabs.c \
	windres.c resrc.c rescoff.c resbin.c winduni.c readelf.c \
	resres.c dyn-string.c dllwrap.c rename.c
d184 1
a184 3
GENERATED_CFILES = \
	underscore.c arparse.c arlex.c sysroff.c sysinfo.c syslex.c \
	defparse.c deflex.c nlmheader.c rcparse.c rclex.c
d201 6
a206 23
EXPECT = `if [ -f $$r/../expect/expect ] ; then \
          echo $$r/../expect/expect ; \
          else echo expect ; fi`

RUNTEST = `if [ -f ${srcdir}/../dejagnu/runtest ] ; then \
           echo ${srcdir}/../dejagnu/runtest ; \
           else echo runtest ;  fi`


CC_FOR_TARGET = ` \
  if [ -f $$r/../gcc/xgcc ] ; then \
    if [ -f $$r/../newlib/Makefile ] ; then \
      echo $$r/../gcc/xgcc -B$$r/../gcc/ -idirafter $$r/../newlib/targ-include -idirafter $${srcroot}/../newlib/libc/include -nostdinc; \
    else \
      echo $$r/../gcc/xgcc -B$$r/../gcc/; \
    fi; \
  else \
    if [ "@@host@@" = "@@target@@" ] ; then \
      echo $(CC); \
    else \
      echo gcc | sed '$(transform)'; \
    fi; \
  fi`
d242 1
a242 1
dlltool_SOURCES = dlltool.c defparse.y deflex.l dyn-string.c $(BULIBS)
d251 1
a251 2
windres_SOURCES = windres.c resrc.c rescoff.c resbin.c rcparse.y rclex.l \
	winduni.c resres.c $(BULIBS)
d255 1
a255 1
dllwrap_SOURCES = dllwrap.c dyn-string.c version.c
d258 1
a258 2
DISTSTUFF = arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h \
	syslex.c deflex.c defparse.h defparse.c rclex.c rcparse.h rcparse.c
d261 1
a261 2
DISTCLEANFILES = stamp-under sysinfo underscore.c sysroff.c sysroff.h \
	site.exp site.bak
d266 1
a266 2
MOSTLYCLEANFILES = sysinfo $(DEMANGLER_NAME).1 binutils.log binutils.sum \
	abcdefgh*
d302 1
a302 1
dlltool_OBJECTS =  dlltool.o defparse.o deflex.o dyn-string.o bucomm.o \
d310 1
a310 1
dllwrap_OBJECTS =  dllwrap.o dyn-string.o version.o
d1222 1
a1222 1
  $(INCDIR)/fopen-same.h $(INCDIR)/demangle.h dyn-string.h \
a1314 2
dyn-string.o: dyn-string.c config.h $(INCDIR)/ansidecl.h \
  dyn-string.h
d1317 1
a1317 1
  $(INCDIR)/fopen-same.h dyn-string.h
@


1.13
log
@Some installation problems: older gnu programs don't know about DESTDIR,
but we have a mix here -> convert the old ones to heed DESTDIR.

Also, fix manpages installation in Makefile.bsd-wrapper
(INSTALL_MAN setting that got lost, bad MANDIR, don't set MANDIR if
PREFIX is the standard location)
@
text
@d417 4
d963 1
a963 1
install-data-am: install-man
@


1.12
log
@Allow make clean to proceed.
(This is probably a work-around for a bug in ksh)
@
text
@d1205 1
a1205 1
	    $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(bindir)/`echo $$p|sed -e 's/$(EXEEXT)$$//' -e 's/-new//' -e 's/cxxfilt/$(DEMANGLER_NAME)/'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`; \
d1208 1
a1208 1
	$(mkinstalldirs) $(tooldir)/bin
d1214 3
a1216 3
	      rm -f $(tooldir)/bin/$$j$(EXEEXT); \
	      ln $(bindir)/$$k$(EXEEXT) $(tooldir)/bin/$$j$(EXEEXT) >/dev/null 2>/dev/null \
		|| $(LIBTOOL) --mode=install $(INSTALL_PROGRAM) $$i$(EXEEXT) $(tooldir)/bin/$$j$(EXEEXT); \
@


1.11
log
@Do not build cxxfilt, the -current version lies with gcc
@
text
@d805 1
@


1.10
log
@link against installed libiberty
@
text
@d143 1
a143 1
DEMANGLER_PROG = cxxfilt
d309 1
a309 1
noinst_PROGRAMS =  nm-new$(EXEEXT) strip-new$(EXEEXT) cxxfilt$(EXEEXT)
@


1.9
log
@Help stupid cvs fixing basic conflicts.
@
text
@d207 1
a207 1
LIBIBERTY = ../libiberty/libiberty.a
d319 1
a319 1
nlmconv_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d323 1
a323 1
srconv_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d327 1
a327 1
sysdump_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d331 1
a331 1
coffdump_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d335 1
a335 1
dlltool_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d339 1
a339 1
windres_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d342 1
a342 1
dllwrap_DEPENDENCIES =  ../libiberty/libiberty.a
d346 1
a346 1
size_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d350 1
a350 2
objdump_DEPENDENCIES =  ../opcodes/libopcodes.la ../bfd/libbfd.la \
../libiberty/libiberty.a
d354 1
a354 1
ar_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d358 1
a358 1
strings_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d362 1
a362 1
ranlib_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d367 1
a367 1
objcopy_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d371 1
a371 1
addr2line_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d374 1
a374 1
readelf_DEPENDENCIES =  ../libiberty/libiberty.a
d378 1
a378 1
nm_new_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d383 1
a383 1
strip_new_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d386 1
a386 2
cxxfilt_DEPENDENCIES =  cplus-dem.o underscore.o \
../libiberty/libiberty.a
@


1.8
log
@Kill old libiberty, use the one under egcs now.
@
text
@d1 1
a1 2
# Makefile for GNU binary-file utilities
# Copyright (C) 1992, 1993, 1994, 1995, 1996 Free Software Foundation, Inc.
d3 4
a6 1
# This file is part of GNU binutils.
a7 5
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 2 of the License, or
# (at your option) any later version.
# 
d9 3
a11 7
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
d13 5
a18 3
srcdir = @@srcdir@@

target_alias = @@target_alias@@
d20 1
a21 2
program_transform_name = @@program_transform_name@@
exec_prefix = @@exec_prefix@@
d23 6
d30 1
a30 3
tooldir = $(exec_prefix)/$(target_alias)

datadir = @@datadir@@
a31 10
man1dir = $(mandir)/man1
man2dir = $(mandir)/man2
man3dir = $(mandir)/man3
man4dir = $(mandir)/man4
man5dir = $(mandir)/man5
man6dir = $(mandir)/man6
man7dir = $(mandir)/man7
man8dir = $(mandir)/man8
man9dir = $(mandir)/man9
infodir = @@infodir@@
d33 9
d43 4
a46 1
SHELL = /bin/sh
d48 2
a49 2
INSTALL = `cd $(srcdir)/..;pwd`/install.sh -c
INSTALL_PROGRAM = @@INSTALL_PROGRAM@@
d51 2
a52 2
INSTALL_XFORM = $(INSTALL) -t='$(program_transform_name)'
INSTALL_XFORM1 = $(INSTALL_XFORM) -b=.1 -m 644
d54 22
a75 2
AR = ar
AR_FLAGS = rc
d77 40
a116 11
CFLAGS = @@CFLAGS@@
LDFLAGS = @@LDFLAGS@@
HLDFLAGS = @@HLDFLAGS@@
HLDENV = @@HLDENV@@
RPATH_ENVVAR = @@RPATH_ENVVAR@@
MAKEINFO = makeinfo
TEXI2DVI = texi2dvi
RANLIB = ranlib
BISONFLAGS = -d
TEXI2ROFF=texi2roff
MAKEOVERRIDES=
d118 1
a118 12
NM_FOR_TARGET = nm
NM = $(NM_FOR_TARGET)
SYMLINK = ln -s

BISON = `if [ -f ../bison/bison ] ; then echo ../bison/bison -y -L../bison/bison ; else echo bison -y ; fi`
LEX_OPTIONS =
LEX = `if [ -f ../flex/flex ] ; then echo ../flex/flex ; else echo flex ; fi`

# Distribution version
VERSION=cygnus-2.7.1
# Distribution name
DIST_NAME=binutils-${VERSION}
d120 3
a122 2
# Where to find texinfo.tex to format docn with TeX
TEXIDIR = $(srcdir)/../texinfo
d125 2
a126 2
AR_PROG=ar
RANLIB_PROG=ranlib
d129 4
a132 2
OBJCOPY_PROG=objcopy
STRIP_PROG=strip.new
d134 1
a134 1
STRINGS_PROG=strings
d137 3
a139 3
SIZE_PROG=size
NM_PROG=nm.new
OBJDUMP_PROG=objdump
d143 1
a143 1
DEMANGLER_PROG=c++filt
d145 1
a145 2
NLMCONV_PROG=nlmconv
DLLTOOL_PROG=dlltool
d147 4
a150 1
SRCONV_PROG=srconv sysdump coffdump 
d152 1
a152 1
MANPAGES= ar nm objdump ranlib size strings strip objcopy nlmconv
d154 11
a164 11
# Target to use for installing unformatted man-pages.  Some systems may not
# want them installed.
INSTALL_MAN = install-man

PROGS = $(SIZE_PROG) $(OBJDUMP_PROG) $(NM_PROG) $(AR_PROG) $(STRINGS_PROG) $(STRIP_PROG) $(RANLIB_PROG) $(OBJCOPY_PROG) @@BUILD_NLMCONV@@ @@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@
STAGESTUFF = $(PROGS) *.o
# Files that can be generated, but should be in the distribution.
# Don't build $(DEMANGLER_PROG).1, since its name may vary with the
# configuration.
DISTSTUFF=arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h \
	syslex.c deflex.c
d167 1
a167 1
TOOL_PROGS = nm.new strip.new ar ranlib $(DLLTOOL_PROG)
d171 5
a175 3
INCDIR	= $(BASEDIR)/include
INCLUDES = -I. -I$(srcdir) -I../bfd -I$(BFDDIR) -I$(INCDIR)
DEP = mkdep
d177 2
a178 1
ALL_CFLAGS = $(INCLUDES) @@HDEFINES@@ $(CFLAGS)
a179 1
HFILES = arsup.h bucomm.h budbg.h coffgrok.h debug.h nlmconv.h
d181 1
a181 1
GENERATED_HFILES = arparse.h sysroff.h sysinfo.h defparse.h
d183 2
a184 2
CFILES = ar.c arsup.c bucomm.c coffdump.c coffgrok.c debug.c dlltool.c \
	filemode.c ieee.c is-ranlib.c is-strip.c maybe-ranlib.c \
d187 4
a190 1
	stabs.c strings.c sysdump.c version.c wrstabs.c
d194 1
a194 4
	defparse.c deflex.c nlmheader.c

.c.o:
	$(CC) -c $(ALL_CFLAGS) $<
a195 2
DEBUG_OBJS = rddbg.o debug.o stabs.o ieee.o rdcoff.o
WRITE_DEBUG_OBJS = $(DEBUG_OBJS) wrstabs.o
d197 2
a198 1
LIBIBERTY = -liberty
d201 3
a203 1
BULIBS = bucomm.o version.o filemode.o
d205 1
a205 2
BFDLIB_DEP = ../bfd/libbfd.a
BFDLIB = @@BFDLIB@@
d207 1
a207 2
OPCODES_DEP = ../opcodes/libopcodes.a
OPCODES = @@OPCODES@@
d209 1
a209 2
ADDL_DEPS = $(BULIBS) $(BFDLIB_DEP) $(LIBIBERTY)
ADDL_LIBS = $(BULIBS) $(BFDLIB) $(LIBIBERTY) 
d214 1
d218 1
a218 1
RUNTESTFLAGS =
d231 1
a231 1
      echo gcc | sed '$(program_transform_name)'; \
a234 52
FLAGS_TO_PASS = \
	"CC=$(CC)" \
	"CFLAGS=$(CFLAGS)" \
	"RUNTEST=$(RUNTEST)" \
	"RUNTESTFLAGS=$(RUNTESTFLAGS)"
#
## The rules

all: $(ADDL_DEPS) $(PROGS)

# These targets are for the dejagnu testsuites. The file site.exp 
# contains global variables that all the testsuites will use.

site.exp: ./config.status Makefile
	@@echo "Making a new config file..."
	@@rm -f ./tmp?
	@@touch site.exp
	@@mv site.exp site.bak
	@@echo "## variables are automatically generated by make ##" > ./tmp0
	@@echo "# Do not edit here. If you wish to override these" >> ./tmp0
	@@echo "# values, add them to the last section" >> ./tmp0
	@@echo "# HOST AND TARGET INFO" >> ./tmp0
	@@echo "set host_os @@host_os@@" >> ./tmp0
	@@echo "set host_alias @@host_alias@@" >> ./tmp0
	@@echo "set host_cpu @@host_cpu@@" >> ./tmp0
	@@echo "set host_vendor @@host_vendor@@" >> ./tmp0
	@@echo "set target_os @@target_os@@" >> ./tmp0
	@@echo "set target_alias @@target_alias@@" >> ./tmp0
	@@echo "set target_cpu @@target_cpu@@" >> ./tmp0
	@@echo "set target_vendor @@target_vendor@@" >> ./tmp0
	@@echo "set host_triplet @@host@@" >> ./tmp0
	@@echo "set target_triplet @@target@@" >> ./tmp0
	@@echo "# DIRECTORY INFO" >> ./tmp0
	@@echo "set objdir `pwd`" >> ./tmp0
	@@echo "" >> ./tmp0	
	@@echo "## Variables generated by configure. Do Not Edit ##" >> ./tmp0
	@@cat ./tmp0 > site.exp
	@@cat site.bak | sed \
			-e '1,/^## Variables generated by.*##/ d' >> site.exp
	-@@rm -f ./tmp?

check: site.exp
	r=`pwd`; export r ; \
	srcroot=`cd ${srcdir}; pwd` ; export srcroot ; \
	EXPECT=${EXPECT} ; export EXPECT ; \
	$(RPATH_ENVVAR)=$$r/../bfd:$$r/../opcodes:$$$(RPATH_ENVVAR); \
	export $(RPATH_ENVVAR); \
	if [ -f $$r/../expect/expect ] ; then  \
	   TCL_LIBRARY=$${srcroot}/../tcl/library ; \
	   export TCL_LIBRARY ; else true; fi ; \
	$(RUNTEST) --tool binutils --srcdir $(srcdir)/testsuite \
	  $(RUNTESTFLAGS) CC="$(CC_FOR_TARGET)" CFLAGS="$(CFLAGS)"
d236 312
a547 2
installcheck:
	/bin/sh $(srcdir)/sanity.sh $(bindir)
d549 3
a551 1
info: binutils.info
d553 3
a555 1
dvi: binutils.dvi
d557 3
a559 2
$(SIZE_PROG): $(ADDL_DEPS) size.o
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(SIZE_PROG) size.o $(ADDL_LIBS) $(EXTRALIBS)
d561 3
a563 2
$(OBJCOPY_PROG): $(ADDL_DEPS) objcopy.o not-strip.o $(WRITE_DEBUG_OBJS)
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o not-strip.o $(WRITE_DEBUG_OBJS) $(ADDL_LIBS) $(EXTRALIBS)
d565 3
a567 2
$(STRINGS_PROG): $(ADDL_DEPS) strings.o
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(STRINGS_PROG) strings.o $(ADDL_LIBS) $(EXTRALIBS)
d569 3
a571 2
$(STRIP_PROG): $(ADDL_DEPS) objcopy.o is-strip.o $(WRITE_DEBUG_OBJS)
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(STRIP_PROG) objcopy.o is-strip.o $(WRITE_DEBUG_OBJS) $(ADDL_LIBS) $(EXTRALIBS)
d573 3
a575 2
$(NM_PROG): $(ADDL_DEPS) nm.o
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(NM_PROG) nm.o $(ADDL_LIBS) $(EXTRALIBS)
d577 3
a579 5
#libbfd is searched twice here ($(BFDLIB) and $(ADDL_LIBS)) because when a
#shared libbfd is built with --enable-commonbfdlib, all of libopcodes is
#available in libbfd.so and we don't want to link anything from libopcodes.a
$(OBJDUMP_PROG): $(ADDL_DEPS) objdump.o prdbg.o $(DEBUG_OBJS) $(OPCODES_DEP)
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJDUMP_PROG) objdump.o prdbg.o $(DEBUG_OBJS) $(BFDLIB) $(OPCODES) $(ADDL_LIBS) $(EXTRALIBS)
d581 3
a583 1
underscore.c: stamp-under ; @@true
d585 3
a587 5
stamp-under: Makefile
	echo '/*WARNING: This file is automatically generated!*/' >underscore.t
	echo "int prepends_underscore = @@UNDERSCORE@@;" >>underscore.t
	/bin/sh $(srcdir)/../move-if-change underscore.t underscore.c
	touch stamp-under
d589 3
a591 2
version.o: version.c Makefile
	$(CC) -DVERSION='"$(VERSION)"' $(ALL_CFLAGS) -c $(srcdir)/version.c
d593 3
a595 2
cplus-dem.o: $(BASEDIR)/libiberty/cplus-dem.c $(INCDIR)/getopt.h
	$(CC) -c -DMAIN -DVERSION='"$(VERSION)"' $(ALL_CFLAGS) $(BASEDIR)/libiberty/cplus-dem.c
d597 3
a599 2
$(DEMANGLER_PROG): cplus-dem.o $(LIBIBERTY) underscore.o $(DEMANGLER_PROG).1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(DEMANGLER_PROG) cplus-dem.o $(LIBIBERTY) $(EXTRALIBS) underscore.o
d601 3
a603 4
arparse.c: arparse.y
	$(BISON) $(BISONFLAGS)  $(srcdir)/arparse.y
	mv -f y.tab.c arparse.c
	mv -f y.tab.h arparse.h
d605 7
a611 2
# Separate from arparse.c so that a parallel make doesn't try to build
# both arparse.c and arparse.h simultaneously.
d613 305
d919 1
a919 3
arlex.c: arlex.l
	$(LEX) $(LEX_OPTIONS) $(srcdir)/arlex.l
	mv lex.yy.c arlex.c
d921 1
a921 2
$(AR_PROG): $(ADDL_DEPS) ar.o arparse.o arlex.o not-ranlib.o arsup.o
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o arparse.o arlex.o arsup.o not-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d923 143
a1065 2
$(RANLIB_PROG): $(ADDL_DEPS) ar.o is-ranlib.o arparse.o arlex.o arsup.o
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(RANLIB_PROG) ar.o arparse.o arlex.o arsup.o is-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d1067 15
a1085 1

d1087 5
a1091 6

ar_with_ranlib: $(ADDL_DEPS) ar.o maybe-ranlib.o
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o maybe-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
	-rm -f $(RANLIB_PROG)
	-ln $(AR_PROG) $(RANLIB_PROG)

d1093 10
d1104 2
a1105 28
objcopy_with_strip: $(ADDL_DEPS) objcopy.o maybe-strip.o
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o maybe-strip.o $(ADDL_LIBS) $(EXTRALIBS)
	-rm -f $(STRIP_PROG)
	-ln $(OBJCOPY_PROG) $(STRIP_PROG)

sysroff.c: sysinfo sysroff.info 
	./sysinfo -c <$(srcdir)/sysroff.info >sysroff.c
	./sysinfo -i <$(srcdir)/sysroff.info >>sysroff.c
	./sysinfo -g <$(srcdir)/sysroff.info >>sysroff.c

sysroff.h: sysinfo sysroff.info
	./sysinfo -d <$(srcdir)/sysroff.info >sysroff.h	

# Depend upon arparse.c to avoid building both arparse.c and sysinfo.c
# simultaneously.
sysinfo.c: sysinfo.y arparse.c
	$(BISON) -tvd $(srcdir)/sysinfo.y
	rm -f sysinfo.c
	mv -f y.tab.c sysinfo.c
	mv -f y.tab.h sysinfo.h

# Separate from sysinfo.c so that a parallel make doesn't try to build
# both sysinfo.c and sysinfo.h simultaneously.
sysinfo.h: sysinfo.c

syslex.c : syslex.l
	$(LEX) $(LEX_OPTIONS) $(srcdir)/syslex.l
	mv lex.yy.c syslex.c
d1107 1
a1107 1
sysinfo: sysinfo.o syslex.o
d1124 2
a1125 11
srconv: srconv.o coffgrok.o $(ADDL_DEPS)
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ srconv.o coffgrok.o $(ADDL_LIBS) $(EXTRALIBS)

dlltool: dlltool.o defparse.o deflex.o $(ADDL_DEPS)
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ dlltool.o defparse.o deflex.o $(ADDL_LIBS) $(EXTRALIBS)

defparse.c:defparse.y
	$(BISON)  $(BISONFLAGS)  $(srcdir)/defparse.y
	mv -f y.tab.c defparse.c
	mv -f y.tab.h defparse.h

d1127 3
a1129 4

deflex.c:deflex.l
	$(LEX) $(LEX_OPTIONS) $(srcdir)/deflex.l
	mv lex.yy.c deflex.c
d1132 1
a1132 4
	$(CC) -c @@DLLTOOL_DEFS@@ $(ALL_CFLAGS) $(srcdir)/dlltool.c

coffdump: coffdump.o coffgrok.o $(ADDL_DEPS)
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@  coffdump.o coffgrok.o $(ADDL_LIBS) $(EXTRALIBS)
d1134 2
a1135 9
sysdump: sysdump.o $(ADDL_DEPS)
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ sysdump.o $(ADDL_LIBS) $(EXTRALIBS)

# Depend upon sysinfo.c to avoid building both nlmheader.c and sysinfo.c
# simultaneously.
nlmheader.c: nlmheader.y sysinfo.c
	$(BISON) $(srcdir)/nlmheader.y
	rm -f nlmheader.c
	mv -f y.tab.c nlmheader.c
d1140 2
a1141 2
	ldname=`echo ld | sed '$(program_transform_name)'`; \
	$(CC) -c -DLD_NAME="\"$${ldname}\"" @@NLMCONV_DEFS@@ $(ALL_CFLAGS) $(srcdir)/nlmconv.c
d1143 1
a1143 2
$(NLMCONV_PROG): nlmconv.o nlmheader.o $(ADDL_DEPS)
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ nlmconv.o nlmheader.o $(ADDL_LIBS) $(EXTRALIBS)
d1146 12
a1157 12
# Have to get rid of .dep1 here so that "$?" later includes all of $(CFILES).
.dep: dep.sed $(CFILES) $(HFILES) $(GENERATED_CFILES) $(GENERATED_HFILES) config.h
	rm -f .dep1
	$(MAKE) DEP=$(DEP) .dep1
	sed -f dep.sed <.dep1 >.dep

# This rule really wants a mkdep that runs "gcc -MM".
.dep1: $(CFILES) $(GENERATED_CFILES)
	rm -f .dep2
	echo '# DO NOT DELETE THIS LINE -- mkdep uses it.' > .dep2
	$(DEP) -f .dep2 $(ALL_CFLAGS) $?
	/bin/sh $(srcdir)/../move-if-change .dep2 .dep1
d1160 1
d1164 2
a1165 1
		-e 's!@@SRCDIR@@!$(srcdir)!'
d1167 1
a1167 1
dep: .dep
d1169 2
a1170 2
	cat .dep >> tmp-Makefile
	/bin/sh $(srcdir)/../move-if-change tmp-Makefile Makefile
d1172 1
a1172 1
dep-in: .dep
d1174 2
a1175 2
	cat .dep >> tmp-Makefile.in
	/bin/sh $(srcdir)/../move-if-change tmp-Makefile.in $(srcdir)/Makefile.in
d1177 6
a1182 1
.PHONY: dep dep-in
d1189 1
a1189 1
# TeX output
a1190 1
	TEXINPUTS=$(TEXIDIR):$$TEXINPUTS $(TEXI2DVI) $(srcdir)/binutils.texi
a1191 1
# info file for online browsing
a1192 1
	$(MAKEINFO) -o binutils.info $(srcdir)/binutils.texi
d1194 4
a1197 68
$(DEMANGLER_PROG).1: cxxfilt.man Makefile
	sed -e 's/@@PROGRAM@@/$(DEMANGLER_PROG)/' < $(srcdir)/cxxfilt.man \
		> $(DEMANGLER_PROG).1

#   different targets for -ms, -mm, -me
# Try to use a recent texi2roff.  v2 was put on prep in jan91.
# If you want an index, see texi2roff doc for postprocessing 
# and add -i to texi2roff invocations below.
# Workarounds for texi2roff-2 (probably fixed in later texi2roff's, delete
#    corresponding -e lines when later texi2roff's are current)
# + @@ifinfo's deleted explicitly due to texi2roff-2 bug w nested constructs.
# + @@c's deleted explicitly because texi2roff sees texinfo commands in them
# + @@   (that's at-BLANK) not recognized by texi2roff, turned into blank
# + @@alphaenumerate is ridiculously new, turned into @@enumerate

# roff output (-ms)
binutils.ms: $(srcdir)/binutils.texi
	sed -e '/\\input texinfo/d' \
		-e '/@@c TEXI2ROFF-KILL/,/@@c END TEXI2ROFF-KILL/d' \
		-e '/^@@ifinfo/,/^@@end ifinfo/d' \
		-e '/^@@c/d' \
		-e 's/{.*,,/{/' \
		-e 's/@@ / /g' \
		-e 's/^@@alphaenumerate/@@enumerate/g' \
		-e 's/^@@end alphaenumerate/@@end enumerate/g' \
		$(srcdir)/binutils.texi | \
	$(TEXI2ROFF) -ms | \
	sed -e 's/---/\\(em/g' \
	>binutils.ms 

# roff output (-mm)
# '@@noindent's removed due to texi2roff-2 mm bug; if yours is newer, 
#   try leaving them in
binutils.mm: $(srcdir)/binutils.texi
	sed -e '/\\input texinfo/d' \
		-e '/@@c TEXI2ROFF-KILL/,/@@c END TEXI2ROFF-KILL/d' \
		-e '/^@@ifinfo/,/^@@end ifinfo/d' \
		-e '/^@@c/d' \
		-e 's/{.*,,/{/' \
		-e '/@@noindent/d' \
		-e 's/@@ / /g' \
		-e 's/^@@alphaenumerate/@@enumerate/g' \
		-e 's/^@@end alphaenumerate/@@end enumerate/g' \
		$(srcdir)/binutils.texi | \
	$(TEXI2ROFF) -mm | \
	sed -e 's/---/\\(em/g' \
		>binutils.mm

# roff output (-me)
binutils.me: $(srcdir)/binutils.texi
	sed -e '/\\input texinfo/d' \
		-e '/@@c TEXI2ROFF-KILL/,/@@c END TEXI2ROFF-KILL/d' \
		-e '/^@@ifinfo/,/^@@end ifinfo/d' \
		-e '/^@@c/d' \
		-e 's/{.*,,/{/' \
		-e 's/@@ / /g' \
		-e 's/^@@alphaenumerate/@@enumerate/g' \
		-e 's/^@@end alphaenumerate/@@end enumerate/g' \
		$(srcdir)/binutils.texi | \
	$(TEXI2ROFF) -me | \
	sed -e 's/---/\\(em/g' \
	>binutils.me 


###

mostlyclean:
	-rm -f *.o *~ \#* core binutils.?? binutils.??? y.output
a1198 12
clean: mostlyclean
	-rm -f $(PROGS) $(DEMANGLER_PROG).1 stamp-under
	-rm -f underscore.c sysroff sysroff.c sysroff.h sysinfo dep.sed
distclean:
	-rm -f Makefile config.status *.o *~ \#* core y.*
	-rm -f binutils.?? binutils.??s binutils.aux binutils.log binutils.toc
	-rm -f $(PROGS) underscore.c config.h stamp-h config.cache config.log
	-rm -f dep.sed stamp-under $(DEMANGLER_PROG).1
maintainer-clean realclean: clean distclean
	@@echo "This command is intended for maintainers to use;"
	@@echo "it deletes files that may require special tools to rebuild."
	-rm -f $(DISTSTUFF) *.info TAGS
d1200 1
a1200 1
etags tags: TAGS
d1202 18
a1219 16
TAGS: force
	etags $(INCDIR)/*.h $(srcdir)/*.[hc] 

install: all $(INSTALL_MAN)
	for i in $(PROGS) ; do \
	  $(INSTALL_XFORM) $$i $(bindir)/`echo $$i | sed -e 's/.new//'` ; \
	done
	test -d $(tooldir) || mkdir $(tooldir)
	test -d $(tooldir)/bin || mkdir $(tooldir)/bin
	for i in $(TOOL_PROGS) ; do \
	  if [ -f $$i ]; then \
	    j=`echo $$i | sed -e 's/.new//'`; \
	    rm -f $(tooldir)/bin/$$j; \
	    k=`echo $$j | sed '$(program_transform_name)'`; \
	    ln $(bindir)/$$k $(tooldir)/bin/$$j >/dev/null 2>/dev/null \
		|| $(INSTALL_PROGRAM) $$i $(tooldir)/bin/$$j; \
a1222 94
install-man:
	for i in $(MANPAGES) ; do \
	  $(INSTALL_XFORM1) $(srcdir)/$$i.1 $(man1dir)/$$i.1 ; \
	done
	if [ x$(DEMANGLER_PROG) != x ]; then \
	  $(INSTALL_XFORM1) $(DEMANGLER_PROG).1 $(man1dir)/$(DEMANGLER_PROG).1; \
	fi

# This little path search is required because in the FSF net releases,
# the info files are included in the source tree, and that may not be
# the same as the build directory.
install-info: binutils.info
	if [ -r binutils.info ]; then \
	  dir=. ; \
	else \
	  dir=$(srcdir) ; \
	fi ; \
	for i in `cd $$dir; echo binutils.info*` ; do \
		$(INSTALL_DATA) $$dir/$$i $(infodir)/$$i ; \
	done

clean-info:
	-rm -rf *.info*

# Making a dist:
# cvs rtag binutils-x-yy ld+utils
# cvs co -r binutils-x-yy ld+utils
# Sanitize
# cd {HERE}; make dist [-f Makefile.in]

dist: $(DIST_NAME).tar.z

diststuff: $(DISTSTUFF) info

$(DIST_NAME).tar.z:
	cd ../..; rm -f $(DIST_NAME); ln -s devo $(DIST_NAME)
	make diststuff -f Makefile.in
	cd ../ld; make diststuff -f Makefile.in
	cd ../gprof; make diststuff -f Makefile.in
	cd ../texinfo; mv texinfo.tex ..; rm -rf *; mv ../texinfo.tex .
	# Take out texinfo from configurable dirs
	mv ../configure.in tmp; \
	  sed -e '/^host_tools=/s/texinfo //' <tmp >../configure.in; rm tmp
	cd ..; chmod og=u `find . -print`
	cd ../..; tar chf - $(DIST_NAME) | gzip >$(DIST_NAME).tar.z
	rm -rf ../../$(DIST_NAME)

#-----------------------------------------------------------------------------
#		'STANDARD' GNU/960 TARGETS BELOW THIS POINT
#
# 'VERSION' file must be present and contain a string of the form "x.y"
#-----------------------------------------------------------------------------

ver960.c: FORCE
	rm -f ver960.c
	echo "char ${TARG}_ver[]= \"${TARG} `cat VERSION`, `date`\";" > ver960.c


# Dummy target to force execution of dependent targets.
#
force:

# Target to uncomment host-specific lines in this makefile.  Such lines must
# have the following string beginning in column 1: #__<hostname>__#
# Original Makefile is backed up as 'Makefile.old'.
#
# Invoke with:  make make HOST=xxx
#
make:
	-@@if test $(HOST)x = x ; then \
		echo 'Specify "make make HOST=???"'; \
		exit 1; \
	fi ; \
	grep -s "^#The next line was generated by 'make make'" Makefile; \
	if test $$? = 0 ; then	\
		echo "Makefile has already been processed with 'make make'";\
		exit 1; \
	fi ; \
	mv -f Makefile Makefile.old; \
	echo "#The next line was generated by 'make make'"	 >Makefile ; \
	echo "HOST=$(HOST)"					>>Makefile ; \
	echo							>>Makefile ; \
	sed "s/^#__$(HOST)__#//" < Makefile.old			>>Makefile

Makefile: Makefile.in config.status
	CONFIG_FILES=Makefile CONFIG_HEADERS= $(SHELL) ./config.status

config.h: stamp-h ; @@true
stamp-h: config.in config.status
	CONFIG_FILES= CONFIG_HEADERS=config.h:config.in $(SHELL) ./config.status

config.status: configure $(srcdir)/../bfd/configure.host $(srcdir)/../bfd/config.bfd
	$(SHELL) ./config.status --recheck

d1227 7
a1233 5

ar.o: ar.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/obstack.h \
  $(INCDIR)/libiberty.h $(INCDIR)/progress.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h $(INCDIR)/aout/ar.h \
  $(BFDDIR)/libbfd.h arsup.h
d1235 2
a1236 2
  $(INCDIR)/obstack.h arsup.h $(INCDIR)/libiberty.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h
d1238 2
a1239 2
  $(INCDIR)/obstack.h $(INCDIR)/libiberty.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h
d1241 4
a1244 4
  $(INCDIR)/fopen-same.h
coffgrok.o: coffgrok.c bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/coff/internal.h $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h \
  coffgrok.h
d1246 1
a1246 1
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
d1249 3
a1251 3
  $(INCDIR)/obstack.h $(INCDIR)/libiberty.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h \
  $(INCDIR)/demangle.h
d1253 3
a1255 3
  $(INCDIR)/obstack.h
ieee.o: ieee.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/obstack.h \
  $(INCDIR)/ieee.h bucomm.h config.h $(INCDIR)/fopen-same.h \
d1262 7
a1268 8
  $(INCDIR)/obstack.h $(INCDIR)/libiberty.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h $(BFDDIR)/libnlm.h \
  $(INCDIR)/nlm/common.h $(INCDIR)/nlm/internal.h $(INCDIR)/nlm/external.h \
  nlmconv.h
nm.o: nm.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/obstack.h \
  $(INCDIR)/progress.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/getopt.h $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def \
  $(INCDIR)/aout/ranlib.h $(INCDIR)/demangle.h $(INCDIR)/libiberty.h
d1272 2
a1273 3
  $(INCDIR)/obstack.h $(INCDIR)/progress.h bucomm.h config.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h $(INCDIR)/libiberty.h \
  budbg.h
d1275 4
a1278 3
  $(INCDIR)/obstack.h $(INCDIR)/getopt.h $(INCDIR)/progress.h \
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/dis-asm.h \
  $(INCDIR)/libiberty.h debug.h budbg.h $(INCDIR)/aout/aout64.h
d1280 1
a1280 1
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
d1283 3
a1285 4
  $(INCDIR)/obstack.h $(INCDIR)/coff/internal.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  $(INCDIR)/demangle.h debug.h budbg.h $(BFDDIR)/libcoff.h \
  $(INCDIR)/bfdlink.h
d1287 1
a1287 1
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
d1289 2
a1290 2
size.o: size.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/obstack.h \
  $(INCDIR)/getopt.h bucomm.h config.h $(INCDIR)/fopen-same.h \
d1292 3
a1294 3
srconv.o: srconv.c bucomm.h config.h $(INCDIR)/fopen-same.h \
  sysroff.h coffgrok.h $(INCDIR)/coff/internal.h $(BFDDIR)/libcoff.h \
  $(INCDIR)/bfdlink.h sysroff.c
d1296 1
a1296 1
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
d1301 1
a1301 1
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
d1304 1
a1304 1
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
d1307 1
a1307 1
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h
d1309 1
a1309 1
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
d1312 38
d1352 1
a1352 1
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
d1354 1
a1354 1
arlex.o: arlex.c arparse.h
d1358 7
a1364 4
defparse.o: defparse.c
deflex.o: deflex.c defparse.h
nlmheader.o: nlmheader.c ../bfd/bfd.h $(INCDIR)/obstack.h \
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/nlm/common.h \
d1366 7
d1374 3
a1376 1
# IF YOU PUT ANYTHING HERE IT WILL GO AWAY
@


1.7
log
@Don't build c++filt, as it is ancient compared to egcs version.
@
text
@d154 1
a154 1
LIBIBERTY = ../libiberty/libiberty.a
@


1.6
log
@add a lot of /bin/sh before calling scripts like config.guess and so
on - this way now the whole tree builds without requiring any file
being executable (binutils was the last which required it) - now
ctm -> cvs checkout -> make build works just fine (aside from
other bugs in the source tree :-)
@
text
@d115 1
a115 1
PROGS = $(SIZE_PROG) $(OBJDUMP_PROG) $(NM_PROG) $(AR_PROG) $(STRINGS_PROG) $(STRIP_PROG) $(RANLIB_PROG) $(DEMANGLER_PROG) $(OBJCOPY_PROG) @@BUILD_NLMCONV@@ @@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@
d371 1
a371 1
dlltool: dlltool.o defparse.o deflex.o cplus-dem.o $(ADDL_DEPS)
@


1.5
log
@Merge to Cygnus 961112 + add some support (not ready) for shared libs
@
text
@d277 1
a277 1
	$(srcdir)/../move-if-change underscore.t underscore.c
d422 1
a422 1
	$(srcdir)/../move-if-change .dep2 .dep1
d433 1
a433 1
	$(srcdir)/../move-if-change tmp-Makefile Makefile
d438 1
a438 1
	$(srcdir)/../move-if-change tmp-Makefile.in $(srcdir)/Makefile.in
@


1.4
log
@man page fixes from niklas
@
text
@d74 1
a74 2
# Comment these out if using lex.
LEX_OPTIONS = -I -Cem 
d522 1
a522 1
	-rm -f *.o *~ \#* core binutils.?? binutils.??? y.output config.log
d735 2
a736 1
version.o: version.c
@


1.3
log
@Merge the Cygnus 960904 sources
@
text
@d112 4
d543 1
a543 1
install: all
a546 6
	for i in $(MANPAGES) ; do \
	  $(INSTALL_XFORM1) $(srcdir)/$$i.1 $(man1dir)/$$i.1 ; \
	done
	if [ x$(DEMANGLER_PROG) != x ]; then \
	  $(INSTALL_XFORM1) $(DEMANGLER_PROG).1 $(man1dir)/$(DEMANGLER_PROG).1; \
	fi
d558 8
@


1.2
log
@Bring Cygnus versions into the trunk, keeping our local patches
@
text
@d28 2
a29 2
bindir = $(exec_prefix)/bin
libdir = $(exec_prefix)/lib
d32 2
a33 2
datadir = $(prefix)/lib
mandir = $(prefix)/man
d43 2
a44 3
infodir = $(prefix)/info
includedir = $(prefix)/include
docdir = $(datadir)/doc
d49 2
a50 2
INSTALL_PROGRAM = $(INSTALL)
INSTALL_DATA = $(INSTALL) -m 644
d60 1
d79 1
a79 1
VERSION=cygnus-2.6
d117 2
a118 1
DISTSTUFF=arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h syslex.c
d249 1
a249 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(SIZE_PROG) size.o $(ADDL_LIBS) $(EXTRALIBS)
d252 1
a252 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o not-strip.o $(WRITE_DEBUG_OBJS) $(ADDL_LIBS) $(EXTRALIBS)
d255 1
a255 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(STRINGS_PROG) strings.o $(ADDL_LIBS) $(EXTRALIBS)
d258 1
a258 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(STRIP_PROG) objcopy.o is-strip.o $(WRITE_DEBUG_OBJS) $(ADDL_LIBS) $(EXTRALIBS)
d261 1
a261 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(NM_PROG) nm.o $(ADDL_LIBS) $(EXTRALIBS)
d267 1
a267 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJDUMP_PROG) objdump.o prdbg.o $(DEBUG_OBJS) $(BFDLIB) $(OPCODES) $(ADDL_LIBS) $(EXTRALIBS)
d284 1
a284 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(DEMANGLER_PROG) cplus-dem.o $(LIBIBERTY) $(EXTRALIBS) underscore.o
d300 1
a300 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o arparse.o arlex.o arsup.o not-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d303 1
a303 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(RANLIB_PROG) ar.o arparse.o arlex.o arsup.o is-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d313 1
a313 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o maybe-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d320 1
a320 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o maybe-strip.o $(ADDL_LIBS) $(EXTRALIBS)
d366 1
a366 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ srconv.o coffgrok.o $(ADDL_LIBS) $(EXTRALIBS)
d369 1
a369 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ dlltool.o defparse.o deflex.o $(ADDL_LIBS) $(EXTRALIBS)
d386 1
a386 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@  coffdump.o coffgrok.o $(ADDL_LIBS) $(EXTRALIBS)
d389 1
a389 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ sysdump.o $(ADDL_LIBS) $(EXTRALIBS)
d405 1
a405 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ nlmconv.o nlmheader.o $(ADDL_LIBS) $(EXTRALIBS)
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# Copyright (C) 1992, 1993, 1994 Free Software Foundation, Inc.
d60 2
d73 1
a73 1
BISON = bison -y
d79 1
a79 1
VERSION=2.6
a82 2
version=`./../gcc/gcc -dumpversion`

a85 2
#CC=gcc -Wall
CC=cc
a109 2


d126 1
d130 14
d147 2
a148 6
#
## Random definitions
# Hopefully all these may be flushed once we get configuration down pat.

# alloca only needed for systems which don't have it and when cc != gcc.
# ALLOCA = alloca.o
a149 11
# nm tries to malloc enough space for the string table.  The old GNU malloc
# rounds this up to a power of two (e.g. 5M becomes 8M), and so it might 
# fail unnecessarily.  I've also seen some Unix malloc's fail, even when
# there is enough memory.  So use the new GNU malloc.
# MALLOC = gmalloc.o
# Use this if the system malloc is good enough.
MALLOC =

# Use the GNU getopt unless you have problems with it.
# The IRIS version could probably benefit from being assembled with
# libmalloc rather than the ordinary malloc.
d155 5
a159 1
ADDL_LIBS = $(MALLOC) $(BULIBS) $(BFD) $(LIBIBERTY) 
d161 2
a162 2
BFD = ../bfd/libbfd.a
OPCODES = ../opcodes/libopcodes.a
d164 2
a165 2
EXPECT = `if [ -f $${rootme}/../expect/expect ] ; then \
          echo $${rootme}/../expect/expect ; \
d180 1
a180 1
    if [ "$(host_canonical)" = "$(target_canonical)" ] ; then \
d195 1
a195 1
all: $(ADDL_LIBS) $(PROGS)
d229 1
a229 1
	rootme=`pwd`; export rootme ; \
d232 3
a234 1
	if [ -f $$rootme/../expect/expect ] ; then  \
d247 2
a248 2
$(SIZE_PROG): $(ADDL_LIBS) size.o $(BFD)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(SIZE_PROG) size.o $(ADDL_LIBS) $(EXTRALIBS)
d250 2
a251 2
$(OBJCOPY_PROG): $(ADDL_LIBS) objcopy.o not-strip.o $(BFD)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o not-strip.o $(ADDL_LIBS) $(EXTRALIBS)
d253 2
a254 2
$(STRINGS_PROG): $(ADDL_LIBS) strings.o $(BFD)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(STRINGS_PROG) strings.o $(ADDL_LIBS) $(EXTRALIBS)
d256 2
a257 2
$(STRIP_PROG): $(ADDL_LIBS) objcopy.o is-strip.o $(BFD)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(STRIP_PROG) objcopy.o is-strip.o $(ADDL_LIBS) $(EXTRALIBS)
d259 2
a260 2
$(NM_PROG): $(ADDL_LIBS) nm.o $(BFD)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(NM_PROG) nm.o $(ADDL_LIBS) $(EXTRALIBS)
d262 5
a266 2
$(OBJDUMP_PROG): $(ADDL_LIBS) objdump.o $(BFD) $(OPCODES)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(OBJDUMP_PROG) objdump.o $(OPCODES) $(ADDL_LIBS) $(EXTRALIBS)
d268 3
a270 2
underscore.c: Makefile
	rm -f underscore.c
d273 2
a274 1
	mv -f underscore.t underscore.c
d283 1
a283 1
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(DEMANGLER_PROG) cplus-dem.o $(LIBIBERTY) $(EXTRALIBS) underscore.o
d298 2
a299 2
$(AR_PROG): $(ADDL_LIBS) ar.o arparse.o arlex.o not-ranlib.o $(BFD) arsup.o
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o arparse.o arlex.o arsup.o not-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d301 2
a302 2
$(RANLIB_PROG): $(ADDL_LIBS) ar.o is-ranlib.o arparse.o arlex.o arsup.o $(BFD)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(RANLIB_PROG) ar.o arparse.o arlex.o arsup.o is-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d311 2
a312 2
ar_with_ranlib: $(ADDL_LIBS) ar.o maybe-ranlib.o $(BFD)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o maybe-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d318 2
a319 2
objcopy_with_strip: $(ADDL_LIBS) objcopy.o maybe-strip.o $(BFD)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o maybe-strip.o $(ADDL_LIBS) $(EXTRALIBS)
d364 2
a365 5
srconv.o: srconv.c sysroff.h sysroff.c coffgrok.h $(INCDIR)/coff/internal.h \
  ../bfd/libcoff.h config.h

srconv: srconv.o coffgrok.o $(ADDL_LIBS)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $@@ srconv.o coffgrok.o $(ADDL_LIBS) $(EXTRALIBS)
d367 2
a368 2
dlltool:dlltool.o defparse.o deflex.o cplus-dem.o
	$(CC) $(CFLAGS) $(LDFLAGS) -o $@@ dlltool.o defparse.o deflex.o $(ADDL_LIBS) $(EXTRALIBS)
d384 2
a385 2
coffdump: coffdump.o coffgrok.o $(ADDL_LIBS)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $@@  coffdump.o coffgrok.o $(ADDL_LIBS) $(EXTRALIBS)
d387 2
a388 4
sysdump.o: sysdump.c sysroff.h sysroff.c bucomm.h config.h

sysdump: sysdump.o $(ADDL_LIBS)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $@@ sysdump.o $(ADDL_LIBS) $(EXTRALIBS)
d397 3
a399 1
nlmconv.o: nlmconv.c
d403 2
a404 2
$(NLMCONV_PROG): nlmconv.o nlmheader.o $(ADDL_LIBS) $(BFD)
	$(CC) $(CFLAGS) $(LDFLAGS) -o $@@ nlmconv.o nlmheader.o $(ADDL_LIBS) $(EXTRALIBS)
d406 29
a434 5
# This list of dependencies was generated by doing a make with gcc -MM
# saving the output in a file and removing the gcc commands
# changing "../../devo/binutils/../bfd" to "$(BFDDIR)"
# removing "../../devo/binutils/"
# changing "../include" to "$(INCDIR)"
d436 1
a436 74
bucomm.o: bucomm.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h \
  $(INCDIR)/fopen-same.h bucomm.h config.h
filemode.o: filemode.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h \
  $(INCDIR)/fopen-same.h 
size.o: size.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h config.h
objdump.o: objdump.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h \
  $(INCDIR)/dis-asm.h $(INCDIR)/aout/aout64.h \
  $(INCDIR)/elf/internal.h $(INCDIR)/aout/stab.def config.h
nm.o: nm.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h \
  $(INCDIR)/fopen-same.h bucomm.h config.h $(INCDIR)/getopt.h \
  $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def \
  $(INCDIR)/aout/ranlib.h $(INCDIR)/demangle.h
ar.o: ar.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h \
  $(INCDIR)/fopen-same.h bucomm.h config.h $(INCDIR)/aout/ar.h \
  $(BFDDIR)/libbfd.h arsup.h
arparse.o: arparse.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h arsup.h 
arlex.o: arlex.c ./arparse.h 
not-ranlib.o: not-ranlib.c 
arsup.o: arsup.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h arsup.h bucomm.h config.h
strings.o: strings.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h bucomm.h config.h
objcopy.o: objcopy.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h \
  $(INCDIR)/fopen-same.h bucomm.h config.h
is-strip.o: is-strip.c 
is-ranlib.o: is-ranlib.c 
not-strip.o: not-strip.c 
nlmheader.o: nlmheader.c ../bfd/bfd.h \
  $(INCDIR)/fopen-same.h bucomm.h config.h \
  $(INCDIR)/nlm/common.h $(INCDIR)/nlm/internal.h nlmconv.h
nlmconv.o: nlmconv.c ../bfd/bfd.h $(INCDIR)/libiberty.h \
  $(INCDIR)/fopen-same.h bucomm.h config.h \
  $(BFDDIR)/libnlm.h $(INCDIR)/nlm/common.h \
  $(INCDIR)/nlm/internal.h $(INCDIR)/nlm/external.h nlmconv.h \
  $(INCDIR)/coff/sym.h $(INCDIR)/coff/ecoff.h

stage1: force
	- mkdir stage1
	- mv -f $(STAGESTUFF) stage1

stage2: force
	- mkdir stage2
	- mv -f $(STAGESTUFF) stage2

stage3: force
	- mkdir stage3
	- mv -f $(STAGESTUFF) stage3

against=stage2

comparison: force
	for i in $(STAGESTUFF) ; do cmp $$i $(against)/$$i ; done

de-stage1: force
	- (cd stage1 ; mv -f * ..)
	- rmdir stage1

de-stage2: force
	- (cd stage2 ; mv -f * ..)
	- rmdir stage2

de-stage3: force
	- (cd stage3 ; mv -f * ..)
	- rmdir stage3
d521 2
a522 1
	-rm -f $(PROGS) underscore.c sysroff sysroff.c sysroff.h sysinfo
d524 2
a525 2
	-rm -f Makefile config.status *.o *~ \#* core y.* \
		binutils.?? binutils.??s binutils.aux binutils.log binutils.toc
d527 1
d548 8
a555 8
	-if [ -d $(tooldir) ]; then \
	  if [ -d $(tooldir)/bin ]; then true; else mkdir $(tooldir)/bin; fi; \
	  for i in $(TOOL_PROGS) ; do \
	    if [ -f $$i ]; then \
	      j=`echo $$i | sed -e 's/.new//'`; \
	      rm -f $(tooldir)/bin/$$j; \
	      k=`echo $$j | sed '$(program_transform_name)'`; \
	      ln $(bindir)/$$k $(tooldir)/bin/$$j >/dev/null 2>/dev/null \
d557 2
a558 3
	    fi; \
	  done; \
	 else true; fi
d643 1
a643 1
config.status: configure
d646 103
a748 5
### Local Variables: ***
### mode:fundamental ***
### page-delimiter: "^#" ***
### End: ***
### end of file
@


1.1.1.1
log
@Initial GNU binutils 2.6 import
@
text
@@


1.1.1.2
log
@(Correct) Import of Cygnus binutils snapshot taken 960607
@
text
@d2 1
a2 1
# Copyright (C) 1992, 1993, 1994, 1995, 1996 Free Software Foundation, Inc.
a59 2
HLDFLAGS = @@HLDFLAGS@@
RPATH_ENVVAR = @@RPATH_ENVVAR@@
d71 1
a71 1
BISON = `if [ -f ../bison/bison ] ; then echo ../bison/bison -y -L../bison/bison ; else echo bison -y ; fi`
d77 1
a77 1
VERSION=cygnus-2.6
d81 2
d86 2
d112 2
a129 1
DEP = mkdep
a132 14
HFILES = arsup.h bucomm.h budbg.h coffgrok.h debug.h nlmconv.h

GENERATED_HFILES = arparse.h sysroff.h sysinfo.h defparse.h

CFILES = ar.c arsup.c bucomm.c coffdump.c coffgrok.c debug.c dlltool.c \
	filemode.c ieee.c is-ranlib.c is-strip.c maybe-ranlib.c \
	maybe-strip.c nlmconv.c nm.c not-ranlib.c not-strip.c \
	objcopy.c objdump.c prdbg.c rdcoff.c rddbg.c size.c srconv.c \
	stabs.c strings.c sysdump.c version.c wrstabs.c

GENERATED_CFILES = \
	underscore.c arparse.c arlex.c sysroff.c sysinfo.c syslex.c \
	defparse.c deflex.c nlmheader.c

d136 6
a141 2
DEBUG_OBJS = rddbg.o debug.o stabs.o ieee.o rdcoff.o
WRITE_DEBUG_OBJS = $(DEBUG_OBJS) wrstabs.o
d143 11
d159 1
a159 5
BFDLIB_DEP = ../bfd/libbfd.a
BFDLIB = @@BFDLIB@@

OPCODES_DEP = ../opcodes/libopcodes.a
OPCODES = @@OPCODES@@
d161 2
a162 2
ADDL_DEPS = $(BULIBS) $(BFDLIB_DEP) $(LIBIBERTY)
ADDL_LIBS = $(BULIBS) $(BFDLIB) $(LIBIBERTY) 
d164 2
a165 2
EXPECT = `if [ -f $$r/../expect/expect ] ; then \
          echo $$r/../expect/expect ; \
d180 1
a180 1
    if [ "@@host@@" = "@@target@@" ] ; then \
d195 1
a195 1
all: $(ADDL_DEPS) $(PROGS)
d229 1
a229 1
	r=`pwd`; export r ; \
d232 1
a232 3
	$(RPATH_ENVVAR)=$$r/../bfd:$$r/../opcodes:$$$(RPATH_ENVVAR); \
	export $(RPATH_ENVVAR); \
	if [ -f $$r/../expect/expect ] ; then  \
d245 2
a246 2
$(SIZE_PROG): $(ADDL_DEPS) size.o
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(SIZE_PROG) size.o $(ADDL_LIBS) $(EXTRALIBS)
d248 2
a249 2
$(OBJCOPY_PROG): $(ADDL_DEPS) objcopy.o not-strip.o $(WRITE_DEBUG_OBJS)
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o not-strip.o $(WRITE_DEBUG_OBJS) $(ADDL_LIBS) $(EXTRALIBS)
d251 2
a252 2
$(STRINGS_PROG): $(ADDL_DEPS) strings.o
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(STRINGS_PROG) strings.o $(ADDL_LIBS) $(EXTRALIBS)
d254 2
a255 2
$(STRIP_PROG): $(ADDL_DEPS) objcopy.o is-strip.o $(WRITE_DEBUG_OBJS)
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(STRIP_PROG) objcopy.o is-strip.o $(WRITE_DEBUG_OBJS) $(ADDL_LIBS) $(EXTRALIBS)
d257 2
a258 2
$(NM_PROG): $(ADDL_DEPS) nm.o
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(NM_PROG) nm.o $(ADDL_LIBS) $(EXTRALIBS)
d260 2
a261 5
#libbfd is searched twice here ($(BFDLIB) and $(ADDL_LIBS)) because when a
#shared libbfd is built with --enable-commonbfdlib, all of libopcodes is
#available in libbfd.so and we don't want to link anything from libopcodes.a
$(OBJDUMP_PROG): $(ADDL_DEPS) objdump.o prdbg.o $(DEBUG_OBJS) $(OPCODES_DEP)
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJDUMP_PROG) objdump.o prdbg.o $(DEBUG_OBJS) $(BFDLIB) $(OPCODES) $(ADDL_LIBS) $(EXTRALIBS)
d263 2
a264 3
underscore.c: stamp-under ; @@true

stamp-under: Makefile
d267 1
a267 2
	$(srcdir)/../move-if-change underscore.t underscore.c
	touch stamp-under
d276 1
a276 1
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(DEMANGLER_PROG) cplus-dem.o $(LIBIBERTY) $(EXTRALIBS) underscore.o
d291 2
a292 2
$(AR_PROG): $(ADDL_DEPS) ar.o arparse.o arlex.o not-ranlib.o arsup.o
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o arparse.o arlex.o arsup.o not-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d294 2
a295 2
$(RANLIB_PROG): $(ADDL_DEPS) ar.o is-ranlib.o arparse.o arlex.o arsup.o
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(RANLIB_PROG) ar.o arparse.o arlex.o arsup.o is-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d304 2
a305 2
ar_with_ranlib: $(ADDL_DEPS) ar.o maybe-ranlib.o
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o maybe-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d311 2
a312 2
objcopy_with_strip: $(ADDL_DEPS) objcopy.o maybe-strip.o
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o maybe-strip.o $(ADDL_LIBS) $(EXTRALIBS)
d357 5
a361 2
srconv: srconv.o coffgrok.o $(ADDL_DEPS)
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ srconv.o coffgrok.o $(ADDL_LIBS) $(EXTRALIBS)
d363 2
a364 2
dlltool: dlltool.o defparse.o deflex.o cplus-dem.o $(ADDL_DEPS)
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ dlltool.o defparse.o deflex.o $(ADDL_LIBS) $(EXTRALIBS)
d380 2
a381 2
coffdump: coffdump.o coffgrok.o $(ADDL_DEPS)
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@  coffdump.o coffgrok.o $(ADDL_LIBS) $(EXTRALIBS)
d383 4
a386 2
sysdump: sysdump.o $(ADDL_DEPS)
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ sysdump.o $(ADDL_LIBS) $(EXTRALIBS)
d395 1
a395 3
# coff/sym.h and coff/ecoff.h won't be found by the automatic dependency
# scripts, since they are only included conditionally.
nlmconv.o: nlmconv.c $(INCDIR)/coff/sym.h $(INCDIR)/coff/ecoff.h
d399 2
a400 2
$(NLMCONV_PROG): nlmconv.o nlmheader.o $(ADDL_DEPS)
	$(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ nlmconv.o nlmheader.o $(ADDL_LIBS) $(EXTRALIBS)
d402 5
a406 29
# Targets to rebuild dependencies in this Makefile.
# Have to get rid of .dep1 here so that "$?" later includes all of $(CFILES).
.dep: dep.sed $(CFILES) $(HFILES) $(GENERATED_CFILES) $(GENERATED_HFILES) config.h
	rm -f .dep1
	$(MAKE) DEP=$(DEP) .dep1
	sed -f dep.sed <.dep1 >.dep

# This rule really wants a mkdep that runs "gcc -MM".
.dep1: $(CFILES) $(GENERATED_CFILES)
	rm -f .dep2
	echo '# DO NOT DELETE THIS LINE -- mkdep uses it.' > .dep2
	$(DEP) -f .dep2 $(ALL_CFLAGS) $?
	$(srcdir)/../move-if-change .dep2 .dep1

dep.sed: dep-in.sed config.status
	sed <$(srcdir)/dep-in.sed >dep.sed	\
		-e 's!@@INCDIR@@!$(INCDIR)!'	\
		-e 's!@@BFDDIR@@!$(BFDDIR)!'	\
		-e 's!@@SRCDIR@@!$(srcdir)!'

dep: .dep
	sed -e '/^..DO NOT DELETE THIS LINE/,$$d' < Makefile > tmp-Makefile
	cat .dep >> tmp-Makefile
	$(srcdir)/../move-if-change tmp-Makefile Makefile

dep-in: .dep
	sed -e '/^..DO NOT DELETE THIS LINE/,$$d' < $(srcdir)/Makefile.in > tmp-Makefile.in
	cat .dep >> tmp-Makefile.in
	$(srcdir)/../move-if-change tmp-Makefile.in $(srcdir)/Makefile.in
d408 74
a481 1
.PHONY: dep dep-in
d566 1
a566 2
	-rm -f $(PROGS) $(DEMANGLER_PROG).1 stamp-under
	-rm -f underscore.c sysroff sysroff.c sysroff.h sysinfo dep.sed
d568 2
a569 2
	-rm -f Makefile config.status *.o *~ \#* core y.*
	-rm -f binutils.?? binutils.??s binutils.aux binutils.log binutils.toc
a570 1
	-rm -f dep.sed stamp-under $(DEMANGLER_PROG).1
d591 8
a598 8
	test -d $(tooldir) || mkdir $(tooldir)
	test -d $(tooldir)/bin || mkdir $(tooldir)/bin
	for i in $(TOOL_PROGS) ; do \
	  if [ -f $$i ]; then \
	    j=`echo $$i | sed -e 's/.new//'`; \
	    rm -f $(tooldir)/bin/$$j; \
	    k=`echo $$j | sed '$(program_transform_name)'`; \
	    ln $(bindir)/$$k $(tooldir)/bin/$$j >/dev/null 2>/dev/null \
d600 3
a602 2
	  fi; \
	done
d687 1
a687 1
config.status: configure $(srcdir)/../bfd/configure.host $(srcdir)/../bfd/config.bfd
d690 5
a694 103
# What appears below is generated by a hacked mkdep using gcc -MM.

# DO NOT DELETE THIS LINE -- mkdep uses it.
# DO NOT PUT ANYTHING AFTER THIS LINE, IT WILL GO AWAY.

ar.o: ar.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/obstack.h \
  $(INCDIR)/libiberty.h $(INCDIR)/progress.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h $(INCDIR)/aout/ar.h \
  $(BFDDIR)/libbfd.h arsup.h
arsup.o: arsup.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h arsup.h $(INCDIR)/libiberty.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h
bucomm.o: bucomm.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h $(INCDIR)/libiberty.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h
coffdump.o: coffdump.c coffgrok.h bucomm.h config.h \
  $(INCDIR)/fopen-same.h
coffgrok.o: coffgrok.c bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/coff/internal.h $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h \
  coffgrok.h
debug.o: debug.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h
dlltool.o: dlltool.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h $(INCDIR)/libiberty.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h \
  $(INCDIR)/demangle.h
filemode.o: filemode.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h
ieee.o: ieee.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/obstack.h \
  $(INCDIR)/ieee.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h
is-ranlib.o: is-ranlib.c
is-strip.o: is-strip.c
maybe-ranlib.o: maybe-ranlib.c
maybe-strip.o: maybe-strip.c
nlmconv.o: nlmconv.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h $(INCDIR)/libiberty.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h $(BFDDIR)/libnlm.h \
  $(INCDIR)/nlm/common.h $(INCDIR)/nlm/internal.h $(INCDIR)/nlm/external.h \
  nlmconv.h
nm.o: nm.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/obstack.h \
  $(INCDIR)/progress.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/getopt.h $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def \
  $(INCDIR)/aout/ranlib.h $(INCDIR)/demangle.h $(INCDIR)/libiberty.h
not-ranlib.o: not-ranlib.c
not-strip.o: not-strip.c
objcopy.o: objcopy.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h $(INCDIR)/progress.h bucomm.h config.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h $(INCDIR)/libiberty.h \
  budbg.h
objdump.o: objdump.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h $(INCDIR)/getopt.h $(INCDIR)/progress.h \
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/dis-asm.h \
  $(INCDIR)/libiberty.h debug.h budbg.h $(INCDIR)/aout/aout64.h
prdbg.o: prdbg.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h
rdcoff.o: rdcoff.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h $(INCDIR)/coff/internal.h bucomm.h \
  config.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  $(INCDIR)/demangle.h debug.h budbg.h $(BFDDIR)/libcoff.h \
  $(INCDIR)/bfdlink.h
rddbg.o: rddbg.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h
size.o: size.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/obstack.h \
  $(INCDIR)/getopt.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h
srconv.o: srconv.c bucomm.h config.h $(INCDIR)/fopen-same.h \
  sysroff.h coffgrok.h $(INCDIR)/coff/internal.h $(BFDDIR)/libcoff.h \
  $(INCDIR)/bfdlink.h sysroff.c
stabs.o: stabs.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h $(INCDIR)/demangle.h debug.h \
  budbg.h $(INCDIR)/aout/aout64.h $(INCDIR)/aout/stab_gnu.h \
  $(INCDIR)/aout/stab.def
strings.o: strings.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h
sysdump.o: sysdump.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  sysroff.h sysroff.c
version.o: version.c
wrstabs.o: wrstabs.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h $(INCDIR)/aout/aout64.h \
  $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def
underscore.o: underscore.c
arparse.o: arparse.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  arsup.h
arlex.o: arlex.c arparse.h
sysroff.o: sysroff.c
sysinfo.o: sysinfo.c
syslex.o: syslex.c sysinfo.h
defparse.o: defparse.c
deflex.o: deflex.c defparse.h
nlmheader.o: nlmheader.c ../bfd/bfd.h $(INCDIR)/obstack.h \
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/nlm/common.h \
  $(INCDIR)/nlm/internal.h nlmconv.h

# IF YOU PUT ANYTHING HERE IT WILL GO AWAY
@


1.1.1.3
log
@Import of binutils, gas, ld & gprof from Cygnus 960904 tree
@
text
@d28 2
a29 2
bindir = @@bindir@@
libdir = @@libdir@@
d32 2
a33 2
datadir = @@datadir@@
mandir = @@mandir@@
d43 3
a45 2
infodir = @@infodir@@
includedir = @@includedir@@
d50 2
a51 2
INSTALL_PROGRAM = @@INSTALL_PROGRAM@@
INSTALL_DATA = @@INSTALL_DATA@@
a60 1
HLDENV = @@HLDENV@@
d79 1
a79 1
VERSION=cygnus-2.7.1
d117 1
a117 2
DISTSTUFF=arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h \
	syslex.c deflex.c
d248 1
a248 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(SIZE_PROG) size.o $(ADDL_LIBS) $(EXTRALIBS)
d251 1
a251 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o not-strip.o $(WRITE_DEBUG_OBJS) $(ADDL_LIBS) $(EXTRALIBS)
d254 1
a254 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(STRINGS_PROG) strings.o $(ADDL_LIBS) $(EXTRALIBS)
d257 1
a257 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(STRIP_PROG) objcopy.o is-strip.o $(WRITE_DEBUG_OBJS) $(ADDL_LIBS) $(EXTRALIBS)
d260 1
a260 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(NM_PROG) nm.o $(ADDL_LIBS) $(EXTRALIBS)
d266 1
a266 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJDUMP_PROG) objdump.o prdbg.o $(DEBUG_OBJS) $(BFDLIB) $(OPCODES) $(ADDL_LIBS) $(EXTRALIBS)
d283 1
a283 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(DEMANGLER_PROG) cplus-dem.o $(LIBIBERTY) $(EXTRALIBS) underscore.o
d299 1
a299 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o arparse.o arlex.o arsup.o not-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d302 1
a302 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(RANLIB_PROG) ar.o arparse.o arlex.o arsup.o is-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d312 1
a312 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o maybe-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
d319 1
a319 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o maybe-strip.o $(ADDL_LIBS) $(EXTRALIBS)
d365 1
a365 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ srconv.o coffgrok.o $(ADDL_LIBS) $(EXTRALIBS)
d368 1
a368 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ dlltool.o defparse.o deflex.o $(ADDL_LIBS) $(EXTRALIBS)
d385 1
a385 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@  coffdump.o coffgrok.o $(ADDL_LIBS) $(EXTRALIBS)
d388 1
a388 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ sysdump.o $(ADDL_LIBS) $(EXTRALIBS)
d404 1
a404 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@ nlmconv.o nlmheader.o $(ADDL_LIBS) $(EXTRALIBS)
@


1.1.1.4
log
@Import of 961112 Cygnus binutils+gas+ld+gdb+gprof
@
text
@d74 2
a75 1
LEX_OPTIONS =
d519 1
a519 1
	-rm -f *.o *~ \#* core binutils.?? binutils.??? y.output
d730 1
a730 2
version.o: version.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/obstack.h bucomm.h config.h $(INCDIR)/fopen-same.h
@


1.1.1.5
log
@Import of binutils-2.8.1 from Cygnus/FSF
@
text
@d2 1
a2 1
# Copyright (C) 1992, 93, 94, 95, 96, 1997 Free Software Foundation, Inc.
d73 1
a73 1
BISON = bison -y
d78 1
a78 1
VERSION=2.8.1
a103 2
ADDR2LINE_PROG=addr2line

d109 1
a109 1
MANPAGES= ar nm objdump ranlib size strings strip objcopy addr2line nlmconv
d111 1
a111 1
PROGS = $(SIZE_PROG) $(OBJDUMP_PROG) $(NM_PROG) $(AR_PROG) $(STRINGS_PROG) $(STRIP_PROG) $(RANLIB_PROG) $(DEMANGLER_PROG) $(OBJCOPY_PROG) $(ADDR2LINE_PROG) @@BUILD_NLMCONV@@ @@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@
d128 1
a128 1
ALL_CFLAGS = -D_GNU_SOURCE $(INCLUDES) @@HDEFINES@@ $(CFLAGS)
d134 2
a135 2
CFILES = addr2line.c ar.c arsup.c bucomm.c coffdump.c coffgrok.c debug.c \
	dlltool.c filemode.c ieee.c is-ranlib.c is-strip.c maybe-ranlib.c \
d262 3
d266 1
a266 1
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJDUMP_PROG) objdump.o prdbg.o $(DEBUG_OBJS) $(OPCODES) $(ADDL_LIBS) $(EXTRALIBS)
d273 1
a273 1
	$(SHELL) $(srcdir)/../move-if-change underscore.t underscore.c
a278 3
bucomm.o: bucomm.c Makefile
	$(CC) -DTARGET='"@@target@@"' $(ALL_CFLAGS) -c $(srcdir)/bucomm.c

a303 3
$(ADDR2LINE_PROG): $(ADDL_DEPS) addr2line.o
	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(ADDR2LINE_PROG) addr2line.o $(ADDL_LIBS) $(EXTRALIBS)

d418 1
a418 1
	$(SHELL) $(srcdir)/../move-if-change .dep2 .dep1
d429 1
a429 1
	$(SHELL) $(srcdir)/../move-if-change tmp-Makefile Makefile
d434 1
a434 1
	$(SHELL) $(srcdir)/../move-if-change tmp-Makefile.in $(srcdir)/Makefile.in
d525 1
a525 1
	-rm -f binutils.?? binutils.??? binutils.aux binutils.log binutils.toc
d527 1
a527 3
	-rm -f dep.sed stamp-under $(DEMANGLER_PROG).1 site.bak site.exp
	-rm -f sysroff sysroff.c sysroff.h sysinfo
	-rm -rf tmpdir
d531 1
a531 1
	-rm -f $(DISTSTUFF) binutils.info* TAGS
a556 1
	  else true; \
d579 1
d651 4
a654 6
addr2line.o: addr2line.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/getopt.h $(INCDIR)/libiberty.h $(INCDIR)/demangle.h \
  bucomm.h config.h $(INCDIR)/fopen-same.h
ar.o: ar.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/libiberty.h \
  $(INCDIR)/progress.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/aout/ar.h $(BFDDIR)/libbfd.h arsup.h
d656 2
a657 1
  arsup.h $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/fopen-same.h
d659 2
a660 1
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/fopen-same.h
d667 2
a668 2
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  debug.h
d670 3
a672 2
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/getopt.h $(INCDIR)/demangle.h
d674 4
a677 4
  bucomm.h config.h $(INCDIR)/fopen-same.h
ieee.o: ieee.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/ieee.h \
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  debug.h budbg.h
d683 8
a690 7
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(BFDDIR)/libnlm.h $(INCDIR)/nlm/common.h $(INCDIR)/nlm/internal.h \
  $(INCDIR)/nlm/external.h nlmconv.h
nm.o: nm.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/progress.h \
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h \
  $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def $(INCDIR)/aout/ranlib.h \
  $(INCDIR)/demangle.h $(INCDIR)/libiberty.h
d694 3
a696 2
  $(INCDIR)/progress.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/getopt.h $(INCDIR)/libiberty.h budbg.h
d698 3
a700 3
  $(INCDIR)/getopt.h $(INCDIR)/progress.h bucomm.h config.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/dis-asm.h $(INCDIR)/libiberty.h \
  $(INCDIR)/demangle.h debug.h budbg.h $(INCDIR)/aout/aout64.h
d702 2
a703 2
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  debug.h budbg.h
d705 4
a708 3
  $(INCDIR)/coff/internal.h bucomm.h config.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h $(INCDIR)/demangle.h debug.h \
  budbg.h $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h
d710 5
a714 4
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  debug.h budbg.h
size.o: size.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/getopt.h \
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h
d719 4
a722 3
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  $(INCDIR)/demangle.h debug.h budbg.h $(INCDIR)/aout/aout64.h \
  $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def
d724 2
a725 1
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h
d727 2
a728 2
  bucomm.h config.h $(INCDIR)/fopen-same.h sysroff.h \
  sysroff.c
d730 1
a730 1
  bucomm.h config.h $(INCDIR)/fopen-same.h
d732 3
a734 3
  bucomm.h config.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  debug.h budbg.h $(INCDIR)/aout/aout64.h $(INCDIR)/aout/stab_gnu.h \
  $(INCDIR)/aout/stab.def
d737 3
a739 2
  bucomm.h config.h $(INCDIR)/fopen-same.h arsup.h
arlex.o: arlex.c $(INCDIR)/libiberty.h arparse.h
d745 3
a747 3
nlmheader.o: nlmheader.c ../bfd/bfd.h bucomm.h config.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/nlm/common.h $(INCDIR)/nlm/internal.h \
  nlmconv.h
@


1.1.1.6
log
@Import binutils-2.10
- only the binutils package (no gdb here)
- don't import libiberty and texinfo, they are elsewhere
- remove all .info* generated files
@
text
@d1 2
a2 1
# Makefile.in generated automatically by automake 1.4 from Makefile.am
d4 1
a4 4
# Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.
# This Makefile.in is free software; the Free Software Foundation
# gives unlimited permission to copy and/or distribute it,
# with or without modifications, as long as this notice is preserved.
d6 5
d12 7
a18 3
# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.
d20 2
d23 2
a24 1
SHELL = @@SHELL@@
d26 1
a26 4
srcdir = @@srcdir@@
top_srcdir = @@top_srcdir@@
VPATH = @@srcdir@@
prefix = @@prefix@@
d28 3
a31 3
bindir = @@bindir@@
sbindir = @@sbindir@@
libexecdir = @@libexecdir@@
d33 10
a42 4
sysconfdir = @@sysconfdir@@
sharedstatedir = @@sharedstatedir@@
localstatedir = @@localstatedir@@
libdir = @@libdir@@
a43 1
mandir = @@mandir@@
a44 1
oldincludedir = /usr/include
d46 1
a46 1
DESTDIR =
d48 2
a49 13
pkgdatadir = $(datadir)/@@PACKAGE@@
pkglibdir = $(libdir)/@@PACKAGE@@
pkgincludedir = $(includedir)/@@PACKAGE@@

top_builddir = .

ACLOCAL = @@ACLOCAL@@
AUTOCONF = @@AUTOCONF@@
AUTOMAKE = @@AUTOMAKE@@
AUTOHEADER = @@AUTOHEADER@@

INSTALL = @@INSTALL@@
INSTALL_PROGRAM = @@INSTALL_PROGRAM@@ $(AM_INSTALL_PROGRAM_FLAGS)
d51 2
a52 2
INSTALL_SCRIPT = @@INSTALL_SCRIPT@@
transform = @@program_transform_name@@
d54 2
a55 22
NORMAL_INSTALL = :
PRE_INSTALL = :
POST_INSTALL = :
NORMAL_UNINSTALL = :
PRE_UNINSTALL = :
POST_UNINSTALL = :
build_alias = @@build_alias@@
build_triplet = @@build@@
host_alias = @@host_alias@@
host_triplet = @@host@@
target_alias = @@target_alias@@
target_triplet = @@target@@
AR = @@AR@@
AS = @@AS@@
BUILD_DLLTOOL = @@BUILD_DLLTOOL@@
BUILD_DLLWRAP = @@BUILD_DLLWRAP@@
BUILD_MISC = @@BUILD_MISC@@
BUILD_NLMCONV = @@BUILD_NLMCONV@@
BUILD_SRCONV = @@BUILD_SRCONV@@
BUILD_WINDRES = @@BUILD_WINDRES@@
CATALOGS = @@CATALOGS@@
CATOBJEXT = @@CATOBJEXT@@
d57 11
a67 40
DATADIRNAME = @@DATADIRNAME@@
DEMANGLER_NAME = @@DEMANGLER_NAME@@
DLLTOOL = @@DLLTOOL@@
DLLTOOL_DEFS = @@DLLTOOL_DEFS@@
EXEEXT = @@EXEEXT@@
GMOFILES = @@GMOFILES@@
GMSGFMT = @@GMSGFMT@@
GT_NO = @@GT_NO@@
GT_YES = @@GT_YES@@
HDEFINES = @@HDEFINES@@
INCLUDE_LOCALE_H = @@INCLUDE_LOCALE_H@@
INSTOBJEXT = @@INSTOBJEXT@@
INTLDEPS = @@INTLDEPS@@
INTLOBJS = @@INTLOBJS@@
LIBTOOL = @@LIBTOOL@@
LN_S = @@LN_S@@
MAINT = @@MAINT@@
MAKEINFO = @@MAKEINFO@@
MKINSTALLDIRS = @@MKINSTALLDIRS@@
MSGFMT = @@MSGFMT@@
NLMCONV_DEFS = @@NLMCONV_DEFS@@
OBJDUMP = @@OBJDUMP@@
PACKAGE = @@PACKAGE@@
POFILES = @@POFILES@@
POSUB = @@POSUB@@
RANLIB = @@RANLIB@@
UNDERSCORE = @@UNDERSCORE@@
USE_INCLUDED_LIBINTL = @@USE_INCLUDED_LIBINTL@@
USE_NLS = @@USE_NLS@@
VERSION = @@VERSION@@
l = @@l@@

INTLLIBS = @@INTLLIBS@@

AUTOMAKE_OPTIONS = cygnus dejagnu

SUBDIRS = po

tooldir = $(exec_prefix)/$(target_alias)

d69 12
a80 1
EXEEXT_FOR_BUILD = @@EXEEXT_FOR_BUILD@@
d82 2
a83 3
YACC = `if [ -f ../bison/bison ]; then echo ../bison/bison -y -L$(srcdir)/../bison/; else echo @@YACC@@; fi`
YFLAGS = -d
LEX = `if [ -f ../flex/flex ]; then echo ../flex/flex; else echo @@LEX@@; fi`
d86 2
a87 2
AR_PROG = ar
RANLIB_PROG = ranlib
d90 2
a91 4
OBJCOPY_PROG = objcopy
STRIP_PROG = strip-new

STRINGS_PROG = strings
d93 1
a93 1
READELF_PROG = readelf
d96 3
a98 3
SIZE_PROG = size
NM_PROG = nm-new
OBJDUMP_PROG = objdump
d102 1
a102 3
DEMANGLER_PROG = cxxfilt

ADDR2LINE_PROG = addr2line
d104 1
a104 4
NLMCONV_PROG = nlmconv
DLLTOOL_PROG = dlltool
WINDRES_PROG = windres
DLLWRAP_PROG = dllwrap
d106 2
a107 1
SRCONV_PROG = srconv$(EXEEXT) sysdump$(EXEEXT) coffdump$(EXEEXT) 
d109 1
a109 2
man_MANS = ar.1 nm.1 objdump.1 ranlib.1 size.1 strings.1 strip.1 objcopy.1 \
	addr2line.1 nlmconv.1 $(DEMANGLER_NAME).1
d111 1
d113 7
a119 7
PROGS = $(SIZE_PROG) $(OBJDUMP_PROG) $(NM_PROG) $(AR_PROG) $(STRINGS_PROG) $(STRIP_PROG) $(RANLIB_PROG) $(DEMANGLER_PROG) $(OBJCOPY_PROG) @@BUILD_NLMCONV@@ @@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@ @@BUILD_WINDRES@@ $(ADDR2LINE_PROG) $(READELF_PROG) @@BUILD_DLLWRAP@@ @@BUILD_MISC@@

bin_PROGRAMS = $(SIZE_PROG) $(OBJDUMP_PROG) $(AR_PROG) $(STRINGS_PROG) $(RANLIB_PROG) $(OBJCOPY_PROG) @@BUILD_NLMCONV@@ @@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@ @@BUILD_WINDRES@@ $(ADDR2LINE_PROG) $(READELF_PROG) @@BUILD_DLLWRAP@@ @@BUILD_MISC@@

noinst_PROGRAMS = $(NM_PROG) $(STRIP_PROG) $(DEMANGLER_PROG)

EXTRA_PROGRAMS = $(NLMCONV_PROG) srconv sysdump coffdump $(DLLTOOL_PROG) $(WINDRES_PROG) $(DLLWRAP_PROG)
d122 1
a122 1
TOOL_PROGS = nm-new strip-new ar ranlib dlltool
d126 3
a128 3
INCDIR = $(BASEDIR)/include

MKDEP = gcc -MM
d130 1
a130 1
INCLUDES = -D_GNU_SOURCE -I. -I$(srcdir) -I../bfd -I$(BFDDIR) -I$(INCDIR) @@HDEFINES@@ -I$(srcdir)/../intl -I../intl -DLOCALEDIR="\"$(prefix)/share/locale\""
d132 1
a132 2
HFILES = arsup.h bucomm.h budbg.h coffgrok.h debug.h nlmconv.h dlltool.h \
	windres.h winduni.h dyn-string.h
d134 1
a134 2

GENERATED_HFILES = arparse.h sysroff.h sysinfo.h defparse.h rcparse.h
d140 1
a140 4
	stabs.c strings.c sysdump.c version.c wrstabs.c \
	windres.c resrc.c rescoff.c resbin.c winduni.c readelf.c \
	resres.c dyn-string.c dllwrap.c rename.c

d144 4
a147 1
	defparse.c deflex.c nlmheader.c rcparse.c rclex.c
d149 2
d152 1
a152 2
DEBUG_SRCS = rddbg.c debug.c stabs.c ieee.c rdcoff.c
WRITE_DEBUG_SRCS = $(DEBUG_SRCS) wrstabs.c
d155 1
a155 1
BULIBS = bucomm.c version.c filemode.c
d157 2
a158 1
BFDLIB = ../bfd/libbfd.la
d160 2
a161 3
OPCODES = ../opcodes/libopcodes.la

LIBIBERTY = ../libiberty/libiberty.a
d163 2
a164 1
POTFILES = $(CFILES) $(DEBUG_SRCS) $(HFILES)
a168 1

d172 1
a172 1

d185 1
a185 1
      echo gcc | sed '$(transform)'; \
d189 52
d242 2
a243 1
info_TEXINFOS = binutils.texi
d245 1
a245 1
LDADD = $(BFDLIB) $(LIBIBERTY) $(INTLLIBS)
d247 1
a247 1
size_SOURCES = size.c $(BULIBS)
d249 2
a250 1
objcopy_SOURCES = objcopy.c not-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)
d252 2
a253 1
strings_SOURCES = strings.c $(BULIBS)
d255 2
a256 2
readelf_SOURCES = readelf.c version.c
readelf_LDADD = $(INTLLIBS) $(LIBIBERTY)
d258 2
a259 1
strip_new_SOURCES = objcopy.c is-strip.c rename.c $(WRITE_DEBUG_SRCS) $(BULIBS)
d261 2
a262 1
nm_new_SOURCES = nm.c $(BULIBS)
d264 2
a265 2
objdump_SOURCES = objdump.c prdbg.c $(DEBUG_SRCS) $(BULIBS)
objdump_LDADD = $(OPCODES) $(BFDLIB) $(LIBIBERTY) $(INTLLIBS)
d267 1
a267 2
cxxfilt_SOURCES = 
cxxfilt_LDADD = cplus-dem.o underscore.o $(LIBIBERTY) $(INTLLIBS)
d269 5
a273 2
ar_SOURCES = arparse.y arlex.l ar.c not-ranlib.c arsup.c rename.c $(BULIBS)
ar_LDADD = $(BFDLIB) $(LIBIBERTY) @@LEXLIB@@ $(INTLLIBS)
d275 2
a276 2
ranlib_SOURCES = ar.c is-ranlib.c arparse.y arlex.l arsup.c rename.c $(BULIBS)
ranlib_LDADD = $(BFDLIB) $(LIBIBERTY) @@LEXLIB@@ $(INTLLIBS)
d278 2
a279 1
addr2line_SOURCES = addr2line.c $(BULIBS)
d281 2
a282 305
srconv_SOURCES = srconv.c coffgrok.c $(BULIBS)

dlltool_SOURCES = dlltool.c defparse.y deflex.l dyn-string.c $(BULIBS)
dlltool_LDADD = $(BFDLIB) $(LIBIBERTY) @@LEXLIB@@ $(INTLLIBS)

coffdump_SOURCES = coffdump.c coffgrok.c $(BULIBS)

sysdump_SOURCES = sysdump.c $(BULIBS)

nlmconv_SOURCES = nlmconv.c nlmheader.y $(BULIBS)

windres_SOURCES = windres.c resrc.c rescoff.c resbin.c rcparse.y rclex.l \
	winduni.c resres.c $(BULIBS)

windres_LDADD = $(BFDLIB) $(LIBIBERTY) @@LEXLIB@@ $(INTLLIBS)

dllwrap_SOURCES = dllwrap.c dyn-string.c version.c
dllwrap_LDADD = $(LIBIBERTY) $(INTLLIBS)

DISTSTUFF = arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h \
	syslex.c deflex.c defparse.h defparse.c rclex.c rcparse.h rcparse.c


DISTCLEANFILES = stamp-under sysinfo underscore.c sysroff.c sysroff.h \
	site.exp site.bak


MAINTAINERCLEANFILES = config.texi

MOSTLYCLEANFILES = sysinfo $(DEMANGLER_NAME).1 binutils.log binutils.sum \
	abcdefgh*


CLEANFILES = dep.sed DEP DEP1 DEP2
ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
mkinstalldirs = $(SHELL) $(top_srcdir)/../mkinstalldirs
CONFIG_HEADER = config.h
CONFIG_CLEAN_FILES = 
bin_PROGRAMS =  size$(EXEEXT) objdump$(EXEEXT) ar$(EXEEXT) \
strings$(EXEEXT) ranlib$(EXEEXT) objcopy$(EXEEXT) @@BUILD_NLMCONV@@ \
@@BUILD_SRCONV@@ @@BUILD_DLLTOOL@@ @@BUILD_WINDRES@@ addr2line$(EXEEXT) \
readelf$(EXEEXT) @@BUILD_DLLWRAP@@ @@BUILD_MISC@@
noinst_PROGRAMS =  nm-new$(EXEEXT) strip-new$(EXEEXT) cxxfilt$(EXEEXT)
PROGRAMS =  $(bin_PROGRAMS) $(noinst_PROGRAMS)


DEFS = @@DEFS@@ -I. -I$(srcdir) -I.
CPPFLAGS = @@CPPFLAGS@@
LDFLAGS = @@LDFLAGS@@
LIBS = @@LIBS@@
nlmconv_OBJECTS =  nlmconv.o nlmheader.o bucomm.o version.o filemode.o
nlmconv_LDADD = $(LDADD)
nlmconv_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
nlmconv_LDFLAGS = 
srconv_OBJECTS =  srconv.o coffgrok.o bucomm.o version.o filemode.o
srconv_LDADD = $(LDADD)
srconv_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
srconv_LDFLAGS = 
sysdump_OBJECTS =  sysdump.o bucomm.o version.o filemode.o
sysdump_LDADD = $(LDADD)
sysdump_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
sysdump_LDFLAGS = 
coffdump_OBJECTS =  coffdump.o coffgrok.o bucomm.o version.o filemode.o
coffdump_LDADD = $(LDADD)
coffdump_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
coffdump_LDFLAGS = 
dlltool_OBJECTS =  dlltool.o defparse.o deflex.o dyn-string.o bucomm.o \
version.o filemode.o
dlltool_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
dlltool_LDFLAGS = 
windres_OBJECTS =  windres.o resrc.o rescoff.o resbin.o rcparse.o \
rclex.o winduni.o resres.o bucomm.o version.o filemode.o
windres_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
windres_LDFLAGS = 
dllwrap_OBJECTS =  dllwrap.o dyn-string.o version.o
dllwrap_DEPENDENCIES =  ../libiberty/libiberty.a
dllwrap_LDFLAGS = 
size_OBJECTS =  size.o bucomm.o version.o filemode.o
size_LDADD = $(LDADD)
size_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
size_LDFLAGS = 
objdump_OBJECTS =  objdump.o prdbg.o rddbg.o debug.o stabs.o ieee.o \
rdcoff.o bucomm.o version.o filemode.o
objdump_DEPENDENCIES =  ../opcodes/libopcodes.la ../bfd/libbfd.la \
../libiberty/libiberty.a
objdump_LDFLAGS = 
ar_OBJECTS =  arparse.o arlex.o ar.o not-ranlib.o arsup.o rename.o \
bucomm.o version.o filemode.o
ar_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
ar_LDFLAGS = 
strings_OBJECTS =  strings.o bucomm.o version.o filemode.o
strings_LDADD = $(LDADD)
strings_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
strings_LDFLAGS = 
ranlib_OBJECTS =  ar.o is-ranlib.o arparse.o arlex.o arsup.o rename.o \
bucomm.o version.o filemode.o
ranlib_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
ranlib_LDFLAGS = 
objcopy_OBJECTS =  objcopy.o not-strip.o rename.o rddbg.o debug.o \
stabs.o ieee.o rdcoff.o wrstabs.o bucomm.o version.o filemode.o
objcopy_LDADD = $(LDADD)
objcopy_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
objcopy_LDFLAGS = 
addr2line_OBJECTS =  addr2line.o bucomm.o version.o filemode.o
addr2line_LDADD = $(LDADD)
addr2line_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
addr2line_LDFLAGS = 
readelf_OBJECTS =  readelf.o version.o
readelf_DEPENDENCIES =  ../libiberty/libiberty.a
readelf_LDFLAGS = 
nm_new_OBJECTS =  nm.o bucomm.o version.o filemode.o
nm_new_LDADD = $(LDADD)
nm_new_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
nm_new_LDFLAGS = 
strip_new_OBJECTS =  objcopy.o is-strip.o rename.o rddbg.o debug.o \
stabs.o ieee.o rdcoff.o wrstabs.o bucomm.o version.o filemode.o
strip_new_LDADD = $(LDADD)
strip_new_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
strip_new_LDFLAGS = 
cxxfilt_OBJECTS = 
cxxfilt_DEPENDENCIES =  cplus-dem.o underscore.o \
../libiberty/libiberty.a
cxxfilt_LDFLAGS = 
LEX_OUTPUT_ROOT = @@LEX_OUTPUT_ROOT@@
LEXLIB = @@LEXLIB@@
YLWRAP = $(top_srcdir)/../ylwrap
CFLAGS = @@CFLAGS@@
COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
CCLD = $(CC)
LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@@
TEXI2DVI = `if test -f $(top_srcdir)/../texinfo/util/texi2dvi; then echo $(top_srcdir)/../texinfo/util/texi2dvi; else echo texi2dvi; fi`
TEXINFO_TEX = $(top_srcdir)/../texinfo/texinfo.tex
INFO_DEPS = binutils.info
DVIS = binutils.dvi
TEXINFOS = binutils.texi
man1dir = $(mandir)/man1
MANS = $(man_MANS)

NROFF = nroff
DIST_COMMON =  README ./stamp-h.in ChangeLog Makefile.am Makefile.in \
NEWS acinclude.m4 aclocal.m4 arlex.c arparse.c config.in configure \
configure.in deflex.c defparse.c nlmheader.c rclex.c rcparse.c


DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)

TAR = tar
GZIP_ENV = --best
SOURCES = $(nlmconv_SOURCES) $(srconv_SOURCES) $(sysdump_SOURCES) $(coffdump_SOURCES) $(dlltool_SOURCES) $(windres_SOURCES) $(dllwrap_SOURCES) $(size_SOURCES) $(objdump_SOURCES) $(ar_SOURCES) $(strings_SOURCES) $(ranlib_SOURCES) $(objcopy_SOURCES) $(addr2line_SOURCES) $(readelf_SOURCES) $(nm_new_SOURCES) $(strip_new_SOURCES) $(cxxfilt_SOURCES)
OBJECTS = $(nlmconv_OBJECTS) $(srconv_OBJECTS) $(sysdump_OBJECTS) $(coffdump_OBJECTS) $(dlltool_OBJECTS) $(windres_OBJECTS) $(dllwrap_OBJECTS) $(size_OBJECTS) $(objdump_OBJECTS) $(ar_OBJECTS) $(strings_OBJECTS) $(ranlib_OBJECTS) $(objcopy_OBJECTS) $(addr2line_OBJECTS) $(readelf_OBJECTS) $(nm_new_OBJECTS) $(strip_new_OBJECTS) $(cxxfilt_OBJECTS)

all: all-redirect
.SUFFIXES:
.SUFFIXES: .S .c .dvi .info .l .lo .o .ps .s .texi .texinfo .txi .y
$(srcdir)/Makefile.in: @@MAINTAINER_MODE_TRUE@@ Makefile.am $(top_srcdir)/configure.in $(ACLOCAL_M4) 
	cd $(top_srcdir) && $(AUTOMAKE) --cygnus Makefile

Makefile: $(srcdir)/Makefile.in  $(top_builddir)/config.status
	cd $(top_builddir) \
	  && CONFIG_FILES=$@@ CONFIG_HEADERS= $(SHELL) ./config.status

$(ACLOCAL_M4): @@MAINTAINER_MODE_TRUE@@ configure.in  acinclude.m4
	cd $(srcdir) && $(ACLOCAL)

config.status: $(srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
	$(SHELL) ./config.status --recheck
$(srcdir)/configure: @@MAINTAINER_MODE_TRUE@@$(srcdir)/configure.in $(ACLOCAL_M4) $(CONFIGURE_DEPENDENCIES)
	cd $(srcdir) && $(AUTOCONF)

config.h: stamp-h
	@@if test ! -f $@@; then \
		rm -f stamp-h; \
		$(MAKE) stamp-h; \
	else :; fi
stamp-h: $(srcdir)/config.in $(top_builddir)/config.status
	cd $(top_builddir) \
	  && CONFIG_FILES= CONFIG_HEADERS=config.h:config.in \
	     $(SHELL) ./config.status
	@@echo timestamp > stamp-h 2> /dev/null
$(srcdir)/config.in: @@MAINTAINER_MODE_TRUE@@$(srcdir)/stamp-h.in
	@@if test ! -f $@@; then \
		rm -f $(srcdir)/stamp-h.in; \
		$(MAKE) $(srcdir)/stamp-h.in; \
	else :; fi
$(srcdir)/stamp-h.in: $(top_srcdir)/configure.in $(ACLOCAL_M4) 
	cd $(top_srcdir) && $(AUTOHEADER)
	@@echo timestamp > $(srcdir)/stamp-h.in 2> /dev/null

mostlyclean-hdr:

clean-hdr:

distclean-hdr:
	-rm -f config.h

maintainer-clean-hdr:

mostlyclean-binPROGRAMS:

clean-binPROGRAMS:
	-test -z "$(bin_PROGRAMS)" || rm -f $(bin_PROGRAMS)

distclean-binPROGRAMS:

maintainer-clean-binPROGRAMS:

install-binPROGRAMS: $(bin_PROGRAMS)
	@@$(NORMAL_INSTALL)
	$(mkinstalldirs) $(DESTDIR)$(bindir)
	@@list='$(bin_PROGRAMS)'; for p in $$list; do \
	  if test -f $$p; then \
	    echo " $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/`echo $$p|sed 's/$(EXEEXT)$$//'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`"; \
	    $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/`echo $$p|sed 's/$(EXEEXT)$$//'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`; \
	  else :; fi; \
	done

uninstall-binPROGRAMS:
	@@$(NORMAL_UNINSTALL)
	list='$(bin_PROGRAMS)'; for p in $$list; do \
	  rm -f $(DESTDIR)$(bindir)/`echo $$p|sed 's/$(EXEEXT)$$//'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`; \
	done

mostlyclean-noinstPROGRAMS:

clean-noinstPROGRAMS:
	-test -z "$(noinst_PROGRAMS)" || rm -f $(noinst_PROGRAMS)

distclean-noinstPROGRAMS:

maintainer-clean-noinstPROGRAMS:

.c.o:
	$(COMPILE) -c $<

.s.o:
	$(COMPILE) -c $<

.S.o:
	$(COMPILE) -c $<

mostlyclean-compile:
	-rm -f *.o core *.core

clean-compile:

distclean-compile:
	-rm -f *.tab.c

maintainer-clean-compile:

.c.lo:
	$(LIBTOOL) --mode=compile $(COMPILE) -c $<

.s.lo:
	$(LIBTOOL) --mode=compile $(COMPILE) -c $<

.S.lo:
	$(LIBTOOL) --mode=compile $(COMPILE) -c $<

mostlyclean-libtool:
	-rm -f *.lo

clean-libtool:
	-rm -rf .libs _libs

distclean-libtool:

maintainer-clean-libtool:

nlmconv$(EXEEXT): $(nlmconv_OBJECTS) $(nlmconv_DEPENDENCIES)
	@@rm -f nlmconv$(EXEEXT)
	$(LINK) $(nlmconv_LDFLAGS) $(nlmconv_OBJECTS) $(nlmconv_LDADD) $(LIBS)

srconv$(EXEEXT): $(srconv_OBJECTS) $(srconv_DEPENDENCIES)
	@@rm -f srconv$(EXEEXT)
	$(LINK) $(srconv_LDFLAGS) $(srconv_OBJECTS) $(srconv_LDADD) $(LIBS)

sysdump$(EXEEXT): $(sysdump_OBJECTS) $(sysdump_DEPENDENCIES)
	@@rm -f sysdump$(EXEEXT)
	$(LINK) $(sysdump_LDFLAGS) $(sysdump_OBJECTS) $(sysdump_LDADD) $(LIBS)

coffdump$(EXEEXT): $(coffdump_OBJECTS) $(coffdump_DEPENDENCIES)
	@@rm -f coffdump$(EXEEXT)
	$(LINK) $(coffdump_LDFLAGS) $(coffdump_OBJECTS) $(coffdump_LDADD) $(LIBS)

dlltool$(EXEEXT): $(dlltool_OBJECTS) $(dlltool_DEPENDENCIES)
	@@rm -f dlltool$(EXEEXT)
	$(LINK) $(dlltool_LDFLAGS) $(dlltool_OBJECTS) $(dlltool_LDADD) $(LIBS)

windres$(EXEEXT): $(windres_OBJECTS) $(windres_DEPENDENCIES)
	@@rm -f windres$(EXEEXT)
	$(LINK) $(windres_LDFLAGS) $(windres_OBJECTS) $(windres_LDADD) $(LIBS)

dllwrap$(EXEEXT): $(dllwrap_OBJECTS) $(dllwrap_DEPENDENCIES)
	@@rm -f dllwrap$(EXEEXT)
	$(LINK) $(dllwrap_LDFLAGS) $(dllwrap_OBJECTS) $(dllwrap_LDADD) $(LIBS)

size$(EXEEXT): $(size_OBJECTS) $(size_DEPENDENCIES)
	@@rm -f size$(EXEEXT)
	$(LINK) $(size_LDFLAGS) $(size_OBJECTS) $(size_LDADD) $(LIBS)

objdump$(EXEEXT): $(objdump_OBJECTS) $(objdump_DEPENDENCIES)
	@@rm -f objdump$(EXEEXT)
	$(LINK) $(objdump_LDFLAGS) $(objdump_OBJECTS) $(objdump_LDADD) $(LIBS)
d284 2
a285 3
ar$(EXEEXT): $(ar_OBJECTS) $(ar_DEPENDENCIES)
	@@rm -f ar$(EXEEXT)
	$(LINK) $(ar_LDFLAGS) $(ar_OBJECTS) $(ar_LDADD) $(LIBS)
d287 4
a290 3
strings$(EXEEXT): $(strings_OBJECTS) $(strings_DEPENDENCIES)
	@@rm -f strings$(EXEEXT)
	$(LINK) $(strings_LDFLAGS) $(strings_OBJECTS) $(strings_LDADD) $(LIBS)
d292 2
a293 31
ranlib$(EXEEXT): $(ranlib_OBJECTS) $(ranlib_DEPENDENCIES)
	@@rm -f ranlib$(EXEEXT)
	$(LINK) $(ranlib_LDFLAGS) $(ranlib_OBJECTS) $(ranlib_LDADD) $(LIBS)

objcopy$(EXEEXT): $(objcopy_OBJECTS) $(objcopy_DEPENDENCIES)
	@@rm -f objcopy$(EXEEXT)
	$(LINK) $(objcopy_LDFLAGS) $(objcopy_OBJECTS) $(objcopy_LDADD) $(LIBS)

addr2line$(EXEEXT): $(addr2line_OBJECTS) $(addr2line_DEPENDENCIES)
	@@rm -f addr2line$(EXEEXT)
	$(LINK) $(addr2line_LDFLAGS) $(addr2line_OBJECTS) $(addr2line_LDADD) $(LIBS)

readelf$(EXEEXT): $(readelf_OBJECTS) $(readelf_DEPENDENCIES)
	@@rm -f readelf$(EXEEXT)
	$(LINK) $(readelf_LDFLAGS) $(readelf_OBJECTS) $(readelf_LDADD) $(LIBS)

nm-new$(EXEEXT): $(nm_new_OBJECTS) $(nm_new_DEPENDENCIES)
	@@rm -f nm-new$(EXEEXT)
	$(LINK) $(nm_new_LDFLAGS) $(nm_new_OBJECTS) $(nm_new_LDADD) $(LIBS)

strip-new$(EXEEXT): $(strip_new_OBJECTS) $(strip_new_DEPENDENCIES)
	@@rm -f strip-new$(EXEEXT)
	$(LINK) $(strip_new_LDFLAGS) $(strip_new_OBJECTS) $(strip_new_LDADD) $(LIBS)

cxxfilt$(EXEEXT): $(cxxfilt_OBJECTS) $(cxxfilt_DEPENDENCIES)
	@@rm -f cxxfilt$(EXEEXT)
	$(LINK) $(cxxfilt_LDFLAGS) $(cxxfilt_OBJECTS) $(cxxfilt_LDADD) $(LIBS)
.l.c:
	$(SHELL) $(YLWRAP) "$(LEX)" $< $(LEX_OUTPUT_ROOT).c $@@ -- $(AM_LFLAGS) $(LFLAGS)
.y.c:
	$(SHELL) $(YLWRAP) "$(YACC)" $< y.tab.c $*.c y.tab.h $*.h -- $(AM_YFLAGS) $(YFLAGS)
a294 309
defparse.h: defparse.c
nlmheader.h: nlmheader.c
rcparse.h: rcparse.c


binutils.info: binutils.texi
binutils.dvi: binutils.texi


DVIPS = dvips

.texi.info:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<

.texi.dvi:
	TEXINPUTS=$(top_srcdir)/../texinfo/texinfo.tex:$$TEXINPUTS \
	  MAKEINFO='$(MAKEINFO) -I $(srcdir)' $(TEXI2DVI) $<

.texi:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<

.texinfo.info:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<

.texinfo:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<

.texinfo.dvi:
	TEXINPUTS=$(top_srcdir)/../texinfo/texinfo.tex:$$TEXINPUTS \
	  MAKEINFO='$(MAKEINFO) -I $(srcdir)' $(TEXI2DVI) $<

.txi.info:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<

.txi.dvi:
	TEXINPUTS=$(top_srcdir)/../texinfo/texinfo.tex:$$TEXINPUTS \
	  MAKEINFO='$(MAKEINFO) -I $(srcdir)' $(TEXI2DVI) $<

.txi:
	@@rm -f $@@ $@@-[0-9] $@@-[0-9][0-9]
	$(MAKEINFO) -I $(srcdir) $<
.dvi.ps:
	$(DVIPS) $< -o $@@

install-info-am: $(INFO_DEPS)
	@@$(NORMAL_INSTALL)
	$(mkinstalldirs) $(DESTDIR)$(infodir)
	@@list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
	  for ifile in `cd $$d && echo $$file $$file-[0-9] $$file-[0-9][0-9]`; do \
	    if test -f $$d/$$ifile; then \
	      echo " $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile"; \
	      $(INSTALL_DATA) $$d/$$ifile $(DESTDIR)$(infodir)/$$ifile; \
	    else : ; fi; \
	  done; \
	done
	@@$(POST_INSTALL)
	@@if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \
	  list='$(INFO_DEPS)'; \
	  for file in $$list; do \
	    echo " install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file";\
	    install-info --info-dir=$(DESTDIR)$(infodir) $(DESTDIR)$(infodir)/$$file || :;\
	  done; \
	else : ; fi

uninstall-info:
	$(PRE_UNINSTALL)
	@@if $(SHELL) -c 'install-info --version | sed 1q | fgrep -s -v -i debian' >/dev/null 2>&1; then \
	  ii=yes; \
	else ii=; fi; \
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  test -z "$ii" \
	    || install-info --info-dir=$(DESTDIR)$(infodir) --remove $$file; \
	done
	@@$(NORMAL_UNINSTALL)
	list='$(INFO_DEPS)'; \
	for file in $$list; do \
	  (cd $(DESTDIR)$(infodir) && rm -f $$file $$file-[0-9] $$file-[0-9][0-9]); \
	done

dist-info: $(INFO_DEPS)
	list='$(INFO_DEPS)'; \
	for base in $$list; do \
	  if test -f $$base; then d=.; else d=$(srcdir); fi; \
	  for file in `cd $$d && eval echo $$base*`; do \
	    test -f $(distdir)/$$file \
	    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \
	    || cp -p $$d/$$file $(distdir)/$$file; \
	  done; \
	done

mostlyclean-aminfo:
	-rm -f binutils.aux binutils.cp binutils.cps binutils.dvi binutils.fn \
	  binutils.fns binutils.ky binutils.kys binutils.ps \
	  binutils.log binutils.pg binutils.toc binutils.tp \
	  binutils.tps binutils.vr binutils.vrs binutils.op binutils.tr \
	  binutils.cv binutils.cn

clean-aminfo:

distclean-aminfo:

maintainer-clean-aminfo:
	for i in $(INFO_DEPS); do \
	  rm -f $$i; \
	  if test "`echo $$i-[0-9]*`" != "$$i-[0-9]*"; then \
	    rm -f $$i-[0-9]*; \
	  fi; \
	done
clean-info: mostlyclean-aminfo

install-man1:
	$(mkinstalldirs) $(DESTDIR)$(man1dir)
	@@list='$(man1_MANS)'; \
	l2='$(man_MANS)'; for i in $$l2; do \
	  case "$$i" in \
	    *.1*) list="$$list $$i" ;; \
	  esac; \
	done; \
	for i in $$list; do \
	  if test -f $(srcdir)/$$i; then file=$(srcdir)/$$i; \
	  else file=$$i; fi; \
	  ext=`echo $$i | sed -e 's/^.*\\.//'`; \
	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
	  echo " $(INSTALL_DATA) $$file $(DESTDIR)$(man1dir)/$$inst"; \
	  $(INSTALL_DATA) $$file $(DESTDIR)$(man1dir)/$$inst; \
	done

uninstall-man1:
	@@list='$(man1_MANS)'; \
	l2='$(man_MANS)'; for i in $$l2; do \
	  case "$$i" in \
	    *.1*) list="$$list $$i" ;; \
	  esac; \
	done; \
	for i in $$list; do \
	  ext=`echo $$i | sed -e 's/^.*\\.//'`; \
	  inst=`echo $$i | sed -e 's/\\.[0-9a-z]*$$//'`; \
	  inst=`echo $$inst | sed '$(transform)'`.$$ext; \
	  echo " rm -f $(DESTDIR)$(man1dir)/$$inst"; \
	  rm -f $(DESTDIR)$(man1dir)/$$inst; \
	done
install-man: $(MANS)
	@@$(NORMAL_INSTALL)
	$(MAKE) $(AM_MAKEFLAGS) install-man1
uninstall-man:
	@@$(NORMAL_UNINSTALL)
	$(MAKE) $(AM_MAKEFLAGS) uninstall-man1

# This directory's subdirectories are mostly independent; you can cd
# into them and run `make' without going through this Makefile.
# To change the values of `make' variables: instead of editing Makefiles,
# (1) if the variable is set in `config.status', edit `config.status'
#     (which will cause the Makefiles to be regenerated when you run `make');
# (2) otherwise, pass the desired values on the `make' command line.

@@SET_MAKE@@

all-recursive install-data-recursive install-exec-recursive \
installdirs-recursive install-recursive uninstall-recursive install-info-recursive \
check-recursive installcheck-recursive info-recursive dvi-recursive:
	@@set fnord $(MAKEFLAGS); amf=$$2; \
	dot_seen=no; \
	target=`echo $@@ | sed s/-recursive//`; \
	list='$(SUBDIRS)'; for subdir in $$list; do \
	  echo "Making $$target in $$subdir"; \
	  if test "$$subdir" = "."; then \
	    dot_seen=yes; \
	    local_target="$$target-am"; \
	  else \
	    local_target="$$target"; \
	  fi; \
	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
	done; \
	if test "$$dot_seen" = "no"; then \
	  $(MAKE) $(AM_MAKEFLAGS) "$$target-am" || exit 1; \
	fi; test -z "$$fail"

mostlyclean-recursive clean-recursive distclean-recursive \
maintainer-clean-recursive:
	@@set fnord $(MAKEFLAGS); amf=$$2; \
	dot_seen=no; \
	rev=''; list='$(SUBDIRS)'; for subdir in $$list; do \
	  rev="$$subdir $$rev"; \
	  test "$$subdir" = "." && dot_seen=yes; \
	done; \
	test "$$dot_seen" = "no" && rev=". $$rev"; \
	target=`echo $@@ | sed s/-recursive//`; \
	for subdir in $$rev; do \
	  echo "Making $$target in $$subdir"; \
	  if test "$$subdir" = "."; then \
	    local_target="$$target-am"; \
	  else \
	    local_target="$$target"; \
	  fi; \
	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
	done && test -z "$$fail"
tags-recursive:
	list='$(SUBDIRS)'; for subdir in $$list; do \
	  test "$$subdir" = . || (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) tags); \
	done

tags: TAGS

ID: $(HEADERS) $(SOURCES) $(LISP)
	list='$(SOURCES) $(HEADERS)'; \
	unique=`for i in $$list; do echo $$i; done | \
	  awk '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	here=`pwd` && cd $(srcdir) \
	  && mkid -f$$here/ID $$unique $(LISP)

TAGS: tags-recursive $(HEADERS) $(SOURCES) config.in $(TAGS_DEPENDENCIES) $(LISP)
	tags=; \
	here=`pwd`; \
	list='$(SUBDIRS)'; for subdir in $$list; do \
   if test "$$subdir" = .; then :; else \
	    test -f $$subdir/TAGS && tags="$$tags -i $$here/$$subdir/TAGS"; \
   fi; \
	done; \
	list='$(SOURCES) $(HEADERS)'; \
	unique=`for i in $$list; do echo $$i; done | \
	  awk '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	test -z "$(ETAGS_ARGS)config.in$$unique$(LISP)$$tags" \
	  || (cd $(srcdir) && etags $(ETAGS_ARGS) $$tags config.in $$unique $(LISP) -o $$here/TAGS)

mostlyclean-tags:

clean-tags:

distclean-tags:
	-rm -f TAGS ID

maintainer-clean-tags:

distdir = $(PACKAGE)-$(VERSION)
top_distdir = $(distdir)

# This target untars the dist file and tries a VPATH configuration.  Then
# it guarantees that the distribution is self-contained by making another
# tarfile.
distcheck: dist
	-rm -rf $(distdir)
	GZIP=$(GZIP_ENV) $(TAR) zxf $(distdir).tar.gz
	mkdir $(distdir)/=build
	mkdir $(distdir)/=inst
	dc_install_base=`cd $(distdir)/=inst && pwd`; \
	cd $(distdir)/=build \
	  && ../configure --srcdir=.. --prefix=$$dc_install_base \
	  && $(MAKE) $(AM_MAKEFLAGS) \
	  && $(MAKE) $(AM_MAKEFLAGS) dvi \
	  && $(MAKE) $(AM_MAKEFLAGS) check \
	  && $(MAKE) $(AM_MAKEFLAGS) install \
	  && $(MAKE) $(AM_MAKEFLAGS) installcheck \
	  && $(MAKE) $(AM_MAKEFLAGS) dist
	-rm -rf $(distdir)
	@@banner="$(distdir).tar.gz is ready for distribution"; \
	dashes=`echo "$$banner" | sed s/./=/g`; \
	echo "$$dashes"; \
	echo "$$banner"; \
	echo "$$dashes"
dist: distdir
	-chmod -R a+r $(distdir)
	GZIP=$(GZIP_ENV) $(TAR) chozf $(distdir).tar.gz $(distdir)
	-rm -rf $(distdir)
dist-all: distdir
	-chmod -R a+r $(distdir)
	GZIP=$(GZIP_ENV) $(TAR) chozf $(distdir).tar.gz $(distdir)
	-rm -rf $(distdir)
distdir: $(DISTFILES)
	-rm -rf $(distdir)
	mkdir $(distdir)
	-chmod 777 $(distdir)
	@@for file in $(DISTFILES); do \
	  if test -f $$file; then d=.; else d=$(srcdir); fi; \
	  if test -d $$d/$$file; then \
	    cp -pr $$d/$$file $(distdir)/$$file; \
	  else \
	    test -f $(distdir)/$$file \
	    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \
	    || cp -p $$d/$$file $(distdir)/$$file || :; \
	  fi; \
	done
	for subdir in $(SUBDIRS); do \
	  if test "$$subdir" = .; then :; else \
	    test -d $(distdir)/$$subdir \
	    || mkdir $(distdir)/$$subdir \
	    || exit 1; \
	    chmod 777 $(distdir)/$$subdir; \
	    (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) top_distdir=../$(distdir) distdir=../$(distdir)/$$subdir distdir) \
	      || exit 1; \
	  fi; \
	done
	$(MAKE) $(AM_MAKEFLAGS) top_distdir="$(top_distdir)" distdir="$(distdir)" dist-info

RUNTESTFLAGS =

DEJATOOL = $(PACKAGE)
d296 3
a298 146
RUNTESTDEFAULTFLAGS = --tool $(DEJATOOL) --srcdir $$srcdir
site.exp: Makefile
	@@echo 'Making a new site.exp file...'
	@@test ! -f site.bak || rm -f site.bak
	@@echo '## these variables are automatically generated by make ##' > $@@-t
	@@echo '# Do not edit here.  If you wish to override these values' >> $@@-t
	@@echo '# edit the last section' >> $@@-t
	@@echo 'set tool $(DEJATOOL)' >> $@@-t
	@@echo 'set srcdir $(srcdir)' >> $@@-t
	@@echo 'set objdir' `pwd` >> $@@-t
	@@echo 'set host_alias $(host_alias)' >> $@@-t
	@@echo 'set host_triplet $(host_triplet)' >> $@@-t
	@@echo 'set target_alias $(target_alias)' >> $@@-t
	@@echo 'set target_triplet $(target_triplet)' >> $@@-t
	@@echo 'set build_alias $(build_alias)' >> $@@-t
	@@echo 'set build_triplet $(build_triplet)' >> $@@-t
	@@echo '## All variables above are generated by configure. Do Not Edit ##' >> $@@-t
	@@test ! -f site.exp || sed '1,/^## All variables above are.*##/ d' site.exp >> $@@-t
	@@test ! -f site.exp || mv site.exp site.bak
	@@mv $@@-t site.exp
info-am: $(INFO_DEPS)
info: info-recursive
dvi-am: $(DVIS)
dvi: dvi-recursive
check-am:
	$(MAKE) $(AM_MAKEFLAGS) check-DEJAGNU
check: check-recursive
installcheck-am:
installcheck: installcheck-recursive
install-info-am: 
install-info: install-info-recursive
all-recursive-am: config.h
	$(MAKE) $(AM_MAKEFLAGS) all-recursive

install-exec-am: install-binPROGRAMS install-exec-local
install-exec: install-exec-recursive

install-data-am: install-man
install-data: install-data-recursive

install-am: all-am
	@@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
install: install-recursive
uninstall-am: uninstall-binPROGRAMS uninstall-man
uninstall: uninstall-recursive
all-am: Makefile $(PROGRAMS) $(MANS) config.h
all-redirect: all-recursive-am
install-strip:
	$(MAKE) $(AM_MAKEFLAGS) AM_INSTALL_PROGRAM_FLAGS=-s install
installdirs: installdirs-recursive
installdirs-am:
	$(mkinstalldirs)  $(DESTDIR)$(bindir) $(DESTDIR)$(mandir)/man1


mostlyclean-generic:
	-test -z "$(MOSTLYCLEANFILES)" || rm -f $(MOSTLYCLEANFILES)

clean-generic:
	-test -z "$(CLEANFILES)" || rm -f $(CLEANFILES)

distclean-generic:
	-rm -f Makefile $(CONFIG_CLEAN_FILES)
	-rm -f config.cache config.log stamp-h stamp-h[0-9]*
	-test -z "$(DISTCLEANFILES)" || rm -f $(DISTCLEANFILES)

maintainer-clean-generic:
	-test -z "arlexldeflexlrclexlarparseharparsecdefparsehdefparsecnlmheaderhnlmheadercrcparsehrcparsec$(MAINTAINERCLEANFILES)" || rm -f arlexl deflexl rclexl arparseh arparsec defparseh defparsec nlmheaderh nlmheaderc rcparseh rcparsec $(MAINTAINERCLEANFILES)
mostlyclean-am:  mostlyclean-hdr mostlyclean-binPROGRAMS \
		mostlyclean-noinstPROGRAMS mostlyclean-compile \
		mostlyclean-libtool mostlyclean-aminfo mostlyclean-tags \
		mostlyclean-generic mostlyclean-local

mostlyclean: mostlyclean-recursive

clean-am:  clean-hdr clean-binPROGRAMS clean-noinstPROGRAMS \
		clean-compile clean-libtool clean-aminfo clean-tags \
		clean-generic mostlyclean-am

clean: clean-recursive

distclean-am:  distclean-hdr distclean-binPROGRAMS \
		distclean-noinstPROGRAMS distclean-compile \
		distclean-libtool distclean-aminfo distclean-tags \
		distclean-generic clean-am
	-rm -f libtool

distclean: distclean-recursive
	-rm -f config.status

maintainer-clean-am:  maintainer-clean-hdr maintainer-clean-binPROGRAMS \
		maintainer-clean-noinstPROGRAMS \
		maintainer-clean-compile maintainer-clean-libtool \
		maintainer-clean-aminfo maintainer-clean-tags \
		maintainer-clean-generic distclean-am
	@@echo "This command is intended for maintainers to use;"
	@@echo "it deletes files that may require special tools to rebuild."

maintainer-clean: maintainer-clean-recursive
	-rm -f config.status

.PHONY: mostlyclean-hdr distclean-hdr clean-hdr maintainer-clean-hdr \
mostlyclean-binPROGRAMS distclean-binPROGRAMS clean-binPROGRAMS \
maintainer-clean-binPROGRAMS uninstall-binPROGRAMS install-binPROGRAMS \
mostlyclean-noinstPROGRAMS distclean-noinstPROGRAMS \
clean-noinstPROGRAMS maintainer-clean-noinstPROGRAMS \
mostlyclean-compile distclean-compile clean-compile \
maintainer-clean-compile mostlyclean-libtool distclean-libtool \
clean-libtool maintainer-clean-libtool install-info-am uninstall-info \
mostlyclean-aminfo distclean-aminfo clean-aminfo \
maintainer-clean-aminfo install-man1 uninstall-man1 install-man \
uninstall-man install-data-recursive uninstall-data-recursive \
install-exec-recursive uninstall-exec-recursive installdirs-recursive \
uninstalldirs-recursive all-recursive check-recursive \
installcheck-recursive info-recursive dvi-recursive \
mostlyclean-recursive distclean-recursive clean-recursive \
maintainer-clean-recursive tags tags-recursive mostlyclean-tags \
distclean-tags clean-tags maintainer-clean-tags distdir check-DEJAGNU \
info-am info dvi-am dvi check check-am installcheck-am installcheck \
install-info-am install-info all-recursive-am install-exec-local \
install-exec-am install-exec install-data-am install-data install-am \
install uninstall-am uninstall all-redirect all-am all installdirs-am \
installdirs mostlyclean-generic distclean-generic clean-generic \
maintainer-clean-generic clean mostlyclean distclean maintainer-clean

po/POTFILES.in: @@MAINT@@ Makefile
	for file in $(POTFILES); do echo $$file; done | sort > tmp \
	  && mv tmp $(srcdir)/po/POTFILES.in

check-DEJAGNU: site.exp
	srcdir=`cd $(srcdir) && pwd`; export srcdir; \
	r=`pwd`; export r; \
	EXPECT=$(EXPECT); export EXPECT; \
	if [ -f $(top_builddir)/../expect/expect ]; then \
	  TCL_LIBRARY=`cd $(top_srcdir)/../tcl/library && pwd`; \
	  export TCL_LIBRARY; \
	fi; \
	runtest=$(RUNTEST); \
	if $(SHELL) -c "$$runtest --version" > /dev/null 2>&1; then \
	  $$runtest --tool $(DEJATOOL) --srcdir $${srcdir}/testsuite \
		CC_FOR_TARGET="$(CC_FOR_TARGET)" \
		CFLAGS_FOR_TARGET="$(CFLAGS)" $(RUNTESTFLAGS); \
	else echo "WARNING: could not find \`runtest'" 1>&2; :;\
	fi

installcheck:
	/bin/sh $(srcdir)/sanity.sh $(bindir)
d300 2
a301 1
underscore.c: stamp-under ; @@true
d303 2
a304 5
stamp-under: Makefile
	echo '/*WARNING: This file is automatically generated!*/' >underscore.t
	echo "int prepends_underscore = @@UNDERSCORE@@;" >>underscore.t
	$(SHELL) $(srcdir)/../move-if-change underscore.t underscore.c
	touch stamp-under
d306 2
a307 2
cplus-dem.o: $(BASEDIR)/libiberty/cplus-dem.c $(INCDIR)/getopt.h
	$(COMPILE) -c -DMAIN -DVERSION='"$(VERSION)"' $(BASEDIR)/libiberty/cplus-dem.c
a308 1
# The following is commented out for the conversion to automake.
d313 1
d315 6
a320 5
# ar_with_ranlib: $(ADDL_DEPS) ar.o maybe-ranlib.o
#	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(AR_PROG) ar.o maybe-ranlib.o $(ADDL_LIBS) $(EXTRALIBS)
#	-rm -f $(RANLIB_PROG)
#	-ln $(AR_PROG) $(RANLIB_PROG)
#
a321 10
#
#objcopy_with_strip: $(ADDL_DEPS) objcopy.o maybe-strip.o
#	$(HLDENV) $(CC) $(HLDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(OBJCOPY_PROG) objcopy.o maybe-strip.o $(ADDL_LIBS) $(EXTRALIBS)
#	-rm -f $(STRIP_PROG)
#	-ln $(OBJCOPY_PROG) $(STRIP_PROG)

sysroff.c: sysinfo$(EXEEXT_FOR_BUILD) sysroff.info 
	./sysinfo$(EXEEXT_FOR_BUILD) -c <$(srcdir)/sysroff.info >sysroff.c
	./sysinfo$(EXEEXT_FOR_BUILD) -i <$(srcdir)/sysroff.info >>sysroff.c
	./sysinfo$(EXEEXT_FOR_BUILD) -g <$(srcdir)/sysroff.info >>sysroff.c
d323 28
a350 2
sysroff.h: sysinfo$(EXEEXT_FOR_BUILD) sysroff.info
	./sysinfo$(EXEEXT_FOR_BUILD) -d <$(srcdir)/sysroff.info >sysroff.h
d352 1
a352 1
sysinfo$(EXEEXT_FOR_BUILD): sysinfo.o syslex.o
d369 11
a379 2
# We need these for parallel make.
arparse.h: arparse.c
d381 4
a384 3
nlmheader.h: nlmheader.c
rcparse.h: rcparse.c
sysinfo.h: sysinfo.c
d387 4
a390 1
	$(COMPILE) -c $(DLLTOOL_DEFS) $(srcdir)/dlltool.c
d392 9
a400 2
rescoff.o:rescoff.c
	$(COMPILE) -c $(DLLTOOL_DEFS) $(srcdir)/rescoff.c
d405 2
a406 2
	ldname=`echo ld | sed '$(transform)'`; \
	$(COMPILE) -c -DLD_NAME="\"$${ldname}\"" @@NLMCONV_DEFS@@ $(srcdir)/nlmconv.c
d408 2
a409 1
diststuff: $(DISTSTUFF) info
d412 12
a423 12
# Have to get rid of DEP1 here so that "$?" later includes all of $(CFILES).
DEP: dep.sed $(CFILES) $(HFILES) $(GENERATED_CFILES) $(GENERATED_HFILES) config.h
	rm -f DEP1
	$(MAKE) MKDEP="$(MKDEP)" DEP1
	sed -f dep.sed < DEP1 > $@@
	echo '# IF YOU PUT ANYTHING HERE IT WILL GO AWAY' >> $@@

DEP1: $(CFILES) $(GENERATED_CFILES)
	echo '# DO NOT DELETE THIS LINE -- mkdep uses it.' > DEP2
	echo '# DO NOT PUT ANYTHING AFTER THIS LINE, IT WILL GO AWAY.' >> DEP2
	$(MKDEP) $(INCLUDES) $(CFLAGS) $? >> DEP2
	mv -f DEP2 $@@
a425 1
	objdir=`pwd`; \
d429 1
a429 2
		-e 's!@@SRCDIR@@!$(srcdir)!'	\
		-e "s!@@OBJDIR@@!$${objdir}!"
d431 1
a431 1
dep: DEP
d433 1
a433 1
	cat DEP >> tmp-Makefile
d436 1
a436 1
dep-in: DEP
d438 1
a438 1
	cat DEP >> tmp-Makefile.in
d441 1
a441 6
dep-am: DEP
	sed -e '/^..DO NOT DELETE THIS LINE/,$$d' < $(srcdir)/Makefile.am > tmp-Makefile.am
	cat DEP >> tmp-Makefile.am
	$(SHELL) $(srcdir)/../move-if-change tmp-Makefile.am $(srcdir)/Makefile.am

.PHONY: dep dep-in dep-am
d448 1
a448 1

d450 1
d452 1
d454 64
d519 15
a533 4
$(DEMANGLER_NAME).1: cxxfilt.man Makefile
	sed -e 's/@@PROGRAM@@/$(DEMANGLER_NAME)/' < $(srcdir)/cxxfilt.man \
		> $(DEMANGLER_NAME).1
mostlyclean-local:
d535 6
d542 2
a543 1
.PHONY: install-exec-local
d545 3
a547 6
install-exec-local: install-binPROGRAMS $(bin_PROGRAMS) $(noinst_PROGRAMS)
	@@list='$(noinst_PROGRAMS)'; for p in $$list; do \
	  if test -f $$p; then \
	    echo " $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(bindir)/`echo $$p|sed -e 's/$(EXEEXT)$$//' -e 's/-new//' -e 's/cxxfilt/$(DEMANGLER_NAME)/'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`"; \
	    $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(bindir)/`echo $$p|sed -e 's/$(EXEEXT)$$//' -e 's/-new//' -e 's/cxxfilt/$(DEMANGLER_NAME)/'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`; \
	  else :; fi; \
d549 15
a563 10
	$(mkinstalldirs) $(tooldir)/bin
	for i in $(TOOL_PROGS); do \
	  if [ -f $$i$(EXEEXT) ]; then \
	    j=`echo $$i | sed -e 's/-new//'`; \
	    k=`echo $$j | sed '$(transform)'`; \
	    if [ "$(bindir)/$$k$(EXEEXT)" != "$(tooldir)/bin/$$j$(EXEEXT)" ]; then \
	      rm -f $(tooldir)/bin/$$j$(EXEEXT); \
	      ln $(bindir)/$$k$(EXEEXT) $(tooldir)/bin/$$j$(EXEEXT) >/dev/null 2>/dev/null \
		|| $(LIBTOOL) --mode=install $(INSTALL_PROGRAM) $$i$(EXEEXT) $(tooldir)/bin/$$j$(EXEEXT); \
	    fi; \
d568 85
d657 1
d660 1
a660 1
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
d662 2
a663 3
  $(INCDIR)/progress.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/aout/ar.h $(BFDDIR)/libbfd.h \
  arsup.h
d665 1
a665 2
  arsup.h $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h
d667 2
a668 1
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
d670 3
a672 5
coffdump.o: coffdump.c coffgrok.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
coffgrok.o: coffgrok.c bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/coff/internal.h $(BFDDIR)/libcoff.h \
  $(INCDIR)/bfdlink.h coffgrok.h
d674 2
a675 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h
d677 2
a678 3
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/demangle.h dyn-string.h \
  dlltool.h
d680 1
a680 1
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
d682 2
a683 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h
d689 3
a691 3
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(BFDDIR)/libnlm.h $(INCDIR)/nlm/common.h \
  $(INCDIR)/nlm/internal.h $(INCDIR)/nlm/external.h nlmconv.h
d693 1
a693 1
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
d699 2
a700 2
  $(INCDIR)/progress.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h budbg.h
d703 2
a704 3
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/dis-asm.h \
  $(INCDIR)/libiberty.h $(INCDIR)/demangle.h debug.h \
  budbg.h $(INCDIR)/aout/aout64.h
d706 2
a707 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h
d709 3
a711 3
  $(INCDIR)/coff/internal.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/demangle.h \
  debug.h budbg.h $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h
d713 2
a714 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h
d716 4
a719 5
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h
srconv.o: srconv.c bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h sysroff.h coffgrok.h $(INCDIR)/coff/internal.h \
  $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h sysroff.c
d721 3
a723 4
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h $(INCDIR)/demangle.h debug.h \
  budbg.h $(INCDIR)/aout/aout64.h $(INCDIR)/aout/stab_gnu.h \
  $(INCDIR)/aout/stab.def
d725 1
a725 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h
d727 2
a728 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  sysroff.h sysroff.c
d730 1
a730 1
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
d732 3
a734 41
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h $(INCDIR)/aout/aout64.h \
  $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def
windres.o: windres.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/getopt.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/obstack.h \
  windres.h winduni.h
resrc.o: resrc.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h
rescoff.o: rescoff.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h $(INCDIR)/coff/internal.h \
  $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h
resbin.o: resbin.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h
winduni.o: winduni.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  winduni.h
readelf.o: readelf.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/elf/common.h $(INCDIR)/elf/external.h $(INCDIR)/elf/internal.h \
  $(INCDIR)/elf/dwarf2.h $(INCDIR)/elf/i386.h $(INCDIR)/elf/reloc-macros.h \
  $(INCDIR)/elf/v850.h $(INCDIR)/elf/ppc.h $(INCDIR)/elf/mips.h \
  $(INCDIR)/elf/alpha.h $(INCDIR)/elf/arm.h $(INCDIR)/elf/m68k.h \
  $(INCDIR)/elf/sparc.h $(INCDIR)/elf/m32r.h $(INCDIR)/elf/d10v.h \
  $(INCDIR)/elf/d30v.h $(INCDIR)/elf/sh.h $(INCDIR)/elf/mn10200.h \
  $(INCDIR)/elf/mn10300.h $(INCDIR)/elf/hppa.h $(INCDIR)/elf/arc.h \
  $(INCDIR)/elf/fr30.h $(INCDIR)/elf/mcore.h $(INCDIR)/elf/i960.h \
  $(INCDIR)/elf/pj.h $(INCDIR)/elf/avr.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
resres.o: resres.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h
dyn-string.o: dyn-string.c config.h $(INCDIR)/ansidecl.h \
  dyn-string.h
dllwrap.o: dllwrap.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/libiberty.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h dyn-string.h
rename.o: rename.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
d737 1
a737 2
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  arsup.h
d742 2
a743 5
defparse.o: defparse.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  dlltool.h
deflex.o: deflex.c $(INCDIR)/libiberty.h $(INCDIR)/ansidecl.h \
  defparse.h dlltool.h
d745 3
a747 8
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/nlm/common.h \
  $(INCDIR)/nlm/internal.h nlmconv.h
rcparse.o: rcparse.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h
rclex.o: rclex.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h windres.h winduni.h rcparse.h
a748 4

# Tell versions [3.59,3.63) of GNU make to not export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
@


1.1.1.7
log
@Long delayed import of binutils-2.10.1. Turns out art@@ needs some alpha
bug-fixes...
@
text
@d154 2
a155 1
man_MANS = ar.1 nm.1 objdump.1 ranlib.1 size.1 strings.1 strip.1 objcopy.1 	addr2line.1 nlmconv.1 $(DEMANGLER_NAME).1
d177 2
a178 1
HFILES = arsup.h bucomm.h budbg.h coffgrok.h debug.h nlmconv.h dlltool.h 	windres.h winduni.h
d183 7
a189 1
CFILES = addr2line.c ar.c arsup.c bucomm.c coffdump.c coffgrok.c debug.c 	dlltool.c filemode.c ieee.c is-ranlib.c is-strip.c maybe-ranlib.c 	maybe-strip.c nlmconv.c nm.c not-ranlib.c not-strip.c 	objcopy.c objdump.c prdbg.c rdcoff.c rddbg.c size.c srconv.c 	stabs.c strings.c sysdump.c version.c wrstabs.c 	windres.c resrc.c rescoff.c resbin.c winduni.c readelf.c 	resres.c dllwrap.c rename.c
d192 3
a194 1
GENERATED_CFILES =  	underscore.c arparse.c arlex.c sysroff.c sysinfo.c syslex.c 	defparse.c deflex.c nlmheader.c rcparse.c rclex.c
d211 23
a233 6
EXPECT = `if [ -f $$r/../expect/expect ] ; then           echo $$r/../expect/expect ;           else echo expect ; fi`

RUNTEST = `if [ -f ${srcdir}/../dejagnu/runtest ] ; then            echo ${srcdir}/../dejagnu/runtest ;            else echo runtest ;  fi`


CC_FOR_TARGET = `   if [ -f $$r/../gcc/xgcc ] ; then     if [ -f $$r/../newlib/Makefile ] ; then       echo $$r/../gcc/xgcc -B$$r/../gcc/ -idirafter $$r/../newlib/targ-include -idirafter $${srcroot}/../newlib/libc/include -nostdinc;     else       echo $$r/../gcc/xgcc -B$$r/../gcc/;     fi;   else     if [ "@@host@@" = "@@target@@" ] ; then       echo $(CC);     else       echo gcc | sed '$(transform)';     fi;   fi`
d269 1
a269 1
dlltool_SOURCES = dlltool.c defparse.y deflex.l $(BULIBS)
d278 2
a279 1
windres_SOURCES = windres.c resrc.c rescoff.c resbin.c rcparse.y rclex.l 	winduni.c resres.c $(BULIBS)
d283 1
a283 1
dllwrap_SOURCES = dllwrap.c version.c
d286 2
a287 1
DISTSTUFF = arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h 	syslex.c deflex.c defparse.h defparse.c rclex.c rcparse.h rcparse.c
d290 2
a291 1
DISTCLEANFILES = stamp-under sysinfo underscore.c sysroff.c sysroff.h 	site.exp site.bak
d296 2
a297 1
MOSTLYCLEANFILES = sysinfo $(DEMANGLER_NAME).1 binutils.log binutils.sum 	abcdefgh*
d333 2
a334 2
dlltool_OBJECTS =  dlltool.o defparse.o deflex.o bucomm.o version.o \
filemode.o
d341 1
a341 1
dllwrap_OBJECTS =  dllwrap.o version.o
d1250 1
a1250 1
  $(INCDIR)/fopen-same.h $(INCDIR)/demangle.h $(INCDIR)/dyn-string.h \
d1343 2
d1347 1
a1347 1
  $(INCDIR)/fopen-same.h $(INCDIR)/dyn-string.h
@


1.1.1.8
log
@Import binutils-2.11.2
- only the binutils package (no gdb here)
- don't import libiberty and texinfo, they are elsewhere
- remove all .info* generated files
@
text
@a76 2
CXX = @@CXX@@
CXXCPP = @@CXXCPP@@
a81 2
GCJ = @@GCJ@@
GCJFLAGS = @@GCJFLAGS@@
a98 2
OBJDUMP_DEFS = @@OBJDUMP_DEFS@@
OBJEXT = @@OBJEXT@@
a102 1
STRIP = @@STRIP@@
a123 3
WARN_CFLAGS = @@WARN_CFLAGS@@
AM_CFLAGS = $(WARN_CFLAGS)

d154 1
a154 2
man_MANS = ar.1 nm.1 objdump.1 ranlib.1 size.1 strings.1 strip.1 objcopy.1 \
	addr2line.1 nlmconv.1 $(DEMANGLER_NAME).1
d176 1
a176 2
HFILES = arsup.h bucomm.h budbg.h coffgrok.h debug.h nlmconv.h dlltool.h \
	windres.h winduni.h
d181 1
a181 7
CFILES = addr2line.c ar.c arsup.c bucomm.c coffdump.c coffgrok.c debug.c \
	dlltool.c filemode.c ieee.c is-ranlib.c is-strip.c maybe-ranlib.c \
	maybe-strip.c nlmconv.c nm.c not-ranlib.c not-strip.c \
	objcopy.c objdump.c prdbg.c rdcoff.c rddbg.c size.c srconv.c \
	stabs.c strings.c sysdump.c version.c wrstabs.c \
	windres.c resrc.c rescoff.c resbin.c winduni.c readelf.c \
	resres.c dllwrap.c rename.c
d184 1
a184 3
GENERATED_CFILES = \
	underscore.c arparse.c arlex.c sysroff.c sysinfo.c syslex.c \
	defparse.c deflex.c nlmheader.c rcparse.c rclex.c
d201 6
a206 23
EXPECT = `if [ -f $$r/../expect/expect ] ; then \
          echo $$r/../expect/expect ; \
          else echo expect ; fi`

RUNTEST = `if [ -f ${srcdir}/../dejagnu/runtest ] ; then \
           echo ${srcdir}/../dejagnu/runtest ; \
           else echo runtest ;  fi`


CC_FOR_TARGET = ` \
  if [ -f $$r/../gcc/xgcc ] ; then \
    if [ -f $$r/../newlib/Makefile ] ; then \
      echo $$r/../gcc/xgcc -B$$r/../gcc/ -idirafter $$r/../newlib/targ-include -idirafter $${srcroot}/../newlib/libc/include -nostdinc; \
    else \
      echo $$r/../gcc/xgcc -B$$r/../gcc/; \
    fi; \
  else \
    if [ "@@host@@" = "@@target@@" ] ; then \
      echo $(CC); \
    else \
      echo gcc | sed '$(transform)'; \
    fi; \
  fi`
d219 1
a219 1
readelf_SOURCES = readelf.c version.c unwind-ia64.c
d251 1
a251 2
windres_SOURCES = windres.c resrc.c rescoff.c resbin.c rcparse.y rclex.l \
	winduni.c resres.c $(BULIBS)
d258 1
a258 2
DISTSTUFF = arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h \
	syslex.c deflex.c defparse.h defparse.c rclex.c rcparse.h rcparse.c
d261 1
a261 2
DISTCLEANFILES = stamp-under sysinfo underscore.c sysroff.c sysroff.h \
	site.exp site.bak
d266 1
a266 2
MOSTLYCLEANFILES = sysinfo $(DEMANGLER_NAME).1 binutils.log binutils.sum \
	abcdefgh*
d269 1
a269 1
CLEANFILES = dep.sed DEP DEPA DEP1 DEP2
d286 1
a286 2
nlmconv_OBJECTS =  nlmconv.$(OBJEXT) nlmheader.$(OBJEXT) \
bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
d290 1
a290 2
srconv_OBJECTS =  srconv.$(OBJEXT) coffgrok.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
d294 1
a294 2
sysdump_OBJECTS =  sysdump.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
d298 1
a298 2
coffdump_OBJECTS =  coffdump.$(OBJEXT) coffgrok.$(OBJEXT) \
bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
d302 2
a303 2
dlltool_OBJECTS =  dlltool.$(OBJEXT) defparse.$(OBJEXT) deflex.$(OBJEXT) \
bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
d306 2
a307 3
windres_OBJECTS =  windres.$(OBJEXT) resrc.$(OBJEXT) rescoff.$(OBJEXT) \
resbin.$(OBJEXT) rcparse.$(OBJEXT) rclex.$(OBJEXT) winduni.$(OBJEXT) \
resres.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
d310 1
a310 1
dllwrap_OBJECTS =  dllwrap.$(OBJEXT) version.$(OBJEXT)
d313 1
a313 2
size_OBJECTS =  size.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
d317 2
a318 3
objdump_OBJECTS =  objdump.$(OBJEXT) prdbg.$(OBJEXT) rddbg.$(OBJEXT) \
debug.$(OBJEXT) stabs.$(OBJEXT) ieee.$(OBJEXT) rdcoff.$(OBJEXT) \
bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
d322 2
a323 3
ar_OBJECTS =  arparse.$(OBJEXT) arlex.$(OBJEXT) ar.$(OBJEXT) \
not-ranlib.$(OBJEXT) arsup.$(OBJEXT) rename.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
d326 1
a326 2
strings_OBJECTS =  strings.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
d330 2
a331 3
ranlib_OBJECTS =  ar.$(OBJEXT) is-ranlib.$(OBJEXT) arparse.$(OBJEXT) \
arlex.$(OBJEXT) arsup.$(OBJEXT) rename.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
d334 2
a335 4
objcopy_OBJECTS =  objcopy.$(OBJEXT) not-strip.$(OBJEXT) \
rename.$(OBJEXT) rddbg.$(OBJEXT) debug.$(OBJEXT) stabs.$(OBJEXT) \
ieee.$(OBJEXT) rdcoff.$(OBJEXT) wrstabs.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
d339 1
a339 2
addr2line_OBJECTS =  addr2line.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
d343 1
a343 2
readelf_OBJECTS =  readelf.$(OBJEXT) version.$(OBJEXT) \
unwind-ia64.$(OBJEXT)
d346 1
a346 2
nm_new_OBJECTS =  nm.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
d350 2
a351 4
strip_new_OBJECTS =  objcopy.$(OBJEXT) is-strip.$(OBJEXT) \
rename.$(OBJEXT) rddbg.$(OBJEXT) debug.$(OBJEXT) stabs.$(OBJEXT) \
ieee.$(OBJEXT) rdcoff.$(OBJEXT) wrstabs.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
d390 1
a390 1
.SUFFIXES: .S .c .dvi .info .l .lo .o .obj .ps .s .texi .texinfo .txi .y
a470 5
# FIXME: We should only use cygpath when building on Windows,
# and only if it is available.
.c.obj:
	$(COMPILE) -c `cygpath -w $<`

a478 1
	-rm -f *.$(OBJEXT)
a1038 3
objdump.o:objdump.c
	$(COMPILE) -c $(OBJDUMP_DEFS) $(srcdir)/objdump.c

d1119 2
a1120 7
	sed -f dep.sed < DEP1 > DEPA
	echo '# IF YOU PUT ANYTHING HERE IT WILL GO AWAY' >> DEPA
	if grep ' /' DEPA > /dev/null 2> /dev/null; then \
	  echo 'make DEP failed!'; exit 1; \
	else \
	  mv -f DEPA $@@; \
	fi
d1202 1
a1202 1
  arsup.h $(INCDIR)/filenames.h
d1205 1
a1205 1
  $(INCDIR)/fopen-same.h $(INCDIR)/filenames.h
d1208 1
a1208 1
  $(INCDIR)/fopen-same.h $(INCDIR)/filenames.h
d1219 2
a1220 2
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h $(INCDIR)/demangle.h \
  $(INCDIR)/dyn-string.h dlltool.h
d1225 1
a1225 1
  $(INCDIR)/libiberty.h debug.h budbg.h $(INCDIR)/filenames.h
d1236 2
a1237 2
  $(INCDIR)/getopt.h $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def \
  $(INCDIR)/aout/ranlib.h $(INCDIR)/demangle.h $(INCDIR)/libiberty.h
d1242 1
a1242 2
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h $(INCDIR)/libiberty.h \
  budbg.h $(INCDIR)/filenames.h
d1307 2
a1308 3
  $(INCDIR)/elf/pj.h $(INCDIR)/elf/avr.h $(INCDIR)/elf/ia64.h \
  $(INCDIR)/elf/cris.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h
d1314 1
a1314 1
  $(INCDIR)/fopen-same.h $(INCDIR)/getopt.h $(INCDIR)/dyn-string.h
@


1.1.1.9
log
@import binutils 2.14 (excluding testsuites, .info files, and .po files)
@
text
@d1 1
a1 1
# Makefile.in generated automatically by automake 1.4-p5 from Makefile.am
d3 1
a3 1
# Copyright (C) 1994, 1995-8, 1999, 2001 Free Software Foundation, Inc.
a82 2
EMULATION = @@EMULATION@@
EMULATION_VECTOR = @@EMULATION_VECTOR@@
d110 1
a113 2
bfdincludedir = @@bfdincludedir@@
bfdlibdir = @@bfdlibdir@@
d120 1
a120 1
SUBDIRS = doc po
d164 4
d176 1
a176 1
# Stuff that goes in tooldir/ if appropriate.
d185 1
a185 6
INCLUDES = -D_GNU_SOURCE \
	 -I. -I$(srcdir) -I../bfd -I$(BFDDIR) -I$(INCDIR) \
	 @@HDEFINES@@ \
	 -I$(srcdir)/../intl -I../intl \
	 -DLOCALEDIR="\"$(prefix)/share/locale\"" \
	 -Dbin_dummy_emulation=$(EMULATION_VECTOR)
d187 1
a187 4

HFILES = \
	arsup.h binemul.h bucomm.h budbg.h budemang.h \
	coffgrok.h debug.h dlltool.h nlmconv.h \
d193 7
a199 11
CFILES = \
	addr2line.c ar.c arsup.c binemul.c bucomm.c budemang.c \
	coffdump.c coffgrok.c cxxfilt.c debug.c dlltool.c dllwrap.c \
	emul_aix.c emul_vanilla.c filemode.c \
	ieee.c is-ranlib.c is-strip.c maybe-ranlib.c maybe-strip.c \
	nlmconv.c nm.c not-ranlib.c not-strip.c \
	objcopy.c objdump.c prdbg.c \
	rdcoff.c rddbg.c readelf.c rename.c \
	resbin.c rescoff.c resrc.c resres.c \
	size.c srconv.c stabs.c strings.c sysdump.c version.c \
	windres.c winduni.c wrstabs.c
d203 1
a203 1
	arparse.c arlex.c sysroff.c sysinfo.c syslex.c \
d246 2
d261 1
a261 1
nm_new_SOURCES = nm.c budemang.c $(BULIBS)
d263 1
a263 1
objdump_SOURCES = objdump.c budemang.c prdbg.c $(DEBUG_SRCS) $(BULIBS)
d266 2
a267 4
cxxfilt_SOURCES = cxxfilt.c $(BULIBS)

ar_SOURCES = arparse.y arlex.l ar.c not-ranlib.c arsup.c rename.c binemul.c \
	emul_$(EMULATION).c $(BULIBS)
d269 1
d272 1
a272 3
ranlib_SOURCES = ar.c is-ranlib.c arparse.y arlex.l arsup.c rename.c \
	binemul.c emul_$(EMULATION).c $(BULIBS)

d275 1
a275 1
addr2line_SOURCES = addr2line.c budemang.c $(BULIBS)
d296 1
a296 1
EXTRA_DIST = arparse.c arparse.h arlex.c nlmheader.c sysinfo.c sysinfo.h \
d300 1
a300 1
DISTCLEANFILES = sysinfo sysroff.c sysroff.h \
d304 4
a307 1
###
a308 1
MOSTLYCLEANFILES = sysinfo binutils.log binutils.sum abcdefgh*
d364 3
a366 3
objdump_OBJECTS =  objdump.$(OBJEXT) budemang.$(OBJEXT) prdbg.$(OBJEXT) \
rddbg.$(OBJEXT) debug.$(OBJEXT) stabs.$(OBJEXT) ieee.$(OBJEXT) \
rdcoff.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
d371 2
a372 3
not-ranlib.$(OBJEXT) arsup.$(OBJEXT) rename.$(OBJEXT) binemul.$(OBJEXT) \
emul_$(EMULATION).$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
d381 2
a382 3
arlex.$(OBJEXT) arsup.$(OBJEXT) rename.$(OBJEXT) binemul.$(OBJEXT) \
emul_$(EMULATION).$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
d392 2
a393 2
addr2line_OBJECTS =  addr2line.$(OBJEXT) budemang.$(OBJEXT) \
bucomm.$(OBJEXT) version.$(OBJEXT) filemode.$(OBJEXT)
d401 2
a402 2
nm_new_OBJECTS =  nm.$(OBJEXT) budemang.$(OBJEXT) bucomm.$(OBJEXT) \
version.$(OBJEXT) filemode.$(OBJEXT)
d413 3
a415 4
cxxfilt_OBJECTS =  cxxfilt.$(OBJEXT) bucomm.$(OBJEXT) version.$(OBJEXT) \
filemode.$(OBJEXT)
cxxfilt_LDADD = $(LDADD)
cxxfilt_DEPENDENCIES =  ../bfd/libbfd.la ../libiberty/libiberty.a
d425 9
d441 1
a441 1
TAR = gtar
d448 1
a448 1
.SUFFIXES: .S .c .l .lo .o .obj .s .y
d651 152
d839 1
a839 1
	  test "$$subdir" != "." || dot_seen=yes; \
d950 1
d976 1
a976 1
info-am:
d978 1
a978 1
dvi-am:
d993 1
a993 1
install-data-am:
d999 1
a999 1
uninstall-am: uninstall-binPROGRAMS
d1001 1
a1001 1
all-am: Makefile $(PROGRAMS) config.h
d1007 1
a1007 1
	$(mkinstalldirs)  $(DESTDIR)$(bindir)
d1022 1
a1022 1
	-test -z "arlexldeflexlrclexlarparseharparsecdefparsehdefparsecnlmheaderhnlmheadercrcparsehrcparsec" || rm -f arlexl deflexl rclexl arparseh arparsec defparseh defparsec nlmheaderh nlmheaderc rcparseh rcparsec
d1025 1
a1025 1
		mostlyclean-libtool mostlyclean-tags \
d1031 2
a1032 2
		clean-compile clean-libtool clean-tags clean-generic \
		mostlyclean-am
d1038 2
a1039 2
		distclean-libtool distclean-tags distclean-generic \
		clean-am
d1048 2
a1049 2
		maintainer-clean-tags maintainer-clean-generic \
		distclean-am
d1063 8
a1070 5
clean-libtool maintainer-clean-libtool install-data-recursive \
uninstall-data-recursive install-exec-recursive \
uninstall-exec-recursive installdirs-recursive uninstalldirs-recursive \
all-recursive check-recursive installcheck-recursive info-recursive \
dvi-recursive mostlyclean-recursive distclean-recursive clean-recursive \
d1094 3
a1096 3
	  CC_FOR_TARGET="$(CC_FOR_TARGET)" CFLAGS_FOR_TARGET="$(CFLAGS)" \
		$$runtest --tool $(DEJATOOL) --srcdir $${srcdir}/testsuite \
			$(RUNTESTFLAGS); \
d1106 11
d1179 1
a1179 3
diststuff: $(EXTRA_DIST) info

Makefile: $(BFDDIR)/configure.in
d1206 1
a1206 2
		-e "s!@@OBJDIR@@!$${objdir}!"	\
		-e 's!@@TOPDIR@@!'`echo $(srcdir) | sed -e s,/binutils$$,,`'!'
d1224 14
d1247 1
a1247 1
	    $(LIBTOOL)  --mode=install $(INSTALL_PROGRAM) $$p $(DESTDIR)$(bindir)/`echo $$p|sed -e 's/$(EXEEXT)$$//' -e 's/-new//' -e 's/cxxfilt/$(DEMANGLER_NAME)/'|sed '$(transform)'|sed 's/$$/$(EXEEXT)/'`; \
d1250 1
a1250 1
	$(mkinstalldirs) $(DESTDIR)$(tooldir)/bin
d1255 4
a1258 4
	    if [ "$(DESTDIR)$(bindir)/$$k$(EXEEXT)" != "$(DESTDIR)$(tooldir)/bin/$$j$(EXEEXT)" ]; then \
	      rm -f $(DESTDIR)$(tooldir)/bin/$$j$(EXEEXT); \
	      ln $(DESTDIR)$(bindir)/$$k$(EXEEXT) $(DESTDIR)$(tooldir)/bin/$$j$(EXEEXT) >/dev/null 2>/dev/null \
		|| $(LIBTOOL) --mode=install $(INSTALL_PROGRAM) $$i$(EXEEXT) $(DESTDIR)$(tooldir)/bin/$$j$(EXEEXT); \
d1269 6
a1274 8
  $(INCDIR)/symcat.h $(INCDIR)/getopt.h $(INCDIR)/libiberty.h \
  $(INCDIR)/demangle.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h budemang.h
ar.o: ar.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/symcat.h \
  $(INCDIR)/libiberty.h $(INCDIR)/progress.h bucomm.h \
  config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/aout/ar.h $(BFDDIR)/libbfd.h arsup.h $(INCDIR)/filenames.h \
  binemul.h
d1276 2
a1277 6
  $(INCDIR)/symcat.h arsup.h $(INCDIR)/libiberty.h bucomm.h \
  config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/filenames.h
binemul.o: binemul.c binemul.h ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h
d1279 7
a1285 16
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/filenames.h \
  ../bfd/bfdver.h $(BFDDIR)/libbfd.h
budemang.o: budemang.c config.h ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h $(INCDIR)/demangle.h \
  budemang.h
coffdump.o: coffdump.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h coffgrok.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
coffgrok.o: coffgrok.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/coff/internal.h \
  $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h coffgrok.h
cxxfilt.o: cxxfilt.c config.h ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h $(INCDIR)/demangle.h $(INCDIR)/safe-ctype.h
d1287 2
a1288 2
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h debug.h
d1290 3
a1292 13
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/demangle.h \
  $(INCDIR)/dyn-string.h dlltool.h $(INCDIR)/safe-ctype.h
dllwrap.o: dllwrap.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/dyn-string.h
emul_aix.o: emul_aix.c binemul.h ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/bfdlink.h $(INCDIR)/coff/internal.h \
  $(INCDIR)/coff/xcoff.h $(BFDDIR)/libcoff.h $(BFDDIR)/libxcoff.h
emul_vanilla.o: emul_vanilla.c binemul.h ../bfd/bfd.h \
  $(INCDIR)/ansidecl.h $(INCDIR)/symcat.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
d1294 4
a1297 6
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h
ieee.o: ieee.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/symcat.h \
  $(INCDIR)/ieee.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h debug.h \
  budbg.h $(INCDIR)/filenames.h
d1303 7
a1309 10
  $(INCDIR)/symcat.h $(INCDIR)/libiberty.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/safe-ctype.h \
  $(BFDDIR)/libnlm.h $(INCDIR)/nlm/common.h $(INCDIR)/nlm/internal.h \
  $(INCDIR)/nlm/external.h nlmconv.h
nm.o: nm.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/symcat.h \
  $(INCDIR)/progress.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h budemang.h $(INCDIR)/aout/stab_gnu.h \
  $(INCDIR)/aout/stab.def $(INCDIR)/aout/ranlib.h $(INCDIR)/demangle.h \
  $(INCDIR)/libiberty.h $(BFDDIR)/elf-bfd.h $(INCDIR)/elf/common.h \
  $(INCDIR)/elf/internal.h $(INCDIR)/elf/external.h $(INCDIR)/bfdlink.h
d1313 2
a1314 2
  $(INCDIR)/symcat.h $(INCDIR)/progress.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
d1317 2
a1318 3
  $(INCDIR)/symcat.h ../bfd/bfdver.h $(INCDIR)/progress.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  budemang.h $(INCDIR)/safe-ctype.h $(INCDIR)/dis-asm.h \
d1322 2
a1323 3
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h debug.h \
  budbg.h
d1325 3
a1327 4
  $(INCDIR)/symcat.h $(INCDIR)/coff/internal.h bucomm.h \
  config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h debug.h budbg.h $(BFDDIR)/libcoff.h \
  $(INCDIR)/bfdlink.h
a1328 19
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h debug.h \
  budbg.h
readelf.o: readelf.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h $(INCDIR)/elf/common.h $(INCDIR)/elf/external.h \
  $(INCDIR)/elf/internal.h $(INCDIR)/elf/dwarf2.h $(INCDIR)/elf/alpha.h \
  $(INCDIR)/elf/reloc-macros.h $(INCDIR)/elf/arc.h $(INCDIR)/elf/arm.h \
  $(INCDIR)/elf/avr.h $(INCDIR)/elf/cris.h $(INCDIR)/elf/d10v.h \
  $(INCDIR)/elf/d30v.h $(INCDIR)/elf/dlx.h $(INCDIR)/elf/fr30.h \
  $(INCDIR)/elf/frv.h $(INCDIR)/elf/h8.h $(INCDIR)/elf/hppa.h \
  $(INCDIR)/elf/i386.h $(INCDIR)/elf/i370.h $(INCDIR)/elf/i860.h \
  $(INCDIR)/elf/i960.h $(INCDIR)/elf/ia64.h $(INCDIR)/elf/ip2k.h \
  $(INCDIR)/elf/m32r.h $(INCDIR)/elf/m68k.h $(INCDIR)/elf/m68hc11.h \
  $(INCDIR)/elf/mcore.h $(INCDIR)/elf/mips.h $(INCDIR)/elf/mmix.h \
  $(INCDIR)/elf/mn10200.h $(INCDIR)/elf/mn10300.h $(INCDIR)/elf/msp430.h \
  $(INCDIR)/elf/or32.h $(INCDIR)/elf/pj.h $(INCDIR)/elf/ppc.h \
  $(INCDIR)/elf/ppc64.h $(INCDIR)/elf/s390.h $(INCDIR)/elf/sh.h \
  $(INCDIR)/elf/sparc.h $(INCDIR)/elf/v850.h $(INCDIR)/elf/vax.h \
  $(INCDIR)/elf/x86-64.h $(INCDIR)/elf/xstormy16.h $(INCDIR)/elf/iq2000.h \
d1330 2
a1331 22
  unwind-ia64.h
rename.o: rename.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h
resbin.o: resbin.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h windres.h \
  winduni.h
rescoff.o: rescoff.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h windres.h \
  winduni.h $(INCDIR)/coff/internal.h $(BFDDIR)/libcoff.h \
  $(INCDIR)/bfdlink.h
resrc.o: resrc.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/safe-ctype.h \
  windres.h winduni.h
resres.o: resres.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h windres.h \
  winduni.h
size.o: size.c ../bfd/bfd.h $(INCDIR)/ansidecl.h $(INCDIR)/symcat.h \
d1334 3
a1336 5
srconv.o: srconv.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h sysroff.h coffgrok.h $(INCDIR)/libiberty.h \
  $(INCDIR)/coff/internal.h $(BFDDIR)/libcoff.h $(INCDIR)/bfdlink.h \
  sysroff.c
d1338 4
a1341 4
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/safe-ctype.h \
  $(INCDIR)/demangle.h debug.h budbg.h $(INCDIR)/filenames.h \
  $(INCDIR)/aout/aout64.h $(INCDIR)/aout/stab_gnu.h $(INCDIR)/aout/stab.def
d1343 2
a1344 3
  $(INCDIR)/symcat.h $(INCDIR)/getopt.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  $(INCDIR)/safe-ctype.h
d1346 1
a1346 2
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/safe-ctype.h $(INCDIR)/libiberty.h \
d1349 5
a1353 2
  $(INCDIR)/symcat.h ../bfd/bfdver.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h
d1355 15
a1369 3
  $(INCDIR)/symcat.h $(INCDIR)/getopt.h bucomm.h config.h \
  $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h \
  $(INCDIR)/safe-ctype.h $(INCDIR)/obstack.h windres.h \
d1371 21
a1391 8
winduni.o: winduni.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h winduni.h $(INCDIR)/safe-ctype.h
wrstabs.o: wrstabs.c ../bfd/bfd.h $(INCDIR)/ansidecl.h \
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/safe-ctype.h \
  debug.h budbg.h $(INCDIR)/aout/aout64.h $(INCDIR)/aout/stab_gnu.h \
  $(INCDIR)/aout/stab.def
d1393 3
a1395 4
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h arsup.h
arlex.o: arlex.c $(INCDIR)/ansidecl.h $(INCDIR)/libiberty.h \
  arparse.h
d1400 2
a1401 2
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h dlltool.h
d1404 3
a1406 4
nlmheader.o: nlmheader.c $(INCDIR)/ansidecl.h $(INCDIR)/safe-ctype.h \
  ../bfd/bfd.h $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/nlm/common.h $(INCDIR)/nlm/internal.h \
  nlmconv.h
d1408 2
a1409 3
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h windres.h \
  winduni.h $(INCDIR)/safe-ctype.h
d1411 2
a1412 3
  $(INCDIR)/symcat.h bucomm.h config.h $(INCDIR)/bin-bugs.h \
  $(INCDIR)/fopen-same.h $(INCDIR)/libiberty.h $(INCDIR)/safe-ctype.h \
  windres.h winduni.h rcparse.h
@


1.1.1.10
log
@Binutils 2.15, with testsuites removed, and without gdb and libiberty.
@
text
@d1 1
a1 1
# Makefile.in generated automatically by automake 1.4-p6 from Makefile.am
d445 1
a445 1
TAR = tar
d873 1
a873 1
	-test -z "arlex.cdeflex.crclex.carparse.harparse.cdefparse.hdefparse.cnlmheader.hnlmheader.crcparse.hrcparse.c" || rm -f arlex.c deflex.c rclex.c arparse.h arparse.c defparse.h defparse.c nlmheader.h nlmheader.c rcparse.h rcparse.c
d929 1
a929 1
	for f in $(POTFILES); do echo $$f; done | LC_COLLATE= sort > tmp \
d1081 1
a1081 1
	    if [ "$(bindir)/$$k" != "$(tooldir)/bin/$$j" ]; then \
d1111 3
a1113 3
  $(INCDIR)/symcat.h ../bfd/bfdver.h $(INCDIR)/libiberty.h \
  bucomm.h config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/filenames.h $(BFDDIR)/libbfd.h
d1171 1
a1171 1
  budbg.h $(INCDIR)/filenames.h $(INCDIR)/fnmatch.h
d1207 2
a1208 3
  $(INCDIR)/elf/xtensa.h $(INCDIR)/aout/ar.h bucomm.h \
  config.h $(INCDIR)/bin-bugs.h $(INCDIR)/fopen-same.h \
  $(INCDIR)/libiberty.h unwind-ia64.h
@


