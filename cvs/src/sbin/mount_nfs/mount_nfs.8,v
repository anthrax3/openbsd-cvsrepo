head	1.39;
access;
symbols
	OPENBSD_6_1_BASE:1.39
	OPENBSD_6_0:1.39.0.30
	OPENBSD_6_0_BASE:1.39
	OPENBSD_5_9:1.39.0.26
	OPENBSD_5_9_BASE:1.39
	OPENBSD_5_8:1.39.0.28
	OPENBSD_5_8_BASE:1.39
	OPENBSD_5_7:1.39.0.20
	OPENBSD_5_7_BASE:1.39
	OPENBSD_5_6:1.39.0.24
	OPENBSD_5_6_BASE:1.39
	OPENBSD_5_5:1.39.0.22
	OPENBSD_5_5_BASE:1.39
	OPENBSD_5_4:1.39.0.18
	OPENBSD_5_4_BASE:1.39
	OPENBSD_5_3:1.39.0.16
	OPENBSD_5_3_BASE:1.39
	OPENBSD_5_2:1.39.0.14
	OPENBSD_5_2_BASE:1.39
	OPENBSD_5_1_BASE:1.39
	OPENBSD_5_1:1.39.0.12
	OPENBSD_5_0:1.39.0.10
	OPENBSD_5_0_BASE:1.39
	OPENBSD_4_9:1.39.0.8
	OPENBSD_4_9_BASE:1.39
	OPENBSD_4_8:1.39.0.6
	OPENBSD_4_8_BASE:1.39
	OPENBSD_4_7:1.39.0.2
	OPENBSD_4_7_BASE:1.39
	OPENBSD_4_6:1.39.0.4
	OPENBSD_4_6_BASE:1.39
	OPENBSD_4_5:1.38.0.8
	OPENBSD_4_5_BASE:1.38
	OPENBSD_4_4:1.38.0.6
	OPENBSD_4_4_BASE:1.38
	OPENBSD_4_3:1.38.0.4
	OPENBSD_4_3_BASE:1.38
	OPENBSD_4_2:1.38.0.2
	OPENBSD_4_2_BASE:1.38
	OPENBSD_4_1:1.37.0.2
	OPENBSD_4_1_BASE:1.37
	OPENBSD_4_0:1.36.0.4
	OPENBSD_4_0_BASE:1.36
	OPENBSD_3_9:1.36.0.2
	OPENBSD_3_9_BASE:1.36
	OPENBSD_3_8:1.35.0.2
	OPENBSD_3_8_BASE:1.35
	OPENBSD_3_7:1.33.0.2
	OPENBSD_3_7_BASE:1.33
	OPENBSD_3_6:1.32.0.4
	OPENBSD_3_6_BASE:1.32
	OPENBSD_3_5:1.32.0.2
	OPENBSD_3_5_BASE:1.32
	OPENBSD_3_4:1.31.0.2
	OPENBSD_3_4_BASE:1.31
	OPENBSD_3_3:1.28.0.2
	OPENBSD_3_3_BASE:1.28
	OPENBSD_3_2:1.27.0.2
	OPENBSD_3_2_BASE:1.27
	OPENBSD_3_1:1.25.0.4
	OPENBSD_3_1_BASE:1.25
	OPENBSD_3_0:1.25.0.2
	OPENBSD_3_0_BASE:1.25
	OPENBSD_2_9:1.21.0.2
	OPENBSD_2_9_BASE:1.21
	OPENBSD_2_8:1.20.0.2
	OPENBSD_2_8_BASE:1.20
	OPENBSD_2_7:1.18.0.2
	OPENBSD_2_7_BASE:1.18
	OPENBSD_2_6:1.15.0.2
	OPENBSD_2_6_BASE:1.15
	OPENBSD_2_5:1.11.0.2
	OPENBSD_2_5_BASE:1.11
	OPENBSD_2_4:1.9.0.2
	OPENBSD_2_4_BASE:1.9
	OPENBSD_2_3:1.6.0.6
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.6.0.4
	OPENBSD_2_2_BASE:1.6
	OPENBSD_2_1:1.6.0.2
	OPENBSD_2_1_BASE:1.6
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.39
date	2009.06.06.20.58.50;	author ckuethe;	state Exp;
branches;
next	1.38;

1.38
date	2007.05.31.19.19.45;	author jmc;	state Exp;
branches;
next	1.37;

1.37
date	2007.02.20.14.07.32;	author jmc;	state Exp;
branches;
next	1.36;

1.36
date	2006.01.03.19.01.18;	author jmc;	state Exp;
branches;
next	1.35;

1.35
date	2005.06.29.20.48.05;	author jaredy;	state Exp;
branches;
next	1.34;

1.34
date	2005.06.23.00.41.56;	author jaredy;	state Exp;
branches;
next	1.33;

1.33
date	2005.02.22.06.09.28;	author jaredy;	state Exp;
branches;
next	1.32;

1.32
date	2003.10.07.18.35.57;	author henning;	state Exp;
branches;
next	1.31;

1.31
date	2003.06.02.20.06.15;	author millert;	state Exp;
branches;
next	1.30;

1.30
date	2003.05.07.17.21.01;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2003.04.02.16.04.19;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2003.02.09.07.26.45;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2002.09.14.06.44.05;	author pvalchev;	state Exp;
branches;
next	1.26;

1.26
date	2002.06.26.21.32.02;	author fgsch;	state Exp;
branches;
next	1.25;

1.25
date	2001.10.03.18.50.07;	author hin;	state Exp;
branches;
next	1.24;

1.24
date	2001.07.13.18.19.24;	author csapuntz;	state Exp;
branches;
next	1.23;

1.23
date	2001.06.24.17.03.18;	author csapuntz;	state Exp;
branches;
next	1.22;

1.22
date	2001.06.08.13.46.50;	author aaron;	state Exp;
branches;
next	1.21;

1.21
date	2000.11.09.17.53.00;	author aaron;	state Exp;
branches;
next	1.20;

1.20
date	2000.07.05.14.01.21;	author aaron;	state Exp;
branches;
next	1.19;

1.19
date	2000.05.24.15.43.28;	author mickey;	state Exp;
branches;
next	1.18;

1.18
date	2000.04.15.02.15.15;	author aaron;	state Exp;
branches;
next	1.17;

1.17
date	2000.03.18.22.56.00;	author aaron;	state Exp;
branches;
next	1.16;

1.16
date	2000.03.14.21.31.34;	author aaron;	state Exp;
branches;
next	1.15;

1.15
date	99.06.17.20.53.27;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	99.05.31.17.26.12;	author millert;	state Exp;
branches;
next	1.13;

1.13
date	99.05.23.14.11.17;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	99.05.02.13.50.58;	author rohee;	state Exp;
branches;
next	1.11;

1.11
date	98.12.15.01.20.36;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	98.11.28.19.56.26;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	98.09.17.04.14.55;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	98.08.30.22.45.14;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	98.06.15.17.55.46;	author mickey;	state Exp;
branches;
next	1.6;

1.6
date	97.04.20.15.37.25;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	96.12.10.09.06.17;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	96.11.02.00.40.48;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	96.06.10.06.39.40;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.03.21.00.16.02;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.43.40;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.43.40;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.39
log
@mention that the timeout is in milliseconds... because i always forget.
@
text
@.\"	$OpenBSD: mount_nfs.8,v 1.38 2007/05/31 19:19:45 jmc Exp $
.\"	$NetBSD: mount_nfs.8,v 1.3 1996/02/18 11:59:10 fvdl Exp $
.\"
.\" Copyright (c) 1992, 1993, 1994, 1995
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@@(#)mount_nfs.8	8.3 (Berkeley) 3/29/95
.\"
.Dd $Mdocdate: May 31 2007 $
.Dt MOUNT_NFS 8
.Os
.Sh NAME
.Nm mount_nfs
.Nd mount NFS file systems
.Sh SYNOPSIS
.Nm mount_nfs
.Bk -words
.Op Fl 23bcdilsTU
.Op Fl a Ar maxreadahead
.Op Fl g Ar maxgroups
.Op Fl I Ar readdirsize
.Op Fl o Ar options
.Op Fl R Ar retrycnt
.Op Fl r Ar readsize
.Op Fl t Ar timeout
.Op Fl w Ar writesize
.Op Fl x Ar retrans
.Ar rhost : Ns Ar path node
.Ek
.Sh DESCRIPTION
The
.Nm
command
calls the
.Xr mount 2
system call to prepare and graft a remote NFS file system (rhost:path)
on to the file system tree at the point
.Ar node .
This command is normally executed by
.Xr mount 8 .
It implements the mount protocol as described in RFC 1094, Appendix A and
.%T "NFS: Network File System Version 3 Protocol Specification" ,
Appendix I.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl 2
Use the NFS Version 2 protocol.
.It Fl 3
Use the NFS Version 3 protocol.
The default is to try version 3 first, and
fall back to version 2 if the mount fails.
.It Fl a Ar maxreadahead
Set the read-ahead count to the specified value.
This may be in the range of 0\-4, and determines how many blocks
will be read ahead when a large file is being read sequentially.
Trying a value greater than 1 for this is suggested for
mounts with a large bandwidth-delay product.
.It Fl b
If an initial attempt to contact the server fails, fork off a child to keep
trying the mount in the background.
Useful for
.Xr fstab 5 ,
where the file system mount is not critical to multiuser operation.
.It Fl c
For UDP mount points, do not do a
.Xr connect 2 .
This must be used for servers that do not reply to requests from the
standard NFS port number 2049.
It may also be required for servers
with more than one IP address (only necessary if replies come from
an address other than the one specified in the mount request).
.It Fl d
Turn off the dynamic retransmit timeout estimator.
This may be useful for UDP mounts that exhibit high retry rates,
since it is possible that the dynamically estimated timeout interval is too
short.
.It Fl g Ar maxgroups
Set the maximum size of the group list for the credentials to the
specified value.
This should be used for mounts on old servers that cannot handle a
group list size of 16, as specified in RFC 1057.
Try 8, if users in a lot of groups cannot get a response from the mount
point.
.It Fl I Ar readdirsize
Set the readdir read size to the specified value.
The value should normally be a multiple of
.Dv DIRBLKSIZ
that is less than or equal to the read size for the mount.
.It Fl i
Make the mount interruptible, which implies that file system calls that
are delayed due to an unresponsive server will fail with EINTR when a
termination signal is posted for the process.
.It Fl l
Used with NFSV3 to specify that the
.Dq readdir plus
RPC should
be used.
This option reduces RPC traffic for cases such as
.Dq "ls -l" ,
but tends to flood the attribute and name caches with prefetched entries.
Try this option and see whether performance improves or degrades.
Probably
most useful for client to server network interconnects with a large
bandwidth-delay product.
.It Fl o Ar options
Options are specified with a
.Fl o
flag followed by a comma separated string of options.
The prefix
.Dq no
may be added to invert the behavior of default options that do not
take arguments.
See the
.Xr mount 8
man page for possible options and their meanings.
.Pp
The following NFS specific options are also available:
.Bl -tag -width 15n
.It Cm ac
Enable attribute caching for both files and directories (default).
.It Cm acdirmax Ns = Ns Ar num
Cache directory attributes for no more than
.Ar num
seconds.
The default is 60 seconds.
.It Cm acdirmin Ns = Ns Ar num
Cache directory attributes for at least
.Ar num
seconds.
The default is 5 seconds.
.It Cm acregmax Ns = Ns Ar num
Cache file attributes for no more than
.Ar num
seconds.
The default is 60 seconds.
.It Cm acregmin Ns = Ns Ar num
Cache file attributes for at least
.Ar num
seconds.
The default is 5 seconds.
.It Cm port Ns = Ns Ar portnumber
Use the specified port number for NFS requests.
The default is to query the portmapper for the NFS port.
.El
.It Fl R Ar retrycnt
Set the retry count for doing the mount to the specified value.
The default is 10000.
.It Fl r Ar readsize
Set the read data size to the specified value.
It should normally be a power of 2 greater than or equal to 1024.
This should be used for UDP mounts when the
.Dq "fragments dropped after timeout"
value is getting large while actively using a mount point.
(Use
.Xr netstat 1
with the
.Fl s
option to see what this
value is.)
See the
.Fl w
option as well.
.It Fl s
A soft mount, which implies that file system calls will fail
after
.Ar retrans
round trip timeout intervals have been reached (see
.Fl x ) .
.It Fl T
Use TCP instead of UDP.
Note that TCP may not be supported by some very old NFS servers.
.It Fl t Ar timeout
Set the initial retransmit timeout to the specified value in milliseconds.
May be useful for fine tuning UDP mounts over internetworks
with high packet loss rates or an overloaded server.
Try increasing the interval if
.Xr nfsstat 1
shows high retransmit rates while the file system is active or reducing the
value if there is a low retransmit rate but long response delay observed.
(Normally, the
.Fl d
option should be specified when using this option to manually
tune the timeout
interval.)
.It Fl U
Force the mount protocol to use UDP, even for TCP NFS mounts.
(Necessary for some old
.Bx
servers.)
.It Fl w Ar writesize
Set the write data size to the specified value.
Ditto the comments w.r.t. the
.Fl r
option, but using the
.Dq "fragments dropped after timeout"
value on the server instead of the client.
Note that both the
.Fl r
and
.Fl w
options should only be used as a last ditch effort at improving performance
when mounting servers that do not support TCP mounts.
.It Fl x Ar retrans
Set the retransmit timeout count for soft mounts to the specified value.
Defaults to 10.
.El
.Pp
In versions prior to
.Ox 2.7 ,
.Li nfsiod
daemons were running to improve performance of client NFS I/O.
This is no longer done this way.
Use
.Xr sysctl 8
or modify
.Xr sysctl.conf 5
to adjust the
.Va vfs.nfs.iothreads
value, which is the number of kernel threads created
to serve asynchronous NFS I/O requests.
.Sh SEE ALSO
.Xr nfsstat 1 ,
.Xr mount 2 ,
.Xr tcp 4 ,
.Xr udp 4 ,
.Xr fstab 5 ,
.Xr mount 8 ,
.Xr nfsd 8 ,
.Xr sysctl 8 ,
.Xr umount 8
.Sh HISTORY
The
.Fl P
flag historically informed the kernel to use a reserved port when
communicating with clients.
In
.Ox ,
a reserved port is always used.
.Sh BUGS
Due to the way that Sun RPC is implemented on top of UDP (unreliable datagram),
tuning such mounts is really a black art that can only be expected
to have limited success.
@


1.38
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.37 2007/02/20 14:07:32 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
d198 1
a198 1
Set the initial retransmit timeout to the specified value.
@


1.37
log
@sort the -o options; from Igor Sobrado
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.36 2006/01/03 19:01:18 jmc Exp $
d33 1
a33 1
.Dd March 29, 1995
@


1.36
log
@most modern implementations of nfsd support TCP, not just 4.4BSD;
prompted by a similar commit in freebsd.

do not recommend TCP;

ok millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.35 2005/06/29 20:48:05 jaredy Exp $
d146 2
a147 2
.It Cm acregmax Ns = Ns Ar num
Cache file attributes for no more than
d151 2
a152 2
.It Cm acregmin Ns = Ns Ar num
Cache file attributes for at least
d156 2
a157 2
.It Cm acdirmax Ns = Ns Ar num
Cache directory attributes for no more than
d161 2
a162 2
.It Cm acdirmin Ns = Ns Ar num
Cache directory attributes for at least
@


1.35
log
@sort options
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.34 2005/06/23 00:41:56 jaredy Exp $
d196 1
a196 3
This is recommended for servers that are not on the same LAN cable as
the client.
(NB: This is NOT supported by most non-BSD servers.)
a267 6
For clients mounting servers that are not on the same
LAN cable or that tend to be overloaded,
TCP is strongly recommended,
but unfortunately this is restricted to mostly
.Bx 4.4
servers.
@


1.34
log
@- cleanup dead flags
- minor mdoc/rewording improvements
- add some relevant crossrefs

ok jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.33 2005/02/22 06:09:28 jaredy Exp $
a76 18
.It Fl I Ar readdirsize
Set the readdir read size to the specified value.
The value should normally be a multiple of
.Dv DIRBLKSIZ
that is less than or equal to the read size for the mount.
.It Fl R Ar retrycnt
Set the retry count for doing the mount to the specified value.
The default is 10000.
.It Fl T
Use TCP instead of UDP.
This is recommended for servers that are not on the same LAN cable as
the client.
(NB: This is NOT supported by most non-BSD servers.)
.It Fl U
Force the mount protocol to use UDP, even for TCP NFS mounts.
(Necessary for some old
.Bx
servers.)
d109 5
d170 3
d194 5
d212 5
@


1.33
log
@- refer to netstat output more precisely
  (from peter_philipp@@freenet.de via PR#4109)
- other minor tweaks (mdoc, wording, consistency, etc.)

ok jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.32 2003/10/07 18:35:57 henning Exp $
d42 1
a42 5
.Op Fl 23PTUbcdilqs
.Op Fl D Ar deadthresh
.Op Fl I Ar readdirsize
.Op Fl L Ar leaseterm
.Op Fl R Ar retrycnt
d45 1
d47 1
d52 1
a52 1
.Ar rhost:path node
a81 5
.It Fl P
The kernel always uses a reserved port number to communicate with
clients.
This option is ignored, and exists solely for compatibility
with older systems.
d132 3
a134 1
Used with NFSV3 to specify that the \fBReaddirPlus\fR RPC should
d147 4
d154 1
d156 4
a159 2
.Bl -tag -width indent
.It acregmax=num
d164 1
a164 1
.It acregmin=num
d169 1
a169 1
.It acdirmax=num
d174 1
a174 1
.It acdirmin=num
d179 1
a179 3
.It noac
Disable attribute caching for both files and directories.
.It port=portnumber
d200 4
a203 1
after \fBRetry\fR round trip timeout intervals.
d232 1
d249 1
d251 2
d258 8
@


1.32
log
@add support for modifying attribute cache parameters
inspired by PR2567, the included diff was wrong tho and not used here
manpage from millert@@
ok millert@@ on code and jmc@@ on manpage
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.31 2003/06/02 20:06:15 millert Exp $
d81 3
a83 2
The value should normally
be a multiple of DIRBLKSIZ that is <= the read size for the mount.
d93 1
a93 1
Use TCP transport instead of UDP.
d98 4
a101 2
Force the mount protocol to use UDP transport, even for TCP NFS mounts.
(Necessary for some old BSD servers.)
d104 1
a104 1
This may be in the range of 0 - 4, and determines how many blocks
d107 1
a107 1
mounts with a large bandwidth * delay product.
d113 1
a113 1
where the filesystem mount is not critical to multiuser operation.
d146 2
a147 2
most useful for client to server network interconnects with a large bandwidth
times delay product.
d180 1
a180 1
Use specified port number for NFS requests.
d187 1
a187 1
.Dq "fragments dropped due to timeout"
d193 1
a193 2
option to see what the
.Dq "fragments dropped due to timeout"
d219 1
a219 1
.Dq "fragments dropped due to timeout"
d233 1
a233 1
.Nm nfsiod
d241 1
a241 1
.Nm vfs.nfs.iothreads
d252 2
a253 2
Due to the way that Sun RPC is implemented on top of UDP (unreliable datagram)
transport, tuning such mounts is really a black art that can only be expected
d257 1
a257 1
TCP transport is strongly recommended,
@


1.31
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.30 2003/05/07 17:21:01 jmc Exp $
d154 22
a178 2
.It noac
Turn off attribute caching for both directories and files.
@


1.30
log
@typo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.29 2003/04/02 16:04:19 jmc Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.29
log
@nfs -> NFS
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.28 2003/02/09 07:26:45 jmc Exp $
d156 1
a156 1
The following NFS specific option is also available:
d162 1
a162 1
Turn off attribute caching for both directories and files
@


1.28
log
@typos;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.27 2002/09/14 06:44:05 pvalchev Exp $
d42 1
a42 1
.Nd mount nfs file systems
d66 1
a66 1
system call to prepare and graft a remote nfs file system (rhost:path)
@


1.27
log
@Document -R default (10000); ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.26 2002/06/26 21:32:02 fgsch Exp $
d45 1
d59 1
d133 1
a133 1
Try 8, if users in a lot of groups cannot get response from the mount
d214 1
a214 1
.Ox 2.7
@


1.26
log
@Missing .Xr's from Margarida Sequeira <niness@@devilness.org>.
Remove unmount(2) per millert suggestion; millert@@ ok.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.25 2001/10/03 18:50:07 hin Exp $
d92 1
@


1.25
log
@Remove all traces of Kerberised NFS; it never worked in OpenBSD, but it
has been in the userland tools and the manpages for ages.

Spotted by Lars Hansson <lars@@unet.net.ph>

Ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.24 2001/07/13 18:19:24 csapuntz Exp $
a224 1
.Xr unmount 2 ,
d228 2
a229 1
.Xr sysctl 8
@


1.24
log
@Add noac flag to disable attribute caching
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.23 2001/06/24 17:03:18 csapuntz Exp $
d45 1
a45 1
.Op Fl 23KPTUbcdilqs
a51 1
.Op Fl m Ar realm
a84 7
.It Fl K
Pass Kerberos authenticators to the server for client-to-server
user-credential mapping.
This requires that the kernel be built with the NFSKERB option.
(Refer to the INTERNET-DRAFT titled
.%T "Authentication Mechanisms for ONC RPC" ,
for more information.)
a145 5
.It Fl m Ar realm
Set the Kerberos realm to the string argument.
Used with the
.Fl K
option for mounts to other realms.
@


1.23
log
@

Get rid of NQNFS options
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.22 2001/06/08 13:46:50 aaron Exp $
d171 2
@


1.22
log
@Fix a typo (perfomance -> performance) and lots of section shuffling;
mpech@@prosoft.org.lv
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.21 2000/11/09 17:53:00 aaron Exp $
a81 13
.It Fl D Ar deadthresh
Used with NQNFS to set the
.Dq "dead server threshold"
to the specified number of round trip timeout intervals.
After a
.Dq "dead server threshold"
of retransmit timeouts,
cached data for the unresponsive server is assumed to still be valid.
Values may be set in the range of 1 - 9, with 9 referring to an
.Dq "infinite dead threshold"
(i.e., never assume cached data still valid).
This option is not generally recommended and is really an experimental
feature.
a92 4
.It Fl L Ar leaseterm
Used with NQNFS to set the lease term to the specified number of seconds.
Only use this argument for mounts with a large round trip delay.
Values are normally in the 10-30 second range.
d145 1
a145 1
Used with NQNFS and NFSV3 to specify that the \fBReaddirPlus\fR RPC should
a171 10
.It Fl q
Use the leasing extensions to the NFS Version 3 protocol
to maintain cache consistency.
This protocol version 2 revision to Not Quite Nfs (NQNFS)
is only supported by this updated release of NFS code.
It is not backwards compatible with the version 1 NQNFS protocol
that was part of the first release of 4.4BSD-Lite.
To interoperate with a first release 4.4BSD-Lite NFS system you will have to
avoid this option until you have had an opportunity to upgrade the NFS code
to release 2 of 4.4BSD-Lite on all your systems.
@


1.21
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.20 2000/07/05 14:01:21 aaron Exp $
d251 1
a251 1
daemons were running to improve perfomance of client NFS I/O.
@


1.20
log
@Correct minor formatting errors/typos.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.19 2000/05/24 15:43:28 mickey Exp $
d75 1
a75 1
.Bl -tag -width indent
@


1.19
log
@a note on how to rule the daemons, nfsio threads in this reincarnation
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.18 2000/04/15 02:15:15 aaron Exp $
d74 1
a74 1
The options are:
d247 1
@


1.18
log
@Mostly punctuation fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.17 2000/03/18 22:56:00 aaron Exp $
d247 13
d264 3
a266 1
.Xr mount 8
@


1.17
log
@Remove hard sentence breaks, and some other cleanup along the way.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.16 2000/03/14 21:31:34 aaron Exp $
d67 1
a67 1
.Ar node.
@


1.16
log
@Suffix "i.e." and "e.g." with a comma. Just another really picky man page
commit, as we want our documentation to be as consistently formatted as
possible (it's getting there :-)).
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.15 1999/06/17 20:53:27 millert Exp $
d79 2
a80 1
Use the NFS Version 3 protocol. The default is to try version 3 first, and
d96 2
a97 1
Set the readdir read size to the specified value. The value should normally
d112 2
a113 1
clients. This option is ignored, and exists solely for compatibility
d141 2
a142 1
standard NFS port number 2049.  It may also be required for servers
d167 2
a168 1
Try this option and see whether performance improves or degrades. Probably
@


1.15
log
@go back to UDP mounts by default until NFS/TCP is fixed
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.13 1999/05/23 14:11:17 aaron Exp $
d91 1
a91 1
(i.e. never assume cached data still valid).
@


1.14
log
@Use connection-oriented transport (ie: TCP) when possible.  This makes
the default trasport for NFSV3 be TCP like most other OS's.
@
text
@d117 2
a118 2
the client.  The default for NFS Version 3 mounts is to try TCP transport
first, and fall back to UDP if the mount fails.
d120 2
a121 3
Force the mount protocol to use UDP transport, even for TCP NFS mounts
(necessary for some old BSD servers).  This is the default for NFS Version
2 mounts.
d253 4
a256 1
TCP transport is strongly recommended.
@


1.13
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.12 1999/05/02 13:50:58 rohee Exp $
d117 2
a118 2
the client.
(NB: This is NOT supported by most non-BSD servers.)
d120 3
a122 2
Force the mount protocol to use UDP transport, even for TCP NFS mounts.
(Necessary for some old BSD servers.)
d254 1
a254 4
TCP transport is strongly recommended,
but unfortunately this is restricted to mostly
.Bx 4.4
servers.
@


1.12
log
@oppurtinity -> opportunity
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.11 1998/12/15 01:20:36 aaron Exp $
d39 1
a39 1
.Os BSD 4.4
@


1.11
log
@always give .Nm macros an argument in SYNOPSIS sections; krw@@tcn.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.10 1998/11/28 19:56:26 aaron Exp $
d192 1
a192 1
avoid this option until you have had an oppurtunity to upgrade the NFS code
@


1.10
log
@kill redundant .Nm macro arguments; other misc fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.9 1998/09/17 04:14:55 aaron Exp $
d44 1
a44 1
.Nm
@


1.9
log
@sbin/ man page fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.8 1998/08/30 22:45:14 deraadt Exp $
d44 1
a44 1
.Nm mount_nfs
d61 1
a61 1
.Nm mount_nfs
@


1.8
log
@man page fixes; aaron@@ug.cs.dal.ca
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.7 1998/06/15 17:55:46 mickey Exp $
d81 1
a81 1
.It Fl D
d94 1
a94 1
.It Fl I
d104 1
a104 1
.It Fl L
d112 1
a112 1
.It Fl R
d122 1
a122 1
.It Fl a
d146 1
a146 1
.It Fl g
d166 1
a166 1
.It Fl m
d171 1
a171 1
.It Fl o
d194 1
a194 1
.It Fl r
d213 1
a213 1
.It Fl t
d221 3
a223 1
(Normally, the -d option should be specified when using this option to manually
d226 1
a226 1
.It Fl w
d239 1
a239 1
.It Fl x
@


1.7
log
@use Bx macro for BSD versions
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.6 1997/04/20 15:37:25 deraadt Exp $
d139 1
a139 1
with more than one IP address (only necesary if replies come from
@


1.6
log
@support for -o port=N; provos
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.5 1996/12/10 09:06:17 deraadt Exp $
d252 3
a254 1
but unfortunately this is restricted to mostly 4.4BSD servers.
@


1.5
log
@"the the" purge
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.4 1996/11/02 00:40:48 millert Exp $
d178 6
@


1.4
log
@Clarify -c option.  NetBSD PR#2884
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_nfs.8,v 1.3 1996/06/10 06:39:40 deraadt Exp $
d140 1
a140 1
an address other than the one specified in the the mount request).
@


1.3
log
@-P is only for backwards compat
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d138 3
a140 1
standard NFS port number 2049.
@


1.2
log
@From NetBSD: Merge of 960317
@
text
@d109 3
a111 6
Use a reserved socket port number.
This is useful for mounting servers that require clients to use a
reserved port number on the mistaken belief that this makes NFS
more secure. (For the rare case where the client has a trusted root account
but untrusworthy users and the network cables are in secure areas this does
help, but for normal desktop clients this does not apply.)
@


1.1
log
@Initial revision
@
text
@d1 2
a2 1
.\"	$NetBSD: mount_nfs.8,v 1.2 1995/03/18 14:57:41 cgd Exp $
d4 1
a4 1
.\" Copyright (c) 1992, 1993, 1994
d35 1
a35 1
.\"	@@(#)mount_nfs.8	8.2 (Berkeley) 3/27/94
d37 1
a37 1
.Dd March 27, 1994
d45 1
a45 1
.Op Fl KMPTbcdiklqs
d47 1
d70 3
a72 1
It implements the mount protocol as described in RFC 1094, Appendix A.
d76 5
d94 3
d100 4
a103 1
This may only be used over TCP mounts between 4.4BSD clients and servers.
a107 5
.It Fl M
Assume that other clients are not writing a file concurrently with this client.
This implements a slightly less strict consistency criteria than 4.3BSD-Reno
did, that is more in line with most commercial client implementations.
This is recommended for servers that do not support leasing.
d111 4
a114 1
reserved port number.
d122 3
d129 2
a130 1
This is recommended for mounts with a large bandwidth * delay product.
d141 1
a141 1
standard port number.
d143 4
a146 2
Do not estimate retransmit timeout dynamically.
This may be useful for UDP mounts that exhibit high retry rates.
a157 6
.It Fl k
Used with NQNFS to specify
.Dq get a lease
for the file name being looked up.
This is recommended unless the server is complaining about excessive
lease load.
d159 1
a159 1
Used with NQNFS to specify that the \fBReaddir_and_Lookup\fR RPC should
d163 4
a166 3
but increases the lease load on the server.
This is recommended unless the server is complaining about excessive
lease load.
d180 9
a188 3
Use the leasing extensions to the protocol to maintain cache consistency.
This protocol, referred to as Not Quite Nfs (NQNFS),
is only supported by 4.4BSD servers.
d191 1
a191 1
It should be a power of 2 greater than or equal to 1024.
d216 3
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
