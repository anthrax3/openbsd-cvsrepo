head	1.24;
access;
symbols
	OPENBSD_3_8:1.23.0.2
	OPENBSD_3_8_BASE:1.23
	OPENBSD_3_7:1.22.0.2
	OPENBSD_3_7_BASE:1.22
	OPENBSD_3_6:1.20.0.6
	OPENBSD_3_6_BASE:1.20
	OPENBSD_3_5:1.20.0.4
	OPENBSD_3_5_BASE:1.20
	OPENBSD_3_4:1.20.0.2
	OPENBSD_3_4_BASE:1.20
	OPENBSD_3_3:1.18.0.2
	OPENBSD_3_3_BASE:1.18
	OPENBSD_3_2:1.17.0.2
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.16.0.4
	OPENBSD_3_1_BASE:1.16
	OPENBSD_3_0:1.16.0.2
	OPENBSD_3_0_BASE:1.16
	OPENBSD_2_9:1.14.0.2
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_8:1.13.0.2
	OPENBSD_2_8_BASE:1.13
	OPENBSD_2_7:1.12.0.2
	OPENBSD_2_7_BASE:1.12
	OPENBSD_2_6:1.11.0.2
	OPENBSD_2_6_BASE:1.11
	OPENBSD_2_5:1.9.0.2
	OPENBSD_2_5_BASE:1.9
	OPENBSD_2_4:1.5.0.2
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.3.0.8
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.6
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.4
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.24
date	2005.11.24.12.08.15;	author pedro;	state dead;
branches;
next	1.23;

1.23
date	2005.04.28.17.32.35;	author biorn;	state Exp;
branches;
next	1.22;

1.22
date	2004.11.24.16.56.38;	author ian;	state Exp;
branches;
next	1.21;

1.21
date	2004.11.24.01.54.28;	author ian;	state Exp;
branches;
next	1.20;

1.20
date	2003.06.03.13.16.08;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2003.06.02.20.06.15;	author millert;	state Exp;
branches;
next	1.18;

1.18
date	2003.02.09.07.26.45;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2002.06.26.21.32.02;	author fgsch;	state Exp;
branches;
next	1.16;

1.16
date	2001.06.27.03.31.45;	author angelos;	state Exp;
branches;
next	1.15;

1.15
date	2001.06.08.13.46.48;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	2000.11.09.17.52.59;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	2000.10.10.23.18.13;	author marc;	state Exp;
branches;
next	1.12;

1.12
date	2000.03.18.22.56.00;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	99.07.21.01.07.54;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	99.05.23.14.11.17;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	99.03.19.03.23.47;	author provos;	state Exp;
branches;
next	1.8;

1.8
date	98.12.21.16.16.48;	author mickey;	state Exp;
branches;
next	1.7;

1.7
date	98.12.15.01.20.35;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	98.11.28.19.56.25;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	98.09.17.04.14.55;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	98.06.15.17.55.43;	author mickey;	state Exp;
branches;
next	1.3;

1.3
date	96.06.23.14.31.22;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.06.20.14.44.37;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.43.39;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.43.39;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.24
log
@Remove kernfs, okay deraadt@@.
@
text
@.\"	$OpenBSD: mount_kernfs.8,v 1.23 2005/04/28 17:32:35 biorn Exp $
.\"	$NetBSD: mount_kernfs.8,v 1.6 1995/03/18 14:57:24 cgd Exp $
.\"
.\" Copyright (c) 1992, 1993, 1994
.\"	The Regents of the University of California.  All rights reserved.
.\" All rights reserved.
.\"
.\" This code is derived from software donated to Berkeley by
.\" Jan-Simon Pendry.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@@(#)mount_kernfs.8	8.2 (Berkeley) 3/27/94
.\"
.Dd March 27, 1994
.Dt MOUNT_KERNFS 8
.Os
.Sh NAME
.Nm mount_kernfs
.Nd mount the /kern file system
.Sh SYNOPSIS
.Nm mount_kernfs
.Op Fl o Ar options
.Ar /kern
.Ar mount_point
.Sh DESCRIPTION
The
.Nm
command attaches an instance of the kernel parameter
namespace to the global filesystem namespace.
The conventional mount point is
.Pa /kern .
This command is invoked by
.Xr mount 8
when using the syntax
.Bd -ragged -offset 4n
.Nm mount Op options
-t kernfs
.Ar /kern
.Ar mount_point
.Ed
.Pp
This command is normally executed by
.Xr mount 8
at boot time.
.Pp
The filesystem includes several regular files which can be read,
some of which can also be written.
The contents of the files are in a machine-independent format,
either a string, or an integer in decimal ASCII.
Where numbers are returned, a trailing newline character is also added.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl o Ar options
Options are specified with a
.Fl o
flag followed by a comma separated string of options.
See the
.Xr mount 8
man page for possible options and their meanings.
.El
.Pp
Statistics reported by
.Xr df 1
on the
.Pa /kern
filesystem will indicate the amount of
unwired/physical memory instead of
.Sq disk space ,
and the number of vnodes
used/allocated instead of
.Sq inodes .
The filesystem's block size is the system's page size.
.Sh FILES
.Bl -tag -width domainname -compact
.It Pa boottime
Time at which the system was last booted (decimal ASCII).
.It Pa byteorder
_BYTE_ORDER for this kernel.
.It Pa copyright
Kernel copyright message.
.It Pa domainname
The domainname, with a trailing newline.
Behaves like a hostname.
.It Pa hostname
The hostname, with a trailing newline.
The hostname can be changed by writing to this file.
A trailing newline will be stripped from the hostname being written.
.It Pa hz
Frequency of the system clock (decimal ASCII).
.It Pa ipsec
The currently configured IPsec Security Associations.
.It Pa loadavg
The 1, 5 and 15 minute load average in kernel fixed-point format.
The final integer is the fix-point scaling factor.
All numbers are in decimal ASCII.
.It Pa machine
Architecture this kernel was compiled for.
.It Pa model
Model of the processor this machine is running on.
.It Pa msgbuf
Kernel message buffer, also read by
.Xr syslogd 8 ,
through the
.Pa log
device, and by
.Xr dmesg 8 .
.It Pa ncpu
Number of CPUs in this machine.
.It Pa osrelease
OS release number.
.It Pa osrev
OS revision number (BSD from
.Aq Pa sys/param.h ) .
.It Pa ostype
OS type for this kernel ("OpenBSD").
.It Pa pagesize
Machine pagesize (decimal ASCII).
.It Pa physmem
Number of pages of physical memory in the machine (decimal ASCII).
.\" .It Pa root
.\" the system root directory.
.\" In a chroot'ed environment,
.\" .Nm
.\" can be used to create a new
.\" .Pa /kern
.\" mount point.
.\" .Pa /kern/root
.\" will then refer to the system global root, not the current process root.
.It Pa posix
_POSIX_VERSION for this kernel.
.It Pa rootdev
Root device.
.It Pa rrootdev
Raw root device.
.It Pa time
Second and microsecond value of the system clock.
Both numbers are in decimal ASCII.
.It Pa usermem
Number of pages of physical memory available for user processes.
.It Pa version
Kernel version string.
The head line for
.Pa /etc/motd
can be generated by running:
.Dq Ic "sed 1q /kern/version" .
.El
.Sh SEE ALSO
.Xr mount 2 ,
.Xr fstab 5 ,
.Xr dmesg 8 ,
.Xr mount 8 ,
.Xr syslogd 8 ,
.Xr umount 8
.Sh HISTORY
The
.Nm
utility first appeared in
.Bx 4.4 .
.Sh CAVEATS
This filesystem may not be NFS-exported.
.Pp
Due to non-atomic operations and the potential for race conditions,
programs should not depend on information obtained from this filesystem.
@


1.23
log
@
indent and sort FILES section

yeah, jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.22 2004/11/24 16:56:38 ian Exp $
@


1.22
log
@typo in previous
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.21 2004/11/24 01:54:28 ian Exp $
d98 1
a98 1
.Bl -tag -width copyright -compact
d105 3
a111 3
.It Pa domainname
The domainname, with a trailing newline.
Behaves like a hostname.
a132 2
.It Pa ostype
OS type for this kernel ("OpenBSD").
d138 2
a141 2
.It Pa posix
_POSIX_VERSION for this kernel.
d153 2
@


1.21
log
@kernfs caveats, ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.20 2003/06/03 13:16:08 jmc Exp $
d186 1
a186 1
Due to non-atomic operations and the potential for race conditions, 
a187 1
program
@


1.20
log
@- section reorder
- some mdoc fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.19 2003/06/02 20:06:15 millert Exp $
d185 4
@


1.19
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.18 2003/02/09 07:26:45 jmc Exp $
d138 2
a139 1
OS revision number (BSD from <sys/param.h>).
@


1.18
log
@typos;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.17 2002/06/26 21:32:02 fgsch Exp $
d19 1
a19 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.17
log
@Missing .Xr's from Margarida Sequeira <niness@@devilness.org>.
Remove unmount(2) per millert suggestion; millert@@ ok.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.16 2001/06/27 03:31:45 angelos Exp $
d75 1
a75 1
The contents of the files is in a machine-independent format,
d92 3
a94 1
on the /kern filesystem will indicate the amount of
d125 1
a125 1
Architecture this kernel compiled for.
d127 1
a127 1
Model of the processor this machine running on.
@


1.16
log
@Consistently use "IPsec" capitalization (jsyn@@nthought.com)
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.15 2001/06/08 13:46:48 aaron Exp $
a173 1
.Xr unmount 2 ,
d177 2
a178 1
.Xr syslogd 8
@


1.15
log
@Fix a typo (perfomance -> performance) and lots of section shuffling;
mpech@@prosoft.org.lv
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.14 2000/11/09 17:52:59 aaron Exp $
d117 1
a117 1
The currently configured IPSec Security Associations.
@


1.14
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.13 2000/10/10 23:18:13 marc Exp $
a178 2
.Sh CAVEATS
This filesystem may not be NFS-exported.
d184 2
@


1.13
log
@mount -t is the preferred way to invoke
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.12 2000/03/18 22:56:00 aaron Exp $
d80 1
a80 1
.Bl -tag -width indent
@


1.12
log
@Remove hard sentence breaks, and some other cleanup along the way.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.11 1999/07/21 01:07:54 deraadt Exp $
d59 10
@


1.11
log
@use .Ar on later .It Fl lines
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.10 1999/05/23 14:11:17 aaron Exp $
d102 2
a103 1
The domainname, with a trailing newline. Behaves like a hostname.
@


1.10
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.9 1999/03/19 03:23:47 provos Exp $
d71 1
a71 1
.It Fl o
@


1.9
log
@talk about /kern/ipsec; Alex Nash <nash@@mcs.net>
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.8 1998/12/21 16:16:48 mickey Exp $
d43 1
a43 1
.Os BSD 4.4
@


1.8
log
@df(struct statfs) free/total decryption by d@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.7 1998/12/15 01:20:35 aaron Exp $
d105 2
@


1.7
log
@always give .Nm macros an argument in SYNOPSIS sections; krw@@tcn.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.6 1998/11/28 19:56:25 aaron Exp $
d79 10
@


1.6
log
@kill redundant .Nm macro arguments; other misc fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.5 1998/09/17 04:14:55 aaron Exp $
d48 1
a48 1
.Nm
@


1.5
log
@sbin/ man page fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.4 1998/06/15 17:55:43 mickey Exp $
d48 1
a48 1
.Nm mount_kernfs
d54 1
a54 1
.Nm mount_kern
d160 1
a160 1
.Nm mount_kernfs
@


1.4
log
@use Bx macro for BSD versions
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.3 1996/06/23 14:31:22 deraadt Exp $
d82 1
a82 1
the time at which the system was last booted (decimal ASCII).
d84 1
a84 1
the _BYTE_ORDER for this kernel.
d86 1
a86 1
kernel copyright message.
d88 1
a88 1
the hostname, with a trailing newline.
d92 1
a92 1
the domainname, with a trailing newline, behaves like a hostname.
d94 1
a94 1
the frequency of the system clock (decimal ASCII).
d96 1
a96 1
the 1, 5 and 15 minute load average in kernel fixed-point format.
d100 1
a100 1
the architecture this kernel compiled for.
d102 1
a102 1
the model of the processor this machine running on.
d104 1
a104 1
the kernel message buffer, also read by
d111 1
a111 1
the number of CPUs in this machine.
d113 1
a113 1
the OS type for this kernel ("OpenBSD").
d115 1
a115 1
the release number of the OS.
d117 1
a117 1
the revision number of the OS (BSD from <sys/param.h>).
d119 1
a119 1
the machine pagesize (decimal ASCII).
d121 1
a121 1
the _POSIX_VERSION for this kernel.
d123 1
a123 1
the number of pages of physical memory in the machine (decimal ASCII).
d134 1
a134 1
the root device.
d136 1
a136 1
the raw root device.
d138 1
a138 1
the second and microsecond value of the system clock.
d141 1
a141 1
the number of pages of physical memory available for user processes.
d143 1
a143 1
the kernel version string.
d147 1
a147 1
.Dq Ic "sed 1q /kern/version"
@


1.3
log
@update rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: mount_kernfs.8,v 1.6 1995/03/18 14:57:24 cgd Exp $
d161 2
a162 1
utility first appeared in 4.4BSD.
@


1.2
log
@update manua page according to the kernel code changes.
@
text
@d1 1
@


1.1
log
@Initial revision
@
text
@d82 2
d90 2
d98 4
d109 8
d119 2
d139 2
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
