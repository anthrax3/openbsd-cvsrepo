head	1.18;
access;
symbols
	OPENBSD_4_3:1.17.0.8
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.17.0.6
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.17.0.4
	OPENBSD_4_1_BASE:1.17
	OPENBSD_4_0:1.17.0.2
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.15.0.8
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.6
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.15.0.4
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.15.0.2
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.12.0.4
	OPENBSD_3_5_BASE:1.12
	OPENBSD_3_4:1.12.0.2
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.11.0.2
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.10.0.4
	OPENBSD_3_2_BASE:1.10
	OPENBSD_3_1:1.10.0.2
	OPENBSD_3_1_BASE:1.10
	OPENBSD_3_0:1.9.0.16
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9:1.9.0.14
	OPENBSD_2_9_BASE:1.9
	OPENBSD_2_8:1.9.0.12
	OPENBSD_2_8_BASE:1.9
	OPENBSD_2_7:1.9.0.10
	OPENBSD_2_7_BASE:1.9
	OPENBSD_2_6:1.9.0.8
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.9.0.6
	OPENBSD_2_5_BASE:1.9
	OPENBSD_2_4:1.9.0.4
	OPENBSD_2_4_BASE:1.9
	OPENBSD_2_3:1.9.0.2
	OPENBSD_2_3_BASE:1.9
	OPENBSD_2_2:1.8.0.2
	OPENBSD_2_2_BASE:1.8
	OPENBSD_2_1:1.5.0.4
	OPENBSD_2_1_BASE:1.5
	OPENBSD_2_0:1.5.0.2
	OPENBSD_2_0_BASE:1.5
	mickey:1.1.1.2
	SGI082896:1.1.1
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.18
date	2008.05.07.11.55.20;	author claudio;	state dead;
branches;
next	1.17;

1.17
date	2006.06.16.15.48.42;	author claudio;	state Exp;
branches;
next	1.16;

1.16
date	2006.05.10.02.36.25;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	2004.04.25.16.28.32;	author itojun;	state Exp;
branches;
next	1.14;

1.14
date	2004.04.25.16.17.04;	author itojun;	state Exp;
branches;
next	1.13;

1.13
date	2004.04.25.15.50.35;	author markus;	state Exp;
branches;
next	1.12;

1.12
date	2003.05.09.00.07.09;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2002.11.20.20.45.07;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2002.02.16.20.25.02;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	97.11.18.21.31.50;	author kstailey;	state Exp;
branches;
next	1.8;

1.8
date	97.09.21.11.38.08;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	97.07.30.23.28.39;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	97.07.30.22.24.39;	author mickey;	state Exp;
branches;
next	1.5;

1.5
date	96.09.06.13.05.51;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	96.09.05.14.31.10;	author mickey;	state Exp;
branches;
next	1.3;

1.3
date	96.06.23.14.32.24;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.05.13.15.59.33;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.43.48;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.43.48;	author deraadt;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	96.09.05.13.58.44;	author mickey;	state Exp;
branches;
next	;


desc
@@


1.18
log
@RIP routed.

You were a nice thing in the 4.2BSD times but now it is time for you to go.
Superseded by the shiny privseped ripd that does not have the evil habit to
use kernel internals in userland.

OK everybody in the onsen 'cause it unbreaks the tree
@
text
@#	$OpenBSD: Makefile,v 1.17 2006/06/16 15:48:42 claudio Exp $

PROG=	routed
SRCS=	if.c input.c main.c output.c parms.c radix.c rdisc.c table.c trace.c
MAN=	routed.8
CFLAGS+=-D'min(a,b)=((a) < (b) ? (a) : (b))' -D'log=syslog'
CFLAGS+=-D'panic(s)={log(LOG_ERR, "%s", s); exit(1);}'
SUBDIR=	rtquery

# Do *NOT* turn this flag on unless you like security holes
#CFLAGS+=-DPERMIT_TRACE

.include <bsd.prog.mk>
@


1.17
log
@Make routed no longer use kernel API prototypes for own functions -- this is
totaly braindead and will break as soon as we change something in radix.h.
Instead pull in the needed defines and prototypes into defs.h.
OK henning@@, hshoexer@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 2006/05/10 02:36:25 deraadt Exp $
@


1.16
log
@() macro params; jan.niemann@@tu-bs.de
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 2004/04/25 16:28:32 itojun Exp $
d6 1
a6 1
CFLAGS+=-D_ROUTED -D'min(a,b)=((a) < (b) ? (a) : (b))' -D'log=syslog'
@


1.15
log
@unifdef -DSMALL_KERNEL
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2004/04/25 16:17:04 itojun Exp $
d6 1
a6 1
CFLAGS+=-D_ROUTED -D'min(a,b)=(a < b ? a : b)' -D'log=syslog'
@


1.14
log
@have a localcopy of radix.c here
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2004/04/25 15:50:35 markus Exp $
a11 1
CFLAGS+=-DSMALL_KERNEL
@


1.13
log
@unbreak tree
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2003/05/09 00:07:09 millert Exp $
a12 2

.PATH: ${.CURDIR}/../../sys/net
@


1.12
log
@No longer need -lcompat
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2002/11/20 20:45:07 deraadt Exp $
d12 1
@


1.11
log
@wow, a format string bug in a Makefile. Not surprised we missed this
one; peterw@@ifost.org.au
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2002/02/16 20:25:02 millert Exp $
a8 2
DPADD=	${LIBCOMPAT}
LDADD=	-lcompat
@


1.10
log
@Instead of #defining random() as arc4random(), just use arc4random() inline
instead of srandom() / random().
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 1997/11/18 21:31:50 kstailey Exp $
d7 1
a7 1
CFLAGS+=-D'panic(s)={log(LOG_ERR,s); exit(1);}'
@


1.9
log
@strong random
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 1997/09/21 11:38:08 deraadt Exp $
a7 1
CFLAGS+=-D'random()=arc4random()'
@


1.8
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 1997/07/30 23:28:39 deraadt Exp $
d8 1
@


1.7
log
@new routed DOES NOT EVEN COMPILE LET ALONE WORK.  TEST YOUR WORK!
Also, put back the damn security check in input.c that has been deleted
TWO SEPERATE TIMES NOW!  I CURSE anyone who deletes that check again.
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile,v 1.5 1996/09/06 13:05:51 deraadt Exp $
#	@@(#)Makefile	8.1 (Berkeley) 6/19/93
@


1.6
log
@update to sgi-02apr97
still have problems w/ defaults from pppd
@
text
@a6 2
SUBDIR=	rtquery
# this is for /sys/net/radix.c only
d9 3
@


1.5
log
@turn logging off again, it is still unsafe
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1996/09/05 14:31:10 mickey Exp $
d7 2
a10 3
SUBDIR=	rtquery
DPADD=	${LIBCOMPAT}
LDADD=	-lcompat
@


1.4
log
@fix import.
mention that routed is from vjs@@sgi.com
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1.1.2 1996/09/05 13:58:44 mickey Exp $
d12 3
@


1.3
log
@update rcsid
@
text
@d1 2
a2 5
#	$OpenBSD: Makefile,v 1.14 1995/06/20 22:25:51 christos Exp $
#	$NetBSD: Makefile,v 1.14 1995/06/20 22:25:51 christos Exp $

# disable an undesirable feature
#CFLAGS=-DTRACING
d5 1
a5 2
SRCS=	af.c if.c input.c main.c output.c startup.c tables.c timer.c \
	trace.c inet.c
d7 7
a13 1
#SUBDIR=	query trace
@


1.2
log
@do not allow network-induced tracing
@
text
@d1 1
a2 1
#	@@(#)Makefile	8.1 (Berkeley) 6/19/93
@


1.1
log
@Initial revision
@
text
@d4 3
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@


1.1.1.2
log
@new routed from SGI.
rip1, rip2, icmp, rdisc.
@
text
@d1 1
a1 1
#	$OpenBSD$
d5 2
a6 1
SRCS=	if.c input.c main.c output.c parms.c radix.c rdisc.c table.c trace.c
d8 1
a8 7
CFLAGS+=-D_ROUTED -D'min(a,b)=(a < b ? a : b)' -D'log=syslog'
CFLAGS+=-D'panic(s)={log(LOG_ERR,s); exit(1);}'
SUBDIR=	rtquery
DPADD=	${LIBCOMPAT}
LDADD=	-lcompat

.PATH: ${.CURDIR}/../../sys/net
@
