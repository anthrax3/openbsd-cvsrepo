head	1.8;
access;
symbols
	OPENBSD_4_3:1.6.0.4
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.6.0.2
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2;
locks; strict;
comment	@.\" @;


1.8
date	2008.06.09.22.23.18;	author mbalmer;	state dead;
branches;
next	1.7;

1.7
date	2008.06.09.22.07.29;	author mbalmer;	state Exp;
branches;
next	1.6;

1.6
date	2007.05.31.19.19.46;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2006.11.29.00.16.35;	author mbalmer;	state Exp;
branches;
next	1.4;

1.4
date	2006.10.27.18.46.52;	author mbalmer;	state Exp;
branches;
next	1.3;

1.3
date	2006.10.27.16.05.27;	author mbalmer;	state Exp;
branches;
next	1.2;

1.2
date	2006.07.09.09.03.19;	author jmc;	state Exp;
branches;
next	1.1;

1.1
date	2006.07.04.05.31.54;	author mbalmer;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Remove nmeaattch(8), which is superseeded by ldattach(8).

ok deraadt
@
text
@.\"	$OpenBSD: nmeaattach.8,v 1.7 2008/06/09 22:07:29 mbalmer Exp $
.\"
.\" Copyright (c) 2006 - 2008 Marc Balmer <mbalmer@@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: June 9 2008 $
.Dt NMEAATTACH 8
.Os
.Sh NAME
.Nm nmeaattach
.Nd attach serial lines as timedelta sensors
.Sh SYNOPSIS
.Nm nmeaattach
.Op Fl dhm
.Op Fl s Ar baudrate
.Op Fl t Ar cond
.Ar device
.Sh DESCRIPTION
.Nm
is used to designate a serial line with a device that outputs NMEA 0183 data as
a source of timedelta sensors.
.Pp
The
.Nm
command is deprecated and might be removed from a later version of
.Ox .
Please use the
.Xr ldattach 8
command instead.
.Pp
The following operands are supported by
.Nm nmeaattach :
.Bl -tag -width Ar
.It Fl d
Do not daemonize.
.It Fl h
Turn on RTS/CTS flow control.
By default, no flow control is done.
.It Fl m
Maintain modem control signals after closing the line.
Specifically, this disables HUPCL.
.It Fl s Ar baudrate
Specifies the speed of the connection.
If not specified, the default of 4800 baud is used.
.It Fl t Ar cond
Chooses the condition which will cause the current system time to be
immediately copied to the terminal timestamp storage for subsequent use by
.Xr nmea 4 .
Only one can be used.
.Pp
.Bl -tag -width DCDXX -offset indent -compact
.It dcd
Copy the timestamp when DCD is asserted.
.It !dcd
Copy the timestamp when DCD is deasserted.
.It cts
Copy the timestamp when CTS is asserted.
.It !cts
Copy the timestamp when CTS is deasserted.
.El
.Pp
If no condition is specified, the
.Xr nmea 4
line discipline will timestamp on receiving the leading
.Sq $
character of each GPRMC sentence.
.Pp
Configuring the NMEA device to issue a PPS signal is device specific and
should be done by device specific applications.
.It Ar device
Specifies the name of the serial line.
.Ar device
should be a string of the form
.Dq cuaXX ,
or
.Dq /dev/cuaXX .
.El
.Pp
Only the superuser may designate NMEA devices.
.Pp
To detach the interface, kill off the
.Nm
process.
.Sh SEE ALSO
.Xr ldattach 8,
.Xr nmea 4 ,
.Xr tty 4
.Sh HISTORY
The
.Nm
command first appeared in
.Ox 4.0 .
@


1.7
log
@nmeaattach(8) is now deprecated.  Use ldattach(8) instead.
@
text
@d1 1
a1 1
.\"	$OpenBSD: nmeaattach.8,v 1.6 2007/05/31 19:19:46 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: May 31 2007 $
@


1.6
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: nmeaattach.8,v 1.5 2006/11/29 00:16:35 mbalmer Exp $
d3 1
a3 1
.\" Copyright (c) 2006 Marc Balmer <mbalmer@@openbsd.org>
d17 1
a17 1
.Dd $Mdocdate$
d33 9
d96 1
@


1.5
log
@Document the new timestamping behaviour here, too, and note that enabling
PPS is a device specific operation that might need special software (e.g.
from our ports tree).

gpsd is such an application and it has just been enabled to nicely play with
the new timestamping.
@
text
@d1 1
a1 1
.\"	$OpenBSD: nmeaattach.8,v 1.4 2006/10/27 18:46:52 mbalmer Exp $
d17 1
a17 1
.Dd June 12, 2006
@


1.4
log
@Sometimes a compromise is needed.

After a discussion with jmc and ckuethe.
@
text
@d1 1
a1 1
.\"	$OpenBSD: nmeaattach.8,v 1.3 2006/10/27 16:05:27 mbalmer Exp $
d48 3
a50 2
Chooses the condition which will cause the current system
time to be immediately copied to the terminal timestamp storage.
d69 3
@


1.3
log
@Fix a small typo in the manpage and while here add some space between
functions.
@
text
@d1 1
a1 1
.\"	$OpenBSD: nmeaattach.8,v 1.2 2006/07/09 09:03:19 jmc Exp $
d31 2
a32 2
is used to designate a serial line with a NMEA 0183 device as a source of
timedelta sensors.
@


1.2
log
@various fixes up;
@
text
@d1 1
a1 1
.\"	$OpenBSD: nmeaattach.8,v 1.1 2006/07/04 05:31:54 mbalmer Exp $
d31 1
a31 1
is used to designate a serial line with an NMEA 0183 device as a source of
@


1.1
log
@nmeaattach - attach serial lines as timedelta sensors.  nmeaattach is used
to designate a serial line with a NMEA 0183 device (i.e. a GPS receiver) as a
source of a timedelta sensor.

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d27 1
d31 1
a31 1
is used to designate a serial line with a NMEA 0183 device as a source of
d51 2
a52 1
.Bl -tag -width DCDXX
d65 3
a67 2
line discipline will timestamp on receiving the leading '$' character
of each GPRMC sentence.
d88 1
a88 1
command appeared in
@

