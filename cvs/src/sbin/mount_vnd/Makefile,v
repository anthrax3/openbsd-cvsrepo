head	1.10;
access;
symbols
	OPENBSD_6_2:1.10.0.2
	OPENBSD_6_2_BASE:1.10
	OPENBSD_6_1:1.9.0.6
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.9.0.2
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.8.0.12
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.14
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.6
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.8.0.10
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.8.0.8
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.8.0.4
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.7.0.10
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.8
	OPENBSD_5_0:1.7.0.6
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.4
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.6.0.6
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.8
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.4
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.2
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.4.0.2
	OPENBSD_4_2_BASE:1.4;
locks; strict;
comment	@# @;


1.10
date	2017.07.09.21.23.19;	author espie;	state Exp;
branches;
next	1.9;
commitid	3qMy1hnEZPwjYEqZ;

1.9
date	2016.03.30.06.38.43;	author jmc;	state Exp;
branches;
next	1.8;
commitid	LN9ijdk9SEnzWAbM;

1.8
date	2012.09.06.19.41.59;	author tedu;	state Exp;
branches;
next	1.7;

1.7
date	2010.04.12.01.44.08;	author tedu;	state Exp;
branches;
next	1.6;

1.6
date	2008.06.14.01.47.27;	author grunk;	state Exp;
branches;
next	1.5;

1.5
date	2007.09.05.07.12.35;	author grunk;	state Exp;
branches;
next	1.4;

1.4
date	2007.05.27.21.56.57;	author bluhm;	state Exp;
branches;
next	1.3;

1.3
date	2007.05.26.21.39.45;	author grunk;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.26.03.37.45;	author grunk;	state Exp;
branches;
next	1.1;

1.1
date	2007.04.14.11.54.00;	author grunk;	state Exp;
branches;
next	;


desc
@@


1.10
log
@remove redundant variable declarations in Makefiles, since those are
the default.

okay millert@@
@
text
@# $OpenBSD: Makefile,v 1.9 2016/03/30 06:38:43 jmc Exp $

PROG=	mount_vnd
LDADD=	-lutil
DPADD=	${LIBUTIL}

CDIAGFLAGS+=	-Wall

LINKS=	${BINDIR}/mount_vnd ${BINDIR}/vnconfig

MAN=	mount_vnd.8

.include <bsd.prog.mk>
@


1.9
log
@for some time now mandoc has not required MLINKS to function
correctly - logically complete that now by removing MLINKS from base;

authors need only to ensure there is an entry in NAME for any function/
util being added. MLINKS will still work, and remain for perl to ease
upgrades;

ok nicm (curses) bcook (ssl)
ok schwarze, who provided a lot of feedback and assistance
ok tb natano jung
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/09/06 19:41:59 tedu Exp $
a3 1
SRCS=	mount_vnd.c
@


1.8
log
@move pkcs5_pbkdf5 function to libutil so everybody can play with it
ok deraadt jsing matthew
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/04/12 01:44:08 tedu Exp $
a10 1
MLINKS=	mount_vnd.8 vnconfig.8
@


1.7
log
@remove pkcs5 implementation here and use the one from bioctl.  no libcrypto
dependency.  and some other tweaks.  from mikeb.  ok djm
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.6 2008/06/14 01:47:27 grunk Exp $

.PATH: ${.CURDIR}/../bioctl
CFLAGS+=-I${.CURDIR}/../bioctl
d4 1
a4 1
SRCS=	mount_vnd.c pbkdf2.c
@


1.6
log
@finish djm@@'s job of making mount_vnd -Wall clean, and mark this in the
Makefile.

ok djm@@, "get the M's out of my tree" deraadt@@
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.5 2007/09/05 07:12:35 grunk Exp $
d7 2
a8 2
SRCS=	mount_vnd.c pkcs5_pbkdf2.c
LDADD=	-lutil -lcrypto
@


1.5
log
@remove compat link to /usr/sbin/vnconfig, the program is in /sbin for one
release now.

ok deraadt@@ todd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/05/27 21:56:57 bluhm Exp $
d7 2
@


1.4
log
@Simplify symlink creation.  ok grunk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/05/26 21:39:45 grunk Exp $
a9 4

# XXX compatibility
afterinstall:
	ln -sf ../../sbin/vnconfig ${DESTDIR}/usr/sbin 
@


1.3
log
@link mount_vnd to the build, and remove usr.sbin/vnconfig, which is now
completely contained at the new place.  provide a legacy link to /usr/sbin
to go away after next release.

ok deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/05/26 03:37:45 grunk Exp $
d13 1
a13 1
	(cd ${DESTDIR}/usr/sbin && ln -sf ../../sbin/vnconfig .)
@


1.2
log
@make mount_vnd a C program by pulling in the vnconfig(8) source and adding
a mount_vnd(8) interface to it.  merge manpages as well.
next goal is to have this here completely replace the usr.sbin/vnconfig
directory.

prodded by many, manpage discussion and help jmc@@, "go ahead" deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2007/04/14 11:54:00 grunk Exp $
d10 4
@


1.1
log
@introduce {fsck,mount}_vnd tools to be able to describe vnd images
in /etc/fstab instead of using some weird homegrown scripts.
No support for boot time mounting yet, so "noauto" is still needed.

original idea from david@@
help and discussion todd@@ bluhm@@ beck@@, manpage help jmc@@
ok simon@@ tedu@@ bluhm@@ todd@@, "looks good" thib@@
@
text
@d1 1
a1 1
# $OpenBSD$
d3 4
a6 1
MAN=mount_vnd.8
d8 4
a11 3
beforeinstall:
	${INSTALL} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
		${.CURDIR}/mount_vnd ${DESTDIR}${BINDIR}/mount_vnd
@

