head	1.43;
access;
symbols
	OPENBSD_6_1_BASE:1.43
	OPENBSD_6_0:1.43.0.4
	OPENBSD_6_0_BASE:1.43
	OPENBSD_5_9:1.43.0.2
	OPENBSD_5_9_BASE:1.43
	OPENBSD_5_8:1.42.0.4
	OPENBSD_5_8_BASE:1.42
	OPENBSD_5_7:1.41.0.2
	OPENBSD_5_7_BASE:1.41
	OPENBSD_5_6:1.41.0.4
	OPENBSD_5_6_BASE:1.41
	OPENBSD_5_5:1.39.0.2
	OPENBSD_5_5_BASE:1.39
	OPENBSD_5_4:1.38.0.10
	OPENBSD_5_4_BASE:1.38
	OPENBSD_5_3:1.38.0.6
	OPENBSD_5_3_BASE:1.38
	OPENBSD_5_2:1.38.0.8
	OPENBSD_5_2_BASE:1.38
	OPENBSD_5_1_BASE:1.38
	OPENBSD_5_1:1.38.0.4
	OPENBSD_5_0:1.38.0.2
	OPENBSD_5_0_BASE:1.38
	OPENBSD_4_9:1.37.0.4
	OPENBSD_4_9_BASE:1.37
	OPENBSD_4_8:1.37.0.2
	OPENBSD_4_8_BASE:1.37
	OPENBSD_4_7:1.36.0.8
	OPENBSD_4_7_BASE:1.36
	OPENBSD_4_6:1.36.0.10
	OPENBSD_4_6_BASE:1.36
	OPENBSD_4_5:1.36.0.6
	OPENBSD_4_5_BASE:1.36
	OPENBSD_4_4:1.36.0.4
	OPENBSD_4_4_BASE:1.36
	OPENBSD_4_3:1.36.0.2
	OPENBSD_4_3_BASE:1.36
	OPENBSD_4_2:1.35.0.2
	OPENBSD_4_2_BASE:1.35
	OPENBSD_4_1:1.34.0.2
	OPENBSD_4_1_BASE:1.34
	OPENBSD_4_0:1.33.0.2
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.30.0.6
	OPENBSD_3_9_BASE:1.30
	OPENBSD_3_8:1.30.0.4
	OPENBSD_3_8_BASE:1.30
	OPENBSD_3_7:1.30.0.2
	OPENBSD_3_7_BASE:1.30
	OPENBSD_3_6:1.27.0.2
	OPENBSD_3_6_BASE:1.27
	OPENBSD_3_5:1.26.0.2
	OPENBSD_3_5_BASE:1.26
	OPENBSD_3_4:1.21.0.2
	OPENBSD_3_4_BASE:1.21
	OPENBSD_3_3:1.20.0.4
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.20.0.2
	OPENBSD_3_2_BASE:1.20
	OPENBSD_3_1:1.18.0.2
	OPENBSD_3_1_BASE:1.18
	OPENBSD_3_0:1.17.0.2
	OPENBSD_3_0_BASE:1.17
	OPENBSD_2_9:1.16.0.2
	OPENBSD_2_9_BASE:1.16
	OPENBSD_2_8:1.12.0.2
	OPENBSD_2_8_BASE:1.12
	OPENBSD_2_7:1.11.0.8
	OPENBSD_2_7_BASE:1.11
	OPENBSD_2_6:1.11.0.6
	OPENBSD_2_6_BASE:1.11
	OPENBSD_2_5:1.11.0.4
	OPENBSD_2_5_BASE:1.11
	OPENBSD_2_4:1.11.0.2
	OPENBSD_2_4_BASE:1.11
	OPENBSD_2_3:1.9.0.4
	OPENBSD_2_3_BASE:1.9
	OPENBSD_2_2:1.9.0.2
	OPENBSD_2_2_BASE:1.9
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.43
date	2015.10.05.03.13.25;	author krw;	state Exp;
branches;
next	1.42;
commitid	GPKdGOnYvYvFFE1c;

1.42
date	2015.03.14.15.21.53;	author krw;	state Exp;
branches;
next	1.41;
commitid	aPXwn1AfAIMw4FVu;

1.41
date	2014.05.05.17.18.08;	author miod;	state Exp;
branches;
next	1.40;

1.40
date	2014.04.13.15.29.21;	author schwarze;	state Exp;
branches;
next	1.39;

1.39
date	2013.10.31.22.37.17;	author schwarze;	state Exp;
branches;
next	1.38;

1.38
date	2011.06.23.22.46.12;	author schwarze;	state Exp;
branches;
next	1.37;

1.37
date	2010.03.22.15.25.47;	author otto;	state Exp;
branches;
next	1.36;

1.36
date	2007.11.25.15.56.28;	author deraadt;	state Exp;
branches;
next	1.35;

1.35
date	2007.08.01.21.34.01;	author deraadt;	state Exp;
branches;
next	1.34;

1.34
date	2006.10.15.02.41.15;	author drahn;	state Exp;
branches;
next	1.33;

1.33
date	2006.07.09.21.02.38;	author miod;	state Exp;
branches;
next	1.32;

1.32
date	2006.06.06.00.01.49;	author drahn;	state Exp;
branches;
next	1.31;

1.31
date	2006.04.26.17.10.43;	author deraadt;	state Exp;
branches;
next	1.30;

1.30
date	2005.02.16.20.39.38;	author millert;	state Exp;
branches;
next	1.29;

1.29
date	2005.01.13.19.32.01;	author deraadt;	state Exp;
branches;
next	1.28;

1.28
date	2004.11.06.18.57.59;	author otto;	state Exp;
branches;
next	1.27;

1.27
date	2004.05.03.15.18.19;	author drahn;	state Exp;
branches;
next	1.26;

1.26
date	2004.02.25.05.09.12;	author deraadt;	state Exp;
branches;
next	1.25;

1.25
date	2004.01.29.08.48.45;	author mickey;	state Exp;
branches;
next	1.24;

1.24
date	2004.01.29.03.42.19;	author deraadt;	state Exp;
branches;
next	1.23;

1.23
date	2004.01.28.17.45.22;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2003.10.31.04.05.29;	author drahn;	state Exp;
branches;
next	1.21;

1.21
date	2003.06.03.01.13.19;	author weingart;	state Exp;
branches;
next	1.20;

1.20
date	2002.06.26.18.34.26;	author wcobb;	state Exp;
branches;
next	1.19;

1.19
date	2002.06.09.08.13.05;	author todd;	state Exp;
branches;
next	1.18;

1.18
date	2002.03.31.20.47.16;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2001.09.01.16.21.16;	author drahn;	state Exp;
branches;
next	1.16;

1.16
date	2001.04.05.17.03.37;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	2001.02.05.10.14.48;	author art;	state Exp;
branches;
next	1.14;

1.14
date	2001.01.18.15.07.24;	author art;	state Exp;
branches;
next	1.13;

1.13
date	2001.01.17.04.53.33;	author d;	state Exp;
branches;
next	1.12;

1.12
date	2000.05.18.13.49.51;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	98.05.16.17.33.29;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	98.04.25.07.04.44;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	97.10.16.10.54.28;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	97.10.16.10.42.44;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	97.10.16.10.35.05;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	97.10.16.01.47.07;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	97.10.04.00.15.48;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	97.09.29.22.58.13;	author weingart;	state Exp;
branches;
next	1.3;

1.3
date	97.09.21.11.36.28;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.06.17.08.27.26;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.43.31;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.43.31;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.43
log
@Oops. Missed file in fdisk commit.
@
text
@#
#	$OpenBSD: Makefile,v 1.42 2015/03/14 15:21:53 krw Exp $
#
#
# Copyright (c) 1997 Tobias Weingartner
#
# Permission to use, copy, modify, and distribute this software for any
# purpose with or without fee is hereby granted, provided that the above
# copyright notice and this permission notice appear in all copies.
#
# THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.

PROG=	fdisk
SRCS=	fdisk.c user.c misc.c disk.c mbr.c part.c cmd.c manual.c gpt.c
DPADD=	${LIBUTIL}
LDADD=	-lutil
CLEANFILES += fdisk.cat8 manual.c

.include <bsd.own.mk>

.ifdef NOMAN
manual.c:
	(echo 'const unsigned char manpage[] = {'; \
	echo 'no manual' | gzip -9c | hexdump -ve '"0x" 1/1 "%02x,"'; \
	echo '};'; echo 'const int manpage_sz = sizeof(manpage);') > manual.c
.else
fdisk.cat8:	fdisk.8
	mandoc -Tascii ${.ALLSRC} > ${.TARGET}

manual.c:	fdisk.cat8
	(echo 'const unsigned char manpage[] = {'; \
	cat fdisk.cat8 | gzip -9c | hexdump -ve '"0x" 1/1 "%02x,"'; \
	echo '};'; echo 'const int manpage_sz = sizeof(manpage);') > manual.c
.endif

MAN=	fdisk.8

.if ${MACHINE} == "amd64" || ${MACHINE} == "i386" || \
    ${MACHINE} == "landisk" || ${MACHINE} == "loongson" || \
    ${MACHINE} == "macppc" || ${MACHINE} == "socppc"
CFLAGS += -DHAS_MBR
.endif

# XXX gross
.if ${MACHINE_ARCH} == "sh"
CFLAGS += -fno-builtin-memcpy
.endif

.include <bsd.prog.mk>
@


1.42
log
@Switch all the license blocks to the standard OpenBSD/ISC license.

With the permission of Toby.

ok deraadt@@
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.41 2014/05/05 17:18:08 miod Exp $
d20 1
a20 1
SRCS=	fdisk.c user.c misc.c disk.c mbr.c part.c cmd.c manual.c
@


1.41
log
@Ugly workaround for an overoptimistic alignment expectation of dos_partition
fields, found the hard way on landisk, to allow the tree to build until a
proper fix is devised.

ok deraadt@@
@
text
@d2 2
a3 1
#	$OpenBSD: Makefile,v 1.40 2014/04/13 15:29:21 schwarze Exp $
a5 10
# All rights reserved.
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions
# are met:
# 1. Redistributions of source code must retain the above copyright
#    notice, this list of conditions and the following disclaimer.
# 2. Redistributions in binary form must reproduce the above copyright
#    notice, this list of conditions and the following disclaimer in the
#    documentation and/or other materials provided with the distribution.
d7 3
a9 10
# THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
# IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
# OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
# IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
# INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
# NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
# DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
# THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
# (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
# THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
d11 7
@


1.40
log
@At some point, we are going to switch the mandoc(1) default
from -Tascii to -Tlocale, even though not quite yet because
there are more important things to do first.
But let's already make -Tascii explicit in the build system
right now, it is safer anyway.
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.39 2013/10/31 22:37:17 schwarze Exp $
d57 5
@


1.39
log
@List all generated files in CLEANFILES.
Issue mentioned by fgs@@ on ICB.
ok fgs@@ bluhm@@ krw@@
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.38 2011/06/23 22:46:12 schwarze Exp $
d43 1
a43 1
	mandoc ${.ALLSRC} > ${.TARGET}
@


1.38
log
@switch to installing source manuals (base part)
discussed with lots of people, tested by naddy@@,
"move fast" deraadt@@
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.37 2010/03/22 15:25:47 otto Exp $
d32 1
a32 1
CLEANFILES+=manual.c
@


1.37
log
@introduce HAS_MBR and let make define it for the right machines;
requested by miod@@; ok miod@@ krw@@
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.36 2007/11/25 15:56:28 deraadt Exp $
d42 3
@


1.36
log
@Build fdisk(8) on all architectures, since it is minimally useful to view
the MBR... and install the man page in the MI location.
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.35 2007/08/01 21:34:01 deraadt Exp $
d49 6
@


1.35
log
@cats went away
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.34 2006/10/15 02:41:15 drahn Exp $
a27 4
.if (${MACHINE} == "alpha") || (${MACHINE} == "amd64") || \
    (${MACHINE} == "armish") || (${MACHINE} == "i386") || \
    (${MACHINE} == "landisk") || (${MACHINE} == "macppc") || \
    (${MACHINE} == "zaurus")
a47 4
.else
NOPROG=yes
.endif

a48 1
MANSUBDIR=alpha amd64 armish i386 landisk macppc zaurus
@


1.34
log
@build fdisk on landisk
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.33 2006/07/09 21:02:38 miod Exp $
d29 3
a31 3
    (${MACHINE} == "armish") || (${MACHINE} == "cats") || \
    (${MACHINE} == "i386") || (${MACHINE} == "landisk") || \
    (${MACHINE} == "macppc") || (${MACHINE} == "zaurus")
d57 1
a57 1
MANSUBDIR=alpha amd64 armish cats i386 landisk macppc zaurus
@


1.33
log
@Add armish to MANSUBDIR
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.32 2006/06/06 00:01:49 drahn Exp $
d30 2
a31 2
    (${MACHINE} == "i386") || (${MACHINE} == "macppc") || \
    (${MACHINE} == "zaurus")
d57 1
a57 1
MANSUBDIR=alpha amd64 armish cats i386 macppc zaurus
@


1.32
log
@System build pieces for armish arch.
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.31 2006/04/26 17:10:43 deraadt Exp $
d57 1
a57 1
MANSUBDIR=i386 amd64 macppc alpha cats zaurus
@


1.31
log
@man page is gzip'd, should store as unsigned char array.
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.30 2005/02/16 20:39:38 millert Exp $
d28 4
a31 3
.if (${MACHINE} == "i386") || (${MACHINE} == "amd64") || \
    (${MACHINE} == "macppc") || (${MACHINE} == "alpha") || \
    (${MACHINE} == "cats") || (${MACHINE} == "zaurus") 
@


1.30
log
@Prevent gzip from storing mtime and filename in the header so we
get identical binaries.
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.29 2005/01/13 19:32:01 deraadt Exp $
d41 1
a41 1
	(echo 'const char manpage[] = {'; \
d46 1
a46 1
	(echo 'const char manpage[] = {'; \
@


1.29
log
@be aware of zaurus
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.28 2004/11/06 18:57:59 otto Exp $
d47 1
a47 1
	gzip -9c fdisk.cat8 | hexdump -ve '"0x" 1/1 "%02x,"'; \
@


1.28
log
@gzip embedded man pages, and pipe through gunzip when viewing.
ok deraadt@@
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.27 2004/05/03 15:18:19 drahn Exp $
d30 1
a30 1
    (${MACHINE} == "cats")
d56 1
a56 1
MANSUBDIR=i386 amd64 macppc alpha cats
@


1.27
log
@Remove OpenBSD/pegaos, this has been announced before but delayed until
the tree was stable. No point in code supporting a company which screws
its employees being in the OpenBSD tree.
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.25 2004/01/29 08:48:45 mickey Exp $
d41 3
a43 3
	(echo 'char manpage[] = "\\'; \
	echo "no manual\\"; \
	echo '";' ) > manual.c
d46 3
a48 3
	(echo 'char manpage[] = "\\'; \
	sed -e 's/[\\"]/\\&/g' -e 's/$$/\\n\\/' fdisk.cat8; \
	echo '";' ) > manual.c
@


1.26
log
@correct NOMAN= case
@
text
@d29 2
a30 2
    (${MACHINE} == "macppc") || (${MACHINE} == "pegasos") || \
    (${MACHINE} == "alpha") || (${MACHINE} == "cats")
d56 1
a56 1
MANSUBDIR=i386 amd64 macppc pegasos alpha cats
@


1.25
log
@another typo
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.24 2004/01/29 03:42:19 deraadt Exp $
d42 1
a42 1
	echo "no manual"; \
@


1.24
log
@cats will have fdisk
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.23 2004/01/28 17:45:22 deraadt Exp $
d56 1
a56 1
MANSUBDIR=i386 amd64 macppc pegosos alpha cats
@


1.23
log
@Repair build links for pegosos, and also build for amd64
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.22 2003/10/31 04:05:29 drahn Exp $
d28 3
a30 3
.if ${MACHINE} == "i386" || ${MACHINE} == "amd64" || \
    ${MACHINE} == "macppc" || ${MACHINE} == "pegasos" || \
    ${MACHINE} == "alpha"
d56 1
a56 1
MANSUBDIR=i386 amd64 macppc pegosos alpha
@


1.22
log
@These should build on pegasos
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.21.4.1 2003/10/10 17:04:13 drahn Exp $
d28 3
a30 2
.if ${MACHINE} == "i386" || ${MACHINE} == "macppc" || ${MACHINE} == "alpha" \
|| ${MACHINE} == "pegasos"
d56 1
a56 1
MANSUBDIR=i386 macppc alpha
@


1.21
log
@Nuke terms 3 & 4.
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.20 2002/06/26 18:34:26 wcobb Exp $
d28 2
a29 1
.if ${MACHINE} == "i386" || ${MACHINE} == "macppc" || ${MACHINE} == "alpha"
@


1.20
log
@include <bsd.own.mk> before using NOMAN; ok millert@@
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.19 2002/06/09 08:13:05 todd Exp $
a14 5
# 3. All advertising materials mentioning features or use of this software
#    must display the following acknowledgement:
#    This product includes software developed by Tobias Weingartner.
# 4. The name of the author may not be used to endorse or promote products
#    derived from this software without specific prior written permission.
@


1.19
log
@rm trailing whitespace
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.18 2002/03/31 20:47:16 deraadt Exp $
d39 2
@


1.18
log
@remove arc from here
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.17 2001/09/01 16:21:16 drahn Exp $
d34 1
a34 1
PROG=	fdisk 
@


1.17
log
@Changes to build platform specific files properly with the powerpc -> macppc
port rename. This adds support for some of these to mvmeppc when it
becomes MACHINE_ARCH=powerpc, as MACHINE_ARCH is tested in some instances.
ancontrol and wicontrol are MACHINE_ARCH changes.
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.16 2001/04/05 17:03:37 deraadt Exp $
d33 1
a33 1
.if ${MACHINE} == "i386" || ${MACHINE} == "arc" || ${MACHINE} == "macppc" || ${MACHINE} == "alpha"
d57 1
a57 1
MANSUBDIR=i386 arc macppc alpha
@


1.16
log
@permit tree build with NOMAN is set
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.13 2001/01/17 04:53:33 d Exp $
d33 1
a33 1
.if ${MACHINE} == "i386" || ${MACHINE} == "arc" || ${MACHINE} == "powerpc" || ${MACHINE} == "alpha"
d57 1
a57 1
MANSUBDIR=i386 arc powerpc alpha
@


1.15
log
@Remove the NOMAN hack. This is not the way we want to do this.
(and the original problem is gone anyway).
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.14 2001/01/18 15:07:24 art Exp $
d40 6
d50 2
@


1.14
log
@Fix NOMAN build.
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.13 2001/01/17 04:53:33 d Exp $
a39 4
.if defined(NOMAN)
manual.c:
	echo 'char manpage[] = "Sorry. No man page.";' > manual.c
.else
a43 1
.endif
@


1.13
log
@don't nroff twice, and escape protect possible bad chars
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.12 2000/05/18 13:49:51 espie Exp $
d40 4
d48 1
@


1.12
log
@Prepare to recurse down those directories for all arches, to grab manpages.
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.11 1998/05/16 17:33:29 deraadt Exp $
d40 1
a40 1
manual.c:	fdisk.8
d42 1
a42 1
	nroff -mandoc ${.CURDIR}/fdisk.8 | sed -e 's/$$/\\n\\/'; \
@


1.11
log
@oops; d
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.10 1998/04/25 07:04:44 deraadt Exp $
d33 1
d38 1
a38 1
MAN=	fdisk.8
a39 1
CLEANFILES+=manual.c
d44 6
@


1.10
log
@build if NOMAN= is globally set; problem spotted by rahnds
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.9 1997/10/16 10:54:28 deraadt Exp $
d40 1
a40 1
manual.c:	fdisk.cat8
@


1.9
log
@ensure man pages exist first
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.8 1997/10/16 10:42:44 deraadt Exp $
d42 1
a42 1
	sed -e 's/$$/\\n\\/' ${.OBJDIR}/fdisk.cat8; \
@


1.8
log
@CLEANFILES+=manual.c
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.7 1997/10/16 10:35:05 deraadt Exp $
d40 1
a40 1
manual.c:	${.OBJDIR}/fdisk.cat8
@


1.7
log
@new command: manual
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.6 1997/10/16 01:47:07 deraadt Exp $
d39 1
@


1.6
log
@a bunch of improvements by weingart & I
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.5 1997/10/04 00:15:48 deraadt Exp $
d34 1
a34 1
SRCS=	fdisk.c user.c misc.c disk.c mbr.c part.c cmd.c
d38 5
@


1.5
log
@support CPU_BIOSDEV on i386
@
text
@d2 1
a2 1
#	$OpenBSD: Makefile,v 1.4 1997/09/29 22:58:13 weingart Exp $
a37 4

.if ${MACHINE} == "i386"
COPTS += -DCPU_BIOSDEV
.endif
@


1.4
log
@New fdisk code with interactive (command line type)
editing code.  Rewrite from the ground up, save about
20 lines of code.  Seems to create valid partition
tables on i386 and alphas.
@
text
@d2 1
a2 1
#	$OpenBSD$
d38 4
@


1.3
log
@$OpenBSD$
@
text
@d1 31
a31 1
#	$OpenBSD: Makefile,v 1.2 1996/06/17 08:27:26 downsj Exp $
d34 1
a34 1
SRCS=	fdisk.c
@


1.2
log
@Switched to generic opendev(3)
@
text
@d1 1
a1 2
#	$OpenBSD$
#	$NetBSD: Makefile,v 1.4 1995/03/18 14:55:33 cgd Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
d6 2
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
