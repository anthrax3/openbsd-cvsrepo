head	1.24;
access;
symbols
	OPENBSD_6_0:1.24.0.4
	OPENBSD_6_0_BASE:1.24
	OPENBSD_5_9:1.24.0.2
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.23.0.12
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.23.0.4
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.23.0.8
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.6
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.22.0.24
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.22.0.22
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.22
	OPENBSD_5_1:1.22.0.20
	OPENBSD_5_0:1.22.0.18
	OPENBSD_5_0_BASE:1.22
	OPENBSD_4_9:1.22.0.16
	OPENBSD_4_9_BASE:1.22
	OPENBSD_4_8:1.22.0.14
	OPENBSD_4_8_BASE:1.22
	OPENBSD_4_7:1.22.0.10
	OPENBSD_4_7_BASE:1.22
	OPENBSD_4_6:1.22.0.12
	OPENBSD_4_6_BASE:1.22
	OPENBSD_4_5:1.22.0.8
	OPENBSD_4_5_BASE:1.22
	OPENBSD_4_4:1.22.0.6
	OPENBSD_4_4_BASE:1.22
	OPENBSD_4_3:1.22.0.4
	OPENBSD_4_3_BASE:1.22
	OPENBSD_4_2:1.22.0.2
	OPENBSD_4_2_BASE:1.22
	OPENBSD_4_1:1.20.0.14
	OPENBSD_4_1_BASE:1.20
	OPENBSD_4_0:1.20.0.12
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.20.0.10
	OPENBSD_3_9_BASE:1.20
	OPENBSD_3_8:1.20.0.8
	OPENBSD_3_8_BASE:1.20
	OPENBSD_3_7:1.20.0.6
	OPENBSD_3_7_BASE:1.20
	OPENBSD_3_6:1.20.0.4
	OPENBSD_3_6_BASE:1.20
	OPENBSD_3_5:1.20.0.2
	OPENBSD_3_5_BASE:1.20
	OPENBSD_3_4:1.19.0.2
	OPENBSD_3_4_BASE:1.19
	OPENBSD_3_3:1.17.0.2
	OPENBSD_3_3_BASE:1.17
	OPENBSD_3_2:1.14.0.4
	OPENBSD_3_2_BASE:1.14
	OPENBSD_3_1:1.14.0.2
	OPENBSD_3_1_BASE:1.14
	OPENBSD_3_0:1.13.0.2
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9:1.12.0.2
	OPENBSD_2_9_BASE:1.12
	OPENBSD_2_8:1.11.0.4
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.11.0.2
	OPENBSD_2_7_BASE:1.11
	OPENBSD_2_6:1.9.0.2
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.6.0.2
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.2.0.8
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2;
locks; strict;
comment	@# @;


1.24
date	2015.11.23.16.34.00;	author jmc;	state Exp;
branches;
next	1.23;
commitid	EFMFSy0kPDT4m7wb;

1.23
date	2013.07.16.09.45.28;	author schwarze;	state Exp;
branches;
next	1.22;

1.22
date	2007.08.06.19.16.05;	author sobrado;	state Exp;
branches;
next	1.21;

1.21
date	2007.05.31.19.19.46;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2003.11.21.22.57.32;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2003.06.04.16.24.44;	author deraadt;	state Exp;
branches;
next	1.18;

1.18
date	2003.06.03.13.16.08;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2003.03.06.09.47.18;	author hugh;	state Exp;
branches;
next	1.16;

1.16
date	2003.02.07.07.45.13;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2003.01.17.18.27.58;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	2001.12.01.19.05.39;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.02.18.37.34;	author mpech;	state Exp;
branches;
next	1.12;

1.12
date	2000.11.09.17.53.03;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.18.22.56.02;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.05.00.28.56;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	99.10.05.20.53.10;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	99.05.28.23.00.01;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	99.05.23.14.11.19;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	98.12.15.01.20.40;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	98.11.28.19.56.28;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	98.11.11.22.19.59;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	98.09.17.04.14.57;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	96.06.30.04.43.33;	author tholo;	state Exp;
branches;
next	1.1;

1.1
date	96.06.25.04.43.44;	author tholo;	state Exp;
branches;
next	;


desc
@@


1.24
log
@ncheck_ffs may be invoked more simply as ncheck,
so add an entry to NAME and document it;

ok schwarze
@
text
@.\"	$OpenBSD: ncheck_ffs.8,v 1.23 2013/07/16 09:45:28 schwarze Exp $
.\"
.\" Copyright (c) 1995, 1996 SigmaSoft, Th. Lockert <tholo@@sigmasoft.com>
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate: July 16 2013 $
.Dt NCHECK_FFS 8
.Os
.Sh NAME
.Nm ncheck_ffs ,
.Nm ncheck
.Nd generate names from inode-numbers
.Sh SYNOPSIS
.Nm ncheck_ffs
.Op Fl ams
.Op Fl f Ar format
.Op Fl i Ar number ...
.Ar filesystem
.Sh DESCRIPTION
.Nm
generates a list of filenames and inode numbers for the given
file system.
Names of directories are followed by a
.Sq \&. .
.Nm
may be invoked more simply as
.Nm ncheck ,
with no change in behaviour.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a
Print the file names
.Sq \&.
and
.Sq .. ,
which are ordinarily skipped.
.It Fl f Ar format
Use a custom output format when printing inode information.
Characters from
.Ar format
are printed for each inode with the following escape sequences:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It Cm \ea
Print a
.Aq bell
character.
.It Cm \eb
Print a
.Aq backspace
character.
.It Cm \ee
Print an
.Aq escape
character.
.It Cm \ef
Print a
.Aq form-feed
character.
.It Cm \eI
Print the inode number.
.It Cm \en
Print a
.Aq new-line
character.
.It Cm \eP
Print the pathname to the file using the current inode number.
.It Cm \er
Print a
.Aq carriage return
character.
.It Cm \et
Print a
.Aq tab
character.
.It Cm \ev
Print a
.Aq vertical tab
character.
.It Cm \e\'
Print a
.Aq single quote
character.
.It Cm \e\e
Print a backslash character.
.It Cm \e Ns Ar 0
Print a
.Tn NUL
character.
.El
.Pp
All other characters, when prefixed by a backslash, simply print
the character following the backslash.
The device name is not printed on the first line of output when the
.Fl f
option is specified.
.It Fl i Ar number ...
Report only those files whose inode numbers are as listed.
.It Fl m
Give more verbose information on inodes.
.It Fl s
Report only special files and files with set-user-ID or set-group-ID
set.
This is meant to find hidden violations of security policies.
.El
.Pp
The report is not sorted.
.Sh SEE ALSO
.Xr sort 1 ,
.Xr fsck 8 ,
.Xr fsdb 8
.Sh HISTORY
The
.Nm
command was designed to be similar in functionality to the corresponding
command in SunOS 4.1.3.
.Sh AUTHORS
.An Thorsten Lockert Aq Mt tholo@@sigmasoft.com
@


1.23
log
@Add missing .Mt macros for AUTHORS email addresses.
From Jan Stary <hans at stare dot cz>.
ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.22 2007/08/06 19:16:05 sobrado Exp $
d26 1
a26 1
.Dd $Mdocdate: August 6 2007 $
d30 2
a31 1
.Nm ncheck_ffs
d45 4
@


1.22
log
@the ellipsis is not an optional argument; while here, sync the usage
and synopsis of commands

lots of good ideas by jmc@@

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.21 2007/05/31 19:19:46 jmc Exp $
d26 1
a26 1
.Dd $Mdocdate: May 31 2007 $
d134 1
a134 1
.An Thorsten Lockert Aq tholo@@sigmasoft.com
@


1.21
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.20 2003/11/21 22:57:32 jmc Exp $
d26 1
a26 1
.Dd $Mdocdate$
d36 1
a36 1
.Op Fl i Ar number Op Ar ...
d113 1
a113 1
.It Fl i Ar number Op Ar ...
@


1.20
log
@- standard SYNOPSIS
- sort OPTIONS
- s/Dq/Sq when quoting single characters
- sync usage()
- simplify macros
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.19 2003/06/04 16:24:44 deraadt Exp $
d26 1
a26 1
.Dd June 24, 1996
@


1.19
log
@term 3 & 4 from tholo after permission
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.18 2003/06/03 13:16:08 jmc Exp $
d34 1
a36 1
.Op Fl ams
d43 1
a43 1
.Dq \&. .
d47 6
d58 1
a59 8
.It Cm \eI
Print the inode number.
.It Cm \eP
Print the pathname to the file using the current inode number.
.It Cm \ee
Print an
.Aq escape
character.
d68 4
d76 2
d82 2
a114 6
.It Fl a
Print the file names
.Dq \&.
and
.Dq \&.\&. ,
which are ordinarily skipped.
d132 1
a132 2
command in
.Tn "SunOS 4.1.3" .
@


1.18
log
@- section reorder
- some mdoc fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.17 2003/03/06 09:47:18 hugh Exp $
a13 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"      This product includes software developed by SigmaSoft, Th. Lockert
.\" 4. The name of the author may not be used to endorse or promote products
.\"    derived from this software without specific prior written permission
@


1.17
log
@Make fsdb(8) a little easier to find with some cross references.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.16 2003/02/07 07:45:13 jmc Exp $
d63 3
a65 1
Print an <escape> character.
d67 3
a69 1
Print a <bell> character.
d71 3
a73 1
Print a <backspace> character.
d75 3
a77 1
Print a <form-feed> character.
d79 3
a81 1
Print a <new-line> character.
d83 3
a85 1
Print a <carriage return> character.
d87 3
a89 1
Print a <tab> character.
d91 3
a93 1
Print a <vertical tab> character.
d95 3
a97 1
Print a <single quote> character.
d139 1
a139 1
Thorsten Lockert <tholo@@sigmasoft.com>
@


1.16
log
@typos;
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.15 2003/01/17 18:27:58 millert Exp $
d112 2
a113 1
.Xr fsck 8
@


1.15
log
@Add a new option, -f, that allows the user to specify a custom output
format.  Currently only supports printing the inode number and path
(along with any arbitrary text) but other escapes may be added later.
A useful invocation is:
    ncheck -s -f '\P\0' | xargs -0 ls -ldgT

deraadt@@ OK
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.14 2001/12/01 19:05:39 deraadt Exp $
d90 1
a90 1
The device name is not printed on the first line out output when the
d102 1
a102 1
Give more verbose information on inodes
@


1.14
log
@use strtoul() instead of atoi()
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.13 2001/08/02 18:37:34 mpech Exp $
d39 1
d52 41
@


1.13
log
@o) .Sh AUTHOR -> .Sh AUTHORS;
o) .Sh EXAMPLE -> .Sh EXAMPLES;
o) Delete .Sh OPTIONS. Text moved to .Sh DESCRIPTION;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.12 2000/11/09 17:53:03 aaron Exp $
d39 1
a39 1
.Op Fl i Ar numbers
d51 2
a52 2
.It Fl i Ar numbers
Report only those files whose inode numbers follows.
@


1.12
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.11 2000/03/18 22:56:02 aaron Exp $
d77 1
a77 1
.Sh AUTHOR
@


1.11
log
@Remove hard sentence breaks, and some other cleanup along the way.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.10 2000/03/05 00:28:56 aaron Exp $
d50 1
a50 1
.Bl -tag -width indent
@


1.10
log
@Finish standardizing options list introduction.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.9 1999/10/05 20:53:10 aaron Exp $
d45 2
a46 1
file system.  Names of directories are followed by a
@


1.9
log
@The .Bl -tag flag expects a -width argument.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.8 1999/05/28 23:00:01 aaron Exp $
d48 1
a48 5
The report is not sorted.
.Pp
The options to
.Nm
are as follows:
d62 2
a63 1
set.  This is meant to find hidden violations of security policies.
d65 2
@


1.8
log
@more .El madness
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.7 1999/05/23 14:11:19 aaron Exp $
a77 1
.Bl -tag
a78 1
.El
@


1.7
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.6 1998/12/15 01:20:40 aaron Exp $
d67 1
@


1.6
log
@always give .Nm macros an argument in SYNOPSIS sections; krw@@tcn.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.5 1998/11/28 19:56:28 aaron Exp $
d33 1
a33 1
.Os OpenBSD 1.2
@


1.5
log
@kill redundant .Nm macro arguments; other misc fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.4 1998/11/11 22:19:59 aaron Exp $
d38 1
a38 1
.Nm
@


1.4
log
@more `` '' -> .Dq sillyness; remove redundant .Pp macros; other misc fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.3 1998/09/17 04:14:57 aaron Exp $
d38 1
a38 1
.Nm ncheck_ffs
d43 1
a43 1
.Nm ncheck_ffs
d51 1
a51 1
.Nm ncheck_ffs
d72 1
a72 1
.Nm ncheck_ffs
@


1.3
log
@sbin/ man page fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.2 1996/06/30 04:43:33 tholo Exp $
d45 2
a46 1
file system.  Names of directories are followed by a `.'.
d57 5
a61 1
Print the file names `.' and `..', which are ordinarily skipped.
@


1.2
log
@Fix usage and manpage
@
text
@d1 1
a1 1
.\"	$OpenBSD: ncheck_ffs.8,v 1.1 1996/06/25 04:43:44 tholo Exp $
d45 1
a45 1
file system.  Names of directories are followed by a `.'
@


1.1
log
@ncheck(8) implementation
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d40 1
a40 1
.Op Fl asv
d57 2
a61 2
.It Fl v
Give more verbose information on inodes
@
