head	1.16;
access;
symbols
	OPENBSD_6_2:1.16.0.2
	OPENBSD_6_2_BASE:1.16
	OPENBSD_6_1:1.14.0.4
	OPENBSD_6_1_BASE:1.14
	OPENBSD_6_0:1.13.0.14
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.13.0.10
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.12
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.13.0.4
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.8
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.6
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.2
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.12.0.10
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.12.0.8
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.6
	OPENBSD_5_0:1.12.0.4
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.10.0.20
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.16
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.18
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.14
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.10.0.12
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.10.0.10
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.10.0.8
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.10.0.6
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.10.0.4
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.10.0.2
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.9.0.2
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.6.0.22
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.6.0.20
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.6.0.18
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.16
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.14
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.12
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.6.0.10
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.6.0.8
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9:1.6.0.6
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_8:1.6.0.4
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.5.0.8
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.5.0.6
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.5.0.4
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.5.0.2
	OPENBSD_2_3_BASE:1.5
	OPENBSD_2_2:1.4.0.2
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.16
date	2017.07.10.19.52.09;	author espie;	state Exp;
branches;
next	1.15;
commitid	YkMn7ScXB2Q6nWX8;

1.15
date	2017.06.12.18.49.34;	author espie;	state Exp;
branches;
next	1.14;
commitid	uAoIMHRVhjBrJMEB;

1.14
date	2017.01.19.23.18.29;	author phessler;	state Exp;
branches;
next	1.13;
commitid	blN5b1tPhlkhcTy8;

1.13
date	2013.07.19.14.41.46;	author bluhm;	state Exp;
branches;
next	1.12;

1.12
date	2010.09.04.09.39.56;	author blambert;	state Exp;
branches;
next	1.11;

1.11
date	2010.09.04.08.06.09;	author blambert;	state Exp;
branches;
next	1.10;

1.10
date	2005.11.27.18.27.41;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2005.03.30.06.02.52;	author henning;	state Exp;
branches;
next	1.8;

1.8
date	2005.03.30.05.34.30;	author henning;	state Exp;
branches;
next	1.7;

1.7
date	2005.03.30.05.20.18;	author henning;	state Exp;
branches;
next	1.6;

1.6
date	99.12.08.07.55.54;	author itojun;	state Exp;
branches;
next	1.5;

1.5
date	97.12.12.09.04.32;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	97.09.21.11.38.05;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.12.14.17.23.51;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.06.23.14.32.20;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.43.47;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.43.47;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.16
log
@zap depend ghost.
add a comment explaining why keywords.h is in the source tree even though
it's exactly what keywords.sh generates, so that people don't try adding
the generating rule again.

okay millert@@
@
text
@#	$OpenBSD: Makefile,v 1.15 2017/06/12 18:49:34 espie Exp $

PROG=	route
MAN=	route.8
SRCS=	route.c show.c

CFLAGS+=	-Wall -DBFD

# XXX keywords.h is generated from keywords.sh, but see distrib/special
# easier to keep the copy in source than over-reach from there.
#
route.o tags: keywords.h

.include <bsd.prog.mk>
@


1.15
log
@destroy lint remnants.
okay millert@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2017/01/19 23:18:29 phessler Exp $
d9 4
a12 1
route.o .depend tags: keywords.h
@


1.14
log
@add hooks so we can query the current state of a BFD session

bfd session details are visible with "route -n get 192.0.2.1 -bfd"

OK mpi@@ deraadt@@ claudio@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2013/07/19 14:41:46 bluhm Exp $
d9 1
a9 1
route.o .depend lint tags: keywords.h
@


1.13
log
@Compile /sbin/route with -Wall enabled.
OK deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2010/09/04 09:39:56 blambert Exp $
d7 1
a7 1
CFLAGS+=	-Wall
@


1.12
log
@Tried to get too fancy with the Makefile in a way that doesn't build
correctly; changing keywords.sh still requires manual intervention.

pointed out by sthen@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2010/09/04 08:06:09 blambert Exp $
d6 2
@


1.11
log
@sort generated keywords in order to replace linear probe with bsearch(3)
(more people should know about how to properly use libc-provided tools)

make keywords.h depend upon keywords.sh, so that it gets automatically
rebuilt when keywords.sh is edited

ok claudio@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2005/11/27 18:27:41 deraadt Exp $
a7 3

keywords.h: keywords.sh
	/bin/sh ${.CURDIR}/keywords.sh
@


1.10
log
@BINMODE not needed
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2005/03/30 06:02:52 henning Exp $
d8 3
@


1.9
log
@get rid of the twisted keywords.[c|h] interaction and just let keywords.sh
put the defines and the table into the .h
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2005/03/30 05:34:30 henning Exp $
a5 2
BINOWN=	root
BINMODE=555
@


1.8
log
@unconditionalize INET6 support, no binary change
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2005/03/30 05:20:18 henning Exp $
d5 1
a5 1
SRCS=	route.c show.c keywords.c
@


1.7
log
@remove ccitt x.25 traces, ok theo
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 1999/12/08 07:55:54 itojun Exp $
a7 2

CPPFLAGS+=	-DINET6
@


1.6
log
@ipv6 support from KAME (needs no libc upgrade).  regen keywords.[ch].
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1997/12/12 09:04:32 deraadt Exp $
d5 1
a5 1
SRCS=	route.c show.c keywords.c ccitt_addr.c
@


1.5
log
@no longer setuid; netbsd
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1997/09/21 11:38:05 deraadt Exp $
d8 2
@


1.4
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1996/12/14 17:23:51 deraadt Exp $
d7 1
a7 1
BINMODE=4555
@


1.3
log
@merge netbsd changes for show command
yet more buf oflows (provided by netbsd!)
an attempt at 64 bit cleanliness
-Wall
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile,v 1.2 1996/06/23 14:32:20 deraadt Exp $
#	$NetBSD: Makefile,v 1.12 1995/04/19 09:08:28 cgd Exp $
@


1.2
log
@update rcsid
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 1995/04/19 09:08:28 cgd Exp $
d6 1
a6 3
SRCS=	route.c ccitt_addr.c
CFLAGS+=-I.
CLEANFILES+=keywords.h
a8 10

keywords.h: keywords
	sed -e '/^#/d' -e '/^$$/d' ${.CURDIR}/keywords > _keywords.tmp
	tr a-z A-Z < _keywords.tmp | paste _keywords.tmp - | \
	    awk '{ \
		if (NF > 1) \
			printf "#define\tK_%s\t%d\n\t{\"%s\", K_%s},\n", \
			    $$2, NR, $$1, $$2 }' \
	    > ${.TARGET}
	rm -f _keywords.tmp
@


1.1
log
@Initial revision
@
text
@d1 1
a2 1
#	@@(#)Makefile	8.1 (Berkeley) 6/5/93
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
