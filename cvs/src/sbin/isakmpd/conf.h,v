head	1.34;
access;
symbols
	OPENBSD_6_2:1.34.0.48
	OPENBSD_6_2_BASE:1.34
	OPENBSD_6_1:1.34.0.46
	OPENBSD_6_1_BASE:1.34
	OPENBSD_6_0:1.34.0.42
	OPENBSD_6_0_BASE:1.34
	OPENBSD_5_9:1.34.0.38
	OPENBSD_5_9_BASE:1.34
	OPENBSD_5_8:1.34.0.40
	OPENBSD_5_8_BASE:1.34
	OPENBSD_5_7:1.34.0.32
	OPENBSD_5_7_BASE:1.34
	OPENBSD_5_6:1.34.0.36
	OPENBSD_5_6_BASE:1.34
	OPENBSD_5_5:1.34.0.34
	OPENBSD_5_5_BASE:1.34
	OPENBSD_5_4:1.34.0.30
	OPENBSD_5_4_BASE:1.34
	OPENBSD_5_3:1.34.0.28
	OPENBSD_5_3_BASE:1.34
	OPENBSD_5_2:1.34.0.26
	OPENBSD_5_2_BASE:1.34
	OPENBSD_5_1_BASE:1.34
	OPENBSD_5_1:1.34.0.24
	OPENBSD_5_0:1.34.0.22
	OPENBSD_5_0_BASE:1.34
	OPENBSD_4_9:1.34.0.20
	OPENBSD_4_9_BASE:1.34
	OPENBSD_4_8:1.34.0.18
	OPENBSD_4_8_BASE:1.34
	OPENBSD_4_7:1.34.0.14
	OPENBSD_4_7_BASE:1.34
	OPENBSD_4_6:1.34.0.16
	OPENBSD_4_6_BASE:1.34
	OPENBSD_4_5:1.34.0.12
	OPENBSD_4_5_BASE:1.34
	OPENBSD_4_4:1.34.0.10
	OPENBSD_4_4_BASE:1.34
	OPENBSD_4_3:1.34.0.8
	OPENBSD_4_3_BASE:1.34
	OPENBSD_4_2:1.34.0.6
	OPENBSD_4_2_BASE:1.34
	OPENBSD_4_1:1.34.0.4
	OPENBSD_4_1_BASE:1.34
	OPENBSD_4_0:1.34.0.2
	OPENBSD_4_0_BASE:1.34
	OPENBSD_3_9:1.31.0.2
	OPENBSD_3_9_BASE:1.31
	OPENBSD_3_8:1.30.0.6
	OPENBSD_3_8_BASE:1.30
	OPENBSD_3_7:1.30.0.4
	OPENBSD_3_7_BASE:1.30
	OPENBSD_3_6:1.30.0.2
	OPENBSD_3_6_BASE:1.30
	OPENBSD_3_5:1.25.0.2
	OPENBSD_3_5_BASE:1.25
	OPENBSD_3_4:1.24.0.2
	OPENBSD_3_4_BASE:1.24
	OPENBSD_3_3:1.21.0.2
	OPENBSD_3_3_BASE:1.21
	OPENBSD_3_2:1.17.0.2
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.15.0.4
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.15.0.2
	OPENBSD_3_0_BASE:1.15
	OPENBSD_2_9:1.14.0.2
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_8:1.12.0.2
	OPENBSD_2_8_BASE:1.12
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.9.0.2
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.6.0.2
	OPENBSD_2_5_BASE:1.6
	NIKLAS_981114:1.1.1.1
	NIKLAS:1.1.1;
locks; strict;
comment	@ * @;


1.34
date	2006.08.30.16.56.56;	author hshoexer;	state Exp;
branches;
next	1.33;

1.33
date	2006.06.10.21.15.45;	author hshoexer;	state Exp;
branches;
next	1.32;

1.32
date	2006.06.10.21.09.45;	author msf;	state Exp;
branches;
next	1.31;

1.31
date	2005.12.28.10.57.35;	author hshoexer;	state Exp;
branches;
next	1.30;

1.30
date	2004.06.25.20.25.34;	author hshoexer;	state Exp;
branches;
next	1.29;

1.29
date	2004.05.14.08.42.56;	author hshoexer;	state Exp;
branches;
next	1.28;

1.28
date	2004.04.23.14.15.55;	author ho;	state Exp;
branches;
next	1.27;

1.27
date	2004.04.15.18.39.25;	author deraadt;	state Exp;
branches;
next	1.26;

1.26
date	2004.04.07.22.45.49;	author ho;	state Exp;
branches;
next	1.25;

1.25
date	2004.03.19.14.04.43;	author hshoexer;	state Exp;
branches;
next	1.24;

1.24
date	2003.06.03.14.28.16;	author ho;	state Exp;
branches;
next	1.23;

1.23
date	2003.05.15.00.28.53;	author ho;	state Exp;
branches;
next	1.22;

1.22
date	2003.05.14.18.11.18;	author ho;	state Exp;
branches;
next	1.21;

1.21
date	2003.02.04.20.02.00;	author markus;	state Exp;
branches;
next	1.20;

1.20
date	2003.01.09.13.11.17;	author ho;	state Exp;
branches;
next	1.19;

1.19
date	2002.11.15.14.58.38;	author ho;	state Exp;
branches;
next	1.18;

1.18
date	2002.11.14.16.13.27;	author ho;	state Exp;
branches;
next	1.17;

1.17
date	2002.08.07.13.19.20;	author ho;	state Exp;
branches;
next	1.16;

1.16
date	2002.08.02.13.10.41;	author ho;	state Exp;
branches;
next	1.15;

1.15
date	2001.06.29.19.42.16;	author niklas;	state Exp;
branches;
next	1.14;

1.14
date	2001.01.27.12.03.31;	author niklas;	state Exp;
branches;
next	1.13;

1.13
date	2001.01.26.12.12.51;	author niklas;	state Exp;
branches;
next	1.12;

1.12
date	2000.10.07.07.00.06;	author niklas;	state Exp;
branches
	1.12.2.1;
next	1.11;

1.11
date	2000.06.08.20.52.18;	author niklas;	state Exp;
branches;
next	1.10;

1.10
date	2000.05.02.14.37.00;	author niklas;	state Exp;
branches;
next	1.9;

1.9
date	99.08.05.22.41.08;	author niklas;	state Exp;
branches;
next	1.8;

1.8
date	99.07.18.09.33.21;	author niklas;	state Exp;
branches;
next	1.7;

1.7
date	99.04.19.19.54.54;	author niklas;	state Exp;
branches;
next	1.6;

1.6
date	99.03.02.15.35.12;	author niklas;	state Exp;
branches;
next	1.5;

1.5
date	99.02.26.03.34.55;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	98.11.20.07.38.30;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	98.11.17.11.10.08;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	98.11.15.00.43.50;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	98.11.15.00.03.48;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.11.15.00.03.48;	author niklas;	state Exp;
branches;
next	;

1.12.2.1
date	2001.05.08.12.45.22;	author ho;	state Exp;
branches;
next	;


desc
@@


1.34
log
@Make SA deletion on shutdown the default again.  Use -S for failover
situations where you do not want this.

Discussed and agreed on with ho, mcbride, markus, cloder,...  We
will have to teach sasyncd to deal with this.

Testing by msf and hshoexer with help from mtu

ok markus cloder
@
text
@/* $OpenBSD: conf.h,v 1.33 2006/06/10 21:15:45 hshoexer Exp $	 */
/* $EOM: conf.h,v 1.13 2000/09/18 00:01:47 ho Exp $	 */

/*
 * Copyright (c) 1998, 1999, 2001 Niklas Hallqvist.  All rights reserved.
 * Copyright (c) 2000, 2003 Håkan Olsson.  All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
 * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
 * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

/*
 * This code was written under funding by Ericsson Radio Systems.
 */

#ifndef _CONF_H_
#define _CONF_H_

#include <sys/types.h>
#include <sys/queue.h>
#include <sys/socket.h>
#include <stdio.h>

#define ISAKMPD_ROOT			"/etc/isakmpd/"

#define CONFIG_FILE			ISAKMPD_ROOT "isakmpd.conf"

/* Default values for autogenerated part of our configuration.  */
#define CONF_DFLT_TAG_LIFE_MAIN_MODE   "LIFE_MAIN_MODE"
#define CONF_DFLT_TYPE_LIFE_MAIN_MODE  "SECONDS"
#define CONF_DFLT_VAL_LIFE_MAIN_MODE   "3600,60:86400"

#define CONF_DFLT_TAG_LIFE_QUICK_MODE  "LIFE_QUICK_MODE"
#define CONF_DFLT_TYPE_LIFE_QUICK_MODE "SECONDS"
#define CONF_DFLT_VAL_LIFE_QUICK_MODE  "1200,60:86400"

#define CONF_DFLT_VAL_BLF_KEYLEN       "128,96:192"
#define CONF_DFLT_VAL_AES_KEYLEN       "128,128:256"

#define CONF_DFLT_RETRANSMITS          "3"
#define CONF_DFLT_EXCH_MAX_TIME        "120"

#define CONF_DFLT_USE_KEYNOTE          "yes"
#define CONF_DFLT_POLICY_FILE          ISAKMPD_ROOT "isakmpd.policy"

#define CONF_DFLT_X509_CA_DIR          ISAKMPD_ROOT "ca/"
#define CONF_DFLT_X509_CERT_DIR        ISAKMPD_ROOT "certs/"
#define CONF_DFLT_X509_PRIVATE_KEY     ISAKMPD_ROOT "private/local.key"
#define CONF_DFLT_X509_PRIVATE_KEY_DIR ISAKMPD_ROOT "private/"
#define CONF_DFLT_X509_CRL_DIR         ISAKMPD_ROOT "crls/"
#define CONF_DFLT_PUBKEY_DIR           ISAKMPD_ROOT "pubkeys/"
#define CONF_DFLT_KEYNOTE_CRED_DIR     ISAKMPD_ROOT "keynote/"

#define CONF_DFLT_DELETE_SAS		"yes"

#define CONF_DFLT_TAG_PHASE1_CONFIG    "Default-phase-1-configuration"
#define CONF_DFLT_PHASE1_EXCH_TYPE     "ID_PROT"
#define CONF_DFLT_PHASE1_TRANSFORMS    "3DES-SHA-RSA_SIG"

struct conf_list_node {
	TAILQ_ENTRY(conf_list_node) link;
	char	*field;
};

struct conf_list {
	size_t	cnt;
	TAILQ_HEAD(conf_list_fields_head, conf_list_node) fields;
};

extern char    *conf_path;

extern int      conf_begin(void);
extern int      conf_end(int, int);
extern void     conf_free_list(struct conf_list *);
extern struct sockaddr *conf_get_address(char *, char *);
extern struct conf_list *conf_get_list(char *, char *);
extern struct conf_list *conf_get_tag_list(char *);
extern int      conf_get_num(char *, char *, int);
extern char    *conf_get_str(char *, char *);
extern void     conf_init(void);
extern int      conf_match_num(char *, char *, int);
extern void     conf_reinit(void);
extern int      conf_remove(int, char *, char *);
extern int      conf_remove_section(int, char *);
extern int      conf_set(int, char *, char *, char *, int, int);
extern void     conf_report(void);

#endif				/* _CONF_H_ */
@


1.33
log
@Make deletion of SAs on shutdown optional.  The default behaviour
now is to not delete SAs.  Needed for reliable ipsec failover.
Suggested by mtu@@.  Moreover, this ensures that packets do not leak
when isakmpd is shutdown.

ok mcbride@@, testing mtu@@
@
text
@d1 1
a1 1
/* $OpenBSD: conf.h,v 1.32 2006/06/10 21:09:45 msf Exp $	 */
d71 1
a71 1
#define CONF_DFLT_DELETE_SAS		"no"
@


1.32
log
@Allow isakmpd to use a different private rsa key per isakmp ID. Hans wrote this a long time ago, I synced it to -current and tested.

ok hshoexer@@
@
text
@d1 1
a1 1
/* $OpenBSD: conf.h,v 1.31 2005/12/28 10:57:35 hshoexer Exp $	 */
d70 2
@


1.31
log
@remove some unused functions and an unused variable found by lint.

ok markus@@
@
text
@d1 1
a1 1
/* $OpenBSD: conf.h,v 1.30 2004/06/25 20:25:34 hshoexer Exp $	 */
d66 1
@


1.30
log
@Keynote policy checking can now be disabled by "-K" switch and config tag
"Use-Keynote".  Default is to use keynote.

ok henning@@ ho@@
@
text
@d1 1
a1 1
/* $OpenBSD: conf.h,v 1.29 2004/05/14 08:42:56 hshoexer Exp $	 */
a86 1
extern int      conf_decode_base64(u_int8_t *, u_int32_t *, u_char *);
@


1.29
log
@Some more KNF, no binary change.

ok ho@@
@
text
@d1 1
a1 1
/* $OpenBSD: conf.h,v 1.28 2004/04/23 14:15:55 ho Exp $	 */
d60 1
@


1.28
log
@Make sure KEY_LENGTH attribute is present when checking AES proposals,
required when acting as responder to SafeNet peers.
Also make conf_load_defaults() readable again (KNF).
hshoexer@@ ok.
@
text
@d1 1
a1 1
/* $OpenBSD: conf.h,v 1.27 2004/04/15 18:39:25 deraadt Exp $	 */
d75 1
a75 1
	char           *field;
d79 2
a80 2
	size_t          cnt;
	                TAILQ_HEAD(conf_list_fields_head, conf_list_node) fields;
d86 1
a86 1
extern int      conf_decode_base64(u_int8_t * out, u_int32_t * len, u_char * buf);
@


1.27
log
@partial move to KNF.  More to come.  This has happened because there
are a raft of source code auditors who are willing to help improve this
code only if this is done, and hey, isakmpd does need our standard
auditing process.  ok ho hshoexer
@
text
@d1 1
a1 1
/* $OpenBSD: conf.h,v 1.26 2004/04/07 22:45:49 ho Exp $	 */
d55 1
@


1.26
log
@-Wsign-compare nits. hshoexer@@ ok.
@
text
@d1 2
a2 2
/*	$OpenBSD: conf.h,v 1.25 2004/03/19 14:04:43 hshoexer Exp $	*/
/*	$EOM: conf.h,v 1.13 2000/09/18 00:01:47 ho Exp $	*/
d73 2
a74 2
  TAILQ_ENTRY (conf_list_node) link;
  char *field;
d78 2
a79 2
  size_t cnt;
  TAILQ_HEAD (conf_list_fields_head, conf_list_node) fields;
d82 1
a82 1
extern char *conf_path;
d84 16
a99 16
extern int conf_begin (void);
extern int conf_decode_base64 (u_int8_t *out, u_int32_t *len, u_char *buf);
extern int conf_end (int, int);
extern void conf_free_list (struct conf_list *);
extern struct sockaddr *conf_get_address (char *, char *);
extern struct conf_list *conf_get_list (char *, char *);
extern struct conf_list *conf_get_tag_list (char *);
extern int conf_get_num (char *, char *, int);
extern char *conf_get_str (char *, char *);
extern void conf_init (void);
extern int conf_match_num (char *, char *, int);
extern void conf_reinit (void);
extern int conf_remove (int, char *, char *);
extern int conf_remove_section (int, char *);
extern int conf_set (int, char *, char *, char *, int, int);
extern void conf_report (void);
d101 1
a101 1
#endif /* _CONF_H_ */
@


1.25
log
@Add missing bits to make already present privsep code work.  Enable privsep.

ok ho@@ deraadt@@ markus@@
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.24 2003/06/03 14:28:16 ho Exp $	*/
d78 1
a78 1
  int cnt;
@


1.24
log
@Remove clauses 3 and 4. With approval from Niklas Hallqvist and
Niels Provos.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.23 2003/05/15 00:28:53 ho Exp $	*/
d41 1
a41 5
#if !defined (USE_PRIVSEP)
# define ISAKMPD_ROOT "/etc/isakmpd/"
#else
# define ISAKMPD_ROOT ""
#endif
@


1.23
log
@Start of privilege separation for isakmpd.
There are some kinks left, so keep it default disabled for now.
markus@@ says ok to commit.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.22 2003/05/14 18:11:18 ho Exp $	*/
d6 1
a6 1
 * Copyright (c) 2000 Håkan Olsson.  All rights reserved.
a15 5
 * 3. All advertising materials mentioning features or use of this software
 *    must display the following acknowledgement:
 *	This product includes software developed by Ericsson Radio Systems.
 * 4. The name of the author may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
@


1.22
log
@Default public key directory definition sanity.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.21 2003/02/04 20:02:00 markus Exp $	*/
d46 7
a52 1
#define CONFIG_FILE "/etc/isakmpd/isakmpd.conf"
a66 1
#define CONF_DFLT_POLICY_FILE          "/etc/isakmpd/isakmpd.policy"
d68 8
a75 6
#define CONF_DFLT_X509_CA_DIR          "/etc/isakmpd/ca/"
#define CONF_DFLT_X509_CERT_DIR        "/etc/isakmpd/certs/"
#define CONF_DFLT_X509_PRIVATE_KEY     "/etc/isakmpd/private/local.key"
#define CONF_DFLT_X509_CRL_DIR         "/etc/isakmpd/crls/"
#define CONF_DFLT_PUBKEY_DIR           "/etc/isakmpd/pubkeys/"
#define CONF_DFLT_KEYNOTE_CRED_DIR     "/etc/isakmpd/keynote/"
@


1.21
log
@default to 3DES-SHA-RSA_SIG (same as in OpenBSD 3.2); ok ho@@
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.20 2003/01/09 13:11:17 ho Exp $	*/
d67 1
a67 1

@


1.20
log
@Default-Phase-1-Configuration --> Default-phase-1-configuration
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.19 2002/11/15 14:58:38 ho Exp $	*/
d72 1
a72 1
#define CONF_DFLT_PHASE1_TRANSFORMS    "3DES-SHA"
@


1.19
log
@Missing "Configuration" tag in a Phase-1 peer was not handled correctly,
pointed out by Aref Taidi. Replace this with a "Default-Phase-1-Configuration"
that will be used if this tag is missing from the peer. Update manpage
accordingly. niklas@@ ok.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.18 2002/11/14 16:13:27 ho Exp $	*/
d70 1
a70 1
#define CONF_DFLT_TAG_PHASE1_CONFIG    "Default-Phase-1-Configuration"
@


1.18
log
@Better whitespace/newline handling, this should make broken lines and
multiple values parse correctly again, as well as fix PR#2974.
Also fix some int/u_int mismatches, and remove conf_get_line() (obsolete).
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.17 2002/08/07 13:19:20 ho Exp $	*/
d69 5
@


1.17
log
@A rewrite of the CRL support code, also from <Thomas.Walpuski@@gmx.net>.
Some style mods, and checks added for OpenSSL version 0.9.7 or later.
Currently CRLs are not supported for earlier versions.
Manual pages updated.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.16 2002/08/02 13:10:41 ho Exp $	*/
a85 1
extern int conf_get_line (FILE *, char *, u_int32_t);
@


1.16
log
@CRL support for isakmpd. From <Thomas.Walpuski@@gmx.net> with some minor
modifications by me. ok niklas@@.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.15 2001/06/29 19:42:16 niklas Exp $	*/
d66 1
a66 1
#define CONF_DFLT_X509_CRL_FILE        "/etc/isakmpd/crl.pem"
@


1.15
log
@Provide an API to get sockaddrs out of the config db
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.14 2001/01/27 12:03:31 niklas Exp $	*/
d66 1
@


1.14
log
@(c) 2001
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.13 2001/01/26 12:12:51 niklas Exp $	*/
d43 1
d84 1
@


1.13
log
@Pedantic style police
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.12 2000/10/07 07:00:06 niklas Exp $	*/
d5 1
a5 1
 * Copyright (c) 1998, 1999 Niklas Hallqvist.  All rights reserved.
@


1.12
log
@conf.h: Merge with EOM 1.13
gmp_util.c: Merge with EOM 1.7
isakmpd.conf.5: Merge with EOM 1.47

author: ho
(c)-2000
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.11 2000/06/08 20:52:18 niklas Exp $	*/
d47 1
a47 1
/* Default values for autogenerated part of our configuration. */
@


1.12.2.1
log
@Pull in isakmpd from 2.9 to 2.8 branch.
@
text
@d1 1
a1 1
/*	$OpenBSD: conf.h,v 1.14 2001/01/27 12:03:31 niklas Exp $	*/
d5 1
a5 1
 * Copyright (c) 1998, 1999, 2001 Niklas Hallqvist.  All rights reserved.
d47 1
a47 1
/* Default values for autogenerated part of our configuration.  */
@


1.11
log
@Merge with EOM 1.12

author: angelos
Default value for [KeyNote]:Credential-directory.
@
text
@d1 2
a2 2
/*	$OpenBSD: conf.h,v 1.10 2000/05/02 14:37:00 niklas Exp $	*/
/*	$EOM: conf.h,v 1.12 2000/05/18 05:10:35 angelos Exp $	*/
d6 1
@


1.10
log
@conf.h: Merge with EOM 1.11
ui.c: Merge with EOM 1.41

author: niklas
From ho: provide defaults for requested transforms, shortens config files
vastly.
@
text
@d1 2
a2 2
/*	$OpenBSD: conf.h,v 1.9 1999/08/05 22:41:08 niklas Exp $	*/
/*	$EOM: conf.h,v 1.11 2000/05/01 20:57:33 niklas Exp $	*/
d65 1
@


1.9
log
@DESIGN-NOTES: Merge with EOM 1.47
conf.c: Merge with EOM 1.19
conf.h: Merge with EOM 1.10
ui.c: Merge with EOM 1.34

author: niklas
Dynamic updates of the configuration database is now possible, either through
ui, or through the new conf_* API described in DESIGN-NOTES
@
text
@d1 2
a2 2
/*	$OpenBSD: conf.h,v 1.8 1999/07/18 09:33:21 niklas Exp $	*/
/*	$EOM: conf.h,v 1.10 1999/08/05 14:57:59 niklas Exp $	*/
d46 19
d91 2
a92 1
extern int conf_set (int, char *, char *, char *, int);
@


1.8
log
@conf.h: Merge with EOM 1.9
isakmpd.8: Merge with EOM 1.15

author: niklas
Moving /etc/isakmpd.conf to /etc/isakmpd/isakmpd.conf.
@
text
@d1 2
a2 2
/*	$OpenBSD: conf.h,v 1.7 1999/04/19 19:54:54 niklas Exp $	*/
/*	$EOM: conf.h,v 1.9 1999/07/18 09:20:27 niklas Exp $	*/
d58 1
d60 1
d69 4
@


1.7
log
@./app.c: Merge with EOM 1.5
./gmp_util.c: Merge with EOM 1.3
./asn_useful.c: Merge with EOM 1.11
./attribute.c: Merge with EOM 1.9
./constants.c: Merge with EOM 1.7
./doi.h: Merge with EOM 1.25
./doi.c: Merge with EOM 1.4
./field.c: Merge with EOM 1.9
./init.c: Merge with EOM 1.13
./isakmp_doi.c: Merge with EOM 1.35
./prf.c: Merge with EOM 1.6
./util.c: Merge with EOM 1.14
./app.h: Merge with EOM 1.4
./conf.h: Merge with EOM 1.8
./ipsec.h: Merge with EOM 1.34
./ipsec_doi.h: Merge with EOM 1.10
./pkcs.h: Merge with EOM 1.8
./sysdep.h: Merge with EOM 1.15

1999 copyrights
@
text
@d1 2
a2 2
/*	$OpenBSD: conf.h,v 1.6 1999/03/02 15:35:12 niklas Exp $	*/
/*	$EOM: conf.h,v 1.8 1999/04/02 00:57:30 niklas Exp $	*/
d44 1
a44 1
#define CONFIG_FILE "/etc/isakmpd.conf"
@


1.6
log
@conf.c: Merge with EOM 1.15
One include too much

conf.h: Merge with EOM 1.7
Forgotten include file
@
text
@d1 2
a2 2
/*	$OpenBSD: conf.h,v 1.5 1999/02/26 03:34:55 niklas Exp $	*/
/*	$EOM: conf.h,v 1.7 1999/03/02 15:33:19 niklas Exp $	*/
d5 1
a5 1
 * Copyright (c) 1998 Niklas Hallqvist.  All rights reserved.
@


1.5
log
@Merge from the Ericsson repository
| revision 1.6
| date: 1999/02/25 11:09:32;  author: niklas;  state: Exp;  lines: +2 -2
| Make conf_get_num take a default value to give back when tag does not exist
| ----------------------------
@
text
@d1 2
a2 2
/*	$OpenBSD: conf.h,v 1.4 1998/11/20 07:38:30 niklas Exp $	*/
/*	$EOM: conf.h,v 1.6 1999/02/25 11:09:32 niklas Exp $	*/
d40 1
@


1.4
log
@Add iterator for tags in a section.  Add range checking for numbers.
@
text
@d1 2
a2 2
/*	$OpenBSD: conf.h,v 1.3 1998/11/17 11:10:08 niklas Exp $	*/
/*	$EOM: conf.h,v 1.5 1998/11/20 07:19:22 niklas Exp $	*/
d62 1
a62 1
extern int conf_get_num (char *, char *);
@


1.3
log
@Add RCS Ids from the EOM repository
@
text
@d1 2
a2 2
/*	$OpenBSD: conf.h,v 1.2 1998/11/15 00:43:50 niklas Exp $	*/
/*	$EOM: conf.h,v 1.4 1998/08/28 23:04:26 niklas Exp $	*/
d57 1
a57 1
extern void conf_init (void);
d59 1
d61 1
d64 2
a65 2
extern int conf_get_line (FILE *, char *, u_int32_t);
extern int conf_decode_base64 (u_int8_t *out, u_int32_t *len, u_char *buf);
@


1.2
log
@openBSD RCS IDs
@
text
@d1 2
a2 1
/*	$OpenBSD: conf.h,v 1.1.1.1 1998/11/15 00:03:48 niklas Exp $	*/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
/*	$Id: conf.h,v 1.4 1998/08/28 23:04:26 niklas Exp $	*/
@


1.1.1.1
log
@Initial import of isakmpd, an IKE (ISAKMP/Oakley) implementation for the
OpenBSD IPSEC stack by me, Niklas Hallqvist and Niels Provos, funded by
Ericsson Radio Systems.  It is not yet complete or usable in a real scenario
but the missing pieces will soon be there.  The early commit is for people
who wants early access and who are not afraid of looking at source.
isakmpd interops with Cisco, Timestep, SSH & Pluto (Linux FreeS/WAN) so
far, so it is not that incomplete.  It is really mostly configuration that
is lacking.
@
text
@@
