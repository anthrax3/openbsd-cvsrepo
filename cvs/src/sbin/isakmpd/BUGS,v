head	1.15;
access;
symbols
	OPENBSD_6_0:1.15.0.42
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.38
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.15.0.40
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.15.0.32
	OPENBSD_5_7_BASE:1.15
	OPENBSD_5_6:1.15.0.36
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.15.0.34
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.30
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.28
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.26
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.24
	OPENBSD_5_0:1.15.0.22
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.20
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.15.0.18
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.14
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.15.0.16
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.12
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.10
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.8
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.15.0.6
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.15.0.4
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.15.0.2
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.14.0.16
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.14.0.14
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.14.0.12
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.14.0.10
	OPENBSD_3_6_BASE:1.14
	OPENBSD_3_5:1.14.0.8
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.14.0.6
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.14.0.4
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.14.0.2
	OPENBSD_3_2_BASE:1.14
	OPENBSD_3_1:1.13.0.10
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.13.0.8
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9:1.13.0.6
	OPENBSD_2_9_BASE:1.13
	OPENBSD_2_8:1.13.0.4
	OPENBSD_2_8_BASE:1.13
	OPENBSD_2_7:1.13.0.2
	OPENBSD_2_7_BASE:1.13
	OPENBSD_2_6:1.12.0.2
	OPENBSD_2_6_BASE:1.12
	OPENBSD_2_5:1.6.0.2
	OPENBSD_2_5_BASE:1.6
	NIKLAS_981114:1.1.1.1
	NIKLAS:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2006.06.02.19.35.55;	author hshoexer;	state Exp;
branches;
next	1.14;

1.14
date	2002.06.09.08.13.06;	author todd;	state Exp;
branches;
next	1.13;

1.13
date	2000.02.19.19.32.20;	author niklas;	state Exp;
branches;
next	1.12;

1.12
date	99.10.01.14.09.31;	author niklas;	state Exp;
branches;
next	1.11;

1.11
date	99.08.05.22.41.53;	author niklas;	state Exp;
branches;
next	1.10;

1.10
date	99.05.02.19.20.30;	author niklas;	state Exp;
branches;
next	1.9;

1.9
date	99.05.01.00.51.30;	author niklas;	state Exp;
branches;
next	1.8;

1.8
date	99.04.30.11.48.06;	author niklas;	state Exp;
branches;
next	1.7;

1.7
date	99.04.19.19.55.30;	author niklas;	state Exp;
branches;
next	1.6;

1.6
date	99.03.31.20.29.10;	author niklas;	state Exp;
branches;
next	1.5;

1.5
date	99.02.26.03.29.20;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	98.12.21.01.02.21;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	98.11.17.11.10.05;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	98.11.15.00.43.47;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	98.11.15.00.03.47;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.11.15.00.03.47;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.15
log
@Big spelling cleanup, no binary change.  From david@@
@
text
@$OpenBSD: BUGS,v 1.14 2002/06/09 08:13:06 todd Exp $
$EOM: BUGS,v 1.38 2000/02/18 08:47:35 niklas Exp $

Until we have a bug-tracking system setup, we might just add bugs to this
file:
------------------------------------------------------------------------------
* message_drop frees the message, this is sometimes wrong and can cause
  duplicate frees, for example when a proposal does not get chosen. [fixed]

* Notifications should be their own exchanges, otherwise the IV gets
  disturbed. [fixed]

* We need a death timeout on half-ready SAs just like exchanges.  At the
  moment we leak SAs.

* When we establish a phase 2 exchange we seem to get the wrong IV set,
  according to SSH's logs. [fixed]

* If a phase 1 SA negotiation terminates with a cause that is to be sent in
  a NOTIFY to the peer, we get multiple free calls on the cleanup of the
  informational exchange. [fixed]

* IKE mandates that a HASH should be added to informational exchanges in
  phase 2. [fixed]

* Message_send requires an exchange to exist, and potentially it tries to
  encrypt a message multiple times when retransmitting. [fixed]

* Multiple protocol proposals seems to fail. [fixed]

* The initiator fails to match the responders choice of protocol suite with
  the correct one of its own when several are offered. [fixed]

* Duplicate specified sections is not detected. [fixed]

* Quick mode establishments via UI using -P bind-addr gets "Address already in
  use".

* Not chosen proposals should be deleted from the protos list in the sa
  structure. [fixed]

* Setting SPIs generates "Invalid argument" errors due to one tunnel endpoint
  being INADDR_ANY. [fixed]

* ipsec_proto structs are never allocated. [fixed]

* Remove SPIs of unused proposals. [fixed]

* If the first proposal is turned down, the initiator gets confused.

* Renegotiation after a failed phase 1 fails.

* Phase 1 rekey event removal seems to be done twice. [fixed]

* PF_ENCAP expirations does not find the proper phase 2 SA to remove. [fixed]

* ISAKMP SA expirations should have a soft/hard timeout just like IPsec ones.
  The soft one should put a watchdog on the SA, and start a renegotiation as
  soon as something used the SA.  Hard ones should just clean it up, no
  renegotiation at all. [fixed]

* ISAKMP SAs does not get removed after rekeying. [fixed]

* On-demand PF_ENCAP SAs does not get reestablished. [fixed]

* Rekeying is now done automatically on expirations, it should not.  The
  SAs should be brought up on-demand just like the first time.

* Notifications regarding exchange errors seems to not have the right SPI,
  at least not in phase 1, in NO_PROPOSAL_CHOSEN.

* Outgoing informational exchanges when we use INVALID_PAYLOAD_TYPE
  cause a DOI error.

* In Linux select(2) of named pipes seems broken as they will return as
  readable even when nothing is there after one read has succeeded.

* I have seen INITIAL-CONTACT sent on the second Main Mode.

* When ID mismatches occur, coredumps may follow, investigate!

* ESP+AH does not work properly

* Looping QM seen (due to lost sendpackets from other participant?)

* Teardown from UI does not remove exchanges.

* Wrong error message when policy check fails.

* Retransmit of QM (packet 1) after INFO/PAYLOAD_MALFORMED was received.

* SIGSEGV after sa_enter: sa added to sa list, trigged by DELETE notify (Linux)

* Passive connections, undefined local&remote IDs will cause IKE peer IDs
  to be used.

* host route support in KLIPS does not work properly

* When not having compiled in support for a certain crypto algorithm and
  the config file still tells us to propose it, we segfault.
@


1.14
log
@rm trailing whitespace
@
text
@d1 1
a1 1
$OpenBSD: BUGS,v 1.13 2000/02/19 19:32:20 niklas Exp $
d90 1
a90 1
* Restransmit of QM (packet 1) after INFO/PAYLOAD_MALFORMED was received.
@


1.13
log
@Merge with EOM 1.38

author: niklas
A new bug
@
text
@d1 1
a1 1
$OpenBSD: BUGS,v 1.12 1999/10/01 14:09:31 niklas Exp $
d95 1
a95 1
  to be used. 
@


1.12
log
@Merge with EOM 1.37

author: niklas
teardown could do more

author: ho
Even more bugs

author: ho
One more

author: ho
typo

author: ho
More bugs
@
text
@d1 2
a2 2
$OpenBSD: BUGS,v 1.11 1999/08/05 22:41:53 niklas Exp $
$EOM: BUGS,v 1.37 1999/09/30 12:44:40 niklas Exp $
d98 3
@


1.11
log
@TO-DO: Merge with EOM 1.43
BUGS: Merge with EOM 1.32

author: niklas
Up-to-date
@
text
@d1 2
a2 2
$OpenBSD: BUGS,v 1.10 1999/05/02 19:20:30 niklas Exp $
$EOM: BUGS,v 1.32 1999/08/05 14:58:14 niklas Exp $
d81 17
@


1.10
log
@BUGS: Merge with EOM 1.31
doi.h: Merge with EOM 1.27
ike_auth.c: Merge with EOM 1.30
ike_quick_mode.c: Merge with EOM 1.85
ipsec.c: Merge with EOM 1.107
ipsec.h: Merge with EOM 1.36
isakmp_doi.c: Merge with EOM 1.39

author: niklas
Factor out keyed hashing of all payloads with SKEYID_a, and make DOI hooks
for informational exchanges to add such hashing.  Use it from QM and the IKE
authentication module too.  Remove some bogus XXX comments.  Add error
reporting
@
text
@d1 2
a2 2
$OpenBSD: BUGS,v 1.9 1999/05/01 00:51:30 niklas Exp $
$EOM: BUGS,v 1.31 1999/05/02 12:49:00 niklas Exp $
d79 2
@


1.9
log
@Merge with EOM 1.30

author: niklas
INITIAL-CONTACT bug
@
text
@d1 2
a2 2
$OpenBSD: BUGS,v 1.8 1999/04/30 11:48:06 niklas Exp $
$EOM: BUGS,v 1.30 1999/04/30 23:58:16 niklas Exp $
d24 1
a24 1
  phase 2.
@


1.8
log
@BUGS: Merge with EOM 1.29
README: Merge with EOM 1.21
TO-DO: Merge with EOM 1.35

author: niklas
Up-to-date
@
text
@d1 2
a2 2
$OpenBSD: BUGS,v 1.7 1999/04/19 19:55:30 niklas Exp $
$EOM: BUGS,v 1.29 1999/04/30 11:37:41 niklas Exp $
d77 2
@


1.7
log
@./BUGS: Merge with EOM 1.28

Up-to-date

we do not leak SPIs now

New bugs

up-to-date
@
text
@d1 2
a2 2
$OpenBSD: BUGS,v 1.6 1999/03/31 20:29:10 niklas Exp $
$EOM: BUGS,v 1.28 1999/04/17 15:48:24 niklas Exp $
d74 3
@


1.6
log
@Merge with EOM 1.24
Reflect reality
@
text
@d1 2
a2 2
$OpenBSD: BUGS,v 1.5 1999/02/26 03:29:20 niklas Exp $
$EOM: BUGS,v 1.24 1999/03/31 20:24:50 niklas Exp $
d21 1
a21 1
  informational exchange.
d64 1
a64 1
* On-demand PF_ENCAP SAs does not get reestablished.
d69 5
@


1.5
log
@Merge from the Ericsson repository
| revision 1.23
| date: 1999/02/24 15:48:05;  author: niklas;  state: Exp;  lines: +17 -2
| update
| ----------------------------
@
text
@d1 2
a2 2
$OpenBSD: BUGS,v 1.4 1998/12/21 01:02:21 niklas Exp $
$EOM: BUGS,v 1.23 1999/02/24 15:48:05 niklas Exp $
d19 1
a19 1
* If a phase 1 SA negotiation exists with a cause that is to be sent in
d55 1
a55 1
* PF_ENCAP expirations does not find the proper phase 2 SA to remove.
d60 1
a60 1
  renegotiation at all.
d62 1
a62 1
* ISAKMP SAs does not get removed after rekeying.
@


1.4
log
@Last months worth of work on isakmpd, lots done
@
text
@d1 2
a2 2
$OpenBSD: BUGS,v 1.3 1998/11/17 11:10:05 niklas Exp $
$EOM: BUGS,v 1.22 1998/12/17 07:50:50 niklas Exp $
d53 16
a68 1
* Phase 1 rekey event removal seems to be done twice.
@


1.3
log
@Add RCS Ids from the EOM repository
@
text
@d1 2
a2 2
$OpenBSD: BUGS,v 1.2 1998/11/15 00:43:47 niklas Exp $
$EOM: BUGS,v 1.21 1998/10/14 14:09:48 niklas Exp $
d52 2
@


1.2
log
@openBSD RCS IDs
@
text
@d1 2
a2 1
$OpenBSD: BUGS,v 1.1.1.1 1998/11/15 00:03:47 niklas Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$Id: BUGS,v 1.21 1998/10/14 14:09:48 niklas Exp $
@


1.1.1.1
log
@Initial import of isakmpd, an IKE (ISAKMP/Oakley) implementation for the
OpenBSD IPSEC stack by me, Niklas Hallqvist and Niels Provos, funded by
Ericsson Radio Systems.  It is not yet complete or usable in a real scenario
but the missing pieces will soon be there.  The early commit is for people
who wants early access and who are not afraid of looking at source.
isakmpd interops with Cisco, Timestep, SSH & Pluto (Linux FreeS/WAN) so
far, so it is not that incomplete.  It is really mostly configuration that
is lacking.
@
text
@@
