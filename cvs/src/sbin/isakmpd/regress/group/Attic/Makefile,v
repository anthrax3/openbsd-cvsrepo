head	1.9;
access;
symbols
	OPENBSD_3_7:1.8.0.6
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.8.0.4
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.2
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.7.0.12
	OPENBSD_3_4_BASE:1.7
	OPENBSD_3_3:1.7.0.10
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.7.0.8
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.7.0.6
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.7.0.4
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9:1.7.0.2
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_8:1.6.0.4
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.4.0.4
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	NIKLAS_981114:1.1.1.1
	NIKLAS:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2005.04.08.17.21.41;	author cloder;	state dead;
branches;
next	1.8;

1.8
date	2004.02.25.16.01.29;	author hshoexer;	state Exp;
branches;
next	1.7;

1.7
date	2001.01.27.11.24.42;	author niklas;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.07.22.04.24;	author niklas;	state Exp;
branches
	1.6.4.1;
next	1.5;

1.5
date	2000.02.25.17.23.36;	author niklas;	state Exp;
branches;
next	1.4;

1.4
date	99.02.26.03.28.18;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	98.12.21.01.02.33;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	98.11.15.00.44.09;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	98.11.15.00.03.50;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.11.15.00.03.50;	author niklas;	state Exp;
branches;
next	;

1.6.4.1
date	2001.05.08.12.45.27;	author ho;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Moved regression tests to src/regress/sbin/isakmpd where they belong.
@
text
@#	$OpenBSD: Makefile,v 1.8 2004/02/25 16:01:29 hshoexer Exp $
#	$EOM: Makefile,v 1.12 2000/04/07 20:19:43 niklas Exp $

# Test Group:

PROG=		grouptest
SRCS=		math_2n.c math_ec2n.c math_group.c grouptest.c log.c util.c \
		sysdep.c gmp_util.c conf.c
TOPSRC=		${.CURDIR}/../..
TOPOBJ!=	cd ${TOPSRC}; printf "all:\n\t@@pwd\n" |${MAKE} -f-
OS!=		awk '/^OS=/ { print $$2 }' ${.CURDIR}/../../Makefile
FEATURES!=	awk '/^FEATURES=/ { print $$0 }' ${.CURDIR}/../../Makefile | sed 's/FEATURES=.//'
.PATH:		${TOPSRC} ${TOPSRC}/sysdep/${OS} ${TOPOBJ}
CFLAGS+=	-I${TOPSRC} -I${TOPSRC}/sysdep/${OS} -I${TOPOBJ} -Wall \
		-DUSE_EC
NOMAN=
LDADD+=		-lcrypto
DPADD+=		${LIBCRYPTO}
DEBUG=		-g

.if ${FEATURES:Mgmp} == "gmp"
CFLAGS+=	-DMP_FLAVOUR=MP_FLAVOUR_GMP
LDADD+=		-lgmp
DPADD+=		${LIBGMP}
.else
CFLAGS+=	-DMP_FLAVOUR=MP_FLAVOUR_OPENSSL
.endif

.include <bsd.prog.mk>
@


1.8
log
@Add and document configuration options Logverbose and Loglevel.  As log.c now
depends on conf.c and some regression tests use log.c, add conf.c to
Makefiles where necessary.

ok ho@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2001/01/27 11:24:42 niklas Exp $
@


1.7
log
@Cleanup the MP_FLAVOUR situation.  Still needs work.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2000/04/07 22:04:24 niklas Exp $
d8 1
a8 1
		sysdep.c gmp_util.c
@


1.6
log
@regress/dh/Makefile: Merge with EOM 1.10
regress/group/Makefile: Merge with EOM 1.12

author: niklas
Use OpenSSL math

author: ho
Revert to manual OS selection.

author: ho
Another way to do multiple OSes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2000/02/25 17:23:36 niklas Exp $
d12 1
d15 1
a15 1
		-DUSE_EC -DMP_FLAVOUR=MP_FLAVOUR_OPENSSL
d20 8
@


1.6.4.1
log
@Pull in isakmpd from 2.9 to 2.8 branch.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2001/01/27 11:24:42 niklas Exp $
a11 1
FEATURES!=	awk '/^FEATURES=/ { print $$0 }' ${.CURDIR}/../../Makefile | sed 's/FEATURES=.//'
d14 1
a14 1
		-DUSE_EC
a18 8

.if ${FEATURES:Mgmp} == "gmp"
CFLAGS+=	-DMP_FLAVOUR=MP_FLAVOUR_GMP
LDADD+=		-lgmp
DPADD+=		${LIBGMP}
.else
CFLAGS+=	-DMP_FLAVOUR=MP_FLAVOUR_OPENSSL
.endif
@


1.5
log
@regress/crypto/Makefile: Merge with EOM 1.5
regress/dh/Makefile: Merge with EOM 1.7
regress/group/Makefile: Merge with EOM 1.9
regress/prf/Makefile: Merge with EOM 1.4
regress/rsakeygen/Makefile: Merge with EOM 1.8
regress/x509/Makefile: Merge with EOM 1.10
Makefile: Merge with EOM 1.62
attribute.c: Merge with EOM 1.10
sa.c: Merge with EOM 1.99
conf.c: Merge with EOM 1.20
crypto.c: Merge with EOM 1.28
isakmpd.c: Merge with EOM 1.45
connection.c: Merge with EOM 1.19
doi.h: Merge with EOM 1.28
field.c: Merge with EOM 1.11
exchange.c: Merge with EOM 1.116
ike_auth.c: Merge with EOM 1.44
pf_key_v2.c: Merge with EOM 1.37
ike_phase_1.c: Merge with EOM 1.22
ipsec.c: Merge with EOM 1.118
isakmp_doi.c: Merge with EOM 1.40
log.c: Merge with EOM 1.26
log.h: Merge with EOM 1.18
math_group.c: Merge with EOM 1.23
message.c: Merge with EOM 1.144
pf_encap.c: Merge with EOM 1.70
policy.c: Merge with EOM 1.18
timer.c: Merge with EOM 1.13
transport.c: Merge with EOM 1.41
udp.c: Merge with EOM 1.47
ui.c: Merge with EOM 1.37
x509.c: Merge with EOM 1.36

author: niklas
Made debug logging a compile time selectable feature
@
text
@d1 2
a2 2
#	$OpenBSD: Makefile,v 1.4 1999/02/26 03:28:18 niklas Exp $
#	$EOM: Makefile,v 1.9 2000/02/20 19:58:43 niklas Exp $
d14 1
a14 1
		-DUSE_EC
d16 2
a17 2
LDADD+=		-lgmp
DPADD+=		${LIBGMP}
@


1.4
log
@Merge from the Ericsson repository
| revision 1.8
| date: 1999/02/25 15:10:10;  author: niklas;  state: Exp;  lines: +2 -2
| Whoops
| ----------------------------
| revision 1.7
| date: 1999/02/25 15:07:35;  author: niklas;  state: Exp;  lines: +6 -4
| Mesing with the new sysdep paths
| ----------------------------
@
text
@d1 2
a2 2
#	$OpenBSD: Makefile,v 1.3 1998/12/21 01:02:33 niklas Exp $
#	$EOM: Makefile,v 1.8 1999/02/25 15:10:10 niklas Exp $
d7 2
a8 2
SRCS=		math_2n.c math_ec2n.c math_group.c grouptest.c util.c \
		log.c sysdep.c gmp_util.c
d13 2
a14 1
CFLAGS+=	-I${TOPSRC} -I${TOPSRC}/sysdep/${OS} -I${TOPOBJ} -Wall
@


1.3
log
@Last months worth of work on isakmpd, lots done
@
text
@d1 2
a2 2
#	$OpenBSD: Makefile,v 1.2 1998/11/15 00:44:09 niklas Exp $
#	$EOM: Makefile,v 1.6 1998/12/21 00:41:53 niklas Exp $
d9 5
a13 1
.PATH:		${.CURDIR}/../../
a14 2
TOPOBJ!=	cd ${.CURDIR}/../..; printf "all:\n\t@@pwd\n" |${MAKE} -f-
CFLAGS+=	-I${TOPOBJ} -I${.CURDIR}/../../ -Wall
@


1.2
log
@openBSD RCS IDs
@
text
@d1 2
a2 1
#	$OpenBSD$
@


1.1
log
@Initial revision
@
text
@d1 2
@


1.1.1.1
log
@Initial import of isakmpd, an IKE (ISAKMP/Oakley) implementation for the
OpenBSD IPSEC stack by me, Niklas Hallqvist and Niels Provos, funded by
Ericsson Radio Systems.  It is not yet complete or usable in a real scenario
but the missing pieces will soon be there.  The early commit is for people
who wants early access and who are not afraid of looking at source.
isakmpd interops with Cisco, Timestep, SSH & Pluto (Linux FreeS/WAN) so
far, so it is not that incomplete.  It is really mostly configuration that
is lacking.
@
text
@@
