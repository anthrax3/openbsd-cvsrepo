head	1.37;
access;
symbols
	OPENBSD_6_1_BASE:1.37
	OPENBSD_6_0:1.37.0.4
	OPENBSD_6_0_BASE:1.37
	OPENBSD_5_9:1.37.0.2
	OPENBSD_5_9_BASE:1.37
	OPENBSD_5_8:1.36.0.6
	OPENBSD_5_8_BASE:1.36
	OPENBSD_5_7:1.36.0.2
	OPENBSD_5_7_BASE:1.36
	OPENBSD_5_6:1.35.0.8
	OPENBSD_5_6_BASE:1.35
	OPENBSD_5_5:1.35.0.6
	OPENBSD_5_5_BASE:1.35
	OPENBSD_5_4:1.35.0.2
	OPENBSD_5_4_BASE:1.35
	OPENBSD_5_3:1.34.0.2
	OPENBSD_5_3_BASE:1.34
	OPENBSD_5_2:1.32.0.8
	OPENBSD_5_2_BASE:1.32
	OPENBSD_5_1_BASE:1.32
	OPENBSD_5_1:1.32.0.6
	OPENBSD_5_0:1.32.0.4
	OPENBSD_5_0_BASE:1.32
	OPENBSD_4_9:1.32.0.2
	OPENBSD_4_9_BASE:1.32
	OPENBSD_4_8:1.31.0.14
	OPENBSD_4_8_BASE:1.31
	OPENBSD_4_7:1.31.0.10
	OPENBSD_4_7_BASE:1.31
	OPENBSD_4_6:1.31.0.12
	OPENBSD_4_6_BASE:1.31
	OPENBSD_4_5:1.31.0.8
	OPENBSD_4_5_BASE:1.31
	OPENBSD_4_4:1.31.0.6
	OPENBSD_4_4_BASE:1.31
	OPENBSD_4_3:1.31.0.4
	OPENBSD_4_3_BASE:1.31
	OPENBSD_4_2:1.31.0.2
	OPENBSD_4_2_BASE:1.31
	OPENBSD_4_1:1.29.0.2
	OPENBSD_4_1_BASE:1.29
	OPENBSD_4_0:1.28.0.6
	OPENBSD_4_0_BASE:1.28
	OPENBSD_3_9:1.28.0.4
	OPENBSD_3_9_BASE:1.28
	OPENBSD_3_8:1.28.0.2
	OPENBSD_3_8_BASE:1.28
	OPENBSD_3_7:1.27.0.4
	OPENBSD_3_7_BASE:1.27
	OPENBSD_3_6:1.27.0.2
	OPENBSD_3_6_BASE:1.27
	OPENBSD_3_5:1.25.0.4
	OPENBSD_3_5_BASE:1.25
	OPENBSD_3_4:1.25.0.2
	OPENBSD_3_4_BASE:1.25
	OPENBSD_3_3:1.23.0.2
	OPENBSD_3_3_BASE:1.23
	OPENBSD_3_2:1.22.0.2
	OPENBSD_3_2_BASE:1.22
	OPENBSD_3_1:1.20.0.4
	OPENBSD_3_1_BASE:1.20
	OPENBSD_3_0:1.20.0.2
	OPENBSD_3_0_BASE:1.20
	OPENBSD_2_9:1.17.0.4
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.17.0.2
	OPENBSD_2_8_BASE:1.17
	OPENBSD_2_7:1.15.0.2
	OPENBSD_2_7_BASE:1.15
	OPENBSD_2_6:1.11.0.2
	OPENBSD_2_6_BASE:1.11;
locks; strict;
comment	@.\" @;


1.37
date	2015.11.20.16.31.05;	author mmcc;	state Exp;
branches;
next	1.36;
commitid	Y9FfFZPF0ws7sKmv;

1.36
date	2014.12.05.15.06.09;	author schwarze;	state Exp;
branches;
next	1.35;
commitid	1UUhUkIHsMQJLZFi;

1.35
date	2013.07.16.15.21.11;	author schwarze;	state Exp;
branches;
next	1.34;

1.34
date	2012.09.27.11.31.58;	author jmc;	state Exp;
branches;
next	1.33;

1.33
date	2012.08.15.18.56.28;	author jmc;	state Exp;
branches;
next	1.32;

1.32
date	2010.12.22.16.40.38;	author jmc;	state Exp;
branches;
next	1.31;

1.31
date	2007.08.03.08.09.37;	author hshoexer;	state Exp;
branches;
next	1.30;

1.30
date	2007.05.31.19.19.35;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2007.03.03.23.32.47;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2005.05.05.17.07.11;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2004.08.25.21.59.59;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2004.06.24.20.22.41;	author msf;	state Exp;
branches;
next	1.25;

1.25
date	2003.07.08.11.02.23;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2003.04.08.01.21.11;	author david;	state Exp;
branches;
next	1.23;

1.23
date	2003.01.15.15.05.35;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2002.05.01.08.03.30;	author mpech;	state Exp;
branches;
next	1.21;

1.21
date	2002.04.30.16.31.42;	author mpech;	state Exp;
branches;
next	1.20;

1.20
date	2001.09.03.20.14.51;	author deraadt;	state Exp;
branches;
next	1.19;

1.19
date	2001.08.16.17.58.06;	author mpech;	state Exp;
branches;
next	1.18;

1.18
date	2001.08.06.10.42.26;	author mpech;	state Exp;
branches;
next	1.17;

1.17
date	2000.09.17.02.11.12;	author aaron;	state Exp;
branches;
next	1.16;

1.16
date	2000.06.13.19.16.16;	author angelos;	state Exp;
branches;
next	1.15;

1.15
date	2000.04.12.21.48.03;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	99.12.02.01.27.16;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	99.11.03.19.52.22;	author angelos;	state Exp;
branches;
next	1.12;

1.12
date	99.11.03.03.17.58;	author angelos;	state Exp;
branches;
next	1.11;

1.11
date	99.10.11.00.08.28;	author angelos;	state Exp;
branches;
next	1.10;

1.10
date	99.10.01.01.08.30;	author angelos;	state Exp;
branches;
next	1.9;

1.9
date	99.09.23.04.12.01;	author alex;	state Exp;
branches;
next	1.8;

1.8
date	99.07.09.13.35.29;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	99.07.07.14.22.25;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.07.07.10.50.06;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.07.02.21.13.08;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.05.27.01.14.15;	author angelos;	state Exp;
branches;
next	1.3;

1.3
date	99.05.27.01.09.44;	author angelos;	state Exp;
branches;
next	1.2;

1.2
date	99.05.25.21.42.22;	author angelos;	state Exp;
branches;
next	1.1;

1.1
date	99.05.24.01.54.15;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.37
log
@No longer direct bug reports to keynote@@research.att.com - it bounces mail.

"fair enough" jmc@@
@
text
@.\" $OpenBSD: keynote.1,v 1.36 2014/12/05 15:06:09 schwarze Exp $
.\"
.\" The author of this code is Angelos D. Keromytis (angelos@@dsl.cis.upenn.edu)
.\"
.\" This code was written by Angelos D. Keromytis in Philadelphia, PA, USA,
.\" in April-May 1998
.\"
.\" Copyright (C) 1998, 1999 by Angelos D. Keromytis.
.\"
.\" Permission to use, copy, and modify this software with or without fee
.\" is hereby granted, provided that this entire notice is included in
.\" all copies of any software which is or includes a copy or
.\" modification of this software.
.\" You may use this code under the GNU public license if you so wish. Please
.\" contribute changes back to the author.
.\"
.\" THIS SOFTWARE IS BEING PROVIDED "AS IS", WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTY. IN PARTICULAR, THE AUTHORS MAKES NO
.\" REPRESENTATION OR WARRANTY OF ANY KIND CONCERNING THE
.\" MERCHANTABILITY OF THIS SOFTWARE OR ITS FITNESS FOR ANY PARTICULAR
.\" PURPOSE.
.\"
.Dd $Mdocdate: December 5 2014 $
.Dt KEYNOTE 1
.\" .TH keynote 1 local
.Os
.Sh NAME
.Nm keynote
.Nd command line tool for keynote operations
.Sh SYNOPSIS
.Nm keynote
.Cm keygen
.Ar AlgorithmName
.Ar KeySize
.Ar PublicKeyFile
.Ar PrivateKeyFile
.Op Ar print-offset
.Op Ar print-length
.Pp
.Nm
.Cm sign
.Op Fl v
.Ar AlgorithmName
.Ar AssertionFile
.Ar PrivateKeyFile
.Op Ar print-offset
.Op Ar print-length
.Pp
.Nm
.Cm sigver
.Op Ar AssertionFile
.Pp
.Nm
.Cm verify
.Op Fl h
.Op Fl e Ar file
.Op Fl k Ar file
.Op Fl l Ar file
.Fl r Ar retlist
.Op Ar file ...
.Sh DESCRIPTION
For more details on
.Nm KeyNote ,
see RFC 2704.
.Sh KEY GENERATION
.Nm
.Cm keygen
creates a public/private key of size
.Ar KeySize
(in bits), for the algorithm specified by
.Ar AlgorithmName .
Typical keysizes are 512, 1024, or 2048 (bits).
The minimum key size for DSA keys is 512 (bits).
Supported
.Ar AlgorithmName
identifiers are:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It dsa-hex:
.It dsa-base64:
.It rsa-hex:
.It rsa-base64:
.El
.Pp
Notice that the trailing colon is required.
The resulting public key is stored in file
.Ar PublicKeyFile .
Similarly, the resulting private key is stored in file
.Ar PrivateKeyFile .
Either of the filenames can be specified to be
.Sq - ,
in which case the corresponding key(s) will be printed to standard output.
.Pp
The optional parameters
.Ar print-offset
and
.Ar print-length
specify the offset from the beginning of the line where the key
will be printed, and the number of characters of the key that will
be printed per line.
.Ar print-length
includes
.Ar AlgorithmName
for the first line and has to be longer (by at least 2) than
.Ar AlgorithmName .
.Ar print-length
also accounts for the line-continuation character (backslash) at
the end of each line, and the double quotes at the beginning and end
of the key encoding.
Default values are 12 and 50 respectively.
.Sh ASSERTION SIGNING
.Nm
.Cm sign
reads the assertion contained in
.Ar AssertionFile
and generates a signature specified by
.Ar AlgorithmName
using the private key stored in
.Ar PrivateKeyFile .
The private key is expected to be of the form output by
.Nm
.Cm keygen .
The private key algorithm and the
.Ar AlgorithmName
specified as an argument are expected to match.
There is no requirement for the internal or ASCII encodings to match.
Valid
.Ar AlgorithmName
identifiers are:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It sig-dsa-sha1-hex:
.It sig-dsa-sha1-base64:
.It sig-rsa-sha1-hex:
.It sig-rsa-sha1-base64:
.It sig-rsa-md5-hex:
.It sig-rsa-md5-base64:
.It sig-x509-sha1-hex:
.It sig-x509-sha1-base64:
.El
.Pp
Notice that the trailing colon is required.
The resulting signature is printed to standard output.
This can then be added (via cut-and-paste or some script) at the end of the
assertion, in the
.Ar Signature
field.
.Pp
The public key corresponding to the private key in
.Ar PrivateKeyFile
is expected to already be included in the
.Ar Authorizer
field of the assertion, either directly or indirectly (i.e., through
use of a
.Ar Local-Constants
attribute).
Furthermore, the assertion must have a
.Ar Signature
field (even if it is empty), as the signature is computed on
everything between the
.Ar KeyNote-Version
and
.Ar Signature
keywords (inclusive), and the
.Ar AlgorithmName
string.
.Pp
If the
.Fl v
flag is provided,
.Nm
.Cm sign
will also verify the newly-created signature using the
.Ar Authorizer
field key.
.Pp
The optional parameters
.Ar print-offset
and
.Ar print-length
specify the offset from the beginning of the line where the signature
will be printed, and the number of characters of the signature that will
be printed per line.
.Ar print-length
includes
.Ar AlgorithmName
for the first line and has to be longer (by at least 2) than
.Ar AlgorithmName .
.Ar print-length
also accounts for the line-continuation character (backslash) at
the end of each line, and the double quotes at the beginning and end
of the signature encoding.
Default values are 12 and 50 respectively.
.Sh SIGNATURE VERIFICATION
.Nm
.Cm sigver
reads the assertions contained in
.Ar AssertionFile
and verifies the public-key signatures on all of them.
.Sh QUERY TOOL
For each operand that names a
.Ar file ,
.Nm
.Cm verify
reads the file and parses the assertions contained therein (one assertion
per file).
.Pp
The options are as follows:
.Bl -tag -width "retlist"
.It Fl e Ar file
Specify a file containing environment variables and their values,
in the following format:
.Pp
.Dl varname = \&"value\&"
.Pp
.Ar varname
can begin with any letter (upper or lower case) or number,
and can contain underscores.
.Ar value
is a quoted string, and can contain any character, and escape
(backslash) processing is performed, as specified in the KeyNote
RFC.
.It Fl h
Print a usage message and exit.
.It Fl k Ar file
Add a key from
.Ar file
in the action authorizers.
.It Fl l Ar file
Specify a file containing trusted assertions (no signature
verification is performed), and the
.Ar Authorizer
field can contain non-key principals.
There should be at least one assertion with the
.Ar POLICY
keyword in the
.Ar Authorizer
field.
.It Fl r Ar retlist
Specify a comma-separated list of return values, in
increasing order of compliance from left to right.
.El
.Pp
Exactly one
.Fl r
and at least one each of the
.Fl e ,
.Fl l ,
and
.Fl k
flags should be given per invocation.
If no flags are given,
.Nm
.Cm verify
prints the usage message and exits with error code \-1.
.Pp
.Nm
.Cm verify
exits with code \-1 if there was an error, and 0 on success.
.Sh SEE ALSO
.Xr keynote 3 ,
.Xr keynote 4 ,
.Xr keynote 5
.Rs
.%A M. Blaze
.%A J. Feigenbaum
.%A J. Lacy
.%D 1996
.%J IEEE Symposium on Security and Privacy
.%T Decentralized Trust Management
.Re
.Rs
.%A M. Blaze
.%A J. Feigenbaum
.%A M. Strauss
.%D 1998
.%J Financial Crypto Conference
.%T Compliance-Checking in the PolicyMaker Trust Management System
.Re
.Sh STANDARDS
.Rs
.%A M. Blaze
.%A J. Feigenbaum
.%A J. Ioannidis
.%A A. Keromytis
.%D September 1999
.%R RFC 2704
.%T The KeyNote Trust-Management System Version 2
.Re
.Sh AUTHORS
.An Angelos D. Keromytis Aq Mt angelos@@cs.columbia.edu
.Sh WEB PAGE
.Lk http://www1.cs.columbia.edu/~angelos/keynote.html
@


1.36
log
@macro cleanup: remove bogus .Nm and split joint .Fn arguments
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.35 2013/07/16 15:21:11 schwarze Exp $
d23 1
a23 1
.Dd $Mdocdate: July 16 2013 $
a293 4
.Sh BUGS
None that we know of.
If you find any, please report them at
.Aq Mt keynote@@research.att.com .
@


1.35
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.34 2012/09/27 11:31:58 jmc Exp $
d23 1
a23 1
.Dd $Mdocdate: September 27 2012 $
d31 2
a32 1
.Nm keynote keygen
d40 2
a41 1
.Nm keynote sign
d49 2
a50 1
.Nm keynote sigver
d53 2
a54 1
.Nm keynote verify
d66 2
a67 1
.Nm keynote keygen
d112 2
a113 1
.Nm keynote sign
d121 2
a122 1
.Nm keynote keygen .
d171 2
a172 1
.Nm keynote sign
d195 2
a196 1
.Nm keynote sigver
d203 2
a204 1
.Nm keynote verify
d253 2
a254 1
.Nm keynote verify
d257 2
a258 1
.Nm keynote verify
@


1.34
log
@last stage of rfc changes, using consistent Rs/Re blocks, and moving the
references into a STANDARDS section;
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.33 2012/08/15 18:56:28 jmc Exp $
d23 1
a23 1
.Dd $Mdocdate: August 15 2012 $
d279 1
a279 1
.An Angelos D. Keromytis Aq angelos@@cs.columbia.edu
d285 1
a285 1
.Aq keynote@@research.att.com .
@


1.33
log
@use Lk for links;
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.32 2010/12/22 16:40:38 jmc Exp $
d23 1
a23 1
.Dd $Mdocdate: December 22 2010 $
d255 4
a258 4
.%A A. D. Keromytis
.%T "The KeyNote Trust-Management System, Version 2"
.%N RFC 2704
.%D 1999
d263 4
a266 4
.%A J. Lacy
.%T Decentralized Trust Management
.%J IEEE Symposium on Security and Privacy
.%D 1996
d268 1
d272 5
a276 4
.%A M. Strauss
.%T Compliance-Checking in the PolicyMaker Trust Management System
.%J Financial Crypto Conference
.%D 1998
@


1.32
log
@seemingly the "Decentralized Trust Management" paper comes from the
IEEE Symposium on Security and Privacy, not the IEEE Conference on
Privacy and Security;

from Lawrence Teo
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.31 2007/08/03 08:09:37 hshoexer Exp $
d23 1
a23 1
.Dd $Mdocdate: May 31 2007 $
d279 1
a279 1
.Pa http://www1.cs.columbia.edu/~angelos/keynote.html
@


1.31
log
@Update URL of the keynote webpage.  While there, update angelos' email
address.

Noticed by qgiovanni@@gmail.co, thanks!

ok jmc@@ (URL snippet), angelos@@
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.30 2007/05/31 19:19:35 jmc Exp $
d265 1
a265 1
.%J IEEE Conference on Privacy and Security
@


1.30
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.29 2007/03/03 23:32:47 jmc Exp $
d23 1
a23 1
.Dd $Mdocdate$
d277 1
a277 1
.An Angelos D. Keromytis Aq angelos@@dsl.cis.upenn.edu
d279 1
a279 1
.Pa http://www.cis.upenn.edu/~keynote
@


1.29
log
@remove duplicate option; spotted by Igor Sobrado
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.28 2005/05/05 17:07:11 jmc Exp $
d23 1
a23 1
.Dd April 29, 1999
@


1.28
log
@grammar/mdoc fixes;
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.27 2004/08/25 21:59:59 jmc Exp $
a52 2
.Fl l Ar file
.Fl r Ar retlist
d55 1
@


1.27
log
@typos from -f (PR #3907);
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.26 2004/06/24 20:22:41 msf Exp $
d29 1
a29 3
.Nd command line tool for
.Xr keynote 3
operations
d36 3
a38 2
.Op print-offset
.Op print-length
d44 3
a46 2
.Op print-offset
.Op print-length
d48 2
a49 1
.Op AssertionFile
d63 5
a67 4
"keynote keygen" creates a public/private key of size
.Fa KeySize ,
(in bits) for the algorithm specified by
.Fa AlgorithmName .
d71 1
a71 1
.Fa AlgorithmName
d74 5
a78 5
.Bl -tag -width Dq -offset indent -compact
.It Dq dsa-hex:
.It Dq dsa-base64:
.It Dq rsa-hex:
.It Dq rsa-base64:
d83 1
a83 1
.Fa PublicKeyFile .
d85 1
a85 1
.Fa PrivateKeyFile .
d87 1
a87 1
.Dq \- ,
d91 1
a91 1
.Fa print-offset
d93 1
a93 1
.Fa print-length
d97 1
a97 1
.Fa print-length
d99 1
a99 1
.Fa AlgorithmName
d101 2
a102 2
.Fa AlgorithmName .
.Fa print-length
d108 3
a110 2
"keynote sign" reads the assertion contained in
.Fa AssertionFile
d112 1
a112 1
.Fa AlgorithmName
d114 1
a114 1
.Fa PrivateKeyFile .
d116 1
a116 1
.Qq keynote keygen .
d118 1
a118 1
.Fa AlgorithmName
d122 1
a122 1
.Fa AlgorithmName
d125 9
a133 9
.Bl -tag -width Dq -offset indent -compact
.It Dq sig-dsa-sha1-hex:
.It Dq sig-dsa-sha1-base64:
.It Dq sig-rsa-sha1-hex:
.It Dq sig-rsa-sha1-base64:
.It Dq sig-rsa-md5-hex:
.It Dq sig-rsa-md5-base64:
.It Dq sig-x509-sha1-hex:
.It Dq sig-x509-sha1-base64:
d140 1
a140 1
.Fa Signature
d144 1
a144 1
.Fa PrivateKeyFile
d146 1
a146 1
.Fa Authorizer
d149 1
a149 1
.Fa Local-Constants
d152 1
a152 1
.Fa Signature
d155 1
a155 1
.Fa KeyNote-Version
d157 1
a157 1
.Fa Signature
d159 1
a159 1
.Fa AlgorithmName
d165 1
a165 1
.Qq keynote sign
d167 1
a167 1
.Fa Authorizer
d171 1
a171 1
.Fa print-offset
d173 1
a173 1
.Fa print-length
d177 1
a177 1
.Fa print-length
d179 1
a179 1
.Fa AlgorithmName
d181 2
a182 2
.Fa AlgorithmName .
.Fa print-length
d188 1
a188 1
.Qq keynote sigver
d190 1
a190 1
.Fa AssertionFile
d195 1
a195 1
.Qq keynote verify
d199 5
a203 21
Files given with the
.Fl l
flag are assumed to contain trusted assertions (no signature
verification is performed), and the
.Fa Authorizer
field can contain non-key principals.
There should be at least one assertion with the
.Fa POLICY
keyword in the
.Fa Authorizer
field.
.Pp
The
.Fl r
flag is used to provide a comma-separated list of return values, in
increasing order of compliance from left to right.
.Pp
Files given with the
.Fl e
flag are assumed to contain environment variables and their values,
in the format:
d205 1
a205 1
.Dl  varname = \&"value\&"
d207 1
a207 1
.Fa varname
d210 1
a210 1
.Fa value
a213 3
.Pp
The remaining options are:
.Bl -tag -width "-k file"
d218 1
a218 1
.Fa file
d220 13
d237 1
a237 1
and at least one of each
d244 1
a244 1
.Qq keynote verify
d247 1
a247 1
.Qq keynote verify
d284 1
a284 1
.Dl Aq keynote@@research.att.com
@


1.26
log
@Remove unsupported algortihm types from keynote keygen section of the manpage.
ok hshoexer@@ ho@@
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.25 2003/07/08 11:02:23 jmc Exp $
d102 1
a102 1
the end of each line, and the doublequotes at the beginning and end
d181 1
a181 1
the end of each line, and the doublequotes at the beginning and end
@


1.25
log
@- fix some lists/displays
- .Dl for one-line displays
- simplify macros
- .An/.Aq for AUTHORS
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.24 2003/04/08 01:21:11 david Exp $
a76 2
.It Dq x509-hex:
.It Dq x509-base64:
@


1.24
log
@invalid mdoc macros
caused words to disappear from the output
ok jmc@@ a while ago
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.23 2003/01/15 15:05:35 deraadt Exp $
d72 1
a72 1
.Bl -tag -width -offset indent -compact
d124 1
a124 1
.Bl -tag -width indent -compact
d219 2
a220 3
.Bd -literal -offset indent
 varname = "value"
.Ed
d231 1
a231 1
.Bl -tag -width indent
d283 1
a283 2
Angelos D. Keromytis
.Aq angelos@@dsl.cis.upenn.edu
d289 1
a289 3
.Bd -literal -offset indent -compact
keynote@@research.att.com
.Ed
@


1.23
log
@typos; jmc@@prioris.mini.pw.edu.pl
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.22 2002/05/01 08:03:30 mpech Exp $
d193 1
a193 1
.A file ,
@


1.22
log
@o) start new sentence on a new line;
o) always close .Bl tags;
o) fix usage of .Xr;

millert@@ ok
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.21 2002/04/30 16:31:42 mpech Exp $
d88 1
a88 1
in which case the corresponding key(s) will be printed in standard output.
d136 1
a136 1
The resulting signature is printed in standard output.
d243 1
a243 1
and least one of each
@


1.21
log
@Initial cleanup:
o) remove extra space in the end of line;
o) remove extra blank lines in the end of file;
o) remove .Pp before .Ss;
o) CAVEAT -> CAVEATS;
o) fix usage of .Fa;
o) <blank-line> -> .Pp;
o) wrap long lines;

millert@@ ok
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.20 2001/09/03 20:14:51 deraadt Exp $
d149 2
a150 1
attribute). Furthermore, the assertion must have a
@


1.20
log
@with or without fee; received mail permitting this change from angelos
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.19 2001/08/16 17:58:06 mpech Exp $
d162 1
a162 1
flag is provided, 
@


1.19
log
@o) -mdoc syntax improvements;
o) typos;
o) "start new line" issues;
o) improve enclosure/quoting macros;

millert@@ help and ok
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.18 2001/08/06 10:42:26 mpech Exp $
d10 1
a10 1
.\" Permission to use, copy, and modify this software without fee
@


1.18
log
@o) We always close .Bl and .Bd tags;
o) .Sh AUTHOR -> .Sh AUTHORS;
o) We don't like .Pp before/after .Sh;
o) We don't like .Pp before/after .Rs/.Re;
o) NetBSD -> .Nx;
o) OpenBSD -> .Ox;

millert@@ ok
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.17 2000/09/17 02:11:12 aaron Exp $
a39 1

a46 1

a48 1

d66 3
a68 2
Typical keysizes are 512, 1024, or 2048 (bits). The minimum key size
for DSA keys is 512 (bits). Supported
d71 8
a78 7
.Bl -tag -width indent
.It ``dsa-hex:''
.It ``dsa-base64:''
.It ``rsa-hex:''
.It ``rsa-base64:''
.It ``x509-hex:''
.It ``x509-base64:''
d81 2
a82 2
Notice that the trailing colon is required. The resulting public key is
stored in file
d86 3
a88 2
Either of the filenames can be specified to be ``-'', in which
case the corresponding key(s) will be printed in standard output.
d105 2
a106 1
of the key encoding.  Default values are 12 and 50 respectively.
d115 2
a116 1
"keynote keygen".  The private key algorithm and the
d118 3
a120 2
specified as an argument are expected to match. There is no requirement
for the internal or ASCII encodings to match.  Valid
d123 10
a132 9
.Bl -tag -width indent
.It ``sig-dsa-sha1-hex:''
.It ``sig-dsa-sha1-base64:''
.It ``sig-rsa-sha1-hex:''
.It ``sig-rsa-sha1-base64:''
.It ``sig-rsa-md5-hex:''
.It ``sig-rsa-md5-base64:''
.It ``sig-x509-sha1-hex:''
.It ``sig-x509-sha1-base64:''
d136 2
a137 2
The resulting signature is printed in standard output. This can then
be added (via cut-and-paste or some script) at the end of the
d162 3
a164 2
flag is provided, "keynote sign" will also verify the newly-created
signature using the
d183 2
a184 1
of the signature encoding.  Default values are 12 and 50 respectively.
d186 2
a187 1
"keynote sigver" reads the assertions contained in
a189 1
.Pp
d193 3
a195 2
"keynote verify" reads the file and parses the assertions contained
therein (one assertion per file).
d200 1
a200 1
verification is performed, and the
d247 4
a250 2
flags should be given per invocation. If no flags are given,
"keynote verify" prints the usage message and exits with error code \-1.
d252 2
a253 1
"keynote verify" exits with code \-1 if there was an error, and 0 on success.
d258 24
a281 11
.Bl -tag -width "AAAAAAA"
.It ``The KeyNote Trust-Management System, Version 2''
M. Blaze, J. Feigenbaum, A. D. Keromytis,
Internet Drafts, RFC 2704.
.It ``Decentralized Trust Management''
M. Blaze, J. Feigenbaum, J. Lacy,
1996 IEEE Conference on Privacy and Security
.It ``Compliance-Checking in the PolicyMaker Trust Management System''
M. Blaze, J. Feigenbaum, M. Strauss,
1998 Financial Crypto Conference
.El
d283 2
a284 1
Angelos D. Keromytis (angelos@@dsl.cis.upenn.edu)
d286 1
a286 1
http://www.cis.upenn.edu/~keynote
@


1.17
log
@Arguments to .Dt macros should be all-caps.
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.16 2000/06/13 19:16:16 angelos Exp $
a63 1
.Pp
a105 1
.Pp
a178 1
.Pp
a243 1
.Pp
d259 1
a259 1
.Sh AUTHOR
@


1.16
log
@Fix some compile warnings.
@
text
@d1 1
a1 1
.\" $OpenBSD$
d24 1
a24 1
.Dt keynote 1
@


1.15
log
@Trailing whitespace begone!
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.14 1999/12/02 01:27:16 aaron Exp $
@


1.14
log
@Minor repairs.
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.13 1999/11/03 19:52:22 angelos Exp $
d9 1
a9 1
.\"      
d253 1
a253 1
.It ``The KeyNote Trust-Management System, Version 2'' 
d256 1
a256 1
.It ``Decentralized Trust Management'' 
@


1.13
log
@Handle multiple assertions per file in signature verification, better
detection of malformed credentials, update manpages, sync with release.
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.12 1999/11/03 03:17:58 angelos Exp $
d30 1
a30 1
.Xr KeyNote 3
@


1.12
log
@Flexibility in signature printing.
@
text
@d1 1
a1 1
.\" $OpenBSD$
d183 1
a183 1
"keynote sigver" reads the assertion contained in
d185 1
a185 1
and verifies the public-key signature on it.
@


1.11
log
@Greatly expand keynote.4 to include query semantics, cross references.
@
text
@d46 2
d164 17
@


1.10
log
@Update for version 2.0
@
text
@d231 2
a232 1
.Xr keynote 4
@


1.9
log
@Typo fixes.
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.8 1999/07/09 13:35:29 aaron Exp $
d9 1
a9 1
.\"
d58 5
d77 2
d105 1
d127 2
d162 1
d167 1
d205 1
a205 1
draft.
d228 1
d233 1
a233 1
.It ``The KeyNote Trust-Management System''
d235 2
a236 2
Internet Drafts, draft-ietf-trustmgt-keynote-00.txt
.It ``Decentralized Trust Management''
@


1.8
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.7 1999/07/07 14:22:25 aaron Exp $
d86 1
a86 1
specify the offset from the begining of the line where the key
d96 1
a96 1
the end of each line, and the doublequotes at the begining and end
@


1.7
log
@when using `-' as a negative sign, escape it with a backslash so troff knows
it's not supposed to be a hyphen/dash
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.6 1999/07/07 10:50:06 aaron Exp $
d9 1
a9 1
.\"      
d13 1
a13 1
.\" modification of this software. 
d193 1
a193 1
draft. 
d220 1
a220 1
.It ``The KeyNote Trust-Management System'' 
d223 1
a223 1
.It ``Decentralized Trust Management'' 
@


1.6
log
@The proper order of the ``introductory'' macros in a man page is .Dd/.Dt/.Os.
Out of the approximately 1450 man pages, only about 90 of them were wrong.
Thanks to kwesterback@@home.com for coming up with a script and patch to repair
this. The patch also inserted a .Os macro in the few man pages that were
missing one.
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.5 1999/07/02 21:13:08 aaron Exp $
d213 1
a213 1
"keynote verify" prints the usage message and exits with error code -1.
d215 1
a215 1
"keynote verify" exits with code -1 if there was an error, and 0 on success.
@


1.5
log
@remove redundant .Pp macros
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.4 1999/05/27 01:14:15 angelos Exp $
d25 1
a26 1
.\" .TH keynote 1 local
@


1.4
log
@Fix some typos.
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.3 1999/05/27 01:09:44 angelos Exp $
a97 1
.Pp
a151 1
.Pp
a155 1
.Pp
a215 1
.Pp
@


1.3
log
@Single manpage for command-line tool.
@
text
@d1 1
a1 1
.\" $OpenBSD$
d25 1
@


1.2
log
@Export kn_keycompare() in the API, update the spec and man pages.

Note that the *.1 manpages will all be rolled into a single one soon.
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote.1,v 1.1 1999/05/24 01:54:15 angelos Exp $
a24 1
.Os
d32 180
a211 10
.Nm keynote
.Op sign|verify|sigver|keygen
.Op ...
.Sh DESCRIPTION
.Nm keynote
does the operation indicated by the first argument. For more details on the
specific flags for each operation, see the respective manpages (
.Xr keynote-sign 1 ,
.Xr keynote-verify 1 ,
.Xr keynote-sigver 1 ,
d213 6
a218 2
.Xr keynote-keygen 1
respectively).
d221 1
a221 5
.Xr keynote 4 ,
.Xr keynote-keygen 1 ,
.Xr keynote-sign 1 ,
.Xr keynote-sigver 1 ,
.Xr keynote-verify 1
@


1.1
log
@This one tried to escape.
@
text
@d1 1
a1 1
.\" $OpenBSD: keynote-sigver.1,v 1.1 1999/05/23 22:32:08 angelos Exp $
a36 7
For details on
.Nm KeyNote ,
see the web page 
.Bd -literal -offset indent
 http://www.cis.upenn.edu/~keynote
.Ed
.Pp
@

