head	1.14;
access;
symbols
	OPENBSD_6_1:1.14.0.4
	OPENBSD_6_1_BASE:1.14
	OPENBSD_6_0:1.14.0.2
	OPENBSD_6_0_BASE:1.14
	OPENBSD_5_9:1.13.0.2
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.12.0.6
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.12.0.2
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.11.0.8
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.6
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.2
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.10.0.24
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.22
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.20
	OPENBSD_5_0:1.10.0.18
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.10.0.16
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.10.0.14
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.10
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.12
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.8
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.10.0.6
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.10.0.4
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.10.0.2
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.9.0.16
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.14
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.12
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.10
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.8
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.9.0.6
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.9.0.4
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.8.0.4
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.2
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.7.0.4
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.7.0.2
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9:1.4.0.4
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3;
locks; strict;
comment	@.\" @;


1.14
date	2016.05.18.00.58.40;	author millert;	state Exp;
branches;
next	1.13;
commitid	xhvlhmfftDBwdU3N;

1.13
date	2015.09.10.15.53.26;	author schwarze;	state Exp;
branches;
next	1.12;
commitid	VHfLqd8SJIOWaxSN;

1.12
date	2014.09.08.01.27.54;	author schwarze;	state Exp;
branches;
next	1.11;
commitid	cPoapLAXYNe1fcgV;

1.11
date	2013.06.05.03.40.26;	author tedu;	state Exp;
branches;
next	1.10;

1.10
date	2007.05.31.19.19.38;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2003.06.02.11.37.27;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2002.06.21.16.37.11;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2001.08.06.10.42.26;	author mpech;	state Exp;
branches;
next	1.6;

1.6
date	2001.07.13.22.14.07;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2001.06.03.15.32.57;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2000.09.17.02.05.15;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.15.02.15.28;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.12.21.48.04;	author aaron;	state Exp;
branches;
next	1.1;

1.1
date	99.11.11.06.30.39;	author ericj;	state Exp;
branches;
next	;


desc
@@


1.14
log
@Remove obsolete caveat.  OK deraadt@@
@
text
@.\"	$OpenBSD: login_fbtab.3,v 1.13 2015/09/10 15:53:26 schwarze Exp $
.\"
.\" Copyright 1995 by Wietse Venema.  All rights reserved.  Some individual
.\" files may be covered by other copyrights.
.\"
.\" This material was originally written and compiled by Wietse Venema at
.\" Eindhoven University of Technology, The Netherlands, in 1990, 1991,
.\" 1992, 1993, 1994 and 1995.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that this entire copyright notice
.\" is duplicated in all such copies.
.\"
.\" This software is provided "as is" and without any expressed or implied
.\" warranties, including, without limitation, the implied warranties of
.\" merchantibility and fitness for any particular purpose.
.\"
.Dd $Mdocdate: September 10 2015 $
.Dt LOGIN_FBTAB 3
.Os
.Sh NAME
.Nm login_fbtab
.Nd implement device security based on fbtab(5)
.Sh SYNOPSIS
.In sys/types.h
.In util.h
.Ft void
.Fn login_fbtab "const char *tty" "uid_t uid" "gid_t gid"
.Sh DESCRIPTION
The
.Fn login_fbtab
function reads the
.Pa /etc/fbtab
file and implements device security as described in the
.Xr fbtab 5
manual page.
.Sh FILES
.Bl -tag -width /etc/fbtab -compact
.It Pa /etc/fbtab
.El
.Sh DIAGNOSTICS
Problems are reported via the
.Xr syslogd 8
daemon with the severity of
.Dv LOG_ERR .
.Sh SEE ALSO
.Xr fbtab 5
.Sh AUTHORS
.Bd -unfilled
.An Wietse Venema Aq Mt wietse@@wzv.win.tue.nl
Eindhoven University of Technology
The Netherlands
.Ed
@


1.13
log
@reduce more .Nd to one line and kill more .Tn
@
text
@d1 1
a1 1
.\"	$OpenBSD: login_fbtab.3,v 1.12 2014/09/08 01:27:54 schwarze Exp $
d18 1
a18 1
.Dd $Mdocdate: September 8 2014 $
a53 7
.Sh CAVEATS
Previous versions of this routine used
.Xr strtok 3 ,
which can cause conflicts with other uses of that routine.
This may be an issue when porting programs to
.Ox 3.1
and below.
@


1.12
log
@obvious cases of missing .An;
found with the new mandoc(1) MANDOCERR_AN_MISSING warning;
no text changes
@
text
@d1 1
a1 1
.\"	$OpenBSD: login_fbtab.3,v 1.11 2013/06/05 03:40:26 tedu Exp $
d18 1
a18 1
.Dd $Mdocdate: June 5 2013 $
d23 1
a23 2
.Nd implement device security based on
.Pa /etc/fbtab
@


1.11
log
@use fancy .In macro for includes. from Jan Klemkow. ok jmc schwarze
@
text
@d1 1
a1 1
.\"	$OpenBSD: login_fbtab.3,v 1.10 2007/05/31 19:19:38 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: May 31 2007 $
d51 1
a51 1
Wietse Venema (wietse@@wzv.win.tue.nl)
@


1.10
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: login_fbtab.3,v 1.9 2003/06/02 11:37:27 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate$
d26 2
a27 2
.Fd #include <sys/types.h>
.Fd #include <util.h>
@


1.9
log
@- section reorder
- clean up .Xr's
@
text
@d1 1
a1 1
.\"	$OpenBSD: login_fbtab.3,v 1.8 2002/06/21 16:37:11 millert Exp $
d18 1
a18 1
.Dd June 14, 2002
@


1.8
log
@login_fbtab(3) fixes:
o make first arg const since we don't modify it
o use strsep() instead of strtok() as strtok() changes internal state
o add some bounds checking and use strlcat() instead of pointer arithmetic
o ANSI function headers
Originally based on a patch from Lars J. Buitinck but much modified.
@
text
@d1 1
a1 1
.\"	$OpenBSD: login_fbtab.3,v 1.7 2001/08/06 10:42:26 mpech Exp $
d38 4
a46 4
.Sh FILES
.Bl -tag -width /etc/fbtab -compact
.It Pa /etc/fbtab
.El
@


1.7
log
@o) We always close .Bl and .Bd tags;
o) .Sh AUTHOR -> .Sh AUTHORS;
o) We don't like .Pp before/after .Sh;
o) We don't like .Pp before/after .Rs/.Re;
o) NetBSD -> .Nx;
o) OpenBSD -> .Ox;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: login_fbtab.3,v 1.6 2001/07/13 22:14:07 millert Exp $
d18 1
a18 1
.Dd November 8, 1999
d29 1
a29 1
.Fn login_fbtab "char *tty" "uid_t uid" "gid_t gid"
a37 2
.Pp
If errors occur a null string is returned.
d55 2
a56 2
.Sh BUGS
This module uses
d58 4
a61 1
which may cause conflicts with other uses of that same routine.
@


1.6
log
@Make the list of required #includes match reality.
@
text
@d1 1
a1 1
.\"	$OpenBSD: login_fbtab.3,v 1.5 2001/06/03 15:32:57 deraadt Exp $
d51 1
a51 1
.Sh AUTHOR
@


1.5
log
@new license from Wietse; permits modification.  This code is derived from
logdaemon, so this applies:
    ftp://ftp.porcupine.org/pub/security/logdaemon_license
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d26 1
@


1.4
log
@Fix typo in NAME section; loict@@bougon.net. While I'm here, capitalify the
argument to .Dt, and move the BUGS section to the end like most man pages.

This is my 1000th commit since joining the OpenBSD dev team.
@
text
@d1 17
@


1.3
log
@Mostly punctuation fixes.
@
text
@d2 1
a2 1
.Dt login_fbtab 3
d7 1
a7 1
.Pa /etc/fstab
a32 4
.Sh BUGS
This module uses
.Xr strtok 3 ,
which may cause conflicts with other uses of that same routine.
d34 1
a34 1
.Bd -unfilled -offset indent
d39 4
@


1.2
log
@Trailing whitespace begone!
@
text
@d26 1
a26 1
.Dv LOG_ERR.
@


1.1
log
@add man page for login_fbtab()
@
text
@d15 2
a16 2
function reads the 
.Pa /etc/fbtab 
d19 1
a19 1
manual page. 
d22 2
a23 2
.Sh DIAGNOSTICS 
Problems are reported via the 
d25 1
a25 1
daemon with the severity of 
d32 1
a32 1
.Xr fbtab 5 
d34 1
a34 1
This module uses 
@

