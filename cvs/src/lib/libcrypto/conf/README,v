head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.2
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.4
	OPENBSD_6_1_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2010.10.01.22.58.54;	author djm;	state Exp;
branches;
next	1.1;

1.1
date	2002.05.15.02.29.12;	author beck;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.09.05.12.50.09;	author markus;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2010.10.01.22.54.05;	author djm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@resolve conflicts, fix local changes
@
text
@Configuration modules. These are a set of modules which can perform
various configuration functions.

Currently the routines should be called at most once when an application
starts up: that is before it starts any threads.

The routines read a configuration file set up like this:

-----
#default section
openssl_conf=init_section

[init_section]

module1=value1
#Second instance of module1
module1.1=valueX
module2=value2
module3=dso_literal
module4=dso_section

[dso_section]

path=/some/path/to/some/dso.so
other_stuff=other_value
----

When this file is loaded a configuration module with the specified string
(module* in the above example) is looked up and its init function called as:

int conf_init_func(CONF_IMODULE *md, CONF *cnf);

The function can then take whatever action is appropriate, for example further
lookups based on the value. Multiple instances of the same config module can be
loaded.

When the application closes down the modules are cleaned up by calling an
optional finish function:

void conf_finish_func(CONF_IMODULE *md);

The finish functions are called in reverse order: that is the last module
loaded is the first one cleaned up.

If no module exists with a given name then an attempt is made to load a DSO
with the supplied name. This might mean that "module3" attempts to load a DSO
called libmodule3.so or module3.dll for example. An explicit DSO name can be
given by including a separate section as in the module4 example above.

The DSO is expected to at least contain an initialization function:

int OPENSSL_init(CONF_IMODULE *md, CONF *cnf);

and may also include a finish function:

void OPENSSL_finish(CONF_IMODULE *md);

Static modules can also be added using,

int CONF_module_add(char *name, dso_mod_init_func *ifunc, dso_mod_finish_func
*ffunc);

where "name" is the name in the configuration file this function corresponds
to.

A set of builtin modules (currently only an ASN1 non functional test module)
can be added by calling OPENSSL_load_builtin_modules(). 

The function OPENSSL_config() is intended as a simple configuration function
that any application can call to perform various default configuration tasks.
It uses the file openssl.cnf in the usual locations.


@


1.1
log
@OpenSSL 0.9.7 stable 2002 05 08 merge
@
text
@a0 5
WARNING WARNING WARNING!!!

This stuff is experimental, may change radically or be deleted altogether
before OpenSSL 0.9.7 release. You have been warned!

d11 1
a11 1
openssl_init=init_section
d28 2
a29 3
When this file is loaded a configuration module with the specified
string (module* in the above example) is looked up and its init
function called as:
d33 3
a35 3
The function can then take whatever action is appropriate, for example
further lookups based on the value. Multiple instances of the same 
config module can be loaded.
d37 2
a38 2
When the application closes down the modules are cleaned up by calling
an optional finish function:
d45 4
a48 5
If no module exists with a given name then an attempt is made to load
a DSO with the supplied name. This might mean that "module3" attempts
to load a DSO called libmodule3.so or module3.dll for example. An explicit
DSO name can be given by including a separate section as in the module4 example
above.
d60 2
a61 1
int CONF_module_add(char *name, dso_mod_init_func *ifunc, dso_mod_finish_func *ffunc);
d63 2
a64 1
where "name" is the name in the configuration file this function corresponds to.
d66 2
a67 2
A set of builtin modules (currently only an ASN1 non functional test module) can be 
added by calling OPENSSL_load_builtin_modules(). 
d69 3
a71 3
The function OPENSSL_config() is intended as a simple configuration function that
any application can call to perform various default configuration tasks. It uses the
file openssl.cnf in the usual locations.
@


1.1.1.1
log
@import openssl-0.9.7-beta1
@
text
@@


1.1.1.2
log
@import OpenSSL-1.0.0a
@
text
@d1 5
d16 1
a16 1
openssl_conf=init_section
d33 3
a35 2
When this file is loaded a configuration module with the specified string
(module* in the above example) is looked up and its init function called as:
d39 3
a41 3
The function can then take whatever action is appropriate, for example further
lookups based on the value. Multiple instances of the same config module can be
loaded.
d43 2
a44 2
When the application closes down the modules are cleaned up by calling an
optional finish function:
d51 5
a55 4
If no module exists with a given name then an attempt is made to load a DSO
with the supplied name. This might mean that "module3" attempts to load a DSO
called libmodule3.so or module3.dll for example. An explicit DSO name can be
given by including a separate section as in the module4 example above.
d67 1
a67 2
int CONF_module_add(char *name, dso_mod_init_func *ifunc, dso_mod_finish_func
*ffunc);
d69 1
a69 2
where "name" is the name in the configuration file this function corresponds
to.
d71 2
a72 2
A set of builtin modules (currently only an ASN1 non functional test module)
can be added by calling OPENSSL_load_builtin_modules(). 
d74 3
a76 3
The function OPENSSL_config() is intended as a simple configuration function
that any application can call to perform various default configuration tasks.
It uses the file openssl.cnf in the usual locations.
@


