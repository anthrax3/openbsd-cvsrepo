head	1.12;
access;
symbols
	butholakala:1.11
	openssl_1_0_1_g:1.1.1.7
	OPENBSD_5_5:1.11.0.16
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.12
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.11.0.10
	OPENBSD_5_3_BASE:1.11
	openssl_1_0_1_c:1.1.1.7
	OPENBSD_5_2:1.11.0.6
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.8
	openssl_1_0_0_f:1.1.1.7
	openssl_1_0_0_e:1.1.1.7
	OPENBSD_5_0:1.11.0.4
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	openssh_1_0_0_a:1.1.1.7
	OPENBSD_4_8:1.10.0.6
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.2
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.4
	OPENBSD_4_6_BASE:1.10
	openssl_0_9_8_k:1.1.1.6
	OPENBSD_4_5:1.9.0.2
	OPENBSD_4_5_BASE:1.9
	openssl_0_9_8_j:1.1.1.5
	openssl_0_9_8_h:1.1.1.5
	pre_openssl_0_9_8h:1.8
	OPENBSD_4_4:1.8.0.14
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.12
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.10
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.8
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.6
	OPENBSD_4_0_BASE:1.8
	openssl_0_9_7j:1.1.1.4
	openssl:1.1.1
	OPENBSD_3_9:1.8.0.4
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.8.0.2
	OPENBSD_3_8_BASE:1.8
	OPENSSL_0_9_7G:1.1.1.4
	OPENBSD_3_7:1.7.0.8
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.7.0.6
	OPENBSD_3_6_BASE:1.7
	OPENSSL_0_9_7D:1.1.1.3
	OPENBSD_3_5:1.7.0.4
	OPENBSD_3_5_BASE:1.7
	OPENSSL_0_9_7C:1.1.1.3
	OPENBSD_3_4:1.7.0.2
	OPENBSD_3_4_BASE:1.7
	OPENSSL_0_9_7B:1.1.1.3
	OPENBSD_3_3:1.6.0.4
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.2
	OPENBSD_3_2_BASE:1.6
	OPENSSL_0_9_7_STABLE_SNAP_20020911:1.1.1.2
	OPENSSL_0_9_7_BETA3:1.1.1.2
	OPENSSL_0_9_7_BETA1:1.1.1.1
	OPENSSL:1.1.1
	OPENBSD_3_1:1.2.0.10
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.8
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9:1.2.0.6
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.4
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.2
	OPENBSD_2_7_BASE:1.2
	OPENBSD_2_6:1.1.0.2
	OPENBSD_2_6_BASE:1.1;
locks; strict;
comment	@# @;


1.12
date	2014.04.17.19.20.52;	author afresh1;	state dead;
branches;
next	1.11;

1.11
date	2010.10.01.22.59.01;	author djm;	state Exp;
branches;
next	1.10;

1.10
date	2009.04.06.06.33.20;	author djm;	state Exp;
branches;
next	1.9;

1.9
date	2008.09.06.12.17.54;	author djm;	state Exp;
branches;
next	1.8;

1.8
date	2005.04.29.05.39.33;	author djm;	state Exp;
branches;
next	1.7;

1.7
date	2003.05.12.02.18.40;	author markus;	state Exp;
branches;
next	1.6;

1.6
date	2002.09.10.16.31.57;	author markus;	state Exp;
branches;
next	1.5;

1.5
date	2002.09.05.22.12.12;	author markus;	state Exp;
branches;
next	1.4;

1.4
date	2002.06.07.03.45.34;	author beck;	state Exp;
branches;
next	1.3;

1.3
date	2002.05.15.02.29.21;	author beck;	state Exp;
branches;
next	1.2;

1.2
date	2000.03.19.11.13.48;	author beck;	state Exp;
branches;
next	1.1;

1.1
date	99.09.29.04.37.40;	author beck;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.09.05.12.51.47;	author markus;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2002.09.05.22.45.00;	author markus;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2003.05.11.21.36.54;	author markus;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2005.04.29.05.37.31;	author djm;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2008.09.06.12.15.53;	author djm;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2009.04.06.06.30.08;	author djm;	state Exp;
branches;
next	1.1.1.7;

1.1.1.7
date	2010.10.01.22.54.18;	author djm;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Remove unused ssl utils

This code is the reason perl has a name as a write only language.

ok deraadt miod
@
text
@#!/bin/sh
# Do a makedepend, only leave out the standard headers
# Written by Ben Laurie <ben@@algroup.co.uk> 19 Jan 1999

TOP=$1
shift
if [ "$1" = "-MD" ]; then
    shift
    MAKEDEPEND=$1
    shift
fi
if [ "$MAKEDEPEND" = "" ]; then MAKEDEPEND=makedepend; fi

cp Makefile Makefile.save
# fake the presence of Kerberos
touch $TOP/krb5.h
if expr "$MAKEDEPEND" : '.*gcc$' > /dev/null; then
    args=""
    while [ $# -gt 0 ]; do
	if [ "$1" != "--" ]; then args="$args $1"; fi
	shift
    done
    sed -e '/^# DO NOT DELETE.*/,$d' < Makefile > Makefile.tmp
    echo '# DO NOT DELETE THIS LINE -- make depend depends on it.' >> Makefile.tmp
    ${MAKEDEPEND} -Werror -D OPENSSL_DOING_MAKEDEPEND -M $args >> Makefile.tmp || exit 1
    ${PERL} $TOP/util/clean-depend.pl < Makefile.tmp > Makefile.new
    RC=$?
    rm -f Makefile.tmp
else
    ${MAKEDEPEND} -D OPENSSL_DOING_MAKEDEPEND $@@ && \
    ${PERL} $TOP/util/clean-depend.pl < Makefile > Makefile.new
    RC=$?
fi
mv Makefile.new Makefile
# unfake the presence of Kerberos
rm $TOP/krb5.h

exit $RC
@


1.11
log
@resolve conflicts, fix local changes
@
text
@@


1.10
log
@resolve conflicts
@
text
@d17 1
a17 1
if [ "$MAKEDEPEND" = "gcc" ]; then
d25 1
a25 1
    ${CC:-gcc} -D OPENSSL_DOING_MAKEDEPEND -M $args >> Makefile.tmp
d27 1
d30 1
a30 1
    ${MAKEDEPEND} -D OPENSSL_DOING_MAKEDEPEND $@@
d32 1
d37 2
@


1.9
log
@resolve conflicts
@
text
@d25 1
a25 1
    gcc -D OPENSSL_DOING_MAKEDEPEND -M $args >> Makefile.tmp
@


1.8
log
@resolve conflicts
@
text
@d29 1
a29 1
    ${MAKEDEPEND} -D OPENSSL_DOING_MAKEDEPEND -f Makefile $@@
@


1.7
log
@merge 0.9.7b with local changes; crank majors for libssl/libcrypto
@
text
@d14 1
a14 1
cp Makefile.ssl Makefile.save
d23 1
a23 1
    sed -e '/^# DO NOT DELETE.*/,$d' < Makefile.ssl > Makefile.tmp
d29 2
a30 2
    ${MAKEDEPEND} -D OPENSSL_DOING_MAKEDEPEND -f Makefile.ssl $@@
    ${PERL} $TOP/util/clean-depend.pl < Makefile.ssl > Makefile.new
d32 1
a32 1
mv Makefile.new Makefile.ssl
@


1.6
log
@merge openssl-0.9.7-beta3, tested on vax by miod@@
@
text
@d18 5
d25 1
a25 1
    gcc -D OPENSSL_DOING_MAKEDEPEND -M $@@ >> Makefile.tmp
@


1.5
log
@merge with 0.9.7-beta1
@
text
@d21 1
a21 1
    perl $TOP/util/clean-depend.pl < Makefile.tmp > Makefile.new
d25 1
a25 1
    perl $TOP/util/clean-depend.pl < Makefile.ssl > Makefile.new
@


1.4
log
@Merge OpenSSL 0.9.7-stable-20020605,
correctly autogenerate obj_mac.h
@
text
@d21 1
a21 1
    ${PERL} $TOP/util/clean-depend.pl < Makefile.tmp > Makefile.new
d25 1
a25 1
    ${PERL} $TOP/util/clean-depend.pl < Makefile.ssl > Makefile.new
@


1.3
log
@OpenSSL 0.9.7 stable 2002 05 08 merge
@
text
@d21 1
a21 1
    perl $TOP/util/clean-depend.pl < Makefile.tmp > Makefile.new
d25 1
a25 1
    perl $TOP/util/clean-depend.pl < Makefile.ssl > Makefile.new
@


1.2
log
@OpenSSL 0.9.5 merge

*warning* this bumps shared lib minors for libssl and libcrypto from 2.1 to 2.2
if you are using the ssl26 packages for ssh and other things to work you will
need to get new ones (see ~beck/libsslsnap/<arch>) on cvs or ~beck/src-patent.tar.gz on cvs
@
text
@d7 6
d15 12
a26 2
makedepend -f Makefile.ssl $@@
perl $TOP/util/clean-depend.pl < Makefile.ssl > Makefile.new
d28 2
@


1.1
log
@OpenSSL 0.9.4 merge
@
text
@d10 1
a10 1
$TOP/util/clean-depend.pl < Makefile.ssl > Makefile.new
@


1.1.1.1
log
@import openssl-0.9.7-beta1
@
text
@a6 6
if [ "$1" = "-MD" ]; then
    shift
    MAKEDEPEND=$1
    shift
fi
if [ "$MAKEDEPEND" = "" ]; then MAKEDEPEND=makedepend; fi
d9 2
a10 12
# fake the presence of Kerberos
touch $TOP/krb5.h
if [ "$MAKEDEPEND" = "gcc" ]; then
    sed -e '/^# DO NOT DELETE.*/,$d' < Makefile.ssl > Makefile.tmp
    echo '# DO NOT DELETE THIS LINE -- make depend depends on it.' >> Makefile.tmp
    gcc -D OPENSSL_DOING_MAKEDEPEND -M $@@ >> Makefile.tmp
    perl $TOP/util/clean-depend.pl < Makefile.tmp > Makefile.new
    rm -f Makefile.tmp
else
    ${MAKEDEPEND} -D OPENSSL_DOING_MAKEDEPEND -f Makefile.ssl $@@
    perl $TOP/util/clean-depend.pl < Makefile.ssl > Makefile.new
fi
a11 2
# unfake the presence of Kerberos
rm $TOP/krb5.h
@


1.1.1.2
log
@import openssl-0.9.7-beta3
@
text
@d21 1
a21 1
    ${PERL} $TOP/util/clean-depend.pl < Makefile.tmp > Makefile.new
d25 1
a25 1
    ${PERL} $TOP/util/clean-depend.pl < Makefile.ssl > Makefile.new
@


1.1.1.3
log
@import 0.9.7b (without idea and rc5)
@
text
@a17 5
    args=""
    while [ $# -gt 0 ]; do
	if [ "$1" != "--" ]; then args="$args $1"; fi
	shift
    done
d20 1
a20 1
    gcc -D OPENSSL_DOING_MAKEDEPEND -M $args >> Makefile.tmp
@


1.1.1.4
log
@import of openssl-0.9.7g; tested on platforms from alpha to zaurus, ok deraadt@@
@
text
@d14 1
a14 1
cp Makefile Makefile.save
d23 1
a23 1
    sed -e '/^# DO NOT DELETE.*/,$d' < Makefile > Makefile.tmp
d29 2
a30 2
    ${MAKEDEPEND} -D OPENSSL_DOING_MAKEDEPEND -f Makefile $@@
    ${PERL} $TOP/util/clean-depend.pl < Makefile > Makefile.new
d32 1
a32 1
mv Makefile.new Makefile
@


1.1.1.5
log
@import of OpenSSL 0.9.8h
@
text
@d29 1
a29 1
    ${MAKEDEPEND} -D OPENSSL_DOING_MAKEDEPEND $@@
@


1.1.1.6
log
@import of OpenSSL 0.9.8k
@
text
@d25 1
a25 1
    ${CC:-gcc} -D OPENSSL_DOING_MAKEDEPEND -M $args >> Makefile.tmp
@


1.1.1.7
log
@import OpenSSL-1.0.0a
@
text
@d17 1
a17 1
if expr "$MAKEDEPEND" : '.*gcc$' > /dev/null; then
d25 1
a25 1
    ${MAKEDEPEND} -Werror -D OPENSSL_DOING_MAKEDEPEND -M $args >> Makefile.tmp || exit 1
a26 1
    RC=$?
d29 1
a29 1
    ${MAKEDEPEND} -D OPENSSL_DOING_MAKEDEPEND $@@ && \
a30 1
    RC=$?
a34 2

exit $RC
@


