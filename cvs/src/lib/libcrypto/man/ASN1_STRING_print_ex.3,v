head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.2
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.7.0.4
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.2.0.4
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2
	OPENBSD_5_7_BASE:1.1;
locks; strict;
comment	@.\" @;


1.8
date	2017.08.20.15.44.22;	author schwarze;	state Exp;
branches;
next	1.7;
commitid	r9aA6rhfBNdYP1n0;

1.7
date	2017.03.25.16.30.10;	author schwarze;	state Exp;
branches;
next	1.6;
commitid	5yPD5u0sgksNtCEB;

1.6
date	2016.12.08.21.48.50;	author jmc;	state Exp;
branches;
next	1.5;
commitid	2EdSHZ7I6GmB8sRP;

1.5
date	2016.11.10.13.06.24;	author schwarze;	state Exp;
branches;
next	1.4;
commitid	E0urBmXY5yeh1aGT;

1.4
date	2016.11.06.16.56.46;	author jmc;	state Exp;
branches;
next	1.3;
commitid	klkbZtAcpRiYK7yo;

1.3
date	2016.11.06.15.52.50;	author jmc;	state Exp;
branches;
next	1.2;
commitid	UKoyflsJLv0vYdpL;

1.2
date	2015.09.09.21.58.20;	author schwarze;	state Exp;
branches;
next	1.1;
commitid	Hl1v037zBNLkmVGx;

1.1
date	2015.02.14.13.54.59;	author schwarze;	state Exp;
branches;
next	;
commitid	3pbAjfxWZ4lCeGGT;


desc
@@


1.8
log
@clarify deprecation notice;
from Rich Salz, OpenSSL commit a95d7574, July 2, 2017
@
text
@.\"	$OpenBSD: ASN1_STRING_print_ex.3,v 1.7 2017/03/25 16:30:10 schwarze Exp $
.\"	OpenSSL ASN1_STRING_print_ex.pod a95d7574 Jul 2 12:16:38 2017 -0400
.\"	OpenSSL ASN1_STRING_print_ex.pod bb9ad09e Jun 6 00:43:05 2016 -0400
.\"
.\" This file was written by Dr. Stephen Henson.
.\" Copyright (c) 2002, 2004, 2007, 2013, 2016, 2017 The OpenSSL Project.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\"
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\"
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in
.\"    the documentation and/or other materials provided with the
.\"    distribution.
.\"
.\" 3. All advertising materials mentioning features or use of this
.\"    software must display the following acknowledgment:
.\"    "This product includes software developed by the OpenSSL Project
.\"    for use in the OpenSSL Toolkit. (http://www.openssl.org/)"
.\"
.\" 4. The names "OpenSSL Toolkit" and "OpenSSL Project" must not be used to
.\"    endorse or promote products derived from this software without
.\"    prior written permission. For written permission, please contact
.\"    openssl-core@@openssl.org.
.\"
.\" 5. Products derived from this software may not be called "OpenSSL"
.\"    nor may "OpenSSL" appear in their names without prior written
.\"    permission of the OpenSSL Project.
.\"
.\" 6. Redistributions of any form whatsoever must retain the following
.\"    acknowledgment:
.\"    "This product includes software developed by the OpenSSL Project
.\"    for use in the OpenSSL Toolkit (http://www.openssl.org/)"
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE OpenSSL PROJECT ``AS IS'' AND ANY
.\" EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
.\" PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE OpenSSL PROJECT OR
.\" ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
.\" SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
.\" LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
.\" STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
.\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
.\" OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate: March 25 2017 $
.Dt ASN1_STRING_PRINT_EX 3
.Os
.Sh NAME
.Nm ASN1_STRING_print_ex ,
.Nm ASN1_STRING_print_ex_fp ,
.Nm ASN1_STRING_print ,
.Nm ASN1_tag2str
.Nd ASN1_STRING output routines
.Sh SYNOPSIS
.In openssl/asn1.h
.Ft int
.Fo ASN1_STRING_print_ex
.Fa "BIO *out"
.Fa "ASN1_STRING *str"
.Fa "unsigned long flags"
.Fc
.Ft int
.Fo ASN1_STRING_print_ex_fp
.Fa "FILE *fp"
.Fa "ASN1_STRING *str"
.Fa "unsigned long flags"
.Fc
.Ft int
.Fo ASN1_STRING_print
.Fa "BIO *out"
.Fa "ASN1_STRING *str"
.Fc
.Ft const char *
.Fo ASN1_tag2str
.Fa "int tag"
.Fc
.Sh DESCRIPTION
These functions output an
.Vt ASN1_STRING
structure.
.Vt ASN1_STRING
is used to
represent all the ASN.1 string types.
.Pp
.Fn ASN1_STRING_print_ex
outputs
.Fa str
to
.Fa out ,
the format being determined by the options
.Fa flags .
.Fn ASN1_STRING_print_ex_fp
is identical except it outputs to
.Fa fp
instead.
.Pp
.Fn ASN1_STRING_print
prints
.Fa str
to
.Fa out
but using a different format to
.Fn ASN1_STRING_print_ex .
It replaces unprintable characters (other than CR, LF) with
.Sq \&. .
.Pp
.Fn ASN1_tag2str
returns a human-readable name of the specified ASN.1
.Fa tag .
.Pp
.Fn ASN1_STRING_print
is a deprecated function which should be avoided; use
.Fn ASN1_STRING_print_ex
instead.
.Pp
Although there are a large number of options,
.Dv ASN1_STRFLGS_RFC2253
is often suitable, or on UTF-8 terminals
.Dv ASN1_STRFLGS_RFC2253
and
.Pf ~ Dv ASN1_STRFLGS_ESC_MSB .
.Pp
The complete set of supported options for
.Fa flags
is listed below.
.Pp
Various characters can be escaped.
If
.Dv ASN1_STRFLGS_ESC_2253
is set, the characters determined by RFC 2253 are escaped.
If
.Dv ASN1_STRFLGS_ESC_CTRL
is set, control characters are escaped.
If
.Dv ASN1_STRFLGS_ESC_MSB
is set, characters with the MSB set are escaped: this option should
.Em not
be used if the terminal correctly interprets UTF-8 sequences.
.Pp
Escaping takes several forms.
If the character being escaped is a 16-bit character then the form "\eUXXXX"
is used using exactly four characters for the hex representation.
If it is 32 bits then "\eWXXXXXXXX" is used using eight characters
of its hex representation.
These forms will only be used if UTF-8 conversion is not set (see below).
.Pp
Printable characters are normally escaped using the backslash
.Pq Sq \e
character.
If
.Dv ASN1_STRFLGS_ESC_QUOTE
is set, then the whole string is instead surrounded by double quote
characters: this is arguably more readable than the backslash notation.
Other characters use the "\eXX" using exactly two characters of the hex
representation.
.Pp
If
.Dv ASN1_STRFLGS_UTF8_CONVERT
is set, then characters are converted to UTF-8 format first.
If the terminal supports the display of UTF-8 sequences then this
option will correctly display multi-byte characters.
.Pp
If
.Dv ASN1_STRFLGS_IGNORE_TYPE
is set, then the string type is not interpreted at all:
everything is assumed to be one byte per character.
This is primarily for debugging purposes and can result
in confusing output in multi-character strings.
.Pp
If
.Dv ASN1_STRFLGS_SHOW_TYPE
is set, then the string type itself is printed before its value
(for example "BMPSTRING"), using
.Fn ASN1_tag2str .
.Pp
Instead of being interpreted the contents of a string can be "dumped":
this just outputs the value of the string using the form #XXXX
using hex format for each octet.
.Pp
If
.Dv ASN1_STRFLGS_DUMP_ALL
is set, then any type is dumped.
.Pp
Normally non-character string types (such as OCTET STRING)
are assumed to be one byte per character; if
.Dv ASN1_STRFLGS_DUMP_UNKNOWN
is set, then they will be dumped instead.
.Pp
When a type is dumped normally just the content octets are printed; if
.Dv ASN1_STRFLGS_DUMP_DER
is set, then the complete encoding is dumped
instead (including tag and length octets).
.Pp
.Dv ASN1_STRFLGS_RFC2253
includes all the flags required by RFC 2253.
It is equivalent to
.Dv ASN1_STRFLGS_ESC_2253 |
.Dv ASN1_STRFLGS_ESC_CTRL |
.Dv ASN1_STRFLGS_ESC_MSB |
.Dv ASN1_STRFLGS_UTF8_CONVERT |
.Dv ASN1_STRFLGS_DUMP_UNKNOWN |
.Dv ASN1_STRFLGS_DUMP_DER .
.Sh SEE ALSO
.Xr X509_NAME_print_ex 3
@


1.7
log
@document ASN1_tag2str(3); from OpenSSL commit 9e183d22
@
text
@d1 3
a3 3
.\"	$OpenBSD: ASN1_STRING_print_ex.3,v 1.6 2016/12/08 21:48:50 jmc Exp $
.\"	OpenSSL 9e183d22 Sat Mar 11 08:56:44 2017 -0500
.\"	OpenSSL bb9ad09e Mon Jun 6 00:43:05 2016 -0400
d53 1
a53 1
.Dd $Mdocdate: December 8 2016 $
d120 3
a122 2
is a legacy function which should be avoided in new
applications.
@


1.6
log
@minor cleanup;
@
text
@d1 2
a2 1
.\"	$OpenBSD: ASN1_STRING_print_ex.3,v 1.5 2016/11/10 13:06:24 schwarze Exp $
d6 1
a6 1
.\" Copyright (c) 2002, 2004, 2007, 2013, 2016 The OpenSSL Project.
d53 1
a53 1
.Dd $Mdocdate: November 10 2016 $
d59 2
a60 1
.Nm ASN1_STRING_print
d81 4
d114 4
@


1.5
log
@Copyright and license
@
text
@d1 1
a1 1
.\"	$OpenBSD: ASN1_STRING_print_ex.3,v 1.4 2016/11/06 16:56:46 jmc Exp $
d52 1
a52 1
.Dd $Mdocdate: November 6 2016 $
d192 1
a192 1
includes all the flags required by RFC2253.
@


1.4
log
@some minor cleanup;
@
text
@d1 50
a50 1
.\"	$OpenBSD: ASN1_STRING_print_ex.3,v 1.3 2016/11/06 15:52:50 jmc Exp $
@


1.3
log
@first pass; ok schwarze
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d3 1
a3 1
.Dd $Mdocdate: September 9 2015 $
d36 1
a36 1
represent all the ASN1 string types.
d43 1
a43 1
the format is determined by the options
d59 1
a59 1
.Sh NOTES
d64 3
a66 1
Although there are a large number of options frequently
d68 1
a68 2
is suitable, or on UTF8 terminals
.Dv ASN1_STRFLGS_RFC2253 No &
d78 1
a78 1
is set, the characters determined by RFC2253 are escaped.
d86 1
a86 1
be used if the terminal correctly interprets UTF8 sequences.
d89 1
a89 2
.Pp
If the character being escaped is a 16 bit character then the form "\eUXXXX"
d93 1
a93 1
These forms will only be used if UTF8 conversion is not set (see below).
d107 3
a109 3
is set, then characters are converted to UTF8 format first.
If the terminal supports the display of UTF8 sequences then this
option will correctly display multi byte characters.
d116 1
a116 1
in confusing output in multi character strings.
d120 2
a121 2
is set, then the string type itself is printed out before its value
(for example "BMPSTRING"), this actually uses
d124 1
a124 1
The content of a string instead of being interpreted can be "dumped":
d132 1
a132 1
Normally non character string types (such as OCTET STRING)
a151 1
.Xr ASN1_tag2str 3 ,
@


1.2
log
@Add missing CVS Mdocdate tags.  No text change, except for the change
of date that can't be helped.
@
text
@d1 3
a3 1
.Dd $Mdocdate: July 17 2014 $
@


1.1
log
@While doing development work on pod2mdoc(1),
profit of the occasion to start the conversion of
LibreSSL libcrypto manuals from perlpod(1) to mdoc(7).
miod@@ jmc@@ bentley@@ agreed to the process when shown this patch.
@
text
@d1 1
a1 1
.Dd July 17, 2014
@

