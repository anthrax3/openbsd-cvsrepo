head	1.29;
access;
symbols
	OPENBSD_5_6:1.28.0.10
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.8
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.28.0.4
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.28.0.2
	OPENBSD_5_3_BASE:1.28
	OPENBSD_5_2:1.27.0.8
	OPENBSD_5_2_BASE:1.27
	OPENBSD_5_1_BASE:1.27
	OPENBSD_5_1:1.27.0.6
	OPENBSD_5_0:1.27.0.4
	OPENBSD_5_0_BASE:1.27
	OPENBSD_4_9:1.27.0.2
	OPENBSD_4_9_BASE:1.27
	OPENBSD_4_8:1.26.0.14
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.26.0.10
	OPENBSD_4_7_BASE:1.26
	OPENBSD_4_6:1.26.0.12
	OPENBSD_4_6_BASE:1.26
	OPENBSD_4_5:1.26.0.8
	OPENBSD_4_5_BASE:1.26
	OPENBSD_4_4:1.26.0.6
	OPENBSD_4_4_BASE:1.26
	OPENBSD_4_3:1.26.0.4
	OPENBSD_4_3_BASE:1.26
	OPENBSD_4_2:1.26.0.2
	OPENBSD_4_2_BASE:1.26
	OPENBSD_4_1:1.24.0.2
	OPENBSD_4_1_BASE:1.24
	OPENBSD_4_0:1.18.0.4
	OPENBSD_4_0_BASE:1.18
	OPENBSD_3_9:1.18.0.2
	OPENBSD_3_9_BASE:1.18
	OPENBSD_3_8:1.17.0.6
	OPENBSD_3_8_BASE:1.17
	OPENBSD_3_7:1.17.0.4
	OPENBSD_3_7_BASE:1.17
	OPENBSD_3_6:1.17.0.2
	OPENBSD_3_6_BASE:1.17
	OPENBSD_3_5:1.15.0.2
	OPENBSD_3_5_BASE:1.15
	OPENBSD_3_4:1.14.0.4
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.14.0.2
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.13.0.10
	OPENBSD_3_2_BASE:1.13
	OPENBSD_3_1:1.13.0.8
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.13.0.6
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9:1.13.0.4
	OPENBSD_2_9_BASE:1.13
	OPENBSD_2_8:1.13.0.2
	OPENBSD_2_8_BASE:1.13
	OPENBSD_2_7:1.12.0.2
	OPENBSD_2_7_BASE:1.12
	OPENBSD_2_6:1.9.0.2
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.6.0.2
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.5.0.4
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.5.0.2
	OPENBSD_2_3_BASE:1.5
	OPENBSD_2_2:1.4.0.4
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.4.0.2
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.29
date	2015.02.09.12.37.47;	author tedu;	state dead;
branches;
next	1.28;
commitid	IrOn8khkOGvoGgaT;

1.28
date	2012.09.13.11.14.20;	author millert;	state Exp;
branches;
next	1.27;

1.27
date	2010.08.23.22.35.34;	author millert;	state Exp;
branches;
next	1.26;

1.26
date	2007.06.30.13.20.42;	author millert;	state Exp;
branches;
next	1.25;

1.25
date	2007.05.31.19.19.34;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2007.02.28.10.01.48;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2007.02.28.09.57.38;	author jmc;	state Exp;
branches;
next	1.22;

1.22
date	2007.02.28.09.39.26;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2007.02.27.16.40.35;	author millert;	state Exp;
branches;
next	1.20;

1.20
date	2007.02.07.15.24.58;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2007.02.06.19.35.16;	author millert;	state Exp;
branches;
next	1.18;

1.18
date	2006.02.18.21.54.17;	author millert;	state Exp;
branches;
next	1.17;

1.17
date	2004.06.28.14.47.41;	author millert;	state Exp;
branches;
next	1.16;

1.16
date	2004.04.01.11.37.02;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2003.10.06.00.17.13;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	2003.02.14.18.24.53;	author millert;	state Exp;
branches;
next	1.13;

1.13
date	2000.10.18.05.12.13;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	2000.04.16.16.24.04;	author d;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.30.23.56.27;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.04.22.19.32;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	99.07.09.13.35.21;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	99.07.07.10.50.05;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	99.05.25.00.49.43;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.01.29.07.04.05;	author d;	state Exp;
branches;
next	1.5;

1.5
date	98.01.18.23.25.03;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	97.01.14.03.16.57;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	96.08.19.08.34.55;	author tholo;	state Exp;
branches;
next	1.2;

1.2
date	96.01.11.17.46.30;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.42.32;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.42.32;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.29
log
@move zic and zdump source to appropriate directories
@
text
@.\"	$OpenBSD: zic.8,v 1.28 2012/09/13 11:14:20 millert Exp $
.Dd $Mdocdate: September 13 2012 $
.Dt ZIC 8
.Os
.Sh NAME
.Nm zic
.Nd time zone compiler
.Sh SYNOPSIS
.Nm zic
.Bk -words
.Op Fl v
.Op Fl d Ar directory
.Op Fl L Ar leapsecondfilename
.Op Fl l Ar timezone
.Op Fl p Ar timezone
.Op Fl y Ar command
.Op Ar filename Ar ...
.Ek
.Sh DESCRIPTION
.Nm
reads text from the file(s) named on the command line
and creates the time conversion information files specified in this input.
If a
.Ar filename
is
.Dq Fl ,
the standard input is read.
.Pp
These options are available:
.Bl -tag -width "-d directory"
.It Fl d Ar directory
Create time conversion information files in the named directory rather than
in the standard directory named below.
.It Fl L Ar leapsecondfilename
Read leap second information from the file with the given name.
If this option is not used,
no leap second information appears in output files.
.It Fl l Ar timezone
Use the given time zone as local time.
.Nm
will act as if the input contained a link line of the form
.Pp
.Dl Link	timezone		localtime
.It Fl p Ar timezone
Use the given time zone's rules when handling POSIX-format
time zone environment variables.
.Nm
will act as if the input contained a link line of the form
.Pp
.Dl Link	timezone		posixrules
.It Fl v
Complain if a year that appears in a data file is outside the range
of years representable by
.Xr time 3
values.
Also complain if a time of 24:00
(which cannot be handled by pre-1998 versions of
.Nm zic )
appears in the input.
.It Fl y Ar command
Use the given
.Ar command
rather than
.Em yearistype
when checking year types (see below).
.El
.Pp
Input lines are made up of fields.
Fields are separated from one another by any number of whitespace characters.
Leading and trailing whitespace on input lines is ignored.
An unquoted sharp character (#) in the input introduces a comment which extends
to the end of the line the sharp character appears on.
White space characters and sharp characters may be enclosed in double quotes
(") if they're to be used as part of a field.
Any line that is blank (after comment stripping) is ignored.
Non-blank lines are expected to be of one of three types:
rule lines, zone lines, and link lines.
.Pp
Names (such as month names) must be in English and are case insensitive.
Abbreviations, if used, must be unambiguous in context.
.Pp
A rule line has the form:
.Bd -literal -offset indent
Rule  NAME  FROM  TO    TYPE  IN    ON       AT    SAVE  LETTER/S
.Ed
.Pp
For example:
.Bd -literal -offset indent
Rule  US    1967  1973  -     Apr   lastSun  2:00  1:00  D
.Ed
.Pp
The fields that make up a rule line are:
.Bl -tag -width "LETTER/S"
.It Cm NAME
Gives the (arbitrary) name of the set of rules this rule is part of.
.It Cm FROM
Gives the first year in which the rule applies.
Any integer year can be supplied; the Gregorian calendar is assumed.
The word
.Em minimum
(or an abbreviation) means the minimum year representable as an integer.
The word
.Em maximum
(or an abbreviation) means the maximum year representable as an integer.
Rules can describe times that are not representable as time values,
with the unrepresentable times ignored; this allows rules to be portable
among hosts with differing time value types.
.It Cm TO
Gives the final year in which the rule applies.
In addition to
.Em minimum
and
.Em maximum
(as above),
the word
.Em only
(or an abbreviation)
may be used to repeat the value of the
.Em FROM
field.
.It Cm TYPE
Gives the type of year in which the rule applies.
If
.Em TYPE
is
.Dq Fl
then the rule applies in all years between
.Em FROM
and
.Em TO
inclusive.
If
.Em TYPE
is something else, then
.Nm
executes the command
.Pp
.Dl yearistype Ar year Ar type
.Pp
to check the type of a year:
an exit status of zero is taken to mean that the year is of the given type;
an exit status of one is taken to mean that the year is not of the given type.
.It Cm IN
Names the month in which the rule takes effect.
Month names may be abbreviated.
.It Cm ON
Gives the day on which the rule takes effect.
Recognized forms include:
.Pp
.Bl -tag -width "SunXX25" -compact -offset indent
.It 5
the fifth of the month
.It lastSun
the last Sunday in the month
.It lastMon
the last Monday in the month
.It Sun\*(Ge8
first Sunday on or after the eighth
.It Sun\*(Le25
last Sunday on or before the 25th
.El
.Pp
Names of days of the week may be abbreviated or spelled out in full.
Note that there must be no spaces within the
.Em ON
field.
.It Cm AT
Gives the time of day at which the rule takes effect.
Recognized forms include:
.Pp
.Bl -tag -width "1:28:14" -compact -offset indent
.It 2
time in hours
.It 2:00
time in hours and minutes
.It 15:00
24-hour format time (for times after noon)
.It 1:28:14
time in hours, minutes, and seconds
.It \&-
equivalent to 0
.El
.Pp
where hour 0 is midnight at the start of the day,
and hour 24 is midnight at the end of the day.
Any of these forms may be followed by the letter
.Em w
if the given time is local
.Dq wall clock
time,
.Em s
if the given time is local
.Dq standard
time, or
.Em u
(or
.Em g
or
.Em z )
if the given time is universal time;
in the absence of an indicator,
wall clock time is assumed.
.It Cm SAVE
Gives the amount of time to be added to local standard time when the rule is in
effect.
This field has the same format as the
.Em AT
field
(although, of course, the
.Em w
and
.Em s
suffixes are not used).
.It Cm LETTER/S
Gives the
.Dq variable part
(for example, the
.Dq S
or
.Dq D
in
.Dq EST
or
.Dq EDT )
of time zone abbreviations to be used when this rule is in effect.
If this field is
.Dq Fl
the variable part is null.
.El
.Pp
A zone line has the form:
.Bd -literal -offset 3n
Zone NAME GMTOFF RULES/SAVE FORMAT [UNTILYEAR [MONTH [DAY [TIME]]]]
.Ed
.Pp
For example:
.Bd -literal -offset 3n
Zone Australia/Adelaide 9:30 Aus CST 1971 Oct 31 2:00
.Ed
.Pp
The fields that make up a zone line are:
.Bl -tag -width GMTOFF
.It Cm NAME
The name of the time zone.
This is the name used in creating the time conversion information file for the
zone.
.It Cm GMTOFF
The amount of time to add to UTC to get standard time in this zone.
This field has the same format as the
.Em AT
and
.Em SAVE
fields of rule lines;
begin the field with a minus sign if time must be subtracted from UTC.
.It Cm RULES/SAVE
The name of the rule(s) that apply in the time zone or,
alternately, an amount of time to add to local standard time.
If this field is
.Dq \-
then standard time always applies in the time zone.
.It Cm FORMAT
The format for time zone abbreviations in this time zone.
The pair of characters
.Em %s
is used to show where the
.Dq variable part
of the time zone abbreviation goes.
Alternately,
a slash
.Pq \&/
separates standard and daylight abbreviations.
.It Cm UNTILYEAR [MONTH [DAY [TIME]]]
The time at which the UTC offset or the rule(s) change for a location.
It is specified as a year, a month, a day, and a time of day.
If this is specified,
the time zone information is generated from the given UTC offset
and rule change until the time specified.
The month, day, and time of day have the same format as the IN, ON, and AT
fields of a rule; trailing fields can be omitted, and default to the
earliest possible value for the missing fields.
.Pp
The next line must be a
.Dq continuation
line; this has the same form as a zone line except that the
string
.Dq Zone
and the name are omitted, as the continuation line will
place information starting at the time specified as the
.Dq until
information in the previous line in the file used by the previous line.
Continuation lines may contain
.Dq until
information, just as zone lines do, indicating that the next line is a further
continuation.
.El
.Pp
A link line has the form:
.Bd -literal -offset indent
Link	LINK-FROM	LINK-TO
.Ed
.Pp
For example:
.Bd -literal -offset indent
Link	Europe/Istanbul	Asia/Istanbul
.Ed
.Pp
The
.Em LINK-FROM
field should appear as the
.Em NAME
field in some zone line;
the
.Em LINK-TO
field is used as an alternate name for that zone.
.Pp
Except for continuation lines,
lines may appear in any order in the input.
.Pp
Lines in the file that describes leap seconds have the following form:
.Bd -literal -offset indent
Leap	YEAR	MONTH	DAY	HH:MM:SS	CORR	R/S
.Ed
.Pp
For example:
.Bd -literal -offset indent
Leap	1974	Dec	31	23:59:60	+	S
.Ed
.Pp
The
.Em YEAR ,
.Em MONTH ,
.Em DAY ,
and
.Em HH:MM:SS
fields tell when the leap second happened.
The
.Em CORR
field
should be
.Dq +
if a second was added
or
.Dq -
if a second was skipped.
.\" There's no need to document the following, since it's impossible for more
.\" than one leap second to be inserted or deleted at a time.
.\" The C Standard is in error in suggesting the possibility.
.\" See Terry J Quinn, The BIPM and the accurate measure of time,
.\" Proc IEEE 79, 7 (July 1991), 894-905.
.\"	or
.\"	.q ++
.\"	if two seconds were added
.\"	or
.\"	.q --
.\"	if two seconds were skipped.
The
.Em R/S
field should be (an abbreviation of)
.Dq Stationary
if the leap second time given by the other fields should be interpreted as UTC
or (an abbreviation of)
.Dq Rolling
if the leap second time given by the other fields should be interpreted as
local wall clock time.
.Sh EXTENDED EXAMPLE
Here is an extended example of
.Nm
input, intended to illustrate many of its features.
.Bd -literal
# Rule	NAME	FROM	TO	TYPE	IN	ON	AT	SAVE	LETTER/S
Rule	Swiss	1940	only	-	Nov	2	0:00	1:00	S
Rule	Swiss	1940	only	-	Dec	31	0:00	0	-
Rule	Swiss	1941	1942	-	May	Sun\*(Ge1	2:00	1:00	S
Rule	Swiss	1941	1942	-	Oct	Sun\*(Ge1	0:00	0

Rule	EU	1977	1980	-	Apr	Sun\*(Ge1	1:00u	1:00	S
Rule	EU	1977	only	-	Sep	lastSun	1:00u	0	-
Rule	EU	1978	only	-	Oct	 1	1:00u	0	-
Rule	EU	1979	1995	-	Sep	lastSun	1:00u	0	-
Rule	EU	1981	max	-	Mar	lastSun	1:00u	1:00	S
Rule	EU	1996	max	-	Oct	lastSun	1:00u	0	-

# Zone	NAME	GMTOFF	RULES	FORMAT	UNTIL
Zone	Europe/Zurich	0:34:08	-	LMT	1848 Sep 12
		0:29:44	-	BMT	1894 Jun
		1:00	Swiss	CE%sT	1981
		1:00	EU	CE%sT

Link	Europe/Zurich	Switzerland
.Ed
.Pp
In this example, the zone is named Europe/Zurich
but it has an alias as Switzerland.
Zurich was 34 minutes and 8 seconds west of GMT until 1848-09-12 at 00:00,
when the offset changed to 29 minutes and 44 seconds.
After 1894-06-01 at 00:00 Swiss daylight saving rules
(defined with lines beginning with "Rule Swiss") apply,
and the GMT offset became one hour.
From 1981 to the present,
EU daylight saving rules have applied,
and the UTC offset has remained at one hour.
.Pp
In 1940, daylight saving time applied from
November 2 at 00:00 to December 31 at 00:00.
In 1941 and 1942, daylight saving time applied
from the first Sunday in May at 02:00
to the first Sunday in October at 00:00.
The pre-1981 EU daylight-saving rules have no effect here,
but are included for completeness.
Since 1981,
daylight saving has begun on the last Sunday in March at 01:00 UTC.
Until 1995 it ended the last Sunday in September at 01:00 UTC,
but this changed to the last Sunday in October starting in 1996.
.Pp
For purposes of display,
"LMT" and "BMT" were initially used, respectively.
Since Swiss rules and later EU rules were applied,
the display name for the timezone has been CET for standard time
and CEST for daylight saving time.
.Sh FILES
.Bl -tag -width "/usr/share/zoneinfo" -compact
.It Pa /etc/localtime
link to local time zone
.It Pa /usr/share/zoneinfo
standard directory used for created files
.El
.Sh SEE ALSO
.Xr ctime 3 ,
.Xr tzfile 5 ,
.Xr zdump 8
.Sh CAVEATS
For areas with more than two types of local time,
you may need to use local standard time in the
.Em AT
field of the earliest transition time's rule to ensure that
the earliest transition time recorded in the compiled file is correct.
.Pp
If,
for a particular zone,
a clock advance caused by the start of daylight saving
coincides with and is equal to
a clock retreat caused by a change in UTC offset,
.Nm
produces a single transition to daylight saving at the new UTC offset
(without any change in wall clock time).
To get separate transitions
use multiple zone continuation lines
specifying transition instants using universal time.
.\" This file is in the public domain, so clarified as of
.\" 2009-05-17 by Arthur David Olson.
@


1.28
log
@Update to tzcode2012f.  Now that tzcode is in git there are no moe
SCCS ids.  No actual code changes.
@
text
@d1 2
a2 2
.\"	$OpenBSD: zic.8,v 1.27 2010/08/23 22:35:34 millert Exp $
.Dd $Mdocdate: August 23 2010 $
@


1.27
log
@update to tzcode2010k from elsie.nci.nih.gov; OK miod@@
@
text
@d1 2
a2 2
.\"	$OpenBSD: zic.8,v 1.26 2007/06/30 13:20:42 millert Exp $
.Dd $Mdocdate: June 30 2007 $
a448 1
.\" @@(#)zic.8	8.6
@


1.26
log
@Update to tzcode2007f from elsie.nci.nih.gov
@
text
@d1 2
a2 2
.\"	$OpenBSD: zic.8,v 1.25 2007/05/31 19:19:34 jmc Exp $
.Dd $Mdocdate: May 31 2007 $
d79 3
d449 1
a449 1
.\" @@(#)zic.8	8.4
d451 1
a451 1
.\" 2003-02-14 by Arthur David Olson.
@


1.25
log
@convert to new .Dd format;
@
text
@d1 2
a2 2
.\"	$OpenBSD: zic.8,v 1.24 2007/02/28 10:01:48 jmc Exp $
.Dd $Mdocdate$
d446 1
a446 1
.\" @@(#)zic.8	8.3
@


1.24
log
@- NOTES -> CAVEATS
- use escapes for <>
@
text
@d1 2
a2 2
.\"	$OpenBSD: zic.8,v 1.23 2007/02/28 09:57:38 jmc Exp $
.Dd May 23, 1999
@


1.23
log
@use mdoc macros;
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.22 2007/02/28 09:39:26 jmc Exp $
d147 1
a147 1
.Bl -tag -width "Sun<=25" -compact -offset indent
d154 1
a154 1
.It "Sun>=8"
d156 1
a156 1
.It "Sun<=25"
d370 2
a371 2
Rule	Swiss	1941	1942	-	May	Sun>=1	2:00	1:00	S
Rule	Swiss	1941	1942	-	Oct	Sun>=1	0:00	0
d373 1
a373 1
Rule	EU	1977	1980	-	Apr	Sun>=1	1:00u	1:00	S
d417 12
a428 1
.Sh NOTES
a445 11
.Sh FILES
.Bl -tag -width "/usr/share/zoneinfo" -compact
.It Pa /etc/localtime
link to local time zone
.It Pa /usr/share/zoneinfo
standard directory used for created files
.El
.Sh SEE ALSO
.Xr ctime 3 ,
.Xr tzfile 5 ,
.Xr zdump 8
@


1.22
log
@new sentence, new line;
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.21 2007/02/27 16:40:35 millert Exp $
d79 5
a83 7
A rule line has the form
.nf
.ti +.5i
.ta \w'Rule\0\0'u +\w'NAME\0\0'u +\w'FROM\0\0'u +\w'1973\0\0'u +\w'TYPE\0\0'u +\w'Apr\0\0'u +\w'lastSun\0\0'u +\w'2:00\0\0'u +\w'SAVE\0\0'u
.sp
Rule	NAME	FROM	TO	TYPE	IN	ON	AT	SAVE	LETTER/S
.sp
d85 4
a88 5
.ti +.5i
.sp
Rule	US	1967	1973	\-	Apr	lastSun	2:00	1:00	D
.sp
.fi
d228 5
a232 7
A zone line has the form
.sp
.nf
.ti +.5i
.ta \w'Zone\0\0'u +\w'Australia/Adelaide\0\0'u +\w'GMTOFF\0\0'u +\w'RULES/SAVE\0\0'u +\w'FORMAT\0\0'u
Zone	NAME	GMTOFF	RULES/SAVE	FORMAT	[UNTILYEAR [MONTH [DAY [TIME]]]]
.sp
d234 4
a237 5
.sp
.ti +.5i
Zone	Australia/Adelaide	9:30	Aus	CST	1971 Oct 31 2:00
.sp
.fi
d294 2
a295 5
A link line has the form
.sp
.nf
.ti +.5i
.ta \w'Link\0\0'u +\w'Europe/Istanbul\0\0'u
d297 2
a298 1
.sp
d300 1
a300 2
.sp
.ti +.5i
d302 2
a303 2
.sp
.fi
d317 1
a317 4
.nf
.ti +.5i
.ta \w'Leap\0\0'u +\w'YEAR\0\0'u +\w'MONTH\0\0'u +\w'DAY\0\0'u +\w'HH:MM:SS\0\0'u +\w'CORR\0\0'u
.sp
d319 2
a320 1
.sp
d322 1
a322 2
.ti +.5i
.sp
d324 2
a325 2
.sp
.fi
d366 1
a366 6
.br
.ne 22
.nf
.in +2m
.ta \w'# Rule\0\0'u +\w'NAME\0\0'u +\w'FROM\0\0'u +\w'1973\0\0'u +\w'TYPE\0\0'u +\w'Apr\0\0'u +\w'lastSun\0\0'u +\w'2:00\0\0'u +\w'SAVE\0\0'u
.sp
d372 1
a372 1
.sp .5
d379 1
a379 2
.sp
.ta \w'# Zone\0\0'u +\w'Europe/Zurich\0\0'u +\w'0:34:08\0\0'u +\w'RULES/SAVE\0\0'u +\w'FORMAT\0\0'u
d385 1
a385 1
.sp
d387 2
a388 3
.sp
.in
.fi
@


1.21
log
@Update to tzcode2007c from elsie.nci.nih.gov
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.20 2007/02/07 15:24:58 jmc Exp $
d408 20
a427 15
In this example, the zone is named Europe/Zurich but it has an alias
as Switzerland.  Zurich was 34 minutes and 8 seconds west of GMT until
1848-09-12 at 00:00, when the offset changed to 29 minutes and 44
seconds.  After 1894-06-01 at 00:00 Swiss daylight saving rules (defined
with lines beginning with "Rule Swiss") apply, and the GMT offset
became one hour.  From 1981 to the present, EU daylight saving rules have
applied, and the UTC offset has remained at one hour.
.Pp
In 1940, daylight saving time applied from November 2 at 00:00 to
December 31 at 00:00.  In 1941 and 1942, daylight saving time applied
from the first Sunday in May at 02:00 to the first Sunday in October
at 00:00.
The pre-1981 EU daylight-saving rules have no effect
here, but are included for completeness.  Since 1981, daylight
saving has begun on the last Sunday in March at 01:00 UTC.
d431 5
a435 5
For purposes of
display, "LMT" and "BMT" were initially used, respectively.  Since
Swiss rules and later EU rules were applied, the display name for the
timezone has been CET for standard time and CEST for daylight saving
time.
@


1.20
log
@tweaks; ok millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.19 2007/02/06 19:35:16 millert Exp $
d374 57
d460 1
a460 1
.\" @@(#)zic.8	8.2
@


1.19
log
@Update to tzcode2007a.  This adds support for 64bit time_t in case
we need it in the future.  All of our platforms currently have 32bit
time_t types.  This also extends the timezone data file format to
support both 32bit and 64bit data.  The 64bit data is located after
the 32bit data so binaries linked with the older tzcode simply won't
look at it.  A version field in the file header is used to determine
whether the data file is the old or extended format.  OK miod@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.18 2006/02/18 21:54:17 millert Exp $
d294 1
a294 1
tion lines may contain
d400 1
a400 1
.\" @@(#)zic.8	8.2
d403 1
a403 1
.\" @@(#)zic.8	7.24
@


1.18
log
@Update to tzcode2006a; primarily just cast and const fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.17 2004/06/28 14:47:41 millert Exp $
d11 1
a11 1
.Op Fl sv
a50 4
.It Fl s
Limit time values stored in output files to values that are the same
whether they're taken to be signed or unsigned.
You can use this option to generate SVVS-compatible files.
d236 1
a236 1
Zone	NAME	GMTOFF	RULES/SAVE	FORMAT	[UNTIL]
d275 1
a275 1
.It Cm UNTIL
d282 2
a283 2
columns of a rule; trailing columns can be omitted, and default to the
earliest possible value for the missing columns.
d292 5
a296 5
.Em UNTIL
field in the previous line in the file used by the previous line.
Continuation lines may contain an
.Em UNTIL
field, just as zone lines do, indicating that the next line is a further
d400 1
a400 1
.Xr ctime 3 ,
@


1.17
log
@merge in tzcode2004a
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.16 2004/04/01 11:37:02 jmc Exp $
d384 12
d407 1
a407 1
.\" @@(#)zic.8	7.20
d409 1
a409 1
.\" 2003-02-14 by Arthur David Olson (arthur_david_olson@@nih.gov).
@


1.16
log
@sort options, correct SYNOPSIS, and sync usage();
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.15 2003/10/06 00:17:13 millert Exp $
d60 4
@


1.15
log
@Update to tzcode2003c from elsie.nci.nih.gov
Fixes a pasto and implements better int oflow checking (doesn't rely on
unspecified behavior).
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.14 2003/02/14 18:24:53 millert Exp $
d10 2
a11 1
.Op Fl v
a12 3
.Op Fl l Ar localtime
.Op Fl p Ar posixrules
.Bk -words
d14 2
a15 2
.Ek
.Op Fl s
d18 1
d34 4
d51 4
a54 4
.It Fl L Ar leapsecondfilename
Read leap second information from the file with the given name.
If this option is not used,
no leap second information appears in output files.
a59 4
.It Fl s
Limit time values stored in output files to values that are the same
whether they're taken to be signed or unsigned.
You can use this option to generate SVVS-compatible files.
@


1.14
log
@license clarifications; arthur_david_olson@@nih.gov
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.13 2000/10/18 05:12:13 aaron Exp $
d392 1
a392 1
.\" @@(#)zic.8	7.19
@


1.13
log
@Another round of man page cleanup, this time to remove more hard sentence
breaks and getting rid of short lines, making these files easier to work with.
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.12 2000/04/16 16:24:04 d Exp $
d393 2
@


1.12
log
@sync with ftp://elsie.nci.nih.gov/pub/tzcode2000c.tar.gz, millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.11 2000/03/30 23:56:27 millert Exp $
d123 2
a124 1
Gives the type of year in which the rule applies. If
d132 2
a133 1
inclusive. If
@


1.11
log
@Reference /etc/localtime in FILES section.
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.10 2000/03/04 22:19:32 aaron Exp $
d179 2
d390 1
a390 1
.\" @@(#)zic.8	7.18
@


1.10
log
@In Unix land we prefer "whitespace" to "white space" or "white-space". At
least, this is the impression I get from looking at a lot of Perl docs.
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.9 1999/07/09 13:35:21 aaron Exp $
d379 2
@


1.9
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.8 1999/07/07 10:50:05 aaron Exp $
d70 2
a71 2
Fields are separated from one another by any number of white space characters.
Leading and trailing white space on input lines is ignored.
@


1.8
log
@The proper order of the ``introductory'' macros in a man page is .Dd/.Dt/.Os.
Out of the approximately 1450 man pages, only about 90 of them were wrong.
Thanks to kwesterback@@home.com for coming up with a script and patch to repair
this. The patch also inserted a .Os macro in the few man pages that were
missing one.
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.7 1999/05/25 00:49:43 aaron Exp $
d383 1
a383 1
.Xr ctime 3 , 
@


1.7
log
@out with old macros, in with new mdoc; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.6 1999/01/29 07:04:05 d Exp $
d3 1
a4 1
.Dt ZIC 8
@


1.6
log
@tzcode1999a from ftp://elsie.nci.nih.gov/pub
@
text
@d1 21
a21 37
.\"	$OpenBSD: zic.8,v 1.5 1998/01/18 23:25:03 millert Exp $
.TH ZIC 8
.SH NAME
zic \- time zone compiler
.SH SYNOPSIS
.B zic
[
.B \-v
] [
.B \-d
.I directory
] [
.B \-l
.I localtime
] [
.B \-p
.I posixrules
] [
.B \-L
.I leapsecondfilename
] [
.B \-s
] [
.B \-y
.I command
] [
.I filename
\&... ]
.SH DESCRIPTION
.if t .ds lq ``
.if t .ds rq ''
.if n .ds lq \&"\"
.if n .ds rq \&"\"
.de q
\\$3\*(lq\\$1\*(rq\\$2
..
.I Zic
d25 1
a25 1
.I filename
d27 1
a27 1
.BR \- ,
d29 1
a29 1
.PP
d31 2
a32 2
.TP
.BI "\-d " directory
d35 1
a35 2
.TP
.BI "\-l " timezone
d37 1
a37 1
.I Zic
d39 3
a41 5
.sp
.ti +.5i
Link	\fItimezone\fP		localtime
.TP
.BI "\-p " timezone
d44 1
a44 1
.I Zic
d46 3
a48 5
.sp
.ti +.5i
Link	\fItimezone\fP		posixrules
.TP
.BI "\-L " leapsecondfilename
d52 1
a52 2
.TP
.B \-v
d55 1
a55 1
.IR time (3)
d57 1
a57 2
.TP
.B \-s
d61 1
a61 2
.TP
.BI "\-y " command
d63 1
a63 1
.I command
d65 1
a65 1
.B yearistype
d67 2
a68 1
.PP
d79 1
a79 1
.PP
d94 2
a95 2
.TP "\w'LETTER/S'u"
.B NAME
d97 1
a97 2
.TP
.B FROM
d101 1
a101 1
.B minimum
d104 1
a104 1
.B maximum
d109 1
a109 2
.TP
.B TO
d112 1
a112 1
.B minimum
d114 1
a114 1
.B maximum
d117 1
a117 1
.B only
d120 1
a120 1
.B FROM
d122 3
a124 5
.TP
.B TYPE
Gives the type of year in which the rule applies.
If
.B TYPE
d126 1
a126 1
.B \-
d128 1
a128 1
.B FROM
d130 3
a132 4
.B TO
inclusive.
If
.B TYPE
d134 1
a134 1
.I zic
d136 3
a138 3
.ti +.5i
\fByearistype\fP \fIyear\fP \fItype\fP
.br
d142 1
a142 2
.TP
.B IN
d145 1
a145 2
.TP
.B ON
d148 14
a161 12
.nf
.in +.5i
.sp
.ta \w'Sun<=25\0\0'u
5	the fifth of the month
lastSun	the last Sunday in the month
lastMon	the last Monday in the month
Sun>=8	first Sunday on or after the eighth
Sun<=25	last Sunday on or before the 25th
.fi
.in -.5i
.sp
d164 1
a164 1
.B ON
d166 1
a166 2
.TP
.B AT
d169 12
a180 11
.nf
.in +.5i
.sp
.ta \w'1:28:13\0\0'u
2	time in hours
2:00	time in hours and minutes
15:00	24-hour format time (for times after noon)
1:28:14	time in hours, minutes, and seconds
.fi
.in -.5i
.sp
d184 1
a184 1
.B w
d186 1
a186 1
.q "wall clock"
d188 1
a188 1
.B s
d190 1
a190 1
.q standard
d192 1
a192 1
.B u
d194 1
a194 1
.B g
d196 1
a196 1
.BR z )
d200 1
a200 2
.TP
.B SAVE
d204 1
a204 1
.B AT
d207 1
a207 1
.B w
d209 1
a209 1
.B s
d211 1
a211 2
.TP
.B LETTER/S
d213 1
a213 1
.q "variable part"
d215 1
a215 1
.q S
d217 1
a217 1
.q D
d219 1
a219 1
.q EST
d221 1
a221 1
.q EDT )
d224 1
a224 1
.BR \- ,
d226 2
a227 1
.PP
d242 2
a243 2
.TP "\w'GMTOFF'u"
.B NAME
d247 1
a247 2
.TP
.B GMTOFF
d250 1
a250 1
.B AT
d252 1
a252 1
.B SAVE
d255 1
a255 2
.TP
.B RULES/SAVE
d259 1
a259 1
.B \-
d261 1
a261 2
.TP
.B FORMAT
d264 1
a264 1
.B %s
d266 1
a266 1
.q "variable part"
d269 2
a270 1
a slash (/)
d272 1
a272 2
.TP
.B UNTIL
d281 1
a281 1
.IP
d283 1
a283 1
.q continuation
d286 1
a286 1
.q Zone
d289 1
a289 1
.B UNTIL
d292 1
a292 1
.B UNTIL
d295 2
a296 1
.PP
d311 1
a311 1
.B LINK-FROM
d313 1
a313 1
.B NAME
d316 1
a316 1
.B LINK-TO
d318 1
a318 1
.PP
d321 1
a321 1
.PP
d336 3
a338 3
.BR YEAR ,
.BR MONTH ,
.BR DAY ,
d340 1
a340 1
.B HH:MM:SS
d343 1
a343 1
.B CORR
d346 1
a346 1
.q +
d349 1
a349 1
.q -
d363 3
a365 4
.B R/S
field
should be (an abbreviation of)
.q Stationary
d367 2
a368 3
or
(an abbreviation of)
.q Rolling
d371 1
a371 1
.SH NOTE
d374 1
a374 1
.B AT
d377 9
a385 4
.SH FILE
/usr/share/zoneinfo	standard directory used for created files
.SH "SEE ALSO"
ctime(3), tzfile(5), zdump(8)
@


1.5
log
@tzcode1998b from ftp://elsie.nci.nih.gov/pub
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.4 1997/01/14 03:16:57 millert Exp $
d209 2
d414 1
a414 1
.\" @@(#)zic.8	7.17
@


1.4
log
@Update to tzcode1996o + our fixes.  Fixes problem pointed out
by cross@@va.pubnix.com.
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.3 1996/08/19 08:34:55 tholo Exp $
d276 1
a276 1
The amount of time to add to GMT to get standard time in this zone.
d282 1
a282 1
begin the field with a minus sign if time must be subtracted from GMT.
d303 1
a303 1
The time at which the GMT offset or the rule(s) change for a location.
d306 1
a306 1
the time zone information is generated from the given GMT offset
d396 1
a396 1
if the leap second time given by the other fields should be interpreted as GMT
d412 1
a412 1
.\" @@(#)zic.8	7.14
@


1.3
log
@Fix RCS ids
Make sure everything uses {SYS,}LIBC_SCCS properly
@
text
@d1 1
a1 1
.\"	$OpenBSD: zic.8,v 1.4 1996/01/08 22:50:59 jtc Exp $
d77 1
a77 1
.IR time (2)
d308 3
d412 1
a412 1
.\" @@(#)zic.8	7.12
@


1.2
log
@from netbsd; sync with tzcode96a
@
text
@d1 1
a1 1
.\"	$NetBSD: zic.8,v 1.4 1996/01/08 22:50:59 jtc Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
.\"	$NetBSD: zic.8,v 1.3 1995/08/22 19:28:18 jtc Exp $
d327 1
a327 2
.if t .ta \w'Link\0\0'u +\w'LINK-FROM\0\0'u
.if n .ta \w'Link\0\0'u +\w'US/Eastern\0\0'u
d333 1
a333 1
Link	US/Eastern	EST5EDT
d409 1
a409 1
.\" @@(#)zic.8	7.11
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
