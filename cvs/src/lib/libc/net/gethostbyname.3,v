head	1.32;
access;
symbols
	OPENBSD_6_2:1.32.0.2
	OPENBSD_6_2_BASE:1.32
	OPENBSD_6_1:1.32.0.4
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.30.0.4
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.30.0.2
	OPENBSD_5_9_BASE:1.30
	OPENBSD_5_8:1.27.0.6
	OPENBSD_5_8_BASE:1.27
	OPENBSD_5_7:1.27.0.2
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.26.0.8
	OPENBSD_5_6_BASE:1.26
	OPENBSD_5_5:1.26.0.6
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.25.0.24
	OPENBSD_5_3_BASE:1.25
	OPENBSD_5_2:1.25.0.22
	OPENBSD_5_2_BASE:1.25
	OPENBSD_5_1_BASE:1.25
	OPENBSD_5_1:1.25.0.20
	OPENBSD_5_0:1.25.0.18
	OPENBSD_5_0_BASE:1.25
	OPENBSD_4_9:1.25.0.16
	OPENBSD_4_9_BASE:1.25
	OPENBSD_4_8:1.25.0.14
	OPENBSD_4_8_BASE:1.25
	OPENBSD_4_7:1.25.0.10
	OPENBSD_4_7_BASE:1.25
	OPENBSD_4_6:1.25.0.12
	OPENBSD_4_6_BASE:1.25
	OPENBSD_4_5:1.25.0.8
	OPENBSD_4_5_BASE:1.25
	OPENBSD_4_4:1.25.0.6
	OPENBSD_4_4_BASE:1.25
	OPENBSD_4_3:1.25.0.4
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.25.0.2
	OPENBSD_4_2_BASE:1.25
	OPENBSD_4_1:1.24.0.8
	OPENBSD_4_1_BASE:1.24
	OPENBSD_4_0:1.24.0.6
	OPENBSD_4_0_BASE:1.24
	OPENBSD_3_9:1.24.0.4
	OPENBSD_3_9_BASE:1.24
	OPENBSD_3_8:1.24.0.2
	OPENBSD_3_8_BASE:1.24
	OPENBSD_3_7:1.22.0.6
	OPENBSD_3_7_BASE:1.22
	OPENBSD_3_6:1.22.0.4
	OPENBSD_3_6_BASE:1.22
	OPENBSD_3_5:1.22.0.2
	OPENBSD_3_5_BASE:1.22
	OPENBSD_3_4:1.20.0.2
	OPENBSD_3_4_BASE:1.20
	OPENBSD_3_3:1.17.0.4
	OPENBSD_3_3_BASE:1.17
	OPENBSD_3_2:1.17.0.2
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.16.0.6
	OPENBSD_3_1_BASE:1.16
	OPENBSD_3_0:1.16.0.4
	OPENBSD_3_0_BASE:1.16
	OPENBSD_2_9:1.16.0.2
	OPENBSD_2_9_BASE:1.16
	OPENBSD_2_8:1.15.0.4
	OPENBSD_2_8_BASE:1.15
	OPENBSD_2_7:1.15.0.2
	OPENBSD_2_7_BASE:1.15
	OPENBSD_2_6:1.12.0.2
	OPENBSD_2_6_BASE:1.12
	OPENBSD_2_5:1.10.0.2
	OPENBSD_2_5_BASE:1.10
	OPENBSD_2_4:1.9.0.2
	OPENBSD_2_4_BASE:1.9
	OPENBSD_2_3:1.7.0.4
	OPENBSD_2_3_BASE:1.7
	OPENBSD_2_2:1.7.0.2
	OPENBSD_2_2_BASE:1.7
	OPENBSD_2_1:1.6.0.2
	OPENBSD_2_1_BASE:1.6
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.32
date	2016.08.05.16.16.06;	author schwarze;	state Exp;
branches;
next	1.31;
commitid	tQzqi7dOkNWa8ibx;

1.31
date	2016.08.05.07.54.15;	author martijn;	state Exp;
branches;
next	1.30;
commitid	MGQuqZRFSSeCVneJ;

1.30
date	2015.12.19.18.59.10;	author tim;	state Exp;
branches;
next	1.29;
commitid	kKzfhkGzuK1yBpBK;

1.29
date	2015.12.16.18.12.42;	author jmc;	state Exp;
branches;
next	1.28;
commitid	BBzruDwvK9GFUVC1;

1.28
date	2015.12.16.16.32.30;	author deraadt;	state Exp;
branches;
next	1.27;
commitid	oPoFLo6QaSW21nLc;

1.27
date	2014.08.23.07.25.54;	author jmc;	state Exp;
branches;
next	1.26;
commitid	8CxL8ey38kykYzgb;

1.26
date	2013.06.05.03.39.23;	author tedu;	state Exp;
branches;
next	1.25;

1.25
date	2007.05.31.19.19.30;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2005.07.22.04.50.51;	author jaredy;	state Exp;
branches;
next	1.23;

1.23
date	2005.06.08.18.32.34;	author millert;	state Exp;
branches;
next	1.22;

1.22
date	2004.03.14.18.05.37;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2004.03.02.21.37.56;	author tedu;	state Exp;
branches;
next	1.20;

1.20
date	2003.06.30.16.54.53;	author millert;	state Exp;
branches;
next	1.19;

1.19
date	2003.06.02.20.18.35;	author millert;	state Exp;
branches;
next	1.18;

1.18
date	2003.05.30.21.37.59;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2002.04.30.16.31.42;	author mpech;	state Exp;
branches;
next	1.16;

1.16
date	2000.12.24.00.30.56;	author aaron;	state Exp;
branches;
next	1.15;

1.15
date	2000.04.18.03.01.31;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	2000.04.15.02.15.22;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	2000.01.05.01.04.14;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	99.07.05.04.40.59;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	99.05.21.18.18.09;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	99.02.27.21.55.27;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	98.09.07.16.44.35;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	98.07.24.20.49.11;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	97.06.13.13.30.35;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	97.04.26.22.13.41;	author michaels;	state Exp;
branches;
next	1.5;

1.5
date	97.04.26.22.06.38;	author michaels;	state Exp;
branches;
next	1.4;

1.4
date	97.03.13.19.07.23;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	96.08.19.08.28.38;	author tholo;	state Exp;
branches;
next	1.2;

1.2
date	96.08.19.03.34.43;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.42.01;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.42.01;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.32
log
@Obvious minor fixes:
* Add missing .Dv, .Ev, and .Fa macros.
* Delete deprecated .Tn macros.
* Mark up global variable names with .Va, not with .Fa or .Li.
* Mark up config file commands with .Ic, not with .Fa.
* Fix HISTORY, trivial to verify from the CSRG archive CD.
@
text
@.\"	$OpenBSD: gethostbyname.3,v 1.31 2016/08/05 07:54:15 martijn Exp $
.\"
.\" Copyright (c) 1983, 1987, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: August 5 2016 $
.Dt GETHOSTBYNAME 3
.Os
.Sh NAME
.Nm gethostbyname ,
.Nm gethostbyname2 ,
.Nm gethostbyaddr ,
.Nm gethostent ,
.Nm sethostent ,
.Nm endhostent ,
.Nm hstrerror ,
.Nm herror
.Nd get network host entry
.Sh SYNOPSIS
.In netdb.h
.Vt extern int h_errno ;
.Ft struct hostent *
.Fn gethostbyname "const char *name"
.Ft struct hostent *
.Fn gethostent void
.Ft void
.Fn sethostent "int stayopen"
.Ft void
.Fn endhostent void
.Ft void
.Fn herror "const char *string"
.Ft const char *
.Fn hstrerror "int err"
.In sys/socket.h
.In netdb.h
.Ft struct hostent *
.Fn gethostbyname2 "const char *name" "int af"
.Ft struct hostent *
.Fn gethostbyaddr "const void *addr" "socklen_t len" "int af"
.Sh DESCRIPTION
The
.Fn gethostbyname ,
.Fn gethostbyname2 ,
and
.Fn gethostbyaddr
functions each return a pointer to an object with the following structure
describing an Internet host referenced by
.Fa name
or
.Fa addr ,
respectively.
This structure contains either information obtained from a name server,
broken-out fields from a line in
.Pa /etc/hosts ,
or database entries supplied by the
.Xr yp 8
system.
.Xr resolv.conf 5
describes how the particular database is chosen.
.Bd -literal -offset indent
struct	hostent {
	char	*h_name;	/* official name of host */
	char	**h_aliases;	/* alias list */
	int	h_addrtype;	/* host address type */
	int	h_length;	/* length of address */
	char	**h_addr_list;	/* list of returned addresses */
};
#define	h_addr  h_addr_list[0]	/* address, for backward compat */
.Ed
.Pp
The members of this structure are:
.Bl -tag -width h_addr_list
.It Fa h_name
Official name of the host.
.It Fa h_aliases
A
.Dv NULL Ns -terminated
array of alternate names for the host.
.It Fa h_addrtype
The type of address being returned.
.It Fa h_length
The length, in bytes, of the address.
.It Fa h_addr_list
A
.Dv NULL Ns -terminated
array of network addresses for the host.
Host addresses are returned in network byte order.
.It Fa h_addr
The first address in
.Fa h_addr_list ;
this is for backward compatibility.
.El
.Pp
The function
.Fn gethostbyname
will search for the named host in the current domain and its parents
using the search lookup semantics detailed in
.Xr resolv.conf 5
and
.Xr hostname 7 .
.Pp
.Fn gethostbyname2
is an advanced form of
.Fn gethostbyname
which allows lookups in address families other than
.Dv AF_INET .
Currently, the only supported address family besides
.Dv AF_INET
is
.Dv AF_INET6 .
.Pp
The
.Fn gethostbyaddr
function will search for the specified address of length
.Fa len
in the address family
.Fa af .
The only address family currently supported is
.Dv AF_INET .
.Pp
The
.Fn sethostent
function may be used to request the use of a connected
TCP socket for queries.
If the
.Fa stayopen
flag is non-zero,
this sets the option to send all queries to the name server using TCP
and to retain the connection after each call to
.Fn gethostbyname
or
.Fn gethostbyaddr .
Otherwise, queries are performed using UDP datagrams.
.Pp
The
.Fn endhostent
function closes the TCP connection.
.Pp
The
.Fn herror
function prints an error message describing the failure.
If its argument
.Fa string
is not
.Dv NULL ,
it is prepended to the message string and separated from it by a colon
.Pq Ql \&:
and a space.
The error message is printed with a trailing newline.
The contents of the error message is the same as that returned by
.Fn hstrerror
with argument
.Va h_errno .
.Sh ENVIRONMENT
.Bl -tag -width RES_OPTIONS
.It Ev RES_OPTIONS
A list of options to override the resolver's internal defaults.
See
.Xr resolv.conf 5
for more information.
.El
.Sh FILES
.Bl -tag -width /etc/resolv.conf -compact
.It Pa /etc/hosts
.It Pa /etc/resolv.conf
.El
.Sh DIAGNOSTICS
Error return status from
.Fn gethostbyname ,
.Fn gethostbyname2 ,
and
.Fn gethostbyaddr
is indicated by return of a
.Dv NULL
pointer.
The external integer
.Va h_errno
may then be checked to see whether this is a temporary failure
or an invalid or unknown host.
.Pp
The variable
.Va h_errno
can have the following values:
.Bl -tag -width HOST_NOT_FOUND
.It Dv HOST_NOT_FOUND
No such host is known.
.It Dv TRY_AGAIN
This is usually a temporary error
and means that the local server did not receive
a response from an authoritative server.
A retry at some later time may succeed.
.It Dv NO_RECOVERY
Some unexpected server failure was encountered.
This is a non-recoverable error.
.It Dv NO_DATA
The requested name is valid but does not have an IP address;
this is not a temporary error.
This means that the name is known to the name server but there is no address
associated with this name.
Another type of request to the name server using this domain name
will result in an answer;
for example, a mail-forwarder may be registered for this domain.
.It Dv NETDB_INTERNAL
An internal error occurred.
This may occur when an address family other than
.Dv AF_INET
or
.Dv AF_INET6
is specified or when a resource is unable to be allocated.
.It Dv NETDB_SUCCESS
The function completed successfully.
.El
.Sh SEE ALSO
.Xr getaddrinfo 3 ,
.Xr getnameinfo 3 ,
.Xr resolver 3 ,
.Xr hosts 5 ,
.Xr resolv.conf 5 ,
.Xr hostname 7
.Sh HISTORY
The
.Fn endhostent ,
.Fn gethostbyaddr ,
.Fn gethostbyname ,
.Fn gethostent ,
and
.Fn sethostent
functions appeared in
.Bx 4.1c .
The function
.Fn herror
was added in
.Bx 4.3 Tahoe ,
.Fn hstrerror
in
.Bx 4.4 ,
and
.Fn gethostbyname2
in
.Ox 2.1 .
.Sh CAVEATS
If the search routines in
.Xr resolv.conf 5
decide to read the
.Pa /etc/hosts
file,
.Fn gethostent
and other functions will
read the next line of the file,
re-opening the file if necessary.
.Pp
The
.Fn sethostent
function opens and/or rewinds the file
.Pa /etc/hosts .
If the
.Fa stayopen
argument is non-zero, the file will not be closed after each call to
.Fn gethostbyname ,
.Fn gethostbyname2 ,
or
.Fn gethostbyaddr .
.Pp
The
.Fn endhostent
function closes the file.
.Sh BUGS
These functions use static data storage;
if the data is needed for future use, it should be
copied before any subsequent calls overwrite it.
.Pp
Only the Internet
address formats are currently understood.
.Pp
YP does not support any address families other than
.Dv AF_INET
and uses
the traditional database format.
@


1.31
log
@Make RES_OPTIONS point directly to resolv.conf(5) instead of going through
resolver(3).

OK jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.30 2015/12/19 18:59:10 tim Exp $
d30 1
a30 1
.Dd $Mdocdate: December 19 2015 $
d71 5
a75 1
describing an Internet host referenced by name or by address, respectively.
d100 3
a102 1
A null-terminated array of alternate names for the host.
d108 3
a110 1
A null-terminated array of network addresses for the host.
d148 1
a148 2
.Tn TCP
socket for queries.
d152 1
a152 2
this sets the option to send all queries to the name server using
.Tn TCP
d157 1
a157 3
Otherwise, queries are performed using
.Tn UDP
datagrams.
d161 1
a161 3
function closes the
.Tn TCP
connection.
d168 2
a169 1
is non-null,
d177 1
a177 1
.Fa h_errno .
d180 1
a180 1
.It RES_OPTIONS
d197 3
a199 1
is indicated by return of a null pointer.
a245 4
.Fn herror
function appeared in
.Bx 4.3 .
The
d253 12
a264 1
.Bx 4.2 .
@


1.30
log
@gethostbyname2() and gethostbyaddr() need <sys/socket.h>; discussed with
millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.29 2015/12/16 18:12:42 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: December 16 2015 $
d180 1
a180 1
.Xr resolver 3
@


1.29
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.28 2015/12/16 16:32:30 deraadt Exp $
a48 4
.Fn gethostbyname2 "const char *name" "int af"
.Ft struct hostent *
.Fn gethostbyaddr "const void *addr" "socklen_t len" "int af"
.Ft struct hostent *
d58 6
@


1.28
log
@Remove support for HOSTALIASES from the resolver.  This "open and parse
any file indicated by an environment variable" feature inside the
resolver is incompatible with what pledge "dns" is trying to be.  It is
a misguided "feature" added way back in history which almost noone uses,
but everyone has to assume the risk from.
ok eric florian kettenis
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.27 2014/08/23 07:25:54 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: August 23 2014 $
d174 1
@


1.27
log
@unbind;
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.26 2013/06/05 03:39:23 tedu Exp $
d30 1
a30 1
.Dd $Mdocdate: June 5 2013 $
a173 6
.Bl -tag -width HOSTALIASES
.It HOSTALIASES
A file containing local host aliases.
See
.Xr hostname 7
for more information.
@


1.26
log
@Use the fancy .In macro for includes. From Jan Klemkow. ok jmc schwarze
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.25 2007/05/31 19:19:30 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: May 31 2007 $
d70 1
a70 4
This structure contains either information obtained from the name server (i.e.,
.Xr resolver 3
and
.Xr named 8 ) ,
d241 1
a241 2
.Xr hostname 7 ,
.Xr named 8
@


1.25
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.24 2005/07/22 04:50:51 jaredy Exp $
d30 1
a30 1
.Dd $Mdocdate$
d44 1
a44 1
.Fd #include <netdb.h>
@


1.24
log
@- sync prototypes and header file excerpts
- typos/spelling, punctuation, rewording, macro, and layout fixes.

help & ok jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.23 2005/06/08 18:32:34 millert Exp $
d30 1
a30 1
.Dd March 13, 1997
@


1.23
log
@Make gethostbyaddr() prototype match POSIX.  This means len is now
unsigned but there is no ABI change.  OK deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.22 2004/03/14 18:05:37 jmc Exp $
d45 1
a45 1
.Fd extern int h_errno;
d65 1
a65 1
.Fn gethostbyname2
d69 1
a69 1
describing an internet host referenced by name or by address, respectively.
d81 1
a81 1
.Bd -literal
d87 1
a87 1
	char	**h_addr_list;	/* list of addresses from name server */
d89 1
a89 1
#define	h_addr  h_addr_list[0]	/* address, for backward compatibility */
d97 1
a97 1
A NULL-terminated array of alternate names for the host.
d103 1
a103 1
A zero-terminated array of network addresses for the host.
d230 1
a230 1
This may occurs when an address family other than
d290 1
@


1.22
log
@remove some weirdness;
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.21 2004/03/02 21:37:56 tedu Exp $
d51 1
a51 1
.Fn gethostbyaddr "const char *addr" "int len" "int af"
@


1.21
log
@fix formatting, Pedro Martelletto
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.20 2003/06/30 16:54:53 millert Exp $
a234 1
the 
@


1.20
log
@Mention environment variables used + some other minor fixes.
jmc@@ and henning@@ OK
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.19 2003/06/02 20:18:35 millert Exp $
d231 1
a231 1
.It Dv AF_INET
d233 1
a233 1
.It Dv AF_INET6
@


1.19
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.18 2003/05/30 21:37:59 jmc Exp $
d64 2
a65 1
.Fn gethostbyname
d97 1
a97 1
A zero-terminated array of alternate names for the host.
d123 4
a126 2
.Dv AF_INET ,
for example
d176 13
d228 10
@


1.18
log
@- section reorder
- macro cleanup
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.17 2002/04/30 16:31:42 mpech Exp $
d14 1
a14 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.17
log
@Initial cleanup:
o) remove extra space in the end of line;
o) remove extra blank lines in the end of file;
o) remove .Pp before .Ss;
o) CAVEAT -> CAVEATS;
o) fix usage of .Fa;
o) <blank-line> -> .Pp;
o) wrap long lines;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.16 2000/12/24 00:30:56 aaron Exp $
a217 1
.Xr resolver 3 ,
d220 1
d225 14
a264 14
.Sh HISTORY
The
.Fn herror
function appeared in
.Bx 4.3 .
The
.Fn endhostent ,
.Fn gethostbyaddr ,
.Fn gethostbyname ,
.Fn gethostent ,
and
.Fn sethostent
functions appeared in
.Bx 4.2 .
@


1.16
log
@Various repairs, mostly to get rid of short lines.
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.15 2000/04/18 03:01:31 aaron Exp $
d225 1
a225 1
.Sh CAVEAT
@


1.15
log
@Repairs, mostly removing hard sentence breaks.
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.14 2000/04/15 02:15:22 aaron Exp $
d71 2
a72 4
functions
each return a pointer to an object with the
following structure describing an internet host
referenced by name or by address, respectively.
d141 1
a141 2
function
may be used to request the use of a connected
d159 1
a159 2
function
closes the
d238 1
a238 2
function
opens and/or rewinds the file
d242 1
a242 2
argument is non-zero,
the file will not be closed after each call to
d250 1
a250 2
function
closes the file.
@


1.14
log
@Mostly punctuation fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.13 2000/01/05 01:04:14 deraadt Exp $
d169 2
a170 1
function prints an error message describing the failure.  If its argument
d175 2
a176 1
and a space.  The error message is printed with a trailing newline.
@


1.13
log
@Xr getnameinfo and friends
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.12 1999/07/05 04:40:59 aaron Exp $
d78 1
a78 1
.Xr named 8 ),
@


1.12
log
@repairs; better English, formatting, etc.
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.11 1999/05/21 18:18:09 deraadt Exp $
d221 2
@


1.11
log
@improve. pushed by bengt@@softwell.se
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.10 1999/02/27 21:55:27 deraadt Exp $
d75 1
a75 1
This structure contains either information obtained from the name server (ie.
d78 2
a79 2
.Xr named 8 ), Ns
broken-out fields from a line in 
d102 1
a102 1
A zero terminated array of alternate names for the host.
d108 1
a108 1
A zero terminated array of network addresses for the host.
d135 1
a135 1
.Dv len
d137 1
a137 1
.Dv af .
d152 1
a152 1
and to retain the connection after each call to 
d171 1
a171 2
is
.Pf non Dv -NULL ,
d173 1
d175 1
a175 1
The contents of the error message is the same as that returned by 
d185 1
a185 1
Error return status from 
d211 2
a212 2
The requested name is valid but does not have an IP address; 
this is not a temporary error.  
d257 1
a257 1
function appeared in 
d275 1
a275 1
YP does not support any address families other than 
@


1.10
log
@make function names the correct case
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.9 1998/09/07 16:44:35 aaron Exp $
d55 1
a55 1
.Fn gethostbyaddr "const char *addr" "int len" "int type"
d75 4
a78 2
This structure contains either the information obtained from the name server,
.Xr named 8 ,
d83 3
a85 3
system .
If the local name server is not running these routines do a lookup in
.Pa /etc/hosts .
d116 1
a116 1
When using the nameserver,
d119 4
a122 8
unless the name ends in a dot.
If the name contains no dot, and if the environment variable
.Dq Ev HOSTALIASES
contains the name of an alias file, the alias file will first be searched
for an alias matching the input name.
See
.Xr hostname 7
for the domain search procedure and the alias file format.
d133 9
d180 1
a180 1
.Bl -tag -width /etc/hosts -compact
d182 1
d222 1
d226 5
a230 1
The
d232 3
a234 4
function
reads the next line of
.Pa /etc/hosts ,
opening the file if necessary.
@


1.9
log
@More man page fixes. Particularly fix uses of it's/its, affect/effect,
then/than and such. Other miscellaneous problems fixed across these source
files.
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.8 1998/07/24 20:49:11 deraadt Exp $
d126 1
a126 1
.Fn Gethostbyname2
@


1.8
log
@fix spelling of separate
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.7 1997/06/13 13:30:35 deraadt Exp $
d162 1
a162 1
function prints an error message describing the failure.  If it's argument
@


1.7
log
@hstrerror
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.6 1997/04/26 22:13:41 michaels Exp $
d166 1
a166 1
it is prepended to the message string and seperated from it by a colon
@


1.6
log
@my keyboard made a typo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.5 1997/04/26 22:06:38 michaels Exp $
d44 1
d64 2
@


1.5
log
@correct declaration given for herror(3) and describe better.
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.4 1997/03/13 19:07:23 downsj Exp $
d167 1
a167 1
with arrgument
@


1.4
log
@Integrate BIND 4.9.5 resolver and associated routines.

Includes the DNS aware getnetby*() routines and IPv6 support.
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.3 1996/08/19 08:28:38 tholo Exp $
d62 1
a62 1
.Fn herror "char *string"
d156 13
a183 9
The routine
.Fn herror
can be used to print an error message describing the failure.
If its argument
.Fa string
is
.Pf non Dv -NULL ,
it is printed, followed by a colon and a space.
The error message is printed with a trailing newline.
@


1.3
log
@Fix RCS ids
Make sure everything uses {SYS,}LIBC_SCCS properly
@
text
@d1 1
a1 1
.\"	$OpenBSD: gethostbyname.3,v 1.6 1995/02/25 06:20:28 cgd Exp $
d34 1
a34 1
.Dd April 19, 1994
d36 1
a36 1
.Os BSD 4.2
d39 1
d52 2
d99 1
a99 2
The type of address being returned; currently always
.Dv AF_INET .
d109 1
d123 8
d162 2
a163 1
.Fn gethostbyname
a212 14
is defined, and
.Fn sethostent
and
.Fn endhostent
are redefined,
when
.Xr libc 3
is built to use only the routines to lookup in
.Pa /etc/hosts
and not the name server.
.Pp
The
.Fn gethostent
function
d226 2
a227 1
.Fn gethostbyname
d254 6
a259 1
address format is currently understood.
@


1.2
log
@Add return values for sethostent, endhostent, herror (all are void).
@
text
@d1 1
a1 1
.\"	$NetBSD: gethostbyname.3,v 1.6 1995/02/25 06:20:28 cgd Exp $
a32 2
.\"
.\"     @@(#)gethostbyname.3	8.2 (Berkeley) 4/19/94
@


1.1
log
@Initial revision
@
text
@d56 1
d58 1
d60 1
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
