head	1.9;
access;
symbols
	OPENBSD_6_2_BASE:1.9
	OPENBSD_6_1:1.9.0.8
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.9.0.4
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.8.0.6
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.2
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.7.0.6
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.4
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.5.0.24
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.22
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.20
	OPENBSD_5_0:1.5.0.18
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.16
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.14
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.10
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.12
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.8
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.6
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.4
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.4.0.8
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.6
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.4
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.2
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.3.0.10
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.8
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.6
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.4
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3;
locks; strict;
comment	@.\" @;


1.9
date	2015.09.10.17.55.21;	author schwarze;	state Exp;
branches;
next	1.8;
commitid	PeV7Ql0T6htfMjhP;

1.8
date	2014.12.10.19.19.00;	author schwarze;	state Exp;
branches;
next	1.7;
commitid	sADK4BTCz4ZrHHo9;

1.7
date	2013.08.14.06.32.29;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2013.05.07.01.44.57;	author dlg;	state Exp;
branches;
next	1.5;

1.5
date	2007.05.31.19.19.33;	author jmc;	state Exp;
branches;
next	1.4;

1.4
date	2005.05.01.03.23.38;	author djm;	state Exp;
branches;
next	1.3;

1.3
date	2003.03.06.20.04.06;	author jmc;	state Exp;
branches;
next	1.2;

1.2
date	2002.11.10.03.21.48;	author fgsch;	state Exp;
branches;
next	1.1;

1.1
date	2002.10.30.20.15.29;	author millert;	state Exp;
branches;
next	;


desc
@@


1.9
log
@use .In rather than .Fd #include
@
text
@.\" $OpenBSD: setresuid.2,v 1.8 2014/12/10 19:19:00 schwarze Exp $
.\"
.\" Copyright (c) 2000
.\"      Sheldon Hearn.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES
.\"
.\" $FreeBSD: src/lib/libc/sys/setresuid.2,v 1.12 2001/10/01 16:09:02 ru Exp $
.\"
.Dd $Mdocdate: December 10 2014 $
.Dt SETRESUID 2
.Os
.Sh NAME
.Nm getresgid ,
.Nm getresuid ,
.Nm setresgid ,
.Nm setresuid
.Nd get or set real, effective and saved user or group ID
.Sh SYNOPSIS
.In sys/types.h
.In unistd.h
.Ft int
.Fn getresgid "gid_t *rgid" "gid_t *egid" "gid_t *sgid"
.Ft int
.Fn getresuid "uid_t *ruid" "uid_t *euid" "uid_t *suid"
.Ft int
.Fn setresgid "gid_t rgid" "gid_t egid" "gid_t sgid"
.Ft int
.Fn setresuid "uid_t ruid" "uid_t euid" "uid_t suid"
.Sh DESCRIPTION
The
.Fn setresuid
function sets the real,
effective and saved user IDs of the current process.
The analogous
.Fn setresgid
sets the real, effective and saved group IDs.
.Pp
Privileged processes may set these IDs to arbitrary values.
Unprivileged processes are restricted
in that each of the new IDs must match one of the current IDs.
.Pp
Passing \-1 as an argument causes the corresponding value
to remain unchanged.
.Pp
The
.Fn getresgid
and
.Fn getresuid
calls retrieve the real, effective, and saved group and user IDs of
the current process, respectively.
.Sh RETURN VALUES
.Rv -std
.Sh ERRORS
.Bl -tag -width Er
.It Bq Er EPERM
The calling process was not privileged and tried to change one or
more IDs to a value which was not the current real ID, the current
effective ID nor the current saved ID.
.It Bq Er EFAULT
An address passed to
.Fn getresgid
or
.Fn getresuid
was invalid.
.El
.Sh SEE ALSO
.Xr getegid 2 ,
.Xr geteuid 2 ,
.Xr getgid 2 ,
.Xr getuid 2 ,
.Xr issetugid 2 ,
.Xr setgid 2 ,
.Xr setregid 2 ,
.Xr setreuid 2 ,
.Xr setuid 2
.Sh STANDARDS
These functions are not part of the
.St -p1003.1
specification.
While they are not completely portable, they are the least ambiguous way to
manage user and group IDs.
.Sh HISTORY
These functions first appeared in HP-UX.
@


1.8
log
@use .Rv; no change of meaning; from Kaspars at Bankovskis dot net
@
text
@d1 1
a1 1
.\" $OpenBSD: setresuid.2,v 1.7 2013/08/14 06:32:29 jmc Exp $
d24 1
a24 1
.Dd $Mdocdate: August 14 2013 $
d34 2
a35 2
.Fd #include <sys/types.h>
.Fd #include <unistd.h>
@


1.7
log
@no longer any need to quote macro lines with >9 args;
From: Jan Stary
@
text
@d1 1
a1 1
.\" $OpenBSD: setresuid.2,v 1.6 2013/05/07 01:44:57 dlg Exp $
d24 1
a24 1
.Dd $Mdocdate: May 7 2013 $
d67 1
a67 4
Upon successful completion, a value of 0 is returned.
Otherwise, a value of \-1 is returned and
.Va errno
is set to indicate the error.
@


1.6
log
@on failure errno is set as well
@
text
@d1 1
a1 1
.\" $OpenBSD: setresuid.2,v 1.5 2007/05/31 19:19:33 jmc Exp $
d24 1
a24 1
.Dd $Mdocdate: May 31 2007 $
d32 1
a32 1
.Nd "get or set real, effective and saved user or group ID"
@


1.5
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: setresuid.2,v 1.4 2005/05/01 03:23:38 djm Exp $
d24 1
a24 1
.Dd $Mdocdate$
d67 4
a70 1
Upon success, these functions return 0; otherwise \-1 is returned.
@


1.4
log
@recommend this API better; "a good start" deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: setresuid.2,v 1.3 2003/03/06 20:04:06 jmc Exp $
d24 1
a24 1
.Dd October 20, 2002
@


1.3
log
@.Xr typos;

ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: setresuid.2,v 1.2 2002/11/10 03:21:48 fgsch Exp $
d94 3
a96 1
specification and should not be used where portability is desired.
@


1.2
log
@SEE ALSO corrections. millert ok.
@
text
@d1 1
a1 1
.\" $OpenBSD$
d88 3
a90 3
.Xr setuid 2 ,
.Xr setregid 3 ,
.Xr setreuid 3
@


1.1
log
@Add [gs]etres[ug]id(2) syscall to libc and use it in emulating some 4.3BSD
functions.
@
text
@d88 3
a90 3
.Xr setregid 2 ,
.Xr setreuid 2 ,
.Xr setuid 2
@

