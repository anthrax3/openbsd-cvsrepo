head	1.18;
access;
symbols
	OPENBSD_6_2:1.18.0.10
	OPENBSD_6_2_BASE:1.18
	OPENBSD_6_1:1.18.0.8
	OPENBSD_6_1_BASE:1.18
	OPENBSD_6_0:1.18.0.4
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.2
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.17.0.6
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.17.0.2
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.15.0.32
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.15.0.30
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.26
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.24
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.22
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.20
	OPENBSD_5_0:1.15.0.18
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.16
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.15.0.14
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.10
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.15.0.12
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.8
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.6
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.4
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.15.0.2
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.14.0.8
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.14.0.6
	OPENBSD_4_0_BASE:1.14
	OPENBSD_3_9:1.14.0.4
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.14.0.2
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.10.0.2
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.9.0.6
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.9.0.4
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.8.0.12
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.10
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.8.0.8
	OPENBSD_3_1_BASE:1.8
	OPENBSD_3_0:1.8.0.6
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9:1.8.0.4
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.8.0.2
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.1.1.1.0.8
	OPENBSD_2_3_BASE:1.1.1.1
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.18
date	2015.09.10.17.55.21;	author schwarze;	state Exp;
branches;
next	1.17;
commitid	PeV7Ql0T6htfMjhP;

1.17
date	2015.01.19.15.54.11;	author millert;	state Exp;
branches;
next	1.16;
commitid	nJ2wjGsUe8RwMTRS;

1.16
date	2014.12.10.19.19.00;	author schwarze;	state Exp;
branches;
next	1.15;
commitid	sADK4BTCz4ZrHHo9;

1.15
date	2007.05.31.19.19.32;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2005.08.12.17.47.41;	author jaredy;	state Exp;
branches;
next	1.13;

1.13
date	2005.08.10.01.09.22;	author jaredy;	state Exp;
branches;
next	1.12;

1.12
date	2005.03.26.13.31.35;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2005.03.26.08.33.57;	author tedu;	state Exp;
branches;
next	1.10;

1.10
date	2005.02.25.03.12.44;	author cloder;	state Exp;
branches;
next	1.9;

1.9
date	2003.06.02.20.18.38;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2000.10.18.05.12.08;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.15.11.46.02;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.10.07.22.28.04;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.06.29.14.09.49;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.05.23.14.10.50;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	99.02.27.21.56.06;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	98.07.06.18.27.04;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.42.24;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.42.24;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.18
log
@use .In rather than .Fd #include
@
text
@.\"	$OpenBSD: acct.2,v 1.17 2015/01/19 15:54:11 millert Exp $
.\"	$NetBSD: acct.2,v 1.6 1995/02/27 12:31:47 cgd Exp $
.\"
.\" Copyright (c) 1980, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @@(#)acct.2	8.1 (Berkeley) 6/4/93
.\"
.Dd $Mdocdate: January 19 2015 $
.Dt ACCT 2
.Os
.Sh NAME
.Nm acct
.Nd enable or disable process accounting
.Sh SYNOPSIS
.In unistd.h
.Ft int
.Fn acct "const char *file"
.Sh DESCRIPTION
The
.Fn acct
call enables or disables the collection of system accounting records.
If
.Fa file
is
.Dv NULL ,
accounting is disabled.
If
.Fa file
is an existing, NUL-terminated pathname, record collection is enabled
and for every process initiated which terminates under normal conditions
an accounting record is appended to
.Fa file .
Abnormal conditions of termination are reboots or other
fatal system problems.
Records for processes which never terminate cannot be produced by
.Fn acct .
.Fn acct
is only available on kernels compiled with the
.Cm ACCOUNTING
option.
.Pp
For more information on the record structure used by
.Fn acct ,
see
.Pa /usr/include/sys/acct.h
and
.Xr acct 5 .
.Pp
This call is permitted only to the superuser.
.Sh NOTES
Accounting is automatically disabled when the file system the
accounting file resides on runs out of space; it is enabled when
space once again becomes available.
.Sh RETURN VALUES
.Rv -std
.Sh ERRORS
.Fn acct
will fail if one of the following is true:
.Bl -tag -width Er
.It Bq Er EPERM
The caller is not the superuser.
.It Bq Er ENOTDIR
A component of the path prefix is not a directory.
.It Bq Er ENAMETOOLONG
A component of a pathname exceeded
.Dv NAME_MAX
characters, or an entire pathname (including the terminating NUL)
exceeded
.Dv PATH_MAX
bytes.
.It Bq Er ENOENT
The named file does not exist.
.It Bq Er EACCES
Search permission is denied for a component of the path prefix,
or the path name is not a regular file.
.It Bq Er ELOOP
Too many symbolic links were encountered in translating the pathname.
.It Bq Er EROFS
The named file resides on a read-only file system.
.It Bq Er EFAULT
.Fa file
points outside the process's allocated address space.
.It Bq Er EIO
An I/O error occurred while reading from or writing to the file system.
.El
.Sh SEE ALSO
.Xr acct 5 ,
.Xr accton 8 ,
.Xr sa 8
.Sh HISTORY
An
.Fn acct
function call appeared in
.At v7 .
@


1.17
log
@Explicitly mention that PATH_MAX includes the NUL in the ENAMETOOLONG
description.
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.16 2014/12/10 19:19:00 schwarze Exp $
d33 1
a33 1
.Dd $Mdocdate: December 10 2014 $
d40 1
a40 1
.Fd #include <unistd.h>
@


1.16
log
@use .Rv; no change of meaning; from Kaspars at Bankovskis dot net
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.15 2007/05/31 19:19:32 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
d91 5
a95 4
.Dv {NAME_MAX}
characters, or an entire path name exceeded
.Dv {PATH_MAX}
characters.
@


1.15
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.14 2005/08/12 17:47:41 jaredy Exp $
d33 1
a33 1
.Dd $Mdocdate$
d80 1
a80 4
On success, zero is returned.
Otherwise, \-1 is returned and
.Va errno
is set to indicate the error.
@


1.14
log
@remove incorrect punctuation introduced by last revision,
pointed out by deraadt and jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.13 2005/08/10 01:09:22 jaredy Exp $
d33 1
a33 1
.Dd June 4, 1993
@


1.13
log
@- punctuation & wording
- fix up RETURN VALUES section

ok jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.12 2005/03/26 13:31:35 jmc Exp $
d54 1
a54 1
is an existing, NUL-terminated pathname, record collection is enabled,
@


1.12
log
@- use .Cm rather than .Nm for kernel options
- no space needed before full stops here
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.11 2005/03/26 08:33:57 tedu Exp $
d54 1
a54 1
is an existing, NUL-terminated pathname, record collection is enabled
d60 1
a60 1
Records for processes which never terminate can not be produced by
d80 4
a83 2
On error \-1 is returned.
The file must exist and the call may be exercised only by the superuser.
@


1.11
log
@acct, ktrace, and ptrace are only available if the kernel option is there.
say so.
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.10 2005/02/25 03:12:44 cloder Exp $
d64 2
a65 2
.Nm ACCOUNTING
option .
@


1.10
log
@Be correct in our man pages when talking about NUL termination (that is,
termination with '\0') vs. null termination.
Input from krw@@, jaredy@@, jmc@@.  OK deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.9 2003/06/02 20:18:38 millert Exp $
d62 4
@


1.9
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.8 2000/10/18 05:12:08 aaron Exp $
d54 1
a54 1
is an existing, null-terminated pathname, record collection is enabled
@


1.8
log
@Another round of man page cleanup, this time to remove more hard sentence
breaks and getting rid of short lines, making these files easier to work with.
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.7 2000/04/15 11:46:02 aaron Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.7
log
@- For consistency, `super-user' -> `superuser' in all cases.
- Some punctuation fixes.
- Some `id' -> `ID'.
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.6 1999/10/07 22:28:04 aaron Exp $
d50 1
a50 2
call enables or disables the collection of system accounting
records.
d58 3
a60 4
is an existing,
null-terminated pathname, record collection is enabled and for
every process initiated which terminates under normal
conditions an accounting record is appended to
d62 3
a64 4
Abnormal conditions of termination are reboots
or other fatal system problems.
Records for processes which never terminate can not be
produced by
@


1.6
log
@- Xr acct(2) from accton(8) and vice-versa.
- Add a FILES section to accton(8) indicating the default accounting file.
- From pjanzen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.5 1999/06/29 14:09:49 aaron Exp $
d77 1
a77 1
This call is permitted only to the super-user.
d84 1
a84 1
The file must exist and the call may be exercised only by the super-user.
d90 1
a90 1
The caller is not the super-user.
@


1.5
log
@- change references to nil to null; tschroed@@acm.org
- remove trailing spaces from end of lines
- add some .Dv
- change -1 to \-1, so `-' is taken as a negative sign
- other misc formatting fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.4 1999/05/23 14:10:50 aaron Exp $
d116 1
@


1.4
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.3 1999/02/27 21:56:06 deraadt Exp $
d52 1
a52 1
If the argument
d54 3
a56 1
is a nil pointer, accounting is disabled.
d59 2
a60 3
is an
.Em existing
pathname (null-terminated), record collection is enabled and for 
d83 1
a83 1
On error -1 is returned.
d94 1
a94 1
A component of a pathname exceeded 
d96 1
a96 1
characters, or an entire path name exceeded 
d120 1
a120 1
function call appeared in 
@


1.3
log
@make function names the correct case
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.2 1998/07/06 18:27:04 deraadt Exp $
d39 1
a39 1
.Os BSD 4
@


1.2
log
@fix openbsd tag
@
text
@d1 1
a1 1
.\"	$OpenBSD: acct.2,v 1.6 1995/02/27 12:31:47 cgd Exp $
d85 1
a85 1
.Fn Acct
d108 1
a108 1
.Fa File
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
