head	1.18;
access;
symbols
	OPENBSD_6_0:1.18.0.4
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.2
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.17.0.6
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.17.0.2
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.16.0.6
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.16.0.4
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.15.0.8
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.6
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.4
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.2
	OPENBSD_5_0:1.14.0.12
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.14.0.10
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.14.0.8
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.14.0.4
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.14.0.6
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.2
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.13.0.6
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.4
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.2
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.12.0.14
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.12.0.12
	OPENBSD_4_0_BASE:1.12
	OPENBSD_3_9:1.12.0.10
	OPENBSD_3_9_BASE:1.12
	OPENBSD_3_8:1.12.0.8
	OPENBSD_3_8_BASE:1.12
	OPENBSD_3_7:1.12.0.6
	OPENBSD_3_7_BASE:1.12
	OPENBSD_3_6:1.12.0.4
	OPENBSD_3_6_BASE:1.12
	OPENBSD_3_5:1.12.0.2
	OPENBSD_3_5_BASE:1.12
	OPENBSD_3_4:1.10.0.2
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.9.0.2
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.8.0.10
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.8.0.8
	OPENBSD_3_1_BASE:1.8
	OPENBSD_3_0:1.8.0.6
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9:1.8.0.4
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.8.0.2
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.2.0.10
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.8
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.18
date	2015.09.10.17.55.21;	author schwarze;	state Exp;
branches;
next	1.17;
commitid	PeV7Ql0T6htfMjhP;

1.17
date	2014.11.15.14.41.02;	author bentley;	state Exp;
branches;
next	1.16;
commitid	HuCemPIiOkto0SJD;

1.16
date	2014.01.21.03.15.45;	author schwarze;	state Exp;
branches;
next	1.15;

1.15
date	2011.12.03.23.01.21;	author schwarze;	state Exp;
branches;
next	1.14;

1.14
date	2008.09.12.05.15.54;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2007.05.31.19.19.33;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2004.03.11.14.43.44;	author tom;	state Exp;
branches;
next	1.11;

1.11
date	2004.01.23.23.08.46;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2003.06.02.20.18.39;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2003.02.28.21.34.37;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2000.10.18.05.12.11;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.15.11.46.04;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.07.06.08.21.17;	author downsj;	state Exp;
branches;
next	1.5;

1.5
date	99.06.29.14.10.15;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.05.23.14.10.55;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	99.02.27.21.56.41;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.10.08.01.20.13;	author michaels;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.42.28;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.42.28;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.18
log
@use .In rather than .Fd #include
@
text
@.\"	$OpenBSD: reboot.2,v 1.17 2014/11/15 14:41:02 bentley Exp $
.\"	$NetBSD: reboot.2,v 1.5 1995/02/27 12:36:02 cgd Exp $
.\"
.\" Copyright (c) 1980, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @@(#)reboot.2	8.1 (Berkeley) 6/4/93
.\"
.Dd $Mdocdate: November 15 2014 $
.Dt REBOOT 2
.Os
.Sh NAME
.Nm reboot
.Nd reboot system or halt processor
.Sh SYNOPSIS
.In unistd.h
.In sys/reboot.h
.Ft int
.Fn reboot "int howto"
.Sh DESCRIPTION
.Fn reboot
reboots the system.
Only the superuser may reboot a machine on demand.
However, a reboot is invoked
automatically in the event of unrecoverable system failures.
.Pp
.Fa howto
is a mask of options; the system call interface allows the following
options, defined in the include file
.In sys/reboot.h ,
to be passed
to the new kernel or the new bootstrap and init programs.
.Bl -tag -width RB_INITNAMEA
.It Dv RB_AUTOBOOT
The default, causing the system to reboot in its usual fashion.
.It Dv RB_ASKNAME
Interpreted by the bootstrap program itself, causing it to
prompt on the console as to what file should be booted.
Normally, the system is booted from the file
.Dq Em xx Ns (0,0)bsd ,
where
.Em xx
is the default disk name,
without prompting for the file name.
.It Dv RB_DFLTROOT
Use the compiled in root device.
Normally, the system uses the device from which it was booted
as the root device if possible.
(The default behavior is dependent on the ability of the bootstrap program
to determine the drive from which it was loaded, which is not possible
on all systems.)
.It Dv RB_DUMP
Dump kernel memory before rebooting; see
.Xr savecore 8
for more information.
.It Dv RB_HALT
The processor is simply halted; no reboot takes place.
.It Dv RB_POWERDOWN
If used in conjunction with
.Dv RB_HALT ,
and if the system hardware supports the function, the system will be
powered off.
.It Dv RB_USERREQ
By default, the system will halt if
.Fn reboot
is called during startup (before the system has finished autoconfiguration),
even if
.Dv RB_HALT
is not specified.
This is because
.Xr panic 9 Ns s
during startup will probably just repeat on the next boot.
Use of this option implies that the user has requested the action
specified (for example, using the
.Xr ddb 4
.Ic boot reboot
command),
so the system will reboot if a halt is not explicitly requested.
.It Dv RB_INITNAME
An option allowing the specification of an init program (see
.Xr init 8 )
other than
.Pa /sbin/init
to be run when the system reboots.
This switch is not currently available.
.It Dv RB_KDB
Load the symbol table and enable a built-in debugger in the system.
This option will have no useful function if the kernel is not configured
for debugging.
Several other options have different meaning if combined
with this option, although their use may not be possible via the
.Fn reboot
call.
See
.Xr ddb 4
for more information.
.It Dv RB_NOSYNC
Normally, the disks are sync'd (see
.Xr sync 8 )
before the processor is halted or rebooted.
This option may be useful if file system changes have been made manually
or if the processor is on fire.
.It Dv RB_RDONLY
Initially mount the root file system read-only.
This is currently the default, and this option has been deprecated.
.It Dv RB_SINGLE
Normally, the reboot procedure involves an automatic disk consistency
check and then multi-user operations.
.Dv RB_SINGLE
prevents this, booting the system with a single-user shell
on the console.
.Dv RB_SINGLE
is actually interpreted by the
.Xr init 8
program in the newly booted system.
.Pp
When no options are given (i.e.,
.Dv RB_AUTOBOOT
is used), the system is
rebooted from file
.Pa /bsd
in the root file system of unit 0
of a disk chosen in a processor specific way.
An automatic consistency check of the disks is normally performed
(see
.Xr fsck 8 ) .
.El
.Sh RETURN VALUES
If successful, this call never returns.
Otherwise, a \-1 is returned and an error is returned in the global
variable
.Va errno .
.Sh ERRORS
.Bl -tag -width Er
.It Bq Er EPERM
The caller is not the superuser.
.El
.Sh SEE ALSO
.Xr ddb 4 ,
.Xr crash 8 ,
.Xr halt 8 ,
.Xr init 8 ,
.Xr reboot 8 ,
.Xr savecore 8 ,
.Xr boot 9 ,
.Xr panic 9
.Sh HISTORY
The
.Fn reboot
system call finally appeared in
.Bx 4.0 .
.Sh BUGS
Not all platforms support all possible arguments.
@


1.17
log
@Reduce instances of `` '' in manuals.

troff displays these as typographic quotes, but nroff implementations
almost always print them literally, which rarely has the intended effect
with modern fonts, even in stock xterm.

These uses of `` '' can be replaced either with more semantic alternatives
or with Dq, which prints typographic quotes in a UTF-8 locale (but will
automatically fall back to `` '' in an ASCII locale).

improvements and ok schwarze@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.16 2014/01/21 03:15:45 schwarze Exp $
d33 1
a33 1
.Dd $Mdocdate: January 21 2014 $
d40 2
a41 2
.Fd #include <unistd.h>
.Fd #include <sys/reboot.h>
@


1.16
log
@obvious .Pa fixes; found with mandocdb(8)
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.15 2011/12/03 23:01:21 schwarze Exp $
d33 1
a33 1
.Dd $Mdocdate: December 3 2011 $
d144 3
a146 1
rebooted from file ``bsd'' in the root file system of unit 0
@


1.15
log
@Remove an OpenBSD-specific tweak regarding .Xr spacing
and make it compatible with bsd.lv mandoc and with groff-1.21.
This tweak was originally added for compatibility with groff-1.15,
which is no longer needed.

ok jmc@@ kristaps@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.14 2008/09/12 05:15:54 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: September 12 2008 $
d54 1
a54 1
.Aq Pa sys/reboot.h ,
d172 1
a172 1
function call appeared in
@


1.14
log
@as we did for reboot(8), do not attempt to list architectures
which do or do not support certain options: it just goes horribly
out of date;
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.13 2007/05/31 19:19:33 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
d95 1
a95 1
.Xr panic 9 s
@


1.13
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.12 2004/03/11 14:43:44 tom Exp $
d33 1
a33 1
.Dd $Mdocdate$
a175 3
For example,
.Dv RB_POWERDOWN
is supported only on the i386, sparc, and mac68k platforms.
@


1.12
log
@Document RB_USERREQ

ok beck@@, jmc@@, deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.11 2004/01/23 23:08:46 jmc Exp $
d33 1
a33 1
.Dd June 4, 1993
@


1.11
log
@`Ns' implies `No', so `Ns No' -> `Ns'; (even simpler in adduser(8))
discussed with todd@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.10 2003/06/02 20:18:39 millert Exp $
d87 16
d166 3
a168 1
.Xr savecore 8
@


1.10
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.9 2003/02/28 21:34:37 jmc Exp $
d64 1
a64 1
.Dq Em xx Ns No (0,0)bsd ,
@


1.9
log
@typos;

reboot(2), sigaction(2): help and ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.8 2000/10/18 05:12:11 aaron Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.8
log
@Another round of man page cleanup, this time to remove more hard sentence
breaks and getting rid of short lines, making these files easier to work with.
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.7 2000/04/15 11:46:04 aaron Exp $
d85 1
a85 1
the processor is simply halted; no reboot takes place.
d107 1
a107 1
.Xr kadb 4
d149 1
a149 1
.Xr kadb 4 ,
@


1.7
log
@- For consistency, `super-user' -> `superuser' in all cases.
- Some punctuation fixes.
- Some `id' -> `ID'.
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.6 1999/07/06 08:21:17 downsj Exp $
d103 1
a103 2
with this option, although their use may not be possible
via the
a154 4
.Sh BUGS
Not all platforms support all possible arguments.  For example,
.Dv RB_POWERDOWN
is supported only on the i386, sparc, and mac68k platforms.
d160 5
@


1.6
log
@Update to reflect reality.
@
text
@d1 1
a1 1
.\"	$OpenBSD: reboot.2,v 1.5 1999/06/29 14:10:15 aaron Exp $
d51 1
a51 1
Only the super-user may reboot a machine on demand.
d147 1
a147 1
The caller is not the super-user.
@


1.5
log
@- change references to nil to null; tschroed@@acm.org
- remove trailing spaces from end of lines
- add some .Dv
- change -1 to \-1, so `-' is taken as a negative sign
- other misc formatting fixes
@
text
@d1 1
a1 1
.\"   $OpenBSD: reboot.2,v 1.4 1999/05/23 14:10:55 aaron Exp $
d86 5
a90 1
This option should be used with caution.
d157 3
a159 4
The HP300 implementation supports neither
.Dv RB_DFLTROOT
nor
.Dv RB_KDB .
@


1.4
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"   $OpenBSD: reboot.2,v 1.3 1999/02/27 21:56:41 deraadt Exp $
d137 1
a137 1
Otherwise, a -1 is returned and an error is returned in the global
@


1.3
log
@make function names the correct case
@
text
@d1 1
a1 1
.\"   $OpenBSD: reboot.2,v 1.2 1996/10/08 01:20:13 michaels Exp $
d39 1
a39 1
.Os BSD 4
@


1.2
log
@Attempt at cleanup.
@
text
@d1 1
a1 1
.\"   $OpenBSD$
d49 1
a49 1
.Fn Reboot
d55 1
a55 1
.Fa Howto
@


1.1
log
@Initial revision
@
text
@d1 1
d68 1
a68 1
.Dq Em xx Ns No (0,0)netbsd ,
d129 1
a129 1
rebooted from file ``netbsd'' in the root file system of unit 0
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
