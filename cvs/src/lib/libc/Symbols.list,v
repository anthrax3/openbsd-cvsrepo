head	1.57;
access;
symbols
	OPENBSD_6_2_BASE:1.57
	OPENBSD_6_1:1.51.0.4
	OPENBSD_6_1_BASE:1.51
	OPENBSD_6_0:1.47.0.2
	OPENBSD_6_0_BASE:1.47
	OPENBSD_5_9:1.35.0.2
	OPENBSD_5_9_BASE:1.35;
locks; strict;
comment	@# @;


1.57
date	2017.09.05.06.35.19;	author mpi;	state Exp;
branches;
next	1.56;
commitid	jCTIaV6m8cmDTcPA;

1.56
date	2017.09.05.03.16.13;	author schwarze;	state Exp;
branches;
next	1.55;
commitid	ngpX0SPDX30tzjDf;

1.55
date	2017.09.05.02.40.54;	author guenther;	state Exp;
branches;
next	1.54;
commitid	5DW3WOQF0YGGx8lJ;

1.54
date	2017.06.19.03.06.26;	author dlg;	state Exp;
branches;
next	1.53;
commitid	CGcs8bxpQbPTEEeW;

1.53
date	2017.04.30.09.01.14;	author mpi;	state Exp;
branches;
next	1.52;
commitid	vCui6rXztcBpzKiB;

1.52
date	2017.04.10.05.45.02;	author otto;	state Exp;
branches;
next	1.51;
commitid	eHZQ1wx4WtC7i8dc;

1.51
date	2017.03.06.18.44.21;	author otto;	state Exp;
branches;
next	1.50;
commitid	XQxMPlK86q4Re2je;

1.50
date	2016.09.03.16.25.03;	author tedu;	state Exp;
branches;
next	1.49;
commitid	KRhF60sCd55H0FTx;

1.49
date	2016.09.01.10.41.02;	author otto;	state Exp;
branches;
next	1.48;
commitid	HatwrthzJhfQpDr7;

1.48
date	2016.08.11.03.05.53;	author guenther;	state Exp;
branches;
next	1.47;
commitid	Ht9oQWpKLjEjl9CS;

1.47
date	2016.05.23.00.18.56;	author guenther;	state Exp;
branches;
next	1.46;
commitid	NDWaRB3omHTr2Q6W;

1.46
date	2016.05.23.00.12.58;	author guenther;	state Exp;
branches;
next	1.45;
commitid	kOxgTCFrqjs080tn;

1.45
date	2016.05.23.00.08.23;	author guenther;	state Exp;
branches;
next	1.44;
commitid	BOdACesV95x8HtXU;

1.44
date	2016.05.23.00.05.15;	author guenther;	state Exp;
branches;
next	1.43;
commitid	93KfkbbTTGrOENTw;

1.43
date	2016.05.20.03.41.44;	author guenther;	state Exp;
branches;
next	1.42;
commitid	yuPerOdQnVKQd3qo;

1.42
date	2016.05.07.23.57.39;	author kettenis;	state Exp;
branches;
next	1.41;
commitid	xef2cwYKvEPf1uoN;

1.41
date	2016.05.07.21.58.06;	author tedu;	state Exp;
branches;
next	1.40;
commitid	OMuRQlskknJ9fp2M;

1.40
date	2016.05.07.19.30.52;	author guenther;	state Exp;
branches;
next	1.39;
commitid	JQ2dTBX74hL8uXnI;

1.39
date	2016.05.07.19.05.21;	author guenther;	state Exp;
branches;
next	1.38;
commitid	d9R7VGw9CHTkwXE1;

1.38
date	2016.03.30.07.55.36;	author guenther;	state Exp;
branches;
next	1.37;
commitid	ydrb2vgFKtK8TXi5;

1.37
date	2016.03.30.07.52.47;	author guenther;	state Exp;
branches;
next	1.36;
commitid	rAfkqKGUk60crxhW;

1.36
date	2016.03.20.02.32.39;	author guenther;	state Exp;
branches;
next	1.35;
commitid	va8OhMk7nsI8YWCs;

1.35
date	2015.11.18.16.50.08;	author tedu;	state Exp;
branches;
next	1.34;
commitid	r3k1To7QNDObiXt6;

1.34
date	2015.11.15.22.07.20;	author guenther;	state Exp;
branches;
next	1.33;
commitid	3sEVcOMVo9yatOtn;

1.33
date	2015.11.10.04.30.59;	author guenther;	state Exp;
branches;
next	1.32;
commitid	GTAoVjpQRAdNHXVz;

1.32
date	2015.11.10.04.14.03;	author guenther;	state Exp;
branches;
next	1.31;
commitid	SlaqG0vnitmMjAjz;

1.31
date	2015.10.25.18.01.24;	author guenther;	state Exp;
branches;
next	1.30;
commitid	psI2iCtxmQHDheCH;

1.30
date	2015.10.23.04.39.24;	author guenther;	state Exp;
branches;
next	1.29;
commitid	OrVNAJkzchWBNbO0;

1.29
date	2015.10.19.23.13.38;	author deraadt;	state Exp;
branches;
next	1.28;
commitid	V7jRG86TpRD8KFIt;

1.28
date	2015.10.09.01.24.57;	author deraadt;	state Exp;
branches;
next	1.27;
commitid	JNaUtIMteCgesqPo;

1.27
date	2015.10.04.08.52.10;	author guenther;	state Exp;
branches;
next	1.26;
commitid	LffHI3XfVbgNwH5a;

1.26
date	2015.09.28.14.55.48;	author deraadt;	state Exp;
branches;
next	1.25;
commitid	MUtPGvknFHF15Vek;

1.25
date	2015.09.28.14.51.04;	author deraadt;	state Exp;
branches;
next	1.24;
commitid	swLxQABk5vZR2XVK;

1.24
date	2015.09.13.17.08.03;	author guenther;	state Exp;
branches;
next	1.23;
commitid	BssYI6s6zozAyfkk;

1.23
date	2015.09.13.15.36.56;	author guenther;	state Exp;
branches;
next	1.22;
commitid	FxNpAvmgpSFQVav0;

1.22
date	2015.09.13.15.33.48;	author guenther;	state Exp;
branches;
next	1.21;
commitid	zxB6o2cNPYznqLwP;

1.21
date	2015.09.13.11.38.08;	author guenther;	state Exp;
branches;
next	1.20;
commitid	81YcJcMlfY0FkVFC;

1.20
date	2015.09.11.12.42.47;	author deraadt;	state Exp;
branches;
next	1.19;
commitid	R15ZM6KThMwzpozr;

1.19
date	2015.09.11.12.39.45;	author deraadt;	state Exp;
branches;
next	1.18;
commitid	8lrC0tALPTYgAh5d;

1.18
date	2015.09.11.11.33.03;	author deraadt;	state Exp;
branches;
next	1.17;
commitid	reQILxeLxCS7cVZW;

1.17
date	2015.09.11.09.54.00;	author deraadt;	state Exp;
branches;
next	1.16;
commitid	zWSeEzss3BlISvzV;

1.16
date	2015.09.11.08.48.33;	author deraadt;	state Exp;
branches;
next	1.15;
commitid	aN3BndKDqGJso6U4;

1.15
date	2015.09.10.18.59.34;	author deraadt;	state Exp;
branches;
next	1.14;
commitid	6O6HanUgBazjFluC;

1.14
date	2015.09.10.11.17.28;	author deraadt;	state Exp;
branches;
next	1.13;
commitid	Jh3b1Yvdl7dZDVGK;

1.13
date	2015.09.10.11.11.04;	author deraadt;	state Exp;
branches;
next	1.12;
commitid	B1ie4Ul9PWQIWR4l;

1.12
date	2015.09.10.08.55.03;	author mpi;	state Exp;
branches;
next	1.11;
commitid	Z9eHo3JLFbJnrSa0;

1.11
date	2015.09.09.16.10.03;	author guenther;	state Exp;
branches;
next	1.10;
commitid	sb7T1f7W72EA4DVb;

1.10
date	2015.09.09.15.49.34;	author deraadt;	state Exp;
branches;
next	1.9;
commitid	ZDWhDXAAMFWxMzBj;

1.9
date	2015.09.09.15.35.24;	author guenther;	state Exp;
branches;
next	1.8;
commitid	b4xqztRSgDeFBXls;

1.8
date	2015.09.09.15.33.18;	author deraadt;	state Exp;
branches;
next	1.7;
commitid	NYBaivKxcC9ka3Sy;

1.7
date	2015.09.06.23.06.13;	author guenther;	state Exp;
branches;
next	1.6;
commitid	Fd0QQUtEt6noANTx;

1.6
date	2015.09.06.20.26.20;	author guenther;	state Exp;
branches;
next	1.5;
commitid	uXV2vgeeQffL6Srn;

1.5
date	2015.09.05.14.06.46;	author deraadt;	state Exp;
branches;
next	1.4;
commitid	pvVSctNE5IjV2JMR;

1.4
date	2015.09.05.11.25.29;	author guenther;	state Exp;
branches;
next	1.3;
commitid	1yIx001UxX92Imbe;

1.3
date	2015.08.31.02.53.56;	author guenther;	state Exp;
branches;
next	1.2;
commitid	lTMF8Y3C9fQGd6jQ;

1.2
date	2015.08.26.01.54.09;	author guenther;	state Exp;
branches;
next	1.1;
commitid	ZWoe9OaBBikaM1w5;

1.1
date	2015.08.22.19.40.06;	author guenther;	state Exp;
branches;
next	;
commitid	AYAtrj0Fi0ATVHuv;


desc
@@


1.57
log
@Remove unused 32bit version of elf_hash().

Riding previous libc bump.

ok kettenis@@
@
text
@/*
 * In order to guarantee that static and shared archs see the same "public"
 * symbols, this file should always include all the non-static symbols that
 * are in the application namespace.  So if a symbol starts with a letter,
 * only delete it from here if you've eliminated it completely, made it
 * static, or renamed it to have a leading underbar.
 */

/* symbols that no one should be using currently */
__data_start
__bss_start
_edata
_end
__end

/* sys */
__get_tcb
__semctl
__set_tcb
__stack_smash_handler
__syscall
__tfork_thread
__threxit
__thrsigdivert
__thrsleep
__thrwakeup
_exit
_thread_canceled
_thread_sys___get_tcb
_thread_sys___getcwd
_thread_sys___semctl
_thread_sys___set_tcb
_thread_sys___syscall
_thread_sys___threxit
_thread_sys___thrsigdivert
_thread_sys___thrsleep
_thread_sys___thrwakeup
_thread_sys__exit
_thread_sys_accept4
_thread_sys_accept
_thread_sys_access
_thread_sys_acct
_thread_sys_adjfreq
_thread_sys_adjtime
_thread_sys_bind
_thread_sys_chdir
_thread_sys_chflags
_thread_sys_chflagsat
_thread_sys_chmod
_thread_sys_chown
_thread_sys_chroot
_thread_sys_clock_getres
_thread_sys_clock_gettime
_thread_sys_clock_settime
_thread_sys_close
_thread_sys_closefrom
_thread_sys_connect
_thread_sys_dup2
_thread_sys_dup3
_thread_sys_dup
_thread_sys_execve
_thread_sys_faccessat
_thread_sys_fchdir
_thread_sys_fchflags
_thread_sys_fchmod
_thread_sys_fchmodat
_thread_sys_fchown
_thread_sys_fchownat
_thread_sys_fcntl
_thread_sys_fhopen
_thread_sys_fhstat
_thread_sys_fhstatfs
_thread_sys_flock
_thread_sys_fork
_thread_sys_fpathconf
_thread_sys_fstat
_thread_sys_fstatat
_thread_sys_fstatfs
_thread_sys_fsync
_thread_sys_ftruncate
_thread_sys_futex
_thread_sys_futimens
_thread_sys_futimes
_thread_sys_getdents
_thread_sys_getdtablecount
_thread_sys_getegid
_thread_sys_getentropy
_thread_sys_geteuid
_thread_sys_getfh
_thread_sys_getfsstat
_thread_sys_getgid
_thread_sys_getgroups
_thread_sys_getitimer
_thread_sys_getlogin_r
_thread_sys_getpeername
_thread_sys_getpgid
_thread_sys_getpgrp
_thread_sys_getpid
_thread_sys_getppid
_thread_sys_getpriority
_thread_sys_getresgid
_thread_sys_getresuid
_thread_sys_getrlimit
_thread_sys_getrtable
_thread_sys_getrusage
_thread_sys_getsid
_thread_sys_getsockname
_thread_sys_getsockopt
_thread_sys_getthrid
_thread_sys_gettimeofday
_thread_sys_getuid
_thread_sys_ioctl
_thread_sys_issetugid
_thread_sys_kevent
_thread_sys_kill
_thread_sys_kqueue
_thread_sys_ktrace
_thread_sys_lchown
_thread_sys_link
_thread_sys_linkat
_thread_sys_listen
_thread_sys_lseek
_thread_sys_lstat
_thread_sys_madvise
_thread_sys_mincore
_thread_sys_minherit
_thread_sys_mkdir
_thread_sys_mkdirat
_thread_sys_mkfifo
_thread_sys_mkfifoat
_thread_sys_mknod
_thread_sys_mknodat
_thread_sys_mlock
_thread_sys_mlockall
_thread_sys_mmap
_thread_sys_mount
_thread_sys_mprotect
_thread_sys_mquery
_thread_sys_msgctl
_thread_sys_msgget
_thread_sys_msgrcv
_thread_sys_msgsnd
_thread_sys_msync
_thread_sys_munlock
_thread_sys_munlockall
_thread_sys_munmap
_thread_sys_nanosleep
_thread_sys_nfssvc
_thread_sys_open
_thread_sys_openat
_thread_sys_pathconf
_thread_sys_pipe
_thread_sys_pipe2
_thread_sys_pledge
_thread_sys_poll
_thread_sys_ppoll
_thread_sys_pread
_thread_sys_preadv
_thread_sys_profil
_thread_sys_pselect
_thread_sys_ptrace
_thread_sys_pwrite
_thread_sys_pwritev
_thread_sys_quotactl
_thread_sys_read
_thread_sys_readlink
_thread_sys_readlinkat
_thread_sys_readv
_thread_sys_reboot
_thread_sys_recvfrom
_thread_sys_recvmsg
_thread_sys_rename
_thread_sys_renameat
_thread_sys_revoke
_thread_sys_rmdir
_thread_sys_sched_yield
_thread_sys_select
_thread_sys_semget
_thread_sys_semop
_thread_sys_sendmsg
_thread_sys_sendsyslog
_thread_sys_sendto
_thread_sys_setegid
_thread_sys_seteuid
_thread_sys_setgid
_thread_sys_setgroups
_thread_sys_setitimer
_thread_sys_setlogin
_thread_sys_setpgid
_thread_sys_setpriority
_thread_sys_setregid
_thread_sys_setresgid
_thread_sys_setresuid
_thread_sys_setreuid
_thread_sys_setrlimit
_thread_sys_setrtable
_thread_sys_setsid
_thread_sys_setsockopt
_thread_sys_settimeofday
_thread_sys_setuid
_thread_sys_shmat
_thread_sys_shmctl
_thread_sys_shmdt
_thread_sys_shmget
_thread_sys_shutdown
_thread_sys_sigaction
_thread_sys_sigaltstack
_thread_sys_sigpending
_thread_sys_sigprocmask
_thread_sys_sigsuspend
_thread_sys_socket
_thread_sys_socketpair
_thread_sys_stat
_thread_sys_statfs
_thread_sys_swapctl
_thread_sys_symlink
_thread_sys_symlinkat
_thread_sys_sync
_thread_sys_sysarch
_thread_sys_sysctl
_thread_sys_thrkill
_thread_sys_truncate
_thread_sys_umask
_thread_sys_unlink
_thread_sys_unlinkat
_thread_sys_unmount
_thread_sys_utimensat
_thread_sys_utimes
_thread_sys_utrace
_thread_sys_vfork
_thread_sys_wait4
_thread_sys_write
_thread_sys_writev
accept4
accept
access
acct
adjfreq
adjtime
bind
brk
chdir
chflags
chflagsat
chmod
chown
chroot
clock_getres
clock_gettime
clock_settime
close
closefrom
connect
dup2
dup3
dup
execve
faccessat
fchdir
fchflags
fchmod
fchmodat
fchown
fchownat
fcntl
fhopen
fhstat
fhstatfs
flock
fork
fpathconf
fstat
fstatat
fstatfs
fsync
ftruncate
futex
futimens
futimes
getdents
getdtablecount
getegid
getentropy
geteuid
getfh
getfsstat
getgid
getgroups
getitimer
getpeername
getpgid
getpgrp
getpid
getppid
getpriority
getresgid
getresuid
getrlimit
getrtable
getrusage
getsid
getsockname
getsockopt
getthrid
gettimeofday
getuid
ioctl
issetugid
kevent
kill
kqueue
ktrace
lchown
link
linkat
listen
lseek
lstat
madvise
mincore
minherit
mkdir
mkdirat
mkfifo
mkfifoat
mknod
mknodat
mlock
mlockall
mmap
mount
mprotect
mquery
msgctl
msgget
msgrcv
msgsnd
msync
munlock
munlockall
munmap
nanosleep
nfssvc
open
openat
pathconf
pipe
pipe2
pledge
poll
posix_madvise
ppoll
pread
preadv
profil
pselect
pthread_sigmask
ptrace
pwrite
pwritev
quotactl
read
readlink
readlinkat
readv
reboot
recvfrom
recvmsg
rename
renameat
revoke
rmdir
sbrk
sched_yield
select
semctl
semget
semop
sendmsg
sendsyslog
sendto
setegid
seteuid
setgid
setgroups
setitimer
setpgid
setpriority
setregid
setresgid
setresuid
setreuid
setrlimit
setrtable
setsid
setsockopt
settimeofday
setuid
shmat
shmctl
shmdt
shmget
shutdown
sigaction
sigaltstack
sigpending
sigprocmask
sigsuspend
socket
socketpair
stat
statfs
swapctl
symlink
symlinkat
sync
sysarch
syscall
timer_create
timer_delete
timer_getoverrun
timer_gettime
timer_settime
thrkill
truncate
umask
unlink
unlinkat
unmount
utimensat
utimes
utrace
vfork
wait4
write
writev

/* db */
dbm_clearerr
dbm_close
dbm_delete
dbm_dirfno
dbm_error
dbm_fetch
dbm_firstkey
dbm_nextkey
dbm_open
dbm_rdonly
dbm_store
dbopen

/* dlfcn */
__progname
_csu_finish
_dl_allocate_tib
_dl_free_tib
dl_iterate_phdr
dladdr
dlclose
dlctl
dlerror
dlopen
dlsym
environ

/* compat-43 */
creat
getdtablesize
gethostid
getwd
killpg
sethostid
setpgrp
sigblock
sigpause
sigsetmask
sigvec

/* gen */
__assert
__assert2
__errno
__fdnlist
__flt_rounds
__fpclassify
__fpclassifyf
__fpclassifyl
__infinity
__isfinite
__isfinitef
__isfinitel
__isinf
__isinff
__isinfl
__isnan
__isnanf
__isnanl
__isnormal
__isnormalf
__isnormall
__nan
__signbit
__signbitf
__signbitl
_ctype_
_longjmp
_rb_check
_rb_find
_rb_insert
_rb_left
_rb_max
_rb_min
_rb_next
_rb_nfind
_rb_parent
_rb_poison
_rb_prev
_rb_remove
_rb_right
_rb_root
_rb_set_left
_rb_set_parent
_rb_set_right
_setjmp
_sys_errlist
_sys_nerr
_sys_siglist
_tolower
_tolower_tab_
_toupper
_toupper_tab_
alarm
alphasort
auth_approval
auth_call
auth_cat
auth_challenge
auth_check_change
auth_check_expire
auth_checknologin
auth_clean
auth_close
auth_clrenv
auth_clroption
auth_clroptions
auth_getitem
auth_getpwd
auth_getstate
auth_getvalue
auth_mkvalue
auth_open
auth_set_va_list
auth_setdata
auth_setenv
auth_setitem
auth_setoption
auth_setpwd
auth_setstate
auth_userchallenge
auth_usercheck
auth_userokay
auth_userresponse
auth_verify
basename
bsd_signal
cgetcap
cgetclose
cgetent
cgetfirst
cgetmatch
cgetnext
cgetnum
cgetset
cgetstr
cgetusedb
cgetustr
clock
clock_getcpuclockid
closedir
closelog
closelog_r
confstr
ctermid
daemon
devname
dirfd
dirname
endfsent
endgrent
endnetgrent
endpwent
endttyent
endusershell
err
errx
execl
execle
execlp
execv
execvp
execvpe
fabs
fdatasync
fdopendir
fflagstostr
finite
finitef
fnmatch
fpgetmask
fpgetround
fpgetsticky
fpsetmask
fpsetround
fpsetsticky
frexp
fstatvfs
ftok
fts_children
fts_close
fts_open
fts_read
fts_set
ftw
getbsize
getcwd
getdiskbyname
getdomainname
getfsent
getfsfile
getfsspec
getgrent
getgrgid
getgrgid_r
getgrnam
getgrnam_r
getgrouplist
gethostname
getloadavg
getlogin
getlogin_r
getmntinfo
getmode
getnetgrent
getpagesize
getpass
getprogname
getpwent
getpwnam
getpwnam_r
getpwnam_shadow
getpwuid
getpwuid_r
getpwuid_shadow
getttyent
getttynam
getusershell
glob
globfree
group_from_gid
initgroups
innetgr
isalnum
isalpha
isascii
isatty
isblank
iscntrl
isdigit
isfdtype
isgraph
isinf
isinff
islower
isnan
isnanf
isprint
ispunct
isspace
isupper
isxdigit
ldexp
lockf
login_close
login_getcapbool
login_getcapnum
login_getcapsize
login_getcapstr
login_getcaptime
login_getclass
login_getstyle
longjmp
modf
nftw
nice
nlist
opendir
openlog
openlog_r
pause
pclose
popen
posix_spawn
posix_spawn_file_actions_addclose
posix_spawn_file_actions_adddup2
posix_spawn_file_actions_addopen
posix_spawn_file_actions_destroy
posix_spawn_file_actions_init
posix_spawnattr_destroy
posix_spawnattr_getflags
posix_spawnattr_getpgroup
posix_spawnattr_getschedparam
posix_spawnattr_getschedpolicy
posix_spawnattr_getsigdefault
posix_spawnattr_getsigmask
posix_spawnattr_init
posix_spawnattr_setflags
posix_spawnattr_setpgroup
posix_spawnattr_setschedparam
posix_spawnattr_setschedpolicy
posix_spawnattr_setsigdefault
posix_spawnattr_setsigmask
posix_spawnp
psignal
pw_dup
raise
readdir
readdir_r
readpassphrase
rewinddir
scandir
secure_path
seekdir
setclasscontext
setdomainname
setfsent
setgrent
setgroupent
sethostname
setjmp
setlogin
setlogmask
setlogmask_r
setmode
setnetgrent
setpassent
setproctitle
setprogname
setpwent
setttyent
setusercontext
setusershell
shm_mkstemp
shm_open
shm_unlink
sigaddset
sigdelset
sigemptyset
sigfillset
siginterrupt
sigismember
siglongjmp
signal
sigsetjmp
sleep
statvfs
strnunvis
strnvis
strtofflags
strunvis
strvis
stravis
strvisx
sys_errlist
sys_nerr
sys_siglist
sys_signame
sysconf
sysctl
syslog
syslog_r
telldir
time
times
timezone
toascii
tolower
toupper
ttyname
ttyname_r
ttyslot
ualarm
uname
unvis
user_from_uid
usleep
utime
valloc
verr
verrx
vis
vsyslog
vsyslog_r
vwarn
vwarnx
wait
wait3
waitpid
warn
warnx
errc
verrc
vwarnc
warnc

/* crypt */
Blowfish_decipher
Blowfish_encipher
Blowfish_expand0state
Blowfish_expandstate
Blowfish_initstate
Blowfish_stream2word
arc4random
arc4random_buf
arc4random_uniform
bcrypt
bcrypt_checkpass
bcrypt_gensalt
bcrypt_newhash
blf_cbc_decrypt
blf_cbc_encrypt
blf_dec
blf_ecb_decrypt
blf_ecb_encrypt
blf_enc
blf_key
crypt
crypt_checkpass
crypt_newhash

/* gdtoa */
__dtoa
__freedtoa
__gdtoa
__hdtoa
__hldtoa
__ldtoa
strtod
strtof
strtold

/* gmon */
_gmonparam
_mcleanup
_monstartup
moncontrol
monstartup

/* hash */
MD5Data
MD5End
MD5File
MD5FileChunk
MD5Final
MD5Init
MD5Pad
MD5Transform
MD5Update
RMD160Data
RMD160End
RMD160File
RMD160FileChunk
RMD160Final
RMD160Init
RMD160Pad
RMD160Transform
RMD160Update
SHA1Data
SHA1End
SHA1File
SHA1FileChunk
SHA1Final
SHA1Init
SHA1Pad
SHA1Transform
SHA1Update
SHA224Data
SHA224End
SHA224File
SHA224FileChunk
SHA224Final
SHA224Init
SHA224Pad
SHA224Transform
SHA224Update
SHA256Data
SHA256End
SHA256File
SHA256FileChunk
SHA256Final
SHA256Init
SHA256Pad
SHA256Transform
SHA256Update
SHA384Data
SHA384End
SHA384File
SHA384FileChunk
SHA384Final
SHA384Init
SHA384Pad
SHA384Transform
SHA384Update
SHA512Data
SHA512End
SHA512File
SHA512FileChunk
SHA512Final
SHA512Init
SHA512Pad
SHA512Transform
SHA512Update
SHA512_256Data
SHA512_256End
SHA512_256File
SHA512_256FileChunk
SHA512_256Final
SHA512_256Init
SHA512_256Pad
SHA512_256Transform
SHA512_256Update
SipHash
SipHash_End
SipHash_Final
SipHash_Init
SipHash_Update

/* locale */
__mb_cur_max
btowc
duplocale
freelocale
isalnum_l
isalpha_l
isblank_l
iscntrl_l
isdigit_l
isgraph_l
islower_l
isprint_l
ispunct_l
isspace_l
isupper_l
iswalnum
iswalnum_l
iswalpha
iswalpha_l
iswblank
iswblank_l
iswcntrl
iswcntrl_l
iswctype
iswctype_l
iswdigit
iswdigit_l
iswgraph
iswgraph_l
iswlower
iswlower_l
iswprint
iswprint_l
iswpunct
iswpunct_l
iswspace
iswspace_l
iswupper
iswupper_l
iswxdigit
iswxdigit_l
isxdigit_l
localeconv
mblen
mbrlen
mbrtowc
mbsinit
mbsnrtowcs
mbsrtowcs
mbstowcs
newlocale
mbtowc
nl_langinfo
nl_langinfo_l
setlocale
tolower_l
toupper_l
towctrans
towctrans_l
towlower
towlower_l
towupper
towupper_l
uselocale
wcrtomb
wcscoll
wcscoll_l
wcsnrtombs
wcsrtombs
wcstod
wcstof
wcstoimax
wcstol
wcstold
wcstoll
wcstombs
wcstoul
wcstoull
wcstoumax
wcsxfrm
wcsxfrm_l
wctob
wctomb
wctrans
wctrans_l
wctype
wctype_l
wcwidth

/* asr */
asr_abort
asr_run
asr_run_sync
freerrset
getaddrinfo
getaddrinfo_async
gethostbyaddr
gethostbyaddr_async
gethostbyname
gethostbyname2
gethostbyname2_async
gethostbyname_async
getnameinfo
getnameinfo_async
getnetbyaddr
getnetbyaddr_async
getnetbyname
getnetbyname_async
getrrsetbyname
getrrsetbyname_async
res_init
res_mkquery
res_query
res_query_async
res_querydomain
res_search
res_search_async
res_send_async

/* net */
__b64_ntop
__b64_pton
__dn_comp
__dn_skipname
__p_class
__p_class_syms
__p_type
__p_type_syms
__putlong
__putshort
__res_dnok
__res_hnok
__res_mailok
__res_ownok
__res_randomid
__res_send
__sym_ntos
_getlong
_getshort
_res
_res_ext
_res_opcodes
_res_resultcodes
dn_expand
endhostent
endnetent
endprotoent
endprotoent_r
endservent
endservent_r
ether_aton
ether_hostton
ether_line
ether_ntoa
ether_ntohost
freeaddrinfo
freeifaddrs
gai_strerror
gethostent
getifaddrs
getnetent
getpeereid
getprotobyname
getprotobyname_r
getprotobynumber
getprotobynumber_r
getprotoent
getprotoent_r
getservbyname
getservbyname_r
getservbyport
getservbyport_r
getservent
getservent_r
h_errlist
h_errno
h_nerr
herror
hstrerror
htonl
htons
if_freenameindex
if_indextoname
if_nameindex
if_nametoindex
in6addr_any
in6addr_intfacelocal_allnodes
in6addr_linklocal_allnodes
in6addr_linklocal_allrouters
in6addr_loopback
inet6_opt_append
inet6_opt_find
inet6_opt_finish
inet6_opt_get_val
inet6_opt_init
inet6_opt_next
inet6_opt_set_val
inet6_rth_add
inet6_rth_getaddr
inet6_rth_init
inet6_rth_reverse
inet6_rth_segments
inet6_rth_space
inet_addr
inet_aton
inet_lnaof
inet_makeaddr
inet_net_ntop
inet_net_pton
inet_neta
inet_netof
inet_network
inet_ntoa
inet_ntop
inet_pton
link_ntoa
ntohl
ntohs
rcmd
rcmd_af
rcmdsh
recv
rresvport
rresvport_af
ruserok
send
sethostent
setnetent
setprotoent
setprotoent_r
setservent
setservent_r
sockatmark

/* nls */
catclose
catgets
catopen

/* quad (not all archs) */
__adddi3
__anddi3
__ashldi3
__ashrdi3
__cmpdi2
__divdi3
__fixdfdi
__fixsfdi
__fixunsdfdi
__fixunssfdi
__floatdidf
__floatdisf
__floatunsdidf
__iordi3
__lshldi3
__lshrdi3
__moddi3
__muldi3
__negdi2
__one_cmpldi2
__qdivrem
__subdi3
__ucmpdi2
__udivdi3
__umoddi3
__xordi3

/* regex */
regcomp
regerror
regexec
regfree

/* rpc */
__svc_fdset
__svc_fdsetsize
__xdrrec_getrec
__xdrrec_setnonblock
_null_auth
_seterr_reply
_svcauth_null
_svcauth_short
_svcauth_unix
authnone_create
authunix_create
authunix_create_default
bindresvport
bindresvport_sa
callrpc
clnt_broadcast
clnt_create
clnt_pcreateerror
clnt_perrno
clnt_perror
clnt_spcreateerror
clnt_sperrno
clnt_sperror
clntraw_create
clnttcp_create
clntudp_bufcreate
clntudp_create
endrpcent
get_myaddress
getrpcbyname
getrpcbynumber
getrpcent
getrpcport
pmap_getmaps
pmap_getport
pmap_rmtcall
pmap_set
pmap_unset
registerrpc
rpc_createerr
set_rpc_maxgrouplist
setrpcent
svc_fdset
svc_getreq
svc_getreq_common
svc_getreq_poll
svc_getreqset
svc_getreqset2
svc_max_pollfd
svc_maxfd
svc_pollfd
svc_register
svc_run
svc_sendreply
svc_unregister
svcerr_auth
svcerr_decode
svcerr_noproc
svcerr_noprog
svcerr_progvers
svcerr_systemerr
svcerr_weakauth
svcfd_create
svcraw_create
svctcp_create
svcudp_bufcreate
svcudp_create
svcudp_enablecache
xdr_accepted_reply
xdr_array
xdr_authunix_parms
xdr_bool
xdr_bytes
xdr_callhdr
xdr_callmsg
xdr_char
xdr_des_block
xdr_double
xdr_enum
xdr_float
xdr_free
xdr_int
xdr_int16_t
xdr_int32_t
xdr_int64_t
xdr_long
xdr_netobj
xdr_opaque
xdr_opaque_auth
xdr_pmap
xdr_pmaplist
xdr_pointer
xdr_reference
xdr_rejected_reply
xdr_replymsg
xdr_rmtcall_args
xdr_rmtcallres
xdr_short
xdr_string
xdr_u_char
xdr_u_int
xdr_u_int16_t
xdr_u_int32_t
xdr_u_int64_t
xdr_u_long
xdr_u_short
xdr_union
xdr_vector
xdr_void
xdr_wrapstring
xdrmem_create
xdrrec_create
xdrrec_endofrecord
xdrrec_eof
xdrrec_skiprecord
xdrstdio_create
xprt_register
xprt_unregister

/* stdio */
__sF
__srget
__swbuf
asprintf
clearerr
dprintf
fclose
fdopen
feof
ferror
fflush
fgetc
fgetln
fgetpos
fgets
fgetwc
fgetwln
fgetws
fileno
flockfile
fmemopen
fopen
fprintf
fpurge
fputc
fputs
fputwc
fputws
fread
freopen
fscanf
fseek
fseeko
fsetpos
ftell
ftello
ftrylockfile
funlockfile
funopen
fwide
fwprintf
fwrite
fwscanf
getc
getc_unlocked
getchar
getchar_unlocked
getdelim
getline
getw
getwc
getwchar
mkdtemp
mkostemp
mkostemps
mkstemp
mkstemps
mktemp
open_memstream
open_wmemstream
perror
printf
putc
putc_unlocked
putchar
putchar_unlocked
puts
putw
putwc
putwchar
remove
rewind
scanf
setbuf
setbuffer
setlinebuf
setvbuf
snprintf
sprintf
sscanf
swprintf
swscanf
tempnam
tmpfile
tmpnam
ungetc
ungetwc
vasprintf
vdprintf
vfprintf
vfscanf
vfwprintf
vfwscanf
vprintf
vscanf
vsnprintf
vsprintf
vsscanf
vswprintf
vswscanf
vwprintf
vwscanf
wprintf
wscanf

/* old random */
lcong48_deterministic
lcong48
seed48_deterministic
seed48
srand48_deterministic
srand48
lrand48
mrand48
nrand48
drand48
erand48
jrand48
srand_deterministic
srand
rand
rand_r
srandom_deterministic
srandom
srandomdev
random

/* stdlib */
_Exit
__cxa_atexit
__cxa_finalize
__isthreaded
a64l
abort
abs
atexit
atof
atoi
atol
atoll
bsearch
calloc
div
ecvt
exit
fcvt
free
freezero
gcvt
getenv
getopt
getopt_long
getopt_long_only
getsubopt
grantpt
hcreate
hdestroy
heapsort
hsearch
icdb_new
icdb_open
icdb_lookup
icdb_get
icdb_nentries
icdb_entries
icdb_update
icdb_add
icdb_rehash
icdb_save
icdb_close
imaxabs
imaxdiv
initstate
insque
l64a
labs
ldiv
lfind
llabs
lldiv
lsearch
malloc
malloc_options
_malloc_init
mergesort
optarg
opterr
optind
optopt
optreset
posix_memalign
posix_openpt
ptsname
putenv
qabs
qdiv
qsort
radixsort
realloc
reallocarray
recallocarray
realpath
remque
setenv
setstate
sradixsort
strtoimax
strtol
strtoll
strtonum
strtoq
strtoul
strtoull
strtoumax
strtouq
suboptarg
system
tdelete
tfind
tsearch
twalk
unlockpt
unsetenv

/* exposed due to paranoia over future link-time optimizations */
__explicit_bzero_hook

/* string */
bcmp
bcopy
bzero
explicit_bzero
ffs
index
memccpy
memchr
memcmp
memcpy
memmem
memmove
memrchr
memset
rindex
stpcpy
stpncpy
strcasecmp
strcasecmp_l
strcasestr
strcat
strchr
strcmp
strcoll
strcoll_l
strcpy
strcspn
strdup
strerror
strerror_l
strerror_r
strlcat
strlcpy
strlen
strmode
strncasecmp
strncasecmp_l
strncat
strncmp
strncpy
strndup
strnlen
strpbrk
strrchr
strsep
strsignal
strspn
strstr
strtok
strtok_r
strxfrm
strxfrm_l
swab
timingsafe_bcmp
timingsafe_memcmp
wcscasecmp
wcscasecmp_l
wcscat
wcschr
wcscmp
wcscpy
wcscspn
wcsdup
wcslcat
wcslcpy
wcslen
wcsncasecmp
wcsncasecmp_l
wcsncat
wcsncmp
wcsncpy
wcspbrk
wcsrchr
wcsspn
wcsstr
wcstok
wcswcs
wcswidth
wmemchr
wmemcmp
wmemcpy
wmemmove
wmemset

/* termios */
cfgetispeed
cfgetospeed
cfmakeraw
cfsetispeed
cfsetospeed
cfsetspeed
tcdrain
tcflow
tcflush
tcgetattr
tcgetpgrp
tcgetsid
tcsendbreak
tcsetattr
tcsetpgrp

/* thread */
_rthread_debug
_spinlock
_spinlocktry
_spinunlock
_thread_atfork
_thread_dofork
_thread_set_callbacks
pthread_atfork
pthread_cond_broadcast
pthread_cond_destroy
pthread_cond_init
pthread_cond_signal
pthread_cond_timedwait
pthread_cond_wait
pthread_condattr_destroy
pthread_condattr_getclock
pthread_condattr_init
pthread_condattr_setclock
pthread_equal
pthread_exit
pthread_getspecific
pthread_key_create
pthread_key_delete
pthread_mutex_destroy
pthread_mutex_init
pthread_mutex_lock
pthread_mutex_timedlock
pthread_mutex_trylock
pthread_mutex_unlock
pthread_once
pthread_self
pthread_setspecific

/* time */
asctime
asctime_r
ctime
ctime_r
daylight
difftime
gmtime
gmtime_r
localtime
localtime_r
mktime
offtime
posix2time
strftime
strftime_l
strptime
time2posix
timegm
timelocal
timeoff
tzname
tzset
tzsetwall
wcsftime

/* uuid */
uuid_compare
uuid_create
uuid_create_nil
uuid_dec_be
uuid_dec_le
uuid_enc_be
uuid_enc_le
uuid_equal
uuid_from_string
uuid_hash
uuid_is_nil
uuid_to_string

/* yp */
yp_all
yp_bind
yp_first
yp_get_default_domain
yp_maplist
yp_master
yp_match
yp_next
yp_order
yperr_string
ypprot_err
_yp_check		/* chpass, passwd, login_chpass */
yp_unbind		/* passwd */
@


1.56
log
@New POSIX xlocale implementation written from scratch.
Complete in the sense that all POSIX *locale(3) and *_l(3) functions
are included, but in OpenBSD, we of course only really care about
LC_CTYPE and we only support ASCII and UTF-8.

With important help from kettenis@@, guenther@@, and jca@@.
Repeated testing in ports bulk builds by naddy@@.
Additional testing by jca@@, sebastia@@, dcoppa@@, and others.
OK kettenis@@ dcoppa@@, and guenther@@ on an earlier version.
Riding guenther@@'s libc/librthread major bump.
@
text
@a587 1
elf_hash
@


1.55
log
@Move mutex, condvar, and thread-specific data routes, pthread_once, and
pthread_exit from libpthread to libc, along with low-level bits to
support them.  Major bump to both libc and libpthread.

Requested by libressl team.  Ports testing by naddy@@
ok kettenis@@
@
text
@d941 13
d955 1
d957 1
d959 1
d961 1
d963 1
d965 1
d967 1
d969 1
d971 1
d973 1
d975 1
d977 1
d979 2
d989 1
d992 1
d994 2
d997 1
d999 1
d1001 2
d1005 1
d1019 1
d1023 1
d1025 1
d1579 1
d1585 1
d1590 1
d1597 1
d1612 1
d1617 1
d1628 1
d1711 1
@


1.54
log
@port the RBT code to userland by making it part of libc.

src/lib/libc/gen/tree.c is a copy of src/sys/kern/subr_tree.c, but with
annotations for symbol visibility. changes to one should be reflected
in the other.

the malloc debug code that uses RB code is ported to RBT.

because libc provides the RBT code, procmap doesn't have to reach into
the kernel and build subr_tree.c itself now.

mild enthusiasm from many
ok guenther@@
@
text
@d28 1
d1617 4
d1622 1
d1625 24
@


1.53
log
@Add futex(2) shim, bump minor.

Inputs from guenther@@, ok kettenis@@, visa@@
@
text
@d506 17
@


1.52
log
@Introducing freezero(3) a version of free that guarantees the process
no longer has access to the content of a memmory object. It does
this by either clearing (if the object memory remains cached) or
by calling munmap(2). ok millert@@, deraadt@@, guenther@@
@
text
@d80 1
d276 1
@


1.51
log
@Introducing recallocarray(3), a blend of calloc(3) and reallocarray(3)
with the added feature that released memory is cleared. Much input from various
developers. ok deraadt@@ tom@@
@
text
@d1421 1
@


1.50
log
@Add functions for SHA512/256. The standard says you're supposed to start
with different magic numbers, so we need to add some functions instead
of just asking the user to truncate as desired. Sigh.
SHA512 is quite a bit faster than SHA256 on 64 bit CPUs,
but 256 bit hashes are usually quite sufficient. Best of both.
ok deraadt tom
@
text
@d1473 1
@


1.49
log
@Less lock contention by using more pools for mult-threaded programs.
tested by many (thanks!) ok tedu, guenther@@
@
text
@d903 9
@


1.48
log
@Between relro and previous RWX work, the __{got,plt}_{start,end} symbols
are no longer needed by ld.so.  Move them to the m88k-specific list, as
it hasn't made the jump.

ok deraadt@@
@
text
@d1447 1
@


1.47
log
@Stop supporting longjmperror(); it's not used, not portable, and the checks
longjmp performs can't really be relied upon, even after we got rid of the
false positives...

ok millert@@ deraadt@@
@
text
@a15 6
/* needed by ld.so unless/until we switch to RELRO */
__got_start
__got_end
__plt_start
__plt_end

@


1.46
log
@Remove iruserok(_sa)? and __ivaliduser(sa)?

ok millert@@ deraadt@@
@
text
@a678 1
longjmperror
@


1.45
log
@Eliminate __check_rhosts_file and __rcmd_errstr: they were only used by
rlogind and rshd (remember them?)

ok deraadt@@
@
text
@a1001 2
__ivaliduser
__ivaliduser_sa
a1092 2
iruserok
iruserok_sa
@


1.44
log
@Stop exposing <sys/localedef.h> and various symbols internal to the libc
locale implementation: _{Current,Default}*Locale, __[mn]locale_changed,
__mb_len_max_runtime

ok millert@@ schwarze@@ deraadt@@
@
text
@a999 1
/*__check_rhosts_file*/
a1009 1
__rcmd_errstr
@


1.43
log
@Delete the _SDA_BASE and _SDA2_BASE symbols: they're unnecessary in
shared libraries...and I misspelled them anyway
@
text
@a916 10
_CurrentMessagesLocale
_CurrentMonetaryLocale
_CurrentNumericLocale
_CurrentRuneLocale
_CurrentTimeLocale
_DefaultMessagesLocale
_DefaultMonetaryLocale
_DefaultNumericLocale
_DefaultRuneLocale
_DefaultTimeLocale
a917 3
__mb_len_max_runtime
__mlocale_changed
__nlocale_changed
@


1.42
log
@Unexport sigreturn.  Nobody should use it anymore, and it will be removed
from libc completely in the near future.  Riding the libc bump that appeared
a few moments ago.

ok deraadt@@
@
text
@a14 2
_SDA2_BASE
_SDA_BASE
d1013 1
a1013 1
__check_rhosts_file
a1293 2
_cleanup
_fwalk
@


1.41
log
@remove ancient dbm functions (ndbm remains). nothing uses them in forever.
@
text
@a215 1
_thread_sys_sigreturn
a412 1
sigreturn
@


1.40
log
@Declare moncontrol(3) APIs in <sys/gmon.h>
Export _gmonparam again.
Make gcrt0.o use an reserved name for _monstartup()

ok millert@@
@
text
@a456 2
dbmclose
dbminit
a457 5
delete
fetch
firstkey
nextkey
store
@


1.39
log
@Use a Thread Information Block in both single and multi-threaded programs.
This stores errno, the cancelation flags, and related bits for each thread
and is allocated by ld.so or libc.a.  This is an ABI break from 5.9-stable!

Make libpthread dlopen'able by moving the cancelation wrappers into libc
and doing locking and fork/errno handling via callbacks that libpthread
registers when it first initializes.  'errno' *must* be declared via
<errno.h> now!

Clean up libpthread's symbol exports like libc.

On powerpc, offset the TIB/TCB/TLS data from the register per the ELF spec.

Testing by various, particularly sthen@@ and patrick@@
ok kettenis@@
@
text
@d851 1
d853 1
@


1.38
log
@Turd polish: use HIDDEN= instead of PSEUDO= for ptrace syscall stub, to
make its underlying symbol name look like others.
@
text
@a24 2
___cerror
__cerror
a35 1
_thread_fork
d469 2
a493 1
___errno
a592 1
errno
a1621 4
_thread_arc4_lock
_thread_arc4_unlock
_thread_atexit_lock
_thread_atexit_unlock
d1623 1
a1623 10
_thread_atfork_lock
_thread_atfork_unlock
_thread_malloc_lock
_thread_malloc_unlock
_thread_mutex_destroy
_thread_mutex_lock
_thread_mutex_unlock
_thread_tag_lock
_thread_tag_storage
_thread_tag_unlock
@


1.37
log
@Eliminate userspace caching by getlogin_r/setlogin; make the getlogin
syscall behave exactly like userspace getlogin_r() and rename it to
match.  Eliminate the reduced-to-no-op wrappers of the syscalls.
Eliminate the unnecessary per-thread static buffering by getlogin().

ok kettenis@@ deraadt@@
@
text
@a48 1
_thread_sys__ptrace
d170 1
@


1.36
log
@Rearrange C runtime bits: now that ld.so exports environ and __progname,
move their definitions and initialization in static links to libc.a
Make crt0 always invoke a new func _csu_finish() in libc to process the auxv
and to either register the ld.so cleanup function (in dynamic links) or
initialize environ and __progname and do MC_DISABLE_KBIND (in static links).
In libc, get pagesize from auxv; cache that between getpagesize() and
sysconf(_SC_PAGESIZE)

ok mpi@@ "good time" deraadt@@
@
text
@a48 1
_thread_sys__getlogin
a49 1
_thread_sys__setlogin
d104 1
d197 1
@


1.35
log
@update for new symbols and code
@
text
@d470 2
d479 1
@


1.34
log
@_towctrans_ext and _wctrans_init are now hidden; so drop them from the list
@
text
@d648 1
d651 1
d1460 11
@


1.33
log
@Split the intra-thread functionality from kill(2) into its own syscall
thrkill(2), rolling the kill(2) syscall number with the ABI change to
avoid breaking binaries during during the transition.  thrkill(2) includes
a 'tcb' argument that eliminates the need for locking in pthread_kill()
and simplifies pthread_cancel().  Switch __stack_smash_handler() to use
thrkill(2) and explicitly unblock SIGABRT.

Minor bump to both libc and libpthread: make sure you install a new kernel!

ok semarie@@
@
text
@a937 2
_towctrans_ext
_wctrans_init
@


1.32
log
@libc.so can't be unloaded, so move the hidden atexit() and pthread_atfork()
stubs for the executable from crtbegin.o into libc, which lets them be
excluded from static links that don't use them.
For this, drop the normal crt{begin,end}S.o from libc.so: the .init and .fini
sections for libc aren't called at the right times anyway, so it's good that
they're unused.  libc.so just needs __guard_local and the .note.openbsd.ident
section, so add them to stack_protector.c for now (this will be improved)

"good time" deraadt@@
@
text
@d231 1
d434 1
@


1.31
log
@Hide __atexit and __atexit_register_cleanup()
Wrap __cxa_{atexit,finalize}() so the call from exit() goes direct
Switch regress/lib/libc/atexit/ to be built with -static so that it can
  still access __atexit*

ok millert@@ jca@@
@
text
@a9 2
_init
_fini
d1435 1
d1624 1
@


1.30
log
@Merge the sigaction() and sigprocmask() overloads/wrappers from libpthread
into libc, and move pthread_sigmask() as well (just a trivial wrapper).
This provides consistent handling of SIGTHR between single- and multi-threaded
programs and is a step in the merge of all the libpthread overloads, providing
some ASM and Makefile bits that the other wrappers will need.

ok deraadt@@ millert@@
@
text
@a1430 2
__atexit
__atexit_register_cleanup
@


1.29
log
@Remove old tame() stub
@
text
@d367 1
@


1.28
log
@tame -> pledge conversion, in libc.  I should crank libc, but am cheating
hoping things go well.  The old symbol is faked via a stupid stub function,
until next major crank when it can be removed.  I am expecting guenther
to scream at me.
@
text
@a232 1
_thread_sys_tame
a428 1
tame
@


1.27
log
@Clarify a point.  Adjust punctuation after discussion w/ jmc@@
@
text
@d165 1
d167 1
a167 1
_thread_sys_pipe
d358 1
d360 1
a360 1
pipe
@


1.26
log
@seperate random functions into their own block
@
text
@d4 3
a6 3
 * are in the application namespace.  So, if a symbol starts with a letter,
 * don't delete it from here without either making it static or renaming it
 * to have a leading underbar.
@


1.25
log
@xdr_ypresp_all_seq() does not need to be exported by libc, we can make it
local static.  (Does not need to be exported by librpcsvc either, since it
is pre-rpcgen and simply %-commented).  A few callers use this via
yp_all() -- that interface remains untouched.
ports trawl by sthen
guenther watched me gnash my teeth in croatia
@
text
@d1406 22
a1444 1
drand48
a1445 1
erand48
a1463 1
jrand48
a1465 2
lcong48
lcong48_deterministic
a1469 1
lrand48
a1473 2
mrand48
nrand48
a1486 3
rand
rand_r
random
a1490 2
seed48
seed48_deterministic
a1493 7
srand48
srand48_deterministic
srand
srand_deterministic
srandom
srandom_deterministic
srandomdev
@


1.24
log
@Rename __sysctl syscall to just sysctl, as the userland wrapper is no longer
necessary

ok deraadt@@ jsing@@
@
text
@a1664 1
xdr_ypresp_all_seq
@


1.23
log
@Wrap <rpc/*.h> so that calls go direct and the symbols are all weak.
Hide __xprt_register() and _authenticate(); truncate <rpc/svc_auth.h>

ok deraadt@@
@
text
@a45 1
_thread_sys___sysctl
d231 1
@


1.22
log
@Wrap <pwd.h> so that calls go direct and the symbols are all weak.
Hide bcrypt_autorounds(), prefixing with an underbar for static builds.
@
text
@a1182 2
__xprt_register
_authenticate
@


1.21
log
@Wrap <ctype.h> and <wctype.h> so that calls go direct and the symbols not
in standard C are all weak.
Hide several symbols internal to the implementation
@
text
@a821 1
bcrypt_autorounds
@


1.20
log
@Put a private copy of the ypresp_allfn/ypresp_data interface into ypserv
(which uses it in a strange way..) thereby making it possible to static
the interface in libc.
ok guenther
@
text
@a933 5
_NukeRune
_Read_RuneMagi
___runetype_mb
__install_currentrunelocale_ctype
__make_ctype_tabs
a937 2
_findrunelocale
_newrunelocale
a939 1
_xpg4_setrunelocale
@


1.19
log
@_rpc_dtablesize() is not used anywhere, tracking by sthen; ok guenther
@
text
@a1689 2
ypresp_allfn		/* ypserv */
ypresp_data		/* ypserv */
@


1.18
log
@rpcdata should not be exported; ok guenther
@
text
@a1194 1
_rpc_dtablesize
@


1.17
log
@_getnetbyaddr and _getnetbyname appear to be historical accidents in
our tree. ok guenther miod
@
text
@a1230 1
rpcdata
@


1.16
log
@hide three netdb related variables; ok guenther
@
text
@a1049 2
_getnetbyaddr
_getnetbyname
@


1.15
log
@Hide netgroup internals inside libc.  The parts that netgroup_mkdb
wants to use, well.... copy them there.
ok guenther
@
text
@a1052 2
_net_stayopen
_protoent_data
a1056 1
_servent_data
@


1.14
log
@explain why __explicit_bzero_hook will remain; ok guenther
@
text
@a518 7
_ng_makekey
_ng_parse
_ng_print
_ng_sl_add
_ng_sl_find
_ng_sl_free
_ng_sl_init
@


1.13
log
@hide __dtoa_locks as a static in the single use case; ok guenther
@
text
@d1535 3
a1538 1
__explicit_bzero_hook
@


1.12
log
@Remove link_addr(3).  A function to encode the name of an interface in
a sockaddr_dl is a questionnable interface.  But now it makes it harder
to properly reference ifp becauses of this.

Set sdl_index to the index of the corresponding interface when
constructing a routing message.

Ridding previous libc crank.

ok guenther@@, deraadt@@, dlg@@
@
text
@a845 1
__dtoa_locks
@


1.11
log
@Hide __sigintr and __strsignal as internal implementation details.
Delete the already hidden _signal alias too.

ok deraadt@@ millert@@
@
text
@a1141 1
link_addr
@


1.10
log
@Hide all unnecessary asr / resolver related API with _ prefixes.
direction & ok guenther
@
text
@a513 1
__sigintr
a1538 1
__strsignal
@


1.9
log
@Stop exporting from libc the <mpool.h> and the mpool_* API

ports scan by sthen@@
@
text
@a1007 19
asr_addr_as_fqdn
asr_async_free
asr_async_new
asr_ctx_unref
asr_debug
asr_dname_from_fqdn
asr_dump_config
asr_dump_packet
asr_hostalias
asr_iter_db
asr_make_fqdn
asr_pack_header
asr_pack_init
asr_pack_query
asr_parse_namedb_line
asr_print_sockaddr
asr_querystr
asr_resolver
asr_resolver_done
d1010 2
a1011 9
asr_sockaddr_from_str
asr_statestr
asr_strdname
asr_transitionstr
asr_unpack_header
asr_unpack_init
asr_unpack_query
asr_unpack_rr
asr_use_resolver
d1013 1
d1015 2
a1016 1
gethostbyaddr_async_ctx
d1019 1
d1021 1
d1023 1
d1025 1
d1027 3
d1031 2
a1032 1
res_query_async_ctx
a1033 1
res_search_async_ctx
a1082 1
freerrset
a1083 4
getaddrinfo
gethostbyaddr
gethostbyname2
gethostbyname
a1085 3
getnameinfo
getnetbyaddr
getnetbyname
a1093 1
getrrsetbyname
a1150 5
res_init
res_mkquery
res_query
res_querydomain
res_search
@


1.8
log
@Hide YP-specific xdr_* functions, and have the YP tools link -lrpcsvc
as needed.
ok miod guenther
@
text
@a464 8
mpool_close
mpool_delete
mpool_filter
mpool_get
mpool_new
mpool_open
mpool_put
mpool_sync
@


1.7
log
@Document the rule for keeping static and shared archs in sync
@
text
@a1730 13
xdr_domainname
xdr_keydat
xdr_mapname
xdr_peername
xdr_valdat
xdr_ypbind_binding
xdr_ypbind_resp
xdr_ypbind_resptype
xdr_ypbind_setdom
xdr_ypmaplist
xdr_ypreq_key
xdr_ypreq_nokey
xdr_ypresp_all
a1731 6
xdr_ypresp_key_val
xdr_ypresp_maplist
xdr_ypresp_master
xdr_ypresp_order
xdr_ypresp_val
xdr_ypstat
@


1.6
log
@Fix aliasing of sys_errlist, sys_nerr, sys_siglist, and sys_signame
to eliminate duplicate copies of the tables and get direct access internally

ok kettenis@@ deraadt@@
@
text
@d1 8
@


1.5
log
@Hide some YP internals.  Annotate a few private hooks currently used
by ypserv, passwd, or chpass... maybe we can use different tricks to
interface with libc...
@
text
@a517 3
__sys_errlist
__sys_nerr
__sys_siglist
@


1.4
log
@Use new framework for wrapping cat{open,gets,close}(), eliminating
_cat* in the process.

ok kettenis@@
@
text
@a521 1
_getgrent_yp
a1725 9
__ypexclude_add
__ypexclude_free
__ypexclude_is
_yp_check
_yp_dobind
_yp_domain
_yp_unbind
_ypbindlist
_yplib_timeout
a1754 1
yp_unbind
d1757 4
a1760 2
ypresp_allfn
ypresp_data
@


1.3
log
@Add framework for resolving (pun intended) libc namespace issues, using
wrapper .h files and asm labels to let internal calls resolve directly and
not be overridable or use the PLT.  Then, apply that framework to most of
the functions in stdio.h, string.h, err.h, and wchar.h.  Delete the
should-have-been-hidden-all-along _v?(err|warn)[cx]? symbols while here.

tests clean on i386, amd64, sparc64, powerpc, and mips64

naming feedback from kettenis@@ and millert@@
ok kettenis@@
@
text
@a1198 3
_catclose
_catgets
_catopen
@


1.2
log
@Hide many (194!) symbols that nothing should be using.
Delete exect(2); it wasn't portable across archs and nothing used it.

ports test build by naddy@@
ok deraadt@@ kettenis@@
@
text
@a521 2
_err
_errx
a538 6
_verr
_verrx
_vwarn
_vwarnx
_warn
_warnx
a821 4
_errc
_verrc
_vwarnc
_warnc
@


1.1
log
@Explicitly list the symbols permitted to be exported by libc.
This is primed with the current list of exported symbols so it doesn't
change the ABI yet, but will prevent unintentional additions in the future
and sets the stage for reductions.

ok deraadt@@ kettenis@@
@
text
@a20 1
__curbrk
a21 1
__getcwd
a25 1
__sysctl
a30 1
_atfork_list
a31 3
_getlogin
_ptrace
_setlogin
a259 1
exect
a439 64
__add_ovflpage
__addel
__big_delete
__big_insert
__big_keydata
__big_return
__big_split
__bt_close
__bt_cmp
__bt_defcmp
__bt_defpfx
__bt_delete
__bt_dleaf
__bt_fd
__bt_free
__bt_get
__bt_new
__bt_open
__bt_pgin
__bt_pgout
__bt_put
__bt_ret
__bt_search
__bt_seq
__bt_setcur
__bt_split
__bt_sync
__buf_free
__buf_init
__call_hash
__dbpanic
__default_hash
__delpair
__expand_table
__find_bigpair
__find_last_page
__free_ovflpage
__get_buf
__get_page
__hash_open
__ibitmap
__log2
__ovfl_delete
__ovfl_get
__ovfl_put
__put_page
__rec_close
__rec_delete
__rec_dleaf
__rec_fd
__rec_fmap
__rec_fpipe
__rec_get
__rec_iput
__rec_open
__rec_put
__rec_ret
__rec_search
__rec_seq
__rec_sync
__rec_vmap
__rec_vpipe
__reclaim_buf
__split_page
a476 17
/* citrus */
_citrus_ctype_none
_citrus_ctype_open
_citrus_ctype_utf8
_citrus_none_ctype_mbrtowc
_citrus_none_ctype_mbsinit
_citrus_none_ctype_mbsnrtowcs
_citrus_none_ctype_ops
_citrus_none_ctype_wcrtomb
_citrus_none_ctype_wcsnrtombs
_citrus_utf8_ctype_mbrtowc
_citrus_utf8_ctype_mbsinit
_citrus_utf8_ctype_mbsnrtowcs
_citrus_utf8_ctype_ops
_citrus_utf8_ctype_wcrtomb
_citrus_utf8_ctype_wcsnrtombs

a490 3
_C_ctype_
_C_tolower_
_C_toupper_
a493 1
__elf_is_okay__
a520 1
__vsyslog_r
a532 1
_readdir_unlocked
a533 1
_signal
a600 1
bkey
a861 11
__Balloc_D2A
__Bfree_D2A
__ULtod_D2A
__any_on_D2A
__b2d_D2A
__bigtens_D2A
__cmp_D2A
__copybits_D2A
__d2b_D2A
__decrement_D2A
__diff_D2A
a865 1
__gethex_D2A
a866 3
__hexdig_D2A
__hexnan_D2A
__hi0bits_D2A
a867 2
__i2b_D2A
__increment_D2A
a868 22
__lo0bits_D2A
__lshift_D2A
__match_D2A
__mult_D2A
__multadd_D2A
__nrv_alloc_D2A
__pow5mult_D2A
__quorem_D2A
__ratio_D2A
__rshift_D2A
__rv_alloc_D2A
__s2b_D2A
__set_ones_D2A
__strtodg
__strtord
__sum_D2A
__tens_D2A
__tinytens_D2A
__trailz_D2A
__ulp_D2A
hexdig_init_D2A
strcp_D2A
a873 1
_gmonparam
a1376 2
__fgetwc_unlock
__fputwc_unlock
a1377 13
__sFext
__sclose
__sdidinit
__sflags
__sflush
__sflush_locked
__sfp
__sfvwrite
__sglue
__sinit
__smakebuf
__sread
__srefill
a1378 2
__sseek
__svfscanf
a1379 7
__swhatbuf
__swrite
__swsetup
__ungetwc
__vfprintf
__vfwprintf
__vfwscanf
a1381 4
_mktemp
_weak_flockfile
_weak_ftrylockfile
_weak_funlockfile
a1489 2
__dorand48
__findenv
a1490 4
__rand48_add
__rand48_deterministic
__rand48_mult
__rand48_seed
a1700 14
_weak__thread_arc4_lock
_weak__thread_arc4_unlock
_weak__thread_atexit_lock
_weak__thread_atexit_unlock
_weak__thread_atfork_lock
_weak__thread_atfork_unlock
_weak__thread_malloc_lock
_weak__thread_malloc_unlock
_weak__thread_mutex_destroy
_weak__thread_mutex_lock
_weak__thread_mutex_unlock
_weak__thread_tag_lock
_weak__thread_tag_storage
_weak__thread_tag_unlock
@

