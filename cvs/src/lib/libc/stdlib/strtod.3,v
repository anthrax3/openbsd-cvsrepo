head	1.21;
access;
symbols
	OPENBSD_6_1_BASE:1.21
	OPENBSD_6_0:1.21.0.2
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.20.0.4
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.20.0.6
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.20.0.2
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.19.0.6
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.4
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.18.0.2
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.17.0.2
	OPENBSD_5_3_BASE:1.17
	OPENBSD_5_2:1.14.0.16
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.14
	OPENBSD_5_0:1.14.0.12
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.14.0.10
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.14.0.8
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.14.0.4
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.14.0.6
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.2
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.12.0.2
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.10.0.2
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.8.0.16
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.14
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.8.0.12
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.8.0.10
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.8
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.8.0.6
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.4
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.2
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.7.0.14
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.7.0.12
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.7.0.10
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.7.0.8
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9:1.7.0.6
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_8:1.7.0.4
	OPENBSD_2_8_BASE:1.7
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.4.0.2
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.2.0.12
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.10
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.8
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.21
date	2016.06.02.15.07.34;	author millert;	state Exp;
branches;
next	1.20;
commitid	mZCkcDLvhQAMzo1X;

1.20
date	2014.11.30.21.21.59;	author schwarze;	state Exp;
branches;
next	1.19;
commitid	LCBTyemv87X040O7;

1.19
date	2014.01.19.10.39.00;	author schwarze;	state Exp;
branches;
next	1.18;

1.18
date	2013.06.05.03.39.23;	author tedu;	state Exp;
branches;
next	1.17;

1.17
date	2013.01.15.05.44.41;	author martynas;	state Exp;
branches;
next	1.16;

1.16
date	2012.09.16.17.54.03;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2012.09.15.11.47.04;	author martynas;	state Exp;
branches;
next	1.14;

1.14
date	2008.09.13.22.48.45;	author martynas;	state Exp;
branches;
next	1.13;

1.13
date	2008.09.13.22.25.49;	author martynas;	state Exp;
branches;
next	1.12;

1.12
date	2008.06.13.23.50.49;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2008.06.13.21.04.24;	author landry;	state Exp;
branches;
next	1.10;

1.10
date	2007.11.11.12.23.36;	author tobias;	state Exp;
branches;
next	1.9;

1.9
date	2007.05.31.19.19.31;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2003.06.02.20.18.38;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.20.13.50.03;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.04.22.19.31;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	2000.01.22.12.05.49;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.06.29.18.36.23;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	99.05.27.20.49.35;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	96.08.19.08.33.49;	author tholo;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.42.19;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.42.19;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.21
log
@Fix typo; the period should be outside the parens.  From Michael McConville
@
text
@.\" Copyright (c) 1990, 1991 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" the American National Standards Committee X3, on Information
.\" Processing Systems.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	$OpenBSD: strtod.3,v 1.20 2014/11/30 21:21:59 schwarze Exp $
.\"
.Dd $Mdocdate: November 30 2014 $
.Dt STRTOD 3
.Os
.Sh NAME
.Nm strtod ,
.Nm strtof ,
.Nm strtold
.Nd convert ASCII string to double, float or long double
.Sh SYNOPSIS
.In stdlib.h
.Ft double
.Fn strtod "const char *nptr" "char **endptr"
.Pp
.Ft float
.Fn strtof "const char *nptr" "char **endptr"
.Pp
.Ft long double
.Fn strtold "const char *nptr" "char **endptr"
.Sh DESCRIPTION
The
.Fn strtod
function converts the initial portion of the string pointed to by
.Fa nptr
to
.Li double
representation.
The
.Fn strtof
function converts the initial portion of the string pointed to by
.Fa nptr
to
.Li float
representation.
The
.Fn strtold
function converts the initial portion of the string pointed to by
.Fa nptr
to
.Li long double
representation.
.Pp
The expected form of the string is an optional plus
.Pq Ql +
or minus sign
.Pq Ql -
followed by a sequence of digits optionally containing
a decimal-point character, optionally followed by an exponent.
An exponent consists of an
.Sq E
or
.Sq e ,
followed by an optional plus or minus sign, followed by a sequence of digits.
.Pp
Alternatively, if the portion of the string following the optional
plus or minus sign begins with
.Dq INF
or
.Dq NAN ,
ignoring case, it is interpreted as an infinity or a quiet \*(Na,
respectively.
The syntax
.Dq NAN Ns Pq Ar s ,
where
.Ar s
is an alphanumeric string, produces the same value as the call
.Fo nan
.Qq Ar s Ns
.Fc
(respectively,
.Fo nanf
.Qq Ar s Ns
.Fc
and
.Fo nanl
.Qq Ar s Ns
.Fc ) .
.Pp
In any of the above cases, leading whitespace characters in the
string (as defined by the
.Xr isspace 3
function) are skipped.
.Sh RETURN VALUES
The
.Fn strtod ,
.Fn strtof
and
.Fn strtold
functions return the converted value, if any.
.Pp
If
.Fa endptr
is not
.Dv NULL ,
a pointer to the character after the last character used
in the conversion is stored in the location referenced by
.Fa endptr .
.Pp
If no conversion is performed, zero is returned and the value of
.Fa nptr
is stored in the location referenced by
.Fa endptr .
.Pp
If the correct value would cause overflow, plus or minus
.Dv HUGE_VAL
is returned (according to the sign of the value), and
.Er ERANGE
is stored in
.Va errno .
If the correct value would cause underflow, zero is returned and
.Er ERANGE
is stored in
.Va errno .
.Sh ERRORS
.Bl -tag -width Er
.It Bq Er ERANGE
Overflow or underflow occurred.
.El
.Sh SEE ALSO
.Xr atof 3 ,
.Xr atoi 3 ,
.Xr atol 3 ,
.Xr strtol 3 ,
.Xr strtoul 3
.Sh STANDARDS
The
.Fn strtod
function conforms to
.St -ansiC-89 .
The
.Fn strtof
and
.Fn strtold
functions conform to
.St -isoC-99 .
@


1.20
log
@Replace all 14 instances of .St -ansiC-99 in our tree with .St -isoC-99.
The former is not used anywhere in NetBSD, FreeBSD, or DragonFly
and not supported by groff, so i'm going to delete it from mandoc(1).
We don't need two macros for the same thing.
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.19 2014/01/19 10:39:00 schwarze Exp $
d34 1
a34 1
.Dd $Mdocdate: January 19 2014 $
d109 1
a109 1
.Fc . )
@


1.19
log
@Usually, you don't want macros in the .Nd line, so remove instances of .Tn
marking up words that are not trademarks (ASCII, I/O, NFS, TCP, TELNET).
While here, remove .Tn markup from the same words in the body
of these pages, too.
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.18 2013/06/05 03:39:23 tedu Exp $
d34 1
a34 1
.Dd $Mdocdate: June 5 2013 $
d167 1
a167 1
.St -ansiC-99 .
@


1.18
log
@Use the fancy .In macro for includes. From Jan Klemkow. ok jmc schwarze
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.17 2013/01/15 05:44:41 martynas Exp $
d34 1
a34 1
.Dd $Mdocdate: January 15 2013 $
d41 1
a41 3
.Nd convert
.Tn ASCII
string to double, float or long double
@


1.17
log
@Don't pull <math.h> just because it can return HUGE_VAL in the
corner cases.  OK millert@@.
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.16 2012/09/16 17:54:03 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: September 16 2012 $
d45 1
a45 1
.Fd #include <stdlib.h>
@


1.16
log
@remove some wacky Xo/Xc;
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.15 2012/09/15 11:47:04 martynas Exp $
d34 1
a34 1
.Dd $Mdocdate: September 15 2012 $
a44 1
.Fd #include <math.h>
@


1.15
log
@Document that strtod functions accept INF, NAN, NAN().  From Michal Mazurek.
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.14 2008/09/13 22:48:45 martynas Exp $
d34 1
a34 1
.Dd $Mdocdate: September 13 2008 $
d98 1
a98 1
.Dq Xo Pf NAN( Ar "s" ) Xc ,
@


1.14
log
@document strtold.  ok millert@@
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.13 2008/09/13 22:25:49 martynas Exp $
d90 26
a115 1
Leading whitespace characters in the string (as defined by the
@


1.13
log
@strtof has been introduced in c99
from Thomas Pfaff.  ok millert@@
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.12 2008/06/13 23:50:49 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: June 13 2008 $
d39 2
a40 1
.Nm strtof
d43 1
a43 1
string to double or float
d52 3
d70 7
d95 2
a96 1
.Fn strtod
d98 1
a98 1
.Fn strtof
d138 4
a141 2
function conform to
.St -ansiC-89
d143 2
a144 2
.Fn strtof
conform to
@


1.12
log
@grammar fixes;
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.11 2008/06/13 21:04:24 landry Exp $
d126 2
d130 2
a131 2
functions conform to
.St -ansiC .
@


1.11
log
@Add strtof() to libc, some ports seem to like it. Currently it's a simple
call to strtod() with bounding check.
Discussed with pyr@@ and otto@@

ok otto@@ deraadt@@
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.10 2007/11/11 12:23:36 tobias Exp $
d34 1
a34 1
.Dd $Mdocdate: May 31 2007 $
d87 1
a87 1
functions returns the converted value, if any.
d128 1
a128 1
functions conforms to
@


1.10
log
@strtod may return HUGE_VAL on overflow, which is defined in math.h.
Therefore added math.h to SYNPOSIS.

OK millert@@
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.9 2007/05/31 19:19:31 jmc Exp $
d38 2
a39 1
.Nm strtod
d42 1
a42 1
string to double
d48 3
d59 7
d85 3
a87 1
function returns the converted value, if any.
d126 3
a128 1
function conforms to
@


1.9
log
@convert to new .Dd format;
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.8 2003/06/02 20:18:38 millert Exp $
d34 1
a34 1
.Dd $Mdocdate$
d43 1
@


1.8
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.7 2000/04/20 13:50:03 aaron Exp $
d34 1
a34 1
.Dd June 29, 1991
@


1.7
log
@Flesh out stdlib function man pages.
@
text
@d16 1
a16 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
d32 1
a32 1
.\"	$OpenBSD: strtod.3,v 1.6 2000/03/04 22:19:31 aaron Exp $
@


1.6
log
@In Unix land we prefer "whitespace" to "white space" or "white-space". At
least, this is the impression I get from looking at a lot of Perl docs.
@
text
@d36 1
a36 1
.\"	$OpenBSD: strtod.3,v 1.5 2000/01/22 12:05:49 aaron Exp $
d53 1
a53 2
function converts the initial portion of the string
pointed to by
d59 5
a63 2
The expected form of the string is an optional plus (``+'') or minus
sign (``-'') followed by a sequence of digits optionally containing
d65 5
a69 2
An exponent consists of an ``E'' or ``e'', followed by an optional plus
or minus sign, followed by a sequence of digits.
d98 1
a98 2
If the correct value would cause underflow, zero is
returned and
d116 1
a116 2
function
conforms to
@


1.5
log
@Use .Er macro when referring to errno error names.
@
text
@d36 1
a36 1
.\"	$OpenBSD: strtod.3,v 1.4 1999/06/29 18:36:23 aaron Exp $
d66 1
a66 1
Leading white-space characters in the string (as defined by the
@


1.4
log
@first round of repairs on stdlib
@
text
@d36 1
a36 1
.\"	$OpenBSD: strtod.3,v 1.3 1999/05/27 20:49:35 aaron Exp $
d90 1
a90 1
.Dv ERANGE
d95 1
a95 1
.Dv ERANGE
@


1.3
log
@more missing .El macros filled in
@
text
@d36 1
a36 1
.\"	$OpenBSD: strtod.3,v 1.2 1996/08/19 08:33:49 tholo Exp $
d53 1
a53 1
function converts the initial portion of the string 
d57 1
a57 1
.Em double
d96 1
a96 1
is stored in 
@


1.2
log
@Fix RCS ids
Make sure everything uses {SYS,}LIBC_SCCS properly
@
text
@d36 1
a36 1
.\"	$OpenBSD: strtod.3,v 1.1.1.1 1995/10/18 08:42:19 deraadt Exp $
d102 1
@


1.1
log
@Initial revision
@
text
@d36 1
a36 2
.\"     from: @@(#)strtod.3	5.3 (Berkeley) 6/29/91
.\"	$Id: strtod.3,v 1.4 1993/11/29 22:07:18 jtc Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
