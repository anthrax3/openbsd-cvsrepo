head	1.19;
access;
symbols
	OPENBSD_6_2_BASE:1.19
	OPENBSD_6_1:1.19.0.16
	OPENBSD_6_1_BASE:1.19
	OPENBSD_6_0:1.19.0.12
	OPENBSD_6_0_BASE:1.19
	OPENBSD_5_9:1.19.0.8
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.19.0.10
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.19.0.2
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.19.0.6
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.4
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.18.0.2
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.17.0.8
	OPENBSD_5_3_BASE:1.17
	OPENBSD_5_2:1.17.0.6
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.4
	OPENBSD_5_0:1.17.0.2
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.15.0.16
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.15.0.14
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.10
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.15.0.12
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.8
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.6
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.4
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.15.0.2
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.13.0.8
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.13.0.6
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.4
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.2
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.10.0.8
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.10.0.6
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.10.0.4
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.10.0.2
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.8.0.10
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.8
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.8.0.6
	OPENBSD_3_1_BASE:1.8
	OPENBSD_3_0:1.8.0.4
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9:1.8.0.2
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.7.0.4
	OPENBSD_2_8_BASE:1.7
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.3.0.8
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.6
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.4
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.2
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.19
date	2014.01.20.22.40.06;	author schwarze;	state Exp;
branches;
next	1.18;

1.18
date	2013.06.05.03.39.23;	author tedu;	state Exp;
branches;
next	1.17;

1.17
date	2011.07.24.22.29.05;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2011.07.24.21.03.00;	author miod;	state Exp;
branches;
next	1.15;

1.15
date	2007.07.06.15.42.04;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	2007.05.31.19.19.31;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2005.04.03.18.59.15;	author otto;	state Exp;
branches;
next	1.12;

1.12
date	2005.03.30.07.33.57;	author otto;	state Exp;
branches;
next	1.11;

1.11
date	2005.03.29.19.34.14;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2003.06.02.20.18.38;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2003.06.01.19.27.27;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2001.04.23.15.30.25;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.20.13.50.02;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.07.02.16.57.49;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.06.29.18.36.23;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.05.28.01.57.36;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	97.05.30.07.48.30;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.08.19.08.33.47;	author tholo;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.42.19;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.42.19;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Fix an obvious .Fn/.Fa typo, found while testing mandocdb(8).
@
text
@.\" Copyright (c) 1994
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" Jan-Simon Pendry.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	$OpenBSD: realpath.3,v 1.18 2013/06/05 03:39:23 tedu Exp $
.\"
.Dd $Mdocdate: June 5 2013 $
.Dt REALPATH 3
.Os
.Sh NAME
.Nm realpath
.Nd returns the canonicalized absolute pathname
.Sh SYNOPSIS
.In limits.h
.In stdlib.h
.Ft "char *"
.Fn realpath "const char *pathname" "char *resolved"
.Sh DESCRIPTION
The
.Fn realpath
function resolves all symbolic links, extra
.Dq /
characters and references to
.Pa /./
and
.Pa /../
in
.Fa pathname ,
and copies the resulting absolute pathname into the memory referenced by
.Fa resolved .
The
.Fa resolved
argument
.Em must
refer to a buffer capable of storing at least
.Dv PATH_MAX
characters, or be
.Dv NULL .
.Pp
The
.Fn realpath
function will resolve both absolute and relative paths
and return the absolute pathname corresponding to
.Fa pathname .
All but the last component of
.Fa pathname
must exist when
.Fn realpath
is called.
.Sh RETURN VALUES
The
.Fn realpath
function returns
.Fa resolved
on success.
If
.Fa resolved
is
.Dv NULL
and no error occurred, then
.Fn realpath
returns a NUL-terminated string in a newly allocated buffer.
If an error occurs,
.Fn realpath
returns
.Dv NULL
and the contents of
.Fa resolved
are undefined.
.Sh ERRORS
The function
.Fn realpath
may fail and set the external variable
.Va errno
for any of the errors specified for the library functions
.Xr lstat 2 ,
.Xr readlink 2 ,
and
.Xr getcwd 3 .
.Sh SEE ALSO
.Xr readlink 1 ,
.Xr getcwd 3
.Sh STANDARDS
The
.Fn realpath
function conforms to
.St -p1003.1-2008 .
.Sh HISTORY
The
.Fn realpath
function call first appeared in
.Bx 4.4 .
.Sh CAVEATS
This implementation of
.Fn realpath
differs slightly from the Solaris implementation.
The
.Bx 4.4
version always returns absolute pathnames,
whereas the Solaris implementation will,
under certain circumstances, return a relative
.Fa resolved
when given a relative
.Fa pathname .
@


1.18
log
@Use the fancy .In macro for includes. From Jan Klemkow. ok jmc schwarze
@
text
@d31 1
a31 1
.\"	$OpenBSD: realpath.3,v 1.17 2011/07/24 22:29:05 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: July 24 2011 $
d87 1
a87 1
.Fa realpath
@


1.17
log
@occured -> occurred;
@
text
@d31 1
a31 1
.\"	$OpenBSD: realpath.3,v 1.16 2011/07/24 21:03:00 miod Exp $
d40 2
a41 2
.Fd #include <limits.h>
.Fd #include <stdlib.h>
@


1.16
log
@Recent Single Unix will malloc memory if the second argument of realpath()
is NULL, and third-party software is starting to rely upon this.
Adapted from FreeBSD via Jona Joachim (jaj ; hcl-club , .lu), with minor
tweaks from nicm@@ and yours truly.
@
text
@d31 1
a31 1
.\"	$OpenBSD: realpath.3,v 1.15 2007/07/06 15:42:04 millert Exp $
d33 1
a33 1
.Dd $Mdocdate: July 6 2007 $
d86 1
a86 1
and no error occured, then
@


1.15
log
@Reference limits.h, not sys/param.h since we document using PATH_MAX
OK otto@@
@
text
@d31 1
a31 1
.\"	$OpenBSD: realpath.3,v 1.14 2007/05/31 19:19:31 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
d43 1
a43 1
.Fn realpath "const char *pathname" "char resolved[PATH_MAX]"
d63 2
a64 1
characters.
d82 7
d109 5
@


1.14
log
@convert to new .Dd format;
@
text
@d31 1
a31 1
.\"	$OpenBSD: realpath.3,v 1.13 2005/04/03 18:59:15 otto Exp $
d33 1
a33 1
.Dd $Mdocdate$
d40 1
a40 1
.Fd #include <sys/param.h>
@


1.13
log
@Xr readlink(1). ok jmc@@
@
text
@d31 1
a31 1
.\"	$OpenBSD: realpath.3,v 1.12 2005/03/30 07:33:57 otto Exp $
d33 1
a33 1
.Dd February 16, 1994
@


1.12
log
@Do not promise anything about the contents of resolved on failure.
ok millert@@
@
text
@d31 1
a31 1
.\"	$OpenBSD: realpath.3,v 1.11 2005/03/29 19:34:14 brad Exp $
d99 1
@


1.11
log
@Make realpath() thread-safe. New implementation does not use chdir(2) at all.

From: FreeBSD by Constantin S. Svintsoff <kostik (at) iclub.nsu.ru>

ok otto@@ millert@@
@
text
@d31 1
a31 1
.\"	$OpenBSD: realpath.3,v 1.10 2003/06/02 20:18:38 millert Exp $
d84 2
a85 2
.Dv NULL ,
and
d87 1
a87 1
contains the pathname which caused the problem.
@


1.10
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d31 1
a31 1
.\"	$OpenBSD: realpath.3,v 1.9 2003/06/01 19:27:27 jmc Exp $
d43 1
a43 1
.Fn realpath "const char *pathname" "char resolvedname[MAXPATHLEN]"
d56 1
a56 1
.Fa resolvedname .
d58 1
a58 1
.Fa resolvedname
d62 1
a62 1
.Dv MAXPATHLEN
d79 1
a79 1
.Fa resolvedname
d86 1
a86 1
.Fa resolvedname
a93 3
.Xr chdir 2 ,
.Xr close 2 ,
.Xr fchdir 2 ,
a94 1
.Xr open 2 ,
d114 1
a114 1
.Fa resolvedname
@


1.9
log
@- section reorder
- merge COMPATIBILITY
- kill whitespace at EOL
@
text
@d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
d31 1
a31 1
.\"	$OpenBSD: realpath.3,v 1.8 2001/04/23 15:30:25 aaron Exp $
@


1.8
log
@Various man page fixes and improvements from gluk@@
@
text
@d35 1
a35 1
.\"	$OpenBSD: realpath.3,v 1.7 2000/04/20 13:50:02 aaron Exp $
d79 1
a79 1
.Sh "RETURN VALUES"
d106 7
a124 7
.Sh SEE ALSO
.Xr getcwd 3
.Sh HISTORY
The
.Fn realpath
function call first appeared in
.Bx 4.4 .
@


1.7
log
@Flesh out stdlib function man pages.
@
text
@d35 1
a35 1
.\"	$OpenBSD: realpath.3,v 1.6 1999/07/02 16:57:49 aaron Exp $
d83 1
a83 1
.Fa resolved_name
d90 1
a90 1
.Fa resolved_name
d115 1
a115 1
.Fa resolved_path
@


1.6
log
@remove extra comma from .Dd arguments: "Month ##, ####" is the correct format,
not "Month, ##, ####"
@
text
@d35 1
a35 1
.\"	$OpenBSD: realpath.3,v 1.5 1999/06/29 18:36:23 aaron Exp $
d59 1
a59 2
and copies the resulting absolute pathname into
the memory referenced by
d103 1
a103 1
.Xr readlink 2
@


1.5
log
@first round of repairs on stdlib
@
text
@d35 1
a35 1
.\"	$OpenBSD: realpath.3,v 1.4 1999/05/28 01:57:36 aaron Exp $
d37 1
a37 1
.Dd February, 16, 1994
@


1.4
log
@"SEE ALSO" -> SEE ALSO, missed these files before
@
text
@d35 1
a35 1
.\"	$OpenBSD: realpath.3,v 1.3 1997/05/30 07:48:30 deraadt Exp $
d70 1
a70 1
The 
@


1.3
log
@for i in `find . -name \*.[123456789] -exec grep '^.Dd ' {} /dev/null \; | \
	grep '"' | cut -d':' -f1`; do
sed -e '/^.Dd /s/"//g' -e '/^.Dd /s/\(^.Dd [A-Za-z]*\) \(.*\)$/\1, \2/' <$i >x
cat x > $i
done
@
text
@d35 1
a35 1
.\"	$OpenBSD: realpath.3,v 1.2 1996/08/19 08:33:47 tholo Exp $
d119 1
a119 1
.Sh "SEE ALSO"
@


1.2
log
@Fix RCS ids
Make sure everything uses {SYS,}LIBC_SCCS properly
@
text
@d35 1
a35 1
.\"	$OpenBSD: realpath.3,v 1.1.1.1 1995/10/18 08:42:19 deraadt Exp $
d37 1
a37 1
.Dd "February 16, 1994"
@


1.1
log
@Initial revision
@
text
@d35 1
a35 2
.\"     from: @@(#)realpath.3	8.2 (Berkeley) 2/16/94
.\"	$Id: realpath.3,v 1.1.1.1 1994/05/17 12:42:30 mycroft Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
