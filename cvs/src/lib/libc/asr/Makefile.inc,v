head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.8
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.8.0.6
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.7.0.6
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.8
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.2
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.4
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.5.0.4
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.2
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3;
locks; strict;
comment	@# @;


1.8
date	2016.03.30.06.38.41;	author jmc;	state Exp;
branches;
next	1.7;
commitid	LN9ijdk9SEnzWAbM;

1.7
date	2014.03.26.18.13.15;	author eric;	state Exp;
branches;
next	1.6;

1.6
date	2013.08.08.06.55.42;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2012.09.08.11.08.21;	author eric;	state Exp;
branches;
next	1.4;

1.4
date	2012.09.05.21.49.12;	author eric;	state Exp;
branches;
next	1.3;

1.3
date	2012.07.07.15.40.54;	author eric;	state Exp;
branches;
next	1.2;

1.2
date	2012.04.14.12.06.13;	author eric;	state Exp;
branches;
next	1.1;

1.1
date	2012.04.14.09.24.18;	author eric;	state Exp;
branches;
next	;


desc
@@


1.8
log
@for some time now mandoc has not required MLINKS to function
correctly - logically complete that now by removing MLINKS from base;

authors need only to ensure there is an entry in NAME for any function/
util being added. MLINKS will still work, and remain for perl to ease
upgrades;

ok nicm (curses) bcook (ssl)
ok schwarze, who provided a lot of feedback and assistance
ok tb natano jung
@
text
@#	$OpenBSD: Makefile.inc,v 1.7 2014/03/26 18:13:15 eric Exp $

# asr sources
.PATH: ${LIBCSRCDIR}/asr

SRCS+=	asr.c asr_debug.c asr_utils.c \
	res_send_async.c res_search_async.c getrrsetbyname_async.c \
	gethostnamadr_async.c getnetnamadr_async.c \
	getaddrinfo_async.c getnameinfo_async.c

MAN+=	asr_run.3
@


1.7
log
@Make the asr API public.  Install asr.h to /usr/include.h and manpages.
Include tweaks suggested by mpi@@

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.6 2013/08/08 06:55:42 jmc Exp $
a11 15

MLINKS+= \
	asr_run.3	asr_run_sync.3		\
	asr_run.3	asr_abort.3		\
	asr_run.3	res_send_async.3	\
	asr_run.3	res_query_async.3	\
	asr_run.3	res_search_async.3	\
	asr_run.3	getrrsetbyname_async.3	\
	asr_run.3	gethostbyname_async.3	\
	asr_run.3	gethostbyname2_async.3	\
	asr_run.3	gethostbyaddr_async.3	\
	asr_run.3	getnetbyname_async.3	\
	asr_run.3	getnetbyaddr_async.3	\
	asr_run.3	getaddrinfo_async.3	\
	asr_run.3	getnameinfo_async.3
@


1.6
log
@sync with recent name changes;
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.5 2012/09/08 11:08:21 eric Exp $
d11 16
a26 16
MLINKS+ = \
	asr_resolver.3	asr_resolver_done.3	\
	asr_resolver.3	asr_async_run.3		\
	asr_resolver.3	asr_async_run_sync.3	\
	asr_resolver.3	asr_async_abort.3		\
	asr_resolver.3	res_send_async.3	\
	asr_resolver.3	res_query_async.3	\
	asr_resolver.3	res_search_async.3	\
	asr_resolver.3	getrrsetbyname_async.3	\
	asr_resolver.3	gethostbyname_async.3	\
	asr_resolver.3	gethostbyname2_async.3	\
	asr_resolver.3	gethostbyaddr_async.3	\
	asr_resolver.3	getnetbyname_async.3	\
	asr_resolver.3	getnetbyaddr_async.3	\
	asr_resolver.3	getaddrinfo_async.3	\
	asr_resolver.3	getnameinfo_async.3
@


1.5
log
@split asr_resolver.c into different files to overlay the libc/net
resolver implementation.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.4 2012/09/05 21:49:12 eric Exp $
d12 15
a26 15
	async_resolver.3	async_resolver_done.3	\
	async_resolver.3	async_run.3		\
	async_resolver.3	async_run_sync.3	\
	async_resolver.3	async_abort.3		\
	async_resolver.3	res_send_async.3	\
	async_resolver.3	res_query_async.3	\
	async_resolver.3	res_search_async.3	\
	async_resolver.3	getrrsetbyname_async.3	\
	async_resolver.3	gethostbyname_async.3	\
	async_resolver.3	gethostbyname2_async.3	\
	async_resolver.3	gethostbyaddr_async.3	\
	async_resolver.3	getnetbyname_async.3	\
	async_resolver.3	getnetbyaddr_async.3	\
	async_resolver.3	getaddrinfo_async.3	\
	async_resolver.3	getnameinfo_async.3
@


1.4
log
@Get rid of the hostaddr_async subquery and merge its behaviour
directly into getaddrinfo_async_run.  Simplifies everything by
a great deal.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.3 2012/07/07 15:40:54 eric Exp $
a9 3

# resolver replacement. comment out to disable.
SRCS+=	asr_resolver.c
@


1.3
log
@remove bogus include of bsd.lib.mk
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.2 2012/04/14 12:06:13 eric Exp $
d9 1
a9 1
	hostaddr_async.c getaddrinfo_async.c getnameinfo_async.c
a25 1
	async_resolver.3	freehostent.3		\
a27 1
	async_resolver.3	freenetent.3		\
@


1.2
log
@only define DEBUG internally
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.1 2012/04/14 09:24:18 eric Exp $
a31 2

.include <bsd.lib.mk>
@


1.1
log
@Import asr, an experimental async resolver implementation.
The idea is to eventually replace the existing resolver with
something better. Time to start working on it in tree.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.49 2012/01/17 02:33:20 deraadt Exp $
a5 1
CFLAGS+=-DDEBUG
@

