head	1.7;
access;
symbols
	OPENBSD_3_0:1.6.0.8
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9:1.6.0.6
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_8:1.6.0.4
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.4.0.2
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.1.1.1.0.12
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.10
	OPENBSD_2_4_BASE:1.1.1.1
	OPENBSD_2_3:1.1.1.1.0.8
	OPENBSD_2_3_BASE:1.1.1.1
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.7
date	2002.02.16.01.56.04;	author deraadt;	state dead;
branches;
next	1.6;

1.6
date	2000.04.15.11.46.04;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	2000.04.15.02.15.26;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.07.09.13.35.24;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	99.05.23.14.11.04;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	99.05.12.13.26.48;	author aaron;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.42.34;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.42.34;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.7
log
@zap zap zap; miod
@
text
@.\" Copyright (c) 1980, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @@(#)vlimit.3	8.1 (Berkeley) 6/4/93
.\"
.Dd June 4, 1993
.Dt VLIMIT 3
.Os
.Sh NAME
.Nm vlimit
.Nd control maximum system resource consumption
.Sh SYNOPSIS
.Fd #include <sys/vlimit.h>
.Fn vlimit resource value
.Sh DESCRIPTION
.Bf -symbolic
This interface is obsoleted by
.Xr getrlimit 2 .
It is available from the compatibility library, libcompat.
.Ef
.Pp
Limits the consumption by the current process and each process
it creates to not individually exceed
.Fa value
on the specified
.Fa resource .
If
.Fa value
is specified as \-1, then the current limit is returned and the
limit is unchanged.
The resources which are currently controllable are:
.Bl -tag -width LIM_NORAISE
.It Dv LIM_NORAISE
A pseudo-limit; if set non-zero then the limits may not be raised.
Only the superuser may remove the
.Em noraise
restriction.
.It Dv LIM_CPU
the maximum
number of cpu-seconds to be used by each process
.It Dv LIM_FSIZE
the largest single file which can be created
.It Dv LIM_DATA
the maximum growth of the data+stack region via
.Xr sbrk 2
beyond the end of the program text
.It Dv LIM_STACK
the maximum
size of the automatically extended stack region
.It Dv LIM_CORE
the size of the largest core dump that will be created.
.It Dv LIM_MAXRSS
a soft limit for the amount of physical memory (in bytes) to be given
to the program.  If memory is tight, the system will prefer to take memory
from processes which are exceeding their declared
.Dv LIM_MAXRSS .
.El
.Pp
Because this information is stored in the per-process information
this system call must be executed directly by the shell if it
is to affect all future processes created by the shell;
.Xr limit
is thus a built-in command to
.Xr csh 1 .
.Pp
The system refuses to extend the data or stack space when the limits
would be exceeded in the normal way; a
.Xr break 2
call fails if the data space limit is reached, or the process is
killed when the stack limit is reached (since the stack cannot be
extended, there is no way to send a signal!).
.Pp
A file
.Tn I/O
operation which would create a file which is too large
will cause a signal
.Dv SIGXFSZ
to be generated, this normally terminates
the process, but may be caught.
When the cpu time limit is exceeded, a signal
.Dv SIGXCPU
is sent to the
offending process; to allow it time to process the signal it is
given 5 seconds grace by raising the
.Tn CPU
time limit.
.Sh SEE ALSO
.Xr csh 1
.Sh HISTORY
The
.Fn vlimit
function appeared in
.Bx 4.2 .
.Sh BUGS
.Dv LIM_NORAISE
no longer exists.
@


1.6
log
@- For consistency, `super-user' -> `superuser' in all cases.
- Some punctuation fixes.
- Some `id' -> `ID'.
@
text
@@


1.5
log
@Mostly punctuation fixes.
@
text
@d63 1
a63 1
Only the super-user may remove the
@


1.4
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d84 1
a84 1
.Dv LIM_MAXRSS.
@


1.3
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d51 1
a51 1
it creates to not individually exceed 
d120 1
a120 1
function appeared in 
@


1.2
log
@grammar police: do not hyphenate compound words that act as adjectives if the
first word ends in -ly

i.e., fully-qualified, newly-created, globally-visible, etc. are wrong
@
text
@d36 1
a36 1
.Os BSD 4
@


1.1
log
@Initial revision
@
text
@d77 1
a77 1
size of the automatically-extended stack region
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
