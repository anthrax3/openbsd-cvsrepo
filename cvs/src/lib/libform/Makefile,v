head	1.14;
access;
symbols
	OPENBSD_6_1_BASE:1.14
	OPENBSD_6_0:1.14.0.2
	OPENBSD_6_0_BASE:1.14
	OPENBSD_5_9:1.12.0.12
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.12.0.14
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.12.0.6
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.12.0.10
	OPENBSD_5_6_BASE:1.12
	OPENBSD_5_5:1.12.0.8
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.4
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.12.0.2
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.11.0.6
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.4
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.9.0.4
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.8.0.18
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.14
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.12
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.10
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.8
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.6
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.4
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.8.0.2
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.7.0.24
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.22
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.7.0.20
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.7.0.18
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.7.0.16
	OPENBSD_3_4_BASE:1.7
	OPENBSD_3_3:1.7.0.14
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.7.0.12
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.7.0.10
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.7.0.8
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9:1.7.0.6
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_8:1.7.0.4
	OPENBSD_2_8_BASE:1.7
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.6.0.8
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.6.0.6
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.6.0.4
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.6.0.2
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.3.0.4
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	initial:1.1.1.1
	ncurses:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2016.07.04.18.01.44;	author guenther;	state Exp;
branches;
next	1.13;
commitid	MDAws5Y7do6cFWlq;

1.13
date	2016.03.30.06.38.42;	author jmc;	state Exp;
branches;
next	1.12;
commitid	LN9ijdk9SEnzWAbM;

1.12
date	2012.08.02.13.38.38;	author okan;	state Exp;
branches;
next	1.11;

1.11
date	2011.06.23.22.46.12;	author schwarze;	state Exp;
branches;
next	1.10;

1.10
date	2010.09.06.17.26.17;	author nicm;	state Exp;
branches;
next	1.9;

1.9
date	2010.01.12.23.22.07;	author nicm;	state Exp;
branches;
next	1.8;

1.8
date	2005.11.24.20.49.17;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	99.11.17.05.37.52;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	97.12.14.23.19.26;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	97.12.03.05.39.49;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	97.11.26.04.00.50;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	97.04.27.20.56.10;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	96.12.08.15.22.27;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	96.06.02.21.37.52;	author tholo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.06.02.21.37.52;	author tholo;	state Exp;
branches;
next	;


desc
@@


1.14
log
@DEBUGLIBS has been broken since the gcc4 switch, so delete it.  CFLAGS
contains -g by default anyway

problem noted by Edgar Pettijohn (edgar (at) pettijohn-web.com)
ok millert@@ kettenis@@ deraadt@@
@
text
@LIB=	form
SRCS=	fld_arg.c fld_attr.c fld_current.c fld_def.c fld_dup.c fld_ftchoice.c \
	fld_ftlink.c fld_info.c fld_just.c fld_link.c fld_max.c fld_move.c \
	fld_newftyp.c fld_opts.c fld_pad.c fld_page.c fld_stat.c fld_type.c \
	fld_user.c frm_cursor.c frm_data.c frm_def.c \
	frm_driver.c frm_hook.c frm_opts.c frm_page.c frm_post.c \
	frm_req_name.c frm_scale.c frm_sub.c frm_user.c frm_win.c fty_alnum.c \
	fty_alpha.c fty_enum.c fty_int.c fty_ipv4.c fty_num.c fty_regex.c \
	f_trace.c
HDRS=	form.h
CFLAGS+=-I${.CURDIR}/../libmenu -I${.CURDIR}/../libcurses
MAN=	form.3 form_cursor.3 form_data.3 form_driver.3 form_field.3 \
	form_field_attributes.3 form_field_buffer.3 form_field_info.3 \
	form_field_just.3 form_field_new.3 form_field_opts.3 \
	form_field_userptr.3 form_field_validation.3 form_fieldtype.3 \
	form_hook.3 form_new.3 form_new_page.3 form_opts.3 form_page.3 \
	form_post.3 form_requestname.3 form_userptr.3 form_win.3
CLEANFILES+= form.3

includes:
	@@cd ${.CURDIR}; for i in ${HDRS}; do \
	  cmp -s $$i ${DESTDIR}/usr/include/$$i || \
	  ${INSTALL} ${INSTALL_COPY} -m 444 -o $(BINOWN) -g $(BINGRP) $$i \
	  ${DESTDIR}/usr/include; done

form.3: form.3tbl
	cp ${.ALLSRC} ${.TARGET}

.include <bsd.own.mk>

afterinstall:
	-cd ${DESTDIR}${LIBDIR}; \
	for i in ${_LIBS}; do \
	    ln -f $$i `echo $$i | sed 's/form/formw/'`; \
	done

.include <bsd.lib.mk>
@


1.13
log
@for some time now mandoc has not required MLINKS to function
correctly - logically complete that now by removing MLINKS from base;

authors need only to ensure there is an entry in NAME for any function/
util being added. MLINKS will still work, and remain for perl to ease
upgrades;

ok nicm (curses) bcook (ssl)
ok schwarze, who provided a lot of feedback and assistance
ok tb natano jung
@
text
@a35 4
.if (${DEBUGLIBS:L} == "yes")
	-cd ${DESTDIR}${LIBDIR}/debug; \
	    ln -f lib${LIB}.a lib`echo ${LIB} | sed 's/form/formw/'`.a
.endif
@


1.12
log
@remove leftover NOLINT, WANTLINT, LINTFLAGS, LOBJ vars and lint targets.

ok guenther@@
@
text
@a17 34
MLINKS+=form_cursor.3 pos_form_cursor.3 form_data.3 data_ahead.3 \
	form_data.3 data_behind.3 form_field.3 set_form_fields.3 \
	form_field.3 form_fields.3 form_field.3 field_count.3 \
	form_field.3 move_field.3 form_field_attributes.3 set_field_fore.3 \
	form_field_attributes.3 field_fore.3 form_field_attributes.3 \
	set_field_back.3 form_field_attributes.3 field_back.3 \
	form_field_attributes.3 set_field_pad.3 form_field_attributes.3 \
	field_pad.3 form_field_buffer.3 set_field_buffer.3 \
	form_field_buffer.3 field_buffer.3 form_field_buffer.3 field_status.3 \
	form_field_buffer.3 set_field_status.3 \
	form_field_buffer.3 set_max_field.3 form_field_info.3 field_info.3 \
	form_field_info.3 dynamic_field_info.3 form_field_just.3 \
	set_field_just.3 form_field_just.3 field_just.3 form_field_new.3 \
	new_field.3 form_field_new.3 dup_field.3 form_field_new.3 link_field.3 \
	form_field_new.3 free_field.3 form_field_opts.3 set_field_opts.3 \
	form_field_opts.3 field_opts_on.3 form_field_opts.3 field_opts_off.3 \
	form_field_opts.3 field_opts.3 form_field_userptr.3 set_field_userptr.3\
	form_field_userptr.3 field_userptr.3 form_field_validation.3 \
	set_field_type.3 form_field_validation.3 field_type.3 \
	form_field_validation.3 field_arg.3 form_fieldtype.3 new_fieldtype.3 \
	form_fieldtype.3 free_fieldtype.3 form_fieldtype.3 set_fieldtype_arg.3 \
	form_fieldtype.3 set_fieldtype_choice.3 form_fieldtype.3 \
	link_fieldtype.3 form_hook.3 set_field_init.3 form_hook.3 field_init.3 \
	form_hook.3 set_field_term.3 form_hook.3 field_term.3 form_hook.3 \
	set_form_init.3 form_hook.3 form_init.3 form_hook.3 set_form_term.3 \
	form_hook.3 form_term.3 form_new.3 new_form.3 form_new.3 free_form.3 \
	form_new_page.3 set_new_page.3 form_new_page.3 new_page.3 \
	form_opts.3 set_form_opts.3 form_opts.3 form_opts_on.3 form_opts.3 \
	form_opts_off.3 form_page.3 set_current_field.3 form_page.3 \
	current_field.3 form_page.3 set_form_page.3 form_page.3 field_index.3 \
	form_post.3 post_form.3 form_post.3 unpost_form.3 form_requestname.3 \
	form_request_name.3 form_requestname.3 form_request_by_name.3 \
	form_userptr.3 set_form_userptr.3 form_win.3 set_form_win.3 form_win.3 \
	set_form_sub.3 form_win.3 form_sub.3 form_win.3 scale_form.3
@


1.11
log
@switch to installing source manuals (base part)
discussed with lots of people, tested by naddy@@,
"move fast" deraadt@@
@
text
@a1 1
WANTLINT=
@


1.10
log
@Enable wide character support in ncurses. It is built into libcurses,
libform, libmenu, libpanel and each library is also linked to a
corresponding "w" version.

This is a major bump for all four libraries.

Thanks to landry, stsp, sthen, naddy, oga, Martin Pieuchot, and anyone
else I've forgotten for testing.

ok naddy krw deraadt
@
text
@d13 1
a13 1
MAN=	form.3tbl form_cursor.3 form_data.3 form_driver.3 form_field.3 \
d53 1
d60 3
@


1.9
log
@Update to ncurses 5.7, with local changes reapplied.

This is around eight years worth of changes (previously we were around ncurses
5.2), too many to list - many bug fixes and also a few new functions.

A major bump for libcurses, libpanel, libform and libmenu.

ok deraadt
@
text
@d60 12
@


1.8
log
@use WANTLINT= (on all architectures)
@
text
@d6 1
a6 1
	fld_user.c frm_adabind.c frm_cursor.c frm_data.c frm_def.c \
d9 2
a10 1
	fty_alpha.c fty_enum.c fty_int.c fty_ipv4.c fty_num.c fty_regex.c
d12 1
a12 1
CFLAGS+=-I${.CURDIR}/../libmenu -I${.CURDIR}/../libcurses -DHAVE_CONFIG_H
@


1.7
log
@add MLINKs I missed
@
text
@d2 1
@


1.6
log
@ncurses-4.1-971213
@
text
@d17 34
@


1.5
log
@Merge of ncurses-4.1-971129
@
text
@d11 1
a11 1
MAN=	form.3 form_cursor.3 form_data.3 form_driver.3 form_field.3 \
@


1.4
log
@libform from ncurses 4.1.  Post 4.1 patches to be applied in a separate commit.
@
text
@d2 7
a8 4
SRCS=	fld_def.c fld_stat.c fld_type.c fld_user.c frm_data.c frm_def.c \
	frm_driver.c frm_hook.c frm_opts.c frm_user.c frm_win.c fty_alnum.c \
	fty_alpha.c fty_enum.c fty_int.c fty_num.c fty_regex.c fty_ipv4.c \
	frm_req_name.c
@


1.3
log
@COPY -> INSTALL_COPY and STRIP -> INSTALL_STRIP
This fixes namespace problems where STRIP is sometimes used as
the name of the strip(1) to use and other times used as
the flag to send install(1) when stripping (or not).
COPY doesn't have this problem (yet) but was poorly named.
@
text
@d4 2
a5 1
	fty_alpha.c fty_enum.c fty_int.c fty_num.c fty_regex.c
d7 7
a13 7
CFLAGS+=-I. -I${.CURDIR} -I${.CURDIR}/../libmenu
MAN=	form.3 form_field_userptr.3 form_cursor.3 form_field_validation.3 \
	form_data.3 form_fieldtype.3 form_driver.3 form_hook.3 form_field.3 \
	form_new.3 form_field_attributes.3 form_new_page.3 form_field_buffer.3 \
	form_opts.3 form_field_info.3 form_page.3 form_field_just.3 \
	form_post.3 form_field_new.3 form_userptr.3 form_field_opts.3 \
	form_win.3
@


1.2
log
@install -> ${INSTALL}, -c -> ${COPY}
@
text
@d17 1
a17 1
	  ${INSTALL} ${COPY} -m 444 -o $(BINOWN) -g $(BINGRP) $$i \
@


1.1
log
@Initial revision
@
text
@d17 1
a17 1
	  install -c -m 444 -o $(BINOWN) -g $(BINGRP) $$i \
@


1.1.1.1
log
@SYSV-style form library; from ncurses
@
text
@@
