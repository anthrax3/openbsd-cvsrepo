head	1.43;
access;
symbols
	OPENBSD_6_2_BASE:1.43
	OPENBSD_6_1:1.43.0.6
	OPENBSD_6_1_BASE:1.43
	OPENBSD_6_0:1.43.0.2
	OPENBSD_6_0_BASE:1.43
	OPENBSD_5_9:1.42.0.2
	OPENBSD_5_9_BASE:1.42
	OPENBSD_5_8:1.42.0.4
	OPENBSD_5_8_BASE:1.42
	OPENBSD_5_7:1.41.0.2
	OPENBSD_5_7_BASE:1.41
	OPENBSD_5_6:1.32.0.4
	OPENBSD_5_6_BASE:1.32
	OPENBSD_5_5:1.31.0.8
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.31.0.4
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.31.0.2
	OPENBSD_5_3_BASE:1.31
	OPENBSD_5_2:1.30.0.10
	OPENBSD_5_2_BASE:1.30
	OPENBSD_5_1_BASE:1.30
	OPENBSD_5_1:1.30.0.8
	OPENBSD_5_0:1.30.0.6
	OPENBSD_5_0_BASE:1.30
	OPENBSD_4_9:1.30.0.4
	OPENBSD_4_9_BASE:1.30
	OPENBSD_4_8:1.30.0.2
	OPENBSD_4_8_BASE:1.30
	OPENBSD_4_7:1.28.0.6
	OPENBSD_4_7_BASE:1.28
	OPENBSD_4_6:1.28.0.8
	OPENBSD_4_6_BASE:1.28
	OPENBSD_4_5:1.28.0.4
	OPENBSD_4_5_BASE:1.28
	OPENBSD_4_4:1.28.0.2
	OPENBSD_4_4_BASE:1.28
	OPENBSD_4_3:1.27.0.4
	OPENBSD_4_3_BASE:1.27
	OPENBSD_4_2:1.27.0.2
	OPENBSD_4_2_BASE:1.27
	OPENBSD_4_1:1.20.0.4
	OPENBSD_4_1_BASE:1.20
	OPENBSD_4_0:1.20.0.2
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.19.0.2
	OPENBSD_3_9_BASE:1.19
	OPENBSD_3_8:1.14.0.2
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.9.0.4
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.9.0.2
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.7.0.2
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.6.0.2
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.4.0.2
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.3.0.2
	OPENBSD_3_2_BASE:1.3;
locks; strict;
comment	@# @;


1.43
date	2016.03.30.06.38.42;	author jmc;	state Exp;
branches;
next	1.42;
commitid	LN9ijdk9SEnzWAbM;

1.42
date	2015.04.14.21.25.54;	author nicm;	state Exp;
branches;
next	1.41;
commitid	CSPGE92mh1acRzHj;

1.41
date	2014.11.20.13.34.45;	author jmc;	state Exp;
branches;
next	1.40;
commitid	i1cFNHRMV7noeawC;

1.40
date	2014.11.19.23.50.22;	author dlg;	state Exp;
branches;
next	1.39;
commitid	mjJTYMAWSPLUM2xZ;

1.39
date	2014.10.31.12.50.31;	author bluhm;	state Exp;
branches;
next	1.38;
commitid	0WX1csdiyVkWNgdN;

1.38
date	2014.10.18.16.48.28;	author bluhm;	state Exp;
branches;
next	1.37;
commitid	hi1FlfmD0UHtTfmr;

1.37
date	2014.10.17.22.59.46;	author bluhm;	state Exp;
branches;
next	1.36;
commitid	p1PA5gc7DJH1iIRh;

1.36
date	2014.10.17.20.52.59;	author bluhm;	state Exp;
branches;
next	1.35;
commitid	kP2i1Fuvolo0c88A;

1.35
date	2014.10.17.19.16.01;	author bluhm;	state Exp;
branches;
next	1.34;
commitid	wDYYYW1I3umfP7v5;

1.34
date	2014.10.15.22.34.44;	author bluhm;	state Exp;
branches;
next	1.33;
commitid	dMOD7zxEmY3zo5wR;

1.33
date	2014.10.06.21.16.03;	author bluhm;	state Exp;
branches;
next	1.32;
commitid	g4pIM3aXIE3MYzpg;

1.32
date	2014.04.03.11.27.02;	author eric;	state Exp;
branches;
next	1.31;

1.31
date	2012.08.02.13.38.38;	author okan;	state Exp;
branches;
next	1.30;

1.30
date	2010.04.21.21.02.46;	author nicm;	state Exp;
branches;
next	1.29;

1.29
date	2010.04.21.20.02.40;	author nicm;	state Exp;
branches;
next	1.28;

1.28
date	2008.05.02.09.18.26;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2007.03.26.18.43.18;	author deraadt;	state Exp;
branches;
next	1.26;

1.26
date	2007.03.22.12.59.56;	author deraadt;	state Exp;
branches;
next	1.25;

1.25
date	2007.03.21.12.26.36;	author millert;	state Exp;
branches;
next	1.24;

1.24
date	2007.03.21.12.22.30;	author millert;	state Exp;
branches;
next	1.23;

1.23
date	2007.03.19.20.20.06;	author jmc;	state Exp;
branches;
next	1.22;

1.22
date	2007.03.19.19.41.40;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2007.03.19.15.12.49;	author millert;	state Exp;
branches;
next	1.20;

1.20
date	2006.03.28.15.32.13;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2006.01.23.20.18.20;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2006.01.21.19.34.56;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2005.11.24.20.49.17;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	2005.10.12.18.54.54;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	2005.10.11.18.50.59;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2005.07.02.07.15.13;	author grunk;	state Exp;
branches;
next	1.13;

1.13
date	2005.06.22.01.05.27;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2005.04.22.01.01.17;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2005.04.19.08.07.45;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2005.04.19.02.03.12;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2004.05.02.18.12.36;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2004.04.28.06.53.12;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2003.09.23.08.52.04;	author markus;	state Exp;
branches;
next	1.6;

1.6
date	2003.07.10.07.48.41;	author markus;	state Exp;
branches;
next	1.5;

1.5
date	2003.07.09.10.54.37;	author markus;	state Exp;
branches;
next	1.4;

1.4
date	2003.02.20.03.20.09;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	2002.07.21.19.31.32;	author ericj;	state Exp;
branches;
next	1.2;

1.2
date	2002.06.25.15.50.15;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	2002.06.15.18.18.23;	author provos;	state Exp;
branches;
next	;


desc
@@


1.43
log
@for some time now mandoc has not required MLINKS to function
correctly - logically complete that now by removing MLINKS from base;

authors need only to ensure there is an entry in NAME for any function/
util being added. MLINKS will still work, and remain for perl to ease
upgrades;

ok nicm (curses) bcook (ssl)
ok schwarze, who provided a lot of feedback and assistance
ok tb natano jung
@
text
@#	$OpenBSD: Makefile,v 1.42 2015/04/14 21:25:54 nicm Exp $

.include <bsd.own.mk>

LIB=	event
SRCS=	buffer.c evbuffer.c event.c event_tagging.c evutil.c kqueue.c \
	log.c poll.c select.c signal.c
HDRS=	event.h evutil.h
MAN=	event.3 evbuffer_new.3

CFLAGS+= -I${.CURDIR} -DNDEBUG

# use more warnings than defined in bsd.own.mk
CDIAGFLAGS+=	-Wbad-function-cast
CDIAGFLAGS+=	-Wcast-align
CDIAGFLAGS+=	-Wcast-qual
CDIAGFLAGS+=	-Wextra
CDIAGFLAGS+=	-Wmissing-declarations
CDIAGFLAGS+=	-Wuninitialized
CDIAGFLAGS+=	-Wno-unused-parameter

includes:
	@@cd ${.CURDIR}; for i in ${HDRS}; do \
	  cmp -s $$i ${DESTDIR}/usr/include/$$i || \
	  ${INSTALL} ${INSTALL_COPY} -m 444 -o $(BINOWN) -g $(BINGRP) $$i \
	  ${DESTDIR}/usr/include; done

.include <bsd.lib.mk>
@


1.42
log
@Reorder prototypes to better match manpage layout and add some missing
argument names, from Fabian Raetz. ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.41 2014/11/20 13:34:45 jmc Exp $
a9 55
MLINKS=	event.3 event_init.3 \
	event.3 event_dispatch.3 \
	event.3 event_set.3 \
	event.3 event_add.3 \
	event.3 event_del.3 \
	event.3 event_pending.3 \
	event.3 event_initialized.3 \
	event.3 evtimer_set.3 \
	event.3 evtimer_add.3 \
	event.3 evtimer_del.3 \
	event.3 evtimer_pending.3 \
	event.3 evtimer_initialized.3 \
	event.3 signal_set.3 \
	event.3 signal_add.3 \
	event.3 signal_del.3 \
	event.3 signal_pending.3 \
	event.3 signal_initialized.3 \
	event.3 event_once.3 \
	event.3 event_loop.3 \
	event.3 event_loopexit.3 \
	event.3 event_loopbreak.3 \
	event.3 event_asr_run.3 \
	event.3 event_asr_abort.3 \
	event.3 event_priority_init.3 \
	event.3 event_priority_set.3 \
	event.3 event_base_dispatch.3 \
	event.3 event_base_loop.3 \
	event.3 event_base_loopexit.3 \
	event.3 event_base_loopbreak.3 \
	event.3 event_base_set.3 \
	event.3 event_base_once.3 \
	event.3 event_base_free.3 \
	event.3 bufferevent_base_set.3 \
	event.3 bufferevent_new.3 \
	event.3 bufferevent_free.3 \
	event.3 bufferevent_write.3 \
	event.3 bufferevent_write_buffer.3 \
	event.3 bufferevent_read.3 \
	event.3 bufferevent_enable.3 \
	event.3 bufferevent_disable.3 \
	event.3 bufferevent_settimeout.3 \
	evbuffer_new.3 evbuffer_free.3 \
	evbuffer_new.3 evbuffer_setcb.3 \
	evbuffer_new.3 evbuffer_expand.3 \
	evbuffer_new.3 evbuffer_add.3 \
	evbuffer_new.3 evbuffer_add_buffer.3 \
	evbuffer_new.3 evbuffer_add_printf.3 \
	evbuffer_new.3 evbuffer_add_vprintf.3 \
	evbuffer_new.3 evbuffer_drain.3 \
	evbuffer_new.3 evbuffer_remove.3 \
	evbuffer_new.3 evbuffer_write.3 \
	evbuffer_new.3 evbuffer_read.3 \
	evbuffer_new.3 evbuffer_find.3 \
	evbuffer_new.3 evbuffer_readline.3 \
	evbuffer_new.3 evbuffer_readln.3
@


1.41
log
@put MLINKS in the order they appear in the man page, so i don;t go blind
trying to check what's missing;
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.40 2014/11/19 23:50:22 dlg Exp $
a11 3
	event.3 event_loop.3 \
	event.3 event_loopexit.3 \
	event.3 event_loopbreak.3 \
a12 6
	event.3 event_base_dispatch.3 \
	event.3 event_base_loop.3 \
	event.3 event_base_loopexit.3 \
	event.3 event_base_loopbreak.3 \
	event.3 event_base_set.3 \
	event.3 event_base_free.3 \
a14 2
	event.3 event_once.3 \
	event.3 event_base_once.3 \
a16 2
	event.3 event_priority_init.3 \
	event.3 event_priority_set.3 \
d27 16
a50 3
	event.3 bufferevent_base_set.3 \
	event.3 event_asr_run.3 \
	event.3 event_asr_abort.3 \
@


1.40
log
@i got sick of having to read the source code to know what the
evbuffer_foo functions do. reyk, nicm, jmc, and schwarze seem to
support a manpage as a reasonable solution to this problem.

im putting this in a separate manpage because i find they get too
cumbersome when they get too big. ingo agrees (and suggests even
this might be too big).

the file is evbuffer_new.3 rather than evbuffer.3 because we document
functions.

ok reyk@@ nicm@@ jmc@@ schwarze@@
this is rough, everyone has tweaks coming.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.39 2014/10/31 12:50:31 bluhm Exp $
d10 6
a15 10
MLINKS=	event.3 bufferevent_base_set.3 \
	event.3 bufferevent_disable.3 \
	event.3 bufferevent_enable.3 \
	event.3 bufferevent_free.3 \
	event.3 bufferevent_new.3 \
	event.3 bufferevent_read.3 \
	event.3 bufferevent_settimeout.3 \
	event.3 bufferevent_write.3 \
	event.3 bufferevent_write_buffer.3 \
	event.3 event_add.3 \
a16 1
	event.3 event_base_free.3 \
d18 1
a19 2
	event.3 event_base_loopexit.3 \
	event.3 event_base_once.3 \
d21 2
a23 6
	event.3 event_dispatch.3 \
	event.3 event_init.3 \
	event.3 event_initialized.3 \
	event.3 event_loop.3 \
	event.3 event_loopbreak.3 \
	event.3 event_loopexit.3 \
d25 1
d27 1
d30 1
a30 1
	event.3 event_set.3 \
d33 1
d35 1
a35 2
	event.3 evtimer_pending.3 \
	event.3 evtimer_set.3 \
d38 1
d40 9
a48 2
	event.3 signal_pending.3 \
	event.3 signal_set.3 \
d51 3
d59 3
a61 1
	evbuffer_new.3 evbuffer_expand.3 \
a62 2
	evbuffer_new.3 evbuffer_free.3 \
	evbuffer_new.3 evbuffer_read.3 \
d64 1
a64 4
	evbuffer_new.3 evbuffer_readln.3 \
	evbuffer_new.3 evbuffer_remove.3 \
	evbuffer_new.3 evbuffer_setcb.3 \
	evbuffer_new.3 evbuffer_write.3
@


1.39
log
@Use CDIAGFLAGS from bsd.own.mk and append additional warning flags.
All warnings have been fixed in libevent.
OK nicm@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.38 2014/10/18 16:48:28 bluhm Exp $
d9 1
a9 1
MAN=	event.3
a18 11
	event.3 evbuffer_add.3 \
	event.3 evbuffer_add_buffer.3 \
	event.3 evbuffer_add_printf.3 \
	event.3 evbuffer_add_vprintf.3 \
	event.3 evbuffer_drain.3 \
	event.3 evbuffer_find.3 \
	event.3 evbuffer_free.3 \
	event.3 evbuffer_new.3 \
	event.3 evbuffer_read.3 \
	event.3 evbuffer_readline.3 \
	event.3 evbuffer_write.3 \
d50 15
a64 1
	event.3 event_asr_abort.3
@


1.38
log
@Remove the remaining #ifdef HAVE_ and the #define _GNU_SOURCE.
OK nicm@@
@
text
@d1 3
a3 1
#	$OpenBSD: Makefile,v 1.37 2014/10/17 22:59:46 bluhm Exp $
d65 5
a69 4
CDIAGFLAGS=	-Wall
#CDIAGFLAGS+=	-Werror
CDIAGFLAGS+=	-Wstrict-prototypes
CDIAGFLAGS+=	-Wmissing-prototypes
d71 2
a72 6
CDIAGFLAGS+=	-Wshadow
CDIAGFLAGS+=	-Wpointer-arith
CDIAGFLAGS+=	-Wcast-qual
CDIAGFLAGS+=	-Wsign-compare
CDIAGFLAGS+=	-Wcast-align
CDIAGFLAGS+=	-Wbad-function-cast
@


1.37
log
@Remove #ifdef HAVE_backend and remove references to unimplemented
backends.
OK nicm@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.36 2014/10/17 20:52:59 bluhm Exp $
d61 1
a61 8
CFLAGS+= -I${.CURDIR} -DNDEBUG \
	-DHAVE_FD_MASK \
	-DHAVE_SETFD \
	-DHAVE_STRLCPY \
	-DHAVE_STRSEP \
	-DHAVE_STRTOK_R \
	-DHAVE_STRTOLL \
	-DHAVE_VASPRINTF
@


1.36
log
@Remove some #ifdef HAVE_syscall.
OK nicm@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.35 2014/10/17 19:16:01 bluhm Exp $
a62 2
	-DHAVE_POLL \
	-DHAVE_SELECT \
d68 1
a68 2
	-DHAVE_VASPRINTF \
	-DHAVE_WORKING_KQUEUE
@


1.35
log
@Remove #ifdef HAVE_.*_H, just include the header files.
Do not include sys/param.h.
OK nicm@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.34 2014/10/15 22:34:44 bluhm Exp $
a61 2
	-DHAVE_CLOCK_GETTIME \
	-DHAVE_CLOCK_MONOTONIC \
a62 6
	-DHAVE_GETADDRINFO \
	-DHAVE_GETEGID \
	-DHAVE_GETEUID \
	-DHAVE_GETNAMEINFO \
	-DHAVE_GETTIMEOFDAY \
	-DHAVE_ISSETUGID \
a69 1
	-DHAVE_STRUCT_IN6_ADDR \
@


1.34
log
@Remove #ifndef HAVE_TAILQFOREACH containing a private tailq
implementation.
OK nicm@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.33 2014/10/06 21:16:03 bluhm Exp $
a63 1
	-DHAVE_FCNTL_H \
a69 1
	-DHAVE_INTTYPES_H \
a73 3
	-DHAVE_STDARG_H \
	-DHAVE_STDINT_H \
	-DHAVE_STDLIB_H \
a78 9
	-DHAVE_SYS_IOCTL_H \
	-DHAVE_SYS_PARAM_H \
	-DHAVE_SYS_QUEUE_H \
	-DHAVE_SYS_SELECT_H \
	-DHAVE_SYS_SOCKET_H \
	-DHAVE_SYS_STAT_H \
	-DHAVE_SYS_TIME_H \
	-DHAVE_SYS_TYPES_H \
	-DHAVE_UNISTD_H \
@


1.33
log
@Remove the #ifdef HAVE_SIGACTION from libevent.  The struct
evsignal_info does not change, so no library crank.
OK nicm@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.32 2014/04/03 11:27:02 eric Exp $
a91 1
	-DHAVE_TAILQFOREACH \
@


1.32
log
@add helper functions to use asr with libevent.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.31 2012/08/02 13:38:38 okan Exp $
a75 1
	-DHAVE_SIGACTION \
@


1.31
log
@remove leftover NOLINT, WANTLINT, LINTFLAGS, LOBJ vars and lint targets.

ok guenther@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.30 2010/04/21 21:02:46 nicm Exp $
d57 3
a59 1
	event.3 signal_set.3
@


1.30
log
@Clean up the awful _EVENT_* poo in the libevent headers, and don't
install event-config.h.

Pointed out by deraadt.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.29 2010/04/21 20:02:40 nicm Exp $
a3 1
WANTLINT=
@


1.29
log
@Update libevent to 1.4.13.

This is the core library only, the DNS parts are removed and it does not
include the other extra bits (HTTP, DNS, and RPC), a separate port for
these will appear in due course.

Thanks to jsg, sthen, alek, gilles, jacekm, bernd and any others I've
forgotten for testing/comments.

Note that /usr/include/evdns.h should be removed after updating.

ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.28 2008/05/02 09:18:26 jmc Exp $
d7 1
a7 1
HDRS=	event.h event-config.h evutil.h
d69 1
@


1.28
log
@Makefile: sort MLINKS and add event_base_once.3
event.3: fix NAME and remove spurious blank line
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.27 2007/03/26 18:43:18 deraadt Exp $
d5 1
a5 1
SRCS=	buffer.c evbuffer.c evdns.c event.c event_tagging.c kqueue.c \
d7 52
a58 33
HDRS=	event.h evdns.h
MAN=	evdns.3 event.3
MLINKS=	event.3 event_init.3 event.3 event_dispatch.3 event.3 event_loop.3 \
	event.3 event_loopexit.3 event.3 event_set.3 \
	event.3 event_base_dispatch.3 event.3 event_base_loop.3 \
	event.3 event_base_loopexit.3 event.3 event_base_set.3 \
	event.3 event_base_free.3 event.3 event_add.3 event.3 event_del.3 \
	event.3 event_once.3 event.3 event_base_once.3 \
	event.3 event_pending.3 event.3 event_initialized.3 \
	event.3 event_priority_init.3 event.3 event_priority_set.3 \
	event.3 evtimer_set.3 event.3 evtimer_add.3 \
	event.3 evtimer_del.3 event.3 evtimer_pending.3 \
	event.3 evtimer_initialized.3 event.3 signal_set.3 \
	event.3 signal_add.3 event.3 signal_del.3 event.3 signal_pending.3 \
	event.3 signal_initialized.3 event.3 bufferevent_new.3 \
	event.3 bufferevent_free.3 event.3 bufferevent_write.3 \
	event.3 bufferevent_write_buffer.3 event.3 bufferevent_read.3 \
	event.3 bufferevent_enable.3 event.3 bufferevent_disable.3 \
	event.3 bufferevent_settimeout.3 event.3 bufferevent_base_set.3 \
	event.3 evbuffer_new.3 event.3 evbuffer_free.3 event.3 evbuffer_add.3 \
	event.3 evbuffer_add_buffer.3 event.3 evbuffer_add_printf.3 \
	event.3 evbuffer_add_vprintf.3 event.3 evbuffer_drain.3 \
	event.3 evbuffer_write.3 event.3 evbuffer_read.3 \
	event.3 evbuffer_find.3 event.3 evbuffer_readline.3 \
	evdns.3 evdns_init.3 evdns.3 evdns_shutdown.3 \
	evdns.3 evdns_err_to_string.3 evdns.3 evdns_nameserver_add.3 \
	evdns.3 evdns_count_nameservers.3 \
	evdns.3 evdns_clear_nameservers_and_suspend.3 \
	evdns.3 evdns_resume.3 evdns.3 evdns_nameserver_ip_add.3 \
	evdns.3 evdns_resolve_ipv4.3 evdns.3 evdns_resolve_reverse.3 \
	evdns.3 evdns_resolv_conf_parse.3 evdns.3 evdns_search_clear.3 \
	evdns.3 evdns_search_add.3 evdns.3 evdns_search_ndots_set.3 \
	evdns.3 evdns_set_log_fn.3
a60 1
	-DDNS_USE_ARC4RANDOM_FOR_ID \
d64 1
d66 2
d69 2
d74 1
d77 2
d81 1
d84 5
d90 2
a91 1
	-DHAVE_UNISTD_H \
@


1.27
log
@do not ship the http parts for now; ok millert
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.26 2007/03/22 12:59:56 deraadt Exp $
d11 8
a18 7
	event.3 event_base_dispatch.3 event.3 event_base_free.3 \
	event.3 event_base_loop.3 event.3 event_base_loopexit.3 \
	event.3 event_base_set.3 event.3 event_add.3 event.3 event_del.3 \
	event.3 event_once.3 event.3 event_pending.3 \
	event.3 event_initialized.3 event.3 event_priority_init.3 \
	event.3 event_priority_set.3 event.3 evtimer_set.3 \
	event.3 evtimer_add.3 event.3 evtimer_del.3 event.3 evtimer_pending.3 \
d25 2
a26 2
	event.3 bufferevent_settimeout.3 event.3 evbuffer_new.3 \
	event.3 evbuffer_free.3 event.3 evbuffer_add.3 \
@


1.26
log
@nicer MLINKS chunk
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.25 2007/03/21 12:26:36 millert Exp $
d5 1
a5 1
SRCS=	buffer.c evbuffer.c evdns.c event.c event_tagging.c http.c kqueue.c \
a29 1
	event.3 evhttp_start.3 event.3 evhttp_free.3 \
@


1.25
log
@Use arc4random() to generate random IDs.  In the future we
may want to consider using res_randomid() but since evdns.c
checks for duplicates this is not strictly necessary.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.24 2007/03/21 12:22:30 millert Exp $
d10 20
a29 16
	event.3 event_loopexit.3 event.3 event_set.3 event.3 event_base_dispatch.3 \
	event.3 event_base_free.3 event.3 event_base_loop.3 event.3 event_base_loopexit.3 event.3 \
	event_base_set.3 event.3 event_add.3 event.3 event_del.3 event.3 event_once.3 \
	event.3 event_pending.3 event.3 event_initialized.3 event.3 \
	event_priority_init.3 event.3 event_priority_set.3 event.3 evtimer_set.3 \
	event.3 evtimer_add.3 event.3 evtimer_del.3 event.3 evtimer_pending.3 event.3 \
	evtimer_initialized.3 event.3 signal_set.3 event.3 signal_add.3 event.3 \
	signal_del.3 event.3 signal_pending.3 event.3 signal_initialized.3 event.3 \
	bufferevent_new.3 event.3 bufferevent_free.3 event.3 bufferevent_write.3 \
	event.3 bufferevent_write_buffer.3 event.3 bufferevent_read.3 event.3 \
	bufferevent_enable.3 event.3 bufferevent_disable.3 event.3 \
	bufferevent_settimeout.3 event.3 evbuffer_new.3 event.3 evbuffer_free.3 \
	event.3 evbuffer_add.3 event.3 evbuffer_add_buffer.3 event.3 \
	evbuffer_add_printf.3 event.3 evbuffer_add_vprintf.3 event.3 evbuffer_drain.3 \
	event.3 evbuffer_write.3 event.3 evbuffer_read.3 event.3 evbuffer_find.3 \
	event.3 evbuffer_readline.3 \
@


1.24
log
@Document event_base_free().  OK jmc@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.23 2007/03/19 20:20:06 jmc Exp $
d38 1
a38 1
	-DDNS_USE_CPU_CLOCK_FOR_ID \
@


1.23
log
@add MLINKS for evdns_err_to_string() and evdns_nameserver_add();
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.22 2007/03/19 19:41:40 jmc Exp $
d11 1
a11 1
	event.3 event_base_loop.3 event.3 event_base_loopexit.3 event.3 \
@


1.22
log
@provide MLINKS for evhttp_start() and evhttp_free();
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.21 2007/03/19 15:12:49 millert Exp $
d28 1
@


1.21
log
@Update to libevent-1.3b while retaining our local changes.  beck@@ OK
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.20 2006/03/28 15:32:13 brad Exp $
d26 1
@


1.20
log
@use clock_gettime if available.

From claudio@@ via libevent CVS

ok claudio@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.19 2006/01/23 20:18:20 brad Exp $
d5 4
a8 3
SRCS=	buffer.c evbuffer.c event.c kqueue.c log.c poll.c select.c signal.c
HDRS=	event.h
MAN=	event.3
d25 9
a33 1
	event.3 evbuffer_readline.3
d35 2
a36 1
CFLAGS+= -I${.CURDIR} \
d38 1
d40 2
d46 4
d52 1
@


1.19
log
@add evbuffer_add_vprintf interface from artur grabowski

From libevent CVS

ok markus@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.18 2006/01/21 19:34:56 brad Exp $
d27 1
@


1.18
log
@and some more links here too.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2005/11/24 20:49:17 deraadt Exp $
d22 2
a23 2
	evbuffer_add_printf.3 event.3 evbuffer_drain.3 event.3 evbuffer_write.3 \
	event.3 evbuffer_read.3 event.3 evbuffer_find.3 \
@


1.17
log
@use WANTLINT= (on all architectures)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 2005/10/12 18:54:54 deraadt Exp $
d9 8
a16 8
	event.3 event_loopexit.3 event.3 event_base_loop.3 event.3 \
	event_base_loopexit.3 event.3 event_set.3 event.3 event_add.3 event.3 \
	event_del.3 event.3 event_once.3 event.3 event_pending.3 event.3 \
	event_initialized.3 event.3 event_priority_init.3 event.3 \
	ievent_priority_set.3 event.3 evtimer_set.3 event.3 evtimer_add.3 event.3 \
	evtimer_del.3 event.3 evtimer_pending.3 event.3 evtimer_initialized.3 \
	event.3 signal_set.3 event.3 signal_add.3 event.3 signal_del.3 \
	event.3 signal_pending.3 event.3 signal_initialized.3 event.3 \
@


1.16
log
@three new .so libraries to help the ports people who need (or might need)
them for perl modules; discussion with pvalchev
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 2005/10/11 18:50:59 jmc Exp $
d4 1
@


1.15
log
@add missing MLINK for evbuffer_readline.3
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2005/07/02 07:15:13 grunk Exp $
a47 2

NOPIC=
@


1.14
log
@zap trailing whitespaces, no binary change

ok brad@@ beck@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2005/06/22 01:05:27 brad Exp $
d22 2
a23 1
	event.3 evbuffer_read.3 event.3 evbuffer_find.3
@


1.13
log
@CDIAGFLAGS

From grunk@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2005/04/22 01:01:17 brad Exp $
d22 1
a22 1
	event.3 evbuffer_read.3 event.3 evbuffer_find.3 
@


1.12
log
@update to libevent 1.0c; keep local changes

no shared lib so no ABI/API check is necessary

thanks to Alexander von Gernler for submitting
another diff in an attempt to update libevent
and for a use-after-free fix.

ok henning@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2005/04/19 02:03:12 brad Exp $
d35 12
@


1.11
log
@backout.  not discussed, and very wrong.  bad brad
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2004/05/02 18:12:36 miod Exp $
d4 1
a4 1
SRCS=	buffer.c evbuffer.c event.c kqueue.c poll.c select.c signal.c
d8 2
a9 1
	event.3 event_loopexit.3 event.3 event_set.3 event.3 event_add.3 event.3 \
d11 2
a12 1
	event_initialized.3 event.3 evtimer_set.3 event.3 evtimer_add.3 event.3 \
d25 2
a26 1
	-DHAVE_WORKING_KQUEUE \
d28 3
a30 1
	-DHAVE_POLL \
d32 3
a34 2
	-DHAVE_STDARG_H \
	-DHAVE_UNISTD_H
@


1.10
log
@update to libevent 1.0c; keep local changes
@
text
@d4 1
a4 1
SRCS=	buffer.c evbuffer.c event.c kqueue.c log.c poll.c select.c signal.c
d8 1
a8 2
	event.3 event_loopexit.3 event.3 event_base_loop.3 event.3 \
	event_base_loopexit.3 event.3 event_set.3 event.3 event_add.3 event.3 \
d10 1
a10 2
	event_initialized.3 event.3 event_priority_init.3 event.3 \
	ievent_priority_set.3 event.3 evtimer_set.3 event.3 evtimer_add.3 event.3 \
d23 2
a24 1
	-DHAVE_FCNTL_H \
d26 1
a26 2
	-DHAVE_SELECT \
	-DHAVE_SETFD \
d28 1
a28 5
	-DHAVE_SYS_IOCTL_H \
	-DHAVE_SYS_TIME_H \
	-DHAVE_UNISTD_H \
	-DHAVE_VASPRINTF \
	-DHAVE_WORKING_KQUEUE
@


1.9
log
@Do not define NOTE_EOF in CFLAGS. ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2004/04/28 06:53:12 brad Exp $
d4 1
a4 1
SRCS=	buffer.c evbuffer.c event.c kqueue.c poll.c select.c signal.c
d8 2
a9 1
	event.3 event_loopexit.3 event.3 event_set.3 event.3 event_add.3 event.3 \
d11 2
a12 1
	event_initialized.3 event.3 evtimer_set.3 event.3 evtimer_add.3 event.3 \
d25 2
a26 1
	-DHAVE_WORKING_KQUEUE \
d28 3
a30 1
	-DHAVE_POLL \
d32 3
a34 2
	-DHAVE_STDARG_H \
	-DHAVE_UNISTD_H
@


1.8
log
@update to libevent 0.8; keep local changes

ok markus@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2003/09/23 08:52:04 markus Exp $
d28 1
a28 2
	-DHAVE_UNISTD_H \
	-DNOTE_EOF
@


1.7
log
@add support for poll(2); ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2003/07/10 07:48:41 markus Exp $
d4 1
a4 1
SRCS=	event.c select.c poll.c signal.c kqueue.c
d8 13
a20 6
        event.3 event_set.3 event.3 event_add.3 event.3 \
        event_del.3 event.3 event_pending.3 event.3 event_initialized.3 \
        event.3 evtimer_set.3 event.3 evtimer_add.3 event.3 \
        evtimer_del.3 event.3 evtimer_pending.3 event.3 evtimer_initialized.3 \
        event.3 signal_set.3 event.3 signal_add.3 event.3 signal_del.3 \
	event.3 signal_pending.3 event.3 signal_initialized.3
d27 3
@


1.6
log
@get rid of config.h; ok miod@@, millert@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2003/07/09 10:54:37 markus Exp $
d4 1
a4 1
SRCS=	event.c select.c signal.c kqueue.c
d18 1
@


1.5
log
@update to libevent-0.7a.tar.gz; keep local changes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2003/02/20 03:20:09 deraadt Exp $
d14 6
a19 1
CFLAGS+= -DHAVE_CONFIG_H -I${.CURDIR}
@


1.4
log
@fix a variety of missing or wrong MLINKS
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2002/07/21 19:31:32 ericj Exp $
d4 1
a4 1
SRCS=	event.c select.c kqueue.c
d14 1
a14 1
CFLAGS+= -I${.CURDIR}
@


1.3
log
@
link evtimer_* now, not timeout_* since it was changed for man pages.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2002/06/25 15:50:15 mickey Exp $
d13 1
a13 1
	event.3 signal_pending.3 event.3 signal_initalized.3
@


1.2
log
@rcsids
@
text
@d1 1
a1 1
#	$OpenBSD$
d10 2
a11 2
        event.3 timeout_set.3 event.3 timeout_add.3 event.3 \
        timeout_del.3 event.3 timeout_pending.3 event.3 timeout_initialized.3 \
@


1.1
log
@build static and profiled.
@
text
@d1 2
@

