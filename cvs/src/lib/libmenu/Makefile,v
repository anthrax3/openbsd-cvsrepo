head	1.17;
access;
symbols
	OPENBSD_6_1:1.17.0.6
	OPENBSD_6_1_BASE:1.17
	OPENBSD_6_0:1.17.0.2
	OPENBSD_6_0_BASE:1.17
	OPENBSD_5_9:1.15.0.12
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.15.0.14
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.15.0.6
	OPENBSD_5_7_BASE:1.15
	OPENBSD_5_6:1.15.0.10
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.15.0.8
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.4
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.2
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.14.0.6
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.4
	OPENBSD_5_0:1.14.0.2
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.13.0.2
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.12.0.4
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.11.0.18
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.14
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.11.0.12
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.11.0.10
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.11.0.8
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.11.0.6
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.4
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.11.0.2
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.10.0.22
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.10.0.20
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.10.0.18
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.10.0.16
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.10.0.14
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.10.0.12
	OPENBSD_3_3_BASE:1.10
	OPENBSD_3_2:1.10.0.10
	OPENBSD_3_2_BASE:1.10
	OPENBSD_3_1:1.10.0.8
	OPENBSD_3_1_BASE:1.10
	OPENBSD_3_0:1.10.0.6
	OPENBSD_3_0_BASE:1.10
	OPENBSD_2_9:1.10.0.4
	OPENBSD_2_9_BASE:1.10
	OPENBSD_2_8:1.10.0.2
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.9.0.2
	OPENBSD_2_7_BASE:1.9
	OPENBSD_2_6:1.7.0.6
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.7.0.4
	OPENBSD_2_5_BASE:1.7
	OPENBSD_2_4:1.7.0.2
	OPENBSD_2_4_BASE:1.7
	OPENBSD_2_3:1.6.0.2
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.3.0.4
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	initial:1.1.1.1
	ncurses:1.1.1;
locks; strict;
comment	@# @;


1.17
date	2016.07.04.18.01.44;	author guenther;	state Exp;
branches;
next	1.16;
commitid	MDAws5Y7do6cFWlq;

1.16
date	2016.03.30.06.38.42;	author jmc;	state Exp;
branches;
next	1.15;
commitid	LN9ijdk9SEnzWAbM;

1.15
date	2012.08.02.13.38.39;	author okan;	state Exp;
branches;
next	1.14;

1.14
date	2011.06.23.22.46.12;	author schwarze;	state Exp;
branches;
next	1.13;

1.13
date	2010.09.06.17.26.17;	author nicm;	state Exp;
branches;
next	1.12;

1.12
date	2010.01.12.23.22.07;	author nicm;	state Exp;
branches;
next	1.11;

1.11
date	2005.11.24.20.49.19;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2000.07.24.04.06.12;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	99.11.17.16.59.53;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	99.11.17.05.10.38;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	98.07.24.16.38.50;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	97.12.14.23.19.30;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	97.12.03.05.31.15;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	97.11.26.03.58.43;	author millert;	state Exp;
branches;
next	1.3;

1.3
date	97.04.27.20.56.11;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	96.12.08.15.22.28;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	96.06.02.21.34.41;	author tholo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	96.06.02.21.34.41;	author tholo;	state Exp;
branches;
next	;


desc
@@


1.17
log
@DEBUGLIBS has been broken since the gcc4 switch, so delete it.  CFLAGS
contains -g by default anyway

problem noted by Edgar Pettijohn (edgar (at) pettijohn-web.com)
ok millert@@ kettenis@@ deraadt@@
@
text
@# $OpenBSD: Makefile,v 1.16 2016/03/30 06:38:42 jmc Exp $

LIB=	menu
SRCS=	m_attribs.c m_cursor.c m_driver.c m_format.c \
	m_global.c m_hook.c m_item_cur.c m_item_nam.c m_item_new.c \
	m_item_opt.c m_item_top.c m_item_use.c m_item_val.c m_item_vis.c \
	m_items.c m_new.c m_opts.c m_pad.c m_pattern.c m_post.c \
	m_req_name.c m_scale.c m_spacing.c m_sub.c m_trace.c m_userptr.c m_win.c
HDRS=	menu.h eti.h
CFLAGS+=-I${.CURDIR} -I${.CURDIR}/../libcurses -DHAVE_CONFIG_H
MAN=	menu.3 menu_attributes.3 menu_cursor.3 menu_driver.3 menu_format.3 \
	menu_hook.3 menu_items.3 menu_mark.3 menu_new.3 menu_opts.3 \
	menu_pattern.3 menu_post.3 menu_requestname.3 menu_spacing.3 \
	menu_userptr.3 menu_win.3 mitem_current.3 mitem_name.3 mitem_new.3 \
	mitem_opts.3 mitem_userptr.3 mitem_value.3 mitem_visible.3
CLEANFILES+= menu.3

includes:
	@@cd ${.CURDIR}; for i in ${HDRS}; do \
	  cmp -s $$i ${DESTDIR}/usr/include/$$i || \
	  ${INSTALL} ${INSTALL_COPY} -m 444 -o $(BINOWN) -g $(BINGRP) $$i \
	  ${DESTDIR}/usr/include; done

menu.3: menu.3tbl
	cp ${.ALLSRC} ${.TARGET}

.include <bsd.own.mk>

afterinstall:
	-cd ${DESTDIR}${LIBDIR}; \
	for i in ${_LIBS}; do \
	    ln -f $$i `echo $$i | sed 's/menu/menuw/'`; \
	done

.include <bsd.lib.mk>
@


1.16
log
@for some time now mandoc has not required MLINKS to function
correctly - logically complete that now by removing MLINKS from base;

authors need only to ensure there is an entry in NAME for any function/
util being added. MLINKS will still work, and remain for perl to ease
upgrades;

ok nicm (curses) bcook (ssl)
ok schwarze, who provided a lot of feedback and assistance
ok tb natano jung
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/08/02 13:38:39 okan Exp $
a33 4
.if (${DEBUGLIBS:L} == "yes")
	-cd ${DESTDIR}${LIBDIR}/debug; \
	    ln -f lib${LIB}.a lib`echo ${LIB} | sed 's/menu/menuw/'`.a
.endif
@


1.15
log
@remove leftover NOLINT, WANTLINT, LINTFLAGS, LOBJ vars and lint targets.

ok guenther@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/06/23 22:46:12 schwarze Exp $
a15 27
MLINKS=	menu_attributes.3 set_menu_fore.3 menu_attributes.3 menu_fore.3 \
        menu_attributes.3 set_menu_back.3 menu_attributes.3 menu_back.3 \
        menu_attributes.3 set_menu_grey.3 menu_attributes.3 menu_grey.3 \
        menu_attributes.3 set_menu_pad.3 menu_attributes.3 menu_pad.3 \
        menu_cursor.3 pos_menu_cursor.3 menu_format.3 set_menu_format.3 \
        menu_hook.3 set_item_init.3 menu_hook.3 item_init.3 menu_hook.3 \
        set_item_term.3 menu_hook.3 item_term.3 menu_hook.3 \
        set_menu_init.3 menu_hook.3 menu_init.3 menu_hook.3 \
        set_menu_term.3 menu_hook.3 menu_term.3 menu_items.3 \
        set_menu_items.3 menu_items.3 item_count.3 menu_mark.3 \
        set_menu_mark.3 menu_new.3 new_menu.3 menu_new.3 free_menu.3 \
        menu_opts.3 set_menu_opts.3 menu_opts.3 menu_opts_on.3 \
        menu_opts.3 menu_opts_off.3 menu_pattern.3 set_menu_pattern.3 \
        menu_post.3 post_menu.3 menu_post.3 unpost_menu.3 \
        menu_requestname.3 menu_request_name.3 menu_requestname.3 \
        menu_request_by_name.3 menu_spacing.3 set_menu_spacing.3 \
        menu_userptr.3 set_menu_userptr.3 menu_win.3 set_menu_win.3 \
        menu_win.3 set_menu_sub.3 menu_win.3 menu_sub.3 menu_win.3 \
        scale_menu.3 mitem_current.3 set_current_item.3 mitem_current.3 \
        current_item.3 mitem_current.3 set_top_row.3 mitem_current.3 \
        top_row.3 mitem_current.3 item_index.3 mitem_name.3 item_name.3 \
        mitem_name.3 item_description.3 mitem_new.3 new_item.3 \
        mitem_new.3 free_item.3 mitem_opts.3 set_item_opts.3 \
        mitem_opts.3 item_opts_on.3 mitem_opts.3 item_opts_off.3 \
        mitem_opts.3 item_opts.3 mitem_userptr.3 set_item_userptr.3 \
        mitem_userptr.3 item_userptr.3 mitem_value.3 set_item_value.3 \
        mitem_value.3 item_value.3 mitem_visible.3 item_visible.3
@


1.14
log
@switch to installing source manuals (base part)
discussed with lots of people, tested by naddy@@,
"move fast" deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/09/06 17:26:17 nicm Exp $
a3 1
WANTLINT=
@


1.13
log
@Enable wide character support in ncurses. It is built into libcurses,
libform, libmenu, libpanel and each library is also linked to a
corresponding "w" version.

This is a major bump for all four libraries.

Thanks to landry, stsp, sthen, naddy, oga, Martin Pieuchot, and anyone
else I've forgotten for testing.

ok naddy krw deraadt
@
text
@d1 1
a1 1
# $OpenBSD$
d12 1
a12 1
MAN=	menu.3tbl menu_attributes.3 menu_cursor.3 menu_driver.3 menu_format.3 \
d44 1
d51 3
@


1.12
log
@Update to ncurses 5.7, with local changes reapplied.

This is around eight years worth of changes (previously we were around ncurses
5.2), too many to list - many bug fixes and also a few new functions.

A major bump for libcurses, libpanel, libform and libmenu.

ok deraadt
@
text
@d1 2
d50 12
@


1.11
log
@use WANTLINT= (on all architectures)
@
text
@d3 1
a3 1
SRCS=	m_adabind.c m_attribs.c m_cursor.c m_driver.c m_format.c \
d7 1
a7 1
	m_req_name.c m_scale.c m_spacing.c m_sub.c m_userptr.c m_win.c
@


1.10
log
@Update to ncurses-5.1-20000722
@
text
@d2 1
@


1.9
log
@remove extraneous backslash
@
text
@d9 1
a9 1
MAN=	menu.3tbl menu_attribs.3 menu_cursor.3 menu_driver.3 menu_format.3 \
d14 4
a17 4
MLINKS=	menu_attribs.3 set_menu_fore.3 menu_attribs.3 menu_fore.3 \
        menu_attribs.3 set_menu_back.3 menu_attribs.3 menu_back.3 \
        menu_attribs.3 set_menu_grey.3 menu_attribs.3 menu_grey.3 \
        menu_attribs.3 set_menu_pad.3 menu_attribs.3 menu_pad.3 \
@


1.8
log
@add MLINKs
@
text
@d40 1
a40 1
        mitem_value.3 item_value.3 mitem_visible.3 item_visible.3 \
@


1.7
log
@libmenu from ncurses-4.2-980718
@
text
@d14 27
@


1.6
log
@ncurses-4.1-971213
@
text
@d2 5
a6 5
SRCS=	m_attribs.c m_cursor.c m_driver.c m_format.c m_global.c m_hook.c \
	m_item_cur.c m_item_nam.c m_item_new.c m_item_opt.c m_item_top.c \
	m_item_use.c m_item_val.c m_item_vis.c m_items.c m_new.c m_opts.c \
	m_pad.c m_pattern.c m_post.c m_req_name.c m_scale.c m_spacing.c \
	m_sub.c m_userptr.c m_win.c
d8 1
a8 1
CFLAGS+=-I. -I${.CURDIR} -I${.CURDIR}/../libcurses -DHAVE_CONFIG_H
@


1.5
log
@merge of ncurses-4.1-971129
@
text
@d9 1
a9 1
MAN=	menu.3 menu_attribs.3 menu_cursor.3 menu_driver.3 menu_format.3 \
d12 2
a13 1
	menu_userptr.3 menu_win.3
@


1.4
log
@libmenu from ncurses 4.1.  Post 4.1 patches to be applied in a separate commit.
@
text
@d3 4
a6 3
	m_item_cur.c m_item_nam.c m_item_new.c m_item_opt.c m_item_use.c \
	m_item_val.c m_item_vis.c m_items.c m_new.c m_opts.c m_post.c \
	m_userptr.c m_win.c
@


1.3
log
@COPY -> INSTALL_COPY and STRIP -> INSTALL_STRIP
This fixes namespace problems where STRIP is sometimes used as
the name of the strip(1) to use and other times used as
the flag to send install(1) when stripping (or not).
COPY doesn't have this problem (yet) but was poorly named.
@
text
@d7 5
a11 4
CFLAGS+=-I. -I${.CURDIR} -DHAVE_EXTERN_ERRNO
MAN=	menu.3 menu_driver.3 menu_items.3 menu_opts.3 menu_userptr.3 \
	menu_attribs.3 menu_format.3 menu_mark.3 menu_pattern.3 menu_win.3 \
	menu_cursor.3 menu_hook.3 menu_new.3 menu_post.3
@


1.2
log
@install -> ${INSTALL}, -c -> ${COPY}
@
text
@d15 1
a15 1
	  ${INSTALL} ${COPY} -m 444 -o $(BINOWN) -g $(BINGRP) $$i \
@


1.1
log
@Initial revision
@
text
@d15 1
a15 1
	  install -c -m 444 -o $(BINOWN) -g $(BINGRP) $$i \
@


1.1.1.1
log
@SYSV-style menu library; from ncurses
@
text
@@
