head	1.13;
access;
symbols
	OPENBSD_5_5:1.12.0.6
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.11.0.28
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.11.0.26
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.24
	OPENBSD_5_0:1.11.0.22
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.20
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.11.0.18
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.11.0.14
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.11.0.16
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.12
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.11.0.10
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.11.0.8
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.11.0.6
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.11.0.4
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	HEIMDAL_0_7_2:1.1.1.6
	OPENBSD_3_9:1.10.0.2
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.9.0.2
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	HEIMDAL_0_6_3:1.1.1.5
	OPENBSD_3_6:1.7.0.4
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.7.0.2
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.6.0.2
	OPENBSD_3_4_BASE:1.6
	HEIMDAL_0_6:1.1.1.4
	HEIMDAL_0_6RC1:1.1.1.4
	OPENBSD_3_3:1.5.0.2
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.4.0.4
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.4.0.2
	OPENBSD_3_1_BASE:1.4
	HEIMDAL_0_4e:1.1.1.3
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	HEIMDAL_0_3f:1.1.1.2
	HEIMDAL_0_3e:1.1.1.1
	KTH:1.1.1;
locks; strict;
comment	@.\" @;


1.13
date	2014.04.22.10.01.32;	author reyk;	state dead;
branches;
next	1.12;

1.12
date	2013.06.17.18.57.44;	author robert;	state Exp;
branches;
next	1.11;

1.11
date	2006.04.14.08.15.04;	author biorn;	state Exp;
branches;
next	1.10;

1.10
date	2006.02.21.23.12.34;	author biorn;	state Exp;
branches;
next	1.9;

1.9
date	2005.08.02.04.00.08;	author david;	state Exp;
branches;
next	1.8;

1.8
date	2004.10.29.16.20.31;	author biorn;	state Exp;
branches;
next	1.7;

1.7
date	2004.02.10.14.43.03;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2003.05.11.03.40.00;	author hin;	state Exp;
branches;
next	1.5;

1.5
date	2003.01.21.19.59.09;	author jmc;	state Exp;
branches;
next	1.4;

1.4
date	2002.02.06.09.10.02;	author hin;	state Exp;
branches;
next	1.3;

1.3
date	2001.07.31.20.09.58;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2001.06.25.04.43.37;	author hin;	state Exp;
branches;
next	1.1;

1.1
date	2001.05.25.07.50.49;	author hin;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.05.25.07.50.49;	author hin;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.06.22.21.24.25;	author hin;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2002.02.06.08.55.31;	author hin;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.05.11.02.15.54;	author hin;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2004.10.29.15.55.36;	author biorn;	state Exp;
branches;
next	1.1.1.6;

1.1.1.6
date	2006.04.14.07.33.21;	author biorn;	state Exp;
branches;
next	;


desc
@@


1.13
log
@The complexity and quality of kerberosV and the fact that almost
nobody is using it doesn't justify to have it in base - disable and
remove it.  If the 2 two people who use it still want it, they can
make a port or recompile OpenBSD on their own.

There is a quote in theo.c from August 2010: "basically, dung beetles
fucking.  that's what kerberosV + openssl is like".

Discussed with many.  Tests by henning@@ reyk@@ and others.
ok deraadt@@ henning@@
@
text
@.\" Copyright (c) 1999 - 2005 Kungliga Tekniska HÃ¶gskolan
.\" (Royal Institute of Technology, Stockholm, Sweden).
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\"
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\"
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" 3. Neither the name of the Institute nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE INSTITUTE AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE INSTITUTE OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\" $Id: krb5.conf.5,v 1.12 2013/06/17 18:57:44 robert Exp $
.\"
.Dd May  4, 2005
.Dt KRB5.CONF 5
.Os HEIMDAL
.Sh NAME
.Nm krb5.conf
.Nd configuration file for Kerberos 5
.Sh SYNOPSIS
.In krb5.h
.Sh DESCRIPTION
The
.Nm
file specifies several configuration parameters for the Kerberos 5
library, as well as for some programs.
.Pp
The file consists of one or more sections, containing a number of
bindings.
The value of each binding can be either a string or a list of other
bindings.
The grammar looks like:
.Bd -literal -offset indent
file:
	/* empty */
	sections

sections:
	section sections
	section

section:
	'[' section_name ']' bindings

section_name:
	STRING

bindings:
	binding bindings
	binding

binding:
	name '=' STRING
	name '=' '{' bindings '}'

name:
	STRING

.Ed
.Li STRINGs
consists of one or more non-whitespace characters.
.Pp
STRINGs that are specified later in this man-page uses the following
notation.
.Bl -tag -width "xxx" -offset indent
.It boolean
values can be either yes/true or no/false.
.It time
values can be a list of year, month, day, hour, min, second.
Example: 1 month 2 days 30 min.
If no unit is given, seconds is assumed.
.It etypes
valid encryption types are: des-cbc-crc, des-cbc-md4, des-cbc-md5,
des3-cbc-sha1, arcfour-hmac-md5, aes128-cts-hmac-sha1-96, and
aes256-cts-hmac-sha1-96 .
.It address
an address can be either a IPv4 or a IPv6 address.
.El
.Pp
Currently recognised sections and bindings are:
.Bl -tag -width "xxx" -offset indent
.It Li [appdefaults]
Specifies the default values to be used for Kerberos applications.
You can specify defaults per application, realm, or a combination of
these.
The preference order is:
.Bl -enum -compact
.It
.Va application Va realm Va option
.It
.Va application Va option
.It
.Va realm Va option
.It
.Va option
.El
.Pp
The supported options are:
.Bl -tag -width "xxx" -offset indent
.It Li forwardable = Va boolean
When obtaining initial credentials, make the credentials forwardable.
.It Li proxiable = Va boolean
When obtaining initial credentials, make the credentials proxiable.
.It Li no-addresses = Va boolean
When obtaining initial credentials, request them for an empty set of
addresses, making the tickets valid from any address.
.It Li ticket_lifetime = Va time
Default ticket lifetime.
.It Li renew_lifetime = Va time
Default renewable ticket lifetime.
.It Li encrypt = Va boolean
Use encryption, when available.
.It Li forward = Va boolean
Forward credentials to remote host (for
.Xr rsh 1 ,
.Xr telnet 1 ,
etc).
.El
.It Li [libdefaults]
.Bl -tag -width "xxx" -offset indent
.It Li default_realm = Va REALM
Default realm to use, this is also known as your
.Dq local realm .
The default is the result of
.Fn krb5_get_host_realm "local hostname" .
.It Li allow_weak_crypto = Va boolean
is weaks crypto algorithms allowed to be used, among others, DES is
considered weak.
.It Li clockskew = Va time
Maximum time differential (in seconds) allowed when comparing
times.
Default is 300 seconds (five minutes).
.It Li kdc_timeout = Va time
Maximum time to wait for a reply from the kdc, default is 3 seconds.
.It Li v4_name_convert
.It Li v4_instance_resolve
These are described in the
.Xr krb5_425_conv_principal  3
manual page.
.It Li capath = {
.Bl -tag -width "xxx" -offset indent
.It Va destination-realm Li = Va next-hop-realm
.It ...
.It Li }
.El
This is deprecated, see the
.Li capaths
section below.
.It Li default_cc_type = Va cctype
sets the default credentials type.
.It Li default_cc_name = Va ccname
the default credentials cache name.
If you want to change the type only use
.Li default_cc_type .
The string can contain variables that are expanded on runtime.
Only support variable now is
.Li %{uid}
that expands to the current user id.
.It Li default_etypes = Va etypes ...
A list of default encryption types to use. (Default: all enctypes if
allow_weak_crypto = TRUE, else all enctypes except single DES enctypes.)
.It Li default_as_etypes = Va etypes ...
A list of default encryption types to use in AS requests.  (Default: the
value of default_etypes.)
.It Li default_tgs_etypes = Va etypes ...
A list of default encryption types to use in TGS requests.  (Default:
the value of default_etypes.)
.It Li default_etypes_des = Va etypes ...
A list of default encryption types to use when requesting a DES credential.
.It Li default_keytab_name = Va keytab
The keytab to use if no other is specified, default is
.Dq FILE:/etc/krb5.keytab .
.It Li dns_lookup_kdc = Va boolean
Use DNS SRV records to lookup KDC services location.
.It Li dns_lookup_realm = Va boolean
Use DNS TXT records to lookup domain to realm mappings.
.It Li kdc_timesync = Va boolean
Try to keep track of the time differential between the local machine
and the KDC, and then compensate for that when issuing requests.
.It Li max_retries = Va number
The max number of times to try to contact each KDC.
.It Li large_msg_size = Va number
The threshold where protocols with tiny maximum message sizes are not
considered usable to send messages to the KDC.
.It Li ticket_lifetime = Va time
Default ticket lifetime.
.It Li renew_lifetime = Va time
Default renewable ticket lifetime.
.It Li forwardable = Va boolean
When obtaining initial credentials, make the credentials forwardable.
This option is also valid in the [realms] section.
.It Li proxiable = Va boolean
When obtaining initial credentials, make the credentials proxiable.
This option is also valid in the [realms] section.
.It Li verify_ap_req_nofail = Va boolean
If enabled, failure to verify credentials against a local key is a
fatal error.
The application has to be able to read the corresponding service key
for this to work.
Some applications, like
.Xr su 1 ,
enable this option unconditionally.
.It Li warn_pwexpire = Va time
How soon to warn for expiring password.
Default is seven days.
.It Li http_proxy = Va proxy-spec
A HTTP-proxy to use when talking to the KDC via HTTP.
.It Li dns_proxy = Va proxy-spec
Enable using DNS via HTTP.
.It Li extra_addresses = Va address ...
A list of addresses to get tickets for along with all local addresses.
.It Li time_format = Va string
How to print time strings in logs, this string is passed to
.Xr strftime 3 .
.It Li date_format = Va string
How to print date strings in logs, this string is passed to
.Xr strftime 3 .
.It Li log_utc = Va boolean
Write log-entries using UTC instead of your local time zone.
.It Li scan_interfaces = Va boolean
Scan all network interfaces for addresses, as opposed to simply using
the address associated with the system's host name.
.It Li fcache_version = Va int
Use file credential cache format version specified.
.It Li krb4_get_tickets = Va boolean
Also get Kerberos 4 tickets in
.Nm kinit ,
.Nm login ,
and other programs.
This option is also valid in the [realms] section.
.It Li fcc-mit-ticketflags = Va boolean
Use MIT compatible format for file credential cache.
It's the field ticketflags that is stored in reverse bit order for
older than Heimdal 0.7.
Setting this flag to
.Dv TRUE
make it store the MIT way, this is default for Heimdal 0.7.
.It Li check-rd-req-server
If set to "ignore", the framework will ignore any the server input to
.Xr krb5_rd_req 3,
this is very useful when the GSS-API server input the
wrong server name into the gss_accept_sec_context call.
.El
.It Li [domain_realm]
This is a list of mappings from DNS domain to Kerberos realm.
Each binding in this section looks like:
.Pp
.Dl domain = realm
.Pp
The domain can be either a full name of a host or a trailing
component, in the latter case the domain-string should start with a
period.
The trailing component only matches hosts that are in the same domain, ie
.Dq .example.com
matches
.Dq foo.example.com ,
but not
.Dq foo.test.example.com .
.Pp
The realm may be the token `dns_locate', in which case the actual
realm will be determined using DNS (independently of the setting
of the `dns_lookup_realm' option).
.It Li [realms]
.Bl -tag -width "xxx" -offset indent
.It Va REALM Li = {
.Bl -tag -width "xxx" -offset indent
.It Li kdc = Va [service/]host[:port]
Specifies a list of kdcs for this realm.
If the optional
.Va port
is absent, the
default value for the
.Dq kerberos/udp
.Dq kerberos/tcp ,
and
.Dq http/tcp
port (depending on service) will be used.
The kdcs will be used in the order that they are specified.
.Pp
The optional
.Va service
specifies over what medium the kdc should be
contacted.
Possible services are
.Dq udp ,
.Dq tcp ,
and
.Dq http .
Http can also be written as
.Dq http:// .
Default service is
.Dq udp
and
.Dq tcp .
.It Li admin_server = Va host[:port]
Specifies the admin server for this realm, where all the modifications
to the database are performed.
.It Li kpasswd_server = Va host[:port]
Points to the server where all the password changes are performed.
If there is no such entry, the kpasswd port on the admin_server host
will be tried.
.It Li krb524_server = Va host[:port]
Points to the server that does 524 conversions.
If it is not mentioned, the krb524 port on the kdcs will be tried.
.It Li v4_instance_convert
.It Li v4_name_convert
.It Li default_domain
See
.Xr krb5_425_conv_principal 3 .
.It Li tgs_require_subkey
a boolan variable that defaults to false.
Old DCE secd (pre 1.1) might need this to be true.
.El
.It Li }
.El
.It Li [capaths]
.Bl -tag -width "xxx" -offset indent
.It Va client-realm Li = {
.Bl -tag -width "xxx" -offset indent
.It Va server-realm Li = Va hop-realm ...
This serves two purposes. First the first listed
.Va hop-realm
tells a client which realm it should contact in order to ultimately
obtain credentials for a service in the
.Va server-realm .
Secondly, it tells the KDC (and other servers) which realms are
allowed in a multi-hop traversal from
.Va client-realm
to
.Va server-realm .
Except for the client case, the order of the realms are not important.
.El
.It Va }
.El
.It Li [logging]
.Bl -tag -width "xxx" -offset indent
.It Va entity Li = Va destination
Specifies that
.Va entity
should use the specified
.Li destination
for logging.
See the
.Xr krb5_openlog 3
manual page for a list of defined destinations.
.El
.It Li [kdc]
.Bl -tag -width "xxx" -offset indent
.It Li database Li = {
.Bl -tag -width "xxx" -offset indent
.It Li dbname Li = Va DATABASENAME
Use this database for this realm.
See the info documetation how to configure different database backends.
.It Li realm Li = Va REALM
Specifies the realm that will be stored in this database.
It realm isn't set, it will used as the default database, there can
only be one entry that doesn't have a
.Li realm
stanza.
.It Li mkey_file Li = Pa FILENAME
Use this keytab file for the master key of this database.
If not specified
.Va DATABASENAME Ns .mkey
will be used.
.It Li acl_file Li = PA FILENAME
Use this file for the ACL list of this database.
.It Li log_file Li = Pa FILENAME
Use this file as the log of changes performed to the database.
This file is used by
.Nm ipropd-master
for propagating changes to slaves.
.El
.It Li }
.It Li max-request = Va SIZE
Maximum size of a kdc request.
.It Li require-preauth = Va BOOL
If set pre-authentication is required.
Since krb4 requests are not pre-authenticated they will be rejected.
.It Li ports = Va "list of ports"
List of ports the kdc should listen to.
.It Li addresses = Va "list of interfaces"
List of addresses the kdc should bind to.
.It Li enable-kerberos4 = Va BOOL
Turn on Kerberos 4 support.
.It Li v4-realm = Va REALM
To what realm v4 requests should be mapped.
.It Li enable-524 = Va BOOL
Should the Kerberos 524 converting facility be turned on.
Default is the same as
.Va enable-kerberos4 .
.It Li enable-http = Va BOOL
Should the kdc answer kdc-requests over http.
.It Li enable-kaserver = Va BOOL
If this kdc should emulate the AFS kaserver.
.It Li tgt-use-strongest-session-key = Va BOOL
If this is TRUE then the KDC will prefer the strongest key from the
client's AS-REQ or TGS-REQ enctype list for the ticket session key that
is supported by the KDC and the target principal when the target
principal is a krbtgt principal.  Else it will prefer the first key from
the client's AS-REQ enctype list that is also supported by the KDC and
the target principal. Defaults to TRUE.
.It Li svc-use-strongest-session-key = Va BOOL
Like tgt-use-strongest-session-key, but applies to the session key
enctype of tickets for services other than krbtgt principals. Defaults
to TRUE.
.It Li preauth-use-strongest-session-key = Va BOOL
If TRUE then select the strongest possible enctype from the client's
AS-REQ for PA-ETYPE-INFO2 (i.e., for password-based pre-authentication).
Else pick the first supported enctype from the client's AS-REQ. Defaults
to TRUE.
.It Li use-strongest-server-key = Va BOOL
If TRUE then the KDC picks, for the ticket encrypted part's key, the
first supported enctype from the target service principal's hdb entry's
current keyset. Else the KDC picks the first supported enctype from the
target service principal's hdb entry's current keyset. Defaults to TRUE.
.It Li check-ticket-addresses = Va BOOL
Verify the addresses in the tickets used in tgs requests.
.\" XXX
.It Li allow-null-ticket-addresses = Va BOOL
Allow address-less tickets.
.\" XXX
.It Li allow-anonymous = Va BOOL
If the kdc is allowed to hand out anonymous tickets.
.It Li encode_as_rep_as_tgs_rep = Va BOOL
Encode as-rep as tgs-rep tobe compatible with mistakes older DCE secd did.
.\" XXX
.It Li kdc_warn_pwexpire = Va TIME
The time before expiration that the user should be warned that her
password is about to expire.
.It Li logging = Va Logging
What type of logging the kdc should use, see also [logging]/kdc.
.It Li use_2b = {
.Bl -tag -width "xxx" -offset indent
.It Va principal Li = Va BOOL
boolean value if the 524 daemon should return AFS 2b tokens for
.Fa principal .
.It ...
.El
.It Li }
.It Li hdb-ldap-structural-object Va structural object
If the LDAP backend is used for storing principals, this is the
structural object that will be used when creating and when reading
objects.
The default value is account .
.It Li hdb-ldap-create-base Va creation dn
is the dn that will be appended to the principal when creating entries.
Default value is the search dn.
.It Li enable-digest = Va BOOL
Should the kdc answer digest requests. The default is FALSE.
.It Li digests_allowed = Va list of digests
Specifies the digests the kdc will reply to. The default is
.Li ntlm-v2 .
.El
.It Li [kadmin]
.Bl -tag -width "xxx" -offset indent
.It Li require-preauth = Va BOOL
If pre-authentication is required to talk to the kadmin server.
.It Li password_lifetime = Va time
If a principal already have its password set for expiration, this is
the time it will be valid for after a change.
.It Li default_keys = Va keytypes...
For each entry in
.Va default_keys
try to parse it as a sequence of
.Va etype:salttype:salt
syntax of this if something like:
.Pp
[(des|des3|etype):](pw-salt|afs3-salt)[:string]
.Pp
If
.Ar etype
is omitted it means everything, and if string is omitted it means the
default salt string (for that principal and encryption type).
Additional special values of keytypes are:
.Bl -tag -width "xxx" -offset indent
.It Li v5
The Kerberos 5 salt
.Va pw-salt
.It Li v4
The Kerberos 4 salt
.Va des:pw-salt:
.El
.It Li use_v4_salt = Va BOOL
When true, this is the same as
.Pp
.Va default_keys = Va des3:pw-salt Va v4
.Pp
and is only left for backwards compatibility.
.El
.It Li [password_quality]
Check the Password quality assurance in the info documentation for
more information.
.Bl -tag -width "xxx" -offset indent
.It Li check_library = Va library-name
Library name that contains the password check_function
.It Li check_function = Va function-name
Function name for checking passwords in check_library
.It Li policy_libraries = Va library1 ... libraryN
List of libraries that can do password policy checks
.It Li policies = Va policy1 ... policyN
List of policy names to apply to the password. Builtin policies are
among other minimum-length, character-class, external-check.
.El
.El
.Sh ENVIRONMENT
.Ev KRB5_CONFIG
points to the configuration file to read.
.Sh FILES
.Bl -tag -width "/etc/krb5.conf"
.It Pa /etc/krb5.conf
configuration file for Kerberos 5.
.El
.Sh EXAMPLES
.Bd -literal -offset indent
[libdefaults]
	default_realm = FOO.SE
[domain_realm]
	.foo.se = FOO.SE
	.bar.se = FOO.SE
[realms]
	FOO.SE = {
		kdc = kerberos.foo.se
		v4_name_convert = {
			rcmd = host
		}
		v4_instance_convert = {
			xyz = xyz.bar.se
		}
		default_domain = foo.se
	}
[logging]
	kdc = FILE:/var/heimdal/kdc.log
	kdc = SYSLOG:INFO
	default = SYSLOG:INFO:USER
.Ed
.Sh DIAGNOSTICS
Since
.Nm
is read and parsed by the krb5 library, there is not a lot of
opportunities for programs to report parsing errors in any useful
format.
To help overcome this problem, there is a program
.Nm verify_krb5_conf
that reads
.Nm
and tries to emit useful diagnostics from parsing errors.
Note that this program does not have any way of knowing what options
are actually used and thus cannot warn about unknown or misspelled
ones.
.Sh SEE ALSO
.Xr kinit 1 ,
.Xr krb5_425_conv_principal 3 ,
.Xr krb5_openlog 3 ,
.Xr strftime 3 ,
.Xr verify_krb5_conf 8
@


1.12
log
@update kerberosV to Heimdal 1.5.2 using BSD Makefiles based
on the ones from FreeBSD

This is getting commited now so that we can patch it up
fast in the tree.
There are known regressions so please don't try to build
this on your own now, please wait for the next available
snapshot.

If however you would still want to build it, make sure
build and install everything in the tools directory first.

This is not the full commit yet because there are several
subdirectories.
@
text
@d32 1
a32 1
.\" $Id$
@


1.11
log
@Merge of heimdal 0.7.2
Tested by todd & beck, ok beck.
@
text
@d1 1
a1 1
.\" Copyright (c) 1999 - 2005 Kungliga Tekniska Högskolan
d32 1
a32 1
.\" $KTH: krb5.conf.5,v 1.60 2005/05/29 13:14:50 lha Exp $
d146 3
d166 1
a166 1
This is deprecated, see the 
d169 2
d173 2
d180 8
a187 1
A list of default encryption types to use.
d192 1
a192 1
.Dq FILE:/etc/kerberosV/krb5.keytab .
d258 5
d348 1
a348 1
.Va client-realm 
d373 1
a373 1
See the info documetation how to configure diffrent database backends.
d415 21
d468 5
d510 14
d529 2
a530 2
.Bl -tag -width "/etc/kerberosV/krb5.conf"
.It Pa /etc/kerberosV/krb5.conf
@


1.10
log
@
krb5.conf lives in /etc/kerberosV

Noted by Antoine Jacoutot, ok beck@@
@
text
@d1 1
a1 1
.\" Copyright (c) 1999 - 2004 Kungliga Tekniska Högskolan
d32 1
a32 1
.\" $KTH: krb5.conf.5,v 1.35.2.2 2004/03/09 19:52:07 lha Exp $
d34 1
a34 1
.Dd March 9, 2004
d91 1
d152 2
a153 2
.It v4_name_convert
.It v4_instance_resolve
d166 6
d188 3
d216 2
a217 2
.It Li extra_addresses = Va address...
A list of addresses to get tickets for, along with all local addresses.
d254 7
d350 1
a350 1
.It database Li = {
d352 1
a352 1
.It dbname Li = Va DATABASENAME
d354 2
a355 1
.It realm Li = Va REALM
d357 5
a361 1
.It mkey_file Li = Pa FILENAME
d366 1
a366 1
.It acl_file Li = PA FILENAME
d368 1
a368 1
.It log_file Li = Pa FILENAME
d375 1
a375 1
.It max-request = Va SIZE
d377 1
a377 1
.It require-preauth = Va BOOL
d380 1
a380 1
.It ports = Va "list of ports"
d382 1
a382 1
.It addresses = Va "list of interfaces"
d384 1
a384 1
.It enable-kerberos4 = Va BOOL
d386 1
a386 1
.It v4-realm = Va REALM
d388 1
a388 1
.It enable-524 = Va BOOL
d392 1
a392 1
.It enable-http = Va BOOL
d394 1
a394 1
.It enable-kaserver = Va BOOL
d396 1
a396 1
.It check-ticket-addresses = Va BOOL
d399 1
a399 1
.It allow-null-ticket-addresses = Va BOOL
d401 2
a402 2
.\" XXX 
.It allow-anonymous = Va BOOL
d404 1
a404 1
.It encode_as_rep_as_tgs_rep = Va BOOL
d407 1
a407 1
.It kdc_warn_pwexpire = Va TIME
d410 1
a410 1
.It logging = Va Logging
d412 16
a427 2
.It use_2b = Va principal list
List of principals to use AFS 2b tokens for.
d431 1
a431 1
.It require-preauth = Va BOOL
d433 4
a436 1
.It default_keys = Va keytypes...
d451 1
a451 1
.It v5
d454 1
a454 1
.It v4
d458 1
a458 1
.It use_v4_salt = Va BOOL
@


1.9
log
@.Dd cleanup
@
text
@d431 2
a432 2
.Bl -tag -width "/etc/krb5.conf"
.It Pa /etc/krb5.conf
@


1.8
log
@Merge with heimdal-0.6.3 Tested by beck@@, msf@@, me and others. ok beck@@
@
text
@d34 1
a34 1
.Dd March  9, 2004
@


1.7
log
@make Nm match Dt;
passed back to kerberos people;
@
text
@d1 3
a3 3
.\" Copyright (c) 1999 - 2003 Kungliga Tekniska Högskolan
.\" (Royal Institute of Technology, Stockholm, Sweden). 
.\" All rights reserved. 
d5 3
a7 3
.\" Redistribution and use in source and binary forms, with or without 
.\" modification, are permitted provided that the following conditions 
.\" are met: 
d9 2
a10 2
.\" 1. Redistributions of source code must retain the above copyright 
.\"    notice, this list of conditions and the following disclaimer. 
d12 3
a14 3
.\" 2. Redistributions in binary form must reproduce the above copyright 
.\"    notice, this list of conditions and the following disclaimer in the 
.\"    documentation and/or other materials provided with the distribution. 
d16 3
a18 3
.\" 3. Neither the name of the Institute nor the names of its contributors 
.\"    may be used to endorse or promote products derived from this software 
.\"    without specific prior written permission. 
d20 11
a30 11
.\" THIS SOFTWARE IS PROVIDED BY THE INSTITUTE AND CONTRIBUTORS ``AS IS'' AND 
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE 
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE INSTITUTE OR CONTRIBUTORS BE LIABLE 
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL 
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS 
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) 
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT 
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY 
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF 
.\" SUCH DAMAGE. 
d32 1
a32 1
.\" $KTH: krb5.conf.5,v 1.35 2003/04/16 13:26:13 lha Exp $
d34 1
a34 1
.Dd April 11, 1999
d40 2
d93 2
a94 1
des3-cbc-sha1.
d130 7
d160 1
d162 4
a165 14
Normally, all requests to realms different from the one of the current
client are sent to this KDC to get cross-realm tickets.
If this KDC does not have a cross-realm key with the desired realm and
the hierarchical path to that realm does not work, a path can be
configured using this directive.
The text shown above instructs the KDC to try to obtain a cross-realm
ticket to
.Va next-hop-realm
when the desired realm is
.Va destination-realm .
This configuration should preferably be done on the KDC where it will
help all its clients but can also be done on the client itself.
.It Li }
.It Li default_etypes = Va etypes...
d167 1
a167 1
.It Li default_etypes_des = Va etypes...
d197 1
a197 1
.Xr su 8 ,
d227 7
d270 1
a270 1
.Dq tcp , 
d276 1
a276 1
.Dq udp 
d294 3
d300 19
d430 6
a435 1
.Sh EXAMPLE
@


1.6
log
@Merge 0.6rc1
@
text
@d38 1
a38 1
.Nm /etc/kerberosV/krb5.conf
@


1.5
log
@typos;
ok deraadt@@
@
text
@d1 32
a32 1
.\" $KTH: krb5.conf.5,v 1.22 2001/08/30 18:54:01 joda Exp $
d41 1
a41 1
The 
d47 4
a50 2
bindings. The value of each binding can be either a string or a list
of other bindings. The grammar looks like:
d80 16
d101 2
a102 1
these.  The preference order is:
d131 1
a131 1
Default realm to use, this is also known as your 
d137 2
a138 1
times. Default is 300 seconds (five minutes).
d143 1
a143 1
These are decribed in the 
d165 1
a165 1
A list of default etypes to use.
d167 1
a167 1
A list of default etypes to use when requesting a DES credential.
d171 4
d191 7
a197 2
Enable to make a failure to verify obtained credentials
non-fatal. This can be useful if there is no keytab on a host.
d199 2
a200 1
How soon to warn for expiring password. Default is seven days.
a214 2
.It Li srv_lookup = Va boolean
Use DNS SRV records to lookup realm configuration information.
d228 2
a229 2
This is a list of mappings from DNS domain to Kerberos realm. Each
binding in this section looks like:
d236 3
d243 5
a247 2
.It Li kdc = Va host[:port]
Specifies a list of kdcs for this realm. If the optional port is absent, the
d250 4
a253 1
service will be used.
d255 16
d278 3
a280 3
.It Li krb524_server = Va Host[:port]
Points to the server that does 524 conversions.  If it is not
mentioned, the krb524 port on the kdcs will be tried.
d296 2
a297 1
for logging. See the
d317 2
a318 2
Use this file as the log of changes performed to the database.  This
file is used by
d326 2
a327 2
If set pre-authentication is required. Since krb4 requests are not
pre-authenticated they will be rejected.
d333 1
a333 1
Turn on kerberos4 support.
d354 1
a354 1
.\" XXX 
d360 2
d378 3
a380 1
is omitted it means everything, and if string is omitted is means the default string (for that principal). Additional special values of keyttypes are:
d382 2
a383 2
.It v5 
The kerberos 5 salt
d386 1
a386 1
The kerberos 4 type
d394 1
a394 1
and is only left for backwards compatability.
d433 4
a436 3
and tries to emit useful diagnostics from parsing errors.  Note that
this program does not have any way of knowing what options are
actually used and thus cannot warn about unknown or misspelled ones.
@


1.4
log
@Merge heimdal-0.4e
@
text
@d46 1
a46 1
consists of one or more non-white space characters.
d118 1
a118 1
The keytab to use if none other is specified, default is
d145 1
a145 1
A list of addresses to get tickets for along with all local addresses.
d176 1
a176 1
perid.
d189 1
a189 1
to the database are perfomed.
d191 1
a191 1
Points to the server where all the password changes are perfomed.
d221 1
a221 1
use this database for this realm.
d223 1
a223 1
specifies the realm that will be stored in this database.
d225 1
a225 1
use this keytab file for the master key of this database.
d230 1
a230 1
use this file for the ACL list of this database.
d232 1
a232 1
use this file as the log of changes performed to the database.  This
d244 1
a244 1
list of ports the kdc should listen to.
d246 1
a246 1
list of addresses the kdc should bind to.
d248 1
a248 1
turn on kerberos4 support.
d250 1
a250 1
to what realm v4 requests should be mapped.
d252 2
a253 1
should the Kerberos 524 converting facility be turned on. Default is same as
d256 1
a256 1
should the kdc answer kdc-requests over http.
d258 1
a258 1
if this kdc should emulate the AFS kaserver.
d260 1
a260 1
verify the addresses in the tickets used in tgs requests.
d263 1
a263 1
allow addresses-less tickets.
d266 1
a266 1
if the kdc is allowed to hand out anonymous tickets.
d268 1
a268 1
encode as-rep as tgs-rep tobe compatible with mistakes older DCE secd did.
d271 1
a271 1
the time before expiration that the user should be warned that her
d281 1
a281 1
for each entry in
d289 1
a289 1
if
@


1.3
log
@remove stupid Xr to "Source(tm)"
@
text
@d1 1
a1 1
.\" $KTH: krb5.conf.5,v 1.17 2001/05/31 13:58:34 assar Exp $
d73 1
a73 1
.It Li ticket_life = Va time
a155 2
.It Li srv_try_txt = Va boolean
If a SRV lookup fails, try looking up the same info in a DNS TXT record.
d163 2
a164 1
.Nm kinit
d194 3
d345 1
a345 1
actually used and thus cannot warn about unknown or misspelt ones.
d347 2
a348 1
.Xr verify_krb5_conf 8 ,
a349 1
.Xr krb5_425_conv_principal 3 ,
d351 1
a351 1
.Xr kinit 1
@


1.2
log
@/etc/krb5.conf -> /etc/kerberosV/krb5.conf
/etc/krb5.keytab -> /etc/kerberosV/krb5.keytab
@
text
@d349 1
a349 2
.Xr kinit 1 ,
.Xr Source tm
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
.\" $KTH: krb5.conf.5,v 1.12 2001/01/19 04:53:24 assar Exp $
d7 2
a8 3
.Nm /etc/krb5.conf
.Nd
Configuration file for Kerberos 5
d49 29
d119 1
a119 1
.Dq FILE:/etc/krb5.keytab .
d129 6
d149 3
d154 14
d310 2
a311 2
[lib_defaults]
	default_domain = FOO.SE
d349 1
@


1.1.1.1
log
@Import of heimdal-0.3e
@
text
@@


1.1.1.2
log
@Import of heimdal-0.3f

Lots of changes, highlights include:

 * change default keytab to ANY:FILE:/etc/krb5.keytab,krb4:/etc/srvtab,
   the new keytab type that tries both of these in order (SRVTAB is
   also an alias for krb4:)

 * improve error reporting and error handling (error messages should
   be more detailed and more useful)

 * the API is closer to what MIT krb5 is using

 * more compatible with windows 2000

 * removed some memory leaks

 * bug fixes
@
text
@d1 1
a1 1
.\" $KTH: krb5.conf.5,v 1.17 2001/05/31 13:58:34 assar Exp $
d8 2
a9 1
.Nd configuration file for Kerberos 5
a49 29
.It Li [appdefaults]
Specifies the default values to be used for Kerberos applications.
You can specify defaults per application, realm, or a combination of
these.  The preference order is:
.Bl -enum -compact
.It
.Va application Va realm Va option
.It
.Va application Va option
.It
.Va realm Va option
.It
.Va option
.El
.Pp
The supported options are:
.Bl -tag -width "xxx" -offset indent
.It Li forwardable = Va boolean
When obtaining initial credentials, make the credentials forwardable.
.It Li proxiable = Va boolean
When obtaining initial credentials, make the credentials proxiable.
.It Li no-addresses = Va boolean
When obtaining initial credentials, request them for an empty set of
addresses, making the tickets valid from any address.
.It Li ticket_life = Va time
Default ticket lifetime.
.It Li renew_lifetime = Va time
Default renewable ticket lifetime.
.El
a100 6
.It Li forwardable = Va boolean
When obtaining initial credentials, make the credentials forwardable.
This option is also valid in the [realms] section.
.It Li proxiable = Va boolean
When obtaining initial credentials, make the credentials proxiable.
This option is also valid in the [realms] section.
a114 3
.It Li date_format = Va string
How to print date strings in logs, this string is passed to
.Xr strftime 3 .
a116 14
.It Li srv_lookup = Va boolean
Use DNS SRV records to lookup realm configuration information.
.It Li srv_try_txt = Va boolean
If a SRV lookup fails, try looking up the same info in a DNS TXT record.
.It Li scan_interfaces = Va boolean
Scan all network interfaces for addresses, as opposed to simply using
the address associated with the system's host name.
.It Li fcache_version = Va int
Use file credential cache format version specified.
.It Li krb4_get_tickets = Va boolean
Also get Kerberos 4 tickets in
.Nm kinit
and other programs.
This option is also valid in the [realms] section.
d259 2
a260 2
[libdefaults]
	default_realm = FOO.SE
a297 1
.Xr kinit 1 ,
@


1.1.1.3
log
@Import of heimdal-0.4e
@
text
@d1 1
a1 1
.\" $KTH: krb5.conf.5,v 1.22 2001/08/30 18:54:01 joda Exp $
d73 1
a73 1
.It Li ticket_lifetime = Va time
d156 2
d165 1
a165 2
.Nm kinit ,
.Nm login ,
a194 3
.It Li krb524_server = Va Host[:port]
Points to the server that does 524 conversions.  If it is not
mentioned, the krb524 port on the kdcs will be tried.
d343 1
a343 1
actually used and thus cannot warn about unknown or misspelled ones.
d345 2
a346 1
.Xr kinit 1 ,
a347 1
.Xr krb5_openlog 3 ,
d349 2
a350 1
.Xr verify_krb5_conf 8
@


1.1.1.4
log
@Import of heimdal-0.6rc1
@
text
@d1 1
a1 32
.\" Copyright (c) 1999 - 2003 Kungliga Tekniska Högskolan
.\" (Royal Institute of Technology, Stockholm, Sweden). 
.\" All rights reserved. 
.\"
.\" Redistribution and use in source and binary forms, with or without 
.\" modification, are permitted provided that the following conditions 
.\" are met: 
.\"
.\" 1. Redistributions of source code must retain the above copyright 
.\"    notice, this list of conditions and the following disclaimer. 
.\"
.\" 2. Redistributions in binary form must reproduce the above copyright 
.\"    notice, this list of conditions and the following disclaimer in the 
.\"    documentation and/or other materials provided with the distribution. 
.\"
.\" 3. Neither the name of the Institute nor the names of its contributors 
.\"    may be used to endorse or promote products derived from this software 
.\"    without specific prior written permission. 
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE INSTITUTE AND CONTRIBUTORS ``AS IS'' AND 
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE 
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE INSTITUTE OR CONTRIBUTORS BE LIABLE 
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL 
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS 
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) 
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT 
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY 
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF 
.\" SUCH DAMAGE. 
.\"
.\" $KTH: krb5.conf.5,v 1.35 2003/04/16 13:26:13 lha Exp $
d10 1
a10 1
The
d16 2
a17 4
bindings.
The value of each binding can be either a string or a list of other
bindings.
The grammar looks like:
d46 1
a46 17
consists of one or more non-whitespace characters.
.Pp
STRINGs that are specified later in this man-page uses the following
notation.
.Bl -tag -width "xxx" -offset indent
.It boolean
values can be either yes/true or no/false.
.It time
values can be a list of year, month, day, hour, min, second.
Example: 1 month 2 days 30 min.
.It etypes
valid encryption types are: des-cbc-crc, des-cbc-md4, des-cbc-md5,
des3-cbc-sha1.
.It address
an address can be either a IPv4 or a IPv6 address.
.El
.Pp
d52 1
a52 2
these.
The preference order is:
d81 1
a81 1
Default realm to use, this is also known as your
d87 1
a87 2
times.
Default is 300 seconds (five minutes).
d92 1
a92 1
These are described in the
d114 1
a114 1
A list of default encryption types to use.
d116 1
a116 1
A list of default encryption types to use when requesting a DES credential.
d118 1
a118 1
The keytab to use if no other is specified, default is
a119 4
.It Li dns_lookup_kdc = Va boolean
Use DNS SRV records to lookup KDC services location.
.It Li dns_lookup_realm = Va boolean
Use DNS TXT records to lookup domain to realm mappings.
d136 2
a137 7
If enabled, failure to verify credentials against a local key is a
fatal error.
The application has to be able to read the corresponding service key
for this to work.
Some applications, like
.Xr su 8 ,
enable this option unconditionally.
d139 1
a139 2
How soon to warn for expiring password.
Default is seven days.
d154 2
d169 2
a170 2
This is a list of mappings from DNS domain to Kerberos realm.
Each binding in this section looks like:
d176 1
a176 4
period.
The realm may be the token `dns_locate', in which case the actual
realm will be determined using DNS (independently of the setting
of the `dns_lookup_realm' option).
d181 2
a182 5
.It Li kdc = Va [service/]host[:port]
Specifies a list of kdcs for this realm.
If the optional
.Va port
is absent, the
d185 1
a185 4
.Dq kerberos/tcp ,
and
.Dq http/tcp
port (depending on service) will be used.
a186 16
.Pp
The optional
.Va service
specifies over what medium the kdc should be
contacted.
Possible services are
.Dq udp ,
.Dq tcp , 
and
.Dq http .
Http can also be written as
.Dq http:// .
Default service is
.Dq udp 
and
.Dq tcp .
d189 1
a189 1
to the database are performed.
d191 1
a191 1
Points to the server where all the password changes are performed.
d194 3
a196 3
.It Li krb524_server = Va host[:port]
Points to the server that does 524 conversions.
If it is not mentioned, the krb524 port on the kdcs will be tried.
d212 1
a212 2
for logging.
See the
d221 1
a221 1
Use this database for this realm.
d223 1
a223 1
Specifies the realm that will be stored in this database.
d225 1
a225 1
Use this keytab file for the master key of this database.
d230 1
a230 1
Use this file for the ACL list of this database.
d232 2
a233 2
Use this file as the log of changes performed to the database.
This file is used by
d241 2
a242 2
If set pre-authentication is required.
Since krb4 requests are not pre-authenticated they will be rejected.
d244 1
a244 1
List of ports the kdc should listen to.
d246 1
a246 1
List of addresses the kdc should bind to.
d248 1
a248 1
Turn on Kerberos 4 support.
d250 1
a250 1
To what realm v4 requests should be mapped.
d252 1
a252 2
Should the Kerberos 524 converting facility be turned on.
Default is same as
d255 1
a255 1
Should the kdc answer kdc-requests over http.
d257 1
a257 1
If this kdc should emulate the AFS kaserver.
d262 2
a263 2
Allow addresses-less tickets.
.\" XXX
d265 1
a265 1
If the kdc is allowed to hand out anonymous tickets.
d267 2
a268 2
Encode as-rep as tgs-rep tobe compatible with mistakes older DCE secd did.
.\" XXX
d270 1
a270 1
The time before expiration that the user should be warned that her
a273 2
.It use_2b = Va principal list
List of principals to use AFS 2b tokens for.
d288 1
a288 1
If
d290 1
a290 3
is omitted it means everything, and if string is omitted it means the
default salt string (for that principal and encryption type).
Additional special values of keytypes are:
d292 2
a293 2
.It v5
The Kerberos 5 salt
d296 1
a296 1
The Kerberos 4 salt
d304 1
a304 1
and is only left for backwards compatibility.
d343 3
a345 4
and tries to emit useful diagnostics from parsing errors.
Note that this program does not have any way of knowing what options
are actually used and thus cannot warn about unknown or misspelled
ones.
@


1.1.1.5
log
@Import of heimdal-0.6.3
@
text
@d1 3
a3 3
.\" Copyright (c) 1999 - 2004 Kungliga Tekniska Högskolan
.\" (Royal Institute of Technology, Stockholm, Sweden).
.\" All rights reserved.
d5 3
a7 3
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
d9 2
a10 2
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
d12 3
a14 3
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
d16 3
a18 3
.\" 3. Neither the name of the Institute nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
d20 11
a30 11
.\" THIS SOFTWARE IS PROVIDED BY THE INSTITUTE AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE INSTITUTE OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
d32 1
a32 1
.\" $KTH: krb5.conf.5,v 1.35.2.2 2004/03/09 19:52:07 lha Exp $
d34 1
a34 1
.Dd March  9, 2004
d38 1
a38 1
.Nm krb5.conf
a39 2
.Sh SYNOPSIS
.In krb5.h
d91 1
a91 2
des3-cbc-sha1, arcfour-hmac-md5, aes128-cts-hmac-sha1-96, and
aes256-cts-hmac-sha1-96 .
a126 7
.It Li encrypt = Va boolean
Use encryption, when available.
.It Li forward = Va boolean
Forward credentials to remote host (for
.Xr rsh 1 ,
.Xr telnet 1 ,
etc).
d150 13
d164 1
a164 5
.El
This is deprecated, see the 
.Li capaths
section below.
.It Li default_etypes = Va etypes ...
d166 1
a166 1
.It Li default_etypes_des = Va etypes ...
d196 1
a196 1
.Xr su 1 ,
d205 1
a205 1
.It Li extra_addresses = Va address ...
a225 7
.It Li fcc-mit-ticketflags = Va boolean
Use MIT compatible format for file credential cache.
It's the field ticketflags that is stored in reverse bit order for
older than Heimdal 0.7.
Setting this flag to
.Dv TRUE
make it store the MIT way, this is default for Heimdal 0.7.
d262 1
a262 1
.Dq tcp ,
d268 1
a268 1
.Dq udp
a285 3
.It Li tgs_require_subkey
a boolan variable that defaults to false.
Old DCE secd (pre 1.1) might need this to be true.
a288 19
.It Li [capaths]
.Bl -tag -width "xxx" -offset indent
.It Va client-realm Li = {
.Bl -tag -width "xxx" -offset indent
.It Va server-realm Li = Va hop-realm ...
This serves two purposes. First the first listed
.Va hop-realm
tells a client which realm it should contact in order to ultimately
obtain credentials for a service in the
.Va server-realm .
Secondly, it tells the KDC (and other servers) which realms are
allowed in a multi-hop traversal from
.Va client-realm 
to
.Va server-realm .
Except for the client case, the order of the realms are not important.
.El
.It Va }
.El
d400 1
a400 6
.Sh FILES
.Bl -tag -width "/etc/krb5.conf"
.It Pa /etc/krb5.conf
configuration file for Kerberos 5.
.El
.Sh EXAMPLES
@


1.1.1.6
log
@Import of heimdal-0.7.2
@
text
@d1 1
a1 1
.\" Copyright (c) 1999 - 2005 Kungliga Tekniska Högskolan
d32 1
a32 1
.\" $KTH: krb5.conf.5,v 1.60 2005/05/29 13:14:50 lha Exp $
d34 1
a34 1
.Dd May  4, 2005
a90 1
If no unit is given, seconds is assumed.
d151 2
a152 2
.It Li v4_name_convert
.It Li v4_instance_resolve
a164 6
.It Li default_cc_name = Va ccname
the default credentials cache name.
The string can contain variables that are expanded on runtime.
Only support variable now is
.Li %{uid}
that expands to the current user id.
a180 3
.It Li large_msg_size = Va number
The threshold where protocols with tiny maximum message sizes are not
considered usable to send messages to the KDC.
a243 7
The trailing component only matches hosts that are in the same domain, ie
.Dq .example.com
matches
.Dq foo.example.com ,
but not
.Dq foo.test.example.com .
.Pp
d333 1
a333 1
.It Li database Li = {
d335 1
a335 1
.It Li dbname Li = Va DATABASENAME
d337 1
a337 2
See the info documetation how to configure diffrent database backends.
.It Li realm Li = Va REALM
d339 1
a339 5
It realm isn't set, it will used as the default database, there can
only be one entry that doesn't have a
.Li realm
stanza.
.It Li mkey_file Li = Pa FILENAME
d344 1
a344 1
.It Li acl_file Li = PA FILENAME
d346 1
a346 1
.It Li log_file Li = Pa FILENAME
d353 1
a353 1
.It Li max-request = Va SIZE
d355 1
a355 1
.It Li require-preauth = Va BOOL
d358 1
a358 1
.It Li ports = Va "list of ports"
d360 1
a360 1
.It Li addresses = Va "list of interfaces"
d362 1
a362 1
.It Li enable-kerberos4 = Va BOOL
d364 1
a364 1
.It Li v4-realm = Va REALM
d366 1
a366 1
.It Li enable-524 = Va BOOL
d368 1
a368 1
Default is the same as
d370 1
a370 1
.It Li enable-http = Va BOOL
d372 1
a372 1
.It Li enable-kaserver = Va BOOL
d374 2
a375 2
.It Li check-ticket-addresses = Va BOOL
Verify the addresses in the tickets used in tgs requests.
d377 2
a378 2
.It Li allow-null-ticket-addresses = Va BOOL
Allow address-less tickets.
d380 1
a380 1
.It Li allow-anonymous = Va BOOL
d382 1
a382 1
.It Li encode_as_rep_as_tgs_rep = Va BOOL
d385 1
a385 1
.It Li kdc_warn_pwexpire = Va TIME
d388 1
a388 1
.It Li logging = Va Logging
d390 2
a391 16
.It Li use_2b = {
.Bl -tag -width "xxx" -offset indent
.It Va principal Li = Va BOOL
boolean value if the 524 daemon should return AFS 2b tokens for
.Fa principal .
.It ...
.El
.It Li }
.It Li hdb-ldap-structural-object Va structural object
If the LDAP backend is used for storing principals, this is the
structural object that will be used when creating and when reading
objects.
The default value is account .
.It Li hdb-ldap-create-base Va creation dn
is the dn that will be appended to the principal when creating entries.
Default value is the search dn.
d395 1
a395 1
.It Li require-preauth = Va BOOL
d397 2
a398 5
.It Li password_lifetime = Va time
If a principal already have its password set for expiration, this is
the time it will be valid for after a change.
.It Li default_keys = Va keytypes...
For each entry in
d412 1
a412 1
.It Li v5
d415 1
a415 1
.It Li v4
d419 1
a419 1
.It Li use_v4_salt = Va BOOL
@


