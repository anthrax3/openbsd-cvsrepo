head	1.2;
access;
symbols
	HEIMDAL_0_7_2:1.1.1.4
	HEIMDAL_0_6_3:1.1.1.3
	OPENBSD_3_3:1.1.1.2.0.8
	OPENBSD_3_3_BASE:1.1.1.2
	OPENBSD_3_2:1.1.1.2.0.6
	OPENBSD_3_2_BASE:1.1.1.2
	OPENBSD_3_1:1.1.1.2.0.4
	OPENBSD_3_1_BASE:1.1.1.2
	HEIMDAL_0_4e:1.1.1.2
	OPENBSD_3_0:1.1.1.2.0.2
	OPENBSD_3_0_BASE:1.1.1.2
	HEIMDAL_0_3f:1.1.1.2
	HEIMDAL_0_3e:1.1.1.1
	KTH:1.1.1;
locks; strict;
comment	@ * @;


1.2
date	2003.05.12.17.18.43;	author hin;	state dead;
branches;
next	1.1;

1.1
date	2001.05.25.07.45.22;	author hin;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.05.25.07.45.22;	author hin;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2001.06.22.21.14.36;	author hin;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2004.10.29.15.55.23;	author biorn;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2006.04.14.07.31.56;	author biorn;	state Exp;
branches;
next	;


desc
@@


1.2
log
@These files are not use by us, so they're removed to make the tree
a little bit leaner, and to get rid of some bad string functions.
@
text
@/* This is a generated file */
#ifndef __login_protos_h__
#define __login_protos_h__

#ifdef __STDC__
#include <stdarg.h>
#ifndef __P
#define __P(x) x
#endif
#else
#ifndef __P
#define __P(x) ()
#endif
#endif

void
add_env __P((
	const char *var,
	const char *value));

void
check_shadow __P((
	const struct passwd *pw,
	const struct spwd *sp));

char *
clean_ttyname __P((char *tty));

void
copy_env __P((void));

int
do_osfc2_magic __P((uid_t uid));

void
extend_env __P((char *str));

int
login_access __P((
	struct passwd *user,
	char *from));

char *
login_conf_get_string __P((const char *str));

int
login_read_env __P((const char *file));

char *
make_id __P((char *tty));

void
prepare_utmp __P((
	struct utmp *utmp,
	char *tty,
	const char *username,
	const char *hostname));

int
read_string __P((
	const char *prompt,
	char *buf,
	size_t len,
	int echo));

void
stty_default __P((void));

void
utmp_login __P((
	char *tty,
	const char *username,
	const char *hostname));

int
utmpx_login __P((
	char *line,
	const char *user,
	const char *host));

#endif /* __login_protos_h__ */
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Import of heimdal-0.3e
@
text
@@


1.1.1.2
log
@Import of heimdal-0.3f

Lots of changes, highlights include:

 * change default keytab to ANY:FILE:/etc/krb5.keytab,krb4:/etc/srvtab,
   the new keytab type that tries both of these in order (SRVTAB is
   also an alias for krb4:)

 * improve error reporting and error handling (error messages should
   be more detailed and more useful)

 * the API is closer to what MIT krb5 is using

 * more compatible with windows 2000

 * removed some memory leaks

 * bug fixes
@
text
@a66 6
shrink_hostname __P((
	const char *hostname,
	char *dst,
	size_t dst_sz));

void
@


1.1.1.3
log
@Import of heimdal-0.6.3
@
text
@d5 1
d7 18
a24 10

void
add_env (
	const char */*var*/,
	const char */*value*/);

void
check_shadow (
	const struct passwd */*pw*/,
	const struct spwd */*sp*/);
d27 1
a27 1
clean_ttyname (char */*tty*/);
d30 1
a30 1
copy_env (void);
d33 1
a33 1
do_osfc2_magic (uid_t /*uid*/);
d36 1
a36 1
extend_env (char */*str*/);
d39 3
a41 3
login_access (
	struct passwd */*user*/,
	char */*from*/);
d44 1
a44 1
login_conf_get_string (const char */*str*/);
d47 1
a47 1
login_read_env (const char */*file*/);
d50 1
a50 1
make_id (char */*tty*/);
d53 5
a57 5
prepare_utmp (
	struct utmp */*utmp*/,
	char */*tty*/,
	const char */*username*/,
	const char */*hostname*/);
d60 5
a64 5
read_string (
	const char */*prompt*/,
	char */*buf*/,
	size_t /*len*/,
	int /*echo*/);
d67 4
a70 4
shrink_hostname (
	const char */*hostname*/,
	char */*dst*/,
	size_t /*dst_sz*/);
d73 1
a73 1
stty_default (void);
d76 4
a79 4
utmp_login (
	char */*tty*/,
	const char */*username*/,
	const char */*hostname*/);
d82 4
a85 4
utmpx_login (
	char */*line*/,
	const char */*user*/,
	const char */*host*/);
@


1.1.1.4
log
@Import of heimdal-0.7.2
@
text
@a6 4
#ifdef __cplusplus
extern "C" {
#endif

a50 5
read_limits_conf (
	const char */*file*/,
	const struct passwd */*pwd*/);

int
a76 4

#ifdef __cplusplus
}
#endif
@


