head	1.16;
access;
symbols
	OPENBSD_5_5:1.15.0.46
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.42
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.40
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.38
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.36
	OPENBSD_5_0:1.15.0.34
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.32
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.15.0.30
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.26
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.15.0.28
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.24
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.22
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.20
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.15.0.18
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.15.0.16
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.15.0.14
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.12
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.10
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.15.0.8
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.15.0.6
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.15.0.4
	OPENBSD_3_5_BASE:1.15
	OPENBSD_3_4:1.15.0.2
	OPENBSD_3_4_BASE:1.15
	OPENBSD_3_3:1.14.0.6
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.14.0.4
	OPENBSD_3_2_BASE:1.14
	OPENBSD_3_1:1.14.0.2
	OPENBSD_3_1_BASE:1.14
	OPENBSD_3_0:1.13.0.2
	OPENBSD_3_0_BASE:1.13;
locks; strict;
comment	@# @;


1.16
date	2014.04.22.10.01.15;	author reyk;	state dead;
branches;
next	1.15;

1.15
date	2003.05.11.21.58.24;	author hin;	state Exp;
branches;
next	1.14;

1.14
date	2002.02.21.12.56.39;	author hin;	state Exp;
branches;
next	1.13;

1.13
date	2001.07.11.09.14.36;	author hin;	state Exp;
branches;
next	1.12;

1.12
date	2001.06.27.03.52.13;	author hin;	state Exp;
branches;
next	1.11;

1.11
date	2001.06.26.19.09.31;	author hin;	state Exp;
branches;
next	1.10;

1.10
date	2001.06.26.05.59.39;	author hin;	state Exp;
branches;
next	1.9;

1.9
date	2001.06.25.04.32.41;	author hin;	state Exp;
branches;
next	1.8;

1.8
date	2001.06.25.00.29.41;	author hin;	state Exp;
branches;
next	1.7;

1.7
date	2001.06.23.21.59.15;	author hin;	state Exp;
branches;
next	1.6;

1.6
date	2001.06.23.00.16.45;	author hin;	state Exp;
branches;
next	1.5;

1.5
date	2001.06.22.16.21.09;	author hin;	state Exp;
branches;
next	1.4;

1.4
date	2001.06.22.16.20.30;	author hin;	state Exp;
branches;
next	1.3;

1.3
date	2001.06.07.08.21.23;	author hin;	state Exp;
branches;
next	1.2;

1.2
date	2001.05.25.10.21.22;	author hin;	state Exp;
branches;
next	1.1;

1.1
date	2001.05.25.08.24.49;	author hin;	state Exp;
branches;
next	;


desc
@@


1.16
log
@The complexity and quality of kerberosV and the fact that almost
nobody is using it doesn't justify to have it in base - disable and
remove it.  If the 2 two people who use it still want it, they can
make a port or recompile OpenBSD on their own.

There is a quote in theo.c from August 2010: "basically, dung beetles
fucking.  that's what kerberosV + openssl is like".

Discussed with many.  Tests by henning@@ reyk@@ and others.
ok deraadt@@ henning@@
@
text
@Documentation
=============

The 'heimdal' infopage has information about how to set up a Kerberos
realm etc. There are also a number of manpages with reference information.


BSD Auth
========

There's also a BSD Authentication login script in src/libexec/login_krb5,
that is used to enable Kerberos authentication in login, sshd, xdm etc.

Refer to login.conf(5), login(1), login_krb5(8) and login_krb5-or-pwd(8)
for more information on how to enable them.
@


1.15
log
@Reflect reality
@
text
@@


1.14
log
@a little closer to reality.

new section about testing added (mainly as a reminder to myself)
@
text
@a0 13
Maintainer
==========

Please contact <hin@@openbsd.org> if you have questions or problems.


Status of the code
==================

This code is currently beta quality code, but seems to work quite well.
Heimdal is used by several large University and Commercial sites.


d4 2
a5 3
Some documentation is available in the `heimdal' info-page, but it is currently
quite incomplete. A number of manpages for library functions are also
available.
d11 2
a12 1
There's also a BSD Authentication login script in src/libexec/login_krb5.
a15 35


Testing
=======

(This is mainly a note to my self...)

- Do a full build on at least one elf and one a.out arch.
- Do a static build of at least the kerberosV directory on elf and a.out.
- Test basic stuff like kauth, klist, telnet and such.


TODO
====

Things todo, in no particular order:

 - Make sure to not try krb5 auth when no ticket exists. (same goes for krb4)
   (i think this is actually ok, but it needs to be verified.)
 - Password quality checks in kpasswdd
 - krb5-config script
 - kx, kxd
 - pop-server and push
 - rsh, rshd
 - Test what happens for a user not using kerberos
 - Test all combinations of compat stuff between client, kdc and server
 - Slave propagation k5->k5 and k4->k5
 - Test and document how to upgrade a realm from k4 to k5
 - Test compatibility with other k5 implementations, for example MIT and
   Windows 2000, and document any caveats or tricks
 - Logging
 - Manpages are missing for many library functions, as well as a few
   programs. So we should document them and give back to the Heimdal project.
 - GSS-API support in our ftp client and server
 - Figure out how to deal with kstash
@


1.13
log
@Added todo about kstash and library cleanup
@
text
@a13 11
Building
========

The kerberosV directory is now fully a part of the buildsystem, and a
regular "make build" process is the correct way to compile it.

The krb5.conf and krb5.keytab files have recently been moved to
/etc/kerberosV directory. If you've previously used this code you should
move those files.


d25 14
a38 4
There's also a BSD Authentication login script in src/libexec/login_krb5,
but they are not enabled by default. Refer to login.conf(5), login(1),
login_krb5(8) and login_krb5-or-pwd(8) for more information on how to
enable them.
a50 1
 - rxtelnet, rxterm
a52 1
 - ssh and sshd
a61 2
 - Fix /etc/rc and companions
 - Example configuration installed when system is installed
a63 6
 - Reduce the number of libraries in kerberosV as well as kerberosIV,
   kerberosV:
	libasn1, libkadm5clnt, libkadm5srv, libhdb -> libkrb5
   kerberosIV:
	libacl, libkadm, libkdb -> libkrb
- Unify libroken, and put libsl and libcom_err in libroken
@


1.12
log
@Password changing works, BSD auth works with login, su, lock, xdm and xlock.
@
text
@d68 7
@


1.11
log
@Update to reflect the fact that kerberosV is now default.
@
text
@a48 2
 - hack krb5 support in our passwd - we should probably change to using
   BSD authentication for password changing aswell.
a51 1
 - BSD Auth support in xdm, xlock, sudo
@


1.10
log
@Updates about BSD Auth section.
@
text
@d1 2
a2 2
Warning
=======
d4 1
a4 3
This is experimental stuff, don't expect things to work correctly at this
point. Please contact <hin@@openbsd.org> if you have questions about the
kerberosV stuff.
d10 2
a11 2
The current status is that the libraries, KDC, kadmind, some basic
administrators and users utilities, and the telnet client and server works.
d17 2
a18 14
To build this stuff, do the following:

# echo "KERBEROS5=Yes" >> /etc/mk.conf
# cd /usr/src/kerberosV
# make build

To get a telnet client and server with kerberos5 support, do the following:

# cd /usr/src/lib/libtelnet
# make ; make install
# cd /usr/src/usr.bin/telnet
# make ; make install
# cd /usr/src/libexec/telnetd
# make ; make install 
d37 3
a39 11
which you can build by typing 

# cd /usr/src/libexec/login_krb5
# make ; make install
# cd /usr/src/libexec/login_krb5-or-pwd
# make ; make install

Make sure to also rebuild su and login, or things will _seriously_ break.

Refer to login.conf(5), login(1), login_krb5(8) and login_krb5-or-pwd(8)
for more information.
@


1.9
log
@Asorted changes
@
text
@d51 1
a51 1
which you can enable by typing 
d55 2
d58 1
a58 8
Then change the line with "auth-defaults" in /etc/login.conf to include the
string "krb5" at the end of the authentication methods. You should now be
able to login with Kerberos 5 passwords by typing your login name followed
by ":krb5" on the login prompt.

If you put krb5 first in the list of configuration styles, you will be
able to login without type ":krb5" at the end, but we do not recommend it
at this time.
d60 2
a61 1
Su does not work at this time, but we expect it to do so in the near future.
d76 1
a76 1
 - krb5 support in login, xdm, xlock, su and sudo
@


1.8
log
@Mention BSD Authentication.

Remove some things from the TODO list.
@
text
@d34 4
d61 4
d75 3
a77 1
 - kpasswdd and hack krb5 support in our passwd
d96 1
@


1.7
log
@Updates to the todo list, and some random updates and fixes.
@
text
@d43 17
a66 2
 - hprop, iprop
 - kf, kfd
a71 1
 - string2key
@


1.6
log
@heimdal.info installed; remove from todo list
@
text
@d1 2
a2 1
Warning!
d8 11
d21 1
a26 1
# echo "KERBEROS5=Yes" >> /etc/mk.conf
d35 10
d49 1
a57 1
 - verify_krb5_conf
@


1.5
log
@kadmind is done.
@
text
@a47 1
 - Build and install heimdal.info
@


1.4
log
@Let the build target in kerberosV/Makefile build the stuff needed in the
kerberosIV tree (libsl and libkafs), so I don't have to remember that.
@
text
@a26 1
 - kadmind
@


1.3
log
@Add instructions how to build libsl.
@
text
@a8 2
# cd /usr/src/kerberosIV/lib/sl
# make
@


1.2
log
@Simple build instructions.
@
text
@d9 2
d30 11
a40 1
 - Other servers
d45 1
a45 1
 - Test how to upgrade a realm from k4 to k5
d47 1
a47 1
   Windows 2000
d49 5
@


1.1
log
@Some information about this stuff.
@
text
@d7 15
@

