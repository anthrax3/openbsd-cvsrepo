head	1.10;
access;
symbols
	OPENBSD_6_0:1.10.0.18
	OPENBSD_6_0_BASE:1.10
	OPENBSD_5_9:1.10.0.14
	OPENBSD_5_9_BASE:1.10
	OPENBSD_5_8:1.10.0.16
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.10.0.8
	OPENBSD_5_7_BASE:1.10
	OPENBSD_5_6:1.10.0.12
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.10.0.10
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.10.0.6
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.10.0.4
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.2
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.24
	OPENBSD_5_0:1.9.0.22
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.20
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.18
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.14
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.9.0.16
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.12
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.10
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.8
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.9.0.6
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.9.0.4
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.2
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.8.0.24
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.8.0.22
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.20
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.8.0.18
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.16
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.14
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.8.0.12
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.10
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.8.0.8
	OPENBSD_3_1_BASE:1.8
	OPENBSD_3_0:1.8.0.6
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9:1.8.0.4
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.8.0.2
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.7.0.16
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.7.0.14
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.7.0.12
	OPENBSD_2_5_BASE:1.7
	OPENBSD_2_4:1.7.0.10
	OPENBSD_2_4_BASE:1.7
	OPENBSD_2_3:1.7.0.8
	OPENBSD_2_3_BASE:1.7
	OPENBSD_2_2:1.7.0.6
	OPENBSD_2_2_BASE:1.7
	OPENBSD_2_1:1.7.0.4
	OPENBSD_2_1_BASE:1.7
	OPENBSD_2_0:1.7.0.2
	OPENBSD_2_0_BASE:1.7;
locks; strict;
comment	@# @;


1.10
date	2012.04.08.15.56.28;	author jsg;	state Exp;
branches;
next	1.9;

1.9
date	2006.05.27.23.01.21;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2000.07.06.23.12.41;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	96.05.22.12.20.05;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	96.05.13.12.44.44;	author niklas;	state Exp;
branches;
next	1.5;

1.5
date	96.03.05.11.13.04;	author mickey;	state Exp;
branches;
next	1.4;

1.4
date	96.02.25.19.02.36;	author mickey;	state Exp;
branches;
next	1.3;

1.3
date	95.12.18.18.07.08;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.12.15.01.48.08;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.12.14.03.47.23;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.10
log
@unhook lint from the tree.  The parser is incomplete and difficult
to fix and there are several alternatives that don't tell quite so many
dangerous lies.

enthusiastic agreement from a bunch of people
@
text
@#	$OpenBSD: bsd.sys.mk,v 1.9 2006/05/27 23:01:21 deraadt Exp $
#	$NetBSD: bsd.sys.mk,v 1.2 1995/12/13 01:25:07 cgd Exp $
#
# Overrides used for OpenBSD source tree builds.

#CFLAGS+= -Werror

.if defined(DESTDIR)
CPPFLAGS+= -nostdinc -idirafter ${DESTDIR}/usr/include
CXXFLAGS+= -idirafter ${DESTDIR}/usr/include/g++
.endif

.if defined(PARALLEL)
# Lex
.l:
	${LEX.l} -o${.TARGET:R}.yy.c ${.IMPSRC}
	${LINK.c} -o ${.TARGET} ${.TARGET:R}.yy.c ${LDLIBS} -ll
	rm -f ${.TARGET:R}.yy.c
.l.c:
	${LEX.l} -o${.TARGET} ${.IMPSRC}
.l.o:
	${LEX.l} -o${.TARGET:R}.yy.c ${.IMPSRC}
	${COMPILE.c} -o ${.TARGET} ${.TARGET:R}.yy.c 
	rm -f ${.TARGET:R}.yy.c

# Yacc
.y:
	${YACC.y} -b ${.TARGET:R} ${.IMPSRC}
	${LINK.c} -o ${.TARGET} ${.TARGET:R}.tab.c ${LDLIBS}
	rm -f ${.TARGET:R}.tab.c
.y.c:
	${YACC.y} -b ${.TARGET:R} ${.IMPSRC}
	mv ${.TARGET:R}.tab.c ${.TARGET}
.y.o:
	${YACC.y} -b ${.TARGET:R} ${.IMPSRC}
	${COMPILE.c} -o ${.TARGET} ${.TARGET:R}.tab.c
	rm -f ${.TARGET:R}.tab.c
.endif
@


1.9
log
@support 'make lint' in dirs which contain .y and .l files, help from naddy
@
text
@d1 1
a1 1
#	$OpenBSD: bsd.sys.mk,v 1.8 2000/07/06 23:12:41 millert Exp $
a24 5
.l.ln:
	${LEX.l} ${.IMPSRC}
	mv lex.yy.c ${.TARGET:R}.c
	${LINT} ${LINTFLAGS} ${LDFLAGS:M-L*} -i ${.TARGET:R}.c
	rm -f ${.TARGET:R}.c
a37 5
.y.ln:
	${YACC.y} ${.IMPSRC}
	mv y.tab.c ${.TARGET:R}.c
	${LINT} ${LINTFLAGS} ${LDFLAGS:M-L*} ${.TARGET:R}.c
	rm -f ${.TARGET:R}.c
@


1.8
log
@Add "-idirafter ${DESTDIR}/usr/include/g++" to CXXFLAGS if DESTDIR is set.
Fixes "make build" problems w/ libcurses++ since -nostdinc is in effect.
@
text
@d1 1
a1 1
#	$OpenBSD: bsd.sys.mk,v 1.7 1996/05/22 12:20:05 deraadt Exp $
d25 5
d43 5
@


1.7
log
@sync
@
text
@d1 1
a1 1
#	$OpenBSD: bsd.sys.mk,v 1.6 1996/05/13 12:44:44 niklas Exp $
d10 1
@


1.6
log
@Fix CCPFLAGS when DESTDIR set, formerly in sys.mk, been away for a
while, but need to be in here somewhere.
@
text
@d1 1
a1 1
#	$OpenBSD: bsd.sys.mk,v 1.5 1996/03/05 11:13:04 mickey Exp $
d7 1
d9 1
a9 1
CPPFLAGS+=	-nostdinc -idirafter ${DESTDIR}/usr/include
@


1.5
log
@Labeling style changed ($OpenBSD$).
POSTINSTALL added to the <bsd.lkm.mk> (see bsd.README for details).
@
text
@d1 1
a1 1
#	$OpenBSD$
d3 2
a4 1
# Overrides used for NetBSD source tree builds.
d7 3
@


1.4
log
@Added <bsd.lkm.mk> file. Correspondent changes made to the bsd.README.
All the rest changed to be $OpenBSD$.
Dedicated to Suzi Quatro (she must be alive still, so best wishes to here).
@
text
@d1 2
a2 2
#	$OpenBSD: bsd.sys.mk,v 1.2 1995/12/13 01:25:07 cgd Exp $
#
@


1.3
log
@-Werror is too strong, and causes too many headaches in a source tree
that is being modified all the time.
@
text
@d1 1
a1 1
#	$NetBSD: bsd.sys.mk,v 1.2 1995/12/13 01:25:07 cgd Exp $
@


1.2
log
@from netbsd; assert -Werror
@
text
@d5 1
a5 1
CFLAGS+= -Werror
@


1.1
log
@update from netbsd
@
text
@d1 1
a1 1
# $NetBSD: bsd.sys.mk,v 1.1 1995/10/22 00:45:59 christos Exp $
d3 3
a5 1
# Parallel make rule overrides
@
