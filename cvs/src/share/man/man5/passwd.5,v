head	1.41;
access;
symbols
	OPENBSD_6_2_BASE:1.41
	OPENBSD_6_1:1.41.0.12
	OPENBSD_6_1_BASE:1.41
	OPENBSD_6_0:1.41.0.8
	OPENBSD_6_0_BASE:1.41
	OPENBSD_5_9:1.41.0.4
	OPENBSD_5_9_BASE:1.41
	OPENBSD_5_8:1.41.0.6
	OPENBSD_5_8_BASE:1.41
	OPENBSD_5_7:1.41.0.2
	OPENBSD_5_7_BASE:1.41
	OPENBSD_5_6:1.39.0.12
	OPENBSD_5_6_BASE:1.39
	OPENBSD_5_5:1.39.0.10
	OPENBSD_5_5_BASE:1.39
	OPENBSD_5_4:1.39.0.6
	OPENBSD_5_4_BASE:1.39
	OPENBSD_5_3:1.39.0.4
	OPENBSD_5_3_BASE:1.39
	OPENBSD_5_2:1.39.0.2
	OPENBSD_5_2_BASE:1.39
	OPENBSD_5_1_BASE:1.35
	OPENBSD_5_1:1.35.0.12
	OPENBSD_5_0:1.35.0.10
	OPENBSD_5_0_BASE:1.35
	OPENBSD_4_9:1.35.0.8
	OPENBSD_4_9_BASE:1.35
	OPENBSD_4_8:1.35.0.6
	OPENBSD_4_8_BASE:1.35
	OPENBSD_4_7:1.35.0.2
	OPENBSD_4_7_BASE:1.35
	OPENBSD_4_6:1.35.0.4
	OPENBSD_4_6_BASE:1.35
	OPENBSD_4_5:1.34.0.2
	OPENBSD_4_5_BASE:1.34
	OPENBSD_4_4:1.33.0.6
	OPENBSD_4_4_BASE:1.33
	OPENBSD_4_3:1.33.0.4
	OPENBSD_4_3_BASE:1.33
	OPENBSD_4_2:1.33.0.2
	OPENBSD_4_2_BASE:1.33
	OPENBSD_4_1:1.32.0.2
	OPENBSD_4_1_BASE:1.32
	OPENBSD_4_0:1.31.0.6
	OPENBSD_4_0_BASE:1.31
	OPENBSD_3_9:1.31.0.4
	OPENBSD_3_9_BASE:1.31
	OPENBSD_3_8:1.31.0.2
	OPENBSD_3_8_BASE:1.31
	OPENBSD_3_7:1.30.0.2
	OPENBSD_3_7_BASE:1.30
	OPENBSD_3_6:1.27.0.6
	OPENBSD_3_6_BASE:1.27
	OPENBSD_3_5:1.27.0.4
	OPENBSD_3_5_BASE:1.27
	OPENBSD_3_4:1.27.0.2
	OPENBSD_3_4_BASE:1.27
	OPENBSD_3_3:1.24.0.2
	OPENBSD_3_3_BASE:1.24
	OPENBSD_3_2:1.23.0.4
	OPENBSD_3_2_BASE:1.23
	OPENBSD_3_1:1.23.0.2
	OPENBSD_3_1_BASE:1.23
	OPENBSD_3_0:1.20.0.2
	OPENBSD_3_0_BASE:1.20
	OPENBSD_2_9:1.18.0.2
	OPENBSD_2_9_BASE:1.18
	OPENBSD_2_8:1.16.0.2
	OPENBSD_2_8_BASE:1.16
	OPENBSD_2_7:1.14.0.2
	OPENBSD_2_7_BASE:1.14
	OPENBSD_2_6:1.11.0.4
	OPENBSD_2_6_BASE:1.11
	OPENBSD_2_5:1.11.0.2
	OPENBSD_2_5_BASE:1.11
	OPENBSD_2_4:1.8.0.2
	OPENBSD_2_4_BASE:1.8
	OPENBSD_2_3:1.5.0.4
	OPENBSD_2_3_BASE:1.5
	OPENBSD_2_2:1.5.0.2
	OPENBSD_2_2_BASE:1.5
	OPENBSD_2_1:1.4.0.2
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.41
date	2014.11.02.05.33.04;	author tedu;	state Exp;
branches;
next	1.40;
commitid	H8nICr0RaCalhMu1;

1.40
date	2014.11.02.05.30.54;	author tedu;	state Exp;
branches;
next	1.39;
commitid	ULGTASftHhawumhf;

1.39
date	2012.06.20.22.15.13;	author schwarze;	state Exp;
branches;
next	1.38;

1.38
date	2012.03.14.15.39.12;	author deraadt;	state Exp;
branches;
next	1.37;

1.37
date	2012.03.06.08.39.30;	author schwarze;	state Exp;
branches;
next	1.36;

1.36
date	2012.02.26.11.14.21;	author schwarze;	state Exp;
branches;
next	1.35;

1.35
date	2009.03.27.12.31.31;	author schwarze;	state Exp;
branches;
next	1.34;

1.34
date	2008.10.22.20.31.20;	author jmc;	state Exp;
branches;
next	1.33;

1.33
date	2007.05.31.19.19.58;	author jmc;	state Exp;
branches;
next	1.32;

1.32
date	2007.02.06.17.44.51;	author jmc;	state Exp;
branches;
next	1.31;

1.31
date	2005.08.02.17.51.26;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2005.02.09.16.28.30;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2004.10.05.14.18.22;	author millert;	state Exp;
branches;
next	1.28;

1.28
date	2004.10.04.20.59.57;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2003.06.27.22.57.00;	author millert;	state Exp;
branches;
next	1.26;

1.26
date	2003.06.06.13.28.13;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2003.06.02.23.30.14;	author millert;	state Exp;
branches;
next	1.24;

1.24
date	2003.01.21.19.59.09;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2002.03.27.18.10.38;	author millert;	state Exp;
branches;
next	1.22;

1.22
date	2002.01.24.21.25.18;	author mickey;	state Exp;
branches;
next	1.21;

1.21
date	2001.11.13.13.54.26;	author mpech;	state Exp;
branches;
next	1.20;

1.20
date	2001.08.20.05.57.55;	author mpech;	state Exp;
branches;
next	1.19;

1.19
date	2001.06.24.07.30.29;	author pvalchev;	state Exp;
branches;
next	1.18;

1.18
date	2001.03.08.15.10.05;	author todd;	state Exp;
branches;
next	1.17;

1.17
date	2000.11.20.08.00.03;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	2000.10.26.00.37.05;	author aaron;	state Exp;
branches;
next	1.15;

1.15
date	2000.08.20.19.37.35;	author millert;	state Exp;
branches;
next	1.14;

1.14
date	2000.03.19.19.25.31;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	2000.03.01.18.01.22;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	2000.01.19.08.33.27;	author pjanzen;	state Exp;
branches;
next	1.11;

1.11
date	98.11.29.15.47.24;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	98.11.26.04.25.59;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	98.11.20.23.32.34;	author downsj;	state Exp;
branches;
next	1.8;

1.8
date	98.09.07.16.44.37;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	98.06.15.17.56.03;	author mickey;	state Exp;
branches;
next	1.6;

1.6
date	98.06.14.18.12.17;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	97.07.03.09.47.21;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	97.02.25.18.17.08;	author provos;	state Exp;
branches;
next	1.3;

1.3
date	96.09.11.12.33.08;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.09.06.10.34.01;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.44.37;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.44.37;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.41
log
@be a little more vague and a little less wrong about login.conf
@
text
@.\"	$OpenBSD: passwd.5,v 1.40 2014/11/02 05:30:54 tedu Exp $
.\"	$NetBSD: passwd.5,v 1.4 1995/07/28 06:46:05 phil Exp $
.\"
.\" Copyright (c) 1988, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\" Portions Copyright (c) 1994, Jason Downs.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @@(#)passwd.5	8.1 (Berkeley) 6/5/93
.\"
.Dd $Mdocdate: November 2 2014 $
.Dt PASSWD 5
.Os
.Sh NAME
.Nm passwd ,
.Nm master.passwd
.Nd format of the password file
.Sh DESCRIPTION
The
.Nm master.passwd
file, readable only by root, consists of newline-separated records,
one per user, containing ten colon separated fields.
These fields are as follows:
.Pp
.Bl -tag -width password -offset indent -compact
.It name
User's login name.
.It password
User's
.Em encrypted
password.
.It uid
User's login user ID.
.It gid
User's login group ID.
.It class
User's general classification (see
.Xr login.conf 5 ) .
.It change
Password change time.
.It expire
Account expiration time.
.It gecos
General information about the user.
.It home_dir
User's home directory.
.It shell
User's login shell.
.El
.Pp
The publicly-readable
.Nm passwd
file is generated from the
.Nm master.passwd
file by
.Xr pwd_mkdb 8
and has the class, change, and expire fields removed.
Also, the encrypted password field is replaced by an asterisk.
.Pp
The password files should never be edited by hand;
.Xr vipw 8
should be used instead.
.Pp
The
.Ar name
field is the login used to access the computer account, and the
.Ar uid
field is the number associated with it.
They should both be unique across the system (and often across a group of
systems) since they control file access.
.Pp
While it is possible to have multiple entries with identical login names
and/or identical user IDs, it is usually a mistake to do so.
Routines that manipulate these files will often return only one of the
multiple entries, and that one by random selection.
.Pp
The login name may be up to 31 characters long.
For compatibility with legacy software, a login name should start
with a letter and consist solely of letters, numbers, dashes and
underscores.
The login name must never begin with a dash
.Pq Ql \&- ;
also, it is strongly
suggested that neither uppercase characters nor dots
.Pq Ql \&.
be part of the name, as this tends to confuse mailers.
No field may contain a colon
as this has been used historically to separate the fields
in the user database.
.Pp
The password field is the
.Em encrypted
form of the password.
If the
.Ar password
field is empty, no password will be required to gain access to the machine.
This is almost invariably a mistake.
By convention, accounts that are not intended to be logged in to
(e.g. bin, daemon, sshd) only contain a single asterisk in the
.Ar password
field.
Note that there is nothing special about
.Ql * ,
it is just one of many characters that cannot occur in a
valid encrypted password
(see
.Xr crypt 3 ) .
Similarly, login accounts not allowing password authentication
but allowing other authentication methods, for example public key
authentication, conventionally have 13 asterisks in the
.Ar password
field.
Because
.Nm master.passwd
contains the encrypted user passwords, it should not be readable by anyone
without appropriate privileges.
.Pp
Configuration for the cipher used to encrypt the password information
is contained in
.Xr login.conf 5 .
.Pp
The
.Ar group
field is the primary group that the user will be placed in upon login.
Note that the
.Xr group 5
file may grant the user access to supplementary groups.
.Pp
The
.Ar class
field is used by
.Xr login 1
and other programs to determine which entry in the
.Xr login.conf 5
database should be used.
.Pp
The
.Ar change
field is the number in seconds, GMT, from the Epoch, until the
password for the account must be changed.
This field may be left empty to turn off the password aging feature.
.Pp
The
.Ar expire
field is the number in seconds, GMT, from the Epoch, until the
account expires.
This field may be left empty to turn off the account aging feature.
.Pp
The
.Ar gecos
field normally contains comma separated subfields as follows:
.Pp
.Bl -tag -width office -offset indent -compact
.It name
User's full name.
.It office
User's office location.
.It wphone
User's work phone number.
.It hphone
User's home phone number.
.El
.Pp
The full name may contain an ampersand
.Pq Ql \&& ,
which will be replaced by the capitalized login name when the gecos field
is displayed or used by various programs such as
.Xr finger 1 ,
.Xr sendmail 8 ,
etc.
.Pp
The office and phone number subfields, if they exist, are used by the
.Xr finger 1
program and possibly by other applications.
.Pp
The
.Ar home_dir
field is the full path name of a directory to be used as the initial
working directory for the user's login shell.
Usually, it is owned by the user and by the user's primary
.Ar group .
.Pp
The
.Ar shell
field is the command interpreter the user prefers.
If there is nothing in the
.Ar shell
field, the default shell
.Pq Pa /bin/sh
is assumed.
Accounts that are not intended to be logged in to usually have
a shell of
.Pa /sbin/nologin .
.Sh YP SUPPORT
If YP is active, the
.Nm passwd
file also supports standard YP exclusions and inclusions, based on user
names and netgroups.
.Pp
Lines beginning with a
.Ql \&-
(minus sign) are entries marked as being excluded
from any following inclusions, which are marked with a
.Ql +
(plus sign).
.Pp
If the second character of the line is a
.Ql @@
(at sign), the operation involves the user fields of all entries in the
netgroup specified by the remaining characters of the
.Ar name
field.
Otherwise, the remainder of the
.Ar name
field is assumed to be a specific user name.
.Pp
The
.Ql +
token may also be alone in the
.Ar name
field, which causes all users from the
.Pa passwd.byname
and
.Pa passwd.byuid
YP maps to be included.
.Pp
If the entry contains non-empty
.Ar uid
or
.Ar gid
fields, the specified numbers will override the information retrieved
from the YP maps.
Additionally, if the
.Ar gecos ,
.Ar dir ,
or
.Ar shell
entries contain text, it will override the information included via YP.
On some systems, the
.Ar passwd
field may also be overridden.
It is recommended that the standard way to enable YP passwd support in
.Pa /etc/master.passwd
is:
.Pp
+:*::::::::
.Pp
which after
.Xr pwd_mkdb 8
will result in
.Pa /etc/passwd
containing:
.Pp
+:*:0:0:::
.Pp
When YP is enabled but temporarily unavailable, login becomes impossible
for all users except those having an entry in the
.Xr netid 5
file.
.Sh SEE ALSO
.Xr chpass 1 ,
.Xr login 1 ,
.Xr passwd 1 ,
.Xr crypt 3 ,
.Xr getpwent 3 ,
.Xr login.conf 5 ,
.Xr netgroup 5 ,
.Xr netid 5 ,
.Xr adduser 8 ,
.Xr Makefile.yp 8 ,
.Xr pwd_mkdb 8 ,
.Xr vipw 8 ,
.Xr yp 8
.Pp
.%T "Managing NFS and NIS"
(O'Reilly & Associates)
.Sh HISTORY
A
.Nm passwd
file format first appeared in
.At v1 .
The gecos field first appeared in
.At v3 ;
since the same version, the passwords are encrypted.
The gid field first appeared in
.At v5 ;
the class, change and expire fields as well as the
.Nm master.passwd
file in
.Bx 4.3 Reno .
.Pp
The YP file format first appeared in SunOS.
.Sh CAVEATS
Placing YP exclusions in the file after any inclusions does not cancel
the earlier inclusions.
@


1.40
log
@awk script to upgrade from 4.3 passwd files is irrelevant now
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.39 2012/06/20 22:15:13 schwarze Exp $
d34 1
a34 1
.Dd $Mdocdate: June 20 2012 $
d141 2
a142 2
Which type of cipher is used to encrypt the password information
depends on the configuration in
a143 1
It can be different for local and YP passwords.
@


1.39
log
@Corrent and expand passwd(5) HISTORY,
and apply some minor tweaks to group(5) HISTORY.
All facts found on http://minnie.tuhs.org/cgi-bin/utree.pl

ok jmc@@ sobrado@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.38 2012/03/14 15:39:12 deraadt Exp $
d34 1
a34 1
.Dd $Mdocdate: March 14 2012 $
a300 23
.Sh STANDARDS
The password file format has changed since
.Bx 4.3 .
The following
.Xr awk 1
script can be used to convert your old-style password
file into a new style password file.
The additional fields
.Dq class ,
.Dq change ,
and
.Dq expire
are added, but are turned off by default.
To set
.Ar change
and
.Ar expire
use the current day in seconds from the Epoch plus the number of seconds
of offset desired.
.Bd -literal -offset indent
BEGIN { FS = ":"}
{ print $1 ":" $2 ":" $3 ":" $4 "::0:0:" $5 ":" $6 ":" $7 }
.Ed
@


1.38
log
@* is a character, not a string.
ok ajacoutot
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.37 2012/03/06 08:39:30 schwarze Exp $
d34 1
a34 1
.Dd $Mdocdate: March 6 2012 $
d327 11
a337 2
file format appeared in
.At v3 .
@


1.37
log
@Clarify the wording regarding :*: as proposed by ajacoutot@@.
Spring cleanup while here:
- Refrain from explaining what a colon (`:') and a comma (`,') is.
- Remove speculations about future directions to be taken after 4.0BSD (sic).
- And some minor wording changes.
ok jmc@@ millert@@ ajacoutot@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.36 2012/02/26 11:14:21 schwarze Exp $
d34 1
a34 1
.Dd $Mdocdate: February 26 2012 $
d127 2
a128 1
it is just one of many strings that is not a valid encrypted password
@


1.36
log
@Document :*************: in the password field.
Triggered by a question from haesbaert@@.
Feedback and ok jmc@@, ok haesbaert@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.35 2009/03/27 12:31:31 schwarze Exp $
d34 1
a34 1
.Dd $Mdocdate: March 27 2009 $
d45 1
a45 3
one per user, containing ten colon
.Pq Ql \&:
separated fields.
d81 1
a81 2
Also, the encrypted password field is replaced by an asterisk
.Pq Ql \&* .
d104 1
a104 1
The login name must never begin with a hyphen
d122 1
a122 3
(e.g. bin, daemon, sshd) have a star
.Pq Ql *
in the
d132 1
a132 1
authentication, conventionally have 13 stars in the
d147 4
a150 4
field is the group that the user will be placed in upon login.
Since this system supports multiple groups (see
.Xr groups 1 )
this field currently has little special meaning.
d174 1
a174 3
field normally contains comma
.Pq Ql \&,
separated subfields as follows:
d201 4
a204 5
field
(the user's home directory)
is the full
.Tn UNIX
pathname where the user will be placed on login.
d211 1
a211 1
field, the Bourne shell
d330 3
a332 5
.Sh BUGS
User information should (and eventually will) be stored elsewhere.
.Pp
Placing YP exclusions in the file after any inclusions will have
unexpected results.
@


1.35
log
@getgrouplist: If YP is #defined and enabled in /etc/group(5) and /etc/netid(5)
  contains a matching entry, use that and refrain from accessing YP.
getpwnam/getpwuid: If YP is #defined and /etc/master.passwd(5) contains
  a matching entry before the first YP entry, use that and stay away from YP.

Taken together, this allows a solution to the following problem pointed
out by deraadt@@: When YP was configured but temporarily unavailable, even
root login would block, hindering you when trying to do repairs.
To avoid this, you can now provide a static entry for root in /etc/netid.

Using suggestions from miod@@ otto@@ blambert@@ jmc@@.
"commit" deraadt@@, "cool" ajacoutot@@, "looks fine" jmc@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.34 2008/10/22 20:31:20 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: October 22 2008 $
d135 5
@


1.34
log
@man page for Makefile.yp, and associated bits; from Ingo Schwarze
ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.33 2007/05/31 19:19:58 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: May 31 2007 $
d281 5
d294 1
@


1.33
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.32 2007/02/06 17:44:51 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate$
d290 1
@


1.32
log
@discuss consistently "the Epoch";
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.31 2005/08/02 17:51:26 jmc Exp $
d34 1
a34 1
.Dd July 18, 1995
@


1.31
log
@make home_dir description match the rest of the page;
from will h. backman;
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.30 2005/02/09 16:28:30 jmc Exp $
d162 1
a162 1
field is the number in seconds, GMT, from the epoch, until the
d168 1
a168 1
field is the number in seconds, GMT, from the epoch, until the
d313 1
a313 1
use the current day in seconds from the epoch plus the number of seconds
@


1.30
log
@note that password files should only be edited using vipw(8), not by hand;

based on freebsd pr #74656;
ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.29 2004/10/05 14:18:22 millert Exp $
d201 5
a205 1
The user's home directory is the full
d207 1
a207 1
path name where the user will be placed on login.
@


1.29
log
@Clarify starred accounts and mention /sbin/nologin.  OK jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.28 2004/10/04 20:59:57 jmc Exp $
d85 4
@


1.28
log
@add master.passwd to NAME, since that file is documented here too;
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.27 2003/06/27 22:57:00 millert Exp $
d120 11
d209 3
d277 1
@


1.27
log
@Add more info on what makes a good login name.
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.26 2003/06/06 13:28:13 jmc Exp $
d38 2
a39 1
.Nm passwd
@


1.26
log
@- section reorder
- macro fixes
- kill whitespace at EOL
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.25 2003/06/02 23:30:14 millert Exp $
d98 4
d107 1
a107 2
be part
of the name, as this tends to confuse mailers.
@


1.25
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.24 2003/01/21 19:59:09 jmc Exp $
d269 1
a269 6
.Sh BUGS
User information should (and eventually will) be stored elsewhere.
.Pp
Placing YP exclusions in the file after any inclusions will have
unexpected results.
.Sh COMPATIBILITY
d299 5
@


1.24
log
@typos;
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.23 2002/03/27 18:10:38 millert Exp $
d16 1
a16 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.23
log
@From David Krause:
o ftpd.8: alphabetically sort FILES and add login.conf & motd
o midi.4 and pckbd.4: there is no pcppi(4) man page
o passwd.5: s/passwd.conf/login.conf
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.22 2002/01/24 21:25:18 mickey Exp $
d237 1
a237 1
As well, if the
@


1.22
log
@these is mostly v3
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.21 2001/11/13 13:54:26 mpech Exp $
d127 1
a127 1
.Xr passwd.conf 5 .
d264 1
a265 1
.Xr passwd.conf 5 ,
@


1.21
log
@o) Fix bogus .Xr usage;
o) CAVEAT -> CAVEATS;
o) AUTHOR -> AUTHORS;
o) Start new sentence on a new line;
o) For URL and path names use .Pa;
o) We don't like .Pp before .Rs;
o) Don't use .Pp before/after .Sh;
o) OpenBSD -> .Ox;

millert@@ ok and help;
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.20 2001/08/20 05:57:55 mpech Exp $
d305 1
a305 1
.At v6 .
@


1.20
log
@Powered by @@mantoya.
o) fix bogus .Xr usage;

millert@@ ok.
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.19 2001/06/24 07:30:29 pvalchev Exp $
d282 1
a282 1
.Xr awk
@


1.19
log
@typos and spelling fixes; from jsyn@@nthought.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.18 2001/03/08 15:10:05 todd Exp $
d66 1
a66 1
.Xr login.conf 5 ).
@


1.18
log
@spelling
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.17 2000/11/20 08:00:03 deraadt Exp $
d79 1
a79 1
The publicaly-readable
@


1.17
log
@various Xr fixes; nordin@@cse.ogi.edu
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.16 2000/10/26 00:37:05 aaron Exp $
d79 1
a79 1
The publically-readable
@


1.16
log
@Some share/man fleshing.
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.15 2000/08/20 19:37:35 millert Exp $
d140 1
a140 1
.Xr login 8
@


1.15
log
@The login class field is now implemented.
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.14 2000/03/19 19:25:31 aaron Exp $
d47 3
a49 3
file, readable only by root, consists of
newline-separated records, one per user, containing ten colon
.Pq Sq \&:
d80 1
a80 1
.Nm
d118 1
a118 2
field is empty, no password will be required to gain access to the
machine.
d122 2
a123 2
contains the encrypted user passwords, it should
not be readable by anyone without appropriate privileges.
d175 1
a175 1
.Pq Sq \&& ,
d200 1
a200 1
.Nm
d303 1
a303 1
.Nm
@


1.14
log
@Various cleanups.
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.13 2000/03/01 18:01:22 aaron Exp $
d65 2
a66 1
User's general classification (unused).
d140 5
a144 4
field is currently unused.
In the near future it will be a key to a
.Xr termcap 5
style database of user attributes.
d292 1
a292 2
.Ar class
is currently not implemented, but
a295 1
are; to set them,
@


1.13
log
@Various cleanups.
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.12 2000/01/19 08:33:27 pjanzen Exp $
d50 2
a51 1
separated fields.  These fields are as follows:
@


1.12
log
@From NetBSD: describe what & does in a gecos field, and clarify between
master.passwd and passwd.  Also, a little tidying.
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.11 1998/11/29 15:47:24 aaron Exp $
d83 3
a85 3
and has the class, change, and expire fields removed.  Also, the encrypted
password field is replaced by an asterisk
.Pq Sq \&* .
d91 3
a93 3
field is the number associated with it.  They should both be unique
across the system (and often across a group of systems) since they
control file access.
d96 3
a98 3
and/or identical user IDs, it is usually a mistake to do so.  Routines
that manipulate these files will often return only one of the multiple
entries, and that one by random selection.
d101 1
a101 1
.Pq Sq \&- ;
d104 1
a104 1
.Pq Sq \&.
d106 2
a107 3
of the name, as this tends to confuse mailers.  No field may contain a
colon
.Pq Sq \&:
d117 2
a118 1
machine.  This is almost invariably a mistake.
d138 2
a139 2
field is currently unused.  In the near future it will be a key to
a
d145 1
a145 3
field is the number in seconds,
.Dv GMT ,
from the epoch, until the
d151 1
a151 3
field is the number in seconds,
.Dv GMT ,
from the epoch, until the
d157 3
a159 1
field normally contains comma-separated subfields as follows:
d186 1
a186 2
path name where the user
will be placed on login.
d203 1
a203 1
.Dq \&-
d206 1
a206 1
.Dq +
d210 3
a212 4
.Dq @@
(at sign), the operation
involves the user fields of all entries in the netgroup specified by the
remaining characters of the
d220 1
a220 1
.Dq +
d234 2
a235 1
from the YP maps. As well, if the
d237 1
a237 1
.Ar dir
d243 2
a244 2
field may also be overridden.  It is recommended that the standard
way to enable YP passwd support in
a256 1
.Pp
d285 1
a285 1
.Dq change
@


1.11
log
@kill superfluous .Nm macro arguments
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.10 1998/11/26 04:25:59 aaron Exp $
d46 3
a48 3
.Nm
files are files consisting of newline separated records, one per user,
containing ten colon
d77 10
d119 3
a121 1
Because these files contain the encrypted user passwords, they should
d161 1
a161 3
field normally contains comma
.Pq Sq \&,
separated subfields as follows:
d174 9
a182 1
This information is used by the
d184 1
a184 1
program.
@


1.10
log
@share/man/man5/ man page repairs
@
text
@d1 1
a1 1
.\"	$OpenBSD: passwd.5,v 1.9 1998/11/20 23:32:34 downsj Exp $
d46 1
a46 1
.Nm passwd
@


1.9
log
@Add rcsid, slight fix.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d48 3
a50 2
containing ten colon (``:'') separated fields.  These fields are as
follows:
d52 1
a52 1
.Bl -tag -width password -offset indent
d60 1
a60 1
User's id.
d62 1
a62 1
User's login group id.
d86 1
a86 1
and/or identical user id's, it is usually a mistake to do so.  Routines
d90 6
a95 2
The login name must never begin with a hyphen (``-''); also, it is strongly
suggested that neither upper-case characters or dots (``.'') be part
d97 3
a99 1
colon (``:'') as this has been used historically to separate the fields
d117 3
a119 1
The group field is the group that the user will be placed in upon login.
d149 3
a151 1
field normally contains comma (``,'') separated subfields as follows:
d155 1
a155 1
user's full name
d157 1
a157 1
user's office location
d159 1
a159 1
user's work phone number
d161 1
a161 1
user's home phone number
d173 3
a175 1
The shell field is the command interpreter the user prefers.
d187 10
a196 4
Lines beginning with a ``-'' (minus sign) are entries marked as being excluded
from any following inclusions, which are marked with a ``+'' (plus sign).
.Pp
If the second character of the line is a ``@@'' (at sign), the operation
d205 3
a207 1
The ``+'' token may also be alone in the
d221 1
a221 1
.Ar gecos,
a246 1
.Xr passwd.conf 5 ,
d249 1
d265 3
a267 1
The following awk script can be used to convert your old-style password
d275 8
a282 3
Class is currently not implemented, but change and expire are; to set them,
use the current day in seconds from the epoch + whatever number of seconds
of offset you want.
d293 1
a293 1
YP file format first appeared in SunOS.
@


1.8
log
@More man page fixes. Particularly fix uses of it's/its, affect/effect,
then/than and such. Other miscellaneous problems fixed across these source
files.
@
text
@d1 1
d207 1
a207 1
field may also be overridden, hence it is recommended that the standard
@


1.7
log
@use Bx macro for BSD versions
@
text
@d206 1
a206 1
field may also be overriden, hence it is recommended that the standard
@


1.6
log
@fix gecos subfield description
@
text
@d241 2
a242 1
The password file format has changed since 4.3BSD.
@


1.5
log
@use .Bl for gecos info; lukem
@
text
@d145 1
a145 1
user's office number
@


1.4
log
@man page updates for passwd.conf
@
text
@d141 10
a150 6
.Bd -unfilled -offset indent
name		user's full name
office		user's office number
wphone		user's work phone number
hphone		user's home phone number
.Ed
@


1.3
log
@fix a typo
@
text
@d104 5
d221 1
@


1.2
log
@document how to turn on YP
@
text
@d198 1
a198 1
way to turn YP passwd support in
@


1.1
log
@Initial revision
@
text
@d197 15
a211 1
field may also be overriden.
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
