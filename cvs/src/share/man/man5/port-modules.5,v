head	1.218;
access;
symbols
	OPENBSD_6_1:1.214.0.4
	OPENBSD_6_1_BASE:1.214
	OPENBSD_6_0:1.206.0.2
	OPENBSD_6_0_BASE:1.206
	OPENBSD_5_9:1.200.0.2
	OPENBSD_5_9_BASE:1.200
	OPENBSD_5_8:1.192.0.4
	OPENBSD_5_8_BASE:1.192
	OPENBSD_5_7:1.185.0.2
	OPENBSD_5_7_BASE:1.185
	OPENBSD_5_6:1.179.0.4
	OPENBSD_5_6_BASE:1.179
	OPENBSD_5_5:1.165.0.4
	OPENBSD_5_5_BASE:1.165
	OPENBSD_5_4:1.162.0.2
	OPENBSD_5_4_BASE:1.162
	OPENBSD_5_3:1.154.0.2
	OPENBSD_5_3_BASE:1.154
	OPENBSD_5_2:1.140.0.2
	OPENBSD_5_2_BASE:1.140
	OPENBSD_5_1_BASE:1.119
	OPENBSD_5_1:1.119.0.2
	OPENBSD_5_0:1.93.0.2
	OPENBSD_5_0_BASE:1.93
	OPENBSD_4_9:1.86.0.2
	OPENBSD_4_9_BASE:1.86
	OPENBSD_4_8:1.62.0.2
	OPENBSD_4_8_BASE:1.62
	OPENBSD_4_7:1.46.0.2
	OPENBSD_4_7_BASE:1.46
	OPENBSD_4_6:1.43.0.4
	OPENBSD_4_6_BASE:1.43
	OPENBSD_4_5:1.33.0.2
	OPENBSD_4_5_BASE:1.33
	OPENBSD_4_4:1.17.0.2
	OPENBSD_4_4_BASE:1.17;
locks; strict;
comment	@.\" @;


1.218
date	2017.05.27.20.18.04;	author jung;	state Exp;
branches;
next	1.217;
commitid	TyJwPz9tOdK9uLrV;

1.217
date	2017.04.22.14.00.30;	author ajacoutot;	state Exp;
branches;
next	1.216;
commitid	8e1kCf2qlGpwAhil;

1.216
date	2017.04.11.11.01.28;	author espie;	state Exp;
branches;
next	1.215;
commitid	351Nxxu8IDnQzxp2;

1.215
date	2017.04.08.13.29.37;	author ajacoutot;	state Exp;
branches;
next	1.214;
commitid	bCFz2ylRKag9687X;

1.214
date	2017.02.08.17.36.47;	author danj;	state Exp;
branches;
next	1.213;
commitid	ptLBj8Fk7uKSA3A2;

1.213
date	2017.01.30.16.58.31;	author ajacoutot;	state Exp;
branches;
next	1.212;
commitid	LFtHltwTaDuUf1Q6;

1.212
date	2017.01.05.17.54.14;	author danj;	state Exp;
branches;
next	1.211;
commitid	nGdW4C7HPOBPuezj;

1.211
date	2016.12.13.07.26.16;	author landry;	state Exp;
branches;
next	1.210;
commitid	bzaODp8PXrkk48v8;

1.210
date	2016.10.29.18.27.34;	author danj;	state Exp;
branches;
next	1.209;
commitid	S5GPzZ66e7wcEeaF;

1.209
date	2016.10.11.12.42.21;	author jca;	state Exp;
branches;
next	1.208;
commitid	JZzoJCQLDA1NIqkT;

1.208
date	2016.09.13.19.45.35;	author naddy;	state Exp;
branches;
next	1.207;
commitid	TKrM5bx370i0UYGc;

1.207
date	2016.08.25.14.57.35;	author dcoppa;	state Exp;
branches;
next	1.206;
commitid	GjrbBOEXuTnLrji4;

1.206
date	2016.05.18.19.13.02;	author jca;	state Exp;
branches;
next	1.205;
commitid	WjZeYdD9shgUbEHc;

1.205
date	2016.04.26.16.25.09;	author jmc;	state Exp;
branches;
next	1.204;
commitid	j31b1GalG14gLAZB;

1.204
date	2016.04.26.16.22.46;	author tsg;	state Exp;
branches;
next	1.203;
commitid	F6w8wgIXUsJS12Hi;

1.203
date	2016.04.26.11.36.37;	author jasper;	state Exp;
branches;
next	1.202;
commitid	4g2Z5B6PELGOHCcO;

1.202
date	2016.03.26.21.27.01;	author zhuk;	state Exp;
branches;
next	1.201;
commitid	21Vw9ZePy1Kv1wGt;

1.201
date	2016.03.22.16.02.02;	author naddy;	state Exp;
branches;
next	1.200;
commitid	YFdh84WoO5s4tSEK;

1.200
date	2016.02.19.09.15.32;	author jmc;	state Exp;
branches;
next	1.199;
commitid	RfyYEUUggimtK2Mu;

1.199
date	2016.01.07.21.38.19;	author jasper;	state Exp;
branches;
next	1.198;
commitid	5WSzcg4hQ0P3zSPn;

1.198
date	2015.11.26.20.27.46;	author jasper;	state Exp;
branches;
next	1.197;
commitid	QdPdehoNHlYJZzd7;

1.197
date	2015.10.05.10.25.59;	author sobrado;	state Exp;
branches;
next	1.196;
commitid	Rwva36USQqhTX6zM;

1.196
date	2015.09.23.01.11.13;	author schwarze;	state Exp;
branches;
next	1.195;
commitid	vsGAfUK2RNph2US5;

1.195
date	2015.08.31.19.51.17;	author kili;	state Exp;
branches;
next	1.194;
commitid	0vF7cGSPbnVsh1LL;

1.194
date	2015.08.21.01.24.12;	author bentley;	state Exp;
branches;
next	1.193;
commitid	B0HE9MfCcF1oxni7;

1.193
date	2015.08.11.20.18.03;	author jasper;	state Exp;
branches;
next	1.192;
commitid	LfG0HCCmKguQZAyx;

1.192
date	2015.07.19.05.58.00;	author bentley;	state Exp;
branches;
next	1.191;
commitid	i4j6AOKBa7Fct1eA;

1.191
date	2015.07.18.09.25.35;	author jmc;	state Exp;
branches;
next	1.190;
commitid	nlmq3h5OXoEf92fB;

1.190
date	2015.07.17.15.03.19;	author zhuk;	state Exp;
branches;
next	1.189;
commitid	xl5SOLPo8xUyTyTA;

1.189
date	2015.06.08.09.23.01;	author czarkoff;	state Exp;
branches;
next	1.188;
commitid	7mSKHHSKf2ISo08o;

1.188
date	2015.04.02.15.47.40;	author jmc;	state Exp;
branches;
next	1.187;
commitid	roa871aH6QZ2wOWJ;

1.187
date	2015.04.02.13.58.55;	author jasper;	state Exp;
branches;
next	1.186;
commitid	IN805N2HZoru2yS4;

1.186
date	2015.03.27.08.17.00;	author ajacoutot;	state Exp;
branches;
next	1.185;
commitid	CyYPNU2PUMTjsUiP;

1.185
date	2015.01.13.07.03.23;	author jmc;	state Exp;
branches;
next	1.184;
commitid	6WSvYKMcXOfhFoNi;

1.184
date	2015.01.12.20.56.20;	author zhuk;	state Exp;
branches;
next	1.183;
commitid	VveVc3hL1cdiQ7JV;

1.183
date	2014.09.13.16.30.05;	author ajacoutot;	state Exp;
branches;
next	1.182;
commitid	V35ulgwGswSYpJvK;

1.182
date	2014.09.08.06.38.07;	author jmc;	state Exp;
branches;
next	1.181;
commitid	8NWMaSTEpz9TI1dQ;

1.181
date	2014.09.08.05.04.40;	author chrisz;	state Exp;
branches;
next	1.180;
commitid	IquKtJs0ShmQXShO;

1.180
date	2014.08.10.21.09.26;	author zhuk;	state Exp;
branches;
next	1.179;
commitid	BOmdrCdFXw6EHVXh;

1.179
date	2014.07.13.14.14.41;	author ajacoutot;	state Exp;
branches;
next	1.178;
commitid	iUj06guGaaR8LJCl;

1.178
date	2014.07.12.22.27.09;	author jmc;	state Exp;
branches;
next	1.177;
commitid	WImj4ZgVS1RyVlRG;

1.177
date	2014.07.12.21.28.58;	author zhuk;	state Exp;
branches;
next	1.176;
commitid	vbZLAkn5cJmEmpNu;

1.176
date	2014.07.09.19.18.29;	author jmc;	state Exp;
branches;
next	1.175;
commitid	MsQWqy60QjJRPXDy;

1.175
date	2014.07.09.17.53.11;	author ajacoutot;	state Exp;
branches;
next	1.174;
commitid	lFiuW2JIleDuFrJr;

1.174
date	2014.07.09.14.02.35;	author ajacoutot;	state Exp;
branches;
next	1.173;
commitid	P1QPVyl9basEQRnE;

1.173
date	2014.07.09.13.38.11;	author bcallah;	state Exp;
branches;
next	1.172;
commitid	RYhGsa2qcJLHvpD5;

1.172
date	2014.04.02.15.00.27;	author ajacoutot;	state Exp;
branches;
next	1.171;

1.171
date	2014.04.02.08.25.24;	author ajacoutot;	state Exp;
branches;
next	1.170;

1.170
date	2014.04.01.18.01.19;	author jmc;	state Exp;
branches;
next	1.169;

1.169
date	2014.04.01.17.03.57;	author jasper;	state Exp;
branches;
next	1.168;

1.168
date	2014.04.01.15.31.32;	author jasper;	state Exp;
branches;
next	1.167;

1.167
date	2014.03.28.08.49.25;	author ajacoutot;	state Exp;
branches;
next	1.166;

1.166
date	2014.03.16.09.12.55;	author ajacoutot;	state Exp;
branches;
next	1.165;

1.165
date	2013.10.16.10.29.52;	author ajacoutot;	state Exp;
branches;
next	1.164;

1.164
date	2013.10.15.10.06.23;	author ajacoutot;	state Exp;
branches;
next	1.163;

1.163
date	2013.09.26.13.08.17;	author sthen;	state Exp;
branches;
next	1.162;

1.162
date	2013.07.02.10.37.01;	author espie;	state Exp;
branches;
next	1.161;

1.161
date	2013.06.19.09.17.29;	author espie;	state Exp;
branches;
next	1.160;

1.160
date	2013.04.16.13.17.40;	author ajacoutot;	state Exp;
branches;
next	1.159;

1.159
date	2013.03.26.16.40.19;	author ajacoutot;	state Exp;
branches;
next	1.158;

1.158
date	2013.03.21.08.30.29;	author ajacoutot;	state Exp;
branches;
next	1.157;

1.157
date	2013.03.11.22.29.04;	author jmc;	state Exp;
branches;
next	1.156;

1.156
date	2013.03.11.14.35.53;	author espie;	state Exp;
branches;
next	1.155;

1.155
date	2013.03.10.20.01.43;	author jasper;	state Exp;
branches;
next	1.154;

1.154
date	2013.02.07.17.58.31;	author pascal;	state Exp;
branches;
next	1.153;

1.153
date	2013.02.04.13.33.04;	author jmc;	state Exp;
branches;
next	1.152;

1.152
date	2013.02.04.09.22.30;	author sthen;	state Exp;
branches;
next	1.151;

1.151
date	2013.02.03.15.05.22;	author jasper;	state Exp;
branches;
next	1.150;

1.150
date	2013.01.31.08.43.51;	author pascal;	state Exp;
branches;
next	1.149;

1.149
date	2013.01.13.17.47.21;	author sebastia;	state Exp;
branches;
next	1.148;

1.148
date	2012.12.31.10.29.28;	author jmc;	state Exp;
branches;
next	1.147;

1.147
date	2012.12.31.09.18.46;	author espie;	state Exp;
branches;
next	1.146;

1.146
date	2012.11.19.12.23.23;	author espie;	state Exp;
branches;
next	1.145;

1.145
date	2012.10.31.13.44.30;	author gsoares;	state Exp;
branches;
next	1.144;

1.144
date	2012.09.19.08.15.55;	author jasper;	state Exp;
branches;
next	1.143;

1.143
date	2012.08.19.05.50.31;	author jmc;	state Exp;
branches;
next	1.142;

1.142
date	2012.08.18.21.51.07;	author avsm;	state Exp;
branches;
next	1.141;

1.141
date	2012.08.15.18.09.02;	author jmc;	state Exp;
branches;
next	1.140;

1.140
date	2012.07.19.20.25.52;	author jasper;	state Exp;
branches;
next	1.139;

1.139
date	2012.07.10.17.50.56;	author jasper;	state Exp;
branches;
next	1.138;

1.138
date	2012.07.09.09.12.14;	author kili;	state Exp;
branches;
next	1.137;

1.137
date	2012.07.08.17.37.55;	author sthen;	state Exp;
branches;
next	1.136;

1.136
date	2012.06.11.10.09.07;	author espie;	state Exp;
branches;
next	1.135;

1.135
date	2012.06.10.21.11.13;	author jasper;	state Exp;
branches;
next	1.134;

1.134
date	2012.05.26.09.15.38;	author jasper;	state Exp;
branches;
next	1.133;

1.133
date	2012.05.23.15.15.26;	author jasper;	state Exp;
branches;
next	1.132;

1.132
date	2012.05.18.06.58.21;	author jmc;	state Exp;
branches;
next	1.131;

1.131
date	2012.05.15.15.11.46;	author jasper;	state Exp;
branches;
next	1.130;

1.130
date	2012.05.15.12.26.34;	author jasper;	state Exp;
branches;
next	1.129;

1.129
date	2012.05.11.21.01.47;	author jasper;	state Exp;
branches;
next	1.128;

1.128
date	2012.05.11.20.54.13;	author jasper;	state Exp;
branches;
next	1.127;

1.127
date	2012.04.19.21.42.14;	author sthen;	state Exp;
branches;
next	1.126;

1.126
date	2012.04.19.14.26.47;	author pascal;	state Exp;
branches;
next	1.125;

1.125
date	2012.04.05.18.33.16;	author sthen;	state Exp;
branches;
next	1.124;

1.124
date	2012.04.04.05.49.55;	author ajacoutot;	state Exp;
branches;
next	1.123;

1.123
date	2012.04.03.18.35.18;	author jeremy;	state Exp;
branches;
next	1.122;

1.122
date	2012.03.29.16.35.02;	author ajacoutot;	state Exp;
branches;
next	1.121;

1.121
date	2012.03.28.17.48.24;	author ajacoutot;	state Exp;
branches;
next	1.120;

1.120
date	2012.02.16.11.31.06;	author ajacoutot;	state Exp;
branches;
next	1.119;

1.119
date	2011.12.14.18.32.46;	author robert;	state Exp;
branches;
next	1.118;

1.118
date	2011.12.08.08.26.55;	author espie;	state Exp;
branches;
next	1.117;

1.117
date	2011.12.05.20.03.25;	author espie;	state Exp;
branches;
next	1.116;

1.116
date	2011.12.05.08.05.38;	author jmc;	state Exp;
branches;
next	1.115;

1.115
date	2011.12.04.23.28.42;	author jeremy;	state Exp;
branches;
next	1.114;

1.114
date	2011.12.04.10.07.17;	author espie;	state Exp;
branches;
next	1.113;

1.113
date	2011.12.03.20.20.28;	author jmc;	state Exp;
branches;
next	1.112;

1.112
date	2011.12.03.19.20.49;	author espie;	state Exp;
branches;
next	1.111;

1.111
date	2011.12.03.19.00.34;	author espie;	state Exp;
branches;
next	1.110;

1.110
date	2011.12.03.18.55.13;	author espie;	state Exp;
branches;
next	1.109;

1.109
date	2011.12.03.18.33.34;	author ajacoutot;	state Exp;
branches;
next	1.108;

1.108
date	2011.11.17.23.49.46;	author sthen;	state Exp;
branches;
next	1.107;

1.107
date	2011.11.17.18.04.33;	author sthen;	state Exp;
branches;
next	1.106;

1.106
date	2011.10.03.11.01.32;	author jasper;	state Exp;
branches;
next	1.105;

1.105
date	2011.10.03.10.35.06;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2011.10.03.06.43.28;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2011.09.30.18.06.42;	author jasper;	state Exp;
branches;
next	1.102;

1.102
date	2011.09.27.11.40.37;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2011.09.23.10.44.02;	author jasper;	state Exp;
branches;
next	1.100;

1.100
date	2011.09.23.10.42.19;	author jasper;	state Exp;
branches;
next	1.99;

1.99
date	2011.09.21.09.11.54;	author jasper;	state Exp;
branches;
next	1.98;

1.98
date	2011.09.19.07.54.54;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2011.09.19.07.46.34;	author ajacoutot;	state Exp;
branches;
next	1.96;

1.96
date	2011.09.01.07.04.34;	author jasper;	state Exp;
branches;
next	1.95;

1.95
date	2011.08.31.20.33.56;	author jasper;	state Exp;
branches;
next	1.94;

1.94
date	2011.08.30.17.16.48;	author jasper;	state Exp;
branches;
next	1.93;

1.93
date	2011.06.05.09.44.58;	author sthen;	state Exp;
branches;
next	1.92;

1.92
date	2011.06.02.17.33.37;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2011.05.28.08.20.35;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2011.04.26.13.42.06;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2011.04.12.12.11.24;	author kili;	state Exp;
branches;
next	1.88;

1.88
date	2011.04.10.17.57.16;	author jasper;	state Exp;
branches;
next	1.87;

1.87
date	2011.03.25.09.28.30;	author ajacoutot;	state Exp;
branches;
next	1.86;

1.86
date	2010.12.06.10.02.14;	author espie;	state Exp;
branches;
next	1.85;

1.85
date	2010.12.06.09.44.45;	author espie;	state Exp;
branches;
next	1.84;

1.84
date	2010.12.06.09.31.55;	author espie;	state Exp;
branches;
next	1.83;

1.83
date	2010.12.06.09.14.52;	author espie;	state Exp;
branches;
next	1.82;

1.82
date	2010.12.03.11.53.24;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2010.12.02.01.39.57;	author jeremy;	state Exp;
branches;
next	1.80;

1.80
date	2010.11.09.17.39.10;	author jeremy;	state Exp;
branches;
next	1.79;

1.79
date	2010.10.26.14.30.09;	author ajacoutot;	state Exp;
branches;
next	1.78;

1.78
date	2010.10.26.10.39.48;	author ajacoutot;	state Exp;
branches;
next	1.77;

1.77
date	2010.10.24.20.43.31;	author ajacoutot;	state Exp;
branches;
next	1.76;

1.76
date	2010.10.24.15.54.58;	author sthen;	state Exp;
branches;
next	1.75;

1.75
date	2010.10.24.13.54.14;	author jmc;	state Exp;
branches;
next	1.74;

1.74
date	2010.10.24.09.18.07;	author sthen;	state Exp;
branches;
next	1.73;

1.73
date	2010.10.23.15.29.02;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2010.10.23.15.19.59;	author steven;	state Exp;
branches;
next	1.71;

1.71
date	2010.10.23.14.42.59;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2010.10.18.13.28.08;	author jasper;	state Exp;
branches;
next	1.69;

1.69
date	2010.10.07.17.53.01;	author jeremy;	state Exp;
branches;
next	1.68;

1.68
date	2010.10.01.21.56.00;	author jasper;	state Exp;
branches;
next	1.67;

1.67
date	2010.09.26.08.00.56;	author jasper;	state Exp;
branches;
next	1.66;

1.66
date	2010.09.23.18.31.27;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2010.09.22.22.02.23;	author jasper;	state Exp;
branches;
next	1.64;

1.64
date	2010.09.17.22.02.00;	author sthen;	state Exp;
branches;
next	1.63;

1.63
date	2010.09.09.17.34.37;	author jasper;	state Exp;
branches;
next	1.62;

1.62
date	2010.07.30.22.51.03;	author sthen;	state Exp;
branches;
next	1.61;

1.61
date	2010.07.22.10.42.37;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2010.07.21.17.31.51;	author steven;	state Exp;
branches;
next	1.59;

1.59
date	2010.07.21.17.07.27;	author steven;	state Exp;
branches;
next	1.58;

1.58
date	2010.07.21.17.01.17;	author steven;	state Exp;
branches;
next	1.57;

1.57
date	2010.07.09.01.24.45;	author jmc;	state Exp;
branches;
next	1.56;

1.56
date	2010.07.08.21.14.57;	author landry;	state Exp;
branches;
next	1.55;

1.55
date	2010.07.05.09.25.26;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2010.06.15.21.21.54;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2010.05.25.08.57.51;	author jmc;	state Exp;
branches;
next	1.52;

1.52
date	2010.05.25.08.09.43;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2010.05.25.07.55.13;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2010.04.08.16.35.21;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2010.04.06.13.10.46;	author xsa;	state Exp;
branches;
next	1.48;

1.48
date	2010.04.05.11.44.19;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2010.03.21.11.40.39;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2009.10.21.16.13.34;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2009.10.15.18.14.34;	author steven;	state Exp;
branches;
next	1.44;

1.44
date	2009.08.11.20.33.04;	author landry;	state Exp;
branches;
next	1.43;

1.43
date	2009.06.11.18.47.27;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2009.06.08.16.48.41;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2009.06.07.07.20.46;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2009.06.04.13.51.57;	author jmc;	state Exp;
branches;
next	1.39;

1.39
date	2009.06.04.01.11.57;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2009.05.19.21.24.43;	author sthen;	state Exp;
branches;
next	1.37;

1.37
date	2009.05.19.09.17.17;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2009.04.26.13.10.20;	author tobias;	state Exp;
branches;
next	1.35;

1.35
date	2009.04.26.11.04.31;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2009.04.06.10.12.08;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2008.11.18.08.01.14;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2008.11.17.15.29.07;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2008.11.17.15.22.40;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2008.11.17.13.16.28;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2008.11.17.11.39.44;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2008.11.17.10.48.44;	author jasper;	state Exp;
branches;
next	1.27;

1.27
date	2008.11.17.10.46.03;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2008.10.29.14.44.22;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2008.10.28.14.10.46;	author steven;	state Exp;
branches;
next	1.24;

1.24
date	2008.10.28.13.29.55;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2008.10.28.12.27.09;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2008.10.26.15.10.03;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2008.10.26.12.36.58;	author landry;	state Exp;
branches;
next	1.20;

1.20
date	2008.10.24.14.15.53;	author bernd;	state Exp;
branches;
next	1.19;

1.19
date	2008.10.22.18.15.04;	author steven;	state Exp;
branches;
next	1.18;

1.18
date	2008.10.10.20.15.52;	author steven;	state Exp;
branches;
next	1.17;

1.17
date	2008.06.14.16.17.03;	author landry;	state Exp;
branches;
next	1.16;

1.16
date	2008.06.12.20.27.29;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2008.06.12.19.59.52;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2008.06.12.19.13.23;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2008.06.12.18.59.25;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2008.06.12.16.02.13;	author landry;	state Exp;
branches;
next	1.11;

1.11
date	2008.05.18.13.45.18;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2008.05.17.10.35.34;	author wcmaier;	state Exp;
branches;
next	1.9;

1.9
date	2008.05.14.13.28.57;	author deanna;	state Exp;
branches;
next	1.8;

1.8
date	2008.05.13.20.10.50;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2008.05.12.13.56.21;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2008.05.12.13.08.33;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2008.05.12.10.48.09;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2008.05.12.10.27.30;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2008.05.11.19.45.41;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2008.05.11.19.24.00;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2008.05.11.18.50.58;	author espie;	state Exp;
branches;
next	;


desc
@@


1.218
log
@remove devel/waf gone 2 years ago, may not come back but still gives nightmares

ok ajacoutot
@
text
@.\"	$OpenBSD: port-modules.5,v 1.217 2017/04/22 14:00:30 ajacoutot Exp $
.\"
.\" Copyright (c) 2008 Marc Espie
.\"
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE DEVELOPERS ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE DEVELOPERS BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate: April 22 2017 $
.Dt PORT-MODULES 5
.Os
.Sh NAME
.Nm port-modules
.Nd documentation and conventions used in port modules
.Sh DESCRIPTION
The
.Ox
Ports framework is based on a gigantic makefile named
.Xr bsd.port.mk 5 .
.Pp
In order to curb unwieldy growth, parts of the framework
that are not always needed have been set apart in optional
files called
.Nm port modules ,
which are retrieved as needed through the
.Ev MODULES
variable of
.Xr bsd.port.mk 5 .
.Pp
Some of these modules correspond to basic mechanisms which are not
always needed, such as GNU autoconf, or perl5.
.Pp
For convenience, setting
.Ev CONFIGURE_STYLE
in a port's main Makefile is enough to get perl5 or autoconf support, but
.Ar gnu ,
.Ar imake
and
.Ar perl5
are actually modules, and there is some glue in
.Xr bsd.port.mk 5
that magically adds the required module in that case.
This doesn't work when parsing modules.
For instance, if you set
.Li CONFIGURE_STYLE=gnu
in a module, you also need to
.Li MODULES += gnu .
.Pp
Other modules correspond to shortcuts for using some other ports as
dependencies without needing to hardcode too much, such as
the qt ports.
.Sh THE MODULES LOOK-UP MECHANISM
The variable
.Ev MODULES
should contain a list of module names.
Some core modules are a single word, all other modules should be
${PKGPATH}.
If the module is
.Pa some/dir/portname ,
the ports framework will look for a file named
.Pa ${PORTSDIR}/some/dir/portname/portname.port.mk
and include it.
.Pp
Most modules should conform to this syntax.
The historic practice of having a redirection file directly under
.Pa ${PORTSDIR}/infrastructure/mk
is deprecated for new modules.
.Pp
Modules may refer to each other.
The modules mechanism has specific recursion handling such that
adding
.Li MODULES += foo/bar
to a module will work as expected.
.Sh NAMING CONVENTIONS
Since there is no actual scope in makefiles, everything defined within
a module will be global to the ports framework, and thus may interfere
with other ports.
.Pp
As far as possible, all variables and targets belonging to a module named
.Pa some/dir/foo
should be named
.Ev MODFOO_*
and
.Ar modfoo_* .
.Pp
Following the same conventions as
.Xr bsd.port.mk 5 ,
internal variables and targets not intended for user consumption should be
named
.Ev _MODFOO_*
and
.Ar _modfoo_* .
.Pp
For instance, if a module wants some value to be available for the rest
of the world, it should define
.Ev MODFOO_VARNAME ,
with a name matching the basic infrastructure as far as possible.
That is, a port that defines specific dependencies will usually
define
.Ev MODFOO_WANTLIB ,
.Ev MODFOO_LIB_DEPENDS ,
and
.Ev MODFOO_RUN_DEPENDS ,
as appropriate.
.Pp
As an exception to the naming mechanism, some ports have several distinct
versions in the ports tree, say
.Pa x11/qt3
and
.Pa x11/qt4 .
Instead of using the namespace
.Ev MODQT3* ,
variables will usually drop the version suffix and be simply called
.Ev MODQT_*
so that a port using the module can be switched from version to version
without needing to change everything.
.Pp
It is highly desirable to define names in both namespaces for such ports,
for example to define both
.Ev MODQT3_LIB_DEPENDS
and
.Ev MODQT_LIB_DEPENDS .
Normal client ports will use
.Ev MODQT_LIB_DEPENDS ,
but a port may exceptionally import both modules with
.Li MODULES += x11/qt3 x11/qt4
and differentiate between qt3 and qt4 needs with
.Ev MODQT3_LIB_DEPENDS
and
.Ev MODQT4_LIB_DEPENDS .
See
.Pa print/poppler
for an example.
.Sh OVERRIDING TARGET BEHAVIOR
The main framework contains several hooks that allow ports to override
normal behavior.
This evolved as an ad-hoc framework, where only hooks that turned out
to be needed were added.
If several modules define the same hook, hook behaviors will be
invoked in sequence.
.Bl -tag -width do-configure
.It Cm extract
There is a
.Cm post-extract
hook that can be activated by defining
.Ev MODFOO_post-extract .
It will be run right after
.Cm post-extract .
.It Cm patch
There is a
.Cm post-patch
hook that can be activated by defining
.Ev MODFOO_post-patch .
It will be run right after
.Cm post-patch
and before
.Ev REORDER_DEPENDENCIES
touches things.
.It Cm configure
There is a
.Cm pre-configure
hook that can be activated by defining
.Ev MODFOO_pre-configure .
It will be run right after
.Cm pre-configure .
The normal
.Cm do-configure
behavior is to invoke all
.Ev MODFOO_configure
contents that are defined in
.Ev CONFIGURE_STYLE .
By default,
.Cm configure
will do nothing.
.Pp
Some
.Ev CONFIGURE_STYLE
values, namely perl, gnu, imake, automake, autoconf, and autoupdate
will automatically import the correct module.
User-defined modules must both add to
.Ev CONFIGURE_STYLE
and import the correct module to override behavior.
.Pp
Contrary to other hooks, module behavior is not invoked in
addition to
.Cm do-configure ,
but as the normal configure process.
If
.Cm do-configure
is overridden, normal hook processing will not happen.
.It Cm fake
There is a
.Cm pre-fake
hook that can be activated by defining
.Ev MODFOO_pre-fake .
This will be invoked right after
.Xr mtree 8 ,
and before the normal
.Cm pre-fake
behavior.
.Pp
This can occasionally be used for ports that require some specific
fake installation setup that will be provided by runtime dependencies.
.It Cm install
There is a
.Cm post-install
hook that can be activated by defining
.Ev MODFOO_post-install .
This will be invoked at the end of
.Cm install ,
right after the normal
.Cm post-install
behavior.
.El
.Pp
Some targets, such as
.Cm do-build
or
.Cm do-install ,
can't be overridden simply.
A module that, for instance, requires specific
.Cm do-build
behavior should do so in two steps:
.Bl -bullet
.It
Define a variable named
.Ev MODFOO_BUILD_TARGET
that contains the commands necessary for
.Cm do-build :
.Bd -literal -offset indent
MODFOO_BUILD_TARGET = cmd1; cmd2
.Ed
.It
Override
.Cm do-build
only if it's not already defined by the port proper:
.Bd -literal -offset indent
\&.if !target(do-build)
do-build:
	@@${MODFOO_BUILD_TARGET}
\&.endif
.Ed
.El
That way, if several modules require specific actions for those targets,
the end user can choose the appropriate order in which to run the actions:
.Bd -literal -offset indent
do-build:
	@@${MODBAR_BUILD_TARGET}
	@@${MODFOO_BUILD_TARGET}
	...
.Ed
.Sh OVERRIDING VARIABLE BEHAVIOR
Some variables can be overridden by modules.
Be very cautious, as this can make the module difficult to use,
or interact badly with other modules.
As a rule, always provide the override as:
.Pp
.Dl VARIABLE ?= value
.Pp
and provide a module-specific variable with the same value:
.Pp
.Dl MODFOO_VARIABLE = value .
.Pp
The following variables can be overridden in a relatively safe fashion:
.Ev ALL_TARGET ,
.Ev CONFIGURE_SCRIPT ,
.Ev DESTDIRNAME ,
.Ev DIST_SUBDIR ,
.Ev DISTNAME ,
.Ev DISTFILES ,
.Ev EXTRACT_SUFX ,
.Ev FAKE_FLAGS ,
.Ev FETCH_MANUALLY ,
.Ev HOMEPAGE ,
.Ev IGNORE ,
.Ev IS_INTERACTIVE ,
.Ev LIBTOOL_FLAGS ,
.Ev MAKE_FILE ,
.Ev MASTER_SITES ,
.Ev MULTI_PACKAGES ,
.Ev NO_BUILD ,
.Ev NO_TEST ,
.Ev PATCH_LIST ,
.Ev PKG_ARCH ,
.Ev PKGNAME* ,
.Ev PREFIX ,
.Ev TEST_TARGET ,
.Ev TEST_IS_INTERACTIVE ,
.Ev REORDER_DEPENDENCIES ,
.Ev SEPARATE_BUILD ,
.Ev USE_GMAKE ,
.Ev USE_LIBTOOL .
.Pp
The following variables can be added to in a relatively safe fashion:
.Ev BUILD_DEPENDS ,
.Ev CATEGORIES ,
.Ev CONFIGURE_ARGS ,
.Ev CONFIGURE_ENV ,
.Ev ERRORS ,
.Ev FAKE_FLAGS ,
.Ev FLAVOR ,
.Ev FLAVORS ,
.Ev INSTALL_TARGET ,
.Ev LIB_DEPENDS ,
.Ev MAKE_ENV ,
.Ev MAKE_FLAGS ,
.Ev PKG_ARGS ,
.Ev PSEUDO_FLAVORS ,
.Ev TEST_DEPENDS ,
.Ev REORDER_DEPENDENCIES ,
.Ev RUN_DEPENDS ,
.Ev SUBST_VARS ,
.Ev WANTLIB .
.Sh SPECIFIC MODULE INTERACTIONS
Some modules correspond to extra ports that will be used mostly as
.Ev BUILD_DEPENDS
or
.Ev RUN_DEPENDS .
Such modules can safely append values directly to the
.Ev BUILD_DEPENDS ,
.Ev RUN_DEPENDS ,
.Ev LIB_DEPENDS ,
and
.Ev WANTLIB
variables, as long as they also define module-specific variables for
all runtime dependencies.
.Pp
Simple client ports will use the module directly, and thus inherit extra
build and runtime dependencies.
.Pp
More sophisticated ports can use
.Ev MULTI_PACKAGES
to select specific behavior: build-time dependencies will always be
needed.
Runtime dependencies will be selected on a subpackage basis,
since runtime dependencies such as
.Ev LIB_DEPENDS-sub
do not inherit the default
.Ev LIB_DEPENDS
value.
The client port's author must only bear in mind that external modules
may add values to the default
.Ev WANTLIB ,
.Ev LIB_DEPENDS ,
and
.Ev RUN_DEPENDS ,
and thus that it is not safe to inherit from it blindly.
.Pp
Modules are imported during
.Pp
.Dl .include <bsd.port.mk>
.Pp
Thus they can be affected by user choices such as setting a variable
to Yes or No.
Modules may make decisions based on documented
.Ev MODFOO_BEHAVIOR
values.
.Pp
When modules are processed, only a few
.Xr bsd.port.mk 5
variables are already defined.
Modules may depend upon the following variables already having a sane
value:
.Ev DISTDIR ,
.Ev LOCALBASE ,
.Ev NO_DEPENDS ,
.Ev PKGPATH ,
.Ev PORTSDIR ,
.Ev X11BASE
and all arch-dependent constants from
.Xr bsd.port.arch.mk 5 ,
such as
.Ev PROPERTIES
or
.Ev LP64_ARCHS .
Note that this is only relevant for tests.
It is perfectly okay to define variables or targets that depend on the
basic ports framework without having to care whether that variable is
already defined, since
.Xr make 1
performs lazy evaluation.
.Sh CORE MODULES DOCUMENTATION
The following modules are available.
.Bl -tag -width do-configure
.It apache-module
.It cpan
For perl ports coming from CPAN.
Wrapper around the normal perl module that fetches the file from
the correct location depending on
.Ev DISTNAME ,
and sets a default
.Ev PKGNAME .
Also affects
.Ev TEST_DEPENDS ,
.Ev CONFIGURE_STYLE ,
.Ev PKG_ARCH ,
and
.Ev CATEGORIES .
.Pp
Some CPAN modules are only indexed by author, set
.Li CPAN_AUTHOR=ID
to locate the right directory.
.Pp
If no
.Ev HOMEPAGE
is defined, it will default to
.Pa http://search.cpan.org/dist/${DISTNAME:C/-[^-]*$//}/
.Pp
User settings: set
.Ev CPAN_REPORT
to Yes,
.Ev CPAN_REPORT_DB
to a valid directory,
and
.Ev CPAN_REPORT_FROM
to a valid email address to automate the reporting
of regression tests to CPAN.
.Pp
If
.Ev MODCPAN_EXAMPLES
is set, the following variables will be set.
.Ev MODCPAN_EXAMPLES_DIST
will hold the default directory in the distfile with
example scripts.
.Ev MODCPAN_EXAMPLES_DIR
will be set to the standard installation directory for
examples.
Sets the
.Cm post-install
target if none has been defined to install the examples,
otherwise
.Ev MODCPAN_POST_INSTALL
should be used as such:
.Bd -literal
post-install:
	...
	${MODCPAN_POST_INSTALL}
.Ed
.It databases/mariadb
Adds small framework for testing ports that require running MariaDB.
Defines
.Ev MODMARIADB_TEST_TARGET
which consists actual commands to run in
.Cm do-test
target.
If this target isn't defined, it will be added automatically.
.Pp
The actual test command to be run could be specified in the
.Ev MODMARIADB_TEST_CMD .
Default is similar to what
.Xr bsd.port.mk 5
runs itself.
.Pp
The MariaDB server being started will listen on UNIX domain socket
only, minimizing impact on running system.
The path to socket is recorded in
.Ev MODMARIADB_TEST_SOCKET .
Any local user will be able to connect without password.
.Pp
If the
.Ev MODMARIADB_TEST_DBNAME
variable is set, the database with such name will be set up before
running actual test command.
Otherwise (default), the test is responsible to call
.Xr mysqladmin 1
itself, if needed.
.Pp
The
.Pa databases/mariadb,-server
will get added to
.Ev TEST_DEPENDS ,
but not to any other
.Ev *_DEPENDS .
The
.Ev MODMARIADB_CLIENT_ARGS
and
.Ev MODMARIADB_ADMIN_ARGS
variables hold arguments for
.Xr mysql 1
and
.Xr mysqladmin 1 ,
respectively; those argument lists could be used in test scripts
for connecting to test server, if they aren't satisfied by environment.
.It databases/postgresql
Adds small framework for testing ports that require running Postgres.
Defines
.Ev MODPOSTGRESQL_TEST_TARGET
which consists actual commands to run in
.Cm do-test
target.
If this target isn't defined, it will be added automatically.
.Pp
The actual test command to be run could be specified in the
.Ev MODPOSTGRESQL_TEST_CMD .
Default is similar to what
.Xr bsd.port.mk 5
runs itself.
.Pp
The Postgres server being started will listen on UNIX domain socket
only, minimizing impact on running system.
The path to directory where socket will be created is set by
.Ev MODPOSTGRESQL_TEST_PGHOST ,
defaulting to
.Pa ${WRKDIR} .
Any local user will be able to connect without password.
.Pp
If the
.Ev MODPOSTGRESQL_TEST_DBNAME
variable is set, the database with such name will be set up before
running actual test command.
Otherwise (default), the test is responsible to call
.Xr initdb 1
itself.
.Pp
The
.Pa databases/postgresql,-server
will get added to
.Ev TEST_DEPENDS ,
but not to any other
.Ev *_DEPENDS .
.It devel/cmake
Adds
.Pa devel/cmake
to
.Ev BUILD_DEPENDS
and fills up
.Ev CONFIGURE_ARGS ,
.Ev CONFIGURE_ENV
and
.Ev MAKE_ENV .
Sets up
.Cm configure
target.
If
.Ev CONFIGURE_STYLE
was not set before, sets its value to `cmake'.
Changes default value of
.Ev SEPARATE_BUILD
to `Yes' because modern CMake requires out-of-source build anyway.
Changes
.Ev REGRESS_TARGET
to `test' as this is standard for CMake projects.
Also this module have following knobs:
.Bl -tag -width Ds
.It MODCMAKE_WANTCOLOR
If set to `Yes', CMake will colorize its output.
Should not be used in ports Makefiles.
Default value is `No'.
.It MODCMAKE_VERBOSE
If set to `Yes', CMake will print details during configure and build
stages about exact command being run, etc.
Should not be used in ports Makefiles.
Default value is `Yes'.
.El
Also,
.Sq nojunk
is added to DPB_PROPERTIES because CMake's include files parser cheats
too much.
.It devel/cargo
Automates download and compilation of dependencies of a Rust project using
.Xr cargo 1 .
During
.Cm fetch ,
static dependencies ("crates") listed in
.Ev MODCARGO_CRATES
are downloaded using
.Ev MODCARGO_DIST_SUBDIR
as
.Ev DIST_SUBDIR .
During
.Cm post-extract ,
crates defined in
.Ev MODCARGO_CRATES
are moved to the
.Ev MODCARGO_VENDOR_DIR
directory.
During
.Cm post-patch ,
crate-metadata are generated using
.Pa devel/cargo-generate-vendor .
With
.Ev CONFIGURE_STYLE
set to
.Sq cargo ,
cargo is configured to use
.Ev MODCARGO_VENDOR_DIR
instead of the standard crates-io network source.
Finally, any crates listed in
.Ev MODCARGO_CRATES_UPDATE
are updated.
.Pp
.Pa lang/rust ,
.Pa devel/cargo
and
.Pa devel/cargo-generate-vendor
are added to
.Ev BUILD_DEPENDS .
By default
.Ev MASTER_SITES9
is used to download the crates.
.Pp
This module defines:
.Bl -tag -width MODCARGO_CRATES_UPDATE
.It MODCARGO_CARGOTOML
Path to cargo manifest.
Defaults to
.Pa ${WRKSRC}/Cargo.toml .
.It MODCARGO_CRATES
Crates that will be downloaded by the module.
.It MODCARGO_CRATES_UPDATE
List of crates to update, overriding the version listed in Cargo.lock.
.It MODCARGO_FEATURES
List of features to be used when building.
.It MODCARGO_VENDOR_DIR
Name of the local directory for vendoring crates.
Defaults to
.Pa ${WRKSRC}/modcargo-crates .
.El
.Pp
This module adds three
.Xr make 1
targets:
.Bl -tag -width modcargo-gen-crates-licenses
.It Cm modcargo-metadata
Rerun the generation of crates' metadata.
.It Cm modcargo-gen-crates
Generate the
.Ev MODCARGO_CRATES
list from Cargo.lock (a preliminary crates list is not required).
.It Cm modcargo-gen-crates-licenses
Generate the
.Ev MODCARGO_CRATES
list with license information from crates present in the
.Ev MODCARGO_VENDOR_DIR
directory.
.El
.It devel/dconf
Sets
.Ev CONFIGURE_ARGS ,
.Ev BUILD_DEPENDS
and
.Ev RUN_DEPENDS .
This module is used by ports installing gsettings schemas under
.Pa ${PREFIX}/share/glib-2.0/schemas/ .
It requires the following goo in the PLIST:
.Bd -literal -offset indent
@@exec %D/bin/glib-compile-schemas %D/share/glib-2.0/schemas >/dev/null
@@unexec-delete %D/bin/glib-compile-schemas %D/share/glib-2.0/schemas >/dev/null
.Ed
.It devel/gconf2
A link from
.Xr gconftool-2 1
to
.Xr true 1
will be put at the front of the
.Ev PATH .
Sets
.Ev CONFIGURE_ARGS ,
.Ev BUILD_DEPENDS
and
.Ev RUN_DEPENDS .
According to the values of
.Ev MODGCONF2_LIBDEP ,
sets
.Ev LIB_DEPENDS .
User settings: set
.Ev MODGCONF2_SCHEMAS_DIR
to the directory name under
.Pa ${LOCALBASE}/share/schemas/
where schemas files will be installed.
.It devel/gettext
.It devel/meson
Adds
.Pa devel/meson
and
.Pa devel/ninja
to
.Ev BUILD_DEPENDS .
Sets up
.Cm configure
target.
If
.Ev CONFIGURE_STYLE
was not set before, sets its value to `meson'.
Changes default value of
.Ev SEPARATE_BUILD
to `Yes' because meson requires out-of-source build.
Also this module have following knob:
.Bl -tag -width Ds
.It MODMESON_WANTCOLOR
If set to `Yes', meson will colorize its output.
Should not be used in ports Makefiles.
Default value is `No'.
.El
.It devel/pmk
Sets
.Ev CONFIGURE_SCRIPT ,
.Ev CONFIGURE_ARGS
and
.Ev MODPMK_configure .
It appends
.Pa devel/pmk
to
.Ev BUILD_DEPENDS .
.It devel/qmake
This module automates usage of qmake, independently of the actual
version of Qt being used.
This module requires that one of the
.Pa x11/qt4
or
.Pa x11/qt5
to be used as well.
.Pp
If
.Ev CONFIGURE_STYLE
was not set before, sets its value to
.Sq qmake .
If
.Ev CONFIGURE_STYLE
contains
.Sq qmake
the module will define each of the
.Ar do-build
and
.Ar do-install
targets, unless port already defines one; also,
.Ev SEPARATE_BUILD
will be set to
.Sq Yes
unless it's already set to some value.
.Pp
The following variables could be used in qmake-based ports:
.Bl -tag -width 1234
.It Ev MODQMAKE_ARGS
Additional arguments for qmake invocation.
The module already defines some.
.It Ev MODQMAKE_INSTALL_ROOT
Root directory for fake install.
Normally, it's a WRKINST, but some (broken) ports require another value,
like PREFIX.
.It Ev MODQMAKE_PROJECTS
List of qmake project files to be used, relative to WRKSRC.
Directories containing those projects could be used as well,
see qmake documentation for details.
Defaults to
.Sq \&. ,
which means the (only) project in WRKSRC directory.
.It Ev MODQMAKE_build
Actual commands that module will use to build all
.Ev MODQMAKE_PROJECTS
provided.
To be used in complicated cases, when port have to use its own
.Ar do-build
target or mix different
.Ev CONFIGURE_STYLE
values.
.It Ev MODQMAKE_install
Same as for
.Ev MODQMAKE_build ,
but used in
.Ar do-install
stage.
.El
.It devel/scons
Adds
.Pa devel/scons
to
.Ev BUILD_DEPENDS .
Sets
.Ev MODSCONS_BIN
and
.Ev MODSCONS_ENV .
Also defines an overridable
.Ev MODSCONS_FLAGS .
It provides a
.Cm do-build
and
.Cm do-install
targets that can be overridden in the port Makefile.
.It font
.It fortran
Sets
.Ev MODFORTRAN_LIB_DEPENDS ,
.Ev MODFORTRAN_WANTLIB ,
.Ev MODFORTRAN_BUILD_DEPENDS .
Set
.Ev MODFORTRAN_COMPILER
to `g77' or `gfortran', depending on what the port requires.
The default is `g77'.
The dependencies are chosen according to
.Ev MODFORTRAN_COMPILER .
.It gcc4
If
.Ev COMPILER_VERSION
is not gcc4 (defined by
.Pa /usr/share/mk/bsd.own.mk ) ,
and architecture is in
.Ev MODGCC4_ARCHS ,
then the gcc4 compilers will be put at the front of the path.
By default, only C language support is included by this module.
If other languages are needed, they must be listed in
.Ev MODGCC4_LANGS
(e.g. c++, fortran).
The
.Ev MODGCC4_VERSION
variable can be used to change the version of gcc.
By default gcc 4.9 is used.
If
.Ev MODGCC4_LANGS
contains c++, this module provides
.Ev MODGCC4_CPPLIBDEP
and
.Ev MODGCC4_CPPWANTLIB .
.It gnu
This module is documented in the main
.Xr bsd.port.mk 5
manpage.
.It imake
This module is documented in the main
.Xr bsd.port.mk 5
manpage.
.It java
Set
.Li MODJAVA_VER=x.y
to use exactly the JDK x.y,
.Li MODJAVA_VER=x.y+
to use any x.y or higher version.
Set
.Li MODJAVA_JRERUN=Yes
if the port only needs the JRE at runtime.
The module sets
.Ev JAVA_HOME ,
.Ev ONLY_FOR_ARCHS ,
.Ev MODJAVA_RUN_DEPENDS ,
.Ev MODJAVA_SHARE_DIR ,
.Ev MODJAVA_JAR_DIR ,
.Ev MODJAVA_EXAMPLE_DIR
and
.Ev MODJAVA_DOC_DIR .
It appends to
.Ev BUILD_DEPENDS ,
.Ev RUN_DEPENDS ,
.Ev CATEGORIES
and
.Ev SUBST_VARS .
If
.Li MODJAVA_BUILD=ant
then this module provides
.Ev MODJAVA_BUILD_DIR ,
.Ev MODJAVA_BUILD_FILE
and
.Ev MODJAVA_BUILD_TARGET_NAME ,
as well as a
.Cm do-build
target (if not already defined).
It heeds
.Ev NO_BUILD .
.It lang/clang
Similar to gcc3 and gcc4 modules.
If architecture is in MODCLANG_ARCHS, the CLang compilers will be
put at the front of the path.
By default, only C language support is included by this module.
If other languages are needed, they must be listed in
.Ev MODCLANG_LANGS
(e.g. c++).
Sets
.Ev MODCLANG_VERSION
which is also appended to
.Ev SUBST_VARS .
.It lang/erlang
.It lang/ghc
Sets
.Ev ONLY_FOR_ARCHS ,
.Ev MODGHC_VER ,
.Ev BUILD_DEPENDS ,
and
.Ev RUN_DEPENDS .
Build and further actions are based on the list of values in
.Ev MODGHC_BUILD :
.Bl -tag -width register
.It Ar nort
no runtime dependency on
.Pa lang/ghc
nor the hs- prefix to
.Ev PKGNAME
will be added,
.It Ar cabal
get the typical Cabal targets defined,
.It Ar haddock
generate API documentation using
.Pa devel/haddock ,
.It Ar register
create and include register/unregister scripts,
.It Ar hackage
the distfiles are available on Hackage.
.El
.Pp
Also affects
.Ev CATEGORIES ,
.Ev CONFIGURE_STYLE
and
.Ev SUBST_VARS .
.Cm do-build ,
.Cm do-install
and
.Cm do-test
targets are provided if the port itself didn't set them.
If
.Ar register
has been set, the PLIST needs to be modified in order to
add the relevant @@exec/@@unexec lines.
This module will run the Setup script and ensure the documentation
will be built (if
.Ar haddock
has been set), and that the package is
registered as a library usable by
.Pa lang/ghc
(if
.Ar register
has been set).
Extra arguments and environment additions for the Setup configure
command can be specified with
.Ev MODGHC_SETUP_CONF_ARGS
and
.Ev MODGHC_SETUP_CONF_ENV .
.It lang/go
Adds Go toolchain support.
Requires
.Ev ALL_TARGET
to be set to canonical Go import path of port.
(Module sets it automatically for ports that use
.Ev GH_ACCOUNT
and
.Ev GH_PROJECT
macros.)
.Pp
During execution of
.Cm post-patch
target module moves source code from
.Pa ${MODGO_SUBDIR}
to
.Pa ${WRKSRC} ,
subdirectory of
.Pa ${MODGO_WORKSPACE}
- specially-crafted Go workspace located at
.Pa ${WRKDIR}/go .
During
.Cm do-build
module calls
.Dq go install
with
.Ev GOPATH
set to
.Pa ${MODGO_WORKSPACE} ,
runs its output through sed to prevent writes outside
.Ev WRKDIR
sandbox and sends output to
.Xr sh 1 .
During
.Cm do-install
it copies executables from
.Pa ${MODGO_WORKSPACE}/bin
to
.Pa ${PREFIX}/bin ,
and/or directories
.Pa ${MODGO_WORKSPACE}/pkg
and
.Pa ${MODGO_WORKSPACE}/src
to
.Pa ${PREFIX}/go ,
depending on
.Ev MODGO_TYPE
contents.
.Pp
Sets
.Ev BUILD_DEPENDS ,
.Ev RUN_DEPENDS ,
.Ev ALL_TARGET ,
.Ev TEST_TARGET ,
.Ev ONLY_FOR_ARCHS ,
.Ev SEPARATE_BUILD ,
and
.Ev WRKSRC .
.Pp
Appends to
.Ev CATEGORIES .
.Pp
Defines:
.Bl -tag -width MODGO_WORKSPACE
.It Ev MODGO_TYPE
Type of port.
May be any combination of:
.Bl -tag -width lib
.It bin
ordinary binary, which should be installed to
.Pa ${PREFIX}/bin ,
.It lib
library, which should come with source code.
.El
.Pp
Defaults to
.Ar bin .
.It Ev MODGO_WORKSPACE
Path to Go workspace set up for port build process.
Defaults to
.Pa ${WRKDIR}/go .
See Go documentation for details.
.It Ev MODGO_SUBDIR
Path to Go source code within port's sources tarball.
Defaults to
.Pa ${WRKDIST} .
.It Ev MODGO_SETUP_WORKSPACE
Commands setting up Go workspace for building ports.
By default, happens during execution of
.Cm post-patch
target.
.It Ev MODGO_BUILDDEP
Controls whether contents of
.Ev MODGO_BUILD_DEPENDS
are appended to port's
.Ev BUILD_DEPENDS .
Defaults to
.Ar Yes .
.El
.Pp
Additionally defines
.Ev MODGO_PACKAGES ,
.Ev MODGO_SOURCES
and
.Ev MODGO_TOOLS
(paths for installed Go packages, sources and tools respectively),
.Ev MODGO_CMD
and
.Ev MODGO_FLAGS
(source code build command and flags passed as its arguments),
.Ev MODGO_LDFLAGS ,
.Ev MODGO_BUILD_CMD
and
.Ev MODGO_TEST_CMD
(commands for building and testing go packages; normally called with canonical
Go package names as arguments),
.Ev MODGO_{BUILD,INSTALL,TEST}_TARGET
and
.Ev MODGO_{BUILD,RUN}_DEPENDS .
.It lang/lua
Sets
.Ev MODLUA_BIN ,
.Ev MODLUA_DATADIR ,
.Ev MODLUA_DEP ,
.Ev MODLUA_DEP_VERSION ,
.Ev MODLUA_DOCDIR ,
.Ev MODLUA_EXAMPLEDIR ,
.Ev MODLUA_INCL_DIR ,
.Ev MODLUA_LIB ,
.Ev MODLUA_LIBDIR ,
.Ev MODLUA_VERSION ,
.Ev MODLUA_WANTLIB .
Appends to
.Ev CATEGORIES .
Also appends to
.Ev BUILD_DEPENDS ,
unless
.Ev NO_BUILD
has been set to Yes.
Also appends to
.Ev RUN_DEPENDS ,
unless
.Ev MODLUA_RUNDEP
is set to No.
Appends
.Ev MODLUA_VERSION ,
.Ev MODLUA_LIB ,
.Ev MODLUA_INCL_DIR ,
.Ev MODLUA_EXAMPLEDIR ,
.Ev MODLUA_DOCDIR ,
.Ev MODLUA_LIBDIR ,
.Ev MODLUA_DATADIR ,
.Ev MODLUA_DEP ,
.Ev MODLUA_DEP_VERSION ,
.Ev MODLUA_BIN
to
.Ev SUBST_VARS .
.Ev MODLUA_DEFAULT_VERSION
is set to 5.1.
.Ev MODLUA_VERSION is set to
.Ev MODLUA_DEFAULT_VERSION
by default.
Ports can be built with several lua versions.
If no FLAVOR is set it defaults to MODLUA_DEFAULT_VERSION.
Otherwise the FULLPKGNAME is adjusted, if MODLUA_SA is not set.
In order to set a build, run or test dependency on a lua port,
use the following, which will propagate the currently used flavor:
.Ev MODLUA_BUILD_DEPENDS ,
.Ev MODLUA_TEST_DEPENDS ,
.Ev MODLUA_RUN_DEPENDS .
.It lang/mono
Sets
.Ev MODMONO_ONLY_FOR_ARCHS ,
.Ev CONFIGURE_ENV ,
.Ev MAKE_FLAGS ,
.Ev MODMONO_BUILD_DEPENDS
and
.Ev MODMONO_RUN_DEPENDS .
If
.Ev MODMONO_DEPS
is set to Yes,
.Pa lang/mono
is appended to
.Ev BUILD_DEPENDS
and
.Ev RUN_DEPENDS .
If
.Ev MODMONO_NANT
is set to Yes,
.Ev NANT
and
.Ev NANT_FLAGS
are set,
.Pa devel/nant
is appended to
.Ev BUILD_DEPENDS
and a
.Cm do-build
and
.Cm do-install
targets are provided to use nant for building.
If these targets are already defined, one can use
.Ev MODMONO_BUILD_TARGET
and
.Ev MODMONO_INSTALL_TARGET
instead in the corresponding target.
.Ev DLLMAP_FILES
defines in which files the module will substitute hardcoded
shared library versions using a
.Cm post-configure
target.
.It lang/node
Adds common dependencies to
.Ev RUN_DEPENDS
and
.Ev BUILD_DEPENDS .
Recognizes two additional types of
.Ev CONFIGURE_STYLE Ns s ,
"npm" and "npm ext".
"npm ext" should be used for npm packages that contain C++ extensions which
need to be compiled.
"npm" should be used for other npm packages.
If regression tests are included that can be run using
.Pa devel/node-expresso ,
append "expresso" to
.Ev CONFIGURE_STYLE .
.Pa devel/node-expresso
will be appended to
.Ev TEST_DEPENDS
and a default
.Ev MODNODE_TEST_TARGET
will be defined, along with a
.Cm do-test
target if it has not already been set.
If "expresso" isn't appended to
.Ev CONFIGURE_STYLE ,
.Ev TEST_TARGET
will be set to "test".
One of these two
.Ev CONFIGURE_STYLE Ns s
should be used or the module doesn't affect anything except
.Ev RUN_DEPENDS
and
.Ev BUILD_DEPENDS .
Requires
.Ev NPM_NAME
to be set to the name of the npm package.
Uses
.Ev NPM_NAME
and
.Ev NPM_VERSION
to set
.Ev DISTNAME ,
and
.Ev PKGNAME ,
and
.Ev MASTER_SITES .
If the npm package depends on other npm packages, the npm package names it
depends on should be listed in
.Ev MODNODE_DEPENDS .
Adds default
.Cm do_build
and
.Cm do_install
tasks, and you can reference the default implementations via
.Ev MODNODE_BUILD_TARGET
and
.Ev MODNODE_INSTALL_TARGET .
.It lang/ocaml
Appends to
.Ev BUILD_DEPENDS
and
.Ev MAKE_ENV .
This selects a %%native%% plist fragment and
.Ev ocaml_native
property depending on whether the architecture supports native
compilation.
If dynamic linking is supported on the native architecture,
the %%dynlink%% plist fragment and
.Ev ocaml_native_dynlink
property is set.
When
.Ev CONFIGURE_STYLE
is set to `oasis',
overrides for the
.Cm do-build ,
.Cm do-install ,
and
.Cm do-test
targets are added.
.It lang/php/pecl
Used for ports for PHP PECL extensions.
Sets default
.Ev MASTER_SITES ,
.Ev HOMEPAGE ,
.Ev EXTRACT_SUFX ,
.Ev DESTDIRNAME ,
.Ev MODPHP_DO_SAMPLE ,
.Ev MODPHP_DO_PHPIZE ,
.Ev AUTOCONF_VERSION ,
.Ev AUTOMAKE_VERSION ,
.Ev LIBTOOL_FLAGS .
Provides a default
.Ev TEST_TARGET
and
.Ev TEST_FLAGS
unless
.Ev NO_TEST
or a
.Cm do-test
target is defined.
Adds common dependencies to
.Ev RUN_DEPENDS
and
.Ev BUILD_DEPENDS .
Sets a default
.Ev PKGNAME
and appends to
.Ev CATEGORIES .
.It lang/python
Sets
.Ev MODPY_VERSION ,
.Ev MODPY_BIN ,
.Ev MODPY_INCDIR ,
.Ev MODPY_LIBDIR ,
.Ev MODPY_SITEPKG ,
.Ev MODPY_SETUP ,
.Ev MODPY_WANTLIB ,
.Ev MODPY_LIB_DEPENDS ,
.Ev MODPY_RUN_DEPENDS ,
.Ev MODPY_BUILD_DEPENDS
and
.Ev MODPY_ADJ_FILES .
Appends to
.Ev RUN_DEPENDS
unless
.Ev MODPY_RUNDEP
is set to No.
Appends to
.Ev BUILD_DEPENDS
unless
.Ev MODPY_BUILDDEP
is set to No or
.Ev NO_BUILD
is set to Yes.
.Ev MODPY_VERSION
is the default version used by all python modules.
Ports which use the setuptools module should set
.Ev MODPY_SETUPTOOLS
to Yes.
All ports that generate egg-info files should set
.Ev MODPY_EGG_VERSION
to the version string used by the port's setup.py setup() function.
Arguments can be passed to setup.py during
.Cm configure
with
.Ev MODPY_SETUP_ARGS .
Extra arguments to the build and install commands can be passed via
.Ev MODPY_DISTUTILS_BUILDARGS
and
.Ev MODPY_DISTUTILS_INSTALLARGS .
If any files have a python shebang line which needs to be replaced
using MODPY_BIN, list them in
.Ev MODPY_ADJ_FILES .
These are prefixed with WRKSRC and replaced automatically
at the end of
.Cm pre-configure .
Also affects
.Ev CATEGORIES ,
.Ev MAKE_ENV ,
.Ev CONFIGURE_ENV ,
and
.Ev SUBST_VARS .
May affect the
.Cm test
target.
If
.Ev MODPY_PI
is set to Yes it will set
.Ev HOMEPAGE
and
.Ev MASTER_SITES .
The subdirectory can be overridden with
.Ev MODPY_PI_DIR .
.Pp
Python 2.x places .pyc files in the same directory as the associated .py file.
Python 3.x places these in a separate __pycache__ directory and uses an
additional suffix.
In some cases, an ABI tag is also used for names of compiled extensions.
The python module defines variables to allow a single PLIST to be
used for both versions.
Generate or update the PLIST using the python3
.Ev FLAVOR ,
then edit it to prefix any lines creating
.Ev MODPY_PYCACHE
directories with
.Ev MODPY_COMMENT .
As python2 and python3 packages should permit being installed together,
it may be necessary to suffix names of common binaries or directories,
or split common files into a subpackage.
If updating the PLIST without using the python3 flavor,
take care not to remove ${MODPY_PYCACHE}, ${MODPY_PYC_MAGIC_TAG}, or
${MODPY_ABI_TAG} variables from the PLIST.
.It lang/ruby
See
.Xr ruby-module 5 .
.It lang/tcl
Sets
.Ev MODTCL_VERSION ,
.Ev MODTCL_BIN ,
.Ev MODTCL_INCDIR ,
.Ev MODTCL_LIBDIR ,
.Ev MODTCL_BUILD_DEPENDS ,
.Ev MODTCL_RUN_DEPENDS ,
.Ev MODTCL_LIB ,
.Ev MODTCL_LIB_DEPENDS ,
and
.Ev MODTCL_CONFIG .
.Ev MODTCL_VERSION
is the default version used by all Tcl ports and may be overridden.
Provides
.Ev MODTCL_TCLSH_ADJ
and
.Ev MODTCL_WISH_ADJ
shell fragments to patch the interpreter path in executable scripts.
Also affects
.Ev CATEGORIES
and
.Ev SUBST_VARS .
.It perl
This module is documented in the main
.Xr bsd.port.mk 5
manpage.
.It security/heimdal
A link from ${LOCALBASE}/heimdal/bin/krb5-config
to
.Xr krb5-config 1
will be put at the front of the path.
Sets
.Ev LIB_DEPENDS
and
.Ev WANTLIB
according to the values of
.Ev MODHEIMDAL_LIB_DEPENDS ,
and
.Ev MODHEIMDAL_WANTLIB .
.It textproc/intltool
Sets
.Ev MODINTLTOOL_OVERRIDE .
.Pa textproc/intltool
is added to
.Ev BUILD_DEPENDS .
.Ev MODINTLTOOL_OVERRIDE
changes the paths of
.Ev INTLTOOL_EXTRACT ,
.Ev INTLTOOL_MERGE
and
.Ev INTLTOOL_UPDATE
to use the installed versions of intltool-extract,
intltool-merge and intltool-update, instead of the version's packages into the
distfile of the port using this module.
Also affects
.Ev CONFIGURE_ENV ,
.Ev MAKE_ENV
and
.Ev MAKE_FLAGS
by appending
.Ev MODINTLTOOL_OVERRIDE
to them.
.It www/drupal6
This module is legacy.
drupal6 is still supported, but new work should mostly happen in drupal7 land.
.It www/drupal7
Can be used to install plugins (default), themes if
.Ev MODDRUPAL_THEME
is yes, or languages packs if
.Ev DRUPAL_LANG
is set to the desired language.
.Pp
The module will set or add to default values for
.Ev HOMEPAGE ,
.Ev MASTER_SITES ,
.Ev PREFIX ,
.Ev DIST_SUBDIR ,
.Ev CATEGORIES ,
.Ev PKG_ARCH ,
.Ev WRKDIST ,
.Ev RUN_DEPENDS .
Drupal modules normally don't have any build part, just an installation part
that defaults to copying the plugin/theme/language files into the right
location through
.Ev MODDRUPAL_INSTALL .
.Pp
The module sets
.Ev DRUPAL
to drupal7,
.Ev DRUPAL_ROOT
to htdocs/${DRUPAL}
.Ev DRUPAL_MODS
to ${DRUPAL_ROOT}/site/all/modules
.Ev DRUPAL_THEMES
to ${DRUPAL_ROOT}/site/all/themes
and
.Ev DRUPAL_TRANSLATIONS
to ${DRUPAL_ROOT}/profiles/standard/translations.
So, by default, modules and themes are installed for all sites,
and translations are activated at install.
.Pp
.Ev DRUPAL_OWNER , DRUPAL_GROUP
are set to root, daemon, since drupal doesn't need to write
to any file except the files/ directory and the site settings (those
belong to www instead).
.Pp
Translations are handled by setting
.Ev DRUPAL_LANG
to the language letter code, and by setting
.Ev LANGFILES
to a list of module names/version pairs.
.Pp
With drupal7, all translations have been put in separate .po files.
It has been deemed simplest to pack all translations for a given language
into a single package, since translations for non installed modules won't
affect anything.
.It www/horde
.It www/mozilla
Sets
.Ev PKGNAME ,
.Ev HOMEPAGE ,
.Ev MASTER_SITES ,
.Ev DISTNAME ,
.Ev USE_GMAKE ,
and
.Ev ONLY_FOR_ARCHS .
.Ev EXTRACT_SUFX
defaults to .tar.bz2.
.Pp
Adds common dependencies to
.Ev LIB_DEPENDS ,
.Ev WANTLIB ,
.Ev RUN_DEPENDS
and
.Ev BUILD_DEPENDS .
Sets common
.Ev CONFIGURE_ARGS ,
.Ev MAKE_ENV
and
.Ev CONFIGURE_ENV .
Sets
.Ev MOB
variable as source directory
and
.Ev MOZ
as target directory within
.Cm do-install .
.Pp
Individual port Makefile must set
.Ev MOZILLA_PROJECT ,
.Ev MOZILLA_CODENAME ,
.Ev MOZILLA_VERSION ,
.Ev MOZILLA_BRANCH ,
.Ev MOZILLA_LIBS
and
.Ev MOZILLA_DATADIRS
variables.
Port can also append values to
.Ev MOZILLA_SUBST_FILES
which contains the list of
files to run
.Ev SUBST_CMD
on during
.Cm pre-configure ,
and
.Ev MOZILLA_AUTOCONF_DIRS
which
contains the list of dirs where
.Ev AUTOCONF
will be run during
.Cm pre-configure .
.It www/pear
Used for PHP PEAR ports.
Sets default
.Ev MASTER_SITES ,
.Ev EXTRACT_SUFX ,
.Ev PKGNAME .
Sets
.Ev PREFIX
to
.Pa /var/www .
Sets
.Ev NO_TEST
unless a
.Cm do-test
target is defined.
Adds common dependencies to
.Ev RUN_DEPENDS
and
.Ev BUILD_DEPENDS ,
sets
.Ev MAKE_FILE
and
.Ev FAKE_FLAGS
appropriately.
Makes
.Ev PEAR_LIBDIR
and
.Ev PEAR_PHPBIN
available for use in the port.
Sets a default
.Ev PKGNAME
and appends to
.Ev CATEGORIES .
.It www/plone
Sets
.Ev MODPLONE_VERSION
and
.Ev MODZOPE_VERSION .
.Ev MODPLONE_VERSION
is the default version used by all Plone ports and may be overridden.
It appends
.Pa www/plone
to
.Ev RUN_DEPENDS
and also sets
.Ev NO_TEST
to Yes.
.It www/zope
.It x11/gnome
This module has full support for the
.Ar gnu ,
.Ar simple
and
.Ar cmake
CONFIGURE_STYLE.
.Pp
If both
.Ev GNOME_PROJECT
and
.Ev GNOME_VERSION
are set, this module defines
.Ev DISTNAME ,
.Ev VERSION ,
.Ev MASTER_SITES ,
adds x11/gnome to
.Ev CATEGORIES
and
.Ev EXTRACT_SUFX
will default to .tar.xz if unset.
Unless
.Li NO_BUILD=Yes ,
.Pa textproc/intltool
is also appended to
.Ev MODULES
and when CONFIGURE_STYLE is set to
.Ar gnu
or
.Ar simple ,
.Ev USE_GMAKE
is set to "Yes".
.Pp
When CONFIGURE_STYLE is set to
.Ar gnu
or
.Ar simple ,
if none of
.Ev AUTOCONF_VERSION
nor
.Ev AUTOMAKE_VERSION
are defined, then "--disable-maintainer-mode" is appended to
.Ev CONFIGURE_ARGS .
When CONFIGURE_STYLE is set to
.Ar cmake ,
"-DENABLE_MAINTAINER_MODE=OFF" and -DSYSCONF_INSTALL_DIR=${SYSCONFDIR}
are appended to CONFIGURE_ARGS.
.Pp
MODGNOME_CPPFLAGS and MODGNOME_LDFLAGS can be used to add compiler and linker
flags.
.Li CPPFLAGS="-I${LOCALBASE}/include"
and
.Li LDFLAGS="-L${LOCALBASE}/lib"
are always appended to
.Ev CONFIGURE_ENV .
.Pp
Certain build/run dependencies and configure arguments and environment
can be set by appending desktop-file-utils, docbook, gobject-introspection,
gtk-update-icon-cache, shared-mime-info, vala and/or yelp to
.Ev MODGNOME_TOOLS .
They are disabled otherwise.
If
.Ev MODGNOME_TOOLS
is set to desktop-file-utils,
a dependency on
.Pa devel/desktop-file-utils
is appended to
.Ev MODGNOME_RUN_DEPENDS
and a link to /usr/bin/true is created under
.Pa ${WRKDIR}/bin/desktop-file-validate .
If
.Ev MODGNOME_TOOLS
is set to docbook,
.Pa textproc/docbook-xsl
is appended to
.Ev MODGNOME_BUILD_DEPENDS .
This option is used when the generation of the man pages included in the
source tarball requires docbook XML/SGML/XSL definitions and stylesheets.
If
.Ev MODGNOME_TOOLS
is set to gtk-update-icon-cache, a dependency on
.Pa x11/gtk+3,-guic
is appended to
.Ev MODGNOME_RUN_DEPENDS .
If
.Ev MODGNOME_TOOLS
is set to shared-mime-info, a dependency on
.Pa misc/shared-mime-info
is appended to
.Ev MODGNOME_RUN_DEPENDS
and a link to /usr/bin/true is created under
.Pa ${WRKDIR}/bin/update-mime-database .
If
.Ev MODGNOME_TOOLS
is set to yelp,
.Pa textproc/itstool
and
.Pa x11/gnome/doc-utils
are appended to
.Ev MODGNOME_BUILD_DEPENDS .
Furthermore,
.Pa x11/gnome/yelp
is appended to
.Ev MODGNOME_RUN_DEPENDS
if
.Ev MODGNOME_TOOLS
also contains "desktop-file-utils"
This option is to be used when any files are installed into
.Pa share/gnome/help/
or page files are installed into
.Pa share/help/ .
.Ev MODGNOME_BUILD_DEPENDS
and
.Ev MODGNOME_RUN_DEPENDS
are appended to the
corresponding
.Ev BUILD_DEPENDS
and
.Ev RUN_DEPENDS .
.Pp
Some tools require the following goo in the PLIST:
.Pp
.Ar desktop-file-utils
.Bd -literal -offset indent
@@exec %D/bin/update-desktop-database
@@unexec-delete %D/bin/update-desktop-database
.Ed
.Pp
.Ar gtk-update-icon-cache
($icon-theme is the theme directory)
.Bd -literal -offset indent
@@exec %D/bin/gtk-update-icon-cache -q -t %D/share/icons/$icon-theme
@@unexec-delete %D/bin/gtk-update-icon-cache -q -t %D/share/icons/$icon-theme
.Ed
.Pp
.Ar shared-mime-info
.Bd -literal -offset indent
@@exec %D/bin/update-mime-database %D/share/mime
@@unexec-delete %D/bin/update-mime-database %D/share/mime
.Ed
.It x11/gnustep
.It x11/kde
.It x11/kde4
Required for building KDE4-enabled ports.
Main variables are: MODKDE4_USE,
MODKDE4_VERSION, MODKDE4_DEP_DIR, MODKDE4_DEP_VERSION, MODKDE4_FLAVOR.
It's used both for KDE4 SC itself and for software built on top of it,
e.g., Digikam.
This module supports several KDE4 trees at the same time, see below.
The following variables are designed to be used in both types of ports:
.Bl -tag -width KDE4LIB
.It Ev MODKDE4_USE
Defines the core components of KDE4 to be used by the port.
Could have zero or more of the following values, in any order:
.Sq libs ,
.Sq runtime ,
.Sq pim ,
.Sq games ,
.Sq workspace .
Could be forced to be empty, this will mean no automated dependencies.
If
.Sq libs
is specified, no dependencies on runtime (kde-runtime or kdepim-runtime)
will be recorded.
The
.Sq workspace
component implies
.Sq runtime .
The
.Sq games
component is to be used by games and affects default HOMEPAGE, too.
If neither
.Sq libs
or
.Sq runtime
are specified, the
.Sq runtime
is implied.
If both
.Sq libs
and
.Sq runtime
are specified, then
.Sq runtime
takes precedence (actually, it's a libs+ anyway).
The
.Sq pim libs
combination adds dependencies on both kdelibs and kdepimlibs,
and
.Sq pim runtime (
or just
.Sq pim )
also adds dependencies on both kde-runtime and kdepim-runtime.
Defaults to
.Sq libs
when
.Ev MODKDE4_RESOURCES
is set to
.Sq Yes ,
and
.Sq runtime
otherwise.
.It Ev MODKDE4_DEP_DIR
Expands to
.Sq x11/kdeVERSION
where version depends on current
.Ev MODKDE4_VERSION ,
see below.
Read-only.
.It Ev MODKDE4_DEP_VERSION
Expands to a string to be used in dependency lines, see
examples in
.Pa x11/kde4/*
ports.
Read-only.
.It Ev MODKDE4_RESOURCES
Should be set to
.Sq Yes
for ports that only provide non-executable stuff like icons,
localization files and so on.
Affects
.Ev FLAVORS ,
.Ev MODKDE4_NO_QT ,
.Ev MODKDE4_USE ,
.Ev MODULES ,
.Ev PKG_ARCH
and
.Ev SUBST_VARS
variables.
Defaults to
.Sq \&No .
.It Ev MODKDE4_INCLUDE_DIR
Path where KDE4 headers to be placed/searched for, relative to
.Ev PREFIX .
Read-only.
.It Ev MODKDE4_LIB_DIR
Path where KDE4 headers to be placed/searched for, relative to
.Ev PREFIX .
Read-only.
.It Ev KDE4LIB
Shorter synonym for
.Ev MODKDE4_LIB_DIR ,
to be used in plists and
.Ev WANTLIB
declarations.
Read-only.
.It Ev MODKDE4_FIX_GETTEXT
If set to
.Sq Yes ,
adds an additional step before building port that
searches for KDE-specific calls of GETTEXT_PROCESS_PO_FILES()
CMake command and tweaks them to be compatible with the one from
FindGettext.cmake module provided by CMake itself.
Defaults to
.Sq Yes .
.It Ev MODKDE4_SYSCONF_FILES
Some KDE ports install files under
.Pa ${SYSCONFDIR} .
We want to have them under
.Ev ${PREFIX}/share/examples
or such, and just be @@sample'd under
.Pa ${SYSCONFDIR} .
So add
.Sq file/dir destination
pairs to this variable, and appropriate @@sample lines to packing list, e.g.:
.Bd -literal -offset indent
# in Makefile:
MODKDE4_SYSCONF_FILES = dbus-1      share/examples

# in PLIST:
share/examples/dbus-1/system.d/org.kde.baloo.filewatch.conf
@@sample ${SYSCONFDIR}/dbus-1/system.d/org.kde.baloo.filewatch.conf
.Ed
.El
.Pp
The following variables are mostly used only inside KDE4 SC:
.Bl -tag -width KDE4LIB
.It MODKDE4_LIB_LINKS
If set to
.Sq Yes ,
soft links for shared libraries in
.Pa ${PREFIX}/lib
to
.Pa ${MODKDE4_LIB_DIR}
will be created.
Used to distinguish libraries from different KDE versions (3, 4...).
Defaults to
.Sq \&No .
.It KDE4_ONLY
If set to
.Sq Yes ,
sets the
.Xr dpb 1
tag to
.Sq kde4 .
Defaults to
.Sq \&No
when
.Ev MODKDE4_USE
is empty, and to
.Sq Yes
otherwise.
.El
.Pp
The following variables are likely to be used only outside KDE4 SC:
.Bl -tag -width KDE4LIB
.It MODKDE4_NO_QT
If set to
.Sq Yes ,
avoids automatic addition of x11/qt4 to
.Ev MODULES .
.El
.Pp
The x11/kde4 module supports co-existence of different KDE4 SC version
ports subtrees.
There always is a so-called stable tree in
.Pa ${PORTSDIR}/x11/kde4
and additional trees are placed in
.Pa ${PORTSDIR}/x11/kdeXYZ ,
where
.Sq XYZ
correspond to the
.Sq X.Y.Z
KDE version.
So, say, KDE 4.12.4 tree should be placed in
.Pa ${PORTSDIR}/x11/kde4124
directory.
The process of preparing a new KDE SC version subtree is automated,
just use kde-release-helper script:
.Bd -literal -offset indent
cd ${PORTSDIR}/x11/kde4
\&./kde-release-helper prepare 4.12.4
.Ed
This will copy the x11/kde4 subtree to x11/kde4124 and strip it:
remove
.Ev REVISION
marks, remove distinfo files and so on.
.Pp
To access the new version then you'll need to add appropriate
values at the top of x11/kde4 module file itself.
Then you be able to use automatically created
.Sq kdeXYZ
.Ev FLAVOR
to reference corresponding KDE4 SC version outside x11/kde4*.
.Pp
The x11/kde4 module sets the following variables unless they're already
set by a port:
.Ev CONFIGURE_STYLE ,
.Ev EXTRACT_SUFX ,
.Ev ONLY_FOR_ARCHS ,
.Ev PORTHOME ,
and
.Ev SEPARATE_BUILD .
.Pp
The x11/kde4 module modifies the following variables if needed:
.Ev BUILD_DEPENDS ,
.Ev CONFIGURE_ARGS ,
.Ev CONFIGURE_ENV ,
.Ev LIB_DEPENDS ,
.Ev RUN_DEPENDS ,
and
.Ev WANTLIB .
.Pp
The x11/kde4 module automatically adds devel/cmake to
.Ev MODULES
unless
.Ev NO_BUILD
is set to
.Sq Yes .
The x11/kde4 module automatically adds x11/qt4 to
.Ev MODULES
unless
.Ev MODKDE4_NO_QT
is set to
.Sq Yes .
The x11/kde4 module automatically adds gcc4 to
.Ev MODULES
unless
.Ev MODKDE4_RESOURCES
is set to
.Sq Yes .
.It x11/qt3, x11/qt4 and x11/qt5
All qt* modules share a common
.Ev MODQT_*
namespace for simple ports.
The qt3 module also defines the same variables under
.Ev MODQT3_* ,
the qt4 module also defines the same variables under
.Ev MODQT4_*
and the qt5 module also defines the same variables under
.Ev MODQT5_* ,
to allow ports to use both modules, such as
.Pa print/poppler .
.Pp
Those modules define
.Ev MODQT*_LIBDIR
as the libraries location,
.Ev MODQT*_INCDIR
as the include files location,
.Ev MODQT*_QTDIR
as the global qt directory location,
.Ev MODQT*_CONFIGURE_ARGS
as standard GNU configure-style parameters to locate the include and libraries.
.Pp
The location of qt specific tools
.Nm lrelease ,
.Nm moc ,
.Nm qmake
and
.Nm uic
is available through
.Ev MODQT*_LRELEASE ,
.Ev MODQT*_MOC ,
.Ev MODQT*_QMAKE
and
.Ev MODQT*_UIC .
.Ev MODQT*_OVERRIDE_UIC
controls whether the default setup will force a value of
.Ev UIC
or not.
The value of
.Ev MOC
is always forced to ${MODQT*_MOC}.
.Pp
In most cases the
.Pa devel/qmake
module should be used instead of using
.Ev MODQT*_QMAKE
directly.
.Pp
qt4 includes
.Xr pkg-config 1
files under a specific location recorded in
.Ev MODQT_PKG_CONFIG_PATH .
qt3 requires the use of
.Ev MODQT3_PLUGINS
to correctly locate plugins.
.Pp
The modules add to
.Ev CONFIGURE_ENV , MAKE_ENV
and
.Ev MAKE_FLAGS .
They define appropriate
.Ev MODQT*_LIB_DEPENDS
and
.Ev MODQT*_WANTLIB .
Note that qt4 has split its code over several libraries, so the basic
.Ev WANTLIB
only refers to QtCore.
Other libraries should be added as needed.
The qt5 module doesn't set
.Ev MODQT*_WANTLIB
at all.
.It x11/tk
Sets
.Ev MODTK_VERSION ,
.Ev MODTK_BIN ,
.Ev MODTK_INCDIR ,
.Ev MODTK_LIBDIR ,
.Ev MODTK_BUILD_DEPENDS ,
.Ev MODTK_RUN_DEPENDS ,
.Ev MODTK_LIB ,
.Ev MODTK_LIB_DEPENDS ,
and
.Ev MODTK_CONFIG .
.Ev MODTK_VERSION
is the default version used by all Tk ports and
may be overridden.
Automatically adds the
.Pa lang/tcl
module, provides a default
.Ev MODTCL_VERSION
to match
.Ev MODTK_VERSION ,
and affects
.Ev CATEGORIES
and
.Ev SUBST_VARS .
Note the
.Ev MODTCL_WISH_ADJ
shell fragment in the
.Pa lang/tcl
module.
.It x11/xfce4
Sets
.Ev DIST_SUBDIR ,
.Ev EXTRACT_SUFX ,
.Ev CONFIGURE_STYLE ,
.Ev CONFIGURE_ENV
and
.Ev USE_GMAKE .
If
.Ev MODXFCE_ICON_CACHE
is set to yes, it adds
.Pa x11/gtk+3,-guic
to
.Ev RUN_DEPENDS .
Unless
.Ev XFCE_NO_SRC
is set,
.Pa devel/gettext
and
.Pa textproc/intltool
are added to
.Ev MODULES .
Also affects
.Ev CATEGORIES .
.Pp
Xfce ports can be divided into five categories: core libraries and
applications, goodies, artwork, thunar plugins, and panel plugins.
.Ev HOMEPAGE ,
.Ev MASTER_SITES
and
.Ev DISTNAME
are built using
.Ev XFCE_VERSION
(which defaults to
.Ev XFCE_DESKTOP_VERSION
if not set) and either
.Ev XFCE_PROJECT ,
.Ev XFCE_GOODIE ,
.Ev XFCE_ARTWORK ,
.Ev THUNAR_PLUGIN
or
.Ev XFCE_PLUGIN .
One of the latter has to be provided by the port Makefile.
.El
.Sh SEE ALSO
.Xr make 1 ,
.Xr bsd.port.mk 5 ,
.Xr ports 7
@


1.217
log
@The gnome module supports cmake now.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.216 2017/04/11 11:01:28 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: April 11 2017 $
a797 20
.It devel/waf
Adds
.Pa devel/waf
to
.Ev BUILD_DEPENDS ,
.Pa lang/python
to
.Ev MODULES ,
and provides
.Cm do-configure ,
.Cm do-build ,
.Cm do-install
and
.Cm post-install
targets.
.Cm do-build ,
.Cm do-install
and
.Cm post-install
can be overridden in the port Makefile.
@


1.216
log
@document more thoroughly the special status of modules gnu, imake, perl5
(for historical reasons)

okay aja@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.215 2017/04/08 13:29:37 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: April 8 2017 $
d1591 7
d1616 4
a1619 1
and
d1623 5
a1627 10
If
.Ev CONFIGURE_STYLE
is set to "gnu" or "simple",
.Li CPPFLAGS="-I${LOCALBASE}/include"
and
.Li LDFLAGS="-L${LOCALBASE}/lib"
are appended to
.Ev CONFIGURE_ENV .
.Pp
If none of
d1633 12
@


1.215
log
@Document the devel/meson MODULE.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.214 2017/02/08 17:36:47 danj Exp $
d27 1
a27 1
.Dd $Mdocdate: February 8 2017 $
d50 16
@


1.214
log
@modcargo-crates-1 -> modcargo-gen-crates
modcargo-crates-2 -> modcargo-gen-crates-licenses

discussed with semarie
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.213 2017/01/30 16:58:31 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: January 30 2017 $
d674 23
@


1.213
log
@Mention MODGO_LDFLAGS.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.212 2017/01/05 17:54:14 danj Exp $
d27 1
a27 1
.Dd $Mdocdate: January 5 2017 $
d625 1
a625 1
.Bl -tag -width modcargo-crates-1
d628 1
a628 1
.It Cm modcargo-crates-1
d632 1
a632 1
.It Cm modcargo-crates-2
@


1.212
log
@Document cargo module.

Joint work with semarie, rewording from sthen@@, tweaks from jmc@@.
ok sthen@@, jmc@@, semarie (cargo maintainer)
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.211 2016/12/13 07:26:16 landry Exp $
d27 1
a27 1
.Dd $Mdocdate: December 13 2016 $
d1035 1
@


1.211
log
@Document MODFOO_post-extract.

From semarie@@, ok espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.210 2016/10/29 18:27:34 danj Exp $
d27 1
a27 1
.Dd $Mdocdate: October 29 2016 $
d561 78
@


1.210
log
@Update the man page after the addition of MODPY_ABI_TAG

From sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.209 2016/10/11 12:42:21 jca Exp $
d27 1
a27 1
.Dd $Mdocdate: October 11 2016 $
d144 7
@


1.209
log
@Ports can be built with several (not just two) lua versions.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.208 2016/09/13 19:45:35 naddy Exp $
d27 1
a27 1
.Dd $Mdocdate: September 13 2016 $
d1227 1
d1240 2
a1241 2
take care not to remove ${MODPY_PYCACHE} and ${MODPY_PYC_MAGIC_TAG}
variables from the PLIST.
@


1.208
log
@Do not mention the libiconv module; it has been removed.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.207 2016/08/25 14:57:35 dcoppa Exp $
d27 1
a27 1
.Dd $Mdocdate: August 25 2016 $
d1001 1
a1001 1
Ports can be built with two lua versions.
@


1.207
log
@
Amend after clean-up of fortran.port.mk
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.206 2016/05/18 19:13:02 jca Exp $
d27 1
a27 1
.Dd $Mdocdate: May 18 2016 $
d52 1
a52 1
dependencies without needing to hardcode too much, such as libiconv or
a380 1
.It converters/libiconv
@


1.206
log
@Document MODQT_LRELEASE

ok sthen@@ zhuk@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.205 2016/04/26 16:25:09 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: April 26 2016 $
a705 2
.Ev COMPILER_VERSION
and
@


1.205
log
@some minor cleanup;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.204 2016/04/26 16:22:46 tsg Exp $
d1855 1
d1861 1
@


1.204
log
@We use MODPY_COMMENT, not MODPY_PYCOMMENT.

OK jasper@@ danj@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.203 2016/04/26 11:36:37 jasper Exp $
d601 1
a601 1
This module allows to automate usage of qmake, independently of actual
d1855 1
a1855 1
.Nm moc,
@


1.203
log
@add stub for font.port.mk
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.202 2016/03/26 21:27:01 zhuk Exp $
d27 1
a27 1
.Dd $Mdocdate: March 26 2016 $
d1237 1
a1237 1
.Ev MODPY_PYCOMMENT .
@


1.202
log
@Add devel/qmake and x11/qt5 modules documentation.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.201 2016/03/22 16:02:02 naddy Exp $
d27 1
a27 1
.Dd $Mdocdate: March 22 2016 $
d695 1
@


1.201
log
@The scaffolding to support architectures without shared libraries
has been removed from the ports infrastructure.  Gone are:
* variables CONFIGURE_SHARED, NO_SHARED_LIBS, NO_SHARED_ARCHS, SHARED_ONLY
* PROPERTIES value "no_shared"
* PFRAG.shared and PFRAG.no-shared files

Also drop mention of the long gone PROPERTIES value "elf".

ok sthen@@, ok & tweaks jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.200 2016/02/19 09:15:32 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: February 19 2016 $
d600 59
d1830 2
a1831 2
.It x11/qt3 and x11/qt4
Both qt modules share a common
d1835 5
a1839 3
.Ev MODQT3_*
and the qt4 module also defines the same variables under
.Ev MODQT4_* ,
d1854 2
a1855 1
.Nm moc
d1859 2
a1860 1
.Ev MODQT*_MOC
d1870 7
d1897 3
@


1.200
log
@spacing fixes, from ray;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.199 2016/01/07 21:38:19 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: January 7 2016 $
a285 1
.Ev SHARED_ONLY ,
d365 1
a365 1
and all arch-dependent constant from
d370 1
a370 1
.Ev NO_SHARED_ARCHS .
a1152 1
.Ev SHARED_ONLY ,
a1311 1
.Ev ONLY_FOR_ARCHS
d1313 1
a1313 1
.Ev SHARED_ONLY .
a1432 3
.Ev CONFIGURE_SHARED
is appended to
.Ev CONFIGURE_ARGS ,
a1740 1
.Ev SEPARATE_BUILD
d1742 1
a1742 1
.Ev SHARED_ONLY .
@


1.199
log
@mention that HOMEPAGE will be set for ports that have MODPY_PI
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.198 2015/11/26 20:27:46 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: November 26 2015 $
d1793 1
a1793 1
as the include files location ,
d1795 1
a1795 1
as the global qt directory location ,
@


1.198
log
@document MODPY_SETUP_ARGS
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.197 2015/10/05 10:25:59 sobrado Exp $
d27 1
a27 1
.Dd $Mdocdate: October 5 2015 $
d1163 2
@


1.197
log
@fix some spelling messes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.196 2015/09/23 01:11:13 schwarze Exp $
d27 1
a27 1
.Dd $Mdocdate: September 23 2015 $
d1136 4
@


1.196
log
@Obviously, .Ar is the wrong macro for Makefile targets - .Ar is for
placeholders to be replaced by something else by the user.
As these are fixed strings passed on the make(1) command line, use .Cm.
Trim some excessive indentation while here.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.195 2015/08/31 19:51:17 kili Exp $
d27 1
a27 1
.Dd $Mdocdate: August 31 2015 $
d197 1
a197 1
This can occasionnally be used for ports that require some specific
d1010 1
a1010 1
will be appened to
@


1.195
log
@Less confusing description of 'nort' for ghc.port.mk.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.194 2015/08/21 01:24:12 bentley Exp $
d27 1
a27 1
.Dd $Mdocdate: August 21 2015 $
d144 1
a144 1
.It Ar patch
d146 1
a146 1
.Ar post-patch
d150 1
a150 1
.Ar post-patch
d154 1
a154 1
.It Ar configure
d156 1
a156 1
.Ar pre-configure
d160 1
a160 1
.Ar pre-configure .
d162 1
a162 1
.Ar do-configure
d168 1
a168 1
.Ar configure
d181 1
a181 1
.Ar do-configure ,
d184 1
a184 1
.Ar do-configure
d186 1
a186 1
.It Ar fake
d188 1
a188 1
.Ar pre-fake
d194 1
a194 1
.Ar pre-fake
d199 1
a199 1
.It Ar install
d201 1
a201 1
.Ar post-install
d205 1
a205 1
.Ar install ,
d207 1
a207 1
.Ar post-install
d212 1
a212 1
.Ar do-build
d214 1
a214 1
.Ar do-install ,
d217 1
a217 1
.Ar do-build
d224 1
a224 1
.Ar do-build :
d230 1
a230 1
.Ar do-build
d426 1
a426 1
.Ar post-install
d441 1
a441 1
.Ar do-test
d486 1
a486 1
.Ar do-test
d529 1
a529 1
.Ar configure
d613 1
a613 1
.Ar do-build
d615 1
a615 1
.Ar do-install
d626 3
a628 3
.Ar do-configure ,
.Ar do-build ,
.Ar do-install
d630 1
a630 1
.Ar post-install
d632 2
a633 2
.Ar do-build ,
.Ar do-install
d635 1
a635 1
.Ar post-install
d712 1
a712 1
.Ar do-build
d761 2
a762 2
.Ar do-build ,
.Ar do-install
d764 1
a764 1
.Ar do-test
d796 1
a796 1
.Ar post-patch
d806 1
a806 1
.Ar do-build
d818 1
a818 1
.Ar do-install
d873 1
a873 1
.Ar post-patch
d980 1
a980 1
.Ar do-build
d982 1
a982 1
.Ar do-install
d992 1
a992 1
.Ar post-configure
d1014 3
a1016 2
will be defined, along with a do-test target if it has not
already been set.
d1043 5
a1047 2
Adds default do_build and do_install tasks, and you can reference the default
implementations via
d1067 6
a1072 1
overrides for the do\-build, do\-install and do\-test targets are added.
d1092 1
a1092 1
.Ar do-test
d1145 1
a1145 1
.Ar pre-configure .
d1154 1
a1154 1
.Ar test
d1331 1
a1331 1
.Ar do-install .
d1348 1
a1348 1
.Ar pre-configure ,
d1355 1
a1355 1
.Ar pre-configure .
d1369 1
a1369 1
.Ar do-test
@


1.194
log
@Fix typo: MODLUA_DEAFULT_VERSION to MODLUA_DEFAULT_VERSION.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.193 2015/08/11 20:18:03 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: August 11 2015 $
d742 3
a744 1
and hs- prefix will not be added,
@


1.193
log
@sync with go.port.mk
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.192 2015/07/19 05:58:00 bentley Exp $
d27 1
a27 1
.Dd $Mdocdate: July 19 2015 $
d944 1
a944 1
If no FLAVOR is set it defaults to MODLUA_DEAFULT_VERSION.
@


1.192
log
@Update default gcc version.

ok sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.191 2015/07/18 09:25:35 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: July 18 2015 $
d840 3
@


1.191
log
@spelling fix;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.190 2015/07/17 15:03:19 zhuk Exp $
d27 1
a27 1
.Dd $Mdocdate: July 17 2015 $
d665 1
a665 1
By default gcc 4.6 is used.
@


1.190
log
@Documentation for recently committed databases/mariadb port module.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.189 2015/06/08 09:23:01 czarkoff Exp $
d27 1
a27 1
.Dd $Mdocdate: June 8 2015 $
d480 1
a480 1
for connecting to test server, if they aren't satisfied by enviornment.
@


1.189
log
@Update documentation for lang/go module

OK sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.188 2015/04/02 15:47:40 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: April 2 2015 $
d436 45
@


1.188
log
@overriden -> overridden;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.187 2015/04/02 13:58:55 jasper Exp $
d737 115
@


1.187
log
@document MODPY_PI
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.186 2015/03/27 08:17:00 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: March 27 2015 $
d986 1
a986 1
The subdirectory can be overriden with
@


1.186
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.185 2015/01/13 07:03:23 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: January 13 2015 $
d982 6
@


1.185
log
@escape "No" when it's not intended as a macro, and zap
trailing whitespace;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.184 2015/01/12 20:56:20 zhuk Exp $
d27 1
a27 1
.Dd $Mdocdate: January 12 2015 $
d1291 1
a1291 1
.Pa x11/gtk+2,-guic
d1689 1
a1689 1
.Pa x11/gtk+2,-guic
@


1.184
log
@Documentation for postgresql.port.mk.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.183 2014/09/13 16:30:05 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: September 13 2014 $
d461 1
a461 1
variable is set, the database with such name will be set up before 
d1440 1
a1440 1
.Sq No .
d1497 1
a1497 1
.Sq No .
d1506 1
a1506 1
.Sq No
@


1.183
log
@Tweak after recent gnome MODULE change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.182 2014/09/08 06:38:07 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: September 8 2014 $
d436 37
@


1.182
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.181 2014/09/08 05:04:40 chrisz Exp $
d1231 1
a1231 1
gtk-doc, gtk-update-icon-cache, shared-mime-info, vala and/or yelp to
@


1.181
log
@OCAML_VERSION will be removed, document CONFIGURE_STYLE=oasis

ok jca@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.180 2014/08/10 21:09:26 zhuk Exp $
d27 1
a27 1
.Dd $Mdocdate: August 10 2014 $
d859 2
a860 1
.Ev CONFIGURE_STYLE is set to `oasis',
@


1.180
log
@Improve variables listing in x11/kde4 module description.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.179 2014/07/13 14:14:41 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: July 13 2014 $
a845 2
Sets
.Ev OCAML_VERSION .
d858 3
@


1.179
log
@Document the security/heimdal MODULE.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.178 2014/07/12 22:27:09 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: July 12 2014 $
d1518 7
a1524 6
CONFIGURE_STYLE
EXTRACT_SUFX
ONLY_FOR_ARCHS
PORTHOME
SEPARATE_BUILD
SHARED_ONLY
d1527 7
a1533 6
BUILD_DEPENDS
CONFIGURE_ARGS
CONFIGURE_ENV
LIB_DEPENDS
RUN_DEPENDS
WANTLIB
@


1.178
log
@some basic formatting fixes;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.177 2014/07/12 21:28:58 zhuk Exp $
d492 2
a493 1
will be put at the front of the path.
d991 13
@


1.177
log
@Add devel/cmake bits (rotted in my tree for more than a year) and a short
description of x11/kde4 variables. Everyone is welcome to extend&improve.

okay espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.176 2014/07/09 19:18:29 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: July 9 2014 $
d1300 2
a1301 1
Required for building KDE4-enabled ports. Main variables are: MODKDE4_USE,
d1406 1
a1406 1
adds an additional step before before building port that
d1467 1
a1467 1
.Ev MODULES.
d1470 1
a1470 1
The x11/kde4 module supports co-existance of different KDE4 SC version
@


1.176
log
@zap trailing whitespace;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.175 2014/07/09 17:53:11 ajacoutot Exp $
d437 37
d1300 236
@


1.175
log
@Sync x11/gnome with reality.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.174 2014/07/09 14:02:35 ajacoutot Exp $
d1153 1
a1153 1
and 
@


1.174
log
@Document recent x11/gnome MODULE changes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.173 2014/07/09 13:38:11 bcallah Exp $
d1151 5
a1155 2
will also be appended to
.Ev MODULES .
d1157 3
a1159 2
Unless
.Li NO_BUILD=Yes ,
a1174 3
.Pp
.Ev USE_GMAKE
is unconditionally set.
@


1.173
log
@Add an "If" to make a complete sentence.
ok daniel@@ jmc@@ aja@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.172 2014/04/02 15:00:27 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: April 2 2014 $
d1148 5
a1152 2
Also unconditionally sets
.Ev USE_GMAKE .
d1163 1
a1163 5
.Ev CONFIGURE_ENV
and
.Pa textproc/intltool
is appended to
.Ev MODULES .
d1171 3
@


1.172
log
@goos -> goo

req. by jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.171 2014/04/02 08:25:24 ajacoutot Exp $
d1187 1
@


1.171
log
@Document the required x11/gnome goos.

ok jasper@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.170 2014/04/01 18:01:19 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: April 1 2014 $
d445 1
a445 1
It requires the following goos in the PLIST:
d1236 1
a1236 1
Some tools require the following goos in the PLIST:
@


1.170
log
@EV -> Ev;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.169 2014/04/01 17:03:57 jasper Exp $
d445 1
a445 1
It requires the following goo in the PLIST:
d1235 21
@


1.169
log
@sync with gnome.port.mk regarding MODGNOME_TOOLS, idea discussed with aja@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.168 2014/04/01 15:31:32 jasper Exp $
d1179 1
a1179 1
.EV MODGNOME_TOOLS
@


1.168
log
@in the gnome module section for MODGNOME_TOOLS, rename 'gi' to
'gobject-introspection'
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.167 2014/03/28 08:49:25 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: March 28 2014 $
a1150 25
If
.Li MODGNOME_DESKTOP_FILE=Yes ,
a dependency on
.Pa devel/desktop-file-utils
is appended to
.Ev MODGNOME_RUN_DEPENDS
and a link to /usr/bin/true is created under
.Pa ${WRKDIR}/bin/desktop-file-validate .
.Pp
If
.Li MODGNOME_ICON_CACHE=Yes ,
a dependency on
.Pa x11/gtk+2,-guic
is appended to
.Ev MODGNOME_RUN_DEPENDS .
.Pp
If
.Li MODGNOME_MIME_FILE=Yes ,
a dependency on
.Pa misc/shared-mime-info
is appended to
.Ev MODGNOME_RUN_DEPENDS
and a link to /usr/bin/true is created under
.Pa ${WRKDIR}/bin/update-mime-database .
.Pp
d1174 2
a1175 2
can be set by appending docbook, gobject-introspection, gtk-doc, vala and/or
yelp to
d1179 8
d1196 14
d1221 2
a1222 2
.Ev MODGNOME_DESKTOP_FILE
is also set to "Yes".
@


1.167
log
@Document the new docbook MODGNOME_TOOLS option.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.166 2014/03/16 09:12:55 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: March 16 2014 $
d1199 2
a1200 1
can be set by appending docbook, gi, gtk-doc, vala and/or yelp to
@


1.166
log
@Cope with recent x11/gnome MODULE change.
Add x11/kde4 placeholder.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.165 2013/10/16 10:29:52 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: October 16 2013 $
d1199 1
a1199 1
can be set by appending gi, gtk-doc, vala and/or yelp to
d1202 8
@


1.165
log
@Adapt to recent gnome MODULE change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.164 2013/10/15 10:06:23 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: October 15 2013 $
d1210 1
a1210 1
Also,
d1213 4
a1216 1
.Ev MODGNOME_RUN_DEPENDS .
d1231 1
@


1.164
log
@Document MODGNOME_MIME_FILE and MODGNOME_DESKTOP_FILE.
Make the x11/gnome MODULE description a bit easier to read.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.163 2013/09/26 13:08:17 sthen Exp $
d27 1
a27 1
.Dd $Mdocdate: September 26 2013 $
d1213 1
a1213 5
.Ev MODGNOME_RUN_DEPENDS ,
and
.Ev MODGNOME_RUN_DEPENDS_yelp
is
set for use with multi packaged ports.
d1220 1
a1220 1
.Ev MODGNOME_BRUN_DEPENDS
@


1.163
log
@document how to handle python3 PLISTs; based on a diff from rpointel@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.162 2013/07/02 10:37:01 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: July 2 2013 $
d1150 10
d1166 10
d1190 1
d1197 1
d1224 1
a1224 1
.Ev MODGNOME_BUILD_DEPENDS
@


1.162
log
@document variable name change in java.port.mk
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.161 2013/06/19 09:17:29 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: June 19 2013 $
d905 18
@


1.161
log
@explain the redirection mechanism for do-build, as used by ruby and
(shortly) other ports.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.160 2013/04/16 13:17:40 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: April 16 2013 $
d590 1
a590 1
.Ev MODJAVA_BUILD_TARGET ,
@


1.160
log
@Adapt after recent gnome MODULE change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.159 2013/03/26 16:40:19 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: March 26 2013 $
d210 37
@


1.159
log
@Document the recent change to the x11/gnome MODULE.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.158 2013/03/21 08:30:29 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: March 21 2013 $
d1122 1
a1122 1
can be set by appending goi, gtk-doc, vala and/or yelp to
@


1.158
log
@Adapt after default USE_LIBTOOL moved from No to Yes.

ok jasper@@ landry@@ espie@@ sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.157 2013/03/11 22:29:04 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: March 11 2013 $
d1115 6
@


1.157
log
@missing spaces;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.156 2013/03/11 14:35:53 espie Exp $
a795 1
.Ev USE_LIBTOOL ,
d1110 2
a1111 3
.Ev CONFIGURE_ENV ,
.Ev USE_LIBTOOL
is set to Yes and
a1251 2
.Ev USE_LIBTOOL
is set to yes and
@


1.156
log
@fix REGRESS -> TEST
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.155 2013/03/10 20:01:43 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: March 10 2013 $
d881 1
a881 1
.Ev MODTCL_LIB_DEPENDS,
d915 1
a915 1
.Ev CONFIGURE_ENV,
@


1.155
log
@add placeholder for lang/erlang
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.154 2013/02/07 17:58:31 pascal Exp $
d27 1
a27 1
.Dd $Mdocdate: February 7 2013 $
d240 1
a240 1
.Ev NO_REGRESS ,
d245 2
a246 2
.Ev REGRESS_TARGET ,
.Ev REGRESS_IS_INTERACTIVE ,
d268 1
a268 1
.Ev REGRESS_DEPENDS ,
d354 1
a354 1
.Ev REGRESS_DEPENDS ,
d377 1
a377 1
of regress tests to CPAN.
d605 1
a605 1
.Ar do-regress
d671 1
a671 1
In order to set a build, run or regress dependency on a lua port,
d674 1
a674 1
.Ev MODLUA_REGRESS_DEPENDS ,
d734 1
a734 1
.Ev REGRESS_DEPENDS
d736 2
a737 2
.Ev MODNODE_REGRESS_TARGET
will be defined, along with a do-regress target if it has not
d741 1
a741 1
.Ev REGRESS_TARGET
d799 1
a799 1
.Ev REGRESS_TARGET
d801 1
a801 1
.Ev REGRESS_FLAGS
d803 1
a803 1
.Ev NO_REGRESS
d805 1
a805 1
.Ar do-regress
d867 1
a867 1
.Ar regress
d1043 1
a1043 1
.Ev NO_REGRESS
d1045 1
a1045 1
.Ar do-regress
d1077 1
a1077 1
.Ev NO_REGRESS
@


1.154
log
@Default gcc version for gcc4 MODULE is now 4.6.

ok brad@@ tobiasu@@ espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.153 2013/02/04 13:33:04 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: February 4 2013 $
d571 1
@


1.153
log
@missing newline;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.152 2013/02/04 09:22:30 sthen Exp $
d500 1
a500 1
then the gcc 4.2 compilers will be put at the front of the path.
d508 1
a508 1
By default gcc 4.2 is used.
@


1.152
log
@MODPY_BIN_ADJ has been made internal to the python module, so stop talking
about it in port-modules(5), flesh out MODPY_ADJ_FILES instead. From a
discussion with rpe; ok rpe rpointel
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.151 2013/02/03 15:05:22 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: February 3 2013 $
d856 2
a857 1
at the end of .Ar pre-configure .
@


1.151
log
@sync w/ recent java.port.mk update
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.150 2013/01/31 08:43:51 pascal Exp $
d27 1
a27 1
.Dd $Mdocdate: January 31 2013 $
d825 1
a825 2
.Ev MODPY_BUILD_DEPENDS ,
.Ev MODPY_BIN_ADJ
d852 5
a856 9
.Ev MODPY_BIN_ADJ
is a command that takes filename arguments and replaces the python
shebang line with
.Ev MODPY_BIN .
.Ev MODPY_ADJ_FILES
is a list of filenames that will automatically have
.Ev MODPY_BIN_ADJ
called on them at the end of
.Ar pre-configure .
@


1.150
log
@gcc3 is no more; ok brad@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.149 2013/01/13 17:47:21 sebastia Exp $
d27 1
a27 1
.Dd $Mdocdate: January 13 2013 $
d543 2
a544 1
.Ev RUN_DEPENDS
d546 1
a546 1
.Ev CATEGORIES .
@


1.149
log
@MODGCC3_ARCHS -> MODCLANG_ARCHS for the lang/clang module

OK landry@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.148 2012/12/31 10:29:28 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: December 31 2012 $
a492 12
.It gcc3
If
.Ev COMPILER_VERSION
is not gcc3 (defined by
.Pa /usr/share/mk/bsd.own.mk ) ,
and architecture is in
.Ev MODGCC3_ARCHS ,
then the gcc 3.3.6 compilers will be put at the front of the path.
By default, only C language support is included by this module.
If other languages are needed, they must be listed in
.Ev MODGCC3_LANGS
(e.g. c++, g77).
@


1.148
log
@missing full stop in previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.147 2012/12/31 09:18:46 espie Exp $
d572 1
a572 1
If architecture is in MODGCC3_ARCHS, the CLang compilers will be
@


1.147
log
@document post-install hooks
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.146 2012/11/19 12:23:23 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: November 19 2012 $
d203 1
a203 1
.Ev MODFOO_post-install
@


1.146
log
@zap pre-install, which was a weird kludge.
Explain a bit more the purpose of pre-fake.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.145 2012/10/31 13:44:30 gsoares Exp $
d27 1
a27 1
.Dd $Mdocdate: October 31 2012 $
d199 10
@


1.145
log
@document lua.port.mk changes

OK jasper@@ sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.144 2012/09/19 08:15:55 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: September 19 2012 $
d196 3
a198 7
.It Ar install
There is a
.Ar pre-install
hook that can be activated by defining
.Ev MODFOO_pre-install .
It will be run right before installing the package with
.Xr pkg_add 1 .
@


1.144
log
@no more PKG_ARCH messin' around in lua.port.mk
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.143 2012/08/19 05:50:31 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: August 19 2012 $
d663 2
a664 1
.Ev MODLUA_DEP_VERSION
@


1.143
log
@zap trailing whitespace;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.142 2012/08/18 21:51:07 avsm Exp $
d27 1
a27 1
.Dd $Mdocdate: August 18 2012 $
a653 5
Also affects
.Ev PKG_ARCH
when
.Ev SHARED_ONLY
is not set or set to No.
@


1.142
log
@document ocaml_native and ocaml_native_dynlink properties
ok espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.141 2012/08/15 18:09:02 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: August 15 2012 $
d787 1
a787 1
property depending on whether the architecture supports native 
@


1.141
log
@remove some unneeded Pp;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.140 2012/07/19 20:25:52 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: July 19 2012 $
d780 1
a780 2
.Ev OCAML_VERSION ,
.Ev MODOCAML_NATIVE .
d785 8
a792 2
This also selects a %%native%% plist fragment depending on whether
the architecture supports native compilation or not.
@


1.140
log
@sync
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.139 2012/07/10 17:50:56 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: July 10 2012 $
a1155 1
.Pp
@


1.139
log
@document recent lua.port.mk changes
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.138 2012/07/09 09:12:14 kili Exp $
d27 1
a27 1
.Dd $Mdocdate: July 9 2012 $
d667 2
a668 1
.Ev MODLUA_DEP
@


1.138
log
@Remove a doubled word (probably a fatfingered copu & paste).

From Dawe <dawedawe@@gmx.de>.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.137 2012/07/08 17:37:55 sthen Exp $
d27 1
a27 1
.Dd $Mdocdate: July 8 2012 $
d631 1
d633 2
d637 2
d640 2
a641 1
.Ev MODLUA_VERSION .
d660 8
a667 1
.Ev MODLUA_VERSION
d670 13
@


1.137
log
@fix capitalisation of MODMONO_INSTAlL_TARGET
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.136 2012/06/11 10:09:07 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: June 11 2012 $
a595 1
register
@


1.136
log
@title should say we document modules here.
add documentation for d7 (and also d6, kind-of)
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.135 2012/06/10 21:11:13 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: June 10 2012 $
d692 1
a692 1
.Ev MODMONO_INSTAlL_TARGET
@


1.135
log
@drupal7.port.mk could use some documentation here too
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.134 2012/05/26 09:15:38 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: May 26 2012 $
d32 1
a32 1
.Nd format and conventions used in port modules
d904 2
d907 50
@


1.134
log
@sync
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.133 2012/05/23 15:15:26 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: May 23 2012 $
d904 1
@


1.133
log
@www/node -> lang/node
cvs: ----------------------------------------------------------------------
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.132 2012/05/18 06:58:21 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: May 18 2012 $
d572 4
@


1.132
log
@remove double word blunder;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.131 2012/05/15 15:11:46 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: May 15 2012 $
d695 53
a955 53
.It www/node
Adds common dependencies to
.Ev RUN_DEPENDS
and
.Ev BUILD_DEPENDS .
Recognizes two additional types of
.Ev CONFIGURE_STYLE Ns s ,
"npm" and "npm ext".
"npm ext" should be used for npm packages that contain C++ extensions which
need to be compiled.
"npm" should be used for other npm packages.
If regression tests are included that can be run using
.Pa devel/node-expresso ,
append "expresso" to
.Ev CONFIGURE_STYLE .
.Pa devel/node-expresso
will be appened to
.Ev REGRESS_DEPENDS
and a default
.Ev MODNODE_REGRESS_TARGET
will be defined, along with a do-regress target if it has not
already been set.
If "expresso" isn't appended to
.Ev CONFIGURE_STYLE ,
.Ev REGRESS_TARGET
will be set to "test".
One of these two
.Ev CONFIGURE_STYLE Ns s
should be used or the module doesn't affect anything except
.Ev RUN_DEPENDS
and
.Ev BUILD_DEPENDS .
Requires
.Ev NPM_NAME
to be set to the name of the npm package.
Uses
.Ev NPM_NAME
and
.Ev NPM_VERSION
to set
.Ev DISTNAME ,
and
.Ev PKGNAME ,
and
.Ev MASTER_SITES .
If the npm package depends on other npm packages, the npm package names it
depends on should be listed in
.Ev MODNODE_DEPENDS .
Adds default do_build and do_install tasks, and you can reference the default
implementations via
.Ev MODNODE_BUILD_TARGET
and
.Ev MODNODE_INSTALL_TARGET .
@


1.131
log
@sync with lua.port.mk
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.130 2012/05/15 12:26:34 jasper Exp $
d929 1
a929 1
One of these these two
@


1.130
log
@sync lua.port.mk and sort a few variables.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.129 2012/05/11 21:01:47 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: May 11 2012 $
d630 1
@


1.129
log
@document some recent changes in node.port.mk
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.128 2012/05/11 20:54:13 jasper Exp $
d628 2
a629 1
.Ev MODLUA_VERSION ,
d631 1
a631 1
.Ev MODLUA_DATADIR .
@


1.128
log
@sync with recent change
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.127 2012/04/19 21:42:14 sthen Exp $
d27 1
a27 1
.Dd $Mdocdate: April 19 2012 $
d912 15
@


1.127
log
@talk about pecl.port.mk
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.126 2012/04/19 14:26:47 pascal Exp $
d648 4
@


1.126
log
@document gcc4 module change.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.125 2012/04/05 18:33:16 sthen Exp $
d27 1
a27 1
.Dd $Mdocdate: April 5 2012 $
d699 30
@


1.125
log
@Mention clang module.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.124 2012/04/04 05:49:55 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: April 4 2012 $
d515 6
@


1.124
log
@VERSION -> NPM_VERSION for the www/node MODULE.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.123 2012/04/03 18:35:18 jeremy Exp $
d27 1
a27 1
.Dd $Mdocdate: April 3 2012 $
d558 8
@


1.123
log
@Add documentation for the www/node module.

OK sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.122 2012/03/29 16:35:02 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: March 29 2012 $
d876 1
a876 1
.Ev VERSION
@


1.122
log
@The gnome MODULE also modify CONFIGURE_ENV.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.121 2012/03/28 17:48:24 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: March 28 2012 $
d853 38
@


1.121
log
@Make the yelp section (a little) more understandable.

poor bentley@@ probably burnt his eyes on this...
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.120 2012/02/16 11:31:06 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: February 16 2012 $
d938 2
a939 2
Certain build/run dependencies and configure arguments can be set by
appending goi, gtk-doc, vala and/or yelp to
@


1.120
log
@Tweak the yelp section.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.119 2011/12/14 18:32:46 robert Exp $
d27 1
a27 1
.Dd $Mdocdate: December 14 2011 $
d944 1
a944 1
is set to yelp, and
d946 1
a946 1
as well as
@


1.119
log
@document MODGCC4_VERSION
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.118 2011/12/08 08:26:55 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: December 8 2011 $
d959 3
a961 1
.Pa share/gnome/help/ .
@


1.118
log
@with the split of arch-defines, things are now simpler wrt arch constants.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.117 2011/12/05 20:03:25 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: December 5 2011 $
d511 4
@


1.117
log
@split the ruby module description off, as it's now insanely big.
okay jeremy@@, nits by jmc@@

page still needs some cleaning up, mainly breathing spaces... ;)
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.116 2011/12/05 08:05:38 jmc Exp $
d322 7
a328 1
.Ev X11BASE .
@


1.116
log
@zap trailing whitespace;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.115 2011/12/04 23:28:42 jeremy Exp $
d27 1
a27 1
.Dd $Mdocdate: December 4 2011 $
d734 2
a735 162
Sets
.Ev MODRUBY_REV ,
.Ev RUBY ,
.Ev RAKE ,
.Ev RSPEC ,
.Ev MODRUBY_BIN_TESTRB ,
.Ev MODRUBY_BIN_RSPEC ,
.Ev MODRUBY_RUN_DEPENDS ,
.Ev MODRUBY_LIB_DEPENDS ,
.Ev MODRUBY_BUILD_DEPENDS ,
.Ev MODRUBY_ICONV_DEPENDS ,
.Ev MODRUBY_LIBDIR ,
.Ev MODRUBY_DOCDIR ,
.Ev MODRUBY_SITEARCHDIR ,
.Ev MODRUBY_SITEDIR ,
.Ev MODRUBY_ARCH ,
.Ev MODRUBY_EXAMPLEDIR ,
.Ev MODRUBY_RUBY_ADJ ,
.Ev MODRUBY_ADJ_FILES ,
.Ev GEM_BIN_SUFFIX ,
.Ev GEM_MAN_SUFFIX ,
.Ev MODRUBY_LIBREV ,
.Ev MODRUBY_BINREV ,
.Ev MODRUBY_PKGSPEC ,
.Ev MODRUBY_PKG_PREFIX ,
.Ev MODRUBY_RAKE_DEPENDS ,
.Ev MODRUBY_RSPEC_DEPENDS ,
.Ev MODRUBY_WANTLIB ,
.Ev MODRUBY_FLAVOR ,
.Ev MODRUBY_REGRESS ,
.Ev MODRUBY_REGRESS_TARGET ,
.Ev MODRUBY_REGRESS_DIR ,
.Ev MODRUBY_REGRESS_ENV ,
.Ev MODRUBY_BUILD_TARGET ,
.Ev MODRUBY_INSTALL_TARGET ,
.Ev MODRUBY_EXTRACT_TARGET ,
.Ev GEM ,
.Ev GEM_BIN ,
.Ev GEM_LIB ,
.Ev GEM_BASE_LIB ,
.Ev GEM_ABS_PATH ,
.Ev GEM_BASE_BIN ,
and
.Ev GEM_FLAGS .
Appends to
.Ev CATEGORIES
and
.Ev SUBST_VARS .
Appends to
.Ev BUILD_DEPENDS
unless
.Ev MODRUBY_BUILDDEP
is set to No or
.Ev NO_BUILD
is set to Yes.
Appends to
.Ev RUN_DEPENDS
unless
.Ev MODRUBY_RUNDEP
is set to No.
.Ev RUBY ,
.Ev RAKE ,
and
.Ev MODRUBY_BIN_TESTRB
are the path to the ruby, rake, and
testrb binaries for the related ruby implementation.
.Ev RSPEC
and
.Ev MODRUBY_BIN_RSPEC
are the path to the spec (rspec 1) and
rspec (rspec 2) binaries for the related ruby implementation.
.Ev MODRUBY_RUBY_ADJ
is a command that takes filename arguments and replaces
the /usr/bin/env ruby shebang lines with
.Ev RUBY .
.Ev MODRUBY_ADJ_FILES
is a list of filename patterns that will automatically have
.Ev MODRUBY_RUBY_ADJ
called on them during pre-configure.
Creates a do-regress target if
.Ev MODRUBY_REGRESS
is used and one is not already defined.
.Ev MODRUBY_REGRESS
can be set to ruby, rake, rspec, rspec2, or testrb to
choose the appropriate binary to run the regress tests.
.Ev MODRUBY_REGRESS_ENV
can be used to set environment variables for the regress tests.
.Ev MODRUBY_REGRESS_DIR
can be used to set the directory in which to execute
the regress tests, it defaults to
.Ev WRKSRC .
.Ev MODRUBY_REGRESS_TARGET
sets the argument to the regress test program.
Supports additional
.Ev CONFIGURE_STYLE s,
and setting specific
.Ev CONFIGURE_STYLE s
modifies some additional parameters.
The "ruby gem"
.Ev CONFIGURE_STYLE
should be used for pure ruby gems without C extensions.
This adds
.Ev PKG_ARCH
= * and adds ruby19, rbx, and jruby
.Ev FLAVOR s
to the port, so the same port can build packages for multiple versions of ruby.
The "ruby gem ext"
.Ev CONFIGURE_STYLE
should be used for ruby gems with C extensions.
This adds
.Ev SHARED_ONLY = Yes
and adds
.Ev MODRUBY_LIB_DEPENDS
to
.Ev LIB_DEPENDS
and
c, m, and
.Ev MODRUBY_WANTLIB
to
.Ev WANTLIB.
It also adds ruby19, rbx, and jruby
.Ev FLAVOR s
to the port.
The "ruby extconf"
.Ev CONFIGURE_STYLE
is similar to the "ruby gem ext"
.Ev CONFIGURE_STYLE ,
except that it is used when the package is not distributed as a ruby gem.
In order for ruby 1.9, rubinius, and jruby packages to be built from the same
port directory, any gem dependencies specified in the port should use this
format: category/ruby-foo,${MODRUBY_FLAVOR}.
Use of a ruby19, rbx, or jruby
.Ev FLAVOR
causes the
.Ev FULLPKGNAME
to use the
.Ev FLAVOR
instead of ruby as the package prefix.
Specifying
.Ev MODRUBY_FLAVOR
is necessary so that if you are building a ruby 1.9
package for the current port, it depends on the ruby 1.9 package of the
dependencies.
For ruby gem ports that can work on both ruby 1.8 and ruby 1.9, any binary
file entries in the PLIST should be appended with
.Ev GEM_BIN_SUFFIX .
This is because the ruby 1.8 and ruby 1.9 gem binaries are both installed to
.Ev LOCALBASE /bin,
and ruby 1.9 installs the binaries with a 19 suffix.
Any man pages and other files that would be installed to locations not
specific to a ruby implementation (such as under
.Ev LOCALBASE /share),
should use
.Ev GEM_MAN_SUFFIX
before the extension so the different
.Ev FLAVOR s
do not conflict.
make update-plist currently removes
.Ev GEM_BIN_SUFFIX
and
.Ev GEM_MAN_SUFFIX ,
so be careful when updating gem ports with binaries or man pages.
@


1.115
log
@Update ruby section for recent and not-so-recent changes to ruby.port.mk.
Reformat ruby section to be consistent with other recent changes.

OK espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.114 2011/12/04 10:07:17 espie Exp $
d796 2
a797 2
and 
.Ev MODRUBY_BIN_TESTRB 
d827 1
a827 1
Supports additional 
d870 1
a870 1
.Ev FLAVOR 
d878 1
a878 1
file entries in the PLIST should be appended with 
d884 1
a884 1
specific to a ruby implementation (such as under 
d886 1
a886 1
should use 
d891 1
a891 1
make update-plist currently removes 
@


1.114
log
@document qts
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.113 2011/12/03 20:20:28 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: December 3 2011 $
d734 54
a787 13
Sets MODRUBY_REV, RUBY, RAKE, RSPEC, MODRUBY_RUN_DEPENDS, MODRUBY_LIB_DEPENDS,
MODRUBY_BUILD_DEPENDS, MODRUBY_ICONV_DEPENDS, MODRUBY_LIBDIR, MODRUBY_DOCDIR,
MODRUBY_EXAMPLEDIR, MODRUBY_ARCH, MODRUBY_REGRESS, MODRUBY_RUBY_ADJ,
MODRUBY_ADJ_FILES, GEM_BIN_SUFFIX, MODRUBY_LIBREV, MODRUBY_BINREV,
MODRUBY_PKGSPEC, MODRUBY_PKG_PREFIX, MODRUBY_RAKE_DEPENDS,
MODRUBY_RSPEC_DEPENDS, MODRUBY_WANTLIB, MODRUBY_FLAVOR.
RUBY, RAKE, and RSPEC are the path to the ruby, rake, and rspec binaries.
MODRUBY_RUBY_ADJ is a command that takes filename arguments and replaces
the /usr/bin/env ruby shebang lines with RUBY.
MODRUBY_ADJ_FILES is a list of filename patterns that will automatically
have MODRUBY_RUBY_ADJ called on them during pre-configure.
Appends to CATEGORIES and SUBST_VARS.
Appends to BUILD_DEPENDS unless MODRUBY_BUILDDEP is set to No or NO_BUILD
d789 42
a830 3
Appends to RUN_DEPENDS unless MODRUBY_RUNDEP is set to No.
May affect the regress target if MODRUBY_REGRESS is used.
Supports additional CONFIGURE_STYLEs, and setting specific CONFIGURE_STYLEs
d832 30
a861 12
The "ruby gem" CONFIGURE_STYLE should be used for pure ruby gems without
C extensions.
This adds PKG_ARCH = * and adds ruby19, rbx, and jruby FLAVORs to the port,
so the same port can build packages for multiple versions of ruby.
The "ruby gem ext" CONFIGURE_STYLE should be used for ruby gems with C
extensions.
This adds SHARED_ONLY = Yes and adds MODRUBY_LIB_DEPENDS to LIB_DEPENDS and
c, m, and MODRUBY_WANTLIB to WANTLIB.
It also adds ruby19 and rbx FLAVORs to the port.
The "ruby extconf" CONFIGURE_STYLE is similar to the "ruby gem ext"
CONFIGURE_STYLE, except that it is used when the package is not distributed
as a ruby gem.
d865 6
a870 1
Use of a ruby19, rbx, or jruby FLAVOR causes the FULLPKGNAME to use the FLAVOR
d872 3
a874 1
Specifying MODRUBY_FLAVOR is necessary so that if you are building a ruby 1.9
d878 18
a895 4
file entries in the PLIST should be appended with ${GEM_BIN_SUFFIX}.
This is because the ruby 1.9 gem binaries are installed with a 19 suffix.
make update-plist tends to remove ${GEM_BIN_SUFFIX}, so be careful when
updating such ports.
@


1.113
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.112 2011/12/03 19:20:49 espie Exp $
d1002 56
a1057 2
.It x11/qt3
.It x11/qt4
@


1.112
log
@format most modules, exempts ruby since jeremy has a pending diff
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.111 2011/12/03 19:00:34 espie Exp $
d653 1
a653 1
.ar do-install
@


1.111
log
@clean-up description of lang/ghc a bit more
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.110 2011/12/03 18:55:13 espie Exp $
d603 21
a623 5
Sets MODLUA_VERSION, MODLUA_LIBDIR, MODLUA_DATADIR.
Appends to CATEGORIES.
Also appends to BUILD_DEPENDS, unless NO_BUILD has been set to Yes.
Also appends to RUN_DEPENDS, unless MODLUA_RUNDEP is set to No.
Also affects PKG_ARCH when SHARED_ONLY is not set or set to No.
d625 10
a634 3
Sets MODMONO_ONLY_FOR_ARCHS, CONFIGURE_ENV, MAKE_FLAGS,
MODMONO_BUILD_DEPENDS and MODMONO_RUN_DEPENDS.
If MODMONO_DEPS is set to Yes,
d636 11
a646 2
is appended to BUILD_DEPENDS and RUN_DEPENDS.
If MODMONO_NANT is set to Yes, NANT and NANT_FLAGS are set,
d648 17
a664 6
is appended to BUILD_DEPENDS and the do-build and do-install targets are
provided to use nant for building.
If these target are already defined, one can use MODMONO_BUILD_TARGET
and MODMONO_INSTAlL_TARGET instead in the corresponding target.
DLLMAP_FILES defines in which files the module will substitute hardcoded
shared library versions using a post-configure target.
d666 7
a672 2
Sets OCAML_VERSION, MODOCAML_NATIVE.
Appends to BUILD_DEPENDS and MAKE_ENV.
d676 25
a700 5
Sets MODPY_VERSION, MODPY_BIN, MODPY_INCDIR, MODPY_LIBDIR, MODPY_SITEPKG,
MODPY_SETUP, MODPY_WANTLIB, MODPY_LIB_DEPENDS, MODPY_RUN_DEPENDS,
MODPY_BUILD_DEPENDS, MODPY_BIN_ADJ and MODPY_ADJ_FILES.
Appends to RUN_DEPENDS unless MODPY_RUNDEP is set to No.
Appends to BUILD_DEPENDS unless MODPY_BUILDDEP is set to No or NO_BUILD
d702 7
a708 3
MODPY_VERSION is the default version used by all python modules.
Ports which use the setuptools module should set MODPY_SETUPTOOLS to Yes.
All ports that generate egg-info files should set MODPY_EGG_VERSION
d711 22
a732 7
MODPY_DISTUTILS_BUILDARGS and MODPY_DISTUTILS_INSTALLARGS.
MODPY_BIN_ADJ is a command that takes filename arguments and replaces
the python shebang line with MODPY_BIN.
MODPY_ADJ_FILES is a list of filenames that will automatically have
MODPY_BIN_ADJ called on them at the end of pre-configure.
Also affects CATEGORIES, MAKE_ENV, CONFIGURE_ENV, SHARED_ONLY, and SUBST_VARS.
May affect the regress target.
d778 22
a799 8
Sets MODTCL_VERSION, MODTCL_BIN, MODTCL_INCDIR, MODTCL_LIBDIR,
MODTCL_BUILD_DEPENDS, MODTCL_RUN_DEPENDS, MODTCL_LIB, MODTCL_LIB_DEPENDS,
and MODTCL_CONFIG.
MODTCL_VERSION is the default version used by all Tcl ports and
may be overridden.
Provides MODTCL_TCLSH_ADJ and MODTCL_WISH_ADJ shell fragments to
patch the interpreter path in executable scripts.
Also affects CATEGORIES and SUBST_VARS.
d805 2
a806 1
Sets MODINTLTOOL_OVERRIDE.
d808 9
a816 3
is added to BUILD_DEPENDS.
MODINTLTOOL_OVERRIDE changes the paths of INTLTOOL_EXTRACT, INTLTOOL_MERGE and
INTLTOOL_UPDATE to use the installed versions of intltool-extract,
d819 8
a826 2
Also affects CONFIGURE_ENV, MAKE_ENV and MAKE_FLAGS by appending
MODINTLTOOL_OVERRIDE to them.
d830 54
a883 15
Sets PKGNAME, HOMEPAGE, MASTER_SITES, DISTNAME, USE_GMAKE, ONLY_FOR_ARCHS and
SHARED_ONLY.
EXTRACT_SUFX defaults to .tar.bz2.
.Pp
Adds common dependencies to LIB_DEPENDS, WANTLIB, RUN_DEPENDS and
BUILD_DEPENDS.
Sets common CONFIGURE_ARGS, MAKE_ENV and CONFIGURE_ENV.
Sets MOB variable as source directory
and MOZ as target directory within do-install.
.Pp
Port Makefile has to set MOZILLA_PROJECT, MOZILLA_CODENAME, MOZILLA_VERSION,
MOZILLA_BRANCH, MOZILLA_LIBS and MOZILLA_DATADIRS variables.
Port can also append values to MOZILLA_SUBST_FILES which contains the list of
files to run SUBST_CMD on during pre-configure, and MOZILLA_AUTOCONF_DIRS which
contains the list of dirs where AUTOCONF will be run during pre-configure.
d886 31
a916 7
Sets default MASTER_SITES, EXTRACT_SUFX, PKGNAME.
Sets PREFIX to /var/www.
Sets NO_REGRESS unless a do-regress target is defined.
Adds common dependencies to RUN_DEPENDS and BUILD_DEPENDS and sets
MAKE_FILE and FAKE_FLAGS appropriately.
Makes PEAR_LIBDIR and PEAR_PHPBIN available for use in the port.
Sets a default PKGNAME and appends to CATEGORIES.
d918 6
a923 2
Sets MODPLONE_VERSION and MODZOPE_VERSION.
MODPLONE_VERSION is the default version used by all Plone ports and may be overridden.
d926 5
a930 1
to RUN_DEPENDS and also sets NO_REGRESS to Yes.
d933 18
a950 5
If both GNOME_PROJECT and GNOME_VERSION are set, this module defines
DISTNAME, VERSION, MASTER_SITES, adds x11/gnome to CATEGORIES and
EXTRACT_SUFX will default to .tar.xz if unset.
Also unconditionally sets USE_GMAKE.
If MODGNOME_ICON_CACHE=Yes, a dependency on
d952 14
a965 5
is appended to MODGNOME_RUN_DEPENDS.
Unless NO_BUILD=Yes, CONFIGURE_SHARED is appended to CONFIGURE_ARGS,
CPPFLAGS="-I${LOCALBASE}/include" and LDFLAGS="-L${LOCALBASE}/lib" are
appended to CONFIGURE_ENV,
USE_LIBTOOL is set to Yes and
d967 2
a968 1
is appended to MODULES.
d970 2
a971 1
appending goi, gtk-doc, vala and/or yelp to MODGNOME_TOOLS.
d973 3
a975 1
If MODGNOME_TOOLS is set to yelp, and
d979 2
a980 1
are appended to MODGNOME_BUILD_DEPENDS.
d983 5
a987 1
is appended to MODGNOME_RUN_DEPENDS, and MODGNOME_RUN_DEPENDS_yelp is
d991 8
a998 2
MODGNOME_BUILD_DEPENDS and MODGNOME_BUILD_DEPENDS are appended to the
corresponding BUILD_DEPENDS and RUN_DEPENDS.
d1005 13
a1017 4
Sets MODTK_VERSION, MODTK_BIN, MODTK_INCDIR, MODTK_LIBDIR,
MODTK_BUILD_DEPENDS, MODTK_RUN_DEPENDS, MODTK_LIB, MODTK_LIB_DEPENDS,
and MODTK_CONFIG.
MODTK_VERSION is the default version used by all Tk ports and
d1019 15
a1033 4
Automatically adds the lang/tcl module, provides a default
MODTCL_VERSION to match MODTK_VERSION, and affects CATEGORIES
and SUBST_VARS.
Note the MODTCL_WISH_ADJ shell fragment in the lang/tcl module.
d1035 10
a1044 3
Sets DIST_SUBDIR, EXTRACT_SUFX, CONFIGURE_STYLE,
CONFIGURE_ENV and USE_GMAKE.
If MODXFCE_ICON_CACHE is set to yes, it adds
d1046 7
a1052 2
to RUN_DEPENDS.
Unless XFCE_NO_SRC is set, USE_LIBTOOL is set to yes and
d1056 4
a1059 2
are added to MODULES.
Also affects CATEGORIES.
d1063 15
a1077 3
HOMEPAGE, MASTER_SITES and DISTNAME are built using XFCE_VERSION (which
defaults to XFCE_DESKTOP_VERSION if not set) and either XFCE_PROJECT,
XFCE_GOODIE, XFCE_ARTWORK, THUNAR_PLUGIN or XFCE_PLUGIN.
@


1.110
log
@better format (.Ev, .Ar, .Li)... rephrase a few odd things.
Synch with current reality: a few variables got lost since bsd.port.arch.mk
is included after modules (to be fixed ?)
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.109 2011/12/03 18:33:34 ajacoutot Exp $
d555 1
a555 1
The build and further actions are based on the value of
d557 3
a559 1
nort (no runtime dependency on
d561 5
a565 2
and hs- prefix will not be added), cabal (to get the typical Cabal
targets defined), haddock (to generate API documentation using
d567 7
a573 2
register (to create and include register/unregister scripts), hackage
(if the distfiles are available on Hackage).
d584 3
a586 1
If register has been set, the PLIST needs to be modified in order to
d589 3
a591 1
will be built (if haddock has been set), and that the package is
d594 3
a596 1
(if register has been set).
@


1.109
log
@Add MODGNOME_ICON_CACHE and MODXFCE_ICON_CACHE.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.108 2011/11/17 23:49:46 sthen Exp $
d27 1
a27 1
.Dd $Mdocdate: November 17 2011 $
d170 1
d178 1
a316 2
.Ev APM_ARCHS ,
.Ev ARCH ,
a318 1
.Ev LP64_ARCHS ,
a319 2
.Ev NO_SHARED_ARCHS ,
.Ev NO_SHARED_LIBS ,
d337 10
a346 3
the correct location depending on DISTNAME, and sets a default
PKGNAME.
Also affects REGRESS_DEPENDS, CONFIGURE_STYLE, PKG_ARCH, and CATEGORIES.
d348 2
a349 1
Some CPAN modules are only indexed by author, set CPAN_AUTHOR=ID
d352 13
a364 5
If no HOMEPAGE is defined, it will default to
http://search.cpan.org/dist/${DISTNAME:C/-[^-]*$//}/
.Pp
User settings: set CPAN_REPORT to Yes, CPAN_REPORT_DB to a valid directory,
and CPAN_REPORT_FROM to a valid email address to automate the reporting
d367 5
a371 2
If MODCPAN_EXAMPLES is set, the following variables will be set.
MODCPAN_EXAMPLES_DIST will hold the default directory in the distfile with
d373 2
a374 1
MODCPAN_EXAMPLES_DIR will be set to the standard installation directory for
d376 6
a381 2
Sets the post-install target if none has been defined to install the examples,
otherwise MODCPAN_POST_INSTALL should be used as such:
d389 5
a393 1
Sets CONFIGURE_ARGS, BUILD_DEPENDS and RUN_DEPENDS.
d407 14
a420 4
Sets CONFIGURE_ARGS, BUILD_DEPENDS and RUN_DEPENDS.
According to the values of MODGCONF2_LIBDEP, sets LIB_DEPENDS.
User settings: set MODGCONF2_SCHEMAS_DIR to the directory name under
${LOCALBASE}/share/schemas/ where schemas files will be installed.
d423 5
a427 1
Sets CONFIGURE_SCRIPT, CONFIGURE_ARGS and MODPMK_configure.
d430 2
a431 1
to BUILD_DEPENDS.
d435 13
a447 5
to BUILD_DEPENDS.
Sets MODSCONS_BIN and MODSCONS_ENV.
Also defines an overridable MODSCONS_FLAGS.
It provides a do-build and do-install target that can be overridden in the
port Makefile.
d451 2
a452 1
to BUILD_DEPENDS,
d454 14
a467 4
to MODULES, and provides do-configure, do-build, do-install and
post-install targets.
do-build, do-install and post-install can be overridden in the port
Makefile.
d469 7
a475 3
Sets MODFORTRAN_LIB_DEPENDS, MODFORTRAN_WANTLIB, MODFORTRAN_BUILD_DEPENDS.
Set MODFORTRAN_COMPILER to `g77' or `gfortran', depending on what the
port requires.
d477 4
a480 2
The dependencies are chosen according to COMPILER_VERSION and
MODFORTRAN_COMPILER.
d482 3
a484 1
If COMPILER_VERSION is not gcc3 (defined by
d486 3
a488 2
and architecture is in MODGCC3_ARCHS, then the gcc 3.3.6
compilers will be put at the front of the path.
d490 2
a491 1
If other languages are needed, they must be listed in MODGCC3_LANGS
d494 3
a496 1
If COMPILER_VERSION is not gcc4 (defined by
d498 3
a500 2
and architecture is in MODGCC4_ARCHS, then the gcc 4.2 compilers
will be put at the front of the path.
d502 2
a503 1
If other languages are needed, they must be listed in MODGCC4_LANGS
d514 31
a544 8
Set MODJAVA_VER=x.y to use exactly the JDK x.y, MODJAVA_VER=x.y+ to
use any x.y or higher version.
Set MODJAVA_JRERUN=Yes if the port only needs the JRE at runtime.
The module sets JAVA_HOME, ONLY_FOR_ARCHS, MODJAVA_RUN_DEPENDS,
MODJAVA_SHARE_DIR, MODJAVA_JAR_DIR, MODJAVA_EXAMPLE_DIR and MODJAVA_DOC_DIR.
It appends to BUILD_DEPENDS, RUN_DEPENDS and CATEGORIES.
If MODJAVA_BUILD=ant then this module provides MODJAVA_BUILD_DIR,
MODJAVA_BUILD_FILE and MODJAVA_BUILD_TARGET, as well as providing a do-build
d546 2
a547 1
It heeds NO_BUILD.
d549 9
a557 3
Sets ONLY_FOR_ARCHS, MODGHC_VER, BUILD_DEPENDS, and RUN_DEPENDS.
The build and further actions are based on MODGHC_BUILD.
It accepts the following values: nort (no runtime dependency on
d560 1
a560 1
targets defined), haddock (to generate API documenation using
d564 10
a573 3
Also affects CATEGORIES, CONFIGURE_STYLE, and SUBST_VARS.
do-build, do-install and do-regress targets are provided if the port
itself didn't set them.
d578 1
a578 1
registered as a library useable by
d582 4
a585 2
command can be specified with MODGHC_SETUP_CONF_ARGS and
MODGHC_SETUP_CONF_ENV.
@


1.108
log
@Document MODLUA_RUNDEP, from Simon Kuhnle tweaked slightly by me.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.107 2011/11/17 18:04:33 sthen Exp $
d624 2
a625 2
If MODGNOME_DESKTOP_FILE=Yes, a dependency on
.Pa devel/desktop-file-utils
d667 2
a668 2
If MODXFCE_DESKTOP_FILE is set to yes, it adds
.Pa devel/desktop-file-utils
@


1.107
log
@MODGCCx_ARCHES -> MODGCCx_ARCHS
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.106 2011/10/03 11:01:32 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: October 3 2011 $
d476 1
a476 1
Appends to RUN_DEPENDS and CATEGORIES.
d478 1
@


1.106
log
@sync after mono module change
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.105 2011/10/03 10:35:06 ajacoutot Exp $
d419 1
a419 1
and architecture is in MODGCC3_ARCHES, then the gcc 3.3.6
d427 1
a427 1
and architecture is in MODGCC4_ARCHES, then the gcc 4.2 compilers
@


1.105
log
@Fix and clarify some bits of the gnome MODULE.

ok jasper@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.104 2011/10/03 06:43:28 ajacoutot Exp $
d485 1
a485 1
If USE_NANT is defined, NANT and NANT_FLAGS are set,
d488 3
a490 2
provided to use nant for building
.Pq can be overridden in the port Makefile .
@


1.104
log
@Tweak after recent gnome module change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.103 2011/09/30 18:06:42 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: September 30 2011 $
d621 1
a621 2
Also unconditionally sets MODGNOME_BUILD_DEPENDS, MODGNOME_CONFIGURE_ARGS,
MODGNOME_RUN_DEPENDS and USE_GMAKE.
d626 2
d645 2
@


1.103
log
@tweak the gnome entry to match reality
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.102 2011/09/27 11:40:37 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: September 27 2011 $
a620 1
Unconditionally appends itlocaledir to FAKE_FLAGS.
@


1.102
log
@Tweak after recent gnome MODULE change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.101 2011/09/23 10:44:02 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: September 23 2011 $
a626 9
If MODGNOME_HELP_FILES=Yes, then
.Pa x11/gnome/yelp
is appended to MODGNOME_RUN_DEPENDS and
.Pa textproc/itstool
as well as
.Pa x11/gnome/doc-utils
are appended to MODGNOME_BUILD_DEPENDS.
This option is to be used when any files are installed into
.Pa share/gnome/help/ .
d634 6
a639 1
If MODGNOME_TOOLS is set to yelp,
d643 2
@


1.101
log
@- sync MODGNOME_TOOLS=yelp description with the comments in the actual module
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.100 2011/09/23 10:42:19 jasper Exp $
d630 2
d633 1
a633 1
is appended to MODGNOME_BUILD_DEPENDS.
@


1.100
log
@some more gnome.port.mk tweaks:
- MODGNOME_DESKTOP_FILE is not uncondtionally set.
- slightly expand the FAKE_FLAGS line
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.99 2011/09/21 09:11:54 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: September 21 2011 $
d632 1
a632 1
This option is to be used when .xml GNOME help files are installed into
@


1.99
log
@- update after recent MODGNOME_TOOLs changes
- EXTRACT_SUFX was changed to .tar.xz
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.98 2011/09/19 07:54:54 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: September 19 2011 $
d621 3
a623 3
Appends to FAKE_FLAGS.
Unconditionally sets MODGNOME_DESKTOP_FILE, MODGNOME_BUILD_DEPENDS,
MODGNOME_CONFIGURE_ARGS, MODGNOME_RUN_DEPENDS and USE_GMAKE.
@


1.98
log
@Use MODXFCE_DESKTOP_FILE for the xfce4 module case.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.97 2011/09/19 07:46:34 ajacoutot Exp $
d620 1
a620 1
EXTRACT_SUFX will default to .tar.bz2 if unset.
d622 2
a623 2
Unconditionally sets MODGNOME_DESKTOP_FILE, MODGNOME_HELP_FILES,
MODGNOME_BUILD_DEPENDS, MODGNOME_RUN_DEPENDS and USE_GMAKE.
d634 2
a635 1
Unless NO_BUILD=Yes, USE_LIBTOOL is set to Yes and
d638 7
@


1.97
log
@DESKTOP_FILES -> MODGNOME_DESKTOP_FILE.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.96 2011/09/01 07:04:34 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: September 1 2011 $
d655 1
a655 1
If MODGNOME_DESKTOP_FILE is set to yes, it adds
@


1.96
log
@- remove drupal5 reference, drupal5 is gone.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.95 2011/08/31 20:33:56 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: August 31 2011 $
d622 1
a622 1
Unconditionally sets DESKTOP_FILES, MODGNOME_HELP_FILES,
d624 1
a624 1
If DESKTOP_FILES=Yes, a dependency on
d655 1
a655 1
If DESKTOP_FILES is set to yes, it adds
@


1.95
log
@sync after recent java.port.mk changes
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.94 2011/08/30 17:16:48 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: August 30 2011 $
a582 1
.It www/drupal5
@


1.94
log
@sync after recent java.port.mk change
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.93 2011/06/05 09:44:58 sthen Exp $
d27 1
a27 1
.Dd $Mdocdate: June 5 2011 $
d444 6
a449 2
The module sets JAVA_HOME, ONLY_FOR_ARCHS, MODJAVA_RUN_DEPENDS, and
appends to BUILD_DEPENDS, RUN_DEPENDS and CATEGORIES.
@


1.93
log
@Describe pear.port.mk
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.92 2011/06/02 17:33:37 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: June 2 2011 $
d445 1
a445 1
appends to BUILD_DEPENDS and RUN_DEPENDS.
@


1.92
log
@Remove the blurb about `--disable-silent-rules' in the gnome MODULE
description, it's the default now.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.91 2011/05/28 08:20:35 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: May 28 2011 $
d599 8
@


1.91
log
@Adapt after recent dconf MODULE change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.90 2011/04/26 13:42:06 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: April 26 2011 $
a612 3
If CONFIGURE_STYLE is set to either gnu or autoconf
--disable-silent-rules and --disable-shave
are appended to CONFIGURE_ARGS.
@


1.90
log
@Tweak after x11/gnome MODULE recent change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.89 2011/04/12 12:11:24 kili Exp $
d27 1
a27 1
.Dd $Mdocdate: April 12 2011 $
d373 2
a374 2
@@exec %D/bin/glib-compile-schemas %D/share/glib-2.0/schemas
@@unexec-delete %D/bin/glib-compile-schemas %D/share/glib-2.0/schemas
@


1.89
log
@Mention flags and environment knobs for MODGHC_BUILD = cabal.
ok jasper@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.88 2011/04/10 17:57:16 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: April 10 2011 $
d610 1
@


1.88
log
@- remove MOTIF bits here too
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.87 2011/03/25 09:28:30 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: March 25 2011 $
d467 3
@


1.87
log
@Document the dconf MODULE.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.86 2010/12/06 10:02:14 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: December 6 2010 $
d243 1
a243 2
.Ev USE_LIBTOOL ,
.Ev USE_MOTIF .
@


1.86
log
@this can't work yet
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.82 2010/12/03 11:53:24 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: December 3 2010 $
d368 9
@


1.85
log
@WRKBUILD might not be defined at modules stage
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.84 2010/12/06 09:31:55 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: December 6 2010 $
a201 21
.Pp
Some modules take some steps entirely over, such as
.Ar do-build .
They should never do so directly.
The proper way is to define a properly named cookie, and have the behavior
attached to the cookie, then override the target only if it isn't already
defined.
.Bd -literal -offset indent
MODFOO_BUILD_COOKIE = ${WRKDIR}/.modfoo_build_done
${MODFOO_BUILD_COOKIE}:
	# whatever I want to do
	touch $@@

\&.if !defined(do-build)
do-build: ${MODFOO_BUILD_COOKIE}
\&.endif
.Ed
.Pp
That way, the behavior can still be used from a port that requires other
things to happen within the target, including ports that want to use several
conflicting modules.
@


1.84
log
@creating the cookie always works better
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.83 2010/12/06 09:14:52 espie Exp $
d210 1
a210 1
MODFOO_BUILD_COOKIE = ${WRKBUILD}/.modfoo_build_done
@


1.83
log
@document the cookie pattern to use to override targets in a truely modular
way
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.82 2010/12/03 11:53:24 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: December 3 2010 $
d213 1
@


1.82
log
@Document recent cpan MODULE change.

ok jasper@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.81 2010/12/02 01:39:57 jeremy Exp $
d27 1
a27 1
.Dd $Mdocdate: December 2 2010 $
d202 20
@


1.81
log
@Bring lang/ruby module documentation up to date.

OK landry@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.80 2010/11/09 17:39:10 jeremy Exp $
d27 1
a27 1
.Dd $Mdocdate: November 9 2010 $
d347 3
@


1.80
log
@Update for recent changes to ruby.port.mk.

OK landry@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.79 2010/10/26 14:30:09 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: October 26 2010 $
d504 1
a504 1
MODRUBY_RSPEC_DEPENDS, MODRUBY_WANTLIB.
d519 2
a520 2
This adds PKG_ARCH = * and adds ruby19 and jruby FLAVORs to the port, so the
same port can build packages for multiple versions of ruby.
d525 1
a525 1
It also adds a ruby19 FLAVOR to build a ruby 1.9 version of the port.
d529 6
a534 6
In order for ruby 1.9 and jruby packages to be built from the same port
directory, any gem dependencies specified in the port should use this format:
:${MODRUBY_PKG_PREFIX}-foo-*:category/ruby-foo,${FLAVOR}.
MODRUBY_PKG_PREFIX is ruby for ruby 1.8 ports (for backwards compatibility),
ruby19 for ruby 1.9 ports, and jruby for jruby ports.
Specifying the FLAVOR is necessary so that if you are building a ruby 1.9
d540 2
@


1.79
log
@Document MODPY_BIN_ADJ MODPY_ADJ_FILES.

ok sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.78 2010/10/26 10:39:48 ajacoutot Exp $
d502 3
a504 1
MODRUBY_ADJ_FILES.
d515 25
@


1.78
log
@Document MODFOO_pre-configure.

ok espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.77 2010/10/24 20:43:31 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: October 24 2010 $
d482 1
a482 1
MODPY_BUILD_DEPENDS.
d492 4
@


1.77
log
@Cope with USE_X11 removal from ports infrastructure.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.76 2010/10/24 15:54:58 sthen Exp $
d155 6
@


1.76
log
@Document MODPY_WANTLIB
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.75 2010/10/24 13:54:14 jmc Exp $
a319 1
.Ev USE_X11 ,
d558 1
a558 1
MODGNOME_BUILD_DEPENDS, MODGNOME_RUN_DEPENDS, USE_GMAKE and USE_X11.
d587 2
a588 2
MODTCL_VERSION to match MODTK_VERSION, and affects CATEGORIES,
SUBST_VARS, and USE_X11.
d592 1
a592 1
CONFIGURE_ENV, USE_X11 and USE_GMAKE.
@


1.75
log
@new sentence, new line;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.74 2010/10/24 09:18:07 sthen Exp $
d476 2
a477 1
MODPY_SETUP, MODPY_LIB_DEPENDS, MODPY_RUN_DEPENDS, MODPY_BUILD_DEPENDS.
@


1.74
log
@Add MODRUBY_RUNDEP and MODRUBY_BUILDDEP, modelled on python.port.mk.
ok jeremy@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.73 2010/10/23 15:29:02 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: October 23 2010 $
d396 2
a397 1
port requires. The default is `g77'.
@


1.73
log
@More gnome MODULE tweaks.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.72 2010/10/23 15:19:59 steven Exp $
d478 1
a478 1
is set to yes.
d497 4
a500 1
Appends to BUILD_DEPENDS, RUN_DEPENDS, CATEGORIES and SUBST_VARS.
@


1.72
log
@adapt fortran module description according to recent changes
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.71 2010/10/23 14:42:59 ajacoutot Exp $
d551 4
a554 4
DISTNAME, VERSION, MASTER_SITES, EXTRACT_SUFX and adds x11/gnome to
CATEGORIES.
Sets DESKTOP_FILES, MODGNOME_HELP_FILES, MODGNOME_BUILD_DEPENDS,
MODGNOME_RUN_DEPENDS, USE_GMAKE and USE_X11.
@


1.71
log
@Tweak after recent gnome MODULE change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.70 2010/10/18 13:28:08 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: October 18 2010 $
d395 4
a398 2
Set MODFORTRAN_WANTG77=Yes if the port requires a Fortran 77 compiler.
The dependencies are chosen according to COMPILER_VERSION.
@


1.70
log
@sync
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.69 2010/10/07 17:53:01 jeremy Exp $
d27 1
a27 1
.Dd $Mdocdate: October 7 2010 $
d548 4
a551 1
Sets DESKTOP_FILES, EXTRACT_SUFX, MODGNOME_HELP_FILES, MODGNOME_BUILD_DEPENDS,
a552 2
EXTRACT_SUFX defaults to .tar.bz2.
Also affects CATEGORIES.
d555 1
a555 1
is appended to CONFIGURE_ARGS.
d558 1
a558 2
is appended
to MODGNOME_RUN_DEPENDS.
a569 2
MASTER_SITES and DISTNAME are built using GNOME_PROJECT and
GNOME_VERSION.
@


1.69
log
@Update the lang/ruby module documentation for changes since 1.22 of
ruby.port.mk.

ok sthen
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.68 2010/10/01 21:56:00 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: October 1 2010 $
d549 1
a549 1
MODGNOME_RUN_DEPENDS and USE_GMAKE.
@


1.68
log
@- document new MODCPAN_MODULES

feedback and ok espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.67 2010/09/26 08:00:56 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: September 26 2010 $
d486 9
a494 2
Sets MODRUBY_REV, RUBY, MODRUBY_RUN_DEPENDS, MODRUBY_LIB_DEPENDS,
MODRUBY_LIBDIR, MODRUBY_DOCDIR, MODRUBY_EXAMPLEDIR, MODRUBY_ARCH.
d496 1
@


1.67
log
@- also explain what needs to be done after added MODGHC_BUILD=register

ok kili@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.66 2010/09/23 18:31:27 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: September 23 2010 $
d346 13
@


1.66
log
@- first stab at documenting the haskell module

feedback/ok kili@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.65 2010/09/22 22:02:23 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: September 22 2010 $
d428 2
@


1.65
log
@- fix a ghc variable
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.64 2010/09/17 22:02:00 sthen Exp $
d27 1
a27 1
.Dd $Mdocdate: September 17 2010 $
d417 16
@


1.64
log
@fix "set yo yes" typo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.63 2010/09/09 17:34:37 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: September 9 2010 $
d416 1
a416 1
Sets ONLY_FOR_ARCHS, MODGHC_VERSION, BUILD_DEPENDS, and RUN_DEPENDS.
@


1.63
log
@- sync lua.port.mk blurb

ok sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.62 2010/07/30 22:51:03 sthen Exp $
d27 1
a27 1
.Dd $Mdocdate: July 30 2010 $
d445 1
a445 1
is set yo yes.
@


1.62
log
@Mention the horde port module. Not documented yet.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.61 2010/07/22 10:42:37 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: July 22 2010 $
d420 2
a421 2
Also appends to BUILD_DEPENDS,
unless NO_BUILD has been set to Yes.
@


1.61
log
@Add a comment about MODPY_BUILDDEP and NO_BUILD in the python section.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.60 2010/07/21 17:31:51 steven Exp $
d27 1
a27 1
.Dd $Mdocdate: July 21 2010 $
d483 1
@


1.60
log
@document fortran module
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.59 2010/07/21 17:07:27 steven Exp $
d444 2
@


1.59
log
@reverse logic in previous
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.58 2010/07/21 17:01:17 steven Exp $
d381 3
@


1.58
log
@update gcc3 and gcc4 modules with COMPILER_VERSION instead of USE_GCC[34]
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.56 2010/07/08 21:14:57 landry Exp $
d27 1
a27 1
.Dd $Mdocdate: July 9 2010 $
d382 1
a382 1
If COMPILER_VERSION=gcc3 (defined by
d390 1
a390 1
If COMPILER_VERSION=gcc4 (defined by
@


1.57
log
@new sentence, new line;
@
text
@d27 1
a27 1
.Dd $Mdocdate: July 8 2010 $
d382 1
a382 1
If USE_GCC3=No (defined by
d390 4
a393 3
If USE_GCC4=No (the default), and architecture is in
MODGCC4_ARCHES, then the gcc 4.2 compilers will be put at the front of
the path.
@


1.56
log
@First shot at documenting new www/mozilla MODULE, with feedback from jmc@@.
ok jmc@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.55 2010/07/05 09:25:26 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: July 5 2010 $
d479 2
a480 1
SHARED_ONLY. EXTRACT_SUFX defaults to .tar.bz2.
d484 3
a486 2
Sets common CONFIGURE_ARGS, MAKE_ENV and CONFIGURE_ENV. Sets MOB variable as
source directory and MOZ as target directory within do-install.
@


1.55
log
@Sync recent mono MODULE change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.54 2010/06/15 21:21:54 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: June 15 2010 $
d477 14
@


1.54
log
@- sync lua module
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.53 2010/05/25 08:57:51 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: May 25 2010 $
d419 2
a420 2
Sets ONLY_FOR_ARCHS, CONFIGURE_ENV, MAKE_FLAGS, MODMONO_BUILD_DEPENDS
and MODMONO_RUN_DEPENDS.
@


1.53
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.52 2010/05/25 08:09:43 jasper Exp $
d414 1
@


1.52
log
@- x11/qt2 is long gone.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.51 2010/05/25 07:55:13 ajacoutot Exp $
d110 1
a110 1
.Pa x11/qt3 ,
@


1.51
log
@Mention the new fortran MODULE. Not yet documented.

"of course" espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.50 2010/04/08 16:35:21 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: April 8 2010 $
a109 1
.Pa x11/qt2 ,
d114 1
a114 1
.Ev MODQT2* ,
a510 1
.It x11/qt2
@


1.50
log
@Add missing mono MODULE variables.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.49 2010/04/06 13:10:46 xsa Exp $
d27 1
a27 1
.Dd $Mdocdate: April 6 2010 $
d381 1
@


1.49
log
@document www/plone module.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.48 2010/04/05 11:44:19 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: April 5 2010 $
d418 2
a419 1
Sets ONLY_FOR_ARCHS, CONFIGURE_ENV and MAKE_FLAGS.
@


1.48
log
@Document the lang/mono MODULE.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.47 2010/03/21 11:40:39 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: March 21 2010 $
d477 5
@


1.47
log
@Document the new APM_ARCHS variable.

comments from espie@@ naddy@@ jasper@@
"looks good" jasper@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.46 2009/10/21 16:13:34 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: October 21 2009 $
d418 11
@


1.46
log
@Tweak after recent gnome MODULE changes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.45 2009/10/15 18:14:34 steven Exp $
d27 1
a27 1
.Dd $Mdocdate: October 15 2009 $
d311 1
@


1.45
log
@sync with gcc4 port module change
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.44 2009/08/11 20:33:04 landry Exp $
d27 1
a27 1
.Dd $Mdocdate: August 11 2009 $
d468 1
a468 1
MODGNOME_RUN_DEPENDS, and USE_GMAKE.
d471 3
@


1.44
log
@Update documentation for x11/xfce4 module.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.43 2009/06/11 18:47:27 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: June 11 2009 $
d394 1
a394 1
(e.g. c++, g77).
@


1.43
log
@Finish documenting the gconf2 module.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.42 2009/06/08 16:48:41 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: June 8 2009 $
d516 2
a517 2
Xfce ports can be divided into three categories: core libraries and
applications, goodies, and panel plugins.
d520 1
a520 1
XFCE_GOODIE or XFCE_PLUGIN.
@


1.42
log
@Document new behaviour of the gconf2 MODULE.

ok kili@@
cvs: ----------------------------------------------------------------------
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.41 2009/06/07 07:20:46 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: June 7 2009 $
d348 7
a354 3
Sets CONFIGURE_ARGS and BUILD_DEPENDS.
According to the values of MODGCONF2_LIBDEP and MODGCONF2_RUNDEP, sets
LIB_DEPENDS or RUN_DEPENDS.
@


1.41
log
@Document the gconf2 module.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.40 2009/06/04 13:51:57 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: June 4 2009 $
d348 3
a350 2
Sets CONFIGURE_ARGS and according to the value of MODGCONF2_LIBDEP:
LIB_DEPENDS, BUILD_DEPENDS and RUN_DEPENDS.
@


1.40
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.39 2009/06/04 01:11:57 jasper Exp $
d347 5
@


1.39
log
@- document scons
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.38 2009/05/19 21:24:43 sthen Exp $
d27 1
a27 1
.Dd $Mdocdate: May 19 2009 $
d359 1
a359 1
It provides a do-build and do-install target, that can be overriden in the
@


1.38
log
@document MODTCL_{TCLSH,WISH}_ADJ, MOD{TCL,TK}_LIB and note that
MOD{TCL,TK}_VERSION may be overridden.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.37 2009/05/19 09:17:17 sthen Exp $
d354 7
@


1.37
log
@add placeholder for www/drupal6
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.36 2009/04/26 13:10:20 tobias Exp $
d27 1
a27 1
.Dd $Mdocdate: April 26 2009 $
d423 1
a423 1
MODTCL_BUILD_DEPENDS, MODTCL_RUN_DEPENDS, MODTCL_LIB_DEPENDS,
d425 4
d478 6
a483 3
MODTK_BUILD_DEPENDS, MODTK_RUN_DEPENDS, MODTK_LIB_DEPENDS, and
MODTK_CONFIG.
Automatically adds the lang/tcl module, and affects CATEGORIES,
d485 1
@


1.36
log
@typos fixed

ok jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.35 2009/04/26 11:04:31 ajacoutot Exp $
d441 1
@


1.35
log
@Add recent python module change.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.34 2009/04/06 10:12:08 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: April 6 2009 $
d344 1
a344 1
and CPAN_REPORT_FROM to a valid email adress to automate the reporting
@


1.34
log
@- tweak for recent gnome.port.mk changes

ok jasper@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.33 2008/11/18 08:01:14 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: November 18 2008 $
d415 1
a415 1
Also affects CATEGORIES, MAKE_ENV, SHARED_ONLY, and SUBST_VARS.
@


1.33
log
@- tweak the xfce4 entry a bit

ok landry@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.32 2008/11/17 15:29:07 jasper Exp $
d27 1
a27 1
.Dd $Mdocdate: November 17 2008 $
d445 2
a446 2
Sets DESKTOP_FILES, EXTRACT_SUFX, MODGNOME_HELP_FILES, MODGNOME_RUN_DEPENDS,
and USE_GMAKE.
d455 3
a457 1
is appended to MODGNOME_RUN_DEPENDS.
@


1.32
log
@- document pmk.port.mk
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.31 2008/11/17 15:22:40 jasper Exp $
d476 1
a476 1
Sets CATEGORIES, DIST_SUBDIR, EXTRACT_SUFX, CONFIGURE_STYLE,
d486 1
@


1.31
log
@- x11/qt is an ex-module
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.30 2008/11/17 13:16:28 jmc Exp $
d349 4
@


1.30
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.29 2008/11/17 11:39:44 jasper Exp $
a461 1
.It x11/qt
@


1.29
log
@- use .Pa where needed

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.28 2008/11/17 10:48:44 jasper Exp $
d432 1
a432 1
intltool-merge and intltool-update, instead of the versions pacakges into the
d442 2
a443 1
and USE_GMAKE. EXTRACT_SUFX defaults to .tar.bz2 .
@


1.28
log
@- document intltool.port.mk

ok ajacoutot@@ jmc@@ (who also spotted a tyop)
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.27 2008/11/17 10:46:03 jasper Exp $
d351 6
a356 2
Adds devel/waf to BUILD_DEPENDS, lang/python to MODULES, and provides
do-configure, do-build, do-install and post-install targets.
@


1.27
log
@- add a Dwarf Encyclopaedia (gnome.port.mk) section

feedback from jmc@@
ok ajacoutot@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.26 2008/10/29 14:44:22 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: October 29 2008 $
d423 9
@


1.26
log
@some macro fix up;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.25 2008/10/28 14:10:46 steven Exp $
d27 1
a27 1
.Dd $Mdocdate: October 28 2008 $
d428 18
@


1.25
log
@clarify usage of gcc3/gcc4 modules a bit more.

ok ajacoutot@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.24 2008/10/28 13:29:55 ajacoutot Exp $
d357 2
a358 2
.Pa /usr/share/mk/bsd.own.mk )
, and architecture is in MODGCC3_ARCHES, then the gcc 3.3.6
@


1.24
log
@- reverse logic for the gcc MODULES

ok steven@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.23 2008/10/28 12:27:09 ajacoutot Exp $
d360 3
d364 1
a364 1
If USE_GCC4=No (undefined by default), and architecture is in
d367 3
@


1.23
log
@- document the fact that USE_GCC* is always set when the corresponding
MODULE is used

"go ahead" robert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.22 2008/10/26 15:10:03 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: October 26 2008 $
d356 4
a359 3
If USE_GCC3=Yes (which the module sets by default), and architecture is in
MODGCC3_ARCHES, then the gcc 3.3.6 compilers will be put at the front of
the path.
d361 1
a361 1
If USE_GCC4=Yes (which the module sets by default), and architecture is in
@


1.22
log
@new sentence, new line;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.21 2008/10/26 12:36:58 landry Exp $
d356 3
a358 2
If USE_GCC3=Yes, and architecture is in MODGCC3_ARCHES, then the gcc 3.3.6
compilers will be put at the front of the path.
d360 3
a362 2
If USE_GCC4=Yes, and architecture is in MODGCC4_ARCHES, then the gcc 4.2
compilers will be put at the front of the path.
@


1.21
log
@Document devel/waf MODULE.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.20 2008/10/24 14:15:53 bernd Exp $
d27 1
a27 1
.Dd $Mdocdate: October 24 2008 $
d352 3
a354 2
do-configure, do-build, do-install and post-install targets. do-build,
do-install and post-install can be overridden in the port Makefile.
@


1.20
log
@Start documenting the lang/ruby module.
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.19 2008/10/22 18:15:04 steven Exp $
d27 1
a27 1
.Dd $Mdocdate: October 22 2008 $
d351 3
@


1.19
log
@sync list of port modules
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.18 2008/10/10 20:15:52 steven Exp $
d27 1
a27 1
.Dd $Mdocdate: October 10 2008 $
d397 3
@


1.18
log
@sync tcl/tk description with reality
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.17 2008/06/14 16:17:03 landry Exp $
d27 1
a27 1
.Dd $Mdocdate: June 14 2008 $
d350 1
d378 1
@


1.17
log
@Document x11/xfce4 module, with help of jmc@@, thanks !

ok ajacoutot@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.16 2008/06/12 20:27:29 ajacoutot Exp $
d27 1
a27 1
.Dd $Mdocdate: June 12 2008 $
d396 3
a398 1
Sets MODTCL_VERSION, MODTCL_BIN, MODTCL_INCDIR, and MODTCL_CONFIG.
d417 3
a419 2
Sets MODTK_VERSION, MODTK_BIN, MODTK_INCDIR, MODTK_CONFIG,
MODTK_BUILD_DEPENDS, and MODTK_RUN_DEPENDS.
@


1.16
log
@- add all missing MODULES

"no issues" for jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.15 2008/06/12 19:59:52 jmc Exp $
d419 18
@


1.15
log
@new sentence, new line;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.14 2008/06/12 19:13:23 steven Exp $
d331 2
d346 4
d402 2
d405 1
d407 7
@


1.14
log
@a few minor rewordings and tweaks
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.13 2008/06/12 18:59:25 steven Exp $
d368 2
a369 1
Appends to RUN_DEPENDS and CATEGORIES. Also appends to BUILD_DEPENDS,
@


1.13
log
@add some description for the tcl and tk modules
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.12 2008/06/12 16:02:13 landry Exp $
d359 1
a359 1
Set MODJAVA_VER=x.y to use exactly the jdk x.y, MODJAVA_VER=x.y+ to
d361 1
a361 1
Set MODJAVA_JRERUN=Yes if the port only needs the jre at runtime.
d368 2
a369 1
Sets CATEGORIES, RUN_DEPENDS, and BUILD_DEPENDS if NO_BUILD is not set.
d378 1
a378 1
Adds to RUN_DEPENDS unless MODPY_RUNDEP is set to "no".
d380 1
a380 1
Ports which use the setuptools module should set MODPY_SETUPTOOLS to "yes".
d386 1
a386 1
May affect regress target.
@


1.12
log
@Document lang/lua MODULE.

Reminded by pyr@@ and ajacoutot@@ while going to the hike,
ok ajacoutot@@ and looks fine to jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.11 2008/05/18 13:45:18 steven Exp $
d27 1
a27 1
.Dd $Mdocdate: May 17 2008 $
d388 2
d397 4
@


1.11
log
@typo, found by markus.lude@@gmx.de
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.10 2008/05/17 10:35:34 wcmaier Exp $
d367 2
@


1.10
log
@Describe MODPY_EGG_VERSION.

ok/requested by steven@@, "fine" espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.9 2008/05/14 13:28:57 deanna Exp $
d27 1
a27 1
.Dd $Mdocdate: May 14 2008 $
d178 1
a178 1
is overriden, normal hook processing will not happen.
d198 1
a198 1
Some variables can be overriden by modules.
d209 1
a209 1
The following variables can be overriden in a relatively safe fashion:
@


1.9
log
@Add tcl and tk to the list
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.8 2008/05/13 20:10:50 steven Exp $
d27 1
a27 1
.Dd $Mdocdate: May 13 2008 $
d378 2
@


1.8
log
@attempt at documenting the python module
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.7 2008/05/12 13:56:21 steven Exp $
d27 1
a27 1
.Dd $Mdocdate: May 12 2008 $
d383 1
d390 1
@


1.7
log
@typos
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.6 2008/05/12 13:08:33 jmc Exp $
d373 9
@


1.6
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.5 2008/05/12 10:48:09 espie Exp $
d368 1
a368 1
Sets OCAML_VERSIOn, MODOCAM_NATIVE.
d371 1
a371 1
the arch supports native compilation or not.
@


1.5
log
@document some modules
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.4 2008/05/12 10:27:30 espie Exp $
d360 2
a361 2
use any x.y or higher version.  Set MODJAVA_JRERUN=Yes if the port only
needs the jre at runtime.
d370 1
a370 1
This also selects a %%native%% plist fragment depending whether
a380 1
.Pp
@


1.4
log
@much more exhaustive list of variables usually affected
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.3 2008/05/11 19:45:41 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: May 11 2008 $
d232 1
d332 12
d345 2
d348 2
d351 3
d355 3
d359 6
d366 1
d368 4
d375 3
a381 1
They will be documented soon.
@


1.3
log
@fix list of modules to be documented soon
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.2 2008/05/11 19:24:00 espie Exp $
d210 1
d214 2
d219 2
d223 1
a223 1
.Ev MAKE_FLAGS ,
d225 4
d230 1
d243 4
d249 1
d251 3
d255 2
d258 1
d311 2
a313 1
.Ev NO_BUILD ,
a314 1
.Ev NO_REGRESS ,
d317 1
d319 2
a320 1
.Ev USE_X11 .
@


1.2
log
@fix module name, as noticed by steven@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: port-modules.5,v 1.1 2008/05/11 18:50:58 espie Exp $
a309 1
.It ghc
d313 4
a316 2
.It ocaml
.It pear
d318 2
a319 2
.It python
.It ruby
@


1.1
log
@Document port modules, nroff input by jmc.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d27 1
a27 1
.Dd $Mdocdate$
d63 1
a63 1
.Pa ${PORTSDIR}/some/dir/portname/portname.mk
@

