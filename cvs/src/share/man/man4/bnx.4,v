head	1.30;
access;
symbols
	OPENBSD_6_1_BASE:1.30
	OPENBSD_6_0:1.30.0.10
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.30.0.2
	OPENBSD_5_9_BASE:1.30
	OPENBSD_5_8:1.30.0.6
	OPENBSD_5_8_BASE:1.30
	OPENBSD_5_7:1.30.0.4
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.29.0.6
	OPENBSD_5_6_BASE:1.29
	OPENBSD_5_5:1.29.0.4
	OPENBSD_5_5_BASE:1.29
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.26.0.14
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.26.0.12
	OPENBSD_5_2_BASE:1.26
	OPENBSD_5_1_BASE:1.26
	OPENBSD_5_1:1.26.0.10
	OPENBSD_5_0:1.26.0.8
	OPENBSD_5_0_BASE:1.26
	OPENBSD_4_9:1.26.0.6
	OPENBSD_4_9_BASE:1.26
	OPENBSD_4_8:1.26.0.4
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.26.0.2
	OPENBSD_4_7_BASE:1.26
	OPENBSD_4_6:1.25.0.4
	OPENBSD_4_6_BASE:1.25
	OPENBSD_4_5:1.24.0.2
	OPENBSD_4_5_BASE:1.24
	OPENBSD_4_4:1.23.0.2
	OPENBSD_4_4_BASE:1.23
	OPENBSD_4_3:1.19.0.2
	OPENBSD_4_3_BASE:1.19
	OPENBSD_4_2:1.17.0.2
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.14.0.2
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.9.0.2
	OPENBSD_4_0_BASE:1.9;
locks; strict;
comment	@.\" @;


1.30
date	2014.09.14.00.17.09;	author brad;	state Exp;
branches;
next	1.29;
commitid	UWkNjECQgCqlJng0;

1.29
date	2013.11.05.03.51.43;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2013.07.16.16.05.48;	author schwarze;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.30.05.34.53;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2009.08.02.09.28.06;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2009.07.03.04.55.40;	author dlg;	state Exp;
branches;
next	1.24;

1.24
date	2008.10.28.06.27.28;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2008.07.26.01.25.08;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2008.07.26.00.47.27;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2008.05.10.23.09.18;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2008.04.03.02.41.26;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2008.02.12.18.32.59;	author millert;	state Exp;
branches;
next	1.18;

1.18
date	2008.01.10.10.27.18;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2007.07.04.00.20.22;	author krw;	state Exp;
branches;
next	1.16;

1.16
date	2007.05.31.19.19.49;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2007.03.15.22.05.49;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2007.01.27.12.38.59;	author krw;	state Exp;
branches;
next	1.13;

1.13
date	2006.12.15.16.12.52;	author reyk;	state Exp;
branches;
next	1.12;

1.12
date	2006.11.22.16.44.21;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2006.11.21.15.47.07;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2006.10.04.00.23.20;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2006.08.30.22.56.05;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2006.08.21.03.24.11;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2006.08.20.19.36.36;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2006.08.17.11.27.41;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2006.08.17.07.34.22;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2006.07.09.05.19.40;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2006.06.26.07.54.49;	author jmc;	state Exp;
branches;
next	1.2;

1.2
date	2006.06.26.07.37.13;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2006.06.26.05.38.14;	author brad;	state Exp;
branches;
next	;


desc
@@


1.30
log
@- Don't capitalize jumbo.
- Don't try to keep track of jumbo frame sizes in the pages. Users can
  use `ifconfig hwfeatures' to determine what the hardware supports.
@
text
@.\"	$OpenBSD: bnx.4,v 1.29 2013/11/05 03:51:43 brad Exp $
.\"
.\"Copyright (c) 2006 Broadcom Corporation
.\" David Christensen <davidch@@broadcom.com>.  All rights reserved.
.\"
.\"Redistribution and use in source and binary forms, with or without
.\"modification, are permitted provided that the following conditions
.\"are met:
.\"
.\"1. Redistributions of source code must retain the above copyright
.\"   notice, this list of conditions and the following disclaimer.
.\"2. Redistributions in binary form must reproduce the above copyright
.\"   notice, this list of conditions and the following disclaimer in the
.\"   documentation and/or other materials provided with the distribution.
.\"3. Neither the name of Broadcom Corporation nor the name of its contributors
.\"   may be used to endorse or promote products derived from this software
.\"   without specific prior written consent.
.\"
.\"THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS'
.\"AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\"IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\"ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
.\"BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
.\"CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
.\"SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
.\"INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
.\"CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
.\"ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
.\"THE POSSIBILITY OF SUCH DAMAGE.
.\"
.\" $FreeBSD: /repoman/r/ncvs/src/share/man/man4/bce.4,v 1.2 2006/04/10 20:12:17 brueffer Exp $
.\"
.Dd $Mdocdate: November 5 2013 $
.Dt BNX 4
.Os
.Sh NAME
.Nm bnx
.Nd Broadcom NetXtreme II 10/100/Gigabit Ethernet device
.Sh SYNOPSIS
.Cd "bnx* at pci?"
.Cd "brgphy* at mii?"
.Sh DESCRIPTION
The
.Nm
driver supports Broadcom's NetXtreme II product family which is made up of
the BCM5706, BCM5708, BCM5709, and BCM5716 Ethernet controller chips.
Products using these controller chips include:
.Pp
.Bl -bullet -compact
.It
HP NC370F PCI-X Multifunction Gigabit server adapter (1000baseSX)
.It
HP NC370T PCI-X Multifunction Gigabit server adapter (10/100/1000baseT)
.It
HP Dual NC370i Multifunction Gigabit embedded server adapter (10/100/1000baseT)
.It
HP NC373F PCI Express Multifunction Gigabit server adapter (1000baseSX)
.It
HP NC373i PCI Express Multifunction Gigabit embedded server adapter (10/100/1000baseT)
.It
HP NC374m PCI Express Multifunction Gigabit embedded server adapter (10/100/1000baseT)
.It
HP NC373T PCI Express Multifunction Gigabit server adapter (10/100/1000baseT)
.It
HP NC380T PCI Express Dual Port Multifunction Gigabit server adapter (10/100/1000baseT)
.It
HP NC382T PCI Express Dual Port server adapter (10/100/1000baseT)
.El
.Pp
The NetXtreme II product family is composed of various Converged NIC (or CNIC)
Ethernet controllers which support a TCP Offload Engine (TOE),
Remote DMA (RDMA), and iSCSI acceleration,
in addition to standard L2 Ethernet traffic,
all on the same controller.
The following features are supported in the
.Nm
driver under
.Ox :
.Bd -literal -offset indent
IPv4 receive IP/TCP/UDP checksum offload
IPv4 transmit TCP/UDP checksum offload
.\"jumbo frames
VLAN tag insertion and stripping
interrupt coalescing
10/100/1000Mbps operation in full-duplex mode
10/100Mbps operation in half-duplex mode
.Ed
.Pp
The
.Nm
driver supports the following media types:
.Bl -tag -width ".Cm 10baseT/UTP"
.It Cm autoselect
Enable autoselection of the media type and options.
The user can manually override
the autoselected mode via
.Xr ifconfig 8 .
.It Cm 10baseT/UTP
Set 10Mbps operation.
The
.Xr ifconfig 8
.Ic mediaopt
option can also be used to select either
.Cm full-duplex
or
.Cm half-duplex
modes.
.It Cm 100baseTX
Set 100Mbps (Fast Ethernet) operation.
The
.Xr ifconfig 8
.Ic mediaopt
option can also be used to select either
.Cm full-duplex
or
.Cm half-duplex
modes.
.It Cm 1000baseT
Set 1000baseT operation over twisted pair.
Only
.Cm full-duplex
mode is supported.
.It Cm 1000baseSX
Set 1000Mbps (Gigabit Ethernet) operation.
Only
.Cm full-duplex
mode is supported.
.It Cm 2500baseSX
Set 2500Mbps operation.
Only
.Cm full-duplex
mode is supported.
.El
.Pp
The
.Nm
driver supports the following media options:
.Bl -tag -width ".Cm full-duplex"
.It Cm full-duplex
Force full duplex operation.
.It Cm half-duplex
Force half duplex operation.
.El
.Pp
For more information on configuring this device, see
.Xr ifconfig 8 .
.Sh FILES
The adapter needs firmware files to run, which are loaded on demand by the
driver when the device is attached:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It Pa /etc/firmware/bnx-b06
.It Pa /etc/firmware/bnx-b09
.It Pa /etc/firmware/bnx-rv2p
.It Pa /etc/firmware/bnx-xi-rv2p
.It Pa /etc/firmware/bnx-xi90-rv2p
.El
.Sh SEE ALSO
.Xr arp 4 ,
.Xr brgphy 4 ,
.Xr ifmedia 4 ,
.Xr intro 4 ,
.Xr netintro 4 ,
.Xr pci 4 ,
.Xr hostname.if 5 ,
.Xr ifconfig 8
.Sh HISTORY
The
.Nm
device driver first appeared in
.Ox 4.0 .
.Sh AUTHORS
.An -nosplit
The
.Nm
driver was written by
.An David Christensen Aq Mt davidch@@broadcom.com
and ported to
.Ox
by
.An Brad Smith Aq Mt brad@@openbsd.org .
@


1.29
log
@Mention the TX checksum offload support.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.28 2013/07/16 16:05:48 schwarze Exp $
d33 1
a33 1
.Dd $Mdocdate: July 16 2013 $
d82 1
a82 1
.\"Jumbo frames (up to 9022 bytes)
d84 1
a84 1
Interrupt coalescing
@


1.28
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.27 2013/03/30 05:34:53 brad Exp $
d33 1
a33 1
.Dd $Mdocdate: March 30 2013 $
d81 1
@


1.27
log
@Remove mentioning specific systems with embedded Ethernet chipsets or
LOM in vge(4) which is pretty vague and common to many Ethernet chipsets.

ok kettenis@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.26 2009/08/02 09:28:06 sthen Exp $
d33 1
a33 1
.Dd $Mdocdate: August 2 2009 $
d176 1
a176 1
.An David Christensen Aq davidch@@broadcom.com
d180 1
a180 1
.An Brad Smith Aq brad@@openbsd.org .
@


1.26
log
@List some newer supported hardware, from Brad.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.25 2009/07/03 04:55:40 dlg Exp $
d33 1
a33 1
.Dd $Mdocdate: July 3 2009 $
a50 24
Dell PowerEdge 1950 integrated BCM5708 NIC (10/100/1000baseT)
.It
Dell PowerEdge 2900 integrated BCM5708 NIC (10/100/1000baseT)
.It
Dell PowerEdge 2950 integrated BCM5708 NIC (10/100/1000baseT)
.It
Dell PowerEdge 2970 integrated BCM5708 NIC (10/100/1000baseT)
.It
Dell PowerEdge R410 integrated BCM5716 NIC (10/100/1000baseT)
.It
Dell PowerEdge R610 integrated BCM5709 NIC (10/100/1000baseT)
.It
Dell PowerEdge R710 integrated BCM5709 NIC (10/100/1000baseT)
.It
Dell PowerEdge R805 integrated BCM5708 NIC (10/100/1000baseT)
.It
Dell PowerEdge R900 integrated BCM5708 NIC (10/100/1000baseT)
.It
Dell PowerEdge R905 integrated BCM5708 NIC (10/100/1000baseT)
.It
Dell PowerEdge T410 integrated BCM5716 NIC (10/100/1000baseT)
.It
Dell PowerEdge T610 integrated BCM5709 NIC (10/100/1000baseT)
.It
a67 4
.It
IBM xSeries 3550 integrated BCM5708 NIC (10/100/1000baseT)
.It
IBM xSeries 3650 integrated BCM5708 NIC (10/100/1000baseT)
@


1.25
log
@document support for the bcm5709 and bcm5716, and the new firmware files
the driver uses.

add some more dell boxes i know of that use bnx.

"go for it" deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.24 2008/10/28 06:27:28 brad Exp $
d33 1
a33 1
.Dd $Mdocdate: October 28 2008 $
d87 2
d90 2
@


1.24
log
@Update for VLAN tag insertion and stripping support.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.23 2008/07/26 01:25:08 brad Exp $
d33 1
a33 1
.Dd $Mdocdate: July 26 2008 $
d45 3
a47 3
driver supports Broadcom's NetXtreme II product family, such as the
BCM5706 PCI-X and BCM5708 PCI Express Ethernet controllers, which
includes the following:
d53 2
d59 16
d171 1
a171 1
The adapter needs a firmware file, which is loaded on demand by the
d175 5
a179 1
.It Pa /etc/firmware/bnx
@


1.23
log
@Only full-dupex is supported for 1000baseT.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.22 2008/07/26 00:47:27 brad Exp $
d88 1
a88 1
VLAN tag insertion
@


1.22
log
@Update for the fibre support.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.21 2008/05/10 23:09:18 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 10 2008 $
d130 1
a130 1
Both
d132 1
a132 3
and
.Cm half-duplex
modes are supported.
@


1.21
log
@comment fix; from Pierre Riteau
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.20 2008/04/03 02:41:26 brad Exp $
d33 1
a33 1
.Dd $Mdocdate: April 3 2008 $
d125 12
@


1.20
log
@Add newer HP and Sun Gigabit Ethernet adapters.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.19 2008/02/12 18:32:59 millert Exp $
d30 1
a30 1
\"
d33 1
a33 1
.Dd $Mdocdate: February 12 2008 $
@


1.19
log
@Dell PowerEdge 2970 has bnx(4) too.  OK marco@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.18 2008/01/10 10:27:18 brad Exp $
d33 1
a33 1
.Dd $Mdocdate: January 10 2008 $
d61 2
d66 2
@


1.18
log
@1000baseTX -> 1000baseT

ok dlg@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.17 2007/07/04 00:20:22 krw Exp $
d33 1
a33 1
.Dd $Mdocdate: July 4 2007 $
d54 2
@


1.17
log
@Revert r1.42 of if_bnx.c, "Enable IPv4 transmit TCP/UDP checksum
offload", and associated man page change. To use IPv4 transmit TCP/UDP
checksum offloading you must again define BNX_CSUM.

As requested by mbalmer@@ via deraadt@@ on suggestion of reyk@@ in
response to PR #5437.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.16 2007/05/31 19:19:49 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
d117 2
a118 2
.It Cm 1000baseTX
Set 1000baseTX operation over twisted pair.
@


1.16
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.15 2007/03/15 22:05:49 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
a79 1
IPv4 transmit TCP/UDP checksum offload
@


1.15
log
@no jumbosity for bnx
from brad; ok reyk
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.14 2007/01/27 12:38:59 krw Exp $
d33 1
a33 1
.Dd April 4, 2006
@


1.14
log
@Enable transmit TCP/UDP checksum offload.

From Brad, tested by Brad, biorn@@ and Johan M:son Lindman.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.13 2006/12/15 16:12:52 reyk Exp $
d82 1
a82 1
Jumbo frames (up to 9022 bytes)
@


1.13
log
@add the HP NC373i PCI Express Multifunction Gigabit embedded server
adapter as found on the latest HP ProLiant servers (DL365 G1, DL385
G2, DL585 G2).
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.12 2006/11/22 16:44:21 brad Exp $
d80 1
@


1.12
log
@tagging -> tag insertion
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.11 2006/11/21 15:47:07 brad Exp $
d60 2
@


1.11
log
@VLAN tagging
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.10 2006/10/04 00:23:20 deraadt Exp $
d80 1
a80 1
VLAN tagging
@


1.10
log
@document /etc/firmware/bnx
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.9 2006/08/30 22:56:05 jmc Exp $
d80 1
a80 1
.\" VLAN tagging
@


1.9
log
@the start of making .Nd lines more useful for section4;
this diff addresses ethernet devices only

input from nick jsg deraadt, maybe some others
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.8 2006/08/21 03:24:11 brad Exp $
d134 7
@


1.8
log
@Jumbo's
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.7 2006/08/20 19:36:36 brad Exp $
d38 1
a38 1
.Nd "Broadcom NetXtreme II Gigabit Ethernet adapter driver"
@


1.7
log
@RX checksum offload.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.6 2006/08/17 11:27:41 jmc Exp $
d79 1
a79 1
.\" Jumbo frames (up to 9022 bytes)
@


1.6
log
@add -nosplit to AUTHORS;
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.5 2006/08/17 07:34:22 brad Exp $
d78 1
a78 1
.\" IP/TCP/UDP checksum offload
d80 1
a80 1
.\" VLAN tag stripping
@


1.5
log
@add myself.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.4 2006/07/09 05:19:40 brad Exp $
d149 1
@


1.4
log
@add a few Dell/IBM servers and a few HP adapters.
@
text
@d1 1
a1 1
.\"	$OpenBSD: bnx.4,v 1.3 2006/06/26 07:54:49 jmc Exp $
d152 5
a156 1
.An David Christensen Aq davidch@@broadcom.com .
@


1.3
log
@tweaks;
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d51 1
a51 1
HP NC370F PCI-X Multifunction Gigabit server adapter
d53 13
a65 1
HP NC370T PCI-X Multifunction Gigabit server adapter
@


1.2
log
@I'm not sure where the NC370i came from, but HP definitely makes a NC370F,
which is a fibre 1000baseSX adapter.
@
text
@d1 2
d56 6
a61 5
The NetXtreme II product family is composed of various Converged NIC (or CNIC) 
Ethernet controllers which support a TCP Offload Engine (TOE), Remote DMA (RDMA), 
and iSCSI acceleration, in addition to standard L2 Ethernet traffic, all on the 
same controller.
The following features are supported in the 
d63 2
a64 1
driver under OpenBSD:
d81 2
a82 2
the autoselected mode by adding media options to
.Xr rc.conf 5 .
@


1.1
log
@add a man page.
@
text
@d49 1
a49 1
HP NC370T Multifunction Gigabit Server Adapter
d51 1
a51 1
HP NC370i Multifunction Gigabit Server Adapter
@

