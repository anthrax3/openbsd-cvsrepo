head	1.29;
access;
symbols
	OPENBSD_6_2_BASE:1.29
	OPENBSD_6_1:1.29.0.12
	OPENBSD_6_1_BASE:1.29
	OPENBSD_6_0:1.29.0.10
	OPENBSD_6_0_BASE:1.29
	OPENBSD_5_9:1.29.0.2
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.29.0.6
	OPENBSD_5_8_BASE:1.29
	OPENBSD_5_7:1.29.0.4
	OPENBSD_5_7_BASE:1.29
	OPENBSD_5_6:1.28.0.8
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.6
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.27.0.2
	OPENBSD_5_3_BASE:1.27
	OPENBSD_5_2:1.26.0.6
	OPENBSD_5_2_BASE:1.26
	OPENBSD_5_1_BASE:1.26
	OPENBSD_5_1:1.26.0.4
	OPENBSD_5_0:1.26.0.2
	OPENBSD_5_0_BASE:1.26
	OPENBSD_4_9:1.25.0.16
	OPENBSD_4_9_BASE:1.25
	OPENBSD_4_8:1.25.0.14
	OPENBSD_4_8_BASE:1.25
	OPENBSD_4_7:1.25.0.10
	OPENBSD_4_7_BASE:1.25
	OPENBSD_4_6:1.25.0.12
	OPENBSD_4_6_BASE:1.25
	OPENBSD_4_5:1.25.0.8
	OPENBSD_4_5_BASE:1.25
	OPENBSD_4_4:1.25.0.6
	OPENBSD_4_4_BASE:1.25
	OPENBSD_4_3:1.25.0.4
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.25.0.2
	OPENBSD_4_2_BASE:1.25
	OPENBSD_4_1:1.24.0.4
	OPENBSD_4_1_BASE:1.24
	OPENBSD_4_0:1.24.0.2
	OPENBSD_4_0_BASE:1.24
	OPENBSD_3_9:1.21.0.2
	OPENBSD_3_9_BASE:1.21
	OPENBSD_3_8:1.20.0.4
	OPENBSD_3_8_BASE:1.20
	OPENBSD_3_7:1.20.0.2
	OPENBSD_3_7_BASE:1.20
	OPENBSD_3_6:1.18.0.4
	OPENBSD_3_6_BASE:1.18
	OPENBSD_3_5:1.18.0.2
	OPENBSD_3_5_BASE:1.18
	OPENBSD_3_4:1.17.0.2
	OPENBSD_3_4_BASE:1.17
	OPENBSD_3_3:1.16.0.2
	OPENBSD_3_3_BASE:1.16
	OPENBSD_3_2:1.14.0.2
	OPENBSD_3_2_BASE:1.14
	OPENBSD_3_1:1.13.0.4
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.13.0.2
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9:1.10.0.2
	OPENBSD_2_9_BASE:1.10
	OPENBSD_2_8:1.6.0.2
	OPENBSD_2_8_BASE:1.6;
locks; strict;
comment	@.\" @;


1.29
date	2014.11.15.14.41.02;	author bentley;	state Exp;
branches;
next	1.28;
commitid	HuCemPIiOkto0SJD;

1.28
date	2013.07.16.16.05.49;	author schwarze;	state Exp;
branches;
next	1.27;

1.27
date	2012.08.14.01.08.19;	author dlg;	state Exp;
branches;
next	1.26;

1.26
date	2011.04.01.19.13.58;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2007.05.31.19.19.52;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2006.09.01.09.58.09;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2006.08.25.05.07.31;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2006.05.13.21.15.11;	author martin;	state Exp;
branches;
next	1.21;

1.21
date	2005.09.30.20.34.24;	author jaredy;	state Exp;
branches;
next	1.20;

1.20
date	2005.01.04.11.52.26;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2004.09.30.19.59.25;	author mickey;	state Exp;
branches;
next	1.18;

1.18
date	2004.02.10.15.10.49;	author mickey;	state Exp;
branches;
next	1.17;

1.17
date	2003.06.06.10.29.41;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2002.12.08.14.59.26;	author mickey;	state Exp;
branches;
next	1.15;

1.15
date	2002.10.04.16.17.01;	author mickey;	state Exp;
branches;
next	1.14;

1.14
date	2002.09.26.07.55.40;	author miod;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.05.22.32.34;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2001.07.13.17.33.32;	author pvalchev;	state Exp;
branches;
next	1.11;

1.11
date	2001.06.23.08.01.54;	author pjanzen;	state Exp;
branches;
next	1.10;

1.10
date	2001.04.24.00.16.16;	author mickey;	state Exp;
branches;
next	1.9;

1.9
date	2001.03.06.19.56.50;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2001.01.09.17.56.21;	author krw;	state Exp;
branches;
next	1.7;

1.7
date	2000.11.10.20.02.17;	author todd;	state Exp;
branches;
next	1.6;

1.6
date	2000.10.18.02.38.24;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	2000.09.21.14.28.49;	author mickey;	state Exp;
branches;
next	1.4;

1.4
date	2000.09.15.22.20.29;	author mickey;	state Exp;
branches;
next	1.3;

1.3
date	2000.09.15.19.55.43;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	2000.09.15.18.17.35;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.15.18.08.01;	author mickey;	state Exp;
branches;
next	;


desc
@@


1.29
log
@Reduce instances of `` '' in manuals.

troff displays these as typographic quotes, but nroff implementations
almost always print them literally, which rarely has the intended effect
with modern fonts, even in stock xterm.

These uses of `` '' can be replaced either with more semantic alternatives
or with Dq, which prints typographic quotes in a UTF-8 locale (but will
automatically fall back to `` '' in an ASCII locale).

improvements and ok schwarze@@
@
text
@.\"	$OpenBSD: twe.4,v 1.28 2013/07/16 16:05:49 schwarze Exp $
.\"
.\" Michael Shalayeff, 2000. Public Domain.
.\"
.Dd $Mdocdate: July 16 2013 $
.Dt TWE 4
.Os
.Sh NAME
.Nm twe
.Nd 3ware 5000/6000/7000/8000 series PATA/SATA RAID controller
.Sh SYNOPSIS
.Cd "twe* at pci?"
.Sh DESCRIPTION
The
.Nm
driver provides support for AMCC's 3ware 5000/6000/7000/8000 series PATA/SATA
RAID adapters.
These adapters were formerly known as
.Dq 3ware Escalade .
.Pp
These controllers support 2, 4, 8, or 12 ATA disk drives and provide RAID 0,
RAID 1, RAID 5, RAID 10, and JBOD configurations.
All the RAID set volume management is done via the card's BIOS.
.Pp
Even though the card uses ATA drives, this driver makes drives
and/or RAID sets appear as
.Xr sd 4 .
.Pp
The
.Nm
driver supports the following AMCC 3ware PATA/SATA RAID adapters:
.Pp
.Tn 5000 series ,
.Tn 6000 series ,
.Tn 7000-2 ,
.Tn 7006-2 ,
.Tn 7500-4LP ,
.Tn 7500-8 ,
.Tn 7500-12 ,
.Tn 7506-4LP ,
.Tn 7506-8 ,
.Tn 7506-12 ,
.Tn 8006-2LP ,
.Tn 8500-4LP ,
.Tn 8500-8 ,
.Tn 8500-12 ,
.Tn 8506-4LP ,
.Tn 8506-8 ,
.Tn 8506-8MI ,
.Tn 8506-12 ,
and
.Tn 8506-12MI .
.Sh SEE ALSO
.Xr intro 4 ,
.Xr pci 4 ,
.Xr scsi 4 ,
.Xr sd 4
.Sh HISTORY
The
.Nm
driver first appeared in
.Ox 2.8 .
.Sh AUTHORS
.An -nosplit
The
.Nm
driver was written by
.An Michael Shalayeff Aq Mt mickey@@openbsd.org ,
inspired by the
.Fx
driver by
.An Mike Smith Aq Mt msmith@@freebsd.org .
.Sh BUGS
The card's BIOS seems to conflict with some other disk controllers
which have their own BIOS, if such devices are configured earlier
than this one.
To avoid this situation, place
.Nm
cards in the lowest numbered slot before other SCSI or RAID disk controllers.
.Pp
The current 3ware firmware is known to fail if a redundant configuration
is selected (RAID1 or RAID10) and the array is heavily used
(e.g. installation) before the controller has finished initializing the array.
In this case, create the array, boot the installation media, and
leave the array idle until all controller activity has ceased.
.Pp
None of the volume management or monitoring functions provided by the
card's firmware are supported due to the fact that information
on these functions is not public.
@


1.28
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.27 2012/08/14 01:08:19 dlg Exp $
d5 1
a5 1
.Dd $Mdocdate: August 14 2012 $
d18 2
a19 1
These adapters were formerly known as ``3ware Escalade''.
@


1.27
log
@kernel configs dont need "scsibus* at foo?" anymore.

"guess you get more commits" deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.26 2011/04/01 19:13:58 jmc Exp $
d5 1
a5 1
.Dd $Mdocdate: April 1 2011 $
d67 1
a67 1
.An Michael Shalayeff Aq mickey@@openbsd.org ,
d71 1
a71 1
.An Mike Smith Aq msmith@@freebsd.org .
@


1.26
log
@after nicm's last commit, fix some cases where non-arguments
had been left on macro lines...
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.25 2007/05/31 19:19:52 jmc Exp $
d5 1
a5 1
.Dd $Mdocdate: May 31 2007 $
a12 1
.Cd "scsibus* at twe?"
@


1.25
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.24 2006/09/01 09:58:09 jmc Exp $
d5 1
a5 1
.Dd $Mdocdate$
d50 2
a51 1
.Tn 8506-12 , and
@


1.24
log
@use some combination of "PATA/SATA/SCSI RAID controller" for .Nd;
help from dlg and mickey
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.23 2006/08/25 05:07:31 brad Exp $
d5 1
a5 1
.Dd September 15, 2000
@


1.23
log
@mention some board models and other info.

From the FreeBSD man page.
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.22 2006/05/13 21:15:11 martin Exp $
d10 1
a10 1
.Nd 3ware 5000/6000/7000/8000 series PATA/SATA RAID driver
@


1.22
log
@enable twe on amd64, tested with a 7006-2

ok brad@@ jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.21 2005/09/30 20:34:24 jaredy Exp $
d10 1
a10 1
.Nd 3ware Escalade RAID driver
d17 3
a19 7
driver provides support for the Escalade family of RAID controllers,
including the
.Tn 3W-5x00 ,
.Tn 3W-6x00 ,
and
.Tn 3W-7x00
models.
d21 2
a22 2
These controllers support RAID 0, RAID 1, RAID 5, RAID 10, and JBOD
configurations.
d25 1
a25 1
Even though the card uses IDE drives, this driver makes drives
d28 24
@


1.21
log
@deploy .An -nosplit; ok jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.20 2005/01/04 11:52:26 jmc Exp $
d19 2
a20 1
.Tn 3W-5x00
d22 1
a22 1
.Tn 3W-6x00
d25 1
a25 1
These controllers support RAID 0, RAID 1, RAID 10, and JBOD
a68 2
.Pp
Only the 3W-5400 has been tested, but others should work.
@


1.20
log
@tweaks;
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.19 2004/09/30 19:59:25 mickey Exp $
d42 1
@


1.19
log
@kill default locators
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.18 2004/02/10 15:10:49 mickey Exp $
d17 1
a17 1
driver provides support for Escalade family of RAID controllers,
d19 2
a20 1
.Tn 3W-5x00 and
d24 1
a24 1
These controllers support RAID 0, RAID 1, RAID 10 and JBOD
d26 1
a26 1
All the RAID set volume management is done via the card BIOS.
d61 1
a61 1
In this case, create the array, boot the installation media and
d64 2
a65 2
None of the volumes management or monitoring functions, provided by the
card's firmware, is supported due to the fact that information
d68 1
a68 1
Only 3W-5400 was tested, but others should work.
@


1.18
log
@fix copyrights
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.17 2003/06/06 10:29:41 jmc Exp $
d12 1
a12 1
.Cd "twe* at pci? dev ? function ?"
@


1.17
log
@- section reorder
- some macro fixes
- kill whitespace at EOL
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.16 2002/12/08 14:59:26 mickey Exp $
d3 1
a3 2
.\" Copyright (c) 2000,2001 Michael Shalayeff.  All rights reserved.
.\" Public Domain.
@


1.16
log
@mirroring is raid1, from Shane J Pearson <shane@@flashbsd.net>
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.15 2002/10/04 16:17:01 mickey Exp $
d36 5
a49 5
.Sh HISTORY
The
.Nm
driver first appeared in
.Ox 2.8 .
@


1.15
log
@add a missing license, propepd by jason@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.14 2002/09/26 07:55:40 miod Exp $
d59 1
a59 1
is selected (RAID0 or RAID10) and the array is heavily used
@


1.14
log
@Incomplete section 4 mi manual page cleanup.
- make configuration lines match GENERIC files
- more Xr (hopefully usefule Xr)
- never mention intro(4) on non-physical devices (i.e. protocols), always
mention it for physical devices
- random text style and quoting fixes
- drivers ported from FreeBSD did mention rc.conf instead of hostname.if as
the place to put mediaopt
- some .Tn UNIX -> .Ox replacements
- etc, etc...

reviewd in part by deraadt@@ (until he got bored of this)
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.13 2001/08/05 22:32:34 brad Exp $
d4 1
a4 1
.\"
@


1.13
log
@- raid -> RAID
- finish sentence in ami man page and mention iop(4) for I2O mode
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.12 2001/07/13 17:33:32 pvalchev Exp $
d33 1
@


1.12
log
@opensbd.org -> openbsd.org; ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.11 2001/06/23 08:01:54 pjanzen Exp $
d18 1
a18 1
driver provides support for Escalade family of raid controllers,
@


1.11
log
@More spelling fixes from jsyn@@nthought.com, and some formatting fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.10 2001/04/24 00:16:16 mickey Exp $
d39 1
a39 1
.An Michael Shalayeff Aq mickey@@opensbd.org ,
@


1.10
log
@make a clearer statement about unsupported functionality
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.9 2001/03/06 19:56:50 brad Exp $
d59 1
a59 1
(e.g. installation) before the controller has finished initialising the array.
@


1.9
log
@first sweep ...
OpenBSD -> .Ox
NetBSD -> .Nx
FreeBSD -> .Fx
--
Ok'd by aaron@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.8 2001/01/09 17:56:21 krw Exp $
d3 1
a3 1
.\" Copyright (c) 2000 Michael Shalayeff.  All rights reserved.
d55 1
a55 1
cards in the lowest slot before other SCSI or RAID disk controllers.
d63 3
a65 3
The card provides a mechanism to receive asynchronous notifications
about RAID set status change and so forth, unfortunately this
information is not public.
@


1.8
log
@Typos: 'eg.' -> 'e.g.', 'untill -> until'
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.7 2000/11/10 20:02:17 todd Exp $
d40 3
a42 1
inspired by the FreeBSD driver by
@


1.7
log
@.Sh AUTHOR -> AUTHORS, ok aaron@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.6 2000/10/18 02:38:24 aaron Exp $
d57 1
a57 1
(eg. installation) before the controller has finished initialising the array.
d59 1
a59 1
leave the array idle untill all controller activity has ceased.
@


1.6
log
@- Arguments to .Nd should go on the same line as .Nd.
- Standardize Nd format for all Ethernet man pages for easy man -k'ing.
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.5 2000/09/21 14:28:49 mickey Exp $
d35 1
a35 1
.Sh AUTHOR
@


1.5
log
@add a firmware bug in raid0 or raid10 initialization; from http://people.freebsd.org/~msmith/RAID/
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.4 2000/09/15 22:20:29 mickey Exp $
d11 1
a11 2
.Nd
.Tn 3ware Escalade RAID driver
@


1.4
log
@i also have problem spelling my name; pointed out by aaron@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.3 2000/09/15 19:55:43 deraadt Exp $
d55 6
@


1.3
log
@make up for the lack of english in mickey's childhood
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.2 2000/09/15 18:17:35 mickey Exp $
d40 1
a40 1
.An Michale Shalayeff Aq mickey@@opensbd.org ,
@


1.2
log
@only 5400 was tested
@
text
@d1 1
a1 1
.\"	$OpenBSD: twe.4,v 1.1 2000/09/15 18:08:01 mickey Exp $
d21 2
a22 2
.Tn 3W-5x000 and
.Tn 3W-6x000
d25 3
a27 3
Controllers support RAID 0, RAID 1, RAID 10 and JBOD
configurations. All the RAID set volume management is done
through the cards BIOS.
d49 6
a54 4
The card's BIOS seem to conflict w/ other disk controllers with
own BIOS if later are configured earlier than this one.
To avoid that put the card in the lowest slot before other
SCSI or RAID disk controllers, if possible.
d56 1
a56 1
The card provides mechanism to receive asynchronous notifications
a58 9
.Pp
The card requires data buffers to be aligned to 512 bytes, which
is not always provided by the
.Ox
kernel.
To work around that double-buffering is used, allocating aligned
buffer when required and copying data back and forth as needed.
Unaligned buffers are very rare occasion, but if not handled properly
makes the card comatose.
@


1.1
log
@3ware escalade, twe
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d66 2
@

