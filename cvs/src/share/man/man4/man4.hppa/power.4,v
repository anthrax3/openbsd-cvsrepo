head	1.5;
access;
symbols
	OPENBSD_6_2:1.5.0.38
	OPENBSD_6_2_BASE:1.5
	OPENBSD_6_1:1.5.0.42
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.5.0.40
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.28
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.36
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.34
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.32
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.30
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.26
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.24
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.22
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.20
	OPENBSD_5_0:1.5.0.18
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.16
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.14
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.10
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.12
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.8
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.6
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.5.0.4
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.4.0.10
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.8
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.6
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.4
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.3.0.4
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2;
locks; strict;
comment	@.\" @;


1.5
date	2007.05.31.19.19.54;	author jmc;	state Exp;
branches;
next	1.4;

1.4
date	2004.09.14.22.03.29;	author mickey;	state Exp;
branches;
next	1.3;

1.3
date	2003.11.14.18.32.46;	author jmc;	state Exp;
branches;
next	1.2;

1.2
date	2003.09.02.21.11.50;	author jmc;	state Exp;
branches;
next	1.1;

1.1
date	2003.08.20.21.17.08;	author mickey;	state Exp;
branches;
next	;


desc
@@


1.5
log
@convert to new .Dd format;
@
text
@.\"	$OpenBSD: power.4,v 1.4 2004/09/14 22:03:29 mickey Exp $
.\"
.\" Copyright (c) 2003 Michael Shalayeff
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF MIND,
.\" USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate$
.Dt POWER 4 hppa
.Os
.Sh NAME
.Nm power
.Nd power button and power fail support
.Sh SYNOPSIS
.Cd "power0 at mainbus?"
.Sh DESCRIPTION
.Tn HP PA-RISC
machines support power failure detection in different forms:
.Pp
.Bl -bullet -offset indent -compact
.It
.Dq soft
power button
.It
power failure interrupt
.El
.Pp
The
.Nm
driver tries its best to determine the power failure condition
that is a result of a power button being depressed or a power supply
system failure or a similar condition.
Upon detection of any of the aforementioned conditions, it tries to gracefully
.Pq if possible
shutdown the system through a call to the
.Xr boot 9
function.
.Pp
On systems equipped with the
.Xr lasi 4
bus adapter, we find a
.Dq soft
power button which upon depression gives us a signal in the
.Dq power register
and thus polling periodically we detect the event.
Since that bit comes directly from the power button without any dampening,
we perform a second long delay;
thus quick transitions off and on will
.Em not
result in a shutdown.
.Pp
On modern systems, an interruption is signalled upon the power
button depression and thus this avoids polling and does not require
.Pq as does being implemented in hardware
dampening.
.Sh SEE ALSO
.Xr intro 4 ,
.Xr lasi 4 ,
.Xr pdc 4 ,
.Xr boot 9
.Sh HISTORY
The
.Nm
driver
appeared in
.Ox 3.4 .
@


1.4
log
@page for pdc. major functions described. more work needed
@
text
@d1 1
a1 1
.\"	$OpenBSD: power.4,v 1.3 2003/11/14 18:32:46 jmc Exp $
d26 1
a26 1
.Dd August 20, 2003
@


1.3
log
@typos from Jared Yanovich;
@
text
@d1 1
a1 1
.\"	$OpenBSD: power.4,v 1.2 2003/09/02 21:11:50 jmc Exp $
d77 1
@


1.2
log
@tweaks, plus INTRODUCTION -> DESCRIPTION from Jonathan Gray;
ok mickey@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: power.4,v 1.1 2003/08/20 21:17:08 mickey Exp $
d48 1
a48 1
driver tries its best to determinine the power failure condition
@


1.1
log
@a power-man
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d31 1
a31 1
.Nd Power button and power fail support
d34 1
a34 1
.Sh INTRODUCTION
d37 2
a38 1
.Bl -bullet -compact
d41 1
a41 1
power button;
d43 1
a43 1
power failure interrupt.
d48 2
a49 2
driver tries it's best at determining the power failure condition
that is a result of power button being depressed or a power supply
d51 3
a53 2
Upon detection of any of the beforementioned conditions it tries to
gracefully (if possible) shutdown the system through a call to
d57 1
a57 1
On systems equipped with
d59 1
a59 1
bus adapter we find a
d61 1
a61 1
power buttun which upon depression gives us a signal in the
d64 3
a66 3
Since that bit comes directly from the power button without any
dampenning we perform a second long delay thus
quick transitions off and on will
d70 4
a73 3
On modern systems an interruption is signalled upon the power
button depression and thus this avoids polling and does not
require (as being implemented in hardware) dampenning.
@

