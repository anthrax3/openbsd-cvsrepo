head	1.36;
access;
symbols
	OPENBSD_6_2_BASE:1.36
	OPENBSD_6_1:1.36.0.8
	OPENBSD_6_1_BASE:1.36
	OPENBSD_6_0:1.36.0.6
	OPENBSD_6_0_BASE:1.36
	OPENBSD_5_9:1.36.0.2
	OPENBSD_5_9_BASE:1.36
	OPENBSD_5_8:1.35.0.6
	OPENBSD_5_8_BASE:1.35
	OPENBSD_5_7:1.35.0.4
	OPENBSD_5_7_BASE:1.35
	OPENBSD_5_6:1.32.0.24
	OPENBSD_5_6_BASE:1.32
	OPENBSD_5_5:1.32.0.22
	OPENBSD_5_5_BASE:1.32
	OPENBSD_5_4:1.32.0.18
	OPENBSD_5_4_BASE:1.32
	OPENBSD_5_3:1.32.0.16
	OPENBSD_5_3_BASE:1.32
	OPENBSD_5_2:1.32.0.14
	OPENBSD_5_2_BASE:1.32
	OPENBSD_5_1_BASE:1.32
	OPENBSD_5_1:1.32.0.12
	OPENBSD_5_0:1.32.0.10
	OPENBSD_5_0_BASE:1.32
	OPENBSD_4_9:1.32.0.8
	OPENBSD_4_9_BASE:1.32
	OPENBSD_4_8:1.32.0.6
	OPENBSD_4_8_BASE:1.32
	OPENBSD_4_7:1.32.0.2
	OPENBSD_4_7_BASE:1.32
	OPENBSD_4_6:1.32.0.4
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.29.0.8
	OPENBSD_4_5_BASE:1.29
	OPENBSD_4_4:1.29.0.6
	OPENBSD_4_4_BASE:1.29
	OPENBSD_4_3:1.29.0.4
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.29.0.2
	OPENBSD_4_2_BASE:1.29
	OPENBSD_4_1:1.27.0.10
	OPENBSD_4_1_BASE:1.27
	OPENBSD_4_0:1.27.0.8
	OPENBSD_4_0_BASE:1.27
	OPENBSD_3_9:1.27.0.6
	OPENBSD_3_9_BASE:1.27
	OPENBSD_3_8:1.27.0.4
	OPENBSD_3_8_BASE:1.27
	OPENBSD_3_7:1.27.0.2
	OPENBSD_3_7_BASE:1.27
	OPENBSD_3_6:1.26.0.6
	OPENBSD_3_6_BASE:1.26
	OPENBSD_3_5:1.26.0.4
	OPENBSD_3_5_BASE:1.26
	OPENBSD_3_4:1.26.0.2
	OPENBSD_3_4_BASE:1.26
	OPENBSD_3_3:1.21.0.2
	OPENBSD_3_3_BASE:1.21
	OPENBSD_3_2:1.18.0.2
	OPENBSD_3_2_BASE:1.18
	OPENBSD_3_1:1.12.0.2
	OPENBSD_3_1_BASE:1.12
	OPENBSD_3_0:1.9.0.2
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9:1.6.0.2
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_8:1.3.0.2
	OPENBSD_2_8_BASE:1.3;
locks; strict;
comment	@.\" @;


1.36
date	2015.12.10.21.00.51;	author naddy;	state Exp;
branches;
next	1.35;
commitid	T0HbsCFlrwPATHlH;

1.35
date	2014.08.20.18.59.56;	author jmc;	state Exp;
branches;
next	1.34;
commitid	rzIHmFo6zaqlbA3a;

1.34
date	2014.08.20.11.23.41;	author mikeb;	state Exp;
branches;
next	1.33;
commitid	vzc4wz1s3pDevb7K;

1.33
date	2014.08.15.15.46.24;	author mikeb;	state Exp;
branches;
next	1.32;
commitid	5KPzD70a27haDU7G;

1.32
date	2009.03.27.13.31.30;	author reyk;	state Exp;
branches;
next	1.31;

1.31
date	2009.03.25.14.53.08;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2009.03.25.12.17.30;	author reyk;	state Exp;
branches;
next	1.29;

1.29
date	2007.05.31.19.19.52;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2007.03.18.16.36.18;	author tom;	state Exp;
branches;
next	1.27;

1.27
date	2004.09.30.19.59.25;	author mickey;	state Exp;
branches;
next	1.26;

1.26
date	2003.09.03.15.55.41;	author jason;	state Exp;
branches;
next	1.25;

1.25
date	2003.08.12.19.42.46;	author jason;	state Exp;
branches;
next	1.24;

1.24
date	2003.08.12.19.38.49;	author jason;	state Exp;
branches;
next	1.23;

1.23
date	2003.06.02.18.51.33;	author jason;	state Exp;
branches;
next	1.22;

1.22
date	2003.04.09.04.29.03;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2003.02.26.15.05.07;	author david;	state Exp;
branches;
next	1.20;

1.20
date	2002.11.08.08.08.47;	author mpech;	state Exp;
branches;
next	1.19;

1.19
date	2002.10.10.17.51.06;	author jason;	state Exp;
branches;
next	1.18;

1.18
date	2002.09.26.07.55.41;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2002.09.12.07.08.14;	author deraadt;	state Exp;
branches;
next	1.16;

1.16
date	2002.09.04.15.21.44;	author jason;	state Exp;
branches;
next	1.15;

1.15
date	2002.09.03.20.14.58;	author jason;	state Exp;
branches;
next	1.14;

1.14
date	2002.07.16.19.42.48;	author jason;	state Exp;
branches;
next	1.13;

1.13
date	2002.07.12.22.50.55;	author jason;	state Exp;
branches;
next	1.12;

1.12
date	2001.11.20.20.25.13;	author jason;	state Exp;
branches;
next	1.11;

1.11
date	2001.11.08.23.32.14;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2001.11.08.22.36.47;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2001.06.23.00.40.29;	author jason;	state Exp;
branches;
next	1.8;

1.8
date	2001.05.14.14.31.29;	author jason;	state Exp;
branches;
next	1.7;

1.7
date	2001.05.14.09.02.58;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2001.03.01.16.11.19;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	2001.01.29.01.14.26;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2000.11.06.01.34.18;	author jason;	state Exp;
branches;
next	1.3;

1.3
date	2000.08.13.03.55.01;	author jason;	state Exp;
branches;
next	1.2;

1.2
date	2000.06.12.20.03.03;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2000.06.11.00.36.09;	author jason;	state Exp;
branches;
next	;


desc
@@


1.36
log
@Remove plain DES from the kernel crypto framework, including the crypto
accelerator drivers.  No longer used by anything.  ok sthen@@ mikeb@@
@
text
@.\"	$OpenBSD: ubsec.4,v 1.35 2014/08/20 18:59:56 jmc Exp $
.\"
.\" Copyright (c) 2000 Jason L. Wright (jason@@thought.net)
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
.\" DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
.\" INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
.\" (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
.\" SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
.\" STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
.\" ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
.\" POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate: August 20 2014 $
.Dt UBSEC 4
.Os
.Sh NAME
.Nm ubsec
.Nd Broadcom and BlueSteel uBsec 5x0x crypto accelerator
.Sh SYNOPSIS
.Cd "ubsec* at pci?"
.Sh DESCRIPTION
The
.Nm
driver supports cards containing any of the following chips:
.Bl -tag -width "Broadcom BCM5821" -offset indent
.It Bluesteel 5501
The original chipset.
This extremely rare unit
was not very fast, lacked an RNG, and had a number of other bugs.
.It Bluesteel 5601
A faster and fixed version of the original, with a random number
unit and large number engine added.
.It Broadcom BCM5801
A BCM5805 without public key engine or random number generator.
.It Broadcom BCM5802
A slower version of the BCM5805.
.It Broadcom BCM5805
Faster version of Bluesteel 5601.
.It Broadcom BCM5820
64 bit version of the chip, and significantly more advanced.
.It Broadcom BCM5821
Faster version of the BCM5820.
This is the chip found on the Sun Crypto Accelerator 1000.
.It Broadcom BCM5822
Faster version of the BCM5820.
.It Broadcom BCM5823
Faster version of the BCM5822 that also supports AES.
.It Broadcom BCM5825
Faster PCI Express or PCI-X version of the chip.
.It Broadcom BCM5860
IPSec/SSL Security Processor that is faster and has more features.
.It Broadcom BCM5861
Faster version of the BCM5860.
.It Broadcom BCM5862
Faster version of the BCM5861.
.El
.Pp
The
.Nm
driver registers itself to accelerate Triple-DES, MD5-HMAC,
and SHA1-HMAC operations for
.Xr ipsec 4 .
The driver also supports acceleration of AES-CBC with the BCM5823 or newer.
.Pp
On all models except the Bluesteel 5501 and Broadcom 5801, the driver
registers itself to provide random data to the
.Xr random 4
subsystem.
.Sh SEE ALSO
.Xr crypt 3 ,
.Xr intro 4 ,
.Xr ipsec 4 ,
.Xr pci 4 ,
.Xr random 4 ,
.Xr crypto 9
.Sh HISTORY
The
.Nm
device driver appeared in
.Ox 2.8 .
.Sh BUGS
The BCM5801 and BCM5802 have not actually been tested.
Also, some of the newer chips support AES-CTR (AES Counter Mode) but
it is not supported by the driver.
The advanced SSL/TLS acceleration features of the BCM5860 or newer
are not supported by the driver.
@


1.35
log
@remove one more reference to crypto(4); ok mikeb
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.34 2014/08/20 11:23:41 mikeb Exp $
d41 1
a41 1
The original chipset, no longer made.
d74 1
a74 1
driver registers itself to accelerate DES, Triple-DES, MD5-HMAC,
@


1.34
log
@Remove userland bits related to the crypto(4) interface;  ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.33 2014/08/15 15:46:24 mikeb Exp $
d27 1
a27 1
.Dd $Mdocdate: August 15 2014 $
d100 1
a100 3
are not supported by the driver and the
.Xr crypto 4
subsystem.
@


1.33
log
@Public key operations are no longer supported
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.32 2009/03/27 13:31:30 reyk Exp $
d27 1
a27 1
.Dd $Mdocdate: March 27 2009 $
d76 1
a76 3
.Xr ipsec 4
and
.Xr crypto 4 .
a84 1
.Xr crypto 4 ,
@


1.32
log
@Add support for the BCM5825 and the next-generation BCM5860, 5861,
5862 Broadcom CryptoNetX IPSec/SSL Security Processors.  The 5825 is a
faster version of the already supported 5823, and the even faster 586x
series is a bit different and needed some more changes.  The RNG
engine on the 586x is not supported yet but I hope to fix it soon...

ubsec0 at pci4 dev 0 function 0 "Broadcom 5862" rev 0x01: 3DES MD5 SHA1 AES PK, apic 10 int 10 (irq 11)

tested by phessler@@ and me
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.30 2009/03/25 12:17:30 reyk Exp $
d27 1
a27 1
.Dd $Mdocdate: March 25 2009 $
a79 5
.Pp
On those models which contain a public key engine (almost all of the
more recent ones), this feature is registered with the
.Xr crypto 4
subsystem.
@


1.31
log
@punctuation must be space separated here;
@
text
@d62 8
d79 1
a79 1
The driver also supports acceleration of AES-CBC with the BCM5823.
d107 4
@


1.30
log
@add support for AES-CBC with the BCM5823 (or newer, but we don't support newer
variants yet).

ok deraadt@@ dlg@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.28 2007/03/18 16:36:18 tom Exp $
d27 1
a27 1
.Dd $Mdocdate: May 31 2007 $
d70 1
a70 1
.Xr crypto 4.
@


1.29
log
@convert to new .Dd format;
@
text
@d27 1
a27 1
.Dd $Mdocdate$
d61 1
a61 1
Faster version of the BCM5822.
d70 2
a71 1
.Xr crypto 4 .
d97 2
a98 1
Also, some of the newer chips support AES but it is not supported by the driver.
@


1.28
log
@Add pci(4) to SEE ALSO, as other PCI crypto accelerators already do.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.27 2004/09/30 19:59:25 mickey Exp $
d27 1
a27 1
.Dd June 10, 2000
@


1.27
log
@kill default locators
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.26 2003/09/03 15:55:41 jason Exp $
d86 1
@


1.26
log
@support for bcm5823; based on patch from Jim Lambert, jlamber at futurex dot com; ok deraadt.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.25 2003/08/12 19:42:46 jason Exp $
d34 1
a34 1
.Cd "ubsec* at pci? dev ? function ?"
@


1.25
log
@sun chip is 5821
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.24 2003/08/12 19:38:49 jason Exp $
d60 2
d95 1
@


1.24
log
@sun board IS a ubsec
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.23 2003/06/02 18:51:33 jason Exp $
d57 1
@


1.23
log
@Nuke clause 3 & 4.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.22 2003/04/09 04:29:03 jmc Exp $
a91 1
The Sun Crypto Accelerator 1000 is suspected to be a Broadcom 5821.
@


1.22
log
@typos;

sti(4): ok mickey@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.21 2003/02/26 15:05:07 david Exp $
a13 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by Jason L. Wright
.\" 4. The name of the author may not be used to endorse or promote products
.\"    derived from this software without specific prior written permission.
@


1.21
log
@start new sentence on a new line
ok mpech@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.20 2002/11/08 08:08:47 mpech Exp $
d48 1
a48 1
was not very fast, lacked a RNG, and had a number of other bugs.
@


1.20
log
@Time to cleanup:
o) start new sentence on a new line;
o) wrap long lines;
o) don't use .Pp before/after .Sh, .Ss;
o) OpenBSD -> .Ox;
o) typos;
o) close .Rs;
o) use space between arguments in tag, for example:
   .Xr blabla ) .

miod@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.19 2002/10/10 17:51:06 jason Exp $
d96 2
a97 2
The BCM5801 and BCM5802 have not actually been tested.  The Sun Crypto
Accelerator 1000 is suspected to be a Broadcom 5821.
@


1.19
log
@mention that the Sun Crypto Accelerator 1000 is suspected to be a Broadom 5821.
If someone can confirm this (and heck, even better, test the driver patch
I just committed and lemme know, I'd appreciate it).
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.18 2002/09/26 07:55:41 miod Exp $
d46 2
a47 1
The original chipset, no longer made.  This extremely rare unit
@


1.18
log
@Incomplete section 4 mi manual page cleanup.
- make configuration lines match GENERIC files
- more Xr (hopefully usefule Xr)
- never mention intro(4) on non-physical devices (i.e. protocols), always
mention it for physical devices
- random text style and quoting fixes
- drivers ported from FreeBSD did mention rc.conf instead of hostname.if as
the place to put mediaopt
- some .Tn UNIX -> .Ox replacements
- etc, etc...

reviewd in part by deraadt@@ (until he got bored of this)
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.17 2002/09/12 07:08:14 deraadt Exp $
d95 2
a96 1
The BCM5801, BCM5802, and BCM5822 have not actually been tested.
@


1.17
log
@documentation repairs.  jason is american.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.16 2002/09/04 15:21:44 jason Exp $
d85 1
@


1.16
log
@Clarify the difference between 5801/5802/5805 now that I know what the differences are.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.15 2002/09/03 20:14:58 jason Exp $
d52 1
a52 1
A BCM5805 without public key or random number generator.
d68 10
a77 2
and SHA1-HMAC operations in
.Xr ipsec 4 .
d79 1
a79 1
also registers itself to provide random data to the
d84 1
@


1.15
log
@Note 5801/5802
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.14 2002/07/16 19:42:48 jason Exp $
d44 1
a44 1
.Bl -tag -width namenamenamena -offset indent
d52 1
a52 1
Slower (cheaper) version of the 5805.
d54 1
a54 1
Slower (cheaper) version of the 5805.
d56 1
a56 1
Faster version of the above chip.
d61 2
d70 2
a71 2
On all models except the Bluesteel 5501, the driver also registers
itself to provide random data to the
d84 2
@


1.14
log
@s/HMAC96/HMAC for consistency with crypto.9
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.13 2002/07/12 22:50:55 jason Exp $
d51 4
d56 1
a56 1
32 bit version of the above chip.
@


1.13
log
@5821 reportedly mostly works with the latest changes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.12 2001/11/20 20:25:13 jason Exp $
d61 2
a62 2
driver registers itself to accelerate DES, Triple-DES, MD5-HMAC96,
and SHA1-HMAC96 operations in
@


1.12
log
@mention 5821 (and the fact that it hasn't been tested)
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.11 2001/11/08 23:32:14 deraadt Exp $
d50 1
a50 1
unit and RSA engine added.
a77 2
.Sh BUGS
BCM5821 has not actually been tested.
@


1.11
log
@clarify
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.10 2001/11/08 22:36:47 deraadt Exp $
d55 2
d78 2
@


1.10
log
@parts name change
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.9 2001/06/23 00:40:29 jason Exp $
d37 1
a37 1
.Nd Broadcom (BlueSteel) uBsec 5x0x crypto accelerator
d44 1
a44 1
.Bl -tag -width namenamenamena -offset indent -compact
d46 2
d49 6
a54 2
.It Broadcom BCM95805
.It Broadcom BCM95820
@


1.9
log
@more tweaks
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.8 2001/05/14 14:31:29 jason Exp $
d47 2
a48 2
.It Broadcom 5805
.It Broadcom 5820
@


1.8
log
@note support of 5820
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.7 2001/05/14 09:02:58 deraadt Exp $
d43 7
a49 2
driver supports cards containing the Bluesteel 5501 or 5601 or
Broadcom 5805 or 5820.
@


1.7
log
@obvious cleanups...
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.6 2001/03/01 16:11:19 aaron Exp $
d43 2
a44 1
driver supports cards containing the Broadcom 5501, 5601, or 5805.
d51 2
a52 2
On models which support it, this driver also registers itself to
provide random data to the
@


1.6
log
@A slew of share/ man page fixes; nordin@@cse.ogi.edu. These have been sitting
in my INBOX since Nov 6, 2000, probably forgot about them since the tree was
frozen at that time.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.5 2001/01/29 01:14:26 deraadt Exp $
d37 1
a37 1
.Nd Broadcom (BlueSteel) uBsec 5x0x encryption accelerator
@


1.5
log
@talk about random.4
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.4 2000/11/06 01:34:18 jason Exp $
a54 1
.Xr crypto 9 ,
d57 2
a58 1
.Xr random 4
@


1.4
log
@Xr crypto 9, not crypt 9
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.3 2000/08/13 03:55:01 jason Exp $
d50 4
d57 2
a58 1
.Xr ipsec 4
@


1.3
log
@usbec (heh, USB encryption? ;)
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.2 2000/06/12 20:03:03 deraadt Exp $
d51 1
a51 1
.Xr crypt 9 ,
@


1.2
log
@and 5805
@
text
@d1 1
a1 1
.\"	$OpenBSD: ubsec.4,v 1.1 2000/06/11 00:36:09 jason Exp $
d36 1
a36 1
.Nm usbec
@


1.1
log
@skeleton man page for ubsec
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d37 1
a37 1
.Nd Broadcom (BlueSteel) 5501/5601 encryption accelerator
d43 1
a43 1
driver supports cards containing the Broadcom 5501 or 5601 chipset.
@

