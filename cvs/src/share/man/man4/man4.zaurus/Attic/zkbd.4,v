head	1.18;
access;
symbols
	OPENBSD_6_0:1.17.0.24
	OPENBSD_6_0_BASE:1.17
	OPENBSD_5_9:1.17.0.12
	OPENBSD_5_9_BASE:1.17
	OPENBSD_5_8:1.17.0.20
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.17.0.18
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.17.0.16
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.17.0.14
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.10
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.17.0.8
	OPENBSD_5_3_BASE:1.17
	OPENBSD_5_2:1.17.0.6
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.4
	OPENBSD_5_0:1.17.0.2
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.16.0.16
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.16.0.14
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.16.0.10
	OPENBSD_4_7_BASE:1.16
	OPENBSD_4_6:1.16.0.12
	OPENBSD_4_6_BASE:1.16
	OPENBSD_4_5:1.16.0.8
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.16.0.6
	OPENBSD_4_4_BASE:1.16
	OPENBSD_4_3:1.16.0.4
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.16.0.2
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.15.0.6
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.15.0.4
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.2
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.12.0.2
	OPENBSD_3_8_BASE:1.12
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6;
locks; strict;
comment	@.\" @;


1.18
date	2016.09.03.13.37.41;	author guenther;	state dead;
branches;
next	1.17;
commitid	6T3r4QcMFKe3Fo5T;

1.17
date	2011.06.24.19.47.48;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2007.05.31.19.19.57;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2005.11.17.14.08.04;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2005.11.17.05.41.42;	author uwe;	state Exp;
branches;
next	1.13;

1.13
date	2005.11.11.17.02.08;	author uwe;	state Exp;
branches;
next	1.12;

1.12
date	2005.06.04.17.56.24;	author dlg;	state Exp;
branches;
next	1.11;

1.11
date	2005.05.08.17.46.44;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2005.04.21.10.05.23;	author dlg;	state Exp;
branches;
next	1.9;

1.9
date	2005.04.21.02.36.03;	author dlg;	state Exp;
branches;
next	1.8;

1.8
date	2005.04.01.16.44.48;	author jmc;	state Exp;
branches;
next	1.7;

1.7
date	2005.04.01.13.16.58;	author uwe;	state Exp;
branches;
next	1.6;

1.6
date	2005.01.16.01.35.55;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2005.01.16.01.18.59;	author jmc;	state Exp;
branches;
next	1.4;

1.4
date	2005.01.15.17.31.38;	author miod;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.15.17.10.45;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	2005.01.15.17.08.16;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2005.01.15.06.37.21;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.18
log
@Retire zaurus, as it hasn't made the EABI jump and will be permanently broken
shortly when we use the hardware thread register in userland
@
text
@.\" $OpenBSD: zkbd.4,v 1.17 2011/06/24 19:47:48 naddy Exp $
.\"
.\" Copyright (c) 2004 Theo de Raadt <deraadt@@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: June 24 2011 $
.Dt ZKBD 4 zaurus
.Os
.Sh NAME
.Nm zkbd
.Nd Zaurus keyboard support
.Sh SYNOPSIS
.Cd "zkbd0  at pxaip?"
.Cd "wskbd* at zkdb?"
.Sh DESCRIPTION
The
.Nm
driver provides support for the native keyboard found on the
Zaurus.
Access to the keyboard is through the
.Xr wskbd 4
driver.
.Sh LAYOUT
The Zaurus keyboard uses some strange chording behaviours to make
certain key combinations show up.
The left-hand Japanese key beside Ctrl (kana/hira) is mapped as the ALT key.
The non-obvious key mappings are explained here:
.Pp
.Bl -tag -width "xxxxxxxxxxxxx" -compact -offset indent
.It Li \&Fn u
{
.It Li \&Fn i
}
.It Li \&Fn d
`
.It Li Calendar
F1
.It Li Address
F2
.It Li Mail
F3
.It Li Home
F4
.It Li Menu
F5
.It Li Cancel
ESC
.It Li OK
Enter
.It Li Rear Toggle
Up and Down
.It Li Rear OK
Right
.It Li Rear Cancel
Left
.It Li \&Fn Up
Page Up
.It Li \&Fn Down
Page Down
.It Li \&Fn Left
Home
.It Li \&Fn Right
End
.El
.Pp
On/Off is special: pressing the key will immediately suspend the system.
Pressing the key while the Zaurus is suspended will cause it to resume.
Pressing the key longer than 3 seconds will do a nice halt if
the
.Va hw.allowpowerdown
.Xr sysctl 8
variable is 1.
.Pp
All keyboard input (including the On/Off key) is ignored if the display is
shut.
.Pp
Additional keys can be generated by a remote control plugged into the
headphone jack \- see
.Xr zrc 4 .
For information on the use and configuration of the keyboard refer to
.Xr wskbd 4 .
.Sh SEE ALSO
.Xr intro 4 ,
.Xr pxaip 4 ,
.Xr wskbd 4 ,
.Xr zrc 4 ,
.Xr sysctl 8
.Sh HISTORY
The
.Nm
driver
appeared in
.Ox 3.7 .
@


1.17
log
@machdep.kbdreset enables a shutdown by Ctrl-Alt-Del on amd64 and
i386.  Stop abusing it on other archs for controling a shutdown by
pressing the soft power button:

* Add a MI sysctl hw.allowpowerdown; if set to 1 (the default) it
  allows a power button shutdown.
* Make acpi(4)/acpibtn(4) honor hw.allowpowerdown.
* Switch the various power button intercepts on landisk, sgi, sparc64
  and zaurus over to hw.allowpowerdown.
* Garbage collect the machdep.kbdreset sysctl on all archs other than
  amd64 and i386.

ok miod@@
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.16 2007/05/31 19:19:57 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: May 31 2007 $
@


1.16
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.15 2005/11/17 14:08:04 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate$
d80 2
a81 1
the machdep.kbdreset
@


1.15
log
@need to escape `-' to produce an en-dash;
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.14 2005/11/17 05:41:42 uwe Exp $
d17 1
a17 1
.Dd January 15, 2005
@


1.14
log
@Xr zrc 4 here, too
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.13 2005/11/11 17:02:08 uwe Exp $
d88 1
a88 1
headphone jack - see
@


1.13
log
@update timeouts in on/off key description to match zkbd
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.12 2005/06/04 17:56:24 dlg Exp $
d87 3
d96 1
@


1.12
log
@document resumption and keyboard behaviour with the lid closed.

sure deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.11 2005/05/08 17:46:44 espie Exp $
d77 1
a77 2
On/Off is special: pressing the key for 2 seconds will suspend
the system.
d79 1
a79 1
Pressing the key longer than 6 seconds will do a nice halt if
@


1.11
log
@name that japanese key. okay uwe@@
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.10 2005/04/21 10:05:23 dlg Exp $
d79 1
d84 3
@


1.10
log
@fix the synopsis so it shows a functional config. ok uwe@@

the hint on how to switch consoles is wrong and incomplete so refer the
reader to wskbd(4) which properly explains how to do it and more. ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.9 2005/04/21 02:36:03 dlg Exp $
d37 1
a37 1
The left-hand Japanese key beside Ctrl is mapped as the ALT key.
@


1.9
log
@list pgup, pgdown, home and end

ok uwe@@
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.8 2005/04/01 16:44:48 jmc Exp $
d24 2
a25 1
.Cd "zkbd*  at pxaip?"
a76 2
Alt + F1 will select the second virtual console.
.Pp
d83 3
@


1.8
log
@Xr sysctl 8;
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.7 2005/04/01 13:16:58 uwe Exp $
d66 8
@


1.7
log
@Document special On/Off key functions, and point at the information.
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.6 2005/01/16 01:35:55 jmc Exp $
d73 3
a75 1
the machdep.kbdreset sysctl variable is 1.
d79 2
a80 1
.Xr wskbd 4
@


1.6
log
@add `zaurus' to .Dt;
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.5 2005/01/16 01:18:59 jmc Exp $
d69 5
@


1.5
log
@fix .Dd;
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.4 2005/01/15 17:31:38 miod Exp $
d18 1
a18 1
.Dt ZKBD 4
@


1.4
log
@Xr wskbd as well.
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.3 2005/01/15 17:10:45 deraadt Exp $
d17 1
a17 1
.Dd Jan 15, 2004
@


1.3
log
@oops
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.2 2005/01/15 17:08:16 deraadt Exp $
d71 2
a72 1
.Xr pxaip 4
@


1.2
log
@mistakes I made, pointed out by jmc
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.1 2005/01/15 06:37:21 deraadt Exp $
d17 1
a17 1
.Dd July 12, 1998
@


1.1
log
@basic man page for the zaurus c3000 (for now)
@
text
@d1 1
a1 1
.\" $OpenBSD: zkbd.4,v 1.5 2004/09/30 19:59:25 mickey Exp $
d3 1
a3 1
.\" Copyright (c) CCYY YOUR NAME HERE <user@@your.dom.ain>
d40 1
a40 1
.It Li \Fn u
d42 1
a42 1
.It Li \Fn i
d44 1
a44 1
.It Li \Fn d
@

