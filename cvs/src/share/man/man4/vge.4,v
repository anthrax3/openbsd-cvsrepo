head	1.22;
access;
symbols
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.22.0.10
	OPENBSD_6_0_BASE:1.22
	OPENBSD_5_9:1.22.0.2
	OPENBSD_5_9_BASE:1.22
	OPENBSD_5_8:1.22.0.6
	OPENBSD_5_8_BASE:1.22
	OPENBSD_5_7:1.22.0.4
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.21.0.8
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.21.0.6
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.18.0.14
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.12
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.10
	OPENBSD_5_0:1.18.0.8
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.6
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.18.0.4
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.2
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.15.0.4
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.14.0.2
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.13.0.2
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.12.0.2
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.11.0.2
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.10.0.4
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.10.0.2
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.8.0.2
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.7.0.2
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4;
locks; strict;
comment	@.\" @;


1.22
date	2014.09.14.00.17.09;	author brad;	state Exp;
branches;
next	1.21;
commitid	UWkNjECQgCqlJng0;

1.21
date	2013.07.16.16.05.49;	author schwarze;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.30.05.34.53;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2013.03.17.08.39.24;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2009.10.31.12.26.36;	author sobrado;	state Exp;
branches;
next	1.17;

1.17
date	2009.09.08.06.50.02;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2009.09.07.20.29.33;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2009.03.16.22.47.45;	author sobrado;	state Exp;
branches;
next	1.14;

1.14
date	2008.10.28.06.27.28;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2008.04.03.02.54.08;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2008.01.10.10.27.19;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2007.05.31.19.19.53;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2006.08.30.22.56.05;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2006.08.02.01.55.29;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2005.09.30.20.34.24;	author jaredy;	state Exp;
branches;
next	1.7;

1.7
date	2005.08.23.18.15.59;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2005.07.23.03.57.10;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2005.07.02.21.21.25;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2005.01.14.03.08.44;	author pvalchev;	state Exp;
branches;
next	1.3;

1.3
date	2004.12.01.14.18.38;	author jmc;	state Exp;
branches;
next	1.2;

1.2
date	2004.12.01.09.12.01;	author miod;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.01.01.29.37;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.22
log
@- Don't capitalize jumbo.
- Don't try to keep track of jumbo frame sizes in the pages. Users can
  use `ifconfig hwfeatures' to determine what the hardware supports.
@
text
@.\" $OpenBSD: vge.4,v 1.21 2013/07/16 16:05:49 schwarze Exp $
.\" $FreeBSD: vge.4,v 1.6 2004/11/24 19:06:43 brueffer Exp $
.\"
.\" Copyright (c) 2004
.\"	Bill Paul <wpaul@@windriver.com>. All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by Bill Paul.
.\" 4. Neither the name of the author nor the names of any co-contributors
.\"    may be used to endorse or promote products derived from this software
.\"   without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY Bill Paul AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL Bill Paul OR THE VOICES IN HIS HEAD
.\" BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
.\" CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
.\" SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
.\" INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
.\" CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
.\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
.\" THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate: July 16 2013 $
.Dt VGE 4
.Os
.Sh NAME
.Nm vge
.Nd VIA Velocity 10/100/Gigabit Ethernet device
.Sh SYNOPSIS
.Cd "vge* at pci?"
.Cd "ciphy* at mii?"
.Cd "ipgphy* at mii?"
.Sh DESCRIPTION
The
.Nm
driver provides support for various NICs and embedded Ethernet interfaces
based on the VIA Networking Technologies VT6120, VT6122, VT6130 and VT6132
Gigabit Ethernet controller chips, including the following:
.Pp
.Bl -bullet -compact
.It
ZyXEL GN650-T 64-bit PCI Gigabit Ethernet NIC (ZX1701)
.It
ZyXEL GN670-T 32-bit PCI Gigabit Ethernet NIC (ZX1702)
.El
.Pp
The VT6120/VT6122 is a 33/66MHz 64-bit PCI device which combines a tri-speed
MAC with an integrated 10/100/1000 copper PHY.
(Some older cards use an external PHY.)
The VT6130/VT6132 is the PCI Express version.
The MAC supports IPv4 transmit/receive IP/TCP/UDP checksum offload,
VLAN tag insertion and stripping, a 64-entry CAM filter and a 64-entry
VLAN filter, 64-bit multicast hash filter, 4 separate transmit DMA
queues, flow control and jumbo frames (not on VT6130/VT6132).
The Velocity family has a 16K receive FIFO and 48K transmit FIFO.
.Pp
The
.Nm
driver takes advantage of the IPv4 transmit/receive IP/TCP/UDP checksum
offload, VLAN tag insertion and stripping, and the CAM filter support.
The CAM filter is used for multicast address filtering to provide
64 perfect multicast address filter support.
If it is necessary for the interface to join more than 64 multicast
groups, the driver will switch over to using the hash filter.
.Pp
The
.Nm
driver supports the following media types:
.Bl -tag -width 10baseTXUTP
.It Cm autoselect
Enable autoselection of the media type and options.
The user can manually override the autoselected mode by adding media
options to the appropriate
.Xr hostname.if 5
file.
.It Cm 10baseT/UTP
Set 10Mbps operation.
The
.Xr ifconfig 8
.Ic mediaopt
option can also be used to select either
.Cm full-duplex
or
.Cm half-duplex
modes.
.It Cm 100baseTX
Set 100Mbps (Fast Ethernet) operation.
The
.Xr ifconfig 8
.Ic mediaopt
option can also be used to select either
.Cm full-duplex
or
.Cm half-duplex
modes.
.It Cm 1000baseT
Set 1000baseT operation over twisted pair.
Both
.Cm full-duplex
and
.Cm half-duplex
modes are supported.
.El
.Pp
The
.Nm
driver supports the following media options:
.Bl -tag -width full-duplex
.It Cm full-duplex
Force full duplex operation.
.It Cm half-duplex
Force half duplex operation.
.El
.Pp
For more information on configuring this device, see
.Xr ifconfig 8 .
.Sh SEE ALSO
.Xr arp 4 ,
.Xr ciphy 4 ,
.Xr ifmedia 4 ,
.Xr intro 4 ,
.Xr ipgphy 4 ,
.Xr netintro 4 ,
.Xr pci 4 ,
.Xr hostname.if 5 ,
.Xr ifconfig 8
.Sh HISTORY
The
.Nm
device driver first appeared in
.Ox 3.7 .
.Sh AUTHORS
.An -nosplit
The
.Nm
driver was written by
.An Bill Paul Aq Mt wpaul@@windriver.com
and ported to
.Ox
by
.An Peter Valchev Aq Mt pvalchev@@openbsd.org .
@


1.21
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.20 2013/03/30 05:34:53 brad Exp $
d34 1
a34 1
.Dd $Mdocdate: March 30 2013 $
d65 1
a65 2
queues, flow control and Jumbo frames (not on VT6130/VT6132) up to 16K
in size.
@


1.20
log
@Remove mentioning specific systems with embedded Ethernet chipsets or
LOM in vge(4) which is pretty vague and common to many Ethernet chipsets.

ok kettenis@@
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.19 2013/03/17 08:39:24 brad Exp $
d34 1
a34 1
.Dd $Mdocdate: March 17 2013 $
d149 1
a149 1
.An Bill Paul Aq wpaul@@windriver.com
d153 1
a153 1
.An Peter Valchev Aq pvalchev@@openbsd.org .
@


1.19
log
@Update the page to mention all of the Velocity controller models.

ok sthen@@
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.18 2009/10/31 12:26:36 sobrado Exp $
d34 1
a34 1
.Dd $Mdocdate: October 31 2009 $
a51 2
.It
VIA Networking LAN-on-motherboard Gigabit Ethernet
@


1.18
log
@s/Mhz/MHz/, MHz is a multiple of the SI unit hertz (whose symbol is Hz).
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.17 2009/09/08 06:50:02 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: September 8 2009 $
d39 1
a39 1
.Nd VIA VT6122 PCI 10/100/Gigabit Ethernet device
d48 2
a49 2
based on the VIA Networking Technologies VT6122 Gigabit Ethernet
controller chips, including the following:
d60 1
a60 1
The VT6122 is a 33/66MHz 64-bit PCI device which combines a tri-speed
d63 1
d67 3
a69 2
queues, flow control and Jumbo frames up to 16K in size.
The VT6122 has a 16K receive FIFO and 48K transmit FIFO.
@


1.17
log
@sort SEE ALSO;
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.16 2009/09/07 20:29:33 sthen Exp $
d34 1
a34 1
.Dd $Mdocdate: September 7 2009 $
d60 1
a60 1
The VT6122 is a 33/66Mhz 64-bit PCI device which combines a tri-speed
@


1.16
log
@Cross-reference ipgphy(4), from Brad.
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.15 2009/03/16 22:47:45 sobrado Exp $
d34 1
a34 1
.Dd $Mdocdate: March 16 2009 $
d133 1
a134 1
.Xr intro 4 ,
@


1.15
log
@use short (one-line) command descriptions (.Nd macros).

ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.14 2008/10/28 06:27:28 brad Exp $
d34 1
a34 1
.Dd $Mdocdate: October 28 2008 $
d43 1
d133 1
@


1.14
log
@Update for VLAN tag insertion and stripping support.
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.13 2008/04/03 02:54:08 brad Exp $
d34 1
a34 1
.Dd $Mdocdate: April 3 2008 $
d39 1
a39 1
.Nd VIA Networking Technologies VT6122 PCI 10/100/Gigabit Ethernet device
@


1.13
log
@Update the vge page a bit.
- Remove the HARDWARE section and merge the list of adapters into
  the DESCRIPTIN section.
- Update the DESCRIPTION section.
- Remove mentioning the link0 flag.
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.12 2008/01/10 10:27:19 brad Exp $
d34 1
a34 1
.Dd $Mdocdate: January 10 2008 $
d62 4
a65 5
The MAC supports IPv4 transmit/receive IP/TCP/UDP hardware
checksum offload, VLAN tag insertion and stripping, a 64-entry CAM
filter and a 64-entry VLAN filter, 64-bit multicast hash filter,
4 separate transmit DMA queues, flow control
and Jumbo frames up to 16K in size.
d70 2
a71 2
driver takes advantage of the VT6122's checksum offload and the CAM
filter support.
@


1.12
log
@1000baseTX -> 1000baseT

ok dlg@@
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.11 2007/05/31 19:19:53 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: May 31 2007 $
d48 1
a48 1
controller chips.
d50 11
a60 2
The VT6122 is a 33/66Mhz 64-bit PCI device which combines a tri-speed MAC with
an integrated 10/100/1000 copper PHY.
d63 3
a65 2
checksum offload, VLAN tag insertion, a 64-entry CAM filter and a 64-entry VLAN
filter, 64-bit multicast hash filter, 4 separate transmit DMA queues, flow control
d71 2
a72 2
driver takes advantage of the VT6122's checksum offload and VLAN
tagging features, as well as the CAM filter support.
d82 1
a82 1
.It autoselect
d88 1
a88 1
.It 10baseT/UTP
d94 1
a94 1
.Ar full-duplex
d96 1
a96 1
.Ar half-duplex
d98 1
a98 1
.It 100baseTX
d104 1
a104 1
.Ar full-duplex
d106 1
a106 1
.Ar half-duplex
d108 1
a108 1
.It 1000baseT
d111 1
a111 1
.Ar full-duplex
d113 1
a113 1
.Ar half-duplex
d121 1
a121 1
.It full-duplex
d123 1
a123 1
.It half-duplex
a126 21
The
.Nm
driver also supports one special link option for 1000baseT cards:
.Bl -tag -width link0
.It link0
With 1000baseT cards, establishing a link between two ports requires
that one port be configured as a master and the other a slave.
With autonegotiation,
the master/slave settings will be chosen automatically.
However when manually selecting the link state, it is necessary to
force one side of the link to be a master and the other a slave.
The
.Nm
driver configures the ports as slaves by default.
Setting the
.Cm link0
flag with
.Xr ifconfig 8
will set a port as a master instead.
.El
.Pp
a128 26
.Sh HARDWARE
The
.Nm
driver supports VIA Networking VT3119 and VT6122 based
Gigabit Ethernet adapters including:
.Pp
.Bl -bullet -compact
.It
VIA Networking LAN-on-motherboard Gigabit Ethernet
.It
ZyXEL GN650-T 64-bit PCI Gigabit Ethernet NIC (ZX1701)
.It
ZyXEL GN670-T 32-bit PCI Gigabit Ethernet NIC (ZX1702)
.El
.Sh DIAGNOSTICS
.Bl -diag
.It "vge%d: can't map mem space"
A fatal initialization error has occurred.
.It "vge%d: can't map i/o space"
A fatal initialization error has occurred.
.It "vge%d: couldn't map interrupt"
A fatal initialization error has occurred.
.It "vge%d: watchdog timeout"
The device has stopped responding to the network, or there is a problem with
the network connection (cable).
.El
@


1.11
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.10 2006/08/30 22:56:05 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate$
d98 2
a99 2
.It 1000baseTX
Set 1000baseTX operation over twisted pair.
d119 1
a119 1
driver also supports one special link option for 1000baseTX cards:
d122 1
a122 1
With 1000baseTX cards, establishing a link between two ports requires
@


1.10
log
@the start of making .Nd lines more useful for section4;
this diff addresses ethernet devices only

input from nick jsg deraadt, maybe some others
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.9 2006/08/02 01:55:29 brad Exp $
d34 1
a34 1
.Dd November 24, 2004
@


1.9
log
@remove reference to Jumbo frames as the driver currently does not work
with Jumbos.
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.8 2005/09/30 20:34:24 jaredy Exp $
d39 1
a39 1
.Nd "VIA Networking Technologies VT6122 PCI Gigabit Ethernet adapter driver"
@


1.8
log
@deploy .An -nosplit; ok jmc
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.7 2005/08/23 18:15:59 jmc Exp $
d62 1
a62 1
tagging features, as well as the Jumbo frame and CAM filter support.
a66 4
.Pp
The Jumbo frame support can be enabled by setting the interface MTU
to any value larger than the default of 1500 bytes, up to a maximum
of 9000 bytes.
@


1.7
log
@no need for vlan(4) in SEE ALSO here too;
after discussion with deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.6 2005/07/23 03:57:10 brad Exp $
d185 1
@


1.6
log
@this is a bit better
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.5 2005/07/02 21:21:25 brad Exp $
a176 1
.Xr vlan 4 ,
@


1.5
log
@uncomment large portions of the page
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.4 2005/01/14 03:08:44 pvalchev Exp $
d54 2
a55 3
checksum offload, VLAN tag insertion and stripping,
as well as VLAN filtering, a 64-entry CAM filter and a 64-entry VLAN filter,
64-bit multicast hash filter, 4 separate transmit DMA queues, flow control
a70 4
The receive and transmit checksum offload support
can be toggled on and off using the
.Xr ifconfig 8
utility.
@


1.4
log
@ciphy(4) attachment in SYNOPSIS
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.3 2004/12/01 14:18:38 jmc Exp $
d53 6
a58 15
.\" The MAC supports TCP/IP hardware
.\" checksums (IPv4 only), TCP large send, VLAN tag insertion and stripping,
.\" as well as VLAN filtering, a 64-entry CAM filter and a 64-entry VLAN filter,
.\" 64-bit multicast hash filter, 4 separate transmit DMA queues, flow control
.\" and jumbo frames up to 16K in size.
.\" The VT6122 has a 16K receive FIFO and 48K transmit FIFO.
.\" .Pp
.\" The
.\" .Nm
.\" driver takes advantage of the VT6122's checksum offload and VLAN
.\" tagging features, as well as the jumbo frame and CAM filter support.
.\" The CAM filter is used for multicast address filtering to provide
.\" 64 perfect multicast address filter support.
.\" If it is necessary for the interface to join more than 64 multicast
.\" groups, the driver will switch over to using the hash filter.
d60 10
a69 1
The jumbo frame support can be enabled by setting the interface MTU
d125 21
a145 21
.\" .Pp
.\" The
.\" .Nm
.\" driver also supports one special link option for 1000baseTX cards:
.\" .Bl -tag -width link0
.\" .It link0
.\" With 1000baseTX cards, establishing a link between two ports requires
.\" that one port be configured as a master and the other a slave.
.\" With autonegotiation,
.\" the master/slave settings will be chosen automatically.
.\" However when manually selecting the link state, it is necessary to
.\" force one side of the link to be a master and the other a slave.
.\" The
.\" .Nm
.\" driver configures the ports as slaves by default.
.\" Setting the
.\" .Cm link0
.\" flag with
.\" .Xr ifconfig 8
.\" will set a port as a master instead.
.\" .El
@


1.3
log
@sort SEE ALSO;
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.2 2004/12/01 09:12:01 miod Exp $
d42 1
@


1.2
log
@Real synopsis.
@
text
@d1 1
a1 1
.\" $OpenBSD: vge.4,v 1.1 2004/12/01 01:29:37 pvalchev Exp $
d176 1
a180 1
.Xr ciphy 4 ,
@


1.1
log
@manpages for VIA VT612x driver + Cicada PHY
@
text
@d1 1
a1 1
.\" $OpenBSD$
d41 1
a41 1
.Cd "re* at pci?"
@

