head	1.28;
access;
symbols
	OPENBSD_6_2_BASE:1.28
	OPENBSD_6_1:1.28.0.18
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.28.0.16
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.28.0.4
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.28.0.12
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.28.0.10
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.28.0.8
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.6
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.27.0.8
	OPENBSD_5_3_BASE:1.27
	OPENBSD_5_2:1.27.0.6
	OPENBSD_5_2_BASE:1.27
	OPENBSD_5_1_BASE:1.27
	OPENBSD_5_1:1.27.0.4
	OPENBSD_5_0:1.27.0.2
	OPENBSD_5_0_BASE:1.27
	OPENBSD_4_9:1.26.0.16
	OPENBSD_4_9_BASE:1.26
	OPENBSD_4_8:1.26.0.14
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.26.0.10
	OPENBSD_4_7_BASE:1.26
	OPENBSD_4_6:1.26.0.12
	OPENBSD_4_6_BASE:1.26
	OPENBSD_4_5:1.26.0.8
	OPENBSD_4_5_BASE:1.26
	OPENBSD_4_4:1.26.0.6
	OPENBSD_4_4_BASE:1.26
	OPENBSD_4_3:1.26.0.4
	OPENBSD_4_3_BASE:1.26
	OPENBSD_4_2:1.26.0.2
	OPENBSD_4_2_BASE:1.26
	OPENBSD_4_1:1.25.0.4
	OPENBSD_4_1_BASE:1.25
	OPENBSD_4_0:1.25.0.2
	OPENBSD_4_0_BASE:1.25
	OPENBSD_3_9:1.24.0.4
	OPENBSD_3_9_BASE:1.24
	OPENBSD_3_8:1.24.0.2
	OPENBSD_3_8_BASE:1.24
	OPENBSD_3_7:1.23.0.4
	OPENBSD_3_7_BASE:1.23
	OPENBSD_3_6:1.23.0.2
	OPENBSD_3_6_BASE:1.23
	OPENBSD_3_5:1.21.0.2
	OPENBSD_3_5_BASE:1.21
	OPENBSD_3_4:1.18.0.2
	OPENBSD_3_4_BASE:1.18
	OPENBSD_3_3:1.15.0.8
	OPENBSD_3_3_BASE:1.15
	OPENBSD_3_2:1.15.0.6
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.15.0.4
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.15.0.2
	OPENBSD_3_0_BASE:1.15
	OPENBSD_2_9:1.12.0.2
	OPENBSD_2_9_BASE:1.12
	OPENBSD_2_8:1.11.0.4
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.11.0.2
	OPENBSD_2_7_BASE:1.11
	OPENBSD_2_6:1.10.0.2
	OPENBSD_2_6_BASE:1.10
	OPENBSD_2_5:1.8.0.2
	OPENBSD_2_5_BASE:1.8
	OPENBSD_2_4:1.7.0.4
	OPENBSD_2_4_BASE:1.7
	OPENBSD_2_3:1.7.0.2
	OPENBSD_2_3_BASE:1.7
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.28
date	2013.06.02.20.23.33;	author tedu;	state Exp;
branches;
next	1.27;

1.27
date	2011.04.02.14.38.09;	author henning;	state Exp;
branches;
next	1.26;

1.26
date	2007.05.31.19.19.50;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2006.05.09.19.03.04;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2005.06.09.08.40.49;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2004.08.17.23.58.36;	author jaredy;	state Exp;
branches;
next	1.22;

1.22
date	2004.07.26.09.20.14;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2004.03.21.19.47.59;	author miod;	state Exp;
branches;
next	1.20;

1.20
date	2004.03.13.23.37.59;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2003.12.08.10.03.43;	author markus;	state Exp;
branches;
next	1.18;

1.18
date	2003.07.02.20.45.18;	author avsm;	state Exp;
branches;
next	1.17;

1.17
date	2003.06.06.10.29.41;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2003.06.02.23.30.12;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	2001.10.05.14.45.53;	author mpech;	state Exp;
branches;
next	1.14;

1.14
date	2001.07.01.22.05.50;	author angelos;	state Exp;
branches;
next	1.13;

1.13
date	2001.06.01.06.22.27;	author fgsch;	state Exp;
branches;
next	1.12;

1.12
date	2000.11.06.22.16.33;	author matthieu;	state Exp;
branches;
next	1.11;

1.11
date	99.12.16.06.45.31;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	99.06.05.13.18.32;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	99.05.16.19.56.29;	author alex;	state Exp;
branches;
next	1.8;

1.8
date	98.10.31.23.17.41;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	98.02.14.20.44.40;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	98.02.14.18.55.04;	author mickey;	state Exp;
branches;
next	1.5;

1.5
date	98.02.14.18.53.56;	author mickey;	state Exp;
branches;
next	1.4;

1.4
date	98.02.14.18.50.34;	author mickey;	state Exp;
branches;
next	1.3;

1.3
date	98.02.01.21.46.31;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	98.02.01.18.31.57;	author mickey;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.44.25;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.44.25;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.28
log
@change format strings in error messages to reasonable values more likely
to be understood by people who don't program in C.
ok everyone
@
text
@.\"	$OpenBSD: lo.4,v 1.27 2011/04/02 14:38:09 henning Exp $
.\"	$NetBSD: lo.4,v 1.3 1994/11/30 16:22:23 jtc Exp $
.\"
.\" Copyright (c) 1983, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @@(#)lo.4	8.1 (Berkeley) 6/5/93
.\"
.Dd $Mdocdate: April 2 2011 $
.Dt LO 4
.Os
.Sh NAME
.Nm lo
.Nd software loopback network interface
.Sh SYNOPSIS
.Cd "pseudo-device loop"
.Sh DESCRIPTION
The
.Nm loop
interface is a software loopback mechanism which may be
used for performance analysis, software testing, and/or local
communication.
.Pp
A
.Nm loop
interface can be created at runtime using the
.Ic ifconfig lo Ns Ar N Ic create
command or by setting up a
.Xr hostname.if 5
configuration file for
.Xr netstart 8 .
The
.Nm lo0
interface will always exist and cannot be destroyed using
.Xr ifconfig 8 .
.Pp
As with other network interfaces, the loopback interface must have
network addresses assigned for each address family with which it is to be used.
These addresses
may be set or changed with the
.Dv SIOCSIFADDR
.Xr ioctl 2 .
The loopback interface should be the last interface configured,
as protocols may use the order of configuration as an indication of priority.
The loopback should
.Em never
be configured first unless no hardware
interfaces exist.
.Sh DIAGNOSTICS
.Bl -diag
.It lo0: can't handle afX.
The interface was handed
a message with addresses formatted in an unsuitable address
family; the packet was dropped.
.El
.Sh SEE ALSO
.Xr inet 4 ,
.Xr inet6 4 ,
.Xr netintro 4 ,
.Xr hostname.if 5 ,
.Xr ifconfig 8 ,
.Xr netstart 8
.Sh HISTORY
The
.Nm
device appeared in
.Bx 4.2 .
.Sh BUGS
Previous versions of the system enabled the loopback interface
automatically, using a non-standard Internet address (127.1).
Use of that address is now discouraged; a reserved host address
for the local network should be used instead.
@


1.27
log
@rmeove the link1 hack, it is in the way, it is only half-baked and doesn't
work as you think it does, and the same can easily be achieved using pf
ok claudio dlg sthen theo
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.26 2007/05/31 19:19:50 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
d75 1
a75 1
.It lo%d: can't handle af%d.
@


1.26
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.25 2006/05/09 19:03:04 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
a72 27
.Pp
Configuring a loopback interface for
.Xr inet 4
with the
.Em link1
flag set will make the interface answer to the whole set of
addresses identified as being in super-net which is specified
by the address and netmask.
Obviously you should not set the
.Em link1
flag on interface
.Nm lo0 ,
but instead use another interface like
.Nm lo1 .
.Sh EXAMPLES
.Bd -literal
# ifconfig lo1 create
# ifconfig lo1 inet 192.168.1.1 netmask 255.255.255.0 link1
.Ed
.Pp
is equivalent to:
.Bd -literal
# ifconfig lo1 create
# awk 'BEGIN {for(i=1;i<255;i++) \e
	print "ifconfig lo1 inet 192.168.1."i" netmask 255.255.255.255 alias"}'| \e
	sh
.Ed
a91 3
.Pp
The wildcard functionality first appeared in
.Ox 2.3 .
a96 5
.Pp
Care should be taken when using NAT with interfaces that have the
.Em link1
flag set, because it may believe the packets are coming from a
loopback address.
@


1.25
log
@no need to specify a "count" argument: ifconfig(8) handles these
"on demand";

from jan niemann;
ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.24 2005/06/09 08:40:49 jmc Exp $
d33 1
a33 1
.Dd June 5, 1993
@


1.24
log
@remove references to ns(4);
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.23 2004/08/17 23:58:36 jaredy Exp $
d40 1
a40 1
.Cd "pseudo-device loop" Op Ar count
@


1.23
log
@keep all "ifconfig <cloneable> create" examples the same

ok jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.22 2004/07/26 09:20:14 jmc Exp $
a110 1
.Xr ns 4 ,
@


1.22
log
@.Xr hostname.if 5
.Xr netstart 8

from Alexey E. Suslikov
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.21 2004/03/21 19:47:59 miod Exp $
d51 1
a51 1
.Ic ifconfig loN create
@


1.21
log
@Homogeneize config lines for pseudo-devices, and do not put fixed values.
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.20 2004/03/13 23:37:59 jmc Exp $
d112 3
a114 1
.Xr ifconfig 8
@


1.20
log
@remove unnecessary .Pp before a display;
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.19 2003/12/08 10:03:43 markus Exp $
d40 1
a40 1
.Cd "pseudo-device Nm loop" Op Ar count
@


1.19
log
@mention ifconfig create; sync synopsis like (Op Ar count). with jmc, deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.18 2003/07/02 20:45:18 avsm Exp $
a93 1
.Pp
@


1.18
log
@nonstandard -> non-standard
jmc@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.17 2003/06/06 10:29:41 jmc Exp $
d40 1
a40 1
.Sy pseudo-device Nm loop Em <number>
d47 14
d88 4
a91 1
ifconfig lo1 inet 192.168.1.1 netmask 255.255.255.0 link1
d95 6
a100 2
awk 'BEGIN {for(i=1;i<255;i++) \
print "ifconfig lo1 inet 192.168.1."i" netmask 255.255.255.255 alias"}'|sh
@


1.17
log
@- section reorder
- some macro fixes
- kill whitespace at EOL
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.16 2003/06/02 23:30:12 millert Exp $
d103 1
a103 1
automatically, using a nonstandard Internet address (127.1).
@


1.16
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.15 2001/10/05 14:45:53 mpech Exp $
d70 1
a70 1
.Nm lo0 Ns ,
d72 8
a79 1
.Nm lo1 Ns .
a86 7
.Sh EXAMPLES
ifconfig lo1 inet 192.168.1.1 netmask 255.255.255.0 link1
.Pp
is equivalent to:
.Pp
awk 'BEGIN {for(i=1;i<255;i++) \
print "ifconfig lo1 inet 192.168.1."i" netmask 255.255.255.255 alias"}'|sh
@


1.15
log
@Powered by @@mantoya:
o) start new sentence on a new line;
o) minor mdoc fixes;
millert@@ ok

Tip of the day:   www.mpechismazohist.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.14 2001/07/01 22:05:50 angelos Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.14
log
@IPF cleanups; openbsd@@davidkrause.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.13 2001/06/01 06:22:27 fgsch Exp $
d70 2
a71 1
by the address and netmask. Obviously you should not set the
@


1.13
log
@Comment out ipnat(8) reference.
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.12 2000/11/06 22:16:33 matthieu Exp $
d110 4
a113 6
.\"You should be careful using
.\".Xr ipnat 8
.\"with
.\".Em link1
.\"set on an interface, because it may believe the packets are coming
.\"from a loopback address.
@


1.12
log
@Restore the real non-standard loopback address (127.1)
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.11 1999/12/16 06:45:31 deraadt Exp $
d110 6
a115 6
You should be careful using
.Xr ipnat 8
with
.Em link1
set on an interface, because it may believe the packets are coming
from a loopback address.
@


1.11
log
@Xr inet6 4
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.10 1999/06/05 13:18:32 aaron Exp $
d106 1
a106 1
automatically, using a nonstandard Internet address (127.0.0.1).
@


1.10
log
@more .Os cleanup, remove some trailing whitespace, cleanse some .Nm
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.9 1999/05/16 19:56:29 alex Exp $
d92 1
@


1.9
log
@Cleanup xrefs under SEE ALSO.  Specifically:

  - Sort xrefs by section, and then alphabetically.
  - Add missing commas between xref items.
  - Remove commas from the last xref entry.
  - Remove duplicate entries.
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.8 1998/10/31 23:17:41 espie Exp $
d39 1
a39 1
.Os BSD 4.2
@


1.8
log
@Fix netintro/intro muck-up.
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.7 1998/02/14 20:44:40 deraadt Exp $
d91 1
a92 1
.Xr inet 4 ,
@


1.7
log
@Let's try for english grammar.
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.6 1998/02/14 18:55:04 mickey Exp $
d91 1
a91 1
.Xr intro 4 ,
@


1.6
log
@no, i guess that was not in 2.2
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.5 1998/02/14 18:53:56 mickey Exp $
d64 1
a64 1
Configuring loopback interface for
d66 5
a70 1
with
d72 4
a75 3
flag set you achieve a functionality such as equivalent to setting
the whole set of addresses wich belongs to the sub/super-net of the
address and netmask configured on the interface.
d85 2
a86 1
this would configure lo1 the way equivalent to:
d89 1
a89 1
print "ifconfig lo1 inet 192.168.1."i" netmask 255.255.255.255"}'|sh
d105 1
a105 1
automatically, using a nonstandard Internet address (127.1).
d109 6
a114 2
You should be carefull using ipnat with link1 set about the
packets coming from loopback interfaces.
@


1.5
log
@add a note in bug section; from angelos@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.4 1998/02/14 18:50:34 mickey Exp $
d96 1
a96 1
.Ox 2.2 .
@


1.4
log
@wildcard ifaces; finally, after HE said it's ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: lo.4,v 1.2 1998/02/01 18:31:57 mickey Exp $
d102 3
@


1.3
log
@undo wildcard loopback stuff; it was not checked by other developers
@
text
@d1 1
d44 1
a44 2
.Sy pseudo-device
.Nm loop
d63 8
d78 6
d87 2
a88 1
.Xr ns 4
d94 3
@


1.2
log
@document the link1 flag
@
text
@a0 1
.\"	$OpenBSD$
d43 2
a44 1
.Sy pseudo-device Nm loop Em <number>
a62 8
.Pp
Configuring loopback interface for
.Xr inet 4
with
.Em link1
flag set you achieve a functionality such as equivalent to setting
the whole set of addresses wich belongs to the sub/super-net of the
address and netmask configured on the interface.
a69 6
.Sh EXAMPLES
ifconfig lo1 inet 192.168.1.1 netmask 255.255.255.0 link1
this would configure lo1 the way equivalent to:
.Pp
awk 'BEGIN {for(i=1;i<255;i++) \
print "ifconfig lo1 inet 192.168.1."i" netmask 255.255.255.255"}'|sh
d73 1
a73 2
.Xr ns 4 ,
.Xr ifconfig 8
a78 3
.Pp
The wildcard functionality first appeared in
.Ox 2.2 .
@


1.1
log
@Initial revision
@
text
@d1 1
d44 1
a44 2
.Sy pseudo-device
.Nm loop
d63 8
d78 6
d87 2
a88 1
.Xr ns 4
d94 3
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
