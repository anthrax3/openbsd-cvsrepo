head	1.24;
access;
symbols
	OPENBSD_6_2_BASE:1.24
	OPENBSD_6_1:1.24.0.4
	OPENBSD_6_1_BASE:1.24
	OPENBSD_6_0:1.23.0.16
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.23.0.4
	OPENBSD_5_9_BASE:1.23
	OPENBSD_5_8:1.23.0.12
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.23.0.10
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.23.0.8
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.6
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.21.0.20
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.21.0.18
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.21
	OPENBSD_5_1:1.21.0.16
	OPENBSD_5_0:1.21.0.14
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.21.0.12
	OPENBSD_4_9_BASE:1.21
	OPENBSD_4_8:1.21.0.10
	OPENBSD_4_8_BASE:1.21
	OPENBSD_4_7:1.21.0.6
	OPENBSD_4_7_BASE:1.21
	OPENBSD_4_6:1.21.0.8
	OPENBSD_4_6_BASE:1.21
	OPENBSD_4_5:1.21.0.4
	OPENBSD_4_5_BASE:1.21
	OPENBSD_4_4:1.21.0.2
	OPENBSD_4_4_BASE:1.21
	OPENBSD_4_3:1.20.0.2
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.19.0.2
	OPENBSD_4_2_BASE:1.19
	OPENBSD_4_1:1.18.0.2
	OPENBSD_4_1_BASE:1.18
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4;
locks; strict;
comment	@.\" @;


1.24
date	2016.10.11.12.10.47;	author reyk;	state Exp;
branches;
next	1.23;
commitid	73CXnKneBJu2aeim;

1.23
date	2013.07.16.16.05.49;	author schwarze;	state Exp;
branches;
next	1.22;

1.22
date	2013.05.31.20.18.44;	author reyk;	state Exp;
branches;
next	1.21;

1.21
date	2008.07.28.19.52.21;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2007.09.02.08.27.03;	author dlg;	state Exp;
branches;
next	1.19;

1.19
date	2007.05.31.19.19.53;	author jmc;	state Exp;
branches;
next	1.18;

1.18
date	2006.11.09.14.30.25;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2006.11.09.11.19.21;	author reyk;	state Exp;
branches;
next	1.16;

1.16
date	2006.11.06.15.34.52;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2006.11.06.08.35.58;	author reyk;	state Exp;
branches;
next	1.14;

1.14
date	2006.11.03.10.08.05;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2006.11.03.09.45.35;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2006.11.03.09.41.40;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2006.11.03.08.47.12;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2006.11.03.02.23.23;	author dlg;	state Exp;
branches;
next	1.9;

1.9
date	2006.11.02.08.21.23;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2006.11.02.07.20.36;	author fkr;	state Exp;
branches;
next	1.7;

1.7
date	2006.11.02.05.53.57;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2006.04.20.05.51.47;	author martin;	state Exp;
branches;
next	1.5;

1.5
date	2006.03.05.09.03.35;	author jmc;	state Exp;
branches;
next	1.4;

1.4
date	2006.02.26.18.23.15;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2006.02.26.17.45.00;	author jmc;	state Exp;
branches;
next	1.2;

1.2
date	2006.02.26.02.32.39;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2006.02.25.23.53.03;	author reyk;	state Exp;
branches;
next	;


desc
@@


1.24
log
@Remove vic(4)'s BUGS section that I added in 2006 when people were
still terrified about VMs - vic(4) was the first driver for a virtual
interface in OpenBSD.  The statement is still true but we all got used
to the obvious fact: "BUGS There are tons of bugs in VMware and the
underlying host operating systems.  Please consider that the security
of the OpenBSD guest can be circumvented by attacking the host
environment."

OK mikeb@@
@
text
@.\"	$OpenBSD: vic.4,v 1.23 2013/07/16 16:05:49 schwarze Exp $
.\"
.\" Copyright (c) 2006 Reyk Floeter <reyk@@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: July 16 2013 $
.Dt VIC 4
.Os
.Sh NAME
.Nm vic
.Nd VMware VMXnet Virtual Interface Controller device
.Sh SYNOPSIS
.Cd vic* at pci?
.Sh DESCRIPTION
The
.Nm
driver provides support for the VMXnet virtual NIC available in virtual
machines by VMware.
It appears as a simple Ethernet device but is actually a virtual network
interface to the underlying host operating system.
.Pp
This driver supports the
.Ic vmxnet
driver protocol, as an alternative to the emulated
.Xr pcn 4
and
.Xr em 4
interfaces also available in the VMware environment.
The
.Nm vic
driver is optimized for the virtual machine, it can provide advanced
capabilities depending on the underlying host operating system and
the physical network interface controller of the host.
.Pp
The
.Nm
driver supports VMware virtual NICs provided by the following products:
.Pp
.Bl -bullet -compact -offset indent
.It
VMware ESX 2.0 and newer
.It
VMware GSX 2.5 and newer
.It
VMware Server 1.0 and newer
.It
VMware Workstation 4.5 and newer
.It
VMware Fusion 1.0 and newer
.El
.Pp
The
.Nm
driver supports the following media types:
.Bl -tag -width autoselect
.It autoselect
Enable autoselection of the media type and options.
The driver always uses the fastest available speed and the media
options provided by the underlying host of the virtual machine.
.El
.Pp
For more information on configuring this device, see
.Xr ifconfig 8 .
.Sh EXAMPLES
The following entry must be added to the VMware configuration file
to provide the
.Nm
device:
.Bd -literal -offset indent
ethernet0.virtualDev = "vmxnet"
.Ed
.Sh SEE ALSO
.Xr arp 4 ,
.Xr em 4 ,
.Xr ifmedia 4 ,
.Xr intro 4 ,
.Xr netintro 4 ,
.Xr pci 4 ,
.Xr pcn 4 ,
.Xr vmx 4 ,
.Xr hostname.if 5 ,
.Xr ifconfig 8
.Sh AUTHORS
.An -nosplit
The
.Nm
driver was written by
.An Reyk Floeter Aq Mt reyk@@openbsd.org
and
.An David Gwynne Aq Mt dlg@@openbsd.org .
@


1.23
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.22 2013/05/31 20:18:44 reyk Exp $
d17 1
a17 1
.Dd $Mdocdate: May 31 2013 $
a101 5
.Sh BUGS
There are tons of bugs in VMware and the underlying host operating systems.
Please consider that the security of the
.Ox
guest can be circumvented by attacking the host environment.
@


1.22
log
@Add a manpage for the newly added vmx(4) driver.
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.21 2008/07/28 19:52:21 brad Exp $
d17 1
a17 1
.Dd $Mdocdate: July 28 2008 $
d99 1
a99 1
.An Reyk Floeter Aq reyk@@openbsd.org
d101 1
a101 1
.An David Gwynne Aq dlg@@openbsd.org .
@


1.21
log
@mention newer versions.
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.20 2007/09/02 08:27:03 dlg Exp $
d17 1
a17 1
.Dd $Mdocdate: September 2 2007 $
d91 1
@


1.20
log
@vic works in vmware fusion too
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.19 2007/05/31 19:19:53 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate$
d52 1
a52 1
VMware ESX Server 2.x
d54 1
a54 1
VMware GSX Server 2.5 and newer
d60 1
a60 1
VMware Fusion 1.0
@


1.19
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.18 2006/11/09 14:30:25 jmc Exp $
d59 2
@


1.18
log
@take out a word which was just not helpful;
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.17 2006/11/09 11:19:21 reyk Exp $
d17 1
a17 1
.Dd December 20, 2005
@


1.17
log
@- add VMware Workstation 4.5 and newer to the list of supported
products now that it works and doesn't segfault the VM anymore...

- intial work has been done on ESX server 2.x, we still need to test
it with ESX server 3.x! any volunteers?

ok dlg@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.16 2006/11/06 15:34:52 jmc Exp $
d48 1
a48 2
driver supports VMware virtual NICs provided by the following
known products:
@


1.16
log
@missing word;
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.15 2006/11/06 08:35:58 reyk Exp $
d53 1
a53 1
VMware ESX Server
d57 3
a59 1
VMware Server
@


1.15
log
@add a note that there a tons of BUGS in VMware and the underlying host
operating systems and that you should consider that the security of
the OpenBSD guest can be circumvented by attacking the host
environment.

ok deraadt@@ dlg@@ fkr@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.14 2006/11/03 10:08:05 jmc Exp $
d99 1
a99 1
There are tons bugs in VMware and the underlying host operating systems.
@


1.14
log
@improve EXAMPLES somewhat; from dlg and myself
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.13 2006/11/03 09:45:35 jmc Exp $
d98 5
@


1.13
log
@no need to capitalise "virtual";
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.12 2006/11/03 09:41:40 jmc Exp $
d73 4
a76 2
For VMware to add a virtual NIC to a virtual machine, the virtualDev parameter
on an Ethernet device must be specified as "vmxnet":
a77 1
ethernet0.present = "TRUE"
@


1.12
log
@move the hardware info to a more relevant part of the doc;
no need for a separate HARDWARE section;

ok dlg
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.11 2006/11/03 08:47:12 jmc Exp $
d48 1
a48 1
driver supports VMware Virtual NICs provided by the following
@


1.11
log
@vmxnet -> VMXnet
ethernet -> Ethernet

ok dlg
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.10 2006/11/03 02:23:23 dlg Exp $
a47 13
driver supports the following media types:
.Bl -tag -width autoselect
.It autoselect
Enable autoselection of the media type and options.
The driver always uses the fastest available speed and the media
options provided by the underlying host of the virtual machine.
.El
.Pp
For more information on configuring this device, see
.Xr ifconfig 8 .
.Sh HARDWARE
The
.Nm
d59 13
@


1.10
log
@vmware can also emulate em these days, not just pcn.
remove some verbosity that describes features we dont use or care about.
im an author too.

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.8 2006/11/02 07:20:36 fkr Exp $
d22 1
a22 1
.Nd VMware vmxnet Virtual Interface Controller device
d74 1
a74 1
on an ethernet device must be specified as "vmxnet":
@


1.9
log
@tweaks;
@
text
@d28 1
a28 1
driver provides support for the virtual NIC available in virtual
d37 3
a39 1
interface also available in the VMware environment.
a45 30
Unlike the capabilities of physical network interface controllers,
these capabilities may change after reboot.
The list of available capabilities is printed by the kernel on
startup, which could be:
.Pp
.Bl -tag -width VLANSW -offset indent -compact
.It SG
Transmit scatter-gather lists are supported (required).
.It CSUM4
IPv4 TCP/UDP checksum offload is supported (ignored).
.It CSUM
IPv4/IPv6/TCP/UDP checksum offload is supported (ignored).
.It HDMA
Can map high DMA memory.
.It TOE
TCP offload engine available (ignored).
.It TSO
TCP segmentation offload supported (ignored).
.It TSOHW
Software-based TSO supported (ignored).
.It VPROM
Virtual PROM available, used for the MAC address.
.It VLANTx
VLAN tagging available (ignored).
.It VLANRx
VLAN untagging available (ignored).
.It VLANSW
Software-based VLAN tagging on the host (ignored).
.El
.Pp
d73 2
a74 2
For VMware to add a virtual NIC to a virtual machine, add these
lines to the vmx configuration file:
d81 1
d94 3
a96 1
.An Reyk Floeter Aq reyk@@openbsd.org .
@


1.8
log
@add an example on how to add the virtual nic to a virtual machine.
discussed with and ok'ed by jmc@@ and dlg@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.7 2006/11/02 05:53:57 brad Exp $
d100 2
a101 2
.Pp
For VMware to add a virtual NIC to a virtual machine, add these 
@


1.7
log
@fix up vic a bit and add it to the pci man page.
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.6 2006/04/20 05:51:47 martin Exp $
d100 7
@


1.6
log
@slightly better wording
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.5 2006/03/05 09:03:35 jmc Exp $
d22 1
a22 1
.Nd VMware Virtual Network Interface Controller driver
a98 12
.El
.Sh DIAGNOSTICS
.Bl -diag
.It "vic%d: I/O mapping of register space failed"
A fatal initialization error has occurred.
.It "vic%d: interrupt mapping failed"
A fatal initialization error has occurred.
.It "vic%d: couldn't establish interrupt"
A fatal initialization error has occurred.
.It "vic%d: watchdog timeout"
The device has stopped responding to the network, or there is a problem with
the network connection (host cable).
@


1.5
log
@better wording;
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.4 2006/02/26 18:23:15 brad Exp $
d110 1
a110 1
the network connection (cable of the host).
@


1.4
log
@sync DIAGNOSTICS error messages.
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.3 2006/02/26 17:45:00 jmc Exp $
d30 2
a31 2
It appears as a simple Ethernet device but is a virtual network
interface to the underlying host operating system indeed.
@


1.3
log
@tweaks;
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.2 2006/02/26 02:32:39 brad Exp $
d102 1
a102 3
.It "vic%d: memory mapping is not available"
A fatal initialization error has occurred.
.It "vic%d: memory mapping of register space failed"
d106 1
a106 3
.It "vic%d: failed to establish the interrupt"
A fatal initialization error has occurred.
.It "vic%d: failed to establish the shutdown hook"
@


1.2
log
@specify which releases and versions of VMware support the vmxnet
interface.
@
text
@d1 1
a1 1
.\"	$OpenBSD: vic.4,v 1.1 2006/02/25 23:53:03 reyk Exp $
d17 1
a17 1
.Dd Dec 20, 2005
d33 1
a33 1
This drivers supports the
d35 1
a35 1
driver protocol, as an alternative to the the emulated
@


1.1
log
@add initial manual page for vic(4)
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d95 4
@

