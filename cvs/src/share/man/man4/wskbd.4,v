head	1.24;
access;
symbols
	OPENBSD_6_2:1.24.0.6
	OPENBSD_6_2_BASE:1.24
	OPENBSD_6_1:1.24.0.4
	OPENBSD_6_1_BASE:1.24
	OPENBSD_6_0:1.23.0.4
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.22.0.2
	OPENBSD_5_9_BASE:1.22
	OPENBSD_5_8:1.22.0.8
	OPENBSD_5_8_BASE:1.22
	OPENBSD_5_7:1.22.0.6
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.22.0.4
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.21.0.26
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.21.0.22
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.21.0.20
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.21.0.18
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.21
	OPENBSD_5_1:1.21.0.16
	OPENBSD_5_0:1.21.0.14
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.21.0.12
	OPENBSD_4_9_BASE:1.21
	OPENBSD_4_8:1.21.0.10
	OPENBSD_4_8_BASE:1.21
	OPENBSD_4_7:1.21.0.6
	OPENBSD_4_7_BASE:1.21
	OPENBSD_4_6:1.21.0.8
	OPENBSD_4_6_BASE:1.21
	OPENBSD_4_5:1.21.0.4
	OPENBSD_4_5_BASE:1.21
	OPENBSD_4_4:1.21.0.2
	OPENBSD_4_4_BASE:1.21
	OPENBSD_4_3:1.20.0.4
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.20.0.2
	OPENBSD_4_2_BASE:1.20
	OPENBSD_4_1:1.19.0.4
	OPENBSD_4_1_BASE:1.19
	OPENBSD_4_0:1.19.0.2
	OPENBSD_4_0_BASE:1.19
	OPENBSD_3_9:1.17.0.2
	OPENBSD_3_9_BASE:1.17
	OPENBSD_3_8:1.16.0.2
	OPENBSD_3_8_BASE:1.16
	OPENBSD_3_7:1.14.0.2
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.13.0.4
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.13.0.2
	OPENBSD_3_5_BASE:1.13
	OPENBSD_3_4:1.12.0.2
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.9.0.2
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.5.0.4
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.1.0.2
	OPENBSD_2_8_BASE:1.1;
locks; strict;
comment	@.\" @;


1.24
date	2016.09.03.14.36.14;	author jmc;	state Exp;
branches;
next	1.23;
commitid	hOdLtWixlbHsU4zO;

1.23
date	2016.03.10.11.37.04;	author jmc;	state Exp;
branches;
next	1.22;
commitid	K5U82rd9d52D7YFN;

1.22
date	2014.03.19.12.57.51;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2008.07.16.16.32.06;	author miod;	state Exp;
branches;
next	1.20;

1.20
date	2007.05.31.19.19.53;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2006.07.31.21.59.16;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2006.05.29.20.23.10;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2005.11.17.05.41.42;	author uwe;	state Exp;
branches;
next	1.16;

1.16
date	2005.04.22.11.59.10;	author miod;	state Exp;
branches;
next	1.15;

1.15
date	2005.04.01.02.07.07;	author uwe;	state Exp;
branches;
next	1.14;

1.14
date	2004.09.30.19.59.26;	author mickey;	state Exp;
branches;
next	1.13;

1.13
date	2004.03.22.20.31.36;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2003.07.09.13.26.20;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2003.06.06.10.29.41;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2003.04.11.04.32.28;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2003.02.19.09.01.47;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2003.02.11.20.10.33;	author miod;	state Exp;
branches;
next	1.7;

1.7
date	2002.09.26.22.09.53;	author miod;	state Exp;
branches;
next	1.6;

1.6
date	2002.08.12.10.48.18;	author miod;	state Exp;
branches;
next	1.5;

1.5
date	2001.06.08.04.08.26;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	2001.05.28.15.50.11;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	2001.03.27.22.44.55;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	2000.12.21.21.01.22;	author aaron;	state Exp;
branches;
next	1.1;

1.1
date	2000.07.14.15.38.45;	author mickey;	state Exp;
branches;
next	;


desc
@@


1.24
log
@no more pages for pxaip, zkbd, zrc, or zts;
@
text
@.\" $OpenBSD: wskbd.4,v 1.23 2016/03/10 11:37:04 jmc Exp $
.\" $NetBSD: wskbd.4,v 1.5 2000/03/20 11:51:59 pk Exp $
.\"
.\" Copyright (c) 1999
.\" 	Matthias Drochner.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: March 10 2016 $
.Dt WSKBD 4
.Os
.Sh NAME
.Nm wskbd
.Nd generic keyboard support in wscons
.Sh SYNOPSIS
.Cd "wskbd* at ..."
.Sh DESCRIPTION
The
.Nm
driver handles common tasks for keyboards within the
.Xr wscons 4
framework.
It is attached to the hardware specific keyboard drivers and
provides their connection to
.Dq wsdisplay
devices and a character device interface.
.Pp
The common keyboard support consists of:
.Bl -bullet
.It
Mapping from keycodes (defined by the specific keyboard driver) to
keysyms (hardware independent, defined in
.Pa /usr/include/dev/wscons/wsksymdef.h ) .
.It
Handling of
.Dq compose
sequences.
Characters commonly not present as separate keys on keyboards
can be generated after either a special
.Dq compose
key is pressed or a
.Dq dead accent
character is used.
.It
Certain translations, like turning an
.Dq ALT
modifier into an
.Dq ESC
prefix.
.It
Automatic key repetition
.Pf ( Dq typematic ) .
.It
Parameter handling for
.Dq keyboard bells .
.It
Generation of
.Dq keyboard events
for use by X servers.
.El
.Pp
The
.Nm
driver provides a number of ioctl functions to control key maps
and other parameters.
These functions are accessible through the associated
.Dq wsdisplay
device as well.
A complete list is in
.Pa /usr/include/dev/wscons/wsconsio.h .
The
.Xr wsconsctl 8
utility allows access to key maps and other variables.
.Pp
The
.Em console
locator in the configuration line refers to the device's use as input
part of the operating system console.
A device specification containing a positive value here will only match
if the device is in use as system console.
(The console device selection in early system startup is not influenced.)
This way, the console device can be connected to a known
.Nm wskbd
device instance.
.Pp
The
.Nm
driver traps certain key sequences intended to perform special functions.
The
.Cm Ctrl+Alt+Esc
sequence will initiate the
.Xr ddb 4
kernel debugger if the
.Dq ddb.console
.Xr sysctl 8
variable is set.
When attached to a
.Xr wsdisplay 4
device,
.Cm Ctrl+Alt+Fx
switches virtual terminals and the
.Cm Shift+PgUp
and
.Cm Shift+PgDn
combinations provide scrollback functionality if the underlying hardware
driver supports it.
When audio devices are supported, keys
.Cm Mute ,
.Cm VolumeUp
and
.Cm VolumeDown
tweak mixer settings.
.Sh FILES
.Bl -tag -width /usr/include/dev/wscons/wsksymdef.h -compact
.It Pa /dev/wskbd*
.It Pa /usr/include/dev/wscons/wsksymdef.h
.It Pa /usr/include/dev/wscons/wsconsio.h
.El
.Sh SEE ALSO
.Xr akbd 4 ,
.Xr comkbd 4 ,
.Xr hilkbd 4 ,
.Xr intro 4 ,
.Xr pckbd 4 ,
.Xr ukbd 4 ,
.Xr wscons 4 ,
.Xr wsmux 4 ,
.Xr zskbd 4 ,
.Xr wsconsctl 8
@


1.23
log
@remove Xr to lkkbd and lkms, now deleted vax pages;
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.22 2014/03/19 12:57:51 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: March 19 2014 $
a146 2
.Xr zkbd 4 ,
.Xr zrc 4 ,
@


1.22
log
@remove references to hp300 pages, recently removed; ok miod
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.21 2008/07/16 16:32:06 miod Exp $
d28 1
a28 1
.Dd $Mdocdate: July 16 2008 $
a142 1
.Xr lkkbd 4 ,
@


1.21
log
@Implement pckbc_xt_translation() in gsckbc. Thus, we can attach pckbd instead of
gsckbd; the former will cause a proper translation page to be selected by
the keyboard.

Because of this, we no longer depend on the page the keyboard is left in
by the PDC (page 2 for all machines but the PrecisionBook, which is in
page 3), and there is no longer any need to use separate keyboard maps.
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.20 2007/05/31 19:19:53 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: May 31 2007 $
a140 1
.Xr dnkbd 4 ,
@


1.20
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.19 2006/07/31 21:59:16 miod Exp $
d28 1
a28 1
.Dd $Mdocdate$
a141 1
.Xr gsckbd 4 ,
@


1.19
log
@Remove ultralong synopsises and add a few more xrefs.
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.18 2006/05/29 20:23:10 miod Exp $
d28 1
a28 1
.Dd April 22, 2005
@


1.18
log
@Add support for the audio volume keys found on many laptops' builtin
keyboard. These specific keys are posted to a kernel thread which will
issue mixer commands if an audio device exists.

Written by Alexey Vatchenko <avv , mail zp ua> with tweaks by deraadt@@ and I.
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.17 2005/11/17 05:41:42 uwe Exp $
d35 1
a35 18
.Cd "wskbd* at pckbd? mux 1"
.Cd "wskbd* at gsckbd? mux 1" Pq hppa
(PS/2 keyboard)
.Cd "wskbd* at ukbd? mux 1"
(USB keyboard)
.Cd "wskbd* at akbd? mux 1"
(Apple ADB keyboard)
.Cd "wskbd* at comkbd? mux 1"
.Cd "wskbd* at zskbd? mux 1"
(Sun serial keyboard)
.Cd "wskbd* at hilkbd? mux 1"
(HIL keyboard)
.Cd "wskbd* at zkbd? mux 1"
(Zaurus keyboard)
.Cd "wskbd* at zrc? mux 1"
(Zaurus remote control)
.Cd "wskbd* at dnkbd? mux 1"
(Apollo Domain keyboard)
d145 1
@


1.17
log
@Xr zrc 4 here, too
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.16 2005/04/22 11:59:10 miod Exp $
d143 6
@


1.16
log
@Driver for the Apollo Domain keyboard and mouse, for the HP 9000/4xx series.

Claims the console keyboard if a keyboard is detected at boot time,
otherwise HIL is preferred (but due to wsmux both can be used simultaneously).
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.15 2005/04/01 02:07:07 uwe Exp $
d49 2
d161 1
@


1.15
log
@Cd and Xr for zkbd(4)
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.14 2004/09/30 19:59:26 mickey Exp $
d28 1
a28 1
.Dd February 11, 2003
d49 2
d150 1
@


1.14
log
@kill default locators
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.13 2004/03/22 20:31:36 miod Exp $
d47 2
d155 1
@


1.13
log
@A potpourri of Xr and layout fixes.

ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.12 2003/07/09 13:26:20 jmc Exp $
d35 2
a36 2
.Cd "wskbd* at pckbd? console ? mux 1"
.Cd "wskbd* at gsckbd? console ? mux 1" Pq hppa
d38 1
a38 1
.Cd "wskbd* at ukbd? console ? mux 1"
d40 1
a40 1
.Cd "wskbd* at akbd? console ? mux 1"
d42 2
a43 2
.Cd "wskbd* at comkbd? console ? mux 1"
.Cd "wskbd* at zskbd? console ? mux 1"
d45 1
a45 1
.Cd "wskbd* at hilkbd? console ? mux 1"
@


1.12
log
@- fix lists/displays
- quote .Cd's
- add/remove .Pp's as necessary
- fix some .Re/.Rs's
- simplify macros
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.11 2003/06/06 10:29:41 jmc Exp $
d36 1
d146 1
@


1.11
log
@- section reorder
- some macro fixes
- kill whitespace at EOL
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.10 2003/04/11 04:32:28 jmc Exp $
d35 1
a35 1
.Cd wskbd* at pckbd? console ? mux 1
d37 1
a37 1
.Cd wskbd* at ukbd? console ? mux 1
d39 1
a39 1
.Cd wskbd* at akbd? console ? mux 1
d41 2
a42 2
.Cd wskbd* at comkbd? console ? mux 1
.Cd wskbd* at zskbd? console ? mux 1
d44 1
a44 1
.Cd wskbd* at hilkbd? console ? mux 1
@


1.10
log
@typos;

wscons(4): ok miod@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.9 2003/02/19 09:01:47 jmc Exp $
d112 1
a112 1
.Xr wskbd 4
@


1.9
log
@copyrights added;

these are all Matthias Drochner, except:

gsckbd(4): miod@@ + Drochner
wsdisplay(4): Harris + Drochner
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.8 2003/02/11 20:10:33 miod Exp $
d67 1
a67 1
Characters commonly not present as separate key on keyboards
d95 1
a95 1
These functions are accessible though the associated
d102 1
a102 1
utility allows to access key maps and other variables.
d147 2
a150 2
.Xr pckbd 4 ,
.Xr ukbd 4 ,
@


1.8
log
@Manual pages for the new hil(4) and hilkbd(4) drivers.
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.7 2002/09/26 22:09:53 miod Exp $
d3 24
@


1.7
log
@Second part of the man4 mi cleanup.
- more/better xrefs
- sync .Cd lines with actual configuration files
- intro(4) reference police
- huge usb(4) update
- follow mdoc.samples suggested man page section ordering when necessary
- add netintro(4) and hostname.if(5) xrefs to all ethernet drivers

ok deraadt@@ mickey@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.6 2002/08/12 10:48:18 miod Exp $
d4 1
a4 1
.Dd March 20, 1999
d20 2
d121 1
@


1.6
log
@Manual pages update to reflect the sparc wscons changes.
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.5 2001/06/08 04:08:26 aaron Exp $
d119 1
@


1.5
log
@Document special command keys.
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.4 2001/05/28 15:50:11 aaron Exp $
d11 9
a19 3
.Cd "wskbd* at pckbd? console ? mux 1"
.Cd "wskbd* at ukbd? console ? mux 1"
.Cd "wskbd0 at akbd? console ? mux 1"
d117 2
d123 1
@


1.4
log
@Remove configuration declarations that don't apply to OpenBSD. Improve some
markup while we're here.
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.3 2001/03/27 22:44:55 aaron Exp $
d82 22
@


1.3
log
@Rearrange title macros into the correct order.
@
text
@d1 1
a1 1
.\" $OpenBSD: wskbd.4,v 1.2 2000/12/21 21:01:22 aaron Exp $
a11 1
(standard PC keyboard)
a12 3
(USB keyboard)
.Cd "wskbd* at lkkbd? console ? mux 1"
(DEC LK200/400 serial keyboard)
a13 7
(Apple ADB keyboard)
.Cd "wskbd0 at nextkbd? console ? mux 1"
(NeXT keyboard)
.Cd "wskbd* at vrkiu? console ? mux 1"
(NEC VR4000 series HPC keyboard)
.Cd "wskbd* at skbd? console ? mux 1"
(keyboard of misc hpcmips handheld devices)
d30 1
a30 2
.Pa /usr/include/dev/wscons/wsksymdef.h
).
d48 2
a49 3
Automatic key repetition (
.Dq typematic
).
a89 1
.Xr wsconsctl 8 ,
d92 2
a93 1
.Xr ukbd 4
@


1.2
log
@Various repairs, $Id$ tags added, etc.
@
text
@d1 1
a1 1
.\" $OpenBSD$
d5 1
a6 1
.Dt WSKBD 4
@


1.1
log
@raw import of raw ws* manpages; weasels are ripping my flesh
@
text
@d1 1
d3 1
d30 2
a31 1
framework. It is attached to the hardware specific keyboard drivers and
d46 2
a47 1
sequences. Characters commonly not present as separate key on keyboards
d75 2
a76 2
and other parameters. These functions are accessible though the
associated
d78 2
a79 1
device as well. A complete list is in
d88 7
a94 5
part of the operating system console. A device specification containing
a positive value here will only match if the device is in use as system
console. (The console device selection in early system startup is not
influenced.) This way, the console device can be connected to a known
wskbd device instance.
d96 4
a99 7
.Bl -item
.It
.Pa /dev/wskbd*
.It
.Pa /usr/include/dev/wscons/wsksymdef.h
.It
.Pa /usr/include/dev/wscons/wsconsio.h .
@

