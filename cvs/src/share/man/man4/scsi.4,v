head	1.39;
access;
symbols
	OPENBSD_6_1:1.39.0.8
	OPENBSD_6_1_BASE:1.39
	OPENBSD_6_0:1.39.0.6
	OPENBSD_6_0_BASE:1.39
	OPENBSD_5_9:1.39.0.2
	OPENBSD_5_9_BASE:1.39
	OPENBSD_5_8:1.38.0.8
	OPENBSD_5_8_BASE:1.38
	OPENBSD_5_7:1.38.0.6
	OPENBSD_5_7_BASE:1.38
	OPENBSD_5_6:1.38.0.4
	OPENBSD_5_6_BASE:1.38
	OPENBSD_5_5:1.37.0.4
	OPENBSD_5_5_BASE:1.37
	OPENBSD_5_4:1.36.0.4
	OPENBSD_5_4_BASE:1.36
	OPENBSD_5_3:1.36.0.2
	OPENBSD_5_3_BASE:1.36
	OPENBSD_5_2:1.35.0.4
	OPENBSD_5_2_BASE:1.35
	OPENBSD_5_1_BASE:1.35
	OPENBSD_5_1:1.35.0.2
	OPENBSD_5_0:1.34.0.2
	OPENBSD_5_0_BASE:1.34
	OPENBSD_4_9:1.32.0.4
	OPENBSD_4_9_BASE:1.32
	OPENBSD_4_8:1.32.0.2
	OPENBSD_4_8_BASE:1.32
	OPENBSD_4_7:1.30.0.8
	OPENBSD_4_7_BASE:1.30
	OPENBSD_4_6:1.30.0.10
	OPENBSD_4_6_BASE:1.30
	OPENBSD_4_5:1.30.0.6
	OPENBSD_4_5_BASE:1.30
	OPENBSD_4_4:1.30.0.4
	OPENBSD_4_4_BASE:1.30
	OPENBSD_4_3:1.30.0.2
	OPENBSD_4_3_BASE:1.30
	OPENBSD_4_2:1.29.0.2
	OPENBSD_4_2_BASE:1.29
	OPENBSD_4_1:1.28.0.2
	OPENBSD_4_1_BASE:1.28
	OPENBSD_4_0:1.27.0.2
	OPENBSD_4_0_BASE:1.27
	OPENBSD_3_9:1.22.0.4
	OPENBSD_3_9_BASE:1.22
	OPENBSD_3_8:1.22.0.2
	OPENBSD_3_8_BASE:1.22
	OPENBSD_3_7:1.19.0.2
	OPENBSD_3_7_BASE:1.19
	OPENBSD_3_6:1.17.0.4
	OPENBSD_3_6_BASE:1.17
	OPENBSD_3_5:1.17.0.2
	OPENBSD_3_5_BASE:1.17
	OPENBSD_3_4:1.14.0.2
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.13.0.2
	OPENBSD_3_3_BASE:1.13
	OPENBSD_3_2:1.12.0.2
	OPENBSD_3_2_BASE:1.12
	OPENBSD_3_1:1.11.0.2
	OPENBSD_3_1_BASE:1.11
	OPENBSD_3_0:1.10.0.2
	OPENBSD_3_0_BASE:1.10
	OPENBSD_2_9:1.8.0.8
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.8.0.6
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.8.0.4
	OPENBSD_2_7_BASE:1.8
	OPENBSD_2_6:1.8.0.2
	OPENBSD_2_6_BASE:1.8
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.1.0.8
	OPENBSD_2_3_BASE:1.1
	OPENBSD_2_2:1.1.0.6
	OPENBSD_2_2_BASE:1.1
	OPENBSD_2_1:1.1.0.4
	OPENBSD_2_1_BASE:1.1
	OPENBSD_2_0:1.1.0.2
	OPENBSD_2_0_BASE:1.1;
locks; strict;
comment	@# @;


1.39
date	2015.11.21.17.43.33;	author jmc;	state Exp;
branches;
next	1.38;
commitid	9DCyogifD2bxusqb;

1.38
date	2014.06.28.06.18.26;	author matthew;	state Exp;
branches;
next	1.37;
commitid	246JFW0oVphokrT1;

1.37
date	2014.01.21.03.15.46;	author schwarze;	state Exp;
branches;
next	1.36;

1.36
date	2012.08.14.01.08.19;	author dlg;	state Exp;
branches;
next	1.35;

1.35
date	2011.10.06.20.17.22;	author sobrado;	state Exp;
branches;
next	1.34;

1.34
date	2011.04.28.03.03.41;	author dlg;	state Exp;
branches;
next	1.33;

1.33
date	2011.04.06.11.54.56;	author dlg;	state Exp;
branches;
next	1.32;

1.32
date	2010.07.03.09.20.05;	author krw;	state Exp;
branches;
next	1.31;

1.31
date	2010.07.03.03.59.16;	author krw;	state Exp;
branches;
next	1.30;

1.30
date	2008.01.26.23.07.55;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2007.05.31.19.19.51;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2006.10.28.10.26.26;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2006.08.13.07.56.37;	author steven;	state Exp;
branches;
next	1.26;

1.26
date	2006.07.19.13.24.32;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2006.07.19.11.03.54;	author dlg;	state Exp;
branches;
next	1.24;

1.24
date	2006.06.29.16.47.14;	author deraadt;	state Exp;
branches;
next	1.23;

1.23
date	2006.05.28.18.34.09;	author uwe;	state Exp;
branches;
next	1.22;

1.22
date	2005.08.03.00.23.49;	author mickey;	state Exp;
branches;
next	1.21;

1.21
date	2005.05.28.23.03.25;	author martin;	state Exp;
branches;
next	1.20;

1.20
date	2005.05.27.11.55.46;	author miod;	state Exp;
branches;
next	1.19;

1.19
date	2005.01.04.11.39.01;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2004.09.30.19.59.25;	author mickey;	state Exp;
branches;
next	1.17;

1.17
date	2004.03.22.20.31.36;	author miod;	state Exp;
branches;
next	1.16;

1.16
date	2004.03.12.00.04.51;	author miod;	state Exp;
branches;
next	1.15;

1.15
date	2004.03.08.18.24.35;	author miod;	state Exp;
branches;
next	1.14;

1.14
date	2003.04.03.11.02.36;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2003.02.18.07.54.53;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2002.09.26.07.55.40;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2001.11.07.19.41.01;	author jason;	state Exp;
branches;
next	1.10;

1.10
date	2001.10.05.14.45.53;	author mpech;	state Exp;
branches;
next	1.9;

1.9
date	2001.06.26.02.09.10;	author pjanzen;	state Exp;
branches;
next	1.8;

1.8
date	99.08.24.01.20.21;	author csapuntz;	state Exp;
branches;
next	1.7;

1.7
date	99.07.09.13.35.47;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.06.05.13.18.32;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.05.16.19.56.36;	author alex;	state Exp;
branches;
next	1.4;

1.4
date	99.03.11.01.35.04;	author pjanzen;	state Exp;
branches;
next	1.3;

1.3
date	98.11.17.23.29.35;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	98.09.06.22.23.19;	author aaron;	state Exp;
branches;
next	1.1;

1.1
date	96.08.04.20.28.20;	author tholo;	state Exp;
branches;
next	;


desc
@@


1.39
log
@after some discussion with dlg and schwarze, add scsibus to NAME;
ok schwarze
@
text
@.\"	$OpenBSD: scsi.4,v 1.38 2014/06/28 06:18:26 matthew Exp $
.\"
.\" Copyright (c) 1996
.\"	Julian Elischer <julian@@freebsd.org>.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\"
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: June 28 2014 $
.Dt SCSI 4
.Os
.Sh NAME
.Nm scsi ,
.Nm scsibus
.Nd SCSI system
.Sh SYNOPSIS
.Cd "cd* at scsibus?"
.Cd "ch* at scsibus?"
.Cd "safte* at scsibus?"
.Cd "sd* at scsibus?"
.Cd "ses* at scsibus?"
.Cd "st* at scsibus?"
.Cd "uk* at scsibus?"
.Pp
.Cd "# multipath support"
.Cd "emc* at scsibus?"
.Cd "hds* at scsibus?"
.Cd "rdac* at scsibus?"
.Cd "sym* at scsibus?"
.Sh DESCRIPTION
The
.Em SCSI
system provides a uniform and modular system for the implementation
of drivers to control various SCSI devices, and to utilize different
SCSI host adapters through host adapter drivers.
When the system probes the
.Em SCSI
buses, it attaches any devices it finds to the appropriate
drivers.
If no driver seems appropriate, then it attaches the device to the
uk (unknown) driver so that user level SCSI ioctls may
still be performed against the device.
.Sh KERNEL CONFIGURATION
The option SCSIDEBUG enables the debug ioctl.
.Pp
All devices and the SCSI buses support boot time allocation so that
an upper number of devices and controllers does not need to be configured;
.Cd "sd* at scsibus?"
will suffice for any number of disk drivers.
.Pp
The devices are either
.Em wired
so they appear as a particular device unit or
.Em counted
so that they appear as the next available unused unit.
.Pp
To configure a driver in the kernel without wiring down the device use a
config line similar to
.Cd "ch* at scsibus?"
to include the changer driver.
.Pp
To wire down a unit use a config line similar to
.Cd "ch1 at scsibus0 target 4 lun 0"
to assign changer 1 as the changer with SCSI ID 4,
SCSI logical unit 0 on SCSI bus 0.
Individual scsibuses can be wired down to specific controllers with
a config line similar to
.Cd "scsibus0 at ahc0"
which assigns SCSI bus 0 to the first unit using the ahc driver.
For controllers supporting more than one bus,
the particular bus can be specified as in
.Cd "scsibus3 at ahc1 bus 1"
which assigns scsibus 1 to the second bus probed on the ahc1 device.
.Pp
When there is a mixture of wired down and counted devices then the
counting begins with the first non-wired down unit for a particular
type.
That is, if a disk is wired down as
.Cd "sd1 at scsibus?" ,
then the first non-wired disk shall come on line as
.Em sd2 .
.Sh IOCTLS
There are a number of ioctls that work on any
.Em SCSI
device.
They are defined in
.In sys/scsiio.h
and can be applied against any SCSI device that permits them.
For the tape, it must be applied against the control
device.
See the manual page for each device type for more information about
how generic SCSI ioctls may be applied to a specific device.
.Bl -tag -width DIOCSDINFO____
.It Dv SCIOCRESET
Reset a device.
.It Dv SCIOCDEBUG Fa "int *"
Turn on debugging.
All SCSI operations originating from this device's driver
will be traced to the console, along with other information.
Debugging is controlled by four bits, described in the header file.
If no debugging is configured into the kernel, debugging will have
no effect.
.Em SCSI
debugging is controlled by the configuration option
.Em SCSIDEBUG .
.It Dv SCIOCCOMMAND Fa "scsireq_t *"
Take a SCSI command and data from a user process and apply them to the SCSI
device.
Return all status information and return data to the process.
The ioctl will return a successful status even if the device rejected the
command.
As all status is returned to the user, it is up to the user
process to examine this information to decide the success of the command.
.It Dv SCIOCIDENTIFY Fa "struct scsi_addr *"
Ask the driver what its bus, target and lun are.
In addition, the device type, ATAPI or SCSI, is returned.
.El
.Sh ADAPTERS
The system allows common device drivers to work through many different
types of adapters.
The adapters take requests from the upper layers and do all I/O between the
.Em SCSI
bus and the system.
The maximum size of a transfer is governed by the adapter.
Most adapters can transfer 64KB in a single operation, and many can transfer
larger amounts.
.Sh DIAGNOSTICS
When the kernel is compiled with option SCSIDEBUG, the SCIOCDEBUG ioctl
can be used to enable various amounts of tracing information on any
specific device.
Devices not being traced will not produce trace information.
The four bits that make up the debug level each control certain types
of debugging information.
.Bl -tag -width "Bit 0"
.It Dv Bit 0
shows all SCSI bus operations including SCSI commands,
error information and the first 48 bytes of any data transferred.
.It Dv Bit 1
shows routines called.
.It Dv Bit 2
shows information about what branches are taken and often some
of the return values of functions.
.It Dv Bit 3
shows more detailed information including DMA scatter-gather logs.
.El
.Sh SEE ALSO
.Xr cd 4 ,
.Xr ch 4 ,
.Xr emc 4 ,
.Xr hds 4 ,
.Xr intro 4 ,
.Xr mpath 4 ,
.Xr rdac 4 ,
.Xr safte 4 ,
.Xr sd 4 ,
.Xr ses 4 ,
.Xr st 4 ,
.Xr sym 4 ,
.Xr uk 4 ,
.Xr scsi 8
.Sh HISTORY
This
.Nm
system appeared in MACH 2.5 at TRW.
@


1.38
log
@Cleanup documentation for SCSI device driver ioctl()s.
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.37 2014/01/21 03:15:46 schwarze Exp $
d28 1
a28 1
.Dd $Mdocdate: January 21 2014 $
d32 2
a33 1
.Nm scsi
@


1.37
log
@obvious .Pa fixes; found with mandocdb(8)
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.36 2012/08/14 01:08:19 dlg Exp $
d28 1
a28 1
.Dd $Mdocdate: August 14 2012 $
d112 1
a112 1
.It Dv SCIOCRESET*
d114 1
a114 1
.It Dv SCIOCDEBUG
d124 1
a124 1
.It Dv SCIOCCOMMAND
d132 1
a132 1
.It Dv SCIOCIDENTIFY
@


1.36
log
@kernel configs dont need "scsibus* at foo?" anymore.

"guess you get more commits" deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.35 2011/10/06 20:17:22 sobrado Exp $
d28 1
a28 1
.Dd $Mdocdate: October 6 2011 $
d105 1
a105 1
.Aq Pa sys/scsiio.h
@


1.35
log
@SCSI acronym should be upper case.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.34 2011/04/28 03:03:41 dlg Exp $
d28 1
a28 1
.Dd $Mdocdate: April 28 2011 $
a34 2
.Cd "scsibus at ..."
.Pp
a47 1
.Cd "scsibus* at mpath?"
@


1.34
log
@document hds(4).
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.33 2011/04/06 11:54:56 dlg Exp $
d28 1
a28 1
.Dd $Mdocdate: April 6 2011 $
d33 1
a33 1
.Nd scsi system
d55 2
a56 2
of drivers to control various scsi devices, and to utilize different
scsi host adapters through host adapter drivers.
d62 1
a62 1
uk (unknown) driver so that user level scsi ioctls may
d90 1
a90 1
which assigns scsi bus 0 to the first unit using the ahc driver.
d109 1
a109 1
and can be applied against any scsi device that permits them.
d113 1
a113 1
how generic scsi ioctls may be applied to a specific device.
d119 1
a119 1
All scsi operations originating from this device's driver
d128 1
a128 1
Take a scsi command and data from a user process and apply them to the scsi
d157 1
a157 1
shows all scsi bus operations including scsi commands,
@


1.33
log
@try to document the mpath bits i put in yesterday. thanks to miod for the
words that got me going.

we might not want to make mpath look as special as it is in the scsi
manpage, but i'll let others make the call and fix it in the tree.
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.32 2010/07/03 09:20:05 krw Exp $
d28 1
a28 1
.Dd $Mdocdate: July 3 2010 $
d47 1
d171 1
@


1.32
log
@Nuke missed .Xr ss. Pointed out by jmc@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.31 2010/07/03 03:59:16 krw Exp $
d44 6
d169 1
d171 2
d177 1
@


1.31
log
@No more ss(4) or usscanner(4). Unused, unloved and unmaintained.
General huzzahs.

"go for it" deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.30 2008/01/26 23:07:55 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: January 26 2008 $
a42 1
.Cd "ss* at scsibus?"
@


1.30
log
@the kids want I/O;
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.29 2007/05/31 19:19:51 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate: May 31 2007 $
a167 1
.Xr ss 4 ,
@


1.29
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.28 2006/10/28 10:26:26 jmc Exp $
d28 1
a28 1
.Dd $Mdocdate$
d136 1
a136 1
The adapters take requests from the upper layers and do all IO between the
@


1.28
log
@prefer `buses' to `busses' for the noun plural;
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.27 2006/08/13 07:56:37 steven Exp $
d28 1
a28 1
.Dd March 12, 2004
@


1.27
log
@some ioctls were removed earlier, remove them here as well.

go for it dlg@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.26 2006/07/19 13:24:32 jmc Exp $
d53 1
a53 1
busses, it attaches any devices it finds to the appropriate
d61 1
a61 1
All devices and the SCSI busses support boot time allocation so that
@


1.26
log
@oops, looks like i need help with the alphabet too;
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.25 2006/07/19 11:03:54 dlg Exp $
a128 6
.It Dv SCIOCREPROBE
Ask the system to probe the scsi busses for any new devices.
If it finds any, they will be attached to the appropriate drivers.
The search can be narrowed to a specific bus, target or lun.
The new device may or may not be related to the device on which
the ioctl was performed.
a131 3
.It Dv SCIOCDECONFIG
Ask the device to disappear.
This may not happen if the device is in use.
@


1.25
log
@list all the devices that attach to scsibus and xr them.

while here, remove some garbage about future plans to implement support for
target mode. when we have that support we can document it, until then its
a lie.

ok and help with the alphabet from jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.24 2006/06/29 16:47:14 deraadt Exp $
a170 1
.Xr intro 4 ,
d173 1
@


1.24
log
@A start at removing long Xr lists near the end.  Almost all the things
have been mentioned up higher already, so the Xr list near the bottom
was always getting out of date.  It is just not realistic to expect that
it could ever be kept up to date; ok jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.23 2006/05/28 18:34:09 uwe Exp $
d39 1
d41 1
a44 2
.Pp
.Cd "ses* at scsibus?"
a150 7
.Sh TARGET MODE
Some adapters support
.Em target mode
in which the system is capable of operating as a device, responding to
operations initiated by another system.
Target mode will be supported for some adapters, but is not yet complete for
this version of the scsi system.
d172 8
@


1.23
log
@Xr sdmmc 4
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.22 2005/08/03 00:23:49 mickey Exp $
a177 19
.Xr aac 4 ,
.Xr adv 4 ,
.Xr adw 4 ,
.Xr aha 4 ,
.Xr ahb 4 ,
.Xr ahc 4 ,
.Xr aic 4 ,
.Xr ami 4 ,
.Xr asc 4 ,
.Xr atapiscsi 4 ,
.Xr bha 4 ,
.Xr cac 4 ,
.Xr cd 4 ,
.Xr ch 4 ,
.Xr ciss 4 ,
.Xr dpt 4 ,
.Xr esp 4 ,
.Xr gdt 4 ,
.Xr iha 4 ,
a178 28
.Xr ioprbs 4 ,
.Xr iopsp 4 ,
.Xr isp 4 ,
.\" .Xr mesh 4 ,
.Xr mpt 4 ,
.Xr ncr 4 ,
.Xr ncrscsi 4 ,
.Xr oosiop 4 ,
.Xr osiop 4 ,
.Xr pcscp 4 ,
.Xr sd 4 ,
.Xr sdmmc 4 ,
.Xr sea 4 ,
.Xr ses 4 ,
.Xr si 4 ,
.Xr siop 4 ,
.Xr ss 4 ,
.Xr ssh 4 ,
.Xr st 4 ,
.Xr sw 4 ,
.Xr trm 4 ,
.Xr twe 4 ,
.Xr uk 4 ,
.Xr umass 4 ,
.Xr usscanner 4 ,
.Xr vs 4 ,
.Xr wds 4 ,
.Xr wdsc 4 ,
@


1.22
log
@hook up a simple ciss(4) page
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.21 2005/05/28 23:03:25 martin Exp $
d209 1
@


1.21
log
@keep the ncr(4) reference here, vax still uses its own implementation of the driver
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.20 2005/05/27 11:55:46 miod Exp $
d192 1
@


1.20
log
@Prune ncr(4) references.
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.19 2005/01/04 11:39:01 miod Exp $
d202 1
@


1.19
log
@Kill a FreeBSDism leftover.
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.18 2004/09/30 19:59:25 mickey Exp $
a201 1
.Xr ncr 4 ,
@


1.18
log
@kill default locators
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.17 2004/03/22 20:31:36 miod Exp $
d94 1
a94 1
.Cd "disk sd1 at scsibus?" ,
@


1.17
log
@A potpourri of Xr and layout fixes.

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.16 2004/03/12 00:04:51 miod Exp $
d37 6
a42 6
.Cd "cd* at scsibus? target ? lun ?"
.Cd "ch* at scsibus? target ? lun ?"
.Cd "sd* at scsibus? target ? lun ?"
.Cd "st* at scsibus? target ? lun ?"
.Cd "ss* at scsibus? target ? lun ?"
.Cd "uk* at scsibus? target ? lun ?"
d44 1
a44 1
.Cd "ses* at scsibus? target ? lun ?"
d63 1
a63 1
.Cd "sd* at scsibus? target ? lun ?"
d74 1
a74 1
.Cd "ch* at scsibus? target ? lun ?"
d94 1
a94 1
.Cd "disk sd1 at scsibus? target ? lun ?" ,
@


1.16
log
@Preliminary port of NetBSD oosiop driver, for NCR53C700 chips, as commonly
encountered on the oldest hppa machines.

Currently compiled in, but disabled, in the kernel, until it is stable
enough - right now read access are fine, but writes eventually time out
and do not complete.

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.15 2004/03/08 18:24:35 miod Exp $
d35 1
a35 27
.Cd "scsibus at aac?"
.Cd "scsibus at adv?"
.Cd "scsibus at adw?"
.Cd "scsibus at aha?"
.Cd "scsibus at ahb?"
.Cd "scsibus at ahc?"
.Cd "scsibus at aic?"
.Cd "scsibus at ami?"
.Cd "scsibus at atapiscsi?"
.Cd "scsibus at bha?"
.Cd "scsibus at cac?"
.Cd "scsibus at dpt?"
.Cd "scsibus at gdt?"
.Cd "scsibus at iha?"
.Cd "scsibus at ioprbs?"
.Cd "scsibus at iopsp?"
.Cd "scsibus at isp?"
.Cd "scsibus at mpt?"
.Cd "scsibus at ncr?"
.Cd "scsibus at oosiop?"
.Cd "scsibus at osiop?"
.Cd "scsibus at pcscp?"
.Cd "scsibus at siop?"
.Cd "scsibus at trm?"
.Cd "scsibus at twe?"
.Cd "scsibus at umass?"
.Cd "scsibus at usscanner?"
d47 1
a47 1
.Em scsi
d186 1
d193 1
d200 1
d203 1
d208 1
d210 1
d213 1
d215 1
d221 3
@


1.15
log
@Mention mpt(4).
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.14 2003/04/03 11:02:36 jmc Exp $
d28 1
a28 1
.Dd August 4, 1996
d54 2
d226 2
@


1.14
log
@typos;
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.13 2003/02/18 07:54:53 jmc Exp $
d52 1
d222 1
@


1.13
log
@copyrights added;

ac97(4): Constantine Sapuntzakis
scsi(4): Julian Elischer
tun(4): der Mouse (thanks mickey@@ for help with this one)
vlan(4): Jason R. Thorpe
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.12 2002/09/26 07:55:40 miod Exp $
d113 1
a113 1
When you have a mixture of wired down and counted devices then the
d116 1
a116 1
That is, if you have a disk wired down as
d125 1
a125 1
.Fd <sys/scsiio.h>
d133 1
a133 1
reset a device.
d143 1
a143 1
.Em SCSIDEBUG.
@


1.12
log
@Incomplete section 4 mi manual page cleanup.
- make configuration lines match GENERIC files
- more Xr (hopefully usefule Xr)
- never mention intro(4) on non-physical devices (i.e. protocols), always
mention it for physical devices
- random text style and quoting fixes
- drivers ported from FreeBSD did mention rc.conf instead of hostname.if as
the place to put mediaopt
- some .Tn UNIX -> .Ox replacements
- etc, etc...

reviewd in part by deraadt@@ (until he got bored of this)
@
text
@d1 26
a26 1
.\"	$OpenBSD: scsi.v 1.11 2001/11/07 19:41:01 jason Exp $
@


1.11
log
@fix typo
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.10 2001/10/05 14:45:53 mpech Exp $
d10 33
a42 9
.Nm scsibus* at aha?
.Nm scsibus* at ncr?
.Nm device cd* at scsibus? target ? lun ?
.Nm device ch* at scsibus? target ? lun ?
.Nm device sd* at scsibus? target ? lun ?
.Nm device st* at scsibus? target ? lun ?
.Nm device ss* at scsibus? target ? lun ?
.Nm device su* at scsibus? target ? lun ?
.Nm device uk* at scsibus? target ? lun ?
d61 1
a61 1
.Em "device sd* at scsibus? target ? lun ?"
d72 1
a72 1
.Em "device ch* at scsibus? target ? lun ?"
d76 1
a76 1
.Em "device ch1 at scsibus0 target 4 lun 0"
d81 1
a81 1
.Em "scsibus0 at ahc0"
d85 1
a85 1
.Em "scsibus3 at ahc1 bus 1"
d92 1
a92 1
.Em "disk sd1 at scsibus? target ? lun ?" ,
d100 1
a100 1
.Em sys/scsiio.h
a139 8
.Sh NOTES
The generic scsi part of the system is still being mapped out.
Watch this space for changes.
.Pp
A device by the name of su (scsi_user)
(e.g. su0-0-0) will map bus, target and lun to minor numbers.
It has not yet been decided whether this device will be able to open a device
that is already controlled by an explicit driver.
d176 11
d189 9
d199 2
d203 6
a208 1
.Xr uk 4
@


1.10
log
@Powered by @@mantoya:
o) start new sentence on a new line;
o) minor mdoc fixes;
millert@@ ok

Tip of the day:   www.mpechismazohist.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.9 2001/06/26 02:09:10 pjanzen Exp $
a168 1
A
@


1.9
log
@formatting nits, grammar, and trailing whitespace
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.8 1999/08/24 01:20:21 csapuntz Exp $
d24 2
a25 1
scsi host adapters through host adapter drivers. When the system probes the
d28 2
a29 1
drivers. If no driver seems appropriate, then it attaches the device to the
d66 2
a67 1
type.  That is, if you have a disk wired down as
d74 2
a75 1
device. They are defined in
d79 2
a80 1
device. See the manual page for each device type for more information about
d86 6
a91 4
Turn on debugging.. All scsi operations originating from this device's driver
will be traced to the console, along with other information. Debugging is
controlled by four bits, described in the header file. If no debugging is
configured into the kernel, debugging will have no effect.
d97 5
a101 3
device. Return all status information and return data to the process. The
ioctl will return a successful status even if the device rejected the
command. As all status is returned to the user, it is up to the user
d104 5
a108 4
Ask the system to probe the scsi busses for any new devices. If it finds
any, they will be attached to the appropriate drivers. The search can be
narrowed to a specific bus, target or lun. The new device may or may not
be related to the device on which the ioctl was performed.
d110 2
a111 2
Ask the driver what its bus, target and lun are. In addition, the device
type, ATAPI or SCSI, is returned.
d113 2
a114 1
Ask the device to disappear. This may not happen if the device is in use.
d121 3
a123 3
(e.g. su0-0-0) will map bus, target and lun to minor numbers. It has not
yet been decided whether this device will be able to open a device that is
already controlled by an explicit driver.
d126 2
a127 2
types of adapters. The adapters take requests from the upper layers and do
all IO between the
d129 4
a132 3
bus and the system. The maximum size of a transfer is governed by the
adapter. Most adapters can transfer 64KB in a single operation, and
many can transfer larger amounts.
d137 3
a139 2
operations initiated by another system. Target mode will be supported for
some adapters, but is not yet complete for this version of the scsi system.
d143 2
a144 1
specific device. Devices not being traced will not produce trace information.
@


1.8
log
@

Added type field to scsi_addr to reflect bus/device type (ATAPI or SCSI).
Updated ioctls to match

Minor patches in anticipation of wd->sd translation layer
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.7 1999/07/09 13:35:47 aaron Exp $
d34 1
a34 1
an upper number of devices and controllers do not need to be configured;
@


1.7
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.6 1999/06/05 13:18:32 aaron Exp $
d100 2
a101 1
Ask the driver what its bus, target and lun are.
@


1.6
log
@more .Os cleanup, remove some trailing whitespace, cleanse some .Nm
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.5 1999/05/16 19:56:36 alex Exp $
d24 1
a24 1
scsi host adapters through host adapter drivers. When the system probes the 
d69 1
a69 1
There are a number of ioctls that work on any 
d84 1
a84 1
configured into the kernel, debugging will have no effect. 
d90 1
a90 1
device. Return all status information and return data to the process. The 
d115 1
a115 1
all IO between the 
d121 1
a121 1
Some adapters support 
d127 2
a128 2
When the kernel is compiled with option SCSIDEBUG, the SCIOCDEBUG ioctl 
can be used to enable various amounts of tracing information on any 
d131 1
a131 1
of debugging information. 
@


1.5
log
@Cleanup xrefs under SEE ALSO.  Specifically:

  - Sort xrefs by section, and then alphabetically.
  - Add missing commas between xref items.
  - Remove commas from the last xref entry.
  - Remove duplicate entries.
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.4 1999/03/11 01:35:04 pjanzen Exp $
d4 2
a5 2
.Dt SD 4
.Os OpenBSD
@


1.4
log
@fix more comma splices that involve misuse of conjunctive adverbs
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.3 1998/11/17 23:29:35 aaron Exp $
d145 1
a146 1
.Xr cd 4 ,
@


1.3
log
@remove empty reference to non-existent su(4) page
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.2 1998/09/06 22:23:19 aaron Exp $
d118 1
a118 1
adapter. Most adapters can transfer 64KB in a single operation, however
@


1.2
log
@More man page fixes. Spelling, grammar, some typos. Lots of double-word
occurrences squashed as well.
@
text
@d1 1
a1 1
.\"	$OpenBSD: scsi.4,v 1.1 1996/08/04 20:28:20 tholo Exp $
a149 2
.Xr su 4
and
d154 1
@


1.1
log
@Manual page for generic SCSI subsystem; from FreeBSD
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d34 1
a34 1
an upper number of devices and controllers does not need to be configured;
d100 1
a100 1
Ask the driver what it's bus, target and lun are.
d105 1
a105 1
the generic scsi part of the system is still being mapped out.
d108 3
a110 3
 A device by the name of su (scsi_user)
(e.g  su0-0-0) will map bus, target and lun to  minor numbers. It has not
yet decided yet whether this device will be able to open a device that is
d130 1
a130 1
The four bits that make up the debug level, each control certain types
@

