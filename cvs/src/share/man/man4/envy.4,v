head	1.16;
access;
symbols
	OPENBSD_6_2:1.16.0.28
	OPENBSD_6_2_BASE:1.16
	OPENBSD_6_1:1.16.0.26
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.16.0.24
	OPENBSD_6_0_BASE:1.16
	OPENBSD_5_9:1.16.0.12
	OPENBSD_5_9_BASE:1.16
	OPENBSD_5_8:1.16.0.20
	OPENBSD_5_8_BASE:1.16
	OPENBSD_5_7:1.16.0.18
	OPENBSD_5_7_BASE:1.16
	OPENBSD_5_6:1.16.0.16
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.16.0.14
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.16.0.10
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.16.0.8
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.16.0.6
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.4
	OPENBSD_5_0:1.16.0.2
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.11.0.2
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.10.0.2
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.6.0.4
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4;
locks; strict;
comment	@.\" @;


1.16
date	2011.03.07.19.56.10;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2011.03.07.19.08.24;	author stsp;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.04.09.32.43;	author ratchov;	state Exp;
branches;
next	1.13;

1.13
date	2010.09.10.07.44.15;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2010.09.08.20.34.11;	author stsp;	state Exp;
branches;
next	1.11;

1.11
date	2010.07.31.16.56.42;	author ratchov;	state Exp;
branches;
next	1.10;

1.10
date	2010.03.07.19.06.20;	author ratchov;	state Exp;
branches;
next	1.9;

1.9
date	2010.03.07.19.03.28;	author ratchov;	state Exp;
branches;
next	1.8;

1.8
date	2009.12.01.21.27.13;	author ratchov;	state Exp;
branches;
next	1.7;

1.7
date	2009.10.24.09.13.35;	author ratchov;	state Exp;
branches;
next	1.6;

1.6
date	2009.05.08.19.03.55;	author ratchov;	state Exp;
branches;
next	1.5;

1.5
date	2009.05.08.18.47.51;	author ratchov;	state Exp;
branches;
next	1.4;

1.4
date	2008.02.22.07.55.02;	author ratchov;	state Exp;
branches;
next	1.3;

1.3
date	2008.02.21.01.44.59;	author ratchov;	state Exp;
branches;
next	1.2;

1.2
date	2007.10.29.11.38.27;	author ratchov;	state Exp;
branches;
next	1.1;

1.1
date	2007.10.28.22.12.23;	author ratchov;	state Exp;
branches;
next	;


desc
@@


1.16
log
@hardware lists are sorted;
@
text
@.\" $OpenBSD: envy.4,v 1.15 2011/03/07 19:08:24 stsp Exp $
.\"
.\" Copyright (c) 2007 Alexandre Ratchov <alex@@caoua.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: March 7 2011 $
.Dt ENVY 4
.Os
.Sh NAME
.Nm envy
.Nd VIA Envy24 audio device
.Sh SYNOPSIS
.Cd "envy* at pci?"
.Cd "audio* at envy?"
.Cd "midi* at envy?"
.Sh DESCRIPTION
The
.Nm
driver supports sound cards based on VIA Envy24 and Envy24HT PCI chips.
The following sound cards are currently supported:
.Pp
.Bl -bullet -compact -offset indent
.It
Dynex DX-SC51
.It
ESI Julia
.It
M-Audio Delta 1010, 1010LT, 66 and 44
.It
M-Audio Audiophile 2496
.It
M-Audio Revolution 5.1
.It
M-Audio Audiophile 192k
.It
Terratec EWX 24/96
.It
VIA Tremor 5.1
.El
.Ss Mixer device
The chip features a digital mixer that routes and mixes the
streams below as follows:
.Bl -tag -width playback
.It Dv inputs
There are 8 streams corresponding to data received by the
device from the codecs.
They are labelled
.Va line0
\(en
.Va line7
in the
.Xr mixer 4
interface.
.It Dv outputs
There are 8 streams corresponding to data sent by the device to the codecs.
They are labelled
.Va line0
\(en
.Va line7 .
Each of them can be individually configured to use any of
the external inputs or its corresponding playback stream as source.
Additionally, outputs
.Va line0
and
.Va line1
can be configured to use
.Va mon0
or
.Va mon1
as sources.
.It Dv monitor
There are 2 streams that can be configured to contain any linear
superposition of any of the 10 playback and 10 external input streams.
They are labelled
.Va mon0
and
.Va mon1 .
From the mixer's point of view they are input streams,
so they can be used as sources of output streams.
This feature is specific to Envy24 based cards.
.It Dv playback
There are 10 streams corresponding to samples transferred
from the host to the device.
They are labelled
.Va play0
\(en
.Va play9 .
From the mixer's point of view they are input streams,
so they are usable as sources of output streams.
.It Dv record
There are 12 streams corresponding to samples transferred
from the device to the host.
They are not controllable by the mixer.
Streams 0 to 7 are hardwired to external inputs
.Va line0
\(en
.Va line7
and streams 10 and 11 are hardwired to
.Va mon0
and
.Va mon1 .
.El
.Ss Playback and record data formats
Both playback and record use linear encoding.
Samples are represented by 32-bit signed numbers in little endian order.
Only the first 24 most significant bits are used.
On Envy24-based cards, playback uses 10 channels and record uses 12 channels,
while on Envy24HT-based cards the number of streams depend on the
number of codecs physically present on the card.
.Sh SEE ALSO
.Xr audio 4 ,
.Xr intro 4 ,
.Xr midi 4 ,
.Xr pci 4
.Sh HISTORY
The
.Nm
driver first appeared in
.Ox 4.3 .
.Sh BUGS
S/PDIF transmitter/receiver is not supported.
.Pp
Ring buffer sizes are limited to 64kB,
which can be limiting at high sample rates.
@


1.15
log
@List Dynex DX-SC51 as supported card. ok jakemsr
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.14 2010/10/04 09:32:43 ratchov Exp $
d17 1
a17 1
.Dd $Mdocdate: October 4 2010 $
d35 2
a49 2
.It
Dynex DX-SC51
@


1.14
log
@add support for midi(4) ports to envy(4)
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.13 2010/09/10 07:44:15 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: September 10 2010 $
d48 2
@


1.13
log
@sort the hardware list;
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.12 2010/09/08 20:34:11 stsp Exp $
d17 1
a17 1
.Dd $Mdocdate: September 8 2010 $
d26 1
d122 1
d130 1
a130 1
MIDI and S/PDIF transmitter/receivers are not yet supported.
@


1.12
log
@Add support for Terratec EWX 24/96 based on initial diff from ratchov@@.
ok ratchov@@
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.11 2010/07/31 16:56:42 ratchov Exp $
d17 1
a17 1
.Dd $Mdocdate: July 31 2010 $
d34 2
d44 1
a44 1
ESI Julia
a46 2
.It
Terratec EWX 24/96
@


1.11
log
@mention M-Audio Audiophile 192k
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.10 2010/03/07 19:06:20 ratchov Exp $
d17 1
a17 1
.Dd $Mdocdate: March 7 2010 $
d45 2
@


1.10
log
@remove statements that are no longer relevant for BUGS section
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.9 2010/03/07 19:03:28 ratchov Exp $
d39 2
@


1.9
log
@mention VIA Tremor 5.1
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.8 2009/12/01 21:27:13 ratchov Exp $
d17 1
a17 1
.Dd $Mdocdate: December 1 2009 $
a125 5
The current
.Xr audio 4
driver doesn't allow playback and record blocks to have the same duration,
making the device hardly usable for block based I/O in full-duplex.
Playback and capture cannot be started atomically.
@


1.8
log
@add ``M-Audio Revolution 5.1'' in the list of supported cards
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.7 2009/10/24 09:13:35 ratchov Exp $
d17 1
a17 1
.Dd $Mdocdate: October 24 2009 $
d41 2
@


1.7
log
@add the subvendor ID of ``M-Audio Audiophile 2496'' and add it to
the list of supported cards
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.6 2009/05/08 19:03:55 ratchov Exp $
d17 1
a17 1
.Dd $Mdocdate: May 8 2009 $
d37 2
@


1.6
log
@Mention that we support Envy24HT-based cards and enumerate all
supported ones. Mention that the monitor doesn't exist on Envy24HT.
Remove information about supported codecs since we won't be
able to describe the all in the long term, neither this is useful.
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.5 2009/05/08 18:47:51 ratchov Exp $
d35 2
@


1.5
log
@don't make refenrece to digital inputs/outputs, since they are no
more visible through the mixer. If support for digital i/o is added,
it will not be handled as currently described, because the "HT"
chip doesn't work that way.
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.4 2008/02/22 07:55:02 ratchov Exp $
d17 1
a17 1
.Dd $Mdocdate: Febuary 22 2008 $
d29 9
a37 6
driver supports sound cards based on VIA Envy24 PCI chips,
such as the M-Audio Delta-1010LT PCI card.
The Envy24 chip, formerly known as the ICE1712, is a versatile digital
PCI chip that can be attached to
up to 4x2 external analog converters and 1x2 S/PDIF transmitter/receivers.
Currently only Asahi Kasei AK4524 codecs are supported.
d78 1
d105 3
a107 1
Playback uses 10 channels and record uses 12 channels.
@


1.4
log
@there are 10 streams numbered 0..9, not 0..10! pointed by Paul de Weerd
there's only 1 S/PDIF transmitter
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.3 2008/02/21 01:44:59 ratchov Exp $
d17 1
a17 1
.Dd $Mdocdate: February 21 2008 $
d40 1
a40 1
There are 10 streams corresponding to data received by the
d45 1
a45 1
.Va line9
a48 10
Streams
.Va line0
to
.Va line7
correspond to analog inputs and
.Va line8
to
.Va line9
correspond to
digital inputs.
d50 1
a50 1
There are 10 streams corresponding to data sent by the device to the codecs.
d54 1
a54 10
.Va line9 .
Streams
.Va line0
to
.Va line7
correspond to analog outputs and
.Va line8
to
.Va line9
correspond to digital outputs.
d58 1
a58 1
.Va line0 , line1 , line8 ,
d60 1
a60 1
.Va line9
d88 1
a88 1
Streams 0 to 9 are hardwired to external inputs
d91 1
a91 1
.Va line9
@


1.3
log
@sync manual with code: basically replace "in" and "out" streams labels by
"line" and remove a paragraph from the BUGS section.
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.2 2007/10/29 11:38:27 ratchov Exp $
d17 1
a17 1
.Dd $Mdocdate: October 29 2007 $
d33 1
a33 1
up to 4x2 external analog converters and 2x2 S/PDIF transmitter/receivers.
d100 1
a100 1
.Va play10 .
@


1.2
log
@remove reference to old ICE1712 name in brackets from .Nd

from jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: envy.4,v 1.1 2007/10/28 22:12:23 ratchov Exp $
d17 1
a17 1
.Dd $Mdocdate: October 28 2007 $
d43 1
a43 1
.Va in0
d45 1
a45 1
.Va in9
d50 1
a50 1
.Va in0
d52 1
a52 1
.Va in7
d54 1
a54 1
.Va in8
d56 1
a56 1
.Va in9
d62 1
a62 1
.Va out0
d64 1
a64 1
.Va out9 .
d66 1
a66 1
.Va out0
d68 1
a68 1
.Va out7
d70 1
a70 1
.Va out8
d72 1
a72 1
.Va out9
d76 2
a77 2
Additionally,
.Va out0 , out1 , out8 ,
d79 1
a79 1
.Va out9
d108 1
a108 1
.Va in0
d110 1
a110 1
.Va in9
a130 5
PGAs and deemphasis filters on the AK4524 codecs are not yet accessible
through the
.Xr mixer 4
interface.
.Pp
@


1.1
log
@add new envy(4) man page

ok jmc@@, ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD$
d17 1
a17 1
.Dd $Mdocdate$
d22 1
a22 1
.Nd ICE1712 (aka VIA Envy24) audio device
d31 2
a32 1
The Envy24 chip is a versatile digital PCI chip that can be attached to
@

