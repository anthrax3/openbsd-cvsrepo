head	1.19;
access;
symbols
	OPENBSD_5_6:1.17.0.6
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.17.0.4
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.16.0.6
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.16.0.4
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.16.0.2
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.6
	OPENBSD_5_0:1.15.0.4
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.2
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.14.0.10
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.14.0.6
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.14.0.8
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.4
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.14.0.2
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.12.0.4
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.11.0.12
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.10
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.11.0.8
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.11.0.6
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.11.0.4
	OPENBSD_3_7_BASE:1.11
	OPENBSD_3_6:1.11.0.2
	OPENBSD_3_6_BASE:1.11
	OPENBSD_3_5:1.10.0.2
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.7.0.2
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.4.0.2
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2;
locks; strict;
comment	@.\" @;


1.19
date	2014.08.20.11.23.41;	author mikeb;	state dead;
branches;
next	1.18;
commitid	vzc4wz1s3pDevb7K;

1.18
date	2014.08.15.14.16.01;	author mikeb;	state Exp;
branches;
next	1.17;
commitid	dXM6yNLOdu7mt8Yy;

1.17
date	2013.10.20.08.43.43;	author mlarkin;	state Exp;
branches;
next	1.16;

1.16
date	2012.03.24.07.57.47;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2010.10.06.22.19.20;	author mikeb;	state Exp;
branches;
next	1.14;

1.14
date	2008.06.09.16.16.35;	author djm;	state Exp;
branches;
next	1.13;

1.13
date	2008.05.07.02.54.40;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.31.19.19.49;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2004.06.20.17.37.15;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	2004.03.21.19.47.59;	author miod;	state Exp;
branches;
next	1.9;

1.9
date	2003.08.12.19.03.05;	author jason;	state Exp;
branches;
next	1.8;

1.8
date	2003.06.02.18.52.50;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2003.03.14.10.07.35;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2002.12.09.21.39.13;	author cloder;	state Exp;
branches;
next	1.5;

1.5
date	2002.11.08.08.08.47;	author mpech;	state Exp;
branches;
next	1.4;

1.4
date	2002.09.12.07.15.03;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	2001.11.13.13.54.25;	author mpech;	state Exp;
branches;
next	1.2;

1.2
date	2001.05.14.09.02.54;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2001.05.13.15.59.13;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Remove userland bits related to the crypto(4) interface;  ok deraadt
@
text
@.\"	$OpenBSD: crypto.4,v 1.18 2014/08/15 14:16:01 mikeb Exp $
.\"
.\" Copyright (c) 2001 Theo de Raadt
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
.\" DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT,
.\" INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
.\" (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
.\" SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
.\" STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
.\" ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
.\" POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate: August 15 2014 $
.Dt CRYPTO 4
.Os
.Sh NAME
.Nm crypto
.Nd hardware crypto access driver
.Sh SYNOPSIS
.Cd "pseudo-device crypto" Op Ar count
.Sh DESCRIPTION
The
.Nm
driver provides userland applications access to hardware crypto support
via the kernel.
The
.Pa /dev/crypto
device node primarily operates in an
.Xr ioctl 2
based model, permitting a variety of applications to query device capabilities,
submit transactions, and get results.
.Pp
If
.Ar count
is given in the specification, and is greater than 0, a maximum of one
.Nm crypto
device is created.
.Pp
The following
.Xr ioctl 2
calls apply only to the
.Nm crypto
devices:
.Bl -tag -width CIOCGSESSION
.It Dv CIOCGSESSION
Set up a new crypto session for a new type of operation.
.It Dv CIOCFSESSION
Free a previously established session.
.It Dv CIOCCRYPT
Perform a crypto operation against a previously set up session.
.El
.Sh FEATURES
Depending on hardware being present, the following symmetric and
asymmetric cryptographic features are potentially available from
.Pa /dev/crypto :
.Pp
.Bl -tag -compact -width CRYPTO_RIPEMD160_HMAC -offset indent
.It CRYPTO_DES_CBC
.It CRYPTO_3DES_CBC
.It CRYPTO_BLF_CBC
.It CRYPTO_CAST_CBC
.It CRYPTO_MD5_HMAC
.It CRYPTO_SHA1_HMAC
.It CRYPTO_RIPEMD160_HMAC
.It CRYPTO_MD5_KPDK
.It CRYPTO_SHA1_KPDK
.It CRYPTO_AES_CBC
.It CRYPTO_AES_CTR
.It CRYPTO_AES_XTS
.It CRYPTO_ARC4
.It CRYPTO_MD5
.It CRYPTO_SHA1
.It CRK_MOD_EXP
.It CRK_MOD_EXP_CRT
.It CRK_DSA_SIGN
.It CRK_DSA_VERIFY
.It CRK_DH_COMPUTE_KEY
.El
.Sh FILES
.Bl -tag -width /dev/crypto -compact
.It Pa /dev/crypto
crypto access device
.El
.Sh SEE ALSO
.Xr hifn 4 ,
.Xr safe 4 ,
.Xr ubsec 4 ,
.Xr crypto 9
.Sh HISTORY
The
.Nm
driver appeared in
.Ox 3.0 .
@


1.18
log
@lofn(4) and nofn(4) are gone
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.17 2013/10/20 08:43:43 mlarkin Exp $
d27 1
a27 1
.Dd $Mdocdate: October 20 2013 $
@


1.17
log
@

tedu noct(4). dmesglog shows no users of this device and the driver has
a bug that nobody (even the original author) knows how to fix.

"kill with fire" deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.16 2012/03/24 07:57:47 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: March 24 2012 $
a99 2
.Xr lofn 4 ,
.Xr nofn 4 ,
@


1.16
log
@use Cd in SYNOPSIS; requested by kristaps
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.15 2010/10/06 22:19:20 mikeb Exp $
d27 1
a27 1
.Dd $Mdocdate: October 6 2010 $
a100 1
.Xr noct 4 ,
@


1.15
log
@Retire Skipjack

There's not much use for the declassified cipher from the 80's
with a questionable license these days.  According to the FIPS
drafts, Skipjack reaches its EOL in December 2010.

The libc portion will be removed after the ports hackathon.

djm and thib agree, no objections from deraadt
Thanks to jsg for digging up FIPS drafts.
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.14 2008/06/09 16:16:35 djm Exp $
d27 1
a27 1
.Dd $Mdocdate: June 9 2008 $
d34 1
a34 1
.Nm "pseudo-device crypto" Op Ar count
@


1.14
log
@mention CRYPTO_AES_CTR and CRYPTO_AES_XTS
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.13 2008/05/07 02:54:40 deraadt Exp $
d27 1
a27 1
.Dd $Mdocdate: May 7 2008 $
a75 1
.It CRYPTO_SKIPJACK_CBC
@


1.13
log
@no Xr ises
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.12 2007/05/31 19:19:49 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: May 31 2007 $
d83 2
@


1.12
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.11 2004/06/20 17:37:15 aaron Exp $
d27 1
a27 1
.Dd $Mdocdate$
a98 1
.Xr ises 4 ,
@


1.11
log
@The pseudo-device keyword takes only one count as an argument.
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.10 2004/03/21 19:47:59 miod Exp $
d27 1
a27 1
.Dd May 13, 2001
@


1.10
log
@Homogeneize config lines for pseudo-devices, and do not put fixed values.
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.9 2003/08/12 19:03:05 jason Exp $
a34 1
.Op Ar count
@


1.9
log
@man page for safenet 1141/1741 from freebsd with appropriate Xrs
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.8 2003/06/02 18:52:50 deraadt Exp $
d34 1
a34 1
.Nm pseudo-device crypto
@


1.8
log
@more term 3 and 4 removals for my own software
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.7 2003/03/14 10:07:35 jmc Exp $
d104 1
@


1.7
log
@typos;

audio(4): ok naddy@@
cardbus(4): ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.6 2002/12/09 21:39:13 cloder Exp $
a13 2
.\" 3. The name of the author may not be used to endorse or promote products
.\"    derived from this software without specific prior written permission.
@


1.6
log
@Correct typo. 'assymetric' -> 'asymmetric'
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.5 2002/11/08 08:08:47 mpech Exp $
d52 1
a52 1
given in the specification, and is greater than 0, a maximum of one
d63 1
a63 1
Setup a new crypto session for a new type of operation.
d67 1
a67 1
Perform a crypto operation against a previously setup session.
@


1.5
log
@Time to cleanup:
o) start new sentence on a new line;
o) wrap long lines;
o) don't use .Pp before/after .Sh, .Ss;
o) OpenBSD -> .Ox;
o) typos;
o) close .Rs;
o) use space between arguments in tag, for example:
   .Xr blabla ) .

miod@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.4 2002/09/12 07:15:03 deraadt Exp $
d71 1
a71 1
assymetric cryptographic features are potentially available from
@


1.4
log
@doc some more features
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.3 2001/11/13 13:54:25 mpech Exp $
a68 1
.Pp
a94 1
.Pp
@


1.3
log
@o) Fix bogus .Xr usage;
o) CAVEAT -> CAVEATS;
o) AUTHOR -> AUTHORS;
o) Start new sentence on a new line;
o) For URL and path names use .Pa;
o) We don't like .Pp before .Rs;
o) Don't use .Pp before/after .Sh;
o) OpenBSD -> .Ox;

millert@@ ok and help;
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.2 2001/05/14 09:02:54 deraadt Exp $
d69 28
d105 3
@


1.2
log
@obvious cleanups...
@
text
@d1 1
a1 1
.\"	$OpenBSD: crypto.4,v 1.1 2001/05/13 15:59:13 deraadt Exp $
d40 1
a40 1
.Xr crypto
@


1.1
log
@nearly empty skeleton for crypto.4
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d58 3
a60 1
calls apply only to pseudo terminals:
d75 3
@

