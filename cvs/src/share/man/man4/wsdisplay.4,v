head	1.51;
access;
symbols
	OPENBSD_6_1:1.51.0.4
	OPENBSD_6_1_BASE:1.51
	OPENBSD_6_0:1.50.0.4
	OPENBSD_6_0_BASE:1.50
	OPENBSD_5_9:1.49.0.2
	OPENBSD_5_9_BASE:1.49
	OPENBSD_5_8:1.49.0.4
	OPENBSD_5_8_BASE:1.49
	OPENBSD_5_7:1.47.0.4
	OPENBSD_5_7_BASE:1.47
	OPENBSD_5_6:1.46.0.18
	OPENBSD_5_6_BASE:1.46
	OPENBSD_5_5:1.46.0.16
	OPENBSD_5_5_BASE:1.46
	OPENBSD_5_4:1.46.0.12
	OPENBSD_5_4_BASE:1.46
	OPENBSD_5_3:1.46.0.10
	OPENBSD_5_3_BASE:1.46
	OPENBSD_5_2:1.46.0.8
	OPENBSD_5_2_BASE:1.46
	OPENBSD_5_1_BASE:1.46
	OPENBSD_5_1:1.46.0.6
	OPENBSD_5_0:1.46.0.4
	OPENBSD_5_0_BASE:1.46
	OPENBSD_4_9:1.46.0.2
	OPENBSD_4_9_BASE:1.46
	OPENBSD_4_8:1.45.0.6
	OPENBSD_4_8_BASE:1.45
	OPENBSD_4_7:1.45.0.2
	OPENBSD_4_7_BASE:1.45
	OPENBSD_4_6:1.45.0.4
	OPENBSD_4_6_BASE:1.45
	OPENBSD_4_5:1.44.0.4
	OPENBSD_4_5_BASE:1.44
	OPENBSD_4_4:1.44.0.2
	OPENBSD_4_4_BASE:1.44
	OPENBSD_4_3:1.43.0.2
	OPENBSD_4_3_BASE:1.43
	OPENBSD_4_2:1.42.0.2
	OPENBSD_4_2_BASE:1.42
	OPENBSD_4_1:1.41.0.4
	OPENBSD_4_1_BASE:1.41
	OPENBSD_4_0:1.41.0.2
	OPENBSD_4_0_BASE:1.41
	OPENBSD_3_9:1.38.0.2
	OPENBSD_3_9_BASE:1.38
	OPENBSD_3_8:1.35.0.2
	OPENBSD_3_8_BASE:1.35
	OPENBSD_3_7:1.31.0.2
	OPENBSD_3_7_BASE:1.31
	OPENBSD_3_6:1.28.0.4
	OPENBSD_3_6_BASE:1.28
	OPENBSD_3_5:1.28.0.2
	OPENBSD_3_5_BASE:1.28
	OPENBSD_3_4:1.25.0.2
	OPENBSD_3_4_BASE:1.25
	OPENBSD_3_3:1.19.0.2
	OPENBSD_3_3_BASE:1.19
	OPENBSD_3_2:1.13.0.2
	OPENBSD_3_2_BASE:1.13
	OPENBSD_3_1:1.9.0.2
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.7.0.2
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9:1.5.0.2
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_8:1.1.0.2
	OPENBSD_2_8_BASE:1.1;
locks; strict;
comment	@.\" @;


1.51
date	2016.09.01.12.24.56;	author jmc;	state Exp;
branches;
next	1.50;
commitid	IUrwpb4m8FAj1LFc;

1.50
date	2016.04.24.17.31.33;	author matthieu;	state Exp;
branches;
next	1.49;
commitid	FlkrL6OGPE3UZybZ;

1.49
date	2015.03.29.19.26.02;	author jmc;	state Exp;
branches;
next	1.48;
commitid	rGboxuqJRj4YBRUa;

1.48
date	2015.03.29.18.03.27;	author miod;	state Exp;
branches;
next	1.47;
commitid	98ZDEGbEcADk63gJ;

1.47
date	2015.02.15.22.26.45;	author bentley;	state Exp;
branches;
next	1.46;
commitid	szmpRDHaqpG6RctM;

1.46
date	2010.08.28.22.09.49;	author jmc;	state Exp;
branches;
next	1.45;

1.45
date	2009.04.26.13.10.20;	author tobias;	state Exp;
branches;
next	1.44;

1.44
date	2008.06.23.07.25.54;	author jmc;	state Exp;
branches;
next	1.43;

1.43
date	2007.10.20.16.10.03;	author jsing;	state Exp;
branches;
next	1.42;

1.42
date	2007.05.31.19.19.53;	author jmc;	state Exp;
branches;
next	1.41;

1.41
date	2006.08.01.17.55.52;	author miod;	state Exp;
branches;
next	1.40;

1.40
date	2006.07.28.21.25.19;	author miod;	state Exp;
branches;
next	1.39;

1.39
date	2006.04.15.17.34.37;	author miod;	state Exp;
branches;
next	1.38;

1.38
date	2006.01.10.07.38.06;	author miod;	state Exp;
branches;
next	1.37;

1.37
date	2005.11.01.08.46.01;	author jmc;	state Exp;
branches;
next	1.36;

1.36
date	2005.11.01.07.32.21;	author deraadt;	state Exp;
branches;
next	1.35;

1.35
date	2005.06.03.12.33.06;	author miod;	state Exp;
branches;
next	1.34;

1.34
date	2005.06.02.07.34.12;	author miod;	state Exp;
branches;
next	1.33;

1.33
date	2005.05.15.19.36.21;	author miod;	state Exp;
branches;
next	1.32;

1.32
date	2005.05.14.16.36.07;	author miod;	state Exp;
branches;
next	1.31;

1.31
date	2005.01.04.19.22.17;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2005.01.04.16.39.09;	author miod;	state Exp;
branches;
next	1.29;

1.29
date	2004.09.30.19.59.26;	author mickey;	state Exp;
branches;
next	1.28;

1.28
date	2004.03.22.20.31.07;	author miod;	state Exp;
branches;
next	1.27;

1.27
date	2004.03.12.22.03.50;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2004.02.29.21.44.04;	author miod;	state Exp;
branches;
next	1.25;

1.25
date	2003.07.09.13.26.20;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2003.06.18.17.40.28;	author miod;	state Exp;
branches;
next	1.23;

1.23
date	2003.06.17.21.21.30;	author miod;	state Exp;
branches;
next	1.22;

1.22
date	2003.06.06.10.29.41;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2003.05.14.06.48.13;	author miod;	state Exp;
branches;
next	1.20;

1.20
date	2003.04.11.04.32.28;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2003.03.09.02.39.26;	author miod;	state Exp;
branches;
next	1.18;

1.18
date	2003.03.06.21.54.40;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2003.03.05.14.42.04;	author miod;	state Exp;
branches;
next	1.16;

1.16
date	2003.02.19.15.29.50;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2003.02.19.09.01.47;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2002.10.15.11.59.02;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	2002.09.26.22.09.53;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2002.09.13.11.04.40;	author miod;	state Exp;
branches;
next	1.11;

1.11
date	2002.08.12.10.48.18;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2002.06.30.21.45.25;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2002.04.03.23.01.06;	author mickey;	state Exp;
branches;
next	1.8;

1.8
date	2001.12.14.18.00.42;	author mpech;	state Exp;
branches;
next	1.7;

1.7
date	2001.06.23.07.04.01;	author pjanzen;	state Exp;
branches;
next	1.6;

1.6
date	2001.05.11.23.03.04;	author mickey;	state Exp;
branches;
next	1.5;

1.5
date	2001.03.27.22.44.55;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	2001.03.01.16.11.20;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	2001.02.12.05.49.39;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	2000.12.21.21.01.22;	author aaron;	state Exp;
branches;
next	1.1;

1.1
date	2000.07.14.15.38.45;	author mickey;	state Exp;
branches;
next	;


desc
@@


1.51
log
@no more sparc;
@
text
@.\" $OpenBSD: wsdisplay.4,v 1.50 2016/04/24 17:31:33 matthieu Exp $
.\" $NetBSD: wsdisplay.4,v 1.5 2000/05/13 15:22:19 mycroft Exp $
.\"
.\" Copyright (c) 2005, Miodrag Vallat.
.\" Copyright (c) 1999 Matthias Drochner.
.\" Copyright (c) 2002 Ben Harris.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: April 24 2016 $
.Dt WSDISPLAY 4
.Os
.Sh NAME
.Nm wsdisplay
.Nd generic display device support in wscons
.Sh SYNOPSIS
.Cd "wsdisplay* at ..."
.Cd "option WSDISPLAY_DEFAULTSCREENS=N"
.Sh DESCRIPTION
The
.Nm
driver is an abstraction layer for display devices within the
.Xr wscons 4
framework.
It attaches to the hardware specific display device driver and
makes it available as text terminal or graphics interface.
.Pp
Display devices have the ability to display characters on them
(without help of an X server), either directly by hardware or through
software drawing pixel data into the display memory.
The
.Nm
driver will connect a terminal emulation module and provide a
tty-like software interface.
.Pp
The
.Em console
locator in the configuration line refers to the device's use as output
part of the operating system console.
A device specification containing a positive value here will only match
if the device is in use as system console.
(The console device selection in early system startup is not influenced.)
This way, the console device can be connected to a known
.Nm wsdisplay
device instance.
.Pp
The
.Em mux
locator in the configuration line refers to the
.Xr wsmux 4
that will be used to get keyboard events.
If this locator is -1 no mux will be used.
.Pp
The logical unit of an independent contents displayed on a display
(sometimes referred to as
.Dq virtual terminal )
is called a
.Dq screen
here.
If the underlying device driver supports it, multiple screens can
be used on one display.
(As of this writing, only the
.Xr lcd 4
and
.Xr vga 4
display drivers provide this ability.)
Screens have different minor device numbers and separate tty instances.
One screen possesses the
.Dq focus ,
this means it is displayed on the display and its tty device will get
the keyboard input.
(In some cases, if no screen is set up or if a screen
was just deleted, it is possible that no focus is present at all.)
The focus can be switched by either special keyboard input (typically
CTL-ALT-Fn) or an ioctl command issued by a user program.
Screens are set up or deleted through the
.Pa /dev/ttyCcfg
control device (preferably using the
.Xr wsconscfg 8
utility).
Alternatively, the compile-time option
.Cm WSDISPLAY_DEFAULTSCREENS=N
will set up N screens of the display driver's default type and using
the system's default terminal emulator at autoconfiguration time.
.Pp
In addition and with help from backend drivers the following features
are also provided:
.Bl -bullet
.It
Loading, deleting and listing the loaded fonts.
.It
Browsing backwards in the screen output, the size of the
buffer for saved text is defined by the particular hardware driver.
.It
Blanking the screen by timing out on inactivity in the
screen holding the input focus.
Awakening activities consist of:
.Pp
.Bl -bullet -compact
.It
pressing any keys on the keyboard;
.It
moving or clicking the mouse;
.It
any output to the screen.
.El
.Pp
Blanking the screen is usually done by disabling the horizontal sync
signal on video output, but may also include blanking the vertical
sync in which case most monitors go into power saving mode.
See
.Xr wsconsctl 8
for controlling variables.
.El
.Pp
Consult the back-end drivers' documentation for which features are supported
for each particular hardware type.
.Ss IOCTL INTERFACE
The following
.Xr ioctl 2
calls are provided by the
.Nm
driver or by devices which use it.
Their definitions are found in
.In dev/wscons/wsconsio.h .
.Bl -tag -width 4n
.It Dv WSDISPLAYIO_GTYPE Pq Li u_int
Retrieve the type of the display.
The list of types is in
.In dev/wscons/wsconsio.h .
.It Dv WSDISPLAYIO_GINFO Pq Li "struct wsdisplay_fbinfo"
Retrieve basic information about a framebuffer display.
The returned structure is as follows:
.Bd -literal -offset indent
struct wsdisplay_fbinfo {
        u_int   height;
        u_int   width;
        u_int   depth;
        u_int   cmsize;
};
.Ed
.Pp
The
.Va height
and
.Va width
members are counted in pixels.
The
.Va depth
member indicates the number of bits per pixel, and
.Va cmsize
indicates the number of color map entries accessible through
.Dv WSDISPLAYIO_GETCMAP
and
.Dv WSDISPLAYIO_PUTCMAP .
This call is likely to be unavailable on text-only displays.
.It Dv WSDISPLAYIO_GETCMAP Pq Li "struct wsdisplay_cmap"
Retrieve the current color map from the display.
This call needs the
following structure set up beforehand:
.Bd -literal -offset indent
struct wsdisplay_cmap {
        u_int   index;
        u_int   count;
        u_char  *red;
        u_char  *green;
        u_char  *blue;
};
.Ed
.Pp
The
.Va index
and
.Va count
members specify the range of color map entries to retrieve.
The
.Va red ,
.Va green ,
and
.Va blue
members should each point to an array of
.Va count
.Li u_char Ns s .
On return, these will be filled in with the appropriate entries from the
color map.
On all displays that support this call, values range from 0 for minimum
intensity to 255 for maximum intensity, even if the display does not use
eight bits internally to represent intensity.
.It Dv WSDISPLAYIO_PUTCMAP Pq Li "struct wsdisplay_cmap"
Change the display's color map.
The argument structure is the same as for
.Dv WSDISPLAYIO_GETCMAP ,
but
.Va red ,
.Va green ,
and
.Va blue
are taken as pointers to the values to use to set the color map.
This call is not available on displays with fixed color maps.
.It Dv WSDISPLAYIO_GVIDEO Pq Li u_int
Get the current state of the display's video output.
Possible values are:
.Bl -tag -width 21n
.It Dv WSDISPLAYIO_VIDEO_OFF
The display is blanked.
.It Dv WSDISPLAYIO_VIDEO_ON
The display is enabled.
.El
.It Dv WSDISPLAYIO_SVIDEO Pq Li u_int
Set the state of the display's video output.
See
.Dv WSDISPLAYIO_GVIDEO
above for possible values.
.It Dv WSDISPLAYIO_GCURPOS Pq Li "struct wsdisplay_curpos"
Retrieve the current position of the hardware cursor.
The returned structure
is as follows:
.Bd -literal -offset indent
struct wsdisplay_curpos {
        u_int x, y;
};
.Ed
.Pp
The
.Va x
and
.Va y
members count the number of pixels right and down, respectively, from
the top-left corner of the display to the hot spot of the cursor.
This call is not available on displays without a hardware cursor.
.It Dv WSDISPLAYIO_SCURPOS Pq Li "struct wsdisplay_curpos"
Set the current cursor position.
The argument structure, and its semantics,
are the same as for
.Dv WSDISPLAYIO_GCURPOS .
This call is not available on displays without a hardware cursor.
.It Dv WSDISPLAYIO_GCURMAX Pq Li "struct wsdisplay_curpos"
Retrieve the maximum size of cursor supported by the display.
The
.Va x
and
.Va y
members of the returned structure indicate the maximum number of pixel rows
and columns, respectively, in a hardware cursor on this display.
This call is not available on displays without a hardware cursor.
.It Dv WSDISPLAYIO_GCURSOR Pq Li "struct wsdisplay_cursor"
Retrieve some or all of the hardware cursor's attributes.
The argument structure is as follows:
.Bd -literal -offset indent
struct wsdisplay_cursor {
        u_int   which;
        u_int   enable;
        struct wsdisplay_curpos pos;
        struct wsdisplay_curpos hot;
        struct wsdisplay_cmap cmap;
        struct wsdisplay_curpos size;
        u_char *image;
        u_char *mask;
};
.Pp
.Ed
The
.Va which
member indicates which of the values the application requires to be returned.
It should contain the logical OR of the following flags:
.Bl -tag -width 4n
.It Dv WSDISPLAY_CURSOR_DOCUR
Get
.Va enable ,
which indicates whether the cursor is currently displayed (non-zero) or
not (zero).
.It Dv WSDISPLAY_CURSOR_DOPOS
Get
.Va pos ,
which indicates the current position of the cursor on the display, as
would be returned by
.Dv WSDISPLAYIO_GCURPOS .
.It Dv WSDISPLAY_CURSOR_DOHOT
Get
.Va hot ,
which indicates the location of the
.Dq hot spot
within the cursor.
This is the point on the cursor whose position on the display is treated
as being the position of the cursor by other calls.
Its location is counted in pixels from the top-left corner of the cursor.
.It Dv WSDISPLAY_CURSOR_DOCMAP
Get
.Va cmap ,
which indicates the current cursor color map.
Unlike in a call to
.Dv WSDISPLAYIO_GETCMAP ,
.Va cmap
here need not have its
.Va index
and
.Va count
members initialized.
They will be set to 0 and 2 respectively by the call.
This means that
.Va cmap . Ns Va red ,
.Va cmap . Ns Va green ,
and
.Va cmap . Ns Va blue
must each point to at least enough space to hold two
.Li u_char Ns s .
.It Dv WSDISPLAY_CURSOR_DOSHAPE
Get
.Va size , image ,
and
.Va mask .
These are, respectively, the dimensions of the cursor in pixels, the
bitmap of set pixels in the cursor and the bitmap of opaque pixels in
the cursor.
The format in which these bitmaps are returned, and hence the amount of
space that must be provided by the application, are device-dependent.
.It Dv WSDISPLAY_CURSOR_DOALL
Get all of the above.
.El
.Pp
The device may elect to return information that was not requested by the user,
so those elements of
.Li "struct wsdisplay_cursor"
which are pointers should be initialized to
.Dv NULL
if not otherwise used.
This call is not available on displays without a hardware cursor.
.It Dv WSDISPLAYIO_SCURSOR Pq Li "struct wsdisplay_cursor"
Set some or all of the hardware cursor's attributes.
The argument structure is the same as for
.Dv WSDISPLAYIO_GCURSOR .
The
.Va which
member specifies which attributes of the cursor are to be changed.
It should contain the logical OR of the following flags:
.Bl -tag -width 4n
.It Dv WSDISPLAY_CURSOR_DOCUR
If
.Va enable
is zero, hide the cursor.
Otherwise, display it.
.It Dv WSDISPLAY_CURSOR_DOPOS
Set the cursor's position on the display to
.Va pos ,
the same as
.Dv WSDISPLAYIO_SCURPOS .
.It Dv WSDISPLAY_CURSOR_DOHOT
Set the
.Dq hot spot
of the cursor, as defined above, to
.Va hot .
.It Dv WSDISPLAY_CURSOR_DOCMAP
Set some or all of the cursor color map based on
.Va cmap .
The
.Va index
and
.Va count
elements of
.Va cmap
indicate which color map entries to set, and the entries themselves come from
.Va cmap . Ns Va red ,
.Va cmap . Ns Va green ,
and
.Va cmap . Ns Va blue .
.It Dv WSDISPLAY_CURSOR_DOSHAPE
Set the cursor shape from
.Va size , image ,
.Va mask .
See above for their meanings.
.It Dv WSDISPLAY_CURSOR_DOALL
Do all of the above.
.El
.Pp
This call is not available on displays without a hardware cursor.
.It Dv WSDISPLAYIO_GMODE Pq Li u_int
Get the current mode of the display.
Possible results include:
.Bl -tag -width 4n
.It Dv WSDISPLAYIO_MODE_EMUL
The display is in emulating (text) mode.
.It Dv WSDISPLAYIO_MODE_MAPPED
The display is in mapped (graphics) mode.
.It Dv WSDISPLAYIO_MODE_DUMBFB
The display is in mapped (frame buffer) mode.
.El
.It Dv WSDISPLAYIO_SMODE Pq Li u_int
Set the current mode of the display.
For possible arguments, see
.Dv WSDISPLAYIO_GMODE .
.It Dv WSDISPLAYIO_LDFONT Pq Li struct wsdisplay_font
Loads a font specified by the wsdisplay_font structure.
.Bd -literal -offset indent
struct wsdisplay_font {
        char name[WSFONT_NAME_SIZE];
        int index;
        int firstchar, numchars;
        int encoding;
        u_int fontwidth, fontheight, stride;
        int bitorder, byteorder;
        void *cookie;
        void *data;
};
.Ed
.Pp
The
.Va name
field contains a human readable string used to identify the font.
The
.Va index
field may be used to select a driver-specific font resource (for non-raster
frame buffers).
A value of -1 will pick the first available slot.
The
.Va firstchar
field contains the index of the first character in the font, starting at zero.
The
.Va numchars
field contains the number of characters in the font.
The
.Va encoding
field describes the font character encoding, using one of the following values:
.Bl -tag -width 4n
.It Dv WSDISPLAY_FONTENC_ISO
ISO-8859-1 encoding
.Pq also known as Latin-1 .
This is the preferred encoding for raster frame buffers.
.It Dv WSDISPLAY_FONTENC_IBM
IBM code page number 437.
This is the preferred encoding for text-mode displays.
.El
.Pp
The
.Va fontwidth
and
.Va fontheight
fields specify the dimensions of a character cell.
The
.Va stride
field specify the number of bytes of font data per character cell line (usually
.Va fontwidth
rounded up to a byte boundary).
The
.Va bitorder
and
.Va byteorder
fields specify the bit- and byte-ordering of the font data, using either one of
the following values:
.Bl -tag -width 4n
.It Dv WSDISPLAY_FONTORDER_L2R
Leftmost data contained in the most significant bits (left-to-right ordering).
This is the most commonly encountered case.
.It Dv WSDISPLAY_FONTORDER_R2L
Leftmost data contained in the least significant bits (right-to-left ordering).
.El
.Pp
The
.Va data
field contains the font character data to be loaded.
The
.Va cookie
field is reserved for internal purposes.
.It Dv WSDISPLAYIO_LSFONT Pq Li struct wsdisplay_font
Retrieves the data for a loaded font into the wsdisplay_font structure.
The
.Va index
field is set to the font resource to query.
For the argument structure, see
.Dv WSDISPLAYIO_LDFONT .
.\" WSDISPLAYIO_DELFONT Pq Li struct wsdisplay_font
.It WSDISPLAYIO_USEFONT Pq Li struct wsdisplay_font
Selects the font specified in the
.Va name
field.
An empty
.Va name
selects the next available font.
For the argument structure, see
.Dv WSDISPLAYIO_LDFONT .
.It Dv WSDISPLAYIO_GBURNER Pq Li struct wsdisplay_burner
Retrieves the state of the screen burner.
The returned structure is as follows:
.Bd -literal -offset indent
struct wsdisplay_burner {
        u_int   off;
        u_int   on;
        u_int   flags;
};
.Ed
.Pp
The
.Va off
member contains the inactivity time before the screen is turned off,
in milliseconds.
The
.Va on
member contains the time before the screen is turned back on,
in milliseconds.
The
.Va flags
member contains a logical OR of the following flags:
.Bl -tag -width 4n
.It Dv WSDISPLAY_BURN_VBLANK
When turning the display off, disable the vertical synchronization signal.
.It Dv WSDISPLAY_BURN_KBD
Monitor keyboard activity.
.It Dv WSDISPLAY_BURN_MOUSE
Monitor mouse activity
(this only works for mice using the
.Xr wsmouse 4
driver).
.It Dv WSDISPLAY_BURN_OUTPUT
Monitor display output activity.
.El
.Pp
If none of the activity source flags are set, the screen burner is disabled.
.It Dv WSDISPLAYIO_SBURNER Pq Li struct wsdisplay_burner
Sets the state of the screen burner.
The argument structure, and its semantics, are the same as for
.Dv WSDISPLAYIO_GBURNER .
.It Dv WSDISPLAYIO_ADDSCREEN Pq Li struct wsdisplay_addscreendata
Creates a new screen.
.Bd -literal -offset indent
struct wsdisplay_addscreendata {
        int idx; /* screen index */
        char screentype[WSSCREEN_NAME_SIZE];
        char emul[WSEMUL_NAME_SIZE];
};
.Ed
.Pp
The
.Va idx
field is the index of the screen to be configured.
The
.Va screentype
field is matched against builtin screen types, which will be driver-dependent.
The
.Va emul
field indicates the terminal emulation type.
Available terminal emulations are:
.Bl -tag -width 5n
.It sun
Sun terminal emulation.
This is the default on the sparc64 architecture.
.It vt100
Dec VT100 terminal emulation, with some VT220 features.
This is the default on all other architectures.
.It dumb
Dumb terminal.
.El
.Pp
An empty string will select the default emulation.
.It Dv WSDISPLAYIO_DELSCREEN Pq Li struct wsdisplay_delscreendata
Deletes an existing screen.
.Bd -literal -offset indent
struct wsdisplay_delscreendata {
        int idx; /* screen index */
        int flags;
};
.Ed
.Pp
The
.Va idx
field indicates the index of the screen to be deleted.
The
.Va flags
field is a logical OR of zero or more of the following:
.Bl -tag -width 4n
.It Dv WSDISPLAY_DELSCR_FORCE
Force deletion of screen even if in use by a userspace program.
.It Dv WSDISPLAY_DELSCR_QUIET
Don't report deletion to console.
.El
.It Dv WSDISPLAYIO_GETSCREEN Pq Li struct wsdisplay_addscreendata
Returns information on the screen indicated by
.Va idx
or the current screen if
.Va idx
is -1.
The screen and emulation types are returned in the same structure
.Pq see Dv WSDISPLAYIO_GETPARAM .
.It Dv WSDISPLAYIO_SETSCREEN Pq Li u_int
Switch to the screen with the given index.
.It Dv WSDISPLAYIO_WSMOUSED Pq Li struct wscons_event
This call is used by the
.Xr wsmoused 8
daemon to inject mouse events gathered from serial mice, as well as
various control events.
.It Dv WSDISPLAYIO_GETPARAM Pq Li struct wsdisplay_param
Retrieves the state of a display parameter.
This call needs the following structure set up beforehand:
.Bd -literal -offset indent
struct wsdisplay_param {
        int param;
        int min, max, curval;
        int reserved[4];
};
.Ed
.Pp
The
.Va param
member should be set with the parameter to be returned.
The following parameters are supported:
.Bl -tag -width 4n
.It Dv WSDISPLAYIO_PARAM_BACKLIGHT
The intensity of the display backlight (usually on laptop computers).
.It Dv WSDISPLAYIO_PARAM_BRIGHTNESS
The brightness level.
.It Dv WSDISPLAYIO_PARAM_CONTRAST
The contrast level.
.El
.Pp
On return,
.Va min
and
.Va max
specify the allowed range for the value, while
.Va curval
specifies the current setting.
Not all parameters are supported by all display drivers.
.It Dv WSDISPLAYIO_SETPARAM Pq Li struct wsdisplay_param
Sets a display parameter.
The argument structure is the same as for
.Dv WSDISPLAYIO_GETPARAM ,
with the
.Va param
and
.Va curval
members filled in.
Not all parameters are supported by all display drivers.
.It Dv WSDISPLAYIO_LINEBYTES Pq Li u_int
Get the number of bytes per row when the device is in
.Dv WSDISPLAYIO_MODE_DUMBFB
mode.
.El
.Sh FILES
.Bl -tag -width /usr/include/dev/wscons/wsconsio.h -compact
.It Pa /dev/tty[C-F]*
terminal devices (per screen)
.It Pa /dev/tty[C-F]cfg
control device (per screen)
.It Pa /usr/include/dev/wscons/wsconsio.h
.El
.Sh SEE ALSO
.Xr intro 4 ,
.Xr tty 4 ,
.Xr wscons 4 ,
.Xr wsmux 4 ,
.Xr wsconscfg 8 ,
.Xr wsconsctl 8 ,
.Xr wsfontload 8
.Sh BUGS
The
.Nm
code currently limits the number of screens on one display to 8.
.Pp
The terms
.Dq wscons
and
.Dq wsdisplay
are not cleanly distinguished in the code and in manual pages.
@


1.50
log
@Remove mention of COMPAT_PCVT. Reminder by guenther@@, thanks.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.49 2015/03/29 19:26:02 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: March 29 2015 $
d564 1
a564 1
This is the default on sparc and sparc64 architectures.
@


1.49
log
@tweak previous;
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.48 2015/03/29 18:03:27 miod Exp $
a450 6
.\" .It Dv WSDISPLAY_FONTENC_PCVT
.\" Old
.\" .Nm pcvt
.\" driver encoding (deprecated).
.\" .It Dv WSDISPLAY_FONTENC_ISO7
.\" ISO-8859-7.
@


1.48
log
@Document font and screen ioctls; based upon a diff from dan mclaughlin on tech@@,
thanks!
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.47 2015/02/15 22:26:45 bentley Exp $
d30 1
a30 1
.Dd $Mdocdate: February 15 2015 $
d495 1
a495 1
.Dv WSDISPLAYIO_LDFONT.
d505 1
a505 1
.Dv WSDISPLAYIO_LDFONT.
d609 1
a609 1
Switch to the screen with the given index. 
@


1.47
log
@Use "In" to mark up include files, instead of wrongly wrapping with Aq.

Aq is not the same as <> in non-ASCII situations, so this caused
incorrect output in some places. And it provided no semantics besides.

ok schwarze@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.46 2010/08/28 22:09:49 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: August 28 2010 $
d411 95
a505 4
.\" WSDISPLAYIO_LDFONT
.\" WSDISPLAYIO_LSFONT
.\" WSDISPLAYIO_DELFONT
.\" WSDISPLAYIO_USEFONT
d547 63
a609 4
.\" WSDISPLAYIO_ADDSCREEN
.\" WSDISPLAYIO_DELSCREEN
.\" WSDISPLAYIO_GETSCREEN
.\" WSDISPLAYIO_SETSCREEN
@


1.46
log
@some WSDISPLAYIO_* -> WSDISPLAY_* fixes and a grammar tweak;
from Tim van der Molen
ok miod
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.45 2009/04/26 13:10:20 tobias Exp $
d30 1
a30 1
.Dd $Mdocdate: April 26 2009 $
d145 1
a145 1
.Aq Pa dev/wscons/wsconsio.h .
d150 1
a150 1
.Aq Pa dev/wscons/wsconsio.h .
@


1.45
log
@typos fixed

ok jmc
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.44 2008/06/23 07:25:54 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: June 23 2008 $
d144 1
a144 1
Their definition are found in
d287 1
a287 1
.It Dv WSDISPLAYIO_CURSOR_DOCUR
d292 1
a292 1
.It Dv WSDISPLAYIO_CURSOR_DOPOS
d298 1
a298 1
.It Dv WSDISPLAYIO_CURSOR_DOHOT
d307 1
a307 1
.It Dv WSDISPLAYIO_CURSOR_DOCMAP
d327 1
a327 1
.It Dv WSDISPLAYIO_CURSOR_DOSHAPE
d337 1
a337 1
.It Dv WSDISPLAYIO_CURSOR_DOALL
d357 1
a357 1
.It Dv WSDISPLAYIO_CURSOR_DOCUR
d362 1
a362 1
.It Dv WSDISPLAYIO_CURSOR_DOPOS
d367 1
a367 1
.It Dv WSDISPLAYIO_CURSOR_DOHOT
d372 1
a372 1
.It Dv WSDISPLAYIO_CURSOR_DOCMAP
d386 1
a386 1
.It Dv WSDISPLAYIO_CURSOR_DOSHAPE
d391 1
a391 1
.It Dv WSDISPLAYIO_CURSOR_DOALL
@


1.44
log
@trim SEE ALSO;
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.43 2007/10/20 16:10:03 jsing Exp $
d30 1
a30 1
.Dd $Mdocdate: October 20 2007 $
d441 1
a441 1
Monitor keyboard activiy.
@


1.43
log
@Correct typo.

ok kettenis@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.42 2007/05/31 19:19:53 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: May 31 2007 $
a520 15
.Xr ioctl 2 ,
.Xr agten 4 ,
.Xr bwtwo 4 ,
.Xr cgeight 4 ,
.Xr cgfour 4 ,
.Xr cgfourteen 4 ,
.Xr cgsix 4 ,
.Xr cgthree 4 ,
.Xr cgtwelve 4 ,
.Xr cgtwo 4 ,
.Xr creator 4 ,
.Xr dvbox 4 ,
.Xr gbox 4 ,
.Xr gpx 4 ,
.Xr hyper 4 ,
a521 15
.Xr lcd 4 ,
.Xr lcg 4 ,
.Xr lcspx 4 ,
.Xr macfb 4 ,
.Xr mgx 4 ,
.Xr pcdisplay 4 ,
.Xr pninek 4 ,
.Xr pnozz 4 ,
.Xr rbox 4 ,
.Xr rfx 4 ,
.Xr smg 4 ,
.Xr sti 4 ,
.Xr tcx 4 ,
.Xr tga 4 ,
.Xr topcat 4 ,
a522 5
.Xr tvrx 4 ,
.Xr tvtwo 4 ,
.Xr vga 4 ,
.Xr vgafb 4 ,
.Xr vigra 4 ,
d524 1
a524 1
.Xr zx 4 ,
@


1.42
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.41 2006/08/01 17:55:52 miod Exp $
d30 1
a30 1
.Dd $Mdocdate$
d251 1
a251 1
.It Dv WSDISPLAYOP_SCURPOS Pq Li "struct wsdisplay_curpos"
@


1.41
log
@No virtual consoles on smg for now.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.40 2006/07/28 21:25:19 miod Exp $
d30 1
a30 1
.Dd April 14, 2006
@


1.40
log
@Document the recent VAX frame buffer changes, especially the way smg(4)
attaches (or refuses to) now.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.39 2006/04/15 17:34:37 miod Exp $
d83 1
a83 2
.Xr lcd 4 ,
.Xr smg 4 ,
@


1.39
log
@Document tvrx(4), ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.38 2006/01/10 07:38:06 miod Exp $
d535 1
d539 2
@


1.38
log
@Remove the list of wsdisplay attachments, it was getting too long and too
confusing.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.37 2005/11/01 08:46:01 jmc Exp $
d30 1
a30 1
.Dd January 10, 2006
d551 1
@


1.37
log
@Xr smg(4) in SEE ALSO;
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.36 2005/11/01 07:32:21 deraadt Exp $
d30 1
a30 1
.Dd January 4, 2005
d37 1
a37 38
.\".Cd wsdisplay* at ega?
.\"(EGA display on ISA)
.Cd "wsdisplay* at vga?"
(VGA textmode display on ISA or PCI)
.Cd "wsdisplay* at pcdisplay?"
(generic PC (ISA) display)
.Cd "wsdisplay* at vgafb?"
(VGA graphics display on PCI, as found on macppc and sparc64 platforms)
.Cd "wsdisplay* at tga?"
(DEC TGA display, alpha only)
.\" .Cd wsdisplay* at nextdisplay?
.\" (NeXT display)
.Cd "wsdisplay* at sti?"
(HP CRX and Visualize series framebuffers)
.Cd "wsdisplay* at agten?"
.Cd "wsdisplay* at bwtwo?"
.Cd "wsdisplay* at cgtwo?"
.Cd "wsdisplay* at cgthree?"
.Cd "wsdisplay* at cgfour?"
.Cd "wsdisplay* at cgsix?"
.Cd "wsdisplay* at cgeight?"
.Cd "wsdisplay* at cgtwelve?"
.Cd "wsdisplay* at cgfourteen?"
.Cd "wsdisplay* at mgx?"
.Cd "wsdisplay* at pninek?"
.Cd "wsdisplay* at pnozz?"
.Cd "wsdisplay* at rfx?"
.Cd "wsdisplay* at tcx?"
.Cd "wsdisplay* at tvtwo?"
.Cd "wsdisplay* at vigra?"
.Cd "wsdisplay* at zx?"
(sparc and/or sparc64 framebuffers)
.Cd "wsdisplay* at creator?"
(sparc64 framebuffers)
.Cd "wsdisplay0 at smg?"
(VAXstation small monochrome display)
.Cd "wsdisplay* at lcd?"
(Zaurus LCD display)
d533 3
d538 1
d543 1
d549 1
@


1.36
log
@lcd contains multiple screen support too; noted by sthen@@spacehopper.org
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.35 2005/06/03 12:33:06 miod Exp $
d577 1
@


1.35
log
@Better description of the WSDISPLAYIO_GBURNER "on" field, after discussion
with mickey@@ some time ago.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.34 2005/06/02 07:34:12 miod Exp $
d120 3
a123 2
and the
.Xr smg 4
@


1.34
log
@Remove non-emulating wsdisplays - nothing uses them.
ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.33 2005/05/15 19:36:21 miod Exp $
d469 1
a469 1
member contains the activity time before the screen is turned on,
@


1.33
log
@Document more wsdisplay ioctls.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.32 2005/05/14 16:36:07 miod Exp $
d85 1
a85 1
A display device can have the ability to display characters on it
d88 1
a88 3
Such displays are called
.Dq emulating ,
the
a91 2
In contrary, non-emulating displays can only be used by special programs
like X servers.
a102 3
(Naturally, only
.Dq emulating
display devices are usable as console.)
a598 3
.Pp
.Dq non-emulating
display devices are not tested.
@


1.32
log
@Document some wsdisplay ioctls; from NetBSD.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.31 2005/01/04 19:22:17 jmc Exp $
d4 1
d459 41
a499 2
.\" WSDISPLAYIO_SBURNER
.\" WSDISPLAYIO_GBURNER
d504 47
a550 3
.\" WSDISPLAYIO_WSMOUSED
.\" WSDISPLAYIO_GETPARAM
.\" WSDISPLAYIO_SETPARAM
@


1.31
log
@typo;
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.30 2005/01/04 16:39:09 miod Exp $
d5 1
d110 7
d128 1
a128 2
.Tn VAX
.Dq smg
d181 291
d481 1
@


1.30
log
@Complete section 4 for Zaurus, and related changes.
ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.29 2004/09/30 19:59:26 mickey Exp $
d71 1
a71 1
.Cd "wsdisylay* at lcd?"
@


1.29
log
@kill default locators
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.28 2004/03/22 20:31:07 miod Exp $
d28 1
a28 1
.Dd February 29, 2004
d71 2
d194 1
@


1.28
log
@Tell what TERM value you should use to get color on sun emulation, and
device names for extra screens.

ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.27 2004/03/12 22:03:50 jmc Exp $
d35 1
a35 1
.\".Cd wsdisplay* at ega? console ?
d37 1
a37 1
.Cd "wsdisplay* at vga? console ?"
d39 1
a39 1
.Cd "wsdisplay* at pcdisplay? console ?"
d41 1
a41 1
.Cd "wsdisplay* at vgafb? console ?"
d43 1
a43 1
.Cd "wsdisplay* at tga? console ?"
d45 1
a45 1
.\" .Cd wsdisplay* at nextdisplay? console ?
d47 1
a47 1
.Cd "wsdisplay* at sti? console ?"
d49 17
a65 17
.Cd "wsdisplay* at agten? console ?"
.Cd "wsdisplay* at bwtwo? console ?"
.Cd "wsdisplay* at cgtwo? console ?"
.Cd "wsdisplay* at cgthree? console ?"
.Cd "wsdisplay* at cgfour? console ?"
.Cd "wsdisplay* at cgsix? console ?"
.Cd "wsdisplay* at cgeight? console ?"
.Cd "wsdisplay* at cgtwelve? console ?"
.Cd "wsdisplay* at cgfourteen? console ?"
.Cd "wsdisplay* at mgx? console ?"
.Cd "wsdisplay* at pninek? console ?"
.Cd "wsdisplay* at pnozz? console ?"
.Cd "wsdisplay* at rfx? console ?"
.Cd "wsdisplay* at tcx? console ?"
.Cd "wsdisplay* at tvtwo? console ?"
.Cd "wsdisplay* at vigra? console ?"
.Cd "wsdisplay* at zx? console ?"
d67 1
a67 1
.Cd "wsdisplay* at creator? console ?"
d69 1
a69 1
.Cd "wsdisplay0 at smg? console ?"
@


1.27
log
@fix SEE ALSO;
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.26 2004/02/29 21:44:04 miod Exp $
d174 1
a174 1
.It Pa /dev/ttyC*
d176 2
a177 2
.It Pa /dev/ttyCcfg
control device
@


1.26
log
@Enter rfx, driver for the SBus RasterFlex frame buffer family.
Currently 8-bit only for now.

This apparently completes the SBus frame buffer support list - yet if
you stumble upon an unsupported SBus frame buffer, I'd love to hear about it...
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.25 2003/07/09 13:26:20 jmc Exp $
d193 1
a194 1
.Xr pcdisplay 4 ,
@


1.25
log
@- fix lists/displays
- quote .Cd's
- add/remove .Pp's as necessary
- fix some .Re/.Rs's
- simplify macros
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.24 2003/06/18 17:40:28 miod Exp $
d28 1
a28 1
.Dd March 6, 2003
d61 1
d196 1
@


1.24
log
@Rename p9k to pninek, since device base names with digits are confusing;
per deraadt@@'s request.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.23 2003/06/17 21:21:30 miod Exp $
d37 1
a37 1
.Cd wsdisplay* at vga? console ?
d39 1
a39 1
.Cd wsdisplay* at pcdisplay? console ?
d41 1
a41 1
.Cd wsdisplay* at vgafb? console ?
d43 1
a43 1
.Cd wsdisplay* at tga? console ?
d47 1
a47 1
.Cd wsdisplay* at sti? console ?
d49 16
a64 16
.Cd wsdisplay* at agten? console ?
.Cd wsdisplay* at bwtwo? console ?
.Cd wsdisplay* at cgtwo? console ?
.Cd wsdisplay* at cgthree? console ?
.Cd wsdisplay* at cgfour? console ?
.Cd wsdisplay* at cgsix? console ?
.Cd wsdisplay* at cgeight? console ?
.Cd wsdisplay* at cgtwelve? console ?
.Cd wsdisplay* at cgfourteen? console ?
.Cd wsdisplay* at mgx? console ?
.Cd wsdisplay* at pninek? console ?
.Cd wsdisplay* at pnozz? console ?
.Cd wsdisplay* at tcx? console ?
.Cd wsdisplay* at tvtwo? console ?
.Cd wsdisplay* at vigra? console ?
.Cd wsdisplay* at zx? console ?
d66 1
a66 1
.Cd wsdisplay* at creator? console ?
d68 1
a68 1
.Cd wsdisplay0 at smg? console ?
d70 1
a70 1
.Cd option WSDISPLAY_DEFAULTSCREENS=N
@


1.23
log
@New driver and wsdisplay type for the Weitek Power9000 and Brooktree Bt445
combination, found on the Tadpole SPARCbook 3 only (later model use the
Power9100 and are already supported).

Untested for lack of hardware and volunteers, but carefully crafted; if it
does not work out of the box, this should be a good starting point.

"worth having in the tree" millert@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.22 2003/06/06 10:29:41 jmc Exp $
d59 1
a59 1
.Cd wsdisplay* at p9k? console ?
d192 1
a192 1
.Xr p9k 4 ,
@


1.22
log
@- section reorder
- some macro fixes
- kill whitespace at EOL
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.21 2003/05/14 06:48:13 miod Exp $
d59 1
d192 1
@


1.21
log
@Manual page for mgx(4), and references to it.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.20 2003/04/11 04:32:28 jmc Exp $
d99 1
a99 1
.Xr wsdisplay 4
d181 1
a181 2
.Xr cgthree 4 ,
.Xr cgtwo 4 ,
d183 1
d185 1
a185 1
.Xr cgeight 4 ,
d187 1
a187 1
.Xr cgfourteen 4 ,
d196 1
a197 1
.Xr tty 4 ,
@


1.20
log
@typos;

wscons(4): ok miod@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.19 2003/03/09 02:39:26 miod Exp $
d58 1
d190 1
@


1.19
log
@A simple zx(4) manual page and references to it...
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.18 2003/03/06 21:54:40 miod Exp $
d106 2
a107 2
.Dq virtual terminal
) is called a
d180 1
a181 1
.Xr cgthree 4 ,
@


1.18
log
@agten(4) manual page and references to it.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.17 2003/03/05 14:42:04 miod Exp $
d62 1
d178 1
d200 1
@


1.17
log
@tvtwo(4) short manual page and references to it.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.16 2003/02/19 15:29:50 jmc Exp $
d28 1
a28 1
.Dd March 20, 1999
d49 1
@


1.16
log
@copyrights added;

pcppi(4): Matthias Drochner
wsdisplay(4): Removed (c) for Harris, as that was for work done 2002
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.15 2003/02/19 09:01:47 jmc Exp $
d59 1
d191 1
@


1.15
log
@copyrights added;

these are all Matthias Drochner, except:

gsckbd(4): miod@@ + Drochner
wsdisplay(4): Harris + Drochner
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.14 2002/10/15 11:59:02 deraadt Exp $
a4 1
.\" Copyright (c) 2002 Ben Harris.
@


1.14
log
@option, not options; hamajima@@nagoya.ydc.co.jp
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.13 2002/09/26 22:09:53 miod Exp $
d3 25
@


1.13
log
@Second part of the man4 mi cleanup.
- more/better xrefs
- sync .Cd lines with actual configuration files
- intro(4) reference police
- huge usb(4) update
- follow mdoc.samples suggested man page section ordering when necessary
- add netintro(4) and hostname.if(5) xrefs to all ethernet drivers

ok deraadt@@ mickey@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.12 2002/09/13 11:04:40 miod Exp $
d41 1
a41 1
.Cd options WSDISPLAY_DEFAULTSCREENS=N
@


1.12
log
@Fix a few inaccuracies in wsdisplay behaviour description.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.11 2002/08/12 10:48:18 miod Exp $
d160 1
@


1.11
log
@Manual pages update to reflect the sparc wscons changes.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.10 2002/06/30 21:45:25 deraadt Exp $
d35 1
a37 1
.Cd wsdisplay* at vgfab? console ?
d168 1
@


1.10
log
@Xr cleanup; seb@@todesplanet.de
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.9 2002/04/03 23:01:06 mickey Exp $
d11 2
a12 2
.Cd wsdisplay* at ega? console ?
(EGA display on ISA)
d14 1
a14 1
(VGA display on ISA or PCI)
d17 2
d21 2
a22 2
.Cd wsdisplay* at nextdisplay? console ?
(NeXT display)
d25 15
a39 1
.Cd wsdisplay0 at smg0
d151 9
d161 1
d163 1
d167 1
@


1.9
log
@xr sti and order the see also
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.8 2001/12/14 18:00:42 mpech Exp $
a134 1
.Xr ega 4 ,
@


1.8
log
@decice -> device. Spotted by cruz@@openbsd.ru
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.7 2001/06/23 07:04:01 pjanzen Exp $
d137 2
a139 1
.Xr tga 4 ,
@


1.7
log
@spelling fixes and minor repairs almost entirely from jsyn@@nthought.com
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.6 2001/05/11 23:03:04 mickey Exp $
d86 1
a86 1
control decice (preferably using the
@


1.6
log
@add more on features present in wsdisplay
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.5 2001/03/27 22:44:55 aaron Exp $
d98 1
a98 1
Loading, deleteing and listing the loaded fonts.
d103 1
a103 1
Blanking the scrren by timing out on inactivity in the
d105 1
a105 1
Awakenning activities consist of:
d124 1
a124 1
Consult the back-end drivers' documentaion for which features are supported
@


1.5
log
@Rearrange title macros into the correct order.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.4 2001/03/01 16:11:20 aaron Exp $
a18 4
.Cd wsdisplay* at pfb? console ?
(PCI framebuffer, bebox only)
.Cd wsdisplay0 at ofb? console ?
(Open Firmware framebuffer, macppc only)
d21 2
d37 1
a37 1
software putting pixel data into the display memory.
d93 33
d138 1
@


1.4
log
@A slew of share/ man page fixes; nordin@@cse.ogi.edu. These have been sitting
in my INBOX since Nov 6, 2000, probably forgot about them since the tree was
frozen at that time.
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.3 2001/02/12 05:49:39 millert Exp $
d5 1
a6 1
.Dt WSDISPLAY 4
@


1.3
log
@s/ttyE/ttyC/g; OK'd by arron@@
@
text
@d1 1
a1 1
.\" $OpenBSD: wsdisplay.4,v 1.2 2000/12/21 21:01:22 aaron Exp $
d78 1
a78 1
One screen posesses the
d88 1
a88 1
control decice (preferrably using the
@


1.2
log
@Various repairs, $Id$ tags added, etc.
@
text
@d1 1
a1 1
.\" $OpenBSD$
d87 1
a87 1
.Pa /dev/ttyEcfg
d97 1
a97 1
.It Pa /dev/ttyE*
d99 1
a99 1
.It Pa /dev/ttyEcfg
@


1.1
log
@raw import of raw ws* manpages; weasels are ripping my flesh
@
text
@d1 1
d3 1
d33 3
a35 3
framework. It attaches to the hardware specific display device
driver and and makes it available as text terminal or graphics
interface.
d45 3
a47 2
tty-like software interface. In contrary, non-emulating displays can only
be used by special programs like X servers.
d52 8
a59 5
part of the operating system console. A device specification containing
a positive value here will only match if the device is in use as system
console. (The console device selection in early system startup is not
influenced.) This way, the console device can be connected to a known
wsdisplay device instance. (Naturally, only
d68 4
a71 2
here. If the underlying device driver supports it, multiple screens can
be used on one display. (As of this writing, only the
d81 3
a83 2
the keyboard input. (In some cases - if no screen is set up or if a screen
was just deleted - it is possible that no focus is present at all.)
d90 3
a92 2
utility). Alternatively, the compile-time option
.Cd WSDISPLAY_DEFAULTSCREENS=N
d96 6
a101 9
.Bl -item
.It
.Pa /dev/ttyE*
Terminal devices (per screen).
.It
.Pa /dev/ttyEcfg
Control device.
.It
.Pa /usr/include/dev/wscons/wsconsio.h
d103 9
a124 10
.Sh SEE ALSO
.Xr wscons 4 ,
.Xr wsconscfg 8 ,
.Xr wsconsctl 8 ,
.Xr wsfontload 8 ,
.Xr ega 4 ,
.Xr vga 4 ,
.Xr pcdisplay 4 ,
.Xr tty 4

@

