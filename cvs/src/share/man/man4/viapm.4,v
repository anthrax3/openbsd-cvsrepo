head	1.11;
access;
symbols
	OPENBSD_6_0:1.11.0.16
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.4
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.12
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.10
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.11.0.8
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.6
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.2
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.10.0.8
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.6
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.4
	OPENBSD_5_0:1.10.0.2
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.8.0.8
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.8.0.6
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.4
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.6.0.6
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.4
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.5.0.2
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.3.0.4
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.2
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2;
locks; strict;
comment	@.\" @;


1.11
date	2013.07.16.16.05.49;	author schwarze;	state Exp;
branches;
next	1.10;

1.10
date	2011.04.10.21.24.01;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2011.04.10.20.27.02;	author shadchin;	state Exp;
branches;
next	1.8;

1.8
date	2009.06.26.02.46.27;	author kevlo;	state Exp;
branches;
next	1.7;

1.7
date	2009.06.11.02.09.02;	author kevlo;	state Exp;
branches;
next	1.6;

1.6
date	2008.02.17.21.31.17;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2007.05.31.19.19.53;	author jmc;	state Exp;
branches;
next	1.4;

1.4
date	2007.04.29.05.40.20;	author jsg;	state Exp;
branches;
next	1.3;

1.3
date	2006.09.07.10.42.25;	author jmc;	state Exp;
branches;
next	1.2;

1.2
date	2006.01.05.10.04.38;	author grange;	state Exp;
branches;
next	1.1;

1.1
date	2006.01.01.00.37.14;	author kettenis;	state Exp;
branches;
next	;


desc
@@


1.11
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@.\"	$OpenBSD: viapm.4,v 1.10 2011/04/10 21:24:01 jmc Exp $
.\"
.\" Copyright (c) 2006 Mark Kettenis <kettenis@@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: April 10 2011 $
.Dt VIAPM 4
.Os
.Sh NAME
.Nm viapm
.Nd VIA SMBus controller and VIA VT82C686A/VT8231 hardware monitor
.Sh SYNOPSIS
.Cd "viapm* at pci?"
.Cd "iic* at viapm?"
.Sh DESCRIPTION
The
.Nm
driver provides support for the bus control and power management
component of the VIA VT82C596, VT82C596B, VT82C686A, VT8231, VT8233,
VT8233A, VT8235, VT8237, VT8237A, VT8237S, VT8251, CX700, VX800 and
VX855 South Bridges.
Only the SMBus host interface is supported and can be used with the
.Xr iic 4
framework.
.Pp
The
.Nm
driver provides support for the hardware monitor in the VIA VT82C686A
and VT8231 South Bridges.
The hardware monitor is used with the
.Xr sysctl 8
interface.
.Pp
The device has 10 sensors:
.Bl -column "Sensor" "Units" "Typical" -offset indent
.It Sy "Sensor" Ta Sy "Units" Ta Sy "Typical Use"
.It Li "TSENS1" Ta "uK" Ta "CPU temperature"
.It Li "TSENS2" Ta "uK" Ta "System temperature"
.It Li "TSENS3" Ta "uK" Ta "Unknown"
.It Li "FAN1" Ta "RPM" Ta "CPU fan"
.It Li "FAN2" Ta "RPM" Ta "System fan"
.It Li "VSENS1" Ta "uV DC" Ta "CPU core voltage (2.0V)"
.It Li "VSENS2" Ta "uV DC" Ta "North Bridge core voltage (2.5V)"
.It Li "Vcore" Ta "uV DC" Ta "Internal core voltage (3.3V)"
.It Li "VSENS3" Ta "uV DC" Ta "+5V"
.It Li "VSENS4" Ta "uV DC" Ta "+12V"
.El
.Pp
Sensor data is updated every 1.5 seconds.
.Sh SEE ALSO
.Xr iic 4 ,
.Xr intro 4 ,
.Xr pci 4 ,
.Xr sensorsd 8 ,
.Xr sysctl 8
.Sh HISTORY
The
.Nm
driver first appeared in
.Ox 3.9 .
.Pp
The
.Nm viaenv
driver first appeared in
.Nx 1.5 .
.Ox
support was added in
.Ox 3.4 .
.Sh AUTHORS
.An -nosplit
The
.Nm
driver was written by
.An Mark Kettenis Aq Mt kettenis@@openbsd.org .
.Pp
The
.Nm viaenv
driver was written by
.An Johan Danielsson
and ported to
.Ox 3.4
by
.An Alexander Yurchenko Aq Mt grange@@openbsd.org .
It was merged with
.Nm
in
.Ox 5.0 .
.Sh BUGS
The driver doesn't support commands with a data buffer size of more
than 2 bytes.
.Pp
Interrupt support is unimplemented, as is support for setting values.
@


1.10
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: viapm.4,v 1.9 2011/04/10 20:27:02 shadchin Exp $
d85 1
a85 1
.An Mark Kettenis Aq kettenis@@openbsd.org .
d94 1
a94 1
.An Alexander Yurchenko Aq grange@@openbsd.org .
@


1.9
log
@Merge viapm and viaenv

Pluses:
- Add support SMBus for VT82C596, VT82C596B, VT82C686A, VT8231
- Add support ACPI timer for all VIA South Bridges

ok deraadt@@, tested sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: viapm.4,v 1.8 2009/06/26 02:46:27 kevlo Exp $
d17 1
a17 1
.Dd $Mdocdate: June 26 2009 $
d95 1
a95 3
The
.Nm viaenv
was merged with
@


1.8
log
@add the VIA VX855 chipset

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: viapm.4,v 1.7 2009/06/11 02:09:02 kevlo Exp $
d17 1
a17 1
.Dd $Mdocdate: June 11 2009 $
d22 1
a22 1
.Nd VIA SMBus controller
d30 3
a32 2
component of the VIA VT8233, VT8235, VT8237, VT8237A, VT8237S, VT8251,
CX700, CX800 and VX855 South Bridges.
d36 25
d64 3
a66 1
.Xr pci 4
d72 8
d81 1
d86 15
d104 2
@


1.7
log
@add the VIA CX800 south bridge.

tested on the eNOTE VED8900.

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: viapm.4,v 1.6 2008/02/17 21:31:17 brad Exp $
d17 1
a17 1
.Dd $Mdocdate: February 17 2008 $
d31 1
a31 1
CX700 and CX800 South Bridges.
@


1.6
log
@mention the VIA VT8237S south bridge.

ok dlg@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: viapm.4,v 1.5 2007/05/31 19:19:53 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: May 31 2007 $
d30 2
a31 2
component of the VIA VT8233, VT8235, VT8237, VT8237A, VT8237S, VT8251
and CX700 South Bridges.
@


1.5
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: viapm.4,v 1.4 2007/04/29 05:40:20 jsg Exp $
d17 1
a17 1
.Dd $Mdocdate$
d30 2
a31 1
component of the VIA VT8233, VT8235, VT8237, VT8251 and CX700 South Bridges.
@


1.4
log
@Match on VT8237A/VT8251/CX700 like the equivalent Linux driver does.

ok kettenis@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: viapm.4,v 1.3 2006/09/07 10:42:25 jmc Exp $
d17 1
a17 1
.Dd January 1, 2006
@


1.3
log
@align the iic .Nd lines a little more;
help/ok dlg kettenis
@
text
@d1 1
a1 1
.\"	$OpenBSD: viapm.4,v 1.2 2006/01/05 10:04:38 grange Exp $
d22 1
a22 1
.Nd VIA VT8233/8235/8237 SMBus controller
d30 1
a30 1
component of the VIA VT8233, VT8235 and VT8237 South Bridges.
@


1.2
log
@Various I2C updates, cleanups, etc.
@
text
@d1 1
a1 1
.\"	$OpenBSD: viapm.4,v 1.1 2006/01/01 00:37:14 kettenis Exp $
d22 1
a22 1
.Nd VIA VT8233/8235/8237 Bus Control and Power Management controller
@


1.1
log
@viapm(4)
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d22 1
a22 1
.Nd VIA VT8233/8235/8237 Bus Control and Power Management
d31 1
a31 1
Only the SMBus controller is supported and can be used with the
@

