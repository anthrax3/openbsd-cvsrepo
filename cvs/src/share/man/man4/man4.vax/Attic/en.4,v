head	1.7;
access;
symbols
	OPENBSD_3_2:1.6.0.4
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.6.0.2
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.5.0.2
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9:1.4.0.8
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.6
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.4
	OPENBSD_2_7_BASE:1.4
	OPENBSD_2_6:1.4.0.2
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.2.0.12
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.10
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.8
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.7
date	2003.03.06.10.29.45;	author deraadt;	state dead;
branches;
next	1.6;

1.6
date	2001.11.13.13.54.26;	author mpech;	state Exp;
branches;
next	1.5;

1.5
date	2001.10.05.14.45.54;	author mpech;	state Exp;
branches;
next	1.4;

1.4
date	99.06.05.13.18.38;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	99.05.16.19.57.27;	author alex;	state Exp;
branches;
next	1.2;

1.2
date	96.03.29.10.16.49;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.44.34;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.44.34;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.7
log
@not used, when the driver works, add it back
@
text
@.\"	$OpenBSD: en.4,v 1.6 2001/11/13 13:54:26 mpech Exp $
.\"	$NetBSD: en.4,v 1.3 1996/03/03 17:13:32 thorpej Exp $
.\"
.\" Copyright (c) 1983, 1991 The Regents of the University of California.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     from: @@(#)en.4	6.5 (Berkeley) 3/27/91
.\"
.Dd March 27, 1991
.Dt EN 4 vax
.Os
.Sh NAME
.Nm en
.Nd Xerox 3 Mb/s Ethernet interface
.Sh SYNOPSIS
.Cd "device en0 at uba0 csr 161000 vector enrint enxint encollide"
.Sh DESCRIPTION
The
.Nm en
interface provides access to a 3 Mb/s Ethernet network.
Due to limitations in the hardware,
.Tn DMA
transfers
to and from the network must take place in the lower 64K bytes
of the
.Tn UNIBUS
address space, and thus this must be among the first
.Tn UNIBUS
devices enabled after boot.
.Pp
Each of the host's network addresses
is specified at boot time with an
.Dv SIOCSIFADDR
.Xr ioctl 2 .
The station address is discovered by probing the on-board Ethernet
address register, and is used to verify the protocol addresses.
No packets will be sent or accepted until
a network address is supplied.
.Pp
The interface software implements an exponential backoff algorithm
when notified of a collision on the cable.
This algorithm utilizes a 16-bit mask and the
.Tn VAX-11 Ns 's
interval timer in calculating a series
of random backoff values.
The algorithm is as follows:
.Pp
.Bl -enum -offset indent
.It
Initialize the mask to be all 1's.
.It
If the mask is zero, 16 retries have been made and we give
up.
.It
Shift the mask left one bit and formulate a backoff by
masking the interval timer with the mask (this is actually
the two's complement of the value).
.It
Use the value calculated in step 3 to delay before retransmitting
the packet.
.El
.Pp
The interface handles both Internet and
.Tn NS
protocol families.
It normally tries to use a
.Dq trailer
encapsulation
to minimize copying data on input and output.
The use of trailers is negotiated with
.Tn ARP .
This negotiation may be disabled, on a per-interface basis,
by setting the
.Dv IFF_NOTRAILERS
flag with an
.Dv SIOCSIFFLAGS
.Xr ioctl 2 .
.Sh DIAGNOSTICS
.Bl -diag
.It en%d: output error.
The hardware indicated an error on
the previous transmission.
.Pp
.It en%d: send error.
After 16 retransmissions using the
exponential backoff algorithm described above, the packet
was dropped.
.Pp
.It en%d: input error.
The hardware indicated an error
in reading a packet off the cable.
.Pp
.It en%d: can't handle af%d.
The interface was handed
a message with addresses formatted in an unsuitable address
family; the packet was dropped.
.El
.Sh SEE ALSO
.Xr inet 4 ,
.Xr netintro 4
.Sh HISTORY
The
.Nm
driver appeared in
.Bx 4.2 .
.Sh BUGS
The device has insufficient buffering to handle back to
back packets.
This makes use in a production environment painful.
.Pp
The hardware does word at a time
.Tn DMA
without byte swapping.
To compensate, byte swapping of user data must either be done
by the user or by the system.
A kludge to byte swap only
.Tn IP
packets is provided if the
.Dv ENF_SWABIPS
flag is defined in
the driver and set at boot time with an
.Dv SIOCSIFFLAGS
.Xr ioctl 2 .
@


1.6
log
@o) Fix bogus .Xr usage;
o) CAVEAT -> CAVEATS;
o) AUTHOR -> AUTHORS;
o) Start new sentence on a new line;
o) For URL and path names use .Pa;
o) We don't like .Pp before .Rs;
o) Don't use .Pp before/after .Sh;
o) OpenBSD -> .Ox;

millert@@ ok and help;
@
text
@d1 1
a1 1
.\"	$OpenBSD: en.4,v 1.5 2001/10/05 14:45:54 mpech Exp $
@


1.5
log
@Powered by @@mantoya:
o) start new sentence on a new line;
o) minor mdoc fixes;
millert@@ ok

Tip of the day:   www.mpechismazohist.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: en.4,v 1.4 1999/06/05 13:18:38 aaron Exp $
d105 1
a105 1
.Xr ioctl .
d151 1
a151 1
.Xr ioctl .
@


1.4
log
@more .Os cleanup, remove some trailing whitespace, cleanse some .Nm
@
text
@d1 1
a1 1
.\"	$OpenBSD: en.4,v 1.3 1999/05/16 19:57:27 alex Exp $
d69 2
a70 2
when notified of a collision on the cable.  This algorithm utilizes
a 16-bit mask and the
d73 2
a74 1
of random backoff values.  The algorithm is as follows:
d136 2
a137 2
back packets.  This makes use in a production environment
painful.
d143 2
a144 1
by the user or by the system.  A kludge to byte swap only
@


1.3
log
@Cleanup xrefs under SEE ALSO.  Specifically:

  - Sort xrefs by section, and then alphabetically.
  - Add missing commas between xref items.
  - Remove commas from the last xref entry.
  - Remove duplicate entries.
@
text
@d1 1
a1 1
.\"	$OpenBSD: en.4,v 1.2 1996/03/29 10:16:49 niklas Exp $
d39 1
a39 1
.Os BSD 4.2
d65 1
a65 1
No packets will be sent or accepted until 
d141 1
a141 1
To compensate, byte swapping of user data must either be done 
d147 2
a148 2
the driver and set at boot time with an 
.Dv SIOCSIFFLAGS 
@


1.2
log
@From NetBSD: merge of 960317
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d126 2
a127 2
.Xr netintro 4 ,
.Xr inet 4
@


1.1
log
@Initial revision
@
text
@d1 3
a35 1
.\"	$Id: en.4,v 1.2 1993/08/01 07:36:23 mycroft Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
