head	1.14;
access;
symbols
	OPENBSD_5_9:1.13.0.12
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.20
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.13.0.18
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.13.0.16
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.14
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.10
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.8
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.13.0.6
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.4
	OPENBSD_5_0:1.13.0.2
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.12.0.16
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.12.0.14
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.10
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.12.0.12
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.12.0.8
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.12.0.6
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.12.0.4
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.11.0.10
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.8
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.11.0.6
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.11.0.4
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.11.0.2
	OPENBSD_3_7_BASE:1.11
	OPENBSD_3_6:1.10.0.6
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.10.0.4
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.10.0.2
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.8.0.4
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.2
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.6.0.4
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.6.0.2
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9:1.4.0.4
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.3.0.4
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.3.0.2
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.2.0.12
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.10
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.8
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.6
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.14
date	2016.03.09.16.28.47;	author deraadt;	state dead;
branches;
next	1.13;
commitid	OSDG2O3Cgeifnf1W;

1.13
date	2011.07.06.18.32.58;	author miod;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.31.19.19.57;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2005.03.12.12.21.08;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2003.06.06.10.29.42;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2003.06.02.23.30.14;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2002.10.01.21.05.31;	author miod;	state Exp;
branches;
next	1.7;

1.7
date	2002.09.26.22.11.49;	author miod;	state Exp;
branches;
next	1.6;

1.6
date	2001.10.05.14.45.54;	author mpech;	state Exp;
branches;
next	1.5;

1.5
date	2001.06.23.07.04.22;	author pjanzen;	state Exp;
branches;
next	1.4;

1.4
date	2000.07.22.04.54.28;	author bjc;	state Exp;
branches;
next	1.3;

1.3
date	99.06.05.13.18.37;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	96.03.29.10.16.22;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.44.33;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.44.33;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.14
log
@We are done providing support for the vax.
lots of agreement.
@
text
@.\"	$OpenBSD: autoconf.4,v 1.13 2011/07/06 18:32:58 miod Exp $
.\"	$NetBSD: autoconf.4,v 1.3 1996/03/03 17:13:13 thorpej Exp $
.\"
.\" Copyright (c) 1980, 1991 Regents of the University of California.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     from: @@(#)autoconf.4	6.3 (Berkeley) 3/27/91
.\"
.Dd $Mdocdate: July 6 2011 $
.Dt AUTOCONF 4 vax
.Os
.Sh NAME
.Nm autoconf
.Nd diagnostics from the autoconfiguration code
.Sh DESCRIPTION
When
.Ox
bootstraps it probes the innards of the machine
on which it is running
and locates controllers, drives, and other devices, printing out
what it finds on the console.
This procedure is driven by a system configuration table which is processed by
.Xr config 8
and compiled into each kernel.
.Pp
If devices exist which are not configured they will be silently ignored;
if devices exist of unsupported type they will be noted.
.Pp
Normally, the system uses the disk from which it was loaded as the root
filesystem.
If such a system is booted with the
.Dv RB_ASKNAME
option (see
.Xr reboot 2 ) ,
then the name of the root device is read from the console terminal at boot
time, and any available device may be used.
.Sh SEE ALSO
.Xr intro 4 ,
.Xr boot_vax 8 ,
.Xr config 8
@


1.13
log
@Remove support for non-microVAX, non-VAXstation, non-VXT hardware in the
VAX port. This means, 11/7xx, VAX6000 and VAX8x00 systems, as well as SBI,
CMI, BI, XMI and MASSBUS drivers.
Most of these files were not being compiled or kept in compilable state over
the years anyway.
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.12 2007/05/31 19:19:57 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
@


1.12
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.11 2005/03/12 12:21:08 jmc Exp $
a49 19
On the
.Tn VAX ,
devices in
.Tn NEXUS
slots are normally noted, thus memory controllers,
.Tn UNIBUS
and
.Tn MASSBUS
adaptors.
Devices which are not supported which are found in
.Tn NEXUS
slots are noted also.
The Q-bus, if present, is configured in the same way as the
.Tn UNIBUS .
.Pp
.Tn MASSBUS
devices are located by a very deterministic procedure since
.Tn MASSBUS
space is completely probe-able.
a52 8
.Tn UNIBUS
devices are located by probing to see if their control-status
registers respond.
If not, they are silently ignored.
If the control status register responds but the device cannot be made to
interrupt, a diagnostic warning will be printed on the console and the device
will not be available to the system.
.Pp
a54 12
If that is not possible,
a generic system will pick its root device
as the
.Dq best
available device
.Pf ( Tn MASSBUS
disks are better than
.Tn SMD UNIBUS
disks are better than
.Tn RK07 Ns s ;
the device must be drive 0
to be considered).
a60 153
.Sh DIAGNOSTICS
.Bl -diag
.It mba%d at tr%d.
A
.Tn MASSBUS
adapter was found in
.Ql tr%d
(the
.Tn NEXUS
slot number).
.Ox
will call it
.Ql mba%d .
.Pp
.It %d mbas not configured.
More
.Tn MASSBUS
adapters were found on
the machine than were declared in the machine configuration; the excess
.Tn MASSBUS
adapters will not be accessible.
.Pp
.It uba%d at tr%d.
A
.Tn UNIBUS or Q-bus
adapter was found in
.Ql tr%d
(the
.Tn NEXUS
slot number).
.Ox
will call it
.Ql uba%d .
.Pp
.It dr32 unsupported (at tr %d).
A
.Tn DR Ns 32
interface was found in
a
.Tn NEXUS ,
for which
.Ox
does not have a driver.
.Pp
.It ci unsupported (at tr %d).
A
.Tn CI
interface was found in
a
.Tn NEXUS ,
for which
.Ox
does not have a driver.
.Pp
.It mcr%d at tr%d.
A memory controller was found in
.Ql tr%d
(the
.Tn NEXUS
slot number).
.Ox
will call it
.Ql mcr%d .
.Pp
.It 5 mcrs unsupported.
.Ox
supports only 4 memory controllers
per
.Tn CPU .
.Pp
.It mpm unsupported (at tr%d).
Multi-port memory is unsupported
in the sense that
.Ox
does not know how to poll it for
.Tn ECC
errors.
.Pp
.It %s%d at mba%d drive %d.
A tape formatter or a disk was found
on the
.Tn MASSBUS ;
for disks
.Ql %s%d
will look like
.Dq Li hp0 ,
for tape formatters
like
.Dq Li ht1 .
The drive number comes from the unit plug on the drive
or in the
.Tn TM
formatter
.Pf ( Em not
on the tape drive; see below).
.Pp
.It %s%d at %s%d slave %d.
(For
.Tn MASSBUS
devices).
Which would look like
.Dq Li tu0 at ht0 slave 0 ,
where
.Dq Li tu0
is the name for the tape device and
.Dq Li ht0
is the name
for the formatter.
A tape slave was found on the tape formatter at the indicated drive number
(on the front of the tape drive).
.Ux
will call the device, e.g.,
.Dq Li tu0 .
.Pp
.It "%s%d at uba%d csr %o vec %o ipl %x."
The device
.Ql %s%d ,
e.g.\&
.Dq Li dz0
was found on
.Ql uba%d
at control-status register address
.Ql \&%o
and with
device vector
.Ql \&%o .
The device interrupted at priority level
.Ql \&%x .
.Pp
.It %s%d at uba%d csr %o zero vector.
The device did not present
a valid interrupt vector, rather presented 0 (a passive release condition)
to the adapter.
.Pp
.It "%s%d at uba%d csr %o didn't interrupt."
The device did not interrupt,
likely because it is broken, hung, or not the kind of device it is advertised
to be.
.Pp
.It %s%d at %s%d slave %d.
(For UNIBUS or Q-bus devices).
Which would look like
.Dq Li up0 at sc0 slave 0 ,
where
.Dq Li up0
is the name of a disk drive and
.Dq Li sc0
is the name
of the controller.
Analogous to
.Tn MASSBUS
case.
.El
@


1.11
log
@escape `.' at eol to avoid double spacing issue;
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.10 2003/06/06 10:29:42 jmc Exp $
d33 1
a33 1
.Dd March 27, 1991
@


1.10
log
@- section reorder
- some macro fixes
- kill whitespace at EOL
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.9 2003/06/02 23:30:14 millert Exp $
d217 1
a217 1
e.g.
@


1.9
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.8 2002/10/01 21:05:31 miod Exp $
d63 1
a63 1
.Tn UNIBUS.
@


1.8
log
@Last minute cleanings (yes, close to release, last minutes spend longer
than regular minutes):
- do not install manual pages covering hardware we do not currently support
- link autoconf(4)
- remove mtio(4), this is an mi page now
- do not link kUmem(4) -> mem(4) since there is no corresponding code. What
a joke.
- .Xr .Cd police
- intro(4) update, closer to reality

ok hugh@@ deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.7 2002/09/26 22:11:49 miod Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.7
log
@autoconf(4) cleanup:
- remove blatant lies (missing diagnostics, unconfigured devices never
detected even on pci or such busses...)
- .Tn UNIX -> .Ox
- xref boot_`arch`(8) rather than boot(8) when boot(8) does not exist
- vague attempt to harmonize common texts

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.6 2001/10/05 14:45:54 mpech Exp $
a260 6
.Sh HISTORY
The
.Nm
feature
appeared in
.Bx 4.1 .
@


1.6
log
@Powered by @@mantoya:
o) start new sentence on a new line;
o) minor mdoc fixes;
millert@@ ok

Tip of the day:   www.mpechismazohist.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.5 2001/06/23 07:04:22 pjanzen Exp $
d42 1
a42 1
.Nd "diagnostics from the autoconfiguration code"
d47 4
a50 5
on which it is running and
locates controllers, drives, and other devices.
Each item found is recorded on the console.
This procedure is driven by a system
configuration table which is processed by
a105 10
.It cpu type %d not configured.
You tried to boot
.Ox
on a
.Tn CPU
type which it doesn't (or at least this compiled version of
.Ox
doesn't)
understand.
.Pp
d238 1
a238 1
.It %s%d at uba%d csr %o didn't interrupt.
d259 1
a259 1
.Xr boot 8 ,
@


1.5
log
@spelling fixes and minor repairs almost entirely from jsyn@@nthought.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.4 2000/07/22 04:54:28 bjc Exp $
d63 2
a64 2
adaptors.  Devices which are not supported which
are found in
d73 3
a75 3
space is completely probe-able.  If devices exist which
are not configured they will be silently ignored; if devices exist of
unsupported type they will be noted.
d79 4
a82 3
registers respond.  If not, they are silently ignored.  If the control
status register responds but the device cannot be made to interrupt,
a diagnostic warning will be printed on the console and the device
d222 3
a224 2
for the formatter.  A tape slave was found on the tape formatter at the
indicated drive number (on the front of the tape drive).
d263 2
a264 1
of the controller.  Analogous to
@


1.4
log
@.Ox, minor typographical and correctness fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.3 1999/06/05 13:18:37 aaron Exp $
d128 1
a128 1
.It %d mba's not configured.
d178 1
a178 1
.It 5 mcr's unsupported.
@


1.3
log
@more .Os cleanup, remove some trailing whitespace, cleanse some .Nm
@
text
@d1 1
a1 1
.\"	$OpenBSD: autoconf.4,v 1.2 1996/03/29 10:16:22 niklas Exp $
d38 1
a38 1
.Dt AUTOCONF 4
d45 1
a45 1
.Tn UNIX
d67 1
a67 3
The Q-bus on the
.Tn MICROVAX
is configured in the same way as the
d108 1
a108 1
.Tn UNIX
d112 1
a112 1
.Tn UNIX
d124 1
a124 1
.Tn UNIX
d138 1
a138 1
.Tn UNIBUS
d144 1
a144 1
.Tn UNIX
d155 1
a155 1
.Tn UNIX
d165 1
a165 1
.Tn UNIX
d174 1
a174 1
.Tn UNIX
d179 1
a179 1
.Tn UNIX
d187 1
a187 1
.Tn UNIX
d253 1
a253 1
(For UNIBUS devices).
@


1.2
log
@From NetBSD: merge of 960317
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d39 1
a39 1
.Os BSD 4
d84 1
a84 1
will not be available to the system. 
d256 1
a256 1
Which would look like 
@


1.1
log
@Initial revision
@
text
@d1 3
a35 1
.\"	$Id: autoconf.4,v 1.2 1993/08/01 07:36:37 mycroft Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
