head	1.23;
access;
symbols
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.20.0.6
	OPENBSD_6_0_BASE:1.20
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.19.0.10
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.19.0.8
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.19.0.6
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.4
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.18.0.2
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.16.0.2
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.15.0.4
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.2
	OPENBSD_5_0:1.14.0.14
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.14.0.12
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.14.0.10
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.14.0.6
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.14.0.8
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.4
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.14.0.2
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.13.0.4
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.13.0.2
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.11.0.4
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.8.0.2
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.4.0.2
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.2.0.2
	OPENBSD_3_6_BASE:1.2;
locks; strict;
comment	@.\" @;


1.23
date	2016.11.13.08.22.47;	author jmc;	state Exp;
branches;
next	1.22;
commitid	bjfAdO3U45TNcpCR;

1.22
date	2016.09.03.14.54.24;	author guenther;	state Exp;
branches;
next	1.21;
commitid	fpZzM5ktmH7G7XqK;

1.21
date	2016.09.03.13.37.41;	author guenther;	state Exp;
branches;
next	1.20;
commitid	6T3r4QcMFKe3Fo5T;

1.20
date	2015.11.04.09.20.01;	author stsp;	state Exp;
branches;
next	1.19;
commitid	n0flhgVkBbXPtFMQ;

1.19
date	2013.12.11.10.27.12;	author kirby;	state Exp;
branches;
next	1.18;

1.18
date	2013.07.16.16.05.48;	author schwarze;	state Exp;
branches;
next	1.17;

1.17
date	2013.06.02.20.23.33;	author tedu;	state Exp;
branches;
next	1.16;

1.16
date	2012.08.18.08.44.25;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2011.11.09.21.49.53;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2008.03.14.15.19.52;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2007.07.26.08.16.09;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.31.19.19.49;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2006.09.15.08.36.37;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2006.08.30.22.56.05;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2006.03.24.23.20.28;	author dlg;	state Exp;
branches;
next	1.8;

1.8
date	2005.10.02.07.58.02;	author jmc;	state Exp;
branches;
next	1.7;

1.7
date	2005.09.30.20.34.24;	author jaredy;	state Exp;
branches;
next	1.6;

1.6
date	2005.09.29.08.12.31;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2005.09.29.01.18.06;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2005.05.25.07.54.24;	author david;	state Exp;
branches;
next	1.3;

1.3
date	2004.09.30.19.59.24;	author mickey;	state Exp;
branches;
next	1.2;

1.2
date	2004.07.20.20.38.52;	author miod;	state Exp;
branches;
next	1.1;

1.1
date	2004.07.20.20.30.09;	author dhartmei;	state Exp;
branches;
next	;


desc
@@


1.23
log
@update the link for communication devices; the actual document link
is quite lengthy and the original doc has been split into five parts,
so i've just linked to the man doc page;
@
text
@.\" Copyright (c) 2004 Daniel Hartmeier
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\"
.\"    - Redistributions of source code must retain the above copyright
.\"      notice, this list of conditions and the following disclaimer.
.\"    - Redistributions in binary form must reproduce the above
.\"      copyright notice, this list of conditions and the following
.\"      disclaimer in the documentation and/or other materials provided
.\"      with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
.\" "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
.\" LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
.\" FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
.\" COPYRIGHT HOLDERS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
.\" BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
.\" LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
.\" CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
.\" ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
.\" POSSIBILITY OF SUCH DAMAGE.
.\"
.\" $OpenBSD: cdce.4,v 1.22 2016/09/03 14:54:24 guenther Exp $
.\"
.Dd $Mdocdate: September 3 2016 $
.Dt CDCE 4
.Os
.Sh NAME
.Nm cdce
.Nd USB Communication Device Class Ethernet device
.Sh SYNOPSIS
.Cd "cdce*  at uhub?"
.Sh DESCRIPTION
The
.Nm
driver provides support for USB Host-to-Host (aka USB-to-USB) bridges
based on the USB Communication Device Class (CDC) and Ethernet subclass,
including the following:
.Pp
.Bl -bullet -compact -offset indent
.It
Acer Labs USB 2.0 Data Link
.It
Dell Wireless 5530
.It
Dell Wireless 5540
.It
FRITZ!Box Fon ata 1020
.It
G.Mate YP3X00
.It
Lenovo Thinkpad USB 3.0 Ethernet Adapter (FRU 03X6903)
.It
Motorola USBNET
.It
NetChip EthernetGadget
.It
Prolific PL-2501
.It
Sony Ericsson K610i
.It
Sony Ericsson F3705g
.It
Yota LU156
.It
Zyxel P-971M
.El
.Pp
The USB bridge appears as a regular network interface on both sides,
transporting Ethernet frames.
USB 1.x bridges support speeds of up to 12Mbps, and USB 2.0 speeds of
up to 480Mbps.
Packets are
received and transmitted over separate USB bulk transfer endpoints.
.Pp
The
.Nm
driver does not support different media types or options.
For more information on configuring this device, see
.Xr ifconfig 8 .
.Sh DIAGNOSTICS
.Bl -diag
.It "cdce0: extra ethernet descriptor"
There is more than one Ethernet descriptor.
.It "cdce0: no data interface"
The data interface announced by the union descriptor cannot be found.
.It "cdce0: no descriptor for interrupt endpoint N"
.It "cdce0: interface alternate setting N failed"
.It "cdce0: no descriptor for bulk endpoint N"
.It "cdce0: could not find data bulk in/out"
For a manually added USB vendor/product, these errors indicate
that the bridge is not compatible with the driver.
.It "cdce0: watchdog timeout"
A packet was queued for transmission and a transmit command was
issued, however the device failed to acknowledge the transmission
before a timeout expired.
.It "cdce0: no memory for rx list -- packet dropped!"
Memory allocation through MGETHDR or MCLGET failed, the system
is running low on mbufs.
.It "cdce0: abort/close rx/tx/interrupt pipe failed"
.It "cdce0: rx/tx list init failed"
.It "cdce0: open rx/tx/interrupt pipe failed"
.It "cdce0: usb error on rx/tx"
.El
.Sh SEE ALSO
.Xr arp 4 ,
.Xr intro 4 ,
.Xr netintro 4 ,
.Xr usb 4 ,
.Xr hostname.if 5 ,
.Xr ifconfig 8
.Rs
.%T "Universal Serial Bus Class Definitions for Communication Devices"
.%U http://www.usb.org/developers/docs/devclass_docs/
.Re
.Rs
.%T "Data sheet Prolific PL-2501 Host-to-Host Bridge/Network Controller"
.Re
.Sh HISTORY
The
.Nm
device driver first appeared in
.Ox 3.6 .
.Sh AUTHORS
.An -nosplit
The
.Nm
driver was written by
.An Craig Boston Aq Mt craig@@tobuj.gank.org
based on the
.Xr aue 4
driver written by
.An Bill Paul Aq Mt wpaul@@windriver.com
and ported to
.Ox
by
.An Daniel Hartmeier Aq Mt dhartmei@@openbsd.org .
.Sh CAVEATS
Many USB devices notoriously fail to report their class and interfaces
correctly.
Undetected products might work flawlessly when their vendor and product IDs
are added to the driver manually.
@


1.22
log
@cdcef(4) was retired with Zaurus.  Noted by jmc@@
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.21 2016/09/03 13:37:41 guenther Exp $
d119 1
a119 1
.%U http://www.usb.org/developers/devclass_docs/usbcdc11.pdf
@


1.21
log
@Retire zaurus, as it hasn't made the EABI jump and will be permanently broken
shortly when we use the hardware thread register in userland
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.20 2015/11/04 09:20:01 stsp Exp $
d30 1
a30 1
.Dd $Mdocdate: November 4 2015 $
a111 1
.Xr cdcef 4 ,
@


1.20
log
@The "Lenovo Thinkpad USB 3.0 Ethernet Adapter" works with cdce(4).
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.19 2013/12/11 10:27:12 kirby Exp $
d30 1
a30 1
.Dd $Mdocdate: December 11 2013 $
a63 2
.It
Sharp Zaurus
@


1.19
log
@Add Yota LU156 to the device list.
ok brad@@
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.18 2013/07/16 16:05:48 schwarze Exp $
d30 1
a30 1
.Dd $Mdocdate: July 16 2013 $
d56 2
@


1.18
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.17 2013/06/02 20:23:33 tedu Exp $
d30 1
a30 1
.Dd $Mdocdate: June 2 2013 $
d68 2
@


1.17
log
@change format strings in error messages to reasonable values more likely
to be understood by people who don't program in C.
ok everyone
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.16 2012/08/18 08:44:25 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: August 18 2012 $
d133 1
a133 1
.An Craig Boston Aq craig@@tobuj.gank.org
d137 1
a137 1
.An Bill Paul Aq wpaul@@windriver.com
d141 1
a141 1
.An Daniel Hartmeier Aq dhartmei@@openbsd.org .
@


1.16
log
@within Rs/Re reference blocks, use %U instead of %O (or any other
variants) for URLs, allowing mandoc -Thtml to properly generate links;

(sendmail.8 changes are simply using Lk, which i somehow missed in previous)

ingo reminded me to verify that gnu groff recognises %U: 1.20.1 does not,
but 1.21 does;
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.15 2011/11/09 21:49:53 sthen Exp $
d30 1
a30 1
.Dd $Mdocdate: November 9 2011 $
d86 1
a86 1
.It "cdce%d: extra ethernet descriptor"
d88 1
a88 1
.It "cdce%d: no data interface"
d90 4
a93 4
.It "cdce%d: no descriptor for interrupt endpoint %d"
.It "cdce%d: interface alternate setting %d failed"
.It "cdce%d: no descriptor for bulk endpoint %d"
.It "cdce%d: could not find data bulk in/out"
d96 1
a96 1
.It "cdce%d: watchdog timeout"
d100 1
a100 1
.It "cdce%d: no memory for rx list -- packet dropped!"
d103 4
a106 4
.It "cdce%d: abort/close rx/tx/interrupt pipe failed"
.It "cdce%d: rx/tx list init failed"
.It "cdce%d: open rx/tx/interrupt pipe failed"
.It "cdce%d: usb error on rx/tx"
@


1.15
log
@List some devices now supported by cdce(4).
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.14 2008/03/14 15:19:52 sthen Exp $
d30 1
a30 1
.Dd $Mdocdate: March 14 2008 $
d118 1
a118 1
.%O http://www.usb.org/developers/devclass_docs/usbcdc11.pdf
@


1.14
log
@xref cdcef(4). ok mbalmer, jmc
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.13 2007/07/26 08:16:09 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: July 26 2007 $
d49 4
d66 2
@


1.13
log
@updates for:
- supported devices
- DIAGNOSTICS
- SEE ALSO

from Marc Winiger
ok mbalmer
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.12 2007/05/31 19:19:49 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate$
d104 1
@


1.12
log
@convert to new .Dd format;
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.11 2006/09/15 08:36:37 jmc Exp $
d49 2
d60 4
d80 2
a81 5
.It "cdce%d: no union descriptor"
The driver couldn't fetch an interface descriptor from the USB
device.
For a manually added USB vendor/product, the CDCE_NO_UNION flag
can be tried to work around the missing descriptor.
d83 4
a86 2
.It "cdce%d: could not read endpoint descriptor"
.It "cdce%d: unexpected endpoint"
d97 1
a97 1
.It "cdce%d: abort/close rx/tx pipe failed"
d99 1
a99 1
.It "cdce%d: open rx/tx pipe failed"
a114 1
.%O http://tech.prolific.com.tw/visitor/fcabdl.asp?fid=20679530
@


1.11
log
@Morotola -> Motorola ;)
from john danks
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.10 2006/08/30 22:56:05 jmc Exp $
d30 1
a30 1
.Dd July 20, 2004
@


1.10
log
@the start of making .Nd lines more useful for section4;
this diff addresses ethernet devices only

input from nick jsg deraadt, maybe some others
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.9 2006/03/24 23:20:28 dlg Exp $
d51 1
a51 1
Morotola USBNET
@


1.9
log
@update supported device list and sort it while im here.
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.8 2005/10/02 07:58:02 jmc Exp $
d35 1
a35 1
.Nd USB Communication Device Class Ethernet driver
@


1.8
log
@- add some indent to the hardware list
- reduce the amount of blank vertical space in DESCRIPTION and group
the text more logically

ok dhartmei@@
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.7 2005/09/30 20:34:24 jaredy Exp $
d47 1
a47 1
Prolific PL-2501
d49 1
a49 1
Sharp Zaurus
d51 1
a51 1
G.Mate YP3X00
d54 4
@


1.7
log
@deploy .An -nosplit; ok jmc
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.6 2005/09/29 08:12:31 jmc Exp $
d45 1
a45 1
.Bl -bullet -compact
a57 4
.Pp
For more information on configuring this device, see
.Xr ifconfig 8 .
.Pp
a59 1
.Pp
d66 2
@


1.6
log
@-bullet lists require a different format to -tag...
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.5 2005/09/29 01:18:06 deraadt Exp $
d117 1
@


1.5
log
@2 more cdce devices
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.4 2005/05/25 07:54:24 david Exp $
d46 8
a53 4
.It Prolific PL-2501
.It Sharp Zaurus
.It G.Mate YP3X00
.It NetChip EthernetGadget
@


1.4
log
@whitespace
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.3 2004/09/30 19:59:24 mickey Exp $
d46 4
a49 4
.It
Prolific PL-2501
.It
Sharp Zaurus
@


1.3
log
@kill default locators
@
text
@d3 1
a3 1
.\" 
d7 1
a7 1
.\" 
d14 1
a14 1
.\" 
d27 2
a28 2
.\" 
.\" $OpenBSD: cdce.4,v 1.2 2004/07/20 20:38:52 miod Exp $
@


1.2
log
@Use the standard blurb about ifconfig.
@
text
@d28 1
a28 1
.\" $OpenBSD: cdce.4,v 1.1 2004/07/20 20:30:09 dhartmei Exp $
d37 1
a37 1
.Cd "cdce*  at uhub? port ?"
@


1.1
log
@Driver for USB CDC Ethernet devices (USB Host-to-Host), appearing as
network interfaces, transporting Ethernet, supporting Sharp Zaurus and
Prolific PL-2501 (external cable). Written by Craig Boston based on code
from Bill Paul. ok deraadt@@
@
text
@d28 1
a28 1
.\" $OpenBSD$
d54 3
a56 4
An IP address can be assigned using
.Xr ifconfig 8
or
.Xr hostname.if 5
@

