head	1.29;
access;
symbols
	OPENBSD_6_1_BASE:1.29
	OPENBSD_6_0:1.29.0.8
	OPENBSD_6_0_BASE:1.29
	OPENBSD_5_9:1.29.0.2
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.29.0.4
	OPENBSD_5_8_BASE:1.29
	OPENBSD_5_7:1.28.0.4
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.27.0.6
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.27.0.4
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.24.0.2
	OPENBSD_5_4_BASE:1.24
	OPENBSD_5_3:1.22.0.2
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.19.0.6
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.4
	OPENBSD_5_0:1.19.0.2
	OPENBSD_5_0_BASE:1.19
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.13.0.2
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.10.0.2
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.7.0.4
	OPENBSD_4_6_BASE:1.7;
locks; strict;
comment	@.\" @;


1.29
date	2015.03.30.12.35.15;	author jung;	state Exp;
branches;
next	1.28;
commitid	fOkKTtv2viXuhhCH;

1.28
date	2015.02.06.23.46.30;	author sthen;	state Exp;
branches;
next	1.27;
commitid	Kwv0jXC5nM4SsDqt;

1.27
date	2014.02.15.20.28.19;	author tedu;	state Exp;
branches;
next	1.26;

1.26
date	2014.02.15.01.41.16;	author tedu;	state Exp;
branches;
next	1.25;

1.25
date	2013.08.20.13.46.53;	author millert;	state Exp;
branches;
next	1.24;

1.24
date	2013.07.16.16.05.49;	author schwarze;	state Exp;
branches;
next	1.23;

1.23
date	2013.06.02.20.23.33;	author tedu;	state Exp;
branches;
next	1.22;

1.22
date	2013.02.14.07.40.42;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2012.09.17.11.04.24;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2012.08.15.19.17.02;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2011.06.09.14.21.11;	author deraadt;	state Exp;
branches;
next	1.18;

1.18
date	2011.03.16.20.20.44;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2011.01.06.19.47.46;	author damien;	state Exp;
branches;
next	1.16;

1.16
date	2010.12.13.18.45.00;	author damien;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.01.17.59.09;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2010.08.18.18.49.36;	author damien;	state Exp;
branches;
next	1.13;

1.13
date	2010.04.29.09.20.17;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2010.03.28.17.27.10;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2010.03.20.09.18.34;	author damien;	state Exp;
branches;
next	1.10;

1.10
date	2009.11.17.18.07.09;	author damien;	state Exp;
branches;
next	1.9;

1.9
date	2009.10.26.19.01.55;	author damien;	state Exp;
branches;
next	1.8;

1.8
date	2009.09.02.07.00.24;	author jmc;	state Exp;
branches;
next	1.7;

1.7
date	2009.05.23.20.51.00;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2009.05.23.18.03.41;	author jsg;	state Exp;
branches;
next	1.5;

1.5
date	2009.05.20.17.35.17;	author damien;	state Exp;
branches;
next	1.4;

1.4
date	2009.05.11.20.11.54;	author damien;	state Exp;
branches;
next	1.3;

1.3
date	2009.03.26.19.52.51;	author damien;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.24.18.58.13;	author damien;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.23.21.53.58;	author damien;	state Exp;
branches;
next	;


desc
@@


1.29
log
@update tp-link dongle entry and specifiy the hardware version

ok stsp@@
@
text
@.\" $OpenBSD: otus.4,v 1.28 2015/02/06 23:46:30 sthen Exp $
.\"
.\" Copyright (c) 2009 Damien Bergamini <damien.bergamini@@free.fr>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: February 6 2015 $
.Dt OTUS 4
.Os
.Sh NAME
.Nm otus
.Nd Atheros USB IEEE 802.11a/b/g/n wireless network device
.Sh SYNOPSIS
.Cd "otus* at uhub? port ?"
.Sh DESCRIPTION
The
.Nm
driver supports USB 2.0 wireless network devices based on Atheros
Communications AR9001U chipset.
.Pp
The AR9001U chipset is made of an AR9170 MAC/Baseband
and an AR9101 (1T2R), AR9102 (2T2R) or AR9104 (dual-band 2T2R)
Radio.
.Pp
These are the modes the
.Nm
driver can operate in:
.Bl -tag -width "IBSS-masterXX"
.It BSS mode
Also known as
.Em infrastructure
mode, this is used when associating with an access point, through
which all traffic passes.
This mode is the default.
.It monitor mode
In this mode the driver is able to receive packets without
associating with an access point.
This disables the internal receive filter and enables the card to
capture packets from networks which it wouldn't normally have access to,
or to scan for access points.
.El
.Pp
The
.Nm
driver can be configured to use
Wired Equivalent Privacy (WEP) or
Wi-Fi Protected Access (WPA-PSK and WPA2-PSK).
WPA is the current encryption standard for wireless networks.
It is strongly recommended that WEP
not be used as the sole mechanism
to secure wireless communication,
due to serious weaknesses in it.
.Pp
The
.Nm
driver can be configured at runtime with
.Xr ifconfig 8
or on boot with
.Xr hostname.if 5 .
.Sh FILES
The driver needs at least version 1.0 of the following firmware files,
which are loaded when an interface is attached:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It /etc/firmware/otus-init
.It /etc/firmware/otus-main
.El
.Pp
Although these firmware files are freely redistributable, their usage
is restricted.
A prepackaged version of the firmware can be installed using
.Xr fw_update 1 .
.Sh HARDWARE
The following adapters should work:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It 3Com 3CRUSBN275
.It Arcadyan WN7512
.\" .It AVM FRITZ!WLAN USB Stick N
.It CACE AirPcap \&Nx
.It D-Link DWA-130 rev \&D1
.It D-Link DWA-160 rev A1
.It D-Link DWA-160 rev A2
.It IO-Data WN-GDN/US2
.It NEC Aterm WL300NU-G
.It Netgear WNDA3100
.It Netgear WN111 v2
.It Planex GW-US300
.It SMC Networks SMCWUSB-N2
.It TP-Link TL-WN821N v1, v2
.It Ubiquiti SR71 USB
.It Unex DNUA-81
.It Z-Com UB81
.It Z-Com UB82
.It ZyXEL NWD-271N
.El
.Sh EXAMPLES
The following example scans for available networks:
.Pp
.Dl # ifconfig otus0 scan
.Pp
The following
.Xr hostname.if 5
example configures otus0 to join network
.Dq mynwid ,
using WPA key
.Dq mywpakey ,
obtaining an IP address using DHCP:
.Bd -literal -offset indent
nwid mynwid
wpakey mywpakey
dhcp
.Ed
.Sh DIAGNOSTICS
.Bl -diag
.It "otus0: error N, could not read firmware ..."
For some reason, the driver was unable to read the microcode file from the
filesystem.
The file might be missing or corrupted.
.It "otus0: device timeout"
A frame dispatched to the hardware for transmission did not complete in time.
The driver will reset the hardware.
This should not happen.
.El
.Sh SEE ALSO
.Xr arp 4 ,
.Xr ifmedia 4 ,
.Xr intro 4 ,
.Xr netintro 4 ,
.Xr usb 4 ,
.Xr hostname.if 5 ,
.Xr ifconfig 8
.Sh HISTORY
The
.Nm
driver first appeared in
.Ox 4.6 .
.Sh AUTHORS
The
.Nm
driver was written by
.An Damien Bergamini Aq Mt damien.bergamini@@free.fr
based on source code licensed under the ISC released in 2008 by Atheros
Communications for Linux.
.Sh CAVEATS
The AVM FRITZ!WLAN USB Stick N adapter is currently not supported.
.Pp
The
.Nm
driver does not support any of the 802.11n capabilities offered by the
AR9001U chipset.
Additional work is required in
.Xr ieee80211 9
before those features can be supported.
@


1.28
log
@Make it obvious that wireless ethernet adapters supporting 802.11g also
support 802.11b.  Extended from a diff by dlg, stsp agrees.
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.27 2014/02/15 20:28:19 tedu Exp $
d17 1
a17 1
.Dd $Mdocdate: February 15 2014 $
d100 1
a100 1
.It TP-Link TL-WN821N
@


1.27
log
@jmc notes that the previous commit made for some funny wording.
WPA is the current standard, but not the only one. ok krw
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.26 2014/02/15 01:41:16 tedu Exp $
d22 1
a22 1
.Nd Atheros USB IEEE 802.11a/g/n wireless network device
@


1.26
log
@WPA is a real standard, not only a de facto one.
(these man pages do like their copy and paste.)
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.25 2013/08/20 13:46:53 millert Exp $
d17 1
a17 1
.Dd $Mdocdate: August 20 2013 $
d58 1
a58 1
WPA is the encryption standard for wireless networks.
@


1.25
log
@Update Damien Bergamini's email address, as requested.
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.24 2013/07/16 16:05:49 schwarze Exp $
d17 1
a17 1
.Dd $Mdocdate: July 16 2013 $
d58 1
a58 1
WPA is the de facto encryption standard for wireless networks.
@


1.24
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.23 2013/06/02 20:23:33 tedu Exp $
d17 1
a17 1
.Dd $Mdocdate: June 2 2013 $
d152 1
a152 1
.An Damien Bergamini Aq Mt damien@@openbsd.org
@


1.23
log
@change format strings in error messages to reasonable values more likely
to be understood by people who don't program in C.
ok everyone
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.22 2013/02/14 07:40:42 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: February 14 2013 $
d152 1
a152 1
.An Damien Bergamini Aq damien@@openbsd.org
@


1.22
log
@rework EXAMPLES somewhat, and remove the obsolete NONE NONE NONE dhcp
stuff; ok krw
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.21 2012/09/17 11:04:24 sthen Exp $
d17 1
a17 1
.Dd $Mdocdate: September 17 2012 $
d126 1
a126 1
.It "otus%d: error %d, could not read firmware %s"
d130 1
a130 1
.It "otus%d: device timeout"
@


1.21
log
@Update wording for device firmware to talk update fw_update(1).
Noticed by jcs, discussed with jmc, ok jmc ajacoutot dcoppa deraadt
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.20 2012/08/15 19:17:02 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: August 15 2012 $
d108 4
d114 5
a118 18
example configures otus0 to join whatever network is available on boot,
using WEP key
.Dq 0x1deadbeef1 ,
channel 11, obtaining an IP address using DHCP:
.Bd -literal -offset indent
dhcp NONE NONE NONE nwkey 0x1deadbeef1 chan 11
.Ed
.Pp
Configure otus0 to join network
.Dq my_net
using WPA with passphrase
.Dq my_passphrase :
.Bd -literal -offset indent
# ifconfig otus0 nwid my_net wpakey my_passphrase
.Ed
.Pp
Join an existing BSS network,
.Dq my_net :
d120 3
a122 1
# ifconfig otus0 192.168.1.1 netmask 0xffffff00 nwid my_net
@


1.20
log
@use Lk for links;
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.19 2011/06/09 14:21:11 deraadt Exp $
d17 1
a17 1
.Dd $Mdocdate: June 9 2011 $
d81 2
a82 4
A prepackaged version of the firmware, designed to be used with
.Xr pkg_add 1 ,
can be found at
.Lk http://firmware.openbsd.org/firmware/otus-firmware-1.0.tgz
@


1.19
log
@firmwares move to a new url, backed by many addresses
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.18 2011/03/16 20:20:44 deraadt Exp $
d17 1
a17 1
.Dd $Mdocdate: March 16 2011 $
d83 2
a84 4
can be found at:
.Bd -literal -offset 3n
http://firmware.openbsd.org/firmware/otus-firmware-1.0.tgz
.Ed
@


1.18
log
@anthonyjbentley@@gmail.com has a SMC Networks SMCWUSB-N2
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.17 2011/01/06 19:47:46 damien Exp $
d17 1
a17 1
.Dd $Mdocdate: January 6 2011 $
d85 1
a85 1
http://damien.bergamini.free.fr/packages/openbsd/otus-firmware-1.0.tgz
@


1.17
log
@Remove dead links.
Atheros have reworked their website.
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.16 2010/12/13 18:45:00 damien Exp $
d17 1
a17 1
.Dd $Mdocdate: December 13 2010 $
d103 1
@


1.16
log
@the 3Com 3CRUSBN275 is an otus(4).
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.15 2010/11/01 17:59:09 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: November 1 2010 $
a152 3
.Pp
Atheros Communications AR9001U-2NX/AR9001U-2NG/AR9001U-NG:
.Pa http://www.atheros.com/pt/bulletins/AR9001USBBulletin.pdf
@


1.15
log
@- switch from wpapsk to wpakey
- remove the "return device to default settings" example, which theo says
is rubbish

ok deraadt
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.14 2010/08/18 18:49:36 damien Exp $
d17 1
a17 1
.Dd $Mdocdate: August 18 2010 $
d91 1
@


1.14
log
@.It CACE AirPcap Nx
>
.It CACE AirPcap \&Nx

such that it does not show up as "CACE AirPcap NetBSD" !
not sure why this only happens with mandoc
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.13 2010/04/29 09:20:17 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: April 29 2010 $
d122 1
a122 1
using WPA-PSK with passphrase
d125 1
a125 8
# ifconfig otus0 nwid my_net wpa wpapsk \e
	`wpa-psk my_net my_passphrase`
.Ed
.Pp
Return otus0 to its default settings:
.Bd -literal -offset indent
# ifconfig otus0 -bssid -chan media autoselect \e
	nwid "" -nwkey -wpa -wpapsk
d151 1
a151 2
.Xr ifconfig 8 ,
.Xr wpa-psk 8
@


1.13
log
@crikey! all our wireless pages had the Os macro out of place;
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.12 2010/03/28 17:27:10 jasper Exp $
d17 1
a17 1
.Dd $Mdocdate: March 28 2010 $
d93 1
a93 1
.It CACE AirPcap Nx
@


1.12
log
@- tweak the way firmware links are displayed

with and ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.11 2010/03/20 09:18:34 damien Exp $
d17 2
a18 1
.Dd $Mdocdate: March 20 2010 $
a19 1
.Dt OTUS 4
@


1.11
log
@NEC Aterm WL300NU-G
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.10 2009/11/17 18:07:09 damien Exp $
d17 1
a17 1
.Dd $Mdocdate: November 17 2009 $
d84 3
a86 2
.Pp
.Pa http://damien.bergamini.free.fr/packages/openbsd/otus-firmware-1.0.tgz
@


1.10
log
@the D-Link DWA-160 rev A2 is an otus(4) too.
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.9 2009/10/26 19:01:55 damien Exp $
d17 1
a17 1
.Dd $Mdocdate: October 26 2009 $
d97 1
@


1.9
log
@s/Draft-N/n/
remove 'b' if 'g' is supported since 'g' => 'b'.
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.8 2009/09/02 07:00:24 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: September 2 2009 $
d95 1
@


1.8
log
@the `W' in WEP apparently stands for wired, not wireless;
from Scott Radvan
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.7 2009/05/23 20:51:00 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: May 23 2009 $
d22 1
a22 1
.Nd Atheros USB IEEE 802.11a/b/g/Draft-N wireless network device
@


1.7
log
@best to escape `D1', since the groff beast thinks it a macro;
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.6 2009/05/23 18:03:41 jsg Exp $
d56 1
a56 1
Wireless Equivalent Privacy (WEP) or
@


1.6
log
@match on D-Link DWA-130 rev D1
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.5 2009/05/20 17:35:17 damien Exp $
d17 1
a17 1
.Dd $Mdocdate: May 20 2009 $
d93 1
a93 1
.It D-Link DWA-130 rev D1
@


1.5
log
@remove the AVM FRITZ!WLAN USB Stick N from the list of supported devices
and add a note to the CAVEAT section that it is not supported yet.
this device seems to have a large boot code (because of the auto-installer?)
that gets overwritten by the Phase 1 firmware (used for Tx power regulation).
to support this device we will probably need to do power regulation in the
driver and to use the 1-step firmware instead (or to load the Phase 1
firmware at a higher address if possible).
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.4 2009/05/11 20:11:54 damien Exp $
d17 1
a17 1
.Dd $Mdocdate: May 11 2009 $
d93 2
a94 1
.It D-Link DWA-160A
@


1.4
log
@attach to more shits.
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.3 2009/03/26 19:52:51 damien Exp $
d17 1
a17 1
.Dd $Mdocdate: March 26 2009 $
d91 1
a91 1
.It AVM FRITZ!WLAN USB Stick N
d172 2
@


1.3
log
@attach CACE AirPcap Nx.
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.2 2009/03/24 18:58:13 damien Exp $
d17 1
a17 1
.Dd $Mdocdate: March 24 2009 $
d100 1
d103 1
@


1.2
log
@AR9101 is MIMO 1x2, not 1x1.
@
text
@d1 1
a1 1
.\" $OpenBSD: otus.4,v 1.1 2009/03/23 21:53:58 damien Exp $
d17 1
a17 1
.Dd $Mdocdate: March 23 2009 $
d92 1
@


1.1
log
@otus(4), a driver for Atheros AR9001U USB IEEE 802.11 devices.
more work is required but basic operations work.
requires a non-free firmware to operate.

partly based on source code released under the ISC by Atheros
Communications for Linux, although I had to rewrite almost everything
(actually I only used some .h files from the Atheros driver.)
there also exists a rewrite of the Atheros driver for Linux (ar9170)
but the guy decided to make the code less free by wrapping the GPL
around the ISC.

committed over a NETGEAR WNDA3100.

ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD$
d17 1
a17 1
.Dd $Mdocdate$
d32 1
a32 1
and an AR9101 (1T1R), AR9102 (2T2R) or AR9104 (dual-band 2T2R)
@

