head	1.48;
access;
symbols
	OPENBSD_6_2:1.48.0.12
	OPENBSD_6_2_BASE:1.48
	OPENBSD_6_1:1.48.0.16
	OPENBSD_6_1_BASE:1.48
	OPENBSD_6_0:1.48.0.14
	OPENBSD_6_0_BASE:1.48
	OPENBSD_5_9:1.48.0.2
	OPENBSD_5_9_BASE:1.48
	OPENBSD_5_8:1.48.0.10
	OPENBSD_5_8_BASE:1.48
	OPENBSD_5_7:1.48.0.8
	OPENBSD_5_7_BASE:1.48
	OPENBSD_5_6:1.48.0.6
	OPENBSD_5_6_BASE:1.48
	OPENBSD_5_5:1.48.0.4
	OPENBSD_5_5_BASE:1.48
	OPENBSD_5_4:1.47.0.2
	OPENBSD_5_4_BASE:1.47
	OPENBSD_5_3:1.43.0.8
	OPENBSD_5_3_BASE:1.43
	OPENBSD_5_2:1.43.0.6
	OPENBSD_5_2_BASE:1.43
	OPENBSD_5_1_BASE:1.43
	OPENBSD_5_1:1.43.0.4
	OPENBSD_5_0:1.43.0.2
	OPENBSD_5_0_BASE:1.43
	OPENBSD_4_9:1.42.0.10
	OPENBSD_4_9_BASE:1.42
	OPENBSD_4_8:1.42.0.8
	OPENBSD_4_8_BASE:1.42
	OPENBSD_4_7:1.42.0.4
	OPENBSD_4_7_BASE:1.42
	OPENBSD_4_6:1.42.0.6
	OPENBSD_4_6_BASE:1.42
	OPENBSD_4_5:1.42.0.2
	OPENBSD_4_5_BASE:1.42
	OPENBSD_4_4:1.41.0.6
	OPENBSD_4_4_BASE:1.41
	OPENBSD_4_3:1.41.0.4
	OPENBSD_4_3_BASE:1.41
	OPENBSD_4_2:1.41.0.2
	OPENBSD_4_2_BASE:1.41
	OPENBSD_4_1:1.40.0.2
	OPENBSD_4_1_BASE:1.40
	OPENBSD_4_0:1.39.0.2
	OPENBSD_4_0_BASE:1.39
	OPENBSD_3_9:1.38.0.4
	OPENBSD_3_9_BASE:1.38
	OPENBSD_3_8:1.38.0.2
	OPENBSD_3_8_BASE:1.38
	OPENBSD_3_7:1.36.0.2
	OPENBSD_3_7_BASE:1.36
	OPENBSD_3_6:1.32.0.2
	OPENBSD_3_6_BASE:1.32
	OPENBSD_3_5:1.30.0.2
	OPENBSD_3_5_BASE:1.30
	OPENBSD_3_4:1.28.0.2
	OPENBSD_3_4_BASE:1.28
	OPENBSD_3_3:1.26.0.2
	OPENBSD_3_3_BASE:1.26
	OPENBSD_3_2:1.25.0.2
	OPENBSD_3_2_BASE:1.25
	OPENBSD_3_1:1.22.0.4
	OPENBSD_3_1_BASE:1.22
	OPENBSD_3_0:1.22.0.2
	OPENBSD_3_0_BASE:1.22
	OPENBSD_2_9:1.21.0.2
	OPENBSD_2_9_BASE:1.21
	OPENBSD_2_8:1.19.0.2
	OPENBSD_2_8_BASE:1.19
	OPENBSD_2_7:1.15.0.2
	OPENBSD_2_7_BASE:1.15
	OPENBSD_2_6:1.14.0.2
	OPENBSD_2_6_BASE:1.14
	OPENBSD_2_5:1.8.0.2
	OPENBSD_2_5_BASE:1.8
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4;
locks; strict;
comment	@.\" @;


1.48
date	2013.08.14.06.32.35;	author jmc;	state Exp;
branches;
next	1.47;

1.47
date	2013.07.16.16.05.49;	author schwarze;	state Exp;
branches;
next	1.46;

1.46
date	2013.06.02.20.28.26;	author tedu;	state Exp;
branches;
next	1.45;

1.45
date	2013.06.02.20.23.34;	author tedu;	state Exp;
branches;
next	1.44;

1.44
date	2013.03.30.05.34.53;	author brad;	state Exp;
branches;
next	1.43;

1.43
date	2011.07.08.19.00.08;	author stsp;	state Exp;
branches;
next	1.42;

1.42
date	2008.09.07.06.55.34;	author jmc;	state Exp;
branches;
next	1.41;

1.41
date	2007.05.31.19.19.53;	author jmc;	state Exp;
branches;
next	1.40;

1.40
date	2006.11.07.02.06.34;	author brad;	state Exp;
branches;
next	1.39;

1.39
date	2006.08.30.22.56.05;	author jmc;	state Exp;
branches;
next	1.38;

1.38
date	2005.07.12.07.47.40;	author jmc;	state Exp;
branches;
next	1.37;

1.37
date	2005.07.02.23.42.50;	author brad;	state Exp;
branches;
next	1.36;

1.36
date	2005.03.12.10.32.40;	author jmc;	state Exp;
branches;
next	1.35;

1.35
date	2005.02.05.23.58.17;	author jsg;	state Exp;
branches;
next	1.34;

1.34
date	2005.02.05.04.39.54;	author brad;	state Exp;
branches;
next	1.33;

1.33
date	2004.09.30.19.59.26;	author mickey;	state Exp;
branches;
next	1.32;

1.32
date	2004.07.19.21.07.12;	author jmc;	state Exp;
branches;
next	1.31;

1.31
date	2004.07.16.06.08.05;	author deraadt;	state Exp;
branches;
next	1.30;

1.30
date	2003.12.23.14.04.18;	author mickey;	state Exp;
branches;
next	1.29;

1.29
date	2003.11.09.16.06.07;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2003.05.05.13.51.58;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2003.04.11.04.32.28;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2003.01.13.17.25.08;	author henning;	state Exp;
branches;
next	1.25;

1.25
date	2002.09.26.22.09.53;	author miod;	state Exp;
branches;
next	1.24;

1.24
date	2002.09.26.07.55.41;	author miod;	state Exp;
branches;
next	1.23;

1.23
date	2002.06.08.23.40.53;	author aaron;	state Exp;
branches;
next	1.22;

1.22
date	2001.06.22.12.15.48;	author mpech;	state Exp;
branches;
next	1.21;

1.21
date	2001.03.01.16.11.20;	author aaron;	state Exp;
branches;
next	1.20;

1.20
date	2000.11.10.20.02.17;	author todd;	state Exp;
branches;
next	1.19;

1.19
date	2000.10.18.02.38.24;	author aaron;	state Exp;
branches;
next	1.18;

1.18
date	2000.09.29.05.33.37;	author aaron;	state Exp;
branches;
next	1.17;

1.17
date	2000.09.17.01.14.11;	author aaron;	state Exp;
branches;
next	1.16;

1.16
date	2000.09.17.00.55.14;	author aaron;	state Exp;
branches;
next	1.15;

1.15
date	2000.04.14.20.15.17;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	99.08.04.17.18.45;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	99.08.04.14.02.56;	author jason;	state Exp;
branches;
next	1.12;

1.12
date	99.07.09.13.35.48;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	99.07.08.22.40.48;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	99.07.08.18.02.22;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	99.05.26.02.34.12;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	99.03.15.15.54.47;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	99.03.10.23.17.34;	author jason;	state Exp;
branches;
next	1.6;

1.6
date	99.02.27.19.50.35;	author jason;	state Exp;
branches;
next	1.5;

1.5
date	98.12.22.22.30.42;	author jason;	state Exp;
branches;
next	1.4;

1.4
date	98.10.09.00.15.35;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	98.09.27.20.47.13;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	98.09.09.22.20.39;	author jason;	state Exp;
branches;
next	1.1;

1.1
date	98.09.09.22.10.58;	author jason;	state Exp;
branches;
next	;


desc
@@


1.48
log
@no longer any need to quote macro lines with >9 args;
From: Jan Stary
@
text
@.\"	$OpenBSD: xl.4,v 1.47 2013/07/16 16:05:49 schwarze Exp $
.\"
.\" Copyright (c) 1997, 1998
.\"     Bill Paul <wpaul@@ctr.columbia.edu>. All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"     This product includes software developed by Bill Paul.
.\" 4. Neither the name of the author nor the names of any co-contributors
.\"    may be used to endorse or promote products derived from this software
.\"   without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY Bill Paul AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL Bill Paul OR THE VOICES IN HIS HEAD
.\" BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
.\" CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
.\" SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
.\" INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
.\" CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
.\" ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
.\" THE POSSIBILITY OF SUCH DAMAGE.
.\"
.\"     $FreeBSD: xl.4,v 1.1 1998/08/16 17:19:58 wpaul Exp $
.\"
.Dd $Mdocdate: July 16 2013 $
.Dt XL 4
.Os
.Sh NAME
.Nm xl
.Nd 3Com EtherLink XL and Fast EtherLink XL 10/100 Ethernet device
.Sh SYNOPSIS
.Cd "xl* at pci?"
.Cd "xl* at cardbus?"
.Cd "amphy* at mii?"
.Cd "bmtphy* at mii?"
.Cd "exphy* at mii?"
.Cd "nsphy* at mii?"
.Cd "tqphy* at mii?"
.Sh DESCRIPTION
The
.Nm
device driver supports the 3Com EtherLink XL and Fast EtherLink XL family
of Ethernet cards, and embedded controllers based on the 3Com
.Dq boomerang
and
.Dq cyclone
bus master EtherLink XL chips.
This includes, among others, the following models:
.Pp
.Bl -tag -width 3CXXXXX -offset indent -compact
.It 3C555
EtherLink XL Mini PCI
.It 3C556
EtherLink XL Mini PCI
.It 3C556B
EtherLink XL Mini PCI
.It 3C575
10/100 LAN CardBus PC Card
.It 3C656
10/100 LAN+Modem CardBus PC Card
.It 3C900
EtherLink XL PCI
.It 3C900B
EtherLink XL PCI
.It 3C905
Fast EtherLink XL PCI
.It 3C905B
Fast EtherLink XL PCI
.It 3C905C
Fast EtherLink XL PCI
.It 3C980
Fast EtherLink Server NIC
.It 3CSOHO
OfficeConnect Fast Ethernet NIC
.It 9201
NVIDIA nForce2 integrated 3Com 9201 (nForce2-ST, nForce2-GT)
.It 920BEMB
3c920B-EMB-WNM Integrated Fast Ethernet.
.El
.Pp
Category 3, 4 or 5 unshielded twisted-pair (UTP) cable should be used for
RJ-45 (10baseT), thick Ethernet coaxial (RG59 B/U, 50 ohm) for AUI/DIX,
and thin Ethernet coaxial (RG58 A/U or C/U, 50 ohm +/- 4) for BNC (10base2).
Some 3Com NICs also support MII connectors (switchable 10/100Mbps UTP).
The 3C905B-FX and other similar cards are capable of 100Mbps over fiber.
.Pp
Hardware receive IP/TCP/UDP checksum offload for IPv4 is supported on the 3C905B.
.Pp
The
.Nm
driver additionally supports Wake on LAN (WoL).
See
.Xr arp 8
and
.Xr ifconfig 8
for more details.
.Pp
The following media types and options (as given to
.Xr ifconfig 8 )
are supported:
.Bl -tag -width xxx -offset indent
.It Cm media No autoselect
Enable autoselection of media type and options.
Note that this media type is only available with
adapters that have external PHYs or built-in autonegotiation logic.
For 3C900 and 3C900B adapters, the driver
will choose the mode specified in the EEPROM.
This can be changed by adding media options to the appropriate
.Xr hostname.if 5
file.
.It Cm media No 100baseFX Cm mediaopt No full-duplex
For those cards that support it, force full-duplex 100Mbps operation over fiber.
.It Cm media No 100baseFX Cm mediaopt No half-duplex
For those cards that support it, force half-duplex 100Mbps operation over fiber.
.It Cm media No 100baseTX Cm mediaopt No full-duplex
Set 100Mbps (Fast Ethernet) operation and force full-duplex mode.
.It Cm media No 100baseTX Cm mediaopt No half-duplex
Set 100Mbps (Fast Ethernet) operation and force half-duplex mode.
.It Cm media No 10baseT Cm mediaopt No full-duplex
Set 10baseT (UTP) operation and force full-duplex mode.
.It Cm media No 10baseT Cm mediaopt No half-duplex
Set 10baseT (UTP) operation and force half-duplex mode.
.It Cm media No 10base5
Set 10base5 (thick-net) operation (half-duplex only).
.It Cm media No 10base2
Set 10base2 (thin-net) operation (half-duplex only).
.El
.Pp
For more information on configuring this device, see
.Xr ifconfig 8 .
To view a list of media types and options supported by this card try
.Ic ifconfig <device> media .
For example,
.Ic ifconfig xl0 media .
.Sh DIAGNOSTICS
.Bl -diag
.It "xl0: couldn't map memory"
A fatal initialization error has occurred.
.It "xl0: couldn't map interrupt"
A fatal initialization error has occurred.
.It "xl0: device timeout"
The device has stopped responding to the network, or there is a problem with
the network connection (cable).
.It "xl0: no memory for rx list"
The driver failed to allocate an mbuf for the receiver ring.
.It "xl0: no memory for tx list"
The driver failed to allocate an mbuf for the transmitter ring when
allocating a pad buffer or collapsing an mbuf chain into a cluster.
.It "xl0: command never completed!"
Some commands issued to the 3C90x ASIC take time to complete: the
driver is supposed to wait until the
.Dq command in progress
bit in the status register clears before continuing.
In some instances, this bit may not clear.
To avoid getting caught in an infinite wait loop,
the driver only polls the bit a finite number of times before
giving up, at which point it issues this message.
This message may be printed during driver initialization on slower machines.
If this message appears but the driver continues to function normally, the
message can probably be ignored.
.It "xl0: WARNING: no media options bits set in the media options register!"
This warning may appear when using the driver on some Dell Latitude
docking stations with built-in 3C905-TX adapters.
For whatever the reason, the
.Dq MII available
bit in the media options register on
this particular equipment is not set, even though it should be (the
3C905-TX always uses an external PHY transceiver).
The driver will
attempt to guess the proper media type based on the PCI device ID word.
The driver makes a lot of noise about this condition because
the author considers it a manufacturing defect.
.El
.Sh SEE ALSO
.Xr amphy 4 ,
.Xr arp 4 ,
.Xr bmtphy 4 ,
.Xr cardbus 4 ,
.Xr exphy 4 ,
.Xr ifmedia 4 ,
.Xr intro 4 ,
.Xr netintro 4 ,
.Xr nsphy 4 ,
.Xr tqphy 4 ,
.Xr hostname.if 5 ,
.Xr ifconfig 8
.Sh HISTORY
The
.Nm
device driver first appeared in
.Fx 3.0 .
.Ox
support was added in
.Ox 2.4 .
.Sh AUTHORS
The
.Nm
driver was written by
.An Bill Paul Aq Mt wpaul@@ctr.columbia.edu .
@


1.47
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.46 2013/06/02 20:28:26 tedu Exp $
d35 1
a35 1
.Dd $Mdocdate: June 2 2013 $
d40 1
a40 1
.Nd "3Com EtherLink XL and Fast EtherLink XL 10/100 Ethernet device"
@


1.46
log
@remove obsolete note about D3 power state. this diagnostic is not present
in any of these drivers
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.45 2013/06/02 20:23:34 tedu Exp $
d209 1
a209 1
.An Bill Paul Aq wpaul@@ctr.columbia.edu .
@


1.45
log
@change format strings in error messages to reasonable values more likely
to be understood by people who don't program in C.
ok everyone
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.44 2013/03/30 05:34:53 brad Exp $
d35 1
a35 1
.Dd $Mdocdate: March 30 2013 $
a170 20
.It "xl0: chip is in D3 power state -- setting to D0"
This message applies only to 3C905B adapters, which support power management.
Some operating systems place the 3C905B in low power
mode when shutting down, and some PCI BIOSes fail to bring the chip
out of this state before configuring it.
The 3C905B loses all of its PCI configuration in the D3 state, so if the
BIOS does not set it back to full power mode in time,
it won't be able to configure it correctly.
The driver tries to detect this condition and bring
the adapter back to the D0 (full power) state, but this may not be
enough to return the driver to a fully operational condition.
If this message appears at boot time and the driver fails to attach
the device as a network interface, a second warm boot will have to be
performed to have the device properly configured.
.Pp
Note that this condition only occurs when warm booting from another
operating system.
If the system is powered down prior to booting
.Ox ,
the card should be configured correctly.
@


1.44
log
@Remove mentioning specific systems with embedded Ethernet chipsets or
LOM in vge(4) which is pretty vague and common to many Ethernet chipsets.

ok kettenis@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.43 2011/07/08 19:00:08 stsp Exp $
d35 1
a35 1
.Dd $Mdocdate: July 8 2011 $
d147 1
a147 1
.It "xl%d: couldn't map memory"
d149 1
a149 1
.It "xl%d: couldn't map interrupt"
d151 1
a151 1
.It "xl%d: device timeout"
d154 1
a154 1
.It "xl%d: no memory for rx list"
d156 1
a156 1
.It "xl%d: no memory for tx list"
d159 1
a159 1
.It "xl%d: command never completed!"
d171 1
a171 1
.It "xl%d: chip is in D3 power state -- setting to D0"
d191 1
a191 1
.It "xl%d: WARNING: no media options bits set in the media options register!"
@


1.43
log
@xl(4) now supports WoL.
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.42 2008/09/07 06:55:34 jmc Exp $
d35 1
a35 1
.Dd $Mdocdate: September 7 2008 $
a89 4
.Pp
It also supports embedded 3C905-TX and 3C905B-TX Ethernet hardware found
in certain Dell OptiPlex and Dell Precision desktop machines, as well as
some Dell Latitude laptop docking stations.
@


1.42
log
@(oops, forgot to grep for "ifconfig -M/m")
-Mm now unsupported, use "media" without args;
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.41 2007/05/31 19:19:53 jmc Exp $
d35 1
a35 1
.Dd $Mdocdate: May 31 2007 $
d102 9
@


1.41
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.40 2006/11/07 02:06:34 brad Exp $
d35 1
a35 1
.Dd $Mdocdate$
d137 1
a137 1
.Ic ifconfig -m <device> .
d139 1
a139 1
.Ic ifconfig -m xl0 .
@


1.40
log
@remove a sentence mentioning a particular 3Com adapter and where to
look for support.

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.39 2006/08/30 22:56:05 jmc Exp $
d35 1
a35 1
.Dd August 16, 1998
@


1.39
log
@the start of making .Nd lines more useful for section4;
this diff addresses ethernet devices only

input from nick jsg deraadt, maybe some others
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.38 2005/07/12 07:47:40 jmc Exp $
a99 4
.Pp
The 3C985 series of Gigabit cards are supported by the
.Xr ti 4
driver.
@


1.38
log
@remove the maze of "other cards by this vendor are supported by so and so
driver": it is difficult to maintain, as evidenced by a mail from mike
belopuhov on tech@@, and not amazingly useful;

take out the Xrefs from SEE ALSO too;
if you want this info, `man -k' is the way to go;

idea and ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.37 2005/07/02 23:42:50 brad Exp $
d40 1
a40 1
.Nd 3Com EtherLink XL and Fast EtherLink XL Ethernet driver
@


1.37
log
@hardware checkcum in the receive direction only
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.36 2005/03/12 10:32:40 jmc Exp $
a93 8
Other models of 3Com network cards are supported by the
.Xr ec 4 ,
.Xr eg 4 ,
.Xr el 4 ,
.Xr ep 4 ,
and
.Xr ie 4
drivers.
a207 4
.Xr ec 4 ,
.Xr eg 4 ,
.Xr el 4 ,
.Xr ep 4 ,
a208 1
.Xr ie 4 ,
a212 1
.Xr ti 4 ,
@


1.36
log
@mini-PCI/MiniPCI -> Mini PCI
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.35 2005/02/05 23:58:17 jsg Exp $
d113 1
a113 1
Hardware TCP/IP checksum offloading for IPv4 is supported on the 3C905B.
@


1.35
log
@List more phys that attach to these devices.
ok brad@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.34 2005/02/05 04:39:54 brad Exp $
d62 1
a62 1
EtherLink XL MiniPCI
d64 1
a64 1
EtherLink XL MiniPCI
d66 1
a66 1
EtherLink XL MiniPCI
@


1.34
log
@update
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.33 2004/09/30 19:59:26 mickey Exp $
d48 1
d227 1
@


1.33
log
@kill default locators
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.32 2004/07/19 21:07:12 jmc Exp $
d45 1
d213 1
@


1.32
log
@wording from nick@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.31 2004/07/16 06:08:05 deraadt Exp $
d42 5
a46 5
.Cd "xl* at pci? dev ? function ?"
.Cd "xl* at cardbus? dev ? function ?"
.Cd "amphy* at mii? phy ?"
.Cd "exphy* at mii? phy ?"
.Cd "nsphy* at mii? phy ?"
@


1.31
log
@new xl variant (Asus P4R800-VM motherboards)
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.30 2003/12/23 14:04:18 mickey Exp $
d169 1
a169 1
In rare instances, this bit may not clear.
@


1.30
log
@a few commonly used phys
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.29 2003/11/09 16:06:07 jmc Exp $
d58 1
a58 1
.Bl -tag -width 3CXXXX -offset indent -compact
d85 2
@


1.29
log
@remove .Pp's before lists and displays;
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.28 2003/05/05 13:51:58 jmc Exp $
d44 3
d208 1
d215 1
d220 1
@


1.28
log
@corrections from Leandro Costa.

- corrections to tradenames
- updated URLs
- general typos

thanks Leandro!
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.27 2003/04/11 04:32:28 jmc Exp $
a110 1
.Pp
@


1.27
log
@typos;

wscons(4): ok miod@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.26 2003/01/13 17:25:08 henning Exp $
d81 1
a81 1
NVidia nForce2 integrated 3Com 9201 (nForce2-ST, nForce2-GT)
d175 1
a175 1
mode when shutting down, and some PCI BIOSs fail to bring the chip
@


1.26
log
@note 3Com 9201 support here as well
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.25 2002/09/26 22:09:53 miod Exp $
d119 1
a119 1
You can change this by adding media options to the appropriate
d142 1
a142 1
To view a list of media types and options supported by your card try
d170 1
a170 1
If you see this message but the driver continues to function normally, the
d183 3
a185 3
If you see this message at boot time and the driver fails to attach
the device as a network interface, you will have to perform second
warm boot to have the device properly configured.
d189 1
a189 1
If you power down your system prior to booting
d215 1
a216 1
.Xr netintro 4 ,
@


1.25
log
@Second part of the man4 mi cleanup.
- more/better xrefs
- sync .Cd lines with actual configuration files
- intro(4) reference police
- huge usb(4) update
- follow mdoc.samples suggested man page section ordering when necessary
- add netintro(4) and hostname.if(5) xrefs to all ethernet drivers

ok deraadt@@ mickey@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.24 2002/09/26 07:55:41 miod Exp $
d80 2
@


1.24
log
@Incomplete section 4 mi manual page cleanup.
- make configuration lines match GENERIC files
- more Xr (hopefully usefule Xr)
- never mention intro(4) on non-physical devices (i.e. protocols), always
mention it for physical devices
- random text style and quoting fixes
- drivers ported from FreeBSD did mention rc.conf instead of hostname.if as
the place to put mediaopt
- some .Tn UNIX -> .Ox replacements
- etc, etc...

reviewd in part by deraadt@@ (until he got bored of this)
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.23 2002/06/08 23:40:53 aaron Exp $
d204 2
d211 2
d214 1
a214 1
.Xr ifmedia 4 ,
@


1.23
log
@Note support for hardware TCP/IP checksum offloading.
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.22 2001/06/22 12:15:48 mpech Exp $
d118 1
a118 1
.Pa /etc/hostname.xlX
d211 1
@


1.22
log
@o) remove unnecessary .Pp;
o) remove unnecessary .Nm args;
o) closes .Bl;
o) .Sh AUTHOR -> .Sh AUTHORS;
o) sort SEE ALSO;
o) better -mdoc style;
o) typos;

aaron@@ ok.
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.21 2001/03/01 16:11:20 aaron Exp $
d103 2
@


1.21
log
@A slew of share/ man page fixes; nordin@@cse.ogi.edu. These have been sitting
in my INBOX since Nov 6, 2000, probably forgot about them since the tree was
frozen at that time.
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.20 2000/11/10 20:02:17 todd Exp $
d46 1
a46 1
.Nm xl
a141 1
.Pp
@


1.20
log
@.Sh AUTHOR -> AUTHORS, ok aaron@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.19 2000/10/18 02:38:24 aaron Exp $
d155 1
a155 1
The driver fauled to allocate an mbuf for the transmitter ring when
@


1.19
log
@- Arguments to .Nd should go on the same line as .Nd.
- Standardize Nd format for all Ethernet man pages for easy man -k'ing.
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.18 2000/09/29 05:33:37 aaron Exp $
d219 1
a219 1
.Sh AUTHOR
@


1.18
log
@3c555
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.17 2000/09/17 01:14:11 aaron Exp $
d40 1
a40 1
.Nd "3Com EtherLink XL and Fast EtherLink XL Ethernet"
@


1.17
log
@Mention 3C556/3C556B EtherLink XL MiniPCI support, too.
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.16 2000/09/17 00:55:14 aaron Exp $
d56 2
@


1.16
log
@Mention 3C656 support here (just the 3C575+modem).
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.15 2000/04/14 20:15:17 aaron Exp $
d56 4
@


1.15
log
@- Note support for 3c575 CardBus cards.
- Reflect CardBus xl attachment in SYNOPSIS.
- Some cleanup.
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.14 1999/08/04 17:18:45 deraadt Exp $
d58 2
@


1.14
log
@further cleanup
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.13 1999/08/04 14:02:56 jason Exp $
d40 1
a40 1
.Nd "3Com EtherLink XL and Fast EtherLink XL Ethernet (3C9xx)"
d43 1
d52 2
a53 2
bus master EtherLink XL chips. This includes, among
others, the following models:
d56 2
d76 2
a77 2
some Dell Latitude laptop docking stations. Other models of 3Com network
cards are supported by the
d92 1
a92 1
The 3c985 series of gigabit cards are supported by the
d102 6
a107 5
Enable autoselection of media type and options. Note that this media type is
only available with the 3C905 and 3C905B adapters with external PHYs or
built-in autonegotiation logic. For 3C900 and 3C900B adapters, the driver
will choose the mode specified in the EEPROM. You can change this by adding
media options to the appropriate
d151 5
a155 3
driver is supposed to wait until the ``command in progress'' bit in
the status register clears before continuing. In rare instances, this
bit may not clear. To avoid getting caught in an infinite wait loop,
d157 3
a159 3
giving up, at which point it issues this message. This message may
be printed during driver initialization on slower machines. If you
see this message but the driver continues to function normally, the
d162 2
a163 2
This message applies only to 3C905B adapters, which support power
management. Some operating systems place the 3C905B in low power
d165 5
a169 4
out of this state before configuring it. The 3C905B loses all of
its PCI configuration in the D3 state, so if the BIOS does not set
it back to full power mode in time, it won't be able to configure it
correctly. The driver tries to detect this condition and bring
d171 2
a172 2
enough to return the driver to a fully operational condition. If
you see this message at boot time and the driver fails to attach
d177 2
a178 1
operating system. If you power down your system prior to booting
d183 4
a186 2
docking stations with built-in 3C905-TX adapters. For whatever the
reason, the ``MII available'' bit in the media options register on
d188 4
a191 3
3C905-TX always uses an external PHY transceiver). The driver will
attempt to guess the proper media type based on the PCI device ID
word. The driver makes a lot of noise about this condition because
d207 1
a207 2
.Fx 3.0 ,
and
@


1.13
log
@not i386 specific
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.12 1999/07/09 13:35:48 aaron Exp $
d40 1
a40 1
.Nd "3Com EtherLink XL and Fast EtherLink XL Ethernet device driver"
d89 4
d189 1
@


1.12
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.11 1999/07/08 22:40:48 aaron Exp $
d36 1
a36 1
.Dt XL 4 i386
@


1.11
log
@who cares what cards support what options... we'll just list what the *driver*
supports... unreasonable to expect us to know all the details of every card
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.10 1999/07/08 18:02:22 aaron Exp $
d129 1
a129 1
.It "xl%d: couldn't map memory" 
d188 1
a188 1
The 
d192 1
a192 1
and 
d197 1
a197 1
The 
@


1.10
log
@add a few cards to supported models list
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.9 1999/05/26 02:34:12 aaron Exp $
d120 1
a120 2
Note that the 100baseTX media type is only available if supported by the
adapter. For more information on configuring this device, see
d123 1
a123 1
.Dq ifconfig -m <device> .
d125 1
a125 1
.Dq ifconfig -m xl0 .
@


1.9
log
@new 3Com NIC man pages (aka, work no one else wants to do) :-)
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d63 6
@


1.8
log
@abso -> also; mihara@@prd.fc.nec.co.jp
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.7 1999/03/10 23:17:34 jason Exp $
d4 1
a4 1
.\"	Bill Paul <wpaul@@ctr.columbia.edu>. All rights reserved.
d16 1
a16 1
.\"	This product includes software developed by Bill Paul.
d33 1
a33 1
.\"	$FreeBSD: xl.4,v 1.3 1998/12/05 09:36:15 rnordier Exp $
d36 2
a37 2
.Dt XL 4
.Os FreeBSD
d40 1
a40 2
.Nd
3Com Etherlink XL and Fast Etherlink XL ethernet device driver
d45 19
a63 9
.Nm
driver provides support for PCI ethernet adapters and embedded
controllers based on the 3Com "boomerang" and "cyclone" bus-master
Etherlink XL chips. This includes the 3c900-TP, 3c900-COMBO,
3c900B-TP, 3c900B-COMBO, 3c905-TX,
3c905-T4, 3c905B-TP, 3c905B-FX, 3c905B-T4, 3c905B-TX, and embedded 3c905-TX
and 3c905B-TX ethernet hardware in certain Dell Optiplex and Dell
Precision desktop machines and in certain Dell Latitude laptop
docking stations.
d65 7
a71 1
Other models of 3Com hardware are supported by the
a72 1
.Xr ec 4 ,
d74 1
a74 1
.Xr eg 4
d77 17
a93 23
The Etherlink XL chips support built-in 10baseT, 10base2 and 10base5
transceivers as well as an MII bus for externally attached PHY
transceivers. The 3c905 series typically uses a National Semiconductor
NS 83840A 10/100 PHY for 10/100 Mbps support in full or half-duplex.
The 3c905B adapters have built-in autonegotiation logic mapped onto
the MII for compatibility with previous drivers. Fast Etherlink XL
adapters such as the 3c905-TX and 3c905B-TX are capable of 10 or
100Mbps data rates in either full or half duplex and can be manually
configured for any supported mode or automatically negotiate the highest
possible mode with a link partner.  The 3c905B-FX and other similar cards
are capable of 100 Mbps over fiber.
.Pp
The
.Nm
driver supports the following media types:
.Pp
.Bl -tag -width xxxxxxxxxxxxxxxxxxxx
.It autoselect
Enable autoselection of the media type and options. Note that this
option is only available with the 3c905 and 3c905B adapters with
external PHYs or built-in autonegotiation logic. For 3c900 adapters,
the driver will choose the mode specified in the EEPROM. The user can
change this by adding media options to the appropriate
d96 16
a111 20
.It 10baseT/UTP
Set 10Mbps operation. The
.Ar mediaopt
option can also be used to select either
.Ar full-duplex
or
.Ar half-duplex modes.
.It 100baseTX
Set 100Mbps (fast ethernet) operation. The
.Ar mediaopt
option can also be used to select either
.Ar full-duplex
or
.Ar half-duplex modes.
.It 100baseFX
For those cards that support it, set 100 Mbps operation over fiber.
.It 10base5/AUI
Enable AUI transceiver (available only on COMBO cards).
.It 10base2/BNC
Enable BNC coax transceiver (available only on COMBO cards).
d114 7
a120 3
The
.Nm
driver supports the following media options:
a121 11
.Bl -tag -width xxxxxxxxxxxxxxxxxxxx
.It full-duplex
Force full duplex operation
.It half-duplex
Force half duplex operation.
.El
.Pp
Note that the 100baseTX media type is only available if supported
by the adapter.
For more information on configuring this device, see
.Xr ifconfig 8 .
d124 1
a124 1
.It "xl%d: couldn't map memory"
d134 1
a134 1
The driver failed to allocate an mbuf for the transmitter ring when
d137 2
a138 2
Some commands issued to the 3c90x ASIC take time to complete: the
driver is supposed to wait until the 'command in progress' bit in
d141 1
a141 1
the driver only polls the bit for a finite number of times before
d147 4
a150 4
This message applies only to 3c905B adapters, which support power
management. Some operating systems place the 3c905B in low power
mode when shutting down, and some PCI BIOSes fail to bring the chip
out of this state before configuring it. The 3c905B loses all of
d166 2
a167 2
docking stations with built-in 3c905-TX adapters. For whatever the
reason, the 'MII available' bit in the media options register on
d169 1
a169 1
3c905-TX always uses an external PHY transceiver). The driver will
d175 6
a180 2
.Xr arp 4 ,
.Xr netintro 4 , 
d183 1
a183 1
The
d187 1
a187 1
and
d192 1
a192 1
The
@


1.7
log
@FreeBSD vs. OpenBSD-isms (Fx, configuration, etc)
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.6 1999/02/27 19:50:35 jason Exp $
d91 1
a91 1
option can abso be used to select either
d98 1
a98 1
option can abso be used to select either
@


1.6
log
@sync with freebsd:
man page fixups, more devices
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.5 1998/12/22 22:30:42 jason Exp $
d85 3
a87 3
change this by adding media options to the
.Pa /etc/rc.conf
fine.
d165 1
a165 1
.Fx ,
@


1.5
log
@typos; freebsd
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.4 1998/10/09 00:15:35 deraadt Exp $
d33 1
a33 1
.\"	$FreeBSD: xl.4,v 1.1 1998/08/16 17:19:58 wpaul Exp $
d52 2
a53 2
and 3c905B-TX ethernet hardware in certain Dell Optiplex and
Dell Precision desktop machines and in certain Dell Latitude laptop
@


1.4
log
@support 905B-FX cards
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.3 1998/09/27 20:47:13 deraadt Exp $
d49 6
a54 6
Etherlink XL chips.
This includes the 3c900-TP, 3c900-COMBO, 3c900B-TP, 3c900B-COMBO,
3c905-TX, 3c905-T4, 3c905B-TP, 3c905B-FX, 3c905B-T4, 3c905B-TX.
Also supported are embedded 3c905-TX and 3c905B-TX ethernet hardware
in certain Dell Optiplex and Dell Precision desktop machines and
certain Dell Latitude laptop docking stations.
d137 1
a137 1
The driver fauled to allocate an mbuf for the transmitter ring when
d140 1
a140 1
Some commands issued ot the 3c90x ASIC take time to complete: the
@


1.3
log
@Xr these together
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.2 1998/09/09 22:20:39 jason Exp $
d51 4
a54 4
3c905-TX, 3c905-T4, 3c905B-TP, 3c905B-T4 and 3c905B-TX, and embedded
3c905-TX and 3c905B-TX ethernet hardware in certain Dell Optiplex and
Dell Precision desktop machines, and certain Dell Latitude laptop
docking stations.
d72 2
a73 1
possible mode with a link partner.
d102 2
@


1.2
log
@Typos, removed i386 specific reference
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.1 1998/09/09 22:10:58 jason Exp $
d49 13
a61 6
Etherlink XL chips. This includes the 3c900-TP, 3c900-COMBO, 3c900B-TP,
3c900B-COMBO, 3c905-TX,
3c905-T4, 3c905B-TP, 3c905B-T4 and 3c905B-TX, and embedded 3c905-TX
and 3c905B-TX ethernet hardware in certain Dell Optiplex and Dell
Precision desktop machines, and certain Dell Latitude laptop docking
stations.
@


1.1
log
@Moved xl manpage from i386 specific to generic
@
text
@d1 1
a1 1
.\"	$OpenBSD: xl.4,v 1.1 1998/09/09 05:21:22 jason Exp $
d36 1
a36 1
.Dt XL 4 i386
d49 2
a50 1
Etherlink XL chips. This includes the 3c900-TP, 3c900-COMBO, 3c905-TX,
d53 1
a53 1
Precision dexktop machines, and certain Dell Latitude laptop docking
@

