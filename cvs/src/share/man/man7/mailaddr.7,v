head	1.16;
access;
symbols
	OPENBSD_6_1:1.16.0.10
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.16.0.8
	OPENBSD_6_0_BASE:1.16
	OPENBSD_5_9:1.16.0.4
	OPENBSD_5_9_BASE:1.16
	OPENBSD_5_8:1.16.0.6
	OPENBSD_5_8_BASE:1.16
	OPENBSD_5_7:1.16.0.2
	OPENBSD_5_7_BASE:1.16
	OPENBSD_5_6:1.15.0.4
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.14.0.4
	OPENBSD_5_5_BASE:1.14
	OPENBSD_5_4:1.13.0.4
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.11.0.18
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.16
	OPENBSD_5_0:1.11.0.14
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.12
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.11.0.10
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.11.0.6
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.11.0.8
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.4
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.11.0.2
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.10.0.4
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.10.0.2
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.9.0.16
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.14
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.12
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.10
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.8
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.9.0.6
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.9.0.4
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.6.0.8
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.6
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.6.0.4
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.6.0.2
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9:1.5.0.6
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_8:1.5.0.4
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.5.0.2
	OPENBSD_2_7_BASE:1.5
	OPENBSD_2_6:1.4.0.2
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.1.1.1.0.8
	OPENBSD_2_3_BASE:1.1.1.1
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.16
date	2014.09.16.21.11.56;	author jmc;	state Exp;
branches;
next	1.15;
commitid	f2LrtkE1Rnh1W4UN;

1.15
date	2014.03.27.13.15.30;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2013.08.14.08.39.29;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2012.09.26.17.34.38;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2012.08.18.16.25.20;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2008.06.15.21.17.27;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2007.05.31.19.19.58;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2003.08.08.09.51.54;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2003.06.06.13.44.29;	author jmc;	state Exp;
branches;
next	1.7;

1.7
date	2003.06.02.23.30.15;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	2001.10.04.16.56.52;	author mpech;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.19.19.25.34;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.05.23.14.11.09;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	98.11.28.03.38.02;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	98.09.07.16.44.37;	author aaron;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.44.39;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.44.39;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.16
log
@no need to Xr sendmail here;
@
text
@.\"	$OpenBSD: mailaddr.7,v 1.15 2014/03/27 13:15:30 jmc Exp $
.\"	$NetBSD: mailaddr.7,v 1.3 1994/11/30 19:07:17 jtc Exp $
.\"
.\" Copyright (c) 1983, 1987, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @@(#)mailaddr.7	8.1 (Berkeley) 6/16/93
.\"
.Dd $Mdocdate: March 27 2014 $
.Dt MAILADDR 7
.Os
.Sh NAME
.Nm mailaddr
.Nd mail addressing description
.Sh DESCRIPTION
Mail addresses are based on the Internet protocol listed at the end of this
manual page.
These addresses are in the general format
.Pp
.Dl user@@domain
.Pp
where a domain is a hierarchical dot separated list of subdomains.
For example, a valid address is:
.Pp
.Dl eric@@CS.Berkeley.EDU
.Pp
Unlike some other forms of addressing, domains do not imply any routing.
Thus, although this address is specified as an Internet address, it might
travel by an alternate route if that were more convenient or efficient.
For example, at Berkeley, the associated message would probably go directly
to CS over the Ethernet rather than going via the Berkeley Internet
gateway.
.Ss Abbreviation
Under certain circumstances it may not be necessary to type the entire
domain name.
In general, anything following the first dot may be omitted
if it is the same as the domain from which you are sending the message.
For example, a user on
.Dq calder.berkeley.edu
could send to
.Dq eric@@CS
without adding the
.Dq berkeley.edu
since it is the same on both sending
and receiving hosts.
.Ss Compatibility
Certain old address formats are converted to the new format to provide
compatibility with the previous mail system.
In particular,
.Pp
.Dl user@@host
.Pp
and
.Dl user@@host.domain
.Pp
are allowed;
.Pp
.Dl host.domain!user
.Pp
is converted to
.Pp
.Dl user@@host.domain
.Pp
and
.Pp
.Dl host!user
.Pp
is converted to
.Pp
.Dl user@@host.UUCP
.Pp
This is normally converted back to the
.Dq host!user
form before being sent
on for compatibility with older UUCP hosts.
.Ss Case distinctions
Domain names (i.e., anything after the
.Dq @@
sign) may be given in any mixture
of upper and lower case with the exception of UUCP hostnames.
Most hosts
accept any combination of case in user names, with the notable exception of
MULTICS sites.
.Ss Route-addrs
Under some circumstances it may be necessary to route a message through
several hosts to get it to the final destination.
Normally this routing
is done automatically, but sometimes it is desirable to route the message
manually.
Addresses which show these relays are termed
.Dq route-addrs .
These use the syntax:
.Pp
.Dl <@@hosta,@@hostb:user@@hostc>
.Pp
This specifies that the message should be sent to
.Dq hosta ,
from there to
.Dq hostb ,
and finally to
.Dq hostc .
This path is forced even if there is a more efficient
path to
.Dq hostc .
.Pp
Route-addrs occur frequently on return addresses, since these are generally
augmented by the software at each host.
It is generally possible to ignore all but the
.Dq user@@hostc
part of the address to determine the actual sender.
.Pp
[Note: The route-addr syntax is officially deprecated
in RFC 1123 and should not be used.]
.Pp
Many sites also support the
.Dq percent hack
for simplistic routing:
.Pp
.Dl user%hostc%hostb@@hosta
.Pp
is routed as indicated in the previous example.
.Ss Postmaster
Every site is required to have a user or user alias designated
.Dq postmaster
to which problems with the mail system may be addressed.
.Ss Other networks
Some other networks can be reached by giving the name of the network as the
last component of the domain.
.Em This is not a standard feature
and may
not be supported at all sites.
For example, messages to CSNET or BITNET sites can often be sent to
.Dq user@@host.CSNET
or
.Dq user@@host.BITNET ,
respectively.
.Sh SEE ALSO
.Xr mail 1 ,
.Xr smtpd 8
.Sh STANDARDS
.Rs
.%A P. Resnick
.%D 2008
.%R RFC 5322
.%T Internet Message Format
.Re
.Sh HISTORY
.Nm
appeared in
.Bx 4.2 .
.Sh BUGS
The RFC 5322 group syntax
.Pq Dq group:user1,user2,user3;
is not supported
except in the special case of
.Dq group:;
because of a conflict with old
berknet-style addresses.
.Pp
Route-Address syntax is grotty.
.Pp
UUCP- and Internet-style addresses do not coexist politely.
@


1.15
log
@+.Xr smtpd 8
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.14 2013/08/14 08:39:29 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: August 14 2013 $
a162 1
.Xr sendmail 8 ,
@


1.14
log
@some Bx/Ox conversion;
From: Jan Stary
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.13 2012/09/26 17:34:38 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: September 26 2012 $
d163 2
a164 1
.Xr sendmail 8
@


1.13
log
@last stage of rfc changes, using consistent Rs/Re blocks, and moving the
references into a STANDARDS section;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.12 2012/08/18 16:25:20 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: August 18 2012 $
d173 2
a174 1
appeared in 4.2 BSD.
@


1.12
log
@RFC updates:
5322 obsoletes 2822
5321 obsoletes 821 and 2821
6409 obsoletes 2476 and 4409
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.11 2008/06/15 21:17:27 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: June 15 2008 $
d164 1
@


1.11
log
@RFC 2822 obsoletes RFC 822; from Igor Zinovik
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.10 2007/05/31 19:19:58 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
d165 3
a167 1
.%R RFC 2822
a168 1
.%D April 2001
d174 1
a174 1
The RFC 2822 group syntax
@


1.10
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.9 2003/08/08 09:51:54 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
d164 5
a168 4
.Pp
Crocker, D. H.,
.Em "Standard for the Format of Arpa Internet Text Messages" ,
RFC 822.
d173 1
a173 1
The RFC 822 group syntax
@


1.9
log
@refer to RFCs consistently (RFC XXXX);
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.8 2003/06/06 13:44:29 jmc Exp $
d33 1
a33 1
.Dd June 16, 1993
@


1.8
log
@- section reorder
- macro fixes
- kill whitespace at EOL
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.7 2003/06/02 23:30:15 millert Exp $
d167 1
a167 1
RFC822.
d172 1
a172 1
The RFC822 group syntax
@


1.7
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.6 2001/10/04 16:56:52 mpech Exp $
d166 1
a166 1
.Em Standard for the Format of Arpa Internet Text Messages,
@


1.6
log
@we don't like .Pp and blank lines before/after .Ss;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.5 2000/03/19 19:25:34 aaron Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.5
log
@Various cleanups.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.4 1999/05/23 14:11:09 aaron Exp $
a103 1
.Pp
@


1.4
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: mailaddr.7,v 1.3 1998/11/28 03:38:02 aaron Exp $
d45 2
a46 1
manual page.  These addresses are in the general format
d50 2
a51 2
where a domain is a hierarchical dot separated list of subdomains.  For
example, a valid address is:
d63 2
a64 1
domain name.  In general, anything following the first dot may be omitted
d76 2
a77 1
compatibility with the previous mail system.  In particular,
d109 2
a110 1
of upper and lower case with the exception of UUCP hostnames.  Most hosts
d115 2
a116 1
several hosts to get it to the final destination.  Normally this routing
d118 2
a119 1
manually.  Addresses which show these relays are termed
d136 2
a137 2
augmented by the software at each host.  It is generally possible to ignore
all but the
d160 2
a161 2
not be supported at all sites.  For example, messages to CSNET or BITNET sites
can often be sent to
@


1.3
log
@share/man/man7/ man page repairs
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d39 1
a39 1
.Os BSD 4.2
@


1.2
log
@More man page fixes. Particularly fix uses of it's/its, affect/effect,
then/than and such. Other miscellaneous problems fixed across these source
files.
@
text
@d1 1
d60 1
a60 1
.Ss Abbreviation.
d64 7
a70 2
For example, a user on ``calder.berkeley.edu'' could send to ``eric@@CS''
without adding the ``berkeley.edu'' since it is the same on both sending
d72 1
a72 2
.Ss Compatibility.
.Pp
d97 3
a99 1
This is normally converted back to the ``host!user'' form before being sent
d102 4
a105 3
.Ss Case Distinctions.
.Pp
Domain names (i.e., anything after the ``@@'' sign) may be given in any mixture
d109 1
a109 2
.Ss Route-addrs.
.Pp
d113 2
a114 1
manually.  Addresses which show these relays are termed ``route-addrs.''
d119 9
a127 3
This specifies that the message should be sent to hosta, from there to hostb,
and finally to hostc.  This path is forced even if there is a more efficient
path to hostc.
d131 3
a133 2
all but the ``user@@hostc'' part of the address to determine the actual
sender.
d135 1
a135 1
[Note: the route-addr syntax is officially deprecated
d138 3
a140 1
Many sites also support the ``percent hack'' for simplistic routing:
d145 3
a147 3
.Ss Postmaster.
.Pp
Every site is required to have a user or user alias designated ``postmaster''
d149 1
a149 2
.Ss Other Networks.
.Pp
d155 5
a159 1
can often be sent to ``user@@host.CSNET'' or ``user@@host.BITNET'' respectively.
d168 1
a168 1
.Nm Mailaddr
d171 6
a176 2
The RFC822 group syntax (``group:user1,user2,user3;'') is not supported
except in the special case of ``group:;'' because of a conflict with old
@


1.1
log
@Initial revision
@
text
@d142 2
a143 2
.Xr sendmail 8 ;
.br
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
