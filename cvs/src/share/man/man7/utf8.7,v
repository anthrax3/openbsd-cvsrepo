head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.4
	OPENBSD_6_2_BASE:1.6;
locks; strict;
comment	@.\" @;


1.6
date	2017.05.31.17.58.56;	author schwarze;	state Exp;
branches;
next	1.5;
commitid	XzaIZDNxGZALwufn;

1.5
date	2017.05.31.17.16.48;	author schwarze;	state Exp;
branches;
next	1.4;
commitid	3zKusFSp6QtPHP5j;

1.4
date	2017.05.31.12.46.30;	author jmc;	state Exp;
branches;
next	1.3;
commitid	VfQc4dPw0Az8O3QZ;

1.3
date	2017.05.31.10.09.31;	author tedu;	state Exp;
branches;
next	1.2;
commitid	pGxxhRFLHY1KfSpz;

1.2
date	2017.05.31.09.58.36;	author tedu;	state Exp;
branches;
next	1.1;
commitid	ORc9OVddmeKO4Ts9;

1.1
date	2017.05.31.08.30.22;	author tedu;	state Exp;
branches;
next	;
commitid	0W9pRaslD8HAIw4e;


desc
@@


1.6
log
@about ten different improvements; OK tedu@@ espie@@ bentley@@
@
text
@.\"	$OpenBSD: utf8.7,v 1.5 2017/05/31 17:16:48 schwarze Exp $
.\"
.\" Copyright (c) 2017 Ted Unangst <tedu@@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: May 31 2017 $
.Dt UTF8 7
.Os
.Sh NAME
.Nm utf8
.Nd UTF-8 text encoding
.Sh DESCRIPTION
UTF-8 is a multibyte character encoding for Unicode text.
It is the preferred format for non ASCII text.
.Pp
Unicode codepoints are encoded as follows:
.Bl -tag -width Ds
.It U+0000 \(en U+007F:
One byte: 0....... (compatible with ASCII)
.It U+0080 \(en U+07FF:
Two bytes: 110..... 10.......
.It U+0800 \(en U+D7FF and U+E000 \(en U+FFFF:
Three bytes: 1110.... 10...... 10......
.It U+10000 \(en U+10FFFF:
Four bytes: 11110... 10...... 10...... 10......
.El
.Pp
The bits shown as dots contain the codepoint represented as a binary
integer.
.Pp
Bytes starting with the bit pattern 11...... are called UTF-8 start
bytes, and those starting with 10...... UTF-8 continuation bytes.
The number of leading 1 bits in a start byte indicates the total
number of bytes used to encode the codepoint, including the start
byte.
.Pp
Encodings using more bytes than required are invalid.
In particular, 11000000 and 11000001 are not valid start bytes,
the byte after 11100000 must be at least 10100000,
and the byte after 11110000 must be at least 10010000.
.Sh SEE ALSO
.Xr locale 1 ,
.Xr ascii 7
.Sh STANDARDS
.Rs
.%A F. Yergeau
.%D November 2003
.%R RFC 3629
.%T UTF-8, a transformation format of ISO 10646
.Re
.Pp
.Lk http://www.unicode.org/versions/latest/ "The Unicode Standard"
.Pp
.Lk http://www.unicode.org/reports/tr44/ "The Unicode Character Database"
@


1.5
log
@use the standard OpenBSD license for new manual pages
rather than some 2-clause variant of the ancient BSD license;
OK benno@@ tedu@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: utf8.7,v 1.4 2017/05/31 12:46:30 jmc Exp $
d24 1
a24 1
UTF-8 is a multibyte encoding for Unicode text.
d27 1
a27 10
The length of a UTF-8 sequence varies depending on the encoded value.
If the high bit of the first byte is zero, the sequence length is one and
the value is the remaining seven bits.
If the high bit is set, then the number of high bits set, followed by a zero
bit, indicates the length of the sequence and the value is formed by combining
the low bits of each byte.
Continuation bytes all have the same format, with the top two bits set and
unset, respectively, and six value bits.
.Pp
Unicode ranges and their encoding formats:
d29 8
a36 12
.It 0x0 - 0x7f
One byte.
0.......
.It 0x80 - 0x7ff
Two bytes.
110..... 10.......
.It 0x800 - 0xffff
Three bytes.
1110.... 10...... 10......
.It 0x1000 - 0x10ffff
Four bytes.
11110... 10...... 10...... 10......
d38 14
d53 1
d63 3
a65 3
The Unicode Standard.
.Sh CAVEATS
Beware of overlong encodings.
@


1.4
log
@section order;
@
text
@d1 1
a1 1
.\"	$OpenBSD: utf8.7,v 1.3 2017/05/31 10:09:31 tedu Exp $
d3 1
a3 2
.\" Copyright (c) 2017 Ted Unangst
.\" All rights reserved.
d5 3
a7 8
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
d9 7
a15 10
.\" THIS SOFTWARE IS PROVIDED BY THE DEVELOPERS ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE DEVELOPERS BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
@


1.3
log
@perhaps a few more words about encoding format
@
text
@d1 1
a1 1
.\"	$OpenBSD: utf8.7,v 1.2 2017/05/31 09:58:36 tedu Exp $
d60 2
a61 2
.Sh CAVEATS
Beware of overlong encodings.
d71 2
a72 2
.Sh SEE ALSO
.Xr ascii 7
@


1.2
log
@utf8 has an rfc
@
text
@d1 1
a1 1
.\"	$OpenBSD: utf8.7,v 1.1 2017/05/31 08:30:22 tedu Exp $
d36 6
a41 1
The first byte of a sequence indicates the length in its high bits.
d43 1
a43 1
unset, respectively.
d45 1
a45 1
Ranges:
@


1.1
log
@add a tiny, to be improved, man page for utf8 encoding.
ok stsp
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d26 1
a26 1
.Dd $Mdocdate: May 28 2017 $
d58 8
a65 1
Unicode.
@

