head	1.30;
access;
symbols
	OPENBSD_6_1:1.30.0.4
	OPENBSD_6_1_BASE:1.30
	OPENBSD_6_0:1.30.0.2
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.29.0.4
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.29.0.6
	OPENBSD_5_8_BASE:1.29
	OPENBSD_5_7:1.29.0.2
	OPENBSD_5_7_BASE:1.29
	OPENBSD_5_6:1.28.0.6
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.4
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.26.0.8
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.26.0.6
	OPENBSD_5_2_BASE:1.26
	OPENBSD_5_1_BASE:1.26
	OPENBSD_5_1:1.26.0.4
	OPENBSD_5_0:1.26.0.2
	OPENBSD_5_0_BASE:1.26
	OPENBSD_4_9:1.25.0.16
	OPENBSD_4_9_BASE:1.25
	OPENBSD_4_8:1.25.0.14
	OPENBSD_4_8_BASE:1.25
	OPENBSD_4_7:1.25.0.10
	OPENBSD_4_7_BASE:1.25
	OPENBSD_4_6:1.25.0.12
	OPENBSD_4_6_BASE:1.25
	OPENBSD_4_5:1.25.0.8
	OPENBSD_4_5_BASE:1.25
	OPENBSD_4_4:1.25.0.6
	OPENBSD_4_4_BASE:1.25
	OPENBSD_4_3:1.25.0.4
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.25.0.2
	OPENBSD_4_2_BASE:1.25
	OPENBSD_4_1:1.23.0.10
	OPENBSD_4_1_BASE:1.23
	OPENBSD_4_0:1.23.0.8
	OPENBSD_4_0_BASE:1.23
	OPENBSD_3_9:1.23.0.6
	OPENBSD_3_9_BASE:1.23
	OPENBSD_3_8:1.23.0.4
	OPENBSD_3_8_BASE:1.23
	OPENBSD_3_7:1.23.0.2
	OPENBSD_3_7_BASE:1.23
	OPENBSD_3_6:1.22.0.4
	OPENBSD_3_6_BASE:1.22
	OPENBSD_3_5:1.22.0.2
	OPENBSD_3_5_BASE:1.22
	OPENBSD_3_4:1.21.0.2
	OPENBSD_3_4_BASE:1.21
	OPENBSD_3_3:1.17.0.8
	OPENBSD_3_3_BASE:1.17
	OPENBSD_3_2:1.17.0.6
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.17.0.4
	OPENBSD_3_1_BASE:1.17
	OPENBSD_3_0:1.17.0.2
	OPENBSD_3_0_BASE:1.17
	OPENBSD_2_9:1.14.0.2
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_8:1.13.0.2
	OPENBSD_2_8_BASE:1.13
	OPENBSD_2_7:1.11.0.2
	OPENBSD_2_7_BASE:1.11
	OPENBSD_2_6:1.9.0.2
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.6.0.2
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.2.0.4
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.2
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.1.0.4
	OPENBSD_2_1_BASE:1.1
	OPENBSD_2_0:1.1.0.2
	OPENBSD_2_0_BASE:1.1;
locks; strict;
comment	@# @;


1.30
date	2016.03.10.09.04.11;	author jmc;	state Exp;
branches;
next	1.29;
commitid	7AvUgktfamfCLhKX;

1.29
date	2015.01.25.15.15.14;	author naddy;	state Exp;
branches;
next	1.28;
commitid	fkQHOrEbmKXyryWk;

1.28
date	2014.01.20.00.55.35;	author schwarze;	state Exp;
branches;
next	1.27;

1.27
date	2013.07.15.22.59.12;	author schwarze;	state Exp;
branches;
next	1.26;

1.26
date	2011.06.26.23.23.55;	author tedu;	state Exp;
branches;
next	1.25;

1.25
date	2007.05.31.19.19.58;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2007.03.20.20.34.36;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2004.12.20.22.12.43;	author jsg;	state Exp;
branches;
next	1.22;

1.22
date	2004.01.07.19.10.08;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2003.09.02.18.37.08;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2003.07.10.08.30.36;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2003.06.06.19.28.06;	author jmc;	state Exp;
branches;
next	1.18;

1.18
date	2003.06.04.04.11.37;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2001.10.05.14.45.54;	author mpech;	state Exp;
branches;
next	1.16;

1.16
date	2001.08.17.11.13.58;	author mpech;	state Exp;
branches;
next	1.15;

1.15
date	2001.08.03.15.21.17;	author mpech;	state Exp;
branches;
next	1.14;

1.14
date	2000.11.10.20.02.19;	author todd;	state Exp;
branches;
next	1.13;

1.13
date	2000.08.08.21.42.39;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	2000.06.15.00.23.56;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2000.04.04.03.32.03;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2000.01.08.23.23.37;	author d;	state Exp;
branches;
next	1.9;

1.9
date	99.07.09.13.35.36;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	99.05.23.14.11.24;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	99.04.28.18.01.19;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	98.12.13.22.39.58;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	98.12.13.22.28.39;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	98.06.29.05.26.33;	author angelos;	state Exp;
branches;
next	1.3;

1.3
date	98.06.12.12.08.43;	author d;	state Exp;
branches;
next	1.2;

1.2
date	97.10.03.19.47.14;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	96.09.21.10.36.52;	author maja;	state Exp;
branches;
next	;


desc
@@


1.30
log
@un-vax;
@
text
@.\"	$OpenBSD: boot_config.8,v 1.29 2015/01/25 15:15:14 naddy Exp $
.\"
.\" Copyright (c) 1996 Mats O Jansson
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 4. Neither the name of the author nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: January 25 2015 $
.Dt BOOT_CONFIG 8
.Os
.Sh NAME
.Nm boot_config
.Nd how to change kernel configuration at boot
.Sh DESCRIPTION
.Nm BOOT_CONFIG
is a kernel option that makes it possible to change the configuration
at boot time.
The same interface is available from userland, using the
.Fl e
argument to
.Xr config 8 .
.Pp
The boot time configuration is invoked by passing the
.Fl c
option, either from the firmware prompt or,
depending on the architecture, when the bootstrap loader
prompts for a kernel to boot:
.Bd -literal
>> OpenBSD/i386 BOOT 3.26
.No "boot>" Ic boot -c
booting hd0a:/bsd: ...
\&...
real mem  = 1073086464 (1023MB)
avail mem = 1043189760 (994MB)
User Kernel Config
UKC>
.Ed
.Pp
Changes made can be saved for the next reboot, by using
.Xr config 8 .
.Sh COMMANDS
.Bl -tag -width "disable devno | dev"
.It Ic add Ar dev
Add a device through copying another.
.It Ic base Cm 8 | 10 | 16
Change the base of numbers displayed and entered.
.It Ic change Ar devno | dev
Modify one or more devices.
.It Ic disable Ar devno | dev
Disable one or more devices.
.It Ic enable Ar devno | dev
Enable one or more devices.
.It Ic exit
Continue boot.
.It Ic find Ar devno | dev
Find one or more devices.
.It Ic help
Give a short summary of all commands and their arguments.
.It Ic list
Show all known devices, a screen at a time.
.It Ic lines Op Ar count
Set the number of rows per page.
.It Ic quit
Continue boot.
.It Ic show Op Ar attr Op Ar val
Show all devices for which attribute
.Ar attr
has the value
.Ar val .
.It Ic timezone Op Ar minuteswest Op Ar dst
Change the
.Va tz
timezone structure.
.Va minuteswest
is the number of minutes west of GMT and
.Va dst
is non-zero if Daylight Saving Time is in effect.
Without arguments, displays its current value.
.It Ic verbose
Toggle the autoconfig verbose variable.
.El
.Sh EXAMPLES
The Ethernet card is not detected at boot because the kernel configuration
does not match the physical hardware configuration,
e.g. wrong IRQ in OpenBSD/i386.
The Ethernet card is supposed to use the
.Xr ne 4
driver.
.Bd -literal
.No UKC> Ic find ne
24 ne0 at isa0 port 0x240 size 0 iomem 0xd8000 iosiz 0 irq 9 drq -1 drq2 -1 flags 0x0
25 ne1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1 flags 0x0
26 ne* at isapnp0 port -1 size 0 iomem -1 iosiz 0 irq -1 drq -1 flags 0x0
27 ne* at pci* dev -1 function -1 flags 0x0
28 ne* at pcmcia* function -1 irq -1 flags 0x0
UKC>
.Ed
.Pp
ne1 seems to match the configuration except it uses IRQ 5 instead of IRQ 10.
So the irq on ne1 should be changed via the
.Fa change
command.
The device can be specified by either name or number.
.Bd -literal
.No UKC> Ic change ne1
25 ne1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1 flags 0x0
.No change (y/n) \&? Ic y
.No port [0x300] \&?
.No size [0] \&?
.No iomem [-1] \&?
.No iosiz [0] \&?
.No irq [10] \&? Ic 5
.No drq [-1] \&?
.No drq2 [-1] \&?
.No flags [0] \&?
25 ne1 changed
25 ne1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 5 drq -1 drq2 -1 flags 0x0
UKC>
.Ed
.Pp
The show command is useful for finding which devices have a certain attribute.
It can also be used to find those devices with a particular value for
an attribute.
.Bd -literal
.No UKC> Ic show slot
  2 ahc* at eisa0 slot -1 flags 0x0
 10 uha* at eisa0 slot -1 flags 0x0
 12 ep0 at eisa0 slot -1 flags 0x0
 17 ep* at eisa0 slot -1 flags 0x0
102 ahb* at eisa0 slot -1 flags 0x0
103 fea* at eisa0 slot -1 flags 0x0
.No UKC> Ic show port 0x300
 25 ne1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1 flags 0x0
 72 we1 at isa0 port 0x300 size 0 iomem 0xcc000 iosiz 0 irq 10 drq -1 drq2 -1 flags 0x0
 75 el0 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 9 drq -1 drq2 -1 flags 0x0
 77 ie1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1 flags 0x0
UKC>
.Ed
.Pp
It is possible to add new devices, but only devices that were linked into the
kernel.
If a new device is added, following devices will be renumbered.
.Bd -literal
.No UKC> Ic find ep
 11 ep0 at isa0 port -1 size 0 iomem -1 iosiz 0 irq -1 drq -1 drq2 -1 flags 0x0
 12 ep0 at eisa0 slot -1 flags 0x0
 13 ep0 at pci* dev -1 function -1 flags 0x0
 14 ep* at isapnp0 port -1 size 0 iomem -1 iosiz 0 irq -1 drq -1 flags 0x0
 15 ep* at isa0 port -1 size 0 iomem -1 iosiz 0 irq -1 drq -1 drq2 -1 flags 0x0
 16 ep* at eisa0 slot -1 flags 0x0
 17 ep* at pci* dev -1 function -1 flags 0x0
 18 ep* at pcmcia* dev -1 irq -1 flags 0x0
.No UKC> Ic add ep1
.No "Clone Device (DevNo, 'q' or '\&?') \&?" Ic 13
.No "Insert before Device (DevNo, 'q' or '\&?')" Ic 14
 14 ep1 at pci* dev -1 function -1
.No UKC> Ic change 14
 14 ep1 at pci* dev -1 function -1
.No change (y/n) \&? Ic y
.No dev [-1] \&? Ic 14
.No function [-1] \&?
.No flags [0] \&? Ic 18
 14 ep1 changed
 14 ep1 at pci* dev 14 function -1 flags 0x12
UKC>
.Ed
.Pp
When configuration is completed, booting can proceed by issuing the
.Ic quit
or
.Ic exit
commands.
.Bd -literal
.No UKC> Ic quit
Continuing...
mainbus0 (root)
.Ed
.Sh SEE ALSO
.Xr config 8
.Sh AUTHORS
.An Mats O Jansson Aq Mt moj@@stacken.kth.se
.Sh BUGS
The
.Ic add
command is rather restricted, and might be expanded in the future.
@


1.29
log
@tweak and update the illustration to what the bootstrap loader actually
looks like; ok deraadt@@ miod@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.28 2014/01/20 00:55:35 schwarze Exp $
d30 1
a30 1
.Dd $Mdocdate: January 20 2014 $
d68 1
a68 2
Change the base of numbers displayed and entered,
e.g. I/O addresses in a VAXen are octal.
@


1.28
log
@fix markup: .Ar -> .Cm for command modifiers
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.27 2013/07/15 22:59:12 schwarze Exp $
d30 1
a30 1
.Dd $Mdocdate: July 15 2013 $
d45 1
a45 1
The boot time configuration is invoked by the
d47 2
a48 2
option when
.Ox
d51 6
a56 7
>> OpenBSD BOOT 640/31744 k [1.29]
use ? for file list, or carriage return for defaults
use hd(1,a)/bsd to boot sd0 when sd0 is also installed
.No "Boot: [[[wd(0,a)]/bsd][-abcdrs]] :" Ic -c
Booting...
avail mem = 28188672
using 430 buffers containing 1761280 bytes of memory
@


1.27
log
@Mark up email adresses with the .Mt macro;
patch from Franco Fichtner <franco at lastsummer dot de>;
ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.26 2011/06/26 23:23:55 tedu Exp $
d30 1
a30 1
.Dd $Mdocdate: June 26 2011 $
d68 1
a68 1
.It Ic base Ar 8 | 10 | 16
@


1.26
log
@delete references to mcd
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.25 2007/05/31 19:19:58 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: May 31 2007 $
d205 1
a205 1
.An Mats O Jansson Aq moj@@stacken.kth.se
@


1.25
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.24 2007/03/20 20:34:36 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate$
a142 14
.Ed
.Pp
Another case is a mistakenly detected non-existing device instead of another
device at the probed location.
One known case is the Mitsumi
CD-ROM in OpenBSD/i386.
The simplest thing to solve that problem is to disable mcd0.
.Bd -literal
.No UKC> Ic find mcd0
 29 mcd0 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1 flags 0x0
.No UKC> Ic disable mcd0
 29 mcd0 disabled
.No UKC> Ic find 29
 29 mcd0 at isa0 disable port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1 flags 0x0
@


1.24
log
@document the args to the "timezone" command;
fixes documentation/5403: dst argument not defined in config manpage
from James Hartley
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.23 2004/12/20 22:12:43 jsg Exp $
d30 1
a30 1
.Dd December 13, 1998
@


1.23
log
@ethernet -> Ethernet
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.22 2004/01/07 19:10:08 jmc Exp $
d98 4
@


1.22
log
@missing Ic; from Andrey Matveev;
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.21 2003/09/02 18:37:08 jmc Exp $
d103 1
a103 1
The ethernet card is not detected at boot because the kernel configuration
d106 1
a106 1
The ethernet card is supposed to use the
@


1.21
log
@escape punctuation;
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.20 2003/07/10 08:30:36 jmc Exp $
d196 1
a196 1
.No flags [0] \&? 18
@


1.20
log
@fix some lists and macros;
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.19 2003/06/06 19:28:06 jmc Exp $
d127 9
a135 9
.No change (y/n) ? Ic y
.No port [0x300] ?
.No size [0] ?
.No iomem [-1] ?
.No iosiz [0] ?
.No irq [10] ? Ic 5
.No drq [-1] ?
.No drq2 [-1] ?
.No flags [0] ?
d188 2
a189 2
.No "Clone Device (DevNo, 'q' or '?') ?" Ic 13
.No "Insert before Device (DevNo, 'q' or '?')" Ic 14
d193 4
a196 4
.No change (y/n) ? Ic y
.No dev [-1] ? Ic 14
.No function [-1] ?
.No flags [0] ? 18
@


1.19
log
@- section reorder
- macro fixes
- kill whitespace at EOL
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.18 2003/06/04 04:11:37 deraadt Exp $
a49 1
.Pp
d65 1
a65 1
.Bl -tag -width "disable devno | dev" indent
a108 1
.Pp
a123 1
.Pp
a145 1
.Pp
a176 1
.Pp
a206 1
.Pp
@


1.18
log
@more term 3 and 4 changes
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.17 2001/10/05 14:45:54 mpech Exp $
d31 1
a31 1
.Dt boot_config 8
d220 2
a225 2
.Sh AUTHORS
Mats O Jansson <moj@@stacken.kth.se>
@


1.17
log
@Powered by @@mantoya:
o) start new sentence on a new line;
o) minor mdoc fixes;
millert@@ ok

Tip of the day:   www.mpechismazohist.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.16 2001/08/17 11:13:58 mpech Exp $
a13 3
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by Theo de Raadt.
@


1.16
log
@o) {Open,Net,Free}BSD -> .{O,N,F}x;
o) "start sentence on new line" issues;
o) minimal -mdoc improvements;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.15 2001/08/03 15:21:17 mpech Exp $
d124 2
a125 2
ne1 seems to match the configuration except it uses IRQ 5 instead of IRQ 10. So
the irq on ne1 should be changed via the
d127 2
a128 1
command. The device can be specified by either name or number.
d150 2
a151 2
CD-ROM in OpenBSD/i386. The simplest thing to solve that problem is to
disable mcd0.
d182 2
a183 1
kernel. If a new device is added, following devices will be renumbered.
@


1.15
log
@o) We don't like .Pp before/after .Sh;
o) .Nm always has argument in .Sh SYNOPSIS;
o) We always closes .Bl and .Bd tags;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.14 2000/11/10 20:02:19 todd Exp $
d50 3
a52 1
option when OpenBSD prompts for a kernel to boot:
@


1.14
log
@.Sh AUTHOR -> AUTHORS, ok aaron@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.13 2000/08/08 21:42:39 deraadt Exp $
a103 1
.Pp
@


1.13
log
@permit changing flags
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.12 2000/06/15 00:23:56 deraadt Exp $
d224 1
a224 1
.Sh AUTHOR
@


1.12
log
@highlight
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.11 2000/04/04 03:32:03 deraadt Exp $
d115 5
a119 5
24 ne0 at isa0 port 0x240 size 0 iomem 0xd8000 iosiz 0 irq 9 drq -1 drq2 -1
25 ne1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1
26 ne* at isapnp0 port -1 size 0 iomem -1 iosiz 0 irq -1 drq -1
27 ne* at pci* dev -1 function -1
28 ne* at pcmcia* function -1 irq -1
d130 1
a130 1
25 ne1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1
d139 1
d141 1
a141 1
25 ne1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 5 drq -1 drq2 -1
d153 1
a153 1
 29 mcd0 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1
d157 1
a157 1
 29 mcd0 at isa0 disable port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1
d165 6
a170 6
  2 ahc* at eisa0 slot -1
 10 uha* at eisa0 slot -1
 12 ep0 at eisa0 slot -1
 17 ep* at eisa0 slot -1
102 ahb* at eisa0 slot -1
103 fea* at eisa0 slot -1
d172 4
a175 4
 25 ne1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1
 72 we1 at isa0 port 0x300 size 0 iomem 0xcc000 iosiz 0 irq 10 drq -1 drq2 -1
 75 el0 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 9 drq -1 drq2 -1
 77 ie1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 drq2 -1
d184 8
a191 8
 11 ep0 at isa0 port -1 size 0 iomem -1 iosiz 0 irq -1 drq -1 drq2 -1
 12 ep0 at eisa0 slot -1
 13 ep0 at pci* dev -1 function -1
 14 ep* at isapnp0 port -1 size 0 iomem -1 iosiz 0 irq -1 drq -1
 15 ep* at isa0 port -1 size 0 iomem -1 iosiz 0 irq -1 drq -1 drq2 -1
 16 ep* at eisa0 slot -1
 17 ep* at pci* dev -1 function -1
 18 ep* at pcmcia* dev -1 irq -1
d201 1
d203 1
a203 1
 14 ep1 at pci* dev 14 function -1
@


1.11
log
@more details, and a UKC(8) link
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.10 2000/01/08 23:23:37 d Exp $
d219 3
a221 1
The add command is rather restricted, and might be expanded in the future.
@


1.10
log
@Allow UKC to change tz with 'timezone' command.
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.9 1999/07/09 13:35:36 aaron Exp $
d43 4
d216 2
@


1.9
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.8 1999/05/23 14:11:24 aaron Exp $
d59 3
d92 5
a211 1
.Pp
a213 2
.Pp
There is no way to save the configuration for next boot.
@


1.8
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.7 1999/04/28 18:01:19 deraadt Exp $
d53 1
a53 1
Booting... 
d166 1
a166 1
It is possible to add new devices, but only devices that were linked into the 
@


1.7
log
@add autoconfig_verbose toggling command to boot_config
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.6 1998/12/13 22:39:58 millert Exp $
d35 1
a35 1
.Os OpenBSD
@


1.6
log
@delete a '?' to make work around a bug in mdoc.  This is wrong but at least now it doesn't ignore lines...
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.5 1998/12/13 22:28:39 millert Exp $
d89 2
@


1.5
log
@ed is now ne/we so fix this and make other devices reflect reality
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.4 1998/06/29 05:26:33 angelos Exp $
d179 1
a179 1
.No "Insert before Device (DevNo, 'q' or '?') ?" Ic 14
@


1.4
log
@Language cleanup.
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.3 1998/06/12 12:08:43 d Exp $
d33 1
a33 1
.Dd September 21, 1996
d35 1
a35 1
.Os BSD 4
d96 1
a96 1
.Xr ed 4
d100 6
a105 5
.No UKC> Ic find ed
81 ed0 at isa0 port 0x280 size 0 iomem 0xd0000 iosiz 0 irq 9 drq -1 pnpid -1
82 ed1 at isa0 port 0x250 size 0 iomem 0xd8000 iosiz 0 irq 9 drq -1 pnpid -1
83 ed2 at isa0 port 0x300 size 0 iomem 0xcc000 iosiz 0 irq 10 drq -1 pnpid -1
84 ed* at pcmcia0 port 0x300 size 0x20 iomem -1 iosiz 0 irq 10 drq -1 slot -1
d109 2
a110 2
ed2 seems to match the configuration except it uses IRQ 5 instead of IRQ 10. So
the irq on ed2 should be changed via the
d115 2
a116 2
.No UKC> Ic change ed2
83 E ed2 at isa0 port 0x300 size 0 iomem 0xcc000 iosiz 0 irq 10 drq -1 pnpid -1
d120 1
a120 1
.No iomem [0xcc000] ?
d124 3
a126 3
.No pnpid [-1] ?
83 ed2 changed
83 ed2 at isa0 port 0x300 size 0 iomem 0xcc000 iosiz 0 irq 5 drq -1 pnpid -1
d133 1
a133 1
ATAPI cdrom in OpenBSD/i386. The simplest thing to solve that problem is to
d138 1
a138 1
 29 mcd0 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 pnpid -1
d142 1
a142 1
 29 mcd0 at isa0 disable port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 pnpid -1
d150 6
a155 8
  1 ahc* at eisa0 slot -1
  3 ep0 at eisa0 slot -1
  6 ep* at eisa0 slot -1
  8 ep* at pcmcia* port 0x300 size 0x10 iomem -1 iosiz 0 irq 10 drq -1 slot -1
 40 com3 at pcmcia* port 0x2e8 size 8 iomem -1 iosiz 0 irq 3 drq -1 slot -1
 84 ed* at pcmcia* port 0x300 size 0x20 iomem -1 iosiz 0 irq 10 drq -1 slot -1
 86 ahb* at eisa0 slot -1
 87 fea* at eisa0 slot -1
d157 4
a160 7
  8 ep* at pcmcia* port 0x300 size 0x10 iomem -1 iosiz 0 irq 10 drq -1 slot -1
 29 mcd0 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 pnpid -1
 31 wt0 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 5 drq 1 pnpid -1
 58 el0 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 9 drq -1 pnpid -1
 60 ie1 at isa0 port 0x300 size 0 iomem -1 iosiz 0 irq 10 drq -1 pnpid -1
 83 ed2 at isa0 port 0x300 size 0 iomem 0xcc000 iosiz 0 irq 10 drq -1 pnpid -1
 84 ed* at pcmcia* port 0x300 size 0x20 iomem -1 iosiz 0 irq 10 drq -1 slot -1
d168 15
a182 14
.No UKC> Ic "find ep"
  2 ep0 at isa0 port -1 size 0 iomem -1 iosiz 0 irq -1 drq -1 pnpid -1
  3 ep0 at eisa0 slot -1
  4 ep0 at pci0|pci* dev -1 function -1
  5 ep* at isa0 port -1 size 0 iomem -1 iosiz 0 irq -1 drq -1 pnpid -1
  6 ep* at eisa0 slot -1
  7 ep* at pci0|pci* dev -1 function -1
  8 ep* at pcmcia* port 0x300 size 0x10 iomem -1 iosiz 0 irq 10 drq -1 slot -1
.No UKC> Ic "add ep1"
.No "Clone Device (DevNo, 'q' or '?') ?" Ic 4
.No "Insert before Device (DevNo, 'q' or '?') ?" Ic 5
  5 ep1 at pci0|pci* dev -1 function -1
.No UKC> Ic change 5
  5 ep1 at pci0|pci* dev -1 function -1
d186 2
a187 2
  5 ep1 changed
  5 ep1 at pci0|pci* dev 14 function -1
@


1.3
log
@grammar, distinguish typed commands from output
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.2 1997/10/03 19:47:14 deraadt Exp $
d41 1
a41 1
is a kernel option that make it possible to change the configuration
d46 1
a46 1
option when OpenBSD asks for a kernel to boot:
d64 1
a64 1
Change the base of numbers that are displayed and entered,
d77 1
a77 1
Give a short summary of all commands and its arguments.
d79 1
a79 1
Show all known devices a screen at the time.
d81 1
a81 1
Setup the number of rows per page.
d85 1
a85 1
Show devices with attribute
d87 1
a87 1
that has the value
d92 2
a93 2
Your ethernet card isn't found at boot because the kernel configuration doesn't
match the physical hardware configuration,
d95 1
a95 2
You know that your
ethernet card is using the
d108 4
a111 2
Ok, ed2 seems to match the configuration except IRQ 5 instead of IRQ 10. So
change irq on ed2 with the change command. Specify device by name or number.
d129 2
a130 2
Another case is when a non-existing device is wrongly found when another 
device should be found at the probed location.
d194 1
a194 1
When configuration is complete, booting is continued with the
d207 1
a207 1
The add command is rather restricted, and might be fixed in the future.
d209 1
a209 1
There isn't a way to save the configuration for next boot.
@


1.2
log
@lowercase name for man -k; btc@@demon.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: boot_config.8,v 1.1 1996/09/21 10:36:52 maja Exp $
d44 1
a44 1
The boot time configuration is invokes by a
d46 1
a46 1
option when OpenBSD ask for kernel to boot.
d52 2
a53 2
Boot: [[[wd(0,a)]/bsd][-abcdrs]] : -c\\n 
Booting.. blah blah blah
a58 1
.Pp
d60 2
a61 2
.Bl -tag -width "disable devno|dev" indent
.It add Ar dev
d63 4
a66 3
.It base Ar 8|10|16
Change the base for large numbers. E.g. I/O addresses in a VAXen are octal.
.It change Ar devno|dev
d68 1
a68 1
.It disable Ar devno|dev
d70 1
a70 1
.It enable Ar devno|dev
d72 1
a72 1
.It exit
d74 1
a74 1
.It find Ar devno|dev
d76 1
a76 1
.It help
d78 1
a78 1
.It list
d80 1
a80 1
.It lines Op Ar count
d82 1
a82 1
.It quit
d84 5
a88 2
.It show Op Ar attr Op Ar val
Show devices with an attribute and optional with a specified value.
d92 7
a98 3
Your ethernet card isn't found at boot because the configuration don't
match the hardware. E.g. wrong IRQ in OpenBSD/i386. You know that your
ethernet card is using the eddriver.
d101 1
a101 1
UKC> find ed\\n 
d113 1
a113 1
UKC> change ed2\\n 
d115 8
a122 8
change (y/n) ? y\\n 
port [0x300] ? \\n 
size [0] ? \\n 
iomem [0xcc000] ? \\n 
iosiz [0] ? \\n 
irq [10] ? 5\\n 
drq [-1] ? \\n 
pnpid [-1] ? \\n 
d128 3
a130 2
Another case is when a none existing device is wrongly found when another 
device is found at the probed location. One known case is the Mitsumi none
d135 1
a135 1
UKC> find mcd0\\n
d137 1
a137 1
UKC> disable mcd0\\n
d139 1
a139 1
UKC> find 29\\n
d143 3
a145 2
The show command is useful for finding which devices has a certain attribute.
It can even show us all devices with an certain value of the attribute.
d147 1
a147 1
UKC> show slot\\n
d156 1
a156 1
UKC> show port 0x300\\n
d167 2
a168 2
It is possible to add devices, but only devices that already exists in the 
kernel. If a device is added all devices after is renumbered.
d171 1
a171 1
UKC> find ep\\n
d179 3
a181 3
UKC> add ep1\\n
Clone Device (DevNo, 'q' or '?') ? 4
Insert before Device (DevNo, 'q' or '?') ? 5
d183 1
a183 1
UKC> change 5\\n
d185 3
a187 3
change (y/n) ?\\n
dev [-1] ? 14\\n
function [-1] ? \\n
d193 5
a197 1
And to continuing boot try quit or exit...
d200 1
a200 1
UKC> quit\\n
d206 3
a208 1
The add command is rather restricted. Might be fixed in the future.
@


1.1
log
@Document BOOT_CONFIG kernel option. -moj
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d34 1
a34 1
.Dt BOOT_CONFIG 8
d37 1
a37 1
.Nm BOOT_CONFIG
@
