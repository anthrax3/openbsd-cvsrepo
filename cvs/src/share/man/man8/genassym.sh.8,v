head	1.9;
access;
symbols
	OPENBSD_6_0:1.9.0.6
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.4
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.8.0.2
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.8.0.4
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.7.0.30
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.26
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.24
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.22
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.20
	OPENBSD_5_0:1.7.0.18
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.16
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.14
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.10
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.12
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.8
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.6
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.4
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.7.0.2
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.6.0.16
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.14
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.12
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.10
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.8
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.6.0.6
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.6.0.4
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.2
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.5.0.2
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.3.0.4
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1;
locks; strict;
comment	@.\" @;


1.9
date	2015.03.13.19.58.41;	author jmc;	state Exp;
branches;
next	1.8;
commitid	OcwhWBKGs3Yn7EeA;

1.8
date	2014.07.05.07.18.33;	author jsg;	state Exp;
branches;
next	1.7;
commitid	WcxS9ypeucISut92;

1.7
date	2007.05.31.19.19.59;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2003.06.06.19.28.06;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2003.02.26.15.05.07;	author david;	state Exp;
branches;
next	1.4;

1.4
date	2002.11.08.08.08.47;	author mpech;	state Exp;
branches;
next	1.3;

1.3
date	2001.11.14.20.18.43;	author ho;	state Exp;
branches;
next	1.2;

1.2
date	2001.11.13.13.54.26;	author mpech;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.16.14.32.27;	author miod;	state Exp;
branches;
next	;


desc
@@


1.9
log
@remove the first comma from constructs like ", and," and ", or,": you can use
"and" and "or" to join sentence clauses, and you can use commas, but both hinders
reading;
@
text
@.\"	$OpenBSD: genassym.sh.8,v 1.8 2014/07/05 07:18:33 jsg Exp $
.\"	$NetBSD: genassym.sh.8,v 1.5 1999/03/17 20:31:19 garbled Exp $
.\"
.\" Copyright (c) 1997 Matthias Pfaller.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate: July 5 2014 $
.Dt GENASSYM.SH 8
.Os
.Sh NAME
.Nm genassym.sh
.Nd emit an assym.h file
.Sh SYNOPSIS
.Nm sh genassym.sh
.Op Fl c
.Ar C compiler invocation
.Sh DESCRIPTION
.Nm
is a shell script normally used during the kernel build process to
create an assym.h file.
This file defines a number of cpp constants derived from the configuration
information
.Nm
reads from stdin.
The generated file is used by kernel sources
written in assembler to gain access to information (e.g. structure
offsets and sizes) normally only known to the C compiler.
.Pp
.Nm
resides in the
.Pa /sys/kern
directory.
Arguments to
.Nm
are usually of the form
.Ar ${CC} ${CFLAGS} ${CPPFLAGS}
where
.Ar ${CC}
is the C compiler used to compile the kernel, while
.Ar ${CFLAGS}
and
.Ar ${CPPFLAGS}
are flag arguments to the C compiler.
The script creates a C source file from its input.
Then the C compiler is called according to the script's arguments
to compile this file.
.Pp
Normally
.Nm
instructs the C compiler to create an assembler source from the constructed
C source.
The resulting file is then processed to extract the information
needed to create the assym.h file.
The
.Fl c
flag instructs
.Nm
to create slightly different code, generate an executable from this code
and run it.
In both cases the assym.h file is written to stdout.
.Sh DIAGNOSTICS
Either self-explanatory, or generated by one of the programs
called from the script.
The script will exit with the return code from the compiler or, in the
.Fl c
case, with the return code from the generated executable.
.Sh SEE ALSO
.Xr genassym.cf 5
.Sh HISTORY
The
.Nm
script first appeared in
.Ox 2.2 .
@


1.8
log
@Matthias Pfaller rescinded clauses three and four of his license

http://mail-index.netbsd.org/source-changes/2009/10/18/msg002090.html
@
text
@d1 1
a1 1
.\"	$OpenBSD: genassym.sh.8,v 1.7 2007/05/31 19:19:59 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: May 31 2007 $
d84 1
a84 1
The script will exit with the return code from the compiler, or, in the
@


1.7
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: genassym.sh.8,v 1.6 2003/06/06 19:28:06 jmc Exp $
a14 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	  This product includes software developed by Matthias Pfaller.
.\" 4. The name of the author may not be used to endorse or promote products
.\"    derived from this software without specific prior written permission
d27 1
a27 1
.Dd $Mdocdate$
@


1.6
log
@- section reorder
- macro fixes
- kill whitespace at EOL
@
text
@d1 1
a1 1
.\"	$OpenBSD: genassym.sh.8,v 1.5 2003/02/26 15:05:07 david Exp $
d32 1
a32 1
.Dd January 25, 1997
@


1.5
log
@start new sentence on a new line
ok mpech@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: genassym.sh.8,v 1.4 2002/11/08 08:08:47 mpech Exp $
d55 1
a55 1
resides in the 
d58 1
a58 1
Arguments to 
@


1.4
log
@Time to cleanup:
o) start new sentence on a new line;
o) wrap long lines;
o) don't use .Pp before/after .Sh, .Ss;
o) OpenBSD -> .Ox;
o) typos;
o) close .Rs;
o) use space between arguments in tag, for example:
   .Xr blabla ) .

miod@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: genassym.sh.8,v 1.3 2001/11/14 20:18:43 ho Exp $
d84 2
a85 1
and run it. In both cases the assym.h file is written to stdout.
@


1.3
log
@Mention the return code of the script, as suggested by miod@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: genassym.sh.8,v 1.2 2001/11/13 13:54:26 mpech Exp $
d87 2
a88 2
called from the script. The script will exit with the return code
from the compiler, or, in the
@


1.2
log
@o) Fix bogus .Xr usage;
o) CAVEAT -> CAVEATS;
o) AUTHOR -> AUTHORS;
o) Start new sentence on a new line;
o) For URL and path names use .Pa;
o) We don't like .Pp before .Rs;
o) Don't use .Pp before/after .Sh;
o) OpenBSD -> .Ox;

millert@@ ok and help;
@
text
@d1 1
a1 1
.\"	$OpenBSD: genassym.sh.8,v 1.1 2001/09/16 14:32:27 miod Exp $
d87 4
a90 1
called from the script.
@


1.1
log
@Add a manual page for genassym.sh, from NetBSD.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d49 2
a50 1
reads from stdin. The generated file is used by kernel sources
d57 2
a58 1
directory. Arguments to 
d68 4
a71 3
are flag arguments to the C compiler. The script creates a C source file
from its input. Then the C compiler is called according to the script's
arguments to compile this file.
d76 4
a79 2
C source. The resulting file is then processed to extract the information
needed to create the assym.h file. The
d89 1
a89 1
.Xr genassym.cf 5 ,
@

