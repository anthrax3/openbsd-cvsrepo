head	1.18;
access;
symbols
	OPENBSD_4_7:1.17.0.10
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.17.0.12
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.17.0.8
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.17.0.6
	OPENBSD_4_4_BASE:1.17
	OPENBSD_4_3:1.17.0.4
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.17.0.2
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.16.0.16
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.16.0.14
	OPENBSD_4_0_BASE:1.16
	OPENBSD_3_9:1.16.0.12
	OPENBSD_3_9_BASE:1.16
	OPENBSD_3_8:1.16.0.10
	OPENBSD_3_8_BASE:1.16
	OPENBSD_3_7:1.16.0.8
	OPENBSD_3_7_BASE:1.16
	OPENBSD_3_6:1.16.0.6
	OPENBSD_3_6_BASE:1.16
	OPENBSD_3_5:1.16.0.4
	OPENBSD_3_5_BASE:1.16
	OPENBSD_3_4:1.16.0.2
	OPENBSD_3_4_BASE:1.16
	OPENBSD_3_3:1.12.0.2
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.11.0.2
	OPENBSD_3_2_BASE:1.11
	OPENBSD_3_1:1.10.0.4
	OPENBSD_3_1_BASE:1.10
	OPENBSD_3_0:1.10.0.2
	OPENBSD_3_0_BASE:1.10
	OPENBSD_2_9:1.7.0.8
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_8:1.7.0.6
	OPENBSD_2_8_BASE:1.7
	OPENBSD_2_7:1.7.0.4
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.7.0.2
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.1.0.2
	OPENBSD_2_2_BASE:1.1;
locks; strict;
comment	@# @;


1.18
date	2010.06.29.18.50.23;	author tedu;	state dead;
branches;
next	1.17;

1.17
date	2007.05.31.19.19.58;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2003.08.23.19.26.25;	author tedu;	state Exp;
branches;
next	1.15;

1.15
date	2003.07.21.12.46.47;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2003.06.06.19.28.06;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2003.05.06.08.56.12;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2003.02.19.09.10.36;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2002.07.04.17.36.15;	author miod;	state Exp;
branches;
next	1.10;

1.10
date	2001.10.05.14.45.54;	author mpech;	state Exp;
branches;
next	1.9;

1.9
date	2001.10.04.16.56.52;	author mpech;	state Exp;
branches;
next	1.8;

1.8
date	2001.08.17.11.13.58;	author mpech;	state Exp;
branches;
next	1.7;

1.7
date	99.09.23.04.12.06;	author alex;	state Exp;
branches;
next	1.6;

1.6
date	99.07.09.13.35.36;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.05.23.14.11.27;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.04.02.16.21.38;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	98.06.15.17.56.05;	author mickey;	state Exp;
branches;
next	1.2;

1.2
date	98.01.02.08.51.30;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	97.06.11.01.14.13;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.18
log
@remove compat_ultrix docs
@
text
@.\"	$OpenBSD: compat_ultrix.8,v 1.17 2007/05/31 19:19:58 jmc Exp $
.\"
.\" Copyright (c) 1997 Jonathan Stone
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by Jonathan Stone.
.\" 4. Neither the name of the author nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: May 31 2007 $
.Dt COMPAT_ULTRIX 8
.Os
.Sh NAME
.Nm compat_ultrix
.Nd setup for running Ultrix binaries under emulation
.Sh DESCRIPTION
OpenBSD/mips and OpenBSD/vax architectures can run RISC ULTRIX and Vax
ULTRIX executables, respectively.
However, the user is responsible for
the legal issues of ensuring that they have a right to use any ULTRIX
binaries on their machine.
Emulation is controlled by the kern.emul.ultrix
.Xr sysctl 8 .
.Pp
Most executables will work.
The exceptions include programs that use
proprietary, Ultrix-specific features (LAT, CI support, DECnet
support) and various system calls, ioctl()'s, or Ultrix kernel
semantics that are difficult to emulate (e.g., Ultrix packetfilter) or
buggy (e.g., Ultrix YP).
.Pp
All Ultrix executables are static, so no shared libraries are required
for Ultrix compatibility.
However, Ultrix is based on a
.Bx 4.3
alpha release.
Ultrix commands and libraries are often much older than their
.Ox
or even SunOS 4.x equivalents, and may require incompatible
configuration files.
.Sh SYSTEM CONFIGURATION FILES
Set up resolv.conf and svc.conf as below:
.Bd -literal -offset indent
# mkdir -p /emul/ultrix/etc
# cd /emul/ultrix/etc
# egrep 'domain|nameserver' /etc/resolv.conf > ./resolv.conf
# cp -p /usr/share/samples/emul/ultrix/etc/* ./
.Ed
.Ss /etc/resolv.conf
The Ultrix resolver library only understands
.Sy domain
and
.Sy nameserver
lines in
.Xr resolv.conf 5 .
A copy of
.Pa /etc/resolv.conf
should be created containing only those commands and put in
.Pa /emul/ultrix/etc/resolv.conf .
Note that the domain search order used by Ultrix executables may
not be the same as native binaries; there is no good way around this.
.Ss /etc/svc.conf
Ultrix uses
.Pa /etc/svc.conf
to select an ordered search of YP, Hesiod, or local flat-file mappings.
Create an
.Pa /emul/ultrix/etc/svc.conf
file specifying either
local files or bind (DNS) lookups for all Ultrix name services.
.Sh SEE ALSO
.Xr resolv.conf 5
.Sh BUGS
RISC Ultrix YP(NIS) is known to not work.
The Ultrix YP libraries have a consistent endian-ness bug.
Ultrix YP client will not inter-operate with the
.Ox
.Xr ypbind 8
process.
The only workaround is to use
.Pa /etc/svc.conf
to disable YP(NIS).
.Pp
The ndbm hashed-password file used by Ultrix is incompatible with the
db hashed-password file used by
.Ox .
There is no good solution for this.
(YP would be a good one, if Ultrix YP worked.)
.Pp
The API used by Xservers to talk to the kernel is currently compatible
with Ultrix 4.1.
An implementation of the Ultrix 4.2 Xws interface (used by X11R6) is
in progress.
.Pp
A complete list of things which fail to work in Ultrix compatibility
mode should be added here.
@


1.17
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.16 2003/08/23 19:26:25 tedu Exp $
d33 1
a33 1
.Dd $Mdocdate$
@


1.16
log
@document necessity for sysctl to enable compat code. ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.15 2003/07/21 12:46:47 jmc Exp $
d33 1
a33 1
.Dd June 7, 1997
@


1.15
log
@turn a list into a display and remove some .br's;
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.14 2003/06/06 19:28:06 jmc Exp $
d45 2
@


1.14
log
@- section reorder
- macro fixes
- kill whitespace at EOL
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.13 2003/05/06 08:56:12 jmc Exp $
d64 6
a69 10
.Pp
.Bl -tag -width 123 -compact -offset indent
.It # mkdir -p /emul/ultrix/etc
.br
.It # cd /emul/ultrix/etc
.br
.It # egrep 'domain|nameserver' /etc/resolv.conf  > ./resolv.conf
.br
.It # cp -p /usr/share/samples/emul/ultrix/etc/*	./
.El
@


1.13
log
@some typos from Leandro Costa, and a couple from myself.
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.12 2003/02/19 09:10:36 jmc Exp $
d95 2
a120 2
.Sh SEE ALSO
.Xr resolv.conf 5
@


1.12
log
@changes to compat:

* extensive use of .Pa for paths
* .Nm for kernel options
* `procedure' chopped from .Nd
* 2nd person -> passive
* updated instructions on getting freebsd/linux binaries
* various typos

thanks millert@@ and Grzegorz Czaplinski for help with FreeBSD stuff
prompts and ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.11 2002/07/04 17:36:15 miod Exp $
d40 1
a40 1
OpenBSD/mips and OpenBSD/vax architectures can run Risc ULTRIX and Vax
@


1.11
log
@Fix invalid .Xr's; from PR 2804
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.10 2001/10/05 14:45:54 mpech Exp $
d38 1
a38 1
.Nd setup procedure for running Ultrix binaries under emulation
d42 3
a44 3
However, you have to worry about
the legal issues of ensuring that you have a right to use any ULTRIX
binaries on your machine.
d81 4
a84 2
You should create a copy of /etc/resolv.conf containing only those
commands and put it in /emul/ultrix/etc/resolv.conf.
d88 6
a93 3
Ultrix uses /etc/svc.conf to select an ordered search of YP, Hesiod,
or local flat-file mappings.
You should create an /emul/ultrix/etc/svc.conf specifying either
d102 3
a104 1
The only workaround is to use /etc/svc.conf to disable YP(NIS).
d106 1
a106 1
The ndbm hashed-password file used by Ultrix are incompatible with the
@


1.10
log
@Powered by @@mantoya:
o) start new sentence on a new line;
o) minor mdoc fixes;
millert@@ ok

Tip of the day:   www.mpechismazohist.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.9 2001/10/04 16:56:52 mpech Exp $
d80 1
a80 1
.Xr  /etc/resolv.conf 5 .
@


1.9
log
@we don't like .Pp and blank lines before/after .Ss;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.8 2001/08/17 11:13:58 mpech Exp $
d41 2
a42 1
ULTRIX executables, respectively.  However, you have to worry about
d46 2
a47 1
Most executables will work.  The exceptions include programs that use
d54 2
a55 1
for Ultrix compatibility. However, Ultrix is based on a
d57 2
a58 3
alpha
release.  Ultrix commands and libraries are often much older than
their
d82 3
a84 3
commands and put it in /emul/ultrix/etc/resolv.conf.  Note that the
domain search order used by Ultrix executables may not be the same as
native binaries; there is no good way around this.
d87 3
a89 3
or local flat-file mappings.  You should create an
/emul/ultrix/etc/svc.conf specifying either local files or bind (DNS)
lookups for all Ultrix name services.
d91 3
a93 3
RISC Ultrix YP(NIS) is known to not work.  The Ultrix YP libraries have
a consistent endian-ness bug. Ultrix YP client will not inter-operate
with the
d96 2
a97 2
process.  The only workaround is to use
/etc/svc.conf to disable YP(NIS).
d106 3
a108 2
with Ultrix 4.1.  An implementation of the Ultrix 4.2 Xws interface
(used by X11R6) is in progress.
@


1.8
log
@o) {Open,Net,Free}BSD -> .{O,N,F}x;
o) "start sentence on new line" issues;
o) minimal -mdoc improvements;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.7 1999/09/23 04:12:06 alex Exp $
a71 1
.Pp
a82 1
.Pp
@


1.7
log
@Typo fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.6 1999/07/09 13:35:36 aaron Exp $
d56 3
a58 1
their OpenBSD or even SunOS 4.x equivalents, and may require incompatible
d93 2
a94 1
with the OpenBSD
d100 4
a103 2
db hashed-password file used by OpenBSD. There is no good solution for
this. (YP would be a good one, if Ultrix YP worked.)
@


1.6
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.5 1999/05/23 14:11:27 aaron Exp $
d52 1
a52 1
for Ultrix compatiblity. However, Ultrix is based on a
@


1.5
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.4 1999/04/02 16:21:38 aaron Exp $
d49 1
a49 1
buggy (e.g., Ultrix YP). 
d53 1
a53 1
.Bx 4.3 
d91 1
a91 1
with the OpenBSD 
d99 1
a99 1
.Pp 
@


1.4
log
@.Pp macros do not belong immiedately after .Sh section header lines
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.3 1998/06/15 17:56:05 mickey Exp $
d35 1
a35 1
.Os OpenBSD 1.3
@


1.3
log
@use Bx macro for BSD versions
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.2 1998/01/02 08:51:30 deraadt Exp $
a39 1

a88 1
.Pp
d107 1
a107 1
.Xr resolv.conf 5 .
@


1.2
log
@change .Nd to include the word "emulation"
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.1 1997/06/11 01:14:13 deraadt Exp $
d53 3
a55 1
for Ultrix compatiblity. However, Ultrix is based on a 4.3BSD alpha
@


1.1
log
@add; jonathan
@
text
@d1 1
a1 1
.\"	$OpenBSD: compat_ultrix.8,v 1.2 1997/06/08 23:55:27 jonathan Exp $
d38 1
a38 1
.Nd setup procedure for Ultrix compatibility on mips and vax architectures
@
