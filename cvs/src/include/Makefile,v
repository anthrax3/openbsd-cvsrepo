head	1.219;
access;
symbols
	OPENBSD_6_2_BASE:1.219
	OPENBSD_6_1:1.218.0.4
	OPENBSD_6_1_BASE:1.218
	OPENBSD_6_0:1.212.0.2
	OPENBSD_6_0_BASE:1.212
	OPENBSD_5_9:1.209.0.2
	OPENBSD_5_9_BASE:1.209
	OPENBSD_5_8:1.202.0.4
	OPENBSD_5_8_BASE:1.202
	OPENBSD_5_7:1.200.0.2
	OPENBSD_5_7_BASE:1.200
	OPENBSD_5_6:1.193.0.4
	OPENBSD_5_6_BASE:1.193
	OPENBSD_5_5:1.181.0.4
	OPENBSD_5_5_BASE:1.181
	OPENBSD_5_4:1.171.0.2
	OPENBSD_5_4_BASE:1.171
	OPENBSD_5_3:1.166.0.2
	OPENBSD_5_3_BASE:1.166
	OPENBSD_5_2:1.165.0.2
	OPENBSD_5_2_BASE:1.165
	OPENBSD_5_1_BASE:1.160
	OPENBSD_5_1:1.160.0.4
	OPENBSD_5_0:1.160.0.2
	OPENBSD_5_0_BASE:1.160
	OPENBSD_4_9:1.157.0.2
	OPENBSD_4_9_BASE:1.157
	OPENBSD_4_8:1.155.0.2
	OPENBSD_4_8_BASE:1.155
	OPENBSD_4_7:1.153.0.2
	OPENBSD_4_7_BASE:1.153
	OPENBSD_4_6:1.152.0.4
	OPENBSD_4_6_BASE:1.152
	OPENBSD_4_5:1.148.0.2
	OPENBSD_4_5_BASE:1.148
	OPENBSD_4_4:1.144.0.2
	OPENBSD_4_4_BASE:1.144
	OPENBSD_4_3:1.141.0.2
	OPENBSD_4_3_BASE:1.141
	OPENBSD_4_2:1.140.0.2
	OPENBSD_4_2_BASE:1.140
	OPENBSD_4_1:1.139.0.2
	OPENBSD_4_1_BASE:1.139
	OPENBSD_4_0:1.138.0.4
	OPENBSD_4_0_BASE:1.138
	OPENBSD_3_9:1.138.0.2
	OPENBSD_3_9_BASE:1.138
	OPENBSD_3_8:1.135.0.2
	OPENBSD_3_8_BASE:1.135
	OPENBSD_3_7:1.129.0.2
	OPENBSD_3_7_BASE:1.129
	OPENBSD_3_6:1.128.0.2
	OPENBSD_3_6_BASE:1.128
	OPENBSD_3_5:1.125.0.2
	OPENBSD_3_5_BASE:1.125
	OPENBSD_3_4:1.121.0.2
	OPENBSD_3_4_BASE:1.121
	OPENBSD_3_3:1.115.0.2
	OPENBSD_3_3_BASE:1.115
	OPENBSD_3_2:1.113.0.2
	OPENBSD_3_2_BASE:1.113
	OPENBSD_3_1:1.102.0.2
	OPENBSD_3_1_BASE:1.102
	OPENBSD_3_0:1.98.0.2
	OPENBSD_3_0_BASE:1.98
	OPENBSD_2_9:1.90.0.2
	OPENBSD_2_9_BASE:1.90
	OPENBSD_2_8:1.86.0.2
	OPENBSD_2_8_BASE:1.86
	OPENBSD_2_7:1.81.0.2
	OPENBSD_2_7_BASE:1.81
	OPENBSD_2_6:1.75.0.2
	OPENBSD_2_6_BASE:1.75
	OPENBSD_2_5:1.63.0.2
	OPENBSD_2_5_BASE:1.63
	OPENBSD_2_4:1.56.0.2
	OPENBSD_2_4_BASE:1.56
	OPENBSD_2_3:1.47.0.2
	OPENBSD_2_3_BASE:1.47
	OPENBSD_2_2:1.46.0.2
	OPENBSD_2_2_BASE:1.46
	OPENBSD_2_1:1.40.0.2
	OPENBSD_2_1_BASE:1.40
	OPENBSD_2_0:1.26.0.2
	OPENBSD_2_0_BASE:1.26
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.219
date	2017.04.17.15.53.21;	author kettenis;	state Exp;
branches;
next	1.218;
commitid	CwS5CiKF5Bc2ksoZ;

1.218
date	2017.03.12.23.28.13;	author guenther;	state Exp;
branches;
next	1.217;
commitid	mj3whMci9JgQ2gN0;

1.217
date	2017.01.27.13.30.39;	author jsg;	state Exp;
branches;
next	1.216;
commitid	GLTJNCc5P4IITnFj;

1.216
date	2016.11.12.03.04.27;	author jca;	state Exp;
branches;
next	1.215;
commitid	7VCcJlzN6Ic07gRX;

1.215
date	2016.11.08.19.56.56;	author tb;	state Exp;
branches;
next	1.214;
commitid	YEb6Mevys9Bi47K4;

1.214
date	2016.10.16.19.28.44;	author tb;	state Exp;
branches;
next	1.213;
commitid	uHRFWpwUBjIz0UuR;

1.213
date	2016.09.23.09.18.05;	author sthen;	state Exp;
branches;
next	1.212;
commitid	ki8tj1Td5fsEXoy5;

1.212
date	2016.05.07.21.58.24;	author tedu;	state Exp;
branches;
next	1.211;
commitid	WYyjAeH4XjsQYNtU;

1.211
date	2016.05.07.19.05.21;	author guenther;	state Exp;
branches;
next	1.210;
commitid	d9R7VGw9CHTkwXE1;

1.210
date	2016.03.09.16.28.46;	author deraadt;	state Exp;
branches;
next	1.209;
commitid	OSDG2O3Cgeifnf1W;

1.209
date	2016.01.20.19.09.52;	author jasper;	state Exp;
branches;
next	1.208;
commitid	y4w8Wl1eYroku8Ry;

1.208
date	2015.11.18.16.48.34;	author tedu;	state Exp;
branches;
next	1.207;
commitid	Vu3PWiiaxUHneTy7;

1.207
date	2015.11.14.23.56.49;	author deraadt;	state Exp;
branches;
next	1.206;
commitid	BrKaQHWTbuUdYB4P;

1.206
date	2015.09.27.14.52.47;	author kettenis;	state Exp;
branches;
next	1.205;
commitid	kKWPnOjEG0r1tTbM;

1.205
date	2015.09.14.08.24.37;	author guenther;	state Exp;
branches;
next	1.204;
commitid	K0kt6qeJijTCMYoW;

1.204
date	2015.09.14.08.16.14;	author guenther;	state Exp;
branches;
next	1.203;
commitid	6SDgVrKiCVDNNKz2;

1.203
date	2015.09.09.15.35.24;	author guenther;	state Exp;
branches;
next	1.202;
commitid	b4xqztRSgDeFBXls;

1.202
date	2015.07.23.06.04.12;	author yasuoka;	state Exp;
branches;
next	1.201;
commitid	UazYKkx60VL6rz5K;

1.201
date	2015.03.17.20.40.41;	author millert;	state Exp;
branches;
next	1.200;
commitid	nBZOTzmQsJPgHwD0;

1.200
date	2015.02.18.15.31.10;	author sthen;	state Exp;
branches;
next	1.199;
commitid	GM0rQhzyC3umQOA1;

1.199
date	2015.02.16.14.06.15;	author tedu;	state Exp;
branches;
next	1.198;
commitid	kajA1LvKbV1xCWlp;

1.198
date	2015.01.17.20.37.04;	author tedu;	state Exp;
branches;
next	1.197;
commitid	aUsNEiVsfxznv19X;

1.197
date	2014.12.08.20.39.56;	author tedu;	state Exp;
branches;
next	1.196;
commitid	ZjPqKptKictwXXmf;

1.196
date	2014.10.31.13.46.17;	author jsing;	state Exp;
branches;
next	1.195;
commitid	y63FmUITd26yVanM;

1.195
date	2014.09.16.00.19.31;	author matthieu;	state Exp;
branches;
next	1.194;
commitid	klHyzsFVgezD9s6w;

1.194
date	2014.08.31.09.36.36;	author miod;	state Exp;
branches;
next	1.193;
commitid	YFYjcCv9iW12xVv5;

1.193
date	2014.07.14.01.01.27;	author deraadt;	state Exp;
branches;
next	1.192;
commitid	HZnpnmFgYRysMudL;

1.192
date	2014.07.12.16.25.08;	author guenther;	state Exp;
branches;
next	1.191;
commitid	r9gXh8PA6rI3P7q2;

1.191
date	2014.07.11.21.50.28;	author tedu;	state Exp;
branches;
next	1.190;
commitid	PaaJlIn8gnpKrhV4;

1.190
date	2014.05.12.19.09.00;	author espie;	state Exp;
branches;
next	1.189;

1.189
date	2014.04.22.10.21.56;	author reyk;	state Exp;
branches;
next	1.188;

1.188
date	2014.04.19.15.58.56;	author henning;	state Exp;
branches;
next	1.187;

1.187
date	2014.04.11.22.51.52;	author miod;	state Exp;
branches;
next	1.186;

1.186
date	2014.03.26.18.13.15;	author eric;	state Exp;
branches;
next	1.185;

1.185
date	2014.03.24.19.09.14;	author kettenis;	state Exp;
branches;
next	1.184;

1.184
date	2014.03.23.23.41.31;	author tedu;	state Exp;
branches;
next	1.183;

1.183
date	2014.03.23.23.27.22;	author naddy;	state Exp;
branches;
next	1.182;

1.182
date	2014.03.13.10.09.43;	author florian;	state Exp;
branches;
next	1.181;

1.181
date	2013.12.08.17.05.09;	author naddy;	state Exp;
branches;
next	1.180;

1.180
date	2013.12.05.17.16.02;	author deraadt;	state Exp;
branches;
next	1.179;

1.179
date	2013.12.04.22.58.24;	author deraadt;	state Exp;
branches;
next	1.178;

1.178
date	2013.11.03.11.48.49;	author sthen;	state Exp;
branches;
next	1.177;

1.177
date	2013.10.19.09.00.18;	author deraadt;	state Exp;
branches;
next	1.176;

1.176
date	2013.09.29.14.54.07;	author deraadt;	state Exp;
branches;
next	1.175;

1.175
date	2013.08.24.06.55.39;	author jsg;	state Exp;
branches;
next	1.174;

1.174
date	2013.08.12.11.48.22;	author kettenis;	state Exp;
branches;
next	1.173;

1.173
date	2013.08.10.14.38.26;	author ajacoutot;	state Exp;
branches;
next	1.172;

1.172
date	2013.08.06.19.11.53;	author miod;	state Exp;
branches;
next	1.171;

1.171
date	2013.06.19.19.47.48;	author robert;	state Exp;
branches;
next	1.170;

1.170
date	2013.06.17.19.16.02;	author robert;	state Exp;
branches;
next	1.169;

1.169
date	2013.03.21.06.48.48;	author deraadt;	state Exp;
branches;
next	1.168;

1.168
date	2013.03.18.19.15.04;	author deraadt;	state Exp;
branches;
next	1.167;

1.167
date	2013.03.18.19.04.12;	author deraadt;	state Exp;
branches;
next	1.166;

1.166
date	2012.08.23.06.37.47;	author deraadt;	state Exp;
branches;
next	1.165;

1.165
date	2012.06.28.06.18.46;	author guenther;	state Exp;
branches;
next	1.164;

1.164
date	2012.06.26.16.16.16;	author deraadt;	state Exp;
branches;
next	1.163;

1.163
date	2012.06.19.17.15.02;	author espie;	state Exp;
branches;
next	1.162;

1.162
date	2012.04.22.23.43.38;	author espie;	state Exp;
branches;
next	1.161;

1.161
date	2012.03.21.23.20.35;	author matthew;	state Exp;
branches;
next	1.160;

1.160
date	2011.07.09.00.46.07;	author henning;	state Exp;
branches;
next	1.159;

1.159
date	2011.07.08.19.28.06;	author martynas;	state Exp;
branches;
next	1.158;

1.158
date	2011.04.28.18.05.39;	author martynas;	state Exp;
branches;
next	1.157;

1.157
date	2010.10.28.08.34.37;	author mikeb;	state Exp;
branches;
next	1.156;

1.156
date	2010.10.17.08.44.15;	author djm;	state Exp;
branches;
next	1.155;

1.155
date	2010.05.25.00.24.58;	author espie;	state Exp;
branches;
next	1.154;

1.154
date	2010.05.10.18.20.31;	author drahn;	state Exp;
branches;
next	1.153;

1.153
date	2010.02.03.20.49.58;	author miod;	state Exp;
branches;
next	1.152;

1.152
date	2009.06.24.13.04.24;	author millert;	state Exp;
branches;
next	1.151;

1.151
date	2009.06.20.12.19.44;	author millert;	state Exp;
branches;
next	1.150;

1.150
date	2009.06.03.14.45.45;	author jj;	state Exp;
branches;
next	1.149;

1.149
date	2009.04.21.19.14.33;	author ratchov;	state Exp;
branches;
next	1.148;

1.148
date	2008.10.27.00.26.33;	author ratchov;	state Exp;
branches;
next	1.147;

1.147
date	2008.10.26.12.02.53;	author espie;	state Exp;
branches;
next	1.146;

1.146
date	2008.09.07.20.36.07;	author martynas;	state Exp;
branches;
next	1.145;

1.145
date	2008.08.22.13.02.53;	author kettenis;	state Exp;
branches;
next	1.144;

1.144
date	2008.06.04.21.12.50;	author deraadt;	state Exp;
branches;
next	1.143;

1.143
date	2008.04.23.10.58.34;	author norby;	state Exp;
branches;
next	1.142;

1.142
date	2008.03.22.10.36.11;	author matthieu;	state Exp;
branches;
next	1.141;

1.141
date	2007.10.19.14.28.15;	author deraadt;	state Exp;
branches;
next	1.140;

1.140
date	2007.06.06.20.44.06;	author deraadt;	state Exp;
branches;
next	1.139;

1.139
date	2007.02.13.00.37.24;	author espie;	state Exp;
branches;
next	1.138;

1.138
date	2006.01.06.18.54.25;	author millert;	state Exp;
branches;
next	1.137;

1.137
date	2005.12.28.16.33.56;	author millert;	state Exp;
branches;
next	1.136;

1.136
date	2005.09.27.16.27.22;	author deraadt;	state Exp;
branches;
next	1.135;

1.135
date	2005.07.10.06.53.44;	author grange;	state Exp;
branches;
next	1.134;

1.134
date	2005.06.17.20.51.20;	author henning;	state Exp;
branches;
next	1.133;

1.133
date	2005.06.07.02.58.17;	author henning;	state Exp;
branches;
next	1.132;

1.132
date	2005.04.28.21.30.13;	author espie;	state Exp;
branches;
next	1.131;

1.131
date	2005.04.18.16.17.43;	author millert;	state Exp;
branches;
next	1.130;

1.130
date	2005.04.14.20.59.10;	author espie;	state Exp;
branches;
next	1.129;

1.129
date	2004.10.20.22.12.15;	author fgsch;	state Exp;
branches;
next	1.128;

1.128
date	2004.07.15.12.07.53;	author henning;	state Exp;
branches;
next	1.127;

1.127
date	2004.06.29.04.10.14;	author millert;	state Exp;
branches;
next	1.126;

1.126
date	2004.05.17.22.11.32;	author drahn;	state Exp;
branches;
next	1.125;

1.125
date	2004.03.08.23.31.51;	author drahn;	state Exp;
branches;
next	1.124;

1.124
date	2004.03.01.02.59.56;	author drahn;	state Exp;
branches;
next	1.123;

1.123
date	2004.01.23.18.21.13;	author espie;	state Exp;
branches;
next	1.122;

1.122
date	2004.01.03.14.08.52;	author espie;	state Exp;
branches;
next	1.121;

1.121
date	2003.07.21.21.13.18;	author millert;	state Exp;
branches;
next	1.120;

1.120
date	2003.07.15.19.18.00;	author deraadt;	state Exp;
branches;
next	1.119;

1.119
date	2003.07.14.16.14.43;	author mho;	state Exp;
branches;
next	1.118;

1.118
date	2003.06.02.08.45.58;	author markus;	state Exp;
branches;
next	1.117;

1.117
date	2003.05.14.08.01.02;	author mho;	state Exp;
branches;
next	1.116;

1.116
date	2003.05.09.02.17.18;	author millert;	state Exp;
branches;
next	1.115;

1.115
date	2003.01.20.18.12.52;	author marc;	state Exp;
branches;
next	1.114;

1.114
date	2002.12.03.21.54.21;	author miod;	state Exp;
branches;
next	1.113;

1.113
date	2002.09.03.18.59.55;	author markus;	state Exp;
branches;
next	1.112;

1.112
date	2002.06.16.14.42.22;	author naddy;	state Exp;
branches;
next	1.111;

1.111
date	2002.06.09.18.40.35;	author itojun;	state Exp;
branches;
next	1.110;

1.110
date	2002.06.09.18.33.36;	author itojun;	state Exp;
branches;
next	1.109;

1.109
date	2002.06.07.17.46.55;	author drahn;	state Exp;
branches;
next	1.108;

1.108
date	2002.06.07.03.00.01;	author art;	state Exp;
branches;
next	1.107;

1.107
date	2002.06.05.23.59.53;	author art;	state Exp;
branches;
next	1.106;

1.106
date	2002.06.02.07.43.33;	author deraadt;	state Exp;
branches;
next	1.105;

1.105
date	2002.06.02.06.36.33;	author deraadt;	state Exp;
branches;
next	1.104;

1.104
date	2002.06.01.01.35.35;	author deraadt;	state Exp;
branches;
next	1.103;

1.103
date	2002.05.08.19.39.24;	author espie;	state Exp;
branches;
next	1.102;

1.102
date	2002.04.08.04.53.57;	author fgsch;	state Exp;
branches;
next	1.101;

1.101
date	2002.02.18.22.16.37;	author mickey;	state Exp;
branches;
next	1.100;

1.100
date	2001.12.30.07.06.53;	author pvalchev;	state Exp;
branches;
next	1.99;

1.99
date	2001.11.06.20.28.07;	author deraadt;	state Exp;
branches;
next	1.98;

1.98
date	2001.09.03.16.45.08;	author deraadt;	state Exp;
branches;
next	1.97;

1.97
date	2001.07.31.18.01.59;	author deraadt;	state Exp;
branches;
next	1.96;

1.96
date	2001.07.11.03.02.25;	author pvalchev;	state Exp;
branches;
next	1.95;

1.95
date	2001.06.27.08.04.07;	author deraadt;	state Exp;
branches;
next	1.94;

1.94
date	2001.06.26.15.32.44;	author hin;	state Exp;
branches;
next	1.93;

1.93
date	2001.06.13.08.50.05;	author art;	state Exp;
branches;
next	1.92;

1.92
date	2001.05.31.14.03.04;	author art;	state Exp;
branches;
next	1.91;

1.91
date	2001.05.14.12.34.27;	author espie;	state Exp;
branches;
next	1.90;

1.90
date	2001.03.18.17.39.54;	author millert;	state Exp;
branches;
next	1.89;

1.89
date	2001.03.02.13.27.04;	author espie;	state Exp;
branches;
next	1.88;

1.88
date	2000.12.18.16.51.49;	author brad;	state Exp;
branches;
next	1.87;

1.87
date	2000.11.21.00.51.30;	author millert;	state Exp;
branches;
next	1.86;

1.86
date	2000.10.10.12.12.28;	author hugh;	state Exp;
branches;
next	1.85;

1.85
date	2000.10.01.03.19.04;	author rahnds;	state Exp;
branches;
next	1.84;

1.84
date	2000.09.19.20.06.55;	author deraadt;	state Exp;
branches;
next	1.83;

1.83
date	2000.09.03.18.41.13;	author espie;	state Exp;
branches;
next	1.82;

1.82
date	2000.08.20.18.37.19;	author millert;	state Exp;
branches;
next	1.81;

1.81
date	2000.03.10.22.04.18;	author niklas;	state Exp;
branches;
next	1.80;

1.80
date	2000.02.29.03.28.38;	author deraadt;	state Exp;
branches;
next	1.79;

1.79
date	2000.02.25.17.37.43;	author hin;	state Exp;
branches;
next	1.78;

1.78
date	2000.02.23.06.55.59;	author itojun;	state Exp;
branches;
next	1.77;

1.77
date	2000.02.19.15.28.41;	author deraadt;	state Exp;
branches;
next	1.76;

1.76
date	99.11.20.18.08.33;	author espie;	state Exp;
branches;
next	1.75;

1.75
date	99.10.05.22.29.36;	author beck;	state Exp;
branches;
next	1.74;

1.74
date	99.10.05.18.02.03;	author beck;	state Exp;
branches;
next	1.73;

1.73
date	99.09.27.06.28.49;	author beck;	state Exp;
branches;
next	1.72;

1.72
date	99.09.27.04.48.20;	author deraadt;	state Exp;
branches;
next	1.71;

1.71
date	99.09.24.22.33.10;	author espie;	state Exp;
branches;
next	1.70;

1.70
date	99.07.01.21.41.32;	author deraadt;	state Exp;
branches;
next	1.69;

1.69
date	99.06.24.15.18.11;	author espie;	state Exp;
branches;
next	1.68;

1.68
date	99.06.22.14.41.35;	author art;	state Exp;
branches;
next	1.67;

1.67
date	99.05.29.01.31.26;	author angelos;	state Exp;
branches;
next	1.66;

1.66
date	99.05.26.16.02.55;	author espie;	state Exp;
branches;
next	1.65;

1.65
date	99.05.18.15.43.58;	author espie;	state Exp;
branches;
next	1.64;

1.64
date	99.05.09.00.21.13;	author millert;	state Exp;
branches;
next	1.63;

1.63
date	99.03.29.03.07.39;	author rahnds;	state Exp;
branches;
next	1.62;

1.62
date	99.03.09.00.01.41;	author niklas;	state Exp;
branches;
next	1.61;

1.61
date	99.03.02.21.47.33;	author niklas;	state Exp;
branches;
next	1.60;

1.60
date	99.02.26.00.54.00;	author deraadt;	state Exp;
branches;
next	1.59;

1.59
date	99.02.12.04.46.27;	author millert;	state Exp;
branches;
next	1.58;

1.58
date	99.02.01.22.59.15;	author d;	state Exp;
branches;
next	1.57;

1.57
date	99.01.08.00.33.48;	author deraadt;	state Exp;
branches;
next	1.56;

1.56
date	98.10.07.02.36.48;	author deraadt;	state Exp;
branches;
next	1.55;

1.55
date	98.09.07.05.50.02;	author art;	state Exp;
branches;
next	1.54;

1.54
date	98.07.23.21.21.24;	author millert;	state Exp;
branches;
next	1.53;

1.53
date	98.07.21.22.23.18;	author provos;	state Exp;
branches;
next	1.52;

1.52
date	98.07.17.22.47.46;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	98.07.07.18.49.01;	author art;	state Exp;
branches;
next	1.50;

1.50
date	98.06.25.06.25.42;	author deraadt;	state Exp;
branches;
next	1.49;

1.49
date	98.06.07.23.20.12;	author millert;	state Exp;
branches;
next	1.48;

1.48
date	98.05.04.10.21.10;	author provos;	state Exp;
branches;
next	1.47;

1.47
date	98.03.03.21.15.22;	author niklas;	state Exp;
branches;
next	1.46;

1.46
date	97.08.18.05.29.41;	author millert;	state Exp;
branches;
next	1.45;

1.45
date	97.08.17.21.31.23;	author millert;	state Exp;
branches;
next	1.44;

1.44
date	97.07.23.04.30.15;	author denny;	state Exp;
branches;
next	1.43;

1.43
date	97.07.17.05.36.59;	author millert;	state Exp;
branches;
next	1.42;

1.42
date	97.06.29.10.28.23;	author provos;	state Exp;
branches;
next	1.41;

1.41
date	97.05.30.08.27.22;	author downsj;	state Exp;
branches;
next	1.40;

1.40
date	97.04.27.20.55.58;	author millert;	state Exp;
branches;
next	1.39;

1.39
date	97.04.19.21.26.15;	author millert;	state Exp;
branches;
next	1.38;

1.38
date	97.02.27.18.14.50;	author downsj;	state Exp;
branches;
next	1.37;

1.37
date	97.02.13.22.41.51;	author provos;	state Exp;
branches;
next	1.36;

1.36
date	97.02.03.00.08.24;	author millert;	state Exp;
branches;
next	1.35;

1.35
date	97.02.02.23.18.43;	author millert;	state Exp;
branches;
next	1.34;

1.34
date	96.12.22.06.29.00;	author deraadt;	state Exp;
branches;
next	1.33;

1.33
date	96.12.19.23.43.02;	author etheisen;	state Exp;
branches;
next	1.32;

1.32
date	96.12.08.15.26.51;	author downsj;	state Exp;
branches;
next	1.31;

1.31
date	96.11.16.21.53.10;	author downsj;	state Exp;
branches;
next	1.30;

1.30
date	96.11.15.09.25.19;	author downsj;	state Exp;
branches;
next	1.29;

1.29
date	96.11.11.04.55.01;	author downsj;	state Exp;
branches;
next	1.28;

1.28
date	96.11.05.00.54.17;	author downsj;	state Exp;
branches;
next	1.27;

1.27
date	96.10.27.20.22.45;	author etheisen;	state Exp;
branches;
next	1.26;

1.26
date	96.10.06.19.59.52;	author pefo;	state Exp;
branches;
next	1.25;

1.25
date	96.09.29.23.52.34;	author millert;	state Exp;
branches;
next	1.24;

1.24
date	96.09.29.16.13.19;	author millert;	state Exp;
branches;
next	1.23;

1.23
date	96.09.27.14.58.21;	author millert;	state Exp;
branches;
next	1.22;

1.22
date	96.09.05.11.01.32;	author pefo;	state Exp;
branches;
next	1.21;

1.21
date	96.08.16.09.40.02;	author mickey;	state Exp;
branches;
next	1.20;

1.20
date	96.08.16.04.19.14;	author downsj;	state Exp;
branches;
next	1.19;

1.19
date	96.07.27.02.39.40;	author tholo;	state Exp;
branches;
next	1.18;

1.18
date	96.07.24.09.05.05;	author mickey;	state Exp;
branches;
next	1.17;

1.17
date	96.07.24.05.10.20;	author downsj;	state Exp;
branches;
next	1.16;

1.16
date	96.06.19.11.20.19;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	96.06.12.11.21.39;	author deraadt;	state Exp;
branches;
next	1.14;

1.14
date	96.06.11.23.45.06;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	96.06.10.06.23.19;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	96.06.03.22.28.40;	author niklas;	state Exp;
branches;
next	1.11;

1.11
date	96.06.02.22.39.08;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	96.06.02.21.49.01;	author tholo;	state Exp;
branches;
next	1.9;

1.9
date	96.06.02.07.28.42;	author tholo;	state Exp;
branches;
next	1.8;

1.8
date	96.05.22.11.34.45;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	96.05.06.21.44.19;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	96.05.01.13.09.10;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	96.04.18.01.40.09;	author mickey;	state Exp;
branches;
next	1.4;

1.4
date	96.02.21.02.40.07;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	96.02.15.07.45.12;	author etheisen;	state Exp;
branches;
next	1.2;

1.2
date	95.10.24.10.06.22;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.41.11;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.41.11;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.219
log
@Change build infrastructure to allow building both gcc and clang.  This
doesn't actually flip the switch yet, so aarch64 continues to be the only
architecture for which we build clang.

ok jsg@@, deraadt@@
@
text
@#	$OpenBSD: Makefile,v 1.218 2017/03/12 23:28:13 guenther Exp $
#	$NetBSD: Makefile,v 1.59 1996/05/15 21:36:43 jtc Exp $

#	@@(#)Makefile	5.45.1.1 (Berkeley) 5/6/91

# The ``rm -rf''s used below are safe because rm doesn't follow symbolic
# links.


.include <bsd.own.mk>

FILES=	a.out.h ar.h asr.h assert.h bitstring.h blf.h bsd_auth.h \
	complex.h cpio.h ctype.h curses.h db.h dirent.h disktab.h \
	dlfcn.h elf_abi.h err.h errno.h fenv.h float.h fnmatch.h fstab.h fts.h \
	ftw.h getopt.h glob.h grp.h icdb.h ieeefp.h ifaddrs.h inttypes.h \
	iso646.h kvm.h langinfo.h libgen.h limits.h link.h link_elf.h \
	locale.h login_cap.h math.h md5.h memory.h ndbm.h netdb.h netgroup.h \
	nlist.h nl_types.h paths.h poll.h pwd.h ranlib.h readpassphrase.h \
	regex.h resolv.h rmd160.h search.h setjmp.h sha1.h sha2.h signal.h \
	siphash.h sndio.h spawn.h stdbool.h stddef.h stdio.h stdlib.h \
	string.h strings.h sysexits.h tar.h tgmath.h tib.h time.h \
	ttyent.h unistd.h utime.h utmp.h uuid.h vis.h wchar.h wctype.h

MFILES=	frame.h
LFILES=	endian.h fcntl.h syslog.h termios.h stdarg.h stdint.h varargs.h

DIRS=	arpa protocols rpc rpcsvc
LDIRS=	crypto ddb dev isofs miscfs msdosfs net netinet netinet6 \
	netmpls net80211 nfs ntfs scsi sys ufs uvm

# Places that need a prerequisite target met before includes
PRDIRS=	../lib/libcrypto ../lib/librpcsvc

# Directories with an includes target
RDIRS=	../lib/libcurses ../lib/libedit \
	../lib/libevent ../lib/libexpat ../lib/libform \
	../lib/libfuse ../lib/libkeynote ../lib/libmenu \
	../lib/libossaudio ../lib/libpanel ../lib/libpcap \
	../lib/libradius ../lib/librthread \
	../lib/libskey ../lib/libssl  ../lib/libtls \
	../lib/libusbhid ../lib/libutil ../lib/libz \
	../usr.bin/lex ../gnu/lib/libreadline \
	../sys/arch/${MACHINE}

.if ${BUILD_GCC3:L} == "yes"
RDIRS+= ../gnu/usr.bin/gcc ../gnu/lib/libobjc
PRDIRS+= ../gnu/lib/libstdc++
.endif
.if ${BUILD_GCC4:L} == "yes"
RDIRS+= ../gnu/usr.bin/cc/libobjc
PRDIRS+= ../gnu/lib/libstdc++-v3 ../gnu/usr.bin/cc/include
.endif
.if ${BUILD_CLANG:L} == "yes"
RDIRS+= ../lib/libcxxabi ../lib/libcxx
.endif

# prereq implies includes
RDIRS += ${PRDIRS}

NOOBJ=	noobj

# Change SYS_INCLUDE in bsd.own.mk to "symlinks" if you don't want copies
SYS_INCLUDE?=	copies

RUN_MAKE = if test -f Makefile.bsd-wrapper; then ${MAKE} -f Makefile.bsd-wrapper $@@; else ${MAKE} $@@; fi

prereq:
	@@for i in ${PRDIRS}; do \
		echo preparing in ${.CURDIR}/$$i; \
		cd ${.CURDIR}/$$i && ${RUN_MAKE}; \
	done

includes:
	@@echo installing ${FILES}
	@@for i in ${FILES}; do \
		cmp -s $$i ${DESTDIR}/usr/include/$$i || \
		    ${INSTALL} ${INSTALL_COPY} -m 444 $$i ${DESTDIR}/usr/include/$$i; \
	done
	@@echo installing ${DIRS}
	@@for i in ${DIRS}; do \
		${INSTALL} -d -o ${BINOWN} -g ${BINGRP} -m 755 \
			${DESTDIR}/usr/include/$$i; \
		cd ${.CURDIR}/$$i && for j in *.[ih]; do \
			cmp -s $$j ${DESTDIR}/usr/include/$$i/$$j || \
			${INSTALL} ${INSTALL_COPY} -m 444 $$j ${DESTDIR}/usr/include/$$i/$$j; \
		done; \
	done
	@@echo installing ${LFILES}
	@@for i in ${LFILES}; do \
		rm -f ${DESTDIR}/usr/include/$$i && \
		ln -s sys/$$i ${DESTDIR}/usr/include/$$i; \
	done
	@@echo installing ${MFILES}
	@@for i in ${MFILES}; do \
		rm -f ${DESTDIR}/usr/include/$$i && \
		ln -s machine/$$i ${DESTDIR}/usr/include/$$i; \
	done
	@@for i in ${RDIRS}; do \
		echo installing in ${.CURDIR}/$$i; \
		cd ${.CURDIR}/$$i && ${RUN_MAKE}; \
	done
	chown -RP ${BINOWN}:${BINGRP} ${DESTDIR}/usr/include
	find ${DESTDIR}/usr/include -type f -print0 | \
		xargs -0r chmod a=r
	find ${DESTDIR}/usr/include \( -type d -o -type l \) -print0 | \
		xargs -0r chmod -h u=rwx,go=rx

copies:
	@@echo copies: ${LDIRS}
	@@for i in ${LDIRS}; do \
		rm -rf ${DESTDIR}/usr/include/$$i && \
		${INSTALL} -d -o ${BINOWN} -g ${BINGRP} -m 755 \
			${DESTDIR}/usr/include/$$i ; \
	done
	cd ../sys; \
	pax -rw -pa -L \
	    `find ${LDIRS} -follow -type f -name '*.h' '!' \
	    '(' -path 'dev/microcode/*' -or -path 'dev/pci/drm/*' ')' \
	    -print` ${DESTDIR}/usr/include
	cd ${DESTDIR}/usr/include && rm -rf ${MACHINE} ${MACHINE_CPU} machine
	${INSTALL} -d -o ${BINOWN} -g ${BINGRP} -m 755 \
		${DESTDIR}/usr/include/${MACHINE}
	pax -rw -pa -s "|\.\./sys/arch/${MACHINE}/include||" \
	    ../sys/arch/${MACHINE}/include/*.h \
	    ${DESTDIR}/usr/include/${MACHINE}
	if test ${MACHINE} != ${MACHINE_CPU} -a \
	    -d ../sys/arch/${MACHINE_CPU}/include; then \
		${INSTALL} -d -o ${BINOWN} -g ${BINGRP} -m 755 \
	    	    ${DESTDIR}/usr/include/${MACHINE_CPU}; \
		pax -rw -pa -s "|\.\./sys/arch/${MACHINE_CPU}/include||" \
		    ../sys/arch/${MACHINE_CPU}/include/*.h \
		    ${DESTDIR}/usr/include/${MACHINE_CPU}; \
	fi
	ln -sf ${MACHINE} ${DESTDIR}/usr/include/machine; \

symlinks:
	@@echo symlinks: ${LDIRS}
	@@for i in ${LDIRS}; do \
		rm -rf ${DESTDIR}/usr/include/$$i && \
		ln -s /sys/$$i ${DESTDIR}/usr/include/$$i; \
	done
	cd ${DESTDIR}/usr/include && rm -rf ${MACHINE} ${MACHINE_CPU} machine
	ln -s /sys/arch/${MACHINE}/include ${DESTDIR}/usr/include/${MACHINE}
	if test ${MACHINE} != ${MACHINE_CPU} -a \
	    -d ../sys/arch/${MACHINE_CPU}/include ; then \
		ln -s /sys/arch/${MACHINE_CPU}/include \
		    ${DESTDIR}/usr/include/${MACHINE_CPU} ; \
	fi
	ln -sf ${MACHINE} ${DESTDIR}/usr/include/machine

includes: ${SYS_INCLUDE}

.PHONY: prereq includes copies symlink
.include <bsd.prog.mk>
@


1.218
log
@<struct.h> is unused and should not be used.  Delete it.

ok millert@@ deraadt@@ kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.217 2017/01/27 13:30:39 jsg Exp $
d45 1
a45 1
.if ${COMPILER_VERSION:L} == "gcc3"
d48 2
a49 1
.elif ${COMPILER_VERSION:L} == "gcc4"
d52 2
a53 1
.elif ${COMPILER_VERSION:L} == "clang"
@


1.217
log
@install libcxxabi and libcxx headers when COMPILER_VERSION is clang
ok patrick@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.216 2016/11/12 03:04:27 jca Exp $
d21 1
a21 1
	string.h strings.h struct.h sysexits.h tar.h tgmath.h tib.h time.h \
@


1.216
log
@Kill the /usr/include/ssl symlink

Proposed some time ago by tedu@@, builk build by ajacoutot@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.215 2016/11/08 19:56:56 tb Exp $
d48 1
a48 1
.else
d51 2
@


1.215
log
@Set owners and permissions only after all headers are installed. Add the -P
flag to chown to change the symlinks themselves instead of their targets.
Also change permissions of all symlinks, so they don't depend on the umask
during make build.

ok millert
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.214 2016/10/16 19:28:44 tb Exp $
a83 1
	@@ln -sfh openssl ${DESTDIR}/usr/include/ssl
@


1.214
log
@Move libcrypto, librpcsvc and gnu/usr.bin/cc/include from RDIRS to PRDIRS,
and add prereq targets, so some header files are generated by BUILDUSER
during 'make prereq' instead of by root during 'make includes'.

Switch the order of 'make cleandir' and 'make includes' during 'make build'
so we don't generate many files twice.

Except for some machine@@ symlinks from ${MACHINE}/stand, /usr/obj is now
clean from files generated by root during 'make build'. Those will be
cleaned up in a second step.

help, testing & ok deraadt, input from natano, further testing rpe
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.213 2016/09/23 09:18:05 sthen Exp $
a94 5
	chown -R ${BINOWN}:${BINGRP} ${DESTDIR}/usr/include
	find ${DESTDIR}/usr/include -type f -print0 | \
		xargs -0r chmod a=r
	find ${DESTDIR}/usr/include -type d -print0 | \
		xargs -0r chmod u=rwx,go=rx
d99 5
@


1.213
log
@Unhook sqlite3.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.212 2016/05/07 21:58:24 tedu Exp $
d32 1
a32 1
PRDIRS=
d35 1
a35 1
RDIRS=	../lib/libcrypto ../lib/libcurses ../lib/libedit \
d39 1
a39 1
	../lib/libradius ../lib/librpcsvc ../lib/librthread \
d50 1
a50 2
PRDIRS+= ../gnu/lib/libstdc++-v3
RDIRS+= ../gnu/usr.bin/cc/include
@


1.212
log
@remove dbm.h
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.211 2016/05/07 19:05:21 guenther Exp $
d38 3
a40 3
	../lib/libossaudio ../lib/libpanel \
	../lib/libpcap ../lib/libradius ../lib/librpcsvc ../lib/librthread \
	../lib/libskey ../lib/libsqlite3 ../lib/libssl  ../lib/libtls \
@


1.211
log
@Use a Thread Information Block in both single and multi-threaded programs.
This stores errno, the cancelation flags, and related bits for each thread
and is allocated by ld.so or libc.a.  This is an ABI break from 5.9-stable!

Make libpthread dlopen'able by moving the cancelation wrappers into libc
and doing locking and fork/errno handling via callbacks that libpthread
registers when it first initializes.  'errno' *must* be declared via
<errno.h> now!

Clean up libpthread's symbol exports like libc.

On powerpc, offset the TIB/TCB/TLS data from the register per the ELF spec.

Testing by various, particularly sthen@@ and patrick@@
ok kettenis@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.210 2016/03/09 16:28:46 deraadt Exp $
d13 1
a13 1
	complex.h cpio.h ctype.h curses.h db.h dbm.h dirent.h disktab.h \
@


1.210
log
@We are done providing support for the vax.
lots of agreement.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.209 2016/01/20 19:09:52 jasper Exp $
d21 1
a21 1
	string.h strings.h struct.h sysexits.h tar.h tgmath.h time.h \
@


1.209
log
@After nearly 20 years of warning that malloc.h is obsolete, it's about time we
actually remove this header. It was originally added for ports, which is
malloc.h-free now.

additional ports bulk by aja@@
ok bently@@ dcoppa@@ millert@@ sthen@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.208 2015/11/18 16:48:34 tedu Exp $
d15 8
a22 15
	ftw.h getopt.h glob.h grp.h icdb.h ifaddrs.h inttypes.h iso646.h kvm.h \
	langinfo.h libgen.h limits.h locale.h login_cap.h math.h \
	md5.h memory.h ndbm.h netdb.h netgroup.h nlist.h nl_types.h \
	paths.h poll.h pwd.h ranlib.h readpassphrase.h regex.h \
	resolv.h rmd160.h search.h setjmp.h sha1.h sha2.h signal.h siphash.h \
	sndio.h \
	spawn.h stdbool.h stddef.h stdio.h stdlib.h string.h strings.h struct.h \
	sysexits.h tar.h tgmath.h time.h ttyent.h unistd.h utime.h \
	utmp.h uuid.h vis.h wchar.h wctype.h

FILES+=	link.h link_elf.h

.if (${MACHINE_ARCH} != "vax")
FILES+= ieeefp.h
.endif
@


1.208
log
@add icdb.h here (this header may go away entirely, but the functions
need to live somewhere in the meantime.)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.207 2015/11/14 23:56:49 deraadt Exp $
d16 1
a16 1
	langinfo.h libgen.h limits.h locale.h login_cap.h malloc.h math.h \
@


1.207
log
@libocurses can go to the Attic.  last consumer of it was ramdisk more(1)
conceptual ok guenther millert nicm
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.206 2015/09/27 14:52:47 kettenis Exp $
d15 1
a15 1
	ftw.h getopt.h glob.h grp.h ifaddrs.h inttypes.h iso646.h kvm.h \
@


1.206
log
@Stop installing any header files in /usr/include/dev/pci/drm.
Userland should get these from /usr/X11R6/include/libdrm.

ok deraadt@@ (and suggested by jsg@@)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.205 2015/09/14 08:24:37 guenther Exp $
d45 1
a45 1
	../lib/libocurses ../lib/libossaudio ../lib/libpanel \
@


1.205
log
@Revert: finger slip
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.203 2015/09/09 15:35:24 guenther Exp $
d123 1
a123 1
	    '(' -path 'dev/microcode/*' -or -path 'dev/pci/drm/*/*' ')' \
@


1.204
log
@Prefer the standardized <poll.h> over <sys/poll.h>
@
text
@a119 3
	${MAKE} just-sys

just-sys:
@


1.203
log
@Stop exporting from libc the <mpool.h> and the mpool_* API

ports scan by sthen@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.202 2015/07/23 06:04:12 yasuoka Exp $
d120 3
@


1.202
log
@Build and install libradius as default.

ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.201 2015/03/17 20:40:41 millert Exp $
d17 1
a17 1
	md5.h memory.h mpool.h ndbm.h netdb.h netgroup.h nlist.h nl_types.h \
@


1.201
log
@Remove obsolete copy of tzfile.h.  It is an internal tzcode header
that should never have been installed.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.200 2015/02/18 15:31:10 sthen Exp $
d46 2
a47 2
	../lib/libpcap ../lib/librpcsvc ../lib/librthread ../lib/libskey \
	../lib/libsqlite3 ../lib/libssl  ../lib/libtls \
@


1.200
log
@Make sure to replace an existing /usr/include/ssl symlink, otherwise repeated
builds will have a bogus /usr/include/openssl/openssl as found by naddy. ok jca@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.199 2015/02/16 14:06:15 tedu Exp $
d22 1
a22 1
	sysexits.h tar.h tgmath.h time.h ttyent.h tzfile.h unistd.h utime.h \
@


1.199
log
@stop deleting the openssl include directory, causing unnecessary rebuilds.
ok jca sthen
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.198 2015/01/17 20:37:04 tedu Exp $
d92 1
a92 1
	@@ln -sf openssl ${DESTDIR}/usr/include/ssl
@


1.198
log
@remove des.h. it somehow escaped from ssleay into /usr/include, but none
of the functions prototyped here exist in libc, making it useless.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.197 2014/12/08 20:39:56 tedu Exp $
a91 4
	@@rm -rf ${DESTDIR}/usr/include/openssl ${DESTDIR}/usr/include/ssl \
		${DESTDIR}/usr/libdata/perl5/site_perl/${MACHINE_CPU}-openbsd/ssl \
		${DESTDIR}/usr/libdata/perl5/site_perl/${MACHINE_CPU}-openbsd/openssl
	@@mkdir ${DESTDIR}/usr/include/openssl
@


1.197
log
@header changes for recent libc changes:
add siphash
delete setkey, encrypt, cfree
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.196 2014/10/31 13:46:17 jsing Exp $
d13 1
a13 1
	complex.h cpio.h ctype.h curses.h db.h dbm.h des.h dirent.h disktab.h \
@


1.196
log
@Rename libressl to libtls to avoid confusion and to make it easier to
distinguish between LibreSSL (the project) and libressl (the library).

Discussed with many.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.195 2014/09/16 00:19:31 matthieu Exp $
d19 2
a20 1
	resolv.h rmd160.h search.h setjmp.h sha1.h sha2.h signal.h sndio.h \
@


1.195
log
@Missed this sendmail reference in the sendmail removal
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.194 2014/08/31 09:36:36 miod Exp $
d45 3
a47 3
	../lib/libpcap ../lib/libressl ../lib/librpcsvc \
	../lib/librthread ../lib/libskey ../lib/libsqlite3 \
	../lib/libssl ../lib/libusbhid ../lib/libutil ../lib/libz \
@


1.194
log
@Add uuid support routines to libc. From FreeBSD via NetBSD via Bitrig via
Markus Mueller.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.193 2014/07/14 01:01:27 deraadt Exp $
a48 1
	../gnu/usr.sbin/sendmail/libmilter \
@


1.193
log
@enter libressl for make includes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.192 2014/07/12 16:25:08 guenther Exp $
d22 1
a22 1
	utmp.h vis.h wchar.h wctype.h
@


1.192
log
@Tackle the endian.h mess.  Make it so that:
 * you can #include <sys/endian.h> instead of <machine/endian.h>,
   and ditto <endian.h>  (fixes code that pulls in <sys/endian.h> first)

 * those will always export the symbols that POSIX specified for
   <endian.h>, including the new {be,le}{16,32,64}toh() set.  c.f.
	http://austingroupbugs.net/view.php?id=162

   if __BSD_VISIBLE then you also get the symbols that our <machine/endian.h>
   currently exports (ntohs, NTOHS, dlg's bemtoh*, etc)

 * when doing POSIX compiles (not __BSD_VISIBLE), then <netinet/in.h> and
   <arpa/inet.h> will *stop* exporting the extra symbols like BYTE_ORDER
   and betoh*

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.191 2014/07/11 21:50:28 tedu Exp $
d41 7
a47 7
RDIRS=	../lib/libcrypto ../lib/libcurses \
	../lib/libedit ../lib/libevent ../lib/libexpat \
	../lib/libform ../lib/libfuse ../lib/libkeynote \
	../lib/libmenu ../lib/libocurses ../lib/libossaudio \
	../lib/libpanel ../lib/libpcap ../lib/librpcsvc ../lib/librthread \
	../lib/libskey ../lib/libsqlite3 ../lib/libssl \
	../lib/libusbhid ../lib/libutil ../lib/libz \
@


1.191
log
@stop installing netbt headers
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.190 2014/05/12 19:09:00 espie Exp $
d31 1
a31 1
LFILES=	fcntl.h syslog.h termios.h stdarg.h stdint.h varargs.h
@


1.190
log
@move the ohash functions into libutil by popular demand.
It's not a standard interface, so it doesn't belong in libc.
I hate duplicating the code in client programs, so do beck@@, kettenis@@,
schwarze@@, millert@@, miod@@... and they agree with libutil.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.189 2014/04/22 10:21:56 reyk Exp $
d35 1
a35 1
	netmpls net80211 netbt nfs ntfs scsi sys ufs uvm
@


1.189
log
@Remove KERBEROS5 from the Makefiles (except ssh for now, where it is
already manually disabled).

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.188 2014/04/19 15:58:56 henning Exp $
d18 1
a18 1
	ohash.h paths.h poll.h pwd.h ranlib.h readpassphrase.h regex.h \
@


1.188
log
@stop installing altq includes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.186 2014/03/26 18:13:15 eric Exp $
a67 14

.if ${KERBEROS5:L} == "yes"
RDIRS+=../kerberosV/lib/libasn1
RDIRS+=../kerberosV/lib/libgssapi
RDIRS+=../kerberosV/lib/libhdb
RDIRS+=../kerberosV/lib/libkadm5clnt
RDIRS+=../kerberosV/lib/libkafs
RDIRS+=../kerberosV/lib/libkrb5
RDIRS+=../kerberosV/lib/libroken
RDIRS+=../kerberosV/lib/libkdc
RDIRS+=../kerberosV/lib/libwind
RDIRS+=../kerberosV/lib/libheimbase
RDIRS+=../kerberosV/lib/libcom_err
.endif
@


1.187
log
@Move build machinery for libcrypto from libssl/crypto to libcrypto, as well
as configuration files; split manpages and .pc files between libcrypto and
libssl.
No functional change, only there to make engineering easier, and libcrypto
sources are still found in libssl/src/crypto at the moment.

ok reyk@@, also discussed with deraadt@@ beck@@ and the usual crypto suspects.
@
text
@d34 1
a34 1
LDIRS=	altq crypto ddb dev isofs miscfs msdosfs net netinet netinet6 \
@


1.186
log
@Make the asr API public.  Install asr.h to /usr/include.h and manpages.
Include tweaks suggested by mpi@@

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.185 2014/03/24 19:09:14 kettenis Exp $
d41 8
a48 6
RDIRS=	../lib/librthread ../lib/libcurses ../lib/libform ../lib/libssl \
	../lib/libmenu ../lib/libocurses ../lib/libossaudio ../lib/libpanel \
	../lib/librpcsvc ../lib/libskey ../lib/libedit ../lib/libexpat \
	../lib/libfuse ../lib/libpcap ../lib/libsqlite3 ../lib/libutil \
	../lib/libusbhid ../lib/libz ../lib/libkeynote \
	../lib/libevent ../usr.bin/lex ../gnu/lib/libreadline \
@


1.185
log
@unbreak the tree; no more libwrap
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.184 2014/03/23 23:41:31 tedu Exp $
d12 1
a12 1
FILES=	a.out.h ar.h assert.h bitstring.h blf.h bsd_auth.h \
@


1.184
log
@more bm excision
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.183 2014/03/23 23:27:22 naddy Exp $
d45 1
a45 1
	../lib/libusbhid ../lib/libwrap ../lib/libz ../lib/libkeynote \
@


1.183
log
@Remove the MD4 functions.
"A collision attack published in 2007 can find collisions for full
MD4 in less than two hash operations."

ok deraadt@@, man pages ok jmc@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.182 2014/03/13 10:09:43 florian Exp $
d12 1
a12 1
FILES=	a.out.h ar.h assert.h bitstring.h blf.h bm.h bsd_auth.h \
@


1.182
log
@Unhook httpd(8) from build
OK krw@@, gilles@@, lteo@@, tedu@@, todd@@, benno@@, sthen@@
"The time is right." and much help getting the show on
the road deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.181 2013/12/08 17:05:09 naddy Exp $
d16 1
a16 1
	langinfo.h libgen.h limits.h locale.h login_cap.h malloc.h math.h md4.h \
@


1.181
log
@remove the final vestiges of the stty(), gtty(), and ftime() compatibility
interfaces; ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.180 2013/12/05 17:16:02 deraadt Exp $
d47 1
a47 1
	../gnu/usr.sbin/sendmail/libmilter ../usr.sbin/httpd \
@


1.180
log
@oops, sgtty.h stays for a little longer
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.179 2013/12/04 22:58:24 deraadt Exp $
d19 1
a19 1
	resolv.h rmd160.h search.h setjmp.h sgtty.h sha1.h sha2.h signal.h sndio.h \
@


1.179
log
@express final disapproval of the interfaces in libcompat, such as
them ftime(), gtty(), stty(), re_comp(), cuserid() and others.
Discussion and ongoing work to fix the ports tree from many, especially
naddy.
ok naddy
[There is a bit more cleanup possible after that, but this is considered
the current safe step]
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.178 2013/11/03 11:48:49 sthen Exp $
d19 1
a19 1
	resolv.h rmd160.h search.h setjmp.h sha1.h sha2.h signal.h sndio.h \
@


1.178
log
@Install fuse headers in 'make includes', diff from stsp@@, ok guenther@@
Committing now to unbreak ports builds (gvfs fails without, which knocks
out building much of the tree.)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.177 2013/10/19 09:00:18 deraadt Exp $
d18 5
a22 7
	ohash.h paths.h poll.h pwd.h ranlib.h re_comp.h \
	readpassphrase.h regex.h resolv.h rmd160.h search.h setjmp.h \
	sgtty.h sha1.h sha2.h signal.h sndio.h spawn.h \
	stdbool.h stddef.h stdio.h stdlib.h \
	string.h strings.h struct.h sysexits.h tar.h tgmath.h \
	time.h ttyent.h tzfile.h unistd.h utime.h utmp.h vis.h \
	wchar.h wctype.h
d41 8
a48 9
RDIRS=	../lib/librthread ../lib/libcompat ../lib/libcurses \
	../lib/libform ../lib/libssl ../lib/libmenu \
	../lib/libocurses ../lib/libossaudio ../lib/libpanel ../lib/librpcsvc \
	../lib/libskey ../lib/libedit ../lib/libexpat ../lib/libfuse \
	../lib/libpcap ../lib/libsqlite3 ../lib/libutil ../lib/libusbhid \
	../lib/libwrap \
	../lib/libz ../lib/libkeynote ../lib/libevent ../usr.bin/lex \
	../gnu/lib/libreadline ../gnu/usr.sbin/sendmail/libmilter \
	../sys/arch/${MACHINE} ../usr.sbin/httpd
@


1.177
log
@Remove more knowledge of a.out and stab information from the tree.
ok miod
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.176 2013/09/29 14:54:07 deraadt Exp $
d46 1
a46 1
	../lib/libskey ../lib/libedit ../lib/libexpat \
@


1.176
log
@remove bogus comment
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.175 2013/08/24 06:55:39 jsg Exp $
d20 1
a20 1
	sgtty.h sha1.h sha2.h signal.h sndio.h spawn.h stab.h \
d26 1
a26 1
FILES+=	link.h link_aout.h link_elf.h
@


1.175
log
@netnatm is no more
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.174 2013/08/12 11:48:22 kettenis Exp $
a11 1
# Missing: mp.h
@


1.174
log
@Make sure we don't install the private radeondrm(4) headers, by leaving out
headers from any subdirectory of dev/pci/drm.  If we ever add more drm(4)
drivers any headers needed by userland should end up in dev/pci/drm.

ok mpi@@, miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.173 2013/08/10 14:38:26 ajacoutot Exp $
d38 1
a38 1
	netmpls netnatm net80211 netbt nfs ntfs scsi sys ufs uvm
@


1.173
log
@libkafs5->libkafs ; forgotten in previous
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.172 2013/08/06 19:11:53 miod Exp $
d143 1
a143 1
	    '(' -path 'dev/microcode/*' -or -path 'dev/pci/drm/i915/*' ')' \
@


1.172
log
@Remove support for COMPILER_VERSION == gcc2.
Change the logic depending upon COMPILER_VERSION everywhere, to assume gcc4
is the norm and to explicitely test for gcc3 when a different behaviour
is required.
No functional change intended. Be sure to `make install' in share/mk before
attempting to do anything.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.171 2013/06/19 19:47:48 robert Exp $
d76 1
a76 1
RDIRS+=../kerberosV/lib/libkafs5
@


1.171
log
@unlink libheimntlm and libhx509
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.170 2013/06/17 19:16:02 robert Exp $
d57 1
a57 1
.elif ${COMPILER_VERSION:L} == "gcc4"
a60 3
.else
RDIRS+= ../gnu/egcs/libio ../gnu/egcs/libstdc++ \
	../gnu/lib/libobjc ../gnu/egcs/gcc
@


1.170
log
@switch to new kerberosV directory layout
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.169 2013/03/21 06:48:48 deraadt Exp $
d54 1
a54 1
.if ${COMPILER_VERSION:L} == "gcc3" 
a77 2
RDIRS+=../kerberosV/lib/libheimntlm
RDIRS+=../kerberosV/lib/libhx509
@


1.169
log
@Do not install the dev/pci/drm/i915 directory to /usr/include
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.168 2013/03/18 19:15:04 deraadt Exp $
d73 1
d75 13
a87 1
RDIRS+= ../lib/libkrb5 ../lib/libgssapi ../lib/libkadm5srv
@


1.168
log
@forget about this for now; wait till later
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.166 2012/08/23 06:37:47 deraadt Exp $
d134 3
a136 2
	    `find ${LDIRS} -follow -type f -name '*.h' \
	    '!' -path 'dev/microcode/*' -print` ${DESTDIR}/usr/include
@


1.167
log
@Skip another irrelevant leaf when descending into sys/dev
ok kettenis
@
text
@d135 1
a135 2
	    '!' -path 'dev/microcode/*' '!' -path 'dev/pci/drm/i915*' \
	    -print` ${DESTDIR}/usr/include
@


1.166
log
@do not install the nnpfs directory
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.165 2012/06/28 06:18:46 guenther Exp $
d135 2
a136 1
	    '!' -path 'dev/microcode/*' -print` ${DESTDIR}/usr/include
@


1.165
log
@librthread has eaten libpthread, so build includes via the former instead
of the latter.  Permits the misleading lib/libpthread/Makefile to be
removed

discussed with deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.164 2012/06/26 16:16:16 deraadt Exp $
d38 1
a38 1
	netmpls netnatm net80211 netbt nfs nnpfs ntfs scsi sys ufs uvm
@


1.164
log
@create new machine/_float.h which is namespace clean.  create a new
MI float.h which pulls in and defines the values that are needed from
there, and repair sys/limits.h so that it defines the values it needs
as well (depending on POSIX version, XPG version, etc).  guenther has
a more exact selection of that coming for limits.h.
this also fixes a few mistakes for the vax.
reviewed by kettenis and guenther.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.163 2012/06/19 17:15:02 espie Exp $
d44 1
a44 1
RDIRS=	../lib/libpthread ../lib/libcompat ../lib/libcurses \
@


1.163
log
@simplify includes prereq/req order:
- everything that has prereq will also do includes, add it late, so that
gnu stuff (the only part with prereq) happens late.
- new RUN_MAKE snippet, to be able to have the makefile magically decide
between Makefile.bsd-wrapper and Makefile.

So there's no longer any need to remember complicated rules: add it to
RDIRS if it just wants make includes, add it to PRDIRS if it wants prereq too,
and that's all.

okay deraadt@@, miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.162 2012/04/22 23:43:38 espie Exp $
d15 3
a17 3
	dlfcn.h elf_abi.h err.h errno.h fenv.h fnmatch.h fstab.h fts.h ftw.h \
	getopt.h glob.h grp.h ifaddrs.h inttypes.h iso646.h kvm.h langinfo.h \
	libgen.h limits.h locale.h login_cap.h malloc.h math.h md4.h \
d33 1
a33 1
MFILES=	float.h frame.h 
@


1.162
log
@enable sqlite3, as prompted by theo
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.161 2012/03/21 23:20:35 matthew Exp $
d40 3
d52 1
a52 11
	../sys/arch/${MACHINE}

# Places using Makefile that needs a prerequisite target met before includes
PRDIRS=

# Directories with an includes target that use Makefile.bsd-wrapper
WDIRS=	../usr.sbin/httpd

# Places using Makefile.bsd-wrapper that needs a prerequisite target met
# before includes
PWDIRS=
d55 2
a56 2
WDIRS+= ../gnu/lib/libstdc++ ../gnu/usr.bin/gcc ../gnu/lib/libobjc
PWDIRS+= ../gnu/lib/libstdc++
d58 1
a58 1
RDIRS+= ../gnu/lib/libstdc++-v3 ../gnu/usr.bin/cc/libobjc
d62 1
a62 1
WDIRS+= ../gnu/egcs/libio ../gnu/egcs/libstdc++ \
d66 3
d77 2
d82 1
a82 5
		cd ${.CURDIR}/$$i && ${MAKE} prereq; \
	done
	@@for i in ${PWDIRS}; do \
		echo preparing in ${.CURDIR}/$$i; \
		cd ${.CURDIR}/$$i && ${MAKE} -f Makefile.bsd-wrapper prereq; \
d122 1
a122 5
		cd ${.CURDIR}/$$i && ${MAKE} includes; \
	done
	@@for i in ${WDIRS}; do \
		echo installing in ${.CURDIR}/$$i; \
		cd ${.CURDIR}/$$i && ${MAKE} -f Makefile.bsd-wrapper includes; \
@


1.161
log
@Implement execvpe(3) and posix_spawn(3) and family.  Based on
FreeBSD's implementation via Frank Denis, with various cleanups and
tweaks by me.

ok deraadt@@, guenther@@; discussions and tweaks from many others
jmc@@ promises to help me further with the man pages in tree
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.160 2011/07/09 00:46:07 henning Exp $
d45 2
a46 1
	../lib/libpcap ../lib/libutil ../lib/libusbhid ../lib/libwrap \
@


1.160
log
@stop installing netatalk headers
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.159 2011/07/08 19:28:06 martynas Exp $
d21 1
a21 1
	sgtty.h sha1.h sha2.h signal.h sndio.h stab.h \
@


1.159
log
@Add support for tgmath--the type-generic math;  now that both math
and complex math routines are complete.  OK kettenis@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.158 2011/04/28 18:05:39 martynas Exp $
d37 1
a37 1
LDIRS=	altq crypto ddb dev isofs miscfs msdosfs net netatalk netinet netinet6 \
@


1.158
log
@- enable fenv
- add nearbyint, nearbyintf and nearbyintl implemented using fenv
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.157 2010/10/28 08:34:37 mikeb Exp $
d23 1
a23 1
	string.h strings.h struct.h sysexits.h tar.h \
@


1.157
log
@remove skipjack and cast from the libc;  ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.156 2010/10/17 08:44:15 djm Exp $
d15 2
a16 2
	dlfcn.h elf_abi.h err.h errno.h fnmatch.h fstab.h fts.h ftw.h getopt.h \
	glob.h grp.h ifaddrs.h inttypes.h iso646.h kvm.h langinfo.h \
@


1.156
log
@unlink libsectok from the build; ok markus@@ deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.155 2010/05/25 00:24:58 espie Exp $
d13 1
a13 1
FILES=	a.out.h ar.h assert.h bitstring.h blf.h bm.h bsd_auth.h cast.h \
d21 1
a21 1
	sgtty.h sha1.h sha2.h skipjack.h signal.h sndio.h stab.h \
@


1.155
log
@unlink g77 from the build.
as discussed with Theo, so that he can synch set.

(eventual gcc2 fallout to fix later)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.154 2010/05/10 18:20:31 drahn Exp $
d44 1
a44 1
	../lib/libskey ../lib/libsectok ../lib/libedit ../lib/libexpat \
@


1.154
log
@Switch to using COMPILER_VERSION instead of USE_GCC3, allows for more flexible
complier picking, eg supporting gcc2, gcc3, and gcc4. based on diff by Marco,
with fixes from espie@@.
ok espie@@ general mumbling of approval of others.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.153 2010/02/03 20:49:58 miod Exp $
d61 2
a62 3
WDIRS+= ../gnu/lib/libstdc++ ../gnu/usr.bin/gcc ../gnu/lib/libobjc \
	../gnu/lib/libf2c
PWDIRS+= ../gnu/lib/libstdc++ ../gnu/lib/libf2c
d69 1
a69 2
	../gnu/egcs/libf2c ../gnu/lib/libobjc ../gnu/egcs/gcc
PWDIRS+= ../gnu/egcs/libf2c
@


1.153
log
@MACHINE_ARCH -> MACHINE_CPU when applicable.

** it is necessary to update make(1) before building now **
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.152 2009/06/24 13:04:24 millert Exp $
a10 1
USE_GCC3?=No
d60 1
a60 1
.if ${USE_GCC3:L} == "yes"
d64 4
@


1.152
log
@Install ntfs includes and add libkvm (fstat) support.  ntfs bits
adapted from NetBSD fstat.  OK deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.151 2009/06/20 12:19:44 millert Exp $
d105 2
a106 2
		${DESTDIR}/usr/libdata/perl5/site_perl/${MACHINE_ARCH}-openbsd/ssl \
		${DESTDIR}/usr/libdata/perl5/site_perl/${MACHINE_ARCH}-openbsd/openssl
d144 1
a144 1
	cd ${DESTDIR}/usr/include && rm -rf ${MACHINE} ${MACHINE_ARCH} machine
d150 2
a151 2
	if test ${MACHINE} != ${MACHINE_ARCH} -a \
	    -d ../sys/arch/${MACHINE_ARCH}/include; then \
d153 4
a156 4
	    	    ${DESTDIR}/usr/include/${MACHINE_ARCH}; \
		pax -rw -pa -s "|\.\./sys/arch/${MACHINE_ARCH}/include||" \
		    ../sys/arch/${MACHINE_ARCH}/include/*.h \
		    ${DESTDIR}/usr/include/${MACHINE_ARCH}; \
d166 1
a166 1
	cd ${DESTDIR}/usr/include && rm -rf ${MACHINE} ${MACHINE_ARCH} machine
d168 4
a171 4
	if test ${MACHINE} != ${MACHINE_ARCH} -a \
	    -d ../sys/arch/${MACHINE_ARCH}/include ; then \
		ln -s /sys/arch/${MACHINE_ARCH}/include \
		    ${DESTDIR}/usr/include/${MACHINE_ARCH} ; \
@


1.151
log
@Install msdosfs includes; ok krw@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.150 2009/06/03 14:45:45 jj Exp $
d39 1
a39 1
	netmpls netnatm net80211 netbt nfs nnpfs scsi sys ufs uvm
@


1.150
log
@Arla client rename from xfs to nnpfs for later upgrades. Tested on various arches. ok todd@@ beck@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.149 2009/04/21 19:14:33 ratchov Exp $
d38 1
a38 1
LDIRS=	altq crypto ddb dev isofs miscfs net netatalk netinet netinet6 \
@


1.149
log
@move src/lib/libsndio/sndio.h into src/include where other include
files leave.

requested by deraadt@@, ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.148 2008/10/27 00:26:33 ratchov Exp $
d39 1
a39 1
	netmpls netnatm net80211 netbt nfs scsi sys ufs uvm xfs
@


1.148
log
@rename libsa to libsndio
requested by many, "just go for it" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.147 2008/10/26 12:02:53 espie Exp $
d22 3
a24 2
	sgtty.h sha1.h sha2.h skipjack.h signal.h stab.h stdbool.h stddef.h \
	stdio.h stdlib.h string.h strings.h struct.h sysexits.h tar.h \
d45 1
a45 2
	../lib/libsndio ../lib/libskey ../lib/libsectok \
	../lib/libedit ../lib/libexpat \
@


1.147
log
@no cookie for ratchov, committed things without running make build.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.146 2008/09/07 20:36:07 martynas Exp $
d44 1
a44 1
	../lib/libsa ../lib/libskey ../lib/libsectok \
@


1.146
log
@- replace dtoa w/ David's gdtoa, version 2008-03-15
- provide proper dtoa locks
- use the real strtof implementation
- add strtold, __hdtoa, __hldtoa
- add %a/%A support
- don't lose precision in printf, don't round to double anymore
- implement extended-precision versions of libc functions: fpclassify,
isnan, isinf, signbit, isnormal, isfinite, now that the ieee.h is
fixed
- separate vax versions of strtof, and __hdtoa
- add complex math support.  added functions: cacos, casin, catan,
ccos, csin, ctan, cacosh, casinh, catanh, ccosh, csinh, ctanh, cexp,
clog, cabs, cpow, csqrt, carg, cimag, conj, cproj, creal, cacosf,
casinf, catanf, ccosf, csinf, ctanf, cacoshf, casinhf, catanhf,
ccoshf, csinhf, ctanhf, cexpf, clogf, cabsf, cpowf, csqrtf, cargf,
cimagf, conjf, cprojf, crealf
- add fdim, fmax, fmin
- add log2. (adapted implementation e_log.c.  could be more acruate
& faster, but it's good enough for now)
- remove wrappers & cruft in libm, supposed to work-around mistakes
in SVID, etc.;  use ieee versions.  fixes issues in python 2.6 for
djm@@
- make _digittoint static
- proper definitions for i386, and amd64 in ieee.h
- sh, powerpc don't really have extended-precision
- add missing definitions for mips64 (quad), m{6,8}k (96-bit) float.h
for LDBL_*
- merge lead to frac for m{6,8}k, for gdtoa to work properly
- add FRAC*BITS & EXT_TO_ARRAY32 definitions in ieee.h, for hdtoa&ldtoa
to use
- add EXT_IMPLICIT_NBIT definition, which indicates implicit
normalization bit
- add regression tests for libc: fpclassify and printf
- arith.h & gd_qnan.h definitions
- update ieee.h: hppa doesn't have quad-precision, hppa64 does
- add missing prototypes to gdtoaimp
- on 64-bit platforms make sure gdtoa doesn't use a long when it
really wants an int
- etc., what i may have forgotten...
- bump libm major, due to removed&changed symbols
- no libc bump, since this is riding on djm's libc major crank from
a day ago

discussed with / requested by / testing theo, sthen@@, djm@@, jsg@@,
merdely@@, jsing@@, tedu@@, brad@@, jakemsr@@, and others.
looks good to millert@@
parts of the diff ok kettenis@@

this commit does not include:
- man page changes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.145 2008/08/22 13:02:53 kettenis Exp $
d44 2
a45 1
	../lib/libskey ../lib/libsectok ../lib/libedit ../lib/libexpat \
@


1.145
log
@Don't install libbfd and libopcodes and the associated headers.
They really are just a way to share common code between gdb and binutils
(which in the GNU world are seperate packages).  The developers (and I'm
one of them) make absolutely no effert to maintain a stable API/ABI.

If ports people really need libbfd or libopcodes, they should just
package a suitable version.

ok weingart@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.144 2008/06/04 21:12:50 deraadt Exp $
d15 1
a15 1
	cpio.h ctype.h curses.h db.h dbm.h des.h dirent.h disktab.h \
@


1.144
log
@olf support starts to die (easy stuff first); ok miod
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.143 2008/04/23 10:58:34 norby Exp $
d54 1
a54 1
WDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
d58 1
a58 1
PWDIRS=	../gnu/usr.bin/binutils
@


1.143
log
@Import MPLS (Multi Protocol Label Switching)

MPLS support partly based on the (abandoned?) AYAME project.
Basic LSR (Label Switch Router) functionality is present, but not fully
functional yet.

It is currently possible to insert entries in the LIB (Label Information Base)
with route(8), but setting the operation type is not supported yet.

Imported to allow more people to work on this in the coming weeks.

ok claudio@@ laurent@@ dlg@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.142 2008/03/22 10:36:11 matthieu Exp $
d20 1
a20 1
	ohash.h olf_abi.h paths.h poll.h pwd.h ranlib.h re_comp.h \
@


1.142
log
@Get rid of 3 extra leading spaces. ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.141 2007/10/19 14:28:15 deraadt Exp $
d37 2
a38 2
LDIRS=	crypto ddb dev isofs miscfs net netatalk netinet altq \
	netinet6 netnatm net80211 netbt nfs scsi sys ufs uvm xfs
@


1.141
log
@install includes from libexpat
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.140 2007/06/06 20:44:06 deraadt Exp $
d152 1
a152 1
    	    	    ${DESTDIR}/usr/include/${MACHINE_ARCH}; \
@


1.140
log
@no longer make include/netipx dir
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.139 2007/02/13 00:37:24 espie Exp $
d44 3
a46 3
	../lib/libskey ../lib/libsectok ../lib/libedit ../lib/libpcap \
	../lib/libutil ../lib/libusbhid ../lib/libwrap ../lib/libz \
	../lib/libkeynote ../lib/libevent ../usr.bin/lex \
@


1.139
log
@remove prereq, by using a pre-generated include file (this one should now
be MI since we removed stuff that was arch-dependent). The Configure script
still rebuilds a copy of that file, and we check it for diffs.

okay millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.138 2006/01/06 18:54:25 millert Exp $
d38 1
a38 1
	netinet6 netipx netnatm net80211 netbt nfs scsi sys ufs uvm xfs
@


1.138
log
@Add real C99 stdint.h and inttypes.h based on an initial version I did in
1997 (yes, really).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.137 2005/12/28 16:33:56 millert Exp $
d58 1
a58 1
PWDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
@


1.137
log
@Split off the non-kernel visible portion of sys/errno.h into a
separate errno.h.  sys/errno.h now only contains errno values (which
is included byerrno.h).  OK deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.136 2005/09/27 16:27:22 deraadt Exp $
d34 1
a34 1
LFILES=	fcntl.h syslog.h termios.h stdarg.h varargs.h
@


1.136
log
@use xargs -r0 for our build process
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.135 2005/07/10 06:53:44 grange Exp $
d16 1
a16 1
	dlfcn.h elf_abi.h err.h fnmatch.h fstab.h fts.h ftw.h getopt.h \
d34 1
a34 1
LFILES=	errno.h fcntl.h syslog.h termios.h stdarg.h varargs.h
@


1.135
log
@Install netbt/ includes.

ok henning@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.134 2005/06/17 20:51:20 henning Exp $
d119 4
a122 4
	find ${DESTDIR}/usr/include -type f | \
		xargs chmod a=r
	find ${DESTDIR}/usr/include -type d | \
		xargs chmod u=rwx,go=rx
@


1.134
log
@don't install netns includes any longer, ports bulk build test by pval
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.133 2005/06/07 02:58:17 henning Exp $
d38 1
a38 1
	netinet6 netipx netnatm net80211 nfs scsi sys ufs uvm xfs
@


1.133
log
@-netccitt/
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.132 2005/04/28 21:30:13 espie Exp $
d38 1
a38 1
	netinet6 netipx netnatm netns net80211 nfs scsi sys ufs uvm xfs
@


1.132
log
@also use new libobjc on old architectures, since it builds fine with
gcc 2.95.

tests and okay miod@@, marc@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.131 2005/04/18 16:17:43 millert Exp $
d37 1
a37 1
LDIRS=	crypto ddb dev isofs miscfs net netatalk netccitt netinet altq \
@


1.131
log
@rm libcurses++
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.130 2005/04/14 20:59:10 espie Exp $
d66 1
a66 1
	../gnu/egcs/libf2c ../gnu/egcs/libobjc ../gnu/egcs/gcc
@


1.130
log
@introduce some wchar functions (from citrus and an itojun@@ diff)
okay deraadt@@, cloder@@, pvalchev@@
thanks to everyone who commented on that.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.129 2004/10/20 22:12:15 fgsch Exp $
d42 1
a42 1
	../lib/libcurses++ ../lib/libform ../lib/libssl ../lib/libmenu \
@


1.129
log
@install net80211 headers; millert and deraadt ok.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.128 2004/07/15 12:07:53 henning Exp $
d24 2
a25 1
	time.h ttyent.h tzfile.h unistd.h utime.h utmp.h vis.h
@


1.128
log
@do not install netiso header files, millert deraadt ok
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.127 2004/06/29 04:10:14 millert Exp $
d37 1
a37 1
	netinet6 netipx netnatm netns nfs scsi sys ufs uvm xfs
@


1.127
log
@make includes in gnu/usr.sbin/sendmail/libmilter
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.126 2004/05/17 22:11:32 drahn Exp $
d37 1
a37 1
	netinet6 netipx netiso netnatm netns nfs scsi sys ufs uvm xfs
@


1.126
log
@Enable binutils for arm now that we have binutils 2.14.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.125 2004/03/08 23:31:51 drahn Exp $
d45 2
a46 2
	../lib/libkeynote ../lib/libevent \
	../usr.bin/lex ../gnu/lib/libreadline \
@


1.125
log
@Do not build binutils on arm. ARM needs at least binutils 2.14.
Allows others to build OpenBSD/cats, use binutils from devel/binutils/stable
Requested by deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.124 2004/03/01 02:59:56 drahn Exp $
d53 1
a53 4
WDIRS=	../usr.sbin/httpd
.if ${MACHINE_ARCH} != "arm"
WDIRS+=	../gnu/usr.bin/binutils
.endif
d57 1
a57 4
PWDIRS=	../usr.sbin/httpd
.if ${MACHINE_ARCH} != "arm"
PWDIRS+=	../gnu/usr.bin/binutils
.endif
@


1.124
log
@Enable gnu/lib/libf2c for 'make includes' with GCC3, for [fg]2c.h ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.123 2004/01/23 18:21:13 espie Exp $
d53 4
a56 1
WDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
d60 4
a63 1
PWDIRS=	../usr.sbin/httpd ../gnu/usr.bin/binutils
@


1.123
log
@USE_GCC3 switch, now that propolice is in.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.121 2003/07/21 21:13:18 millert Exp $
d60 3
a62 2
WDIRS+= ../gnu/lib/libstdc++ ../gnu/usr.bin/gcc ../gnu/lib/libobjc
PWDIRS+= ../gnu/lib/libstdc++
@


1.122
log
@put an mi wrapper around stdarg.h/varargs.h. gcc3 moved stdarg/varargs macros
to built-ins, so eventually we will have one version of these files.
Special adjustments for the kernel to cope: machine/stdarg.h -> sys/stdarg.h
and machine/ansi.h needs to have a _BSD_VA_LIST_ for syslog* prototypes.
okay millert@@, drahn@@, miod@@.
@
text
@d9 4
a13 1

d53 1
a53 3
WDIRS=	../usr.sbin/httpd ../gnu/egcs/libio ../gnu/egcs/libstdc++ \
	../gnu/egcs/libf2c ../gnu/egcs/libobjc ../gnu/egcs/gcc \
	../gnu/usr.bin/binutils
d57 10
a66 1
PWDIRS=	../usr.sbin/httpd ../gnu/egcs/libf2c ../gnu/usr.bin/binutils
a70 1
.include <bsd.own.mk>
@


1.121
log
@Need ftw.h for ftw(3) and nftw(3)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.120 2003/07/15 19:18:00 deraadt Exp $
d29 2
a30 2
MFILES=	float.h frame.h stdarg.h varargs.h
LFILES=	errno.h fcntl.h syslog.h termios.h
@


1.120
log
@do not enter libcom_err
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.119 2003/07/14 16:14:43 mho Exp $
d13 9
a21 9
	dlfcn.h elf_abi.h err.h fnmatch.h fstab.h fts.h getopt.h glob.h grp.h \
	ifaddrs.h inttypes.h iso646.h kvm.h langinfo.h libgen.h limits.h \
	locale.h login_cap.h malloc.h math.h md4.h md5.h memory.h mpool.h \
	ndbm.h netdb.h netgroup.h nlist.h nl_types.h ohash.h olf_abi.h \
	paths.h poll.h pwd.h ranlib.h re_comp.h readpassphrase.h regex.h \
	resolv.h rmd160.h search.h setjmp.h sgtty.h sha1.h sha2.h skipjack.h \
	signal.h stab.h stdbool.h stddef.h stdio.h stdlib.h string.h \
	strings.h struct.h sysexits.h tar.h time.h ttyent.h tzfile.h \
	unistd.h utime.h utmp.h vis.h
@


1.119
log
@Enable build of unified libkrb5. ok deraadt, todd. Testing by hin, jakob, David Krause, ...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.118 2003/06/02 08:45:58 markus Exp $
d37 1
a37 1
RDIRS=	../lib/libpthread ../lib/libcom_err ../lib/libcompat ../lib/libcurses \
@


1.118
log
@swap /usr/include/openssl and /usr/include/ssl, clean up the Makefiles
get rid old include files; with itojun@@ and tdeval@@; ok itojun@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.117 2003/05/14 08:01:02 mho Exp $
d64 1
a64 1
RDIRS+=	../kerberosV/lib
@


1.117
log
@Remove krb4 support.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.116 2003/05/09 02:17:18 millert Exp $
d92 5
a96 2
	@@rm -f ${DESTDIR}/usr/include/openssl
	@@ln -sf ssl ${DESTDIR}/usr/include/openssl
@


1.116
log
@Install sha2.h
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.115 2003/01/20 18:12:52 marc Exp $
a62 4
.if ${KERBEROS:L} == "yes"
RDIRS+=	../kerberosIV/lib
PRDIRS+=../kerberosIV/lib/kadm ../kerberosIV/lib/krb
.endif
@


1.115
log
@install includes from libpthread, not libc_r
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.114 2002/12/03 21:54:21 miod Exp $
d18 1
a18 1
	resolv.h rmd160.h search.h setjmp.h sgtty.h sha1.h skipjack.h \
@


1.114
log
@Intall getopt.h in /usr/include as well.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.113 2002/09/03 18:59:55 markus Exp $
d37 1
a37 1
RDIRS=	../lib/libc_r ../lib/libcom_err ../lib/libcompat ../lib/libcurses \
@


1.113
log
@build OpenSSL without symlink trees:
* manpage related things moved to src/libssl/man/Makefile
* there are now 3 obj directories src/libssl/{crypto,ssl,man}/ instead
  of one single src/libssl/obj
* instead of running Configure (with generates lots of symlinks, and
  opensslconf.h) this patch stores pre-computed opensslconf.h files
  in src/libssl/crypto/arch
* requires a make includes before the library can be built
* libssl and libcrypto can be build separately
  (e.g. cd src/libssl/ssl && make obj && make)
* make depend is now supported
* no more symlink trees
tested by miod@@ and fries@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.112 2002/06/16 14:42:22 naddy Exp $
d13 1
a13 1
	dlfcn.h elf_abi.h err.h fnmatch.h fstab.h fts.h glob.h grp.h \
@


1.112
log
@install headers from libevent; ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.111 2002/06/09 18:40:35 itojun Exp $
d47 1
a47 1
PRDIRS=	../lib/libssl
@


1.111
log
@backout previous
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.109 2002/06/07 17:46:55 drahn Exp $
d42 2
a43 1
	../lib/libkeynote ../usr.bin/lex ../gnu/lib/libreadline \
@


1.110
log
@pax -s <regex> is botched, don't use it.
@
text
@d135 3
a137 2
	(cd ../sys/arch/${MACHINE}/include; \
	 pax -rw -pa *.h ${DESTDIR}/usr/include/${MACHINE})
d142 3
a144 2
		(cd ../sys/arch/${MACHINE_ARCH}/include; \
		 pax -rw -pa *.h ${DESTDIR}/usr/include/${MACHINE_ARCH}); \
@


1.109
log
@Switch powerpc to using new split (aout/elf) link.h
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.108 2002/06/07 03:00:01 art Exp $
d135 2
a136 3
	pax -rw -pa -s "|\.\./sys/arch/${MACHINE}/include||" \
	    ../sys/arch/${MACHINE}/include/*.h \
	    ${DESTDIR}/usr/include/${MACHINE}
d141 2
a142 3
		pax -rw -pa -s "|\.\./sys/arch/${MACHINE_ARCH}/include||" \
		    ../sys/arch/${MACHINE_ARCH}/include/*.h \
		    ${DESTDIR}/usr/include/${MACHINE_ARCH}; \
@


1.108
log
@split link.h into three parts. The MI parts are left in link.h
a.out stuff in link_aout.h and ELF stuff in link_elf.h.
Switch sparc64 back to MI link.h.
drahn@@ ok (powerpc will switch soon).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.107 2002/06/05 23:59:53 art Exp $
a22 1
.if (${MACHINE_ARCH} != "powerpc")
a23 1
.endif
a30 4

.if (${MACHINE_ARCH} == "powerpc")
MFILES+= link.h
.endif
@


1.107
log
@Don't use MI dlfcn.h that are identical to the MD one.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.106 2002/06/02 07:43:33 deraadt Exp $
d23 2
a24 2
.if (${MACHINE_ARCH} != "powerpc") && (${MACHINE_ARCH} != "sparc64")
FILES+=	link.h
d34 1
a34 1
.if (${MACHINE_ARCH} == "powerpc") || (${MACHINE_ARCH} == "sparc64")
@


1.106
log
@no argh.  we should doc these targets better
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.105 2002/06/02 06:36:33 deraadt Exp $
d11 10
a20 10
FILES=	a.out.h ar.h assert.h bitstring.h blf.h bm.h bsd_auth.h cast.h cpio.h \
	ctype.h curses.h db.h dbm.h des.h dirent.h disktab.h elf_abi.h err.h \
	fnmatch.h fstab.h fts.h glob.h grp.h ifaddrs.h inttypes.h \
	iso646.h kvm.h langinfo.h libgen.h limits.h locale.h login_cap.h \
	malloc.h math.h md4.h md5.h memory.h mpool.h ndbm.h netdb.h netgroup.h \
	nlist.h nl_types.h ohash.h olf_abi.h paths.h poll.h pwd.h \
	ranlib.h re_comp.h \
	readpassphrase.h regex.h resolv.h rmd160.h search.h setjmp.h sgtty.h \
	sha1.h skipjack.h signal.h stab.h stdbool.h stddef.h stdio.h stdlib.h \
	string.h strings.h struct.h sysexits.h tar.h time.h ttyent.h tzfile.h \
d24 1
a24 1
FILES+=	dlfcn.h link.h
d35 1
a35 1
MFILES+= link.h dlfcn.h
@


1.105
log
@put libssl in PRDIRS instead; andre@@ae-35.com
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.104 2002/06/01 01:35:35 deraadt Exp $
d44 1
a44 1
	../lib/libcurses++ ../lib/libform ../lib/libmenu \
@


1.104
log
@we do not need this to be Makefile.bsd-wrapper
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.103 2002/05/08 19:39:24 espie Exp $
d44 1
a44 1
	../lib/libcurses++ ../lib/libform ../lib/libssl ../lib/libmenu \
d52 1
a52 1
PRDIRS=
@


1.103
log
@includes should be installed during `make include', not later.
Fixes this for lex and binutils' bfd.

Also, do not install ansidecl.h, we don't really need it, bfd.h uses it,
and we installed it so that bfd worked, so let bfd.h include it directly.

prompted by mickey@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.102 2002/04/08 04:53:57 fgsch Exp $
d44 6
a49 6
	../lib/libcurses++ ../lib/libform ../lib/libmenu ../lib/libocurses \
	../lib/libossaudio ../lib/libpanel ../lib/librpcsvc ../lib/libskey \
	../lib/libsectok ../lib/libedit ../lib/libpcap ../lib/libutil \
	../lib/libusbhid ../lib/libwrap ../lib/libz ../lib/libkeynote \
	../usr.bin/lex \
	../gnu/lib/libreadline ../sys/arch/${MACHINE}
d55 3
a57 3
WDIRS=	../lib/libssl ../usr.sbin/httpd ../gnu/egcs/libio \
	../gnu/egcs/libstdc++ ../gnu/egcs/libf2c ../gnu/egcs/libobjc \
	../gnu/egcs/gcc ../gnu/usr.bin/binutils
d61 1
a61 2
PWDIRS=	../lib/libssl ../usr.sbin/httpd ../gnu/egcs/libf2c \
	../gnu/usr.bin/binutils
@


1.102
log
@install link.h and dlfcn.h from sys/arch/sparc64/include.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.101 2002/02/18 22:16:37 mickey Exp $
d48 1
d57 1
a57 1
	../gnu/egcs/gcc
d61 2
a62 1
PWDIRS=	../lib/libssl ../usr.sbin/httpd ../gnu/egcs/libf2c
@


1.101
log
@netiso/xebec no more
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.100 2001/12/30 07:06:53 pvalchev Exp $
d23 1
a23 1
.if (${MACHINE_ARCH} != "powerpc")
d34 1
a34 1
.if (${MACHINE_ARCH} == "powerpc")
@


1.100
log
@libusb -> libusbhid
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.99 2001/11/06 20:28:07 deraadt Exp $
d135 2
a136 3
	    `find ${LDIRS} -follow -type f -name '*.h' '!' -path \
	    'netiso/xebec/*' '!' -path 'dev/microcode/*' \
	    -print` ${DESTDIR}/usr/include
@


1.99
log
@no more vm in LDIRS
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.98 2001/09/03 16:45:08 deraadt Exp $
d47 1
a47 1
	../lib/libusb ../lib/libwrap ../lib/libz ../lib/libkeynote \
@


1.98
log
@how did ../lib/libusb not get added?  Bad developers
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.97 2001/07/31 18:01:59 deraadt Exp $
d40 1
a40 1
	netinet6 netipx netiso netnatm netns nfs scsi sys ufs uvm vm xfs
@


1.97
log
@we talked about libsectok having an include target a couple of times....
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.96 2001/07/11 03:02:25 pvalchev Exp $
d47 2
a48 2
	../lib/libwrap ../lib/libz ../lib/libkeynote ../gnu/lib/libreadline \
	../sys/arch/${MACHINE}
@


1.96
log
@remove mips leftovers; ok brad
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.95 2001/06/27 08:04:07 deraadt Exp $
d46 2
a47 2
	../lib/libedit ../lib/libpcap ../lib/libutil ../lib/libwrap \
	../lib/libz ../lib/libkeynote ../gnu/lib/libreadline \
@


1.95
log
@Why was a very large chunk of code commited to the source tree without
checking if a make build of the entire system still works?  How many
other parts of the tree are now not going to build?  All development
has not stopped until this is fixed.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.94 2001/06/26 15:32:44 hin Exp $
d23 1
a23 1
.if (${MACHINE_ARCH} != "mips") && (${MACHINE_ARCH} != "powerpc")
d34 1
a34 1
.if (${MACHINE_ARCH} == "mips" || ${MACHINE_ARCH} == "powerpc")
@


1.94
log
@Install kerberosV includefiles
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.93 2001/06/13 08:50:05 art Exp $
d39 1
a39 1
LDIRS=	crypto ddb dev isofs miscfs net netatalk netccitt netinet \
@


1.93
log
@Simplify.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.92 2001/05/31 14:03:04 art Exp $
d70 3
@


1.92
log
@Install link.h and dlfcn.h on alpha.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.91 2001/05/14 12:34:27 espie Exp $
d23 1
a23 2
.if (${MACHINE_ARCH} != "alpha") && (${MACHINE_ARCH} != "mips") && \
	(${MACHINE_ARCH} != "powerpc")
a35 3
.endif
.if (${MACHINE_ARCH} == "alpha")
FILES+=link.h dlfcn.h
@


1.91
log
@Speed-up:
- remove extra subshells;
- use exec on terminal commands, avoiding dangling shells that don't
control anything.

More correct:
- use && some more;
- remove `-' in front of includes, so that failures WILL fail...

Okay millert@@, deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.90 2001/03/18 17:39:54 millert Exp $
d37 3
@


1.90
log
@Build gnu/lib/libreadline and use it instead of the one currently
in the binutils dir.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.89 2001/03/02 13:27:04 espie Exp $
d68 1
a68 1
.if (${KERBEROS:L} == "yes")
d74 1
a74 1
	@@-for i in ${PRDIRS}; do \
d76 1
a76 1
		(cd ${.CURDIR}/$$i; ${MAKE} prereq) \
d78 1
a78 1
	@@-for i in ${PWDIRS}; do \
d80 1
a80 1
		(cd ${.CURDIR}/$$i; ${MAKE} -f Makefile.bsd-wrapper prereq) \
d85 1
a85 1
	@@-for i in ${FILES}; do \
d90 1
a90 1
	@@-for i in ${DIRS}; do \
d93 1
a93 1
		(cd $$i; for j in *.[ih]; do \
d96 1
a96 1
		done); \
d101 2
a102 2
	@@-for i in ${LFILES}; do \
		rm -f ${DESTDIR}/usr/include/$$i; \
d106 2
a107 2
	@@-for i in ${MFILES}; do \
		rm -f ${DESTDIR}/usr/include/$$i; \
d115 1
a115 1
	@@-for i in ${RDIRS}; do \
d117 1
a117 1
		(cd ${.CURDIR}/$$i; ${MAKE} includes) \
d119 1
a119 1
	@@-for i in ${WDIRS}; do \
d121 1
a121 1
		(cd ${.CURDIR}/$$i; ${MAKE} -f Makefile.bsd-wrapper includes) \
d126 2
a127 2
	@@-for i in ${LDIRS}; do \
		rm -rf ${DESTDIR}/usr/include/$$i; \
d155 1
a155 1
		rm -rf ${DESTDIR}/usr/include/$$i; \
d165 1
a165 1
	ln -sf ${MACHINE} ${DESTDIR}/usr/include/machine ; \
d169 1
@


1.89
log
@Add ohash_* functions to libc.
Ok'd deraadt@@, millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.88 2000/12/18 16:51:49 brad Exp $
d48 2
a49 1
	../lib/libz ../lib/libkeynote ../sys/arch/${MACHINE}
@


1.88
log
@*cough*someone forgot to remove libgmp*cough*
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.87 2000/11/21 00:51:30 millert Exp $
d16 2
a17 1
	nlist.h nl_types.h olf_abi.h paths.h poll.h pwd.h ranlib.h re_comp.h \
@


1.87
log
@Add references to new files.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.86 2000/10/10 12:12:28 hugh Exp $
d53 3
a55 3
WDIRS=	../lib/libssl ../gnu/lib/libgmp ../usr.sbin/httpd
WDIRS+= ../gnu/egcs/libio ../gnu/egcs/libstdc++ ../gnu/egcs/libf2c \
	../gnu/egcs/libobjc ../gnu/egcs/gcc
@


1.86
log
@Don't install ieeefp.h on vax. derradt Ok.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.85 2000/10/01 03:19:04 rahnds Exp $
d11 1
a11 1
FILES=	a.out.h ar.h assert.h bitstring.h blf.h bm.h cast.h cpio.h \
d17 4
a20 4
	regex.h resolv.h rmd160.h search.h setjmp.h sgtty.h sha1.h skipjack.h \
	signal.h stab.h stdbool.h stddef.h stdio.h stdlib.h string.h strings.h \
	struct.h sysexits.h tar.h time.h ttyent.h tzfile.h unistd.h utime.h \
	utmp.h vis.h
@


1.85
log
@Now that powerpc has shared libraries, make certain that link.h and dlfcn.h
are created properly.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.84 2000/09/19 20:06:55 deraadt Exp $
d13 1
a13 1
	fnmatch.h fstab.h fts.h glob.h grp.h ieeefp.h ifaddrs.h inttypes.h \
d25 4
@


1.84
log
@install netnatm includes; stoklund@@cp.dyndns.dk
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.83 2000/09/03 18:41:13 espie Exp $
d30 1
a30 1
.if (${MACHINE_ARCH} == "mips")
@


1.83
log
@Boring...  Add :L modifier to all tweakable variables tests.

Closes PR 1246
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.82 2000/08/20 18:37:19 millert Exp $
d36 1
a36 1
	netinet6 netipx netiso netns nfs scsi sys ufs uvm vm xfs
@


1.82
log
@login.conf code from BSDi.  This does not include the bsd auth code
which will come later.  At this stage it is primarily used for setting
resource limits.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.81 2000/03/10 22:04:18 niklas Exp $
d62 1
a62 1
.if (${KERBEROS} == "yes")
@


1.81
log
@A more normal way of building kerberos, faster, and it works with SUDO
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.80 2000/02/29 03:28:38 deraadt Exp $
d11 10
a20 9
FILES=	a.out.h ar.h assert.h bitstring.h blf.h bm.h cast.h cpio.h ctype.h \
	curses.h db.h dbm.h des.h dirent.h disktab.h elf_abi.h err.h fnmatch.h \
	fstab.h fts.h glob.h grp.h ieeefp.h ifaddrs.h inttypes.h iso646.h \
	kvm.h langinfo.h libgen.h limits.h locale.h malloc.h math.h md4.h \
	md5.h memory.h mpool.h ndbm.h netdb.h netgroup.h nlist.h nl_types.h \
	olf_abi.h paths.h poll.h pwd.h ranlib.h re_comp.h regex.h resolv.h \
	rmd160.h search.h setjmp.h sgtty.h sha1.h skipjack.h signal.h stab.h \
	stdbool.h stddef.h stdio.h stdlib.h string.h strings.h struct.h sysexits.h \
	tar.h time.h ttyent.h tzfile.h unistd.h utime.h utmp.h vis.h
@


1.80
log
@install crypto headers
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.79 2000/02/25 17:37:43 hin Exp $
d62 2
a63 1
RDIRS+=	../kerberosIV
@


1.79
log
@Include files for KerberosIV have moved.
(ok art@@)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.78 2000/02/23 06:55:59 itojun Exp $
d34 2
a35 2
LDIRS=	dev net netinet netinet6 netccitt netiso netns netipx nfs sys ufs vm \
	ddb scsi netatalk isofs xfs uvm miscfs
@


1.78
log
@add getifaddrs(3), from bsdi4.
this will help future apps from complexity of SIOCGIFCONF.
NOTE: getifaddrs(3) uses sysctl interface, not SIOCGIFCONF.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.77 2000/02/19 15:28:41 deraadt Exp $
d62 1
a62 2
RDIRS+=	../kerberosIV/include ../kerberosIV/kadm ../kerberosIV/krb
PRDIRS+=../kerberosIV/kadm ../kerberosIV/krb
@


1.77
log
@do not install /usr/include/dev/microcode/
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.76 1999/11/20 18:08:33 espie Exp $
d13 3
a15 3
	fstab.h fts.h glob.h grp.h ieeefp.h inttypes.h iso646.h kvm.h \
	langinfo.h libgen.h limits.h locale.h malloc.h math.h md4.h md5.h \
	memory.h mpool.h ndbm.h netdb.h netgroup.h nlist.h nl_types.h \
@


1.76
log
@Generate g2c.h at prereq stage.
Install it under /usr/include
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.75 1999/10/05 22:29:36 beck Exp $
d127 2
a128 1
	    'netiso/xebec/*' -print` ${DESTDIR}/usr/include
@


1.75
log
@get httpd in WDIRS as well as the prereq dirs.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.74 1999/10/05 18:02:03 beck Exp $
d54 1
a54 1
PWDIRS=	../lib/libssl ../usr.sbin/httpd
@


1.74
log
@add httpd to includes target so apache includes get grabbed.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.73 1999/09/27 06:28:49 beck Exp $
d48 1
a48 1
WDIRS=	../lib/libssl ../gnu/lib/libgmp
@


1.73
log
@remove /usr/include/openssl link before making it.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.72 1999/09/27 04:48:20 deraadt Exp $
d54 1
a54 1
PWDIRS=	../lib/libssl
@


1.72
log
@openssl -> ssl
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.71 1999/09/24 22:33:10 espie Exp $
d91 1
@


1.71
log
@stdbool.h conforming to C9X
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.70 1999/07/01 21:41:32 deraadt Exp $
d91 1
@


1.70
log
@install miscfs includes too
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.69 1999/06/24 15:18:11 espie Exp $
d18 1
a18 1
	stddef.h stdio.h stdlib.h string.h strings.h struct.h sysexits.h \
@


1.69
log
@Slight goof, repair symlinks target (noted by David Leonard)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.68 1999/06/22 14:41:35 art Exp $
d35 1
a35 1
	ddb scsi netatalk isofs xfs uvm
@


1.68
log
@install uvm includes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.67 1999/05/29 01:31:26 angelos Exp $
a48 1

a50 3
#WDIRS+= ../gnu/lib/libg++/libg++ ../gnu/lib/libg++/libio \
#	../gnu/lib/libg++/librx ../gnu/lib/libg++/libstdc++ \
#	../gnu/usr.bin/gcc 
a149 1
	rm -rf ${DESTDIR}/usr/include/${MACHINE_ARCH}
@


1.67
log
@Add libkeynote target for includes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.66 1999/05/26 16:02:55 espie Exp $
d34 2
a35 2
LDIRS=	dev net netinet netinet6 netccitt netiso netns netipx nfs sys ufs vm ddb \
	scsi netatalk isofs xfs
@


1.66
log
@Link in egcs, kill gcc and libg++
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.65 1999/05/18 15:43:58 espie Exp $
d42 1
a42 1
	../lib/libz ../sys/arch/${MACHINE}
@


1.65
log
@Change include links shennannigans to make more sense,
so that machine -> i386, and not the other way around,
or, for arches such as amiga/m68k, make amiga & m68k true directories
and let machine -> amiga.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.64 1999/05/09 00:21:13 millert Exp $
d48 7
a54 3
WDIRS=	../lib/libssl ../gnu/lib/libg++/libg++ ../gnu/lib/libg++/libio \
	../gnu/lib/libg++/librx ../gnu/lib/libg++/libstdc++ \
	../gnu/usr.bin/gcc ../gnu/lib/libgmp
@


1.64
log
@c++ clasess for ncurses
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.63 1999/03/29 03:07:39 rahnds Exp $
d126 1
a126 1
	rm -rf ${DESTDIR}/usr/include/machine
d128 1
a128 1
		${DESTDIR}/usr/include/machine
d131 1
a131 2
	    ${DESTDIR}/usr/include/machine   
	rm -rf ${DESTDIR}/usr/include/${MACHINE_ARCH}
a138 2
	else \
		ln -s machine ${DESTDIR}/usr/include/${MACHINE_ARCH}; \
d140 1
d148 2
a149 2
	rm -rf ${DESTDIR}/usr/include/machine
	ln -s /sys/arch/${MACHINE}/include ${DESTDIR}/usr/include/machine
a154 2
	else \
		ln -s machine ${DESTDIR}/usr/include/${MACHINE_ARCH} ; \
d156 1
@


1.63
log
@powerpc does not support shared libraries and thus should not ship
link.h or dlfcn.h
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.62 1999/03/09 00:01:41 niklas Exp $
d39 4
a42 4
        ../lib/libform ../lib/libmenu ../lib/libocurses ../lib/libossaudio \
	../lib/libpanel ../lib/librpcsvc ../lib/libskey ../lib/libedit \
	../lib/libpcap ../lib/libutil ../lib/libwrap ../lib/libz \
	../sys/arch/${MACHINE}
@


1.62
log
@Some style issues, make stuff neded before depend be built by beforedepend.
Also make them prereq in the case of make includes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.61 1999/03/02 21:47:33 niklas Exp $
d21 2
a22 1
.if (${MACHINE_ARCH} != "alpha") && (${MACHINE_ARCH} != "mips")
@


1.61
log
@Provide a method to do prerequisites needed before
installation of includes can happen.  Do these before and not run via ${SUDO}.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.60 1999/02/26 00:54:00 deraadt Exp $
d43 3
d62 1
d66 4
@


1.60
log
@skipjack in libc; isakmpd and such will want it
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.59 1999/02/12 04:46:27 millert Exp $
d36 1
d43 1
d48 4
d60 6
@


1.59
log
@add old dbm-compatible interface from db-1.86 with minor changes by me (needs a man page)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.58 1999/02/01 22:59:15 d Exp $
d17 3
a19 3
	rmd160.h search.h setjmp.h sgtty.h sha1.h signal.h stab.h stddef.h \
	stdio.h stdlib.h string.h strings.h struct.h sysexits.h tar.h time.h \
	ttyent.h tzfile.h unistd.h utime.h utmp.h vis.h
@


1.58
log
@add libc_r
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.57 1999/01/08 00:33:48 deraadt Exp $
d12 1
a12 1
	curses.h db.h des.h dirent.h disktab.h elf_abi.h err.h fnmatch.h \
@


1.57
log
@install netinet6 include files
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.56 1998/10/07 02:36:48 deraadt Exp $
d36 3
a38 3
RDIRS=	../lib/libcom_err ../lib/libcompat ../lib/libcurses ../lib/libform \
	../lib/libmenu ../lib/libocurses ../lib/libossaudio ../lib/libpanel \
	../lib/librpcsvc ../lib/libskey ../lib/libedit \
@


1.56
log
@install /usr/include/ssl/
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.55 1998/09/07 05:50:02 art Exp $
d33 1
a33 1
LDIRS=	dev net netinet netccitt netiso netns netipx nfs sys ufs vm ddb \
@


1.55
log
@install the xfs includes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.54 1998/07/23 21:21:24 millert Exp $
d42 1
a42 1
WDIRS=	../gnu/lib/libg++/libg++ ../gnu/lib/libg++/libio \
@


1.54
log
@curses.h frontend
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.53 1998/07/21 22:23:18 provos Exp $
d34 1
a34 1
	scsi netatalk isofs
@


1.53
log
@Add CAST encryption, implementation by Steve Reid <sreid@@sea-to-sky.net>.
Man pages will come soon, I hope.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.52 1998/07/17 22:47:46 espie Exp $
d12 8
a19 8
	db.h des.h dirent.h disktab.h elf_abi.h err.h fnmatch.h fstab.h fts.h \
	glob.h grp.h ieeefp.h inttypes.h iso646.h kvm.h langinfo.h libgen.h \
	limits.h locale.h malloc.h math.h md4.h md5.h memory.h mpool.h ndbm.h \
	netdb.h netgroup.h nlist.h nl_types.h olf_abi.h paths.h poll.h pwd.h \
	ranlib.h re_comp.h regex.h resolv.h rmd160.h search.h setjmp.h \
	sgtty.h sha1.h signal.h stab.h stddef.h stdio.h stdlib.h string.h \
	strings.h struct.h sysexits.h tar.h time.h ttyent.h tzfile.h \
	unistd.h utime.h utmp.h vis.h
d38 1
a38 1
	../lib/librpcsvc ../lib/libskey ../lib/libtermlib ../lib/libedit \
@


1.52
log
@
. is a regex.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.51 1998/07/07 18:49:01 art Exp $
d11 2
a12 2
FILES=	a.out.h ar.h assert.h bitstring.h blf.h bm.h cpio.h ctype.h db.h \
	des.h dirent.h disktab.h elf_abi.h err.h fnmatch.h fstab.h fts.h \
@


1.51
log
@do not install includes from libss
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.50 1998/06/25 06:25:42 deraadt Exp $
d108 1
a108 1
	pax -rw -pa -s "|../sys/arch/${MACHINE}/include||" \
d116 1
a116 1
		pax -rw -pa -s "|../sys/arch/${MACHINE_ARCH}/include||" \
@


1.50
log
@install isofs headers, we need them
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.49 1998/06/07 23:20:12 millert Exp $
d38 3
a40 3
	../lib/librpcsvc ../lib/libskey ../lib/libss ../lib/libtermlib \
	../lib/libedit ../lib/libpcap ../lib/libutil ../lib/libwrap \
	../lib/libz ../sys/arch/${MACHINE}
@


1.49
log
@add gnu/lib/libgmp to WDIR for includes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.48 1998/05/04 10:21:10 provos Exp $
d34 1
a34 1
	scsi netatalk
@


1.48
log
@make includes for libossaudio
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.47 1998/03/03 21:15:22 niklas Exp $
d44 1
a44 1
	../gnu/usr.bin/gcc
@


1.47
log
@Dive into libg++ and gcc on includes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.46 1997/08/18 05:29:41 millert Exp $
d37 4
a40 4
	../lib/libmenu ../lib/libocurses ../lib/libpanel ../lib/librpcsvc \
	../lib/libskey ../lib/libss ../lib/libtermlib ../lib/libedit \
	../lib/libpcap ../lib/libutil ../lib/libwrap ../lib/libz \
	../sys/arch/${MACHINE}
@


1.46
log
@inttypes.h as required by XPG4.2.  Nothing uses this yet and all in-tree
sources should use the BSD-style types anyway.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.45 1997/08/17 21:31:23 millert Exp $
d16 2
a17 2
	ranlib.h re_comp.h regex.h resolv.h rmd160.h search.h setjmp.h sgtty.h \
	sha1.h signal.h stab.h stddef.h stdio.h stdlib.h string.h \
d42 4
d88 4
@


1.45
log
@basename(3) and dirname(3) as specified by XPG4 and XPG4.2
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.44 1997/07/23 04:30:15 denny Exp $
d13 3
a15 3
	glob.h grp.h ieeefp.h iso646.h kvm.h langinfo.h libgen.h limits.h \
	locale.h malloc.h math.h md4.h md5.h memory.h mpool.h ndbm.h netdb.h \
	netgroup.h nlist.h nl_types.h olf_abi.h paths.h poll.h pwd.h \
@


1.44
log
@add netatalk
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.43 1997/07/17 05:36:59 millert Exp $
d13 2
a14 2
	glob.h grp.h ieeefp.h iso646.h kvm.h langinfo.h limits.h locale.h \
	malloc.h math.h md4.h md5.h memory.h mpool.h ndbm.h netdb.h \
@


1.43
log
@mdX(3)-like interface to RIPEMD-160 hash function.  Code by
Antoon Bosselaers and massaged by me to fit the mdX(3) API.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.42 1997/06/29 10:28:23 provos Exp $
d34 1
a34 1
	scsi
@


1.42
log
@relocated header files
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.41 1997/05/30 08:27:22 downsj Exp $
d16 1
a16 1
	ranlib.h re_comp.h regex.h resolv.h search.h setjmp.h sgtty.h \
@


1.41
log
@Don't ref gnu/ext2fs.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.40 1997/04/27 20:55:58 millert Exp $
d12 2
a13 2
	dirent.h disktab.h elf_abi.h err.h fnmatch.h fstab.h fts.h glob.h \
	grp.h ieeefp.h iso646.h kvm.h langinfo.h limits.h locale.h \
@


1.40
log
@COPY -> INSTALL_COPY and STRIP -> INSTALL_STRIP
This fixes namespace problems where STRIP is sometimes used as
the name of the strip(1) to use and other times used as
the flag to send install(1) when stripping (or not).
COPY doesn't have this problem (yet) but was poorly named.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.39 1997/04/19 21:26:15 millert Exp $
d34 1
a34 1
	scsi gnu/ext2fs
@


1.39
log
@Changed ``defined(KERBEROS)'' to ``(${KERBEROS} == "yes")''
Same change doen for SKEY, YP, and KERBEROS5.  This allows
people to override those setting in /etc/mk.conf.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.38 1997/02/27 18:14:50 downsj Exp $
d55 1
a55 1
		    ${INSTALL} ${COPY} -m 444 $$i ${DESTDIR}/usr/include/$$i; \
d63 1
a63 1
			${INSTALL} ${COPY} -m 444 $$j ${DESTDIR}/usr/include/$$i/$$j; \
@


1.38
log
@Add libwrap.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.37 1997/02/13 22:41:51 provos Exp $
d47 1
a47 1
.if defined(KERBEROS)
@


1.37
log
@blf.h headerfile install
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.36 1997/02/03 00:08:24 millert Exp $
d39 2
a40 1
	../lib/libpcap ../lib/libutil ../lib/libz ../sys/arch/${MACHINE}
@


1.36
log
@Back out stringlist
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.34 1996/12/22 06:29:00 deraadt Exp $
d11 2
a12 2
FILES=	a.out.h ar.h assert.h bitstring.h bm.h cpio.h ctype.h db.h dirent.h \
	disktab.h elf_abi.h err.h fnmatch.h fstab.h fts.h glob.h \
@


1.35
log
@From NetBSD (lukem and christos):
    A stringlist implementation (previously ``private'' to libc netgroup code,
    but christos ok-ed making public as it's useful)
@
text
@d17 1
a17 1
	sha1.h signal.h stab.h stddef.h stdio.h stdlib.h string.h stringlist.h \
@


1.34
log
@nope, ss is wrong
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.33 1996/12/19 23:43:02 etheisen Exp $
d17 1
a17 1
	sha1.h signal.h stab.h stddef.h stdio.h stdlib.h string.h \
@


1.33
log
@Create include/ss.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.32 1996/12/08 15:26:51 downsj Exp $
d34 1
a34 1
	scsi ss gnu/ext2fs
@


1.32
log
@cookie cookie COOKIE.. oh, sorry..
install -> ${INSTALL}, -c -> ${COPY}
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.31 1996/11/16 21:53:10 downsj Exp $
d34 1
a34 1
	scsi gnu/ext2fs
@


1.31
log
@Fix more libss stuff.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.30 1996/11/15 09:25:19 downsj Exp $
d54 1
a54 1
		    install -c -m 444 $$i ${DESTDIR}/usr/include/$$i; \
d58 1
a58 1
		install -d -o ${BINOWN} -g ${BINGRP} -m 755 \
d62 1
a62 1
			install -c -m 444 $$j ${DESTDIR}/usr/include/$$i/$$j; \
d89 1
a89 1
		install -d -o ${BINOWN} -g ${BINGRP} -m 755 \
d97 1
a97 1
	install -d -o ${BINOWN} -g ${BINGRP} -m 755 \
d105 1
a105 1
		install -d -o ${BINOWN} -g ${BINGRP} -m 755 \
@


1.30
log
@Move libss to the main tree.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.29 1996/11/11 04:55:01 downsj Exp $
d47 1
a47 1
RDIRS+=	../kerberosIV/include ../kerberosIV/kadm ../kerberosIV/krb ../kerberosIV/ss
@


1.29
log
@Move libcom_err out of Kerberos, change include location.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.28 1996/11/05 00:54:17 downsj Exp $
d38 2
a39 2
	../lib/libskey ../lib/libtermlib ../lib/libedit ../lib/libpcap \
	../lib/libutil ../lib/libz ../sys/arch/${MACHINE}
@


1.28
log
@install gnu/ext2fs
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.27 1996/10/27 20:22:45 etheisen Exp $
d36 4
a39 4
RDIRS=	../lib/libcompat ../lib/libcurses ../lib/libform ../lib/libmenu \
	../lib/libocurses ../lib/libpanel ../lib/librpcsvc ../lib/libskey \
	../lib/libtermlib ../lib/libedit ../lib/libpcap ../lib/libutil \
	../lib/libz ../sys/arch/${MACHINE}
@


1.27
log
@OLF.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.26 1996/10/06 19:59:52 pefo Exp $
d33 2
a34 1
LDIRS=	dev net netinet netccitt netiso netns netipx nfs sys ufs vm ddb scsi
@


1.26
log
@Fix dlfcn.h and link.h for arc port
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.25 1996/09/29 23:52:34 millert Exp $
d15 5
a19 4
	netgroup.h nlist.h nl_types.h paths.h poll.h pwd.h ranlib.h re_comp.h \
	regex.h resolv.h search.h setjmp.h sgtty.h sha1.h signal.h stab.h \
	stddef.h stdio.h stdlib.h string.h strings.h struct.h sysexits.h \
	tar.h time.h ttyent.h tzfile.h unistd.h utime.h utmp.h vis.h
@


1.25
log
@removed md2.h
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.24 1996/09/29 16:13:19 millert Exp $
d26 4
@


1.24
log
@Added sha1 (secure hash function).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.23 1996/09/27 14:58:21 millert Exp $
d14 1
a14 1
	malloc.h math.h md2.h md4.h md5.h memory.h mpool.h ndbm.h netdb.h \
@


1.23
log
@includes in skey dir get installed too.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.22 1996/09/05 11:01:32 pefo Exp $
d16 3
a18 4
	regex.h resolv.h \
	search.h setjmp.h sgtty.h signal.h stab.h stddef.h stdio.h stdlib.h \
	string.h strings.h struct.h sysexits.h tar.h time.h ttyent.h tzfile.h \
	unistd.h utime.h utmp.h vis.h
@


1.22
log
@standard link.h and dlfcn.h not very useful on mips
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.21 1996/08/16 09:40:02 mickey Exp $
d32 3
a34 3
	../lib/libocurses ../lib/libpanel ../lib/librpcsvc ../lib/libtermlib \
	../lib/libedit ../lib/libpcap ../lib/libutil ../lib/libz \
	../sys/arch/${MACHINE}
@


1.21
log
@netipx.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.20 1996/08/16 04:19:14 downsj Exp $
d21 1
a21 1
.if (${MACHINE_ARCH} != "alpha")
@


1.20
log
@Add libcompat.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.19 1996/07/27 02:39:40 tholo Exp $
d29 1
a29 1
LDIRS=	dev net netinet netccitt netiso netns nfs sys ufs vm ddb scsi
@


1.19
log
@Integrate zlib v1.0.3
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.18 1996/07/24 09:05:05 mickey Exp $
d31 4
a34 3
RDIRS=	../lib/libcurses ../lib/libform ../lib/libmenu ../lib/libocurses \
	../lib/libpanel ../lib/librpcsvc ../lib/libtermlib ../lib/libedit \
	../lib/libpcap ../lib/libutil ../lib/libz ../sys/arch/${MACHINE}
@


1.18
log
@install /sys/scsi in /usr/include/scsi
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 1996/07/24 05:10:20 downsj Exp $
d33 1
a33 1
	../lib/libpcap ../lib/libutil ../sys/arch/${MACHINE}
@


1.17
log
@regexp.h no longer lives here.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 1996/06/19 11:20:19 deraadt Exp $
d29 1
a29 1
LDIRS=	dev net netinet netccitt netiso netns nfs sys ufs vm ddb
@


1.16
log
@util.h no longer here
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 1996/06/12 11:21:39 deraadt Exp $
d16 1
a16 1
	regex.h regexp.h resolv.h \
@


1.15
log
@add /sbin/scsi from FreeBSD -- a good start!
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 1996/06/11 23:45:06 deraadt Exp $
d19 1
a19 1
	unistd.h util.h utime.h utmp.h vis.h
@


1.14
log
@also do includes in libpcap and arch/${MACHINE}
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 1996/06/10 06:23:19 deraadt Exp $
d33 1
a33 1
	../lib/libpcap ../sys/arch/${MACHINE}
@


1.13
log
@libedit has an includes target too
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 1996/06/03 22:28:40 niklas Exp $
d32 2
a33 1
	../lib/libpanel ../lib/librpcsvc ../lib/libtermlib ../lib/libedit
@


1.12
log
@Forgot to handle the md?.h include files in here
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 1996/06/02 22:39:08 deraadt Exp $
d32 1
a32 1
	../lib/libpanel ../lib/librpcsvc ../lib/libtermlib
@


1.11
log
@../lib/libmenu not ../libmenu
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 1996/06/02 21:49:01 tholo Exp $
d14 3
a16 3
	malloc.h math.h memory.h mpool.h ndbm.h netdb.h netgroup.h nlist.h \
	nl_types.h paths.h poll.h pwd.h ranlib.h re_comp.h regex.h regexp.h \
	resolv.h \
@


1.10
log
@Include in some more directories
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 1996/06/02 07:28:42 tholo Exp $
d31 1
a31 1
RDIRS=	../lib/libcurses ../lib/libform ../libmenu ../lib/libocurses \
@


1.9
log
@Recurse into a few more select directories on "make includes"
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 1996/05/22 11:34:45 deraadt Exp $
d31 2
a32 2
RDIRS=	../lib/libcurses ../lib/libocurses ../lib/libcurses ../lib/librpcsvc \
	../lib/libtermlib
@


1.8
log
@libutil
@
text
@d1 1
a1 1
#	$OpenBSD$
d31 2
a32 1
RDIRS=	../lib/libcurses ../lib/librpcsvc ../lib/libpcap
d39 3
@


1.7
log
@hard-code the include installation path (mostly for speed)
@
text
@d2 1
a2 1
#	$NetBSD: Makefile,v 1.57 1996/04/25 00:55:44 jtc Exp $
a5 2
# Doing a make install builds /usr/include
#
d12 2
a13 2
	disktab.h dlfcn.h elf_abi.h err.h fnmatch.h fstab.h fts.h glob.h \
	grp.h ieeefp.h iso646.h kvm.h langinfo.h limits.h link.h locale.h \
d15 2
a16 1
	nl_types.h paths.h pwd.h ranlib.h re_comp.h regex.h regexp.h resolv.h \
d19 5
a23 1
	unistd.h utime.h utmp.h vis.h
@


1.6
log
@realinstall -> includes
@
text
@d1 1
a23 1
CFILES=	curses.h
d28 2
a60 6
	@@echo installing ${CFILES}
	@@-for i in ${CFILES}; do \
		cmp -s ../lib/libcurses/$$i ${DESTDIR}/usr/include/$$i || \
		    install -c -m 444 ../lib/libcurses/$$i \
			${DESTDIR}/usr/include/$$i; \
	done
d66 4
@


1.5
log
@Add /sys/ddb to be installed in /usr/include.
@
text
@d1 1
a1 1
#	$NetBSD: Makefile,v 1.56 1996/02/05 22:34:09 jtc Exp $
d34 1
a34 1
realinstall:
a70 3
beforeinstall:
	install -d -o ${BINOWN} -g ${BINGRP} -m 755 ${DESTDIR}/usr/include

d117 2
a119 2

realinstall: ${SYS_INCLUDE}
@


1.4
log
@From NetBSD:
Add cpio.h, tar.h, and re_comp.h headers for POSIX & XPG4 conformance
@
text
@d26 1
a26 1
LDIRS=	dev net netinet netccitt netiso netns nfs sys ufs vm 
@


1.3
log
@Install elf_abi.h in /usr/include.
@
text
@d1 1
a1 1
#	$NetBSD: Makefile,v 1.55 1995/06/05 00:24:55 pk Exp $
d12 8
a19 7
FILES=	a.out.h ar.h assert.h bitstring.h bm.h ctype.h db.h dirent.h disktab.h \
	dlfcn.h elf_abi.h err.h fnmatch.h fstab.h fts.h glob.h grp.h ieeefp.h \
	iso646.h kvm.h langinfo.h limits.h link.h locale.h malloc.h math.h \
	memory.h mpool.h ndbm.h netdb.h netgroup.h nlist.h nl_types.h paths.h \
	pwd.h ranlib.h regex.h regexp.h resolv.h search.h setjmp.h sgtty.h \
	signal.h stab.h stddef.h stdio.h stdlib.h string.h strings.h struct.h \
	sysexits.h time.h ttyent.h tzfile.h unistd.h utime.h utmp.h vis.h
@


1.2
log
@install curses.h from src/include
@
text
@d13 5
a17 5
	dlfcn.h err.h fnmatch.h fstab.h fts.h glob.h grp.h ieeefp.h iso646.h \
	kvm.h langinfo.h limits.h link.h locale.h malloc.h math.h memory.h \
	mpool.h ndbm.h netdb.h netgroup.h nlist.h nl_types.h paths.h pwd.h \
	ranlib.h regex.h regexp.h resolv.h search.h setjmp.h sgtty.h signal.h \
	stab.h stddef.h stdio.h stdlib.h string.h strings.h struct.h \
@


1.1
log
@Initial revision
@
text
@d22 1
d57 6
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@

