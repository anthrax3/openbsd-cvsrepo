head	1.27;
access;
symbols
	OPENBSD_6_1:1.27.0.4
	OPENBSD_6_1_BASE:1.27
	OPENBSD_6_0:1.24.0.4
	OPENBSD_6_0_BASE:1.24
	OPENBSD_5_9:1.24.0.2
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.23.0.14
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.23.0.6
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.23.0.10
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.8
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.4
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.23.0.2
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.22.0.2
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.21
	OPENBSD_5_1:1.21.0.4
	OPENBSD_5_0:1.21.0.2
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.20.0.2
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.19.0.4
	OPENBSD_4_8_BASE:1.19
	OPENBSD_4_7:1.19.0.2
	OPENBSD_4_7_BASE:1.19
	OPENBSD_4_6:1.18.0.8
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.4
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.2
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.17.0.4
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.17.0.2
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.16.0.4
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.16.0.2
	OPENBSD_4_0_BASE:1.16
	OPENBSD_3_9:1.15.0.12
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.10
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.15.0.8
	OPENBSD_3_7_BASE:1.15
	OPENBSD_3_6:1.15.0.6
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.15.0.4
	OPENBSD_3_5_BASE:1.15
	OPENBSD_3_4:1.15.0.2
	OPENBSD_3_4_BASE:1.15
	OPENBSD_3_3:1.14.0.2
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.13.0.2
	OPENBSD_3_2_BASE:1.13
	OPENBSD_3_1:1.12.0.4
	OPENBSD_3_1_BASE:1.12
	OPENBSD_3_0:1.12.0.2
	OPENBSD_3_0_BASE:1.12
	OPENBSD_2_9_BASE:1.10
	OPENBSD_2_9:1.10.0.4
	OPENBSD_2_8:1.10.0.2
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	kame_19991211:1.1.1.1
	KAME:1.1.1;
locks; strict;
comment	@.\" @;


1.27
date	2016.08.12.14.04.34;	author jca;	state Exp;
branches;
next	1.26;
commitid	EE90b9YLwR0pySps;

1.26
date	2016.08.05.11.38.00;	author jca;	state Exp;
branches;
next	1.25;
commitid	YMuh0cr0CbcHQRrw;

1.25
date	2016.08.05.11.32.28;	author jca;	state Exp;
branches;
next	1.24;
commitid	21rpTZVnhB8ldrxs;

1.24
date	2015.09.10.18.15.10;	author schwarze;	state Exp;
branches;
next	1.23;
commitid	k43ktqNNVWtzCyiS;

1.23
date	2012.09.26.16.19.44;	author jmc;	state Exp;
branches;
next	1.22;

1.22
date	2012.06.21.19.57.14;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2011.04.23.10.14.59;	author sobrado;	state Exp;
branches;
next	1.20;

1.20
date	2010.09.19.21.59.23;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2010.03.04.20.01.37;	author krw;	state Exp;
branches;
next	1.18;

1.18
date	2008.05.07.12.17.19;	author claudio;	state Exp;
branches;
next	1.17;

1.17
date	2007.05.31.19.20.28;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2006.08.10.21.24.01;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2003.08.08.10.13.33;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2003.02.11.07.26.20;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2002.06.02.23.49.47;	author itojun;	state Exp;
branches;
next	1.12;

1.12
date	2001.06.23.05.57.10;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2001.06.23.02.33.08;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2000.10.06.02.46.58;	author itojun;	state Exp;
branches;
next	1.9;

1.9
date	2000.07.15.04.59.29;	author itojun;	state Exp;
branches;
next	1.8;

1.8
date	2000.05.16.14.16.06;	author itojun;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.04.20.02.24;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.25.10.28.25;	author itojun;	state Exp;
branches;
next	1.5;

1.5
date	99.12.16.05.34.03;	author itojun;	state Exp;
branches;
next	1.4;

1.4
date	99.12.12.11.00.29;	author itojun;	state Exp;
branches;
next	1.3;

1.3
date	99.12.11.10.50.30;	author itojun;	state Exp;
branches;
next	1.2;

1.2
date	99.12.11.10.41.46;	author itojun;	state Exp;
branches;
next	1.1;

1.1
date	99.12.11.10.36.07;	author itojun;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.12.11.10.36.07;	author itojun;	state Exp;
branches;
next	;


desc
@@


1.27
log
@6bone -> documentation range
@
text
@.\"	$OpenBSD: route6d.8,v 1.26 2016/08/05 11:38:00 jca Exp $
.\"	$KAME: route6d.8,v 1.11 2002/06/02 15:00:30 itojun Exp $
.\"
.\" Copyright (c) 1996 WIDE Project. All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modifications, are permitted provided that the above copyright notice
.\" and this paragraph are duplicated in all such forms and that any
.\" documentation, advertising materials, and other materials related to
.\" such distribution and use acknowledge that the software was developed
.\" by the WIDE Project, Japan. The name of the Project may not be used to
.\" endorse or promote products derived from this software without
.\" specific prior written permission. THIS SOFTWARE IS PROVIDED ``AS IS''
.\" AND WITHOUT ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, WITHOUT
.\" LIMITATION, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
.\" A PARTICULAR PURPOSE.
.\"
.Dd $Mdocdate: August 5 2016 $
.Dt ROUTE6D 8
.Os
.Sh NAME
.Nm route6d
.Nd RIP6 routing daemon
.Sh SYNOPSIS
.Nm route6d
.Op Fl aDdhlnqSsu
.Sm off
.Op Fl A No \~ Ar prefix No / Ar preflen , Ar if1 Op , Ar if2 , ...
.Sm on
.Sm off
.Op Fl L No \~ Ar prefix No / Ar preflen , Ar if1 Op , Ar if2 , ...
.Sm on
.Sm off
.Op Fl N No \~ Ar if1 Op , Ar if2 , ...
.Sm on
.Sm off
.Op Fl O No \~ Ar prefix No / Ar preflen , Ar if1 Op , Ar if2 , ...
.Sm on
.Sm off
.Op Fl T No \~ Ar if1 Op , Ar if2 , ...
.Sm on
.Op Fl t Ar tag
.Sh DESCRIPTION
The
.Nm
utility is a routing daemon which supports RIP over IPv6.
.Pp
The options are as follows:
.Bl -tag -width indent
.It Xo Fl A
.Sm off
.Ar prefix No / Ar preflen ,
.Ar if1
.Op , Ar if2 , ...
.Sm on
.Xc
This option is used for aggregating routes.
.Ar prefix Ns / Ns Ar preflen
specifies the prefix and the prefix length of the
aggregated route.
When advertising routes,
.Nm
filters specific routes covered by the aggregate
and advertises the aggregated route
.Ar prefix Ns / Ns Ar preflen
to the interfaces specified in the comma-separated interface list
.Sm off
.Ar if1 Op , Ar if2 , ... .
.Sm on
.Nm
creates a static route to
.Ar prefix Ns / Ns Ar preflen ,
with the
.Dv RTF_REJECT
flag set, into the kernel routing table.
.It Fl a
Enables aging of the statically defined routes.
With this option, any
statically defined routes will be removed unless corresponding updates
arrive as if the routes are received at the startup of
.Nm .
.It Fl D
Enables extensive output of debugging messages.
This option also instructs
.Nm
to run in foreground mode
.Pq i.e. it does not become a daemon process .
.It Fl d
Enables output of debugging messages.
This option also instructs
.Nm
to run in foreground mode
.Pq i.e. it does not become a daemon process .
.It Fl h
Disables split horizon processing.
.It Xo Fl L
.Sm off
.Ar prefix No / Ar preflen ,
.Ar if1
.Op , Ar if2 , ...
.Sm on
.Xc
Filter incoming routes from interfaces
.Sm off
.Ar if1 Op , Ar if2 , ... .
.Sm on
.Nm
will accept incoming routes that are in
.Ar prefix Ns / Ns Ar preflen .
If multiple
.Fl L
options are specified, all routes that match any of the options are accepted.
.Li ::/0
is treated specially as the default route, not
.Do
any route that has longer prefix length than, or equal to, 0
.Dc .
For example, with
.Dq -L 2001:db8::/32,if1 -L ::/0,if1 ,
.Nm
will accept the default route and routes in the 2001:db8::/32 address range,
but no others.
To accept any route, simply do not specify the
.Fl L
option.
.It Fl l
By default,
.Nm
will not exchange site local routes for safety reasons.
This is because the semantics of site local address space are rather vague,
as the specification is still being worked on,
and there is no good way to define the site local boundary.
With
.Fl l ,
.Nm
will exchange site local routes as well.
It must not be used on site boundary routers,
since
.Fl l
assumes that all interfaces are in the same site.
.It Xo
.Fl N
.Sm off
.Ar if1
.Op , Ar if2 , ...
.Sm on
.Xc
Do not listen to, or advertise, route from/to interfaces specified by
.Sm off
.Ar if1 Op , Ar if2 , ... .
.Sm on
.It Fl n
Do not update the kernel routing table.
.It Xo Fl O
.Sm off
.Ar prefix No / Ar preflen ,
.Ar if1
.Op , Ar if2 , ...
.Sm on
.Xc
Restrict route advertisement toward interfaces specified by
.Sm off
.Ar if1 Op , Ar if2 , ... .
.Sm on
With this option
.Nm
will only advertise routes that match
.Ar prefix Ns / Ns Ar preflen .
.It Fl q
Makes
.Nm
use listen-only mode.
No advertisement is sent.
.It Fl S
This option is the same as
.Fl s ,
except that the split horizon rule does apply.
.It Fl s
Makes
.Nm
advertise the statically defined routes which exist in the kernel routing
table when
.Nm
is invoked.
Announcements obey the regular split horizon rule.
.It Xo
.Fl T
.Sm off
.Ar if1
.Op , Ar if2 , ...
.Sm on
.Xc
Advertise only the default route toward
.Sm off
.Ar if1 Op , Ar if2 , ... .
.Sm on
.It Fl t Ar tag
Attach the route tag
.Ar tag
to originated route entries.
.Ar tag
can be decimal, octal prefixed by
.Li 0 ,
or hexadecimal prefixed by
.Li 0x .
.It Fl u
Always log route updates (insertions and deletions).
Route updates are always prefixed with
.Dq RTADD
or
.Dq RTDEL .
.El
.Pp
Upon receipt of signal
.Dv SIGINT
or
.Dv SIGUSR1 ,
.Nm
will log a dump of the current internal state.
.Sh SEE ALSO
.Xr ripd 8
.Sh STANDARDS
.Rs
.%A G. Malkin
.%A R. Minnear
.%D January 1997
.%R RFC 2080
.%T RIPng for IPv6
.Re
.Sh NOTES
.Nm
uses the advanced IPv6 API,
defined in RFC 3542,
for communicating with peers using link-local addresses.
.Pp
Routing table manipulation differs from IPv6 implementation to implementation.
Currently
.Nm
obeys the WIDE Hydrangea/KAME IPv6 kernel,
and will not be able to run on other platforms.
.Pp
Currently,
.Nm
does not reduce the rate of the triggered updates when consecutive updates
arrive.
@


1.26
log
@Add a -u switch to always log route insertions/deletions.

Route updates (and associated warnings) are always prefixed with "RTADD"
or "RTDEL".  This is useful for people that previously used the -R
option that got removed.

Tested by Freddy Dissaux.
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.24 2015/09/10 18:15:10 schwarze Exp $
d18 1
a18 1
.Dd $Mdocdate: September 10 2015 $
d119 1
a119 1
.Dq -L 3ffe::/16,if1 -L ::/0,if1 ,
d121 1
a121 1
will accept the default route and routes in the 3ffe::/16 address range,
@


1.25
log
@Rework logging.

Use log.c like in many other daemons, with small additions to maintain
a log queue (useful to dump a single log line with several logging
statements).  Use log.c to dump the internal state, and remove the -R
option (a similar feature will be implemented differently soon).

The end goal is to avoid touching the filesystem and use much tighter
pledge(2) restrictions.

Tested by Freddy Dissaux.
@
text
@d26 1
a26 1
.Op Fl aDdhlnqSs
d206 6
@


1.24
log
@delete obsolete .Bk from the SYNOPSIS
and delete some useless .No while here
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.23 2012/09/26 16:19:44 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: September 26 2012 $
a38 1
.Op Fl R Ar routelog
a173 5
.It Fl R Ar routelog
This option makes
.Nm
log route changes (add/delete) to the file
.Ar routelog .
d213 1
a213 13
will dump the current internal state into
.Pa /var/run/route6d_dump .
.Sh FILES
.Bl -tag -width /var/run/route6d_dump -compact
.It Pa /var/run/route6d_dump
Contains the internal state dumps created if
.Nm
receives a
.Dv SIGINT
or
.Dv SIGUSR1
signal.
.El
a228 11
.Pp
Internally
.Nm
embeds interface identifiers into bits 32 to 63 of link-local addresses
.Po
.Li fe80::xx
and
.Li ff02::xx
.Pc
so they will be visible in the internal state dump file
.Pq Pa /var/run/route6d_dump .
@


1.23
log
@last stage of rfc changes, using consistent Rs/Re blocks, and moving the
references into a STANDARDS section;
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.22 2012/06/21 19:57:14 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: June 21 2012 $
a24 1
.Bk -words
a43 1
.Ek
d53 2
a54 2
.Ar prefix No / Ar preflen
.No , Ar if1
d99 2
a100 2
.Ar prefix No / Ar preflen
.No , Ar if1
d157 2
a158 2
.Ar prefix No / Ar preflen
.No , Ar if1
@


1.22
log
@rfc 3542 obsoletes rfc 2292; ok guenther
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.21 2011/04/23 10:14:59 sobrado Exp $
d18 1
a18 1
.Dd $Mdocdate: April 23 2011 $
d236 1
d240 2
a242 2
.%R RFC 2080
.%D January 1997
@


1.21
log
@improve line breaking in SYNOPSIS now that semantics of the .Bk macro
has changed to conform with modern groff releases.

diff for route6d(8) written mostly by schwarze@@, with lots of useful
advice from jmc@@.

ok jmc@@, schwarze@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.20 2010/09/19 21:59:23 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: September 19 2010 $
d246 1
a246 1
defined in RFC 2292,
@


1.20
log
@more wacky macro fixing;
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.19 2010/03/04 20:01:37 krw Exp $
d18 1
a18 1
.Dd $Mdocdate: March 4 2010 $
d25 1
a27 2
.Oo
.Fl A Ar prefix
d29 1
a29 3
.No / Ar preflen , if1\ \&
.Op , Ar if2 , ...
.Oc
a30 3
.Bk -words
.Oo
.Fl L Ar prefix
d32 1
a32 3
.No / Ar preflen , if1\ \&
.Op , Ar if2 , ...
.Oc
a33 3
.Ek
.Oo
.Fl N Ar if1
d35 1
a35 2
.Op , Ar if2 , ...
.Oc
a36 3
.Bk -words
.Oo
.Fl O Ar prefix
d38 1
a38 3
.No / Ar preflen , if1\ \&
.Op , Ar if2 , ...
.Oc
a39 1
.Ek
a40 3
.Bk -words
.Oo
.Fl T Ar if1
d42 1
a42 2
.Op , Ar if2 , ...
.Oc
d44 1
a45 1
.Op Fl t Ar tag
@


1.19
log
@6Bone is dead. Use the literal '3ffe::/16' rather than '6bone test
address range' when explaining the -L example.
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.18 2008/05/07 12:17:19 claudio Exp $
d18 1
a18 1
.Dd $Mdocdate: May 7 2008 $
d27 2
a28 1
.Oo Fl A Ar prefix
d30 3
a32 2
.No / Ar preflen , if1
.Op , Ar if2 , ... Oc
d35 2
a36 1
.Oo Fl L Ar prefix
d38 3
a40 2
.No / Ar preflen , if1
.Op , Ar if2 , ... Oc
d46 2
a47 1
.Op , Ar if2 , ... Oc
d50 2
a51 1
.Oo Fl O Ar prefix
d53 3
a55 2
.No / Ar preflen , if1
.Op , Ar if2 , ... Oc
d63 2
a64 1
.Op , Ar if2 , ... Oc
@


1.18
log
@Ref to ripd instead of routed.
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.17 2007/05/31 19:20:28 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: May 31 2007 $
d138 1
a138 1
will accept the default route and routes in the 6bone test address range,
@


1.17
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.16 2006/08/10 21:24:01 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate$
d249 1
a249 1
.Xr routed 8
@


1.16
log
@fixes up;
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.15 2003/08/08 10:13:33 jmc Exp $
d18 1
a18 1
.Dd January 31, 1997
@


1.15
log
@refer to RFCs consistently (RFC XXXX);
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.14 2003/02/11 07:26:20 jmc Exp $
d17 1
d26 6
a31 1
.Op Fl adDhlnqsS
d33 5
a37 1
.Op Fl R Ar routelog
d39 5
d45 5
a49 7
.Op Fl A Ar prefix/preflen,if1[,if2...]
.Ek
.Bk -words
.Op Fl L Ar prefix/preflen,if1[,if2...]
.Ek
.Bk -words
.Op Fl N Ar if1[,if2...]
d51 1
d53 5
a57 1
.Op Fl O Ar prefix/preflen,if1[,if2...]
a58 4
.Bk -words
.Op Fl T Ar if1[,if2...]
.Ek
.Bk -words
a59 2
.Ek
.\"
d63 1
a63 1
is a routing daemon which supports RIP over IPv6.
d65 1
a65 1
Options are:
d67 7
a73 15
.\"
.It Fl a
Enables aging of the statically defined routes.
With this option, any
statically defined routes will be removed unless corresponding updates
arrive as if the routes are received at the startup of
.Nm route6d .
.\"
.It Fl R Ar routelog
This option makes
.Nm
log route changes (add/delete) to the file
.Ar routelog .
.\"
.It Fl A Ar prefix/preflen,if1[,if2...]
d75 1
a75 1
.Ar prefix/preflen
d82 1
a82 1
.Ar prefix/preflen
d84 3
a86 1
.Ar if1[,if2...] .
d89 1
a89 1
.Ar prefix/preflen ,
d93 8
a100 3
.\"
.It Fl d
Enables output of debugging messages.
d104 3
a106 4
.Pq i.e., it does not become a daemon process .
.\"
.It Fl D
Enables extensive output of debugging messages.
d110 1
a110 2
.Pq i.e., it does not become a daemon process .
.\"
d113 30
a142 1
.\"
d158 11
a168 29
.\"
.It Fl L Ar prefix/preflen,if1[,if2...]
Filter incoming routes from interfaces
.Ar if1,[if2...] .
.Nm
will accept incoming routes that are in
.Ar prefix/preflen .
If multiple
.Fl L
options are specified, all routes that match any of the options are accepted.
.Li ::/0
is treated specially as default route, not
.Do
any route that has longer prefix length than, or equal to 0
.Dc .
If you would like to accept any route, specify no
.Fl L
option.
For example, with
.Do
.Fl L
.Li 3ffe::/16,if1
.Fl L
.Li ::/0,if1
.Dc
.Nm
will accept the default route and routes in the 6bone test address range,
but no others.
.\"
d171 7
a177 6
.\"
.It Fl N Ar if1[,if2...]
Do not listen to, or advertise, route from/to interfaces specified by
.Ar if1,[if2...] .
.\"
.It Fl O Ar prefix/preflen,if1[,if2...]
d179 3
a181 1
.Ar if1,[if2...] .
d185 1
a185 2
.Ar prefix/preflen .
.\"
d191 9
a199 1
.\"
d208 7
a214 7
.\"
.It Fl S
This option is the same as
.Fl s ,
except that the split horizon rule does apply.
.\"
.It Fl T Ar if1[,if2...]
d216 3
a218 2
.Ar if1,[if2...] .
.\"
a227 1
.\"
a236 1
.\"
d240 1
a240 1
contains the internal state dumps created if
d246 1
a246 1
signal
a247 1
.\"
d249 1
a256 1
.\"
@


1.14
log
@typos;

raidctl(8) ok millert@@
mknetid(8) help maja@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.13 2002/06/02 23:49:47 itojun Exp $
d225 1
a225 1
.%R RFC2080
d232 1
a232 1
defined in RFC2292,
@


1.13
log
@grammar.  from netbsd via kame
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.12 2001/06/23 05:57:10 deraadt Exp $
d61 1
a61 1
.Nm "" .
@


1.12
log
@ok, tmac is now fixed
@
text
@d1 2
a2 2
.\"	$OpenBSD: route6d.8,v 1.11 2001/06/23 02:33:08 deraadt Exp $
.\"	$KAME: route6d.8,v 1.9 2000/07/24 12:39:46 itojun Exp $
d22 1
a22 1
.Nd RIP6 Routing Daemon
d25 1
a25 1
.Op Fl adDhlqsS
d61 1
a61 1
.Nm Ns .
d64 1
a64 1
This option makes the
d66 1
a66 1
to log the route change (add/delete) to the file
d76 1
a76 1
filters specific routes covered by the aggregate,
d78 2
a79 2
.Ar prefix/preflen ,
to the interfaces specified in the comma-separated interface list,
d83 2
a84 2
.Ar prefix/preflen
with
d86 1
a86 1
flag, into the kernel routing table.
d89 1
a89 1
Enables output of debugging message.
d93 1
a93 1
.Pq does not become daemon .
d96 1
a96 1
Enables extensive output of debugging message.
d100 1
a100 1
.Pq does not become daemon .
d103 1
a103 1
Disables the split horizon processing.
d109 3
a111 3
This is because semantics of site local address space is rather vague
.Pq specification is still in being worked ,
and there is no good way to define site local boundary.
d113 1
a113 2
.Fl l
option,
d119 1
a119 1
option assumes that all interfaces are in the same site.
d129 1
a129 1
options are specified, any routes that match one of the options is accepted.
d146 5
a150 1
will accept default route and routes in 6bone test address, but no others.
d161 1
a161 1
will only advertise routes that matches
d167 1
a167 1
in listen-only mode.
d173 1
a173 1
to advertise the statically defined routes which exist in the kernel routing
d176 1
a176 1
invoked.
d181 2
a182 2
.Fl s
option except that no split horizon rule does apply.
d185 1
a185 1
Advertise only default route, toward
d189 1
a189 1
Attach route tag
d211 3
a213 1
dumps internal state on
d217 1
d229 1
a229 1
.Sh NOTE
d231 1
a231 1
uses IPv6 advanced API,
d237 1
a237 1
embeds interface identifier into bit 32 to 63 of link-local addresses
d243 1
a243 1
so they will be visible on internal state dump file
d249 1
a249 1
obeys WIDE Hydrangea/KAME IPv6 kernel,
d252 1
a252 1
Current
@


1.11
log
@join .%A entries; most by bk@@rt.fm
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.10 2000/10/06 02:46:58 itojun Exp $
d216 2
a217 1
.%A G. Malkin and R. Minnear
@


1.10
log
@printf string format audit.  from: sommerfeld@@netbsd.org
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.9 2000/07/15 04:59:29 itojun Exp $
d216 1
a216 2
.%A G. Malkin
.%A R. Minnear
@


1.9
log
@sync with latest kame.
- correct possible realloc memory leak.
- remove obsolete non-advanced api support (!ADVAPI)
- do not overwrite routing entry, when -A is specified (exit with error).
@
text
@d1 2
a2 2
.\"	$OpenBSD: route6d.8,v 1.8 2000/05/16 14:16:06 itojun Exp $
.\"	$KAME: route6d.8,v 1.8 2000/05/31 17:00:09 itojun Exp $
d61 1
a61 1
.Nm route6d .
d224 1
a224 1
.Nm Route6d
@


1.8
log
@correct p2p interface address handling.
avoid memory leak.
bzero() after malloc().
(sync from kame)
@
text
@d1 2
a2 2
.\"	$OpenBSD: route6d.8,v 1.7 2000/03/04 20:02:24 aaron Exp $
.\"	$KAME: route6d.8,v 1.6 2000/05/13 01:29:47 itojun Exp $
d26 1
d28 2
d31 2
d34 2
d37 2
d40 2
d43 2
d46 1
@


1.7
log
@Try to standardize the options list introduction; it should read "The options
are as follows:", except in special cases.
@
text
@d1 2
a2 2
.\"	$OpenBSD: route6d.8,v 1.6 2000/02/25 10:28:25 itojun Exp $
.\"	$KAME: route6d.8,v 1.5 2000/02/25 06:15:05 itojun Exp $
d39 1
a39 1
The options are as follows:
d95 2
a96 1
This is because semantics of site local address space is rather vague,
@


1.6
log
@use getifaddrs, not SIOCGIFCONF, to avoid LP64 alignment issue.
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.5 1999/12/16 05:34:03 itojun Exp $
d39 1
a39 1
Options are:
@


1.5
log
@move dump file to /var/run, not /var/tmp.
@
text
@d1 2
a2 1
.\"	$OpenBSD: route6d.8,v 1.4 1999/12/12 11:00:29 itojun Exp $
@


1.4
log
@route6d now works fine (because of udp socket advanced API fix)
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.3 1999/12/11 10:50:30 itojun Exp $
d187 1
a187 1
.Pa /var/tmp/route6d_dump .
d190 2
a191 2
.Bl -tag -width /var/tmp/route6d_dump -compact
.It Pa /var/tmp/route6d_dump
d222 1
a222 1
.Pq Pa /var/tmp/route6d_dump .
@


1.3
log
@it looks that route6d is not working right, because of
behavior difference in socket layer against multicast destination.
@
text
@d1 1
a1 1
.\"	$OpenBSD: route6d.8,v 1.2 1999/12/11 10:41:46 itojun Exp $
a233 5
.\"
.Sh BUGS
At this moment,
.Nm
does not work right due to *BSD differences in socket layer.
@


1.2
log
@add and enable route6d.  fix bogus enties in distrib/sets/lists.

XXX route6d is not really tested on kame/openbsd.  there can be some
trouble with kernel advanced API part.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d234 5
@


1.1
log
@Initial revision
@
text
@d1 2
d18 1
a18 1
.Os KAME
@


1.1.1.1
log
@route6d, simple ripng daemon, from KAME
@
text
@@
