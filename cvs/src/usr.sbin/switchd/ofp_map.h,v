head	1.9;
access;
symbols
	OPENBSD_6_1:1.9.0.2
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3;
locks; strict;
comment	@ * @;


1.9
date	2016.11.18.16.56.09;	author reyk;	state Exp;
branches;
next	1.8;
commitid	MKmtlnU172JJbpoi;

1.8
date	2016.11.18.16.49.35;	author reyk;	state Exp;
branches;
next	1.7;
commitid	wenNEobVmwJZjDoJ;

1.7
date	2016.11.18.16.34.04;	author reyk;	state Exp;
branches;
next	1.6;
commitid	2iF9xGHOrAI2qEQz;

1.6
date	2016.11.18.14.54.22;	author reyk;	state Exp;
branches;
next	1.5;
commitid	0u7xYFFlHFWlvQl6;

1.5
date	2016.09.29.13.04.50;	author rzalamena;	state Exp;
branches;
next	1.4;
commitid	5RpcivaXVFnD0plZ;

1.4
date	2016.09.26.08.46.00;	author rzalamena;	state Exp;
branches;
next	1.3;
commitid	ksycG9vNPV6QnVEf;

1.3
date	2016.07.20.19.57.54;	author reyk;	state Exp;
branches;
next	1.2;
commitid	ceRYj8YLTFlwTGBr;

1.2
date	2016.07.20.14.15.08;	author reyk;	state Exp;
branches;
next	1.1;
commitid	r8lT9ieuUAvheQ28;

1.1
date	2016.07.19.16.54.26;	author reyk;	state Exp;
branches;
next	;
commitid	NvD0Bp0qm4zs28YJ;


desc
@@


1.9
log
@Define a group_id map and rename the defines accordingly.

Requested by rzalamena@@
@
text
@/*	$OpenBSD: ofp_map.h,v 1.8 2016/11/18 16:49:35 reyk Exp $	*/

/*
 * Copyright (c) 2013-2016 Reyk Floeter <reyk@@openbsd.org>
 *
 * Permission to use, copy, modify, and distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 */

#ifndef OFP_MAP_H
#define OFP_MAP_H

struct constmap {
	unsigned int	 cm_type;
	const char	*cm_name;
	const char	*cm_descr;
};

/*
 * Each map is generated from lists of #define's in ofp.h, using the format:
 * #define OFP_{MAPNAME}_FLAG	{value}		/ * COMMENT * /
 *
 * Please make sure that the flags in ofp.h match this style (incl. comment)
 */

/* OpenFlow 1.0 maps */
extern struct constmap ofp10_t_map[];
extern struct constmap ofp10_port_map[];
extern struct constmap ofp10_action_map[];
extern struct constmap ofp10_wildcard_map[];
extern struct constmap ofp10_errtype_map[];
extern struct constmap ofp10_errflowmod_map[];

/* OpenFlow 1.3+ maps */
extern struct constmap ofp_v_map[];
extern struct constmap ofp_t_map[];
extern struct constmap ofp_pktin_map[];
extern struct constmap ofp_port_map[];
extern struct constmap ofp_pktout_map[];
extern struct constmap ofp_oxm_c_map[];
extern struct constmap ofp_xm_t_map[];
extern struct constmap ofp_config_map[];
extern struct constmap ofp_controller_maxlen_map[];
extern struct constmap ofp_instruction_t_map[];
extern struct constmap ofp_portstate_map[];
extern struct constmap ofp_portconfig_map[];
extern struct constmap ofp_portmedia_map[];
extern struct constmap ofp_pktin_reason_map[];
extern struct constmap ofp_swcap_map[];
extern struct constmap ofp_table_id_map[];
extern struct constmap ofp_match_map[];
extern struct constmap ofp_mp_t_map[];
extern struct constmap ofp_action_map[];
extern struct constmap ofp_flowcmd_map[];
extern struct constmap ofp_flowflag_map[];
extern struct constmap ofp_flowrem_reason_map[];
extern struct constmap ofp_group_id_map[];
extern struct constmap ofp_errtype_map[];
extern struct constmap ofp_errflowmod_map[];
extern struct constmap ofp_errmatch_map[];
extern struct constmap ofp_errinst_map[];
extern struct constmap ofp_errreq_map[];
extern struct constmap ofp_table_featprop_map[];

#endif /* OFP_MAP_H */
@


1.8
log
@Define constmap in ofp_map.h to be shared along with ofp_map.c
@
text
@d1 1
a1 1
/*	$OpenBSD: ofp_map.h,v 1.7 2016/11/18 16:34:04 reyk Exp $	*/
d66 1
@


1.7
log
@Remove leading _ from include guards as this violates the reserved space.
@
text
@d1 1
a1 1
/*	$OpenBSD: ofp_map.h,v 1.6 2016/11/18 14:54:22 reyk Exp $	*/
d21 6
@


1.6
log
@Add more maps to print.  As discussed with rzalamena@@
@
text
@d1 1
a1 1
/*	$OpenBSD: ofp_map.h,v 1.5 2016/09/29 13:04:50 rzalamena Exp $	*/
d19 2
a20 2
#ifndef _SWITCHD_OFP_MAP_H
#define _SWITCHD_OFP_MAP_H
d67 1
a67 1
#endif /* _SWITCHD_OFP_MAP_H */
@


1.5
log
@Teach switchd(8) some multipart table properties request/parse code to
handle basic display.
@
text
@d1 1
a1 1
/*	$OpenBSD: ofp_map.h,v 1.4 2016/09/26 08:46:00 rzalamena Exp $	*/
d42 1
d46 1
d51 1
d53 1
d59 1
@


1.4
log
@Enable more debug messages to help developing flow modification messages.

ok reyk@@
@
text
@d1 1
a1 1
/*	$OpenBSD: ofp_map.h,v 1.3 2016/07/20 19:57:54 reyk Exp $	*/
d42 1
a42 1
extern struct constmap ofp_oxm_map[];
d45 1
d51 1
d60 1
@


1.3
log
@Parse and print OpenFlow 1.3 PACKET_IN and OXM (Openflow eXtended Match) -
no action yet.
@
text
@d1 1
a1 1
/*	$OpenBSD: ofp_map.h,v 1.2 2016/07/20 14:15:08 reyk Exp $	*/
d55 3
@


1.2
log
@Update OpenFlow 1.3 stub based on the 1.0 code.
@
text
@d1 1
a1 1
/*	$OpenBSD: ofp_map.h,v 1.1 2016/07/19 16:54:26 reyk Exp $	*/
a39 1
extern struct constmap ofp_hi_map[];
d42 2
@


1.1
log
@Import switchd(8), a basic WIP OpenFlow implementation for OpenBSD.

switchd consists of two parts:
1. switchd(8) and switchctl(8), an OpenFlow controller or "vswitch".
2. switch(4), an OpenFlow-aware kernel "bridge".

This the 1st part, the driver will be imported later.  The code will
remain disabled for a while, but it helps development to have it in
the tree.  switchd currently supports partial OpenFlow 1.0, but the
goal is to use OpenFlow 1.3.5 instead (switch(4) already does 1.3.5).

For more background information see:
http://www.openbsd.org/papers/bsdcan2016-switchd.pdf
https://youtu.be/Cuo0qT-lqig

With help from yasuoka@@ goda@@
Import discussed with deraadt@@
@
text
@d1 1
a1 1
/*	$OpenBSD$	*/
d41 1
@

