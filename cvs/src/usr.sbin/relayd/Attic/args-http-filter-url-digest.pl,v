head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2014.05.05.12.31.56;	author andre;	state dead;
branches;
next	1.1;

1.1
date	2014.05.05.11.02.29;	author andre;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Replacing test files from previous commit to the right directory. There is no
trigger to run tests from relayd directory, so previous had no practical
effect.
@
text
@use strict;
use warnings;

our %args = (
    client => {
	func => \&http_client,
	path => "a/b/c/d/e/f/gindex.html",
	loggrep => [
	    qr/403 Forbidden/,
	    qr/Server: OpenBSD relayd/,
	    qr/Connection: close/,
	],
	httpnok => 1,
    },
    relayd => {
	protocol => [ "http",
	    'return error',
	    'url filter digest 0ac8ccfc03317891ae2820de10ee2167d31ebd16 log',
	],
	loggrep => {
	    qr/rejecting request \(403 Forbidden\)/ => 1,
	    qr/\[0ac8ccfc03317891ae2820de10ee2167d31ebd16:/ => 1,
	},
    },
    server => {
	noserver => 1,
	nocheck => 1,
    },
);

1;
@


1.1
log
@Add two more regression tests to relayd, these cover "digest" and "file"
keywords.

ok reyk
@
text
@@

