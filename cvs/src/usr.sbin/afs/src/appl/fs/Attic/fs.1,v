head	1.16;
access;
symbols
	OPENBSD_5_2:1.15.0.30
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.28
	OPENBSD_5_0:1.15.0.26
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.24
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.15.0.22
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.18
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.15.0.20
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.16
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.14
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.12
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.15.0.10
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.15.0.8
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.15.0.6
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.4
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.15.0.2
	OPENBSD_3_8_BASE:1.15
	OPENBSD_3_7:1.14.0.2
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.13.0.2
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.12.0.4
	OPENBSD_3_5_BASE:1.12
	OPENBSD_3_4:1.12.0.2
	OPENBSD_3_4_BASE:1.12
	arla-20030805:1.1.1.2
	OPENBSD_3_3:1.9.0.2
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7
	arla-0-35-7:1.1.1.1
	arla:1.1.1
	OPENBSD_3_1:1.3.0.4
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_BASE:1.1
	OPENBSD_2_9:1.1.0.4
	OPENBSD_2_8:1.1.0.2
	OPENBSD_2_8_BASE:1.1;
locks; strict;
comment	@.\" @;


1.16
date	2012.08.23.06.21.49;	author deraadt;	state dead;
branches;
next	1.15;

1.15
date	2005.04.25.07.45.47;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2004.09.15.23.05.53;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2004.08.25.21.59.59;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2003.08.05.14.12.34;	author hin;	state Exp;
branches;
next	1.11;

1.11
date	2003.08.05.09.05.48;	author hin;	state Exp;
branches;
next	1.10;

1.10
date	2003.05.21.09.28.09;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2002.12.24.19.50.51;	author fgsch;	state Exp;
branches;
next	1.8;

1.8
date	2002.12.21.00.10.13;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2002.09.18.07.33.48;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2002.06.09.04.03.21;	author hin;	state Exp;
branches;
next	1.5;

1.5
date	2002.06.07.15.33.43;	author hin;	state Exp;
branches;
next	1.4;

1.4
date	2002.06.07.04.28.42;	author hin;	state Exp;
branches;
next	1.3;

1.3
date	2001.07.25.10.04.57;	author mpech;	state Exp;
branches;
next	1.2;

1.2
date	2001.07.20.19.09.46;	author mpech;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.11.14.40.35;	author art;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.06.07.04.14.20;	author hin;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.08.05.08.20.59;	author hin;	state Exp;
branches;
next	;


desc
@@


1.16
log
@the afs src tree can go away
@
text
@.\" Copyright (c) 2000 - 2003 Kungliga Tekniska Högskolan
.\" (Royal Institute of Technology, Stockholm, Sweden).
.\" All rights reserved.
.\" 
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 
.\" 3. Neither the name of the Institute nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\" 
.\" THIS SOFTWARE IS PROVIDED BY THE INSTITUTE AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE INSTITUTE OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	$arla: fs.1,v 1.17 2003/06/06 12:53:48 hin Exp $
.\"     $OpenBSD: fs.1,v 1.15 2005/04/25 07:45:47 jmc Exp $
.\"
.Dd March 29, 2000
.Dt FS 1
.Os "The Arla Project"
.Sh NAME
.Nm fs
.Nd Manage AFS directories
.Sh SYNOPSIS
.Nm
.Op Ar command
.Op Ar args
.Sh DESCRIPTION
The
.Nm
utility is used to manipulate the AFS filesystem.
Note that the
.Nm
utility does
.Em not
modify the traditional
.Ux
filesystem, only files in AFS.
.Pp
The
.Nm
utility provides several commands:
.Pp
.Bl -tag -width setmaxpriority -compact
.It Cm apropos
locate commands by keyword
.It Cm arladebug
tweek arla-debugging flags
.It Cm checkservers
check if servers are up
.It Cm checkvolumes
check that all volume mapping are correct
.It Cm cleanacl
not yet implemented
.It Cm copyacl
not yet implemented
.It Cm diskfree
show free partition space
.It Cm examine
examine volume status
.It Cm flush
remove file from cache
.It Cm flushvolume
remove volumedata (and files in volume) from cache
.It Cm gcpags
garbage collect pags
.It Cm getcacheparms
get cache usage
.It Cm getcrypt
get encrypt status
.It Cm getcellstatus
get suid cell status
.It Cm getfid
get fid
.It Cm getserverprefs
not yet implemented
.It Cm getstatistics
get statistics from the cache manager
.It Cm getpriority
get priority of a file/dir
.It Cm gp
shorthand for the
.Cm getpriority
command
.It Cm getmaxpriority
get max priority for a file gc
.It Cm gmp
shorthand for the
.Cm getmaxpriority
command
.It Cm help
get help for
.Nm
.It Cm incompat
report interface of the pioctl interface
.It Cm listacl
show acl
.It Cm la
shorthand for the
.Cm listacl
command
.It Cm listcells
list cells that the cache handler can communicate with
.It Cm listquota
show volume quota
.It Cm lq
shorthand for the
.Cm listquota
command
.It Cm quota
shorthand for the
.Cm listquota
command
.It Cm lsmount
show a mount point
.It Cm messages
not yet implemented
.It Cm mkmount
create mount point
.It Cm mkm
shorthand of the
.Cm mkmount
command
.It Cm connect
connect mode
.It Cm monitor
set remote logging host
.It Cm newcell
add new cell
.It Cm nop
do a pioctl-nop
.It Cm quit
leave interactive mode
.It Cm exit
leave interactive mode
.It Cm rmmount
delete a mount point
.It Cm removepriority
remove priority from file/directory
.It Cm rmp
shorthand for the
.Cm removepriority
command
.It Cm setacl
add an acl entry on a directory
.It Cm sa
shorthand for the
.Cm setacl
command
.It Cm setcachesize
change disk cache size
.It Cm setcell
change cell status
.It Cm setpriority
set priority of a file/directory
.It Cm sp
shorthand for the
.Cm setpriority
command
.It Cm setmaxpriority
set upper limit of prio gc
.It Cm smq
shorthand for the
.Cm setmaxpriority
command.
.It Cm setquota
change quota on a volume
.It Cm sq
shorthand for the
.Cm setquota
command
.It Cm setserverprefs
not yet implemented
.It Cm setcrypt
set encryption on/off
.It Cm setvol
not yet implemented
.It Cm suidcells
list status of cells
.It Cm sysname
read/change sysname
.It Cm version
get version of fs and fs_lib
.It Cm venuslog
make arlad print status
.It Cm whereis
show server(s) of file
.It Cm whichcell
show cell of file
.It Cm wscell
display cell of workstation
.It Cm nnpfsdebug
tweek nnpfs-debugging flags
.It Cm nnpfsprint
make nnpfs print debug info
.El
.Pp
Most
.Nm
commands accept the following general arguments:
.Pp
.Bd -filled -offset indent -compact
.Op Fl cell Ar cellname
Specifies which AFS cell to use, if the default cell is not to be used.
.Pp
.Op Fl noauth
Specifies that
.Nm
should not try to authenticate the connection to the server.
This may be
useful with shell scripts, or if there is a problem with the AFS cell.
Note that the server will reject many commands if
.Fl noauth
is specified.
.Pp
.Ed
The syntax of the
.Nm
commands:
.Pp
.Ic fs apropos
.Bd -filled -offset indent -compact
Locate commands by keyword
.Ed
.Pp
.Ic fs arladebug
.Op Ar flags
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Tweek arla-debugging flags.
.Ed
.Pp
.Ic fs checkservers
.Op Fl cell Ar cellname
.Op Fl noauth
.Op Fl nopoll
.Bd -filled -offset indent -compact
Check if the servers in a cell are available.
If
.Fl nopoll
is specified, the servers are not contactad; only internal information is
printed.
.Ed
.Pp
.Ic fs checkvolumes
.Bd -filled -offset indent -compact
Check that all volume mapping are correct and flush all mountpoints
from the cache to force them to be reread.
.Ed
.Pp
.Ic fs cleanacl
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Pp
.Ic fs copyacl
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Pp
.Ic fs diskfree
.Ar path
.Bd -filled -offset indent -compact
Show free space on the partition where the file or directory
.Ar path
is stored
.Ed
.Pp
.Ic fs examine
.Op Ar path
.Bd -filled -offset indent -compact
Print detailed information about the volume mounted on the specified
.Ar path
or the current directory.
.Ed
.Pp
.Ic fs flush
.Ar file
.Bd -filled -offset indent -compact
Flush
.Ar file
from the cache, causing it to be stored on the fileserver.
.Ed
.Pp
.Ic fs flushvolume
.Ar file
.Bd -filled -offset indent -compact
Flush all the files in the volume where the
.Ar file
is stored, causing them to be stored on the fileserver.
Meta information about the volume is also flushed.
.Ed
.Pp
.Ic fs gcpags
.Bd -filled -offset indent -compact
Remove unused PAGs from the kernel.
.Ed
.Pp
.Ic fs getcacheparms
.Bd -filled -offset indent -compact
Print information about cache usage.
.Ed
.Pp
.Ic fs getcrypt
.Bd -filled -offset indent -compact
Display whether traffic between the client and server is encrypted.
.Ed
.Pp
.Ic fs getcellstatus
.Ar cellname
.Bd -filled -offset indent -compact
Indicate if the setuid bit on executable files are honored for
the specified cell.
.Ed
.Pp
.Ic fs getfid
.Ar path
.Bd -filled -offset indent -compact
Print fid information for a file.
.Ed
.Pp
.Ic fs getserverprefs
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Pp
.Ic fs getstatistics
.Bd -filled -offset indent -compact
Get statistics from the cache manager.  Possible type to get statistics
for are fetchstatus, fetchdata, storestatus, storedata, bulkstatus.
.Ed
.Pp
.Ic fs getpriority
.Bd -filled -offset indent -compact
Display priority of a file or directory.
.Ed
.Pp
.Ic fs gp
.Bd -filled -offset indent -compact
Shorthand for the
.Cm getpriority
command
.Ed
.Pp
.Ic fs getmaxpriority
.Bd -filled -offset indent -compact
Display max priority for a file.
.Ed
.Pp
.Ic fs gmp
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Shorthand for the
.Cm getmaxpriority
command.
.Ed
.Pp
.Ic fs help
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Get help for
.Nm
.Ed
.Pp
.Ic fs incompat
.Bd -filled -offset indent -compact
returns what interface of the pioctl interface currently is in use.
.Ed
.Ic fs listacl
.Ar path
.Bd -filled -offset indent -compact
Show acl for the specified path or the current directory.
.Ed
.Pp
.Ic fs la
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Shorthand for the
.Cm listacl
command.
.Ed
.Pp
.Ic fs listcells
.Bd -filled -offset indent -compact
List cells that the cache handler can communicate with.
These are the cells listed in the file
.Pa /etc/afs/CellServDB .
.Ed
.Pp
.Ic fs listquota
.Op Ar path
.Bd -filled -offset indent -compact
Show the quota for the volume of the
.Ar path
specified.
.Ed
.Pp
.Ic fs lq
.Op Ar path
.Bd -filled -offset indent -compact
Shorthand for the
.Cm listquota
command
.Ed
.Pp
.Ic fs quota
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Shorthand for the
.Ic listquota
command.
.Ed
.Pp
.Ic fs lsmount
.Ar path
.Bd -filled -offset indent -compact
Show a mount point.
.Ed
.Pp
.Ic fs messages
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Pp
.Ic fs mkmount
.Ar directory
.Ar volume
.Op Fl cell Ar cell
.Op Fl rw
.Bd -filled -offset indent -compact
Create a mountpoint point to
.Ar volume
in optional
.Ar cell .
If
.Fl rw
is given, a mountpoint to the readwrite volume is created.
.Pp
Note that there must not exist a directory named like
the mount point you are creating.
.Ed
.Pp
.Ic fs connect
.Op Ar mode
.Bd -filled -offset indent -compact
Set or get connected mode, if a
.Ar mode
is specified, the cache manager will be set to that mode.
If not, the current mode will be printed.
.Pp
Valid modes are:
.Bl -tag -width -Fl -compact
.It Cm connected
Connected mode - this is the normal operating mode.
.It Cm fetch
Fetch only mode - files are retrieved from fileserver but are not stored back.
.It Cm disconnected
Disconnected mode - files are read and written from/to the cache, and no
attempt is made to contact a fileserver-
.El
.Pp
Disconnected mode is very useful for machines that are not connected to
the network at all times, such as laptops.
Disconnected mode is to be considered very experimental at this stage.
.Ed
.Pp
.Ic fs monitor
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Pp
.Ic fs newcell
.Fl cell Ar cellname
.Fl servers Ar vldb-servers
.Op Fl help
.Bd -filled -offset indent -compact
Add a new cell to the running configuration of the cache manager, or update
already existing information.
This information should also be entered in the file
.Pa /etc/afs/CellServDB .
.Ed
.Pp
.Ic fs nop
.Bd -filled -offset indent -compact
Do a pioctl-nop.
This is useful for debugging.
.Ed
.Pp
.Ic fs quit
.Bd -filled -offset indent -compact
Leave interactive mode.
.Ed
.Pp
.Ic fs exit
.Bd -filled -offset indent -compact
Leave interactive mode.
.Ed
.Pp
.Ic fs rmmount
.Ar mountpoint
.Bd -filled -offset indent -compact
Delete
.Ar mountpoint .
.Ed
.Pp
.Ic fs removepriority
.Ar path
.Bd -filled -offset indent -compact
Remove priority from file or directory
.Ar path .
.Ed
.Pp
.Ic fs rmp
.Bd -filled -offset indent -compact
Shorthand for the
.Cm removepriority
command.
.Ed
.Pp
.Ic fs setacl
.Bd -filled -offset indent -compact
Add an acl entry on a directory.
Each entry consists of two components:
a user or group and a character string describing the permissions granted
for that user or group.
These characters and the permission they represent are:
.Bl -tag -width Fl -compact
.It Cm r
read the files
.It Cm l
list the files
.It Cm i
insert new files
.It Cm d
delete files
.It Cm w
write (change) the files
.It Cm k
lock files
.It Cm a
administer the acl, that is, to change the acl
.El
.Pp
There are also a few convinience strings recognized by
.Ic fs setacl :
.Bl -tag -width Fl -compact
.It Cm none
removes all permissions.
.It Cm read
adds 'rl' permissions, which are suitable for a read-only directory.
.It Cm write
adds all permissions except 'a', that is, the user/group can read, write,
delete etc. but not change the acl of the directory.
.It Cm all
add all permissions.
.El
.Pp
Note that in AFS you set the permissions on a directory, and the permissions
of a file are those of their directory.
So, if you move a file from one
directory to another, you might change the permission of the file, as
the two directories may have different permissions.
.Pp
Of the traditional
.Ux
permission bits only the user part is honored, and is used for any
user permissioned by the directorys acl.
The group and world permission bits are ignored, but they are stored.
.Ed
.Pp
.Ic fs sa
.Bd -filled -offset indent -compact
Shorthand for the
.Cm setacl
command
.Ed
.Pp
.Ic fs setcachesize
.Ar lowvnodes
.Op Ar highvnodes Ar lowbytes Ar highbytes
.Bd -filled -offset indent -compact
Set the size of the disk cache.
.Ed
.Pp
.Ic fs setcell
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Pp
.Ic fs setpriority
.Ar file
.Ar priority
.Bd -filled -offset indent -compact
Set priority of a file/directory.
.Ed
.Pp
.Ic fs sp
.Bd -filled -offset indent -compact
Shorthand for the
.Cm setpriority
command.
.Ed
.Pp
.Ic fs setmaxpriority
.Ar priority
.Bd -filled -offset indent -compact
Set upper limit of priority.
.Ed
.Pp
.Ic fs smq
.Bd -filled -offset indent -compact
Shorthand for the
.Cm setmaxpriority
command.
.Ed
.Pp
.Ic fs setquota
.Ar path
.Ar quota
.Bd -filled -offset indent -compact
Set the
.Ar quota
(in Kbytes) on a volume pointed out by
.Ar path .
.Ed
.Pp
.Ic fs sq
.Bd -filled -offset indent -compact
Shorthand for the
.Cm setquota
command.
.Ed
.Pp
.Ic fs setserverprefs
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Pp
.Ic fs setcrypt
.Ar yes | no
.Bd -filled -offset indent -compact
If
.Ar no
is specified, encryption of the traffic to/from fileservers is
disabled, and if
.Ar yes
is specified, it is enabled.
.Ed
.Pp
.Ic fs setvol
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Pp
.Ic fs suidcells
.Bd -filled -offset indent -compact
Print cells and whether setuid execution is allowed for them.
.Ed
.Pp
.Ic fs sysname
.Op Ar sysname
.Bd -filled -offset indent -compact
Get or set the value of the '@@sys' value.
.Ed
.Pp
.Ic fs version
.Bd -filled -offset indent -compact
Print version of fs and fs_lib.
.Ed
.Pp
.Ic fs venuslog
.Bd -filled -offset indent -compact
Make arlad print status.
.Ed
.Pp
.Ic fs whereis
.Op Ar path
.Bd -filled -offset indent -compact
Show server(s) of the specified file or the current directory.
.Ed
.Pp
.Ic fs whichcell
.Op Ar path
.Bd -filled -offset indent -compact
Show cell of a file or the current directory.
.Ed
.Pp
.Ic fs wscell
.Bd -filled -offset indent -compact
Display default cell of the client.
.Ed
.Pp
.Ic fs nnpfsdebug
.Bd -filled -offset indent -compact
Tweek nnpfs-debugging flags
.Ed
.Pp
.Ic fs nnpfsprint
.Op Ar flags
.Bd -filled -offset indent -compact
Make nnpfs print debug info.
.Ed
.Sh SEE ALSO
.Xr pts 1 ,
.Xr afsd 8 ,
.Xr bos 8 ,
.Xr vos 8
.Sh STANDARDS
The Arla authors are trying to mimic the behaviour of the original AFS
utilities.
.Sh AUTHORS
The Arla project <http://www.stacken.kth.se/project/arla/>.
.Sh BUGS
Some commands are not implemented yet.
@


1.15
log
@spelling;
@
text
@d33 1
a33 1
.\"     $OpenBSD: fs.1,v 1.14 2004/09/15 23:05:53 jmc Exp $
@


1.14
log
@some fixes passed back to arla people;
@
text
@d33 1
a33 1
.\"     $OpenBSD: fs.1,v 1.13 2004/08/25 21:59:59 jmc Exp $
d324 1
a324 1
Display wether traffic between the client and server is encrypted.
d679 1
a679 1
Print cells and wether setuid execution is allowed for them.
@


1.13
log
@typos from -f (PR #3907);
@
text
@d33 1
a33 1
.\"     $OpenBSD: fs.1,v 1.12 2003/08/05 14:12:34 hin Exp $
d95 1
a95 1
get statistics from the cachemanager
d347 1
a347 1
Get statistics from the cachemanager.  Possible type to get statistics
d456 1
a456 1
.Ar cell.
d525 1
a525 1
.Ar mountpoint Ns .
d532 1
a532 1
.Ar path Ns .
d664 1
a664 1
If 
d667 1
a667 1
disabled, and if 
@


1.12
log
@cvs merge marker thingie accidentally left. oops. sorry.
@
text
@d33 1
a33 1
.\"     $OpenBSD: fs.1,v 1.11 2003/08/05 09:05:48 hin Exp $
d140 1
a140 1
comman
@


1.11
log
@Merge
@
text
@d33 1
a33 1
.\"     $OpenBSD: fs.1,v 1.1.1.2 2003/08/05 08:20:59 hin Exp $
a467 1
=======
@


1.10
log
@typos from pjanzen@@
@
text
@d1 34
a34 2
.\"     $OpenBSD: fs.1,v 1.9 2002/12/24 19:50:51 fgsch Exp $
.\"	$KTH: fs.1,v 1.2.2.1 2001/03/04 04:35:56 lha Exp $
d37 1
a37 1
.Os
d40 1
a40 1
.Nd Manage AFS directorys
d94 2
d111 2
d209 4
a212 4
.It Cm xfsdebug
tweek xfs-debugging flags
.It Cm xfsprint
make xfs print debug info
d282 1
a282 1
Show free space on the volume where the file or directory
d284 1
a284 1
is stored.
d345 6
d385 4
d414 1
a414 1
Show the quota for the volume of the 
d461 2
a462 2
Note that the there must not exist a directory named like
the mount point created.
d468 2
a469 1
Set or get connected mode. If 
d585 1
a585 1
the two directorys may have different permissions.
d665 1
a665 1
If
d668 1
a668 1
disabled, and if
d696 1
a696 1
Make afsd print status.
d716 1
a716 1
.Ic fs xfsdebug
d718 1
a718 1
Tweek xfs-debugging flags
d721 1
a721 1
.Ic fs xfsprint
d724 1
a724 1
Make xfs print debug info.
@


1.9
log
@reorder .Xr.
@
text
@d1 1
a1 1
.\"     $OpenBSD: fs.1,v 1.7 2002/09/18 07:33:48 deraadt Exp $
d432 1
a432 1
Fetch only mode - files are retreived from fileserver but are not stored back.
@


1.8
log
@typos; torh@@bogus.net
@
text
@d680 2
d683 1
a683 3
.Xr pts 1 ,
.Xr vos 8 ,
.Xr afsd 8
@


1.7
log
@fix Xr refs; frisco@@blackant.net
@
text
@d1 1
a1 1
.\"     $OpenBSD: fs.1,v 1.6 2002/06/09 04:03:21 hin Exp $
d146 1
a146 1
comand
d590 1
a590 1
comand
@


1.6
log
@Cleanup
@
text
@d1 1
a1 1
.\"     $OpenBSD: fs.1,v 1.5 2002/06/07 15:33:43 hin Exp $
d680 1
a680 1
.Xr bos 1 ,
d682 1
a682 1
.Xr vos 1 ,
@


1.5
log
@repair
@
text
@d1 1
a1 1
.\"     $OpenBSD: fs.1,v 1.4 2002/06/07 04:28:42 hin Exp $
d220 1
a220 1
Check if the server in a cell are up.
d229 1
a229 1
check that all volume mapping are correct and flush all mountpoints
d235 1
a235 1
Not implemented yet.
d240 1
a240 1
Not implemented yet.
d246 3
a248 1
show free partition space
d254 2
a255 1
Print detailed information about the volume mounted on the specified path
d260 1
a260 1
.Ar path
d262 3
a264 1
Flush the file specified, causing it to be stored on the fileserver.
d268 1
a268 1
.Ar path
d270 3
a272 2
Flush all the files in the volume where the file specified is stored,
causing them to be stored on the fileserver.
d294 2
a295 1
Indicate if setuid files are enabled for the specified cell.
d306 1
a306 1
Not implemented yet.
d316 1
a316 1
shorthand for the
d368 3
a370 1
Show the quota for the volume of the file or directory specified.
d374 1
d376 1
a376 1
shorthand for the
d391 1
a392 1
.Ar path
d398 1
a398 1
Not implemented yet.
d415 1
a415 1
Note that the there must not exist a directory named as
d422 4
a425 2
Set or get connected mode, if a mode is specified, the cache manager will be
set to that mode. If not, the current mode will be printed.
d445 1
a445 1
Not implemented yet.
d478 2
a479 1
Delete a mount point.
d483 1
a483 1
.Ar file
d485 2
a486 1
Remove priority from file/directory.
d549 1
a549 1
shorthand for the
d563 1
a563 1
Not implemented yet.
d581 1
a581 1
.Ar macprio
d588 1
a588 1
shorthand for the
d612 1
a612 1
Not implemented yet.
d616 1
a616 1
.Ar flag
d618 6
a623 2
If 'no' is specified, encryption of the traffic to/from fileservers is
disabled, and if 'yes' is specified, it is enabled.
d628 1
a628 1
Not implemented yet.
d680 1
@


1.4
log
@merge
@
text
@d1 1
a1 1
.\"     $OpenBSD: fs.1,v 1.1.1.1 2002/06/07 04:14:20 hin Exp $
d355 1
a355 1
.Pa /usr/arla/etc/CellServDB .
d406 1
a406 1
the mount point you are creating.
d413 2
a414 2
set to that mode.
If not, the current mode will be printed.
d444 1
a444 1
.Pa /usr/arla/etc/CellServDB .
a661 1
.Xr afsd 8 ,
d663 2
a664 1
.Xr vos 8
@


1.3
log
@We have to undo the changes to the 3rd party code, because it makes
upgrading those components hell.

Tip of the day: Don't commit without confirmation.
@
text
@d1 2
a2 2
.\"     $OpenBSD: fs.1,v 1.2 2001/07/20 19:09:46 mpech Exp $
.\"	$Id: fs.1,v 1.2 2001/07/20 19:09:46 mpech Exp $
d37 1
a37 1
not yet implemented
d101 4
d229 2
a230 1
Not implemented yet.
d394 2
d397 8
a404 1
Create a mountpoint.
d583 4
a586 1
Set the quota (in Kbytes) on a volume.
@


1.2
log
@we don't like:
o) .Pp before/after .Sh;
o) .Pp before/after .Sh;
o) .Nm without argument in SYNOPSIS;
@
text
@d1 2
a2 2
.\"     $OpenBSD: fs.1,v 1.1 2000/09/11 14:40:35 art Exp $
.\"	$Id: fs.1,v 1.1 2000/09/11 14:40:35 art Exp $
d10 1
a10 1
.Nm fs
@


1.1
log
@New Arla userland from Arla between 0.34.2 and current in arla cvs.
Too many new features and fixes to mention here.
@
text
@d1 2
a2 2
.\"     $OpenBSD: fs.1,v 1.5 2000/04/15 2:15:18 aaron Exp $
.\"	$Id: fs.1,v 1.2 2000/08/13 14:09:20 lha Exp $
d10 1
a10 1
.Nm
@


1.1.1.1
log
@Import of arla-0.35.7
@
text
@d2 1
a2 1
.\"	$KTH: fs.1,v 1.2.2.1 2001/03/04 04:35:56 lha Exp $
d37 1
a37 1
check that all volume mapping are correct
a100 4
.It Cm mkm
shorthand of the
.Cm mkmount
comman
d225 1
a225 2
check that all volume mapping are correct and flush all mountpoints
from the cache to force them to be reread.
a388 2
.Op Fl cell Ar cell
.Op Fl rw
d390 1
a390 8
Create a mountpoint point to
.Ar volume
in optional
.Ar cell.
If
.Fl rw
is given, a mountpoint to the readwrite volume is created.
.Pp
d569 1
a569 4
Set the
.Ar quota
(in Kbytes) on a volume pointed out by
.Ar path .
@


1.1.1.2
log
@Import of arla -current as of Aug 5 2003

ok todd@@ deraadt@@
@
text
@a0 32
.\" Copyright (c) 2000 - 2003 Kungliga Tekniska Högskolan
.\" (Royal Institute of Technology, Stockholm, Sweden).
.\" All rights reserved.
.\" 
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 
.\" 3. Neither the name of the Institute nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\" 
.\" THIS SOFTWARE IS PROVIDED BY THE INSTITUTE AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE INSTITUTE OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	$arla: fs.1,v 1.17 2003/06/06 12:53:48 hin Exp $
d2 1
a2 1
.\"
d5 1
a5 1
.Os "The Arla Project"
d8 1
a8 1
.Nd Manage AFS directories
a61 2
.It Cm getstatistics
get statistics from the cachemanager
a76 2
.It Cm incompat
report interface of the pioctl interface
d146 1
a146 1
command
d173 4
a176 4
.It Cm nnpfsdebug
tweek nnpfs-debugging flags
.It Cm nnpfsprint
make nnpfs print debug info
d220 1
a220 1
Check if the servers in a cell are available.
d229 1
a229 1
Check that all volume mapping are correct and flush all mountpoints
d235 1
a235 1
Not yet implemented.
d240 1
a240 1
Not yet implemented.
d246 1
a246 3
Show free space on the partition where the file or directory
.Ar path
is stored
d252 1
a252 2
Print detailed information about the volume mounted on the specified
.Ar path
d257 1
a257 1
.Ar file
d259 1
a259 3
Flush
.Ar file
from the cache, causing it to be stored on the fileserver.
d263 1
a263 1
.Ar file
d265 3
a267 3
Flush all the files in the volume where the
.Ar file
is stored, causing them to be stored on the fileserver.
d288 1
a288 2
Indicate if the setuid bit on executable files are honored for
the specified cell.
d299 1
a299 7
Not yet implemented.
.Ed
.Pp
.Ic fs getstatistics
.Bd -filled -offset indent -compact
Get statistics from the cachemanager.  Possible type to get statistics
for are fetchstatus, fetchdata, storestatus, storedata, bulkstatus.
d309 1
a309 1
Shorthand for the
a335 4
.Ic fs incompat
.Bd -filled -offset indent -compact
returns what interface of the pioctl interface currently is in use.
.Ed
d355 1
a355 1
.Pa CellServDB .
d361 1
a361 3
Show the quota for the volume of the
.Ar path
specified.
a364 1
.Op Ar path
d366 1
a366 1
Shorthand for the
d388 1
a388 1
Not yet implemented.
d405 1
a405 1
Note that there must not exist a directory named like
d412 2
a413 3
Set or get connected mode, if a
.Ar mode
is specified, the cache manager will be set to that mode.
a414 1
.Pp
d433 1
a433 1
Not yet implemented.
d466 1
a466 2
Delete
.Ar mountpoint Ns .
d470 1
a470 1
.Ar path
d472 1
a472 2
Remove priority from file or directory
.Ar path Ns .
d524 1
a524 1
the two directories may have different permissions.
d549 1
a549 1
Not yet implemented.
d567 1
a567 1
.Ar priority
d576 1
a576 1
command.
d598 1
a598 1
Not yet implemented.
d602 1
a602 1
.Ar yes | no
d604 2
a605 6
If 
.Ar no
is specified, encryption of the traffic to/from fileservers is
disabled, and if 
.Ar yes
is specified, it is enabled.
d610 1
a610 1
Not yet implemented.
d631 1
a631 1
Make arlad print status.
d651 1
a651 1
.Ic fs nnpfsdebug
d653 1
a653 1
Tweek nnpfs-debugging flags
d656 1
a656 1
.Ic fs nnpfsprint
d659 1
a659 1
Make nnpfs print debug info.
d662 1
a663 2
.Xr arlad 8 ,
.Xr bos 8 ,
@


