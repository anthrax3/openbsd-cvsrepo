head	1.11;
access;
symbols
	OPENBSD_5_2:1.10.0.36
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.34
	OPENBSD_5_0:1.10.0.32
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.10.0.30
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.10.0.28
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.24
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.26
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.22
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.10.0.20
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.10.0.18
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.10.0.16
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.10.0.14
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.10.0.12
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.10.0.10
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.10.0.8
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.10.0.6
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.10.0.4
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.10.0.2
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	arla-20030805:1.1.1.2
	OPENBSD_3_3:1.6.0.4
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.2
	OPENBSD_3_2_BASE:1.6
	arla-0-35-7:1.1.1.1
	arla:1.1.1
	OPENBSD_3_1:1.3.0.4
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_BASE:1.1
	OPENBSD_2_9:1.1.0.4
	OPENBSD_2_8:1.1.0.2
	OPENBSD_2_8_BASE:1.1;
locks; strict;
comment	@.\" @;


1.11
date	2012.08.23.06.21.49;	author deraadt;	state dead;
branches;
next	1.10;

1.10
date	2004.01.24.18.53.46;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2003.09.04.22.14.43;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2003.09.02.18.56.35;	author jmc;	state Exp;
branches;
next	1.7;

1.7
date	2003.08.05.09.05.48;	author hin;	state Exp;
branches;
next	1.6;

1.6
date	2002.09.18.07.33.48;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2002.06.07.15.45.39;	author hin;	state Exp;
branches;
next	1.4;

1.4
date	2002.06.07.04.28.42;	author hin;	state Exp;
branches;
next	1.3;

1.3
date	2001.07.25.10.04.57;	author mpech;	state Exp;
branches;
next	1.2;

1.2
date	2001.07.20.19.09.46;	author mpech;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.11.14.40.36;	author art;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.06.07.04.14.21;	author hin;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.08.05.08.20.59;	author hin;	state Exp;
branches;
next	;


desc
@@


1.11
log
@the afs src tree can go away
@
text
@.\" Copyright (c) 2000 - 2002 Kungliga Tekniska Högskolan
.\" (Royal Institute of Technology, Stockholm, Sweden).
.\" All rights reserved.
.\" 
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 
.\" 3. Neither the name of the Institute nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\" 
.\" THIS SOFTWARE IS PROVIDED BY THE INSTITUTE AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE INSTITUTE OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	$arla: pts.1,v 1.8 2003/06/06 12:53:49 hin Exp $
.\"     $OpenBSD: pts.1,v 1.10 2004/01/24 18:53:46 deraadt Exp $
.\"
.Dd March 25, 2000
.Dt PTS 1
.Os "The Arla Project"
.Sh NAME
.Nm pts
.Nd Manage AFS protection database
.Sh SYNOPSIS
.Nm pts
.Op Ar command
.Op Ar args
.Sh DESCRIPTION
The
.Nm
utility is used to manipulate the contents of the AFS Protection Database,
which contains information about users and groups in AFS.
Note that the
.Nm
utility does
.Em not
modify the traditional
.Ux
user and group database, only the AFS specific information.
.Pp
The
.Nm
utility provides several commands:
.Pp
.Bl -tag -width "membership groups" -compact
.It Cm adduser
add a user to a group
.It Cm chown
change owner of user or group
.It Cm creategroup
create a new group
.It Cm cg
shorthand for
.Nm creategroup
.It Cm createuser
create a new user
.It Cm dump
dump pts database
.It Cm delete
delete user or group
.It Cm examine
examine a user or a group
.It Cm help
get help on
.Nm
.It Cm \&?
shorthand for help
.It Cm listmax
print largest afs user and group
.It Cm listowned
list groups owned by a user or group, or orphaned groups
.It Cm membership
list group or user membership
.It Cm groups
shorthand for membership
.It Cm removeuser
remove a user from a group
.It Cm rename
rename a user or a group
.It Cm setfields
not yet implemented
.It Cm setmax
not yet implemented
.It Cm syncdb
not yet implemented
.El
.Pp
Most
.Nm
commands accept the following general arguments:
.Pp
.Bd -filled -offset indent -compact
.Op Fl cell Ar cellname
Specifies which AFS cell to use, if the default cell is not to be used.
.Pp
.Op Fl noauth
Specifies that
.Nm
should not try to authenticate the connection to the server.
This may be
useful with shell scripts, or if there is a problem with the AFS cell.
Note that the server will reject many commands if
.Fl noauth
is specified.
.Ed
.Pp
The syntax of the
.Nm
commands:
.Pp
.Ic pts adduser
.Op Fl name
.Ar user
.Op Fl group
.Ar group
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Add the specified user to the specified group.
.Ed
.Pp
.Ic pts chown
.Op Fl name
.Ar user/group
.Op Fl owner
.Ar owner
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Change owner of a group or user.
.Ed
.Pp
.Ic pts creategroup
.Op Fl name
.Ar name
.Op Fl id Ar idnumber
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Create a new group.
If
.Ar idnumber
is not specified, a new idnumber is taken automatically.
.Ed
.Pp
.Ic pts cg
.Bd -filled -offset indent -compact
Shorthand for
.Nm creategroup Ns .
.Ed
.Pp
.Ic pts createuser
.Op Fl name
.Ar name
.Op Fl id Ar idnumber
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Create a new user.
If
.Ar idnumber
is not specified, a new idnumber is taken automatically.
.Ed
.Pp
.Ic pts dump
.Ar server
.Op Fl cell cellname
.Bd -filled -offset indent -compact
Dump the Protection Database in a human readable form.
The database is read from the given database server.
.Ed
.Pp
.Ic pts delete
.Op Fl name
.Ar name/group
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Delete a user or group from the database.
.Ed
.Pp
.Ic pts examine
.Ar user/group
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Print verbose information about a user or a group.
.Ed
.Pp
.Ic pts help
or
.Ic pts ?\&
.Bd -filled -offset indent -compact
Print help about
.Nm
.Ed
.Pp
.Ic pts listmax
.Op Fl cell Ar cellname
.Bd -filled -offset indent -compact
Print the largest uid and gid.
.Ed
.Pp
.Ic pts listowned
.Op Fl id
.Ar user/group
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
List the groups owned by a user or group.
.Ed
.Pp
.Ic pts membership
.Op Fl nameorid Ar user/group
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
List the members of a group, or the groups a user is a member of.
.Ed
.Pp
.Ic pts groups
.Bd -filled -offset indent -compact
Shorthand for
.Nm membership Ns .
.Ed
.Pp
.Ic pts removeuser
.Op Fl user
.Ar user
.Op Fl group
.Ar group
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Remove a users membership from a group.
.Ed
.Pp
.Ic pts rename
.Op Fl from
.Ar "old name"
.Op Fl to
.Ar "new name"
.Op Fl cell Ar cellname
.Op Fl noauth
.Bd -filled -offset indent -compact
Rename a user or group.
.Ed
.Pp
.Ic pts setfields
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Pp
.Ic pts setmax
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Pp
.Ic pts syncdb
.Bd -filled -offset indent -compact
Not yet implemented.
.Ed
.Sh SEE ALSO
.Xr fs 1 ,
.Xr afsd 8 ,
.Xr vos 8
.Sh STANDARDS
The Arla authors are trying to mimic the behaviour of the original AFS
utilities.
.Sh AUTHORS
The Arla project <http://www.stacken.kth.se/project/arla/>.
.Sh BUGS
Some commands are not implemented yet.
@


1.10
log
@Xr to right page; okan@@demirmen.com
@
text
@d33 1
a33 1
.\"     $OpenBSD: pts.1,v 1.9 2003/09/04 22:14:43 jmc Exp $
@


1.9
log
@put escapes in the right place;
(i.e. stuff I got wrong the first time, or missed)

this includes some .Cd's with missing quotes and .Nm abuse in man4;
@
text
@d33 1
a33 1
.\"     $OpenBSD: pts.1,v 1.8 2003/09/02 18:56:35 jmc Exp $
d282 1
a282 1
.Xr arlad 8 ,
@


1.8
log
@escape punctuation; (and a nit in openssl.1)
ok deraadt@@
@
text
@d33 1
a33 1
.\"     $OpenBSD: pts.1,v 1.7 2003/08/05 09:05:48 hin Exp $
d209 1
a209 1
.Ic pts \&?
@


1.7
log
@Merge
@
text
@d33 1
a33 1
.\"     $OpenBSD: pts.1,v 1.1.1.2 2003/08/05 08:20:59 hin Exp $
d83 1
a83 1
.It Cm ?
d209 1
a209 1
.Ic pts ?
@


1.6
log
@fix Xr refs; frisco@@blackant.net
@
text
@d1 34
a34 2
.\"     $OpenBSD: pts.1,v 1.5 2002/06/07 15:45:39 hin Exp $
.\"	$KTH: pts.1,v 1.1.2.1 2001/07/26 19:54:02 lha Exp $
d37 1
a37 1
.Os
d84 1
a84 1
shorthand for help 
d92 1
a92 1
list group or user membership
a280 1
.Xr afsd 8 ,
d282 1
@


1.5
log
@make this be more in the same style as the other afs manpages
@
text
@d1 1
a1 1
.\"     $OpenBSD: pts.1,v 1.4 2002/06/07 04:28:42 hin Exp $
d249 1
a249 1
.Xr afsd 1 ,
d251 1
a251 1
.Xr vos 1
@


1.4
log
@merge
@
text
@d1 1
a1 1
.\"     $OpenBSD: pts.1,v 1.1.1.1 2002/06/07 04:14:21 hin Exp $
d17 1
a17 2
which contains information about users and groups and is handled by the
Protection Server.
d35 1
a35 1
.It Cm creategroup / cg
d37 3
d48 1
a48 1
.It Cm help Cm ?
d51 2
d54 1
a54 1
print largest uid and gid
d57 3
a59 1
.It Cm membership Cm groups
d64 1
a64 1
rename user/group
d127 1
a127 1
.Fl id
d133 2
a134 4
.Ic pts cg
is an alias for the
.Ic pts creategroup
command.
d146 1
a146 1
.Fl id
d208 2
a209 4
.Ic pts groups
is an alias for the
.Ic pts membership
command.
d236 1
a236 2
This command is available in the original AFS client, but has not been
implemented yet.
d241 1
a241 2
This command is available in the original AFS client, but has not been
implemented yet.
d246 1
a246 1
This command has not been implemented yet.
d249 1
a249 1
.Xr afsd 8 ,
d251 1
a251 1
.Xr vos 8
@


1.3
log
@We have to undo the changes to the 3rd party code, because it makes
upgrading those components hell.

Tip of the day: Don't commit without confirmation.
@
text
@d1 2
a2 2
.\"     $OpenBSD: pts.1,v 1.2 2001/07/20 19:09:46 mpech Exp $
.\"	$Id: pts.1,v 1.2 2001/07/20 19:09:46 mpech Exp $
a247 1
.Pp
@


1.2
log
@we don't like:
o) .Pp before/after .Sh;
o) .Pp before/after .Sh;
o) .Nm without argument in SYNOPSIS;
@
text
@d1 2
a2 2
.\"     $OpenBSD: pts.1,v 1.1 2000/09/11 14:40:36 art Exp $
.\"	$Id: pts.1,v 1.1 2000/09/11 14:40:36 art Exp $
d248 1
@


1.1
log
@New Arla userland from Arla between 0.34.2 and current in arla cvs.
Too many new features and fixes to mention here.
@
text
@d1 2
a2 2
.\"     $OpenBSD: pts.1,v 1.5 2000/04/15 2:15:18 aaron Exp $
.\"	$Id: pts.1,v 1.1 2000/08/07 12:11:01 lha Exp $
a247 1
.Pp
@


1.1.1.1
log
@Import of arla-0.35.7
@
text
@d2 1
a2 1
.\"	$KTH: pts.1,v 1.1.2.1 2001/07/26 19:54:02 lha Exp $
d248 1
@


1.1.1.2
log
@Import of arla -current as of Aug 5 2003

ok todd@@ deraadt@@
@
text
@a0 32
.\" Copyright (c) 2000 - 2002 Kungliga Tekniska Högskolan
.\" (Royal Institute of Technology, Stockholm, Sweden).
.\" All rights reserved.
.\" 
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 
.\" 3. Neither the name of the Institute nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\" 
.\" THIS SOFTWARE IS PROVIDED BY THE INSTITUTE AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE INSTITUTE OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	$arla: pts.1,v 1.8 2003/06/06 12:53:49 hin Exp $
d2 1
a2 1
.\"
d5 1
a5 1
.Os "The Arla Project"
d17 2
a18 1
which contains information about users and groups in AFS.
d36 1
a36 1
.It Cm creategroup
a37 3
.It Cm cg
short hand for
.Nm creategroup
d46 1
a46 1
.It Cm help
a48 2
.It Cm ?
shorthand for help
d53 1
a53 1
.It Cm membership
a54 2
.It Cm groups
shorthand for membership
d58 1
a58 1
rename a user or a group
d121 1
a121 1
.Ar idnumber
d127 4
a130 2
Shorthand for
.Nm creategroup Ns .
d142 1
a142 1
.Ar idnumber
d204 4
a207 2
Shorthand for
.Nm membership Ns .
d234 2
a235 1
Not yet implemented.
d240 2
a241 1
Not yet implemented.
d246 1
a246 1
Not yet implemented.
d249 1
a250 1
.Xr arlad 8 ,
@


