head	1.7;
access;
symbols
	OPENBSD_5_2:1.6.0.38
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.36
	OPENBSD_5_0:1.6.0.34
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.32
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.6.0.30
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.26
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.28
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.24
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.22
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.6.0.20
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.6.0.18
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.6.0.16
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.14
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.12
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.10
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.8
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.6.0.6
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.6.0.4
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.2
	OPENBSD_3_4_BASE:1.6
	arla-20030805:1.1.1.2
	OPENBSD_3_3:1.5.0.4
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.5.0.2
	OPENBSD_3_2_BASE:1.5
	arla-0-35-7:1.1.1.1
	arla:1.1.1
	OPENBSD_3_1:1.3.0.4
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_BASE:1.1
	OPENBSD_2_9:1.1.0.4
	OPENBSD_2_8:1.1.0.2
	OPENBSD_2_8_BASE:1.1;
locks; strict;
comment	@.\" @;


1.7
date	2012.08.23.06.21.47;	author deraadt;	state dead;
branches;
next	1.6;

1.6
date	2003.08.05.09.05.48;	author hin;	state Exp;
branches;
next	1.5;

1.5
date	2002.06.09.04.23.19;	author hin;	state Exp;
branches;
next	1.4;

1.4
date	2002.06.07.04.28.42;	author hin;	state Exp;
branches;
next	1.3;

1.3
date	2001.07.25.10.04.57;	author mpech;	state Exp;
branches;
next	1.2;

1.2
date	2001.07.20.19.09.46;	author mpech;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.11.14.40.33;	author art;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.06.07.04.14.19;	author hin;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2003.08.05.08.20.58;	author hin;	state Exp;
branches;
next	;


desc
@@


1.7
log
@the afs src tree can go away
@
text
@.\"	Copyright (c) 2000 Kungliga Tekniska Högskolan
.\" $arla: tokens.1,v 1.6 2003/04/25 18:10:26 lha Exp $
.\"
.Dd July 7, 1999
.Dt TOKENS 1
.Os "The Arla Project"
.Sh NAME
.Nm tokens
.Nd
lists all AFS tokens in your current PAG.
.Sh SYNOPSIS
.Nm
.Op Fl verbose , v
.Sh DESCRIPTION
The following flags are supported:
.Bl -tag -width xxxx
.It Fl verbose , v
Generate slightly more verbose output (not particularly useful except for
debugging purposes)
.El
.Pp
The
.Nm
lists all AFS tokens in your current PAG.
.Pp
It looks something like this:
.Bd -literal

Tokens held by Arla:

User's (AFS ID 913) tokens for afs@@su.se [Expires Feb 15 02:27]
User's (AFS ID 913) tokens for afs@@pdc.kth.se [Expires Feb 15 02:27]
User's (AFS ID 913) tokens for afs@@nada.kth.se [Expires Feb 15 02:27]
User's (AFS ID 913) tokens for afs@@stacken.kth.se [Expires Feb 15 02:27]
User's (AFS ID 913) tokens for afs@@e.kth.se [Expires Feb 15 02:28]
   --End of list--
.Ed
.Pp
If there isn't any AFS tokens,
.Nm
just doesn't list any tokens
.Bd -literal
Tokens held by Arla:

   --End of list--
.Ed
.Pp
.Sh EXIT STATUS
.Nm
returns with exit status 0 (true) if the current PAG has at least 1 valid
AFS token. Otherwise, the exit status of
.Nm
is 1.
.Pp
Thus, you can call this program from a script to determine whether or not
AFS tokens are present. (e.g. in a login script)
.Sh NOTES
The AFS ID printed out may be arbitrary; it can be chosen at the time the
token is set and does not necessarily correspond to the actual AFS ID on
the kaserver.
.Pp
If you have AFS tokens, but they are all expired, the exit status of
.Nm
will be 1, not 0.
.Sh SEE ALSO
.Xr klist 1 ,
.Xr klog 1 ,
.Xr unlog 1
@


1.6
log
@Merge
@
text
@@


1.5
log
@sort .Xr
@
text
@d1 2
a2 1
.\" $KTH: tokens.1,v 1.3 2000/08/06 17:11:47 lha Exp $
d13 1
a13 2
.Op Fl athena
.Op Fl verbose, v
d17 1
a17 4
.It Fl athena
Generate output in a format similar to that of Kerberos 4's 'klist'
program
.It Fl verbose,-v
d24 1
a24 6
can produce two different styles of output, AFS-style (default) or
Kerberos4-style (optional).
.Pp
The default output mimics the
.Nm
command from the official AFS.
a27 1
Tokens held by Arla:
a28 7
User's (AFS ID 4881) tokens for afs@@umich.edu [Expires Jul  8 09:21]
User's (AFS ID 4881) tokens for afs@@engin.umich.edu [>>> Expired <<<]
   --End of list--
.Ed
.Pp
If you don't have any AFS tokens, you still get the banner:
.Bd -literal
d31 5
d39 1
a39 4
When the 
.Fl athena
option is specified on the command line, the output
of
d41 1
a41 1
looks like this:
a44 3
  Issued           Expires          Principal
Jul  7 23:40:22  Jul  8 00:40:21  User's (AFS ID 4881) tokens for umich.edu
Jul  7 23:27:51  >>> Expired <<<  User's (AFS ID 4881) tokens for engin.umich.edu
a47 7
If you don't have any AFS tokens,
.Nm
just prints
.Bd -literal
You have no AFS tokens.
.Ed
to the standard output. 
a64 1
.El
a68 2
.Sh BUGS
None known.
@


1.4
log
@merge
@
text
@d91 1
a92 1
.Xr klist 1 ,
@


1.3
log
@We have to undo the changes to the 3rd party code, because it makes
upgrading those components hell.

Tip of the day: Don't commit without confirmation.
@
text
@d1 1
a1 1
.\" $Id: tokens.1,v 1.2 2001/07/20 19:09:46 mpech Exp $
@


1.2
log
@we don't like:
o) .Pp before/after .Sh;
o) .Pp before/after .Sh;
o) .Nm without argument in SYNOPSIS;
@
text
@d1 1
a1 1
.\" $Id: tokens.1,v 1.1 2000/09/11 14:40:33 art Exp $
d11 1
a11 1
.Nm tokens
@


1.1
log
@New Arla userland from Arla between 0.34.2 and current in arla cvs.
Too many new features and fixes to mention here.
@
text
@d1 1
a1 1
.\" $Id: tokens.1,v 1.3 2000/08/06 17:11:47 lha Exp $
d11 1
a11 1
.Nm
@


1.1.1.1
log
@Import of arla-0.35.7
@
text
@d1 1
a1 1
.\" $KTH: tokens.1,v 1.3 2000/08/06 17:11:47 lha Exp $
@


1.1.1.2
log
@Import of arla -current as of Aug 5 2003

ok todd@@ deraadt@@
@
text
@d1 1
a1 2
.\"	Copyright (c) 2000 Kungliga Tekniska Högskolan
.\" $arla: tokens.1,v 1.6 2003/04/25 18:10:26 lha Exp $
d12 2
a13 1
.Op Fl verbose , v
d17 4
a20 1
.It Fl verbose , v
d27 6
a32 1
lists all AFS tokens in your current PAG.
d36 1
d38 7
a46 5
User's (AFS ID 913) tokens for afs@@su.se [Expires Feb 15 02:27]
User's (AFS ID 913) tokens for afs@@pdc.kth.se [Expires Feb 15 02:27]
User's (AFS ID 913) tokens for afs@@nada.kth.se [Expires Feb 15 02:27]
User's (AFS ID 913) tokens for afs@@stacken.kth.se [Expires Feb 15 02:27]
User's (AFS ID 913) tokens for afs@@e.kth.se [Expires Feb 15 02:28]
d50 4
a53 1
If there isn't any AFS tokens,
d55 1
a55 1
just doesn't list any tokens
d59 3
d65 7
d89 1
d91 1
d94 2
@


