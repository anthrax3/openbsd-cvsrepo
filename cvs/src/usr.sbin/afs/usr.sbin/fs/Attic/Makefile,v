head	1.5;
access;
symbols
	OPENBSD_5_2:1.4.0.12
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.10
	OPENBSD_5_0:1.4.0.8
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.6
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.3.0.28
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.24
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.22
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.20
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.18
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.16
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.14
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.12
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.10
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.8
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.6
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.4
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.2.0.4
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2;
locks; strict;
comment	@# @;


1.5
date	2012.08.23.06.21.57;	author deraadt;	state dead;
branches;
next	1.4;

1.4
date	2009.08.17.09.40.37;	author jsg;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.05.11.11.42;	author hin;	state Exp;
branches;
next	1.2;

1.2
date	2002.06.11.14.53.16;	author hin;	state Exp;
branches;
next	1.1;

1.1
date	2002.06.07.05.02.58;	author hin;	state Exp;
branches;
next	;


desc
@@


1.5
log
@the afs src tree can go away
@
text
@# $OpenBSD: Makefile,v 1.4 2009/08/17 09:40:37 jsg Exp $

AFSTOPDIR	= ../..
.include <../../Makefile.inc>

.PATH:	$(ROKENSRC)

PROG	= fs
BINDIR	= /usr/sbin
LDADD	+= ${LIBARLA} -lkrb5 -lcrypto -lasn1 -ledit -lcurses
DPADD	+= ${LIBARLA}

CFLAGS	+= -I${AFSSRC}/appl/lib

SRCS	= fs.c \
	  fs_arladebug.c \
	  fs_checkservers.c \
	  fs_connect.c \
	  fs_copyacl.c \
	  fs_diskfree.c \
	  fs_examine.c \
	  fs_flush.c \
	  fs_flushvol.c \
	  fs_getcache.c \
	  fs_getcellstat.c \
	  fs_getfid.c \
	  fs_getprio.c \
	  fs_la.c \
	  fs_listcell.c \
	  fs_listquota.c \
	  fs_lsm.c \
	  fs_mkm.c \
	  fs_newcell.c \
	  fs_nnpfsdebug.c \
	  fs_quota.c \
	  fs_rmm.c \
	  fs_setacl.c \
	  fs_setcache.c \
	  fs_setcrypt.c \
	  fs_setquota.c \
	  fs_statistics.c \
	  fs_strerror.c \
	  fs_whereis.c \
	  fs_whichcell.c \
	  fs_wscell.c \
	  estrdup.c \
	  print_version.c \
	  getarg.c

.PATH: ${AFSSRC}/appl/fs

SRCS	+= arladebu.c fs_lib.c

.PATH: ${AFSSRC}/appl/lib
.PATH: ${AFSSRC}/arlad

.include <bsd.prog.mk>
@


1.4
log
@Switch several kerberos/afs tools from using using libreadline
to libedit to prevent the resulting binaries from falling under
the GPL.  Prototypes are internally defined so no includes have
to be changed.

ok miod@@ reyk@@ "I very much approve" deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/08/05 11:11:42 hin Exp $
@


1.3
log
@New files, libroken cleanup, linking cleanup, and other small fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2002/06/07 05:02:58 hin Exp $
d10 1
a10 1
LDADD	+= ${LIBARLA} -lkrb5 -lcrypto -lasn1 -lreadline -lcurses
@


1.2
log
@New libkafs requires everything to link with krb5.
@
text
@d6 2
d10 2
a11 2
LDADD	+= ${LIBARLA} ${LIBROKEN} -lkafs -lkrb -lkrb5 -lcrypto -lasn1 -lreadline -ldes -lcurses
DPADD	+= ${LIBARLA} ${LIBROKEN} ${LIBKAFS}
d15 35
a49 1
SRCS	= fs.c
@


1.1
log
@Buildsystem for arla-0.35.7
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
a8 1
LDADD	+= ${LIBARLA} ${LIBROKEN} -lkafs -lkrb -lreadline -ldes -lcurses
@

