head	1.5;
access;
symbols
	OPENBSD_5_2:1.4.0.12
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.10
	OPENBSD_5_0:1.4.0.8
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.6
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.3.0.28
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.24
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.22
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.20
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.18
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.16
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.14
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.12
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.10
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.8
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.6
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.4
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.2.0.4
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2;
locks; strict;
comment	@# @;


1.5
date	2012.08.23.06.21.57;	author deraadt;	state dead;
branches;
next	1.4;

1.4
date	2009.08.17.09.40.37;	author jsg;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.05.11.11.42;	author hin;	state Exp;
branches;
next	1.2;

1.2
date	2002.06.11.14.53.17;	author hin;	state Exp;
branches;
next	1.1;

1.1
date	2002.06.07.05.02.59;	author hin;	state Exp;
branches;
next	;


desc
@@


1.5
log
@the afs src tree can go away
@
text
@# $OpenBSD: Makefile,v 1.4 2009/08/17 09:40:37 jsg Exp $

AFSTOPDIR	= ../..
.include <../../Makefile.inc>

.PATH:	$(ROKENSRC)

PROG	= vos
MAN	= vos.8
BINDIR	= /usr/sbin
SRCS	= vos.c \
	  vos_backup.c \
	  vos_common.c \
	  vos_createentry.c \
	  vos_createvolume.c \
	  vos_dump.c \
	  vos_endtrans.c \
	  vos_examine.c \
	  vos_listaddrs.c \
	  vos_listpart.c \
	  vos_listvldb.c \
	  vos_listvol.c \
	  vos_lock.c \
	  vos_partinfo.c \
	  vos_status.c \
	  vos_syncsite.c \
	  vos_unlock.c \
	  vos_vldbexamine.c \
	  vos_zap.c \
	  emalloc.c \
	  estrdup.c

LDADD	+= ${LIBARLA} -lkrb5 -lcrypto -lasn1 -ledit -lcurses
DPADD	+= ${LIBARLA}

.PATH: ${AFSSRC}/appl/vos

CFLAGS	+= -I${AFSSRC}/appl/lib -I../libarla
.PATH: ${AFSSRC}/appl/lib
.PATH: ${AFSSRC}/arlad

.include <bsd.prog.mk>
@


1.4
log
@Switch several kerberos/afs tools from using using libreadline
to libedit to prevent the resulting binaries from falling under
the GPL.  Prototypes are internally defined so no includes have
to be changed.

ok miod@@ reyk@@ "I very much approve" deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/08/05 11:11:42 hin Exp $
@


1.3
log
@New files, libroken cleanup, linking cleanup, and other small fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2002/06/07 05:02:59 hin Exp $
d33 1
a33 1
LDADD	+= ${LIBARLA} -lkrb5 -lcrypto -lasn1 -lreadline -lcurses
@


1.2
log
@New libkafs requires everything to link with krb5.
@
text
@d6 2
d11 21
a31 5
SRCS	= vos.c vos_common.c vos_createentry.c vos_createvolume.c \
	  vos_dump.c vos_endtrans.c vos_examine.c vos_listpart.c \
	  vos_listvldb.c vos_listvol.c vos_lock.c vos_partinfo.c \
	  vos_status.c vos_syncsite.c vos_unlock.c vos_vldbexamine.c \
	  vos_backup.c
d33 2
a34 2
LDADD	+= ${LIBARLA} ${LIBROKEN} -lkafs -lkrb -lkrb5 -lcrypto -lasn1 -lreadline -ldes -lcurses
DPADD	+= ${LIBARLA} ${LIBROKEN} ${LIBKAFS}
@


1.1
log
@Buildsystem for arla-0.35.7
@
text
@d1 1
a1 1
# $OpenBSD$
d15 1
a15 1
LDADD	+= ${LIBARLA} ${LIBROKEN} -lkafs -lkrb -lreadline -ldes -lcurses
@

