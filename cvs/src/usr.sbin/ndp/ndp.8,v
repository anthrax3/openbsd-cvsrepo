head	1.40;
access;
symbols
	OPENBSD_6_1_BASE:1.40
	OPENBSD_6_0:1.40.0.2
	OPENBSD_6_0_BASE:1.40
	OPENBSD_5_9:1.35.0.2
	OPENBSD_5_9_BASE:1.35
	OPENBSD_5_8:1.33.0.6
	OPENBSD_5_8_BASE:1.33
	OPENBSD_5_7:1.33.0.2
	OPENBSD_5_7_BASE:1.33
	OPENBSD_5_6:1.32.0.4
	OPENBSD_5_6_BASE:1.32
	OPENBSD_5_5:1.31.0.4
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.29.0.2
	OPENBSD_5_4_BASE:1.29
	OPENBSD_5_3:1.28.0.8
	OPENBSD_5_3_BASE:1.28
	OPENBSD_5_2:1.28.0.6
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.28
	OPENBSD_5_1:1.28.0.4
	OPENBSD_5_0:1.28.0.2
	OPENBSD_5_0_BASE:1.28
	OPENBSD_4_9:1.27.0.2
	OPENBSD_4_9_BASE:1.27
	OPENBSD_4_8:1.26.0.10
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.26.0.6
	OPENBSD_4_7_BASE:1.26
	OPENBSD_4_6:1.26.0.8
	OPENBSD_4_6_BASE:1.26
	OPENBSD_4_5:1.26.0.4
	OPENBSD_4_5_BASE:1.26
	OPENBSD_4_4:1.26.0.2
	OPENBSD_4_4_BASE:1.26
	OPENBSD_4_3:1.24.0.4
	OPENBSD_4_3_BASE:1.24
	OPENBSD_4_2:1.24.0.2
	OPENBSD_4_2_BASE:1.24
	OPENBSD_4_1:1.23.0.4
	OPENBSD_4_1_BASE:1.23
	OPENBSD_4_0:1.23.0.2
	OPENBSD_4_0_BASE:1.23
	OPENBSD_3_9:1.22.0.6
	OPENBSD_3_9_BASE:1.22
	OPENBSD_3_8:1.22.0.4
	OPENBSD_3_8_BASE:1.22
	OPENBSD_3_7:1.22.0.2
	OPENBSD_3_7_BASE:1.22
	OPENBSD_3_6:1.20.0.6
	OPENBSD_3_6_BASE:1.20
	OPENBSD_3_5:1.20.0.4
	OPENBSD_3_5_BASE:1.20
	OPENBSD_3_4:1.20.0.2
	OPENBSD_3_4_BASE:1.20
	OPENBSD_3_3:1.18.0.2
	OPENBSD_3_3_BASE:1.18
	OPENBSD_3_2:1.17.0.2
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.9.0.6
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.9.0.4
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9_BASE:1.9
	OPENBSD_2_9:1.9.0.2
	OPENBSD_2_8:1.8.0.2
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	kame_19991210:1.1.1.1
	KAME:1.1.1;
locks; strict;
comment	@.\" @;


1.40
date	2016.04.05.18.18.42;	author jca;	state Exp;
branches;
next	1.39;
commitid	JjdNYgWp81O535Q7;

1.39
date	2016.04.05.18.14.55;	author jca;	state Exp;
branches;
next	1.38;
commitid	ash9cJKMkwo0yEGj;

1.38
date	2016.04.05.18.11.33;	author jca;	state Exp;
branches;
next	1.37;
commitid	tF0VNbUOZBtAZUQA;

1.37
date	2016.04.05.18.09.30;	author jca;	state Exp;
branches;
next	1.36;
commitid	0e1xbALUpjnzgivi;

1.36
date	2016.04.04.11.37.09;	author jca;	state Exp;
branches;
next	1.35;
commitid	kugbqZUhw011VKFt;

1.35
date	2015.10.05.10.25.19;	author sobrado;	state Exp;
branches;
next	1.34;
commitid	OMhYF74fof2RT07C;

1.34
date	2015.09.11.21.26.47;	author schwarze;	state Exp;
branches;
next	1.33;
commitid	u7QSsPpO3fIidpcN;

1.33
date	2014.09.03.10.39.41;	author mpi;	state Exp;
branches;
next	1.32;
commitid	tx59KIWMEk8nbHq7;

1.32
date	2014.07.12.17.03.47;	author henning;	state Exp;
branches;
next	1.31;
commitid	no9exdp2PbpO2Oif;

1.31
date	2013.10.21.12.41.52;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2013.10.21.08.46.06;	author phessler;	state Exp;
branches;
next	1.29;

1.29
date	2013.03.11.14.02.37;	author mpi;	state Exp;
branches;
next	1.28;

1.28
date	2011.04.23.10.14.59;	author sobrado;	state Exp;
branches;
next	1.27;

1.27
date	2010.09.03.11.22.36;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2008.05.18.10.00.49;	author sobrado;	state Exp;
branches;
next	1.25;

1.25
date	2008.05.17.23.31.52;	author sobrado;	state Exp;
branches;
next	1.24;

1.24
date	2007.05.31.19.20.26;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2006.08.10.21.58.11;	author jmc;	state Exp;
branches;
next	1.22;

1.22
date	2004.10.28.08.44.22;	author itojun;	state Exp;
branches;
next	1.21;

1.21
date	2004.09.15.22.52.00;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2003.09.02.18.56.35;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2003.06.12.12.59.51;	author jmc;	state Exp;
branches;
next	1.18;

1.18
date	2003.01.18.23.53.49;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2002.07.17.13.49.03;	author itojun;	state Exp;
branches;
next	1.16;

1.16
date	2002.06.08.21.19.13;	author itojun;	state Exp;
branches;
next	1.15;

1.15
date	2002.06.03.19.30.49;	author itojun;	state Exp;
branches;
next	1.14;

1.14
date	2002.06.03.04.44.50;	author itojun;	state Exp;
branches;
next	1.13;

1.13
date	2002.06.03.04.32.14;	author itojun;	state Exp;
branches;
next	1.12;

1.12
date	2002.06.03.03.33.53;	author itojun;	state Exp;
branches;
next	1.11;

1.11
date	2002.05.29.09.13.22;	author itojun;	state Exp;
branches;
next	1.10;

1.10
date	2002.05.29.08.05.39;	author itojun;	state Exp;
branches;
next	1.9;

1.9
date	2001.02.08.08.35.17;	author itojun;	state Exp;
branches;
next	1.8;

1.8
date	2000.06.20.21.53.43;	author itojun;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.17.04.44.51;	author itojun;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.12.21.47.55;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.19.17.57.08;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.28.11.56.40;	author itojun;	state Exp;
branches;
next	1.3;

1.3
date	2000.01.04.21.12.18;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	99.12.10.07.26.56;	author itojun;	state Exp;
branches;
next	1.1;

1.1
date	99.12.10.07.17.07;	author itojun;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.12.10.07.17.07;	author itojun;	state Exp;
branches;
next	;


desc
@@


1.40
log
@Describe the format used by -s once, and refer to it when documenting -f.

Discussed with jmc@@
@
text
@.\"	$OpenBSD: ndp.8,v 1.36 2016/04/04 11:37:09 jca Exp $
.\"	$KAME: ndp.8,v 1.28 2002/07/17 08:46:33 itojun Exp $
.\"
.\" Copyright (C) 1995, 1996, 1997, and 1998 WIDE Project.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the project nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE PROJECT AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE PROJECT OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: April 4 2016 $
.Dt NDP 8
.Os
.Sh NAME
.Nm ndp
.Nd control/diagnose IPv6 Neighbor Discovery Protocol (NDP)
.Sh SYNOPSIS
.Nm ndp
.Op Fl nrt
.Op Fl a | c | p
.Op Fl H | P | R
.Op Fl A Ar wait
.Op Fl d Ar hostname
.Op Fl f Ar filename
.Op Fl i Ar interface Op Ar flag ...
.Op Fl s Ar nodename ether_addr Oo Cm temp Oc Op Cm proxy
.Op Fl V Ar rdomain
.Op Ar hostname
.Sh DESCRIPTION
The
.Nm
command manipulates the address mapping table
used by the Neighbor Discovery Protocol (NDP).
.Bl -tag -width Ds
.It Fl A Ar wait
Repeat
.Fl a
.Pq dump NDP entries
every
.Ar wait
seconds.
.It Fl a
Dump the currently existing NDP entries.
The following information will be printed:
.Bl -tag -width Ds -offset 3n
.It Neighbor
The IPv6 address of the neighbor.
.It Linklayer Address
The linklayer address of the neighbor.
If the address is not available,
it will be displayed as
.Dq (incomplete) .
.It Netif
The network interface associated with the neighbor cache entry.
.It Expire
The time until expiry of the entry.
If the entry is marked
.Dq permanent ,
it will never expire.
.It S
The state of the neighbor cache entry, as a single letter:
.Pp
.Bl -tag -width Ds -offset 3n -compact
.It D
Delay
.It I
Incomplete
.It N
Nostate
.It P
Probe
.It R
Reachable
.It S
Stale
.It W
Waitdelete
.It \&?
Unknown state (should never happen).
.El
.It Flags
Flags on the neighbor cache entry, in a single letter.
They are: local
.Pq Sq l ,
Router
.Pq Sq R
and proxy neighbor advertisement
.Pq Sq p .
This field may be followed by a decimal number,
representing the number of NS probes
the node has sent during the current state.
.El
.It Fl c
Erase all the NDP entries.
.It Fl d Ar hostname
Delete the specified NDP entry.
.It Fl f Ar filename
Parse entries from
.Ar file
to be inserted in the neighbor cache.
See the
.Fl s
option for a description of the file format.
.It Fl H
Harmonize consistency between the routing table and the default router
list; install the top entry of the list into the kernel routing table.
.It Fl i Ar interface Op Ar flag ...
View ND information for the specified interface.
If additional arguments are given,
.Nm
sets or clears the specified flags for the interface.
Each flag should be separated by whitespace or tab characters.
Possible flags are as follows.
All of the flags can begin with the
special character
.Ql - ,
which means the flag should be cleared.
Note that
.Fl -
would be needed before
.Fl foo
in this case.
.Bl -tag -width Ds
.It Ic nud
Turn on or off NUD (Neighbor Unreachability Detection) on the
interface.
NUD is usually turned on by default.
.It Ic accept_rtadv
Specify whether or not to accept Router Advertisement messages
received on the
.Ar interface .
Note that the kernel does not accept Router Advertisement messages
unless the interface is configured for inet6 autoconfiguration.
.El
.It Fl n
Do not try to resolve numeric addresses to hostnames.
.It Fl P
Flush all the entries in the prefix list.
.It Fl p
Show the prefix list.
.It Fl R
Flush all the entries in the default router list.
.It Fl r
Show the default router list.
.It Xo
.Fl s Ar nodename ether_addr
.Op Cm temp
.Op Cm proxy
.Xc
Register an NDP entry for the node called nodename with the Ether
address ether_addr.
The Ethernet address is given as six hexadecimal bytes separated by
colons.
The entry will be permanent unless the word
.Cm temp
is given in the command.
If the word
.Cm proxy
is given, this system will act as an ND Proxy server,
responding to requests for
.Ar nodename
even though the node address is not its own.
.It Fl t
Print a timestamp on each entry,
making it possible to merge output with
.Xr tcpdump 8 .
Most useful when used with
.Fl A .
.It Fl V Ar rdomain
Set the routing domain to be used.
The default is 0.
.El
.Sh EXIT STATUS
.Ex -std ndp
.Sh SEE ALSO
.Xr ip6 4 ,
.Xr sysctl.conf 5 ,
.Xr arp 8 ,
.Xr sysctl 8 ,
.Xr tcpdump 8
.Sh HISTORY
The
.Nm
command first appeared in the WIDE Hydrangea IPv6 protocol stack kit.
@


1.39
log
@Consistent v6-speak: hostname -> nodename, proxy NDP -> ND proxy

Discussed with jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.38 2016/04/05 18:11:33 jca Exp $
d31 1
a31 1
.Dd $Mdocdate: April 5 2016 $
d118 6
a123 8
Parse the file specified by
.Ar filename .
Entries in the file should be of the form:
.Bd -ragged -offset indent -compact
.Ar nodename ether_addr
.Op Ar temp
.Op Ar proxy
.Ed
d170 4
a173 1
Register an NDP entry for a node.
@


1.38
log
@Pointless commented-out lines; discussed with jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.37 2016/04/05 18:09:30 jca Exp $
d178 1
a178 1
is given, this system will act as a proxy NDP server,
d180 2
a181 2
.Ar hostname
even though the host address is not its own.
@


1.37
log
@etheraddr -> ether_addr, as in arp(8); discussed with jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.36 2016/04/04 11:37:09 jca Exp $
d31 1
a31 1
.Dd $Mdocdate: April 4 2016 $
a144 1
.\"
a155 11
.\".It Xo
.\".Ic prefer_source
.\".Xc
.\"Prefer addresses on the
.\".Ar interface
.\"as candidates of the source address for outgoing packets.
.\"The default value of this flag is off.
.\"For more details about the entire algorithm of source address
.\"selection, see the
.\".Pa IMPLEMENTATION
.\"file supplied with the KAME kit.
a193 1
.\"
a199 1
.\"
a203 3
.\"
.\" .Sh BUGS
.\" (to be written)
@


1.36
log
@Hook up ndp -f.

Initial diff from Dimitris Papastamos.  Support from mikeb@@, ok benno@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.35 2015/10/05 10:25:19 sobrado Exp $
d31 1
a31 1
.Dd $Mdocdate: October 5 2015 $
d46 1
a46 1
.Op Fl s Ar nodename etheraddr Oo Cm temp Oc Op Cm proxy
d122 1
a122 1
.Ar nodename etheraddr
d180 1
a180 1
.Fl s Ar nodename etheraddr
@


1.35
log
@typo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.34 2015/09/11 21:26:47 schwarze Exp $
d31 1
a31 1
.Dd $Mdocdate: September 11 2015 $
d120 6
@


1.34
log
@consistency: .Ic -> .Cm; and drop redundant .Bk
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.33 2014/09/03 10:39:41 mpi Exp $
d31 1
a31 1
.Dd $Mdocdate: September 3 2014 $
d150 1
a150 1
unless the interface is configured for inet6 autconfiguration.
@


1.33
log
@Be coherent in the way arp(8) and ndp(8) display local entries and
use a new flag `l' to ditinguish them.

Also skip broadcast entries, they are not reall ARP entries and will
never be resolved to anything, requested by deraadt@@.

ok bluhm@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.32 2014/07/12 17:03:47 henning Exp $
d31 1
a31 1
.Dd $Mdocdate: July 12 2014 $
a33 1
.\"
a36 1
.\"
a38 1
.Bk -words
d46 1
a46 1
.Op Fl s Ar nodename etheraddr Oo Ic temp Oc Op Ic proxy
a48 2
.Ek
.\"
@


1.32
log
@andone last (i hope) accept_rtadv sysctl remnant, also found by jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.30 2013/10/21 08:46:06 phessler Exp $
d31 1
a31 1
.Dd $Mdocdate: October 21 2013 $
d108 3
a110 1
They are: Router
@


1.31
log
@- -V after -t
- fix usage()
@
text
@d153 1
a153 11
unless the
.Li net.inet6.ip6.accept_rtadv
variable is non-0, even if the flag is on.
This flag is set to 1 by default.
See
.Xr sysctl 8
and
.Xr sysctl.conf 5
for further details on how to set the
.Li net.inet6.ip6.accept_rtadv
variable.
@


1.30
log
@Add rdomain support to IPv6 configuration tools

OK claudio@@ and bluhm@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.29 2013/03/11 14:02:37 mpi Exp $
d31 1
a31 1
.Dd $Mdocdate: March 11 2013 $
a200 3
.It Fl V Ar rdomain
Set the routing domain to be used.
The default is 0.
d207 3
@


1.29
log
@Remove the -I option, even if the ioctls for manipulating a default
interface are defined, nothing use it in the kernel since the on-link
assumption behavior removal back in 2004.

ok mikeb@@, bluhm@@, florian@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.28 2011/04/23 10:14:59 sobrado Exp $
d31 1
a31 1
.Dd $Mdocdate: April 23 2011 $
d50 1
d201 3
@


1.28
log
@improve line breaking in SYNOPSIS now that semantics of the .Bk macro
has changed to conform with modern groff releases.

diff for route6d(8) written mostly by schwarze@@, with lots of useful
advice from jmc@@.

ok jmc@@, schwarze@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.27 2010/09/03 11:22:36 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: September 3 2010 $
a47 1
.Op Fl I Op Ar interface | Ic delete
a124 9
.It Fl I
Shows the default interface used as the default route when
there is no default router.
.It Fl I Ar interface
Specifies the default
.Ar interface
to be used when there is no interface specified even though required.
.It Fl I Ic delete
The current default interface will be deleted from the kernel.
@


1.27
log
@add an EXIT STATUS section for /usr/sbin;
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.26 2008/05/18 10:00:49 sobrado Exp $
d31 1
a31 1
.Dd $Mdocdate: May 18 2008 $
d50 1
a50 5
.Oo
.Fl s Ar nodename etheraddr
.Op Ic temp
.Op Ic proxy
.Oc
@


1.26
log
@another ndp(8) tweak: its description still talks about "flags"
rather than "flag", so kill the .Ar macro to have it read correctly.

change suggested by jmc@@.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.25 2008/05/17 23:31:52 sobrado Exp $
d31 1
a31 1
.Dd $Mdocdate: May 17 2008 $
d221 1
a221 1
.Pp
@


1.25
log
@documentation tweaks.

ok (some time ago) jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.24 2007/05/31 19:20:26 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: May 31 2007 $
d141 1
a141 3
If additional arguments
.Ar flags
are given,
@


1.24
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.23 2006/08/10 21:58:11 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate$
d49 1
a49 1
.Op Fl i Ar interface Op Ar flags ...
d139 1
a139 1
.It Fl i Ar interface Op Ar flags ...
@


1.23
log
@various fixes;
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.22 2004/10/28 08:44:22 itojun Exp $
d31 1
a31 1
.Dd May 17, 1998
@


1.22
log
@manpage to go with sys/netinet6/nd6_rtr.c 1.31 -> 1.32
markus ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.21 2004/09/15 22:52:00 jmc Exp $
d41 10
a50 30
.Op Fl nt
.Ar hostname
.Nm ndp
.Op Fl nt
.Fl a | c | p
.Nm ndp
.Op Fl nt
.Fl r
.Nm ndp
.Op Fl nt
.Fl H | P | R
.Nm ndp
.Op Fl nt
.Fl A Ar wait
.Nm ndp
.Op Fl nt
.Fl d Ar hostname
.Nm ndp
.Op Fl nt
.Fl f Ar filename
.Nm ndp
.Op Fl nt
.Fl i
.Ar interface
.Op Ar flags ...
.Nm ndp
.Op Fl nt
.Fl I Op Ar interface | Ic delete
.Nm ndp
.Op Fl nt
d54 3
d74 1
a74 1
.Bl -tag -width NeighborXX
d76 1
a76 1
IPv6 address of the neighbor.
d78 4
a81 4
Linklayer address of the neighbor.
It could be
.Dq Li (incomplete)
when the address is not available.
d83 1
a83 1
Network interface associated with the neighbor cache entry.
d86 3
a88 3
The entry could become
.Dq Li permanent ,
in which case it will never expire.
d90 1
a90 1
State of the neighbor cache entry, as a single letter:
d92 5
a96 1
.Bl -tag -width indent -compact
d99 2
a100 4
.It W
Waitdelete
.It I
Incomplete
d105 2
a106 4
.It D
Delay
.It P
Probe
d112 7
a118 4
They are: Router, proxy neighbor advertisement
.Pq Dq p .
The field could be followed by a decimal number,
which means the number of NS probes the node has sent during the current state.
d122 3
a124 3
.It Fl d
Delete specified NDP entry.
.It Fl f
d152 1
a152 1
Note that you need
d154 1
a154 1
before
d196 1
a196 1
Show prefix list.
d200 7
a206 3
Show default router list.
.It Fl s
Register a NDP entry for a node.
d208 1
a208 1
.Ic temp
d211 1
a211 1
.Ic proxy
d217 1
a217 1
Print timestamp on each entry,
d223 2
a224 5
.\"
.Sh RETURN VALUES
The
.Nm
command exits with 0 on success, and non-zero on errors.
@


1.21
log
@- better .Nd
- remove unneeded macros
- sort options
- mention sysctl(8) and sysctl.conf(5) with regards to setting
net.inet6.ip6.accept_rtadv
- better SEE ALSO

all from alexey suslikov;
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.20 2003/09/02 18:56:35 jmc Exp $
d148 1
a148 3
Specifies the default interface used as the default route when
there is no default router.
The
d150 1
a150 1
will be used as the default.
@


1.20
log
@escape punctuation; (and a nit in openssl.1)
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.19 2003/06/12 12:59:51 jmc Exp $
d37 1
a37 1
.Nd control/diagnose IPv6 neighbor discovery protocol
d45 1
a45 1
.Fl a | Fl c | Fl p
d51 1
a51 1
.Fl H | Fl P | Fl R
d68 1
a68 1
.Fl I Op Ar interface | Li delete
d72 2
a73 2
.Op Li temp
.Op Li proxy
d81 7
a133 7
.It Fl A Ar wait
Repeat
.Fl a
.Pq dump NDP entries
every
.Ar wait
seconds.
d153 1
a153 1
.It Fl I Li delete
d174 2
a175 5
.Pp
.Bl -tag -width Ds -compact
.It Xo
.Ic nud
.Xc
d179 1
a179 3
.It Xo
.Ic accept_rtadv
.Xc
d188 7
d209 2
d213 2
a214 2
.It Fl P
Flush all the entries in the prefix list.
a216 2
.It Fl R
Flush all the entries in the default router list.
d242 5
a246 1
.Xr arp 8
@


1.19
log
@- section reorder
- macro fixes
- kill whitespace at EOL
- new sentence, new line
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.18 2003/01/18 23:53:49 deraadt Exp $
d117 1
a117 1
.It ?
@


1.18
log
@inet6 fixes from jmc@@prioris.mini.pw.edu.pl
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.17 2002/07/17 13:49:03 itojun Exp $
d150 1
a150 1
The 
@


1.17
log
@with -i, flag on command line and flag displayed are different, and it does
nothing but confuse users.  sync them.

for -nud and such, you need "-- -nud" due to posix arg parsing.

sync w/kame
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.16 2002/06/08 21:19:13 itojun Exp $
d162 1
a162 1
Each flag should be separated by white spaces or tab characters.
d222 1
a222 1
is given, this system will act as an proxy NDP server,
d237 1
a237 1
command will exit with 0 on success, and non-zero on errors.
@


1.16
log
@comment out paragraph that does not fit to openbsd-current
@
text
@d1 2
a2 2
.\"	$OpenBSD: ndp.8,v 1.15 2002/06/03 19:30:49 itojun Exp $
.\"	$KAME: ndp.8,v 1.27 2002/06/03 19:25:27 itojun Exp $
d168 5
@


1.15
log
@recover backward compatibility in -I behavior. sync w/kame
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.14 2002/06/03 04:44:50 itojun Exp $
d188 11
a198 11
.It Xo
.Ic prefer_source
.Xc
Prefer addresses on the
.Ar interface
as candidates of the source address for outgoing packets.
The default value of this flag is off.
For more details about the entire algorithm of source address
selection, see the
.Pa IMPLEMENTATION
file supplied with the KAME kit.
@


1.14
log
@more nroff/KNF.  from deraadt
@
text
@d1 2
a2 2
.\"	$OpenBSD: ndp.8,v 1.13 2002/06/03 04:32:14 itojun Exp $
.\"	$KAME: ndp.8,v 1.26 2002/06/03 04:39:03 itojun Exp $
d68 1
a68 4
.Fl I Ar interface
.Nm ndp
.Op Fl nt
.Fl I Li delete
d144 3
d148 1
a148 1
Shows or specifies the default interface used as the default route when
d150 1
a150 4
If a valid
.Ar interface
is specified, the interface will be used as the default.
If
d152 1
a152 1
is not a valid interface name, the current setting will be presented.
@


1.13
log
@typo
@
text
@d1 2
a2 2
.\"	$OpenBSD: ndp.8,v 1.12 2002/06/03 03:33:53 itojun Exp $
.\"	$KAME: ndp.8,v 1.25 2002/06/03 03:30:16 itojun Exp $
d42 7
a48 1
.Fl a
d51 1
a51 1
.Fl A Ar wait
d54 1
a54 1
.Fl c
d62 1
a62 6
.Fl H
.Nm ndp
.Fl I Ar interface
.Nm ndp
.Fl I Li delete
.Nm ndp
d67 2
a68 1
.Fl p
d70 2
a71 5
.Fl P
.Nm ndp
.Fl r
.Nm ndp
.Fl R
d74 1
a74 1
.Fl s Ar nodename ether_addr
d104 1
a105 1
.Pp
d117 1
a117 1
Deay
d177 1
a177 1
turn on or off NUD (Neighbor Unreachability Detection) on the
d183 1
a183 1
specify whether or not to accept Router Advertisement messages
d194 1
a194 1
prefer addresses on the
d214 1
a214 1
Register an NDP entry for a node.
@


1.12
log
@more posix-compliant arg parsing.  sync w/kame.  help from deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.11 2002/05/29 09:13:22 itojun Exp $
d33 1
a33 1
.Os KAME
@


1.11
log
@grammar, from netbsd
@
text
@d1 2
a2 2
.\"	$OpenBSD: ndp.8,v 1.10 2002/05/29 08:05:39 itojun Exp $
.\"	$KAME: ndp.8,v 1.20 2002/05/29 07:37:51 itojun Exp $
d33 1
a33 1
.Os
d41 1
d43 1
d45 1
a46 1
.Fl A Ar wait
a47 1
.Nm ndp
a48 1
.Op Fl nt
a49 1
.Fl d
d51 1
a51 1
.Ar hostname
a52 1
.Fl f
d54 1
a54 1
.Ar filename
d58 3
a60 2
.Fl I
.Op delete \(ba Ar interface
a73 1
.Fl s
d75 1
a75 2
.Ar nodename
.Ar ether_addr
d83 1
a83 1
used by Neighbor Discovery Protocol (NDP).
d88 1
a88 1
.Bl -tag -width Ds
d99 1
a99 1
The time until the expiry of the entry.
d101 2
a102 2
.Dq Li permanent
when it will never expire.
d104 21
a124 6
State of the neighbor cache entry, in a single letter.
They are:
Nostate, Waitdelete, Incomplete, Reachable, Stale, Delay and Probe.
.Dq Li ?
indicates unknown state, which should never happen.
.It Flgs
d148 1
a148 1
.It Fl I Op delete \(ba Ar interface
d151 1
a151 3
If no argument is given to the option,
the current default interface will be shown.
If an
d154 5
a158 3
If a special keyword
.Ic delete
is specified, the current default interface will be deleted from the kernel.
d173 1
d181 22
d205 1
a205 1
Do not try to resolve numeric address to hostname.
d217 1
a217 1
.Li temp
d220 1
a220 1
.Li proxy
d226 2
a227 2
Print timestamp on each entries,
to make it possible to merge output with
@


1.10
log
@use new SIOCGIFINFO_IN6.  random other cleanups.  sync w/kame.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.9 2001/02/08 08:35:17 itojun Exp $
d96 1
a96 1
It could be 
d117 1
a117 1
which means the number of NS probes the node have sent during the current state.
d193 1
a193 1
.Xr tcpdump 1 .
d209 1
a209 1
command first appeared in WIDE Hydrangea IPv6 protocol stack kit.
@


1.9
log
@pull latest kame tree.  ndp -n -a printing is now prettier with long
IPv6 addresses.  -l is deprecated (ignored).
@
text
@d1 2
a2 2
.\"	$OpenBSD: ndp.8,v 1.8 2000/06/20 21:53:43 itojun Exp $
.\"	$KAME: ndp.8,v 1.15 2001/02/08 07:17:03 itojun Exp $
d65 1
a65 1
.Op Ar flags...
d90 29
d147 1
a147 1
.It Fl i Ar interface Op Ar flags...
d154 1
@


1.8
log
@sync with latest kame ndp(8).
accept scoped address notation.
avoid infinite loop in certain routing table setup.
@
text
@d1 2
a2 2
.\"	$OpenBSD: ndp.8,v 1.7 2000/04/17 04:44:51 itojun Exp $
.\"	$KAME: ndp.8,v 1.12 2000/06/20 21:50:17 itojun Exp $
d42 1
a42 1
.Op Fl ntl
d45 1
a45 1
.Op Fl ntl
d109 2
a110 1
there is no default router. If no argument is given to the option,
d125 2
a126 1
Possible flags are as follows. All of the flags can begin with the
d136 2
a137 1
interface. NUD is usually turned on by default.
a138 2
.It Fl l
Do not truncate numeric IPv6 address.
d150 1
a150 1
Register a NDP entry for a node.
@


1.7
log
@revisit in6_ifattach().  (1) make it more persistent about initializaing an
interface (2) cleanup interface id selection.
run NUD on p2p interface (required by spec for bidir p2p interface).
add "ndp -i interface" (can tweak per-interface ND flag).
(sync with more recent kame)
@
text
@d1 2
a2 1
.\"	$OpenBSD: ndp.8,v 1.6 2000/04/12 21:47:55 aaron Exp $
a30 2
.\"     KAME Id: ndp.8,v 1.9 2000/04/16 15:17:33 itojun Exp
.\"
d37 1
a37 1
.Nd control/diagnose  IPv6 neighbor discovery protocol
d83 1
d168 3
a170 2
.Nm Ndp
will exit with 0 on success, and non-zero on errors.
@


1.6
log
@Trailing whitespace begone!
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.5 2000/03/19 17:57:08 aaron Exp $
d30 1
a30 1
.\"     KAME Id: ndp.8,v 1.5 2000/02/17 05:35:56 itojun Exp
d66 1
d109 2
a110 3
there is no default router.
If no argument is given to the option,
the current deafult interface will be shown.
d117 19
a135 3
.It Fl i
.Ar interface
view ND information for specified interface.
@


1.5
log
@Remove hard sentence breaks. Add $OpenBSD$ tags where appropriate. Some other
cleanup along the way.
@
text
@d1 2
a2 2
.\"	$OpenBSD: ndp.8,v 1.4 2000/02/28 11:56:40 itojun Exp $
.\" 
d5 1
a5 1
.\" 
d17 1
a17 1
.\" 
d38 1
a38 1
.Nd control/diagnose  IPv6 neighbor discovery protocol 
d136 1
a136 1
is given in the command. 
d140 1
a140 1
responding to requests for 
@


1.4
log
@bring in latest kame code.
- ndp -I (set default outgoing interface when no default router is defined)
- ndp -s proxy (proxy NDP)
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.3 2000/01/04 21:12:18 deraadt Exp $
d108 2
a109 1
there is no default router. If no argument is given to the option,
@


1.3
log
@fix layout
@
text
@d1 1
a1 1
.\"	$OpenBSD: ndp.8,v 1.2 1999/12/10 07:26:56 itojun Exp $
d30 1
a30 1
.\"     KAME Id: ndp.8,v 1.1.1.1 1999/12/10 07:17:07 itojun Exp
d60 3
a62 3
.\" .Nm ndp
.\" .Fl I
.\" .Ar interface
d79 2
a80 1
.Op temp
d106 13
a118 6
.\" .It Fl I
.\" .Ar interface
.\" Specifies the default interface used as the default route when
.\" there is no default router.
.It Fl i Ar interface
View ND information for specified interface.
d133 9
@


1.2
log
@add ndp(8), arp(8) lookalike for IPv6.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d109 2
a110 3
.It Fl i
.Ar interface
view ND information for specified interface.
@


1.1
log
@Initial revision
@
text
@d1 2
d30 1
a30 1
.\"     $Id: ndp.8,v 1.3 1999/12/09 16:43:42 jinmei Exp $
d34 1
a34 1
.Os KAME
d60 3
a62 3
.Nm ndp
.Fl I
.Ar interface
d105 4
a108 4
.It Fl I
.Ar interface
Specifies the default interface used as the default route when
there is no default router.
@


1.1.1.1
log
@arp(8) lookalike for IPv6, from KAME
@
text
@@
