head	1.6;
access;
symbols
	OPENBSD_6_0:1.6.0.10
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.6
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.8
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.2
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.2.0.8
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.4
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.0.4
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@.\" @;


1.6
date	2014.04.04.02.49.46;	author schwarze;	state Exp;
branches;
next	1.5;

1.5
date	2014.04.03.14.47.03;	author jmc;	state Exp;
branches;
next	1.4;

1.4
date	2014.04.03.07.12.58;	author yasuoka;	state Exp;
branches;
next	1.3;

1.3
date	2014.03.22.04.30.31;	author yasuoka;	state Exp;
branches;
next	1.2;

1.2
date	2012.09.18.13.14.08;	author yasuoka;	state Exp;
branches;
next	1.1;

1.1
date	2012.01.18.03.13.04;	author yasuoka;	state Exp;
branches;
next	;


desc
@@


1.6
log
@remove some duplicate text,
and some remains of the template not pertinent to section 8;
ok yasuoka@@ jmc@@
@
text
@.\"	$OpenBSD: npppctl.8,v 1.5 2014/04/03 14:47:03 jmc Exp $
.\"
.\" Copyright (c) 2012 Internet Initiative Japan Inc.
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: April 3 2014 $
.Dt NPPPCTL 8
.Os
.Sh NAME
.Nm npppctl
.Nd control npppd
.Sh SYNOPSIS
.Nm
.Op Fl n
.Op Fl s Ar socket
.Ar command
.Op Ar argument ...
.Sh DESCRIPTION
The
.Nm
utility controls
the
.Xr npppd 8
daemon.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl n
Show IP addresses instead of their hostnames.
.It Fl s Ar socket
Use
.Ar socket
instead of the default
.Pa /var/run/npppd.sock
to communicate with
.Xr npppd 8 .
.El
.Pp
The following commands are available:
.Bl -tag -width Ds
.It Cm clear all | Ar filter ...
Disconnect PPP sessions.
If
.Ar filter
is specified, only matching PPP sessions are disconnected.
If
.Cm all
is specified, all PPP sessions are disconnected.
See
.Cm session all
for the types of
.Ar filter .
.It Cm monitor all | Ar filter ...
Monitor start and stop of PPP sessions.
If
.Ar filter
is specified, only matching PPP sessions are monitored.
If
.Cm all
is specified, all PPP sessions are monitored.
See
.Cm session all
for the types of
.Ar filter .
.It Cm session all Op Ar filter ...
Show detailed information for PPP sessions.
If
.Ar filter
is specified, only matching PPP sessions are shown;
otherwise all PPP sessions are shown.
The following filters are available:
.Bl -tag -width Ds
.It Cm address Ar ip_address
Show or clear PPP sessions whose IP address match
.Ar ip_address .
.It Cm interface Ar interface_name
Show or clear PPP sessions that use the interface specified by
.Ar interface_name .
.It Cm ppp-id Ar id
Show or clear PPP sessions whose Ppp-Id match
.Ar id .
.It Cm protocol Ar protocol
Show or clear PPP sessions that use the tunneling protocol specified by
.Ar protocol .
.It Cm realm Ar realm_name
Show or clear PPP sessions whose realm match the specified
.Ar realm_name .
.It Cm username  Ar username
Show or clear PPP sessions whose username match
.Ar username .
.El
.It Cm session brief
Show brief information for all PPP sessions.
.It Cm session packets
Show I/O statistics for all PPP sessions.
.El
.\" .Sh ENVIRONMENT
.\" .Sh FILES
.\" .Sh EXAMPLES
.\" .Sh DIAGNOSTICS
.\" .Sh SEE ALSO
.\" .Xr npppd 8
.\" .Sh STANDARDS
.Sh HISTORY
The
.Nm
program first appeared in
.Ox
5.3.
.Sh AUTHORS
The
.Nm
program was written by Internet Initiative Japan Inc.
.\" .Sh CAVEATS
.\" .Sh BUGS
@


1.5
log
@various macro cleanup and tweaks;
ok yasuoka schwarze
@
text
@d1 1
a1 1
.\"	$OpenBSD: npppctl.8,v 1.4 2014/04/03 07:12:58 yasuoka Exp $
a75 12
.It Cm monitor all | Ar filter ...
Monitor start and stop of PPP sessions.
If
.Ar filter
is specified, only matching PPP sessions are monitored.
If
.Cm all
is specified, all PPP sessions are monitored.
See
.Cm session all
for the types of
.Ar filter .
a107 4
.\" The following requests should be uncommented and used where appropriate.
.\" This next request is for sections 2, 3, and 9 function return values only.
.\" .Sh RETURN VALUES
.\" This next request is for sections 1, 6, 7 & 8 only.
a110 1
.\" This next request is for sections 1, 4, 6, and 8 only.
a111 2
.\" The next request is for sections 2, 3, and 9 error and signal handling only.
.\" .Sh ERRORS
@


1.4
log
@add mention about "monitor" command.
@
text
@d1 1
a1 1
.\"	$OpenBSD: npppctl.8,v 1.3 2014/03/22 04:30:31 yasuoka Exp $
d17 1
a17 1
.Dd $Mdocdate: March 22 2014 $
d22 1
a22 2
.Nd control the npppd daemon
.Xr npppd 8
d49 1
a49 1
.Sh NPPPD CONTROL COMMANDS
d52 1
a52 1
.It Cm clear Ar all | filter ...
d58 1
a58 1
.Ar all
d64 1
a64 1
.It Cm monitor all | filter ...
d70 1
a70 1
.Ar all
d76 1
a76 1
.It Cm monitor all | filter ...
d82 1
a82 1
.Ar all
@


1.3
log
@Reimplement control part of npppd(8) with imsg.  Also add "monitor"
command for npppctl(8) to monitor PPP session start/stop events.
@
text
@d1 1
a1 1
.\"	$OpenBSD: npppctl.8,v 1.2 2012/09/18 13:14:08 yasuoka Exp $
d17 1
a17 1
.Dd $Mdocdate: September 18 2012 $
d61 12
@


1.2
log
@New configuration syntax for npppd(8).  `npppd.conf' will be based on
parse.y and `npppd-users' will be based on getcap(3).  Add man pages.

feedback from giovanni
@
text
@d1 1
a1 1
.\"	$OpenBSD: npppctl.8,v 1.1 2012/01/18 03:13:04 yasuoka Exp $
d17 1
a17 1
.Dd $Mdocdate: January 18 2012 $
d23 1
a23 1
.\" XXX .Xr npppd 8
a26 1
.Op Fl r Ar rcvbuf_size
a27 1
.Op Fl t Ar timeout_sec
a41 8
.It Fl r Ar rcvbuf_size
.Nm
may fail if the receive buffer is not large enough for
the requested information.
Use
.Ar rcvbuf_size
to extend the receive buffer size instead of the default value of 131072.
This must be greater than or equal to 2048.
d46 1
a46 1
.Pa /var/run/npppd_ctl
d48 1
a48 6
.\" XXX .Xr npppd 8 .
npppd.
.It Fl t Ar timeout_sec
Use
.Ar timeout_sec
as the I/O timeout timer value in seconds instead of the default value of 2.
d61 12
@


1.1
log
@Replace npppdctl(8) by new npppctl(8).  npppctl was written from
scratch, it uses parser.c derived from ikectl(8) to have OpenBSD's
fashion.  This includes related changes listed below:
- changed npppd control IPC heavyly.
- support IPv6 as tunnel source address.
- deleted support changing the configuration of npppd_ctl on running.
  Because it is not so needed but it requires privilege operations.
- refactors.

man page helps from jmc.  tested by sebastia.
ok deraadt sebastia sthen
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d17 1
a17 1
.Dd $Mdocdate$
d37 1
a37 2
.\" XXX .Xr npppd 8
npppd
d131 1
a131 1
5.1.
@

