head	1.4;
access;
symbols
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.36
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.32
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.34
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.26
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.30
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.28
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.24
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.22
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.20
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.18
	OPENBSD_5_0:1.4.0.16
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.14
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.12
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.8
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.10
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.4
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3;
locks; strict;
comment	@ * @;


1.4
date	2007.10.18.17.00.59;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	2007.01.23.21.10.10;	author michele;	state Exp;
branches;
next	1.2;

1.2
date	2007.01.15.18.23.43;	author michele;	state Exp;
branches;
next	1.1;

1.1
date	2006.10.18.16.11.58;	author norby;	state Exp;
branches;
next	;


desc
@@


1.4
log
@spacing
@
text
@/*	$OpenBSD: rip.h,v 1.3 2007/01/23 21:10:10 michele Exp $ */

/*
 * Copyright (c) 2006 Michele Marchetto <mydecay@@openbeer.it>
 *
 * Permission to use, copy, modify, and distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 */

/* RIP protocol definitions */

#ifndef	_RIP_H_
#define	_RIP_H_

/* misc */
#define	RIP_VERSION		2
#define ALL_RIP_ROUTERS		"224.0.0.9"
#define	RIP_PORT		520

#define	MIN_MD_ID		0
#define	MAX_MD_ID		255

/* metric */
#define	INFINITY		16
#define	DEFAULT_COST		1

/* timers */
#define	KEEPALIVE		30
#define	OFFSET			10
#define	FAILED_NBR_TIMEOUT	86400

#define MAX_RIP_ENTRIES		25

/* RIP command */
#define	COMMAND_REQUEST		1
#define	COMMAND_RESPONSE	2

#define	RIP_HDR_LEN		sizeof(struct rip_hdr)
#define	RIP_ENTRY_LEN		sizeof(struct rip_entry)

struct rip_hdr {
	u_int8_t	command;
	u_int8_t	version;
	u_int16_t	dummy;
};

struct rip_entry {
	u_int16_t	AFI;
	u_int16_t	route_tag;
	u_int32_t	address;
	u_int32_t	mask;
	u_int32_t	nexthop;
	u_int32_t	metric;
};

/* auth */
#define AUTH			0xFFFF
#define	AUTH_TRLR_HDR_LEN	4

/* auth general struct */
struct rip_auth {
	u_int16_t	 auth_fixed;
	u_int16_t	 auth_type;
};

/* Keyed MD5 auth struct */
struct md5_auth {
	u_int16_t	 auth_offset;
	u_int8_t	 auth_keyid;
	u_int8_t	 auth_length;
	u_int32_t	 auth_seq;
	u_int64_t	 auth_reserved;
};

#endif /* _RIP_H_ */
@


1.3
log
@add timeout for failed nbr structures

OK claudio@@ henning@@
@
text
@d1 1
a1 1
/*	$OpenBSD: rip.h,v 1.2 2007/01/15 18:23:43 michele Exp $ */
d66 1
a66 1
#define AUTH                    0xFFFF
@


1.2
log
@allow users to specify interface specific parameters even on a global basis

OK henning@@
@
text
@d1 1
a1 1
/*	$OpenBSD: rip.h,v 1.1 2006/10/18 16:11:58 norby Exp $ */
d39 1
@


1.1
log
@Welcome ripd
started by Michele Marchetto some time ago by using the imsg/three process framework
of ospfd. He implemented most of the daemon with a little help and guidance from
Claudio and I.

Currently the daemon is more or less complete, with the exception of key lifetime
and rollover.

Not yet connected to the builds.
OK claudio@@
@
text
@d1 1
a1 1
/*	$OpenBSD$ */
d34 1
@

