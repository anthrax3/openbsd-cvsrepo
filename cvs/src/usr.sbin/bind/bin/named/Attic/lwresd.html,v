head	1.7;
access;
symbols
	OPENBSD_5_6:1.6.0.30
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.28
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.24
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.22
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.20
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.18
	OPENBSD_5_0:1.6.0.16
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.14
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.6.0.12
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.8
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.10
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.6
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.4
	OPENBSD_4_4_BASE:1.6
	BIND_9_4_2_P1:1.1.1.5
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	BIND_9_4_2:1.1.1.5
	OPENBSD_4_2:1.5.0.4
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	BIND_9_3_4:1.1.1.4
	BIND_9_3_3:1.1.1.4
	OPENBSD_4_0:1.4.0.2
	OPENBSD_4_0_BASE:1.4
	BIND_9_3_2:1.1.1.3
	OPENBSD_3_9:1.3.0.6
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	BIND_9_3_1:1.1.1.2
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	BIND_9_3_0:1.1.1.2
	OPENBSD_3_6:1.2.0.8
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.6
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.4
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2
	BIND_9_2_2_RC1:1.1.1.1
	ISC:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2014.08.25.07.08.32;	author brad;	state dead;
branches;
next	1.6;
commitid	zKogyOACFMOV70QE;

1.6
date	2007.12.09.13.39.42;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2007.01.10.19.07.58;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	2006.04.05.17.36.33;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2004.09.28.17.14.03;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.05.09.18.32;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.20.21.06.09;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.20.21.06.09;	author jakob;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2004.09.28.16.33.01;	author jakob;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2006.04.05.16.42.10;	author jakob;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2007.01.10.18.18.26;	author jakob;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2007.12.09.12.33.08;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Start removing unused documentation and the server and related binaries source
code.
@
text
@<!--
 - Copyright (C) 2004, 2005, 2007 Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2000, 2001 Internet Software Consortium.
 - 
 - Permission to use, copy, modify, and distribute this software for any
 - purpose with or without fee is hereby granted, provided that the above
 - copyright notice and this permission notice appear in all copies.
 - 
 - THE SOFTWARE IS PROVIDED "AS IS" AND ISC DISCLAIMS ALL WARRANTIES WITH
 - REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 - AND FITNESS. IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
 - INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 - LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE
 - OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 - PERFORMANCE OF THIS SOFTWARE.
-->
<!-- $ISC: lwresd.html,v 1.5.18.18 2007/05/16 06:11:27 marka Exp $ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>lwresd</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en">
<a name="id2476275"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2>Name</h2>
<p><span class="application">lwresd</span> &#8212; lightweight resolver daemon</p>
</div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">lwresd</code>  [<code class="option">-c <em class="replaceable"><code>config-file</code></em></code>] [<code class="option">-C <em class="replaceable"><code>config-file</code></em></code>] [<code class="option">-d <em class="replaceable"><code>debug-level</code></em></code>] [<code class="option">-f</code>] [<code class="option">-g</code>] [<code class="option">-i <em class="replaceable"><code>pid-file</code></em></code>] [<code class="option">-m <em class="replaceable"><code>flag</code></em></code>] [<code class="option">-n <em class="replaceable"><code>#cpus</code></em></code>] [<code class="option">-P <em class="replaceable"><code>port</code></em></code>] [<code class="option">-p <em class="replaceable"><code>port</code></em></code>] [<code class="option">-s</code>] [<code class="option">-t <em class="replaceable"><code>directory</code></em></code>] [<code class="option">-u <em class="replaceable"><code>user</code></em></code>] [<code class="option">-v</code>] [<code class="option">-4</code>] [<code class="option">-6</code>]</p></div>
</div>
<div class="refsect1" lang="en">
<a name="id2543461"></a><h2>DESCRIPTION</h2>
<p><span><strong class="command">lwresd</strong></span>
      is the daemon providing name lookup
      services to clients that use the BIND 9 lightweight resolver
      library.  It is essentially a stripped-down, caching-only name
      server that answers queries using the BIND 9 lightweight
      resolver protocol rather than the DNS protocol.
    </p>
<p><span><strong class="command">lwresd</strong></span> 
      listens for resolver queries on a
      UDP port on the IPv4 loopback interface, 127.0.0.1.  This
      means that <span><strong class="command">lwresd</strong></span> can only be used by
      processes running on the local machine.  By default UDP port
      number 921 is used for lightweight resolver requests and
      responses.
    </p>
<p>
      Incoming lightweight resolver requests are decoded by the
      server which then resolves them using the DNS protocol.  When
      the DNS lookup completes, <span><strong class="command">lwresd</strong></span> encodes
      the answers in the lightweight resolver format and returns
      them to the client that made the request.
    </p>
<p>
      If <code class="filename">/etc/resolv.conf</code> contains any
      <code class="option">nameserver</code> entries, <span><strong class="command">lwresd</strong></span>
      sends recursive DNS queries to those servers.  This is similar
      to the use of forwarders in a caching name server.  If no
      <code class="option">nameserver</code> entries are present, or if
      forwarding fails, <span><strong class="command">lwresd</strong></span> resolves the
      queries autonomously starting at the root name servers, using
      a built-in list of root server hints.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2543508"></a><h2>OPTIONS</h2>
<div class="variablelist"><dl>
<dt><span class="term">-4</span></dt>
<dd><p>
            Use IPv4 only even if the host machine is capable of IPv6.
            <code class="option">-4</code> and <code class="option">-6</code> are mutually
            exclusive.
          </p></dd>
<dt><span class="term">-6</span></dt>
<dd><p>
            Use IPv6 only even if the host machine is capable of IPv4.
            <code class="option">-4</code> and <code class="option">-6</code> are mutually
            exclusive.
          </p></dd>
<dt><span class="term">-c <em class="replaceable"><code>config-file</code></em></span></dt>
<dd><p>
            Use <em class="replaceable"><code>config-file</code></em> as the
            configuration file instead of the default,
            <code class="filename">/etc/lwresd.conf</code>.
	    
	    <font color="red">&lt;term&gt;-c&lt;/term&gt;</font> can not be used with <font color="red">&lt;term&gt;-C&lt;/term&gt;</font>.
          </p></dd>
<dt><span class="term">-C <em class="replaceable"><code>config-file</code></em></span></dt>
<dd><p>
            Use <em class="replaceable"><code>config-file</code></em> as the
            configuration file instead of the default,
            <code class="filename">/etc/resolv.conf</code>.
	    <font color="red">&lt;term&gt;-C&lt;/term&gt;</font> can not be used with <font color="red">&lt;term&gt;-c&lt;/term&gt;</font>.
          </p></dd>
<dt><span class="term">-d <em class="replaceable"><code>debug-level</code></em></span></dt>
<dd><p>
            Set the daemon's debug level to <em class="replaceable"><code>debug-level</code></em>.
            Debugging traces from <span><strong class="command">lwresd</strong></span> become
            		more verbose as the debug level increases.
          </p></dd>
<dt><span class="term">-f</span></dt>
<dd><p>
            Run the server in the foreground (i.e. do not daemonize).
          </p></dd>
<dt><span class="term">-g</span></dt>
<dd><p>
            Run the server in the foreground and force all logging
            to <code class="filename">stderr</code>.
          </p></dd>
<dt><span class="term">-i <em class="replaceable"><code>pid-file</code></em></span></dt>
<dd><p>
            Use <em class="replaceable"><code>pid-file</code></em> as the
            PID file instead of the default,
            <code class="filename">/var/run/lwresd.pid</code>.
          </p></dd>
<dt><span class="term">-m <em class="replaceable"><code>flag</code></em></span></dt>
<dd><p>
            Turn on memory usage debugging flags.  Possible flags are
            <em class="replaceable"><code>usage</code></em>,
            <em class="replaceable"><code>trace</code></em>,
            <em class="replaceable"><code>record</code></em>,
            <em class="replaceable"><code>size</code></em>, and
            <em class="replaceable"><code>mctx</code></em>.  
            These correspond to the ISC_MEM_DEBUGXXXX flags described in
            <code class="filename">&lt;isc/mem.h&gt;</code>.
          </p></dd>
<dt><span class="term">-n <em class="replaceable"><code>#cpus</code></em></span></dt>
<dd><p>
            Create <em class="replaceable"><code>#cpus</code></em> worker threads
            to take advantage of multiple CPUs.  If not specified,
            <span><strong class="command">lwresd</strong></span> will try to determine the
            number of CPUs present and create one thread per CPU.
            If it is unable to determine the number of CPUs, a
            single worker thread will be created.
          </p></dd>
<dt><span class="term">-P <em class="replaceable"><code>port</code></em></span></dt>
<dd><p>
            Listen for lightweight resolver queries on port
            <em class="replaceable"><code>port</code></em>.  If
            		not specified, the default is port 921.
          </p></dd>
<dt><span class="term">-p <em class="replaceable"><code>port</code></em></span></dt>
<dd><p>
            Send DNS lookups to port <em class="replaceable"><code>port</code></em>.  If not
            specified, the default is port 53.  This provides a
            way of testing the lightweight resolver daemon with a
            name server that listens for queries on a non-standard
            port number.
          </p></dd>
<dt><span class="term">-s</span></dt>
<dd>
<p>
            Write memory usage statistics to <code class="filename">stdout</code>
            on exit.
          </p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<p>
              This option is mainly of interest to BIND 9 developers
              and may be removed or changed in a future release.
            </p>
</div>
</dd>
<dt><span class="term">-t <em class="replaceable"><code>directory</code></em></span></dt>
<dd>
<p>Chroot
	    to <em class="replaceable"><code>directory</code></em> after
            processing the command line arguments, but before
            reading the configuration file.
          </p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p>
              This option should be used in conjunction with the
              <code class="option">-u</code> option, as chrooting a process
              running as root doesn't enhance security on most
              systems; the way <code class="function">chroot(2)</code> is
              defined allows a process with root privileges to
              escape a chroot jail.
            </p>
</div>
</dd>
<dt><span class="term">-u <em class="replaceable"><code>user</code></em></span></dt>
<dd><p>Setuid
	    to <em class="replaceable"><code>user</code></em> after completing
            privileged operations, such as creating sockets that
            listen on privileged ports.
          </p></dd>
<dt><span class="term">-v</span></dt>
<dd><p>
            Report the version number and exit.
          </p></dd>
</dl></div>
</div>
<div class="refsect1" lang="en">
<a name="id2543925"></a><h2>FILES</h2>
<div class="variablelist"><dl>
<dt><span class="term"><code class="filename">/etc/resolv.conf</code></span></dt>
<dd><p>
            The default configuration file.
          </p></dd>
<dt><span class="term"><code class="filename">/var/run/lwresd.pid</code></span></dt>
<dd><p>
            The default process-id file.
          </p></dd>
</dl></div>
</div>
<div class="refsect1" lang="en">
<a name="id2543964"></a><h2>SEE ALSO</h2>
<p><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span>,
      <span class="citerefentry"><span class="refentrytitle">lwres</span>(3)</span>,
      <span class="citerefentry"><span class="refentrytitle">resolver</span>(5)</span>.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2543998"></a><h2>AUTHOR</h2>
<p><span class="corpauthor">Internet Systems Consortium</span>
    </p>
</div>
</div></body>
</html>
@


1.6
log
@resolve conflicts
@
text
@@


1.5
log
@resolve conflicts and regen configure script
@
text
@d2 1
a2 1
 - Copyright (C) 2004, 2005 Internet Systems Consortium, Inc. ("ISC")
d17 1
a17 1
<!-- $ISC: lwresd.html,v 1.4.2.1.4.10 2006/06/29 13:02:30 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.70.1">
d25 1
a25 1
<a name="id2482688"></a><div class="titlepage"></div>
d32 1
a32 1
<div class="cmdsynopsis"><p><code class="command">lwresd</code>  [<code class="option">-C <em class="replaceable"><code>config-file</code></em></code>] [<code class="option">-d <em class="replaceable"><code>debug-level</code></em></code>] [<code class="option">-f</code>] [<code class="option">-g</code>] [<code class="option">-i <em class="replaceable"><code>pid-file</code></em></code>] [<code class="option">-n <em class="replaceable"><code>#cpus</code></em></code>] [<code class="option">-P <em class="replaceable"><code>port</code></em></code>] [<code class="option">-p <em class="replaceable"><code>port</code></em></code>] [<code class="option">-s</code>] [<code class="option">-t <em class="replaceable"><code>directory</code></em></code>] [<code class="option">-u <em class="replaceable"><code>user</code></em></code>] [<code class="option">-v</code>]</p></div>
d35 7
a41 7
<a name="id2549484"></a><h2>DESCRIPTION</h2>
<p>
	<span><strong class="command">lwresd</strong></span> is the daemon providing name lookup
	services to clients that use the BIND 9 lightweight resolver
	library.  It is essentially a stripped-down, caching-only name
	server that answers queries using the BIND 9 lightweight
	resolver protocol rather than the DNS protocol.
d43 7
a49 7
<p>
	<span><strong class="command">lwresd</strong></span> listens for resolver queries on a
	UDP port on the IPv4 loopback interface, 127.0.0.1.  This
	means that <span><strong class="command">lwresd</strong></span> can only be used by
	processes running on the local machine.  By default UDP port
	number 921 is used for lightweight resolver requests and
	responses.
d52 5
a56 5
	Incoming lightweight resolver requests are decoded by the
	server which then resolves them using the DNS protocol.  When
	the DNS lookup completes, <span><strong class="command">lwresd</strong></span> encodes
	the answers in the lightweight resolver format and returns
	them to the client that made the request.
d59 8
a66 8
	If <code class="filename">/etc/resolv.conf</code> contains any
	<code class="option">nameserver</code> entries, <span><strong class="command">lwresd</strong></span>
	sends recursive DNS queries to those servers.  This is similar
	to the use of forwarders in a caching name server.  If no
	<code class="option">nameserver</code> entries are present, or if
	forwarding fails, <span><strong class="command">lwresd</strong></span> resolves the
	queries autonomously starting at the root name servers, using
	a built-in list of root server hints.
d70 1
a70 1
<a name="id2549533"></a><h2>OPTIONS</h2>
d72 20
d94 4
a97 3
		Use <em class="replaceable"><code>config-file</code></em> as the
		configuration file instead of the default,
		<code class="filename">/etc/resolv.conf</code>.
d101 3
a103 3
		Set the daemon's debug level to <em class="replaceable"><code>debug-level</code></em>.
		Debugging traces from <span><strong class="command">lwresd</strong></span> become
		more verbose as the debug level increases.
d107 1
a107 1
		Run the server in the foreground (i.e. do not daemonize).
d111 19
a129 2
		Run the server in the foreground and force all logging
		to <code class="filename">stderr</code>.
d133 6
a138 6
		Create <em class="replaceable"><code>#cpus</code></em> worker threads
		to take advantage of multiple CPUs.  If not specified,
		<span><strong class="command">lwresd</strong></span> will try to determine the
		number of CPUs present and create one thread per CPU.
		If it is unable to determine the number of CPUs, a
		single worker thread will be created.
d142 3
a144 3
		Listen for lightweight resolver queries on port
		<em class="replaceable"><code>port</code></em>.  If
		not specified, the default is port 921.
d148 5
a152 5
		Send DNS lookups to port <em class="replaceable"><code>port</code></em>.  If not
		specified, the default is port 53.  This provides a
		way of testing the lightweight resolver daemon with a
		name server that listens for queries on a non-standard
		port number.
d157 2
a158 2
		Write memory usage statistics to <code class="filename">stdout</code>
		on exit.
d163 3
a165 3
		This option is mainly of interest to BIND 9 developers
		and may be removed or changed in a future release.
	    </p>
d170 4
a173 4
<p>
		<code class="function">chroot()</code> to <em class="replaceable"><code>directory</code></em> after
		processing the command line arguments, but before
		reading the configuration file.
d178 7
a184 7
		This option should be used in conjunction with the
		<code class="option">-u</code> option, as chrooting a process
		running as root doesn't enhance security on most
		systems; the way <code class="function">chroot()</code> is
		defined allows a process with root privileges to
		escape a chroot jail.
	    </p>
d188 4
a191 4
<dd><p>
		<code class="function">setuid()</code> to <em class="replaceable"><code>user</code></em> after completing
		privileged operations, such as creating sockets that
		listen on privileged ports.
d195 1
a195 1
		Report the version number and exit.
d200 1
a200 1
<a name="id2549939"></a><h2>FILES</h2>
d204 1
a204 1
		The default configuration file.
d208 1
a208 1
		The default process-id file.
d213 4
a216 5
<a name="id2549978"></a><h2>SEE ALSO</h2>
<p>
	<span class="citerefentry"><span class="refentrytitle">named</span>(8)</span>,
	<span class="citerefentry"><span class="refentrytitle">lwres</span>(3)</span>,
	<span class="citerefentry"><span class="refentrytitle">resolver</span>(5)</span>.
d220 2
a221 3
<a name="id2550017"></a><h2>AUTHOR</h2>
<p>
	<span class="corpauthor">Internet Systems Consortium</span>
@


1.4
log
@resolve conflicts
@
text
@d17 1
a17 1
<!-- $ISC: lwresd.html,v 1.4.2.1.4.8 2005/10/13 02:33:47 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
d25 1
a25 1
<a name="id2463721"></a><div class="titlepage"></div>
d35 1
a35 1
<a name="id2525920"></a><h2>DESCRIPTION</h2>
d70 1
a70 1
<a name="id2525969"></a><h2>OPTIONS</h2>
d162 1
a162 1
<a name="id2526237"></a><h2>FILES</h2>
d175 1
a175 1
<a name="id2526277"></a><h2>SEE ALSO</h2>
d183 1
a183 1
<a name="id2526315"></a><h2>AUTHOR</h2>
@


1.3
log
@resolve conflicts
@
text
@d2 3
a4 3
 - Copyright (C) 2004  Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2000, 2001  Internet Software Consortium.
 -
d8 1
a8 1
 -
d11 1
a11 1
 - AND FITNESS.  IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
d17 21
a37 122

<!-- $ISC: lwresd.html,v 1.4.2.1.4.3 2004/08/22 23:38:59 marka Exp $ -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>lwresd</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="AEN1"
></A
><SPAN
CLASS="APPLICATION"
>lwresd</SPAN
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN9"
></A
><H2
>Name</H2
><SPAN
CLASS="APPLICATION"
>lwresd</SPAN
>&nbsp;--&nbsp;lightweight resolver daemon</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN13"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>lwresd</B
>  [<VAR
CLASS="OPTION"
>-C <VAR
CLASS="REPLACEABLE"
>config-file</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-d <VAR
CLASS="REPLACEABLE"
>debug-level</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-f</VAR
>] [<VAR
CLASS="OPTION"
>-g</VAR
>] [<VAR
CLASS="OPTION"
>-i <VAR
CLASS="REPLACEABLE"
>pid-file</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-n <VAR
CLASS="REPLACEABLE"
>#cpus</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-P <VAR
CLASS="REPLACEABLE"
>port</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-p <VAR
CLASS="REPLACEABLE"
>port</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-s</VAR
>] [<VAR
CLASS="OPTION"
>-t <VAR
CLASS="REPLACEABLE"
>directory</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-u <VAR
CLASS="REPLACEABLE"
>user</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-v</VAR
>]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN48"
></A
><H2
>DESCRIPTION</H2
><P
>	<B
CLASS="COMMAND"
>lwresd</B
> is the daemon providing name lookup
d42 3
a44 6
    </P
><P
>	<B
CLASS="COMMAND"
>lwresd</B
> listens for resolver queries on a
d46 1
a46 4
	means that <B
CLASS="COMMAND"
>lwresd</B
> can only be used by
d50 3
a52 3
    </P
><P
>	Incoming lightweight resolver requests are decoded by the
d54 1
a54 4
	the DNS lookup completes, <B
CLASS="COMMAND"
>lwresd</B
> encodes
d57 4
a60 13
    </P
><P
>	If <TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
> contains any
	<VAR
CLASS="OPTION"
>nameserver</VAR
> entries, <B
CLASS="COMMAND"
>lwresd</B
>
d63 2
a64 8
	<VAR
CLASS="OPTION"
>nameserver</VAR
> entries are present, or if
	forwarding fails, <B
CLASS="COMMAND"
>lwresd</B
> resolves the
d67 8
a74 25
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN63"
></A
><H2
>OPTIONS</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>-C <VAR
CLASS="REPLACEABLE"
>config-file</VAR
></DT
><DD
><P
>		Use <VAR
CLASS="REPLACEABLE"
>config-file</VAR
> as the
d76 6
a81 21
		<TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
>.
          </P
></DD
><DT
>-d <VAR
CLASS="REPLACEABLE"
>debug-level</VAR
></DT
><DD
><P
>		Set the daemon's debug level to <VAR
CLASS="REPLACEABLE"
>debug-level</VAR
>.
		Debugging traces from <B
CLASS="COMMAND"
>lwresd</B
> become
d83 13
a95 31
          </P
></DD
><DT
>-f</DT
><DD
><P
>		Run the server in the foreground (i.e. do not daemonize).
          </P
></DD
><DT
>-g</DT
><DD
><P
>		Run the server in the foreground and force all logging
		to <TT
CLASS="FILENAME"
>stderr</TT
>.
          </P
></DD
><DT
>-n <VAR
CLASS="REPLACEABLE"
>#cpus</VAR
></DT
><DD
><P
>		Create <VAR
CLASS="REPLACEABLE"
>#cpus</VAR
> worker threads
d97 1
a97 4
		<B
CLASS="COMMAND"
>lwresd</B
> will try to determine the
d101 5
a105 14
          </P
></DD
><DT
>-P <VAR
CLASS="REPLACEABLE"
>port</VAR
></DT
><DD
><P
>		Listen for lightweight resolver queries on port
		<VAR
CLASS="REPLACEABLE"
>port</VAR
>.  If
d107 4
a110 13
          </P
></DD
><DT
>-p <VAR
CLASS="REPLACEABLE"
>port</VAR
></DT
><DD
><P
>		Send DNS lookups to port <VAR
CLASS="REPLACEABLE"
>port</VAR
>.  If not
d115 5
a119 10
          </P
></DD
><DT
>-s</DT
><DD
><P
>		Write memory usage statistics to <TT
CLASS="FILENAME"
>stdout</TT
>
d121 5
a125 9
          </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>		This option is mainly of interest to BIND 9 developers
d127 7
a133 18
	    </P
></BLOCKQUOTE
></DIV
></DD
><DT
>-t <VAR
CLASS="REPLACEABLE"
>directory</VAR
></DT
><DD
><P
>		<CODE
CLASS="FUNCTION"
>chroot()</CODE
> to <VAR
CLASS="REPLACEABLE"
>directory</VAR
> after
d136 6
a141 25
          </P
><DIV
CLASS="WARNING"
><P
></P
><TABLE
CLASS="WARNING"
BORDER="1"
WIDTH="90%"
><TR
><TD
ALIGN="CENTER"
><B
>Warning</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>		This option should be used in conjunction with the
		<VAR
CLASS="OPTION"
>-u</VAR
> option, as chrooting a process
d143 1
a143 4
		systems; the way <CODE
CLASS="FUNCTION"
>chroot()</CODE
> is
d146 6
a151 20
	    </P
></TD
></TR
></TABLE
></DIV
></DD
><DT
>-u <VAR
CLASS="REPLACEABLE"
>user</VAR
></DT
><DD
><P
>		<CODE
CLASS="FUNCTION"
>setuid()</CODE
> to <VAR
CLASS="REPLACEABLE"
>user</VAR
> after completing
d154 36
a189 92
          </P
></DD
><DT
>-v</DT
><DD
><P
>		Report the version number and exit.
          </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN137"
></A
><H2
>FILES</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
></DT
><DD
><P
>		The default configuration file.
          </P
></DD
><DT
><TT
CLASS="FILENAME"
>/var/run/lwresd.pid</TT
></DT
><DD
><P
>		The default process-id file.
          </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN150"
></A
><H2
>SEE ALSO</H2
><P
>	<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>named</SPAN
>(8)</SPAN
>,
	<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>lwres</SPAN
>(3)</SPAN
>,
	<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>resolver</SPAN
>(5)</SPAN
>.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN162"
></A
><H2
>AUTHOR</H2
><P
>	Internet Systems Consortium
    </P
></DIV
></BODY
></HTML
>
@


1.2
log
@update to BIND 9.2.2-release. ok millert@@
@
text
@d2 1
d4 1
a4 1
 - 
d8 8
a15 9
 - 
 - THE SOFTWARE IS PROVIDED "AS IS" AND INTERNET SOFTWARE CONSORTIUM
 - DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL
 - IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL
 - INTERNET SOFTWARE CONSORTIUM BE LIABLE FOR ANY SPECIAL, DIRECT,
 - INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING
 - FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,
 - NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION
 - WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
d17 4
d27 1
a27 2
CONTENT="Modular DocBook HTML Stylesheet Version 1.73
"></HEAD
d38 1
a41 1
></A
d65 1
a65 1
>  [<TT
d67 1
a67 1
>-C <TT
d69 3
a71 5
><I
>config-file</I
></TT
></TT
>] [<TT
d73 1
a73 1
>-d <TT
d75 3
a77 5
><I
>debug-level</I
></TT
></TT
>] [<TT
d79 2
a80 2
>-f</TT
>] [<TT
d82 2
a83 2
>-g</TT
>] [<TT
d85 1
a85 1
>-i <TT
d87 3
a89 5
><I
>pid-file</I
></TT
></TT
>] [<TT
d91 1
a91 1
>-n <TT
d93 3
a95 5
><I
>#cpus</I
></TT
></TT
>] [<TT
d97 1
a97 1
>-P <TT
d99 3
a101 5
><I
>port</I
></TT
></TT
>] [<TT
d103 1
a103 1
>-p <TT
d105 3
a107 5
><I
>port</I
></TT
></TT
>] [<TT
d109 2
a110 2
>-s</TT
>] [<TT
d112 1
a112 1
>-t <TT
d114 3
a116 5
><I
>directory</I
></TT
></TT
>] [<TT
d118 1
a118 1
>-u <TT
d120 3
a122 5
><I
>user</I
></TT
></TT
>] [<TT
d124 1
a124 1
>-v</TT
d173 1
a173 1
	<TT
d175 1
a175 1
>nameserver</TT
d182 1
a182 1
	<TT
d184 1
a184 1
>nameserver</TT
d207 1
a207 1
>-C <TT
d209 1
a209 3
><I
>config-file</I
></TT
d213 1
a213 1
>		Use <TT
d215 1
a215 3
><I
>config-file</I
></TT
d225 1
a225 1
>-d <TT
d227 1
a227 3
><I
>debug-level</I
></TT
d231 1
a231 1
>		Set the daemon's debug level to <TT
d233 1
a233 3
><I
>debug-level</I
></TT
d261 1
a261 1
>-n <TT
d263 1
a263 3
><I
>#cpus</I
></TT
d267 1
a267 1
>		Create <TT
d269 1
a269 3
><I
>#cpus</I
></TT
d282 1
a282 1
>-P <TT
d284 1
a284 3
><I
>port</I
></TT
d289 1
a289 1
		<TT
d291 1
a291 3
><I
>port</I
></TT
d297 1
a297 1
>-p <TT
d299 1
a299 3
><I
>port</I
></TT
d303 1
a303 1
>		Send DNS lookups to port <TT
d305 1
a305 3
><I
>port</I
></TT
d337 1
a337 1
>-t <TT
d339 1
a339 3
><I
>directory</I
></TT
d343 1
a343 1
>		<TT
d345 2
a346 2
>chroot()</TT
> to <TT
d348 1
a348 3
><I
>directory</I
></TT
d373 1
a373 1
		<TT
d375 1
a375 1
>-u</TT
d378 1
a378 1
		systems; the way <TT
d380 1
a380 1
>chroot()</TT
d391 1
a391 1
>-u <TT
d393 1
a393 3
><I
>user</I
></TT
d397 1
a397 1
>		<TT
d399 2
a400 2
>setuid()</TT
> to <TT
d402 1
a402 3
><I
>user</I
></TT
d492 1
a492 1
>	Internet Software Consortium
@


1.1
log
@Initial revision
@
text
@d23 1
a23 1
CONTENT="Modular DocBook HTML Stylesheet Version 1.61
d538 1
a538 1
>@


1.1.1.1
log
@ISC BIND version 9.2.2rc1
@
text
@@


1.1.1.2
log
@ISC BIND version 9.3.0. ok deraadt@@
@
text
@a1 1
 - Copyright (C) 2004  Internet Systems Consortium, Inc. ("ISC")
d3 1
a3 1
 -
d7 9
a15 8
 -
 - THE SOFTWARE IS PROVIDED "AS IS" AND ISC DISCLAIMS ALL WARRANTIES WITH
 - REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 - AND FITNESS.  IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
 - INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 - LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE
 - OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 - PERFORMANCE OF THIS SOFTWARE.
a16 4

<!-- $ISC: lwresd.html,v 1.4.2.1.4.3 2004/08/22 23:38:59 marka Exp $ -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
d23 2
a24 1
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
a34 1
></A
d38 1
d62 1
a62 1
>  [<VAR
d64 1
a64 1
>-C <VAR
d66 5
a70 3
>config-file</VAR
></VAR
>] [<VAR
d72 1
a72 1
>-d <VAR
d74 5
a78 3
>debug-level</VAR
></VAR
>] [<VAR
d80 2
a81 2
>-f</VAR
>] [<VAR
d83 2
a84 2
>-g</VAR
>] [<VAR
d86 1
a86 1
>-i <VAR
d88 5
a92 3
>pid-file</VAR
></VAR
>] [<VAR
d94 1
a94 1
>-n <VAR
d96 5
a100 3
>#cpus</VAR
></VAR
>] [<VAR
d102 1
a102 1
>-P <VAR
d104 5
a108 3
>port</VAR
></VAR
>] [<VAR
d110 1
a110 1
>-p <VAR
d112 5
a116 3
>port</VAR
></VAR
>] [<VAR
d118 2
a119 2
>-s</VAR
>] [<VAR
d121 1
a121 1
>-t <VAR
d123 5
a127 3
>directory</VAR
></VAR
>] [<VAR
d129 1
a129 1
>-u <VAR
d131 5
a135 3
>user</VAR
></VAR
>] [<VAR
d137 1
a137 1
>-v</VAR
d186 1
a186 1
	<VAR
d188 1
a188 1
>nameserver</VAR
d195 1
a195 1
	<VAR
d197 1
a197 1
>nameserver</VAR
d220 1
a220 1
>-C <VAR
d222 3
a224 1
>config-file</VAR
d228 1
a228 1
>		Use <VAR
d230 3
a232 1
>config-file</VAR
d242 1
a242 1
>-d <VAR
d244 3
a246 1
>debug-level</VAR
d250 1
a250 1
>		Set the daemon's debug level to <VAR
d252 3
a254 1
>debug-level</VAR
d282 1
a282 1
>-n <VAR
d284 3
a286 1
>#cpus</VAR
d290 1
a290 1
>		Create <VAR
d292 3
a294 1
>#cpus</VAR
d307 1
a307 1
>-P <VAR
d309 3
a311 1
>port</VAR
d316 1
a316 1
		<VAR
d318 3
a320 1
>port</VAR
d326 1
a326 1
>-p <VAR
d328 3
a330 1
>port</VAR
d334 1
a334 1
>		Send DNS lookups to port <VAR
d336 3
a338 1
>port</VAR
d370 1
a370 1
>-t <VAR
d372 3
a374 1
>directory</VAR
d378 1
a378 1
>		<CODE
d380 2
a381 2
>chroot()</CODE
> to <VAR
d383 3
a385 1
>directory</VAR
d410 1
a410 1
		<VAR
d412 1
a412 1
>-u</VAR
d415 1
a415 1
		systems; the way <CODE
d417 1
a417 1
>chroot()</CODE
d428 1
a428 1
>-u <VAR
d430 3
a432 1
>user</VAR
d436 1
a436 1
>		<CODE
d438 2
a439 2
>setuid()</CODE
> to <VAR
d441 3
a443 1
>user</VAR
d533 1
a533 1
>	Internet Systems Consortium
d538 1
a538 1
>
@


1.1.1.3
log
@ISC BIND release 9.3.2
@
text
@d2 3
a4 3
 - Copyright (C) 2004, 2005 Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2000, 2001 Internet Software Consortium.
 - 
d8 1
a8 1
 - 
d11 1
a11 1
 - AND FITNESS. IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
d17 122
a138 21
<!-- $ISC: lwresd.html,v 1.4.2.1.4.8 2005/10/13 02:33:47 marka Exp $ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>lwresd</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en">
<a name="id2463721"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2>Name</h2>
<p><span class="application">lwresd</span> &#8212; lightweight resolver daemon</p>
</div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">lwresd</code>  [<code class="option">-C <em class="replaceable"><code>config-file</code></em></code>] [<code class="option">-d <em class="replaceable"><code>debug-level</code></em></code>] [<code class="option">-f</code>] [<code class="option">-g</code>] [<code class="option">-i <em class="replaceable"><code>pid-file</code></em></code>] [<code class="option">-n <em class="replaceable"><code>#cpus</code></em></code>] [<code class="option">-P <em class="replaceable"><code>port</code></em></code>] [<code class="option">-p <em class="replaceable"><code>port</code></em></code>] [<code class="option">-s</code>] [<code class="option">-t <em class="replaceable"><code>directory</code></em></code>] [<code class="option">-u <em class="replaceable"><code>user</code></em></code>] [<code class="option">-v</code>]</p></div>
</div>
<div class="refsect1" lang="en">
<a name="id2525920"></a><h2>DESCRIPTION</h2>
<p>
	<span><strong class="command">lwresd</strong></span> is the daemon providing name lookup
d143 6
a148 3
    </p>
<p>
	<span><strong class="command">lwresd</strong></span> listens for resolver queries on a
d150 4
a153 1
	means that <span><strong class="command">lwresd</strong></span> can only be used by
d157 3
a159 3
    </p>
<p>
	Incoming lightweight resolver requests are decoded by the
d161 4
a164 1
	the DNS lookup completes, <span><strong class="command">lwresd</strong></span> encodes
d167 13
a179 4
    </p>
<p>
	If <code class="filename">/etc/resolv.conf</code> contains any
	<code class="option">nameserver</code> entries, <span><strong class="command">lwresd</strong></span>
d182 8
a189 2
	<code class="option">nameserver</code> entries are present, or if
	forwarding fails, <span><strong class="command">lwresd</strong></span> resolves the
d192 25
a216 8
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2525969"></a><h2>OPTIONS</h2>
<div class="variablelist"><dl>
<dt><span class="term">-C <em class="replaceable"><code>config-file</code></em></span></dt>
<dd><p>
		Use <em class="replaceable"><code>config-file</code></em> as the
d218 21
a238 6
		<code class="filename">/etc/resolv.conf</code>.
          </p></dd>
<dt><span class="term">-d <em class="replaceable"><code>debug-level</code></em></span></dt>
<dd><p>
		Set the daemon's debug level to <em class="replaceable"><code>debug-level</code></em>.
		Debugging traces from <span><strong class="command">lwresd</strong></span> become
d240 31
a270 13
          </p></dd>
<dt><span class="term">-f</span></dt>
<dd><p>
		Run the server in the foreground (i.e. do not daemonize).
          </p></dd>
<dt><span class="term">-g</span></dt>
<dd><p>
		Run the server in the foreground and force all logging
		to <code class="filename">stderr</code>.
          </p></dd>
<dt><span class="term">-n <em class="replaceable"><code>#cpus</code></em></span></dt>
<dd><p>
		Create <em class="replaceable"><code>#cpus</code></em> worker threads
d272 4
a275 1
		<span><strong class="command">lwresd</strong></span> will try to determine the
d279 14
a292 5
          </p></dd>
<dt><span class="term">-P <em class="replaceable"><code>port</code></em></span></dt>
<dd><p>
		Listen for lightweight resolver queries on port
		<em class="replaceable"><code>port</code></em>.  If
d294 13
a306 4
          </p></dd>
<dt><span class="term">-p <em class="replaceable"><code>port</code></em></span></dt>
<dd><p>
		Send DNS lookups to port <em class="replaceable"><code>port</code></em>.  If not
d311 10
a320 5
          </p></dd>
<dt><span class="term">-s</span></dt>
<dd>
<p>
		Write memory usage statistics to <code class="filename">stdout</code>
d322 9
a330 5
          </p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<p>
		This option is mainly of interest to BIND 9 developers
d332 18
a349 7
	    </p>
</div>
</dd>
<dt><span class="term">-t <em class="replaceable"><code>directory</code></em></span></dt>
<dd>
<p>
		<code class="function">chroot()</code> to <em class="replaceable"><code>directory</code></em> after
d352 25
a376 6
          </p>
<div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Warning</h3>
<p>
		This option should be used in conjunction with the
		<code class="option">-u</code> option, as chrooting a process
d378 4
a381 1
		systems; the way <code class="function">chroot()</code> is
d384 20
a403 6
	    </p>
</div>
</dd>
<dt><span class="term">-u <em class="replaceable"><code>user</code></em></span></dt>
<dd><p>
		<code class="function">setuid()</code> to <em class="replaceable"><code>user</code></em> after completing
d406 92
a497 36
          </p></dd>
<dt><span class="term">-v</span></dt>
<dd><p>
		Report the version number and exit.
          </p></dd>
</dl></div>
</div>
<div class="refsect1" lang="en">
<a name="id2526237"></a><h2>FILES</h2>
<div class="variablelist"><dl>
<dt><span class="term"><code class="filename">/etc/resolv.conf</code></span></dt>
<dd><p>
		The default configuration file.
          </p></dd>
<dt><span class="term"><code class="filename">/var/run/lwresd.pid</code></span></dt>
<dd><p>
		The default process-id file.
          </p></dd>
</dl></div>
</div>
<div class="refsect1" lang="en">
<a name="id2526277"></a><h2>SEE ALSO</h2>
<p>
	<span class="citerefentry"><span class="refentrytitle">named</span>(8)</span>,
	<span class="citerefentry"><span class="refentrytitle">lwres</span>(3)</span>,
	<span class="citerefentry"><span class="refentrytitle">resolver</span>(5)</span>.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2526315"></a><h2>AUTHOR</h2>
<p>
	<span class="corpauthor">Internet Systems Consortium</span>
    </p>
</div>
</div></body>
</html>
@


1.1.1.4
log
@ISC BIND release 9.3.3
@
text
@d17 1
a17 1
<!-- $ISC: lwresd.html,v 1.4.2.1.4.10 2006/06/29 13:02:30 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.70.1">
d25 1
a25 1
<a name="id2482688"></a><div class="titlepage"></div>
d35 1
a35 1
<a name="id2549484"></a><h2>DESCRIPTION</h2>
d70 1
a70 1
<a name="id2549533"></a><h2>OPTIONS</h2>
d162 1
a162 1
<a name="id2549939"></a><h2>FILES</h2>
d175 1
a175 1
<a name="id2549978"></a><h2>SEE ALSO</h2>
d183 1
a183 1
<a name="id2550017"></a><h2>AUTHOR</h2>
@


1.1.1.5
log
@ISC BIND release 9.4.2
@
text
@d2 1
a2 1
 - Copyright (C) 2004, 2005, 2007 Internet Systems Consortium, Inc. ("ISC")
d17 1
a17 1
<!-- $ISC: lwresd.html,v 1.5.18.18 2007/05/16 06:11:27 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
d25 1
a25 1
<a name="id2476275"></a><div class="titlepage"></div>
d32 1
a32 1
<div class="cmdsynopsis"><p><code class="command">lwresd</code>  [<code class="option">-c <em class="replaceable"><code>config-file</code></em></code>] [<code class="option">-C <em class="replaceable"><code>config-file</code></em></code>] [<code class="option">-d <em class="replaceable"><code>debug-level</code></em></code>] [<code class="option">-f</code>] [<code class="option">-g</code>] [<code class="option">-i <em class="replaceable"><code>pid-file</code></em></code>] [<code class="option">-m <em class="replaceable"><code>flag</code></em></code>] [<code class="option">-n <em class="replaceable"><code>#cpus</code></em></code>] [<code class="option">-P <em class="replaceable"><code>port</code></em></code>] [<code class="option">-p <em class="replaceable"><code>port</code></em></code>] [<code class="option">-s</code>] [<code class="option">-t <em class="replaceable"><code>directory</code></em></code>] [<code class="option">-u <em class="replaceable"><code>user</code></em></code>] [<code class="option">-v</code>] [<code class="option">-4</code>] [<code class="option">-6</code>]</p></div>
d35 7
a41 7
<a name="id2543461"></a><h2>DESCRIPTION</h2>
<p><span><strong class="command">lwresd</strong></span>
      is the daemon providing name lookup
      services to clients that use the BIND 9 lightweight resolver
      library.  It is essentially a stripped-down, caching-only name
      server that answers queries using the BIND 9 lightweight
      resolver protocol rather than the DNS protocol.
d43 7
a49 7
<p><span><strong class="command">lwresd</strong></span> 
      listens for resolver queries on a
      UDP port on the IPv4 loopback interface, 127.0.0.1.  This
      means that <span><strong class="command">lwresd</strong></span> can only be used by
      processes running on the local machine.  By default UDP port
      number 921 is used for lightweight resolver requests and
      responses.
d52 5
a56 5
      Incoming lightweight resolver requests are decoded by the
      server which then resolves them using the DNS protocol.  When
      the DNS lookup completes, <span><strong class="command">lwresd</strong></span> encodes
      the answers in the lightweight resolver format and returns
      them to the client that made the request.
d59 8
a66 8
      If <code class="filename">/etc/resolv.conf</code> contains any
      <code class="option">nameserver</code> entries, <span><strong class="command">lwresd</strong></span>
      sends recursive DNS queries to those servers.  This is similar
      to the use of forwarders in a caching name server.  If no
      <code class="option">nameserver</code> entries are present, or if
      forwarding fails, <span><strong class="command">lwresd</strong></span> resolves the
      queries autonomously starting at the root name servers, using
      a built-in list of root server hints.
d70 1
a70 1
<a name="id2543508"></a><h2>OPTIONS</h2>
a71 20
<dt><span class="term">-4</span></dt>
<dd><p>
            Use IPv4 only even if the host machine is capable of IPv6.
            <code class="option">-4</code> and <code class="option">-6</code> are mutually
            exclusive.
          </p></dd>
<dt><span class="term">-6</span></dt>
<dd><p>
            Use IPv6 only even if the host machine is capable of IPv4.
            <code class="option">-4</code> and <code class="option">-6</code> are mutually
            exclusive.
          </p></dd>
<dt><span class="term">-c <em class="replaceable"><code>config-file</code></em></span></dt>
<dd><p>
            Use <em class="replaceable"><code>config-file</code></em> as the
            configuration file instead of the default,
            <code class="filename">/etc/lwresd.conf</code>.
	    
	    <font color="red">&lt;term&gt;-c&lt;/term&gt;</font> can not be used with <font color="red">&lt;term&gt;-C&lt;/term&gt;</font>.
          </p></dd>
d74 3
a76 4
            Use <em class="replaceable"><code>config-file</code></em> as the
            configuration file instead of the default,
            <code class="filename">/etc/resolv.conf</code>.
	    <font color="red">&lt;term&gt;-C&lt;/term&gt;</font> can not be used with <font color="red">&lt;term&gt;-c&lt;/term&gt;</font>.
d80 3
a82 3
            Set the daemon's debug level to <em class="replaceable"><code>debug-level</code></em>.
            Debugging traces from <span><strong class="command">lwresd</strong></span> become
            		more verbose as the debug level increases.
d86 1
a86 1
            Run the server in the foreground (i.e. do not daemonize).
d90 2
a91 19
            Run the server in the foreground and force all logging
            to <code class="filename">stderr</code>.
          </p></dd>
<dt><span class="term">-i <em class="replaceable"><code>pid-file</code></em></span></dt>
<dd><p>
            Use <em class="replaceable"><code>pid-file</code></em> as the
            PID file instead of the default,
            <code class="filename">/var/run/lwresd.pid</code>.
          </p></dd>
<dt><span class="term">-m <em class="replaceable"><code>flag</code></em></span></dt>
<dd><p>
            Turn on memory usage debugging flags.  Possible flags are
            <em class="replaceable"><code>usage</code></em>,
            <em class="replaceable"><code>trace</code></em>,
            <em class="replaceable"><code>record</code></em>,
            <em class="replaceable"><code>size</code></em>, and
            <em class="replaceable"><code>mctx</code></em>.  
            These correspond to the ISC_MEM_DEBUGXXXX flags described in
            <code class="filename">&lt;isc/mem.h&gt;</code>.
d95 6
a100 6
            Create <em class="replaceable"><code>#cpus</code></em> worker threads
            to take advantage of multiple CPUs.  If not specified,
            <span><strong class="command">lwresd</strong></span> will try to determine the
            number of CPUs present and create one thread per CPU.
            If it is unable to determine the number of CPUs, a
            single worker thread will be created.
d104 3
a106 3
            Listen for lightweight resolver queries on port
            <em class="replaceable"><code>port</code></em>.  If
            		not specified, the default is port 921.
d110 5
a114 5
            Send DNS lookups to port <em class="replaceable"><code>port</code></em>.  If not
            specified, the default is port 53.  This provides a
            way of testing the lightweight resolver daemon with a
            name server that listens for queries on a non-standard
            port number.
d119 2
a120 2
            Write memory usage statistics to <code class="filename">stdout</code>
            on exit.
d125 3
a127 3
              This option is mainly of interest to BIND 9 developers
              and may be removed or changed in a future release.
            </p>
d132 4
a135 4
<p>Chroot
	    to <em class="replaceable"><code>directory</code></em> after
            processing the command line arguments, but before
            reading the configuration file.
d140 7
a146 7
              This option should be used in conjunction with the
              <code class="option">-u</code> option, as chrooting a process
              running as root doesn't enhance security on most
              systems; the way <code class="function">chroot(2)</code> is
              defined allows a process with root privileges to
              escape a chroot jail.
            </p>
d150 4
a153 4
<dd><p>Setuid
	    to <em class="replaceable"><code>user</code></em> after completing
            privileged operations, such as creating sockets that
            listen on privileged ports.
d157 1
a157 1
            Report the version number and exit.
d162 1
a162 1
<a name="id2543925"></a><h2>FILES</h2>
d166 1
a166 1
            The default configuration file.
d170 1
a170 1
            The default process-id file.
d175 5
a179 4
<a name="id2543964"></a><h2>SEE ALSO</h2>
<p><span class="citerefentry"><span class="refentrytitle">named</span>(8)</span>,
      <span class="citerefentry"><span class="refentrytitle">lwres</span>(3)</span>,
      <span class="citerefentry"><span class="refentrytitle">resolver</span>(5)</span>.
d183 3
a185 2
<a name="id2543998"></a><h2>AUTHOR</h2>
<p><span class="corpauthor">Internet Systems Consortium</span>
@


