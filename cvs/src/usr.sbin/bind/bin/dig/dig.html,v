head	1.7;
access;
symbols
	OPENBSD_6_2_BASE:1.7
	OPENBSD_6_1:1.7.0.40
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.7.0.36
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.32
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.34
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.26
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.30
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.28
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.24
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.22
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.20
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.18
	OPENBSD_5_0:1.7.0.16
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.14
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.12
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.8
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.10
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.6
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.4
	OPENBSD_4_4_BASE:1.7
	BIND_9_4_2_P1:1.1.1.5
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	BIND_9_4_2:1.1.1.5
	OPENBSD_4_2:1.6.0.4
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.6.0.2
	OPENBSD_4_1_BASE:1.6
	BIND_9_3_4:1.1.1.4
	BIND_9_3_3:1.1.1.4
	OPENBSD_4_0:1.5.0.2
	OPENBSD_4_0_BASE:1.5
	BIND_9_3_2:1.1.1.3
	OPENBSD_3_9:1.4.0.6
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.4
	OPENBSD_3_8_BASE:1.4
	BIND_9_3_1:1.1.1.2
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	BIND_9_3_0:1.1.1.2
	OPENBSD_3_6:1.3.0.4
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.2.0.4
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2
	BIND_9_2_2_RC1:1.1.1.1
	ISC:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2007.12.09.13.39.42;	author jakob;	state Exp;
branches;
next	1.6;

1.6
date	2007.01.10.19.07.58;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2006.04.05.17.36.32;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	2004.09.28.17.14.02;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2003.11.18.14.14.05;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.05.09.18.31;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.20.21.06.03;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.20.21.06.03;	author jakob;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2004.09.28.16.32.44;	author jakob;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2006.04.05.16.42.00;	author jakob;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2007.01.10.18.18.16;	author jakob;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2007.12.09.12.33.18;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.7
log
@resolve conflicts
@
text
@<!--
 - Copyright (C) 2004-2007 Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2000-2003 Internet Software Consortium.
 - 
 - Permission to use, copy, modify, and distribute this software for any
 - purpose with or without fee is hereby granted, provided that the above
 - copyright notice and this permission notice appear in all copies.
 - 
 - THE SOFTWARE IS PROVIDED "AS IS" AND ISC DISCLAIMS ALL WARRANTIES WITH
 - REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 - AND FITNESS. IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
 - INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 - LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE
 - OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 - PERFORMANCE OF THIS SOFTWARE.
-->
<!-- $ISC: dig.html,v 1.13.18.28 2007/05/16 06:11:27 marka Exp $ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>dig</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en">
<a name="man.dig"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2>Name</h2>
<p>dig &#8212; DNS lookup utility</p>
</div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">dig</code>  [@@server] [<code class="option">-b <em class="replaceable"><code>address</code></em></code>] [<code class="option">-c <em class="replaceable"><code>class</code></em></code>] [<code class="option">-f <em class="replaceable"><code>filename</code></em></code>] [<code class="option">-k <em class="replaceable"><code>filename</code></em></code>] [<code class="option">-p <em class="replaceable"><code>port#</code></em></code>] [<code class="option">-q <em class="replaceable"><code>name</code></em></code>] [<code class="option">-t <em class="replaceable"><code>type</code></em></code>] [<code class="option">-x <em class="replaceable"><code>addr</code></em></code>] [<code class="option">-y <em class="replaceable"><code>[<span class="optional">hmac:</span>]name:key</code></em></code>] [<code class="option">-4</code>] [<code class="option">-6</code>] [name] [type] [class] [queryopt...]</p></div>
<div class="cmdsynopsis"><p><code class="command">dig</code>  [<code class="option">-h</code>]</p></div>
<div class="cmdsynopsis"><p><code class="command">dig</code>  [global-queryopt...] [query...]</p></div>
</div>
<div class="refsect1" lang="en">
<a name="id2543508"></a><h2>DESCRIPTION</h2>
<p><span><strong class="command">dig</strong></span>
      (domain information groper) is a flexible tool
      for interrogating DNS name servers.  It performs DNS lookups and
      displays the answers that are returned from the name server(s) that
      were queried.  Most DNS administrators use <span><strong class="command">dig</strong></span> to
      troubleshoot DNS problems because of its flexibility, ease of use and
      clarity of output.  Other lookup tools tend to have less functionality
      than <span><strong class="command">dig</strong></span>.
    </p>
<p>
      Although <span><strong class="command">dig</strong></span> is normally used with
      command-line
      arguments, it also has a batch mode of operation for reading lookup
      requests from a file.  A brief summary of its command-line arguments
      and options is printed when the <code class="option">-h</code> option is given.
      Unlike earlier versions, the BIND 9 implementation of
      <span><strong class="command">dig</strong></span> allows multiple lookups to be issued
      from the
      command line.
    </p>
<p>
      Unless it is told to query a specific name server,
      <span><strong class="command">dig</strong></span> will try each of the servers listed
      in
      <code class="filename">/etc/resolv.conf</code>.
    </p>
<p>
      When no command line arguments or options are given, will perform an
      NS query for "." (the root).
    </p>
<p>
      It is possible to set per-user defaults for <span><strong class="command">dig</strong></span> via
      <code class="filename">${HOME}/.digrc</code>.  This file is read and
      any options in it
      are applied before the command line arguments.
    </p>
<p>
      The IN and CH class names overlap with the IN and CH top level
      domains names.  Either use the <code class="option">-t</code> and
      <code class="option">-c</code> options to specify the type and class or
      use the <code class="option">-q</code> the specify the domain name or
      use "IN." and "CH." when looking up these top level domains.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2543577"></a><h2>SIMPLE USAGE</h2>
<p>
      A typical invocation of <span><strong class="command">dig</strong></span> looks like:
      </p>
<pre class="programlisting"> dig @@server name type </pre>
<p>
      where:

      </p>
<div class="variablelist"><dl>
<dt><span class="term"><code class="constant">server</code></span></dt>
<dd><p>
              is the name or IP address of the name server to query.  This can
              be an IPv4
              address in dotted-decimal notation or an IPv6
              address in colon-delimited notation.  When the supplied
              <em class="parameter"><code>server</code></em> argument is a
              hostname,
              <span><strong class="command">dig</strong></span> resolves that name before
              querying that name
              server.  If no <em class="parameter"><code>server</code></em>
              argument is provided,
              <span><strong class="command">dig</strong></span> consults <code class="filename">/etc/resolv.conf</code>
              and queries the name servers listed there.  The reply from the
              name
              server that responds is displayed.
            </p></dd>
<dt><span class="term"><code class="constant">name</code></span></dt>
<dd><p>
              is the name of the resource record that is to be looked up.
            </p></dd>
<dt><span class="term"><code class="constant">type</code></span></dt>
<dd><p>
              indicates what type of query is required &#8212;
              ANY, A, MX, SIG, etc.
              <em class="parameter"><code>type</code></em> can be any valid query
              type.  If no
              <em class="parameter"><code>type</code></em> argument is supplied,
              <span><strong class="command">dig</strong></span> will perform a lookup for an
              A record.
            </p></dd>
</dl></div>
<p>
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2543668"></a><h2>OPTIONS</h2>
<p>
      The <code class="option">-b</code> option sets the source IP address of the query
      to <em class="parameter"><code>address</code></em>.  This must be a valid
      address on
      one of the host's network interfaces or "0.0.0.0" or "::".  An optional
      port
      may be specified by appending "#&lt;port&gt;"
    </p>
<p>
      The default query class (IN for internet) is overridden by the
      <code class="option">-c</code> option.  <em class="parameter"><code>class</code></em> is
      any valid
      class, such as HS for Hesiod records or CH for Chaosnet records.
    </p>
<p>
      The <code class="option">-f</code> option makes <span><strong class="command">dig </strong></span>
      operate
      in batch mode by reading a list of lookup requests to process from the
      file <em class="parameter"><code>filename</code></em>.  The file contains a
      number of
      queries, one per line.  Each entry in the file should be organized in
      the same way they would be presented as queries to
      <span><strong class="command">dig</strong></span> using the command-line interface.
    </p>
<p>
      If a non-standard port number is to be queried, the
      <code class="option">-p</code> option is used.  <em class="parameter"><code>port#</code></em> is
      the port number that <span><strong class="command">dig</strong></span> will send its
      queries
      instead of the standard DNS port number 53.  This option would be used
      to test a name server that has been configured to listen for queries
      on a non-standard port number.
    </p>
<p>
      The <code class="option">-4</code> option forces <span><strong class="command">dig</strong></span>
      to only
      use IPv4 query transport.  The <code class="option">-6</code> option forces
      <span><strong class="command">dig</strong></span> to only use IPv6 query transport.
    </p>
<p>
      The <code class="option">-t</code> option sets the query type to
      <em class="parameter"><code>type</code></em>.  It can be any valid query type
      which is
      supported in BIND 9.  The default query type is "A", unless the
      <code class="option">-x</code> option is supplied to indicate a reverse lookup.
      A zone transfer can be requested by specifying a type of AXFR.  When
      an incremental zone transfer (IXFR) is required,
      <em class="parameter"><code>type</code></em> is set to <code class="literal">ixfr=N</code>.
      The incremental zone transfer will contain the changes made to the zone
      since the serial number in the zone's SOA record was
      <em class="parameter"><code>N</code></em>.
    </p>
<p>
      The <code class="option">-q</code> option sets the query name to 
      <em class="parameter"><code>name</code></em>.  This useful do distinguish the
      <em class="parameter"><code>name</code></em> from other arguments.
    </p>
<p>
      Reverse lookups &#8212; mapping addresses to names &#8212; are simplified by the
      <code class="option">-x</code> option.  <em class="parameter"><code>addr</code></em> is
      an IPv4
      address in dotted-decimal notation, or a colon-delimited IPv6 address.
      When this option is used, there is no need to provide the
      <em class="parameter"><code>name</code></em>, <em class="parameter"><code>class</code></em> and
      <em class="parameter"><code>type</code></em> arguments.  <span><strong class="command">dig</strong></span>
      automatically performs a lookup for a name like
      <code class="literal">11.12.13.10.in-addr.arpa</code> and sets the
      query type and
      class to PTR and IN respectively.  By default, IPv6 addresses are
      looked up using nibble format under the IP6.ARPA domain.
      To use the older RFC1886 method using the IP6.INT domain
      specify the <code class="option">-i</code> option.  Bit string labels (RFC2874)
      are now experimental and are not attempted.
    </p>
<p>
      To sign the DNS queries sent by <span><strong class="command">dig</strong></span> and
      their
      responses using transaction signatures (TSIG), specify a TSIG key file
      using the <code class="option">-k</code> option.  You can also specify the TSIG
      key itself on the command line using the <code class="option">-y</code> option;
      <em class="parameter"><code>hmac</code></em> is the type of the TSIG, default HMAC-MD5,
      <em class="parameter"><code>name</code></em> is the name of the TSIG key and
      <em class="parameter"><code>key</code></em> is the actual key.  The key is a
      base-64
      encoded string, typically generated by
      <span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>.

      Caution should be taken when using the <code class="option">-y</code> option on
      multi-user systems as the key can be visible in the output from
      <span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span>
      or in the shell's history file.  When
      using TSIG authentication with <span><strong class="command">dig</strong></span>, the name
      server that is queried needs to know the key and algorithm that is
      being used.  In BIND, this is done by providing appropriate
      <span><strong class="command">key</strong></span> and <span><strong class="command">server</strong></span> statements in
      <code class="filename">named.conf</code>.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2543939"></a><h2>QUERY OPTIONS</h2>
<p><span><strong class="command">dig</strong></span>
      provides a number of query options which affect
      the way in which lookups are made and the results displayed.  Some of
      these set or reset flag bits in the query header, some determine which
      sections of the answer get printed, and others determine the timeout
      and retry strategies.
    </p>
<p>
      Each query option is identified by a keyword preceded by a plus sign
      (<code class="literal">+</code>).  Some keywords set or reset an
      option.  These may be preceded
      by the string <code class="literal">no</code> to negate the meaning of
      that keyword.  Other
      keywords assign values to options like the timeout interval.  They
      have the form <code class="option">+keyword=value</code>.
      The query options are:

      </p>
<div class="variablelist"><dl>
<dt><span class="term"><code class="option">+[no]tcp</code></span></dt>
<dd><p>
              Use [do not use] TCP when querying name servers.  The default
              behavior is to use UDP unless an AXFR or IXFR query is
              requested, in
              which case a TCP connection is used.
            </p></dd>
<dt><span class="term"><code class="option">+[no]vc</code></span></dt>
<dd><p>
              Use [do not use] TCP when querying name servers.  This alternate
              syntax to <em class="parameter"><code>+[no]tcp</code></em> is
              provided for backwards
              compatibility.  The "vc" stands for "virtual circuit".
            </p></dd>
<dt><span class="term"><code class="option">+[no]ignore</code></span></dt>
<dd><p>
              Ignore truncation in UDP responses instead of retrying with TCP.
               By
              default, TCP retries are performed.
            </p></dd>
<dt><span class="term"><code class="option">+domain=somename</code></span></dt>
<dd><p>
              Set the search list to contain the single domain
              <em class="parameter"><code>somename</code></em>, as if specified in
              a
              <span><strong class="command">domain</strong></span> directive in
              <code class="filename">/etc/resolv.conf</code>, and enable
              search list
              processing as if the <em class="parameter"><code>+search</code></em>
              option were given.
            </p></dd>
<dt><span class="term"><code class="option">+[no]search</code></span></dt>
<dd><p>
              Use [do not use] the search list defined by the searchlist or
              domain
              directive in <code class="filename">resolv.conf</code> (if
              any).
              The search list is not used by default.
            </p></dd>
<dt><span class="term"><code class="option">+[no]showsearch</code></span></dt>
<dd><p>
              Perform [do not perform] a search showing intermediate
	      results.
            </p></dd>
<dt><span class="term"><code class="option">+[no]defname</code></span></dt>
<dd><p>
              Deprecated, treated as a synonym for <em class="parameter"><code>+[no]search</code></em>
            </p></dd>
<dt><span class="term"><code class="option">+[no]aaonly</code></span></dt>
<dd><p>
              Sets the "aa" flag in the query.
            </p></dd>
<dt><span class="term"><code class="option">+[no]aaflag</code></span></dt>
<dd><p>
              A synonym for <em class="parameter"><code>+[no]aaonly</code></em>.
            </p></dd>
<dt><span class="term"><code class="option">+[no]adflag</code></span></dt>
<dd><p>
              Set [do not set] the AD (authentic data) bit in the query.  The
              AD bit
              currently has a standard meaning only in responses, not in
              queries,
              but the ability to set the bit in the query is provided for
              completeness.
            </p></dd>
<dt><span class="term"><code class="option">+[no]cdflag</code></span></dt>
<dd><p>
              Set [do not set] the CD (checking disabled) bit in the query.
              This
              requests the server to not perform DNSSEC validation of
              responses.
            </p></dd>
<dt><span class="term"><code class="option">+[no]cl</code></span></dt>
<dd><p>
              Display [do not display] the CLASS when printing the record.
            </p></dd>
<dt><span class="term"><code class="option">+[no]ttlid</code></span></dt>
<dd><p>
              Display [do not display] the TTL when printing the record.
            </p></dd>
<dt><span class="term"><code class="option">+[no]recurse</code></span></dt>
<dd><p>
              Toggle the setting of the RD (recursion desired) bit in the
              query.
              This bit is set by default, which means <span><strong class="command">dig</strong></span>
              normally sends recursive queries.  Recursion is automatically
              disabled
              when the <em class="parameter"><code>+nssearch</code></em> or
              <em class="parameter"><code>+trace</code></em> query options are
              used.
            </p></dd>
<dt><span class="term"><code class="option">+[no]nssearch</code></span></dt>
<dd><p>
              When this option is set, <span><strong class="command">dig</strong></span>
              attempts to find the
              authoritative name servers for the zone containing the name
              being
              looked up and display the SOA record that each name server has
              for the
              zone.
            </p></dd>
<dt><span class="term"><code class="option">+[no]trace</code></span></dt>
<dd><p>
              Toggle tracing of the delegation path from the root name servers
              for
              the name being looked up.  Tracing is disabled by default.  When
              tracing is enabled, <span><strong class="command">dig</strong></span> makes
              iterative queries to
              resolve the name being looked up.  It will follow referrals from
              the
              root servers, showing the answer from each server that was used
              to
              resolve the lookup.
            </p></dd>
<dt><span class="term"><code class="option">+[no]cmd</code></span></dt>
<dd><p>
              Toggles the printing of the initial comment in the output
              identifying
              the version of <span><strong class="command">dig</strong></span> and the query
              options that have
              been applied.  This comment is printed by default.
            </p></dd>
<dt><span class="term"><code class="option">+[no]short</code></span></dt>
<dd><p>
              Provide a terse answer.  The default is to print the answer in a
              verbose form.
            </p></dd>
<dt><span class="term"><code class="option">+[no]identify</code></span></dt>
<dd><p>
              Show [or do not show] the IP address and port number that
              supplied the
              answer when the <em class="parameter"><code>+short</code></em> option
              is enabled.  If
              short form answers are requested, the default is not to show the
              source address and port number of the server that provided the
              answer.
            </p></dd>
<dt><span class="term"><code class="option">+[no]comments</code></span></dt>
<dd><p>
              Toggle the display of comment lines in the output.  The default
              is to
              print comments.
            </p></dd>
<dt><span class="term"><code class="option">+[no]stats</code></span></dt>
<dd><p>
              This query option toggles the printing of statistics: when the
              query
              was made, the size of the reply and so on.  The default
              behavior is
              to print the query statistics.
            </p></dd>
<dt><span class="term"><code class="option">+[no]qr</code></span></dt>
<dd><p>
              Print [do not print] the query as it is sent.
              By default, the query is not printed.
            </p></dd>
<dt><span class="term"><code class="option">+[no]question</code></span></dt>
<dd><p>
              Print [do not print] the question section of a query when an
              answer is
              returned.  The default is to print the question section as a
              comment.
            </p></dd>
<dt><span class="term"><code class="option">+[no]answer</code></span></dt>
<dd><p>
              Display [do not display] the answer section of a reply.  The
              default
              is to display it.
            </p></dd>
<dt><span class="term"><code class="option">+[no]authority</code></span></dt>
<dd><p>
              Display [do not display] the authority section of a reply.  The
              default is to display it.
            </p></dd>
<dt><span class="term"><code class="option">+[no]additional</code></span></dt>
<dd><p>
              Display [do not display] the additional section of a reply.
              The default is to display it.
            </p></dd>
<dt><span class="term"><code class="option">+[no]all</code></span></dt>
<dd><p>
              Set or clear all display flags.
            </p></dd>
<dt><span class="term"><code class="option">+time=T</code></span></dt>
<dd><p>

              Sets the timeout for a query to
              <em class="parameter"><code>T</code></em> seconds.  The default
	      timeout is 5 seconds.
              An attempt to set <em class="parameter"><code>T</code></em> to less
              than 1 will result
              in a query timeout of 1 second being applied.
            </p></dd>
<dt><span class="term"><code class="option">+tries=T</code></span></dt>
<dd><p>
              Sets the number of times to try UDP queries to server to
              <em class="parameter"><code>T</code></em> instead of the default, 3.
              If
              <em class="parameter"><code>T</code></em> is less than or equal to
              zero, the number of
              tries is silently rounded up to 1.
            </p></dd>
<dt><span class="term"><code class="option">+retry=T</code></span></dt>
<dd><p>
              Sets the number of times to retry UDP queries to server to
              <em class="parameter"><code>T</code></em> instead of the default, 2.
              Unlike
              <em class="parameter"><code>+tries</code></em>, this does not include
              the initial
              query.
            </p></dd>
<dt><span class="term"><code class="option">+ndots=D</code></span></dt>
<dd><p>
              Set the number of dots that have to appear in
              <em class="parameter"><code>name</code></em> to <em class="parameter"><code>D</code></em> for it to be
              considered absolute.  The default value is that defined using
              the
              ndots statement in <code class="filename">/etc/resolv.conf</code>, or 1 if no
              ndots statement is present.  Names with fewer dots are
              interpreted as
              relative names and will be searched for in the domains listed in
              the
              <code class="option">search</code> or <code class="option">domain</code> directive in
              <code class="filename">/etc/resolv.conf</code>.
            </p></dd>
<dt><span class="term"><code class="option">+bufsize=B</code></span></dt>
<dd><p>
              Set the UDP message buffer size advertised using EDNS0 to
              <em class="parameter"><code>B</code></em> bytes.  The maximum and minimum sizes
	      of this buffer are 65535 and 0 respectively.  Values outside
	      this range are rounded up or down appropriately.  
	      Values other than zero will cause a EDNS query to be sent.
            </p></dd>
<dt><span class="term"><code class="option">+edns=#</code></span></dt>
<dd><p>
	       Specify the EDNS version to query with.  Valid values
	       are 0 to 255.  Setting the EDNS version will cause a
	       EDNS query to be sent.  <code class="option">+noedns</code> clears the
	       remembered EDNS version.
	    </p></dd>
<dt><span class="term"><code class="option">+[no]multiline</code></span></dt>
<dd><p>
              Print records like the SOA records in a verbose multi-line
              format with human-readable comments.  The default is to print
              each record on a single line, to facilitate machine parsing
              of the <span><strong class="command">dig</strong></span> output.
            </p></dd>
<dt><span class="term"><code class="option">+[no]fail</code></span></dt>
<dd><p>
              Do not try the next server if you receive a SERVFAIL.  The
              default is
              to not try the next server which is the reverse of normal stub
              resolver
              behavior.
            </p></dd>
<dt><span class="term"><code class="option">+[no]besteffort</code></span></dt>
<dd><p>
              Attempt to display the contents of messages which are malformed.
              The default is to not display malformed answers.
            </p></dd>
<dt><span class="term"><code class="option">+[no]dnssec</code></span></dt>
<dd><p>
              Requests DNSSEC records be sent by setting the DNSSEC OK bit
              (DO)
              in the OPT record in the additional section of the query.
            </p></dd>
<dt><span class="term"><code class="option">+[no]sigchase</code></span></dt>
<dd><p>
              Chase DNSSEC signature chains.  Requires dig be compiled with
              -DDIG_SIGCHASE.
            </p></dd>
<dt><span class="term"><code class="option">+trusted-key=####</code></span></dt>
<dd>
<p>
              Specifies a file containing trusted keys to be used with
	      <code class="option">+sigchase</code>.  Each DNSKEY record must be
	      on its own line.
            </p>
<p>
	      If not specified <span><strong class="command">dig</strong></span> will look for
	      <code class="filename">/etc/trusted-key.key</code> then
	      <code class="filename">trusted-key.key</code> in the current directory.
	    </p>
<p>
              Requires dig be compiled with -DDIG_SIGCHASE.
	    </p>
</dd>
<dt><span class="term"><code class="option">+[no]topdown</code></span></dt>
<dd><p>
              When chasing DNSSEC signature chains perform a top-down
              validation.
              Requires dig be compiled with -DDIG_SIGCHASE.
            </p></dd>
</dl></div>
<p>

    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2545128"></a><h2>MULTIPLE QUERIES</h2>
<p>
      The BIND 9 implementation of <span><strong class="command">dig </strong></span>
      supports
      specifying multiple queries on the command line (in addition to
      supporting the <code class="option">-f</code> batch file option).  Each of those
      queries can be supplied with its own set of flags, options and query
      options.
    </p>
<p>
      In this case, each <em class="parameter"><code>query</code></em> argument
      represent an
      individual query in the command-line syntax described above.  Each
      consists of any of the standard options and flags, the name to be
      looked up, an optional query type and class and any query options that
      should be applied to that query.
    </p>
<p>
      A global set of query options, which should be applied to all queries,
      can also be supplied.  These global query options must precede the
      first tuple of name, class, type, options, flags, and query options
      supplied on the command line.  Any global query options (except
      the <code class="option">+[no]cmd</code> option) can be
      overridden by a query-specific set of query options.  For example:
      </p>
<pre class="programlisting">
dig +qr www.isc.org any -x 127.0.0.1 isc.org ns +noqr
</pre>
<p>
      shows how <span><strong class="command">dig</strong></span> could be used from the
      command line
      to make three lookups: an ANY query for <code class="literal">www.isc.org</code>, a
      reverse lookup of 127.0.0.1 and a query for the NS records of
      <code class="literal">isc.org</code>.

      A global query option of <em class="parameter"><code>+qr</code></em> is
      applied, so
      that <span><strong class="command">dig</strong></span> shows the initial query it made
      for each
      lookup.  The final query has a local query option of
      <em class="parameter"><code>+noqr</code></em> which means that <span><strong class="command">dig</strong></span>
      will not print the initial query when it looks up the NS records for
      <code class="literal">isc.org</code>.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2545258"></a><h2>IDN SUPPORT</h2>
<p>
      If <span><strong class="command">dig</strong></span> has been built with IDN (internationalized
      domain name) support, it can accept and display non-ASCII domain names.
      <span><strong class="command">dig</strong></span> appropriately converts character encoding of
      domain name before sending a request to DNS server or displaying a
      reply from the server.
      If you'd like to turn off the IDN support for some reason, defines
      the <code class="envar">IDN_DISABLE</code> environment variable.
      The IDN support is disabled if the variable is set when 
      <span><strong class="command">dig</strong></span> runs.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2545281"></a><h2>FILES</h2>
<p><code class="filename">/etc/resolv.conf</code>
    </p>
<p><code class="filename">${HOME}/.digrc</code>
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2545298"></a><h2>SEE ALSO</h2>
<p><span class="citerefentry"><span class="refentrytitle">host</span>(1)</span>,
      <span class="citerefentry"><span class="refentrytitle">named</span>(8)</span>,
      <span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>,
      <em class="citetitle">RFC1035</em>.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2545335"></a><h2>BUGS</h2>
<p>
      There are probably too many query options.
    </p>
</div>
</div></body>
</html>
@


1.6
log
@resolve conflicts and regen configure script
@
text
@d2 1
a2 1
 - Copyright (C) 2004, 2005 Internet Systems Consortium, Inc. ("ISC")
d17 1
a17 1
<!-- $ISC: dig.html,v 1.6.2.4.2.15 2006/06/29 13:02:30 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.70.1">
d25 1
a25 1
<a name="id2482688"></a><div class="titlepage"></div>
d32 1
a32 1
<div class="cmdsynopsis"><p><code class="command">dig</code>  [@@server] [<code class="option">-b <em class="replaceable"><code>address</code></em></code>] [<code class="option">-c <em class="replaceable"><code>class</code></em></code>] [<code class="option">-f <em class="replaceable"><code>filename</code></em></code>] [<code class="option">-k <em class="replaceable"><code>filename</code></em></code>] [<code class="option">-p <em class="replaceable"><code>port#</code></em></code>] [<code class="option">-t <em class="replaceable"><code>type</code></em></code>] [<code class="option">-x <em class="replaceable"><code>addr</code></em></code>] [<code class="option">-y <em class="replaceable"><code>name:key</code></em></code>] [<code class="option">-4</code>] [<code class="option">-6</code>] [name] [type] [class] [queryopt...]</p></div>
d37 44
a80 33
<a name="id2549541"></a><h2>DESCRIPTION</h2>
<p>
<span><strong class="command">dig</strong></span> (domain information groper) is a flexible tool
for interrogating DNS name servers.  It performs DNS lookups and
displays the answers that are returned from the name server(s) that
were queried.  Most DNS administrators use <span><strong class="command">dig</strong></span> to
troubleshoot DNS problems because of its flexibility, ease of use and
clarity of output.  Other lookup tools tend to have less functionality
than <span><strong class="command">dig</strong></span>.
</p>
<p>
Although <span><strong class="command">dig</strong></span> is normally used with command-line
arguments, it also has a batch mode of operation for reading lookup
requests from a file.  A brief summary of its command-line arguments
and options is printed when the <code class="option">-h</code> option is given.
Unlike earlier versions, the BIND9 implementation of
<span><strong class="command">dig</strong></span> allows multiple lookups to be issued from the
command line.
</p>
<p>
Unless it is told to query a specific name server,
<span><strong class="command">dig</strong></span> will try each of the servers listed in
<code class="filename">/etc/resolv.conf</code>.
</p>
<p>
When no command line arguments or options are given, will perform an
NS query for "." (the root).
</p>
<p>
It is possible to set per-user defaults for <span><strong class="command">dig</strong></span> via
<code class="filename">${HOME}/.digrc</code>.  This file is read and any options in it
are applied before the command line arguments.
</p>
d83 1
a83 1
<a name="id2549600"></a><h2>SIMPLE USAGE</h2>
d85 2
a86 2
A typical invocation of <span><strong class="command">dig</strong></span> looks like:
</p>
d88 2
a89 1
<p> where:
d91 1
a91 1
</p>
d95 15
a109 10
is the name or IP address of the name server to query.  This can be an IPv4
address in dotted-decimal notation or an IPv6
address in colon-delimited notation.  When the supplied
<em class="parameter"><code>server</code></em> argument is a hostname,
<span><strong class="command">dig</strong></span> resolves that name before querying that name
server.  If no <em class="parameter"><code>server</code></em> argument is provided,
<span><strong class="command">dig</strong></span> consults <code class="filename">/etc/resolv.conf</code>
and queries the name servers listed there.  The reply from the name
server that responds is displayed.
</p></dd>
d112 2
a113 2
is the name of the resource record that is to be looked up.
</p></dd>
d116 8
a123 6
indicates what type of query is required &#8212;
ANY, A, MX, SIG, etc.
<em class="parameter"><code>type</code></em> can be any valid query type.  If no
<em class="parameter"><code>type</code></em> argument is supplied,
<span><strong class="command">dig</strong></span> will perform a lookup for an A record.
</p></dd>
d126 1
a126 1
</p>
d129 1
a129 1
<a name="id2549747"></a><h2>OPTIONS</h2>
d131 85
a215 66
The <code class="option">-b</code> option sets the source IP address of the query
to <em class="parameter"><code>address</code></em>.  This must be a valid address on
one of the host's network interfaces or "0.0.0.0" or "::".  An optional port
may be specified by appending "#&lt;port&gt;"
</p>
<p>
The default query class (IN for internet) is overridden by the
<code class="option">-c</code> option.  <em class="parameter"><code>class</code></em> is any valid
class, such as HS for Hesiod records or CH for CHAOSNET records.
</p>
<p>
The <code class="option">-f</code> option makes <span><strong class="command">dig </strong></span> operate
in batch mode by reading a list of lookup requests to process from the
file <em class="parameter"><code>filename</code></em>.  The file contains a number of
queries, one per line.  Each entry in the file should be organised in
the same way they would be presented as queries to
<span><strong class="command">dig</strong></span> using the command-line interface.
</p>
<p>
If a non-standard port number is to be queried, the
<code class="option">-p</code> option is used.  <em class="parameter"><code>port#</code></em> is
the port number that <span><strong class="command">dig</strong></span> will send its queries
instead of the standard DNS port number 53.  This option would be used
to test a name server that has been configured to listen for queries
on a non-standard port number.
</p>
<p>
The <code class="option">-4</code> option forces <span><strong class="command">dig</strong></span> to only
use IPv4 query transport.  The <code class="option">-6</code> option forces
<span><strong class="command">dig</strong></span> to only use IPv6 query transport.
</p>
<p>
The <code class="option">-t</code> option sets the query type to
<em class="parameter"><code>type</code></em>.  It can be any valid query type which is
supported in BIND9.  The default query type "A", unless the
<code class="option">-x</code> option is supplied to indicate a reverse lookup.
A zone transfer can be requested by specifying a type of AXFR.  When
an incremental zone transfer (IXFR) is required,
<em class="parameter"><code>type</code></em> is set to <code class="literal">ixfr=N</code>.
The incremental zone transfer will contain the changes made to the zone
since the serial number in the zone's SOA record was
<em class="parameter"><code>N</code></em>.
</p>
<p>
Reverse lookups - mapping addresses to names - are simplified by the
<code class="option">-x</code> option.  <em class="parameter"><code>addr</code></em> is an IPv4
address in dotted-decimal notation, or a colon-delimited IPv6 address.
When this option is used, there is no need to provide the
<em class="parameter"><code>name</code></em>, <em class="parameter"><code>class</code></em> and
<em class="parameter"><code>type</code></em> arguments.  <span><strong class="command">dig</strong></span>
automatically performs a lookup for a name like
<code class="literal">11.12.13.10.in-addr.arpa</code> and sets the query type and
class to PTR and IN respectively.  By default, IPv6 addresses are
looked up using nibble format under the IP6.ARPA domain.
To use the older RFC1886 method using the IP6.INT domain 
specify the <code class="option">-i</code> option.  Bit string labels (RFC2874)
are now experimental and are not attempted.
</p>
<p>
To sign the DNS queries sent by <span><strong class="command">dig</strong></span> and their
responses using transaction signatures (TSIG), specify a TSIG key file
using the <code class="option">-k</code> option.  You can also specify the TSIG
key itself on the command line using the <code class="option">-y</code> option;
<em class="parameter"><code>name</code></em> is the name of the TSIG key and
<em class="parameter"><code>key</code></em> is the actual key.  The key is a base-64
encoded string, typically generated by <span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>.
d217 10
a226 10
Caution should be taken when using the <code class="option">-y</code> option on
multi-user systems as the key can be visible in the output from
<span class="citerefentry"><span class="refentrytitle">ps</span>(1
)</span> or in the shell's history file.  When
using TSIG authentication with <span><strong class="command">dig</strong></span>, the name
server that is queried needs to know the key and algorithm that is
being used.  In BIND, this is done by providing appropriate
<span><strong class="command">key</strong></span> and <span><strong class="command">server</strong></span> statements in
<code class="filename">named.conf</code>.
</p>
d229 17
a245 15
<a name="id2549998"></a><h2>QUERY OPTIONS</h2>
<p>
<span><strong class="command">dig</strong></span> provides a number of query options which affect
the way in which lookups are made and the results displayed.  Some of
these set or reset flag bits in the query header, some determine which
sections of the answer get printed, and others determine the timeout
and retry strategies.
</p>
<p>
Each query option is identified by a keyword preceded by a plus sign
(<code class="literal">+</code>).  Some keywords set or reset an option.  These may be preceded
by the string <code class="literal">no</code> to negate the meaning of that keyword.  Other
keywords assign values to options like the timeout interval.  They
have the form <code class="option">+keyword=value</code>.
The query options are:
d247 1
a247 1
</p>
d251 5
a255 4
Use [do not use] TCP when querying name servers.  The default
behaviour is to use UDP unless an AXFR or IXFR query is requested, in
which case a TCP connection is used.
</p></dd>
d258 5
a262 4
Use [do not use] TCP when querying name servers.  This alternate
syntax to <em class="parameter"><code>+[no]tcp</code></em> is provided for backwards
compatibility.  The "vc" stands for "virtual circuit".
</p></dd>
d265 4
a268 3
Ignore truncation in UDP responses instead of retrying with TCP.  By
default, TCP retries are performed.
</p></dd>
d271 9
a279 6
Set the search list to contain the single domain
<em class="parameter"><code>somename</code></em>, as if specified in a
<span><strong class="command">domain</strong></span> directive in
<code class="filename">/etc/resolv.conf</code>, and enable search list
processing as if the <em class="parameter"><code>+search</code></em> option were given.
</p></dd>
d282 11
a292 4
Use [do not use] the search list defined by the searchlist or domain
directive in <code class="filename">resolv.conf</code> (if any).
The search list is not used by default.
</p></dd>
d295 2
a296 2
Deprecated, treated as a synonym for <em class="parameter"><code>+[no]search</code></em>
</p></dd>
d299 2
a300 2
Sets the "aa" flag in the query.
</p></dd>
d303 2
a304 2
A synonym for <em class="parameter"><code>+[no]aaonly</code></em>.
</p></dd>
d307 7
a313 5
Set [do not set] the AD (authentic data) bit in the query.  The AD bit
currently has a standard meaning only in responses, not in queries,
but the ability to set the bit in the query is provided for
completeness.
</p></dd>
d316 5
a320 3
Set [do not set] the CD (checking disabled) bit in the query.  This
requests the server to not perform DNSSEC validation of responses.
</p></dd>
d323 2
a324 2
Display [do not display] the CLASS when printing the record.
</p></dd>
d327 2
a328 2
Display [do not display] the TTL when printing the record.
</p></dd>
d331 9
a339 6
Toggle the setting of the RD (recursion desired) bit in the query.
This bit is set by default, which means <span><strong class="command">dig</strong></span>
normally sends recursive queries.  Recursion is automatically disabled
when the <em class="parameter"><code>+nssearch</code></em> or
<em class="parameter"><code>+trace</code></em> query options are used.
</p></dd>
d342 8
a349 5
When this option is set, <span><strong class="command">dig</strong></span> attempts to find the
authoritative name servers for the zone containing the name being
looked up and display the SOA record that each name server has for the
zone.
</p></dd>
d352 11
a362 7
Toggle tracing of the delegation path from the root name servers for
the name being looked up.  Tracing is disabled by default.  When
tracing is enabled, <span><strong class="command">dig</strong></span> makes iterative queries to
resolve the name being looked up.  It will follow referrals from the
root servers, showing the answer from each server that was used to
resolve the lookup.
</p></dd>
d365 6
a370 4
toggles the printing of the initial comment in the output identifying
the version of <span><strong class="command">dig</strong></span> and the query options that have
been applied.  This comment is printed by default.
</p></dd>
d373 3
a375 3
Provide a terse answer.  The default is to print the answer in a
verbose form.
</p></dd>
d378 8
a385 5
Show [or do not show] the IP address and port number that supplied the
answer when the <em class="parameter"><code>+short</code></em> option is enabled.  If
short form answers are requested, the default is not to show the
source address and port number of the server that provided the answer.
</p></dd>
d388 4
a391 3
Toggle the display of comment lines in the output.  The default is to
print comments.
</p></dd>
d394 6
a399 4
This query option toggles the printing of statistics: when the query
was made, the size of the reply and so on.  The default behaviour is
to print the query statistics.
</p></dd>
d402 3
a404 3
Print [do not print] the query as it is sent.
By default, the query is not printed.
</p></dd>
d407 5
a411 3
Print [do not print] the question section of a query when an answer is
returned.  The default is to print the question section as a comment.
</p></dd>
d414 4
a417 3
Display [do not display] the answer section of a reply.  The default
is to display it.
</p></dd>
d420 3
a422 3
Display [do not display] the authority section of a reply.  The
default is to display it.
</p></dd>
d425 3
a427 3
Display [do not display] the additional section of a reply.
The default is to display it.
</p></dd>
d430 2
a431 2
Set or clear all display flags.
</p></dd>
d435 7
a441 5
Sets the timeout for a query to
<em class="parameter"><code>T</code></em> seconds.  The default time out is 5 seconds.
An attempt to set <em class="parameter"><code>T</code></em> to less than 1 will result
in a query timeout of 1 second being applied.
</p></dd>
d444 7
a450 5
Sets the number of times to try UDP queries to server to
<em class="parameter"><code>T</code></em> instead of the default, 3.  If
<em class="parameter"><code>T</code></em> is less than or equal to zero, the number of
tries is silently rounded up to 1.
</p></dd>
d453 7
a459 5
Sets the number of times to retry UDP queries to server to
<em class="parameter"><code>T</code></em> instead of the default, 2.  Unlike
<em class="parameter"><code>+tries</code></em>, this does not include the initial
query.
</p></dd>
d462 12
a473 9
Set the number of dots that have to appear in
<em class="parameter"><code>name</code></em> to <em class="parameter"><code>D</code></em> for it to be
considered absolute.  The default value is that defined using the
ndots statement in <code class="filename">/etc/resolv.conf</code>, or 1 if no
ndots statement is present.  Names with fewer dots are interpreted as
relative names and will be searched for in the domains listed in the
<code class="option">search</code> or <code class="option">domain</code> directive in
<code class="filename">/etc/resolv.conf</code>.
</p></dd>
d476 13
a488 5
Set the UDP message buffer size advertised using EDNS0 to
<em class="parameter"><code>B</code></em> bytes.  The maximum and minimum sizes of this
buffer are 65535 and 0 respectively.  Values outside this range are
rounded up or down appropriately.
</p></dd>
d491 5
a495 5
Print records like the SOA records in a verbose multi-line
format with human-readable comments.  The default is to print
each record on a single line, to facilitate machine parsing 
of the <span><strong class="command">dig</strong></span> output.
</p></dd>
d498 6
a503 4
Do not try the next server if you receive a SERVFAIL.  The default is
to not try the next server which is the reverse of normal stub resolver
behaviour.
</p></dd>
d506 3
a508 3
Attempt to display the contents of messages which are malformed.
The default is to not display malformed answers.
</p></dd>
d511 4
a514 3
Requests DNSSEC records be sent by setting the DNSSEC OK bit (DO)
in the OPT record in the additional section of the query.
</p></dd>
d517 3
a519 3
Chase DNSSEC signature chains.  Requires dig be compiled with
-DDIG_SIGCHASE.
</p></dd>
d523 1
a523 1
	      Specifies a file containing trusted keys to be used with
d526 1
a526 1
	    </p>
d533 1
a533 1
	      Requires dig be compiled with -DDIG_SIGCHASE.
d538 4
a541 3
When chasing DNSSEC signature chains perform a top down validation.
Requires dig be compiled with -DDIG_SIGCHASE.
</p></dd>
d545 1
a545 1
</p>
d548 1
a548 1
<a name="id2550666"></a><h2>MULTIPLE QUERIES</h2>
d550 23
a572 21
The BIND 9 implementation of <span><strong class="command">dig </strong></span> supports
specifying multiple queries on the command line (in addition to
supporting the <code class="option">-f</code> batch file option).  Each of those
queries can be supplied with its own set of flags, options and query
options.
</p>
<p>
In this case, each <em class="parameter"><code>query</code></em> argument represent an
individual query in the command-line syntax described above.  Each
consists of any of the standard options and flags, the name to be
looked up, an optional query type and class and any query options that
should be applied to that query.
</p>
<p>
A global set of query options, which should be applied to all queries,
can also be supplied.  These global query options must precede the
first tuple of name, class, type, options, flags, and query options
supplied on the command line.  Any global query options (except
the <code class="option">+[no]cmd</code> option) can be
overridden by a query-specific set of query options.  For example:
</p>
d577 5
a581 4
shows how <span><strong class="command">dig</strong></span> could be used from the command line
to make three lookups: an ANY query for <code class="literal">www.isc.org</code>, a
reverse lookup of 127.0.0.1 and a query for the NS records of
<code class="literal">isc.org</code>.
d583 9
a591 7
A global query option of <em class="parameter"><code>+qr</code></em> is applied, so
that <span><strong class="command">dig</strong></span> shows the initial query it made for each
lookup.  The final query has a local query option of
<em class="parameter"><code>+noqr</code></em> which means that <span><strong class="command">dig</strong></span>
will not print the initial query when it looks up the NS records for
<code class="literal">isc.org</code>.
</p>
d594 1
a594 1
<a name="id2550725"></a><h2>FILES</h2>
d596 17
a612 5
<code class="filename">/etc/resolv.conf</code>
</p>
<p>
<code class="filename">${HOME}/.digrc</code>
</p>
d615 6
a620 7
<a name="id2550744"></a><h2>SEE ALSO</h2>
<p>
<span class="citerefentry"><span class="refentrytitle">host</span>(1)</span>,
<span class="citerefentry"><span class="refentrytitle">named</span>(8)</span>,
<span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>,
<em class="citetitle">RFC1035</em>.
</p>
d623 1
a623 1
<a name="id2550782"></a><h2>BUGS </h2>
d625 2
a626 2
There are probably too many query options. 
</p>
@


1.5
log
@resolve conflicts
@
text
@d17 1
a17 1
<!-- $ISC: dig.html,v 1.6.2.4.2.13 2005/10/13 02:33:43 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
d25 1
a25 1
<a name="id2463721"></a><div class="titlepage"></div>
d37 1
a37 1
<a name="id2525976"></a><h2>DESCRIPTION</h2>
d72 1
a72 1
<a name="id2526035"></a><h2>SIMPLE USAGE</h2>
d110 1
a110 1
<a name="id2526114"></a><h2>OPTIONS</h2>
d191 1
a191 1
<a name="id2526365"></a><h2>QUERY OPTIONS</h2>
d449 1
a449 1
<a name="id2527033"></a><h2>MULTIPLE QUERIES</h2>
d490 1
a490 1
<a name="id2527092"></a><h2>FILES</h2>
d499 1
a499 1
<a name="id2527111"></a><h2>SEE ALSO</h2>
d508 1
a508 1
<a name="id2527149"></a><h2>BUGS </h2>
@


1.4
log
@resolve conflicts
@
text
@d2 3
a4 3
 - Copyright (C) 2004  Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2000-2003  Internet Software Consortium.
 -
d8 1
a8 1
 -
d11 1
a11 1
 - AND FITNESS.  IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
d17 23
a39 123

<!-- $ISC: dig.html,v 1.6.2.4.2.7 2004/08/22 23:38:57 marka Exp $ -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>dig</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="AEN1"
></A
>dig</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN8"
></A
><H2
>Name</H2
>dig&nbsp;--&nbsp;DNS lookup utility</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN11"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>dig</B
>  [@@server] [<VAR
CLASS="OPTION"
>-b <VAR
CLASS="REPLACEABLE"
>address</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-c <VAR
CLASS="REPLACEABLE"
>class</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-f <VAR
CLASS="REPLACEABLE"
>filename</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-k <VAR
CLASS="REPLACEABLE"
>filename</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-p <VAR
CLASS="REPLACEABLE"
>port#</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-t <VAR
CLASS="REPLACEABLE"
>type</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-x <VAR
CLASS="REPLACEABLE"
>addr</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-y <VAR
CLASS="REPLACEABLE"
>name:key</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-4</VAR
>] [<VAR
CLASS="OPTION"
>-6</VAR
>] [name] [type] [class] [queryopt...]</P
><P
><B
CLASS="COMMAND"
>dig</B
>  [<VAR
CLASS="OPTION"
>-h</VAR
>]</P
><P
><B
CLASS="COMMAND"
>dig</B
>  [global-queryopt...] [query...]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN55"
></A
><H2
>DESCRIPTION</H2
><P
><B
CLASS="COMMAND"
>dig</B
> (domain information groper) is a flexible tool
d42 1
a42 4
were queried.  Most DNS administrators use <B
CLASS="COMMAND"
>dig</B
> to
d45 4
a48 9
than <B
CLASS="COMMAND"
>dig</B
>.</P
><P
>Although <B
CLASS="COMMAND"
>dig</B
> is normally used with command-line
d51 1
a51 4
and options is printed when the <VAR
CLASS="OPTION"
>-h</VAR
> option is given.
d53 25
a77 45
<B
CLASS="COMMAND"
>dig</B
> allows multiple lookups to be issued from the
command line.</P
><P
>Unless it is told to query a specific name server,
<B
CLASS="COMMAND"
>dig</B
> will try each of the servers listed in
<TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
>.</P
><P
>When no command line arguments or options are given, will perform an
NS query for "." (the root).</P
><P
>It is possible to set per-user defaults for <B
CLASS="COMMAND"
>dig</B
> via
<TT
CLASS="FILENAME"
>${HOME}/.digrc</TT
>.  This file is read and any options in it
are applied before the command line arguments.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN72"
></A
><H2
>SIMPLE USAGE</H2
><P
>A typical invocation of <B
CLASS="COMMAND"
>dig</B
> looks like:
<PRE
CLASS="PROGRAMLISTING"
> dig @@server name type </PRE
> where:
d79 5
a83 13
<P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><CODE
CLASS="CONSTANT"
>server</CODE
></DT
><DD
><P
>is the name or IP address of the name server to query.  This can be an IPv4
d86 4
a89 19
<VAR
CLASS="PARAMETER"
>server</VAR
> argument is a hostname,
<B
CLASS="COMMAND"
>dig</B
> resolves that name before querying that name
server.  If no <VAR
CLASS="PARAMETER"
>server</VAR
> argument is provided,
<B
CLASS="COMMAND"
>dig</B
> consults <TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
>
d91 9
a99 19
server that responds is displayed.</P
></DD
><DT
><CODE
CLASS="CONSTANT"
>name</CODE
></DT
><DD
><P
>is the name of the resource record that is to be looked up.</P
></DD
><DT
><CODE
CLASS="CONSTANT"
>type</CODE
></DT
><DD
><P
>indicates what type of query is required &mdash;
d101 13
a113 33
<VAR
CLASS="PARAMETER"
>type</VAR
> can be any valid query type.  If no
<VAR
CLASS="PARAMETER"
>type</VAR
> argument is supplied,
<B
CLASS="COMMAND"
>dig</B
> will perform a lookup for an A record.</P
></DD
></DL
></DIV
></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN101"
></A
><H2
>OPTIONS</H2
><P
>The <VAR
CLASS="OPTION"
>-b</VAR
> option sets the source IP address of the query
to <VAR
CLASS="PARAMETER"
>address</VAR
>.  This must be a valid address on
d115 9
a123 19
may be specified by appending "#&lt;port&gt;"</P
><P
>The default query class (IN for internet) is overridden by the
<VAR
CLASS="OPTION"
>-c</VAR
> option.  <VAR
CLASS="PARAMETER"
>class</VAR
> is any valid
class, such as HS for Hesiod records or CH for CHAOSNET records.</P
><P
>The <VAR
CLASS="OPTION"
>-f</VAR
> option makes <B
CLASS="COMMAND"
>dig </B
> operate
d125 1
a125 4
file <VAR
CLASS="PARAMETER"
>filename</VAR
>.  The file contains a number of
d128 6
a133 17
<B
CLASS="COMMAND"
>dig</B
> using the command-line interface.</P
><P
>If a non-standard port number is to be queried, the
<VAR
CLASS="OPTION"
>-p</VAR
> option is used.  <VAR
CLASS="PARAMETER"
>port#</VAR
> is
the port number that <B
CLASS="COMMAND"
>dig</B
> will send its queries
d136 10
a145 26
on a non-standard port number.</P
><P
>The <VAR
CLASS="OPTION"
>-4</VAR
> option forces <B
CLASS="COMMAND"
>dig</B
> to only
use IPv4 query transport.  The <VAR
CLASS="OPTION"
>-6</VAR
> option forces
<B
CLASS="COMMAND"
>dig</B
> to only use IPv6 query transport.</P
><P
>The <VAR
CLASS="OPTION"
>-t</VAR
> option sets the query type to
<VAR
CLASS="PARAMETER"
>type</VAR
>.  It can be any valid query type which is
d147 1
a147 4
<VAR
CLASS="OPTION"
>-x</VAR
> option is supplied to indicate a reverse lookup.
d150 1
a150 7
<VAR
CLASS="PARAMETER"
>type</VAR
> is set to <VAR
CLASS="LITERAL"
>ixfr=N</VAR
>.
d153 5
a157 13
<VAR
CLASS="PARAMETER"
>N</VAR
>.</P
><P
>Reverse lookups - mapping addresses to names - are simplified by the
<VAR
CLASS="OPTION"
>-x</VAR
> option.  <VAR
CLASS="PARAMETER"
>addr</VAR
> is an IPv4
d160 2
a161 14
<VAR
CLASS="PARAMETER"
>name</VAR
>, <VAR
CLASS="PARAMETER"
>class</VAR
> and
<VAR
CLASS="PARAMETER"
>type</VAR
> arguments.  <B
CLASS="COMMAND"
>dig</B
>
d163 1
a163 4
<VAR
CLASS="LITERAL"
>11.12.13.10.in-addr.arpa</VAR
> and sets the query type and
d167 5
a171 10
specify the <VAR
CLASS="OPTION"
>-i</VAR
> option.  Bit string labels (RFC2874)
are now experimental and are not attempted.</P
><P
>To sign the DNS queries sent by <B
CLASS="COMMAND"
>dig</B
> and their
d173 5
a177 23
using the <VAR
CLASS="OPTION"
>-k</VAR
> option.  You can also specify the TSIG
key itself on the command line using the <VAR
CLASS="OPTION"
>-y</VAR
> option;
<VAR
CLASS="PARAMETER"
>name</VAR
> is the name of the TSIG key and
<VAR
CLASS="PARAMETER"
>key</VAR
> is the actual key.  The key is a base-64
encoded string, typically generated by <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>dnssec-keygen</SPAN
>(8)</SPAN
>.
d179 1
a179 4
Caution should be taken when using the <VAR
CLASS="OPTION"
>-y</VAR
> option on
d181 3
a183 11
<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>ps</SPAN
>(1)</SPAN
> or in the shell's history file.  When
using TSIG authentication with <B
CLASS="COMMAND"
>dig</B
>, the name
d186 8
a193 24
<B
CLASS="COMMAND"
>key</B
> and <B
CLASS="COMMAND"
>server</B
> statements in
<TT
CLASS="FILENAME"
>named.conf</TT
>.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN156"
></A
><H2
>QUERY OPTIONS</H2
><P
><B
CLASS="COMMAND"
>dig</B
> provides a number of query options which affect
d197 6
a202 11
and retry strategies.</P
><P
>Each query option is identified by a keyword preceded by a plus sign
(<VAR
CLASS="LITERAL"
>+</VAR
>).  Some keywords set or reset an option.  These may be preceded
by the string <VAR
CLASS="LITERAL"
>no</VAR
> to negate the meaning of that keyword.  Other
d204 1
a204 4
have the form <VAR
CLASS="OPTION"
>+keyword=value</VAR
>.
d207 5
a211 13
<P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><VAR
CLASS="OPTION"
>+[no]tcp</VAR
></DT
><DD
><P
>Use [do not use] TCP when querying name servers.  The default
d213 42
a254 106
which case a TCP connection is used.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]vc</VAR
></DT
><DD
><P
>Use [do not use] TCP when querying name servers.  This alternate
syntax to <VAR
CLASS="PARAMETER"
>+[no]tcp</VAR
> is provided for backwards
compatibility.  The "vc" stands for "virtual circuit".</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]ignore</VAR
></DT
><DD
><P
>Ignore truncation in UDP responses instead of retrying with TCP.  By
default, TCP retries are performed.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+domain=somename</VAR
></DT
><DD
><P
>Set the search list to contain the single domain
<VAR
CLASS="PARAMETER"
>somename</VAR
>, as if specified in a
<B
CLASS="COMMAND"
>domain</B
> directive in
<TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
>, and enable search list
processing as if the <VAR
CLASS="PARAMETER"
>+search</VAR
> option were given.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]search</VAR
></DT
><DD
><P
>Use [do not use] the search list defined by the searchlist or domain
directive in <TT
CLASS="FILENAME"
>resolv.conf</TT
> (if any).
The search list is not used by default.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]defname</VAR
></DT
><DD
><P
>Deprecated, treated as a synonym for <VAR
CLASS="PARAMETER"
>+[no]search</VAR
></P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]aaonly</VAR
></DT
><DD
><P
>Sets the "aa" flag in the query.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]aaflag</VAR
></DT
><DD
><P
>A synonym for <VAR
CLASS="PARAMETER"
>+[no]aaonly</VAR
>.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]adflag</VAR
></DT
><DD
><P
>Set [do not set] the AD (authentic data) bit in the query.  The AD bit
d257 19
a275 42
completeness.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]cdflag</VAR
></DT
><DD
><P
>Set [do not set] the CD (checking disabled) bit in the query.  This
requests the server to not perform DNSSEC validation of responses.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]cl</VAR
></DT
><DD
><P
>Display [do not display] the CLASS when printing the record.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]ttlid</VAR
></DT
><DD
><P
>Display [do not display] the TTL when printing the record.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]recurse</VAR
></DT
><DD
><P
>Toggle the setting of the RD (recursion desired) bit in the query.
This bit is set by default, which means <B
CLASS="COMMAND"
>dig</B
>
d277 6
a282 20
when the <VAR
CLASS="PARAMETER"
>+nssearch</VAR
> or
<VAR
CLASS="PARAMETER"
>+trace</VAR
> query options are used.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]nssearch</VAR
></DT
><DD
><P
>When this option is set, <B
CLASS="COMMAND"
>dig</B
> attempts to find the
d285 5
a289 10
zone.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]trace</VAR
></DT
><DD
><P
>Toggle tracing of the delegation path from the root name servers for
d291 1
a291 4
tracing is enabled, <B
CLASS="COMMAND"
>dig</B
> makes iterative queries to
d294 17
a310 38
resolve the lookup.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]cmd</VAR
></DT
><DD
><P
>toggles the printing of the initial comment in the output identifying
the version of <B
CLASS="COMMAND"
>dig</B
> and the query options that have
been applied.  This comment is printed by default.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]short</VAR
></DT
><DD
><P
>Provide a terse answer.  The default is to print the answer in a
verbose form.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]identify</VAR
></DT
><DD
><P
>Show [or do not show] the IP address and port number that supplied the
answer when the <VAR
CLASS="PARAMETER"
>+short</VAR
> option is enabled.  If
d312 10
a321 20
source address and port number of the server that provided the answer.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]comments</VAR
></DT
><DD
><P
>Toggle the display of comment lines in the output.  The default is to
print comments.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]stats</VAR
></DT
><DD
><P
>This query option toggles the printing of statistics: when the query
d323 57
a379 130
to print the query statistics.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]qr</VAR
></DT
><DD
><P
>Print [do not print] the query as it is sent.
By default, the query is not printed.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]question</VAR
></DT
><DD
><P
>Print [do not print] the question section of a query when an answer is
returned.  The default is to print the question section as a comment.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]answer</VAR
></DT
><DD
><P
>Display [do not display] the answer section of a reply.  The default
is to display it.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]authority</VAR
></DT
><DD
><P
>Display [do not display] the authority section of a reply.  The
default is to display it.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]additional</VAR
></DT
><DD
><P
>Display [do not display] the additional section of a reply.
The default is to display it.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]all</VAR
></DT
><DD
><P
>Set or clear all display flags.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+time=T</VAR
></DT
><DD
><P
>&#13;Sets the timeout for a query to
<VAR
CLASS="PARAMETER"
>T</VAR
> seconds.  The default time out is 5 seconds.
An attempt to set <VAR
CLASS="PARAMETER"
>T</VAR
> to less than 1 will result
in a query timeout of 1 second being applied.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+tries=T</VAR
></DT
><DD
><P
>Sets the number of times to try UDP queries to server to
<VAR
CLASS="PARAMETER"
>T</VAR
> instead of the default, 3.  If
<VAR
CLASS="PARAMETER"
>T</VAR
> is less than or equal to zero, the number of
tries is silently rounded up to 1.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+retry=T</VAR
></DT
><DD
><P
>Sets the number of times to retry UDP queries to server to
<VAR
CLASS="PARAMETER"
>T</VAR
> instead of the default, 2.  Unlike
<VAR
CLASS="PARAMETER"
>+tries</VAR
>, this does not include the initial
query.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+ndots=D</VAR
></DT
><DD
><P
>Set the number of dots that have to appear in
<VAR
CLASS="PARAMETER"
>name</VAR
> to <VAR
CLASS="PARAMETER"
>D</VAR
> for it to be
d381 1
a381 4
ndots statement in <TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
>, or 1 if no
d384 7
a390 24
<VAR
CLASS="OPTION"
>search</VAR
> or <VAR
CLASS="OPTION"
>domain</VAR
> directive in
<TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
>.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+bufsize=B</VAR
></DT
><DD
><P
>Set the UDP message buffer size advertised using EDNS0 to
<VAR
CLASS="PARAMETER"
>B</VAR
> bytes.  The maximum and minimum sizes of this
d392 5
a396 10
rounded up or down appropriately.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]multiline</VAR
></DT
><DD
><P
>Print records like the SOA records in a verbose multi-line
d399 5
a403 13
of the <B
CLASS="COMMAND"
>dig</B
> output.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]fail</VAR
></DT
><DD
><P
>Do not try the next server if you receive a SERVFAIL.  The default is
d405 47
a451 71
behaviour.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]besteffort</VAR
></DT
><DD
><P
>Attempt to display the contents of messages which are malformed.
The default is to not display malformed answers.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]dnssec</VAR
></DT
><DD
><P
>Requests DNSSEC records be sent by setting the DNSSEC OK bit (DO)
in the OPT record in the additional section of the query.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]sigchase</VAR
></DT
><DD
><P
>Chase DNSSEC signature chains.  Requires dig be compiled with
-DDIG_SIGCHASE.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+trusted-key=####</VAR
></DT
><DD
><P
>Specify a trusted key to be used with <VAR
CLASS="OPTION"
>+sigchase</VAR
>.
Requires dig be compiled with -DDIG_SIGCHASE.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]topdown</VAR
></DT
><DD
><P
>When chasing DNSSEC signature chains perform a top down validation.
Requires dig be compiled with -DDIG_SIGCHASE.</P
></DD
></DL
></DIV
>&#13;</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN385"
></A
><H2
>MULTIPLE QUERIES</H2
><P
>The BIND 9 implementation of <B
CLASS="COMMAND"
>dig </B
> supports
d453 1
a453 4
supporting the <VAR
CLASS="OPTION"
>-f</VAR
> batch file option).  Each of those
d455 4
a458 6
options.</P
><P
>In this case, each <VAR
CLASS="PARAMETER"
>query</VAR
> argument represent an
d462 4
a465 3
should be applied to that query.</P
><P
>A global set of query options, which should be applied to all queries,
d469 1
a469 4
the <VAR
CLASS="OPTION"
>+[no]cmd</VAR
> option) can be
d471 7
a477 12
<PRE
CLASS="PROGRAMLISTING"
>dig +qr www.isc.org any -x 127.0.0.1 isc.org ns +noqr</PRE
>
shows how <B
CLASS="COMMAND"
>dig</B
> could be used from the command line
to make three lookups: an ANY query for <VAR
CLASS="LITERAL"
>www.isc.org</VAR
>, a
d479 1
a479 4
<VAR
CLASS="LITERAL"
>isc.org</VAR
>.
d481 2
a482 8
A global query option of <VAR
CLASS="PARAMETER"
>+qr</VAR
> is applied, so
that <B
CLASS="COMMAND"
>dig</B
> shows the initial query it made for each
d484 1
a484 7
<VAR
CLASS="PARAMETER"
>+noqr</VAR
> which means that <B
CLASS="COMMAND"
>dig</B
>
d486 29
a514 70
<VAR
CLASS="LITERAL"
>isc.org</VAR
>.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN403"
></A
><H2
>FILES</H2
><P
><TT
CLASS="FILENAME"
>/etc/resolv.conf</TT
></P
><P
><TT
CLASS="FILENAME"
>${HOME}/.digrc</TT
></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN409"
></A
><H2
>SEE ALSO</H2
><P
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>host</SPAN
>(1)</SPAN
>,
<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>named</SPAN
>(8)</SPAN
>,
<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>dnssec-keygen</SPAN
>(8)</SPAN
>,
<I
CLASS="CITETITLE"
>RFC1035</I
>.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN422"
></A
><H2
>BUGS </H2
><P
>There are probably too many query options. </P
></DIV
></BODY
></HTML
>
@


1.3
log
@update to BIND v9.2.3. ok todd@@
@
text
@d2 3
a4 2
 - Copyright (C) 2000, 2001  Internet Software Consortium.
 - 
d8 8
a15 9
 - 
 - THE SOFTWARE IS PROVIDED "AS IS" AND INTERNET SOFTWARE CONSORTIUM
 - DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL
 - IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL
 - INTERNET SOFTWARE CONSORTIUM BE LIABLE FOR ANY SPECIAL, DIRECT,
 - INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING
 - FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,
 - NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION
 - WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
d17 4
d27 1
a27 2
CONTENT="Modular DocBook HTML Stylesheet Version 1.73
"></HEAD
d38 2
a39 2
>dig</A
></H1
d59 1
a59 1
>  [@@server] [<TT
d61 1
a61 1
>-b <TT
d63 3
a65 5
><I
>address</I
></TT
></TT
>] [<TT
d67 1
a67 1
>-c <TT
d69 3
a71 5
><I
>class</I
></TT
></TT
>] [<TT
d73 1
a73 1
>-f <TT
d75 3
a77 5
><I
>filename</I
></TT
></TT
>] [<TT
d79 1
a79 1
>-k <TT
d81 3
a83 5
><I
>filename</I
></TT
></TT
>] [<TT
d85 1
a85 1
>-p <TT
d87 3
a89 5
><I
>port#</I
></TT
></TT
>] [<TT
d91 1
a91 1
>-t <TT
d93 3
a95 5
><I
>type</I
></TT
></TT
>] [<TT
d97 1
a97 1
>-x <TT
d99 3
a101 5
><I
>addr</I
></TT
></TT
>] [<TT
d103 1
a103 1
>-y <TT
d105 8
a112 4
><I
>name:key</I
></TT
></TT
d118 1
a118 1
>  [<TT
d120 1
a120 1
>-h</TT
d131 1
a131 1
NAME="AEN51"
d159 1
a159 1
and options is printed when the <TT
d161 1
a161 1
>-h</TT
d183 1
a183 1
>It is possible to set per user defaults for <B
d191 1
a191 1
are applied before the command line arguements.</P
d196 1
a196 1
NAME="AEN68"
d216 1
a216 1
><TT
d218 1
a218 1
>server</TT
d225 1
a225 1
<TT
d227 1
a227 3
><I
>server</I
></TT
d233 1
a233 1
server.  If no <TT
d235 1
a235 3
><I
>server</I
></TT
d248 1
a248 1
><TT
d250 1
a250 1
>name</TT
d257 1
a257 1
><TT
d259 1
a259 1
>type</TT
d265 1
a265 1
<TT
d267 1
a267 3
><I
>type</I
></TT
d269 1
a269 1
<TT
d271 1
a271 3
><I
>type</I
></TT
d285 1
a285 1
NAME="AEN97"
d290 1
a290 1
>The <TT
d292 1
a292 1
>-b</TT
d294 1
a294 1
to <TT
d296 1
a296 3
><I
>address</I
></TT
d298 2
a299 1
one of the host's network interfaces.</P
d302 1
a302 1
<TT
d304 2
a305 2
>-c</TT
> option.  <TT
d307 1
a307 3
><I
>class</I
></TT
d311 1
a311 1
>The <TT
d313 1
a313 1
>-f</TT
d319 1
a319 1
file <TT
d321 1
a321 3
><I
>filename</I
></TT
d331 1
a331 1
<TT
d333 2
a334 2
>-p</TT
> option is used.  <TT
d336 1
a336 3
><I
>port#</I
></TT
d346 17
a362 1
>The <TT
d364 1
a364 1
>-t</TT
d366 1
a366 1
<TT
d368 1
a368 3
><I
>type</I
></TT
d371 1
a371 1
<TT
d373 1
a373 1
>-x</TT
d377 1
a377 1
<TT
d379 2
a380 4
><I
>type</I
></TT
> is set to <TT
d382 1
a382 1
>ixfr=N</TT
d386 1
a386 1
<TT
d388 1
a388 3
><I
>N</I
></TT
d392 1
a392 1
<TT
d394 2
a395 2
>-x</TT
> option.  <TT
d397 1
a397 3
><I
>addr</I
></TT
d401 4
a404 1
<TT
d406 1
a406 8
><I
>name</I
></TT
>, <TT
CLASS="PARAMETER"
><I
>class</I
></TT
d408 1
a408 1
<TT
d410 1
a410 3
><I
>type</I
></TT
d416 1
a416 1
<TT
d418 1
a418 1
>11.12.13.10.in-addr.arpa</TT
d421 7
a427 6
looked up using the IP6.ARPA domain and binary labels as defined in
RFC2874.  To use the older RFC1886 method using the IP6.INT domain and
"nibble" labels, specify the <TT
CLASS="OPTION"
>-n</TT
> (nibble) option.</P
d434 1
a434 1
using the <TT
d436 1
a436 1
>-k</TT
d438 1
a438 1
key itself on the command line using the <TT
d440 1
a440 1
>-y</TT
d442 1
a442 1
<TT
d444 1
a444 3
><I
>name</I
></TT
d446 1
a446 1
<TT
d448 1
a448 3
><I
>key</I
></TT
d458 1
a458 1
Caution should be taken when using the <TT
d460 1
a460 1
>-y</TT
d491 1
a491 1
NAME="AEN147"
d506 1
a506 1
(<TT
d508 1
a508 1
>+</TT
d510 1
a510 1
by the string <TT
d512 1
a512 1
>no</TT
d515 1
a515 1
have the form <TT
d517 1
a517 1
>+keyword=value</TT
d527 1
a527 1
><TT
d529 1
a529 1
>+[no]tcp</TT
d538 1
a538 1
><TT
d540 1
a540 1
>+[no]vc</TT
d545 1
a545 1
syntax to <TT
d547 1
a547 3
><I
>+[no]tcp</I
></TT
d552 1
a552 1
><TT
d554 1
a554 1
>+[no]ignore</TT
d562 1
a562 1
><TT
d564 1
a564 1
>+domain=somename</TT
d569 1
a569 1
<TT
d571 1
a571 3
><I
>somename</I
></TT
d581 1
a581 1
processing as if the <TT
d583 1
a583 3
><I
>+search</I
></TT
d587 1
a587 1
><TT
d589 1
a589 1
>+[no]search</TT
d601 1
a601 1
><TT
d603 1
a603 1
>+[no]defname</TT
d607 1
a607 1
>Deprecated, treated as a synonym for <TT
d609 1
a609 3
><I
>+[no]search</I
></TT
d613 10
a622 1
><TT
d624 1
a624 1
>+[no]aaonly</TT
d628 4
a631 6
>This option does nothing.  It is provided for compatibility with old
versions of <B
CLASS="COMMAND"
>dig</B
> where it set an unimplemented
resolver flag.</P
d634 1
a634 1
><TT
d636 1
a636 1
>+[no]adflag</TT
d646 1
a646 1
><TT
d648 1
a648 1
>+[no]cdflag</TT
d656 19
a674 1
><TT
d676 1
a676 1
>+[no]recurse</TT
d686 1
a686 1
when the <TT
d688 1
a688 3
><I
>+nssearch</I
></TT
d690 1
a690 1
<TT
d692 1
a692 3
><I
>+trace</I
></TT
d696 1
a696 1
><TT
d698 1
a698 1
>+[no]nssearch</TT
d711 1
a711 1
><TT
d713 1
a713 1
>+[no]trace</TT
d728 1
a728 1
><TT
d730 1
a730 1
>+[no]cmd</TT
d742 1
a742 1
><TT
d744 1
a744 1
>+[no]short</TT
d752 1
a752 1
><TT
d754 1
a754 1
>+[no]identify</TT
d759 1
a759 1
answer when the <TT
d761 1
a761 3
><I
>+short</I
></TT
d767 1
a767 1
><TT
d769 1
a769 1
>+[no]comments</TT
d777 1
a777 1
><TT
d779 1
a779 1
>+[no]stats</TT
d788 1
a788 1
><TT
d790 1
a790 1
>+[no]qr</TT
d798 1
a798 1
><TT
d800 1
a800 1
>+[no]question</TT
d808 1
a808 1
><TT
d810 1
a810 1
>+[no]answer</TT
d818 1
a818 1
><TT
d820 1
a820 1
>+[no]authority</TT
d828 1
a828 1
><TT
d830 1
a830 1
>+[no]additional</TT
d838 1
a838 1
><TT
d840 1
a840 1
>+[no]all</TT
d847 1
a847 1
><TT
d849 1
a849 1
>+time=T</TT
d854 1
a854 1
<TT
d856 1
a856 3
><I
>T</I
></TT
d858 1
a858 1
An attempt to set <TT
d860 1
a860 3
><I
>T</I
></TT
d865 1
a865 1
><TT
d867 1
a867 1
>+tries=T</TT
d871 2
a872 2
>Sets the number of times to retry UDP queries to server to
<TT
d874 1
a874 3
><I
>T</I
></TT
d876 1
a876 1
<TT
d878 1
a878 3
><I
>T</I
></TT
d880 19
a898 1
retries is silently rounded up to 1.</P
d901 1
a901 1
><TT
d903 1
a903 1
>+ndots=D</TT
d908 4
a911 1
<TT
d913 1
a913 8
><I
>name</I
></TT
> to <TT
CLASS="PARAMETER"
><I
>D</I
></TT
d922 1
a922 1
<TT
d924 2
a925 2
>search</TT
> or <TT
d927 1
a927 1
>domain</TT
d935 1
a935 1
><TT
d937 1
a937 1
>+bufsize=B</TT
d942 1
a942 1
<TT
d944 1
a944 3
><I
>B</I
></TT
d950 1
a950 1
><TT
d952 1
a952 1
>+[no]multiline</TT
d965 1
a965 1
><TT
d967 1
a967 1
>+[no]fail</TT
d976 1
a976 1
><TT
d978 1
a978 1
>+[no]besteffort</TT
d986 1
a986 1
><TT
d988 1
a988 1
>+[no]dnssec</TT
d995 33
d1035 1
a1035 1
NAME="AEN338"
d1045 1
a1045 1
supporting the <TT
d1047 1
a1047 1
>-f</TT
d1052 1
a1052 1
>In this case, each <TT
d1054 1
a1054 3
><I
>query</I
></TT
d1065 1
a1065 1
the <TT
d1067 1
a1067 1
>+[no]cmd</TT
d1078 1
a1078 1
to make three lookups: an ANY query for <TT
d1080 1
a1080 1
>www.isc.org</TT
d1083 1
a1083 1
<TT
d1085 1
a1085 1
>isc.org</TT
d1088 1
a1088 1
A global query option of <TT
d1090 1
a1090 3
><I
>+qr</I
></TT
d1097 1
a1097 1
<TT
d1099 1
a1099 3
><I
>+noqr</I
></TT
d1105 1
a1105 1
<TT
d1107 1
a1107 1
>isc.org</TT
d1113 1
a1113 1
NAME="AEN356"
d1131 1
a1131 1
NAME="AEN362"
d1165 1
a1165 1
NAME="AEN375"
@


1.2
log
@update to BIND 9.2.2-release. ok millert@@
@
text
@d189 10
d203 1
a203 1
NAME="AEN65"
d300 1
a300 1
NAME="AEN94"
d514 1
a514 1
NAME="AEN144"
d682 1
a682 1
>+[no]recursive</TT
d1001 1
a1001 1
in the the OPT record in the additional section of the query.</P
d1010 1
a1010 1
NAME="AEN335"
d1094 1
a1094 1
NAME="AEN353"
d1103 5
d1112 1
a1112 1
NAME="AEN357"
d1146 1
a1146 1
NAME="AEN370"
@


1.1
log
@Initial revision
@
text
@d23 1
a23 1
CONTENT="Modular DocBook HTML Stylesheet Version 1.61
d640 1
a640 1
>This option does nothing.  It is provided for compatibilty with old
d1140 1
a1140 1
>@


1.1.1.1
log
@ISC BIND version 9.2.2rc1
@
text
@@


1.1.1.2
log
@ISC BIND version 9.3.0. ok deraadt@@
@
text
@d2 2
a3 3
 - Copyright (C) 2004  Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2000-2003  Internet Software Consortium.
 -
d7 9
a15 8
 -
 - THE SOFTWARE IS PROVIDED "AS IS" AND ISC DISCLAIMS ALL WARRANTIES WITH
 - REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 - AND FITNESS.  IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
 - INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 - LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE
 - OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 - PERFORMANCE OF THIS SOFTWARE.
a16 4

<!-- $ISC: dig.html,v 1.6.2.4.2.7 2004/08/22 23:38:57 marka Exp $ -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
d23 2
a24 1
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
d35 2
a36 2
></A
>dig</H1
d56 1
a56 1
>  [@@server] [<VAR
d58 1
a58 1
>-b <VAR
d60 5
a64 3
>address</VAR
></VAR
>] [<VAR
d66 1
a66 1
>-c <VAR
d68 5
a72 3
>class</VAR
></VAR
>] [<VAR
d74 1
a74 1
>-f <VAR
d76 5
a80 3
>filename</VAR
></VAR
>] [<VAR
d82 1
a82 1
>-k <VAR
d84 5
a88 3
>filename</VAR
></VAR
>] [<VAR
d90 1
a90 1
>-p <VAR
d92 5
a96 3
>port#</VAR
></VAR
>] [<VAR
d98 1
a98 1
>-t <VAR
d100 5
a104 3
>type</VAR
></VAR
>] [<VAR
d106 1
a106 1
>-x <VAR
d108 5
a112 3
>addr</VAR
></VAR
>] [<VAR
d114 1
a114 1
>-y <VAR
d116 4
a119 8
>name:key</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-4</VAR
>] [<VAR
CLASS="OPTION"
>-6</VAR
d125 1
a125 1
>  [<VAR
d127 1
a127 1
>-h</VAR
d138 1
a138 1
NAME="AEN55"
d166 1
a166 1
and options is printed when the <VAR
d168 1
a168 1
>-h</VAR
a188 10
><P
>It is possible to set per-user defaults for <B
CLASS="COMMAND"
>dig</B
> via
<TT
CLASS="FILENAME"
>${HOME}/.digrc</TT
>.  This file is read and any options in it
are applied before the command line arguments.</P
d193 1
a193 1
NAME="AEN72"
d213 1
a213 1
><CODE
d215 1
a215 1
>server</CODE
d222 1
a222 1
<VAR
d224 3
a226 1
>server</VAR
d232 1
a232 1
server.  If no <VAR
d234 3
a236 1
>server</VAR
d249 1
a249 1
><CODE
d251 1
a251 1
>name</CODE
d258 1
a258 1
><CODE
d260 1
a260 1
>type</CODE
d266 1
a266 1
<VAR
d268 3
a270 1
>type</VAR
d272 1
a272 1
<VAR
d274 3
a276 1
>type</VAR
d290 1
a290 1
NAME="AEN101"
d295 1
a295 1
>The <VAR
d297 1
a297 1
>-b</VAR
d299 1
a299 1
to <VAR
d301 3
a303 1
>address</VAR
d305 1
a305 2
one of the host's network interfaces or "0.0.0.0" or "::".  An optional port
may be specified by appending "#&lt;port&gt;"</P
d308 1
a308 1
<VAR
d310 2
a311 2
>-c</VAR
> option.  <VAR
d313 3
a315 1
>class</VAR
d319 1
a319 1
>The <VAR
d321 1
a321 1
>-f</VAR
d327 1
a327 1
file <VAR
d329 3
a331 1
>filename</VAR
d341 1
a341 1
<VAR
d343 2
a344 2
>-p</VAR
> option is used.  <VAR
d346 3
a348 1
>port#</VAR
d358 1
a358 1
>The <VAR
d360 1
a360 17
>-4</VAR
> option forces <B
CLASS="COMMAND"
>dig</B
> to only
use IPv4 query transport.  The <VAR
CLASS="OPTION"
>-6</VAR
> option forces
<B
CLASS="COMMAND"
>dig</B
> to only use IPv6 query transport.</P
><P
>The <VAR
CLASS="OPTION"
>-t</VAR
d362 1
a362 1
<VAR
d364 3
a366 1
>type</VAR
d369 1
a369 1
<VAR
d371 1
a371 1
>-x</VAR
d375 1
a375 1
<VAR
d377 4
a380 2
>type</VAR
> is set to <VAR
d382 1
a382 1
>ixfr=N</VAR
d386 1
a386 1
<VAR
d388 3
a390 1
>N</VAR
d394 1
a394 1
<VAR
d396 2
a397 2
>-x</VAR
> option.  <VAR
d399 3
a401 1
>addr</VAR
d405 1
a405 4
<VAR
CLASS="PARAMETER"
>name</VAR
>, <VAR
d407 8
a414 1
>class</VAR
d416 1
a416 1
<VAR
d418 3
a420 1
>type</VAR
d426 1
a426 1
<VAR
d428 1
a428 1
>11.12.13.10.in-addr.arpa</VAR
d431 6
a436 7
looked up using nibble format under the IP6.ARPA domain.
To use the older RFC1886 method using the IP6.INT domain 
specify the <VAR
CLASS="OPTION"
>-i</VAR
> option.  Bit string labels (RFC2874)
are now experimental and are not attempted.</P
d443 1
a443 1
using the <VAR
d445 1
a445 1
>-k</VAR
d447 1
a447 1
key itself on the command line using the <VAR
d449 1
a449 1
>-y</VAR
d451 1
a451 1
<VAR
d453 3
a455 1
>name</VAR
d457 1
a457 1
<VAR
d459 3
a461 1
>key</VAR
d471 1
a471 1
Caution should be taken when using the <VAR
d473 1
a473 1
>-y</VAR
d504 1
a504 1
NAME="AEN156"
d519 1
a519 1
(<VAR
d521 1
a521 1
>+</VAR
d523 1
a523 1
by the string <VAR
d525 1
a525 1
>no</VAR
d528 1
a528 1
have the form <VAR
d530 1
a530 1
>+keyword=value</VAR
d540 1
a540 1
><VAR
d542 1
a542 1
>+[no]tcp</VAR
d551 1
a551 1
><VAR
d553 1
a553 1
>+[no]vc</VAR
d558 1
a558 1
syntax to <VAR
d560 3
a562 1
>+[no]tcp</VAR
d567 1
a567 1
><VAR
d569 1
a569 1
>+[no]ignore</VAR
d577 1
a577 1
><VAR
d579 1
a579 1
>+domain=somename</VAR
d584 1
a584 1
<VAR
d586 3
a588 1
>somename</VAR
d598 1
a598 1
processing as if the <VAR
d600 3
a602 1
>+search</VAR
d606 1
a606 1
><VAR
d608 1
a608 1
>+[no]search</VAR
d620 1
a620 1
><VAR
d622 1
a622 1
>+[no]defname</VAR
d626 1
a626 1
>Deprecated, treated as a synonym for <VAR
d628 3
a630 1
>+[no]search</VAR
d634 1
a634 1
><VAR
d636 1
a636 1
>+[no]aaonly</VAR
d640 6
a645 1
>Sets the "aa" flag in the query.</P
d648 1
a648 13
><VAR
CLASS="OPTION"
>+[no]aaflag</VAR
></DT
><DD
><P
>A synonym for <VAR
CLASS="PARAMETER"
>+[no]aaonly</VAR
>.</P
></DD
><DT
><VAR
d650 1
a650 1
>+[no]adflag</VAR
d660 1
a660 1
><VAR
d662 1
a662 1
>+[no]cdflag</VAR
d670 1
a670 19
><VAR
CLASS="OPTION"
>+[no]cl</VAR
></DT
><DD
><P
>Display [do not display] the CLASS when printing the record.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]ttlid</VAR
></DT
><DD
><P
>Display [do not display] the TTL when printing the record.</P
></DD
><DT
><VAR
d672 1
a672 1
>+[no]recurse</VAR
d682 1
a682 1
when the <VAR
d684 3
a686 1
>+nssearch</VAR
d688 1
a688 1
<VAR
d690 3
a692 1
>+trace</VAR
d696 1
a696 1
><VAR
d698 1
a698 1
>+[no]nssearch</VAR
d711 1
a711 1
><VAR
d713 1
a713 1
>+[no]trace</VAR
d728 1
a728 1
><VAR
d730 1
a730 1
>+[no]cmd</VAR
d742 1
a742 1
><VAR
d744 1
a744 1
>+[no]short</VAR
d752 1
a752 1
><VAR
d754 1
a754 1
>+[no]identify</VAR
d759 1
a759 1
answer when the <VAR
d761 3
a763 1
>+short</VAR
d769 1
a769 1
><VAR
d771 1
a771 1
>+[no]comments</VAR
d779 1
a779 1
><VAR
d781 1
a781 1
>+[no]stats</VAR
d790 1
a790 1
><VAR
d792 1
a792 1
>+[no]qr</VAR
d800 1
a800 1
><VAR
d802 1
a802 1
>+[no]question</VAR
d810 1
a810 1
><VAR
d812 1
a812 1
>+[no]answer</VAR
d820 1
a820 1
><VAR
d822 1
a822 1
>+[no]authority</VAR
d830 1
a830 1
><VAR
d832 1
a832 1
>+[no]additional</VAR
d840 1
a840 1
><VAR
d842 1
a842 1
>+[no]all</VAR
d849 1
a849 1
><VAR
d851 1
a851 1
>+time=T</VAR
d856 1
a856 1
<VAR
d858 3
a860 1
>T</VAR
d862 1
a862 1
An attempt to set <VAR
d864 3
a866 1
>T</VAR
d871 1
a871 1
><VAR
d873 1
a873 1
>+tries=T</VAR
d877 2
a878 2
>Sets the number of times to try UDP queries to server to
<VAR
d880 3
a882 1
>T</VAR
d884 1
a884 1
<VAR
d886 3
a888 1
>T</VAR
d890 1
a890 1
tries is silently rounded up to 1.</P
d893 1
a893 1
><VAR
d895 1
a895 19
>+retry=T</VAR
></DT
><DD
><P
>Sets the number of times to retry UDP queries to server to
<VAR
CLASS="PARAMETER"
>T</VAR
> instead of the default, 2.  Unlike
<VAR
CLASS="PARAMETER"
>+tries</VAR
>, this does not include the initial
query.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+ndots=D</VAR
d900 1
a900 1
<VAR
d902 8
a909 4
>name</VAR
> to <VAR
CLASS="PARAMETER"
>D</VAR
d918 1
a918 1
<VAR
d920 2
a921 2
>search</VAR
> or <VAR
d923 1
a923 1
>domain</VAR
d931 1
a931 1
><VAR
d933 1
a933 1
>+bufsize=B</VAR
d938 1
a938 1
<VAR
d940 3
a942 1
>B</VAR
d948 1
a948 1
><VAR
d950 1
a950 1
>+[no]multiline</VAR
d963 1
a963 1
><VAR
d965 1
a965 1
>+[no]fail</VAR
d974 1
a974 1
><VAR
d976 1
a976 1
>+[no]besteffort</VAR
d984 1
a984 1
><VAR
d986 1
a986 1
>+[no]dnssec</VAR
d991 1
a991 34
in the OPT record in the additional section of the query.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]sigchase</VAR
></DT
><DD
><P
>Chase DNSSEC signature chains.  Requires dig be compiled with
-DDIG_SIGCHASE.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+trusted-key=####</VAR
></DT
><DD
><P
>Specify a trusted key to be used with <VAR
CLASS="OPTION"
>+sigchase</VAR
>.
Requires dig be compiled with -DDIG_SIGCHASE.</P
></DD
><DT
><VAR
CLASS="OPTION"
>+[no]topdown</VAR
></DT
><DD
><P
>When chasing DNSSEC signature chains perform a top down validation.
Requires dig be compiled with -DDIG_SIGCHASE.</P
d1000 1
a1000 1
NAME="AEN385"
d1010 1
a1010 1
supporting the <VAR
d1012 1
a1012 1
>-f</VAR
d1017 1
a1017 1
>In this case, each <VAR
d1019 3
a1021 1
>query</VAR
d1032 1
a1032 1
the <VAR
d1034 1
a1034 1
>+[no]cmd</VAR
d1045 1
a1045 1
to make three lookups: an ANY query for <VAR
d1047 1
a1047 1
>www.isc.org</VAR
d1050 1
a1050 1
<VAR
d1052 1
a1052 1
>isc.org</VAR
d1055 1
a1055 1
A global query option of <VAR
d1057 3
a1059 1
>+qr</VAR
d1066 1
a1066 1
<VAR
d1068 3
a1070 1
>+noqr</VAR
d1076 1
a1076 1
<VAR
d1078 1
a1078 1
>isc.org</VAR
d1084 1
a1084 1
NAME="AEN403"
a1092 5
><P
><TT
CLASS="FILENAME"
>${HOME}/.digrc</TT
></P
d1097 1
a1097 1
NAME="AEN409"
d1131 1
a1131 1
NAME="AEN422"
d1140 1
a1140 1
>
@


1.1.1.3
log
@ISC BIND release 9.3.2
@
text
@d2 3
a4 3
 - Copyright (C) 2004, 2005 Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2000-2003 Internet Software Consortium.
 - 
d8 1
a8 1
 - 
d11 1
a11 1
 - AND FITNESS. IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
d17 123
a139 23
<!-- $ISC: dig.html,v 1.6.2.4.2.13 2005/10/13 02:33:43 marka Exp $ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>dig</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en">
<a name="id2463721"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2>Name</h2>
<p>dig &#8212; DNS lookup utility</p>
</div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">dig</code>  [@@server] [<code class="option">-b <em class="replaceable"><code>address</code></em></code>] [<code class="option">-c <em class="replaceable"><code>class</code></em></code>] [<code class="option">-f <em class="replaceable"><code>filename</code></em></code>] [<code class="option">-k <em class="replaceable"><code>filename</code></em></code>] [<code class="option">-p <em class="replaceable"><code>port#</code></em></code>] [<code class="option">-t <em class="replaceable"><code>type</code></em></code>] [<code class="option">-x <em class="replaceable"><code>addr</code></em></code>] [<code class="option">-y <em class="replaceable"><code>name:key</code></em></code>] [<code class="option">-4</code>] [<code class="option">-6</code>] [name] [type] [class] [queryopt...]</p></div>
<div class="cmdsynopsis"><p><code class="command">dig</code>  [<code class="option">-h</code>]</p></div>
<div class="cmdsynopsis"><p><code class="command">dig</code>  [global-queryopt...] [query...]</p></div>
</div>
<div class="refsect1" lang="en">
<a name="id2525976"></a><h2>DESCRIPTION</h2>
<p>
<span><strong class="command">dig</strong></span> (domain information groper) is a flexible tool
d142 4
a145 1
were queried.  Most DNS administrators use <span><strong class="command">dig</strong></span> to
d148 9
a156 4
than <span><strong class="command">dig</strong></span>.
</p>
<p>
Although <span><strong class="command">dig</strong></span> is normally used with command-line
d159 4
a162 1
and options is printed when the <code class="option">-h</code> option is given.
d164 45
a208 25
<span><strong class="command">dig</strong></span> allows multiple lookups to be issued from the
command line.
</p>
<p>
Unless it is told to query a specific name server,
<span><strong class="command">dig</strong></span> will try each of the servers listed in
<code class="filename">/etc/resolv.conf</code>.
</p>
<p>
When no command line arguments or options are given, will perform an
NS query for "." (the root).
</p>
<p>
It is possible to set per-user defaults for <span><strong class="command">dig</strong></span> via
<code class="filename">${HOME}/.digrc</code>.  This file is read and any options in it
are applied before the command line arguments.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2526035"></a><h2>SIMPLE USAGE</h2>
<p>
A typical invocation of <span><strong class="command">dig</strong></span> looks like:
</p>
<pre class="programlisting"> dig @@server name type </pre>
<p> where:
d210 13
a222 5
</p>
<div class="variablelist"><dl>
<dt><span class="term"><code class="constant">server</code></span></dt>
<dd><p>
is the name or IP address of the name server to query.  This can be an IPv4
d225 19
a243 4
<em class="parameter"><code>server</code></em> argument is a hostname,
<span><strong class="command">dig</strong></span> resolves that name before querying that name
server.  If no <em class="parameter"><code>server</code></em> argument is provided,
<span><strong class="command">dig</strong></span> consults <code class="filename">/etc/resolv.conf</code>
d245 19
a263 9
server that responds is displayed.
</p></dd>
<dt><span class="term"><code class="constant">name</code></span></dt>
<dd><p>
is the name of the resource record that is to be looked up.
</p></dd>
<dt><span class="term"><code class="constant">type</code></span></dt>
<dd><p>
indicates what type of query is required &#8212;
d265 33
a297 13
<em class="parameter"><code>type</code></em> can be any valid query type.  If no
<em class="parameter"><code>type</code></em> argument is supplied,
<span><strong class="command">dig</strong></span> will perform a lookup for an A record.
</p></dd>
</dl></div>
<p>
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2526114"></a><h2>OPTIONS</h2>
<p>
The <code class="option">-b</code> option sets the source IP address of the query
to <em class="parameter"><code>address</code></em>.  This must be a valid address on
d299 19
a317 9
may be specified by appending "#&lt;port&gt;"
</p>
<p>
The default query class (IN for internet) is overridden by the
<code class="option">-c</code> option.  <em class="parameter"><code>class</code></em> is any valid
class, such as HS for Hesiod records or CH for CHAOSNET records.
</p>
<p>
The <code class="option">-f</code> option makes <span><strong class="command">dig </strong></span> operate
d319 4
a322 1
file <em class="parameter"><code>filename</code></em>.  The file contains a number of
d325 17
a341 6
<span><strong class="command">dig</strong></span> using the command-line interface.
</p>
<p>
If a non-standard port number is to be queried, the
<code class="option">-p</code> option is used.  <em class="parameter"><code>port#</code></em> is
the port number that <span><strong class="command">dig</strong></span> will send its queries
d344 26
a369 10
on a non-standard port number.
</p>
<p>
The <code class="option">-4</code> option forces <span><strong class="command">dig</strong></span> to only
use IPv4 query transport.  The <code class="option">-6</code> option forces
<span><strong class="command">dig</strong></span> to only use IPv6 query transport.
</p>
<p>
The <code class="option">-t</code> option sets the query type to
<em class="parameter"><code>type</code></em>.  It can be any valid query type which is
d371 4
a374 1
<code class="option">-x</code> option is supplied to indicate a reverse lookup.
d377 7
a383 1
<em class="parameter"><code>type</code></em> is set to <code class="literal">ixfr=N</code>.
d386 13
a398 5
<em class="parameter"><code>N</code></em>.
</p>
<p>
Reverse lookups - mapping addresses to names - are simplified by the
<code class="option">-x</code> option.  <em class="parameter"><code>addr</code></em> is an IPv4
d401 14
a414 2
<em class="parameter"><code>name</code></em>, <em class="parameter"><code>class</code></em> and
<em class="parameter"><code>type</code></em> arguments.  <span><strong class="command">dig</strong></span>
d416 4
a419 1
<code class="literal">11.12.13.10.in-addr.arpa</code> and sets the query type and
d423 10
a432 5
specify the <code class="option">-i</code> option.  Bit string labels (RFC2874)
are now experimental and are not attempted.
</p>
<p>
To sign the DNS queries sent by <span><strong class="command">dig</strong></span> and their
d434 23
a456 5
using the <code class="option">-k</code> option.  You can also specify the TSIG
key itself on the command line using the <code class="option">-y</code> option;
<em class="parameter"><code>name</code></em> is the name of the TSIG key and
<em class="parameter"><code>key</code></em> is the actual key.  The key is a base-64
encoded string, typically generated by <span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>.
d458 4
a461 1
Caution should be taken when using the <code class="option">-y</code> option on
d463 11
a473 3
<span class="citerefentry"><span class="refentrytitle">ps</span>(1
)</span> or in the shell's history file.  When
using TSIG authentication with <span><strong class="command">dig</strong></span>, the name
d476 24
a499 8
<span><strong class="command">key</strong></span> and <span><strong class="command">server</strong></span> statements in
<code class="filename">named.conf</code>.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2526365"></a><h2>QUERY OPTIONS</h2>
<p>
<span><strong class="command">dig</strong></span> provides a number of query options which affect
d503 11
a513 6
and retry strategies.
</p>
<p>
Each query option is identified by a keyword preceded by a plus sign
(<code class="literal">+</code>).  Some keywords set or reset an option.  These may be preceded
by the string <code class="literal">no</code> to negate the meaning of that keyword.  Other
d515 4
a518 1
have the form <code class="option">+keyword=value</code>.
d521 13
a533 5
</p>
<div class="variablelist"><dl>
<dt><span class="term"><code class="option">+[no]tcp</code></span></dt>
<dd><p>
Use [do not use] TCP when querying name servers.  The default
d535 106
a640 42
which case a TCP connection is used.
</p></dd>
<dt><span class="term"><code class="option">+[no]vc</code></span></dt>
<dd><p>
Use [do not use] TCP when querying name servers.  This alternate
syntax to <em class="parameter"><code>+[no]tcp</code></em> is provided for backwards
compatibility.  The "vc" stands for "virtual circuit".
</p></dd>
<dt><span class="term"><code class="option">+[no]ignore</code></span></dt>
<dd><p>
Ignore truncation in UDP responses instead of retrying with TCP.  By
default, TCP retries are performed.
</p></dd>
<dt><span class="term"><code class="option">+domain=somename</code></span></dt>
<dd><p>
Set the search list to contain the single domain
<em class="parameter"><code>somename</code></em>, as if specified in a
<span><strong class="command">domain</strong></span> directive in
<code class="filename">/etc/resolv.conf</code>, and enable search list
processing as if the <em class="parameter"><code>+search</code></em> option were given.
</p></dd>
<dt><span class="term"><code class="option">+[no]search</code></span></dt>
<dd><p>
Use [do not use] the search list defined by the searchlist or domain
directive in <code class="filename">resolv.conf</code> (if any).
The search list is not used by default.
</p></dd>
<dt><span class="term"><code class="option">+[no]defname</code></span></dt>
<dd><p>
Deprecated, treated as a synonym for <em class="parameter"><code>+[no]search</code></em>
</p></dd>
<dt><span class="term"><code class="option">+[no]aaonly</code></span></dt>
<dd><p>
Sets the "aa" flag in the query.
</p></dd>
<dt><span class="term"><code class="option">+[no]aaflag</code></span></dt>
<dd><p>
A synonym for <em class="parameter"><code>+[no]aaonly</code></em>.
</p></dd>
<dt><span class="term"><code class="option">+[no]adflag</code></span></dt>
<dd><p>
Set [do not set] the AD (authentic data) bit in the query.  The AD bit
d643 42
a684 19
completeness.
</p></dd>
<dt><span class="term"><code class="option">+[no]cdflag</code></span></dt>
<dd><p>
Set [do not set] the CD (checking disabled) bit in the query.  This
requests the server to not perform DNSSEC validation of responses.
</p></dd>
<dt><span class="term"><code class="option">+[no]cl</code></span></dt>
<dd><p>
Display [do not display] the CLASS when printing the record.
</p></dd>
<dt><span class="term"><code class="option">+[no]ttlid</code></span></dt>
<dd><p>
Display [do not display] the TTL when printing the record.
</p></dd>
<dt><span class="term"><code class="option">+[no]recurse</code></span></dt>
<dd><p>
Toggle the setting of the RD (recursion desired) bit in the query.
This bit is set by default, which means <span><strong class="command">dig</strong></span>
d686 20
a705 6
when the <em class="parameter"><code>+nssearch</code></em> or
<em class="parameter"><code>+trace</code></em> query options are used.
</p></dd>
<dt><span class="term"><code class="option">+[no]nssearch</code></span></dt>
<dd><p>
When this option is set, <span><strong class="command">dig</strong></span> attempts to find the
d708 10
a717 5
zone.
</p></dd>
<dt><span class="term"><code class="option">+[no]trace</code></span></dt>
<dd><p>
Toggle tracing of the delegation path from the root name servers for
d719 4
a722 1
tracing is enabled, <span><strong class="command">dig</strong></span> makes iterative queries to
d725 38
a762 17
resolve the lookup.
</p></dd>
<dt><span class="term"><code class="option">+[no]cmd</code></span></dt>
<dd><p>
toggles the printing of the initial comment in the output identifying
the version of <span><strong class="command">dig</strong></span> and the query options that have
been applied.  This comment is printed by default.
</p></dd>
<dt><span class="term"><code class="option">+[no]short</code></span></dt>
<dd><p>
Provide a terse answer.  The default is to print the answer in a
verbose form.
</p></dd>
<dt><span class="term"><code class="option">+[no]identify</code></span></dt>
<dd><p>
Show [or do not show] the IP address and port number that supplied the
answer when the <em class="parameter"><code>+short</code></em> option is enabled.  If
d764 20
a783 10
source address and port number of the server that provided the answer.
</p></dd>
<dt><span class="term"><code class="option">+[no]comments</code></span></dt>
<dd><p>
Toggle the display of comment lines in the output.  The default is to
print comments.
</p></dd>
<dt><span class="term"><code class="option">+[no]stats</code></span></dt>
<dd><p>
This query option toggles the printing of statistics: when the query
d785 130
a914 57
to print the query statistics.
</p></dd>
<dt><span class="term"><code class="option">+[no]qr</code></span></dt>
<dd><p>
Print [do not print] the query as it is sent.
By default, the query is not printed.
</p></dd>
<dt><span class="term"><code class="option">+[no]question</code></span></dt>
<dd><p>
Print [do not print] the question section of a query when an answer is
returned.  The default is to print the question section as a comment.
</p></dd>
<dt><span class="term"><code class="option">+[no]answer</code></span></dt>
<dd><p>
Display [do not display] the answer section of a reply.  The default
is to display it.
</p></dd>
<dt><span class="term"><code class="option">+[no]authority</code></span></dt>
<dd><p>
Display [do not display] the authority section of a reply.  The
default is to display it.
</p></dd>
<dt><span class="term"><code class="option">+[no]additional</code></span></dt>
<dd><p>
Display [do not display] the additional section of a reply.
The default is to display it.
</p></dd>
<dt><span class="term"><code class="option">+[no]all</code></span></dt>
<dd><p>
Set or clear all display flags.
</p></dd>
<dt><span class="term"><code class="option">+time=T</code></span></dt>
<dd><p>

Sets the timeout for a query to
<em class="parameter"><code>T</code></em> seconds.  The default time out is 5 seconds.
An attempt to set <em class="parameter"><code>T</code></em> to less than 1 will result
in a query timeout of 1 second being applied.
</p></dd>
<dt><span class="term"><code class="option">+tries=T</code></span></dt>
<dd><p>
Sets the number of times to try UDP queries to server to
<em class="parameter"><code>T</code></em> instead of the default, 3.  If
<em class="parameter"><code>T</code></em> is less than or equal to zero, the number of
tries is silently rounded up to 1.
</p></dd>
<dt><span class="term"><code class="option">+retry=T</code></span></dt>
<dd><p>
Sets the number of times to retry UDP queries to server to
<em class="parameter"><code>T</code></em> instead of the default, 2.  Unlike
<em class="parameter"><code>+tries</code></em>, this does not include the initial
query.
</p></dd>
<dt><span class="term"><code class="option">+ndots=D</code></span></dt>
<dd><p>
Set the number of dots that have to appear in
<em class="parameter"><code>name</code></em> to <em class="parameter"><code>D</code></em> for it to be
d916 4
a919 1
ndots statement in <code class="filename">/etc/resolv.conf</code>, or 1 if no
d922 24
a945 7
<code class="option">search</code> or <code class="option">domain</code> directive in
<code class="filename">/etc/resolv.conf</code>.
</p></dd>
<dt><span class="term"><code class="option">+bufsize=B</code></span></dt>
<dd><p>
Set the UDP message buffer size advertised using EDNS0 to
<em class="parameter"><code>B</code></em> bytes.  The maximum and minimum sizes of this
d947 10
a956 5
rounded up or down appropriately.
</p></dd>
<dt><span class="term"><code class="option">+[no]multiline</code></span></dt>
<dd><p>
Print records like the SOA records in a verbose multi-line
d959 13
a971 5
of the <span><strong class="command">dig</strong></span> output.
</p></dd>
<dt><span class="term"><code class="option">+[no]fail</code></span></dt>
<dd><p>
Do not try the next server if you receive a SERVFAIL.  The default is
d973 71
a1043 47
behaviour.
</p></dd>
<dt><span class="term"><code class="option">+[no]besteffort</code></span></dt>
<dd><p>
Attempt to display the contents of messages which are malformed.
The default is to not display malformed answers.
</p></dd>
<dt><span class="term"><code class="option">+[no]dnssec</code></span></dt>
<dd><p>
Requests DNSSEC records be sent by setting the DNSSEC OK bit (DO)
in the OPT record in the additional section of the query.
</p></dd>
<dt><span class="term"><code class="option">+[no]sigchase</code></span></dt>
<dd><p>
Chase DNSSEC signature chains.  Requires dig be compiled with
-DDIG_SIGCHASE.
</p></dd>
<dt><span class="term"><code class="option">+trusted-key=####</code></span></dt>
<dd>
<p>
	      Specifies a file containing trusted keys to be used with
	      <code class="option">+sigchase</code>.  Each DNSKEY record must be
	      on its own line.
	    </p>
<p>
	      If not specified <span><strong class="command">dig</strong></span> will look for
	      <code class="filename">/etc/trusted-key.key</code> then
	      <code class="filename">trusted-key.key</code> in the current directory.
	    </p>
<p>
	      Requires dig be compiled with -DDIG_SIGCHASE.
	    </p>
</dd>
<dt><span class="term"><code class="option">+[no]topdown</code></span></dt>
<dd><p>
When chasing DNSSEC signature chains perform a top down validation.
Requires dig be compiled with -DDIG_SIGCHASE.
</p></dd>
</dl></div>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2527033"></a><h2>MULTIPLE QUERIES</h2>
<p>
The BIND 9 implementation of <span><strong class="command">dig </strong></span> supports
d1045 4
a1048 1
supporting the <code class="option">-f</code> batch file option).  Each of those
d1050 6
a1055 4
options.
</p>
<p>
In this case, each <em class="parameter"><code>query</code></em> argument represent an
d1059 3
a1061 4
should be applied to that query.
</p>
<p>
A global set of query options, which should be applied to all queries,
d1065 4
a1068 1
the <code class="option">+[no]cmd</code> option) can be
d1070 12
a1081 7
</p>
<pre class="programlisting">
dig +qr www.isc.org any -x 127.0.0.1 isc.org ns +noqr
</pre>
<p>
shows how <span><strong class="command">dig</strong></span> could be used from the command line
to make three lookups: an ANY query for <code class="literal">www.isc.org</code>, a
d1083 4
a1086 1
<code class="literal">isc.org</code>.
d1088 8
a1095 2
A global query option of <em class="parameter"><code>+qr</code></em> is applied, so
that <span><strong class="command">dig</strong></span> shows the initial query it made for each
d1097 7
a1103 1
<em class="parameter"><code>+noqr</code></em> which means that <span><strong class="command">dig</strong></span>
d1105 70
a1174 29
<code class="literal">isc.org</code>.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2527092"></a><h2>FILES</h2>
<p>
<code class="filename">/etc/resolv.conf</code>
</p>
<p>
<code class="filename">${HOME}/.digrc</code>
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2527111"></a><h2>SEE ALSO</h2>
<p>
<span class="citerefentry"><span class="refentrytitle">host</span>(1)</span>,
<span class="citerefentry"><span class="refentrytitle">named</span>(8)</span>,
<span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>,
<em class="citetitle">RFC1035</em>.
</p>
</div>
<div class="refsect1" lang="en">
<a name="id2527149"></a><h2>BUGS </h2>
<p>
There are probably too many query options. 
</p>
</div>
</div></body>
</html>
@


1.1.1.4
log
@ISC BIND release 9.3.3
@
text
@d17 1
a17 1
<!-- $ISC: dig.html,v 1.6.2.4.2.15 2006/06/29 13:02:30 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.70.1">
d25 1
a25 1
<a name="id2482688"></a><div class="titlepage"></div>
d37 1
a37 1
<a name="id2549541"></a><h2>DESCRIPTION</h2>
d72 1
a72 1
<a name="id2549600"></a><h2>SIMPLE USAGE</h2>
d110 1
a110 1
<a name="id2549747"></a><h2>OPTIONS</h2>
d191 1
a191 1
<a name="id2549998"></a><h2>QUERY OPTIONS</h2>
d449 1
a449 1
<a name="id2550666"></a><h2>MULTIPLE QUERIES</h2>
d490 1
a490 1
<a name="id2550725"></a><h2>FILES</h2>
d499 1
a499 1
<a name="id2550744"></a><h2>SEE ALSO</h2>
d508 1
a508 1
<a name="id2550782"></a><h2>BUGS </h2>
@


1.1.1.5
log
@ISC BIND release 9.4.2
@
text
@d2 1
a2 1
 - Copyright (C) 2004-2007 Internet Systems Consortium, Inc. ("ISC")
d17 1
a17 1
<!-- $ISC: dig.html,v 1.13.18.28 2007/05/16 06:11:27 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
d25 1
a25 1
<a name="man.dig"></a><div class="titlepage"></div>
d32 1
a32 1
<div class="cmdsynopsis"><p><code class="command">dig</code>  [@@server] [<code class="option">-b <em class="replaceable"><code>address</code></em></code>] [<code class="option">-c <em class="replaceable"><code>class</code></em></code>] [<code class="option">-f <em class="replaceable"><code>filename</code></em></code>] [<code class="option">-k <em class="replaceable"><code>filename</code></em></code>] [<code class="option">-p <em class="replaceable"><code>port#</code></em></code>] [<code class="option">-q <em class="replaceable"><code>name</code></em></code>] [<code class="option">-t <em class="replaceable"><code>type</code></em></code>] [<code class="option">-x <em class="replaceable"><code>addr</code></em></code>] [<code class="option">-y <em class="replaceable"><code>[<span class="optional">hmac:</span>]name:key</code></em></code>] [<code class="option">-4</code>] [<code class="option">-6</code>] [name] [type] [class] [queryopt...]</p></div>
d37 33
a69 44
<a name="id2543508"></a><h2>DESCRIPTION</h2>
<p><span><strong class="command">dig</strong></span>
      (domain information groper) is a flexible tool
      for interrogating DNS name servers.  It performs DNS lookups and
      displays the answers that are returned from the name server(s) that
      were queried.  Most DNS administrators use <span><strong class="command">dig</strong></span> to
      troubleshoot DNS problems because of its flexibility, ease of use and
      clarity of output.  Other lookup tools tend to have less functionality
      than <span><strong class="command">dig</strong></span>.
    </p>
<p>
      Although <span><strong class="command">dig</strong></span> is normally used with
      command-line
      arguments, it also has a batch mode of operation for reading lookup
      requests from a file.  A brief summary of its command-line arguments
      and options is printed when the <code class="option">-h</code> option is given.
      Unlike earlier versions, the BIND 9 implementation of
      <span><strong class="command">dig</strong></span> allows multiple lookups to be issued
      from the
      command line.
    </p>
<p>
      Unless it is told to query a specific name server,
      <span><strong class="command">dig</strong></span> will try each of the servers listed
      in
      <code class="filename">/etc/resolv.conf</code>.
    </p>
<p>
      When no command line arguments or options are given, will perform an
      NS query for "." (the root).
    </p>
<p>
      It is possible to set per-user defaults for <span><strong class="command">dig</strong></span> via
      <code class="filename">${HOME}/.digrc</code>.  This file is read and
      any options in it
      are applied before the command line arguments.
    </p>
<p>
      The IN and CH class names overlap with the IN and CH top level
      domains names.  Either use the <code class="option">-t</code> and
      <code class="option">-c</code> options to specify the type and class or
      use the <code class="option">-q</code> the specify the domain name or
      use "IN." and "CH." when looking up these top level domains.
    </p>
d72 1
a72 1
<a name="id2543577"></a><h2>SIMPLE USAGE</h2>
d74 2
a75 2
      A typical invocation of <span><strong class="command">dig</strong></span> looks like:
      </p>
d77 1
a77 2
<p>
      where:
d79 1
a79 1
      </p>
d83 10
a92 15
              is the name or IP address of the name server to query.  This can
              be an IPv4
              address in dotted-decimal notation or an IPv6
              address in colon-delimited notation.  When the supplied
              <em class="parameter"><code>server</code></em> argument is a
              hostname,
              <span><strong class="command">dig</strong></span> resolves that name before
              querying that name
              server.  If no <em class="parameter"><code>server</code></em>
              argument is provided,
              <span><strong class="command">dig</strong></span> consults <code class="filename">/etc/resolv.conf</code>
              and queries the name servers listed there.  The reply from the
              name
              server that responds is displayed.
            </p></dd>
d95 2
a96 2
              is the name of the resource record that is to be looked up.
            </p></dd>
d99 6
a104 8
              indicates what type of query is required &#8212;
              ANY, A, MX, SIG, etc.
              <em class="parameter"><code>type</code></em> can be any valid query
              type.  If no
              <em class="parameter"><code>type</code></em> argument is supplied,
              <span><strong class="command">dig</strong></span> will perform a lookup for an
              A record.
            </p></dd>
d107 1
a107 1
    </p>
d110 1
a110 1
<a name="id2543668"></a><h2>OPTIONS</h2>
d112 66
a177 85
      The <code class="option">-b</code> option sets the source IP address of the query
      to <em class="parameter"><code>address</code></em>.  This must be a valid
      address on
      one of the host's network interfaces or "0.0.0.0" or "::".  An optional
      port
      may be specified by appending "#&lt;port&gt;"
    </p>
<p>
      The default query class (IN for internet) is overridden by the
      <code class="option">-c</code> option.  <em class="parameter"><code>class</code></em> is
      any valid
      class, such as HS for Hesiod records or CH for Chaosnet records.
    </p>
<p>
      The <code class="option">-f</code> option makes <span><strong class="command">dig </strong></span>
      operate
      in batch mode by reading a list of lookup requests to process from the
      file <em class="parameter"><code>filename</code></em>.  The file contains a
      number of
      queries, one per line.  Each entry in the file should be organized in
      the same way they would be presented as queries to
      <span><strong class="command">dig</strong></span> using the command-line interface.
    </p>
<p>
      If a non-standard port number is to be queried, the
      <code class="option">-p</code> option is used.  <em class="parameter"><code>port#</code></em> is
      the port number that <span><strong class="command">dig</strong></span> will send its
      queries
      instead of the standard DNS port number 53.  This option would be used
      to test a name server that has been configured to listen for queries
      on a non-standard port number.
    </p>
<p>
      The <code class="option">-4</code> option forces <span><strong class="command">dig</strong></span>
      to only
      use IPv4 query transport.  The <code class="option">-6</code> option forces
      <span><strong class="command">dig</strong></span> to only use IPv6 query transport.
    </p>
<p>
      The <code class="option">-t</code> option sets the query type to
      <em class="parameter"><code>type</code></em>.  It can be any valid query type
      which is
      supported in BIND 9.  The default query type is "A", unless the
      <code class="option">-x</code> option is supplied to indicate a reverse lookup.
      A zone transfer can be requested by specifying a type of AXFR.  When
      an incremental zone transfer (IXFR) is required,
      <em class="parameter"><code>type</code></em> is set to <code class="literal">ixfr=N</code>.
      The incremental zone transfer will contain the changes made to the zone
      since the serial number in the zone's SOA record was
      <em class="parameter"><code>N</code></em>.
    </p>
<p>
      The <code class="option">-q</code> option sets the query name to 
      <em class="parameter"><code>name</code></em>.  This useful do distinguish the
      <em class="parameter"><code>name</code></em> from other arguments.
    </p>
<p>
      Reverse lookups &#8212; mapping addresses to names &#8212; are simplified by the
      <code class="option">-x</code> option.  <em class="parameter"><code>addr</code></em> is
      an IPv4
      address in dotted-decimal notation, or a colon-delimited IPv6 address.
      When this option is used, there is no need to provide the
      <em class="parameter"><code>name</code></em>, <em class="parameter"><code>class</code></em> and
      <em class="parameter"><code>type</code></em> arguments.  <span><strong class="command">dig</strong></span>
      automatically performs a lookup for a name like
      <code class="literal">11.12.13.10.in-addr.arpa</code> and sets the
      query type and
      class to PTR and IN respectively.  By default, IPv6 addresses are
      looked up using nibble format under the IP6.ARPA domain.
      To use the older RFC1886 method using the IP6.INT domain
      specify the <code class="option">-i</code> option.  Bit string labels (RFC2874)
      are now experimental and are not attempted.
    </p>
<p>
      To sign the DNS queries sent by <span><strong class="command">dig</strong></span> and
      their
      responses using transaction signatures (TSIG), specify a TSIG key file
      using the <code class="option">-k</code> option.  You can also specify the TSIG
      key itself on the command line using the <code class="option">-y</code> option;
      <em class="parameter"><code>hmac</code></em> is the type of the TSIG, default HMAC-MD5,
      <em class="parameter"><code>name</code></em> is the name of the TSIG key and
      <em class="parameter"><code>key</code></em> is the actual key.  The key is a
      base-64
      encoded string, typically generated by
      <span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>.
d179 10
a188 10
      Caution should be taken when using the <code class="option">-y</code> option on
      multi-user systems as the key can be visible in the output from
      <span class="citerefentry"><span class="refentrytitle">ps</span>(1)</span>
      or in the shell's history file.  When
      using TSIG authentication with <span><strong class="command">dig</strong></span>, the name
      server that is queried needs to know the key and algorithm that is
      being used.  In BIND, this is done by providing appropriate
      <span><strong class="command">key</strong></span> and <span><strong class="command">server</strong></span> statements in
      <code class="filename">named.conf</code>.
    </p>
d191 15
a205 17
<a name="id2543939"></a><h2>QUERY OPTIONS</h2>
<p><span><strong class="command">dig</strong></span>
      provides a number of query options which affect
      the way in which lookups are made and the results displayed.  Some of
      these set or reset flag bits in the query header, some determine which
      sections of the answer get printed, and others determine the timeout
      and retry strategies.
    </p>
<p>
      Each query option is identified by a keyword preceded by a plus sign
      (<code class="literal">+</code>).  Some keywords set or reset an
      option.  These may be preceded
      by the string <code class="literal">no</code> to negate the meaning of
      that keyword.  Other
      keywords assign values to options like the timeout interval.  They
      have the form <code class="option">+keyword=value</code>.
      The query options are:
d207 1
a207 1
      </p>
d211 4
a214 5
              Use [do not use] TCP when querying name servers.  The default
              behavior is to use UDP unless an AXFR or IXFR query is
              requested, in
              which case a TCP connection is used.
            </p></dd>
d217 4
a220 5
              Use [do not use] TCP when querying name servers.  This alternate
              syntax to <em class="parameter"><code>+[no]tcp</code></em> is
              provided for backwards
              compatibility.  The "vc" stands for "virtual circuit".
            </p></dd>
d223 3
a225 4
              Ignore truncation in UDP responses instead of retrying with TCP.
               By
              default, TCP retries are performed.
            </p></dd>
d228 6
a233 9
              Set the search list to contain the single domain
              <em class="parameter"><code>somename</code></em>, as if specified in
              a
              <span><strong class="command">domain</strong></span> directive in
              <code class="filename">/etc/resolv.conf</code>, and enable
              search list
              processing as if the <em class="parameter"><code>+search</code></em>
              option were given.
            </p></dd>
d236 4
a239 11
              Use [do not use] the search list defined by the searchlist or
              domain
              directive in <code class="filename">resolv.conf</code> (if
              any).
              The search list is not used by default.
            </p></dd>
<dt><span class="term"><code class="option">+[no]showsearch</code></span></dt>
<dd><p>
              Perform [do not perform] a search showing intermediate
	      results.
            </p></dd>
d242 2
a243 2
              Deprecated, treated as a synonym for <em class="parameter"><code>+[no]search</code></em>
            </p></dd>
d246 2
a247 2
              Sets the "aa" flag in the query.
            </p></dd>
d250 2
a251 2
              A synonym for <em class="parameter"><code>+[no]aaonly</code></em>.
            </p></dd>
d254 5
a258 7
              Set [do not set] the AD (authentic data) bit in the query.  The
              AD bit
              currently has a standard meaning only in responses, not in
              queries,
              but the ability to set the bit in the query is provided for
              completeness.
            </p></dd>
d261 3
a263 5
              Set [do not set] the CD (checking disabled) bit in the query.
              This
              requests the server to not perform DNSSEC validation of
              responses.
            </p></dd>
d266 2
a267 2
              Display [do not display] the CLASS when printing the record.
            </p></dd>
d270 2
a271 2
              Display [do not display] the TTL when printing the record.
            </p></dd>
d274 6
a279 9
              Toggle the setting of the RD (recursion desired) bit in the
              query.
              This bit is set by default, which means <span><strong class="command">dig</strong></span>
              normally sends recursive queries.  Recursion is automatically
              disabled
              when the <em class="parameter"><code>+nssearch</code></em> or
              <em class="parameter"><code>+trace</code></em> query options are
              used.
            </p></dd>
d282 5
a286 8
              When this option is set, <span><strong class="command">dig</strong></span>
              attempts to find the
              authoritative name servers for the zone containing the name
              being
              looked up and display the SOA record that each name server has
              for the
              zone.
            </p></dd>
d289 7
a295 11
              Toggle tracing of the delegation path from the root name servers
              for
              the name being looked up.  Tracing is disabled by default.  When
              tracing is enabled, <span><strong class="command">dig</strong></span> makes
              iterative queries to
              resolve the name being looked up.  It will follow referrals from
              the
              root servers, showing the answer from each server that was used
              to
              resolve the lookup.
            </p></dd>
d298 4
a301 6
              Toggles the printing of the initial comment in the output
              identifying
              the version of <span><strong class="command">dig</strong></span> and the query
              options that have
              been applied.  This comment is printed by default.
            </p></dd>
d304 3
a306 3
              Provide a terse answer.  The default is to print the answer in a
              verbose form.
            </p></dd>
d309 5
a313 8
              Show [or do not show] the IP address and port number that
              supplied the
              answer when the <em class="parameter"><code>+short</code></em> option
              is enabled.  If
              short form answers are requested, the default is not to show the
              source address and port number of the server that provided the
              answer.
            </p></dd>
d316 3
a318 4
              Toggle the display of comment lines in the output.  The default
              is to
              print comments.
            </p></dd>
d321 4
a324 6
              This query option toggles the printing of statistics: when the
              query
              was made, the size of the reply and so on.  The default
              behavior is
              to print the query statistics.
            </p></dd>
d327 3
a329 3
              Print [do not print] the query as it is sent.
              By default, the query is not printed.
            </p></dd>
d332 3
a334 5
              Print [do not print] the question section of a query when an
              answer is
              returned.  The default is to print the question section as a
              comment.
            </p></dd>
d337 3
a339 4
              Display [do not display] the answer section of a reply.  The
              default
              is to display it.
            </p></dd>
d342 3
a344 3
              Display [do not display] the authority section of a reply.  The
              default is to display it.
            </p></dd>
d347 3
a349 3
              Display [do not display] the additional section of a reply.
              The default is to display it.
            </p></dd>
d352 2
a353 2
              Set or clear all display flags.
            </p></dd>
d357 5
a361 7
              Sets the timeout for a query to
              <em class="parameter"><code>T</code></em> seconds.  The default
	      timeout is 5 seconds.
              An attempt to set <em class="parameter"><code>T</code></em> to less
              than 1 will result
              in a query timeout of 1 second being applied.
            </p></dd>
d364 5
a368 7
              Sets the number of times to try UDP queries to server to
              <em class="parameter"><code>T</code></em> instead of the default, 3.
              If
              <em class="parameter"><code>T</code></em> is less than or equal to
              zero, the number of
              tries is silently rounded up to 1.
            </p></dd>
d371 5
a375 7
              Sets the number of times to retry UDP queries to server to
              <em class="parameter"><code>T</code></em> instead of the default, 2.
              Unlike
              <em class="parameter"><code>+tries</code></em>, this does not include
              the initial
              query.
            </p></dd>
d378 9
a386 12
              Set the number of dots that have to appear in
              <em class="parameter"><code>name</code></em> to <em class="parameter"><code>D</code></em> for it to be
              considered absolute.  The default value is that defined using
              the
              ndots statement in <code class="filename">/etc/resolv.conf</code>, or 1 if no
              ndots statement is present.  Names with fewer dots are
              interpreted as
              relative names and will be searched for in the domains listed in
              the
              <code class="option">search</code> or <code class="option">domain</code> directive in
              <code class="filename">/etc/resolv.conf</code>.
            </p></dd>
d389 5
a393 13
              Set the UDP message buffer size advertised using EDNS0 to
              <em class="parameter"><code>B</code></em> bytes.  The maximum and minimum sizes
	      of this buffer are 65535 and 0 respectively.  Values outside
	      this range are rounded up or down appropriately.  
	      Values other than zero will cause a EDNS query to be sent.
            </p></dd>
<dt><span class="term"><code class="option">+edns=#</code></span></dt>
<dd><p>
	       Specify the EDNS version to query with.  Valid values
	       are 0 to 255.  Setting the EDNS version will cause a
	       EDNS query to be sent.  <code class="option">+noedns</code> clears the
	       remembered EDNS version.
	    </p></dd>
d396 5
a400 5
              Print records like the SOA records in a verbose multi-line
              format with human-readable comments.  The default is to print
              each record on a single line, to facilitate machine parsing
              of the <span><strong class="command">dig</strong></span> output.
            </p></dd>
d403 4
a406 6
              Do not try the next server if you receive a SERVFAIL.  The
              default is
              to not try the next server which is the reverse of normal stub
              resolver
              behavior.
            </p></dd>
d409 3
a411 3
              Attempt to display the contents of messages which are malformed.
              The default is to not display malformed answers.
            </p></dd>
d414 3
a416 4
              Requests DNSSEC records be sent by setting the DNSSEC OK bit
              (DO)
              in the OPT record in the additional section of the query.
            </p></dd>
d419 3
a421 3
              Chase DNSSEC signature chains.  Requires dig be compiled with
              -DDIG_SIGCHASE.
            </p></dd>
d425 1
a425 1
              Specifies a file containing trusted keys to be used with
d428 1
a428 1
            </p>
d435 1
a435 1
              Requires dig be compiled with -DDIG_SIGCHASE.
d440 3
a442 4
              When chasing DNSSEC signature chains perform a top-down
              validation.
              Requires dig be compiled with -DDIG_SIGCHASE.
            </p></dd>
d446 1
a446 1
    </p>
d449 1
a449 1
<a name="id2545128"></a><h2>MULTIPLE QUERIES</h2>
d451 21
a471 23
      The BIND 9 implementation of <span><strong class="command">dig </strong></span>
      supports
      specifying multiple queries on the command line (in addition to
      supporting the <code class="option">-f</code> batch file option).  Each of those
      queries can be supplied with its own set of flags, options and query
      options.
    </p>
<p>
      In this case, each <em class="parameter"><code>query</code></em> argument
      represent an
      individual query in the command-line syntax described above.  Each
      consists of any of the standard options and flags, the name to be
      looked up, an optional query type and class and any query options that
      should be applied to that query.
    </p>
<p>
      A global set of query options, which should be applied to all queries,
      can also be supplied.  These global query options must precede the
      first tuple of name, class, type, options, flags, and query options
      supplied on the command line.  Any global query options (except
      the <code class="option">+[no]cmd</code> option) can be
      overridden by a query-specific set of query options.  For example:
      </p>
d476 4
a479 5
      shows how <span><strong class="command">dig</strong></span> could be used from the
      command line
      to make three lookups: an ANY query for <code class="literal">www.isc.org</code>, a
      reverse lookup of 127.0.0.1 and a query for the NS records of
      <code class="literal">isc.org</code>.
d481 7
a487 9
      A global query option of <em class="parameter"><code>+qr</code></em> is
      applied, so
      that <span><strong class="command">dig</strong></span> shows the initial query it made
      for each
      lookup.  The final query has a local query option of
      <em class="parameter"><code>+noqr</code></em> which means that <span><strong class="command">dig</strong></span>
      will not print the initial query when it looks up the NS records for
      <code class="literal">isc.org</code>.
    </p>
d490 1
a490 1
<a name="id2545258"></a><h2>IDN SUPPORT</h2>
d492 5
a496 10
      If <span><strong class="command">dig</strong></span> has been built with IDN (internationalized
      domain name) support, it can accept and display non-ASCII domain names.
      <span><strong class="command">dig</strong></span> appropriately converts character encoding of
      domain name before sending a request to DNS server or displaying a
      reply from the server.
      If you'd like to turn off the IDN support for some reason, defines
      the <code class="envar">IDN_DISABLE</code> environment variable.
      The IDN support is disabled if the variable is set when 
      <span><strong class="command">dig</strong></span> runs.
    </p>
d499 7
a505 13
<a name="id2545281"></a><h2>FILES</h2>
<p><code class="filename">/etc/resolv.conf</code>
    </p>
<p><code class="filename">${HOME}/.digrc</code>
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2545298"></a><h2>SEE ALSO</h2>
<p><span class="citerefentry"><span class="refentrytitle">host</span>(1)</span>,
      <span class="citerefentry"><span class="refentrytitle">named</span>(8)</span>,
      <span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>,
      <em class="citetitle">RFC1035</em>.
    </p>
d508 1
a508 1
<a name="id2545335"></a><h2>BUGS</h2>
d510 2
a511 2
      There are probably too many query options.
    </p>
@


