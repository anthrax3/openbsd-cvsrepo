head	1.7;
access;
symbols
	OPENBSD_5_6:1.6.0.30
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.28
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.24
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.22
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.20
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.18
	OPENBSD_5_0:1.6.0.16
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.14
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.6.0.12
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.8
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.10
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.6
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.4
	OPENBSD_4_4_BASE:1.6
	BIND_9_4_2_P1:1.1.1.5
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	BIND_9_4_2:1.1.1.5
	OPENBSD_4_2:1.5.0.4
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	BIND_9_3_4:1.1.1.4
	BIND_9_3_3:1.1.1.4
	OPENBSD_4_0:1.4.0.2
	OPENBSD_4_0_BASE:1.4
	BIND_9_3_2:1.1.1.3
	OPENBSD_3_9:1.3.0.6
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	BIND_9_3_1:1.1.1.2
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	BIND_9_3_0:1.1.1.2
	OPENBSD_3_6:1.2.0.8
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.6
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.4
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2
	BIND_9_2_2_RC1:1.1.1.1
	ISC:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2014.08.25.07.08.32;	author brad;	state dead;
branches;
next	1.6;
commitid	zKogyOACFMOV70QE;

1.6
date	2007.12.09.13.39.42;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2007.01.10.19.07.58;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	2006.04.05.17.36.33;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2004.09.28.17.14.03;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.05.09.18.32;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.20.21.06.06;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.01.20.21.06.06;	author jakob;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2004.09.28.16.32.54;	author jakob;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2006.04.05.16.42.06;	author jakob;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2007.01.10.18.18.22;	author jakob;	state Exp;
branches;
next	1.1.1.5;

1.1.1.5
date	2007.12.09.12.32.32;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Start removing unused documentation and the server and related binaries source
code.
@
text
@<!--
 - Copyright (C) 2004-2007 Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2000-2003 Internet Software Consortium.
 - 
 - Permission to use, copy, modify, and distribute this software for any
 - purpose with or without fee is hereby granted, provided that the above
 - copyright notice and this permission notice appear in all copies.
 - 
 - THE SOFTWARE IS PROVIDED "AS IS" AND ISC DISCLAIMS ALL WARRANTIES WITH
 - REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 - AND FITNESS. IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
 - INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 - LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE
 - OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 - PERFORMANCE OF THIS SOFTWARE.
-->
<!-- $ISC: dnssec-signzone.html,v 1.8.18.23 2007/05/09 03:33:12 marka Exp $ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>dnssec-signzone</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en">
<a name="man.dnssec-signzone"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2>Name</h2>
<p><span class="application">dnssec-signzone</span> &#8212; DNSSEC zone signing tool</p>
</div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">dnssec-signzone</code>  [<code class="option">-a</code>] [<code class="option">-c <em class="replaceable"><code>class</code></em></code>] [<code class="option">-d <em class="replaceable"><code>directory</code></em></code>] [<code class="option">-e <em class="replaceable"><code>end-time</code></em></code>] [<code class="option">-f <em class="replaceable"><code>output-file</code></em></code>] [<code class="option">-g</code>] [<code class="option">-h</code>] [<code class="option">-k <em class="replaceable"><code>key</code></em></code>] [<code class="option">-l <em class="replaceable"><code>domain</code></em></code>] [<code class="option">-i <em class="replaceable"><code>interval</code></em></code>] [<code class="option">-I <em class="replaceable"><code>input-format</code></em></code>] [<code class="option">-j <em class="replaceable"><code>jitter</code></em></code>] [<code class="option">-N <em class="replaceable"><code>soa-serial-format</code></em></code>] [<code class="option">-o <em class="replaceable"><code>origin</code></em></code>] [<code class="option">-O <em class="replaceable"><code>output-format</code></em></code>] [<code class="option">-p</code>] [<code class="option">-r <em class="replaceable"><code>randomdev</code></em></code>] [<code class="option">-s <em class="replaceable"><code>start-time</code></em></code>] [<code class="option">-t</code>] [<code class="option">-v <em class="replaceable"><code>level</code></em></code>] [<code class="option">-z</code>] {zonefile} [key...]</p></div>
</div>
<div class="refsect1" lang="en">
<a name="id2543526"></a><h2>DESCRIPTION</h2>
<p><span><strong class="command">dnssec-signzone</strong></span>
      signs a zone.  It generates
      NSEC and RRSIG records and produces a signed version of the
      zone. The security status of delegations from the signed zone
      (that is, whether the child zones are secure or not) is
      determined by the presence or absence of a
      <code class="filename">keyset</code> file for each child zone.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2543541"></a><h2>OPTIONS</h2>
<div class="variablelist"><dl>
<dt><span class="term">-a</span></dt>
<dd><p>
            Verify all generated signatures.
          </p></dd>
<dt><span class="term">-c <em class="replaceable"><code>class</code></em></span></dt>
<dd><p>
            Specifies the DNS class of the zone.
          </p></dd>
<dt><span class="term">-k <em class="replaceable"><code>key</code></em></span></dt>
<dd><p>
            Treat specified key as a key signing key ignoring any
            key flags.  This option may be specified multiple times.
          </p></dd>
<dt><span class="term">-l <em class="replaceable"><code>domain</code></em></span></dt>
<dd><p>
            Generate a DLV set in addition to the key (DNSKEY) and DS sets.
            The domain is appended to the name of the records.
          </p></dd>
<dt><span class="term">-d <em class="replaceable"><code>directory</code></em></span></dt>
<dd><p>
            Look for <code class="filename">keyset</code> files in
            <code class="option">directory</code> as the directory
          </p></dd>
<dt><span class="term">-g</span></dt>
<dd><p>
            Generate DS records for child zones from keyset files.
            Existing DS records will be removed.
          </p></dd>
<dt><span class="term">-s <em class="replaceable"><code>start-time</code></em></span></dt>
<dd><p>
            Specify the date and time when the generated RRSIG records
            become valid.  This can be either an absolute or relative
            time.  An absolute start time is indicated by a number
            in YYYYMMDDHHMMSS notation; 20000530144500 denotes
            14:45:00 UTC on May 30th, 2000.  A relative start time is
            indicated by +N, which is N seconds from the current time.
            If no <code class="option">start-time</code> is specified, the current
            time minus 1 hour (to allow for clock skew) is used.
          </p></dd>
<dt><span class="term">-e <em class="replaceable"><code>end-time</code></em></span></dt>
<dd><p>
            Specify the date and time when the generated RRSIG records
            expire.  As with <code class="option">start-time</code>, an absolute
            time is indicated in YYYYMMDDHHMMSS notation.  A time relative
            to the start time is indicated with +N, which is N seconds from
            the start time.  A time relative to the current time is
            indicated with now+N.  If no <code class="option">end-time</code> is
            specified, 30 days from the start time is used as a default.
          </p></dd>
<dt><span class="term">-f <em class="replaceable"><code>output-file</code></em></span></dt>
<dd><p>
            The name of the output file containing the signed zone.  The
            default is to append <code class="filename">.signed</code> to
            the
            input filename.
          </p></dd>
<dt><span class="term">-h</span></dt>
<dd><p>
            Prints a short summary of the options and arguments to
            <span><strong class="command">dnssec-signzone</strong></span>.
          </p></dd>
<dt><span class="term">-i <em class="replaceable"><code>interval</code></em></span></dt>
<dd>
<p>
            When a previously-signed zone is passed as input, records
            may be resigned.  The <code class="option">interval</code> option
            specifies the cycle interval as an offset from the current
            time (in seconds).  If a RRSIG record expires after the
            cycle interval, it is retained.  Otherwise, it is considered
            to be expiring soon, and it will be replaced.
          </p>
<p>
            The default cycle interval is one quarter of the difference
            between the signature end and start times.  So if neither
            <code class="option">end-time</code> or <code class="option">start-time</code>
            are specified, <span><strong class="command">dnssec-signzone</strong></span>
            generates
            signatures that are valid for 30 days, with a cycle
            interval of 7.5 days.  Therefore, if any existing RRSIG records
            are due to expire in less than 7.5 days, they would be
            replaced.
          </p>
</dd>
<dt><span class="term">-I <em class="replaceable"><code>input-format</code></em></span></dt>
<dd><p>
            The format of the input zone file.
	    Possible formats are <span><strong class="command">"text"</strong></span> (default)
	    and <span><strong class="command">"raw"</strong></span>.
	    This option is primarily intended to be used for dynamic
            signed zones so that the dumped zone file in a non-text
            format containing updates can be signed directly.
	    The use of this option does not make much sense for
	    non-dynamic zones.
          </p></dd>
<dt><span class="term">-j <em class="replaceable"><code>jitter</code></em></span></dt>
<dd>
<p>
            When signing a zone with a fixed signature lifetime, all
            RRSIG records issued at the time of signing expires
            simultaneously.  If the zone is incrementally signed, i.e.
            a previously-signed zone is passed as input to the signer,
            all expired signatures have to be regenerated at about the
            same time.  The <code class="option">jitter</code> option specifies a
            jitter window that will be used to randomize the signature
            expire time, thus spreading incremental signature
            regeneration over time.
          </p>
<p>
            Signature lifetime jitter also to some extent benefits
            validators and servers by spreading out cache expiration,
            i.e. if large numbers of RRSIGs don't expire at the same time
            from all caches there will be less congestion than if all
            validators need to refetch at mostly the same time.
          </p>
</dd>
<dt><span class="term">-n <em class="replaceable"><code>ncpus</code></em></span></dt>
<dd><p>
            Specifies the number of threads to use.  By default, one
            thread is started for each detected CPU.
          </p></dd>
<dt><span class="term">-N <em class="replaceable"><code>soa-serial-format</code></em></span></dt>
<dd>
<p>
            The SOA serial number format of the signed zone.
	    Possible formats are <span><strong class="command">"keep"</strong></span> (default),
            <span><strong class="command">"increment"</strong></span> and
	    <span><strong class="command">"unixtime"</strong></span>.
          </p>
<div class="variablelist"><dl>
<dt><span class="term"><span><strong class="command">"keep"</strong></span></span></dt>
<dd><p>Do not modify the SOA serial number.</p></dd>
<dt><span class="term"><span><strong class="command">"increment"</strong></span></span></dt>
<dd><p>Increment the SOA serial number using RFC 1982
                      arithmetics.</p></dd>
<dt><span class="term"><span><strong class="command">"unixtime"</strong></span></span></dt>
<dd><p>Set the SOA serial number to the number of seconds
	        since epoch.</p></dd>
</dl></div>
</dd>
<dt><span class="term">-o <em class="replaceable"><code>origin</code></em></span></dt>
<dd><p>
            The zone origin.  If not specified, the name of the zone file
            is assumed to be the origin.
          </p></dd>
<dt><span class="term">-O <em class="replaceable"><code>output-format</code></em></span></dt>
<dd><p>
            The format of the output file containing the signed zone.
	    Possible formats are <span><strong class="command">"text"</strong></span> (default)
	    and <span><strong class="command">"raw"</strong></span>.
          </p></dd>
<dt><span class="term">-p</span></dt>
<dd><p>
            Use pseudo-random data when signing the zone.  This is faster,
            but less secure, than using real random data.  This option
            may be useful when signing large zones or when the entropy
            source is limited.
          </p></dd>
<dt><span class="term">-r <em class="replaceable"><code>randomdev</code></em></span></dt>
<dd><p>
            Specifies the source of randomness.  If the operating
            system does not provide a <code class="filename">/dev/random</code>
            or equivalent device, the default source of randomness
            is keyboard input.  <code class="filename">randomdev</code>
            specifies
            the name of a character device or file containing random
            data to be used instead of the default.  The special value
            <code class="filename">keyboard</code> indicates that keyboard
            input should be used.
          </p></dd>
<dt><span class="term">-t</span></dt>
<dd><p>
            Print statistics at completion.
          </p></dd>
<dt><span class="term">-v <em class="replaceable"><code>level</code></em></span></dt>
<dd><p>
            Sets the debugging level.
          </p></dd>
<dt><span class="term">-z</span></dt>
<dd><p>
            Ignore KSK flag on key when determining what to sign.
          </p></dd>
<dt><span class="term">zonefile</span></dt>
<dd><p>
            The file containing the zone to be signed.
          </p></dd>
<dt><span class="term">key</span></dt>
<dd><p>
	    Specify which keys should be used to sign the zone.  If
	    no keys are specified, then the zone will be examined
	    for DNSKEY records at the zone apex.  If these are found and
	    there are matching private keys, in the current directory,
	    then these will be used for signing.
          </p></dd>
</dl></div>
</div>
<div class="refsect1" lang="en">
<a name="id2544327"></a><h2>EXAMPLE</h2>
<p>
      The following command signs the <strong class="userinput"><code>example.com</code></strong>
      zone with the DSA key generated by <span><strong class="command">dnssec-keygen</strong></span>
      (Kexample.com.+003+17247).  The zone's keys must be in the master
      file (<code class="filename">db.example.com</code>).  This invocation looks
      for <code class="filename">keyset</code> files, in the current directory,
      so that DS records can be generated from them (<span><strong class="command">-g</strong></span>).
    </p>
<pre class="programlisting">% dnssec-signzone -g -o example.com db.example.com \
Kexample.com.+003+17247
db.example.com.signed
%</pre>
<p>
      In the above example, <span><strong class="command">dnssec-signzone</strong></span> creates
      the file <code class="filename">db.example.com.signed</code>.  This
      file should be referenced in a zone statement in a
      <code class="filename">named.conf</code> file.
    </p>
<p>
      This example re-signs a previously signed zone with default parameters.
      The private keys are assumed to be in the current directory.
    </p>
<pre class="programlisting">% cp db.example.com.signed db.example.com
% dnssec-signzone -o example.com db.example.com
db.example.com.signed
%</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2544378"></a><h2>SEE ALSO</h2>
<p><span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>,
      <em class="citetitle">BIND 9 Administrator Reference Manual</em>,
      <em class="citetitle">RFC 2535</em>.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2544403"></a><h2>AUTHOR</h2>
<p><span class="corpauthor">Internet Systems Consortium</span>
    </p>
</div>
</div></body>
</html>
@


1.6
log
@resolve conflicts
@
text
@@


1.5
log
@resolve conflicts and regen configure script
@
text
@d2 1
a2 1
 - Copyright (C) 2004, 2005 Internet Systems Consortium, Inc. ("ISC")
d17 1
a17 1
<!-- $ISC: dnssec-signzone.html,v 1.4.2.1.4.16 2006/06/29 13:02:30 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.70.1">
d25 1
a25 1
<a name="id2482688"></a><div class="titlepage"></div>
d32 1
a32 1
<div class="cmdsynopsis"><p><code class="command">dnssec-signzone</code>  [<code class="option">-a</code>] [<code class="option">-c <em class="replaceable"><code>class</code></em></code>] [<code class="option">-d <em class="replaceable"><code>directory</code></em></code>] [<code class="option">-e <em class="replaceable"><code>end-time</code></em></code>] [<code class="option">-f <em class="replaceable"><code>output-file</code></em></code>] [<code class="option">-g</code>] [<code class="option">-h</code>] [<code class="option">-k <em class="replaceable"><code>key</code></em></code>] [<code class="option">-l <em class="replaceable"><code>domain</code></em></code>] [<code class="option">-i <em class="replaceable"><code>interval</code></em></code>] [<code class="option">-n <em class="replaceable"><code>nthreads</code></em></code>] [<code class="option">-o <em class="replaceable"><code>origin</code></em></code>] [<code class="option">-p</code>] [<code class="option">-r <em class="replaceable"><code>randomdev</code></em></code>] [<code class="option">-s <em class="replaceable"><code>start-time</code></em></code>] [<code class="option">-t</code>] [<code class="option">-v <em class="replaceable"><code>level</code></em></code>] [<code class="option">-z</code>] {zonefile} [key...]</p></div>
d35 8
a42 8
<a name="id2549544"></a><h2>DESCRIPTION</h2>
<p>
        <span><strong class="command">dnssec-signzone</strong></span> signs a zone.  It generates
	NSEC and RRSIG records and produces a signed version of the
	zone. The security status of delegations from the signed zone
	(that is, whether the child zones are secure or not) is
	determined by the presence or absence of a
	<code class="filename">keyset</code> file for each child zone.
d46 1
a46 1
<a name="id2549560"></a><h2>OPTIONS</h2>
d50 2
a51 2
	      Verify all generated signatures.
	  </p></dd>
d54 2
a55 2
	       Specifies the DNS class of the zone.
	  </p></dd>
d58 3
a60 3
	       Treat specified key as a key signing key ignoring any
	       key flags.  This option may be specified multiple times.
	  </p></dd>
d63 3
a65 3
		Generate a DLV set in addition to the key (DNSKEY) and DS sets.
		The domain is appended to the name of the records.
	  </p></dd>
d68 3
a70 3
	       Look for <code class="filename">keyset</code> files in
	       <code class="option">directory</code> as the directory 
	  </p></dd>
d73 3
a75 3
		Generate DS records for child zones from keyset files.
		Existing DS records will be removed.
	  </p></dd>
d78 9
a86 9
	       Specify the date and time when the generated RRSIG records
	       become valid.  This can be either an absolute or relative
	       time.  An absolute start time is indicated by a number
	       in YYYYMMDDHHMMSS notation; 20000530144500 denotes
	       14:45:00 UTC on May 30th, 2000.  A relative start time is
	       indicated by +N, which is N seconds from the current time.
	       If no <code class="option">start-time</code> is specified, the current
	       time minus 1 hour (to allow for clock skew) is used.
	  </p></dd>
d89 8
a96 8
	       Specify the date and time when the generated RRSIG records
	       expire.  As with <code class="option">start-time</code>, an absolute
	       time is indicated in YYYYMMDDHHMMSS notation.  A time relative
	       to the start time is indicated with +N, which is N seconds from
	       the start time.  A time relative to the current time is
	       indicated with now+N.  If no <code class="option">end-time</code> is
	       specified, 30 days from the start time is used as a default.
	  </p></dd>
d99 5
a103 4
	       The name of the output file containing the signed zone.  The
	       default is to append <code class="filename">.signed</code> to the
	       input file.
	  </p></dd>
d106 3
a108 3
	       Prints a short summary of the options and arguments to
	       <span><strong class="command">dnssec-signzone</strong></span>.
	  </p></dd>
d112 50
a161 17
	       When a previously signed zone is passed as input, records
	       may be resigned.  The <code class="option">interval</code> option
	       specifies the cycle interval as an offset from the current
	       time (in seconds).  If a RRSIG record expires after the
	       cycle interval, it is retained.  Otherwise, it is considered
	       to be expiring soon, and it will be replaced.
	  </p>
<p>
	       The default cycle interval is one quarter of the difference
	       between the signature end and start times.  So if neither
	       <code class="option">end-time</code> or <code class="option">start-time</code>
	       are specified, <span><strong class="command">dnssec-signzone</strong></span> generates
	       signatures that are valid for 30 days, with a cycle
	       interval of 7.5 days.  Therefore, if any existing RRSIG records
	       are due to expire in less than 7.5 days, they would be
	       replaced.
	  </p>
d165 22
a186 3
	       Specifies the number of threads to use.  By default, one
	       thread is started for each detected CPU.
	  </p></dd>
d189 9
a197 3
	       The zone origin.  If not specified, the name of the zone file
	       is assumed to be the origin.
	  </p></dd>
d200 5
a204 5
	       Use pseudo-random data when signing the zone.  This is faster,
	       but less secure, than using real random data.  This option
	       may be useful when signing large zones or when the entropy
	       source is limited.
	  </p></dd>
d207 10
a216 9
	       Specifies the source of randomness.  If the operating
	       system does not provide a <code class="filename">/dev/random</code>
	       or equivalent device, the default source of randomness
	       is keyboard input.  <code class="filename">randomdev</code> specifies
	       the name of a character device or file containing random
	       data to be used instead of the default.  The special value
	       <code class="filename">keyboard</code> indicates that keyboard
	       input should be used.
	  </p></dd>
d219 2
a220 2
	       Print statistics at completion.
	  </p></dd>
d223 2
a224 2
	       Sets the debugging level.
	  </p></dd>
d227 2
a228 2
	       Ignore KSK flag on key when determining what to sign.
	  </p></dd>
d231 2
a232 2
	       The file containing the zone to be signed.
	  </p></dd>
d235 6
a240 4
	       The keys used to sign the zone.  If no keys are specified, the
	       default all zone keys that have private key files in the
	       current directory.
	  </p></dd>
d244 1
a244 1
<a name="id2550068"></a><h2>EXAMPLE</h2>
d246 6
a251 7
        The following command signs the <strong class="userinput"><code>example.com</code></strong>
	zone with the DSA key generated in the <span><strong class="command">dnssec-keygen</strong></span>
	man page.  The zone's keys must be in the zone.  If there are
	<code class="filename">keyset</code> files associated with child zones,
	they must be in the current directory.
	<strong class="userinput"><code>example.com</code></strong>, the following command would be
	issued:
d253 4
d258 4
a261 1
        <strong class="userinput"><code>dnssec-signzone -o example.com db.example.com Kexample.com.+003+26160</code></strong>
d264 2
a265 7
        The command would print a string of the form:
    </p>
<p>
        In this example, <span><strong class="command">dnssec-signzone</strong></span> creates
	the file <code class="filename">db.example.com.signed</code>.  This file
	should be referenced in a zone statement in a
	<code class="filename">named.conf</code> file.
d267 4
d273 2
a274 3
<a name="id2550118"></a><h2>SEE ALSO</h2>
<p>
      <span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>,
d280 2
a281 3
<a name="id2550145"></a><h2>AUTHOR</h2>
<p>
        <span class="corpauthor">Internet Systems Consortium</span>
@


1.4
log
@resolve conflicts
@
text
@d17 1
a17 1
<!-- $ISC: dnssec-signzone.html,v 1.4.2.1.4.14 2005/10/13 02:33:46 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
d25 1
a25 1
<a name="id2463721"></a><div class="titlepage"></div>
d35 1
a35 1
<a name="id2525979"></a><h2>DESCRIPTION</h2>
d46 1
a46 1
<a name="id2525995"></a><h2>OPTIONS</h2>
d182 1
a182 1
<a name="id2526435"></a><h2>EXAMPLE</h2>
d206 1
a206 1
<a name="id2526485"></a><h2>SEE ALSO</h2>
d214 1
a214 1
<a name="id2526512"></a><h2>AUTHOR</h2>
@


1.3
log
@resolve conflicts
@
text
@d2 3
a4 3
 - Copyright (C) 2004  Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2001-2003  Internet Software Consortium.
 -
d8 1
a8 1
 -
d11 1
a11 1
 - AND FITNESS.  IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
d17 21
a37 152

<!-- $ISC: dnssec-signzone.html,v 1.4.2.1.4.7 2004/08/22 23:38:58 marka Exp $ -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>dnssec-signzone</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="AEN1"
></A
><SPAN
CLASS="APPLICATION"
>dnssec-signzone</SPAN
></H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN9"
></A
><H2
>Name</H2
><SPAN
CLASS="APPLICATION"
>dnssec-signzone</SPAN
>&nbsp;--&nbsp;DNSSEC zone signing tool</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN13"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>dnssec-signzone</B
>  [<VAR
CLASS="OPTION"
>-a</VAR
>] [<VAR
CLASS="OPTION"
>-c <VAR
CLASS="REPLACEABLE"
>class</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-d <VAR
CLASS="REPLACEABLE"
>directory</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-e <VAR
CLASS="REPLACEABLE"
>end-time</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-f <VAR
CLASS="REPLACEABLE"
>output-file</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-g</VAR
>] [<VAR
CLASS="OPTION"
>-h</VAR
>] [<VAR
CLASS="OPTION"
>-k <VAR
CLASS="REPLACEABLE"
>key</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-l <VAR
CLASS="REPLACEABLE"
>domain</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-i <VAR
CLASS="REPLACEABLE"
>interval</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-n <VAR
CLASS="REPLACEABLE"
>nthreads</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-o <VAR
CLASS="REPLACEABLE"
>origin</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-p</VAR
>] [<VAR
CLASS="OPTION"
>-r <VAR
CLASS="REPLACEABLE"
>randomdev</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-s <VAR
CLASS="REPLACEABLE"
>start-time</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-t</VAR
>] [<VAR
CLASS="OPTION"
>-v <VAR
CLASS="REPLACEABLE"
>level</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-z</VAR
>] {zonefile} [key...]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN66"
></A
><H2
>DESCRIPTION</H2
><P
>        <B
CLASS="COMMAND"
>dnssec-signzone</B
> signs a zone.  It generates
d42 17
a58 43
	<TT
CLASS="FILENAME"
>keyset</TT
> file for each child zone.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN71"
></A
><H2
>OPTIONS</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>-a</DT
><DD
><P
>	      Verify all generated signatures.
	  </P
></DD
><DT
>-c <VAR
CLASS="REPLACEABLE"
>class</VAR
></DT
><DD
><P
>	       Specifies the DNS class of the zone.
	  </P
></DD
><DT
>-k <VAR
CLASS="REPLACEABLE"
>key</VAR
></DT
><DD
><P
>	       Treat specified key as a key signing key ignoring any
d60 4
a63 10
	  </P
></DD
><DT
>-l <VAR
CLASS="REPLACEABLE"
>domain</VAR
></DT
><DD
><P
>		Generate a DLV set in addition to the key (DNSKEY) and DS sets.
d65 9
a73 24
	  </P
></DD
><DT
>-d <VAR
CLASS="REPLACEABLE"
>directory</VAR
></DT
><DD
><P
>	       Look for <TT
CLASS="FILENAME"
>keyset</TT
> files in
	       <VAR
CLASS="OPTION"
>directory</VAR
> as the directory 
	  </P
></DD
><DT
>-g</DT
><DD
><P
>		Generate DS records for child zones from keyset files.
d75 4
a78 10
	  </P
></DD
><DT
>-s <VAR
CLASS="REPLACEABLE"
>start-time</VAR
></DT
><DD
><P
>	       Specify the date and time when the generated RRSIG records
d84 1
a84 4
	       If no <VAR
CLASS="OPTION"
>start-time</VAR
> is specified, the current
d86 5
a90 14
	  </P
></DD
><DT
>-e <VAR
CLASS="REPLACEABLE"
>end-time</VAR
></DT
><DD
><P
>	       Specify the date and time when the generated RRSIG records
	       expire.  As with <VAR
CLASS="OPTION"
>start-time</VAR
>, an absolute
d94 1
a94 4
	       indicated with now+N.  If no <VAR
CLASS="OPTION"
>end-time</VAR
> is
d96 5
a100 14
	  </P
></DD
><DT
>-f <VAR
CLASS="REPLACEABLE"
>output-file</VAR
></DT
><DD
><P
>	       The name of the output file containing the signed zone.  The
	       default is to append <TT
CLASS="FILENAME"
>.signed</TT
> to the
d102 11
a112 25
	  </P
></DD
><DT
>-h</DT
><DD
><P
>	       Prints a short summary of the options and arguments to
	       <B
CLASS="COMMAND"
>dnssec-signzone</B
>.
	  </P
></DD
><DT
>-i <VAR
CLASS="REPLACEABLE"
>interval</VAR
></DT
><DD
><P
>	       When a previously signed zone is passed as input, records
	       may be resigned.  The <VAR
CLASS="OPTION"
>interval</VAR
> option
d117 3
a119 3
	  </P
><P
>	       The default cycle interval is one quarter of the difference
d121 2
a122 11
	       <VAR
CLASS="OPTION"
>end-time</VAR
> or <VAR
CLASS="OPTION"
>start-time</VAR
>
	       are specified, <B
CLASS="COMMAND"
>dnssec-signzone</B
> generates
d127 5
a131 10
	  </P
></DD
><DT
>-n <VAR
CLASS="REPLACEABLE"
>ncpus</VAR
></DT
><DD
><P
>	       Specifies the number of threads to use.  By default, one
d133 4
a136 10
	  </P
></DD
><DT
>-o <VAR
CLASS="REPLACEABLE"
>origin</VAR
></DT
><DD
><P
>	       The zone origin.  If not specified, the name of the zone file
d138 4
a141 7
	  </P
></DD
><DT
>-p</DT
><DD
><P
>	       Use pseudo-random data when signing the zone.  This is faster,
d145 5
a149 14
	  </P
></DD
><DT
>-r <VAR
CLASS="REPLACEABLE"
>randomdev</VAR
></DT
><DD
><P
>	       Specifies the source of randomness.  If the operating
	       system does not provide a <TT
CLASS="FILENAME"
>/dev/random</TT
>
d151 1
a151 4
	       is keyboard input.  <TT
CLASS="FILENAME"
>randomdev</TT
> specifies
d154 1
a154 4
	       <TT
CLASS="FILENAME"
>keyboard</TT
> indicates that keyboard
d156 7
a162 31
	  </P
></DD
><DT
>-t</DT
><DD
><P
>	       Print statistics at completion.
	  </P
></DD
><DT
>-v <VAR
CLASS="REPLACEABLE"
>level</VAR
></DT
><DD
><P
>	       Sets the debugging level.
	  </P
></DD
><DT
>-z</DT
><DD
><P
>	       Ignore KSK flag on key when determining what to sign.
	  </P
></DD
><DT
>zonefile</DT
><DD
><P
>	       The file containing the zone to be signed.
d164 12
a175 7
	  </P
></DD
><DT
>key</DT
><DD
><P
>	       The keys used to sign the zone.  If no keys are specified, the
d178 8
a185 21
	  </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN181"
></A
><H2
>EXAMPLE</H2
><P
>        The following command signs the <KBD
CLASS="USERINPUT"
>example.com</KBD
>
	zone with the DSA key generated in the <B
CLASS="COMMAND"
>dnssec-keygen</B
>
d187 1
a187 4
	<TT
CLASS="FILENAME"
>keyset</TT
> files associated with child zones,
d189 1
a189 4
	<KBD
CLASS="USERINPUT"
>example.com</KBD
>, the following command would be
d191 10
a200 19
    </P
><P
>        <KBD
CLASS="USERINPUT"
>dnssec-signzone -o example.com db.example.com Kexample.com.+003+26160</KBD
>
    </P
><P
>        The command would print a string of the form:
    </P
><P
>        In this example, <B
CLASS="COMMAND"
>dnssec-signzone</B
> creates
	the file <TT
CLASS="FILENAME"
>db.example.com.signed</TT
>.  This file
d202 19
a220 45
	<TT
CLASS="FILENAME"
>named.conf</TT
> file.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN195"
></A
><H2
>SEE ALSO</H2
><P
>      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>dnssec-keygen</SPAN
>(8)</SPAN
>,
      <I
CLASS="CITETITLE"
>BIND 9 Administrator Reference Manual</I
>,
      <I
CLASS="CITETITLE"
>RFC 2535</I
>.
    </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN203"
></A
><H2
>AUTHOR</H2
><P
>        Internet Systems Consortium
    </P
></DIV
></BODY
></HTML
>
@


1.2
log
@update to BIND 9.2.2-release. ok millert@@
@
text
@d2 3
a4 2
 - Copyright (C) 2000, 2001  Internet Software Consortium.
 - 
d8 8
a15 9
 - 
 - THE SOFTWARE IS PROVIDED "AS IS" AND INTERNET SOFTWARE CONSORTIUM
 - DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE INCLUDING ALL
 - IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL
 - INTERNET SOFTWARE CONSORTIUM BE LIABLE FOR ANY SPECIAL, DIRECT,
 - INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING
 - FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT,
 - NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION
 - WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
d17 4
d27 1
a27 2
CONTENT="Modular DocBook HTML Stylesheet Version 1.73
"></HEAD
d38 1
a41 1
></A
d65 1
a65 1
>  [<TT
d67 2
a68 2
>-a</TT
>] [<TT
d70 1
a70 1
>-c <TT
d72 3
a74 5
><I
>class</I
></TT
></TT
>] [<TT
d76 1
a76 1
>-d <TT
d78 3
a80 5
><I
>directory</I
></TT
></TT
>] [<TT
d82 1
a82 1
>-s <TT
d84 3
a86 5
><I
>start-time</I
></TT
></TT
>] [<TT
d88 1
a88 1
>-e <TT
d90 6
a95 5
><I
>end-time</I
></TT
></TT
>] [<TT
d97 4
a100 1
>-f <TT
d102 3
a104 5
><I
>output-file</I
></TT
></TT
>] [<TT
d106 5
a110 2
>-h</TT
>] [<TT
d112 1
a112 1
>-i <TT
d114 3
a116 5
><I
>interval</I
></TT
></TT
>] [<TT
d118 1
a118 1
>-n <TT
d120 3
a122 5
><I
>nthreads</I
></TT
></TT
>] [<TT
d124 1
a124 1
>-o <TT
d126 3
a128 5
><I
>origin</I
></TT
></TT
>] [<TT
d130 2
a131 2
>-p</TT
>] [<TT
d133 1
a133 1
>-r <TT
d135 3
a137 5
><I
>randomdev</I
></TT
></TT
>] [<TT
d139 5
a143 2
>-t</TT
>] [<TT
d145 4
a148 1
>-v <TT
d150 5
a154 4
><I
>level</I
></TT
></TT
d160 1
a160 1
NAME="AEN56"
d168 5
a172 10
> signs a zone.  It generates NXT
	and SIG records and produces a signed version of the zone.  If there
	is a <TT
CLASS="FILENAME"
>signedkey</TT
> file from the zone's parent,
	the parent's signatures will be incorporated into the generated
	signed zone file.  The security status of delegations from the the
        signed zone (that is, whether the child zones are secure or not) is
        determined by the presence or absence of a
d175 1
a175 1
>signedkey</TT
d182 1
a182 1
NAME="AEN62"
d199 1
a199 1
>-c <TT
d201 1
a201 3
><I
>class</I
></TT
d209 23
a231 1
>-d <TT
d233 1
a233 3
><I
>directory</I
></TT
d239 1
a239 1
>signedkey</TT
d241 1
a241 1
	       <TT
d243 1
a243 1
>directory</TT
d248 9
a256 1
>-s <TT
d258 1
a258 3
><I
>start-time</I
></TT
d262 1
a262 1
>	       Specify the date and time when the generated SIG records
d268 1
a268 1
	       If no <TT
d270 1
a270 1
>start-time</TT
d272 1
a272 1
	       time is used.
d276 1
a276 1
>-e <TT
d278 1
a278 3
><I
>end-time</I
></TT
d282 2
a283 2
>	       Specify the date and time when the generated SIG records
	       expire.  As with <TT
d285 1
a285 1
>start-time</TT
d290 1
a290 1
	       indicated with now+N.  If no <TT
d292 1
a292 1
>end-time</TT
d298 1
a298 1
>-f <TT
d300 1
a300 3
><I
>output-file</I
></TT
d324 1
a324 1
>-i <TT
d326 1
a326 3
><I
>interval</I
></TT
d331 1
a331 1
	       may be resigned.  The <TT
d333 1
a333 1
>interval</TT
d336 1
a336 1
	       time (in seconds).  If a SIG record expires after the
d343 1
a343 1
	       <TT
d345 2
a346 2
>end-time</TT
> or <TT
d348 1
a348 1
>start-time</TT
d355 1
a355 1
	       interval of 7.5 days.  Therefore, if any existing SIG records
d361 1
a361 1
>-n <TT
d363 1
a363 3
><I
>ncpus</I
></TT
d372 1
a372 1
>-o <TT
d374 1
a374 3
><I
>origin</I
></TT
d393 1
a393 1
>-r <TT
d395 1
a395 3
><I
>randomdev</I
></TT
d426 1
a426 1
>-v <TT
d428 1
a428 3
><I
>level</I
></TT
d436 7
d465 1
a465 1
NAME="AEN154"
d470 1
a470 1
>        The following command signs the <TT
d472 1
a472 3
><B
>example.com</B
></TT
d481 4
a484 4
>signedkey</TT
> files associated with this zone
	or any child zones, they must be in the current directory.
	<TT
d486 1
a486 3
><B
>example.com</B
></TT
d491 1
a491 1
>        <TT
d493 1
a493 3
><B
>dnssec-signzone -o example.com db.example.com Kexample.com.+003+26160</B
></TT
d518 1
a518 1
NAME="AEN168"
a529 7
      <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>dnssec-signkey</SPAN
>(8)</SPAN
>,
d543 1
a543 1
NAME="AEN179"
d548 1
a548 1
>        Internet Software Consortium
@


1.1
log
@Initial revision
@
text
@d23 1
a23 1
CONTENT="Modular DocBook HTML Stylesheet Version 1.61
d271 1
a271 1
	       the start time.  A time realtive to the current time is
d553 1
a553 1
>@


1.1.1.1
log
@ISC BIND version 9.2.2rc1
@
text
@@


1.1.1.2
log
@ISC BIND version 9.3.0. ok deraadt@@
@
text
@d2 2
a3 3
 - Copyright (C) 2004  Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2001-2003  Internet Software Consortium.
 -
d7 9
a15 8
 -
 - THE SOFTWARE IS PROVIDED "AS IS" AND ISC DISCLAIMS ALL WARRANTIES WITH
 - REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 - AND FITNESS.  IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
 - INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 - LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE
 - OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 - PERFORMANCE OF THIS SOFTWARE.
a16 4

<!-- $ISC: dnssec-signzone.html,v 1.4.2.1.4.7 2004/08/22 23:38:58 marka Exp $ -->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
d23 2
a24 1
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
a34 1
></A
d38 1
d62 1
a62 1
>  [<VAR
d64 2
a65 2
>-a</VAR
>] [<VAR
d67 1
a67 1
>-c <VAR
d69 5
a73 3
>class</VAR
></VAR
>] [<VAR
d75 1
a75 1
>-d <VAR
d77 5
a81 3
>directory</VAR
></VAR
>] [<VAR
d83 1
a83 1
>-e <VAR
d85 5
a89 3
>end-time</VAR
></VAR
>] [<VAR
d91 1
a91 1
>-f <VAR
d93 5
a97 6
>output-file</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-g</VAR
>] [<VAR
d99 1
a99 4
>-h</VAR
>] [<VAR
CLASS="OPTION"
>-k <VAR
d101 5
a105 3
>key</VAR
></VAR
>] [<VAR
d107 2
a108 5
>-l <VAR
CLASS="REPLACEABLE"
>domain</VAR
></VAR
>] [<VAR
d110 1
a110 1
>-i <VAR
d112 5
a116 3
>interval</VAR
></VAR
>] [<VAR
d118 1
a118 1
>-n <VAR
d120 5
a124 3
>nthreads</VAR
></VAR
>] [<VAR
d126 1
a126 1
>-o <VAR
d128 5
a132 6
>origin</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-p</VAR
>] [<VAR
d134 2
a135 5
>-r <VAR
CLASS="REPLACEABLE"
>randomdev</VAR
></VAR
>] [<VAR
d137 1
a137 1
>-s <VAR
d139 5
a143 3
>start-time</VAR
></VAR
>] [<VAR
d145 2
a146 2
>-t</VAR
>] [<VAR
d148 1
a148 1
>-v <VAR
d150 4
a153 5
>level</VAR
></VAR
>] [<VAR
CLASS="OPTION"
>-z</VAR
d159 1
a159 1
NAME="AEN66"
d167 10
a176 5
> signs a zone.  It generates
	NSEC and RRSIG records and produces a signed version of the
	zone. The security status of delegations from the signed zone
	(that is, whether the child zones are secure or not) is
	determined by the presence or absence of a
d179 1
a179 1
>keyset</TT
d186 1
a186 1
NAME="AEN71"
d203 1
a203 1
>-c <VAR
d205 3
a207 1
>class</VAR
d215 1
a215 23
>-k <VAR
CLASS="REPLACEABLE"
>key</VAR
></DT
><DD
><P
>	       Treat specified key as a key signing key ignoring any
	       key flags.  This option may be specified multiple times.
	  </P
></DD
><DT
>-l <VAR
CLASS="REPLACEABLE"
>domain</VAR
></DT
><DD
><P
>		Generate a DLV set in addition to the key (DNSKEY) and DS sets.
		The domain is appended to the name of the records.
	  </P
></DD
><DT
>-d <VAR
d217 3
a219 1
>directory</VAR
d225 1
a225 1
>keyset</TT
d227 1
a227 1
	       <VAR
d229 1
a229 1
>directory</VAR
d234 1
a234 9
>-g</DT
><DD
><P
>		Generate DS records for child zones from keyset files.
		Existing DS records will be removed.
	  </P
></DD
><DT
>-s <VAR
d236 3
a238 1
>start-time</VAR
d242 1
a242 1
>	       Specify the date and time when the generated RRSIG records
d248 1
a248 1
	       If no <VAR
d250 1
a250 1
>start-time</VAR
d252 1
a252 1
	       time minus 1 hour (to allow for clock skew) is used.
d256 1
a256 1
>-e <VAR
d258 3
a260 1
>end-time</VAR
d264 2
a265 2
>	       Specify the date and time when the generated RRSIG records
	       expire.  As with <VAR
d267 1
a267 1
>start-time</VAR
d271 2
a272 2
	       the start time.  A time relative to the current time is
	       indicated with now+N.  If no <VAR
d274 1
a274 1
>end-time</VAR
d280 1
a280 1
>-f <VAR
d282 3
a284 1
>output-file</VAR
d308 1
a308 1
>-i <VAR
d310 3
a312 1
>interval</VAR
d317 1
a317 1
	       may be resigned.  The <VAR
d319 1
a319 1
>interval</VAR
d322 1
a322 1
	       time (in seconds).  If a RRSIG record expires after the
d329 1
a329 1
	       <VAR
d331 2
a332 2
>end-time</VAR
> or <VAR
d334 1
a334 1
>start-time</VAR
d341 1
a341 1
	       interval of 7.5 days.  Therefore, if any existing RRSIG records
d347 1
a347 1
>-n <VAR
d349 3
a351 1
>ncpus</VAR
d360 1
a360 1
>-o <VAR
d362 3
a364 1
>origin</VAR
d383 1
a383 1
>-r <VAR
d385 3
a387 1
>randomdev</VAR
d418 1
a418 1
>-v <VAR
d420 3
a422 1
>level</VAR
a429 7
>-z</DT
><DD
><P
>	       Ignore KSK flag on key when determining what to sign.
	  </P
></DD
><DT
d452 1
a452 1
NAME="AEN181"
d457 1
a457 1
>        The following command signs the <KBD
d459 3
a461 1
>example.com</KBD
d470 4
a473 4
>keyset</TT
> files associated with child zones,
	they must be in the current directory.
	<KBD
d475 3
a477 1
>example.com</KBD
d482 1
a482 1
>        <KBD
d484 3
a486 1
>dnssec-signzone -o example.com db.example.com Kexample.com.+003+26160</KBD
d511 1
a511 1
NAME="AEN195"
d523 7
d543 1
a543 1
NAME="AEN203"
d548 1
a548 1
>        Internet Systems Consortium
d553 1
a553 1
>
@


1.1.1.3
log
@ISC BIND release 9.3.2
@
text
@d2 3
a4 3
 - Copyright (C) 2004, 2005 Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2000-2003 Internet Software Consortium.
 - 
d8 1
a8 1
 - 
d11 1
a11 1
 - AND FITNESS. IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
d17 152
a168 21
<!-- $ISC: dnssec-signzone.html,v 1.4.2.1.4.14 2005/10/13 02:33:46 marka Exp $ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>dnssec-signzone</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en">
<a name="id2463721"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2>Name</h2>
<p><span class="application">dnssec-signzone</span> &#8212; DNSSEC zone signing tool</p>
</div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">dnssec-signzone</code>  [<code class="option">-a</code>] [<code class="option">-c <em class="replaceable"><code>class</code></em></code>] [<code class="option">-d <em class="replaceable"><code>directory</code></em></code>] [<code class="option">-e <em class="replaceable"><code>end-time</code></em></code>] [<code class="option">-f <em class="replaceable"><code>output-file</code></em></code>] [<code class="option">-g</code>] [<code class="option">-h</code>] [<code class="option">-k <em class="replaceable"><code>key</code></em></code>] [<code class="option">-l <em class="replaceable"><code>domain</code></em></code>] [<code class="option">-i <em class="replaceable"><code>interval</code></em></code>] [<code class="option">-n <em class="replaceable"><code>nthreads</code></em></code>] [<code class="option">-o <em class="replaceable"><code>origin</code></em></code>] [<code class="option">-p</code>] [<code class="option">-r <em class="replaceable"><code>randomdev</code></em></code>] [<code class="option">-s <em class="replaceable"><code>start-time</code></em></code>] [<code class="option">-t</code>] [<code class="option">-v <em class="replaceable"><code>level</code></em></code>] [<code class="option">-z</code>] {zonefile} [key...]</p></div>
</div>
<div class="refsect1" lang="en">
<a name="id2525979"></a><h2>DESCRIPTION</h2>
<p>
        <span><strong class="command">dnssec-signzone</strong></span> signs a zone.  It generates
d173 43
a215 17
	<code class="filename">keyset</code> file for each child zone.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2525995"></a><h2>OPTIONS</h2>
<div class="variablelist"><dl>
<dt><span class="term">-a</span></dt>
<dd><p>
	      Verify all generated signatures.
	  </p></dd>
<dt><span class="term">-c <em class="replaceable"><code>class</code></em></span></dt>
<dd><p>
	       Specifies the DNS class of the zone.
	  </p></dd>
<dt><span class="term">-k <em class="replaceable"><code>key</code></em></span></dt>
<dd><p>
	       Treat specified key as a key signing key ignoring any
d217 10
a226 4
	  </p></dd>
<dt><span class="term">-l <em class="replaceable"><code>domain</code></em></span></dt>
<dd><p>
		Generate a DLV set in addition to the key (DNSKEY) and DS sets.
d228 24
a251 9
	  </p></dd>
<dt><span class="term">-d <em class="replaceable"><code>directory</code></em></span></dt>
<dd><p>
	       Look for <code class="filename">keyset</code> files in
	       <code class="option">directory</code> as the directory 
	  </p></dd>
<dt><span class="term">-g</span></dt>
<dd><p>
		Generate DS records for child zones from keyset files.
d253 10
a262 4
	  </p></dd>
<dt><span class="term">-s <em class="replaceable"><code>start-time</code></em></span></dt>
<dd><p>
	       Specify the date and time when the generated RRSIG records
d268 4
a271 1
	       If no <code class="option">start-time</code> is specified, the current
d273 14
a286 5
	  </p></dd>
<dt><span class="term">-e <em class="replaceable"><code>end-time</code></em></span></dt>
<dd><p>
	       Specify the date and time when the generated RRSIG records
	       expire.  As with <code class="option">start-time</code>, an absolute
d290 4
a293 1
	       indicated with now+N.  If no <code class="option">end-time</code> is
d295 14
a308 5
	  </p></dd>
<dt><span class="term">-f <em class="replaceable"><code>output-file</code></em></span></dt>
<dd><p>
	       The name of the output file containing the signed zone.  The
	       default is to append <code class="filename">.signed</code> to the
d310 25
a334 11
	  </p></dd>
<dt><span class="term">-h</span></dt>
<dd><p>
	       Prints a short summary of the options and arguments to
	       <span><strong class="command">dnssec-signzone</strong></span>.
	  </p></dd>
<dt><span class="term">-i <em class="replaceable"><code>interval</code></em></span></dt>
<dd>
<p>
	       When a previously signed zone is passed as input, records
	       may be resigned.  The <code class="option">interval</code> option
d339 3
a341 3
	  </p>
<p>
	       The default cycle interval is one quarter of the difference
d343 11
a353 2
	       <code class="option">end-time</code> or <code class="option">start-time</code>
	       are specified, <span><strong class="command">dnssec-signzone</strong></span> generates
d358 10
a367 5
	  </p>
</dd>
<dt><span class="term">-n <em class="replaceable"><code>ncpus</code></em></span></dt>
<dd><p>
	       Specifies the number of threads to use.  By default, one
d369 10
a378 4
	  </p></dd>
<dt><span class="term">-o <em class="replaceable"><code>origin</code></em></span></dt>
<dd><p>
	       The zone origin.  If not specified, the name of the zone file
d380 7
a386 4
	  </p></dd>
<dt><span class="term">-p</span></dt>
<dd><p>
	       Use pseudo-random data when signing the zone.  This is faster,
d390 14
a403 5
	  </p></dd>
<dt><span class="term">-r <em class="replaceable"><code>randomdev</code></em></span></dt>
<dd><p>
	       Specifies the source of randomness.  If the operating
	       system does not provide a <code class="filename">/dev/random</code>
d405 4
a408 1
	       is keyboard input.  <code class="filename">randomdev</code> specifies
d411 4
a414 1
	       <code class="filename">keyboard</code> indicates that keyboard
d416 31
a446 7
	  </p></dd>
<dt><span class="term">-t</span></dt>
<dd><p>
	       Print statistics at completion.
	  </p></dd>
<dt><span class="term">-v <em class="replaceable"><code>level</code></em></span></dt>
<dd><p>
d448 7
a454 12
	  </p></dd>
<dt><span class="term">-z</span></dt>
<dd><p>
	       Ignore KSK flag on key when determining what to sign.
	  </p></dd>
<dt><span class="term">zonefile</span></dt>
<dd><p>
	       The file containing the zone to be signed.
	  </p></dd>
<dt><span class="term">key</span></dt>
<dd><p>
	       The keys used to sign the zone.  If no keys are specified, the
d457 21
a477 8
	  </p></dd>
</dl></div>
</div>
<div class="refsect1" lang="en">
<a name="id2526435"></a><h2>EXAMPLE</h2>
<p>
        The following command signs the <strong class="userinput"><code>example.com</code></strong>
	zone with the DSA key generated in the <span><strong class="command">dnssec-keygen</strong></span>
d479 4
a482 1
	<code class="filename">keyset</code> files associated with child zones,
d484 4
a487 1
	<strong class="userinput"><code>example.com</code></strong>, the following command would be
d489 19
a507 10
    </p>
<p>
        <strong class="userinput"><code>dnssec-signzone -o example.com db.example.com Kexample.com.+003+26160</code></strong>
    </p>
<p>
        The command would print a string of the form:
    </p>
<p>
        In this example, <span><strong class="command">dnssec-signzone</strong></span> creates
	the file <code class="filename">db.example.com.signed</code>.  This file
d509 45
a553 19
	<code class="filename">named.conf</code> file.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2526485"></a><h2>SEE ALSO</h2>
<p>
      <span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>,
      <em class="citetitle">BIND 9 Administrator Reference Manual</em>,
      <em class="citetitle">RFC 2535</em>.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2526512"></a><h2>AUTHOR</h2>
<p>
        <span class="corpauthor">Internet Systems Consortium</span>
    </p>
</div>
</div></body>
</html>
@


1.1.1.4
log
@ISC BIND release 9.3.3
@
text
@d17 1
a17 1
<!-- $ISC: dnssec-signzone.html,v 1.4.2.1.4.16 2006/06/29 13:02:30 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.70.1">
d25 1
a25 1
<a name="id2482688"></a><div class="titlepage"></div>
d35 1
a35 1
<a name="id2549544"></a><h2>DESCRIPTION</h2>
d46 1
a46 1
<a name="id2549560"></a><h2>OPTIONS</h2>
d182 1
a182 1
<a name="id2550068"></a><h2>EXAMPLE</h2>
d206 1
a206 1
<a name="id2550118"></a><h2>SEE ALSO</h2>
d214 1
a214 1
<a name="id2550145"></a><h2>AUTHOR</h2>
@


1.1.1.5
log
@ISC BIND release 9.4.2
@
text
@d2 1
a2 1
 - Copyright (C) 2004-2007 Internet Systems Consortium, Inc. ("ISC")
d17 1
a17 1
<!-- $ISC: dnssec-signzone.html,v 1.8.18.23 2007/05/09 03:33:12 marka Exp $ -->
d22 1
a22 1
<meta name="generator" content="DocBook XSL Stylesheets V1.71.1">
d25 1
a25 1
<a name="man.dnssec-signzone"></a><div class="titlepage"></div>
d32 1
a32 1
<div class="cmdsynopsis"><p><code class="command">dnssec-signzone</code>  [<code class="option">-a</code>] [<code class="option">-c <em class="replaceable"><code>class</code></em></code>] [<code class="option">-d <em class="replaceable"><code>directory</code></em></code>] [<code class="option">-e <em class="replaceable"><code>end-time</code></em></code>] [<code class="option">-f <em class="replaceable"><code>output-file</code></em></code>] [<code class="option">-g</code>] [<code class="option">-h</code>] [<code class="option">-k <em class="replaceable"><code>key</code></em></code>] [<code class="option">-l <em class="replaceable"><code>domain</code></em></code>] [<code class="option">-i <em class="replaceable"><code>interval</code></em></code>] [<code class="option">-I <em class="replaceable"><code>input-format</code></em></code>] [<code class="option">-j <em class="replaceable"><code>jitter</code></em></code>] [<code class="option">-N <em class="replaceable"><code>soa-serial-format</code></em></code>] [<code class="option">-o <em class="replaceable"><code>origin</code></em></code>] [<code class="option">-O <em class="replaceable"><code>output-format</code></em></code>] [<code class="option">-p</code>] [<code class="option">-r <em class="replaceable"><code>randomdev</code></em></code>] [<code class="option">-s <em class="replaceable"><code>start-time</code></em></code>] [<code class="option">-t</code>] [<code class="option">-v <em class="replaceable"><code>level</code></em></code>] [<code class="option">-z</code>] {zonefile} [key...]</p></div>
d35 8
a42 8
<a name="id2543526"></a><h2>DESCRIPTION</h2>
<p><span><strong class="command">dnssec-signzone</strong></span>
      signs a zone.  It generates
      NSEC and RRSIG records and produces a signed version of the
      zone. The security status of delegations from the signed zone
      (that is, whether the child zones are secure or not) is
      determined by the presence or absence of a
      <code class="filename">keyset</code> file for each child zone.
d46 1
a46 1
<a name="id2543541"></a><h2>OPTIONS</h2>
d50 2
a51 2
            Verify all generated signatures.
          </p></dd>
d54 2
a55 2
            Specifies the DNS class of the zone.
          </p></dd>
d58 3
a60 3
            Treat specified key as a key signing key ignoring any
            key flags.  This option may be specified multiple times.
          </p></dd>
d63 3
a65 3
            Generate a DLV set in addition to the key (DNSKEY) and DS sets.
            The domain is appended to the name of the records.
          </p></dd>
d68 3
a70 3
            Look for <code class="filename">keyset</code> files in
            <code class="option">directory</code> as the directory
          </p></dd>
d73 3
a75 3
            Generate DS records for child zones from keyset files.
            Existing DS records will be removed.
          </p></dd>
d78 9
a86 9
            Specify the date and time when the generated RRSIG records
            become valid.  This can be either an absolute or relative
            time.  An absolute start time is indicated by a number
            in YYYYMMDDHHMMSS notation; 20000530144500 denotes
            14:45:00 UTC on May 30th, 2000.  A relative start time is
            indicated by +N, which is N seconds from the current time.
            If no <code class="option">start-time</code> is specified, the current
            time minus 1 hour (to allow for clock skew) is used.
          </p></dd>
d89 8
a96 8
            Specify the date and time when the generated RRSIG records
            expire.  As with <code class="option">start-time</code>, an absolute
            time is indicated in YYYYMMDDHHMMSS notation.  A time relative
            to the start time is indicated with +N, which is N seconds from
            the start time.  A time relative to the current time is
            indicated with now+N.  If no <code class="option">end-time</code> is
            specified, 30 days from the start time is used as a default.
          </p></dd>
d99 4
a102 5
            The name of the output file containing the signed zone.  The
            default is to append <code class="filename">.signed</code> to
            the
            input filename.
          </p></dd>
d105 3
a107 3
            Prints a short summary of the options and arguments to
            <span><strong class="command">dnssec-signzone</strong></span>.
          </p></dd>
d111 17
a127 50
            When a previously-signed zone is passed as input, records
            may be resigned.  The <code class="option">interval</code> option
            specifies the cycle interval as an offset from the current
            time (in seconds).  If a RRSIG record expires after the
            cycle interval, it is retained.  Otherwise, it is considered
            to be expiring soon, and it will be replaced.
          </p>
<p>
            The default cycle interval is one quarter of the difference
            between the signature end and start times.  So if neither
            <code class="option">end-time</code> or <code class="option">start-time</code>
            are specified, <span><strong class="command">dnssec-signzone</strong></span>
            generates
            signatures that are valid for 30 days, with a cycle
            interval of 7.5 days.  Therefore, if any existing RRSIG records
            are due to expire in less than 7.5 days, they would be
            replaced.
          </p>
</dd>
<dt><span class="term">-I <em class="replaceable"><code>input-format</code></em></span></dt>
<dd><p>
            The format of the input zone file.
	    Possible formats are <span><strong class="command">"text"</strong></span> (default)
	    and <span><strong class="command">"raw"</strong></span>.
	    This option is primarily intended to be used for dynamic
            signed zones so that the dumped zone file in a non-text
            format containing updates can be signed directly.
	    The use of this option does not make much sense for
	    non-dynamic zones.
          </p></dd>
<dt><span class="term">-j <em class="replaceable"><code>jitter</code></em></span></dt>
<dd>
<p>
            When signing a zone with a fixed signature lifetime, all
            RRSIG records issued at the time of signing expires
            simultaneously.  If the zone is incrementally signed, i.e.
            a previously-signed zone is passed as input to the signer,
            all expired signatures have to be regenerated at about the
            same time.  The <code class="option">jitter</code> option specifies a
            jitter window that will be used to randomize the signature
            expire time, thus spreading incremental signature
            regeneration over time.
          </p>
<p>
            Signature lifetime jitter also to some extent benefits
            validators and servers by spreading out cache expiration,
            i.e. if large numbers of RRSIGs don't expire at the same time
            from all caches there will be less congestion than if all
            validators need to refetch at mostly the same time.
          </p>
d131 3
a133 22
            Specifies the number of threads to use.  By default, one
            thread is started for each detected CPU.
          </p></dd>
<dt><span class="term">-N <em class="replaceable"><code>soa-serial-format</code></em></span></dt>
<dd>
<p>
            The SOA serial number format of the signed zone.
	    Possible formats are <span><strong class="command">"keep"</strong></span> (default),
            <span><strong class="command">"increment"</strong></span> and
	    <span><strong class="command">"unixtime"</strong></span>.
          </p>
<div class="variablelist"><dl>
<dt><span class="term"><span><strong class="command">"keep"</strong></span></span></dt>
<dd><p>Do not modify the SOA serial number.</p></dd>
<dt><span class="term"><span><strong class="command">"increment"</strong></span></span></dt>
<dd><p>Increment the SOA serial number using RFC 1982
                      arithmetics.</p></dd>
<dt><span class="term"><span><strong class="command">"unixtime"</strong></span></span></dt>
<dd><p>Set the SOA serial number to the number of seconds
	        since epoch.</p></dd>
</dl></div>
</dd>
d136 3
a138 9
            The zone origin.  If not specified, the name of the zone file
            is assumed to be the origin.
          </p></dd>
<dt><span class="term">-O <em class="replaceable"><code>output-format</code></em></span></dt>
<dd><p>
            The format of the output file containing the signed zone.
	    Possible formats are <span><strong class="command">"text"</strong></span> (default)
	    and <span><strong class="command">"raw"</strong></span>.
          </p></dd>
d141 5
a145 5
            Use pseudo-random data when signing the zone.  This is faster,
            but less secure, than using real random data.  This option
            may be useful when signing large zones or when the entropy
            source is limited.
          </p></dd>
d148 9
a156 10
            Specifies the source of randomness.  If the operating
            system does not provide a <code class="filename">/dev/random</code>
            or equivalent device, the default source of randomness
            is keyboard input.  <code class="filename">randomdev</code>
            specifies
            the name of a character device or file containing random
            data to be used instead of the default.  The special value
            <code class="filename">keyboard</code> indicates that keyboard
            input should be used.
          </p></dd>
d159 2
a160 2
            Print statistics at completion.
          </p></dd>
d163 2
a164 2
            Sets the debugging level.
          </p></dd>
d167 2
a168 2
            Ignore KSK flag on key when determining what to sign.
          </p></dd>
d171 2
a172 2
            The file containing the zone to be signed.
          </p></dd>
d175 4
a178 6
	    Specify which keys should be used to sign the zone.  If
	    no keys are specified, then the zone will be examined
	    for DNSKEY records at the zone apex.  If these are found and
	    there are matching private keys, in the current directory,
	    then these will be used for signing.
          </p></dd>
d182 1
a182 1
<a name="id2544327"></a><h2>EXAMPLE</h2>
d184 7
a190 6
      The following command signs the <strong class="userinput"><code>example.com</code></strong>
      zone with the DSA key generated by <span><strong class="command">dnssec-keygen</strong></span>
      (Kexample.com.+003+17247).  The zone's keys must be in the master
      file (<code class="filename">db.example.com</code>).  This invocation looks
      for <code class="filename">keyset</code> files, in the current directory,
      so that DS records can be generated from them (<span><strong class="command">-g</strong></span>).
a191 4
<pre class="programlisting">% dnssec-signzone -g -o example.com db.example.com \
Kexample.com.+003+17247
db.example.com.signed
%</pre>
d193 1
a193 4
      In the above example, <span><strong class="command">dnssec-signzone</strong></span> creates
      the file <code class="filename">db.example.com.signed</code>.  This
      file should be referenced in a zone statement in a
      <code class="filename">named.conf</code> file.
d196 7
a202 2
      This example re-signs a previously signed zone with default parameters.
      The private keys are assumed to be in the current directory.
a203 4
<pre class="programlisting">% cp db.example.com.signed db.example.com
% dnssec-signzone -o example.com db.example.com
db.example.com.signed
%</pre>
d206 3
a208 2
<a name="id2544378"></a><h2>SEE ALSO</h2>
<p><span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>,
d214 3
a216 2
<a name="id2544403"></a><h2>AUTHOR</h2>
<p><span class="corpauthor">Internet Systems Consortium</span>
@


