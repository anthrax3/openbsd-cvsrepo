head	1.34;
access;
symbols
	OPENBSD_5_6:1.32.0.4
	OPENBSD_5_6_BASE:1.32
	OPENBSD_5_5:1.31.0.6
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.31.0.2
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.28.0.8
	OPENBSD_5_3_BASE:1.28
	OPENBSD_5_2:1.28.0.6
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.28
	OPENBSD_5_1:1.28.0.4
	OPENBSD_5_0:1.28.0.2
	OPENBSD_5_0_BASE:1.28
	OPENBSD_4_9:1.27.0.2
	OPENBSD_4_9_BASE:1.27
	OPENBSD_4_8:1.26.0.10
	OPENBSD_4_8_BASE:1.26
	OPENBSD_4_7:1.26.0.6
	OPENBSD_4_7_BASE:1.26
	OPENBSD_4_6:1.26.0.8
	OPENBSD_4_6_BASE:1.26
	OPENBSD_4_5:1.26.0.4
	OPENBSD_4_5_BASE:1.26
	OPENBSD_4_4:1.26.0.2
	OPENBSD_4_4_BASE:1.26
	OPENBSD_4_3:1.24.0.4
	OPENBSD_4_3_BASE:1.24
	OPENBSD_4_2:1.24.0.2
	OPENBSD_4_2_BASE:1.24
	OPENBSD_4_1:1.23.0.6
	OPENBSD_4_1_BASE:1.23
	OPENBSD_4_0:1.23.0.4
	OPENBSD_4_0_BASE:1.23
	OPENBSD_3_9:1.23.0.2
	OPENBSD_3_9_BASE:1.23
	OPENBSD_3_8:1.18.0.8
	OPENBSD_3_8_BASE:1.18
	OPENBSD_3_7:1.18.0.6
	OPENBSD_3_7_BASE:1.18
	OPENBSD_3_6:1.18.0.4
	OPENBSD_3_6_BASE:1.18
	OPENBSD_3_5:1.18.0.2
	OPENBSD_3_5_BASE:1.18
	OPENBSD_3_4:1.16.0.2
	OPENBSD_3_4_BASE:1.16
	OPENBSD_3_3:1.15.0.8
	OPENBSD_3_3_BASE:1.15
	OPENBSD_3_2:1.15.0.6
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.15.0.4
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.15.0.2
	OPENBSD_3_0_BASE:1.15
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_9:1.14.0.2
	OPENBSD_2_8:1.11.0.2
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	kame_19991209:1.1.1.1
	KAME:1.1.1;
locks; strict;
comment	@.\" @;


1.34
date	2014.12.22.09.13.35;	author florian;	state dead;
branches;
next	1.33;
commitid	QHLwHNotIjbdLNCu;

1.33
date	2014.08.27.14.04.16;	author florian;	state Exp;
branches;
next	1.32;
commitid	JNq3mHDvq54quWei;

1.32
date	2014.07.11.16.44.13;	author henning;	state Exp;
branches;
next	1.31;
commitid	Dbz5uaYBCugHHJye;

1.31
date	2013.05.27.16.46.19;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2013.05.24.14.48.50;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2013.05.24.12.25.03;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2011.03.23.00.59.49;	author bluhm;	state Exp;
branches;
next	1.27;

1.27
date	2010.09.03.11.22.36;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2008.06.10.10.42.23;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2008.06.10.04.49.11;	author reyk;	state Exp;
branches;
next	1.24;

1.24
date	2007.05.31.19.20.29;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2005.10.27.17.00.15;	author jmc;	state Exp;
branches;
next	1.22;

1.22
date	2005.10.26.11.20.57;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2005.10.26.11.14.52;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2005.10.25.18.54.01;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2005.10.25.18.40.34;	author jmc;	state Exp;
branches;
next	1.18;

1.18
date	2004.01.05.20.32.50;	author itojun;	state Exp;
branches;
next	1.17;

1.17
date	2004.01.03.06.20.17;	author itojun;	state Exp;
branches;
next	1.16;

1.16
date	2003.06.12.12.59.53;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2001.07.09.22.37.33;	author itojun;	state Exp;
branches;
next	1.14;

1.14
date	2001.03.21.14.52.29;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	2000.11.09.17.53.23;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	2000.11.08.19.37.37;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	2000.08.13.18.24.00;	author itojun;	state Exp;
branches;
next	1.10;

1.10
date	2000.04.15.02.15.20;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	2000.04.12.21.47.57;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	2000.04.12.16.50.53;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.19.17.57.14;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	2000.01.02.06.28.16;	author itojun;	state Exp;
branches;
next	1.5;

1.5
date	2000.01.02.04.36.24;	author itojun;	state Exp;
branches;
next	1.4;

1.4
date	99.12.16.03.13.45;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	99.12.10.00.41.30;	author angelos;	state Exp;
branches;
next	1.2;

1.2
date	99.12.09.15.10.49;	author itojun;	state Exp;
branches;
next	1.1;

1.1
date	99.12.09.14.56.02;	author itojun;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.12.09.14.56.02;	author itojun;	state Exp;
branches;
next	;


desc
@@


1.34
log
@Out out you evil network daemon.
OK deraadt@@ some time ago
@
text
@.\"	$OpenBSD: rtsold.8,v 1.33 2014/08/27 14:04:16 florian Exp $
.\"	$KAME: rtsold.8,v 1.17 2001/07/09 22:30:37 itojun Exp $
.\"
.\" Copyright (C) 1995, 1996, 1997, and 1998 WIDE Project.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the project nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE PROJECT AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE PROJECT OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: August 27 2014 $
.Dt RTSOLD 8
.Os
.\"
.Sh NAME
.Nm rtsold
.Nd router solicitation daemon
.\"
.Sh SYNOPSIS
.Nm rtsold
.Op Fl 1DdFfm
.Op Fl O Ar script-name
.Ar interface ...
.Nm rtsold
.Op Fl 1DdFfm
.Fl a
.Pp
.Nm rtsol
.Op Fl DdF
.Op Fl O Ar script-name
.Ar interface ...
.Nm rtsol
.Op Fl DdF
.Fl a
.\"
.Sh DESCRIPTION
.Nm
is the daemon program to send ICMPv6 Router Solicitation messages
on the specified interfaces.
If a node (re)attaches to a link,
.Nm
sends some Router Solicitations on the link destined to the link-local scope
all-routers multicast address to discover new routers
and to get non link-local addresses.
.Pp
.Nm
should be used on IPv6 hosts
.Pq non-router nodes
only.
The
.Va net.inet6.ip6.forwarding
.Xr sysctl 8
should be set to zero
(see also the
.Fl F
option below).
.Pp
If you invoke the program as
.Nm rtsol ,
it will transmit probes from the specified
.Ar interface ,
without becoming a daemon.
In other words,
.Nm rtsol
behaves as
.Dq rtsold -f1 interface ... .
.Pp
An interface may be configured at boot
to be brought up using
.Nm rtsol
via a
.Xr hostname.if 5
file.
See that man page for more information.
.Pp
.Nm
sends at most 3 Router Solicitations on an interface
after one of the following events:
.Bl -bullet
.It
Just after invocation of
.Nm
daemon.
.It
The interface is up after a temporary interface failure.
.Nm
detects such failures by periodically probing to see if the status
of the interface is active or not.
Note that some network cards and drivers do not allow the extraction
of link state.
In such cases,
.Nm
cannot detect the change of the interface status.
.It
Every 60 seconds if the
.Fl m
option is specified and the
.Nm
daemon cannot get the interface status.
This feature does not conform to the IPv6 neighbor discovery
specification, but is provided for mobile stations.
The default interval for router advertisements, which is on the order of 10
minutes, is slightly long for mobile stations.
This feature is provided
for such stations so that they can find new routers as soon as possible
when they attach to another link.
.El
.Pp
Once
.Nm
has sent a Router Solicitation, and has received a valid Router Advertisement,
it refrains from sending additional solicitations on that interface, until
the next time one of the above events occurs.
.Pp
When sending a Router Solicitation on an interface,
.Nm
includes a Source Link-layer address option if the interface
has a link-layer address.
.Pp
.Nm
is able to do some additional configuration for interfaces
where more than setting the host's address is needed.
When the daemon receives a router advertisement
with the
.Dq Other Configuration
flag set,
the script specified using the
.Fl O
option is run.
.Pp
Upon receipt of signal
.Dv SIGUSR1 ,
.Nm
will dump the current internal state into
.Pa /var/run/rtsold.dump .
.\"
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl 1
Perform only one probe.
Transmit Router Solicitation packets until at least one valid Router
Advertisement packet has arrived on each
.Ar interface ,
then exit.
.It Fl a
Autoprobe outgoing interfaces.
.Nm
will try to find any non-loopback, non-point-to-point, IPv6-capable interfaces,
and send router solicitation messages on all of them.
.It Fl D
Enable more debugging (than that offered by the
.Fl d
option) including the printing of internal timer information.
.It Fl d
Enable debugging.
.It Fl F
Automatically set the
.Xr sysctl 8
variables relating to
.Nm
(see above).
Without this option,
.Nm
will obey the current
.Xr sysctl 8
settings.
.It Fl f
This option prevents
.Nm
from becoming a daemon (foreground mode).
Warning messages are generated to standard error
instead of
.Xr syslog 3 .
.It Fl m
Enable mobility support.
If this option is specified,
.Nm
sends probing packets to default routers that have advertised Router
Advertisements
when the node (re)attaches to an interface.
Moreover, if the option is specified,
.Nm
periodically sends Router Solicitation on an interface that does not support
.Dv SIOCGIFMEDIA
ioctl.
.It Fl O Ar script-name
Specifies a script to handle the Other Configuration
flag of the router advertisement (see above).
.Ar script-name
is invoked with a single argument of the receiving interface name,
expecting the script will then start a protocol
to provide additional configuration.
.Ar script-name
should be specified as the absolute path from root to the script file,
and the file itself should be a regular file
and owned by the same user running
.Nm .
.El
.\"
.Sh FILES
.Bl -tag -width "/var/run/rtsold.dumpXX" -compact
.It Pa /var/run/rtsold.dump
Internal state dump file.
.El
.\"
.Sh EXIT STATUS
.Ex -std rtsold
.\"
.Sh SEE ALSO
.Xr hostname.if 5 ,
.Xr netstart 8 ,
.Xr rtadvd 8 ,
.Xr sysctl 8
.\"
.Sh HISTORY
The
.Nm
command is based on the
.Nm rtsol
command, which first appeared in WIDE/KAME IPv6 protocol stack kit.
.Nm rtsol
is now integrated into
.Nm rtsold .
.\"
.Sh BUGS
In some operating systems, when a PCMCIA network card is removed
and reinserted, the corresponding interface index is changed.
However,
.Nm
assumes such changes will not occur, and always uses the index that
it got at invocation.
As a result,
.Nm
may not work if you reinsert a network card.
In such a case,
.Nm
should be killed and restarted.
.Pp
The IPv6 autoconfiguration specification assumes a single-interface host.
You may see kernel error messages if you try to autoconfigure a host with
multiple interfaces.
Also, it seems contradictory for
.Nm
to accept multiple
.Ar interface
arguments.
@


1.33
log
@Nuke net.inet6.icmp6.rediraccept and allow redirects on interfaces
with autoconf enabled.
If one is doing SLAAC one does already trust link local icmp6 so the
policy for icmp6 redirects should be the same.
pointed out by & OK bluhm@@; OK henning@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.32 2014/07/11 16:44:13 henning Exp $
d31 1
a31 1
.Dd $Mdocdate: July 11 2014 $
@


1.32
log
@some say it is kinda likely you want autoconf if you run rtsol/rtsold on
a given interface, so turn AFXF_AUTOCONF6 on on it
ok bluhm stsp benno florian
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.30 2013/05/24 14:48:50 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: May 27 2013 $
d73 1
a73 4
should be set to zero and the
.Va net.inet6.icmp6.rediraccept
.Xr sysctl 8
should be set to a non-zero value
@


1.31
log
@undo previous: apparently "on the order of" is legitimate
@
text
@d31 1
a31 1
.Dd $Mdocdate: May 24 2013 $
a73 2
.Va net.inet6.ip6.accept_rtadv
and
@


1.30
log
@*in* the order of, not *on* the order of;
thanks sthen for verifying that it is approx 10s, not exactly
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.29 2013/05/24 12:25:03 jmc Exp $
d127 1
a127 1
The default interval for router advertisements, which is in the order of 10
@


1.29
log
@the -a option probes multiple ifs now, not exits with error;
based on mark johnston's -r250939 commit to freebsd

ok sthen benno
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.28 2011/03/23 00:59:49 bluhm Exp $
d31 1
a31 1
.Dd $Mdocdate: March 23 2011 $
d127 1
a127 1
The default interval for router advertisements, which is on the order of 10
@


1.28
log
@Print a warning when rtsol or rtsold are used to do IPv6 autoconfiguration
but accepting redirects is turned off.  If the -F switch is given,
set sysctl net.inet6.icmp6.rediraccept to 1 instead.
ok claudio@@ deraadt@@ sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.27 2010/09/03 11:22:36 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: September 3 2010 $
d172 1
a172 1
Autoprobe outgoing interface.
d174 2
a175 7
will try to find a non-loopback, non-point-to-point, IPv6-capable interface.
If
.Nm
finds multiple interfaces,
.Nm
will exit with error.
.\"
@


1.27
log
@add an EXIT STATUS section for /usr/sbin;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.26 2008/06/10 10:42:23 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: June 10 2008 $
d75 2
@


1.26
log
@clean up the text; ok reyk
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.25 2008/06/10 04:49:11 reyk Exp $
a227 2
.Pp
.Ex -std rtsold
d234 3
@


1.25
log
@add the -O option to run an external script when the "other
configuration" flag is found in the RA message. it basically means
"here is your IPv6 address, but run something like DHCPv6 to get more
information".  so the main purpose is to run a dhcpv6 client to get
DNS etc.

Merged from KAME

ok rainer@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.24 2007/05/31 19:20:29 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: May 31 2007 $
d144 9
a152 12
manages a per-interface parameter to detect if a separate protocol is
needed for configuration parameters other than host's addresses.
At the invocation time, the flag is FALSE, and becomes TRUE when the
daemon receives a router advertisement with the Other Configuration
flag being set.
A script file can be specified to deal with the case
.Pq see below .
When
.Nm
start resending router solicitation messages by one of the conditions
events, the daemon resets the parameter because the event may indicate
a change on the attached link.
d216 2
a217 5
Specifies a supplement script file to handle the Other Configuration
flag of the router advertisement.
When the flag changes from FALSE to TRUE,
.Nm
will invoke
d219 3
a221 2
with a single argument of the receiving interface name, expecting the
script will then start a protocol for the other configuration.
d223 3
a225 2
must be the absolute path from root to the script file, be a regular
file, and be created by the same owner who runs
@


1.24
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.23 2005/10/27 17:00:15 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate$
d42 1
d50 1
d143 14
d218 13
@


1.23
log
@describe the relevant sysctls, and what exactly -F does;
ok todd@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.22 2005/10/26 11:20:57 jmc Exp $
d31 1
a31 1
.Dd May 17, 1998
@


1.22
log
@better description of -F and FILES;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.21 2005/10/26 11:14:52 jmc Exp $
d51 1
a51 1
.Op Fl Dd
d68 10
d129 1
a129 1
.Lp
d135 1
a135 1
.Lp
d175 3
a177 2
variable related to
.Nm .
@


1.21
log
@document interaction with hostname.if(5);
help/ok todd@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.20 2005/10/25 18:54:01 jmc Exp $
d163 1
a163 1
Configure
d166 1
a166 2
.Nm
by itself.
d169 1
a169 1
will not alter and obey the current
d196 1
a196 1
.Bl -tag -width /var/run/rtsold.dump -compact
d198 1
a198 1
dumps internal state on.
@


1.20
log
@some small improvements;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.19 2005/10/25 18:40:34 jmc Exp $
d79 8
a86 1
Specifically,
d203 2
@


1.19
log
@sort options;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.18 2004/01/05 20:32:50 itojun Exp $
d77 1
a77 5
.Do
.Nm
.Fl f1
.Ar interfaces
.Dc .
d83 1
a83 2
.Pp
.Bl -bullet -compact
d161 1
a161 2
Without
.Fl F ,
d167 1
a167 2
.Fl f
prevents
d186 2
a187 4
.Sh RETURN VALUES
The
.Nm
program exits 0 on success, and >0 on failures.
@


1.18
log
@add -F option, which sets sysctl(8) variables rather than warn(3) about the
current setting.  basically for boot floppy.  req'ed by fries@@. deraadt@@ ok.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.17 2004/01/03 06:20:17 itojun Exp $
d41 1
a41 1
.Op Fl dDfFm1
d44 1
a44 1
.Op Fl dDfFm1
d46 1
d48 1
a48 1
.Op Fl dDF
d51 1
a51 1
.Op Fl dD
d138 6
d154 4
a159 10
.It Fl D
Enable more debugging including the printing of internal timer information.
.It Fl f
.Fl f
prevents
.Nm
from becoming a daemon (foreground mode).
Warning messages are generated to standard error
instead of
.Xr syslog 3 .
d172 8
a191 6
.It Fl 1
Perform only one probe.
Transmit Router Solicitation packets until at least one valid Router
Advertisement packet has arrived on each
.Ar interface ,
then exit.
@


1.17
log
@do not create pid file.  it was just for debugging and there was no proper
cleanup code.  from kame
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.16 2003/06/12 12:59:53 jmc Exp $
d41 1
a41 1
.Op Fl dDfm1
d44 1
a44 1
.Op Fl dDfm1
d47 1
a47 1
.Op Fl dD
d159 12
@


1.16
log
@- section reorder
- macro fixes
- kill whitespace at EOL
- new sentence, new line
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.15 2001/07/09 22:37:33 itojun Exp $
a184 3
.It Pa /var/run/rtsold.pid
the pid of the currently running
.Nm rtsold .
@


1.15
log
@sync with latest kame.
- a memory leak
- correct timer value
- wording fixes in manpage
rtsock.c is omitted for simplicity, as it is not meaningful on openbsd.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.14 2001/03/21 14:52:29 aaron Exp $
d204 1
a204 1
.Xr rtsold 8 .
d212 2
a213 1
it got at invocation. As a result,
@


1.14
log
@Don't use this non-standard .Nm "" thing.
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtsold.8,v 1.13 2000/11/09 17:53:23 aaron Exp $
.\"	$KAME: rtsold.8,v 1.14 2000/08/13 18:06:39 itojun Exp $
d64 2
a65 2
should be used on IPv6 host
.Pq non-router node
d108 1
a108 1
This feature does not conform to IPv6 neighbor discovery
d110 1
a110 1
Default interval for router advertisements, which is on the order of 10
d119 1
a119 1
sends a Router Solicitation, and receives a valid Router Advertisement,
d126 1
a126 1
has its link-layer address.
d140 1
a140 1
will try to find a non-loopback, non-p2p and IPv6-capable, interface.
d150 1
a150 1
Enable more debugging including to print internal timer information.
d156 1
a156 1
Warning messages are generated to standard error output,
d173 4
a176 2
Transmit Router Solicitation packet until valid Router Advertisement packet
arrives all the interfaces more than once, then exit.
d179 3
a181 1
The program exits with 0 on success, non-zero on failures.
d211 1
a211 1
does not assume such changes, and always uses the index that
d219 2
a220 2
IPv6 autoconfiguration specification assumes single interface host.
You may see kernel error message if you try to autoconfigure a host with
d225 2
a226 2
.Ar interfaces
in argument.
@


1.13
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.12 2000/11/08 19:37:37 aaron Exp $
d40 1
a40 1
.Nm
d43 1
a43 1
.Nm ""
@


1.12
log
@- Get rid of ".Sh OPTIONS" and always use the standard options list intro.
- Move some BUGS/CAVEATS to the end of the man pages where they should go.
- Correct some .Nm usage.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.11 2000/08/13 18:24:00 itojun Exp $
d136 1
a136 1
.Bl -tag -width indent
@


1.11
log
@add "rtsol -a" (automatically lookup outgoign interface).
warn if net.inet6.ip6.forwarding == 1.
improve manpage.
use $KAME$ for KAME tags.

sync with kame.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.10 2000/04/15 02:15:20 aaron Exp $
d134 2
a135 1
.Sh OPTIONS
@


1.10
log
@Mostly punctuation fixes.
@
text
@d1 2
a2 1
.\"	$OpenBSD: rtsold.8,v 1.9 2000/04/12 21:47:57 aaron Exp $
a30 2
.\"     KAME Id: rtsold.8,v 1.8 2000/01/02 06:25:14 itojun Exp
.\"
d40 1
a40 1
.Nm rtsold
d43 3
d49 3
d63 5
d136 9
d200 22
a221 2
.\" .Sh BUGS
.\" (to be written)
@


1.9
log
@Trailing whitespace begone!
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.8 2000/04/12 16:50:53 aaron Exp $
d122 1
a122 1
.Pa /var/run/rtsold.dump.
@


1.8
log
@Remove all arguments to the .Os macro so that all of 2.7's man pages will
correctly say "OpenBSD 2.7".
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtsold.8,v 1.7 2000/03/19 17:57:14 aaron Exp $
.\" 
d5 1
a5 1
.\" 
d17 1
a17 1
.\" 
@


1.7
log
@Remove hard sentence breaks. Add $OpenBSD$ tags where appropriate. Some other
cleanup along the way.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.6 2000/01/02 06:28:16 itojun Exp $
d34 1
a34 1
.Os KAME
@


1.6
log
@wording changes (in sync with kame repository)
from: deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.5 2000/01/02 04:36:24 itojun Exp $
d41 1
a41 1
.Nm
d49 1
a49 1
.Nm Rtsold
d84 1
a84 1
.Nm Rtsold
@


1.5
log
@bring "rtsol" descrpition to the top.  (sync'ed with latest kame tree)
suggested by: deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.4 1999/12/16 03:13:45 deraadt Exp $
d30 1
a30 1
.\"     KAME Id: rtsold.8,v 1.7 2000/01/02 04:34:11 itojun Exp
d60 1
a60 1
it will transmit probes from specified
d65 1
a65 1
behave as
d76 1
d85 4
a88 4
detects it by periodically probing if the status of the
interface is active or not.
Note that some network cards and drivers do not allow users
to extract link state.
d93 1
a93 1
Every one minute if
d95 1
a95 1
option is specified and
d100 1
a100 1
Default interval of router advertisements, which is on the order of 10
d104 1
a104 1
when they attach another link.
@


1.4
log
@deposit dump file in /var/run; markus
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.3 1999/12/10 00:41:30 angelos Exp $
d30 1
a30 1
.\"     KAME Id: rtsold.8,v 1.4 1999/09/30 00:57:15 jinmei Exp
d57 15
a71 1
.Lp
a154 9
.Pp
If you invoke the program as
.Nm rtsol ,
it will behave as
.Do
.Nm
.Fl f1
.Ar interfaces
.Dc .
@


1.3
log
@Fix a few typos.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtsold.8,v 1.2 1999/12/09 15:10:49 itojun Exp $
d107 1
a107 1
.Pa /var/tmp/rtsold.dump.
d158 1
a158 1
.It Pa /var/tmp/rtsold.dump
@


1.2
log
@rtsold(8); router solicitation daemon.
rtsol(8); router solicitation program, for use in bootstrap process
(statically linked)

rcsid police.  add missing prototypes.
(sync with KAME)
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d95 1
a95 1
it desists from sending additional solicitations on that interface, until
d138 1
a138 1
Transmit Router Solcitation packet until valid Router Advertisement packet
d169 1
a169 1
command is based on
@


1.1
log
@Initial revision
@
text
@d1 2
@


1.1.1.1
log
@initial import from KAME tree
@
text
@@
