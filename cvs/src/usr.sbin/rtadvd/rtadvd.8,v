head	1.35;
access;
symbols
	OPENBSD_6_2:1.35.0.4
	OPENBSD_6_2_BASE:1.35
	OPENBSD_6_1:1.34.0.8
	OPENBSD_6_1_BASE:1.34
	OPENBSD_6_0:1.34.0.4
	OPENBSD_6_0_BASE:1.34
	OPENBSD_5_9:1.34.0.2
	OPENBSD_5_9_BASE:1.34
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.30.0.2
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.29.0.10
	OPENBSD_5_6_BASE:1.29
	OPENBSD_5_5:1.29.0.8
	OPENBSD_5_5_BASE:1.29
	OPENBSD_5_4:1.29.0.4
	OPENBSD_5_4_BASE:1.29
	OPENBSD_5_3:1.29.0.2
	OPENBSD_5_3_BASE:1.29
	OPENBSD_5_2:1.28.0.8
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.28
	OPENBSD_5_1:1.28.0.6
	OPENBSD_5_0:1.28.0.4
	OPENBSD_5_0_BASE:1.28
	OPENBSD_4_9:1.28.0.2
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.27.0.10
	OPENBSD_4_8_BASE:1.27
	OPENBSD_4_7:1.27.0.6
	OPENBSD_4_7_BASE:1.27
	OPENBSD_4_6:1.27.0.8
	OPENBSD_4_6_BASE:1.27
	OPENBSD_4_5:1.27.0.4
	OPENBSD_4_5_BASE:1.27
	OPENBSD_4_4:1.27.0.2
	OPENBSD_4_4_BASE:1.27
	OPENBSD_4_3:1.23.0.4
	OPENBSD_4_3_BASE:1.23
	OPENBSD_4_2:1.23.0.2
	OPENBSD_4_2_BASE:1.23
	OPENBSD_4_1:1.22.0.6
	OPENBSD_4_1_BASE:1.22
	OPENBSD_4_0:1.22.0.4
	OPENBSD_4_0_BASE:1.22
	OPENBSD_3_9:1.22.0.2
	OPENBSD_3_9_BASE:1.22
	OPENBSD_3_8:1.20.0.10
	OPENBSD_3_8_BASE:1.20
	OPENBSD_3_7:1.20.0.8
	OPENBSD_3_7_BASE:1.20
	OPENBSD_3_6:1.20.0.6
	OPENBSD_3_6_BASE:1.20
	OPENBSD_3_5:1.20.0.4
	OPENBSD_3_5_BASE:1.20
	OPENBSD_3_4:1.20.0.2
	OPENBSD_3_4_BASE:1.20
	OPENBSD_3_3:1.19.0.2
	OPENBSD_3_3_BASE:1.19
	OPENBSD_3_2:1.18.0.2
	OPENBSD_3_2_BASE:1.18
	OPENBSD_3_1:1.16.0.4
	OPENBSD_3_1_BASE:1.16
	OPENBSD_3_0:1.16.0.2
	OPENBSD_3_0_BASE:1.16
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_9:1.14.0.2
	OPENBSD_2_8:1.12.0.2
	OPENBSD_2_8_BASE:1.12
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	kame_19991211:1.1.1.1
	KAME:1.1.1;
locks; strict;
comment	@.\" @;


1.35
date	2017.09.14.12.56.36;	author sthen;	state Exp;
branches;
next	1.34;
commitid	kuQMKm6H6rI3BRpE;

1.34
date	2015.11.30.21.04.15;	author jca;	state Exp;
branches;
next	1.33;
commitid	XavdVwnfFMdt5V1A;

1.33
date	2015.11.30.20.52.28;	author jca;	state Exp;
branches;
next	1.32;
commitid	0AFsvIbwpuBr4CTd;

1.32
date	2015.10.25.21.23.42;	author jca;	state Exp;
branches;
next	1.31;
commitid	GzycAVdMw9ynTrjU;

1.31
date	2015.06.02.16.02.45;	author sobrado;	state Exp;
branches;
next	1.30;
commitid	swUc5eqR8eq8X5tP;

1.30
date	2014.12.03.20.15.37;	author florian;	state Exp;
branches;
next	1.29;
commitid	lAskMXa1Bme8BEem;

1.29
date	2012.08.18.15.40.30;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2010.09.03.11.22.36;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2008.06.09.06.23.10;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2008.06.08.21.08.57;	author rainer;	state Exp;
branches;
next	1.25;

1.25
date	2008.04.22.05.04.07;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2008.04.21.20.40.55;	author rainer;	state Exp;
branches;
next	1.23;

1.23
date	2007.05.31.19.20.29;	author jmc;	state Exp;
branches;
next	1.22;

1.22
date	2005.12.20.09.22.16;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2005.10.27.18.26.13;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2003.08.08.10.13.33;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2003.03.18.11.18.55;	author jmc;	state Exp;
branches;
next	1.18;

1.18
date	2002.05.29.14.55.45;	author itojun;	state Exp;
branches;
next	1.17;

1.17
date	2002.05.29.14.34.05;	author itojun;	state Exp;
branches;
next	1.16;

1.16
date	2001.07.25.10.04.57;	author mpech;	state Exp;
branches;
next	1.15;

1.15
date	2001.07.20.19.09.48;	author mpech;	state Exp;
branches;
next	1.14;

1.14
date	2001.02.04.06.22.05;	author itojun;	state Exp;
branches;
next	1.13;

1.13
date	2001.01.15.11.06.28;	author itojun;	state Exp;
branches;
next	1.12;

1.12
date	2000.07.06.10.14.47;	author itojun;	state Exp;
branches;
next	1.11;

1.11
date	2000.05.23.11.23.23;	author itojun;	state Exp;
branches;
next	1.10;

1.10
date	2000.04.12.21.47.56;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.19.17.57.14;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	2000.03.13.06.16.11;	author itojun;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.02.04.10.37;	author itojun;	state Exp;
branches;
next	1.6;

1.6
date	2000.01.12.22.51.12;	author itojun;	state Exp;
branches;
next	1.5;

1.5
date	2000.01.06.07.55.52;	author itojun;	state Exp;
branches;
next	1.4;

1.4
date	2000.01.06.07.06.19;	author angelos;	state Exp;
branches;
next	1.3;

1.3
date	2000.01.05.19.53.12;	author angelos;	state Exp;
branches;
next	1.2;

1.2
date	99.12.11.10.33.29;	author itojun;	state Exp;
branches;
next	1.1;

1.1
date	99.12.11.10.23.26;	author itojun;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.12.11.10.23.26;	author itojun;	state Exp;
branches;
next	;


desc
@@


1.35
log
@clarify that slaacd is a client; Xr to rtadvd. feedback/ok benno jmc
@
text
@.\"	$OpenBSD: rtadvd.8,v 1.34 2015/11/30 21:04:15 jca Exp $
.\"	$KAME: rtadvd.8,v 1.18 2002/04/28 10:43:02 jinmei Exp $
.\"
.\" Copyright (C) 1995, 1996, 1997, and 1998 WIDE Project.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the project nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE PROJECT AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE PROJECT OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: November 30 2015 $
.Dt RTADVD 8
.Os
.Sh NAME
.Nm rtadvd
.Nd router advertisement daemon
.Sh SYNOPSIS
.Nm
.Op Fl ds
.Op Fl c Ar configfile
.Ar interface ...
.Sh DESCRIPTION
.Nm
sends router advertisement packets to the specified interfaces.
.Pp
The program will daemonize itself on invocation.
It will then send router advertisement packets periodically, as well
as in response to router solicitation messages sent by end hosts.
.Pp
Router advertisements can be configured on a per-interface basis, as
described in
.Xr rtadvd.conf 5 .
.Pp
If there is no configuration file entry for an interface,
or if the configuration file does not exist at all,
.Nm
sets all the parameters to their default values.
In particular,
.Nm
reads all the interface routes from the routing table and advertises
them as on-link prefixes.
.Pp
.Nm
also watches the routing table.
By default, if an interface direct route is
added/deleted on an advertising interface and no static prefixes are
specified by the configuration file,
.Nm
adds/deletes the corresponding prefix to/from its advertising list,
respectively.
The
.Fl s
option may be used to disable this behavior.
Moreover, if the status of an advertising interface changes,
.Nm
will start or stop sending router advertisements according
to the latest status.
.Pp
Basically, hosts MUST NOT send Router Advertisement messages at any
time (RFC 4861, Section 6.2.4).
However, it would sometimes be useful to allow hosts to advertise some
parameters such as prefix information and link MTU.
Thus,
.Nm
can be invoked if router lifetime is explicitly set to zero on every
advertising interface.
.Pp
The command line options are:
.Bl -tag -width indent
.\"
.It Fl c Ar configfile
Specify an alternate location,
.Ar configfile ,
for the configuration file.
By default,
.Pa /etc/rtadvd.conf
is used.
.It Fl d
Do not daemonize.
If this option is specified,
.Nm
will run in the foreground and log to
.Em stderr .
.It Fl s
Do not add or delete prefixes dynamically.
Only statically configured prefixes, if any, will be advertised.
.El
.Pp
Upon receipt of signal
.Dv SIGUSR1 ,
.Nm
will dump the current internal state into
.Xr syslog 3 .
.Pp
Use
.Dv SIGTERM
to kill
.Nm
gracefully.
In this case,
.Nm
will transmit router advertisement with router lifetime 0
to all the interfaces
.Pq in accordance with RFC 4861 6.2.5 .
.Sh FILES
.Bl -tag -width "/etc/rtadvd.conf" -compact
.It Pa /etc/rtadvd.conf
The default configuration file.
.El
.Sh EXIT STATUS
.Ex -std rtadvd
.Sh SEE ALSO
.Xr rtadvd.conf 5 ,
.Xr slaacd 8 ,
.Xr syslogd 8
.Sh HISTORY
The
.Nm
command first appeared in the WIDE Hydrangea IPv6 protocol stack kit.
.Sh BUGS
There used to be some text that recommended users not to let
.Nm
advertise Router Advertisement messages on an upstream link to avoid
undesirable
.Xr icmp6 4
redirect messages.
However, based on later discussion in the IETF IPng working group,
all routers should rather advertise the messages regardless of
the network topology, in order to ensure reachability.
@


1.34
log
@Kill Mobile IPv6 references.  Also spotted by florian@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.33 2015/11/30 20:52:28 jca Exp $
d134 1
@


1.33
log
@Remove the already disabled Router Renumbering support (RFC2894).

This code has only been reachable for two months after rtadvd has been
imported into the tree.  This unsafe protocol is supposed to be used
along with IPsec and rrenumd(8), a KAME tool that we don't have.
I couldn't find an example of use in the real world.

ok sthen@@ florian@@ millter@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.32 2015/10/25 21:23:42 jca Exp $
d31 1
a31 1
.Dd $Mdocdate: October 25 2015 $
a103 4
.\".It Fl m
.\"Enables Mobile IPv6 support.
.\"This changes the content of router advertisement option, as well as
.\"permitted configuration directives.
@


1.32
log
@Stop writing down a pidfile.

pid files aren't useful on OpenBSD, the rc.d(8) framework doesn't use
them.  In rtadvd, not writing a pid file means that we can set tighter
pledge(2) settings.  Also the pid file handling is pretty basic and the
atexit handler can't remove the pid file since rtadvd did a chroot - beurk.

ok florian@@, "perfect" deraadt@@ (!)
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.31 2015/06/02 16:02:45 sobrado Exp $
d31 1
a31 1
.Dd $Mdocdate: June 2 2015 $
d39 1
a39 1
.Op Fl dMRs
a103 9
.It Fl M
Specify an interface to join the all-routers site-local multicast group.
By default,
.Nm
tries to join the first advertising interface appearing on the command
line.
This option has meaning only with the
.Fl R
option, which enables routing renumbering protocol support.
a107 11
.It Fl R
Accept router renumbering requests.
If you enable it, an
.Xr ipsec 4
setup is suggested for security reasons.
.\"On KAME-based systems,
.\".Xr rrenumd 8
.\"generates router renumbering request packets.
This option is currently disabled, and is ignored by
.Nm
with a warning message.
@


1.31
log
@write Mobile IP{,v6} in a consistent way, as given in RFCs 5944 and 6275.

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.30 2014/12/03 20:15:37 florian Exp $
d31 1
a31 1
.Dd $Mdocdate: December 3 2014 $
d150 1
a150 1
.Bl -tag -width "/var/run/rtadvd.pidXX" -compact
a152 3
.It Pa /var/run/rtadvd.pid
Contains the PID of the currently running
.Nm .
@


1.30
log
@rtsol is gone
OK deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.29 2012/08/18 15:40:30 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: August 18 2012 $
d114 1
a114 1
.\"Enables mobile IPv6 support.
@


1.29
log
@RFCs 2461 and 2462 have been replaced by, respectively, RFCs 4861 and 4862;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.28 2010/09/03 11:22:36 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: September 3 2010 $
a160 1
.Xr rtsol 8 ,
@


1.28
log
@add an EXIT STATUS section for /usr/sbin;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.27 2008/06/09 06:23:10 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: June 9 2008 $
d80 1
a80 1
time (RFC 2461, Section 6.2.3).
d148 1
a148 1
.Pq in accordance with RFC 2461 6.2.5 .
@


1.27
log
@some syslog Xr;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.26 2008/06/08 21:08:57 rainer Exp $
d31 1
a31 1
.Dd $Mdocdate: June 8 2008 $
a148 2
.Pp
.Ex -std rtadvd
d157 2
@


1.26
log
@Send debug output to syslog instead of a file when receiving SIGUSR1.
This is a preparation for dropping privileges.

ok henning@@, pyr@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.25 2008/04/22 05:04:07 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: April 22 2008 $
d136 2
a137 1
will dump the current internal state into syslog.
d161 2
a162 1
.Xr rtsol 8
@


1.25
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.24 2008/04/21 20:40:55 rainer Exp $
d31 1
a31 1
.Dd $Mdocdate: April 21 2008 $
d136 1
a136 2
will dump the current internal state into
.Pa /var/run/rtadvd.dump .
d151 1
a151 1
.Bl -tag -width "/var/run/rtadvd.dumpXX" -compact
a156 4
.It Pa /var/run/rtadvd.dump
The file in which
.Nm
dumps its internal state.
@


1.24
log
@Clean up logging by introducing the logging API used in
other daemons and clean up the command line options.
For details, see rtadvd(8).

ok bluhm@@, pyr@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.23 2007/05/31 19:20:29 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: May 31 2007 $
d99 5
a103 2
Do not daemonize.  If this option is specified, rtadvd will run
in the foreground and log to stderr.
@


1.23
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.22 2005/12/20 09:22:16 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate$
d39 1
a39 1
.Op Fl DdfMRs
a97 4
.It Fl D
Even more debugging information than that offered by the
.Fl d
option is printed.
d99 2
a100 4
Print debugging information.
.It Fl f
Foreground mode (useful when debugging).
Log messages will be dumped to stderr when this option is specified.
@


1.22
log
@some wording improvements;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.21 2005/10/27 18:26:13 jmc Exp $
d31 1
a31 1
.Dd May 17, 1998
@


1.21
log
@sort options and sync usage();
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.20 2003/08/08 10:13:33 jmc Exp $
d44 1
a44 2
sends router advertisement packets to the specified
.Ar interfaces .
d55 1
a55 1
or if the configuration file does not exist altogether,
d85 1
a85 1
can be invoked if router lifetime is explicitly set zero on every
d99 3
a101 1
Even more debugging information is printed.
d122 3
a124 1
If you enable it, certain IPsec setup is suggested for security reasons.
d152 2
a153 4
.Sh RETURN VALUES
The
.Nm
program exits 0 on success, and >0 on failures.
d155 1
a155 1
.Bl -tag -width Pa -compact
d159 2
a160 2
contains the pid of the currently running
.Nm rtadvd .
d180 1
a180 1
However, based on the later discussion in the IETF IPng working group,
@


1.20
log
@refer to RFCs consistently (RFC XXXX);
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.19 2003/03/18 11:18:55 jmc Exp $
d39 1
a39 1
.Op Fl dDfMRs
d92 1
a92 1
.It Fl c
d99 2
a102 2
.It Fl D
Even more debugging information is printed.
@


1.19
log
@xon/xoff -> Xon/Xoff;
IETF ipng -> IETF IPng;
NSFNet -> NSFNET;

courtesy NetBSD (Igor Sobrado)
ok miod@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.18 2002/05/29 14:55:45 itojun Exp $
d148 1
a148 1
.Pq in accordance with RFC2461 6.2.5 .
@


1.18
log
@grammar from netbsd via kame
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.17 2002/05/29 14:34:05 itojun Exp $
d179 1
a179 1
However, based on the later discussion in the IETF ipng working group,
@


1.17
log
@KNF, strlcpy, cleanups from kame
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.16 2001/07/25 10:04:57 mpech Exp $
d110 1
a110 1
tries to join the first advertising interface appeared in the command
d161 1
a161 1
in which
d171 2
a172 2
command first appeared in WIDE Hydrangea IPv6 protocol stack kit.
.Sh CAVEAT
@


1.16
log
@We have to undo the changes to the 3rd party code, because it makes
upgrading those components hell.

Tip of the day: Don't commit without confirmation.
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtadvd.8,v 1.15 2001/07/20 19:09:48 mpech Exp $
.\"	$KAME: rtadvd.8,v 1.17 2001/02/04 05:34:38 jinmei Exp $
d39 1
a40 1
.Op Fl dDfRs
d105 1
@


1.15
log
@we don't like:
o) .Pp before/after .Sh;
o) .Pp before/after .Sh;
o) .Nm without argument in SYNOPSIS;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.14 2001/02/04 06:22:05 itojun Exp $
d38 1
a38 1
.Nm rtadvd
@


1.14
log
@avoid infinite loop when -s is specified (select loop mistake).
make agetent() 32bit clean.  KAME PR 127.
disable -R (router renumbering receiver).  sync with kame.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.13 2001/01/15 11:06:28 itojun Exp $
d38 1
a38 1
.Nm
@


1.13
log
@sync with latest kame tree.
- reduce chances for signal handler rae condition
- decrease chances for misconfiguration
- feedbacks from router renumbering protocol bakeoff
- cleanups related to mtu handling
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtadvd.8,v 1.12 2000/07/06 10:14:47 itojun Exp $
.\"	$KAME: rtadvd.8,v 1.15 2000/12/22 08:54:29 jinmei Exp $
d113 1
a113 1
option, which enables auto routing renumbering.
d121 6
a164 1
.Xr daemon 3 ,
@


1.12
log
@sync with router renumber struct decl change.
more logs.  make it very sure to close temporary socket.
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtadvd.8,v 1.11 2000/05/23 11:23:23 itojun Exp $
.\"	$KAME: rtadvd.8,v 1.9 2000/05/27 13:37:01 jinmei Exp $
d44 1
a44 1
advertises router advertisement packet to the specified
d48 1
a48 1
It will then periodically send router advertisement packets, as well
d55 1
a55 1
In the event of no configuration file entry for an interface,
d73 2
a74 2
.Ic Fl s
may be used to disable this behavior.
d80 9
d105 9
d130 1
a130 1
.Pa /var/run/rtadvd.dump.
d141 1
a141 1
.Pq according to RFC2461 6.2.5 .
d143 3
a145 1
The program exits with 0 on success, and non-zero on failures.
d147 1
a147 1
.Bl -tag -width /etc/rtadvd.conf -compact
d151 1
a151 1
contains pid of the currently running
d154 1
a154 1
on which
d167 4
a170 2
Router advertisements should only be performed downstream.
Erroneous upstream advertisements will cause
d172 4
a175 3
redirect packet storms in the subnet, as (per the specification) the
advertising router is assumed to become the default router for
end hosts in the subnet.
@


1.11
log
@sync with latest kame.
- weaken logging priority for /etc/resolv.conf open failure
- gather stats, emit stats by SIGUSR1
- use SIOCGIFMTU to get interface MTU (just a matter of #ifdef)
From: "Todd T. Fries" <todd@@fries.net>
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtadvd.8,v 1.10 2000/04/12 21:47:56 aaron Exp $
.\"	$KAME: rtadvd.8,v 1.8 2000/05/22 22:12:11 itojun Exp $
d67 2
a68 1
added/deleted on an advertising interface,
d74 5
a78 1
command line option may be used to disable this behavior.
d104 2
a105 1
Do not monitor routing table changes (static prefix).
@


1.10
log
@Trailing whitespace begone!
@
text
@d1 2
a2 1
.\"	$OpenBSD: rtadvd.8,v 1.9 2000/03/19 17:57:14 aaron Exp $
a30 2
.\"     KAME Id: rtadvd.8,v 1.5 2000/02/08 05:19:36 itojun Exp
.\"
d38 1
a38 1
.Nm rtadvd
d102 6
d124 7
@


1.9
log
@Remove hard sentence breaks. Add $OpenBSD$ tags where appropriate. Some other
cleanup along the way.
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtadvd.8,v 1.8 2000/03/13 06:16:11 itojun Exp $
.\" 
d5 1
a5 1
.\" 
d17 1
a17 1
.\" 
@


1.8
log
@bring in latest rtadvd source from kame.
this fixes unclosed file descriptor in router renumbering case.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.7 2000/02/02 04:10:37 itojun Exp $
d39 1
a39 1
.Nm
d44 1
a44 1
.Nm Rtadvd
d65 1
a65 1
.Nm Rtadvd
@


1.7
log
@add -R flag (accept router renumbering).  this makes rtadvd to
take the safer side (router renumbering requires certain ipsec setup).
die gracefully on SIGTERM.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.6 2000/01/12 22:51:12 itojun Exp $
d30 1
a30 1
.\"     KAME Id: rtadvd.8,v 1.4 2000/02/02 03:55:44 itojun Exp
d41 1
a41 1
.Op Fl dDfsR
d92 4
a95 2
.It Fl s
Do not monitor routing table changes (static prefix).
d99 2
@


1.6
log
@config path change
From: eric jackson <shinobi@@monkey.org>
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.5 2000/01/06 07:55:52 itojun Exp $
d30 1
a30 1
.\"     KAME Id: rtadvd.8,v 1.2 2000/01/06 07:54:28 itojun Exp
d41 1
a41 1
.Op Fl dDfs
d94 3
d98 11
@


1.5
log
@tiny nroff fix.  sync with kame repository.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.4 2000/01/06 07:06:19 angelos Exp $
d98 2
a99 2
.Bl -tag -width /usr/local/v6/etc/rtadvd.conf -compact
.It Pa /usr/local/v6/etc/rtadvd.conf
@


1.4
log
@Rework language.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.3 2000/01/05 19:53:12 angelos Exp $
d30 1
a30 1
.\"	KAME Id: rtadvd.8,v 1.1.1.1 1999/08/08 23:31:42 itojun Exp
d111 2
a112 2
Router advertisements should only be performed downstream. Erroneous
upstream advertisements will cause
d115 1
a115 1
advertising router is assumed to become the default ongoing router for
@


1.3
log
@Config file should be in /etc
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.8,v 1.2 1999/12/11 10:33:29 itojun Exp $
d49 2
a50 3
Then, it will voluntarily send router advertisement packet periodically.
If a router solicitation packet from host has reached the program,
the program will respond by router advertisement packet.
d52 2
a53 2
For each interface, which is called advertising interface,
content of router advertisement can be described in
d56 2
a57 2
If there is no description for the interface in the configuration file
or if the configuration file does not exist,
d62 1
a62 1
gets all the interface routes from the routing table and advertises
d66 1
a66 1
watches the routing table.
d72 1
a72 1
If you do not want to enable this feature, you should specify the
d74 3
a76 1
command line option when advocation.
d87 1
a87 1
Debug.
d89 1
a89 1
More debug.
d91 1
a91 2
Foreground mode.
Do not become daemon.
d93 1
a93 2
Static prefix.
Do not watch the routing table.
d111 6
a116 7
Do not perform router advertisement toward upstream direction,
you should only advertise to downstream direction.
If you advertise toward upstream by mistake,
you will see icmp6 redirect storm on that subnet.
This is because of the specification,
which says that advertising router is assumed to become
the default outgoing router for end hosts in the subnet.
@


1.2
log
@enable rtadvd in usr.sbin/Makefile.
rcsid police on usr.sbin/rtadvd.
add sample config into etc/rtadvd.conf.
add files into distrib/sets/list.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d83 1
a83 1
.Pa /usr/local/v6/etc/rtadvd.conf
@


1.1
log
@Initial revision
@
text
@d1 2
d34 1
a34 1
.Os KAME
@


1.1.1.1
log
@router advertisement daemon, from KAME
@
text
@@
