head	1.38;
access;
symbols
	OPENBSD_6_1_BASE:1.38
	OPENBSD_6_0:1.37.0.2
	OPENBSD_6_0_BASE:1.37
	OPENBSD_5_9:1.35.0.2
	OPENBSD_5_9_BASE:1.35
	OPENBSD_5_8:1.35.0.4
	OPENBSD_5_8_BASE:1.35
	OPENBSD_5_7:1.34.0.2
	OPENBSD_5_7_BASE:1.34
	OPENBSD_5_6:1.33.0.8
	OPENBSD_5_6_BASE:1.33
	OPENBSD_5_5:1.33.0.6
	OPENBSD_5_5_BASE:1.33
	OPENBSD_5_4:1.33.0.2
	OPENBSD_5_4_BASE:1.33
	OPENBSD_5_3:1.31.0.2
	OPENBSD_5_3_BASE:1.31
	OPENBSD_5_2:1.28.0.2
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.25
	OPENBSD_5_1:1.25.0.6
	OPENBSD_5_0:1.25.0.4
	OPENBSD_5_0_BASE:1.25
	OPENBSD_4_9:1.25.0.2
	OPENBSD_4_9_BASE:1.25
	OPENBSD_4_8:1.24.0.2
	OPENBSD_4_8_BASE:1.24
	OPENBSD_4_7:1.23.0.6
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.23.0.8
	OPENBSD_4_6_BASE:1.23
	OPENBSD_4_5:1.23.0.4
	OPENBSD_4_5_BASE:1.23
	OPENBSD_4_4:1.23.0.2
	OPENBSD_4_4_BASE:1.23
	OPENBSD_4_3:1.22.0.4
	OPENBSD_4_3_BASE:1.22
	OPENBSD_4_2:1.22.0.2
	OPENBSD_4_2_BASE:1.22
	OPENBSD_4_1:1.21.0.10
	OPENBSD_4_1_BASE:1.21
	OPENBSD_4_0:1.21.0.8
	OPENBSD_4_0_BASE:1.21
	OPENBSD_3_9:1.21.0.6
	OPENBSD_3_9_BASE:1.21
	OPENBSD_3_8:1.21.0.4
	OPENBSD_3_8_BASE:1.21
	OPENBSD_3_7:1.21.0.2
	OPENBSD_3_7_BASE:1.21
	OPENBSD_3_6:1.20.0.4
	OPENBSD_3_6_BASE:1.20
	OPENBSD_3_5:1.20.0.2
	OPENBSD_3_5_BASE:1.20
	OPENBSD_3_4:1.19.0.2
	OPENBSD_3_4_BASE:1.19
	OPENBSD_3_3:1.16.0.2
	OPENBSD_3_3_BASE:1.16
	OPENBSD_3_2:1.15.0.6
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.15.0.4
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.15.0.2
	OPENBSD_3_0_BASE:1.15
	OPENBSD_2_9_BASE:1.13
	OPENBSD_2_9:1.13.0.2
	OPENBSD_2_8:1.10.0.2
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	kame_19991211:1.1.1.1
	KAME:1.1.1;
locks; strict;
comment	@.\" @;


1.38
date	2016.08.25.09.41.13;	author sthen;	state Exp;
branches;
next	1.37;
commitid	ly1C5IzkF4gB4Pq7;

1.37
date	2016.05.07.19.33.03;	author jca;	state Exp;
branches;
next	1.36;
commitid	Ynii12rCmtSiKL9x;

1.36
date	2016.05.07.19.28.35;	author jca;	state Exp;
branches;
next	1.35;
commitid	ZVheTr9vvp5uhTcb;

1.35
date	2015.04.21.16.32.24;	author florian;	state Exp;
branches;
next	1.34;
commitid	B7OBVooLfxHgVFxN;

1.34
date	2014.12.03.20.15.37;	author florian;	state Exp;
branches;
next	1.33;
commitid	lAskMXa1Bme8BEem;

1.33
date	2013.06.01.01.30.54;	author brad;	state Exp;
branches;
next	1.32;

1.32
date	2013.03.30.02.49.38;	author lteo;	state Exp;
branches;
next	1.31;

1.31
date	2012.09.26.16.19.45;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2012.08.18.15.40.30;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2012.08.08.00.28.01;	author schwarze;	state Exp;
branches;
next	1.28;

1.28
date	2012.07.08.10.46.00;	author phessler;	state Exp;
branches;
next	1.27;

1.27
date	2012.07.08.10.22.55;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2012.07.08.09.30.03;	author phessler;	state Exp;
branches;
next	1.25;

1.25
date	2010.09.19.21.59.23;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2010.03.26.19.30.40;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2008.07.19.10.35.31;	author reyk;	state Exp;
branches;
next	1.22;

1.22
date	2007.05.31.19.20.29;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2004.09.15.23.00.57;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2003.10.23.18.23.33;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2003.06.18.05.07.46;	author itojun;	state Exp;
branches;
next	1.18;

1.18
date	2003.06.18.02.26.58;	author itojun;	state Exp;
branches;
next	1.17;

1.17
date	2003.06.12.12.59.53;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2003.03.18.08.44.09;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2001.07.25.10.04.57;	author mpech;	state Exp;
branches;
next	1.14;

1.14
date	2001.07.20.19.09.48;	author mpech;	state Exp;
branches;
next	1.13;

1.13
date	2001.01.21.15.11.19;	author itojun;	state Exp;
branches;
next	1.12;

1.12
date	2001.01.15.11.06.30;	author itojun;	state Exp;
branches;
next	1.11;

1.11
date	2000.12.15.14.31.18;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	2000.07.06.12.11.06;	author itojun;	state Exp;
branches;
next	1.9;

1.9
date	2000.07.06.10.14.48;	author itojun;	state Exp;
branches;
next	1.8;

1.8
date	2000.05.23.11.23.23;	author itojun;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.15.02.15.20;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.12.21.47.57;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.23.21.39.57;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	2000.03.14.21.31.38;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	2000.03.13.06.16.11;	author itojun;	state Exp;
branches;
next	1.2;

1.2
date	99.12.11.10.33.29;	author itojun;	state Exp;
branches;
next	1.1;

1.1
date	99.12.11.10.23.24;	author itojun;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.12.11.10.23.24;	author itojun;	state Exp;
branches;
next	;


desc
@@


1.38
log
@Fix rtadvd.conf(5) example for pinfoflags, it accepts numbers not strings.
ok phessler
@
text
@.\"	$OpenBSD: rtadvd.conf.5,v 1.37 2016/05/07 19:33:03 jca Exp $
.\"	$KAME: rtadvd.conf.5,v 1.46 2003/06/17 08:26:35 itojun Exp $
.\"
.\" Copyright (C) 1995, 1996, 1997, and 1998 WIDE Project.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the project nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE PROJECT AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE PROJECT OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: May 7 2016 $
.Dt RTADVD.CONF 5
.Os
.Sh NAME
.Nm rtadvd.conf
.Nd config file for router advertisement daemon
.Sh DESCRIPTION
This file describes how the router advertisement packets must be constructed
for each of the interfaces.
.Pp
As described in
.Xr rtadvd 8 ,
you do not have to set this configuration file up at all,
unless you need some special configurations.
You may even omit the file as a whole.
In such cases, the
.Nm rtadvd
daemon will automatically configure itself using default values
specified in the specification.
.Pp
It obeys the famous
.Xr termcap 5
file format.
Each line in the file describes a network interface.
Fields are separated by a colon
.Pq Sq \&: ,
and each field contains one capability description.
Lines may be concatenated by the
.Sq \e
character.
The comment marker is the
.Sq \&#
character.
.Sh CAPABILITIES
Capabilities describe the value to be filled into ICMPv6 router
advertisement messages and to control
.Xr rtadvd 8
behavior.
Therefore, you are encouraged to read IETF neighbor discovery documents
if you would like to modify the sample configuration file.
.Pp
Note that almost all items have default values.
If you omit an item, the default value of the item will be used.
.Pp
There are two items which control the interval of sending router advertisements.
These items can be omitted, then
.Nm rtadvd
will use the default values.
.Bl -tag -width indent
.It Cm \&maxinterval
(num) The maximum time allowed between sending unsolicited
multicast router advertisements
.Pq unit: seconds .
The default value is 600.
Its value must be no less than 4 seconds
and no greater than 1800 seconds.
.It Cm \&mininterval
(num) The minimum time allowed between sending unsolicited multicast
router advertisements
.Pq unit: seconds .
The default value is the one third of value of
.Cm maxinterval .
Its value must be no less than 3 seconds and no greater than .75 *
the value of
.Cm maxinterval .
.El
.Pp
The following items are for ICMPv6 router advertisement message
header.
These items can be omitted, then
.Nm rtadvd
will use the default values.
.Bl -tag -width indent
.It Cm \&chlim
(num) The value for Cur Hop Limit field.
The default value is 64.
.It Cm \&raflags
(num) Flags field in router advertisement message header.
Bit 7
.Pq 0x80
means Managed address configuration flag bit,
and Bit 6
.Pq 0x40
means Other stateful configuration flag bit.
Bit 4
.Pq 0x10
and
Bit 3
.Pq 0x08
are used to encode the route preference for the route as follows:
.Pp
.Bl -tag -width "0x08XXX" -offset indent -compact
.It 0x08
High
.It 0x00
Medium (the default)
.It 0x18
Low
.El
.Pp
The default value is 0.
.It Cm \&rltime
(num) Router lifetime field
.Pq unit: seconds .
Its value must be no greater than 9000.
When
.Nm rtadvd
runs on a host, this value must explicitly set 0 on all the
advertising interfaces as described in
.Xr rtadvd 8 .
The default value is 1800.
.It Cm \&rtime
(num) Reachable time field
.Pq unit: milliseconds .
The default value is 0, which means unspecified by this router.
.It Cm \&retrans
(num) Retrans Timer field
.Pq unit: milliseconds .
The default value is 0, which means unspecified by this router.
.El
.Pp
The following items are for ICMPv6 prefix information option,
which will be attached to router advertisement header.
These items can be omitted, then
.Nm rtadvd
will automatically get appropriate prefixes from the kernel's routing table,
and advertise the prefixes with the default parameters, unless the
.Cm noifprefix
flag is specified.
Keywords other than
.Cm clockskew
can be augmented with a number, like
.Dq Li prefix2 ,
to specify multiple prefixes.
.Bl -tag -width indent
.It Cm \&clockskew
(num) Time skew to adjust link propagation delays and clock skews
between routers on the link
.Pq unit: seconds .
This value is used in consistency check for locally-configured and
advertised prefix lifetimes, and has its meaning when the local router
configures a prefix on the link with a lifetime that decrements in
real time.
If the value is 0, it means the consistency check will be skipped
for such prefixes.
The default value is 0.
.It Cm \&prefixlen
(num) Prefix length field.
The default value is 64.
.It Cm \&pinfoflags
(num) Flags field in prefix information option.
Bit 7
.Pq 0x80
means On-link flag bit,
and Bit 6
.Pq 0x40
means Autonomous address-configuration flag bit.
The default value is 0xc0, i.e., both bits are set.
.It Cm \&addr
(str) The address filled into Prefix field.
Since
.Dq \&:
is used for the
.Xr termcap 5
file format as well as IPv6 numeric addresses, the field MUST be quoted
using double quotes.
.It Cm \&noifprefix
(bool) Specifies whether
.Nm rtadvd
should gather prefix information from the interface if no
.Cm addr
is specified.
If no
.Cm addr
is given, and
.Cm noifprefix
is set,
.Nm rtadvd
will send RA packets with no prefix information.
.It Cm \&vltime
(num) Valid lifetime field
.Pq unit: seconds .
The default value is 2592000 (30 days).
.It Cm \&vltimedecr
(bool) This item means the advertised valid lifetime will decrement
in real time, which is disabled by default.
.It Cm \&pltime
(num) Preferred lifetime field
.Pq unit: seconds .
The default value is 604800 (7 days).
.It Cm \&pltimedecr
(bool) This item means the advertised preferred lifetime will decrement
in real time, which is disabled by default.
.El
.Pp
The following item is for ICMPv6 MTU option,
which will be attached to router advertisement header.
This item can be omitted, then
.Nm rtadvd
will use the default value.
.Bl -tag -width indent
.It Cm \&mtu
(num or str) MTU (maximum transmission unit) field.
If 0 is specified, it means that the option will not be included.
The default value is 0.
If the special string
.Dq auto
is specified for this item, MTU option will be included and its value
will be set to the interface MTU automatically.
.El
.Pp
The following items are for ICMPv6 route information option,
which will be attached to router advertisement header.
These items are optional.
Each items can be augmented with number, like
.Dq Li rtplen2 ,
to specify multiple routes.
.Bl -tag -width indent
.It Cm \&rtprefix
(str) The prefix filled into the Prefix field of route information option.
Since
.Dq \&:
is used for
.Xr termcap 5
file format as well as IPv6 numeric address, the field MUST be quoted by
doublequote character.
.It Cm \&rtplen
(num) Prefix length field in route information option.
The default value is 64.
.It Cm \&rtflags
(str or num) A 8-bit flags field in route information option.
Currently only the preference values are defined.
The notation for those is the same as that of the raflags field.
.It Cm \&rtltime
(num) route lifetime field in route information option.
.Pq unit: seconds .
The default value is same as router lifetime.
.El
.Pp
The following items are for ICMPv6 RDNSS option, used to give a list of
recursive DNS servers to hosts.
If this item is omitted, no information about DNS servers will be advertised.
.Bl -tag -width indent
.It Cm \&rdnss
(str) The list of advertised recursive DNS servers, separated by commas.
.It Cm \&rdnssltime
(num) Validity of the list of DNS servers
.Pq unit: seconds .
The default value is 1.5 * the value of maxinterval.
.El
.Pp
The following items are used for ICMPv6 DNSSL option which specifies a
list of DNS suffixes advertised to hosts.
If this option is not specified, no DNS suffix will be sent to hosts.
.Bl -tag -width indent
.It Cm \&dnssl
(str) The list of advertised DNS suffixes, separated by commas.
.It Cm \&dnsslltime
(num) Validity of the list of DNS suffixes
.Pq unit: seconds .
The default value is 1.5 * the value of maxinterval.
.El
.Pp
The following item controls ICMPv6 source link-layer address option,
which will be attached to router advertisement header.
As noted above, you can just omit the item, then
.Nm rtadvd
will use the default value.
.Bl -tag -width indent
.It Cm \&nolladdr
(bool) By default
.Po
if
.Cm \&nolladdr
is not specified
.Pc ,
.Xr rtadvd 8
will try to get link-layer address for the interface from the kernel,
and attach that in source link-layer address option.
If this capability exists,
.Xr rtadvd 8
will not attach source link-layer address option to
router advertisement packets.
.El
.Pp
You can also refer one line from another by using
.Cm tc
capability.
See
.Xr termcap 5
for details on the capability.
.Sh EXAMPLES
As presented above, all of the advertised parameters have default values
defined in specifications, and hence you usually do not have to set them
by hand, unless you need special non-default values.
It can cause interoperability problem if you use an ill-configured
parameter.
.Pp
To override a configuration parameter, you can specify the parameter alone.
With the following configuration,
.Xr rtadvd 8
overrides the router lifetime parameter for the
.Li ne0
interface.
.Bd -literal -offset indent
ne0:\e
	:rltime#0:
.Ed
.Pp
The following example manually configures prefixes advertised from the
.Li ef0
interface.
The configuration must be used with the
.Fl s
option to
.Xr rtadvd 8 .
.Bd -literal -offset indent
ef0:\e
	:addr="2001:db8:ffff:1000::":prefixlen#64:
.Ed
.Pp
The following example configures two recursive DNS servers for the
.Li em0
interface and sets the DNS search suffix to
.Do
example.com
.Dc .
.Bd -literal -offset indent
em0:\e
	:rdnss="2001:db8:ffff:1000::1,2001:db8:ffff:1000::2":\e
	:dnssl="example.com":
.Ed
.Pp
The following example presents the default values in an explicit manner.
The configuration is provided just for reference purposes;
YOU DO NOT NEED TO HAVE IT AT ALL.
.Bd -literal -offset indent
default:\e
	:chlim#64:raflags#0:rltime#1800:rtime#0:retrans#0:\e
	:pinfoflags#192:vltime#2592000:pltime#604800:mtu#0:
ef0:\e
	:addr="2001:db8:ffff:1000::":prefixlen#64:tc=default:
.Ed
.Sh SEE ALSO
.Xr termcap 5 ,
.Xr rtadvd 8
.Sh STANDARDS
.Rs
.%A R. Draves
.%A D. Thaler
.%D 2005
.%R RFC 4191
.%T Default Router Preferences and More-Specific Routes
.Re
.Pp
.Rs
.%A T. Narten
.%A E. Nordmark
.%A W. Simpson
.%A H. Soliman
.%D 2007
.%R RFC 4861
.%T Neighbor Discovery for IP version 6 (IPv6)
.Re
.Pp
.Rs
.%A J. Jeong
.%A S. Park
.%A L. Beloeil
.%A S. Madanapalli
.%D 2010
.%R RFC 6106
.%T IPv6 Router Advertisement Options for DNS Configuration
.Re
.Sh HISTORY
The
.Xr rtadvd 8
and the configuration file
.Nm
first appeared in WIDE Hydrangea IPv6 protocol stack kit.
.\" .Sh BUGS
.\" (to be written)
@


1.37
log
@Replace .Po/.Pc with .Pq, and drop extra .Li; suggested by jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.36 2016/05/07 19:28:35 jca Exp $
d370 1
a370 1
	:pinfoflags="la":vltime#2592000:pltime#604800:mtu#0:
@


1.36
log
@Document that both raflags and rtflags can hold route preference flags.

Input from an ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.35 2015/04/21 16:32:24 florian Exp $
d31 1
a31 1
.Dd $Mdocdate: April 21 2015 $
d110 1
a110 3
.Po
.Li 0x80
.Pc
d113 1
a113 3
.Po
.Li 0x40
.Pc
d116 1
a116 3
.Po
.Li 0x10
.Pc
d119 1
a119 3
.Po
.Li 0x08
.Pc
d183 1
a183 3
.Po
.Li 0x80
.Pc
d186 1
a186 3
.Po
.Li 0x40
.Pc
@


1.35
log
@According to RFC 4861 and the actuall implementation rltime may not
exceed 9000 seconds.
Reported by Alexander Lobodzinski on bugs@@, thanks!
OK benno@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.34 2014/12/03 20:15:37 florian Exp $
d31 1
a31 1
.Dd $Mdocdate: December 3 2014 $
d119 20
d275 1
a275 12
The notation is same as that of the raflags field.
Bit 4
.Po
.Li 0x10
.Pc
and
Bit 3
.Po
.Li 0x08
.Pc
are used to encode the route preference for the route.
The default value is 0x00, i.e., medium preference.
@


1.34
log
@rtsol is gone
OK deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.33 2013/06/01 01:30:54 brad Exp $
d31 1
a31 1
.Dd $Mdocdate: June 1 2013 $
d123 1
a123 1
Its value must be no greater than 3600000.
@


1.33
log
@Add support for advertising route information (RFC 4191).

From FreeBSD via UMEZAWA Takeshi

ok bluhm@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.32 2013/03/30 02:49:38 lteo Exp $
d31 1
a31 1
.Dd $Mdocdate: March 30 2013 $
d379 1
a379 2
.Xr rtadvd 8 ,
.Xr rtsol 8
@


1.32
log
@Fix typos.

From "Mike." the.lists()mgm51.com, thanks!

ok jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.31 2012/09/26 16:19:45 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: September 26 2012 $
d234 39
d382 8
@


1.31
log
@last stage of rfc changes, using consistent Rs/Re blocks, and moving the
references into a STANDARDS section;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.30 2012/08/18 15:40:30 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: August 18 2012 $
d207 1
a207 1
(bool) This item means the advertised valid lifetime will decrements
d214 1
a214 1
(bool) This item means the advertised preferred lifetime will decrements
@


1.30
log
@RFCs 2461 and 2462 have been replaced by, respectively, RFCs 4861 and 4862;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.29 2012/08/08 00:28:01 schwarze Exp $
d31 1
a31 1
.Dd $Mdocdate: August 8 2012 $
d342 1
d352 1
@


1.29
log
@Mention RFC 6106; from brad@@, content ok lteo@@.
While here, use .Rs for references; ok jmc@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.28 2012/07/08 10:46:00 phessler Exp $
d31 1
a31 1
.Dd $Mdocdate: July 8 2012 $
d343 6
a348 3
.%A Thomas Narten
.%A Erik Nordmark
.%A W. A. Simpson
a349 1
.%R RFC 2461
d356 2
a358 1
.%R RFC 6106
@


1.28
log
@Add support for advertising dns servers and search paths in router
advertisements, according to RFC 6106.

original diff from Stephane A. Sezer on tech@@, many thanks!

OK phessler@@, todd@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.27 2012/07/08 10:22:55 jmc Exp $
d342 15
a356 6
.Pp
Thomas Narten, Erik Nordmark and W. A. Simpson,
.Do
Neighbor Discovery for IP version 6 (IPv6)
.Dc ,
RFC 2461
@


1.27
log
@new sentence, new line;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.26 2012/07/08 09:30:03 phessler Exp $
d234 24
d314 12
@


1.26
log
@Add noifprefix, an option to send an RA with no prefix information.

From Stephane A. Sezer, many thanks!

OK phessler@@, jasper@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.25 2010/09/19 21:59:23 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: September 19 2010 $
d194 2
a195 1
is specified. If no
@


1.25
log
@more wacky macro fixing;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.24 2010/03/26 19:30:40 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: March 26 2010 $
d145 3
a147 1
and advertise the prefixes with the default parameters.
d189 12
@


1.24
log
@dispense with some wacky escape sequences;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.23 2008/07/19 10:35:31 reyk Exp $
d31 1
a31 1
.Dd $Mdocdate: July 19 2008 $
d260 1
a260 1
.Bd -literal -offset
d272 1
a272 1
.Bd -literal -offset
d280 1
a280 1
.Bd -literal -offset
@


1.23
log
@Use the IPv6 documentation prefix 2001:db8::/32 from RFC 3849 instead
of the deprecated 3ffe::/16 6bone test address space.  Deprecated or
public IPv6 allocations should not be used for documentation; we have
the same approach for IPv4 by using RFC 1918 private addresses.

ok jmc@@ todd@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.22 2007/05/31 19:20:29 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: May 31 2007 $
d261 1
a261 1
ne0:\\
d273 1
a273 1
ef0:\\
d281 2
a282 2
default:\\
	:chlim#64:raflags#0:rltime#1800:rtime#0:retrans#0:\\
d284 1
a284 1
ef0:\\
@


1.22
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.21 2004/09/15 23:00:57 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate$
d274 1
a274 1
	:addr="3ffe:501:ffff:1000::":prefixlen#64:
d285 1
a285 1
	:addr="3ffe:501:ffff:1000::":prefixlen#64:tc=default:
@


1.21
log
@some grammar fixes, and a consistency fix i forgot to commit;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.20 2003/10/23 18:23:33 jmc Exp $
d31 1
a31 1
.Dd May 17, 1998
@


1.20
log
@typos from Jared Yanovich, plus a few more independant -> independent;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.19 2003/06/18 05:07:46 itojun Exp $
d183 1
a183 1
is used for
d185 2
a186 2
file format as well as IPv6 numeric address, the field MUST be quoted by
doublequote character.
@


1.19
log
@need "a".  from jmc
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.18 2003/06/18 02:26:58 itojun Exp $
d154 1
a154 1
betwen routers on the link
@


1.18
log
@relax config syntax; addrs#x is not needed any more.  millert ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.17 2003/06/12 12:59:53 jmc Exp $
d148 1
a148 1
can be augmented with number, like
@


1.17
log
@- section reorder
- macro fixes
- kill whitespace at EOL
- new sentence, new line
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtadvd.conf.5,v 1.16 2003/03/18 08:44:09 jmc Exp $
.\"	$KAME: rtadvd.conf.5,v 1.32 2001/01/19 05:32:05 jinmei Exp $
d146 5
a162 16
.It Cm \&addrs
(num) Number of prefixes.
Its default is 0, so it must explicitly be set to positive values
if you want to specify any prefix information option.
If its value is 0,
.Xr rtadvd 8
looks up the system routing table and
advertise the prefixes corresponding to interface routes
on the interface.
If its value is more than 1, you must specify the index of the prefix
for each item below.
Indices vary from 0 to N-1, where N is the
value of
.Cm addrs .
Each index shall follow the name of each item, e.g.,
.Dq prefixlen2 .
a186 4
This field cannot be
omitted if the value of
.Cm addrs
is more than 0.
d274 1
a274 1
	:addrs#1:addr="3ffe:501:ffff:1000::":prefixlen#64:
d283 1
a283 1
	:pinfoflags#192:vltime#2592000:pltime#604800:mtu#0:
d285 1
a285 1
	:addrs#1:addr="3ffe:501:ffff:1000::":prefixlen#64:tc=default:
@


1.16
log
@ip address -> IP address;
rtadvd.conf(5): positve -> positive;

ok miod@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.15 2001/07/25 10:04:57 mpech Exp $
a63 1
.Pp
@


1.15
log
@We have to undo the changes to the 3rd party code, because it makes
upgrading those components hell.

Tip of the day: Don't commit without confirmation.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.14 2001/07/20 19:09:48 mpech Exp $
d161 1
a161 1
Its default is 0, so it must explicitly be set to positve values
@


1.14
log
@we don't like:
o) .Pp before/after .Sh;
o) .Pp before/after .Sh;
o) .Nm without argument in SYNOPSIS;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.13 2001/01/21 15:11:19 itojun Exp $
d64 1
@


1.13
log
@do not intsall rtadvd.conf into /etc, it is not required to use it
(rtadvd will derive the configuration from kernel settings).

make it clearer that rtadvd.conf is not necessary, in manpage.

sync with kame.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.12 2001/01/15 11:06:30 itojun Exp $
a63 1
.Pp
@


1.12
log
@sync with latest kame tree.
- reduce chances for signal handler rae condition
- decrease chances for misconfiguration
- feedbacks from router renumbering protocol bakeoff
- cleanups related to mtu handling
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtadvd.conf.5,v 1.11 2000/12/15 14:31:18 aaron Exp $
.\"	$KAME: rtadvd.conf.5,v 1.19 2001/01/15 11:02:26 itojun Exp $
d40 1
d45 1
a45 1
You may even omit to create this file.
d155 4
a158 2
real time. If the value is 0, it means the consistency check will be skipped
for such prefixes. The default value is 0.
d206 1
a206 1
The default value is 2592000(30 days).
d213 1
a213 1
The default value is 604800(7 days).
d264 32
d297 5
a301 28
#
# common definitions.
#
# Note: All of the following parameters have default values defined
#       in specifications, and hence you usually do not have to set them
#       by hand unless you need special non-default values.
#
#       You even do not need to create the configuration file. rtadvd
#       would usually work well without a configuration file.
#       See also: rtadvd(8)

#default:\\
#	:chlim#64:raflags#0:rltime#1800:rtime#30000:retrans#1000:\\
#	:pinfoflags#192:vltime#3600000:pltime#3600000:mtu#1500:
#ether:\\
#	:mtu#1500:tc=default:

# per-interface definitions.
#   Mainly IPv6 prefixes are configured in this part. However, rtadvd
#   automatically learns appropriate prefixes from the kernel's routing
#   table, and advertises the prefixes, so you don't have to configure
#   this part, either.
#   If you don't want the automatic advertisement, invoke rtadvd with
#   the -s option and configure this part by hand.
 
#ef0:\\
#	:addrs#1:addr="3ffe:501:4819:1000::":prefixlen#64:tc=ether:

@


1.11
log
@.Sh EXAMPLE -> .Sh EXAMPLES. Even if there's only one example, at least
this is consistent.
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtadvd.conf.5,v 1.10 2000/07/06 12:11:06 itojun Exp $
.\"	$KAME: rtadvd.conf.5,v 1.6 2000/05/26 10:54:58 jinmei Exp $
d40 9
d61 1
a61 1
.Sq \#
d76 3
d100 3
d124 5
d142 4
d147 9
d198 1
a198 1
.Ic addrs
d204 3
d211 3
d216 1
a216 1
The following items are for ICMPv6 MTU option,
d218 3
d234 3
d265 13
a277 5
default:\\
	:raflags#0:rltime#3600:\\
	:pinfoflags#64:vltime#360000:pltime#360000:mtu#1500:
ether:\\
	:mtu#1280:tc=default:
d279 10
a288 9
#
# interfaces.
#
ef0:\\
	:addrs#1:\\
	:addr="3ffe:501:4819:1000::":tc=ether:
ef1:\\
	:addrs#2:addr0="3ffe:501:4819:2000::":\\
	:addr1="3ffe:501:4819:3000::":tc=ether:
@


1.10
log
@remove mobile-ip option description, merged in by mitsake
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.9 2000/07/06 10:14:48 itojun Exp $
d215 1
a215 1
.Sh EXAMPLE
@


1.9
log
@sync with router renumber struct decl change.
more logs.  make it very sure to close temporary socket.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.8 2000/05/23 11:23:23 itojun Exp $
a207 20
.Pp
The following item controls ICMPV6 home agent information option,
which was defined with mobile IPv6 support.
It will be attached to router advertisement header just like other options do.
.Bl -tag -width indent
.It Cm \&hapref
(num) Specifies home agent preference.
If set to non-zero,
.Cm \&hatime
must be present as well.
.It Cm \&hatime
(num) Specifies home agent lifetime.
.El
.Pp
When mobile IPv6 support is turned on for
.Xr rtadvd 8 ,
advertisement interval option will be attached to router advertisement
packet, by configuring
.Cm \&maxinterval
explicitly.
@


1.8
log
@sync with latest kame.
- weaken logging priority for /etc/resolv.conf open failure
- gather stats, emit stats by SIGUSR1
- use SIOCGIFMTU to get interface MTU (just a matter of #ifdef)
From: "Todd T. Fries" <todd@@fries.net>
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtadvd.conf.5,v 1.7 2000/04/15 02:15:20 aaron Exp $
.\"	$KAME: rtadvd.conf.5,v 1.4 2000/05/22 22:10:53 itojun Exp $
d51 3
a53 1
The comment marker is the `#' character.
d137 1
a137 1
Each index shall follows the name of each item, e.g.,
d165 1
a165 1
.Cm addrs
d208 20
@


1.7
log
@Mostly punctuation fixes.
@
text
@d1 2
a2 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.6 2000/04/12 21:47:57 aaron Exp $
a29 2
.\"
.\"     KAME Id: rtadvd.conf.5,v 1.2 2000/02/08 05:19:36 itojun Exp
@


1.6
log
@Trailing whitespace begone!
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.5 2000/03/23 21:39:57 aaron Exp $
d39 1
a39 1
The file describes how the router advertisement packet must be constructed
d42 1
a42 1
It obeys famous
d47 1
a47 3
.Po
.Dq \&:
.Pc ,
d49 4
a52 2
Lines may be concatenated by \e character.
The comment marker is `#' character.
d56 1
a56 1
advertisement message and to control
d60 1
a60 1
if you would like to modify sample configuration file.
d65 1
a65 1
There are two items to control interval of sending router advertisements.
d79 1
a79 1
.Ic maxinterval.
d82 1
a82 1
.Ic maxinterval.
d135 1
a135 1
.Ic addrs.
d164 1
a164 1
.Ic addrs
@


1.5
log
@More pedantic man page formatting insanity, lalala
@
text
@d1 2
a2 2
.\"	$OpenBSD: rtadvd.conf.5,v 1.4 2000/03/14 21:31:38 aaron Exp $
.\" 
d5 1
a5 1
.\" 
d17 1
a17 1
.\" 
d86 1
a86 1
header. 
d93 1
a93 1
Bit 7 
d143 1
a143 1
Bit 7 
d249 1
a249 1
and the configuration file 
@


1.4
log
@Suffix "i.e." and "e.g." with a comma. Just another really picky man page
commit, as we want our documentation to be as consistently formatted as
possible (it's getting there :-)).
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.3 2000/03/13 06:16:11 itojun Exp $
d71 2
a72 1
The default value is 600. Its value must be no less than 4 seconds
d182 2
a183 1
The default value is 0. If the special string
@


1.3
log
@bring in latest rtadvd source from kame.
this fixes unclosed file descriptor in router renumbering case.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rtadvd.conf.5,v 1.2 1999/12/11 10:33:29 itojun Exp $
d135 1
a135 1
Each index shall follows the name of each item, e.g.
d152 1
a152 1
The default value is 0xc0, i.e. both bits are set.
@


1.2
log
@enable rtadvd in usr.sbin/Makefile.
rcsid police on usr.sbin/rtadvd.
add sample config into etc/rtadvd.conf.
add files into distrib/sets/list.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d30 1
a30 1
.\"	KAME Id: rtadvd.conf.5,v 1.1.1.1 1999/08/08 23:31:42 itojun Exp
@


1.1
log
@Initial revision
@
text
@d1 2
d34 1
a34 1
.Os KAME
@


1.1.1.1
log
@router advertisement daemon, from KAME
@
text
@@
