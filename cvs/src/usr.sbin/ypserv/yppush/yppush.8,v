head	1.18;
access;
symbols
	OPENBSD_6_2_BASE:1.18
	OPENBSD_6_1:1.18.0.8
	OPENBSD_6_1_BASE:1.18
	OPENBSD_6_0:1.18.0.4
	OPENBSD_6_0_BASE:1.18
	OPENBSD_5_9:1.18.0.2
	OPENBSD_5_9_BASE:1.18
	OPENBSD_5_8:1.16.0.12
	OPENBSD_5_8_BASE:1.16
	OPENBSD_5_7:1.16.0.4
	OPENBSD_5_7_BASE:1.16
	OPENBSD_5_6:1.16.0.8
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.16.0.6
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.16.0.2
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.15.0.14
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.12
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.10
	OPENBSD_5_0:1.15.0.8
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.6
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.15.0.4
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.2
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.14.0.6
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.2
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.13.0.2
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.12.0.4
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.11.0.16
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.14
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.11.0.12
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.11.0.10
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.11.0.8
	OPENBSD_3_7_BASE:1.11
	OPENBSD_3_6:1.11.0.6
	OPENBSD_3_6_BASE:1.11
	OPENBSD_3_5:1.11.0.4
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.11.0.2
	OPENBSD_3_4_BASE:1.11
	OPENBSD_3_3:1.9.0.2
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.8.0.6
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.8.0.4
	OPENBSD_3_1_BASE:1.8
	OPENBSD_3_0:1.8.0.2
	OPENBSD_3_0_BASE:1.8
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_9:1.7.0.2
	OPENBSD_2_8:1.6.0.4
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.4.0.10
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.8
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.4.0.6
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.4
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.4.0.2
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3;
locks; strict;
comment	@# @;


1.18
date	2015.11.30.17.03.06;	author jmc;	state Exp;
branches;
next	1.17;
commitid	34hNwlxcxhcYPM8K;

1.17
date	2015.10.09.10.13.48;	author jmc;	state Exp;
branches;
next	1.16;
commitid	vTW7iIiDEihyHiBv;

1.16
date	2013.07.16.11.13.34;	author schwarze;	state Exp;
branches;
next	1.15;

1.15
date	2010.01.20.23.20.28;	author schwarze;	state Exp;
branches;
next	1.14;

1.14
date	2008.10.22.20.31.20;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2008.06.01.21.45.08;	author sobrado;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.31.19.20.31;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2003.06.12.12.59.54;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2003.06.02.21.58.27;	author maja;	state Exp;
branches;
next	1.9;

1.9
date	2003.02.17.07.24.33;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2001.08.02.18.37.35;	author mpech;	state Exp;
branches;
next	1.7;

1.7
date	2000.11.09.17.53.32;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.19.17.57.19;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.06.05.22.18.31;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	97.05.01.21.08.49;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	96.05.30.09.53.18;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.04.24.12.37.46;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	96.03.02.03.01.42;	author dm;	state Exp;
branches;
next	;


desc
@@


1.18
log
@change Xrs from now-defunct db(3) to dbopen(3); this wasn;t a
straight replace: thanks both to schwarze and maja for feedback
on how to rewrite parts;

i've snuck in an rcs id->openbsd id change in dev_mkdb too;
@
text
@.\"	$OpenBSD: yppush.8,v 1.17 2015/10/09 10:13:48 jmc Exp $
.\"
.\" Copyright (c) 1995 Mats O Jansson <moj@@stacken.kth.se>
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS
.\" OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY
.\" DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: October 9 2015 $
.Dt YPPUSH 8
.Os
.Sh NAME
.Nm yppush
.Nd force distribution of one YP map
.Sh SYNOPSIS
.Nm yppush
.Op Fl v
.Op Fl d Ar domainname
.Op Fl h Ar hostname
.\" .Op Fl p Ar paralleljobs
.\" .Op Fl t Ar timeout
.Ar mapname
.Sh DESCRIPTION
The
.Nm
utility distributes one YP map from the master server to all
slave servers in the domain.
All servers of the domain are fetched from the YP map
.Pa ypservers .
Before starting distribution, the master server is told to reread its
Berkeley DB map files from disk.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl d Ar domainname
Don't use the default domain, use the specified domain.
.It Fl h Ar hostname
Distribute the map only to one host and not to the hosts in the
.Pa ypservers
map.
.\" .It Fl p Ar paralleljobs
.\"Set the number of parallel transfers.
.\".It Fl t Ar timeout
.\"Set the amount of time to elapse before a timeout is registered.
.It Fl v
Verbose.
Announce what the program is doing.
.El
.Sh SEE ALSO
.Xr dbopen 3 ,
.Xr Makefile.yp 8 ,
.Xr yp 8 ,
.Xr ypserv 8
.Sh AUTHORS
.An Mats O Jansson Aq Mt moj@@stacken.kth.se
.Sh BUGS
The map is also pushed from the master server to itself,
which has no effect other than slowing down operation.
@


1.17
log
@correct Xr; from theo buehler
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.16 2013/07/16 11:13:34 schwarze Exp $
d27 1
a27 1
.Dd $Mdocdate: July 16 2013 $
d49 1
a49 2
.Xr db 3
map files from disk.
d68 1
@


1.16
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.15 2010/01/20 23:20:28 schwarze Exp $
d27 1
a27 1
.Dd $Mdocdate: January 20 2010 $
d49 1
a49 1
.Xr db(3)
@


1.15
log
@Make ypserv(8) reread its YP maps on SIGHUP
and use that in Makefile.yp(8) at the end of   cd /var/yp; make all
such that the new maps get used locally even when NOPUSH is set;
fixing a quirk reported by ian@@.

While here, polish the yppush(8) manual
and document a few related mini-bugs to be fixed later.

feedback and ok  ian@@ and jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.14 2008/10/22 20:31:20 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: October 22 2008 $
d73 1
a73 1
.An Mats O Jansson Aq moj@@stacken.kth.se
@


1.14
log
@man page for Makefile.yp, and associated bits; from Ingo Schwarze
ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.13 2008/06/01 21:45:08 sobrado Exp $
d27 1
a27 1
.Dd $Mdocdate: June 1 2008 $
d32 1
a32 1
.Nd force distribution of YP map
d42 9
a50 4
.Nm yppush
is used to distribute an YP map from a master server to any
slave server in the domain.
All servers of the domain are fetched from the YP map ypservers.
d55 1
a55 1
Don't use default domain, use the specified domain.
d57 3
a59 1
Distribute map only to one host and not to the hosts in the ypserver map.
d74 3
@


1.13
log
@sort flags; synchronize synopsis and usage; style(9).

tweaked by jmc@@, thanks!

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.12 2007/05/31 19:20:31 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: May 31 2007 $
d62 1
@


1.12
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.11 2003/06/12 12:59:54 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate$
d35 1
a39 1
.Op Fl v
@


1.11
log
@- section reorder
- macro fixes
- kill whitespace at EOL
- new sentence, new line
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.10 2003/06/02 21:58:27 maja Exp $
d27 1
a27 1
.Dd January 29, 1995
@


1.10
log
@remove clause 3 and 4. -moj
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.9 2003/02/17 07:24:33 jmc Exp $
d65 1
a65 1
Mats O Jansson <moj@@stacken.kth.se>
@


1.9
log
@typos;
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.8 2001/08/02 18:37:35 mpech Exp $
a13 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"      This product includes software developed by Mats O Jansson
.\" 4. The name of the author may not be used to endorse or promote products
.\"    derived from this software without specific prior written permission.
@


1.8
log
@o) .Sh AUTHOR -> .Sh AUTHORS;
o) .Sh EXAMPLE -> .Sh EXAMPLES;
o) Delete .Sh OPTIONS. Text moved to .Sh DESCRIPTION;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.7 2000/11/09 17:53:32 aaron Exp $
d50 1
a50 1
All servers of the domain is fetched from the YP map ypservers.
@


1.7
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.6 2000/03/19 17:57:19 aaron Exp $
d69 2
a70 2
.Sh AUTHOR
Mats O Jansson
@


1.6
log
@Remove hard sentence breaks. Add $OpenBSD$ tags where appropriate. Some other
cleanup along the way.
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.5 1999/06/05 22:18:31 aaron Exp $
d53 1
a53 1
.Bl -tag -width indent
@


1.5
log
@remove trailing whitespace, some Nm cleanup
@
text
@d1 2
a2 1
.\"	$OpenBSD: yppush.8,v 1.4 1997/05/01 21:08:49 niklas Exp $
d49 2
a50 2
slave server in the domain. All servers of the domain is fetched from the YP
map ypservers.
d63 2
a64 1
Verbose. Announce what the program is doing.
@


1.4
log
@Fix grammar
@
text
@d1 1
a1 1
.\"	$OpenBSD: yppush.8,v 1.3 1996/05/30 09:53:18 deraadt Exp $
d66 1
a66 1
.Xr ypserv 8 
@


1.3
log
@$OpenBSD$ tag and few spelling errors
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d48 1
a48 1
slave server in the domain. All servers of domain is featch from the YP
@


1.2
log
@slight cleanup, .Os strings, point at yp(8)
@
text
@d1 1
a29 2
.\"
.\"	$Id: yppush.8,v 1.1 1996/03/02 03:01:42 dm Exp $
@


1.1
log
@Added in stuff from 960121.  Fixed several bugs in ypxfr.
@
text
@d30 1
a30 1
.\"	$Id: yppush.8,v 1.3 1996/01/06 20:45:44 moj Exp $
d34 1
a34 1
.Os 
d39 1
a39 1
.Nm /usr/sbin/yppush
d66 1
@
