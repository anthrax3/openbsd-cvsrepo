head	1.15;
access;
symbols
	OPENBSD_6_0:1.15.0.32
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.28
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.15.0.30
	OPENBSD_5_8_BASE:1.15
	OPENBSD_5_7:1.15.0.22
	OPENBSD_5_7_BASE:1.15
	OPENBSD_5_6:1.15.0.26
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.15.0.24
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.20
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.18
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.16
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.14
	OPENBSD_5_0:1.15.0.12
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.10
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.15.0.8
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.4
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.15.0.6
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.2
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.14.0.48
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.14.0.46
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.14.0.44
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.14.0.42
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.14.0.40
	OPENBSD_4_0_BASE:1.14
	OPENBSD_3_9:1.14.0.38
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.14.0.36
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.14.0.34
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.14.0.32
	OPENBSD_3_6_BASE:1.14
	OPENBSD_3_5:1.14.0.30
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.14.0.28
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.14.0.26
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.14.0.24
	OPENBSD_3_2_BASE:1.14
	OPENBSD_3_1:1.14.0.22
	OPENBSD_3_1_BASE:1.14
	OPENBSD_3_0:1.14.0.20
	OPENBSD_3_0_BASE:1.14
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_9:1.14.0.18
	OPENBSD_2_8:1.14.0.16
	OPENBSD_2_8_BASE:1.14
	OPENBSD_2_7:1.14.0.14
	OPENBSD_2_7_BASE:1.14
	OPENBSD_2_6:1.14.0.12
	OPENBSD_2_6_BASE:1.14
	OPENBSD_2_5:1.14.0.10
	OPENBSD_2_5_BASE:1.14
	OPENBSD_2_4:1.14.0.8
	OPENBSD_2_4_BASE:1.14
	OPENBSD_2_3:1.14.0.6
	OPENBSD_2_3_BASE:1.14
	OPENBSD_2_2:1.14.0.4
	OPENBSD_2_2_BASE:1.14
	OPENBSD_2_1:1.14.0.2
	OPENBSD_2_1_BASE:1.14
	OPENBSD_2_0:1.8.0.2
	OPENBSD_2_0_BASE:1.8;
locks; strict;
comment	@# @;


1.15
date	2008.10.22.20.31.20;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	97.04.29.11.27.12;	author niklas;	state Exp;
branches;
next	1.13;

1.13
date	97.04.27.20.57.08;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	97.04.24.18.30.30;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	97.04.23.11.34.43;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	97.04.20.10.00.19;	author maja;	state Exp;
branches;
next	1.9;

1.9
date	96.12.08.15.00.08;	author downsj;	state Exp;
branches;
next	1.8;

1.8
date	96.05.30.09.53.15;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	96.05.01.02.04.06;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	96.01.20.00.35.27;	author chuck;	state Exp;
branches;
next	1.5;

1.5
date	96.01.06.11.42.15;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	95.12.14.01.16.56;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	95.11.08.00.01.04;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	95.11.06.21.35.06;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.11.01.16.56.27;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.15
log
@man page for Makefile.yp, and associated bits; from Ingo Schwarze
ok deraadt
@
text
@#	$OpenBSD: Makefile,v 1.14 1997/04/29 11:27:12 niklas Exp $

MAN=	Makefile.yp.8 ypinit.8

DISTFILES= Makefile.main Makefile.yp
SHFILES= ypinit.sh

realinstall:
.for script in ${SHFILES}
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
	    ${.CURDIR}/${script} ${DESTDIR}${BINDIR}/${script:R}
.endfor
.for script in ${DISTFILES}
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m ${NONBINMODE} \
	    ${.CURDIR}/${script} ${DESTDIR}/var/yp/${script}.dist
.endfor
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m 444 \
	    ${.CURDIR}/README ${DESTDIR}/var/yp/README

distribution:
.for script in ${DISTFILES}
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m ${NONBINMODE} \
	    ${.CURDIR}/${script} ${DESTDIR}/var/yp/${script}
.endfor

.include <bsd.prog.mk>
@


1.14
log
@To get the manpages installed, you can't override the install
target.  Instead override realinstall.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 1997/04/27 20:57:08 millert Exp $
d3 1
a3 1
MAN=	ypinit.8
@


1.13
log
@COPY -> INSTALL_COPY and STRIP -> INSTALL_STRIP
This fixes namespace problems where STRIP is sometimes used as
the name of the strip(1) to use and other times used as
the flag to send install(1) when stripping (or not).
COPY doesn't have this problem (yet) but was poorly named.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 1997/04/24 18:30:30 deraadt Exp $
d8 1
a8 1
install:
@


1.12
log
@wrong mode, oops
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 1997/04/23 11:34:43 deraadt Exp $
d10 1
a10 1
	${INSTALL} ${COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
d14 1
a14 1
	${INSTALL} ${COPY} -o ${BINOWN} -g ${BINGRP} -m ${NONBINMODE} \
d17 1
a17 1
	${INSTALL} ${COPY} -o ${BINOWN} -g ${BINGRP} -m 444 \
d22 1
a22 1
	${INSTALL} ${COPY} -o ${BINOWN} -g ${BINGRP} -m ${NONBINMODE} \
@


1.11
log
@NONBINMODE
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 1997/04/20 10:00:19 maja Exp $
d10 1
a10 1
	${INSTALL} ${COPY} -o ${BINOWN} -g ${BINGRP} -m ${NONBINMODE} \
@


1.10
log
@Added man page, support for amd.home and ypservers.
Integrated some code from ypinit in NetBSD (thorpej@@netbsd.org).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 1996/12/08 15:00:08 downsj Exp $
d10 1
a10 1
	${INSTALL} ${COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
d14 1
a14 1
	${INSTALL} ${COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
d22 1
a22 1
	${INSTALL} ${COPY} -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
@


1.9
log
@install -> ${INSTALL}, -c -> ${COPY}
@
text
@d1 1
a1 1
#	$OpenBSD$
d3 4
a6 1
NOOBJ=	noobj
d9 1
d11 3
a13 1
	    ${.CURDIR}/ypinit.sh ${DESTDIR}/usr/sbin/ypinit
d15 7
a21 1
	    ${.CURDIR}/Makefile.yp ${DESTDIR}/var/yp/Makefile.yp
d23 2
a24 1
	    ${.CURDIR}/Makefile.main ${DESTDIR}/var/yp/Makefile.main
@


1.8
log
@$OpenBSD$ tag and few spelling errors
@
text
@d6 1
a6 1
	install -c -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
d8 1
a8 1
	install -c -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
d10 1
a10 1
	install -c -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} \
@


1.7
log
@no longer need yp.no directory.. install into /var/yp directly
@
text
@d1 1
a1 2
#	from: @@(#)Makefile	5.3 (Berkeley) 6/22/90
#	$Id: Makefile,v 1.6 1996/01/20 00:35:27 chuck Exp $
@


1.6
log
@fixes: install Makefile.yp, Makefile.main
@
text
@d2 1
a2 1
#	$Id: Makefile,v 1.5 1996/01/06 11:42:15 deraadt Exp $
d10 1
a10 1
	    ${.CURDIR}/Makefile.yp ${DESTDIR}/var/yp.no/Makefile.yp
d12 1
a12 1
	    ${.CURDIR}/Makefile.main ${DESTDIR}/var/yp.no/Makefile.main
@


1.5
log
@Makefile.yp is /var/yp/Makefile
@
text
@d2 1
a2 1
#	$Id: Makefile,v 1.4 1995/12/14 01:16:56 deraadt Exp $
d10 3
a12 1
	    ${.CURDIR}/Makefile.yp ${DESTDIR}/var/yp.no/Makefile
@


1.4
log
@install yp Makefile from here
@
text
@d2 1
a2 1
#	$Id: Makefile,v 1.3 1995/11/08 00:01:04 deraadt Exp $
a3 1
FILES=	Makefile.yp
d9 2
@


1.3
log
@use /var/yp.no
@
text
@d2 1
a2 1
#	$Id: Makefile,v 1.2 1995/11/06 21:35:06 deraadt Exp $
a7 2
	install -c -o root -g wheel -m 644 Makefile.yp \
	    ${DESTDIR}/var/yp.no/Makefile
@


1.2
log
@install the correct "ypmake" Makefile
@
text
@d2 1
a2 1
#	$Id: Makefile,v 1.1 1995/11/01 16:56:27 deraadt Exp $
d8 2
a9 1
	install -c -o root -g wheel -m 644 Makefile.yp ${DESTDIR}/var/yp/Makefile
@


1.1
log
@+ full set of ypserv tools that compile
@
text
@d2 1
a2 1
#	$Id: Makefile,v 1.1 1994/08/17 23:12:28 moj Exp $
d4 1
a4 1
FILES=	Makefile.main Makefile.yp
d8 1
a8 1
	install -c -o root -g wheel -m 751 ${FILES} ${DESTDIR}/var/yp
@
