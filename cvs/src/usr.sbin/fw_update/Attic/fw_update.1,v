head	1.20;
access;
symbols
	OPENBSD_5_6:1.19.0.6
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.4
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.9.0.2
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.8.0.8
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.8.0.6
	OPENBSD_5_2_BASE:1.8
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.4
	OPENBSD_5_0:1.8.0.2
	OPENBSD_5_0_BASE:1.8;
locks; strict;
comment	@.\" @;


1.20
date	2015.01.23.14.38.24;	author halex;	state dead;
branches;
next	1.19;
commitid	hZc8MS5VBprHhAuc;

1.19
date	2014.02.23.22.22.16;	author halex;	state Exp;
branches;
next	1.18;

1.18
date	2014.02.23.19.59.50;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2014.02.04.13.24.35;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2014.01.30.00.12.09;	author halex;	state Exp;
branches;
next	1.15;

1.15
date	2013.08.21.06.59.39;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2013.08.20.22.42.08;	author halex;	state Exp;
branches;
next	1.13;

1.13
date	2013.08.13.20.46.43;	author halex;	state Exp;
branches;
next	1.12;

1.12
date	2013.08.13.20.38.46;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2013.08.13.20.11.21;	author halex;	state Exp;
branches;
next	1.10;

1.10
date	2013.08.12.14.19.53;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2013.07.16.11.13.33;	author schwarze;	state Exp;
branches;
next	1.8;

1.8
date	2011.08.02.23.46.39;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2011.08.02.17.35.40;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2011.07.28.13.26.13;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2011.07.27.15.12.57;	author halex;	state Exp;
branches;
next	1.4;

1.4
date	2011.07.09.16.12.29;	author schwarze;	state Exp;
branches;
next	1.3;

1.3
date	2011.07.09.08.53.15;	author jmc;	state Exp;
branches;
next	1.2;

1.2
date	2011.07.09.05.12.10;	author halex;	state Exp;
branches;
next	1.1;

1.1
date	2011.07.09.04.53.41;	author halex;	state Exp;
branches;
next	;


desc
@@


1.20
log
@Killing my darling.  Functionality and binary name moved to pkg_* and
friends.  So long and thanks for all the fish.

ok deraadt@@
@
text
@.\" $OpenBSD: fw_update.1,v 1.19 2014/02/23 22:22:16 halex Exp $
.\"
.\" Copyright (c) 2011 Alexander Hall <alexander@@beard.se>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: February 23 2014 $
.Dt FW_UPDATE 1
.Os
.Sh NAME
.Nm fw_update
.Nd install non-free firmware packages
.Sh SYNOPSIS
.Nm
.Op Fl adnv
.Op Fl p Ar path
.Op Ar driver ...
.Sh DESCRIPTION
The
.Nm
utility installs, updates, or deletes firmware packages for
.Ar driver
from the Internet.
If no
.Ar driver
is specified, the
.Nm
utility tries to determine which firmware are needed on the system.
.Pp
Since firmware with acceptable licenses are already present in
.Ox ,
.Nm
exists purely to deal with firmware that may not be freely
distributed with
.Ox .
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a
Install or update firmware for all drivers.
It is an error to specify this option with any
.Ar driver
arguments.
.It Fl d
Delete firmware for
.Ar driver .
If used in conjunction with
.Fl a ,
delete firmware for all drivers.
.It Fl n
Dry run.
Do not actually install or update any firmware packages;
just report the steps that would be taken.
.It Fl p Ar path
Use the firmware found at
.Ar path ,
being either a local directory or a URL,
instead of the default location.
.It Fl v
Turn on verbose output.
This flag can be specified multiple times for increased verbosity.
.El
.Pp
Firmware is downloaded from release-specific directories at
.Lk http://firmware.openbsd.org/firmware/ .
The files are in the format required by
.Xr pkg_add 1 ,
but direct use of pkg_add is discouraged.
.Sh SEE ALSO
.Xr pkg_add 1 ,
.Xr dmesg 8
.Sh AUTHORS
.An -nosplit
The
.Nm
program was written by
.An Alexander Hall Aq Mt alexander@@beard.se .
@


1.19
log
@- add a -p <path> switch for specifying the location of
  firmware packages
- reword 'firmware files' to 'firmware'
- pick some style and whitespace nits

ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.18 2014/02/23 19:59:50 deraadt Exp $
@


1.18
log
@Document where firmwares come from, as step 1 of dealing with off-line
some firmware retrieval issues I discovered.
ok espie halex
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.17 2014/02/04 13:24:35 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: February 4 2014 $
d26 1
d64 5
@


1.17
log
@various minor fixes; ok halex
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.16 2014/01/30 00:12:09 halex Exp $
d17 1
a17 1
.Dd $Mdocdate: January 30 2014 $
d67 6
@


1.16
log
@add a -d flag to remove the specified firmware packages

ok espie@@
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.15 2013/08/21 06:59:39 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: August 21 2013 $
d22 1
a22 1
.Nd install, update or delete non-free firmware packages
d30 9
a38 1
utility installs or updates firmware packages from the Internet.
d42 1
a42 1
exists purely to install and update firmware that may not be freely
a45 6
If no
.Ar driver
is specified, the
.Nm
utility tries to determine which firmware are needed on the system.
.Pp
d49 1
a49 1
Select all available firmware for the requested operation.
d54 5
a58 4
Change the operation mode to delete firmware from the system.
This option requires drivers to be specified, or the
.Fl a
flag.
d60 3
a62 6
Pass the
.Fl n
flag to
.Xr pkg_add 1 ,
causing it to not actually install or update any firmware packages,
just report the steps that would be taken if it did.
d64 2
a65 7
Turn on verbose output and pass the
.Fl v
flag to
.Xr pkg_add 1 .
This flag can be specified multiple times for increased
.Xr pkg_add 1
verbosity.
@


1.15
log
@zap trailing whitespace;
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.14 2013/08/20 22:42:08 halex Exp $
d17 1
a17 1
.Dd $Mdocdate: August 20 2013 $
d22 1
a22 1
.Nd install and update non-free firmware packages
d25 1
a25 1
.Op Fl anv
d47 1
a47 1
Install or update all available firmware.
d51 5
@


1.14
log
@use a single line in usage() and SYNOPSIS and explain in text which
combinations are not allowed

discussed with jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.13 2013/08/13 20:46:43 halex Exp $
d17 1
a17 1
.Dd $Mdocdate: August 13 2013 $
d50 1
a50 1
arguments. 
@


1.13
log
@reorder SYNOPSIS to match usage()

pointed out by jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.12 2013/08/13 20:38:46 jmc Exp $
a25 2
.Nm
.Op Fl nv
d48 3
@


1.12
log
@firmware is uncountable, i think we decided;
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.11 2013/08/13 20:11:21 halex Exp $
d25 2
a28 2
.Nm
.Op Fl anv
@


1.11
log
@allow the user to specify which firmware to install, or install all of
them using the -a switch

ok rpe@@
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.10 2013/08/12 14:19:53 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: August 12 2013 $
d49 1
a49 1
Install or update all available firmwares.
@


1.10
log
@some minor fixes; From: Jan Stary
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.9 2013/07/16 11:13:33 schwarze Exp $
d17 1
a17 1
.Dd $Mdocdate: July 16 2013 $
d26 3
d32 1
a32 2
utility checks which firmware are needed on the system and then
installs or updates the relevant packages from the Internet.
d40 6
d48 2
d55 1
a55 1
causing it to not actually install any firmware packages,
@


1.9
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.8 2011/08/02 23:46:39 deraadt Exp $
d17 1
a17 1
.Dd $Mdocdate: August 2 2011 $
d46 1
a46 1
just report the steps that would be taken if it was.
@


1.8
log
@clean up the 1st sentence even more.  it is unbelievable how it sometimes
takes 3 people to get the first two sentences of a manual page right.
ok halex jmc
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.7 2011/08/02 17:35:40 jmc Exp $
d64 1
a64 1
.An Alexander Hall Aq alexander@@beard.se .
@


1.7
log
@better describe what this app does, at the behest of deraadt;
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.6 2011/07/28 13:26:13 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: July 28 2011 $
d29 2
a30 3
utility checks which firmware are needed on the host system,
retrieves the relevant packages from the Internet,
and then installs them.
@


1.6
log
@tweak previous;
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.5 2011/07/27 15:12:57 halex Exp $
d17 1
a17 1
.Dd $Mdocdate: July 27 2011 $
d29 8
a36 2
utility installs and updates device firmwares with non-free licenses
that may not be shipped with
a37 2
It automatically detects such devices and downloads and installs the proper
firmware packages for the currently running kernel.
@


1.5
log
@a bunch of requested changes:
- pass same count of -v's to pkg_add as was passed to fw_update
- don't be all quiet if -v is specified
- add -n flag as per pkg_add
- prefix all verbose messages by 'fw_update: '
- look for devices in current dmesg as well as dmesg.boot

ok deraadt krw
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.4 2011/07/09 16:12:29 schwarze Exp $
d17 1
a17 1
.Dd $Mdocdate: July 9 2011 $
d40 3
a42 1
flag to pkg_add, causing it to not actually install any firmware packages,
d45 1
a45 1
Turn on verbose output and passes the
@


1.4
log
@* more concise .Nd
* no need to repeat the .Nm below .Sh SYNOPSIS
* avoid future tense and slightly tweak wording
* make it clear that the Internet will be accessed

ok halex@@
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.3 2011/07/09 08:53:15 jmc Exp $
d25 1
a25 1
.Op Fl v
d37 5
d43 1
a43 1
Turn on verbose output by passing the
d47 3
@


1.3
log
@tweak previous;
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.2 2011/07/09 05:12:10 halex Exp $
d22 1
a22 1
.Nd install and update tool for non-free firmware packages
d24 1
a24 1
.Nm fw_update
d27 1
d29 1
a29 1
is a utility that installs and updates device firmwares with non-free licenses
d32 1
a32 1
It will automatically detect such devices and locate and install the proper
d38 1
a38 2
Verbose output.
Passes the
@


1.2
log
@it passes the -v flag to pkg_add of course.

found by ajacoutot@@, thanks
@
text
@d1 1
a1 1
.\" $OpenBSD: fw_update.1,v 1.1 2011/07/09 04:53:41 halex Exp $
d29 2
a30 1
that may not be shipped with OpenBSD.
d44 1
a45 1
.Xr pkg_add 1
d48 1
a48 1
The 
@


1.1
log
@man page for fw_update(1)

ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: $
d17 1
a17 1
.Dd $Mdocdate: July 8 2011 $
d40 1
a40 1
.Xr ssh_add 1 .
@

