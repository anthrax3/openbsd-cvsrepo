head	1.6;
access;
symbols
	OPENBSD_3_0:1.5.0.4
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_9:1.5.0.2
	OPENBSD_2_8:1.4.0.4
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.2
	OPENBSD_2_7_BASE:1.4
	OPENBSD_2_6:1.3.0.2
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	apache_1_3_2:1.1.1.1
	apache:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2002.02.28.19.08.51;	author brad;	state dead;
branches;
next	1.5;

1.5
date	2000.12.15.22.17.52;	author beck;	state Exp;
branches;
next	1.4;

1.4
date	2000.01.25.18.29.36;	author beck;	state Exp;
branches;
next	1.3;

1.3
date	99.09.29.06.29.20;	author beck;	state Exp;
branches;
next	1.2;

1.2
date	99.03.01.01.05.38;	author beck;	state Exp;
branches;
next	1.1;

1.1
date	98.10.01.17.19.36;	author beck;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.10.01.17.19.36;	author beck;	state Exp;
branches;
next	;


desc
@@


1.6
log
@remove more 0 byte files.
@
text
@@


1.5
log
@apache 1.3.14 + mod_ssl 2.7.1 merge
@
text
@@


1.4
log
@Apache 1.3.11 + mod_ssl 2.5.0 merge
@
text
@a0 158
# Makefile for Windows NT and Windows 95

# Targets are:
#   _apacher   - build Apache in Release mode
#   _apached   - build Apache in Debug mode
#   installr   - build and install a Release build
#   installd   - build and install a Debug build
#   clean      - remove (most) generated files
#   _cleanr    - remove (most) files generated by a Release build
#   _cleand    - remove (most) files generated by a Debug build
#
# The default installation directory is \Apache. This can be changed
# with the INSTDIR macro, for example:
#
#   nmake /f Makefile.nt INSTDIR="d:\Program Files\Apache" installr
#
# Note: this does *NOT* change the compiled in default "server root"

!IF "$(INSTDIR)" == ""
INSTDIR=\Apache
!MESSAGE Using default install directory \Apache
!ENDIF 

default:	_apacher

_release:
	set SHORT=R
	set LONG=Release

_debug:
	set SHORT=D
	set LONG=Debug

_apacher: _release _build
_apached: _debug   _build
installr: _release _build _install
installd: _debug   _build _install
_cleanr:  _release _clean
_cleand:  _debug   _clean

clean:
	$(MAKE) /f Makefile.nt _cleanr
	$(MAKE) /f Makefile.nt _cleand

installdll: _release _installdll

_build:
#	echo LONG %LONG% SHORT %SHORT% x
	cd os\win32
	 nmake /nologo CFG="ApacheOS - Win32 %LONG%" -f ApacheOS.mak
	cd ..\..
	cd regex
	 nmake /nologo CFG="regex - Win32 %LONG%" -f regex.mak
	cd ..
	cd ap
	 nmake /nologo CFG="ap - Win32 %LONG%" -f ap.mak
	cd ..
	cd support
	 nmake /nologo CFG="htpasswd - Win32 %LONG%" -f htpasswd.mak
	 nmake /nologo CFG="htdigest - Win32 %LONG%" -f htdigest.mak
	cd ..
	cd lib/expat-lite
	 nmake /nologo CFG="xmlparse - Win32 %LONG%" -f xmlparse.mak
	cd ../..
	cd main
	 nmake /nologo CFG="gen_uri_delims - Win32 %LONG%" -f gen_uri_delims.mak
	 nmake /nologo CFG="gen_test_char - Win32 %LONG%" -f gen_test_char.mak
	cd ..
	 -del Core%SHORT%\buildmark.obj
	 nmake /nologo CFG="ApacheCore - Win32 %LONG%" -f ApacheCore.mak
	 nmake /nologo CFG="Apache - Win32 %LONG%" -f Apache.mak
	cd os\win32
	 set CFG=ApacheModuleStatus - Win32 %LONG%
	 nmake /nologo CFG="ApacheModuleStatus - Win32 %LONG%" -f ApacheModuleStatus.mak
#	 nmake /nologo CFG ""/nologo -f ApacheModuleStatus.mak"=ApacheModuleInfo - Win32 %LONG%" -f ApacheModuleInfo.mak
	 nmake /nologo CFG="ApacheModuleAuthAnon - Win32 %LONG%" -f ApacheModuleAuthAnon.mak
	 nmake /nologo CFG="ApacheModuleDigest - Win32 %LONG%" -f ApacheModuleDigest.mak
	 nmake /nologo CFG="ApacheModuleCERNMeta - Win32 %LONG%" -f ApacheModuleCERNMeta.mak
	 nmake /nologo CFG="ApacheModuleExpires - Win32 %LONG%" -f ApacheModuleExpires.mak
	 nmake /nologo CFG="ApacheModuleHeaders - Win32 %LONG%" -f ApacheModuleHeaders.mak
	 nmake /nologo CFG="ApacheModuleSpeling - Win32 %LONG%" -f ApacheModuleSpeling.mak
	 nmake /nologo CFG="ApacheModuleUserTrack - Win32 %LONG%" -f ApacheModuleUserTrack.mak
	 nmake /nologo CFG="ApacheModuleRewrite - Win32 %LONG%" -f ApacheModuleRewrite.mak
	cd ..\..
	cd modules\proxy
	 nmake /nologo CFG="ApacheModuleProxy - Win32 %LONG%" -f ApacheModuleProxy.mak
	cd ..\..

_install:
	-mkdir $(INSTDIR)
	-mkdir $(INSTDIR)\modules
	-mkdir $(INSTDIR)\logs
	-mkdir $(INSTDIR)\conf
	-mkdir $(INSTDIR)\bin
	copy Apache%SHORT%\Apache.exe $(INSTDIR)
	copy Core%SHORT%\ApacheCore.dll $(INSTDIR)
	copy os\win32\ApacheModuleStatus%SHORT%\ApacheModuleStatus.dll $(INSTDIR)\modules
#       copy os\win32\ApacheModuleInfo%SHORT%\ApacheModuleInfo.dll $(INSTDIR)\modules
	copy os\win32\ApacheModuleAuthAnon%SHORT%\ApacheModuleAuthAnon.dll $(INSTDIR)\modules
	copy os\win32\ApacheModuleDigest%SHORT%\ApacheModuleDigest.dll $(INSTDIR)\modules
	copy os\win32\ApacheModuleCERNMeta%SHORT%\ApacheModuleCERNMeta.dll $(INSTDIR)\modules
	copy os\win32\ApacheModuleExpires%SHORT%\ApacheModuleExpires.dll $(INSTDIR)\modules
	copy os\win32\ApacheModuleHeaders%SHORT%\ApacheModuleHeaders.dll $(INSTDIR)\modules
	copy os\win32\ApacheModuleRewrite%SHORT%\ApacheModuleRewrite.dll $(INSTDIR)\modules
	copy os\win32\ApacheModuleSpeling%SHORT%\ApacheModuleSpeling.dll $(INSTDIR)\modules
	copy os\win32\ApacheModuleUserTrack%SHORT%\ApacheModuleUserTrack.dll $(INSTDIR)\modules
	copy modules\proxy\%LONG%\ApacheModuleProxy.dll $(INSTDIR)\modules
	copy support\%LONG%\htpasswd.exe $(INSTDIR)\bin
	copy support\%LONG%\htdigest.exe $(INSTDIR)\bin

_clean:
	cd os\win32
	 nmake /nologo CFG="ApacheOS - Win32 %LONG%" -f ApacheOS.mak clean
	cd ..\..
	cd regex
	 nmake /nologo CFG="regex - Win32 %LONG%" -f regex.mak clean
	cd ..
	cd ap
	 nmake /nologo CFG="ap - Win32 %LONG%" -f ap.mak clean
	cd ..
	cd support
	 nmake /nologo CFG="htpasswd - Win32 %LONG%" -f htpasswd.mak clean
	 nmake /nologo CFG="htdigest - Win32 %LONG%" -f htdigest.mak clean
	cd ..
	cd lib/expat-lite
	 nmake /nologo CFG="xmlparse - Win32 %LONG%" -f xmlparse.mak clean
	cd ../..
	cd main
	 nmake /nologo CFG="gen_uri_delims - Win32 %LONG%" -f gen_uri_delims.mak clean
	 del uri_delims.h
	 nmake /nologo CFG="gen_test_char - Win32 %LONG%" -f gen_test_char.mak clean
	 del test_char.h
	cd ..
	 nmake /nologo CFG="ApacheCore - Win32 %LONG%" -f ApacheCore.mak clean
	 nmake /nologo CFG="Apache - Win32 %LONG%" -f Apache.mak clean
	cd os\win32
	 nmake /nologo CFG="ApacheModuleStatus - Win32 %LONG%" -f ApacheModuleStatus.mak clean
#	 nmake /nologo CFG="ApacheModuleInfo - Win32 %LONG%" -f ApacheModuleInfo.mak clean
	 nmake /nologo CFG="ApacheModuleAuthAnon - Win32 %LONG%" -f ApacheModuleAuthAnon.mak clean
	 nmake /nologo CFG="ApacheModuleDigest - Win32 %LONG%" -f ApacheModuleDigest.mak clean
	 nmake /nologo CFG="ApacheModuleCERNMeta - Win32 %LONG%" -f ApacheModuleCERNMeta.mak clean
	 nmake /nologo CFG="ApacheModuleExpires - Win32 %LONG%" -f ApacheModuleExpires.mak clean
	 nmake /nologo CFG="ApacheModuleHeaders - Win32 %LONG%" -f ApacheModuleHeaders.mak clean
	 nmake /nologo CFG="ApacheModuleSpeling - Win32 %LONG%" -f ApacheModuleSpeling.mak clean
	 nmake /nologo CFG="ApacheModuleUserTrack - Win32 %LONG%" -f ApacheModuleUserTrack.mak clean
	 nmake /nologo CFG="ApacheModuleRewrite - Win32 %LONG%" -f ApacheModuleRewrite.mak clean
	cd ..\..
	cd modules\proxy
	 nmake /nologo CFG="ApacheModuleProxy - Win32 %LONG%" -f ApacheModuleProxy.mak clean
	cd ..\..
 	cd os\win32\installer\installdll
	 nmake /nologo CFG="install - Win32 %LONG%" -f install.mak clean
	cd ..\..\..

_installdll:
 	cd os\win32\installer\installdll
	 nmake /nologo CFG="install - Win32 %LONG%" -f install.mak
	cd ..\..\..
@


1.3
log
@Apache 1.3.9 + Mod_ssl 2.4.2 - now builds with apaci nastiness.
@
text
@d62 3
d125 3
@


1.2
log
@Apache 1.3.4 merge
@
text
@d58 4
d91 1
d105 2
d117 4
@


1.1
log
@Initial revision
@
text
@d129 1
@


1.1.1.1
log
@Apache 1.3.2
@
text
@@
