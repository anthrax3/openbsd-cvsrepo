head	1.30;
access;
symbols
	OPENBSD_6_2_BASE:1.30
	OPENBSD_6_1:1.29.0.4
	OPENBSD_6_1_BASE:1.29
	OPENBSD_6_0:1.28.0.6
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.28.0.4
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.27.0.2
	OPENBSD_5_7_BASE:1.27
	OPENBSD_5_6:1.25.0.2
	OPENBSD_5_6_BASE:1.25
	OPENBSD_2_5:1.16.0.2
	OPENBSD_2_5_BASE:1.16
	OPENBSD_2_4:1.8.0.2
	OPENBSD_2_4_BASE:1.8
	OPENBSD_2_3:1.5.0.2
	OPENBSD_2_3_BASE:1.5
	apache:1.1.1.1
	apache_1_2_6:1.1.1;
locks; strict;
comment	@# @;


1.30
date	2017.07.03.22.21.47;	author espie;	state Exp;
branches;
next	1.29;
commitid	SoYT2zMcub5xTPqC;

1.29
date	2016.09.28.12.02.17;	author reyk;	state Exp;
branches;
next	1.28;
commitid	0D5abO6ypqc6xlHP;

1.28
date	2015.06.23.15.23.14;	author reyk;	state Exp;
branches;
next	1.27;
commitid	KmQD0QhuAUl1XRCr;

1.27
date	2015.02.23.10.39.10;	author reyk;	state Exp;
branches;
next	1.26;
commitid	6yHy5aAPXiEf4jZm;

1.26
date	2014.10.31.13.49.52;	author jsing;	state Exp;
branches;
next	1.25;
commitid	ezNS1yQDKKs563EI;

1.25
date	2014.08.04.17.38.12;	author reyk;	state Exp;
branches;
next	1.24;
commitid	QN0gng3yApfUkUG0;

1.24
date	2014.08.04.15.49.28;	author reyk;	state Exp;
branches;
next	1.23;
commitid	LDlAyIlUWDBjADa5;

1.23
date	2014.08.04.11.09.25;	author reyk;	state Exp;
branches;
next	1.22;
commitid	Dj6ALT3dpIHqBQcw;

1.22
date	2014.07.31.09.23.53;	author florian;	state Exp;
branches;
next	1.21;
commitid	4jka4N6hQtuBEhDN;

1.21
date	2014.07.27.23.52.05;	author deraadt;	state Exp;
branches;
next	1.20;
commitid	ekCedWWXUYLngor7;

1.20
date	2014.07.12.23.34.54;	author reyk;	state Exp;
branches;
next	1.19;
commitid	U5OqzWAgis3Sb3uE;

1.19
date	2003.08.21.21.17.45;	author henning;	state dead;
branches;
next	1.18;

1.18
date	2003.08.21.13.10.20;	author henning;	state Exp;
branches;
next	1.17;

1.17
date	99.09.29.17.43.19;	author beck;	state dead;
branches;
next	1.16;

1.16
date	99.03.08.21.37.56;	author beck;	state Exp;
branches;
next	1.15;

1.15
date	99.03.03.00.19.27;	author beck;	state Exp;
branches;
next	1.14;

1.14
date	99.03.01.23.06.37;	author beck;	state Exp;
branches;
next	1.13;

1.13
date	99.03.01.04.55.14;	author beck;	state Exp;
branches;
next	1.12;

1.12
date	99.03.01.04.50.28;	author beck;	state Exp;
branches;
next	1.11;

1.11
date	99.03.01.01.04.50;	author beck;	state Exp;
branches;
next	1.10;

1.10
date	98.12.31.20.06.53;	author beck;	state Exp;
branches;
next	1.9;

1.9
date	98.12.05.19.43.46;	author kstailey;	state Exp;
branches;
next	1.8;

1.8
date	98.10.06.07.53.45;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	98.10.01.17.28.50;	author beck;	state Exp;
branches;
next	1.6;

1.6
date	98.10.01.17.25.16;	author beck;	state dead;
branches;
next	1.5;

1.5
date	98.03.26.18.10.41;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	98.03.26.07.08.37;	author beck;	state Exp;
branches;
next	1.3;

1.3
date	98.03.25.23.03.41;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	98.03.25.07.41.53;	author beck;	state Exp;
branches;
next	1.1;

1.1
date	98.03.25.07.08.28;	author beck;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.03.25.07.08.28;	author beck;	state Exp;
branches;
next	;


desc
@@


1.30
log
@no need to generate y.tab.h if nothing uses it, set YFLAGS to nothing
instead of CLEANFILES += y.tab.h

okay millert@@
@
text
@#	$OpenBSD: Makefile,v 1.29 2016/09/28 12:02:17 reyk Exp $

PROG=		httpd
SRCS=		parse.y
SRCS+=		config.c control.c httpd.c log.c logger.c proc.c
SRCS+=		server.c server_http.c server_file.c server_fcgi.c
MAN=		httpd.8 httpd.conf.5

SRCS+=		patterns.c
MAN+=		patterns.7

LDADD=		-levent -ltls -lssl -lcrypto -lutil
DPADD=		${LIBEVENT} ${LIBTLS} ${LIBSSL} ${LIBCRYPTO} ${LIBUTIL}
#DEBUG=		-g -DDEBUG=3 -O0
CFLAGS+=	-Wall -I${.CURDIR}
CFLAGS+=	-Wstrict-prototypes -Wmissing-prototypes
CFLAGS+=	-Wmissing-declarations
CFLAGS+=	-Wshadow -Wpointer-arith
CFLAGS+=	-Wsign-compare -Wcast-qual
YFLAGS=

.include <bsd.prog.mk>
@


1.29
log
@Add -Wcast-qual after syncing proc.c fix
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.28 2015/06/23 15:23:14 reyk Exp $
d20 1
a20 1
CLEANFILES+=	y.tab.h
@


1.28
log
@Add initial support for pattern matching using Lua's pattern matching code.

With important help on the pattern matcher from semarie@@

OK semarie@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.27 2015/02/23 10:39:10 reyk Exp $
d19 1
a19 1
CFLAGS+=	-Wsign-compare
@


1.27
log
@Add -O0 to the DEBUG example.  Figured out while analysing core dumps
with halex@@.  No binary change - it is commented out.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.26 2014/10/31 13:49:52 jsing Exp $
d8 3
@


1.26
log
@Update httpd(8) to use libtls instead of libressl.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.25 2014/08/04 17:38:12 reyk Exp $
d11 1
a11 1
#DEBUG=		-g -DDEBUG=3
@


1.25
log
@Proxy commit for jsing@@:
"Add TLS/SSL support to httpd, based on the recent ressl commits."

From jsing@@
ok reyk@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.24 2014/08/04 15:49:28 reyk Exp $
d9 2
a10 2
LDADD=		-levent -lressl -lssl -lcrypto -lutil
DPADD=		${LIBEVENT} ${LIBRESSL} ${LIBSSL} ${LIBCRYPTO} ${LIBUTIL}
@


1.24
log
@Add initial support for log files in /var/www/logs/.  Logging with
syslog is still supported but disabled by default.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.23 2014/08/04 11:09:25 reyk Exp $
d9 2
a10 2
LDADD=		-levent -lutil
DPADD=		${LIBEVENT} ${LIBUTIL}
@


1.23
log
@httpd doesn't support SSL/TLS yet, remove the remaining bits.
The secrect plan is to add it later using the ressl wrapper library.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.22 2014/07/31 09:23:53 florian Exp $
d5 1
a5 1
SRCS+=		config.c control.c httpd.c log.c proc.c
@


1.22
log
@Put in first stab at fastcgi. Very early work in progress. Putting it
in now so that we can quickly work on it in tree. Requested by reyk@@.
deraadt@@ is OK with this according to reyk@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.21 2014/07/27 23:52:05 deraadt Exp $
d9 2
a10 2
LDADD=		-levent -lssl -lcrypto -lutil
DPADD=		${LIBEVENT} ${LIBSSL} ${LIBCRYPTO} ${LIBUTIL}
@


1.21
log
@turn of -Werror, unless you are sure both gcc work...
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.20 2014/07/12 23:34:54 reyk Exp $
d6 1
a6 1
SRCS+=		server.c server_http.c server_file.c
@


1.20
log
@Add httpd(8), an attempt to turn the relayd(8) codebase into a simple
web server.  It is not finished yet and I just started it today, but
the goal is to provide an HTTP server that a) provides minimal
features, b) serves static files, c) provides FastCGI support, and d)
follows common coding practices of OpenBSD.

It will neither support plugins, nor custom memory allocators, EBCDIC
support, PCRE or any other things that can be found elsewhere.
httpd(8) is not intended to provide a fully-featured replacement for
nginx(8) or the Apache, but it will provide enough functionality that
is needed in the OpenBSD base system.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD$
d12 1
a12 1
CFLAGS+=	-Wall -I${.CURDIR} -Werror
@


1.19
log
@die - regenerated during build
noriced by theo
@
text
@d1 1
a1 79
SUBDIR+=src
WWWROOT=/var/www
CONFFILES= \
	conf/srm.conf-dist conf/access.conf-dist conf/httpd.conf-dist \
	conf/mime.types conf/access.conf conf/httpd.conf conf/srm.conf 
HTDOCS= \
	htdocs/apache_pb.gif htdocs/index.html htdocs/openbsdpower.gif
CGIFILES= \
	cgi-bin/printenv cgi-bin/test-cgi	
MANUALFILES= \
	manual/images/home.gif manual/images/index.gif			\
	manual/images/sub.gif manual/misc/API.html			\
	manual/misc/known_bugs.html manual/misc/FAQ.html		\
	manual/misc/known_client_problems.html				\
	manual/misc/client_block_api.html manual/misc/nopgp.html	\
	manual/misc/compat_notes.html manual/misc/perf-bsd44.html	\
	manual/misc/descriptors.html manual/misc/perf-dec.html		\
	manual/misc/fin_wait_2.html manual/misc/perf.html		\
	manual/misc/footer.html manual/misc/security_tips.html		\
	manual/misc/header.html manual/misc/vif-info.html		\
	manual/misc/howto.html manual/misc/windoz_keepalive.html	\
	manual/LICENSE manual/host.html manual/multilogs.html		\
	manual/TODO  manual/new_features_1_0.html		\
	manual/bind.html manual/index.html				\
	manual/new_features_1_1.html manual/cgi_path.html		\
	manual/install.html manual/new_features_1_2.html		\
	manual/content-negotiation.html manual/install_1_1.html		\
	manual/process-model.html manual/custom-error.html		\
	manual/invoking.html manual/stopping.html			\
	manual/dns-caveats.html manual/keepalive.html			\
	manual/suexec.html manual/env.html manual/location.html		\
	manual/unixware.html manual/footer.html				\
	manual/man-template.html manual/vhosts-in-depth.html		\
	manual/handler.html manual/virtual-host.html	\
	manual/header.html manual/mod/core.html		\
	manual/mod/mod_auth_msql.html manual/mod/mod_include.html	\
	manual/mod/directives.html manual/mod/mod_browser.html		\
	manual/mod/mod_info.html manual/mod/footer.html			\
	manual/mod/mod_cern_meta.html manual/mod/mod_log_agent.html	\
	manual/mod/header.html manual/mod/mod_cgi.html			\
	manual/mod/mod_log_common.html manual/mod/index.html		\
	manual/mod/mod_cookies.html manual/mod/mod_log_config.html	\
	manual/mod/mod_access.html manual/mod/mod_digest.html		\
	manual/mod/mod_log_referer.html manual/mod/mod_actions.html	\
	manual/mod/mod_dir.html manual/mod/mod_mime.html		\
	manual/mod/mod_alias.html manual/mod/mod_dld.html		\
	manual/mod/mod_negotiation.html manual/mod/mod_asis.html	\
	manual/mod/mod_env.html manual/mod/mod_proxy.html		\
	manual/mod/mod_auth.html manual/mod/mod_example.html		\
	manual/mod/mod_rewrite.html manual/mod/mod_auth_anon.html	\
	manual/mod/mod_expires.html manual/mod/mod_status.html		\
	manual/mod/mod_auth_db.html manual/mod/mod_headers.html		\
	manual/mod/mod_userdir.html manual/mod/mod_auth_dbm.html	\
	manual/mod/mod_imap.html manual/mod/mod_usertrack.html
ICONFILES= \
	icons/README icons/c.gif icons/hand.right.gif icons/pie2.gif	\
	icons/sphere1.gif icons/a.gif icons/comp.blue.gif		\
	icons/hand.up.gif icons/pie3.gif icons/sphere2.gif		\
	icons/alert.black.gif icons/comp.gray.gif icons/icon.sheet.gif	\
	icons/pie4.gif icons/tar.gif icons/alert.red.gif		\
	icons/compressed.gif icons/image1.gif icons/pie5.gif		\
	icons/tex.gif icons/apache_pb.gif icons/continued.gif		\
	icons/image2.gif icons/pie6.gif icons/text.gif icons/back.gif	\
	icons/dir.gif icons/image3.gif icons/pie7.gif			\
	icons/transfer.gif icons/ball.gray.gif icons/down.gif		\
	icons/index.gif icons/pie8.gif icons/unknown.gif		\
	icons/ball.red.gif icons/dvi.gif icons/layout.gif		\
	icons/portal.gif icons/up.gif icons/binary.gif icons/f.gif	\
	icons/left.gif icons/ps.gif icons/uu.gif icons/binhex.gif	\
	icons/folder.gif icons/link.gif icons/quill.gif			\
	icons/uuencoded.gif icons/blank.gif icons/folder.open.gif	\
	icons/movie.gif icons/right.gif icons/world1.gif		\
	icons/bomb.gif icons/folder.sec.gif icons/p.gif			\
	icons/screw1.gif icons/world2.gif icons/box1.gif		\
	icons/forward.gif icons/patch.gif icons/screw2.gif		\
	icons/box2.gif icons/generic.gif icons/pdf.gif			\
	icons/script.gif icons/broken.gif icons/generic.red.gif		\
	icons/pie0.gif icons/sound1.gif icons/burst.gif			\
	icons/generic.sec.gif icons/pie1.gif icons/sound2.gif
d3 5
a7 31
distribution:
	@@-for i in ${CONFFILES}; do \
		j=`dirname $$i`; \
		echo "Installing ${DESTDIR}${WWWROOT}/$$i"; \
		${INSTALL} ${INSTALL_COPY} -g ${BINGRP} -m 444 \
		${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
	done
	@@-for i in ${HTDOCS}; do \
		j=`dirname $$i`; \
		echo "Installing ${DESTDIR}${WWWROOT}/$$i"; \
		${INSTALL} ${INSTALL_COPY} -g ${BINGRP} -m 444 \
		${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
	done
	@@-for i in ${MANUALFILES}; do \
		j=`dirname $$i`; \
		echo "Installing ${DESTDIR}${WWWROOT}/$$i"; \
		${INSTALL} ${INSTALL_COPY} -g ${BINGRP} -m 444 \
		${.CURDIR}/htdocs/$$i ${DESTDIR}${WWWROOT}/htdocs/$$j/; \
	done
	@@-for i in ${CGIFILES}; do \
		j=`dirname $$i`; \
		echo "Installing ${DESTDIR}${WWWROOT}/$$i"; \
		${INSTALL} ${INSTALL_COPY} -g ${BINGRP} -m 555 \
		${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
	done
	@@-for i in ${ICONFILES}; do \
		j=`dirname $$i`; \
		echo "Installing ${DESTDIR}${WWWROOT}/$$i"; \
		${INSTALL} ${INSTALL_COPY} -g ${BINGRP} -m 444 \
		${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
	done
d9 11
a19 1
.include<bsd.subdir.mk>
@


1.18
log
@merge
@
text
@@


1.17
log
@Shouldn't be here. Autogenerated
@
text
@a0 1
MAN = httpd.8
d7 1
a7 3
	htdocs/apache_pb.gif htdocs/index.html htdocs/openbsdpower.gif \
	htdocs/blowfish.jpg htdocs/bsd_small.gif htdocs/lock.gif \
	htdocs/logo23.jpg htdocs/logo24.jpg htdocs/smalltitle.gif 
d11 44
a54 173
	manual/images/custom_errordocs.gif \
	manual/images/home.gif \
	manual/images/index.gif \
	manual/images/mod_rewrite_fig1.fig \
	manual/images/mod_rewrite_fig1.gif \
	manual/images/mod_rewrite_fig2.fig \
	manual/images/mod_rewrite_fig2.gif \
	manual/images/sub.gif \
	manual/images/apache_pb.gif \
	manual/images/mod_ssl_sb.gif \
	manual/images/ssleay.gif \
	manual/LICENSE \
	manual/bind.html \
	manual/cgi_path.html \
	manual/content-negotiation.html \
	manual/custom-error.html \
	manual/dns-caveats.html \
	manual/dso.html \
	manual/ebcdic.html \
	manual/env.html \
	manual/footer.html \
	manual/handler.html \
	manual/header.html \
	manual/index.html \
	manual/install.html \
	manual/install-tpf.html \
	manual/invoking.html \
	manual/keepalive.html \
	manual/location.html \
	manual/man-template.html \
	manual/multilogs.html \
	manual/new_features_1_0.html \
	manual/new_features_1_1.html \
	manual/new_features_1_2.html \
	manual/new_features_1_3.html \
	manual/process-model.html \
	manual/readme-tpf.html \
	manual/sections.html \
	manual/sourcereorg.html \
	manual/stopping.html \
	manual/suexec_1_2.html \
	manual/suexec.html \
	manual/unixware.html \
	manual/upgrading_to_1_3.html \
	manual/windows.html \
	manual/misc/API.html \
	manual/misc/FAQ.html \
	manual/misc/HTTP_Features.tsv \
	manual/misc/client_block_api.html \
	manual/misc/compat_notes.html \
	manual/misc/custom_errordocs.html \
	manual/misc/descriptors.html \
	manual/misc/fin_wait_2.html \
	manual/misc/footer.html \
	manual/misc/header.html \
	manual/misc/howto.html \
	manual/misc/index.html \
	manual/misc/known_client_problems.html \
	manual/misc/nopgp.html \
	manual/misc/perf-bsd44.html \
	manual/misc/perf-dec.html \
	manual/misc/perf-hp.html \
	manual/misc/perf-tuning.html \
	manual/misc/perf.html \
	manual/misc/security_tips.html \
	manual/misc/vif-info.html \
	manual/misc/windoz_keepalive.html \
	manual/mod/core.html \
	manual/mod/directive-dict.html \
	manual/mod/directives.html \
	manual/mod/footer.html \
	manual/mod/header.html \
	manual/mod/index.html \
	manual/mod/mod_access.html \
	manual/mod/mod_actions.html \
	manual/mod/mod_alias.html \
	manual/mod/mod_asis.html \
	manual/mod/mod_auth.html \
	manual/mod/mod_auth_anon.html \
	manual/mod/mod_auth_db.html \
	manual/mod/mod_auth_dbm.html \
	manual/mod/mod_autoindex.html \
	manual/mod/mod_browser.html \
	manual/mod/mod_cern_meta.html \
	manual/mod/mod_cgi.html \
	manual/mod/mod_cookies.html \
	manual/mod/mod_digest.html \
	manual/mod/mod_dir.html \
	manual/mod/mod_dld.html \
	manual/mod/mod_dll.html \
	manual/mod/mod_env.html \
	manual/mod/mod_example.html \
	manual/mod/mod_expires.html \
	manual/mod/mod_headers.html \
	manual/mod/mod_imap.html \
	manual/mod/mod_include.html \
	manual/mod/mod_info.html \
	manual/mod/mod_isapi.html \
	manual/mod/mod_log_agent.html \
	manual/mod/mod_log_common.html \
	manual/mod/mod_log_config.html \
	manual/mod/mod_log_referer.html \
	manual/mod/mod_mime.html \
	manual/mod/mod_mime_magic.html \
	manual/mod/mod_mmap_static.html \
	manual/mod/mod_negotiation.html \
	manual/mod/mod_proxy.html \
	manual/mod/mod_rewrite.html \
	manual/mod/mod_setenvif.html \
	manual/mod/mod_so.html \
	manual/mod/mod_speling.html \
	manual/mod/mod_status.html \
	manual/mod/mod_unique_id.html \
	manual/mod/mod_userdir.html \
	manual/mod/mod_usertrack.html \
	manual/vhosts/details.html \
	manual/vhosts/details_1_2.html \
	manual/vhosts/examples.html \
	manual/vhosts/fd-limits.html \
	manual/vhosts/footer.html \
	manual/vhosts/header.html \
	manual/vhosts/host.html \
	manual/vhosts/index.html \
	manual/vhosts/ip-based.html \
	manual/vhosts/name-based.html \
	manual/vhosts/vhosts-in-depth.html \
	manual/vhosts/virtual-host.html \
	manual/mod/mod_ssl/index.html \
	manual/mod/mod_ssl/ssl_compat.gfont000.gif \
	manual/mod/mod_ssl/ssl_compat.html \
	manual/mod/mod_ssl/ssl_cover_logo.jpg \
	manual/mod/mod_ssl/ssl_cover_title.gif \
	manual/mod/mod_ssl/ssl_faq.gfont000.gif \
	manual/mod/mod_ssl/ssl_faq.html \
	manual/mod/mod_ssl/ssl_glossary.html \
	manual/mod/mod_ssl/ssl_howto.gfont000.gif \
	manual/mod/mod_ssl/ssl_howto.html \
	manual/mod/mod_ssl/ssl_intro.gfont000.gif \
	manual/mod/mod_ssl/ssl_intro.html \
	manual/mod/mod_ssl/ssl_intro_fig1.gif \
	manual/mod/mod_ssl/ssl_intro_fig2.gif \
	manual/mod/mod_ssl/ssl_intro_fig3.gif \
	manual/mod/mod_ssl/ssl_overview.gfont000.gif \
	manual/mod/mod_ssl/ssl_overview.html \
	manual/mod/mod_ssl/ssl_overview_fig1.gif \
	manual/mod/mod_ssl/ssl_reference.gfont000.gif \
	manual/mod/mod_ssl/ssl_reference.html \
	manual/mod/mod_ssl/ssl_template.head-chapter.gif \
	manual/mod/mod_ssl/ssl_template.head-num-1.gif \
	manual/mod/mod_ssl/ssl_template.head-num-2.gif \
	manual/mod/mod_ssl/ssl_template.head-num-3.gif \
	manual/mod/mod_ssl/ssl_template.head-num-4.gif \
	manual/mod/mod_ssl/ssl_template.head-num-5.gif \
	manual/mod/mod_ssl/ssl_template.head-num-6.gif \
	manual/mod/mod_ssl/ssl_template.head-num-7.gif \
	manual/mod/mod_ssl/ssl_template.imgdot-1x1-000000.gif \
	manual/mod/mod_ssl/ssl_template.imgdot-1x1-transp.gif \
	manual/mod/mod_ssl/ssl_template.navbut-next-n.gif \
	manual/mod/mod_ssl/ssl_template.navbut-next-s.gif \
	manual/mod/mod_ssl/ssl_template.navbut-prev-n.gif \
	manual/mod/mod_ssl/ssl_template.navbut-prev-s.gif \
	manual/mod/mod_ssl/ssl_template.title-abstract.gif \
	manual/mod/mod_ssl/ssl_template.title-compat.gif \
	manual/mod/mod_ssl/ssl_template.title-faq.gif \
	manual/mod/mod_ssl/ssl_template.title-gloss.gif \
	manual/mod/mod_ssl/ssl_template.title-howto.gif \
	manual/mod/mod_ssl/ssl_template.title-intro.gif \
	manual/mod/mod_ssl/ssl_template.title-over.gif \
	manual/mod/mod_ssl/ssl_template.title-preface.gif \
	manual/mod/mod_ssl/ssl_template.title-ref.gif \
	manual/mod/mod_ssl/ssl_template.title-toc.gif \
	manual/mod/mod_ssl/ssl_template.title-tutor.gif

d79 1
a79 17
	icons/generic.sec.gif icons/pie1.gif icons/sound2.gif		\
	icons/small/uu.gif icons/small/back.gif icons/small/binary.gif	\
	icons/small/binhex.gif icons/small/blank.gif 			\
	icons/small/broken.gif icons/small/burst.gif 			\
	icons/small/comp1.gif icons/small/comp2.gif 			\
	icons/small/compressed.gif icons/small/continued.gif		\
	icons/small/dir.gif icons/small/dir2.gif 			\
	icons/small/forward.gif icons/small/generic.gif			\
	icons/small/generic2.gif icons/small/generic3.gif		\
	icons/small/image.gif icons/small/image2.gif 			\
	icons/small/index.gif icons/small/key.gif icons/small/movie.gif \
	icons/small/rainbow.gif icons/small/sound.gif			\
	icons/small/sound2.gif icons/small/tar.gif icons/small/text.gif \
	icons/small/transfer.gif icons/small/unknown.gif		\
	icons/small/README.txt


d86 1
a86 1
		    ${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
d92 1
a92 1
		    ${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
d98 1
a98 1
		    ${.CURDIR}/htdocs/$$i ${DESTDIR}${WWWROOT}/htdocs/$$j/; \
d103 2
a104 2
		${INSTALL} ${INSTALL_COPY} -g ${BINGRP} -m 000 \
		    ${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
d110 1
a110 1
		    ${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
d113 1
a113 6
.include <bsd.obj.mk>
.include <bsd.subdir.mk>
.include <bsd.own.mk>	# for NOMAN if it's there
.ifndef NOMAN
.include <bsd.man.mk>
.endif
@


1.16
log
@put more example images on default home page.
@
text
@@


1.15
log
@Don't install .wml files in doc tree.
@
text
@d8 3
a10 1
	htdocs/apache_pb.gif htdocs/index.html htdocs/openbsdpower.gif
@


1.14
log
@Fix build bug (don't install CVS stuff in man) and remove ssl Makefile
and ssl_expr_scan.c which are autogenerated.
@
text
@a141 2
	manual/mod/mod_ssl/ssl_compat.wml \
	manual/mod/mod_ssl/ssl_cover.wml \
a145 1
	manual/mod/mod_ssl/ssl_faq.wml \
a146 1
	manual/mod/mod_ssl/ssl_glossary.wml \
a148 1
	manual/mod/mod_ssl/ssl_howto.wml \
a150 1
	manual/mod/mod_ssl/ssl_intro.wml \
a155 1
	manual/mod/mod_ssl/ssl_overview.wml \
a158 1
	manual/mod/mod_ssl/ssl_reference.wml \
@


1.13
log
@Fix stupid makefile mistake.
@
text
@a156 3
	manual/mod/mod_ssl/CVS/Root \
	manual/mod/mod_ssl/CVS/Repository \
	manual/mod/mod_ssl/CVS/Entries \
@


1.12
log
@Makefile changes and forgotten file for mod_ssl
@
text
@d138 1
a138 1
	manual/vhosts/virtual-host.html
a194 1

@


1.11
log
@Apache 1.3.4 merge
@
text
@d20 3
d139 56
@


1.10
log
@	Fix broken htdocs/manual install that was missing files.
@
text
@d34 1
d45 1
d49 1
d162 17
a178 1
	icons/generic.sec.gif icons/pie1.gif icons/sound2.gif
@


1.9
log
@NOMAN fixes
@
text
@d12 8
a19 31
	manual/mod/mod_cgi.html  \
	manual/mod/mod_cookies.html \
	manual/mod/mod_digest.html \
	manual/mod/mod_dir.html \
	manual/mod/mod_dld.html \
	manual/mod/mod_dll.html \
	manual/mod/mod_env.html \
	manual/mod/mod_example.html \
	manual/mod/mod_expires.html \
	manual/mod/mod_headers.html \
	manual/mod/mod_imap.html \
	manual/mod/mod_include.html \
	manual/mod/mod_info.html \
	manual/mod/mod_isapi.html \
	manual/mod/mod_log_agent.html \
	manual/mod/mod_log_common.html \
	manual/mod/mod_log_config.html \
	manual/mod/mod_log_referer.html \
	manual/mod/mod_mime.html \
	manual/mod/mod_mime_magic.html \
	manual/mod/mod_mmap_static.html \
	manual/mod/mod_negotiation.html \
	manual/mod/mod_proxy.html \
	manual/mod/mod_rewrite.html \
	manual/mod/mod_setenvif.html \
	manual/mod/mod_so.html \
	manual/mod/mod_speling.html \
	manual/mod/mod_status.html \
	manual/mod/mod_unique_id.html \
	manual/mod/mod_userdir.html \
	manual/mod/mod_usertrack.html \
a50 8
	manual/images/custom_errordocs.gif \
	manual/images/home.gif \
	manual/images/index.gif \
	manual/images/mod_rewrite_fig1.fig \
	manual/images/mod_rewrite_fig1.gif \
	manual/images/mod_rewrite_fig2.fig \
	manual/images/mod_rewrite_fig2.gif \
	manual/images/sub.gif \
d73 48
d133 1
@


1.8
log
@fix
@
text
@d177 2
d180 1
@


1.7
log
@1.3.2 Makefile.
@
text
@d175 3
a177 3
.include<bsd.obj.mk>
.include<bsd.subdir.mk>
.include<bsd.man.mk>
@


1.6
log
@unused files, thanks to apache souce tree transmogrification..
@
text
@d12 105
a116 44
	manual/images/home.gif manual/images/index.gif			\
	manual/images/sub.gif manual/misc/API.html			\
	manual/misc/known_bugs.html manual/misc/FAQ.html		\
	manual/misc/known_client_problems.html				\
	manual/misc/client_block_api.html manual/misc/nopgp.html	\
	manual/misc/compat_notes.html manual/misc/perf-bsd44.html	\
	manual/misc/descriptors.html manual/misc/perf-dec.html		\
	manual/misc/fin_wait_2.html manual/misc/perf.html		\
	manual/misc/footer.html manual/misc/security_tips.html		\
	manual/misc/header.html manual/misc/vif-info.html		\
	manual/misc/howto.html manual/misc/windoz_keepalive.html	\
	manual/LICENSE manual/host.html manual/multilogs.html		\
	manual/TODO  manual/new_features_1_0.html		\
	manual/bind.html manual/index.html				\
	manual/new_features_1_1.html manual/cgi_path.html		\
	manual/install.html manual/new_features_1_2.html		\
	manual/content-negotiation.html manual/install_1_1.html		\
	manual/process-model.html manual/custom-error.html		\
	manual/invoking.html manual/stopping.html			\
	manual/dns-caveats.html manual/keepalive.html			\
	manual/suexec.html manual/env.html manual/location.html		\
	manual/unixware.html manual/footer.html				\
	manual/man-template.html manual/vhosts-in-depth.html		\
	manual/handler.html manual/virtual-host.html	\
	manual/header.html manual/mod/core.html		\
	manual/mod/mod_auth_msql.html manual/mod/mod_include.html	\
	manual/mod/directives.html manual/mod/mod_browser.html		\
	manual/mod/mod_info.html manual/mod/footer.html			\
	manual/mod/mod_cern_meta.html manual/mod/mod_log_agent.html	\
	manual/mod/header.html manual/mod/mod_cgi.html			\
	manual/mod/mod_log_common.html manual/mod/index.html		\
	manual/mod/mod_cookies.html manual/mod/mod_log_config.html	\
	manual/mod/mod_access.html manual/mod/mod_digest.html		\
	manual/mod/mod_log_referer.html manual/mod/mod_actions.html	\
	manual/mod/mod_dir.html manual/mod/mod_mime.html		\
	manual/mod/mod_alias.html manual/mod/mod_dld.html		\
	manual/mod/mod_negotiation.html manual/mod/mod_asis.html	\
	manual/mod/mod_env.html manual/mod/mod_proxy.html		\
	manual/mod/mod_auth.html manual/mod/mod_example.html		\
	manual/mod/mod_rewrite.html manual/mod/mod_auth_anon.html	\
	manual/mod/mod_expires.html manual/mod/mod_status.html		\
	manual/mod/mod_auth_db.html manual/mod/mod_headers.html		\
	manual/mod/mod_userdir.html manual/mod/mod_auth_dbm.html	\
	manual/mod/mod_imap.html manual/mod/mod_usertrack.html
@


1.5
log
@build and install manpage correctly
@
text
@@


1.4
log
@	Move man page - get rid of build artifact - have makefile install
man page.
@
text
@d114 1
@


1.3
log
@pretty
@
text
@d1 1
d115 1
@


1.2
log
@Install cgi's 000 by default - user must chmod to enable.
@
text
@d86 1
a86 1
		${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
d92 1
a92 1
		${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
d98 1
a98 1
		${.CURDIR}/htdocs/$$i ${DESTDIR}${WWWROOT}/htdocs/$$j/; \
d104 1
a104 1
		${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
d110 1
a110 1
		${.CURDIR}/$$i ${DESTDIR}${WWWROOT}/$$j/; \
@


1.1
log
@Initial revision
@
text
@d103 1
a103 1
		${INSTALL} ${INSTALL_COPY} -g ${BINGRP} -m 555 \
@


1.1.1.1
log
@Initial import from apache 1.2.6
@
text
@@
