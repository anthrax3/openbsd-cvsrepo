head	1.5;
access;
symbols
	OPENBSD_5_5:1.4.0.52
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.48
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.46
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.44
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.42
	OPENBSD_5_0:1.4.0.40
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.38
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.36
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.32
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.34
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.30
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.28
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.26
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.24
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.22
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.20
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.18
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.16
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.14
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.12
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.10
	OPENBSD_3_5_BASE:1.4
	apache_1_3_29-mod_ssl_2_8_16:1.1.1.3
	OPENBSD_3_4:1.4.0.8
	OPENBSD_3_4_BASE:1.4
	apache_1_3_28-mod_ssl_2_8_15:1.1.1.3
	OPENBSD_3_3:1.4.0.6
	OPENBSD_3_3_BASE:1.4
	apache_1_3_27-mod_ssl_2_8_12:1.1.1.3
	apache_1_3_27:1.1.1.3
	OPENBSD_3_2:1.4.0.4
	OPENBSD_3_2_BASE:1.4
	apache_1_3_26:1.1.1.3
	OPENBSD_3_1:1.4.0.2
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.3.0.4
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_8:1.1.1.2.0.10
	OPENBSD_2_8_BASE:1.1.1.2
	OPENBSD_2_7:1.1.1.2.0.8
	OPENBSD_2_7_BASE:1.1.1.2
	OPENBSD_2_6:1.1.1.2.0.6
	OPENBSD_2_6_BASE:1.1.1.2
	OPENBSD_2_5:1.1.1.2.0.4
	OPENBSD_2_5_BASE:1.1.1.2
	OPENBSD_2_4:1.1.1.2.0.2
	OPENBSD_2_4_BASE:1.1.1.2
	apache_1_3_2:1.1.1.2
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	apache:1.1.1
	apache_1_2_6:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2014.04.22.14.47.24;	author henning;	state dead;
branches;
next	1.4;

1.4
date	2002.02.12.07.56.47;	author beck;	state Exp;
branches;
next	1.3;

1.3
date	2001.03.29.10.21.31;	author beck;	state Exp;
branches;
next	1.2;

1.2
date	2000.12.15.22.17.33;	author beck;	state Exp;
branches;
next	1.1;

1.1
date	98.03.25.07.08.32;	author beck;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.03.25.07.08.32;	author beck;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	98.10.01.17.20.02;	author beck;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2002.07.19.21.27.49;	author henning;	state Exp;
branches;
next	;


desc
@@


1.5
log
@this commit is really florian@@'s, since he's the one who made removal
of our forked apache possible by his work on nginx and slowcgi, but he
doesn't want it - so it is my pleasure to tedu it. I spent so much work
on chroot in it 10 years ago - and am very happy to see it go now, nginx
is a far better choice today.
Bye bye, Apache, won't miss you.
@
text
@<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org" />

    <title>Apache module mod_auth_db</title>
  </head>
  <!-- Background white, links blue (unvisited), navy (visited), red (active) -->

  <body bgcolor="#FFFFFF" text="#000000" link="#0000FF"
  vlink="#000080" alink="#FF0000">
        <div align="CENTER">
      <img src="../images/sub.gif" alt="[APACHE DOCUMENTATION]" /> 

      <h3>Apache HTTP Server Version 1.3</h3>
    </div>


    <h1 align="CENTER">Module mod_auth_db</h1>

    <p>This module provides for user authentication using Berkeley
    DB files.</p>

    <p><a href="module-dict.html#Status"
    rel="Help"><strong>Status:</strong></a> Extension<br />
     <a href="module-dict.html#SourceFile"
    rel="Help"><strong>Source File:</strong></a>
    mod_auth_db.c<br />
     <a href="module-dict.html#ModuleIdentifier"
    rel="Help"><strong>Module Identifier:</strong></a>
    db_auth_module<br />
     <a href="module-dict.html#Compatibility"
    rel="Help"><strong>Compatibility:</strong></a> Available in
    Apache 1.1 and later.</p>

    <h2>Summary</h2>

    <p>This module provides an alternative to <a
    href="mod_auth_dbm.html">DBM</a> files for those systems which
    support DB and not DBM. It is only available in Apache 1.1 and
    later.</p>

    <p>On some BSD systems (<em>e.g.</em>, FreeBSD and NetBSD) dbm
    is automatically mapped to Berkeley DB. You can use either <a
    href="mod_auth_dbm.html">mod_auth_dbm</a> or mod_auth_db. The
    latter makes it more obvious that it's Berkeley DB. On other
    platforms where you want to use the DB library you usually have
    to install it first. See <a
    href="http://www.sleepycat.com/">http://www.sleepycat.com/</a>
    for the distribution. The interface this module uses is the one
    from DB version 1.85 and 1.86, but DB version 2.x can also be
    used when compatibility mode is enabled.</p>

    <h2>Directives</h2>

    <ul>
      <li><a href="#authdbgroupfile">AuthDBGroupFile</a></li>

      <li><a href="#authdbuserfile">AuthDBUserFile</a></li>

      <li><a
      href="#authdbauthoritative">AuthDBAuthoritative</a></li>
    </ul>

    <p>See also: <a href="core.html#satisfy">satisfy</a> and <a
    href="core.html#require">require</a>.</p>
    <hr />

    <h2><a id="authdbgroupfile"
    name="authdbgroupfile">AuthDBGroupFile directive</a></h2>

    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> AuthDBGroupFile
    <em>file-path</em><br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> directory,
    .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> AuthConfig<br />
     <a href="directive-dict.html#Status"
    rel="Help"><strong>Status:</strong></a> Extension<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_auth_db 

    <p>The AuthDBGroupFile directive sets the name of a DB file
    containing the list of user groups for user authentication.
    <em>File-path</em> is the absolute path to the group file.</p>

    <p>The group file is keyed on the username. The value for a
    user is a comma-separated list of the groups to which the users
    belongs. There must be no whitespace within the value, and it
    must never contain any colons.</p>

    <p>Security: make sure that the AuthDBGroupFile is stored
    outside the document tree of the web-server; do <em>not</em>
    put it in the directory that it protects. Otherwise, clients
    will be able to download the AuthDBGroupFile unless otherwise
    protected.</p>

    <p>Combining Group and Password DB files: In some cases it is
    easier to manage a single database which contains both the
    password and group details for each user. This simplifies any
    support programs that need to be written: they now only have to
    deal with writing to and locking a single DBM file. This can be
    accomplished by first setting the group and password files to
    point to the same DB file:</p>

    <blockquote>
      <code>AuthDBGroupFile /www/userbase<br />
       AuthDBUserFile /www/userbase</code>
    </blockquote>
    The key for the single DB record is the username. The value
    consists of 

    <blockquote>
      <code>Unix Crypt-ed Password : List of Groups [ : (ignored)
      ]</code>
    </blockquote>
    The password section contains the Unix crypt() password as
    before. This is followed by a colon and the comma separated
    list of groups. Other data may optionally be left in the DB
    file after another colon; it is ignored by the authentication
    module. 

    <p>See also <a href="core.html#authname">AuthName</a>, <a
    href="core.html#authtype">AuthType</a> and <a
    href="#authdbuserfile">AuthDBUserFile</a>.</p>
    <hr />

    <h2><a id="authdbuserfile"
    name="authdbuserfile">AuthDBUserFile</a> directive</h2>

    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> AuthDBUserFile
    <em>file-path</em><br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> directory,
    .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> AuthConfig<br />
     <a href="directive-dict.html#Status"
    rel="Help"><strong>Status:</strong></a> Extension<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_auth_db 

    <p>The AuthDBUserFile directive sets the name of a DB file
    containing the list of users and passwords for user
    authentication. <em>File-path</em> is the absolute path to the
    user file.</p>

    <p>The user file is keyed on the username. The value for a user
    is the crypt() encrypted password, optionally followed by a
    colon and arbitrary data. The colon and the data following it
    will be ignored by the server.</p>

    <p>Security: make sure that the AuthDBUserFile is stored
    outside the document tree of the web-server; do <em>not</em>
    put it in the directory that it protects. Otherwise, clients
    will be able to download the AuthDBUserFile.</p>

    <p>Important compatibility note: The implementation of
    "dbmopen" in the apache modules reads the string length of the
    hashed values from the DB data structures, rather than relying
    upon the string being NULL-appended. Some applications, such as
    the Netscape web server, rely upon the string being
    NULL-appended, so if you are having trouble using DB files
    interchangeably between applications this may be a part of the
    problem.</p>

    <p>A perl script called
    href="../programs/dbmmanage.html"&gt;dbmmanage is included with
    Apache. This program can be used to create and update DB format
    password files for use with this module.</p>
    See also <a href="core.html#authname">AuthName</a>, <a
    href="core.html#authtype">AuthType</a> and <a
    href="#authdbgroupfile">AuthDBGroupFile</a>. 
    <hr />

    <h2><a id="authdbauthoritative"
    name="authdbauthoritative">AuthDBAuthoritative</a>
    directive</h2>

    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> AuthDBAuthoritative
    on|off<br />
     <a href="directive-dict.html#Default"
    rel="Help"><strong>Default:</strong></a>
    <code>AuthDBAuthoritative on</code><br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> directory,
    .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> AuthConfig<br />
     <a href="directive-dict.html#Status"
    rel="Help"><strong>Status:</strong></a> Base<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_auth 

    <p>Setting the AuthDBAuthoritative directive explicitly to
    <strong>'off'</strong> allows for both authentication and
    authorization to be passed on to lower level modules (as
    defined in the <code>Configuration</code> and
    <code>modules.c</code> file if there is <strong>no
    userID</strong> or <strong>rule</strong> matching the supplied
    userID. If there is a userID and/or rule specified; the usual
    password and access checks will be applied and a failure will
    give an Authorization Required reply.</p>

    <p>So if a userID appears in the database of more than one
    module; or if a valid <code>Require</code> directive applies to
    more than one module; then the first module will verify the
    credentials; and no access is passed on; regardless of the
    AuthAuthoritative setting.</p>

    <p>A common use for this is in conjunction with one of the
    basic auth modules; such as <a
    href="mod_auth.html"><code>mod_auth.c</code></a>. Whereas this
    DB module supplies the bulk of the user credential checking; a
    few (administrator) related accesses fall through to a lower
    level with a well protected .htpasswd file.</p>

    <p>By default, control is not passed on and an unknown userID
    or rule will result in an Authorization Required reply. Not
    setting it thus keeps the system secure and forces an NCSA
    compliant behavior.</p>

    <p>Security: Do consider the implications of allowing a user to
    allow fall-through in his .htaccess file; and verify that this
    is really what you want; Generally it is easier to just secure
    a single .htpasswd file, than it is to secure a database which
    might have more access interfaces.</p>

    <p>See also <a href="core.html#authname">AuthName</a>, <a
    href="core.html#authtype">AuthType</a> and <a
    href="#authdbgroupfile">AuthDBGroupFile</a>.</p>

    <p>    <hr />

    <h3 align="CENTER">Apache HTTP Server Version 1.3</h3>
    <a href="./"><img src="../images/index.gif" alt="Index" /></a>
    <a href="../"><img src="../images/home.gif" alt="Home" /></a>

    </p>
  </body>
</html>

@


1.4
log
@Apache 1.3.23+mod_ssl-2.8.6-1.3.23 merge
@
text
@@


1.3
log
@Apache 1.3.19+mod_ssl 2.8.1 merge - also adds shared build of mod_headers
and mod_expire
@
text
@d1 2
a2 262
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>Apache module mod_auth_db</TITLE>
</HEAD>

<!-- Background white, links blue (unvisited), navy (visited), red (active) -->
<BODY
 BGCOLOR="#FFFFFF"
 TEXT="#000000"
 LINK="#0000FF"
 VLINK="#000080"
 ALINK="#FF0000"
>
<DIV ALIGN="CENTER">
 <IMG SRC="../images/sub.gif" ALT="[APACHE DOCUMENTATION]">
 <H3>
  Apache HTTP Server Version 1.3
 </H3>
</DIV>

<H1 ALIGN="CENTER">Module mod_auth_db</H1>

<p>This module provides for user authentication using Berkeley DB
files. </p>

<P><A
HREF="module-dict.html#Status"
REL="Help"
><STRONG>Status:</STRONG></A> Extension
<BR>
<A
HREF="module-dict.html#SourceFile"
REL="Help"
><STRONG>Source File:</STRONG></A> mod_auth_db.c
<BR>
<A
HREF="module-dict.html#ModuleIdentifier"
REL="Help"
><STRONG>Module Identifier:</STRONG></A> db_auth_module
<BR>
<A
HREF="module-dict.html#Compatibility"
REL="Help"
><STRONG>Compatibility:</STRONG></A> Available in Apache 1.1 and later.
</P>

<h2>Summary</h2>

<p>This module provides an alternative to <A
HREF="mod_auth_dbm.html">DBM</A> files for those systems which support
DB and not DBM. It is only available in Apache 1.1 and later.</p>

<p>On some BSD systems (<EM>e.g.</EM>, FreeBSD and NetBSD) dbm is
automatically mapped to Berkeley DB. You can use either <A
HREF="mod_auth_dbm.html">mod_auth_dbm</A> or mod_auth_db. The latter
makes it more obvious that it's Berkeley DB.  On other platforms where
you want to use the DB library you usually have to install it
first. See <A
HREF="http://www.sleepycat.com/">http://www.sleepycat.com/</A> for the
distribution. The interface this module uses is the one from DB
version 1.85 and 1.86, but DB version 2.x can also be used when
compatibility mode is enabled.</p>

<h2>Directives</h2>

<UL>
<LI><A HREF="#authdbgroupfile">AuthDBGroupFile</A>
<LI><A HREF="#authdbuserfile">AuthDBUserFile</A>
<LI><A HREF="#authdbauthoritative">AuthDBAuthoritative</A>
</UL>

<p>See also: <a href="core.html#satisfy">satisfy</a> and 
<a href="core.html#require">require</a>.</p>

<HR>


<H2><A NAME="authdbgroupfile">AuthDBGroupFile directive</A></H2>
<!--%plaintext &lt;?INDEX {\tt AuthDBGroupFile} directive&gt; -->
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> AuthDBGroupFile <EM>filename</EM><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> AuthConfig<BR>
<A
 HREF="directive-dict.html#Status"
 REL="Help"
><STRONG>Status:</STRONG></A> Extension<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_auth_db<P>

The AuthDBGroupFile directive sets the name of a DB file containing the list
of user groups for user authentication. <EM>Filename</EM> is the absolute path
to the group file.<P>

The group file is keyed on the username. The value for a user is a
comma-separated list of the groups to which the users belongs. There must
be no whitespace within the value, and it must never contain any colons.<P>

Security: make sure that the AuthDBGroupFile is stored outside the
document tree of the web-server; do <EM>not</EM> put it in the directory that
it protects. Otherwise, clients will be able to download the
AuthDBGroupFile unless otherwise protected.<P>

Combining Group and Password DB files: In some cases it is easier to
manage a single database which contains both the password and group
details for each user. This simplifies any support programs that need
to be written: they now only have to deal with writing to and locking
a single DBM file. This can be accomplished by first setting the group
and password files to point to the same DB file:<P>

<BLOCKQUOTE><CODE>
AuthDBGroupFile /www/userbase<BR>
AuthDBUserFile /www/userbase
</CODE></BLOCKQUOTE>

The key for the single DB record is the username. The value consists of <P>

<BLOCKQUOTE><CODE>
Unix Crypt-ed Password : List of Groups [ : (ignored) ]
</CODE></BLOCKQUOTE>

The password section contains the Unix crypt() password as before. This is
followed by a colon and the comma separated list of groups. Other data may
optionally be left in the DB file after another colon; it is ignored by the
authentication module. <P>

See also <A HREF="core.html#authname">AuthName</A>,
<A HREF="core.html#authtype">AuthType</A> and
<A HREF="#authdbuserfile">AuthDBUserFile</A>.<P><HR>

<H2><A NAME="authdbuserfile">AuthDBUserFile</A> directive</H2>
<!--%plaintext &lt;?INDEX {\tt AuthDBUserFile} directive&gt; -->
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> AuthDBUserFile <EM>filename</EM><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> AuthConfig<BR>
<A
 HREF="directive-dict.html#Status"
 REL="Help"
><STRONG>Status:</STRONG></A> Extension<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_auth_db<P>

The AuthDBUserFile directive sets the name of a DB file containing the list
of users and passwords for user authentication. <EM>Filename</EM> is the
absolute path to the user file.<P>

The user file is keyed on the username. The value for a user is the
crypt() encrypted password, optionally followed by a colon and
arbitrary data.  The colon and the data following it will be ignored
by the server.<P>

Security: make sure that the AuthDBUserFile is stored outside the
document tree of the web-server; do <EM>not</EM> put it in the directory that
it protects. Otherwise, clients will be able to download the
AuthDBUserFile.<P>

Important compatibility note: The implementation of "dbmopen" in the
apache modules reads the string length of the hashed values from the
DB data structures, rather than relying upon the string being
NULL-appended. Some applications, such as the Netscape web server,
rely upon the string being NULL-appended, so if you are having trouble
using DB files interchangeably between applications this may be a
part of the problem. <P>

<p>A perl script called
href="../programs/dbmmanage.html">dbmmanage</a> is included with
Apache.  This program can be used to create and update DB format
password files for use with this module.</p>

See also <A HREF="core.html#authname">AuthName</A>,
<A HREF="core.html#authtype">AuthType</A> and
<A HREF="#authdbgroupfile">AuthDBGroupFile</A>.<P>
<HR>
<H2><A NAME="authdbauthoritative">AuthDBAuthoritative</A> directive</H2>
<!--%plaintext &lt;?INDEX {\tt AuthDBAuthoritative} directive&gt; -->
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> AuthDBAuthoritative on|off<BR>
<A
 HREF="directive-dict.html#Default"
 REL="Help"
><STRONG>Default:</STRONG></A> <CODE>AuthDBAuthoritative on</CODE><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> AuthConfig<BR>
<A
 HREF="directive-dict.html#Status"
 REL="Help"
><STRONG>Status:</STRONG></A> Base<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_auth<P>

Setting the AuthDBAuthoritative directive explicitly to <STRONG>'off'</STRONG>
allows for both authentication and authorization to be passed on
to lower level modules (as defined in the <CODE>Configuration</CODE>
and <CODE>modules.c</CODE> file if there is <STRONG>no userID</STRONG> or
<STRONG>rule</STRONG> matching the supplied userID. If there is a userID
and/or rule specified; the usual password and access checks will
be applied and a failure will give an Authorization Required reply.
<P>
So if a userID appears in the database of more than one module; or
if a valid <CODE>Require</CODE> directive applies to more than one module; then
the first module will verify the credentials; and no access is
passed on; regardless of the AuthAuthoritative setting.  <P>

A common use for this is in conjunction with one of the basic auth
modules; such as <A HREF="mod_auth.html"><CODE>mod_auth.c</CODE></A>.
Whereas this DB module supplies the bulk of the user credential
checking; a few (administrator) related accesses fall through to
a lower level with a well protected .htpasswd file.  <P>


By default, control is not passed on and an unknown
userID or rule will result in an Authorization Required reply. Not
setting it thus keeps the system secure and forces an NCSA compliant
behaviour.  <P>
Security: Do consider the implications of allowing a user to allow
fall-through in his .htaccess file; and verify that this is really
what you want; Generally it is easier to just secure a single
.htpasswd file, than it is to secure a database which might have
more access interfaces.

<P>
See also <A HREF="core.html#authname">AuthName</A>,
<A HREF="core.html#authtype">AuthType</A> and
<A HREF="#authdbgroupfile">AuthDBGroupFile</A>.<P>

<HR>

<H3 ALIGN="CENTER">
 Apache HTTP Server Version 1.3
</H3>
d4 244
a247 5
<A HREF="./"><IMG SRC="../images/index.gif" ALT="Index"></A>
<A HREF="../"><IMG SRC="../images/home.gif" ALT="Home"></A>

</BODY>
</HTML>
@


1.2
log
@apache 1.3.14 + mod_ssl 2.7.1 merge
@
text
@d187 5
d201 1
a201 2
><STRONG>Syntax:</STRONG></A> AuthDBAuthoritative &lt;
 <STRONG> on</STRONG>| off &gt; <BR>
@


1.1
log
@Initial revision
@
text
@d18 1
a18 1
  Apache HTTP Server Version 1.2
d22 1
a22 1
<H1 ALIGN="CENTER">Module mod_auth_db</h1>
d24 2
a25 5
This module is contained in the <code>mod_auth_db.c</code> file, and
is not compiled in by default. It provides for user authentication using
Berkeley DB files. It is an alternative to <A HREF="mod_auth_dbm.html">DBM</A>
files for those systems which support DB and not DBM. It is only
available in Apache 1.1 and later.
d27 45
d73 4
a76 6
<menu>
<li><A HREF="#authdbgroupfile">AuthDBGroupFile</A>
<li><A HREF="#authdbuserfile">AuthDBUserFile</A>
<li><A HREF="#authdbauthoritative">AuthDBAuthoritative</A>
</menu>
<hr>
d79 1
a79 1
<A name="authdbgroupfile"><h2>AuthDBGroupFile</h2></A>
d81 20
a100 5
<strong>Syntax:</strong> AuthDBGroupFile <em>filename</em><br>
<Strong>Context:</strong> directory, .htaccess<br>
<Strong>Override:</strong> AuthConfig<br>
<strong>Status:</strong> Extension<br>
<strong>Module:</strong> mod_auth_db<p>
d103 2
a104 2
of user groups for user authentication. <em>Filename</em> is the absolute path
to the group file.<p>
d108 1
a108 1
be no whitespace within the value, and it must never contain any colons.<p>
d111 1
a111 1
document tree of the web-server; do <em>not</em> put it in the directory that
d113 1
a113 1
AuthDBGroupFile unless otherwise protected.<p>
d120 1
a120 1
and password files to point to the same DB file:<p>
d122 2
a123 2
<blockquote><code>
AuthDBGroupFile /www/userbase<br>
d125 1
a125 1
</code></blockquote>
d127 1
a127 1
The key for the single DB record is the username. The value consists of <p>
d129 1
a129 1
<blockquote><code>
d131 1
a131 1
</code></blockquote>
d136 1
a136 1
authentication module. <p>
d140 1
a140 1
<A HREF="#authdbuserfile">AuthDBUserFile</A>.<p><hr>
d142 1
a142 1
<A name="authdbuserfile"><h2>AuthDBUserFile</h2></A>
d144 20
a163 5
<strong>Syntax:</strong> AuthDBUserFile <em>filename</em><br>
<Strong>Context:</strong> directory, .htaccess<br>
<Strong>Override:</strong> AuthConfig<br>
<strong>Status:</strong> Extension<br>
<strong>Module:</strong> mod_auth_db<p>
d166 2
a167 2
of users and passwords for user authentication. <em>Filename</em> is the
absolute path to the user file.<p>
d172 1
a172 1
by the server.<p>
d175 1
a175 1
document tree of the web-server; do <em>not</em> put it in the directory that
d177 1
a177 1
AuthDBUserFile.<p>
d185 1
a185 1
part of the problem. <p>
d189 3
a191 3
<A HREF="#authdbgroupfile">AuthDBGroupFile</A>.<p>
<hr>
<A name="authdbauthoritative"><h2>AuthDBAuthoritative</h2></A>
d193 25
a217 5
<strong>Syntax:</strong> AuthDBAuthoritative &lt; <strong> on</strong>(default) | off &gt; <br>
<Strong>Context:</strong> directory, .htaccess<br>
<Strong>Override:</strong> AuthConfig<br>
<strong>Status:</strong> Base<br>
<strong>Module:</strong> mod_auth<p>
d219 1
a219 1
Setting the AuthDBAuthoritative directive explicitly to <b>'off'</b>
d221 3
a223 3
to lower level modules (as defined in the <code>Configuration</code>
and <code>modules.c</code> file if there is <b>no userID</b> or
<b>rule</b> matching the supplied userID. If there is a userID
d226 1
a226 1
<p>
d228 1
a228 1
if a valid require directive applies to more than one module; then
d230 1
a230 1
passed on; regardless of the AuthAuthoritative setting.  <p>
d233 1
a233 1
modules; such as <a href="mod_auth.html"><code>mod_auth.c</code></a>.
d236 1
a236 1
a lower level with a well protected .htpasswd file.  <p>
d238 2
a239 1
<b>Default:</b> By default; control is not passed on; and an unknown
d241 2
a242 2
setting it thus keeps the system secure; and forces an NSCA compliant
behaviour.  <p>
d249 1
a249 1
<p>
d252 1
a252 1
<A HREF="#authdbgroupfile">AuthDBGroupFile</A>.<p>
d255 1
d257 1
a257 1
 Apache HTTP Server Version 1.2
@


1.1.1.1
log
@Initial import from apache 1.2.6
@
text
@@


1.1.1.2
log
@Apache 1.3.2
@
text
@d18 1
a18 1
  Apache HTTP Server Version 1.3
d22 1
a22 1
<H1 ALIGN="CENTER">Module mod_auth_db</H1>
d24 1
a24 1
This module is contained in the <CODE>mod_auth_db.c</CODE> file, and
d30 7
a36 17
<P>
On some BSD systems (<EM>e.g.</EM>, FreeBSD and NetBSD) dbm is automatically mapped to
Berkeley DB. You can use either <A HREF="mod_auth_dbm.html">mod_auth_dbm</A>
or mod_auth_db. The latter makes it more obvious that it's Berkeley DB.  On
other platforms where you want to use the DB library you usually have to
install it first. See 
<A HREF="http://www.sleepycat.com/">http://www.sleepycat.com/</A> for the
distribution. The interface this module uses is the one from DB version 1.85
and 1.86, but DB version 2.x can also be used when compatibility mode is
enabled.

<MENU>
<LI><A HREF="#authdbgroupfile">AuthDBGroupFile</A>
<LI><A HREF="#authdbuserfile">AuthDBUserFile</A>
<LI><A HREF="#authdbauthoritative">AuthDBAuthoritative</A>
</MENU>
<HR>
d39 1
a39 1
<H2><A NAME="authdbgroupfile">AuthDBGroupFile</A></H2>
d41 5
a45 20
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> AuthDBGroupFile <EM>filename</EM><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> AuthConfig<BR>
<A
 HREF="directive-dict.html#Status"
 REL="Help"
><STRONG>Status:</STRONG></A> Extension<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_auth_db<P>
d48 2
a49 2
of user groups for user authentication. <EM>Filename</EM> is the absolute path
to the group file.<P>
d53 1
a53 1
be no whitespace within the value, and it must never contain any colons.<P>
d56 1
a56 1
document tree of the web-server; do <EM>not</EM> put it in the directory that
d58 1
a58 1
AuthDBGroupFile unless otherwise protected.<P>
d65 1
a65 1
and password files to point to the same DB file:<P>
d67 2
a68 2
<BLOCKQUOTE><CODE>
AuthDBGroupFile /www/userbase<BR>
d70 1
a70 1
</CODE></BLOCKQUOTE>
d72 1
a72 1
The key for the single DB record is the username. The value consists of <P>
d74 1
a74 1
<BLOCKQUOTE><CODE>
d76 1
a76 1
</CODE></BLOCKQUOTE>
d81 1
a81 1
authentication module. <P>
d85 1
a85 1
<A HREF="#authdbuserfile">AuthDBUserFile</A>.<P><HR>
d87 1
a87 1
<H2><A NAME="authdbuserfile">AuthDBUserFile</A></H2>
d89 5
a93 20
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> AuthDBUserFile <EM>filename</EM><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> AuthConfig<BR>
<A
 HREF="directive-dict.html#Status"
 REL="Help"
><STRONG>Status:</STRONG></A> Extension<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_auth_db<P>
d96 2
a97 2
of users and passwords for user authentication. <EM>Filename</EM> is the
absolute path to the user file.<P>
d102 1
a102 1
by the server.<P>
d105 1
a105 1
document tree of the web-server; do <EM>not</EM> put it in the directory that
d107 1
a107 1
AuthDBUserFile.<P>
d115 1
a115 1
part of the problem. <P>
d119 3
a121 3
<A HREF="#authdbgroupfile">AuthDBGroupFile</A>.<P>
<HR>
<H2><A NAME="authdbauthoritative">AuthDBAuthoritative</A></H2>
d123 5
a127 21
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> AuthDBAuthoritative &lt;
 <STRONG> on</STRONG>(default) | off &gt; <BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> AuthConfig<BR>
<A
 HREF="directive-dict.html#Status"
 REL="Help"
><STRONG>Status:</STRONG></A> Base<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_auth<P>
d129 1
a129 1
Setting the AuthDBAuthoritative directive explicitly to <STRONG>'off'</STRONG>
d131 3
a133 3
to lower level modules (as defined in the <CODE>Configuration</CODE>
and <CODE>modules.c</CODE> file if there is <STRONG>no userID</STRONG> or
<STRONG>rule</STRONG> matching the supplied userID. If there is a userID
d136 1
a136 1
<P>
d140 1
a140 1
passed on; regardless of the AuthAuthoritative setting.  <P>
d143 1
a143 1
modules; such as <A HREF="mod_auth.html"><CODE>mod_auth.c</CODE></A>.
d146 1
a146 1
a lower level with a well protected .htpasswd file.  <P>
d148 1
a148 5
<A
 HREF="directive-dict.html#Default"
 REL="Help"
><STRONG>Default:</STRONG></A> By default; control is not passed on; and an
unknown
d150 2
a151 2
setting it thus keeps the system secure; and forces an NCSA compliant
behaviour.  <P>
d158 1
a158 1
<P>
d161 1
a161 1
<A HREF="#authdbgroupfile">AuthDBGroupFile</A>.<P>
a163 1

d165 1
a165 1
 Apache HTTP Server Version 1.3
@


1.1.1.3
log
@import apache 1.3.26 + mod_ssl 2.8.10
@
text
@d1 227
a227 2
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
d229 5
a233 244
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org" />

    <title>Apache module mod_auth_db</title>
  </head>
  <!-- Background white, links blue (unvisited), navy (visited), red (active) -->

  <body bgcolor="#FFFFFF" text="#000000" link="#0000FF"
  vlink="#000080" alink="#FF0000">
        <div align="CENTER">
      <img src="../images/sub.gif" alt="[APACHE DOCUMENTATION]" /> 

      <h3>Apache HTTP Server Version 1.3</h3>
    </div>


    <h1 align="CENTER">Module mod_auth_db</h1>

    <p>This module provides for user authentication using Berkeley
    DB files.</p>

    <p><a href="module-dict.html#Status"
    rel="Help"><strong>Status:</strong></a> Extension<br />
     <a href="module-dict.html#SourceFile"
    rel="Help"><strong>Source File:</strong></a>
    mod_auth_db.c<br />
     <a href="module-dict.html#ModuleIdentifier"
    rel="Help"><strong>Module Identifier:</strong></a>
    db_auth_module<br />
     <a href="module-dict.html#Compatibility"
    rel="Help"><strong>Compatibility:</strong></a> Available in
    Apache 1.1 and later.</p>

    <h2>Summary</h2>

    <p>This module provides an alternative to <a
    href="mod_auth_dbm.html">DBM</a> files for those systems which
    support DB and not DBM. It is only available in Apache 1.1 and
    later.</p>

    <p>On some BSD systems (<em>e.g.</em>, FreeBSD and NetBSD) dbm
    is automatically mapped to Berkeley DB. You can use either <a
    href="mod_auth_dbm.html">mod_auth_dbm</a> or mod_auth_db. The
    latter makes it more obvious that it's Berkeley DB. On other
    platforms where you want to use the DB library you usually have
    to install it first. See <a
    href="http://www.sleepycat.com/">http://www.sleepycat.com/</a>
    for the distribution. The interface this module uses is the one
    from DB version 1.85 and 1.86, but DB version 2.x can also be
    used when compatibility mode is enabled.</p>

    <h2>Directives</h2>

    <ul>
      <li><a href="#authdbgroupfile">AuthDBGroupFile</a></li>

      <li><a href="#authdbuserfile">AuthDBUserFile</a></li>

      <li><a
      href="#authdbauthoritative">AuthDBAuthoritative</a></li>
    </ul>

    <p>See also: <a href="core.html#satisfy">satisfy</a> and <a
    href="core.html#require">require</a>.</p>
    <hr />

    <h2><a id="authdbgroupfile"
    name="authdbgroupfile">AuthDBGroupFile directive</a></h2>

    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> AuthDBGroupFile
    <em>file-path</em><br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> directory,
    .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> AuthConfig<br />
     <a href="directive-dict.html#Status"
    rel="Help"><strong>Status:</strong></a> Extension<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_auth_db 

    <p>The AuthDBGroupFile directive sets the name of a DB file
    containing the list of user groups for user authentication.
    <em>File-path</em> is the absolute path to the group file.</p>

    <p>The group file is keyed on the username. The value for a
    user is a comma-separated list of the groups to which the users
    belongs. There must be no whitespace within the value, and it
    must never contain any colons.</p>

    <p>Security: make sure that the AuthDBGroupFile is stored
    outside the document tree of the web-server; do <em>not</em>
    put it in the directory that it protects. Otherwise, clients
    will be able to download the AuthDBGroupFile unless otherwise
    protected.</p>

    <p>Combining Group and Password DB files: In some cases it is
    easier to manage a single database which contains both the
    password and group details for each user. This simplifies any
    support programs that need to be written: they now only have to
    deal with writing to and locking a single DBM file. This can be
    accomplished by first setting the group and password files to
    point to the same DB file:</p>

    <blockquote>
      <code>AuthDBGroupFile /www/userbase<br />
       AuthDBUserFile /www/userbase</code>
    </blockquote>
    The key for the single DB record is the username. The value
    consists of 

    <blockquote>
      <code>Unix Crypt-ed Password : List of Groups [ : (ignored)
      ]</code>
    </blockquote>
    The password section contains the Unix crypt() password as
    before. This is followed by a colon and the comma separated
    list of groups. Other data may optionally be left in the DB
    file after another colon; it is ignored by the authentication
    module. 

    <p>See also <a href="core.html#authname">AuthName</a>, <a
    href="core.html#authtype">AuthType</a> and <a
    href="#authdbuserfile">AuthDBUserFile</a>.</p>
    <hr />

    <h2><a id="authdbuserfile"
    name="authdbuserfile">AuthDBUserFile</a> directive</h2>

    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> AuthDBUserFile
    <em>file-path</em><br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> directory,
    .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> AuthConfig<br />
     <a href="directive-dict.html#Status"
    rel="Help"><strong>Status:</strong></a> Extension<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_auth_db 

    <p>The AuthDBUserFile directive sets the name of a DB file
    containing the list of users and passwords for user
    authentication. <em>File-path</em> is the absolute path to the
    user file.</p>

    <p>The user file is keyed on the username. The value for a user
    is the crypt() encrypted password, optionally followed by a
    colon and arbitrary data. The colon and the data following it
    will be ignored by the server.</p>

    <p>Security: make sure that the AuthDBUserFile is stored
    outside the document tree of the web-server; do <em>not</em>
    put it in the directory that it protects. Otherwise, clients
    will be able to download the AuthDBUserFile.</p>

    <p>Important compatibility note: The implementation of
    "dbmopen" in the apache modules reads the string length of the
    hashed values from the DB data structures, rather than relying
    upon the string being NULL-appended. Some applications, such as
    the Netscape web server, rely upon the string being
    NULL-appended, so if you are having trouble using DB files
    interchangeably between applications this may be a part of the
    problem.</p>

    <p>A perl script called
    href="../programs/dbmmanage.html"&gt;dbmmanage is included with
    Apache. This program can be used to create and update DB format
    password files for use with this module.</p>
    See also <a href="core.html#authname">AuthName</a>, <a
    href="core.html#authtype">AuthType</a> and <a
    href="#authdbgroupfile">AuthDBGroupFile</a>. 
    <hr />

    <h2><a id="authdbauthoritative"
    name="authdbauthoritative">AuthDBAuthoritative</a>
    directive</h2>

    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> AuthDBAuthoritative
    on|off<br />
     <a href="directive-dict.html#Default"
    rel="Help"><strong>Default:</strong></a>
    <code>AuthDBAuthoritative on</code><br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> directory,
    .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> AuthConfig<br />
     <a href="directive-dict.html#Status"
    rel="Help"><strong>Status:</strong></a> Base<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_auth 

    <p>Setting the AuthDBAuthoritative directive explicitly to
    <strong>'off'</strong> allows for both authentication and
    authorization to be passed on to lower level modules (as
    defined in the <code>Configuration</code> and
    <code>modules.c</code> file if there is <strong>no
    userID</strong> or <strong>rule</strong> matching the supplied
    userID. If there is a userID and/or rule specified; the usual
    password and access checks will be applied and a failure will
    give an Authorization Required reply.</p>

    <p>So if a userID appears in the database of more than one
    module; or if a valid <code>Require</code> directive applies to
    more than one module; then the first module will verify the
    credentials; and no access is passed on; regardless of the
    AuthAuthoritative setting.</p>

    <p>A common use for this is in conjunction with one of the
    basic auth modules; such as <a
    href="mod_auth.html"><code>mod_auth.c</code></a>. Whereas this
    DB module supplies the bulk of the user credential checking; a
    few (administrator) related accesses fall through to a lower
    level with a well protected .htpasswd file.</p>

    <p>By default, control is not passed on and an unknown userID
    or rule will result in an Authorization Required reply. Not
    setting it thus keeps the system secure and forces an NCSA
    compliant behavior.</p>

    <p>Security: Do consider the implications of allowing a user to
    allow fall-through in his .htaccess file; and verify that this
    is really what you want; Generally it is easier to just secure
    a single .htpasswd file, than it is to secure a database which
    might have more access interfaces.</p>

    <p>See also <a href="core.html#authname">AuthName</a>, <a
    href="core.html#authtype">AuthType</a> and <a
    href="#authdbgroupfile">AuthDBGroupFile</a>.</p>

    <p>    <hr />

    <h3 align="CENTER">Apache HTTP Server Version 1.3</h3>
    <a href="./"><img src="../images/index.gif" alt="Index" /></a>
    <a href="../"><img src="../images/home.gif" alt="Home" /></a>

    </p>
  </body>
</html>
@


