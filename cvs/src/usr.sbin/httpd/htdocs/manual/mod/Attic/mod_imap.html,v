head	1.8;
access;
symbols
	OPENBSD_5_5:1.7.0.46
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.42
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.40
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.38
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.36
	OPENBSD_5_0:1.7.0.34
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.32
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.30
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.26
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.28
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.24
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.22
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.20
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.7.0.18
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.16
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.14
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.12
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.7.0.10
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.8
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.7.0.6
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.7.0.4
	OPENBSD_3_5_BASE:1.7
	apache_1_3_29-mod_ssl_2_8_16:1.1.1.4
	OPENBSD_3_4:1.7.0.2
	OPENBSD_3_4_BASE:1.7
	apache_1_3_28-mod_ssl_2_8_15:1.1.1.4
	OPENBSD_3_3:1.6.0.6
	OPENBSD_3_3_BASE:1.6
	apache_1_3_27-mod_ssl_2_8_12:1.1.1.3
	apache_1_3_27:1.1.1.3
	OPENBSD_3_2:1.6.0.4
	OPENBSD_3_2_BASE:1.6
	apache_1_3_26:1.1.1.3
	OPENBSD_3_1:1.6.0.2
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.5.0.4
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_9:1.5.0.2
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.2.0.2
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.1.1.2.0.4
	OPENBSD_2_5_BASE:1.1.1.2
	OPENBSD_2_4:1.1.1.2.0.2
	OPENBSD_2_4_BASE:1.1.1.2
	apache_1_3_2:1.1.1.2
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	apache:1.1.1
	apache_1_2_6:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2014.04.22.14.47.24;	author henning;	state dead;
branches;
next	1.7;

1.7
date	2003.08.21.13.11.32;	author henning;	state Exp;
branches;
next	1.6;

1.6
date	2002.02.12.07.56.47;	author beck;	state Exp;
branches;
next	1.5;

1.5
date	2001.03.29.10.21.32;	author beck;	state Exp;
branches;
next	1.4;

1.4
date	2000.12.15.22.17.37;	author beck;	state Exp;
branches;
next	1.3;

1.3
date	2000.01.25.18.29.27;	author beck;	state Exp;
branches;
next	1.2;

1.2
date	99.09.29.06.29.05;	author beck;	state Exp;
branches;
next	1.1;

1.1
date	98.03.25.07.08.33;	author beck;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.03.25.07.08.33;	author beck;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	98.10.01.17.20.05;	author beck;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2002.07.19.21.27.52;	author henning;	state Exp;
branches;
next	1.1.1.4;

1.1.1.4
date	2003.08.21.12.53.33;	author henning;	state Exp;
branches;
next	;


desc
@@


1.8
log
@this commit is really florian@@'s, since he's the one who made removal
of our forked apache possible by his work on nginx and slowcgi, but he
doesn't want it - so it is my pleasure to tedu it. I spent so much work
on chroot in it 10 years ago - and am very happy to see it go now, nginx
is a far better choice today.
Bye bye, Apache, won't miss you.
@
text
@<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org" />

    <title>Apache module mod_imap</title>
  </head>
  <!-- Background white, links blue (unvisited), navy (visited), red (active) -->

  <body bgcolor="#FFFFFF" text="#000000" link="#0000FF"
  vlink="#000080" alink="#FF0000">
        <div align="CENTER">
      <img src="../images/sub.gif" alt="[APACHE DOCUMENTATION]" /> 

      <h3>Apache HTTP Server Version 1.3</h3>
    </div>


    <h1 align="CENTER">Module mod_imap</h1>

    <p>This module provides for server-side imagemap
    processing.</p>

    <p><a href="module-dict.html#Status"
    rel="Help"><strong>Status:</strong></a> Base<br />
     <a href="module-dict.html#SourceFile"
    rel="Help"><strong>Source File:</strong></a> mod_imap.c<br />
     <a href="module-dict.html#ModuleIdentifier"
    rel="Help"><strong>Module Identifier:</strong></a>
    imap_module<br />
     <a href="module-dict.html#Compatibility"
    rel="Help"><strong>Compatibility:</strong></a> Available in
    Apache 1.1 and later.</p>

    <h2>Summary</h2>

    <p>This module processes <code>.map</code> files, thereby
    replacing the functionality of the <code>imagemap</code> CGI
    program. Any directory or document type configured to use the
    handler <code>imap-file</code> (using either <code><a
    href="mod_mime.html#addhandler">AddHandler</a></code> or
    <code><a href="mod_mime.html#sethandler">SetHandler</a></code>)
    will be processed by this module.</p>

    <p>The following directive will activate files ending with
    <code>.map</code> as imagemap files:</p>

    <blockquote>
      <code>AddHandler imap-file map</code>
    </blockquote>
    Note that the following is still supported: 

    <blockquote>
      <code>AddType application/x-httpd-imap map</code>
    </blockquote>
    However, we are trying to phase out "magic MIME types" so we
    are deprecating this method. 

    <h2>Directives</h2>

    <ul>
      <li><a href="#imapmenu">ImapMenu</a></li>

      <li><a href="#imapdefault">ImapDefault</a></li>

      <li><a href="#imapbase">ImapBase</a></li>
    </ul>

    <h2>New Features</h2>
    The imagemap module adds some new features that were not
    possible with previously distributed imagemap programs. 

    <ul>
      <li>URL references relative to the Referer: information.</li>

      <li>Default &lt;BASE&gt; assignment through a new map
      directive <code>base</code>.</li>

      <li>No need for <code>imagemap.conf</code> file.</li>

      <li>Point references.</li>

      <li>Configurable generation of imagemap menus.</li>
    </ul>

    <h2>Imagemap File</h2>
    The lines in the imagemap files can have one of several
    formats: 

    <blockquote>
      <code>directive value [x,y ...]</code><br />
       <code>directive value "Menu text" [x,y ...]</code><br />
       <code>directive value x,y ... "Menu text"</code><br />
    </blockquote>
    The directive is one of <code>base</code>,
    <code>default</code>, <code>poly</code>, <code>circle</code>,
    <code>rect</code>, or <code>point</code>. The value is an
    absolute or relative URL, or one of the special values listed
    below. The coordinates are <code>x,y</code> pairs separated by
    whitespace. The quoted text is used as the text of the link if
    a imagemap menu is generated. Lines beginning with '#' are
    comments. 

    <h3>Imagemap File Directives</h3>
    There are six directives allowed in the imagemap file. The
    directives can come in any order, but are processed in the
    order they are found in the imagemap file. 

    <dl>
      <dt><code>base</code> Directive</dt>

      <dd>Has the effect of <code>&lt;BASE HREF="value"&gt;</code>.
      The non-absolute URLs of the map-file are taken relative to
      this value. The <code>base</code> directive overrides
      ImapBase as set in a .htaccess file or in the server
      configuration files. In the absence of an ImapBase
      configuration directive, <code>base</code> defaults to
      <code>http://server_name/</code>.<br />
       <code>base_uri</code> is synonymous with <code>base</code>.
      Note that a trailing slash on the URL is significant.</dd>

      <dt><code>default</code> Directive</dt>

      <dd>The action taken if the coordinates given do not fit any
      of the <code>poly</code>, <code>circle</code> or
      <code>rect</code> directives, and there are no
      <code>point</code> directives. Defaults to
      <code>nocontent</code> in the absence of an ImapDefault
      configuration setting, causing a status code of <code>204 No
      Content</code> to be returned. The client should keep the
      same page displayed.</dd>

      <dt><code>poly</code> Directive</dt>

      <dd>Takes three to one-hundred points, and is obeyed if the
      user selected coordinates fall within the polygon defined by
      these points.</dd>

      <dt><code>circle</code></dt>

      <dd>Takes the center coordinates of a circle and a point on
      the circle. Is obeyed if the user selected point is with the
      circle.</dd>

      <dt><code>rect</code> Directive</dt>

      <dd>Takes the coordinates of two opposing corners of a
      rectangle. Obeyed if the point selected is within this
      rectangle.</dd>

      <dt><code>point</code> Directive</dt>

      <dd>Takes a single point. The point directive closest to the
      user selected point is obeyed if no other directives are
      satisfied. Note that <code>default</code> will not be
      followed if a <code>point</code> directive is present and
      valid coordinates are given.</dd>
    </dl>

    <h3>Values</h3>
    The values for each of the directives can any of the following:
    

    <dl>
      <dt>a URL</dt>

      <dd>The URL can be relative or absolute URL. Relative URLs
      can contain '..' syntax and will be resolved relative to the
      <code>base</code> value.<br />
       <code>base</code> itself will not resolved according to the
      current value. A statement <code>base mailto:</code> will
      work properly, though.</dd>

      <dt><code>map</code></dt>

      <dd>Equivalent to the URL of the imagemap file itself. No
      coordinates are sent with this, so a menu will be generated
      unless ImapMenu is set to 'none'.</dd>

      <dt><code>menu</code></dt>

      <dd>Synonymous with <code>map</code>.</dd>

      <dt><code>referer</code></dt>

      <dd>Equivalent to the URL of the referring document. Defaults
      to <code>http://servername/</code> if no Referer: header was
      present.</dd>

      <dt><code>nocontent</code></dt>

      <dd>Sends a status code of <code>204 No Content</code>,
      telling the client to keep the same page displayed. Valid for
      all but <code>base</code>.</dd>

      <dt><code>error</code></dt>

      <dd>Fails with a <code>500 Server Error</code>. Valid for all
      but <code>base</code>, but sort of silly for anything but
      <code>default</code>.</dd>
    </dl>

    <h3>Coordinates</h3>

    <dl>
      <dt><code>0,0 200,200</code></dt>

      <dd>A coordinate consists of an <tt>x</tt> and a <tt>y</tt>
      value separated by a comma. The coordinates are separated
      from each other by whitespace. To accommodate the way Lynx
      handles imagemaps, should a user select the coordinate
      <code>0,0</code>, it is as if no coordinate had been
      selected.</dd>
    </dl>

    <h3>Quoted Text</h3>

    <dl>
      <dt><code>"Menu Text"</code></dt>

      <dd>After the value or after the coordinates, the line
      optionally may contain text within double quotes. This string
      is used as the text for the link if a menu is
      generated:<br />
       <code>&lt;a HREF="http://foo.com/"&gt;Menu
      text&lt;/a&gt;</code><br />
       If no quoted text is present, the name of the link will be
      used as the text:<br />
       <code>&lt;a
      HREF="http://foo.com/"&gt;http://foo.com&lt;/a&gt;</code><br />
       If you want to use double quotes within this text, you have to
       write them as <code>&amp;quot;</code>.</dd>
    </dl>

    <h2>Example Mapfile</h2>

    <blockquote>
      <code>#Comments are printed in a 'formatted' or
      'semiformatted' menu.<br />
       #And can contain html tags. &lt;hr&gt;<br />
       base referer<br />
       poly map "Could I have a menu, please?" 0,0 0,10 10,10
      10,0<br />
       rect .. 0,0 77,27 "the directory of the referer"<br />
       circle http://www.inetnebr.com/lincoln/feedback/ 195,0
      305,27<br />
       rect another_file "in same directory as referer" 306,0
      419,27<br />
       point http://www.zyzzyva.com/ 100,100<br />
       point http://www.tripod.com/ 200,200<br />
       rect mailto:nate@@tripod.com 100,150 200,0 "Bugs?"<br />
      </code>
    </blockquote>

    <h2>Referencing your mapfile</h2>

    <blockquote>
      <code>&lt;A HREF="/maps/imagemap1.map"&gt;<br />
       &lt;IMG ISMAP SRC="/images/imagemap1.gif"&gt;<br />
       &lt;/A&gt;</code>
    </blockquote>
    <hr />

    <h2><a id="imapmenu" name="imapmenu">ImapMenu</a>
    directive</h2>
    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> ImapMenu
    none|formatted|semiformatted|unformatted<br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> server config, virtual
    host, directory, .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> Indexes<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_imap<br />
     <a href="directive-dict.html#Compatibility"
    rel="Help"><strong>Compatibility:</strong></a> ImapMenu is only
    available in Apache 1.1 and later. 

    <p>The ImapMenu directive determines the action taken if an
    imagemap file is called without valid coordinates.</p>

    <dl>
      <dt><code>none</code></dt>

      <dd>If ImapMenu is <code>none</code>, no menu is generated,
      and the <code>default</code> action is performed.</dd>

      <dt><code>formatted</code></dt>

      <dd>A <code>formatted</code> menu is the simplest menu.
      Comments in the imagemap file are ignored. A level one header
      is printed, then an hrule, then the links each on a separate
      line. The menu has a consistent, plain look close to that of
      a directory listing.</dd>

      <dt><code>semiformatted</code></dt>

      <dd>In the <code>semiformatted</code> menu, comments are
      printed where they occur in the imagemap file. Blank lines
      are turned into HTML breaks. No header or hrule is printed,
      but otherwise the menu is the same as a
      <code>formatted</code> menu.</dd>

      <dt><code>unformatted</code></dt>

      <dd>Comments are printed, blank lines are ignored. Nothing is
      printed that does not appear in the imagemap file. All breaks
      and headers must be included as comments in the imagemap
      file. This gives you the most flexibility over the appearance
      of your menus, but requires you to treat your map files as
      HTML instead of plaintext.</dd>
    </dl>
    <hr />

    <h2><a id="imapdefault" name="imapdefault">ImapDefault</a>
    directive</h2>
    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> ImapDefault
    error|nocontent|map|referer|<em>URL</em><br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> server config, virtual
    host, directory, .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> Indexes<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_imap<br />
     <a href="directive-dict.html#Compatibility"
    rel="Help"><strong>Compatibility:</strong></a> ImapDefault is
    only available in Apache 1.1 and later. 

    <p>The ImapDefault directive sets the default
    <code>default</code> used in the imagemap files. Its value is
    overridden by a <code>default</code> directive within the
    imagemap file. If not present, the <code>default</code> action
    is <code>nocontent</code>, which means that a <code>204 No
    Content</code> is sent to the client. In this case, the client
    should continue to display the original page.</p>
    <hr />

    <h2><a id="imapbase" name="imapbase">ImapBase</a>
    directive</h2>
    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> ImapBase
    map|referer|<em>URL</em><br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> server config, virtual
    host, directory, .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> Indexes<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_imap<br />
     <a href="directive-dict.html#Compatibility"
    rel="Help"><strong>Compatibility:</strong></a> ImapBase is only
    available in Apache 1.1 and later. 

    <p>The ImapBase directive sets the default <code>base</code>
    used in the imagemap files. Its value is overridden by a
    <code>base</code> directive within the imagemap file. If not
    present, the <code>base</code> defaults to
    <code>http://servername/</code>. 
        <hr />

    <h3 align="CENTER">Apache HTTP Server Version 1.3</h3>
    <a href="./"><img src="../images/index.gif" alt="Index" /></a>
    <a href="../"><img src="../images/home.gif" alt="Home" /></a>

    </p>
  </body>
</html>

@


1.7
log
@merge
@
text
@@


1.6
log
@Apache 1.3.23+mod_ssl-2.8.6-1.3.23 merge
@
text
@d33 1
a33 1
     <a href="module-dict.html#compatibility"
d233 2
a234 2
       It is impossible to escape double quotes within this
      text.</dd>
@


1.5
log
@Apache 1.3.19+mod_ssl 2.8.1 merge - also adds shared build of mod_headers
and mod_expire
@
text
@d1 2
a2 361
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>Apache module mod_imap</TITLE>
</HEAD>

<!-- Background white, links blue (unvisited), navy (visited), red (active) -->
<BODY
 BGCOLOR="#FFFFFF"
 TEXT="#000000"
 LINK="#0000FF"
 VLINK="#000080"
 ALINK="#FF0000"
>
<DIV ALIGN="CENTER">
 <IMG SRC="../images/sub.gif" ALT="[APACHE DOCUMENTATION]">
 <H3>
  Apache HTTP Server Version 1.3
 </H3>
</DIV>

<H1 ALIGN="CENTER">Module mod_imap</H1>

<p>This module provides for server-side imagemap processing.</p>

<P><A
HREF="module-dict.html#Status"
REL="Help"
><STRONG>Status:</STRONG></A> Base
<BR>
<A
HREF="module-dict.html#SourceFile"
REL="Help"
><STRONG>Source File:</STRONG></A> mod_imap.c
<BR>
<A
HREF="module-dict.html#ModuleIdentifier"
REL="Help"
><STRONG>Module Identifier:</STRONG></A> imap_module
<BR>
<A
HREF="module-dict.html#compatibility"
REL="Help"
><STRONG>Compatibility:</STRONG></A> Available in Apache 1.1 and later.
</P>



<H2>Summary</H2>

<p>This module processes <CODE>.map</CODE> files, thereby replacing
the functionality of the <CODE>imagemap</CODE> CGI program. Any
directory or document type configured to use the handler
<CODE>imap-file</CODE> (using either <CODE><A
HREF="mod_mime.html#addhandler">AddHandler</A> </CODE> or <CODE><A
HREF="mod_mime.html#sethandler">SetHandler</A></CODE>) will be
processed by this module.</p>

<p>The following directive will
activate files ending with <CODE>.map</CODE> as imagemap files:

<BLOCKQUOTE><CODE>AddHandler imap-file map</CODE></BLOCKQUOTE>

Note that the following is still supported:

 <BLOCKQUOTE><CODE>AddType application/x-httpd-imap map</CODE></BLOCKQUOTE>

However, we are trying to phase out "magic MIME types" so we are deprecating
this method.

<H2>Directives</H2>
<UL>
<LI><A HREF="#imapmenu">ImapMenu</A>
<LI><A HREF="#imapdefault">ImapDefault</A>
<LI><A HREF="#imapbase">ImapBase</A>
</UL>

<H2>New Features</H2>
The imagemap module adds some new features that were not
possible with previously distributed imagemap programs.<P>

<UL>
<LI>URL references relative to the Referer: information.
<LI>Default &lt;BASE&gt; assignment through a new map directive
<CODE>base</CODE>.
<LI>No need for <CODE>imagemap.conf</CODE> file.
<LI>Point references.
<LI>Configurable generation of imagemap menus.
</UL>


<H2>Imagemap File</H2>
The lines in the imagemap files can have one of several formats:
<BLOCKQUOTE>
<CODE>directive value [x,y ...]</CODE><BR>
<CODE>directive value "Menu text" [x,y ...]</CODE><BR>
<CODE>directive value x,y ... "Menu text"</CODE><BR>
</BLOCKQUOTE>
The directive is one of <CODE>base</CODE>, <CODE>default</CODE>,
<CODE>poly</CODE>, <CODE>circle</CODE>, <CODE>rect</CODE>, or
<CODE>point</CODE>.  The value is an absolute or relative URL, or one
of the special values listed below.  The coordinates are
<CODE>x,y</CODE> pairs separated by whitespace.  The quoted text is
used as the text of the link if a imagemap menu is generated.  Lines
beginning with '#' are comments.

<H3>Imagemap File Directives</H3>
There are six directives allowed in the imagemap file.  The directives
can come in any order, but are processed in the order they are found
in the imagemap file.
<DL>
<DT><CODE>base</CODE> Directive
<DD>Has the effect of <CODE>&lt;BASE HREF="value"&gt;</CODE>.  The
     non-absolute URLs of the map-file are taken relative to this value.
     The <CODE>base</CODE> directive overrides ImapBase as set in a
     .htaccess file or in the server configuration files.  In the absence
     of an ImapBase configuration directive, <CODE>base</CODE> defaults to
     <CODE>http://server_name/</CODE>. <BR>
     <CODE>base_uri</CODE> is synonymous with <CODE>base</CODE>.  Note that
     a trailing slash on the URL is significant.
<P>
<DT><CODE>default</CODE> Directive
<DD>The action taken if the coordinates given do not fit any of the
     <CODE>poly</CODE>, <CODE>circle</CODE> or <CODE>rect</CODE>
     directives, and there are no <CODE>point</CODE> directives.  Defaults
     to <CODE>nocontent</CODE> in the absence of an ImapDefault
     configuration setting, causing a status code of <CODE>204 No
     Content</CODE> to be returned.  The client should keep the same
     page displayed.
<P>
<DT><CODE>poly</CODE> Directive
<DD>Takes three to one-hundred points, and is obeyed if the user selected
     coordinates fall within the polygon defined by these points.
<P>
<DT><CODE>circle</CODE>
<DD>Takes the center coordinates of a circle and a point on the circle. Is
     obeyed if the user selected point is with the circle.
<P>
<DT><CODE>rect</CODE> Directive
<DD>Takes the coordinates of two opposing corners of a rectangle.  Obeyed
     if the point selected is within this rectangle.
<P>
<DT><CODE>point</CODE> Directive
<DD>Takes a single point.  The point directive closest to the user
     selected point is obeyed if no other directives are satisfied.
     Note that <CODE>default</CODE> will not be followed if a
     <CODE>point</CODE> directive is present and valid coordinates are
     given.
</DL>



<H3>Values</H3>
The values for each of the directives can any of the following:
<DL>
  <DT>a URL
  <DD>The URL can be relative or absolute URL.  Relative URLs can
       contain '..' syntax and will be resolved relative to the
       <CODE>base</CODE> value. <BR>
       <CODE>base</CODE> itself will not resolved according to the current
       value. A statement <CODE>base mailto:</CODE> will work properly, though.
<P>
  <DT><CODE>map</CODE>
  <DD>Equivalent to the URL of the imagemap file itself.  No
       coordinates are sent with this, so a menu will be generated
       unless ImapMenu is set to 'none'.
<P>
  <DT><CODE>menu</CODE>
  <DD>Synonymous with <CODE>map</CODE>.
<P>
  <DT><CODE>referer</CODE>
  <DD>Equivalent to the URL of the referring document.
       Defaults to <CODE>http://servername/</CODE> if no Referer:
       header was present.
<P>
  <DT><CODE>nocontent</CODE>
  <DD>Sends a status code of <CODE>204 No Content</CODE>,
       telling the client to keep the same page displayed.  Valid for
       all but <CODE>base</CODE>.
<P>
  <DT><CODE>error</CODE>
  <DD>Fails with a <CODE>500 Server Error</CODE>.  Valid for all but
       <CODE>base</CODE>, but sort of silly for anything but
       <CODE>default</CODE>.
</DL>

<H3>Coordinates</H3>
<DL>
  <DT><CODE>0,0 200,200</CODE>
  <DD>A coordinate consists of an <TT>x</TT> and a <TT>y</TT> value
       separated by a comma.  The coordinates are separated from each other
       by whitespace.  To accommodate the way Lynx handles imagemaps, should a
       user select the coordinate <CODE>0,0</CODE>, it is as if
       no coordinate had been selected.
</DL>

<H3>Quoted Text</H3>
<DL>
  <DT><CODE>"Menu Text"</CODE>
  <DD>After the value or after the coordinates, the line optionally may
       contain text within double quotes.  This string is used as the
       text for the link if a menu is generated:<BR>
     <CODE>&lt;a HREF="http://foo.com/"&gt;Menu text&lt;/a&gt;</CODE><BR>
       If no quoted text is present, the name of the link will be used
       as the text:<BR>
     <CODE>&lt;a HREF="http://foo.com/"&gt;http://foo.com&lt;/a&gt;</CODE><BR>
       It is impossible to escape double quotes within this text.
</DL>

<H2>Example Mapfile</H2>
<BLOCKQUOTE><CODE>
#Comments are printed in a 'formatted' or 'semiformatted' menu. <BR>
#And can contain html tags. &lt;hr&gt; <BR>
base referer  <BR>
poly map "Could I have a menu, please?"  0,0 0,10 10,10 10,0 <BR>
rect .. 0,0 77,27 "the directory of the referer"<BR>
circle http://www.inetnebr.com/lincoln/feedback/ 195,0 305,27 <BR>
rect another_file "in same directory as referer" 306,0 419,27  <BR>
point http://www.zyzzyva.com/ 100,100 <BR>
point http://www.tripod.com/  200,200 <BR>
rect mailto:nate@@tripod.com 100,150 200,0 "Bugs?" <BR>
</CODE></BLOCKQUOTE>
<P>

<H2>Referencing your mapfile</H2>
<BLOCKQUOTE><CODE>
&lt;A HREF="/maps/imagemap1.map"&gt; <BR>
&lt;IMG ISMAP SRC="/images/imagemap1.gif"&gt; <BR>
&lt;/A&gt;
</CODE></BLOCKQUOTE><P>


<hr>

<H2><A NAME="imapmenu">ImapMenu</A> directive</H2>
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> ImapMenu 
   none|formatted|semiformatted|unformatted<BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> server config, virtual host, directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> Indexes<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_imap<BR>
<A
 HREF="directive-dict.html#Compatibility"
 REL="Help"
><STRONG>Compatibility:</STRONG></A> ImapMenu is only available in Apache
1.1 and later.<P>

The ImapMenu directive determines the action taken if an imagemap file
is called without valid coordinates.
<DL>
  <DT><CODE>none</CODE>
  <DD>If ImapMenu is
       <CODE>none</CODE>, no menu is generated, and the <CODE>default</CODE>
       action is performed.
  <DT><CODE>formatted</CODE>
  <DD>A <CODE>formatted</CODE> menu is the simplest menu.  Comments
       in the imagemap file are ignored.  A level one header is
       printed, then an hrule, then the links each on a separate line.
       The menu has a consistent, plain look close to that of
       a directory listing.
  <DT><CODE>semiformatted</CODE>
  <DD>In the <CODE>semiformatted</CODE> menu, comments are printed
       where they occur in the imagemap file.  Blank lines are turned
       into HTML breaks.  No header or hrule is printed, but otherwise
       the menu is the same as a <CODE>formatted</CODE> menu.
  <DT><CODE>unformatted</CODE>
  <DD>Comments are printed, blank lines are ignored.  Nothing is
       printed that does not appear in the imagemap file.  All breaks
       and headers must be included as comments in the imagemap file.
       This gives you the most flexibility over the appearance of your
       menus, but requires you to treat your map files as HTML instead
       of plaintext.
</DL>

<hr>

<H2><A NAME="imapdefault">ImapDefault</A> directive</H2>
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> ImapDefault 
    error|nocontent|map|referer|<em>URL</em><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> server config, virtual host, directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> Indexes<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_imap<BR>
<A
 HREF="directive-dict.html#Compatibility"
 REL="Help"
><STRONG>Compatibility:</STRONG></A> ImapDefault is only available in Apache
1.1 and later.<P>


The ImapDefault directive sets the default <CODE>default</CODE> used in
the imagemap files.  Its value is overridden by a <CODE>default</CODE>
directive within the imagemap file.  If not present, the
<CODE>default</CODE> action is <CODE>nocontent</CODE>, which means
that a <CODE>204 No Content</CODE> is sent to the client.  In this
case, the client should continue to display the original page.

<hr>

<H2><A NAME="imapbase">ImapBase</A> directive</H2>
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> ImapBase map|referer|<em>URL</em><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> server config, virtual host, directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> Indexes<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_imap<BR>
<A
 HREF="directive-dict.html#Compatibility"
 REL="Help"
><STRONG>Compatibility:</STRONG></A> ImapBase is only available in Apache
1.1 and later.<P>

The ImapBase directive sets the default <CODE>base</CODE> used in
the imagemap files.  Its value is overridden by a <CODE>base</CODE>
directive within the imagemap file.  If not present, the
<CODE>base</CODE> defaults to <CODE>http://servername/</CODE>.


<HR>

<H3 ALIGN="CENTER">
 Apache HTTP Server Version 1.3
</H3>

<A HREF="./"><IMG SRC="../images/index.gif" ALT="Index"></A>
<A HREF="../"><IMG SRC="../images/home.gif" ALT="Home"></A>

</BODY>
</HTML>
d4 369
@


1.4
log
@apache 1.3.14 + mod_ssl 2.7.1 merge
@
text
@d239 2
a240 2
><STRONG>Syntax:</STRONG></A> ImapMenu <CODE>{none, formatted, semiformatted,
                                                      unformatted}</CODE><BR>
d292 2
a293 2
><STRONG>Syntax:</STRONG></A> ImapDefault <CODE>{error, nocontent,
                                                 map, referer, URL}</CODE><BR>
d326 1
a326 1
><STRONG>Syntax:</STRONG></A> ImapBase <CODE>{map, referer, URL}</CODE><BR>
@


1.3
log
@Apache 1.3.11 + mod_ssl 2.5.0 merge
@
text
@d24 30
a53 4
This module is contained in the <CODE>mod_imap.c</CODE> file, and is
compiled in by default. It provides for <CODE>.map</CODE> files,
replacing the functionality of the <CODE>imagemap</CODE> CGI
program. Any directory or document type configured to use the handler
d57 1
a57 3
processed by this module.

<H2>Summary</H2>
d59 1
a59 1
This module is in the default Apache distribution. The following directive will
d71 7
a89 1
<P>
a90 127
<H2>Configuration Directives</H2>
<UL>
<LI><A HREF="#imapmenu">ImapMenu</A>
<LI><A HREF="#imapdefault">ImapDefault</A>
<LI><A HREF="#imapbase">ImapBase</A>
</UL>


<P>

<H3><A NAME="imapmenu">ImapMenu</A></H3>
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> ImapMenu <CODE>{none, formatted, semiformatted,
                                                      unformatted}</CODE><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> server config, virtual host, directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> Indexes<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_imap.c<BR>
<A
 HREF="directive-dict.html#Compatibility"
 REL="Help"
><STRONG>Compatibility:</STRONG></A> ImapMenu is only available in Apache
1.1 and later.<P>

The ImapMenu directive determines the action taken if an imagemap file
is called without valid coordinates.
<DL>
  <DT><CODE>none</CODE>
  <DD>If ImapMenu is
       <CODE>none</CODE>, no menu is generated, and the <CODE>default</CODE>
       action is performed.
  <DT><CODE>formatted</CODE>
  <DD>A <CODE>formatted</CODE> menu is the simplest menu.  Comments
       in the imagemap file are ignored.  A level one header is
       printed, then an hrule, then the links each on a separate line.
       The menu has a consistent, plain look close to that of
       a directory listing.
  <DT><CODE>semiformatted</CODE>
  <DD>In the <CODE>semiformatted</CODE> menu, comments are printed
       where they occur in the imagemap file.  Blank lines are turned
       into HTML breaks.  No header or hrule is printed, but otherwise
       the menu is the same as a <CODE>formatted</CODE> menu.
  <DT><CODE>unformatted</CODE>
  <DD>Comments are printed, blank lines are ignored.  Nothing is
       printed that does not appear in the imagemap file.  All breaks
       and headers must be included as comments in the imagemap file.
       This gives you the most flexibility over the appearance of your
       menus, but requires you to treat your map files as HTML instead
       of plaintext.
</DL>

<P>

<H3><A NAME="imapdefault">ImapDefault</A></H3>
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> ImapDefault <CODE>{error, nocontent,
                                                 map, referer, URL}</CODE><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> server config, virtual host, directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> Indexes<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_imap.c<BR>
<A
 HREF="directive-dict.html#Compatibility"
 REL="Help"
><STRONG>Compatibility:</STRONG></A> ImapDefault is only available in Apache
1.1 and later.<P>


The ImapDefault directive sets the default <CODE>default</CODE> used in
the imagemap files.  Its value is overridden by a <CODE>default</CODE>
directive within the imagemap file.  If not present, the
<CODE>default</CODE> action is <CODE>nocontent</CODE>, which means
that a <CODE>204 No Content</CODE> is sent to the client.  In this
case, the client should continue to display the original page.

<P>

<H3><A NAME="imapbase">ImapBase</A></H3>
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> ImapBase <CODE>{map, referer, URL}</CODE><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> server config, virtual host, directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> Indexes<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_imap.c<BR>
<A
 HREF="directive-dict.html#Compatibility"
 REL="Help"
><STRONG>Compatibility:</STRONG></A> ImapBase is only available in Apache
1.1 and later.<P>

The ImapBase directive sets the default <CODE>base</CODE> used in
the imagemap files.  Its value is overridden by a <CODE>base</CODE>
directive within the imagemap file.  If not present, the
<CODE>base</CODE> defaults to <CODE>http://servername/</CODE>.

<HR>
<P>
a209 2
<HR>

d231 119
@


1.2
log
@Apache 1.3.9 + Mod_ssl 2.4.2 - now builds with apaci nastiness.
@
text
@d150 1
a150 1
the imagemap files.  It's value is overridden by a <CODE>default</CODE>
d182 1
a182 1
the imagemap files.  It's value is overridden by a <CODE>base</CODE>
@


1.1
log
@Initial revision
@
text
@d2 4
a5 4
<html>
<head>
<title>Apache module mod_imap</title>
</head>
d18 1
a18 1
  Apache HTTP Server Version 1.2
d22 1
a22 1
<h1 ALIGN="CENTER">Module mod_imap</h1>
d24 3
a26 3
This module is contained in the <code>mod_imap.c</code> file, and is
compiled in by default. It provides for <code>.map</code> files,
replacing the functionality of the <code>imagemap</code> CGI
d28 3
a30 3
<code>imap-file</code> (using either <code><A
HREF="mod_mime.html#addhandler">AddHandler</A> </code> or <code><A
HREF="mod_mime.html#sethandler">SetHandler</A></code>) will be
d33 1
a33 1
<h2>Summary</h2>
d36 1
a36 1
activate files ending with <code>.map</code> as imagemap files:
d38 1
a38 1
<blockquote><code>AddHandler imap-file map</code></blockquote>
d42 1
a42 1
 <blockquote><code>AddType application/x-httpd-imap map</code></blockquote>
d51 1
a51 1
<ul>
d54 2
a55 2
<code>base</code>.
<LI>No need for <code>imagemap.conf</code> file.
d58 1
a58 1
</ul>
d61 33
a93 18
<h2>Configuration Directives</h2>
<ul>
<li><A HREF="#imapmenu">ImapMenu</A>
<li><A HREF="#imapdefault">ImapDefault</A>
<li><A HREF="#imapbase">ImapBase</A>
</ul>


<p>

<h3><A name="imapmenu">ImapMenu</A></h3>
<strong>Syntax:</strong> ImapMenu <code>{none, formatted, semi-formatted,
                                                      unformatted}</code><br>
<Strong>Context:</strong> server config, virtual host, directory, .htaccess<br>
<Strong>Override:</strong> Indexes<br>
<strong>Module:</strong> mod_imap.c<br>
<strong>Compatibility:</strong> ImapMenu is only available in Apache
1.1 and later.<p>
d97 7
a103 7
<dl>
  <dt><code>none</code>
  <dd>If ImapMenu is
       <code>none</code>, no menu is generated, and the <code>default</code>
       action is performed.  
  <dt><code>formatted</code>
  <dd>A <code>formatted</code> menu is the simplest menu.  Comments
d108 2
a109 2
  <dt><code>semiformatted</code>
  <dd>In the <code>semiformatted</code> menu, comments are printed
d112 3
a114 3
       the menu is the same as a <code>formatted</code> menu.
  <dt><code>unformatted</code>
  <dd>Comments are printed, blank lines are ignored.  Nothing is
d120 1
a120 1
</dl>
d122 1
a122 1
<p>
d124 23
a146 8
<h3><A name="imapdefault">ImapDefault</A></h3>
<strong>Syntax:</strong> ImapDefault <code>{error, nocontent,
                                                 map, referer, URL}</code><br>
<Strong>Context:</strong> server config, virtual host, directory, .htaccess<br>
<Strong>Override:</strong> Indexes<br>
<strong>Module:</strong> mod_imap.c<br>
<strong>Compatibility:</strong> ImapDefault is only available in Apache
1.1 and later.<p>
d149 2
a150 2
The ImapDefault directive sets the default <code>default</code> used in
the imagemap files.  It's value is overridden by a <code>default</code>
d152 2
a153 2
<code>default</code> action is <code>nocontent</code>, which means
that a <code>204 No Content</code> is sent to the client.  In this
d156 1
a156 1
<p>
d158 22
a179 7
<h3><A name="imapbase">ImapBase</A></h3>
<strong>Syntax:</strong> ImapBase <code>{map, referer, URL}</code><br>
<Strong>Context:</strong> server config, virtual host, directory, .htaccess<br>
<Strong>Override:</strong> Indexes<br>
<strong>Module:</strong> mod_imap.c<br>
<strong>Compatibility:</strong> ImapBase is only available in Apache
1.1 and later.<p>
d181 2
a182 2
The ImapBase directive sets the default <code>base</code> used in
the imagemap files.  It's value is overridden by a <code>base</code>
d184 1
a184 1
<code>base</code> defaults to <code>http://servername/</code>.
d186 2
a187 2
<hr>
<p>
d189 1
a189 1
<h2>Imagemap File</h2>
d191 8
a198 8
<blockquote>
<code>directive value [x,y ...]</code><br>
<code>directive value "Menu text" [x,y ...]</code><br>
<code>directive value x,y ... "Menu text"</code><br>
</blockquote>
The directive is one of <code>base</code>, <code>default</code>,
<code>poly</code>, <code>circle</code>, <code>rect</code>, or
<code>point</code>.  The value is an absolute or relative URL, or one
d200 1
a200 1
<code>x,y</code> pairs separated by whitespace.  The quoted text is
d204 1
a204 1
<h3>Imagemap File Directives</h3>
d207 4
a210 4
in the imagemap file.  
<dl>  
<dt><code>base</code> Directive
<dd>Has the effect of <code>&lt;BASE href="value"&gt;</code>.  The
d212 1
a212 1
     The <code>base</code> directive overrides ImapBase as set in a
d214 3
a216 3
     of an ImapBase configuration directive, <code>base</code> defaults to
     <code>http://server_name/</code>. <br>
     <code>base_uri</code> is synonymous with <code>base</code>.  Note that
d218 8
a225 8
<p>
<dt><code>default</code> Directive
<dd>The action taken if the coordinates given do not fit any of the
     <code>poly</code>, <code>circle</code> or <code>rect</code>
     directives, and there are no <code>point</code> directives.  Defaults
     to <code>nocontent</code> in the absence of an ImapDefault
     configuration setting, causing a status code of <code>204 No
     Content</code> to be returned.  The client should keep the same
d227 3
a229 3
<p>
<dt><code>poly</code> Directive
<dd>Takes three to one-hundred points, and is obeyed if the user selected
d231 3
a233 3
<p>
<dt><code>circle</code>
<dd>Takes the center coordinates of a circle and a point on the circle. Is
d235 3
a237 3
<p>
<dt><code>rect</code> Directive
<dd>Takes the coordinates of two opposing corners of a rectangle.  Obeyed
d239 3
a241 3
<p>
<dt><code>point</code> Directive
<dd>Takes a single point.  The point directive closest to the user
d243 2
a244 2
     Note that <code>default</code> will not be followed if a
     <code>point</code> directive is present and valid coordinates are
d246 1
a246 1
</dl>
d250 1
a250 1
<h3>Values</h3>
d252 3
a254 3
<dl>
  <dt>a URL
  <dd>The URL can be relative or absolute URL.  Relative URLs can
d256 6
a261 6
       <code>base</code> value. <br>
       <code>base</code> itself will not resolved according to the current
       value. A statement <code>base mailto:</code> will work properly, though.
<p>
  <dt><code>map</code>
  <dd>Equivalent to the URL of the imagemap file itself.  No
d264 11
a274 11
<p>
  <dt><code>menu</code>
  <dd>Synonymous with <code>map</code>.
<p>
  <dt><code>referer</code>
  <dd>Equivalent to the URL of the referring document.
       Defaults to <code>http://servername/</code> if no Referer:
       header was present. 
<p>
  <dt><code>nocontent</code>
  <dd>Sends a status code of <code>204 No Content</code>,
d276 12
a287 12
       all but <code>base</code>.
<p>
  <dt><code>error</code>
  <dd>Fails with a <code>500 Server Error</code>.  Valid for all but
       <code>base</code>, but sort of silly for anything but
       <code>default</code>. 
</dl>

<h3>Coordinates</h3>
<dl>
  <dt><code>0,0 200,200</code>
  <dd>A coordinate consists of an <tt>x</tt> and a <tt>y</tt> value
d290 8
a297 8
       user select the coordinate <code>0,0</code>, it is as if
       no coordinate had been selected.   
</dl>

<h3>Quoted Text</h3>
<dl>
  <dt><code>"Menu Text"</code>
  <dd>After the value or after the coordinates, the line optionally may 
d299 2
a300 2
       text for the link if a menu is generated:<br>
     <code>&lt;a href="http://foo.com/"&gt;Menu text&lt;/a&gt;</code><br>
d302 2
a303 2
       as the text:<br>
     <code>&lt;a href="http://foo.com/"&gt;http://foo.com&lt;/a&gt;</code><br>
d305 1
a305 1
</dl>
d307 1
a307 1
<hr>
d309 19
a327 19
<h2>Example Mapfile</h2>
<blockquote><code>
#Comments are printed in a 'formatted' or 'semiformatted' menu. <br>
#And can contain html tags. &lt;hr&gt; <br>
base referer  <br>
poly map "Could I have a menu, please?"  0,0 0,10 10,10 10,0 <br>
rect .. 0,0 77,27 "the directory of the referer"<br>
circle http://www.inetnebr.com/lincoln/feedback/ 195,0 305,27 <br>
rect another_file "in same directory as referer" 306,0 419,27  <br>
point http://www.zyzzyva.com/ 100,100 <br>
point http://www.tripod.com/  200,200 <br>
rect mailto:nate@@tripod.com 100,150 200,0 "Bugs?" <br>
</code></blockquote>
<P>

<h2>Referencing your mapfile</h2>
<blockquote><code>
&lt;A HREF="/maps/imagmap1.map"&gt; <br>
&lt;IMG ISMAP SRC="/images/imagemap1.gif"&gt; <br>
d329 1
a329 1
</code></blockquote><p>
d332 1
d334 1
a334 1
 Apache HTTP Server Version 1.2
@


1.1.1.1
log
@Initial import from apache 1.2.6
@
text
@@


1.1.1.2
log
@Apache 1.3.2
@
text
@d2 4
a5 4
<HTML>
<HEAD>
<TITLE>Apache module mod_imap</TITLE>
</HEAD>
d18 1
a18 1
  Apache HTTP Server Version 1.3
d22 1
a22 1
<H1 ALIGN="CENTER">Module mod_imap</H1>
d24 3
a26 3
This module is contained in the <CODE>mod_imap.c</CODE> file, and is
compiled in by default. It provides for <CODE>.map</CODE> files,
replacing the functionality of the <CODE>imagemap</CODE> CGI
d28 3
a30 3
<CODE>imap-file</CODE> (using either <CODE><A
HREF="mod_mime.html#addhandler">AddHandler</A> </CODE> or <CODE><A
HREF="mod_mime.html#sethandler">SetHandler</A></CODE>) will be
d33 1
a33 1
<H2>Summary</H2>
d36 1
a36 1
activate files ending with <CODE>.map</CODE> as imagemap files:
d38 1
a38 1
<BLOCKQUOTE><CODE>AddHandler imap-file map</CODE></BLOCKQUOTE>
d42 1
a42 1
 <BLOCKQUOTE><CODE>AddType application/x-httpd-imap map</CODE></BLOCKQUOTE>
d51 1
a51 1
<UL>
d54 2
a55 2
<CODE>base</CODE>.
<LI>No need for <CODE>imagemap.conf</CODE> file.
d58 1
a58 1
</UL>
d61 18
a78 33
<H2>Configuration Directives</H2>
<UL>
<LI><A HREF="#imapmenu">ImapMenu</A>
<LI><A HREF="#imapdefault">ImapDefault</A>
<LI><A HREF="#imapbase">ImapBase</A>
</UL>


<P>

<H3><A NAME="imapmenu">ImapMenu</A></H3>
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> ImapMenu <CODE>{none, formatted, semi-formatted,
                                                      unformatted}</CODE><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> server config, virtual host, directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> Indexes<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_imap.c<BR>
<A
 HREF="directive-dict.html#Compatibility"
 REL="Help"
><STRONG>Compatibility:</STRONG></A> ImapMenu is only available in Apache
1.1 and later.<P>
d82 7
a88 7
<DL>
  <DT><CODE>none</CODE>
  <DD>If ImapMenu is
       <CODE>none</CODE>, no menu is generated, and the <CODE>default</CODE>
       action is performed.
  <DT><CODE>formatted</CODE>
  <DD>A <CODE>formatted</CODE> menu is the simplest menu.  Comments
d93 2
a94 2
  <DT><CODE>semiformatted</CODE>
  <DD>In the <CODE>semiformatted</CODE> menu, comments are printed
d97 3
a99 3
       the menu is the same as a <CODE>formatted</CODE> menu.
  <DT><CODE>unformatted</CODE>
  <DD>Comments are printed, blank lines are ignored.  Nothing is
d105 1
a105 1
</DL>
d107 1
a107 1
<P>
d109 8
a116 23
<H3><A NAME="imapdefault">ImapDefault</A></H3>
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> ImapDefault <CODE>{error, nocontent,
                                                 map, referer, URL}</CODE><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> server config, virtual host, directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> Indexes<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_imap.c<BR>
<A
 HREF="directive-dict.html#Compatibility"
 REL="Help"
><STRONG>Compatibility:</STRONG></A> ImapDefault is only available in Apache
1.1 and later.<P>
d119 2
a120 2
The ImapDefault directive sets the default <CODE>default</CODE> used in
the imagemap files.  It's value is overridden by a <CODE>default</CODE>
d122 2
a123 2
<CODE>default</CODE> action is <CODE>nocontent</CODE>, which means
that a <CODE>204 No Content</CODE> is sent to the client.  In this
d126 1
a126 1
<P>
d128 7
a134 22
<H3><A NAME="imapbase">ImapBase</A></H3>
<A
 HREF="directive-dict.html#Syntax"
 REL="Help"
><STRONG>Syntax:</STRONG></A> ImapBase <CODE>{map, referer, URL}</CODE><BR>
<A
 HREF="directive-dict.html#Context"
 REL="Help"
><STRONG>Context:</STRONG></A> server config, virtual host, directory, .htaccess<BR>
<A
 HREF="directive-dict.html#Override"
 REL="Help"
><STRONG>Override:</STRONG></A> Indexes<BR>
<A
 HREF="directive-dict.html#Module"
 REL="Help"
><STRONG>Module:</STRONG></A> mod_imap.c<BR>
<A
 HREF="directive-dict.html#Compatibility"
 REL="Help"
><STRONG>Compatibility:</STRONG></A> ImapBase is only available in Apache
1.1 and later.<P>
d136 2
a137 2
The ImapBase directive sets the default <CODE>base</CODE> used in
the imagemap files.  It's value is overridden by a <CODE>base</CODE>
d139 1
a139 1
<CODE>base</CODE> defaults to <CODE>http://servername/</CODE>.
d141 2
a142 2
<HR>
<P>
d144 1
a144 1
<H2>Imagemap File</H2>
d146 8
a153 8
<BLOCKQUOTE>
<CODE>directive value [x,y ...]</CODE><BR>
<CODE>directive value "Menu text" [x,y ...]</CODE><BR>
<CODE>directive value x,y ... "Menu text"</CODE><BR>
</BLOCKQUOTE>
The directive is one of <CODE>base</CODE>, <CODE>default</CODE>,
<CODE>poly</CODE>, <CODE>circle</CODE>, <CODE>rect</CODE>, or
<CODE>point</CODE>.  The value is an absolute or relative URL, or one
d155 1
a155 1
<CODE>x,y</CODE> pairs separated by whitespace.  The quoted text is
d159 1
a159 1
<H3>Imagemap File Directives</H3>
d162 4
a165 4
in the imagemap file.
<DL>
<DT><CODE>base</CODE> Directive
<DD>Has the effect of <CODE>&lt;BASE HREF="value"&gt;</CODE>.  The
d167 1
a167 1
     The <CODE>base</CODE> directive overrides ImapBase as set in a
d169 3
a171 3
     of an ImapBase configuration directive, <CODE>base</CODE> defaults to
     <CODE>http://server_name/</CODE>. <BR>
     <CODE>base_uri</CODE> is synonymous with <CODE>base</CODE>.  Note that
d173 8
a180 8
<P>
<DT><CODE>default</CODE> Directive
<DD>The action taken if the coordinates given do not fit any of the
     <CODE>poly</CODE>, <CODE>circle</CODE> or <CODE>rect</CODE>
     directives, and there are no <CODE>point</CODE> directives.  Defaults
     to <CODE>nocontent</CODE> in the absence of an ImapDefault
     configuration setting, causing a status code of <CODE>204 No
     Content</CODE> to be returned.  The client should keep the same
d182 3
a184 3
<P>
<DT><CODE>poly</CODE> Directive
<DD>Takes three to one-hundred points, and is obeyed if the user selected
d186 3
a188 3
<P>
<DT><CODE>circle</CODE>
<DD>Takes the center coordinates of a circle and a point on the circle. Is
d190 3
a192 3
<P>
<DT><CODE>rect</CODE> Directive
<DD>Takes the coordinates of two opposing corners of a rectangle.  Obeyed
d194 3
a196 3
<P>
<DT><CODE>point</CODE> Directive
<DD>Takes a single point.  The point directive closest to the user
d198 2
a199 2
     Note that <CODE>default</CODE> will not be followed if a
     <CODE>point</CODE> directive is present and valid coordinates are
d201 1
a201 1
</DL>
d205 1
a205 1
<H3>Values</H3>
d207 3
a209 3
<DL>
  <DT>a URL
  <DD>The URL can be relative or absolute URL.  Relative URLs can
d211 6
a216 6
       <CODE>base</CODE> value. <BR>
       <CODE>base</CODE> itself will not resolved according to the current
       value. A statement <CODE>base mailto:</CODE> will work properly, though.
<P>
  <DT><CODE>map</CODE>
  <DD>Equivalent to the URL of the imagemap file itself.  No
d219 11
a229 11
<P>
  <DT><CODE>menu</CODE>
  <DD>Synonymous with <CODE>map</CODE>.
<P>
  <DT><CODE>referer</CODE>
  <DD>Equivalent to the URL of the referring document.
       Defaults to <CODE>http://servername/</CODE> if no Referer:
       header was present.
<P>
  <DT><CODE>nocontent</CODE>
  <DD>Sends a status code of <CODE>204 No Content</CODE>,
d231 12
a242 12
       all but <CODE>base</CODE>.
<P>
  <DT><CODE>error</CODE>
  <DD>Fails with a <CODE>500 Server Error</CODE>.  Valid for all but
       <CODE>base</CODE>, but sort of silly for anything but
       <CODE>default</CODE>.
</DL>

<H3>Coordinates</H3>
<DL>
  <DT><CODE>0,0 200,200</CODE>
  <DD>A coordinate consists of an <TT>x</TT> and a <TT>y</TT> value
d245 8
a252 8
       user select the coordinate <CODE>0,0</CODE>, it is as if
       no coordinate had been selected.
</DL>

<H3>Quoted Text</H3>
<DL>
  <DT><CODE>"Menu Text"</CODE>
  <DD>After the value or after the coordinates, the line optionally may
d254 2
a255 2
       text for the link if a menu is generated:<BR>
     <CODE>&lt;a HREF="http://foo.com/"&gt;Menu text&lt;/a&gt;</CODE><BR>
d257 2
a258 2
       as the text:<BR>
     <CODE>&lt;a HREF="http://foo.com/"&gt;http://foo.com&lt;/a&gt;</CODE><BR>
d260 1
a260 1
</DL>
d262 1
a262 1
<HR>
d264 19
a282 19
<H2>Example Mapfile</H2>
<BLOCKQUOTE><CODE>
#Comments are printed in a 'formatted' or 'semiformatted' menu. <BR>
#And can contain html tags. &lt;hr&gt; <BR>
base referer  <BR>
poly map "Could I have a menu, please?"  0,0 0,10 10,10 10,0 <BR>
rect .. 0,0 77,27 "the directory of the referer"<BR>
circle http://www.inetnebr.com/lincoln/feedback/ 195,0 305,27 <BR>
rect another_file "in same directory as referer" 306,0 419,27  <BR>
point http://www.zyzzyva.com/ 100,100 <BR>
point http://www.tripod.com/  200,200 <BR>
rect mailto:nate@@tripod.com 100,150 200,0 "Bugs?" <BR>
</CODE></BLOCKQUOTE>
<P>

<H2>Referencing your mapfile</H2>
<BLOCKQUOTE><CODE>
&lt;A HREF="/maps/imagemap1.map"&gt; <BR>
&lt;IMG ISMAP SRC="/images/imagemap1.gif"&gt; <BR>
d284 1
a284 1
</CODE></BLOCKQUOTE><P>
a286 1

d288 1
a288 1
 Apache HTTP Server Version 1.3
@


1.1.1.3
log
@import apache 1.3.26 + mod_ssl 2.8.10
@
text
@d1 341
a341 2
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
a342 369
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="generator" content="HTML Tidy, see www.w3.org" />

    <title>Apache module mod_imap</title>
  </head>
  <!-- Background white, links blue (unvisited), navy (visited), red (active) -->

  <body bgcolor="#FFFFFF" text="#000000" link="#0000FF"
  vlink="#000080" alink="#FF0000">
        <div align="CENTER">
      <img src="../images/sub.gif" alt="[APACHE DOCUMENTATION]" /> 

      <h3>Apache HTTP Server Version 1.3</h3>
    </div>


    <h1 align="CENTER">Module mod_imap</h1>

    <p>This module provides for server-side imagemap
    processing.</p>

    <p><a href="module-dict.html#Status"
    rel="Help"><strong>Status:</strong></a> Base<br />
     <a href="module-dict.html#SourceFile"
    rel="Help"><strong>Source File:</strong></a> mod_imap.c<br />
     <a href="module-dict.html#ModuleIdentifier"
    rel="Help"><strong>Module Identifier:</strong></a>
    imap_module<br />
     <a href="module-dict.html#compatibility"
    rel="Help"><strong>Compatibility:</strong></a> Available in
    Apache 1.1 and later.</p>

    <h2>Summary</h2>

    <p>This module processes <code>.map</code> files, thereby
    replacing the functionality of the <code>imagemap</code> CGI
    program. Any directory or document type configured to use the
    handler <code>imap-file</code> (using either <code><a
    href="mod_mime.html#addhandler">AddHandler</a></code> or
    <code><a href="mod_mime.html#sethandler">SetHandler</a></code>)
    will be processed by this module.</p>

    <p>The following directive will activate files ending with
    <code>.map</code> as imagemap files:</p>

    <blockquote>
      <code>AddHandler imap-file map</code>
    </blockquote>
    Note that the following is still supported: 

    <blockquote>
      <code>AddType application/x-httpd-imap map</code>
    </blockquote>
    However, we are trying to phase out "magic MIME types" so we
    are deprecating this method. 

    <h2>Directives</h2>

    <ul>
      <li><a href="#imapmenu">ImapMenu</a></li>

      <li><a href="#imapdefault">ImapDefault</a></li>

      <li><a href="#imapbase">ImapBase</a></li>
    </ul>

    <h2>New Features</h2>
    The imagemap module adds some new features that were not
    possible with previously distributed imagemap programs. 

    <ul>
      <li>URL references relative to the Referer: information.</li>

      <li>Default &lt;BASE&gt; assignment through a new map
      directive <code>base</code>.</li>

      <li>No need for <code>imagemap.conf</code> file.</li>

      <li>Point references.</li>

      <li>Configurable generation of imagemap menus.</li>
    </ul>

    <h2>Imagemap File</h2>
    The lines in the imagemap files can have one of several
    formats: 

    <blockquote>
      <code>directive value [x,y ...]</code><br />
       <code>directive value "Menu text" [x,y ...]</code><br />
       <code>directive value x,y ... "Menu text"</code><br />
    </blockquote>
    The directive is one of <code>base</code>,
    <code>default</code>, <code>poly</code>, <code>circle</code>,
    <code>rect</code>, or <code>point</code>. The value is an
    absolute or relative URL, or one of the special values listed
    below. The coordinates are <code>x,y</code> pairs separated by
    whitespace. The quoted text is used as the text of the link if
    a imagemap menu is generated. Lines beginning with '#' are
    comments. 

    <h3>Imagemap File Directives</h3>
    There are six directives allowed in the imagemap file. The
    directives can come in any order, but are processed in the
    order they are found in the imagemap file. 

    <dl>
      <dt><code>base</code> Directive</dt>

      <dd>Has the effect of <code>&lt;BASE HREF="value"&gt;</code>.
      The non-absolute URLs of the map-file are taken relative to
      this value. The <code>base</code> directive overrides
      ImapBase as set in a .htaccess file or in the server
      configuration files. In the absence of an ImapBase
      configuration directive, <code>base</code> defaults to
      <code>http://server_name/</code>.<br />
       <code>base_uri</code> is synonymous with <code>base</code>.
      Note that a trailing slash on the URL is significant.</dd>

      <dt><code>default</code> Directive</dt>

      <dd>The action taken if the coordinates given do not fit any
      of the <code>poly</code>, <code>circle</code> or
      <code>rect</code> directives, and there are no
      <code>point</code> directives. Defaults to
      <code>nocontent</code> in the absence of an ImapDefault
      configuration setting, causing a status code of <code>204 No
      Content</code> to be returned. The client should keep the
      same page displayed.</dd>

      <dt><code>poly</code> Directive</dt>

      <dd>Takes three to one-hundred points, and is obeyed if the
      user selected coordinates fall within the polygon defined by
      these points.</dd>

      <dt><code>circle</code></dt>

      <dd>Takes the center coordinates of a circle and a point on
      the circle. Is obeyed if the user selected point is with the
      circle.</dd>

      <dt><code>rect</code> Directive</dt>

      <dd>Takes the coordinates of two opposing corners of a
      rectangle. Obeyed if the point selected is within this
      rectangle.</dd>

      <dt><code>point</code> Directive</dt>

      <dd>Takes a single point. The point directive closest to the
      user selected point is obeyed if no other directives are
      satisfied. Note that <code>default</code> will not be
      followed if a <code>point</code> directive is present and
      valid coordinates are given.</dd>
    </dl>

    <h3>Values</h3>
    The values for each of the directives can any of the following:
    

    <dl>
      <dt>a URL</dt>

      <dd>The URL can be relative or absolute URL. Relative URLs
      can contain '..' syntax and will be resolved relative to the
      <code>base</code> value.<br />
       <code>base</code> itself will not resolved according to the
      current value. A statement <code>base mailto:</code> will
      work properly, though.</dd>

      <dt><code>map</code></dt>

      <dd>Equivalent to the URL of the imagemap file itself. No
      coordinates are sent with this, so a menu will be generated
      unless ImapMenu is set to 'none'.</dd>

      <dt><code>menu</code></dt>

      <dd>Synonymous with <code>map</code>.</dd>

      <dt><code>referer</code></dt>

      <dd>Equivalent to the URL of the referring document. Defaults
      to <code>http://servername/</code> if no Referer: header was
      present.</dd>

      <dt><code>nocontent</code></dt>

      <dd>Sends a status code of <code>204 No Content</code>,
      telling the client to keep the same page displayed. Valid for
      all but <code>base</code>.</dd>

      <dt><code>error</code></dt>

      <dd>Fails with a <code>500 Server Error</code>. Valid for all
      but <code>base</code>, but sort of silly for anything but
      <code>default</code>.</dd>
    </dl>

    <h3>Coordinates</h3>

    <dl>
      <dt><code>0,0 200,200</code></dt>

      <dd>A coordinate consists of an <tt>x</tt> and a <tt>y</tt>
      value separated by a comma. The coordinates are separated
      from each other by whitespace. To accommodate the way Lynx
      handles imagemaps, should a user select the coordinate
      <code>0,0</code>, it is as if no coordinate had been
      selected.</dd>
    </dl>

    <h3>Quoted Text</h3>

    <dl>
      <dt><code>"Menu Text"</code></dt>

      <dd>After the value or after the coordinates, the line
      optionally may contain text within double quotes. This string
      is used as the text for the link if a menu is
      generated:<br />
       <code>&lt;a HREF="http://foo.com/"&gt;Menu
      text&lt;/a&gt;</code><br />
       If no quoted text is present, the name of the link will be
      used as the text:<br />
       <code>&lt;a
      HREF="http://foo.com/"&gt;http://foo.com&lt;/a&gt;</code><br />
       It is impossible to escape double quotes within this
      text.</dd>
    </dl>

    <h2>Example Mapfile</h2>

    <blockquote>
      <code>#Comments are printed in a 'formatted' or
      'semiformatted' menu.<br />
       #And can contain html tags. &lt;hr&gt;<br />
       base referer<br />
       poly map "Could I have a menu, please?" 0,0 0,10 10,10
      10,0<br />
       rect .. 0,0 77,27 "the directory of the referer"<br />
       circle http://www.inetnebr.com/lincoln/feedback/ 195,0
      305,27<br />
       rect another_file "in same directory as referer" 306,0
      419,27<br />
       point http://www.zyzzyva.com/ 100,100<br />
       point http://www.tripod.com/ 200,200<br />
       rect mailto:nate@@tripod.com 100,150 200,0 "Bugs?"<br />
      </code>
    </blockquote>

    <h2>Referencing your mapfile</h2>

    <blockquote>
      <code>&lt;A HREF="/maps/imagemap1.map"&gt;<br />
       &lt;IMG ISMAP SRC="/images/imagemap1.gif"&gt;<br />
       &lt;/A&gt;</code>
    </blockquote>
    <hr />

    <h2><a id="imapmenu" name="imapmenu">ImapMenu</a>
    directive</h2>
    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> ImapMenu
    none|formatted|semiformatted|unformatted<br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> server config, virtual
    host, directory, .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> Indexes<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_imap<br />
     <a href="directive-dict.html#Compatibility"
    rel="Help"><strong>Compatibility:</strong></a> ImapMenu is only
    available in Apache 1.1 and later. 

    <p>The ImapMenu directive determines the action taken if an
    imagemap file is called without valid coordinates.</p>

    <dl>
      <dt><code>none</code></dt>

      <dd>If ImapMenu is <code>none</code>, no menu is generated,
      and the <code>default</code> action is performed.</dd>

      <dt><code>formatted</code></dt>

      <dd>A <code>formatted</code> menu is the simplest menu.
      Comments in the imagemap file are ignored. A level one header
      is printed, then an hrule, then the links each on a separate
      line. The menu has a consistent, plain look close to that of
      a directory listing.</dd>

      <dt><code>semiformatted</code></dt>

      <dd>In the <code>semiformatted</code> menu, comments are
      printed where they occur in the imagemap file. Blank lines
      are turned into HTML breaks. No header or hrule is printed,
      but otherwise the menu is the same as a
      <code>formatted</code> menu.</dd>

      <dt><code>unformatted</code></dt>

      <dd>Comments are printed, blank lines are ignored. Nothing is
      printed that does not appear in the imagemap file. All breaks
      and headers must be included as comments in the imagemap
      file. This gives you the most flexibility over the appearance
      of your menus, but requires you to treat your map files as
      HTML instead of plaintext.</dd>
    </dl>
    <hr />

    <h2><a id="imapdefault" name="imapdefault">ImapDefault</a>
    directive</h2>
    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> ImapDefault
    error|nocontent|map|referer|<em>URL</em><br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> server config, virtual
    host, directory, .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> Indexes<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_imap<br />
     <a href="directive-dict.html#Compatibility"
    rel="Help"><strong>Compatibility:</strong></a> ImapDefault is
    only available in Apache 1.1 and later. 

    <p>The ImapDefault directive sets the default
    <code>default</code> used in the imagemap files. Its value is
    overridden by a <code>default</code> directive within the
    imagemap file. If not present, the <code>default</code> action
    is <code>nocontent</code>, which means that a <code>204 No
    Content</code> is sent to the client. In this case, the client
    should continue to display the original page.</p>
    <hr />

    <h2><a id="imapbase" name="imapbase">ImapBase</a>
    directive</h2>
    <a href="directive-dict.html#Syntax"
    rel="Help"><strong>Syntax:</strong></a> ImapBase
    map|referer|<em>URL</em><br />
     <a href="directive-dict.html#Context"
    rel="Help"><strong>Context:</strong></a> server config, virtual
    host, directory, .htaccess<br />
     <a href="directive-dict.html#Override"
    rel="Help"><strong>Override:</strong></a> Indexes<br />
     <a href="directive-dict.html#Module"
    rel="Help"><strong>Module:</strong></a> mod_imap<br />
     <a href="directive-dict.html#Compatibility"
    rel="Help"><strong>Compatibility:</strong></a> ImapBase is only
    available in Apache 1.1 and later. 

    <p>The ImapBase directive sets the default <code>base</code>
    used in the imagemap files. Its value is overridden by a
    <code>base</code> directive within the imagemap file. If not
    present, the <code>base</code> defaults to
    <code>http://servername/</code>. 
        <hr />

    <h3 align="CENTER">Apache HTTP Server Version 1.3</h3>
    <a href="./"><img src="../images/index.gif" alt="Index" /></a>
    <a href="../"><img src="../images/home.gif" alt="Home" /></a>

    </p>
  </body>
</html>
@


1.1.1.4
log
@import apache 1.3.28 and mod_ssl 2.8.15
@
text
@d33 1
a33 1
     <a href="module-dict.html#Compatibility"
d233 2
a234 2
       If you want to use double quotes within this text, you have to
       write them as <code>&amp;quot;</code>.</dd>
@


