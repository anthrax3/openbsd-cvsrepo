head	1.24;
access;
symbols
	OPENBSD_5_5:1.20.0.4
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.15.0.4
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.2
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.14.0.4
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.2
	OPENBSD_5_0:1.13.0.4
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.2
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.12.0.14
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.10
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.12.0.12
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.12.0.8
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.12.0.6
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.12.0.4
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.11.0.4
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.10.0.2
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.8.0.12
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.10
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.8.0.8
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.6
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.4
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.8.0.2
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.6.0.8
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.6.0.6
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_9:1.6.0.4
	OPENBSD_2_8:1.6.0.2
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.5.0.2
	OPENBSD_2_7_BASE:1.5;
locks; strict;
comment	@.\" @;


1.24
date	2014.04.29.15.03.07;	author florian;	state dead;
branches;
next	1.23;

1.23
date	2014.04.18.16.48.19;	author florian;	state Exp;
branches;
next	1.22;

1.22
date	2014.03.24.11.11.49;	author mpi;	state Exp;
branches;
next	1.21;

1.21
date	2014.03.18.10.06.39;	author florian;	state Exp;
branches;
next	1.20;

1.20
date	2014.02.26.20.52.29;	author claudio;	state Exp;
branches;
next	1.19;

1.19
date	2014.01.24.15.28.03;	author florian;	state Exp;
branches;
next	1.18;

1.18
date	2014.01.24.15.26.32;	author florian;	state Exp;
branches;
next	1.17;

1.17
date	2014.01.24.15.22.11;	author florian;	state Exp;
branches;
next	1.16;

1.16
date	2013.10.21.08.47.10;	author phessler;	state Exp;
branches;
next	1.15;

1.15
date	2012.08.15.19.25.41;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2012.02.10.22.50.48;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2010.09.03.11.22.36;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.31.19.20.30;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2006.08.10.20.07.38;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2005.12.23.15.04.03;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2005.12.23.15.00.18;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2003.01.18.23.53.49;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2002.08.30.07.23.50;	author itojun;	state Exp;
branches;
next	1.6;

1.6
date	2000.06.12.16.37.09;	author itojun;	state Exp;
branches;
next	1.5;

1.5
date	2000.04.20.17.43.46;	author angelos;	state Exp;
branches;
next	1.4;

1.4
date	2000.04.20.07.49.47;	author angelos;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.12.21.47.58;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	2000.02.16.06.09.26;	author itojun;	state Exp;
branches;
next	1.1;

1.1
date	2000.02.16.06.04.27;	author itojun;	state Exp;
branches;
next	;


desc
@@


1.24
log
@Move traceroute6 to the attic, fully merged into traceroute.
@
text
@.\"	$OpenBSD: traceroute6.8,v 1.23 2014/04/18 16:48:19 florian Exp $
.\"	$KAME: traceroute6.8,v 1.9 2002/08/30 03:56:20 onoe Exp $
.\"
.\" Copyright (C) 1995, 1996, 1997, and 1998 WIDE Project.
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the project nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE PROJECT AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE PROJECT OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: April 18 2014 $
.Dt TRACEROUTE6 8
.Os
.\"
.Sh NAME
.Nm traceroute6
.Nd print the route IPv6 packets take to network host
.\"
.Sh SYNOPSIS
.Nm traceroute6
.Op Fl AcDdIlnSv
.Op Fl f Ar firsthop
.Op Fl m Ar hoplimit
.Op Fl p Ar port
.Op Fl q Ar probes
.Op Fl s Ar src
.Op Fl V Ar rtable
.Op Fl w Ar waittime
.Ar host
.Op Ar datalen
.\"
.Sh DESCRIPTION
The
.Nm
utility details the route IPv6 packets take to reach a network host.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl A
Look up the AS number for each hop address.
Uses the DNS service described at
.Lk http://www.team-cymru.org/Services/ip-to-asn.html .
.It Fl c
Do not increment the destination port number in successive UDP packets.
Rather, all UDP packets will have the same destination port, as set via the
.Fl p
flag (or 33434 if none is specified).
.It Fl D
Dump the packet data to standard error before transmitting it.
.It Fl d
Debug mode.
.It Fl f Ar firsthop
Specify how many hops to skip.
.It Fl I
Use ICMP6 ECHO instead of UDP datagrams.
.It Fl l
Display the hop limit value of the returned packet.
This is useful for checking for asymmetric routing.
.It Fl m Ar hoplimit
Specify a maximum hoplimit.
.It Fl n
Do not resolve numeric addresses.
.It Fl p Ar port
Set UDP port number to
.Ar port .
.It Fl q Ar probes
Set the number of probes per hop count to
.Ar probes .
.It Fl S
Print how many probes were not answered for each hop.
.It Fl s Ar src
Specify the source IPv6 address to be used.
.It Fl v
Be verbose.
.It Fl V Ar rtable
Set the routing table to be used.
.It Fl w Ar waittime
Specify the time delay between probes.
.El
.Sh EXIT STATUS
.Ex -std traceroute6
.\"
.Sh SEE ALSO
.Xr netstat 1 ,
.Xr ping 8 ,
.Xr ping6 8 ,
.Xr traceroute 8
.\"
.Sh HISTORY
The
.Nm
command first appeared in the WIDE Hydrangea IPv6 protocol stack kit.
@


1.23
log
@Drop rh0 support (-g), it doesn't work anyway.
OK benno@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.22 2014/03/24 11:11:49 mpi Exp $
d31 1
a31 1
.Dd $Mdocdate: March 24 2014 $
@


1.22
log
@Remove "-r" option from ping(8) and traceroute{,6}(8).  You've probably
never heard about it, it was to bypass the routing tables, not available
for IPv6 and we're going to always use the routing tables soon.

ok florian@@, man pages ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.21 2014/03/18 10:06:39 florian Exp $
d31 1
a31 1
.Dd $Mdocdate: March 18 2014 $
a42 1
.Op Fl g Ar gateway
a73 6
.It Fl g Ar gateway
Specify an intermediate gateway
.Po
.Nm
uses a routing header
.Pc .
@


1.21
log
@Free -l flag, by default print hostnames and numeric addresses, like
traceroute does.
Immediatly reclaim -l flag to print hop limit of received pkg like
traceroute does.
OK benno
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.20 2014/02/26 20:52:29 claudio Exp $
d31 1
a31 1
.Dd $Mdocdate: February 26 2014 $
d41 1
a41 1
.Op Fl AcDdIlnrSv
a95 11
.It Fl r
Bypass the normal routing tables and send directly to a host on an attached
network.
If the host is not on a directly attached network,
an error is returned.
This option corresponds to the
.Dv SO_DONTROUTE
socket option;
it can be used to ping a local host through an interface
that has no route through it
(e.g. after the interface was dropped by a routing daemon).
@


1.20
log
@Again the default is not 0.
Ok many
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.19 2014/01/24 15:28:03 florian Exp $
d31 1
a31 1
.Dd $Mdocdate: January 24 2014 $
d84 2
a85 8
Print both host hostnames and numeric addresses.
Normally
.Nm
prints only hostnames if
.Fl n
is not specified, and only numeric addresses if
.Fl n
is specified.
@


1.19
log
@Implement -S; from traceroute; reduces diff to traceroute.
OK benno@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.18 2014/01/24 15:26:32 florian Exp $
a120 1
The default is 0.
@


1.18
log
@Implement -D; from traceroute; reduces diff to traceroute.
While here add dump() prototype in traceroute
OK benno@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.17 2014/01/24 15:22:11 florian Exp $
d41 1
a41 1
.Op Fl AcDdIlnrv
d113 2
@


1.17
log
@Implement -c flag; from traceroute; reduces diff to traceroute
OK benno@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.16 2013/10/21 08:47:10 phessler Exp $
d31 1
a31 1
.Dd $Mdocdate: October 21 2013 $
d41 1
a41 1
.Op Fl AcdIlnrv
d69 2
@


1.16
log
@More rdomain / rtable support for useful diagnostic tools


OK claudio@@ bluhm@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.15 2012/08/15 19:25:41 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: August 15 2012 $
d41 1
a41 1
.Op Fl AdIlnrv
d64 5
@


1.15
log
@use Lk for links;
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.14 2012/02/10 22:50:48 sthen Exp $
d31 1
a31 1
.Dd $Mdocdate: February 10 2012 $
d48 1
d110 3
@


1.14
log
@Add ASN printing support to traceroute6, mostly the same as code in
traceroute with a few string changes. Help/ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.13 2010/09/03 11:22:36 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: September 3 2010 $
d62 1
a62 1
http://www.team-cymru.org/Services/ip-to-asn.html.
@


1.13
log
@add an EXIT STATUS section for /usr/sbin;
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.12 2007/05/31 19:20:30 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate: May 31 2007 $
d41 1
a41 1
.Op Fl dIlnrv
d59 4
@


1.12
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.11 2006/08/10 20:07:38 jmc Exp $
d31 1
a31 1
.Dd $Mdocdate$
d108 1
a108 1
.Pp
@


1.11
log
@- better .Nd
- remove some unneccessary .Bk/.Ek
- provide a DESCRIPTION (albeit brief)
- text improvements
- use .Ex
- update SEE ALSO
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.10 2005/12/23 15:04:03 jmc Exp $
d31 1
a31 1
.Dd May 17, 1998
@


1.10
log
@- no need to use .Bk/.Ek after every option
- make -s more consistent w/ rest of the page
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.9 2005/12/23 15:00:18 jmc Exp $
d37 1
a37 1
.Nd "print the route IPv6 packets will take to the destination"
a40 1
.Bk -words
a41 2
.Ek
.Bk -words
d49 1
a49 1
.Ar target
a50 1
.Ek
d53 5
d62 1
a62 1
Specify how many hops to skip in trace.
d64 1
a64 1
Specify intermediate gateway
d67 1
a67 1
uses routing header
d81 1
a81 1
Specify maximum hoplimit.
d83 1
a83 1
Do not resolve numeric address to hostname.
d100 1
a100 1
(e.g., after the interface was dropped by a routing daemon).
d108 2
a109 5
.\"
.Sh RETURN VALUES
The
.Nm
command will exit with 0 on success, and non-zero on errors.
d112 1
d120 1
a120 1
command first appeared in WIDE hydrangea IPv6 protocol stack kit.
@


1.9
log
@fill in the blanks for -r;

from dd@@freebsd, -r1.15, but synced with our traceroute(8) -r;
ok djm claudio
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.8 2003/01/18 23:53:49 deraadt Exp $
a45 2
.Ek
.Bk -words
a46 2
.Ek
.Bk -words
a47 2
.Ek
.Bk -words
a48 2
.Ek
.Bk -words
a49 2
.Ek
.Bk -words
a50 2
.Ek
.Bk -words
a51 2
.Ek
.Bk -words
d101 1
a101 2
.Ar Src
specifies the source IPv6 address to be used.
@


1.8
log
@inet6 fixes from jmc@@prioris.mini.pw.edu.pl
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.7 2002/08/30 07:23:50 itojun Exp $
d104 10
@


1.7
log
@have -I option, which causes traceroute6 to use ICMPv6 echo request for probing
(instead of udp).
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.6 2000/06/12 16:37:09 itojun Exp $
a88 2
.It Fl m Ar hoplimit
Specify maximum hoplimit.
d93 2
d101 1
a101 1
Set the number of probe per hop count to
d110 1
a110 1
Specify the delay time between probes.
@


1.6
log
@sync with latest kame traceroute6.  print src address.  -g (source route).
dont choke with unexpected icmp6 packet.
@
text
@d1 2
a2 2
.\"	$OpenBSD: traceroute6.8,v 1.5 2000/04/20 17:43:46 angelos Exp $
.\"	$KAME: traceroute6.8,v 1.8 2000/06/12 16:29:18 itojun Exp $
d42 1
a42 1
.Op Fl dlnrv
d82 2
a83 2
.It Fl m Ar hoplimit
Specify maximum hoplimit.
d89 2
@


1.5
log
@Change -b to -f, similar to Solaris.
@
text
@d1 2
a2 1
.\"	$OpenBSD: traceroute6.8,v 1.4 2000/04/20 07:49:47 angelos Exp $
a30 2
.\"     KAME Id: traceroute6.8,v 1.4 2000/02/16 06:08:39 itojun Exp
.\"
d40 2
a41 1
.Nm
d43 2
d46 5
d52 2
d55 2
d58 2
d61 2
d64 2
d68 1
d76 6
d112 3
a114 2
.Nm Traceroute6
will exit with 0 on success, and non-zero on errors.
a124 3
.\"
.\" .Sh BUGS
.\" (to be written)
@


1.4
log
@Same as the traceroute commit just now; add an option for skipping
nodes at the beginning of the trace.
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.3 2000/04/12 21:47:58 aaron Exp $
d43 1
a43 1
.Op Fl b Ar minhops
d56 1
a56 1
.It Fl b Ar minhops
@


1.3
log
@Trailing whitespace begone!
@
text
@d1 1
a1 1
.\"	$OpenBSD: traceroute6.8,v 1.2 2000/02/16 06:09:26 itojun Exp $
d43 1
d56 2
@


1.2
log
@correct typo and missing command line options (target and datalen).
@
text
@d1 2
a2 2
.\"	$OpenBSD$
.\" 
d5 1
a5 1
.\" 
d17 1
a17 1
.\" 
@


1.1
log
@add traceroute6 (oops, forgot to bring it in)
@
text
@d1 1
a1 1
.\"	$OpeNBSD$
d30 1
a30 1
.\"     KAME Id: traceroute6.8,v 1.2 1999/12/10 04:58:49 itojun Exp
d34 1
a34 1
.Os KAME
d48 2
@

