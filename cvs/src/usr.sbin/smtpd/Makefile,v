head	1.16;
access;
symbols
	OPENBSD_6_2_BASE:1.16
	OPENBSD_6_1:1.16.0.4
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.15.0.6
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.2
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.12.0.12
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.12.0.6
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.12.0.8
	OPENBSD_5_6_BASE:1.12
	OPENBSD_5_5:1.12.0.4
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.2
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.9.0.16
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.14
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.12
	OPENBSD_5_0:1.9.0.10
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.8
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.6
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.9.0.4
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.8.0.2
	OPENBSD_4_5_BASE:1.8;
locks; strict;
comment	@# @;


1.16
date	2017.02.14.16.02.13;	author gilles;	state Exp;
branches;
next	1.15;
commitid	Mshcd6bORjJBkknm;

1.15
date	2015.12.07.12.29.19;	author sunil;	state Exp;
branches;
next	1.14;
commitid	NjgUX1eM1Q27CUqm;

1.14
date	2015.11.30.19.54.25;	author jung;	state Exp;
branches;
next	1.13;
commitid	LaSdnghRSVqZPgAk;

1.13
date	2015.11.23.13.16.48;	author gilles;	state Exp;
branches;
next	1.12;
commitid	52K0xbWD1xVB5QVQ;

1.12
date	2013.07.21.09.38.51;	author eric;	state Exp;
branches;
next	1.11;

1.11
date	2013.07.20.09.06.46;	author eric;	state Exp;
branches;
next	1.10;

1.10
date	2013.05.24.17.03.14;	author eric;	state Exp;
branches;
next	1.9;

1.9
date	2009.03.18.01.56.52;	author jacekm;	state Exp;
branches;
next	1.8;

1.8
date	2008.12.17.22.59.36;	author jacekm;	state Exp;
branches;
next	1.7;

1.7
date	2008.12.05.03.28.37;	author gilles;	state Exp;
branches;
next	1.6;

1.6
date	2008.12.04.15.16.08;	author gilles;	state Exp;
branches;
next	1.5;

1.5
date	2008.12.04.13.36.58;	author todd;	state Exp;
branches;
next	1.4;

1.4
date	2008.12.03.20.11.35;	author gilles;	state Exp;
branches;
next	1.3;

1.3
date	2008.11.17.21.23.54;	author gilles;	state Exp;
branches;
next	1.2;

1.2
date	2008.11.10.17.24.24;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.01.21.35.28;	author gilles;	state Exp;
branches;
next	;


desc
@@


1.16
log
@prepare Makefiles but don't link to the build yet
@
text
@#	$OpenBSD: Makefile,v 1.15 2015/12/07 12:29:19 sunil Exp $

.include <bsd.own.mk>

SUBDIR =	smtpd
SUBDIR+=	smtpctl
#SUBDIR+=	mail

.include <bsd.subdir.mk>
@


1.15
log
@Merge makemap(8) into smtpctl(8).

Ok gilles@@, jung@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2015/11/30 19:54:25 jung Exp $
d7 1
@


1.14
log
@remove table-passwd, table-sqlite, and table-ldap
about 4k lines seldom used code

people who rely on this install mail/opensmtpd-extras

direction discussed (and agreed) with many

ok gilles
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2015/11/23 13:16:48 gilles Exp $
a6 1
SUBDIR+=	makemap
@


1.13
log
@cleanup
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2013/07/21 09:38:51 eric Exp $
a7 4

SUBDIR+=	table-ldap
SUBDIR+=	table-passwd
SUBDIR+=	table-sqlite
@


1.12
log
@Add a "passwd" table backend. Useful for sharing vusers with other programs.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2013/07/20 09:06:46 eric Exp $
d5 4
a8 1
SUBDIR = makemap smtpd smtpctl
@


1.11
log
@Update ldap and sqlite table backends and provide them as external backends.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2013/05/24 17:03:14 eric Exp $
d7 1
@


1.10
log
@sync with OpenSMTPD 5.3.2

ok gilles@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.58 2013/01/26 09:37:24 gilles Exp $
d6 2
@


1.9
log
@unbreak make release, spotted by todd and kurt
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2008/12/17 22:59:36 jacekm Exp $
@


1.8
log
@Merge newaliases into makemap.

ok gilles@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2008/12/05 03:28:37 gilles Exp $
a5 4

distribution:
	${INSTALL} -C -o root -g wheel -m 0644 ${.CURDIR}/smtpd.conf \
		${DESTDIR}/etc/mail/smtpd.conf
@


1.7
log
@- smtpctl utility to control the smtpd, don't expect too much yet as it is
	just an empty clone of relayctl with the glue needed to have it
	exchange imsg with smtpd correctly. code mostly by pyr@@, reviewed
	by chl@@ and I a while ago.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2008/12/04 15:16:08 gilles Exp $
d5 1
a5 1
SUBDIR = makemap newaliases smtpd smtpctl
@


1.6
log
@- allow smtpd to build again
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2008/12/04 13:36:58 todd Exp $
d5 1
a5 1
SUBDIR = makemap newaliases smtpd
@


1.5
log
@move smtpd build to smtpd subdir so we can traverse to newaliases and makemap
ok gilles@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2008/12/03 20:11:35 gilles Exp $
d5 1
a5 1
SUBDIRS = makemap newaliases smtpd
@


1.4
log
@- these were used to debug the previous queue scheduler, they are no longer
	needed and aren't referenced anywhere any longer
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2008/11/17 21:23:54 gilles Exp $
d3 1
a3 7
PROG=		smtpd
SRCS=		parse.y log.c config.c buffer.c imsg.c			\
		smtpd.c lka.c mfa.c queue.c mta.c mda.c control.c	\
		smtp.c	smtp_session.c store.c				\
		ssl.c ssl_privsep.c dns.c aliases.c forward.c		\
		map.c
MAN=		smtpd.8 smtpd.conf.5
d5 1
a5 9
LDADD=		-levent -lutil -lssl -lcrypto
DPADD=		${LIBEVENT} ${LIBSSL} ${LIBCRYPTO}
CFLAGS=		-g3 -ggdb -I${.CURDIR}
CFLAGS+=	-Wall -Wstrict-prototypes -Wmissing-prototypes
CFLAGS+=	-Wmissing-declarations
CFLAGS+=	-Wshadow -Wpointer-arith -Wcast-qual
CFLAGS+=	-Wsign-compare -Wbounded
#CFLAGS+=	-Werror # during development phase (breaks some archs)
YFLAGS=
d7 5
a11 1
.include <bsd.prog.mk>
@


1.3
log
@- we don't need this anymore
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2008/11/10 17:24:24 deraadt Exp $
d6 1
a6 1
		smtp.c	smtp_session.c store.c debug.c			\
@


1.2
log
@spaces fixed while reading code
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1 2008/11/01 21:35:28 gilles Exp $
d4 1
a4 1
SRCS=		parse.y atomic.c log.c config.c buffer.c imsg.c		\
@


1.1
log
@smtpd is a smtp server implementation for OpenBSD. It is a work in progress
which still lacks many features. bringing it in tree will help working on it
more easily.

"at this stage it should go in" henning@@, "move ahead" deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD$
d4 1
a4 1
SRCS=		parse.y atomic.c log.c config.c buffer.c imsg.c 	\
@

