head	1.57;
access;
symbols
	OPENBSD_6_2:1.57.0.2
	OPENBSD_6_2_BASE:1.57
	OPENBSD_6_1:1.56.0.4
	OPENBSD_6_1_BASE:1.56
	OPENBSD_6_0:1.53.0.4
	OPENBSD_6_0_BASE:1.53
	OPENBSD_5_9:1.51.0.2
	OPENBSD_5_9_BASE:1.51
	OPENBSD_5_8:1.50.0.6
	OPENBSD_5_8_BASE:1.50
	OPENBSD_5_7:1.50.0.2
	OPENBSD_5_7_BASE:1.50
	OPENBSD_5_6:1.49.0.6
	OPENBSD_5_6_BASE:1.49
	OPENBSD_5_5:1.49.0.4
	OPENBSD_5_5_BASE:1.49
	OPENBSD_5_4:1.47.0.8
	OPENBSD_5_4_BASE:1.47
	OPENBSD_5_3:1.47.0.6
	OPENBSD_5_3_BASE:1.47
	OPENBSD_5_2:1.47.0.4
	OPENBSD_5_2_BASE:1.47
	OPENBSD_5_1_BASE:1.47
	OPENBSD_5_1:1.47.0.2
	OPENBSD_5_0:1.43.0.2
	OPENBSD_5_0_BASE:1.43
	OPENBSD_4_9:1.41.0.2
	OPENBSD_4_9_BASE:1.41
	OPENBSD_4_8:1.39.0.2
	OPENBSD_4_8_BASE:1.39
	OPENBSD_4_7:1.37.0.2
	OPENBSD_4_7_BASE:1.37
	OPENBSD_4_6:1.32.0.4
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.30.0.2
	OPENBSD_4_5_BASE:1.30
	OPENBSD_4_4:1.29.0.4
	OPENBSD_4_4_BASE:1.29
	OPENBSD_4_3:1.29.0.2
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.28.0.2
	OPENBSD_4_2_BASE:1.28
	OPENBSD_4_1:1.23.0.2
	OPENBSD_4_1_BASE:1.23
	OPENBSD_4_0:1.21.0.4
	OPENBSD_4_0_BASE:1.21
	OPENBSD_3_9:1.21.0.2
	OPENBSD_3_9_BASE:1.21
	OPENBSD_3_8:1.16.0.4
	OPENBSD_3_8_BASE:1.16
	OPENBSD_3_7:1.16.0.2
	OPENBSD_3_7_BASE:1.16
	OPENBSD_3_6:1.2.0.4
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2;
locks; strict;
comment	@.\" @;


1.57
date	2017.09.18.14.10.11;	author espie;	state Exp;
branches;
next	1.56;
commitid	R3dpvhdXfJQzR76i;

1.56
date	2017.02.27.21.53.11;	author rpe;	state Exp;
branches;
next	1.55;
commitid	7XQfqtkSXX43wr6R;

1.55
date	2016.07.28.09.21.01;	author jmc;	state Exp;
branches;
next	1.54;
commitid	1GXSz0Eb3kHjs3mV;

1.54
date	2016.07.27.12.58.21;	author espie;	state Exp;
branches;
next	1.53;
commitid	bXaYV61BErAtpI1K;

1.53
date	2016.06.28.15.38.36;	author espie;	state Exp;
branches;
next	1.52;
commitid	UBYEvJt8oXHTeTWd;

1.52
date	2016.02.29.22.59.33;	author jmc;	state Exp;
branches;
next	1.51;
commitid	Ml4CIEkPW9zwjoda;

1.51
date	2015.10.07.17.52.38;	author jmc;	state Exp;
branches;
next	1.50;
commitid	wtnyUwU0yuhbcppY;

1.50
date	2014.09.08.01.27.55;	author schwarze;	state Exp;
branches;
next	1.49;
commitid	cPoapLAXYNe1fcgV;

1.49
date	2014.02.11.10.36.13;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2014.01.03.12.54.59;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2011.11.25.09.30.08;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2011.11.21.17.22.30;	author jmc;	state Exp;
branches;
next	1.45;

1.45
date	2011.11.21.12.56.31;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2011.11.21.12.06.12;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2011.07.24.10.46.10;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2011.03.19.09.32.36;	author jmc;	state Exp;
branches;
next	1.41;

1.41
date	2011.01.04.16.43.06;	author jmc;	state Exp;
branches;
next	1.40;

1.40
date	2011.01.03.19.33.46;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2010.06.09.10.25.17;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2010.05.10.09.17.55;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2010.01.11.10.16.20;	author jmc;	state Exp;
branches;
next	1.36;

1.36
date	2010.01.10.21.27.59;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.01.08.17.06.00;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2009.10.11.20.09.48;	author jmc;	state Exp;
branches;
next	1.33;

1.33
date	2009.10.11.18.41.42;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2009.04.14.17.53.58;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2009.04.13.22.44.16;	author schwarze;	state Exp;
branches;
next	1.30;

1.30
date	2008.10.26.16.16.37;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2007.10.31.14.45.06;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2007.06.20.15.41.36;	author steven;	state Exp;
branches;
next	1.27;

1.27
date	2007.06.04.18.15.19;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2007.06.04.11.42.03;	author pyr;	state Exp;
branches;
next	1.25;

1.25
date	2007.05.31.19.20.26;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2007.04.15.10.17.29;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2007.01.29.10.57.36;	author bernd;	state Exp;
branches;
next	1.22;

1.22
date	2007.01.23.11.40.26;	author bernd;	state Exp;
branches;
next	1.21;

1.21
date	2006.01.30.17.27.29;	author miod;	state Exp;
branches;
next	1.20;

1.20
date	2005.11.01.17.02.29;	author bernd;	state Exp;
branches;
next	1.19;

1.19
date	2005.10.10.09.38.29;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2005.09.07.09.40.50;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2005.09.04.22.47.56;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2005.03.13.09.19.02;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2004.12.02.00.29.04;	author xsa;	state Exp;
branches;
next	1.14;

1.14
date	2004.11.15.20.31.50;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2004.11.15.14.19.36;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2004.11.15.13.20.40;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2004.11.15.10.54.49;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2004.11.15.10.53.27;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2004.11.14.13.05.02;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2004.11.11.11.54.09;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2004.11.10.09.55.43;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2004.11.10.09.41.16;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2004.11.09.10.46.57;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2004.10.11.10.30.33;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2004.10.11.10.07.37;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2003.11.14.23.18.51;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2003.10.19.18.38.06;	author espie;	state Exp;
branches;
next	;


desc
@@


1.57
log
@document @@version
@
text
@.\"	$OpenBSD: pkg_info.1,v 1.56 2017/02/27 21:53:11 rpe Exp $
.\"
.\" Documentation and design originally from FreeBSD. All the code has
.\" been rewritten since. We keep the documentation's notice:
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" Jordan K. Hubbard
.\"
.\"
.Dd $Mdocdate: February 27 2017 $
.Dt PKG_INFO 1
.Os
.Sh NAME
.Nm pkg_info
.Nd display information on software packages
.Sh SYNOPSIS
.Nm pkg_info
.Bk -words
.Op Fl AaCcdfIKLMmPqRSstUvz
.Op Fl E Ar filename
.Op Fl e Ar pkg-name
.Op Fl l Ar str
.Op Fl Q Ar query
.Op Fl r Ar pkgspec
.Op Ar pkg-name ...
.Ek
.Sh DESCRIPTION
The
.Nm
command is used to dump out information for packages, as created by
.Xr pkg_create 1 ,
which may be still
packed up or already installed on the system with the
.Xr pkg_add 1
command.
.Pp
The
.Ar pkg-name
may be the name of an installed package, the pathname to a package
distribution file, or a URL to a package available through FTP, HTTP, HTTPS,
or SCP.
.Nm
will try to complete
.Ar pkg-name
with a version number while looking through installed packages.
.Pp
When browsing through uninstalled packages, running
.Ic pkg_info -I *.tgz
will report a summary line for each package, so that it is possible to
run
.Ic pkg_info pkgname.tgz
to obtain a longer package description, and
.Ic pkg_add -n pkgname.tgz
to check that the installation would proceed cleanly, including dependencies.
.Pp
The following command-line options are supported:
.Bl -tag -width indent
.It Fl A
Show information for all currently installed packages,
including internal packages.
.It Fl a
Show information for all currently installed packages.
.It Fl C
Show certificate information for signed packages.
.It Fl c
Show the one-line comment field for each package.
.It Fl d
Show the long-description field for each package.
.It Fl E Ar filename
Look for the package(s) that contains the given
.Ar filename .
As a faster alternative, note that there is a package, pkglocatedb, that
contains a
.Xr locate 1
database of every file in every package.
.It Fl e Ar pkg-name
This option
allows you to test for the presence of another (perhaps
prerequisite) package from a script.
If the package identified by
.Ar pkg-name
is currently installed, return 0, otherwise return 1.
In addition, the names of any package(s) found installed are printed to
stdout unless turned off using the
.Fl q
option.
.Pp
The given
.Ar pkg-name
is actually a package specification, as described in
.Xr packages-specs 7 .
For example,
.Ic pkg_info -e 'name->=1.3'
will match versions 1.3 and later of the
.Pa name
package.
.It Fl e Ar pkgpath
Another variant of this option that uses a pkgpath instead.
A pkgpath is a location within the ports tree, as described
in
.Xr pkgpath 7 .
For example,
.Ic pkg_info -e x11/kde/base3
will match any package that was compiled according to
.Pa ${PORTSDIR}/x11/kde/base3 .
.It Fl f
Show the packing-list instructions for each package.
See
.Xr pkg_create 1
and
.Xr package 5
for the various annotations.
.It Fl I
Show the index entry for each package.
.It Fl K
Prefix file names with category keyword (e.g., @@file, @@lib).
Always used together with
.Fl L .
.It Fl L
Show the files within each package.
This is different from just
viewing the packing-list, since full pathnames for everything
are generated.
.It Fl l Ar str
Prefix each information category header (see
.Fl q )
shown with
.Ar str .
This is primarily of use to front-end programs that want to request a
lot of different information fields at once for a package, but don't
necessarily want the output intermingled in such a way that they can't
organize it.
This lets you add a special token to the start of each field.
.It Fl M
Show the install-message file (if any) for each package.
.It Fl m
Only show packages tagged as manual installations.
It should omit anything
installed automatically as a dependency.
.It Fl P
Show the
.Xr pkgpath 7
for each package.
You can easily build a subdirlist with this.
.It Fl Q Ar query
Show all packages in $PKG_PATH which match the given
.Ar query .
.It Fl q
Be
.Dq quiet
in emitting report headers and such, just dump the
raw info (basically, assume a non-human reading).
.It Fl R
Show which packages require a given package.
.It Fl r Ar pkgspec
Check a list for a given
.Ar pkgspec .
The following arguments are names of packages to verify.
Exit status will be augmented by 2 if none of the packages do match.
.It Fl S
Show the update signature for each package.
The
.Sq update signature
is a unique tag showing the package name, a global version number,
and the version number
of every run time dependency and shared library used to build this package.
.It Fl s
Show an estimate of the total size of each package.
.It Fl t
Show packages which are not required by any other packages.
.It Fl U
Show the deinstall-message file (if any) for each package.
.It Fl v
Turn on verbose output.
.It Fl z
Fuzzy listing option, often used together with
.Fl m .
Only shows stems, flavors and branches information.
To be reused with
.Xr pkg_add 1
.Fl l
to recreate a package installation with different versions and no ambiguity.
Note that this intentionally does not include firmware, as they are not
handled by
.Xr pkg_add 1 .
.El
.Sh ENVIRONMENT
.Bl -tag -width PKG_TMPDIR
.It Ev PKG_DBDIR
The standard package database directory,
.Pa /var/db/pkg ,
can be overridden by specifying an alternative directory in the
.Ev PKG_DBDIR
environment variable.
.It Ev PKG_PATH
This can be used to specify a colon-separated list of paths to search for
package files.
The current directory is always searched first, even if
.Ev PKG_PATH
is set.
If
.Ev PKG_PATH
is used, the suffix
.Dq .tgz
is automatically appended to the
.Ar pkg-name ,
whereas searching in the current directory uses
.Ar pkg-name
literally.
.It Ev PKG_TMPDIR
Temporary area where package information files will be extracted, instead of
.Pa /var/tmp .
.El
.Sh TECHNICAL DETAILS
Package info is either extracted from package files named on the
command line, or from already installed package information
in
.Pa /var/db/pkg/<pkg-name> .
.Sh SEE ALSO
.Xr pkg_add 1 ,
.Xr pkg_create 1 ,
.Xr pkg_delete 1 ,
.Xr bsd.port.mk 5 ,
.Xr package 5 ,
.Xr packages-specs 7 ,
.Xr pkgpath 7
.Sh AUTHORS
.Bl -tag -width indent -compact
.It An Jordan Hubbard
initial design
.It An Marc Espie
complete rewrite
.El
@


1.56
log
@Remove support for pkg.conf in light of the consolidation towards
a single configuration file for the OpenBSD repository location.

The pkg_* tools now use installurl(5) to find the package repository.

NOTE:
/etc/installurl only contains a single URL pointing to a mirror.
Use the PKG_PATH environment variable to specify more than one
package repository.

prodded by and OK deraadt@@ aja@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.55 2016/07/28 09:21:01 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: July 28 2016 $
d172 2
a173 1
is a unique tag showing the package name, and the version number
@


1.55
log
@firmware is the plural;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.54 2016/07/27 12:58:21 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: July 27 2016 $
a231 1
.Xr pkg.conf 5 ,
@


1.54
log
@don't include firmwares in the fuzzy auto-reinstall list
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.53 2016/06/28 15:38:36 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: June 28 2016 $
d190 1
a190 1
Note that this intentionally does not include firmwares, as they are not
@


1.53
log
@option -z that uses is-branch info to produce "complete"
stem--[flavor][%branch] listing.
feedback and suggestions semarie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.52 2016/02/29 22:59:33 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: February 29 2016 $
d190 3
@


1.52
log
@correct return values for -e; from patrik lundin
ok sthen espie
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.51 2015/10/07 17:52:38 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: October 7 2015 $
d27 1
a27 1
.Op Fl AaCcdfIKLMmPqRSstUv
d182 8
@


1.51
log
@"..." implies optional, so no need for []; from michael reed
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.50 2014/09/08 01:27:55 schwarze Exp $
d18 1
a18 1
.Dd $Mdocdate: September 8 2014 $
d90 1
a90 1
is not currently installed, return 0, otherwise return 1.
@


1.50
log
@obvious cases of missing .An;
found with the new mandoc(1) MANDOCERR_AN_MISSING warning;
no text changes
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.49 2014/02/11 10:36:13 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: February 11 2014 $
d33 1
a33 2
.Op Ar pkg-name
.Op Ar ...
@


1.49
log
@requalify signature -> update signature and explain a bit more.

unconfusing, okay sthen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.48 2014/01/03 12:54:59 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: January 3 2014 $
d227 1
a227 1
.It "Jordan Hubbard"
d229 1
a229 1
.It "Marc Espie"
@


1.48
log
@start moving internal annotations' description into package(5) proper,
pkg_create(1) should only document what users can use.
Accordingly, describe dependencies in terms of -P and -W directly.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.47 2011/11/25 09:30:08 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: November 25 2011 $
d170 4
a173 2
Show the package signature for each package.
This signature is a unique tag showing the package name, and the version number
@


1.47
log
@describe fixed behavior a little better
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.46 2011/11/21 17:22:30 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: November 21 2011 $
d117 5
@


1.46
log
@zap eol whitespace;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.45 2011/11/21 12:56:31 espie Exp $
d91 1
a91 1
is currently installed, return 0, otherwise return 1.
d163 1
@


1.45
log
@more pkgpath(7)
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.44 2011/11/21 12:06:12 espie Exp $
d145 1
a145 1
Show the 
@


1.44
log
@point to pkgpath(7)
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.43 2011/07/24 10:46:10 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: July 24 2011 $
d106 3
a108 3
.It Fl e Ar pkg-path
Another variant of this option that uses a package path instead.
A package path is a location within the ports tree, as described
d110 1
a110 3
.Ev FULLPKGPATH
in
.Xr bsd.port.mk 5 .
d145 3
a147 1
Show the pkgpath for each package.
@


1.43
log
@nudge people towards pkglocatedb as a viable alternative to pkg_info -E.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.42 2011/03/19 09:32:36 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: March 19 2011 $
d215 2
a216 1
.Xr packages-specs 7
@


1.42
log
@Xr pkg.conf.5; from Patrick Lamaiziere
ok espie
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.41 2011/01/04 16:43:06 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: January 4 2011 $
d81 4
@


1.41
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.40 2011/01/03 19:33:46 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: January 3 2011 $
d210 1
@


1.40
log
@make it possible to check for a pkgspec by name, without looking at installed
stuff.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.39 2010/06/09 10:25:17 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: June 9 2010 $
d153 2
d157 1
a157 1
.Ar pkgspec.
a158 2
.It Fl R
Show which packages require a given package.
@


1.39
log
@uniform spelling: packing-list
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.38 2010/05/10 09:17:55 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: May 10 2010 $
d32 1
d153 4
@


1.38
log
@whitespace fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d18 1
a18 1
.Dd $Mdocdate$
d113 1
a113 1
Show the packing list instructions for each package.
d123 1
a123 1
viewing the packing list, since full pathnames for everything
@


1.37
log
@various cleanup, including a fix from Daniel Dickman;
ok espie
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.36 2010/01/10 21:27:59 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: January 10 2010 $
@


1.36
log
@unify options a bit: use -Dname=value for defines uniformously (e.g., deprecate
-F keyword heavily).
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d18 1
a18 1
.Dd $Mdocdate$
d27 1
a27 1
.Op Fl AacCdfIKLMmPqRSstUv
d71 2
a74 2
.It Fl C
Show certificate information for signed packages.
@


1.35
log
@remove very old -ikr
@
text
@d27 1
a27 1
.Op Fl AacCDdfIKLMmPqRSstUv
a74 2
.It Fl D
Show the install-message file (if any) for each package (deprecated option).
@


1.34
log
@-M before -m
new sentence, new line
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.33 2009/10/11 18:41:42 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: October 11 2009 $
d27 1
a27 1
.Op Fl AacCDdfIiKkLMmPqRrSstUv
a117 2
.It Fl i
Show the install script (if any) for each package.
a121 2
.It Fl k
Show the de-install script (if any) for each package.
a155 2
.It Fl r
Show the requirements script (if any) for each package.
@


1.33
log
@document -m
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d18 1
a18 1
.Dd $Mdocdate$
d27 1
a27 1
.Op Fl AacCDdfIiKkLmMPqRrSstUv
d141 2
d144 2
a145 1
Only show packages tagged as manual installations. It should omit anything
a146 2
.It Fl M
Show the install-message file (if any) for each package.
@


1.32
log
@initial implementation of package signatures, based on x509 certificates and
smime detached signatures.
@
text
@d27 1
a27 1
.Op Fl AacCDdfIiKkLMPqRrSstUv
d141 3
@


1.31
log
@explicitely say that package signatures contain run time dependencies
only and no pure build dependencies; ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.30 2008/10/26 16:16:37 espie Exp $
d18 1
a18 1
.Dd $Mdocdate: October 26 2008 $
d27 1
a27 1
.Op Fl AacDdfIiKkLMPqRrSstUv
d73 2
@


1.30
log
@zap old code that was a confusion with -l, and didn't ever do anything
in the new pkg_info
problem noticed by landry@@
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d18 1
a18 1
.Dd $Mdocdate$
d159 1
a159 1
of every dependency and shared library necessary to build this package.
@


1.29
log
@better .Nd; from Pierre Riteau
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.28 2007/06/20 15:41:36 steven Exp $
d18 1
a18 1
.Dd $Mdocdate: June 4 2007 $
d27 1
a27 1
.Op Fl AacDdfIiKkLMPpqRrSstUv
a143 2
.It Fl p
Show the installation prefix for each package.
@


1.28
log
@mention https protocol, for which support was added recently.

ok espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.27 2007/06/04 18:15:19 jmc Exp $
d23 1
a23 1
.Nd a utility for displaying information on software packages
@


1.27
log
@add -t to usage() and SYNOPSIS;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.26 2007/06/04 11:42:03 pyr Exp $
d18 1
a18 1
.Dd $Mdocdate$
d48 2
a49 1
distribution file, or a URL to a package available through FTP, HTTP, or SCP.
@


1.26
log
@add -t flag to pkg_info to enable listing of the ``top level'' packages,
i.e those who are not a dependency of another package.
useful to show the packages you actually use.

ok espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.25 2007/05/31 19:20:26 jmc Exp $
d27 1
a27 1
.Op Fl AacDdfIiKkLMPpqRrSsUv
@


1.25
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.24 2007/04/15 10:17:29 espie Exp $
d163 2
@


1.24
log
@update copyright years, standardize licence.
reword the introduction to the stuff originally from FreeBSD to clarify
slightly.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.23 2007/01/29 10:57:36 bernd Exp $
d18 1
a18 1
.Dd August 22, 1998
@


1.23
log
@Three lines in SYNOPSIS are too much. Use only one line and sync usage.

prodded by & ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.22 2007/01/23 11:40:26 bernd Exp $
d3 2
a4 2
.\" FreeBSD install - a package for the installation and maintenance
.\" of non-core utilities.
a16 2
.\"
.\"     @@(#)pkg_info.1
@


1.22
log
@Introduce -Q option:

-Q query
        Show all packages in $PKG_PATH which match the given query.

Example:
$ pkg_info -Q bogofilter
bogofilter-1.0.3-qdbm (installed)
bogofilter-1.0.3-db4
bogofilter-1.0.3-sqlite3
bogofilter-1.0.3
$

Manpage help from sturm@@. ok sturm@@, steven@@, espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.21 2006/01/30 17:27:29 miod Exp $
d29 1
a29 1
.Op Fl cDdfIiKkLMPpqRrSsUv
d33 3
a35 1
.Ar pkg-name Op Ar ...
a36 5
.Nm pkg_info
.Op Fl Aa Ar flags
.Nm pkg_info
.Op Fl v
.Op Fl Q Ar query
@


1.21
log
@Clarify pkg_info -e example; ok espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.20 2005/11/01 17:02:29 bernd Exp $
d37 3
d150 3
@


1.20
log
@Add -P option. This shows the pkgpath for each package. Nice for building
subdirlists.

Document new option.

"commit" espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.19 2005/10/10 09:38:29 espie Exp $
d98 1
a98 1
.Ic pkg_info -e 'name>=1.3'
@


1.19
log
@Xref package(5)
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.18 2005/09/07 09:40:50 jmc Exp $
d29 1
a29 1
.Op Fl cDdfIiKkLMpqRrSsUv
d142 3
@


1.18
log
@sort options and sync usage();
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.17 2005/09/04 22:47:56 espie Exp $
d201 1
@


1.17
log
@* New -i interactive option, that can ask obnoxious questions.
* move the signature code to a packing-list method, prepend the pkgname.
* depend on distant listings, cache these systematically.
* cut the PKG_PATH at :/ systematically, much simpler than parsing URLs.
People should get used to trailing /s.
* let pkg_add -u actually run the update.
* check for signature in more places, for instance, let pkg_add installed_stuff
be a void operation.
* grab enough stuff during updates to check signatures, so that pkg_add -u
can report updates that are not needed right away, instead of waiting
for the more confusing `trying to update'
* beginning of @@module support.
* @@pkgpath support, including updates.
* systematically expand stems when applicable.
* use visitors systematically in pkg_info.
* pkg_info -S reports signature.
* remove hardcoding of categories in PackingList, so that future modules
will be able to expand them.
* add @@updateset and @@incompatibility keywords.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.16 2005/03/13 09:19:02 espie Exp $
d29 1
a29 1
.Op Fl cDdfIiKkLMpqRrsSUv
a152 2
.It Fl s
Show an estimate of the total size of each package.
d157 2
@


1.16
log
@document some common usage of pkg_info to make us look cool.
okay jmc@@, prod by theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.15 2004/12/02 00:29:04 xsa Exp $
d29 1
a29 1
.Op Fl cDdfIiKkLMpqRrsUv
d155 4
@


1.15
log
@wipe old .Xr's; ok espie@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.14 2004/11/15 20:31:50 jmc Exp $
d55 9
@


1.14
log
@sort options;
add .Bk/.Ek to avoid synopsis split;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.13 2004/11/15 14:19:36 espie Exp $
a186 1
.Xr mkstemp 3 ,
@


1.13
log
@minimal documentation for -E.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.12 2004/11/15 13:20:40 jmc Exp $
d28 1
d30 1
a31 1
.Op Fl E Ar filename
d34 1
d69 3
a103 3
.It Fl E Ar filename
Look for the package(s) that contains the given
.Ar filename .
@


1.12
log
@tweaks;
ok espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.11 2004/11/15 10:54:49 jmc Exp $
d30 1
d99 3
@


1.11
log
@oops - one more option sort;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.10 2004/11/15 10:53:27 jmc Exp $
d28 3
a30 3
.Op Fl cDdfhIiKkLMmpqRrsuv
.Op Fl e Ar package
.Op Fl l Ar prefix
d47 1
a47 1
distribution file, or a URL to a package available through ftp, http, or scp.
d105 1
a105 1
Prefix file names with category keyword (e.g., @@file, @@lib...).
d122 1
a122 1
necessary want the output intermingled in such a way that they can't
d181 3
a183 1
.Xr mkstemp 3
@


1.10
log
@sort options; whitespace;
ok espie@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.9 2004/11/14 13:05:02 espie Exp $
d33 1
a33 1
.Op Fl aA Ar flags
@


1.9
log
@-K -L option that prefixes each file name with keyword.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.8 2004/11/11 11:54:09 espie Exp $
d28 1
a28 1
.Op Fl cDdfIikKLmpqRrsvhMU
d55 3
a59 3
.It Fl A
Show information for all currently installed packages, 
including internal packages.
a103 2
.It Fl k
Show the de-install script (if any) for each package.
d108 2
@


1.8
log
@package names starting with .  are hidden from pkg_info by default.
-A shows them.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.7 2004/11/10 09:55:43 espie Exp $
d28 1
a28 1
.Op Fl cDdfIikLmpqRrsvhMU
d106 4
@


1.7
log
@use ExtraInfo, finally: allows pkg_info to report packages according to
PKGPATH, e.g., pkg_info -e x11/kde/base3 will tell you which version
(if any) of kdebase is installed.

Necessary for achieving updates.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.6 2004/11/10 09:41:16 espie Exp $
d33 1
a33 1
.Op Fl a Ar flags
d57 3
@


1.6
log
@resurrect -e, document that it uses packages-specs now.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.5 2004/11/09 10:46:57 espie Exp $
d84 11
@


1.5
log
@-s option, grange's request.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.4 2004/10/11 10:30:33 espie Exp $
d75 1
a75 1
If the given
d77 2
a78 16
contains a
shell meta-character, it will be matched against all installed
packages using
.Xr fnmatch 3 .
.Xr csh 1
style
.Dq {,}
alternates have also been implemented in addition to this.
Package version numbers can also be matched in a relational manner
using the
.Dq >= ,
.Dq <= ,
.Dq > ,
and
.Dq <
operators.
@


1.4
log
@add support for undisplay file, to be able to show information at pkg
removal without having to run a DEINSTALL script...
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.3 2004/10/11 10:07:37 espie Exp $
d28 1
a28 1
.Op Fl cDdfIikLmpqRrvhMU
d134 2
@


1.3
log
@kill old MTREE option that was never implemented in the new tools anyways.
kill -C and -P options which are definitely no longer used as well.
Reorder special files so that REQUIRE is at front (and it's executed first
anyways).
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.2 2003/11/14 23:18:51 espie Exp $
d28 1
a28 1
.Op Fl cDdfIikLmpqRrvh
d60 1
a60 1
Show the install-message file (if any) for each package.
d121 2
d134 2
@


1.2
log
@finicky, finicky...
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.1 2003/10/19 18:38:06 espie Exp $
a120 2
.It Fl m
Show the mtree file (if any) for each package.
d171 1
a171 2
.Xr mkstemp 3 ,
.Xr mtree 8
@


1.1
log
@Add manpages, with a few minor changes from old ones.
ok pval
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg_info.1,v 1.12 2003/06/12 12:59:52 jmc Exp $
d138 1
a138 1
.Bl -tag -width PKG_DBDIR
d160 3
a162 27
.It Ev PKG_TMPDIR , Ev TMPDIR
These are tried in turn (if set) as candidate directories in which
to create a
.Dq staging area
for any files extracted by
.Nm
from package files.
If neither
.Ev PKG_TMPDIR
nor
.Ev TMPDIR
yields a suitable scratch directory,
.Pa /var/tmp ,
.Pa /tmp ,
and
.Pa /usr/tmp
are tried in turn.
Note that
.Pa /usr/tmp
may be created, if it doesn't already exist.
.Pp
Since
.Nm
requires very little information to be extracted from any package
files examined, it is unlikely that these environment variables would
ever need to be used to work around limited available space in the
default locations.
@

