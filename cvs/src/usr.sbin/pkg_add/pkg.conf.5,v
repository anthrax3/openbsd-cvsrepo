head	1.10;
access;
symbols
	OPENBSD_6_0:1.9.0.6
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.8.0.4
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.5.0.6
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.10
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.8
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.4
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.2
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.4.0.4
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2;
locks; strict;
comment	@.\" @;


1.10
date	2017.02.05.14.07.45;	author rpe;	state Exp;
branches;
next	1.9;
commitid	4GLx0cePVVvsQREY;

1.9
date	2016.01.27.20.49.45;	author sthen;	state Exp;
branches;
next	1.8;
commitid	4BMp8OoFgOvY0Ive;

1.8
date	2015.04.16.19.59.28;	author jmc;	state Exp;
branches;
next	1.7;
commitid	lLPXqSPja9ifKT8V;

1.7
date	2015.04.16.14.11.29;	author espie;	state Exp;
branches;
next	1.6;
commitid	KXAbpG1wu2FJFmIx;

1.6
date	2015.04.16.13.40.56;	author espie;	state Exp;
branches;
next	1.5;
commitid	fjqJAepdZu2COb36;

1.5
date	2012.10.11.17.35.45;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2011.08.17.10.48.27;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2010.10.25.21.04.49;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.04.19.41.33;	author jmc;	state Exp;
branches;
next	1.1;

1.1
date	2010.07.04.18.30.28;	author espie;	state Exp;
branches;
next	;


desc
@@


1.10
log
@The installer does not create pkg.conf during installation and does
not update it during upgrades anymore. pkg_add(1) will soon use the
installurl file as primary source to find the package repository.

OK espie@@, tb@@
@
text
@.\"	$OpenBSD: pkg.conf.5,v 1.9 2016/01/27 20:49:45 sthen Exp $
.\"
.\" Copyright (c) 2010 Marc Espie
.\"
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE DEVELOPERS ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE DEVELOPERS BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd $Mdocdate: January 27 2016 $
.Dt PKG.CONF 5
.Os
.Sh NAME
.Nm pkg.conf
.Nd system-wide package system configuration
.Sh DESCRIPTION
The file
.Pa /etc/pkg.conf
contains system-wide options related to package handling, as a list of
.Sq keyword=value
lines.
.Pp
Currently defined options are as follows:
.Pp
.Bl -tag -width fullkeyword -compact
.It Ar fullwidth
Set to
.Ar yes
if you really want to use the full width of the terminal for the progressmeter.
.It Ar loglevel
.Xr pkg_add 1
and
.Xr pkg_delete 1
will
.Xr syslog 3
installations, updates and deletions by default.
Set to
.Ar 0
to avoid logging entirely.
Levels higher than
.Ar 1
may log more information in the future.
.It Ar installpath
URL to package repository.
Used for accessing packages if the environment variable
.Ev PKG_PATH
is not defined and no further options are defined.
.Pp
Special sequences
.Sq %a ,
.Sq %c ,
.Sq %m ,
.Sq %v
will be expanded to
.Sq package architecture ,
.Sq OS version or snapshots ,
.Sq full mirror path
and
.Sq OS version
respectively.
If a bare hostname is given, the standard /pub/OpenBSD path will be
used automatically, e.g.\&
.Bd -literal -offset indent
installpath = http://somesite.example.org/updates/%c/%a/
installpath += openbsd-mirror.example.org
.Ed
.Pp
should work.
.It Ar nochecksum
Set to
.Ar yes
to waive checksums during package deletions.
.It Ar ntogo
Set to
.Ar yes
to display (done/total) number of package messages.
.El
.Pp
Each option uses a separate line, and follows the following template:
.Bd -literal -offset indent
keyword = value
.Ed
.Pp
A list of values can also be specified over several lines using the variation:
.Bd -literal -offset indent
keyword += value
keyword += value
\&...
.Ed
.Pp
Keywords are case-insensitive.
.Pp
Blank lines and comment lines (introduced by a #) are ignored.
.Pp
Unknown keywords are ignored.
.Sh FILES
.Pa /etc/pkg.conf
.Sh SEE ALSO
.Xr pkg_add 1 ,
.Xr pkg_create 1 ,
.Xr pkg_delete 1 ,
.Xr pkg_info 1 ,
.Xr pkg_check 8
.Sh HISTORY
The
.Nm
mechanism and format first appeared in
.Ox 4.8 .
@


1.9
log
@Allow pkg.conf's installpath to be set to a bare hostname (no /), which
implies http://hostname/pub/OpenBSD/[snapshots-or-version]/packages/[arch].
This could be handled at a different location in the code to support PKG_PATH
but this approach is pretty simple and I have something else to make use of it.
ok espie@@ for now.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg.conf.5,v 1.8 2015/04/16 19:59:28 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: April 16 2015 $
a39 8
In particular, the base system
.Dq installation-and-update
shell scripts record the URL used for the installation as
.Ar installpath .
.Xr pkg_add 1
can then add or replace packages from the same location straight after
the install.
.Pp
d61 1
a61 1
URL to package repository updated during installation.
@


1.8
log
@tweak previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg.conf.5,v 1.7 2015/04/16 14:11:29 espie Exp $
d85 3
a87 1
respectively, e.g.\&
d89 2
a90 2
installpath = http://somesite/pub/OpenBSD/%c/packages/%a/
installpath += http://othersite/%m/
@


1.7
log
@document %m, sort %.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg.conf.5,v 1.6 2015/04/16 13:40:56 espie Exp $
d79 1
a79 1
will be expanded to 
d85 1
a85 1
respectively, e.g,
@


1.6
log
@document % sequences.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg.conf.5,v 1.5 2012/10/11 17:35:45 sthen Exp $
d27 1
a27 1
.Dd $Mdocdate: October 11 2012 $
d75 1
d77 2
a78 2
.Sq %v ,
.Sq %a 
d80 1
d82 1
a82 1
.Sq OS version ,
d84 1
a84 1
.Sq package architecture
d88 1
@


1.5
log
@package checksums are no longer MD5, from Dawe on tech@@.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg.conf.5,v 1.4 2011/08/17 10:48:27 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: August 17 2011 $
d73 16
@


1.4
log
@pkg_add and pkg_delete will now syslog activity by default.
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg.conf.5,v 1.3 2010/10/25 21:04:49 espie Exp $
d27 1
a27 1
.Dd $Mdocdate: October 25 2010 $
d76 1
a76 1
to waive MD5 checksums during package deletions.
@


1.3
log
@document fullwidth
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg.conf.5,v 1.2 2010/07/04 19:41:33 jmc Exp $
d27 1
a27 1
.Dd $Mdocdate: July 4 2010 $
d55 13
@


1.2
log
@- zap trailing whitespace
- knock out an unneeded .Pp
@
text
@d1 1
a1 1
.\"	$OpenBSD: pkg.conf.5,v 1.1 2010/07/04 18:30:28 espie Exp $
d51 4
@


1.1
log
@initial documentation for pkg.conf, after nits from jmc@@, and straightening
up by Theo about what should be in there...
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d27 1
a27 1
.Dd $Mdocdate$
d34 1
a34 1
The file 
d37 1
a37 1
.Sq keyword=value 
d45 1
a45 1
can then add or replace packages from the same location straight after 
d57 1
a57 1
Set to 
d61 1
a61 1
Set to 
a82 1
.Pp
@

