head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.2
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.6.0.4
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.4
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5;
locks; strict;
comment	@.\" @;


1.6
date	2017.02.22.14.18.25;	author renato;	state Exp;
branches;
next	1.5;
commitid	NHQmyYfabbxeCKbv;

1.5
date	2016.01.15.12.57.48;	author renato;	state Exp;
branches;
next	1.4;
commitid	qLHI9QSZKGzKcJp9;

1.4
date	2015.12.13.18.55.53;	author renato;	state Exp;
branches;
next	1.3;
commitid	OoBnb9jAV4TnaVRr;

1.3
date	2015.10.27.03.30.23;	author renato;	state Exp;
branches;
next	1.2;
commitid	EHoThNp7biMfvVTh;

1.2
date	2015.10.02.07.41.13;	author jmc;	state Exp;
branches;
next	1.1;
commitid	ciNWLpxTEu2IYwp4;

1.1
date	2015.10.02.04.31.52;	author renato;	state Exp;
branches;
next	;
commitid	072aVEKnisUQKU44;


desc
@@


1.6
log
@Allow specifying an alternate socket path.
@
text
@.\"	$OpenBSD: eigrpctl.8,v 1.5 2016/01/15 12:57:48 renato Exp $
.\"
.\" Copyright (c) 2015 Renato Westphal <renato@@openbsd.org>
.\" Copyright (c) 2004, 2005 Esben Norby <norby@@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: January 15 2016 $
.Dt EIGRPCTL 8
.Os
.Sh NAME
.Nm eigrpctl
.Nd control the Enhanced Interior Gateway Routing Protocol daemon
.Sh SYNOPSIS
.Nm
.Op Fl s Ar socket
.Ar command
.Op Ar argument ...
.Sh DESCRIPTION
The
.Nm
program controls the
.Xr eigrpd 8
daemon.
Commands may be abbreviated to the minimum unambiguous prefix; for example,
.Cm s i
for
.Cm show interfaces .
.Pp
The following options are available:
.Bl -tag -width Ds
.It Fl s Ar socket
Use
.Ar socket
instead of the default
.Pa /var/run/eigrpd.sock
to communicate with
.Xr eigrpd 8 .
.El
.Pp
The following commands are available:
.Bl -tag -width Ds
.It Xo
.Cm clear neighbors
.Op Cm family Ar family
.Op Cm as Ar as
.Op Ar address
.Xc
Delete entries from the neighbor table.
.Ar family ,
.Ar as ,
and
.Ar address
can be used to limit the scope of the command to the given address family, autonomous system and/or address.
If no argument is given, all neighbors from all EIGRP instances will be deleted.
.It Cm fib couple
Insert the learned routes into the Forwarding Information Base
a.k.a. the kernel routing table.
.It Cm fib decouple
Remove the learned routes from the Forwarding Information Base
a.k.a. the kernel routing table.
Decoupling the FIB from an EIGRP router may create routing loops and could cause
major routing issues in the complete EIGRP cloud.
Only routers with just one link to the EIGRP cloud can safely decouple the FIB.
.It Cm log brief
Disable verbose debug logging.
.It Cm log verbose
Enable verbose debug logging.
.It Cm reload
Reload the configuration file.
.It Xo
.Cm show fib
.Op Cm family Ar family
.Op Ar filter
.Xc
Show the Forwarding Information Base.
.Ar family ,
if given, limit the output to the given address family.
.Ar filter
can be any of the following:
.Pp
.Bl -tag -width "interfaceXXinterfaceXX" -compact
.It Cm connected
Show only connected routes.
.It Cm interface Op Ar interface
Show only interfaces or the specified
.Ar interface .
.It Cm eigrp
Show only EIGRP routes.
.It Cm static
Show only static routes.
.El
.Pp
.Cm connected ,
.Cm eigrp
and
.Cm static
may be specified together.
.It Xo
.Cm show interfaces
.Op Cm family Ar family
.Op Cm as Ar as
.Op Ar interface
.Xc
Show details for all EIGRP enabled interfaces or the specified
.Ar interface .
.Ar family
and
.Ar as ,
if given, limit the output to the given address family and/or autonomous system.
.It Xo
.Cm show neighbor
.Op Cm family Ar family
.Op Cm as Ar as
.Xc
Show neighbors.
.Ar family
and
.Ar as ,
if given, limit the output to the given address family and/or autonomous system.
.It Xo
.Cm show topology
.Op Cm family Ar family
.Op Cm as Ar as
.Op Ar prefix | filter
.Xc
Show the topology table.
.Ar family
and
.Ar as ,
if given, limit the output to the given address family and/or autonomous system.
.Ar prefix
can be specified to show the entries matching a destination prefix.
.Ar filter
can be any of the following:
.Pp
.Bl -tag -width "interfaceXXinterfaceXX" -compact
.It Cm active
Show only active entries.
.It Cm all-links
Show all entries.
.El
.It Xo
.Cm show traffic
.Op Cm family Ar family
.Op Cm as Ar as
.Xc
Show traffic statistics.
.Ar family
and
.Ar as ,
if given, limit the output to the given address family and/or autonomous system.
.El
.Sh FILES
.Bl -tag -width "/var/run/eigrpd.sockXX" -compact
.It Pa /var/run/eigrpd.sock
.Ux Ns -domain
socket used for communication with
.Xr eigrpd 8 .
.El
.Sh SEE ALSO
.Xr eigrpd.conf 5 ,
.Xr eigrpd 8
.Sh HISTORY
The
.Nm
program first appeared in
.Ox 5.9 .
.Sh AUTHORS
The
.Nm
program was written by
.An Renato Westphal Aq Mt renato@@openbsd.org .
@


1.5
log
@Introduce the 'eigrpctl clear neighbors' command.
@
text
@d1 1
a1 1
.\"	$OpenBSD: eigrpctl.8,v 1.4 2015/12/13 18:55:53 renato Exp $
d18 1
a18 1
.Dd $Mdocdate: December 13 2015 $
d26 1
d39 11
@


1.4
log
@Introduce new command to show traffic statistics.

Can be useful as a troubleshooting tool.
@
text
@d1 1
a1 1
.\"	$OpenBSD: eigrpctl.8,v 1.3 2015/10/27 03:30:23 renato Exp $
d18 1
a18 1
.Dd $Mdocdate: October 27 2015 $
d41 13
@


1.3
log
@Minor tweaks.
@
text
@d1 1
a1 1
.\"	$OpenBSD: eigrpctl.8,v 1.2 2015/10/02 07:41:13 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: October 2 2015 $
d128 10
@


1.2
log
@add missing El;
@
text
@d1 1
a1 1
.\"	$OpenBSD: eigrpctl.8,v 1.1 2015/10/02 04:31:52 renato Exp $
d143 6
a148 1
.Ox 5.8 .
@


1.1
log
@Controller for the recently imported eigrpd(8) daemon.

Not yet connected to the builds.

ok deraadt@@ claudio@@
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d18 1
a18 1
.Dd $Mdocdate$
d127 1
@

