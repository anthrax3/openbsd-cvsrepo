head	1.14;
access;
symbols
	OPENBSD_6_1_BASE:1.14
	OPENBSD_6_0:1.12.0.4
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.12.0.2
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.11.0.22
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.14
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.11.0.18
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.16
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.12
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.11.0.10
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.11.0.8
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.6
	OPENBSD_5_0:1.11.0.4
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.10.0.8
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.4
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.6
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.2
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.9.0.6
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.4
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.6.0.10
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.8
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.6
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.4
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.2.0.4
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2;
locks; strict;
comment	@.\" @;


1.14
date	2016.11.30.20.26.37;	author jmc;	state Exp;
branches;
next	1.13;
commitid	BQwO8k3ebnN3ZEsX;

1.13
date	2016.08.16.11.33.07;	author tb;	state Exp;
branches;
next	1.12;
commitid	x3SJIQFUvKdyeEFj;

1.12
date	2016.01.08.20.26.54;	author zhuk;	state Exp;
branches;
next	1.11;
commitid	3oyQnBNpxYWfuih9;

1.11
date	2010.09.19.21.59.23;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2009.01.21.16.56.03;	author sobrado;	state Exp;
branches;
next	1.9;

1.9
date	2007.05.31.19.20.30;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2007.02.06.20.07.16;	author jmc;	state Exp;
branches;
next	1.7;

1.7
date	2007.02.06.17.44.51;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2004.06.26.09.40.52;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2004.06.14.17.11.46;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2004.06.06.21.16.48;	author jmc;	state Exp;
branches;
next	1.3;

1.3
date	2004.06.04.18.04.21;	author otto;	state Exp;
branches;
next	1.2;

1.2
date	2003.06.15.06.40.15;	author jmc;	state Exp;
branches;
next	1.1;

1.1
date	2003.06.08.23.05.10;	author millert;	state Exp;
branches;
next	;


desc
@@


1.14
log
@note that no group is created if a group already exists when using =uid;
while here, clean the text up a bit;

from mestre and myself
@
text
@.\" $OpenBSD: usermgmt.conf.5,v 1.13 2016/08/16 11:33:07 tb Exp $
.\" $NetBSD: usermgmt.conf.5,v 1.3 2002/10/02 13:49:11 grant Exp $
.\"
.\" Copyright (c) 2002 The NetBSD Foundation, Inc.
.\" All rights reserved.
.\"
.\" This document is derived from works contributed to The NetBSD Foundation
.\" by Grant Beattie.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. The name of the author may not be used to endorse or promote products
.\"    derived from this software without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
.\" BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
.\" LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED
.\" AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
.\" OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: August 16 2016 $
.Dt USERMGMT.CONF 5
.Os
.Sh NAME
.Nm usermgmt.conf
.Nd user management tools configuration file
.Sh DESCRIPTION
The
.Nm usermgmt.conf
file defines the default values used by the user management tools,
.Xr user 8 .
.Pp
Options in this file can be set by manually editing
.Pa /etc/usermgmt.conf
or using the
.Fl D
option to
.Xr useradd 8 .
.Bl -tag -width preserveX
.It Ic base_dir
Sets the base directory name, in which new users' home directories
are created when using the
.Fl m
option to
.Xr useradd 8 .
.It Ic class
Sets the default login class for new users.
See
.Xr login.conf 5
for more information on user login classes.
.It Ic expire
Sets the default time at which the new accounts expire.
Both the
.Ar expire
and
.Ar inactive
fields should be entered in the form
.Dq month day year ,
where month is the month name (the first three characters are
sufficient), day is the day of the month, and year is the year.
Time in seconds since the Epoch (UTC) is also valid.
A value of 0 can be used to disable this feature.
.It Ic group
Sets the default primary group for new users.
If this is the special string
.Cm =uid ,
a group is created with the same numeric ID as the UID;
if such a group already exists a warning is given
and no group is created.
It has the format:
.Bd -ragged -offset indent
.Ic group
.Ar gid | name | Cm =uid
.Ed
.It Ic inactive
Sets the default time at which the passwords of new accounts expire.
A value of 0 can be used to disable this feature.
Also see the
.Ar expire
field.
.It Ic password
Specifies a default password encrypted with
.Xr encrypt 1 .
.It Ic preserve
If this value is one of
.Ql true ,
.Ql yes ,
or a non-zero number, then the user login information will be
preserved when removing a user with
.Xr userdel 8 .
.It Ic range
Specifies the UID boundaries for new users.
If unspecified, the default is
.Dq 1000..60000 .
It has the format:
.Bd -unfilled -offset indent
.Ic range Ar starting-uid Ns Li .. Ns Ar ending-uid
.Ed
.It Ic shell
Sets the default login shell for new users.
.It Ic skel_dir
Sets the default skeleton directory in which to find files
with which to populate the new user's home directory.
.El
.Sh FILES
.Bl -tag -width /etc/usermgmt.conf -compact
.It Pa /etc/usermgmt.conf
.It Pa /etc/skel/*
.It Pa /etc/login.conf
.El
.Sh SEE ALSO
.Xr login.conf 5 ,
.Xr passwd 5 ,
.Xr user 8 ,
.Xr useradd 8 ,
.Xr userdel 8 ,
.Xr usermod 8
.Sh STANDARDS
Other implementations of the
.Xr user 8
utilities use the
.Ar inactive-time
parameter to refer to the maximum number of days allowed between logins (this
is used to lock "stale" accounts that have not been used for a period of time).
However, on
.Ox
systems this parameter refers instead to the password change time.
This is due to differences in the
.Xr passwd 5
database compared to other operating systems.
.Sh HISTORY
The
.Nm
configuration file first appeared in
.Ox 2.7 .
@


1.13
log
@Xr encrypt(1) here as well to be consistent with useradd(8).

ok jmc
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.12 2016/01/08 20:26:54 zhuk Exp $
d33 1
a33 1
.Dd $Mdocdate: January 8 2016 $
d77 5
a81 6
If this is
.Ql =uid ,
then a UID and GID will be picked which are both unique
and the same, and a line added to
.Pa /etc/group
to describe the new group.
d85 1
a85 1
.Ar gid | name | Li =uid
@


1.12
log
@Zap extraneous SYNOPSIS sections.

The gettytab(5) and termcap(5) get FILES, others don't need anything.

With input from & okay schwarze@@
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.11 2010/09/19 21:59:23 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: September 19 2010 $
d95 2
a96 1
Specifies an already-encrypted default password.
@


1.11
log
@more wacky macro fixing;
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.10 2009/01/21 16:56:03 sobrado Exp $
d33 1
a33 1
.Dd $Mdocdate: January 21 2009 $
a38 2
.Sh SYNOPSIS
.Nm usermgmt.conf
@


1.10
log
@paragraphs and sentences start with uppercase letters; synchronize
the synopsis and usage of user(8) related commands; sort the options
list in the DESCRIPTION section of the manual pages; spacing.

ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.9 2007/05/31 19:20:30 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: May 31 2007 $
a35 2
.\" turn off hyphenation
.hym 999
@


1.9
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.8 2007/02/06 20:07:16 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
d57 1
a57 1
sets the base directory name, in which new users' home directories
d63 1
a63 1
sets the default login class for new users.
d68 1
a68 1
sets the default time at which the new accounts expire.
d80 1
a80 1
sets the default primary group for new users.
d93 1
a93 1
sets the default time at which the passwords of new accounts expire.
d99 1
a99 1
specifies an already-encrypted default password.
d108 1
a108 1
specifies the UID boundaries for new users.
d116 1
a116 1
sets the default login shell for new users.
d118 1
a118 1
sets the default skeleton directory in which to find files
@


1.8
log
@fix some dodgy displays;
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.7 2007/02/06 17:44:51 jmc Exp $
d33 1
a33 1
.Dd May 28, 2002
@


1.7
log
@discuss consistently "the Epoch";
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.6 2004/06/26 09:40:52 jmc Exp $
d112 1
a112 1
.Bd -unfilled -offset indent -compact
@


1.6
log
@should have updated all of these first - the same wordo in them all.
also, section order for usermgmt.conf.5 was wrong.
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.5 2004/06/14 17:11:46 millert Exp $
d77 1
a77 1
Time in seconds since the epoch (UTC) is also valid.
@


1.5
log
@Document where we diverge from other implementations (due to different
fields in passwd(5)).  OK otto@@ a while ago.
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.4 2004/06/06 21:16:48 jmc Exp $
d127 7
d140 1
a140 1
us used to lock "stale" accounts that have not been used for a period of time).
a146 7
.Sh SEE ALSO
.Xr login.conf 5 ,
.Xr passwd 5 ,
.Xr user 8 ,
.Xr useradd 8 ,
.Xr userdel 8 ,
.Xr usermod 8
@


1.4
log
@clean some lists and displays;
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.3 2004/06/04 18:04:21 otto Exp $
d127 13
@


1.3
log
@Clear up some confusion: -e is account expiry flag, -f is password
expiry flag. Resolves PR 3792, though not by changing code, but by
changing docs, comments and an error message or two.
ok jmc@@ millert@@
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.2 2003/06/15 06:40:15 jmc Exp $
a54 1
.Pp
d88 1
a88 2
.Pp
.Bd -ragged -offset indent -compact
@


1.2
log
@small mdoc fixes;
ok millert@@
@
text
@d1 1
a1 1
.\" $OpenBSD: usermgmt.conf.5,v 1.1 2003/06/08 23:05:10 millert Exp $
d69 1
a69 2
sets the default time at which the current password expires.
This can be used to implement password aging.
d95 1
a95 1
sets the default time at which new accounts expire.
@


1.1
log
@Add usermgmt.conf man page.  From NetBSD (grant)
@
text
@d1 1
a1 1
.\" $OpenBSD$
d85 1
a85 1
then a uid and gid will be picked which are both unique
d88 3
a90 2
to describe the new group. It has the format:
.br
d111 1
a111 1
specifies the uid boundaries for new users.
@

