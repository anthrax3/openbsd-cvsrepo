head	1.23;
access;
symbols
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.22.0.4
	OPENBSD_6_0_BASE:1.22
	OPENBSD_5_9:1.22.0.2
	OPENBSD_5_9_BASE:1.22
	OPENBSD_5_8:1.21.0.12
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.21.0.4
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.21.0.8
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.21.0.6
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.20.0.8
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.20.0.6
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.4
	OPENBSD_5_0:1.20.0.2
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.18.0.2
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.17.0.8
	OPENBSD_4_8_BASE:1.17
	OPENBSD_4_7:1.17.0.4
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.17.0.6
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.17.0.2
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.15.0.6
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.15.0.4
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.15.0.2
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.14.0.2
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.13.0.10
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.8
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.6
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.13.0.4
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.13.0.2
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.11.0.4
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.11.0.2
	OPENBSD_3_4_BASE:1.11
	OPENBSD_3_3:1.9.0.8
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.9.0.6
	OPENBSD_3_2_BASE:1.9
	OPENBSD_3_1:1.9.0.4
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.9.0.2
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_9:1.7.0.6
	OPENBSD_2_8:1.7.0.4
	OPENBSD_2_8_BASE:1.7
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	NetBSD-20000425:1.1.1.1
	NetBSD:1.1.1;
locks; strict;
comment	@.\" @;


1.23
date	2016.11.29.03.59.31;	author jsg;	state Exp;
branches;
next	1.22;
commitid	ySmBMsd4swrnMjIC;

1.22
date	2015.09.12.15.14.11;	author schwarze;	state Exp;
branches;
next	1.21;
commitid	IHHxqUe6OfsrBBZ5;

1.21
date	2013.07.16.11.13.34;	author schwarze;	state Exp;
branches;
next	1.20;

1.20
date	2011.07.18.23.01.10;	author schwarze;	state Exp;
branches;
next	1.19;

1.19
date	2011.04.16.07.26.12;	author sobrado;	state Exp;
branches;
next	1.18;

1.18
date	2010.09.03.11.22.36;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2009.01.21.16.56.02;	author sobrado;	state Exp;
branches;
next	1.16;

1.16
date	2009.01.19.09.46.59;	author sobrado;	state Exp;
branches;
next	1.15;

1.15
date	2007.05.31.19.20.30;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2007.02.21.16.48.03;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2004.06.26.09.31.46;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2004.06.14.17.11.46;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2003.06.15.06.40.15;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2003.06.08.23.32.23;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2001.09.18.01.50.44;	author millert;	state Exp;
branches;
next	1.8;

1.8
date	2001.08.02.18.37.35;	author mpech;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.25.20.58.29;	author jakob;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.25.20.22.35;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2000.04.25.20.11.05;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	2000.04.25.19.00.21;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.24.23.37.31;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.24.22.31.29;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	2000.04.24.22.27.00;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.24.22.27.00;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.23
log
@Alistair Crooks rescinded the advertising clause of his user(8)
license in 2005 in NetBSD.

https://mail-index.netbsd.org/source-changes/2005/11/25/0002.html
@
text
@.\" $OpenBSD: user.8,v 1.22 2015/09/12 15:14:11 schwarze Exp $
.\" $NetBSD: user.8,v 1.9 2001/06/05 11:31:21 wiz Exp $
.\"
.\" Copyright (c) 1999 Alistair G. Crooks.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. The name of the author may not be used to endorse or promote
.\"    products derived from this software without specific prior written
.\"    permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS
.\" OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY
.\" DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
.\" GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
.\" INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
.\" WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
.\" NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
.\" SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.\"
.Dd $Mdocdate: September 12 2015 $
.Dt USER 8
.Os
.Sh NAME
.Nm user
.Nd manage user login information on the system
.Sh SYNOPSIS
.Nm user
.Cm add
.Fl D
.Op Fl b Ar base-directory
.Op Fl e Ar expiry-time
.Op Fl f Ar inactive-time
.Op Fl g Ar gid | name | Cm =uid
.Op Fl k Ar skel-directory
.Op Fl L Ar login-class
.Op Fl r Ar low Ns .. Ns Ar high
.Op Fl s Ar shell
.Nm user
.Cm add
.Op Fl mov
.Op Fl b Ar base-directory
.Op Fl c Ar comment
.Op Fl d Ar home-directory
.Op Fl e Ar expiry-time
.Op Fl f Ar inactive-time
.Op Fl G Ar secondary-group Ns Op , Ns Ar group , Ns ...
.Op Fl g Ar gid | name | Cm =uid
.Op Fl k Ar skel-directory
.Op Fl L Ar login-class
.Op Fl p Ar password
.Op Fl r Ar low Ns .. Ns Ar high
.Op Fl s Ar shell
.Op Fl u Ar uid
.Ar user
.Nm user
.Cm del
.Fl D
.Op Fl p Ar preserve-value
.Nm user
.Cm del
.Op Fl prv
.Ar user
.Nm user
.Cm info
.Op Fl e
.Ar user
.Nm user
.Cm mod
.Op Fl mov
.Op Fl c Ar comment
.Op Fl d Ar home-directory
.Op Fl e Ar expiry-time
.Op Fl f Ar inactive-time
.Op Fl G Ar secondary-group Ns Op , Ns Ar group , Ns ...
.Op Fl g Ar gid | name | Cm =uid
.Op Fl L Ar login-class
.Op Fl l Ar new-login
.Op Fl p Ar password
.Op Fl s Ar shell
.Op Fl u Ar uid
.Ar user
.Sh DESCRIPTION
The
.Nm
utility acts as a frontend to the
.Xr useradd 8 ,
.Xr usermod 8 ,
.Xr userinfo 8 ,
and
.Xr userdel 8
commands.
.Pp
For a full explanation of the options, please see the relevant manual page.
.Sh FILES
.Bl -tag -width /etc/usermgmt.conf -compact
.It Pa /etc/skel/.[A-z]*
Skeleton files for new user
.It Pa /etc/usermgmt.conf
Configuration file for
.Nm user ,
.Xr group 8
and those backend commands
.El
.Sh EXIT STATUS
.Ex -std user
.Sh SEE ALSO
.Xr chpass 1 ,
.Xr group 5 ,
.Xr passwd 5 ,
.Xr usermgmt.conf 5 ,
.Xr useradd 8 ,
.Xr userdel 8 ,
.Xr userinfo 8 ,
.Xr usermod 8
.Sh STANDARDS
Other implementations of the
.Nm user
utilities use the
.Ar inactive-time
parameter to refer to the maximum number of days allowed between logins (this
is used to lock "stale" accounts that have not been used for a period of time).
However, on
.Ox
systems this parameter refers instead to the password change time.
This is due to differences in the
.Xr passwd 5
database compared to other operating systems.
.Sh HISTORY
The
.Nm
utility first appeared in
.Ox 2.7 .
.Sh AUTHORS
The
.Nm
utility was written by
.An Alistair G. Crooks Aq Mt agc@@NetBSD.org .
@


1.22
log
@use .Cm for fixed string arguments
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.21 2013/07/16 11:13:34 schwarze Exp $
d14 1
a14 4
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by Alistair G. Crooks.
.\" 4. The name of the author may not be used to endorse or promote
d31 1
a31 1
.Dd $Mdocdate: July 16 2013 $
@


1.21
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.20 2011/07/18 23:01:10 schwarze Exp $
d34 1
a34 1
.Dd $Mdocdate: July 18 2011 $
a41 1
.Bk -words
d47 1
a47 1
.Op Fl g Ar gid | name | Li =uid
a51 1
.Ek
a52 1
.Bk -words
d61 1
a61 1
.Op Fl g Ar gid | name | Li =uid
a68 1
.Ek
a81 1
.Bk -words
d89 1
a89 1
.Op Fl g Ar gid | name | Li =uid
a95 1
.Ek
@


1.20
log
@Sync user(8) SYNOPSIS to useradd(8) and userinfo(8)
as suggested by Glen Anderson <g dot s dot anderson at gmail dot com>;
while here, add a few missing "[,group,...]",
do not lump punctuation into .Ar, and drop useless .Li from "..".
OK jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.19 2011/04/16 07:26:12 sobrado Exp $
d34 1
a34 1
.Dd $Mdocdate: April 16 2011 $
d157 1
a157 1
.An Alistair G. Crooks Aq agc@@NetBSD.org .
@


1.19
log
@rephrase argument to -g for consistency not only with useradd(8)
and usermod(8) but also with the notational conventions used in
other manual pages.

ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.18 2010/09/03 11:22:36 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: September 3 2010 $
d49 1
d51 2
a52 1
.Op Fl r Ar low..high
d63 1
a63 1
.Op Fl G Ar secondary-group
d68 1
a68 1
.Op Fl r Ar low..high
d83 1
a83 1
.Op Fl ev
d93 1
a93 1
.Op Fl G Ar secondary-group
@


1.18
log
@add an EXIT STATUS section for /usr/sbin;
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.17 2009/01/21 16:56:02 sobrado Exp $
d34 1
a34 1
.Dd $Mdocdate: January 21 2009 $
d48 1
a48 1
.Op Fl g Ar gid/name/=uid
d62 1
a62 1
.Op Fl g Ar gid/name/=uid
d92 1
a92 1
.Op Fl g Ar gid/name/=uid
@


1.17
log
@paragraphs and sentences start with uppercase letters; synchronize
the synopsis and usage of user(8) related commands; sort the options
list in the DESCRIPTION section of the manual pages; spacing.

ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.16 2009/01/19 09:46:59 sobrado Exp $
d34 1
a34 1
.Dd $Mdocdate: January 19 2009 $
a111 2
.Pp
.Ex -std user
d122 2
@


1.16
log
@replace standardized text concerning the exit values of applications
with the right mdoc macros.
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.15 2007/05/31 19:20:30 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: May 31 2007 $
d45 1
a45 1
.Op Fl b Ar base-dir
d56 1
a56 1
.Op Fl b Ar base-dir
d58 1
a58 1
.Op Fl d Ar home-dir
d63 1
a63 1
.Op Fl k Ar skel-dir
d88 1
a88 1
.Op Fl d Ar home-dir
@


1.15
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.14 2007/02/21 16:48:03 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate$
d113 1
a113 3
The
.Nm
utility exits 0 on success, and \*(Gt0 if an error occurs.
@


1.14
log
@put -G in the right place; from Igor Sobrado
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.13 2004/06/26 09:31:46 jmc Exp $
d34 1
a34 1
.Dd September 5, 2001
@


1.13
log
@wordo;
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.12 2004/06/14 17:11:46 millert Exp $
a55 1
.Op Fl G Ar secondary-group
d61 1
a86 1
.Op Fl G Ar secondary-group
d91 1
@


1.12
log
@Document where we diverge from other implementations (due to different
fields in passwd(5)).  OK otto@@ a while ago.
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.11 2003/06/15 06:40:15 jmc Exp $
d141 1
a141 1
us used to lock "stale" accounts that have not been used for a period of time).
@


1.11
log
@small mdoc fixes;
ok millert@@
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.10 2003/06/08 23:32:23 millert Exp $
d135 13
@


1.10
log
@Sync man pages w/ NetBSD version
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.9 2001/09/18 01:50:44 millert Exp $
d42 1
d51 1
d53 1
d70 1
d84 1
d99 1
d122 1
a122 1
.Nm ,
d144 1
a144 2
.An Alistair G. Crooks
.Aq agc@@NetBSD.org .
@


1.9
log
@Sync with NetBSD plus the following changes:
o use LINE_MAX for the max password entry length.  This is also what
  pwd_mkdb does.
o add more checks for lines that are too long
o kill some useless (and incorrect) casts
o check snprintf() return vals for sanity before use
o sync usage() with man pages
o slight KNF
o eliminate some silly uses of snprintf
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.8 2001/08/02 18:37:35 mpech Exp $
d41 2
a42 1
.Nm user add
d46 1
a46 1
.Op Fl f Ar inactive-secs
d50 2
a51 1
.Nm user add
d58 1
a58 1
.Op Fl f Ar inactive-secs
d67 2
a68 1
.Nm user del
d71 2
a72 1
.Nm user del
d75 2
a76 1
.Nm user info
d79 2
a80 1
.Nm user mod
d86 1
a86 1
.Op Fl f Ar inactive-secs
d109 1
a109 1
utility exits 0 on success, and >0 if an error occurs.
d116 1
a116 1
.Xr user 8 ,
d124 1
d137 3
a139 1
utility was written by Alistair G. Crooks (agc@@netbsd.org).
@


1.8
log
@o) .Sh AUTHOR -> .Sh AUTHORS;
o) .Sh EXAMPLE -> .Sh EXAMPLES;
o) Delete .Sh OPTIONS. Text moved to .Sh DESCRIPTION;

millert@@ ok
@
text
@d1 2
a2 3
.\" $OpenBSD: user.8,v 1.7 2000/04/25 20:58:29 jakob Exp $ */
.\" $NetBSD: user.8,v 1.5 2000/02/28 05:10:57 enami Exp $ */
.\"
d34 1
a34 1
.Dd November 30, 1999
d42 1
a42 1
.Op Fl D
d47 1
d50 1
d59 1
a59 2
.Op Fl m
.Op Fl o
a63 1
.Op Fl v
d66 1
a66 1
.Op Fl D
d69 1
a69 3
.Op Fl p
.Op Fl r
.Op Fl v
d72 1
a72 2
.Op Fl e
.Op Fl v
d75 1
d82 1
a83 2
.Op Fl m
.Op Fl o
a86 1
.Op Fl v
d107 1
a107 1
Skelton dot files for new user
@


1.7
log
@references to /usr/share/examples/usermgmt removed as we do not have that
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.6 2000/04/25 20:22:35 jakob Exp $ */
d132 1
a132 1
.Sh AUTHOR
@


1.6
log
@s/.Os NetBSD/.Os/
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.5 2000/04/25 20:11:05 jakob Exp $ */
a117 5
.It Pa /usr/share/examples/usermgmt
A directory hopefully containing examples for
.Xr user 8
and
.Xr group 8
@


1.5
log
@we are OpenBSD and HISTORY should say so
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.4 2000/04/25 19:00:21 jakob Exp $ */
d37 1
a37 1
.Os NetBSD
@


1.4
log
@remove some non-important HISTORY
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.3 2000/04/24 23:37:31 jakob Exp $ */
d136 1
a136 1
.Nx 1.5 .
@


1.3
log
@clean up bogus .Nm ""
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.2 2000/04/24 22:31:29 jakob Exp $ */
a136 3
It is based on the
.Ar addnerd
package by the same author.
@


1.2
log
@id-tags
@
text
@d1 1
a1 1
.\" $OpenBSD: user.8,v 1.5 2000/02/28 05:10:57 enami Exp $ */
d42 1
a42 2
.Nm ""
add
d49 1
a49 2
.Nm ""
add
d66 1
a66 2
.Nm ""
del
d69 1
a69 2
.Nm ""
del
d74 1
a74 2
.Nm ""
info
d78 1
a78 2
.Nm ""
mod
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@Initial import of user/group management tools from NetBSD.
@
text
@@
