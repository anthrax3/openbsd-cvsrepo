head	1.35;
access;
symbols
	OPENBSD_6_2_BASE:1.35
	OPENBSD_6_1:1.35.0.4
	OPENBSD_6_1_BASE:1.35
	OPENBSD_6_0:1.33.0.4
	OPENBSD_6_0_BASE:1.33
	OPENBSD_5_9:1.33.0.2
	OPENBSD_5_9_BASE:1.33
	OPENBSD_5_8:1.32.0.4
	OPENBSD_5_8_BASE:1.32
	OPENBSD_5_7:1.31.0.4
	OPENBSD_5_7_BASE:1.31
	OPENBSD_5_6:1.31.0.8
	OPENBSD_5_6_BASE:1.31
	OPENBSD_5_5:1.31.0.6
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.31.0.2
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.30.0.8
	OPENBSD_5_3_BASE:1.30
	OPENBSD_5_2:1.30.0.6
	OPENBSD_5_2_BASE:1.30
	OPENBSD_5_1_BASE:1.30
	OPENBSD_5_1:1.30.0.4
	OPENBSD_5_0:1.30.0.2
	OPENBSD_5_0_BASE:1.30
	OPENBSD_4_9:1.28.0.2
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.27.0.8
	OPENBSD_4_8_BASE:1.27
	OPENBSD_4_7:1.27.0.4
	OPENBSD_4_7_BASE:1.27
	OPENBSD_4_6:1.27.0.6
	OPENBSD_4_6_BASE:1.27
	OPENBSD_4_5:1.27.0.2
	OPENBSD_4_5_BASE:1.27
	OPENBSD_4_4:1.25.0.6
	OPENBSD_4_4_BASE:1.25
	OPENBSD_4_3:1.25.0.4
	OPENBSD_4_3_BASE:1.25
	OPENBSD_4_2:1.25.0.2
	OPENBSD_4_2_BASE:1.25
	OPENBSD_4_1:1.24.0.2
	OPENBSD_4_1_BASE:1.24
	OPENBSD_4_0:1.22.0.10
	OPENBSD_4_0_BASE:1.22
	OPENBSD_3_9:1.22.0.8
	OPENBSD_3_9_BASE:1.22
	OPENBSD_3_8:1.22.0.6
	OPENBSD_3_8_BASE:1.22
	OPENBSD_3_7:1.22.0.4
	OPENBSD_3_7_BASE:1.22
	OPENBSD_3_6:1.22.0.2
	OPENBSD_3_6_BASE:1.22
	OPENBSD_3_5:1.19.0.2
	OPENBSD_3_5_BASE:1.19
	OPENBSD_3_4:1.18.0.2
	OPENBSD_3_4_BASE:1.18
	OPENBSD_3_3:1.14.0.2
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.13.0.2
	OPENBSD_3_2_BASE:1.13
	OPENBSD_3_1:1.12.0.2
	OPENBSD_3_1_BASE:1.12
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9_BASE:1.9
	OPENBSD_2_9:1.9.0.4
	OPENBSD_2_8:1.9.0.2
	OPENBSD_2_8_BASE:1.9
	OPENBSD_2_7:1.8.0.2
	OPENBSD_2_7_BASE:1.8
	NetBSD-20000425:1.1.1.1
	NetBSD:1.1.1;
locks; strict;
comment	@.\" @;


1.35
date	2016.11.29.03.59.31;	author jsg;	state Exp;
branches;
next	1.34;
commitid	ySmBMsd4swrnMjIC;

1.34
date	2016.08.14.09.52.08;	author tb;	state Exp;
branches;
next	1.33;
commitid	qHAZ4G1UpCCjK6K7;

1.33
date	2015.09.12.15.14.11;	author schwarze;	state Exp;
branches;
next	1.32;
commitid	IHHxqUe6OfsrBBZ5;

1.32
date	2015.03.13.19.58.41;	author jmc;	state Exp;
branches;
next	1.31;
commitid	OcwhWBKGs3Yn7EeA;

1.31
date	2013.07.16.11.13.34;	author schwarze;	state Exp;
branches;
next	1.30;

1.30
date	2011.07.18.23.01.10;	author schwarze;	state Exp;
branches;
next	1.29;

1.29
date	2011.04.17.20.32.33;	author sobrado;	state Exp;
branches;
next	1.28;

1.28
date	2010.09.03.11.22.36;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2009.01.21.16.56.03;	author sobrado;	state Exp;
branches;
next	1.26;

1.26
date	2009.01.19.09.46.59;	author sobrado;	state Exp;
branches;
next	1.25;

1.25
date	2007.05.31.19.20.30;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2007.02.21.16.59.59;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2007.02.06.17.44.51;	author jmc;	state Exp;
branches;
next	1.22;

1.22
date	2004.06.26.09.40.52;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2004.06.14.17.11.46;	author millert;	state Exp;
branches;
next	1.20;

1.20
date	2004.06.04.18.04.21;	author otto;	state Exp;
branches;
next	1.19;

1.19
date	2003.12.22.12.06.16;	author jmc;	state Exp;
branches;
next	1.18;

1.18
date	2003.09.04.08.32.15;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2003.06.15.06.40.15;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2003.06.08.23.32.23;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	2003.05.14.06.42.09;	author jsyn;	state Exp;
branches;
next	1.14;

1.14
date	2002.11.09.02.55.45;	author fgsch;	state Exp;
branches;
next	1.13;

1.13
date	2002.06.14.21.35.01;	author todd;	state Exp;
branches;
next	1.12;

1.12
date	2002.03.05.17.30.15;	author millert;	state Exp;
branches;
next	1.11;

1.11
date	2001.09.18.01.50.44;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2001.08.02.18.37.35;	author mpech;	state Exp;
branches;
next	1.9;

1.9
date	2000.08.25.16.37.28;	author jakob;	state Exp;
branches;
next	1.8;

1.8
date	2000.05.05.23.22.39;	author ho;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.25.20.58.30;	author jakob;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.25.20.22.36;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2000.04.25.20.11.06;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	2000.04.25.19.00.21;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2000.04.24.23.37.31;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.24.22.31.29;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	2000.04.24.22.27.00;	author jakob;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.04.24.22.27.00;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.35
log
@Alistair Crooks rescinded the advertising clause of his user(8)
license in 2005 in NetBSD.

https://mail-index.netbsd.org/source-changes/2005/11/25/0002.html
@
text
@.\" $OpenBSD: useradd.8,v 1.34 2016/08/14 09:52:08 tb Exp $
.\" $NetBSD: useradd.8,v 1.26 2003/02/25 10:36:21 wiz Exp $
.\"
.\" Copyright (c) 1999 Alistair G. Crooks.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. The name of the author may not be used to endorse or promote
.\"    products derived from this software without specific prior written
.\"    permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS
.\" OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY
.\" DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
.\" GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
.\" INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
.\" WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
.\" NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
.\" SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.\"
.Dd $Mdocdate: August 14 2016 $
.Dt USERADD 8
.Os
.Sh NAME
.Nm useradd
.Nd add a user to the system
.Sh SYNOPSIS
.Nm useradd
.Fl D
.Op Fl b Ar base-directory
.Op Fl e Ar expiry-time
.Op Fl f Ar inactive-time
.Op Fl g Ar gid | name | Cm =uid
.Op Fl k Ar skel-directory
.Op Fl L Ar login-class
.Op Fl r Ar low Ns .. Ns Ar high
.Op Fl s Ar shell
.Nm useradd
.Op Fl mov
.Op Fl b Ar base-directory
.Op Fl c Ar comment
.Op Fl d Ar home-directory
.Op Fl e Ar expiry-time
.Op Fl f Ar inactive-time
.Op Fl G Ar secondary-group Ns Op , Ns Ar group , Ns ...
.Op Fl g Ar gid | name | Cm =uid
.Op Fl k Ar skel-directory
.Op Fl L Ar login-class
.Op Fl p Ar password
.Op Fl r Ar low Ns .. Ns Ar high
.Op Fl s Ar shell
.Op Fl u Ar uid
.Ar user
.Sh DESCRIPTION
The
.Nm useradd
utility adds a user to the system, creating and
populating a home directory if necessary.
Any skeleton files will be provided
for the new user if they exist in the
.Ar skel-directory
directory (see the
.Fl k
option).
Default values for
the base directory,
the time of password expiry,
the time of account expiry,
primary group,
the skeleton directory,
the range from which the UID will be allocated,
and default login shell
can be provided in the
.Pa /etc/usermgmt.conf
file, which, if running as root, is created using the built-in defaults if
it does not exist.
.Pp
The first form of the command shown above (using the
.Fl D
option)
sets and displays the defaults for the
.Nm
utility.
.Bl -tag -width Ds
.It Fl b Ar base-directory
Sets the base directory.
This is the directory to which the user directory is added,
which will be created if the
.Fl m
option is specified and no
.Fl d
option is specified.
.It Fl D
Without any further options,
.Fl D
will show the current defaults which
will be used by the
.Nm
utility.
Together with one of the options shown for the first version
of the command,
.Fl D
will set the default to be the new value.
See
.Xr usermgmt.conf 5
for more information.
.It Fl e Ar expiry-time
Sets the default time at which new accounts will expire.
It should be entered in the form
.Dq month day year ,
where month is the month name (the first three characters are
sufficient), day is the day of the month, and year is the year.
Time in seconds since the Epoch (UTC) is also valid.
A value of 0 can be used to disable this feature.
.It Fl f Ar inactive-time
Sets the time at which passwords of new accounts will expire.
Also see the
.Fl e
option above.
.It Fl g Ar gid | name | Cm =uid
Sets the default group for new users.
.It Fl k Ar skel-directory
Sets the skeleton directory in which to find files with
which to populate new users' home directories.
.It Fl L Ar login-class
Sets the default login class for new users.
See
.Xr login.conf 5
for more information on user login classes.
.It Xo
.Fl r Ar low Ns .. Ns Ar high
.Xc
Sets the low and high bounds of UID ranges for new users.
A new user can only be created if there are UIDs which can be assigned
from one of the free ranges.
.It Fl s Ar shell
Sets the default login shell for new users.
.El
.Pp
In the second form of the command,
after setting any defaults, and then reading values from
.Pa /etc/usermgmt.conf ,
the following command line options are processed:
.Bl -tag -width Ds
.It Fl b Ar base-directory
Sets the base directory name, in which the user's new home
directory will be created, should the
.Fl m
option be specified.
.It Fl c Ar comment
Sets the comment field (also, for historical reasons known as the
GECOS field) which will be added for the user, and typically will include
the user's full name and, perhaps, contact information for the user.
.It Fl d Ar home-directory
Sets the home directory which will be created and populated for the user,
should the
.Fl m
option be specified.
.It Fl e Ar expiry-time
Sets the time at which the user account will expire.
It should be entered in the form
.Dq month day year ,
where month is the month name (the first three characters are
sufficient), day is the day of the month, and year is the year.
Time in seconds since the Epoch (UTC) is also valid.
A value of 0 can be used to disable this feature.
See
.Xr passwd 5
for more details.
.It Fl f Ar inactive-time
Sets the time at which the current password will expire.
Also see the
.Fl e
option above.
.It Fl G Ar secondary-group Ns Op , Ns Ar group , Ns ...
Sets the secondary groups to which the user will be added in the
.Pa /etc/group
file.
.It Fl g Ar gid | name | Cm =uid
Gives the group name or identifier to be used for the new user's primary group.
If this is the special string
.Cm =uid ,
then a UID and GID will be picked which are both unique
and the same, and a line added to
.Pa /etc/group
to describe the new group.
.It Fl k Ar skel-directory
Gives the skeleton directory in which to find files
with which to populate the new user's home directory.
.It Fl L Ar login-class
This option sets the login class for the user being created.
See
.Xr login.conf 5
for more information on user login classes.
.It Fl m
Create a new home directory for the new user.
.It Fl o
Allow the new user to have a UID which is already in use for another user.
.It Fl p Ar password
Specifies a password encrypted with
.Xr encrypt 1
for the new user.
This password can then be changed by using the
.Xr chpass 1
utility.
If this option is not specified, and no default exists in
.Pa /etc/usermgmt.conf ,
the account will be disabled by default.
.It Fl s Ar shell
Specifies the login shell for the new user.
.It Fl u Ar uid
Specifies a UID for the new user.
Boundaries for this value can be preset for all users
by using the
.Ar range
field in the
.Pa /etc/usermgmt.conf
file.
.It Fl v
Enables verbose mode - explain the commands as they are executed.
.El
.Pp
Once the information has been verified,
.Nm
uses
.Xr pwd_mkdb 8
to update the user database.
This is run in the background and,
at very large sites, could take several minutes.
Until this update is completed, the password file is unavailable for other
updates and the new information is not available to programs.
.Sh FILES
.Bl -tag -width /etc/usermgmt.conf -compact
.It Pa /etc/usermgmt.conf
.It Pa /etc/skel/*
.It Pa /etc/login.conf
.El
.Sh EXIT STATUS
.Ex -std useradd
.Sh SEE ALSO
.Xr chpass 1 ,
.Xr group 5 ,
.Xr login.conf 5 ,
.Xr passwd 5 ,
.Xr usermgmt.conf 5 ,
.Xr pwd_mkdb 8 ,
.Xr user 8 ,
.Xr userdel 8 ,
.Xr usermod 8
.Sh STANDARDS
Other implementations of the
.Nm useradd
utility use the
.Ar inactive-time
parameter to refer to the maximum number of days allowed between logins (this
is used to lock "stale" accounts that have not been used for a period of time).
However, on
.Ox
systems this parameter refers instead to the password change time.
This is due to differences in the
.Xr passwd 5
database compared to other operating systems.
.Sh HISTORY
The
.Nm
utility first appeared in
.Ox 2.7 .
.Sh AUTHORS
The
.Nm
utility was written by
.An Alistair G. Crooks Aq Mt agc@@NetBSD.org .
@


1.34
log
@Xr encrypt(1) in the explanation of the -p option.

ok jmc
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.33 2015/09/12 15:14:11 schwarze Exp $
d14 1
a14 4
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by Alistair G. Crooks.
.\" 4. The name of the author may not be used to endorse or promote
d31 1
a31 1
.Dd $Mdocdate: September 12 2015 $
@


1.33
log
@use .Cm for fixed string arguments
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.32 2015/03/13 19:58:41 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: March 13 2015 $
d213 3
a215 1
Specifies an already-encrypted password for the new user.
@


1.32
log
@remove the first comma from constructs like ", and," and ", or,": you can use
"and" and "or" to join sentence clauses, and you can use commas, but both hinders
reading;
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.31 2013/07/16 11:13:34 schwarze Exp $
d34 1
a34 1
.Dd $Mdocdate: July 16 2013 $
a41 1
.Bk -words
d46 1
a46 1
.Op Fl g Ar gid | name | Li =uid
a50 1
.Ek
a51 1
.Bk -words
d59 1
a59 1
.Op Fl g Ar gid | name | Li =uid
a66 1
.Ek
d133 1
a133 1
.It Fl g Ar gid | name | Li =uid
d192 1
a192 1
.It Fl g Ar gid | name | Li =uid
d194 2
a195 2
If this is
.Ql =uid ,
@


1.31
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.30 2011/07/18 23:01:10 schwarze Exp $
d34 1
a34 1
.Dd $Mdocdate: July 18 2011 $
d170 1
a170 1
the user's full name, and, perhaps, contact information for the user.
d243 2
a244 2
This is run in the background, and,
at very large sites could take several minutes.
@


1.30
log
@Sync user(8) SYNOPSIS to useradd(8) and userinfo(8)
as suggested by Glen Anderson <g dot s dot anderson at gmail dot com>;
while here, add a few missing "[,group,...]",
do not lump punctuation into .Ar, and drop useless .Li from "..".
OK jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.29 2011/04/17 20:32:33 sobrado Exp $
d34 1
a34 1
.Dd $Mdocdate: April 17 2011 $
d287 1
a287 1
.An Alistair G. Crooks Aq agc@@NetBSD.org .
@


1.29
log
@improve line breaking in the SYNOPSIS section.

as noted by schwarze@@, the semantics of the .Bk macro is slightly
different now to conform with modern groff releases; using a
command-line option (.Op) macro, instead of its multiline version,
while preserving the .Bk/.Ek block makes our manual pages compatible
with mandoc, new groff and even groff-1.15.

ok jmc@@, schwarze@@
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.28 2010/09/03 11:22:36 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: September 3 2010 $
d50 1
a50 1
.Op Fl r Ar low Ns Li .. Ns Ar high
d61 1
a61 1
.Op Fl G Ar secondary-group[,group,...]
d66 1
a66 1
.Op Fl r Ar low Ns Li .. Ns Ar high
d148 1
a148 1
.Fl r Ar low Ns Li .. Ns Ar high
d192 1
a192 1
.It Fl G Ar secondary-group[,group,...]
@


1.28
log
@add an EXIT STATUS section for /usr/sbin;
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.27 2009/01/21 16:56:03 sobrado Exp $
d34 1
a34 1
.Dd $Mdocdate: January 21 2009 $
d47 1
a47 2
.Oo
.Fl g Ar gid | name | Li =uid Oc
d50 1
a50 3
.Oo
.Fl r Ar low Ns Li .. Ns Ar high
.Oc
d62 1
a62 2
.Oo
.Fl g Ar gid | name | Li =uid Oc
d66 1
a66 3
.Oo
.Fl r Ar low Ns Li .. Ns Ar high
.Oc
@


1.27
log
@paragraphs and sentences start with uppercase letters; synchronize
the synopsis and usage of user(8) related commands; sort the options
list in the DESCRIPTION section of the manual pages; spacing.

ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.26 2009/01/19 09:46:59 sobrado Exp $
d34 1
a34 1
.Dd $Mdocdate: January 19 2009 $
a252 2
.Pp
.Ex -std useradd
d259 2
@


1.26
log
@replace standardized text concerning the exit values of applications
with the right mdoc macros.
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.25 2007/05/31 19:20:30 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate: May 31 2007 $
d44 1
a44 1
.Op Fl b Ar base-dir
d49 1
a49 1
.Op Fl k Ar skel-dir
d59 1
a59 1
.Op Fl b Ar base-dir
d61 1
a61 1
.Op Fl d Ar home-dir
d67 1
a67 1
.Op Fl k Ar skel-dir
d84 1
a84 1
.Ar skel-dir
d108 8
d117 1
a117 1
without any further options,
a129 8
.It Fl b Ar base-dir
sets the base directory.
This is the directory to which the user directory is added,
which will be created if the
.Fl m
option is specified and no
.Fl d
option is specified.
d131 1
a131 1
sets the default time at which new accounts will expire.
d139 1
a139 1
sets the time at which passwords of new accounts will expire.
d143 4
a146 4
.It Fl g Ar gid | groupname | Li =uid
sets the default group for new users.
.It Fl k Ar skel-dir
sets the skeleton directory in which to find files with
d149 1
a149 1
sets the default login class for new users.
d156 1
a156 1
sets the low and high bounds of UID ranges for new users.
d160 1
a160 1
sets the default login shell for new users.
d169 1
a169 1
is the base directory name, in which the user's new home
d174 1
a174 1
is the comment field (also, for historical reasons known as the
d178 1
a178 1
is the home directory which will be created and populated for the user,
d183 1
a183 1
sets the time at which the user account will expire.
d194 1
a194 1
sets the time at which the current password will expire.
d199 1
a199 1
are the secondary groups to which the user will be added in the
d203 1
a203 1
gives the group name or identifier to be used for the new user's primary group.
d210 2
a211 2
.It Fl k Ar skeleton directory
gives the skeleton directory in which to find files
d219 1
a219 1
create a new home directory for the new user.
d221 1
a221 1
allow the new user to have a UID which is already in use for another user.
d223 1
a223 1
specifies an already-encrypted password for the new user.
d231 1
a231 1
specifies the login shell for the new user.
d233 1
a233 1
specifies a UID for the new user.
d241 1
a241 1
enables verbose mode - explain the commands as they are executed.
@


1.25
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.24 2007/02/21 16:59:59 jmc Exp $
d34 1
a34 1
.Dd $Mdocdate$
d254 1
a254 3
The
.Nm
utility exits 0 on success, and \*(Gt0 if an error occurs.
@


1.24
log
@put -L and -G in the right place;
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.23 2007/02/06 17:44:51 jmc Exp $
d34 1
a34 1
.Dd September 5, 2001
@


1.23
log
@discuss consistently "the Epoch";
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.22 2004/06/26 09:40:52 jmc Exp $
d49 1
a50 1
.Op Fl k Ar skel-dir
a58 1
.Op Fl G Ar secondary-group[,group,...]
d64 1
a167 4
.It Fl G Ar secondary-group[,group,...]
are the secondary groups to which the user will be added in the
.Pa /etc/group
file.
d198 4
@


1.22
log
@should have updated all of these first - the same wordo in them all.
also, section order for usermgmt.conf.5 was wrong.
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.21 2004/06/14 17:11:46 millert Exp $
d136 1
a136 1
Time in seconds since the epoch (UTC) is also valid.
d192 1
a192 1
Time in seconds since the epoch (UTC) is also valid.
@


1.21
log
@Document where we diverge from other implementations (due to different
fields in passwd(5)).  OK otto@@ a while ago.
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.20 2004/06/04 18:04:21 otto Exp $
d279 1
a279 1
us used to lock "stale" accounts that have not been used for a period of time).
@


1.20
log
@Clear up some confusion: -e is account expiry flag, -f is password
expiry flag. Resolves PR 3792, though not by changing code, but by
changing docs, comments and an error message or two.
ok jmc@@ millert@@
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.19 2003/12/22 12:06:16 jmc Exp $
d273 13
@


1.19
log
@use .Fl for flag;
from Franciszek Holop;
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.18 2003/09/04 08:32:15 jmc Exp $
d131 1
a131 2
sets the default time at which the current password will expire for new
users.
d139 1
a139 1
sets the default time at which new user accounts will expire.
d187 1
a187 2
sets the time at which the current password will expire for new
users.
d198 1
a198 1
sets the time at which new user accounts will expire.
@


1.18
log
@clarify that user's full name (not username) generally goes in GECOS;
from Jeff Ross.
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.17 2003/06/15 06:40:15 jmc Exp $
d184 3
a186 1
should the -m option be specified.
@


1.17
log
@small mdoc fixes;
ok millert@@
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.16 2003/06/08 23:32:23 millert Exp $
d181 1
a181 1
the username, and, perhaps, contact information for the user.
@


1.16
log
@Sync man pages w/ NetBSD version
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.15 2003/05/14 06:42:09 jsyn Exp $
d42 1
d55 1
d57 1
d76 1
d94 1
a94 1
the range from which the uid will be allocated,
d157 3
a159 3
sets the low and high bounds of uid ranges for new users. A new user
can only be created if there are uids which can be assigned from one
of the free ranges.
d206 1
a206 1
then a uid and gid will be picked which are both unique
d214 2
a215 1
This option sets the login class for the user being created.  See
d221 1
a221 1
allow the new user to have a uid which is already in use for another user.
d233 1
a233 1
specifies a uid for the new user.
d248 5
a252 4
to update the user database.  This is run in the background, and,
at very large sites could take several minutes.  Until this update
is completed, the password file is unavailable for other updates
and the new information is not available to programs.
d282 1
a282 2
.An Alistair G. Crooks
.Aq agc@@NetBSD.org .
@


1.15
log
@Mention that without a password being specified, the account is disabled
by default.  Idea from Ross.Richardson@@utas.edu.au, discussed with
millert@@; closes PR 3257.
@
text
@d1 2
a2 2
.\" $OpenBSD: useradd.8,v 1.14 2002/11/09 02:55:45 fgsch Exp $
.\" $NetBSD: useradd.8,v 1.10 2001/02/21 12:16:07 agc Exp $
d45 1
a45 1
.Op Fl f Ar password-change-secs
d61 1
a61 1
.Op Fl f Ar password-change-secs
d80 4
a83 2
.Pa /etc/skel
directory.
d87 1
a87 1
seconds until password change,
d94 2
a95 1
file.
d97 1
a97 1
The first format of the command shown above (utilising the
d110 2
a111 1
utility. Together with one of the options shown for the first version
d115 3
d119 3
a121 2
sets the base directory. This is the directory to which the user name
is added, which will be created if the
d127 13
a139 11
sets the time at which the current password will expire for new users.
.It Fl f Ar password-change-secs
provides the number of seconds since the epoch (UTC) at
which the current password must be changed. This
can be used to implement password aging.
A value of
0 can be used to switch off this feature.
The default value for this field is 0.
See
.Xr passwd 5
for more details.
d141 1
a141 3
sets the default group for any user added using the
.Nm
command.
d146 2
a147 1
This option sets the login class for the user being created.  See
d149 1
a149 1
for more information on login classes.
d157 1
a157 1
sets the login shell for new users.
d161 3
a163 2
after setting any defaults, and then values from that file,
the command line options are processed:
d166 1
a166 1
is the secondary groups to which the user will be added in the
d171 3
a173 8
directory will be created, should the -m option be specified.
This value can be preset for all users
by using the
.Ar base_dir
field in the
.Pa /etc/usermgmt.conf
file - it has the format:
.D1 Ic base_dir Ar path-to-base-dir
d181 9
a189 7
.It Fl e Ar secs-to-expiry
provides the number of seconds since the epoch (UTC) at
which the current password change expire. This
can be used to implement password aging.
A value of
0 can be used to switch off this feature.
The default value for this field is 0.
d193 5
a197 7
This value can be preset for all users
by using the
.Ar expire
field in the
.Pa /etc/usermgmt.conf
file - it has the format:
.D1 Ic expire Ar secs-to-expiry
a205 11
This value can be preset for all users
by using the
.Ar gid
field in the
.Pa /etc/usermgmt.conf
file - it has the format:
.br \" XXX This shouldn't be needed -- mdoc bug? --bjh21
.Bd -ragged -offset indent -compact
.Ic group
.Ar gid | name | Li =uid
.Ed
a208 6
This value can be preset for all users by using the
.Ar skel_dir
field in the
.Pa /etc/usermgmt.conf
file - it has the format:
.D1 Ic skel_dir Ar path-to-skeleton-dir
d212 1
a212 7
for more information on login classes. This value can be preset
for all users by using the
.Ar class
field in the
.Pa /etc/usermgmt.conf
file - it has the format:
.D1 Ic class Ar login-class
d222 3
a224 9
This value can be preset for all users
by using the
.Ar password
field in the
.Pa /etc/usermgmt.conf
file - it has the format:
.D1 Ic password Ar encrypted-password
.Pp
If this option is not specified, the account will be disabled by default.
a226 7
This value can be preset for all users
by using the
.Ar shell
field in the
.Pa /etc/usermgmt.conf
file - it has the format:
.D1 Ic shell Ar login-shell
d234 1
a234 4
file - they have the format:
.Bd -unfilled -offset indent -compact
.Ic range Ar starting-uid Ns Li .. Ns Ar ending-uid
.Ed
d250 1
a250 1
utility exits 0 on success, and >0 if an error occurs.
d262 1
d275 3
a277 1
utility was written by Alistair G. Crooks (agc@@netbsd.org).
@


1.14
log
@yet another round of SEE ALSO fixes.
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.12 2002/03/05 17:30:15 millert Exp $
d247 2
@


1.13
log
@spelling; from Brian Poole <raj@@cerias.purdue.edu>
@
text
@d291 2
a293 1
.Xr group 5 ,
d297 1
a297 2
.Xr usermod 8 ,
.Xr login.conf 5
@


1.12
log
@'user -D -k path' was not actually changing the default values unless another
option to change was specified.  Also fix man page formatting mistake.
From Brian Poole
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.11 2001/09/18 01:50:44 millert Exp $
d34 1
a34 1
.Dd Septemper 5, 2001
@


1.11
log
@Sync with NetBSD plus the following changes:
o use LINE_MAX for the max password entry length.  This is also what
  pwd_mkdb does.
o add more checks for lines that are too long
o kill some useless (and incorrect) casts
o check snprintf() return vals for sanity before use
o sync usage() with man pages
o slight KNF
o eliminate some silly uses of snprintf
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.10 2001/08/02 18:37:35 mpech Exp $
d49 1
a50 1
.Op Fl k Ar skel-dir
@


1.10
log
@o) .Sh AUTHOR -> .Sh AUTHORS;
o) .Sh EXAMPLE -> .Sh EXAMPLES;
o) Delete .Sh OPTIONS. Text moved to .Sh DESCRIPTION;

millert@@ ok
@
text
@d1 2
a2 3
.\" $OpenBSD: useradd.8,v 1.9 2000/08/25 16:37:28 jakob Exp $ */
.\" $NetBSD: useradd.8,v 1.5 2000/02/28 05:10:57 enami Exp $ */
.\"
d34 1
a34 1
.Dd November 30, 1999
d42 1
a42 1
.Op Fl D
d45 8
a52 3
.Op Fl f Ar inactive-secs
.Op Fl g Ar gid/name/=uid
.Op Fl r Ar low..high
d55 1
d61 3
a63 2
.Op Fl f Ar inactive-secs
.Op Fl g Ar gid/name/=uid
d65 1
a65 2
.Op Fl m
.Op Fl o
d67 3
a69 1
.Op Fl r Ar low..high
a71 1
.Op Fl v
d78 1
a78 1
Any skeleton dot files will be provided
d82 5
a86 1
Default values for the base directory, the time of password expiry,
d88 3
a90 3
seconds until password change, primary group, the range from which the uid will be
allocated,
and default login shell can be provided in the
d94 3
a96 1
The first format of the command shown above (utilising the -D option)
d102 3
a104 1
without any further options, -D will show the current defaults which
d108 3
a110 1
of the command, -D will set the default to be the new value.
d113 5
a117 2
is added, which will be created if the -m option is specified and no
-d option is specified.
d119 12
a130 5
sets the time at which the current password will expire for this user.
.It Fl f Ar inactive-secs
sets the number of seconds after which, if no login has occurred for
the user during that time, the login will be "locked".
.It Fl g Ar gid/groupname/=uid
d134 10
a143 1
.It Fl r Ar low..high
d168 1
a168 1
.Ar base_dir <path-to-base-dir> .
d192 2
a193 2
.Ar expire <secs-to-expiry> .
.It Fl g Ar gid/name/=uid
d196 1
a196 1
.Ar "-g=uid" ,
d207 5
a211 1
.Ar group <groupname/groupid/=uid> .
d213 1
a213 1
gives the skeleton directory in which to find dot files
d215 16
d246 1
a246 1
.Ar password <encrypted-password> .
d255 1
a255 1
.Ar shell <login-shell> .
d264 3
a266 1
.Ar range <starting-uid>..<ending-uid> .
d271 9
d286 2
a287 1
.It Pa /etc/skel/.[A-z]*
d293 1
d296 2
a297 1
.Xr usermod 8
@


1.9
log
@document -s option with -D; PR#1374
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.8 2000/05/05 23:22:39 ho Exp $ */
d234 1
a234 1
.Sh AUTHOR
@


1.8
log
@Make -G flag work for user{add,mod}.
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.7 2000/04/25 20:58:30 jakob Exp $ */
d49 1
d112 2
@


1.7
log
@references to /usr/share/examples/usermgmt removed as we do not have that
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.6 2000/04/25 20:22:36 jakob Exp $ */
d50 1
a50 1
.Op Fl G Ar secondary-group
d117 2
a118 2
.It Fl G Ar secondary-group
is the secondary group to which the user will be added in the
@


1.6
log
@s/.Os NetBSD/.Os/
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.5 2000/04/25 20:11:06 jakob Exp $ */
a217 1
.It Pa /usr/share/examples/usermgmt
@


1.5
log
@we are OpenBSD and HISTORY should say so
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.4 2000/04/25 19:00:21 jakob Exp $ */
d37 1
a37 1
.Os NetBSD
@


1.4
log
@remove some non-important HISTORY
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.3 2000/04/24 23:37:31 jakob Exp $ */
d231 1
a231 1
.Nx 1.5 .
@


1.3
log
@clean up bogus .Nm ""
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.2 2000/04/24 22:31:29 jakob Exp $ */
a231 3
It is based on the
.Ar addnerd
package by the same author.
@


1.2
log
@id-tags
@
text
@d1 1
a1 1
.\" $OpenBSD: useradd.8,v 1.5 2000/02/28 05:10:57 enami Exp $ */
d42 1
a42 1
.Nm ""
d49 1
a49 1
.Nm ""
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@Initial import of user/group management tools from NetBSD.
@
text
@@
