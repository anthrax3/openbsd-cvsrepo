head	1.5;
access;
symbols
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_9:1.4.0.4
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4;
locks; strict;
comment	@.\" @;


1.5
date	2001.05.01.17.26.30;	author aaron;	state dead;
branches;
next	1.4;

1.4
date	2000.10.30.18.48.02;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	2000.09.09.17.14.56;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	2000.09.01.23.16.27;	author aaron;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.01.05.59.12;	author aaron;	state Exp;
branches;
next	;


desc
@@


1.5
log
@The old (pcvt) moused is gone in favor of the new (wscons) wsmoused.
@
text
@.\"	$OpenBSD: moused.8,v 1.4 2000/10/30 18:48:02 aaron Exp $
.\"
.Dd August 30, 2000
.Dt MOUSED 8 i386
.Os
.Sh NAME
.Nm moused
.Nd
mouse daemon
.Sh SYNOPSIS
.Nm moused
.Op Fl 3DPRcdfs
.Op Fl I Ar pid_file
.Op Fl F Ar rate
.Op Fl r Ar resolution
.Op Fl S Ar baudrate
.Op Fl C Ar threshold
.Op Fl t Ar protocol
.Op Fl m Ar mousetype
.Op Fl M Ar N=M
.Op Fl w Ar N
.Op Fl z Ar target
.Op Fl b Ar buttons
.Ar -p Ar device
.Nm moused
.Ar -i Ar info
.Ar -p Ar device
.Sh DESCRIPTION
.Nm
listens for mouse events on the specified
.Ar device
and communicates them to the
.Xr pcvt 4
driver through the
.Pa /dev/pcvtctl
interface.
Its purpose is to provide copy/paste functionality on the PC console.
.Pp
By default, the left mouse button is used to select text (in the familiar
click-and-drag fashion), the right button is used to extend the selection,
and the middle button pastes.
This behavior can be modified through the use of
.Fl M ,
i.e.,
.Fl M
.Ar 2=3
maps the right mouse button to paste.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl 3
Emulate the third (middle) button for 2-button mice.
It is emulated by pressing the left and right physical buttons simultaneously.
.It Fl C
Set double click speed as the maximum interval in msec between button clicks.
If omitted, the default value of 500 msec will be assumed.
This option will have effect only on the cut and paste operations
in the text mode console.
.It Fl D
Lower DTR on the serial port.
This option is valid only if
.Em mousesystems
is selected as the protocol type.
The DTR line may need to be dropped for a 3-button mouse to operate in the
.Em mousesystems
mode.
.It Fl F Ar rate
Set the report rate (reports/sec) of the device, if supported.
.It Fl I Ar file
Write the process ID of
.Nm
to the specified
.Ar file .
If omitted, the process ID will be stored in
.Pa /var/run/moused.pid .
.It Fl P
Do not start the Plug and Play COM device enumeration procedure when identifying
the serial mouse.
If this option is given together with the
.Fl i
option,
.Nm
won't be able to print useful information for the serial mouse.
.It Fl R
Lower RTS on the serial port.
This option is valid only if
.Em mousesystems
is selected as the protocol type by the
.Fl t
option below.
It is often used with the
.Fl D
option above.
Both the RTS and DTR lines may need to be dropped for a
3-button mouse to operate in the
.Em mousesystems
mode.
is selected as the protocol type by the
.Em mousesystems
mode.
.It Fl S Ar baudrate
Select the baudrate for the serial port (1200 to 9600). Not all serial mice
support this option.
.It Fl c
Some mice report middle button down events as if the left and right buttons are
pressed.
This option handles this.
.It Fl d
Enable debugging messages.
.It Fl f
Do not become a daemon and instead run as a foreground process.
Useful for testing and debugging.
.It Fl i Ar info
Print specified information and quit.
Available pieces of information are:
.Bl -tag -width model
.It port
Device name, i.e.,
.Pa /dev/cua0[0-3]
for a serial mouse,
.Pa /dev/lms0
for a logitech-style bus mouse,
.Pa /dev/mms0
for a microsoft-style bus mouse and
.Pa /dev/psm0
for a PS/2 mouse.
.It if
Physical interface: serial, bus, inport, or PS/2.
.It type
Protocol type: one of the types supported by the
.Fl t
option.
.It model
Mouse model.
.Nm
may not always be able to identify the model.
.It all
All of the above options.
Print device name, physical interface, type, and model in this order, on
a single line.
.El
.It Fl m Ar mousetype
Precise the model of the mouse.
For example,
.Em intellimouse
can be specified for a PS/2 mouse with a wheel.
.It Fl M Ar N=M
Assign the physical button
.Em N
to the logical button
.Em M .
You may specify as many instances of this option as you like.
More than one
physical button may be assigned to a logical button at the same time.
In this case the logical button will be down, if either of the assigned
physical buttons is held down.
Do not put space around
.Ql = .
.It Fl w Ar N
Make the physical button
.Ar N
act as the wheel mode button.
While this button is pressed, X and Y axis movement is reported to be zero
and the Y axis movement is mapped to Z axis.
You may further map the Z axis movement to virtual buttons by the
.Fl z
option below.
.It Fl z Ar target
Map Z axis (roller/wheel) movement to another axis or to virtual buttons.
Valid
.Ar targets
are:
.Bl -tag -width x___
.It Ar x , Ar y
X or Y axis movement will be reported when Z axis movement is detected.
.It Ar N
Report the virtual buttons
.Ar N
and
.Ar N+1
down events respectively when negative and positive Z axis movement
is detected.
There doesn't need to be physical buttons
.Ar N
and
.Ar N+1 .
Note that mapping to logical buttons is carried out after mapping
from the Z axis movement to the virtual buttons is done.
.El
.It Fl p Ar port
Use the device
.Em port
to communicate with the mouse.
.Em port
must be one of
.Pa /dev/cua0[0-3]
for a serial mouse,
.Pa /dev/lms0
for a logitech-bus style mouse,
.Pa /dev/mms0
for a microsoft-bus style mouse or
.Pa /dev/psm0
for a PS/2 mouse.
.It Fl r Ar resolution
Set the resolution of the device; in Dots Per Inch, or
.Em low ,
.Em medium-low ,
.Em medium-high ,
or
.Em high .
This option may not be supported by all the devices.
.It Fl s
Select a baudrate of 9600 for the serial line.
Not all serial mice support this option.
.It Fl t Ar type
Specify the protocol type of the mouse attached to the port.
You may explicitly specify a type listed below or use
.Em auto
to let
.Nm
to automatically select an appropriate protocol for the given mouse.
If this option is not specified,
.Em auto
is assumed.
Under normal circumstances, you need to use this option only if
.Nm
is unable to detect the protocol automatically.
.Pp
Note that if a protocol type is specified with this option, the
.Fl P
option above is implied and Plug and Play COM device enumeration procedure
will be disabled.
.Pp
Also note that if your mouse is attached to the PS/2 mouse port,
you should always choose
.Em auto
or
.Em ps/2 ,
regardless of the brand and model of the mouse.
Likewise, if your mouse is attached to the bus mouse port, choose
.Em auto
or
.Em busmouse .
Serial mouse protocols will not work with these mice.
.Pp
Valid protocol types for this option are the following:
.Pp
For serial mice:
.Bl -tag -width thinkingmouse
.It microsoft
Microsoft serial mouse protocol.
Most 2-button serial mice use this protocol.
.It intellimouse
Microsoft IntelliMouse protocol.
Genius NetMouse, ASCII Mie Mouse, Logitech MouseMan+, and FirstMouse+ use
use this protocol as well.
Other mice with a roller/wheel may be compatible with this protocol.
.It mousesystems
MouseSystems 5-byte protocol.
3-button mice may use this protocol.
.It mmseries
MM Series mouse protocol.
.It logitech
Logitech mouse protocol.
Note that this is for old Logitech models
.Em mouseman
or
.Em intellimouse
should be specified for newer models.
.It mouseman
Logitech MouseMan and TrackMan protocol.
Some 3-button mice may be compatible with this protoco.
Note that MouseMan+ and FirstMouse+ use
.Em intellimouse
protocol rather than this one.
.It glidepoint
ALPS GlidePoint protocol.
.It thinkingmouse
Kensington ThinkingMouse protocol.
.It mmhitab
Hitachi tablet protocol.
.El
.Pp
For the Logitech-style and Microsoft-style bus mice:
.Bl -tag -indent -width thinkingmouse
.It busmouse
This is the only protocol type available for the bus style
mice and should be specified for any bus style mice, regardless of the brand.
.El
.Pp
For the PS/2 mouse:
.Bl -tag -indent -width thinkingmouse
.It ps/2
This is the only protocol type available for the PS/2 mouse and
should be specified for any PS/2 mice, regardless of the brand.
.Sh SEE ALSO
.Xr pcvt 4
.Sh HISTORY
The
.Nm
daemon is a slightly modified version of the moused daemon from the
FreeBSD project, written by Michael Smith <msmith@@FreeBSD.org>.
Both inherit code from the XFree Project.
@


1.4
log
@Fix up this man page considerably.
@
text
@d1 1
a1 1
.\"	$OpenBSD: moused.8,v 1.3 2000/09/09 17:14:56 deraadt Exp $
@


1.3
log
@i386 only
@
text
@d1 1
a1 1
.\"	$OpenBSD: moused.8,v 1.2 2000/09/01 23:16:27 aaron Exp $
d52 2
a53 2
Emulate the third (middle) button for 2-button mice.  It is emulated by pressing
the left and right physical buttons simultaneously.
d56 3
a58 2
Without this option, the default value of 500 msec will be assumed. This option
will have effect only on the cut and paste operations in the text mode console.
d60 6
a65 5
Lower DTR on the serial port. This option is valid only if
.Pa mousesystems
is selected as the protocol type. The DTR line may need to be
dropped for a 3-button mouse to operate in the
.Pa mousesystems
d68 1
a68 1
Set the report rate (reports/sec) of the device if supported.
d70 6
a75 5
Write the process id of the
.Pa moused
daemon in the specified file. Without this option, the process id will be stored
in
.Pa /var/run/moused.pid.
d78 6
a83 5
the serial mouse.  If this option is given together with the
.Pa i
option, the
.Pa moused
command won't be able to print useful information for the serial mouse.
d85 3
a87 2
Lower RTS on the serial port. This option is valid only if
.Pa mousesystems
d89 6
a94 3
.Pa -t
option below. It is often used with the
.Pa -D option above. Both RTS and DTR lines may need to be dropped for a
d96 1
a96 1
.Pa mousesystems
d99 1
a99 1
.Pa mousesystems
d106 2
a107 1
pressed. This option handles this.
d111 2
a112 2
Do not become a daemon and instead run as a foreground process. Useful for
testing and debugging.
d114 5
a118 3
Print specified information and quit. Available pieces of information are :
.Bl -column -indent
.It port Ta Device name, i.e.,
d127 5
a131 3
.It if Ta Physical interface : serial, bus, inport or PS/2.
.It type Ta Protocol type : one of the type supported by the
.Pa -t
d133 8
a140 5
.It model Ta Mouse model. The
.Pa moused
command may not always be able to identify the model.
.It all Ta All of the above options. Print device name, physical interface, type
and model in this order, in one line.
d143 3
a145 2
Precise the model of the mouse. For example,
.Pa IntelliMouse
d149 1
a149 1
.Pa N
d151 8
a158 5
.Pa M.
You may specify as many instances of this option as you like. More than one
physical button may be assigned to a logical button at the same time. In this
case the logical button will be down, if either of the assigned physical buttons
is held down.  Do not put space around `='.
d171 5
a175 6
.Ar target
maybe:
.Bl -tag -compact -width x__
.It Ar x
.It Ar y
X or Y axis movement will be reported when the Z axis movement is detected.
d192 1
a192 1
.Pa port
d194 1
a194 1
.Pa port
d206 3
a208 5
.Pa low
,
.Pa medium-low
,
.Pa medium-high
d210 1
a210 1
.Pa high.
d213 2
a214 2
Select a baudrate of 9600 for the serial line. Not all serial mice support this
option.
d216 12
a227 11
Specify the protocol type of the mouse attached to the port. You may explicitly
specify a type listed below or use
.Pa auto
to let the
.Pa moused
command to automatically select an appropriate protocol for the given mouse. If
you entirely ommit this option in the command line,
.Pa auto
is assumed. Under normal circumstances, you need to use this option only if the
.Pa moused
command is unable to detect the protocol automatically.
d230 3
a232 2
.Pa -P
option above is implied and Plug and Play COM device enumeration procedure will be disabled.
d236 1
a236 1
.Pa auto
d238 4
a241 4
.Pa ps/2 ,
regardless of the brand and model of the mouse. Likewise, if your mouse is
attached to the bus mouse port, choose
.Pa auto
d243 1
a243 1
.Pa busmouse .
d246 1
a246 1
Valid protocol type for this option are the following:
d250 17
a266 10
.It microsoft Ta Microsoft serial mouse protocol. Most 2-button serial mice use this protocol.
.It intellimouse Ta Microsoft IntelliMouse protocol. Genius NetMouse, ASCII Mie
Mouse, Logitech MouseMan+ and FirstMouse+ use this protocol too. Other mice
with a roller/wheel may be compatible with this protocol.
.It mousesystems Ta MouseSystems 5-byte protocol. 3-button mice may use this
protocol.
.It mmseries Ta MM Series mouse protocol.
.It logitech Ta Logitech mouse protocol. Note that this is for old Logitech
models.
.Pa mouseman
d268 1
a268 1
.Pa intellimouse
d270 5
a274 3
.It mouseman Ta Logitech MouseMan and TrackMan protocol. Some 3-button mice
may be compatible with this protocol. Note that MouseMan+ and FirstMouse+ use
.Pa intellimouse
d276 6
a281 3
.It glidepoint Ta  ALPS GlidePoint protocol.
.It thinkingmouse Ta Ta Kensington ThinkingMouse protocol.
.It mmhitab Ta Hitachi tablet protocol.
d284 4
a287 3
For the Logitech-style and Microsoft-style bus mouse:
.Bl -tag -indent
.It busmouse Ta This is the only protocol type available for the bus style
d292 3
a294 2
.Bl -tag -indent
.It ps/2 Ta This is the only protocol type available for the PS/2 mouse and
d299 5
a303 3
This moused daemon is a slightly modified version of the moused daemon from the
FreeBSD project, written by Michael Smith <msmith@@FreeBSD.org>. Both inherits of
code from the Xfree Project.
@


1.2
log
@A start at fixing this man page up, but I must go out now, so I'll finish it
a bit later.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d4 1
a4 1
.Dt MOUSED 8
d249 1
a249 1
.It thinkingmouse Ta Kensington ThinkingMouse protocol.
@


1.1
log
@Userland mouse daemon for new PCVT mouse features. The daemon must be started
for the mouse to work. A common usage for a PS/2 mouse might be:

/usr/sbin/moused -p /dev/psm0 -M2=3 -m IntelliMouse

This sets the mouse port to /dev/psm0, maps the right mouse button to paste
(by default, the right mouse button is for "extending" selections and the
middle button pastes), and the -m flag sets the specific model, in this example
for a Microsoft IntelliMouse, which enables the wheel scrollback functionality.
Note that for wheel mice you also need "option INTELLIMOUSE" compiled into the
kernel.

This daemon comes from FreeBSD and was ported to OpenBSD by Jean-Baptiste
Marchand.
@
text
@d1 2
a5 1

d11 1
a11 1
.Nm 
d25 1
a25 2

.Nm 
a27 1

d29 21
a49 9
.Nm 
is the mouse daemon, whose purpose is to handle the mouse under the
console, providing copy and paste functions.

The daemon listens to mouse events, read bytes from the mouse, translates with 
the appropriate protocol and then transmits to the pcvt console driver the
actions to execute. 

The following options are available:
d54 2
a55 2
.It Fl C 
Set double click speed as the maximum interval in msec between button clicks. 
d60 1
a60 1
.Pa mousesystems 
d62 1
a62 1
dropped for a 3-button mouse to operate in the 
d68 1
a68 1
Write the process id of the 
d71 1
a71 1
in 
d75 3
a77 3
the serial mouse.  If this option is given together with the 
.Pa i 
option, the 
d81 2
a82 2
Lower RTS on the serial port. This option is valid only if 
.Pa mousesystems 
d87 2
a88 2
3-button mouse to operate in the 
.Pa mousesystems 
d107 1
a107 1
.It port Ta Device name, i.e. 
d110 1
a110 1
.Pa /dev/lms0 
d114 1
a114 1
.Pa /dev/psm0 
d118 1
a118 1
.Pa -t 
d120 2
a121 2
.It model Ta Mouse model. The 
.Pa moused 
d124 1
a124 1
and model in this order, in one line. 
d127 2
a128 2
Precise the model of the mouse. For example, 
.Pa IntelliMouse 
d133 1
a133 1
to the logical button 
d135 2
a136 2
You may specify as many instances of this option as you like. More than one 
physical button may be assigned to a logical button at the same time. In this 
d145 1
a145 1
You may further map the Z axis movement to virtual buttons by the 
d159 4
a162 4
.Ar N 
and 
.Ar N+1 
down events respectively when negative and positive Z axis movement 
d164 1
a164 1
There doesn't need to be physical buttons 
d166 1
a166 1
and 
d172 1
a172 1
Use the device 
d174 1
a174 1
to communicate with the mouse. 
d176 1
a176 1
must be one of 
d181 1
a181 1
.Pa /dev/mms0 
d186 1
a186 1
Set the resolution of the device; in Dots Per Inch, or 
d202 1
a202 1
to let the 
d205 1
a205 1
you entirely ommit this option in the command line, 
d210 1
a210 1

d212 1
a212 1
.Pa -P 
d214 1
a214 1

d217 10
a226 10
.Pa auto 
or 
.Pa ps/2 
, regardless of the brand and model of the mouse. Likewise, if your mouse is 
attached to the bus mouse port, choose 
.Pa auto 
or 
.Pa busmouse
. Serial mouse protocols will not work with these mice.

d228 1
a228 1

d240 1
a240 1
.Pa mouseman 
d244 2
a245 2
.It mouseman Ta Logitech MouseMan and TrackMan protocol. Some 3-button mice 
may be compatible with this protocol. Note that MouseMan+ and FirstMouse+ use 
d252 1
a252 1

d258 1
a258 1

d261 1
a261 1
.It ps/2 Ta This is the only protocol type available for the PS/2 mouse and 
d263 2
a264 1

d268 1
a268 1
code from the Xfree Project. 
@

