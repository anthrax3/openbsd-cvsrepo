head	1.76;
access;
symbols
	OPENBSD_6_1:1.73.0.4
	OPENBSD_6_1_BASE:1.73
	OPENBSD_6_0:1.69.0.2
	OPENBSD_6_0_BASE:1.69
	OPENBSD_5_9:1.67.0.2
	OPENBSD_5_9_BASE:1.67
	OPENBSD_5_8:1.64.0.6
	OPENBSD_5_8_BASE:1.64
	OPENBSD_5_7:1.64.0.2
	OPENBSD_5_7_BASE:1.64
	OPENBSD_5_6:1.63.0.6
	OPENBSD_5_6_BASE:1.63
	OPENBSD_5_5:1.63.0.4
	OPENBSD_5_5_BASE:1.63
	OPENBSD_5_4:1.61.0.2
	OPENBSD_5_4_BASE:1.61
	OPENBSD_5_3:1.60.0.2
	OPENBSD_5_3_BASE:1.60
	OPENBSD_5_2:1.59.0.2
	OPENBSD_5_2_BASE:1.59
	OPENBSD_5_1_BASE:1.56
	OPENBSD_5_1:1.56.0.2
	OPENBSD_5_0:1.54.0.6
	OPENBSD_5_0_BASE:1.54
	OPENBSD_4_9:1.54.0.4
	OPENBSD_4_9_BASE:1.54
	OPENBSD_4_8:1.54.0.2
	OPENBSD_4_8_BASE:1.54
	OPENBSD_4_7:1.52.0.2
	OPENBSD_4_7_BASE:1.52
	OPENBSD_4_6:1.49.0.4
	OPENBSD_4_6_BASE:1.49
	OPENBSD_4_5:1.48.0.2
	OPENBSD_4_5_BASE:1.48
	OPENBSD_4_4:1.47.0.2
	OPENBSD_4_4_BASE:1.47
	OPENBSD_4_3:1.46.0.4
	OPENBSD_4_3_BASE:1.46
	OPENBSD_4_2:1.46.0.2
	OPENBSD_4_2_BASE:1.46
	OPENBSD_4_1:1.42.0.2
	OPENBSD_4_1_BASE:1.42
	OPENBSD_4_0:1.37.0.2
	OPENBSD_4_0_BASE:1.37
	OPENBSD_3_9:1.31.0.2
	OPENBSD_3_9_BASE:1.31
	OPENBSD_3_8:1.27.0.2
	OPENBSD_3_8_BASE:1.27
	OPENBSD_3_7:1.25.0.2
	OPENBSD_3_7_BASE:1.25
	OPENBSD_3_6:1.22.0.2
	OPENBSD_3_6_BASE:1.22
	OPENBSD_3_5:1.15.0.2
	OPENBSD_3_5_BASE:1.15;
locks; strict;
comment	@.\" @;


1.76
date	2017.05.29.20.23.18;	author benno;	state Exp;
branches;
next	1.75;
commitid	mZujmJ4Iz5rpud4Q;

1.75
date	2017.05.29.12.41.57;	author jmc;	state Exp;
branches;
next	1.74;
commitid	Yu0rzAReENthtNTw;

1.74
date	2017.05.29.09.56.33;	author benno;	state Exp;
branches;
next	1.73;
commitid	ieP18OTy3lGXvWYC;

1.73
date	2017.02.13.14.48.44;	author phessler;	state Exp;
branches;
next	1.72;
commitid	UAS1mKyHLGdFBKFJ;

1.72
date	2017.01.13.18.59.12;	author phessler;	state Exp;
branches;
next	1.71;
commitid	3Jvf15B19ysa8i2W;

1.71
date	2016.10.26.17.24.13;	author jmc;	state Exp;
branches;
next	1.70;
commitid	oR1jifyGspqO2Bm7;

1.70
date	2016.10.14.16.05.35;	author phessler;	state Exp;
branches;
next	1.69;
commitid	Ai7XVOgXw9ZLovz1;

1.69
date	2016.05.25.14.15.59;	author jmc;	state Exp;
branches;
next	1.68;
commitid	btQA7e2HgrYuXZ3W;

1.68
date	2016.05.25.11.50.05;	author henning;	state Exp;
branches;
next	1.67;
commitid	QfZxIkbEFHiTunh6;

1.67
date	2015.10.25.13.08.29;	author jmc;	state Exp;
branches;
next	1.66;
commitid	IIgJUcWq8Rnvbke8;

1.66
date	2015.10.24.16.02.04;	author benno;	state Exp;
branches;
next	1.65;
commitid	2cVsESWEde7uZPrv;

1.65
date	2015.10.11.19.21.44;	author phessler;	state Exp;
branches;
next	1.64;
commitid	YYeOOydTj48i98EL;

1.64
date	2014.08.14.19.08.21;	author schwarze;	state Exp;
branches;
next	1.63;
commitid	dn4XZjnEg14ZodVq;

1.63
date	2013.10.09.13.23.17;	author jmc;	state Exp;
branches;
next	1.62;

1.62
date	2013.10.09.08.56.38;	author phessler;	state Exp;
branches;
next	1.61;

1.61
date	2013.03.07.21.28.34;	author claudio;	state Exp;
branches;
next	1.60;

1.60
date	2012.09.26.16.19.44;	author jmc;	state Exp;
branches;
next	1.59;

1.59
date	2012.05.27.20.49.42;	author jmc;	state Exp;
branches;
next	1.58;

1.58
date	2012.05.27.18.54.44;	author claudio;	state Exp;
branches;
next	1.57;

1.57
date	2012.03.27.18.24.11;	author claudio;	state Exp;
branches;
next	1.56;

1.56
date	2011.09.26.08.32.31;	author jmc;	state Exp;
branches;
next	1.55;

1.55
date	2011.09.21.12.01.38;	author claudio;	state Exp;
branches;
next	1.54;

1.54
date	2010.05.10.18.46.05;	author sthen;	state Exp;
branches;
next	1.53;

1.53
date	2010.05.03.13.11.41;	author claudio;	state Exp;
branches;
next	1.52;

1.52
date	2009.11.03.08.09.15;	author jmc;	state Exp;
branches;
next	1.51;

1.51
date	2009.11.02.20.38.45;	author claudio;	state Exp;
branches;
next	1.50;

1.50
date	2009.09.08.16.11.36;	author sthen;	state Exp;
branches;
next	1.49;

1.49
date	2009.06.06.06.11.17;	author claudio;	state Exp;
branches;
next	1.48;

1.48
date	2008.12.06.13.18.12;	author sobrado;	state Exp;
branches;
next	1.47;

1.47
date	2008.06.07.18.14.41;	author henning;	state Exp;
branches;
next	1.46;

1.46
date	2007.05.31.19.20.22;	author jmc;	state Exp;
branches;
next	1.45;

1.45
date	2007.04.07.15.04.08;	author jmc;	state Exp;
branches;
next	1.44;

1.44
date	2007.04.07.10.08.46;	author claudio;	state Exp;
branches;
next	1.43;

1.43
date	2007.03.28.12.34.08;	author henning;	state Exp;
branches;
next	1.42;

1.42
date	2007.03.07.11.55.54;	author henning;	state Exp;
branches;
next	1.41;

1.41
date	2007.03.03.23.18.19;	author jmc;	state Exp;
branches;
next	1.40;

1.40
date	2007.03.03.14.49.55;	author henning;	state Exp;
branches;
next	1.39;

1.39
date	2006.12.12.21.14.22;	author jmc;	state Exp;
branches;
next	1.38;

1.38
date	2006.11.11.09.40.16;	author mk;	state Exp;
branches;
next	1.37;

1.37
date	2006.08.29.10.13.10;	author jmc;	state Exp;
branches;
next	1.36;

1.36
date	2006.08.28.23.16.51;	author stevesk;	state Exp;
branches;
next	1.35;

1.35
date	2006.08.23.08.21.11;	author claudio;	state Exp;
branches;
next	1.34;

1.34
date	2006.05.26.05.07.15;	author henning;	state Exp;
branches;
next	1.33;

1.33
date	2006.05.23.12.14.34;	author henning;	state Exp;
branches;
next	1.32;

1.32
date	2006.04.06.12.25.54;	author claudio;	state Exp;
branches;
next	1.31;

1.31
date	2006.01.04.12.37.33;	author claudio;	state Exp;
branches;
next	1.30;

1.30
date	2005.09.21.07.34.47;	author jmc;	state Exp;
branches;
next	1.29;

1.29
date	2005.09.20.14.40.32;	author henning;	state Exp;
branches;
next	1.28;

1.28
date	2005.09.20.13.47.08;	author henning;	state Exp;
branches;
next	1.27;

1.27
date	2005.07.09.07.53.25;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2005.05.27.17.10.29;	author claudio;	state Exp;
branches;
next	1.25;

1.25
date	2004.12.31.10.47.37;	author jaredy;	state Exp;
branches;
next	1.24;

1.24
date	2004.10.27.03.35.10;	author jaredy;	state Exp;
branches;
next	1.23;

1.23
date	2004.10.26.12.07.32;	author henning;	state Exp;
branches;
next	1.22;

1.22
date	2004.08.20.15.51.53;	author henning;	state Exp;
branches;
next	1.21;

1.21
date	2004.07.16.20.23.41;	author jaredy;	state Exp;
branches;
next	1.20;

1.20
date	2004.05.24.08.45.52;	author claudio;	state Exp;
branches;
next	1.19;

1.19
date	2004.05.23.23.05.30;	author jmc;	state Exp;
branches;
next	1.18;

1.18
date	2004.05.21.16.01.57;	author claudio;	state Exp;
branches;
next	1.17;

1.17
date	2004.04.30.06.15.44;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2004.04.29.19.23.15;	author deraadt;	state Exp;
branches;
next	1.15;

1.15
date	2004.03.12.17.42.25;	author claudio;	state Exp;
branches;
next	1.14;

1.14
date	2004.02.01.22.20.09;	author henning;	state Exp;
branches;
next	1.13;

1.13
date	2004.01.25.00.38.34;	author henning;	state Exp;
branches;
next	1.12;

1.12
date	2004.01.12.11.44.35;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2004.01.11.02.36.48;	author henning;	state Exp;
branches;
next	1.10;

1.10
date	2004.01.10.19.09.40;	author henning;	state Exp;
branches;
next	1.9;

1.9
date	2004.01.08.14.41.04;	author henning;	state Exp;
branches;
next	1.8;

1.8
date	2004.01.06.23.23.49;	author henning;	state Exp;
branches;
next	1.7;

1.7
date	2004.01.06.16.48.06;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2004.01.05.16.29.20;	author henning;	state Exp;
branches;
next	1.5;

1.5
date	2004.01.05.09.49.42;	author jmc;	state Exp;
branches;
next	1.4;

1.4
date	2004.01.04.21.45.05;	author henning;	state Exp;
branches;
next	1.3;

1.3
date	2004.01.04.19.44.27;	author henning;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.04.19.01.12;	author henning;	state Exp;
branches;
next	1.1;

1.1
date	2004.01.02.02.22.52;	author henning;	state Exp;
branches;
next	;


desc
@@


1.76
log
@change section title in bgpd.conf talking about MPLS,
add a bit about working with multiple bgpds in rdomains in bgpctl.
shouting from claudio@@ and help from jmc@@
@
text
@.\" $OpenBSD: bgpctl.8,v 1.75 2017/05/29 12:41:57 jmc Exp $
.\"
.\" Copyright (c) 2003 Henning Brauer <henning@@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: May 29 2017 $
.Dt BGPCTL 8
.Os
.Sh NAME
.Nm bgpctl
.Nd control the Border Gateway Protocol daemon
.Sh SYNOPSIS
.Nm bgpctl
.Op Fl n
.Op Fl s Ar socket
.Ar command
.Op Ar argument ...
.Sh DESCRIPTION
The
.Nm
program controls the
.Xr bgpd 8
daemon.
Commands may be abbreviated to the minimum unambiguous prefix; for example,
.Cm s s
for
.Cm show summary .
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl n
Show neighbors' IP addresses instead of their description.
.It Fl s Ar socket
Use
.Ar socket
to communicate with
.Xr bgpd 8
instead of the default
.Pa /var/run/bgpd.sock.<rdomain>
where
.Ar <rdomain>
is the routing domain
.Nm
is running in.
To administer
.Xr bgpd 8
in a different routing domain, run
.Nm
in said routing domain.
.Pp
The commands are as follows:
.Bl -tag -width xxxxxx
.It Xo
.Cm fib
.Op Cm table Ar number
.Cm couple
.Xc
Insert the learned routes into the specified Forwarding Information Base
a.k.a. the kernel routing table.
.It Xo
.Cm fib
.Op Cm table Ar number
.Cm decouple
.Xc
Remove the learned routes from the specified Forwarding Information Base
a.k.a. the kernel routing table.
.It Xo
.Cm irrfilter
.Op Ar options
.Ar as
.Op Ar arguments
.Xc
Get the
.Em aut-num
object from the
.Em Internet Routing Registry
and generate bgpd filters from the policy specified therein.
The aut-num object as well as the associated as-set and route objects
have to be in RPSL format.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl o Ar directory
Use
.Ar directory
to write the filter files to.
.It Fl 4
Fetch only IPv4 prefixes from the registry.
.It Fl 6
Fetch only IPv6 prefixes from the registry.
.El
.It Cm log brief
Disable verbose debug logging.
.It Cm log verbose
Enable verbose debug logging.
.It Cm neighbor Ar peer Cm clear Op Ar reason
Stop and restart the BGP session to the specified neighbor.
If a
.Ar reason
is provided, the
.Ar reason
is sent as Administrative Shutdown Communication to the neighbor.
The
.Ar reason
cannot exceed 128 octets.
.Ar peer
may be the neighbor's address or description.
.It Cm neighbor Ar peer Cm destroy
Destroy a previously cloned peer.
The peer must be down before calling this function.
.Ar peer
may be the neighbor's address or description.
.It Cm neighbor Ar peer Cm down Op Ar reason
Take the BGP session to the specified neighbor down.
If a
.Ar reason
is provided, the
.Ar reason
is sent as Administrative Shutdown Communication to the neighbor.
The
.Ar reason
cannot exceed 128 octets.
.Ar peer
may be the neighbor's address or description.
.It Cm neighbor Ar peer Cm refresh
Request the neighbor to re-send all routes.
Note that the neighbor is not obliged to re-send all routes, or any routes at
all, even if it announced the route refresh capability.
.Ar peer
may be the neighbor's address or description.
.It Cm neighbor Ar peer Cm up
Take the BGP session to the specified neighbor up.
.Ar peer
may be the neighbor's address or description.
.It Cm network add Ar prefix Op Ar arguments
Add the specified prefix to the list of announced networks.
It is possible to set various path attributes with additional
.Ar arguments .
.It Xo
.Cm network bulk
.Op Ar arguments
.Op Cm add
.Xc
Bulk add specified prefixes to the list of announced networks.
Prefixes should be sent via stdin.
It is possible to set various path attributes with additional
.Ar arguments .
If neither
.Cm add
or
.Cm delete
is given,
.Cm add
is the default.
.It Cm network bulk delete
Bulk remove the specified prefixes from the list of announced networks.
Prefixes should be sent via stdin.
.It Cm network delete Ar prefix
Remove the specified prefix from the list of announced networks.
.It Cm network flush
Remove all dynamically added prefixes from the list of announced networks.
.It Cm network mrt file Ar file filter
Import networks from an MRT table dump for debugging purposes.
.Ar filter
can be specified similarly to the
.Ar show mrt
command.
Only networks matching the filter will be imported.
.It Cm network show Ar family
Show all announced networks.
.Ar family ,
if given, limits the output to the given address family.
The supported families are
.Em inet
and
.Em inet6 .
.It Cm reload
Reload the configuration file.
.It Cm show fib Ar filter
Show routes from
.Xr bgpd 8 Ns 's
view of the Forwarding Information Base.
.Ar filter
can be an IP address, in which case the route to this address is shown,
or a flag:
.Pp
.Bl -tag -width tableXnumber -compact
.It Cm connected
Show only connected routes.
.It Cm static
Show only static routes.
.It Cm bgp
Show only routes originating from
.Xr bgpd 8
itself.
.It Cm nexthop
Show only routes required to reach a BGP nexthop.
.It Cm inet
Show only IPv4 routes.
.It Cm inet6
Show only IPv6 routes.
.It Cm table Ar number
Show the routing table with ID
.Ar number
instead of the default routing table with ID 0.
.El
.It Cm show interfaces
Show the interface states.
.It Xo
.Cm show mrt
.Op Ar options
.Ar filter
.Xc
Show routes from an MRT table dump file.
.Ar filter
can be an IP address, a CIDR prefix, an AS filter, a combination or nothing:
.Pp
.Bl -tag -width "address/len all" -compact
.It Ar address
Show best matching route for address.
.It Ar address Ns Li / Ns Ar len
Show RIB entry for this CIDR prefix.
.It Xo
.Ar address Ns Li / Ns Ar len
.Cm all
.Xc
Show all entries in the specified range.
.\".It Ar address/len Cm longer-prefixes
.It Cm as Ar as
Show all entries with
.Ar as
anywhere in the AS path.
.It Cm empty-as
Show all entries that are internal routes with no AS's in the AS path.
.It Cm neighbor Ar ip
Show only entries from the specified peer.
.It Cm peer-as Ar as
Show all entries with
.Ar as
as leftmost AS.
.It Cm source-as Ar as
Show all entries with
.Ar as
as rightmost AS.
.It Cm transit-as Ar as
Show all entries with
.Ar as
anywhere but rightmost.
.El
.Pp
Additionally, the following
.Ar options
are defined:
.Pp
.Bl -tag -width "file name" -compact
.It Cm detail
Show more detailed output for matching routes.
.It Ar family
Limit the output to the given address family.
.It Cm file Ar name
Read the MRT dump from file
.Ar name
instead of using stdin.
.El
.Pp
Multiple options and filters can be used at the same time.
.It Cm show neighbor Ar peer modifier
Show detailed information about the neighbor identified by
.Ar peer ,
which may be the neighbor's address or description,
according to the given
.Ar modifier :
.Pp
.Bl -tag -width messages -compact
.It Cm messages
Show statistics about sent and received BGP messages.
.It Cm terse
Show statistics in an easily parseable terse format.
The printed numbers are the sent and received open, sent and received
notifications, sent and received updates, sent and received keepalives, and
sent and received route refresh messages plus the current and maximum
prefix count, the number of sent and received updates, and withdraws.
.It Cm timers
Show the BGP timers.
.El
.It Cm show nexthop
Show the list of BGP nexthops and the result of their validity check.
.It Xo
.Cm show rib
.Op Ar options
.Ar filter
.Xc
Show routes from the
.Xr bgpd 8
Routing Information Base.
.Ar filter
can be an IP address, a CIDR prefix, an AS filter or nothing:
.Pp
.Bl -tag -width "address/len all" -compact
.It Ar address
Show best matching route for address.
.It Ar address Ns Li / Ns Ar len
Show RIB entry for this CIDR prefix.
.It Xo
.Ar address Ns Li / Ns Ar len
.Cm all
.Xc
Show all entries in the specified range.
.\".It Ar address/len Cm longer-prefixes
.It Cm as Ar as
Show all entries with
.Ar as
anywhere in the AS path.
.It Cm community Ar community
Show all entries with community
.Ar community .
.It Cm large-community Ar large-community
Show all entries with large-community
.Ar large-community .
.It Cm empty-as
Show all entries that are internal routes with no AS's in the AS path.
.It Cm memory
Show RIB memory statistics.
.It Cm neighbor Ar peer
Show only entries from the specified peer.
.It Cm peer-as Ar as
Show all entries with
.Ar as
as leftmost AS.
.It Cm source-as Ar as
Show all entries with
.Ar as
as rightmost AS.
.It Cm summary
This is the same as the
.Ic show summary
command.
.It Cm table Ar rib
Show only entries from the specified RIB table.
.It Cm transit-as Ar as
Show all entries with
.Ar as
anywhere but rightmost.
.El
.Pp
Additionally, the following
.Ar options
are defined:
.Pp
.Bl -tag -width "selected" -compact
.It Cm best
Alias for
.Ic selected .
.It Cm selected
Show only selected routes.
.It Cm detail
Show more detailed output for matching routes.
.It Ar family
Limit the output to the given address family.
.It Cm in
Show routes from the unfiltered Adj-RIB-In.
This is only possible if
.Em softreconfig in
is enabled for the neighbor.
The
.Cm neighbor
needs to be specified.
.It Cm out
Show the filtered routes sent to a neighbor.
The
.Cm neighbor
needs to be specified.
.El
.Pp
Options are silently ignored when used together with
.Ar summary
or
.Ar memory .
Multiple options can be used at the same time and the
.Ar neighbor
filter can be combined with other filters.
.It Cm show summary
Show a list of all neighbors, including information about the session state
and message counters:
.Pp
.Bl -tag -width xxxxxxxxxxxxxx -compact
.It Neighbor
Description of the neighbor.
.It AS
Autonomous system number.
.It MsgRcvd
Number of messages received from the neighbor.
.It MsgSent
Number of messages sent to the neighbor.
.It OutQ
Number of outgoing messages queued.
.It Up/Down
Number of days and hours that the session has been up.
.It State/PrfRcvd
State of the session / Number of routes received.
The session is up if there is no information for the State column
(Established is not displayed).
.El
.It Cm show summary terse
Show a list of all neighbors, including information about the session state,
in a terse format.
.It Cm show tables
Show a list of all currently loaded fib routing tables.
.El
.Sh FILES
.Bl -tag -width "/var/run/bgpd.sockXXX" -compact
.It Pa /etc/bgpd.conf
default
.Xr bgpd 8
configuration file
.It Pa /var/run/bgpd.sock
default
.Xr bgpd 8
control socket
.El
.Sh SEE ALSO
.Xr bgpd.conf 5 ,
.Xr bgpd 8 ,
.Xr bgplg 8 ,
.Xr bgplgsh 8
.Sh STANDARDS
.Rs
.%A C. Alaettinoglu
.%A C. Villamizar
.%A E. Gerich
.%A D. Kessens
.%A D. Meyer
.%A T. Bates
.%A D. Karrenberg
.%A M. Terpstra
.%D June 1999
.%R RFC 2622
.%T Routing Policy Specification Language (RPSL)
.Re
.Sh HISTORY
The
.Nm
program first appeared in
.Ox 3.5 .
irrfilter mode was added in
.Ox 4.1 .
@


1.75
log
@avoid Xr to self;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.74 2017/05/29 09:56:33 benno Exp $
d56 5
a60 1
.El
@


1.74
log
@change bgpd's control socket from /var/run/bgpd.sock to
/var/run/bgpd.sock.<rdomain> in both bgpd and bgpctl. makes life
easier for admins.
ok phessler, claudio, henning, feedback from Job Snijders
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.73 2017/02/13 14:48:44 phessler Exp $
d17 1
a17 1
.Dd $Mdocdate: February 13 2017 $
d54 1
a54 1
.Xr bgpctl 8
@


1.73
log
@draft-ietf-idr-shutdown extends to support a message on either of
"Administrative Shutdown" or "Administrative Reset"

patch submitted by Job Snijders, thanks!
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.72 2017/01/13 18:59:12 phessler Exp $
d17 1
a17 1
.Dd $Mdocdate: January 13 2017 $
d47 2
d50 6
a55 3
.Pa /var/run/bgpd.sock
to communicate with
.Xr bgpd 8 .
@


1.72
log
@Add support for draft-ietf-idr-shutdown

    BGP state = Idle, marked down with shutdown reason "goodbye, we are
    upgrading to openbsd 6.1", down for 00:00:17

developed by Peter van Dijk <peter.van.dijk@@powerdns.com> and Job
Snijders <job@@ntt.net>, thank you!

OK benno@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.71 2016/10/26 17:24:13 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: January 9 2017 $
d98 1
a98 1
.It Cm neighbor Ar peer Cm clear
d100 8
@


1.71
log
@nicer list width; from julien dhaille
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.70 2016/10/14 16:05:35 phessler Exp $
d17 1
a17 1
.Dd $Mdocdate: October 14 2016 $
d107 1
a107 1
.It Cm neighbor Ar peer Cm down
d109 8
@


1.70
log
@Add support for draft-ietf-idr-large-community

Joint work with Job Snijders, many thanks!
OK benno@@ deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.69 2016/05/25 14:15:59 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: May 25 2016 $
d336 1
a336 1
.Bl -tag -width "detail" -compact
@


1.69
log
@new sentence, new line, and avoid line wrap;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.68 2016/05/25 11:50:05 henning Exp $
d303 3
@


1.68
log
@flesh out "show summary" description a bit, from julien at dhaille.com via
jmc, ok benno claudio
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.67 2015/10/25 13:08:29 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: October 25 2015 $
d383 3
a385 1
State of the session / Number of routes received. The session is up if there is no information for the State column (Established is not displayed).
@


1.67
log
@zap trailing whitespace;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.66 2015/10/24 16:02:04 benno Exp $
d17 1
a17 1
.Dd $Mdocdate: October 24 2015 $
d367 18
a384 1
and message counters.
@


1.66
log
@clarify use of "bgpctl show rib in|out neighbor FOO"
feedback from jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.65 2015/10/11 19:21:44 phessler Exp $
d17 1
a17 1
.Dd $Mdocdate: October 11 2015 $
d348 1
a348 1
The 
d353 1
a353 1
The 
@


1.65
log
@add "best" as an alias for "selected"
Helps finger memory for people used to Junipers

OK benno@@, claudio@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.64 2014/08/14 19:08:21 schwarze Exp $
d17 1
a17 1
.Dd $Mdocdate: August 14 2014 $
d348 3
d352 4
a355 1
Show the filtered routes sent to a neighbor also known as Adj-RIB-Out.
@


1.64
log
@remove two duplicate command entries;
reported by Denis Fondras <openbsd at ledeuns dot net>
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.63 2013/10/09 13:23:17 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: October 9 2013 $
d334 3
@


1.63
log
@tweak previous;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.62 2013/10/09 08:56:38 phessler Exp $
a252 6
.It Cm show summary
Show a list of all neighbors, including information about the session state
and message counters.
.It Cm show summary terse
Show a list of all neighbors, including information about the session state,
in a terse format.
@


1.62
log
@Allow us to bulk add / delete routes with the same attributes.  Really
useful for distributing IP lists.

OK beck@@, claudio@@, henning@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.61 2013/03/07 21:28:34 claudio Exp $
d17 1
a17 1
.Dd $Mdocdate: March 7 2013 $
a124 4
.It Cm network delete Ar prefix
Remove the specified prefix from the list of announced networks.
.It Cm network flush
Remove all dynamically added prefixes from the list of announced networks.
d131 1
a131 1
Prefixes should be sent via STDIN.
d138 1
a138 1
is given, 
d143 5
a147 1
Prefixes should be sent via STDIN.
@


1.61
log
@Implement a bgpctl nei foo destroy that will remove the specified cloned
neighbor. The neighbor must be set down before calling this function.
OK phessler
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.60 2012/09/26 16:19:44 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: September 26 2012 $
d129 19
@


1.60
log
@last stage of rfc changes, using consistent Rs/Re blocks, and moving the
references into a STANDARDS section;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.59 2012/05/27 20:49:42 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: May 27 2012 $
d98 7
a104 2
.It Cm neighbor Ar peer Cm up
Take the BGP session to the specified neighbor up.
a110 4
.It Cm neighbor Ar peer Cm clear
Stop and restart the BGP session to the specified neighbor.
.Ar peer
may be the neighbor's address or description.
d115 4
@


1.59
log
@tweak previous;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.58 2012/05/27 18:54:44 claudio Exp $
d363 1
d365 9
d375 1
a375 2
.%T "Routing Policy Specification Language (RPSL)"
.%D June 1999
@


1.58
log
@Document network mrt file [ filter] used to load mrt dumps into bgpd.
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.57 2012/03/27 18:24:11 claudio Exp $
d17 1
a17 1
.Dd $Mdocdate: March 27 2012 $
d124 2
a125 2
.It Cm network mrt file Ar file Ar filter
Import networks from a MRT table dump for debuging purposes.
d127 1
a127 1
can be specified similar to the
@


1.57
log
@Introduce "selected" as show rib attribute to only show selected routes.
Can be combined like: bgpctl show rib nei peer1 selected to only show
the routes that are used from neighbor peer1.
Requested by and OK deraadt@@, OK henning@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.56 2011/09/26 08:32:31 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: September 26 2011 $
d124 7
@


1.56
log
@tweak previous; ok claudio
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.55 2011/09/21 12:01:38 claudio Exp $
d17 1
a17 1
.Dd $Mdocdate: September 21 2011 $
d309 2
@


1.55
log
@Try to document the show mrt command. While there order the filters
for both show mrt and show rib.
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.54 2010/05/10 18:46:05 sthen Exp $
d17 1
a17 1
.Dd $Mdocdate: May 10 2010 $
d169 1
a169 1
Show routes from a MRT table dump file.
d212 1
a212 1
Show more detailed output for matched routes.
d310 1
a310 1
Show more detailed output for matched routes.
@


1.54
log
@Simplify wording about abbreviating commands. ok claudio
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.53 2010/05/03 13:11:41 claudio Exp $
d17 1
a17 1
.Dd $Mdocdate: May 3 2010 $
d164 64
a274 14
.It Cm source-as Ar as
Show all entries with
.Ar as
as rightmost AS.
.It Cm transit-as Ar as
Show all entries with
.Ar as
anywhere but rightmost.
.It Cm peer-as Ar as
Show all entries with
.Ar as
as leftmost AS.
.It Cm empty-as
Show all entries that are internal routes with no AS's in the AS path.
d278 4
d284 8
a291 2
.It Cm table Ar rib
Show only entries from the specified RIB table.
d296 6
a301 2
.It Cm memory
Show RIB memory statistics.
@


1.53
log
@Adjustments for multiple kroute table support. This adds a few new command
arguments (show tables and show fib table 1, etc).
Tested by sthen@@, OK to move on by henning@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.52 2009/11/03 08:09:15 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: November 3 2009 $
d35 1
a35 2
Commands to switch between displays may be abbreviated to the
minimum unambiguous prefix; for example,
@


1.52
log
@sort;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.51 2009/11/02 20:38:45 claudio Exp $
d17 1
a17 1
.Dd $Mdocdate: November 2 2009 $
d56 6
a61 2
.It Cm fib couple
Insert the learned routes into the Forwarding Information Base
d63 6
a68 2
.It Cm fib decouple
Remove the learned routes from the Forwarding Information Base
d117 1
a117 1
.It Cm network add Ar prefix
d119 2
d143 1
a143 1
.Bl -tag -width connected -compact
d154 8
d272 2
@


1.51
log
@Implement "log verbose" and "log brief" to enable or disable verbose debug
logging. henning, sthen, michele like the idea
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.50 2009/09/08 16:11:36 sthen Exp $
d17 1
a17 1
.Dd $Mdocdate: September 8 2009 $
d87 2
a90 2
.It Cm log brief
Disable verbose debug logging.
@


1.50
log
@Add -4 and -6 flags to irrfilter mode, allowing you to only fetch (you
guessed it) v4 or v6 from the IRR.  Reduces size of the filter file (and
thus router resource use) when you only speak IPv4 but you want to
filter peers who announce lots of v6 space.  ok claudio@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.49 2009/06/06 06:11:17 claudio Exp $
d17 1
a17 1
.Dd $Mdocdate: June 6 2009 $
d87 4
@


1.49
log
@Document show rib table foo
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.48 2008/12/06 13:18:12 sobrado Exp $
d17 1
a17 1
.Dd $Mdocdate: December 6 2008 $
d82 4
@


1.48
log
@the ellipsis allows more than one argument being specified.

discussed with gilles@@

ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.47 2008/06/07 18:14:41 henning Exp $
d17 1
a17 1
.Dd $Mdocdate: June 7 2008 $
d205 2
@


1.47
log
@teach the command lineparser about getopt style options after commands
use that for irrfilter mode.
hints from theo a year ago, code by me a year ago, ok claudio a year ago
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.46 2007/05/31 19:20:22 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: May 31 2007 $
d28 1
a28 1
.Op Ar arguments ...
@


1.46
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.45 2007/04/07 15:04:08 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate$
a25 1
.Op Fl o Ar directory
a44 4
.It Fl o Ar directory
Use
.Ar directory
to write the filter files to in irrfilter mode.
d64 1
d66 1
a66 1
.Op Ar options
d75 8
@


1.45
log
@tweak previous; ok claudio
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.44 2007/04/07 10:08:46 claudio Exp $
d17 1
a17 1
.Dd March 3, 2007
@


1.44
log
@Document the terse format outputs. Additional input by jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.43 2007/03/28 12:34:08 henning Exp $
d146 1
a146 1
Show statistics in an easy parseable terse format.
d148 1
a148 1
notifications, sent and received updates, sent and received keepalives and
@


1.43
log
@add support for bgpctl show rib community <community>
mostly from rivo nurges <rix@@estpak.ee>, ok claudio
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.42 2007/03/07 11:55:54 henning Exp $
d145 6
d237 3
@


1.42
log
@support "bgpctl show rib peer-as NN", From: Armin Wolfermann <aw@@osn.de>
ok theo
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.41 2007/03/03 23:18:19 jmc Exp $
d190 3
@


1.41
log
@sort; ok henning
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.40 2007/03/03 14:49:55 henning Exp $
d184 4
@


1.40
log
@start documenting irrfilter mode
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.39 2006/12/12 21:14:22 jmc Exp $
d67 12
a223 12
.It Xo
.Cm irrfilter
.Ar as
.Op Ar options
.Xc
Get the
.Em aut-num
object from the
.Em Internet Routing Registry
and generate bgpd filters from the policy specified therein.
The aut-num object as well as the associated as-set and route objects
have to be in RPSL format.
@


1.39
log
@Xr bgplg and bgplgsh;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.38 2006/11/11 09:40:16 mk Exp $
d17 1
a17 1
.Dd December 22, 2003
d26 1
d46 4
d212 12
d241 5
d251 2
@


1.38
log
@Add the bgpd control socket to FILES and use the same .Bl -width as in
bgpd(8).

ok (and fixing my mistakes because I was sleepy when I mailed out the
diff) jmc
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.37 2006/08/29 10:13:10 jmc Exp $
d221 3
a223 1
.Xr bgpd 8
@


1.37
log
@avoid ending mid-sentence w/ `.', or we get an extra space;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.36 2006/08/28 23:16:51 stevesk Exp $
d209 1
a209 1
.Bl -tag -width "/etc/bgpd.conf" -compact
d214 4
@


1.36
log
@use Forwarding Information Base vs. Forward Information Base;
ok jmc@@ claudio@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.35 2006/08/23 08:21:11 claudio Exp $
d57 2
a58 2
Insert the learned routes into the Forwarding Information Base a.k.a.
the kernel routing table.
d60 2
a61 2
Remove the learned routes from the Forwarding Information Base a.k.a.
the kernel routing table.
@


1.35
log
@Extend show rib command. Following new options are added:
 in: show the unfiltered input of a neighbor aka adj-rib-in
 out: show only the prefixes that are sent to a specified neighbor (adj-rib-out)
 neighbor <IP>: limit the output of the command to prefixes sent by the
                specified neighbor

OK henning@@ manpage with help by jmc@@ but the show rib section needs some
rework because it starts to be confusing. Actually the parser needs to get
smarter.
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.34 2006/05/26 05:07:15 henning Exp $
d57 2
a58 2
Insert the learned routes into the Forward Information Base a.k.a. the kernel
routing table.
d60 2
a61 2
Remove the learned routes from the Forward Information Base a.k.a. the kernel
routing table.
d99 1
a99 1
view of the Forward Information Base.
@


1.34
log
@change keyword for route refresh request to just refresh, discussed with
claudio
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.33 2006/05/23 12:14:34 henning Exp $
d135 1
a135 1
.Op Ar detail
d169 2
d177 9
d188 7
d197 1
a197 6
If
.Ar detail
is specified, a more detailed output of the routes matched by
.Ar filter
will be shown.
It is silently ignored when used together with
d201 3
@


1.33
log
@support requesting route refresh from a neighbor
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.32 2006/04/06 12:25:54 claudio Exp $
d74 1
a74 1
.It Cm neighbor Ar peer Cm rrefresh
@


1.32
log
@Document show rib detail and friends. Some input by jmc@@ getting dust in one
of my trees since a few weeks.
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.31 2006/01/04 12:37:33 claudio Exp $
d72 6
@


1.31
log
@Document "show rib mem" with jmc@@'s help
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.30 2005/09/21 07:34:47 jmc Exp $
d127 5
a131 1
.It Cm show rib Ar filter
d172 10
@


1.30
log
@uppercase first letter of a sentence;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.29 2005/09/20 14:40:32 henning Exp $
d163 2
@


1.29
log
@allow "show rib" to be limited to an address family too
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.28 2005/09/20 13:47:08 henning Exp $
d164 1
a164 1
limit the output to the given address family.
@


1.28
log
@allow the "show network" output to be limited to a given address family
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.27 2005/07/09 07:53:25 jmc Exp $
d163 2
@


1.27
log
@IP-address -> IP address;
from tamas tevesz;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.26 2005/05/27 17:10:29 claudio Exp $
d80 1
a80 1
.It Cm network show
d82 6
@


1.26
log
@Add a flag for specifying the socket to open to talk to bgpd.
Needed for upcomming spamd madness.  Requested and OK beck@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.25 2004/12/31 10:47:37 jaredy Exp $
d44 1
a44 1
Show neighbors' IP-addresses instead of their description.
@


1.25
log
@document using neighbor descriptions to specify neighbors where
applicable.  ok henning, jmc
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.24 2004/10/27 03:35:10 jaredy Exp $
d26 1
d45 7
@


1.24
log
@typo, adresses -> addresses
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.23 2004/10/26 12:07:32 henning Exp $
d54 1
a54 1
.It Cm neighbor Ar address Cm up
d56 3
a58 1
.It Cm neighbor Ar address Cm down
d60 3
a62 1
.It Cm neighbor Ar address Cm clear
d64 2
d98 1
a98 1
.It Cm show neighbor Ar address modifier
d100 2
a101 1
.Ar address ,
@


1.23
log
@document -n
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.22 2004/08/20 15:51:53 henning Exp $
d43 1
a43 1
Show neighbors' IP-adresses instead of their description.
@


1.22
log
@document "neighbor 1.2.3.4 clear"
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.21 2004/07/16 20:23:41 jaredy Exp $
d25 1
d39 6
@


1.21
log
@- fix macros
- bgp -> BGP
- change description in FILES
- sync to reality

ok henning, jmc
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.20 2004/05/24 08:45:52 claudio Exp $
d51 2
@


1.20
log
@Fix copy paste error pointed out by jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.19 2004/05/23 23:05:30 jmc Exp $
d22 1
a22 1
.Nd "control the Border Gateway Protocol daemon"
d25 2
a26 1
.Op Cm command
d35 1
a35 1
.Dq s s
d37 1
a37 1
.Dq show summary .
d41 2
a42 2
.It Li fib couple
Insert the learned routes into the Forward Information Base aka the kernel
d44 2
a45 2
.It Li fib decouple
Remove the learned routes from the Forward Information Base aka the kernel
d47 5
a51 5
.It Li neighbor Ar address up
Take the bgp session to the specified neighbor up.
.It Li neighbor Ar address down
Take the bgp session to the specified neighbor down.
.It Li network add Ar prefix
d53 1
a53 1
.It Li network delete Ar prefix
d55 1
a55 1
.It Li network flush
d57 1
a57 1
.It Li network show
d59 1
a59 1
.It Li reload
d61 4
a64 2
.It Li show fib Ar filter
Show routes from bgpd's view of the Forward Information Base.
d70 1
a70 1
.It Li connected
d72 1
a72 1
.It Li static
d74 1
a74 1
.It Li bgp
d78 1
a78 1
.It Li nexthop
d81 1
a81 1
.It Li show interface
d83 1
a83 1
.It Li show neighbor Ar address Ar modifier
d90 1
a90 1
.It Li messages
d92 1
a92 1
.It Li timers
d95 6
a100 4
.It Li show nexthop
Show the list of BGP Nexthops and the result of their validity check.
.It Li show rib Ar filter
Show routes from the bgpd Routing Information Base.
d104 2
a105 2
.Bl -tag -width <address>/<len>_all -compact
.It Li <address>
d107 1
a107 1
.It Li <address>/<len>
d109 4
a112 1
.It Li <address>/<len> all
d114 19
a132 6
.It Li as <as>
Show all entries with <as> anywhere in the AS path.
.It Li source-as <as>
Show all entries with <as> as rightmost AS.
.It Li transit-as <as>
Show all entries with <as> anywhere but rightmost.
d134 1
a134 1
.It Li show summary
d141 3
a143 2
.Nm
configuration file.
@


1.19
log
@some readability fixes, mainly keeping things in alphabetical order;
ok henning@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.17 2004/04/30 06:15:44 jmc Exp $
d56 1
a56 1
.It Li network flush
@


1.18
log
@Man page update to document the new network statements. OK henning@@
@
text
@d32 6
d40 40
a79 3
.It Li show summary
Show a list of all neighbors, including information about the session state
and message counters.
d92 2
d113 3
a115 42
.It Li show fib Ar filter
Show routes from bgpd's view of the Forward Information Base.
.Ar filter
can be an IP address, in which case the route to this address is shown,
or a flag:
.Pp
.Bl -tag -width connected -compact
.It Li connected
Show only connected routes.
.It Li static
Show only static routes.
.It Li bgp
Show only routes originating from
.Xr bgpd 8
itself.
.It Li nexthop
Show only routes required to reach a BGP nexthop.
.El
.It Li show nexthop
Show the list of BGP Nexthops and the result of their validity check.
.It Li show interface
Show the interface states.
.It Li reload
Reload the configuration file.
.It Li fib couple
Insert the learned routes into the Forward Information Base aka the kernel
routing table.
.It Li fib decouple
Remove the learned routes from the Forward Information Base aka the kernel
routing table.
.It Li neighbor Ar address up
Take the bgp session to the specified neighbor up.
.It Li neighbor Ar address down
Take the bgp session to the specified neighbor down.
.It Li network add Ar prefix
Add the specified prefix to the list of announced networks.
.It Li network delete Ar prefix
Remove the specified prefix from the list of announced networks.
.It Li network flush
Remove all dynamicaly added prefixes form the list of announced networks.
.It Li network flush
Show all announced networks.
a116 6
.Pp
Commands to switch between displays may be abbreviated to the
minimum unambiguous prefix; for example,
.Dq s s
for
.Dq show summary .
@


1.17
log
@missing full stop;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.16 2004/04/29 19:23:15 deraadt Exp $
d102 8
@


1.16
log
@document abbreviated commands -- same way as systat; ok henning
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.15 2004/03/12 17:42:25 claudio Exp $
d108 1
a108 1
.Dq show summary
@


1.15
log
@Document "show rib" interface. OK jmc@@ henning@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.14 2004/02/01 22:20:09 henning Exp $
d103 6
@


1.14
log
@pasto, from gluk
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.13 2004/01/25 00:38:34 henning Exp $
d48 19
@


1.13
log
@documenmt "show interface"
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.12 2004/01/12 11:44:35 jmc Exp $
d77 1
a77 1
Remove the learned routes into the Forward Information Base aka the kernel
@


1.12
log
@add a little spacing; .Xr not .Ar for bgpd;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.11 2004/01/11 02:36:48 henning Exp $
d69 2
@


1.11
log
@+ show nexthop
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.10 2004/01/10 19:09:40 henning Exp $
d54 1
d62 1
a62 1
.Ar bgpd
@


1.10
log
@document "show fib"
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.9 2004/01/08 14:41:04 henning Exp $
d66 2
@


1.9
log
@.Xr bgpd.conf 5
From: Xavier Santolaria <xavier@@santolaria.net>
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.8 2004/01/06 23:23:49 henning Exp $
d48 17
@


1.8
log
@neighbor 1.2.3.4 up/down

ok claudio@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.7 2004/01/06 16:48:06 jmc Exp $
d69 1
@


1.7
log
@simplify a list;
ok henning@@
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.6 2004/01/05 16:29:20 henning Exp $
d57 4
@


1.6
log
@add support for couple/decouple
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.5 2004/01/05 09:49:42 jmc Exp $
d33 1
a33 2
.Pp
.Bl -tag -width xxxxxx -compact
a36 1
.Pp
d42 1
a48 1
.Pp
a50 1
.Pp
a53 1
.Pp
@


1.5
log
@fix SYNOPSIS;
SEE ALSO after FILES;
add arg to .Xr;
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.4 2004/01/04 21:45:05 henning Exp $
d53 8
@


1.4
log
@show da timers
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.3 2004/01/04 19:44:27 henning Exp $
d24 2
a25 3
.Nm bgpctl [command]
.Bk -words
.Ek
d30 1
a30 1
.Xr bgpd
a53 2
.Sh SEE ALSO
.Xr bgpd 8
d60 2
@


1.3
log
@new command "reload"
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.2 2004/01/04 19:01:12 henning Exp $
d40 1
a40 1
.It Li show neighbor Ar address
d42 9
a50 1
.Ar address .
@


1.2
log
@catch up
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpctl.8,v 1.1 2004/01/02 02:22:52 henning Exp $
d43 3
@


1.1
log
@bring back bgpctl
ok and help theo
@
text
@d1 1
a1 1
.\" $OpenBSD: bgpdctl.8,v 1.1 2004/01/01 23:51:40 henning Exp $
d24 1
a24 1
.Nm bgpctl
d33 10
a42 2
The options are as follows:
.Bl -tag -width Ds
@

