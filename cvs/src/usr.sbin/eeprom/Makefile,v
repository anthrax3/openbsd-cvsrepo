head	1.17;
access;
symbols
	OPENBSD_6_0:1.15.0.2
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.13.0.2
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.4
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.12.0.26
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.12.0.30
	OPENBSD_5_6_BASE:1.12
	OPENBSD_5_5:1.12.0.28
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.24
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.12.0.22
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.12.0.20
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.18
	OPENBSD_5_0:1.12.0.16
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.12.0.14
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.12.0.12
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.8
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.12.0.10
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.12.0.6
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.12.0.4
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.12.0.2
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.9.0.20
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.9.0.18
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.16
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.14
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.12
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.10
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.9.0.8
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.9.0.6
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.9.0.4
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.9.0.2
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.8.0.2
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.7.0.2
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.6.0.2
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_9:1.4.0.4
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.2.0.10
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.8
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.6
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.4
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.2
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.17
date	2017.01.23.12.39.37;	author kettenis;	state Exp;
branches;
next	1.16;
commitid	TiFTieDo73W0DmLx;

1.16
date	2016.09.01.10.00.38;	author tedu;	state Exp;
branches;
next	1.15;
commitid	vjLcvBltUiClWw6d;

1.15
date	2016.07.05.12.57.58;	author visa;	state Exp;
branches;
next	1.14;
commitid	Z8m3ca91Dyoon1Cr;

1.14
date	2016.05.21.21.25.33;	author kettenis;	state Exp;
branches;
next	1.13;
commitid	df4tRNSbKhd612uZ;

1.13
date	2015.03.11.18.12.27;	author deraadt;	state Exp;
branches;
next	1.12;
commitid	rVwhnU1eXVt1OP97;

1.12
date	2007.11.14.20.38.32;	author kettenis;	state Exp;
branches;
next	1.11;

1.11
date	2007.11.12.20.54.54;	author kettenis;	state Exp;
branches;
next	1.10;

1.10
date	2007.09.04.23.28.26;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2002.12.31.16.22.26;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2002.06.14.04.21.54;	author art;	state Exp;
branches;
next	1.7;

1.7
date	2001.12.04.19.18.31;	author miod;	state Exp;
branches;
next	1.6;

1.6
date	2001.09.30.19.48.23;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2001.09.20.20.42.25;	author jason;	state Exp;
branches;
next	1.4;

1.4
date	2000.05.18.16.46.37;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.01.03.19.49.44;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	97.09.21.11.43.38;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.47.33;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.47.33;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.17
log
@Build on arm64.
@
text
@#	$OpenBSD: Makefile,v 1.16 2016/09/01 10:00:38 tedu Exp $

.if ${MACHINE} == "arm64" || ${MACHINE} == "armv7" || \
    ${MACHINE} == "macppc" || ${MACHINE} == "octeon" || \
    ${MACHINE} == "sparc64"
PROG=	eeprom

SRCS=	getdate.c main.c
SRCS+=	ophandlers.c optree.c

CLEANFILES+=getdate.c y.tab.h
.else
NOPROG=yes
.endif

MAN=	eeprom.8
MANSUBDIR=armv7 macppc octeon sparc64

.include <bsd.prog.mk>
@


1.16
log
@remove sparc support
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 2016/07/05 12:57:58 visa Exp $
d3 2
a4 2
.if ${MACHINE} == "armv7" || ${MACHINE} == "macppc" || \
    ${MACHINE} == "octeon" || \
@


1.15
log
@Build eeprom(8) on octeon.

ok kettenis@@ deraadt@@ jasper@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2016/05/21 21:25:33 kettenis Exp $
d4 1
a4 1
    ${MACHINE} == "octeon" || ${MACHINE} == "sparc" || \
a10 4
.  if ${MACHINE} == "sparc"
SRCS+=	eehandlers.c
.  endif

d17 1
a17 1
MANSUBDIR=armv7 macppc octeon sparc sparc64
@


1.14
log
@Build on armv7.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2015/03/11 18:12:27 deraadt Exp $
d4 2
a5 1
    ${MACHINE} == "sparc" || ${MACHINE} == "sparc64"
d21 1
a21 1
MANSUBDIR=armv7 macppc sparc sparc64
@


1.13
log
@drop setgid kmem.  If you want to play with eeprom, you generally
need to be root
ok miod
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2007/11/14 20:38:32 kettenis Exp $
d3 2
a4 1
.if ${MACHINE} == "macppc" || ${MACHINE} == "sparc" || ${MACHINE} == "sparc64"
d20 1
a20 1
MANSUBDIR=macppc sparc sparc64
@


1.12
log
@We don't have /dev/eeprom on sparc64.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2007/11/12 20:54:54 kettenis Exp $
a4 3

BINGRP=	kmem
BINMODE=2555
@


1.11
log
@Make this compile on macppc (OpenPROM support only) and build it there.

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2007/09/04 23:28:26 fgsch Exp $
d12 1
a12 1
.  if ${MACHINE} == "sparc" || ${MACHINE} == "sparc64"
@


1.10
log
@add support to print the derivated tree from the OpenPROM (alas devinfo or
prtconf); ok kettenis@@.
thanks to the various people who helped me test in different sparc* machines.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2002/12/31 16:22:26 miod Exp $
d3 1
a3 1
.if ${MACHINE} == "sparc" || ${MACHINE} == "sparc64"
d9 2
a10 1
SRCS=	eehandlers.c getdate.c main.c
d13 1
a13 1
SRCS+=	ophandlers.c optree.c
d22 1
a22 1
MANSUBDIR=sparc sparc64
@


1.9
log
@Prepare for the removal of amiga and sun3 platforms from the tree.
There has not been enough activity and interest towards these platform
to keep them lying in the tree.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2002/06/14 04:21:54 art Exp $
d12 1
a12 1
SRCS+=	ophandlers.c
@


1.8
log
@Get cpu type through sysctl. no more need for kvm.

miod says it still needs to be setgid kmem and I don't have time to check
the archives for the reason.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2001/12/04 19:18:31 miod Exp $
d3 1
a3 1
.if ${MACHINE} == "sparc" || ${MACHINE} == "sun3" || ${MACHINE} == "sparc64"
d21 1
a21 1
MANSUBDIR=sparc sparc64 sun3
@


1.7
log
@Provide eeprom(8) on sparc64.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2001/09/30 19:48:23 millert Exp $
a12 2
DPADD=	${LIBKVM}
LDADD=	-lkvm
@


1.6
log
@Use a private copy of getdate.y so we aren't affected by changes
in the cvs one.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2001/09/20 20:42:25 jason Exp $
d23 1
a23 1
MANSUBDIR=sparc sun3
@


1.5
log
@sparc64 support
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2000/05/18 16:46:37 espie Exp $
a7 4

# Get getdate.y from cvs distro
.PATH:  ${.CURDIR}/../../gnu/usr.bin/cvs/lib
CFLAGS+=-DTIME_WITH_SYS_TIME -DHAVE_SYS_TIMEB_H -DSTDC_HEADERS -DHAVE_BCOPY
@


1.4
log
@Prepare to recurse down usr.sbin to grab manpages
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2000/01/03 19:49:44 millert Exp $
d3 1
a3 1
.if ${MACHINE} == "sparc" || ${MACHINE} == "sun3"
d15 1
a15 1
.  if ${MACHINE} == "sparc"
@


1.3
log
@Old getdate.y was not Y2K compliant, us the one that comes with cvs instead.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 1997/09/21 11:43:38 deraadt Exp $
d3 1
a4 1
MAN=	eeprom.8
d15 1
a15 1
.if ${MACHINE} == "sparc"
d19 5
d26 2
a27 1
CLEANFILES+=getdate.c y.tab.h
@


1.2
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD$
d8 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 2
#	from: @@(#)Makefile	5.8 (Berkeley) 7/28/90
#	$NetBSD: Makefile,v 1.1 1995/07/13 18:07:19 thorpej Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
