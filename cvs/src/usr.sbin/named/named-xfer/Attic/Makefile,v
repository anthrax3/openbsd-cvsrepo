head	1.7;
access;
symbols
	OPENBSD_3_2:1.4.0.2
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.3.0.16
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.14
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_9:1.3.0.12
	OPENBSD_2_8:1.3.0.10
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.8
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.3.0.6
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.4
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.2.0.6
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.4
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.2.0.2
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.1.0.2
	OPENBSD_2_0_BASE:1.1;
locks; strict;
comment	@# @;


1.7
date	2003.02.21.08.59.45;	author jakob;	state dead;
branches;
next	1.6;

1.6
date	2002.11.14.23.23.43;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	2002.11.14.18.05.19;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	2002.05.11.00.20.20;	author espie;	state Exp;
branches
	1.4.2.1;
next	1.3;

1.3
date	98.05.23.19.24.54;	author millert;	state Exp;
branches
	1.3.14.1
	1.3.16.1;
next	1.2;

1.2
date	97.03.12.10.42.43;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	96.02.19.19.54.05;	author dm;	state Exp;
branches;
next	;

1.3.14.1
date	2002.11.14.23.44.14;	author millert;	state Exp;
branches;
next	;

1.3.16.1
date	2002.11.14.23.34.39;	author millert;	state Exp;
branches;
next	;

1.4.2.1
date	2002.11.14.23.50.10;	author millert;	state Exp;
branches;
next	;


desc
@@


1.7
log
@remove bind4; ok deraadt@@
@
text
@#	$OpenBSD: Makefile,v 1.6 2002/11/14 23:23:43 millert Exp $
#	$NetBSD: Makefile,v 1.2 1996/02/04 12:02:12 mrg Exp $
# from: $Id: Makefile,v 8.2 1995/12/31 23:28:01 vixie Exp 

.PATH:	${.CURDIR}/../named \
	${.CURDIR}/../man

PROG=	named-xfer
SRCS=	named-xfer.c db_glue.c storage.c version.c
CFLAGS+= ${INCLUDE} -I${.CURDIR}/../named ${CONFIG}
MAN=	named-xfer.8
BINDIR=	/var/named
LDSTATIC= ${STATIC}

version.c: Version.c ${.CURDIR}/../Makefile
	(u=root d=`pwd` h=localhost t=`date +%c`; \
	sed -e "s|%WHEN%|$${t}|" -e "s|%VERSION%|"${VER}"|" \
	-e "s|%WHOANDWHERE%|$${u}@@$${h}:$${d}|" \
	< ${.CURDIR}/../named/Version.c > version.c)

.include <bsd.prog.mk>
.include "../../Makefile.inc"
@


1.6
log
@Create our own version.c instead of snurking it out of ../named/obj
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2002/11/14 18:05:19 marc Exp $
@


1.5
log
@search in obj dir for version.c. OK pval.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2002/05/11 00:20:20 espie Exp $
a5 1
	${.CURDIR}/../named/obj \
d14 6
@


1.4
log
@Add missing libraries to bsd.prog.mk (mostly kerberosV)
Use them in DPADD throughout the tree.
Fix a few mispells (LIBMATH -> LIBM...)
Wipe obsolete lib (LIBRESOLV)
Sort added missing libraries, move obsolete stuff apart.
Synch documentation in bsd.README

ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1998/05/23 19:24:54 millert Exp $
d6 1
@


1.4.2.1
log
@Apply http://www.isc.org/products/BIND/patches/bind4910.diff
Fixes bugs listed in http://www.isc.org/products/BIND/bind-security.html
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2002/11/14 23:23:43 millert Exp $
a13 6

version.c: Version.c ${.CURDIR}/../Makefile
	(u=root d=`pwd` h=localhost t=`date +%c`; \
	sed -e "s|%WHEN%|$${t}|" -e "s|%VERSION%|"${VER}"|" \
	-e "s|%WHOANDWHERE%|$${u}@@$${h}:$${d}|" \
	< ${.CURDIR}/../named/Version.c > version.c)
@


1.3
log
@support for easy chroot'ing to /var/named and install named-xfer in /var/named as a static binary
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 1997/03/12 10:42:43 downsj Exp $
a10 1
LDADD=	${LIBRESOLV}
@


1.3.14.1
log
@Apply http://www.isc.org/products/BIND/patches/bind4910.diff
Fixes bugs listed in http://www.isc.org/products/BIND/bind-security.html
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2002/11/14 23:23:43 millert Exp $
d11 1
a14 6

version.c: Version.c ${.CURDIR}/../Makefile
	(u=root d=`pwd` h=localhost t=`date +%c`; \
	sed -e "s|%WHEN%|$${t}|" -e "s|%VERSION%|"${VER}"|" \
	-e "s|%WHOANDWHERE%|$${u}@@$${h}:$${d}|" \
	< ${.CURDIR}/../named/Version.c > version.c)
@


1.3.16.1
log
@Apply http://www.isc.org/products/BIND/patches/bind4910.diff
Fixes bugs listed in http://www.isc.org/products/BIND/bind-security.html
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2002/11/14 23:23:43 millert Exp $
d11 1
a14 6

version.c: Version.c ${.CURDIR}/../Makefile
	(u=root d=`pwd` h=localhost t=`date +%c`; \
	sed -e "s|%WHEN%|$${t}|" -e "s|%VERSION%|"${VER}"|" \
	-e "s|%WHOANDWHERE%|$${u}@@$${h}:$${d}|" \
	< ${.CURDIR}/../named/Version.c > version.c)
@


1.2
log
@BIND 4.9.5-P1.

libresolv and include are required until the new resolver gets integrated
into libc.
@
text
@d1 1
a1 1
#	$OpenBSD$
d10 1
a10 1
CFLAGS+=	${INCLUDE} -I${.CURDIR}/../named ${CONFIG}
d13 2
a14 1
BINDIR=	/usr/libexec
@


1.1
log
@netbsd: bind 4.9.3
@
text
@d1 1
d9 3
a11 2
SRCS=	named-xfer.c db_glue.c storage.c dmalloc.c version.c
CFLAGS+=	-I${.CURDIR}/../named
@
