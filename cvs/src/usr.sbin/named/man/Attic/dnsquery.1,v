head	1.8;
access;
symbols
	OPENBSD_3_2:1.7.0.6
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.7.0.4
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.7.0.2
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_9:1.6.0.6
	OPENBSD_2_8:1.6.0.4
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.4.0.8
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.6
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.4.0.4
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.2
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.3.0.2
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2;
locks; strict;
comment	@# @;


1.8
date	2003.02.21.08.59.45;	author jakob;	state dead;
branches;
next	1.7;

1.7
date	2001.08.24.22.59.40;	author rohee;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.14.21.31.37;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.06.05.22.17.33;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	97.07.03.09.26.13;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	97.03.12.10.42.12;	author downsj;	state Exp;
branches;
next	1.2;

1.2
date	96.06.18.10.04.08;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	96.02.19.19.53.56;	author dm;	state Exp;
branches;
next	;


desc
@@


1.8
log
@remove bind4; ok deraadt@@
@
text
@.\"	$OpenBSD: dnsquery.1,v 1.7 2001/08/24 22:59:40 rohee Exp $
.TH DNSQUERY 1 "10 March 1990"
.UC 6
.SH NAME
dnsquery \- query domain name servers using resolver
.SH SYNOPSIS
.B dnsquery
[-n
.I nameserver]
[-t
.I type]
[-c
.I class]
[-r
.I retry]
[-p
.I retry_period]
[-d] [-s] [-v] host
.SH DESCRIPTION
The
.IR dnsquery
program is a general interface to nameservers via
BIND resolver library calls.  The program supports
queries to the nameserver with an opcode of QUERY.
This program is intended to be a replacement or
supplement to programs like nstest, nsquery and
nslookup.  All arguments except for
.IR host
and
.IR ns
are treated without case-sensitivity.
.SH OPTIONS
.TP 1i
.B \-n
The nameserver to be used in the query.  Nameservers can appear as either
Internet addresses of the form w.x.y.z or can appear as domain names.
(default: as specified in /etc/resolv.conf)
.TP 1i
.B \-t
The type of resource record of interest.  Types include:
.RS 1.5i
.TP 1i
A
address
.PD 0
.TP 1i
NS
nameserver
.TP 1i
CNAME
canonical name
.TP 1i
PTR	
domain name pointer
.TP 1i
SOA	
start of authority
.TP 1i
WKS	
well-known service
.TP 1i
HINFO
host information
.TP 1i
MINFO
mailbox information
.TP 1i
MX	
mail exchange
.TP 1i
RP	
responsible person
.TP 1i
MG	
mail group member
.TP 1i
AFSDB	
DCE or AFS server
.TP 1i
ANY	
wildcard
.RE
.PD
.IP
Note that any case may be used.  (default:  ANY)
.TP 1i
.B \-c
The class of resource records of interest.
Classes include:
.RS 2i
.TP 1i
IN	
Internet
.PD 0
.TP 1i
HS	
Hesiod
.TP 1i
CHAOS
Chaos
.TP 1i
ANY	
wildcard
.RE
.PD
.IP
Note that any case may be used.  (default:  IN)
.TP 1i
.B \-r
The number of times to retry if the nameserver is
not responding.  (default:  4)
.TP 1i
.B \-p
Period to wait before timing out.  (default:  RES_TIMEOUT)
.TP 1i
.B \-d
Turn on debugging.  This sets the RES_DEBUG bit of the resolver's
.IR options
field.  (default:  no debugging)
.TP 1i
.B \-s
Use a
.IR stream
rather than a packet.  This uses a TCP stream connection with
the nameserver rather than a UDP datagram.  This sets the
RES_USEVC bit of the resolver's
.IR options
field.  (default:  UDP)
.TP 1i
.B \-v
Synonym for the 's' flag.
.TP 1i
.B host
The name of the host (or domain) of interest.
.SH FILES
/etc/resolv.conf 	to get the default ns and search lists
.br
<arpa/nameser.h> 	list of usable RR types and classes
.br
<resolv.h>		list of resolver flags
.SH "SEE ALSO"
dig(1), host(1), named(8), nslookup(8), resolver(3)
.SH AUTHORS
Bryan Beecher
.SH DIAGNOSTICS
If the resolver fails to answer the query and debugging has not been
turned on,
.IR dnsquery
will simply print a message like:
.TP 1i
Query failed (rc = 1) : Unknown host
.LP
The value of the return code is supplied by h_errno.
.SH BUGS
Queries of a class other than IN can have interesting results
since ordinarily a nameserver only has a list of root nameservers
for class IN resource records.
.PP
Query uses a call to inet_addr() to determine if the argument
for the '-n' option is a valid Internet address.  Unfortunately,
inet_addr() seems to cause a segmentation fault with some (bad)
addresses (e.g., 1.2.3.4.5).
@


1.7
log
@Remove references to non-existant stuff
Reference some interresting stuff
Standardize a little, but it's not mdoc
@
text
@d1 1
a1 1
.\"	$OpenBSD: dnsquery.1,v 1.6 2000/03/14 21:31:37 aaron Exp $
@


1.6
log
@Suffix "i.e." and "e.g." with a comma. Just another really picky man page
commit, as we want our documentation to be as consistently formatted as
possible (it's getting there :-)).
@
text
@d1 1
a1 1
.\"	$OpenBSD: dnsquery.1,v 1.5 1999/06/05 22:17:33 aaron Exp $
d142 3
a144 2
nslookup(1), nstest(1), nsquery(1),
named(8), resolver(3)
a162 2
.SH AUTHOR
Bryan Beecher
@


1.5
log
@remove trailing whitespace, some Nm cleanup
@
text
@d1 1
a1 1
.\"	$OpenBSD: dnsquery.1,v 1.4 1997/07/03 09:26:13 deraadt Exp $
d161 1
a161 1
addresses (e.g. 1.2.3.4.5).
@


1.4
log
@fix typos; msaitoh@@spa.is.uec.ac.jp
@
text
@d1 1
a1 1
.\"	$OpenBSD: dnsquery.1,v 1.3 1997/03/12 10:42:12 downsj Exp $
d14 4
a17 4
[-r 
.I retry] 
[-p 
.I retry_period] 
d35 2
a36 2
The nameserver to be used in the query.  Nameservers can appear as either 
Internet addresses of the form w.x.y.z or can appear as domain names.  
d142 1
a142 1
nslookup(1), nstest(1), nsquery(1), 
@


1.3
log
@BIND 4.9.5-P1.

libresolv and include are required until the new resolver gets integrated
into libc.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d17 1
a17 1
.I retry period] 
a114 2
.IR options
field.  (default:  any answer)
@


1.2
log
@from netbsd; remove nstest/nsquery references
@
text
@d1 1
a1 2
.\"	$NetBSD: dnsquery.1,v 1.1.4.1 1996/06/14 13:18:13 mrg Exp $
.\"
d144 2
a145 2
nslookup(8)
named(8), resolver(5)
@


1.1
log
@netbsd: bind 4.9.3
@
text
@d1 1
a1 1
.\"	$NetBSD: dnsquery.1,v 1.1 1996/02/02 15:27:20 mrg Exp $
d145 1
a145 1
nslookup(8), nstest(1), nsquery(1), 
@
