head	1.13;
access;
symbols
	OPENBSD_6_2:1.13.0.4
	OPENBSD_6_2_BASE:1.13
	OPENBSD_6_1:1.13.0.6
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.13.0.2
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.10.0.2
	OPENBSD_5_9_BASE:1.10
	OPENBSD_5_8:1.10.0.4
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.6.0.14
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.18
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.16
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.12
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.6.0.10
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.6.0.8
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.6
	OPENBSD_5_0:1.6.0.4
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.6.0.2
	OPENBSD_4_9_BASE:1.6
	OPENBSD_4_8:1.5.0.2
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.1.0.4
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@.\" @;


1.13
date	2016.05.23.19.06.03;	author renato;	state Exp;
branches;
next	1.12;
commitid	92odz4Q2491RkKUo;

1.12
date	2016.05.23.19.04.55;	author renato;	state Exp;
branches;
next	1.11;
commitid	jK8Nhdc9G4Vfgvfh;

1.11
date	2016.05.23.19.01.32;	author renato;	state Exp;
branches;
next	1.10;
commitid	sYik162rIRZm1c51;

1.10
date	2015.07.27.18.48.04;	author sobrado;	state Exp;
branches;
next	1.9;
commitid	r9qI1nnshjT3yUk6;

1.9
date	2015.07.21.05.45.55;	author renato;	state Exp;
branches;
next	1.8;
commitid	DXQhwf2u2WDFRBx6;

1.8
date	2015.07.21.05.44.50;	author renato;	state Exp;
branches;
next	1.7;
commitid	h1uxwLTDb1rFheT9;

1.7
date	2015.07.21.05.43.46;	author renato;	state Exp;
branches;
next	1.6;
commitid	VFWRykk9NCAGmR5t;

1.6
date	2010.09.01.13.59.17;	author claudio;	state Exp;
branches;
next	1.5;

1.5
date	2010.05.10.18.46.07;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2009.11.03.08.09.15;	author jmc;	state Exp;
branches;
next	1.3;

1.3
date	2009.11.02.20.35.20;	author claudio;	state Exp;
branches;
next	1.2;

1.2
date	2009.10.27.16.22.15;	author sobrado;	state Exp;
branches;
next	1.1;

1.1
date	2009.06.01.20.59.45;	author michele;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Introduce the 'ldpctl clear neighbors' command.
@
text
@.\"	$OpenBSD: ldpctl.8,v 1.12 2016/05/23 19:04:55 renato Exp $
.\"
.\" Copyright (c) 2009 Michele Marchetto <michele@@openbsd.org>
.\" Copyright (c) 2004, 2005 Esben Norby <norby@@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: May 23 2016 $
.Dt LDPCTL 8
.Os
.Sh NAME
.Nm ldpctl
.Nd control the Label Distribution Protocol daemon
.Sh SYNOPSIS
.Nm
.Ar command
.Op Ar argument ...
.Sh DESCRIPTION
The
.Nm
program controls the
.Xr ldpd 8
daemon.
Commands may be abbreviated to the minimum unambiguous prefix; for example,
.Cm s i
for
.Cm show interfaces .
.Pp
The following commands are available:
.Bl -tag -width Ds
.It Xo
.Cm clear neighbors
.Op Ar address
.Xc
Delete entries from the neighbor table.
.Ar address
can be used to limit the scope of the command to the given neighbor.
.It Cm fib couple
Insert the learned labels into the Label Forwarding Information Base a.k.a.
the kernel routing table.
.It Cm fib decouple
Remove the learned labels from the Label Forwarding Information Base a.k.a.
the kernel routing table.
.It Cm log brief
Disable verbose debug logging.
.It Cm log verbose
Enable verbose debug logging.
.It Cm reload
Reload the configuration file.
.It Xo
.Cm show fib
.Op Cm family Ar family
.Op Ar destination | filter
.Xc
Show the Label Forwarding Information Base.
.Ar family ,
if given, limit the output to the given address family.
.Ar destination
can be specified to show the route matching a destination IP address.
.Ar filter
can be any of the following:
.Pp
.Bl -tag -width "interfaceXXinterfaceXX" -compact
.It Cm connected
Show only connected routes.
.It Cm interface
Show only interfaces.
.It Cm static
Show only static routes.
.El
.Pp
.Cm connected ,
and
.Cm static
may be specified together.
.It Xo
.Cm show interfaces
.Op Cm family Ar family
.Xc
Show details for all interfaces.
.Ar family ,
if given, limit the output to the given address family.
.It Xo
.Cm show discovery
.Op Cm family Ar family
.Xc
Show adjacencies.
.Ar family ,
if given, limit the output to the given address family.
.It Xo
.Cm show neighbor
.Op Cm family Ar family
.Xc
Show neighbors.
.Ar family ,
if given, limit the output to the given address family.
.It Xo
.Cm show lib
.Op Cm family Ar family
.Xc
Show the Label Information Base.
.Ar family ,
if given, limit the output to the given address family.
.It Cm show l2vpn bindings
Show the PWID Label Information Base.
.It Cm show l2vpn pseudowires
Show the status of the configured pseudowires.
.El
.Sh FILES
.Bl -tag -width "/var/run/ldpd.sockXX" -compact
.It Pa /var/run/ldpd.sock
.Ux Ns -domain
socket used for communication with
.Xr ldpd 8 .
.El
.Sh SEE ALSO
.Xr ldpd.conf 5 ,
.Xr ldpd 8
.Sh HISTORY
The
.Nm
program first appeared in
.Ox 4.6 .
@


1.12
log
@Sync with the latest IPv6 bits in ldpd(8).
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.11 2016/05/23 19:01:32 renato Exp $
d41 7
@


1.11
log
@s/routes/labels
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.10 2015/07/27 18:48:04 sobrado Exp $
d18 1
a18 1
.Dd $Mdocdate: July 27 2015 $
d53 5
a57 1
.It Cm show fib Op Ar destination | filter
d59 2
d79 4
a82 1
.It Cm show interfaces
d84 6
a89 1
.It Cm show discovery
d91 6
a96 1
.It Cm show neighbor
d98 9
a106 2
.It Cm show lib
Show the IPv4 Label Information Base.
@


1.10
log
@use file system path (.Pa) semantic markup macros where appropriate.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.9 2015/07/21 05:45:55 renato Exp $
d18 1
a18 1
.Dd $Mdocdate: July 21 2015 $
d42 1
a42 1
Insert the learned routes into the Label Forwarding Information Base a.k.a.
d45 1
a45 1
Remove the learned routes from the Label Forwarding Information Base a.k.a.
@


1.9
log
@Document the "ldpctl show discovery" command.

ok claudio@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.8 2015/07/21 05:44:50 renato Exp $
d88 1
a88 1
.It /var/run/ldpd.sock
@


1.8
log
@Introduce two show commands for l2vpns.

ok claudio@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.7 2015/07/21 05:43:46 renato Exp $
d75 2
@


1.7
log
@Re-enable the reload command.

ok claudio@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.6 2010/09/01 13:59:17 claudio Exp $
d18 1
a18 1
.Dd $Mdocdate: September 1 2010 $
d78 5
a82 1
Show the Label Information Base.
@


1.6
log
@s/lfib/fib/ for more consistency with the other routing ctl tools.
While I also made the code more consistent the most noticable change
is the rename of the commandline arguments for fib coupling and viewing.
OK michele@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.5 2010/05/10 18:46:07 sthen Exp $
d18 1
a18 1
.Dd $Mdocdate: May 10 2010 $
d51 2
@


1.5
log
@Mention that commands may be abbreviated. ok claudio@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.4 2009/11/03 08:09:15 jmc Exp $
d18 1
a18 1
.Dd $Mdocdate: November 3 2009 $
d41 1
a41 1
.It Cm lfib couple
d44 1
a44 1
.It Cm lfib decouple
d51 1
a51 1
.It Cm show lfib Op Ar destination | filter
@


1.4
log
@sort;
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.3 2009/11/02 20:35:20 claudio Exp $
d18 1
a18 1
.Dd $Mdocdate: November 2 2009 $
d34 4
@


1.3
log
@Implement "log verbose" and "log brief" to enable or disable verbose debug
logging. henning, sthen, michele like the idea
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.2 2009/10/27 16:22:15 sobrado Exp $
d18 1
a18 1
.Dd $Mdocdate: October 27 2009 $
d43 2
a46 2
.It Cm log brief
Disable verbose debug logging.
@


1.2
log
@write UNIX-domain in a more consistent way.
@
text
@d1 1
a1 1
.\"	$OpenBSD: ldpctl.8,v 1.1 2009/06/01 20:59:45 michele Exp $
d18 1
a18 1
.Dd $Mdocdate: June 1 2009 $
d43 4
@


1.1
log
@Welcome ldpd, the Label Distribution Protocol daemon.
Built using the imsg/three process framework, its main aim
is to redistribute MPLS labels between peers.

Right now it has some really basic functionalities,
the basic protocol works and peers are able to exchange
labels and insert them in the kernel.
It still does not react to changes of topology.

Not yet connected to the builds.

ok claudio@@ deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d18 1
a18 1
.Dd $Mdocdate: April 15 2009 $
d73 2
a74 1
Unix-domain socket used for communication with
@

