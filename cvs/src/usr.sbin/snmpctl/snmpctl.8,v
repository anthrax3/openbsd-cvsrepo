head	1.21;
access;
symbols
	OPENBSD_6_1:1.21.0.10
	OPENBSD_6_1_BASE:1.21
	OPENBSD_6_0:1.21.0.6
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.21.0.2
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.21.0.4
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.20.0.2
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.20.0.6
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.20.0.4
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.14.0.2
	OPENBSD_5_4_BASE:1.14
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.12.0.10
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.8
	OPENBSD_5_0:1.12.0.6
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.12.0.4
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.12.0.2
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.11.0.2
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.9.0.6
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.2
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.8.0.2
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7;
locks; strict;
comment	@.\" @;


1.21
date	2015.07.27.18.48.05;	author sobrado;	state Exp;
branches;
next	1.20;
commitid	r9qI1nnshjT3yUk6;

1.20
date	2013.10.07.11.40.09;	author reyk;	state Exp;
branches;
next	1.19;

1.19
date	2013.10.01.17.32.21;	author reyk;	state Exp;
branches;
next	1.18;

1.18
date	2013.10.01.17.20.39;	author reyk;	state Exp;
branches;
next	1.17;

1.17
date	2013.10.01.14.53.56;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2013.10.01.14.16.20;	author reyk;	state Exp;
branches;
next	1.15;

1.15
date	2013.10.01.12.41.49;	author reyk;	state Exp;
branches;
next	1.14;

1.14
date	2013.07.16.11.13.34;	author schwarze;	state Exp;
branches;
next	1.13;

1.13
date	2012.09.17.16.43.59;	author reyk;	state Exp;
branches;
next	1.12;

1.12
date	2010.05.10.18.46.07;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2009.10.22.15.02.13;	author sobrado;	state Exp;
branches;
next	1.10;

1.10
date	2009.10.22.12.35.53;	author sobrado;	state Exp;
branches;
next	1.9;

1.9
date	2008.09.26.15.19.55;	author reyk;	state Exp;
branches;
next	1.8;

1.8
date	2008.05.17.23.31.52;	author sobrado;	state Exp;
branches;
next	1.7;

1.7
date	2008.01.31.19.40.38;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2008.01.30.10.13.19;	author reyk;	state Exp;
branches;
next	1.5;

1.5
date	2008.01.18.02.09.30;	author reyk;	state Exp;
branches;
next	1.4;

1.4
date	2008.01.16.09.51.15;	author reyk;	state Exp;
branches;
next	1.3;

1.3
date	2008.01.04.12.41.55;	author reyk;	state Exp;
branches;
next	1.2;

1.2
date	2007.12.28.17.22.32;	author reyk;	state Exp;
branches;
next	1.1;

1.1
date	2007.12.05.09.22.44;	author reyk;	state Exp;
branches;
next	;


desc
@@


1.21
log
@use file system path (.Pa) semantic markup macros where appropriate.
@
text
@.\" $OpenBSD: snmpctl.8,v 1.20 2013/10/07 11:40:09 reyk Exp $
.\"
.\" Copyright (c) 2007, 2008 Reyk Floeter <reyk@@openbsd.org>
.\"
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\"
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\"
.Dd $Mdocdate: October 7 2013 $
.Dt SNMPCTL 8
.Os
.Sh NAME
.Nm snmpctl
.Nd control the SNMP daemon
.Sh SYNOPSIS
.Nm
.Op Fl n
.Op Fl s Ar socket
.Ar command
.Op Ar arg ...
.Sh DESCRIPTION
The
.Nm
program controls the
.Xr snmpd 8
daemon.
Commands may be abbreviated to the minimum unambiguous prefix; for example,
.Cm s m
for
.Cm show mib .
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl n
Show numeric OID values instead of their symbolic names.
.It Fl s Ar socket
Use
.Ar socket
instead of the default
.Pa /var/run/snmpd.sock
to communicate with
.Xr snmpd 8 .
.El
.Pp
The following commands are available:
.Bl -tag -width Ds
.It Cm monitor
Monitor internal messages of the
.Xr snmpd 8
subsystems and engines.
.It Cm show mib
Dump the tree of compiled-in MIB objects.
.It Xo
.Cm snmp Ar request Ar host
.Op Ar options
.Xc
Request information from an SNMP agent that is running on the specified
.Ar host .
The
.Ar request
can be either
.Ic get ,
.Ic walk
or
.Ic bulkwalk
to retrieve a single SNMP value or a subtree.
The following
.Ar options
are supported:
.Pp
.Bl -tag -width bitstringXXXXXXXX -compact
.It Cm community Ar value
Set the SNMPv2 community; the default is
.Sq public .
.It Xo
.Cm oid
.Pq Ic all Ns | Ns Ar value
.Xc
Set the start OID; the default is
.Sq system .
This option can be specified multiple times.
.It Cm version Ar value
Set the SNMP version, either
.Ic 1
or
.Ic 2c .
The default is
.Ic 2c .
.El
.It Xo
.Cm trap send Ar oid-string
.Op Cm oid Ar oid-string Ar type value ...
.Xc
Send an SNMP trap via
.Xr snmpd 8
to the registered trap receivers.
The command takes one
.Ar oid-string
argument as the trap OID and optional varbind arguments with the specified
.Ar oid-string ,
.Ar type ,
and
.Ar value .
The following types are supported:
.Pp
.Bl -tag -width bitstringXXXXXXXX -compact
.It Cm ip Ar value
An IPv4 address.
.It Cm counter Ar value
A 32-bit counter.
.It Cm gauge Ar value
A 32-bit gauge.
.It Cm unsigned Ar value
A 32-bit unsigned integer.
.It Cm ticks Ar value
A 32-bit timeticks integer value.
.It Cm opaque Ar value
A 32-bit opaque.
.It Cm nsap Ar value
A 32-bit NSAP address.
.It Cm counter64 Ar value
A 64-bit counter.
.It Cm uint Ar value
A 32-bit unsigned integer.
.It Cm int Ar value
A 32-bit integer.
.It Cm bitstring Ar string
A bit string.
.It Cm string Ar string
An octet string.
.It Cm null
This type takes no argument.
.It Cm oid Ar oid-string
An string describing an Object ID, for example
.Ar 1.3.6.1.4.1.30155 .
.El
.It Cm walk Ar host
Alias for
.Ic snmp walk Ar host ,
see above.
.El
.Sh FILES
.Bl -tag -width "/var/run/snmpd.sockXX" -compact
.It Pa /var/run/snmpd.sock
default
.Ux Ns -domain
socket used for communication with
.Xr snmpd 8
.El
.Sh SEE ALSO
.Xr snmpd 8
.Sh HISTORY
The
.Nm
program first appeared in
.Ox 4.3 .
.Sh AUTHORS
The
.Nm
program was written by
.An Reyk Floeter Aq Mt reyk@@openbsd.org .
@


1.20
log
@Allow to specify the "oid" option multiple times, eg.
snmpctl walk 127.0.0.1 oid system oid ifName
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.19 2013/10/01 17:32:21 reyk Exp $
d17 1
a17 1
.Dd $Mdocdate: October 1 2013 $
d152 1
a152 1
.It /var/run/snmpd.sock
@


1.19
log
@Accept "oid all" for the complete SNMP tree (as an alias to "oid 1.0").
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.18 2013/10/01 17:20:39 reyk Exp $
d89 1
@


1.18
log
@Initial support for the "bulkwalk" command.
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.17 2013/10/01 14:53:56 jmc Exp $
d83 4
a86 1
.It Cm oid Ar value
@


1.17
log
@zap trailing whitespace;
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.16 2013/10/01 14:16:20 reyk Exp $
d70 2
a71 1
.Ic get
d73 1
a73 1
.Ic walk
@


1.16
log
@Add shorter alias "snmpctl walk".

Requested by deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.15 2013/10/01 12:41:49 reyk Exp $
d86 1
a86 1
Set the SNMP version, either 
@


1.15
log
@Add initial SNMP client utility to snmpctl(8).
For example, snmpctl snmp walk 127.0.0.1

commit it deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.14 2013/07/16 11:13:34 schwarze Exp $
d17 1
a17 1
.Dd $Mdocdate: July 16 2013 $
d140 4
@


1.14
log
@use .Mt for email addresses; from Jan Stary <hans at stare dot cz>; ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.13 2012/09/17 16:43:59 reyk Exp $
d17 1
a17 1
.Dd $Mdocdate: September 17 2012 $
d61 32
@


1.13
log
@Update copyright and my email address in snmpd while I'm here.
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.12 2010/05/10 18:46:07 sthen Exp $
d17 1
a17 1
.Dd $Mdocdate: May 10 2010 $
d128 1
a128 1
.An Reyk Floeter Aq reyk@@openbsd.org .
@


1.12
log
@Mention that commands may be abbreviated. ok claudio@@
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.11 2009/10/22 15:02:13 sobrado Exp $
d3 1
a3 1
.\" Copyright (c) 2007, 2008 Reyk Floeter <reyk@@vantronix.net>
d17 1
a17 1
.Dd $Mdocdate: October 22 2009 $
d128 1
a128 1
.An Reyk Floeter Aq reyk@@vantronix.net .
@


1.11
log
@write UNIX-domain in a more consistent way; while here, replace a
few remaining ".Tn UNIX" macros with ".Ux" ones.

pointed out by ratchov@@, thanks!

ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.10 2009/10/22 12:35:53 sobrado Exp $
d35 4
@


1.10
log
@use the UNIX-related macros (.At and .Ux) where appropriate.

ok jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.9 2008/09/26 15:19:55 reyk Exp $
d17 1
a17 1
.Dd $Mdocdate: September 26 2008 $
d109 2
a110 2
.Ux
domain socket used for communication with
@


1.9
log
@allow to add an additional restricted control socket for trap sending
only (not even show commands).  this allows to place a socket for
traps in another daemon's chroot.

(based on restricted socket support from bgpd)
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.8 2008/05/17 23:31:52 sobrado Exp $
d17 1
a17 1
.Dd $Mdocdate: May 17 2008 $
d108 3
a110 1
default UNIX-domain socket used for communication with
@


1.8
log
@documentation tweaks.

ok (some time ago) jmc@@
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.7 2008/01/31 19:40:38 jmc Exp $
d17 1
a17 1
.Dd $Mdocdate: January 31 2008 $
d26 1
d40 7
d108 2
a109 2
Unix-domain socket used for communication with
.Xr snmpd 8 .
@


1.7
log
@some small fixes for snmp stuff;
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.6 2008/01/30 10:13:19 reyk Exp $
d17 1
a17 1
.Dd $Mdocdate: January 30 2008 $
d27 1
a27 1
.Op Ar arguments ...
@


1.6
log
@spacing
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.5 2008/01/18 02:09:30 reyk Exp $
d17 1
a17 1
.Dd $Mdocdate: January 18 2008 $
d51 1
a51 1
.Op Cm oid Ar oid-string Ar type value ... Oc
d53 1
a53 1
Send a SNMP trap via
d69 1
a69 1
A 32 bit counter.
d71 1
a71 1
A 32 bit gauge.
d73 1
a73 1
A 32 bit unsigned integer.
d75 1
a75 1
A 32 bit timeticks integer value.
d77 1
a77 1
A 32 bit opaque.
d79 1
a79 1
A 32 bit NSAP address.
d81 1
a81 1
A 64 bit counter.
d83 1
a83 1
A 32 bit unsigned integer.
d85 1
a85 1
A 32 bit integer.
d93 1
a93 1
An string describing a Object ID, for example
@


1.5
log
@add a snmpctl command to send traps to registered receivers using
snmpd's imsg trap interface.
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.4 2008/01/16 09:51:15 reyk Exp $
d17 1
a17 1
.Dd $Mdocdate: January 16 2008 $
d56 1
a56 1
The command takes one 
@


1.4
log
@bump copyright
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.3 2008/01/04 12:41:55 reyk Exp $
d17 1
a17 1
.Dd $Mdocdate: January 4 2008 $
d49 47
@


1.3
log
@add the -n flag to dump numeric OIDs instead of symbolic names
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.2 2007/12/28 17:22:32 reyk Exp $
d3 1
a3 1
.\" Copyright (c) 2007 Reyk Floeter <reyk@@vantronix.net>
d17 1
a17 1
.Dd $Mdocdate: December 28 2007 $
@


1.2
log
@add "show mib" command to dump compiled-in MIB names
@
text
@d1 1
a1 1
.\" $OpenBSD: snmpctl.8,v 1.1 2007/12/05 09:22:44 reyk Exp $
d17 1
a17 1
.Dd $Mdocdate: December 5 2007 $
d25 1
d34 6
@


1.1
log
@Start working on snmpd(8) and snmpctl(8), a lightweight SNMP implementation
for OpenBSD.  SNMP is a necessary evil.  This is work in progress, don't
expect too much from it yet.

ok deraadt@@
@
text
@d1 1
a1 1
.\" $OpenBSD$
d3 1
a3 1
.\" Copyright (c) 2006 Reyk Floeter <reyk@@vantronix.net>
d17 1
a17 1
.Dd $Mdocdate: December 4 2007 $
d36 6
a41 2
.It Cm something
Do something
@

