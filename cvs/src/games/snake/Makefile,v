head	1.12;
access;
symbols
	OPENBSD_6_1_BASE:1.12
	OPENBSD_6_0:1.12.0.4
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.12.0.2
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.9.0.26
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.9.0.18
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.9.0.22
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.20
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.9.0.16
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.9.0.14
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.12
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.10
	OPENBSD_5_0:1.9.0.8
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.9.0.6
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.9.0.4
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.8.0.32
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.28
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.26
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.24
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.22
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.20
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.18
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.8.0.16
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.8.0.14
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.12
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.8.0.10
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.8
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.8.0.6
	OPENBSD_3_4_BASE:1.8
	OPENBSD_3_3:1.8.0.4
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.2
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.5.0.6
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.5.0.4
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9:1.5.0.2
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_8:1.4.0.4
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.2
	OPENBSD_2_7_BASE:1.4
	OPENBSD_2_6:1.3.0.4
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.2.0.6
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.4
	OPENBSD_2_3_BASE:1.2
	OPENBSD_2_2:1.2.0.2
	OPENBSD_2_2_BASE:1.2
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.12
date	2015.11.27.09.37.56;	author tb;	state Exp;
branches;
next	1.11;
commitid	56ZxatNcgjaakBrl;

1.11
date	2015.11.25.23.18.11;	author deraadt;	state Exp;
branches;
next	1.10;
commitid	ZTjVHfaI1O8Sysk7;

1.10
date	2015.11.24.03.10.10;	author deraadt;	state Exp;
branches;
next	1.9;
commitid	NZfzN0SfUUHBE4HF;

1.9
date	2009.11.13.21.50.12;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2002.05.31.03.46.35;	author pjanzen;	state Exp;
branches;
next	1.7;

1.7
date	2002.05.24.07.59.51;	author wilfried;	state Exp;
branches;
next	1.6;

1.6
date	2002.05.23.18.43.00;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	2001.02.18.16.03.01;	author pjanzen;	state Exp;
branches;
next	1.4;

1.4
date	2000.04.25.16.51.18;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	99.03.13.02.08.09;	author pjanzen;	state Exp;
branches;
next	1.2;

1.2
date	97.09.21.11.37.03;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.49.22;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.49.22;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Fix after removal of the setgid bit:

Add pledge "stdio rpath wpath cpath tty".
Move score file to $HOME, add $USER as high score entry.
Maintain hall of fame of 10 high scores, make snake wink if
it ate you while you were eligible for eternal fame.

Based on an initial diff by Ricardo Mestre and with helpful input from tedu@@.

ok beck@@
@
text
@#	$OpenBSD: Makefile,v 1.11 2015/11/25 23:18:11 deraadt Exp $
#	@@(#)Makefile	8.1 (Berkeley) 5/31/93

PROG=	snake
SRCS=	snake.c
MAN=	snake.6
DPADD=	${LIBM} ${LIBCURSES}
LDADD=	-lm -lcurses

.include <bsd.prog.mk>
@


1.11
log
@Remove operations that "touch" scorefiles at install time.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2015/11/24 03:10:10 deraadt Exp $
d5 1
a5 1
SRCS=	snake.c snscore.c
@


1.10
log
@In 1995, all of the games were setuid games.  At end of 1996, I took them all
to setgid games, and we started wittling them down.  Nearly 10 years later I
am removing all setgid from the games.  If any of these have score files they
are now broken, and I hope various folk repair them.  I have argued for years
(and received pushback...) that the score file features must be removed, or
rewritten to use private files, because setgid is the wrong tool.
ok tedu
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2009/11/13 21:50:12 deraadt Exp $
a8 4

beforeinstall:
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} -m 664 /dev/null \
	    ${DESTDIR}/var/games/snakerawscores
@


1.9
log
@no need for seperate snscore command; ok pjanzen
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2002/05/31 03:46:35 pjanzen Exp $
a8 1
BINMODE=2555
@


1.8
log
@No dm -> games with high score files etc. must explicitly be setgid games.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2002/05/24 07:59:51 wilfried Exp $
a8 1
MLINKS=snake.6 snscore.6
a13 1
	(cd ${DESTDIR}/usr/games; rm -f snscore; ln -s snake snscore)
@


1.7
log
@fix name, ok deraadt
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2002/05/23 18:43:00 deraadt Exp $
d10 1
@


1.6
log
@The troll strikes.. The troll strikes.. The dungeon master dies.distrib/sets/lists
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2001/02/18 16:03:01 pjanzen Exp $
d14 1
a14 1
	(cd ${DESTDIR}/usr/games; rm -f snscore; ln -s dm snscore)
@


1.5
log
@Convert to curses and tidy some.  Generally based on NetBSD changes.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2000/04/25 16:51:18 espie Exp $
a8 1
HIDEGAME=hidegame
a14 1
	(cd ${DESTDIR}/usr/games/hide; rm -f snscore; ln -s snake snscore)
@


1.4
log
@Missing MLINKS
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1999/03/13 02:08:09 pjanzen Exp $
d5 1
a5 1
SRCS=	snake.c move.c snscore.c
@


1.3
log
@Fix a few bugs (e.g. snake used to miss turns); use usleep() so display
speed is correct on xterms; put snscore functionality inside snake and
make snscore a symbolic link (to be phased out); clean up formatting;
install score file properly; disable the log file by default (logging should
be done through dm).
@
text
@d1 1
a1 1
#	$OpenBSD$
d10 1
@


1.2
log
@$OpenBSD$
@
text
@d2 1
d4 6
a9 1
SUBDIR=	snake snscore
d11 7
a17 1
.include <bsd.subdir.mk>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 2
#	$NetBSD: Makefile,v 1.3 1995/04/22 08:34:18 cgd Exp $
#	@@(#)Makefile	8.1 (Berkeley) 5/31/93
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
