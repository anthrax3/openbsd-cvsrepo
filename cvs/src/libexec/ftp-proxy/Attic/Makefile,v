head	1.5;
access;
symbols
	OPENBSD_3_8:1.4.0.8
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.6
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.4
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.3.0.4
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.1.0.4
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2005.11.24.17.12.50;	author deraadt;	state dead;
branches;
next	1.4;

1.4
date	2003.11.20.23.23.09;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2003.01.23.23.15.16;	author djm;	state Exp;
branches;
next	1.2;

1.2
date	2002.05.23.10.22.14;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.19.04.11.11;	author beck;	state Exp;
branches;
next	;


desc
@@


1.5
log
@code is not being used; toss into Attic
@
text
@#	$OpenBSD: Makefile,v 1.4 2003/11/20 23:23:09 avsm Exp $
#	@@(#)Makefile	8.2 (Berkeley) 4/4/94

PROG=	ftp-proxy
CFLAGS+=-Wall
SRCS=	ftp-proxy.c getline.c util.c
MAN=	ftp-proxy.8

.include <bsd.own.mk>

.if (${TCP_WRAPPERS:L} == "yes")
CFLAGS+= -DLIBWRAP
LDADD+=	-lwrap
DPADD+=	${LIBWRAP}
.endif

.include <bsd.prog.mk>
@


1.4
log
@remove -Werror from userland builds, to give us a chance to
use more verbose warning options if desired.
ok millert@@, henning@@, david@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2003/01/23 23:15:16 djm Exp $
@


1.3
log
@Honour TCP_WRAPPERS mk.conf setting; ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2002/05/23 10:22:14 deraadt Exp $
d5 1
a5 1
CFLAGS+=-Wall -Werror
@


1.2
log
@KNF during an audit; found an improperly initialized sockaddr
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1 2001/08/19 04:11:11 beck Exp $
d11 2
d15 1
@


1.1
log
@transparent ftp proxy, based on Obtuse Systems juniper stuff with much
modernizing and cleanup. still needs looking at.

Currently supports PORT PASV EPRT data connections with only a pf rdr to
capture the control connection. (I.E. you don't need ip forwarding
or other NAT stuff). Runs from inetd.

Supports all passive (EPSV PASV) when using -n flag, where the proxy
ignores passive mode data connections (and assumes nat will get them
through).

Todo yet:
	More audit
	IpV6
	Handle EPSV in proxy (with an rdr added then removed)
	Option to Daemonize and bind only to the loopback
	More Content/Login filtering, etc. etc. and more bloat
@
text
@d1 1
a1 1
#	$OpenBSD$
d6 1
a6 1
SRCS=	ftp-proxy.c getline.c util.c 
@

