head	1.14;
access;
symbols
	OPENBSD_5_5:1.13.0.26
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.22
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.13.0.20
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.13.0.18
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.16
	OPENBSD_5_0:1.13.0.14
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.12
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.13.0.10
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.13.0.6
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.13.0.8
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.13.0.4
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.2
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.12.0.4
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.11.0.16
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.14
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.11.0.12
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.11.0.10
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.11.0.8
	OPENBSD_3_7_BASE:1.11
	OPENBSD_3_6:1.11.0.6
	OPENBSD_3_6_BASE:1.11
	OPENBSD_3_5:1.11.0.4
	OPENBSD_3_5_BASE:1.11
	OPENBSD_3_4:1.11.0.2
	OPENBSD_3_4_BASE:1.11
	OPENBSD_3_3:1.9.0.8
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.9.0.6
	OPENBSD_3_2_BASE:1.9
	OPENBSD_3_1:1.9.0.4
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.9.0.2
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9:1.8.0.2
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.7.0.2
	OPENBSD_2_8_BASE:1.7
	OPENBSD_2_7:1.6.0.4
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.4.0.2
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.3.0.6
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.4
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.2
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.1.0.2
	OPENBSD_2_1_BASE:1.1;
locks; strict;
comment	@# @;


1.14
date	2014.03.24.13.56.01;	author deraadt;	state dead;
branches;
next	1.13;

1.13
date	2008.05.17.23.31.52;	author sobrado;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.31.19.19.41;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2003.07.08.13.47.28;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2003.06.03.21.09.00;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	2001.08.02.18.37.34;	author mpech;	state Exp;
branches;
next	1.8;

1.8
date	2000.11.09.17.53.36;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	2000.10.30.17.46.26;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.07.09.13.35.52;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.05.28.23.00.10;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.04.02.16.21.36;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	97.07.08.09.47.06;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	97.06.24.02.12.26;	author downsj;	state Exp;
branches;
next	1.1;

1.1
date	97.02.26.06.17.08;	author downsj;	state Exp;
branches;
next	;


desc
@@


1.14
log
@libwrap is going away, so can this.
ok tedu
@
text
@.\"	$OpenBSD: tcpdchk.8,v 1.13 2008/05/17 23:31:52 sobrado Exp $
.\"
.\" Copyright (c) 1997, Jason Downs.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR(S) ``AS IS'' AND ANY EXPRESS
.\" OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
.\" DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR(S) BE LIABLE FOR ANY DIRECT,
.\" INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
.\" (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
.\" SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
.\" CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.Dd $Mdocdate: May 17 2008 $
.Dt TCPDCHK 8
.Os
.Sh NAME
.Nm tcpdchk
.Nd tcp wrapper configuration checker
.Sh SYNOPSIS
.Nm tcpdchk
.Op Fl adv
.Op Fl i Ar inet_conf
.Sh DESCRIPTION
.Nm
examines your tcp wrapper configuration and reports all
potential and real problems it can find.
The program examines the
.Xr tcpd 8
access control files (by default, these are
.Pa /etc/hosts.allow
and
.Pa /etc/hosts.deny ) ,
and compares the
entries in these files against entries in the
.Xr inetd 8
network configuration file.
.Pp
.Nm
reports problems such as non-existent pathnames; services
that appear in
.Xr tcpd 8
access control rules, but are not controlled by
.Xr tcpd 8 ;
services that should not be wrapped; non-existent host
names or non-internet address forms; occurrences of host aliases
instead of official host names; hosts with a name/address conflict;
inappropriate use of wildcard patterns; inappropriate use of NIS
netgroups or references to non-existent NIS netgroups; references to
non-existent options; invalid arguments to options; and so on.
.Pp
Where possible,
.Nm
provides a helpful suggestion to fix the problem.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a
Report access control rules that permit access without an explicit
ALLOW keyword.
.\" This applies only when the extended access control
.\" language is enabled (build with -DPROCESS_OPTIONS).
.It Fl d
Examine
.Pa hosts.allow
and
.Pa hosts.deny
files in the current directory instead of the default ones.
.It Fl i Ar inet_conf
Specify this option when
.Nm
is unable to find your
.Pa inetd.conf
network configuration file, or when you wish to test with a non-default one.
.It Fl v
Display the contents of each access control rule.
Daemon lists, client lists, shell commands and options are shown in a
pretty-printed format; this makes it easier for you to spot any
discrepancies between what you want and what the program understands.
.El
.Sh FILES
.Bl -tag -width /etc/hosts.allow -compact
.It Pa /etc/hosts.allow
access control table (allow list)
.It Pa /etc/hosts.deny
access control table (deny list)
.El
.Sh SEE ALSO
.Xr hosts_access 5 ,
.Xr hosts_options 5 ,
.Xr inetd.conf 5 ,
.Xr tcpdmatch 8
.Sh AUTHORS
.Bd -unfilled -offset indent
Wietse Venema (wietse@@wzv.win.tue.nl),
Department of Mathematics and Computing Science,
Eindhoven University of Technology
Den Dolech 2, P.O. Box 513,
5600 MB Eindhoven, The Netherlands
.Ed
.\" @@(#) tcpdchk.8 1.3 95/01/08 17:00:30
@


1.13
log
@documentation tweaks.

ok (some time ago) jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.12 2007/05/31 19:19:41 jmc Exp $
d26 1
a26 1
.Dd $Mdocdate: May 31 2007 $
@


1.12
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.11 2003/07/08 13:47:28 jmc Exp $
d26 1
a26 1
.Dd $Mdocdate$
d34 1
a34 2
.Op Fl a
.Op Fl d
a35 1
.Op Fl v
@


1.11
log
@- fix an .Nd
- \" -> .\" at start of line
- simpler macros
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.10 2003/06/03 21:09:00 deraadt Exp $
d26 1
a26 1
.Dd June 23, 1997
@


1.10
log
@terms 3 & 4 cleanup based on "terms" file
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.9 2001/08/02 18:37:34 mpech Exp $
d115 1
a115 1
\" @@(#) tcpdchk.8 1.3 95/01/08 17:00:30
@


1.9
log
@o) .Sh AUTHOR -> .Sh AUTHORS;
o) .Sh EXAMPLE -> .Sh EXAMPLES;
o) Delete .Sh OPTIONS. Text moved to .Sh DESCRIPTION;

millert@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.8 2000/11/09 17:53:36 aaron Exp $
a12 7
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"      This product includes software developed by Jason Downs for the
.\"      OpenBSD system.
.\" 4. Neither the name(s) of the author(s) nor the name OpenBSD
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
@


1.8
log
@Change all option list specifications to ".Bl -tag -width Ds". Most man
pages just needed their -width parameter tweaked to "Ds", which provides
a nice width of 6 constant characters. For consistency more than anything.
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.7 2000/10/30 17:46:26 aaron Exp $
d114 1
a114 1
.Sh AUTHOR
@


1.7
log
@libexec man page fleshing. again, bored on the plane home.
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.6 1999/07/09 13:35:52 aaron Exp $
d78 1
a78 1
.Bl -tag -width XXXXXXXXXXXX
@


1.6
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.5 1999/05/28 23:00:10 aaron Exp $
d46 1
a46 1
.Nm tcpdchk
d48 2
a49 1
potential and real problems it can find. The program examines the
d60 1
a60 1
.Nm tcpdchk
d74 1
a74 1
.Nm tcpdchk
d76 2
a77 1
.Sh OPTIONS
d92 1
a92 1
.Nm tcpdchk
d97 4
a100 4
Display the contents of each access control rule.  Daemon lists, client
lists, shell commands and options are shown in a pretty-printed format;
this makes it easier for you to spot any discrepancies between what you
want and what the program understands.
@


1.5
log
@more .El madness
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.4 1999/04/02 16:21:36 aaron Exp $
d55 1
a55 1
entries in these files against entries in the 
d61 1
a61 1
that appear in 
d72 1
a72 1
Where possible, 
d83 1
a83 1
Examine 
d117 1
a117 1
Den Dolech 2, P.O. Box 513, 
@


1.4
log
@.Pp macros do not belong immiedately after .Sh section header lines
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.3 1997/07/08 09:47:06 deraadt Exp $
d99 1
a100 4
The default locations of the 
.Xr tcpd 8
access control tables are:
.Pp
d103 1
a103 1
Access control table (allow list)
d105 1
a105 1
Access control table (deny list)
d111 1
a111 1
.Xr tcpdmatch 8 .
@


1.3
log
@mispelled SYNOPSIS
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.2 1997/06/24 02:12:26 downsj Exp $
a45 1
.Pp
a99 1
.Pp
@


1.2
log
@New mandoc manual pages.
@
text
@d1 1
a1 1
.\"	$OpenBSD: tcpdchk.8,v 1.1 1997/02/26 06:17:08 downsj Exp $
d39 1
a39 1
.Sh SYNOPSYS
@


1.1
log
@Initial integration of userland tcpd.
@
text
@d1 48
a48 9
.\"	$OpenBSD$
.TH TCPDCHK 8
.SH NAME
tcpdchk \- tcp wrapper configuration checker
.SH SYNOPSYS
tcpdchk [-a] [-d] [-i inet_conf] [-v]
.SH DESCRIPTION
.PP
\fItcpdchk\fR examines your tcp wrapper configuration and reports all
d50 17
a66 8
\fItcpd\fR access control files (by default, these are
\fI/etc/hosts.allow\fR and \fI/etc/hosts.deny\fR), and compares the
entries in these files against entries in the \fIinetd\fR or \fItlid\fR
network configuration files.
.PP
\fItcpdchk\fR reports problems such as non-existent pathnames; services
that appear in \fItcpd\fR access control rules, but are not controlled
by \fItcpd\fR; services that should not be wrapped; non-existent host
d72 7
a78 5
.PP
Where possible, \fItcpdchk\fR provides a helpful suggestion to fix the
problem.
.SH OPTIONS
.IP -a
d80 16
a95 10
ALLOW keyword. This applies only when the extended access control
language is enabled (build with -DPROCESS_OPTIONS).
.IP -d
Examine \fIhosts.allow\fR and \fIhosts.deny\fR files in the current
directory instead of the default ones.
.IP "-i inet_conf"
Specify this option when \fItcpdchk\fR is unable to find your
\fIinetd.conf\fR or \fItlid.conf\fR network configuration file, or when
you suspect that the program uses the wrong one.
.IP -v
d100 19
a118 18
.SH FILES
.PP
The default locations of the \fItcpd\fR access control tables are:
.PP
/etc/hosts.allow
.br
/etc/hosts.deny
.SH SEE ALSO
.na
.nf
tcpdmatch(8), explain what tcpd would do in specific cases.
hosts_access(5), format of the tcpd access control tables.
hosts_options(5), format of the language extensions.
inetd.conf(5), format of the inetd control file.
tlid.conf(5), format of the tlid control file.
.SH AUTHORS
.na
.nf
d124 1
@
