head	1.11;
access;
symbols
	OPENBSD_3_1:1.10.0.2
	OPENBSD_3_1_BASE:1.10
	OPENBSD_3_0:1.9.0.2
	OPENBSD_3_0_BASE:1.9
	OPENBSD_2_9:1.7.0.2
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_8:1.6.0.2
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.5.0.4
	OPENBSD_2_7_BASE:1.5
	OPENBSD_2_6:1.5.0.2
	OPENBSD_2_6_BASE:1.5
	OPENBSD_2_5:1.3.0.12
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.10
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.8
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.6
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.3.0.4
	OPENBSD_2_1_BASE:1.3
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.11
date	2002.05.06.19.48.21;	author deraadt;	state dead;
branches;
next	1.10;

1.10
date	2001.11.13.14.06.10;	author mpech;	state Exp;
branches;
next	1.9;

1.9
date	2001.06.23.23.15.38;	author hin;	state Exp;
branches;
next	1.8;

1.8
date	2001.06.23.22.14.31;	author hin;	state Exp;
branches;
next	1.7;

1.7
date	2001.01.28.19.34.31;	author niklas;	state Exp;
branches;
next	1.6;

1.6
date	2000.10.30.17.46.13;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	99.07.09.13.35.53;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	99.05.23.14.11.13;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	96.07.31.09.15.52;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.07.31.09.05.14;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.43.20;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.43.20;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.11
log
@rlogind and rexecd go away
@
text
@.\"	$OpenBSD: rlogind.8,v 1.10 2001/11/13 14:06:10 mpech Exp $
.\" Copyright (c) 1983, 1989, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     from: @@(#)rlogind.8	8.1 (Berkeley) 6/4/93
.\"
.Dd June 4, 1993
.Dt RLOGIND 8
.Os
.Sh NAME
.Nm rlogind
.Nd remote login server
.Sh SYNOPSIS
.Nm rlogind
.Op Fl alnk
.Sh DESCRIPTION
.Nm
is the server for the
.Xr rlogin 1
program.
The server provides a remote login facility
with authentication based on privileged port numbers from trusted hosts.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a
Ask hostname for verification.
This flag is ignored; this feature is always enabled.
.It Fl k
Use Kerberos authentication
.It Fl l
Prevent any authentication based on the user's
.Pa .rhosts
file, unless the user is logging in as the superuser.
.It Fl n
Disable keep-alive messages.
.El
.Pp
.Nm
listens for service requests at the port indicated in the
.Dq login
service specification; see
.Xr services 5 .
When a service request is received the following protocol
is initiated:
.Bl -enum
.It
The server checks the client's source port.
If the port is not in the range 512-1023, the server
aborts the connection.
.It
The server checks the client's source address
and requests the corresponding host name (see
.Xr gethostbyaddr 3 ,
.Xr hosts 5
and
.Xr named 8 ) .
If the hostname cannot be determined,
the dot-notation representation of the host address is used.
If the hostname is in the same domain as the server (according to
the last two components of the domain name),
or if the
.Fl a
option is given,
the addresses for the hostname are requested,
verifying that the name and address correspond.
Normal authentication is bypassed if the address verification fails.
.El
.Pp
Once the source port and address have been checked,
.Nm
proceeds with the authentication process described in
.Xr rshd 8 .
It then allocates a pseudo terminal (see
.Xr pty 4 ) ,
and manipulates file descriptors so that the slave
half of the pseudo terminal becomes the
.Em stdin ,
.Em stdout ,
and
.Em stderr
for a login process.
The login process is an instance of the
.Xr login 1
program, invoked with the
.Fl f
option if authentication has succeeded.
If automatic authentication fails, the user is
prompted to log in as if on a standard terminal line.
.Pp
The parent of the login process manipulates the master side of
the pseudo terminal, operating as an intermediary
between the login process and the client instance of the
.Xr rlogin 1
program.
In normal operation, the packet protocol described in
.Xr pty 4
is invoked to provide
.Ql ^S/^Q
type facilities and propagate
interrupt signals to the remote programs.
The login process propagates the client terminal's baud rate and terminal type,
as found in the environment variable,
.Ql Ev TERM ;
see
.Xr environ 7 .
The screen or window size of the terminal is requested from the client,
and window size changes from the client are propagated to the pseudo terminal.
.Pp
Transport-level keepalive messages are enabled unless the
.Fl n
option is present.
The use of keepalive messages allows sessions to be timed out
if the client crashes or becomes unreachable.
.Sh DIAGNOSTICS
All initial diagnostic messages are indicated
by a leading byte with a value of 1,
after which any network connections are closed.
If there are no errors before
.Xr login 1
is invoked, a null byte is returned as in indication of success.
.Bl -tag -width Ds
.It Sy Try again.
A
.Xr fork 2
by the server failed.
.El
.Sh SEE ALSO
.Xr login 1 ,
.Xr ruserok 3 ,
.Xr rshd 8
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.2 .
.Sh BUGS
The authentication procedure used here assumes the integrity
of each client machine and the connecting medium.
.Pp
A more extensible protocol should be used.
.Pp
.Nm
does not currently support encryption of the datastream when Kerberos
authentication is used.
@


1.10
log
@o) fix bogus .Xr usage;
o) start new sentence on a new line;
o) don't use .Xr instead of .Pa tag;
o) minimal -mdoc design fixes;

millert@@ ok;
@
text
@d1 1
a1 1
.\"	$OpenBSD: rlogind.8,v 1.9 2001/06/23 23:15:38 hin Exp $
@


1.9
log
@Small nits from pjanzen.
@
text
@d1 1
a1 1
.\"	$OpenBSD: rlogind.8,v 1.8 2001/06/23 22:14:31 hin Exp $
d122 1
a122 1
.Xr rlogin
d148 1
a148 1
.Xr login
d153 1
a153 1
.Xr fork
@


1.8
log
@Don't lie about Kerberos and encryption.

Result of a conversation with pjanzen@@
ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: rlogind.8,v 1.7 2001/01/28 19:34:31 niklas Exp $
d172 1
a172 1
does currently not support encryption of the datastream when Kerberos
@


1.7
log
@$OpenBSD$
@
text
@d1 1
a1 1
.\"	$OpenBSD: rlogind.8,v 1.6 2000/10/30 17:46:13 aaron Exp $
d43 1
a43 1
.Op Fl aln
d57 2
a167 1
This is insecure, but is useful in an ``open'' environment.
d169 1
a169 1
A facility to allow all data exchanges to be encrypted should be present.
d171 3
a173 1
A more extensible protocol should be used.
@


1.6
log
@libexec man page fleshing. again, bored on the plane home.
@
text
@d1 1
a33 1
.\"	$Id: rlogind.8,v 1.5 1999/07/09 13:35:53 aaron Exp $
@


1.5
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d33 1
a33 1
.\"	$Id: rlogind.8,v 1.4 1999/05/23 14:11:13 aaron Exp $
d45 1
a45 1
.Nm Rlogind
d48 2
a49 1
program.  The server provides a remote login facility
d52 1
a52 2
Options supported by
.Nm rlogind :
d55 2
a56 2
Ask hostname for verification.  This flag is ignored; this feature is
always enabled.
d59 1
a59 1
.Dq Pa .rhosts
d65 4
a68 3
.Nm Rlogind
listens for service requests at the port indicated in
the ``login'' service specification; see
d97 1
a97 1
.Nm rlogind
d121 2
a122 2
program.  In normal operation, the packet protocol described
in
d127 2
a128 2
interrupt signals to the remote programs.  The login process
propagates the client terminal's baud rate and terminal type,
d158 5
d165 2
a166 2
of each client machine and the connecting medium.  This is
insecure, but is useful in an ``open'' environment.
d168 1
a168 2
A facility to allow all data exchanges to be encrypted should be
present.
a170 5
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.2 .
@


1.4
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d33 1
a33 1
.\"	$Id: rlogind.8,v 1.3 1996/07/31 09:15:52 deraadt Exp $
d46 1
a46 1
is the server for the 
d95 1
a95 1
Once the source port and address have been checked, 
d99 1
a99 1
It then allocates a pseudo terminal (see 
d102 1
a102 1
half of the pseudo terminal becomes the 
@


1.3
log
@ah heck, impliment -a flag and turn it on by default. kills netbsd pr#1295
@
text
@d33 1
a33 1
.\"	$Id: rlogind.8,v 1.1 1995/10/18 08:43:20 deraadt Exp $
d37 1
a37 1
.Os BSD 4.2
@


1.2
log
@-a is dead; normal sized host buffer, de-constipate
@
text
@d33 1
a33 1
.\"	$Id: rlogind.8,v 1.1.1.1 1995/10/18 08:43:20 deraadt Exp $
d54 3
@


1.1
log
@Initial revision
@
text
@d33 1
a33 1
.\"	$Id: rlogind.8,v 1.3 1994/06/05 13:49:04 cgd Exp $
a53 2
.It Fl a
Ask hostname for verification.
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
