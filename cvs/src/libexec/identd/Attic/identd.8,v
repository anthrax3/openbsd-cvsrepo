head	1.33;
access;
symbols
	OPENBSD_5_4:1.32.0.2
	OPENBSD_5_4_BASE:1.32
	OPENBSD_5_3:1.28.0.12
	OPENBSD_5_3_BASE:1.28
	OPENBSD_5_2:1.28.0.10
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.28
	OPENBSD_5_1:1.28.0.8
	OPENBSD_5_0:1.28.0.6
	OPENBSD_5_0_BASE:1.28
	OPENBSD_4_9:1.28.0.4
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.28.0.2
	OPENBSD_4_8_BASE:1.28
	OPENBSD_4_7:1.27.0.6
	OPENBSD_4_7_BASE:1.27
	OPENBSD_4_6:1.27.0.8
	OPENBSD_4_6_BASE:1.27
	OPENBSD_4_5:1.27.0.4
	OPENBSD_4_5_BASE:1.27
	OPENBSD_4_4:1.27.0.2
	OPENBSD_4_4_BASE:1.27
	OPENBSD_4_3:1.26.0.2
	OPENBSD_4_3_BASE:1.26
	OPENBSD_4_2:1.24.0.2
	OPENBSD_4_2_BASE:1.24
	OPENBSD_4_1:1.23.0.16
	OPENBSD_4_1_BASE:1.23
	OPENBSD_4_0:1.23.0.14
	OPENBSD_4_0_BASE:1.23
	OPENBSD_3_9:1.23.0.12
	OPENBSD_3_9_BASE:1.23
	OPENBSD_3_8:1.23.0.10
	OPENBSD_3_8_BASE:1.23
	OPENBSD_3_7:1.23.0.8
	OPENBSD_3_7_BASE:1.23
	OPENBSD_3_6:1.23.0.6
	OPENBSD_3_6_BASE:1.23
	OPENBSD_3_5:1.23.0.4
	OPENBSD_3_5_BASE:1.23
	OPENBSD_3_4:1.23.0.2
	OPENBSD_3_4_BASE:1.23
	OPENBSD_3_3:1.20.0.2
	OPENBSD_3_3_BASE:1.20
	OPENBSD_3_2:1.19.0.2
	OPENBSD_3_2_BASE:1.19
	OPENBSD_3_1:1.17.0.6
	OPENBSD_3_1_BASE:1.17
	OPENBSD_3_0:1.17.0.4
	OPENBSD_3_0_BASE:1.17
	OPENBSD_2_9:1.17.0.2
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.15.0.2
	OPENBSD_2_8_BASE:1.15
	OPENBSD_2_7:1.14.0.2
	OPENBSD_2_7_BASE:1.14
	OPENBSD_2_6:1.13.0.2
	OPENBSD_2_6_BASE:1.13
	OPENBSD_2_5:1.8.0.2
	OPENBSD_2_5_BASE:1.8
	OPENBSD_2_4:1.7.0.2
	OPENBSD_2_4_BASE:1.7
	OPENBSD_2_3:1.4.0.2
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.3.0.2
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.33
date	2013.12.04.20.46.39;	author deraadt;	state dead;
branches;
next	1.32;

1.32
date	2013.07.16.07.15.39;	author jmc;	state Exp;
branches;
next	1.31;

1.31
date	2013.03.11.22.34.31;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2013.03.11.21.24.24;	author deraadt;	state Exp;
branches;
next	1.29;

1.29
date	2013.03.09.17.40.57;	author deraadt;	state Exp;
branches;
next	1.28;

1.28
date	2010.06.06.07.05.40;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2008.05.24.02.33.05;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2007.09.25.14.21.30;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2007.09.25.13.37.01;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2007.05.31.19.19.39;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2003.06.07.19.30.07;	author henning;	state Exp;
branches;
next	1.22;

1.22
date	2003.06.03.21.09.00;	author deraadt;	state Exp;
branches;
next	1.21;

1.21
date	2003.06.02.12.57.42;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2003.02.03.17.46.56;	author jmc;	state Exp;
branches;
next	1.19;

1.19
date	2002.09.13.01.31.39;	author djm;	state Exp;
branches;
next	1.18;

1.18
date	2002.07.16.10.16.10;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2001.04.13.20.16.53;	author millert;	state Exp;
branches;
next	1.16;

1.16
date	2000.11.08.19.37.37;	author aaron;	state Exp;
branches;
next	1.15;

1.15
date	2000.10.30.17.45.59;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	2000.04.15.02.15.29;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	99.07.09.13.35.50;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	99.06.11.16.56.21;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	99.06.05.04.16.06;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	99.05.28.23.00.08;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	99.05.23.14.11.11;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	98.12.15.01.20.50;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	98.09.16.20.22.14;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	98.09.07.16.44.35;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	98.06.10.03.49.39;	author beck;	state Exp;
branches;
next	1.4;

1.4
date	98.02.08.18.52.23;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	97.07.27.20.04.27;	author downsj;	state Exp;
branches;
next	1.2;

1.2
date	96.05.22.12.10.38;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.43.18;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.43.18;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.33
log
@we now use the rewritten usr.sbin/identd
@
text
@.\"	$OpenBSD: identd.8,v 1.32 2013/07/16 07:15:39 jmc Exp $
.\"
.\" Copyright (c) 1997, Jason Downs.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR(S) ``AS IS'' AND ANY EXPRESS
.\" OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
.\" DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR(S) BE LIABLE FOR ANY DIRECT,
.\" INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
.\" (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
.\" SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
.\" CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\" @@(#)identd.8 1.9 92/02/11 Lysator
.\" Copyright (c) 1992 Peter Eriksson, Lysator, Linkoping University.
.\" This software has been released into the public domain.
.\"
.Dd $Mdocdate: July 16 2013 $
.Dt IDENTD 8
.Os
.Sh NAME
.Nm identd
.Nd TCP/IP IDENT protocol server
.Sh SYNOPSIS
.Nm identd
.Bk -words
.Op Fl 46deHhlmNnoUv
.Op Fl b | i | w
.Op Fl a Ar address
.Op Fl c Ar charset
.Op Fl p Ar port
.Op Fl t Ar seconds
.Ek
.Sh DESCRIPTION
.Nm
is a server which implements the TCP/IP proposed standard
IDENT user identification protocol
as specified in the RFC 1413 document.
.Pp
.Nm
operates by looking up specific TCP/IP
connections and returning the user name of the
process owning the connection.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl 4
When
.Fl b
is specified, forces
.Nm
to use IPv4 addresses only.
.It Fl 6
When
.Fl b
is specified, forces
.Nm
to use IPv6 addresses only.
.It Fl a Ar address
Specify a local IP address in dotted quad format
to bind the listen socket to if running as a stand-alone daemon.
By default the daemon listens on all local IP addresses.
.It Fl b
Specify operation as a stand-alone daemon.
.It Fl c Ar charset
Specify an optional character set designator to be included in replies.
.Ar charset
should be a valid character set as described in the
MIME RFC in upper case characters.
.It Fl d
This flag enables some debugging code that normally should NOT
be enabled since that breaks the protocol and may reveal information
that should not be available to outsiders.
.It Fl e
Always return
.Dq UNKNOWN-ERROR
instead of the
.Dq NO-USER
or
.Dq INVALID-PORT
errors.
.It Fl H
Hide information about non-existent users (e.g., connections through NAT) as
well as existing users.
Implies
.Fl h .
.It Fl h
Hide the actual information about the user by providing an opaque
token instead.
This token is entered into the local system logs
so that the administrator can later discover who the real user was.
.It Fl i
Tells
.Nm identd
to run as a process started from
.Xr inetd 8
with the "nowait" option in the
.Pa /etc/inetd.conf
file.
Use of this mode will make
.Xr inetd 8
start one
.Nm
daemon for each connection request.
This is the default mode of operation.
.It Fl l
Use
.Xr syslogd 8
for logging purposes.
.It Fl m
Allow multiple requests to be processed per session.
Each request is specified one per line and the responses will be returned
one per line.
The connection will not be closed until the client closes its end of
the connection.
PLEASE NOTE THAT THIS MODE VIOLATES THE PROTOCOL SPECIFICATION AS
IT CURRENTLY STANDS.
.It Fl N
When replying with a user name or ID, first
check for a file
.Pa .noident
in the user's home directory.
If this file is accessible, return
.Dq HIDDEN-USER
instead of the normal USERID response.
.It Fl n
Always return UID numbers instead of usernames.
.It Fl o
Do not reveal operating system type;
always return
.Dq OTHER
instead.
.It Fl p Ar port
Specify an alternative port number or service name
on which to listen when running as a stand-alone daemon.
Default is "auth" (113).
.It Fl t Ar seconds
Specifies an idle timeout in seconds where a daemon running in
"wait" mode will timeout and exit.
The default is no timeout.
.It Fl U
When replying with a user name or ID, first
check for a file
.Pa .ident
in the user's home directory.
If this file is accessible, return
at most 20 characters of the first line of the file
instead of the normal USERID response.
.It Fl v
Log every request to syslog if
.Fl l
above is specified.
.It Fl w
Tells
.Nm identd
to run as a process started from
.Xr inetd 8
with the "wait" option in the
.Pa /etc/inetd.conf
file.
This mode of operation will start a copy of
.Nm
at the first connection request and then
.Nm
will handle subsequent requests.
Previous versions listed this as the preferred mode of
operation due to the initial overhead of parsing the kernel nlist.
This version does not use kmem or nlist parsing, so this reasoning
is no longer valid.
.El
.Sh SEE ALSO
.Xr inetd.conf 5
.Sh NOTES
.Nm
uses the
.Li LOG_DAEMON
.Xr syslogd 8
facility to log messages.
.Pp
Unlike previous versions of
.Nm identd ,
this version uses
.Xr sysctl 3
to obtain information from the kernel instead of parsing kmem.
This version does not require privilege beyond what is needed to bind
the listen port if running as a stand-alone daemon.
.Sh BUGS
Since
.Nm identd
should typically not be run as a privileged user or group,
.Pa .ident
files for use when running with the
.Fl U
flag will need to be world accessible.
The same applies for
.Pa .noident
files when running with the
.Fl N
flag.
@


1.32
log
@non[ -]existing -> non-existent;
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.31 2013/03/11 22:34:31 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: March 11 2013 $
@


1.31
log
@remove line left from previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.30 2013/03/11 21:24:24 deraadt Exp $
d95 1
a95 1
Hide information about non existing users (e.g., connections through NAT) as
@


1.30
log
@Report -u and -g support; running as another privdrop user or group is stupid.
ok millert  guenther
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.29 2013/03/09 17:40:57 deraadt Exp $
d30 1
a30 1
.Dd $Mdocdate: March 9 2013 $
a160 1
.Qq _identd .
@


1.29
log
@Code has not fallen back to "nobody" in a very long time;
jca at wxcvbn.org
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.28 2010/06/06 07:05:40 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: June 6 2010 $
a42 1
.Op Fl g Ar gid
a44 1
.Op Fl u Ar uid
a93 6
.It Fl g Ar gid
Specify a group ID number or group name which the
.Nm
server should
switch to after binding itself to the
TCP/IP port if running as a stand-alone daemon.
a160 8
.It Fl u Ar uid
Specify a user ID number or user name which the
.Nm identd
server should
switch to after binding itself to the
TCP/IP port if running as a stand-alone daemon.
.Nm
runs as user
@


1.28
log
@add -H to synopsis/usage(); from Rod Whitworth
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.27 2008/05/24 02:33:05 brad Exp $
d30 1
a30 1
.Dd $Mdocdate: May 24 2008 $
d177 1
a177 6
.Qq _identd
by default and falls back to
.Qq nobody
if the
.Qq _identd
user does not exist.
@


1.27
log
@IPv6 support for standalone mode with assistance from millert@@ and deraadt@@
Tested by brad@@ and sobrado@@

ok deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.26 2007/09/25 14:21:30 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate: September 25 2007 $
d39 1
a39 1
.Op Fl 46dehlmNnoUv
@


1.26
log
@- sort options and sync usage()
- kill some .Tn whilst here
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.25 2007/09/25 13:37:01 jmc Exp $
d39 1
a39 1
.Op Fl dehlmNnoUv
d61 12
@


1.25
log
@more accurate description of -U; from Tamas TEVESZ
ok millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.24 2007/05/31 19:19:39 jmc Exp $
d30 1
a30 1
.Dd $Mdocdate$
d39 6
a44 1
.Op Fl i | w | b
a46 5
.Op Fl g Ar gid
.Op Fl p Ar port
.Op Fl a Ar address
.Op Fl c Ar charset
.Op Fl noelvmNUdh
d50 3
a52 7
is a server which implements the
.Tn TCP/IP
proposed standard
.Tn IDENT
user identification protocol as specified in the
.Tn RFC 1413
document.
d55 1
a55 2
operates by looking up specific
.Tn TCP/IP
d61 39
d114 31
a144 29
.It Fl w
Tells
.Nm identd
to run as a process started from
.Xr inetd 8
with the "wait" option in the
.Pa /etc/inetd.conf
file.
This mode of operation will start a copy of
.Nm
at the first connection request and then
.Nm
will handle subsequent requests.
Previous versions listed this as the preferred mode of
operation due to the initial overhead of parsing the kernel nlist.
This version does not use kmem or nlist parsing, so this reasoning
is no longer valid.
.It Fl b
Specify operation as a stand-alone daemon.
.It Fl h
Hide the actual information about the user by providing an opaque
token instead.
This token is entered into the local system logs
so that the administrator can later discover who the real user was.
.It Fl H
Hide information about non existing users (e.g., connections through NAT) as
well as existing users.
Implies
.Fl h .
d149 8
d162 1
a162 2
.Tn TCP/IP
port if running as a stand-alone daemon.
a170 19
.It Fl g Ar gid
Specify a group ID number or group name which the
.Nm
server should
switch to after binding itself to the
.Tn TCP/IP
port if running as a stand-alone daemon.
.It Fl p Ar port
Specify an alternative port number or service name
on which to listen when running as a stand-alone daemon.
Default is "auth" (113).
.It Fl a Ar address
Specify a local IP address in dotted quad format
to bind the listen socket to if running as a stand-alone daemon.
By default the daemon listens on all local IP addresses.
.It Fl l
Use
.Xr syslogd 8
for logging purposes.
d175 17
a191 49
.It Fl o
Do not reveal operating system type;
always return
.Dq OTHER
instead.
.It Fl e
Always return
.Dq UNKNOWN-ERROR
instead of the
.Dq NO-USER
or
.Dq INVALID-PORT
errors.
.It Fl c Ar charset
Specify an optional character set designator to be included in replies.
.Ar charset
should be a valid character set as described in the
.Tn MIME RFC
in upper case characters.
.It Fl n
Always return uid numbers instead of usernames.
.It Fl N
When replying with a user name or ID, first
check for a file
.Pa .noident
in the user's home directory.
If this file is accessible, return
.Dq HIDDEN-USER
instead of the normal USERID response.
.It Fl U
When replying with a user name or ID, first
check for a file
.Pa .ident
in the user's home directory.
If this file is accessible, return
at most 20 characters of the first line of the file
instead of the normal USERID response.
.It Fl m
Allow multiple requests to be processed per session.
Each request is specified one per line and the responses will be returned
one per line.
The connection will not be closed until the client closes its end of
the connection.
PLEASE NOTE THAT THIS MODE VIOLATES THE PROTOCOL SPECIFICATION AS
IT CURRENTLY STANDS.
.It Fl d
This flag enables some debugging code that normally should NOT
be enabled since that breaks the protocol and may reveal information
that should not be available to outsiders.
@


1.24
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.23 2003/06/07 19:30:07 henning Exp $
d186 1
a186 1
the contents of the file
@


1.23
log
@identd runs as _identd by default now; help and ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.22 2003/06/03 21:09:00 deraadt Exp $
d30 1
a30 1
.Dd July 27, 1997
@


1.22
log
@terms 3 & 4 cleanup based on "terms" file
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.21 2003/06/02 12:57:42 jmc Exp $
d120 8
@


1.21
log
@- kill whitespace at EOL;
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.20 2003/02/03 17:46:56 jmc Exp $
a12 7
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgment:
.\"      This product includes software developed by Jason Downs for the
.\"      OpenBSD system.
.\" 4. Neither the name(s) of the author(s) nor the name OpenBSD
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
@


1.20
log
@typos;
ipsecadm(8): examples ho@@
	     help and ok markus@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.19 2002/09/13 01:31:39 djm Exp $
d113 2
a114 2
well as existing users. 
Implies 
d185 1
a185 1
the contents of the file 
d226 1
a226 1
files when running with the 
@


1.19
log
@Add -H option to hide nonexistent users (useful on NAT gateways). ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.18 2002/07/16 10:16:10 deraadt Exp $
d45 1
d54 1
d105 1
a105 1
Specify operation as a stand alone daemon.
d126 1
a126 1
port if running as a stand alone daemon.
d133 1
a133 1
port if running as a stand alone daemon
d136 1
a136 1
on which to listen when running as a stand alone daemon
d140 1
a140 1
to bind the listen socket to if running as a standalone daemon.
d215 1
a215 1
the listen port if running as a standalone daemon.
@


1.18
log
@minor cleanup, and toast -V
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.17 2001/04/13 20:16:53 millert Exp $
d109 5
@


1.17
log
@Add support for user specified tokens to identd.  Based on a patch
from rjmooney@@wall.st w/ minor tweakage by Theo and myself.
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.16 2000/11/08 19:37:37 aaron Exp $
d52 1
a52 1
.Op Fl noelVvmNUdh
a134 2
.It Fl V
Print the version number and the exit.
@


1.16
log
@- Get rid of ".Sh OPTIONS" and always use the standard options list intro.
- Move some BUGS/CAVEATS to the end of the man pages where they should go.
- Correct some .Nm usage.
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.15 2000/10/30 17:45:59 aaron Exp $
d52 1
a52 1
.Op Fl noelVvmNdh
d174 8
d215 5
d221 1
a221 1
files for use when running with the
d223 1
a223 1
flag will need to be world accessible.
@


1.15
log
@libexec man page fleshing. again, bored on the plane home.
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.14 2000/04/15 02:15:29 aaron Exp $
d68 2
a69 1
.Sh OPTIONS
@


1.14
log
@Mostly punctuation fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.13 1999/07/09 13:35:50 aaron Exp $
d77 2
a78 1
file. Use of this mode will make
d82 2
a83 1
daemon for each connection request. This is the default mode of operation.
d91 2
a92 1
file.  This mode of operation will start a copy of
d105 2
a106 1
token instead.  This token is entered into the local system logs
d110 2
a111 1
"wait" mode will timeout and exit. The default is no timeout.
d132 2
a133 3
to bind the listen socket to if
running as a standalone daemon. by default the daemon
listens on all local IP addresses.
d169 2
a170 1
in the user's home directory. If this file is accessible, return
d174 5
a178 4
Allow multiple requests to be
processed per session.  Each request is specified one per line and
the responses will be returned one per line.  The connection will not
be closed until the client closes its end of the connection.
d199 2
a200 2
to obtain information from the kernel instead of parsing kmem. This
version does not require privilege beyond what is needed to bind
@


1.13
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.12 1999/06/11 16:56:21 aaron Exp $
d190 1
a190 1
.Nm identd,
@


1.12
log
@fix description of -o option; ryker@@ugrad.cs.ualberta.ca
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.11 1999/06/05 04:16:06 aaron Exp $
d70 2
a71 2
.It Fl i 
Tells 
d73 1
a73 1
to run as a process started from 
d75 1
a75 1
with the "nowait" option in the  
d83 1
a83 1
Tells 
d85 1
a85 1
to run as a process started from 
d87 1
a87 1
with the "wait" option in the  
d93 1
a93 1
will handle subsequent requests. 
d122 2
a123 2
Specify an alternative port number or service name 
on which to listen when running as a stand alone daemon 
d126 2
a127 2
Specify a local IP address in dotted quad format 
to bind the listen socket to if 
d133 1
a133 1
Use 
d137 1
a137 1
Log every request to syslog if 
d139 1
a139 1
above is specified. 
d162 1
a162 1
When replying with a user name or ID, first 
d165 2
a166 2
in the user's home directory. If this file is accessible, return 
.Dq HIDDEN-USER 
d184 1
a184 1
uses the 
d189 1
a189 1
Unlike previous versions of 
d191 1
a191 1
this version uses 
d199 1
a199 1
should typically not be run as a privileged user or group, 
@


1.11
log
@capitalize the acronym ID
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.10 1999/05/28 23:00:08 aaron Exp $
d141 1
a141 1
Do the operating system type, instead 
d143 2
a144 1
.Dq OTHER .
@


1.10
log
@more .El madness
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.9 1999/05/23 14:11:11 aaron Exp $
d108 1
a108 1
Specify a user id number or user name which the
d115 1
a115 1
Specify a group id number or group name which the
d161 1
a161 1
When replying with a user name or id, first 
@


1.9
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.8 1998/12/15 01:20:50 aaron Exp $
d178 1
a178 1
.Pp
d185 2
a186 1
syslogd(8) facility to log messages.
@


1.8
log
@always give .Nm macros an argument in SYNOPSIS sections; krw@@tcn.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.7 1998/09/16 20:22:14 deraadt Exp $
d39 1
a39 1
.Os OpenBSD
@


1.7
log
@change to using getopt() [some inetd.conf files will need repair];
add usage()
and add token support via -h (token information is sysloged)
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.6 1998/09/07 16:44:35 aaron Exp $
d44 1
a44 1
.Nm
@


1.6
log
@More man page fixes. Particularly fix uses of it's/its, affect/effect,
then/than and such. Other miscellaneous problems fixed across these source
files.
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.5 1998/06/10 03:49:39 beck Exp $
d52 1
a52 1
.Op Fl noelVvmNd
d100 4
@


1.5
log
@Now uses TCPCTL_IDENT sysctl to get uid associated with a connection
instead of kmem. Kmem parsing functions and options removed.
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.4 1998/02/08 18:52:23 deraadt Exp $
d134 1
a134 1
Fl l
d141 1
a141 1
always return
d155 1
a155 1
always return uid numbers instead of user names 
d164 1
a164 1
allow multiple requests to be
d167 1
a167 1
be closed until the client closes it's end of the connection.
d170 2
a171 2
.ItFl d
flag enables some debugging code that normally should NOT
d176 1
a176 1
.Xr inetd.conf 5 .
@


1.4
log
@split infinitive; honey@@citi.umich.edu
@
text
@d1 1
a1 1
.\"	$OpenBSD: identd.8,v 1.3 1997/07/27 20:04:27 downsj Exp $
d14 1
a14 1
.\"    must display the following acknowledgement:
a52 1
.Op Ar kernelfile Op Ar kmemfile
d68 6
a73 5
.Sh ARGUMENTS
The
.Fl i
flag, which is the default mode, should be used when starting the
daemon from
d75 1
a75 1
with the "nowait" option in the
d81 5
a85 5
daemon for each connection request.
.Pp
The
.Fl w
flag should be used when starting the daemon from
d87 1
a87 1
with the "wait" option in the
d89 1
a89 2
file.  This is the prefered mode of
operation since that will start a copy of
d93 13
a105 40
will handle subsequent requests
without having to do the nlist lookup in the kernel file for
every request as in the
.Fl i
mode above.  The
.Nm
daemon will run either forever, until a bug
makes it crash or a timeout, as specified by the
.Fl t
flag, occurs.
.Pp
The
.Fl b
flag can be used to make the daemon run in standalone mode without
the assistance from
.Xr inetd 8 .
This mode is the least prefered mode since
a bug or any other fatal condition in the server will make it terminate
and it will then have to be restarted manually.  Other than that is has the
same advantage as the
.Fl w
mode in that it parses the nlist only once.
.Pp
The
.Fl t Ar seconds
option is used to specify the timeout limit. This is the number
of seconds a server started with the
.Fl w
flag will wait for new connections before terminating. The server is
automatically restarted by
.Xr inetd 8
whenever a new connection is requested
if it has terminated. A suitable value for this is 120 (2 minutes), if
used.  It defaults to no timeout (ie, will wait forever, or until a
fatal condition occurs in the server).
.Pp
The
.Fl u Ar uid
option is used to specify a user id number which the
.Nm
d109 3
a111 7
port if using the
.Fl b
mode of operation.
.Pp
The
.Fl g Ar gid
option is used to specify a group id number which the
d116 14
a129 34
port if using the
.Fl b
mode of operation.
.Pp
The
.Fl p Ar port
option is used to specify an alternative port number to bind to if using
the
.Fl b
mode of operation. It can be specified by name or by number. Defaults to the
.Tn IDENT
port (113).
.Pp
The
.Fl a Ar address
option is used to specify the local address to bind the socket to if using
the
.Fl b
mode of operation. Can only be specified by IP address and not by domain
name. Defaults to the 
.Li INADDR_ANY
address which normally means all local addresses.
.Pp
The 
.Fl V
flag makes
.Nm
display the version number and the exit.
.Pp
The
.Fl l
flag tells
.Nm
to use the system logging daemon
d132 6
a137 14
.Pp
The 
.Fl v
flag causes
.Nm
to log every request made, if the use of
.Xr syslogd 8
is enabled.
.Pp
The
.Fl o
flag tells
.Nm
not to reveal the operating system type it is run on and to instead
d140 2
a141 6
.Pp
The
.Fl e
flag tells
.Nm
to always return
d148 2
a149 8
.Pp
The
.Fl c Ar charset
flags tells
.Nm
to add the optional (according to the
.Tn IDENT
protocol) character set designator to the reply generated.
d154 4
a157 12
.Pp
The
.Fl n
flags tells
.Nm
to always return user numbers instead of user names if you wish to
keep the user names a secret.
.Pp
The
.Fl N
flag makes
.Nm
d160 5
a164 9
in each homedirectory for a user which the daemon is about to return the user
name for.  It that file exists then the daemon will give the error
.Dq HIDDEN-USER
instead of the normal USERID response. 
.Pp
.Fl m
flag makes
.Nm
use a mode of operation that will allow multiple requests to be
d167 1
a167 1
be closed until the connecting part closes it's end of the line.
d170 1
a170 3
.Pp
The
.Fl d
a174 5
.Ar kernelfile
defaults to the normally running kernel file.
.Pp
.Ar kmemfile
defaults to the memory space of the normally running kernel.
d181 9
a189 6
syslogd(8) facility to log messages. This is the correct thing to do
since
.Li LOG_AUTH
is supposed to be used by authorization related programs, not authentication
related ones such as
.Nm .
d191 5
a195 3
The handling of fatal errors could be better.
.Pp
If the
d197 1
a197 4
flag is specified and a user's
.Pa .noident
file is not accessible, then ident information regarding that user will be
returned if requested.
@


1.3
log
@New, mandoc, man page.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d197 1
a197 1
to not reveal the operating system type it is run on and to instead
@


1.2
log
@sync
@
text
@d1 32
d37 19
a55 27
.\"	$Id: identd.8,v 1.1.1.1 1995/10/18 08:43:18 deraadt Exp $
.\"
.TH IDENTD 8 "27 May 1992"
.SH NAME
identd \- TCP/IP IDENT protocol server
.SH SYNOPSIS
.B identd
.RB [ \-i | \-w | \-b ]
.RB [ \-t<seconds> ]
.RB [ \-u<uid> ]
.RB [ \-g<gid> ]
.RB [ \-p<port> ]
.RB [ \-a<address> ]
.RB [ \-c<charset> ]
.RB [ \-n ]
.RB [ \-o ]
.RB [ \-e ]
.RB [ \-l ]
.RB [ \-V ]
.RB [ \-v ]
.RB [ \-m ]
.RB [ \-N ]
.RB [ \-d ]
.RB [ kernelfile [ kmemfile ] ]
.SH DESCRIPTION
.IX "identd daemon" "" \fLidentd\fP daemon"
.B identd
d57 1
a57 1
.SM TCP/IP
d59 1
a59 1
.SM IDENT
d61 1
a61 1
.SM RFC\s0 1413
d63 2
a64 2
.PP
.B identd
d66 1
a66 1
.SM TCP/IP
d69 1
a69 1
.SH ARGUMENTS
d71 1
a71 1
.B -i
d74 1
a74 1
.B inetd
d76 1
a76 1
.B /etc/inetd.conf
d78 1
a78 1
.B inetd
d80 1
a80 1
.B identd
d82 1
a82 1
.PP
d84 1
a84 1
.B -w
d86 1
a86 1
.B inetd
d88 2
a89 2
.B /etc/inetd.conf
file . This is the prefered mode of
d91 1
a91 1
.B identd
d93 1
a93 1
.B identd
d97 3
a99 3
.B -i
mode above. The
.B identd
d102 1
a102 1
.B -t
d104 1
a104 1
.PP
d106 1
a106 1
.B -b
d109 1
a109 1
.B inetd.
d112 1
a112 1
and it will then have to be restarted manually. Other than that is has the
d114 1
a114 1
.B -w
d116 1
a116 1
.PP
d118 1
a118 1
.B -t<seconds>
d121 1
a121 1
.B -w
d124 1
a124 1
.B inetd
d127 1
a127 1
used. It defaults to no timeout (ie, will wait forever, or until a
d129 1
a129 1
.PP
d131 1
a131 1
.B -u<uid>
d133 1
a133 1
.B ident
d136 1
a136 1
.SM TCP/IP
d138 1
a138 1
.B -b
d140 1
a140 1
.PP
d142 1
a142 1
.B -g<gid>
d144 1
a144 1
.B ident
d147 1
a147 1
.SM TCP/IP
d149 1
a149 1
.B -b
d151 1
a151 1
.PP
d153 1
a153 1
.B -p<port>
d156 1
a156 1
.B -b
d158 1
a158 1
.SM IDENT
d160 1
a160 1
.PP
d162 1
a162 1
.B -a<address>
d165 1
a165 1
.B -b
d168 1
a168 1
.SM INADDR_ANY
d170 1
a170 1
.PP
d172 1
a172 1
.B -V
d174 1
a174 1
.B identd
d176 1
a176 1
.PP
d178 1
a178 1
.B -l
d180 3
a182 3
.B identd
to use the System logging daemon
.B syslogd
d184 1
a184 1
.PP
d186 1
a186 1
.B -v
d188 1
a188 1
.B identd
d190 1
a190 1
.B syslogd
d192 1
a192 1
.PP
d194 1
a194 1
.B -o
d196 1
a196 1
.B identd
d198 3
a200 2
always return "OTHER".
.PP
d202 1
a202 1
.B -e
d204 9
a212 4
.B identd
to always return "UNKNOWN-ERROR" instead of the "NO-USER" or
"INVALID-PORT" errors.
.PP
d214 1
a214 1
.B -c<charset>
d216 9
a224 5
.B identd
to add the optional (according to the IDENT protocol) character set
designator to the reply generated. <charset> should be a valid character
set as described in the MIME RFC in upper case characters.
.PP
d226 1
a226 1
.B -n
d228 1
a228 1
.B identd
d231 1
a231 1
.PP
d233 1
a233 1
.B -N
d235 6
a240 5
.B identd
check for a file ".noident" in each homedirectory for a user which the
daemon is about to return the user name for. It that file exists then the
daemon will give the error
.B HIDDEN-USER
d242 2
a243 2
.PP
.B -m
d245 1
a245 1
.B identd
d247 2
a248 2
processed per session. Each request is specified one per line and
the responses will be returned one per line. The connection will not
d252 1
a252 1
.PP
d254 1
a254 1
.B -d
d258 2
a259 2
.PP
.B kernelfile
d261 2
a262 2
.PP
.B kmemfile
d264 4
a267 4
.SH SEE ALSO
.BR inetd.conf (5)
.SH NOTES
.B Identd
d269 1
a269 1
.I LOG_DAEMON
d272 1
a272 1
.I LOG_AUTH
d275 2
a276 2
.B identd.
.SH BUGS
d278 1
a278 1
.PP
d280 5
a284 4
.B -N
flag is specified and a user's ".noident" file is not accessible,
then ident information regarding that user will be returned
if requested.
@


1.1
log
@Initial revision
@
text
@d5 1
a5 1
.\"	$Id: identd.8,v 1.3 1994/02/04 23:42:16 cgd Exp $
d231 10
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
