head	1.34;
access;
symbols
	OPENBSD_3_7:1.33.0.8
	OPENBSD_3_7_BASE:1.33
	OPENBSD_3_6:1.33.0.6
	OPENBSD_3_6_BASE:1.33
	OPENBSD_3_5:1.33.0.4
	OPENBSD_3_5_BASE:1.33
	OPENBSD_3_4:1.33.0.2
	OPENBSD_3_4_BASE:1.33
	OPENBSD_3_3:1.27.0.2
	OPENBSD_3_3_BASE:1.27
	OPENBSD_3_2:1.23.0.2
	OPENBSD_3_2_BASE:1.23
	OPENBSD_3_1:1.22.0.2
	OPENBSD_3_1_BASE:1.22
	OPENBSD_3_0:1.21.0.2
	OPENBSD_3_0_BASE:1.21
	OPENBSD_2_9:1.17.0.4
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.17.0.2
	OPENBSD_2_8_BASE:1.17
	OPENBSD_2_7:1.12.0.2
	OPENBSD_2_7_BASE:1.12
	OPENBSD_2_6:1.11.0.2
	OPENBSD_2_6_BASE:1.11
	OPENBSD_2_5:1.8.0.2
	OPENBSD_2_5_BASE:1.8
	OPENBSD_2_4:1.7.0.2
	OPENBSD_2_4_BASE:1.7
	OPENBSD_2_3:1.4.0.8
	OPENBSD_2_3_BASE:1.4
	OPENBSD_2_2:1.4.0.6
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.4.0.4
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.34
date	2005.05.25.05.35.22;	author deraadt;	state dead;
branches;
next	1.33;

1.33
date	2003.08.08.09.26.03;	author jmc;	state Exp;
branches;
next	1.32;

1.32
date	2003.07.18.19.41.18;	author henning;	state Exp;
branches;
next	1.31;

1.31
date	2003.06.07.21.55.43;	author jmc;	state Exp;
branches;
next	1.30;

1.30
date	2003.06.02.19.38.25;	author millert;	state Exp;
branches;
next	1.29;

1.29
date	2003.06.02.14.37.35;	author jmc;	state Exp;
branches;
next	1.28;

1.28
date	2003.04.13.11.20.47;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2003.02.26.15.05.07;	author david;	state Exp;
branches;
next	1.26;

1.26
date	2003.02.14.23.20.36;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2002.12.07.23.08.24;	author millert;	state Exp;
branches;
next	1.24;

1.24
date	2002.12.07.23.01.44;	author millert;	state Exp;
branches;
next	1.23;

1.23
date	2002.06.09.00.47.40;	author hin;	state Exp;
branches;
next	1.22;

1.22
date	2001.11.13.14.06.10;	author mpech;	state Exp;
branches;
next	1.21;

1.21
date	2001.06.29.21.30.55;	author millert;	state Exp;
branches;
next	1.20;

1.20
date	2001.06.27.18.33.08;	author hin;	state Exp;
branches;
next	1.19;

1.19
date	2001.06.23.23.32.20;	author hin;	state Exp;
branches;
next	1.18;

1.18
date	2001.06.23.19.44.32;	author hin;	state Exp;
branches;
next	1.17;

1.17
date	2000.10.30.17.46.29;	author aaron;	state Exp;
branches;
next	1.16;

1.16
date	2000.10.06.10.55.00;	author hin;	state Exp;
branches;
next	1.15;

1.15
date	2000.08.18.03.26.09;	author itojun;	state Exp;
branches;
next	1.14;

1.14
date	2000.06.29.13.40.58;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	2000.06.29.05.29.25;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	2000.04.15.02.15.30;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	99.07.09.13.35.51;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	99.05.28.23.00.10;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	99.05.23.14.11.11;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	98.12.16.03.05.35;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	98.09.06.22.23.18;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	98.07.23.17.55.53;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	98.06.15.17.55.39;	author mickey;	state Exp;
branches;
next	1.4;

1.4
date	96.04.23.03.03.50;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.03.28.23.22.02;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	96.01.11.17.49.42;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.43.24;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.43.24;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.34
log
@bye bye
@
text
@.\"	$OpenBSD: telnetd.8,v 1.33 2003/08/08 09:26:03 jmc Exp $
.\"
.\" Copyright (c) 1983, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@@(#)telnetd.8	8.4 (Berkeley) 6/1/94
.\"
.Dd June 1, 1994
.Dt TELNETD 8
.Os
.Sh NAME
.Nm telnetd
.Nd DARPA
.Tn TELNET
protocol server
.Sh SYNOPSIS
.Nm telnetd
.Bk -words
.Op Fl BUhkln
.Op Fl D Ar debugmode
.Op Fl S Ar tos
.Op Fl X Ar authtype
.Op Fl a Ar authmode
.Op Fl g Ar gettyent
.Op Fl r Ar lowpty-highpty
.Op Fl u Ar len
.Op Fl debug
.Op Fl L Ar /bin/login
.Op Fl y
.Op Ar port
.Ek
.Sh DESCRIPTION
The
.Nm telnetd
command is a server which supports the
.Tn DARPA
standard
.Tn TELNET
virtual terminal protocol.
.Nm Telnetd
is normally invoked by the internet server (see
.Xr inetd 8 )
for requests to connect to the
.Tn TELNET
port as indicated by the
.Pa /etc/services
file (see
.Xr services 5 ) .
The
.Fl debug
option may be used to start up
.Nm telnetd
manually, instead of through
.Xr inetd 8 .
If started up this way,
.Ar port
may be specified to run
.Nm telnetd
on an alternate
.Tn TCP
port number.
.Pp
The
.Nm telnetd
command accepts the following options:
.Bl -tag -width "-a authmode"
.It Fl a Ar authmode
This option may be used for specifying what mode should
be used for Kerberos authentication.
Note that this option is only useful if
.Nm telnetd
has been compiled with support for the
.Dv AUTHENTICATION
option.
There are several valid values for
.Ar authmode :
.Bl -tag -width debug
.It debug
Turns on authentication debugging code.
.It user
Only allow connections when the remote user
can provide valid Kerberos authentication information
to identify the remote user,
and is allowed access to the specified account
without providing a password.
.It valid
Only allow connections when the remote user
can provide valid Kerberos authentication information
to identify the remote user.
The
.Xr login 1
command will provide any additional user verification
needed if the remote user is not allowed automatic
access to the specified account.
.It other
Only allow connections that supply some authentication information.
This option is currently not supported
by any of the existing authentication mechanisms,
and is thus the same as specifying
.Fl a
.Cm valid .
.\" .It otp
.\" Only allow Kerberos authenticated connections (as with
.\" .Fl a
.\" .Cm user )
.\" and also logins with one-time passwords (OTPs).
.\" This option will call login with an option so that only OTPs are accepted.
.\" The user can of course still type secret information at the prompt.
.It none
This is the default state.
Kerberos authentication information is not required.
If no or insufficient authentication information
is provided, then traditional cleartext passwords will be used.
.It off
This disables the authentication code, and cleartext password will be used.
.El
.It Fl B
Ignored.
.It Fl D Ar debugmode
This option may be used for debugging purposes.
This allows
.Nm telnetd
to print out debugging information
to the connection, allowing the user to see what
.Nm telnetd
is doing.
There are several possible values for
.Ar debugmode :
.Bl -tag -width exercise
.It Cm options
Prints information about the negotiation of
.Tn TELNET
options.
.It Cm report
Prints the
.Cm options
information, plus some additional information
about what processing is going on.
.It Cm netdata
Displays the data stream received by
.Nm telnetd .
.It Cm ptydata
Displays data written to the pty.
.It Cm exercise
Has not been implemented yet.
.El
.It Fl h
Disables the printing of host-specific information before
login has been completed.
.It Fl l
Ignored.
.It Fl n
Disable
.Dv TCP
keep-alives.
Normally
.Nm telnetd
enables the
.Tn TCP
keep-alive mechanism to probe connections that
have been idle for some period of time to determine
if the client is still there, so that idle connections
from machines that have crashed or can no longer
be reached may be cleaned up.
.It Fl g Ar gettyent
Specifies which entry from
.Pa /etc/gettytab
should be used to get banner strings, login program and other information.
The default entry is
.Dq default.
.It Fl r Ar lowpty-highpty
This option is only enabled when
.Nm telnetd
is compiled for
.Dv UNICOS .
It specifies an inclusive range of pseudo-terminal devices to
use.
If the system has sysconf variable
.Dv _SC_CRAY_NPTY
configured, the default pty search range is 0 to
.Dv _SC_CRAY_NPTY ;
otherwise, the default range is 0 to 128.
Either
.Ar lowpty
or
.Ar highpty
may be omitted to allow changing
either end of the search range.
If
.Ar lowpty
is omitted, the - character is still required so that
.Nm telnetd
can differentiate
.Ar highpty
from
.Ar lowpty .
.It Fl S Ar tos
.It Fl u Ar len
This option is used to specify the size of the field
in the
.Dv utmp
structure that holds the remote host name.
If the resolved host name is longer than
.Ar len ,
the dotted decimal value will be used instead.
This allows hosts with very long host names that
overflow this field to still be uniquely identified.
Specifying
.Fl u0
indicates that only dotted decimal addresses
should be put into the
.Pa utmp
file.
.It Fl U
This option causes
.Nm telnetd
to refuse connections from addresses that
cannot be mapped back into a symbolic name
via the
.Xr gethostbyaddr 3
routine.
.It Fl X Ar authtype
This option is only valid if
.Nm telnetd
has been built with support for the authentication option.
It disables the use of
.Ar authtype
authentication, and
can be used to temporarily disable
a specific authentication type without having to recompile
.Nm telnetd .
.It Fl L Ar pathname
Specify pathname to an alternative login program.
.It Fl y
Makes
.Nm telnetd
not warn when a user is trying to login with cleartext
passwords.
.El
.Pp
.Nm Telnetd
operates by allocating a pseudo-terminal device (see
.Xr pty 4 )
for a client, then creating a login process which has
the slave side of the pseudo-terminal as
.Dv stdin ,
.Dv stdout
and
.Dv stderr .
.Nm Telnetd
manipulates the master side of the pseudo-terminal,
implementing the
.Tn TELNET
protocol and passing characters
between the remote client and the login process.
.Pp
When a
.Tn TELNET
session is started up,
.Nm telnetd
sends
.Tn TELNET
options to the client side indicating
a willingness to do the
following
.Tn TELNET
options, which are described in more detail below:
.Bd -literal -offset indent
DO AUTHENTICATION
WILL ENCRYPT
DO TERMINAL TYPE
DO TSPEED
DO XDISPLOC
DO NEW-ENVIRON
DO ENVIRON
WILL SUPPRESS GO AHEAD
DO ECHO
DO LINEMODE
DO NAWS
WILL STATUS
DO LFLOW
DO TIMING-MARK
.Ed
.Pp
The pseudo-terminal allocated to the client is configured
to operate in
.Dq cooked
mode, and with
.Dv XTABS and
.Dv CRMOD
enabled (see
.Xr tty 4 ) .
.Pp
.Nm Telnetd
has support for enabling locally the following
.Tn TELNET
options:
.Bl -tag -width "DO AUTHENTICATION"
.It "WILL ECHO"
When the
.Dv LINEMODE
option is enabled, a
.Dv WILL ECHO
or
.Dv WONT ECHO
will be sent to the client to indicate the
current state of terminal echoing.
When terminal echo is not desired, a
.Dv WILL ECHO
is sent to indicate that
.Nm telnetd
will take care of echoing any data that needs to be
echoed to the terminal, and then nothing is echoed.
When terminal echo is desired, a
.Dv WONT ECHO
is sent to indicate that
.Nm telnetd
will not be doing any terminal echoing, so the
client should do any terminal echoing that is needed.
.It "WILL BINARY"
Indicates that the client is willing to send
8 bits of data, rather than the normal 7 bits
of the Network Virtual Terminal.
.It "WILL SGA"
Indicates that it will not be sending
.Dv IAC GA ,
go ahead, commands.
.It "WILL STATUS"
Indicates a willingness to send the client, upon
request, the current status of all
.Tn TELNET
options.
.It "WILL TIMING-MARK"
Whenever a
.Dv DO TIMING-MARK
command is received, it is always responded
to with a
.Dv WILL TIMING-MARK
.It "WILL LOGOUT"
When a
.Dv DO LOGOUT
is received, a
.Dv WILL LOGOUT
is sent in response, and the
.Tn TELNET
session is shut down.
.It "WILL ENCRYPT"
Only sent if
.Nm telnetd
Kerberos is enabled, and
indicates a willingness to decrypt
the data stream.
.El
.Pp
.Nm Telnetd
has support for enabling remotely the following
.Tn TELNET
options:
.Bl -tag -width "DO AUTHENTICATION"
.It "DO BINARY"
Sent to indicate that
.Nm telnetd
is willing to receive an 8 bit data stream.
.It "DO LFLOW"
Requests that the client handle flow control
characters remotely.
.It "DO ECHO"
This is not really supported, but is sent to identify a 4.2BSD
.Xr telnet 1
client, which will improperly respond with
.Dv WILL ECHO .
If a
.Dv WILL ECHO
is received, a
.Dv DONT ECHO
will be sent in response.
.It "DO TERMINAL-TYPE"
Indicates a desire to be able to request the
name of the type of terminal that is attached
to the client side of the connection.
.It "DO SGA"
Indicates that it does not need to receive
.Dv IAC GA ,
the go ahead command.
.It "DO NAWS"
Requests that the client inform the server when
the window (display) size changes.
.It "DO TERMINAL-SPEED"
Indicates a desire to be able to request information
about the speed of the serial line to which
the client is attached.
.It "DO XDISPLOC"
Indicates a desire to be able to request the name
of the X11 display that is associated with
the telnet client.
.It "DO NEW-ENVIRON"
Indicates a desire to be able to request environment
variable information, as described in RFC 1572.
.It "DO ENVIRON"
Indicates a desire to be able to request environment
variable information, as described in RFC 1408.
.It "DO LINEMODE"
Only sent if
.Nm telnetd
is compiled with support for linemode, and
requests that the client do line by line processing.
.It "DO TIMING-MARK"
Only sent if
.Nm telnetd
is compiled with support for both linemode and
kludge linemode, and the client responded with
.Dv WONT LINEMODE .
If the client responds with
.Dv WILL TM ,
the it is assumed that the client supports
kludge linemode.
Note that the
.Op Fl k
option can be used to disable this.
.It "DO AUTHENTICATION"
Only sent if
.Nm telnetd
Kerberos authentication is enabled, and
indicates a willingness to receive authentication
information for automatic login.
.It "DO ENCRYPT"
Only sent if
.Nm telnetd
Kerberos is enabled, and
indicates a willingness to decrypt
the data stream.
.El
.Sh FILES
.Bl -tag -width /etc/services -compact
.It Pa /etc/services
.It Pa /etc/inittab
(UNICOS systems only)
.It Pa /etc/iptos
(if supported)
.El
.Sh SEE ALSO
.Xr login 1 ,
.Xr telnet 1
.Sh STANDARDS
.Bl -tag -compact -width "RFC 1572  "
.It RFC 854
.Tn TELNET
PROTOCOL SPECIFICATION
.It RFC 855
TELNET OPTION SPECIFICATIONS
.It RFC 856
TELNET BINARY TRANSMISSION
.It RFC 857
TELNET ECHO OPTION
.It RFC 858
TELNET SUPPRESS GO AHEAD OPTION
.It RFC 859
TELNET STATUS OPTION
.It RFC 860
TELNET TIMING MARK OPTION
.It RFC 861
TELNET EXTENDED OPTIONS - LIST OPTION
.It RFC 885
TELNET END OF RECORD OPTION
.It RFC 1073
Telnet Window Size Option
.It RFC 1079
Telnet Terminal Speed Option
.It RFC 1091
Telnet Terminal-Type Option
.It RFC 1096
Telnet X Display Location Option
.It RFC 1123
Requirements for Internet Hosts -- Application and Support
.It RFC 1184
Telnet Linemode Option
.It RFC 1372
Telnet Remote Flow Control Option
.It RFC 1416
Telnet Authentication Option
.It RFC 1411
Telnet Authentication: Kerberos Version 4
.It RFC 1412
Telnet Authentication: SPX
.It RFC 1571
Telnet Environment Option Interoperability Issues
.It RFC 1572
Telnet Environment Option
.El
.Sh BUGS
Some
.Tn TELNET
commands are only partially implemented.
.Pp
Because of bugs in the original 4.2 BSD
.Xr telnet 1 ,
.Nm telnetd
performs some dubious protocol exchanges to try to discover if the remote
client is, in fact, a 4.2 BSD
.Xr telnet 1 .
.Pp
Binary mode
has no common interpretation except between similar operating systems
(Unix in this case).
.Pp
The terminal type name received from the remote client is converted to
lower case.
.Pp
.Nm Telnetd
never sends
.Tn TELNET
.Dv IAC GA
(go ahead) commands.
@


1.33
log
@refer to RFCs consistently (RFC XXXX);
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.32 2003/07/18 19:41:18 henning Exp $
@


1.32
log
@one time -h is enough
Bruno Saverio Delbono <bdelbono@@leviathan.lucifer.at>
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.31 2003/06/07 21:55:43 jmc Exp $
d469 2
a470 2
.Bl -tag -compact -width RFC-1572
.It Cm RFC-854
d473 1
a473 1
.It Cm RFC-855
d475 1
a475 1
.It Cm RFC-856
d477 1
a477 1
.It Cm RFC-857
d479 1
a479 1
.It Cm RFC-858
d481 1
a481 1
.It Cm RFC-859
d483 1
a483 1
.It Cm RFC-860
d485 1
a485 1
.It Cm RFC-861
d487 1
a487 1
.It Cm RFC-885
d489 1
a489 1
.It Cm RFC-1073
d491 1
a491 1
.It Cm RFC-1079
d493 1
a493 1
.It Cm RFC-1091
d495 1
a495 1
.It Cm RFC-1096
d497 1
a497 1
.It Cm RFC-1123
d499 1
a499 1
.It Cm RFC-1184
d501 1
a501 1
.It Cm RFC-1372
d503 1
a503 1
.It Cm RFC-1416
d505 1
a505 1
.It Cm RFC-1411
d507 1
a507 1
.It Cm RFC-1412
d509 1
a509 1
.It Cm RFC-1571
d511 1
a511 1
.It Cm RFC-1572
@


1.31
log
@- remove invalid authentication type "otp"
- sync SYNOPSIS and DESCRIPTION a little
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.30 2003/06/02 19:38:25 millert Exp $
a194 3
.It Fl h
Disables the printing of host-specific information before
login has been completed.
@


1.30
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.29 2003/06/02 14:37:35 jmc Exp $
d49 1
a49 1
.Op Fl r Ns Ar lowpty-highpty
d126 7
a132 7
.It otp
Only allow Kerberos authenticated connections (as with
.Fl a
.Cm user )
and also logins with one-time passwords (OTPs).
This option will call login with an option so that only OTPs are accepted.
The user can of course still type secret information at the prompt.
@


1.29
log
@- kill whitespace at EOL
- removed empty ENVIRONMENT section
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d14 1
a14 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.28
log
@try to use the X Window System, X11 or XFree86 consistently.

diffs from Paul Weismann, via mickey@@
aided, abetted and ok'd matthieu@@
@
text
@d1 2
d83 1
a83 1
If started up this way, 
d155 1
a155 1
There are several possible values for 
d163 1
a163 1
Prints the 
d276 1
a276 1
the slave side of the pseudo-terminal as 
d290 1
a290 1
session is started up, 
a463 1
.Sh ENVIRONMENT
d472 1
a472 1
.Sh "SEE ALSO"
@


1.27
log
@start new sentence on a new line
ok mpech@@
@
text
@d423 1
a423 1
of the X windows display that is associated with
@


1.26
log
@typos;

tftpd(8): tweak and ok millert@@
tokenadm(8): tweak and ok millert@@
@
text
@d206 2
a207 1
use.  If the system has sysconf variable
d211 2
a212 1
otherwise, the default range is 0 to 128.  Either
@


1.25
log
@Backout unrelated changes in last commit
@
text
@d44 1
d57 1
d262 3
a264 1
Makes telnetd not warn when a user is trying to login with cleartext
d338 1
a338 1
.Tn telnetd
d344 1
a344 1
.Tn telnetd
d348 1
a348 1
Indicates that the client is willing to send a
d357 1
a357 1
request, of the current status of all
d389 1
a389 1
.Tn telnetd
@


1.24
log
@Kill '-a otp' flag.  Our login(5) doesn't support this option and on OpenBSD
you should use login.conf(5) for this kind of thing.  Closes PR 2967.
@
text
@d126 7
@


1.23
log
@Sort .Xr's
@
text
@a125 7
.It otp
Only allow Kerberos authenticated connections (as with
.Fl a
.Cm user )
and also logins with one-time passwords (OTPs).
This option will call login with an option so that only OTPs are accepted.
The user can of course still type secret information at the prompt.
@


1.22
log
@o) fix bogus .Xr usage;
o) start new sentence on a new line;
o) don't use .Xr instead of .Pa tag;
o) minimal -mdoc design fixes;

millert@@ ok;
@
text
@d466 2
a467 2
.Xr telnet 1 ,
.Xr login 1
@


1.21
log
@Add back gettytab reading but use cget* instead of the obsolescent gtget*
@
text
@d130 3
a132 3
and also logins with one-time passwords (OTPs).  This option will call
login with an option so that only OTPs are accepted.  The user can of
course still type secret information at the prompt.
d179 2
a180 1
keep-alives.  Normally
d213 2
a214 1
either end of the search range.  If
@


1.20
log
@Document the -y flag:
Makes telnetd not warn when a user is trying to login with cleartext
passwords.

(patch sent to heimdal developers)
@
text
@d36 1
a36 1
.Os BSD 4.2
d49 1
d188 9
@


1.19
log
@Update to reflect reality.
@
text
@d53 1
d245 1
a245 1
.It Fl L pathname
d247 3
@


1.18
log
@Replace our telnetd with the one from heimdal-0.3f, with the following changes:
- obvious buildsystem tweakes
- our way to filter out bad environment variables
@
text
@d91 1
a91 1
be used for authentication.
d104 1
a104 1
can provide valid authentication information
d110 1
a110 1
can provide valid authentication information
d125 1
a125 1
Only allow authenticated connections (as with
d133 1
a133 1
Authentication information is not required.
d135 1
a135 4
is provided, then the
.Xr login 1
program will provide the necessary user
verification.
d137 1
a137 4
This disables the authentication code.
All user verification will happen through the
.Xr login 1
program.
a171 1
.It Fl k
d357 1
a357 1
is compiled with support for data encryption, and
d430 1
a430 1
is compiled with support for authentication, and
d436 1
a436 1
is compiled with support for data encryption, and
@


1.17
log
@libexec man page fleshing. again, bored on the plane home.
@
text
@a0 3
.\"	$OpenBSD: telnetd.8,v 1.16 2000/10/06 10:55:00 hin Exp $
.\"	$NetBSD: telnetd.8,v 1.8 1996/03/20 04:25:55 tls Exp $
.\"
d32 1
a32 1
.\"	from: @@(#)telnetd.8	8.3 (Berkeley) 3/1/94
d34 1
a34 1
.Dd March 1, 1994
d36 1
a36 1
.Os
d44 1
a44 1
.Op Fl Uhlkn46
a45 1
.Op Fl I Ns Ar initid
a48 1
.Op Fl g Ar gettyent
d51 3
a53 1
.Op Fl debug Op Ar port
d56 1
a56 1
.Nm
d62 1
a62 1
.Nm
d74 1
a74 1
.Nm
d77 1
a77 1
If started up this way,
d80 1
a80 1
.Nm
d86 1
a86 1
.Nm
d93 1
a93 1
.Nm
d95 1
a95 1
.Cm AUTHENTICATION
d103 5
a107 3
Only allow connections when the remote user can provide valid authentication
information to identify the remote user, and is allowed access to the
specified account without providing a password.
d109 3
a111 2
Only allow connections when the remote user can provide valid authentication
information to identify the remote user.
d114 3
a116 2
command will provide any additional user verification needed if the remote
user is not allowed automatic access to the specified account.
d119 3
a121 2
This option is currently not supported by any of the existing authentication
mechanisms, and is thus the same as specifying
d124 7
d134 2
a135 1
If no or insufficient authentication information is provided, then the
d137 2
a138 1
program will provide the necessary user verification.
d145 2
d150 1
a150 1
.Nm
d153 1
a153 1
.Nm
d155 1
a155 1
There are several possible values for
d163 1
a163 1
Prints the
d165 2
a166 2
information, plus some additional information about what processing
is going on.
a174 13
.It Fl debug
Enables debugging on each socket created by
.Nm
(see
.Dv SO_DEBUG
in
.Xr socket 2 ) .
.It Fl g Ar gettyent
Specifies which entry from
.Pa /etc/gettytab
should be used to get banner strings, login program and other information.
The default entry is
.Dq default.
a177 11
.It Fl I Ar initid
This option is only applicable to
.Tn UNICOS
systems prior to 7.0.
It specifies the
.Em ID
from
.Pa /etc/inittab
to use when init starts login sessions.
The default ID is
.Dq fe .
a178 26
This option is only useful if
.Nm
has been compiled with both linemode and kludge linemode support.
If the
.Fl k
option is specified, then if the remote client does not support the
.Cm LINEMODE
option, then
.Nm
will operate in character at a time mode.
It will still support kludge linemode, but will only
go into kludge linemode if the remote client requests
it.
(This is done by the client sending
.Tn DONT SUPPRESS-GO-AHEAD
and
.Tn DONT ECHO . )
The
.Fl k
option is most useful when there are remote clients
that do not support kludge linemode, but pass the heuristic
(if they respond with
.Tn WILL TIMING-MARK
in response to a
.Tn DO TIMING-MARK)
for kludge linemode support.
d180 1
a180 5
Specifies line mode.
Tries to force clients to use line-at-a-time mode.
If the
.Tn LINEMODE
option is not supported, it will go into kludge linemode.
d183 3
a185 4
.Tn TCP
keep-alives.
Normally
.Nm
d195 1
a195 1
.Nm
d197 3
a199 3
.Tn UNICOS .
It specifies an inclusive range of pseudo-terminal devices to use.
If the system has sysconf variable
d202 2
a203 3
.Dv _SC_CRAY_NPTY;
otherwise, the default range is 0 to 128.
Either
d207 2
a208 2
may be omitted to allow changing either end of the search range.
If
d211 1
a211 1
.Nm
d218 3
a220 2
This option is used to specify the size of the field in the
.Li utmp
d235 3
a237 3
.Nm
to refuse connections from addresses that cannot be mapped back into a
symbolic name via the
d243 1
a243 1
.Nm
d247 2
a248 1
authentication, and can be used to temporarily disable
d251 2
a252 13
.It Fl 4
.It Fl 6
Specifies address family to be used on
.Fl debug
mode.
During normal operation
.Po
called from
.Xr inetd 8
.Pc
.Nm
will use the file descriptor passed from
.Xr inetd 8 .
d255 1
a255 1
.Nm
d259 3
a261 3
the slave side of the pseudo-terminal as
.Li stdin ,
.Li stdout ,
d263 2
a264 2
.Li stderr .
.Nm
d273 2
a274 2
session is started up,
.Nm
d300 3
a302 1
to operate in \*(lqcooked\*(rq mode, and with
d308 1
a308 1
.Nm
d315 1
a315 1
.Cm LINEMODE
d317 1
a317 1
.Tn WILL ECHO
d319 1
a319 1
.Tn WONT ECHO
d323 1
a323 1
.Tn WILL ECHO
d329 1
a329 1
.Tn WONT ECHO
d340 1
a340 1
.Tn IAC GA ,
d349 1
a349 1
.Tn DO TIMING-MARK
d352 1
a352 1
.Tn WILL TIMING-MARK
d355 1
a355 1
.Tn DO LOGOUT
d357 1
a357 1
.Tn WILL LOGOUT
d363 1
a363 1
.Nm
d369 1
a369 1
.Nm
d382 1
a382 2
This is not really supported, but is sent to identify a
.Bx 4.2
d385 1
a385 1
.Tn WILL ECHO .
d387 1
a387 1
.Tn WILL ECHO
d389 1
a389 1
.Tn DONT ECHO
d397 1
a397 1
.Tn IAC GA ,
d418 1
a418 1
.Nm
d423 1
a423 1
.Nm
d426 1
a426 1
.Tn WONT LINEMODE .
d428 1
a428 1
.Tn WILL TM ,
d436 1
a436 1
.Nm
d442 1
a442 1
.Nm
d447 1
a447 1
.\" .Sh ENVIRONMENT
d456 3
a458 3
.Sh SEE ALSO
.Xr login 1 ,
.Xr telnet 1
d512 1
a512 1
.Nm
d524 1
a524 1
.Nm
d527 1
a527 1
.Tn IAC GA
a528 7
.Pp
.Tn WONT CRYPT .
.Nm
talks over insecure, unencrypted communications channels.
Please use
.Xr sshd 8
instead.
@


1.16
log
@Remove the unimplemented -edebug flag from usage and manpage.
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.15 2000/08/18 03:26:09 itojun Exp $
d106 3
a108 5
Only allow connections when the remote user
can provide valid authentication information
to identify the remote user,
and is allowed access to the specified account
without providing a password.
d110 2
a111 3
Only allow connections when the remote user
can provide valid authentication information
to identify the remote user.
d114 2
a115 3
command will provide any additional user verification
needed if the remote user is not allowed automatic
access to the specified account.
d118 2
a119 3
This option is currently not supported
by any of the existing authentication mechanisms,
and is thus the same as specifying
d125 1
a125 2
If no or insufficient authentication information
is provided, then the
d127 1
a127 2
program will provide the necessary user
verification.
d152 2
a153 2
information, plus some additional information
about what processing is going on.
d172 2
a173 2
should be used to get banner strings, login program and
other information.  The default entry is
d186 2
a187 1
to use when init starts login sessions.  The default ID is
d192 2
a193 2
has been compiled with both linemode and kludge linemode
support.  If the
d195 1
a195 2
option is specified, then if the remote client does not
support the
d217 2
a218 2
Specifies line mode.  Tries to force clients to use line-
at-a-time mode.
d221 1
a221 2
option is not supported, it will go
into kludge linemode.
d225 2
a226 1
keep-alives.  Normally
d240 2
a241 2
It specifies an inclusive range of pseudo-terminal devices to
use.  If the system has sysconf variable
d245 2
a246 1
otherwise, the default range is 0 to 128.  Either
d250 2
a251 2
may be omitted to allow changing
either end of the search range.  If
d261 1
a261 2
This option is used to specify the size of the field
in the
d278 2
a279 2
to refuse connections from addresses that
cannot be mapped back into a symbolic name
d289 1
a289 2
authentication, and
can be used to temporarily disable
@


1.15
log
@add support to telnetd -debug -6 (listens to AF_INET6).
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.14 2000/06/29 13:40:58 aaron Exp $
a52 1
.Op Fl edebug
a175 6
.It Fl edebug
If
.Nm
has been compiled with support for data encryption, then the
.Fl edebug
option may be used to enable encryption debugging code.
@


1.14
log
@.Nm -> .Xr; from deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.13 2000/06/29 05:29:25 aaron Exp $
d47 1
a47 1
.Op Fl Uhlkn
d307 13
@


1.13
log
@I felt that telnetd(8) deserves the following BUGS entry:

WONT CRYPT. telnetd talks over insecure, unencrypted communications channels.
Please use sshd instead.
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.12 2000/04/15 02:15:30 aaron Exp $
d587 1
a587 1
.Nm sshd
@


1.12
log
@Mostly punctuation fixes.
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.11 1999/07/09 13:35:51 aaron Exp $
d582 7
@


1.11
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.10 1999/05/28 23:00:10 aaron Exp $
d99 1
a99 1
.Dv AUTHENTICATION
d102 1
a102 1
.Ar authmode:
d151 1
a151 1
.Ar debugmode:
d188 1
a188 1
.Dv default.
d197 1
a197 1
.Dv ID
d200 2
a201 4
to use when init starts login sessions.  The default
.Dv ID
is
.Dv fe.
d210 1
a210 1
.Dv LINEMODE
d218 1
a218 1
.Dv DONT SUPPRESS-GO-AHEAD
d220 1
a220 1
.Dv DONT ECHO . )
d226 1
a226 1
.Dv WILL TIMING-MARK
d228 1
a228 1
.Dv DO TIMING-MARK)
d234 1
a234 1
.Dv LINEMODE
d239 1
a239 1
.Dv TCP
d253 1
a253 1
.Dv UNICOS.
d276 1
a276 1
.Dv utmp
d314 2
a315 2
.Dv stdin ,
.Dv stdout
d317 1
a317 1
.Dv stderr .
d367 1
a367 1
.Dv LINEMODE
d369 1
a369 1
.Dv WILL ECHO
d371 1
a371 1
.Dv WONT ECHO
d375 1
a375 1
.Dv WILL ECHO
d381 1
a381 1
.Dv WONT ECHO
d392 1
a392 1
.Dv IAC GA,
d401 1
a401 1
.Dv DO TIMING-MARK
d404 1
a404 1
.Dv WILL TIMING-MARK
d407 1
a407 1
.Dv DO LOGOUT
d409 1
a409 1
.Dv WILL LOGOUT
d438 1
a438 1
.Dv WILL ECHO.
d440 1
a440 1
.Dv WILL ECHO
d442 1
a442 1
.Dv DONT ECHO
d450 1
a450 1
.Dv IAC GA,
d479 1
a479 1
.Dv WONT LINEMODE.
d481 1
a481 1
.Dv WILL TM,
d580 1
a580 1
.Dv IAC GA
@


1.10
log
@more .El madness
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.9 1999/05/23 14:11:11 aaron Exp $
d81 1
a81 1
If started up this way, 
d150 1
a150 1
There are several possible values for 
d158 1
a158 1
Prints the 
d315 1
a315 1
the slave side of the pseudo-terminal as 
d329 1
a329 1
session is started up, 
@


1.9
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.8 1998/12/16 03:05:35 aaron Exp $
d501 1
d559 1
@


1.8
log
@even more .Nm fixes
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.7 1998/09/06 22:23:18 aaron Exp $
d39 1
a39 1
.Os BSD 4.2
@


1.7
log
@More man page fixes. Spelling, grammar, some typos. Lots of double-word
occurrences squashed as well.
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.6 1998/07/23 17:55:53 deraadt Exp $
d46 1
a46 1
.Nm /usr/libexec/telnetd
d60 1
a60 1
.Nm telnetd
d66 1
a66 1
.Nm Telnetd
d78 1
a78 1
.Nm telnetd
d84 1
a84 1
.Nm telnetd
d90 1
a90 1
.Nm telnetd
d97 1
a97 1
.Nm telnetd
d145 1
a145 1
.Nm telnetd
d148 1
a148 1
.Nm telnetd
d164 1
a164 1
.Nm telnetd.
d172 1
a172 1
.Nm telnetd
d179 1
a179 1
.Nm telnetd
d206 1
a206 1
.Nm telnetd
d214 1
a214 1
.Nm telnetd
d243 1
a243 1
.Nm telnetd
d253 1
a253 1
.Nm telnetd
d269 1
a269 1
.Nm telnetd
d293 1
a293 1
.Nm telnetd
d301 1
a301 1
.Nm telnetd
d311 1
a311 1
.Nm Telnetd
d320 1
a320 1
.Nm Telnetd
d330 1
a330 1
.Nm telnetd
d362 1
a362 1
.Nm Telnetd
d417 1
a417 1
.Nm telnetd
d423 1
a423 1
.Nm Telnetd
d473 1
a473 1
.Nm telnetd
d478 1
a478 1
.Nm telnetd
d491 1
a491 1
.Nm telnetd
d497 1
a497 1
.Nm telnetd
d501 1
a501 1
.Sh ENVIRONMENT
d503 3
a505 3
.Pa /etc/services
.br
.Pa /etc/inittab
d507 1
a507 2
.br
.Pa /etc/iptos
d509 2
a510 3
.br
.Sh "SEE ALSO"
.Xr telnet 1 ,
d512 1
d565 1
a565 1
.Nm telnetd
d577 1
a577 1
.Nm Telnetd
@


1.6
log
@delete SecurID hacks
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.5 1998/06/15 17:55:39 mickey Exp $
d219 1
a219 1
(This is done by by the client sending
@


1.5
log
@use Bx macro for BSD versions
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.4 1996/04/23 03:03:50 deraadt Exp $
d47 1
a47 1
.Op Fl Uhlkns
a273 19
.It Fl s
This option is only enabled if
.Nm telnetd
is compiled with support for
.Tn SecurID
cards.
It causes the
.Fl s
option to be passed on to
.Xr login 1 ,
and thus is only useful if
.Xr login 1
supports the
.Fl s
flag to indicate that only
.Tn SecurID
validated logins are allowed, and is
usually useful for controlling remote logins
from outside of a firewall.
@


1.4
log
@sync with netbsd 960418
@
text
@d1 1
a1 1
.\"	$OpenBSD: telnetd.8,v 1.3 1996/03/28 23:22:02 niklas Exp $
d455 2
a456 1
This is not really supported, but is sent to identify a 4.2BSD
@


1.3
log
@From NetBSD: merge of 960317
@
text
@d1 2
a2 2
.\"	$OpenBSD$
.\"	$NetBSD: telnetd.8,v 1.7 1996/02/28 20:30:33 thorpej Exp $
d54 1
d183 6
@


1.2
log
@from netbsd; fix small documentation bug -- we have no bftp(1)
@
text
@d1 3
a35 1
.\"	$Id: telnetd.8,v 1.5 1996/01/05 04:10:10 tls Exp $
@


1.1
log
@Initial revision
@
text
@d33 1
a33 1
.\"	$Id: telnetd.8,v 1.4 1994/06/05 14:31:15 cgd Exp $
d45 1
a45 1
.Op Fl BUhlkns
a138 11
.It Fl B
Specifies bftp server mode.  In this mode,
.Nm telnetd
causes login to start a
.Xr bftp 1
session rather than the user's
normal shell.  In bftp daemon mode normal
logins are not supported, and it must be used
on a port other than the normal
.Tn TELNET
port.
a519 2
.Pa /usr/ucb/bftp
(if supported)
a522 2
.Xr bftp 1
(if supported)
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
