head	1.21;
access;
symbols
	OPENBSD_6_1:1.21.0.10
	OPENBSD_6_1_BASE:1.21
	OPENBSD_6_0:1.21.0.8
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.21.0.4
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.21.0.6
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.21.0.2
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.19.0.6
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.4
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.18.0.24
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.18.0.22
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.20
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.18
	OPENBSD_5_0:1.18.0.16
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.14
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.18.0.12
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.8
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.18.0.10
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.6
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.17.0.2
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.16.0.14
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.16.0.12
	OPENBSD_4_0_BASE:1.16
	OPENBSD_3_9:1.16.0.10
	OPENBSD_3_9_BASE:1.16
	OPENBSD_3_8:1.16.0.8
	OPENBSD_3_8_BASE:1.16
	OPENBSD_3_7:1.16.0.6
	OPENBSD_3_7_BASE:1.16
	OPENBSD_3_6:1.16.0.4
	OPENBSD_3_6_BASE:1.16
	OPENBSD_3_5:1.16.0.2
	OPENBSD_3_5_BASE:1.16
	OPENBSD_3_4:1.14.0.2
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.12.0.6
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.12.0.4
	OPENBSD_3_2_BASE:1.12
	OPENBSD_3_1:1.12.0.2
	OPENBSD_3_1_BASE:1.12
	OPENBSD_3_0:1.11.0.6
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9:1.11.0.4
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_8:1.11.0.2
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.9.0.2
	OPENBSD_2_7_BASE:1.9
	OPENBSD_2_6:1.8.0.2
	OPENBSD_2_6_BASE:1.8
	OPENBSD_2_5:1.5.0.10
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.5.0.8
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.5.0.6
	OPENBSD_2_3_BASE:1.5
	OPENBSD_2_2:1.5.0.4
	OPENBSD_2_2_BASE:1.5
	OPENBSD_2_1:1.5.0.2
	OPENBSD_2_1_BASE:1.5
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.21
date	2015.01.15.19.06.32;	author schwarze;	state Exp;
branches;
next	1.20;
commitid	dven8mWEy4wx3j1c;

1.20
date	2014.11.20.13.21.05;	author tedu;	state Exp;
branches;
next	1.19;
commitid	29AJnOjSDdV84c4l;

1.19
date	2013.11.14.08.50.04;	author bentley;	state Exp;
branches;
next	1.18;

1.18
date	2007.09.25.06.28.13;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2007.05.31.19.19.39;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2003.11.02.15.33.22;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2003.10.17.10.41.18;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2003.08.08.09.26.03;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2003.06.02.19.38.24;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2001.11.13.14.06.09;	author mpech;	state Exp;
branches;
next	1.11;

1.11
date	2000.09.08.18.03.27;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	2000.08.02.15.58.09;	author provos;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.14.21.31.38;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	99.07.21.01.07.57;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	99.07.09.13.35.50;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	99.05.23.14.11.10;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	97.01.13.20.54.25;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	96.12.08.13.29.53;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	96.07.16.17.55.42;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	96.06.24.17.41.06;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.43.15;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.43.15;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.21
log
@remove .Tn; from Jan Stary <hans at stare dot cz>
@
text
@.\"	$OpenBSD: fingerd.8,v 1.20 2014/11/20 13:21:05 tedu Exp $
.\"
.\" Copyright (c) 1980, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     from: @@(#)fingerd.8	8.1 (Berkeley) 6/4/93
.\"	$Id: fingerd.8,v 1.20 2014/11/20 13:21:05 tedu Exp $
.\"
.Dd $Mdocdate: November 20 2014 $
.Dt FINGERD 8
.Os
.Sh NAME
.Nm fingerd
.Nd remote user information server
.Sh SYNOPSIS
.Nm fingerd
.Op Fl lMmpSsu
.Op Fl P Ar filename
.Sh DESCRIPTION
.Nm
implements a simple protocol based on RFC 1288
that provides an interface to the
Name and Finger programs at several network sites.
The program is supposed to return a friendly,
human-oriented status report on either the system at the moment
or a particular person in depth.
There is no required format and the
protocol consists mostly of specifying a single
.Dq command line .
.Pp
.Nm
is started by
.Xr inetd 8 ,
which listens for TCP requests at port 79.
Once connected it reads a single command line
terminated by a
.Aq CRLF
which is passed to
.Xr finger 1 .
.Nm
closes its connections as soon as the output is finished.
.Pp
If the line is null (i.e., just a
.Aq CRLF
is sent) then
.Xr finger 1
returns a
.Dq default
report that lists all people logged into
the system at that moment.
.Pp
If a user name is specified (e.g.,
.Pf eric Aq CRLF )
then the
response lists more extended information for only that particular user,
whether logged in or not.
Allowable
.Dq names
in the command line include both
.Dq login names
and
.Dq user names .
If a name is ambiguous, all possible derivations are returned.
.Pp
The following options may be passed to
.Nm
as server program arguments in
.Pa /etc/inetd.conf :
.Bl -tag -width Ds
.It Fl l
Enable logging.
The name of the host originating the query and the actual request
is reported via
.Xr syslog 3
at LOG_NOTICE priority.
A request of the form
.Sq /W
or
.Sq /w
will return long output.
Empty requests will return all currently logged in users.
All other requests look for specific users.
See RFC 1288 for details.
.It Fl M
Enables matching of
.Ar user
names.
This is disabled by default if the system is running YP.
.It Fl m
Prevent matching of
.Ar user
names.
.Ar User
is usually a login name; however, matching will also be done on the
users' real names, unless the
.Fl m
option is supplied.
.It Fl P Ar filename
Use an alternate program as the local information provider.
The default local program
executed by
.Nm
is
.Xr finger 1 .
By specifying a customized local server,
this option allows a system manager
to have more control over what information is
provided to remote sites.
.It Fl p
Prevents
.Xr finger 1
from displaying the contents of the
.Dq Pa .plan
and
.Dq Pa .project
files.
.It Fl S
Prints user information in short mode, one line per user.
This overrides the
.Dq Pa Whois switch
that may be passed in from the remote client.
.It Fl s
Enable secure mode.
Forwarding of queries to other remote hosts is denied.
.It Fl u
Queries without a user name are rejected.
.El
.Sh SEE ALSO
.Xr finger 1 ,
.Xr inetd 8
.Sh STANDARDS
.Rs
.%A D. Zimmerman
.%D December 1991
.%R RFC 1288
.%T The Finger User Information Protocol
.Re
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.3 .
@


1.20
log
@user error is not a bug. fingerd is not responsible for filtering out
incorrect client garbage. ok deraadt sthen
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.19 2013/11/14 08:50:04 bentley Exp $
d31 1
a31 1
.\"	$Id: fingerd.8,v 1.19 2013/11/14 08:50:04 bentley Exp $
d33 1
a33 1
.Dd $Mdocdate: November 14 2013 $
d58 1
a58 3
which listens for
.Tn TCP
requests at port 79.
d61 1
a61 1
.Aq Tn CRLF
d68 1
a68 1
.Aq Tn CRLF
d77 1
a77 1
.Pf eric Aq Tn CRLF )
@


1.19
log
@Add STANDARDS section to finger(1)/fingerd(8).

tweaks/ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.18 2007/09/25 06:28:13 jmc Exp $
d31 1
a31 1
.\"	$Id: fingerd.8,v 1.18 2007/09/25 06:28:13 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: September 25 2007 $
a168 15
.Sh BUGS
Connecting directly to the server from a
.Tn TIP
or an equally narrow-minded
.Tn TELNET Ns -protocol
user program can result
in meaningless attempts at option negotiation being sent to the
server, which will foul up the command line interpretation.
.Nm
should be taught to filter out
.Tn IAC Ns 's
and perhaps even respond
negatively
.Pq Tn IAC WON'T
to all option commands received.
@


1.18
log
@better wording; from Tamas TEVESZ
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.17 2007/05/31 19:19:39 jmc Exp $
d31 1
a31 1
.\"	$Id: fingerd.8,v 1.17 2007/05/31 19:19:39 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
d157 7
@


1.17
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.16 2003/11/02 15:33:22 jmc Exp $
d31 1
a31 1
.\"	$Id: fingerd.8,v 1.16 2003/11/02 15:33:22 jmc Exp $
d45 1
a45 1
is a simple protocol based on RFC 1288
@


1.16
log
@some corrections from wiz@@netbsd;
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.15 2003/10/17 10:41:18 jmc Exp $
d31 1
a31 1
.\"	$Id: fingerd.8,v 1.15 2003/10/17 10:41:18 jmc Exp $
d33 1
a33 1
.Dd June 4, 1993
@


1.15
log
@slight update for fingerd; sort options;
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.14 2003/08/08 09:26:03 jmc Exp $
d31 1
a31 1
.\"	$Id: fingerd.8,v 1.14 2003/08/08 09:26:03 jmc Exp $
d137 1
a137 1
.Nm
d166 1
a166 1
.Tn TELNET Ns \-protocol
d172 1
a172 1
.Tn IAC Ns \'s
@


1.14
log
@refer to RFCs consistently (RFC XXXX);
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.13 2003/06/02 19:38:24 millert Exp $
d31 1
a31 1
.\"	$Id: fingerd.8,v 1.13 2003/06/02 19:38:24 millert Exp $
d41 1
a41 7
.Op Fl s
.Op Fl l
.Op Fl u
.Op Fl m
.Op Fl M
.Op Fl p
.Op Fl S
a95 3
.It Fl s
Enable secure mode.
Forwarding of queries to other remote hosts is denied.
d98 2
a99 1
The name of the host originating the query is reported via
d102 13
a114 2
.It Fl u
Queries without a user name are rejected.
d124 11
a134 5
.It Fl M
Enables matching of
.Ar user
names.
This is disabled by default if the system is running YP.
d148 5
a152 11
.It Fl P Ar filename
Use an alternate program as the local information provider.
The default local program
executed by
.Nm
is
.Xr finger 1 .
By specifying a customized local server,
this option allows a system manager
to have more control over what information is
provided to remote sites.
@


1.13
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.12 2001/11/13 14:06:09 mpech Exp $
d31 1
a31 1
.\"	$Id: fingerd.8,v 1.12 2001/11/13 14:06:09 mpech Exp $
d51 1
a51 2
is a simple protocol based on
.%T RFC1288
@


1.12
log
@o) fix bogus .Xr usage;
o) start new sentence on a new line;
o) don't use .Xr instead of .Pa tag;
o) minimal -mdoc design fixes;

millert@@ ok;
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.11 2000/09/08 18:03:27 aaron Exp $
d14 1
a14 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
d31 1
a31 1
.\"	$Id: fingerd.8,v 1.11 2000/09/08 18:03:27 aaron Exp $
@


1.11
log
@Some miscellaneous man page repairs.
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.10 2000/08/02 15:58:09 provos Exp $
d35 1
a35 1
.\"	$Id: fingerd.8,v 1.10 2000/08/02 15:58:09 provos Exp $
d83 1
a83 1
.Xr finger
@


1.10
log
@update other obsoleted rfcs
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.9 2000/03/14 21:31:38 aaron Exp $
d35 1
a35 1
.\"	$Id: fingerd.8,v 1.9 2000/03/14 21:31:38 aaron Exp $
d54 1
a54 1
.Nm Fingerd
d66 1
a66 1
.Nm Fingerd
d77 1
a77 1
.Nm Fingerd
d103 1
a103 1
.Nm fingerd
d129 2
a130 1
names.  This is disabled by default if the system is running YP.
d133 1
a133 1
.Nm finger
d148 1
a148 1
.Nm fingerd
d159 5
d172 1
a172 1
.Nm Fingerd
a178 5
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.3 .
@


1.9
log
@Suffix "i.e." and "e.g." with a comma. Just another really picky man page
commit, as we want our documentation to be as consistently formatted as
possible (it's getting there :-)).
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.8 1999/07/21 01:07:57 deraadt Exp $
d35 1
a35 1
.\"	$Id: fingerd.8,v 1.8 1999/07/21 01:07:57 deraadt Exp $
d56 1
a56 1
.%T RFC1196
@


1.8
log
@use .Ar on later .It Fl lines
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.7 1999/07/09 13:35:50 aaron Exp $
d35 1
a35 1
.\"	$Id: fingerd.8,v 1.7 1999/07/09 13:35:50 aaron Exp $
d80 1
a80 1
If the line is null (i.e. just a
d89 1
a89 1
If a user name is specified (e.g.
@


1.7
log
@- remove all trailing whitespace
     * except when it is escaped with a `\' at the end of the line
- fix remaining .Nm usage as well
- this is from a patch I received from kwesterback@@home.com, who has been
  working on some scripts for fixing formatting errors in mdoc'd man pages

Ok, so there could be a cost/benefit debate with this commit, but since I have
the patch we might as well commit it...
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.6 1999/05/23 14:11:10 aaron Exp $
d35 1
a35 1
.\"	$Id: fingerd.8,v 1.6 1999/05/23 14:11:10 aaron Exp $
d143 1
a143 1
.It Fl P
@


1.6
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.5 1997/01/13 20:54:25 deraadt Exp $
d35 1
a35 1
.\"	$Id: fingerd.8,v 1.5 1997/01/13 20:54:25 deraadt Exp $ 
d82 1
a82 1
is sent) then 
d148 1
a148 1
is 
@


1.5
log
@talk about inetd; kleink@@layla.inka.de
@
text
@d1 1
a1 1
.\"	$OpenBSD: fingerd.8,v 1.4 1996/12/08 13:29:53 downsj Exp $
d35 1
a35 1
.\"	$Id: fingerd.8,v 1.4 1996/12/08 13:29:53 downsj Exp $ 
d39 1
a39 1
.Os BSD 4.3
@


1.4
log
@Add -M.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d35 1
a35 1
.\"	$Id: fingerd.8,v 1.3 1996/07/16 17:55:42 millert Exp $ 
d67 3
a69 1
listens for
d156 2
a157 1
.Xr finger 1
@


1.3
log
@Updated to 4.4BSD fingerd + Theo's @@@@@@@@ optimization and some
added options to further restrict the info given out.
@
text
@d1 2
d35 1
a35 1
.\"	$Id: fingerd.8,v 1.2 1996/07/16 05:58:19 millert Exp $ 
d49 1
d124 4
@


1.2
log
@add -s flag; if specified in inetd, does not allow forwarding @@ requests
@
text
@d1 2
a2 2
.\" Copyright (c) 1980, 1991 The Regents of the University of California.
.\" All rights reserved.
d32 2
a33 2
.\"     from: @@(#)fingerd.8	6.4 (Berkeley) 3/16/91
.\"	$Id: fingerd.8,v 1.1.1.1 1995/10/18 08:43:15 deraadt Exp $
d35 1
a35 1
.Dd March 16, 1991
d44 6
d53 1
a53 1
.%T RFC742
a62 7
The
.Fl s
option prevents
.Nm fingerd
from doing lookups on names which have @@ in them.  This allows subnetworks
to be hidden from prying eyes.
.Pp
d96 50
@


1.1
log
@Initial revision
@
text
@d33 1
a33 1
.\"	$Id: fingerd.8,v 1.2 1993/08/01 07:40:24 mycroft Exp $
d43 1
d56 7
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
