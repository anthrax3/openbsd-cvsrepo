head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.2
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.4
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.1.0.6
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2017.02.02.11.18.36;	author tb;	state Exp;
branches;
next	1.2;
commitid	y09maOIpiGhm92fC;

1.2
date	2017.02.01.10.44.13;	author reyk;	state Exp;
branches;
next	1.1;
commitid	JwbVxhJD15R9M7fv;

1.1
date	2015.07.16.16.35.57;	author reyk;	state Exp;
branches;
next	;
commitid	U71O9DhbbekfmB5Z;


desc
@@


1.3
log
@sudo -> SUDO and some other minor tweaks
@
text
@Run httpd regression tests.  The framework runs a client and an httpd.
Each test creates a special httpd.conf and starts those two processes.
All processes write log files that are checked for certain messages.
The test arguments are kept in the args-*.pl files.

SUDO=doas
As httpd needs root privileges, either run the tests as root or set
this variable and run make as a regular user.  Only the code that
requires it is run as root.

KTRACE=ktrace
Set this variable if you want a ktrace output from httpd.  Note that
ktrace is invoked after SUDO as SUDO would disable it.

HTTPD=/usr/src/usr.sbin/httpd/obj/httpd
Start an alternative httpd program that is not in the path.

HTDOCS_SPARSE=no
Set to anything other than "yes" to create real test files instead of
sparse files.  This needs more than 1G of free disk space.
@


1.2
log
@SUDO is doas
@
text
@d1 1
a1 1
Run httpd regressions tests.  The framework runs a client and a httpd.
d7 1
a7 1
As httpd needs root privileges either run the tests as root or set
d9 1
a9 1
requires it, is run as root.
d13 1
a13 1
ktrace is invoked after sudo as sudo would disable it.
@


1.1
log
@Add httpd regression tests based on bluhm's regression suite for
relayd - "bluhm test".  This is just the initial version, more tests
and changes will be done.

As discussed with bluhm@@ florian@@
@
text
@d6 1
a6 1
SUDO=sudo
@

