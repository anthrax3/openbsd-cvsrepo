head	1.1;
access;
symbols
	OPENBSD_6_1:1.1.0.8
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.6
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.05.22.19.09.18;	author bluhm;	state Exp;
branches;
next	;
commitid	DHpp83NEgNDFXx2X;


desc
@@


1.1
log
@Add tests for relayd TLS inspection with plain SSL and HTTPS.
@
text
@# test https connection over http relay with TLS inspection

use strict;
use warnings;

our %args = (
    client => {
	func => \&http_client,
	ssl => 1,
	loggrep => 'Issuer.*/OU=ca/',
    },
    relayd => {
	protocol => [ "http",
	    "match request header log foo",
	    "match response header log bar",
	],
	inspectssl => 1,
    },
    server => {
	func => \&http_server,
	ssl => 1,
    },
    len => 251,
    md5 => "bc3a3f39af35fe5b1687903da2b00c7f",
);

1;
@
