head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2017.06.17.09.55.01;	author anton;	state Exp;
branches;
next	1.1;
commitid	8vDoOJmn24XQ0XDS;

1.1
date	2017.06.05.14.10.11;	author anton;	state Exp;
branches;
next	;
commitid	gyBA1jDSy3L9LYuX;


desc
@@


1.2
log
@Pass the command to execute as an argument. Allows the edit program to be
reused.
@
text
@# Copyright (c) 2016 Ingo Schwarze <schwarze@@openbsd.org>
# Copyright (c) 2017 Anton Lindqvist <anton@@openbsd.org>
#
# Permission to use, copy, modify, and distribute this software for any
# purpose with or without fee is hereby granted, provided that the above
# copyright notice and this permission notice appear in all copies.
#
# THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.

testseq() {
	stdin=$1
	exp=$(echo "$2")
	act=$(echo -n "$stdin" | ./edit ksh -r)
	[ "$exp" = "$act" ] && return 0

	echo input:
	echo ">>>$stdin<<<"
	echo -n "$stdin" | hexdump -C
	echo expected:
	echo ">>>$exp<<<"
	echo -n "$exp" | hexdump -C
	echo actual:
	echo ">>>$act<<<"
	echo -n "$act" | hexdump -C

	return 1
}
@


1.1
log
@Add new edit regress files.

Absent from my previous commit.
@
text
@d19 1
a19 1
	act=$(echo -n "$stdin" | ./edit)
@

