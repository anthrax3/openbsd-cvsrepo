head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.2
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.1.0.4
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2017.05.06.21.56.43;	author jsing;	state Exp;
branches;
next	1.1;
commitid	3o09eNexf0q4hMJy;

1.1
date	2017.01.12.15.50.16;	author jsing;	state Exp;
branches;
next	;
commitid	eq6n41AhXbJxp5ku;


desc
@@


1.2
log
@Move TLS test code into a function that is called from main, making it
easier for new tests to be added.
@
text
@# $OpenBSD: Makefile,v 1.1 2017/01/12 15:50:16 jsing Exp $

PROG=	tlstest
LDADD=	-lcrypto -lssl -ltls
DPADD=	${LIBCRYPTO} ${LIBSSL} ${LIBTLS}

WARNINGS=	Yes
CFLAGS+=	-Werror

REGRESS_TARGETS= \
	regress-tlstest

regress-tlstest: ${PROG}
	./tlstest \
	    ${.CURDIR}/../../libssl/certs/ca.pem \
	    ${.CURDIR}/../../libssl/certs/server.pem \
	    ${.CURDIR}/../../libssl/certs/server.pem

.include <bsd.regress.mk>
@


1.1
log
@Add regress tests for libtls, which currently cover handshakes and closes
using callbacks, file descriptors and sockets.
@
text
@d1 1
a1 1
# $OpenBSD$
d15 1
d17 1
a17 2
	    ${.CURDIR}/../../libssl/certs/server.pem \
	    ${.CURDIR}/../../libssl/certs/ca.pem
@

