head	1.9;
access;
symbols
	OPENBSD_6_2:1.9.0.2
	OPENBSD_6_2_BASE:1.9
	OPENBSD_6_1:1.9.0.4
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.3.0.6
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3;
locks; strict;
comment	@# @;


1.9
date	2017.03.10.15.06.15;	author jsing;	state Exp;
branches;
next	1.8;
commitid	isRl3PpfMUjORVNl;

1.8
date	2017.01.22.08.19.36;	author jsing;	state Exp;
branches;
next	1.7;
commitid	nzRZUgtxLKb7H93Q;

1.7
date	2016.12.30.16.58.12;	author jsing;	state Exp;
branches;
next	1.6;
commitid	78VzVFfB5jJJop2k;

1.6
date	2016.11.04.17.51.54;	author guenther;	state Exp;
branches;
next	1.5;
commitid	1ZIqR3BL8b32uBDj;

1.5
date	2016.09.03.16.52.18;	author bcook;	state Exp;
branches;
next	1.4;
commitid	MkYdxwu6gTG7aug0;

1.4
date	2016.08.27.16.00.27;	author jsing;	state Exp;
branches;
next	1.3;
commitid	fcDvSHw0claQLZHl;

1.3
date	2015.07.13.07.34.50;	author doug;	state Exp;
branches;
next	1.2;
commitid	PgQ3FyR0p5ONXons;

1.2
date	2015.07.09.07.47.02;	author doug;	state Exp;
branches;
next	1.1;
commitid	uTClQvy6hlzPy8Xn;

1.1
date	2015.06.27.23.35.52;	author doug;	state Exp;
branches;
next	;
commitid	Qh6JIo7OVCle5lxh;


desc
@@


1.9
log
@Add a unit test for tls1_PRF().
@
text
@#	$OpenBSD: Makefile,v 1.8 2017/01/22 08:19:36 jsing Exp $

TEST_CASES+= cipher_list
TEST_CASES+= ssl_versions
TEST_CASES+= tls_ext_alpn
TEST_CASES+= tls_prf

REGRESS_TARGETS= all_tests

WARNINGS=	Yes
LDLIBS=		${SSL_INT} -lcrypto
CFLAGS+=	-DLIBRESSL_INTERNAL -Wall -Wundef -Werror
CFLAGS+=	-I${.CURDIR}/../../../../lib/libssl

CLEANFILES+= ${TEST_CASES}

all_tests: ${TEST_CASES}
	@@for test in $>; do \
		./$$test; \
	done

${TEST_CASES}: ${LIBSSL} ${LIBCRYPTO}

.include <bsd.regress.mk>
@


1.8
log
@Update the TLS ALPN unit tests to work with internal/opaque data.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2016/12/30 16:58:12 jsing Exp $
d6 1
@


1.7
log
@Add regress coverage for enabled protocol version range.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2016/11/04 17:51:54 guenther Exp $
d12 1
@


1.6
log
@Some tests require internal symbols; have them link with the static
libssl or libtls so they can continue to see them after the shared
library namespace is cleaned up

ok jsing@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2016/09/03 16:52:18 bcook Exp $
d4 1
@


1.5
log
@remove unneeded reach-around include
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2016/08/27 16:00:27 jsing Exp $
a7 2
LDADD=	-lcrypto -lssl
DPADD=	${LIBCRYPTO} ${LIBSSL}
d9 1
a9 1
LDFLAGS+=	-lcrypto -lssl
d18 2
@


1.4
log
@Enable ALPN regress now that it passes.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2015/07/13 07:34:50 doug Exp $
d12 1
a12 1
CFLAGS+=	-DLIBRESSL_INTERNAL -Wall -Wundef -Werror -I../../../../lib/libssl/src/ssl
@


1.3
log
@Unhook tls_ext_alpn test until the code passes it.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2015/07/09 07:47:02 doug Exp $
d4 1
a4 3

# These don't pass yet
#TEST_CASES+= tls_ext_alpn
@


1.2
log
@Add tests for parsing TLS extension ALPN (RFC 7301).

The current libssl code does not pass these tests yet.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1 2015/06/27 23:35:52 doug Exp $
d3 4
a6 1
TEST_CASES+= cipher_list tls_ext_alpn
@


1.1
log
@Add unit tests for LibreSSL.

cipher_list.c is based on code from jsing@@.

Discussed with jsing@@
@
text
@d1 1
a1 1
#	$OpenBSD$
d3 1
a3 1
TEST_CASES+= cipher_list
@

