head	1.5;
access;
symbols
	OPENBSD_6_2:1.5.0.16
	OPENBSD_6_2_BASE:1.5
	OPENBSD_6_1:1.5.0.14
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.5.0.10
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.8
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.6
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.4
	OPENBSD_5_6_BASE:1.5;
locks; strict;
comment	@# @;


1.5
date	2014.07.09.11.43.01;	author jsing;	state Exp;
branches;
next	1.4;
commitid	W1SlsY4VR7xjOwwr;

1.4
date	2014.07.08.15.53.52;	author jsing;	state Exp;
branches;
next	1.3;
commitid	SNwTGMs3omAtML1E;

1.3
date	2014.06.01.11.11.46;	author miod;	state Exp;
branches;
next	1.2;
commitid	pprV7mwqPqiWQwba;

1.2
date	2014.05.31.14.39.06;	author jsing;	state Exp;
branches;
next	1.1;

1.1
date	2014.04.17.18.33.22;	author miod;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Rewrite gcm128test as a table-driven regress instead of using defines.
This avoids compiler warnings for always true/false conditionals and makes
the code readable. Also avoid pulling in modes_lcl.h, which should not be
used outside the library.
@
text
@#	$OpenBSD: Makefile,v 1.4 2014/07/08 15:53:52 jsing Exp $

PROG=	gcm128test
LDADD=	-lcrypto
DPADD=	${LIBCRYPTO}
WARNINGS=	Yes
CFLAGS+=	-DLIBRESSL_INTERNAL -Werror

.include <bsd.regress.mk>
@


1.4
log
@Include -DLIBRESSL_INTERNAL in regress makefiles.

ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2014/06/01 11:11:46 miod Exp $
a3 3
SRC=	${.CURDIR}/../../../../lib/libssl/src/crypto/modes
CFLAGS+=-I${SRC}

d6 2
a7 2
#WARNINGS=	Yes
#CFLAGS+=	-DLIBRESSL_INTERNAL -Werror
@


1.3
log
@Build these tests with WARNINGS=Yes and -Werror, and do the necessary
fixes to keep building.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2014/05/31 14:39:06 jsing Exp $
d10 1
a10 1
#CFLAGS+=	-Werror
@


1.2
log
@Move the cts128 and gcm128 tests to regress.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1 2014/04/17 18:33:22 miod Exp $
d9 2
@


1.1
log
@crypto/modes/gcm128.c can be used as its own selftest. Add it to regress,
conveniently leaving the benchmark code not compiled in the test.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1.1.1 2014/04/15 18:01:18 miod Exp $
d3 1
a3 1
PROG=	gcm128
d5 1
a5 3
CFLAGS+=	-DSELFTEST
CFLAGS+=	-I${SRC}
.PATH:	${SRC}
@

