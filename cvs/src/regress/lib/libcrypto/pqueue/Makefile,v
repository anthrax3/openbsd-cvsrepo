head	1.7;
access;
symbols
	OPENBSD_6_0:1.6.0.10
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.8
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.6
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6;
locks; strict;
comment	@# @;


1.7
date	2016.09.02.17.02.53;	author beck;	state Exp;
branches;
next	1.6;
commitid	dUdeyO3lXMWg6IMi;

1.6
date	2014.07.08.15.53.53;	author jsing;	state Exp;
branches;
next	1.5;
commitid	SNwTGMs3omAtML1E;

1.5
date	2014.06.01.11.11.46;	author miod;	state Exp;
branches;
next	1.4;
commitid	pprV7mwqPqiWQwba;

1.4
date	2014.05.15.19.23.14;	author miod;	state Exp;
branches;
next	1.3;

1.3
date	2014.05.12.19.14.14;	author miod;	state Exp;
branches;
next	1.2;

1.2
date	2014.05.06.20.40.26;	author miod;	state Exp;
branches;
next	1.1;

1.1
date	2014.05.06.20.27.19;	author miod;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Make this regress build again
@
text
@#	$OpenBSD: Makefile,v 1.6 2014/07/08 15:53:53 jsing Exp $

PROG=	pq_test
SRC=	${.CURDIR}/../../../../lib/libssl
CFLAGS+=	-I${SRC}

LDADD=	-lssl -lcrypto
DPADD=	${LIBSSL} ${LIBCRYPTO}
WARNINGS=	Yes
CFLAGS+=	-DLIBRESSL_INTERNAL -Werror

REGRESS_TARGETS= regress-pq_test

regress-pq_test: ${PROG}
	${.OBJDIR}/pq_test | cmp -s ${.CURDIR}/expected.txt /dev/stdin

.include <bsd.regress.mk>
@


1.6
log
@Include -DLIBRESSL_INTERNAL in regress makefiles.

ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2014/06/01 11:11:46 miod Exp $
d4 1
a4 1
SRC=	${.CURDIR}/../../../../lib/libssl/src/ssl
@


1.5
log
@Build these tests with WARNINGS=Yes and -Werror, and do the necessary
fixes to keep building.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2014/05/15 19:23:14 miod Exp $
d10 1
a10 1
CFLAGS+=	-Werror
@


1.4
log
@Get pqueue.h from the libssl sources rather than relying upon it being
installed.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2014/05/12 19:14:14 miod Exp $
d9 2
@


1.3
log
@Move the `pqueue' part of libcrypto, which is a glorified sorted linked list
of 64-bit data, and only used by DTLS, to libssl where it belongs.

Remove pqueue_print() which is a debugging interface and serves no useful
purpose, except for the regress test, which grows its own pqueue_print()
routine.

Bump libcrypto major and libssl minor.

WARNING: do not update your tree right now, more changes are coming, which
will ride the libcrypto major bump.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2014/05/06 20:40:26 miod Exp $
d4 2
@


1.2
log
@Make sure the stdout output is check, to confirm proper sorting.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1 2014/05/06 20:27:19 miod Exp $
a3 2
CRYPTO=	${.CURDIR}/../../../../lib/libssl/src/crypto
CFLAGS+= -I${CRYPTO}/pqueue
d5 2
a6 2
LDADD=	-lcrypto
DPADD=	${LIBCRYPTO}
@


1.1
log
@Add a fixed (read: non-SIGSEGV'ing) pq_test.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1 2014/04/17 18:33:22 miod Exp $
d9 5
@

