head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.28
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.24
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.14
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.22
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.20
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.18
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.16
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.12
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.10
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.8
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.6
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.6
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2010.09.24.13.32.55;	author djm;	state Exp;
branches;
next	1.2;

1.2
date	2009.02.18.15.24.55;	author millert;	state Exp;
branches;
next	1.1;

1.1
date	2008.10.01.23.04.36;	author millert;	state Exp;
branches;
next	;


desc
@@


1.3
log
@add a GLOB_KEEPSTAT option that retains a copy of the struct stat
information that is looked up while matching glob(3)s

Keeping this information around can make a big difference when
fetching it is expensive, e.g. in sftp which uses GLOB_ALTDIRFUNC

feedback millert@@ jmc@@

"get it in before the libc crank" deraadt@@
@
text
@[fake/bin/[[:alpha:]]*] <0x0>
fake/bin/cat
fake/bin/chgrp
fake/bin/chio
fake/bin/chmod
fake/bin/cksum
fake/bin/cp
fake/bin/cpio
fake/bin/csh
fake/bin/date
fake/bin/dd
fake/bin/df
fake/bin/domainname
fake/bin/echo
fake/bin/ed
fake/bin/eject
fake/bin/expr
fake/bin/hostname
fake/bin/kill
fake/bin/ksh
fake/bin/ln
fake/bin/ls
fake/bin/md5
fake/bin/mkdir
fake/bin/mt
fake/bin/mv
fake/bin/pax
fake/bin/ps
fake/bin/pwd
fake/bin/rcp
fake/bin/rksh
fake/bin/rm
fake/bin/rmail
fake/bin/rmd160
fake/bin/rmdir
fake/bin/sh
fake/bin/sha1
fake/bin/sha256
fake/bin/sha384
fake/bin/sha512
fake/bin/sleep
fake/bin/stty
fake/bin/sum
fake/bin/sync
fake/bin/systrace
fake/bin/tar
fake/bin/test

[fake/bin/[[:alpha:]]*] <0x4000>
fake/bin/cat 0100644
fake/bin/chgrp 0100644
fake/bin/chio 0100644
fake/bin/chmod 0100644
fake/bin/cksum 0100644
fake/bin/cp 0100644
fake/bin/cpio 0100644
fake/bin/csh 0100644
fake/bin/date 0100644
fake/bin/dd 0100644
fake/bin/df 0100644
fake/bin/domainname 0100644
fake/bin/echo 0100644
fake/bin/ed 0100644
fake/bin/eject 0100644
fake/bin/expr 0100644
fake/bin/hostname 0100644
fake/bin/kill 0100644
fake/bin/ksh 0100644
fake/bin/ln 0100644
fake/bin/ls 0100644
fake/bin/md5 0100644
fake/bin/mkdir 0100644
fake/bin/mt 0100644
fake/bin/mv 0100644
fake/bin/pax 0100644
fake/bin/ps 0100644
fake/bin/pwd 0100644
fake/bin/rcp 0100755
fake/bin/rksh 0100755
fake/bin/rm 0100755
fake/bin/rmail 0100755
fake/bin/rmd160 0100755
fake/bin/rmdir 0100755
fake/bin/sh 0100444
fake/bin/sha1 0100444
fake/bin/sha256 0100444
fake/bin/sha384 0100444
fake/bin/sha512 0100444
fake/bin/sleep 0100444
fake/bin/stty 0100444
fake/bin/sum 0100444
fake/bin/sync 0100444
fake/bin/systrace 0100444
fake/bin/tar 0100711
fake/bin/test 0100711

[fake/bin/rm{,dir,ail}] <0x80>
fake/bin/rm
fake/bin/rmdir
fake/bin/rmail

[fake/bin/sha[[:digit:]]] <0x0>
fake/bin/sha1

[fake/bin/sha[[:digit:]]*] <0x0>
fake/bin/sha1
fake/bin/sha256
fake/bin/sha384
fake/bin/sha512

[fake/bin/ca[a-z]] <0x0>
fake/bin/cat

[fake/b[a-z]*] <0x4000>
fake/bin 0040755

@


1.2
log
@Test to show glob bug introduced with POSIX char class support.
@
text
@d49 48
d113 4
@


1.1
log
@Regress driver for glob(3).  Needs more tests.
@
text
@d62 3
@

