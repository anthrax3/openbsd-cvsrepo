head	1.2;
access;
symbols
	OPENBSD_3_5:1.1.0.4
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.2
	OPENBSD_3_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2004.04.24.13.19.15;	author miod;	state dead;
branches;
next	1.1;

1.1
date	2003.09.01.19.45.28;	author miod;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Look for tests in sys/arch/MACHINE_ARCH as well if necessary; and move the
m88k userland trap tests to its MACHINE_ARCH directory.
@
text
@#	$OpenBSD: Makefile,v 1.1 2003/09/01 19:45:28 miod Exp $

PROG=	trap

.if ${MACHINE_ARCH} != "m88k"
REGRESS_SKIP="yes"
.endif

REGRESS_TARGETS=	do-trap

do-trap:	${PROG}
	sh ${.CURDIR}/testsuite.sh >out 2>&1
	@@if diff -u out ${.CURDIR}/answer; then \
		echo SUCCESS; \
	else \
		echo FAIL; \
		exit 1; \
	fi

.include <bsd.regress.mk>
@


1.1
log
@A simple regression test to catch which trap vectors, when invoked from
userland, will spank the mvme88k kernel by mistake.
The test does not trigger the deadly ones, yet.
@
text
@d1 1
a1 1
#	$OpenBSD$
@

