head	1.25;
access;
symbols
	OPENBSD_6_2_BASE:1.25
	OPENBSD_6_1:1.23.0.4
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.21.0.2
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.19.0.10
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.19.0.8
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.19.0.6
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.4
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.18.0.20
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.18.0.18
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.16
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.14
	OPENBSD_5_0:1.18.0.12
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.10
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.18.0.8
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.4
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.18.0.6
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.2
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.17.0.12
	OPENBSD_4_4_BASE:1.17
	OPENBSD_4_3:1.17.0.10
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.17.0.8
	OPENBSD_4_2_BASE:1.17
	OPENBSD_4_1:1.17.0.6
	OPENBSD_4_1_BASE:1.17
	OPENBSD_4_0:1.17.0.4
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.17.0.2
	OPENBSD_3_9_BASE:1.17
	OPENBSD_3_8:1.16.0.4
	OPENBSD_3_8_BASE:1.16
	OPENBSD_3_7:1.16.0.2
	OPENBSD_3_7_BASE:1.16
	OPENBSD_3_6:1.15.0.2
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.14.0.2
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.12.0.2
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.11.0.4
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.11.0.2
	OPENBSD_3_2_BASE:1.11
	OPENBSD_3_1:1.9.0.2
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.4.0.4
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9:1.4.0.2
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.3.0.10
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.8
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.3.0.6
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.4
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.1.1.1.0.8
	OPENBSD_2_3_BASE:1.1.1.1
	OPENBSD_2_2:1.1.1.1.0.6
	OPENBSD_2_2_BASE:1.1.1.1
	OPENBSD_2_1:1.1.1.1.0.4
	OPENBSD_2_1_BASE:1.1.1.1
	OPENBSD_2_0:1.1.1.1.0.2
	OPENBSD_2_0_BASE:1.1.1.1
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.25
date	2017.05.29.11.59.32;	author sf;	state Exp;
branches;
next	1.24;
commitid	eBQ9edTBMvI7PmW4;

1.24
date	2017.05.29.11.00.04;	author sf;	state Exp;
branches;
next	1.23;
commitid	7ADgZVCKsSwckydx;

1.23
date	2017.01.13.01.33.14;	author bluhm;	state Exp;
branches;
next	1.22;
commitid	Fnujr5zqs4CdXD6a;

1.22
date	2017.01.10.23.16.15;	author bluhm;	state Exp;
branches;
next	1.21;
commitid	gnGyncMdzf0C9TDl;

1.21
date	2016.03.04.14.16.16;	author deraadt;	state Exp;
branches;
next	1.20;
commitid	uiknsfmhjWm5vjtw;

1.20
date	2015.10.14.12.47.07;	author vgross;	state Exp;
branches;
next	1.19;
commitid	MFtGlTqKItkpaRBH;

1.19
date	2013.10.31.01.24.06;	author bluhm;	state Exp;
branches;
next	1.18;

1.18
date	2008.08.22.00.48.33;	author bluhm;	state Exp;
branches;
next	1.17;

1.17
date	2005.12.06.20.18.56;	author pedro;	state Exp;
branches;
next	1.16;

1.16
date	2005.02.24.06.58.36;	author otto;	state Exp;
branches;
next	1.15;

1.15
date	2004.04.24.13.19.12;	author miod;	state Exp;
branches;
next	1.14;

1.14
date	2004.01.31.22.09.32;	author miod;	state Exp;
branches;
next	1.13;

1.13
date	2004.01.29.22.09.57;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2003.07.31.15.56.33;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2002.06.12.19.42.22;	author niklas;	state Exp;
branches;
next	1.10;

1.10
date	2002.06.11.21.55.57;	author provos;	state Exp;
branches;
next	1.9;

1.9
date	2002.03.25.10.56.58;	author fgsch;	state Exp;
branches;
next	1.8;

1.8
date	2002.03.25.09.57.55;	author markus;	state Exp;
branches;
next	1.7;

1.7
date	2002.03.10.23.46.40;	author fgsch;	state Exp;
branches;
next	1.6;

1.6
date	2002.02.23.01.25.11;	author art;	state Exp;
branches;
next	1.5;

1.5
date	2002.02.16.17.38.31;	author art;	state Exp;
branches;
next	1.4;

1.4
date	2001.01.29.02.05.50;	author niklas;	state Exp;
branches;
next	1.3;

1.3
date	98.06.28.18.38.29;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	98.06.28.00.11.35;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.49.34;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.49.34;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.25
log
@Re-add line continuation \ that went missing in the previous commit
@
text
@#	$OpenBSD: Makefile,v 1.24 2017/05/29 11:00:04 sf Exp $
#	$NetBSD: Makefile,v 1.4 1995/04/20 22:41:08 cgd Exp $

SUBDIR=	copy crypto dev ddb ffs fifofs fileops kern \
	net netinet netinet6 nfs ptrace sys uvm
.if exists(arch/${MACHINE}/Makefile)
SUBDIR+= arch/${MACHINE}
.endif
.if exists(arch/${MACHINE_ARCH}/Makefile) && ${MACHINE} != ${MACHINE_ARCH}
SUBDIR+= arch/${MACHINE_ARCH}
.endif

install:

.include <bsd.subdir.mk>
@


1.24
log
@Regress test for sparse files & mmap with different FSs

This test creates a file with a hole in the middle and then checks that
when reading or mmaping the whole file, the data is correct.

This catches the bug introduced by the
"Implement VFS read clustering for MSDOSFS" commit that hat to be
reverted.

For now, we run the test with FAT16, FAT32, FFS

With much advice from bluhm@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.23 2017/01/13 01:33:14 bluhm Exp $
d4 1
a4 1
SUBDIR=	copy crypto dev ddb ffs fifofs fileops kern
@


1.23
log
@Make mount points and makefiles for file system tests consistent.
Link tests to the build.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.22 2017/01/10 23:16:15 bluhm Exp $
d4 2
a5 2
SUBDIR=	copy crypto dev ddb ffs fifofs kern net netinet netinet6 nfs ptrace \
	sys uvm
@


1.22
log
@Cleanup the mount point and vnd devices before and after the test.
Use objdir and curdir correctly.  Link ffs regress to the build.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.21 2016/03/04 14:16:16 deraadt Exp $
d4 2
a5 1
SUBDIR+= copy crypto dev ddb ffs fifofs kern net netinet netinet6 ptrace sys uvm
@


1.21
log
@be more careful determining which regress/sys/arch/XXX directory to
enter; issue came up a dir was deleted containing a obj@@ link
ok millert
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.20 2015/10/14 12:47:07 vgross Exp $
d4 1
a4 1
SUBDIR+= copy crypto ddb fifofs kern net netinet netinet6 ptrace sys uvm dev
@


1.20
log
@add regress tests for automatic port allocation.
- enable ipv4
- leave ipv6 disabled
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.19 2013/10/31 01:24:06 bluhm Exp $
d5 1
a5 1
.if exists(arch/${MACHINE})
d8 1
a8 1
.if exists(arch/${MACHINE_ARCH}) && ${MACHINE} != ${MACHINE_ARCH}
@


1.19
log
@Do not fail the regression tests if python or the scapy package is
not installed.  Print a warning, explain the problem and skip the
test in this case.  Also skip the test if the environment has not
been configured for the remote test target machine.  Fix the Makefile
to run the tests with or without an obj directory.  Finally link
the netinet6 regression tests into the build.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.18 2008/08/22 00:48:33 bluhm Exp $
d4 1
a4 1
SUBDIR+= copy crypto ddb fifofs kern net netinet6 ptrace sys uvm dev
@


1.18
log
@Test the IPv6 address printing of pf_print_host() in net/pf.c.
help and ok mpf
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2005/12/06 20:18:56 pedro Exp $
d4 1
a4 1
SUBDIR+= copy crypto ddb fifofs kern net ptrace sys uvm dev
@


1.17
log
@Remove fdescfs
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 2005/02/24 06:58:36 otto Exp $
d4 1
a4 1
SUBDIR+= copy crypto ddb fifofs kern ptrace sys uvm dev
@


1.16
log
@Add tedu's copy* test, turned into a regress test by me.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 2004/04/24 13:19:12 miod Exp $
d4 1
a4 1
SUBDIR+= copy crypto ddb fdescfs fifofs kern ptrace sys uvm dev
@


1.15
log
@Look for tests in sys/arch/MACHINE_ARCH as well if necessary; and move the
m88k userland trap tests to its MACHINE_ARCH directory.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2004/01/31 22:09:32 miod Exp $
d4 1
a4 1
SUBDIR+= crypto ddb fdescfs fifofs kern ptrace sys uvm dev
@


1.14
log
@Simple unaligned-pc ptrace evil test.

Code initially for sparc from Mark Kettenis, KNF and other architectures
snippets by yours truly.

Regress at your own risc on sparc and m68060 for now.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2004/01/29 22:09:57 millert Exp $
d7 3
@


1.13
log
@Add fifofs regress (currently fails)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2003/07/31 15:56:33 deraadt Exp $
d4 1
a4 1
SUBDIR+= crypto ddb fdescfs fifofs kern sys uvm dev
@


1.12
log
@go deeper
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2002/06/12 19:42:22 niklas Exp $
d4 1
a4 1
SUBDIR+= crypto ddb fdescfs kern sys uvm dev
@


1.11
log
@Add ddb subdir, and alphabeticize them
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2002/06/11 21:55:57 provos Exp $
d4 1
a4 1
SUBDIR+= crypto ddb fdescfs kern sys uvm
@


1.10
log
@splay regression test
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2002/03/25 10:56:58 fgsch Exp $
d4 1
a4 1
SUBDIR+= kern fdescfs uvm crypto sys
@


1.9
log
@disable miscfs for now (ever?).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2002/03/25 09:57:55 markus Exp $
d4 1
a4 1
SUBDIR+= kern fdescfs uvm crypto
@


1.8
log
@enable crypto
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2002/03/10 23:46:40 fgsch Exp $
d4 1
a4 1
SUBDIR+= kern fdescfs miscfs uvm crypto
@


1.7
log
@enable fifofs restarting on signal test.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2002/02/23 01:25:11 art Exp $
d4 1
a4 1
SUBDIR+= kern fdescfs miscfs uvm
@


1.6
log
@no more need to explicitly specify regress: _SUBDIRUSE targets anymore.
XXX - what about the install targets?
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2002/02/16 17:38:31 art Exp $
d4 1
a4 1
SUBDIR+= kern fdescfs uvm
@


1.5
log
@traverse down into fdescfs and uvm
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2001/01/29 02:05:50 niklas Exp $
a7 2

regress: _SUBDIRUSE
@


1.4
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1995/04/20 22:41:08 cgd Exp $
d4 1
a4 1
SUBDIR+= kern
@


1.3
log
@fix Makefiles
@
text
@d1 1
@


1.2
log
@copy from netbsd...
@
text
@d3 1
a3 1
SUBDIR+= kern unfdpass
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
SUBDIR+= kern
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
