head	1.4;
access;
symbols
	OPENBSD_6_1:1.3.0.10
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.6
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.42
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.40
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.38
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.34
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.32
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.30
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.28
	OPENBSD_5_0:1.2.0.26
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.24
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.22
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.18
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.20
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.16
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.14
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.12
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.10
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.8
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.6
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.4
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2017.07.25.12.49.29;	author bluhm;	state Exp;
branches;
next	1.3;
commitid	mF07lSGCIg2wuJOW;

1.3
date	2015.06.29.19.56.58;	author miod;	state Exp;
branches;
next	1.2;
commitid	o5J9l5GSFblALvt8;

1.2
date	2005.04.22.00.37.58;	author miod;	state Exp;
branches;
next	1.1;

1.1
date	2005.04.21.17.45.54;	author miod;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Do not remove files from CVS tree during make clean.
@
text
@# $OpenBSD: Makefile,v 1.3 2015/06/29 19:56:58 miod Exp $
# $NetBSD: Makefile,v 1.5 2002/09/18 04:16:02 lukem Exp $

PROG=		extest
SRCS=		extest.c subr_extent.c
CPPFLAGS+=	-D_EXTENT_TESTING -DDIAGNOSTIC
CLEANFILES+=	extest.c extest.out

.PATH:		${.CURDIR}/../../../../sys/kern

REGRESS_TARGETS=	do-extent

MINUSONE!=	awk 'BEGIN{printf("%lx\n",-1)}' < /dev/null

do-extent: ${PROG}
	./${PROG} >extest.out
	sed -n 's/ffffffffffffffff/${MINUSONE}/;5,$$p' ${.CURDIR}/extest.exp |\
	    diff - extest.out

extest.c: extest.awk tests
	awk -f ${.CURDIR}/extest.awk <${.CURDIR}/tests >extest.c

.include <bsd.regress.mk>
@


1.3
log
@Make this pass again on 32-bit platforms.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/04/22 00:37:58 miod Exp $
d7 1
a7 1
CLEANFILES+=	extest.c extest.out extest.exp
a15 1
	sed 's/ffffffffffffffff/${MINUSONE}/' < ${.CURDIR}/extest.exp > extest.exp
d17 2
a18 1
	tail +5 extest.exp | diff - extest.out
@


1.2
log
@Use REGRESS_TARGETS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2005/04/21 17:45:54 miod Exp $
d7 1
a7 1
CLEANFILES+=	extest.c extest.out
d13 2
d16 1
d18 1
a18 1
	tail +5 ${.CURDIR}/extest.exp | diff - extest.out
@


1.1
log
@Add a regression test for the extent subroutines; from NetBSD.
@
text
@d1 1
a1 1
# $OpenBSD$
d11 3
a13 1
regress: ${PROG}
@

