head	1.2;
access;
symbols
	OPENBSD_6_1:1.1.0.14
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.10
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.8
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.6
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2017.07.13.00.29.14;	author bluhm;	state Exp;
branches;
next	1.1;
commitid	RqVnzTUaj3FcNMpi;

1.1
date	2014.06.23.21.10.03;	author matthew;	state Exp;
branches;
next	;
commitid	wkQaTzWNTKtHb7YT;


desc
@@


1.2
log
@Improve error messages of siginfo-fault regress to make clear which
tests fail.  First run all checks and report problmes, finally exit
with the total number of failures.  Unfortunately it still fails.
@
text
@#	$OpenBSD: Makefile,v 1.1 2014/06/23 21:10:03 matthew Exp $

PROG=	siginfo-fault
CFLAGS=	-Wall

.include <bsd.regress.mk>
@


1.1
log
@Add regress test for SIGSEGV and SIGBUS siginfo semantics.

According to POSIX, SIGSEGV should specify SEGV_ACCERR if the memory
pages are mapped, but the protections don't match the user's access
attempts, while SEGV_MAPERR should only be specified for pages that
are unmapped.  Some platforms currently handle this correctly, but not
all.

Additionally, SIGBUS/BUS_ADRERR should be generated instead of SIGSEGV
for access to file mapped pages that exceed the end of the file.
(Thanks to kettenis@@ for suggesting this test.)

Currently failing, so not linked into the regress tree yet.
@
text
@d1 1
a1 1
#	$OpenBSD$
d4 1
@

