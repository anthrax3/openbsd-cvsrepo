head	1.4;
access;
symbols;
locks; strict;
comment	@# @;


1.4
date	2002.08.31.22.56.01;	author mickey;	state dead;
branches;
next	1.3;

1.3
date	2002.07.26.01.52.02;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	2002.07.26.01.32.07;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2002.07.01.18.15.51;	author mickey;	state Exp;
branches;
next	;


desc
@@


1.4
log
@a combined non-exec test set.
allows reusing same testing code for:
- text & mprotect (not finished, not enabled);
- data, data & mprotect;
- bss, bss & mprotect;
- heap, heap & mprotect;
- stack, stack & mprotect.
also a test for mmaping pages in those areas
and see how it allows execution (suggested by art@@),
not enabled yet.
all tested on i386 and hppa.
@
text
@#	$OpenBSD: Makefile,v 1.3 2002/07/26 01:52:02 deraadt Exp $

.if ${MACHINE} == "sparc64" || ${MACHINE} == "sparc" || \
    ${MACHINE} == "alpha" || ${MACHINE} == "macppc" || \
    ${MACHINE} == "mvmeppc" || ${MACHINE} == "i386" || \
    ${MACHINE} == "hppa"

PROG=	nxstack
LDSTATIC= ${STATIC}

.else
REGRESSTARGETS=		# this architecture has no test for this
.endif

.include <bsd.regress.mk>
@


1.3
log
@and hppa
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2002/07/26 01:32:07 deraadt Exp $
@


1.2
log
@regress these only on the architectures where they are expected to work
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1 2002/07/01 18:15:51 mickey Exp $
d5 2
a6 1
    ${MACHINE} == "mvmeppc" || ${MACHINE} == "i386"
@


1.1
log
@a test to see if stack is executable
@
text
@d1 5
a5 1
#	$OpenBSD$
d9 4
@

