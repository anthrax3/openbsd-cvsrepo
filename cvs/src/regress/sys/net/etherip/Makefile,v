head	1.2;
access;
symbols
	OPENBSD_6_1_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2016.10.10.18.25.26;	author bluhm;	state Exp;
branches;
next	1.1;
commitid	AuAV3pgw6qrRG7Or;

1.1
date	2016.10.07.02.06.57;	author yasuoka;	state Exp;
branches;
next	;
commitid	zahSSewIxE6aFODU;


desc
@@


1.2
log
@Move check for sysctl settings from shell script to makefile to
handle skipping consistently like other tests.
@
text
@#	$OpenBSD: Makefile,v 1.1 2016/10/07 02:06:57 yasuoka Exp $

SYSCTL_ETHERIP !=	sysctl net.inet.etherip.allow

.if ${SYSCTL_ETHERIP:C/.*=//} != 1
regress:
	@@echo "${SYSCTL_ETHERIP}"
	@@echo set this sysctl to 1 for additional tests
	@@echo SKIPPED
.endif

REGRESS_TARGETS=	etherip_1
REGRESS_ROOT_TARGETS=	etherip_1

RDOMAINS=		11 12
IFACE_NUMS=		11 12

etherip_1:
	${SUDO} ksh ${.CURDIR}/$@@.sh -R "${RDOMAINS}" -I "${IFACE_NUMS}"

.include <bsd.regress.mk>
@


1.1
log
@Add simple regress test for vxlan(4) and etherip(4).

ok bluhm
@
text
@d1 10
a10 1
#	$OpenBSD$
@

