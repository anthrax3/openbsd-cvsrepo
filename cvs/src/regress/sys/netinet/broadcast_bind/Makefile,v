head	1.2;
access;
symbols
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.8
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.4
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2015.12.02.20.45.00;	author mpi;	state Exp;
branches;
next	1.1;
commitid	4kCnMWdG3OHwNaOY;

1.1
date	2015.10.27.16.05.54;	author vgross;	state Exp;
branches;
next	;
commitid	H4e4TJIG3keEGchR;


desc
@@


1.2
log
@KNF and use ${SUDO} when needed.

ok vgross@@
@
text
@# $OpenBSD: Makefile,v 1.1 2015/10/27 16:05:54 vgross Exp $

PROG	 = broadcast_bind
IFACE	 = vether11
INSFX	!= jot -s '.' -r 2 0 255
INADDR	 = 10.${INSFX}.11
BADADDR	 = 10.${INSFX}.22
BCADDR	 = 10.${INSFX}.255

run-regress-broadcast_bind: ${PROG}
	${SUDO} ifconfig ${IFACE} create
	${SUDO} ifconfig ${IFACE} inet ${INADDR}/24 up
	${.OBJDIR}/broadcast_bind ${INADDR} ${BADADDR} ${BCADDR}
	${SUDO} ifconfig ${IFACE} destroy

.include <bsd.regress.mk>
@


1.1
log
@add regress test on bind(2)ing with broadcast and inexistant addresses
@
text
@d1 1
a1 1
# $OpenBSD$
d11 2
a12 2
	ifconfig ${IFACE} create
	ifconfig ${IFACE} inet ${INADDR}/24 up
d14 1
a14 1
	ifconfig ${IFACE} destroy
@

