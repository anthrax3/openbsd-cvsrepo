head	1.5;
access;
symbols
	OPENBSD_6_2_BASE:1.5
	OPENBSD_6_1:1.5.0.24
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.5.0.20
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.10
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.18
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.16
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.14
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.12
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.8
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.6
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.4
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.3.0.6
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.4
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.20
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.16
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.14
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.12
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.10
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.8
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.6
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.4
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.1.0.2
	OPENBSD_3_7_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2011.12.12.23.44.40;	author mikeb;	state Exp;
branches;
next	1.4;

1.4
date	2011.07.08.06.17.58;	author mcbride;	state Exp;
branches;
next	1.3;

1.3
date	2010.01.13.01.08.38;	author mcbride;	state Exp;
branches;
next	1.2;

1.2
date	2005.05.22.21.24.42;	author camield;	state Exp;
branches;
next	1.1;

1.1
date	2004.10.01.23.19.17;	author mcbride;	state Exp;
branches;
next	;


desc
@@


1.5
log
@update regression tests wrt skip steps (fixed in pfctl.c rev1.305);
ok henning mcbride (a while back)
@
text
@@@0 match out on lo0 inet from 192.168.1.1 to any nat-to 10.0.0.1 static-port
  [ Skip steps: i=82 r=end f=40 p=2 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@1 match in on lo0 inet from any to 10.0.0.1 rdr-to 192.168.1.1
  [ Skip steps: i=82 r=end f=40 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@2 match out on lo0 inet proto tcp from 192.168.1.2 to any nat-to 10.0.0.2 static-port
  [ Skip steps: i=82 r=end f=40 p=4 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@3 match in on lo0 inet proto tcp from any to 10.0.0.2 rdr-to 192.168.1.2
  [ Skip steps: i=82 r=end f=40 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@4 match out on lo0 inet proto udp from 192.168.1.3 to any nat-to 10.0.0.3 static-port
  [ Skip steps: i=82 r=end f=40 p=6 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@5 match in on lo0 inet proto udp from any to 10.0.0.3 rdr-to 192.168.1.3
  [ Skip steps: i=82 r=end f=40 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@6 match out on lo0 inet proto icmp from 192.168.1.4 to any nat-to 10.0.0.4 static-port
  [ Skip steps: i=82 r=end f=40 p=8 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@7 match in on lo0 inet proto icmp from any to 10.0.0.4 rdr-to 192.168.1.4
  [ Skip steps: i=82 r=end f=40 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@8 match out on lo0 inet from 192.168.1.5 to 172.16.1.1 nat-to 10.0.0.5 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@9 match in on lo0 inet from 172.16.1.1 to 10.0.0.5 rdr-to 192.168.1.5
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@10 match out on lo0 inet from 192.168.1.6 to 172.16.1.2 nat-to 10.0.0.6 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@11 match in on lo0 inet from 172.16.1.2 to 10.0.0.6 rdr-to 192.168.1.6
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@12 match out on lo0 inet from 192.168.1.7 to 172.16.2.0/24 nat-to 10.0.0.7 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@13 match in on lo0 inet from 172.16.2.0/24 to 10.0.0.7 rdr-to 192.168.1.7
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@14 match out on lo0 inet from 192.168.2.0/24 to any nat-to 10.0.5.0/24 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@15 match in on lo0 inet from any to 10.0.5.0/24 rdr-to 192.168.2.0/24
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@16 match out on lo0 inet from 192.168.2.0/28 to any nat-to 10.0.4.0/28 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@17 match in on lo0 inet from any to 10.0.4.0/28 rdr-to 192.168.2.0/28
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@18 match out on lo0 inet from 192.168.2.0/30 to 192.168.3.1 nat-to 10.0.3.0/30 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@19 match in on lo0 inet from 192.168.3.1 to 10.0.3.0/30 rdr-to 192.168.2.0/30
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@20 match out on lo0 inet from 192.168.1.8 to ! 172.17.0.0/16 nat-to 10.0.0.8 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@21 match in on lo0 inet from ! 172.17.0.0/16 to 10.0.0.8 rdr-to 192.168.1.8
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@22 match out on lo0 inet from 1.1.1.1 to no-route nat-to 2.2.2.2 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@23 match in on lo0 inet from no-route to 2.2.2.2 rdr-to 1.1.1.1
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@24 match out on lo0 inet from (lo0:0:1) to 1.1.1.1 nat-to 2.2.2.2 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@25 match in on lo0 inet from 1.1.1.1 to 2.2.2.2 rdr-to (lo0:0:1)
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@26 match out on lo0 inet from (lo0:0:1) to 1.1.1.1 nat-to (lo1000000:0:*) static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@27 match in on lo0 inet from 1.1.1.1 to (lo1000000:0:*) rdr-to (lo0:0:1)
  [ Skip steps: i=82 r=end f=40 p=end da=30 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@28 match out on lo0 inet from (lo0:0:1) to (lo1000000:0:*) nat-to (lo1000000:0:*) static-port
  [ Skip steps: i=82 r=end f=40 p=end da=30 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@29 match in on lo0 inet from (lo1000000:0:*) to (lo1000000:0:*) rdr-to (lo0:0:1)
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@30 match out on lo0 inet from 1.1.1.1 to <sometable:*> nat-to 2.2.2.2 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@31 match in on lo0 inet from <sometable:*> to 2.2.2.2 rdr-to 1.1.1.1
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@32 match out on lo0 inet from 1.1.1.1 to ! <sometable:*> nat-to 2.2.2.2 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@33 match in on lo0 inet from ! <sometable:*> to 2.2.2.2 rdr-to 1.1.1.1
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@34 match out on lo0 inet from 1.1.1.1 to (lo1000000:0:*) nat-to 2.2.2.2 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@35 match in on lo0 inet from (lo1000000:0:*) to 2.2.2.2 rdr-to 1.1.1.1
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@36 match out on lo0 inet from 1.1.1.1 to ! (lo1000000:0:*) nat-to 2.2.2.2 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@37 match in on lo0 inet from ! (lo1000000:0:*) to 2.2.2.2 rdr-to 1.1.1.1
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@38 match out on lo0 inet from (lo0:0:1) to <sometable:*> nat-to 2.2.2.2 static-port
  [ Skip steps: i=82 r=end f=40 p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@39 match in on lo0 inet from <sometable:*> to 2.2.2.2 rdr-to (lo0:0:1)
  [ Skip steps: i=82 r=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@40 match out on lo0 inet6 from ::1 to no-route nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@41 match in on lo0 inet6 from no-route to ::2 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@42 match out on lo0 inet6 from (lo0:0:1) to ::1 nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@43 match in on lo0 inet6 from ::1 to ::2 rdr-to (lo0:0:1)
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@44 match out on lo0 inet6 from (lo0:0:1) to ::1 nat-to (lo1000000:0:*) static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@45 match in on lo0 inet6 from ::1 to (lo1000000:0:*) rdr-to (lo0:0:1)
  [ Skip steps: i=82 r=end f=end p=end da=48 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@46 match out on lo0 inet6 from (lo0:0:1) to (lo1000000:0:*) nat-to (lo1000000:0:*) static-port
  [ Skip steps: i=82 r=end f=end p=end da=48 sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@47 match in on lo0 inet6 from (lo1000000:0:*) to (lo1000000:0:*) rdr-to (lo0:0:1)
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@48 match out on lo0 inet6 from ::1 to <sometable:*> nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@49 match in on lo0 inet6 from <sometable:*> to ::2 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@50 match out on lo0 inet6 from ::1 to ! <sometable:*> nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@51 match in on lo0 inet6 from ! <sometable:*> to ::2 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@52 match out on lo0 inet6 from ::1 to (lo1000000:0:*) nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@53 match in on lo0 inet6 from (lo1000000:0:*) to ::2 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@54 match out on lo0 inet6 from ::1 to ! (lo1000000:0:*) nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@55 match in on lo0 inet6 from ! (lo1000000:0:*) to ::2 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@56 match out on lo0 inet6 from (lo0:0:1) to <sometable:*> nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@57 match in on lo0 inet6 from <sometable:*> to ::2 rdr-to (lo0:0:1)
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@58 match out on lo0 inet6 from ::1 to (lo0:2) nat-to ::1 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@59 match in on lo0 inet6 from (lo0:2) to ::1 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@60 match out on lo0 inet6 from ::1 to (lo0:0:1) nat-to ::1 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@61 match in on lo0 inet6 from (lo0:0:1) to ::1 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@62 match out on lo0 inet6 from ::1 to (lo0:peer:*) nat-to ::1 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@63 match in on lo0 inet6 from (lo0:peer:*) to ::1 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@64 match out on lo0 inet6 from ::1 to (lo0:peer:0:*) nat-to ::1 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@65 match in on lo0 inet6 from (lo0:peer:0:*) to ::1 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@66 match out on lo0 inet6 from ::1 to (lo0:broadcast:*) nat-to ::1 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@67 match in on lo0 inet6 from (lo0:broadcast:*) to ::1 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@68 match out on lo0 inet6 from ::1 to (lo0:broadcast:0:*) nat-to ::1 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@69 match in on lo0 inet6 from (lo0:broadcast:0:*) to ::1 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@70 match out on lo0 inet6 from ::1 to (lo0:network:1) nat-to ::1 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@71 match in on lo0 inet6 from (lo0:network:1) to ::1 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@72 match out on lo0 inet6 from ::1 to (lo0:network:0:1) nat-to ::1 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@73 match in on lo0 inet6 from (lo0:network:0:1) to ::1 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@74 match out on lo0 inet6 from ::1 to (lo0:2)/100 nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@75 match in on lo0 inet6 from (lo0:2)/100 to ::2 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@76 match out on lo0 inet6 from ::1 to (lo0:0:1)/100 nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@77 match in on lo0 inet6 from (lo0:0:1)/100 to ::2 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@78 match out on lo0 inet6 from ::1 to (lo0:peer:*)/100 nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@79 match in on lo0 inet6 from (lo0:peer:*)/100 to ::2 rdr-to ::1
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@80 match out on lo0 inet6 from ::1 to (lo0:peer:0:*)/100 nat-to ::2 static-port
  [ Skip steps: i=82 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@81 match in on lo0 inet6 from (lo0:peer:0:*)/100 to ::2 rdr-to ::1
  [ Skip steps: r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@82 match out on lo inet6 from (lo0:0:1) to ::1 nat-to ::2 static-port
  [ Skip steps: i=84 r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@83 match in on lo inet6 from ::1 to ::2 rdr-to (lo0:0:1)
  [ Skip steps: r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@84 match out on tun inet6 from (lo0:0:1) to ::1 nat-to ::2 static-port
  [ Skip steps: i=end r=end f=end p=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@@85 match in on tun inet6 from ::1 to ::2 rdr-to (lo0:0:1)
  [ Skip steps: i=end d=end r=end f=end p=end sa=end da=end sp=end dp=end ]
  [ queue: qname= qid=0 pqname= pqid=0 ]
  [ Evaluations: 0         Packets: 0         Bytes: 0           States: 0     ]
@


1.4
log
@Update regress tests for the following changes:
- if_addr RB_TREE (Address sort differently on an interface)
- skip steps changes
	- RDOMAIN
	- reordering of address/port tests
- fastroute is gone
- keep state is no longer printed by default
- lo0 now has link-local scope address in addition to ::1
@
text
@d2 1
a2 1
  [ Skip steps: i=82 d=end f=40 p=2 sp=end dp=end ]
d6 1
a6 1
  [ Skip steps: i=82 d=end f=40 sp=end dp=end ]
d10 1
a10 1
  [ Skip steps: i=82 d=end f=40 p=4 sp=end dp=end ]
d14 1
a14 1
  [ Skip steps: i=82 d=end f=40 sp=end dp=end ]
d18 1
a18 1
  [ Skip steps: i=82 d=end f=40 p=6 sp=end dp=end ]
d22 1
a22 1
  [ Skip steps: i=82 d=end f=40 sp=end dp=end ]
d26 1
a26 1
  [ Skip steps: i=82 d=end f=40 p=8 sp=end dp=end ]
d30 1
a30 1
  [ Skip steps: i=82 d=end f=40 sp=end dp=end ]
d34 1
a34 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d38 1
a38 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d42 1
a42 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d46 1
a46 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d50 1
a50 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d54 1
a54 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d58 1
a58 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d62 1
a62 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d66 1
a66 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d70 1
a70 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d74 1
a74 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d78 1
a78 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d82 1
a82 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d86 1
a86 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d90 1
a90 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d94 1
a94 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d98 1
a98 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d102 1
a102 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d106 1
a106 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d110 1
a110 1
  [ Skip steps: i=82 d=end f=40 p=end da=30 sp=end dp=end ]
d114 1
a114 1
  [ Skip steps: i=82 d=end f=40 p=end da=30 sp=end dp=end ]
d118 1
a118 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d122 1
a122 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d126 1
a126 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d130 1
a130 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d134 1
a134 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d138 1
a138 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d142 1
a142 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d146 1
a146 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d150 1
a150 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d154 1
a154 1
  [ Skip steps: i=82 d=end f=40 p=end sp=end dp=end ]
d158 1
a158 1
  [ Skip steps: i=82 d=end p=end sp=end dp=end ]
d162 1
a162 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d166 1
a166 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d170 1
a170 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d174 1
a174 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d178 1
a178 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d182 1
a182 1
  [ Skip steps: i=82 d=end f=end p=end da=48 sp=end dp=end ]
d186 1
a186 1
  [ Skip steps: i=82 d=end f=end p=end da=48 sp=end dp=end ]
d190 1
a190 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d194 1
a194 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d198 1
a198 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d202 1
a202 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d206 1
a206 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d210 1
a210 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d214 1
a214 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d218 1
a218 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d222 1
a222 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d226 1
a226 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d230 1
a230 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d234 1
a234 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d238 1
a238 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d242 1
a242 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d246 1
a246 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d250 1
a250 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d254 1
a254 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d258 1
a258 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d262 1
a262 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d266 1
a266 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d270 1
a270 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d274 1
a274 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d278 1
a278 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d282 1
a282 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d286 1
a286 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d290 1
a290 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d294 1
a294 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d298 1
a298 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d302 1
a302 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d306 1
a306 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d310 1
a310 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d314 1
a314 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d318 1
a318 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d322 1
a322 1
  [ Skip steps: i=82 d=end f=end p=end sp=end dp=end ]
d326 1
a326 1
  [ Skip steps: d=end f=end p=end sp=end dp=end ]
d330 1
a330 1
  [ Skip steps: i=84 d=end f=end p=end sp=end dp=end ]
d334 1
a334 1
  [ Skip steps: d=end f=end p=end sp=end dp=end ]
d338 1
a338 1
  [ Skip steps: i=end d=end f=end p=end sp=end dp=end ]
d342 1
a342 1
  [ Skip steps: i=end r=end d=end f=end p=end sa=end da=end sp=end dp=end ]
@


1.3
log
@Update regress output files to -current behaviour
- non-pool translation/routing specification
- leftover bits from nat-to/rdr-to/binat-to
@
text
@d2 1
a2 1
  [ Skip steps: i=82 f=40 p=2 sp=end dp=end ]
d6 1
a6 1
  [ Skip steps: i=82 f=40 sp=end dp=end ]
d10 1
a10 1
  [ Skip steps: i=82 f=40 p=4 sp=end dp=end ]
d14 1
a14 1
  [ Skip steps: i=82 f=40 sp=end dp=end ]
d18 1
a18 1
  [ Skip steps: i=82 f=40 p=6 sp=end dp=end ]
d22 1
a22 1
  [ Skip steps: i=82 f=40 sp=end dp=end ]
d26 1
a26 1
  [ Skip steps: i=82 f=40 p=8 sp=end dp=end ]
d30 1
a30 1
  [ Skip steps: i=82 f=40 sp=end dp=end ]
d34 1
a34 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d38 1
a38 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d42 1
a42 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d46 1
a46 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d50 1
a50 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d54 1
a54 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d58 1
a58 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d62 1
a62 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d66 1
a66 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d70 1
a70 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d74 1
a74 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d78 1
a78 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d82 1
a82 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d86 1
a86 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d90 1
a90 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d94 1
a94 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d98 1
a98 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d102 1
a102 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d106 1
a106 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d110 1
a110 1
  [ Skip steps: i=82 f=40 p=end sp=end da=30 dp=end ]
d114 1
a114 1
  [ Skip steps: i=82 f=40 p=end sp=end da=30 dp=end ]
d118 1
a118 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d122 1
a122 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d126 1
a126 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d130 1
a130 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d134 1
a134 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d138 1
a138 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d142 1
a142 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d146 1
a146 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d150 1
a150 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d154 1
a154 1
  [ Skip steps: i=82 f=40 p=end sp=end dp=end ]
d158 1
a158 1
  [ Skip steps: i=82 p=end sp=end dp=end ]
d162 1
a162 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d166 1
a166 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d170 1
a170 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d174 1
a174 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d178 1
a178 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d182 1
a182 1
  [ Skip steps: i=82 f=end p=end sp=end da=48 dp=end ]
d186 1
a186 1
  [ Skip steps: i=82 f=end p=end sp=end da=48 dp=end ]
d190 1
a190 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d194 1
a194 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d198 1
a198 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d202 1
a202 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d206 1
a206 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d210 1
a210 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d214 1
a214 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d218 1
a218 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d222 1
a222 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d226 1
a226 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d230 1
a230 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d234 1
a234 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d238 1
a238 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d242 1
a242 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d246 1
a246 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d250 1
a250 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d254 1
a254 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d258 1
a258 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d262 1
a262 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d266 1
a266 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d270 1
a270 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d274 1
a274 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d278 1
a278 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d282 1
a282 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d286 1
a286 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d290 1
a290 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d294 1
a294 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d298 1
a298 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d302 1
a302 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d306 1
a306 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d310 1
a310 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d314 1
a314 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d318 1
a318 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d322 1
a322 1
  [ Skip steps: i=82 f=end p=end sp=end dp=end ]
d326 1
a326 1
  [ Skip steps: f=end p=end sp=end dp=end ]
d330 1
a330 1
  [ Skip steps: i=84 f=end p=end sp=end dp=end ]
d334 1
a334 1
  [ Skip steps: f=end p=end sp=end dp=end ]
d338 1
a338 1
  [ Skip steps: i=end f=end p=end sp=end dp=end ]
d342 1
a342 1
  [ Skip steps: i=end d=end f=end p=end sa=end sp=end da=end dp=end ]
@


1.2
log
@sync optimized versions as well

ok henning@@
@
text
@d1 2
a2 2
@@0 no binat on lo0 inet from 192.168.1.1 to 10.1.2.3
  [ Skip steps: i=42 d=end f=21 p=2 sa=2 sp=end dp=end ]
d5 2
a6 2
@@1 binat on lo0 inet from 192.168.1.1 to any -> 10.0.0.1
  [ Skip steps: i=42 d=end f=21 sp=end da=5 dp=end ]
d9 2
a10 2
@@2 binat on lo0 inet proto tcp from 192.168.1.2 to any -> 10.0.0.2
  [ Skip steps: i=42 d=end f=21 sp=end da=5 dp=end ]
d13 2
a14 2
@@3 binat on lo0 inet proto udp from 192.168.1.3 to any -> 10.0.0.3
  [ Skip steps: i=42 d=end f=21 sp=end da=5 dp=end ]
d17 2
a18 2
@@4 binat on lo0 inet proto icmp from 192.168.1.4 to any -> 10.0.0.4
  [ Skip steps: i=42 d=end f=21 sp=end dp=end ]
d21 2
a22 2
@@5 binat on lo0 inet from 192.168.1.5 to 172.16.1.1 -> 10.0.0.5
  [ Skip steps: i=42 d=end f=21 p=end sp=end dp=end ]
d25 2
a26 2
@@6 binat on lo0 inet from 192.168.1.6 to 172.16.1.2 -> 10.0.0.6
  [ Skip steps: i=42 d=end f=21 p=end sp=end dp=end ]
d29 2
a30 2
@@7 binat on lo0 inet from 192.168.1.7 to 172.16.2.0/24 -> 10.0.0.7
  [ Skip steps: i=42 d=end f=21 p=end sp=end dp=end ]
d33 2
a34 2
@@8 binat on lo0 inet from 192.168.2.0/24 to any -> 10.0.5.0/24
  [ Skip steps: i=42 d=end f=21 p=end sp=end da=10 dp=end ]
d37 2
a38 2
@@9 binat on lo0 inet from 192.168.2.0/28 to any -> 10.0.4.0/28
  [ Skip steps: i=42 d=end f=21 p=end sp=end dp=end ]
d41 2
a42 2
@@10 binat on lo0 inet from 192.168.2.0/30 to 192.168.3.1 -> 10.0.3.0/30
  [ Skip steps: i=42 d=end f=21 p=end sp=end dp=end ]
d45 2
a46 2
@@11 binat on lo0 inet from 192.168.1.8 to ! 172.17.0.0/16 -> 10.0.0.8
  [ Skip steps: i=42 d=end f=21 p=end sp=end dp=end ]
d49 2
a50 2
@@12 binat on lo0 inet from 1.1.1.1 to no-route -> 2.2.2.2
  [ Skip steps: i=42 d=end f=21 p=end sp=end dp=end ]
d53 2
a54 2
@@13 binat on lo0 inet from (lo0:0:1) to 1.1.1.1 -> 2.2.2.2
  [ Skip steps: i=42 d=end f=21 p=end sa=16 sp=end da=15 dp=end ]
d57 2
a58 2
@@14 binat on lo0 inet from (lo0:0:1) to 1.1.1.1 -> (lo1000000:0)
  [ Skip steps: i=42 d=end f=21 p=end sa=16 sp=end dp=end ]
d61 2
a62 2
@@15 binat on lo0 inet from (lo0:0:1) to (lo1000000:0:*) -> (lo1000000:0)
  [ Skip steps: i=42 d=end f=21 p=end sp=end dp=end ]
d65 2
a66 2
@@16 binat on lo0 inet from 1.1.1.1 to <sometable:*> -> 2.2.2.2
  [ Skip steps: i=42 d=end f=21 p=end sa=20 sp=end dp=end ]
d69 2
a70 2
@@17 binat on lo0 inet from 1.1.1.1 to ! <sometable:*> -> 2.2.2.2
  [ Skip steps: i=42 d=end f=21 p=end sa=20 sp=end dp=end ]
d73 2
a74 2
@@18 binat on lo0 inet from 1.1.1.1 to (lo1000000:0:*) -> 2.2.2.2
  [ Skip steps: i=42 d=end f=21 p=end sa=20 sp=end dp=end ]
d77 2
a78 2
@@19 binat on lo0 inet from 1.1.1.1 to ! (lo1000000:0:*) -> 2.2.2.2
  [ Skip steps: i=42 d=end f=21 p=end sp=end dp=end ]
d81 2
a82 2
@@20 binat on lo0 inet from (lo0:0:1) to <sometable:*> -> 2.2.2.2
  [ Skip steps: i=42 d=end p=end sp=end dp=end ]
d85 2
a86 2
@@21 binat on lo0 inet6 from ::1 to no-route -> ::2
  [ Skip steps: i=42 d=end f=end p=end sp=end dp=end ]
d89 2
a90 2
@@22 binat on lo0 inet6 from (lo0:0:1) to ::1 -> ::2
  [ Skip steps: i=42 d=end f=end p=end sa=25 sp=end da=24 dp=end ]
d93 2
a94 2
@@23 binat on lo0 inet6 from (lo0:0:1) to ::1 -> (lo1000000:0)
  [ Skip steps: i=42 d=end f=end p=end sa=25 sp=end dp=end ]
d97 2
a98 2
@@24 binat on lo0 inet6 from (lo0:0:1) to (lo1000000:0:*) -> (lo1000000:0)
  [ Skip steps: i=42 d=end f=end p=end sp=end dp=end ]
d101 2
a102 2
@@25 binat on lo0 inet6 from ::1 to <sometable:*> -> ::2
  [ Skip steps: i=42 d=end f=end p=end sa=29 sp=end dp=end ]
d105 2
a106 2
@@26 binat on lo0 inet6 from ::1 to ! <sometable:*> -> ::2
  [ Skip steps: i=42 d=end f=end p=end sa=29 sp=end dp=end ]
d109 2
a110 2
@@27 binat on lo0 inet6 from ::1 to (lo1000000:0:*) -> ::2
  [ Skip steps: i=42 d=end f=end p=end sa=29 sp=end dp=end ]
d113 2
a114 2
@@28 binat on lo0 inet6 from ::1 to ! (lo1000000:0:*) -> ::2
  [ Skip steps: i=42 d=end f=end p=end sp=end dp=end ]
d117 2
a118 2
@@29 binat on lo0 inet6 from (lo0:0:1) to <sometable:*> -> ::2
  [ Skip steps: i=42 d=end f=end p=end sp=end dp=end ]
d121 2
a122 2
@@30 binat on lo0 inet6 from ::1 to (lo0:2) -> ::1
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d125 2
a126 2
@@31 binat on lo0 inet6 from ::1 to (lo0:0:1) -> ::1
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d129 2
a130 2
@@32 binat on lo0 inet6 from ::1 to (lo0:peer:*) -> ::1
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d133 2
a134 2
@@33 binat on lo0 inet6 from ::1 to (lo0:peer:0:*) -> ::1
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d137 2
a138 2
@@34 binat on lo0 inet6 from ::1 to (lo0:broadcast:*) -> ::1
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d141 2
a142 2
@@35 binat on lo0 inet6 from ::1 to (lo0:broadcast:0:*) -> ::1
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d145 2
a146 2
@@36 binat on lo0 inet6 from ::1 to (lo0:network:1) -> ::1
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d149 2
a150 2
@@37 binat on lo0 inet6 from ::1 to (lo0:network:0:1) -> ::1
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d153 2
a154 2
@@38 binat on lo0 inet6 from ::1 to (lo0:2)/100 -> ::2
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d157 2
a158 2
@@39 binat on lo0 inet6 from ::1 to (lo0:0:1)/100 -> ::2
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d161 2
a162 2
@@40 binat on lo0 inet6 from ::1 to (lo0:peer:*)/100 -> ::2
  [ Skip steps: i=42 d=end f=end p=end sa=42 sp=end dp=end ]
d165 2
a166 2
@@41 binat on lo0 inet6 from ::1 to (lo0:peer:0:*)/100 -> ::2
  [ Skip steps: d=end f=end p=end sp=end dp=end ]
d169 2
a170 2
@@42 binat on lo inet6 from (lo0:0:1) to ::1 -> ::2
  [ Skip steps: d=end f=end p=end sa=end sp=end da=end dp=end ]
d173 169
a341 1
@@43 binat on tun inet6 from (lo0:0:1) to ::1 -> ::2
@


1.1
log
@First pass at doing regress tests on the optimizer (pfctl -o).
Still need to add some more input files to test specific corner cases.
@
text
@d121 1
a121 1
@@30 binat on lo0 inet6 from ::1 to (lo:2) -> ::1
d125 1
a125 1
@@31 binat on lo0 inet6 from ::1 to (lo:0:1) -> ::1
d129 1
a129 1
@@32 binat on lo0 inet6 from ::1 to (lo:peer:*) -> ::1
d133 1
a133 1
@@33 binat on lo0 inet6 from ::1 to (lo:peer:0:*) -> ::1
d137 1
a137 1
@@34 binat on lo0 inet6 from ::1 to (lo:broadcast:*) -> ::1
d141 1
a141 1
@@35 binat on lo0 inet6 from ::1 to (lo:broadcast:0:*) -> ::1
d145 1
a145 1
@@36 binat on lo0 inet6 from ::1 to (lo:network:1) -> ::1
d149 1
a149 1
@@37 binat on lo0 inet6 from ::1 to (lo:network:0:1) -> ::1
d153 1
a153 1
@@38 binat on lo0 inet6 from ::1 to (lo:2)/100 -> ::2
d157 1
a157 1
@@39 binat on lo0 inet6 from ::1 to (lo:0:1)/100 -> ::2
d161 1
a161 1
@@40 binat on lo0 inet6 from ::1 to (lo:peer:*)/100 -> ::2
d165 1
a165 1
@@41 binat on lo0 inet6 from ::1 to (lo:peer:0:*)/100 -> ::2
@

