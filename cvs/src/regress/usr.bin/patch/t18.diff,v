head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.4
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2016.02.22.19.31.38;	author tobias;	state Exp;
branches;
next	;
commitid	rjbcfoSwH70LKKdQ;


desc
@@


1.1
log
@Properly handle ed-files which fully replace input file content. This
misbehaviour is triggered with 'c' and 'i' commands on empty buffers.

Spotted and fixed by Martin Natano <natano at natano dot net>.

ok millert@@
@
text
@1,3c
W
X
..
.
3s/.//
3a
Y
Z
.
@
