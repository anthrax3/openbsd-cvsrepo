head	1.2;
access;
symbols
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.1.0.10
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.6
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2017.05.30.20.46.03;	author zhuk;	state Exp;
branches;
next	1.1;
commitid	zJm7n7FWarE9XhtG;

1.1
date	2015.07.26.17.28.05;	author zhuk;	state Exp;
branches;
next	;
commitid	JGpTcROEgKAC9yLE;


desc
@@


1.2
log
@First pass to make bluhm@@ happy regarding doas regress conf.

1. Make permit tests use wsrc instead of wobj (because basically, to run
   test you need obj being writable, unless you want to pollute /usr/src);
2. Test if current user is in wobj group prior running the test, and skip
   the test if he is not.
@
text
@permit		:wobj	as root		cmd echo args la-la-la
permit		:wobj	as operator	cmd echo args
permit nopass	:wobj	as www		cmd echo args slackers
@


1.1
log
@Import test suite for doas. Relies on recently committed command matching
functionlity with -C flag.
@
text
@d1 3
a3 3
permit		:wsrc	as root		cmd echo args la-la-la
permit		:wsrc	as operator	cmd echo args
permit nopass	:wsrc	as www		cmd echo args slackers
@

