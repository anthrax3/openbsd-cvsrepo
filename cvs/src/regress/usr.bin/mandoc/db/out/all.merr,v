head	1.1;
access;
symbols
	OPENBSD_6_1:1.1.0.4
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2016.08.30.22.20.03;	author schwarze;	state Exp;
branches;
next	;
commitid	7v8nWmf1zaSbUjAK;


desc
@@


1.1
log
@Test handling of invalid pointers in the pages table.
In such cases, do not access NULL pointers in dbm_dump.
Make the setup in the run/Makefile a bit more systematic.
Output starts getting too long, so make everything silent;
you can always use "make -dl" to debug specific tests.
@
text
@
>>> empty
man: nothing appropriate

>>> badname0
man: dbm_get: Database corrupt: offset -1
man: No entry for empty in the manual.

>>> badname
man: dbm_get: Database corrupt: offset -1

>>> badsect0
man: dbm_get: Database corrupt: offset -1
man: No entry for empty in the manual.

>>> badsect
man: dbm_get: Database corrupt: offset -1

>>> badarch0
man: dbm_get: Database corrupt: offset -1

>>> badarch
man: dbm_get: Database corrupt: offset -1

>>> baddesc0
man: dbm_get: Database corrupt: offset -1
man: dbm_get: Database corrupt: offset -1

>>> baddesc
man: dbm_get: Database corrupt: offset -1

>>> badfile0
man: dbm_get: Database corrupt: offset -1

>>> badfile
man: dbm_get: Database corrupt: offset -1
@
