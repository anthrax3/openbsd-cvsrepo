head	1.4;
access;
symbols
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.3.0.10
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.6
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.12
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.10
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.6
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.4
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2017.07.04.14.53.27;	author schwarze;	state Exp;
branches;
next	1.3;
commitid	b0KXfVBm69j6HJWE;

1.3
date	2015.04.29.18.32.57;	author schwarze;	state Exp;
branches;
next	1.2;
commitid	Jraw3F5Czk5tAif5;

1.2
date	2014.08.26.11.32.56;	author schwarze;	state Exp;
branches;
next	1.1;
commitid	QJnN8iCFzEXgbRZx;

1.1
date	2012.05.28.13.00.51;	author schwarze;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Messages of the -Wbase level now print STYLE:.  Since this
causes horrible churn anyway, profit of the opportunity to stop
excessive testing, such that this is hopefully the last instance
of such churn.  Consistently use OpenBSD RCS tags, blank .Os,
blank fourth .TH argument, and Mdocdate like everywhere else.
Use -Ios=OpenBSD for platform-independent predictable output.
@
text
@ESC-Z(1)                    General Commands Manual                   ESC-Z(1)

NNAAMMEE
     eesscc--zz - the roff escape z sequence

DDEESSCCRRIIPPTTIIOONN
     single z with ASCII char: >x<
     single z with escape char: >O<
     single z with defined string (mytext): >mytext<
     single z with font escape: >xxbboolldd<
     single z with nospace escape: > new line<
     single z with overstrike: >abc<
     single z near the end of the line: ><
     double z: >x<

OpenBSD                          July 4, 2017                          OpenBSD
@


1.3
log
@Replace the kludge for the \z escape sequence by an actual
implementation.  As a side effect, minus ten lines of code.

As another side effect, this also fixes the assertion failure that
used to be triggered by "\z\o'ab'c" at the beginning of an output
line, found by jsg@@ with afl (test case 022/Apr27).
@
text
@d16 1
a16 1
OpenBSD                         April 29, 2015                         OpenBSD
@


1.2
log
@inevitable churn caused by the section title change
@
text
@d7 4
a10 4
     single z with ASCII char: ><
     single z with escape char: ><
     single z with defined string (mytext): >ytext<
     single z with font escape: >bboolldd<
d12 3
a14 2
     single z with undefined escape: ><
     double z: ><
d16 1
a16 1
OpenBSD                          May 28, 2012                          OpenBSD
@


1.1
log
@Implement the roff \z escape sequence, intended to output the next
character without advancing the cursor position; implement it to
simply skip the next character, as it will usually be overwritten.

With this change, the pod2man(1) preamble user-defined string \*:,
intended to render as a diaeresis or umlaut diacritic above the
preceding character, is rendered in a slightly less ugly way,
though still not correctly.  It was rendered as "z.." and is now
rendered as ".".

Given that the definition of \*: uses elaborate manual \h positioning,
there is little chance for mandoc(1) to ever render it correctly,
but at least we can refrain from printing out a spurious "z", and
we can make the \z do something semi-reasonable for easier cases.
@
text
@d1 1
a1 1
ESC-Z(1)                   OpenBSD Reference Manual                   ESC-Z(1)
@

