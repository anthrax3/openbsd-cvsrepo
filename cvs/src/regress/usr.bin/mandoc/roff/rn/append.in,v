head	1.1;
access;
symbols;
locks; strict;
comment	@# @;


1.1
date	2017.06.18.17.35.40;	author schwarze;	state Exp;
branches;
next	;
commitid	8HibBVlKkTGWZtha;


desc
@@


1.1
log
@Implement appending to standard man(7) and mdoc(7) macros with .am.

With roff_getstrn(), provide finer control which definitions
can be used for what:
* All definitions can be used for .if d tests and .am appending.
* User-defined for \* expansion, .dei expansion, and macro calling.
* Predefined for \* expansion.
* Standard macros, original or renamed, for macro calling.

Several related improvements while here:
* Do not return string table entries that have explicitly been removed.
* Do not create a rentab entry when trying to rename a non-existent macro.
* Clear an existing rentab entry when the external interface
roff_setstr() is called with its name.
* Avoid trailing blanks in macro lines generated from renamed
and from aliased macros.
* Delete the duplicate __m*_reserved[] tables, just use roff_name[].
@
text
@.Dd June 18, 2017
.Dt RN-APPEND 1
.Os OpenBSD
.Sh NAME
.Nm rn-append
.Nd append to renamed standard macro
.Sh DESCRIPTION
original macro:
.Bo in brackets
.Bc
.Pp
renamed macro:
.rn Bc myBc
.Bo in brackets
.myBc
.Pp
appending to macro:
.am myBc
.Pq appended words
..
.Bo more in brackets
.myBc
final text
@
