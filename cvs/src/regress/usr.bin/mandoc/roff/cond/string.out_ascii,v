head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.2
	OPENBSD_6_2_BASE:1.2;
locks; strict;
comment	@# @;


1.2
date	2017.06.18.17.35.40;	author schwarze;	state Exp;
branches;
next	1.1;
commitid	8HibBVlKkTGWZtha;

1.1
date	2017.06.14.14.01.34;	author schwarze;	state Exp;
branches;
next	;
commitid	LpZGryK8779C9pqd;


desc
@@


1.2
log
@Implement appending to standard man(7) and mdoc(7) macros with .am.

With roff_getstrn(), provide finer control which definitions
can be used for what:
* All definitions can be used for .if d tests and .am appending.
* User-defined for \* expansion, .dei expansion, and macro calling.
* Predefined for \* expansion.
* Standard macros, original or renamed, for macro calling.

Several related improvements while here:
* Do not return string table entries that have explicitly been removed.
* Do not create a rentab entry when trying to rename a non-existent macro.
* Clear an existing rentab entry when the external interface
roff_setstr() is called with its name.
* Avoid trailing blanks in macro lines generated from renamed
and from aliased macros.
* Delete the duplicate __m*_reserved[] tables, just use roff_name[].
@
text
@STRING(1)                   General Commands Manual                  STRING(1)



NNAAMMEE
       string - conditional testing whether a string is defined

DDEESSCCRRIIPPTTIIOONN
       mystr not yet defined
       now defined

       mymac not yet defined
       now defined

       myren not yet defined
       now defined

       standard macro is defined



OpenBSD                          June 14, 2017                       STRING(1)
@


1.1
log
@implement the roff(7) d (macro or string defined) conditional
@
text
@d18 2
@

