head	1.4;
access;
symbols
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.4
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2015.09.04.21.24.26;	author schwarze;	state Exp;
branches;
next	1.3;
commitid	5A7G7hHFPv2H6xHL;

1.3
date	2015.03.20.16.09.25;	author schwarze;	state Exp;
branches;
next	1.2;
commitid	Y1cTaTQTnOYfmvkx;

1.2
date	2014.12.16.17.24.58;	author schwarze;	state Exp;
branches;
next	1.1;
commitid	xnJyQL2qrdT6c5qR;

1.1
date	2014.08.14.02.00.52;	author schwarze;	state Exp;
branches;
next	;
commitid	pqgg86JpQ4OXDxJ3;


desc
@@


1.4
log
@Fill mode changes don't break next-line scope in all cases,
in particular not for tagged paragraphs.
Issue found by Christian Neukirchen <chneukirchen at gmail dot com>
in the exiv2(1) manual page.
@
text
@mandoc: noarg.in:4:2: WARNING: line scope broken: SH breaks SH
mandoc: noarg.in:8:2: WARNING: line scope broken: SS breaks SH
mandoc: noarg.in:11:2: WARNING: line scope broken: TP breaks SH
mandoc: noarg.in:15:2: WARNING: line scope broken: IP breaks SH
mandoc: noarg.in:18:2: WARNING: line scope broken: HP breaks SH
mandoc: noarg.in:22:2: WARNING: line scope broken: PP breaks SH
mandoc: noarg.in:25:2: WARNING: line scope broken: RS breaks SH
mandoc: noarg.in:28:2: WARNING: line scope broken: RE breaks SH
mandoc: noarg.in:29:2: ERROR: skipping end of block that is not open: RE
mandoc: noarg.in:31:2: WARNING: line scope broken: UR breaks SH
mandoc: noarg.in:34:2: WARNING: line scope broken: UE breaks SH
mandoc: noarg.in:35:2: ERROR: skipping end of block that is not open: UE
mandoc: noarg.in:41:2: WARNING: fill mode already enabled, skipping: fi
@


1.3
log
@more tests regarding empty header lines
@
text
@a12 2
mandoc: noarg.in:37:2: WARNING: line scope broken: nf breaks SH
mandoc: noarg.in:40:2: WARNING: line scope broken: fi breaks SH
@


1.2
log
@Explicit block closure macros clobber next-line block head scope,
just like explicit block macros themselves.
Fixing an assertion failure jsg@@ found with afl.
@
text
@d1 15
a15 6
mandoc: noarg.in:6:2: WARNING: line scope broken: PP breaks SH
mandoc: noarg.in:9:2: WARNING: line scope broken: PP breaks SS
mandoc: noarg.in:12:2: WARNING: line scope broken: RE breaks SH
mandoc: noarg.in:13:2: ERROR: skipping end of block that is not open: RE
mandoc: noarg.in:15:2: WARNING: line scope broken: RE breaks SS
mandoc: noarg.in:16:2: ERROR: skipping end of block that is not open: RE
@


1.1
log
@new regression tests collected during recent work
@
text
@d3 4
@

