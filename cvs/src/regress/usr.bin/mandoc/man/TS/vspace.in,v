head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.18
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.8
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.16
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.14
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.12
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.10
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.6
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.4
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2012.05.27.01.01.25;	author schwarze;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Fix the vertical spacing around tbl(7) instances in man(7).

Groff forces the document author to manually request sufficient spacing
after .TE - that is, at least .sp 1v after a table with the "box" option
and at least .sp 2v after a table with the "doublebox" option - or else
it clobbers the box.  I consider that insane, so i'm not imitating groff
in that respect.  Instead, i add at least as much vertical space as groff,
or more where required to avoid clobbering the box.

Consequently, output will be identical for input that looks sane with
groff, and mandoc will make output look better for input that looks bad
with groff.

As a side effect, having identical output for portable input
makes it possible to set up the first regression tests for tbl(7).
@
text
@.TH TBL-VSPACE 1
.SH NAME
tbl-vspace \- vertical spacing around tables
.SH DESCRIPTION
normal text before table
.TS
L .
table without box
.TE
normal text after table without box
.TS
box;
L .
table with box
.TE
.\" at least one vertical space is required here
.\" or groff will clobber the box
.sp 1v
normal text after table with box
.TS
doublebox;
L .
table with double box
.TE
.\" at least two vertical spaces are required here
.\" or groff will clobber the box
.sp 2v
normal text after table with double box
.TS
L .
table without box
.TE
.TS
box;
L .
table with box
.TE
.sp 1v
.TS
doublebox;
L .
table with double box
.TE
.sp 2v
.TS
L .
table without box
.TE
@
