head	1.7;
access;
symbols
	OPENBSD_6_1:1.7.0.4
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.6.0.4
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.5.0.6
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.4
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3;
locks; strict;
comment	@# @;


1.7
date	2016.08.10.13.10.17;	author schwarze;	state Exp;
branches;
next	1.6;
commitid	rKYWyBK7sgmbrAat;

1.6
date	2015.12.01.01.07.36;	author schwarze;	state Exp;
branches;
next	1.5;
commitid	kDaPJOahwhTza79y;

1.5
date	2014.08.19.17.28.57;	author schwarze;	state Exp;
branches;
next	1.4;
commitid	H23kXubonCa9li7K;

1.4
date	2014.08.11.04.18.18;	author schwarze;	state Exp;
branches;
next	1.3;
commitid	OrK7ZCs0XQIBx79v;

1.3
date	2014.07.05.12.33.54;	author schwarze;	state Exp;
branches;
next	1.2;
commitid	IbTbYyU1XoSImvHA;

1.2
date	2014.07.04.16.11.42;	author schwarze;	state Exp;
branches;
next	1.1;
commitid	sgqZ9hnRM3L6yvgn;

1.1
date	2014.07.04.01.50.03;	author schwarze;	state Exp;
branches;
next	;
commitid	Y8kkUfI8kBY4R2Vw;


desc
@@


1.7
log
@regression tests for mdoc_validate.c revisions 1.219 and 1.220
@
text
@mandoc: notype.in:12:2: ERROR: skipping all arguments: El tail argument
mandoc: notype.in:9:2: WARNING: list type is not the first argument: Bl -offset
mandoc: notype.in:15:2: ERROR: missing list type, using -item: Bl
mandoc: notype.in:15:20: WARNING: skipping -width argument: Bl -item
mandoc: notype.in:21:2: ERROR: missing list type, using -item: Bl
@


1.6
log
@Cope with the changed order of warning and error messages caused by the
seperation of parsing and validation modules.  I originally intended to
mop this up when the parser reorg is complete, but since the work
stalled a bit, i should not leave this lying around broken for weeks.
Reminded by daniel@@.
@
text
@d4 1
@


1.5
log
@Do not dereference a NULL pointer if a .Bl macro has
no -type, -width, -offset or -compact arguments whatsoever;
this got broken in mdoc_validate.c rev. 1.156.
While here, sort headers.
@
text
@d1 1
a2 1
mandoc: notype.in:12:2: ERROR: skipping all arguments: El tail argument
@


1.4
log
@start catching up with recent code changes, but no new files yet
@
text
@d3 2
a4 1
mandoc: notype.in:14:2: ERROR: missing list type, using -item: Bl
@


1.3
log
@Cleanup with respect to bad macro arguments.
* Fix .Sm with invalid arg: move arg out and toggle mode.
* Promote "unknown standard" from WARNING to ERROR, it loses information.
* Delete MANDOCERR_BADWIDTH, it would only indicate a mandoc(1) bug.
* Do not report MANDOCERR_BL_LATETYPE when there is no type at all.
* Mention macro names, arguments and fallbacks.
@
text
@d1 1
a1 1
mandoc: notype.in:9:2: WARNING: list type is not the first argument: offset
d3 1
a3 1
mandoc: notype.in:14:2: ERROR: missing list type, using -item
@


1.2
log
@Clean up messages regarding excess arguments:
* Downgrade ".Bf -emphasis Em" from FATAL to WARNING.
* Mention the macros, the arguments, and the fallbacks.
* Hierarchical naming.
Also fix the handling of excess .It head arguments in -Tman.
@
text
@a2 1
mandoc: notype.in:14:2: WARNING: list type is not the first argument: offset
@


1.1
log
@Clean up messages related to missing arguments.
* Do not warn about empty -column cells, they seem valid to me.
* Downgrade empty item and missing -std from ERROR to WARNING.
* Hierarchical naming.
* Descriptive, not imperative style.
* Mention macro names, argument names, and fallbacks.
* Garbage collect some unreachable code in post_it().
@
text
@d2 1
@

