head	1.16;
access;
symbols
	OPENBSD_6_1:1.16.0.2
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.15.0.4
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.15.0.2
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.14.0.6
	OPENBSD_5_8_BASE:1.14
	OPENBSD_5_7:1.14.0.4
	OPENBSD_5_7_BASE:1.14
	OPENBSD_5_6:1.11.0.4
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.10.0.4
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.9.0.2
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.6.0.2
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.16
date	2016.10.17.19.00.16;	author schwarze;	state Exp;
branches;
next	1.15;
commitid	3tr3UYKGzacVNoa9;

1.15
date	2015.09.21.13.24.32;	author schwarze;	state Exp;
branches;
next	1.14;
commitid	hh1XsHF4k03QJZSt;

1.14
date	2014.12.24.23.31.59;	author schwarze;	state Exp;
branches;
next	1.13;
commitid	TfSx49MGGpeWF6md;

1.13
date	2014.11.16.21.29.27;	author schwarze;	state Exp;
branches;
next	1.12;
commitid	pN9PFZfnMTqAcBP6;

1.12
date	2014.11.10.20.59.41;	author schwarze;	state Exp;
branches;
next	1.11;
commitid	dYTNtpHdR6HoVvDX;

1.11
date	2014.04.08.04.45.50;	author schwarze;	state Exp;
branches;
next	1.10;

1.10
date	2014.02.16.12.30.51;	author schwarze;	state Exp;
branches;
next	1.9;

1.9
date	2013.05.19.21.40.18;	author schwarze;	state Exp;
branches;
next	1.8;

1.8
date	2012.12.31.22.34.01;	author schwarze;	state Exp;
branches;
next	1.7;

1.7
date	2012.11.18.23.10.58;	author schwarze;	state Exp;
branches;
next	1.6;

1.6
date	2012.07.13.20.42.59;	author schwarze;	state Exp;
branches;
next	1.5;

1.5
date	2012.07.10.20.36.33;	author schwarze;	state Exp;
branches;
next	1.4;

1.4
date	2011.11.17.16.28.45;	author schwarze;	state Exp;
branches;
next	1.3;

1.3
date	2011.02.06.00.18.58;	author schwarze;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.01.05.29.57;	author schwarze;	state Exp;
branches;
next	1.1;

1.1
date	2009.10.28.03.20.42;	author schwarze;	state Exp;
branches;
next	;


desc
@@


1.16
log
@test .Bl -tag without -width;
related to mandoc/mdoc_term.c rev. 1.231 and to textproc/groff-1.22.3p3
@
text
@.Dd September 21, 2015
.Dt BL-TAG 1
.Os OpenBSD
.Sh NAME
.Nm Bl-tag
.Nd tagged lists
.Sh DESCRIPTION
.Bl -tag -width -4n
.It tag
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width -3n
.It tag
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width -2n
.It tag
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width -1n
.It tag
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 0n
.It tag
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 1n
.It tag
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 2n
.It tag
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 3n
.It tag
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 4n
.It tag
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 5n
.It tag
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 5n
.It four
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 5n
.It quint
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 5n
.It indent
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 5n
.It septime
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 5n
.It achtacht
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 5n
.It neun neun
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 5n
.It zehn_ zehn
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
.Bl -tag -width 5n
.It This is a very long text contained in the tag, it is so long \
that it overruns the line -
and here comes the item body.
.El
.Bl -tag -width 100n
.It hundred
text text
.El
.Pp
Trailing white space in the head:
.Bl -tag -width 5n
.It "a"
none
.It "a "
one
.It "a  "
two
.It "a   "
three
.It "a    "
four
.It "a     "
five
.It "a      "
six
.It " "
white space only
.El
.Pp
Non-numeric width specification:
.Bl -tag -width xxx
.It tag
text
.El
.Bl -tag -width xxxxxxxxxx
.It tag
text
.El
.Pp
Scaling units other than n:
.Bl -tag -width 4m
.It tag
text
.El
.Bl -tag -width 800M
.It tag
text
.El
.Bl -tag -width 14
.It tag
text
.El
.Pp
Default width:
.Bl -tag
.It tag
text
.It long tag
long text
.It Sy tag Em with markup
text
.El
.Pp
Indented list:
.Bl -tag -offset 6n -width xxx
.It one
first text
.It two
second text
.El
.Pp
Embedded paragraph:
.Bl -tag -width Ds
.It tag
first paragraph
.Pp
second paragraph
.El
@


1.15
log
@Trailing whitespace is significant when determining the width of a tag
in mdoc(7) .Bl -tag and man(7) .TP, but not in man(7) .IP.
Quirk reported by Jan Stary <hans at stare dot cz> on ports@@.
@
text
@d130 10
@


1.14
log
@Support negative indentations for mdoc(7) displays and lists.
Not exactly recommended for use, rather for groff compatibility.
While here, introduce similar SHRT_MAX limits as in man(7),
fixing a few cases of infinite output found by jsg@@ with afl.
@
text
@d1 1
a1 1
.Dd December 25, 2014
d89 1
a89 1
b
d91 11
a101 1
b
a103 2
.It "a  "
b
@


1.13
log
@When a line (in the sense of term_flushln()) contains white space only,
the `vbl' variable includes the left margin, but `vis' does not.
Prevent a `vis' underflow that caused a bogus blank line.
Bug reported by Carsten Kunze, found in less(1): .Bl -tag ... .It " "
@
text
@d1 1
a1 1
.Dd November 16, 2014
d8 36
@


1.12
log
@more tests found in my tree
@
text
@d1 1
a1 1
.Dd April 8, 2014
d56 2
@


1.11
log
@more tests for excessively long text in TERMP_NOBREAK mode
@
text
@d70 14
@


1.10
log
@when indenting, extend the right margin accordingly, when needed;
fixes a crash reported by blambert@@ and a few other, similar ones
@
text
@d1 1
a1 1
.Dd February 16, 2014
d39 5
@


1.9
log
@Support .Bl -offset in -mdoc -Tman.
Issue found when Thomas Klausner <wiz at NetBSD dot org> made me
look at the manuals of his http://www.nih.at/libzip library.
@
text
@d1 1
a1 1
.Dd May 19, 2013
d39 4
@


1.8
log
@Rewrite indentation handling for nested lists in a more systematic way
to fix multiple issues reported by Todd Miller; thanks!

Specifically,
 - avoid double indentation after .Bd inside .Bl
 - set up correct indentation after .Bl inside .Bl
 - set up correct indentation after .Dl and .D1 inside .Bl

While here, also
 - set up correct indentation *inside* .Dl and .D1 inside .Bl.
@
text
@d1 1
a1 1
.Dd December 31, 2012
d59 8
@


1.7
log
@Check that mandoc handles non-numeric width arguments
to .Bl -tag and .TP the same way as groff, even via -Tman.
Some time ago, millert@@ reported issues with these;
apparently, those issues were fixed since then.
@
text
@d1 1
a1 1
.Dd November 18, 2012
d51 1
a51 1
Non-numeric with specification:
d59 8
@


1.6
log
@If the tag in .Bl -tag .It would leave exactly one blank before the
body of the item, mdoc(7) breaks the line, whereas the .TP used to
translate this to man(7) does not.  Thus, insert an explicit roff(7)
line break in this place.
To be able to correctly count the characters, do not pass font escapes
an the like through print_word().
@
text
@d1 1
a1 1
.Dd October 28, 2009
d40 2
a41 1
.\" Trailing white space in the head.
d49 10
@


1.5
log
@basic implementation of -Tman .Bl -tag
while here, do some minor outflags cleanup
@
text
@d20 4
a23 5
.\" XXX temporarily disabled, cannot be translated to .HP
.\" .Bl -tag -width 5n
.\" .It indent
.\" x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.\" .El
@


1.4
log
@Complete overhaul of the mandoc(1) test suite.
* Test the recently introduced -Tman output mode, too.
* Specify date and OS arguments in all tests.
* Remove the kludge of sed(1)ing away the page footer lines.
* New make(1) variables SKIP_TMAN, SKIP_GROFF.
* Drop obsolete, clumsy make(1) variable GROFF_TARGETS.
* Delete obsolete mdoc/Bl/E*.sh error reporting tests.
* Silence char/N/basic.
* New targets:
- ascii, ascii-clean - to run -Tascii tests only
- tman, tman-clean - to run the new -Tman tests only
- obj-clean - maintainer only, needed before groff-clean and groff
- groff-clean - maintainer only, affects checked-in files
@
text
@d20 5
a24 4
.Bl -tag -width 5n
.It indent
x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x x
.El
@


1.3
log
@more tests found in my other tree
@
text
@d3 1
a3 1
.Os
@


1.2
log
@major update of the mandoc test suite:
* add various new and extend a few existing tests
* stop using Mdocdate to ease syncing with NetBSD
@
text
@d40 9
@


1.1
log
@Add the first batch of mandoc(1) regression tests, testing for a few bugs
fixed in 1.9.9 and some older, rather subtle issues in list displays.

Directory layout and naming scheme was chosen such that later inclusion
of tests for -man and -Thtml will not force us to rename everything,
even though the layout might still seem a bit sparse right now.
More tests will slowly be added while investigating and fixing issues.
@
text
@d1 1
a1 1
.Dd $Mdocdate: June 17 2009$
@

