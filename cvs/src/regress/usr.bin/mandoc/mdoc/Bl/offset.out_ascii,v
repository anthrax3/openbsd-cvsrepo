head	1.5;
access;
symbols
	OPENBSD_6_1:1.3.0.12
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.8
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.6
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.4
	OPENBSD_5_7_BASE:1.3;
locks; strict;
comment	@# @;


1.5
date	2017.07.04.14.53.24;	author schwarze;	state Exp;
branches;
next	1.4;
commitid	b0KXfVBm69j6HJWE;

1.4
date	2017.06.14.17.50.44;	author schwarze;	state Exp;
branches;
next	1.3;
commitid	SAEkKP1XAbzvhv7H;

1.3
date	2014.12.24.23.31.59;	author schwarze;	state Exp;
branches;
next	1.2;
commitid	TfSx49MGGpeWF6md;

1.2
date	2014.11.21.01.52.45;	author schwarze;	state Exp;
branches;
next	1.1;
commitid	hm1luQGz9X3OaZNV;

1.1
date	2014.10.30.20.05.33;	author schwarze;	state Exp;
branches;
next	;
commitid	0MyCvIn2JIoyqJkI;


desc
@@


1.5
log
@Messages of the -Wbase level now print STYLE:.  Since this
causes horrible churn anyway, profit of the opportunity to stop
excessive testing, such that this is hopefully the last instance
of such churn.  Consistently use OpenBSD RCS tags, blank .Os,
blank fourth .TH argument, and Mdocdate like everywhere else.
Use -Ios=OpenBSD for platform-independent predictable output.
@
text
@BL-OFFSET(1)                General Commands Manual               BL-OFFSET(1)

NNAAMMEE
     BBll--ooffffsseett - various arguments for Bl offset

DDEESSCCRRIIPPTTIIOONN
     Bl item offset empty

         Bl item offset left

           Bl item offset indent

               Bl item offset indent-two

         Bl item offset 4n

             Bl item offset mystring

           Bl item offset Ds

                                                                                   Bl
                                                                                   item
                                                                                   offset
                                                                                   78n

  Bl item offset -3n

     tag     Bl tag width Ds offset empty

         tag     Bl tag width Ds offset left

           tag     Bl tag width Ds offset indent

               tag     Bl tag width Ds offset indent-two

         tag     Bl tag width Ds offset 0.36i

             tag     Bl tag width Ds offset mystring

           tag     Bl tag width Ds offset Ds

                                                                                   tag     Bl
                                                                                           tag
                                                                                           width
                                                                                           Ds
                                                                                           offset
                                                                                           78n

  tag     Bl tag width Ds offset -0.26i

OpenBSD                          July 4, 2017                          OpenBSD
@


1.4
log
@improve rounding rules for scaling units
in horizontal orientation in the terminal formatter
@
text
@d51 1
a51 1
OpenBSD                        December 25, 2014                       OpenBSD
@


1.3
log
@Support negative indentations for mdoc(7) displays and lists.
Not exactly recommended for use, rather for groff compatibility.
While here, introduce similar SHRT_MAX limits as in man(7),
fixing a few cases of infinite output found by jsg@@ with afl.
@
text
@d36 1
a36 1
         tag     Bl tag width Ds offset 4n
d49 1
a49 1
  tag     Bl tag width Ds offset -3n
@


1.2
log
@We repeatedly observed assertion crashes in the low-level terminal
output handler because the high level terminal formatters could be
tricked into setting the left margin further to the right than the
right margin.  Today, jsg@@ found more of these with afl.

Change the internal interface between both levels, aiming for
simplicity and robustness of the code.  Treat both margins as
*independent* settings:  Now, termp.offset is the requested left
margin, and termp.rmargin is the available space.  Let the lower
level cope with that case of insufficient space.

Obviously, high level code that does centering or flush right
still has to do careful checks, so i did a full audit of margin
settings in the terminal formatters.

Fixes crashes caused by excessively long title or date strings in
the man(7) footer, operating system or date strings in the mdoc(7)
footer, volume strings in the man(7) or mdoc(7) header, and a few
cases related to some non-prologue macros.
@
text
@d26 2
d49 3
a51 1
OpenBSD                        November 20, 2014                       OpenBSD
@


1.1
log
@Major bugsquashing with respect to -offset and -width:
1. Support specifying the .Bd and .Bl -offset as a macro default width;
while here, simplify the code handling the same for .Bl -width.
2. Correct handling of .Bl -offset arguments:  unlike .Bd -offset, the
arguments "left", "indent", and "indent-two" have no special meaning.
3. Fix the scaling of string length -offset and -width arguments in -Thtml.
Triggered by an incomplete documentation patch from bentley@@.
@
text
@d21 5
d40 8
a47 1
OpenBSD                        October 30, 2014                        OpenBSD
@

