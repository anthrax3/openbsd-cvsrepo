head	1.7;
access;
symbols
	OPENBSD_6_2:1.7.0.4
	OPENBSD_6_2_BASE:1.7
	OPENBSD_6_1:1.6.0.4
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.12
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.10
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.8
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.6
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.4
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.3.0.6
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2;
locks; strict;
comment	@# @;


1.7
date	2017.07.04.14.53.24;	author schwarze;	state Exp;
branches;
next	1.6;
commitid	b0KXfVBm69j6HJWE;

1.6
date	2017.02.11.20.13.14;	author schwarze;	state Exp;
branches;
next	1.5;
commitid	21iNZWgGgJYoBBAv;

1.5
date	2013.12.25.22.00.34;	author schwarze;	state Exp;
branches;
next	1.4;

1.4
date	2013.05.29.15.15.49;	author schwarze;	state Exp;
branches;
next	1.3;

1.3
date	2011.11.17.16.28.45;	author schwarze;	state Exp;
branches;
next	1.2;

1.2
date	2011.02.06.22.25.36;	author schwarze;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.19.12.10.33;	author schwarze;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Messages of the -Wbase level now print STYLE:.  Since this
causes horrible churn anyway, profit of the opportunity to stop
excessive testing, such that this is hopefully the last instance
of such churn.  Consistently use OpenBSD RCS tags, blank .Os,
blank fourth .TH argument, and Mdocdate like everywhere else.
Use -Ios=OpenBSD for platform-independent predictable output.
@
text
@.\" $OpenBSD$
.Dd $Mdocdate: July 4 2017 $
.Dt BK-BREAK 1
.Os
.Sh NAME
.Nm Bk-break
.Nd handling of word keeps
.Sh DESCRIPTION
Even though it is called a word keep,
.Bk -words
it will not keep words together in free-form text.
.Ek
However, even the noop macro
.Bk -words
.No is sufficient to let the keep take effect .
.Ek
Even text generated in pre-handlers must be kept together with
the text following it:
.Bk -words
.Xr one 1 No and Xr two 2
.Ek
should be on the same line.
.Pp
Including the whole output line into the keep is not required,
including just the macros to be kept together is sufficient:
.Pp
.Nm
.Ar x x x x x x x x
.Ar x x x x x x x x
.Ar x x x x x x x x
.Ar x x x x x x
.Bk -words
.Op o Ar a
.Ek
.Pp
.Bk -words
.Nm
.Ar x x x x x x x x
.Ar x x x x x x x x
.Ar x x x x x x x x
.Ar x x x x x x
.Op o Ar a
.Ek
.Pp
Even text printed without spacing must be kept together
with the text following it:
.Pp
.Bk -words
.Fn xxxxxxxxxxxxxxxxxxxx "xxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxx" xxxxxxxxxxxxxxxxxxxx
.Pp
.Fo xxxxxxxxxxxxxxxxxxxx
.Fa "xxxxxxxxxxxxxxxxxxxx xxxxxxxxxxxxxxxxxxxx" xxxxxxxxxxxxxxxxxxxx
.Fc
.Ek
@


1.6
log
@remove a few Mdocdate that snuck in
@
text
@d1 2
a2 1
.Dd December 25, 2013
d4 1
a4 1
.Os OpenBSD
@


1.5
log
@Implement .Fo/.Fa/.Fc indentation and break handling for -Tman.
@
text
@d1 1
a1 1
.Dd $Mdocdate: May 29 2013 $
@


1.4
log
@In keep mode, if any text is printed (even in NOSPACE mode),
any text that follows must be kept on the same line.

I already found the issue and wrote the patch in April 2011,
but didn't come round to do proper testing and forgot about it.
@
text
@d1 1
a1 1
.Dd $Mdocdate$
d49 4
@


1.3
log
@Complete overhaul of the mandoc(1) test suite.
* Test the recently introduced -Tman output mode, too.
* Specify date and OS arguments in all tests.
* Remove the kludge of sed(1)ing away the page footer lines.
* New make(1) variables SKIP_TMAN, SKIP_GROFF.
* Drop obsolete, clumsy make(1) variable GROFF_TARGETS.
* Delete obsolete mdoc/Bl/E*.sh error reporting tests.
* Silence char/N/basic.
* New targets:
- ascii, ascii-clean - to run -Tascii tests only
- tman, tman-clean - to run the new -Tman tests only
- obj-clean - maintainer only, needed before groff-clean and groff
- groff-clean - maintainer only, affects checked-in files
@
text
@d1 1
a1 1
.Dd June 30, 2010
d42 7
@


1.2
log
@Some pre-handlers produce output, so reorder the code to set up
keep flags before they are called.
Without this bugfix, .Bk was ineffective in some cases.
"looks reasonable" kristaps@@
@
text
@d3 1
a3 1
.Os
@


1.1
log
@Handle .Bk the same way as groff 1.20.1:
.Bk without arguments defaults to -words.
.Bk with invalid arguments (including -lines) has no effect.
ok kristaps@@
@
text
@d8 18
@

