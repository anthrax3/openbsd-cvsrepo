head	1.1;
access;
symbols
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2016.08.20.17.58.09;	author schwarze;	state Exp;
branches;
next	;
commitid	ruds5O2o6F2jNWeX;


desc
@@


1.1
log
@When a mismatching end macro occurs while at least two nested blocks
are open, all except the innermost open block got a bogus MDOC_ENDED
marker, in some situations triggering segfaults down the road
which tb@@ found with afl(1).
Fix the logic error by figuring out up front whether an end macro
has a matching body, and if it hasn't, don't mark any blocks as broken.
@
text
@.Dd August 20, 2016
.Dt BREAK-NOTOPEN 1
.Os OpenBSD
.Sh NAME
.Nm break-notopen
.Nd mismatching end macro inside two open blocks
.Sh DESCRIPTION
.Ao ao
.Bo bo pc
.Pc bc
.Bc ac
.Ac tail
@
