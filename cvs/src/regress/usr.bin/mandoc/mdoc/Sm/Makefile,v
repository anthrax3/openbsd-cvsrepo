head	1.10;
access;
symbols
	OPENBSD_6_2:1.10.0.6
	OPENBSD_6_2_BASE:1.10
	OPENBSD_6_1:1.10.0.4
	OPENBSD_6_1_BASE:1.10
	OPENBSD_6_0:1.7.0.8
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.6
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.4
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.4.0.10
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.6
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.4
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.4
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.10
date	2017.03.08.22.53.36;	author schwarze;	state Exp;
branches;
next	1.9;
commitid	S0sHiOvvLc7ECRCI;

1.9
date	2017.03.08.14.45.33;	author schwarze;	state Exp;
branches;
next	1.8;
commitid	IAH4cvMDT5QLFL1l;

1.8
date	2017.03.05.19.59.26;	author schwarze;	state Exp;
branches;
next	1.7;
commitid	oe0SPH5Gl3TsCzFo;

1.7
date	2014.11.26.19.22.44;	author schwarze;	state Exp;
branches;
next	1.6;
commitid	NqZgHgjv0CyQISN3;

1.6
date	2014.07.05.12.33.54;	author schwarze;	state Exp;
branches;
next	1.5;
commitid	IbTbYyU1XoSImvHA;

1.5
date	2014.07.02.19.54.39;	author schwarze;	state Exp;
branches;
next	1.4;
commitid	Yt0K01y5ZeXGGSxs;

1.4
date	2012.07.07.14.10.55;	author schwarze;	state Exp;
branches;
next	1.3;

1.3
date	2011.11.17.16.28.46;	author schwarze;	state Exp;
branches;
next	1.2;

1.2
date	2011.02.06.00.18.58;	author schwarze;	state Exp;
branches;
next	1.1;

1.1
date	2010.01.02.02.35.53;	author schwarze;	state Exp;
branches;
next	;


desc
@@


1.10
log
@Now that markdown output is tested for almost everything, test all
input files in -T markdown output mode by default and only mark
those files with SKIP_MARKDOWN that are not to be tested.
Much easier to read, and almost minus 40 lines of Makefile code.
@
text
@# $OpenBSD: Makefile,v 1.9 2017/03/08 14:45:33 schwarze Exp $

REGRESS_TARGETS	= noarg badarg scope spacing-No spacing-Op twoarg
LINT_TARGETS	= badarg twoarg

SKIP_TMAN ?= scope

.include <bsd.regress.mk>
@


1.9
log
@enable -T markdown tests of filled displays and tagged lists
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2017/03/05 19:59:26 schwarze Exp $
a4 1
MARKDOWN_TARGETS = noarg badarg scope spacing-No spacing-Op twoarg
@


1.8
log
@first batch of -T markdown tests
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2014/11/26 19:22:44 schwarze Exp $
d5 1
a5 1
MARKDOWN_TARGETS = noarg badarg spacing-No spacing-Op twoarg
@


1.7
log
@The .Sm macro accepts at most one argument;
fixing an assertion failure found by jsg@@ with afl.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2014/07/05 12:33:54 schwarze Exp $
d5 1
@


1.6
log
@Cleanup with respect to bad macro arguments.
* Fix .Sm with invalid arg: move arg out and toggle mode.
* Promote "unknown standard" from WARNING to ERROR, it loses information.
* Delete MANDOCERR_BADWIDTH, it would only indicate a mandoc(1) bug.
* Do not report MANDOCERR_BL_LATETYPE when there is no type at all.
* Mention macro names, arguments and fallbacks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/07/02 19:54:39 schwarze Exp $
d3 2
a4 2
REGRESS_TARGETS	= noarg badarg scope spacing-No spacing-Op
LINT_TARGETS	= badarg
@


1.5
log
@When .Sm is called without an argument, groff toggles the spacing mode,
so let us do the same for compatibility.  Using this feature is of
course not recommended except in manual page obfuscation contests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/07/07 14:10:55 schwarze Exp $
d3 2
a4 1
REGRESS_TARGETS	= noarg scope spacing-No spacing-Op
@


1.4
log
@after several improvements to -Tman went in,
enable lots of related regression tests
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/11/17 16:28:46 schwarze Exp $
d3 1
a3 1
REGRESS_TARGETS=scope spacing-No spacing-Op
@


1.3
log
@Complete overhaul of the mandoc(1) test suite.
* Test the recently introduced -Tman output mode, too.
* Specify date and OS arguments in all tests.
* Remove the kludge of sed(1)ing away the page footer lines.
* New make(1) variables SKIP_TMAN, SKIP_GROFF.
* Drop obsolete, clumsy make(1) variable GROFF_TARGETS.
* Delete obsolete mdoc/Bl/E*.sh error reporting tests.
* Silence char/N/basic.
* New targets:
- ascii, ascii-clean - to run -Tascii tests only
- tman, tman-clean - to run the new -Tman tests only
- obj-clean - maintainer only, needed before groff-clean and groff
- groff-clean - maintainer only, affects checked-in files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/02/06 00:18:58 schwarze Exp $
d5 1
a5 1
SKIP_TMAN ?= ALL
@


1.2
log
@more tests found in my other tree
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2010/01/02 02:35:53 schwarze Exp $
d4 2
a5 1
GROFF_TARGETS=scope spacing-No spacing-Op
@


1.1
log
@Check that end of .It does not restore .Sm state
to the value it had before entering .It;
fixed by kristaps@@ in release 1.9.15.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2009/10/28 03:20:42 schwarze Exp $
d3 2
a4 2
REGRESS_TARGETS=scope
GROFF_TARGETS=scope
@

