head	1.9;
access;
symbols
	OPENBSD_3_5:1.7.0.2
	OPENBSD_3_5_BASE:1.7;
locks; strict;
comment	@# @;


1.9
date	2004.05.03.15.18.19;	author drahn;	state dead;
branches;
next	1.8;

1.8
date	2004.04.11.18.05.23;	author millert;	state Exp;
branches;
next	1.7;

1.7
date	2004.03.12.04.54.05;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	2004.02.16.19.01.02;	author miod;	state Exp;
branches;
next	1.5;

1.5
date	2004.02.14.17.24.31;	author todd;	state Exp;
branches;
next	1.4;

1.4
date	2004.02.13.23.34.21;	author miod;	state Exp;
branches;
next	1.3;

1.3
date	2004.02.10.01.31.20;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.12.23.32.24;	author todd;	state Exp;
branches;
next	1.1;

1.1
date	2003.10.31.03.56.54;	author drahn;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Remove OpenBSD/pegaos, this has been announced before but delayed until
the tree was stable. No point in code supporting a company which screws
its employees being in the OpenBSD tree.
@
text
@vers(__file__,
	{-$OpenBSD: MAKEDEV.md,v 1.8 2004/04/11 18:05:23 millert Exp $-},
etc.MACHINE)dnl
dnl
dnl Copyright (c) 2001-2004 Todd T. Fries <todd@@OpenBSD.org>
dnl All rights reserved.
dnl
dnl Redistribution and use in source and binary forms, with or without
dnl modification, are permitted provided that the following conditions
dnl are met:
dnl 1. Redistributions of source code must retain the above copyright
dnl    notice, this list of conditions and the following disclaimer.
dnl 2. The name of the author may not be used to endorse or promote products
dnl    derived from this software without specific prior written permission.
dnl
dnl THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES,
dnl INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY
dnl AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL
dnl THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
dnl EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
dnl PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
dnl OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
dnl WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
dnl OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
dnl ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
dnl
dnl
_TITLE(make)
_DEV(all)
_DEV(ramd)
_DEV(std)
_DEV(local)
_TITLE(dis)
_DEV(ccd, 18, 16)
_DEV(cd, 9, 3)
_DEV(raid, 54, 19)
_DEV(rd, 17, 17)
_DEV(sd, 8, 2)
_DEV(vnd, 19, 14)
_DEV(wd, 11, 0)
_TITLE(tap)
_DEV(ch, 10)
_DEV(st, 20, 5)
_TITLE(term)
_DEV(com, 7)
_TITLE(pty)
_DEV(ptm, 77)
_DEV(pty, 5)
_DEV(tty, 4)
_TITLE(cons)
_DEV(wscons)
_DEV(wsdisp, 67)
_DEV(wskbd, 68)
_DEV(wsmux, 70)
_TITLE(point)
_DEV(wsmouse, 69)
_TITLE(usb)
_DEV(uall)
_DEV(ttyU, 66)
_DEV(ugen, 63)
_DEV(uhid, 62)
_DEV(ulpt, 64)
_DEV(urio, 65)
_DEV(usb, 61)
_DEV(uscan, 74)
_TITLE(spec)
_DEV(au, 44)
_DEV(bktr, 75)
_DEV(bpf, 22)
_DEV(cry, 47)
_DEV(fdesc, 21)
_DEV(iop, 73)
_DEV(lkm, 24)
_DEV(pci, 71)
_DEV(pf, 39)
_DEV(radio, 76)
_DEV(rnd, 40)
_DEV(ss, 42)
_DEV(systrace, 50)
_DEV(tun, 23)
_DEV(tuner, 75)
_DEV(uk, 41)
_DEV(xfs, 51)
dnl
divert(__mddivert)dnl
dnl
_std(1, 2, 43, 3, 6)
	M xf86		c 2 4 600
	M reload	c 2 20 640 kmem
	;;
dnl
dnl *** pegasos specific targets
dnl
target(all, ses, 0)dnl
target(all, ch, 0)dnl
target(all, ss, 0, 1)dnl
target(all, xfs, 0)dnl
twrget(all, flo, fd, 0, 0B, 0C, 0D, 0E, 0F, 0G, 0H)dnl
twrget(all, flo, fd, 1, 1B, 1C, 1D, 1E, 1F, 1G, 1H)dnl
target(all, pty, 0)dnl
target(all, bpf, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9)dnl
target(all, tun, 0, 1, 2, 3)dnl
target(all, xy, 0, 1, 2, 3)dnl
target(all, rd, 0)dnl
target(all, cd, 0, 1)dnl
target(all, sd, 0, 1, 2, 3, 4)dnl
target(all, vnd, 0, 1, 2, 3)dnl
target(all, ccd, 0, 1, 2, 3)dnl
target(ramd, sd, 0, 1, 2, 3, 4)dnl
target(ramd, wd, 0, 1, 2, 3, 4)dnl
target(ramd, st, 0, 1)dnl
target(ramd, cd, 0, 1)dnl)dnl
target(ramd, rd, 0)dnl
target(ramd, tty0, 0, 1)dnl
target(ramd, pty, 0)dnl
@


1.8
log
@Update for pty changes (62 per letter instead of just 16)
@
text
@d2 1
a2 1
	{-$OpenBSD: MAKEDEV.md,v 1.7 2004/03/12 04:54:05 deraadt Exp $-},
@


1.7
log
@replace usbs with uall to avoid matching balony
@
text
@d2 1
a2 1
	{-$OpenBSD: MAKEDEV.md,v 1.6 2004/02/16 19:01:02 miod Exp $-},
d100 1
a100 1
target(all, pty, 0, 1, 2)dnl
@


1.6
log
@Harmonize MAKEDEV sources:
- homogenize section order
- sort devices inside sections
- make sure all platforms provide a local target (sigh)
- remove a few dead devices not worth mentioning on a few arches while there.

disabused ok deraadt@@
@
text
@d2 1
a2 1
	{-$OpenBSD: MAKEDEV.md,v 1.5 2004/02/14 17:24:31 todd Exp $-},
d58 1
a58 1
_DEV(usbs)
@


1.5
log
@copyright 2004 as well, prompted/reminded by miod
@
text
@d2 1
a2 1
	{-$OpenBSD: MAKEDEV.md,v 1.4 2004/02/13 23:34:21 miod Exp $-},
d30 1
a31 1
_DEV(fdesc, 21)
a32 3
_DEV(ramd)
_TITLE(tap)
_DEV(st, 20, 5)
d34 6
d41 1
a41 2
_DEV(sd, 8, 2)
_DEV(cd, 9, 3)
d43 7
a49 4
_DEV(vnd, 19, 14)
_DEV(rd, 17, 17)
_DEV(raid, 54, 19)
_DEV(ccd, 18, 16)
d54 2
a56 7
_DEV(wsmux, 70)
_TITLE(term)
_DEV(com, 7)
_TITLE(pty)
_DEV(tty, 4)
_DEV(pty, 5)
_DEV(ptm, 77)
d58 3
a60 1
_DEV(usb, 61)
a61 1
_DEV(ugen, 63)
d64 1
a64 1
_DEV(ttyU, 66)
d68 1
a68 1
_DEV(apm, 25)
d70 3
a72 1
_DEV(tun, 23)
d74 3
a77 1
_DEV(uk, 41)
a78 6
_DEV(xfs, 51)
_DEV(iop, 73)
_DEV(pf, 39)
_DEV(cry, 47)
_DEV(usbs)
_DEV(pci, 71)
d80 1
a80 1
_DEV(bktr, 75)
d82 2
a83 1
_DEV(radio, 76)
d85 1
a85 1
divert(7)dnl
@


1.4
log
@We have no such thing as non-wscons ttyE.
"looks ok" drahn@@ deraadt@@
@
text
@d2 1
a2 1
	{-$OpenBSD: MAKEDEV.md,v 1.3 2004/02/10 01:31:20 millert Exp $-},
d5 1
a5 1
dnl Copyright (c) 2001 Todd T. Fries <todd@@OpenBSD.org>
@


1.3
log
@Add the ptm device to pty(4).  By opening /dev/ptm and using the PTMGET
ioctl(2), an unprivileged process may allocate a pty and have its owner
and mode set appropriately.  This means that programs such as xterm and
screen no longer need to be setuid.  Programs using the openpty()
function require zero changes and will "just work".

Designed by beck@@ and deraadt@@; changes by beck@@ with cleanup (and
a rewrite of the vnode bits) by art@@ and tweaks/bugfixes by me.
Tested by many.
@
text
@d2 1
a2 1
	{-$OpenBSD: MAKEDEV.md,v 1.2 2004/01/12 23:32:24 todd Exp $-},
a51 1
_DEV(ttyE)
a90 8

ttyE*)
	type=E
	case $type in
	E)	major=25; minor=$unit ;;
	esac
	M tty$type$unit c $major $minor 660
	;;
a113 1
target(ramd, ttyE, 0)dnl
@


1.2
log
@catch pegasos up with the rest; ok deraadt
@
text
@d2 1
a2 1
	{-$OpenBSD: MAKEDEV.md,v 1.1 2003/10/31 03:56:54 drahn Exp $-},
d57 1
@


1.1
log
@OpenBSD port for the Pegasos I, pegasosppc.com heavily derived from macppc
@
text
@d2 1
a2 1
	{-$OpenBSD: MAKEDEV.md,v 1.1.2.1 2003/10/10 17:04:13 drahn Exp $-},
d63 1
a63 1
_DEV(utty, 66)
@

