head	1.10;
access;
symbols
	OPENBSD_6_2:1.10.0.2
	OPENBSD_6_2_BASE:1.10
	OPENBSD_6_1:1.9.0.16
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.9.0.14
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.8
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.10
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.9.0.2
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.9.0.6
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.4
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.7.0.6
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.4
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.2
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.4
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.4.0.8
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.6
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.4
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.2.0.12
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.10
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.8
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.6
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.4
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.1.0.8
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.6
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.4
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.2
	OPENBSD_3_6_BASE:1.1;
locks; strict;
comment	@# @;


1.10
date	2017.04.04.00.03.12;	author deraadt;	state Exp;
branches;
next	1.9;
commitid	61pPYoYUL03WPhGd;

1.9
date	2014.02.27.18.55.39;	author miod;	state Exp;
branches;
next	1.8;

1.8
date	2013.12.01.20.41.25;	author miod;	state Exp;
branches;
next	1.7;

1.7
date	2012.03.01.14.04.03;	author aoyama;	state Exp;
branches;
next	1.6;

1.6
date	2011.07.22.09.30.54;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2011.04.15.03.11.38;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2009.04.21.09.12.26;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	2009.04.17.03.58.54;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	2006.07.27.02.53.55;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2004.04.21.18.23.44;	author miod;	state Exp;
branches;
next	;


desc
@@


1.10
log
@cp -p the bootblocks to RELEASEDIR; ok tb
@
text
@#	$OpenBSD: Makefile.inc,v 1.9 2014/02/27 18:55:39 miod Exp $

KERNELS += GENERIC.MP bsd.mp

bootblocks:
	cp -p ${DESTDIR}/usr/mdec/* ${RELEASEDIR}/

MDEXT=	bsd.rd \
	miniroot${OSrev}.fs \
	boot
@


1.9
log
@Build a small miniroot filesystem which can be dumped on a new disk or an
existing swap partition for an easier initial installation.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.8 2013/12/01 20:41:25 miod Exp $
d6 1
a6 1
	cp ${DESTDIR}/usr/mdec/* ${RELEASEDIR}/
@


1.8
log
@Copy the bootblocks to the release directory and sha256 it; spotted by
aoyama@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.7 2012/03/01 14:04:03 aoyama Exp $
d9 1
@


1.7
log
@Add luna88k GENERIC.MP configuration file, based on mvme88k.

ok miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.6 2011/07/22 09:30:54 espie Exp $
d6 1
a6 1
	# XXX no bootblocks ?
d8 2
a9 1
MDEXT=	bsd.rd
@


1.6
log
@unify kernel building on various platforms.
feedback from miod@@ and deraadt@@
@
text
@d1 3
a3 1
#	$OpenBSD: Makefile.inc,v 1.5 2011/04/15 03:11:38 deraadt Exp $
@


1.5
log
@No need to make depend kernels
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.4 2009/04/21 09:12:26 deraadt Exp $
d3 2
a4 12
kernels: bsd
	cp ${.CURDIR}/../sys/arch/luna88k/compile/GENERIC/bsd \
	    ${RELEASEDIR}/bsd

bsd:
	cd ${.CURDIR}/../sys/arch/luna88k/conf && config GENERIC
	cd ${.CURDIR}/../sys/arch/luna88k/compile/GENERIC && \
	    ${MAKE} clean && ${MAKE}

MDEXT=	bsd bsd.rd

.PHONY: bsd
d6 1
@


1.4
log
@move bsd and bsd.rd and all such other MD "sets" into the MD files,
since we perhaps cannot assume that is what kernels will be in the
pathetically stupid world that SGI created
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.3 2009/04/17 03:58:54 deraadt Exp $
d10 1
a10 1
	    ${MAKE} clean && ${MAKE} depend && ${MAKE}
@


1.3
log
@For SHA256 hashes to be ready to go onto the install media, we must
build the sets before we build the media.  While there we can get rid
of DESTDIR/snapshot too, and simply install straight into RELEASEDIR.
(This also ends up saving an astounding amount of traffic/latency in a nfs
environment)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.2 2006/07/27 02:53:55 deraadt Exp $
d11 2
@


1.2
log
@unify these damnit!
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.1 2004/04/21 18:23:44 miod Exp $
d3 1
a3 2
.ifdef DESTDIR
snap_md: bsd bootblocks distrib
d5 1
a5 1
	    ${DESTDIR}/snapshot/bsd
d12 1
a12 2
bootblocks:
	#none needed
a13 3
.PHONY: bsd bootblocks

.endif	# DESTDIR check
@


1.1
log
@Populate /etc for luna88k
@
text
@d1 1
a1 2
#	$OpenBSD$
#	etc.luna88k/Makefile.inc -- luna88k-specific etc Makefile targets
d4 1
a4 1
snap_md: bsd-generic distrib
d8 1
a8 1
bsd-generic:
d13 4
a16 1
.PHONY: bsd-generic
@

