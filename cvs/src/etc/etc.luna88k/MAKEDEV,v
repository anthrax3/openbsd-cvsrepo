head	1.71;
access;
symbols
	OPENBSD_6_1:1.71.0.2
	OPENBSD_6_1_BASE:1.71
	OPENBSD_6_0:1.65.0.4
	OPENBSD_6_0_BASE:1.65
	OPENBSD_5_9:1.62.0.2
	OPENBSD_5_9_BASE:1.62
	OPENBSD_5_8:1.59.0.6
	OPENBSD_5_8_BASE:1.59
	OPENBSD_5_7:1.59.0.2
	OPENBSD_5_7_BASE:1.59
	OPENBSD_5_6:1.56.0.4
	OPENBSD_5_6_BASE:1.56
	OPENBSD_5_5:1.54.0.4
	OPENBSD_5_5_BASE:1.54
	OPENBSD_5_4:1.51.0.2
	OPENBSD_5_4_BASE:1.51
	OPENBSD_5_3:1.48.0.2
	OPENBSD_5_3_BASE:1.48
	OPENBSD_5_2:1.45.0.2
	OPENBSD_5_2_BASE:1.45
	OPENBSD_5_1_BASE:1.44
	OPENBSD_5_1:1.44.0.2
	OPENBSD_5_0:1.43.0.2
	OPENBSD_5_0_BASE:1.43
	OPENBSD_4_9:1.41.0.2
	OPENBSD_4_9_BASE:1.41
	OPENBSD_4_8:1.39.0.2
	OPENBSD_4_8_BASE:1.39
	OPENBSD_4_7:1.33.0.2
	OPENBSD_4_7_BASE:1.33
	OPENBSD_4_6:1.31.0.4
	OPENBSD_4_6_BASE:1.31
	OPENBSD_4_5:1.29.0.2
	OPENBSD_4_5_BASE:1.29
	OPENBSD_4_4:1.27.0.2
	OPENBSD_4_4_BASE:1.27
	OPENBSD_4_3:1.26.0.4
	OPENBSD_4_3_BASE:1.26
	OPENBSD_4_2:1.26.0.2
	OPENBSD_4_2_BASE:1.26
	OPENBSD_4_1:1.22.0.2
	OPENBSD_4_1_BASE:1.22
	OPENBSD_4_0:1.18.0.2
	OPENBSD_4_0_BASE:1.18
	OPENBSD_3_9:1.17.0.2
	OPENBSD_3_9_BASE:1.17
	OPENBSD_3_8:1.12.0.2
	OPENBSD_3_8_BASE:1.12
	OPENBSD_3_7:1.10.0.2
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.5.0.2
	OPENBSD_3_6_BASE:1.5;
locks; strict;
comment	@# @;


1.71
date	2016.12.31.01.02.59;	author aoyama;	state Exp;
branches;
next	1.70;
commitid	ZF5tYay7dJTyvA9D;

1.70
date	2016.09.11.19.59.58;	author deraadt;	state Exp;
branches;
next	1.69;
commitid	nE2mDEOBdUs9pcWt;

1.69
date	2016.09.11.03.09.31;	author deraadt;	state Exp;
branches;
next	1.68;
commitid	5bdWa87DXO6wfavj;

1.68
date	2016.09.08.20.41.30;	author ratchov;	state Exp;
branches;
next	1.67;
commitid	OYpPi53fdbnV5gsb;

1.67
date	2016.09.04.15.39.52;	author naddy;	state Exp;
branches;
next	1.66;
commitid	zStW2v519TMXvpgu;

1.66
date	2016.09.02.17.29.01;	author goda;	state Exp;
branches;
next	1.65;
commitid	jpWYiBSH0Zb5ggN1;

1.65
date	2016.04.28.18.17.31;	author natano;	state Exp;
branches;
next	1.64;
commitid	yJ7nITWQGOm5qxNW;

1.64
date	2016.04.25.20.38.35;	author tedu;	state Exp;
branches;
next	1.63;
commitid	0kiqbjPHHvQxOXM9;

1.63
date	2016.03.12.18.02.17;	author espie;	state Exp;
branches;
next	1.62;
commitid	OOHlYIifEE4gewlK;

1.62
date	2015.11.10.21.50.02;	author sthen;	state Exp;
branches;
next	1.61;
commitid	cbpQoyIQoLnKxXlo;

1.61
date	2015.11.10.21.44.03;	author sthen;	state Exp;
branches;
next	1.60;
commitid	xjeR06qiavDtFv9k;

1.60
date	2015.10.23.15.14.46;	author claudio;	state Exp;
branches;
next	1.59;
commitid	D8oDiiCrSjVktjLG;

1.59
date	2015.03.05.21.42.34;	author aoyama;	state Exp;
branches;
next	1.58;
commitid	hJaTW06JoB4hNnak;

1.58
date	2014.12.29.22.01.19;	author aoyama;	state Exp;
branches;
next	1.57;
commitid	nJcalV0Mz8ckEz1t;

1.57
date	2014.10.09.04.38.02;	author tedu;	state Exp;
branches;
next	1.56;
commitid	M66ALjcyb37tQVMc;

1.56
date	2014.07.11.22.04.52;	author tedu;	state Exp;
branches;
next	1.55;
commitid	xQhhmJP574n3YeP9;

1.55
date	2014.04.24.15.01.12;	author aoyama;	state Exp;
branches;
next	1.54;

1.54
date	2014.01.05.01.27.58;	author deraadt;	state Exp;
branches;
next	1.53;

1.53
date	2013.11.21.11.06.08;	author kettenis;	state Exp;
branches;
next	1.52;

1.52
date	2013.11.05.16.06.28;	author deraadt;	state Exp;
branches;
next	1.51;

1.51
date	2013.06.21.21.34.33;	author syl;	state Exp;
branches;
next	1.50;

1.50
date	2013.06.15.23.20.57;	author halex;	state Exp;
branches;
next	1.49;

1.49
date	2013.06.03.17.34.15;	author tedu;	state Exp;
branches;
next	1.48;

1.48
date	2013.01.30.02.02.02;	author yasuoka;	state Exp;
branches;
next	1.47;

1.47
date	2012.11.26.08.08.00;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2012.08.23.06.17.00;	author deraadt;	state Exp;
branches;
next	1.45;

1.45
date	2012.04.06.15.32.56;	author jsing;	state Exp;
branches;
next	1.44;

1.44
date	2011.10.06.20.50.54;	author deraadt;	state Exp;
branches;
next	1.43;

1.43
date	2011.06.26.23.42.28;	author tedu;	state Exp;
branches;
next	1.42;

1.42
date	2011.04.18.16.52.11;	author thib;	state Exp;
branches;
next	1.41;

1.41
date	2010.09.30.15.29.23;	author claudio;	state Exp;
branches;
next	1.40;

1.40
date	2010.09.04.12.18.41;	author miod;	state Exp;
branches;
next	1.39;

1.39
date	2010.08.03.20.16.22;	author miod;	state Exp;
branches;
next	1.38;

1.38
date	2010.07.22.00.59.56;	author deraadt;	state Exp;
branches;
next	1.37;

1.37
date	2010.07.03.04.08.11;	author krw;	state Exp;
branches;
next	1.36;

1.36
date	2010.06.27.00.00.51;	author jsing;	state Exp;
branches;
next	1.35;

1.35
date	2010.06.14.14.08.44;	author todd;	state Exp;
branches;
next	1.34;

1.34
date	2010.06.09.16.11.42;	author todd;	state Exp;
branches;
next	1.33;

1.33
date	2009.09.23.15.40.18;	author miod;	state Exp;
branches;
next	1.32;

1.32
date	2009.08.13.15.13.09;	author deraadt;	state Exp;
branches;
next	1.31;

1.31
date	2009.06.03.15.36.55;	author todd;	state Exp;
branches;
next	1.30;

1.30
date	2009.06.03.14.45.40;	author jj;	state Exp;
branches;
next	1.29;

1.29
date	2009.01.25.17.31.11;	author miod;	state Exp;
branches;
next	1.28;

1.28
date	2008.10.10.20.16.10;	author deraadt;	state Exp;
branches;
next	1.27;

1.27
date	2008.06.13.21.09.10;	author todd;	state Exp;
branches;
next	1.26;

1.26
date	2007.08.02.16.42.19;	author deraadt;	state Exp;
branches;
next	1.25;

1.25
date	2007.05.28.22.29.56;	author todd;	state Exp;
branches;
next	1.24;

1.24
date	2007.05.27.02.00.19;	author todd;	state Exp;
branches;
next	1.23;

1.23
date	2007.05.26.20.19.33;	author todd;	state Exp;
branches;
next	1.22;

1.22
date	2007.03.07.02.58.41;	author krw;	state Exp;
branches;
next	1.21;

1.21
date	2007.02.16.02.16.34;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	2007.02.13.19.22.45;	author miod;	state Exp;
branches;
next	1.19;

1.19
date	2006.12.15.21.03.56;	author kettenis;	state Exp;
branches;
next	1.18;

1.18
date	2006.08.28.21.23.33;	author tsi;	state Exp;
branches;
next	1.17;

1.17
date	2005.12.27.19.03.08;	author miod;	state Exp;
branches;
next	1.16;

1.16
date	2005.10.06.06.43.59;	author otto;	state Exp;
branches;
next	1.15;

1.15
date	2005.10.04.18.34.29;	author otto;	state Exp;
branches;
next	1.14;

1.14
date	2005.10.04.18.12.00;	author otto;	state Exp;
branches;
next	1.13;

1.13
date	2005.10.04.07.40.35;	author otto;	state Exp;
branches;
next	1.12;

1.12
date	2005.08.01.22.22.37;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2005.06.02.20.13.59;	author tholo;	state Exp;
branches;
next	1.10;

1.10
date	2005.03.01.13.37.09;	author otto;	state Exp;
branches;
next	1.9;

1.9
date	2005.02.07.08.23.42;	author david;	state Exp;
branches;
next	1.8;

1.8
date	2005.02.07.06.24.45;	author david;	state Exp;
branches;
next	1.7;

1.7
date	2005.01.28.18.59.42;	author danh;	state Exp;
branches;
next	1.6;

1.6
date	2005.01.10.07.58.00;	author dlg;	state Exp;
branches;
next	1.5;

1.5
date	2004.08.19.07.05.50;	author miod;	state Exp;
branches;
next	1.4;

1.4
date	2004.06.03.18.40.17;	author grange;	state Exp;
branches;
next	1.3;

1.3
date	2004.05.30.08.24.12;	author grange;	state Exp;
branches;
next	1.2;

1.2
date	2004.05.29.04.08.52;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	2004.04.21.18.25.03;	author miod;	state Exp;
branches;
next	;


desc
@@


1.71
log
@sync
@
text
@#!/bin/sh -
#
# THIS FILE AUTOMATICALLY GENERATED.  DO NOT EDIT.
# generated from:
#
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.31 2016/09/11 19:59:53 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.94 2016/09/11 19:59:51 deraadt Exp 
#	OpenBSD: MAKEDEV.mi,v 1.83 2016/09/11 03:06:31 deraadt Exp 
#	OpenBSD: MAKEDEV.sub,v 1.14 2005/02/07 06:14:18 david Exp 
#
#
# Copyright (c) 2001-2004 Todd T. Fries <todd@@OpenBSD.org>
#
# Permission to use, copy, modify, and distribute this software for any
# purpose with or without fee is hereby granted, provided that the above
# copyright notice and this permission notice appear in all copies.
#
# THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
#
# Device "make" file.  Valid arguments:
#	all	makes all known devices, including local devices.
#		Tries to make the ``standard'' number of each type.
#	ramdisk	Ramdisk kernel devices
#	std	Standard devices
#	local	Configuration specific devices
# Disks:
#	cd*	ATAPI and SCSI CD-ROM drives
#	rd*	"rd" pseudo-disks
#	sd*	SCSI disks, including flopticals
#	vnd*	"file" pseudo-disk devices
#	wd*	"winchester" disk drives (ST506, IDE, ESDI, RLL, ...)
# Tapes:
#	ch*	SCSI media changers
#	st*	SCSI tape drives
# Terminal ports:
#	ttya	On-board serial console port
#	tty[0-7][0-9a-f]	NS16x50 serial ports
# Pseudo terminals:
#	ptm	pty master device
#	pty*	Set of 62 master pseudo terminals
#	tty*	Set of 62 slave pseudo terminals
# Console ports:
#	ttyC-J*	wscons display devices
#	wscons	Minimal wscons devices
#	wskbd*	wscons keyboards
#	wsmux	wscons keyboard/mouse mux devices
# Pointing devices:
#	wsmouse*	wscons mice
# Special purpose devices:
#	audio*	Audio devices
#	bio	ioctl tunnel pseudo-device
#	bpf	Berkeley Packet Filter
#	diskmap	Disk mapper
#	fd	fd/* nodes
#	fuse	Userland Filesystem
#	lcd	front panel LCD display
#	pcex*	PC-9801 extension board slot
#	pf*	Packet Filter
#	pppx*	PPP Multiplexer
#	*random	In-kernel random data source
#	tun*	Network tunnel driver
#	tap*	Ethernet tunnel driver
#	uk*	Unknown SCSI devices
#	vscsi*	Virtual SCSI controller
#	switch*	Switch driver
#	xp	HD647180 I/O processor
PATH=/sbin:/usr/sbin:/bin:/usr/bin
T=$0

# set this to echo for Echo-Only debugging
[ "$eo" ] || eo=

hex()
{
	case $1 in
	[0-9]) echo -n $1;;
	10) echo -n a;;
	11) echo -n b;;
	12) echo -n c;;
	13) echo -n d;;
	14) echo -n e;;
	15) echo -n f;;
	esac
}

alph2d()
{
	local t="$1"
	local p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"
	local sub=${p%${t}*}
	echo ${#sub}
}

h2d()
{
	local s="$1"
	local f=${s%*[0-9a-f]} n=${s#[0-9a-f]*}

	echo $(($(_h2d $f)*16+ $(_h2d $n) ))
}

_h2d()
{
	case $1 in
	[0-9]) echo -n $1;;
	a) echo -n 10;;
	b) echo -n 11;;
	c) echo -n 12;;
	d) echo -n 13;;
	e) echo -n 14;;
	f) echo -n 15;;
	esac
}

unt()
{
	# XXX pdksh can't seem to deal with locally scoped variables
	# in ${foo#$bar} expansions
	arg="$1"
	tmp="${arg#[a-zA-Z]*}"
	tmp="${tmp%*[a-zA-Z]}"
	while [ "$tmp" != "$arg" ]
	do
		arg=$tmp
		tmp="${arg#[a-zA-Z]*}"
		tmp="${tmp%*[a-zA-Z]}"
	done
	echo $arg
}

dodisk()
{
	[ "$DEBUG" ] && set -x
	n=$(($((${5}*${7:-16}))+${6})) count=0
	[ 0$7 -ne 8 ] && l="i j k l m n o p"
	for d in a b c d e f g h $l
	do
		M $1$2$d	b $3 $(($n+$count)) 640 operator
		M r$1$2$d	c $4 $(($n+$count)) 640 operator
		let count=count+1
	done
}

dodisk2()
{
	n=$(($(($5*${7:-16}))+$6))
	M $1$2a b $3 $n 640 operator
	M r$1$2a c $4 $n 640 operator
	n=$(($n+2))
	M $1$2c b $3 $n 640 operator
	M r$1$2c c $4 $n 640 operator
}

# M name b/c major minor [mode] [group]
RMlist[0]="rm -f"

mkl() {
	: ${mklist[0]:=";mknod"}
	mklist[${#mklist[*]}]=" -m $1 $2 $3 $4 $5"
}

M() {
	RMlist[${#RMlist[*]}]=$1
	mkl ${5-666} $1 $2 $3 $4
	G=${6:-wheel}
	[ "$7" ] && {
		MKlist[${#MKlist[*]}]="&& chown $7:$G $1"
	} || {
		case $G in
		wheel)
			[ ${#whlist[*]} = 0 ] && whlist[0]="&& chgrp wheel"
			whlist[${#whlist[*]}]="$1"
		;;
		operator)
			[ ${#oplist[*]} = 0 ] && oplist[0]="&& chgrp operator"
			oplist[${#oplist[*]}]="$1"
		;;
		*)
			MKlist[${#MKlist[*]}]="&& chgrp $G $1";
		esac
	}
	return 0
}

R() {
[ "$DEBUG" ] && set -x
for i in "$@@"
do
U=`unt $i`
[ "$U" ] || U=0

case $i in
std)
	M console	c 0 0 600
	M tty		c 1 0
	M mem		c 2 0 640 kmem
	M kmem		c 2 1 640 kmem
	M null		c 2 2
	M zero		c 2 12
	M stdin		c 21 0
	M stdout	c 21 1
	M stderr	c 21 2
	M ksyms		c 43 0 640 kmem
	M klog		c 6 0 600
	;;


xp)
		M xp c 11 0 600 
	;;

switch*)
	M switch$U c 57 $U 600
	;;

vscsi*)
	M vscsi$U c 53 $U 600
	;;

uk*)
	M uk$U c 41 $U 640 operator
	;;

tap*)
	M tap$U c 56 $U 600
	;;

tun*)
	M tun$U c 23 $U 600
	;;

*random)
	n=0
	for pre in " " s u a
	do
		M ${pre}random c 40 $n 644
		n=$(($n+1))
	done
	;;

pppx*)
	M pppx$U c 55 $U 600
	;;

pf*)
	M pf c 39 0 600
	;;

pcex)
		M pcexmem c 25 0 660
	M pcexio c 25 1 660 
	;;

lcd)
		M lcd c 10 0 644 
	;;

fuse)
	M fuse$U c 45 $U 600
	;;

fd)
	RMlist[${#RMlist[*]}]=";mkdir -p fd;rm -f" n=0
	while [ $n -lt 64 ];do M fd/$n c 21 $n;n=$(($n+1));done
	MKlist[${#MKlist[*]}]=";chmod 555 fd"
	;;

diskmap)
	M diskmap c 54 0 640 operator
	;;

bpf)
	M bpf c 22 0 600
	M bpf0 c 22 0 600
	;;

bio)
	M bio c 49 0 600
	;;

audio*)
	M audio$U	c 26 $U
	M mixer$U	c 26 $(($U+16))
	M audioctl$U	c 26 $(($U+192))
	MKlist[${#MKlist[*]}]=";[ -e audio ] || ln -s audio$U audio"
	MKlist[${#MKlist[*]}]=";[ -e mixer ] || ln -s mixer$U mixer"
	MKlist[${#MKlist[*]}]=";[ -e audioctl ] || ln -s audioctl$U audioctl"
	;;

wsmouse[0-9]*)
	M wsmouse$U c 15 $U 600
	;;

wsmux|wsmouse|wskbd)
	M wsmouse c 16 0 600
	M wskbd c 16 1 600
	;;

wskbd[0-9]*)
	M wskbd$U c 14 $U 600
	;;

wscons)
	R wsmouse0 wsmouse1 wsmouse2 wsmouse3 wskbd0 wskbd1 wskbd2
	R wskbd3 wsmux ttyCcfg ttyC0 ttyC1 ttyC2 ttyC3 ttyC4 ttyC5
	R ttyC6 ttyC7 ttyC8 ttyC9 ttyCa ttyCb
	;;

tty[C-J]*)
	U=${i##tty[C-J]}
	case $i in
	ttyC*) n=C m=0;;
	ttyD*) n=D m=256;;
	ttyE*) n=E m=512;;
	ttyF*) n=F m=768;;
	ttyG*) n=G m=1024;;
	ttyH*) n=H m=1280;;
	ttyI*) n=I m=1536;;
	ttyJ*) n=J m=1792;;
	esac
	case $U in
	[0-9a-f]) M tty$n$U c 13 $((16#$U+$m)) 600;;
	cfg) M tty${n}cfg c 13 $((255+$m)) 600;;
	*) echo bad unit $U for $i; exit 1;;
	esac
	;;

pty*)
	if [ $U -gt 15 ]; then
		echo bad unit for pty in: $i
		continue
	fi
	set -A letters p q r s t u v w x y z P Q R S T
	set -A suffixes 0 1 2 3 4 5 6 7 8 9 a b c d e f g h i j k l m n o p q \
	    r s t u v w x y z A B C D E F G H I J K L M N O P Q R S T U V W X \
	    Y Z

	name=${letters[$U]}
	n=0
	while [ $n -lt 62 ]
	do
		nam=$name${suffixes[$n]}
		off=$(($U*62))
		M tty$nam c 4 $(($off+$n))
		M pty$nam c 5 $(($off+$n))
		n=$(($n+1))
	done
	;;

ptm)
	M ptm c 52 0 666
	;;

tty[0-7][0-9a-f])
	U=${i#tty*}
	o=$(h2d $U)
	M tty$U c 27 $o 660 dialer root
	M cua$U c 27 $(($o+128)) 660 dialer root
	;;

ttya)
		M ttya c 12 0 660 dialer root
	M cuaa c 12 128 660 dialer root 
	;;

st*)
	n=$(($U*16))
	for pre in " " n e en
	do
		M ${pre}rst$U	c 20 $n 660 operator
		n=$(($n+1))
	done
	;;

ch*)
	M ch$U c 44 $U 660 operator
	;;

vnd*)
	dodisk vnd $U 8 19 $U 0
	;;

rd*)
	dodisk2 rd $U 7 18 $U 0
	;;

cd*)
	dodisk2 cd $U 6 9 $U 0
	;;

local)
	test -s $T.local && sh $T.local
	;;

ramdisk)
	R diskmap bio pty0 ttya rd0 cd0 cd1 st0 st1 wd0 wd1 wd2 wd3
	R wd4 sd0 sd1 sd2 sd3 sd4 tty00 tty01 bpf std
	;;

all)
	R xp pcex audio0 lcd ttya switch0 switch1 switch2 switch3
	R vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 cd0 cd1 rd0 tap0
	R tap1 tap2 tap3 tun0 tun1 tun2 tun3 bio pty0 diskmap vscsi0
	R ch0 bpf fuse pppx ptm local wscons uk0 random tty00 tty01
	R tty02 tty03 tty04 tty05 tty06 tty07 tty08 tty09 tty0a tty0b
	R pf wd0 wd1 wd2 wd3 std st0 st1 fd
	;;

wd*|sd*)
	case $i in
	wd*) dodisk wd $U 9 28 $U 0;;
	sd*) dodisk sd $U 4 8 $U 0;;
	esac
	;;

*)
	echo $i: unknown device
	;;
esac
done
}
R "$@@"
{
echo -n ${RMlist[*]}
echo -n ${mklist[*]}
echo -n ${MKlist[*]}
echo -n ${whlist[*]}
echo ${oplist[*]}
} | if [ "$eo" = "echo" ]; then
	cat
else
	sh
fi
@


1.70
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.30 2016/09/04 15:38:59 naddy Exp 
#	OpenBSD: MAKEDEV.common,v 1.93 2016/09/11 03:06:31 deraadt Exp 
d72 1
d214 4
d407 6
a412 6
	R pcex audio0 lcd ttya switch0 switch1 switch2 switch3 vnd0
	R vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 cd0 cd1 rd0 tap0 tap1
	R tap2 tap3 tun0 tun1 tun2 tun3 bio pty0 diskmap vscsi0 ch0
	R bpf fuse pppx ptm local wscons uk0 random tty00 tty01 tty02
	R tty03 tty04 tty05 tty06 tty07 tty08 tty09 tty0a tty0b pf wd0
	R wd1 wd2 wd3 std st0 st1 fd
@


1.69
log
@sync
@
text
@d358 2
a359 2
	M tty$U c 27 $o 660 dialer uucp
	M cua$U c 27 $(($o+128)) 660 dialer uucp
d363 2
a364 2
		M ttya c 12 0 660 dialer uucp
	M cuaa c 12 128 660 dialer uucp 
@


1.68
log
@sync after /dev/sound* removal
@
text
@d7 2
a8 2
#	OpenBSD: MAKEDEV.common,v 1.92 2016/09/08 20:39:28 ratchov Exp 
#	OpenBSD: MAKEDEV.mi,v 1.82 2016/03/12 17:58:59 espie Exp 
d431 1
a431 1
        cat
@


1.67
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.91 2016/09/04 15:38:59 naddy Exp 
d283 1
a283 1
	M sound$U	c 26 $U
a284 1
	M audio$U	c 26 $(($U+128))
a287 1
	MKlist[${#MKlist[*]}]=";[ -e sound ] || ln -s sound$U sound"
@


1.66
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.29 2016/09/02 17:06:13 goda Exp 
#	OpenBSD: MAKEDEV.common,v 1.90 2016/09/02 17:06:13 goda Exp 
a372 1
		M ${pre}st$U	b 5 $n 660 operator
@


1.65
log
@Replace /dev/bpf[0-9] with /dev/bpf and /dev/bpf0. The /dev/bpf node is
unused for now, but I plan to convert all programs in base to use it in
a future diff. /dev/bpf0 is for compatibility with existing binaries
and is to be removed after a transition period.

ok rpe krw, for the installer part
"Let's see it hit the tree." deraadt
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.27 2016/04/25 20:38:11 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.86 2016/04/25 20:39:42 tedu Exp 
d71 1
d213 4
d405 6
a410 5
	R pcex audio0 lcd ttya vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3
	R sd4 cd0 cd1 rd0 tap0 tap1 tap2 tap3 tun0 tun1 tun2 tun3 bio
	R pty0 diskmap vscsi0 ch0 bpf fuse pppx ptm local wscons uk0
	R random tty00 tty01 tty02 tty03 tty04 tty05 tty06 tty07 tty08
	R tty09 tty0a tty0b pf wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.64
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.85 2016/02/05 06:29:45 uebayasi Exp 
d58 1
a58 1
#	bpf*	Berkeley Packet Filter
d268 3
a270 2
bpf*)
	M bpf$U c 22 $U 600
d396 1
a396 1
	R wd4 sd0 sd1 sd2 sd3 sd4 tty00 tty01 bpf0 std
d402 3
a404 4
	R bpf0 bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0
	R diskmap vscsi0 ch0 fuse pppx ptm local wscons uk0 random
	R tty00 tty01 tty02 tty03 tty04 tty05 tty06 tty07 tty08 tty09
	R tty0a tty0b pf wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.63
log
@regen generated files after MAKEDEVs commits
@
text
@d6 1
a6 1
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.26 2015/10/23 15:14:11 claudio Exp 
d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.81 2012/11/05 08:07:09 jasper Exp 
a66 1
#	systrace*	System call tracing device
a227 4
systrace)
	M systrace c 50 0 644
	;;

d404 1
a404 1
	R tty0a tty0b pf systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.62
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.81 2015/11/10 21:49:18 sthen Exp 
d163 2
a164 1
	mklist[${#mklist[*]}]=";mknod -m $1 $2 $3 $4 $5"
@


1.61
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.80 2015/11/10 21:42:28 sthen Exp 
@


1.60
log
@Sync (after tap addition)
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.79 2015/10/23 15:14:11 claudio Exp 
@


1.59
log
@sync

ok deraadt@@
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.25 2015/03/05 21:37:38 aoyama Exp 
#	OpenBSD: MAKEDEV.common,v 1.78 2014/12/11 19:46:15 tedu Exp 
d69 1
d220 4
d404 5
a408 5
	R sd4 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bio bpf0 bpf1 bpf2 bpf3
	R bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 fuse
	R pppx ptm local wscons uk0 random tty00 tty01 tty02 tty03
	R tty04 tty05 tty06 tty07 tty08 tty09 tty0a tty0b pf systrace
	R wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.58
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.24 2014/12/29 21:55:10 aoyama Exp 
#	OpenBSD: MAKEDEV.common,v 1.77 2014/10/09 04:33:50 tedu Exp 
d37 1
d43 1
d350 7
d393 2
a394 2
	R diskmap bio pty0 ttya rd0 cd0 cd1 st0 st1 sd0 sd1 sd2 sd3
	R sd4 bpf0 std
d401 3
a403 1
	R pppx ptm local wscons uk0 random pf systrace std st0 st1 fd
d406 1
a406 1
sd*)
d408 1
@


1.57
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.22 2014/04/24 14:52:09 aoyama Exp 
#	OpenBSD: MAKEDEV.common,v 1.76 2014/08/20 11:23:40 mikeb Exp 
d54 1
d273 11
d389 4
a392 4
	R pcex lcd ttya vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 cd0
	R cd1 rd0 tun0 tun1 tun2 tun3 bio bpf0 bpf1 bpf2 bpf3 bpf4
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 fuse pppx
	R ptm local wscons uk0 random pf systrace std st0 st1 fd
@


1.56
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.74 2014/07/11 21:58:32 tedu Exp 
a59 1
#	lkm	Loadable kernel modules interface
a245 4
lkm)
	M lkm c 24 0 640 _lkm
	;;

d380 1
a380 1
	R ptm local wscons uk0 random lkm pf systrace std st0 st1 fd
@


1.55
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.73 2013/11/21 11:04:44 kettenis Exp 
@


1.54
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.21 2014/01/05 01:16:52 deraadt Exp 
d61 1
d242 5
d382 4
a385 4
	R lcd ttya vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 cd0 cd1
	R rd0 tun0 tun1 tun2 tun3 bio bpf0 bpf1 bpf2 bpf3 bpf4 bpf5
	R bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 fuse pppx ptm
	R local wscons uk0 random lkm pf systrace std st0 st1 fd
@


1.53
log
@regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.20 2013/06/03 17:34:15 tedu Exp 
@


1.52
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.72 2013/11/05 16:05:30 deraadt Exp 
@


1.51
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.66 2013/06/21 21:30:38 syl Exp 
@


1.50
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.65 2013/06/15 23:09:36 halex Exp 
d58 1
a58 1
#	fuse*	Userland Filesystem
d249 1
a249 1
fuse*)
d378 2
a379 3
	R bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 fuse0 fuse1
	R fuse2 fuse3 pppx ptm local wscons uk0 random lkm pf systrace
	R std st0 st1 fd
@


1.49
log
@fuse on more archs
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.19 2012/08/23 06:15:28 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.64 2013/06/03 16:06:42 tedu Exp 
d58 1
a58 1
#	fuse	Userland Filesystem
d249 1
a249 1
fuse)
d378 3
a380 2
	R bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 fuse pppx ptm
	R local wscons uk0 random lkm pf systrace std st0 st1 fd
@


1.48
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.60 2012/08/23 06:15:28 deraadt Exp 
d58 1
d249 4
d378 2
a379 2
	R bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 pppx ptm local
	R wscons uk0 random lkm pf systrace std st0 st1 fd
@


1.47
log
@regen
@
text
@d373 2
a374 2
	R bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 ptm local wscons
	R uk0 random lkm pf systrace std st0 st1 fd
@


1.46
log
@sync
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.80 2011/04/18 16:52:10 thib Exp 
d166 1
a166 1
		MKlist[${#MKlist[*]}]=";chown $7:$G $1"
d170 1
a170 1
			[ ${#whlist[*]} = 0 ] && whlist[0]=";chgrp wheel"
d174 1
a174 1
			[ ${#oplist[*]} = 0 ] && oplist[0]=";chgrp operator"
d178 1
a178 1
			MKlist[${#MKlist[*]}]=";chgrp $G $1";
@


1.45
log
@Regen.
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.18 2011/10/06 20:49:27 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.59 2012/04/06 15:18:41 jsing Exp 
a59 1
#	nnpfs*	NNPFS filesystem node
a239 4
nnpfs*)
	M nnpfs$U c 51 $U 600
	;;

d373 2
a374 2
	R bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 nnpfs0 ch0 ptm local
	R wscons uk0 random lkm pf systrace std st0 st1 fd
@


1.44
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.57 2011/10/06 20:49:25 deraadt Exp 
@


1.43
log
@regen makedev
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.17 2010/09/30 15:27:54 claudio Exp 
#	OpenBSD: MAKEDEV.common,v 1.54 2011/04/18 16:52:10 thib Exp 
a32 1
#	ccd*	Concatenated disk devices
d376 4
a379 5
	R lcd ttya ccd0 ccd1 ccd2 ccd3 vnd0 vnd1 vnd2 vnd3 sd0 sd1
	R sd2 sd3 sd4 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bio bpf0 bpf1
	R bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0
	R nnpfs0 ch0 ptm local wscons uk0 random lkm pf systrace std
	R st0 st1 fd
d382 1
a382 1
sd*|ccd*)
a384 1
	ccd*) dodisk ccd $U 9 17 $U 0;;
@


1.42
log
@Deprecate vnds in favour of svnds.

In effect, this removes the "old" vndX nodes, and renames
the svndX nodes to vndX.

Old svndX nodes will still continue to work though, for now.

Cleanup accordingly.

ok deraadt@@, todd@@
comments and ok on the man page bits from jmc@@
@
text
@d7 2
a8 2
#	OpenBSD: MAKEDEV.common,v 1.53 2010/09/30 15:27:54 claudio Exp 
#	OpenBSD: MAKEDEV.mi,v 1.79 2009/01/25 17:30:48 miod Exp 
@


1.41
log
@regen
@
text
@a356 1
	dodisk svnd $U 8 19 $U 2048
@


1.40
log
@Regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.15 2010/07/03 03:59:15 krw Exp 
#	OpenBSD: MAKEDEV.common,v 1.51 2010/08/03 20:12:01 miod Exp 
d63 1
d232 4
@


1.39
log
@regen
@
text
@d48 1
a49 1
#	ttyC-J*	wscons display devices
d57 1
d61 1
a66 1
#	nnpfs*	NNPFS filesystem node
a67 1
#	diskmap	Disk mapper
a207 4
diskmap)
	M diskmap c 54 0 640 operator
	;;

a211 4
nnpfs*)
	M nnpfs$U c 51 $U 600
	;;

d237 4
d255 4
d280 6
a302 6
	;;

wscons)
	R wsmouse0 wsmouse1 wsmouse2 wsmouse3 wskbd0 wskbd1 wskbd2
	R wskbd3 wsmux ttyCcfg ttyC0 ttyC1 ttyC2 ttyC3 ttyC4 ttyC5
	R ttyC6 ttyC7 ttyC8 ttyC9 ttyCa ttyCb
@


1.38
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.49 2010/07/21 23:40:26 nicm Exp 
@


1.37
log
@Regen.
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.48 2010/06/14 14:07:49 todd Exp 
@


1.36
log
@Regen.
@
text
@d6 4
a9 4
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.14 2010/06/26 23:49:50 jsing Exp 
#	OpenBSD: MAKEDEV.common,v 1.47 2010/06/09 16:10:24 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.78 2008/06/14 23:09:05 todd Exp 
#	OpenBSD: MAKEDEV.sub,v 1.13 2005/01/28 18:51:38 danh Exp 
a61 1
#	ss*	SCSI scanners
a231 8
ss*)
	M ss$U c 42 $(($U*16)) 640 operator
	M nss$U c 42 $(($(($U*16))+1)) 640 operator
	M enss$U c 42 $(($(($U*16))+3)) 640 operator
	RMlist[${#RMlist[*]}]="scan$U"
	MKlist[${#MKlist[*]}]=";umask 77;ln -s ss$U scan$U"
	;;

d376 2
a377 2
	R nnpfs0 ss0 ch0 ptm local wscons uk0 random lkm pf systrace
	R std st0 st1 fd
@


1.35
log
@sync
@
text
@d6 4
a9 4
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.13 2010/06/09 16:10:25 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.48 2010/06/14 14:07:49 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.79 2009/01/25 17:30:48 miod Exp 
#	OpenBSD: MAKEDEV.sub,v 1.14 2005/02/07 06:14:18 david Exp 
d377 2
a378 2
	R bio pty0 ttya rd0 cd0 cd1 st0 st1 sd0 sd1 sd2 sd3 sd4 bpf0
	R std
@


1.34
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.47 2010/06/09 16:10:24 todd Exp 
d210 1
a210 1
	M diskmap b 54 0 640 operator
@


1.33
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.12 2009/08/13 15:12:36 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.46 2009/09/23 15:39:56 miod Exp 
d68 1
d209 4
d384 3
a386 3
	R bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 vscsi0 nnpfs0
	R ss0 ch0 ptm local wscons uk0 random lkm pf systrace std st0
	R st1 fd
@


1.32
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.45 2009/08/13 15:12:36 deraadt Exp 
d271 1
a271 1
wsmouse*)
d280 1
a280 1
wskbd*)
@


1.31
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.11 2009/06/03 14:45:40 jj Exp 
#	OpenBSD: MAKEDEV.common,v 1.43 2009/06/03 14:45:39 jj Exp 
d67 1
d208 4
d379 3
a381 2
	R bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 nnpfs0 ss0 ch0
	R ptm local wscons uk0 random lkm pf systrace std st0 st1 fd
@


1.30
log
@Arla client rename from xfs to nnpfs for later upgrades. Tested on various arches. ok todd@@ beck@@
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.10 2009/01/25 17:30:48 miod Exp 
#	OpenBSD: MAKEDEV.common,v 1.41 2008/11/30 03:33:09 jakemsr Exp 
@


1.29
log
@regen
@
text
@d66 1
a66 1
#	xfs*	XFS filesystem node
d207 2
a208 2
xfs*)
	M xfs$U c 51 $U 600
d374 1
a374 1
	R bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 xfs0 ss0 ch0
@


1.28
log
@sync
@
text
@d6 3
a8 3
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.9 2008/06/14 23:09:06 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.40 2008/10/10 20:15:23 deraadt Exp 
#	OpenBSD: MAKEDEV.mi,v 1.78 2008/06/14 23:09:05 todd Exp 
a202 1
	M drum		c 3 0 640 kmem
@


1.27
log
@sync
@
text
@d6 3
a8 3
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.8 2008/06/13 21:07:28 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.38 2008/06/12 22:38:14 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.77 2005/10/06 06:43:19 otto Exp 
d234 1
a234 1
	for pre in " " s u p a
@


1.26
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.7 2007/05/28 22:26:02 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.36 2007/07/23 23:21:25 todd Exp 
d368 2
a369 1
	R pty0 ttya rd0 cd0 cd1 st0 st1 sd0 sd1 sd2 sd3 sd4 bpf0 std
@


1.25
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.34 2007/05/18 14:05:33 jmc Exp 
a25 1

@


1.24
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.6 2007/05/27 01:50:36 todd Exp 
d56 1
d264 4
d374 3
a376 3
	R sd2 sd3 sd4 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2
	R bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 xfs0 ss0 ch0 ptm
	R local wscons uk0 random lkm pf systrace std st0 st1 fd
@


1.23
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.5 2007/05/26 19:54:23 todd Exp 
a55 1
#	bio	ioctl tunnel pseudo-device
a262 4
bio)
	M bio c 7 0 600
	;;

d369 3
a371 3
	R sd2 sd3 sd4 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bio bpf0 bpf1
	R bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 xfs0 ss0 ch0
	R ptm local wscons uk0 random lkm pf systrace std st0 st1 fd
@


1.22
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.4 2007/02/13 19:22:29 miod Exp 
#	OpenBSD: MAKEDEV.common,v 1.33 2007/03/07 02:51:17 krw Exp 
d26 1
d56 1
d264 4
d374 3
a376 3
	R sd2 sd3 sd4 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2
	R bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 xfs0 ss0 ch0 ptm
	R local wscons uk0 random lkm pf systrace std st0 st1 fd
@


1.21
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.32 2007/02/16 02:16:20 deraadt Exp 
@


1.20
log
@Regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.31 2006/12/15 20:42:19 kettenis Exp 
@


1.19
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.3 2006/04/16 02:49:52 todd Exp 
d57 1
d248 4
d367 4
a370 4
	R ttya ccd0 ccd1 ccd2 ccd3 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2
	R sd3 sd4 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3
	R bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 xfs0 ss0 ch0 ptm local
	R wscons uk0 random lkm pf systrace std st0 st1 fd
@


1.18
log
@Resync MAKEDEV scripts and man pages
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.29 2006/08/28 21:04:04 tsi Exp 
@


1.17
log
@Regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.2 2005/08/01 22:22:13 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.23 2005/12/27 19:02:42 miod Exp 
d49 1
a49 1
#	ttyC-F*	wscons display devices
d270 2
a271 2
tty[C-F]*)
	U=${i##tty[C-F]}
d277 4
@


1.16
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.21 2005/10/06 06:43:19 otto Exp 
d48 1
a48 1
#	ttyC0	Minimal wscons devices
d56 1
a56 1
#	fd	fd/* nodes for fdescfs
@


1.15
log
@regen
@
text
@d7 2
a8 2
#	OpenBSD: MAKEDEV.common,v 1.20 2005/08/01 22:22:12 deraadt Exp 
#	OpenBSD: MAKEDEV.mi,v 1.76 2005/10/04 18:33:52 otto Exp 
d153 1
a153 2
RMlist="rm -f"
MKlist=":"
d156 1
a156 6
	[ "${mklist[$1]}" ] && {
		mklist[$1]="${mklist[$1]};mknod -m $1 $2 $3 $4 $5"
	} || {
		mklist[$1]="mknod -m $1 $2 $3 $4 $5"
		modes="$modes $1"
	}
d160 1
a160 1
	RMlist="$RMlist $1"
d164 1
a164 1
		MKlist="$MKlist;chown $7:$G $1"
d167 10
a176 1
		wheel)g=0;;kmem)g=2;;operator)g=5;;tty)g=4;;dialer)g=117;;_lkm)g=61;;
a177 6
		[ "${grplist[$g]}" ] && {
			grplist[$g]="${grplist[$g]} $1"
		} || {
			groups="$groups $g"
			grplist[$g]="chgrp $G $1"
		}
d226 2
a227 2
	RMlist="$RMlist scan$U"
	MKlist="$MKlist;umask 77;ln -s ss$U scan$U"
d248 1
a248 1
	RMlist="mkdir -p fd;$RMlist" n=0
d250 1
a250 1
	MKlist="$MKlist;chmod 555 fd"
d378 8
a385 10
list="$RMlist"
for mode in $modes; do
	list="$list;${mklist[$mode]}"
done
for group in $groups; do
	list="$list;${grplist[$group]}"
done
list="$list;$MKlist"
if [ "$eo" = "echo" ]; then
	$eo "$list"
d387 1
a387 1
	echo "$list" | sh
@


1.14
log
@regen
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.75 2005/10/04 18:11:10 otto Exp 
d136 1
a136 1
		M $1$2$d	b $3 $(($n+$count)) 640 operaror
@


1.13
log
@regen
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.74 2005/10/04 07:39:37 otto Exp 
a132 1
	RMlist="$RMlist $1$2? r$1$2?"
d136 2
a137 2
		M $1$2$d	b $3 $(($n+$count)) 640
		M r$1$2$d	c $4 $(($n+$count)) 640
a139 1
	MKlist="$MKlist;chown root:operator $1$2? r$1$2?"
@


1.12
log
@sync
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.73 2005/02/07 06:14:18 david Exp 
a169 1
	mklist="$mklist $1"
@


1.11
log
@Regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.luna88k/MAKEDEV.md,v 1.1 2004/04/21 18:23:44 miod Exp 
#	OpenBSD: MAKEDEV.common,v 1.18 2005/06/02 20:09:38 tholo Exp 
@


1.10
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.16 2005/03/01 13:35:59 otto Exp 
@


1.9
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.15 2005/01/28 18:56:27 danh Exp 
@


1.8
log
@sync
@
text
@d8 2
a9 2
#	OpenBSD: MAKEDEV.mi,v 1.72 2004/02/16 18:58:53 miod Exp 
#	OpenBSD: MAKEDEV.sub,v 1.13 2005/01/28 18:51:38 danh Exp 
@


1.7
log
@sync
@
text
@d86 1
a86 1
	local t="$1"  
@


1.6
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.13 2005/01/10 07:53:57 dlg Exp 
d9 1
a9 1
#	OpenBSD: MAKEDEV.sub,v 1.12 2004/02/20 19:13:01 miod Exp 
d285 1
a285 1
	[0-9a-f]) M tty$n$U c 13 $(( 16#$U + $m )) 600;;
@


1.5
log
@Regen.
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.12 2004/08/19 07:05:20 miod Exp 
@


1.4
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.10 2004/06/03 18:36:59 grange Exp 
d63 1
a63 1
#	uk*	SCSI unknown devices
@


1.3
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.9 2004/05/30 08:17:17 grange Exp 
@


1.2
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.8 2004/05/29 04:07:30 deraadt Exp 
@


1.1
log
@Regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.7 2004/04/11 18:14:59 millert Exp 
@

