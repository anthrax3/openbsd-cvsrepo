head	1.36;
access;
symbols
	OPENBSD_6_0:1.35.0.4
	OPENBSD_6_0_BASE:1.35
	OPENBSD_5_9:1.34.0.2
	OPENBSD_5_9_BASE:1.34
	OPENBSD_5_8:1.33.0.6
	OPENBSD_5_8_BASE:1.33
	OPENBSD_5_7:1.33.0.2
	OPENBSD_5_7_BASE:1.33
	OPENBSD_5_6:1.31.0.4
	OPENBSD_5_6_BASE:1.31
	OPENBSD_5_5:1.29.0.14
	OPENBSD_5_5_BASE:1.29
	OPENBSD_5_4:1.29.0.10
	OPENBSD_5_4_BASE:1.29
	OPENBSD_5_3:1.29.0.8
	OPENBSD_5_3_BASE:1.29
	OPENBSD_5_2:1.29.0.6
	OPENBSD_5_2_BASE:1.29
	OPENBSD_5_1_BASE:1.29
	OPENBSD_5_1:1.29.0.4
	OPENBSD_5_0:1.29.0.2
	OPENBSD_5_0_BASE:1.29
	OPENBSD_4_9:1.28.0.4
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.28.0.2
	OPENBSD_4_8_BASE:1.28
	OPENBSD_4_7:1.27.0.2
	OPENBSD_4_7_BASE:1.27
	OPENBSD_4_6:1.26.0.14
	OPENBSD_4_6_BASE:1.26
	OPENBSD_4_5:1.26.0.10
	OPENBSD_4_5_BASE:1.26
	OPENBSD_4_4:1.26.0.8
	OPENBSD_4_4_BASE:1.26
	OPENBSD_4_3:1.26.0.6
	OPENBSD_4_3_BASE:1.26
	OPENBSD_4_2:1.26.0.4
	OPENBSD_4_2_BASE:1.26
	OPENBSD_4_1:1.26.0.2
	OPENBSD_4_1_BASE:1.26
	OPENBSD_4_0:1.25.0.8
	OPENBSD_4_0_BASE:1.25
	OPENBSD_3_9:1.25.0.6
	OPENBSD_3_9_BASE:1.25
	OPENBSD_3_8:1.25.0.4
	OPENBSD_3_8_BASE:1.25
	OPENBSD_3_7:1.25.0.2
	OPENBSD_3_7_BASE:1.25
	OPENBSD_3_6:1.24.0.4
	OPENBSD_3_6_BASE:1.24
	OPENBSD_3_5:1.24.0.2
	OPENBSD_3_5_BASE:1.24
	OPENBSD_3_4:1.22.0.4
	OPENBSD_3_4_BASE:1.22
	OPENBSD_3_3:1.22.0.2
	OPENBSD_3_3_BASE:1.22
	OPENBSD_3_2:1.18.0.2
	OPENBSD_3_2_BASE:1.18
	OPENBSD_3_1:1.17.0.4
	OPENBSD_3_1_BASE:1.17
	OPENBSD_3_0:1.17.0.2
	OPENBSD_3_0_BASE:1.17
	OPENBSD_2_9:1.11.0.4
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_8:1.11.0.2
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.9.0.4
	OPENBSD_2_7_BASE:1.9
	OPENBSD_2_6:1.9.0.2
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.8.0.2
	OPENBSD_2_5_BASE:1.8
	OPENBSD_2_4:1.7.0.2
	OPENBSD_2_4_BASE:1.7
	OPENBSD_2_3:1.5.0.2
	OPENBSD_2_3_BASE:1.5
	OPENBSD_2_2:1.4.0.4
	OPENBSD_2_2_BASE:1.4
	OPENBSD_2_1:1.4.0.2
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.36
date	2016.12.27.09.17.52;	author jca;	state Exp;
branches;
next	1.35;
commitid	3qP8ymCdYHblqMMe;

1.35
date	2016.06.01.16.57.07;	author tedu;	state Exp;
branches;
next	1.34;
commitid	1Y6PZLUDTaVyZyOq;

1.34
date	2015.10.14.20.54.07;	author millert;	state Exp;
branches;
next	1.33;
commitid	iKF04yjevk8Uc572;

1.33
date	2014.08.27.13.46.32;	author naddy;	state Exp;
branches;
next	1.32;
commitid	IxgUUeL8Qy6yxndt;

1.32
date	2014.08.26.19.33.48;	author robert;	state Exp;
branches;
next	1.31;
commitid	d4aMPQgs0Avz1qdr;

1.31
date	2014.03.21.13.22.09;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2014.03.17.18.04.07;	author sthen;	state Exp;
branches;
next	1.29;

1.29
date	2011.04.14.20.32.34;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2010.06.29.10.25.13;	author stephan;	state Exp;
branches;
next	1.27;

1.27
date	2009.11.03.20.47.40;	author deraadt;	state Exp;
branches;
next	1.26;

1.26
date	2007.02.02.14.52.48;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2005.02.07.06.08.10;	author david;	state Exp;
branches;
next	1.24;

1.24
date	2003.11.11.17.00.50;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2003.10.06.20.18.25;	author henning;	state Exp;
branches;
next	1.22;

1.22
date	2003.02.12.19.42.59;	author millert;	state Exp;
branches;
next	1.21;

1.21
date	2003.02.12.19.36.17;	author millert;	state Exp;
branches;
next	1.20;

1.20
date	2002.11.07.23.43.40;	author pvalchev;	state Exp;
branches;
next	1.19;

1.19
date	2002.11.07.23.20.24;	author pvalchev;	state Exp;
branches;
next	1.18;

1.18
date	2002.05.30.06.44.07;	author deraadt;	state Exp;
branches;
next	1.17;

1.17
date	2001.09.21.17.59.21;	author beck;	state Exp;
branches;
next	1.16;

1.16
date	2001.09.19.14.05.24;	author millert;	state Exp;
branches;
next	1.15;

1.15
date	2001.08.26.11.09.15;	author matthieu;	state Exp;
branches;
next	1.14;

1.14
date	2001.08.22.23.47.57;	author deraadt;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.21.22.30.20;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	2001.05.30.02.11.08;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2000.09.22.14.25.40;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2000.09.21.21.46.48;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	99.05.10.14.15.26;	author art;	state Exp;
branches;
next	1.8;

1.8
date	99.03.25.05.21.50;	author beck;	state Exp;
branches;
next	1.7;

1.7
date	98.10.02.17.12.21;	author millert;	state Exp;
branches;
next	1.6;

1.6
date	98.09.19.20.04.13;	author millert;	state Exp;
branches;
next	1.5;

1.5
date	97.12.17.07.52.44;	author brian;	state Exp;
branches;
next	1.4;

1.4
date	97.04.02.11.56.43;	author kstailey;	state Exp;
branches;
next	1.3;

1.3
date	96.12.15.20.04.06;	author millert;	state Exp;
branches;
next	1.2;

1.2
date	96.05.26.10.25.25;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.37.57;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.37.57;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.36
log
@Remove user uucp and group news from base.
@
text
@#	$OpenBSD: newsyslog.conf,v 1.35 2016/06/01 16:57:07 tedu Exp $
#
# configuration file for newsyslog
#
# logfile_name		owner:group     mode count size when  flags
/var/cron/log		root:wheel	600  3     10   *     Z
/var/log/authlog	root:wheel	640  7     *    168   Z
/var/log/daemon				640  5     300  *     Z
/var/log/lpd-errs			640  7     10   *     Z
/var/log/maillog			640  7     *    24    Z
/var/log/messages			644  5     300  *     Z
/var/log/secure				600  7     *    168   Z
/var/log/wtmp				644  7     *    $W6D4 B
/var/log/xferlog			640  7     250  *     Z
/var/log/pflog				600  3     250  *     ZB "pkill -HUP -u root -U root -t - -x pflogd"
/var/www/logs/access.log		644  4     *    $W0   Z "pkill -USR1 -u root -U root -x httpd"
/var/www/logs/error.log			644  7     250  *     Z "pkill -USR1 -u root -U root -x httpd"
@


1.35
log
@increase permitted sizes for daemon and messages. i overflow them too
frequently for my taste, and disk is cheap.
ok deraadt millert
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.34 2015/10/14 20:54:07 millert Exp $
a6 1
/var/log/aculog		uucp:dialer	660  7     *    24    Z
@


1.34
log
@Allow group wheel to read the mail log.  OK gilles@@ sthen@@
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.33 2014/08/27 13:46:32 naddy Exp $
d9 1
a9 1
/var/log/daemon				640  5     30   *     Z
d12 1
a12 1
/var/log/messages			644  5     30   *     Z
@


1.33
log
@Add httpd default log files to the rotation.
ok reyk@@  (who suggested these lines a while ago)
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.32 2014/08/26 19:33:48 robert Exp $
d11 1
a11 1
/var/log/maillog			600  7     *    24    Z
@


1.32
log
@usr.sbin
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.31 2014/03/21 13:22:09 ajacoutot Exp $
d17 2
@


1.31
log
@Add nginx default log files to the rotation.

ok jung@@ stephan@@
tweaks and ok sthen@@
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.30 2014/03/17 18:04:07 sthen Exp $
a16 2
/var/www/logs/access.log		644  4     *    $W0   Z /var/run/nginx.pid SIGUSR1
/var/www/logs/error.log			644  7     250  *     Z /var/run/nginx.pid SIGUSR1
@


1.30
log
@ppp.log was just for ppp(8)
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.29 2011/04/14 20:32:34 sthen Exp $
d17 2
@


1.29
log
@Don't compress wtmp by default; the tools dealing with this log are
cumbersome to use with compressed files. Idea from ian@@ following
a discussion started with a diff to last(1) from by Peter Philipp.

ok martynas@@ mk@@ millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.28 2010/06/29 10:25:13 stephan Exp $
a15 1
/var/log/ppp.log			640  7     250  *     Z
@


1.28
log
@zap superfluous newline. ok sthen@@
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.27 2009/11/03 20:47:40 deraadt Exp $
d14 1
a14 1
/var/log/wtmp				644  7     *    $W6D4 ZB
@


1.27
log
@Get rid of pflogd.pid because the privsep child cannot delete the pidfile;
use pkill(1) in /etc/newsyslog.conf instead
together with otto and suggestions from tedu
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.26 2007/02/02 14:52:48 ajacoutot Exp $
a17 1

@


1.26
log
@- enable weekly login accounting if LOGINACCOUNTING is set to 1 in the
environment so that it matches the ROOTBACKUP and CHECKFILESYSTEMS way
of doing things
- make the sort command use "-k" instead of the deprecated "+" option
(idea from mk@@)
- rotate /var/log/wtmp every week just after weekly ac(8) completes

ok mk@@
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.25 2005/02/07 06:08:10 david Exp $
d17 2
a18 1
/var/log/pflog				600  3     250  *     ZB /var/run/pflogd.pid
@


1.25
log
@indentation whitespace nits
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.24 2003/11/11 17:00:50 jmc Exp $
d14 1
a14 1
/var/log/wtmp				644  7     *    168   ZB
@


1.24
log
@sync the field names with what's in the man page;
from Kurt Seifried;

ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.23 2003/10/06 20:18:25 henning Exp $
d5 1
a5 1
# logfile_name          owner:group     mode count size when  flags
@


1.23
log
@finally remove the sample lines for httpd, causes problems as soon as
3rd party, chroot-unaware modules are loaded, if not sooner
ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.22 2003/02/12 19:42:59 millert Exp $
d5 13
a17 13
# logfilename           owner:group     mode ngen size time [ZB]
/var/cron/log		root:wheel	600  3    10   *     Z
/var/log/aculog		uucp:dialer	660  7    *    24    Z
/var/log/authlog	root:wheel	640  7    *    168   Z
/var/log/daemon				640  5    30   *     Z
/var/log/lpd-errs			640  7    10   *     Z
/var/log/maillog			600  7    *    24    Z
/var/log/messages			644  5    30   *     Z
/var/log/secure				600  7    *    168   Z
/var/log/wtmp				644  7    *    168   ZB
/var/log/xferlog			640  7    250  *     Z
/var/log/ppp.log			640  7    250  *     Z
/var/log/pflog				600  3    250  *     ZB	/var/run/pflogd.pid
@


1.22
log
@missed one in the comment
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.21 2003/02/12 19:36:17 millert Exp $
a17 10
#
# Uncomment to rotate apache logs
#
#/var/www/logs/access_log		644  7    250  *     Z /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/error_log		644  7    250  *     Z /var/www/logs/httpd.pid SIGUSR1
#
# Uncomment to rotate ssl logs
#
#/var/www/logs/ssl_engine_log		644  7    250  *     Z /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/ssl_request_log		644  7    250  *     Z /var/www/logs/httpd.pid SIGUSR1
@


1.21
log
@Use ':' to separate login name from group name to match updated docs.
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.20 2002/11/07 23:43:40 pvalchev Exp $
d5 1
a5 1
# logfilename           owner.group     mode ngen size time [ZB]
@


1.20
log
@Install /var/log/message 644 since the beginning and change back
newsyslog.conf to reflect that.  More people seem to prefer that,
and it can be easily changed if you like it another way.
millert, fgs and others verbally agree
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.19 2002/11/07 23:20:24 pvalchev Exp $
d6 3
a8 3
/var/cron/log		root.wheel	600  3    10   *     Z
/var/log/aculog		uucp.dialer	660  7    *    24    Z
/var/log/authlog	root.wheel	640  7    *    168   Z
@


1.19
log
@/var/log/messages is mode 640 not 644 by default; root@@shopip.com
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.18 2002/05/30 06:44:07 deraadt Exp $
d12 1
a12 1
/var/log/messages			640  5    30   *     Z
@


1.18
log
@space nits
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.17 2001/09/21 17:59:21 beck Exp $
d12 1
a12 1
/var/log/messages			644  5    30   *     Z
@


1.17
log
@fix apache suggestion to leave files with root perms, rather than
changing to www.www - leaving them more easily modified by a problem
in a cgi or httpd. Also send SIGUSR1 for a graceful restart as apache
expects. noticed by mpech@@, ok millert@@
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.16 2001/09/19 14:05:24 millert Exp $
d21 2
a22 2
#/var/www/logs/access_log	 	644  7    250  *     Z /var/www/logs/httpd.pid SIGUSR1
#/var/www/logs/error_log	 	644  7    250  *     Z /var/www/logs/httpd.pid SIGUSR1
@


1.16
log
@aculog should be writable by group dialer for tip/cu users
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.15 2001/08/26 11:09:15 matthieu Exp $
d21 2
a22 2
#/var/www/logs/access_log www.www	644  7    250  *     Z /var/www/logs/httpd.pid
#/var/www/logs/error_log www.www	644  7    250  *     Z /var/www/logs/httpd.pid
d26 2
a27 2
#/var/www/logs/ssl_engine_log www.www	644  7    250  *     Z /var/www/logs/httpd.pid
#/var/www/logs/ssl_request_log www.www	644  7    250  *     Z /var/www/logs/httpd.pid
@


1.15
log
@pflog is a binary file, ok jakob@@
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.14 2001/08/22 23:47:57 deraadt Exp $
d7 1
a7 1
/var/log/aculog		uucp.dialer	640  7    *    24    Z
@


1.14
log
@I forgot to list the pid file
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.13 2001/08/21 22:30:20 deraadt Exp $
d17 1
a17 1
/var/log/pflog				600  3    250  *     Z	/var/run/pflogd.pid
@


1.13
log
@my initial guess at pflog rollover config
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.12 2001/05/30 02:11:08 deraadt Exp $
d17 1
a17 1
/var/log/pflog				600  3    250  *     Z
@


1.12
log
@Remove ipf.  Darren Reed has interpreted his (old, new, whichever)
licence in a way that makes ipf not free according to the rules we
established over 5 years ago, at www.openbsd.org/goals.html (and those
same basic rules govern the other *BSD projects too).  Specifically,
Darren says that modified versions are not permitted.  But software
which OpenBSD uses and redistributes must be free to all (be they
people or companies), for any purpose they wish to use it, including
modification, use, peeing on, or even integration into baby mulching
machines or atomic bombs to be dropped on Australia.  Furthermore, we
know of a number of companies using ipf with modification like us, who
are now in the same situation, and we hope that some of them will work
with us to fill this gap that now exists in OpenBSD (temporarily, we
hope).
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.11 2000/09/22 14:25:40 millert Exp $
d17 1
@


1.11
log
@Remove /var/run/ipmon.pid and add a comment saying when the user may
need to add it.
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.10 2000/09/21 21:46:48 millert Exp $
a16 2
# If you run ipmon w/o the -Ds flag you need to add "/var/run/ipmon.pid" here
/var/log/ipflog				640  7    *   24     Z
@


1.10
log
@Change ipflog entry; joe@@nall.com
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.9 1999/05/10 14:15:26 art Exp $
a9 1
/var/log/ipflog				640  7    *   24     Z /var/run/ipmon.pid
d17 2
@


1.9
log
@Don't rotate kerberos logs. From: mattiasa@@stacken.kth.se
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.8 1999/03/25 05:21:50 beck Exp $
d10 1
a10 1
/var/log/ipflog				640  3    10   *     Z
@


1.8
log
@add web ssl logs to example for http rotating
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.7 1998/10/02 17:12:21 millert Exp $
a10 1
/var/log/kerberos.log			640  7    *    24    Z
@


1.7
log
@Add commented out entry to rotate www logs
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.6 1998/09/19 20:04:13 millert Exp $
d24 5
@


1.6
log
@rotate authlog and secure entries after 1 week
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.5 1997/12/17 07:52:44 brian Exp $
d18 6
a23 1
/var/log/ppp.log	root.wheel	640  7    250  *     Z
@


1.5
log
@Add /var/log/ppp.log
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.4 1997/04/02 11:56:43 kstailey Exp $
d8 1
a8 1
/var/log/authlog	root.wheel	640  7    *    *     Z
d15 1
a15 1
/var/log/secure				600  7    *    *     Z
@


1.4
log
@add ipflog
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.3 1996/12/15 20:04:06 millert Exp $
d18 1
@


1.3
log
@Sync'd with new syslog.conf changes
@
text
@d1 1
a1 1
#	$OpenBSD: newsyslog.conf,v 1.2 1996/05/26 10:25:25 deraadt Exp $
d10 1
@


1.2
log
@sync & label
@
text
@d1 1
a1 1
#	$OpenBSD$
d8 2
d14 1
@


1.1
log
@Initial revision
@
text
@d1 2
a3 1
# $Id: newsyslog.conf,v 1.6 1994/02/17 00:15:18 cgd Exp $
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
