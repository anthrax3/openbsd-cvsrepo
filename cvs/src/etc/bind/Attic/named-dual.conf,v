head	1.12;
access;
symbols
	OPENBSD_5_6:1.11.0.22
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.20
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.11.0.16
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.11.0.14
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.11.0.12
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.10
	OPENBSD_5_0:1.11.0.8
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.6
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.11.0.4
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.11.0.2
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.10.0.6
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.2
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.9.0.4
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.6.0.14
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.6.0.12
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.10
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.8
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.6
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.4
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.6.0.2
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.4.0.4
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.2
	OPENBSD_3_3_BASE:1.4;
locks; strict;
comment	@# @;


1.12
date	2014.08.22.19.19.25;	author deraadt;	state dead;
branches;
next	1.11;
commitid	DjPuiMfLSQV3ARle;

1.11
date	2009.11.02.21.12.56;	author jakob;	state Exp;
branches;
next	1.10;

1.10
date	2008.08.29.11.47.49;	author jakob;	state Exp;
branches;
next	1.9;

1.9
date	2008.01.03.21.20.25;	author jakob;	state Exp;
branches;
next	1.8;

1.8
date	2007.12.16.21.34.56;	author jakob;	state Exp;
branches;
next	1.7;

1.7
date	2007.12.13.07.45.03;	author jakob;	state Exp;
branches;
next	1.6;

1.6
date	2004.08.16.15.48.28;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2003.09.22.20.44.32;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	2003.02.27.14.44.04;	author todd;	state Exp;
branches;
next	1.3;

1.3
date	2003.02.18.09.41.07;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2003.01.20.22.47.08;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.20.22.30.13;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.12
log
@disable use of bind in base; in the base use nsd/unbound instead.
a proper & complete bind port will show up.
discussed with many for years
@
text
@// $OpenBSD: named-dual.conf,v 1.11 2009/11/02 21:12:56 jakob Exp $
//
// Example file for a named configuration with dual views,
// one processing recursive queries only and one processing
// authoritative-only queries.


// Update this list to include only the networks for which you want
// to execute recursive queries. The default setting allows all hosts
// on any IPv4 networks for which the system has an interface, and
// the IPv6 localhost address.
//
acl clients {
	localnets;
	::1;
};

options {
	version "";	// remove this to allow version queries

	listen-on    { any; };
	listen-on-v6 { any; };

	empty-zones-enable yes;
};

logging {
	category lame-servers { null; };
};

view "recursive" {
	match-clients { clients; };
	match-recursive-only yes;
	allow-recursion { clients; };

	zone "." {
		type hint;
		file "etc/root.hint";
	};

	zone "localhost" {
		type master;
		file "standard/localhost";
		allow-transfer { localhost; };
	};

	zone "127.in-addr.arpa" {
		type master;
		file "standard/loopback";
		allow-transfer { localhost; };
	};

	zone "1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa" {
		type master;
		file "standard/loopback6.arpa";
		allow-transfer { localhost; };
	};
};

view "authoritative" {
	recursion no;
	additional-from-auth no;
	additional-from-cache no;

	// Master zones
	//
	//zone "myzone.net" {
	//	type master;
	//	file "master/myzone.net";
	//};

	// Slave zones
	//
	//zone "otherzone.net" {
	//	type slave;
	//	file "slave/otherzone.net";
	//	masters { 192.168.1.10; [...;] };
	//};
};
@


1.11
log
@fix reverse zone for ::1 (PR#6243)
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.10 2008/08/29 11:47:49 jakob Exp $
@


1.10
log
@remove BIND's delegation-only from default config files.
ok djm@@ millert@@
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.9 2008/01/03 21:20:25 jakob Exp $
d53 1
a53 1
	zone "0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa" {
@


1.9
log
@revert back to using local zones for localhost. and IPv4/IPv6 reverse until
we've found a better solution for chrooted applications.
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.8 2007/12/16 21:34:56 jakob Exp $
a56 8
	};

	zone "com" {
		type delegation-only;
	};

	zone "net" {
		type delegation-only;
@


1.8
log
@remove localhost. zone (localhost. queries are handled by /etc/hosts)
replace IPv4 and IPv6 loopback zones with BIND's autogenerated empty zones.
move root.hint to /var/named/etc
remove empty directory /var/named/standard
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.7 2007/12/13 07:45:03 jakob Exp $
d39 18
@


1.7
log
@add explicit allow-recursion for recursive view
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.6 2004/08/16 15:48:28 jakob Exp $
d23 2
a35 2
	// Standard zones
	//
d38 1
a38 19
		file "standard/root.hint";
	};

	zone "localhost" {
		type master;
		file "standard/localhost";
		allow-transfer { localhost; };
	};

	zone "127.in-addr.arpa" {
		type master;
		file "standard/loopback";
		allow-transfer { localhost; };
	};

	zone "0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.arpa" {
		type master;
		file "standard/loopback6.arpa";
		allow-transfer { localhost; };
@


1.6
log
@remove ip6.int. ok henning@@
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.5 2003/09/22 20:44:32 jakob Exp $
d32 1
@


1.5
log
@set .com/.net to delegation-only
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.4 2003/02/27 14:44:04 todd Exp $
a54 6
		allow-transfer { localhost; };
	};

	zone "0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.ip6.int" {
		type master;
		file "standard/loopback6.int";
@


1.4
log
@add ::1 to the clients acl (recursion should work from localhost)
ok jakob@@
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.3 2003/02/18 09:41:07 jakob Exp $
d62 8
@


1.3
log
@shut up logging of lame servers
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.2 2003/01/20 22:47:08 jakob Exp $
d10 2
a11 1
// on any IPv4 networks for which the system has an interface.
d15 1
@


1.2
log
@remove directory statement, not needed since we chroot by default
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.1 2003/01/20 22:30:13 jakob Exp $
d18 7
@


1.1
log
@bind9 configuration files
@
text
@d1 1
a1 1
// $OpenBSD: named-dual.conf,v 1.1 2003/01/03 22:03:55 jakob Exp $
d17 1
a17 4
	directory "/";			// chroot named, default in OpenBSD
	// directory "/var/named";	// non-chroot named

	version "";			// remove this to allow version queries
@

