head	1.115;
access;
symbols
	OPENBSD_6_1:1.115.0.4
	OPENBSD_6_1_BASE:1.115
	OPENBSD_6_0:1.110.0.4
	OPENBSD_6_0_BASE:1.110
	OPENBSD_5_9:1.105.0.2
	OPENBSD_5_9_BASE:1.105
	OPENBSD_5_8:1.98.0.6
	OPENBSD_5_8_BASE:1.98
	OPENBSD_5_7:1.98.0.2
	OPENBSD_5_7_BASE:1.98
	OPENBSD_5_6:1.95.0.4
	OPENBSD_5_6_BASE:1.95
	OPENBSD_5_5:1.93.0.4
	OPENBSD_5_5_BASE:1.93
	OPENBSD_5_4:1.86.0.2
	OPENBSD_5_4_BASE:1.86
	OPENBSD_5_3:1.80.0.2
	OPENBSD_5_3_BASE:1.80
	OPENBSD_5_2:1.77.0.2
	OPENBSD_5_2_BASE:1.77
	OPENBSD_5_1_BASE:1.76
	OPENBSD_5_1:1.76.0.2
	OPENBSD_5_0:1.74.0.2
	OPENBSD_5_0_BASE:1.74
	OPENBSD_4_9:1.72.0.2
	OPENBSD_4_9_BASE:1.72
	OPENBSD_4_8:1.70.0.2
	OPENBSD_4_8_BASE:1.70
	OPENBSD_4_7:1.63.0.2
	OPENBSD_4_7_BASE:1.63
	OPENBSD_4_6:1.61.0.4
	OPENBSD_4_6_BASE:1.61
	OPENBSD_4_5:1.57.0.2
	OPENBSD_4_5_BASE:1.57
	OPENBSD_4_4:1.53.0.2
	OPENBSD_4_4_BASE:1.53
	OPENBSD_4_3:1.45.0.2
	OPENBSD_4_3_BASE:1.45
	OPENBSD_4_2:1.40.0.2
	OPENBSD_4_2_BASE:1.40
	OPENBSD_4_1:1.37.0.2
	OPENBSD_4_1_BASE:1.37
	OPENBSD_4_0:1.33.0.2
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.31.0.2
	OPENBSD_3_9_BASE:1.31
	OPENBSD_3_8:1.26.0.2
	OPENBSD_3_8_BASE:1.26
	OPENBSD_3_7:1.21.0.2
	OPENBSD_3_7_BASE:1.21
	OPENBSD_3_6:1.16.0.2
	OPENBSD_3_6_BASE:1.16
	OPENBSD_3_5:1.9.0.2
	OPENBSD_3_5_BASE:1.9;
locks; strict;
comment	@# @;


1.115
date	2016.09.11.19.59.57;	author deraadt;	state Exp;
branches;
next	1.114;
commitid	nE2mDEOBdUs9pcWt;

1.114
date	2016.09.11.03.09.30;	author deraadt;	state Exp;
branches;
next	1.113;
commitid	5bdWa87DXO6wfavj;

1.113
date	2016.09.08.20.41.30;	author ratchov;	state Exp;
branches;
next	1.112;
commitid	OYpPi53fdbnV5gsb;

1.112
date	2016.09.04.15.38.59;	author naddy;	state Exp;
branches;
next	1.111;
commitid	bTdHSwWuJ3mVUZAv;

1.111
date	2016.09.02.17.29.00;	author goda;	state Exp;
branches;
next	1.110;
commitid	jpWYiBSH0Zb5ggN1;

1.110
date	2016.05.21.21.35.52;	author deraadt;	state Exp;
branches;
next	1.109;
commitid	VqgBnfl5n3M9BSSw;

1.109
date	2016.05.21.15.18.49;	author deraadt;	state Exp;
branches;
next	1.108;
commitid	63AnsVd02uEVSedF;

1.108
date	2016.04.28.18.17.30;	author natano;	state Exp;
branches;
next	1.107;
commitid	yJ7nITWQGOm5qxNW;

1.107
date	2016.04.25.20.38.35;	author tedu;	state Exp;
branches;
next	1.106;
commitid	0kiqbjPHHvQxOXM9;

1.106
date	2016.03.12.18.02.17;	author espie;	state Exp;
branches;
next	1.105;
commitid	OOHlYIifEE4gewlK;

1.105
date	2016.02.05.06.30.21;	author uebayasi;	state Exp;
branches;
next	1.104;
commitid	BS1QN2U2mq0qO6iK;

1.104
date	2016.01.27.09.12.16;	author reyk;	state Exp;
branches;
next	1.103;
commitid	NpQdAW09XtgD9Zvs;

1.103
date	2015.12.21.22.23.24;	author sf;	state Exp;
branches;
next	1.102;
commitid	BWM7uUdskJJXumQd;

1.102
date	2015.12.21.21.55.42;	author sf;	state Exp;
branches;
next	1.101;
commitid	ct6bdbF3QZyQ09nF;

1.101
date	2015.11.10.21.50.01;	author sthen;	state Exp;
branches;
next	1.100;
commitid	cbpQoyIQoLnKxXlo;

1.100
date	2015.11.10.21.44.03;	author sthen;	state Exp;
branches;
next	1.99;
commitid	xjeR06qiavDtFv9k;

1.99
date	2015.10.23.15.14.46;	author claudio;	state Exp;
branches;
next	1.98;
commitid	D8oDiiCrSjVktjLG;

1.98
date	2014.12.11.19.48.38;	author tedu;	state Exp;
branches;
next	1.97;
commitid	2Qyj7V6Rmn8q72sA;

1.97
date	2014.10.09.04.38.02;	author tedu;	state Exp;
branches;
next	1.96;
commitid	M66ALjcyb37tQVMc;

1.96
date	2014.08.20.11.23.40;	author mikeb;	state Exp;
branches;
next	1.95;
commitid	vzc4wz1s3pDevb7K;

1.95
date	2014.07.11.22.04.51;	author tedu;	state Exp;
branches;
next	1.94;
commitid	xQhhmJP574n3YeP9;

1.94
date	2014.03.14.23.51.25;	author kettenis;	state Exp;
branches;
next	1.93;

1.93
date	2014.01.05.01.27.58;	author deraadt;	state Exp;
branches;
next	1.92;

1.92
date	2013.11.21.11.06.08;	author kettenis;	state Exp;
branches;
next	1.91;

1.91
date	2013.11.05.16.06.28;	author deraadt;	state Exp;
branches;
next	1.90;

1.90
date	2013.09.16.08.18.26;	author dcoppa;	state Exp;
branches;
next	1.89;

1.89
date	2013.08.21.15.14.22;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2013.08.20.14.30.17;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2013.08.08.10.44.26;	author jsg;	state Exp;
branches;
next	1.86;

1.86
date	2013.07.06.17.34.47;	author naddy;	state Exp;
branches;
next	1.85;

1.85
date	2013.07.06.16.15.27;	author naddy;	state Exp;
branches;
next	1.84;

1.84
date	2013.06.21.21.34.33;	author syl;	state Exp;
branches;
next	1.83;

1.83
date	2013.06.15.23.20.51;	author halex;	state Exp;
branches;
next	1.82;

1.82
date	2013.06.03.16.39.41;	author tedu;	state Exp;
branches;
next	1.81;

1.81
date	2013.03.15.09.16.19;	author ratchov;	state Exp;
branches;
next	1.80;

1.80
date	2013.01.30.02.02.02;	author yasuoka;	state Exp;
branches;
next	1.79;

1.79
date	2012.11.26.08.07.59;	author jasper;	state Exp;
branches;
next	1.78;

1.78
date	2012.08.23.06.16.59;	author deraadt;	state Exp;
branches;
next	1.77;

1.77
date	2012.04.06.15.32.56;	author jsing;	state Exp;
branches;
next	1.76;

1.76
date	2011.10.22.19.31.40;	author miod;	state Exp;
branches;
next	1.75;

1.75
date	2011.10.06.20.50.54;	author deraadt;	state Exp;
branches;
next	1.74;

1.74
date	2011.06.26.23.42.27;	author tedu;	state Exp;
branches;
next	1.73;

1.73
date	2011.04.18.16.52.10;	author thib;	state Exp;
branches;
next	1.72;

1.72
date	2010.09.30.15.29.22;	author claudio;	state Exp;
branches;
next	1.71;

1.71
date	2010.09.04.12.18.41;	author miod;	state Exp;
branches;
next	1.70;

1.70
date	2010.08.03.20.16.22;	author miod;	state Exp;
branches;
next	1.69;

1.69
date	2010.07.23.14.36.49;	author mglocker;	state Exp;
branches;
next	1.68;

1.68
date	2010.07.22.00.59.56;	author deraadt;	state Exp;
branches;
next	1.67;

1.67
date	2010.07.03.04.08.10;	author krw;	state Exp;
branches;
next	1.66;

1.66
date	2010.06.27.00.00.51;	author jsing;	state Exp;
branches;
next	1.65;

1.65
date	2010.06.14.14.08.44;	author todd;	state Exp;
branches;
next	1.64;

1.64
date	2010.06.09.16.11.42;	author todd;	state Exp;
branches;
next	1.63;

1.63
date	2009.09.23.15.40.18;	author miod;	state Exp;
branches;
next	1.62;

1.62
date	2009.08.13.15.13.09;	author deraadt;	state Exp;
branches;
next	1.61;

1.61
date	2009.06.03.15.36.55;	author todd;	state Exp;
branches;
next	1.60;

1.60
date	2009.06.03.14.45.39;	author jj;	state Exp;
branches;
next	1.59;

1.59
date	2009.04.05.17.52.21;	author jmc;	state Exp;
branches;
next	1.58;

1.58
date	2009.03.25.19.30.38;	author miod;	state Exp;
branches;
next	1.57;

1.57
date	2009.02.06.21.18.20;	author grange;	state Exp;
branches;
next	1.56;

1.56
date	2009.01.25.17.31.11;	author miod;	state Exp;
branches;
next	1.55;

1.55
date	2008.11.30.04.24.26;	author jakemsr;	state Exp;
branches;
next	1.54;

1.54
date	2008.10.10.20.16.10;	author deraadt;	state Exp;
branches;
next	1.53;

1.53
date	2008.07.14.16.23.07;	author miod;	state Exp;
branches;
next	1.52;

1.52
date	2008.06.28.21.48.29;	author mglocker;	state Exp;
branches;
next	1.51;

1.51
date	2008.06.25.13.41.09;	author jmc;	state Exp;
branches;
next	1.50;

1.50
date	2008.06.13.21.09.10;	author todd;	state Exp;
branches;
next	1.49;

1.49
date	2008.06.12.22.40.02;	author todd;	state Exp;
branches;
next	1.48;

1.48
date	2008.06.12.20.42.00;	author todd;	state Exp;
branches;
next	1.47;

1.47
date	2008.06.12.18.55.04;	author todd;	state Exp;
branches;
next	1.46;

1.46
date	2008.06.10.07.14.38;	author mglocker;	state Exp;
branches;
next	1.45;

1.45
date	2007.11.26.10.36.37;	author reyk;	state Exp;
branches;
next	1.44;

1.44
date	2007.11.25.22.33.53;	author reyk;	state Exp;
branches;
next	1.43;

1.43
date	2007.11.25.22.33.09;	author reyk;	state Exp;
branches;
next	1.42;

1.42
date	2007.11.25.17.14.40;	author oga;	state Exp;
branches;
next	1.41;

1.41
date	2007.11.25.15.46.06;	author tedu;	state Exp;
branches;
next	1.40;

1.40
date	2007.08.02.16.42.19;	author deraadt;	state Exp;
branches;
next	1.39;

1.39
date	2007.07.25.18.50.49;	author todd;	state Exp;
branches;
next	1.38;

1.38
date	2007.05.28.22.38.33;	author todd;	state Exp;
branches;
next	1.37;

1.37
date	2007.03.07.02.58.41;	author krw;	state Exp;
branches;
next	1.36;

1.36
date	2007.02.16.02.16.33;	author deraadt;	state Exp;
branches;
next	1.35;

1.35
date	2006.12.15.21.03.55;	author kettenis;	state Exp;
branches;
next	1.34;

1.34
date	2006.10.10.12.58.03;	author todd;	state Exp;
branches;
next	1.33;

1.33
date	2006.08.28.21.23.33;	author tsi;	state Exp;
branches;
next	1.32;

1.32
date	2006.06.11.11.03.33;	author mk;	state Exp;
branches;
next	1.31;

1.31
date	2005.12.27.19.03.07;	author miod;	state Exp;
branches;
next	1.30;

1.30
date	2005.10.06.06.43.58;	author otto;	state Exp;
branches;
next	1.29;

1.29
date	2005.10.04.18.34.29;	author otto;	state Exp;
branches;
next	1.28;

1.28
date	2005.10.04.18.11.59;	author otto;	state Exp;
branches;
next	1.27;

1.27
date	2005.10.04.07.40.34;	author otto;	state Exp;
branches;
next	1.26;

1.26
date	2005.08.01.22.22.36;	author deraadt;	state Exp;
branches;
next	1.25;

1.25
date	2005.06.29.18.24.53;	author todd;	state Exp;
branches;
next	1.24;

1.24
date	2005.06.02.20.13.59;	author tholo;	state Exp;
branches;
next	1.23;

1.23
date	2005.04.21.00.31.07;	author krw;	state Exp;
branches;
next	1.22;

1.22
date	2005.03.29.16.40.39;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2005.03.01.13.37.09;	author otto;	state Exp;
branches;
next	1.20;

1.20
date	2005.02.07.08.23.41;	author david;	state Exp;
branches;
next	1.19;

1.19
date	2005.02.07.06.24.45;	author david;	state Exp;
branches;
next	1.18;

1.18
date	2005.01.28.18.59.42;	author danh;	state Exp;
branches;
next	1.17;

1.17
date	2005.01.10.07.58.00;	author dlg;	state Exp;
branches;
next	1.16;

1.16
date	2004.08.19.07.05.49;	author miod;	state Exp;
branches;
next	1.15;

1.15
date	2004.08.09.19.58.27;	author otto;	state Exp;
branches;
next	1.14;

1.14
date	2004.06.03.18.40.16;	author grange;	state Exp;
branches;
next	1.13;

1.13
date	2004.05.30.08.24.11;	author grange;	state Exp;
branches;
next	1.12;

1.12
date	2004.05.29.04.08.52;	author deraadt;	state Exp;
branches;
next	1.11;

1.11
date	2004.04.11.18.15.22;	author millert;	state Exp;
branches;
next	1.10;

1.10
date	2004.04.11.18.06.04;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	2004.03.12.04.54.32;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	2004.02.20.19.13.48;	author miod;	state Exp;
branches;
next	1.7;

1.7
date	2004.02.16.19.05.05;	author miod;	state Exp;
branches;
next	1.6;

1.6
date	2004.02.14.17.24.58;	author todd;	state Exp;
branches;
next	1.5;

1.5
date	2004.02.13.23.35.03;	author miod;	state Exp;
branches;
next	1.4;

1.4
date	2004.02.10.01.35.12;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	2004.02.08.07.07.37;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	2004.02.05.22.23.28;	author todd;	state Exp;
branches;
next	1.1;

1.1
date	2004.01.28.02.14.03;	author mickey;	state Exp;
branches;
next	;


desc
@@


1.115
log
@sync
@
text
@#!/bin/sh -
#
# THIS FILE AUTOMATICALLY GENERATED.  DO NOT EDIT.
# generated from:
#
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.68 2016/09/04 15:38:59 naddy Exp 
#	OpenBSD: MAKEDEV.common,v 1.93 2016/09/11 03:06:31 deraadt Exp 
#	OpenBSD: MAKEDEV.mi,v 1.83 2016/09/11 03:06:31 deraadt Exp 
#	OpenBSD: MAKEDEV.sub,v 1.14 2005/02/07 06:14:18 david Exp 
#
#
# Copyright (c) 2001-2004 Todd T. Fries <todd@@OpenBSD.org>
#
# Permission to use, copy, modify, and distribute this software for any
# purpose with or without fee is hereby granted, provided that the above
# copyright notice and this permission notice appear in all copies.
#
# THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
#
# Device "make" file.  Valid arguments:
#	all	makes all known devices, including local devices.
#		Tries to make the ``standard'' number of each type.
#	ramdisk	Ramdisk kernel devices
#	std	Standard devices
#	local	Configuration specific devices
# Disks:
#	cd*	ATAPI and SCSI CD-ROM drives
#	fd*	Floppy disk drives (3 1/2", 5 1/4")
#	rd*	"rd" pseudo-disks
#	sd*	SCSI disks, including flopticals
#	vnd*	"file" pseudo-disk devices
#	wd*	"winchester" disk drives (ST506, IDE, ESDI, RLL, ...)
# Tapes:
#	ch*	SCSI media changers
#	st*	SCSI tape drives
# Terminal ports:
#	tty[0-7][0-9a-f]	NS16x50 serial ports
#	ttyc*	Cyclades serial ports
#	ttyVI*	Virtio serial ports
# Pseudo terminals:
#	ptm	pty master device
#	pty*	Set of 62 master pseudo terminals
#	tty*	Set of 62 slave pseudo terminals
# Console ports:
#	ttyC-J*	wscons display devices
#	wscons	Minimal wscons devices
#	wskbd*	wscons keyboards
#	wsmux	wscons keyboard/mouse mux devices
# Pointing devices:
#	wsmouse*	wscons mice
# Printers:
#	lpa*	Polled printer port
#	lpt*	IEEE 1284 centronics printer
# USB devices:
#	ttyU*	USB serial ports
#	uall	All USB devices
#	ugen*	Generic USB devices
#	uhid*	Generic HID devices
#	ulpt*	Printer devices
#	usb*	Bus control devices used by usbd for attach/detach
# Special purpose devices:
#	apm	Power Management Interface
#	audio*	Audio devices
#	bio	ioctl tunnel pseudo-device
#	bktr*	Video frame grabbers
#	bpf	Berkeley Packet Filter
#	diskmap	Disk mapper
#	drm*	Direct Rendering Manager
#	fd	fd/* nodes
#	fuse	Userland Filesystem
#	gpio*	General Purpose Input/Output
#	gpr*	GPR400 smartcard reader
#	hotplug	devices hot plugging
#	ipmi*	IPMI BMC access
#	nvram	NVRAM access
#	pci*	PCI bus devices
#	pctr*	PC Performance Tuning Register access device
#	pf*	Packet Filter
#	pppx*	PPP Multiplexer
#	radio*	FM tuner devices
#	*random	In-kernel random data source
#	rmidi*	Raw MIDI devices
#	speaker	PC speaker
#	tun*	Network tunnel driver
#	tap*	Ethernet tunnel driver
#	tuner*	Tuner devices
#	uk*	Unknown SCSI devices
#	video*	Video V4L2 devices
#	vmm	Virtual Machine Monitor
#	vscsi*	Virtual SCSI controller
#	pvbus*	paravirtual device tree root
#	switch*	Switch driver
PATH=/sbin:/usr/sbin:/bin:/usr/bin
T=$0

# set this to echo for Echo-Only debugging
[ "$eo" ] || eo=

hex()
{
	case $1 in
	[0-9]) echo -n $1;;
	10) echo -n a;;
	11) echo -n b;;
	12) echo -n c;;
	13) echo -n d;;
	14) echo -n e;;
	15) echo -n f;;
	esac
}

alph2d()
{
	local t="$1"
	local p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"
	local sub=${p%${t}*}
	echo ${#sub}
}

h2d()
{
	local s="$1"
	local f=${s%*[0-9a-f]} n=${s#[0-9a-f]*}

	echo $(($(_h2d $f)*16+ $(_h2d $n) ))
}

_h2d()
{
	case $1 in
	[0-9]) echo -n $1;;
	a) echo -n 10;;
	b) echo -n 11;;
	c) echo -n 12;;
	d) echo -n 13;;
	e) echo -n 14;;
	f) echo -n 15;;
	esac
}

unt()
{
	# XXX pdksh can't seem to deal with locally scoped variables
	# in ${foo#$bar} expansions
	arg="$1"
	tmp="${arg#[a-zA-Z]*}"
	tmp="${tmp%*[a-zA-Z]}"
	while [ "$tmp" != "$arg" ]
	do
		arg=$tmp
		tmp="${arg#[a-zA-Z]*}"
		tmp="${tmp%*[a-zA-Z]}"
	done
	echo $arg
}

dodisk()
{
	[ "$DEBUG" ] && set -x
	n=$(($((${5}*${7:-16}))+${6})) count=0
	[ 0$7 -ne 8 ] && l="i j k l m n o p"
	for d in a b c d e f g h $l
	do
		M $1$2$d	b $3 $(($n+$count)) 640 operator
		M r$1$2$d	c $4 $(($n+$count)) 640 operator
		let count=count+1
	done
}

dodisk2()
{
	n=$(($(($5*${7:-16}))+$6))
	M $1$2a b $3 $n 640 operator
	M r$1$2a c $4 $n 640 operator
	n=$(($n+2))
	M $1$2c b $3 $n 640 operator
	M r$1$2c c $4 $n 640 operator
}

# M name b/c major minor [mode] [group]
RMlist[0]="rm -f"

mkl() {
	: ${mklist[0]:=";mknod"}
	mklist[${#mklist[*]}]=" -m $1 $2 $3 $4 $5"
}

M() {
	RMlist[${#RMlist[*]}]=$1
	mkl ${5-666} $1 $2 $3 $4
	G=${6:-wheel}
	[ "$7" ] && {
		MKlist[${#MKlist[*]}]="&& chown $7:$G $1"
	} || {
		case $G in
		wheel)
			[ ${#whlist[*]} = 0 ] && whlist[0]="&& chgrp wheel"
			whlist[${#whlist[*]}]="$1"
		;;
		operator)
			[ ${#oplist[*]} = 0 ] && oplist[0]="&& chgrp operator"
			oplist[${#oplist[*]}]="$1"
		;;
		*)
			MKlist[${#MKlist[*]}]="&& chgrp $G $1";
		esac
	}
	return 0
}

R() {
[ "$DEBUG" ] && set -x
for i in "$@@"
do
U=`unt $i`
[ "$U" ] || U=0

case $i in
ramdisk)
	R std bpf fd0 wd0 sd0 tty00 tty01 rd0 bio diskmap
	R st0 cd0 ttyC0 wskbd0 wskbd1 wskbd2 random
	;;

std)
	M console	c 0 0 600
	M tty		c 1 0
	M mem		c 2 0 640 kmem
	M kmem		c 2 1 640 kmem
	M null		c 2 2
	M zero		c 2 12
	M stdin		c 22 0
	M stdout	c 22 1
	M stderr	c 22 2
	M ksyms		c 50 0 640 kmem
	M klog		c 7 0 600
	M xf86		c 2 4 600
	;;

ttyc*)
	M ttyc$U c 38 $U 660 dialer root
	M cuac$U c 38 $(($U+128)) 660 dialer root
	;;

switch*)
	M switch$U c 97 $U 600
	;;

pvbus*)
	M pvbus$U c 95 $U 640
	;;

vscsi*)
	M vscsi$U c 89 $U 600
	;;

vmm)
	M vmm c 10 0 600
	;;

video*)
	M video$U  c 44 $U 600
	MKlist[${#MKlist[*]}]=";[ -e video ] || ln -s video$U video"
	;;

uk*)
	M uk$U c 20 $U 640 operator
	;;

tuner*)
	M tuner$U c 49 $(($(($U*2))+16)) 644
	;;

tap*)
	M tap$U c 93 $U 600
	;;

tun*)
	M tun$U c 40 $U 600
	;;

speaker)
	M speaker c 27 0 600
	;;

rmidi*)
	M rmidi$U c 52 $U 666
	;;

*random)
	n=0
	for pre in " " s u a
	do
		M ${pre}random c 45 $n 644
		n=$(($n+1))
	done
	;;

radio*)
	M radio$U	c 76 $U
	MKlist[${#MKlist[*]}]=";[ -e radio ] || ln -s radio$U radio"
	;;

pppx*)
	M pppx$U c 91 $U 600
	;;

pf*)
	M pf c 73 0 600
	;;

pctr)
	M pctr c 46 0 644
	;;

pci*)
	M pci$U	c 72 $U 600
	MKlist[${#MKlist[*]}]=";[ -h pci ] || ln -sf pci0 pci"
	;;

nvram)
	M nvram c 85 0 440 kmem
	;;

ipmi*)
	M ipmi$U c 96 $U 600
	;;

hotplug)
	M hotplug c 82 $U 400
	;;

gpr*)
	M gpr$U c 80 $U
	;;

gpio*)
	M gpio$U c 88 $U 600
	;;

fuse)
	M fuse$U c 92 $U 600
	;;

fd)
	RMlist[${#RMlist[*]}]=";mkdir -p fd;rm -f" n=0
	while [ $n -lt 64 ];do M fd/$n c 22 $n;n=$(($n+1));done
	MKlist[${#MKlist[*]}]=";chmod 555 fd"
	;;

drm*)
	M drm$U c 87 $U 600
	;;

diskmap)
	M diskmap c 90 0 640 operator
	;;

bpf)
	M bpf c 23 0 600
	M bpf0 c 23 0 600
	;;

bktr*)
	M bktr$U c 49 $U 644
	;;

bio)
	M bio c 79 0 600
	;;

audio*)
	M audio$U	c 42 $U
	M mixer$U	c 42 $(($U+16))
	M audioctl$U	c 42 $(($U+192))
	MKlist[${#MKlist[*]}]=";[ -e audio ] || ln -s audio$U audio"
	MKlist[${#MKlist[*]}]=";[ -e mixer ] || ln -s mixer$U mixer"
	MKlist[${#MKlist[*]}]=";[ -e audioctl ] || ln -s audioctl$U audioctl"
	;;

apm*)
	M apm	c 83 0 644
	M apmctl	c 83 8 644
	;;

usb*)
	[ "$i" = "usb" ] && u= || u=$U
	M usb$u c 61 $U 660
	;;

ulpt*)
	M ulpt$U c 64 $U 660
	;;

uhid*)
	M uhid$U c 62 $U 660
	;;

ugen*)
	n=$(($U*16))
	for j in 0{0,1,2,3,4,5,6,7,8,9} 1{0,1,2,3,4,5}
	do
		M ugen$U.$j c 63 $(($n+10#$j)) 660
	done
	;;

uall)
	R ttyU0 ttyU1 ttyU2 ttyU3 ugen0 ugen1 ugen2 ugen3 ugen4 ugen5
	R ugen6 ugen7 ulpt0 ulpt1 uhid0 uhid1 uhid2 uhid3 usb0 usb1
	R usb2 usb3 usb4 usb5 usb6 usb7
	;;

ttyU[0-9a-zA-Z])
	U=${i#ttyU*}
	o=$(alph2d $U)
	M ttyU$U c 66 $o 660 dialer root
	M cuaU$U c 66 $(($o+128)) 660 dialer root
	;;

lpt*|lpa*)
	case $i in
	lpt*) n=lpt f=0;;
	lpa*) n=lpa f=128;;
	esac
	M $n$U c 16 $(($U+$f)) 600
	;;

wsmouse[0-9]*)
	M wsmouse$U c 68 $U 600
	;;

wsmux|wsmouse|wskbd)
	M wsmouse c 69 0 600
	M wskbd c 69 1 600
	;;

wskbd[0-9]*)
	M wskbd$U c 67 $U 600
	;;

wscons)
	R wsmouse0 wsmouse1 wsmouse2 wsmouse3 wskbd0 wskbd1 wskbd2
	R wskbd3 wsmux ttyCcfg ttyC0 ttyC1 ttyC2 ttyC3 ttyC4 ttyC5
	R ttyC6 ttyC7 ttyC8 ttyC9 ttyCa ttyCb
	;;

tty[C-J]*)
	U=${i##tty[C-J]}
	case $i in
	ttyC*) n=C m=0;;
	ttyD*) n=D m=256;;
	ttyE*) n=E m=512;;
	ttyF*) n=F m=768;;
	ttyG*) n=G m=1024;;
	ttyH*) n=H m=1280;;
	ttyI*) n=I m=1536;;
	ttyJ*) n=J m=1792;;
	esac
	case $U in
	[0-9a-f]) M tty$n$U c 12 $((16#$U+$m)) 600;;
	cfg) M tty${n}cfg c 12 $((255+$m)) 600;;
	*) echo bad unit $U for $i; exit 1;;
	esac
	;;

pty*)
	if [ $U -gt 15 ]; then
		echo bad unit for pty in: $i
		continue
	fi
	set -A letters p q r s t u v w x y z P Q R S T
	set -A suffixes 0 1 2 3 4 5 6 7 8 9 a b c d e f g h i j k l m n o p q \
	    r s t u v w x y z A B C D E F G H I J K L M N O P Q R S T U V W X \
	    Y Z

	name=${letters[$U]}
	n=0
	while [ $n -lt 62 ]
	do
		nam=$name${suffixes[$n]}
		off=$(($U*62))
		M tty$nam c 5 $(($off+$n))
		M pty$nam c 6 $(($off+$n))
		n=$(($n+1))
	done
	;;

ptm)
	M ptm c 81 0 666
	;;

ttyVI*)
	M ttyVI$U c 94 $U 660 dialer root
	;;

tty[0-7][0-9a-f])
	U=${i#tty*}
	o=$(h2d $U)
	M tty$U c 8 $o 660 dialer root
	M cua$U c 8 $(($o+128)) 660 dialer root
	;;

st*)
	n=$(($U*16))
	for pre in " " n e en
	do
		M ${pre}rst$U	c 14 $n 660 operator
		n=$(($n+1))
	done
	;;

ch*)
	M ch$U c 17 $U 660 operator
	;;

vnd*)
	dodisk vnd $U 14 41 $U 0
	;;

rd*)
	dodisk2 rd $U 17 47 $U 0
	;;

fd*)
	typnam=$U${i#fd[01]*}
	case $typnam in
	0|1)	typnum=0;; # no type specified, assume A
	*A)	typnum=0; typnam=0;;
	*B)	typnum=1;;
	*C)	typnum=2;;
	*D)	typnum=3;;
	*E)	typnum=4;;
	*F)	typnum=5;;
	*G)	typnum=6;;
	*H)	typnum=7;;
	*)	echo bad type $typnam for $i; exit 1;;
	esac
	case $U in
	0|1)	blk=2; chr=9;;
	*)	echo bad unit $U for $i; exit 1;;
	esac
	nam=fd${typnam}
	n=$(($(($U*128))+$(($typnum*16))))
	M ${nam}a	b $blk $n 640 operator
	M ${nam}b	b $blk $(($n+1)) 640 operator
	M ${nam}c	b $blk $(($n+2)) 640 operator
	M ${nam}i	b $blk $(($n+8)) 640 operator
	M r${nam}a	c $chr $n 640 operator
	M r${nam}b	c $chr $(($n+1)) 640 operator
	M r${nam}c	c $chr $(($n+2)) 640 operator
	M r${nam}i	c $chr $(($n+8)) 640 operator
	;;

cd*)
	dodisk2 cd $U 6 15 $U 0
	;;

local)
	test -s $T.local && sh $T.local
	;;

all)
	R switch0 switch1 switch2 switch3 ipmi0 ttyVI00 ttyVI10
	R ttyVI20 ttyVI30 ttyVI40 drm0 drm1 drm2 drm3 nvram gpio0
	R gpio1 gpio2 bktr0 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4
	R sd5 sd6 sd7 sd8 sd9 cd0 cd1 rd0 tap0 tap1 tap2 tap3 tun0
	R tun1 tun2 tun3 bio pty0 fd1 fd1B fd1C fd1D fd1E fd1F fd1G
	R fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G fd0H diskmap vscsi0
	R ch0 audio0 audio1 audio2 bpf pvbus0 vmm fuse pppx hotplug
	R ptm gpr0 local wscons pci0 pci1 pci2 pci3 uall rmidi0 rmidi1
	R rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0 radio0
	R speaker video0 video1 uk0 random lpa0 lpa1 lpa2 lpt0 lpt1
	R lpt2 tty00 tty01 tty02 tty03 tty04 tty05 tty06 tty07 tty08
	R tty09 tty0a tty0b ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6
	R ttyc7 apm pf pctr wd0 wd1 wd2 wd3 std st0 st1 fd
	;;

wd*|sd*)
	case $i in
	wd*) dodisk wd $U 0 3 $U 0;;
	sd*) dodisk sd $U 4 13 $U 0;;
	esac
	;;

*)
	echo $i: unknown device
	;;
esac
done
}
R "$@@"
{
echo -n ${RMlist[*]}
echo -n ${mklist[*]}
echo -n ${MKlist[*]}
echo -n ${whlist[*]}
echo ${oplist[*]}
} | if [ "$eo" = "echo" ]; then
	cat
else
	sh
fi
@


1.114
log
@sync
@
text
@d246 2
a247 2
	M ttyc$U c 38 $U 660 dialer uucp
	M cuac$U c 38 $(($U+128)) 660 dialer uucp
d421 2
a422 2
	M ttyU$U c 66 $o 660 dialer uucp
	M cuaU$U c 66 $(($o+128)) 660 dialer uucp
d498 1
a498 1
	M ttyVI$U c 94 $U 660 dialer uucp
d504 2
a505 2
	M tty$U c 8 $o 660 dialer uucp
	M cua$U c 8 $(($o+128)) 660 dialer uucp
@


1.113
log
@sync after /dev/sound* removal
@
text
@d7 2
a8 2
#	OpenBSD: MAKEDEV.common,v 1.92 2016/09/08 20:39:28 ratchov Exp 
#	OpenBSD: MAKEDEV.mi,v 1.82 2016/03/12 17:58:59 espie Exp 
d305 1
a305 1
	M radio$U     c 76 $U
d604 1
a604 1
        cat
@


1.112
log
@Remove the tape block device nodes.
While here, also remove two forgotten descriptions for long obsolete
devices.
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.67 2016/09/02 17:06:13 goda Exp 
#	OpenBSD: MAKEDEV.common,v 1.90 2016/09/02 17:06:13 goda Exp 
d378 1
a378 1
	M sound$U	c 42 $U
a379 1
	M audio$U	c 42 $(($U+128))
a382 1
	MKlist[${#MKlist[*]}]=";[ -e sound ] || ln -s sound$U sound"
@


1.111
log
@sync
@
text
@a513 1
		M ${pre}st$U	b 5 $n 660 operator
@


1.110
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.66 2016/04/28 18:17:30 natano Exp 
#	OpenBSD: MAKEDEV.common,v 1.88 2016/05/21 15:17:49 deraadt Exp 
d98 1
d250 4
d267 1
a267 1
	M video$U  c 44 $U 600 
d571 13
a583 13
	R ipmi0 ttyVI00 ttyVI10 ttyVI20 ttyVI30 ttyVI40 drm0 drm1
	R drm2 drm3 nvram gpio0 gpio1 gpio2 bktr0 vnd0 vnd1 vnd2 vnd3
	R sd0 sd1 sd2 sd3 sd4 sd5 sd6 sd7 sd8 sd9 cd0 cd1 rd0 tap0
	R tap1 tap2 tap3 tun0 tun1 tun2 tun3 bio pty0 fd1 fd1B fd1C
	R fd1D fd1E fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G
	R fd0H diskmap vscsi0 ch0 audio0 audio1 audio2 bpf pvbus0 vmm
	R fuse pppx hotplug ptm gpr0 local wscons pci0 pci1 pci2 pci3
	R uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 speaker video0 video1 uk0 random lpa0 lpa1
	R lpa2 lpt0 lpt1 lpt2 tty00 tty01 tty02 tty03 tty04 tty05
	R tty06 tty07 tty08 tty09 tty0a tty0b ttyc0 ttyc1 ttyc2 ttyc3
	R ttyc4 ttyc5 ttyc6 ttyc7 apm pf pctr wd0 wd1 wd2 wd3 std st0
	R st1 fd
@


1.109
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.87 2016/04/28 18:17:30 natano Exp 
d262 1
a262 1
	M video$U  c 44 $U
@


1.108
log
@Replace /dev/bpf[0-9] with /dev/bpf and /dev/bpf0. The /dev/bpf node is
unused for now, but I plan to convert all programs in base to use it in
a future diff. /dev/bpf0 is for compatibility with existing binaries
and is to be removed after a transition period.

ok rpe krw, for the installer part
"Let's see it hit the tree." deraadt
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.65 2016/04/25 20:38:10 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.86 2016/04/25 20:39:42 tedu Exp 
@


1.107
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.85 2016/02/05 06:29:45 uebayasi Exp 
d72 1
a72 1
#	bpf*	Berkeley Packet Filter
d225 1
a225 1
	R std bpf0 fd0 wd0 sd0 tty00 tty01 rd0 bio diskmap
d359 3
a361 2
bpf*)
	M bpf$U c 23 $U 600
d569 5
a573 6
	R tap1 tap2 tap3 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3 bpf4
	R bpf5 bpf6 bpf7 bpf8 bpf9 bio pty0 fd1 fd1B fd1C fd1D fd1E
	R fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G fd0H
	R diskmap vscsi0 ch0 audio0 audio1 audio2 pvbus0 vmm fuse pppx
	R hotplug ptm gpr0 local wscons pci0 pci1 pci2 pci3 uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
@


1.106
log
@regen generated files after MAKEDEVs commits
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.64 2016/02/05 06:29:45 uebayasi Exp 
d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.81 2012/11/05 08:07:09 jasper Exp 
a89 1
#	systrace*	System call tracing device
a281 4
systrace)
	M systrace c 78 0 644
	;;

d577 2
a578 2
	R ttyc4 ttyc5 ttyc6 ttyc7 apm pf pctr systrace wd0 wd1 wd2 wd3
	R std st0 st1 fd
@


1.105
log
@Regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.63 2016/01/27 09:09:29 reyk Exp 
#	OpenBSD: MAKEDEV.common,v 1.84 2016/01/27 09:09:28 reyk Exp 
d190 2
a191 1
	mklist[${#mklist[*]}]=";mknod -m $1 $2 $3 $4 $5"
@


1.104
log
@sync
@
text
@d80 1
d329 4
d569 14
a582 13
	R ttyVI00 ttyVI10 ttyVI20 ttyVI30 ttyVI40 drm0 drm1 drm2 drm3
	R nvram gpio0 gpio1 gpio2 bktr0 vnd0 vnd1 vnd2 vnd3 sd0 sd1
	R sd2 sd3 sd4 sd5 sd6 sd7 sd8 sd9 cd0 cd1 rd0 tap0 tap1 tap2
	R tap3 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3 bpf4 bpf5 bpf6
	R bpf7 bpf8 bpf9 bio pty0 fd1 fd1B fd1C fd1D fd1E fd1F fd1G
	R fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G fd0H diskmap vscsi0
	R ch0 audio0 audio1 audio2 pvbus0 vmm fuse pppx hotplug ptm
	R gpr0 local wscons pci0 pci1 pci2 pci3 uall rmidi0 rmidi1
	R rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0 radio0
	R speaker video0 video1 uk0 random lpa0 lpa1 lpa2 lpt0 lpt1
	R lpt2 tty00 tty01 tty02 tty03 tty04 tty05 tty06 tty07 tty08
	R tty09 tty0a tty0b ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6
	R ttyc7 apm pf pctr systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.103
log
@regen MAKEDEV
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.62 2015/12/21 22:15:53 sf Exp 
#	OpenBSD: MAKEDEV.common,v 1.83 2015/12/21 22:15:53 sf Exp 
d97 1
d248 4
d570 7
a576 7
	R ch0 audio0 audio1 audio2 vmm fuse pppx hotplug ptm gpr0
	R local wscons pci0 pci1 pci2 pci3 uall rmidi0 rmidi1 rmidi2
	R rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0 radio0 speaker
	R video0 video1 uk0 random lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 tty00
	R tty01 tty02 tty03 tty04 tty05 tty06 tty07 tty08 tty09 tty0a
	R tty0b ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm pf
	R pctr systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.102
log
@regen MAKEDEV
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.61 2015/11/10 21:42:28 sthen Exp 
#	OpenBSD: MAKEDEV.common,v 1.82 2015/12/09 04:11:58 deraadt Exp 
d45 1
d487 4
d559 13
a571 13
	R drm0 drm1 drm2 drm3 nvram gpio0 gpio1 gpio2 bktr0 vnd0 vnd1
	R vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 sd5 sd6 sd7 sd8 sd9 cd0 cd1
	R rd0 tap0 tap1 tap2 tap3 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2
	R bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 bio pty0 fd1 fd1B fd1C
	R fd1D fd1E fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G
	R fd0H diskmap vscsi0 ch0 audio0 audio1 audio2 vmm fuse pppx
	R hotplug ptm gpr0 local wscons pci0 pci1 pci2 pci3 uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 speaker video0 video1 uk0 random lpa0 lpa1
	R lpa2 lpt0 lpt1 lpt2 tty00 tty01 tty02 tty03 tty04 tty05
	R tty06 tty07 tty08 tty09 tty0a tty0b ttyc0 ttyc1 ttyc2 ttyc3
	R ttyc4 ttyc5 ttyc6 ttyc7 apm pf pctr systrace wd0 wd1 wd2 wd3
	R std st0 st1 fd
@


1.101
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.81 2015/11/10 21:49:18 sthen Exp 
d251 1
a251 1
	M vmm c 10 0 640
@


1.100
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.80 2015/11/10 21:42:28 sthen Exp 
d94 1
a94 1
#	vmm	{Virtual Machine Monitor}
@


1.99
log
@Sync (after tap addition)
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.60 2015/10/23 15:14:11 claudio Exp 
#	OpenBSD: MAKEDEV.common,v 1.79 2015/10/23 15:14:11 claudio Exp 
d94 1
d250 4
d559 1
a559 1
	R fd0H diskmap vscsi0 ch0 audio0 audio1 audio2 fuse pppx
@


1.98
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.59 2014/12/11 19:48:03 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.78 2014/12/11 19:46:15 tedu Exp 
d90 1
d262 4
d551 11
a561 10
	R rd0 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3 bpf4 bpf5 bpf6
	R bpf7 bpf8 bpf9 bio pty0 fd1 fd1B fd1C fd1D fd1E fd1F fd1G
	R fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G fd0H diskmap vscsi0
	R ch0 audio0 audio1 audio2 fuse pppx hotplug ptm gpr0 local
	R wscons pci0 pci1 pci2 pci3 uall rmidi0 rmidi1 rmidi2 rmidi3
	R rmidi4 rmidi5 rmidi6 rmidi7 tuner0 radio0 speaker video0
	R video1 uk0 random lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 tty00 tty01
	R tty02 tty03 tty04 tty05 tty06 tty07 tty08 tty09 tty0a tty0b
	R ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm pf pctr
	R systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.97
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.58 2014/10/09 04:37:43 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.77 2014/10/09 04:33:50 tedu Exp 
a64 1
#	urio*	Diamond Multimedia Rio 500
a374 4
urio*)
	M urio$U c 65 $U 660
	;;

d393 2
a394 2
	R ugen6 ugen7 ulpt0 ulpt1 uhid0 uhid1 uhid2 uhid3 urio0 usb0
	R usb1 usb2 usb3 usb4 usb5 usb6 usb7
@


1.96
log
@Remove userland bits related to the crypto(4) interface;  ok deraadt
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.56 2014/07/11 22:04:09 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.74 2014/07/11 21:58:32 tedu Exp 
a79 1
#	lkm	Loadable kernel modules interface
a312 4
lkm)
	M lkm c 28 0 640 _lkm
	;;

d557 4
a560 4
	R video1 uk0 random lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00
	R tty01 tty02 tty03 tty04 tty05 tty06 tty07 tty08 tty09 tty0a
	R tty0b ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm
	R pf pctr systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.95
log
@regen
@
text
@a72 1
#	crypto	Hardware crypto access driver
a347 4
crypto)
	M crypto c 70 0
	;;

d565 1
a565 1
	R crypto pf pctr systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.94
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.55 2014/03/14 23:47:04 kettenis Exp 
#	OpenBSD: MAKEDEV.common,v 1.73 2013/11/21 11:04:44 kettenis Exp 
a72 1
#	bthub*	Bluetooth Hubs
a352 4
bthub*)
	M bthub$U c 84 $U
	;;

d559 12
a570 13
	R drm0 drm1 drm2 drm3 bthub0 bthub1 bthub2 nvram gpio0 gpio1
	R gpio2 bktr0 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 sd5 sd6
	R sd7 sd8 sd9 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2
	R bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 bio pty0 fd1 fd1B fd1C
	R fd1D fd1E fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G
	R fd0H diskmap vscsi0 ch0 audio0 audio1 audio2 fuse pppx
	R hotplug ptm gpr0 local wscons pci0 pci1 pci2 pci3 uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 speaker video0 video1 uk0 random lpa0 lpa1
	R lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03 tty04 tty05
	R tty06 tty07 tty08 tty09 tty0a tty0b ttyc0 ttyc1 ttyc2 ttyc3
	R ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr systrace wd0 wd1
	R wd2 wd3 std st0 st1 fd
@


1.93
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.54 2014/01/05 01:16:51 deraadt Exp 
a67 1
#	agp*	AGP bridge
a385 5
agp*)
	M agp$U c 86 $U
	MKlist[${#MKlist[*]}]=";[ -e agpgart ] || ln -s agp$U agpgart"
	;;

d564 7
a570 7
	R drm0 drm1 drm2 drm3 agp0 bthub0 bthub1 bthub2 nvram gpio0
	R gpio1 gpio2 bktr0 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4
	R sd5 sd6 sd7 sd8 sd9 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 bio pty0 fd1
	R fd1B fd1C fd1D fd1E fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E
	R fd0F fd0G fd0H diskmap vscsi0 ch0 audio0 audio1 audio2 fuse
	R pppx hotplug ptm gpr0 local wscons pci0 pci1 pci2 pci3 uall
@


1.92
log
@regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.53 2013/11/05 16:05:30 deraadt Exp 
d226 1
a226 1
	R st0 cd0 ttyC0 wskbd0 wskbd1 wskbd2
@


1.91
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.72 2013/11/05 16:05:30 deraadt Exp 
d344 1
a344 1
	M drm$U c 87 $U 660
@


1.90
log
@regen.
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.52 2013/08/21 15:12:46 ajacoutot Exp 
#	OpenBSD: MAKEDEV.common,v 1.71 2013/09/16 08:17:02 dcoppa Exp 
a82 1
#	iop*	I2O controller devices
a320 4
iop*)
	M iop$U c 75 $U 660
	;;

d576 7
a582 7
	R pppx hotplug ptm gpr0 local wscons pci0 pci1 pci2 pci3 iop0
	R iop1 uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6
	R rmidi7 tuner0 radio0 speaker video0 video1 uk0 random lpa0
	R lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03 tty04
	R tty05 tty06 tty07 tty08 tty09 tty0a tty0b ttyc0 ttyc1 ttyc2
	R ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr systrace
	R wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.89
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.51 2013/08/08 10:39:28 jsg Exp 
#	OpenBSD: MAKEDEV.common,v 1.69 2013/08/20 14:27:24 ajacoutot Exp 
d423 3
a425 2
	R ttyU0 ttyU1 ttyU2 ttyU3 ugen0 ugen1 ulpt0 ulpt1 uhid0 uhid1
	R uhid2 uhid3 urio0 usb0 usb1 usb2 usb3 usb4 usb5 usb6 usb7
@


1.88
log
@regen
@
text
@a66 1
uscan_dev
@


1.87
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.68 2013/07/06 17:33:44 naddy Exp 
d67 1
a67 1
#	uscanner*	Scanners
a397 4
uscanner*)
	M uscanner$U c 77 $U 660
	;;

d425 1
a425 2
	R uhid2 uhid3 uscanner0 urio0 usb0 usb1 usb2 usb3 usb4 usb5
	R usb6 usb7
@


1.86
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.50 2013/06/03 16:06:42 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.67 2013/07/06 16:14:38 naddy Exp 
d580 13
a592 13
	R drm0 agp0 bthub0 bthub1 bthub2 nvram gpio0 gpio1 gpio2
	R bktr0 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 sd5 sd6 sd7
	R sd8 sd9 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3
	R bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 bio pty0 fd1 fd1B fd1C fd1D
	R fd1E fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G fd0H
	R diskmap vscsi0 ch0 audio0 audio1 audio2 fuse pppx hotplug
	R ptm gpr0 local wscons pci0 pci1 pci2 pci3 iop0 iop1 uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 speaker video0 video1 uk0 random lpa0 lpa1
	R lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03 tty04 tty05
	R tty06 tty07 tty08 tty09 tty0a tty0b ttyc0 ttyc1 ttyc2 ttyc3
	R ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr systrace wd0 wd1
	R wd2 wd3 std st0 st1 fd
@


1.85
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.66 2013/06/21 21:30:38 syl Exp 
d590 3
a592 2
	R tty06 tty07 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7
	R apm crypto pf pctr systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.84
log
@regen
@
text
@d589 3
a591 3
	R lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03 ttyc0 ttyc1
	R ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr
	R systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.83
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.65 2013/06/15 23:09:36 halex Exp 
d80 1
a80 1
#	fuse*	Userland Filesystem
d339 1
a339 1
fuse*)
d585 7
a591 7
	R diskmap vscsi0 ch0 audio0 audio1 audio2 fuse0 fuse1 fuse2
	R fuse3 pppx hotplug ptm gpr0 local wscons pci0 pci1 pci2 pci3
	R iop0 iop1 uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5
	R rmidi6 rmidi7 tuner0 radio0 speaker video0 video1 uk0 random
	R lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03
	R ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto
	R pf pctr systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.82
log
@regen. reminded by miod
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.64 2013/06/03 16:06:42 tedu Exp 
d80 1
a80 1
#	fuse	Userland Filesystem
d339 1
a339 1
fuse)
d585 7
a591 7
	R diskmap vscsi0 ch0 audio0 audio1 audio2 fuse pppx hotplug
	R ptm gpr0 local wscons pci0 pci1 pci2 pci3 iop0 iop1 uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 speaker video0 video1 uk0 random lpa0 lpa1
	R lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03 ttyc0 ttyc1
	R ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr
	R systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.81
log
@regen after sequencer removal
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.49 2013/03/15 09:10:52 ratchov Exp 
#	OpenBSD: MAKEDEV.common,v 1.62 2013/03/15 09:10:52 ratchov Exp 
d80 1
d339 4
d585 7
a591 7
	R diskmap vscsi0 ch0 audio0 audio1 audio2 pppx hotplug ptm
	R gpr0 local wscons pci0 pci1 pci2 pci3 iop0 iop1 uall rmidi0
	R rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0
	R radio0 speaker video0 video1 uk0 random lpa0 lpa1 lpa2 lpt0
	R lpt1 lpt2 lkm tty00 tty01 tty02 tty03 ttyc0 ttyc1 ttyc2
	R ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr systrace
	R wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.80
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.48 2012/08/23 06:15:28 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.60 2012/08/23 06:15:28 deraadt Exp 
a84 1
#	music*	MIDI sequencer
a317 7
music*)
	M music$U     c 53 $U
	M sequencer$U c 53 $(($U+128))
	MKlist[${#MKlist[*]}]=";[ -e music ] || ln -s music$U music"
	MKlist[${#MKlist[*]}]=";[ -e sequencer ] || ln -s sequencer$U sequencer"
	;;

d583 4
a586 4
	R radio0 music0 speaker video0 video1 uk0 random lpa0 lpa1
	R lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03 ttyc0 ttyc1
	R ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr
	R systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.79
log
@regen
@
text
@d588 2
a589 2
	R diskmap vscsi0 ch0 audio0 audio1 audio2 hotplug ptm gpr0
	R local wscons pci0 pci1 pci2 pci3 iop0 iop1 uall rmidi0
@


1.78
log
@sync
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.80 2011/04/18 16:52:10 thib Exp 
d200 1
a200 1
		MKlist[${#MKlist[*]}]=";chown $7:$G $1"
d204 1
a204 1
			[ ${#whlist[*]} = 0 ] && whlist[0]=";chgrp wheel"
d208 1
a208 1
			[ ${#oplist[*]} = 0 ] && oplist[0]=";chgrp operator"
d212 1
a212 1
			MKlist[${#MKlist[*]}]=";chgrp $G $1";
@


1.77
log
@Regen.
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.47 2012/04/06 15:18:41 jsing Exp 
#	OpenBSD: MAKEDEV.common,v 1.59 2012/04/06 15:18:41 jsing Exp 
a85 1
#	nnpfs*	NNPFS filesystem node
a318 4
nnpfs*)
	M nnpfs$U c 51 $U 600
	;;

d588 2
a589 2
	R diskmap vscsi0 nnpfs0 ch0 audio0 audio1 audio2 hotplug ptm
	R gpr0 local wscons pci0 pci1 pci2 pci3 iop0 iop1 uall rmidi0
@


1.76
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.46 2011/10/22 19:31:23 miod Exp 
#	OpenBSD: MAKEDEV.common,v 1.58 2011/10/22 19:31:20 miod Exp 
a34 1
#	raid*	RAIDframe disk devices
d599 1
a599 2
	R systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1
	R fd
d602 1
a602 1
wd*|sd*|raid*)
a605 1
	raid*) dodisk raid $U 19 54 $U 0;;
@


1.75
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.45 2011/10/06 20:49:27 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.57 2011/10/06 20:49:25 deraadt Exp 
d594 8
a601 7
	R diskmap vscsi0 nnpfs0 ch0 hotplug ptm gpr0 local wscons pci0
	R pci1 pci2 pci3 iop0 iop1 uall rmidi0 rmidi1 rmidi2 rmidi3
	R rmidi4 rmidi5 rmidi6 rmidi7 tuner0 radio0 music0 speaker
	R video0 video1 audio0 audio1 audio2 uk0 random lpa0 lpa1 lpa2
	R lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03 ttyc0 ttyc1 ttyc2
	R ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr systrace
	R wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.74
log
@regen makedev
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.44 2011/06/26 23:28:23 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.55 2011/06/26 23:28:23 tedu Exp 
a32 1
#	ccd*	Concatenated disk devices
d590 11
a600 12
	R bktr0 ccd0 ccd1 ccd2 ccd3 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2
	R sd3 sd4 sd5 sd6 sd7 sd8 sd9 cd0 cd1 rd0 tun0 tun1 tun2 tun3
	R bpf0 bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 bio pty0
	R fd1 fd1B fd1C fd1D fd1E fd1F fd1G fd1H fd0 fd0B fd0C fd0D
	R fd0E fd0F fd0G fd0H diskmap vscsi0 nnpfs0 ch0 hotplug ptm
	R gpr0 local wscons pci0 pci1 pci2 pci3 iop0 iop1 uall rmidi0
	R rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0
	R radio0 music0 speaker video0 video1 audio0 audio1 audio2 uk0
	R random lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02
	R tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm
	R crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2
	R raid3 std st0 st1 fd
d603 1
a603 1
wd*|sd*|raid*|ccd*)
a607 1
	ccd*) dodisk ccd $U 16 18 $U 0;;
@


1.73
log
@Deprecate vnds in favour of svnds.

In effect, this removes the "old" vndX nodes, and renames
the svndX nodes to vndX.

Old svndX nodes will still continue to work though, for now.

Cleanup accordingly.

ok deraadt@@, todd@@
comments and ok on the man page bits from jmc@@
@
text
@d6 3
a8 3
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.43 2010/09/30 15:27:54 claudio Exp 
#	OpenBSD: MAKEDEV.common,v 1.53 2010/09/30 15:27:54 claudio Exp 
#	OpenBSD: MAKEDEV.mi,v 1.79 2009/01/25 17:30:48 miod Exp 
@


1.72
log
@regen
@
text
@a544 1
	dodisk svnd $U 14 41 $U 2048
@


1.71
log
@Regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.41 2010/07/03 03:59:15 krw Exp 
#	OpenBSD: MAKEDEV.common,v 1.51 2010/08/03 20:12:01 miod Exp 
d93 1
d299 4
@


1.70
log
@regen
@
text
@d52 1
a53 1
#	ttyC-J*	wscons display devices
d62 1
a63 1
#	ttyU*	USB serial ports
d79 1
d88 1
d94 1
a95 1
#	*random	In-kernel random data source
a101 1
#	nnpfs*	NNPFS filesystem node
a102 1
#	diskmap	Disk mapper
a252 4
diskmap)
	M diskmap c 90 0 640 operator
	;;

a256 4
nnpfs*)
	M nnpfs$U c 51 $U 600
	;;

d282 4
a294 4
rmidi*)
	M rmidi$U c 52 $U 666
	;;

d317 4
d358 4
d432 6
a444 6
uall)
	R ttyU0 ttyU1 ttyU2 ttyU3 ugen0 ugen1 ulpt0 ulpt1 uhid0 uhid1
	R uhid2 uhid3 uscanner0 urio0 usb0 usb1 usb2 usb3 usb4 usb5
	R usb6 usb7
	;;

d466 6
a488 6
	;;

wscons)
	R wsmouse0 wsmouse1 wsmouse2 wsmouse3 wskbd0 wskbd1 wskbd2
	R wskbd3 wsmux ttyCcfg ttyC0 ttyC1 ttyC2 ttyC3 ttyC4 ttyC5
	R ttyC6 ttyC7 ttyC8 ttyC9 ttyCa ttyCb
@


1.69
log
@Sync.
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.49 2010/07/21 23:40:26 nicm Exp 
d442 1
@


1.68
log
@sync
@
text
@d593 5
a597 5
	R radio0 music0 speaker video0 audio0 audio1 audio2 uk0 random
	R lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03
	R ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto
	R pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std
	R st0 st1 fd
@


1.67
log
@Regen.
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.48 2010/06/14 14:07:49 todd Exp 
@


1.66
log
@Regen.
@
text
@d6 4
a9 4
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.40 2010/06/26 23:49:50 jsing Exp 
#	OpenBSD: MAKEDEV.common,v 1.47 2010/06/09 16:10:24 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.78 2008/06/14 23:09:05 todd Exp 
#	OpenBSD: MAKEDEV.sub,v 1.13 2005/01/28 18:51:38 danh Exp 
a94 1
#	ss*	SCSI scanners
a285 8
ss*)
	M ss$U c 19 $(($U*16)) 640 operator
	M nss$U c 19 $(($(($U*16))+1)) 640 operator
	M enss$U c 19 $(($(($U*16))+3)) 640 operator
	RMlist[${#RMlist[*]}]="scan$U"
	MKlist[${#MKlist[*]}]=";umask 77;ln -s ss$U scan$U"
	;;

d590 8
a597 8
	R fd0E fd0F fd0G fd0H diskmap vscsi0 nnpfs0 ss0 ss1 ch0
	R hotplug ptm gpr0 local wscons pci0 pci1 pci2 pci3 iop0 iop1
	R uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 music0 speaker video0 audio0 audio1 audio2 uk0
	R random lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02
	R tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm
	R crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2
	R raid3 std st0 st1 fd
@


1.65
log
@sync
@
text
@d6 4
a9 4
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.39 2010/06/09 16:10:25 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.48 2010/06/14 14:07:49 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.79 2009/01/25 17:30:48 miod Exp 
#	OpenBSD: MAKEDEV.sub,v 1.14 2005/02/07 06:14:18 david Exp 
d230 1
a230 1
	R std bpf0 fd0 wd0 sd0 tty00 tty01 rd0 bio
@


1.64
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.47 2010/06/09 16:10:24 todd Exp 
d255 1
a255 1
	M diskmap b 90 0 640 operator
@


1.63
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.38 2009/08/13 15:12:36 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.46 2009/09/23 15:39:56 miod Exp 
d103 1
d254 4
d599 8
a606 8
	R fd0E fd0F fd0G fd0H vscsi0 nnpfs0 ss0 ss1 ch0 hotplug ptm
	R gpr0 local wscons pci0 pci1 pci2 pci3 iop0 iop1 uall rmidi0
	R rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0
	R radio0 music0 speaker video0 audio0 audio1 audio2 uk0 random
	R lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03
	R ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto
	R pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std
	R st0 st1 fd
@


1.62
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.45 2009/08/13 15:12:36 deraadt Exp 
d456 1
a456 1
wsmouse*)
d465 1
a465 1
wskbd*)
@


1.61
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.36 2009/06/03 14:45:39 jj Exp 
#	OpenBSD: MAKEDEV.common,v 1.43 2009/06/03 14:45:39 jj Exp 
d81 1
d86 1
a86 1
#	music*	MIDI devices
d102 1
d253 4
d352 4
d589 13
a601 12
	R drm0 agp0 bthub0 bthub1 bthub2 nvram bktr0 ccd0 ccd1 ccd2
	R ccd3 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 sd5 sd6 sd7 sd8
	R sd9 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3 bpf4
	R bpf5 bpf6 bpf7 bpf8 bpf9 bio pty0 fd1 fd1B fd1C fd1D fd1E
	R fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G fd0H nnpfs0
	R ss0 ss1 ch0 hotplug ptm gpr0 local wscons pci0 pci1 pci2
	R pci3 iop0 iop1 uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4
	R rmidi5 rmidi6 rmidi7 tuner0 radio0 music0 speaker video0
	R audio0 audio1 audio2 uk0 random lpa0 lpa1 lpa2 lpt0 lpt1
	R lpt2 lkm tty00 tty01 tty02 tty03 ttyc0 ttyc1 ttyc2 ttyc3
	R ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr systrace wd0 wd1
	R wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.60
log
@Arla client rename from xfs to nnpfs for later upgrades. Tested on various arches. ok todd@@ beck@@
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.35 2009/03/25 19:30:26 miod Exp 
#	OpenBSD: MAKEDEV.common,v 1.42 2009/04/05 17:49:14 jmc Exp 
@


1.59
log
@regen;
@
text
@d100 1
a100 1
#	xfs*	XFS filesystem node
d251 2
a252 2
xfs*)
	M xfs$U c 51 $U 600
d583 1
a583 1
	R fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G fd0H xfs0
@


1.58
log
@Regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.41 2008/11/30 03:33:09 jakemsr Exp 
d99 1
a99 1
#	video*	Video V4L devices
@


1.57
log
@regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.34 2009/02/06 21:17:14 grange Exp 
a55 1
#	drm*	Direct Rendering Manager
d79 1
d352 4
a447 4
	;;

drm*)
	M drm$U c 87 $U 660
@


1.56
log
@regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.33 2009/01/25 17:30:48 miod Exp 
d580 11
a590 11
	R ccd3 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 cd0 cd1 rd0
	R tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7
	R bpf8 bpf9 bio pty0 fd1 fd1B fd1C fd1D fd1E fd1F fd1G fd1H
	R fd0 fd0B fd0C fd0D fd0E fd0F fd0G fd0H xfs0 ss0 ss1 ch0
	R hotplug ptm gpr0 local wscons pci0 pci1 pci2 pci3 iop0 iop1
	R uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 music0 speaker video0 audio0 audio1 audio2 uk0
	R random lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02
	R tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm
	R crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2
	R raid3 std st0 st1 fd
@


1.55
log
@sync
@
text
@d6 3
a8 3
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.32 2008/07/14 16:21:52 miod Exp 
#	OpenBSD: MAKEDEV.common,v 1.40 2008/10/10 20:15:23 deraadt Exp 
#	OpenBSD: MAKEDEV.mi,v 1.78 2008/06/14 23:09:05 todd Exp 
a241 1
	M drum		c 4 0 640 kmem
@


1.54
log
@sync
@
text
@d587 5
a591 5
	R tuner0 radio0 music0 speaker video0 audio0 uk0 random lpa0
	R lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03 ttyc0
	R ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr
	R systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1
	R fd
@


1.53
log
@Regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.39 2008/07/14 16:22:23 miod Exp 
d291 1
a291 1
	for pre in " " s u p a
@


1.52
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.31 2008/06/28 21:46:05 mglocker Exp 
#	OpenBSD: MAKEDEV.common,v 1.38 2008/06/12 22:38:14 todd Exp 
a35 1
#	mcd*	Mitsumi CD-ROM drives
a83 1
#	joy*	Joystick driver
a334 4
joy*)
	M joy$U c 26 $U 666
	;;

a540 4
mcd*)
	dodisk2 mcd $U 7 39 $U 0
	;;

d587 5
a591 5
	R tuner0 radio0 music0 speaker video0 audio0 uk0 random joy0
	R joy1 lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02
	R tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm
	R crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2
	R raid3 std st0 st1 fd mcd0
@


1.51
log
@regen;
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.30 2008/06/25 13:39:46 jmc Exp 
a71 1
#	video*	Video V4L devices
d101 1
d258 5
a397 5
	;;

video*)
	M video$U  c 44 $U
	MKlist[${#MKlist[*]}]=";[ -e video ] || ln -s video$U video"
@


1.50
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.28 2008/06/13 21:07:27 todd Exp 
d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.77 2005/10/06 06:43:19 otto Exp 
a77 1
#	bthub*	Bluetooth Hubs
d80 1
d358 4
a367 4
	;;

bthub*)
	M bthub$U c 84 $U
@


1.49
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.27 2008/06/12 22:38:14 todd Exp 
d229 1
a229 1
	R std bpf0 fd0 wd0 sd0 tty00 tty01 rd0
@


1.48
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.26 2008/06/12 20:39:28 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.37 2008/06/10 07:12:24 mglocker Exp 
d57 1
d453 4
d590 7
a596 7
	R agp0 bthub0 bthub1 bthub2 nvram bktr0 ccd0 ccd1 ccd2 ccd3
	R vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 cd0 cd1 rd0 tun0
	R tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8
	R bpf9 bio pty0 fd1 fd1B fd1C fd1D fd1E fd1F fd1G fd1H fd0
	R fd0B fd0C fd0D fd0E fd0F fd0G fd0H xfs0 ss0 ss1 ch0 hotplug
	R ptm gpr0 local wscons pci0 pci1 pci2 pci3 iop0 iop1 uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
@


1.47
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.25 2008/06/12 18:52:46 todd Exp 
d71 1
a100 1
#	video*	Video V4L devices
a256 5
video*)
	M video$U  c 44 $U
	MKlist[${#MKlist[*]}]=";[ -e video ] || ln -s video$U video"
	;;

d392 5
@


1.46
log
@regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.24 2008/06/10 07:12:25 mglocker Exp 
d229 1
a229 1
	R st0 cd0 ttyC0 random wskbd0 wskbd1 wskbd2
@


1.45
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.23 2007/11/26 10:35:42 reyk Exp 
#	OpenBSD: MAKEDEV.common,v 1.36 2007/07/23 23:21:25 todd Exp 
d100 1
d257 5
d592 5
a596 5
	R tuner0 radio0 music0 speaker audio0 uk0 random joy0 joy1
	R lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03
	R ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto
	R pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std
	R st0 st1 fd mcd0
@


1.44
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.22 2007/11/25 22:33:09 reyk Exp 
d389 1
a389 1
	M agp$U c 87 $U
@


1.43
log
@define the agp devitem (line was missing but found in etc.i386/MAKEDEV.md)

ok deraadt@@
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.21 2007/11/25 17:11:11 oga Exp 
@


1.42
log
@sync
@
text
@d72 1
a72 1
agp_dev
@


1.41
log
@remove acpi device.  named apmctl on amd64 now, and on i386 apmctl
has become a gate to both apm and acpi.  ok deraadt
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.19 2007/08/02 16:40:26 deraadt Exp 
d72 1
d388 5
d579 12
a590 12
	R bthub0 bthub1 bthub2 nvram bktr0 ccd0 ccd1 ccd2 ccd3 vnd0
	R vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 cd0 cd1 rd0 tun0 tun1
	R tun2 tun3 bpf0 bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9
	R bio pty0 fd1 fd1B fd1C fd1D fd1E fd1F fd1G fd1H fd0 fd0B
	R fd0C fd0D fd0E fd0F fd0G fd0H xfs0 ss0 ss1 ch0 hotplug ptm
	R gpr0 local wscons pci0 pci1 pci2 pci3 iop0 iop1 uall rmidi0
	R rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0
	R radio0 music0 speaker audio0 uk0 random joy0 joy1 lpa0 lpa1
	R lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03 ttyc0 ttyc1
	R ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm crypto pf pctr
	R systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1
	R fd mcd0
@


1.40
log
@sync
@
text
@d72 1
a72 1
#	acpi	Advanced Configuration and Power Interface
d382 3
a384 2
acpi*)
	M acpi	c 83 0 644
d582 1
a582 1
	R ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 acpi crypto pf pctr
@


1.39
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.18 2007/07/25 18:48:35 todd Exp 
d86 1
d314 4
d572 6
a577 6
	R bthub0 bthub1 bthub2 bktr0 ccd0 ccd1 ccd2 ccd3 vnd0 vnd1
	R vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 cd0 cd1 rd0 tun0 tun1 tun2
	R tun3 bpf0 bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 bio
	R pty0 fd1 fd1B fd1C fd1D fd1E fd1F fd1G fd1H fd0 fd0B fd0C
	R fd0D fd0E fd0F fd0G fd0H xfs0 ss0 ss1 ch0 hotplug ptm gpr0
	R local wscons pci0 pci1 pci2 pci3 iop0 iop1 uall rmidi0
@


1.38
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.17 2007/05/28 22:37:15 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.35 2007/05/28 22:37:14 todd Exp 
d75 1
d358 4
d567 12
a578 11
	R bktr0 ccd0 ccd1 ccd2 ccd3 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2
	R sd3 sd4 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3
	R bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 bio pty0 fd1 fd1B fd1C fd1D
	R fd1E fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G fd0H
	R xfs0 ss0 ss1 ch0 hotplug ptm gpr0 local wscons pci0 pci1
	R pci2 pci3 iop0 iop1 uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4
	R rmidi5 rmidi6 rmidi7 tuner0 radio0 music0 speaker audio0 uk0
	R random joy0 joy1 lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00
	R tty01 tty02 tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6
	R ttyc7 acpi crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0
	R raid1 raid2 raid3 std st0 st1 fd mcd0
@


1.37
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.16 2006/06/11 10:58:57 mk Exp 
#	OpenBSD: MAKEDEV.common,v 1.33 2007/03/07 02:51:17 krw Exp 
a44 1
#	wt*	Archive/Wangtek QIC-cartridge tape drives
a495 9
wt*)
	name=wt
	n=$(($U*8)) m=$(($n+4))
	M $name$U	b 3 $n 640 operator
	M r$name$U	c 10 $n 640 operator
	M n$name$U	b 3 $m 640 operator
	M nr$name$U	c 10 $m 640 operator
	;;

d568 2
a569 2
	R rmidi5 rmidi6 rmidi7 tuner0 radio0 music0 speaker audio0 wt0
	R uk0 random joy0 joy1 lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00
@


1.36
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.32 2007/02/16 02:16:20 deraadt Exp 
d310 1
a310 1
	MKlist[${#MKlist[*]}]=";[ -e pci ] || ln -s pci0 pci"
@


1.35
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.31 2006/12/15 20:42:19 kettenis Exp 
d556 1
d560 1
@


1.34
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.30 2006/10/10 12:33:41 todd Exp 
d86 1
a86 1
#	pci	PCI bus device
d308 3
a310 2
pci)
	M pci c 72 0 600
d574 7
a580 7
	R xfs0 ss0 ss1 ch0 hotplug ptm gpr0 local wscons pci iop0 iop1
	R uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 music0 speaker audio0 wt0 uk0 random joy0 joy1
	R lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02 tty03
	R ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 acpi crypto
	R pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std
	R st0 st1 fd mcd0
@


1.33
log
@Resync MAKEDEV scripts and man pages
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.29 2006/08/28 21:04:04 tsi Exp 
d413 2
a414 2
	R ttyU0 ttyU1 ugen0 ugen1 ulpt0 ulpt1 uhid0 uhid1 uhid2 uhid3
	R uscanner0 urio0 usb0 usb1 usb2 usb3 usb4 usb5
@


1.32
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.28 2006/06/11 10:58:57 mk Exp 
d55 1
a55 1
#	ttyC-F*	wscons display devices
d438 2
a439 2
tty[C-F]*)
	U=${i##tty[C-F]}
d445 4
@


1.31
log
@Regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.13 2005/08/01 22:22:12 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.23 2005/12/27 19:02:42 miod Exp 
a97 1
#	wdt0	Watchdog timer
a253 4
wdt0)
	M wdt$U c 55 $U 440 operator
	;;

d571 5
a575 5
	R tuner0 radio0 music0 speaker audio0 wdt0 wt0 uk0 random joy0
	R joy1 lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02
	R tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 acpi
	R crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2
	R raid3 std st0 st1 fd mcd0
@


1.30
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.21 2005/10/06 06:43:19 otto Exp 
d54 1
a54 1
#	ttyC0	Minimal wscons devices
d79 1
a79 1
#	fd	fd/* nodes for fdescfs
@


1.29
log
@regen
@
text
@d7 2
a8 2
#	OpenBSD: MAKEDEV.common,v 1.20 2005/08/01 22:22:12 deraadt Exp 
#	OpenBSD: MAKEDEV.mi,v 1.76 2005/10/04 18:33:52 otto Exp 
d188 1
a188 2
RMlist="rm -f"
MKlist=":"
d191 1
a191 6
	[ "${mklist[$1]}" ] && {
		mklist[$1]="${mklist[$1]};mknod -m $1 $2 $3 $4 $5"
	} || {
		mklist[$1]="mknod -m $1 $2 $3 $4 $5"
		modes="$modes $1"
	}
d195 1
a195 1
	RMlist="$RMlist $1"
d199 1
a199 1
		MKlist="$MKlist;chown $7:$G $1"
d202 10
a211 1
		wheel)g=0;;kmem)g=2;;operator)g=5;;tty)g=4;;dialer)g=117;;_lkm)g=61;;
a212 6
		[ "${grplist[$g]}" ] && {
			grplist[$g]="${grplist[$g]} $1"
		} || {
			groups="$groups $g"
			grplist[$g]="chgrp $G $1"
		}
d279 2
a280 2
	RMlist="$RMlist scan$U"
	MKlist="$MKlist;umask 77;ln -s ss$U scan$U"
d302 1
a302 1
	MKlist="$MKlist;[ -e radio ] || ln -s radio$U radio"
d320 2
a321 2
	MKlist="$MKlist;[ -e music ] || ln -s music$U music"
	MKlist="$MKlist;[ -e sequencer ] || ln -s sequencer$U sequencer"
d345 1
a345 1
	RMlist="mkdir -p fd;$RMlist" n=0
d347 1
a347 1
	MKlist="$MKlist;chmod 555 fd"
d371 4
a374 4
	MKlist="$MKlist;[ -e audio ] || ln -s audio$U audio"
	MKlist="$MKlist;[ -e mixer ] || ln -s mixer$U mixer"
	MKlist="$MKlist;[ -e sound ] || ln -s sound$U sound"
	MKlist="$MKlist;[ -e audioctl ] || ln -s audioctl$U audioctl"
d599 8
a606 10
list="$RMlist"
for mode in $modes; do
	list="$list;${mklist[$mode]}"
done
for group in $groups; do
	list="$list;${grplist[$group]}"
done
list="$list;$MKlist"
if [ "$eo" = "echo" ]; then
	$eo "$list"
d608 1
a608 1
	echo "$list" | sh
@


1.28
log
@regen
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.75 2005/10/04 18:11:10 otto Exp 
d171 1
a171 1
		M $1$2$d	b $3 $(($n+$count)) 640 operaror
@


1.27
log
@regen
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.74 2005/10/04 07:39:37 otto Exp 
a167 1
	RMlist="$RMlist $1$2? r$1$2?"
d171 2
a172 2
		M $1$2$d	b $3 $(($n+$count)) 640
		M r$1$2$d	c $4 $(($n+$count)) 640
a174 1
	MKlist="$MKlist;chown root:operator $1$2? r$1$2?"
@


1.26
log
@sync
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.73 2005/02/07 06:14:18 david Exp 
a204 1
	mklist="$mklist $1"
@


1.25
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.12 2005/06/29 18:23:27 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.19 2005/06/29 18:23:26 todd Exp 
a91 1
#	ses*	SES/SAF-TE SCSI devices
a292 4
ses*)
	M ses$U c 24 $U 640 operator
	;;

d580 7
a586 7
	R xfs0 ss0 ss1 ch0 ses0 hotplug ptm gpr0 local wscons pci iop0
	R iop1 uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6
	R rmidi7 tuner0 radio0 music0 speaker audio0 wdt0 wt0 uk0
	R random joy0 joy1 lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00
	R tty01 tty02 tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6
	R ttyc7 acpi crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0
	R raid1 raid2 raid3 std st0 st1 fd mcd0
@


1.24
log
@Regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.11 2005/06/02 20:09:38 tholo Exp 
#	OpenBSD: MAKEDEV.common,v 1.18 2005/06/02 20:09:38 tholo Exp 
d75 1
d373 4
d583 9
a591 9
	R bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 fd1 fd1B fd1C fd1D fd1E
	R fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G fd0H xfs0
	R ss0 ss1 ch0 ses0 hotplug ptm gpr0 local wscons pci iop0 iop1
	R uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 music0 speaker audio0 wdt0 wt0 uk0 random joy0
	R joy1 lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02
	R tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 acpi
	R crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2
	R raid3 std st0 st1 fd mcd0
@


1.23
log
@Regen/sync.
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.10 2005/04/21 00:26:30 krw Exp 
#	OpenBSD: MAKEDEV.common,v 1.17 2005/03/29 16:40:08 miod Exp 
d73 1
d383 4
d584 3
a586 3
	R tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 crypto
	R pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std
	R st0 st1 fd mcd0
@


1.22
log
@Regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.9 2005/03/29 16:39:35 miod Exp 
d231 2
a232 2
	R std bpf0 fd0 wd0 wd1 wd2 sd0 sd1 sd2 tty00 tty01 rd0
	R st0 cd0 ttyC0 random wskbd0
@


1.21
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.8 2004/08/09 19:57:23 otto Exp 
#	OpenBSD: MAKEDEV.common,v 1.16 2005/03/01 13:35:59 otto Exp 
a72 1
#	apm	Power management device
a381 5
apm*)
	M apm	c 21 0 644
	M apmctl	c 21 8 644
	;;

d579 3
a581 3
	R tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm
	R crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2
	R raid3 std st0 st1 fd mcd0
@


1.20
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.15 2005/01/28 18:56:27 danh Exp 
d426 1
a426 1
	R uscanner0 urio0 usb0 usb1 usb2 usb3
@


1.19
log
@sync
@
text
@d8 2
a9 2
#	OpenBSD: MAKEDEV.mi,v 1.72 2004/02/16 18:58:53 miod Exp 
#	OpenBSD: MAKEDEV.sub,v 1.13 2005/01/28 18:51:38 danh Exp 
@


1.18
log
@sync
@
text
@d121 1
a121 1
	local t="$1"  
@


1.17
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.13 2005/01/10 07:53:57 dlg Exp 
d9 1
a9 1
#	OpenBSD: MAKEDEV.sub,v 1.12 2004/02/20 19:13:01 miod Exp 
d411 1
a411 1
	for j in 00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15
d413 1
a413 1
		M ugen$U.$j c 63 $(($n+$j)) 660
d459 1
a459 1
	[0-9a-f]) M tty$n$U c 12 $(( 16#$U + $m )) 600;;
@


1.16
log
@Regen.
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.12 2004/08/19 07:05:20 miod Exp 
d421 1
@


1.15
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.10 2004/06/03 18:36:59 grange Exp 
d97 1
a97 1
#	uk*	SCSI unknown devices
@


1.14
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.7 2004/05/30 08:17:18 grange Exp 
a48 2
# Call units:
#	tun*	Network tunnel driver
d95 1
d273 4
a493 4
	;;

tun*)
	M tun$U c 40 $U 600
@


1.13
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.9 2004/05/30 08:17:17 grange Exp 
@


1.12
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.6 2004/04/11 18:05:23 millert Exp 
#	OpenBSD: MAKEDEV.common,v 1.8 2004/05/29 04:07:30 deraadt Exp 
d82 1
d343 4
d581 2
a582 2
	R ss0 ss1 ch0 ses0 ptm gpr0 local wscons pci iop0 iop1 uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
@


1.11
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.7 2004/04/11 18:14:59 millert Exp 
d417 1
a417 1
	R uscanner0 urio0 usb0 usb1
@


1.10
log
@Regen for for pty changes (62 per letter instead of just 16)
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.6 2004/04/11 18:05:22 millert Exp 
d53 2
a54 2
#	pty*	Set of 62 pseudo terminals
tty_dev
@


1.9
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.5 2004/03/12 04:54:04 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.4 2004/03/12 04:54:04 deraadt Exp 
d53 2
a54 2
#	pty*	Set of 16 master pseudo terminals
#	tty*	Set of 16 slave pseudo terminals
d467 6
a472 2
	set -A tbl p q r s t u v w x y z P Q R S T
	name=${tbl[$U]}
d474 1
a474 1
	while [ $n -lt 16 ]
d476 2
a477 2
		nam=$name$(hex $n)
		off=$(($U*16))
d574 9
a582 9
	R bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 pty1 pty2 fd1 fd1B fd1C
	R fd1D fd1E fd1F fd1G fd1H fd0 fd0B fd0C fd0D fd0E fd0F fd0G
	R fd0H xfs0 ss0 ss1 ch0 ses0 ptm gpr0 local wscons pci iop0
	R iop1 uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6
	R rmidi7 tuner0 radio0 music0 speaker audio0 wdt0 wt0 uk0
	R random joy0 joy1 lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00
	R tty01 tty02 tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6
	R ttyc7 apm crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0
	R raid1 raid2 raid3 std st0 st1 fd mcd0
@


1.8
log
@Regen; except for alpha, the only changes are in comments.
@
text
@d6 2
a7 2
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.4 2004/02/16 19:01:01 miod Exp 
#	OpenBSD: MAKEDEV.common,v 1.3 2004/02/20 19:13:01 miod Exp 
d66 1
a66 1
#	usbs	All USB devices
d415 1
a415 1
usbs)
d573 1
a573 1
	R iop1 usbs rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6
@


1.7
log
@Regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.1 2004/02/16 18:58:54 miod Exp 
d9 1
a9 1
#	OpenBSD: MAKEDEV.sub,v 1.11 2004/02/16 18:58:53 miod Exp 
d34 1
a34 1
#	cd*	SCSI cdrom drives
d36 1
a36 1
#	mcd*	Mitsumi cdrom drives
d39 1
a39 1
#	sd*	SCSI disks
d45 1
a45 1
#	wt*		Archive/Wangtek QIC-cartridge tape drives
@


1.6
log
@sync
@
text
@d6 4
a9 3
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.3 2004/02/14 17:24:31 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.71 2004/02/14 17:24:30 todd Exp 
#	OpenBSD: MAKEDEV.sub,v 1.10 2004/02/14 17:24:31 todd Exp 
d29 3
a31 7
#	ramdisk	devices to be put on ramdisk-based media
#	std	standard devices
#	local	configuration specific devices
# Tapes:
#	wt*		QIC-interface (e.g. not SCSI) 3M cartridge tape
#	st*	SCSI tapes
#	ch*	SCSI media changer
d33 2
a34 1
#	wd*	"winchester" disk drives (ST506, IDE, ESDI, RLL, ...)
a35 2
#	sd*	SCSI disks
#	cd*	SCSI cdrom drives
d37 1
a37 1
#	vnd*	"file" pseudo-disks
d39 16
a54 2
#	ccd*	concatenated disk devices
#	raid*	RAIDframe disk devices
d56 2
a57 2
#	ttyC0	wscons screen 0
#	ttyC-F*	wscons virtual consoles
a60 1
#	mouse	mouse (provides events, for X11)
a61 6
# Terminal ports:
#	tty[0-7][0-9a-f]	NS16x50 serial ports
#	ttyc*	Cyclades serial ports
# Pseudo terminals:
#	tty*	set of 16 slave pseudo terminals
#	pty*	set of 16 master pseudo terminals
d63 1
a64 1
#	lpa*	interruptless lp
d66 3
a68 1
#	usb*	Bus control devices used by usbd for attach/detach
a69 1
#	ugen*	Generic device
d72 1
a72 1
#	ttyU*	Serial ports
a73 1
# Call units:
d75 13
a87 2
#	fd	makes fd/* for the fdescfs
#	crypto	hardware crypto access driver
d89 5
a93 12
#	bpf*	Berkeley Packet Filter
#	speaker	pc speaker
#	lkm	loadable kernel modules interface
#	audio*	audio device
#	rmidi*	raw midi devices
#	music*	midi devices
#	apm		power management device
#	tun*	network tunnel driver
#	joy*	joystick driver
#	pcmcia*	PCMCIA card drivers
#	*random	inkernel random data source
#	uk*	SCSI Unknown device
d95 5
a99 14
#	ses*	SES/SAF-TE SCSI devices
#	xfs*	XFS filesystem devices
#	bktr*	video capturing
#	tuner*	tuner device
#	wdt0	watchdog timer
#	pctr*	PC Performance Tuning Register access device
#	pci	PCI bus device
#	iop*	I2O controller device
#	radio*	FM tuner device
#	systrace*	system call tracing device
#	gpr*	gpr400 pcmcia device
#	ptm	pty master device
#	usbs	make USB devices
#
d257 2
a258 7
mouse*)
	name=${i##mouse-}
	if [ ! -c $name ]; then
		$0 $name	# make the appropriate device
	fi
	RMlist="$RMlist mouse"
	MKlist="$MKlist;ln -s $name mouse"
d261 2
a262 3
usbs)
	R ttyU0 ttyU1 ugen0 ugen1 ulpt0 ulpt1 uhid0 uhid1 uhid2 uhid3
	R uscanner0 urio0 usb0 usb1
d265 2
a266 2
ptm)
	M ptm c 81 0 666
d269 2
a270 2
gpr*)
	M gpr$U c 80 $U
a276 37
radio*)
	M radio$U     c 76 $U
	MKlist="$MKlist;[ -e radio ] || ln -s radio$U radio"
	;;

iop*)
	M iop$U c 75 $U 660
	;;

pci)
	M pci c 72 0 600
	;;

pctr)
	M pctr c 46 0 644
	;;

wdt0)
	M wdt$U c 55 $U 440 operator
	;;

tuner*)
	M tuner$U c 49 $(($(($U*2))+16)) 644
	;;

bktr*)
	M bktr$U c 49 $U 644
	;;

xfs*)
	M xfs$U c 51 $U 600
	;;

ses*)
	M ses$U c 24 $U 640 operator
	;;

d285 6
a290 2
uk*)
	M uk$U c 20 $U 640 operator
d302 11
a312 2
joy*)
	M joy$U c 26 $U 666
d315 2
a316 2
tun*)
	M tun$U c 40 $U 600
d319 2
a320 3
apm*)
	M apm	c 21 0 644
	M apmctl	c 21 8 644
d330 10
a339 2
rmidi*)
	M rmidi$U c 52 $U 666
d342 2
a343 9
audio*)
	M sound$U	c 42 $U
	M mixer$U	c 42 $(($U+16))
	M audio$U	c 42 $(($U+128))
	M audioctl$U	c 42 $(($U+192))
	MKlist="$MKlist;[ -e audio ] || ln -s audio$U audio"
	MKlist="$MKlist;[ -e mixer ] || ln -s mixer$U mixer"
	MKlist="$MKlist;[ -e sound ] || ln -s sound$U sound"
	MKlist="$MKlist;[ -e audioctl ] || ln -s audioctl$U audioctl"
d346 4
a349 2
lkm)
	M lkm c 28 0 640 _lkm
d352 2
a353 2
speaker)
	M speaker c 27 0 600
d360 2
a361 2
pf*)
	M pf c 73 0 600
d364 9
a372 2
crypto)
	M crypto c 70 0
d375 3
a377 4
fd)
	RMlist="mkdir -p fd;$RMlist" n=0
	while [ $n -lt 64 ];do M fd/$n c 22 $n;n=$(($n+1));done
	MKlist="$MKlist;chmod 555 fd"
d384 3
a386 4
ttyU[0-9a-zA-Z])
	U=${i#ttyU*}
	o=$(alph2d $U)
	M ttyU$U c 66 $o 660 dialer uucp
d397 4
d409 4
a412 2
uhid*)
	M uhid$U c 62 $U 660
d415 3
a417 3
usb*)
	[ "$i" = "usb" ] && u= || u=$U
	M usb$u c 61 $U 660
a427 25
pty*)
	if [ $U -gt 15 ]; then
		echo bad unit for pty in: $i
		continue
	fi
	set -A tbl p q r s t u v w x y z P Q R S T
	name=${tbl[$U]}
	n=0
	while [ $n -lt 16 ]
	do
		nam=$name$(hex $n)
		off=$(($U*16))
		M tty$nam c 5 $(($off+$n))
		M pty$nam c 6 $(($off+$n))
		n=$(($n+1))
	done
	;;

tty[0-7][0-9a-f])
	U=${i#tty*}
	o=$(h2d $U)
	M tty$U c 8 $o 660 dialer uucp
	M cua$U c 8 $(($o+128)) 660 dialer uucp
	;;

d462 54
a515 2
rd*)
	dodisk2 rd $U 17 47 $U 0
d523 4
a530 4
cd*)
	dodisk2 cd $U 6 15 $U 0
	;;

d559 2
a560 21
ch*)
	M ch$U c 17 $U 660 operator
	;;

st*)
	n=$(($U*16))
	for pre in " " n e en
	do
		M ${pre}st$U	b 5 $n 660 operator
		M ${pre}rst$U	c 14 $n 660 operator
		n=$(($n+1))
	done
	;;

wt*)
	name=wt
	n=$(($U*8)) m=$(($n+4))
	M $name$U	b 3 $n 640 operator
	M r$name$U	c 10 $n 640 operator
	M n$name$U	b 3 $m 640 operator
	M nr$name$U	c 10 $m 640 operator
d572 7
a578 7
	R fd0H xfs0 ss0 ss1 ch0 ses0 ptm gpr0 wscons pci iop0 iop1
	R usbs rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 music0 speaker audio0 wdt0 wt0 uk0 random joy0
	R joy1 lpa0 lpa1 lpa2 lpt0 lpt1 lpt2 lkm tty00 tty01 tty02
	R tty03 ttyc0 ttyc1 ttyc2 ttyc3 ttyc4 ttyc5 ttyc6 ttyc7 apm
	R crypto pf pctr systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2
	R raid3 std st0 st1 fd mcd0
@


1.5
log
@Regen.
@
text
@d6 3
a8 3
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.2 2004/02/07 20:30:59 deraadt Exp 
#	OpenBSD: MAKEDEV.mi,v 1.70 2004/02/13 23:34:13 miod Exp 
#	OpenBSD: MAKEDEV.sub,v 1.9 2004/01/12 22:18:24 todd Exp 
d11 1
a11 1
# Copyright (c) 2001,2002,2003 Todd T. Fries <todd@@OpenBSD.org>
@


1.4
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.mi,v 1.68 2004/02/10 01:31:20 millert Exp 
d57 1
a57 1
#	tty*	set of 16 slave psuedo terminals
@


1.3
log
@fix, including ptm, ahead of time
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.mi,v 1.67 2004/02/05 22:22:15 todd Exp 
@


1.2
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.amd64/MAKEDEV.md,v 1.1 2004/01/28 02:11:53 mickey Exp 
d99 1
d273 4
d583 2
a584 2
	R fd0H xfs0 ss0 ss1 ch0 ses0 gpr0 wscons pci iop0 iop1 usbs
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
@


1.1
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.mi,v 1.66 2004/01/13 15:13:14 todd Exp 
a602 16
if [ "$os" = "SunOS" ]; then
	eo=transform
	transform() {
		case $mode in
		600) mask=077;;
		640) mask=027;;
		660) mask=007;;
		644) mask=022;;
		666) mask=0;;
		440) mask=227;;
		esac
		echo `echo "$@@"|sed \
		    's/mknod -m \([0-9]*\) /umask '$mask';mknod /;s/-m [0-9]* //g;\
		    s/operator/5/g;s/root.kmem/root.2/g;s/root\./root:/g'`
	}
fi
d611 1
a611 1
if [ "$eo" = "echo" -o "$eo" = "transform" ]; then
@

