head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.12
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.10
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.8
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2015.05.18.11.10.03;	author dtucker;	state Exp;
branches;
next	1.2;
commitid	wB16S3VVP0gvIZFZ;

1.2
date	2015.02.10.06.40.08;	author reyk;	state Exp;
branches;
next	1.1;
commitid	pXoTR74Ztt0R3SV0;

1.1
date	2014.07.13.13.53.36;	author rpe;	state Exp;
branches;
next	;
commitid	emU4wiE9pJnmRk71;


desc
@@


1.3
log
@Simplify example constraints URL to reduce load on the server side.
ok henning@@, reyk@@
@
text
@# $OpenBSD: ntpd.conf,v 1.2 2015/02/10 06:40:08 reyk Exp $
# sample ntpd configuration file, see ntpd.conf(5)

# Addresses to listen on (ntpd does not listen by default)
#listen on *

# sync to a single server
#server ntp.example.org

# use a random selection of NTP Pool Time Servers
# see http://support.ntp.org/bin/view/Servers/NTPPoolServers
servers pool.ntp.org

# use a specific local timedelta sensor (radio clock, etc)
#sensor nmea0

# use all detected timedelta sensors
#sensor *

# get the time constraint from a well-known HTTPS site
#constraints from "https://www.google.com/"
@


1.2
log
@Add support for "constraints": when configured, ntpd(8) will query the
time from HTTPS servers, by parsing the Date: header, and use the
median constraint time as a boundary to verify NTP responses.  This
adds some level of authentication and protection against MITM attacks
while preserving the accuracy of the NTP protocol; without relying on
authentication options for NTP that are basically unavailable at
present.  This is an initial implementation and the semantics will be
improved once it is in the tree.

Discussed with deraadt@@ and henning@@
OK henning@@
@
text
@d1 1
a1 1
# $OpenBSD: ntpd.conf,v 1.1 2014/07/13 13:53:36 rpe Exp $
d21 1
a21 1
#constraints from "https://www.google.com/search?q=openntpd"
@


1.1
log
@- move the ntpd.conf file to examples directory
- move it from BIN1 to EXAMPLES in src/etc/Makefile
- change the installer to create the file instead of editing it
- add a '+' to the corresponding changelist entry

suggested by and OK deraadt@@
OK for the installer change krw@@
@
text
@d1 1
a1 1
# $OpenBSD: ntpd.conf,v 1.11 2009/05/18 16:13:48 stevesk Exp $
d19 3
@

