head	1.36;
access;
symbols
	OPENBSD_5_8:1.32.0.6
	OPENBSD_5_8_BASE:1.32
	OPENBSD_5_7:1.32.0.2
	OPENBSD_5_7_BASE:1.32
	OPENBSD_5_6:1.31.0.4
	OPENBSD_5_6_BASE:1.31
	OPENBSD_5_5:1.30.0.4
	OPENBSD_5_5_BASE:1.30
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.23.0.2
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.20.0.2
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.2
	OPENBSD_5_0:1.18.0.2
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.14.0.2
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.7.0.4
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.3.0.2
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.2.0.8
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.6
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.4
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.2
	OPENBSD_4_0_BASE:1.2;
locks; strict;
comment	@# @;


1.36
date	2015.12.01.07.50.06;	author deraadt;	state dead;
branches;
next	1.35;
commitid	Rh8AZFtVMVCiwPts;

1.35
date	2015.11.10.21.50.01;	author sthen;	state Exp;
branches;
next	1.34;
commitid	cbpQoyIQoLnKxXlo;

1.34
date	2015.11.10.21.44.03;	author sthen;	state Exp;
branches;
next	1.33;
commitid	xjeR06qiavDtFv9k;

1.33
date	2015.10.23.15.14.46;	author claudio;	state Exp;
branches;
next	1.32;
commitid	D8oDiiCrSjVktjLG;

1.32
date	2014.10.09.04.38.02;	author tedu;	state Exp;
branches;
next	1.31;
commitid	M66ALjcyb37tQVMc;

1.31
date	2014.07.11.22.04.51;	author tedu;	state Exp;
branches;
next	1.30;
commitid	xQhhmJP574n3YeP9;

1.30
date	2014.01.05.01.27.58;	author deraadt;	state Exp;
branches;
next	1.29;

1.29
date	2013.11.21.11.06.08;	author kettenis;	state Exp;
branches;
next	1.28;

1.28
date	2013.11.05.16.06.28;	author deraadt;	state Exp;
branches;
next	1.27;

1.27
date	2013.10.15.17.39.25;	author miod;	state Exp;
branches;
next	1.26;

1.26
date	2013.06.21.21.34.33;	author syl;	state Exp;
branches;
next	1.25;

1.25
date	2013.06.15.23.20.52;	author halex;	state Exp;
branches;
next	1.24;

1.24
date	2013.06.03.17.34.15;	author tedu;	state Exp;
branches;
next	1.23;

1.23
date	2013.01.30.02.02.02;	author yasuoka;	state Exp;
branches;
next	1.22;

1.22
date	2012.11.26.08.07.59;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2012.08.23.06.16.59;	author deraadt;	state Exp;
branches;
next	1.20;

1.20
date	2012.04.06.15.32.56;	author jsing;	state Exp;
branches;
next	1.19;

1.19
date	2011.10.06.20.50.54;	author deraadt;	state Exp;
branches;
next	1.18;

1.18
date	2011.06.26.23.42.27;	author tedu;	state Exp;
branches;
next	1.17;

1.17
date	2011.04.18.16.52.10;	author thib;	state Exp;
branches;
next	1.16;

1.16
date	2010.09.30.15.29.22;	author claudio;	state Exp;
branches;
next	1.15;

1.15
date	2010.09.04.12.18.41;	author miod;	state Exp;
branches;
next	1.14;

1.14
date	2010.08.03.20.16.22;	author miod;	state Exp;
branches;
next	1.13;

1.13
date	2010.07.22.00.59.56;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	2010.07.03.04.08.10;	author krw;	state Exp;
branches;
next	1.11;

1.11
date	2010.06.27.00.00.51;	author jsing;	state Exp;
branches;
next	1.10;

1.10
date	2010.06.14.14.08.44;	author todd;	state Exp;
branches;
next	1.9;

1.9
date	2010.06.09.16.11.42;	author todd;	state Exp;
branches;
next	1.8;

1.8
date	2009.08.13.15.13.09;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	2009.06.03.15.36.55;	author todd;	state Exp;
branches;
next	1.6;

1.6
date	2009.06.03.14.45.39;	author jj;	state Exp;
branches;
next	1.5;

1.5
date	2009.01.25.17.31.11;	author miod;	state Exp;
branches;
next	1.4;

1.4
date	2008.10.10.20.16.10;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	2008.06.14.22.29.39;	author todd;	state Exp;
branches;
next	1.2;

1.2
date	2006.08.28.21.23.33;	author tsi;	state Exp;
branches;
next	1.1;

1.1
date	2006.05.09.21.24.45;	author miod;	state Exp;
branches;
next	;


desc
@@


1.36
log
@Send Aviion to same place as Nova II
discussed with jsg
@
text
@#!/bin/sh -
#
# THIS FILE AUTOMATICALLY GENERATED.  DO NOT EDIT.
# generated from:
#
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.21 2015/10/23 15:14:11 claudio Exp 
#	OpenBSD: MAKEDEV.common,v 1.81 2015/11/10 21:49:18 sthen Exp 
#	OpenBSD: MAKEDEV.mi,v 1.81 2012/11/05 08:07:09 jasper Exp 
#	OpenBSD: MAKEDEV.sub,v 1.14 2005/02/07 06:14:18 david Exp 
#
#
# Copyright (c) 2001-2004 Todd T. Fries <todd@@OpenBSD.org>
#
# Permission to use, copy, modify, and distribute this software for any
# purpose with or without fee is hereby granted, provided that the above
# copyright notice and this permission notice appear in all copies.
#
# THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
#
# Device "make" file.  Valid arguments:
#	all	makes all known devices, including local devices.
#		Tries to make the ``standard'' number of each type.
#	ramdisk	Ramdisk kernel devices
#	std	Standard devices
#	local	Configuration specific devices
# Disks:
#	cd*	ATAPI and SCSI CD-ROM drives
#	rd*	"rd" pseudo-disks
#	sd*	SCSI disks, including flopticals
#	vnd*	"file" pseudo-disk devices
# Tapes:
#	ch*	SCSI media changers
#	st*	SCSI tape drives
# Terminal ports:
#	ttya-c	on-board serial and mouse ports
# Pseudo terminals:
#	ptm	pty master device
#	pty*	Set of 62 master pseudo terminals
#	tty*	Set of 62 slave pseudo terminals
# Special purpose devices:
#	bio	ioctl tunnel pseudo-device
#	bpf*	Berkeley Packet Filter
#	diskmap	Disk mapper
#	fd	fd/* nodes
#	fuse	Userland Filesystem
#	nvram0	On-board non-volatile memory
#	pf*	Packet Filter
#	pppx*	PPP Multiplexer
#	*random	In-kernel random data source
#	systrace*	System call tracing device
#	tun*	Network tunnel driver
#	tap*	Ethernet tunnel driver
#	uk*	Unknown SCSI devices
#	vscsi*	Virtual SCSI controller
PATH=/sbin:/usr/sbin:/bin:/usr/bin
T=$0

# set this to echo for Echo-Only debugging
[ "$eo" ] || eo=

hex()
{
	case $1 in
	[0-9]) echo -n $1;;
	10) echo -n a;;
	11) echo -n b;;
	12) echo -n c;;
	13) echo -n d;;
	14) echo -n e;;
	15) echo -n f;;
	esac
}

alph2d()
{
	local t="$1"
	local p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"
	local sub=${p%${t}*}
	echo ${#sub}
}

h2d()
{
	local s="$1"
	local f=${s%*[0-9a-f]} n=${s#[0-9a-f]*}

	echo $(($(_h2d $f)*16+ $(_h2d $n) ))
}

_h2d()
{
	case $1 in
	[0-9]) echo -n $1;;
	a) echo -n 10;;
	b) echo -n 11;;
	c) echo -n 12;;
	d) echo -n 13;;
	e) echo -n 14;;
	f) echo -n 15;;
	esac
}

unt()
{
	# XXX pdksh can't seem to deal with locally scoped variables
	# in ${foo#$bar} expansions
	arg="$1"
	tmp="${arg#[a-zA-Z]*}"
	tmp="${tmp%*[a-zA-Z]}"
	while [ "$tmp" != "$arg" ]
	do
		arg=$tmp
		tmp="${arg#[a-zA-Z]*}"
		tmp="${tmp%*[a-zA-Z]}"
	done
	echo $arg
}

dodisk()
{
	[ "$DEBUG" ] && set -x
	n=$(($((${5}*${7:-16}))+${6})) count=0
	[ 0$7 -ne 8 ] && l="i j k l m n o p"
	for d in a b c d e f g h $l
	do
		M $1$2$d	b $3 $(($n+$count)) 640 operator
		M r$1$2$d	c $4 $(($n+$count)) 640 operator
		let count=count+1
	done
}

dodisk2()
{
	n=$(($(($5*${7:-16}))+$6))
	M $1$2a b $3 $n 640 operator
	M r$1$2a c $4 $n 640 operator
	n=$(($n+2))
	M $1$2c b $3 $n 640 operator
	M r$1$2c c $4 $n 640 operator
}

# M name b/c major minor [mode] [group]
RMlist[0]="rm -f"

mkl() {
	mklist[${#mklist[*]}]=";mknod -m $1 $2 $3 $4 $5"
}

M() {
	RMlist[${#RMlist[*]}]=$1
	mkl ${5-666} $1 $2 $3 $4
	G=${6:-wheel}
	[ "$7" ] && {
		MKlist[${#MKlist[*]}]="&& chown $7:$G $1"
	} || {
		case $G in
		wheel)
			[ ${#whlist[*]} = 0 ] && whlist[0]="&& chgrp wheel"
			whlist[${#whlist[*]}]="$1"
		;;
		operator)
			[ ${#oplist[*]} = 0 ] && oplist[0]="&& chgrp operator"
			oplist[${#oplist[*]}]="$1"
		;;
		*)
			MKlist[${#MKlist[*]}]="&& chgrp $G $1";
		esac
	}
	return 0
}

R() {
[ "$DEBUG" ] && set -x
for i in "$@@"
do
U=`unt $i`
[ "$U" ] || U=0

case $i in
std)
	M console	c 0 0 600
	M tty		c 1 0
	M mem		c 2 0 640 kmem
	M kmem		c 2 1 640 kmem
	M null		c 2 2
	M zero		c 2 12
	M stdin		c 21 0
	M stdout	c 21 1
	M stderr	c 21 2
	M ksyms		c 43 0 640 kmem
	M klog		c 6 0 600
	;;


vscsi*)
	M vscsi$U c 53 $U 600
	;;

uk*)
	M uk$U c 41 $U 640 operator
	;;

tap*)
	M tap$U c 56 $U 600
	;;

tun*)
	M tun$U c 23 $U 600
	;;

systrace)
	M systrace c 50 0 644
	;;

*random)
	n=0
	for pre in " " s u a
	do
		M ${pre}random c 40 $n 644
		n=$(($n+1))
	done
	;;

pppx*)
	M pppx$U c 55 $U 600
	;;

pf*)
	M pf c 39 0 600
	;;

nvram0)
	M nvram0 c 10 0 640 kmem
	;;

fuse)
	M fuse$U c 45 $U 600
	;;

fd)
	RMlist[${#RMlist[*]}]=";mkdir -p fd;rm -f" n=0
	while [ $n -lt 64 ];do M fd/$n c 21 $n;n=$(($n+1));done
	MKlist[${#MKlist[*]}]=";chmod 555 fd"
	;;

diskmap)
	M diskmap c 54 0 640 operator
	;;

bpf*)
	M bpf$U c 22 $U 600
	;;

bio)
	M bio c 49 0 600
	;;

pty*)
	if [ $U -gt 15 ]; then
		echo bad unit for pty in: $i
		continue
	fi
	set -A letters p q r s t u v w x y z P Q R S T
	set -A suffixes 0 1 2 3 4 5 6 7 8 9 a b c d e f g h i j k l m n o p q \
	    r s t u v w x y z A B C D E F G H I J K L M N O P Q R S T U V W X \
	    Y Z

	name=${letters[$U]}
	n=0
	while [ $n -lt 62 ]
	do
		nam=$name${suffixes[$n]}
		off=$(($U*62))
		M tty$nam c 4 $(($off+$n))
		M pty$nam c 5 $(($off+$n))
		n=$(($n+1))
	done
	;;

ptm)
	M ptm c 52 0 666
	;;

tty[a-c])
	u=${i#tty*}
	case $u in
	a) n=0 ;;
	b) n=1 ;;
	c) n=2 ;;
	*) echo unknown tty device $i ;;
	esac
	case $u in
	a|b|c)
		M tty$u c 12 $n 660 dialer uucp
		M cua$u c 12 $(($n+128)) 660 dialer uucp
		;;
	esac
	;;

st*)
	n=$(($U*16))
	for pre in " " n e en
	do
		M ${pre}st$U	b 5 $n 660 operator
		M ${pre}rst$U	c 20 $n 660 operator
		n=$(($n+1))
	done
	;;

ch*)
	M ch$U c 44 $U 660 operator
	;;

vnd*)
	dodisk vnd $U 8 19 $U 0
	;;

rd*)
	dodisk2 rd $U 7 18 $U 0
	;;

cd*)
	dodisk2 cd $U 6 9 $U 0
	;;

local)
	test -s $T.local && sh $T.local
	;;

ramdisk)
	R diskmap bio pty0 ttya rd0 cd0 cd1 st0 st1 sd0 sd1 sd2 sd3
	R sd4 bpf0 std
	;;

all)
	R ttya ttyb ttyc vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 cd0
	R cd1 rd0 tap0 tap1 tap2 tap3 tun0 tun1 tun2 tun3 bio bpf0
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap
	R vscsi0 ch0 nvram0 fuse pppx ptm local uk0 random pf systrace
	R std st0 st1 fd
	;;

sd*)
	case $i in
	sd*) dodisk sd $U 4 8 $U 0;;
	esac
	;;

*)
	echo $i: unknown device
	;;
esac
done
}
R "$@@"
{
echo -n ${RMlist[*]}
echo -n ${mklist[*]}
echo -n ${MKlist[*]}
echo -n ${whlist[*]}
echo ${oplist[*]}
} | if [ "$eo" = "echo" ]; then
        cat
else
	sh
fi
@


1.35
log
@sync
@
text
@@


1.34
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.80 2015/11/10 21:42:28 sthen Exp 
@


1.33
log
@Sync (after tap addition)
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.79 2015/10/23 15:14:11 claudio Exp 
@


1.32
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.19 2014/03/18 22:36:29 miod Exp 
#	OpenBSD: MAKEDEV.common,v 1.76 2014/08/20 11:23:40 mikeb Exp 
d58 1
d209 4
d343 4
a346 3
	R cd1 rd0 tun0 tun1 tun2 tun3 bio bpf0 bpf1 bpf2 bpf3 bpf4
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 nvram0 fuse
	R pppx ptm local uk0 random pf systrace std st0 st1 fd
@


1.31
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.74 2014/07/11 21:58:32 tedu Exp 
a51 1
#	lkm	Loadable kernel modules interface
a236 4
lkm)
	M lkm c 24 0 640 _lkm
	;;

d340 1
a340 1
	R pppx ptm local uk0 random lkm pf systrace std st0 st1 fd
@


1.30
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.18 2014/01/05 01:16:52 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.73 2013/11/21 11:04:44 kettenis Exp 
@


1.29
log
@regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.17 2013/10/15 17:39:09 miod Exp 
@


1.28
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.72 2013/11/05 16:05:30 deraadt Exp 
@


1.27
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.71 2013/09/16 08:17:02 dcoppa Exp 
@


1.26
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.16 2013/06/03 17:34:15 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.66 2013/06/21 21:30:38 syl Exp 
d337 2
a338 2
	R bio pty0 ttya rd0 cd0 cd1 st0 st1 sd0 sd1 sd2 sd3 sd4 bpf0
	R std
@


1.25
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.65 2013/06/15 23:09:36 halex Exp 
d51 1
a51 1
#	fuse*	Userland Filesystem
d242 1
a242 1
fuse*)
d344 2
a345 3
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 nvram0
	R fuse0 fuse1 fuse2 fuse3 pppx ptm local uk0 random lkm pf
	R systrace std st0 st1 fd
@


1.24
log
@fuse on more archs
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.15 2012/08/23 06:15:28 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.64 2013/06/03 16:06:42 tedu Exp 
d51 1
a51 1
#	fuse	Userland Filesystem
d242 1
a242 1
fuse)
d344 3
a346 2
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 nvram0 fuse
	R pppx ptm local uk0 random lkm pf systrace std st0 st1 fd
@


1.23
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.60 2012/08/23 06:15:28 deraadt Exp 
d51 1
d242 4
d344 2
a345 2
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 nvram0 pppx
	R ptm local uk0 random lkm pf systrace std st0 st1 fd
@


1.22
log
@regen
@
text
@d339 2
a340 2
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 ch0 nvram0 ptm
	R local uk0 random lkm pf systrace std st0 st1 fd
@


1.21
log
@sync
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.80 2011/04/18 16:52:10 thib Exp 
d159 1
a159 1
		MKlist[${#MKlist[*]}]=";chown $7:$G $1"
d163 1
a163 1
			[ ${#whlist[*]} = 0 ] && whlist[0]=";chgrp wheel"
d167 1
a167 1
			[ ${#oplist[*]} = 0 ] && oplist[0]=";chgrp operator"
d171 1
a171 1
			MKlist[${#MKlist[*]}]=";chgrp $G $1";
@


1.20
log
@Regen.
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.14 2011/10/06 20:49:27 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.59 2012/04/06 15:18:41 jsing Exp 
a51 1
#	nnpfs*	NNPFS filesystem node
a236 4
nnpfs*)
	M nnpfs$U c 51 $U 600
	;;

d339 2
a340 2
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap vscsi0 nnpfs0 ch0
	R nvram0 ptm local uk0 random lkm pf systrace std st0 st1 fd
@


1.19
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.57 2011/10/06 20:49:25 deraadt Exp 
@


1.18
log
@regen makedev
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.13 2010/09/30 15:27:54 claudio Exp 
#	OpenBSD: MAKEDEV.common,v 1.54 2011/04/18 16:52:10 thib Exp 
a32 1
#	ccd*	Concatenated disk devices
d342 4
a345 5
	R ttya ttyb ttyc ccd0 ccd1 ccd2 ccd3 vnd0 vnd1 vnd2 vnd3 sd0
	R sd1 sd2 sd3 sd4 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bio bpf0
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 diskmap
	R vscsi0 nnpfs0 ch0 nvram0 ptm local uk0 random lkm pf
	R systrace std st0 st1 fd
d348 1
a348 1
sd*|ccd*)
a350 1
	ccd*) dodisk ccd $U 9 17 $U 0;;
@


1.17
log
@Deprecate vnds in favour of svnds.

In effect, this removes the "old" vndX nodes, and renames
the svndX nodes to vndX.

Old svndX nodes will still continue to work though, for now.

Cleanup accordingly.

ok deraadt@@, todd@@
comments and ok on the man page bits from jmc@@
@
text
@d7 2
a8 2
#	OpenBSD: MAKEDEV.common,v 1.53 2010/09/30 15:27:54 claudio Exp 
#	OpenBSD: MAKEDEV.mi,v 1.79 2009/01/25 17:30:48 miod Exp 
@


1.16
log
@regen
@
text
@a322 1
	dodisk svnd $U 8 19 $U 2048
@


1.15
log
@Regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.11 2010/07/03 03:59:15 krw Exp 
#	OpenBSD: MAKEDEV.common,v 1.51 2010/08/03 20:12:01 miod Exp 
d56 1
d225 4
@


1.14
log
@regen
@
text
@d50 1
d53 1
a59 1
#	nnpfs*	NNPFS filesystem node
a60 1
#	diskmap	Disk mapper
a200 4
diskmap)
	M diskmap c 54 0 640 operator
	;;

a204 4
nnpfs*)
	M nnpfs$U c 51 $U 600
	;;

d234 4
d246 4
@


1.13
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.49 2010/07/21 23:40:26 nicm Exp 
@


1.12
log
@Regen.
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.48 2010/06/14 14:07:49 todd Exp 
@


1.11
log
@Regen.
@
text
@d6 4
a9 4
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.10 2010/06/09 16:10:25 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.47 2010/06/09 16:10:24 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.78 2008/06/14 23:09:05 todd Exp 
#	OpenBSD: MAKEDEV.sub,v 1.13 2005/01/28 18:51:38 danh Exp 
a54 1
#	ss*	SCSI scanners
a224 8
ss*)
	M ss$U c 42 $(($U*16)) 640 operator
	M nss$U c 42 $(($(($U*16))+1)) 640 operator
	M enss$U c 42 $(($(($U*16))+3)) 640 operator
	RMlist[${#RMlist[*]}]="scan$U"
	MKlist[${#MKlist[*]}]=";umask 77;ln -s ss$U scan$U"
	;;

d342 1
a342 1
	R vscsi0 nnpfs0 ss0 ch0 nvram0 ptm local uk0 random lkm pf
@


1.10
log
@sync
@
text
@d7 3
a9 3
#	OpenBSD: MAKEDEV.common,v 1.48 2010/06/14 14:07:49 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.79 2009/01/25 17:30:48 miod Exp 
#	OpenBSD: MAKEDEV.sub,v 1.14 2005/02/07 06:14:18 david Exp 
@


1.9
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.47 2010/06/09 16:10:24 todd Exp 
d203 1
a203 1
	M diskmap b 54 0 640 operator
@


1.8
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.9 2009/08/13 15:12:36 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.45 2009/08/13 15:12:36 deraadt Exp 
d61 1
d202 4
d350 3
a352 3
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 vscsi0
	R nnpfs0 ss0 ch0 nvram0 ptm local uk0 random lkm pf systrace
	R std st0 st1 fd
@


1.7
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.8 2009/06/03 14:45:39 jj Exp 
#	OpenBSD: MAKEDEV.common,v 1.43 2009/06/03 14:45:39 jj Exp 
d60 1
d201 4
d345 3
a347 3
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 nnpfs0 ss0
	R ch0 nvram0 ptm local uk0 random lkm pf systrace std st0 st1
	R fd
@


1.6
log
@Arla client rename from xfs to nnpfs for later upgrades. Tested on various arches. ok todd@@ beck@@
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.7 2009/01/25 17:30:48 miod Exp 
#	OpenBSD: MAKEDEV.common,v 1.41 2008/11/30 03:33:09 jakemsr Exp 
@


1.5
log
@regen
@
text
@d59 1
a59 1
#	xfs*	XFS filesystem node
d200 2
a201 2
xfs*)
	M xfs$U c 51 $U 600
d340 1
a340 1
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 xfs0 ss0
@


1.4
log
@sync
@
text
@d6 3
a8 3
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.6 2008/06/14 23:09:05 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.40 2008/10/10 20:15:23 deraadt Exp 
#	OpenBSD: MAKEDEV.mi,v 1.78 2008/06/14 23:09:05 todd Exp 
a195 1
	M drum		c 3 0 640 kmem
@


1.3
log
@sync (missed last time round)
@
text
@d6 3
a8 3
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.5 2008/06/13 21:07:28 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.38 2008/06/12 22:38:14 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.77 2005/10/06 06:43:19 otto Exp 
d227 1
a227 1
	for pre in " " s u p a
@


1.2
log
@Resync MAKEDEV scripts and man pages
@
text
@d6 2
a7 2
#	OpenBSD: etc.aviion/MAKEDEV.md,v 1.1 2006/05/09 21:17:13 miod Exp 
#	OpenBSD: MAKEDEV.common,v 1.29 2006/08/28 21:04:04 tsi Exp 
d48 1
d256 4
d334 2
a335 1
	R pty0 ttya rd0 cd0 cd1 st0 st1 sd0 sd1 sd2 sd3 sd4 bpf0 std
d340 4
a343 3
	R sd1 sd2 sd3 sd4 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0 bpf1
	R bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 xfs0 ss0 ch0
	R nvram0 ptm local uk0 random lkm pf systrace std st0 st1 fd
@


1.1
log
@Regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.27 2006/04/16 11:34:01 todd Exp 
@

