head	1.87;
access;
symbols
	OPENBSD_6_0:1.85.0.4
	OPENBSD_6_0_BASE:1.85
	OPENBSD_5_9:1.80.0.2
	OPENBSD_5_9_BASE:1.80
	OPENBSD_5_8:1.77.0.6
	OPENBSD_5_8_BASE:1.77
	OPENBSD_5_7:1.77.0.2
	OPENBSD_5_7_BASE:1.77
	OPENBSD_5_6:1.74.0.4
	OPENBSD_5_6_BASE:1.74
	OPENBSD_5_5:1.73.0.4
	OPENBSD_5_5_BASE:1.73
	OPENBSD_5_4:1.66.0.2
	OPENBSD_5_4_BASE:1.66
	OPENBSD_5_3:1.60.0.2
	OPENBSD_5_3_BASE:1.60
	OPENBSD_5_2:1.57.0.2
	OPENBSD_5_2_BASE:1.57
	OPENBSD_5_1_BASE:1.56
	OPENBSD_5_1:1.56.0.2
	OPENBSD_5_0:1.54.0.2
	OPENBSD_5_0_BASE:1.54
	OPENBSD_4_9:1.52.0.2
	OPENBSD_4_9_BASE:1.52
	OPENBSD_4_8:1.50.0.2
	OPENBSD_4_8_BASE:1.50
	OPENBSD_4_7:1.42.0.2
	OPENBSD_4_7_BASE:1.42
	OPENBSD_4_6:1.39.0.4
	OPENBSD_4_6_BASE:1.39
	OPENBSD_4_5:1.36.0.2
	OPENBSD_4_5_BASE:1.36
	OPENBSD_4_4:1.32.0.2
	OPENBSD_4_4_BASE:1.32
	OPENBSD_4_3:1.28.0.4
	OPENBSD_4_3_BASE:1.28
	OPENBSD_4_2:1.28.0.2
	OPENBSD_4_2_BASE:1.28
	OPENBSD_4_1:1.24.0.2
	OPENBSD_4_1_BASE:1.24
	OPENBSD_4_0:1.20.0.2
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.18.0.2
	OPENBSD_3_9_BASE:1.18
	OPENBSD_3_8:1.13.0.2
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.10.0.2
	OPENBSD_3_7_BASE:1.10;
locks; strict;
comment	@# @;


1.87
date	2016.09.03.13.37.40;	author guenther;	state dead;
branches;
next	1.86;
commitid	6T3r4QcMFKe3Fo5T;

1.86
date	2016.09.02.17.29.01;	author goda;	state Exp;
branches;
next	1.85;
commitid	jpWYiBSH0Zb5ggN1;

1.85
date	2016.05.21.21.35.52;	author deraadt;	state Exp;
branches;
next	1.84;
commitid	VqgBnfl5n3M9BSSw;

1.84
date	2016.05.21.15.18.50;	author deraadt;	state Exp;
branches;
next	1.83;
commitid	63AnsVd02uEVSedF;

1.83
date	2016.04.28.18.17.31;	author natano;	state Exp;
branches;
next	1.82;
commitid	yJ7nITWQGOm5qxNW;

1.82
date	2016.04.25.20.38.35;	author tedu;	state Exp;
branches;
next	1.81;
commitid	0kiqbjPHHvQxOXM9;

1.81
date	2016.03.12.18.02.18;	author espie;	state Exp;
branches;
next	1.80;
commitid	OOHlYIifEE4gewlK;

1.80
date	2015.11.10.21.50.02;	author sthen;	state Exp;
branches;
next	1.79;
commitid	cbpQoyIQoLnKxXlo;

1.79
date	2015.11.10.21.44.03;	author sthen;	state Exp;
branches;
next	1.78;
commitid	xjeR06qiavDtFv9k;

1.78
date	2015.10.23.15.14.47;	author claudio;	state Exp;
branches;
next	1.77;
commitid	D8oDiiCrSjVktjLG;

1.77
date	2014.12.11.19.48.39;	author tedu;	state Exp;
branches;
next	1.76;
commitid	2Qyj7V6Rmn8q72sA;

1.76
date	2014.10.09.04.38.02;	author tedu;	state Exp;
branches;
next	1.75;
commitid	M66ALjcyb37tQVMc;

1.75
date	2014.08.20.11.23.41;	author mikeb;	state Exp;
branches;
next	1.74;
commitid	vzc4wz1s3pDevb7K;

1.74
date	2014.07.11.22.04.52;	author tedu;	state Exp;
branches;
next	1.73;
commitid	xQhhmJP574n3YeP9;

1.73
date	2014.02.14.20.09.27;	author ratchov;	state Exp;
branches;
next	1.72;

1.72
date	2014.01.05.01.27.59;	author deraadt;	state Exp;
branches;
next	1.71;

1.71
date	2013.11.21.11.06.09;	author kettenis;	state Exp;
branches;
next	1.70;

1.70
date	2013.11.05.16.06.29;	author deraadt;	state Exp;
branches;
next	1.69;

1.69
date	2013.09.16.08.18.29;	author dcoppa;	state Exp;
branches;
next	1.68;

1.68
date	2013.08.21.15.14.27;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2013.08.20.14.30.20;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2013.07.06.17.34.48;	author naddy;	state Exp;
branches;
next	1.65;

1.65
date	2013.07.06.16.15.28;	author naddy;	state Exp;
branches;
next	1.64;

1.64
date	2013.06.21.21.34.33;	author syl;	state Exp;
branches;
next	1.63;

1.63
date	2013.06.15.23.21.04;	author halex;	state Exp;
branches;
next	1.62;

1.62
date	2013.06.03.17.34.15;	author tedu;	state Exp;
branches;
next	1.61;

1.61
date	2013.03.15.09.16.19;	author ratchov;	state Exp;
branches;
next	1.60;

1.60
date	2013.01.30.02.02.02;	author yasuoka;	state Exp;
branches;
next	1.59;

1.59
date	2012.11.26.08.08.00;	author jasper;	state Exp;
branches;
next	1.58;

1.58
date	2012.08.23.06.17.00;	author deraadt;	state Exp;
branches;
next	1.57;

1.57
date	2012.04.06.15.32.57;	author jsing;	state Exp;
branches;
next	1.56;

1.56
date	2011.10.22.19.31.41;	author miod;	state Exp;
branches;
next	1.55;

1.55
date	2011.10.06.20.50.54;	author deraadt;	state Exp;
branches;
next	1.54;

1.54
date	2011.06.26.23.42.28;	author tedu;	state Exp;
branches;
next	1.53;

1.53
date	2011.04.18.16.52.11;	author thib;	state Exp;
branches;
next	1.52;

1.52
date	2010.09.30.15.29.23;	author claudio;	state Exp;
branches;
next	1.51;

1.51
date	2010.09.04.12.18.42;	author miod;	state Exp;
branches;
next	1.50;

1.50
date	2010.08.03.20.16.23;	author miod;	state Exp;
branches;
next	1.49;

1.49
date	2010.07.23.14.36.50;	author mglocker;	state Exp;
branches;
next	1.48;

1.48
date	2010.07.22.00.59.56;	author deraadt;	state Exp;
branches;
next	1.47;

1.47
date	2010.07.03.04.08.11;	author krw;	state Exp;
branches;
next	1.46;

1.46
date	2010.06.27.00.00.51;	author jsing;	state Exp;
branches;
next	1.45;

1.45
date	2010.06.14.14.08.45;	author todd;	state Exp;
branches;
next	1.44;

1.44
date	2010.06.09.16.11.42;	author todd;	state Exp;
branches;
next	1.43;

1.43
date	2010.03.30.19.20.36;	author matthieu;	state Exp;
branches;
next	1.42;

1.42
date	2009.09.23.15.40.18;	author miod;	state Exp;
branches;
next	1.41;

1.41
date	2009.08.13.15.13.09;	author deraadt;	state Exp;
branches;
next	1.40;

1.40
date	2009.07.22.17.46.26;	author ratchov;	state Exp;
branches;
next	1.39;

1.39
date	2009.06.03.15.36.55;	author todd;	state Exp;
branches;
next	1.38;

1.38
date	2009.06.03.14.45.40;	author jj;	state Exp;
branches;
next	1.37;

1.37
date	2009.04.05.17.52.21;	author jmc;	state Exp;
branches;
next	1.36;

1.36
date	2009.02.06.21.18.20;	author grange;	state Exp;
branches;
next	1.35;

1.35
date	2009.01.25.17.31.11;	author miod;	state Exp;
branches;
next	1.34;

1.34
date	2008.11.30.04.24.26;	author jakemsr;	state Exp;
branches;
next	1.33;

1.33
date	2008.10.10.20.16.10;	author deraadt;	state Exp;
branches;
next	1.32;

1.32
date	2008.06.28.21.48.29;	author mglocker;	state Exp;
branches;
next	1.31;

1.31
date	2008.06.13.21.09.11;	author todd;	state Exp;
branches;
next	1.30;

1.30
date	2008.06.12.20.42.00;	author todd;	state Exp;
branches;
next	1.29;

1.29
date	2008.06.12.18.55.05;	author todd;	state Exp;
branches;
next	1.28;

1.28
date	2007.08.02.16.42.19;	author deraadt;	state Exp;
branches;
next	1.27;

1.27
date	2007.05.28.22.29.57;	author todd;	state Exp;
branches;
next	1.26;

1.26
date	2007.05.27.02.00.20;	author todd;	state Exp;
branches;
next	1.25;

1.25
date	2007.05.26.20.19.33;	author todd;	state Exp;
branches;
next	1.24;

1.24
date	2007.03.07.02.58.41;	author krw;	state Exp;
branches;
next	1.23;

1.23
date	2007.02.16.02.16.34;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2006.12.15.21.03.56;	author kettenis;	state Exp;
branches;
next	1.21;

1.21
date	2006.10.10.12.58.03;	author todd;	state Exp;
branches;
next	1.20;

1.20
date	2006.08.28.21.23.34;	author tsi;	state Exp;
branches;
next	1.19;

1.19
date	2006.03.15.16.14.01;	author deraadt;	state Exp;
branches;
next	1.18;

1.18
date	2005.12.27.19.03.10;	author miod;	state Exp;
branches;
next	1.17;

1.17
date	2005.10.06.06.44.00;	author otto;	state Exp;
branches;
next	1.16;

1.16
date	2005.10.04.18.34.30;	author otto;	state Exp;
branches;
next	1.15;

1.15
date	2005.10.04.18.12.01;	author otto;	state Exp;
branches;
next	1.14;

1.14
date	2005.10.04.07.40.35;	author otto;	state Exp;
branches;
next	1.13;

1.13
date	2005.08.01.22.22.38;	author deraadt;	state Exp;
branches;
next	1.12;

1.12
date	2005.06.02.20.14.00;	author tholo;	state Exp;
branches;
next	1.11;

1.11
date	2005.04.28.06.33.26;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2005.03.04.15.58.41;	author todd;	state Exp;
branches;
next	1.9;

1.9
date	2005.03.01.13.37.10;	author otto;	state Exp;
branches;
next	1.8;

1.8
date	2005.02.07.08.23.42;	author david;	state Exp;
branches;
next	1.7;

1.7
date	2005.02.07.06.24.45;	author david;	state Exp;
branches;
next	1.6;

1.6
date	2005.01.28.18.59.43;	author danh;	state Exp;
branches;
next	1.5;

1.5
date	2005.01.19.02.49.17;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	2005.01.19.02.02.34;	author uwe;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.18.16.34.29;	author drahn;	state Exp;
branches;
next	1.2;

1.2
date	2005.01.10.07.58.01;	author dlg;	state Exp;
branches;
next	1.1;

1.1
date	2004.12.31.00.06.41;	author drahn;	state Exp;
branches;
next	;


desc
@@


1.87
log
@Retire zaurus, as it hasn't made the EABI jump and will be permanently broken
shortly when we use the hardware thread register in userland
@
text
@#!/bin/sh -
#
# THIS FILE AUTOMATICALLY GENERATED.  DO NOT EDIT.
# generated from:
#
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.44 2016/09/02 17:06:14 goda Exp 
#	OpenBSD: MAKEDEV.common,v 1.90 2016/09/02 17:06:13 goda Exp 
#	OpenBSD: MAKEDEV.mi,v 1.82 2016/03/12 17:58:59 espie Exp 
#	OpenBSD: MAKEDEV.sub,v 1.14 2005/02/07 06:14:18 david Exp 
#
#
# Copyright (c) 2001-2004 Todd T. Fries <todd@@OpenBSD.org>
#
# Permission to use, copy, modify, and distribute this software for any
# purpose with or without fee is hereby granted, provided that the above
# copyright notice and this permission notice appear in all copies.
#
# THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
# WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
# MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
# ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
# WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
# ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
# OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
#
# Device "make" file.  Valid arguments:
#	all	makes all known devices, including local devices.
#		Tries to make the ``standard'' number of each type.
#	ramdisk	Ramdisk kernel devices
#	std	Standard devices
#	local	Configuration specific devices
# Disks:
#	cd*	ATAPI and SCSI CD-ROM drives
#	ch*	SCSI media changers
#	rd*	"rd" pseudo-disks
#	sd*	SCSI disks, including flopticals
#	vnd*	"file" pseudo-disk devices
#	wd*	"winchester" disk drives (ST506, IDE, ESDI, RLL, ...)
# Tapes:
#	st*	SCSI tape drives
# Terminal ports:
#	tty[0-7][0-9a-f]	NS16x50 serial ports
# Pseudo terminals:
#	ptm	pty master device
#	pty*	Set of 62 master pseudo terminals
#	tty*	Set of 62 slave pseudo terminals
# Console ports:
#	ttyC-J*	wscons display devices
#	wscons	Minimal wscons devices
#	wskbd*	wscons keyboards
#	wsmouse*	wscons mice
#	wsmux	wscons keyboard/mouse mux devices
# USB devices:
#	ttyU*	USB serial ports
#	uall	All USB devices
#	ugen*	Generic USB devices
#	uhid*	Generic HID devices
#	ulpt*	Printer devices
#	usb*	Bus control devices used by usbd for attach/detach
# Special purpose devices:
#	apm	Power management device
#	audio*	Audio devices
#	bio	ioctl tunnel pseudo-device
#	bktr*	Video frame grabbers
#	bpf	Berkeley Packet Filter
#	diskmap	Disk mapper
#	fd	fd/* nodes
#	fuse	Userland Filesystem
#	hotplug	devices hot plugging
#	pf*	Packet Filter
#	pppx*	PPP Multiplexer
#	radio*	FM tuner devices
#	*random	In-kernel random data source
#	rmidi*	Raw MIDI devices
#	tun*	Network tunnel driver
#	tap*	Ethernet tunnel driver
#	tuner*	Tuner devices
#	uk*	Unknown SCSI devices
#	video*	Video V4L2 devices
#	vscsi*	Virtual SCSI controller
#	switch*	Switch driver
PATH=/sbin:/usr/sbin:/bin:/usr/bin
T=$0

# set this to echo for Echo-Only debugging
[ "$eo" ] || eo=

hex()
{
	case $1 in
	[0-9]) echo -n $1;;
	10) echo -n a;;
	11) echo -n b;;
	12) echo -n c;;
	13) echo -n d;;
	14) echo -n e;;
	15) echo -n f;;
	esac
}

alph2d()
{
	local t="$1"
	local p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"
	local sub=${p%${t}*}
	echo ${#sub}
}

h2d()
{
	local s="$1"
	local f=${s%*[0-9a-f]} n=${s#[0-9a-f]*}

	echo $(($(_h2d $f)*16+ $(_h2d $n) ))
}

_h2d()
{
	case $1 in
	[0-9]) echo -n $1;;
	a) echo -n 10;;
	b) echo -n 11;;
	c) echo -n 12;;
	d) echo -n 13;;
	e) echo -n 14;;
	f) echo -n 15;;
	esac
}

unt()
{
	# XXX pdksh can't seem to deal with locally scoped variables
	# in ${foo#$bar} expansions
	arg="$1"
	tmp="${arg#[a-zA-Z]*}"
	tmp="${tmp%*[a-zA-Z]}"
	while [ "$tmp" != "$arg" ]
	do
		arg=$tmp
		tmp="${arg#[a-zA-Z]*}"
		tmp="${tmp%*[a-zA-Z]}"
	done
	echo $arg
}

dodisk()
{
	[ "$DEBUG" ] && set -x
	n=$(($((${5}*${7:-16}))+${6})) count=0
	[ 0$7 -ne 8 ] && l="i j k l m n o p"
	for d in a b c d e f g h $l
	do
		M $1$2$d	b $3 $(($n+$count)) 640 operator
		M r$1$2$d	c $4 $(($n+$count)) 640 operator
		let count=count+1
	done
}

dodisk2()
{
	n=$(($(($5*${7:-16}))+$6))
	M $1$2a b $3 $n 640 operator
	M r$1$2a c $4 $n 640 operator
	n=$(($n+2))
	M $1$2c b $3 $n 640 operator
	M r$1$2c c $4 $n 640 operator
}

# M name b/c major minor [mode] [group]
RMlist[0]="rm -f"

mkl() {
	: ${mklist[0]:=";mknod"}
	mklist[${#mklist[*]}]=" -m $1 $2 $3 $4 $5"
}

M() {
	RMlist[${#RMlist[*]}]=$1
	mkl ${5-666} $1 $2 $3 $4
	G=${6:-wheel}
	[ "$7" ] && {
		MKlist[${#MKlist[*]}]="&& chown $7:$G $1"
	} || {
		case $G in
		wheel)
			[ ${#whlist[*]} = 0 ] && whlist[0]="&& chgrp wheel"
			whlist[${#whlist[*]}]="$1"
		;;
		operator)
			[ ${#oplist[*]} = 0 ] && oplist[0]="&& chgrp operator"
			oplist[${#oplist[*]}]="$1"
		;;
		*)
			MKlist[${#MKlist[*]}]="&& chgrp $G $1";
		esac
	}
	return 0
}

R() {
[ "$DEBUG" ] && set -x
for i in "$@@"
do
U=`unt $i`
[ "$U" ] || U=0

case $i in
ramdisk)
	R std bpf wd0 wd1 sd0 tty00 rd0 wsmouse
	R st0 ttyC0 wskbd0 apm bio diskmap random
	;;

std)
	M console	c 0 0 600
	M tty		c 1 0
	M mem		c 2 0 640 kmem
	M kmem		c 2 1 640 kmem
	M null		c 2 2
	M zero		c 2 12
	M stdin		c 7 0
	M stdout	c 7 1
	M stderr	c 7 2
	M ksyms		c 8 0 640 kmem
	M klog		c 6 0 600
	;;

switch*)
	M switch$U c 105 $U 600
	;;

vscsi*)
	M vscsi$U c 100 $U 600
	;;

video*)
	M video$U  c 38 $U 600
	MKlist[${#MKlist[*]}]=";[ -e video ] || ln -s video$U video"
	;;

uk*)
	M uk$U c 28 $U 640 operator
	;;

tuner*)
	M tuner$U c 75 $(($(($U*2))+16)) 644
	;;

tap*)
	M tap$U c 104 $U 600
	;;

tun*)
	M tun$U c 33 $U 600
	;;

rmidi*)
	M rmidi$U c 57 $U 666
	;;

*random)
	n=0
	for pre in " " s u a
	do
		M ${pre}random c 40 $n 644
		n=$(($n+1))
	done
	;;

radio*)
	M radio$U     c 97 $U
	MKlist[${#MKlist[*]}]=";[ -e radio ] || ln -s radio$U radio"
	;;

pppx*)
	M pppx$U c 103 $U 600
	;;

pf*)
	M pf c 46 0 600
	;;

hotplug)
	M hotplug c 37 $U 400
	;;

fuse)
	M fuse$U c 77 $U 600
	;;

fd)
	RMlist[${#RMlist[*]}]=";mkdir -p fd;rm -f" n=0
	while [ $n -lt 64 ];do M fd/$n c 7 $n;n=$(($n+1));done
	MKlist[${#MKlist[*]}]=";chmod 555 fd"
	;;

diskmap)
	M diskmap c 102 0 640 operator
	;;

bpf)
	M bpf c 22 0 600
	M bpf0 c 22 0 600
	;;

bktr*)
	M bktr$U c 75 $U 644
	;;

bio)
	M bio c 52 0 600
	;;

audio*)
	M sound$U	c 36 $U
	M mixer$U	c 36 $(($U+16))
	M audio$U	c 36 $(($U+128))
	M audioctl$U	c 36 $(($U+192))
	MKlist[${#MKlist[*]}]=";[ -e audio ] || ln -s audio$U audio"
	MKlist[${#MKlist[*]}]=";[ -e mixer ] || ln -s mixer$U mixer"
	MKlist[${#MKlist[*]}]=";[ -e sound ] || ln -s sound$U sound"
	MKlist[${#MKlist[*]}]=";[ -e audioctl ] || ln -s audioctl$U audioctl"
	;;

apm*)
	M apm	c 34 0 644
	M apmctl	c 34 8 644
	;;

usb*)
	[ "$i" = "usb" ] && u= || u=$U
	M usb$u c 64 $U 660
	;;

ulpt*)
	M ulpt$U c 66 $U 660
	;;

uhid*)
	M uhid$U c 65 $U 660
	;;

ugen*)
	n=$(($U*16))
	for j in 0{0,1,2,3,4,5,6,7,8,9} 1{0,1,2,3,4,5}
	do
		M ugen$U.$j c 70 $(($n+10#$j)) 660
	done
	;;

uall)
	R ttyU0 ttyU1 ttyU2 ttyU3 ugen0 ugen1 ugen2 ugen3 ugen4 ugen5
	R ugen6 ugen7 ulpt0 ulpt1 uhid0 uhid1 uhid2 uhid3 usb0 usb1
	R usb2 usb3 usb4 usb5 usb6 usb7
	;;

ttyU[0-9a-zA-Z])
	U=${i#ttyU*}
	o=$(alph2d $U)
	M ttyU$U c 68 $o 660 dialer uucp
	M cuaU$U c 68 $(($o+128)) 660 dialer uucp
	;;

wsmux|wsmouse|wskbd)
	M wsmouse c 63 0 600
	M wskbd c 63 1 600
	;;

wsmouse[0-9]*)
	M wsmouse$U c 62 $U 600
	;;

wskbd[0-9]*)
	M wskbd$U c 61 $U 600
	;;

wscons)
	R wsmouse0 wsmouse1 wsmouse2 wsmouse3 wskbd0 wskbd1 wskbd2
	R wskbd3 wsmux ttyCcfg ttyC0 ttyC1 ttyC2 ttyC3 ttyC4 ttyC5
	R ttyC6 ttyC7 ttyC8 ttyC9 ttyCa ttyCb
	;;

tty[C-J]*)
	U=${i##tty[C-J]}
	case $i in
	ttyC*) n=C m=0;;
	ttyD*) n=D m=256;;
	ttyE*) n=E m=512;;
	ttyF*) n=F m=768;;
	ttyG*) n=G m=1024;;
	ttyH*) n=H m=1280;;
	ttyI*) n=I m=1536;;
	ttyJ*) n=J m=1792;;
	esac
	case $U in
	[0-9a-f]) M tty$n$U c 60 $((16#$U+$m)) 600;;
	cfg) M tty${n}cfg c 60 $((255+$m)) 600;;
	*) echo bad unit $U for $i; exit 1;;
	esac
	;;

pty*)
	if [ $U -gt 15 ]; then
		echo bad unit for pty in: $i
		continue
	fi
	set -A letters p q r s t u v w x y z P Q R S T
	set -A suffixes 0 1 2 3 4 5 6 7 8 9 a b c d e f g h i j k l m n o p q \
	    r s t u v w x y z A B C D E F G H I J K L M N O P Q R S T U V W X \
	    Y Z

	name=${letters[$U]}
	n=0
	while [ $n -lt 62 ]
	do
		nam=$name${suffixes[$n]}
		off=$(($U*62))
		M tty$nam c 4 $(($off+$n))
		M pty$nam c 5 $(($off+$n))
		n=$(($n+1))
	done
	;;

ptm)
	M ptm c 98 0 666
	;;

tty[0-7][0-9a-f])
	U=${i#tty*}
	o=$(h2d $U)
	M tty$U c 12 $o 660 dialer uucp
	M cua$U c 12 $(($o+128)) 660 dialer uucp
	;;

st*)
	n=$(($U*16))
	for pre in " " n e en
	do
		M ${pre}st$U	b 25 $n 660 operator
		M ${pre}rst$U	c 25 $n 660 operator
		n=$(($n+1))
	done
	;;

vnd*)
	dodisk vnd $U 19 19 $U 0
	;;

rd*)
	dodisk2 rd $U 18 18 $U 0
	;;

ch*)
	M ch$U c 27 $U 660 operator
	;;

cd*)
	dodisk2 cd $U 26 26 $U 0
	;;

local)
	test -s $T.local && sh $T.local
	;;

all)
	R switch0 switch1 switch2 switch3 vnd0 vnd1 vnd2 vnd3 sd0 sd1
	R sd2 sd3 sd4 sd5 sd6 sd7 sd8 sd9 cd0 cd1 rd0 tap0 tap1 tap2
	R tap3 tun0 tun1 tun2 tun3 pty0 bio diskmap vscsi0 ch0 audio0
	R audio1 audio2 bpf fuse pppx hotplug ptm local wscons uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 video0 video1 uk0 random tty00 tty01 tty02
	R tty03 tty04 tty05 tty06 tty07 tty08 tty09 tty0a tty0b apm pf
	R wd0 wd1 wd2 wd3 std st0 st1 fd
	;;

wd*|sd*)
	case $i in
	wd*) dodisk wd $U 16 16 $U 0;;
	sd*) dodisk sd $U 24 24 $U 0;;
	esac
	;;

*)
	echo $i: unknown device
	;;
esac
done
}
R "$@@"
{
echo -n ${RMlist[*]}
echo -n ${mklist[*]}
echo -n ${MKlist[*]}
echo -n ${whlist[*]}
echo ${oplist[*]}
} | if [ "$eo" = "echo" ]; then
        cat
else
	sh
fi
@


1.86
log
@sync
@
text
@@


1.85
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.43 2016/04/28 18:17:31 natano Exp 
#	OpenBSD: MAKEDEV.common,v 1.88 2016/05/21 15:17:49 deraadt Exp 
d81 1
d227 4
d236 1
a236 1
	M video$U  c 38 $U 600 
d465 8
a472 7
	R vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4 sd5 sd6 sd7 sd8 sd9
	R cd0 cd1 rd0 tap0 tap1 tap2 tap3 tun0 tun1 tun2 tun3 pty0 bio
	R diskmap vscsi0 ch0 audio0 audio1 audio2 bpf fuse pppx
	R hotplug ptm local wscons uall rmidi0 rmidi1 rmidi2 rmidi3
	R rmidi4 rmidi5 rmidi6 rmidi7 tuner0 radio0 video0 video1 uk0
	R random tty00 tty01 tty02 tty03 tty04 tty05 tty06 tty07 tty08
	R tty09 tty0a tty0b apm pf wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.84
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.87 2016/04/28 18:17:30 natano Exp 
d231 1
a231 1
	M video$U  c 38 $U
@


1.83
log
@Replace /dev/bpf[0-9] with /dev/bpf and /dev/bpf0. The /dev/bpf node is
unused for now, but I plan to convert all programs in base to use it in
a future diff. /dev/bpf0 is for compatibility with existing binaries
and is to be removed after a transition period.

ok rpe krw, for the installer part
"Let's see it hit the tree." deraadt
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.42 2016/04/25 20:38:11 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.86 2016/04/25 20:39:42 tedu Exp 
@


1.82
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.85 2016/02/05 06:29:45 uebayasi Exp 
d65 1
a65 1
#	bpf*	Berkeley Packet Filter
d208 1
a208 1
	R std bpf0 wd0 wd1 sd0 tty00 rd0 wsmouse
d295 3
a297 2
bpf*)
	M bpf$U c 22 $U 600
d461 6
a466 7
	R cd0 cd1 rd0 tap0 tap1 tap2 tap3 tun0 tun1 tun2 tun3 bpf0
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 bio
	R diskmap vscsi0 ch0 audio0 audio1 audio2 fuse pppx hotplug
	R ptm local wscons uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4
	R rmidi5 rmidi6 rmidi7 tuner0 radio0 video0 video1 uk0 random
	R tty00 tty01 tty02 tty03 tty04 tty05 tty06 tty07 tty08 tty09
	R tty0a tty0b apm pf wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.81
log
@regen generated files after MAKEDEVs commits
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.41 2015/10/23 15:14:12 claudio Exp 
d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.81 2012/11/05 08:07:09 jasper Exp 
a74 1
#	systrace*	System call tracing device
a250 4
systrace)
	M systrace c 50 0 644
	;;

d466 1
a466 1
	R tty0a tty0b apm pf systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.80
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.81 2015/11/10 21:49:18 sthen Exp 
d173 2
a174 1
	mklist[${#mklist[*]}]=";mknod -m $1 $2 $3 $4 $5"
@


1.79
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.80 2015/11/10 21:42:28 sthen Exp 
@


1.78
log
@Sync (after tap addition)
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.79 2015/10/23 15:14:11 claudio Exp 
@


1.77
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.40 2014/12/11 19:48:03 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.78 2014/12/11 19:46:15 tedu Exp 
d77 1
d243 4
d464 7
a470 7
	R cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3 bpf4
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 bio diskmap vscsi0 ch0 audio0
	R audio1 audio2 fuse pppx hotplug ptm local wscons uall rmidi0
	R rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0
	R radio0 video0 video1 uk0 random tty00 tty01 tty02 tty03
	R tty04 tty05 tty06 tty07 tty08 tty09 tty0a tty0b apm pf
	R systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.76
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.39 2014/10/09 04:37:43 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.77 2014/10/09 04:33:50 tedu Exp 
a58 1
#	urio*	Diamond Multimedia Rio 500
a326 4
urio*)
	M urio$U c 67 $U 660
	;;

d345 2
a346 2
	R ugen6 ugen7 ulpt0 ulpt1 uhid0 uhid1 uhid2 uhid3 urio0 usb0
	R usb1 usb2 usb3 usb4 usb5 usb6 usb7
@


1.75
log
@Remove userland bits related to the crypto(4) interface;  ok deraadt
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.37 2014/07/11 22:04:09 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.74 2014/07/11 21:58:32 tedu Exp 
a70 1
#	lkm	Loadable kernel modules interface
a276 4
lkm)
	M lkm c 35 0 640 _lkm
	;;

d468 3
a470 3
	R radio0 video0 video1 uk0 random lkm tty00 tty01 tty02 tty03
	R tty04 tty05 tty06 tty07 tty08 tty09 tty0a tty0b apm
	R pf systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.74
log
@regen
@
text
@a66 1
#	crypto	Hardware crypto access driver
a299 4
crypto)
	M crypto c 47 0
	;;

d474 1
a474 1
	R tty04 tty05 tty06 tty07 tty08 tty09 tty0a tty0b apm crypto
@


1.73
log
@regen to add audio*
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.36 2014/02/14 20:02:40 ratchov Exp 
#	OpenBSD: MAKEDEV.common,v 1.73 2013/11/21 11:04:44 kettenis Exp 
a66 1
#	bthub*	Bluetooth Hubs
a304 4
bthub*)
	M bthub$U c 101 $U
	;;

d473 8
a480 9
	R bthub0 bthub1 bthub2 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3
	R sd4 sd5 sd6 sd7 sd8 sd9 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 bio
	R diskmap vscsi0 ch0 audio0 audio1 audio2 fuse pppx hotplug
	R ptm local wscons uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4
	R rmidi5 rmidi6 rmidi7 tuner0 radio0 video0 video1 uk0 random
	R lkm tty00 tty01 tty02 tty03 tty04 tty05 tty06 tty07 tty08
	R tty09 tty0a tty0b apm crypto pf systrace wd0 wd1 wd2 wd3 std
	R st0 st1 fd
@


1.72
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.35 2014/01/05 01:16:52 deraadt Exp 
d481 6
a486 5
	R diskmap vscsi0 ch0 fuse pppx hotplug ptm local wscons uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 video0 video1 uk0 random lkm tty00 tty01 tty02
	R tty03 tty04 tty05 tty06 tty07 tty08 tty09 tty0a tty0b apm
	R crypto pf systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.71
log
@regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.34 2013/08/21 15:12:50 ajacoutot Exp 
d212 1
a212 1
	R st0 ttyC0 wskbd0 apm bio diskmap
@


1.70
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.72 2013/11/05 16:05:30 deraadt Exp 
@


1.69
log
@regen.
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.71 2013/09/16 08:17:02 dcoppa Exp 
@


1.68
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.33 2013/06/03 17:34:15 tedu Exp 
#	OpenBSD: MAKEDEV.common,v 1.69 2013/08/20 14:27:24 ajacoutot Exp 
d364 3
a366 2
	R ttyU0 ttyU1 ttyU2 ttyU3 ugen0 ugen1 ulpt0 ulpt1 uhid0 uhid1
	R uhid2 uhid3 urio0 usb0 usb1 usb2 usb3 usb4 usb5 usb6 usb7
@


1.67
log
@regen
@
text
@a60 1
uscan_dev
@


1.66
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.67 2013/07/06 16:14:38 naddy Exp 
d61 1
a61 1
#	uscanner*	Scanners
a338 4
uscanner*)
	M uscanner$U c 69 $U 660
	;;

d366 1
a366 2
	R uhid2 uhid3 uscanner0 urio0 usb0 usb1 usb2 usb3 usb4 usb5
	R usb6 usb7
@


1.65
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.66 2013/06/21 21:30:38 syl Exp 
d489 2
a490 2
	R tty03 tty04 tty05 tty06 tty07 apm crypto pf systrace wd0 wd1
	R wd2 wd3 std st0 st1 fd
@


1.64
log
@regen
@
text
@d489 2
a490 1
	R tty03 apm crypto pf systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.63
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.65 2013/06/15 23:09:36 halex Exp 
d72 1
a72 1
#	fuse*	Userland Filesystem
d289 1
a289 1
fuse*)
d486 4
a489 5
	R diskmap vscsi0 ch0 fuse0 fuse1 fuse2 fuse3 pppx hotplug ptm
	R local wscons uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5
	R rmidi6 rmidi7 tuner0 radio0 video0 video1 uk0 random lkm
	R tty00 tty01 tty02 tty03 apm crypto pf systrace wd0 wd1 wd2
	R wd3 std st0 st1 fd
@


1.62
log
@fuse on more archs
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.32 2013/03/15 09:10:52 ratchov Exp 
#	OpenBSD: MAKEDEV.common,v 1.64 2013/06/03 16:06:42 tedu Exp 
d72 1
a72 1
#	fuse	Userland Filesystem
d289 1
a289 1
fuse)
d486 5
a490 4
	R diskmap vscsi0 ch0 fuse pppx hotplug ptm local wscons uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 video0 video1 uk0 random lkm tty00 tty01 tty02
	R tty03 apm crypto pf systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.61
log
@regen after sequencer removal
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.62 2013/03/15 09:10:52 ratchov Exp 
d72 1
d289 4
d486 4
a489 4
	R diskmap vscsi0 ch0 pppx hotplug ptm local wscons uall rmidi0
	R rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0
	R radio0 video0 video1 uk0 random lkm tty00 tty01 tty02 tty03
	R apm crypto pf systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.60
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.31 2012/08/23 06:15:28 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.60 2012/08/23 06:15:28 deraadt Exp 
a73 1
#	music*	MIDI sequencer
a279 7
music*)
	M music$U     c 58 $U
	M sequencer$U c 58 $(($U+128))
	MKlist[${#MKlist[*]}]=";[ -e music ] || ln -s music$U music"
	MKlist[${#MKlist[*]}]=";[ -e sequencer ] || ln -s sequencer$U sequencer"
	;;

d483 2
a484 2
	R radio0 music0 video0 video1 uk0 random lkm tty00 tty01 tty02
	R tty03 apm crypto pf systrace wd0 wd1 wd2 wd3 std st0 st1 fd
@


1.59
log
@regen
@
text
@d489 1
a489 1
	R diskmap vscsi0 ch0 hotplug ptm local wscons uall rmidi0
@


1.58
log
@sync
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.80 2011/04/18 16:52:10 thib Exp 
d185 1
a185 1
		MKlist[${#MKlist[*]}]=";chown $7:$G $1"
d189 1
a189 1
			[ ${#whlist[*]} = 0 ] && whlist[0]=";chgrp wheel"
d193 1
a193 1
			[ ${#oplist[*]} = 0 ] && oplist[0]=";chgrp operator"
d197 1
a197 1
			MKlist[${#MKlist[*]}]=";chgrp $G $1";
@


1.57
log
@Regen.
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.30 2012/04/06 15:18:41 jsing Exp 
#	OpenBSD: MAKEDEV.common,v 1.59 2012/04/06 15:18:41 jsing Exp 
a74 1
#	nnpfs*	NNPFS filesystem node
a280 4
nnpfs*)
	M nnpfs$U c 51 $U 600
	;;

d489 4
a492 5
	R diskmap vscsi0 nnpfs0 ch0 hotplug ptm local wscons uall
	R rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7
	R tuner0 radio0 music0 video0 video1 uk0 random lkm tty00
	R tty01 tty02 tty03 apm crypto pf systrace wd0 wd1 wd2 wd3 std
	R st0 st1 fd
@


1.56
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.29 2011/10/06 20:49:27 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.58 2011/10/22 19:31:20 miod Exp 
a34 1
#	raid*	RAIDframe disk devices
d497 2
a498 2
	R tty01 tty02 tty03 apm crypto pf systrace wd0 wd1 wd2 wd3
	R raid0 raid1 raid2 raid3 std st0 st1 fd
d501 1
a501 1
wd*|sd*|raid*)
a504 1
	raid*) dodisk raid $U 71 71 $U 0;;
@


1.55
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.57 2011/10/06 20:49:25 deraadt Exp 
d497 3
a499 3
	R tuner0 radio0 music0 video0 video1 audio0 audio1 audio2 uk0
	R random lkm tty00 tty01 tty02 tty03 apm crypto pf systrace
	R wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.54
log
@regen makedev
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.28 2010/09/30 15:27:54 claudio Exp 
#	OpenBSD: MAKEDEV.common,v 1.54 2011/04/18 16:52:10 thib Exp 
a32 1
#	ccd*	Concatenated disk devices
d492 8
a499 9
	R bthub0 bthub1 bthub2 ccd0 ccd1 ccd2 ccd3 vnd0 vnd1 vnd2
	R vnd3 sd0 sd1 sd2 sd3 sd4 sd5 sd6 sd7 sd8 sd9 cd0 cd1 rd0
	R tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7
	R bpf8 bpf9 pty0 bio diskmap vscsi0 nnpfs0 ch0 hotplug ptm
	R local wscons uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5
	R rmidi6 rmidi7 tuner0 radio0 music0 video0 video1 audio0
	R audio1 audio2 uk0 random lkm tty00 tty01 tty02 tty03 apm
	R crypto pf systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3
	R std st0 st1 fd
d502 1
a502 1
wd*|sd*|raid*|ccd*)
a506 1
	ccd*) dodisk ccd $U 21 21 $U 0;;
@


1.53
log
@Deprecate vnds in favour of svnds.

In effect, this removes the "old" vndX nodes, and renames
the svndX nodes to vndX.

Old svndX nodes will still continue to work though, for now.

Cleanup accordingly.

ok deraadt@@, todd@@
comments and ok on the man page bits from jmc@@
@
text
@d7 2
a8 2
#	OpenBSD: MAKEDEV.common,v 1.53 2010/09/30 15:27:54 claudio Exp 
#	OpenBSD: MAKEDEV.mi,v 1.79 2009/01/25 17:30:48 miod Exp 
@


1.52
log
@regen
@
text
@a473 1
	dodisk svnd $U 19 19 $U 2048
@


1.51
log
@Regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.26 2010/07/03 03:59:16 krw Exp 
#	OpenBSD: MAKEDEV.common,v 1.51 2010/08/03 20:12:01 miod Exp 
d79 1
d274 4
@


1.50
log
@regen
@
text
@d50 1
a51 1
#	ttyC-J*	wscons display devices
d56 1
a57 1
#	ttyU*	USB serial ports
a66 1
#	hotplug	devices hot plugging
d70 1
d72 1
d74 1
d77 1
d80 1
d82 1
a82 1
#	*random	In-kernel random data source
d84 1
a85 2
#	systrace*	System call tracing device
#	tuner*	Tuner devices
a86 1
#	nnpfs*	NNPFS filesystem node
a87 2
#	bthub*	Bluetooth Hubs
#	diskmap	Disk mapper
a231 8
diskmap)
	M diskmap c 102 0 640 operator
	;;

bthub*)
	M bthub$U c 101 $U
	;;

a235 4
nnpfs*)
	M nnpfs$U c 51 $U 600
	;;

d241 4
d249 4
d257 2
a258 6
uk*)
	M uk$U c 28 $U 640 operator
	;;

tun*)
	M tun$U c 33 $U 600
a269 4
rmidi*)
	M rmidi$U c 57 $U 666
	;;

d279 4
d294 4
d304 4
d312 4
a327 4
hotplug)
	M hotplug c 37 $U 400
	;;

d373 6
a385 6
uall)
	R ttyU0 ttyU1 ttyU2 ttyU3 ugen0 ugen1 ulpt0 ulpt1 uhid0 uhid1
	R uhid2 uhid3 uscanner0 urio0 usb0 usb1 usb2 usb3 usb4 usb5
	R usb6 usb7
	;;

d399 6
a421 6
	;;

wscons)
	R wsmouse0 wsmouse1 wsmouse2 wsmouse3 wskbd0 wskbd1 wskbd2
	R wskbd3 wsmux ttyCcfg ttyC0 ttyC1 ttyC2 ttyC3 ttyC4 ttyC5
	R ttyC6 ttyC7 ttyC8 ttyC9 ttyCa ttyCb
@


1.49
log
@Sync.
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.49 2010/07/21 23:40:26 nicm Exp 
d383 1
@


1.48
log
@sync
@
text
@d493 4
a496 4
	R rmidi6 rmidi7 tuner0 radio0 music0 video0 audio0 audio1
	R audio2 uk0 random lkm tty00 tty01 tty02 tty03 apm crypto pf
	R systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1
	R fd
@


1.47
log
@Regen.
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.48 2010/06/14 14:07:49 todd Exp 
@


1.46
log
@Regen.
@
text
@d6 4
a9 4
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.25 2010/06/26 23:49:50 jsing Exp 
#	OpenBSD: MAKEDEV.common,v 1.47 2010/06/09 16:10:24 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.78 2008/06/14 23:09:05 todd Exp 
#	OpenBSD: MAKEDEV.sub,v 1.13 2005/01/28 18:51:38 danh Exp 
a80 1
#	ss*	SCSI scanners
a260 8
ss*)
	M ss$U c 29 $(($U*16)) 640 operator
	M nss$U c 29 $(($(($U*16))+1)) 640 operator
	M enss$U c 29 $(($(($U*16))+3)) 640 operator
	RMlist[${#RMlist[*]}]="scan$U"
	MKlist[${#MKlist[*]}]=";umask 77;ln -s ss$U scan$U"
	;;

d491 6
a496 6
	R bpf8 bpf9 pty0 bio diskmap vscsi0 nnpfs0 ss0 ss1 ch0 hotplug
	R ptm local wscons uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4
	R rmidi5 rmidi6 rmidi7 tuner0 radio0 music0 video0 audio0
	R audio1 audio2 uk0 random lkm tty00 tty01 tty02 tty03 apm
	R crypto pf systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3
	R std st0 st1 fd
@


1.45
log
@sync
@
text
@d6 4
a9 4
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.24 2010/06/09 16:10:25 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.48 2010/06/14 14:07:49 todd Exp 
#	OpenBSD: MAKEDEV.mi,v 1.79 2009/01/25 17:30:48 miod Exp 
#	OpenBSD: MAKEDEV.sub,v 1.14 2005/02/07 06:14:18 david Exp 
d216 1
a216 1
	R st0 ttyC0 wskbd0 apm bio
@


1.44
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.47 2010/06/09 16:10:24 todd Exp 
d234 1
a234 1
	M diskmap b 102 0 640 operator
@


1.43
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.23 2010/03/30 19:16:09 matthieu Exp 
#	OpenBSD: MAKEDEV.common,v 1.46 2009/09/23 15:39:56 miod Exp 
d88 1
d233 4
d500 6
a505 6
	R bpf8 bpf9 pty0 bio vscsi0 nnpfs0 ss0 ss1 ch0 hotplug ptm
	R local wscons uall rmidi0 rmidi1 rmidi2 rmidi3 rmidi4 rmidi5
	R rmidi6 rmidi7 tuner0 radio0 music0 video0 audio0 audio1
	R audio2 uk0 random lkm tty00 tty01 tty02 tty03 apm crypto pf
	R systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1
	R fd
@


1.42
log
@regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.22 2009/08/13 15:12:36 deraadt Exp 
d87 1
d232 4
d492 9
a500 8
	R ccd0 ccd1 ccd2 ccd3 vnd0 vnd1 vnd2 vnd3 sd0 sd1 sd2 sd3 sd4
	R sd5 sd6 sd7 sd8 sd9 cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 bio vscsi0
	R nnpfs0 ss0 ss1 ch0 hotplug ptm local wscons uall rmidi0
	R rmidi1 rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0
	R radio0 music0 video0 audio0 audio1 audio2 uk0 random lkm
	R tty00 tty01 tty02 tty03 apm crypto pf systrace wd0 wd1 wd2
	R wd3 raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.41
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.45 2009/08/13 15:12:36 deraadt Exp 
d389 1
a389 1
wsmouse*)
d393 1
a393 1
wskbd*)
@


1.40
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.20 2009/06/03 14:45:40 jj Exp 
#	OpenBSD: MAKEDEV.common,v 1.43 2009/06/03 14:45:39 jj Exp 
d86 1
d231 4
d489 6
a494 6
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 bio nnpfs0
	R ss0 ss1 ch0 hotplug ptm local wscons uall rmidi0 rmidi1
	R rmidi2 rmidi3 rmidi4 rmidi5 rmidi6 rmidi7 tuner0 radio0
	R music0 video0 audio0 audio1 audio2 uk0 random lkm tty00
	R tty01 tty02 tty03 apm crypto pf systrace wd0 wd1 wd2 wd3
	R raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.39
log
@sync
@
text
@d74 1
d77 1
d272 4
d285 7
d485 5
a489 4
	R ss0 ss1 ch0 hotplug ptm local wscons uall tuner0 radio0
	R video0 audio0 audio1 audio2 uk0 random lkm tty00 tty01 tty02
	R tty03 apm crypto pf systrace wd0 wd1 wd2 wd3 raid0 raid1
	R raid2 raid3 std st0 st1 fd
@


1.38
log
@Arla client rename from xfs to nnpfs for later upgrades. Tested on various arches. ok todd@@ beck@@
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.19 2009/02/06 21:17:15 grange Exp 
#	OpenBSD: MAKEDEV.common,v 1.42 2009/04/05 17:49:14 jmc Exp 
@


1.37
log
@regen;
@
text
@d83 1
a83 1
#	xfs*	XFS filesystem node
d228 2
a229 2
xfs*)
	M xfs$U c 51 $U 600
d471 1
a471 1
	R bpf1 bpf2 bpf3 bpf4 bpf5 bpf6 bpf7 bpf8 bpf9 pty0 bio xfs0
@


1.36
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.41 2008/11/30 03:33:09 jakemsr Exp 
d82 1
a82 1
#	video*	Video V4L devices
@


1.35
log
@regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.18 2009/01/25 17:30:48 miod Exp 
d470 6
a475 6
	R cd0 cd1 rd0 tun0 tun1 tun2 tun3 bpf0 bpf1 bpf2 bpf3 bpf4
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 bio xfs0 ss0 ss1 ch0 hotplug
	R ptm local wscons uall tuner0 radio0 video0 audio0 audio1
	R audio2 uk0 random lkm tty00 tty01 tty02 tty03 apm crypto pf
	R systrace wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1
	R fd
@


1.34
log
@sync
@
text
@d6 3
a8 3
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.17 2008/06/28 21:46:05 mglocker Exp 
#	OpenBSD: MAKEDEV.common,v 1.40 2008/10/10 20:15:23 deraadt Exp 
#	OpenBSD: MAKEDEV.mi,v 1.78 2008/06/14 23:09:05 todd Exp 
a224 1
	M drum		c 3 0 640 kmem
@


1.33
log
@sync
@
text
@d473 4
a476 3
	R ptm local wscons uall tuner0 radio0 video0 audio0 uk0 random
	R lkm tty00 tty01 tty02 tty03 apm crypto pf systrace wd0 wd1
	R wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.32
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.38 2008/06/12 22:38:14 todd Exp 
d264 1
a264 1
	for pre in " " s u p a
@


1.31
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.15 2008/06/13 21:07:28 todd Exp 
d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.77 2005/10/06 06:43:19 otto Exp 
a63 1
#	video*	Video V4L devices
d82 1
d233 5
a323 5
	;;

video*)
	M video$U  c 38 $U
	MKlist[${#MKlist[*]}]=";[ -e video ] || ln -s video$U video"
@


1.30
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.14 2008/06/12 20:39:29 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.37 2008/06/10 07:12:24 mglocker Exp 
d211 1
a211 1
	R st0 ttyC0 wskbd0 apm
@


1.29
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.13 2008/06/12 18:52:46 todd Exp 
d64 1
d321 5
d473 3
a475 3
	R ptm local wscons uall tuner0 radio0 audio0 uk0 random lkm
	R tty00 tty01 tty02 tty03 apm crypto pf systrace wd0 wd1 wd2
	R wd3 raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.28
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.12 2007/05/28 22:26:02 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.36 2007/07/23 23:21:25 todd Exp 
d210 1
a210 1
	R st0 ttyC0 random wskbd0 apm
@


1.27
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.34 2007/05/18 14:05:33 jmc Exp 
a25 1

@


1.26
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.11 2007/05/27 01:50:36 todd Exp 
d69 1
d297 4
d467 4
a470 4
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 xfs0 ss0 ss1 ch0 hotplug ptm
	R local wscons uall tuner0 radio0 audio0 uk0 random lkm tty00
	R tty01 tty02 tty03 apm crypto pf systrace wd0 wd1 wd2 wd3
	R raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.25
log
@sync
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.10 2007/05/26 19:54:24 todd Exp 
a68 1
#	bio	ioctl tunnel pseudo-device
a295 4
bio)
	M bio c 52 0 600
	;;

d462 4
a465 4
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 bio xfs0 ss0 ss1 ch0 hotplug
	R ptm local wscons uall tuner0 radio0 audio0 uk0 random lkm
	R tty00 tty01 tty02 tty03 apm crypto pf systrace wd0 wd1 wd2
	R wd3 raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.24
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.9 2006/07/25 20:22:27 kettenis Exp 
#	OpenBSD: MAKEDEV.common,v 1.33 2007/03/07 02:51:17 krw Exp 
d26 1
d69 1
d297 4
d467 4
a470 4
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 xfs0 ss0 ss1 ch0 hotplug ptm
	R local wscons uall tuner0 radio0 audio0 uk0 random lkm tty00
	R tty01 tty02 tty03 apm crypto pf systrace wd0 wd1 wd2 wd3
	R raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.23
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.32 2007/02/16 02:16:20 deraadt Exp 
@


1.22
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.31 2006/12/15 20:42:19 kettenis Exp 
@


1.21
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.30 2006/10/10 12:33:41 todd Exp 
@


1.20
log
@Resync MAKEDEV scripts and man pages
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.29 2006/08/28 21:04:04 tsi Exp 
d352 2
a353 2
	R ttyU0 ttyU1 ugen0 ugen1 ulpt0 ulpt1 uhid0 uhid1 uhid2 uhid3
	R uscanner0 urio0 usb0 usb1 usb2 usb3 usb4 usb5
@


1.19
log
@no more need for the aperture
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.8 2006/03/15 16:13:30 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.23 2005/12/27 19:02:42 miod Exp 
d51 1
a51 1
#	ttyC-F*	wscons display devices
a71 1
#	iop*	I2O controller devices
a72 1
#	pci	PCI bus device
a272 4
pci)
	M pci c 71 0 600
	;;

a276 4
iop*)
	M iop$U c 73 $U 660
	;;

d369 2
a370 2
tty[C-F]*)
	U=${i##tty[C-F]}
d376 4
d462 3
a464 3
	R local wscons pci iop0 iop1 uall tuner0 radio0 audio0 uk0
	R random lkm tty00 tty01 tty02 tty03 apm crypto pf systrace
	R wd0 wd1 wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.18
log
@Regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.7 2005/08/01 22:22:14 deraadt Exp 
a226 2
	M xf86		c 2 4 600
	M reload	c 2 20 640 kmem
@


1.17
log
@regen
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.21 2005/10/06 06:43:19 otto Exp 
d50 1
a50 1
#	ttyC0	Minimal wscons devices
d71 1
a71 1
#	fd	fd/* nodes for fdescfs
@


1.16
log
@regen
@
text
@d7 2
a8 2
#	OpenBSD: MAKEDEV.common,v 1.20 2005/08/01 22:22:12 deraadt Exp 
#	OpenBSD: MAKEDEV.mi,v 1.76 2005/10/04 18:33:52 otto Exp 
d172 1
a172 2
RMlist="rm -f"
MKlist=":"
d175 1
a175 6
	[ "${mklist[$1]}" ] && {
		mklist[$1]="${mklist[$1]};mknod -m $1 $2 $3 $4 $5"
	} || {
		mklist[$1]="mknod -m $1 $2 $3 $4 $5"
		modes="$modes $1"
	}
d179 1
a179 1
	RMlist="$RMlist $1"
d183 1
a183 1
		MKlist="$MKlist;chown $7:$G $1"
d186 10
a195 1
		wheel)g=0;;kmem)g=2;;operator)g=5;;tty)g=4;;dialer)g=117;;_lkm)g=61;;
a196 6
		[ "${grplist[$g]}" ] && {
			grplist[$g]="${grplist[$g]} $1"
		} || {
			groups="$groups $g"
			grplist[$g]="chgrp $G $1"
		}
d247 2
a248 2
	RMlist="$RMlist scan$U"
	MKlist="$MKlist;umask 77;ln -s ss$U scan$U"
d270 1
a270 1
	MKlist="$MKlist;[ -e radio ] || ln -s radio$U radio"
d290 1
a290 1
	RMlist="mkdir -p fd;$RMlist" n=0
d292 1
a292 1
	MKlist="$MKlist;chmod 555 fd"
d316 4
a319 4
	MKlist="$MKlist;[ -e audio ] || ln -s audio$U audio"
	MKlist="$MKlist;[ -e mixer ] || ln -s mixer$U mixer"
	MKlist="$MKlist;[ -e sound ] || ln -s sound$U sound"
	MKlist="$MKlist;[ -e audioctl ] || ln -s audioctl$U audioctl"
d491 8
a498 10
list="$RMlist"
for mode in $modes; do
	list="$list;${mklist[$mode]}"
done
for group in $groups; do
	list="$list;${grplist[$group]}"
done
list="$list;$MKlist"
if [ "$eo" = "echo" ]; then
	$eo "$list"
d500 1
a500 1
	echo "$list" | sh
@


1.15
log
@regen
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.75 2005/10/04 18:11:10 otto Exp 
d155 1
a155 1
		M $1$2$d	b $3 $(($n+$count)) 640 operaror
@


1.14
log
@regen
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.74 2005/10/04 07:39:37 otto Exp 
a151 1
	RMlist="$RMlist $1$2? r$1$2?"
d155 2
a156 2
		M $1$2$d	b $3 $(($n+$count)) 640
		M r$1$2$d	c $4 $(($n+$count)) 640
a158 1
	MKlist="$MKlist;chown root:operator $1$2? r$1$2?"
@


1.13
log
@sync
@
text
@d8 1
a8 1
#	OpenBSD: MAKEDEV.mi,v 1.73 2005/02/07 06:14:18 david Exp 
a188 1
	mklist="$mklist $1"
@


1.12
log
@Regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.6 2005/04/28 06:32:59 deraadt Exp 
#	OpenBSD: MAKEDEV.common,v 1.18 2005/06/02 20:09:38 tholo Exp 
@


1.11
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.17 2005/03/29 16:40:08 miod Exp 
@


1.10
log
@sync
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.4 2005/03/04 15:57:00 todd Exp 
#	OpenBSD: MAKEDEV.common,v 1.16 2005/03/01 13:35:59 otto Exp 
d215 5
a469 5
	;;

ramdisk)
	R pty0 rd0 cd0 cd1 st0 st1 wd0 wd1 wd2 wd3 wd4 sd0 sd1 sd2
	R sd3 sd4 bpf0 std
@


1.9
log
@regen
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.3 2005/01/19 02:02:34 uwe Exp 
d275 1
a275 1
	M pf c 39 0 600
@


1.8
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.15 2005/01/28 18:56:27 danh Exp 
d366 1
a366 1
	R uscanner0 urio0 usb0 usb1 usb2 usb3
@


1.7
log
@sync
@
text
@d8 2
a9 2
#	OpenBSD: MAKEDEV.mi,v 1.72 2004/02/16 18:58:53 miod Exp 
#	OpenBSD: MAKEDEV.sub,v 1.13 2005/01/28 18:51:38 danh Exp 
@


1.6
log
@sync
@
text
@d105 1
a105 1
	local t="$1"  
@


1.5
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.14 2005/01/14 22:39:11 miod Exp 
d9 1
a9 1
#	OpenBSD: MAKEDEV.sub,v 1.12 2004/02/20 19:13:01 miod Exp 
d351 1
a351 1
	for j in 00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15
d353 1
a353 1
		M ugen$U.$j c 70 $(($n+$j)) 660
d391 1
a391 1
	[0-9a-f]) M tty$n$U c 60 $(( 16#$U + $m )) 600;;
@


1.4
log
@APM emulation framework and zaurus scoop driver.  Not enabled yet.
ok drahn@@, deraadt@@
@
text
@d6 1
a6 1
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.2 2005/01/18 16:32:19 drahn Exp 
@


1.3
log
@sync
@
text
@d65 1
d323 5
d477 2
a478 2
	R random lkm tty00 tty01 tty02 tty03 crypto pf systrace wd0
	R wd1 wd2 wd3 raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.2
log
@regen
@
text
@d6 2
a7 2
#	OpenBSD: etc.zaurus/MAKEDEV.md,v 1.1 2004/12/31 00:06:15 drahn Exp 
#	OpenBSD: MAKEDEV.common,v 1.13 2005/01/10 07:53:57 dlg Exp 
d66 1
d307 4
d469 4
a472 4
	R bpf5 bpf6 bpf7 bpf8 bpf9 pty0 xfs0 ss0 ss1 ch0 ptm local
	R wscons pci iop0 iop1 uall tuner0 radio0 audio0 uk0 random
	R lkm tty00 tty01 tty02 tty03 crypto pf systrace wd0 wd1 wd2
	R wd3 raid0 raid1 raid2 raid3 std st0 st1 fd
@


1.1
log
@sync
@
text
@d7 1
a7 1
#	OpenBSD: MAKEDEV.common,v 1.12 2004/08/19 07:05:20 miod Exp 
d350 1
@

