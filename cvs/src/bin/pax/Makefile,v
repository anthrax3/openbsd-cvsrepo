head	1.12;
access;
symbols
	OPENBSD_6_1_BASE:1.12
	OPENBSD_6_0:1.11.0.12
	OPENBSD_6_0_BASE:1.11
	OPENBSD_5_9:1.11.0.8
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.10
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.2
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.11.0.6
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.4
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.10.0.50
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.10.0.48
	OPENBSD_5_3_BASE:1.10
	OPENBSD_5_2:1.10.0.46
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.44
	OPENBSD_5_0:1.10.0.42
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.10.0.40
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.10.0.38
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.34
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.36
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.32
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.10.0.30
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.10.0.28
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.10.0.26
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.10.0.24
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.10.0.22
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.10.0.20
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.10.0.18
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.10.0.16
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.10.0.14
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.10.0.12
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.10.0.10
	OPENBSD_3_4_BASE:1.10
	OPENBSD_3_3:1.10.0.8
	OPENBSD_3_3_BASE:1.10
	OPENBSD_3_2:1.10.0.6
	OPENBSD_3_2_BASE:1.10
	OPENBSD_3_1:1.10.0.4
	OPENBSD_3_1_BASE:1.10
	OPENBSD_3_0:1.10.0.2
	OPENBSD_3_0_BASE:1.10
	OPENBSD_2_9:1.9.0.16
	OPENBSD_2_9_BASE:1.9
	OPENBSD_2_8:1.9.0.14
	OPENBSD_2_8_BASE:1.9
	OPENBSD_2_7:1.9.0.12
	OPENBSD_2_7_BASE:1.9
	OPENBSD_2_6:1.9.0.10
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.9.0.8
	OPENBSD_2_5_BASE:1.9
	OPENBSD_2_4:1.9.0.6
	OPENBSD_2_4_BASE:1.9
	OPENBSD_2_3:1.9.0.4
	OPENBSD_2_3_BASE:1.9
	OPENBSD_2_2:1.9.0.2
	OPENBSD_2_2_BASE:1.9
	OPENBSD_2_1:1.8.0.2
	OPENBSD_2_1_BASE:1.8
	OPENBSD_2_0:1.4.0.2
	OPENBSD_2_0_BASE:1.4
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@# @;


1.12
date	2016.08.23.06.00.28;	author guenther;	state Exp;
branches;
next	1.11;
commitid	lequwSVdrsu8itF8;

1.11
date	2014.01.08.04.58.36;	author guenther;	state Exp;
branches;
next	1.10;

1.10
date	2001.05.26.00.32.20;	author millert;	state Exp;
branches;
next	1.9;

1.9
date	97.09.21.11.35.28;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	97.04.10.10.53.45;	author kstailey;	state Exp;
branches;
next	1.7;

1.7
date	97.04.09.02.24.26;	author kstailey;	state Exp;
branches;
next	1.6;

1.6
date	97.03.11.18.50.56;	author tholo;	state Exp;
branches;
next	1.5;

1.5
date	96.12.09.12.00.13;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	96.09.22.20.09.52;	author tholo;	state Exp;
branches;
next	1.3;

1.3
date	96.06.29.05.51.59;	author tholo;	state Exp;
branches;
next	1.2;

1.2
date	96.06.23.14.20.27;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.37.16;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.37.16;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.12
log
@Instead of doing strcmp(argv0), track the invocation mode (pax/tar/cpio)
in a separate variable

ok deraadt@@
@
text
@#	$OpenBSD: Makefile,v 1.11 2014/01/08 04:58:36 guenther Exp $

WARNINGS=Yes
PROG=   pax
SRCS=	ar_io.c ar_subs.c buf_subs.c cache.c cpio.c file_subs.c ftree.c\
	gen_subs.c getoldopt.c options.c pat_rep.c pax.c sel_subs.c tables.c\
	tar.c tty_subs.c
MAN=	pax.1 tar.1 cpio.1
LINKS=	${BINDIR}/pax ${BINDIR}/tar ${BINDIR}/pax ${BINDIR}/cpio

.include <bsd.prog.mk>
@


1.11
log
@Eliminate poisonous LONG_OFF_T conditional

adjective suggested by deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2001/05/26 00:32:20 millert Exp $
d3 1
@


1.10
log
@Get rid of NET2_FTS and NET2_REGEX #ifdefs since they are useless.
Change NET2_STAT into LONG_OFF_T for portability to systems with
a 32bit off_t.
@
text
@d1 1
a1 12
#	$OpenBSD: Makefile,v 1.9 1997/09/21 11:35:28 deraadt Exp $

# To install on versions prior to BSD 4.4 the following may have to be
# defined with CFLAGS +=
#
# -DLONG_OFF_T	Define this if the base type of an off_t is a long (and is
#		NOT a quad).  (This is often defined in the file
#		/usr/include/sys/types.h).
# 		This define is important, as if you do have a quad_t
# 		off_t and define LONG_OFF_T, pax will compile but will
# 		NOT RUN PROPERLY.
#
@


1.9
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 1997/04/10 10:53:45 kstailey Exp $
d6 3
a8 5
# -DNET2_STAT	Use NET2 or older stat structure. The version of the
# 		stat structure is easily determined by looking at the
# 		basic type of an off_t (often defined in the file:
# 		/usr/include/sys/types.h). If off_t is a long (and is
# 		NOT A quad) then you must define NET2_STAT.
d10 1
a10 1
# 		off_t and define NET2_STAT, pax will compile but will
a12 11
# -DNET2_FTS	Use the older NET2 fts. To identify the version,
# 		examine the file: /usr/include/fts.h. If FTS_COMFOLLOW
# 		is not defined then you must define NET2_FTS.
# 		Pax may not compile if this not (un)defined properly.
#
# -DNET2_REGEX	Use the older regexp.h not regex.h. The regex version
# 		is determined by looking at the value returned by
# 		regexec() (man 3 regexec). If regexec return a 1 for
# 		success (and NOT a 0 for success) you have the older
# 		regex routines and must define NET2_REGEX.
# 		Pax may not compile if this not (un)defined properly.
@


1.8
log
@another 8MB of swap and it works
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile,v 1.7 1997/04/09 02:24:26 kstailey Exp $
#	$NetBSD: Makefile,v 1.4 1995/03/21 09:07:02 cgd Exp $
@


1.7
log
@sun3 pax/tar segfaults
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 1997/03/11 18:50:56 tholo Exp $
a32 3
.if     (${MACHINE} == "sun3") # tar doesn't work yet; it breaks "make build"
LINKS=	${BINDIR}/pax ${BINDIR}/cpio
.else
a33 1
.endif
@


1.6
log
@Use pax(1) for cpio(1) emulation
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 1996/12/09 12:00:13 deraadt Exp $
d33 3
d37 1
@


1.5
log
@revert to spawning compress-ing program. normally we want extracts using
'z' to also work on .Z files, but libz does not deal with compressed
data. Hacking the code to deal well with pipes has proven very hard.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1996/06/29 05:51:59 tholo Exp $
d32 2
a33 2
MAN=	pax.1 tar.1
LINKS=	${BINDIR}/pax ${BINDIR}/tar
@


1.4
log
@Use zopen for compress-style compressed archives
Use libz for gzip-style compressed archives
@
text
@d31 1
a31 3
	tar.c tty_subs.c zopen.c
LDADD+=	-lz
DPADD+=	${LIBZ}
a33 2

.PATH:	${.CURDIR}/../../usr.bin/compress
@


1.3
log
@Use tar(1) emulation as provided by pax(1)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 1996/06/23 14:20:27 deraadt Exp $
d31 3
a33 1
	tar.c tty_subs.c
d36 2
@


1.2
log
@update rcsid
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1995/03/21 09:07:02 cgd Exp $
d32 2
@


1.1
log
@Initial revision
@
text
@d1 1
a2 1
#       @@(#)Makefile	8.1 (Berkeley) 5/31/93
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
