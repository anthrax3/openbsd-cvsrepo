head	1.20;
access;
symbols
	OPENBSD_6_1:1.20.0.8
	OPENBSD_6_1_BASE:1.20
	OPENBSD_6_0:1.20.0.4
	OPENBSD_6_0_BASE:1.20
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.18.0.10
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.18.0.2
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.18.0.6
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.18.0.4
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.15.0.10
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.15.0.8
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.6
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.4
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.13.0.8
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.13.0.4
	OPENBSD_4_7_BASE:1.13
	OPENBSD_4_6:1.13.0.6
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.13.0.2
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.11.0.6
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.11.0.4
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.11.0.2
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.9.0.6
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.9.0.4
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.9.0.2
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.8.0.2
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.6.0.4
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.6.0.2
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.3.0.10
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.8
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.6
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.4
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.2.0.2
	OPENBSD_2_8_BASE:1.2;
locks; strict;
comment	@.\" @;


1.20
date	2015.12.31.23.38.16;	author guenther;	state Exp;
branches;
next	1.19;
commitid	T6qOYRt5FW0IEdVw;

1.19
date	2015.09.14.20.06.58;	author schwarze;	state Exp;
branches;
next	1.18;
commitid	r87YNrjEWwl7OkJ0;

1.18
date	2014.01.23.08.18.12;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2014.01.21.22.33.19;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2014.01.21.15.17.25;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2011.03.09.11.30.38;	author okan;	state Exp;
branches;
next	1.14;

1.14
date	2010.09.03.09.53.20;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2009.02.08.17.15.09;	author jmc;	state Exp;
branches;
next	1.12;

1.12
date	2009.01.04.11.19.55;	author sobrado;	state Exp;
branches;
next	1.11;

1.11
date	2007.05.31.19.19.13;	author jmc;	state Exp;
branches;
next	1.10;

1.10
date	2007.05.29.15.04.59;	author jmc;	state Exp;
branches;
next	1.9;

1.9
date	2005.10.15.08.52.39;	author jmc;	state Exp;
branches;
next	1.8;

1.8
date	2005.08.12.18.54.04;	author jmc;	state Exp;
branches;
next	1.7;

1.7
date	2005.03.16.20.31.08;	author jmc;	state Exp;
branches;
next	1.6;

1.6
date	2004.02.14.18.14.14;	author jmc;	state Exp;
branches;
next	1.5;

1.5
date	2003.06.02.23.32.06;	author millert;	state Exp;
branches;
next	1.4;

1.4
date	2003.05.29.09.43.09;	author jmc;	state Exp;
branches;
next	1.3;

1.3
date	2000.11.10.13.01.29;	author aaron;	state Exp;
branches;
next	1.2;

1.2
date	2000.07.31.01.24.56;	author pjanzen;	state Exp;
branches;
next	1.1;

1.1
date	2000.06.09.16.26.51;	author mickey;	state Exp;
branches;
next	;


desc
@@


1.20
log
@Document the -h option for chmod and chflags, rewording the chgrp(1) and
chown(8) manpages to be consistent and clearer about it as well.
@
text
@.\"	$OpenBSD: chown.8,v 1.19 2015/09/14 20:06:58 schwarze Exp $
.\"
.\" Copyright (c) 1990, 1991, 1993, 1994
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     from: @@(#)chown.8	8.3 (Berkeley) 3/31/94
.\"
.Dd $Mdocdate: September 14 2015 $
.Dt CHOWN 8
.Os
.Sh NAME
.Nm chown
.Nd change file owner and group
.Sh SYNOPSIS
.Nm chown
.Op Fl h
.Oo
.Fl R
.Op Fl H | L | P
.Oc
.Ar owner Ns Op : Ns Ar group
.Ar
.Nm chown
.Op Fl h
.Oo
.Fl R
.Op Fl H | L | P
.Oc
.Pf : Ar group
.Ar
.Sh DESCRIPTION
.Nm
sets the user ID and/or the group ID of the specified files.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl H
If the
.Fl R
option is specified, symbolic links on the command line are followed.
Symbolic links encountered in the tree traversal are not followed.
.It Fl h
Treat symbolic links like other files: modify links instead of
following them.
The
.Fl h
and
.Fl R
options are mutually exclusive.
.It Fl L
If the
.Fl R
option is specified, all symbolic links are followed.
.It Fl P
If the
.Fl R
option is specified, no symbolic links are followed.
.It Fl R
Recurse.
Where
.Ar file
is a directory,
change the user ID and/or the group ID of the directory
and all the files and directories in the file hierarchy below it.
.El
.Pp
The
.Fl H ,
.Fl L ,
and
.Fl P
options are ignored unless the
.Fl R
option is specified;
if none of them are given,
the default is to not follow symbolic links.
In addition, these options override each other and the
command's actions are determined by the last one specified.
.Pp
The
.Ar owner
and
.Ar group
operands are both optional; however, one must be specified.
If the
.Ar group
operand is specified, it must be preceded by a colon
.Pq Sq \&:
character.
.Pp
The
.Ar owner
may be either a numeric user ID or a user name.
If a user name is also a numeric user ID, the operand is used as a
user name.
The
.Ar group
may be either a numeric group ID or a group name.
If a group name is also a numeric group ID, the operand is used as a
group name.
.Pp
By default,
.Nm
clears the set-user-ID and set-group-ID bits on the file
to prevent accidental or mischievous creation of
set-user-ID and set-group-ID programs.
This behaviour can be overridden by setting the
.Xr sysctl 8
variable
.Va fs.posix.setuid
to zero.
.Pp
Only the superuser is permitted to change the owner of a file.
.Sh EXIT STATUS
.Ex -std chown
.Sh SEE ALSO
.Xr chgrp 1 ,
.Xr find 1 ,
.Xr chown 2 ,
.Xr fts 3 ,
.Xr symlink 7
.Sh STANDARDS
The
.Nm
utility is compliant with the
.St -p1003.1-2008
specification.
.Pp
The ability to specify
.Ar group
without
.Ar owner
is an extension to that specification.
.Pp
Some
.Pf non- Bx
systems may allow the (non-privileged) owner of a file to change
its ownership.
.Pp
Previous versions of the
.Nm
utility used the dot
.Pq Sq \&.
character to distinguish the group name.
This has been changed to be a colon
.Pq Sq \&:
character so that user and
group names may contain the dot character.
@


1.19
log
@Avoid .Ns right after .Pf, it's pointless.
In some cases, do additional cleanup in the immediate vicinity.
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.18 2014/01/23 08:18:12 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: January 23 2014 $
d67 2
a68 1
Change the user ID and/or the group ID on symbolic links.
d70 2
a72 2
and
.Fl h
@


1.18
log
@add a note to STANDARDS about non-root use of chown;
text from/ok millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.17 2014/01/21 22:33:19 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: January 21 2014 $
d53 1
a53 1
.Pf : Ns Ar group
@


1.17
log
@document that specifying ":group" (without an owner) is an extension;
ok millert sobrado
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.16 2014/01/21 15:17:25 jmc Exp $
d157 5
@


1.16
log
@- remove brackets in -H description: the information is quite relevant
- note that not following sym links is default for -R
- improve the description of -R, providing a mnemonic and a simpler
description of what it does. also make the text for all these pages
identical, as far as is possible

ok millert schwarze
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.15 2011/03/09 11:30:38 okan Exp $
d32 1
a32 1
.Dd $Mdocdate: March 9 2011 $
d151 6
@


1.15
log
@remove non-standard flag

ok jasper@@, otto@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.14 2010/09/03 09:53:20 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: September 3 2010 $
d65 1
a65 1
(Symbolic links encountered in the tree traversal are not followed.)
d82 6
a87 2
Change the user ID and/or the group ID for the file hierarchies rooted
in the files instead of just the files themselves.
d97 3
a99 1
option is specified.
@


1.14
log
@add an EXIT STATUS section for /bin;
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.13 2009/02/08 17:15:09 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: February 8 2009 $
d40 1
a40 1
.Op Fl fh
d48 1
a48 1
.Op Fl fh
a60 3
.It Fl f
Don't report any failure to change file owner or group, nor modify
the exit status to reflect such failures.
a144 4
.Pp
The flag
.Op Fl f
is an extension to that specification.
@


1.13
log
@bump the posix reference in STANDARDS to IEEE Std 1003.1-2008, with a few
updates to follow;
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.12 2009/01/04 11:19:55 sobrado Exp $
d32 1
a32 1
.Dd $Mdocdate: January 4 2009 $
d134 1
a134 1
.Pp
@


1.12
log
@replace hardcoded exit values with .Ex macros;

ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.11 2007/05/31 19:19:13 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate: May 31 2007 $
d146 1
a146 1
.St -p1003.1-2004
@


1.11
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.10 2007/05/29 15:04:59 jmc Exp $
d32 1
a32 1
.Dd $Mdocdate$
d135 1
a135 3
The
.Nm
utility exits 0 on success or >0 if an error occurred.
@


1.10
log
@- consistent STANDARDS blurb
- note which options are extensions to POSIX

discussed w/ deraadt otto millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.9 2005/10/15 08:52:39 jmc Exp $
d32 1
a32 1
.Dd January 25, 1997
@


1.9
log
@clean up SYNOPSIS;
sort options list;
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.8 2005/08/12 18:54:04 jmc Exp $
d145 10
a163 6
.Pp
The
.Nm
command is expected to be
.St -p1003.2
compliant.
@


1.8
log
@of course, douglas' mail hits my machine 2 nanoseconds later...

the correct name for the sysctl is fs.posix.setuid, not fs.posix.suid;
from douglas santos (pr #4462);

apologies to douglas for closing his pr, but i just could not see it.
if you are sending typo stuff, please be specific about the problem.
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.7 2005/03/16 20:31:08 jmc Exp $
d40 1
d45 2
a46 4
.Op Fl f
.Op Fl h
.Ar owner Ns Op Ar :group
.Ar file Op Ar ...
d48 1
d53 2
a54 4
.Op Fl f
.Op Fl h
.Ar :group
.Ar file Op Ar ...
d61 3
d69 7
a86 10
.It Fl f
Don't report any failure to change file owner or group, nor modify
the exit status to reflect such failures.
.It Fl h
Change the user ID and/or the group ID on symbolic links.
The
.Fl R
and
.Fl h
options are mutually exclusive.
@


1.7
log
@chown(8): mention that this utility clears setuid/setgid bits by default;
from stuart henderson (pr #4149);

chown(2)/chown(8): mention that sysctl variable fs.posix.setuid=0
overrides this behaviour;
from millert and otto;

ok deraadt@@ otto@@ millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.6 2004/02/14 18:14:14 jmc Exp $
d132 1
a132 1
.Va fs.posix.suid
@


1.6
log
@remove some unneeded .Fl's;
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.5 2003/06/02 23:32:06 millert Exp $
d123 11
@


1.5
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.4 2003/05/29 09:43:09 jmc Exp $
d42 1
a42 1
.Op Fl H | Fl L | Fl P
d51 1
a51 1
.Op Fl H | Fl L | Fl P
@


1.4
log
@- merge COMPATIBILITY with STANDARDS
- use .St for POSIX standard
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.3 2000/11/10 13:01:29 aaron Exp $
d14 1
a14 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.3
log
@- Section shuffling.
- Some .Nm trimming.
- Reword a sentence for consistency with the chmod(1) man page.
- Insert a missing comma.
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.2 2000/07/31 01:24:56 pjanzen Exp $
d139 1
a139 1
.Sh COMPATIBILITY
d149 1
a149 1
.Sh STANDARDS
d152 3
a154 1
command is expected to be POSIX 1003.2 compliant.
@


1.2
log
@remove incorrect space, as enami@@netbsd.org
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.1 2000/06/09 16:26:51 mickey Exp $
d62 1
a62 1
.Nm chown
d97 1
a97 1
.Fl L
d128 1
a128 2
The ownership of a file may only be altered by a superuser for
obvious security reasons.
d131 1
a131 1
.Nm chown
d133 6
d141 1
a141 1
.Nm chown
a148 6
.Sh SEE ALSO
.Xr chgrp 1 ,
.Xr find 1 ,
.Xr chown 2 ,
.Xr fts 3 ,
.Xr symlink 7
d151 1
a151 1
.Nm chown
@


1.1
log
@merge chown/chgrp into chmod.
provide symlinks from old location for the time being.
@
text
@d1 1
a1 1
.\"	$OpenBSD: chown.8,v 1.6 2000/04/15 11:45:59 aaron Exp $
d50 1
a50 1
.Ar ownerof Op Ar :group
@

