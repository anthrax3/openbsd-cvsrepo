head	1.28;
access;
symbols
	OPENBSD_6_1:1.28.0.28
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.28.0.24
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.28.0.20
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.28.0.22
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.28.0.14
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.28.0.18
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.16
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.28.0.12
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.28.0.10
	OPENBSD_5_3_BASE:1.28
	OPENBSD_5_2:1.28.0.8
	OPENBSD_5_2_BASE:1.28
	OPENBSD_5_1_BASE:1.28
	OPENBSD_5_1:1.28.0.6
	OPENBSD_5_0:1.28.0.4
	OPENBSD_5_0_BASE:1.28
	OPENBSD_4_9:1.28.0.2
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.27.0.12
	OPENBSD_4_8_BASE:1.27
	OPENBSD_4_7:1.27.0.8
	OPENBSD_4_7_BASE:1.27
	OPENBSD_4_6:1.27.0.10
	OPENBSD_4_6_BASE:1.27
	OPENBSD_4_5:1.27.0.6
	OPENBSD_4_5_BASE:1.27
	OPENBSD_4_4:1.27.0.4
	OPENBSD_4_4_BASE:1.27
	OPENBSD_4_3:1.27.0.2
	OPENBSD_4_3_BASE:1.27
	OPENBSD_4_2:1.25.0.2
	OPENBSD_4_2_BASE:1.25
	OPENBSD_4_1:1.24.0.8
	OPENBSD_4_1_BASE:1.24
	OPENBSD_4_0:1.24.0.6
	OPENBSD_4_0_BASE:1.24
	OPENBSD_3_9:1.24.0.4
	OPENBSD_3_9_BASE:1.24
	OPENBSD_3_8:1.24.0.2
	OPENBSD_3_8_BASE:1.24
	OPENBSD_3_7:1.21.0.8
	OPENBSD_3_7_BASE:1.21
	OPENBSD_3_6:1.21.0.6
	OPENBSD_3_6_BASE:1.21
	OPENBSD_3_5:1.21.0.4
	OPENBSD_3_5_BASE:1.21
	OPENBSD_3_4:1.21.0.2
	OPENBSD_3_4_BASE:1.21
	OPENBSD_3_3:1.18.0.2
	OPENBSD_3_3_BASE:1.18
	OPENBSD_3_2:1.16.0.4
	OPENBSD_3_2_BASE:1.16
	OPENBSD_3_1:1.16.0.2
	OPENBSD_3_1_BASE:1.16
	OPENBSD_3_0:1.15.0.8
	OPENBSD_3_0_BASE:1.15
	OPENBSD_2_9:1.15.0.6
	OPENBSD_2_9_BASE:1.15
	OPENBSD_2_8:1.15.0.4
	OPENBSD_2_8_BASE:1.15
	OPENBSD_2_7:1.15.0.2
	OPENBSD_2_7_BASE:1.15
	OPENBSD_2_6:1.14.0.2
	OPENBSD_2_6_BASE:1.14
	OPENBSD_2_5:1.11.0.2
	OPENBSD_2_5_BASE:1.11
	OPENBSD_2_4:1.9.0.2
	OPENBSD_2_4_BASE:1.9
	OPENBSD_2_3:1.6.0.8
	OPENBSD_2_3_BASE:1.6
	OPENBSD_2_2:1.6.0.6
	OPENBSD_2_2_BASE:1.6
	OPENBSD_2_1:1.6.0.4
	OPENBSD_2_1_BASE:1.6
	OPENBSD_2_0:1.6.0.2
	OPENBSD_2_0_BASE:1.6
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.28
date	2010.09.03.13.14.55;	author jmc;	state Exp;
branches;
next	1.27;

1.27
date	2007.11.03.09.05.33;	author jmc;	state Exp;
branches;
next	1.26;

1.26
date	2007.11.02.15.22.38;	author jmc;	state Exp;
branches;
next	1.25;

1.25
date	2007.05.31.19.19.15;	author jmc;	state Exp;
branches;
next	1.24;

1.24
date	2005.05.02.07.45.37;	author jmc;	state Exp;
branches;
next	1.23;

1.23
date	2005.05.01.18.56.36;	author deraadt;	state Exp;
branches;
next	1.22;

1.22
date	2005.04.26.16.23.48;	author jmc;	state Exp;
branches;
next	1.21;

1.21
date	2003.07.31.14.12.21;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2003.07.30.16.57.03;	author tedu;	state Exp;
branches;
next	1.19;

1.19
date	2003.06.02.23.32.08;	author millert;	state Exp;
branches;
next	1.18;

1.18
date	2003.03.14.15.00.56;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2003.02.26.18.33.18;	author tedu;	state Exp;
branches;
next	1.16;

1.16
date	2002.01.24.20.33.45;	author mickey;	state Exp;
branches;
next	1.15;

1.15
date	2000.03.17.18.15.14;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	99.08.17.14.04.00;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	99.05.28.22.59.55;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	99.05.23.14.10.48;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	98.12.15.01.20.24;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	98.11.28.03.20.34;	author aaron;	state Exp;
branches;
next	1.9;

1.9
date	98.09.23.00.13.49;	author aaron;	state Exp;
branches;
next	1.8;

1.8
date	98.09.14.22.13.51;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	98.07.03.07.02.20;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	96.06.17.02.21.50;	author downsj;	state Exp;
branches;
next	1.5;

1.5
date	96.06.12.07.50.57;	author downsj;	state Exp;
branches;
next	1.4;

1.4
date	96.06.11.11.20.22;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	96.05.22.12.45.47;	author deraadt;	state Exp;
branches;
next	1.2;

1.2
date	96.03.08.22.02.56;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.37.15;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.37.15;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.28
log
@add EXIT STATUS (these two were hiding...);
@
text
@.\"	$OpenBSD: mt.1,v 1.27 2007/11/03 09:05:33 jmc Exp $
.\"	$NetBSD: mt.1,v 1.8 1996/05/21 10:23:55 mrg Exp $
.\"
.\" Copyright (c) 1981, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@@(#)mt.1	8.1 (Berkeley) 6/6/93
.\"
.Dd $Mdocdate: November 3 2007 $
.Dt MT 1
.Os
.Sh NAME
.Nm mt ,
.Nm eject
.Nd magnetic tape and removable media manipulating program
.Sh SYNOPSIS
.Nm mt
.Op Fl f Ar device
.Ar command
.Op Ar count
.Nm eject
.Op Fl t
.Ar device
.Sh DESCRIPTION
The
.Nm
utility sends commands to a magnetic tape drive.
By default,
.Nm
performs the requested operation once.
Operations may be performed multiple times by specifying
.Ar count .
Note
that
.Ar device
must reference a raw (not block) tape device.
If
.Ar device
is of the form
.Dq host:device
or
.Dq user@@host:device ,
.Nm
writes to the named tape device on the remote host using
.Xr rmt 8 .
.Nm eject
is simply an alias for
.Nm mt ,
with the
.Cm offline
command specified.
.Nm eject
may also be used to eject other types of removable media.
.Pp
The options for
.Nm
are as follows:
.Bl -tag -width Ds
.It Fl f Ar device
Operate on the
.Ar device
specified.
.El
.Pp
The options for
.Nm eject
are as follows:
.Bl -tag -width Ds
.It Fl t
Insert the device instead of ejecting.
For the
.Xr cd 4
driver, this requests that the tray be closed.
.El
.Pp
The available commands are listed below.
Only as many characters as are required to uniquely identify a command
need be specified.
.Bl -tag -width "eof, weof"
.It Cm eof , weof
Write
.Ar count
end-of-file marks at the current position on the tape.
.It Cm fsf
Forward space
.Ar count
files.
.It Cm fsr
Forward space
.Ar count
records.
.It Cm bsf
Back space
.Ar count
files.
.It Cm bsr
Back space
.Ar count
records.
.It Cm rewind
Rewind the tape
.Pq Ar count Li is ignored .
.It Cm offline , rewoffl
Rewind the tape and place the tape unit off-line
.Pq Ar count Li is ignored .
On non-tape removable media, the
.Cm offline
command causes the media to be ejected when the last operation on it
closes (i.e., the filesystem is unmounted).
.It Cm status
Print status information about the tape unit.
.It Cm retension
Retension the tape (if this operation is supported by the tape unit).
.It Cm erase
Erase the tape (if this operation is supported by the tape unit).
.It Cm eom
Forward space to the end of the media.
.It Cm blocksize
Set the tape blocksize to
.Ar count
bytes.
.It Cm density
Set the tape density code to
.Ar count
as specified in the SCSI2 specification.
.El
.Pp
If a tape name is not specified, and the environment variable
.Ev TAPE
does not exist,
.Nm
uses the device
.Pa /dev/rst0 .
The
.Ev TAPE
variable is ignored by
.Nm eject .
.Sh ENVIRONMENT
If the following environment variable exists, it is utilized by
.Nm mt .
.Bl -tag -width Fl
.It Ev TAPE
.Nm
checks the
.Ev TAPE
environment variable if the
argument
.Ar device
is not given.
.El
.Sh FILES
.Bl -tag -width /usr/src/sys/scsi/scsi_tape.h -compact
.It Pa /dev/rst*
raw SCSI tape interface
.It Pa /dev/rmt*
raw magnetic tape interface
.It Pa /usr/src/sys/scsi/scsi_tape.h
list of SCSI2 density codes
.El
.Sh EXIT STATUS
.Nm
returns a 0 exit status when the operation(s) were successful,
1 if the command was unrecognized, and 2 if an operation failed.
.Sh EXAMPLES
Eject the first CD device.
This will work even if there is no CD in the drive:
.Pp
.Dl $ eject /dev/rcd0c
.Sh SEE ALSO
.Xr cdio 1 ,
.Xr chio 1 ,
.Xr dd 1 ,
.Xr ioctl 2 ,
.Xr mtio 4
.Sh HISTORY
The
.Nm
utility appeared in
.At v2 .
@


1.27
log
@- standard EXAMPLES
- tidy up SEE ALSO
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.26 2007/11/02 15:22:38 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate: November 2 2007 $
a161 4
.Pp
.Nm
returns a 0 exit status when the operation(s) were successful,
1 if the command was unrecognized, and 2 if an operation failed.
d184 4
@


1.26
log
@+.Xr chio 1 ,
ok beck
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.25 2007/05/31 19:19:15 jmc Exp $
d33 1
a33 1
.Dd $Mdocdate$
d189 3
a192 3
.Pp
Eject the first CD device.
This will work even if there is no CD in the drive.
d194 1
a196 1
.\" .Xr tap 1 ,
d198 1
a198 3
.Xr mtio 4 ,
.\" .Xr tap 5 ,
.Xr environ 7
a203 1
.\" mt.1: mtio(4) missing
@


1.25
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.24 2005/05/02 07:45:37 jmc Exp $
d194 1
@


1.24
log
@tweaks;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.23 2005/05/01 18:56:36 deraadt Exp $
d33 1
a33 1
.Dd June 12, 1996
@


1.23
log
@add eject -t option: permits tray to be closed (ie. insert a CD).
this uses the MTRETEN option
split out getopt options for mt & eject, fix usage as well.
ok krw (who is about to commit the back end changes for scsi..)
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.22 2005/04/26 16:23:48 jmc Exp $
a38 1
.Op Fl t
a88 1
.Pp
d97 1
a97 1
driver, this request that the tray be closed.
@


1.22
log
@- do not list -f option for eject, as it is not necessary
- tidy up the options list somewhat to avoid confusion
- sync usage()

started by a diff from tom@@ and ok'd by him;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.21 2003/07/31 14:12:21 jmc Exp $
d39 1
d47 1
d83 1
a83 1
.Bl -tag -width "-f deviceXX"
d88 12
a99 5
If the
.Fl f
flag is passed to
.Nm eject ,
it is silently ignored.
@


1.21
log
@typo;
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.20 2003/07/30 16:57:03 tedu Exp $
a45 1
.Op Fl f
d78 4
a81 3
The options are as follows:
.Pp
.Bl -tag -width Ds
a85 2
.El
.Pp
d91 1
@


1.20
log
@clarify use of eject on an empty cdrom drive. (eject /dev/rcd0c)
ok jmc@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.19 2003/06/02 23:32:08 millert Exp $
d182 1
a182 1
.Sh EXAMLES
@


1.19
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.18 2003/03/14 15:00:56 jmc Exp $
d70 8
a145 9
.Nm eject
is simply an alias for
.Nm mt ,
with the
.Cm offline
command specified.
.Nm eject
may also be used to eject other types of removable media.
.Pp
d182 5
@


1.18
log
@document the -f flag
remove the -t flag (it was an alias to -f)
document that eject ignores $TAPE

doc suggestion from Ross Richardson
-t removal suggested by millert@@

fixes PR 3143
ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.17 2003/02/26 18:33:18 tedu Exp $
d15 1
a15 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.17
log
@clarify that eject works on other media

ok millert@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.16 2002/01/24 20:33:45 mickey Exp $
d46 1
a46 1
.Op Fl f Ar tapename
d63 1
a63 1
.Ar tapename
d66 1
a66 1
.Ar tapename
d68 1
a68 1
.Dq host:tapename
d70 1
a70 1
.Dq user@@host:tapename ,
d75 15
d157 4
d175 1
a175 1
.Ar tapename
@


1.16
log
@fix the history refs
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.15 2000/03/17 18:15:14 aaron Exp $
d51 1
a51 1
.Ar tapename
d133 2
@


1.15
log
@Remove hard sentence breaks.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.14 1999/08/17 14:04:00 aaron Exp $
d168 1
d171 1
d177 1
a177 1
.Bx 4.3 .
@


1.14
log
@consistency
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.13 1999/05/28 22:59:55 aaron Exp $
d58 2
a59 2
performs the requested operation once.  Operations
may be performed multiple times by specifying
d75 2
a76 2
The available commands are listed below.  Only as many
characters as are required to uniquely identify a command
@


1.13
log
@more .El madness
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.12 1999/05/23 14:10:48 aaron Exp $
d53 1
d55 1
a55 1
is used to give commands to a magnetic tape drive.
@


1.12
log
@remove argument from .Os macros so value in /usr/share/tmac/mdoc/doc-common
is used instead; kwesterback@@home.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.11 1998/12/15 01:20:24 aaron Exp $
d155 1
@


1.11
log
@always give .Nm macros an argument in SYNOPSIS sections; krw@@tcn.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.10 1998/11/28 03:20:34 aaron Exp $
d39 1
a39 1
.Os OpenBSD
@


1.10
log
@start killing redundant .Nm macro arguments (mandoc ``remembers'' the first one
it's given)
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.9 1998/09/23 00:13:49 aaron Exp $
d45 1
a45 1
.Nm
@


1.9
log
@alphabetize SEE ALSO entries and numerically order according to section
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.8 1998/09/14 22:13:51 aaron Exp $
d45 1
a45 1
.Nm mt
d53 1
a53 1
.Nm mt
d56 1
a56 1
.Nm mt
d70 1
a70 1
.Nm mt
d136 1
a136 1
.Nm mt
d140 1
a140 1
.Nm mt
d148 1
a148 1
.Nm mt
d171 1
a171 1
.Nm mt
@


1.8
log
@First complete sweep of man pages, bin/. Command/function names previously
(incorrectly) capatilized are fixed. Comma splices, hyphenations, SYNOPSIS
cleanups, other miscellaneous typos.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.7 1998/07/03 07:02:20 deraadt Exp $
a164 1
.Xr mtio 4 ,
d167 1
@


1.7
log
@Xr mtio
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.6 1996/06/17 02:21:50 downsj Exp $
d53 1
a53 1
.Nm Mt
d55 1
a55 1
By default
d59 1
a59 1
.Ar count  .
d67 1
a67 1
.Dq host:tapename ,
d100 1
a100 1
(Count is ignored).
d103 2
a104 1
(Count is ignored).  On non-tape removable media, the
d111 1
a111 1
Retensions the tape (if this operation is supported by the tape unit).
d113 1
a113 1
Erases the tape (if this operation is supported by the tape unit).
d126 1
a126 1
.Nm Eject
d135 1
a135 1
does not exist;
d140 1
a140 1
.Nm Mt
d148 1
a148 1
.Nm Mt
d156 1
a156 1
.Bl -tag -width /dev/rst* -compact
d158 1
a158 1
Raw SCSI tape interface
d160 1
a160 1
Raw magnetic tape interface
d162 1
a162 1
List of SCSI2 density codes
@


1.6
log
@The eject half of mt requires a device, instead of defaulting to the tape.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.5 1996/06/12 07:50:57 downsj Exp $
d164 1
a164 1
.\".Xr mtio 4 ,
@


1.5
log
@actually document what offline does.
@
text
@d1 1
a1 1
.\"	$OpenBSD: mt.1,v 1.4 1996/06/11 11:20:22 downsj Exp $
d51 1
a51 1
.Op Ar tapename
@


1.4
log
@Make eject(1) an alias for mt .. offline, and support disklabel(8) short
form device names.
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d37 1
a37 1
.Dd June 11, 1996
d39 1
a39 1
.Os BSD 4
d103 4
a106 1
(Count is ignored).
@


1.3
log
@add blocksize/density commands; part of #921; from rhialto@@polder.ubc.kun.nl
@
text
@d1 1
d37 1
a37 1
.Dd June 6, 1993
d41 3
a43 2
.Nm mt
.Nd magnetic tape manipulating program
d49 3
d121 7
@


1.2
log
@From NetBSD:
Add remote tape capabilities.
Since we're setuid, let's be paranoid.
Picked up a little lint in the dryer.
@
text
@d1 1
a1 1
.\"	$NetBSD: mt.1,v 1.7 1996/03/05 20:39:42 scottr Exp $
d107 8
d145 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
.\"	$NetBSD: mt.1,v 1.6 1995/08/22 19:36:00 jtc Exp $
d59 9
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
