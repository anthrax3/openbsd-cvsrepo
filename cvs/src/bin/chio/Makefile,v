head	1.13;
access;
symbols
	OPENBSD_6_2:1.13.0.2
	OPENBSD_6_2_BASE:1.13
	OPENBSD_6_1:1.12.0.40
	OPENBSD_6_1_BASE:1.12
	OPENBSD_6_0:1.12.0.36
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.12.0.32
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.12.0.34
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.12.0.26
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.12.0.30
	OPENBSD_5_6_BASE:1.12
	OPENBSD_5_5:1.12.0.28
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.24
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.12.0.22
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.12.0.20
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.18
	OPENBSD_5_0:1.12.0.16
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.12.0.14
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.12.0.12
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.8
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.12.0.10
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.12.0.6
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.12.0.4
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.12.0.2
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.11.0.6
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.11.0.4
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.8.0.2
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.7.0.34
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.7.0.32
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.7.0.30
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.7.0.28
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.7.0.26
	OPENBSD_3_4_BASE:1.7
	OPENBSD_3_3:1.7.0.24
	OPENBSD_3_3_BASE:1.7
	OPENBSD_3_2:1.7.0.22
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.7.0.20
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.7.0.18
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9:1.7.0.16
	OPENBSD_2_9_BASE:1.7
	OPENBSD_2_8:1.7.0.14
	OPENBSD_2_8_BASE:1.7
	OPENBSD_2_7:1.7.0.12
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.7.0.10
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.7.0.8
	OPENBSD_2_5_BASE:1.7
	OPENBSD_2_4:1.7.0.6
	OPENBSD_2_4_BASE:1.7
	OPENBSD_2_3:1.7.0.4
	OPENBSD_2_3_BASE:1.7
	OPENBSD_2_2:1.7.0.2
	OPENBSD_2_2_BASE:1.7
	OPENBSD_2_1:1.6.0.4
	OPENBSD_2_1_BASE:1.6
	OPENBSD_2_0:1.6.0.2
	OPENBSD_2_0_BASE:1.6;
locks; strict;
comment	@# @;


1.13
date	2017.07.03.22.21.47;	author espie;	state Exp;
branches;
next	1.12;
commitid	SoYT2zMcub5xTPqC;

1.12
date	2007.11.02.15.26.07;	author jmc;	state Exp;
branches;
next	1.11;

1.11
date	2006.06.03.19.33.35;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	2006.06.02.19.19.10;	author beck;	state Exp;
branches;
next	1.9;

1.9
date	2006.05.29.01.21.38;	author beck;	state Exp;
branches;
next	1.8;

1.8
date	2005.11.25.20.37.19;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	97.09.21.11.34.41;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	96.08.21.05.58.01;	author tholo;	state Exp;
branches;
next	1.5;

1.5
date	96.08.11.23.23.00;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	96.08.11.18.30.54;	author dm;	state Exp;
branches;
next	1.3;

1.3
date	96.07.17.05.05.51;	author tholo;	state Exp;
branches;
next	1.2;

1.2
date	96.06.23.14.19.03;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	96.04.19.02.19.36;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.13
log
@no need to generate y.tab.h if nothing uses it, set YFLAGS to nothing
instead of CLEANFILES += y.tab.h

okay millert@@
@
text
@#	$OpenBSD: Makefile,v 1.12 2007/11/02 15:26:07 jmc Exp $

PROG=	chio
SRCS=	chio.c parse.y
DPADD=	${LIBUTIL}
LDADD=	-lutil
MAN=	chio.1 chio.conf.5
YFLAGS=

.include <bsd.prog.mk>
@


1.12
log
@add man page for chio.conf; missing file spotted by deraadt
ok beck
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2006/06/03 19:33:35 deraadt Exp $
d8 1
@


1.11
log
@do chio.conf install from right place
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2006/06/02 19:19:10 beck Exp $
d7 1
@


1.10
log
@Add sample chio.conf to /etc
ok deraadt@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2006/05/29 01:21:38 beck Exp $
a6 4

distribution:
	${INSTALL} ${INSTALL_COPY} -g ${BINGRP} -m 444 \
	    ${.CURDIR}/chio.conf ${DESTDIR}/etc/chio.conf
@


1.9
log
@Make chio have a connection between st(4) devices and "drives" in a
changer - chio will then attempt to open the /dev/rstX device when doing
a move from a source of drive X, and will attempt to unload the tape.
this avoids issues where pickers madly attempt to grab a busy tape on
completely decoupled libraries, or fail to grab an unloaded tape
on tightly coupled libraries, the extra unload being harmless if the
media has already been ejected.

The mapping between st(4) devices and ch drives is by default a
simple mapping between picker drive X being mapped to /dev/rstX, however
for non-obvious or complicated configurations, we support a /etc/chio.conf
file in which the drives for a changer may have their corresponding
st(4) devices defined individually. chio will use the default
mapping if the /etc/chio.conf file is not present, or does not define
a st(4) device for a changer drive.

(example chio.conf and man page changes to come)
yacc parser for chio.conf written by henning@@,

ok henning@@, krw@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2005/11/25 20:37:19 deraadt Exp $
d7 4
@


1.8
log
@BINOWN and BINMODE is not needed here
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 1997/09/21 11:34:41 deraadt Exp $
d4 3
a6 1
SRCS=	chio.c
@


1.7
log
@$OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 1996/08/21 05:58:01 tholo Exp $
a4 1
BINMODE=555
@


1.6
log
@Don't override BINOWN and BINGRP
@
text
@d1 1
a1 2
#	$OpenBSD: Makefile,v 1.5 1996/08/11 23:23:00 deraadt Exp $
#	$NetBSD: Makefile,v 1.1.1.1 1996/04/03 00:34:39 thorpej Exp $
@


1.5
log
@bad setuid, bad, bad, bad
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 1996/08/11 18:30:54 dm Exp $
a5 2
BINOWN=	root
BINGRP=	operator
@


1.4
log
@Install with 4554 permissions.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 1996/07/17 05:05:51 tholo Exp $
d8 1
a8 1
BINMODE=4554
@


1.3
log
@Limit chio(1) to group operator
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 1996/06/23 14:19:03 deraadt Exp $
d8 1
a8 1
BINMODE=4550
@


1.2
log
@update rcsid
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1.1.1 1996/04/03 00:34:39 thorpej Exp $
d7 2
a8 1
BINMODE=4555
@


1.1
log
@Utility to control media changers from the command line; corresponds
to new SCSI changer driver.
@
text
@d1 1
@
