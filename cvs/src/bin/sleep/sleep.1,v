head	1.22;
access;
symbols
	OPENBSD_6_1:1.22.0.4
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.21.0.10
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.21.0.6
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.21.0.8
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.21.0.2
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.21.0.4
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.20.0.4
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.19.0.12
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.19.0.10
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.19.0.8
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.6
	OPENBSD_5_0:1.19.0.4
	OPENBSD_5_0_BASE:1.19
	OPENBSD_4_9:1.19.0.2
	OPENBSD_4_9_BASE:1.19
	OPENBSD_4_8:1.18.0.2
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.17.0.4
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.17.0.6
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.17.0.2
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.16.0.6
	OPENBSD_4_4_BASE:1.16
	OPENBSD_4_3:1.16.0.4
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.16.0.2
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.14.0.2
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.13.0.14
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.12
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.13.0.10
	OPENBSD_3_8_BASE:1.13
	OPENBSD_3_7:1.13.0.8
	OPENBSD_3_7_BASE:1.13
	OPENBSD_3_6:1.13.0.6
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.13.0.4
	OPENBSD_3_5_BASE:1.13
	OPENBSD_3_4:1.13.0.2
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.12.0.14
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.12.0.12
	OPENBSD_3_2_BASE:1.12
	OPENBSD_3_1:1.12.0.10
	OPENBSD_3_1_BASE:1.12
	OPENBSD_3_0:1.12.0.8
	OPENBSD_3_0_BASE:1.12
	OPENBSD_2_9:1.12.0.6
	OPENBSD_2_9_BASE:1.12
	OPENBSD_2_8:1.12.0.4
	OPENBSD_2_8_BASE:1.12
	OPENBSD_2_7:1.12.0.2
	OPENBSD_2_7_BASE:1.12
	OPENBSD_2_6:1.8.0.2
	OPENBSD_2_6_BASE:1.8
	OPENBSD_2_5:1.7.0.2
	OPENBSD_2_5_BASE:1.7
	OPENBSD_2_4:1.5.0.2
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.3.0.4
	OPENBSD_2_3_BASE:1.3
	OPENBSD_2_2:1.3.0.2
	OPENBSD_2_2_BASE:1.3
	OPENBSD_2_1:1.2.0.4
	OPENBSD_2_1_BASE:1.2
	OPENBSD_2_0:1.2.0.2
	OPENBSD_2_0_BASE:1.2
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.22
date	2016.08.16.18.51.25;	author schwarze;	state Exp;
branches;
next	1.21;
commitid	sc7sHeXcIQ6j0zK9;

1.21
date	2014.05.27.13.50.52;	author jmc;	state Exp;
branches;
next	1.20;

1.20
date	2014.02.21.23.39.39;	author schwarze;	state Exp;
branches;
next	1.19;

1.19
date	2010.09.03.09.53.20;	author jmc;	state Exp;
branches;
next	1.18;

1.18
date	2010.07.22.08.09.29;	author jmc;	state Exp;
branches;
next	1.17;

1.17
date	2009.02.08.17.15.09;	author jmc;	state Exp;
branches;
next	1.16;

1.16
date	2007.05.31.19.19.15;	author jmc;	state Exp;
branches;
next	1.15;

1.15
date	2007.05.29.15.04.59;	author jmc;	state Exp;
branches;
next	1.14;

1.14
date	2007.02.06.20.07.15;	author jmc;	state Exp;
branches;
next	1.13;

1.13
date	2003.06.02.23.32.09;	author millert;	state Exp;
branches;
next	1.12;

1.12
date	2000.04.12.21.47.47;	author aaron;	state Exp;
branches;
next	1.11;

1.11
date	2000.02.19.23.03.50;	author aaron;	state Exp;
branches;
next	1.10;

1.10
date	2000.01.05.01.58.03;	author pjanzen;	state Exp;
branches;
next	1.9;

1.9
date	99.12.06.20.27.38;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	99.09.02.16.36.49;	author aaron;	state Exp;
branches;
next	1.7;

1.7
date	98.12.15.01.20.27;	author aaron;	state Exp;
branches;
next	1.6;

1.6
date	98.11.28.03.20.35;	author aaron;	state Exp;
branches;
next	1.5;

1.5
date	98.09.23.00.13.50;	author aaron;	state Exp;
branches;
next	1.4;

1.4
date	98.09.14.22.13.58;	author aaron;	state Exp;
branches;
next	1.3;

1.3
date	97.08.19.06.28.20;	author denny;	state Exp;
branches;
next	1.2;

1.2
date	96.06.23.14.21.48;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.37.25;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.37.25;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.22
log
@Add, correct, and improve HISTORY sections.
From Sevan Janiyan <venture37 at geeklan dot co dot uk>.
Verified using http://minnie.tuhs.org/.
@
text
@.\"	$OpenBSD: sleep.1,v 1.21 2014/05/27 13:50:52 jmc Exp $
.\"	$NetBSD: sleep.1,v 1.9 1995/07/25 19:37:43 jtc Exp $
.\"
.\" Copyright (c) 1990, 1993, 1994
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" the Institute of Electrical and Electronics Engineers, Inc.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@@(#)sleep.1	8.3 (Berkeley) 4/18/94
.\"
.Dd $Mdocdate: May 27 2014 $
.Dt SLEEP 1
.Os
.Sh NAME
.Nm sleep
.Nd suspend execution for an interval of time
.Sh SYNOPSIS
.Nm sleep
.Ar seconds
.Sh DESCRIPTION
The
.Nm
utility
suspends execution for a minimum of the specified number of
.Ar seconds .
This number must be positive and may contain a decimal fraction.
.Nm
is commonly used to schedule the execution of other commands (see below).
.Sh ASYNCHRONOUS EVENTS
.Bl -tag -width "SIGALRMXXX"
.It Dv SIGALRM
Terminate normally, with a zero exit status.
.El
.Sh EXIT STATUS
.Ex -std sleep
.Sh EXAMPLES
Wait a half hour before running the script
.Pa command_file
(see also the
.Xr at 1
utility):
.Pp
.Dl (sleep 1800; sh command_file >& errors)&
.Pp
To repetitively run a command (with
.Xr csh 1 ) :
.Bd -literal -offset indent
while (! -r zzz.rawdata)
	sleep 300
end
foreach i (*.rawdata)
	sleep 70
	awk -f collapse_data $i >> results
end
.Ed
.Pp
The scenario for such a script might be: a program currently
running is taking longer than expected to process a series of
files, and it would be nice to have another program start
processing the files created by the first program as soon as it is finished
(when
.Pa zzz.rawdata
is created).
The script checks every five minutes for this file.
When it is found, processing is done in several steps
by sleeping 70 seconds between each
.Xr awk 1
job.
.Pp
To monitor the growth of a file without consuming too many resources:
.Bd -literal -offset indent
while true; do
	ls -l file
	sleep 5
done
.Ed
.Sh SEE ALSO
.Xr at 1
.Sh STANDARDS
The
.Nm
utility is compliant with the
.St -p1003.1-2008
specification.
.Pp
The handling of fractional arguments is provided as an extension to that
specification.
.Sh HISTORY
A
.Nm
utility appeared in
.At v4 .
@


1.21
log
@document SIGALRM, since it's handling is somewhat special, and use
a standard EXIT STATUS blurb now that we can;

ok guenther sobrado millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.20 2014/02/21 23:39:39 schwarze Exp $
d36 1
a36 1
.Dd $Mdocdate: February 21 2014 $
d113 5
@


1.20
log
@remove section 2/3 pointers from section 1,
and do not point programmers at the obsolete usleep(3);
based on a diff from Jan Klemkow <j dot klemkow at wemelug dot de>,
but removing more as suggested by jmc@@ and deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.19 2010/09/03 09:53:20 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: September 3 2010 $
d54 5
d60 1
a60 12
The
.Nm
utility exits with one of the following values:
.Pp
.Bl -tag -width Ds -offset indent -compact
.It 0
On successful completion, or if the signal
.Dv SIGALRM
was received.
.It \*(Gt0
An error occurred.
.El
@


1.19
log
@add an EXIT STATUS section for /bin;
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.18 2010/07/22 08:09:29 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: July 22 2010 $
d109 1
a109 6
.Xr at 1 ,
.Xr nanosleep 2 ,
.Xr setitimer 2 ,
.Xr alarm 3 ,
.Xr sleep 3 ,
.Xr usleep 3
@


1.18
log
@move exit returns blurb out of DIAGNOSTICS; from daniel dickman
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.17 2009/02/08 17:15:09 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: February 8 2009 $
d54 13
a107 13
.Pp
The
.Nm
utility exits with one of the following values:
.Pp
.Bl -tag -width flag -compact
.It 0
On successful completion, or if the signal
.Dv SIGALRM
was received.
.It \*(Gt0
An error occurred.
.El
@


1.17
log
@bump the posix reference in STANDARDS to IEEE Std 1003.1-2008, with a few
updates to follow;
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.16 2007/05/31 19:19:15 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: May 31 2007 $
d95 1
a95 1
.Sh DIAGNOSTICS
d101 1
a101 1
.It Li \&0
d105 1
a105 1
.It Li \&>\&0
@


1.16
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.15 2007/05/29 15:04:59 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate$
d119 1
a119 1
.St -p1003.1-2004
@


1.15
log
@- consistent STANDARDS blurb
- note which options are extensions to POSIX

discussed w/ deraadt otto millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.14 2007/02/06 20:07:15 jmc Exp $
d36 1
a36 1
.Dd April 18, 1994
@


1.14
log
@fix some dodgy displays;
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.13 2003/06/02 23:32:09 millert Exp $
d118 5
a122 4
command offers a superset of
.St -p1003.2
functionality.
The handling of fractional arguments is provided as an extension to the
@


1.13
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.12 2000/04/12 21:47:47 aaron Exp $
d65 1
a65 2
.Pp
.Bd -literal -offset indent -compact
d89 1
a89 2
.Pp
.Bd -literal -offset indent -compact
@


1.12
log
@Trailing whitespace begone!
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.11 2000/02/19 23:03:50 aaron Exp $
d18 1
a18 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.11
log
@Improve.
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.10 2000/01/05 01:58:03 pjanzen Exp $
d71 1
a71 1
while (! -r zzz.rawdata) 
d82 2
a83 2
files, and it would be nice to have another program start 
processing the files created by the first program as soon as it is finished 
@


1.10
log
@Return EINVAL if we can't sleep for the specified time interval (i.e. it's
too long); problem noted by viha@@vip.fi
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.9 1999/12/06 20:27:38 espie Exp $
d53 1
a53 1
suspends execution for a minimum of
d55 1
a55 2
.Ar seconds
must be positive and may contain a decimal fraction.
d57 7
a63 15
is used to schedule the execution of other commands (see
.Sx EXAMPLES
below).
.Pp
The
.Nm
utility exits with one of the following values:
.Bl -tag -width flag
.It Li \&0
On successful completion, or if the signal
.Dv SIGALRM
was received.
.It Li \&>\&0
An error occurred.
.El
a64 4
.Nm 
handles fractional arguments as an extension to
.St -p1003.2 .
.Sh EXAMPLES
a66 5
This incantation would wait a half hour before
running the script command_file (see also the
.Xr at 1
utility).
.Pp
d84 5
a88 3
(when zzz.rawdata is created).
The script checks every five minutes for the file zzz.rawdata.
Then, when the file is found, processing is done in several steps
d93 1
a93 1
To monitor the growth of a file without consuming too many resources :
d101 13
d116 1
d119 2
a120 1
.Xr sleep 3
d127 2
@


1.9
log
@This sleep accepts fractional timings as well.

Rephrase examples slightly.
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.8 1999/09/02 16:36:49 aaron Exp $
d55 2
a77 4
To schedule the execution of a command for
.Va x
seconds later:
.Pp
@


1.8
log
@awk -> .Xr awk 1
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.7 1998/12/15 01:20:27 aaron Exp $
d71 4
d78 1
a78 1
number seconds later:
d83 1
a83 1
running the script command_file. (See the
d85 1
a85 1
utility.)
d87 1
a87 1
To reiteratively run a command (with
d91 6
a96 10
while (1)
	if (! -r zzz.rawdata) then
		sleep 300
	else
		foreach i (`ls *.rawdata`)
			sleep 70
			awk -f collapse_data $i >> results
		end
		break
	endif
d100 1
a100 1
The scenario for a script such as this might be: a program currently
d102 6
a107 6
files, and it would be nice to have
another program start processing the files created by the first
program as soon as it is finished (when zzz.rawdata is created).
The script checks every five minutes for the file zzz.rawdata,
when the file is found, then another portion processing
is done courteously by sleeping for 70 seconds in between each
d110 9
@


1.7
log
@always give .Nm macros an argument in SYNOPSIS sections; krw@@tcn.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.6 1998/11/28 03:20:35 aaron Exp $
d83 1
a83 1
To reiteratively run a command (with the
d108 2
a109 1
awk job.
@


1.6
log
@start killing redundant .Nm macro arguments (mandoc ``remembers'' the first one
it's given)
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.5 1998/09/23 00:13:50 aaron Exp $
d47 1
a47 1
.Nm
@


1.5
log
@alphabetize SEE ALSO entries and numerically order according to section
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.4 1998/09/14 22:13:58 aaron Exp $
d47 1
a47 1
.Nm sleep
d51 1
a51 1
.Nm sleep
d55 1
a55 1
.Nm sleep
d61 1
a61 1
.Nm sleep
d116 1
a116 1
.Nm sleep
@


1.4
log
@First complete sweep of man pages, bin/. Command/function names previously
(incorrectly) capatilized are fixed. Comma splices, hyphenations, SYNOPSIS
cleanups, other miscellaneous typos.
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.3 1997/08/19 06:28:20 denny Exp $
d110 1
d113 1
a113 2
.Xr sleep 3 ,
.Xr at 1
@


1.3
log
@Note POSIX 1003.2 conformance.
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.2 1996/06/23 14:21:48 deraadt Exp $
d55 1
a55 1
.Nm Sleep
d61 1
a61 1
.Nm Sleep
@


1.2
log
@update rcsid
@
text
@d1 1
a1 1
.\"	$OpenBSD: sleep.1,v 1.9 1995/07/25 19:37:43 jtc Exp $
d117 1
a117 1
command is expected to be
d119 1
a119 1
compatible.
@


1.1
log
@Initial revision
@
text
@d1 1
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
