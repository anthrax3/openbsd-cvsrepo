head	1.67;
access;
symbols
	OPENBSD_6_1_BASE:1.67
	OPENBSD_6_0:1.66.0.4
	OPENBSD_6_0_BASE:1.66
	OPENBSD_5_9:1.66.0.2
	OPENBSD_5_9_BASE:1.66
	OPENBSD_5_8:1.65.0.6
	OPENBSD_5_8_BASE:1.65
	OPENBSD_5_7:1.65.0.2
	OPENBSD_5_7_BASE:1.65
	OPENBSD_5_6:1.64.0.6
	OPENBSD_5_6_BASE:1.64
	OPENBSD_5_5:1.64.0.4
	OPENBSD_5_5_BASE:1.64
	OPENBSD_5_4:1.59.0.8
	OPENBSD_5_4_BASE:1.59
	OPENBSD_5_3:1.59.0.6
	OPENBSD_5_3_BASE:1.59
	OPENBSD_5_2:1.59.0.4
	OPENBSD_5_2_BASE:1.59
	OPENBSD_5_1_BASE:1.59
	OPENBSD_5_1:1.59.0.2
	OPENBSD_5_0:1.58.0.2
	OPENBSD_5_0_BASE:1.58
	OPENBSD_4_9:1.54.0.2
	OPENBSD_4_9_BASE:1.54
	OPENBSD_4_8:1.52.0.2
	OPENBSD_4_8_BASE:1.52
	OPENBSD_4_7:1.49.0.4
	OPENBSD_4_7_BASE:1.49
	OPENBSD_4_6:1.49.0.6
	OPENBSD_4_6_BASE:1.49
	OPENBSD_4_5:1.49.0.2
	OPENBSD_4_5_BASE:1.49
	OPENBSD_4_4:1.48.0.6
	OPENBSD_4_4_BASE:1.48
	OPENBSD_4_3:1.48.0.4
	OPENBSD_4_3_BASE:1.48
	OPENBSD_4_2:1.48.0.2
	OPENBSD_4_2_BASE:1.48
	OPENBSD_4_1:1.46.0.4
	OPENBSD_4_1_BASE:1.46
	OPENBSD_4_0:1.46.0.2
	OPENBSD_4_0_BASE:1.46
	OPENBSD_3_9:1.45.0.2
	OPENBSD_3_9_BASE:1.45
	OPENBSD_3_8:1.41.0.6
	OPENBSD_3_8_BASE:1.41
	OPENBSD_3_7:1.41.0.4
	OPENBSD_3_7_BASE:1.41
	OPENBSD_3_6:1.41.0.2
	OPENBSD_3_6_BASE:1.41
	OPENBSD_3_5:1.37.0.4
	OPENBSD_3_5_BASE:1.37
	OPENBSD_3_4:1.37.0.2
	OPENBSD_3_4_BASE:1.37
	OPENBSD_3_3:1.35.0.2
	OPENBSD_3_3_BASE:1.35
	OPENBSD_3_2:1.33.0.4
	OPENBSD_3_2_BASE:1.33
	OPENBSD_3_1:1.33.0.2
	OPENBSD_3_1_BASE:1.33
	OPENBSD_3_0:1.31.0.2
	OPENBSD_3_0_BASE:1.31
	OPENBSD_2_9:1.28.0.2
	OPENBSD_2_9_BASE:1.28
	OPENBSD_2_8:1.26.0.2
	OPENBSD_2_8_BASE:1.26
	OPENBSD_2_7:1.25.0.2
	OPENBSD_2_7_BASE:1.25
	OPENBSD_2_6:1.21.0.2
	OPENBSD_2_6_BASE:1.21
	OPENBSD_2_5:1.18.0.2
	OPENBSD_2_5_BASE:1.18
	OPENBSD_2_4:1.14.0.2
	OPENBSD_2_4_BASE:1.14
	OPENBSD_2_3:1.9.0.4
	OPENBSD_2_3_BASE:1.9
	OPENBSD_2_2:1.9.0.2
	OPENBSD_2_2_BASE:1.9
	OPENBSD_2_1:1.4.0.2
	OPENBSD_2_1_BASE:1.4
	OPENBSD_2_0:1.3.0.2
	OPENBSD_2_0_BASE:1.3
	netbsd_1_1:1.1.1.1;
locks; strict;
comment	@.\" @;


1.67
date	2016.09.12.17.28.47;	author jca;	state Exp;
branches;
next	1.66;
commitid	a5fkUZD5JT5QgVNt;

1.66
date	2015.09.25.16.02.54;	author schwarze;	state Exp;
branches;
next	1.65;
commitid	onCYCWjSVg5jPyza;

1.65
date	2015.01.15.19.06.31;	author schwarze;	state Exp;
branches;
next	1.64;
commitid	dven8mWEy4wx3j1c;

1.64
date	2014.02.14.19.12.27;	author jmc;	state Exp;
branches;
next	1.63;

1.63
date	2014.01.05.09.30.36;	author jmc;	state Exp;
branches;
next	1.62;

1.62
date	2014.01.05.05.11.17;	author schwarze;	state Exp;
branches;
next	1.61;

1.61
date	2014.01.05.05.04.06;	author schwarze;	state Exp;
branches;
next	1.60;

1.60
date	2014.01.03.15.52.04;	author jmc;	state Exp;
branches;
next	1.59;

1.59
date	2011.08.31.08.48.40;	author jmc;	state Exp;
branches;
next	1.58;

1.58
date	2011.07.08.06.54.11;	author jmc;	state Exp;
branches;
next	1.57;

1.57
date	2011.07.07.21.00.59;	author deraadt;	state Exp;
branches;
next	1.56;

1.56
date	2011.03.11.21.36.09;	author jmc;	state Exp;
branches;
next	1.55;

1.55
date	2011.03.11.18.22.49;	author deraadt;	state Exp;
branches;
next	1.54;

1.54
date	2010.09.19.20.55.25;	author jmc;	state Exp;
branches;
next	1.53;

1.53
date	2010.09.03.09.53.20;	author jmc;	state Exp;
branches;
next	1.52;

1.52
date	2010.07.22.08.09.29;	author jmc;	state Exp;
branches;
next	1.51;

1.51
date	2010.04.01.06.23.33;	author jmc;	state Exp;
branches;
next	1.50;

1.50
date	2010.03.31.17.51.21;	author deraadt;	state Exp;
branches;
next	1.49;

1.49
date	2009.02.08.17.15.09;	author jmc;	state Exp;
branches;
next	1.48;

1.48
date	2007.05.31.19.19.14;	author jmc;	state Exp;
branches;
next	1.47;

1.47
date	2007.05.29.15.04.59;	author jmc;	state Exp;
branches;
next	1.46;

1.46
date	2006.05.15.21.14.21;	author jmc;	state Exp;
branches;
next	1.45;

1.45
date	2006.01.08.00.19.55;	author jmc;	state Exp;
branches;
next	1.44;

1.44
date	2005.11.30.11.18.27;	author jmc;	state Exp;
branches;
next	1.43;

1.43
date	2005.11.29.19.07.46;	author dhartmei;	state Exp;
branches;
next	1.42;

1.42
date	2005.11.07.19.20.05;	author jmc;	state Exp;
branches;
next	1.41;

1.41
date	2004.07.21.08.59.30;	author jmc;	state Exp;
branches;
next	1.40;

1.40
date	2004.07.09.19.33.08;	author jmc;	state Exp;
branches;
next	1.39;

1.39
date	2004.04.07.15.33.32;	author jmc;	state Exp;
branches;
next	1.38;

1.38
date	2004.04.07.14.55.43;	author jmc;	state Exp;
branches;
next	1.37;

1.37
date	2003.06.02.23.32.07;	author millert;	state Exp;
branches;
next	1.36;

1.36
date	2003.05.29.12.24.19;	author jmc;	state Exp;
branches;
next	1.35;

1.35
date	2003.03.12.20.12.35;	author deraadt;	state Exp;
branches;
next	1.34;

1.34
date	2002.11.14.02.57.27;	author deraadt;	state Exp;
branches;
next	1.33;

1.33
date	2002.02.11.18.43.50;	author mpech;	state Exp;
branches;
next	1.32;

1.32
date	2001.12.02.02.02.25;	author deraadt;	state Exp;
branches;
next	1.31;

1.31
date	2001.06.23.05.57.02;	author deraadt;	state Exp;
branches;
next	1.30;

1.30
date	2001.06.23.02.33.22;	author deraadt;	state Exp;
branches;
next	1.29;

1.29
date	2001.05.01.17.58.00;	author aaron;	state Exp;
branches;
next	1.28;

1.28
date	2000.11.09.22.28.27;	author aaron;	state Exp;
branches;
next	1.27;

1.27
date	2000.11.08.19.53.46;	author aaron;	state Exp;
branches;
next	1.26;

1.26
date	2000.10.18.06.55.07;	author aaron;	state Exp;
branches;
next	1.25;

1.25
date	2000.04.15.11.45.53;	author aaron;	state Exp;
branches;
next	1.24;

1.24
date	2000.03.31.00.10.24;	author deraadt;	state Exp;
branches;
next	1.23;

1.23
date	2000.03.21.14.40.14;	author aaron;	state Exp;
branches;
next	1.22;

1.22
date	2000.02.19.22.44.15;	author aaron;	state Exp;
branches;
next	1.21;

1.21
date	99.08.17.14.14.04;	author aaron;	state Exp;
branches;
next	1.20;

1.20
date	99.08.17.14.03.59;	author aaron;	state Exp;
branches;
next	1.19;

1.19
date	99.06.04.02.45.12;	author aaron;	state Exp;
branches;
next	1.18;

1.18
date	99.02.01.07.50.46;	author d;	state Exp;
branches;
next	1.17;

1.17
date	98.12.15.01.20.18;	author aaron;	state Exp;
branches;
next	1.16;

1.16
date	98.11.28.03.20.32;	author aaron;	state Exp;
branches;
next	1.15;

1.15
date	98.11.11.22.27.03;	author aaron;	state Exp;
branches;
next	1.14;

1.14
date	98.09.14.22.31.09;	author aaron;	state Exp;
branches;
next	1.13;

1.13
date	98.09.14.22.13.42;	author aaron;	state Exp;
branches;
next	1.12;

1.12
date	98.09.01.03.39.35;	author pjanzen;	state Exp;
branches;
next	1.11;

1.11
date	98.06.09.07.14.13;	author deraadt;	state Exp;
branches;
next	1.10;

1.10
date	98.05.13.10.33.18;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	97.10.04.09.17.33;	author deraadt;	state Exp;
branches;
next	1.8;

1.8
date	97.09.17.23.23.02;	author bri;	state Exp;
branches;
next	1.7;

1.7
date	97.08.21.20.35.35;	author deraadt;	state Exp;
branches;
next	1.6;

1.6
date	97.06.23.19.34.55;	author deraadt;	state Exp;
branches;
next	1.5;

1.5
date	97.05.30.09.12.50;	author deraadt;	state Exp;
branches;
next	1.4;

1.4
date	97.04.16.20.58.08;	author deraadt;	state Exp;
branches;
next	1.3;

1.3
date	96.03.18.08.43.29;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	95.12.14.01.25.05;	author deraadt;	state Exp;
branches;
next	1.1;

1.1
date	95.10.18.08.37.05;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	95.10.18.08.37.05;	author deraadt;	state Exp;
branches;
next	;


desc
@@


1.67
log
@Remove mention of "remote time" in description for the -a flag.

timed(8) support for date(1) was removed years ago.
ok millert@@ deraadt@@
@
text
@.\"	$OpenBSD: date.1,v 1.66 2015/09/25 16:02:54 schwarze Exp $
.\"	$NetBSD: date.1,v 1.12 1996/03/12 04:32:37 phil Exp $
.\"
.\" Copyright (c) 1980, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" the Institute of Electrical and Electronics Engineers, Inc.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @@(#)date.1	8.3 (Berkeley) 4/28/95
.\"
.Dd $Mdocdate: September 25 2015 $
.Dt DATE 1
.Os
.Sh NAME
.Nm date
.Nd display or set date and time
.Sh SYNOPSIS
.Nm date
.Op Fl aju
.Op Fl d Ar dst
.Op Fl r Ar seconds
.Op Fl t Ar minutes_west
.Op Fl z Ar output_zone
.Op Cm + Ns Ar format
.Sm off
.Oo Oo Oo Oo Oo Oo
.Ar cc Oc
.Ar yy Oc
.Ar mm Oc
.Ar dd Oc
.Ar HH Oc
.Ar MM
.Op . Ar SS
.Oc
.Sm on
.Sh DESCRIPTION
When invoked without arguments, the
.Nm
utility displays the current date and time.
Otherwise, depending on the options specified,
.Nm
will set the date and time or print it in a user-defined way.
.Pp
Changing the system date has some risks, as described in
.Xr settimeofday 2 .
Only the superuser may change the date.
.Pp
The options are as follows:
.Bl -tag -width Ds
.It Fl a
Use the
.Xr adjtime 2
call to gradually skew the local time to the
desired time rather than just hopping.
.It Fl d Ar dst
Set the system's value for Daylight Saving Time.
If
.Ar dst
is non-zero, future calls
to
.Xr gettimeofday 2
will return a non-zero value for
.Fa tz_dsttime .
.It Fl j
Parse the provided date and time and display the result without changing
the clock.
.It Fl r Ar seconds
Print out (in specified format) the date and time represented by
.Ar seconds
from the Epoch.
.It Fl t Ar minutes_west
Set the system's value for minutes west of GMT.
.Ar minutes_west
specifies the number of minutes returned in
.Fa tz_minuteswest
by future calls to
.Xr gettimeofday 2 .
.It Fl u
Display or set the date in UTC (Coordinated Universal) time.
.It Fl z Ar output_zone
Just before printing the time, change to the specified timezone;
see the description of
.Ev TZ
below.
This can be used with
.Fl j
to easily convert time specifications from one zone to another.
.El
.Pp
An operand with a leading plus sign
.Pq Sq +
signals a user-defined format
string which specifies the format in which to display the date and time.
The format string may contain any of the conversion specifications described
in the
.Xr strftime 3
manual page, as well as any arbitrary text.
A newline
.Pq Ql \en
character is always output after the characters specified by
the format string.
The format string for the default display is:
.Bd -literal -offset indent
%a %b %e %H:%M:%S %Z %Y
.Ed
.Pp
If an operand does not have a leading plus sign, it is interpreted as
a value for setting the system's notion of the current date and time.
The canonical representation for setting the date and time is:
.Pp
.Bl -tag -width Ds -compact -offset indent
.It Ar ccyy
Year.
If yy is specified, but cc is not,
a value for yy between 69 and 99 results in a cc value of 19.
Otherwise, a cc value of 20 is used.
.It Ar mm
Month:
a number from 1 to 12.
.It Ar dd
Day:
a number from 1 to 31.
.It Ar HH
Hour:
a number from 0 to 23.
.It Ar MM
Minute:
a number from 0 to 59.
.It Ar SS
Second:
a number from 0 to 60
(permitting a leap second),
preceded by a period.
.El
.Pp
Everything but the minute is optional.
.Pp
Time changes for Daylight Saving Time, standard time, leap seconds,
and leap years are handled automatically.
.Sh ENVIRONMENT
.Bl -tag -width Ds
.It Ev TZ
The time zone to use when parsing or displaying dates.
See
.Xr environ 7
for more information.
If this variable is not set, the time zone is determined based on
.Pa /etc/localtime ,
which the administrator adjusts using
the
.Fl l
option of
.Xr zic 8 .
.El
.Sh FILES
.Bl -tag -width /var/log/messages -compact
.It Pa /var/log/wtmp
record of date resets and time changes
.It Pa /var/log/messages
record of the user setting the time
.El
.Sh EXIT STATUS
.Ex -std
.Sh EXAMPLES
Display the date using the specified format string:
.Bd -literal -offset indent
$ date "+DATE: %Y-%m-%d%nTIME: %H:%M:%S"
DATE: 1987-11-21
TIME: 13:36:16
.Ed
.Pp
Set the date to
June 13, 1985, 4:27 PM:
.Pp
.Dl # date 198506131627
.Pp
Set the time to
2:32 PM,
without modifying the date:
.Pp
.Dl # date 1432
.Sh SEE ALSO
.Xr adjtime 2 ,
.Xr gettimeofday 2 ,
.Xr strftime 3 ,
.Xr utmp 5 ,
.Xr ntpd 8 ,
.Xr rdate 8
.Sh STANDARDS
The
.Nm
utility is compliant with the
.St -p1003.1-2008
specification.
.Pp
The flags
.Op Fl adjrtz ,
as well as the conversion specifiers
.Ql \&%F ,
.Ql \&%G ,
.Ql \&%g ,
.Ql \&%k ,
.Ql \&%l ,
.Ql \&%R ,
.Ql \&%s ,
.Ql \&%v ,
and
.Ql \&%+ ,
are extensions to that specification.
.Pp
This implementation requires the traditional
.Bx
date format,
[[[[[cc]yy]mm]dd]HH]MM[.SS],
which differs from the
X/Open System Interfaces option of the
.St -p1003.1-2008
specification.
.Sh HISTORY
A
.Nm
command appeared in
.At v1 .
@


1.66
log
@drop useless .No, .Ns, and quoting
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.65 2015/01/15 19:06:31 schwarze Exp $
d36 1
a36 1
.Dd $Mdocdate: January 15 2015 $
d79 1
a79 1
remote time rather than just hopping.
@


1.65
log
@remove .Tn; from Jan Stary <hans at stare dot cz>
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.64 2014/02/14 19:12:27 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: February 14 2014 $
d57 2
a58 1
.Ar MM Op No \&. Ns Ar SS
@


1.64
log
@reference xsi, not xpg;
ok millert schwarze sobrado (or standards@@ as i'm tempted to call them ;)
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.63 2014/01/05 09:30:36 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: January 5 2014 $
d96 1
a96 2
Set the system's value for minutes west of
.Tn GMT .
@


1.63
log
@comma previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.62 2014/01/05 05:11:17 schwarze Exp $
d241 2
a242 1
.St -xpg4
@


1.62
log
@some conversion specifiers are not required by POSIX;
joint work and OK jmc@@ sobrado@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.61 2014/01/05 05:04:06 schwarze Exp $
d222 1
a222 1
.Op Fl adjrtz
d233 1
a233 1
.Ql \&%+
@


1.61
log
@date(1) can only exit(0) or exit(1), not exit(2), so make this .Ex -std;
obviouly, this was forgotten in rev. 1.57 when removing timed(8) support.
ok jmc@@ sobrado@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.60 2014/01/03 15:52:04 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: January 3 2014 $
d223 11
@


1.60
log
@note that our date supports traditional bsd date format, which is
different to what posix/xpg specifies;

diff originally posted to tech, changed after some feedback from
kettenis, then a bit more from schwarze and sobrado;

ok schwarze sobrado
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.59 2011/08/31 08:48:40 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: August 31 2011 $
d188 1
a188 4
The
.Nm
utility exits 0 on success, 1 if unable to set the date,
and 2 if able to set the local date, but unable to set it globally.
@


1.59
log
@use the same format/text, as far as possible, for date strings;
help/ok guenther millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.58 2011/07/08 06:54:11 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: July 8 2011 $
d227 8
@


1.58
log
@remove a closing (unmatched) Re, missed in previous;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.57 2011/07/07 21:00:59 deraadt Exp $
d36 1
a36 1
.Dd $Mdocdate: July 7 2011 $
d57 1
a57 1
.Ar MM Op Ar \&.SS
d138 4
a141 3
Year:
the first two digits (representing the century) may be omitted
for non-ambiguous years (1969\-2068).
d143 2
a144 1
Numeric month: a number from 1 to 12.
d146 2
a147 1
Day: a number from 1 to 31.
d149 2
a150 1
Hour: a number from 0 to 23.
d152 2
a153 1
Minute: a number from 0 to 59.
d155 4
a158 1
Second: a number from 0 to 61 (59 plus a maximum of two leap seconds).
@


1.57
log
@timed's time is up.  use ntpd(8).  Even our own fossil developers
switched a while back.
ok miod, kettenis
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.56 2011/03/11 21:36:09 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: March 11 2011 $
a208 1
.Re
@


1.56
log
@add -z to the extensions list in STANDARDS;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.55 2011/03/11 18:22:49 deraadt Exp $
d44 1
a44 1
.Op Fl ajnu
a90 11
.It Fl n
By default,
if the
.Xr timed 8
daemon is running,
.Nm
sets the time on all of the machines in the local group.
The
.Fl n
option suppresses this behavior and causes the time to be set only on the
current machine.
a201 17
.Sh DIAGNOSTICS
Occasionally, when
.Xr timed 8
synchronizes the time on many hosts, the setting of a new time value may
require more than a few seconds.
On these occasions,
.Nm
prints:
.Dq Network time being set .
The message
.Dq Communication error with timed
occurs when the communication
between
.Nm
and
.Xr timed 8
fails.
d208 1
a208 6
.Xr rdate 8 ,
.Xr timed 8
.Rs
.%T "TSP: The Time Synchronization Protocol for UNIX 4.3BSD"
.%A R. Gusella
.%A S. Zatti
d218 1
a218 1
.Op Fl adjnrtz
@


1.55
log
@Add a non-standard option that affects the output TZ only.  The input (for
parsing) TZ is unaffected.  This makes it it easier to convert timestamps
from any timezone to any other timezone -- no need for $() gymnastics
ok millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.54 2010/09/19 20:55:25 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: September 19 2010 $
d251 1
a251 1
.Op Fl adjnrt
@


1.54
log
@more wacky macro fixing;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.53 2010/09/03 09:53:20 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: September 3 2010 $
d48 1
d116 8
d171 1
a171 1
The time zone to use when displaying dates.
@


1.53
log
@add an EXIT STATUS section for /bin;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.52 2010/07/22 08:09:29 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: July 22 2010 $
d56 2
a57 1
.Ar MM Op Ar \&.SS Oc
@


1.52
log
@move exit returns blurb out of DIAGNOSTICS; from daniel dickman
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.51 2010/04/01 06:23:33 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: April 1 2010 $
a157 5
.Pp
The
.Nm
utility exits 0 on success, 1 if unable to set the date,
and 2 if able to set the local date, but unable to set it globally.
d180 5
@


1.51
log
@tweak previous; ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.50 2010/03/31 17:51:21 deraadt Exp $
d36 1
a36 1
.Dd $Mdocdate: March 31 2010 $
d158 5
a203 3
Exit status is 0 on success, 1 if unable to set the date, and 2
if able to set the local date, but unable to set it globally.
.Pp
@


1.50
log
@Make a -DSMALL version of date(1) for the media
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.49 2009/02/08 17:15:09 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: February 8 2009 $
d66 1
a66 2
Only the superuser may set the date.
Changing the system date has some risks as described in
d68 1
@


1.49
log
@bump the posix reference in STANDARDS to IEEE Std 1003.1-2008, with a few
updates to follow;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.48 2007/05/31 19:19:14 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate: May 31 2007 $
d67 2
@


1.48
log
@convert to new .Dd format;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.47 2007/05/29 15:04:59 jmc Exp $
d36 1
a36 1
.Dd $Mdocdate$
d233 1
a233 1
.St -p1003.1-2004
@


1.47
log
@- consistent STANDARDS blurb
- note which options are extensions to POSIX

discussed w/ deraadt otto millert
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.46 2006/05/15 21:14:21 jmc Exp $
d36 1
a36 1
.Dd April 28, 1995
@


1.46
log
@better example;

from siju george
ok deraadt
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.45 2006/01/08 00:19:55 jmc Exp $
d232 7
a238 2
utility is expected to be compatible with
.St -p1003.2 .
@


1.45
log
@make the description of the first example a little more informative;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.44 2005/11/30 11:18:27 jmc Exp $
d189 1
a189 1
.Dl # date 8506131627
@


1.44
log
@timezone -> time zone
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.43 2005/11/29 19:07:46 dhartmei Exp $
d179 1
a179 5
The following command:
.Pp
.Dl $ date \&"+DATE: %Y-%m-%d%nTIME: %H:%M:%S\&"
.Pp
displays:
d181 1
@


1.43
log
@add an option -j which suppresses setting the clock, but parses the date
argument. useful to convert string-to-epoch (with +%s) or just to check
whether the argument is parsed correctly before really setting the clock.
ok millert@@, deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.42 2005/11/07 19:20:05 jmc Exp $
d159 1
a159 1
The timezone to use when displaying dates.
d163 1
a163 1
If this variable is not set, the timezone is determined based on
@


1.42
log
@- document the `cc' part of `ccyy'
- get its description right
- minor grammar tweaks

ok otto@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.41 2004/07/21 08:59:30 jmc Exp $
d44 1
a44 1
.Op Fl anu
d84 3
@


1.41
log
@tidy up EXAMPLES somewhat;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.40 2004/07/09 19:33:08 jmc Exp $
d133 4
a136 5
.It Ar yy
Year in abbreviated form (for years 1969-2068).
The format
.Ar ccyymmddHHMM
is also permitted, for non-ambiguous years.
d138 1
a138 1
Numeric month, a number from 1 to 12.
d140 1
a140 1
Day, a number from 1 to 31.
d142 1
a142 1
Hour, a number from 0 to 23.
d144 1
a144 1
Minute, a number from 0 to 59.
d146 1
a146 1
Second, a number from 0 to 61 (59 plus a maximum of two leap seconds).
@


1.40
log
@make date(1), rdate(8), ntpd(8), and timed(8) .Xr themselves;
mostly from Andreas Kahari (PR #3846);
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.39 2004/04/07 15:33:32 jmc Exp $
d177 1
a177 1
.Li $ date \&"+DATE: %Y-%m-%d%nTIME: %H:%M:%S\&"
d179 3
a181 1
Displays
d187 2
a188 1
.Li # date 8506131627
d190 1
a190 2
Sets the date to
.Dq Li "June 13, 1985, 4:27 PM" .
d192 3
a194 1
.Li # date 1432
d196 1
a196 3
Sets the time to
.Li "2:32 PM" ,
without modifying the date.
@


1.39
log
@.Xr rdate 8 in SEE ALSO;
from xsa@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.38 2004/04/07 14:55:43 jmc Exp $
d220 1
@


1.38
log
@list options w/o operands before options w/ operands (style(9));
.Xr adjtime 2 in SEE ALSO;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.37 2003/06/02 23:32:07 millert Exp $
d220 1
@


1.37
log
@Remove the advertising clause in the UCB license which Berkeley
rescinded 22 July 1999.  Proofed by myself and Theo.
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.36 2003/05/29 12:24:19 jmc Exp $
d44 1
a47 1
.Op Fl anu
d216 1
@


1.36
log
@section reorder;
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.35 2003/03/12 20:12:35 deraadt Exp $
d18 1
a18 5
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
@


1.35
log
@more .Li
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.34 2002/11/14 02:57:27 deraadt Exp $
a157 19
.Sh EXAMPLES
.Li $ date \&"+DATE: %Y-%m-%d%nTIME: %H:%M:%S\&"
.Pp
Displays
.Bd -literal -offset indent
DATE: 1987-11-21
TIME: 13:36:16
.Ed
.Pp
.Li # date 8506131627
.Pp
Sets the date to
.Dq Li "June 13, 1985, 4:27 PM" .
.Pp
.Li # date 1432
.Pp
Sets the time to
.Li "2:32 PM" ,
without modifying the date.
d180 19
a198 10
.Sh SEE ALSO
.Xr gettimeofday 2 ,
.Xr strftime 3 ,
.Xr utmp 5 ,
.Xr timed 8
.Rs
.%T "TSP: The Time Synchronization Protocol for UNIX 4.3BSD"
.%A R. Gusella
.%A S. Zatti
.Re
d219 10
@


1.34
log
@use $ or # before commands in examples
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.33 2002/02/11 18:43:50 mpech Exp $
d159 1
a159 1
.Cm $ date \&"+DATE: %Y-%m-%d%nTIME: %H:%M:%S\&"
d167 1
a167 1
.Cm # date 8506131627
d172 1
a172 1
.Cm # date 1432
@


1.33
log
@Initial patch.
When you give command examples in a manual page prefix them with
	$ command
or
	# command

deraadt@@ ok
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.32 2001/12/02 02:02:25 deraadt Exp $
d167 1
a167 1
.Cm date 8506131627
d172 1
a172 1
.Cm date 1432
@


1.32
log
@add -a to use adjtime(), like rdate(1) does
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.31 2001/06/23 05:57:02 deraadt Exp $
d159 1
a159 1
.Cm date \&"+DATE: %Y-%m-%d%nTIME: %H:%M:%S\&"
@


1.31
log
@ok, tmac is now fixed
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.30 2001/06/23 02:33:22 deraadt Exp $
d51 1
a51 1
.Op Fl nu
d74 5
@


1.30
log
@join .%A entries; most by bk@@rt.fm
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.29 2001/05/01 17:58:00 aaron Exp $
d201 2
a202 1
.%A R. Gusella and S. Zatti
@


1.29
log
@Remove completely redundant introductory sentences in ENVIRONMENT sections.
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.28 2000/11/09 22:28:27 aaron Exp $
d201 1
a201 2
.%A R. Gusella
.%A S. Zatti
@


1.28
log
@- Don't use general text domain macros in literal block displays.
- Beautify the SYNOPSIS; somewhat inspired by a similar change in NetBSD.
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.27 2000/11/08 19:53:46 aaron Exp $
a172 2
The following environment variables affect the execution of
.Nm date :
@


1.27
log
@Escape the quotation marks in the first example so they show; deraadt@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.26 2000/10/18 06:55:07 aaron Exp $
d53 9
a61 1
.Op [[[[[cc]yy]mm]dd]HH]MM[\&.SS]
d124 1
a124 1
.Dq %a %b %e %H:%M:%S %Z %Y
@


1.26
log
@Add some rudimentary EXAMPLES sections and standardize the way we display
existing EXAMPLES sections.
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.25 2000/04/15 11:45:53 aaron Exp $
d146 1
a146 1
.Cm date "+DATE: %Y-%m-%d%nTIME: %H:%M:%S"
@


1.25
log
@- For consistency, `super-user' -> `superuser' in all cases.
- Some punctuation fixes.
- Some `id' -> `ID'.
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.24 2000/03/31 00:10:24 deraadt Exp $
d146 1
a146 4
The command:
.Bd -literal -offset indent
date "+DATE: %Y-%m-%d%nTIME: %H:%M:%S"
.Ed
d148 1
a148 1
will display:
d154 1
a154 4
The command:
.Bd -literal -offset indent
date 8506131627
.Ed
d156 1
a156 1
sets the date to
d159 1
a159 4
The command:
.Bd -literal -offset indent
date 1432
.Ed
d161 1
a161 1
sets the time to
@


1.24
log
@more timezone pointers
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.23 2000/03/21 14:40:14 aaron Exp $
d62 1
a62 1
Only the super-user may set the date.
@


1.23
log
@Add HISTORY sections; from FreeBSD. Information originally obtained from
"A Quarter Centry of UNIX, Peter H. Salus, Page 41".
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.22 2000/02/19 22:44:15 aaron Exp $
d182 7
@


1.22
log
@Miscellaneous cleanup.
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.21 1999/08/17 14:14:04 aaron Exp $
d225 5
@


1.21
log
@clearer description
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.20 1999/08/17 14:03:59 aaron Exp $
d67 1
a67 1
Set the kernel's value for daylight saving time.
d73 2
a74 2
will return a non-zero
.Ql tz_dsttime .
d76 2
a77 1
The utility
d79 1
a79 4
is used to synchronize the clocks on groups of machines.
By default, if
.Xr timed 8
is running,
d81 1
a81 1
will set the time on all of the machines in the local group.
d84 2
a85 3
option stops
.Nm
from setting the time for other than the current machine.
d91 1
a91 1
Set the kernel's value for minutes west of
d95 1
a95 1
.Ql tz_minuteswest
d99 1
a99 3
Display or set the date in
.Tn UTC
(universal) time.
d110 3
a112 1
A <newline> character is always output after the characters specified by
d125 1
a125 1
Year in abbreviated form (for years falling within 1969\(em2068).
d137 1
a137 1
.It Ar .SS
d143 1
a143 1
Time changes for daylight saving time, standard time, leap seconds,
d176 1
a176 1
.Bl -tag -width TZ
@


1.20
log
@consistency
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.19 1999/06/04 02:45:12 aaron Exp $
d55 1
a55 1
The
d57 6
a62 4
utility displays the current date and time when invoked without arguments.
Providing arguments will format the date and time in a user-defined
way or set the date.
Only the superuser may set the date.
@


1.19
log
@start to remove non-escaped trailing whitespace, it can confuse troff; pjanzen@@
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.18 1999/02/01 07:50:46 d Exp $
d55 1
d57 1
a57 1
displays the current date and time when invoked without arguments.
@


1.18
log
@document y2k hacks a bit better
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.17 1998/12/15 01:20:18 aaron Exp $
d95 1
a95 1
.Ql tz_minuteswest  
d109 1
a109 1
in the 
@


1.17
log
@always give .Nm macros an argument in SYNOPSIS sections; krw@@tcn.net
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.16 1998/11/28 03:20:32 aaron Exp $
d125 1
a125 1
Year in abbreviated form (e.g. 89 for 1989, 06 for 2006).
d128 1
a128 1
is also permitted, for non-ambiguous years beyond 1999.
@


1.16
log
@start killing redundant .Nm macro arguments (mandoc ``remembers'' the first one
it's given)
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.15 1998/11/11 22:27:03 aaron Exp $
d47 1
a47 1
.Nm
@


1.15
log
@misc repair
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.14 1998/09/14 22:31:09 aaron Exp $
d47 1
a47 1
.Nm date
d55 1
a55 1
.Nm date
@


1.14
log
@typos; pjanzen@@foatdi.harvard.edu
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.13 1998/09/14 22:13:42 aaron Exp $
d63 1
a63 1
.It Fl d
d90 1
a90 1
.It Fl t
d104 3
a106 1
An operand with a leading plus (``+'') sign signals a user-defined format
d116 1
a116 1
``%a %b %e %H:%M:%S %Z %Y''.
d211 1
a211 1
.Ql Network time being set .
d213 1
a213 1
.Ql Communication error with timed
@


1.13
log
@First complete sweep of man pages, bin/. Command/function names previously
(incorrectly) capatilized are fixed. Comma splices, hyphenations, SYNOPSIS
cleanups, other miscellaneous typos.
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.12 1998/09/01 03:39:35 pjanzen Exp $
d64 1
a64 1
Set the kernel's value for daylight savings time.
d141 1
a141 1
Time changes for daylight savings, standard time, leap seconds,
@


1.12
log
@s/UCT/UTC/
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.11 1998/06/09 07:14:13 deraadt Exp $
d55 1
a55 1
.Nm Date
d71 1
a71 1
.Ql tz_dsttime  .
d93 1
a93 1
.Ar Minutes_west
d123 1
a123 1
Year in abbreviated form (.e.g 89 for 1989, 06 for 2006).
d128 1
a128 2
Numeric month.
A number from 1 to 12.
d134 1
a134 1
Minutes, a number from 0 to 59.
d136 1
a136 1
Seconds, a number from 0 to 61 (59 plus a maximum of two leap seconds).
d139 1
a139 1
Everything but the minutes is optional.
d141 2
a142 2
Time changes for Daylight Saving and Standard time and leap seconds
and years are handled automatically.
d184 1
a184 1
A record of date resets and time changes.
d186 1
a186 1
A record of the user setting the time.
@


1.11
log
@bah
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.10 1998/05/13 10:33:18 deraadt Exp $
d79 1
a79 1
.Nm date
d84 1
a84 1
.Nm date
d100 1
a100 1
.Tn UCT
d208 1
a208 1
.Nm date
d215 1
a215 1
.Nm date
d221 1
a221 1
.Nm date
@


1.10
log
@fix .Sh ENVIRONMENT
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.9 1997/10/04 09:17:33 deraadt Exp $
a218 15
.Sh BUGS
The system attempts to keep the date in a format closely compatible
with
.Tn VMS .
.Tn VMS ,
however, uses local time (rather than
.Tn GMT )
and does not understand daylight-savings time.
Thus, if you use both
.Tn UNIX
and
.Tn VMS ,
.Tn VMS
will be running on
.Tn GMT .
@


1.9
log
@use ISO format in example, not some stupid americano-centric bullshit
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.8 1997/09/17 23:23:02 bri Exp $
d172 1
a172 1
.Sh ENVIRONMENT VARIABLES
@


1.8
log
@Cosmetic:
  Correct usage message.
  Capitalize hours, minutes and seconds so that minutes are
  distinguisable from months and so that things are in line
  with strftime(3)
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.7 1997/08/21 20:35:35 deraadt Exp $
d147 1
a147 1
date ``+DATE: %m/%d/%y%nTIME: %H:%M:%S''
d152 1
a152 1
DATE: 11/21/87
@


1.7
log
@clarify -r; rs@@bifrost.seastrom.com
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.6 1997/06/23 19:34:55 deraadt Exp $
d53 1
a53 1
.Op [[yy]yy[mm[dd[hh]]]]mm[\&.ss]
d125 1
a125 1
.Ar yyyymmddhhmm
d132 1
a132 1
.It Ar hh
d134 1
a134 1
.It Ar mm
d136 1
a136 1
.It Ar .ss
@


1.6
log
@yyyy specification code; m4@@nts.umn.edu
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.5 1997/05/30 09:12:50 deraadt Exp $
d86 2
a87 2
.It Fl r
Print out the date and time in
@


1.5
log
@xref corrections
@
text
@d1 1
a1 1
.\"	$OpenBSD: date.1,v 1.4 1997/04/16 20:58:08 deraadt Exp $
d53 1
a53 1
.Op [yy[mm[dd[hh]]]]mm[\&.ss]
d124 3
@


1.4
log
@cleanup from danny@@freebsd
@
text
@d1 1
a1 1
.\"	$OpenBSD$
d77 1
a77 1
.Xr timed
d201 1
a201 1
.Xr timed
d214 1
a214 1
.Xr timed
@


1.3
log
@From NetBSD: a a  => a  (close pr 2204 by Simon Burge <simonb@@telstra.com.au>).
@
text
@d123 1
a123 1
Year in abbreviated form (.e.g 89 for 1989).
@


1.2
log
@s/ENVIRONMENTAL/ENVIRONMENT/
@
text
@d1 2
a2 1
.\"	$NetBSD: date.1,v 1.11 1995/12/05 02:41:35 jtc Exp $
d134 1
a134 1
Seconds, a number from 0 to 61 (59 plus a a maximum of two leap seconds).
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
.\"	$NetBSD: date.1,v 1.10 1995/09/07 06:21:04 jtc Exp $
d168 1
a168 1
.Sh ENVIRONMENTAL VARIABLES
@


1.1.1.1
log
@initial import of NetBSD tree
@
text
@@
