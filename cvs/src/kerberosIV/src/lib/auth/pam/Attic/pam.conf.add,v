head	1.2;
access;
symbols
	OPENBSD_3_3:1.1.1.3.0.4
	OPENBSD_3_3_BASE:1.1.1.3
	OPENBSD_3_2:1.1.1.3.0.2
	OPENBSD_3_2_BASE:1.1.1.3
	KRB4_1_1_1:1.1.1.3
	OPENBSD_3_1:1.1.1.2.0.8
	OPENBSD_3_1_BASE:1.1.1.2
	OPENBSD_3_0:1.1.1.2.0.6
	OPENBSD_3_0_BASE:1.1.1.2
	KRB4_1_0_8:1.1.1.2
	OPENBSD_2_9:1.1.1.2.0.4
	OPENBSD_2_9_BASE:1.1.1.2
	KRB4_1_0_4:1.1.1.2
	OPENBSD_2_8:1.1.1.2.0.2
	OPENBSD_2_8_BASE:1.1.1.2
	KRB4_1_0_2:1.1.1.2
	OPENBSD_2_7:1.1.1.1.0.2
	OPENBSD_2_7_BASE:1.1.1.1
	KRB4_1_0:1.1.1.1
	KTH:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2003.05.16.18.45.38;	author mho;	state dead;
branches;
next	1.1;

1.1
date	2000.02.25.15.36.58;	author hin;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.02.25.15.36.58;	author hin;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2000.07.11.09.07.18;	author hin;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2002.06.08.21.07.54;	author hin;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Bye, bye, kerberosIV; ok hin@@
@
text
@To enable PAM in dtlogin and /bin/login under SunOS 5.6 apply this patch:

--- /etc/pam.conf.DIST	Mon Jul 20 15:37:46 1998
+++ /etc/pam.conf	Tue Nov 30 18:47:22 1999
@@@@ -4,12 +4,14 @@@@
 #
 # Authentication management
 #
+login	auth sufficient	/usr/athena/lib/pam_krb4.so
 login	auth required 	/usr/lib/security/pam_unix.so.1 
 login	auth required 	/usr/lib/security/pam_dial_auth.so.1 
 #
 rlogin  auth sufficient /usr/lib/security/pam_rhosts_auth.so.1
 rlogin	auth required 	/usr/lib/security/pam_unix.so.1
 #
+dtlogin	auth sufficient	/usr/athena/lib/pam_krb4.so
 dtlogin	auth required 	/usr/lib/security/pam_unix.so.1 
 #
 rsh	auth required	/usr/lib/security/pam_rhosts_auth.so.1
@@@@ -24,6 +26,8 @@@@
 #
 # Session management
 #
+dtlogin	session	required	/usr/athena/lib/pam_krb4.so
+login	session	required	/usr/athena/lib/pam_krb4.so
 other	session required	/usr/lib/security/pam_unix.so.1 
 #
 # Password management
---------------------------------------------------------------------------
To enable PAM in /bin/login and xdm under Red Hat 6.1 apply these patches:

--- /etc/pam.d/login~   Thu Jul  8 00:14:02 1999
+++ /etc/pam.d/login    Mon Aug 30 14:33:12 1999
@@@@ -1,9 +1,12 @@@@
 #%PAM-1.0
+# Updated to work with kerberos
+auth       sufficient   /lib/security/pam_krb4.so
 auth       required    /lib/security/pam_securetty.so
 auth       required    /lib/security/pam_pwdb.so shadow nullok
 auth       required    /lib/security/pam_nologin.so
 account    required    /lib/security/pam_pwdb.so
 password   required    /lib/security/pam_cracklib.so
 password   required    /lib/security/pam_pwdb.so nullok use_authtok shadow
+session    required     /lib/security/pam_krb4.so
 session    required    /lib/security/pam_pwdb.so
 session    optional    /lib/security/pam_console.so
--- /etc/pam.d/xdm~     Mon Jun 14 17:39:05 1999
+++ /etc/pam.d/xdm      Mon Aug 30 14:54:51 1999
@@@@ -1,8 +1,10 @@@@
 #%PAM-1.0
+auth       sufficient   /lib/security/pam_krb4.so
 auth       required    /lib/security/pam_pwdb.so shadow nullok
 auth       required    /lib/security/pam_nologin.so
 account    required    /lib/security/pam_pwdb.so
 password   required    /lib/security/pam_cracklib.so
 password   required    /lib/security/pam_pwdb.so shadow nullok use_authtok
+session    required     /lib/security/pam_krb4.so
 session    required    /lib/security/pam_pwdb.so
 session    optional     /lib/security/pam_console.so
--------------------------------------------------------------------------

This stuff may work under some other system.

# To get this to work, you will have to add entries to /etc/pam.conf
#
# To make login kerberos-aware, you might change pam.conf to look
# like:

# login authorization
login   auth       sufficient   /lib/security/pam_krb4.so
login   auth       required     /lib/security/pam_securetty.so
login   auth       required     /lib/security/pam_unix_auth.so
login   account    required     /lib/security/pam_unix_acct.so
login   password   required     /lib/security/pam_unix_passwd.so
login   session    required     /lib/security/pam_krb4.so
login   session    required     /lib/security/pam_unix_session.so
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Importing KTH Kerberos4 version 1.0
(art@@ ok)
@
text
@@


1.1.1.2
log
@Import of KTH Kerberos4 1.0.2
@
text
@d4 2
a5 2
+++ /etc/pam.conf	Tue Feb 15 19:39:12 2000
@@@@ -4,15 +4,19 @@@@
d20 1
a20 6
+# Reafslog is for dtlogin lock display
+other	auth sufficient	/usr/athena/lib/pam_krb4.so reafslog
 other	auth required	/usr/lib/security/pam_unix.so.1
 #
 # Account management
@@@@ -24,6 +28,8 @@@@
d24 2
a25 2
+dtlogin	session required	/usr/athena/lib/pam_krb4.so
+login	session required	/usr/athena/lib/pam_krb4.so
@


1.1.1.3
log
@Import of krb4-1.1.1
@
text
@d35 1
a35 1
To enable PAM in /bin/login and xdm under Red Hat 6.? apply these patches:
d37 2
a38 2
--- /etc/pam.d/login~	Tue Dec  7 12:01:35 1999
+++ /etc/pam.d/login	Wed May 31 16:27:55 2000
d42 13
a54 13
+auth       sufficient   /usr/athena/lib/pam_krb4.so.1.0.1
 auth       required	/lib/security/pam_securetty.so
 auth       required	/lib/security/pam_pwdb.so shadow nullok
 auth       required	/lib/security/pam_nologin.so
 account    required	/lib/security/pam_pwdb.so
 password   required	/lib/security/pam_cracklib.so
 password   required	/lib/security/pam_pwdb.so nullok use_authtok md5 shadow
+session    required     /usr/athena/lib/pam_krb4.so.1.0.1
 session    required	/lib/security/pam_pwdb.so
 session    optional	/lib/security/pam_console.so
--- /etc/pam.d/xdm~	Wed May 31 16:33:54 2000
+++ /etc/pam.d/xdm	Wed May 31 16:28:29 2000
@@@@ -1,8 +1,11 @@@@
d56 8
a63 9
+# Updated to work with kerberos
+auth       sufficient   /usr/athena/lib/pam_krb4.so.1.0.1
 auth       required	/lib/security/pam_pwdb.so shadow nullok
 auth       required	/lib/security/pam_nologin.so
 account    required	/lib/security/pam_pwdb.so
 password   required	/lib/security/pam_cracklib.so
 password   required	/lib/security/pam_pwdb.so shadow nullok use_authtok
+session    required     /usr/athena/lib/pam_krb4.so.1.0.1
 session    required	/lib/security/pam_pwdb.so
a64 15
--- /etc/pam.d/gdm~	Wed May 31 16:33:54 2000
+++ /etc/pam.d/gdm	Wed May 31 16:34:28 2000
@@@@ -1,8 +1,11 @@@@
 #%PAM-1.0
+# Updated to work with kerberos
+auth       sufficient   /usr/athena/lib/pam_krb4.so.1.0.1
 auth       required	/lib/security/pam_pwdb.so shadow nullok
 auth       required	/lib/security/pam_nologin.so
 account    required	/lib/security/pam_pwdb.so
 password   required	/lib/security/pam_cracklib.so
 password   required	/lib/security/pam_pwdb.so shadow nullok use_authtok
+session    required     /usr/athena/lib/pam_krb4.so.1.0.1
 session    required	/lib/security/pam_pwdb.so
 session    optional     /lib/security/pam_console.so

@


