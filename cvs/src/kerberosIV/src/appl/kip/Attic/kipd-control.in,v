head	1.2;
access;
symbols
	OPENBSD_3_3:1.1.1.1.0.12
	OPENBSD_3_3_BASE:1.1.1.1
	OPENBSD_3_2:1.1.1.1.0.10
	OPENBSD_3_2_BASE:1.1.1.1
	KRB4_1_1_1:1.1.1.1
	OPENBSD_3_1:1.1.1.1.0.8
	OPENBSD_3_1_BASE:1.1.1.1
	OPENBSD_3_0:1.1.1.1.0.6
	OPENBSD_3_0_BASE:1.1.1.1
	KRB4_1_0_8:1.1.1.1
	OPENBSD_2_9:1.1.1.1.0.4
	OPENBSD_2_9_BASE:1.1.1.1
	KRB4_1_0_4:1.1.1.1
	OPENBSD_2_8:1.1.1.1.0.2
	OPENBSD_2_8_BASE:1.1.1.1
	KRB4_1_0_2:1.1.1.1
	KTH:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2003.05.16.18.45.34;	author mho;	state dead;
branches;
next	1.1;

1.1
date	2000.07.11.09.05.58;	author hin;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.07.11.09.05.58;	author hin;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Bye, bye, kerberosIV; ok hin@@
@
text
@#!/bin/sh
#
# $Id: kipd-control.in,v 1.1 2000/07/11 09:05:58 hin Exp $
#
# Simple example how you can missuse kip to provide "mobile-ip".
# This is since there is no way to tunnel ip over udp or any other
# protocol. There is also problems to get thru firewalls and NATs
# with mobile-ip since (today) they usully doesn't support IPIP or
# GRE.
#
# All commands are for linux (redhat6.1) but it should be quite 
# simple to fix it to support other OS.
#

PATH=/sbin:/usr/sbin:/usr/bin:/bin

# arguments are: [up|down] dev remote-peer-addr user

state=$1
dev=$2
remote=$3
user=$4

outdevice=eth0

case "$state" in
    up)
        case "$user" in
            lha.root@@E.KTH.SE)
                ifconfig $dev 10.0.0.1 pointopoint 130.237.43.17
                route add -host 130.237.43.17 gw 10.0.0.1
                arp -H ether -i $outdevice \
                    -s 130.237.43.17 00:80:c8:82:83:61 pub
            ;;
        esac
        ;;
    down)
        case "$user" in
            lha.root@@E.KTH.SE)
                ifconfig $dev 0.0.0.0
                ifconfig $dev down
                arp -i $outdevice -d 130.237.43.17
                arp -d 130.237.43.17
                true
            ;;
        *)
            ifconfig $dev down
            ;;
        esac
        ;;
    *)
        exit 17
        ;;
esac
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
# $Id$
@


1.1.1.1
log
@Import of KTH Kerberos4 1.0.2
@
text
@@
