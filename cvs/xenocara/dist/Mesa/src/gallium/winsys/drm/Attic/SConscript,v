head	1.2;
access;
symbols
	OPENBSD_5_0:1.1.0.6
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.4
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.10.23.13.37.36;	author matthieu;	state dead;
branches;
next	1.1;

1.1
date	2010.05.22.20.06.09;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Merge Mesa 7.10.3
@
text
@Import('*')

if env['dri']:

	drienv = env.Clone()

	drienv.Replace(CPPPATH = [
		'#src/mesa/drivers/dri/common',
		'#include',
		'#include/GL/internal',
		'#src/gallium/include',
		'#src/gallium/auxiliary',
		'#src/gallium/drivers',
		'#src/mesa',
		'#src/mesa/main',
		'#src/mesa/glapi',
		'#src/mesa/math',
		'#src/mesa/transform',
		'#src/mesa/shader',
		'#src/mesa/swrast',
		'#src/mesa/swrast_setup',
		'#src/egl/main',
		'#src/egl/drivers/dri',
	])

	drienv.ParseConfig('pkg-config --cflags --libs libdrm')

	COMMON_GALLIUM_SOURCES = [
		'#src/mesa/drivers/dri/common/utils.c',
		'#src/mesa/drivers/dri/common/vblank.c',
		'#src/mesa/drivers/dri/common/dri_util.c',
		'#src/mesa/drivers/dri/common/xmlconfig.c',
	]

	COMMON_BM_SOURCES = [
		'#src/mesa/drivers/dri/common/dri_bufmgr.c',
		'#src/mesa/drivers/dri/common/dri_drmpool.c',
	]

	Export([
		'drienv',
		'COMMON_GALLIUM_SOURCES',
		'COMMON_BM_SOURCES',
	])

	# TODO: Installation
	#install: $(LIBNAME)
	#	$(INSTALL) -d $(DRI_DRIVER_INSTALL_DIR)
	#	$(INSTALL) -m 755 $(LIBNAME) $(DRI_DRIVER_INSTALL_DIR)

	if 'vmware' in env['winsys']:
		SConscript([
			'vmware/SConscript',
		])

	if 'intel' in env['winsys']:
		SConscript([
			'intel/SConscript',
		])

	if 'i965' in env['winsys']:
		SConscript([
			'i965/SConscript',
		])

	if 'radeon' in env['winsys']:
		SConscript([
			'radeon/SConscript',
		])
@


1.1
log
@Update to Mesa 7.8.1. Tested on a bulk ports build by naddy@@, ok oga@@.
@
text
@@

