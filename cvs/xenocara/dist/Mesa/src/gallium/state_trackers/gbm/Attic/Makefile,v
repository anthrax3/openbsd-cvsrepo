head	1.2;
access;
symbols
	OPENBSD_5_4:1.1.0.4
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.2
	OPENBSD_5_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2013.09.05.14.01.48;	author jsg;	state dead;
branches;
next	1.1;

1.1
date	2012.08.17.13.58.07;	author mpi;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Merge Mesa 9.2.0
@
text
@TOP = ../../../..
include $(TOP)/configs/current

gbm_INCLUDES = \
	-I. \
	-I$(TOP)/src/gallium/include \
	-I$(TOP)/src/gallium/auxiliary \
	-I$(TOP)/src/gbm/main \
	-I$(TOP)/include

gbm_SOURCES = $(wildcard *.c)
gbm_OBJECTS = $(gbm_SOURCES:.c=.o)

ALL_INCLUDES = $(gbm_INCLUDES)
ALL_SOURCES = $(gbm_SOURCES)

GBM_OBJECTS = $(gbm_OBJECTS)
GBM_CPPFLAGS = $(gbm_INCLUDES)

##### TARGETS #####

default: depend libgbm.a

libgbm.a: $(GBM_OBJECTS) Makefile
	$(MKLIB) -o gbm -static $(GBM_OBJECTS)

depend: 
	rm -f depend
	touch depend
	$(MKDEP) $(MKDEP_OPTIONS) $(ALL_INCLUDES) $(ALL_SOURCES) 2> /dev/null

clean:
	rm -f libgbm.a
	rm -f $(GBM_OBJECTS)
	rm -f depend depend.bak

# Dummy target
install:
	@@echo -n ""

##### RULES #####

$(gbm_OBJECTS): %.o: %.c
	$(CC) -c $(GBM_CPPFLAGS) $(DEFINES) $(CFLAGS) $< -o $@@

sinclude depend
@


1.1
log
@Upate to libGL 7.11.2

Tested by jsg@@, matthieu@@ and ajacoutot@@, ok mattieu@@
@
text
@@

