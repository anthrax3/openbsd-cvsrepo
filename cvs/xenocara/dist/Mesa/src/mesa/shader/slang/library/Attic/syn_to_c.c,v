head	1.2;
access;
symbols
	OPENBSD_4_7:1.1.1.1.0.12
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.10
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.8
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.6
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.4
	v7_0_1:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	v6_5_2:1.1.1.1
	v6_5_1:1.1.1.1
	mesa:1.1.1;
locks; strict;
comment	@ * @;


1.2
date	2010.05.22.20.06.33;	author matthieu;	state dead;
branches;
next	1.1;

1.1
date	2006.11.25.18.51.14;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.25.18.51.14;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to Mesa 7.8.1. Tested on a bulk ports build by naddy@@, ok oga@@.
@
text
@#include <stdio.h>

static int was_space = 0;
static int first_char = 1;

static void put_char (int c)
{
   if (c == '\n') {
      if (!first_char) {
         fputs ("\\n\"\n\"", stdout);
         first_char = 1;
      }
   }
   else {
      first_char = 0;
      if (c == '\\')
         fputs ("\\\\", stdout);
      else if (c == '\"')
         fputs ("\\\"", stdout);
      else if (!was_space || !(c == ' ' || c == '\t'))
         fputc (c, stdout);
      was_space = (c == ' ' || c == '\t');
   }
}

int main (int argc, char *argv[])
{
   int c;
   FILE *f;

   if (argc == 1)
      return 1;
   f = fopen (argv[1], "r");
   if (f == NULL)
      return 1;

   fputs ("\n", stdout);
   fputs ("/* DO NOT EDIT - THIS FILE IS AUTOMATICALLY GENERATED FROM THE .syn FILE */\n", stdout);
   fputs ("\n", stdout);
   fputs ("\"", stdout);
   c = getc (f);
   while (c != EOF) {
      if (c == '/') {
         int c2 = getc (f);
         if (c2 == '*') {
            was_space = 0;
            c = getc (f);
            for (;;) {
               if (c == '*') {
                  c2 = getc (f);
                  if (c2 == '/')
                     break;
               }
               c = getc (f);
            }
         }
         else {
            put_char (c);
            put_char (c2);
         }
      }
      else {
         put_char (c);
      }
      c = getc (f);
   }
   fputs ("\"\n", stdout);

   fclose (f);
   return 0;
}

@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Import MesaLibs 6.5.1. (in dist/ since its code is shared between lib 
and xserver)...
@
text
@@
