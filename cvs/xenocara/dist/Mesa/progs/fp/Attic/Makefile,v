head	1.3;
access;
symbols
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.0.6
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.4
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2011.05.31.18.50.21;	author matthieu;	state dead;
branches;
next	1.2;

1.2
date	2010.05.22.20.05.55;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2008.11.02.14.58.07;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Remove MesaDemos contents. Not used by Xenocara builds anymore.
@
text
@# progs/tests/Makefile


# These programs aren't intended to be included with the normal distro.
# They're not too interesting but they're good for testing.

TOP = ../..
include $(TOP)/configs/current


LIBS = -L$(TOP)/$(LIB_DIR) -l$(GLUT_LIB) -l$(GLEW_LIB) -l$(GLU_LIB) -l$(GL_LIB) $(APP_LIB_DEPS)

SOURCES = \
	tri-tex.c \
	point-position.c \
	tri-depth.c \
	tri-depth2.c \
	tri-depthwrite.c \
	tri-depthwrite2.c \
        tri-param.c \
        fp-tri.c

NOTDONE=\
	tri-txb.c \
	tri-txp.c \
	tri-depthwrite.c \
	tri-fogoption.c 


PROGS = $(SOURCES:%.c=%)

INCLUDES = -I. -I$(TOP)/include -I../samples

UTIL_FILES = readtex.h readtex.c


##### RULES #####

.SUFFIXES:
.SUFFIXES: .c

.c:
	$(APP_CC) $(INCLUDES) $(CFLAGS) $(LDFLAGS) $< $(LIBS) -o $@@

.c.o:
	$(APP_CC) -c $(INCLUDES) $(CFLAGS) $(DEFINES) $< -o $@@

.S.o:
	$(APP_CC) -c $(INCLUDES) $(CFLAGS) $(DEFINES)  $< -o $@@


##### TARGETS #####

default: $(UTIL_FILES) $(PROGS)

clean:
	-rm -f $(PROGS)
	-rm -f *.o


texrect: texrect.o readtex.o
	$(CC) $(CFLAGS) $(LDFLAGS) texrect.o readtex.o $(LIBS) -o $@@
#	$(APP_CC) texrect.o readtex.o $(LIBS) -o $@@

texrect.o: texrect.c readtex.h
	$(APP_CC) -c $(INCLUDES) $(CFLAGS) $(DEFINES) $< -o $@@

invert: invert.o readtex.o
	$(CC) $(CFLAGS) $(LDFLAGS) invert.o readtex.o $(LIBS) -o $@@
#	$(APP_CC) invert.o readtex.o $(LIBS) -o $@@

invert.o: invert.c readtex.h
	$(APP_CC) -c $(INCLUDES) $(CFLAGS) $(DEFINES) $< -o $@@

readtex.o: readtex.c
	$(APP_CC) -c $(INCLUDES) $(CFLAGS) $(DEFINES) $< -o $@@


readtex.h: $(TOP)/progs/util/readtex.h
	ln -s $(TOP)/progs/util/readtex.h .

readtex.c: $(TOP)/progs/util/readtex.c
	ln -s $(TOP)/progs/util/readtex.c .




# Emacs tags
tags:
	etags `find . -name \*.[ch]` `find ../include`
@


1.2
log
@Update to Mesa 7.8.1. Tested on a bulk ports build by naddy@@, ok oga@@.
@
text
@@


1.1
log
@Mesa 7.2, Tested by ckuethe@@, naddy@@, oga@@, and others.
@
text
@d11 1
a11 1
LIBS = -L$(TOP)/$(LIB_DIR) -l$(GLUT_LIB) -l$(GLU_LIB) -l$(GL_LIB) $(APP_LIB_DEPS)
a13 32
	tri-abs.c \
	tri-add.c \
	tri-cmp.c \
	tri-cos.c \
	tri-dp3.c \
	tri-dp4.c \
	tri-dph.c \
	tri-dst.c \
	tri-ex2.c \
	tri-flr.c \
	tri-frc.c \
	tri-kil.c \
	tri-lg2.c \
	tri-lit.c \
	tri-lrp.c \
	tri-mad.c \
	tri-max.c \
	tri-min.c \
	tri-mov.c \
	tri-mul.c \
	tri-pow.c \
	tri-param.c \
	tri-rcp.c \
	tri-rsq.c \
	tri-scs.c \
	tri-sge.c \
	tri-sge2.c \
	tri-sin.c \
	tri-slt.c \
	tri-sub.c \
	tri-swz.c \
	tri-swz2.c \
a14 2
	tri-xpd.c \
	tri-position.c \
d20 2
d43 1
a43 1
	$(CC) $(INCLUDES) $(CFLAGS) $(LDFLAGS) $< $(LIBS) -o $@@
d46 1
a46 1
	$(CC) -c $(INCLUDES) $(CFLAGS) $(DEFINES) $< -o $@@
d49 1
a49 1
	$(CC) -c $(INCLUDES) $(CFLAGS) $(DEFINES)  $< -o $@@
a58 8
	-rm -f getproclist.h


# auto code generation
getprocaddress: getprocaddress.c getproclist.h

getproclist.h: $(TOP)/src/mesa/glapi/gl_API.xml getprocaddress.c getprocaddress.py
	python getprocaddress.py > getproclist.h
d63 1
d66 1
a66 1
	$(CC) -c $(INCLUDES) $(CFLAGS) $(DEFINES) $< -o $@@
d70 1
d73 1
a73 1
	$(CC) -c $(INCLUDES) $(CFLAGS) $(DEFINES) $< -o $@@
d76 1
a76 1
	$(CC) -c $(INCLUDES) $(CFLAGS) $(DEFINES) $< -o $@@
@

