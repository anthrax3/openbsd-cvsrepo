head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.12
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.10
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.8
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.6
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.4
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.3.0.12
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.10
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.8
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.6
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.4
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.1.1.0.8
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.4
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.2
	OPENBSD_4_6_BASE:1.1.1.1
	v1_6:1.1.1.1
	XKEYBOARD_CONFIG:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2014.05.05.18.05.34;	author shadchin;	state Exp;
branches;
next	1.3;

1.3
date	2011.04.10.17.08.50;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.01.10.14.25.57;	author shadchin;	state Exp;
branches;
next	1.1;

1.1
date	2009.06.06.17.52.29;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.06.06.17.52.29;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to xkeyboard-config 2.11.

ok matthieu@@
@
text
@SUBDIRS = bin compat

if CREATE_RULES_SYMLINK
#  extra_rules_file = $(xkb_rules_symlink)
#  extra_dir_file   = $(extra_rules_file).xml 
#  extra_lst_file   = $(extra_rules_file).lst

install-data-hook:
	for file in `echo "$(xkb_rules_symlink)" | sed 's/,/ /'` ; do \
		extra_rules_file=$$file ; \
		extra_dir_file=$$extra_rules_file.xml ; \
		extra_lst_file=$$extra_rules_file.lst ; \
		ln -sf base     $(DESTDIR)$(rulesdir)/$$extra_rules_file ; \
		ln -sf base.lst $(DESTDIR)$(rulesdir)/$$extra_lst_file ; \
		ln -sf base.xml $(DESTDIR)$(rulesdir)/$$extra_dir_file ; \
	done

else
install-data-hook:

endif

if USE_COMPAT_RULES

base_parts = base.hdr.part base.lists.part \
base.lists.base.part \
compat/base.lists.part \
HDR base.m_k.part \
HDR base.l1_k.part \
HDR base.l_k.part \
HDR base.o_k.part \
HDR base.ml_g.part \
HDR base.m_g.part \
HDR compat/base.mlv_s.part   base.mlv_s.part \
HDR compat/base.ml_s.part    base.ml_s.part  \
HDR compat/base.ml1_s.part   base.ml1_s.part \
HDR compat/base.ml1v1_s.part \
HDR compat/base.ml2_s.part    base.ml2_s.part  \
HDR compat/base.ml3_s.part    base.ml3_s.part  \
HDR compat/base.ml4_s.part    base.ml4_s.part  \
HDR compat/base.ml2v2_s.part  \
HDR compat/base.ml3v3_s.part  \
HDR compat/base.ml4v4_s.part  \
HDR base.m_s.part \
HDR base.ml_s1.part \
HDR compat/base.lv_c.part   \
HDR compat/base.l1v1_c.part \
HDR compat/base.l2v2_c.part \
HDR compat/base.l3v3_c.part \
HDR compat/base.l4v4_c.part \
HDR base.ml_c.part \
HDR base.ml1_c.part \
HDR base.m_t.part \
HDR base.lo_s.part \
HDR base.l1o_s.part \
HDR base.l2o_s.part \
HDR base.l3o_s.part \
HDR base.l4o_s.part \
HDR compat/base.o_s.part     base.o_s.part \
HDR base.o_c.part \
HDR base.o_t.part

evdev_parts = base.hdr.part base.lists.part \
evdev.lists.part \
compat/base.lists.part \
HDR evdev.m_k.part \
HDR base.l1_k.part \
HDR base.l_k.part \
HDR base.o_k.part \
HDR base.ml_g.part \
HDR base.m_g.part \
HDR compat/base.mlv_s.part   base.mlv_s.part \
HDR compat/base.ml_s.part    base.ml_s.part  \
HDR compat/base.ml1_s.part   base.ml1_s.part \
HDR compat/base.ml1v1_s.part \
HDR compat/base.ml2_s.part    base.ml2_s.part  \
HDR compat/base.ml3_s.part    base.ml3_s.part  \
HDR compat/base.ml4_s.part    base.ml4_s.part  \
HDR compat/base.ml2v2_s.part  \
HDR compat/base.ml3v3_s.part  \
HDR compat/base.ml4v4_s.part  \
HDR evdev.m_s.part \
HDR \
HDR compat/base.lv_c.part   \
HDR compat/base.l1v1_c.part \
HDR compat/base.l2v2_c.part \
HDR compat/base.l3v3_c.part \
HDR compat/base.l4v4_c.part \
HDR base.ml_c.part \
HDR base.ml1_c.part \
HDR base.m_t.part \
HDR base.lo_s.part \
HDR base.l1o_s.part \
HDR base.l2o_s.part \
HDR base.l3o_s.part \
HDR base.l4o_s.part \
HDR compat/base.o_s.part     base.o_s.part \
HDR base.o_c.part \
HDR base.o_t.part

else

base_parts = base.hdr.part base.lists.part \
base.lists.base.part \
HDR base.m_k.part \
HDR base.l1_k.part \
HDR base.l_k.part \
HDR \
HDR base.ml_g.part \
HDR base.m_g.part \
HDR base.mlv_s.part \
HDR base.ml_s.part  \
HDR base.ml1_s.part \
HDR \
HDR base.ml2_s.part  \
HDR base.ml3_s.part  \
HDR base.ml4_s.part  \
HDR \
HDR \
HDR \
HDR base.m_s.part \
HDR base.ml_s1.part \
HDR \
HDR \
HDR \
HDR \
HDR \
HDR base.ml_c.part \
HDR base.ml1_c.part \
HDR base.m_t.part \
HDR \
HDR base.l1o_s.part \
HDR base.l2o_s.part \
HDR base.l3o_s.part \
HDR base.l4o_s.part \
HDR base.o_s.part \
HDR base.o_c.part \
HDR base.o_t.part

evdev_parts = base.hdr.part base.lists.part \
evdev.lists.part \
HDR evdev.m_k.part \
HDR base.l1_k.part \
HDR base.l_k.part  \
HDR \
HDR base.ml_g.part \
HDR base.m_g.part \
HDR base.mlv_s.part \
HDR base.ml_s.part  \
HDR base.ml1_s.part \
HDR \
HDR base.ml2_s.part  \
HDR base.ml3_s.part  \
HDR base.ml4_s.part  \
HDR \
HDR \
HDR \
HDR evdev.m_s.part \
HDR \
HDR \
HDR \
HDR \
HDR \
HDR \
HDR base.ml_c.part \
HDR base.ml1_c.part \
HDR base.m_t.part \
HDR \
HDR base.l1o_s.part \
HDR base.l2o_s.part \
HDR base.l3o_s.part \
HDR base.l4o_s.part \
HDR base.o_s.part \
HDR base.o_c.part \
HDR base.o_t.part

endif

all_parts_dist = HDR base.hdr.part \
base.lists.part \
base.lists.base.part \
evdev.lists.part \
base.m_k.part \
base.l1_k.part \
base.l_k.part \
base.o_k.part \
base.ml_g.part \
base.m_g.part \
base.mlv_s.part \
base.ml_s.part \
base.ml1_s.part \
base.ml2_s.part \
base.ml3_s.part \
base.ml4_s.part \
base.m_s.part \
base.ml_s1.part \
base.ml_c.part \
base.ml1_c.part \
base.m_t.part \
base.lo_s.part \
base.l1o_s.part \
base.l2o_s.part \
base.l3o_s.part \
base.l4o_s.part \
base.o_s.part \
base.o_c.part \
base.o_t.part \
evdev.m_k.part \
evdev.m_s.part

rules_files = base evdev xfree98

lst_files = base.lst evdev.lst

%.lst: %.xml
	perl $(srcdir)/xml2lst.pl < $< > $@@

base: $(base_parts)
	HDR="$(srcdir)/HDR" $(srcdir)/merge.sh $@@ $(base_parts)

evdev: $(evdev_parts)
	HDR="$(srcdir)/HDR" $(srcdir)/merge.sh $@@ $(evdev_parts)

dist_files = xkb.dtd README

rules_DATA = $(rules_files) $(lst_files) $(dist_files)

xml_in_files = base.xml.in evdev.xml.in base.extras.xml.in evdev.extras.xml.in
xml_DATA = $(xml_in_files:.xml.in=.xml) 

$(srcdir)/evdev.xml.in: base.xml.in
	cp $< $@@

$(srcdir)/evdev.extras.xml.in: base.extras.xml.in
	cp $< $@@

EXTRA_DIST= $(xml_in_files) xfree98 \
            $(all_parts_dist) \
            xml2lst.pl merge.sh $(dist_files)

CLEANFILES = base base.xml base.lst evdev evdev.xml evdev.lst base.extras.xml evdev.extras.xml
MAINTAINERCLEANFILES = $(srcdir)/evdev.xml.in $(srcdir)/evdev.extras.xml.in

rulesdir = $(xkb_base)/rules
xmldir = $(rulesdir)

@@INTLTOOL_XML_NOMERGE_RULE@@
@


1.3
log
@Update xkeyboard-config to 2.2.1
* New structure of descriptions, massive changes in user-visible strings.
Special release for GNOME 3.

ok shadchin@@ matthieu@@
@
text
@d26 1
d45 1
d64 1
d83 1
d104 1
d122 1
d141 1
d164 1
d181 2
d196 1
@


1.2
log
@Update xkeyboard-config to 2.0
ok matthieu
@
text
@d1 1
a1 1
SUBDIRS = bin compat extras
d33 10
a42 10
HDR compat/base.mlv_s.part   extras/base.mlv_s.part   base.mlv_s.part \
HDR compat/base.ml_s.part    extras/base.ml_s.part    base.ml_s.part  \
HDR compat/base.ml1_s.part   extras/base.ml1_s.part   base.ml1_s.part \
HDR compat/base.ml1v1_s.part extras/base.ml1v1_s.part \
HDR compat/base.ml2_s.part    extras/base.ml2_s.part    base.ml2_s.part  \
HDR compat/base.ml3_s.part    extras/base.ml3_s.part    base.ml3_s.part  \
HDR compat/base.ml4_s.part    extras/base.ml4_s.part    base.ml4_s.part  \
HDR compat/base.ml2v2_s.part  extras/base.ml2v2_s.part \
HDR compat/base.ml3v3_s.part  extras/base.ml3v3_s.part \
HDR compat/base.ml4v4_s.part  extras/base.ml4v4_s.part \
d69 10
a78 10
HDR compat/base.mlv_s.part   extras/base.mlv_s.part   base.mlv_s.part \
HDR compat/base.ml_s.part    extras/base.ml_s.part    base.ml_s.part  \
HDR compat/base.ml1_s.part   extras/base.ml1_s.part   base.ml1_s.part \
HDR compat/base.ml1v1_s.part extras/base.ml1v1_s.part \
HDR compat/base.ml2_s.part    extras/base.ml2_s.part    base.ml2_s.part  \
HDR compat/base.ml3_s.part    extras/base.ml3_s.part    base.ml3_s.part  \
HDR compat/base.ml4_s.part    extras/base.ml4_s.part    base.ml4_s.part  \
HDR compat/base.ml2v2_s.part  extras/base.ml2v2_s.part \
HDR compat/base.ml3v3_s.part  extras/base.ml3v3_s.part \
HDR compat/base.ml4v4_s.part  extras/base.ml4v4_s.part \
d106 10
a115 10
HDR extras/base.mlv_s.part   base.mlv_s.part \
HDR extras/base.ml_s.part    base.ml_s.part  \
HDR extras/base.ml1_s.part   base.ml1_s.part \
HDR extras/base.ml1v1_s.part \
HDR extras/base.ml2_s.part    base.ml2_s.part  \
HDR extras/base.ml3_s.part    base.ml3_s.part  \
HDR extras/base.ml4_s.part    base.ml4_s.part  \
HDR extras/base.ml2v2_s.part \
HDR extras/base.ml3v3_s.part \
HDR extras/base.ml4v4_s.part \
d141 10
a150 10
HDR extras/base.mlv_s.part   base.mlv_s.part \
HDR extras/base.ml_s.part    base.ml_s.part  \
HDR extras/base.ml1_s.part   base.ml1_s.part \
HDR extras/base.ml1v1_s.part \
HDR extras/base.ml2_s.part    base.ml2_s.part  \
HDR extras/base.ml3_s.part    base.ml3_s.part  \
HDR extras/base.ml4_s.part    base.ml4_s.part  \
HDR extras/base.ml2v2_s.part \
HDR extras/base.ml3v3_s.part \
HDR extras/base.ml4v4_s.part \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
SUBDIRS = compat
d23 4
a26 1
base_parts_no_compat = base.hdr.part base.lists.part \
d30 1
d33 10
a42 8
HDR base.mlv_s.part \
HDR base.ml_s.part \
HDR base.ml1_s.part \
HDR \
HDR base.l2_s.part \
HDR base.l3_s.part \
HDR base.l4_s.part \
HDR HDR HDR \
d44 5
d52 1
d57 1
a57 1
HDR base.o_s.part \
d61 2
a62 1
evdev_parts_no_compat = base.hdr.part base.lists.part \
d65 2
a66 1
HDR base.l_k.part  \
d69 10
a78 8
HDR base.mlv_s.part \
HDR base.ml_s.part \
HDR base.ml1_s.part \
HDR \
HDR base.l2_s.part \
HDR base.l3_s.part \
HDR base.l4_s.part \
HDR HDR HDR \
d80 5
d88 1
d93 1
a93 1
HDR base.o_s.part \
d97 2
a98 1
if USE_COMPAT_RULES
a99 1
compat/base.lists.part \
d103 1
a103 1
HDR base.o_k.part \
d106 10
a115 10
HDR compat/base.mlv_s.part base.mlv_s.part \
HDR compat/base.ml_s.part base.ml_s.part  \
HDR compat/base.ml1_s.part base.ml1_s.part \
HDR compat/base.ml1v1_s.part \
HDR compat/base.l2_s.part base.l2_s.part  \
HDR compat/base.l3_s.part base.l3_s.part  \
HDR compat/base.l4_s.part base.l4_s.part  \
HDR compat/base.l2v2_s.part \
HDR compat/base.l3v3_s.part \
HDR compat/base.l4v4_s.part \
d117 5
d125 1
a125 1
HDR base.lo_s.part \
d130 1
a130 1
HDR compat/base.o_s.part base.o_s.part \
a134 1
compat/base.lists.part \
d137 2
a138 2
HDR base.l_k.part \
HDR base.o_k.part \
d141 10
a150 10
HDR compat/base.mlv_s.part base.mlv_s.part \
HDR compat/base.ml_s.part base.ml_s.part  \
HDR compat/base.ml1_s.part base.ml1_s.part \
HDR compat/base.ml1v1_s.part \
HDR compat/base.l2_s.part base.l2_s.part  \
HDR compat/base.l3_s.part base.l3_s.part  \
HDR compat/base.l4_s.part base.l4_s.part  \
HDR compat/base.l2v2_s.part \
HDR compat/base.l3v3_s.part \
HDR compat/base.l4v4_s.part \
d152 5
d160 1
a160 1
HDR base.lo_s.part \
d165 1
a165 1
HDR compat/base.o_s.part base.o_s.part \
d168 1
a168 3
else
base_parts = $(base_parts_no_compat)
evdev_parts = $(base_parts_no_compat)
d171 28
a198 1
base_parts_compat_dist = base.o_k.part base.lo_s.part
d207 1
a207 1
base: $(base_parts_no_compat)
d210 1
a210 1
evdev: $(evdev_parts_no_compat)
d217 1
a217 1
xml_in_files = base.xml.in evdev.xml.in
d223 3
d227 1
a227 3
            $(base_parts_no_compat) \
            $(evdev_parts_no_compat) \
            $(base_parts_compat_dist) \
d230 2
a231 2
CLEANFILES = base base.xml base.lst evdev evdev.xml evdev.lst
MAINTAINERCLEANFILES = $(srcdir)/evdev.xml.in
@


1.1.1.1
log
@Import xkeyboard-config version 1.6.
@
text
@@
