head	1.6;
access;
symbols
	OPENBSD_6_0:1.6.0.2
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.5.0.8
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.6
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.4
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.2
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.4.0.16
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.14
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.12
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.10
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.8
	OPENBSD_5_0:1.4.0.6
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.2.0.4
	OPENBSD_4_4_BASE:1.1.1.2
	OPENBSD_4_3_BASE:1.1.1.2
	OPENBSD_4_3:1.1.1.2.0.2
	v1_4_0_90:1.1.1.2
	v1_4:1.1.1.2
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	v1_2_0:1.1.1.1
	v1_1_99_903:1.1.1.1
	v1_1_99_902:1.1.1.1
	xorg:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2016.05.29.12.02.38;	author matthieu;	state Exp;
branches;
next	1.5;
commitid	s0SI41sEunLdyFfd;

1.5
date	2014.05.02.19.27.49;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2010.07.27.19.02.34;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2009.09.06.19.44.27;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2008.11.02.15.26.23;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.18.21.42;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.26.18.21.42;	author matthieu;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2007.11.24.17.57.32;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to xserver 1.18.3. Tested by shadchin@@ and naddy@@.

Note that indirect GLX is now disbled by default.
@
text
@if SOLARIS_VT
VTSW_SRC = sun_VTsw.c
else
VTSW_SRC = $(srcdir)/../shared/VTsw_noop.c
endif

if AGP
AGP_SRC = sun_agp.c
else
AGP_SRC = $(srcdir)/../shared/agp_noop.c
endif

SOLARIS_INOUT_SRC = solaris-@@SOLARIS_INOUT_ARCH@@.S
DISTCLEANFILES = solaris-@@SOLARIS_INOUT_ARCH@@.il

solaris-@@SOLARIS_INOUT_ARCH@@.il: solaris-@@SOLARIS_INOUT_ARCH@@.S
	$(CPP) -P -DINLINE_ASM $(srcdir)/solaris-@@SOLARIS_INOUT_ARCH@@.S > $@@

noinst_LTLIBRARIES = libsolaris.la
libsolaris_la_SOURCES = sun_init.c \
	sun_vid.c sun_bell.c $(AGP_SRC) sun_apm.c \
	$(srcdir)/../shared/kmod_noop.c \
	$(srcdir)/../shared/posix_tty.c \
	$(srcdir)/../shared/sigio.c \
	$(srcdir)/../shared/vidmem.c \
	$(VTSW_SRC)
nodist_libsolaris_la_SOURCES = $(SOLARIS_INOUT_SRC)

sdk_HEADERS =
nodist_sdk_HEADERS = solaris-@@SOLARIS_INOUT_ARCH@@.il

AM_CFLAGS = -DUSESTDRES -DHAVE_SYSV_IPC $(XORG_CFLAGS) $(DIX_CFLAGS)

AM_CPPFLAGS = $(XORG_INCS) 

EXTRA_DIST = solaris-amd64.S solaris-ia32.S solaris-sparcv8plus.S sun_inout.s
@


1.5
log
@Update to xserver 1.15.1.

Tested by at least ajacoutot@@, dcoppa@@ & jasper@@
@
text
@d36 1
a36 2
EXTRA_DIST = solaris-amd64.S solaris-ia32.S solaris-sparcv8plus.S \
	apSolaris.shar sun_inout.s
@


1.4
log
@Update to xserver 1.8. Tested by many. Ok oga@@, todd@@.
@
text
@d34 1
a34 1
INCLUDES = $(XORG_INCS) 
@


1.3
log
@update to xserver 1.6.4rc1. Tested by many, ok oga@@.
@
text
@d1 2
a2 2
if SOLARIS_USL_CONSOLE
VTSW_SRC = $(srcdir)/../shared/VTsw_usl.c
d7 1
a7 2
# TODO: Don't build agpgart on SPARC
#if defined(i386Architecture) || defined(AMD64Architecture)
d9 3
a11 3
#else
#AGP_SRC = $(srcdir)/../shared/agp_noop.c
#endif
d17 1
a17 1
	$(CPP) -P -DINLINE_ASM solaris-@@SOLARIS_INOUT_ARCH@@.S > $@@
d23 2
a24 2
	$(srcdir)/../shared/posix_tty.c $(srcdir)/../shared/sigiostubs.c \
	$(srcdir)/../shared/stdResource.c \
d29 1
a29 1
sdk_HEADERS = agpgart.h
@


1.2
log
@xserver 1.5.2. tested by ckuethe@@, oga@@, and others.
@
text
@d21 2
a22 2
libsolaris_la_SOURCES = sun_bios.c sun_init.c \
	sun_mouse.c sun_vid.c sun_bell.c $(AGP_SRC) sun_apm.c \
d26 1
@


1.1
log
@Initial revision
@
text
@a1 2
IO_SRC   = $(srcdir)/../sysv/sysv_io.c
KBD_SRCS = $(srcdir)/../shared/sysv_kbd.c $(srcdir)/../shared/std_kbdEv.c
a3 2
IO_SRC   = sun_io.c sun_kbd.h
KBD_SRCS = sun_kbd.c sun_kbdEv.c sun_kbd.h
d14 2
a15 2
SOLARIS_INOUT_SRC = solaris-$(SOLARIS_INOUT_ARCH).S
DISTCLEANFILES = solaris-$(SOLARIS_INOUT_ARCH).il
d17 2
a18 2
solaris-$(SOLARIS_INOUT_ARCH).il: solaris-${SOLARIS_INOUT_ARCH}.S
	$(CPP) -P -DINLINE_ASM solaris-${SOLARIS_INOUT_ARCH}.S > $@@
d21 3
a23 4
libsolaris_la_SOURCES = sun_bios.c sun_init.c $(IO_SRC) $(KBD_SRCS) \
	sun_mouse.c sun_vid.c $(AGP_SRC) \
	$(srcdir)/../shared/libc_wrapper.c \
	$(srcdir)/../shared/kmod_noop.c $(srcdir)/../shared/pm_noop.c \
d25 1
a25 1
	$(srcdir)/../shared/stdPci.c $(srcdir)/../shared/stdResource.c \
d30 1
a30 1
nodist_sdk_HEADERS = solaris-$(SOLARIS_INOUT_ARCH).il
d32 1
a32 1
AM_CFLAGS = -DUSESTDRES -DHAVE_SYSV_IPC $(XORG_CFLAGS)
@


1.1.1.1
log
@Importing xserver from X.Org 7.2RC2
@
text
@@


1.1.1.2
log
@xserver 1.4
@
text
@d2 2
d6 2
d18 2
a19 2
SOLARIS_INOUT_SRC = solaris-@@SOLARIS_INOUT_ARCH@@.S
DISTCLEANFILES = solaris-@@SOLARIS_INOUT_ARCH@@.il
d21 2
a22 2
solaris-@@SOLARIS_INOUT_ARCH@@.il: solaris-@@SOLARIS_INOUT_ARCH@@.S
	$(CPP) -P -DINLINE_ASM solaris-@@SOLARIS_INOUT_ARCH@@.S > $@@
d25 2
a26 2
libsolaris_la_SOURCES = sun_bios.c sun_init.c \
	sun_mouse.c sun_vid.c sun_bell.c $(AGP_SRC) sun_apm.c \
d28 1
a28 1
	$(srcdir)/../shared/kmod_noop.c \
d35 1
a35 1
nodist_sdk_HEADERS = solaris-@@SOLARIS_INOUT_ARCH@@.il
d37 1
a37 1
AM_CFLAGS = -DUSESTDRES -DHAVE_SYSV_IPC $(XORG_CFLAGS) $(DIX_CFLAGS)
@

