head	1.5;
access;
symbols
	OPENBSD_4_6:1.4.0.4
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.2
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.3.0.4
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	v1_4_0_90:1.1.1.2
	v1_4:1.1.1.2
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	v1_2_0:1.1.1.1
	v1_1_99_903:1.1.1.1
	v1_1_99_902:1.1.1.1
	xorg:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2009.09.06.19.44.28;	author matthieu;	state dead;
branches;
next	1.4;

1.4
date	2008.11.02.15.26.26;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.24.19.04.05;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2006.12.05.23.00.22;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.18.20.52;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.26.18.20.52;	author matthieu;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2007.11.24.17.58.33;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.5
log
@update to xserver 1.6.4rc1. Tested by many, ok oga@@.
@
text
@module_LTLIBRARIES = libxf1bpp.la

sdk_HEADERS = xf1bpp.h mfbmap.h mfbunmap.h

libxf1bpp_la_LDFLAGS = -avoid-version

libxf1bppgen_a_SOURCES = \
        mfbseg.c \
        mfbpgbwht.c \
        mfbpgbblak.c \
        mfbpgbinv.c \
        mfbigbwht.c \
        mfbigbblak.c \
        mfbpawhite.c \
        mfbpablack.c \
        mfbpainv.c \
        mfbtewhite.c \
        mfbteblack.c \
        mfbplywhite.c \
        mfbplyblack.c \
        mfbplyinv.c \
        mfbbltC.c \
        mfbbltX.c \
        mfbbltCI.c \
        mfbbltO.c \
        mfbbltG.c \
        mfbtileC.c \
        mfbtileG.c

libxf1bppmfb_a_SOURCES = \
        maskbits.c \
        mfbbitblt.c \
        mfbbres.c \
        mfbbresd.c \
        mfbclip.c \
        mfbcmap.c \
        mfbfillarc.c \
        mfbfillrct.c \
        mfbfillsp.c \
        mfbfont.c \
        mfbgc.c \
        mfbgetsp.c \
        mfbhrzvert.c \
        mfbimage.c \
        mfbline.c \
        mfbmisc.c \
        mfbpixmap.c \
        mfbpolypnt.c \
        mfbpushpxl.c \
        mfbscrclse.c \
        mfbscrinit.c \
        mfbsetsp.c \
        mfbwindow.c \
        mfbzerarc.c

BUILT_SOURCES = $(libxf1bppmfb_a_SOURCES) $(libxf1bppgen_a_SOURCES)

libxf1bpp_la_SOURCES = $(libxf1bppmfb_a_SOURCES) $(libxf1bppgen_a_SOURCES) \
        mfbmodule.c

AM_CFLAGS = -DXF86MONO $(DIX_CFLAGS) $(XORG_CFLAGS)
INCLUDES = $(XORG_INCS) -I$(top_srcdir)/mfb

mfbseg.c:
	echo "#define POLYSEGMENT" > $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbline.c\"" >> $@@
mfbpgbwht.c:
	echo "#define MFBPOLYGLYPHBLT xf1bppPolyGlyphBltWhite" > $@@
	echo "#define OPEQ |=" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbplygblt.c\"" >> $@@
mfbpgbblak.c:
	echo "#define MFBPOLYGLYPHBLT xf1bppPolyGlyphBltBlack" > $@@
	echo "#define OPEQ &=~" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbplygblt.c\"" >> $@@
mfbpgbinv.c:
	echo "#define MFBPOLYGLYPHBLT xf1bppPolyGlyphBltInvert" > $@@
	echo "#define OPEQ ^=" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbplygblt.c\"" >> $@@
mfbigbwht.c:
	echo "#define MFBIMAGEGLYPHBLT xf1bppImageGlyphBltWhite" > $@@
	echo "#define OPEQ |=" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbimggblt.c\"" >> $@@
mfbigbblak.c:
	echo "#define MFBIMAGEGLYPHBLT xf1bppImageGlyphBltBlack" > $@@
	echo "#define OPEQ &=~" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbimggblt.c\"" >> $@@
mfbpawhite.c:
	echo "#define MFBSOLIDFILLAREA xf1bppSolidWhiteArea" > $@@
	echo "#define MFBSTIPPLEFILLAREA xf1bppStippleWhiteArea" >> $@@
	echo "#define OPEQ |=" >> $@@
	echo "#define EQWHOLEWORD =~0" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbpntarea.c\"" >> $@@
mfbpablack.c:
	echo "#define MFBSOLIDFILLAREA xf1bppSolidBlackArea" > $@@
	echo "#define MFBSTIPPLEFILLAREA xf1bppStippleBlackArea" >> $@@
	echo "#define OPEQ &=~" >> $@@
	echo "#define EQWHOLEWORD =0" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbpntarea.c\"" >> $@@
mfbpainv.c:
	echo "#define MFBSOLIDFILLAREA xf1bppSolidInvertArea" > $@@
	echo "#define MFBSTIPPLEFILLAREA xf1bppStippleInvertArea" >> $@@
	echo "#define OPEQ ^=" >> $@@
	echo "#define EQWHOLEWORD ^=~0" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbpntarea.c\"" >> $@@
mfbtewhite.c:
	echo "#define OP" > $@@
	echo "#define CLIPTETEXT xf1bppImageGlyphBltWhite" >> $@@
	echo "#define MFBTEGLYPHBLT xf1bppTEGlyphBltWhite" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbtegblt.c\"" >> $@@
mfbteblack.c:
	echo "#define OP ~" > $@@
	echo "#define CLIPTETEXT xf1bppImageGlyphBltBlack" >> $@@
	echo "#define MFBTEGLYPHBLT xf1bppTEGlyphBltBlack" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbtegblt.c\"" >> $@@
mfbplywhite.c:
	echo "#define MFBFILLPOLY1RECT xf1bppFillPolyWhite" > $@@
	echo "#define OPEQ |=" >> $@@
	echo "#define EQWHOLEWORD =~0" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbply1rct.c\"" >> $@@
mfbplyblack.c:
	echo "#define MFBFILLPOLY1RECT xf1bppFillPolyBlack" > $@@
	echo "#define OPEQ &=~" >> $@@
	echo "#define EQWHOLEWORD =0" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbply1rct.c\"" >> $@@
mfbplyinv.c:
	echo "#define MFBFILLPOLY1RECT xf1bppFillPolyInvert" > $@@
	echo "#define OPEQ ^=" >> $@@
	echo "#define EQWHOLEWORD ^=~0" >> $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbply1rct.c\"" >> $@@
mfbbltC.c:
	echo "#define MROP Mcopy" > $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbblt.c\"" >> $@@
mfbbltX.c:
	echo "#define MROP Mxor" > $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbblt.c\"" >> $@@
mfbbltCI.c:
	echo "#define MROP McopyInverted" > $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbblt.c\"" >> $@@
mfbbltO.c:
	echo "#define MROP Mor" > $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbblt.c\"" >> $@@
mfbbltG.c:
	echo "#define MROP M0" > $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbblt.c\"" >> $@@
mfbtileC.c:
	echo "#define MROP Mcopy" > $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbtile.c\"" >> $@@
mfbtileG.c:
	echo "#define MRop M0" > $@@
	echo "#include \"mfbmap.h\"" >> $@@
	echo "#include \"$(top_srcdir)/mfb/mfbtile.c\"" >> $@@

$(libxf1bppmfb_a_SOURCES):
	echo "#include \"mfbmap.h\"" > $@@
	echo "#include \"$(top_srcdir)/mfb/$@@\"" >> $@@

EXTRA_DIST = mfbmap.sh mfbunmap.sh 
DISTCLEANFILES = $(BUILT_SOURCES)
@


1.4
log
@xserver 1.5.2. tested by ckuethe@@, oga@@, and others.
@
text
@@


1.3
log
@merge xserver 1.4, 1st pass
@
text
@a34 1
        mfbbstore.c \
a47 1
        mfbpntwin.c \
@


1.2
log
@gcc 2.95 doesn't use the same serch rules for '-include' as gcc 3.
So fix build in a separate obj directory with gcc 2.95.
@
text
@d30 29
a58 1
DISTCLEANFILES = $(libxf1bppgen_a_SOURCES)
d60 1
a60 27
libxf1bppmfb_a_SOURCES = \
        $(top_srcdir)/mfb/maskbits.c \
        $(top_srcdir)/mfb/mfbbitblt.c \
        $(top_srcdir)/mfb/mfbbres.c \
        $(top_srcdir)/mfb/mfbbresd.c \
        $(top_srcdir)/mfb/mfbbstore.c \
        $(top_srcdir)/mfb/mfbclip.c \
        $(top_srcdir)/mfb/mfbcmap.c \
        $(top_srcdir)/mfb/mfbfillarc.c \
        $(top_srcdir)/mfb/mfbfillrct.c \
        $(top_srcdir)/mfb/mfbfillsp.c \
        $(top_srcdir)/mfb/mfbfont.c \
        $(top_srcdir)/mfb/mfbgc.c \
        $(top_srcdir)/mfb/mfbgetsp.c \
        $(top_srcdir)/mfb/mfbhrzvert.c \
        $(top_srcdir)/mfb/mfbimage.c \
        $(top_srcdir)/mfb/mfbline.c \
        $(top_srcdir)/mfb/mfbmisc.c \
        $(top_srcdir)/mfb/mfbpixmap.c \
        $(top_srcdir)/mfb/mfbpntwin.c \
        $(top_srcdir)/mfb/mfbpolypnt.c \
        $(top_srcdir)/mfb/mfbpushpxl.c \
        $(top_srcdir)/mfb/mfbscrclse.c \
        $(top_srcdir)/mfb/mfbscrinit.c \
        $(top_srcdir)/mfb/mfbsetsp.c \
        $(top_srcdir)/mfb/mfbwindow.c \
        $(top_srcdir)/mfb/mfbzerarc.c \
d63 1
a63 3
libxf1bpp_la_SOURCES = $(libxf1bppmfb_a_SOURCES) $(libxf1bppgen_a_SOURCES)

AM_CFLAGS = -DXF86MONO -include ${srcdir}/mfbmap.h $(DIX_CFLAGS) $(XORG_CFLAGS)
d68 1
d73 1
d78 1
d83 1
d88 1
d93 1
d100 1
d107 1
d114 1
d120 1
d126 1
d132 1
d138 1
d144 1
d148 1
d152 1
d156 1
d160 1
d164 1
d168 1
d172 1
d175 4
d180 1
@


1.1
log
@Initial revision
@
text
@d63 1
a63 1
AM_CFLAGS = -DXF86MONO -include mfbmap.h $(DIX_CFLAGS) $(XORG_CFLAGS)
@


1.1.1.1
log
@Importing xserver from X.Org 7.2RC2
@
text
@@


1.1.1.2
log
@xserver 1.4
@
text
@d30 2
d33 27
a59 26
        maskbits.c \
        mfbbitblt.c \
        mfbbres.c \
        mfbbresd.c \
        mfbbstore.c \
        mfbclip.c \
        mfbcmap.c \
        mfbfillarc.c \
        mfbfillrct.c \
        mfbfillsp.c \
        mfbfont.c \
        mfbgc.c \
        mfbgetsp.c \
        mfbhrzvert.c \
        mfbimage.c \
        mfbline.c \
        mfbmisc.c \
        mfbpixmap.c \
        mfbpntwin.c \
        mfbpolypnt.c \
        mfbpushpxl.c \
        mfbscrclse.c \
        mfbscrinit.c \
        mfbsetsp.c \
        mfbwindow.c \
        mfbzerarc.c
d61 1
a61 1
BUILT_SOURCES = $(libxf1bppmfb_a_SOURCES) $(libxf1bppgen_a_SOURCES)
d63 1
a63 4
libxf1bpp_la_SOURCES = $(libxf1bppmfb_a_SOURCES) $(libxf1bppgen_a_SOURCES) \
        mfbmodule.c

AM_CFLAGS = -DXF86MONO $(DIX_CFLAGS) $(XORG_CFLAGS)
a67 1
	echo "#include \"mfbmap.h\"" >> $@@
a71 1
	echo "#include \"mfbmap.h\"" >> $@@
a75 1
	echo "#include \"mfbmap.h\"" >> $@@
a79 1
	echo "#include \"mfbmap.h\"" >> $@@
a83 1
	echo "#include \"mfbmap.h\"" >> $@@
a87 1
	echo "#include \"mfbmap.h\"" >> $@@
a93 1
	echo "#include \"mfbmap.h\"" >> $@@
a99 1
	echo "#include \"mfbmap.h\"" >> $@@
a105 1
	echo "#include \"mfbmap.h\"" >> $@@
a110 1
	echo "#include \"mfbmap.h\"" >> $@@
a115 1
	echo "#include \"mfbmap.h\"" >> $@@
a120 1
	echo "#include \"mfbmap.h\"" >> $@@
a125 1
	echo "#include \"mfbmap.h\"" >> $@@
a130 1
	echo "#include \"mfbmap.h\"" >> $@@
a133 1
	echo "#include \"mfbmap.h\"" >> $@@
a136 1
	echo "#include \"mfbmap.h\"" >> $@@
a139 1
	echo "#include \"mfbmap.h\"" >> $@@
a142 1
	echo "#include \"mfbmap.h\"" >> $@@
a145 1
	echo "#include \"mfbmap.h\"" >> $@@
a148 1
	echo "#include \"mfbmap.h\"" >> $@@
a151 1
	echo "#include \"mfbmap.h\"" >> $@@
a153 4
$(libxf1bppmfb_a_SOURCES):
	echo "#include \"mfbmap.h\"" > $@@
	echo "#include \"$(top_srcdir)/mfb/$@@\"" >> $@@

a154 1
DISTCLEANFILES = $(BUILT_SOURCES)
@

