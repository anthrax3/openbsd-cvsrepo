head	1.7;
access;
symbols
	OPENBSD_6_2:1.7.0.12
	OPENBSD_6_2_BASE:1.7
	OPENBSD_6_1:1.7.0.10
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.7.0.8
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.6
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.4
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.2
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.6.0.2
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.5.0.10
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.8
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.6
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.4
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	OPENBSD_5_0:1.4.0.6
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.3.0.6
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.4
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.2
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3_BASE:1.1.1.2
	OPENBSD_4_3:1.1.1.2.0.2
	v1_4_0_90:1.1.1.2
	v1_4:1.1.1.2
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	v1_2_0:1.1.1.1
	v1_1_99_903:1.1.1.1
	v1_1_99_902:1.1.1.1
	xorg:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2014.09.27.17.53.00;	author matthieu;	state Exp;
branches;
next	1.6;
commitid	cVXoV5PxI8YrEaVA;

1.6
date	2014.05.02.19.27.47;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2011.11.05.13.32.49;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2010.07.27.19.02.27;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2008.11.02.15.26.16;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2008.06.15.00.17.33;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.18.22.45;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.26.18.22.45;	author matthieu;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2007.11.24.18.02.17;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Update to xserver 1.16.1.

Tested by naddy@@, jsg@@ & kettenis@@
@
text
@
SUBDIRS = input config examples doc doxygen man
bin_PROGRAMS = Xdmx

if XINERAMA
PANORAMIX_SRCS = $(top_srcdir)/Xext/panoramiX.c
endif

if GLX
SUBDIRS += glxProxy
GLX_LIBS = glxProxy/libglxproxy.a
GLX_SRCS = $(PANORAMIX_SRCS) dmx_glxvisuals.c dmx_glxvisuals.h
GLX_INCS = -I$(top_srcdir)/hw/xfree86/dixmods/extmod
GLX_DEFS = @@GL_CFLAGS@@
endif

AM_CFLAGS = \
      -DHAVE_DMX_CONFIG_H \
      $(DIX_CFLAGS) \
      $(GLX_INCS) \
      $(GLX_DEFS) \
      $(DMX_CFLAGS) \
      @@DMXMODULES_CFLAGS@@

Xdmx_SOURCES = dmx.c \
               dmxcb.c \
               dmxcb.h \
               dmxclient.h \
               dmxcmap.c \
               dmxcmap.h \
               dmx-config.h \
               dmxcursor.c \
               dmxcursor.h \
               dmxdpms.c \
               dmxdpms.h \
               dmxextension.c \
               dmxextension.h \
               dmxfont.c \
               dmxfont.h \
               dmxgc.c \
               dmxgc.h \
               dmxgcops.c \
               dmxgcops.h \
               dmx.h \
               dmxinit.c \
               dmxinit.h \
               dmxinput.c \
               dmxinput.h \
               dmxlog.c \
               dmxlog.h \
               dmxpict.c \
               dmxpict.h \
               dmxpixmap.c \
               dmxpixmap.h \
               dmxprop.c \
               dmxprop.h \
               dmxscrinit.c \
               dmxscrinit.h \
               dmxstat.c \
               dmxstat.h \
               dmxsync.c \
               dmxsync.h \
               dmxvisual.c \
               dmxvisual.h \
               dmxwindow.c \
               dmxwindow.h \
               $(top_srcdir)/mi/miinitext.c \
               $(GLX_SRCS) 


#if COMPOSITE
#Xdmx_SOURCES += fakecw.c
#endif

XDMX_LIBS = \
	$(GLX_LIBS) \
	@@XDMX_LIBS@@ \
        input/libdmxinput.a \
        config/libdmxconfig.a

Xdmx_LDFLAGS = $(LD_EXPORT_SYMBOLS_FLAG)
Xdmx_DEPENDENCIES= $(XDMX_LIBS)
Xdmx_LDADD = $(XDMX_LIBS) $(XDMX_SYS_LIBS) $(XSERVER_SYS_LIBS)

relink:
	$(AM_V_at)rm -f Xdmx$(EXEEXT) && $(MAKE) Xdmx$(EXEEXT)
@


1.6
log
@Update to xserver 1.15.1.

Tested by at least ajacoutot@@, dcoppa@@ & jasper@@
@
text
@a67 1
               $(top_srcdir)/fb/fbcmap_mi.c \
@


1.5
log
@Update to xserver 1.11.2
@
text
@a58 2
               dmxshadow.c \
               dmxshadow.h \
@


1.4
log
@Update to xserver 1.8. Tested by many. Ok oga@@, todd@@.
@
text
@a0 1
DIST_SUBDIRS = input config glxProxy examples doc
d2 1
a2 1
SUBDIRS = input config examples
a16 4
if BUILDDOCS
SUBDIRS += doc
endif

d79 1
a80 1
	$(GLX_LIBS) \
a86 23

# Man page
appmandir = $(APP_MAN_DIR)

appman_PRE = Xdmx.man
appman_DATA = $(appman_PRE:man=@@APP_MAN_SUFFIX@@)

CLEANFILES = $(appman_DATA)

# Strings to replace in man pages
XORGRELSTRING = @@PACKAGE_STRING@@
  XORGMANNAME = X Version 11

MAN_SUBSTS = \
	-e 's|__vendorversion__|"$(XORGRELSTRING)" "$(XORGMANNAME)"|' \
	-e 's|__miscmansuffix__|$(MISC_MAN_SUFFIX)|g'

SUFFIXES = .$(APP_MAN_SUFFIX) .man

.man.$(APP_MAN_SUFFIX):
	$(AM_V_GEN)$(SED) $(MAN_SUBSTS) < $< > $@@

EXTRA_DIST = $(appman_PRE)
@


1.3
log
@xserver 1.5.2. tested by ckuethe@@, oga@@, and others.
@
text
@d14 2
a15 3
GLX_INCS = -I$(top_srcdir)/hw/xfree86/dixmods/extmod \
           -I@@MESA_SOURCE@@/include
GLX_DEFS = @@GL_CFLAGS@@ 
d87 1
a87 2
        config/libdmxconfig.a \
	$(XSERVER_LIBS)
d112 1
a112 1
	sed $(MAN_SUBSTS) < $< > $@@
d117 1
a117 1
	rm -f Xdmx && $(MAKE) Xdmx
@


1.2
log
@Update to xserver 1.4.2. Tested by landry@@, ckuethe@@, jsing@@ mbalmer@@.
@
text
@d84 7
d92 2
a93 7
Xdmx_LDADD = $(XORG_CORE_LIBS) \
             $(XDMX_LIBS) \
             $(GLX_LIBS) \
             input/libdmxinput.a \
             config/libdmxconfig.a \
             @@XSERVER_LIBS@@ \
             @@DMXMODULES_LIBS@@
@


1.1
log
@Initial revision
@
text
@a18 3
# It's essential that fbcmap.c be compiled with this flag for DMX to work!!
DMX_CFLAGS = -DXFree86Server=1

d23 8
a74 1
               $(top_srcdir)/fb/fbcmap.c \
d76 1
d90 1
a91 8

Xdmx_CFLAGS = \
              -DHAVE_DMX_CONFIG_H \
              $(DIX_CFLAGS) \
              $(GLX_INCS) \
              $(GLX_DEFS) \
              $(DMX_CFLAGS) \
              @@DMXMODULES_CFLAGS@@
@


1.1.1.1
log
@Importing xserver from X.Org 7.2RC2
@
text
@@


1.1.1.2
log
@xserver 1.4
@
text
@d19 3
a25 8
AM_CFLAGS = \
      -DHAVE_DMX_CONFIG_H \
      $(DIX_CFLAGS) \
      $(GLX_INCS) \
      $(GLX_DEFS) \
      $(DMX_CFLAGS) \
      @@DMXMODULES_CFLAGS@@

d70 1
a71 1
               $(top_srcdir)/fb/fbcmap_mi.c \
d86 8
@

