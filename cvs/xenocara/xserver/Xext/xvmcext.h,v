head	1.5;
access;
symbols
	OPENBSD_6_1:1.5.0.10
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.5.0.8
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.6
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.6
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.8
	OPENBSD_5_0:1.2.0.6
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.4
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.1.1.1.0.12
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.10
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.8
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.6
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.4
	v1_4_0_90:1.1.1.1
	v1_4:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	v1_2_0:1.1.1.1
	v1_1_99_903:1.1.1.1
	v1_1_99_902:1.1.1.1
	xorg:1.1.1;
locks; strict;
comment	@ * @;


1.5
date	2014.09.27.17.52.59;	author matthieu;	state Exp;
branches;
next	1.4;
commitid	cVXoV5PxI8YrEaVA;

1.4
date	2013.06.07.17.28.46;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2012.06.10.13.21.20;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.27.19.02.25;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.18.14.58;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.26.18.14.58;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to xserver 1.16.1.

Tested by naddy@@, jsg@@ & kettenis@@
@
text
@
#ifndef _XVMC_H
#define _XVMC_H
#include <X11/extensions/Xv.h>
#include "xvdix.h"

typedef struct {
    int num_xvimages;
    int *xvimage_ids;
} XvMCImageIDList;

typedef struct {
    int surface_type_id;
    int chroma_format;
    int color_description;
    unsigned short max_width;
    unsigned short max_height;
    unsigned short subpicture_max_width;
    unsigned short subpicture_max_height;
    int mc_type;
    int flags;
    XvMCImageIDList *compatible_subpictures;
} XvMCSurfaceInfoRec, *XvMCSurfaceInfoPtr;

typedef struct {
    XID context_id;
    ScreenPtr pScreen;
    int adapt_num;
    int surface_type_id;
    unsigned short width;
    unsigned short height;
    CARD32 flags;
    int refcnt;
    void *port_priv;
    void *driver_priv;
} XvMCContextRec, *XvMCContextPtr;

typedef struct {
    XID surface_id;
    int surface_type_id;
    XvMCContextPtr context;
    void *driver_priv;
} XvMCSurfaceRec, *XvMCSurfacePtr;

typedef struct {
    XID subpicture_id;
    int xvimage_id;
    unsigned short width;
    unsigned short height;
    int num_palette_entries;
    int entry_bytes;
    char component_order[4];
    XvMCContextPtr context;
    void *driver_priv;
} XvMCSubpictureRec, *XvMCSubpicturePtr;

typedef int (*XvMCCreateContextProcPtr) (XvPortPtr port,
                                         XvMCContextPtr context,
                                         int *num_priv, CARD32 **priv);

typedef void (*XvMCDestroyContextProcPtr) (XvMCContextPtr context);

typedef int (*XvMCCreateSurfaceProcPtr) (XvMCSurfacePtr surface,
                                         int *num_priv, CARD32 **priv);

typedef void (*XvMCDestroySurfaceProcPtr) (XvMCSurfacePtr surface);

typedef int (*XvMCCreateSubpictureProcPtr) (XvMCSubpicturePtr subpicture,
                                            int *num_priv, CARD32 **priv);

typedef void (*XvMCDestroySubpictureProcPtr) (XvMCSubpicturePtr subpicture);

typedef struct {
    XvAdaptorPtr xv_adaptor;
    int num_surfaces;
    XvMCSurfaceInfoPtr *surfaces;
    int num_subpictures;
    XvImagePtr *subpictures;
    XvMCCreateContextProcPtr CreateContext;
    XvMCDestroyContextProcPtr DestroyContext;
    XvMCCreateSurfaceProcPtr CreateSurface;
    XvMCDestroySurfaceProcPtr DestroySurface;
    XvMCCreateSubpictureProcPtr CreateSubpicture;
    XvMCDestroySubpictureProcPtr DestroySubpicture;
} XvMCAdaptorRec, *XvMCAdaptorPtr;

extern int (*XvMCScreenInitProc)(ScreenPtr, int, XvMCAdaptorPtr);

extern _X_EXPORT int XvMCScreenInit(ScreenPtr pScreen,
                                    int num, XvMCAdaptorPtr adapt);

extern _X_EXPORT XvImagePtr XvMCFindXvImage(XvPortPtr pPort, CARD32 id);

extern _X_EXPORT int xf86XvMCRegisterDRInfo(ScreenPtr pScreen, const char *name,
                                            const char *busID, int major, int minor,
                                            int patchLevel);

#endif                          /* _XVMC_H */
@


1.4
log
@Update to X server 1.14.1. Tested by many during t2k13. Thanks.
@
text
@d34 2
a35 2
    pointer port_priv;
    pointer driver_priv;
d42 1
a42 1
    pointer driver_priv;
d54 1
a54 1
    pointer driver_priv;
d94 2
a95 2
extern _X_EXPORT int xf86XvMCRegisterDRInfo(ScreenPtr pScreen, char *name,
                                            char *busID, int major, int minor,
@


1.3
log
@Update to xserver 1.12.2. tested by naddy@@, krw@@, mpi@@.
@
text
@d87 1
a87 2
#ifndef XorgLoader
extern _X_EXPORT void XvMCExtensionInit(void);
a96 1
#endif
@


1.2
log
@Update to xserver 1.8. Tested by many. Ok oga@@, todd@@.
@
text
@d8 2
a9 2
  int num_xvimages;
  int *xvimage_ids;
d13 10
a22 10
  int surface_type_id;
  int chroma_format;
  int color_description;
  unsigned short max_width;
  unsigned short max_height;
  unsigned short subpicture_max_width;
  unsigned short subpicture_max_height;
  int mc_type;
  int flags;
  XvMCImageIDList *compatible_subpictures;
d26 10
a35 10
  XID context_id;
  ScreenPtr pScreen;
  int adapt_num;
  int surface_type_id;
  unsigned short width;
  unsigned short height;
  CARD32 flags;
  int refcnt;
  pointer port_priv;
  pointer driver_priv;
d39 4
a42 4
  XID surface_id;
  int surface_type_id;
  XvMCContextPtr context;
  pointer driver_priv;
a44 1

d46 9
a54 9
  XID subpicture_id;
  int xvimage_id;
  unsigned short width;
  unsigned short height;
  int num_palette_entries;
  int entry_bytes;
  char component_order[4];
  XvMCContextPtr context;
  pointer driver_priv;
d57 13
a69 30
typedef int (*XvMCCreateContextProcPtr) (
  XvPortPtr port,
  XvMCContextPtr context,
  int *num_priv,
  CARD32 **priv 
);

typedef void (*XvMCDestroyContextProcPtr) (
  XvMCContextPtr context
);

typedef int (*XvMCCreateSurfaceProcPtr) (
  XvMCSurfacePtr surface,
  int *num_priv,
  CARD32 **priv
);

typedef void (*XvMCDestroySurfaceProcPtr) (
  XvMCSurfacePtr surface
);

typedef int (*XvMCCreateSubpictureProcPtr) (
  XvMCSubpicturePtr subpicture,
  int *num_priv,
  CARD32 **priv
);

typedef void (*XvMCDestroySubpictureProcPtr) (
  XvMCSubpicturePtr subpicture
);
d71 1
d74 11
a84 11
  XvAdaptorPtr			    xv_adaptor;
  int				    num_surfaces;
  XvMCSurfaceInfoPtr		    *surfaces;
  int				    num_subpictures;
  XvImagePtr			    *subpictures;
  XvMCCreateContextProcPtr          CreateContext; 
  XvMCDestroyContextProcPtr         DestroyContext; 
  XvMCCreateSurfaceProcPtr          CreateSurface;  
  XvMCDestroySurfaceProcPtr         DestroySurface; 
  XvMCCreateSubpictureProcPtr       CreateSubpicture; 
  XvMCDestroySubpictureProcPtr      DestroySubpicture;
d91 1
a91 2
				    int num,
				    XvMCAdaptorPtr adapt);
d96 2
a97 2
			   char *busID, int major, int minor, 
			   int patchLevel);
d100 1
a100 1
#endif /* _XVMC_H */
@


1.1
log
@Initial revision
@
text
@d104 2
a105 1
void XvMCExtensionInit(void);
d107 3
a109 1
int XvMCScreenInit(ScreenPtr pScreen, int num, XvMCAdaptorPtr adapt);
d111 1
a111 1
XvImagePtr XvMCFindXvImage(XvPortPtr pPort, CARD32 id);
d113 1
a113 1
int xf86XvMCRegisterDRInfo(ScreenPtr pScreen, char *name,
d116 1
a116 1

@


1.1.1.1
log
@Importing xserver from X.Org 7.2RC2
@
text
@@
