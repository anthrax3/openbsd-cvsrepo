head	1.7;
access;
symbols
	OPENBSD_6_0:1.7.0.10
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.7.0.8
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.7.0.6
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.4
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.2
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.6.0.4
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.5.0.8
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.6
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.4
	OPENBSD_5_0:1.5.0.2
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.4.0.10
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.12
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.8
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.6
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.4
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2;
locks; strict;
comment	@# @;


1.7
date	2014.07.31.20.13.40;	author matthieu;	state Exp;
branches;
next	1.6;
commitid	COlwTuAOHHe4isA6;

1.6
date	2013.03.09.14.45.39;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2011.06.23.22.48.59;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2008.03.22.12.40.02;	author merdely;	state Exp;
branches;
next	1.3;

1.3
date	2008.01.13.17.22.58;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.11.06.54.20;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2007.04.09.19.11.43;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Complete man page substitutions for xterm(1) and resize(1)

problem noticed by and tweaks by naddy@@. ok deraadt@@
@
text
@# $OpenBSD: Makefile,v 1.6 2013/03/09 14:45:39 matthieu Exp $

PROG=	resize
MAN=	resize.1

VPATH=	${.CURDIR}/..

CPPFLAGS+=	-I${.CURDIR}/.. -I${X11BASE}/include \
		-I${X11BASE}/include/freetype2 \
		-DHAVE_CONFIG_H -DCSRG_BASED \
		-DFUNCPROTO=15 -DNARROWPROTO -DXFREE86_FT2 -DUTMP

X11BASE?=	/usr/X11R6
MANDIR=		${X11BASE}/man/man

SRCS=		resize.c version.c xstrings.c

PATCH_NUM != sed -n '/XTERM_PATCH/s/[^0-9]*//gp' ${.CURDIR}/../version.h
PATCH_YMD != sed -n '/XTERM_DATE/s,[^0-9/.-]*,,gp' ${.CURDIR}/../version.h


resize.1: resize.man
	sed -e 's#__vendorversion__#"X Window System"#g' \
	    -e 's#__mansuffix__#1#g' \
	    -e 's#__miscmansuffix__#7#g' \
	    -e 's#__apploaddir__#${X11ETC}/app-defaults#g' \
	    -e s%__default_termname__%xterm% \
	    -e 's%__app_version__%Patch\ \#'$(PATCH_NUM)% \
	    -e 's%__app_date__%'${PATCH_YMD}% \
	    < ${.CURDIR}/../resize.man > $@@

CLEANFILES+=	resize.1

obj: _xenocara_obj

.include <bsd.prog.mk>
.include <bsd.xorg.mk>
@


1.6
log
@Update to xterm 291. Tested by many.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/06/23 22:48:59 naddy Exp $
d18 4
d27 3
@


1.5
log
@switch to installing source manuals:
* cope with new bsd.man.mk
* update imake configuration

ports use of imake remains unchanged
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/03/22 12:40:02 merdely Exp $
d16 1
a16 1
SRCS=		resize.c xstrings.c
@


1.4
log
@Make xterm(1) and resize(1) correctly refer to X(7) instead of X(1).

ok matthieu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/01/13 17:22:58 matthieu Exp $
d14 1
a14 1
MANDIR=		${X11BASE}/man/cat
@


1.3
log
@More __foo__ substitutions for xterm manual pages. From
Tim van der Molen, Thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/05/11 06:54:20 matthieu Exp $
d21 1
a21 1
	    -e 's#__miscmansuffix__#1#g' \
@


1.2
log
@resize doesn't need X libs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2007/04/09 19:11:43 matthieu Exp $
d20 1
d22 2
a23 2
            -e 's#__apploaddir__#${X11ETC}/app-defaults#g' \
	< ${.CURDIR}/../resize.man > $@@
@


1.1
log
@BSD make based build infrastructure for xterm. The autoconf based
one was too painful to get working on landisk (static only).
@
text
@d1 1
a1 1
# $OpenBSD$
a11 3
LDADD+=		-L${X11BASE}/lib -lXaw -lXt -lSM -lICE \
		-lXmu -lXft -lXrender -lX11 -lXext -lXau -lXdmcp \
		-lfontconfig -lexpat -lfreetype -lutil -ltermcap -lz
@

