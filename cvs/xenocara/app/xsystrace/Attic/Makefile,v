head	1.14;
access;
symbols
	OPENBSD_5_9:1.13.0.6
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.4
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.13.0.2
	OPENBSD_5_7_BASE:1.13
	OPENBSD_5_6:1.12.0.14
	OPENBSD_5_6_BASE:1.12
	OPENBSD_5_5:1.12.0.12
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.10
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.12.0.8
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.12.0.6
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.4
	OPENBSD_5_0:1.12.0.2
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.9.0.12
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.8
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.9.0.6
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.4
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.2
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_3:1.8.0.4
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	v4_0:1.1.1.1
	openbsd:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2016.05.07.19.15.07;	author matthieu;	state dead;
branches;
next	1.13;
commitid	4ZxtVG1WanLvupmQ;

1.13
date	2014.08.13.21.02.16;	author matthieu;	state Exp;
branches;
next	1.12;
commitid	6vCjj5jtXLsIL7Rh;

1.12
date	2011.06.23.22.48.59;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2011.03.08.20.48.59;	author matthieu;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.27.14.25.47;	author matthieu;	state Exp;
branches;
next	1.9;

1.9
date	2008.03.25.23.41.50;	author matthieu;	state Exp;
branches;
next	1.8;

1.8
date	2007.04.09.15.47.23;	author matthieu;	state Exp;
branches;
next	1.7;

1.7
date	2007.03.30.17.24.13;	author aanriot;	state Exp;
branches;
next	1.6;

1.6
date	2006.12.02.16.28.48;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2006.11.29.11.33.49;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2006.11.27.20.39.39;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2006.11.27.20.35.21;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2006.11.27.20.19.57;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.10.58.43;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.26.10.58.43;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.14
log
@remove xsystrace (already un-linked from builds)
@
text
@# $OpenBSD: Makefile,v 1.13 2014/08/13 21:02:16 matthieu Exp $
.include <bsd.xconf.mk>

PROG=	xsystrace
MAN=	xsystrace.1

.ifmake install
SUBDIR=		pixmaps
.endif

CPPFLAGS+=	-I${X11BASE}/include
LDADD+=		-L${X11BASE}/lib -lXaw -lXt -lSM -lICE -lXmu -lXpm -lX11 -lxcb -lXext -lXau -lXdmcp

SRCS=		main.c interface.c callbacks.c policy.c

afterinstall:
	${INSTALL_DATA} \
		${.CURDIR}/Xsystrace.ad \
		${DESTDIR}${X11BASE}/share/X11/app-defaults/Xsystrace

MANDIR=	${X11BASE}/man/man

obj: _xenocara_obj

.include <bsd.prog.mk>
.include <bsd.xorg.mk>
.include <bsd.subdir.mk>
@


1.13
log
@Install resource files in /usr/X11R6/share/X11/app-defaults

/etc/X11/app-defaults stays 1st in the libXt search path so, people
and ports can put customized versions there if needed.
If you didn't customize the versions in /etc/X11/app-defaults, they
should be removed to avoid future issues when one file changes.

discussed at g2k14 and ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/06/23 22:48:59 naddy Exp $
@


1.12
log
@switch to installing source manuals:
* cope with new bsd.man.mk
* update imake configuration

ports use of imake remains unchanged
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/03/08 20:48:59 matthieu Exp $
d18 2
a19 1
		${.CURDIR}/Xsystrace.ad ${DESTDIR}/etc/X11/app-defaults/Xsystrace
@


1.11
log
@xcb is no longer optional.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/27 14:25:47 matthieu Exp $
d20 1
a20 1
MANDIR=	${X11BASE}/man/cat
@


1.10
log
@Explicitely link libxcb when needed for static arches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/03/25 23:41:50 matthieu Exp $
d12 1
a12 4
.if ${XENOCARA_BUILD_XCB:L} != "no"
LIBXCB=		-lxcb
.endif
LDADD+=		-L${X11BASE}/lib -lXaw -lXt -lSM -lICE -lXmu -lXpm -lX11 ${LIBXCB} -lXext -lXau -lXdmcp
@


1.9
log
@Introduce bsd.xconf.mk to set default config variables used
at several places in the Xenocara build in a central place instead
of duplicating the checks all over the place. ok oga@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/04/09 15:47:23 matthieu Exp $
d12 4
a15 1
LDADD+=		-L${X11BASE}/lib -lXaw -lXt -lSM -lICE -lXmu -lXpm -lX11 -lXext -lXau -lXdmcp
@


1.8
log
@fix library list for static architectures
@
text
@d1 2
a2 1
# $OpenBSD: Makefile,v 1.7 2007/03/30 17:24:13 aanriot Exp $
a19 1
X11BASE?= /usr/X11R6
@


1.7
log
@- add an INSTALL_DATA target in bsd.xorg.mk (inspired by bsd.port.mk).
- start using it in fvwm, ssh-askpass and xsystrace (more to come).

ok matthieu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/12/02 16:28:48 matthieu Exp $
d11 1
a11 1
LDADD+=		-L${X11BASE}/lib -lXaw -lXt -lXmu -lX11 -lXext
@


1.6
log
@Make 'obj' now can make symlinks to /usr/obj/xenocara (or any other
directory designed by XENOCARA_OBJDIR in /etc/mk.conf).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/11/29 11:33:49 matthieu Exp $
d16 1
a16 1
	${INSTALL} ${INSTALL_COPY} -o ${BINOWN} -g ${BINGRP} \
@


1.5
log
@Install app-defaults in right directory
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/11/27 20:39:39 matthieu Exp $
d21 2
@


1.4
log
@Really fix man page install.
XX There ought to be a better way to do that
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/11/27 20:35:21 matthieu Exp $
d15 1
a15 1
beforeinstall:
d17 1
a17 1
		${.CURDIR}/Xsystrace.ad ${PREFIX}/${LIBDIR}/X11/app-defaults/Xsystrace
@


1.3
log
@fix MANDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/11/27 20:19:57 matthieu Exp $
d19 1
@


1.2
log
@- install pixmaps
- fix Applications defaults installation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/11/26 10:58:43 matthieu Exp $
d18 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 4
d17 1
a17 1
		${.CURDIR}/Xsystrace.ad ${PREFIX}/${LIBDIR}/X11/app-defaults
d21 1
a21 2


@


1.1.1.1
log
@Importing from XF4, plus BSD make infrastructure
@
text
@@
