head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.14
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.12
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.10
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.8
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.6
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.3.0.10
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.8
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.6
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.2.0.16
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.12
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.10
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.8
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.6
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_3:1.2.0.4
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	v1_0_1:1.1.1.1
	xorg:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2013.03.09.16.22.38;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2010.10.31.20.17.58;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2006.11.29.12.30.11;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.10.45.24;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.26.10.45.24;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Upate to xsm 1.0.3
@
text
@# 
#  Copyright 2005  Red Hat, Inc.
# 
#  Permission to use, copy, modify, distribute, and sell this software and its
#  documentation for any purpose is hereby granted without fee, provided that
#  the above copyright notice appear in all copies and that both that
#  copyright notice and this permission notice appear in supporting
#  documentation, and that the name of Red Hat not be used in
#  advertising or publicity pertaining to distribution of the software without
#  specific, written prior permission.  Red Hat makes no
#  representations about the suitability of this software for any purpose.  It
#  is provided "as is" without express or implied warranty.
# 
#  RED HAT DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,
#  INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO
#  EVENT SHALL RED HAT BE LIABLE FOR ANY SPECIAL, INDIRECT OR
#  CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,
#  DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
#  TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
#  PERFORMANCE OF THIS SOFTWARE.

SUBDIRS = man
bin_PROGRAMS = xsm

SYSTEM_INIT_DIR = $(sysconfdir)/X11/xsm

AM_CFLAGS = $(XSM_CFLAGS) $(CWARNFLAGS) -DRSHCMD=\"@@RSH@@\" \
	-DSYSTEM_INIT_FILE=\"$(SYSTEM_INIT_DIR)/system.xsm\"

xsm_LDADD = $(XSM_LIBS)

xsm_SOURCES =	\
        auth.c \
        auth.h \
        choose.c \
        choose.h \
        info.c \
        info.h \
        list.c \
        list.h \
        lock.c \
        lock.h \
        log.c \
        log.h \
        mainwin.c \
        mainwin.h \
        misc.c \
        popup.c \
        popup.h \
        printhex.c \
        prop.c \
        prop.h \
        remote.c \
        restart.c \
        restart.h \
        save.c \
        save.h \
        saveutil.c \
        saveutil.h \
        signals.c \
        xsm.c \
        xsm.h \
        xtwatch.c \
        xtwatch.h

# App default files
DISTCHECK_CONFIGURE_FLAGS = --with-appdefaultdir=\$${datadir}/X11/app-defaults

appdefaultdir = @@appdefaultdir@@

dist_appdefault_DATA = \
        app-defaults/XSm

# system init file

systeminitdir = $(SYSTEM_INIT_DIR)

systeminit_DATA = system.xsm

#

EXTRA_DIST = system.xsm

MAINTAINERCLEANFILES = ChangeLog INSTALL

.PHONY: ChangeLog INSTALL

INSTALL:
	$(INSTALL_CMD)

ChangeLog:
	$(CHANGELOG_CMD)

dist-hook: ChangeLog INSTALL
@


1.3
log
@Update to xsm 1.0.2
@
text
@d22 1
d25 1
a25 2
SYSTEM_INIT_DIR = $(datadir)/X11/xsm

a65 3
appman_PRE = \
        xsm.man

a83 6

appmandir = $(APP_MAN_DIR)

appman_DATA = $(appman_PRE:man=@@APP_MAN_SUFFIX@@)

EXTRA_DIST += $(appman_PRE)
a84 8
CLEANFILES = $(appman_DATA)

SUFFIXES = .$(APP_MAN_SUFFIX) .man

# String replacements in MAN_SUBSTS now come from xorg-macros.m4 via configure
.man.$(APP_MAN_SUFFIX):
	$(AM_V_GEN)$(SED) $(MAN_SUBSTS) < $< > $@@

@


1.2
log
@Install configuration in /etc/X11
@
text
@d27 1
a27 1
xsm_CFLAGS = $(XSM_CFLAGS) -DRSHCMD=\"@@RSH@@\" \
d69 2
a70 1
# App default files  (*.ad)
d74 2
a75 10

APPDEFAULTFILES = \
        XSm

SUFFIXES = .ad

.ad:
	cp $< $@@

appdefault_DATA = $(APPDEFAULTFILES)
d85 1
a85 3
EXTRA_DIST = $(APPDEFAULTFILES:%=%.ad) globals.c system.xsm

CLEANFILES = $(APPDEFAULTFILES)
d93 2
a94 1
CLEANFILES += $(appman_DATA)
d96 1
a96 1
SED = sed
d98 6
a103 16
# Strings to replace in man pages
XORGRELSTRING = @@PACKAGE_STRING@@
  XORGMANNAME = X Version 11

MAN_SUBSTS = \
	-e 's|__vendorversion__|"$(XORGRELSTRING)" "$(XORGMANNAME)"|' \
	-e 's|__xorgversion__|"$(XORGRELSTRING)" "$(XORGMANNAME)"|' \
	-e 's|__xservername__|Xorg|g' \
	-e 's|__xconfigfile__|xorg.conf|g' \
	-e 's|__projectroot__|$(prefix)|g' \
	-e 's|__apploaddir__|$(appdefaultdir)|' \
	-e 's|__appmansuffix__|$(APP_MAN_SUFFIX)|g' \
	-e 's|__libmansuffix__|$(LIB_MAN_SUFFIX)|g' \
	-e 's|__adminmansuffix__|$(ADMIN_MAN_SUFFIX)|g' \
	-e 's|__miscmansuffix__|$(MISC_MAN_SUFFIX)|g' \
	-e 's|__filemansuffix__|$(FILE_MAN_SUFFIX)|g'
d105 2
a106 1
SUFFIXES += .$(APP_MAN_SUFFIX) .man
d108 4
a111 2
.man.$(APP_MAN_SUFFIX):
	sed $(MAN_SUBSTS) < $< > $@@
@


1.1
log
@Initial revision
@
text
@d24 1
a24 1
SYSTEM_INIT_DIR = $(libdir)/X11/xsm
@


1.1.1.1
log
@Importing from X.Org 7.2RC2
@
text
@@
