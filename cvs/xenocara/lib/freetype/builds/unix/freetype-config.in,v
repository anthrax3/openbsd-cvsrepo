head	1.15;
access;
symbols
	OPENBSD_6_1:1.14.0.4
	OPENBSD_6_1_BASE:1.14
	OPENBSD_6_0:1.14.0.2
	OPENBSD_6_0_BASE:1.14
	OPENBSD_5_9:1.13.0.2
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.12.0.2
	OPENBSD_5_8_BASE:1.12
	OPENBSD_5_7:1.11.0.2
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.10.0.2
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.5.0.8
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.6
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.4
	OPENBSD_5_0:1.5.0.2
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.3.0.4
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.2.0.4
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3_BASE:1.1.1.2
	OPENBSD_4_3:1.1.1.2.0.2
	v2_3_5:1.1.1.2
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	v2_2_1:1.1.1.1
	freetype:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2017.06.23.16.15.17;	author dcoppa;	state Exp;
branches;
next	1.14;
commitid	nHj0O50aY5QcUcQ4;

1.14
date	2016.05.29.11.57.10;	author dcoppa;	state Exp;
branches;
next	1.13;
commitid	1dOLexdOAzW2mQjp;

1.13
date	2015.10.19.07.51.34;	author dcoppa;	state Exp;
branches;
next	1.12;
commitid	d2XmJCtYff11VIDu;

1.12
date	2015.06.28.08.27.45;	author dcoppa;	state Exp;
branches;
next	1.11;
commitid	qXwIGV2h9uFjxAmt;

1.11
date	2014.12.26.17.52.34;	author dcoppa;	state Exp;
branches;
next	1.10;
commitid	gwhRExMduYqoPQHI;

1.10
date	2014.03.15.18.09.43;	author matthieu;	state Exp;
branches;
next	1.9;

1.9
date	2014.03.15.17.27.50;	author dcoppa;	state Exp;
branches;
next	1.8;

1.8
date	2014.03.14.08.17.59;	author dcoppa;	state Exp;
branches;
next	1.7;

1.7
date	2014.01.12.15.08.25;	author matthieu;	state Exp;
branches;
next	1.6;

1.6
date	2013.06.07.17.21.07;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2011.07.18.20.29.56;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2010.03.25.20.32.36;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2009.03.26.07.31.44;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2008.06.22.17.37.35;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.25.18.46.07;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.25.18.46.07;	author matthieu;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2007.09.08.16.33.48;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.15
log
@
Update to freetype-2.8

No fallout in a bulk build on i386 (sthen@@)

OK matthieu@@, sthen@@
@
text
@#! /bin/sh
#
# Copyright 2000-2017 by
# David Turner, Robert Wilhelm, and Werner Lemberg.
#
# This file is part of the FreeType project, and may only be used, modified,
# and distributed under the terms of the FreeType project license,
# LICENSE.TXT.  By continuing to use, modify, or distribute this file you
# indicate that you have read the license and understand and accept it
# fully.

LC_ALL=C
export LC_ALL


# if `pkg-config' is available, use values from `freetype2.pc'
pkg-config --version >/dev/null 2>&1
if test $? -eq 0 ; then
  # note that option `--variable' is not affected by the
  # PKG_CONFIG_SYSROOT_DIR environment variable
  if test "x$SYSROOT" != "x" ; then
    PKG_CONFIG_SYSROOT_DIR="$SYSROOT"
    export PKG_CONFIG_SYSROOT_DIR
  fi

  prefix=`pkg-config --variable prefix freetype2`
  exec_prefix=`pkg-config --variable exec_prefix freetype2`

  includedir=`pkg-config --variable includedir freetype2`
  libdir=`pkg-config --variable libdir freetype2`

  version=`pkg-config --modversion freetype2`

  cflags=`pkg-config --cflags freetype2`
  dynamic_libs=`pkg-config --libs freetype2`
  static_libs=`pkg-config --static --libs freetype2`
else
  prefix="%prefix%"
  exec_prefix="%exec_prefix%"

  includedir="%includedir%"
  libdir="%libdir%"

  version=%ft_version%

  cflags="-I${SYSROOT}$includedir/freetype2"
  dynamic_libs="%LIBSSTATIC_CONFIG%"
  static_libs="%LIBSSTATIC_CONFIG%"
  if test "${SYSROOT}$libdir" != "/usr/lib"   &&
     test "${SYSROOT}$libdir" != "/usr/lib64" ; then
    libs_L="-L${SYSROOT}$libdir"
  fi
fi

orig_prefix=$prefix
orig_exec_prefix=$exec_prefix

orig_includedir=$includedir
orig_libdir=$libdir

include_suffix=`echo $includedir | sed "s|$prefix||"`
lib_suffix=`echo $libdir | sed "s|$exec_prefix||"`


usage()
{
  cat <<EOF
Usage: freetype-config [OPTION]...
Get FreeType compilation and linking information.

Options:
  --prefix               display \`--prefix' value used for building the
                         FreeType library
  --prefix=PREFIX        override \`--prefix' value with PREFIX
  --exec-prefix          display \`--exec-prefix' value used for building
                         the FreeType library
  --exec-prefix=EPREFIX  override \`--exec-prefix' value with EPREFIX
  --version              display libtool version of the FreeType library
  --ftversion            display FreeType version number
  --libs                 display flags for linking with the FreeType library
  --libtool              display library name for linking with libtool
  --cflags               display flags for compiling with the FreeType
                         library
  --static               make command line options display flags
                         for static linking
  --help                 display this help and exit
EOF
  exit $1
}


if test $# -eq 0 ; then
  usage 1 1>&2
fi


while test $# -gt 0 ; do
  case "$1" in
  -*=*)
    optarg=`echo "$1" | sed 's/[-_a-zA-Z0-9]*=//'`
    ;;
  *)
    optarg=
    ;;
  esac

  case $1 in
  --prefix=*)
    prefix=$optarg
    local_prefix=yes
    ;;
  --prefix)
    echo_prefix=yes
    ;;
  --exec-prefix=*)
    exec_prefix=$optarg
    exec_prefix_set=yes
    local_prefix=yes
    ;;
  --exec-prefix)
    echo_exec_prefix=yes
    ;;
  --version)
    echo_version=yes
    break
    ;;
  --ftversion)
    echo_ft_version=yes
    ;;
  --cflags)
    echo_cflags=yes
    ;;
  --libs)
    echo_libs=yes
    ;;
  --libtool)
    echo_libtool=yes
    ;;
  --static)
    show_static=yes
    ;;
  --help)
    usage 0
    ;;
  *)
    usage 1 1>&2
    ;;
  esac
  shift
done


if test "$local_prefix" = "yes" ; then
  if test "$exec_prefix_set" != "yes" ; then
    exec_prefix=$prefix
  fi
fi

if test "$local_prefix" = "yes" ; then
  includedir=${prefix}${include_suffix}
  if test "$exec_prefix_set" = "yes" ; then
    libdir=${exec_prefix}${lib_suffix}
  else
    libdir=${prefix}${lib_suffix}
  fi
fi


if test "$echo_version" = "yes" ; then
  echo $version
fi

if test "$echo_prefix" = "yes" ; then
  echo ${SYSROOT}$prefix
fi

if test "$echo_exec_prefix" = "yes" ; then
  echo ${SYSROOT}$exec_prefix
fi

if test "$echo_ft_version" = "yes" ; then
  major=`grep define ${SYSROOT}$includedir/freetype2/freetype/freetype.h \
         | grep FREETYPE_MAJOR \
         | sed 's/.*[ 	]\([0-9][0-9]*\).*/\1/'`
  minor=`grep define ${SYSROOT}$includedir/freetype2/freetype/freetype.h \
         | grep FREETYPE_MINOR \
         | sed 's/.*[ 	]\([0-9][0-9]*\).*/\1/'`
  patch=`grep define ${SYSROOT}$includedir/freetype2/freetype/freetype.h \
         | grep FREETYPE_PATCH \
         | sed 's/.*[ 	]\([0-9][0-9]*\).*/\1/'`
  echo $major.$minor.$patch
fi

if test "$echo_cflags" = "yes" ; then
  echo $cflags | sed "s|$orig_includedir/freetype2|$includedir/freetype2|"
fi

if test "$echo_libs" = "yes" ; then
  if test "$show_static" = "yes" ; then
    libs="$libs_L $static_libs"
  else
    libs="$libs_L $dynamic_libs"
  fi
  echo $libs | sed "s|$orig_libdir|$libdir|"
fi

if test "$echo_libtool" = "yes" ; then
  echo ${SYSROOT}$libdir/libfreetype.la
fi

# EOF
@


1.14
log
@
Update to FreeType 2.6.3

ok sthen@@, naddy@@, matthieu@@
@
text
@d3 1
a3 1
# Copyright 2000-2016 by
d15 49
a63 5
prefix="%prefix%"
exec_prefix="%exec_prefix%"
exec_prefix_set="no"
includedir="%includedir%"
libdir="%libdir%"
d86 1
d91 1
d96 1
d124 2
a125 2
    echo %ft_version%
    exit 0
d142 3
d152 1
d159 14
a180 9
if test "$exec_prefix_set" = "yes" ; then
  libdir=$exec_prefix/lib
else
  if test "$local_prefix" = "yes" ; then
    includedir=$prefix/include
    libdir=$prefix/lib
  fi
fi

d195 1
a195 1
  echo -I${SYSROOT}$includedir/freetype2
a198 2
  libs="%LIBSSTATIC_CONFIG%"
  staticlibs="%LIBSSTATIC_CONFIG%"
d200 1
a200 5
    libs="$staticlibs"
  fi
  if test "${SYSROOT}$libdir" != "/usr/lib"  &&
     test "${SYSROOT}$libdir" != "/usr/lib64"; then
    echo -L${SYSROOT}$libdir $libs
d202 1
a202 1
    echo $libs
d204 1
d208 1
a208 2
  convlib="libfreetype.la"
  echo ${SYSROOT}$libdir/$convlib
@


1.13
log
@
Update to freetype-2.6.1

OK matthieu@@

Bulk build by naddy@@, thanks!
@
text
@d3 1
a3 1
# Copyright 2000-2015 by
@


1.12
log
@
Update to FreeType 2.6

OK matthieu@@
@
text
@a19 1
enable_shared="%build_libtool_libs%"
d126 1
a126 1
  major=`grep define ${SYSROOT}$includedir/freetype2/freetype.h \
d129 1
a129 1
  minor=`grep define ${SYSROOT}$includedir/freetype2/freetype.h \
d132 1
a132 1
  patch=`grep define ${SYSROOT}$includedir/freetype2/freetype.h \
d139 1
a139 2
  cflags="-I${SYSROOT}$includedir/freetype2"
  echo $cflags
@


1.11
log
@
Update to freetype-2.5.4

ports bulk build by landry@@

OK matthieu@@
@
text
@d3 1
a3 1
# Copyright 2000-2005, 2008, 2009, 2013, 2014 by
@


1.10
log
@Revert previous. This was not part of our local changes and the
commit wasn't approved. The correct fix is in ../../Makefile
@
text
@d145 1
a145 1
  libs="%LIBS_CONFIG%"
@


1.9
log
@
(re)fix freetype-config too.

Spotted by nigel@@
@
text
@d41 2
d93 3
d145 5
a149 1
  libs="-lfreetype %LIBZ% %LIBBZ2% %LIBPNG% %FT2_EXTRA_LIBS%"
@


1.8
log
@
Security/bugfixing update to freetype-2.5.3, featuring a fix for a
vulnerability in the CFF driver (CVE-2014-2240) and assorted minor
fixes.

ok matthieu@@
@
text
@a40 2
  --static               make command line options display flags
                         for static linking
a90 3
  --static)
    show_static=yes
    ;;
d140 1
a140 5
  libs="%LIBS_CONFIG%"
  staticlibs="%LIBSSTATIC_CONFIG%"
  if test "$show_static" = "yes" ; then
    libs="$staticlibs"
  fi
@


1.7
log
@Update to freetype 2.5.2.

With help for handling ports breakage from at least landry@@, naddy@@,
ajacoutot@@, jasper@@, and dcoppa@@. Thanks to all.

Need an up to date /etc/mtree/BSD.x11.dist (from a base system build)
before building.
@
text
@d3 1
a3 1
# Copyright 2000-2005, 2008, 2009, 2013 by
d41 2
d93 3
d145 5
a149 1
  libs="-lfreetype %LIBZ% %LIBBZ2% %LIBPNG% %FT2_EXTRA_LIBS%"
@


1.6
log
@Update to freetype 2.4.12. tested by many during t2k13. Thanks.
@
text
@d122 1
a122 1
  major=`grep define ${SYSROOT}$includedir/freetype2/freetype/freetype.h \
d125 1
a125 1
  minor=`grep define ${SYSROOT}$includedir/freetype2/freetype/freetype.h \
d128 1
a128 1
  patch=`grep define ${SYSROOT}$includedir/freetype2/freetype/freetype.h \
d136 1
a136 5
  if test "${SYSROOT}$includedir" != "/usr/include" ; then
    echo $cflags -I${SYSROOT}$includedir
  else
    echo $cflags
  fi
d140 1
a140 1
  libs="-lfreetype %LIBZ% %LIBBZ2% %FT2_EXTRA_LIBS%"
@


1.5
log
@Update to freetype 2.4.5. Tested by many.
@
text
@d3 1
a3 1
# Copyright 2000, 2001, 2002, 2003, 2004, 2005, 2008, 2009 by
d12 9
a20 8
prefix=@@prefix@@
exec_prefix=@@exec_prefix@@
exec_prefix_set=no
includedir=@@includedir@@
libdir=@@libdir@@
enable_shared=@@build_libtool_libs@@
wl=@@wl@@
hardcode_libdir_flag_spec='@@hardcode_libdir_flag_spec@@'
d76 1
a76 1
    echo @@ft_version@@
d144 3
a146 6
  rpath=
  if test "$enable_shared" = "yes" ; then
    eval "rpath=\"$hardcode_libdir_flag_spec\""
  fi
  libs="-lfreetype @@LIBZ@@ @@LIBBZ2@@ @@FT2_EXTRA_LIBS@@"
  if test "${SYSROOT}$libdir" != "/usr/lib" && test "${SYSROOT}$libdir" != "/usr/lib64"; then
@


1.4
log
@Update to freetpe 2.3.12. Tested against ports by naddy@@.
@
text
@d147 1
a147 1
  libs="-lfreetype @@LIBZ@@ @@FT2_EXTRA_LIBS@@"
@


1.3
log
@Update to Freetype 2.3.9.

Bump major to be safe.
Small arm assembler fix in ftconfig.h by drahn@@
@
text
@d104 1
a104 1
  echo $prefix
d108 1
a108 1
  echo $exec_prefix
d121 1
a121 1
  major=`grep define $includedir/freetype2/freetype/freetype.h \
d124 1
a124 1
  minor=`grep define $includedir/freetype2/freetype/freetype.h \
d127 1
a127 1
  patch=`grep define $includedir/freetype2/freetype/freetype.h \
d134 3
a136 3
  cflags="-I$includedir/freetype2"
  if test "$includedir" != "/usr/include" ; then
    echo $cflags -I$includedir
d148 2
a149 2
  if test "$libdir" != "/usr/lib" && test "$libdir" != "/usr/lib64"; then
    echo -L$libdir $rpath $libs
d157 1
a157 1
  echo $libdir/$convlib
@


1.2
log
@Update to freetype 2.3.6.
Contains security fixes for CVE-2008-1806, CVE-2008-1807 and CVE-2008-1808.
Tested by many.
@
text
@d3 1
a3 1
# Copyright 2000, 2001, 2002, 2003, 2004, 2005, 2008 by
d79 1
a79 11
    major=`grep define @@prefix@@/include/freetype2/freetype/freetype.h \
           | grep FREETYPE_MAJOR \
           | sed 's/.*[ 	]\([0-9][0-9]*\).*/\1/'`
    minor=`grep define @@prefix@@/include/freetype2/freetype/freetype.h \
           | grep FREETYPE_MINOR \
           | sed 's/.*[ 	]\([0-9][0-9]*\).*/\1/'`
    patch=`grep define @@prefix@@/include/freetype2/freetype/freetype.h \
           | grep FREETYPE_PATCH \
           | sed 's/.*[ 	]\([0-9][0-9]*\).*/\1/'`
    echo $major.$minor.$patch
    exit 0
d118 13
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
# Copyright 2000, 2001, 2002, 2003, 2004, 2005 by
d17 1
a17 1
enable_shared=@@enable_shared@@
d144 1
a144 1
  libs="-lfreetype @@LIBZ@@"
@


1.1.1.1
log
@Import freetype 2.2.1
@
text
@@


1.1.1.2
log
@import freetype 2.3.5
@
text
@d144 1
a144 1
  libs="-lfreetype @@LIBZ@@ @@FT2_EXTRA_LIBS@@"
@

