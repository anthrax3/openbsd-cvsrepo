head	1.47;
access;
symbols
	OPENBSD_6_1_BASE:1.47
	OPENBSD_6_0:1.43.0.2
	OPENBSD_6_0_BASE:1.43
	OPENBSD_5_9:1.42.0.2
	OPENBSD_5_9_BASE:1.42
	OPENBSD_5_8:1.40.0.2
	OPENBSD_5_8_BASE:1.40
	OPENBSD_5_7:1.38.0.2
	OPENBSD_5_7_BASE:1.38
	OPENBSD_5_6:1.36.0.2
	OPENBSD_5_6_BASE:1.36
	OPENBSD_5_5:1.33.0.2
	OPENBSD_5_5_BASE:1.33
	OPENBSD_5_4:1.30.0.2
	OPENBSD_5_4_BASE:1.30
	OPENBSD_5_3:1.29.0.2
	OPENBSD_5_3_BASE:1.29
	OPENBSD_5_2:1.25.0.2
	OPENBSD_5_2_BASE:1.25
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.2
	OPENBSD_5_0:1.20.0.2
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.19.0.2
	OPENBSD_4_9_BASE:1.19
	OPENBSD_4_8:1.16.0.4
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.14.0.4
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.14.0.2
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.12.0.2
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.11.0.2
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_3:1.10.0.2
	v2_3_5:1.1.1.1
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	v2_2_1:1.1.1.1
	freetype:1.1.1;
locks; strict;
comment	@# @;


1.47
date	2017.01.13.11.19.58;	author dcoppa;	state Exp;
branches;
next	1.46;
commitid	ESXG9TuEmwmBXggf;

1.46
date	2016.10.28.21.41.14;	author dcoppa;	state Exp;
branches;
next	1.45;
commitid	T2hf37tVZU8TmjB1;

1.45
date	2016.10.10.13.34.43;	author matthieu;	state Exp;
branches;
next	1.44;
commitid	EkQV3yf9tZSpUgE4;

1.44
date	2016.08.09.07.16.08;	author dcoppa;	state Exp;
branches;
next	1.43;
commitid	C8TgUUJolulx9B5d;

1.43
date	2016.05.29.11.57.09;	author dcoppa;	state Exp;
branches;
next	1.42;
commitid	1dOLexdOAzW2mQjp;

1.42
date	2015.12.07.09.34.02;	author dcoppa;	state Exp;
branches;
next	1.41;
commitid	wZOPiDmcwgRFTDVL;

1.41
date	2015.10.19.07.51.34;	author dcoppa;	state Exp;
branches;
next	1.40;
commitid	d2XmJCtYff11VIDu;

1.40
date	2015.07.19.10.39.19;	author matthieu;	state Exp;
branches;
next	1.39;
commitid	KsIk57c6eCntuIhQ;

1.39
date	2015.06.28.08.27.44;	author dcoppa;	state Exp;
branches;
next	1.38;
commitid	qXwIGV2h9uFjxAmt;

1.38
date	2015.01.10.17.17.22;	author dcoppa;	state Exp;
branches;
next	1.37;
commitid	2tSYQMWVSV3t7clo;

1.37
date	2014.12.26.17.52.34;	author dcoppa;	state Exp;
branches;
next	1.36;
commitid	gwhRExMduYqoPQHI;

1.36
date	2014.03.15.18.02.09;	author matthieu;	state Exp;
branches;
next	1.35;

1.35
date	2014.03.14.20.41.41;	author dcoppa;	state Exp;
branches;
next	1.34;

1.34
date	2014.03.14.08.17.59;	author dcoppa;	state Exp;
branches;
next	1.33;

1.33
date	2014.02.16.08.10.36;	author matthieu;	state Exp;
branches;
next	1.32;

1.32
date	2014.01.12.15.08.24;	author matthieu;	state Exp;
branches;
next	1.31;

1.31
date	2013.10.10.19.49.34;	author matthieu;	state Exp;
branches;
next	1.30;

1.30
date	2013.06.07.17.21.07;	author matthieu;	state Exp;
branches;
next	1.29;

1.29
date	2013.01.04.16.51.55;	author matthieu;	state Exp;
branches;
next	1.28;

1.28
date	2012.10.29.20.15.29;	author matthieu;	state Exp;
branches;
next	1.27;

1.27
date	2012.10.26.06.09.27;	author matthieu;	state Exp;
branches;
next	1.26;

1.26
date	2012.10.13.17.16.20;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2012.07.07.16.45.03;	author dcoppa;	state Exp;
branches;
next	1.24;

1.24
date	2012.04.14.09.45.45;	author matthieu;	state Exp;
branches;
next	1.23;

1.23
date	2011.11.19.11.32.45;	author matthieu;	state Exp;
branches;
next	1.22;

1.22
date	2011.11.13.22.34.37;	author matthieu;	state Exp;
branches;
next	1.21;

1.21
date	2011.09.28.19.01.21;	author matthieu;	state Exp;
branches;
next	1.20;

1.20
date	2011.07.18.20.29.56;	author matthieu;	state Exp;
branches;
next	1.19;

1.19
date	2010.12.19.16.08.12;	author matthieu;	state Exp;
branches;
next	1.18;

1.18
date	2010.10.23.19.30.16;	author matthieu;	state Exp;
branches;
next	1.17;

1.17
date	2010.09.01.19.14.23;	author matthieu;	state Exp;
branches;
next	1.16;

1.16
date	2010.05.08.14.15.29;	author matthieu;	state Exp;
branches;
next	1.15;

1.15
date	2010.03.25.20.32.36;	author matthieu;	state Exp;
branches;
next	1.14;

1.14
date	2009.03.26.07.31.44;	author matthieu;	state Exp;
branches;
next	1.13;

1.13
date	2009.03.10.20.28.33;	author matthieu;	state Exp;
branches;
next	1.12;

1.12
date	2008.08.21.05.09.08;	author matthieu;	state Exp;
branches;
next	1.11;

1.11
date	2008.06.22.17.37.35;	author matthieu;	state Exp;
branches;
next	1.10;

1.10
date	2007.10.27.07.09.48;	author matthieu;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.08.16.39.54;	author matthieu;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.29.15.37.57;	author matthieu;	state Exp;
branches;
next	1.7;

1.7
date	2007.04.07.15.37.50;	author matthieu;	state Exp;
branches;
next	1.6;

1.6
date	2006.12.23.10.42.41;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2006.12.02.16.28.48;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2006.11.29.18.03.09;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2006.11.27.19.56.35;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2006.11.26.11.54.18;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.25.18.44.16;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.25.18.44.16;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.47
log
@
Update to FreeType-2.7.1

i386 bulk build by sthen@@
amd64 bulk build by naddy@@

OK matthieu@@
@
text
@#	$OpenBSD: Makefile,v 1.46 2016/10/28 21:41:14 dcoppa Exp $

FREETYPESRC=	${.CURDIR}/src

# Get it from builds/unix/configure.ac
FT_VERSION_INFO= 19.0.13
INSTALL_PROGRAM = ${INSTALL} ${INSTALL_COPY} -m 755 -o $(BINOWN) -g $(BINGRP)

.ifmake includes
SUBDIR=	include
.endif

DEBUG?=

LIB=	freetype

SRCS=   ftbase.c ftbbox.c ftbdf.c ftbitmap.c ftdebug.c ftcache.c \
	ftcid.c ftfstype.c ftgasp.c ftglyph.c \
	ftgxval.c ftlcdfil.c ftotval.c ftpatent.c \
        ftinit.c ftlzw.c ftmm.c ftpfr.c ftstroke.c ftsynth.c ftsystem.c \
        fttype1.c ftwinfnt.c ftfntfmt.c autofit.c bdf.c cff.c \
        ftgzip.c pcf.c pfr.c psaux.c pshinter.c psnames.c \
        raster.c sfnt.c smooth.c truetype.c type1.c type1cid.c type42.c \
	winfnt.c

CPPFLAGS+= -I${.CURDIR}/include -I${.CURDIR}/builds/unix -I${.CURDIR}/src/lzw -DFT2_BUILD_LIBRARY

CLEANFILES+=	freetype-config freetype2.pc

obj:	_xenocara_obj

beforedepend:	freetype-config freetype2.pc

beforeinstall:
	cd ${.CURDIR} ; exec ${MAKE} ${MAKE_FLAGS} includes

includes: _SUBDIRUSE
	@@cmp -s ${DESTDIR}${X11BASE}/include/freetype2/ft2build.h \
	  ${.CURDIR}/include/ft2build.h || \
	${INSTALL_DATA} ${.CURDIR}/include/ft2build.h \
	  ${DESTDIR}${X11BASE}/include/freetype2/ft2build.h
	@@cmp -s ${DESTDIR}${X11BASE}/include/freetype2/freetype/config/ftconfig.h \
	  ${.CURDIR}/builds/unix/ftconfig.h || \
	${INSTALL_DATA} ${.CURDIR}/builds/unix/ftconfig.h \
	  ${DESTDIR}${X11BASE}/include/freetype2/freetype/config/ftconfig.h

install-pc: freetype2.pc
	${INSTALL_DATA} freetype2.pc ${DESTDIR}${LIBDIR}/pkgconfig

install-config: freetype-config
	${INSTALL_PROGRAM} freetype-config ${DESTDIR}${X11BASE}/bin

freetype2.pc: freetype2.in Makefile
	sed -e s,%prefix%,${X11BASE}, -e s,%exec_prefix%,${X11BASE}, \
		-e s,%ft_version%,${FT_VERSION_INFO}, \
		-e s,%includedir%,${INCSDIR}, -e s,%libdir%,${LIBDIR}, \
		-e s,%LIBS_PRIVATE%,-lz, -e s,%REQUIRES_PRIVATE%,, \
		< ${.CURDIR}/builds/unix/freetype2.in > freetype2.pc

freetype-config: freetype-config.in
	sed -e s,%prefix%,${X11BASE}, -e s,%exec_prefix%,${X11BASE}, \
		-e s,%includedir%,${INCSDIR}, -e s,%libdir%,${LIBDIR}, \
		-e 's,%LIBSSTATIC_CONFIG%,-lfreetype -lz,' \
		-e 's,%hardcode_libdir_flag_spec%,,' \
		-e 's,%ft_version%,${FT_VERSION_INFO},' -e 's,%wl%,,' \
		-e 's,%build_libtool_libs%,yes,' \
		< ${.CURDIR}/builds/unix/freetype-config.in \
		> freetype-config

realinstall:	install-pc install-config

NOPROFILE=

.include <bsd.lib.mk>
.include <bsd.xorg.mk>

.PATH:	${.CURDIR}/builds/unix
.PATH:	${FREETYPESRC}/autofit
.PATH:  ${FREETYPESRC}/base
.PATH:  ${FREETYPESRC}/bdf
.PATH:	${FREETYPESRC}/cache
.PATH:  ${FREETYPESRC}/cff
.PATH:  ${FREETYPESRC}/cid
.PATH:  ${FREETYPESRC}/gzip
.PATH:	${FREETYPESRC}/lzw
.PATH:  ${FREETYPESRC}/pcf
.PATH:  ${FREETYPESRC}/pfr
.PATH:  ${FREETYPESRC}/psaux
.PATH:  ${FREETYPESRC}/pshinter
.PATH:  ${FREETYPESRC}/psnames
.PATH:  ${FREETYPESRC}/raster
.PATH:  ${FREETYPESRC}/sfnt
.PATH:  ${FREETYPESRC}/smooth
.PATH:  ${FREETYPESRC}/truetype
.PATH:  ${FREETYPESRC}/type1
.PATH:  ${FREETYPESRC}/type42
.PATH:  ${FREETYPESRC}/winfonts

.include <bsd.subdir.mk>

@


1.46
log
@
Update to FreeType 2.7

Now Subpixel hinting, also known as ClearType hinting, is enabled
by default.

OK matthieu@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.45 2016/10/10 13:34:43 matthieu Exp $
d6 1
a6 1
FT_VERSION_INFO= 18.6.12
@


1.45
log
@Remove the global 'make includes' step from 'make build'.
This is no longer needed and gets in the way of tightening
permission used during build. ok and suggestions natano@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.44 2016/08/09 07:16:08 dcoppa Exp $
d6 1
a6 1
FT_VERSION_INFO= 18.5.12
@


1.44
log
@
Update to FreeType 2.6.5

ok matthieu@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.43 2016/05/29 11:57:09 dcoppa Exp $
d32 4
a35 1
beforedepend:	freetype-config freetype2.pc includes-root
a45 3

includes-root:
	cd ${.CURDIR} && exec ${SUDO} ${MAKE} includes
@


1.43
log
@
Update to FreeType 2.6.3

ok sthen@@, naddy@@, matthieu@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.42 2015/12/07 09:34:02 dcoppa Exp $
d6 1
a6 1
FT_VERSION_INFO= 18.3.12
@


1.42
log
@
Bugfixing update to freetype-2.6.2

Tested on amd64, i386, macppc, sparc64, loongson and compile-tested
on arm by matthieu@@
Also tested in a ports bulk build by naddy@@

OK matthieu@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.41 2015/10/19 07:51:34 dcoppa Exp $
d6 1
a6 1
FT_VERSION_INFO= 18.2.12
@


1.41
log
@
Update to freetype-2.6.1

OK matthieu@@

Bulk build by naddy@@, thanks!
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.40 2015/07/19 10:39:19 matthieu Exp $
d6 1
a6 1
FT_VERSION_INFO= 18.1.12
@


1.40
log
@Clean up and fix make depend.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.39 2015/06/28 08:27:44 dcoppa Exp $
d6 1
a6 1
FT_VERSION_INFO= 18.0.12
d42 1
a42 1
	  ${DESTDIR}${X11BASE}/include/freetype2/config/ftconfig.h
@


1.39
log
@
Update to FreeType 2.6

OK matthieu@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.38 2015/01/10 17:17:22 dcoppa Exp $
d32 1
a32 6
build:
	cd ${.CURDIR} && ${MAKE} clean
	cd ${.CURDIR} && ${SUDO} ${MAKE} includes
	cd ${.CURDIR} && ${MAKE} depend
	cd ${.CURDIR} && ${MAKE} all
	cd ${.CURDIR} && ${SUDO} ${MAKE} install
d34 1
a34 1
includes:: _SUBDIRUSE
a38 4

depend:	freetype-config freetype2.pc

includes::
d43 3
@


1.38
log
@
Bugfixing update to freetype-2.5.5

ok matthieu@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.37 2014/12/26 17:52:34 dcoppa Exp $
d6 1
a6 1
FT_VERSION_INFO= 17.4.11
d21 1
a21 1
        fttype1.c ftwinfnt.c ftxf86.c autofit.c bdf.c cff.c \
@


1.37
log
@
Update to freetype-2.5.4

ports bulk build by landry@@

OK matthieu@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.36 2014/03/15 18:02:09 matthieu Exp $
d6 1
a6 1
FT_VERSION_INFO= 17.3.11
@


1.36
log
@Fix freetype-config after update to freetype 2.5.3. reported by nigel@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.35 2014/03/14 20:41:41 dcoppa Exp $
d6 1
a6 1
FT_VERSION_INFO= 17.2.11
d63 1
a63 2
		-e s,%LIBZ%,-lz, -e s,%FT2_EXTRA_LIBS%,, \
		-e s,%LIBBZ2%,, \
a68 1
		-e 's,%LIBS_CONFIG%,-lfreetype -lz,' \
@


1.35
log
@
Revert to the freetype2.pc we had before.
There were local changes and I accidentally removed them.

ok matthieu@@

Sorry for breaking the xenocara tree!
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.34 2014/03/14 08:17:59 dcoppa Exp $
d70 2
a71 3
		-e s,%LIBZ%,-lz, -e s,%FT2_EXTRA_LIBS%,, \
		-e s,%LIBBZ2%,, -e s,%LIBPNG%,, \
		-e s,%enable_shared%,yes, \
@


1.34
log
@
Security/bugfixing update to freetype-2.5.3, featuring a fix for a
vulnerability in the CFF driver (CVE-2014-2240) and assorted minor
fixes.

ok matthieu@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.33 2014/02/16 08:10:36 matthieu Exp $
d63 2
a64 1
		-e s,%REQUIRES_PRIVATE%,zlib, -e s,%LIBS_PRIVATE%,, \
@


1.33
log
@type1cid.c appears twice in sources lists for no reason. Noticed by miod@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.32 2014/01/12 15:08:24 matthieu Exp $
d6 1
a6 1
FT_VERSION_INFO= 17.1.11
d63 1
a63 2
		-e s,%LIBZ%,-lz, -e s,%FT2_EXTRA_LIBS%,, \
		-e s,%LIBBZ2%,, \
@


1.32
log
@Update to freetype 2.5.2.

With help for handling ports breakage from at least landry@@, naddy@@,
ajacoutot@@, jasper@@, and dcoppa@@. Thanks to all.

Need an up to date /etc/mtree/BSD.x11.dist (from a base system build)
before building.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.31 2013/10/10 19:49:34 matthieu Exp $
d22 1
a22 1
        type1cid.c ftgzip.c pcf.c pfr.c psaux.c pshinter.c psnames.c \
@


1.31
log
@Update to freetype 2.5.0.1. Tested by many.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.30 2013/06/07 17:21:07 matthieu Exp $
d6 1
a6 1
FT_VERSION_INFO= 16.2.10
d40 4
a43 4
	@@cmp -s ${DESTDIR}${X11BASE}/include/ft2build.h \
	  ${.CURDIR}/builds/unix/ft2unix.h || \
	${INSTALL_DATA} ${.CURDIR}/builds/unix/ft2unix.h \
	  ${DESTDIR}${X11BASE}/include/ft2build.h
d51 1
a51 1
	  ${DESTDIR}${X11BASE}/include/freetype2/freetype/config/ftconfig.h
d71 1
a71 1
		-e s,%LIBBZ2%,, \
@


1.30
log
@Update to freetype 2.4.12. tested by many during t2k13. Thanks.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.29 2013/01/04 16:51:55 matthieu Exp $
d6 1
a6 1
FT_VERSION_INFO= 16.1.10
@


1.29
log
@Update to freetype 2.4.11. Tested by krw@@, jasper@@ and on a bulk ports
build by naddy@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.28 2012/10/29 20:15:29 matthieu Exp $
d6 1
a6 1
FT_VERSION_INFO= 16.0.10
d60 5
a64 5
	sed -e s%@@prefix@@%${X11BASE}% -e s%@@exec_prefix@@%${X11BASE}% \
		-e s%@@ft_version@@%${FT_VERSION_INFO}% \
		-e s%@@includedir@@%${INCSDIR}% -e s%@@libdir@@%${LIBDIR}% \
		-e s%@@LIBZ@@%-lz% -e s%@@FT2_EXTRA_LIBS@@%% \
		-e s%@@LIBBZ2@@%% \
d68 8
a75 7
	sed -e s%@@prefix@@%${X11BASE}% -e s%@@exec_prefix@@%${X11BASE}% \
		-e s%@@includedir@@%${INCSDIR}% -e s%@@libdir@@%${LIBDIR}% \
		-e s%@@LIBZ@@%-lz% -e s%@@FT2_EXTRA_LIBS@@%% \
		-e s%@@LIBBZ2@@%% \
		-e s%@@enable_shared@@%yes% \
		-e 's%@@hardcode_libdir_flag_spec@@%%' \
		-e 's%@@ft_version@@%${FT_VERSION_INFO}%' -e 's%@@wl@@%%' \
@


1.28
log
@Also install freetype-config during install phase.
And generate freetype2.pc and freetype-config during make depend
to avoid doing that as root. Initial patch from espie@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.27 2012/10/26 06:09:27 matthieu Exp $
d6 1
a6 1
FT_VERSION_INFO= 15.0.9
@


1.27
log
@Make install of freetype2.pc consistent with other xenocara modules.
(don't install it during make includes but during make install).
ok espie@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.26 2012/10/13 17:16:20 espie Exp $
d7 1
d45 2
d56 2
a57 3
includes:: freetype-config
	${INSTALL} ${INSTALL_COPY} -m 755 -o $(BINOWN) -g $(BINGRP) \
	  freetype-config ${DESTDIR}${X11BASE}/bin
d78 1
a78 1
realinstall:	install-pc
@


1.26
log
@tweak a bit for better standards conformance
okay matthieu@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.25 2012/07/07 16:45:03 dcoppa Exp $
d50 2
a51 2
includes:: freetype2.pc
	${INSTALL_DATA} freetype2.pc ${DESTDIR}${X11BASE}/lib/pkgconfig
d75 2
@


1.25
log
@Update to freetype-2.4.10.

With help and ok matthieu@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.24 2012/04/14 09:45:45 matthieu Exp $
d5 2
a6 1
FT_VERSION_INFO= 15.0.9 # Get it from builds/unix/configure.ac
@


1.24
log
@Update to freetype 2.4.9
Another round of fixes to better handle invalid fonts.   Many of
them are vulnerabilities  (see CVE-2012-1126 up to CVE-2012-1144
and SA48320).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.23 2011/11/19 11:32:45 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 14.1.8 # Get it from builds/unix/configure.ac
@


1.23
log
@Update to freetype 2.4.8. Security update fixing CVE-2011-3439
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.22 2011/11/13 22:34:37 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 14.0.8 # Get it from builds/unix/configure.ac
@


1.22
log
@Update for freetype 2.4.7.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.21 2011/09/28 19:01:21 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 13.2.7 # Get it from builds/unix/configure.ac
@


1.21
log
@Update to freetype 2.4.6.

For now, omit the patch to ttdriver.c that changes some font metrics and
appearance of applications using TrueType fonts. Will revisit once the
issue is solved.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.20 2011/07/18 20:29:56 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 13.1.7 # Get it from builds/unix/configure.ac
@


1.20
log
@Update to freetype 2.4.5. Tested by many.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.19 2010/12/19 16:08:12 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 13.0.7 # Get it from builds/unix/configure.ac
@


1.19
log
@Update to freetype 2.4.4. Tested by shadchin@@, ajacoutot@@, krw@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.18 2010/10/23 19:30:16 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 12.2.6 # Get it from builds/unix/configure.ac
d61 1
d68 1
@


1.18
log
@Update to freetype 2.4.3. Tested at least by krw@@, ajacoutot@@ and jasper@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2010/09/01 19:14:23 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 12.1.6 # Get it from builds/unix/configure.ac
@


1.17
log
@Update to freetype 2.4.2. This has been in snapshots for a while
and tested explicitely by ajacoutot@@ jasper@@, jcs@@, krw@@ and others
on various architectures.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 2010/05/08 14:15:29 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 12.0.6 # Get it from builds/unix/configure.ac
@


1.16
log
@use INSTALL_DATA in BSD Makefiles. ok oga@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 2010/03/25 20:32:36 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 10.0.4 # Get it from builds/unix/configure.ac
@


1.15
log
@Update to freetpe 2.3.12. Tested against ports by naddy@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2009/03/26 07:31:44 matthieu Exp $
d40 1
a40 2
	  ${INSTALL} ${INSTALL_COPY} -m 444 -o $(BINOWN) -g $(BINGRP) \
	  ${.CURDIR}/builds/unix/ft2unix.h \
d46 1
a46 2
	  ${INSTALL} ${INSTALL_COPY} -m 444 -o $(BINOWN) -g $(BINGRP) \
	  ${.CURDIR}/builds/unix/ftconfig.h \
d50 1
a50 2
	${INSTALL} ${INSTALL_COPY} -m 444 -o $(BINOWN) -g $(BINGRP) \
	freetype2.pc ${DESTDIR}${X11BASE}/lib/pkgconfig
d54 1
a54 1
	freetype-config ${DESTDIR}${X11BASE}/bin
@


1.14
log
@Update to Freetype 2.3.9.

Bump major to be safe.
Small arm assembler fix in ftconfig.h by drahn@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2009/03/10 20:28:33 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 9.20.3 # Get it from builds/unix/configure.ac
@


1.13
log
@Update to Freetype 2.3.8. Tested by jsg@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2008/08/21 05:09:08 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 9.19.3 # Get it from builds/unix/configure.ac
d16 1
a16 1
	ftcid.c ftgasp.c ftglyph.c \
@


1.12
log
@Update to Freetype 2.3.7. This is a bug fix release. No API change.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2008/06/22 17:37:35 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 9.18.3 # Get it from builds/unix/configure.ac
@


1.11
log
@Update to freetype 2.3.6.
Contains security fixes for CVE-2008-1806, CVE-2008-1807 and CVE-2008-1808.
Tested by many.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2007/10/27 07:09:48 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 9.16.3 # Get it from builds/unix/configure.ac
d72 1
a72 1
		-e 's%@@ft_version@@%9.7.3%' -e 's%@@wl@@%%' \
@


1.10
log
@Use buils/unix/ftsystem.c instead of the generic ANSI C one, which
doesn't set CLOSE_ON_EXEC on files descriptors opened by freetype.
Fixes a fd leak reported by kurt@@. Tested by naddy@@ and others.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2007/09/08 16:39:54 matthieu Exp $
d15 2
a16 2
SRCS=   ftbase.c ftbbox.c ftbdf.c ftbitmap.c ftdebug.c ftcache.c ftgasp.c \
	ftglyph.c \
@


1.9
log
@Merge freetype 2.3.5. Tested by naddy@@ and mbalmer@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2007/05/29 15:37:57 matthieu Exp $
d5 1
a5 1
FT_VERSION_INFO= 9.10.3 # Get it from builds/unix/configure.ac
d24 1
a24 1
CPPFLAGS+= -I${.CURDIR}/include -I${.CURDIR}/src/lzw -DFT2_BUILD_LIBRARY
d44 7
d81 1
a101 3
.PATH:		${.CURDIR}
.PATH:		${.CURDIR}/builds/unix

@


1.8
log
@fix two instances XORG_PREFIX that escaped renaming to X11BASE.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2007/04/07 15:37:50 matthieu Exp $
d15 3
a17 1
SRCS=   ftapi.c ftbase.c ftbbox.c ftbdf.c ftbitmap.c ftdebug.c ftglyph.c \
d21 2
a22 1
        raster.c sfnt.c smooth.c truetype.c type1.c type42.c winfnt.c
d56 2
a57 2
		-e s%@@LIBZ@@%-lz% < ${.CURDIR}/builds/unix/freetype2.in \
		> freetype2.pc
d62 2
a63 1
		-e s%@@LIBZ@@%-lz% -e s%@@enable_shared@@%yes% \
d77 1
@


1.7
log
@Don't include debugging symbols.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2006/12/23 10:42:41 matthieu Exp $
d50 1
a50 1
	sed -e s%@@prefix@@%${X11BASE}% -e s%@@exec_prefix@@%${XORG_PREFIX}% \
d57 1
a57 1
	sed -e s%@@prefix@@%${X11BASE}% -e s%@@exec_prefix@@%${XORG_PREFIX}% \
@


1.6
log
@Missed a sed substitution for freetype2.pc.
Noticed by Frederick C. Druseikis, thanks.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2006/12/02 16:28:48 matthieu Exp $
d10 2
@


1.5
log
@Make 'obj' now can make symlinks to /usr/obj/xenocara (or any other
directory designed by XENOCARA_OBJDIR in /etc/mk.conf).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2006/11/29 18:03:09 matthieu Exp $
d5 2
d47 1
a47 1
freetype2.pc: freetype2.in
d49 1
@


1.4
log
@Disable profiled libs.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2006/11/27 19:56:35 matthieu Exp $
d21 2
d26 1
@


1.3
log
@$Xenocara$ -> $OpenBSD$
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2006/04/17 21:35:40 matthieu Exp $
d56 2
@


1.2
log
@build infrastructure and OpenBSD customisation for Freetype 2.2.1
@
text
@d1 1
a1 1
#	$Xenocara: Makefile,v 1.8 2006/04/17 21:35:40 matthieu Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 3
#
# FreeType 2 build system -- top-level Makefile
#
d3 1
d5 76
a80 8
# Copyright 1996-2000, 2002, 2006 by
# David Turner, Robert Wilhelm, and Werner Lemberg.
#
# This file is part of the FreeType project, and may only be used, modified,
# and distributed under the terms of the FreeType project license,
# LICENSE.TXT.  By continuing to use, modify, or distribute this file you
# indicate that you have read the license and understand and accept it
# fully.
d83 1
a83 4
# Project names
#
PROJECT       := freetype
PROJECT_TITLE := FreeType
a84 14
# The variable TOP_DIR holds the path to the topmost directory in the project
# engine source hierarchy.  If it is not defined, default it to `.'.
#
TOP_DIR ?= .

# The variable OBJ_DIR gives the location where object files and the
# FreeType library are built.
#
OBJ_DIR ?= $(TOP_DIR)/objs


include $(TOP_DIR)/builds/toplevel.mk

# EOF
@


1.1.1.1
log
@Import freetype 2.2.1
@
text
@@
