head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.18
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.16
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.14
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.12
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.10
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.8.0.8
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.8.0.6
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.8.0.4
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.7.0.12
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.10
	OPENBSD_5_0:1.7.0.8
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.4
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.6
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.2
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.6.0.2
	OPENBSD_4_6_BASE:1.6
	v1_2:1.1.1.1
	XENOCARA:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2012.11.07.15.50.22;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2009.10.03.13.57.56;	author matthieu;	state Exp;
branches;
next	1.6;

1.6
date	2009.06.04.16.11.25;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2009.05.31.18.01.28;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2009.05.23.15.08.50;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2009.05.22.21.39.17;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2009.05.22.16.53.05;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2009.05.22.16.09.01;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.05.22.16.09.01;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.8
log
@don't reach out in another src directory, use installed version.

okay matthieu@@
@
text
@#	$OpenBSD: Makefile.inc,v 1.7 2009/10/03 13:57:56 matthieu Exp $

LIBXCB=	${.CURDIR}/../../../dist/libxcb

CPPFLAGS=	-I${X11BASE}/include \
		-I${.CURDIR}/../src -I${LIBXCB}/src \
		-DHAVE_CONFIG_H

LDADD?=		`pkg-config --libs xcb`

NOPROFILE=

.SUFFIXES: .in

.PATH:	${LIBXCB}/src
.PATH:	${.CURDIR}/../src
.PATH.in: ${LIBXCB}
.PATH.xml: ${DATADIR}/xcb

obj: _xenocara_obj

HEADERS_SUBDIR=	xcb/

_SRCDIR?=	${.CURDIR}/../src

PACKAGE_VERSION = `m4 ${DESTDIR}${X11BASE}/share/mk/package_version.m4 ${LIBXCB}/configure.ac`
@


1.7
log
@Don't build profiled libs. No other X lib does.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.6 2009/06/04 16:11:25 matthieu Exp $
d26 1
a26 1
PACKAGE_VERSION!=m4 ${.CURDIR}/../../../share/mk/package_version.m4 ${LIBXCB}/configure.ac
@


1.6
log
@Fix build for system that don't set XSRCDIR explicitely.
Problem noticed by ckuethe@@. Thanks.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.5 2009/05/31 18:01:28 matthieu Exp $
d10 2
@


1.5
log
@Don't use != to call pkg-config in Makefiles. It's slow and generates
tons of warnings if stuff isn't installed yet.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.4 2009/05/23 15:08:50 matthieu Exp $
d24 1
a24 1
PACKAGE_VERSION!=m4 ${XSRCDIR}/share/mk/package_version.m4 ${LIBXCB}/configure.ac
@


1.4
log
@explicitely addt inter-library dependencies.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.3 2009/05/22 21:39:17 matthieu Exp $
d9 1
a9 3
XCB_LIBS!=	pkg-config --libs xcb

LDADD?=		${XCB_LIBS}
@


1.3
log
@use .PATH.in to specifically look for unprocessed pkg-config files.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.2 2009/05/22 16:53:05 matthieu Exp $
d8 4
@


1.2
log
@use the code in bsd.xorg.mk to install headers.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.inc,v 1.1.1.1 2009/05/22 16:09:01 matthieu Exp $
d9 2
a10 1
.PATH:	${LIBXCB}
d13 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$OpenBSD$
d15 3
a17 5
includes:
	@@cd ${.CURDIR}/../src; for i in ${HDRS}; do \
	  cmp -s $$i ${DESTDIR}${INCSDIR}/xcb/$$i || \
	  ${INSTALL} ${INSTALL_COPY} -m 444 -o ${BINOWN} -g ${BINGRP} $$i \
	  ${DESTDIR}/${INCSDIR}/xcb; done
@


1.1.1.1
log
@Xenocara build infrastructure for libxcb.

This includes a set of pre-generated sources files in src/ so that
python and xslt are not needed to build.
@
text
@@
