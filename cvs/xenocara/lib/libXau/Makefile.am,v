head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.18
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.6.0.16
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.14
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.12
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.10
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.8
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.6
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.4
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.5.0.4
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.6
	OPENBSD_5_0:1.4.0.4
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.3.0.6
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.2.0.6
	OPENBSD_4_4_BASE:1.1.1.2
	OPENBSD_4_3_BASE:1.1.1.2
	OPENBSD_4_3:1.1.1.2.0.4
	OPENBSD_4_2:1.1.1.2.0.2
	OPENBSD_4_2_BASE:1.1.1.2
	v1_0_3:1.1.1.2
	v1_0_1:1.1.1.1
	xorg:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2013.05.31.14.46.31;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2012.03.10.11.59.38;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2010.08.21.16.11.03;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2009.10.31.17.44.36;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2008.08.27.19.42.20;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.25.16.54.52;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.25.16.54.52;	author matthieu;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2006.12.16.21.38.48;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to libXau 1.0.8
@
text
@SUBDIRS=man

lib_LTLIBRARIES = libXau.la

AM_CFLAGS = $(XAU_CFLAGS) $(CWARNFLAGS)
AM_CPPFLAGS = -I${top_srcdir}/include

libXau_la_LDFLAGS = -version-number 6:0:0 -no-undefined

libXau_la_LIBADD = $(XAU_LIBS)

libXau_la_SOURCES = \
	AuDispose.c \
	AuFileName.c \
	AuGetAddr.c \
	AuGetBest.c \
	AuLock.c \
	AuRead.c \
	AuUnlock.c \
	AuWrite.c

xauincludedir=$(includedir)/X11

xauinclude_HEADERS = include/X11/Xauth.h

pkgconfigdir = $(libdir)/pkgconfig
pkgconfig_DATA = xau.pc

check_PROGRAMS=Autest
TESTS=Autest

Autest_SOURCES=Autest.c
Autest_LDADD=libXau.la

if LINT
ALL_LINT_FLAGS=$(LINT_FLAGS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
		$(AM_CPPFLAGS) $(CPPFLAGS)

lint:
	$(LINT) $(ALL_LINT_FLAGS) $(libXau_la_SOURCES)
endif LINT

if MAKE_LINT_LIB
lintlibdir = $(libdir)

lintlib_DATA = $(LINTLIB)

$(LINTLIB): $(libXau_la_SOURCES)
	$(LINT) -y -oXau -x $(ALL_LINT_FLAGS) $(libXau_la_SOURCES)
endif MAKE_LINT_LIB

CLEANFILES = $(lintlib_DATA)
MAINTAINERCLEANFILES = ChangeLog INSTALL

.PHONY: ChangeLog INSTALL

INSTALL:
	$(INSTALL_CMD)

ChangeLog:
	$(CHANGELOG_CMD)

dist-hook: ChangeLog INSTALL
@


1.5
log
@Update to libXau 1.0.7
@
text
@d6 1
a6 2

INCLUDES = -I${top_srcdir}/include
@


1.4
log
@Update to libXau 1.0.6. No functional change.
@
text
@d1 2
d53 1
a53 9
LIB_MAN_DIR_SUFFIX = $(LIB_MAN_DIR:@@mandir@@/man%=%)

libmandir = $(LIB_MAN_DIR)
libman_PRE = Xau.man
BUILT_SOURCES = $(Xau_shadows:=.@@LIB_MAN_SUFFIX@@)
CLEANFILES = $(libman_DATA) $(BUILT_SOURCES) $(lintlib_DATA)
libman_DATA = $(libman_PRE:man=@@LIB_MAN_SUFFIX@@) \
	      $(Xau_shadows:=.@@LIB_MAN_SUFFIX@@)

a54 23
EXTRA_DIST = $(libman_PRE)

Xau_shadows =                               \
    XauFileName                             \
    XauReadAuth                             \
    XauLockAuth                             \
    XauUnlockAuth                           \
    XauWriteAuth                            \
    XauDisposeAuth                          \
    XauGetAuthByAddr                        \
    XauGetBestAuthByAddr

Xau_shadows_man = $(Xau_shadows:=.@@LIB_MAN_SUFFIX@@)
$(Xau_shadows_man):
	$(AM_V_GEN)echo .so man$(LIB_MAN_DIR_SUFFIX)/Xau.$(LIB_MAN_SUFFIX) > $@@

XORGRELSTRING = @@PACKAGE_STRING@@
  XORGMANNAME = X Version 11

Xau.$(LIB_MAN_SUFFIX): $(srcdir)/Xau.man
	$(AM_V_GEN)$(SED) \
		-e 's/__xorgversion__/"$(XORGRELSTRING)" "$(XORGMANNAME)"/' \
	< $(srcdir)/Xau.man > Xau.$(LIB_MAN_SUFFIX)
@


1.3
log
@Update to libXau 1.0.5
@
text
@d3 1
a3 1
AM_CFLAGS = $(XAU_CFLAGS)
d60 2
a61 1
EXTRA_DIST = xau.pc.in $(libman_PRE) ChangeLog
d75 1
a75 1
	echo .so man$(LIB_MAN_DIR_SUFFIX)/Xau.$(LIB_MAN_SUFFIX) > $@@
d81 2
a82 1
	sed 's/__xorgversion__/"$(XORGRELSTRING)" "$(XORGMANNAME)"/' \
d85 4
a88 1
.PHONY: ChangeLog
d93 1
a93 1
dist-hook: ChangeLog
@


1.2
log
@libXau 1.0.4 (no binary change on OpenBSD)
@
text
@a20 4
if KERBEROS
libXau_la_SOURCES +=k5encode.c
endif KERBEROS

d86 1
a86 1
	(GIT_DIR=$(top_srcdir)/.git git-log > .changelog.tmp && mv .changelog.tmp ChangeLog; rm -f .changelog.tmp) || (touch ChangeLog; echo 'git directory not found: installing possibly empty changelog.' >&2)
@


1.1
log
@Initial revision
@
text
@d32 23
d59 2
a60 2
BUILT_SOURCES = shadows.DONE
CLEANFILES = $(libman_DATA)
d64 1
a64 1
EXTRA_DIST = xau.pc.in Autest.c $(libman_PRE)
d76 3
a78 5
shadows.DONE:
	-rm -f $(Xau_shadows:=.@@LIB_MAN_SUFFIX@@)
	(for i in $(Xau_shadows:=.@@LIB_MAN_SUFFIX@@) ; do \
	 echo .so man$(LIB_MAN_DIR_SUFFIX)/Xau.$(LIB_MAN_SUFFIX) > $$i; \
	 done)
d86 7
@


1.1.1.1
log
@import from X.Org 7.2RC2
@
text
@@


1.1.1.2
log
@libXau 1.0.3
@
text
@a31 23
check_PROGRAMS=Autest
TESTS=Autest

Autest_SOURCES=Autest.c
Autest_LDADD=libXau.la

if LINT
ALL_LINT_FLAGS=$(LINT_FLAGS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \
		$(AM_CPPFLAGS) $(CPPFLAGS)

lint:
	$(LINT) $(ALL_LINT_FLAGS) $(libXau_la_SOURCES)
endif LINT

if MAKE_LINT_LIB
lintlibdir = $(libdir)

lintlib_DATA = $(LINTLIB)

$(LINTLIB): $(libXau_la_SOURCES)
	$(LINT) -y -oXau -x $(ALL_LINT_FLAGS) $(libXau_la_SOURCES)
endif MAKE_LINT_LIB

d37 1
a37 1
CLEANFILES = $(libman_DATA) $(BUILT_SOURCES) $(lintlib_DATA)
d41 1
a41 1
EXTRA_DIST = xau.pc.in $(libman_PRE) ChangeLog
a57 1
	touch shadows.DONE
a64 7

.PHONY: ChangeLog

ChangeLog:
	(GIT_DIR=$(top_srcdir)/.git git-log > .changelog.tmp && mv .changelog.tmp ChangeLog; rm -f .changelog.tmp) || (touch ChangeLog; echo 'git directory not found: installing possibly empty changelog.' >&2)

dist-hook: ChangeLog
@

