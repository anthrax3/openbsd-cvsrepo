head	1.13;
access;
symbols
	OPENBSD_5_3:1.12.0.6
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.12.0.4
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.2
	OPENBSD_5_0:1.11.0.6
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.11.0.4
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.10.0.4
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.9.0.8
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.6
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_3:1.9.0.4
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9;
locks; strict;
comment	@# @;


1.13
date	2013.03.09.14.34.40;	author matthieu;	state dead;
branches;
next	1.12;

1.12
date	2012.01.26.08.09.21;	author matthieu;	state Exp;
branches;
next	1.11;

1.11
date	2010.03.25.21.45.57;	author matthieu;	state Exp;
branches;
next	1.10;

1.10
date	2009.04.05.16.43.35;	author matthieu;	state Exp;
branches;
next	1.9;

1.9
date	2007.05.31.21.18.47;	author matthieu;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.31.15.53.10;	author matthieu;	state Exp;
branches;
next	1.7;

1.7
date	2006.12.31.16.12.52;	author matthieu;	state Exp;
branches;
next	1.6;

1.6
date	2006.12.31.15.33.12;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2006.12.17.21.45.51;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2006.12.12.21.31.29;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2006.12.02.11.08.58;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2006.12.01.20.28.24;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.12.07.34;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Update to fontconfig 2.10.91 + a few local fixes.
Move to a new BSD make based build system since fontconfig's build
system has become too dependant on GNU make.

Requested by ajacoutot@@, tested by many back in january.
@
text
@#	$OpenBSD: Makefile.bsd-wrapper,v 1.12 2012/01/26 08:09:21 matthieu Exp $

SHARED_LIBS=	fontconfig 7.0

CONFIGURE_ARGS= --with-expat=${X11BASE} --sysconfdir=/etc \
	--mandir=${X11BASE}/man \
	--with-cache-dir=/var/cache/fontconfig \
	--with-default-fonts=${X11BASE}/lib/X11/fonts \
	--with-add-fonts=/usr/local/lib/X11/fonts

realinstall:
	exec ${MAKE} RUN_FC_CACHE_TEST=false ${_lt_libs} install

.include <bsd.xorg.mk>
@


1.12
log
@Forcee the shared library revision for install too.
This fixes issues where, because of NFS client/server clock skew,
the lib gets rebuilt at install time. Problem noticed by todd@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.11 2010/03/25 21:45:57 matthieu Exp $
@


1.11
log
@Update to fontconfig 2.8.0. Tested on a full ports build by naddy@@.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.10 2009/04/05 16:43:35 matthieu Exp $
d12 1
a12 1
	exec ${MAKE} RUN_FC_CACHE_TEST=false install
@


1.10
log
@Update to fontconfig 2.6.0. ok naddy@@

this uses a patched version of libtool to fix linking on vax.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.9 2007/05/31 21:18:47 matthieu Exp $
d3 1
a3 1
SHARED_LIBS=	fontconfig 6.0
@


1.9
log
@Don't strip this library.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.8 2007/05/31 15:53:10 matthieu Exp $
d3 1
a3 1
SHARED_LIBS=	fontconfig 5.1
@


1.8
log
@Don't run fc-cache while running make install there. It's just a waste
of time.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.7 2006/12/31 16:12:52 matthieu Exp $
d12 1
a12 1
	exec ${MAKE} RUN_FC_CACHE_TEST=false install-strip
@


1.7
log
@Fix doc build/install (based on a patch from dim@@) and re-enable it.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.6 2006/12/31 15:33:12 matthieu Exp $
d10 3
@


1.6
log
@Bump minor (one function added)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.5 2006/12/17 21:45:51 matthieu Exp $
d9 1
a9 2
	--with-add-fonts=/usr/local/lib/X11/fonts \
	--disable-docs
@


1.5
log
@fix mandir definition
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.4 2006/12/12 21:31:29 matthieu Exp $
d3 1
a3 1
SHARED_LIBS=	fontconfig 5.0
@


1.4
log
@Disable building of docs explicitely. Avoids that installed
docbook2html triggers it accidentally.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.3 2006/12/02 11:08:58 matthieu Exp $
d6 1
a6 1
	--mandir=${X11BASE}/share/man \
@


1.3
log
@Cache dir is /var/cache/fontconfig, not /var/cache.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.2 2006/12/01 20:28:24 matthieu Exp $
d9 2
a10 1
	--with-add-fonts=/usr/local/lib/X11/fonts
@


1.2
log
@Font cache goes to /var/cache
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile.bsd-wrapper,v 1.1 2006/11/26 12:07:34 matthieu Exp $
d7 1
a7 1
	--with-cache-dir=/var/cache \
@


1.1
log
@Build infrastructure for lib
@
text
@d1 1
a1 1
#	$OpenBSD$
d7 1
@

