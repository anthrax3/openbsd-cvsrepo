head	1.1;
access;
symbols
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.6
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.4
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.2
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.04.15.07.58.58;	author jsg;	state Exp;
branches;
next	;
commitid	ZhQTCyyZds0N3gWF;


desc
@@


1.1
log
@Add libepoxy a library for handling gl/glx/egl function pointer management.
This is needed by glamor egl in the xserver which is in turn needed
to get acceleration with some hardware on xf86-video-ati.

Worked on during s2k15.  Glamor is not yet enabled in the xserver,
but adding this now as libepoxy recently showed up in ports.

The libepoxy port will be removed and ports will transition to
this version.  The xenocara version will be enabled when we're
ready to transition.
@
text
@# $OpenBSD$

EPOXY=	${.CURDIR}/../../../dist/libepoxy

PYTHON=		python${PYTHON_VERSION}
PYTHON_FLAGS=	-t -O -O

GENERATED= \
	src/gl_generated_dispatch.c \
	src/glx_generated_dispatch.c \
	src/egl_generated_dispatch.c

all: ${GENERATED}

obj:

depend:

install:

clean distclean:
	rm -f ${GENERATED}

src/gl_generated_dispatch.c: registry/gl.xml
	$(PYTHON) $(PYTHON_FLAGS) ${EPOXY}/src/gen_dispatch.py \
	    --dir ${.CURDIR} ${EPOXY}/registry/gl.xml

src/glx_generated_dispatch.c: registry/glx.xml
	$(PYTHON) $(PYTHON_FLAGS) ${EPOXY}/src/gen_dispatch.py \
	    --dir ${.CURDIR} ${EPOXY}/registry/glx.xml

src/egl_generated_dispatch.c: registry/egl.xml
	$(PYTHON) $(PYTHON_FLAGS) ${EPOXY}/src/gen_dispatch.py \
	    --dir ${.CURDIR} ${EPOXY}/registry/egl.xml

.SUFFIXES: .py .xml

.PATH:	${EPOXY}
.PATH:	${EPOXY}/src

.include <bsd.xorg.mk>
@
