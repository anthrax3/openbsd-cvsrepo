head	1.24;
access;
symbols
	OPENBSD_6_1:1.24.0.4
	OPENBSD_6_1_BASE:1.24
	OPENBSD_6_0:1.24.0.2
	OPENBSD_6_0_BASE:1.24
	OPENBSD_5_9:1.23.0.4
	OPENBSD_5_9_BASE:1.23
	OPENBSD_5_8:1.23.0.2
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.22.0.6
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.22.0.4
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.22.0.2
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.20.0.2
	OPENBSD_5_4_BASE:1.20
	OPENBSD_5_3:1.19.0.4
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.19.0.2
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.4
	OPENBSD_5_0:1.18.0.2
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.15.0.2
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.13.0.4
	OPENBSD_4_8_BASE:1.13
	OPENBSD_4_7:1.11.0.2
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.6.0.6
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.4
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3;
locks; strict;
comment	@# @;


1.24
date	2016.03.11.13.09.42;	author okan;	state Exp;
branches;
next	1.23;
commitid	rypizj9eWLMTQq0Q;

1.23
date	2015.04.06.20.57.55;	author matthieu;	state Exp;
branches;
next	1.22;
commitid	L5f7tv2EiGjtzoSu;

1.22
date	2013.08.13.18.52.17;	author matthieu;	state Exp;
branches;
next	1.21;

1.21
date	2013.08.13.07.07.12;	author guenther;	state Exp;
branches;
next	1.20;

1.20
date	2013.05.23.22.42.07;	author matthieu;	state Exp;
branches;
next	1.19;

1.19
date	2012.03.27.19.19.37;	author matthieu;	state Exp;
branches;
next	1.18;

1.18
date	2011.05.30.20.52.47;	author matthieu;	state Exp;
branches;
next	1.17;

1.17
date	2011.05.30.19.19.29;	author matthieu;	state Exp;
branches;
next	1.16;

1.16
date	2011.03.08.20.48.59;	author matthieu;	state Exp;
branches;
next	1.15;

1.15
date	2010.10.22.19.50.32;	author matthieu;	state Exp;
branches;
next	1.14;

1.14
date	2010.09.04.10.33.11;	author matthieu;	state Exp;
branches;
next	1.13;

1.13
date	2010.06.01.05.26.44;	author matthieu;	state Exp;
branches;
next	1.12;

1.12
date	2010.05.18.19.37.30;	author matthieu;	state Exp;
branches;
next	1.11;

1.11
date	2009.08.04.15.45.41;	author matthieu;	state Exp;
branches;
next	1.10;

1.10
date	2009.06.04.16.36.07;	author matthieu;	state Exp;
branches;
next	1.9;

1.9
date	2009.06.04.00.13.56;	author matthieu;	state Exp;
branches;
next	1.8;

1.8
date	2009.06.03.23.56.07;	author matthieu;	state Exp;
branches;
next	1.7;

1.7
date	2009.05.03.12.59.09;	author matthieu;	state Exp;
branches;
next	1.6;

1.6
date	2008.02.14.20.28.10;	author miod;	state Exp;
branches;
next	1.5;

1.5
date	2007.11.26.15.10.19;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.30.10.35.10;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2007.03.15.22.23.39;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2006.12.02.17.58.21;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.12.07.34;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.24
log
@Remove support vax and XENOCARA_HAVE_SHARED_LIBS scaffolding.

ok matthieu@@
@
text
@# $OpenBSD: Makefile.bsd-wrapper,v 1.23 2015/04/06 20:57:55 matthieu Exp $
.include <bsd.xconf.mk>

SHARED_LIBS=	X11 16.1 X11_xcb 2.0

CONFIGURE_ARGS= --enable-tcp-transport --enable-unix-transport --enable-ipv6 \
	--disable-composecache \
	--without-xmlto --without-fop --without-xsltproc

.include <bsd.xorg.mk>
@


1.23
log
@update to libX11 1.6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.22 2013/08/13 18:52:17 matthieu Exp $
a8 4

.if ${XENOCARA_HAVE_SHARED_LIBS:L} == "no"
CONFIGURE_ARGS+= --disable-loadable-xcursor
.endif
@


1.22
log
@Repair guenther's damage that I didn't ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.21 2013/08/13 07:07:12 guenther Exp $
d4 1
a4 1
SHARED_LIBS=	X11 16.0 X11_xcb 2.0
@


1.21
log
@Bump the major on every single base library.  There are a couple
not bumped by this that will be corrected soon.

heavy lifting by todd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.20 2013/05/23 22:42:07 matthieu Exp $
d4 1
a4 1
SHARED_LIBS=	X11 16.0
@


1.20
log
@Merge upstream fixes for several X libs vulnerabilities
discovered by Ilja van Sprundel.

CVE-2013-1981 X.org libX11 1.5.99.901 (1.6 RC1) integer overflows
CVE-2013-1982 X.org libXext 1.3.1 integer overflows
CVE-2013-1983 X.org libXfixes 5.0 integer overflows
CVE-2013-1984 X.org libXi 1.7.1 integer overflows
CVE-2013-1985 X.org libXinerama 1.1.2 integer overflows
CVE-2013-1986 X.org libXrandr 1.4.0 integer overflows
CVE-2013-1987 X.org libXrender 0.9.7 integer overflows
CVE-2013-1988 X.org libXRes 1.0.6 integer overflows
CVE-2013-1989 X.org libXv 1.0.7 integer overflows
CVE-2013-1990 X.org libXvMC 1.0.7 integer overflows
CVE-2013-1991 X.org libXxf86dga 1.1.3 integer overflows
CVE-2013-1992 X.org libdmx 1.1.2 integer overflows
CVE-2013-1994 X.org libchromeXvMC & libchromeXvMCPro in openChrome
0.3.2 integer overflows
CVE-2013-1995 X.org libXi 1.7.1 sign extension issues
CVE-2013-1996 X.org libFS 1.0.4 sign extension issues
CVE-2013-1997 X.org libX11 1.5.99.901 (1.6 RC1) buffer overflows
CVE-2013-1998 X.org libXi 1.7.1 buffer overflows
CVE-2013-1999 X.org libXvMC 1.0.7 buffer overflows
CVE-2013-2000 X.org libXxf86dga 1.1.3 buffer overflows
CVE-2013-2001 X.org libXxf86vm 1.1.2 buffer overflows
CVE-2013-2002 X.org libXt 1.1.3 buffer overflows
CVE-2013-2003 X.org libXcursor 1.1.13 integer overflows
CVE-2013-2004 X.org libX11 1.5.99.901 (1.6 RC1) unbounded recursion
CVE-2013-2005 X.org libXt 1.1.3 memory corruption
CVE-2013-2066 X.org libXv 1.0.7 buffer overflows
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.19 2012/03/27 19:19:37 matthieu Exp $
d4 1
a4 1
SHARED_LIBS=	X11 15.2
@


1.19
log
@Upate to libX11 1.5rc1. Tested by krw@@, mpi@@, shadchin@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.18 2011/05/30 20:52:47 matthieu Exp $
d4 1
a4 1
SHARED_LIBS=	X11 15.1
@


1.18
log
@Update to libX11 1.4.3 which was released during the 1.4.2 tests.
Mostly churn in the doc build system, which is disabled on Xenocara
for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.17 2011/05/30 19:19:29 matthieu Exp $
d4 1
a4 1
SHARED_LIBS=	X11 15.0
@


1.17
log
@Update to libx11 1.4.2. Tested by ajacoutot@@, jasper@@ krw@@, landry@@,
shadchin@@ on various architectures.
Bump major.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.16 2011/03/08 20:48:59 matthieu Exp $
d7 2
a8 1
	--disable-composecache --without-xmlto 
@


1.16
log
@xcb is no longer optional.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.15 2010/10/22 19:50:32 matthieu Exp $
d4 1
a4 1
SHARED_LIBS=	X11 14.0
d7 1
a7 1
	--disable-composecache --without-groff
@


1.15
log
@Explicitely disable groff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.14 2010/09/04 10:33:11 matthieu Exp $
a7 4

.if ${XENOCARA_BUILD_XCB:L} == "no"
CONFIGURE_ARGS+= --without-xcb
.endif
@


1.14
log
@Update to libX11 1.3.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.13 2010/06/01 05:26:44 matthieu Exp $
d7 1
a7 1
	--disable-composecache
@


1.13
log
@Disable the compose cache code.
It can't be used without proper libc locale support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.12 2010/05/18 19:37:30 matthieu Exp $
d4 1
a4 1
SHARED_LIBS=	X11 13.0
@


1.12
log
@Update to libX11 1.3.3. Tested on a bulk ports build by naddy@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.11 2009/08/04 15:45:41 matthieu Exp $
d6 2
a7 1
CONFIGURE_ARGS= --enable-tcp-transport --enable-unix-transport --enable-ipv6
@


1.11
log
@Enable XCB on architectures with shared libs.

requested by sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.10 2009/06/04 16:36:07 matthieu Exp $
d4 1
a4 1
SHARED_LIBS=	X11 12.0
@


1.10
log
@Fix building without xcb. Found by david@@. Thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.9 2009/06/04 00:13:56 matthieu Exp $
d4 1
a4 1
SHARED_LIBS=	X11 11.2
@


1.9
log
@if XENOCARA_BUILD_XCB is set, build the XCB version of libX11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.7 2009/05/03 12:59:09 matthieu Exp $
d9 1
a9 1
CONFIGURE_ARGS+= --disable-xcb
@


1.8
log
@Use XENOCARA_HAVE_SHARED_LIBS from bsd.xconf.mk instead of hard-coding
the list here.
@
text
@d6 5
a10 1
CONFIGURE_ARGS= --without-xcb --enable-tcp-transport --enable-unix-transport --enable-ipv6
@


1.7
log
@update to libX11 1.2.1
@
text
@d1 2
a2 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.6 2008/02/14 20:28:10 miod Exp $
d8 1
a8 2
# no PIC
.if ${MACHINE} == landisk || ${MACHINE_ARCH} == m88k || ${MACHINE} == vax
@


1.6
log
@Disable loadable cursor on m88k systems (no shared libraries).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.5 2007/11/26 15:10:19 matthieu Exp $
d3 1
a3 1
SHARED_LIBS=	X11 11.1
d5 1
a5 1
CONFIGURE_ARGS= --without-xcb --enable-tcp-transport --enable-unix-transport --enable-IPv6 
@


1.5
log
@Re-enable pthread support in libGL, by providing proper weak stubs in
libX11 (together with other pthread stubs, already there for libX11).
ok kurt@@, art@@, kettenis@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.4 2007/09/30 10:35:10 matthieu Exp $
d7 2
a8 1
.if ${MACHINE} == landisk || ${MACHINE} == vax
@


1.4
log
@Merge libX11 1.1.3
bump major
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.3 2007/03/15 22:23:39 matthieu Exp $
d3 1
a3 1
SHARED_LIBS=	X11 11.0
@


1.3
log
@No dlopen() on vax and landisk for now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.2 2006/12/02 17:58:21 matthieu Exp $
d3 1
a3 1
SHARED_LIBS=	X11 10.0
@


1.2
log
@These libraries need a version bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.1 2006/11/26 12:07:34 matthieu Exp $
d6 4
@


1.1
log
@Build infrastructure for lib
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
SHARED_LIBS=	X11 9.0
@

