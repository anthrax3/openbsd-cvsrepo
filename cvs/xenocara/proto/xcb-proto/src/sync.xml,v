head	1.5;
access;
symbols
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.4.0.10
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.8
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.6
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.4
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.3.0.8
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.6
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.12
	OPENBSD_5_0:1.2.0.10
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.6
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	v1_4:1.1.1.1
	XCB:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2016.09.02.10.09.44;	author matthieu;	state Exp;
branches;
next	1.4;
commitid	mKDGsTNpiR2zRHYQ;

1.4
date	2014.03.15.17.24.20;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2012.03.27.19.12.47;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2009.05.31.16.38.11;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2009.05.22.15.48.48;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.05.22.15.48.48;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to xcb-proto/libxcb 1.12. "Just commit it" naddy@@
@
text
@<?xml version="1.0" encoding="utf-8"?>
<!--
Copyright (C) 2004 Mikko Torni and Josh Triplett.
All Rights Reserved.  See the file COPYING in this directory
for licensing information.
-->
<xcb header="sync" extension-xname="SYNC" extension-name="Sync"
    major-version="3" minor-version="1">
  <import>xproto</import>

  <xidtype name="ALARM" />

  <enum name="ALARMSTATE">
    <item name="Active">    <value>0</value> </item>
    <item name="Inactive">  <value>1</value> </item>
    <item name="Destroyed"> <value>2</value> </item>
  </enum>

  <xidtype name="COUNTER" />

  <xidtype name="FENCE" />

  <enum name="TESTTYPE">
    <item name="PositiveTransition"> <value>0</value> </item>
    <item name="NegativeTransition"> <value>1</value> </item>
    <item name="PositiveComparison"> <value>2</value> </item>
    <item name="NegativeComparison"> <value>3</value> </item>
  </enum>

  <enum name="VALUETYPE">
    <item name="Absolute"> <value>0</value> </item>
    <item name="Relative"> <value>1</value> </item>
  </enum>

  <enum name="CA">
    <item name="Counter">  <bit>0</bit></item>
    <item name="ValueType"><bit>1</bit></item>
    <item name="Value">    <bit>2</bit></item>
    <item name="TestType"> <bit>3</bit></item>
    <item name="Delta">    <bit>4</bit></item>
    <item name="Events">   <bit>5</bit></item>
  </enum>

  <struct name="INT64">
    <field type="INT32" name="hi" />
    <field type="CARD32" name="lo" />
  </struct>

  <struct name="SYSTEMCOUNTER">
    <field type="COUNTER" name="counter" />
    <field type="sync:INT64" name="resolution" />
    <field type="CARD16" name="name_len" />
    <list type="char" name="name">
      <fieldref>name_len</fieldref>
    </list>
    <pad align="4" />
  </struct>

  <struct name="TRIGGER">
    <field type="COUNTER" name="counter" />
    <field type="CARD32" name="wait_type" enum="VALUETYPE" />
    <field type="sync:INT64" name="wait_value" />
    <field type="CARD32" name="test_type" enum="TESTTYPE" />
  </struct>

  <struct name="WAITCONDITION">
    <field type="TRIGGER" name="trigger" />
    <field type="sync:INT64" name="event_threshold" />
  </struct>

  <error name="Counter" number="0">
    <field type="CARD32" name="bad_counter" />
    <field type="CARD16" name="minor_opcode" />
    <field type="CARD8" name="major_opcode" />
  </error>

  <error name="Alarm" number="1">
    <field type="CARD32" name="bad_alarm" />
    <field type="CARD16" name="minor_opcode" />
    <field type="CARD8" name="major_opcode" />
  </error>
    
  <request name="Initialize" opcode="0">
    <field type="CARD8" name="desired_major_version" />
    <field type="CARD8" name="desired_minor_version" />
    <reply>
      <pad bytes="1" />
      <field type="CARD8" name="major_version" />
      <field type="CARD8" name="minor_version" />
      <pad bytes="22" />
    </reply>
  </request>

  <request name="ListSystemCounters" opcode="1">
    <reply>
      <pad bytes="1" />
      <field type="CARD32" name="counters_len" />
      <pad bytes="20" />
      <list type="SYSTEMCOUNTER" name="counters">
        <fieldref>counters_len</fieldref>
      </list>
    </reply>
  </request>

  <request name="CreateCounter" opcode="2">
    <field type="COUNTER" name="id" />
    <field type="sync:INT64" name="initial_value" />
  </request>

  <request name="DestroyCounter" opcode="6">
    <field type="COUNTER" name="counter" />
  </request>

  <request name="QueryCounter" opcode="5">
    <field type="COUNTER" name="counter" />
    <reply>
      <pad bytes="1" />
      <field type="sync:INT64" name="counter_value" />
    </reply>
  </request>

  <request name="Await" opcode="7">
    <list type="WAITCONDITION" name="wait_list" />
  </request>

  <request name="ChangeCounter" opcode="4">
    <field type="COUNTER" name="counter" />
    <field type="sync:INT64" name="amount" />
  </request>

  <request name="SetCounter" opcode="3">
    <field type="COUNTER" name="counter" />
    <field type="sync:INT64" name="value" />
  </request>

  <request name="CreateAlarm" opcode="8">
    <field type="ALARM" name="id" />
    <field type="CARD32" name="value_mask" mask="CA" />
    <switch name="value_list">
      <fieldref>value_mask</fieldref>
      <bitcase>
        <enumref ref="CA">Counter</enumref>
        <field type="COUNTER" name="counter" />
      </bitcase>
      <bitcase>
        <enumref ref="CA">ValueType</enumref>
        <field type="CARD32" name="valueType" enum="VALUETYPE" />
      </bitcase>
      <bitcase>
        <enumref ref="CA">Value</enumref>
        <field type="sync:INT64" name="value" />
      </bitcase>
      <bitcase>
        <enumref ref="CA">TestType</enumref>
        <field type="CARD32" name="testType" enum="TESTTYPE" />
      </bitcase>
      <bitcase>
        <enumref ref="CA">Delta</enumref>
        <field type="sync:INT64" name="delta" />
      </bitcase>
      <bitcase>
        <enumref ref="CA">Events</enumref>
        <field type="CARD32" name="events" />
      </bitcase>
    </switch>
  </request>

  <request name="ChangeAlarm" opcode="9">
    <field type="ALARM" name="id" />
    <field type="CARD32" name="value_mask" mask="CA" />
    <switch name="value_list">
      <fieldref>value_mask</fieldref>
      <bitcase>
        <enumref ref="CA">Counter</enumref>
        <field type="COUNTER" name="counter" />
      </bitcase>
      <bitcase>
        <enumref ref="CA">ValueType</enumref>
        <field type="CARD32" name="valueType" enum="VALUETYPE" />
      </bitcase>
      <bitcase>
        <enumref ref="CA">Value</enumref>
        <field type="sync:INT64" name="value" />
      </bitcase>
      <bitcase>
        <enumref ref="CA">TestType</enumref>
        <field type="CARD32" name="testType" enum="TESTTYPE" />
      </bitcase>
      <bitcase>
        <enumref ref="CA">Delta</enumref>
        <field type="sync:INT64" name="delta" />
      </bitcase>
      <bitcase>
        <enumref ref="CA">Events</enumref>
        <field type="CARD32" name="events" />
      </bitcase>
    </switch>
  </request>

  <request name="DestroyAlarm" opcode="11">
    <field type="ALARM" name="alarm" />
  </request>

  <request name="QueryAlarm" opcode="10">
    <field type="ALARM" name="alarm" />
    <reply>
      <pad bytes="1" />
      <field type="TRIGGER" name="trigger" />
      <field type="sync:INT64" name="delta" />
      <field type="BOOL" name="events" />
      <field type="CARD8" name="state" enum="ALARMSTATE" />
      <pad bytes="2" />
    </reply>
  </request>

  <request name="SetPriority" opcode="12">
    <field type="CARD32" name="id" />
    <field type="INT32" name="priority" />
  </request>
    
  <request name="GetPriority" opcode="13">
    <field type="CARD32" name="id" />
    <reply>
      <pad bytes="1" />
      <field type="INT32" name="priority" />
    </reply>
  </request>

  <request name="CreateFence" opcode="14">
    <field type="DRAWABLE" name="drawable" />
    <field type="FENCE" name="fence" />
    <field type="BOOL" name="initially_triggered" />
  </request>

  <request name="TriggerFence" opcode="15">
    <field type="FENCE" name="fence" />
  </request>

  <request name="ResetFence" opcode="16">
    <field type="FENCE" name="fence" />
  </request>

  <request name="DestroyFence" opcode="17">
    <field type="FENCE" name="fence" />
  </request>

  <request name="QueryFence" opcode="18">
    <field type="FENCE" name="fence" />
    <reply>
      <pad bytes="1" />
      <field type="BOOL" name="triggered" />
      <pad bytes="23" />
    </reply>
  </request>

  <request name="AwaitFence" opcode="19">
    <list type="FENCE" name="fence_list" />
  </request>

  <event name="CounterNotify" number="0">
    <field type="CARD8" name="kind" />
    <field type="COUNTER" name="counter" />
    <field type="sync:INT64" name="wait_value" />
    <field type="sync:INT64" name="counter_value" />
    <field type="TIMESTAMP" name="timestamp" />
    <field type="CARD16" name="count" />
    <field type="BOOL" name="destroyed" />
    <pad bytes="1" />
  </event>

  <event name="AlarmNotify" number="1">
    <field type="CARD8" name="kind" />
    <field type="ALARM" name="alarm" />
    <field type="sync:INT64" name="counter_value" />
    <field type="sync:INT64" name="alarm_value" />
    <field type="TIMESTAMP" name="timestamp" />
    <field type="CARD8" name="state" enum="ALARMSTATE" />
    <pad bytes="3" />
  </event>
</xcb>
@


1.4
log
@Update to xcb-proto 1.10
@
text
@d56 1
@


1.3
log
@Update to xcb-proto 1.7. Tested by krw@@, mpi@@, shadchin@@
@
text
@d14 3
a16 3
    <item name="Active" />
    <item name="Inactive" />
    <item name="Destroyed" />
d24 4
a27 4
    <item name="PositiveTransition" />
    <item name="NegativeTransition" />
    <item name="PositiveComparison" />
    <item name="NegativeComparison" />
d31 2
a32 2
    <item name="Absolute" />
    <item name="Relative" />
d51 1
a51 1
    <field type="INT64" name="resolution" />
d61 1
a61 1
    <field type="INT64" name="wait_value" />
d67 1
a67 1
    <field type="INT64" name="event_threshold" />
d106 1
a106 1
    <field type="INT64" name="initial_value" />
d117 1
a117 1
      <field type="INT64" name="counter_value" />
d127 1
a127 1
    <field type="INT64" name="amount" />
d132 1
a132 1
    <field type="INT64" name="value" />
d137 28
a164 3
    <valueparam value-mask-type="CARD32"
                value-mask-name="value_mask"
                value-list-name="value_list" />
d169 28
a196 3
    <valueparam value-mask-type="CARD32"
                value-mask-name="value_mask"
                value-list-name="value_list" />
d208 1
a208 1
      <field type="INT64" name="delta" />
d262 2
a263 2
    <field type="INT64" name="wait_value" />
    <field type="INT64" name="counter_value" />
d273 2
a274 2
    <field type="INT64" name="counter_value" />
    <field type="INT64" name="alarm_value" />
@


1.2
log
@update to xcb-proto 1.5
@
text
@d8 1
a8 1
    major-version="3" minor-version="0">
d21 2
d176 31
@


1.1
log
@Initial revision
@
text
@d58 1
a58 1
    <field type="CARD32" name="wait_type" />
d60 1
a60 1
    <field type="CARD32" name="test_type" />
d158 1
a158 1
      <field type="CARD8" name="state" />
d193 2
@


1.1.1.1
log
@initial import of xcb-proto 1.4
@
text
@@
