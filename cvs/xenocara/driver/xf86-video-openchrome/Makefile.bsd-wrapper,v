head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.30
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.28
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.26
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.24
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.22
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.20
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.18
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.16
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.14
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.12
	OPENBSD_5_0:1.4.0.10
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.6
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.8
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.4
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.2
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2009.06.25.21.28.57;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2009.06.25.21.27.18;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2009.01.08.20.28.57;	author oga;	state Exp;
branches;
next	1.1;

1.1
date	2008.07.12.12.54.02;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.4
log
@I was supposed to remove the --enable-debug option before committing.
@
text
@# $OpenBSD: Makefile.bsd-wrapper,v 1.3 2009/06/25 21:27:18 matthieu Exp $

.include <bsd.xconf.mk>

CONFIGURE_ARGS+= --disable-dri

.include <bsd.xorg.mk>
@


1.3
log
@update to openchrome.net svn commit 750.
This adds among others support for the VX800 chipset.
This has been in snapshots for weeks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.2 2009/01/08 20:28:57 oga Exp $
d5 1
a5 1
CONFIGURE_ARGS+= --disable-dri --enable-debug
@


1.2
log
@openchrome doesn't build if you have an xserver with DRI compiled in,
but you disable dri on in the driver build and don't have the via_drm.h
it wants in dri mode. Work around this by changing the #define used to
an openchrome only one, instead of overloading the XF86DRI identifier.

Also disable the DRI build unconditionally.

This is needed here since we don't provide the via DRM module, and i'm
moving libdrm over to using the kernel headers (instead of libdrms own
private copy of same... This is why kernel modules should be developed
in kernel). We won't provide a via drm driver until it is re-written,
since it is full of linuxisms (like futex).

ok matthieu@@, discussed with a few. tested by grange@@ to prove it was a
no-op functionality wise.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.bsd-wrapper,v 1.1 2008/07/12 12:54:02 matthieu Exp $
d5 1
a5 1
CONFIGURE_ARGS+= --disable-dri
@


1.1
log
@Add a Makefile.bsd-wrapper.
@
text
@d1 1
a1 1
# $OpenBSD$
a4 1
.if ${XENOCARA_BUILD_DRI:L} != "yes"
a5 1
.endif
@

