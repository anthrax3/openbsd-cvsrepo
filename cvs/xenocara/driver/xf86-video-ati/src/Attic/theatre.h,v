head	1.3;
access;
symbols
	OPENBSD_5_4:1.2.0.22
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.20
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.18
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.16
	OPENBSD_5_0:1.2.0.14
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.10
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.12
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.8
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.6
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.4
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.4
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	v6_6_3:1.1.1.1
	xorg:1.1.1;
locks; strict;
comment	@ * @;


1.3
date	2013.08.16.17.04.14;	author matthieu;	state dead;
branches;
next	1.2;

1.2
date	2008.07.12.15.18.34;	author oga;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.20.01.18;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.26.20.01.18;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to xf86-video-ati 7.2.0, requested by jsg@@

It fixes an endianess problem with kms and the in tree x86-video-ati
among other things.
It has been tested on various i386/amd64/sparc64/macppc machines
on a range of hardware from r100->northern islands.
@
text
@#ifndef __THEATRE_H__
#define __THEATRE_H__

#define MODE_UNINITIALIZED		1
#define MODE_INITIALIZATION_IN_PROGRESS 2
#define MODE_INITIALIZED_FOR_TV_IN	3

typedef struct {
         GENERIC_BUS_Ptr VIP;
	 
	 int      theatre_num;
	 uint32_t theatre_id;
	 int      mode;
	 char*    microc_path;
	 char*    microc_type;
	 
	 uint16_t video_decoder_type;
	 uint32_t wStandard;
	 uint32_t wConnector;
	 int      iHue;
	 int      iSaturation;
	 uint32_t wSaturation_U;
	 uint32_t wSaturation_V;
	 int      iBrightness;
	 int      dbBrightnessRatio;
	 uint32_t wSharpness;
	 int      iContrast;
	 int      dbContrast;
	 uint32_t wInterlaced;
	 uint32_t wTunerConnector;
	 uint32_t wComp0Connector;
	 uint32_t wSVideo0Connector;
	 uint32_t dwHorzScalingRatio;
	 uint32_t dwVertScalingRatio;
	 
	 } TheatreRec, * TheatrePtr;


/* DO NOT FORGET to setup constants before calling InitTheatre */
#define xf86_InitTheatre		InitTheatre
_X_EXPORT void InitTheatre(TheatrePtr t);
#define xf86_RT_SetTint			RT_SetTint
_X_EXPORT void RT_SetTint (TheatrePtr t, int hue);
#define xf86_RT_SetSaturation		RT_SetSaturation
_X_EXPORT void RT_SetSaturation (TheatrePtr t, int Saturation);
#define xf86_RT_SetBrightness		RT_SetBrightness
_X_EXPORT void RT_SetBrightness (TheatrePtr t, int Brightness);
#define xf86_RT_SetSharpness		RT_SetSharpness
_X_EXPORT void RT_SetSharpness (TheatrePtr t, uint16_t wSharpness);
#define xf86_RT_SetContrast		RT_SetContrast
_X_EXPORT void RT_SetContrast (TheatrePtr t, int Contrast);
#define xf86_RT_SetInterlace		RT_SetInterlace
_X_EXPORT void RT_SetInterlace (TheatrePtr t, uint8_t bInterlace);
#define xf86_RT_SetStandard		RT_SetStandard
_X_EXPORT void RT_SetStandard (TheatrePtr t, uint16_t wStandard);
#define xf86_RT_SetOutputVideoSize	RT_SetOutputVideoSize
_X_EXPORT void RT_SetOutputVideoSize (TheatrePtr t, uint16_t wHorzSize, uint16_t wVertSize, uint8_t fCC_On, uint8_t fVBICap_On);
#define xf86_RT_SetConnector		RT_SetConnector
_X_EXPORT void RT_SetConnector (TheatrePtr t, uint16_t wConnector, int tunerFlag);
#define xf86_ResetTheatreRegsForNoTVout	ResetTheatreRegsForNoTVout
_X_EXPORT void ResetTheatreRegsForNoTVout(TheatrePtr t);
#define xf86_ResetTheatreRegsForTVout	ResetTheatreRegsForTVout
_X_EXPORT void ResetTheatreRegsForTVout(TheatrePtr t);
#define xf86_DumpRageTheatreRegs	DumpRageTheatreRegs
_X_EXPORT void DumpRageTheatreRegs(TheatrePtr t);
#define xf86_DumpRageTheatreRegsByName	DumpRageTheatreRegsByName
_X_EXPORT void DumpRageTheatreRegsByName(TheatrePtr t);
#define xf86_ShutdownTheatre		ShutdownTheatre
_X_EXPORT void ShutdownTheatre(TheatrePtr t);

#endif
@


1.2
log
@Long awaited update of xf86-video-ati to 6.9.0.

the rage128 and mach64 drivers were split out of this driver just after
the 6.8.0 release, these drivers will be commited separately.

MergedFb mode is gone, so please use xrandr if you used to use it.

ok matthieu@@.
@
text
@@


1.1
log
@Initial revision
@
text
@d11 5
a15 5
	 int theatre_num;
	 CARD32 theatre_id;
	 int  mode;
	 char* microc_path;
	 char* microc_type;
d17 18
a34 18
	 CARD16 video_decoder_type;
	 CARD32 wStandard;
	 CARD32 wConnector;
	 int    iHue;
	 int    iSaturation;
	 CARD32 wSaturation_U;
	 CARD32 wSaturation_V;
	 int    iBrightness;
	 int    dbBrightnessRatio;
	 CARD32 wSharpness;
	 int    iContrast;
	 int    dbContrast;
	 CARD32 wInterlaced;
	 CARD32 wTunerConnector;
	 CARD32 wComp0Connector;
	 CARD32 wSVideo0Connector;
	 CARD32 dwHorzScalingRatio;
	 CARD32 dwVertScalingRatio;
d38 1
d40 30
a69 77
void InitTheatre(TheatrePtr t);

void RT_SetTint (TheatrePtr t, int hue);
void RT_SetSaturation (TheatrePtr t, int Saturation);
void RT_SetBrightness (TheatrePtr t, int Brightness);
void RT_SetSharpness (TheatrePtr t, CARD16 wSharpness);
void RT_SetContrast (TheatrePtr t, int Contrast);
void RT_SetInterlace (TheatrePtr t, CARD8 bInterlace);
void RT_SetStandard (TheatrePtr t, CARD16 wStandard);
void RT_SetCombFilter (TheatrePtr t, CARD16 wStandard, CARD16 wConnector);
void RT_SetOutputVideoSize (TheatrePtr t, CARD16 wHorzSize, CARD16 wVertSize, CARD8 fCC_On, CARD8 fVBICap_On);
void CalculateCrCbGain (TheatrePtr t, double *CrGain, double *CbGain, CARD16 wStandard);
void RT_SetConnector (TheatrePtr t, CARD16 wConnector, int tunerFlag);

void RageTheatreDebugGain(TheatrePtr t, Bool on, CARD32 gain);
void ShutdownTheatre(TheatrePtr t);
void DumpRageTheatreRegs(TheatrePtr t);
void ResetTheatreRegsForTVout(TheatrePtr t);
void ResetTheatreRegsForNoTVout(TheatrePtr t);


#define TheatreSymbolsList  \
		"InitTheatre" \
		"RT_SetTint", \
		"RT_SetSaturation", \
		"RT_SetBrightness", \
		"RT_SetSharpness", \
		"RT_SetContrast", \
		"RT_SetInterlace", \
		"RT_SetStandard", \
		"RT_SetCombFilter", \
		"RT_SetOutputVideoSize", \
		"RT_SetConnector", \
		"ResetTheatreRegsForNoTVout", \
		"ResetTheatreRegsForTVout", \
		"DumpRageTheatreRegs", \
		"ShutdownTheatre"

#ifdef XFree86LOADER

#define xf86_InitTheatre           ((void (*)(TheatrePtr t))LoaderSymbol("InitTheatre"))

#define xf86_RT_SetTint            ((void (*)(TheatrePtr, int))LoaderSymbol("RT_SetTint"))
#define xf86_RT_SetSaturation      ((void (*)(TheatrePtr, int))LoaderSymbol("RT_SetSaturation"))
#define xf86_RT_SetBrightness      ((void (*)(TheatrePtr, int))LoaderSymbol("RT_SetBrightness"))
#define xf86_RT_SetSharpness       ((void (*)(TheatrePtr, CARD16))LoaderSymbol("RT_SetSharpness"))
#define xf86_RT_SetContrast        ((void (*)(TheatrePtr, int))LoaderSymbol("RT_SetContrast"))
#define xf86_RT_SetInterlace       ((void (*)(TheatrePtr, CARD8))LoaderSymbol("RT_SetInterlace"))
#define xf86_RT_SetStandard        ((void (*)(TheatrePtr, CARD16))LoaderSymbol("RT_SetStandard"))
#define xf86_RT_SetOutputVideoSize ((void (*)(TheatrePtr, CARD16, CARD16, CARD8, CARD8))LoaderSymbol("RT_SetOutputVideoSize"))
#define xf86_RT_SetConnector       ((void (*)(TheatrePtr, CARD16, int))LoaderSymbol("RT_SetConnector"))

#define xf86_RageTheatreDebugGain       ((void (*)(TheatrePtr, Bool, CARD32))LoaderSymbol("RageTheatreDebugGain"))
#define xf86_ShutdownTheatre       ((void (*)(TheatrePtr))LoaderSymbol("ShutdownTheatre"))
#define xf86_DumpRageTheatreRegs       ((void (*)(TheatrePtr))LoaderSymbol("DumpRageTheatreRegs"))
#define xf86_ResetTheatreRegsForTVout       ((void (*)(TheatrePtr))LoaderSymbol("ResetTheatreRegsForTVout"))
#define xf86_ResetTheatreRegsForNoTVout       ((void (*)(TheatrePtr))LoaderSymbol("ResetTheatreRegsForNoTVout"))
#define xf86_RT_GetSignalStatus       ((void (*)(TheatrePtr))LoaderSymbol("xf86_RT_GetSignalStatus"))
#else

#define xf86_InitTheatre               InitTheatre

#define xf86_RT_SetTint                RT_SetTint
#define xf86_RT_SetSaturation          RT_SetSaturation
#define xf86_RT_SetBrightness          RT_SetBrightness
#define xf86_RT_SetSharpness           RT_SetSharpness
#define xf86_RT_SetContrast            RT_SetContrast
#define xf86_RT_SetInterlace           RT_SetInterlace
#define xf86_RT_SetStandard            RT_SetStandard
#define xf86_RT_SetOutputVideoSize     RT_SetOutputVideoSize
#define xf86_RT_SetConnector           RT_SetConnector

#define xf86_RageTheatreDebugGain      RageTheatreDebugGain
#define xf86_ShutdownTheatre           ShutdownTheatre
#define xf86_DumpRageTheatreRegs       DumpRageTheatreRegs 
#define xf86_ResetTheatreRegsForNoTVout ResetTheatreRegsForNoTVout
#endif		
@


1.1.1.1
log
@Importing xf86-video-ati 6.6.3
@
text
@@
