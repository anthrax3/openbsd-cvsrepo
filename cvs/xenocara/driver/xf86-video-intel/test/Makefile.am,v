head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.8
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.6
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.4
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.2
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.6
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.4
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.1.0.2
	OPENBSD_5_4_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2015.04.12.19.42.07;	author matthieu;	state Exp;
branches;
next	1.2;
commitid	DK857Z2Au1JEohAk;

1.2
date	2014.02.03.15.54.54;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2013.03.18.18.38.21;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to xf86-video-intel 2.99.916
Fixes a display bug seenby ajacoutot@@, ok jsg@@ and kettenis@@.
newer X.Org (2.99.917 or master) version cause corruption on older
machines (X40, i965), probably caused by a bug in our kernel,
under investigation by kettenis@@.
@
text
@stress_TESTS = \
	basic-fillrect \
	basic-tiledrect \
	basic-stippledrect \
	basic-rectangle \
	basic-string \
	basic-copyarea \
	basic-copyarea-size \
	basic-putimage \
	basic-lines \
	basic-stress \
	cursor-test \
	render-fill \
	render-trapezoid \
	render-trapezoid-image \
	render-fill-copy \
	render-composite-solid \
	render-composite-solid-mask \
	render-copyarea \
	render-copyarea-mask \
	render-copyarea-size \
	render-copy-alphaless \
	mixed-stress \
	shm-test \
	$(NULL)

if DRI2
stress_TESTS += \
	dri2-race \
	dri2-swap \
	dri2-test \
	$(NULL)
endif

if X11_DRI3
stress_TESTS += \
	dri3-test \
	present-test \
	$(NULL)
endif
check_PROGRAMS = $(stress_TESTS)

noinst_PROGRAMS = lowlevel-blt-bench

AM_CFLAGS = @@CWARNFLAGS@@ $(X11_CFLAGS) $(DRM_CFLAGS)
LDADD = libtest.la $(X11_LIBS) $(DRM_LIBS) $(CLOCK_GETTIME_LIBS)

noinst_LTLIBRARIES = libtest.la
libtest_la_SOURCES = \
	test.h \
	test_display.c \
	test_image.c \
	test_log.c \
	test_render.c \
	$(NULL)

if DRI2
libtest_la_SOURCES += \
	dri2.c \
	dri2.h \
	$(NULL)
endif

if X11_DRI3
libtest_la_SOURCES += \
	dri3.c \
	dri3.h \
	$(NULL)
AM_CFLAGS += $(X11_DRI3_CFLAGS)
LDADD += $(X11_DRI3_LIBS)
endif

vsync.avi: mkvsync.sh
	./mkvsync.sh $@@

clean-vsync-avi:
	rm -rf vsync.avi .build.tmp

EXTRA_DIST = README mkvsync.sh tearing.mp4 virtual.conf
clean-local: clean-vsync-avi
@


1.2
log
@Update to xf86-video-intel 2.99.909
Tested by jsg@@, kettenis@@ and myself on a wide range of intel cards.
@
text
@d12 1
d24 1
d35 6
d62 9
@


1.1
log
@Update to xf86-video-intel 2.20.19.

A recent kernel with kernel modesetting support is required.
Thanks to jsg@@ and kettenis@@ for their work.
@
text
@d3 2
d17 1
d19 1
d23 5
d29 1
d31 1
d35 4
a38 2
AM_CFLAGS = @@CWARNFLAGS@@ @@X11_CFLAGS@@ @@DRM_CFLAGS@@
LDADD = libtest.la @@X11_LIBS@@ -lXfixes @@DRM_LIBS@@ -lrt
d47 4
d54 1
d62 1
a62 1
EXTRA_DIST = README mkvsync.sh
@

