head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.8
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.6
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.4
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.2
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.3.0.6
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.4
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.4
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.0.4
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.4
date	2015.04.12.19.42.06;	author matthieu;	state Exp;
branches;
next	1.3;
commitid	DK857Z2Au1JEohAk;

1.3
date	2014.02.03.15.54.52;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2012.12.19.21.19.49;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2011.11.29.12.39.03;	author oga;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to xf86-video-intel 2.99.916
Fixes a display bug seenby ajacoutot@@, ok jsg@@ and kettenis@@.
newer X.Org (2.99.917 or master) version cause corruption on older
machines (X40, i965), probably caused by a bug in our kernel,
under investigation by kettenis@@.
@
text
@SUBDIRS = xvmc

noinst_LTLIBRARIES = liblegacy-i810.la

AM_CFLAGS = $(CWARNFLAGS) $(XORG_CFLAGS) $(DRM_CFLAGS) $(PCIACCESS_CFLAGS) \
	    -I$(top_srcdir)/src \
	    -I$(top_srcdir)/src/legacy \
	    $(NULL)

liblegacy_i810_la_SOURCES = \
         i810_accel.c \
         i810_common.h \
         i810_cursor.c \
         i810_driver.c \
         i810.h \
         i810_memory.c \
         i810_reg.h \
         i810_ring.h \
         i810_video.c \
         i810_wmark.c

if XAA
liblegacy_i810_la_SOURCES += \
         i810_xaa.c
endif

if DGA
liblegacy_i810_la_SOURCES += \
         i810_dga.c
endif

if DRI1
liblegacy_i810_la_SOURCES +=\
         i810_dri.c \
         i810_dri.h \
	 $(NULL)
AM_CFLAGS += $(DRI1_CFLAGS)

if XVMC
liblegacy_i810_la_SOURCES += \
	i810_hwmc.c \
	$(NULL)
endif
endif
@


1.3
log
@Update to xf86-video-intel 2.99.909
Tested by jsg@@, kettenis@@ and myself on a wide range of intel cards.
@
text
@d5 1
a5 1
AM_CFLAGS = $(CWARNFLAGS) $(XORG_CFLAGS) $(DRM_CFLAGS) $(DRI1_CFLAGS) $(PCIACCESS_CFLAGS) \
d37 1
@


1.2
log
@- sync the "legacy" i810 driver, used only on true i810 and i815
  chipsets to the one in recent intel driver from X.Org.

- remove one of the output probe method in i830PreInit(). This method is
  calling functions that are normally forbidden in PreInit(). With
  xserver 1.13 this causes a fatal error at run time.

Tested by bluhm@@, nick@@ and shadchin@@ back in september.
@
text
@d5 1
a5 1
AM_CFLAGS = @@CWARNFLAGS@@ @@XORG_CFLAGS@@ @@DRM_CFLAGS@@ @@DRI_CFLAGS@@ @@PCIACCESS_CFLAGS@@ \
d32 1
a32 1
if DRI
@


1.1
log
@Update the intel driver to a more recent version based on more recent
upsteam code.

Backporting keeping UMS changes by me, some bugfixes from kettenis@@.

Has been in snapshots for a while, committed on request so we can be
sure what people are running. This is a prerequesite for sandybridge
support but has those chipsets disabled for now until the correct code
has been added.
@
text
@d5 4
a8 1
AM_CFLAGS = @@CWARNFLAGS@@ @@XORG_CFLAGS@@ @@DRM_CFLAGS@@ @@DRI_CFLAGS@@ @@PCIACCESS_CFLAGS@@ -I$(top_srcdir)/src
a13 1
         i810_dga.c \
a15 1
         i810_io.c \
d22 10
a36 1
endif
a39 1
	i810_hwmc.h \
d42 1
@

