head	1.18;
access;
symbols
	OPENBSD_6_1:1.17.0.8
	OPENBSD_6_1_BASE:1.17
	OPENBSD_6_0:1.17.0.6
	OPENBSD_6_0_BASE:1.17
	OPENBSD_5_9:1.17.0.4
	OPENBSD_5_9_BASE:1.17
	OPENBSD_5_8:1.17.0.2
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.16.0.6
	OPENBSD_5_7_BASE:1.16
	OPENBSD_5_6:1.16.0.4
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.16.0.2
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.14.0.2
	OPENBSD_5_4_BASE:1.14
	OPENBSD_5_3:1.12.0.2
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.9.0.4
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.2
	OPENBSD_5_0:1.7.0.6
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.2
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.4
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.6.0.4
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.2
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	v2_2_0_90:1.1.1.3
	v2_2_0:1.1.1.3
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	v1_7_4:1.1.1.2
	v1_7_3:1.1.1.2
	v1_7_2:1.1.1.1
	xorg:1.1.1;
locks; strict;
comment	@# @;


1.18
date	2017.07.27.15.24.55;	author robert;	state Exp;
branches;
next	1.17;
commitid	GxuTPEEoqZNlSZzK;

1.17
date	2015.04.12.19.41.54;	author matthieu;	state Exp;
branches;
next	1.16;
commitid	DK857Z2Au1JEohAk;

1.16
date	2014.02.03.15.59.42;	author matthieu;	state Exp;
branches;
next	1.15;

1.15
date	2014.02.03.15.54.42;	author matthieu;	state Exp;
branches;
next	1.14;

1.14
date	2013.03.19.07.32.33;	author matthieu;	state Exp;
branches;
next	1.13;

1.13
date	2013.03.18.18.38.18;	author matthieu;	state Exp;
branches;
next	1.12;

1.12
date	2013.01.03.15.00.26;	author matthieu;	state Exp;
branches;
next	1.11;

1.11
date	2012.12.19.21.19.48;	author matthieu;	state Exp;
branches;
next	1.10;

1.10
date	2012.09.09.21.14.26;	author matthieu;	state Exp;
branches;
next	1.9;

1.9
date	2011.12.14.17.00.08;	author matthieu;	state Exp;
branches;
next	1.8;

1.8
date	2011.11.29.12.39.02;	author oga;	state Exp;
branches;
next	1.7;

1.7
date	2010.05.10.22.32.28;	author oga;	state Exp;
branches;
next	1.6;

1.6
date	2009.06.25.20.16.43;	author matthieu;	state Exp;
branches;
next	1.5;

1.5
date	2009.01.26.23.27.59;	author oga;	state Exp;
branches;
next	1.4;

1.4
date	2008.05.21.20.19.51;	author matthieu;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.24.20.08.18;	author matthieu;	state Exp;
branches;
next	1.2;

1.2
date	2006.12.16.21.04.37;	author matthieu;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.26.20.06.33;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.26.20.06.33;	author matthieu;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2006.12.16.21.01.41;	author matthieu;	state Exp;
branches;
next	1.1.1.3;

1.1.1.3
date	2007.11.24.19.44.16;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.18
log
@check for typeof() and define HAVE_TYPEOF if available so that we use
the proper implementation of __container_of from xorg's list.h

ok kettenis@@
@
text
@/* config.h.in.  Generated from configure.ac by autoheader.  */

/* Builder description */
#undef BUILDER_DESCRIPTION

/* Enable memory debugging */
#undef DEBUG_MEMORY

/* Enable pixmap debugging */
#undef DEBUG_PIXMAP

/* Enable synchronous rendering for debugging */
#undef DEBUG_SYNC

/* Default acceleration method */
#undef DEFAULT_ACCEL_METHOD

/* Default have_dri2 driver path */
#undef DRI_DRIVER_PATH

/* Enable XvMC support */
#undef ENABLE_XVMC

/* Enable all debugging */
#undef HAS_DEBUG_FULL

/* Enable pixman glyph cache */
#undef HAS_PIXMAN_GLYPHS

/* Enable pixman triangle rasterisation */
#undef HAS_PIXMAN_TRIANGLES

/* Enable if your compiler supports the Intel __sync_* atomic primitives */
#undef HAVE_ATOMIC_PRIMITIVES

/* Found a useable cpuid.h */
#undef HAVE_CPUID_H

/* Define to 1 if you have the <dgaproc.h> header file. */
#undef HAVE_DGAPROC_H

/* Define to 1 if you have the <dlfcn.h> header file. */
#undef HAVE_DLFCN_H

/* Are we in a git checkout? */
#undef HAVE_DOT_GIT

/* Enable DRI1 driver support */
#undef HAVE_DRI1

/* Enable DRI2 driver support */
#undef HAVE_DRI2

/* Define to 1 if you have the <dri2.h> header file. */
#undef HAVE_DRI2_H

/* Enable DRI3 driver support */
#undef HAVE_DRI3

/* Define to 1 if you have the <dristruct.h> header file. */
#undef HAVE_DRISTRUCT_H

/* Define to 1 if you have the <dri.h> header file. */
#undef HAVE_DRI_H

/* Define to 1 if you have the `getline' function. */
#undef HAVE_GETLINE

/* Define to 1 if you have the <inttypes.h> header file. */
#undef HAVE_INTTYPES_H

/* Enable if you have libatomic-ops-dev installed */
#undef HAVE_LIB_ATOMIC_OPS

/* Define to 1 if you have the <memory.h> header file. */
#undef HAVE_MEMORY_H

/* Define to 1 if you have the <misyncshm.h> header file. */
#undef HAVE_MISYNCSHM_H

/* Define to 1 if you have the <misyncstr.h> header file. */
#undef HAVE_MISYNCSTR_H

/* Define to 1 if MIT-SHM is available */
#undef HAVE_MIT_SHM

/* Enable PRESENT driver support */
#undef HAVE_PRESENT

/* Define to 1 if you have the <present.h> header file. */
#undef HAVE_PRESENT_H

/* Define to 1 if you have the <sarea.h> header file. */
#undef HAVE_SAREA_H

/* Define to 1 if you have the <stdint.h> header file. */
#undef HAVE_STDINT_H

/* Define to 1 if you have the <stdlib.h> header file. */
#undef HAVE_STDLIB_H

/* Define to 1 if you have the <strings.h> header file. */
#undef HAVE_STRINGS_H

/* Define to 1 if you have the <string.h> header file. */
#undef HAVE_STRING_H

/* Define to 1 if you have the `strlcat' function. */
#undef HAVE_STRLCAT

/* Define to 1 if you have the `strlcpy' function. */
#undef HAVE_STRLCPY

/* Define to 1 if you have the `strndup' function. */
#undef HAVE_STRNDUP

/* Define to 1 if `totalram' is a member of `struct sysinfo'. */
#undef HAVE_STRUCT_SYSINFO_TOTALRAM

/* Define to 1 if you have the <sys/ipc.h> header file. */
#undef HAVE_SYS_IPC_H

/* Define to 1 if you have the <sys/stat.h> header file. */
#undef HAVE_SYS_STAT_H

/* Define to 1 if you have the <sys/sysinfo.h> header file. */
#undef HAVE_SYS_SYSINFO_H

/* Define to 1 if you have the <sys/types.h> header file. */
#undef HAVE_SYS_TYPES_H

/* Define to 1 if typeof works with your compiler. */
#undef HAVE_TYPEOF

/* Enable udev-based monitor hotplug detection */
#undef HAVE_UDEV

/* Define to 1 if you have the <unistd.h> header file. */
#undef HAVE_UNISTD_H

/* Use valgrind intrinsics to suppress false warnings */
#undef HAVE_VALGRIND

/* Define to 1 if you have the <vgaHW.h> header file. */
#undef HAVE_VGAHW_H

/* Define to 1 if you have the <X11/extensions/dpmsconst.h> header file. */
#undef HAVE_X11_EXTENSIONS_DPMSCONST_H

/* Define to 1 if you have the <X11/extensions/shmproto.h> header file. */
#undef HAVE_X11_EXTENSIONS_SHMPROTO_H

/* Define to 1 if you have the <X11/extensions/shmstr.h> header file. */
#undef HAVE_X11_EXTENSIONS_SHMSTR_H

/* Define to 1 if you have the <X11/extensions/Xinerama.h> header file. */
#undef HAVE_X11_EXTENSIONS_XINERAMA_H

/* Define to 1 if you have the <X11/extensions/XShm.h> header file. */
#undef HAVE_X11_EXTENSIONS_XSHM_H

/* Define to 1 if you have the <xaa.h> header file. */
#undef HAVE_XAA_H

/* Define to 1 if shared memory segments are released deferred. */
#undef IPC_RMID_DEFERRED_RELEASE

/* Assume KMS support */
#undef KMS

/* libexec directory */
#undef LIBEXEC_PATH

/* Define to the sub-directory in which libtool stores uninstalled libraries.
   */
#undef LT_OBJDIR

/* Disable internal debugging */
#undef NDEBUG

/* Name of package */
#undef PACKAGE

/* Define to the address where bug reports for this package should be sent. */
#undef PACKAGE_BUGREPORT

/* Define to the full name of this package. */
#undef PACKAGE_NAME

/* Define to the full name and version of this package. */
#undef PACKAGE_STRING

/* Define to the one symbol short name of this package. */
#undef PACKAGE_TARNAME

/* Define to the home page for this package. */
#undef PACKAGE_URL

/* Define to the version of this package. */
#undef PACKAGE_VERSION

/* Major version of this package */
#undef PACKAGE_VERSION_MAJOR

/* Minor version of this package */
#undef PACKAGE_VERSION_MINOR

/* Patch version of this package */
#undef PACKAGE_VERSION_PATCHLEVEL

/* installation prefix */
#undef PREFIX_PATH

/* Define to 1 if you have the ANSI C header files. */
#undef STDC_HEADERS

/* Enable "TearFree" by default */
#undef TEARFREE

/* Assume UMS support */
#undef UMS

/* Assume asynchronous swap support */
#undef USE_ASYNC_SWAP

/* Enable control of the backlight */
#undef USE_BACKLIGHT

/* Enable use of the backlight helper interfaces */
#undef USE_BACKLIGHT_HELPER

/* Assume "create2" support */
#undef USE_CREATE2

/* Use automagic builder description */
#undef USE_GIT_DESCRIBE

/* Enable glamor acceleration */
#undef USE_GLAMOR

/* Assume "rendernode" support */
#undef USE_RENDERNODE

/* Enable SNA support */
#undef USE_SNA

/* Enable UXA support */
#undef USE_UXA

/* Version number of package */
#undef VERSION

/* Enable large inode numbers on Mac OS X 10.5.  */
#ifndef _DARWIN_USE_64_BIT_INODE
# define _DARWIN_USE_64_BIT_INODE 1
#endif

/* Number of bits in a file offset, on hosts where this is settable. */
#undef _FILE_OFFSET_BITS

/* Define for large files, on AIX-style hosts. */
#undef _LARGE_FILES

/* Define to __typeof__ if your compiler spells it that way. */
#undef typeof
@


1.17
log
@Update to xf86-video-intel 2.99.916
Fixes a display bug seenby ajacoutot@@, ok jsg@@ and kettenis@@.
newer X.Org (2.99.917 or master) version cause corruption on older
machines (X40, i965), probably caused by a bug in our kernel,
under investigation by kettenis@@.
@
text
@d132 3
d263 3
@


1.16
log
@regen
@
text
@d18 1
a18 1
/* Default DRI2 driver path */
d36 3
d57 3
d66 3
d78 15
d108 9
d120 3
d153 3
d168 3
d208 3
d214 3
d223 6
a242 3

/* Assume "userptr" support */
#undef USE_USERPTR
@


1.15
log
@Update to xf86-video-intel 2.99.909
Tested by jsg@@, kettenis@@ and myself on a wide range of intel cards.
@
text
@d199 5
@


1.14
log
@regen
@
text
@a2 2
#include "xorg-server.h"

d18 3
d30 6
d45 1
a45 1
/* Enable DRI driver support */
d48 3
d63 3
d84 3
d105 15
d123 3
d127 1
a127 1
#undef KMS_ONLY
d169 2
a170 2
/* Assume only UMS (no KMS) support */
#undef UMS_ONLY
d175 2
a176 2
/* Assume "fast reloc" support */
#undef USE_FASTRELOC
d184 2
a185 2
/* Assume "handle LUT" support */
#undef USE_HANDLE_LUT
d190 1
a190 1
/* Assume USERPTR support */
a197 5

/* Enable large inode numbers on Mac OS X 10.5.  */
#ifndef _DARWIN_USE_64_BIT_INODE
# define _DARWIN_USE_64_BIT_INODE 1
#endif
@


1.13
log
@Update to xf86-video-intel 2.20.19.

A recent kernel with kernel modesetting support is required.
Thanks to jsg@@ and kettenis@@ for their work.
@
text
@d32 3
d94 4
@


1.12
log
@Regen autotools files once more.

Apparently previous version was generated with some of my local changes
to use /usr/bin/libtool. This is causiing problems with the XvMC libs
shared libraries versions.
@
text
@d5 15
d23 6
d32 2
a33 2
/* Define to 1 if you have the <dlfcn.h> header file. */
#undef HAVE_DLFCN_H
d35 1
a35 1
/* Enable DRI1 driver support */
d38 9
d53 3
d71 3
d77 3
d83 3
a91 4
/* Define to the sub-directory in which libtool stores uninstalled libraries.
   */
#undef LT_OBJDIR

d128 27
d158 7
a164 2
/* Enable DRI driver support */
#undef XF86DRI
d166 2
a167 2
/* Enable developmental DRI driver support */
#undef XF86DRI_DEVEL
@


1.11
log
@- sync the "legacy" i810 driver, used only on true i810 and i815
  chipsets to the one in recent intel driver from X.Org.

- remove one of the output probe method in i830PreInit(). This method is
  calling functions that are normally forbidden in PreInit(). With
  xserver 1.13 this causes a fatal error at run time.

Tested by bluhm@@, nick@@ and shadchin@@ back in september.
@
text
@d11 3
d49 4
@


1.10
log
@regen
@
text
@d8 5
a12 2
/* Define to 1 if you have the <dlfcn.h> header file. */
#undef HAVE_DLFCN_H
d41 3
a45 4

/* Define to the sub-directory in which libtool stores uninstalled libraries.
   */
#undef LT_OBJDIR
@


1.9
log
@regen
@
text
@d63 3
@


1.8
log
@Update the intel driver to a more recent version based on more recent
upsteam code.

Backporting keeping UMS changes by me, some bugfixes from kettenis@@.

Has been in snapshots for a while, committed on request so we can be
sure what people are running. This is a prerequesite for sandybridge
support but has those chipsets disabled for now until the correct code
has been added.
@
text
@d41 7
@


1.7
log
@Update the intel driver to 2.9.1 plus backports.

2.9.1 is the last version of the intel DDX that supports UMS (User
modesetting), with 2.10 onwards being purely KMS only. As such, this
driver contains backports of almost every correctness or performance
related fix to the rendering layer in later intel drivers. This driver
*REQUIRES* a GEM enabled kernel. it claims to support non-gem mode but
this is essentially unmaintained and due to the way the abstraciton
works is slow, if it works at all (it often does not). You have been
warned.

tested by many many people on tech over the last few weeks.
@
text
@a16 3
/* Define to 1 if you have the `mprotect' function. */
#undef HAVE_MPROTECT

a28 3
/* Define to 1 if you have the <sys/mman.h> header file. */
#undef HAVE_SYS_MMAN_H

a37 3
/* xextproto 7.1 available */
#undef HAVE_XEXTPROTO_71

a40 3
/* Define to 1 if your C compiler doesn't accept -c and -o together. */
#undef NO_MINUS_C_MINUS_O

a72 3

/* Enable debug support */
#undef VIDEO_DEBUG
@


1.6
log
@update to xf86-video-intel 2.7.1. Tested by many.
@
text
@a10 3
/* have new FreeShadow API */
#undef HAVE_FREE_SHADOW

d44 6
a79 3
/* Building against server 1.5 */
#undef SERVER_1_5

a93 6

/* DRM kernel modesetting */
#undef XF86DRM_MODE

/* X server has built-in mode code */
#undef XMODES
@


1.5
log
@never define XF86DRI_MM after configure. 2.4.x still had the ttm bits
which haven't made it into a released libdrm. This prevents collisions
with the libdrm version just commited (which wouldn't build otherwise).
@
text
@a4 3
/* Use Damage extension */
#undef DAMAGE

a13 3
/* Have drm_i915_flip_t and related definitions */
#undef HAVE_I915_FLIP

d77 3
d94 3
@


1.4
log
@Update to xf86-video-intel 2.3.1. Tested by many.
@
text
@a97 3
/* Extended DRI memory management */
#undef XF86DRI_MM

@


1.3
log
@merge xf86-video-intel 2.2.0
@
text
@d8 3
d14 3
d26 3
d40 3
@


1.2
log
@regen
@
text
@d5 3
d11 3
d41 2
a42 8
/* Major version */
#undef INTEL_VERSION_MAJOR

/* Minor version */
#undef INTEL_VERSION_MINOR

/* Patch version */
#undef INTEL_VERSION_PATCH
d85 6
@


1.1
log
@Initial revision
@
text
@d62 9
d76 3
@


1.1.1.1
log
@Importing xf86-video-i810 1.7.2
@
text
@@


1.1.1.2
log
@xf86-video-intel 1.7.3
@
text
@a67 3
/* Enable debug support */
#undef VIDEO_DEBUG

@


1.1.1.3
log
@xf86-video-intel 2.2.0
@
text
@a4 3
/* Use Damage extension */
#undef DAMAGE

a7 3
/* Have drm_i915_flip_t and related definitions */
#undef HAVE_I915_FLIP

d35 8
a42 2
/* Define to 1 if your C compiler doesn't accept -c and -o together. */
#undef NO_MINUS_C_MINUS_O
a61 9
/* Major version of this package */
#undef PACKAGE_VERSION_MAJOR

/* Minor version of this package */
#undef PACKAGE_VERSION_MINOR

/* Patch version of this package */
#undef PACKAGE_VERSION_PATCHLEVEL

a75 6

/* Extended DRI memory management */
#undef XF86DRI_MM

/* X server has built-in mode code */
#undef XMODES
@


