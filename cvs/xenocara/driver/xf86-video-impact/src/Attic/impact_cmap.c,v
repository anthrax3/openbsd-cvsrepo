head	1.2;
access;
symbols
	OPENBSD_4_4:1.1.1.1.0.6
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.4
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	v0_2_0:1.1.1.1
	xorg:1.1.1;
locks; strict;
comment	@ * @;


1.2
date	2008.09.14.14.31.57;	author matthieu;	state dead;
branches;
next	1.1;

1.1
date	2006.11.26.20.05.42;	author matthieu;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.11.26.20.05.42;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove Linux-only driver.
@
text
@/* 
 * impact.h 2005/07/15 01:40:13, Copyright (c) 2005 peter fuerst
 *
 * Based on:
 * # newport_cmap.c,v 1.1 2000/11/29 20:58:10 agx Exp #
 * # xc/programs/Xserver/hw/xfree86/drivers/newport/newport_cmap.c,v
 *   1.2 2001/11/23 19:50:45 dawes Exp #
 */

#ifdef HAVE_CONFIG_H
#include "config.h"
#endif

#include "impact.h"

/*
unsigned ImpactGetPalReg(ImpactPtr pImpact, int i)
{
	return pImpact->pseudo_palette[i & 0xff];
}
*/

/* Load a colormap into the "hardware" */
void ImpactLoadPalette(ScrnInfoPtr pScrn, int numColors, int *indices,
			LOCO* colors, VisualPtr pVisual)
{
	ImpactPtr pImpact = IMPACTPTR(pScrn);

	TRACEV("ImpactLoadPalette(%d)  %c", numColors, numColors!=1?'\n':0);
	if (numColors > 256) numColors = 256;

	for ( ; numColors > 0; numColors--, indices++, colors++) {
		unsigned rgb = colors->blue & 0xff00;
		rgb = (rgb<<8) | (colors->green & 0xff00) | (colors->red>>8);
		pImpact->pseudo_palette[*indices] = rgb;
		TRACEV("%d:%04x  %04x,%04x,%04x\n", *indices, rgb,
			(int)colors->red, (int)colors->green, (int)colors->blue);
	}
	TRACEV("\n");
}

void ImpactBackupPalette(ScrnInfoPtr pScrn)
{
	(void)IMPACTPTR(pScrn)->pseudo_palette;	/* Nothing to do? */
}

/* restore the default colormap */
void ImpactRestorePalette(ScrnInfoPtr pScrn)
{
	(void)IMPACTPTR(pScrn)->pseudo_palette;	/* Nothing to do? */
}

@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@Importing xf86-video-impact 0.2.0
@
text
@@
