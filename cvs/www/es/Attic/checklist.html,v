head	1.32;
access;
symbols;
locks; strict;
comment	@# @;


1.32
date	2011.01.25.20.42.54;	author ajacoutot;	state dead;
branches;
next	1.31;

1.31
date	2009.05.26.21.30.39;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2004.09.06.16.51.03;	author saad;	state Exp;
branches;
next	1.29;

1.29
date	2004.01.04.22.14.13;	author horacio;	state Exp;
branches;
next	1.28;

1.28
date	2003.12.07.00.35.13;	author horacio;	state Exp;
branches;
next	1.27;

1.27
date	2003.11.18.21.52.51;	author horacio;	state Exp;
branches;
next	1.26;

1.26
date	2003.11.02.01.30.43;	author horacio;	state Exp;
branches;
next	1.25;

1.25
date	2003.06.27.20.42.46;	author jufi;	state Exp;
branches;
next	1.24;

1.24
date	2003.06.05.13.45.47;	author jufi;	state Exp;
branches;
next	1.23;

1.23
date	2003.05.12.19.13.24;	author jufi;	state Exp;
branches;
next	1.22;

1.22
date	2003.04.13.11.03.54;	author jufi;	state Exp;
branches;
next	1.21;

1.21
date	2003.03.01.16.56.17;	author jufi;	state Exp;
branches;
next	1.20;

1.20
date	2003.02.25.20.08.05;	author jufi;	state Exp;
branches;
next	1.19;

1.19
date	2003.01.08.20.43.47;	author jufi;	state Exp;
branches;
next	1.18;

1.18
date	2002.11.21.15.08.15;	author jufi;	state Exp;
branches;
next	1.17;

1.17
date	2002.07.09.10.50.02;	author jufi;	state Exp;
branches;
next	1.16;

1.16
date	2002.06.25.21.41.20;	author jufi;	state Exp;
branches;
next	1.15;

1.15
date	2002.05.28.07.05.24;	author jufi;	state Exp;
branches;
next	1.14;

1.14
date	2002.04.09.17.33.00;	author jufi;	state Exp;
branches;
next	1.13;

1.13
date	2002.02.10.11.45.33;	author jufi;	state Exp;
branches;
next	1.12;

1.12
date	2001.12.31.10.48.06;	author jufi;	state Exp;
branches;
next	1.11;

1.11
date	2001.11.19.19.05.46;	author jufi;	state Exp;
branches;
next	1.10;

1.10
date	2001.09.19.16.55.58;	author jufi;	state Exp;
branches;
next	1.9;

1.9
date	2001.08.29.06.23.08;	author jufi;	state Exp;
branches;
next	1.8;

1.8
date	2001.08.22.05.36.37;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2001.07.09.19.47.06;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2001.04.07.07.52.29;	author jufi;	state Exp;
branches;
next	1.5;

1.5
date	2001.02.20.12.57.47;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2000.12.14.19.52.10;	author jufi;	state Exp;
branches;
next	1.3;

1.3
date	2000.06.11.15.47.38;	author wvdputte;	state Exp;
branches;
next	1.2;

1.2
date	2000.06.02.22.46.36;	author wvdputte;	state Exp;
branches;
next	1.1;

1.1
date	2000.04.12.17.00.53;	author wvdputte;	state Exp;
branches;
next	;


desc
@@


1.32
log
@Sync with Steelix CVS
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Content-Language" content="es">
<meta name="resource-type" content="documento">
<meta name="description" content="cómo crear/actualizar un porte para OpenBSD.">
<meta name="keywords" content="openbsd,portes">
<meta name="distribution" content="global">
<meta name="copyright" content="Este documento es copyright 1998-2004 de OpenBSD.">

<title>Notas sobre los portes de OpenBSD</title>
</head>
 
<body text="#000000" bgcolor="#ffffff" link="#23238e">
<!-- máx. 72 caracteres por línea -->
<a href="index.html"><img alt="[OpenBSD]" height="30" width="141" src="../images/smalltitle.gif" border="0"></a>

<h2><font color="#e00000">Notas sobre los portes de OpenBSD</font></h2>

<p>
En este documento se describe c&oacute;mo crear o c&oacute;mo actualizar
un porte.  Es una lista &uacute;til para recordar qu&eacute; cosas se
deben hacer.  No es exacta ni perfecta.  Cualquier comentario o pregunta
al respecto debe dirigirse a
<a href="mailto:ports@@openbsd.org">&lt;ports@@openbsd.org&gt;</a>.

<hr>
<ol>
<li> 
Si quiere ser un mantenedor, subscr&iacute;base a la lista
<a href="mailto:ports@@openbsd.org">ports@@openbsd.org</a>.

 <ul>
 <li>Aqu&iacute; tienen lugar todas las dicusiones sobre los portes.
 <li>La lectura de esta lista es importante, ya que muchos anuncios van
 a esta lista.
 <li>Ah&iacute; encontrar&aacute; a muchos mantenedores de portes.  A
 menudo pueden darle buenos consejos o probar su porte.
 </ul>

<br>
<li>Ser el mantenedor de un porte es <b>algo m&aacute;s</b> que
limitarse a entregar portes al &aacute;rbol de CVS.  Tambi&eacute;n hay
que mantenerlos actualizados, y contestar dudas sobre &eacute;stos.
    
<br>
<br>
<li>Obtenga una copia del &aacute;rbol de portes del cvs.  Puede
encontrar las instrucciones sobre c&oacute;mo hacerlo en la
<a href="anoncvs.html">página de CVS anónimo</a>.

<br>
<br>
<li>Escoja una ubicaci&oacute;n en donde poner su porte, y cree una
infraestructura b&aacute;sica ah&iacute;.  Use la plantilla de
<tt>Makefile</tt> que encontrar&aacute; en
<tt>/usr/ports/infrastructure/templates/Makefile.template</tt>.
NEED_VERSION est&aacute; obsoleto y no debe usarse en los nuevos portes.
Los mantenedores de portes deber&iacute;an actualizar su &aacute;rbol de
portes, incluido <tt>bsd.port.mk</tt>.

<ul>
<li>Cree el directorio <tt>pkg</tt>.
<li>Cree los ficheros vac&iacute;os <tt>pkg/DESCR</tt> y
<tt>pkg/PLIST</tt>.
</ul>

<br>
<li>A&ntilde;ada las porciones con "fetch" del fichero
<tt>Makefile</tt>.

<ul>
<li>Rellene EXTRACT_SUFX si es algo a parte de un .tar.gz.  Otros
ejemplos pueden ser .tar.Z o .tgz.

<li>Rellene DISTNAME, que es el nombre del fichero menos el sufijo de la
extensi&oacute;n.  Por ejemplo, si tuviera <tt>foo-1.0.tar.gz</tt>,
DISTNAME ser&iacute;a foo-1.0.

<li>Rellene MASTER_SITES, que es una URL para los directorios en donde
el fichero distfile est&aacute; ubicado.  Por ejemplo,
<tt>ftp://ftp.openbsd.org/pub/OpenBSD/distfiles/</tt> .  <b>No olvide la
barra final.</b> Como m&iacute;nimo, intente tener tres sitios
diferentes.  Ponga el de m&aacute;s f&aacute;cil acceso primero, ya que
los recorrer&aacute; por orden.

<li>Recuerde que <tt>fetch</tt> hace referencia al fichero como
${MASTER_SITES}${DISTNAME}$EXTRACT_SUFX}.  Se usar&aacute;n las tres.
No configure DISTNAME para que apunte al fichero directamente.

<li>Puede comprobar si ha rellenado estos valores correctamente,
escribiendo <b>make fetch-all</b>.
</ul>

<p>
Existen opciones y herramientas disponibles para portes m&aacute;s
complejos:

<ul>
<li>Tambi&eacute;n puede disponer de la variable PATCHFILES.
&Eacute;sta es una lista de parches de distribuidores (no de OpenBSD)
para el porte.  Generalmente son soluciones de fiabilidad, de seguridad,
o algo parecido.

<li>Si sus portes est&aacute;n disponibles en r&eacute;plicas
p&uacute;blicas grandes como GNU, SunSite, o CPAN, disponemos de una
lista de sitios en
<tt>/usr/ports/infrastructure/templates/network.conf.template</tt> para
su uso.  Configure MASTER_SITES como ${MASTER_SITE_GNU}.  o
${MASTER_SITE_SUNSITE}, etc.  Para simplificar este proceso, utilice la
composici&oacute;n ${MASTER_SITE_FOO:=subdir/} para a&ntilde;adir el
subdirectorio de distribuci&oacute;n.

<li>Generalmente los portes corresponden a versiones espec&iacute;ficas
de software.  Una vez que se han obtenido, se hace una suma de
comprobaci&oacute;n sobre los ficheros y se compara(n) a la(s) suma(s)
de comprobaci&oacute;n grabada(s) en <tt>distinfo</tt>.  As&iacute;
pues, para evitar confusi&oacute;n, <tt>DISTFILES</tt> y
<tt>PATCHFILES</tt> deber&iacute;an tener n&uacute;meros de
versi&oacute;n claramente visibles.  No coja foo-latest.tar.gz si es un
enlace a <tt>foo-1.0.5.tar.gz</tt>.  Si es necesario, preg&uacute;ntele
gentilmente al autor del programa original para aclarar las
distinciones.

<li>Si un porte cualquiera necesitara m&aacute;s de unos 5 DISTFILES +
PATCHFILES para funcionar, use DIST_SUBDIR para evitar demasiada
confusi&oacute;n en <tt>/usr/ports/distfiles</tt>.

<li>No se debe incluir n&uacute;meros de versi&oacute;n en DIST_SUBDIR.
Cuando se actualiza el porte a una versi&oacute;n posterior, es posible
que no cambien algunos ficheros de distfiles, pero si DIST_SUBDIR ha
cambiado, fetch los volver&aacute; a bajar.  Aun en el caso en que todos
los ficheros distfile cambiaran, ser&iacute;a m&aacute;s f&aacute;cil
para el usuario hacer un seguimiento completo.

<li>No es necesario que todos los DISTFILES y PATCHFILEs vengan del
mismo conjunto de MASTER_SITES.  Se pueden definir sitios suplementarios
usando las variables MASTER_SITES0 hasta MASTER_SITES9.  Simplemente,
escriba DISTFILES=foo-1.0.5.tar.gz:5 para obtener
<tt>foo-1.0.5.tar.gz</tt> desde MASTER_SITES5.

<li>Algunos portes no siempre necesitan obtener todos los ficheros.  Por
ejemplo, algunos portes pueden tener algunas opciones de
compilaci&oacute;n, y ficheros asociados que s&oacute;lo se requieren en
el caso concreto.  O es posible que necesiten algunos ficheros
s&oacute;lo para algunas arquitecturas y no para otras.  En ese caso,
esos ficheros suplementarios opcionales deben ser mencionados en la
variable SUPDISTFILES.  Objetivos como puedan ser <tt>makesum</tt> o
<tt>mirror-distfiles</tt> obtendr&aacute;n esos ficheros suplementarios
que no son necesarios para los otros.
</ul>

<br>
<li>Cree una suma de comprobaci&oacute;n en <tt>distinfo</tt> mediante
<b>make makesum</b>, y verifique que la suma de comprobaci&oacute;n es
correcta mediante <b>make checksum</b>.

<ul>
<li>En algunos casos extra&ntilde;os, las sumas de comprobaci&oacute;n
de los ficheros no se pueden verificar con fiabilidad.  En tales casos
es deseable que se comunique con el autor del software y con el
mantenedor del sitio del archivo.  En el peor de los casos, los ficheros
cuyas sumas de comprobaci&oacute;n no se puedan verificar, se
mencionar&aacute;n en la variable IGNOREFILES.

<li>Todos los ficheros en DISTFILES suelen ser procesados durante la
extracci&oacute;n con make extract.  Se puede usar EXTRACT_ONLY para
limitar la extracci&oacute;n a un subgrupo de ficheros (probablemente
vac&iacute;os).  El uso personal de esta variable es para personalizar
la extracci&oacute;n.  Por ejemplo, si algunos ficheros DISTFILES
necesitaran alg&uacute;n trato especial, bastar&iacute;a con eliminarlos
de EXTRACT_ONLY y gestionarlos de modo manual despu&eacute;s de la
extracci&oacute;n.  Por motivos hist&oacute;ricos, make extract
configura primero el directorio local junto con los ficheros de
extracci&oacute;n.  As&iacute;, el proveer de un objetivo previo a la
extracci&oacute;n es bastante inusual (y un comportamiento muy
sospechoso, que indica un alto grado de ofuscaci&oacute;n en el porte).

<li>Los parches que necesiten un trato espec&iacute;fico deben ser
mencionados en DISTFILES, y eliminados de EXTRACT_ONLY por motivos
hist&oacute;ricos.
</ul>

<br>
<li>Extraiga el porte con <b>make extract</b>.  Preste atenci&oacute;n a
la ubicaci&oacute;n de la base de los fuentes, que suele ser
<tt>w-${PKGNAME}${FLAVOR_EXT}/${DISTNAME}</tt>.  Es probable que tenga
que modificar la variable WRKDIST del fichero Makefile si es distinta.

<br>
<br>
<li>Lea la documentaci&oacute;n sobre la instalaci&oacute;n y se
dar&aacute; cuenta de lo que debe hacer para construir el porte y de
cualquier opci&oacute;n especial que pueda ser necesaria.

<br>
<br>
<li>Ahora es un buen momento para pensar en qu&eacute; tipo de
restricciones en la licencia se han aplicado a su porte.  Muchos
ser&aacute;n de libre redistribuci&oacute;n, pero muchos otros no.
Necesitamos la respuesta a cuatro preguntas para poder distribuir los
portes como es debido.  Estas respuestas son los valores PERMIT_* en el
fichero <tt>Makefile</tt>.

<ul>
<li>PERMIT_PACKAGE_CDROM nos indica que podemos incluir el paquete en el
cdrom.
<li>PERMIT_PACKAGE_FTP nos indica que podemos incluir el paquete en los
servidores p&uacute;blicos de ftp.
<li>PERMIT_DISTFILES_CDROM nos indica si podemos poner una
r&eacute;plica de los distfiles en el cdrom.
<li>PERMIT_DISTFILES_FTP nos indica si podemos poner una r&eacute;plica
de los distfiles en los servidores p&uacute;blicos de ftp.
</ul>

<p>
Configure esos valores con Yes si est&aacute; permitido, o a una cadena
de comentarios que explique porqu&eacute; no est&aacute; permitido.
Preste atenci&oacute;n a cualquier condici&oacute;n especial que pueda
tener que cumplir m&aacute;s tarde.  Por ejemplo, algunos portes
requieren que se instale una copia de la licencia que los
acompa&ntilde;a.  Le recomendamos que ponga la licencia en
<code>/usr/local/share/DISTNAME/</code>.

<p>
Además de los values PERMIT_*, coloca un marcador de licencia como
<code># Licencia</code> arriba de ellos como comentario, de esta manera
sabemos por qué los valores PERMIT_* están establecidos como están.

<br>
<br>
<li>A&ntilde;ada las opciones de configuraci&oacute;n al fichero
<tt>Makefile</tt> y/o genere el gui&oacute;n de configuraci&oacute;n.

<ul>
<li>Puede a&ntilde;adir un gui&oacute;n de configuraci&oacute;n del
porte con el nombre `configure' a un directorio que llamar&aacute;
<tt>scripts/</tt>.  Esto ser&aacute; ejecutado antes de ejecutar
cualquier configuraci&oacute;n especificada por CONFIGURE_STYLE.

<li>Si usa GNU configure, es probable que antes quiera ejecutar
'./configure --help' para ver qu&eacute; opciones hay disponibles.

<li>Cualquier otra cosa que quiera anular se puede cambiar
a&ntilde;adiendo los indicadores --option al par&aacute;metro
CONFIGURE_ARGS en el fichero <tt>Makefile</tt>.

<li>Use CONFIGURE_ARGS+= para a&ntilde;adir a la variable.  Use
CONFIGURE_ARGS= para anularla.
</ul>

<br>
<li>Intente construir el porte con <b>make build</b>.

<ul>
<li>Si est&aacute; de suerte, el porte se compilar&aacute; sin errores.

<li>Si termina el proceso con un error, tendr&aacute; que generar
parches para su porte.  Intente imaginar qu&eacute; cambios puede
necesitar y haga un parche para ellos.

<li>Los parches deben ser relativos a ${WRKDIST}.

<li>El modo m&aacute;s f&aacute;cil de reconfigurar un porte y probar
los parches es <b>make clean patch</b>.  Esto eliminar&aacute; el
directorio local, har&aacute; la reextracci&oacute;n, y aplicar&aacute;
los parches.
</ul>

<br>
<li>Empiece un ciclo de <b>make build</b>, genere un parche (o use
<b>make update-patches</b>), y <b>make clean patch</b>.

<ul>
<li>Los parches van en el directorio <tt>patches/</tt>, y deben llevar
nombre del tipo patch-* (en donde * sea algo con sentido).  Le
recomendamos que nombre sus parches patch-FILENAME, en donde FILENAME
sea el nombre del fichero al que se est&eacute; aplicando el parche
(<b>make update-patches</b> hace esto autom&aacute;ticamente).

<li>La aplicaci&oacute;n de PATCHFILES es la primera mitad de 'make
patch'.  Se puede invocar por separado como 'make dispatch', que es un
objetivo conveniente para los mantenedores de parches.  Ignore esto si
no lo ha configurado.

<li>Parchee s&oacute;lo un fichero fuente por cada patchfile.

<li>Use <b>make update-patches</b> para generar parches.

<li>Todos los parches DEBEN ser relativos a ${WRKDIST}.

<li>Compruebe que los parches <b>NO</b> contengan indicadores que puedan
ser reemplazados por cvs.  Si contiene alguno, entonces sus parches no
ser&aacute;n aplicados despu&eacute;s de haberlos entregado.  Puede
entregar sus cambios con -kk para evitar esto.

<li>Escriba una peque&ntilde;a explicaci&oacute;n al principio del
ficheo del parche sobre su prop&oacute;sito (no es obligatorio).

<li><b>Por favor</b>, env&iacute;e sus parches al autor original del
software.
</ul>

<br>
<li>Intente activar <tt>SEPARATE_BUILD</tt>.

<br>
<ul>
<li>Si el porte se puede construir con ficheros objeto fuera de su
&aacute;rbol de fuentes, ser&aacute; m&aacute;s limpio (muchos programas
que usan <tt>CONFIGURE_STYLE=gnu</tt> pueden), y puede ayudar a los
usuarios que montan su &aacute;rbol de portes en varias arquitecturas.

<li>Esto tambi&eacute;n le puede evitar alg&uacute;n esfuerzo, ya que es
posible que pueda reiniciar el ciclo en <tt>configure</tt> la
mayor&iacute;a de las veces.
</ul>

<br>
<li>Lea detenidamente la salida (si es que produce alguna) y retoque
cualquier opci&oacute;n necesaria en el fichero Makefile.  Para repetir,
invoque la orden `<b>make clean configure</b>'.

<p>
Nota: aseg&uacute;rese de que los ficheros dependientes del
anfitri&oacute;n van a <tt>/etc</tt> o <tt>/etc/&lt;nombre&gt;</tt>,
pero <b>NUNCA SUBSTITUYA O MODIFIQUE</b> ficheros que existan en
<tt>/etc</tt>.  Es mejor poner install en
<tt>/usr/local/share/&lt;nombre&gt;</tt> y que los copie a <tt>/etc</tt>
o <tt>/etc/&lt;nombre&gt;</tt>, s&oacute;lo si los ficheros no existen.
Si los ficheros existen, muestre un mensaje que indique que tal y tal
fichero necesita ser modificado.  Esto tambi&eacute;n garantiza que los
ficheros sean incluidos en el paquete, ya que todo lo que haya en
<tt>/usr/local</tt> se incluye en PLIST.  Despu&eacute;s de que un
paquete haya sido instalado, se mostrar&aacute; el contenido de
<tt>pkg/MESSAGE</tt>, si es que existe.

<p>
Las ubicaciones de los ficheros de OpenBSD son:

<pre>
   ejecutables del usuario:		/usr/local/bin
   ejecutables del adminstrador:	/usr/local/sbin
   ejecutables por programas:		/usr/local/libexec
   bibliotecas:				/usr/local/lib
   datos dep. arquitectura:		/usr/local/lib/&lt;nombre&gt;
   ficheros include instalados:		/usr/local/include o
					/usr/local/include/&lt;nombre&gt;
   datos de m&aacute;qina
   &uacute;nicos:	       			/etc o /etc/&lt;nombre&gt;
   estado local:			/var/run
   ficheros de
   puntuaci&oacute;n de juegos:		/var/games
   ficheros GNU info:			/usr/local/info
   p&aacute;ginas del manual:			/usr/local/man/...
   s&oacute;lo lectura indep. 
   arquitectura:			/usr/local/share/&lt;nombre&gt;
   documentaci&oacute;n 
   miscel&aacute;nea:				/usr/local/share/doc/&lt;nombre&gt;
   archivos de ejemplo:				/usr/local/share/examples/&lt;name&gt;
</pre>

<li>Empiece un ciclo de makes hasta que el porte est&eacute; listo.  Use
Patch (ver arriba), clean, y make hasta generar el porte.
L&iacute;brese de todos los avisos si es posible, especialmente de los
avisos relacionados con la seguridad.

<br>
<br>
<li>Controle la sem&aacute;ntica de SEPARATE_BUILD.  Debe hacerlo
s&oacute;lo si el porte se compila con SEPARATE_BUILD definido.  Lo
ideal ser&iacute;a que el porte no modificara ning&uacute;n fichero en
${WRKSRC} despu&eacute;s de <b>make patch</b>.  Puede
comprobarlo asegur&aacute;ndose de que usted no tenga acceso de
escritura a ${WRKSRC}.  Entonces puede configurar
<tt>SEPARATE_BUILD=concurrent</tt>...  alguien podr&iacute;a usar el
mismo &aacute;rbol de fuentes para compilarlo en arquitecturas
diferentes de forma simult&aacute;nea.  De otro modo, configure
<tt>SEPARATE_BUILD=simple</tt>...  compilar en distintas arquitecturas
de forma simult&aacute;nea puede acarrear problemas, ya que muchos
ficheros de fuentes pueden ser regenerados en momentos dif&iacute;ciles.

<br>
<br>
<li>A&ntilde;ada <tt>COMMENT</tt> en el fichero Makefile.  COMMENT es
una <b>CORTA</b> descripci&oacute;n en una l&iacute;nea del porte (60
caracteres máximo).  <b>NO</b> incluya el nombre del paquete (o el
n&uacute;mero de la versi&oacute;n del software) en el comentario.
<b>NO</b> lo empiece con may&uacute;scula a menos que tenga un
significado sem&aacute;ntico, y <b>NO</b> lo termine con un punto.
<b>NI SIQUIERA EMPIECE CON UN ART&Iacute;CULO INDETERMINADO COMO
&quot;a&quot; o &quot;an&quot; (ingl&eacute;s, por supuesto);  elimine
el art&iacute;culo del todo.</b>

<br>
<br>
<li>Edite <tt>pkg/DESCR</tt>, <tt>pkg/PLIST</tt>.
<ul>
<li><tt>DESCR</tt> es una descripci&oacute;n m&aacute;s larga del porte.
Desde uno hasta unos cuantos p&aacute;rrafos que expliquen brevemente lo
que hace el porte ser&aacute; suficiente.  Se recomienda usar un
m&aacute;ximo de 72 caracteres por l&iacute;nea.  Esto se puede hacer
editando primero el fichero <tt>DESCR</tt> y ejecut&aacute;ndolo a
continuaci&oacute;n mediante <b>fmt -w 72</b>.

<li>PLIST se mantendr&aacute; vac&iacute;o de momento.
</ul>

<br><li>
Si la aplicaci&oacute;n necesita crear un usuario o un grupo, hay que
escoger el id de menor rango de
<code>/usr/ports/infrastructure/db/user.list</code> para que lo use el
porte y asegurarse de que el porte se a&ntilde;ade a este fichero en el
momento de la entrega por cvs.

<br><br><li>
Instale la aplicaci&oacute;n con <b>make install</b>.  Si el porte
instala bibliotecas din&aacute;micas, compruebe sus tablas de
s&iacute;mbolos con <code>nm</code>, ya que alg&uacute;n software
equivocado quita las bibliotecas din&aacute;micas, lo que puede
conllevar fallos extra&ntilde;os m&aacute;s tarde.  Por otra parte, los
binarios ejecutables DEBER&Iacute;AN ser eliminados;  se puede usar
<b>file</b> para determinar cu&aacute;les.  Si el porte ya incluyera
c&oacute;digo para eliminar los binarios (o sea, el objetivo
<tt>install-strip</tt>), util&iacute;licelo;  en caso contrario, debe
incluirlo en el fichero <tt>Makefile</tt>.

<br>
<br>
<li><b>Verifique los agujeros de seguridad del porte otra vez</b>.  Esto
es especialmente importante para programas de red y setuid.  Lea
nuestras <a href="porting.html#Security">recomendaciones de
seguridad</a>.  Registre en el fichero <tt>pkg/SECURITY</tt> todo
aquello que pueda ser interesante y las soluciones.  Este fichero debe
ser una lista de problemas potenciales auditados, junto con parches
importantes, de modo que otra persona pueda ver a primera vista lo que
se ha hecho.  Por ejemplo:

<pre> 
      &#36;OpenBSD&#36;

      ${WRKDIR}/receiver.c
         call to mktemp (wrapper function do_mktemp) does seem to be correct.

      The server makes extensive use of strlcpy/strlcat/snprintf.
</pre>

<li>Cree el fichero <tt>pkg/PLIST</tt>.  Despu&eacute;s de que la
instalaci&oacute;n se haya completado use la orden de desarrollador
<b>make plist</b>, que compila el fichero <tt>PLIST</tt> en el
directorio <tt>pkg</tt>.  Este fichero es un candidato a la lista de
paquetes.

<p>
&iexcl;Atento!  Los ficheros se encuentran por la marca de tiempo
(<i>timestamp</i>).  Esto significa que NO DEBE:

<ul>
<li>listar ning&uacute;n fichero instalado con 'tar' ya que su marca de
tiempo no cambiar&aacute; y por lo tanto no ser&aacute; encontrado por
'find';
<li>actualizar el fichero <tt>info/dir</tt> si se a&ntilde;aden los
ficheros .info.  Aseg&uacute;rese tambi&eacute;n de que
<tt>info/dir</tt> no forma parte de PLIST;
<li>intentar hacer nada especial con enlaces o enlaces
simb&oacute;licos.  Una prueba r&aacute;pida de 'tar' muestra que hace
lo correcto con los enlaces y enlaces simb&oacute;licos, as&iacute; que
no hay raz&oacute;n para ning&uacute;n caso especial en la lista de
paquetes.  A&uacute;n as&iacute;...
</ul>

<p>
Lea detenidamente <tt>PLIST</tt> y verifique que se haya instalado todo,
y que la instalaci&oacute;n haya tenido lugar en las ubicaciones
pertinentes.  Se puede a&ntilde;adir cualquier parte que no se haya
instalado a una regla `post-install' en el fichero Makefile del porte.

<p> Los portes que instalen bibliotecas compartidas tendr&aacute;n otro
fichero llamado <tt>PFRAG.shared</tt>.

<ul>
<li><tt>PLIST</tt> describe los ficheros independientemente de si la
arquitectura tiene soporte para bibliotecas compartidas o no.

<li><tt>PFRAG.shared</tt> describe s&oacute;lo aquellos ficheros que se
hayan instalado en las arquitecturas con soporte para bibliotecas
compartidas.

<li><tt>PFRAG.noshared</tt> describe s&oacute;lo aquellos ficheros que
se hayan instalado en las arquitecturas sin soporte para bibliotecas
compartidas.
</ul>

<br>
<li>Siga desinstalando y reinstalando hasta que est&eacute; perfecto.
<i>Perfecto</i> es cuando todo instala y desinstala en su
ubicaci&oacute;n correcta.  Para desinstalar se usa la orden
'pkg_delete' &lt;nombre_paquete&gt;'.  Para reinstalar se usa la orden
'sudo make reinstall'.  Lea la p&aacute;gina de manual de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&amp;apropos=0&amp;sektion=0&amp;manpath=OpenBSD+Current&amp;format=html">pkg_create(1)</a>
para ver otras &oacute;rdenes que se pueden a&ntilde;adir a PLIST para
asegurarse de que est&aacute; todo limpio.  Despu&eacute;s de una
desinstalaci&oacute;n, la orden
    <pre>
    find /usr/local -newer w-${PKGNAME}${FLAVOR_EXT}/fake-${MACHINE_ARCH}[-${FLAVOR}]/.install_started -print
    </pre>
deber&iacute;a mostrar s&oacute;lo la lista de nombre de directorios
t&iacute;picos.
    
<br>
<br>
<li>
Pruebe el paquete.  Despu&eacute;s de que el porte haya instalado
correctamente, use la orden <b>make package</b> para crear un paquete.
Para probar el paquete, primero use <b>pkg_delete</b> y a
continuaci&oacute;n <b>pkg_add</b>.  Los resultados después de
<b>pkg_add</b> deber&iacute;an ser EXACTAMENTE los mismos que los
resultados despu&eacute;s de <b>make install</b>.

<br>
<br>
<li>
Env&iacute;e una breve nota a 
<a href="mailto:ports@@openbsd.org">ports@@openbsd.org</a> para pedir
comentarios y pruebas.  Adjunte el porte a este mensaje y
env&iacute;elo.

<p>
Intente que otros usuarios lo prueben en varias plataformas.

<ul>
<li>La plataforma de DEC Alpha es buena porque s&oacute;lo tiene
bibliotecas est&aacute;ticas y porque <code>sizeof(int) !=
sizeof(long)</code>.

<li>La plataforma de Sun SPARC es buena porque es muy com&uacute;n y
porque su orden de byte es al rev&eacute;s que en i386;  si hubiera
llevado a cabo el desarrollo en SPARC, entonces querr&aacute; probarlo
en i386.
</ul>

<br>
<li>Incorpore cualquier informaci&oacute;n que reciba.  Pru&eacute;belo
de nuevo en su plataforma.  Consiga que quienes le enviaron
informaci&oacute;n sobre la primera prueba, vuelvan a probar el nuevo
porte.

<br>
<br>
<li>Finalmente, incl&uacute;yalo en el &aacute;rbol de portes.  Si no
tiene acceso al CVS, pida a alguien en 
<a href="mailto:ports@@openbsd.org">ports@@openbsd.org</a> que haga la
entrega.

<br>
<br>
<li>Si es un desarrollador con acceso a CVS, entr&eacute;guelo Vd.
mismo.  Generalmente usamos &quot;import&quot; para un porte nuevo, en
lugar de usar &quot;add&quot; para cada uno de tropecientos (o una
docena) ficheros.  &quot;import&quot; usa n&uacute;meros de
versi&oacute;n &quot;vendor branch&quot; como 1.1.1.1, pero no se
preocupe por eso.  Si efect&uacute;a cambios a un fichero
espec&iacute;fico (editar y entregar por cvs), ser&aacute; 1.2 y se
usar&aacute; ese n&uacute;mero.

<p>
De un modo breve, &quot;cvs import&quot; se suele usar cuando un se crea
un porte.  A partir de ah&iacute; se suele usar &quot;cvs add&quot; y
&quot;cvs rm&quot; para a&ntilde;adir o eliminar ficheros individuales,
y el ciclo normal editar-&gt;entregar para los cambios.  Puede usar algo
como esto:

<pre>
$ cd kaffe1
$ make clean	# &iexcl;en realidad no querr&aacute; 
                # comprobar todo el trabajo!
$ cvs -d cvs.openbsd.org:/cvs import -m 'kaffe port' ports/lang/kaffe1 \
	<i>SuNombre</i> <i>SuNombre_YYYY-MMM-DD</i>
</pre>

<ul>
<li>-d cvs.openbsd.org:/cvs indica la direcci&oacute;n de cvs.  Se puede
omitir esto si se ha definido una variable de entorno CVSROOT.

<li>-m 'kaffe port' es su mensaje de registro.  Ponga lo que quiera

<li>ports/lang/kaffe1 es el camino relativo a /cvs, en donde reside el
porte.

<li><i>SuNombre</i> (substituir con su nombre de ingreso) es el
&quot;vendor tag&quot; (etiqueta del distribuidor).  Vd. lo
import&oacute;, as&iacute; que Vd. es el distribuidor.

<li><i>SuNombre_YYYY-MMM-DD</i> (v.g., ian_2000-jan-01) es el
&quot;vendor release tag&quot; (etiqueta de lanzamiento del
distribuidor).  Tan buena como cualquier otra.
</ul>

<p>
A modo de ejemplo real, he aqu&iacute; la salida de la
comprobaci&oacute;n del porte Kaffe1, que uno de nosotros hizo el 8 de
septiembre de 1.998:

<pre>
$ cd kaffe1
$ make clean &gt;/dev/null
$ cvs import -m 'kaffe1.0(==JDK1.1) port' ports/lang/kaffe1 ian ian_1998-Sep-08
ian@@cvs.openbsd.org's password: (l&oacute;gicamente no se muestra)
I ports/lang/kaffe1/CVS
I ports/lang/kaffe1/files/CVS
I ports/lang/kaffe1/pkg/CVS
N ports/lang/kaffe1/Makefile
cvs server: Importing /cvs/ports/lang/kaffe1/files
N ports/lang/kaffe1/files/md5
cvs server: Importing /cvs/ports/lang/kaffe1/pkg
N ports/lang/kaffe1/pkg/COMMENT
N ports/lang/kaffe1/pkg/DESCR
N ports/lang/kaffe1/pkg/PLIST

No conflicts created by this import
$ 
</pre>

<li>Por &uacute;ltimo, a&ntilde;ada una entrada de una l&iacute;nea para
el nuevo porte en el fichero <tt>Makefile</tt> de su directorio de
primer nivel;  por ejemplo, para <tt>ports/lang/kaffe1</tt>,
a&ntilde;&aacute;dala en <tt>ports/lang/Makefile.</tt>

<br>
<br>
<li>&iexcl;Mantenga el porte!  Seg&uacute;n pase el tiempo pueden surgir
problemas, o pueden aparecer nuevas versiones del software.  Debe
intentar mantener su porte actualizado:  en otras palabras,
&laquo;probar, comprobar, verificar, probar, ...&raquo;

<br>
<br>
<li>Cuando actualice un porte, recuerde gestionar las dependencias.  No
debe dejar que ning&uacute;n otro porte que dependa del suyo pueda
quedar &laquo;roto&raquo;.  En caso de que surjan problemas,
comun&iacute;quese con los mantenedores de estos portes.  Asimismo,
est&eacute; atento a las actualizaciones de otros portes de los que
pueda depender el suyo, y compruebe que el mantenedor haya hecho bien su
trabajo.

</ol>
 
&iexcl;Gracias por su apoyo el proceso de portes de OpenBSD!

<hr>

<a href="porting.html"><img height="24" width="24" src="../images/back.gif" border="0" alt="Porting"></a> 
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: checklist.html,v 1.59 ]<br>
$Translation: checklist.html,v 1.34 2009/05/26 22:53:51 ajacoutot Exp $<br>
$OpenBSD: checklist.html,v 1.31 2009/05/26 21:30:39 ajacoutot Exp $
</small>

</body>
</html>
@


1.31
log
@Sync with Steelix CVS
@
text
@d660 1
a660 1
$OpenBSD$
@


1.30
log
@sync with Steelix CVS
@
text
@d659 1
a659 1
$Translation: checklist.html,v 1.30 2004/09/06 15:12:23 santana Exp $<br>
@


1.29
log
@Sync with Steelix CVS
@
text
@d1 2
a2 1
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
d51 2
a52 2
encontrar las instrucciones sobre c&oacute;mo hacerlo en
<a href="anoncvs.html">http://www.openbsd.org/es/anoncvs.html</a>.
d71 1
a71 1
<li>A&ntilde;ada las porciones con &quot;fetch&quot; del fichero
d225 6
a230 1
<tt>/usr/local/share/DISTNAME/</tt>.
d362 1
d502 1
a502 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&apropos=0&sektion=0&manpath=OpenBSD+Current&format=html">pkg_create(1)</a>
d658 2
a659 2
Originally [OpenBSD: checklist.html,v 1.55 ]<br>
$Translation: checklist.html,v 1.29 2004/01/04 20:17:31 horacio Exp $<br>
@


1.28
log
@Sync with Steelix CVS
@
text
@d10 1
a10 1
<meta name="copyright" content="Este documento es copyright 1998-2003 de OpenBSD.">
d651 2
a652 2
Originally [OpenBSD: checklist.html,v 1.54 ]<br>
$Translation: checklist.html,v 1.28 2003/12/06 10:58:48 horacio Exp $<br>
d655 1
@


1.27
log
@Sync with Steelix CVS
@
text
@d387 1
a387 1
&quot;a&quot; o &quot;as&quot; (ingl&eacute;s, por supuesto);  elimine
d651 2
a652 2
Originally [OpenBSD: checklist.html,v 1.53 ]<br>
$Translation: checklist.html,v 1.27 2003/11/18 21:36:04 horacio Exp $<br>
@


1.26
log
@Sync with Steelix CVS
@
text
@d10 1
a10 1
<meta name="copyright" content="Este documento es copyright 1998-2002 de OpenBSD.">
d15 1
a15 1
<body text="black" bgcolor="white" link="#23238e">
d647 1
a647 2
<a href="porting.html"><img height="24" width="24" src="../images/back.gif"
 border="0" alt="Porting"></a> 
d651 2
a652 2
Originally [OpenBSD: checklist.html,v 1.52 ]<br>
$Translation: checklist.html,v 1.26 2003/11/02 01:09:02 horacio Exp $<br>
@


1.25
log
@sync with steelix translation CVS
@
text
@d282 1
a282 1
<li>Parchee s&oacute;lo un fichero fuente por cada patchfile,
d284 1
a284 1
<li>Use <b>make update-patches</b> para generar parches,
d286 1
a286 1
<li>Todos los parches DEBEN ser relativos a ${WRKDIST},
d293 2
a294 3
<li>A&ntilde;ada una peque&ntilde;a explicaci&oacute;n del papel del
parche en el patchfile, antes del mismo parche, y un indicador de CVS de
OpenBSD <tt>&#36;OpenBSD&#36;</tt>.
d652 2
a653 2
Originally [OpenBSD: checklist.html,v 1.51 2003/06/22 13:24:32 sturm Exp ]<br>
$Translation: checklist.html,v 1.25 2003/06/22 21:38:08 horacio Exp $<br>
@


1.24
log
@
sync with steelix translation CVS
@
text
@d405 9
a413 2
<br>
<li>Instale la aplicaci&oacute;n con <b>make install</b>.  Si el porte
d653 2
a654 2
Originally [OpenBSD: checklist.html,v 1.50 2003/06/02 12:39:26 jolan Exp ]<br>
$Translation: checklist.html,v 1.24 2003/06/04 07:39:08 horacio Exp $<br>
@


1.23
log
@
sync with steelix translation CVS
@
text
@d421 1
a421 1
nuestras <a href="porting.html#security">recomendaciones de
d646 2
a647 2
Originally [OpenBSD: checklist.html,v 1.49 2003/05/11 04:59:48 cannings Exp ]<br>
$Translation: checklist.html,v 1.23 2003/05/11 18:58:00 horacio Exp $<br>
@


1.22
log
@
sync with steelix translation CVS
@
text
@d64 1
a64 1
<li>Cree los directorios <tt>patches</tt> y <tt>pkg</tt>.
d646 2
a647 2
Originally [OpenBSD: checklist.html,v 1.48 2003/04/11 02:46:22 david Exp ]<br>
$Translation: checklist.html,v 1.22 2003/04/12 10:45:24 horacio Exp $<br>
@


1.21
log
@
sync with steelix translation CVS
@
text
@d43 3
a45 3
<li>Ser el mantenedor de un porte es <strong>algo m&aacute;s</strong>
que limitarse a entregar portes al &aacute;rbol de CVS.  Tambi&eacute;n
hay que mantenerlos actualizados, y contestar dudas sobre &eacute;stos.
d57 2
a58 2
<em>Makefile</em> que encontrar&aacute; en
<em>/usr/ports/infrastructure/templates/Makefile.template</em>.
d61 1
a61 1
portes, incluido <em>bsd.port.mk</em>.
d64 3
a66 2
<li>Cree los directorios <code>patches y pkg</code>.
<li>Cree los ficheros vac&iacute;os <code>pkg/DESCR y pkg/PLIST</code>.
d71 1
a71 1
<em>Makefile</em>.
d78 1
a78 1
extensi&oacute;n.  Por ejemplo, si tuviera <em>foo-1.0.tar.gz</em>,
d83 4
a86 4
<em>ftp://ftp.openbsd.org/pub/OpenBSD/distfiles/</em> .  <strong>No
olvide la barra final.</strong> Como m&iacute;nimo, intente tener tres
sitios diferentes.  Ponga el de m&aacute;s f&aacute;cil acceso primero,
ya que los recorrer&aacute; por orden.
d88 1
a88 1
<li>Recuerde que <em>fetch</em> hace referencia al fichero como
d93 1
a93 1
escribiendo <strong>make fetch-all</strong>.
d109 1
a109 1
<em>/usr/ports/infrastructure/template/network.conf.template</em> para
d118 3
a120 3
de comprobaci&oacute;n grabada(s) en <em>distinfo</em>.  As&iacute;
pues, para evitar confusi&oacute;n, <em>DISTFILES</em> y
<em>PATCHFILES</em> deber&iacute;an tener n&uacute;meros de
d122 1
a122 1
enlace a <em>foo-1.0.5.tar.gz</em>.  Si es necesario, preg&uacute;ntele
d128 1
a128 1
confusi&oacute;n en <em>/usr/ports/distfiles</em>.
d141 1
a141 1
<em>foo-1.0.5.tar.gz</em> desde MASTER_SITES5.
d155 3
a157 3
<li>Cree una suma de comprobaci&oacute;n en <em>distinfo</em> mediante
<strong>make makesum</strong>, y verifique que la suma de
comprobaci&oacute;n es correcta mediante <strong>make checksum</strong>.
d186 4
a189 5
<li>Extraiga el porte con <strong>make extract</strong>.  Preste
atenci&oacute;n a la ubicaci&oacute;n de la base de los fuentes, que
suele ser <em>w-${PKGNAME}${FLAVOR_EXT}/${DISTNAME}</em>.  Es probable
que tenga que modificar la variable WRKDIST del fichero Makefile si es
distinta.
d204 1
a204 1
fichero <em>Makefile</em>.
d224 1
a224 1
<code>/usr/local/share/DISTNAME/</code>.
d229 1
a229 1
<em>Makefile</em> y/o genere el gui&oacute;n de configuraci&oacute;n.
d234 1
a234 1
<code>scripts/</code>.  Esto ser&aacute; ejecutado antes de ejecutar
d242 1
a242 1
CONFIGURE_ARGS en el fichero <em>Makefile</em>.
d249 1
a249 1
<li>Intente construir el porte con <strong>make build</strong>.
d261 3
a263 3
los parches es <strong>make clean patch</strong>.  Esto eliminar&aacute;
el directorio local, har&aacute; la reextracci&oacute;n, y
aplicar&aacute; los parches.
d267 2
a268 3
<li>Empiece un ciclo de <strong>make build</strong>, genere un parche (o
use <strong>make update-patches</strong>), y <strong>make clean
patch</strong>.
d271 1
a271 1
<li>Los parches van en el directorio <em>patches/</em>, y deben llevar
d275 1
a275 1
(<kbd>make update-patches</kbd> hace esto autom&aacute;ticamente).
d284 1
a284 1
<li>Use <strong>make update-patches</strong> para generar parches,
d288 4
a291 4
<li>Compruebe que los parches <strong>NO</strong> contengan indicadores
que puedan ser reemplazados por cvs.  Si contiene alguno, entonces sus
parches no ser&aacute;n aplicados despu&eacute;s de haberlos entregado.
Puede entregar sus cambios con -kk para evitar esto.
d295 1
a295 1
OpenBSD <code>&#36;OpenBSD&#36;</code>.
d297 2
a298 2
<li><strong>Por favor</strong>, env&iacute;e sus parches al autor
original del software.
d302 1
a302 1
<li>Intente activar <code>SEPARATE_BUILD</code>.
d308 2
a309 2
que usan <code>CONFIGURE_STYLE=gnu</code> pueden), y puede ayudar a los
usuario que montan su &aacute;rbol de portes en varias arquitecturas.
d312 1
a312 1
posible que pueda reiniciar el ciclo en <code>configure</code> la
d319 1
a319 1
invoque la orden `<strong>make clean configure</strong>'.
d323 5
a327 5
anfitri&oacute;n van a <em>/etc</em> o <em>/etc/&lt;nombre&gt;</em>,
pero <strong>NUNCA SUBSTITUYA O MODIFIQUE</strong> ficheros que existan
en <em>/etc</em>.  Es mejor poner install en
<em>/usr/local/share/&lt;nombre&gt;</em> y que los copie a <em>/etc</em>
o <em>/etc/&lt;nombre&gt;</em>, s&oacute;lo si los ficheros no existen.
d331 1
a331 1
<em>/usr/local</em> se incluye en PLIST.  Despu&eacute;s de que un
d333 1
a333 1
<code>pkg/MESSAGE</code>, si es que existe.
d369 1
a369 1
${WRKSRC} despu&eacute;s de <strong>make patch</strong>.  Puede
d372 1
a372 1
<code>SEPARATE_BUILD=concurrent</code>...  alguien podr&iacute;a usar el
d375 3
a377 4
<code>SEPARATE_BUILD=simple</code>...  compilar en distintas
arquitecturas de forma simult&aacute;nea puede acarrear problemas, ya
que muchos ficheros de fuentes pueden ser regenerados en momentos
dif&iacute;ciles.
d381 9
a389 10
<li>A&ntilde;ada <em>COMMENT</em> en el fichero Makefile.  COMMENT es
una <strong>CORTA</strong> descripci&oacute;n en una l&iacute;nea del
porte (60 caracteres máximo).  <strong>NO</strong> incluya el nombre del
paquete (o el n&uacute;mero de la versi&oacute;n del software) en el
comentario.  <strong>NO</strong> lo empiece con may&uacute;scula a menos
que tenga un significado sem&aacute;ntico, y <strong>NO</strong> lo
termine con un punto.  <strong>NI SIQUIERA EMPIECE CON UN
ART&Iacute;CULO INDETERMINADO COMO &quot;a&quot; o &quot;as&quot;
(ingl&eacute;s, por supuesto);  elimine el art&iacute;culo del
todo.</strong>
d393 1
a393 1
<li>Edite <em>pkg/DESCR</em>, <em>pkg/PLIST</em>.
d395 1
a395 1
<li><em>DESCR</em> es una descripci&oacute;n m&aacute;s larga del porte.
d399 2
a400 2
editando primero el fichero <em>DESCR</em> y ejecut&aacute;ndolo a
continuaci&oacute;n mediante <kbd>fmt -w 72</kbd>.
d406 2
a407 2
<li>Instale la aplicaci&oacute;n con <strong>make install</strong>.  Si
el porte instala bibliotecas din&aacute;micas, compruebe sus tablas de
d412 1
a412 1
<kbd>file</kbd> para determinar cu&aacute;les.  Si el porte ya incluyera
d414 2
a415 2
<em>install-strip</em>), util&iacute;licelo;  en caso contrario, debe
incluirlo en el fichero <em>Makefile</em>.
d419 4
a422 4
<li><strong>Verifique los agujeros de seguridad del porte otra
vez</strong>.  Esto es especialmente importante para programas de red y
setuid.  Lea nuestras <a href="porting.html#security">recomendaciones de
seguridad</a>.  Registre en el fichero <code>pkg/SECURITY</code> todo
d437 1
a437 1
<li>Cree el fichero <em>pkg/PLIST</em>.  Despu&eacute;s de que la
d439 2
a440 2
<kbd>make plist</kbd>, que compila el fichero <em>PLIST</em> en el
directorio <em>pkg</em>.  Este fichero es un candidato a la lista de
d445 1
a445 1
(<em>timestamp</em>).  Esto significa que NO DEBE:
d451 1
a451 1
<li>actualizar el fichero <code>info/dir</code> si se a&ntilde;aden los
d453 1
a453 1
<code>info/dir</code> no forma parte de PLIST;
d462 1
a462 1
Lea detenidamente <em>PLIST</em> y verifique que se haya instalado todo,
d468 1
a468 1
fichero llamado <em>PFRAG.shared</em>.
d471 1
a471 1
<li><em>PLIST</em> describe los ficheros independientemente de si la
d474 1
a474 1
<li><em>PFRAG.shared</em> describe s&oacute;lo aquellos ficheros que se
d478 1
a478 1
<li><em>PFRAG.noshared</em> describe s&oacute;lo aquellos ficheros que
d485 1
a485 1
<em>Perfecto</em> es cuando todo instala y desinstala en su
d503 5
a507 5
correctamente, use la orden <code>make package</code> para crear un
paquete.  Para probar el paquete, primero use <code>pkg_delete</code> y
a continuaci&oacute;n <code>pkg_add</code>.  Los resultados después de
<code>pkg_add</code> deber&iacute;an ser EXACTAMENTE los mismos que los
resultados despu&eacute;s de <code>make install</code>.
d567 1
a567 1
	<em>SuNombre</em> <em>SuNombre_YYYY-MMM-DD</em>
d579 1
a579 1
<li><em>SuNombre</em> (substituir con su nombre de ingreso) es el
d583 1
a583 1
<li><em>SuNombre_YYYY-MMM-DD</em> (v.g., ian_2000-jan-01) es el
d614 3
a616 3
el nuevo porte en el fichero <em>Makefile</em> de su directorio de
primer nivel;  por ejemplo, para <em>ports/lang/kaffe1</em>,
a&ntilde;&aacute;dala en <em>ports/lang/Makefile.</em>
d646 2
a647 2
Originally [OpenBSD: checklist.html,v 1.47 2003/02/26 02:14:49 david Exp ]<br>
$Translation: checklist.html,v 1.21 2003/03/01 14:22:35 horacio Exp $<br>
@


1.20
log
@
sync with steelix translation CV
@
text
@d649 2
a650 2
Originally [OpenBSD: checklist.html,v 1.46 2003/02/19 16:46:34 pvalchev Exp ]<br>
$Translation: checklist.html,v 1.20 2003/02/21 18:34:50 horacio Exp $<br>
@


1.19
log
@
sync with steelix translation CVS, work by Horacio
@
text
@d21 5
a25 4
Este documento describe c&oacute;mo hacer o c&oacute;mo actualizar un
porte.  Es una lista &uacute;til para recordar qu&eacute; cosas se deben
hacer.  No es exacta ni perfecta.  Dirija cualquier comentario o
pregunta al respecto a
a29 1

d400 4
a403 3
que hace el porte ser&aacute; suficiente.  Se puede hacer editando
primero el fichero <em>DESCR</em> y ejecut&aacute;ndolo a
continuaci&oacute;n mediante <kbd>fmt -w 80</kbd>.
d649 2
a650 2
Originally [OpenBSD: checklist.html,v 1.45 2002/11/19 22:02:19 jsyn Exp ]<br>
$Translation: checklist.html,v 1.19 2003/01/08 19:26:51 horacio Exp $<br>
@


1.18
log
@
sync by horacio@@
@
text
@d16 1
d21 4
a24 4
Este documento describe c&oacute;mo hacer o c&oacute;mo
actualizar un porte.  Es una lista &uacute;til para recordar
qu&eacute; cosas se deben hacer.  No es exacta ni perfecta.
Dirija cualquier comentario o pregunta al respecto a
d34 7
a40 9
<ul>
   <li>Aqu&iacute; tienen lugar todas las dicusiones sobre los
       portes.
   <li>La lectura de esta lista es importante, ya que muchos
       anuncios van a esta lista.
   <li>Ah&iacute; encontrar&aacute; a muchos mantenedores de
       portes.  A menudo pueden darle buenos consejos o probar
       su porte.
</ul>
d43 3
a45 4
<li>Ser el mantenedor de un porte es <strong>algo
    m&aacute;s</strong> que limitarse a entregar portes al
    &aacute;rbol de CVS.  Tambi&eacute;n hay que mantenerlos
    actualizados, y contestar dudas sobre &eacute;stos.
d49 3
a51 3
<li>Obtenga una copia del &aacute;rbol de portes del cvs.
    Puede encontrar las instrucciones sobre c&oacute;mo
    hacerlo en <a href="anoncvs.html">http://www.openbsd.org/es/anoncvs.html</a>.
d69 2
a70 2
<li>A&ntilde;ada las porciones con &quot;fetch&quot; del
    fichero <em>Makefile</em>.
d73 2
a74 2
<li>Rellene EXTRACT_SUFX si es algo a parte de un .tar.gz.
    Otros ejemplos pueden ser .tar.Z o .tgz.
d76 14
a89 17
<li>Rellene DISTNAME, que es el nombre del fichero menos el
    sufijo de la extensi&oacute;n.  Por ejemplo, si tuviera
    <em>foo-1.0.tar.gz</em>, DISTNAME ser&iacute;a foo-1.0.

<li>Rellene MASTER_SITES, que es una URL para los directorios
    en donde el fichero distfile est&aacute; ubicado.  Por
    ejemplo,
    <em>ftp://ftp.openbsd.org/pub/OpenBSD/distfiles/</em> .
    <strong>No olvide la barra final.</strong> Como
    m&iacute;nimo, intente tener tres sitios diferentes.
    Ponga el de m&aacute;s f&aacute;cil acceso primero, ya que
    los recorrer&aacute; por orden.

<li>Recuerde que <em>fetch</em> hace referencia al fichero
    como ${MASTER_SITES}${DISTNAME}$EXTRACT_SUFX}.  Se
    usar&aacute;n las tres.  No configure DISTNAME para que
    apunte al fichero directamente.
d96 2
a97 2
Existen opciones y herramientas disponibles para portes
m&aacute;s complejos:
d101 3
a103 3
&Eacute;sta es una lista de parches de distribuidores (no de
OpenBSD) para el porte.  Generalmente son soluciones de
fiabilidad, de seguridad, o algo parecido.
d106 34
a139 38
p&uacute;blicas grandes como GNU, SunSite, o CPAN, disponemos
de una lista de sitios en
<em>/usr/ports/infrastructure/template/network.conf.template</em>
para su uso.  Configure MASTER_SITES como ${MASTER_SITE_GNU}.
o ${MASTER_SITE_SUNSITE}, etc.  Para simplificar este proceso,
utilice la composici&oacute;n ${MASTER_SITE_FOO:=subdir/} para
a&ntilde;adir el subdirectorio de distribuci&oacute;n.

<li>Generalmente los portes corresponden a versiones
espec&iacute;ficas de software.  Una vez que se han obtenido,
se hace una suma de comprobaci&oacute;n sobre los ficheros y
se compara(n) a la(s) suma(s) de comprobaci&oacute;n
grabada(s) en <em>distinfo</em>.  As&iacute; pues, para evitar
confusi&oacute;n, <em>DISTFILES</em> y <em>PATCHFILES</em>
deber&iacute;an tener n&uacute;meros de versi&oacute;n
claramente visibles.  No coja foo-latest.tar.gz si es un
enlace a <em>foo-1.0.5.tar.gz</em>.  Si es necesario,
preg&uacute;ntele gentilmente al autor del programa original
para aclarar las distinciones.

<li>Si un porte cualquiera necesitara m&aacute;s de unos 5
DISTFILES + PATCHFILES para funcionar, use DIST_SUBDIR para
evitar demasiada confusi&oacute;n en
<em>/usr/ports/distfiles</em>.

<li>No se debe incluir n&uacute;meros de versi&oacute;n en
DIST_SUBDIR.  Cuando se actualiza el porte a una
versi&oacute;n posterior, es posible que no cambien algunos
ficheros de distfiles, pero si DIST_SUBDIR ha cambiado, fetch
los volver&aacute; a bajar.  Aun en el caso en que todos los
ficheros distfile cambiaran, ser&iacute;a m&aacute;s
f&aacute;cil para el usuario hacer un seguimiento completo.

<li>No es necesario que todos los DISTFILES y PATCHFILEs
vengan del mismo conjunto de MASTER_SITES.  Se pueden definir
sitios suplementarios usando las variables MASTER_SITES0 hasta
MASTER_SITES9.  Simplemente, escriba
DISTFILES=foo-1.0.5.tar.gz:5 para obtener
d142 7
a148 8
<li>Algunos portes no siempre necesitan obtener todos los
ficheros.  Por ejemplo, algunos portes pueden tener algunas
opciones de compilaci&oacute;n, y ficheros asociados que
s&oacute;lo se requieren en el caso concreto.  O es posible
que necesiten algunos ficheros s&oacute;lo para algunas
arquitecturas y no para otras.  En ese caso, esos ficheros
suplementarios opcionales deben ser mencionados en la variable
SUPDISTFILES.  Objetivos como puedan ser <tt>makesum</tt> o
d154 3
a156 4
<li>Cree una suma de comprobaci&oacute;n en <em>distinfo</em>
mediante <strong>make makesum</strong>, y verifique que la
suma de comprobaci&oacute;n es correcta mediante <strong>make
checksum</strong>.
d159 5
a163 6
<li>En algunos casos extra&ntilde;os, las sumas de
comprobaci&oacute;n de los ficheros no se pueden verificar con
fiabilidad.  En tales casos es deseable que se comunique con
el autor del software y con el mantenedor del sitio del
archivo.  En el peor de los casos, los ficheros cuyas sumas de
comprobaci&oacute;n no se puedan verificar, se
d166 16
a181 18
<li>Todos los ficheros en DISTFILES suelen ser procesados
durante la extracci&oacute;n con make extract.  Se puede usar
EXTRACT_ONLY para limitar la extracci&oacute;n a un subgrupo
de ficheros (probablemente vac&iacute;os).  El uso personal de
esta variable es para personalizar la extracci&oacute;n.  Por
ejemplo, si algunos ficheros DISTFILES necesitaran
alg&uacute;n trato especial, bastar&iacute;a con eliminarlos
de EXTRACT_ONLY y gestionarlos de modo manual despu&eacute;s
de la extracci&oacute;n.  Por motivos hist&oacute;ricos, make
extract configura primero el directorio local junto con los
ficheros de extracci&oacute;n.  As&iacute;, el proveer de un
objetivo previo a la extracci&oacute;n es bastante inusual (y
un comportamiento muy sospechoso, que indica un alto grado de
ofuscaci&oacute;n en el porte).

<li>Los parches que necesiten un trato espec&iacute;fico deben
ser mencionados en DISTFILES, y eliminados de EXTRACT_ONLY por
motivos hist&oacute;ricos.
d185 5
a189 6
<li>Extraiga el porte con <strong>make extract</strong>.
Preste atenci&oacute;n a la ubicaci&oacute;n de la base de los
fuentes, que suele ser
<em>w-${PKGNAME}${FLAVOR_EXT}/${DISTNAME}</em>.  Es probable
que tenga que modificar la variable WRKDIST del fichero
Makefile si es distinta.
d193 3
a195 4
<li>Lea la documentaci&oacute;n sobre la instalaci&oacute;n y
se dar&aacute; cuenta de lo que debe hacer para construir el
porte y de cualquier opci&oacute;n especial que pueda ser
necesaria.
d200 5
a204 6
restricciones en la licencia se han aplicado a su porte.
Muchos ser&aacute;n de libre redistribuci&oacute;n, pero
muchos otros no.  Necesitamos la respuesta a cuatro preguntas
para poder distribuir los portes como es debido.  Estas
respuestas son los valores PERMIT_* en el fichero
<em>Makefile</em>.
d207 4
a210 4
<li>PERMIT_PACKAGE_CDROM nos indica que podemos incluir el
paquete en el cdrom.
<li>PERMIT_PACKAGE_FTP nos indica que podemos incluir el
paquete en los servidores p&uacute;blicos de ftp.
d213 2
a214 3
<li>PERMIT_DISTFILES_FTP nos indica si podemos poner una
r&eacute;plica de los distfiles en los servidores
p&uacute;blicos de ftp.
d218 6
a223 7
Configure esos valores con Yes si est&aacute; permitido, o a
una cadena de comentarios que explique porqu&eacute; no
est&aacute; permitido.  Preste atenci&oacute;n a cualquier
condici&oacute;n especial que pueda tener que cumplir
m&aacute;s tarde.  Por ejemplo, algunos portes requieren que
se instale una copia de la licencia que los acompa&ntilde;a.
Le recomendamos que ponga la licencia en
d228 2
a229 3
<li>A&ntilde;ada las opciones de configuraci&oacute;n al
fichero <em>Makefile</em> y/o genere el gui&oacute;n de
configuraci&oacute;n.
d232 7
a238 9
<li>Puede a&ntilde;adir un gui&oacute;n de
configuraci&oacute;n del porte con el nombre `configure' a un
directorio que llamar&aacute; <code>scripts/</code>.  Esto
ser&aacute; ejecutado antes de ejecutar cualquier
configuraci&oacute;n especificada por CONFIGURE_STYLE.

<li>Si usa GNU configure, es probable que antes quiera
ejecutar './configure --help' para ver qu&eacute; opciones hay
disponibles.
d244 2
a245 2
<li>Use CONFIGURE_ARGS+= para a&ntilde;adir a la variable.
Use CONFIGURE_ARGS= para anularla.
d249 1
a249 2
<li>
Intente construir el porte con <strong>make build</strong>.
d252 1
a252 2
<li>Si est&aacute; de suerte, el porte se compilar&aacute; sin
errores.
d254 3
a256 3
<li>Si termina el proceso con un error, tendr&aacute; que
generar parches para su porte.  Intente imaginar qu&eacute;
cambios puede necesitar y haga un parche para ellos.
d260 4
a263 4
<li>El modo m&aacute;s f&aacute;cil de reconfigurar un porte y
probar los parches es <strong>make clean patch</strong>.  Esto
eliminar&aacute; el directorio local, har&aacute; la
reextracci&oacute;n, y aplicar&aacute; los parches.
d267 3
a269 3
<li>Empiece un ciclo de <strong>make build</strong>, genere un
parche (o use <strong>make update-patches</strong>), y
<strong>make clean patch</strong>.
d272 5
a276 6
<li>Los parches van en el directorio <em>patches/</em>, y
deben llevar nombre del tipo patch-* (en donde * sea algo con
sentido).  Le recomendamos que nombre sus parches
patch-FILENAME, en donde FILENAME sea el nombre del fichero al
que se est&eacute; aplicando el parche (<kbd>make
update-patches</kbd> hace esto autom&aacute;ticamente).
d278 4
a281 4
<li>La aplicaci&oacute;n de PATCHFILES es la primera mitad de
'make patch'.  Se puede invocar por separado como 'make
dispatch', que es un objetivo conveniente para los
mantenedores de parches.  Ignore esto si no lo ha configurado.
d285 1
a285 2
<li>Use <strong>make update-patches</strong> para generar
parches,
d289 8
a296 9
<li>Compruebe que los parches <strong>NO</strong> contengan
indicadores que puedan ser reemplazados por cvs.  Si contiene
alguno, entonces sus parches no ser&aacute;n aplicados
despu&eacute;s de haberlos entregado.  Puede entregar sus
cambios con -kk para evitar esto.

<li>A&ntilde;ada una peque&ntilde;a explicaci&oacute;n del
papel del parche en el patchfile, antes del mismo parche, y un
indicador de CVS de OpenBSD <code>&#36;OpenBSD&#36;</code>.
d298 2
a299 2
<li><strong>Por favor</strong>, env&iacute;e sus parches al
autor original del software.
d307 8
a314 9
<li>Si el porte se puede construir con ficheros objeto fuera
de su &aacute;rbol de fuentes, ser&aacute; m&aacute;s limpio
(muchos programas que usan <code>CONFIGURE_STYLE=gnu</code>
pueden), y puede ayudar a los usuario que montan su
&aacute;rbol de portes en varias arquitecturas.

<li>Esto tambi&eacute;n le puede evitar alg&uacute;n esfuerzo,
ya que es posible que pueda reiniciar el ciclo en
<code>configure</code> la mayor&iacute;a de las veces.
d318 3
a320 4
<li>Lea detenidamente la salida (si es que produce alguna) y
retoque cualquier opci&oacute;n necesaria en el fichero
Makefile.  Para repetir, invoque la orden `<strong>make clean
configure</strong>'.
d324 11
a334 13
anfitri&oacute;n van a <em>/etc</em> o
<em>/etc/&lt;nombre&gt;</em>, pero <strong>NUNCA SUBSTITUYA O
MODIFIQUE</strong> ficheros que existan en <em>/etc</em>.  Es
mejor poner install en
<em>/usr/local/share/&lt;nombre&gt;</em> y que los copie a
<em>/etc</em> o <em>/etc/&lt;nombre&gt;</em>, s&oacute;lo si
los ficheros no existen.  Si los ficheros existen, muestre un
mensaje que indique que tal y tal fichero necesita ser
modificado.  Esto tambi&eacute;n garantiza que los ficheros
sean incluidos en el paquete, ya que todo lo que haya en
<em>/usr/local</em> se incluye en PLIST.  Despu&eacute;s de
que un paquete haya sido instalado, se mostrar&aacute; el
contenido de <code>pkg/MESSAGE</code>, si es que existe.
d360 4
a363 4
<li>Empiece un ciclo de makes hasta que el porte est&eacute; listo.
    Use Patch (ver arriba), clean, y make hasta generar el porte.
    L&iacute;brese de todos los avisos si es posible, especialmente de
    los avisos relacionados con la seguridad.
d367 13
a379 13
<li>Controle la sem&aacute;ntica de SEPARATE_BUILD.
    Debe hacerlo s&oacute;lo si el porte se compila con SEPARATE_BUILD
    definido.  Lo ideal ser&iacute;a que el porte no modificara
    ning&uacute;n fichero en ${WRKSRC} despu&eacute;s de <strong>make
    patch</strong>.  Puede comprobarlo asegur&aacute;ndose de que usted
    no tenga acceso de escritura a ${WRKSRC}.  Entonces puede
    configurar <code>SEPARATE_BUILD=concurrent</code>...  alguien
    podr&iacute;a usar el mismo &aacute;rbol de fuentes para compilarlo
    en arquitecturas diferentes de forma simult&aacute;nea.  De otro
    modo, configure <code>SEPARATE_BUILD=simple</code>...  compilar en
    distintas arquitecturas de forma simult&aacute;nea puede acarrear
    problemas, ya que muchos ficheros de fuentes pueden ser regenerados
    en momentos dif&iacute;ciles.
d384 9
a392 9
    una <strong>CORTA</strong> descripci&oacute;n en una l&iacute;nea
    del porte (60 caracteres máximo).  <strong>NO</strong> incluya el
    nombre del paquete (o el n&uacute;mero de la versi&oacute;n del
    software) en el comentario.  <strong>NO</strong> lo empiece con
    may&uacute;scula a menos que tenga un significado sem&aacute;ntico,
    y <strong>NO</strong> lo termine con un punto.  <strong>NI SIQUIERA
    EMPIECE CON UN ART&Iacute;CULO INDETERMINADO COMO &quot;a&quot; o
    &quot;as&quot; (ingl&eacute;s, por supuesto);  elimine el
    art&iacute;culo del todo.</strong>
d398 5
a402 6
<li><em>DESCR</em> es una descripci&oacute;n m&aacute;s larga
    del porte.  Desde uno hasta unos cuantos p&aacute;rrafos
    que expliquen brevemente lo que hace el porte ser&aacute;
    suficiente.  Se puede hacer editando primero el fichero
    <em>DESCR</em> y ejecut&aacute;ndolo a continuaci&oacute;n
    mediante <kbd>fmt -w 80</kbd>.
d408 3
a410 3
<li>Instale la aplicaci&oacute;n con <strong>make install</strong>.
Si el porte instala bibliotecas din&aacute;micas, compruebe sus tablas
de s&iacute;mbolos con <code>nm</code>, ya que alg&uacute;n software
d412 6
a417 6
conllevar fallos extra&ntilde;os m&aacute;s tarde.  Por otra parte,
los binarios ejecutables DEBER&Iacute;AN ser eliminados;  se puede
usar <kbd>file</kbd> para determinar cu&aacute;les.  Si el porte ya
incluyera c&oacute;digo para eliminar los binarios (o sea, el objetivo
<em>install-strip</em>), util&iacute;licelo;  en caso contrario,
debe incluirlo en el fichero <em>Makefile</em>.
d422 7
a428 8
    vez</strong>.
    Esto es especialmente importante para programas de red y setuid.
    Lea nuestras <a href="porting.html#security">recomendaciones de
    seguridad</a>.  Registre en el fichero <code>pkg/SECURITY</code>
    todo aquello que pueda ser interesante y las soluciones.  Este
    fichero debe ser una lista de problemas potenciales auditados,
    junto con parches importantes, de modo que otra persona pueda ver a
    primera vista lo que se ha hecho.  Por ejemplo:
d439 5
a443 5
<li>Cree el fichero <em>pkg/PLIST</em>.
    Despu&eacute;s de que la instalaci&oacute;n se haya completado use
    la orden de desarrollador <kbd>make plist</kbd>, que compila el
    fichero <em>PLIST</em> en el directorio <em>pkg</em>.  Este fichero
    es un candidato a la lista de paquetes.
d451 2
a452 2
    tiempo no cambiar&aacute; y por lo tanto no ser&aacute; encontrado
    por 'find';
d454 2
a455 2
    ficheros .info.  Aseg&uacute;rese tambi&eacute;n de que
    <code>info/dir</code> no forma parte de PLIST;
d457 4
a460 4
    simb&oacute;licos.  Una prueba r&aacute;pida de 'tar' muestra que
    hace lo correcto con los enlaces y enlaces simb&oacute;licos,
    as&iacute; que no hay raz&oacute;n para ning&uacute;n caso especial
    en la lista de paquetes.  A&uacute;n as&iacute;...
d464 2
a465 2
Lea detenidamente <em>PLIST</em> y verifique que se haya instalado
todo, y que la instalaci&oacute;n haya tenido lugar en las ubicaciones
d469 1
a469 2
<p>
Los portes que instalen bibliotecas compartidas tendr&aacute;n otro
d486 9
a494 9
<li>Siga desinstalando y reinstalando hasta que est&eacute;
    perfecto.  <em>Perfecto</em> es cuando todo instala y desinstala en
    su ubicaci&oacute;n correcta.  Para desinstalar se usa la orden
    'pkg_delete' &lt;nombre_paquete&gt;'.  Para reinstalar se usa la
    orden 'sudo make reinstall'.  Lea la p&aacute;gina de manual de
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_create&apropos=0&sektion=0&manpath=OpenBSD+Current&format=html">pkg_create(1)</a>
    para ver otras &oacute;rdenes que se pueden a&ntilde;adir a PLIST
    para asegurarse de que est&aacute; todo limpio.  Despu&eacute;s de
    una desinstalaci&oacute;n, la orden
d498 2
a499 2
    deber&iacute;a mostrar s&oacute;lo la lista de nombre de
    directorios t&iacute;picos.
d524 2
a525 2
    bibliotecas est&aacute;ticas y porque 
    <code>sizeof(int) != sizeof(long)</code>.
d528 3
a530 3
    porque su orden de byte es al rev&eacute;s que en i386;  si hubiera
    llevado a cabo el desarrollo en SPARC, entonces querr&aacute;
    probarlo en i386.
d534 4
a537 4
<li>Incorpore cualquier informaci&oacute;n que reciba.
    Pru&eacute;belo de nuevo en su plataforma.  Consiga que quienes le
    enviaron informaci&oacute;n sobre la primera prueba, vuelvan a
    probar el nuevo porte.
d541 2
a542 2
<li>Finalmente, incl&uacute;yalo en el &aacute;rbol de portes.
Si no tiene acceso al CVS, pida a alguien en 
d549 7
a555 7
    mismo.  Generalmente usamos &quot;import&quot; para un porte nuevo,
    en lugar de usar &quot;add&quot; para cada uno de tropecientos (o
    una docena) ficheros.  &quot;import&quot; usa n&uacute;meros de
    versi&oacute;n &quot;vendor branch&quot; como 1.1.1.1, pero no se
    preocupe por eso.  Si efect&uacute;a cambios a un fichero
    espec&iacute;fico (editar y entregar por cvs), ser&aacute; 1.2 y se
    usar&aacute; ese n&uacute;mero.
d558 5
a562 5
De un modo breve, &quot;cvs import&quot; se suele usar cuando un se
crea un porte.  A partir de ah&iacute; se suele usar &quot;cvs
add&quot; y &quot;cvs rm&quot; para a&ntilde;adir o eliminar ficheros
individuales, y el ciclo normal editar-&gt;entregar para los cambios.
Puede usar algo como esto:
d573 2
a574 3
<li>-d cvs.openbsd.org:/cvs indica la direcci&oacute;n de cvs.
    Se puede omitir esto si se ha definido una variable de entorno
    CVSROOT.
d576 1
a576 2
<li>-m 'kaffe port' es su mensaje de registro.
    Ponga lo que quiera
d579 1
a579 1
    porte.
d582 2
a583 2
    &quot;vendor tag&quot; (etiqueta del distribuidor).  Vd. lo
    import&oacute;, as&iacute; que Vd. es el distribuidor.
d586 2
a587 2
    &quot;vendor release tag&quot; (etiqueta de lanzamiento del
    distribuidor).  Tan buena como cualquier otra.
d615 4
a618 5
<li>Por &uacute;ltimo, a&ntilde;ada una entrada de una
    l&iacute;nea para el nuevo porte en el fichero
    <em>Makefile</em> de su directorio de primer nivel;  por ejemplo,
    para <em>ports/lang/kaffe1</em>,
    a&ntilde;&aacute;dala en <em>ports/lang/Makefile.</em>
d622 4
a625 5
<li>&iexcl;Mantenga el porte!
Seg&uacute;n pase el tiempo pueden surgir problemas, o pueden aparecer
nuevas versiones del software.  Debe intentar mantener su porte
actualizado:  en otras palabras, &laquo;probar, comprobar, verificar,
probar, ...&raquo;
d634 2
a635 2
pueda depender el suyo, y compruebe que el mantenedor haya hecho bien
su trabajo.
d649 1
a649 1
$Translation: checklist.html,v 1.18 2002/11/20 19:15:35 horacio Exp $<br>
@


1.17
log
@
sync with badlands translation CVS
@
text
@d13 1
a13 1
 </head>
d50 1
d57 7
a63 11
<li>Escoja una ubicaci&oacute;n en donde poner su porte, y
    cree una infraestructura b&aacute;sica ah&iacute;.  Use la
    plantilla de <em>Makefile</em> que encontrar&aacute; en
    <em>/usr/ports/infrastructure/templates/Makefile.template</em>.

<br>
NEED_VERSION est&aacute; obsoleto y no debe usarse en los
nuevos portes.  Los mantenedores de portes deber&iacute;an
actualizar su &aacute;rbol de portes, incluido
<em>bsd.port.mk</em>.
<br>
d67 1
a67 3

<li>Cree los ficheros vac&iacute;os <code>pkg/DESCR y
pkg/PLIST</code>.
d96 2
a97 3
<li>Puede comprobar si ha rellenado estos valores
    correctamente, escribiendo <strong>make
    fetch-all</strong>.
d158 2
a159 2
SUPDISTFILES.  Objetivos como puedan ser makesum o
mirror-distfiles obtendr&aacute;n esos ficheros suplementarios
d330 1
a330 1
<li>Intente activar <code>SEPARATE_BUILD</code>
d404 1
a404 1
    configurar <code>SEPARATE_BUILD=concurrent</code>.  Alguien
d407 1
a407 1
    modo, configure <code>SEPARATE_BUILD=simple</code>.  Compilar en
d419 2
a420 2
    may&uacute;scula a menos que tenga un significado sem&aacute;ntico.
    <strong>NO</strong> lo termine con un punto.  <strong>NI SIQUIERA
d422 1
a422 1
    &quot;as&quot; (ingl&eacute;s, por supuesto).  Elimine el
a440 2

<p>
d521 2
a522 3
    perfecto.<br>
    <em>Perfecto</em> es cuando todo instala y desinstala en su
    ubicaci&oacute;n correcta.  Para desinstalar se usa la orden
d529 3
a531 3
    <p>
    <code>find /usr/local -newer w-${PKGNAME}${FLAVOR_EXT}/fake-${MACHINE_ARCH}[-${FLAVOR}]/.install_started -print</code>
    <p>
d538 6
a543 7
Pruebe el paquete.<br>
Despu&eacute;s de que el porte haya instalado correctamente, use la
orden <code>make package</code> para crear un paquete.  Para probar el
paquete, primero use <code>pkg_delete</code> y a continuaci&oacute;n
<code>pkg_add</code>.  Los resultados después de <code>pkg_add</code>
deber&iacute;an ser EXACTAMENTE los mismos que los resultados
despu&eacute;s de <code>make install</code>.
d559 1
a559 1
    <code>sizeof(int) != sizeof(long)</code>
a575 2

<p>
d599 2
a600 2
cd kaffe1
make clean	# &iexcl;en realidad no querr&aacute; 
d602 1
a602 1
cvs -d cvs.openbsd.org:/cvs import -m 'kaffe port' ports/lang/kaffe1 \
d626 1
d653 2
a654 2
    <em>Makefile</em> de su directorio de primer nivel;  o
    sea, para <em>ports/lang/kaffe1</em>,
d666 1
d686 2
a687 2
Originally [OpenBSD: checklist.html,v 1.44 2002/07/06 09:32:07 pvalchev Exp ]<br>
$Translation: checklist.html,v 1.17 2002/07/09 09:59:42 horacio Exp $<br>
@


1.16
log
@
sync with badlands translation CVS
@
text
@d62 4
a65 9
NEED_VERSION hace referencia a la versi&oacute;n en la
etiqueta $OpenBSD de
<tt>$(PORTSDIR)/infrastructure/mk/bsd.port.mk</tt>:<br> v.g.
<tt>$OpenBSD: bsd.port.mk,v 1.287 ...</tt> dar&iacute;a como
resultado <tt>NEED_VERSION=1.287</tt> en su fichero
<em>Makefile</em>.  El modo correcto y a prueba de tontos es
el de escoger la versi&oacute;n m&aacute;s reciente que pueda
encontrar.  Como es un desarrollador de portes, se supone que
debe actualizar sus portes, incluido <em>bsd.port.mk</em>.
d696 2
a697 2
Originally [OpenBSD: checklist.html,v 1.43 2002/06/18 01:44:05 jsyn Exp ]<br>
$Translation: checklist.html,v 1.16 2002/06/25 21:25:11 horacio Exp $<br>
@


1.15
log
@
sync with badlands translation CVS
@
text
@d16 1
a16 1
<img height="30" width="141" src="../images/smalltitle.gif" alt="[OpenBSD]" >
d701 2
a702 2
Originally [OpenBSD: checklist.html,v 1.42 2002/05/27 07:19:16 pvalchev Exp ]<br>
$Translation: checklist.html,v 1.15 2002/05/27 19:12:35 horacio Exp $<br>
@


1.14
log
@
sync with badlands translation CVS
@
text
@d127 2
a128 2
la construcci&oacute;n %SUBDIR% se debe substituir por la
variable MASTER_SITE_SUBDIR en el fichero <em>Makefile</em>.
d701 2
a702 2
Originally [OpenBSD: checklist.html,v 1.41 2002/01/29 22:08:36 horacio Exp ]<br>
$Translation: checklist.html,v 1.14 2002/04/08 20:33:41 horacio Exp $<br>
@


1.13
log
@
sync with badlands translation CVS
@
text
@d5 1
d702 1
a702 1
$Translation: checklist.html,v 1.13 2002/02/01 21:17:51 horacio Exp $<br>
@


1.12
log
@
sync with badlands translation CVS.
@
text
@d9 1
a9 1
<meta name="copyright" content="Este documento es copyright 1998-2001 de OpenBSD.">
d700 2
a701 2
Originally [OpenBSD: checklist.html,v 1.40 2001/12/19 21:33:48 naddy Exp ]<br>
$Translation: checklist.html,v 1.12 2001/12/31 01:51:15 horacio Exp $<br>
@


1.11
log
@
sync with badlands translation CVS.
@
text
@d73 1
a73 1
<li>Cree los directorios <code>files, patches y pkg</code>.
d76 1
a76 1
    pkg/PLIST</code>.
d116 3
a118 3
    &Eacute;sta es una lista de parches de distribuidores (no
    de OpenBSD) para el porte.  Generalmente son soluciones de
    fiabilidad, de seguridad, o algo parecido.
d121 7
a127 8
    p&uacute;blicas grandes como GNU, SunSite, o CPAN,
    disponemos de una lista de sitios en
    <em>/usr/ports/infrastructure/template/network.conf.template</em>
    para su uso.  Configure MASTER_SITES como
    ${MASTER_SITE_GNU}. o ${MASTER_SITE_SUNSITE}, etc.  Para
    simplificar este proceso, la construcci&oacute;n %SUBDIR%
    se debe substituir por la variable MASTER_SITE_SUBDIR en
    el fichero <em>Makefile</em>.
d130 10
a139 11
    espec&iacute;ficas de software.  Una vez que se han
    obtenido, se hace una suma de comprobaci&oacute;n sobre
    los ficheros y se comparan a las sumas de
    comprobaci&oacute;n grabadas en <em>files/md5</em>.
    As&iacute; pues, para evitar confusi&oacute;n, DISTFILES y
    PATCHFILES deber&iacute;an tener n&uacute;meros de
    versi&oacute;n claramente visibles.  No coja
    foo-latest.tar.gz si es un enlace a
    <em>foo-1.0.5.tar.gz</em>.  Si es necesario,
    preg&uacute;ntele gentilmente al autor del programa
    original para aclarar las distinciones.
d142 3
a144 3
    DISTFILES + PATCHFILES para funcionar, use DIST_SUBDIR
    para evitar demasiada confusi&oacute;n en
    <em>/usr/ports/distfiles</em>.
d147 6
a152 7
    DIST_SUBDIR.  Cuando se actualiza el porte a una
    versi&oacute;n posterior, es posible que no cambien
    algunos ficheros de distfiles, pero si DIST_SUBDIR ha
    cambiado, fetch los volver&aacute; a bajar.  Aun en el
    caso en que todos los ficheros distfile cambiaran,
    ser&iacute;a m&aacute;s f&aacute;cil para el usuario hacer
    un seguimiento completo.
d155 5
a159 5
    vengan del mismo conjunto de MASTER_SITES.  Se pueden
    definir sitios suplementarios usando las variables
    MASTER_SITES0 hasta MASTER_SITES9.  Simplemente, escriba
    DISTFILES=foo-1.0.5.tar.gz:5 para obtener
    <em>foo-1.0.5.tar.gz</em> desde MASTER_SITES5.
d162 9
a170 10
    ficheros.  Por ejemplo, algunos portes pueden tener
    algunas opciones de compilaci&oacute;n, y ficheros
    asociados que s&oacute;lo se requieren en el caso
    concreto.  O es posible que necesiten algunos ficheros
    s&oacute;lo para algunas arquitecturas y no para otras.
    En ese caso, esos ficheros suplementarios opcionales deben
    ser mencionados en la variable SUPDISTFILES.  Objetivos
    como puedan ser makesum o mirror-distfiles
    obtendr&aacute;n esos ficheros suplementarios que no son
    necesarios para los otros.
d174 4
a177 4
<li>Cree una suma de comprobaci&oacute;n en <em>files/md5</em>
    mediante <strong>make makesum</strong>, y verifique que la
    suma de comprobaci&oacute;n es correcta mediante
    <strong>make checksum</strong>.
d181 6
a186 7
    comprobaci&oacute;n de los ficheros no se pueden verificar
    con fiabilidad.  En tales casos es deseable que se
    comunique con el autor del software y con el mantenedor
    del sitio del archivo.  En el peor de los casos, los
    ficheros cuyas sumas de comprobaci&oacute;n no se puedan
    verificar, se mencionar&aacute;n en la variable
    IGNOREFILES.
d189 13
a201 14
    durante la extracci&oacute;n con make extract.  Se puede
    usar EXTRACT_ONLY para limitar la extracci&oacute;n a un
    subgrupo de ficheros (probablemente vac&iacute;os).  El
    uso personal de esta variable es para personalizar la
    extracci&oacute;n.  Por ejemplo, si algunos ficheros
    DISTFILES necesitaran alg&uacute;n trato especial,
    bastar&iacute;a con eliminarlos de EXTRACT_ONLY y
    gestionarlos de modo manual despu&eacute;s de la
    extracci&oacute;n.  Por motivos hist&oacute;ricos, make
    extract configura primero el directorio local junto con
    los ficheros de extracci&oacute;n.  As&iacute;, el proveer
    de un objetivo previo a la extracci&oacute;n es bastante
    inusual (y un comportamiento muy sospechoso, que indica un
    alto grado de ofuscaci&oacute;n en el porte).
d204 2
a205 2
    ser mencionados en DISTFILES, y eliminados de EXTRACT_ONLY
    por motivos hist&oacute;ricos.
d210 5
a214 5
    Preste atenci&oacute;n a la ubicaci&oacute;n de la base de
    los fuentes, que suele ser
    <em>w-${PKGNAME}${FLAVOR_EXT}/${DISTNAME}</em>.  Es
    probable que tenga que modificar la variable WRKDIST del
    fichero Makefile si es distinta.
d219 3
a221 3
    se dar&aacute; cuenta de lo que debe hacer para construir
    el porte y de cualquier opci&oacute;n especial que pueda
    ser necesaria.
d226 6
a231 6
    restricciones en la licencia se han aplicado a su porte.
    Muchos ser&aacute;n de libre redistribuci&oacute;n, pero
    muchos otros no.  Necesitamos la respuesta a cuatro
    preguntas para poder distribuir los portes como es debido.
    Estas respuestas son los valores PERMIT_* en el fichero
    <em>Makefile</em>.
d235 1
a235 1
    paquete en el cdrom.
d237 1
a237 1
    paquete en los servidores p&uacute;blicos de ftp.
d239 1
a239 1
    r&eacute;plica de los distfiles en el cdrom.
d241 2
a242 2
    r&eacute;plica de los distfiles en los servidores
    p&uacute;blicos de ftp.
d258 2
a259 2
    fichero <em>Makefile</em> y/o genere el gui&oacute;n de
    configuraci&oacute;n.
d263 8
a270 9
    configuraci&oacute;n del porte con el nombre `configure' a
    un directorio que llamar&aacute; <code>scripts/</code>.
    Esto ser&aacute; ejecutado antes de ejecutar cualquier
    configuraci&oacute;n especificada por GNU_CONFIGURE o
    HAS_CONFIGURE.

<li>Si usa GNU_CONFIGURE, es probable que antes quiera
    ejecutar './configure --help' para ver qu&eacute; opciones
    hay disponibles.
d273 2
a274 3
    a&ntilde;adiendo los indicadores --option al
    par&aacute;metro CONFIGURE_ARGS en el fichero
    <em>Makefile</em>.
d277 1
a277 1
    Use CONFIGURE_ARGS= para anularla.
d286 1
a286 1
    errores.
d289 2
a290 3
    generar parches para su porte.  Intente imaginar
    qu&eacute; cambios puede necesitar y haga un parche para
    ellos.
d295 3
a297 3
    probar los parches es <strong>make clean patch</strong>.
    Esto eliminar&aacute; el directorio local, har&aacute; la
    reextracci&oacute;n, y aplicar&aacute; los parches.
d302 2
a303 2
    parche (o use <strong>make update-patches</strong>), y
    <strong>make clean patch</strong>.
d307 5
a311 6
    deben llevar nombre del tipo patch-* (en donde * sea algo
    con sentido).  Le recomendamos que nombre sus parches
    patch-FILENAME, en donde FILENAME sea el nombre del
    fichero al que se est&eacute; aplicando el parche
    (<kbd>make update-patches</kbd> hace esto
    autom&aacute;ticamente).
d314 3
a316 4
    'make patch'.  Se puede invocar por separado como 'make
    dispatch', que es un objetivo conveniente para los
    mantenedores de parches.  Ignore esto si no lo ha
    configurado.
d320 2
a321 1
<li>Use <strong>diff -p -u</strong> para generar parches,
d326 4
a329 4
    indicadores que puedan ser reemplazados por cvs.  Si
    contiene alguno, entonces sus parches no ser&aacute;n
    aplicados despu&eacute;s de haberlos entregado.  Puede
    entregar sus cambios con -kk para evitar esto.
d332 2
a333 3
    papel del parche en el patchfile, antes del mismo parche,
    y un indicador de CVS de OpenBSD
    <code>&#36;OpenBSD&#36;</code>.
d336 1
a336 1
    autor original del software.
d345 4
a348 5
    de su &aacute;rbol de fuentes, ser&aacute; m&aacute;s
    limpio (muchos programas que usan
    <code>GNU_CONFIGURE</code> pueden), y puede ayudar a los
    usuario que montan su &aacute;rbol de portes en varias
    arquitecturas.
d351 2
a352 2
    ya que es posible que pueda reiniciar el ciclo en
    <code>configure</code> la mayor&iacute;a de las veces.
d357 3
a359 3
    retoque cualquier opci&oacute;n necesaria en el fichero
    Makefile.  Para repetir, invoque la orden `<strong>make
    clean configure</strong>'.
d373 3
a375 1
<em>/usr/local</em> se incluye en PLIST.
d700 2
a701 2
Originally [OpenBSD: checklist.html,v 1.39 2001/11/12 21:01:28 jufi Exp ]<br>
$Translation: checklist.html,v 1.11 2001/11/16 10:11:10 horacio Exp $<br>
@


1.10
log
@
sync with badlands translation CVS.
@
text
@d449 6
a454 3
<li>DESCR es una descripci&oacute;n m&aacute;s larga del porte.
    Desde uno hasta unos cuantos p&aacute;rrafos que expliquen a
    conciencia lo que hace el porte ser&aacute; suficiente.
d710 2
a711 2
Originally [OpenBSD: checklist.html,v 1.38 2001/09/16 06:41:27 pvalchev Exp ]<br>
$Translation: checklist.html,v 1.10 2001/09/19 16:15:32 horacio Exp $<br>
@


1.9
log
@
sync with badlands translation CVS.
@
text
@d19 4
a22 4
Este documento describe c&oacute;mo hacer o c&oacute;mo actualizar un
porte.  Es una lista &uacute;til para recordar qu&eacute; cosas se
deben hacer.  No es exacta ni perfecta.  Dirija cualquier comentario o
pregunta al respecto a
d33 7
a39 5
   <li>Aqu&iacute; tienen lugar todas las dicusiones sobre los portes.
   <li>La lectura de esta lista es importante, ya que muchos anuncios
       van a esta lista.
   <li>Ah&iacute; encontrar&aacute; a muchos mantenedores de portes.
       A menudo pueden darle buenos consejos o probar su porte.
d43 4
a46 4
<li>Ser el mantenedor de un porte es <strong>algo m&aacute;s</strong>
    que limitarse a entregar portes al &aacute;rbol de CVS.
    Tambi&eacute;n hay que mantenerlos actualizados, y contestar dudas
    sobre &eacute;stos.
d50 2
a51 2
    Puede encontrar las instrucciones sobre c&oacute;mo hacerlo en
    <a href="anoncvs.html">http://www.openbsd.org/es/anoncvs.html</a>.
d55 3
a57 3
<li>Escoja una ubicaci&oacute;n en donde poner su porte, y cree una
    infraestructura b&aacute;sica ah&iacute;.
    Use la plantilla de <em>Makefile</em> que encontrar&aacute; en
d61 2
a62 2
NEED_VERSION hace referencia a la versi&oacute;n en la etiqueta
$OpenBSD de
d64 6
a69 6
<tt>$OpenBSD: bsd.port.mk,v 1.287 ...</tt> dar&iacute;a como resultado
<tt>NEED_VERSION=1.287</tt> en su fichero <em>Makefile</em>.
El modo correcto y a prueba de tontos es el de escoger la
versi&oacute;n m&aacute;s reciente que pueda encontrar.  Como es un
desarrollador de portes, se supone que debe actualizar sus portes,
incluido <em>bsd.port.mk</em>.
d75 2
a76 1
<li>Cree los ficheros vac&iacute;os <code>pkg/DESCR y pkg/PLIST</code>.
d80 2
a81 2
<li>A&ntilde;ada las porciones con &quot;fetch&quot; del fichero
    Makefile.
d87 21
a107 20
<li>Rellene DISTNAME, que es el nombre del fichero menos el sufijo de
    la extensi&oacute;n.
    Por ejemplo, si tuviera foo-1.0.tar.gz, DISTNAME ser&iacute;a
    foo-1.0.

<li>Rellene MASTER_SITES, que es una URL para los directorios en donde
    el fichero distfile est&aacute; ubicado.
    Por ejemplo, ftp://ftp.openbsd.org/pub/OpenBSD/distfiles/ .
    <strong>No olvide la barra final.</strong>
    Como m&iacute;nimo, intente tener tres sitios diferentes.  Ponga el
    de m&aacute;s f&aacute;cil acceso primero, ya que los
    recorrer&aacute; por orden.

<li>Recuerde que <em>fetch</em> hace referencia al fichero como
    ${MASTER_SITES}${DISTNAME}$EXTRACT_SUFX}.
    Se usar&aacute;n las tres.  No configure DISTNAME para que apunte
    al fichero directamente.

<li>Puede comprobar si ha rellenado estos valores correctamente,
    escribiendo <strong>make fetch-all</strong>.
d111 2
a112 2
Existen opciones y herramientas disponibles para portes m&aacute;s
complejos:
d116 3
a118 3
    &Eacute;sta es una lista de parches de distribuidores (no de
    OpenBSD) para el porte.  Generalmente son soluciones de fiabilidad,
    de seguridad, o algo parecido.
d121 20
a140 16
    p&uacute;blicas grandes como GNU, SunSite, o CPAN, disponemos de
    una lista de sitios en
    /usr/ports/infrastructure/template/network.conf.template para su
    uso.  Configure MASTER_SITES como ${MASTER_SITE_GNU}. o
    ${MASTER_SITE_SUNSITE}, etc.  Para simplificar este proceso, la
    construcci&oacute;n %SUBDIR% se debe substituir por la variable
    MASTER_SITE_SUBDIR en el fichero Makefile.

<li>Generalmente los portes corresponden a versiones espec&iacute;ficas
    de software.  Una vez que se han obtenido, se hace una suma de
    comprobaci&oacute;n sobre los ficheros y se comparan a las sumas de
    comprobaci&oacute;n grabadas en files/md5.  As&iacute; pues, para
    evitar confusi&oacute;n, DISTFILES y PATCHFILES deber&iacute;an
    tener n&uacute;meros de versi&oacute;n claramente visibles.  No
    coja foo-latest.tar.gz si es un enlace a foo-1.0.5.tar.gz.  Si es
    necesario, preg&uacute;ntele gentilmente al autor del programa
d143 69
a211 60
<li>Si un porte cualquiera necesitara m&aacute;s de unos 5 DISTFILES +
    PATCHFILES para funcionar, use DIST_SUBDIR para evitar demasiada
    confusi&oacute;n en /usr/ports/distfiles.

<li>No se debe incluir n&uacute;meros de versi&oacute;n en DIST_SUBDIR.
    Cuando se actualiza el porte a una versi&oacute;n posterior, es
    posible que no cambien algunos ficheros de distfiles, pero si
    DIST_SUBDIR ha cambiado, fetch los volver&aacute; a bajar.  Aun en
    el caso en que todos los ficheros distfile cambiaran, ser&iacute;a
    m&aacute;s f&aacute;cil para el usuario hacer un seguimiento
    completo.

<li>No es necesario que todos los DISTFILES y PATCHFILEs vengan del
    mismo conjunto de MASTER_SITES.  Se pueden definir sitios
    suplementarios usando las variables MASTER_SITES0 hasta
    MASTER_SITES9.  Simplemente, escriba DISTFILES=foo-1.0.5.tar.gz:5
    para obtener foo-1.0.5.tar.gz desde MASTER_SITES5.

<li>Algunos portes no siempre necesitan obtener todos los ficheros.
    Por ejemplo, algunos portes pueden tener algunas opciones de
    compilaci&oacute;n, y ficheros asociados que s&oacute;lo se
    requieren en el caso concreto.  O es posible que necesiten algunos
    ficheros s&oacute;lo para algunas arquitecturas y no para otras.
    En ese caso, esos ficheros suplementarios opcionales deben ser
    mencionados en la variable SUPDISTFILES.  Objetivos como puedan ser
    makesum o mirror-distfiles obtendr&aacute;n esos ficheros
    suplementarios que no son necesarios para los otros.
</ul>

<br>
<li>Cree una suma de comprobaci&oacute;n en <em>files/md5</em> mediante
    <strong>make makesum</strong>, y verifique que la suma de
    comprobaci&oacute;n es correcta mediante <strong>make
    checksum</strong>.

<ul>
<li>En algunos casos extra&ntilde;os, las sumas de comprobaci&oacute;n
    de los ficheros no se pueden verificar con fiabilidad.  En tales
    casos es deseable que se comunique con el autor del software y con
    el mantenedor del sitio del archivo.  En el peor de los casos, los
    ficheros cuyas sumas de comprobaci&oacute;n no se puedan verificar,
    se mencionar&aacute;n en la variable IGNOREFILES.

<li>Todos los ficheros en DISTFILES suelen ser procesados durante la
    extracci&oacute;n con make extract.  Se puede usar EXTRACT_ONLY
    para limitar la extracci&oacute;n a un subgrupo de ficheros
    (probablemente vac&iacute;os).  El uso personal de esta variable es
    para personalizar la extracci&oacute;n.  Por ejemplo, si algunos
    ficheros DISTFILES necesitaran alg&uacute;n trato especial,
    bastar&iacute;a con eliminarlos de EXTRACT_ONLY y gestionarlos de
    modo manual despu&eacute;s de la extracci&oacute;n.  Por motivos
    hist&oacute;ricos, make extract configura primero el directorio
    local junto con los ficheros de extracci&oacute;n.  As&iacute;, el
    proveer de un objetivo previo a la extracci&oacute;n es bastante
    inusual (y un comportamiento muy sospechoso, que indica un alto
    grado de ofuscaci&oacute;n en el porte).

<li>Los parches que necesiten un trato espec&iacute;fico deben ser
    mencionados en DISTFILES, y eliminados de EXTRACT_ONLY por motivos
    hist&oacute;ricos.
d216 5
a220 4
    Preste atenci&oacute;n a la ubicaci&oacute;n de la base de los
    fuentes, que suele ser <em>work/DISTNAME</em>.  Es probable que
    tenga que modificar la variable WRKDIST del fichero Makefile si es
    distinta.
d224 4
a227 3
<li>Lea la documentaci&oacute;n sobre la instalaci&oacute;n y se
    dar&aacute; cuenta de lo que debe hacer para construir el porte y
    de cualquier opci&oacute;n especial que pueda ser necesaria.
d232 6
a237 5
    restricciones en la licencia se han aplicado a su porte.  Muchos
    ser&aacute;n de libre redistribuci&oacute;n, pero muchos otros no.
    Necesitamos la respuesta a cuatro preguntas para poder distribuir
    los portes como es debido.  Estas respuestas son los valores
    PERMIT_* en el fichero Makefile.
d240 4
a243 4
<li>PERMIT_PACKAGE_CDROM nos indica que podemos incluir el paquete en
    el cdrom.
<li>PERMIT_PACKAGE_FTP nos indica que podemos incluir el paquete en los
    servidores p&uacute;blicos de ftp.
d246 3
a248 2
<li>PERMIT_DISTFILES_FTP nos indica si podemos poner una r&eacute;plica
    de los distfiles en los servidores p&uacute;blicos de ftp.
d252 7
a258 6
Configure esos valores con Yes si est&aacute; permitido, o a una cadena
de comentarios que explique porqu&eacute; no est&aacute; permitido.
Preste atenci&oacute;n a cualquier condici&oacute;n especial que pueda
tener que cumplir m&aacute;s tarde.  Por ejemplo, algunos portes
requieren que se instale una copia de la licencia que los
acompa&ntilde;a.  Le recomendamos que ponga la licencia en
d263 3
a265 2
<li>A&ntilde;ada las opciones de configuraci&oacute;n al fichero
    Makefile y/o genere el gui&oacute;n de configuraci&oacute;n.
d268 10
a277 8
<li>Puede a&ntilde;adir un gui&oacute;n de configuraci&oacute;n del
    porte con el nombre `configure' a un directorio que llamar&aacute;
    <code>scripts/</code>.  Esto ser&aacute; ejecutado antes de
    ejecutar cualquier configuraci&oacute;n especificada por
    GNU_CONFIGURE o HAS_CONFIGURE.

<li>Si usa GNU_CONFIGURE, es probable que antes quiera ejecutar
    './configure --help' para ver qu&eacute; opciones hay disponibles.
d280 3
a282 2
    a&ntilde;adiendo los indicadores --option al par&aacute;metro
    CONFIGURE_ARGS en el fichero Makefile.
d285 1
a285 1
    Use CONFIGURE_ARGS= para sobreescribirla.
d293 2
a294 1
<li>Si est&aacute; de suerte, el porte se compilar&aacute; sin errores.
d296 4
a299 3
<li>Si termina el proceso con un error, tendr&aacute; que generar
    parches para su porte.  Intente imaginar qu&eacute; cambios puede
    necesitar y haga un parche para ellos.
d303 3
a305 3
<li>El modo m&aacute;s f&aacute;cil de reconfigurar un porte y probar
    los parches es <strong>make clean patch</strong>.  Esto
    eliminar&aacute; el directorio local, har&aacute; la
d310 2
a311 2
<li>Empiece un ciclo de <strong>make build</strong>, genere un parche
    (o use <strong>make update-patches</strong>), y
d315 6
a320 5
<li>Los parches van en el directorio <em>patches/</em>, y deben llevar
    nombre del tipo patch-* (en donde * sea algo con sentido).  Le
    recomendamos que nombre sus parches patch-FILENAME, en donde
    FILENAME sea el nombre del fichero al que se est&eacute; aplicando
    el parche (<tt>make update-patches</tt> hace esto
d323 5
a327 4
<li>La aplicaci&oacute;n de PATCHFILES es la primera mitad de 'make
    patch'.  Se puede invocar por separado como 'make dispatch', que es
    un objetivo conveniente para los mantenedores de parches.  Ignore
    esto si no lo ha configurado.
d335 10
a344 8
<li>Compruebe que los parches <strong>NO</strong> contengan indicadores
    que puedan ser reemplazados por cvs.  Si contiene alguno, entonces
    sus parches no ser&aacute;n aplicados despu&eacute;s de haberlos
    entregado.  Puede entregar sus cambios con -kk para evitar esto.

<li>A&ntilde;ada una peque&ntilde;a explicaci&oacute;n del papel del
    parche en el patchfile, antes del mismo parche, y un indicador de
    CVS de OpenBSD <code>&#36;OpenBSD&#36;</code>.
d346 2
a347 2
<li><strong>Por favor</strong>, env&iacute;e sus parches al autor
    original del software.
d355 5
a359 4
<li>Si el porte se puede construir con ficheros objeto fuera de su
    &aacute;rbol de fuentes, ser&aacute; m&aacute;s limpio (muchos
    programas que usan <code>GNU_CONFIGURE</code> pueden), y puede
    ayudar a los usuario que montan su &aacute;rbol de portes en varias
d362 3
a364 3
<li>Esto tambi&eacute;n le puede evitar alg&uacute;n esfuerzo, ya que
    es posible que pueda reiniciar el ciclo en <code>configure</code>
    la mayor&iacute;a de las veces.
d368 4
a371 3
<li>Lea detenidamente la salida (si es que produce alguna) y retoque
    cualquier opci&oacute;n necesaria en el fichero Makefile.  Para
    repetir, invoque la orden `<strong>make clean configure</strong>'.
d375 4
a378 3
anfitri&oacute;n van a <em>/etc</em> o <em>/etc/&lt;nombre&gt;</em>,
pero <strong>NUNCA SUBSTITUYA O MODIFIQUE</strong> ficheros que existan
en <em>/etc</em>.  Es mejor poner install en
d380 6
a385 5
<em>/etc</em> o <em>/etc/&lt;nombre&gt;</em>, s&oacute;lo si los
ficheros no existen.  Si los ficheros existen, muestre un mensaje que
indique que tal y tal fichero necesita ser modificado.  Esto
tambi&eacute;n garantiza que los ficheros sean incluidos en el paquete,
ya que todo lo que haya en <em>/usr/local</em> se incluye en PLIST.
d549 3
a551 5
    
    <pre>
    <kbd>find /usr/local -newer work/fake-${MACHINE_ARCH}[-${FLAVOR}]/.install_started -print</kbd>
    </pre>

d673 5
a677 4
<li>Por &uacute;ltimo, a&ntilde;ada una entrada de una l&iacute;nea
    para el nuevo porte en el fichero makefile de su directorio de
    primer nivel;  o sea, para ports/lang/kaffe1, a&ntilde;&aacute;dala
    en ports/lang/Makefile.
d707 2
a708 2
Originally [OpenBSD: checklist.html,v 1.36 2001/08/25 11:25:42 jufi Exp ]<br>
$Translation: checklist.html,v 1.9 2001/08/28 18:09:53 horacio Exp $<br>
@


1.8
log
@
sync with badlands translation CVS, work by Horacio
@
text
@d6 1
a6 1
<meta name="description" content="Cómo crear/actualizar un porte para OpenBSD.">
d9 1
a9 1
<meta name="copyright" content="Este documento es copyright 1998-2000 de OpenBSD.">
d672 2
a673 2
Originally [OpenBSD: checklist.html,v 1.35 2001/08/11 02:44:29 brad Exp ]<br>
$Translation: checklist.html,v 1.8 2001/08/21 19:48:23 horacio Exp $<br>
@


1.7
log
@
Update by Horacio
@
text
@d11 1
a11 1
<title>Notas sobre Portes de OpenBSD</title>
d17 1
a17 1
<h2><font color="#e00000">Notas sobre portes de OpenBSD</font></h2>
d359 3
a361 3
   datos dep. arquitectura:		/usr/local/lib/&lt;name&gt;
   ficheros include instalados:		/usr/local/include or
					/usr/local/include/&lt;name&gt;
d363 1
a363 1
   &uacute;nica:	       		/etc or /etc/&lt;name&gt;
d365 2
d368 1
a368 1
   p&aacute;ginas de manual:		/usr/local/man/...
d370 1
a370 1
   arquitectura:			/usr/local/share/&lt;name&gt;
d372 1
a372 1
   miscel&aacute;nea:		/usr/local/share/doc/&lt;name&gt;
d672 2
a673 2
Originally [OpenBSD: checklist.html,v 1.34 2001/07/07 00:15:44 jsyn Exp ]<br>
$Translation: checklist.html,v 1.7 2001/07/09 11:22:29 horacio Exp $<br>
@


1.6
log
@
Sync with translation CVS, work by Horacio
@
text
@d17 1
a17 1
<h2><font color="#e00000">Notas sobre Portes de OpenBSD</font></h2>
d21 2
a22 2
deben hacer.  No es totalmente exacta ni perfecta.  Dirija cualquier
comentario o pregunta al respecto a
d36 1
a36 1
   <li>Aqu&iacute; encontrar&aacute; a muchos mantenedores de portes.
d42 1
a42 1
    que simplemente entregar portes al &aacute;rbol de CVS.
d55 2
a56 2
    Use la plantilla de Makefile que encontrar&aacute; en
    <code>/usr/ports/infrastructure/templates/Makefile.template</code>.
d61 1
a61 1
<tt>$(PORTSDIR)/infrastructure/mk/bsd.port.mk</tt>: v.g.
d63 1
a63 1
<tt>NEED_VERSION=1.287</tt> en su fichero de Makefile.
d67 1
a67 1
incluido bsd.port.mk.
d425 6
a430 1
conllevar fallos extra&ntilde;os m&aacute;s tarde.
d453 1
a453 1
<li>Cree el fichero pkg/PLIST.
d455 2
a456 2
    la orden de desarrollador <strong>make plist</strong>, que compila
    el fichero PLIST-auto en el directorio <em>pkg</em>.  Este fichero
d459 3
a461 2
<p>&iexcl;Atento!  Los ficheros se encuentran por la marca de tiempo.
   Esto significa que NO DEBE:
d478 2
a479 2
Lea detenidamente PLIST-auto y verifique que se haya instalado todo, y
que la instalaci&oacute;n haya tenido lugar en las ubicaciones
d484 2
a485 5
Cambie `PLIST-auto' a `PLIST'.

<p>
Los portes que instalen bibliotecas compartidas necesitar&aacute;n dos
versiones del fichero PLIST.
d488 2
a489 2
<li>PLIST describe los ficheros instalados en las arquitecturas que
    tengan soporte para bibliotecas compartidas.
d491 3
a493 2
<li>PLIST.noshared describe los ficheros instalados en arquitecturas
    que no tengan soporte para bibliotecas compartidas.
d495 3
a497 2
<li>PLIST.noshared suele ser una copia de PLIST menos las referencias a
    cualquier biblioteca compartida.
d513 1
a513 1
    find /usr/local -newer work/.install_started -print
d647 2
a648 2
actualizado:  en otras palabras, &laquo;probar, comprobar, probar,
...&raquo;
d670 2
a671 2
Originally [OpenBSD: checklist.html,v 1.32 2001/04/02 20:44:58 naddy Exp ]<br>
$Translation: checklist.html,v 1.6 2001/04/06 15:56:52 horacio Exp $<br>
@


1.5
log
@
Sync with translation CVS. Work by Horacio.
@
text
@d5 3
a7 3
<meta name="resource-type" content="document">
<meta name="description" CONTENT="How to make/update an OpenBSD port.">
<meta name="keywords" content="openbsd,ports">
d9 1
a9 1
<meta name="copyright" content="This document copyright 1998-2000 by OpenBSD.">
d14 1
a14 1
<body text="Black" bgcolor="White" link="#23238E">
d73 1
a73 2
<li>Cree los ficheros vac&iacute;os <code>pkg/COMMENT, pkg/DESCR y
    pkg/PLIST</code>.
d97 2
a98 2
<li>Recuerde que &quot;fetch&quot; hace referencia al fichero como
    ${MASTER_SITE}${DISTNAME}$EXTRACT_SUFX}.
d396 10
a405 2
<li>
Edite <em>pkg/DESCR</em>, <em>pkg/COMMENT</em>, <em>pkg/PLIST</em>.
d407 3
a410 11
<li>COMMENT es una <strong>CORTA</strong> descripci&oacute;n en una
    l&iacute;nea del porte (60 caracteres máximo).
    <strong>NO</strong> incluya el nombre del paquete (o el
    n&uacute;mero de la versi&oacute;n del software) en el comentario.
    <strong>NO</strong> lo empiece con may&uacute;scula a menos que
    tenga un significado sem&aacute;ntico.
    <strong>NO</strong> lo termine con un punto.
    <strong>NI SIQUIERA EMPIECE CON UN ART&Iacute;CULO INDETERMINADO
    COMO &quot;a&quot; o &quot;as&quot; (ingl&eacute;s, por supuesto).
    Elimine el art&iacute;culo del todo.</strong>

d665 2
a666 2
Originally [OpenBSD: checklist.html,v 1.30 2001/02/18 13:30:38 espie Exp ]<br>
$Translation: checklist.html,v 1.5 2001/02/19 21:23:26 horacio Exp $<br>
@


1.4
log
@
Updated by Horacio
@
text
@d23 1
a23 1
<a href="mailto:turan@@openbsd.org">&lt;turan@@openbsd.org&gt;</a>.
d41 6
d64 4
a67 3
El modo correcto es escoger la versi&oacute;n m&aacute;s reciente que
pueda encontrar.  Como es un desarrollador de portes, se supone que
debe actualizar sus portes, incluido bsd.port.mk.
d82 1
a82 1
<li>Rellene EXTRACT_SUFFIX si es algo a parte de un .tar.gz.
d99 1
a99 1
    ${MASTER_SITE}${DISTNAME}$EXTRACT_SUFFIX}.
d532 1
a532 4
env&iacute;elo.  Si no obtiene ning&uacute;n comentario, env&iacute;e
un mensaje a
<a href="mailto:turan@@openbsd.org">turan@@openbsd.org</a> y &eacute;l lo
probar&aacute;.
d561 1
a561 3
entrega.  No se olvide de 
<a href="mailto:turan@@openbsd.org">turan@@openbsd.org</a> si nadie
m&aacute;s lo hiciera.
d645 10
d666 2
a667 2
Originally [OpenBSD: checklist.html,v 1.26 2000/12/11 13:08:52 reinhard Exp ]<br>
$Translation: checklist.html,v 1.4 2000/12/14 12:30:08 horacio Exp $<br>
@


1.3
log
@
Sync with Badlands Translation CVS. Work by Horacio.
@
text
@d97 1
a97 1
    escribiendo <b>make fetch-all</b>.
d159 4
a162 3
<li>Cree una suma de comprobaci&oacute;n en <i>files/md5</i> mediante
    <b>make makesum</b>, y verifique que la suma de comprobaci&oacute;n
    es correcta mediante <b>make checksum</b>.
d192 1
a192 1
<li>Extraiga el porte con <b>make extract</b>.
d194 2
a195 2
    fuentes, que suele ser <i>work/DISTNAME</i>.  Es probable que tenga
    que modificar la variable WRKDIST del fichero Makefile si es
d258 1
a258 1
Intente construir el porte con <b>make build</b>.
d270 3
a272 3
    los parches es <b>make clean patch</b>.  Esto eliminar&aacute; el
    directorio local, har&aacute; la reextracci&oacute;n, y
    aplicar&aacute; los parches.
d276 3
a278 2
<li>Empiece un ciclo de <b>make build</b>, genere un parche, y 
    <b>make clean patch</b>.
d281 1
a281 1
<li>Los parches van en el directorio <i>patches/</i>, y deben llevar
d284 3
a286 1
    FILENAME sea el nombre del fichero que se est&eacute; parcheando.
d295 1
a295 1
<li>Use <b>diff -p -u</b> para generar parches,
d308 2
a309 2
<li><b>Por favor</b>, env&iacute;e sus parches al autor original del
    software.
d331 1
a331 1
    repetir, invoque la orden `<b>make clean configure</b>'.
d335 9
a343 9
anfitri&oacute;n van a <i>/etc</i> o <i>/etc/&lt;nombre&gt;</i>, pero
<strong>NUNCA SUBSTITUYA O MODIFIQUE</strong> ficheros que existan en
<i>/etc</i>.  Es mejor poner install en
<i>/usr/local/share/&lt;nombre&gt;</i> y que los copie a <i>/etc</i> o
<i>/etc/&lt;nombre&gt;</i>, s&oacute;lo si los ficheros no existen.  Si
los ficheros existen, muestre un mensaje que indique que tal y tal
fichero necesita ser modificado.  Esto tambi&eacute;n garantiza que los
ficheros sean incluidos en el paquete, ya que todo lo que haya en
<i>/usr/local</i> se incluye en PLIST.
d377 10
a386 10
    ning&uacute;n fichero en ${WRKSRC} despu&eacute;s de <b>make
    patch</b>.  Puede comprobarlo asegur&aacute;ndose de que usted no
    tenga acceso de escritura a ${WRKSRC}.  Entonces puede configurar
    <code>SEPARATE_BUILD=concurrent</code>.  Alguien podr&iacute;a usar
    el mismo &aacute;rbol de fuentes para compilarlo en arquitecturas
    diferentes de forma simult&aacute;nea.  De otro modo, configure
    <code>SEPARATE_BUILD=simple</code>.  Compilar en distintas
    arquitecturas de forma simult&aacute;nea puede acarrear problemas,
    ya que muchos ficheros de fuentes pueden ser regenerados en
    momentos dif&iacute;ciles.
d391 1
a391 1
Edite <i>pkg/DESCR</i>, <i>pkg/COMMENT</i>, <i>pkg/PLIST</i>.
d413 1
a413 1
<li>Instale la aplicaci&oacute;n con <b>make install</b>.
d444 3
a446 3
    la orden de desarrollador <b>make plist</b>, que compila el fichero
    PLIST-auto en el directorio <i>pkg</i>.  Este fichero es un
    candidato a la lista de paquetes.
d584 1
a584 1
	<i>SuNombre</i> <i>SuNombre_YYYY-MMM-DD</i>
d598 1
a598 1
<li><i>SuNombre</i> (substituir con su nombre de ingreso) es el
d602 1
a602 1
<li><i>SuNombre_YYYY-MMM-DD</i> (v.g., ian_2000-jan-01) es el
d654 2
a655 2
Originally [OpenBSD: checklist.html,v 1.25 2000/05/31 17:37:19 reinhard Exp ]<br>
$Translation: checklist.html,v 1.3 2000/06/04 23:33:27 horacio Exp $<br>
@


1.2
log
@
Sync with Badlands Translation CVS. Work by Horacio.
@
text
@d129 1
a129 1
<li>Si un porte cualquiera necesitara m&aacute,s de unos 5 DISTFILES +
d172 16
a187 15
    extracción con make extract.
    Se puede usar EXTRACT_ONLY para limitar la extracción a un subgrupo de
    ficheros (probablemente vacíos).
    El uso personal de esta variable es para personalizar la extracción.
    Por ejemplo, si algunos ficheros DISTFILES necesitaran algún trato
    especial, bastaría con eliminarlos de EXTRACT_ONLY y gestionarlos de modo
    manual después de la extracción.
    Por motivos históricos, make extract configura primero el directorio
    local junto con los ficheros de extracción.
    Así, el proveer de un objetivo previo a la extracción es bastante inusual
    (y un comportamiento muy sospechoso, que indica un alto grado de
    ofuscación en el porte).

<li>Los parches que necesiten un trato específico deben ser mencionados en
    DISTFILES, y eliminados de EXTRACT_ONLY por motivos históricos.
d192 4
a195 4
    Preste atención a la ubicación de la base de los fuentes, que suele ser
    <i>work/DISTNAME</i>.
    Es probable que tenga que modificar la variable WRKDIST del fichero
    Makefile si es distinta.
d199 3
a201 3
<li>Lea la documentación sobre la instalación y se dará cuenta de lo que debe
    hacer para construir el porte y de cualquier opción especial que pueda
    ser necesaria.
d205 6
a210 6
<li>Ahora es un buen momento para pensar en qué tipo de restricciones en la
    licencia se han aplicado a su porte.
    Muchos serán de libre redistribución, pero muchos otros no.
    Necesitamos la respuesta a cuatro preguntas para poder distribuir los
    portes como es debido.
    Estas respuestas son los valores PERMIT_* en el fichero Makefile.
d213 2
a214 2
<li>PERMIT_PACKAGE_CDROM nos indica que podemos incluir el paquete en el 
    cdrom.
d216 5
a220 5
    servidores públicos de ftp.
<li>PERMIT_DISTFILES_CDROM nos indica si podemos poner una réplica de los
    distfiles en el cdrom.
<li>PERMIT_DISTFILES_FTP nos indica si podemos poner una réplica de los
distfiles enlos servidores públicos de ftp.
d224 6
a229 7
Configure esos valores con Yes si está permitido, o a una cadena de
comentarios que explique porqué no está permitido.
Preste atención a cualquier condición especial que pueda tener que cumplir
más tarde.
Por ejemplo, algunos portes requieren que se instale una copia de la licencia
que los acompaña.
Le recomendamos que ponga la licencia en
d234 2
a235 2
<li>Añada las opciones de configuración al fichero Makefile y/o genere el
    guión de configuración.
d238 5
a242 4
<li>Puede añadir un guión de configuración del porte con el nombre
    `configure' a un directorio que llamará <code>scripts/</code>.
    Esto será ejecutado antes de ejecutar cualquier configuración
    especificada por GNU_CONFIGURE o HAS_CONFIGURE.
d244 2
a245 2
<li>Si usa GNU_CONFIGURE, es probable que antes quiera ejecutar './configure
    --help' para ver qué opciones hay disponibles.
d247 3
a249 2
<li>Cualquier otra cosa que quiera anular se puede cambiar añadiendo los
    indicadores --option al parámetro CONFIGURE_ARGS en el fichero Makefile.
d251 1
a251 1
<li>Use CONFIGURE_ARGS+= para añadir a la variable.
d260 1
a260 1
<li>Si está de suerte, el porte se compilará sin errores.
d262 3
a264 3
<li>Si termina el proceso con un error, tendrá que generar parches para su
    porte.
    Intente imaginar qué cambios puede necesitar y haga un parche para ellos.
d268 4
a271 3
<li>El modo más fácil de reconfigurar un porte y probar los parches es
    <b>make clean patch</b>.
    Esto eliminará el directorio local, hará la reextracción, y parcheará.
d275 2
a276 4
<li>Empiece un ciclo de <b>make build</b>, genere un parche, y <b>make clean
    patch</b>.
Begin and cycle of <b>make build</b>, generate a patch, and 
<b>make clean patch</b>. 
d279 9
a287 9
<li>Los parches van en el directorio <i>patches/</i>, y deben llevar nombre
    del tipo patch-* (en donde * sea algo con sentido).
    Le recomendamos que nombre sus parches patch-FILENAME, en donde FILENAME
    sea el nombre del fichero que se esté parcheando.

<li>La aplicación de PATCHFILES es la primera mitad de 'make patch'.
    Se puede invocar por separado como 'make dispatch', que es un objetivo
    conveniente para los mantenedores de parches.
    Ignore esto si no lo ha configurado.
d289 1
a289 1
<li>Parchee sólo un fichero fuente por cada patchfile,
d295 8
a302 9
<li>Compruebe que los parches <strong>NO</strong> contengan indicadores que
    puedan ser reemplazados por cvs.
    Si contiene alguno, entonces sus parches no serán aplicados después de
    haberlos entregado.
    Puede entregar sus cambios con -kk para evitar esto.

<li>Añada una pequeña explicación del papel del parche en el patchfile, antes
    del mismo parche, y un indicador de CVS de OpenBSD
    <code>&#36;OpenBSD&#36;</code>.
d304 2
a305 1
<li><b>Por favor</b>, envíe sus parches al autor original del software.
d313 9
a321 7
<li>Si el porte se puede construir con ficheros objeto fuera de su árbol de
    fuentes, será más limpio (muchos programas que usan
    <code>GNU_CONFIGURE</code> pueden), y puede ayudar a los usuario que
    montan su árbol de portes en varias arquitecturas.

<li>Esto también le puede evitar algún esfuerzo, ya que es posible que pueda
    reiniciar el ciclo en <code>configure</code> la mayoría de las veces.
d326 2
a327 2
    cualquier opción necesaria en el fichero Makefile.
    Para repetir, invoque la orden `<b>make clean configure</b>'.
d330 10
a339 10
Nota: asegúrese de que los ficheros dependientes del anfitrión van a
<i>/etc</i> o <i>/etc/&lt;nombre&gt;</i>, pero <strong>NUNCA SUBSTITUYA O
MODIFIQUE</strong> ficheros que existan en <i>/etc</i>.
Es mejor poner install en <i>/usr/local/share/&lt;nombre&gt;</i> y que los 
copie a <i>/etc</i> o <i>/etc/&lt;nombre&gt;</i>, sólo si los ficheros no
existen.
Si los ficheros existen, muestre un mensaje que indique que tal y tal fichero
necesita ser modificado.
Esto también garantiza que los ficheros sean incluidos en el paquete, ya que
todo lo que haya en <i>/usr/local</i> se incluye en PLIST.
d352 2
a353 1
   datos de máqina única:		/etc or /etc/&lt;name&gt;
d356 5
a360 3
   páginas de manual:			/usr/local/man/...
   sólo lectura indep. arquitectura:	/usr/local/share/&lt;name&gt;
   documentación miscelánea:		/usr/local/share/doc/&lt;name&gt;
d363 1
a363 1
<li>Empiece un ciclo de makes hasta que el porte esté listo.
d365 2
a366 2
    Líbrese de todos los avisos si es posible, especialmente de los avisos
    relacionados con la seguridad.
d370 13
a382 13
<li>Controle la semántica de SEPARATE_BUILD.
    Debe hacerlo sólo si el porte se compila con SEPARATE_BUILD definido.
    Lo ideal sería que el porte no modificara ningún fichero en ${WRKSRC}
    después de <b>make patch</b>.
    Puede comprobarlo asegurándose de que usted no tenga acceso de escritura
    a ${WRKSRC}.
    Entonces puede configurar <code>SEPARATE_BUILD=concurrent</code>.
    Alguien podría usar el mismo árbol de fuentes para compilarlo en
    arquitecturas diferentes de forma simultánea.
    De otro modo, configure <code>SEPARATE_BUILD=simple</code>.
    Compilar en distintas arquitecturas de forma simultánea puede acarrear
    problemas, ya que muchos ficheros de fuentes pueden ser regenerados en
    momentos difíciles.
d390 6
a395 6
<li>COMMENT es una <strong>CORTA</strong> descripción en una línea del porte
    (60 caracteres máximo).
    <strong>NO</strong> incluya el nombre del paquete (o el número de la
    versión del software) en el comentario.
    <strong>NO</strong> lo empiece con mayúscula a menos que tenga un
    significado semántico.
d401 3
a403 3
<li>DESCR es una descripción más larga del porte.
    Desde uno hasta unos cuantos párrafos que expliquen a conciencia lo que
    hace el porte será suficiente.
d405 1
a405 1
<li>PLIST se mantendrá vacío de momento.
d409 1
a409 1
<li>Instale la aplicación con <b>make install</b>.
d412 4
a415 3
Si el porte instala bibliotecas dinámicas, compruebe sus tablas de símbolos
con <code>nm</code>, ya que algún software equivocado quita las bibliotecas
dinámicas, lo que puede conllevar fallos extraños más tarde.
d419 2
a420 1
<li><strong>Verifique los agujeros de seguridad del porte otra vez</strong>.
d423 5
a427 7
    seguridad</a>.
    Registre en el fichero <code>pkg/SECURITY</code> todo aquello que pueda
    ser interesante y las soluciones.
    Este fichero debe ser una lista de problemas potenciales auditados, junto
    con parches importantes, de modo que otra persona pueda ver a primera
    vista lo que se ha hecho.
    Por ejemplo:
d439 4
a442 4
    Después de que la instalación se haya completado use la orden de
    desarrollador <b>make plist</b>, que compila el fichero PLIST-auto en el
    directorio <i>pkg</i>.
    Este fichero es un candidato a la lista de paquetes.
d444 1
a444 1
<p>¡Atento!  Los ficheros se encuentran por la marca de tiempo.
d448 11
a458 10
<li>listar ningún fichero instalado con 'tar' ya que su marca de tiempo
    no cambiará y por lo tanto no será encontrado por 'find';
<li>actualizar el fichero <code>info/dir</code> si se añaden los ficheros
    .info.
    Asegúrese también de que <code>info/dir</code> no forma parte de PLIST;
<li>intentar hacer nada especial con enlaces o enlaces simbólicos.
    Una prueba rápida de 'tar' muestra que hace lo correcto con los enlaces y
    enlaces simbólicos, así que no hay razón para ningún caso especial en la
    lista de paquetes.
    Aún así...
d462 4
a465 4
Lea detenidamente PLIST-auto y verifique que se haya instalado todo, y que la
instalación haya tenido lugar en las ubicaciones pertinentes.
Se puede añadir cualquier parte que no se haya instalado a una regla
`post-install' en el fichero Makefile del porte.
d471 2
a472 2
Los portes que instalen bibliotecas compartidas necesitarán dos versiones del
fichero PLIST.
d475 2
a476 2
<li>PLIST describe los ficheros instalados en las arquitecturas que tengan
    soporte para bibliotecas compartidas.
d478 2
a479 2
<li>PLIST.noshared describe los ficheros instalados en arquitecturas que no
    tengan soporte para bibliotecas compartidas.
d486 6
a491 6
<li>Siga desinstalando y reinstalando hasta que esté perfecto.<br>
    <em>Perfecto</em> es cuando todo instala y desinstala en su ubicación
    correcta.
    Para desinstalar se usa la orden 'pkg_delete' &lt;nombre_paquete&gt;'.
    Para reinstalar se usa la orden 'sudo make reinstall'.
    Lea la página de manual de
d493 3
a495 3
    para ver otras órdenes que se pueden añadir a PLIST para asegurarse de
    que está todo limpio.
    Después de una desinstalación, la orden
d501 2
a502 1
    debería mostrar sólo la lista de nombre de directorios típicos.
d508 6
a513 6
Después de que el porte haya instalado correctamente, use la orden <code>make
package</code> para crear un paquete.
Para probar el paquete, primero use <code>pkg_delete</code> y a continuación
<code>pkg_add</code>.
Los resultados después de <code>pkg_add</code> deberían ser EXACTAMENTE los 
mismos que los resultados después de <code>make install</code>.
d518 1
a518 1
Envíe una breve nota a 
d520 5
a524 4
comentarios y pruebas.
Adjunte el porte a este mensaje y envíelo.
Si no obtiene ningún comentario, envíe un mensaje a
<a href="mailto:turan@@openbsd.org">turan@@openbsd.org</a> y él lo probará.
d530 3
a532 2
<li>La plataforma de DEC Alpha es buena porque sólo tiene bibliotecas
    estáticas y porque <code>sizeof(int) != sizeof(long)</code>
d534 4
a537 3
<li>La plataforma de Sun SPARC es buena porque es muy común y porque su orden
    de byte es al revés que en i386;  si hubiera llevado a cabo el desarrollo
    en SPARC, entonces querrá probarlo en i386.
d541 4
a544 4
<li>Incorpore cualquier información que reciba.
    Pruébelo de nuevo en su plataforma.
    Consiga que quienes le enviaron información sobre la primera prueba, 
    vuelvan a probar el nuevo porte.
d548 1
a548 1
<li>Finalmente, inclúyalo en el árbol de portes.
d552 4
a555 3
<a href="mailto:ports@@openbsd.org">ports@@openbsd.org</a> que haga la entrega.
No se olvide de <a href="mailto:turan@@openbsd.org">turan@@openbsd.org</a> si
nadie más lo hiciera.
d559 8
a566 8
<li>Si es un desarrollador con acceso a CVS, entréguelo Vd. mismo.
    Generalmente usamos &quot;import&quot; para un porte nuevo, en lugar de
    usar &quot;add&quot; para cada uno de tropecientos (o una docena) 
    ficheros.
    &quot;import&quot; usa números de versión &quot;vendor branch&quot; como
    1.1.1.1, pero no se preocupe por eso.
    Si efectúa cambios a un fichero específico (editar y entregar por cvs),
    será 1.2 y se usará ese número.
d569 4
a572 5
De un modo breve, &quot;cvs import&quot; se suele usar cuando un se crea un
porte.
A partir de ahí se suele usar &quot;cvs add&quot; y &quot;cvs rm&quot; para
añadir o eliminar ficheros individuales, y el ciclo normal
editar-&gt;entregar para los cambios.
d577 2
a578 1
make clean	# ¡en realidad no querrá comprobar todo el trabajo!
d584 3
a586 2
<li>-d cvs.openbsd.org:/cvs indica la dirección de cvs.
    Se puede omitir esto si se ha definido una variable de entorno CVSROOT.
d591 2
a592 1
<li>ports/lang/kaffe1 es el camino relativo a /cvs, en donde reside el porte.
d594 7
a600 7
<li><i>SuNombre</i> (substituir con su nombre de ingreso) es el &quot;vendor
    tag&quot; (etiqueta del distribuidor).
    Vd. lo importó, así que Vd. es el distribuidor.

<li><i>SuNombre_YYYY-MMM-DD</i> (v.g., ian_2000-jan-01) es el &quot;vendor
    release tag&quot; (etiqueta de lanzamiento del distribuidor).
    Tan buena como cualquier otra.
d603 3
a605 2
A modo de ejemplo real, he aquí la salida de la comprobación del porte
Kaffe1, que uno de nosotros hizo el 8 de septiembre de 1.998:
d611 1
a611 1
ian@@cvs.openbsd.org's password: (lógicamente no se muestra)
d627 4
a630 3
<li>Por último, añada una entrada de una línea para el nuevo porte en el
    fichero makefile de su directorio de primer nivel;  o sea, para
    ports/lang/kaffe1, añádala en ports/lang/Makefile.
d634 5
a638 6
<li>
¡Mantenga el porte!
Según pase el tiempo pueden surgir problemas, o pueden aparecer nuevas
versiones del software.
Debe intentar mantener su porte actualizado:  en otras palabras,
&laquo;probar, comprobar, probar, ...&raquo;
d641 1
a641 1
¡Gracias por su apoyo el proceso de portes de OpenBSD!
d651 1
a651 1
$Translation: checklist.html,v 1.2 2000/06/01 23:06:32 horacio Exp $<br>
@


1.1
log
@New files added by Horacio
@
text
@d19 4
a22 4
Este documento describe cómo hacer o cómo actualizar un porte.
Es una lista útil para recordar qué cosas se deben hacer.
No es totalmente exacta ni perfecta.
Dirija cualquier comentario o pregunta al respecto a
d29 1
a29 1
Si quiere ser un mantenedor, subscríbase a la lista
d33 4
a36 4
   <li>Aquí tienen lugar todas las dicusiones sobre los portes.
   <li>La lectura de esta lista es importante, ya que muchos anuncios van a 
       esta lista.
   <li>Aquí encontrará a muchos mantenedores de portes.
d41 2
a42 2
<li>Obtenga una copia del árbol de portes del cvs.
    Puede encontrar las instrucciones sobre cómo hacerlo en
d47 3
a49 3
<li>Escoja una ubicación en donde poner su porte, y cree una infraestructura
    básica ahí.
    Use la plantilla de Makefile que encontrará en
d52 11
d66 2
a67 1
<li>Cree los ficheros vacíos <code>pkg/COMMENT, pkg/DESCR y pkg/PLIST</code>.
d71 2
a72 1
<li>Añada las porciones con &quot;fetch&quot; del fichero Makefile.
d78 4
a81 3
<li>Rellene DISTNAME, que es el nombre del fichero menos el sufijo de la
    extensión.
    Por ejemplo, si tuviera foo-1.0.tar.gz, DISTNAME sería foo-1.0.
d83 2
a84 2
<li>Rellene MASTER_SITES, que es una URL para los directorios en donde el
    fichero distfile está ubicado.
d87 3
a89 2
    Como mínimo, intente tener tres sitios diferentes.
    Ponga el de más fácil acceso primero, ya que los recorrerá por orden.
d93 2
a94 2
    Se usarán las tres.
    No configure DISTNAME para que apunte al fichero directamente.
d96 2
a97 2
<li>Puede comprobar si ha rellenado estos valores correctamente, escribiendo
    <b>make fetch-all</b>.
d101 45
a145 42
Existen opciones y herramientas disponibles para portes más complejos:

<ul>
<li>También puede disponer de la variable PATCHFILES.
    Ésta es una lista de parches de distribuidores (no de OpenBSD) para el
    porte.
    Generalmente son soluciones de fiabilidad, de seguridad, o algo parecido.

<li>Si sus portes están disponibles en réplica públicas grandes como GNU,
    SunSite, o CPAN, disponemos de una lista de sitios en
    /usr/ports/infrastructure/template/network.conf.template para su uso.
    Configure MASTER_SITES como ${MASTER_SITE_GNU}. o ${MASTER_SITE_SUNSITE},
    etc.
    Para simplificar este proceso, la construcción %SUBDIR% se debe 
    substituir por la variable MASTER_SITE_SUBDIR en el fichero Makefile.

<li>Generalmente los portes corresponden a versiones específicas de software.
    Una vez que se han obtenido, se hace una suma de comprobación sobre los
    ficheros y se comparan a las sumas de comprobación grabadas en files/md5.
    Así pues, para evitar confusión, DISTFILES y PATCHFILES deberían tener
    números de versión claramente visibles.
    No coja foo-latest.tar.gz si es un enlace a foo-1.0.5.tar.gz.
    Si es necesario, pregúntele gentilmente al autor del programa original
    para aclarar las distinciones.

<li>Si un porte cualquiera necesitara más de unos 5 DISTFILES + PATCHFILES
    para funcionar, use DIST_SUBDIR para evitar demasiada confusión en
    /usr/ports/distfiles.

<li>No se debe incluir números de versión en DIST_SUBDIR.
    Cuando se actualiza el porte a una versión posterior, es posible que no
    cambien algunos ficheros de distfiles, pero si DIST_SUBDIR ha cambiado,
    fetch los volverá a bajar.
    Aun en el caso en que todos los ficheros distfile cambiaran, sería más
    fácil para el usuario hacer un seguimiento completo.

<li>No es necesario que todos los DISTFILES y PATCHFILEs vengan del mismo
    conjunto de MASTER_SITES.
    Se pueden definir sitios suplementarios usando las variables
    MASTER_SITES0 hasta MASTER_SITES9.
    Simplemente, escriba DISTFILES=foo-1.0.5.tar.gz:5 para obtener
    foo-1.0.5.tar.gz desde MASTER_SITES5.
d148 4
a151 4
    Por ejemplo, algunos portes pueden tener algunas opciones de compilación,
    y ficheros asociados que sólo se requieren en el caso concreto.
    O es posible que necesiten algunos ficheros sólo para algunas
    arquitecturas y no para otras.
d153 3
a155 3
    mencionados en la variable SUPDISTFILES.
    Objetivos como puedan ser makesum o mirror-distfiles obtendrán esos
    ficheros suplementarios que no son necesarios para los otros.
d159 3
a161 3
<li>Cree una suma de comprobación en <i>files/md5</i> mediante <b>make
    makesum</b>, y verifique que la suma de comprobación es correcta mediante
    <b>make checksum</b>.
d164 6
a169 6
<li>En algunos casos extraños, las sumas de comprobación de los ficheros no
    se pueden verificar con fiabilidad.
    En tales casos es deseable que se comunique con el autor del software y
    con el mantenedor del sitio del archivo.
    En el peor de los casos, los ficheros cuyas sumas de comprobación no se
    puedan verificar, se mencionarán en la variable IGNOREFILES.
d391 3
d635 2
a636 2
Originally [OpenBSD: checklist.html,v 1.23 2000/03/24 14:08:07 wvdputte Exp ]<br>
$Translation: checklist.html,v 1.1 2000/04/08 00:33:51 horacio Exp $<br>
@

