head	1.1;
access;
symbols;
locks; strict;
comment	@# @;
expand	@b@;


1.1
date	2010.03.25.21.06.03;	author mcbride;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Add PF slides from AsiaBSDCon
@
text
@State table reorganisation
State linking


Inbound: we store a pointer to the stackside state key in the pkthdr

Outbound: finding the state key is as simple as:

  if (dir == PF_OUT && m->m_pkthdr.pf.statekey &&
    ((struct pf_state_key *)m->m_pkthdr.pf.statekey)->reverse)
      sk = ((struct pf_state_key *)m->m_pkthdr.pf.statekey)->reverse;

no more redundant state table searches!


@
