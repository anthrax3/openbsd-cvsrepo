head	1.1;
access;
symbols;
locks; strict;
comment	@# @;
expand	@b@;


1.1
date	2007.09.21.19.14.36;	author claudio;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Add slides from talks I gave at EuroBSDCon 2007 and the CUUG event during
the hackathon.
@
text
@
New stuff in 4.2

Performance improvements in the network stack
pf meta info stored directly in packet header
e.g. routing table ID, queue ID
mbuf tag allocation is slow
roughly 100% improvement in pf performance

Skip IPsec stack if no IPsec flows are defined
reduces unneeded lookups

Skip TCP/UDP/ICMP/ICMP6 checksumming in pf when not necessary

Profiling network stack to identify most obvious bottlenecks
kernel random pool was stirred on every packet
pool allocator optimisations
both times access to clock caused slow down

@
