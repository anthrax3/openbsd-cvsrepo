head	1.25;
access;
symbols;
locks; strict;
comment	@# @;


1.25
date	2009.04.26.15.44.20;	author tobias;	state dead;
branches;
next	1.24;

1.24
date	2007.01.25.10.26.14;	author jufi;	state Exp;
branches;
next	1.23;

1.23
date	2006.06.26.18.32.12;	author jufi;	state Exp;
branches;
next	1.22;

1.22
date	2006.06.01.06.33.44;	author jufi;	state Exp;
branches;
next	1.21;

1.21
date	2006.03.30.18.51.30;	author saad;	state Exp;
branches;
next	1.20;

1.20
date	2005.05.24.04.28.05;	author saad;	state Exp;
branches;
next	1.19;

1.19
date	2005.05.12.06.42.19;	author saad;	state Exp;
branches;
next	1.18;

1.18
date	2005.04.04.17.45.51;	author saad;	state Exp;
branches;
next	1.17;

1.17
date	2005.01.18.09.53.24;	author jufi;	state Exp;
branches;
next	1.16;

1.16
date	2004.02.15.17.57.25;	author jufi;	state Exp;
branches;
next	1.15;

1.15
date	2003.05.12.19.03.41;	author jufi;	state Exp;
branches;
next	1.14;

1.14
date	2003.03.06.11.13.42;	author jufi;	state Exp;
branches;
next	1.13;

1.13
date	2002.05.01.07.36.56;	author jufi;	state Exp;
branches;
next	1.12;

1.12
date	2002.04.13.19.44.36;	author jufi;	state Exp;
branches;
next	1.11;

1.11
date	2002.02.14.00.41.49;	author jufi;	state Exp;
branches;
next	1.10;

1.10
date	2001.12.25.10.10.22;	author jufi;	state Exp;
branches;
next	1.9;

1.9
date	2001.11.11.17.28.52;	author jufi;	state Exp;
branches;
next	1.8;

1.8
date	2001.10.18.20.03.25;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2001.10.11.17.42.22;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2001.04.29.13.38.17;	author jufi;	state Exp;
branches;
next	1.5;

1.5
date	2000.12.05.21.24.33;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2000.12.01.17.39.02;	author jufi;	state Exp;
branches;
next	1.3;

1.3
date	2000.11.22.17.48.01;	author jufi;	state Exp;
branches;
next	1.2;

1.2
date	2000.07.24.07.50.20;	author wvdputte;	state Exp;
branches;
next	1.1;

1.1
date	2000.06.11.16.20.13;	author wvdputte;	state Exp;
branches;
next	;


desc
@@


1.25
log
@Sync with Steelix CVS -- we are back to normal operation!
@
text
@<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>CTM</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/CTM page">
<meta name="keywords" content="openbsd,ctm">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2004 by OpenBSD.">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#23238E">

<center>
<img alt="CTM for OpenBSD" src="../images/bsdctm.gif" width="401" height="126">
</center>

<h3><font color="#0000e0">Qu'est ce que CTM ? </font></h3>

<p>
CTM est un système conçu par Poul-Henning Kamp pour
distribuer, de façon régulière et par courrier
électronique, les changements effectués sur une
arborescence de sources. C'est un bon moyen de rester à jour avec
les sources actuelles ou l'arbre CVS si vous avez une mauvaise connexion
Internet (par exemple un modem).

<p>
Le CTM d'OpenBSD distribue tous les modules du dépôt CVS
OpenBSD ainsi que des versions extraites de plusieurs de ces modules.
CTM utilise très peu de bande passante pour distribuer les
changements dans les sources et les compresse en utilisant <tt><b>gzip
-9</b></tt>. En comparaison avec <a href="cvsup.html">CVSup</a>, CTM est
écrit en langage C et est donc dispnible pour toutes les plates-
formes supportées par OpenBSD.

<p>
Pour <b>tous</b> problèmes, suggestions et questions ayant un
rapport avec CTM, veuillez contacter le mainteneur de CTM
<a href="mailto:hgw@@d1906.inka.de">Hans Günter Weigand</a>.
<small>(Veuillez ne pas demander à d'autres personnes du projet
OpenBSD une aide sur CTM, elles sont occupées à d'autres
choses. Merci).</small>


<h3><font color="#0000e0">Comment est-ce que cela fonctionne&nbsp;?
    </font></h3>

<p>
L'idée de CTM est que vous vous inscrivez à une liste de
discussion spécifique à un module CVS ou à une
arborescence donnée. Chaque jour, vous recevez un message
électronique contenant les changements sur l'arbre pendant cette
période. Une série de différences est appelé
un <b>delta</b>. Le serveur de CTM génère des deltas
toutes les douzes heures.

<p>
Vous commencer avec une série de base sur laquelle vous
appliquerez les deltas ultérieurs. Pour commencer avec CTM vous
devez télécharger la dernière série de base
ainsi que tous les deltas générés après
elle. Une fois que vous avez traité tout ça, vous pouvez
appliquer les deltas ultérieurs au fur et à mesure de leur
réception. La série de base est découpée en
morceaux de 1400k chacun pour permettre un téléchargement
aisé au travers des mauvaises connexions.

<p>
Les séries de base sont générées environ
tous les 50 deltas, ce qui fait que vous n'avez jamais plus de 50 deltas
à récupérer.

<p>
Il y a pour l'instant deux types de fichiers de base. Pendant un certain
temps, nous avons fait des fichiers <tt><b>tar.gz</b></tt> à la
main, mais nous sommes maintenant revenus à de vrais deltas CTM
de base. Ceux- ci contiennent une somme
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&amp;sektion=1">md5(1)</a>
et sont générés automatiquement, les rendants donc
plus sûrs. Vous pouvez distinguer les deux types de sets de base
grâce à leurs noms. Un example pour un fichier
<tt><b>tar.gz</b></tt> est <tt><b>OpenBSD-cvs.1450.tar.gz</b></tt> alors
qu'un delta CTM de base serait nommé <tt><b>OpenBSD-
cvs.1500A.gz</b></tt>. Voir ci-dessous pour des instructions
détaillées.

<h3><font color="#0000e0">Quel est la bande passante utilisée par
    CTM ? </font></h3>

<p>
Vous obtenez la série de base ainsi que tous les deltas par ftp
depuis les sites donnés ci-dessous. Les tailles sont :

<ul>
<li>Environ 215 Mo pour OpenBSD-cvs
<li>Environ 40 Mo pour OpenBSD-cvs-x11
<li>Environ 65 Mo pour OpenBSD-cvs-xf4
<li>Environ 83 Mo pour OpenBSD-src
<li>Environ 36 Mo pour OpenBSD-src-x11
<li>Environ 4 Mo pour OpenBSD-ports
<br>Gardez à l'esprit qu'il s'agit de tailles compressées.
    Comptez environ 5 fois ces valeurs pour les fichiers décompressés.
<li>La taille des deltas varie de 10k à 100k et parfois quelques Mo.
<li>CTM découpe les deltas en messages de 100k qui sont ré- assemblés
    automatiquement.
<li>Si un delta est plus gros que 5MB, il n'est pas envoyé par courrier
    éléctronique. À la plce, vous recevrez des instructions sur comment
    le récupèrer par FTP. De larges mises à jour par CTM sont rares et
    ne se produisent que lorsqu'un composant majeur du système est mis à
    jour, tel que binutils, Perl, X, etc, ou lorsqu'un tag CVS est
    appliqué au dépôt CVS.
</ul>

<h3><font color="#0000e0">Comment utiliser CTM ?</font></h3>

<ul>
<li>Inscrivez vous aux listes de diffusion CTM pour les séries
    que vous voulez.
<p>
   Il y a plusieurs listes de diffusion pour CTM. Il y a une liste pour
   les mises à jour des mises à jour de l'arborescence cvs, une liste
   pour l'arborescence des sources, deux pour X11 (sources et cvs), une
   pour les ports et une pour les messages du générateur de delta ctm.
   <p>
   Les commandes suivantes vous inscrirons aux listes appropriées :
<p>
Pour l'arborescence CVS (les modules CVSROOT, ports, src et www, mais
sans les modules X11 et XF4) :
<pre>
      echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org
</pre>
Pour le module X11 de l'arborescence CVS :
<pre>
      echo subscribe OpenBSD-cvs-x11 | mail majordomo@@OpenBSD.org
</pre>
Pour le module XF4 du dépôt CVS :
<pre>
      echo subscribe OpenBSD-cvs-xf4 | mail majordomo@@OpenBSD.org       
</pre>
Pour une copie du module src :
<pre>
      echo subscribe-OpenBSD-src | mail majordomo@@OpenBSD.org
</pre>
Pour une copie du module X11 :
<pre>
      echo subscribe OpenBSD-src-x11 | mail majordomo@@OpenBSD.org
</pre>
Pour une copie du module des ports :
<pre>
      echo subscribe OpenBSD-ports-ctm | mail majordomo@@OpenBSD.org
</pre>
Pour les journaux CTM :
<pre>
      echo subscribe ctm-log | mail majordomo@@OpenBSD.org
</pre>


<p>
<li>Installez le programme CTM depuis un paquetage ou depuis les ports.
    Vous trouverez le port dans
<tt><b>/usr/ports/devel/ctm</b></tt>.

</ul>
<b>Remarque :</b> Les exemples ci-dessous ne couvrent que OpenBSD-cvs
   pour plus de clarté. Les autres sources sont à
   gérer de la même façon.

<p><ul>

<li>Récupérez la série de base depuis un site FTP. Vous le trouverez
    dans le sous répertoire <tt><b>base/OpenBSD- cvs</b></tt>. Récupérez
    tous les fichiers dans ce répertoire, et une fois que vous les avez
    tous, vous pouvez créer votre arborescence des sources avec les
    commandes suivantes en fonction du type de fichier que vous avez :

<pre>
       cat split/OpenBSD-cvs.1500A.gz.* &gt; OpenBSD-cvs.1500A.gz
       cd cible
       ctm -v -v -v .../OpenBSD-cvs.1500A.gz
</pre>
 <p>
ou

<pre>
       cat split/OpenBSD-cvs.1500.tar.gz.* &gt; OpenBSD-cvs.1500.tar.gz
       cd cible
       tar -xzvf .../OpenBSD-cvs.1500.tar.gz
</pre>

<p>
où <tt><b>split</b></tt> est le répertoire dans lequel
vous aurez placé les fichiers téléchargés et
<tt><b>cible</b></tt> est l'endroit choisit pour décompresser les
sources.

<p>
Il n'est pas nécessaire de garder ces fichiers, si vous
êtes sur d'avoir une arborescence complète. Mais vous
pouvez garder les fichiers de base pour des besoins de sauvegarde.
Cependant, assurez vous de noter le numéro de la base avant de
continuer.

<p>
<li>Maintenant, vous avez besoin de récupérer les deltas qui ont été
    générés depuis la création de la série de base. Allez sur des sites
    FTP listés çi-dessous, dans le sous-répertoire <tt><b>OpenBSD-
    cvs</b></tt> et récupérez tous les fichiers dont le numéro est
    <em>plus grand</em> que le numéro de la base utilisée. Ensuite
    appliquer ces deltas :

<pre>
       cd cible
       ctm -v -v -v deltas/OpenBSD-cvs.*
</pre>

<p>
où <tt><b>cible</b></tt> est le répertoire où se
trouvent vos sources, et <tt><b>deltas</b></tt> l'endroit où vous
avez placé vos deltas.


<p>
<li>Attendez d'obtenir votre premier delta de la liste.
<p>
<li>Décompressez, assemblez et appliquez le delta CTM en
    utilisant <tt><b>ctm_rmail</b></tt>.
<p>

<pre>
	ctm_rmail -p /tmp -d deltas -b target folder
</pre>

<p>
où <tt><b>folder</b></tt> est le répertoire de mails contenant les
messages de delta. Ceci va décoder les deltas CTM et les sauvegardera
dans le répertoire <tt><b>deltas</b></tt>. Un delta ser aun fichier de
la forme <tt><b>OpenBSD-cvs.<var>XXXX</var>.gz</b></tt>, où
<var>XXXX</var> est le numéro du delta. Ensuite le delta sera apppliqué
dans l'arbre local situé dans <tt><b>target</b></tt>, l'endroit où vous
avez décompressé le set de base.

<p>
Répetez cette opération à chaque fois que vous
recevez un delta de la liste. Si vous voulez, vous pouvez automatiser
cette tâche à l'aide de procmail, maildrop où tout
autre programme similaire de la <a href="ports.html">collection des
ports</a>.
</ul>

<p>
Voici la liste des serveurs FTP contenant les deltas CTM :

<ul>
<li>Le serveur FTP primaire est :
<p>
<a href="ftp://togetic.kd85.com:/pub/OpenBSD-ctm/">
ftp://togetic.kd85.com:/pub/OpenBSD-ctm/
</a>.
<p>
Ce serveur est automatiquement mis à jour par le processus de génération
des deltas. Les sets de base sont disponibles en tant que gros fichiers
dans le répertoire <tt><b>base</b></tt>. Les fichiers éclatés sont dans
<tt><b>base-split</b></tt>.
</ul>

<ul>
<li><a href="ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm/
</a>
<p>
Ce serveur est mis à jour par les deltas CTM reçus par la liste de
discussion. De plus, il possède les deltas de base dans le sous-
répertoire <tt><b>base</b></tt>, dupliqué à partir de
<a href="ftp://togetic.kd85.com:/pub/OpenBSD-ctm/">
ftp://togetic.kd85.com:/pub/OpenBSD-ctm/</a>.
</ul>

<ul>
<li><a href="ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/
</a>
<p>
est identique à
<p>
<li><a href="ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/
</a>
<p>
et est un miroir de
<a href="ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.se.OpenBSD.org
</a>
.
</ul>

<p>
<b>REMARQUE</b> <a href="mailto:hgw@@d1906.inka.de">Je suis</a>
   très interessé pour trouver d'autres sites à
   travers le monde qui voudraient faire un miroir de ces deltas.
<p>

<h3><font color="#0000e0">Dois-je utiliser l'arborescence src ou
    cvs ? </font> </h3>

<p>
Cela dépend de votre place disque entre autre. Étant donné
que CTM n'agit pas sur des fichiers qui ont été
modifié en dehors du processus ctm, le meilleur choix est sans
doute l'arborescence <a href="anoncvs.html">CVS</a>. De cette
façon, vous pouvez récupérer une arborescence src
depuis votre arborescence CVS, suivre une branche stable et conserver
vos modifications locales dans votre arborescence des sources. CVS est
assez "intelligent" pour intégrer vos changements locaux. Vous
pouvez aussi utiliser toutes les commandes CVS à l'exception des
commandes telles que <tt><b>cvs commit</b></tt> et <tt><b>cvs
tag</b></tt>.

<p>
Le désavantage par contre, est la quantité de place disque
que cela prend. Une arborescence des sources est d'environ 370Mo, mais
si vous avez une arborescence CVS, vous aurez besoin de 1Go pour celle-
ci, <b>en plus</b> des 370Mo pour les sources. Ceci ne compte pas les
100Mo pour les fichiers gérérés lors d'une
compilation (cela dépend de l'architecture).

<p>
Si vous avez l'arborescence CVS, vous pouvez utiliser la commande
<tt><b>cvs checkout</b></tt> pour en récupérer une
arborescence des sources, et à chaque fois que vous mettez
à jour avec CTM, vous pouvez utiliser <tt><b>cvs update</b></tt>
pour mettre à jour votre arborescence des sources.
 
<p>
Pour obtenir votre arborescence src originelle :
<pre>
    cd /usr
    cvs -qd VOTRE_DEPOT_CVS checkout -P src
</pre>
<p>
après chaque mise à jour CTM :
<pre>
    cd /usr/src
    cvs -q update -Pd
</pre>

<h3><font color="#0000e0">Est-ce que ctm est stable sous OpenBSD ?
    </font></h3>

CTM est utilisé depuis plus de cinq ans par OpenBSD, et par
FreeBSD depuis encore plus longtemps. CTM est stable et solide.

<h3><font color="#0000e0">Quel futur pour CTM ? </font></h3>

Il y a un certain nombre de changements et optimisations possibles
(bien que petits). Parmi ceux-ci :

<ul>
<li> CTM n'envoie jamais un delta de plus de 5Mo par email. Cela
     pourrait être changé de deux façons : la taille
     maximale des deltas pourrait être changées, ou une
     file pourrait être installée, depuis laquelle, seuls
     un certain nombre de messages seraient envoyés
     journalièrement. Par exemple, si un delta a une taille de
     6Mo, il est découpé en 96 emails. Le premier jour,
     les 50 premiers messages sont envoyés, et le second jour,
     les 46 restants sont envoyés, ainsi que les 4 messages du
     delta suivant.
<li> Le logiciel CTM pourrait être réécrit, ou au
     moins corrigé. Sa mise ne oeuvre en C n'est pas un exemple
     de bonne programmation. Ça serait de plus une bonne
     opportunité pour ajouter de nouvelles fonctionnalités
     comme la signature des deltas CTM avec PGP.
</ul>

Envoyez <a href="mailto:hgw@@d1906.inka.de">moi</a> un courrier
électronique pour me donner vos avis et souhaits&nbsp;!


<h3><font color="#0000e0">Plus d'informations</font></h3>

Si vous voulez en savoir plus sur CTM, un bon endroit pour
démarrer est le manuel FreeBSD :

<ul>
<li> <a href="http://www.FreeBSD.org/handbook/ctm.html">
         http://www.FreeBSD.org/handbook/ctm.html
     </a>
</ul>

Il y a aussi des pages de manuel pour les utilitaires CTM.

<h3><font color="#0000e0">Résumé&nbsp;: </font></h3>

<p>

<ul>
<li> Listes de discussion :

   <ul>
   <li> <tt>echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org</tt>
   <li> <tt>echo subscribe OpenBSD-cvs-x11 | mail majordomo@@OpenBSD.org</tt>
   <li> <tt>echo subscribe OpenBSD-cvs-xf4 | mail majordomo@@OpenBSD.org</tt>
   <li> <tt>echo subscribe OpenBSD-src | mail majordomo@@OpenBSD.org</tt>
   <li> <tt>echo subscribe OpenBSD-src-x11 | mail majordomo@@OpenBSD.org</tt>
   <li> <tt>echo subscribe OpenBSD-ports-ctm | mail majordomo@@OpenBSD.org</tt>
   <li> <tt>echo subscribe ctm-log | mail majordomo@@OpenBSD.org</tt>
   </ul>

<p>
<li> FTP (pour la série de base et les deltas)

   <ul>
   <li> <a href="ftp://togetic.kd85.com:/pub/OpenBSD-ctm/">
        ftp://togetic.kd85.com:/pub/OpenBSD-ctm/</a>
   <li> <a href="ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/">
         ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/</a>
   <li> <a href="ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/">
        ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/</a>
   <li> <a href="ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm/">
         ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm/</a>
   </ul>
</ul>

<p>
Les annonces et remarques importantes à propos de CTM seront
postées sur la liste de diffusion announce@@OpenBSD.org.

<p>

<h3><font color="#0000e0">Remerciements</font></h3>

<ul>
<li> Poul-Henning Kamp (phk@@FreeBSD.org) pour avoir rendu CTM possible
     et avoir aidé dans le processus de génération
     de deltas.

<li> Theo de Raadt (deraadt@@theos.com) pour avoir rendu OpenBSD possible
     et avoir donné les ressources nécessaires pour
     créer les premiers deltas ctm sur cvs.OpenBSD.org
     (maintenant ils sont générés ailleurs) et pour
     la magie du serveur de noms.

<li> Todd C. Miller (millert@@OpenBSD.org) pour la mise en place et
     l'entretien des listes de discussion CTM.

<li> Bob Beck (beck@@OpenBSD.org), Artur Grabowski (art@@OpenBSD.org),
     Magnus Holmberg (mho@@OpenBSD.org) et Wolfram Schneider
     (wosch@@FreeBSD.org) pour la mise en place de l'espace ftp pour les
     séries de base et les deltas sur ctm.*OpenBSD.org

<li>  Thomas Graichen (graichen@@OpenBSD.org) pour avoir commencé
      CTM pour OpenBSD et l'avoir maintenu pendant des années

<li> Wim Vandeputte (wvdputte@@OpenBSD.org) pour l'hébergement de
     CTM

<li> ... et tous les autres qui ont contribué indirectement
</ul>

<p>
Le logo OpenBSD/CTM a été dessiné pour le projet
OpenBSD par <a href="mailto:flipk@@openbsd.org">Phillip F Knaack</a>.
<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD"
 /></a>
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: ctm.html,v 1.29 ]<br>
$Translation: ctm.html,v 1.28 2007/01/24 13:01:36 ajacoutot Exp $<br>
-->
$OpenBSD: ctm.html,v 1.24 2007/01/25 10:26:14 jufi Exp $
</small>

</body>
</html>
@


1.24
log
@sync with steelix translation CVS
@
text
@d476 1
a476 1
$OpenBSD$
@


1.23
log
@sync with steelix translation CVS
@
text
@d16 1
a16 1
<img alt="CTM for OpenBSD" src="images/bsdctm.gif" width="401" height="126">
d474 1
a474 1
$Translation: ctm.html,v 1.27 2006/06/26 12:54:48 ajacoutot Exp $<br>
@


1.22
log
@sync with steelix translation CVS
cvs: ----------------------------------------------------------------------
@
text
@d161 1
a161 1
<li>Installez le programme CTM depuis un package ou depuis les ports.
d474 1
a474 1
$Translation: ctm.html,v 1.26 2006/05/30 07:20:42 ajacoutot Exp $<br>
@


1.21
log
@sync with Steelix CVS
@
text
@a328 51
Si vous venez juste d'obtenir l'arborescence des source, vous aurez
besoin de gérer les modifications locales. Une manière de
faire ceci est d'utiliser le système de fichiers <b>union</b>
(voir
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_union&amp;sektion=8">mount_union(8)</a>),
bien qu'il ait été rapporté que le système
de fichiers <b>union</b> peut être instable si les couches
inférieures et supérieures résident sur le
même système de fichiers physique. Si vous placez vos
couches supérieures et inférieures sur des systèmes
de fichiers différents vous ne devriez avoir aucun
problème. Un exemple :

<p>
Supposons que votre arborescence mise à jour de CTM se trouve
dans <tt><b>/usr/src-ctm</b></tt> et que votre véritable
arborescence des sources (à partir de laquelle vous faites vos
modifications et compilations) se trouve dans <tt><b>/usr/src</b></tt>.
<tt><b>/usr/src</b></tt> doit initialement être un
répertoire vide. La commande suivante va configurer votre union
mount :

<pre>
       mount -t union -o -b /usr/src-ctm /usr/src
</pre>

<p>
Les modifications faites aux fichiers se trouvant dans
<tt><b>/usr/src</b></tt> deviendront un fichier contenu dans
<tt><b>/usr/src</b></tt>, masquant celui dans
<tt><b>src-ctm</b></tt>. Si des changements sont faits via CTM dans
l'arborescence <tt><b>src-ctm</b></tt> sous jacente, ces changements
ne seront <b>pas</b> vus s'il y a un fichier dans la couche
supérieure les masquant.

<p>
Vous devriez démonter périodiquement l'union et chercher
les fichiers locaux au système de fichiers union.

<pre>
    umount /usr/src
    find /usr/src -type f
</pre>

<p>
Les commandes <tt><b>ls -W</b></tt> et <tt><b>rm -W</b></tt> seront
utiles aussi, car les objets nommés "whiteouts" dans
<tt><b>/usr/src</b></tt> cacheront aussi des fichiers dans
<tt><b>src-ctm</b></tt>. 

<p>
d473 2
a474 2
Originally [OpenBSD: ctm.html,v 1.28 ]<br>
$Translation: ctm.html,v 1.25 2006/03/30 09:13:56 ajacoutot Exp $<br>
@


1.20
log
@sync with Steelix CVS
@
text
@d16 1
a16 1
<img alt="CTM for OpenBSD" src="../images/bsdctm.gif" width=401 height=126>
d103 1
a103 1
<li>Gardez à l'esprit qu'il s'agit de tailles compressées.
d173 4
a176 4
    dans le sous répertoire <b>base/OpenBSD- cvs</b>. Récupérez tous les
    fichiers dans ce répertoire, et une fois que vous les avez tous,
    vous pouvez créer votre arborescence des sources avec les commandes
    suivantes en fonction du type de fichier que vous avez :
d210 1
a210 1
    <it>plus grand</it> que le numéro de la base utilisée. Ensuite
d230 3
d261 1
d299 1
a299 1
<b>REMARQUE</B> <a href="mailto:hgw@@d1906.inka.de">Je suis</a>
d353 1
a353 1
<pre>
d367 1
d371 3
a373 1
<pre>
d462 1
d525 1
a525 1
$Translation: ctm.html,v 1.24 2005/05/23 04:59:48 aanriot Exp $<br>
@


1.19
log
@sync with Steelix CVS
@
text
@d104 9
a112 12
    Comptez environ 5 fois ces valeurs pour les fichiers
    décompressés.
<li>La taille des deltas varie de 10k à 100k et parfois quelques
    Mo.
<li>CTM découpe les deltas en messages de 100k qui sont ré-
    assemblés automatiquement.
<li>Si un delta est plus gros que 5MB, il n'est pas envoyé par
    courrier éléctronique. À la plce, vous recevrez des
    instructions sur comment le récupèrer par FTP. De
    larges mises à jour par CTM sont rares et ne se produisent
    que lorsqu'un composant majeur du système est mis à
    jour, tel que binutils, Perl, XFree86, etc, ou lorsqu'un tag CVS est
d123 3
a125 4
   les mises à jour des mises à jour de l'arborescence
   cvs, une liste pour l'arborescence des sources, deux pour X11
   (sources et cvs), une pour les ports et une pour les messages du
   générateur de delta ctm.
d127 1
a127 2
   Les commandes suivantes vous inscrirons aux listes appropriées
   :
d172 4
a175 5
<li>Récupérez la série de base depuis un site FTP.
    Vous le trouverez dans le sous répertoire <b>base/OpenBSD-
    cvs</b>. Récupérez tous les fichiers dans ce
    répertoire, et une fois que vous les avez tous, vous pouvez
    créer votre arborescence des sources avec les commandes
d206 6
a211 8
<li>Maintenant, vous avez besoin de récupérer les deltas
    qui ont été générés depuis la
    création de la série de base. Allez sur des sites FTP
    listés çi-dessous, dans le sous-répertoire 
    <tt><b>OpenBSD-cvs</b></tt> et récupérez tous les
    fichiers dont le numéro est <it>plus grand</it> que le
    numéro de la base utilisée. Ensuite appliquer ces
    deltas :
a229 3

<pre>
       ctm_rmail -p /tmp -d deltas -b cible folder
d233 7
a239 8
où <tt><b>folder</b></tt> est le répertoire de mails
contenant les messages de delta. Ceci va décoder les deltas CTM
et les sauvegardera dans le répertoire <tt><b>deltas</b></tt>. Un
delta ser aun fichier de la forme <tt><b>OpenBSD-
cvs.<var>XXXX</var>.gz</b></tt>, où <var>XXXX</var> est le
numéro du delta. Ensuite le delta sera apppliqué dans
l'arbre local situé dans <tt><b>target</b></tt>, l'endroit
où vous avez décompressé le set de base.
d258 3
a260 4
Ce serveur est automatiquement mis à jour par le processus de
génération des deltas. Les sets de base sont disponibles
en tant que gros fichiers dans le répertoire
<tt><b>base</b></tt>. Les fichiers éclatés sont dans
d269 3
a271 4
Ce serveur est mis à jour par les deltas CTM reçus par la
liste de discussion. De plus, il possède les deltas de base dans
le sous-répertoire <tt><b>base</b></tt>, dupliqué à
partir de
d516 2
a517 2
Originally [OpenBSD: ctm.html,v 1.27 ]<br>
$Translation: ctm.html,v 1.23 2005/05/11 03:42:22 aanriot Exp $<br>
@


1.18
log
@sync with Steelix CVS
@
text
@d267 2
a268 2
<a href="ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/">
ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/
d286 2
a287 2
<a href="ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/">
ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/</a>.
d472 2
a473 2
   <li> <a href="ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/">
        ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/</a>
d530 2
a531 2
Originally [OpenBSD: ctm.html,v 1.26 ]<br>
$Translation: ctm.html,v 1.22 2005/04/03 14:28:36 aanriot Exp $<br>
@


1.17
log
@Sync with Steelix CVS
@
text
@d22 4
a25 4
CTM est un syst&egrave;me con&ccedil;u par Poul-Henning Kamp pour
distribuer, de fa&ccedil;on r&eacute;guli&egrave;re et par courrier
&eacute;lectronique, les changements effectu&eacute;s sur une
arborescence de sources. C'est un bon moyen de rester &agrave; jour avec
d30 1
a30 1
Le CTM d'OpenBSD distribue tous les modules du d&eacute;p&ocirc;t CVS
d32 1
a32 1
CTM utilise tr&egrave;s peu de bande passante pour distribuer les
d35 2
a36 2
&eacute;crit en langage C et est donc dispnible pour toutes les plates-
formes support&eacute;es par OpenBSD.
d39 1
a39 1
Pour <b>tous</b> probl&egrave;mes, suggestions et questions ayant un
d41 3
a43 3
<a href="mailto:hgw@@d1906.inka.de">Hans G&uuml;nter Weigand</a>.
<small>(Veuillez ne pas demander &agrave; d'autres personnes du projet
OpenBSD une aide sur CTM, elles sont occup&eacute;es &agrave; d'autres
d51 6
a56 6
L'id&eacute;e de CTM est que vous vous inscrivez &agrave; une liste de
discussion sp&eacute;cifique &agrave; un module CVS ou &agrave; une
arborescence donn&eacute;e. Chaque jour, vous recevez un message
&eacute;lectronique contenant les changements sur l'arbre pendant cette
p&eacute;riode. Une s&eacute;rie de diff&eacute;rences est appel&eacute;
un <b>delta</b>. Le serveur de CTM g&eacute;n&egrave;re des deltas
d60 9
a68 9
Vous commencer avec une s&eacute;rie de base sur laquelle vous
appliquerez les deltas ult&eacute;rieurs. Pour commencer avec CTM vous
devez t&eacute;l&eacute;charger la derni&egrave;re s&eacute;rie de base
ainsi que tous les deltas g&eacute;n&eacute;r&eacute;s apr&egrave;s
elle. Une fois que vous avez trait&eacute; tout &ccedil;a, vous pouvez
appliquer les deltas ult&eacute;rieurs au fur et &agrave; mesure de leur
r&eacute;ception. La s&eacute;rie de base est d&eacute;coup&eacute;e en
morceaux de 1400k chacun pour permettre un t&eacute;l&eacute;chargement
ais&eacute; au travers des mauvaises connexions.
d71 1
a71 1
Les s&eacute;ries de base sont g&eacute;n&eacute;r&eacute;es environ
d73 1
a73 1
&agrave; r&eacute;cup&eacute;rer.
d77 2
a78 2
temps, nous avons fait des fichiers <tt><b>tar.gz</b></tt> &agrave; la
main, mais nous sommes maintenant revenus &agrave; de vrais deltas CTM
d81 3
a83 3
et sont g&eacute;n&eacute;r&eacute;s automatiquement, les rendants donc
plus s&ucirc;rs. Vous pouvez distinguer les deux types de sets de base
gr&acirc;ce &agrave; leurs noms. Un example pour un fichier
d85 1
a85 1
qu'un delta CTM de base serait nomm&eacute; <tt><b>OpenBSD-
d87 1
a87 1
d&eacute;taill&eacute;es.
d89 1
a89 1
<h3><font color="#0000e0">Quel est la bande passante utilis&eacute;e par
d93 2
a94 2
Vous obtenez la s&eacute;rie de base ainsi que tous les deltas par ftp
depuis les sites donn&eacute;s ci-dessous. Les tailles sont :
d103 1
a103 1
<li>Gardez &agrave; l'esprit qu'il s'agit de tailles compress&eacute;es.
d105 2
a106 2
    d&eacute;compress&eacute;s.
<li>La taille des deltas varie de 10k &agrave; 100k et parfois quelques
d108 7
a114 7
<li>CTM d&eacute;coupe les deltas en messages de 100k qui sont r&eacute;-
    assembl&eacute;s automatiquement.
<li>Si un delta est plus gros que 5MB, il n'est pas envoy&eacute; par
    courrier &eacute;l&eacute;ctronique. À la plce, vous recevrez des
    instructions sur comment le r&eacute;cup&egrave;rer par FTP. De
    larges mises &agrave; jour par CTM sont rares et ne se produisent
    que lorsqu'un composant majeur du syst&egrave;me est mis &agrave;
d116 1
a116 1
    appliqu&eacute; au d&eacute;p&ocirc;t CVS.
d122 1
a122 1
<li>Inscrivez vous aux listes de diffusion CTM pour les s&eacute;ries
d126 1
a126 1
   les mises &agrave; jour des mises &agrave; jour de l'arborescence
d129 1
a129 1
   g&eacute;n&eacute;rateur de delta ctm.
d131 1
a131 1
   Les commandes suivantes vous inscrirons aux listes appropri&eacute;es
d143 1
a143 1
Pour le module XF4 du d&eacute;p&ocirc;t CVS :
d172 2
a173 2
   pour plus de clart&eacute;. Les autres sources sont &agrave;
   g&eacute;rer de la m&ecirc;me fa&ccedil;on.
d177 5
a181 5
<li>R&eacute;cup&eacute;rez la s&eacute;rie de base depuis un site FTP.
    Vous le trouverez dans le sous r&eacute;pertoire <b>base/OpenBSD-
    cvs</b>. R&eacute;cup&eacute;rez tous les fichiers dans ce
    r&eacute;pertoire, et une fois que vous les avez tous, vous pouvez
    cr&eacute;er votre arborescence des sources avec les commandes
d199 3
a201 3
o&ugrave; <tt><b>split</b></tt> est le r&eacute;pertoire dans lequel
vous aurez plac&eacute; les fichiers t&eacute;l&eacute;charg&eacute;s et
<tt><b>cible</b></tt> est l'endroit choisit pour d&eacute;compresser les
d205 2
a206 2
Il n'est pas n&eacute;cessaire de garder ces fichiers, si vous
&ecirc;tes sur d'avoir une arborescence compl&egrave;te. Mais vous
d208 1
a208 1
Cependant, assurez vous de noter le num&eacute;ro de la base avant de
d212 7
a218 7
<li>Maintenant, vous avez besoin de r&eacute;cup&eacute;rer les deltas
    qui ont &eacute;t&eacute; g&eacute;n&eacute;r&eacute;s depuis la
    cr&eacute;ation de la s&eacute;rie de base. Allez sur des sites FTP
    list&eacute;s &ccedil;i-dessous, dans le sous-r&eacute;pertoire 
    <tt><b>OpenBSD-cvs</b></tt> et r&eacute;cup&eacute;rez tous les
    fichiers dont le num&eacute;ro est <it>plus grand</it> que le
    num&eacute;ro de la base utilis&eacute;e. Ensuite appliquer ces
d227 3
a229 3
o&ugrave; <tt><b>cible</b></tt> est le r&eacute;pertoire o&ugrave; se
trouvent vos sources, et <tt><b>deltas</b></tt> l'endroit o&ugrave; vous
avez plac&eacute; vos deltas.
d235 1
a235 1
<li>D&eacute;compressez, assemblez et appliquez le delta CTM en
d244 3
a246 3
o&ugrave; <tt><b>folder</b></tt> est le r&eacute;pertoire de mails
contenant les messages de delta. Ceci va d&eacute;coder les deltas CTM
et les sauvegardera dans le r&eacute;pertoire <tt><b>deltas</b></tt>. Un
d248 4
a251 4
cvs.<var>XXXX</var>.gz</b></tt>, o&ugrave; <var>XXXX</var> est le
num&eacute;ro du delta. Ensuite le delta sera apppliqu&eacute; dans
l'arbre local situ&eacute; dans <tt><b>target</b></tt>, l'endroit
o&ugrave; vous avez d&eacute;compress&eacute; le set de base.
d254 1
a254 1
R&eacute;petez cette op&eacute;ration &agrave; chaque fois que vous
d256 1
a256 1
cette t&acirc;che &agrave; l'aide de procmail, maildrop o&ugrave; tout
d270 4
a273 4
Ce serveur est automatiquement mis &agrave; jour par le processus de
g&eacute;n&eacute;ration des deltas. Les sets de base sont disponibles
en tant que gros fichiers dans le r&eacute;pertoire
<tt><b>base</b></tt>. Les fichiers &eacute;clat&eacute;s sont dans
d282 3
a284 3
Ce serveur est mis &agrave; jour par les deltas CTM re&ccedil;us par la
liste de discussion. De plus, il poss&egrave;de les deltas de base dans
le sous-r&eacute;pertoire <tt><b>base</b></tt>, dupliqu&eacute; &agrave;
d295 1
a295 1
est identique &agrave;
d310 1
a310 1
   tr&egrave;s interess&eacute; pour trouver d'autres sites &agrave;
d318 3
a320 3
Cela d&eacute;pend de votre place disque entre autre. Étant donn&eacute;
que CTM n'agit pas sur des fichiers qui ont &eacute;t&eacute;
modifi&eacute; en dehors du processus ctm, le meilleur choix est sans
d322 1
a322 1
fa&ccedil;on, vous pouvez r&eacute;cup&eacute;rer une arborescence src
d325 2
a326 2
assez "intelligent" pour int&eacute;grer vos changements locaux. Vous
pouvez aussi utiliser toutes les commandes CVS &agrave; l'exception des
d331 1
a331 1
Le d&eacute;savantage par contre, est la quantit&eacute; de place disque
d335 2
a336 2
100Mo pour les fichiers g&eacute;r&eacute;r&eacute;s lors d'une
compilation (cela d&eacute;pend de l'architecture).
d340 2
a341 2
besoin de g&eacute;rer les modifications locales. Une mani&egrave;re de
faire ceci est d'utiliser le syst&egrave;me de fichiers <b>union</b>
d344 7
a350 7
bien qu'il ait &eacute;t&eacute; rapport&eacute; que le syst&egrave;me
de fichiers <b>union</b> peut &ecirc;tre instable si les couches
inf&eacute;rieures et sup&eacute;rieures r&eacute;sident sur le
m&ecirc;me syst&egrave;me de fichiers physique. Si vous placez vos
couches sup&eacute;rieures et inf&eacute;rieures sur des syst&egrave;mes
de fichiers diff&eacute;rents vous ne devriez avoir aucun
probl&egrave;me. Un exemple :
d353 3
a355 3
Supposons que votre arborescence mise &agrave; jour de CTM se trouve
dans <tt><b>/usr/src-ctm</b></tt> et que votre v&eacute;ritable
arborescence des sources (&agrave; partir de laquelle vous faites vos
d357 2
a358 2
<tt><b>/usr/src</b></tt> doit initialement &ecirc;tre un
r&eacute;pertoire vide. La commande suivante va configurer votre union
d372 1
a372 1
sup&eacute;rieure les masquant.
d375 2
a376 2
Vous devriez d&eacute;monter p&eacute;riodiquement l'union et chercher
les fichiers locaux au syst&egrave;me de fichiers union.
d382 1
a382 1
utiles aussi, car les objets nomm&eacute;s "whiteouts" dans
d388 4
a391 4
<tt><b>cvs checkout</b></tt> pour en r&eacute;cup&eacute;rer une
arborescence des sources, et &agrave; chaque fois que vous mettez
&agrave; jour avec CTM, vous pouvez utiliser <tt><b>cvs update</b></tt>
pour mettre &agrave; jour votre arborescence des sources.
d400 1
a400 1
apr&egrave;s chaque mise &agrave; jour CTM :
d409 1
a409 1
CTM est utilis&eacute; depuis plus de cinq ans par OpenBSD, et par
d419 8
a426 8
     pourrait &ecirc;tre chang&eacute; de deux fa&ccedil;ons : la taille
     maximale des deltas pourrait &ecirc;tre chang&eacute;es, ou une
     file pourrait &ecirc;tre install&eacute;e, depuis laquelle, seuls
     un certain nombre de messages seraient envoy&eacute;s
     journali&egrave;rement. Par exemple, si un delta a une taille de
     6Mo, il est d&eacute;coup&eacute; en 96 emails. Le premier jour,
     les 50 premiers messages sont envoy&eacute;s, et le second jour,
     les 46 restants sont envoy&eacute;s, ainsi que les 4 messages du
d428 2
a429 2
<li> Le logiciel CTM pourrait &ecirc;tre r&eacute;&eacute;crit, ou au
     moins corrig&eacute;. Sa mise ne oeuvre en C n'est pas un exemple
d431 1
a431 1
     opportunit&eacute; pour ajouter de nouvelles fonctionnalit&eacute;s
d436 1
a436 1
&eacute;lectronique pour me donner vos avis et souhaits&nbsp;!
d442 1
a442 1
d&eacute;marrer est le manuel FreeBSD :
d452 1
a452 1
<h3><font color="#0000e0">R&eacute;sum&eacute;&nbsp;: </font></h3>
d469 1
a469 1
<li> FTP (pour la s&eacute;rie de base et les deltas)
d484 2
a485 2
Les annonces et remarques importantes &agrave; propos de CTM seront
post&eacute;es sur la liste de diffusion announce@@OpenBSD.org.
d493 1
a493 1
     et avoir aid&eacute; dans le processus de g&eacute;n&eacute;ration
d497 3
a499 3
     et avoir donn&eacute; les ressources n&eacute;cessaires pour
     cr&eacute;er les premiers deltas ctm sur cvs.OpenBSD.org
     (maintenant ils sont g&eacute;n&eacute;r&eacute;s ailleurs) et pour
d508 1
a508 1
     s&eacute;ries de base et les deltas sur ctm.*OpenBSD.org
d510 2
a511 2
<li>  Thomas Graichen (graichen@@OpenBSD.org) pour avoir commenc&eacute;
      CTM pour OpenBSD et l'avoir maintenu pendant des ann&eacute;es
d513 1
a513 1
<li> Wim Vandeputte (wvdputte@@OpenBSD.org) pour l'h&eacute;bergement de
d516 1
a516 1
<li> ... et tous les autres qui ont contribu&eacute; indirectement
d520 1
a520 1
Le logo OpenBSD/CTM a &eacute;t&eacute; dessin&eacute; pour le projet
d531 1
a531 1
$Translation: ctm.html,v 1.21 2005/01/17 21:29:45 aanriot Exp $<br>
@


1.16
log
@Sync with Steelix CVS
@
text
@d529 1
d531 2
a532 1
$Translation: ctm.html,v 1.20 2004/02/13 23:04:14 saad Exp $<br>
@


1.15
log
@
sync with steelix translation CVS
@
text
@d1 13
a13 6
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>CTM</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">
d19 1
a19 1
<H3><font color="#0000e0">Qu'est ce que CTM&nbsp;? </font></H3>
d21 6
a26 5
<P>
CTM est un système conçu par Poul-Henning Kamp pour distribuer, de façon
régulière et par courrier électronique, les changements effectués sur une 
arborescence de sources. C'est un bon moyen de rester à jour avec les
sources actuelles ou l'arbre CVS si vous avez une mauvaise connexion
d29 8
a36 8
<P>
Le CTM d'OpenBSD distribue tous les modules du dépôt CVS OpenBSD ainsi que des
versions extraites de plusieurs de ces modules.
CTM utilise très peu de bande passante pour distribuer les changements
dans les sources et les compresse en utilisant <tt><b>gzip
-9</b></tt>. En comparaison avec <a href="cvsup.html">CVSup</a>,
CTM est écrit en langage C et est donc dispnible pour toutes les
plates-formes supportées par OpenBSD.
d39 5
a43 5
Pour <b>tous</b> problèmes, suggestions et questions ayant un rapport
avec CTM, veuillez contacter le mainteneur de CTM <a
href="mailto:hgw@@d1906.inka.de">Hans G&uuml;nter
Weigand</a>. <small>(Veuillez ne pas demander à d'autres personnes du
projet OpenBSD une aide sur CTM, elles sont occupées à d'autres
d47 44
a90 1
<H3><font color="#0000e0">HComment est-ce que cela fonctionne&nbsp;? </font></H3>
d92 3
a94 39
<P>
L'idée de CTM est que vous vous inscrivez à une liste de discussion
spécifique à un module CVS ou à une arborescence donnée. Chaque jour, 
vous recevez un message
électronique contenant les changements sur l'arbre pendant cette
période. Une série de différences est appelé un <b>delta</b>. Le
serveur de CTM génère des deltas toutes les douzes heures.

<P>
Vous commencer avec une série de base sur laquelle vous appliquerez
les deltas ultérieurs. Pour commencer avec CTM vous devez télécharger la
dernière série de base ainsi que tous les deltas générés après elle. Une fois
que vous avez traité tout ça, vous pouvez appliquer les deltas
ultérieurs au fur et à mesure de leur réception. La série de base est
découpée en morceaux de 1400k chacun pour permettre un téléchargement
aisé au travers des mauvaises connexions.

<P>
Les séries de base sont générées environ tous les 50 deltas, ce qui
fait que vous n'avez jamais plus de 50 deltas à récupérer.

<P>
Il y a pour l'instant deux types de fichiers de base. Pendant un
certain temps, nous avons fait des fichiers <tt><b>tar.gz</b></tt> à
la main, mais nous sommes maintenant revenus à de vrais deltas CTM de
base. Ceux-ci contiennent une somme <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&amp;sektion=1">md5(1)</a>
et sont générés automatiquement, les rendants donc plus sûrs. Vous
pouvez distinguer les deux types de sets de base grâce à leurs
noms. Un example pour un fichier <tt><b>tar.gz</b></tt> est
<tt><b>OpenBSD-cvs.1450.tar.gz</b></tt> alors qu'un delta CTM de base
serait nommé <tt><b>OpenBSD-cvs.1500A.gz</b></tt>. Voir ci-dessous
pour des instructions détaillées.

<H3><font color="#0000e0">Quel est la bande passante utilisée par CTM ? </font></H3>

<P>
Vous obtenez la série de base ainsi que tous les
deltas par ftp depuis les sites donnés ci-dessous. Les tailles sont :
d103 14
a116 11
<li>Gardez à l'esprit qu'il s'agit de tailles compressées. Comptez
environ 5 fois ces valeurs pour les fichiers décompressés. 
<li>La taille des deltas varie de 10k à 100k et parfois quelques Mo.
<li>CTM découpe les deltas en messages de 100k qui sont ré-assemblés
automatiquement.
<li>Si un delta est plus gros que 5MB, il n'est pas envoyé par
courrier éléctronique. À la plce, vous recevrez des instructions sur
comment le récupèrer par FTP. De larges mises à jour par CTM sont
rares et ne se produisent que lorsqu'un composant majeur du système
est mis à jour, tel que binutils, Perl, XFree86, etc, ou lorsqu'un tag CVS
est appliqué au dépôt CVS.
d119 1
a119 1
<H3><font color="#0000e0">Comment utiliser CTM&nbsp;? </H3>
d121 9
a129 9
<UL>
<LI>Inscrivez vous aux listes de diffusion CTM pour les séries que
vous voulez.
<p>
   Il y a plusieurs listes de diffusion pour CTM. Il y a une liste
   pour les mises à jour des mises à jour de l'arborescence cvs, une
   liste pour l'arborescence des sources, deux pour X11 (sources et
   cvs), une pour les ports et une pour les messages du générateur de
   delta ctm.
d131 2
a132 1
   Les commandes suivantes vous inscrirons aux listes appropriées :
d134 2
a135 1
Pour l'arborescence CVS (les modules CVSROOT, ports, src et www, mais sans les modules X11 et XF4) :
d143 1
a143 1
Pour le module XF4 du dépôt CVS :
d145 1
a145 1
      echo subscribe OpenBSD-cvs-xf4 | mail majordomo@@OpenBSD.org	
d165 3
a167 2
<p> Installez le programme CTM depuis un package ou depuis les
ports. Vous trouverez le port dans
d170 1
a170 1
<ul>
d172 2
a173 2
pour plus de clarté. Les autres sources sont à gérer de la même
façon. 
d177 6
a182 5
<li>Récupérez la série de base depuis un site FTP. Vous le trouverez
dans le sous répertoire <b>base/OpenBSD-cvs</b>. Récupérez tous les
fichiers dans ce répertoire, et une fois que vous les avez tous, vous
pouvez créer votre arborescence des sources avec les commandes
suivantes en fonction du type de fichier que vous avez :
d199 21
a219 16
où <tt><b>split</b></tt> est le répertoire dans lequel vous aurez
placé les fichiers téléchargés et <tt><b>cible</b></tt> est l'endroit
choisit pour décompresser les sources.

<p>
Il n'est pas nécessaire de garder ces fichiers, si vous êtes sur
d'avoir une arborescence complète. Mais vous pouvez garder les
fichiers de base pour des besoins de sauvegarde. Cependant, assurez
vous de noter le numéro de la base avant de continuer. 

<p>
Maintenant, vous avez besoin de récupérer les deltas qui ont été
générés depuis la création de la série de base. Allez sur des sites FTP listés
çi-dessous, dans le sous-répertoire <tt><b>OpenBSD-cvs</b></tt>  et récupérez tous les
fichiers dont le numéro est <it>plus grand</it> que le numéro de la
base utilisée. Ensuite appliquer ces deltas :
d227 3
a229 2
où <tt><b>cible</b></tt> est le répertoire où se trouvent vos sources,
et <tt><b>deltas</b></tt> l'endroit où vous avez placé vos deltas.
d233 1
a233 1
<LI>Attendez d'obtenir votre premier delta de la liste.
d235 2
a236 2
<LI>Décompressez, assemblez et appliquez le delta CTM en utilisant
<tt><b>ctm_rmail</b></tt>.
d244 8
a251 7
où <tt><b>folder</b></tt> est le répertoire de mails contenant les
messages de delta. Ceci va décoder les deltas CTM et les sauvegardera
dans le répertoire <tt><b>deltas</b></tt>. Un delta ser aun fichier de
la forme <tt><b>OpenBSD-cvs.<var>XXXX</var>.gz</b></tt>, où
<var>XXXX</var> est le numéro du delta. Ensuite le delta sera
apppliqué dans l'arbre local situé dans <tt><b>target</b></tt>,
l'endroit où vous avez décompressé le set de base. 
d254 5
a258 4
Répetez cette opération à chaque fois que vous recevez un delta de la
liste. Si vous voulez, vous pouvez automatiser cette tâche à l'aide de
procmail, maildrop où tout autre programme similaire de la 
<a href="ports.html">collection des ports</a>.
d270 5
a274 4
Ce serveur est automatiquement mis à jour par le processus de
génération des deltas. Les sets de base sont disponibles en tant que
gros fichiers dans le répertoire <tt><b>base</b></tt>. Les fichiers
éclatés sont dans <tt><b>base-split</b></tt>.
d282 4
a285 3
Ce serveur est mis à jour par les deltas CTM reçus par la liste de
discussion. De plus, il possède les deltas de base dans le
sous-répertoire <tt><b>base</b></tt>, dupliqué à partir de 
d295 1
a295 1
est identique à
d309 28
a336 28
<b>REMARQUE</B> <a href="mailto:hgw@@d1906.inka.de">Je suis</a> très
interessé pour trouver d'autres sites à travers le monde qui
voudraient faire un miroir de ces deltas.
<p>

<h3><font color="#0000e0">Dois-je utiliser l'arborescence src ou cvs&nbsp;?
</font> </h3>

<P>
Cela dépend de votre place disque entre autre. Étant donné que CTM
n'agit pas sur des fichiers qui ont été modifié en dehors du processus
ctm, le meilleur choix est sans doute l'arborescence <a
href="anoncvs.html">CVS</a>. De cette 
façon, vous pouvez récupérer une arborescence src depuis votre
arborescence CVS, suivre une branche stable et conserver vos 
modifications locales dans votre
arborescence des sources. CVS est assez "intelligent" pour intégrer
vos changements locaux. Vous pouvez aussi utiliser toutes les
commandes CVS à l'exception des commandes telles que  
<tt><b>cvs commit</b></tt> et <tt><b>cvs tag</b></tt>.

<p>
Le désavantage par contre, est la quantité de place disque que cela
prend. Une arborescence des sources est d'environ 370Mo, mais si vous
avez une arborescence CVS, vous aurez besoin de 1Go pour celle-ci,
<b>en plus</b> des 370Mo pour les sources.
Ceci ne compte pas les 100Mo pour les fichiers gérérés lors d'une compilation 
(cela dépend de l'architecture).
d340 20
a359 17
besoin de gérer les modifications locales. Une manière de faire ceci
est d'utiliser le système de fichiers <b>union</b> (voir <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_union&amp;sektion=8">mount_union(8)</a>),
bien qu'il ait été 
rapporté que le système de fichiers <b>union</b> peut être instable
si les couches inférieures et supérieures résident sur le même système
de fichiers physique. Si vous placez vos couches supérieures et
inférieures sur des systèmes de fichiers différents vous ne devriez
avoir aucun problème. Un exemple :

<p>
Supposons que votre arborescence mise à jour de CTM se trouve dans
<tt><b>/usr/src-ctm</b></tt> et que votre véritable arborescence des sources
(à partir de laquelle vous faites vos modifications et compilations)
se trouve dans <tt><b>/usr/src</b></tt>. <tt><b>/usr/src</b></tt> doit
initialement être  un répertoire vide. La commande suivante va
configurer votre union mount :
d371 2
a372 2
ne seront <b>pas</b> vus s'il y a un fichier dans la couche supérieure
les masquant. 
d375 2
a376 2
Vous devriez démonter périodiquement l'union et chercher les fichiers
locaux au système de fichiers union. 
d382 1
a382 1
utiles aussi, car les objets nommés "whiteouts" dans
d388 4
a391 4
<tt><b>cvs checkout</b></tt> pour en récupérer une arborescence des
sources, et à chaque  fois que vous mettez à jour avec CTM, vous
pouvez utiliser <tt><b>cvs update</b></tt> pour mettre à jour votre
arborescence des sources. 
d400 1
a400 1
après chaque mise à jour CTM :
d406 2
a407 1
<H3><font color="#0000e0">Est-ce que ctm est stable sous OpenBSD&nbsp;? </font></H3>
d409 2
a410 2
Ctm est utilisé depuis plus de cinq ans par OpenBSD, et par FreeBSD depuis
encore plus longtemps. CTM est stable et solide.
d412 1
a412 1
<h3><font color="#0000e0">Quel futur pour CTM&nbsp;? </font></h3>
d419 14
a432 13
     pourrait être changé de deux façons : la taille maximale des
     deltas pourrait être changées, ou une file pourrait être
     installée, depuis laquelle, seuls un certain nombre de messages
     seraient envoyés journalièrement. Par exemple, si un delta a une
     taille de 6Mo, il est découpé en 96 emails. Le premier jour, les
     50 premiers messages sont envoyés, et le second jour, les 46
     restants sont envoyés, ainsi que les 4 messages du delta
     suivant. 
<li> Le logiciel CTM pourrait être réécrit, ou au moins corrigé. Sa
     mise ne oeuvre en C n'est pas un exemple de bonne
     programmation. Ça serait de plus une bonne opportunité pour
     ajouter de nouvelles fonctionnalités comme la signature des
     deltas CTM avec PGP.
d435 2
a436 2
Envoyez <a href="mailto:hgw@@d1906.inka.de">moi</a> un courrier électronique pour
me donner vos avis et souhaits&nbsp;!
d441 2
a442 2
Si vous voulez en savoir plus sur CTM, un bon endroit pour démarrer est
le manul FreeBSD :
d452 1
a452 1
<h3><font color="#0000e0">Résumé&nbsp;: </font></h3>
d469 1
a469 1
<li> FTP (pour la série de base et les deltas)
d484 2
a485 2
Les annonces et remarques importantes à propos de CTM seront postées
sur la liste de diffusion announce@@OpenBSD.org.
d493 2
a494 1
     et avoir aidé dans le processus de génération de deltas.
d496 5
a500 4
<li> Theo de Raadt (deraadt@@theos.com) pour avoir rendu OpenBSD
     possible et avoir donné les ressources nécessaires pour créer les
     premiers deltas ctm sur cvs.OpenBSD.org (maintenant ils sont
     générés ailleurs) et pour la magie du serveur de noms. 
d506 3
a508 3
     Magnus Holmberg (mho@@OpenBSD.org) et
     Wolfram Schneider (wosch@@FreeBSD.org) pour la mise en place de
     l'espace ftp pour les séries de base et les deltas sur ctm.*OpenBSD.org
d510 2
a511 2
<li> Thomas Graichen (graichen@@OpenBSD.org) pour avoir commencé CTM
     pour OpenBSD et l'avoir maintenu pendant des années
d513 2
a514 1
<li> Wim Vandeputte (wvdputte@@OpenBSD.org) pour l'hébergement de CTM
d516 1
a516 1
<li> ... et tous les autres qui ont contribué indirectement
d520 2
a521 2
Le logo OpenBSD/CTM a été dessiné pour le projet OpenBSD par 
   <a href="mailto:flipk@@openbsd.org">Phillip F Knaack</a>.
d529 2
a530 2
Originally [OpenBSD: ctm.html,v 1.23 ]<br>
$Translation: ctm.html,v 1.17 2003/05/12 11:59:56 saad Exp $<br>
@


1.14
log
@
sync with steelix translation CVS
@
text
@d26 1
a26 1
-9</b></tt>. En comparaison avec <a href="../cvsup.html">CVSup</a>,
d228 1
a228 1
<a href="../ports.html">collection des ports</a>.
d490 1
a490 1
$Translation: ctm.html,v 1.15 2003/03/05 06:53:34 saad Exp $<br>
@


1.13
log
@
sync with badlands translation CVS
@
text
@d67 1
a67 1
href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&sektion=1">md5(1)</a>
d310 1
a310 1
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_union&sektion=8">mount_union(8)</a>),
d488 6
a493 3
<small>Originally [OpenBSD: ctm.html,v 1.22 2002/04/17 07:21:06 miod Exp ]<br>
$Translation: ctm.html,v 1.14 2002/04/29 15:15:03 jbm Exp $<br>
$OpenBSD$</small>
a495 1

@


1.12
log
@
sync with badlands translation CVS
@
text
@d488 2
a489 2
<small>Originally [OpenBSD: ctm.html,v 1.21 2002/03/23 06:15:38 pvalchev Exp ]<br>
$Translation: ctm.html,v 1.13 2002/04/13 14:47:44 jbm Exp $<br>
@


1.11
log
@
sync with badlands translation CVS.
@
text
@d488 2
a489 2
<small>Originally [OpenBSD: ctm.html,v 1.20 2002/02/02 05:14:48 chris Exp ]<br>
$Translation: ctm.html,v 1.12 2002/02/13 22:46:53 jbm Exp $<br>
@


1.10
log
@
sync with badlands translation CVS.
@
text
@d362 1
a362 1
    cvs -qd VOTRE_DEPOT_CVS checkout -PA src
d368 1
a368 1
    cvs -q update -PAd
d488 2
a489 2
<small>Originally [OpenBSD: ctm.html,v 1.19 2001/11/02 21:17:19 naddy Exp ]<br>
$Translation: ctm.html,v 1.11 2001/12/24 13:34:34 jbm Exp $<br>
@


1.9
log
@sync with badlands translation CVS.
@
text
@d28 1
a28 1
plate-formes supportées par OpenBSD.
d489 1
a489 1
$Translation: ctm.html,v 1.10 2001/11/09 21:24:51 jbm Exp $<br>
@


1.8
log
@sync with badlands translation CVS.
@
text
@d12 1
a12 1
<H3>Qu'est ce que CTM ?</H3>
d15 3
a17 3
CTM est un système conçu par Poul-Henning Kamp pour distribuer les
changements effectués sur une arborescence de source tous les jours
par courrier électronique. C'est un bon moyen de rester à jour avec les
d22 2
d38 2
a39 1
<H3>Comment est-ce que cela fonctionne ?</H3>
d43 2
a44 1
spécifique à une arborescence. Chaque jour vous recevez un message
d75 1
a75 1
<H3>Quel est la bande passante utilisée par CTM ?</H3>
d82 6
a87 5
<li>Environ 115Mo pour OpenBSD-cvs
<li>Environ 37Mo pour OpenBSD-cvs-x11
<li>Environ 65Mo pour OpenBSD-src
<li>Environ 35Mo pour OpenBSD-src-x11
<li>Environ 2Mo pour OpenBSD-ports
d97 2
a98 2
est mis à jour, tel que binutils, perl, gcc, etc, ou lorsqu'un tag CVS
est appliqué à l'arborescence.
d101 1
a101 1
<H3>Comment utiliser CTM ?</H3>
d115 1
a115 1
Pour l'arborescence CVS (sans les modules X11 et XF4) :
d123 5
a127 1
Pour l'arborescence des sources (sans les modules X11 et XF4) :
d129 1
a129 1
      echo subscribe OpenBSD-src | mail majordomo@@OpenBSD.org
d131 1
a131 1
Pour le module X11 de l'arborescence des ports :
d135 1
a135 1
Pour l'arbre des ports :
a143 3
Il n'y a pas de liste pour le module XF4 (pour l'instant). Il n'est
disponible que par FTP.

d189 2
a190 2
générés depuis la création de la série de base. Allez un site FTP dans
le sous répertoire <tt><b>OpenBSD-cvs</b></tt>  et récupérez tous les
d227 2
a228 1
procmail où de tout autre programme similaire.
d232 1
a232 1
Les adresses des serveurs FTP contenant les deltas CTM sont :
d253 3
a255 1
sous-répertoire <tt><b>base</b></tt>.
d282 2
a283 1
<h3>Dois-je utiliser l'arborescence src ou cvs ?</h3>
d288 1
a288 1
ctm, le "meilleur" choix est sans doute l'arborescence <a
d291 2
a292 1
arborescence CVS et garder vos modifications locales dans votre
d295 2
a296 1
commandes CVS à l'exception de <tt><b>cvs commit</b></tt>.
d300 1
a300 1
prend. Une arborescence des sources est d'environ 350Mo, mais si vous
d302 3
a304 3
<b>en plus</b> des 350Mo pour les sources.
Ceci ne compte pas les 100Mo ou plus nécessaires à une compilation (cela
dépend de l'architecture).
d362 1
a362 1
    cvs -qd VOTRE_ARBORESCENCE_CVS checkout src
d371 1
a371 1
<H3>Est-ce que ctm est stable sous OpenBSD ?</H3>
d373 1
a373 1
Ctm est utilisé depuis plus de quatre ans par OpenBSD, et par FreeBSD depuis
d376 1
a376 1
<h3>Quel futur pour CTM ?</h3>
d398 2
a399 1
<H3>Plus d'informations</H3>
d401 4
a404 1
Si vous voulez en svoir plus sur CTM, un bon endroit pour démarrer est
d415 1
a415 1
<h3>Résumé :</h3>
d425 1
d448 1
a448 5
sur :
<ul>
<li> announce@@OpenBSD.org
<li> misc@@OpenBSD.org
</ul>
d452 1
a452 1
<H3>Remerciements</H3>
d488 2
a489 2
<small>Originally [OpenBSD: ctm.html,v 1.18 2001/10/16 19:02:21 jufi Exp ]<br>
$Translation: ctm.html,v 1.9 2001/10/17 20:46:24 jbm Exp $<br>
@


1.7
log
@sync with badlands translation CVS.
@
text
@d418 8
a425 8
   <li> <a href="ftp://openbsd.rug.ac.be:/ftp/pub/OpenBSD-ctm/">
        ftp://openbsd.rug.ac.be:/ftp/pub/OpenBSD-ctm/</a>
   <li> <a href="ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm">
         ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm</a>
   <li> <a href="ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm">
        ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm</a>
   <li> <a href="ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm">
         ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm</a>
d475 2
a476 2
<small>Originally [OpenBSD: ctm.html,v 1.17 2001/09/30 17:39:11 jufi Exp ]<br>
$Translation: ctm.html,v 1.8 2001/10/06 18:31:50 jbm Exp $<br>
@


1.6
log
@
Sync with translation CVS, work by jjbg
@
text
@d230 2
a231 2
<a href="ftp://openbsd.rug.ac.be:/ftp/pub/OpenBSD-ctm/">
ftp://openbsd.rug.ac.be:/ftp/pub/OpenBSD-ctm/
d475 2
a476 2
<small>Originally [OpenBSD: ctm.html,v 1.16 2001/04/06 14:08:21 horacio Exp ]<br>
$Translation: ctm.html,v 1.7 2001/04/28 18:31:47 jjbg Exp $<br>
@


1.5
log
@
Updated by jjbg from Badlands translation CVS.
@
text
@d9 1
a9 1
<img alt="CTM for OpenBSD" src=../images/bsdctm.gif width=401 height=126>
d12 1
a12 1
<H3>Qu'est ce que ctm ?</H3>
d15 1
a15 1
Ctm est un système conçu par Poul-Henning Kamp pour distribuer les
d18 1
a18 1
sources actuelles ou l'arbre cvs sur vous avez une mauvaise connexion
d22 13
a34 2
Ctm utilise très peu de bande passante pour distribuer les changements
dans les sources et les compresse en utilisant gzip -9.
d39 1
a39 1
L'idée de ctm est que vous vous inscrivez à une liste de discussion
d42 2
a43 1
période. Une série de différences est appelé un &quot;delta&quot;.
d47 2
a48 2
les deltas ultérieurs. Pour commencer avec ctm vous devez récupérer la
dernière série de base ainsi que tous les deltas suivants. Une fois
d52 1
a52 2
aisé au travers des mauvaises connexions. Vous pouvez même les mettre
sur disquettes.
d55 2
a56 2
Les séries de base sont générées environ tous les 100 deltas, ce qui
fait que vous n'avez jamais plus de 100 deltas à récupérer.
d58 14
a71 1
<H3>Quel est la bande passante utilisée par ctm ?</H3>
d74 1
a74 3
Comme mentionné précédemment, la série de base contient toutes les
sources de l'arborescence au format TAR, ce qui peut être
volumineux. Vous devez obtenir cette série de base ainsi que tous les
d78 6
a83 6
<li> environ 115Mo pour OpenBSD-cvs
<li> environ 37Mo pour OpenBSD-cvs-x11
<li> environ 65Mo pour OpenBSD-src
<li> environ 35Mo pour OpenBSD-src-x11
<li> environ 2Mo pour OpenBSD-ports
<li> Gardez à l'esprit qu'il s'agit de tailles compressées. Comptez
d85 9
a93 3
<li> La taille des deltas varie de 10k à 100k et parfois quelques Mo.
<li> ctm découpe les deltas en messages de 100k qui sont ré-assemblés
automatiquement. 
d96 1
a96 5
<P>
Des mises à jour plus grosse à travers ctm sont rares, et seulement
après une modification majeure des sources telle que binutils, perl...

<H3>Comment utiliser ctm ?</H3>
d99 1
a99 1
<LI>Inscrivez vous aux listes de diffusion ctm pour les séries que
d102 1
a102 1
   Il y a plusieurs listes de diffusion pour ctm. Il y a une liste
d109 33
a141 14
<br><br><tt>
Pour l'arborescence cvs (sans la partie X11) : <br>
    <b>echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org</b><br>
Pour la partie X11 de l'arborescence cvs : <br>
    <b>echo subscribe OpenBSD-cvs-x11 | mail majordomo@@OpenBSD.org</b><br>
Pour l'arborescence des sources (sans la partie X11) : <br>
    <b>echo subscribe OpenBSD-src | mail majordomo@@OpenBSD.org</b><br>
Pour la partie X11 de l'arborescence des sources : <br>
    <b>echo subscribe OpenBSD-src-x11 | mail majordomo@@OpenBSD.org</b><br>
Pour l'arborescence des ports : <br>
    <b>echo subscribe OpenBSD-ports-ctm | mail majordomo@@OpenBSD.org</b><br>
Pour la liste de messages ctm : <br>
    <b>echo subscribe ctm-log | mail majordomo@@OpenBSD.org</b><br>
</tt><br>
d143 4
a146 1
<LI>Attendez jusqu'à l'arrivée de votre premier delta.
d148 1
a148 13
<LI>Décompressez et assemblez le delta en utilisant ctm_rmail.
<br>
<br>
<tt>
    <b>ctm_rmail -p. -d. -b. folder</b>
</tt>
<br><br>
où <b>folder</b> est le répertoire contenant les messages de delta.
<br>
Ceci décodera les deltas ctm et les placera dans le répertoire
courant. Le delta sera un fichier de la forme OpenBSD-XXX.YYYY.gz, où
XXX sera soit "src" soit "cvs", et YYYY le numéro du delta.
<p>
d150 2
a151 3
<li>Récupérez la série de base depuis les sites ftp ci-dessous, dans
le sous répertoire <b>base/OpenBSD-cvs</b> (pour OpenBSD-cvs) ou
<b>base/OpenBSD-src</b>  (pour OpenBSD-src). Récupérez tous les
d153 2
a154 2
pouvez créer votre arborescence des sources avec la commande
suivantes :
d156 18
a173 8
<br><br>
<tt>
    <b>cd cible <br>
    cat /split/OpenBSD-* | tar zxf - <br>
</b></tt><br>

où <b>split</b> est le répertoire où vous avez placé les fichiers que
vous avez récupérés.
d177 3
a179 2
d'avoir une arborescence complète. Cependant, assurez vous de noter le
numéro de la base avant de continuer. 
d183 25
a207 4
générés depuis la création de la série de base. Allez sur l'un des
sites FTP ci-dessous dans le sous répertoire <b>OpenBSD-cvs</b> ou
<b>OpenBSD-src</b> et récupérez tous les fichiers dont le numéro est
<it>plus grand</it> que le numéro de la base utilisée. 
d210 7
a216 1
Les adresses pour la série de base et les deltas sont :
d218 4
a221 4
<ul>
<li><a href="ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/
</a>
d224 3
d228 9
a236 3
<li><a href="ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/
</a>
d243 4
d249 6
d256 9
a264 3
<ul>
<li><b>REMARQUE :</b> Je suis très intéressé pour trouver d'autres
   sites à travers le monde qui pourrait héberger ces deltas.
d266 5
a272 15
<LI> Lancez ctm.
<br>
  <br>
  <tt>
     <b>cd cible<br>
     ctm -v -v /deltas/OpenBSD-cvs.*</b><br></tt>
<br><tt>
où <b>target</b> est le répertoire où vous voulez placer votre
     arborescence cvs et <b>deltas</b> où vous avez placé vos deltas.
<p>
Cela prendra quelque temps à intégrer tous les deltas, mais les
utilisations journalières de <b>ctm_rmail</b> et <b>ctm</b> seront
plus courtes.
</ul>

d276 1
a276 1
Cela dépend de votre place disque entre autre. Étant donné que ctm
d278 2
a279 1
ctm, le "meilleur" choix est sans doute l'arborescence cvs. De cette
d281 4
a284 3
arborescence cvs et garder vos modifications locales dans votre
arborescence des sources, laissant ainsi ctm ne toucher qu'à votre
arborescence cvs.
d288 3
a290 5
prend. Une arborescence des sources est d'environ 300Mo, mais si vous
avez une arborescence cvs, vous aurez besoin de 400Mo pour celle-ci,
<b>en plus</b> des 300Mo pour les sources.

<p>
d297 3
a299 1
est d'utiliser le système de fichiers <b>union</b>, bien qu'il ait été
d307 2
a308 2
Supposons que votre arborescence mise à jour de ctm se trouve dans
<b>/usr/src-ctm</b> et que votre véritable arborescence des sources
d310 16
a325 13
se trouve dans <b>/usr/src</b>. <b>/usr/src</b> doit initialement être
un répertoire vide. La commande suivante va configurer votre union
mount :
<br><br>
<tt>
    <b>mount -t union -o -b /usr/src-ctm /usr/src</b>
</tt>
<br><br>
Les modifications faites aux fichiers se trouvant dans /usr/src
deviendront un fichier contenu dans /usr/src, masquant celui dans
src-ctm. Si des changements sont faits via ctm dans l'arborescence
src-ctm sous jacente, ces changements ne seront <b>pas</b> vus s'il y
a un fichier dans la couche supérieure les masquant.
d330 28
a357 27
<br><br>
<tt>
    <b>umount /usr/src <br>
    find /usr/src -type f</b> <br>
</tt>
<br><br>
Les commandes <b>ls -W</b> et <b>rm -W</b> seront utiles aussi,
car les objets nommés "whiteouts" dans /usr/src cacheront aussi des
fichiers dans src-ctm.

<p>
Si vous avez l'arborescence cvs, vous pouvez utiliser la commande "cvs
checkout" pour en récupérer une arborescence des sources, et à chaque
fois que vous mettez à jour avec ctm, vous pouvez utiliser "cvs
update" pour mettre à jour votre arborescence des sources.

<br><br>
Pour obtenir votre arborescence src originelle :<br>
<tt>
    <b>cd /usr <br>
    cvs -qd VOTRE_ARBORESCENCE_CVS checkout src</b> <br><br>
</tt>
après chaque mise à jour ctm :<br>
<tt>
    <b>cd /usr/src <br>
    cvs -q update -PAd</b> <br>
</tt>
d361 24
a384 2
Ctm est utilisé depuis plus d'un an par OpenBSD, et par FreeBSD depuis
plusieurs années. Ctm est stable et solide.
d388 2
a389 2
Si vous avez des problèmes avec ctm, un bon endroit pour démarrer est
le manuel FreeBSD :
d397 1
a397 4
Il y a aussi des pages de manuel pour tous les utilitaires ctm inclus
dans le package. Si vous avez OpenBSD, vous devriez avoir les pages
du manuel, les sources et les binaires. Sinon vous pouvez les obtenir
sur le même site ftp ci-dessous que les deltas.
d399 1
a399 7
<p>
Vous pouvez aussi contacter les listes de discussion OpenBSD ou
moi-même si vous avez des difficultés avec ctm, bien que mon temps
libre tend à être limité. 

<p>
Résumé :
d407 6
a412 6
   <li> <b>echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe OpenBSD-cvs-x11 | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe OpenBSD-src | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe OpenBSD-src-x11 | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe OpenBSD-ports-ctm | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe ctm-log | mail majordomo@@OpenBSD.org</b>
d415 1
a415 3
<li> FTP (pour la série de base et les deltas; OpenBSD possède CTM
     dans son arborescence des sources, mais si vous n'avez pas les
     sources ou les binaires, les sources sont aussi ici) :
d418 2
d421 1
a421 2
         ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm
	   </a>
d423 1
a423 2
         ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm
	   </a>
d425 1
a425 2
         ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm
	   </a>
d430 2
a431 1
Je ferai les remarques et annonces importantes à propos de ctm dans :
d433 1
a434 1
<li> announce@@OpenBSD.org
a437 3
<b>REMARQUE :</b> Si vous utilisez ctm pour OpenBSD, veuillez
m'envoyer un courrier électronique de façon à ce que je sache combien
de personnes l'utilise  !
d441 3
a443 2
<li> Poul-Henning Kamp (phk@@FreeBSD.org) pour avoir rendu ctm possible
     et m'avoir aidé dans le processus de génération de deltas.
d446 3
a448 3
     possible et m'avoir donné les ressources nécessaires dont j'avais
     besoin pour créer les premiers deltas ctm sur cvs.OpenBSD.org (maintenant
     ils sont générés ailleurs) et pour la magie du serveur de noms.
d451 1
a451 1
     l'entretien des listes de discussion ctm.
d458 2
a459 2
<li> ... et tous les autres qui ont contribués indirectement  ..
</ul>
d461 1
a461 2
<P>
Bonne chance !
d463 2
a464 2
<P>
t
d466 1
a466 4
<HR>

<ADDRESS><A HREF="mailto:graichen@@OpenBSD.org">Thomas Graichen</A></ADDRESS>
<br>
d474 3
a476 3
</br>
<small>Originally [OpenBSD: ctm.html,v 1.12 2000/11/17 19:11:33 jufi Exp ]<br>
$Translation: ctm.html,v 1.6 2000/11/28 15:45:39 reinhard Exp $<br>
@


1.4
log
@
Link corrected.
@
text
@d374 2
a375 1
<a href="index.html"><img height="24" width="24" src="../back.gif" border="0" alt="OpenBSD"></a>
d379 2
a380 2
$Translation: ctm.html,v 1.5 2000/11/22 10:37:37 jjbg Exp $<br>
$OpenBSD: ctm.html,v 1.3 2000/11/22 17:48:01 jufi Exp $</small>
@


1.3
log
@

 Sync with Badlands Translation CVS. Work by jjbg.
@
text
@d374 1
a374 2
<a href="index.html"><img height="24" width="24" src="back.gif" border="0" alt="OpenBSD"
 /></a>
d379 1
a379 1
$OpenBSD$</small>
@


1.2
log
@
Sync with Badlands Translation CVS. Work by jjbg.
@
text
@d372 11
a383 10
<P>
<!-- Created: Mon Oct 28 22:20:54 MET 1996 -->
<!-- hhmts start -->
Originally [OpenBSD: ctm.html,v 1.11 2000/03/25 02:29:49 wvdputte Exp ]<br>
$Translation: ctm.html,v 1.4 2000/07/19 19:20:33 jjbg Exp $<br>
$OpenBSD$
<!-- hhmts end -->

</BODY>
</HTML>
@


1.1
log
@Initial translation by BSDfr.org (hegemoon) and loads of
work by Jean-Jacques.Bernard@@hsc.fr

Still needs help, but starts to look good. Any feeback?
@
text
@d9 1
a9 1
<img alt="CTM for OpenBSD" src="../images/bsdctm.gif" width=401 height=126>
d12 1
a12 1
<H3>Qu' est ce que CTM?</H3>
d15 5
a19 5
Ctm est est un syt&eacute;me mis au point par Poul-Henning Kamp.
Le but est de permettre la mise &aacute; jour de sources par m&eacute;l.
C'est  un bon moyen de se tenir a jour des &eacute;volutions du syst&eacute;me,
en particulier si vous avez une mauvaise connection &aacute; internet.
(Connection par modem par exemple).
d22 2
a23 2
Ctm est tr&eacute;s peut gourmand en bande passante, et compresse
l' arborescence des sources avec gzip -9.
d25 1
a25 1
<H3>Comment cela fonctionne?</H3>
d28 4
a31 4
Vous devez vous abonnez a une mailing list pour un projet donn&eacute;.
Chaque jour vous recevrez par m&eacute;l un message contenant tous les changements
survenus sur ce projet.
un ensemble de changements est appel&eacute; un <b>&quot;delta&quot;.</b>
d34 8
a41 6
Vous d&eacute;butez avec une arborescence , qui sera plus tard patch&eacute;
avec les deltas.
Pour commencer vous devez donc r&eacute;cup&eacute;rer la derni&eacute;re arborescence
et tous les deltas qui l'ont suivi.
L'arborescence de base est d&eacute;coup&eacute; en bloques de 1400k
La taille des bloques vous permettra de les archiver sur disquette.
d44 2
a45 2
Une arborescence est g&eacute;n&eacute;r&eacute; a peut pr&eacute;s tout les 100 deltas.
Vous n' avez donc jamais a rappatrier plus de 100 deltas pour mettre a jour votre arborescence.
d47 1
a47 1
<H3>Combien de bande passante les Ctm utilisent ils?</H3>
d50 4
a53 5

Comme dis plus haut l'arborescence de base contiens toute les sources au format tar.
Vous devez les r&eacute;cuperer par ftp, ainsi que tous les deltas qui y sont associ&eacute;s.
Vous pouvez les r&eacute;cuperer sur les sites qui sont list&eacute;s ci-dessous.
Les tailles sont:
d56 10
a65 11
<li> approximativement 115Mb pour OpenBSD-cvs
<li> approximativement 37Mb pour OpenBSD-cvs-x11
<li> approximativement 65Mb pour OpenBSD-src
<li> approximativement 35Mb pour OpenBSD-src-x11
<li> approximativement 2Mb pour OpenBSD-ports
<li> Il s agit de sources compress&eacute;s.vous devez multipliez par cinq 
	les tailles pour obtenir la taille d&eacute;compress&eacute;s.
<li> les deltas relatif a chaque arborescences varient entre 10k et 100k.
	quelquefois ils peuvent atteidre quelque Mb
<li> ctm d&eacute;coupe les deltas en bloques de 100k qui sont r&eacute;assembl&eacute;s automatiquement.

d69 2
d72 1
a72 5
Il arrive quelquefois que des mises a jour de ctm soient plus larges.
G&eacute;n&eacute;ralement apr&eacute;s des mises a jour majeurs.
Cela est assez rare.

<H3>Comment dois-je utiliser ctm?</H3>
d75 2
a76 1
<LI>Abonnez vous a la mailing list associez a l arborescence que vous d&eacute;sirez.
d78 5
a82 6
   Il y a plusieur mailing list assoc&eacute;s aux ctm.
   Il y a une liste pour les mises &aacute; jour, une liste pour l arborescence des sources,
   une liste concerant X11 et une liste pour les ports.
   Il y &eacute;galement une liste permettant de voir les logs g&eacute;n&eacute;r&eacute;s par les
   changements.

d84 1
a84 1
   Les commandes suivantes vous permettront de vous abonnez &aacute; la mailing list appropri&eacute;e:	
d86 1
a86 1
Pour l'arborescence des cvs (sans la partie concernant X11):<br>
d88 1
a88 1
Pour la partie concernant X11 de l'arborescence cvs:<br>
d90 1
a90 1
Pour l' arborescence des sources(sans la partie concernant X11):<br>
d92 1
a92 1
Pour la partie concernant X11 de l arborescence:<br>
d94 1
a94 1
Pour l'arborecences des ports:<br>
d96 1
a96 1
Pour l' arborescence des logs ctm:<br>
d100 1
a100 1
<LI>Patientez jusqu' &aacute; ce que vous receviez votre premier delta.
d102 1
a102 1
<LI>D&eacute;compressez et assemblez les ctm deltas en utilisant ctm_rmail.
d106 1
a106 1
    <b>ctm_rmail -p. -d. -b. r&eacute;pertoire</b>
d109 1
a109 1
o&uacute; <b>r&eacute;pertoire</b> est le  r&eacute;pertoire de mail contenant  les deltas
d111 3
a113 4
Cela va d&eacute;coder les deltas et les placer dans vos r&eacute;pertoire de travail.
Les deltas sont de la forme  OpenBSD-XXX.YYYY.gz, ou XXX est sois  "src" ou  "cvs",
et  YYYY est le num&eacute;ro du delta.

d116 6
a121 6
<li>R&eacute;cuperer l arborescence de base sur le site ftp.Ils sont situ&eacute;s dans 
le sous r&eacute;pertoire
<b>base/OpenBSD-cvs</b> (pour OpenBSD-cvs) ou <b>base/OpenBSD-src</b>
(pour OpenBSD-src).  R&eacute;cuperer tous les fichiers dans ces r&eacute;pertoire, et une 
fois que vous les avez vous pouvez creer l arborescence de base des sources
avec les commandes:
d125 1
a125 1
    <b>cd target <br>
d129 2
a130 1
ou <b>split</b>  est le r&eacute;pertoire dans lequel vous avez placez les fichiers que vous avez r&eacute;cup&eacute;r&eacute;.
d133 4
a136 1
Vous n' avez pas besoin de conserver ces fichiers une fois que vous avez reconstituez l' arborescence compl&eacute;te.Toutefois notez le numero de l' arborescence de base avant d'aller plus loin.
d138 5
a142 5
Vous devez r&eacute;cuperer les deltas qui ont &eacute;t&eacute; g&eacute;n&eacute;r&eacute;s depuis
la cr&eacute;ation de cette arborescence de base.
Allez  sur le site ftp cit&eacute; plus bas dans le sous r&eacute;pertoire
<b>OpenBSD-cvs</b> ou <b>OpenBSD-src</b> pour recuperer tous les fichiers dont le num&eacute;ro
est plus  <it>large</it>  que les num&eacute;ros de l arborescence de base que vous utilisez.
d145 1
a145 1
Les addresses pour les bases et deltas sont:
d167 2
a168 2
<li><b>NOTE:</b> Je suis tr&eacute;s int&eacute;rress&eacute; par d autres sites qui pourraient 
mirror&eacute;s ces deltas.
d172 1
a172 1
<LI> Lancer ctm.
d176 1
a176 1
     <b>cd target<br>
d178 7
a184 4
ou<br><tt>
ou  <b>target</b>  est le r&eacute;pertoire ou vous voulez que votre arborescence cvs se trouve,
et <b>deltas</b> est le r&eacute;pertoire ou vous voulez que vos deltas soient sauvegard&eacute;s.
<p>
d187 1
a187 1
<h3>dois-je choisir les sources ou l' arborescence cvs?</h3>
d190 7
a196 4
Cela d&eacute;pend de votre espace disque et d'autres facteurs.
Si on consid&eacute;re que ctm ne prend pas en compte les fichiers qui ont &eacute;t&eacute; modifi&eacute;s
en dehors du processus ctm, le &quot;meilleur&quot; choix est probablement l' arborescence cvs.
Vous pouvez ensuite comparez votre arborescence de sources avec  votre arborescence cvs  et conserver vos modifications locales dans votre arborescences de sources,laissant ainsi uniquement ctm modifier votre  arborescence cvs.
d199 4
a202 4
Le d&eacute;savantage est l' espace disque utilis&eacute;.
Une arborescence de sources prend &aacute; peut pre&eacute;s 300Mb, mais si vous avez votre 
propre arborescence cvs vous aurez besoin de 400Mb ce a quoi il faut ajouter 300Mb pour 
votre arborescence de sources.
d205 2
a206 1
Cela ne prend pas en compte les 100Mb dont vous aurez besoin pour construire ces arborescences
d209 9
a217 4
Si vous r&eacute;cup&eacute;rez uniquement l' arborescence des sources vous devrez g&eacute;rer vous m&ecirc;me
vos modifications locales.
Une solution pour palier &aacute; ce probl&eacute;me serais d' utiliser les <b>unions</b> du syst&eacute;me de fichier.
Un exemple d'utilisation pourrais &ecirc;tre comme suis:
d219 6
a224 5
supposez que votre arborescence de mise a jour ctm se trouve dans le r&eacute;pertoire
<b>/usr/src-ctm</b>, et que votre arborescence de sources ,celle dans laquelle vous avez effectu&eacute;
vos modifications se trouve dans le r&eacute;pertoire <b>/usr/src</b>.
<b>/usr/src</b> devrais &ecirc;tre initialement un r&eacute;pertoire vide.
Les commandes suivantes vont mettre en place votre syst&eacute;me d' unions:
d230 5
a234 4
Les modifications effectu&eacute;s sur les fichiers se trouvant dans le r&eacute;pertoire /usr/src seront &eacute;galement
visiblent dans le r&eacute;pertoire /usr/src-ctm.
Si des changements sont &eacute;ffectu&eacute;s par ctm dans le r&eacute;pertoire src-ctm, ces changements
ne <b>seront</b> pas visiblent dans le r&eacute;pertoire src, si il y a d&eacute;ja un fichier pr&eacute;sent.
d237 2
a238 2
Vous devriez r&eacute;guli&eacute;rement d&eacute;monter (umount) les unions et chercher les fichiers qui sont locales
au syst&eacute;me d'union.
d245 3
a247 2
Les commandes <b>ls -W </b> et <b>rm -W</b> seront &eacute;galements utiles.
En effet des fichiers pr&eacute;sents dans /usr/src peuvent masquer de nouveaux fichiers import&eacute;s par ctm.
d250 4
a253 4
Si vous r&eacute;cup&eacute;rez une arborescence cvs vous pouvez &eacute;galement utiliser le &quot;cvs checkout&quot;
pour v&eacute;rifier votre arborescence de sources.
A chaque mise a jour  de votre arborescence ctm vous pouvez utiliser la commande &quot;cvs update&quot; pour mettre
a jour votre arborescence de sources.
d256 1
a256 1
Pour avoir une arborescence de source de d&eacute;part:<br>
d259 1
a259 1
    cvs -qd YOUR_CVS_TREE checkout src</b> <br><br>
d261 1
a261 1
et apr&eacute;s chaque mise a jour ctm:<br>
d267 1
a267 1
<H3>Les ctm sous OpenBSD sont ils stablent?</H3>
d269 2
a270 2
Les Ctm sont utilis&eacute;s depuis quelques ann&eacute;es sous OpenBSD et FreeBSD.
Ils sont stablent et surs.
d272 4
a275 1
<H3>Plus d' informations</H3>
a276 2
Si vous avez des probl&eacute;mes avec les ctm , cette url peut vous &ecirc;tre utile
(Il s' agit du FreeBSD handbook):
d283 4
a286 5
Il y a &eacute;galement des manuels (man(1)) disponibles pour les ctm.
Ces manuels sont inclus dans les sources de ctm.
Si vous avez un syst&eacute;me OpenBSD vous devez d&eacute;ja avoir les man et binaires de ctm install&eacute;s.
Si ce n'est pas le cas vous pouvez les obtenir sur le m&ecirc;me ftp que celui ou se trouve les deltas
cit&eacute; plus bas.
d289 3
a291 3
Vous pouvez &eacute;galement contacter une des mailing list d' OpenBSD ou moi m&ecirc;me si vous rencontrez
des difficult&eacute;s avec ctm.
Toutefois mon temps libre est assez tend a &ecirc;tre assez limit&eacute;.
d294 1
a294 1
R&eacute;sum&eacute;:
d299 1
a299 1
<li> Mailing lists:
d310 3
a312 2
<li> FTP (pour base et les deltas relatifs; OpenBSD poss&eacute;de les  ctm dans son arborescence de sources , 
	mais si vous n' avez ni les sources ni les binaires les sources sont &eacute;galement sur le ftp):
d328 1
a328 1
Je ferais toute les remarques importantes et annonces dans:
d335 13
a347 4
<b>NOTE:</b> Si vous utilisez les ctm pour OpenBSD envoyez moi un mail,cela me permettra de savoir combien
de personnes utilisent les ctm.

<H3>Remerciements:</H3>
d349 2
a350 5
<li> Poul-Henning Kamp (phk@@FreeBSD.org) pour avoir permis la r&eacute;alisation des ctm et m'avoir aid&eacute; a faire marcher la g&eacute;n&eacute;ration des deltas.

<li> Theo de Raadt (deraadt@@theos.com) pour avoir permis la r&eacute;alisation du projet OpenBSD et m'avoir offert les
	ressources dont j'avais besoin pour cr&eacute;er les deltas de ctm sur cvs.OpenBSD.org (maintenant ils sont g&eacute;ner&eacute;s ailleurs).
<li> Todd C. Miller (millert@@OpenBSD.org) pour avoir mis en place et maintenir la mailing-lists ctm.
d354 4
a357 3
     Wolfram Schneider (wosch@@FreeBSD.org) pour avoir mis en place un espace ftp permettant d'heberger les bases et deltas
	sur ctm.OpenBSD.org
<li> ... et tous ceux qui ont contribu&eacute;s indirectement...
d361 1
a361 1
Good luck!
d370 1
a370 1
OpenBSD/CTM logo designed pour the OpenBSD Project by 
d372 1
a372 1
<size=-1>(c)Open.BSDFR.org [traduction]</size>
d374 6
a379 7
<br><small>
Originally [OpenBSD: ctm.html,v 1.11 ]
<br>
$Translation: ctm.html,v 1.3 2000/05/15 05:08:35 wim Exp $
<br>
$OpenBSD$</small>

@

