head	1.19;
access;
symbols;
locks; strict;
comment	@# @;


1.19
date	2011.01.29.15.46.37;	author ajacoutot;	state dead;
branches;
next	1.18;

1.18
date	2011.01.17.09.42.43;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2007.02.10.05.22.17;	author saad;	state Exp;
branches;
next	1.16;

1.16
date	2007.02.04.08.19.54;	author saad;	state Exp;
branches;
next	1.15;

1.15
date	2007.02.02.06.46.52;	author saad;	state Exp;
branches;
next	1.14;

1.14
date	2007.01.06.02.47.25;	author saad;	state Exp;
branches;
next	1.13;

1.13
date	2006.06.26.18.32.12;	author jufi;	state Exp;
branches;
next	1.12;

1.12
date	2006.04.25.16.49.43;	author jufi;	state Exp;
branches;
next	1.11;

1.11
date	2006.04.06.17.23.11;	author jufi;	state Exp;
branches;
next	1.10;

1.10
date	2005.12.24.10.04.33;	author saad;	state Exp;
branches;
next	1.9;

1.9
date	2005.07.17.16.06.31;	author saad;	state Exp;
branches;
next	1.8;

1.8
date	2005.02.13.17.40.11;	author saad;	state Exp;
branches;
next	1.7;

1.7
date	2005.01.18.09.53.25;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2004.01.03.19.43.21;	author jufi;	state Exp;
branches;
next	1.5;

1.5
date	2003.05.12.19.03.41;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2003.03.26.16.39.55;	author jufi;	state Exp;
branches;
next	1.3;

1.3
date	2003.03.14.09.35.26;	author jufi;	state Exp;
branches;
next	1.2;

1.2
date	2003.03.11.09.38.32;	author jufi;	state Exp;
branches;
next	1.1;

1.1
date	2003.03.03.18.46.30;	author jufi;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Sync with Steelix CVS
@
text
@<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
    <meta name="resource-type" content="document">
    <meta name="description" content="The OpenBSD Port Testing Guide">
    <meta name="keywords" content="openbsd,ports, test">
    <meta name="distribution" content="global">
    <meta name="copyright" content="copyright 2002-2004 by OpenBSD.">
    <title>Guide de Tests des Ports d'OpenBSD</title>
  </head>

  <body text="#000000" bgcolor="#FFFFFF" link="#23238E">
    <a href="index.html"><img alt="[OpenBSD]" height="30" width="141" 
    src="../images/smalltitle.gif" border="0"></a> 

    
<h2><font color="#e00000">Guide de Tests des Ports</font></h2>
    <hr>

    <h2><font color="#0000e0">Sommaire</font></h2>

    <ul>
      <li><a href="#Introduction">Introduction</a></li>

      <li><a href="#How">Comment</a></li>

      <li><a href="#First">Premier pas</a></li>

      <li><a href="#Testing">Tests</a></li>

      <li><a href="#Commenting">Commentaires</a></li>

      <li><a href="#More">Plus de tests</a></li>
    </ul>
    <hr>

    <h2><a name="Introduction"><font color=
    "#0000e0">Introduction</font></a></h2>

    
<p>
L'arborescence <a href="../faq/fr/faq15.html#Ports">des ports</a> est un
dispositif conséquent qui permet aux utilisateurs d'OpenBSD d'utiliser
des applications tierces sans perdre du temps à appliquer des
correctifs, configurer ces applications et les installer séparement.
Tout ce travail est effectué par un groupe de volontaires qui passent
leur temps à porter et à tester des applications sur les différentes
plates-formes supportées par OpenBSD. Beaucoup de gens pensent qu'ils ne
peuvent pas contribuer à ce processus car ils n'ont pas les
connaissances suffisantes; c'est faux car ils peuvent toujours aider les
responsables de ports à travailler mieux et plus vite.
</p>

<h2><a name="How"><font color="#0000e0">Comment</font></a></h2>

    
<p>
Tester les nouveautés ou les nouveaux ports soumis sur la <a
href="mail.html">liste de diffusion des ports</a>. En faisant cela, vous
réduisez la latence des changements effectués et vous augmentez
également le nombre de ports qui vont être rajoutés (beaucoup de ports
ne sont pas rajoutés car ils ne sont pas assez testés !).
</p>

<h2><a name="First"><font color="#0000e0">Premier pas</font></a></h2>

    
<p>
L'arborescence des ports est developpée pour
<a href="../plus.html">OpenBSD-current</a>; il n'y a aucune garantie que
les nouveaux ports ou mises à jour fonctionneront correctement sur les
autres branches.
Cela signifie également que vous devez mettre à jour votre système ainsi
que l'arborescence des ports en -current (des instructions pour savoir
comment faire peuvent être trouvées dans les pages <a
href="anoncvs.html">anoncvs</a> et <a href="../faq/fr/current.html">
Suivre la branche current</a>). Il est également recommandé de vous
abonner aux <a href="mail.html">listes de diffusion</a> ports et
ports-changes. De cette façon vous serez averti des nouveaux ports ou
des ports mis à jour ainsi que des changements effectués dans
l'arborescence des ports.</p>
        
<h2><a name="Testing"><font color="#0000e0">Tests</font></a></h2>

    
<p>
Il y a deux types de soumission dans les listes de diffusion; les
nouveaux ports et les mises à jour. Les nouveux ports sont généralement
postés comme pièces jointes ou des URLs. Le plus facile est d'extraire
les ports dans le répertoire <tt>/usr/ports/mystuff/</tt> et de les
tester là. Les mises à jour sont habituellement des changements
effectués dans l'arborescence -current des ports, le mieux est donc de
copier le port dans <tt>mystuff/</tt> et d'appliquer les changements
afin d'éviter tous problèmes dans l'arborescence des ports.</p>

<p>
La conception pas-à-pas de ports est indispensable afin de vérifier que
chaque étape, voir
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7&amp;">ports(7)</a>, est accomplie correctement :</p>

<ul>
  <li><i>fetch</i>
    <ul>
      <li>Nécessaire afin de vérifier que le(s) fichier(s) devant être
          installé(s) se télécharge(nt) correctement. Essayez de tester
          tous les <tt>MASTER_SITES</tt> spécifiés afin de s'assurer que
          ce sont des sources valides.</li>
    </ul>

  <li><i>checksum</i>
    <ul>
      <li>Verifiez que le(s) fichier(s) devant être installé(s)
          correspond(ent) aux 'checksums' pré-enregistrées dans le
          fichier <tt>distinfo</tt>.</li>
    </ul>

  <li><i>extract</i>
    <ul>
      <li>Chaque fichier devant être installé doit installer au
          préalable tout (tous) programme(s) dont il dépend (bzip2 par
          exemple).</li>
    </ul>

  <li><i>patch</i>
    <ul>
      <li>Les correctifs doivent s'appliquer sans produire
          d'avertissements.
      <li>Plus aucun fichier <tt>.orig</tt> ne doit rester dans le
          répertoire <tt>patches/</tt>.
      <li>Une erreur habituelle est d'inclure les balises RCS dans un
          correctif; cela entrainera des problèmes lors de l'ajout du
          port dans l'arborescence et de l'expansion de la balise RCS.
    </ul>

  <li><i>configure</i>
    <ul>
      <li>Vérifiez que les scripts de configuration détectent
          correctement les spécificités de votre plate-forme.
      <li>GNU libtool est célèbre pour des 'options' non-désirées sur
          OpenBSD, dès lors veillez à ce que le port utilise une version
          récente qui crée des bibliothèques correctes sur votre
          architecture.
      <li>Le script de configuration ne doit pas détecter les applications 
        installées au préalable sur votre système sans en 
        avoir spécifier les dépendences dans le port. 
    </ul>

  <li><i>build</i>
    <ul>
      <li>Vérifiez d'éventuelles erreurs de conceptions et
          d'avertissements suspects.
      <li>Les avertissements à propos de problèmes avec
          <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=tmpnam&amp;sektion=3&amp;"> tmpnam(3)</a>
          doivent pouvoir se résoudre en utilisant 
          <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkstemp&amp;sektion=3&amp;"> mkstemp(3)</a>.</li>
      <li>Essayez de définir la variable <tt>SEPARATE_BUILD</tt> à
          'concurrent' et testez si le port se compile toujours.
      <li>Assurez vous que les dépendences avec GNU make sont vraiment
          nécessaires.
      <li>Vérifiez si le port utilise libtool. Si c'est le cas, essayez
          <tt>USE_LIBTOOL=Yes</tt>. De cette manière, l'infrastructure
          des ports utilisera la version de libtool se trouvant dans
          l'arborescence, au lieu de versions de libtool incluses dans
          les sources du logiciel.
    </ul>

  <li><i>regress</i>
    <ul>
      <li>Vérifiez d'éventuelles erreurs (les tests vides signifient que
          tout est bon).
    </ul>

  <li><i>fake</i>
    <ul>
      <li>Cette option installe l'application dans un faux répertoire
          afin d'être certain que les fichiers peuvent être empaquetés
          sans affecter le système de base.
      <li>Le port ne doit <b>jamais</b> installer de fichiers en dehors
          du faux répertoire (comme dans <tt>/usr/local</tt> par
          exemple).
          Ce type d'erreurs est facilement détectable en utilisant
          <tt>USE_SYSTRACE=Yes</tt>.
      <li>GNU libtool a occasionnellement des problèmes quant il s'agit
          de lier des bibliothèques pendant la procédure de fausse
          installation sur certaines architectures.
      <li>Vérifiez que tous les fichiers s'installent avec les bons
          droits (propriétaires, permissions).
    </ul>

  <li><i>package</i>
    <ul>
      <li>La création d'un 'package' peut échouer si pkg/PLIST* et/ou
          pkg/PFRAG* sont incorrects.</li>
    </ul>

  <li><i>lib-depends-check</i>
    <ul>
      <li>Ceci vérifiera que toutes les bibliothèques dont dépend le port
          sont accessibles soit via <tt>LIB_DEPENDS</tt> ou
          <tt>WANTLIB</tt>. Le résultat devrait être vide. Les variables
          précitées doivent être inspectées lorsque vous voyez des
          lignes qui commencent par "Extra" ou "Missing".
    </ul>

  <li><i>install</i>
    <ul>
      <li>Les paquetages doivent installer avec succès et avec les bonnes
          permissions tous les fichiers figurant dans leur liste de
          conditionnement. Soyez extrêmement prudent avec les fichiers
          ayant le bit suid défini.
      <li> Assurez vous que le script<tt> INSTALL</tt> du paquetage
           fonctionne correctement et n'écrase aucun fichier dans
           <tt>/etc</tt>.
    </ul>

  <li><i>deinstall</i>
    <ul>
      <li>Ceci devrait enlever tous les fichiers installés par le
          paquetage, excepté ceux présent dans <tt>/etc</tt>.
      <li>Soyez certain que le script<tt> DEINSTALL</tt> fonctionne
          comme prévu.
    </ul>

</ul>

<p>
Les fichiers restant dans <tt>pkg/</tt> comme DESCR et MESSAGE 
doivent être vérifiés au niveau de la grammaire et de l'orthographe. Les
paragraphes doivent être formattés en utilisant
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fmt&amp;sektion=1&amp;format=html">fmt(1)</a> et limités à 70 caractères.</p>

<h2><a name="Commenting"><font color="#0000e0">Commentaires</font></a></h2>

<p>
Une fois les tests terminés vient la chose la plus importante : les
commentaires. Même si le port fonctionne parfaitement, des commentaires
doivent être effectués. Si nous avons dix personnes rapportant que le
port fonctionne correctement sur plusieurs architectures différentes,
son incorporation dans l'arborescence est effectuée plus rapidement. Si
il ne fonctionne pas, certaines informations doivent être fournies.
Certains outils existent et peuvent vous aider dans cette tâche, comme
par exemple
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/infrastructure/bin/portslogger">portslogger</a> 
qui est une sorte de "tee intelligent" et redirige les données dans un
fichier journal.</p>

<p>Exemple :<br>
</p>

<div style="margin-left: 2em">
  <table border="0" cellpadding="3" width="90%">
    <tr>
      <td nowrap bgcolor="#EEEEEE">
<pre>
    # make install 2&gt;&amp;1 | /usr/ports/infrastructure/bin/portslogger .
</pre>
      </td>
    </tr>
  </table>
</div>
<br>
<br>
     
<p>
Ceci va rediriger les données dans un fichier journal se trouvant dans
le répertoire courant.</p>

<p>
Finalement, une fois que le port est jugé correct, les ports en
dépendant devraient aussi être testés afin de vérifier leur bon
fonctionnement. La cible make <i>show-required-by</i> permet
d'identifier ces derniers.

<h2><a name="More"><font color="#0000e0">Plus de tests</font></a></h2>

<p>
Vérifiez le Makefile du port au niveau de l'exactitude des dépendances,
des fautes de typographie, des
liens incorrects, des variables inutiles ou manquantes, des licences
correctes et des catégories.
Pour ceux qui possèdent plus de compétences peuvent aider à tester des
correctifs, fournir des fichiers diff pour corriger des bogues, rajouter
des saveurs ('flavors') au port ou encore d'autres améliorations.</p>
<p>Ces fichiers diff doivent être crées avec les options
<tt>-uNr --exclude=CVS</tt>. <tt>cvs diff -uN</tt> peut également être
employé pour générer des correctifs par rapport dépôt CVS.</p>
<hr>
<a href="index.html"><img src="../back.gif" height="24" width="24" alt="OpenBSD" border="0"></a>
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a><br>
<small>
<!--
Originally [OpenBSD: porttest.html,v 1.21 ]<br>
$Translation: porttest.html,v 1.21 2011/01/17 08:46:19 benoit Exp $<br>
-->
$OpenBSD: porttest.html,v 1.18 2011/01/17 09:42:43 ajacoutot Exp $
</small>
</body>
</html>
@


1.18
log
@Sync with Steelix CVS
@
text
@d297 1
a297 1
$OpenBSD$
@


1.17
log
@sync with Steelix CVS
@
text
@d245 1
a245 1
<a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/infrastructure/build/portslogger">portslogger</a> 
d257 1
a257 1
    # make install 2&gt;&amp;1 | /usr/ports/infrastructure/build/portslogger .
d294 2
a295 2
Originally [OpenBSD: porttest.html,v 1.20 ]<br>
$Translation: porttest.html,v 1.20 2007/02/09 13:45:21 benoit Exp $<br>
@


1.16
log
@sync with Steelix CVS
@
text
@d79 1
a79 1
Suivre la branche current</a>. Il est également recommandé de vous
d156 1
a156 1
          doivent pouvoir se résoudre à en utilisant 
d185 1
a185 1
      <li>GNU libtool a occasionellement des problèmes quant il s'agit
d295 1
a295 1
$Translation: porttest.html,v 1.19 2007/02/02 14:21:01 ajacoutot Exp $<br>
@


1.15
log
@sync with Steelix CVS
@
text
@d44 1
a44 1
L'arborescence <a href="../faq/faq15.html#Ports">des ports</a> est un
d295 1
a295 1
$Translation: porttest.html,v 1.18 2007/02/01 15:39:47 ajacoutot Exp $<br>
@


1.14
log
@Sync with Steelix CVS
@
text
@d78 6
a83 5
href="anoncvs.html">anoncvs</a> et <a href="../faq/current.html">Suivre
la branche current</a>. Il est également recommandé de vous abonner aux
<a href="mail.html">listes de diffusion</a> ports et ports-changes. De
cette façon vous serez averti des nouveaux ports ou des ports mis à jour
ainsi que des changements effectués dans l'arborescence des ports.</p>
d295 1
a295 1
$Translation: porttest.html,v 1.17 2007/01/05 10:38:41 ajacoutot Exp $<br>
@


1.13
log
@sync with steelix translation CVS
@
text
@d7 1
a7 1
    <meta name="description" content="Guide de Tests des Ports d'OpenBSD">
d10 1
a10 1
    <meta name="copyright" content="copyright 2002-2004 par OpenBSD.">
d294 1
a294 1
$Translation: porttest.html,v 1.16 2006/06/26 12:54:49 ajacoutot Exp $<br>
@


1.12
log
@sync with steelix translation CVS
@
text
@d208 1
a208 1
      <li>Les packages doivent installer avec succès et avec les bonnes
d212 1
a212 1
      <li> Assurez vous que le script<tt> INSTALL</tt> du package
d220 1
a220 1
          package, excepté ceux présent dans <tt>/etc</tt>.
d294 1
a294 1
$Translation: porttest.html,v 1.15 2006/04/25 13:32:41 ajacoutot Exp $<br>
@


1.11
log
@sync with steelix translation CVS
@
text
@d142 1
a142 1
          récente qui crée des librairies correctes sur votre
d185 1
a185 1
          de lier des librairies pendant la procédure de fausse
d199 1
a199 1
      <li>Ceci vérifiera que toutes les librairies dont dépend le port
d294 1
a294 1
$Translation: porttest.html,v 1.14 2006/04/05 07:41:22 ajacoutot Exp $<br>
@


1.10
log
@sync with Steelix CVS
@
text
@d25 1
a25 1
      <li><a href="#Introduction">Introduction</a>
d27 1
a27 1
      <li><a href="#How">Comment</a>
d29 1
a29 1
      <li><a href="#First">Premier pas</a>
d31 1
a31 1
      <li><a href="#Testing">Tests</a>
d33 1
a33 1
      <li><a href="#Commenting">Commentaires</a>
d35 1
a35 1
      <li><a href="#More">Plus de tests</a>
d44 10
a53 10
L'arborescence <a href="../faq/faq15.html">des ports</a> est un dispositif
conséquent qui permet aux utilisateurs d'OpenBSD d'utiliser des
applications tierces sans perdre du temps à appliquer des correctifs,
configurer ces applications et les installer séparement. Tout ce travail
est effectué par un groupe de volontaires qui passent leur temps à
porter et à tester des applications sur les différentes plates-formes
supportées par OpenBSD. Beaucoup de gens pensent qu'ils ne peuvent pas
contribuer à ce processus car ils n'ont pas les connaissances
suffisantes; c'est faux car ils peuvent toujours aider les responsables
de ports à travailler mieux et plus vite.
d108 1
a108 1
          ce sont des sources valides.
d115 1
a115 1
          fichier <tt>distinfo</tt>.
d122 1
a122 2
          exemple).

d156 1
a156 1
          <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkstemp&amp;sektion=3&amp;"> mkstemp(3)</a>.
d194 1
a194 1
          pkg/PFRAG* sont incorrects.
d249 1
d284 2
a285 4
des saveurs ('flavors') au port ou encore d'autres améliorations.
    
<p>
Ces fichiers diff doivent être crées avec les options
d294 1
a294 1
$Translation: porttest.html,v 1.13 2005/12/21 13:52:12 saad Exp $<br>
@


1.9
log
@sync with Steelix CVS
@
text
@d44 1
a44 1
L'arborescence <a href="ports.html">des ports</a> est un dispositif
d73 2
a74 1
les nouveaux ports fonctionneront correctement sur les autres branches.
d90 1
a90 1
postés comme pièces jointes ou des urls. Le plus facile est d'extraire
d162 5
d177 1
a177 1
      <li>Cette option instalel l'application dans un faux répertoire
d183 2
d188 2
d198 9
d213 1
a213 1
      <li> Assurez vous que le script<tt> INSTALL</tt> du packag'
d269 6
d278 2
a279 1
Vérifiez le Makefile du port au niveau des fautes de typographie, des
d281 4
a284 5
correctes et des catégories. Pour ceux qui possèdent plus de
compétences, d'autres options peuvent être testées comme
<i>lib-depends-check</i>, examiner les correctifs, ainsi que fournir des
fichiers diff pour corriger des bogues, rajouter des saveurs ('flavors')
au port ou encore d'autres améliorations.</p>
d295 2
a296 2
Originally [OpenBSD: porttest.html,v 1.19 ]<br>
$Translation: porttest.html,v 1.11 2005/07/16 15:53:06 saad Exp $<br>
@


1.8
log
@sync with Steelix CVS
@
text
@d207 2
d271 1
a271 1
$Translation: porttest.html,v 1.10 2005/02/13 16:46:43 saad Exp $<br>
@


1.7
log
@Sync with Steelix CVS
@
text
@d25 1
a25 1
      <li><a href="#Introduction">Introduction</a></li>
d27 1
a27 1
      <li><a href="#How">Comment</a></li>
d29 1
a29 1
      <li><a href="#First">Premier pas</a></li>
d31 1
a31 1
      <li><a href="#Testing">Tests</a></li>
d33 1
a33 1
      <li><a href="#Commenting">Commentaires</a></li>
d35 1
a35 1
      <li><a href="#More">Plus de tests</a></li>
d43 57
a99 10
<p>L'arborescence <a href="ports.html">des ports</a> est un dispositif cons&eacute;quent 
  qui permet aux utilisateurs d'OpenBSD d'utiliser des applications tierces sans 
  perdre du temps &agrave; appliquer des correctifs, configurer ces applications 
  et les installer s&eacute;parement. Tout ce travail est effectu&eacute; par 
  un groupe de volontaires qui passent leur temps &agrave; porter et &agrave; 
  tester des applications sur les diff&eacute;rentes plates-formes support&eacute;es 
  par OpenBSD. Beaucoup de gens pensent qu'ils ne peuvent pas contribuer &agrave; 
  ce processus car ils n'ont pas les connaissances suffisantes; c'est faux car 
  ils peuvent toujours aider les responsables de ports &agrave; travailler mieux 
  et plus vite.</p>
d101 8
a108 1
    <h2><a name="How"><font color="#0000e0">Comment</font></a></h2>
d110 6
a115 6
    
<p>Tester les nouveaut&eacute;s ou les nouveaux ports soumis sur la <a 
    href="mail.html">liste de diffusion des ports</a>. En faisant cela, vous r&eacute;duisez 
  la latence des changements effectu&eacute;s et vous augmentez &eacute;galement 
  le nombre de ports qui vont &ecirc;tre rajout&eacute;s (beaucoup de ports ne 
  sont pas rajout&eacute;s car ils ne sont pas assez test&eacute;s !).</p>
d117 5
a121 1
    <h2><a name="First"><font color="#0000e0">Premier pas</font></a></h2>
d123 1
a123 15
    
<p>L'arborescence des ports est developp&eacute;e pour <a 
    href="../plus.html">OpenBSD-current</a>; il n'y a aucune garantie que les 
  nouveaux ports fonctionneront correctement sur les autres branches. Cela signifie 
  &eacute;galement que vous devez mettre &agrave; jour votre syst&egrave;me ainsi 
  que l'arborescence des ports en -current (des instructions pour savoir comment 
  faire peuvent &ecirc;tre trouv&eacute;es dans la page <a 
    href="anoncvs.html">anoncvs</a> et dans la <a 
    href="../faq/upgrade-minifaq.html">FAQ</a>). Il est &eacute;galement recommand&eacute; 
  de vous abonner aux <a 
    href="mail.html">listes de diffusion</a> ports et ports-changes. De cette 
  fa&ccedil;on vous serez averti des nouveaux ports ou des ports mis &agrave; 
  jour ainsi que des changements effectu&eacute;s dans l'arborescence des ports.</p>
        
    <h2><a name="Testing"><font color="#0000e0">Tests</font></a></h2>
d125 4
a128 41
    
<p>Il y a deux types de soumission dans les listes de diffusion; les nouveaux 
  ports et les mises &agrave; jour. Les nouveux ports sont g&eacute;n&eacute;ralement 
  post&eacute;s comme pi&egrave;ces jointes ou des urls. Le plus facile est d'extraire 
  les ports dans le r&eacute;pertoire <tt>/usr/ports/mystuff/</tt> et de les tester 
  l&agrave;. Les mises &agrave; jour sont habituellement des changements effectu&eacute;s 
  dans l'arborescence -current des ports, le mieux est donc de copier le port 
  dans <tt>mystuff/</tt> et d'appliquer les changements afin d'&eacute;viter tous 
  probl&egrave;mes dans l'arborescence des ports.</p>

    <p>La conception pas-&agrave;-pas de ports est indispensable afin de
    v&eacute;rifier que chaque &eacute;tape, voir <a 
    href="http://www.openbsd.org/cgi-bin/man.cgi?query=ports&amp;sektion=7&amp;">ports(7)</a>, est accomplie correctement :</p>

    <ul>
      <li><i>fetch</i>
        <ul>
         
      <li>N&eacute;cessaire afin de v&eacute;rifier que le(s) fichier(s) devant 
        &ecirc;tre install&eacute;(s) se t&eacute;l&eacute;charge(nt) correctement. 
        Essayez de tester tous les <tt>MASTER_SITES</tt> sp&eacute;cifi&eacute;s 
        afin de s'assurer que ce sont des sources valides.</li>
        </ul>

      <li><i>checksum</i>
        <ul>
         
      <li>Verifiez que le(s) fichier(s) devant &ecirc;tre install&eacute;(s) correspond(ent) 
        aux 'checksums' pr&eacute;-enregistr&eacute;es dans le fichier <tt>distinfo</tt>.</li>
        </ul>

      <li><i>extract</i>
        <ul>
      <li>Chaque fichier devant &ecirc;tre install&eacute; doit installer au pr&eacute;alable 
        tout (tous) programme(s) dont il d&eacute;pend (bzip2 par exemple).</li>
    </ul>

      <li><i>patch</i>
        <ul>
         
      <li>Les correctifs doivent s'appliquer sans produire d'avertissements. 
d130 31
a160 44
	 r&eacute;pertoire <tt>patches/</tt>.
         
      <li>Une erreur habituelle est d'inclure les balises RCS dans un correctif; 
        cela entrainera des probl&egrave;mes lors de l'ajout du port dans l'arborescence 
        et de l'expansion de la balise RCS.
</ul>

      <li><i>configure</i>
        <ul>
         
      <li>V&eacute;rifiez que les scripts de configuration d&eacute;tectent correctement 
        les sp&eacute;cificit&eacute;s de votre plate-forme. 
      <li>GNU libtool est c&eacute;l&egrave;bre pour des 'options' non-d&eacute;sir&eacute;es 
        sur OpenBSD, d&egrave;s lors veillez &agrave; ce que le port utilise une 
        version r&eacute;cente qui cr&eacute;e des librairies correctes sur votre 
        architecture. 
      <li>Le script de configuration ne doit pas d&eacute;tecter les applications 
        install&eacute;es au pr&eacute;alable sur votre syst&egrave;me sans en 
        avoir sp&eacute;cifier les d&eacute;pendences dans le port. 
    </ul>

      <li><i>build</i>
        <ul>
         
      <li>V&eacute;rifiez d'&eacute;ventuelles erreurs de conceptions et d'avertissements 
        suspects. 
      <li>Les avertissements &agrave; propos de probl&egrave;mes avec <a 
	 href= "http://www.openbsd.org/cgi-bin/man.cgi?query=tmpnam&amp;sektion=3&amp;"> 
        tmpnam(3)</a> doivent pouvoir se r&eacute;soudre &agrave; en utilisant 
        <a 
	 href="http://www.openbsd.org/cgi-bin/man.cgi?query=mkstemp&amp;sektion=3&amp;"> 
        mkstemp(3)</a>.</li>
         <li>Essayez de d&eacute;finir la variable <tt>SEPARATE_BUILD</tt> 
	 &agrave; 'concurrent' et testez si le port se compile toujours.
         
      <li>Assurez vous que les d&eacute;pendences avec GNU make sont vraiment 
        n&eacute;cessaires. 
    </ul>

      <li><i>regress</i>
        <ul>
          
      <li>V&eacute;rifiez d'&eacute;ventuelles erreurs (les tests vides signifient 
        que tout est bon). 
d163 5
d169 5
a173 6
      <li><i>fake</i>
        <ul>
         
      <li>Cette option instalel l'application dans un faux r&eacute;pertoire afin 
        d'&ecirc;tre certain que les fichiers peuvent &ecirc;tre empaquet&eacute;s 
        sans affecter le syst&egrave;me de base. 
d175 5
a179 30
	 du faux r&eacute;pertoire (comme dans <tt>/usr/local</tt> par
	 exemple).
         <li>GNU libtool a occasionellement des probl&egrave;mes quant il 
	 s'agit de lier des librairies pendant la proc&eacute;dure de fausse
	 installation sur certaines architectures.
        </ul>

      <li><i>package</i>
        <ul>
         
      <li>La cr&eacute;ation d'un 'package' peut &eacute;chouer si pkg/PLIST* 
        et/ou pkg/PFRAG* sont incorrects.</li>
        </ul>

      <li><i>install</i>
        <ul>
         
      <li>Les packages doivent installer avec succ&egrave;s et avec les bonnes 
        permissions tous les fichiers figurant dans leur liste de conditionnement. 
        Soyez extr&ecirc;mement prudent avec les fichiers ayant le bit suid d&eacute;fini. 
      <li> Assurez vous que le script<tt> INSTALL</tt> du packag' fonctionne correctement 
        et n'&eacute;crase aucun fichier dans <tt>/etc</tt>. 
    </ul>

      <li><i>deinstall</i>
        <ul>
         
      <li>Ceci devrait enlever tous les fichiers install&eacute;s par le package, 
        except&eacute; ceux pr&eacute;sent dans <tt>/etc</tt>. 
      <li>Soyez certain que le script<tt> DEINSTALL</tt> fonctionne comme pr&eacute;vu. 
d181 5
d188 10
a197 5
    <p>Les fichiers restant dans <tt>pkg/</tt> comme DESCR et MESSAGE 
    doivent &ecirc;tre v&eacute;rifi&eacute;s au niveau de la grammaire et
    de l'orthographe. Les paragraphes doivent &ecirc;tre 
    formatt&eacute;s en utilisant <a 
    href="http://www.openbsd.org/cgi-bin/man.cgi?query=fmt&amp;sektion=1&amp;format=html">fmt(1)</a> et limit&eacute;s &agrave; 70 caract&egrave;res.</p>
d199 35
a233 21
    <h2><a name="Commenting"><font color="#0000e0">Commentaires</font></a></h2>

    
<p>Une fois les tests termin&eacute;s vient la chose la plus importante : les 
  commentaires. M&ecirc;me si le port fonctionne parfaitement, des commentaires 
  doivent &ecirc;tre effectu&eacute;s. Si nous avons dix personnes rapportant 
  que le port fonctionne correctement sur plusieurs architectures diff&eacute;rentes, 
  son incorporation dans l'arborescence est effectu&eacute;e plus rapidement. 
  Si il ne fonctionne pas, certaines informations doivent &ecirc;tre fournies. 
  Certains outils existent et peuvent vous aider dans cette t&acirc;che, comme 
  par exemple <a href="http://www.openbsd.org/cgi-bin/cvsweb/ports/infrastructure/build/portslogger">portslogger</a> 
  qui est une sorte de "tee intelligent" et redirige les donn&eacute;es dans un 
  fichier journal.</p>

    <p>Exemple :<br>
    </p>

    <div style="margin-left: 2em">
      <table border="0" cellpadding="3" width="90%">
        <tr>
          <td nowrap bgcolor="#EEEEEE">
d237 6
a242 6
          </td>
        </tr>
      </table>
    </div>
    <br>
     <br>
d244 19
a262 18

    
<p>Ceci va rediriger les donn&eacute;es dans un fichier journal se trouvant dans 
  le r&eacute;pertoire courant.</p>

    <h2><a name="More"><font color="#0000e0">Plus de tests</font></a></h2>

    
<p>V&eacute;rifiez le Makefile du port au niveau des fautes de typographie, des 
  liens incorrects, des variables inutiles ou manquantes, des licences correctes 
  et des cat&eacute;gories. Pour ceux qui poss&egrave;dent plus de comp&eacute;tences, 
  d'autres options peuvent &ecirc;tre test&eacute;es comme <i>lib-depends-check</i>, 
  examiner les correctifs, ainsi que fournir des fichiers diff pour corriger des 
  bogues, rajouter des saveurs ('flavors') au port ou encore d'autres am&eacute;liorations.</p>
    
<p>Ces fichiers diff doivent &ecirc;tre cr&eacute;es avec les options <tt>-uNr 
  --exclude=CVS</tt>. <tt>cvs diff -uN</tt> peut &eacute;galement &ecirc;tre employ&eacute; 
  pour g&eacute;n&eacute;rer des correctifs par rapport d&eacute;p&ocirc;t CVS.</p>
d268 2
a269 2
Originally [OpenBSD: porttest.html,v 1.18 ]<br>
$Translation: porttest.html,v 1.7 2005/01/17 21:29:47 aanriot Exp $<br>
@


1.6
log
@Sync with Steelix CVS
@
text
@d269 1
d271 2
a272 1
$Translation: porttest.html,v 1.6 2004/01/02 20:51:56 saad Exp $<br>
@


1.5
log
@
sync with steelix translation CVS
@
text
@d10 1
a10 1
    <meta name="copyright" content="copyright 2003 par OpenBSD.">
d269 2
a270 2
Originally [OpenBSD: porttest.html,v 1.17 ]<br>
$Translation: porttest.html,v 1.5 2003/05/12 11:59:56 saad Exp $<br>
@


1.4
log
@
sync with steelix translation CVS
@
text
@d43 1
a43 1
<p>L'arborescence <a href="../ports.html">des ports</a> est un dispositif cons&eacute;quent 
d270 1
a270 1
$Translation: porttest.html,v 1.4 2003/03/26 14:09:03 saad Exp $<br>
@


1.3
log
@
sync with steelix translation CVS,
new pkg-stable28.html by Xavier Santolaria, thanks !
@
text
@d265 3
a267 4
    <hr>
    <a href="index.html"><img src="../back.gif" height="24" width="24"
    alt="OpenBSD" border="0"></a>
    <a href="mailto:www@@openbsd.org">www@@openbsd.org</a><br>
d269 2
a270 2
Originally [OpenBSD: porttest.html,v 1.16 ]<br>
$Translation: porttest.html,v 1.3 2003/03/14 08:13:52 saad Exp $<br>
@


1.2
log
@
sync with steelix translation CVS
@
text
@d238 1
a238 1
    # make install | /usr/ports/infrastructure/build/portslogger .
d270 2
a271 2
Originally [OpenBSD: porttest.html,v 1.15 ]<br>
$Translation: porttest.html,v 1.2 2003/03/10 08:05:26 saad Exp $<br>
@


1.1
log
@
sync with steelix translation CVS
fresh translation of porttest.html by Xavier Santolaria, thanks !
@
text
@d7 1
a7 1
    <meta name="description" content="Guide de Tests de Port d'OpenBSD">
d19 1
a19 1
<h2><font color="#e00000">Guide de Tests des Port</font></h2>
d271 1
a271 1
$Translation: porttest.html,v 1.1 2003/03/02 20:00:29 saad Exp $<br>
@

