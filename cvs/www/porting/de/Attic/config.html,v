head	1.10;
access;
symbols;
locks; strict;
comment	@# @;


1.10
date	2014.04.01.17.23.03;	author deraadt;	state dead;
branches;
next	1.9;

1.9
date	2013.12.12.19.32.51;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2011.11.27.14.41.28;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2008.03.20.15.57.36;	author saad;	state Exp;
branches;
next	1.6;

1.6
date	2007.11.17.12.49.53;	author tobias;	state Exp;
branches;
next	1.5;

1.5
date	2007.04.26.03.08.09;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2007.02.14.19.01.55;	author jufi;	state Exp;
branches;
next	1.3;

1.3
date	2006.04.25.16.49.44;	author jufi;	state Exp;
branches;
next	1.2;

1.2
date	2005.09.20.07.29.59;	author saad;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.04.20.39.32;	author jufi;	state Exp;
branches;
next	;


desc
@@


1.10
log
@more unmaintained transations go away
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
 <head>
  <meta http-equiv="Content-Type"
        content="text/html; charset=iso-8859-1">
  <meta http-equiv="refresh"
        content="8; url=../../faq/ports/specialtopics.html#Config">
  <script type="text/javascript">
  <!--
        window.location.href="../../faq/ports/specialtopics.html#Config"
  -->
  </script>
  <title>OpenBSD Porter's Handbook</title>
  <link rev="made" HREF="mailto:www@@openbsd.org">
 </head>
 <body text="#000000" bgcolor="#FFFFFF" link="#23238E">
<a href="../../de/index.html"><img alt="[OpenBSD]" height="30" width="141" src="../../images/smalltitle.gif" border="0"></a>

  <p>
   If you are not redirected automatically, follow the link
   to <a href='../../faq/ports/specialtopics.html#Config'>http://www.openbsd.org/faq/ports/specialtopics.html#Config</a>

  <hr>
  <a href="../../de/index.html"><img height=24 width=24 src=../../back.gif border=0 alt=OpenBSD></a> 
  <a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: config.html,v 1.4 ]<br>
$Translation: config.html,v 1.10 2013/12/12 19:16:54 steffen Exp $<br>
-->
$OpenBSD: config.html,v 1.9 2013/12/12 19:32:51 ajacoutot Exp $
</small>
 </body>
</html>
@


1.9
log
@Sync with Steelix CVS
@
text
@d33 1
a33 1
$OpenBSD$
@


1.8
log
@Sync with Steelix CVS
@
text
@d1 2
a2 1
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
d4 19
a22 12
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="Porting guide: autoconf">
<meta name="keywords" content="openbsd,ports,autoconf">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 2004 by OpenBSD.">
<title>Portiererhandbuch: Mit Konfigurationsdateien umgehen</title>
</head>
<body>
<img height="30" width="141" src="../../images/smalltitle.gif" alt="[OpenBSD]">
<h1>Portiererhandbuch: Mit Konfigurationsdateien umgehen</h1>
a23 150
Packages sollten Dateien nur unter <code>${PREFIX}</code> installieren,
was standardmäßig <code>/usr/local</code> ist.
Auf der anderen Seite ist die OpenBSD-Richtlinie so, dass die meisten
Konfigurationsdateien unter <code>${SYSCONFDIR}</code> installiert
werden, was standardmäßig <code>/etc</code> ist.
</p>
<i>Bedenke, dass es für ein Binär-Package voll und ganz in Ordnung ist,
sowohl ${PREFIX} als auch ${SYSCONFDIR} fest eingebunden zu haben:
PREFIX und SYSCONFDIR sind größtenteils Benutzereinstellungen, die die
Erzeugung vom Package beeinflussen.</i>
</p>
<h2>@@sample erklärt</h2>
Packing-Listen beinhalten einen bestimmten
<code>@@sample</code>-Mechanismus, um mit Konfigurationsdateien umgehen
zu können:
<ul>
<li>Während der Scheininstallation sollte der Port eine
Beispielkonfigurationsdatei erzeugen, zum Beispiel als
${PREFIX}/share/examples/PKGNAME/foo.rc.
<li>Die Packing-Liste sollte einen
<code>@@sample ${SYSCONFDIR}/foo.rc</code>-Eintrag direkt unter der
Beispielkonfigurationsdatei haben.
<li>Während der Installation wird die standardmäßige
Beispielkonfigurationsdatei in das tatsächliche Verzeichnis kopiert,
in dem die Konfigurationsdatei liegen sollte.
<li>Während Aktualisierungen und Deinstallationen wird eine bereits
bestehende Konfigurationsdatei mit der standardmäßigen
Beispielkonfigurationsdatei verglichen. Wenn sie von einander
abweichen, werden die Packageprogramme den Benutzer informieren und
ihm das Update/Entfernen selbst überlassen. Wenn sie identisch sind,
wissen die Packageprogramme, dass sie mit dem Update/Entfernen der
Konfigurationsdateien ohne weitere Rücksicht fortfahren können.
</ul>
<h2>weitere @@sample-Eigenschaften</h2>
Im Gegensatz zu anderen Dateien in einer Packing-Liste können
<code>@@sample</code>-Einträge eine absolute Pfadangabe haben.
</p>
Einige große Packages werden ebenfalls ihr eigenes
Konfigurationsverzeichnis benötigen, worum sich
<code>@@sample ${SYSCONFDIR}/directory/</code> kümmern wird.
</p>
<code>@@sample directory/</code> verwenden, um portspezifische
Verzeichnisse zu erstellen, die keine Konfigurationsdateien beinhalten
ist ein völlig korrekter Weg.
<code>@@sample</code> interpretiert <code>@@mode</code>-,
<code>@@owner</code>- und <code>@@group</code>-Angaben richtig. Das
kann ein wenig hinderlich sein, da du oft zwischen dem
Standard-Modus und dem konfigurationsdateispezifischen Modus
hin und her wechseln musst.
<h2>Spezielle Tricks</h2>
<code>make update-plist</code> weiß, wie man
<code>@@sample</code>-Einträge kopieren muss, aber es weiß nicht, wie
man diese erstellt, sodass sie beim ersten Mal geschrieben werden
müssen.
</p>
Denke an den Unterschied zwischen Konfigurationsdateien und
Beispielkonfigurationsdateien: der Port muss konfiguriert werden, um
seine Dateien unter <code>${SYSCONFDIR}</code> zu finden, es ist
lediglich die Scheininstallationsphase, die den Kram unter
<code>${PREFIX}/share/examples</code> ablegen muss.
Ein einfacher Weg, um das zu handhaben, ist, die Dateien in ein
<code>post-install</code> rüberzukopieren.
</p>
Ein netter Trick, der oft funktioniert, ist, auf die makefile vom
Programm zu achten und das Konfigurationsverzeichnis während der
Scheininstallationsphase zu überschreiben, indem spezifische
<code>FAKE_FLAGS</code> genutzt werden, zum Beispiel:
<pre>FAKE_FLAGS=DESTDIR=${WRKINST} sysconfdir=${WRKINST}${TRUEPREFIX}/share/examples/PKGNAME
</pre>
Du musst lediglich auf Programme achten, die das
Konfigurationsverzeichnis in bestimmte Dateien während der
Installationsphase schreiben.
<h2>Beispiele</h2>
<ul>
<li>Der security/integrit-Port verwendet ein Konfigurationsverzeichnis
mit ein paar Dateien. Seine Packing-Liste sieht wie folgt aus:
<pre>
@@comment $OpenBSD: config.html,v 1.3 2010/07/18 06:24:17 lum Exp $
@@bin bin/i-ls
@@info info/integrit.info
@@man man/man1/i-ls.1
@@man man/man1/i-viewdb.1
@@man man/man1/integrit.1
@@bin sbin/i-viewdb
@@bin sbin/integrit
share/doc/integrit/
share/doc/integrit/README
share/doc/integrit/crontab
share/doc/integrit/install_db
share/doc/integrit/integrit_check
share/doc/integrit/viewreport
share/examples/integrit/
@@sample ${SYSCONFDIR}/integrit/
share/examples/integrit/root.conf
@@sample ${SYSCONFDIR}/integrit/root.conf
share/examples/integrit/src.conf
@@sample ${SYSCONFDIR}/integrit/src.conf
share/examples/integrit/usr.conf
@@sample ${SYSCONFDIR}/integrit/usr.conf
</pre>
<li>Der security/nessus-Port verwendet <code>@@sample dir</code>, um
private Verzeichnisse zu erstellen.
<pre>
...
sbin/uninstall-nessus
@@sample ${SYSCONFDIR}/nessus/
@@mode 0700
@@sample /var/nessus/
@@sample /var/nessus/jobs/
@@sample /var/nessus/logs/
@@sample /var/nessus/users/
@@extraunexec rm -fr %D/lib/nessus/plugins/*
@@extraunexec rm -fr %D/nessus
@@extraunexec rm -fr /var/nessus
</pre>
<li>Der sysutils/nut-Port verwendet einen spezifischen Besitzer (owner)
für seine Konfigurationsdateien.
<pre>
@@comment $OpenBSD: config.html,v 1.3 2010/07/18 06:24:17 lum Exp $
@@conflict upsd-*
@@newuser ${NUT_USER}:${NUT_ID}:::UPS User:/var/empty:/sbin/nologin
...
share/examples/nut/
@@sample ${SYSCONFDIR}/nut/
@@owner ${NUT_USER}
share/examples/nut/ups.conf
@@sample ${SYSCONFDIR}/nut/ups.conf
share/examples/nut/upsd.conf
@@mode 600
@@sample ${SYSCONFDIR}/nut/upsd.conf
@@mode
share/examples/nut/upsd.users
@@mode 600
@@sample ${SYSCONFDIR}/nut/upsd.users
@@mode
share/examples/nut/upsmon.conf
@@mode 600
@@sample ${SYSCONFDIR}/nut/upsmon.conf
@@mode
share/examples/nut/upssched.conf
@@sample ${SYSCONFDIR}/nut/upssched.conf
@@mode 700
@@sample /var/db/nut/
@@mode
@@owner
share/ups/
share/ups/cmdvartab
share/ups/driver.list
</pre>
</ul>
d25 1
a25 1
  <a href="../../de/index.html"><img height=24 width=24 src=../../back.gif border=0 alt=OpenBSD></a>
d27 2
a28 1
<br><small>
d30 2
a31 2
Originally [OpenBSD: config.html,v 1.3 ]<br>
$Translation: config.html,v 1.9 2011/11/27 09:22:47 tobias Exp $<br>
@


1.7
log
@sync with Steelix CVS
@
text
@d93 2
a94 2
@@comment $OpenBSD: config.html,v 1.2 2008/03/15 10:36:25 sthen Exp $
bin/i-ls
d99 2
a100 2
sbin/i-viewdb
sbin/integrit
d134 1
a134 1
@@comment $OpenBSD: config.html,v 1.2 2008/03/15 10:36:25 sthen Exp $
d165 1
d171 2
a172 2
Originally [OpenBSD: config.html,v 1.2 ]<br>
$Translation: config.html,v 1.8 2008/03/18 10:33:11 simon Exp $<br>
@


1.6
log
@Sync with Steelix CVS
@
text
@d40 1
a40 1
in dem die Konfigurationsdatei belassen werden sollte.
d93 1
a93 1
@@comment $OpenBSD: config.html,v 1.1 2004/11/27 15:10:35 espie Exp $
d134 1
a134 1
@@comment $OpenBSD: config.html,v 1.1 2004/11/27 15:10:35 espie Exp $
d170 2
a171 2
Originally [OpenBSD: config.html,v 1.1 ]<br>
$Translation: config.html,v 1.7 2007/11/03 10:45:52 paldium Exp $<br>
@


1.5
log
@Sync with steelix translation CVS
@
text
@d24 1
a24 1
PREFIX und SYSCONFDIR sind größenteils Benutzereinstellungen, die die
d32 1
a32 1
<li>Während der Scheininstalation sollte der Port eine
d68 1
a68 1
man diese erstellt, so dass sie beim ersten Mal geschrieben werden
d171 1
a171 1
$Translation: config.html,v 1.5 2007/04/25 15:41:16 paldium Exp $<br>
@


1.4
log
@sync with steelix translation CVS
@
text
@d13 1
a13 1
<img height="30" width="141" src="../../images/smalltitle.gif" alt="[OpenBSD]"> 
d166 1
a166 1
  <a href="../../de/index.html"><img height=24 width=24 src=../../back.gif border=0 alt=OpenBSD></a> 
d171 1
a171 1
$Translation: config.html,v 1.4 2007/02/10 14:16:56 paldium Exp $<br>
@


1.3
log
@sync with steelix translation CVS
@
text
@d166 1
a166 1
  <a href="../../index.html"><img height=24 width=24 src=../../back.gif border=0 alt=OpenBSD></a> 
d171 1
a171 1
$Translation: config.html,v 1.3 2006/04/24 17:44:33 paldium Exp $<br>
@


1.2
log
@sync with Steelix CVS
@
text
@a3 1
<meta http-equiv="Content-Language" content="de">
d6 1
a6 1
<meta name="description" content="Portiererhandbuch: autoconf">
d9 1
a9 1
<meta name="copyright" content="Dieses Dokument unterliegt dem Copyright von OpenBSD 2004.">
d170 2
a171 2
Originally [OpenBSD: config.html,v 1.1 ]
$Translation: config.html,v 1.2 2005/09/14 16:16:41 paldium Exp $
@


1.1
log
@Sync with Steelix CVS
@
text
@d4 1
a5 1
<meta http-equiv="Content-Language" content="de">
d10 1
a10 1
<meta name="copyright" content="This document copyright 2004 by OpenBSD.">
d172 1
a172 1
$Translation: config.html,v 1.1 2005/02/03 14:18:36 paldium Exp $
@

