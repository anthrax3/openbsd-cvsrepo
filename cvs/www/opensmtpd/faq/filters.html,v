head	1.10;
access;
symbols;
locks; strict;
comment	@# @;


1.10
date	2017.06.26.17.18.58;	author tb;	state Exp;
branches;
next	1.9;
commitid	jKVBuSx5No9bUpg1;

1.9
date	2016.10.31.20.52.22;	author tb;	state Exp;
branches;
next	1.8;
commitid	OcuOofjMmnFpPLCQ;

1.8
date	2016.08.15.02.22.16;	author tb;	state Exp;
branches;
next	1.7;
commitid	3DeixV5YkPOb78RN;

1.7
date	2016.04.16.18.01.15;	author tj;	state Exp;
branches;
next	1.6;
commitid	V62dvsx6POS3hIRs;

1.6
date	2016.04.15.18.22.00;	author jung;	state Exp;
branches;
next	1.5;
commitid	ijzDlnBJ1DLgotpP;

1.5
date	2016.03.29.01.27.39;	author tb;	state Exp;
branches;
next	1.4;
commitid	4Y8oU6GBrSY1UOfW;

1.4
date	2016.03.22.10.56.56;	author sthen;	state Exp;
branches;
next	1.3;
commitid	G2izHhNJ7aqR0Y6j;

1.3
date	2016.03.21.05.46.22;	author beck;	state Exp;
branches;
next	1.2;
commitid	zEx6zFkNSFFExu0v;

1.2
date	2016.02.04.19.55.43;	author jung;	state Exp;
branches;
next	1.1;
commitid	uqCrmrpHaPc7y28B;

1.1
date	2016.01.22.19.58.33;	author jung;	state Exp;
branches;
next	;
commitid	K78jHPNXkoeunobe;


desc
@@


1.10
log
@move man.openbsd.org links from http:// to https://
reduces the number of http:// links in www/ from >33k to <7k

thanks to schwarze for doing the work
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

<!-- If you make edits to any FAQ documents, please start each sentence
     on a new line, and try to keep the general formatting consistent
     with the rest of the pages -->

<title>OpenSMTPD: Filters</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="description" content="smtpd FAQ page">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../openbsd.css">
<link rel="canonical" href="https://www.opensmtpd.org/faq/filters.html">
</head>
<!--
Copyright (c) 2012 Gilles Chehade <gilles@@openbsd.org>
Copyright (c) 2012 Robert Peichaer <rpe@@openbsd.org>
Copyright (c) 2016 Joerg Jung <jung@@openbsd.org>
Copyright (c) 2016 T.J. Townsend <tj@@openbsd.org>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor="#ffffff" text="#000000">

<h2>
<a href="https://www.opensmtpd.org">
<font color="#0000ff"><i>Open</i></font><font color="#000084">SMTPD</font></a>
<font color="#e00000">Filters</font>
<small>
<a href="index.html" style="font-weight:normal; float:right">[FAQ Index]</a>
</small>
</h2>
<hr>

<ul>
<li><a href="#intro"  >Introduction</a>
<li><a href="#filters">Filter Options</a>
<li><a href="#example">Filter Example</a>
</ul>
<hr>

<h2 id="intro">Introduction</h2>

Filters are still considered an experimental feature.
However, additional filter programs can be installed using the
<a href="https://www.openbsd.org/faq/faq15.html">package system</a>:

<blockquote><pre>
<strong># export PKG_PATH=http://your.local.mirror/pub/OpenBSD/%c/packages/%a</strong>
<strong># pkg_add opensmtpd-extras</strong>
</pre></blockquote>

<h2 id="certs">Filter Options</h2>

The following advanced options can be specified in the
<a href="https://man.openbsd.org/smtpd">smtpd(8)</a> configuration file to
set up filters.

<dl>
<dt>
<tt><strong>filter</strong> <em>name</em> <em>filter</em> [<em>arguments</em>]</tt>
<dd>
Specify a filter with the given name and the program filter using the given
filter arguments.
Filters are used to hook into the SMTP dialog and provide additional
options for <a href="https://man.openbsd.org/smtpd">smtpd(8)</a>.

<p>
<dt>
<tt><strong>filter</strong> <em>name</em> <strong>chain</strong> <em>filter</em> ...</tt>
<dd>
Specify a filter chain with the given name and filters.
</dl>

<h2 id="example">Filter Example</h2>
The following example shows the usage of the pause filter:

<blockquote><pre>
# filter-pause setup
filter delay pause

# listen ports setup
listen on lo0
listen on egress port 25 filter delay
</pre></blockquote>

<p>
</body>
</html>
@


1.9
log
@Add canonical links.

verified by & ok tj
@
text
@d69 1
a69 1
<a href="http://man.openbsd.org/smtpd">smtpd(8)</a> configuration file to
d79 1
a79 1
options for <a href="http://man.openbsd.org/smtpd">smtpd(8)</a>.
@


1.8
log
@tls on openbsd.org is now real:
- link to https://www.openbsd.org from the sub-projects' pages
- make internal links relative
- switch link rel=canonical to https to please some search engines
"go ahead" from beck, "do it!!!!" tj
@
text
@d14 1
@


1.7
log
@use shortened man page links and sync formatting with the main faq.

ok jung
@
text
@d58 1
a58 1
<a href="http://www.openbsd.org/faq/faq15.html">package system</a>:
@


1.6
log
@sync from smtpd.conf(5), arguments to "chain" are space separated
@
text
@d4 6
a9 1
<title>smtpd: Filters</title>
d36 1
a36 5
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->
<!-- =============================================================== -->
<!-- XXX: for now, link to the (external) OpenSMTPD website          -->
<!-- =============================================================== -->
d41 3
a45 5
<p>
<a href="index.html">[FAQ Index]</a>
<a href="certificates.html">[Previous: Certificates]</a>
<a href="example1.html">[Next: Building an smtpd Mail Server]</a>
<p>
a46 1
<h3>Table of Contents</h3>
d48 1
a48 1
<li><a href="#intro">Introduction</a>
d55 3
a57 2
Filters are still considered an experimental feature.  However,
additional filter programs can be installed using the
d59 1
d66 1
d68 2
a69 2
<a href="http://man.openbsd.org/?query=smtpd&amp;sec=8">smtpd(8)</a>
configuration file to set up filters.
d75 4
a78 4
Specify a filter with the given name and the program filter
using the given filter arguments.  Filters are used to hook into the
SMTP dialog and provide additional filtering options for
<a href="http://man.openbsd.org/?query=smtpd&amp;sec=8">smtpd(8)</a>.
d89 1
a98 1
<hr>
a99 4
[<a href="certificates.html">Previous: Certificates</a>]
[<a href="index.html">Contents</a>]
[<a href="example1.html">Next: Building an smtpd Mail Server</a>]

@


1.5
log
@new openbsd faq style. joint with tj and validator.w3.org
@
text
@d81 1
a81 1
<tt><strong>filter</strong> <em>name</em> <strong>chain</strong> <em>filter</em> [, ...]</tt>
@


1.4
log
@fix URIs, the / before querystring is not optional,
if not fixed up by browsers the server returns 400 Bad Request.
@
text
@d7 2
d36 10
a45 3
<a href="http://www.opensmtpd.org/">
<img alt="[OpenSMTPD]" height="30" width="160" src="../../images/smalltitle.jpg" border="0">
</a>
a46 3
[<a href="certificates.html">Previous: Certificates</a>]
[<a href="index.html">Contents</a>]
[<a href="example1.html">Next: Building an smtpd Mail Server</a>]
a47 3
<h1><font color="#e00000">smtpd: Filters</font></h1>

<hr>
@


1.3
log
@change http://www.openbsd.org/cgi-bin/man.cgi to be http://man.openbsd.org
this points stuff to the new place and gets us ready to deprecate the old
place we did this.
@
text
@d64 1
a64 1
<a href="http://man.openbsd.org?query=smtpd&amp;sec=8">smtpd(8)</a>
d74 1
a74 1
<a href="http://man.openbsd.org?query=smtpd&amp;sec=8">smtpd(8)</a>.
@


1.2
log
@fix listen directive in examples

noticed by Steve Conrad
@
text
@d64 1
a64 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&amp;sec=8">smtpd(8)</a>
d74 1
a74 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=smtpd&amp;sec=8">smtpd(8)</a>.
@


1.1
log
@overhaul of the smtpd faq/guide bringing this outdated section to a recent
state, now also including a complete example (similar to the PF guide)

with a lot of input from tj and various tweaks from millert

ok tj gilles millert ("you should probably just commit this")
@
text
@d91 1
a91 1
listen on all port 25 filter delay
@

