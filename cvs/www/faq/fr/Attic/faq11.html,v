head	1.62;
access;
symbols;
locks; strict;
comment	@# @;


1.62
date	2014.04.01.17.03.09;	author nick;	state dead;
branches;
next	1.61;

1.61
date	2013.11.01.18.04.04;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2013.05.09.13.43.01;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2012.11.08.08.49.02;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2012.05.26.08.43.41;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2012.05.03.12.50.11;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2012.04.14.07.25.46;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2011.12.28.13.38.30;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2011.12.17.21.32.33;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2011.11.13.08.11.46;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2011.06.18.13.40.11;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2010.11.09.08.15.20;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2010.06.19.07.38.08;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2010.05.30.15.55.53;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2010.05.24.18.32.44;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2010.05.23.16.20.39;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2010.05.16.20.33.43;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2010.02.09.07.54.03;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2009.10.20.20.44.41;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2009.10.11.20.35.03;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2009.05.01.13.16.22;	author tobias;	state Exp;
branches;
next	1.41;

1.41
date	2009.02.24.10.23.34;	author tobias;	state Exp;
branches;
next	1.40;

1.40
date	2009.02.22.20.35.20;	author tobias;	state Exp;
branches;
next	1.39;

1.39
date	2008.12.01.07.52.52;	author tobias;	state Exp;
branches;
next	1.38;

1.38
date	2008.07.13.18.21.56;	author tobias;	state Exp;
branches;
next	1.37;

1.37
date	2008.04.28.08.25.41;	author tobias;	state Exp;
branches;
next	1.36;

1.36
date	2008.03.31.20.01.44;	author tobias;	state Exp;
branches;
next	1.35;

1.35
date	2008.02.02.17.34.39;	author saad;	state Exp;
branches;
next	1.34;

1.34
date	2008.01.27.20.00.53;	author saad;	state Exp;
branches;
next	1.33;

1.33
date	2007.02.18.23.01.09;	author saad;	state Exp;
branches;
next	1.32;

1.32
date	2007.02.09.05.15.24;	author saad;	state Exp;
branches;
next	1.31;

1.31
date	2007.02.06.06.04.56;	author saad;	state Exp;
branches;
next	1.30;

1.30
date	2007.02.04.08.19.55;	author saad;	state Exp;
branches;
next	1.29;

1.29
date	2007.01.06.02.47.25;	author saad;	state Exp;
branches;
next	1.28;

1.28
date	2006.11.03.14.23.31;	author jufi;	state Exp;
branches;
next	1.27;

1.27
date	2006.09.08.20.49.53;	author saad;	state Exp;
branches;
next	1.26;

1.26
date	2006.09.07.22.06.56;	author saad;	state Exp;
branches;
next	1.25;

1.25
date	2006.04.06.17.23.11;	author jufi;	state Exp;
branches;
next	1.24;

1.24
date	2006.02.27.21.23.27;	author saad;	state Exp;
branches;
next	1.23;

1.23
date	2006.02.09.21.11.55;	author jufi;	state Exp;
branches;
next	1.22;

1.22
date	2005.07.11.17.26.46;	author saad;	state Exp;
branches;
next	1.21;

1.21
date	2005.05.22.17.38.06;	author saad;	state Exp;
branches;
next	1.20;

1.20
date	2005.02.13.17.40.34;	author saad;	state Exp;
branches;
next	1.19;

1.19
date	2005.01.18.09.54.29;	author jufi;	state Exp;
branches;
next	1.18;

1.18
date	2004.11.21.11.10.49;	author jufi;	state Exp;
branches;
next	1.17;

1.17
date	2004.11.07.13.21.11;	author saad;	state Exp;
branches;
next	1.16;

1.16
date	2004.10.25.12.38.57;	author jufi;	state Exp;
branches;
next	1.15;

1.15
date	2004.08.18.16.29.06;	author jufi;	state Exp;
branches;
next	1.14;

1.14
date	2004.08.02.20.24.27;	author saad;	state Exp;
branches;
next	1.13;

1.13
date	2004.06.01.18.59.57;	author jufi;	state Exp;
branches;
next	1.12;

1.12
date	2004.05.20.09.58.51;	author jufi;	state Exp;
branches;
next	1.11;

1.11
date	2004.04.23.06.30.59;	author jufi;	state Exp;
branches;
next	1.10;

1.10
date	2004.02.15.17.57.54;	author jufi;	state Exp;
branches;
next	1.9;

1.9
date	2004.01.03.19.44.35;	author jufi;	state Exp;
branches;
next	1.8;

1.8
date	2003.11.05.11.17.46;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2003.10.20.17.46.59;	author horacio;	state Exp;
branches;
next	1.6;

1.6
date	2003.09.13.17.12.57;	author horacio;	state Exp;
branches;
next	1.5;

1.5
date	2003.09.10.08.31.32;	author horacio;	state Exp;
branches;
next	1.4;

1.4
date	2003.06.27.21.04.29;	author jufi;	state Exp;
branches;
next	1.3;

1.3
date	2003.06.21.12.19.07;	author jufi;	state Exp;
branches;
next	1.2;

1.2
date	2003.05.12.19.07.12;	author jufi;	state Exp;
branches;
next	1.1;

1.1
date	2002.05.14.20.05.06;	author jufi;	state Exp;
branches;
next	;


desc
@@


1.62
log
@
Abandon translations, per deraadt@@ and ajacoutot@@.
Thanks to all those that did the translation work, and my appologies to
those who had to translate my writing!
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>11 - Le système X Window</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<link rev="made" href="mailto:www@@openbsd.org">
<meta name="resource-type" content="document">
<meta name="description" content="OpenBSD FAQ 11 - The X Window System">
<meta name="keywords" content="openbsd,faq11">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1998-2013 by OpenBSD.">
</head>

<body bgcolor="#ffffff" text="#000000">

<a href="../../fr/index.html">
<img alt="[OpenBSD]" src="../../images/smalltitle.gif" border="0" height="30" width="141"> 
</a>
<p>
<font color="#0000e0">
<a href= "index.html">[Index de La FAQ]</a>
<a href= "faq10.html">[Section 10 - Gestion du Système]</a>
<a href= "faq12.html">[Section 12 - Questions Spécifiques Aux
Plates-Formes Et Au Matériel]</a>
</font>

<h1><font color="#e00000">11 - Le système X Window</font></h1>
<!-- UNCOMMENT ONLY WHEN THE FILE IS OUT OF SYNC

<hr>
<p>
<b><font color="#e00000">Remarque Importante :</font></b> Le contenu de
   ce fichier est obsolète. Consultez la version anglaise 
   <a href="../faq11.html">ici</a> pour des informations à jour.

<p>
Si vous souhaitez contribuez à l'effort de traduction,
prière de consulter
<a href="../../fr/translation.html">la page de traduction</a>.

-->
<hr>

<p>
<h3>Table des matières</h3>
<ul>
<li><a href="#Intro">11.1 - Introduction à X</a>
<li><a href="#ConfigX">11.2 - Configurer X</a>
<li><a href="#amd64i386">11.3 - Configurer X sur amd64 et i386</a>
<li><a href="#StartingX">11.4 - Démarrer X</a>
<li><a href="#CustomizingX">11.5 - Personnaliser X</a>
</li>
</ul>

<hr>

<p>
<a name="Intro"></a>
<h2>11.1 - Introduction à X</h2>

Le système X Window (parfois dénommé simplement "X" ou, incorrectement
"X Windows") est l'environnement qui fournit les services graphiques à
OpenBSD et les autres systèmes de type Unix.
Cependant, seul, X n'apporte que très peu de fonctionnalités : il faut
également avoir un gestionnaire de fenêtres afin d'offrir une interface
utilisateur.
La plupart de ce que l'on percevra de X viendra du gestionnaire de
fenêtres et non de X lui-même.
OpenBSD fournit une version libre des gestionnaires de fenêtres
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fvwm&amp;sektion=1">fvwm(1)</a>
et 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&amp;sektion=1">cwm(1)</a>,
bien que vous puissiez utiliser également un des autres gestionnaires
présents dans les <a href="../fr/faq15.html">paquetages</a>.
Effectuez une recherche avec le mot-clé "<tt>window manager</tt>" afin
d'obtenir une liste des gestionnaires de fenêtres disponibles.

<p>
X est considéré comme un protocole fonctionnant sur le mode
"client-server" mais cette terminologie peut parfois prêter à confusion.
L'ordinateur avec l'affichage graphique à l'écran est le "serveur X".
L'application qui définit ce que le serveur X doit afficher à l'écran est
le "client X" même s'il s'agit d'une machine bien plus puissante dans
un centre d'hébergement.
Ce modèle peut être utilisé afin d'avoir des applications gourmandes en
ressources processeur (clients X) tournant sur une machine très
puissante mais utilisant un serveur X tournant sur une petite machine de
faible puissance sur votre bureau pour afficher leurs interfaces.

<p>
Il est possible de faire tourner des clients X sur un système sans
support graphique.
Ainsi, on pourrait avoir une application (le client X) tournant sur un
mvme88k et affichant son interface sur un alpha (le serveur X).
Puisque X est un protocole bien défini et multiplate-forme il est même
possible d'avoir une application X tournant (par exemple) sur une
machine Solaris et utiliser une machine OpenBSD pour l'afficher.

<p>
Le client et le serveur peuvent également tourner sur la même machine et
pour la majorité de cette documentation, c'est ce que nous supposerons.

<h3>11.1.1 - Quelle puissance d'ordinateur est nécessaire pour faire
tourner X ?</h3>
X en lui-même est un programme très lourd et un ordinateur rapide sera
idéal si vous le lancez et l'arrêtez régulièrement.
Cependant, une fois démarré, il reste très réactif même sur une machine
modeste.
Afin d'avoir une meilleure réactivité sur certaines plates-formes même si
vous ne travaillez qu'avec du texte, il vous sera nécessaire de faire
tourner X.
Ces plates-formes, telles que <a href="../../fr/sparc.html">sparc</a> et
<a href="../../fr/sparc64.html">sparc64</a> ont été prévues pour
fonctionner avec une interface graphique, et le mode console est très
lent.

<p>
Ceci dit, l'utilité de faire tourner X est généralement d'utiliser des
applications X.
Certaines de ces applications sont très peu gourmandes, d'autres vous
sembleront utiliser tout le processeur et la RAM que vous leur
octroierez.
Évidemment, certains utilisateurs n'utilisent X qu'afin de bénéficier de
nombreux
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xterm&amp;sektion=1">xterm(1)</a>s,
ce qui reste possible même sur du matériel modeste.

<h3>11.1.2 - Puis-je bénéficier d'une interface graphique sans X ?</h3>
Si l'on considère que les
<a href="http://en.wikipedia.org/wiki/ASCII_Art">graphiques ASCII</a>
ne sont pas satisfaisants, cela nécessiterait un pilote framebuffer pour
console.
Quelques systèmes d'exploitation offrent un tel pilote ce qui n'est pas
le cas pour OpenBSD et il n'y a pas vraiment d'intérêt pour cela parmi
les développeurs.

<p>
<a name="ConfigX"></a>
<h2>11.2 - Configurer X</h2>
<b>Bonne nouvelle :  Dans la vaste majorité des matériels de la plupart des
plates-formes, X ne requiert pas de configuration du tout, il fonctionne sans
rien faire.</b>

<p>
Le détail de la configuration détaillée de X varie considérablement d'une plate-forme à l'autre.
Dans tous les cas, il y aura des instructions et des informations
propres à la plate-forme dans le fichier <tt>/usr/X11R6/README</tt> du
système sur lequel il est installé.

<p>
Plusieurs plates-formes requièrent le pilote d'aperture
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86&amp;sektion=4">xf86(4)</a>
qui offre un accès à la mémoire et aux ports d'entrée/sortie de la carte
VGA ainsi qu'aux registres de configuration PCI nécessaires.
Ce pilote doit être activé avant d'être utilisé soit en répondant "yes"
à la question suivante posée durant l'installation du système :

<blockquote><pre>
Do you expect to run the X window System [no]
</pre></blockquote>

soit en changeant la valeur de <tt>machdep.allowaperture</tt> en une
valeur non nulle appropriée à votre plate-forme dans le fichier
<tt>/etc/sysctl.conf</tt> et en redémarrant la machine (pour raisons de
sécurité, cette valeur sysctl ne peut pas être changée après le
lancement de la machine).
Il existe des conséquences sur la sécurité, ne le faites pas si vous
n'en avez pas vraiment besoin.


<h3>11.2.1 - alpha</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/xenocara/distrib/notes/README.alpha"
>/usr/X11R6/README</a> pour alpha.

<p>
Mettez <tt>machdep.allowaperture=1</tt> dans <tt>/etc/sysctl.conf</tt>.

<p>
Les cartes TGA ainsi que certaines VGA sont supportées. Aucune
configuration supplémentaire ne devrait être nécessaire.

<h3>11.2.2 - amd64</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/xenocara/distrib/notes/README.amd64"
>/usr/X11R6/README</a> pour amd64.

<p>
Mettez <tt>machdep.allowaperture=2</tt> dans <tt>/etc/sysctl.conf</tt>.

<p>
Pour la vaste majorité des utilisateurs, X sous amd64 se configure automatiquement
avec succès, aucune manipulation supplémentaire ne devrait être nécessaire.
Si une configuration spécifique est nécessaire, utilisez la procédure
<a href="#amd64i386">X&nbsp;-configure</a> comme expliquée
<a href="#amd64i386example">plus bas</a>.

<h3>11.2.3 - armish</h3>
Pas de serveur X, seulement des clients.

<h3>11.2.4 - hp300</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/xenocara/distrib/notes/README.hp300"
>/usr/X11R6/README</a> pour hp300.

<h3>11.2.5 - hppa</h3>
Pas de serveur X, seulement des clients.

<h3>11.2.6 - i386</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/xenocara/distrib/notes/README.i386"
>/usr/X11R6/README</a> pour i386.

<p>
Mettez <tt>machdep.allowaperture=2</tt> dans <tt>/etc/sysctl.conf</tt>.

<p>
Pour la vaste majorité des utilisateurs, X sous i386 se configure
automatiquement avec succès, aucune manipulation supplémentaire ne devrait être
nécessaire.
Si une configuration spécifique est nécessaire, utilisez la procédure
<a href="#amd64i386">X&nbsp;-configure</a> comme expliquée
<a href="#amd64i386example">plus bas</a>.

<h3>11.2.7 - landisk</h3>
Pas de serveur X, seulement les clients.

<h3>11.2.8 - loongson</h3>
Pas besoin de configuration.

<h3>11.2.9 - luna88k</h3>
Pas de serveur X, seulement les clients.

<h3>11.2.10 - macppc</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/xenocara/distrib/notes/README.macppc"
>/usr/X11R6/README</a> pour macppc.

<p>
Mettez <tt>machdep.allowaperture=2</tt> dans <tt>/etc/sysctl.conf</tt>.

<p>
Les systèmes PPC Macintosh peuvent fonctionner sous deux modes
différents : "accéléré" et "framebuffer" (non accéléré).

<p>
En mode "framebuffer", le système tournera avec 8 bits par pixel et la
résolution vidéo sera contrôlée par l'environnement Macintosh, vous
devrez donc garder une petite partition sous MacOS sur votre disque afin
de pouvoir changer la configuration.
Ce mode à l'avantage de "fonctionner tout simplement" mais il peut
apparaître comme statique et frustrant (par exemple, changer la
résolution peut demander un redémarrage sous MacOS).

<p>
Si votre Macintosh possède un système vidéo basé sur de l'ATI il peut
tourner en mode X accéléré ce qui offre de meilleures performances et
plus de contrôle sous l'environnement OpenBSD.
Les cartes vidéo NVIDIA présentes dans certains systèmes macppc
devraient également fonctionner dans la plupart des cas.
Le fichier README contient des détails sur la configuration du pilote
accéléré, basez-vous sur l'exemple qu'il fournit.

<p>
Bien que le fichier README contienne des détails pour utiliser une
souris Apple standard à un bouton sous X, à moins d'utiliser un
portable, il vous est vivement recommandé d'acheter une souris tierce
plus moderne avec trois ou plus de boutons.

<h4>iMacs CRT et X</h4>
Les iMacs ont très rarement un CRT (de nos jours), en ce sens qu'il a un
balayage de fréquence horizontale fixe.
La tentative d'utilisation d'un balayage horizontal de vitesse en dehors d'une
fourchette très étroite fera que le moniteur ne s'allume pas.
Les lignes suivantes, ajoutées à xorg.conf dans la <tt>Section
"Monitor"</tt> semblent faire que beaucoup d'iMacs CRT dans la plage 333MHz
à 500MHz (et probablement plus !) fonctionnent bien :

<blockquote><pre>
        HorizSync       60.0 - 60.0
        VertRefresh     43.0 - 117.0
</pre></blockquote>

Vous pouvez restreindre la limite inférieure de <tt>VertRefresh</tt> pour
des valeurs que vous êtes plus susceptibles de trouver acceptables, par
exemple 70.

<h3>11.2.11 - mvme68k</h3>
Pas de serveur X, seulement les clients.

<h3>11.2.12 - mvme88k</h3>
Pas de serveur X, seulement les clients.

<h3>11.2.13 - sgi</h3>
X fonctionne sur les systèmes framebuffer O2 en mode non accéléré.

<h3>11.2.14 - sparc</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/xenocara/distrib/notes/README.sparc"
>/usr/X11R6/README</a> pour sparc.

<p>
Avec un seul framebuffer supporté il n'y a pas besoin de configuration.
Si vous souhaitez utiliser une configuration multi-affichage, lisez le
README ci-dessous pour plus de détails.

<p>
La résolution est contrôlée par le firmware avant de démarrer OpenBSD.

<h3>11.2.15 - sparc64</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/xenocara/distrib/notes/README.sparc64"
>/usr/X11R6/README</a> pour sparc64.

<p>
La plupart des configurations simples "fonctionne" normalement.
Si la vôtre ne fonctionne pas ou si vous souhaitez obtenir de la fantaisie, consultez le
fichier README ci-dessus. 

<h3>11.2.16 - vax</h3>
Lisez
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/xenocara/distrib/notes/README.vax"
>/usr/X11R6/README</a> pour vax.

<p>
Le serveur X ne fonctionne pour l'instant que sur les modèles VAXstation
4000 en utilisant soit le framebuffer
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcg&amp;sektion=4&amp;arch=vax">lcg(4)</a>
soit le framebuffer
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcspx&amp;sektion=4&amp;arch=vax">lcspx(4)</a>.

<h3>11.2.17 - zaurus</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/xenocara/distrib/notes/README.zaurus"
>/usr/X11R6/README</a> pour zaurus.

<p>
Pas de configuration nécessaire, X "fonctionne tout simplement".

<p>
<a name="amd64i386"></a>
<h2>11.3 - Configurer X sur amd64 et i386</h2>
Si vous n'avez pas essayé <a href="#StartingX">juste le démarrage de X</a>, stop !
Ne travaillez pas si vous n'en avez pas besoin !
La plupart des utilisateurs i386 et amd64 trouveront que X fonctionne sans
aucune configuration manuelle.

<h3>11.3.1 - Configuration de X.Org</h3>
Parfois, X ne "fonctionne pas simplement" comme désiré, et parfois,
vous aurez besoin de configurer quelque chose qui ne fonctionne pas.

<p>
Si X ne fonctionne pas comme désiré avec votre système, vous devrez créer un
fichier de configuration.
Un bon endroit pour démarrer (et quelquefois le seul bon endroit !) est d'exécuter
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=Xorg&amp;sektion=1">Xorg(1)</a>
lancé avec le mode "X -configure". Cela chargera tous les pilotes
disponibles, détectera le matériel et se basant sur ce qu'il trouve,
écrira un fichier xorg.conf qui pourra ou non fonctionner.
Même s'il ne fonctionne pas il représentera un bon point de départ à la
création d'une configuration qui fonctionnera comme souhaité.

<p>
Une autre façon de configurer X mais qui
demande du temps est d'utiliser votre moteur de recherche favori afin de
trouver quelqu'un d'autre qui aurait rencontré et résolu votre problème.
Il faut remarquer que les fichiers <tt>xorg.conf</tt> des autres OS
Unix-like fourniront souvent une aide très utile dans la manière de faire
fonctionner X sur un matériel similaire.
Bien que cette méthode ne soit pas mauvaise, nous ne nous y attarderons
pas plus.

<p>
<a name="amd64i386example"></a>
<h3>11.3.2 - Notre machine d'exemple</h3>
Pour une démonstration de configuration X, nous utiliserons un vieux
système équipé d'un Celeron 400MHz et d'un port AGP.
La carte vidéo sera une ancienne carte AGP visible dans le dmesg à la
ligne :

<blockquote><pre>
vga1 at pci1 dev 0 function 0 "3DFX Interactive Banshee" rev 0x03
</pre></blockquote>

Il s'agit d'une ancienne carte haut-de-gamme qui n'est à présent plus
vraiment supportée par les nouvelles versions des systèmes
d'exploitation "principaux".
L'écran relié au système est un moniteur CRT "Sony Multiscan G400 19" et
il serait plaisant de pouvoir afficher une résolution de 1280x1024 sur
celui-ci avec une fréquence de rafraîchissement décente et des couleurs
24 bit.

<p>
En premier lieu, après avoir installé OpenBSD avec X (et être certain
que le pilote d'aperture est activé dans le noyau), voyons ce que la
détection et la configuration automatique de X.Org nous propose, après
tout nous pourrions être chanceux.
Nous allons nous identifier puis utiliserons donc la commande
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=startx&amp;sektion=1">startx(1)</a>.
L'écran devient blanc quelques secondes puis nous obtenons le fond
d'écran en "échiquier" de X, le curseur X et enfin une fenêtre xterm.

<p>
Ça marche !

<p>
Plus ou moins.
Bien que le système soit pleinement fonctionnel, il ne paraît pas avoir
détecté une quelconque des fonctionnalités de l'écran et tourne à très
basse résolution (640x480).
Nous espérons pouvoir faire mieux que cela.
Bien mieux en fait.
Cependant, cela signifie que nous aurons besoin de créer notre propre
fichier de configuration xorg.conf.

<p>
Servons-nous de la commande "X -configure" afin de créer un fichier
<tt>xorg.conf</tt> de base.
Vous devrez lancer la commande suivante en tant qu'utilisateur root :
<blockquote><pre>
# <b>X -configure</b>
 [...]
Your xorg.conf file is /root/xorg.conf.new

To test the server, run 'X -config /root/xorg.conf.new'
</pre></blockquote>

Au fait, ce message est sérieux ; utilisez le chemin complet vers votre
fichier <tt>xorg.conf.new</tt> même s'il repose dans votre répertoire
actuel par défaut.
Sinon,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=X&amp;sektion=7">X(7)</a>
ne trouvera pas le fichier et il utilisera la configuration par défaut,
et si cela a fonctionné, vous ne devrez pas utiliser ce processus !
Cela permettra de vous éviter de déboguer le pourquoi cela ne fonctionne
pas.
Faites-nous confiance là-dessus.


<p>
Donc, faisons comme il dit et voyons ce que nous obtenons :
<blockquote><pre>
# <b>X -config /root/xorg.conf.new</b>
</pre></blockquote>

À présent, tout ce que nous avons est un écran noir.
Les choses avaient pourtant si bien commencé...

<p>
Le moment est peut-être venu de vous parler des différentes manières de
sortir de X lorsqu'il démarre de cette façon.
Par ordre de préférence :
<ul>
<li><b>CTRL-ALT-Backspace</b> : cette combinaison devrait à priori
terminer X ainsi que toutes les applications X immédiatement. Bien
entendu, durant la procédure de configuration vous n'avez aucune
application qui tourne et donc, ce n'est pas un problème (et en fait,
actuellement, il s'agit de votre <i>meilleur</i> moyen de sortir de X).
<li>Connectez-vous en <b>SSH vers votre machine</b>, et tapez 
"<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkill&amp;sektion=1">pkill</a>
Xorg", ce qui devrait terminer X et vous ramener sur une console
utilisable.
<li>Connectez-vous en <b>SSH vers votre machine</b>, et redémarrez-la.
<li><b>Reset du bouton d'alimentation.</b> Parfois, les choses se
passent vraiment mal.
Oui, il est généralement important de configurer X avant de charger des
applications critiques dans le système.
Parfois une mauvaise configuration de X fera planter totalement la
machine au point que seul un reset matériel résoudra le problème.
</ul>

Heureusement pour nous, CTRL-ALT-Backspace fonctionne bien et nous
voici revenu à l'invite de commandes.
Bien, à présent nous devons regarder si nous pouvons comprendre ce qui
s'est mal passé.
Tout d'abord, nous devrions jetez un &#156;il sur ce à quoi X s'imagine et
qui est enregistré dans le fichier <tt>/var/log/Xorg.0.log</tt>.
Dans ce cas, il semble que X pense que tout tourne bien et il n'y a pas
d'erreurs flagrantes dans le journal d'événements (les lignes
commençant par "<tt>(EE)</tt>" sont des erreurs).

<p>
Maintenant, il est utile de connaître votre matériel.
Brancher ce système sur un moniteur différent alors que l'écran noir est
toujours présent affiche le message "Sync. Out of Range" sur l'écran.
Apparemment donc, la configuration que X nous a fourni ne fonctionnera
pas sur ce moniteur et peut-être même sur AUCUN si le mode sélectionné
ne fonctionne pas avec cette carte particulière (souvenez-vous que X
détecte la puce sur la carte et ce qu'elle est potentiellement capable
de faire, pas la façon dont le fabricant a intégré tous les éléments).
Différents moniteurs réagiront différemment lorsque le rafraîchissement
est mauvais, certains tenteront tout de même d'afficher ce qu'ils
peuvent, d'autres passeront en mode de conservation d'énergie alors que
d'autres émettront d'horribles bruits ou afficheront des messages
informatifs à l'écran.
Ce moniteur ne semble rien faire de tout cela.
On notera de ne PAS utiliser cet écran pour une configuration initiale
de X dans le futur.

<p>
En jetant un &#156;il au fichier xorg.conf.new l'on peut voir ceci :
<blockquote><pre>
Section "Monitor"
        #DisplaySize      370   270     # mm
        Identifier   "Monitor0"
        VendorName   "SNY"
        ModelName    "SONY CPD-G400"
 ### Comment all HorizSync and VertSync values to use DDC:
        HorizSync    30.0 - 107.0
        VertRefresh  48.0 - 120.0
        Option      "DPMS"
EndSection
</pre></blockquote>

Pour le test, essayons d'utiliser DDC ("Data Display Channel", une façon
que possède le moniteur de renseigner l'ordinateur et la carte vidéo sur
ses capacités) et voyons ce qu'il se passe.
Cette fois, nous obtenons le maillage X et un curseur de souris mobile
ce qui est tout ce à quoi nous pouvons nous attendre lorsque nous
démarrons X de cette façon (nous quittons X en utilisant
CTRL-ALT-Backspace comme expliqué plus haut).
Cela reste (encore) dans une très basse résolution, mais cela fonctionne
ce qui signifie certainement que la résolution et la fréquence de
rafraîchissement posent problème.
Nous restaurons "HorizSync" et "VertRefresh" à leur valeur précédente
car nous avons vérifié les spécifications de ce moniteur en recherchant
sur Internet.

<p>
Essayons de forcer Xorg à une résolution spécifique et voyons si nous
avons de la chance.
Dans la partie <tt>Section "Screen"</tt> du fichier xorg.conf, nous
ajouterons deux lignes.
Celles-ci sont montrées en gras :

<blockquote><pre>
Section "Screen"
        Identifier "Screen0"
        Device     "Card0"
        Monitor    "Monitor0"
<b>        DefaultDepth   24</b>
        SubSection "Display"
                Viewport   0 0
                Depth     1
        EndSubSection
        SubSection "Display"
                Viewport   0 0
                Depth     4
        EndSubSection
        SubSection "Display"
                Viewport   0 0
                Depth     8
        EndSubSection
        SubSection "Display"
                Viewport   0 0
                Depth     15
        EndSubSection
        SubSection "Display"
                Viewport   0 0 
                Depth     16
        EndSubSection
        SubSection "Display"
                Viewport   0 0
                Depth     24
<b>                Modes	"1280x1024"</b>
        EndSubSection
EndSection
</pre></blockquote>

Ces deux changements indiquent que nous souhaitons faire tourner X à
une profondeur d'affichage de 24 bit et, pour cette profondeur,
bénéficier d'une résolution de 1280x1024.
Puisqu'aucune autre résolution n'est précisée pour le mode "Depth 24",
le système sera forcé de l'utiliser.

<p>
Nous testons nos changements et... SUCCÈS !
Nous obtenons ce qui semble être un très bel affichage en haute
résolution.
Notez bien que TOUT ce à quoi vous devez vous attendre est un maillage
X (appelé
"<a href="http://www.openbsd.org/cgi-bin/cvsweb/xenocara/data/bitmaps/root_weave">rootweave</a>",
il est parfait pour voir la qualité de votre moniteur et pour calibrer
les écrans LCD) et un curseur mobile.
À ce point, rien ne se doit d'être fonctionnel.

<p>
À présent, installons ce fichier xorg.conf afin de voir comment cela
fonctionne avec un X fonctionnel qui tourne.

<blockquote><pre>
# cp xorg.conf.new /etc/X11/xorg.conf
</pre></blockquote>

Nous pouvons maintenant utiliser la commande normale startx(1).
Ca marche !

<p>
Il serait probablement bon de vérifier que nous sommes bien à la
résolution et à la profondeur que nous désirons et que nous tournons à
une fréquence de rafraîchissement correcte.
Nous pouvons le vérifier avec les commandes
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xrandr&amp;sektion=1">xrandr(1)</a>
et 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xdpyinfo&amp;sektion=1">xdpyinfo(1)</a>.
Entre autres, xdpyinfo(1) nous dit :
<blockquote><pre>
    [...]
screen #0:
  print screen:    no
  dimensions:    1280x1024 pixels (433x347 millimeters)
  resolution:    75x75 dots per inch
  depths (7):    24, 1, 4, 8, 15, 16, 32
  root window id:    0x44
  depth of root window:    24 planes
    [...]
</pre></blockquote>

Donc oui, nous tournons bien à 1280x1024 avec une profondeur de 24
planes (bits).

<p>
xrandr(4) nous dit :
<blockquote><pre>
 SZ:    Pixels          Physical       Refresh
*0   1280 x 1024   ( 433mm x 347mm )  *85   75   60  
 1   1280 x 960    ( 433mm x 347mm )   85   60  
    [...]
</pre></blockquote>

ce qui signifie que nous tournons avec une fréquence de rafraîchissement
de 85Hz, ce qui devrait être confortable pour la plupart des
utilisateurs.


<p>
<h3>11.3.3 - Et si ce n'est pas si "facile" ?</h3>
Parfois, les choses ne vont pas de soi.
Voici quelques conseils.

<ul>
<li>Référez-vous à la page de manuel du serveur X que vous utilisez.
Dans notre exemple, nous pouvons voir dans
<tt>/var/log/Xorg.0.log</tt> que X utilise le pilote TDFX et donc notre
manuel sera
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tdfx&amp;sektion=4">tdfx(4)</a>.
Vous trouverez souvent des astuces, limitations et options pour
configurer votre carte vidéo.
Celles-ci varient selon les pilotes donc n'imaginez pas que vous n'avez
pas besoin de lire la page de manuel de votre pilote actuel sous
prétexte d'en avoir lu une différente avant.

<li>Testez des écrans différents.
Comme nous l'avons vu dans notre exemple précédent, différents moniteurs
donnent souvent des indices différents sur les problèmes que vous pouvez
rencontrer.

<li>Essayez le pilote X
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vesa&amp;sektion=4">vesa(4)</a>.
Pour des raisons de performance, il s'agit de votre "dernier choix",
mais il fonctionne avec presque toutes les cartes vidéo même celles dont
aucun des "meilleurs" pilotes pour serveur X ne fonctionne.

<li>Utilisez un autre matériel.
Si vous avez le choix du type de carte vidéo à utiliser, essayez-en
d'autres.


</ul>

<a name="StartingX"></a>
<h2>11.4 - Démarrer X</h2>
Il existe deux méthodes génériques pour démarrer X :

<h3>11.4.1 - À la demande :</h3>
Identifiez-vous sous une console en tant qu'utilisateur puis lancez
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=startx&amp;sektion=1">startx(1)</a>.

<h3>11.4.2 - Démarrer directement sous X :</h3>
Cela se fait en utilisant le gestionnaire de connexion graphique ("X
Display Manager")
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xdm&amp;sektion=1">xdm(1)</a>.
Normalement, xdm(1) est démarré en tant que root par
<a href="faq10.html#rc">rc</a> et présente un invité d'identification.
En cas d'identification correcte, il démarre une session X pour cet
utilisateur.
Si, ou lorsque cette session X doit se terminer (cela inclut
l'enchaînement CTRL-ALT-Backspace), xdm(1) réapparaîtra avec son invité
d'identification.
C'est pour cette raison que vous ne devez PAS démarrer xdm(1) à partir
du fichier <tt>/etc/rc.conf.local</tt> avant d'être certain d'avoir
vérifié que X fonctionne comme vous le souhaitez sinon votre machine
risque de devenir difficile à gérer !
(dans le pire des cas : démarrez en mode "single user" comme si vous
aviez <a href="faq8.html#LostPW">perdu votre mot de passe</a> et
commentez la ligne xdm_flags de votre fichier
<tt>/etc/rc.conf.local</tt>).

<p>
Sur certaines plates-formes, vous aurez besoin de désactiver la console
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=getty&amp;sektion=8">getty(8)</a>
pour utiliser xdm(1).

<p>
<a name="CustomizingX"></a>
<h2>11.5 - Personnaliser X</h2>

<h3>11.5.1 - Introduction</h3>

L'environnement X par défaut de OpenBSD est complètement fonctionnel, mais
vous désirez peut-être le personnaliser.
Vous pouvez avoir envie de changer l'image ou la couleur du fond d'écran, ou
vous pouvez avoir envie de changer de Gestionnaire de Fenêtres (le programme
qui définit le plus votre environnement X) ou changer les applications qui
sont démarrées quand X démarre.

<p>
Le gestionnaire de fenêtres par défaut dans OpenBSD est
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fvwm&amp;sektion=1">fvwm(1)</a>.
Fvwm est un bon gestionnaire de fenêtres généraliste, mais c'est
difficilement
votre seul choix; ce n'est même pas le seul gestionnaire de fenêtres fournit
avec OpenBSD (voir
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&amp;sektion=1">cwm(1)</a>
et
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=twm&amp;sektion=1">twm(1)</a>).
Un grand nombre de gestionnaires de fenêtres est également disponibles via
les
<a href="faq15.html">paquetages</a>.

<p>
De manière similaire au <a href="faq10.html#rc">script de démarrage
système</a>,
X possède un processus qu'il exécute pour mettre en place l'environnement de
l'utilisateur.
Plus concrètement, il possède plus d'un processus qui sont utilisés en fonction
de la façon dont vous <a href="#StartingX">démarrez X</a>.
La compréhension de la façon dont X démarre vous aidera à comprendre comment
personnaliser votre environnement de travail comme vous le désirez.

<p>
Il faut remarquer que vous pouvez personnaliser l'environnement pour tous
les utilisateurs ou par utilisateur.
Il est préférable de faire des changements au niveau utilisateur plutôt que
de changer les options du système par défaut, comme les scripts utilisateurs
sont stockés dans le répertoire home de l'utilisateur, vous aurez moins de
fichiers à fusionner quand vous mettrez à jour votre nouvelle version d'OpenBSD.

<!--XXX version -->
Les options par défaut générales du système se trouvent dans
<tt>/etc/X11</tt>
et sont chargées initialement de <a href="faq4.html#FilesNeeded">xetcXX.tgz</a>,
qui n'est pas rechargé par une <a href="../upgrade54.html">procédure de mise à
jour suggérée</a>, donc si vous faites des changements sur le système
général, ils persisteront, mais vous devrez fusionner ces changements dans les
nouvelles versions de ces fichiers.


<h3>11.5.2 - Démarrage de startx(1)</h3>
startx(1) recherche le fichier <tt>.xinitrc</tt> dans le répertoire home de
l'utilisateur.
<tt>.xinitrc</tt> est habituellement un script shell qui peut démarrer
autant
de programme "client" X (applications qui utilisent X) que désiré.
Quand le script se termine, le serveur X s'arrête aussi.
Généralement, la plupart des programmes exécutés par ce script doivent être
exécutés en tache de fond, mais le dernier doit fonctionner en avant-plan
(typiquement le gestionnaire de fenêtres); quand il se termine, le script se
terminera et X s'arrêtera.

<p>
Dans le cas le plus simple, cela peut être aussi petit que le nom du
gestionnaire de fenêtres que vous invoquez :

<blockquote><pre>
cwm
</pre></blockquote>

Ou vous pouvez y mettre un peu plus de fantaisie :

<blockquote><pre>
xconsole -geometry -0+0 -fn 5x7 &
oclock -geometry 75x75-0-0 &
xsetroot -solid grey &
cwm
</pre></blockquote>

Cela démarrera la
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xconsole&amp;sektion=1">xconsole(1)</a>
qui fournit une copie de tout le texte que le noyau peut avoir envoyé à la
console (qui est maintenant couverte par l'écran graphique), une horloge
analogique,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=oclock&amp;sektion=1">oclock(1)</a>,
et configurer le fond d'écran avec du gris via
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xsetroot&amp;sektion=1">xsetroot(1)</a>,
tout cela avant d'invoquer le gestionnaire de fenêtres
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cwm&amp;sektion=1">cwm(1)</a>.
Remarquez que seulement le gestionnaire de fenêtres n'est pas
"mis en tache de fond" avec un caractère "&amp;".
Cela signifie que X restera exécuté jusqu'à ce que cwm(1) se termine.

<p>
Si le répertoire home de l'utilisateur ne possède pas de fichier
<tt>.xinitrc</tt>,
le fichier système <tt>/etc/X11/xinit/xinitrc</tt> est utilisé.
Ce fichier peut vous fournir d'autres idées pour votre script .xinitrc.


<h3>11.5.3 - Démarrage de xdm(1)</h3>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xdm&amp;sektion=1">xdm(1)</a>
est habituellement démarré par les <a href="faq10.html#rc">scripts de démarrage
système</a>, mais pour des raisons de test (recommandé tant que vous n'avez
pas votre config X correct !), il peut être exécuté sous root.

<p>
xdm(1) possède beaucoup d'autres fonctionnalités dont nous ne parlerons pas
ici, mais pour nos besoins, xdm affichera l'utilisateur avec un écran de
connexion, récupérera et vérifiera le nom de l'utilisateur et le mot de
passe, et fournira à l'utilisateur son environnement X.
Quand X s'arrête, de façon délibérée ou accidentelle, xdm le redémarrera de
lui-même.
C'est pour cette raison que vous devez configurer correctement X avant
d'utiliser xdm(1) et avant d'avoir xdm(1) démarrer automatiquement au
démarrage de la machine, autrement, vous aurez des difficultés à prendre le
contrôle de la machine.

<p>
Quand xdm(1) démarre, il exécute <tt>/etc/X11/xdm/Xsession</tt>, qui
vérifiera si l'utilisateur possède un fichier <tt>.xsession</tt> dans son
répertoire home.
Mais, si vous désirez changer votre gestionnaire de fenêtres par défaut,
invoquez-le simplement (et peut-être d'autres choses) dans
<tt>.xsession</tt>.
Encore un fois, tous les programmes que vous désirez démarrer avec X (par
exemple, peut-être que trois xterm(1)s peuvent être placés ici, mais ils
doivent tous être en tache de fond excepté votre gestionnaire de fenêtre,
qui encore une fois, quand il se terminera, terminera votre session X.
Dans ce cas, xdm(1) redémarrera X et retournera à l'écran de connexion.

<h3>11.5.4 - Essayer un nouveau gestionnaire de fenêtre</h3>
Vous pouvez invoquer un gestionnaire de fenêtre particulier quand vous
démarrer X sans altérer les paramètres par défaut comme ceci :

<blockquote><pre>
$ startx /usr/local/bin/fluxbox
</pre></blockquote>

Plusieurs gestionnaires de fenêtres (incluant cwm(1) et fvwm(1)) offrent la
possibilité de changer de gestionnaire de fenêtres à la volée, sans
redémarrer X ou vos applications.
Votre nouveau gestionnaire de fenêtres remplace le précédent; quitter le
nouveau gestionnaire de fenêtres terminera X, il ne retournera pas à votre
précédent gestionnaire de fenêtres.
fvwm(1) vous permet de démarrer un gestionnaire de fenêtres différent en
cliquant à gauche sur le fond d'écran ("root window"), choisir "(Re)Start",
puis sélectionner votre gestionnaire de fenêtre préféré (cependant, il faut
remarquer que vous devez ajouter votre gestionnaire de fenêtres alternatif à
votre fichier <tt>.fvwmrc</tt> (celui par défaut pour le système est
<tt>/usr/X11R6/lib/X11/fvwm/.fvwmrc</tt>)).
cwm(1) vous permet d'invoquer un autre gestionnaire de fenêtre en tapant
Ctrl-Alt-w puis en sélectionnant le gestionnaire dans lequel vous voulez
aller.

<p>
Dès que vous avez trouvé un gestionnaire de fenêtre que vous aimez, vous
pouvez le configurer comme le programme final exécuté par vos scripts
de démarrage comme décrit ci-dessus.


<p>
<font color= "#0000e0">
<a href= "index.html">[Index de La FAQ]</a>
<a href= "faq10.html">[Section 10 - Gestion du Système]</a>
<a href= "faq12.html">[Section 12 - Questions Spécifiques Aux
Plates-Formes Et Au Matériel]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq11.html,v 1.97 ]<br>
$Translation: faq11.html,v 1.68 2013/11/01 16:50:38 rustybsd Exp $<br>
-->
$OpenBSD: faq11.html,v 1.61 2013/11/01 18:04:04 ajacoutot Exp $
</small>

</body>
</html>
@


1.61
log
@Sync with Steelix CVS
@
text
@d878 1
a878 1
$OpenBSD$
@


1.60
log
@Sync with Steelix CVS
@
text
@d743 1
a743 1
qui n'est pas rechargé par une <a href="../upgrade53.html">procédure de mise à
d875 2
a876 2
Originally [OpenBSD: faq11.html,v 1.96 ]<br>
$Translation: faq11.html,v 1.67 2013/05/09 08:13:31 rustybsd Exp $<br>
@


1.59
log
@Sync with Steelix CVS
@
text
@d9 1
a9 1
<meta name="copyright" content="This document copyright 1998-2012 by OpenBSD.">
d743 1
a743 1
qui n'est pas rechargé par une <a href="../upgrade52.html">procédure de mise à
d745 2
a746 3
général,
ils persisteront, mais vous devrez fusionner ces changements dans les nouvelles
versions de ces fichiers.
d875 2
a876 2
Originally [OpenBSD: faq11.html,v 1.95 ]<br>
$Translation: faq11.html,v 1.66 2012/11/07 16:12:57 rustybsd Exp $<br>
@


1.58
log
@Sync with Steelix CVS
@
text
@d213 1
a213 1
automatiquement avec succès, aucune manipulation supplémentaire ne devrait être 
d264 1
a264 1
Les iMacs ont très rarement un CRT (de nos jours), en ce sens qu'il a un 
d274 1
a274 1
        VertRefresh     43.0 - 117.0 
d339 1
a339 1
Parfois, X ne "fonctionne pas simplement" comme désiré, et parfois,  
d739 1
d743 1
a743 1
qui n'est pas rechargé par une <a href="../upgrade50.html">procédure de mise à
d876 2
a877 2
Originally [OpenBSD: faq11.html,v 1.94 ]<br>
$Translation: faq11.html,v 1.65 2012/05/25 04:53:55 rustybsd Exp $<br>
@


1.57
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
Effectuez une recherche avec le mot-clef "<tt>window manager</tt>" afin
d876 1
a876 1
$Translation: faq11.html,v 1.64 2012/05/02 15:03:18 rustybsd Exp $<br>
@


1.56
log
@Sync with Steelix CVS
@
text
@d9 1
a9 1
<meta name="copyright" content="This document copyright 1998-2011 by OpenBSD.">
d875 2
a876 2
Originally [OpenBSD: faq11.html,v 1.93 ]<br>
$Translation: faq11.html,v 1.63 2012/04/14 06:45:58 rustybsd Exp $<br>
@


1.55
log
@Sync with Steelix CVS
@
text
@d60 1
a60 1
"X Windows") est l'environnement qui fourni les services graphiques à
d67 1
a67 1
OpenBSD fourni une version libre des gestionnaires de fenêtres
d80 1
a80 1
L'application qui défini ce que le serveur X doit afficher à l'écran est
d121 1
a121 1
Evidemment, certains utilisateurs n'utilisent X qu'afin de bénéficier de
d139 1
a139 1
plateformes, X ne requiert pas de configuration du tout, il fonctionne sans
d188 2
a189 2
Dans la vaste majorité des utilisateurs X sous amd64 se configure automatiquement
avec succés, aucune manipulation supplémentaire ne devrait être nécessaire.
d212 2
a213 2
Dans la vaste majorité des utilisateurs X sous i386 se configure
automatiquement avec succés, aucune manipulation supplémentaire ne devrait être 
d255 1
a255 1
accéléré, basez-vous sur l'exemple qu'il fourni.
d269 1
a269 1
"Monitor"</tt> semble faire que beaucoup d'iMacs CRT dans la plage 333MHz
d307 1
a307 1
La plupart des configurations simple "fonctionne" normalement.
d340 1
a340 1
vous aurez besoin de configurer quelque chose qui ne fonctionnne pas.
d345 1
a345 1
Un bon endroit pour démarrer (et quelquefois le seul bon endroit !) est d'éxécuter
d358 1
a358 1
Unix-like fourniront souvent une aide trés utile dans la maniére de faire
d394 1
a394 1
Ca marche !
d436 2
a437 2
A présent, tout ce que nous avons est un écran noir.
Les choses avaient pourtant si bien commencées...
d449 1
a449 1
<li>Connectez vous en <b>SSH vers votre machine</b>, et tapez 
d453 1
a453 1
<li>Connectez vous en <b>SSH vers votre machine</b>, et redémarrez-la.
d466 1
a466 1
Tout d'abord, nous devrions jetez un oeil sur ce à quoi X s'imagine et
d491 1
a491 1
En jetant un oeil au fichier xorg.conf.new l'on peut voir ceci :
d567 1
a567 1
Nous testons nos changements et... SUCCES !
d575 1
a575 1
A ce point, rien ne se doit d'être fonctionnel.
d578 1
a578 1
A présent, installons ce fichier xorg.conf afin de voir comment cela
d665 1
a665 1
<h3>11.4.1 - A la demande :</h3>
d674 1
a674 1
<a href="faq10.html#rc">rc</a> et présente une invite d'identification.
d678 1
a678 1
l'enchaînement CTRL-ALT-Backspace), xdm(1) réapparaîtra avec son invite
d700 1
a700 1
L'environnement X par défaut de OpenBSD est complétement fonctionnel, mais
d722 1
a722 1
De maniére similaire au <a href="faq10.html#rc">script de démarrage
d724 1
a724 1
X posséde un processus qu'il exécute pour mettre en place l'environnement de
d726 1
a726 1
Plus concrétement, il posséde plus d'un processus qui sont utilisés en fonction
d734 1
a734 1
Il est préferable de faire des changements au niveau utilisateur plutôt que
d736 1
a736 1
sont stockés dans le repertoire home de l'utilisateur, vous aurez moins de
d749 2
a750 2
<h3>11.5.2 - démarrage de startx(1)</h3>
startx(1) recherche le fichier <tt>.xinitrc</tt> dans le repertoire home de
d759 1
a759 1
terminera et X s'arretera.
d762 1
a762 1
Dans le cas le plus simple, cela peut-être aussi petit que le nom du
d785 2
a786 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xsetroot&amp;sektion=1">xsetroot(1)</a>
, tout cela avant d'invoquer le gestionnaire de fenêtres
d789 2
a790 2
"mis en tache de fond" avec un caractére "&amp;".
Cela signifie que X restera exécuté jusqu'a ce que cwm(1) se termine.
d793 1
a793 1
Si le répertoire home de l'utilisateur ne posséde pas de fichier
d799 1
a799 1
<h3>11.5.3 - démarrage de xdm(1)</h3>
d803 1
a803 1
pas votre config X correcte !), il peut-être exécuté sous root.
d806 1
a806 1
xdm(1) posséde beaucoup d'autres fonctionnalités dont nous ne parlerons pas
d819 1
a819 1
vérifiera si l'utilisateur posséde un fichier <tt>.xsession</tt> dans son
d822 1
a822 1
invoquez le simplement (et peut-être d'autres choses) dans
d832 1
a832 1
démarrer X sans altérer les paramétres par défaut comme ceci :
d846 1
a846 1
puis selectionnez votre gestionnaire de fenêtre préféré (cependant, il faut
d851 1
a851 1
Ctrl-Alt-w puis en selectionnant le gestionnaire dans lequel vous voulez
d855 1
a855 1
Des que vous avez trouvé un gestionnaire de fenêtre que vous aimez, vous
d876 1
a876 1
$Translation: faq11.html,v 1.62 2011/12/25 11:15:39 benoit Exp $<br>
@


1.54
log
@Sync with Steelix CVS
@
text
@a49 2
<!-- li><a href="#TuningRes">11.9 - Optimiser la résolution de votre écran
sous X</a -->
d737 1
a737 1
fichiers à fusionner quand vous mettrez à jour votre version d'OpenBSD.
d875 2
a876 2
Originally [OpenBSD: faq11.html,v 1.92 ]<br>
$Translation: faq11.html,v 1.61 2011/12/17 09:59:51 benoit Exp $<br>
@


1.53
log
@Sync with Steelix CVS
@
text
@d72 1
a72 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fvwm&amp;sektion=1">cwm(1)</a>,
d877 2
a878 2
Originally [OpenBSD: faq11.html,v 1.91 ]<br>
$Translation: faq11.html,v 1.60 2011/11/13 08:08:45 benoit Exp $<br>
@


1.52
log
@Sync with Steelix CVS
@
text
@d69 4
a72 2
OpenBSD fourni une version libre du gestionnaire de fenêtres
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fvwm&amp;sektion=1">fvwm(1)</a>,
d140 6
a145 1
La configuration de X varie considérablement d'une plate-forme à l'autre.
d190 2
a191 2
Dans la plupart des cas, X sous amd64 se configure automatiquement et
aucune manipulation supplémentaire ne devrait être nécessaire.
d214 6
a219 11
Du fait du choix énorme de cartes vidéos, souris, claviers et autres
matériels pour cette plate-forme, configurer X sous un système i386 peut
s'avérer excitant. Suffisamment excitant d'ailleurs pour qu'une
<a href="#amd64i386">section séparée</a> soit proposée.

<p>
Fort heureusement, les choses ne sont pas toujours aussi noires qu'elles
le semblent ; dans la plupart des cas, X "fonctionne tout simplement" en
tapant "startx".
Dans ce cas, votre matériel sera détecté et interrogé sur ses capacités
ce qui permettra à X de très bien fonctionner.
d263 1
a263 1
plus moderne.
d335 4
a338 2
La variété de matériel présent sur ces plates-formes rend la configuration
de X assez "laborieuse".
d341 2
a342 5
X.Org a fait de gros progrès pour permettre à leurs serveurs de
"fonctionner tout simplement". Dans la plupart des cas tout fonctionne
sans fichier <tt>/etc/X11/xorg.conf</tt>.
Mais pas toujours et parfois vous aurez besoin de configurer quelque
chose qui ne fonctionnne pas.
d345 2
d349 1
a349 1
lancé avec le mode "X -configure" chargera tous les pilotes vidéo
d351 3
a353 3
écrira un fichier xorg.conf qui pourra ou non fonctionner, mais même
s'il ne fonctionne pas il représentera un bon point de départ à une
configuration manuelle.
d425 2
a426 3
ne trouvera pas le fichier et il utilisera la configuration par défaut
qui peut n'avoir aucun rapport avec le fichier sur lequel vous affiner
actuellement la configuration.
d744 1
a744 1
qui n'est pas rechargé par une <a href="../upgrade49.html">procédure de mise à
a861 1

a862 199
<!-- a name= "TuningRes"></a>
<h2>11.9 - Optimiser la résolution de votre écran sous X</h2>

<i>Remarque : La plupart des utilisateurs n'ont pas à se soucier
de la création manuelle du ModeLine avec les versions récentes de X.
CEPENDANT, cette opération est parfois nécessaire dans des situations
unusuelles.</i>

<p>
Avec plusieurs moniteurs multi-sync, il est possible de configurer un
serveur X avec une résolution acceptable. Si quelqu'un a déjà essayé de
faire ceci avec les utilitaires standards xorgconfig ou XF86Setup, il
est fort probable qu'il n'aie pas obtenu les meilleurs résultats
possibles. Un des aspects les plus difficiles est de simplement
configurer votre moniteur avec votre résolution préférée, puis de
paramétrer la vitesse de balayage vertical à une valeur d'au moins 72-75
Hz, une valeur où le scintillement de l'écran est beaucoup moins visible
à l'oeil humain. Inversement, qu'en est t'il quand vous essayez de
positionner la vitesse de balayage vertical à une vitesse très faible ?
Vous pouvez le positionner à 50 Hz de telle manière à pouvoir en
capturer le contenu sur une vidéo sans scintillement, mais les méthodes
pour effectuer cette opération ne sont pas évidentes avec les outils et
la documentation standards de X.

<p>
Enfin, il est possible (avec les nouveaux moniteurs du moins) d'utiliser
des vitesses de balayage vertical de 85 Hz et plus, afin d'obtenir une
image très propre et agréable à des résolutions normalement utilisées
par beaucoup de gens sur des moniteurs VGA à faible coût (800x600,
1024x768, 1152x900, 1280x1024). Le serveur X possède un mécanisme qui
vous permet de décrire en détail le mode vidéo que vous voulez utiliser
: C'est le ModeLine. Un ModeLine a quatre sections. Un chiffre pour la
dotclock (bande passante), quatre chiffres pour les temporisations
horizontales, quatre chiffres pour les temporisations verticales, et une
section optionnelle contenant une liste de drapeaux spécifiant d'autres
caractéristiques du mode (telles que l'interlaçage, DoubleScan, ... Voir
la page xorg.conf(5) du manuel pour plus de détails concernant
ModeLine).

<p>
La génération d'un ModeLine s'apparente à de la magie noire...
Heureusement, il existe plusieurs scripts qui peuvent vous en générer
un. Un de ces scripts est
<a href="http://koala.ilog.fr/cgi-bin/nph-colas-modelines">Colas XFree86
ModeLine Generator</a>. Un autre est 
<a href="http://xtiming.sourceforge.net/">The XFree86 ModeLine Generator</a> 
hébergé par SourceForge et plusieurs autres sont disponibles sur
<a href="http://freshmeat.net/search/?q=modeline">Freshmeat</a>.
Avant de pouvoir utiliser ces générateurs ModeLine, vous devez trouver
les limites de synchronisation verticale et horizontale de votre
moniteur. C'est souvent documenté dans le manuel ou sur le site Web du
constructeur. Si ne vous trouvez ni l'un ni l'autre, faites une
recherche sur le Web avec le modèle et la marque du moniteur. Plusieurs
personnes sympathiques ont rassemblé des listes avec ce type
d'informations.

<p>
Par exemple, supposons que vous avez un moniteur Dell D1226H. Vous avez
effectué des recherches en agonisant sur le site Web de Dell pour savoir
qu'il a une plage de balayage horizontal de 30-95 kHz et 50-160 Hz en
balayage vertical. Visitez la page du générateur de ModeLine et
saisissez ces informations. La prochaine étape consiste à saisir la
vitesse minimale de balayage vertical que vous voulez. N'importe quelle
vitesse de 72 Hz et au delà devrait permettre d'obtenir un scintillement
peu visible. Plus vous montez la vitesse, plus votre image est claire et
précise.

<p>
Avec toutes ces informations, le script va générer un ModeLine pour
toutes les résolutions 4x3 possibles que votre moniteur peut supporter,
et au-dessus de la vitesse minimale de balayage verticale que vous avez
saisi. Si quelqu'un avait saisi les spécifications de ce moniteur Dell
avec une vitesse minimale de balayage verticale de 75 Hz, le script
donnera quelque chose comme :

<pre>
ModeLine "320x240" 20.07 320 336 716 448 240 242 254 280 #160Hz
ModeLine "328x246" 20.86 328 344 424 456 246 248 260 286 #160Hz
...
ModeLine "816x612" 107.39 816 856 1056 1136 612 614 626 652 #145Hz
ModeLine "824x618" 108.39 824 864 1064 1144 618 620 632 658 #144Hz
ModeLine "832x624" 109.38 832 872 1072 1152 624 626 638 664 #143Hz
...
ModeLine "840x630" 109.58 840 880 1080 1160 630 632 644 670 #141Hz
ModeLine "848x636" 110.54 848 888 1088 1168 636 638 650 676 #140Hz
...
ModeLine "1048x786" 136.02 1048 1096 1336 1432 786 788 800 826 #115Hz
ModeLine "1056x792" 136.58 1056 1104 1344 1440 792 794 806 832 #114Hz
ModeLine "1064x798" 137.11 1064 1112 1352 1448 798 800 812 838 #113Hz
...
ModeLine "1432x1074" 184.07 1432 1496 1816 1944 1074 1076 1088 1114 #85Hz
ModeLine "1576x1182" 199.86 1576 1648 2008 2152 1182 1184 1196 1222 #76Hz
ModeLine "1584x1188" 198.93 1584 1656 2016 2160 1188 1190 1202 1228 #75Hz
</pre>

<p>
Bien que ce moniteur prétend atteindre 1600x1200 @@ 75 Hz, le script ne
dit pas que cette résolution peut être atteinte à 75 Hz. Si vous voulez
précisément avoir 1600x1200, abaissez un peu votre vitesse minimale ...
(Dans l'exemple qui suit, nous fixons cette vitesse à 70 Hz)

<pre>
ModeLine "1592x1194" 197.97 1592 1664 2024 2168 1194 1196 1208 1234 #74Hz
ModeLine "1600x1200" 199.67 1600 1672 2032 2176 1200 1202 1214 1240 #74Hz
ModeLine "1608x1206" 198.65 1608 1680 2040 2184 1206 1208 1220 1246 #73Hz
ModeLine "1616x1212" 197.59 1616 1688 2048 2192 1212 1214 1226 1252 #72Hz
ModeLine "1624x1218" 199.26 1624 1696 2056 2200 1218 1220 1232 1258 #72Hz
ModeLine "1632x1224" 198.15 1632 1704 2064 2208 1224 1226 1238 1264 #71Hz
ModeLine "1640x1230" 199.81 1640 1712 2072 2216 1230 1232 1244 1270 #71Hz
ModeLine "1648x1236" 198.64 1648 1720 2080 2224 1236 1238 1250 1276 #70Hz
</pre>

<p>
Comme on peut le voir, ce moniteur peut faire 1600x1200 @@ 74 Hz quand la
vitesse de point (bande passante) est limitée à 200 Mhz. Positionnez la
bande passante par rapport aux limites définies par le moniteur.

<p>
Une fois que vous avez vos ModeLines, mettez les dans le fichier
/etc/X11/xorg.conf. Mettez en commentaire les anciens ModeLines de
telle façon à pouvoir les utiliser par la suite si les nouveaux ne
fonctionnent pas. Ensuite choisissez votre résolution. D'abord vous
devez déterminer si X tourne en mode accéléré (ce qui est le cas avec la
plupart des cartes graphiques) afin de savoir quelle section
<tt>"Screen"</tt> modifier dans le fichier xorg.conf. Sinon, modifiez
toutes les sections Screen.

<pre>
Section "Screen"
   Driver          "Accel"
   Device          "Primary Card"
   Monitor         "Primary Monitor"
   DefaultColorDepth 32
   SubSection "Display"
      Depth        32
      Modes        "1280x1024" "1024x768"
   EndSubSection
</pre>

<p>
La première fréquence que vous voyez après la ligne &quot;Modes&quot;
est la fréquence avec laquelle X va démarrer. En appuyant sur les
touches CTRL-ALT-MOINS DU PAVE NUMERIQUE, ou CTRL-ALT-PLUS DU PAVE
NUMERIQUE, vous pouvez commuter entre les fréquences que vous avez
spécifié sur cette ligne. Selon la section ci-dessus, X va essayer de
démarrer en mode couleur 32 bits (via la directive DefaultColorDepth
sans laquelle X va démarrer en mode couleur 8 bits). La première
résolution qu'il essayera de charger est 1280x1024 (il suit l'ordre
précisé dans la ligne Modes). Notez que &quot;1280x1024&quot; est
simplement un label des valeurs du ModeLine.

<p>
Il est à noter que le script de génération du ModeLine possède des
options qui permettent de rendre ces temporisations plus flexibles pour
les vieux ou petits moniteurs. De même, il a la capacité de fournir des
ModeLines pour des résolutions spécifiques. Selon le type de matériel
que vous avez, il ne sera peut-être pas facile de l'utiliser avec les
options par défaut. Si l'image est trop grande, trop large, ou trop
petite, ou elle est décalée horizontalement ou verticalement, et les
contrôles du moniteur ne sont pas suffisants pour corriger son
apparence, vous pouvez utiliser xvidtune(1) afin d'ajuster le ModeLine
pour mieux respecter les temporisations du moniteur.

<p>
Sur la plupart des moniteurs modernes, il n'y a pas de limite fixée sur
la bande passante. C'est pourquoi elles ne sont plus listées dans les
spécifications. Mais plus vous augmentez la bande passante, plus l'image
devient floue. Ainsi, vous pouvez commencer par la bande passante
(appelée aussi &quot;dotclock&quot;) de votre carte pour tester (vous ne
pouvez pas abîmer votre moniteur comme ça) et diminuer la bande passante
au fur et à mesure jusqu'à ce que vous obteniez une image précise.

<p>
Cette procédure est inutilement complexe. X.Org améliore nettement ce
processus puisque cette version possède des modes internes et est
capable de découvrir les capacités des moniteurs &quot;plug and
play&quot; à travers DCC et DCC2.

5A
<p>
Vous pouvez télécharger le script Colas XFree86 ModeLine
Generator à l'adresse 
<a href="http://koala.ilog.fr/ftp/pub/Klone/">http://koala.ilog.fr/ftp/pub/Klone/</a>. 
Vous aurez besoin de télécharger et de compiler l'interpréteur Klone.
Cet interpréteur se trouve dans la collection de ports sous
<tt>lang/klone</tt>. Les scripts sont dans le répertoire scripts de la
distribution Klone (la collection de ports les installe dans
/usr/local/klone/scripts).

<p> 
Deux versions du script sont incluses. La première est une version CGI
identique à la page Web ci-dessus. La seconde est une version non-CGI
qui va lire votre fichier xorg.conf dans sa totalité, décoder les
spécifications du moniteur que vous avez saisi dans xorgconfig/XF86Setup
(Réfléchissez, avez-vous réellement renseigné le fichier avec les
spécifications de votre moniteur ou avez-vous gardé les valeurs
génériques ?), et corriger les ModeLines existants en conséquence.

<p -->
d877 2
a878 2
Originally [OpenBSD: faq11.html,v 1.89 ]<br>
$Translation: faq11.html,v 1.59 2011/06/17 20:50:19 benoit Exp $<br>
@


1.51
log
@Sync with Steelix CVS
@
text
@d6 2
a7 2
<meta name="description" content="the OpenBSD FAQ page">
<meta name="keywords" content="openbsd,faq">
d9 1
a9 1
<meta name="copyright" content="This document copyright 1998-2010 by OpenBSD.">
d135 1
d694 1
a694 1

d742 1
a742 1
qui n'est pas rechargé par une <a href="../upgrade48.html">procédure de mise à
d1075 2
a1076 2
Originally [OpenBSD: faq11.html,v 1.88 ]<br>
$Translation: faq11.html,v 1.58 2010/11/06 15:15:31 benoit Exp $<br>
@


1.50
log
@Sync with Steelix CVS
@
text
@d741 1
a741 1
qui n'est pas rechargé par une <a href="../upgrade47.html">procédure de mise à
d1074 2
a1075 2
Originally [OpenBSD: faq11.html,v 1.87 ]<br>
$Translation: faq11.html,v 1.57 2010/06/19 07:10:20 benoit Exp $<br>
@


1.49
log
@Sync with Steelix CVS
@
text
@d1 1
d1074 2
a1075 2
Originally [OpenBSD: faq11.html,v 1.86 ]<br>
$Translation: faq11.html,v 1.55 2010/05/29 04:45:01 benoit Exp $<br>
@


1.48
log
@Sync with Steelix CVS
@
text
@d305 3
a307 9
Il existe de nombreuses variations de ces machines et vous aurez besoin
de connaître quel type de bus votre système utilise (PCI ou SBus), à
quel port votre souris est branchée (zstty, com, ou USB/PS2) et quel
type de carte vidéo vous possédez.
Démarrez avec le fichier d'exemple <tt>xorg.conf</tt> présent dans le
<tt>README</tt> et modifiez les valeurs indiquées en fonction de votre
matériel et de vos besoins.
<i>N'espérez pas que le fichier d'exemple fonctionne sans modification
sur votre machine !</i>
d1073 2
a1074 2
Originally [OpenBSD: faq11.html,v 1.85 ]<br>
$Translation: faq11.html,v 1.54 2010/05/24 06:30:43 benoit Exp $<br>
@


1.47
log
@Sync with Steelix CVS
@
text
@d1079 2
a1080 2
Originally [OpenBSD: faq11.html,v 1.84 ]<br>
$Translation: faq11.html,v 1.53 2010/05/23 06:42:52 benoit Exp $<br>
@


1.46
log
@Sync with Steelix CVS
@
text
@a0 1
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
d8 1
a8 1
<meta name="copyright" content="This document copyright 1998-2009 by OpenBSD.">
d220 2
a221 2
<h3>11.2.8 - luna88k</h3>
Pas de serveur X, seulement les clients.
d223 1
a223 1
<h3>11.2.9 - mac68k</h3>
d348 2
a349 7
Il existe deux programmes permettant de créer un fichier configuration
pour les serveurs X.Org i386 de façon semi-automatique.
Malheureusement, aucun d'entre eux ne garantit la création d'un fichier
xorg.conf utilisable.

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=Xorg&amp;sektion=1">Xorg(1)</a>
d356 2
a357 7
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xorgconfig&amp;sektion=1">xorgconfig</a>
est un autre programme qui tente de créer un fichier xorg.conf de façon
interactive, il s'agit d'une application en mode texte uniquement.

</ul>

En plus des exemple précédents, une autre façon de configurer X mais qui
d360 3
a366 1

d746 1
a746 1
qui n'est pas rechargé par une <a href="../upgrade46.html">procédure de mise à
d942 1
a942 1
ModeLine "320x240" 20.07 320 336 416 448 240 242 254 280 #160Hz
d1079 2
a1080 2
Originally [OpenBSD: faq11.html,v 1.83 ]<br>
$Translation: faq11.html,v 1.52 2010/05/16 19:31:54 benoit Exp $<br>
@


1.45
log
@Sync with Steelix CVS
@
text
@d262 17
d1088 2
a1089 2
Originally [OpenBSD: faq11.html,v 1.82 ]<br>
$Translation: faq11.html,v 1.51 2010/02/09 05:49:22 benoit Exp $<br>
@


1.44
log
@Sync with Steelix CVS
@
text
@d110 1
a110 1
Ces plates-formes telles que <a href="../../fr/sparc.html">sparc</a> et
d112 1
a112 1
fonctionner avec une interface graphique et le mode console est très
d629 1
a629 1
Dans notre exemple, nous pouvons voir dans le fichier
d722 1
a722 2
Plus concrétement, il posséde plus d'un processus qui sont utilisés en
fonction
d741 1
a741 2
ils persisteront, mais vous devrez fusionner ces changements dans les
nouvelles
d754 1
a754 1
(typiquement le gestionnaire de fenêtres), quand il se termine, le script se
d837 1
a837 1
Votre nouveau gestionnaire de fenêtres remplace le précédent, quitter le
d1071 2
a1072 2
Originally [OpenBSD: faq11.html,v 1.81 ]<br>
$Translation: faq11.html,v 1.50 2009/10/19 15:53:20 benoit Exp $<br>
@


1.43
log
@Sync with Steelix CVS
@
text
@d739 1
a739 1
qui n'est pas rechargé par une <a href="upgrade45.html">procédure de mise à
d1073 2
a1074 2
Originally [OpenBSD: faq11.html,v 1.80 ]<br>
$Translation: faq11.html,v 1.49 2009/10/11 09:01:00 benoit Exp $<br>
@


1.42
log
@Sync with Steelix CVS
@
text
@d270 1
a270 1
Pas de serveur X, seulement les clients.
d1073 2
a1074 2
Originally [OpenBSD: faq11.html,v 1.79 ]<br>
$Translation: faq11.html,v 1.48 2009/04/30 23:04:33 benoit Exp $<br>
@


1.41
log
@Sync with Steelix CVS
@
text
@d739 1
a739 1
qui n'est pas rechargé par une <a href="upgrade44.html">procédure de mise à
d1073 2
a1074 2
Originally [OpenBSD: faq11.html,v 1.78 ]<br>
$Translation: faq11.html,v 1.47 2009/02/23 20:37:32 benoit Exp $<br>
@


1.40
log
@Sync with Steelix CVS
@
text
@d1073 2
a1074 2
Originally [OpenBSD: faq11.html,v 1.77 ]<br>
$Translation: faq11.html,v 1.46 2009/02/20 17:34:09 benoit Exp $<br>
@


1.39
log
@Sync with Steelix CVS
@
text
@d9 1
a9 1
<meta name="copyright" content="This document copyright 1998-2006 by OpenBSD.">
d49 1
d691 168
d1073 2
a1074 2
Originally [OpenBSD: faq11.html,v 1.76 ]<br>
$Translation: faq11.html,v 1.45 2008/11/26 21:11:04 benoit Exp $<br>
@


1.38
log
@Sync with Steelix CVS
@
text
@d385 1
a385 1
d'écran en "échiquier" de X, le curseur X et une fenêtre xterm.
d904 2
a905 2
Originally [OpenBSD: faq11.html,v 1.75 ]<br>
$Translation: faq11.html,v 1.44 2008/07/10 19:59:31 gapz Exp $<br>
@


1.37
log
@Sync with Steelix CVS
@
text
@d224 1
a224 15
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/xenocara/distrib/notes/README.mac68k"
>/usr/X11R6/README</a> pour mac68k.

<p>
Les systèmes Mac68k "fonctionneront tout simplement", aucune
configuration n'est nécessaire.

<p>
La souris : la souris Macintosh standard ne possède qu'un seul bouton ce
qui est un problème puisque X s'attend à une souris 3-boutons.
Certaines souris de vendeurs tiers auront un deuxième bouton qui
fonctionnera sous X.
Sinon, vous devrez vous référer au manuel Xmac68k(1) afin d'obtenir des
informations sur l'émulation pour les souris à un bouton.

d904 2
a905 2
Originally [OpenBSD: faq11.html,v 1.74 ]<br>
$Translation: faq11.html,v 1.43 2008/04/18 20:33:40 gapz Exp $<br>
@


1.36
log
@Sync with Steelix CVS
@
text
@d318 1
a318 1
Le serveur X ne fonctionne pour l'instant que sur les models VAXstation
d394 1
a394 1
détection et la configurarion automatique de X.Org nous propose, après
d412 1
a412 1
fichier de configurarion xorg.conf.
d686 1
a686 1
Si, ou lorsque cette session X doit se terminer (cela inclu
d734 1
a734 1
1024x768, 1152x900, 1280x1024). Le serveur X possède un mécanismequi
d874 1
a874 1
pouvez pas abimer votre moniteur comme ça) et diminuer la bande passante
d919 1
a919 1
$Translation: faq11.html,v 1.42 2008/03/24 17:21:55 benoit Exp $<br>
@


1.35
log
@Sync with Steelix CVS
@
text
@d396 1
a396 1
Nous allons nous identifiez puis utiliserons donc la commande
d682 1
a682 1
Normalement, xdm(1) est démarré tant que root par
d919 1
a919 1
$Translation: faq11.html,v 1.41 2008/01/28 13:48:31 ajacoutot Exp $<br>
@


1.34
log
@Sync with Steelix CVS
@
text
@d581 1
a581 1
"<a href="http://www.openbsd.org/cgi-bin/cvsweb/xenocara/xc/include/bitmaps/root_weave">rootweave</a>",
d583 1
a583 1
les écrans LCD, ) et un curseur mobile.
d919 1
a919 1
$Translation: faq11.html,v 1.40 2008/01/25 09:33:55 saad Exp $<br>
@


1.33
log
@sync with Steelix CVS
@
text
@d22 1
a22 1
Plates-Formes]</a>
d163 1
a163 1
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/XF4/distrib/notes/README.alpha"
d174 1
a174 1
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/XF4/distrib/notes/README.amd64"
d187 2
a188 2
<h3>11.2.3 - cats</h3>
Pas de support X à l'heure actuelle.
d191 1
a191 1
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/XF4/distrib/notes/README.hp300"
d195 1
a195 2
Il n'existe pas de serveur X pour HPPA à l'heure actuelle mais le
support du client X est présent.
d198 1
a198 1
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/XF4/distrib/notes/README.i386"
d202 1
a202 2
Mettez <tt>machdep.allowaperture=2</tt> dans <tt>/etc/sysctl.conf</tt>
pour les serveurs X.Org ou 1 pour les serveurs XFree86 v3.
d217 2
d220 1
a220 16
<h4>X.Org et XFree86 v3</h4>
Les deux variantes de serveurs X.Org et XFree86 v3.3.6 sont fournis avec
OpenBSD/i386. Certaines cartes vidéos assez anciennes fonctionnent mieux
(et parfois seulement !) avec les anciens serveurs XFree86 v3 car leurs
pilotes n'ont jamais été portés vers les nouvelles versions de X.
Cependant, il est préférable d'essayer avec les serveurs X.Org plus
récents à moins qu'ils ne fonctionnent pas ou offrent des performances
réduites.
Si vous avez des problèmes avec un ordinateur moderne ou une carte
vidéo, ne vous embêtez pas à essayer les serveurs XFree86 v3, son
développement s'est arrêté il y a de nombreuses années.
D'un autre côté, si vous possédez un système vieux de dix ans, vous
serez peut-être amené à utiliser les serveurs XFree86 v3.


<h3>11.2.7 - luna88k</h3>
d223 2
a224 2
<h3>11.2.8 - mac68k</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/XF4/distrib/notes/README.mac68k"
d240 2
a241 2
<h3>11.2.9 - macppc</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/XF4/distrib/notes/README.macppc"
d276 4
a279 1
<h3>11.2.10 - mvme68k</h3>
d282 1
a282 1
<h3>11.2.11 - mvme88k</h3>
d285 2
a286 2
<h3>11.2.12 - sparc</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/XF4/distrib/notes/README.sparc"
d297 2
a298 3

<h3>11.2.13 - sparc64</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/XF4/distrib/notes/README.sparc64"
d312 1
a312 1
<h3>11.2.14 - vax</h3>
d314 1
a314 1
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/XF4/distrib/notes/README.vax"
d324 2
a325 2
<h3>11.2.15 - zaurus</h3>
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/XF4/distrib/notes/README.zaurus"
d337 1
a337 17

<h3>11.3.1 - Configuration XFree86 v3.3.6 <i>(i386 seulement)</i></h3>
Si vous avez une carte vidéo très ancienne et que vous souhaitez
utiliser X, vous aurez peut être besoin de configurer et d'utiliser les
serveurs XFree86 v3.
Typiquement, cela se fait en utilisant les programmes
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=XF86Setup&amp;sektion=1&amp;plat=i386">XF86Setup(1)</a>
(mode graphique) ou
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xf86config3&amp;sektion=1&amp;plat=i386">xf86config3(1)</a>
(mode texte).

<p>
Nous nous arrêterons là en ce qui concerne le serveur XFree86 v3.
Faire tourner les anciens serveurs X sur du vieux matériel reste une
"danse tribale" et nous serions désolés de vous la rendre aisée.

<h3>11.3.2 - Configuration de X.Org</h3>
d345 1
a345 1
Il existe trois programmes permettant de créer un fichier configuration
d347 1
a347 1
Malheureusement, aucun d'entre eux ne garanti la création d'un fichier
a357 6
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=xorgcfg&amp;sektion=1">xorgcfg(1)</a>
est supposé avoir un mode graphique ainsi qu'un mode texte, cependant le
mode graphique n'est pas pleinement fonctionnel.
Pour cette raison il est recommandé d'utiliser le "mode texte" activé
par la commande "xorgcfg -textmode".

d373 1
a373 1
<h3>11.3.3 - Notre machine d'exemple</h3>
d581 1
a581 1
"<a href="http://www.openbsd.org/cgi-bin/cvsweb/XF4/xc/include/bitmaps/root_weave">rootweave</a>",
d636 1
a636 1
<h3>11.3.4 - Et si ce n'est pas si "facile" ?</h3>
d908 1
a908 1
Plates-Formes]</a>
d918 2
a919 2
Originally [OpenBSD: faq11.html,v 1.67 ]<br>
$Translation: faq11.html,v 1.39 2007/02/18 10:54:13 ajacoutot Exp $<br>
@


1.32
log
@sync with Steelix CVS
@
text
@d9 1
a9 1
<meta name="copyright" content="This document copyright 1998-2007 by OpenBSD.">
d954 1
a954 1
$Translation: faq11.html,v 1.38 2007/02/07 10:37:37 benoit Exp $<br>
@


1.31
log
@sync with Steelix CVS
@
text
@d154 1
a154 1
valeur non nulle appropriée à votre plateforme dans le fichier
d347 1
a347 1
La variété de matériel présent sur ces plateformes rend la configuration
d734 1
a734 1
Sur certaines plateformes, vous aurez besoin de désactiver la console
d954 1
a954 1
$Translation: faq11.html,v 1.37 2007/02/05 22:26:14 benoit Exp $<br>
@


1.30
log
@sync with Steelix CVS
@
text
@d9 1
a9 1
<meta name="copyright" content="This document copyright 1998-2006 by OpenBSD.">
d76 1
a76 1
X est considéré comme un protocol fonctionnant sur le mode
d82 1
a82 1
Ce model peut être utilisé afin d'avoir des applications gourmandes en
d92 1
a92 1
Puisque X est un protocol bien défini et multiplateforme il est même
d106 1
a106 1
Afin d'avoir une meilleur réactivité sur certaines plateformes même si
d109 1
a109 1
Ces plateformes telles que <a href="../../fr/sparc.html">sparc</a> et
d136 1
a136 1
La configuration de X varie considérablement d'une plateforme à l'autre.
d138 1
a138 1
propres à la plateforme dans le fichier <tt>/usr/X11R6/README</tt> du
d142 1
a142 1
Plusieurs plateformes requièrent le pilote d'aperture
d171 1
a171 1
configuration supplémentaire de devrait être nécessaire.
d208 1
a208 1
matériels pour cette plateforme, configurer X sous un système i386 peut
d232 1
a232 1
serez peut-être ammené à utiliser les serveurs XFree86 v3.
d287 1
a287 1
portable, il vous est vivement recommandé d'acheter une souris tièrce
d335 1
a335 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lcspx&amp;sektion=4&amp;arch=vax">lcspx(4)</a>.framebuffer.
d366 1
a366 1
<h3>11.3.2 - Configurarion de X.Org</h3>
d468 1
a468 1
actuellement la configurarion.
d954 1
a954 1
$Translation: faq11.html,v 1.36 2007/02/02 14:20:59 ajacoutot Exp $<br>
@


1.29
log
@Sync with Steelix CVS
@
text
@d71 1
a71 1
présents dans les <a href="../faq15.html">paquetages</a>.
d954 1
a954 1
$Translation: faq11.html,v 1.35 2007/01/05 10:38:37 ajacoutot Exp $<br>
@


1.28
log
@sync with steelix translation CVS
@
text
@d4 6
a9 6
<link rev= "made" href= "mailto:www@@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2006 by OpenBSD.">
d954 1
a954 1
$Translation: faq11.html,v 1.34 2006/11/03 10:18:49 ajacoutot Exp $<br>
@


1.27
log
@sync with Steelix CVS
@
text
@d326 10
a335 1
Pas de serveur X, seulement les clients.
d953 2
a954 2
Originally [OpenBSD: faq11.html,v 1.66 ]<br>
$Translation: faq11.html,v 1.33 2006/09/08 14:50:05 ajacoutot Exp $<br>
@


1.26
log
@sync with Steelix CVS
@
text
@d62 1
a62 1
OpenBSD et les autre systèmes de type Unix.
d71 1
a71 1
présent dans les <a href="../faq15.html">paquetages</a>.
d84 1
a84 1
puissante mais utilisant un serveur X tourant sur une petite machine de
d90 1
a90 1
Ainsi, on pourrait avoir une application (le client X)tournant sur un
d98 1
a98 1
pour la plupart de cette section, c'est ce que nous supposerons.
d104 1
a104 1
Cependant, une fois démarré, il est reste réactif même sur une machine
d110 3
a112 2
<a href="../../fr/sparc64.html">sparc64</a> ont été prévu pour fonctionner
avec une interface graphique et le mode console est très lent.
d127 2
a128 2
<a href="http://en.wikipedia.org/wiki/ASCII_Art">graphiques ASCII</a>,
ne sont pas satisfaisants, cela nécessiterai un pilote framebuffer pour
d156 4
a159 4
sécurité, cette valeur sysctl ne peut être changée après le lancement de
la machine).
Il existe des conséquences sur la sécurité à cela, ne le faites pas si
vous n'en avez pas vraiment besoin.
d170 1
a170 1
Les cartes TGA ainsi que certaines VGa sont supportées. Aucune
d207 2
a208 2
Du fait du choix énorme de cartes vidéos, souris, claviers et autre
matériel pour cette plateforme, configurer X sous un système i386 peut
d214 1
a214 1
le semblent ; la plupart des cas, X "fonctionne tout simplement" en
d217 1
a217 1
se qui permettra à X de très bien fonctionner.
d225 1
a225 1
Cependant, il est préférable d'essayer avec Les serveurs X.Org plus
d229 1
a229 1
vidéos, ne vous embêtez pas à essayer les serveurs XFree86 v3 ; son
d252 1
a252 1
informations sur l'émulation des souris à un bouton.
d267 1
a267 1
En mode "framebuffer", le système tournera avec 8 bits pas pixel et la
d270 1
a270 1
de changer la configuration.
d285 1
a285 1
Bien que le fichier README contiennt des détails pour utiliser une
d318 1
a318 1
type de carte vidéos vous possédez.
d339 1
a339 1
de X assez "foklo".
d355 1
a355 1
"danse amoureuse" et nous serions désolés de vous la rendre aisée.
d402 1
a402 1
La carte vidéo est une ancienne carte AGP présente dans le dmesg à la
d414 2
a415 2
celui-ci avec une fréquence rafraîchissement décente et des couleurs 24
bit.
d419 3
a421 3
que le pilote d'aperture est activé dans le noyau), voyons ce que le
détection et configurarion automatique de X.Org nous propose, après tout
nous pourrions être chanceux.
d442 1
a442 1
<tt>xorg.conf</tt> comme point de départ.
d471 1
a471 1
A présent, tout ce que nous obtenons est un écran noir.
d482 2
a483 2
application qui tourne et donc, ce n'est pas un problème (et en fait, à
ce moment, il s'agit de votre <i>meilleur</i> moyen de sortir de X).
d489 2
a490 2
<li><b>Reset bouton d'alimentation.</b> Parfois, les choses se passent
vraiment mal.
d508 1
a508 1
Maintenant, il est util de connaître votre matériel.
d510 6
a515 7
toujours présent présent affiche le message "Sync. Out of Range" sur
l'écran. Apparemment donc, la configuration que X nous a fourni ne
fonctionnera pas sur ce moniteur et peut-être même sur AUCUN si le mode
sélectionné ne fonctionne pas avec cette carte particulière
(souvenez-vous que X détecte la puce sur la carte et ce qu'elle est
potentiellement capable de faire, pas la façon dont le fabricant a
intégré tous les éléments).
d517 1
a517 1
est mauvais, certains tenterons tout de même d'afficher ce qu'ils
d522 1
a522 1
On notera de ne PAS utiliser cet écran pour une configuration initiales
d541 1
a541 1
dont possède le moniteur de renseigner l'ordinateur et la carte vidéo de
d603 1
a603 1
Nous obtenon ce qui semble être un très bel affichage en haute
d606 4
a609 4
X (parfait pour voir la qualité de votre moniteur et pour calibrer les
écrans LCD, appelé
"<a href="http://www.openbsd.org/cgi-bin/cvsweb/XF4/xc/include/bitmaps/root_weave">rootweave</a>")
et un curseur mobile.
d657 2
a658 1
de 85Hz qui devrait être confortable pour la plupart de utilisateurs.
d687 1
a687 1
aucun des "meilleurs" pilotes de serveur X ne fonctionne.
d698 1
a698 1
Il existe deux méthodes habituelles pour démarrer X :
d712 1
a712 1
Si ou lorsque cette session X doit se terminer (cela inclu
d717 1
a717 1
vérifié que X fonctionne comme vous le souhaitez ou votre machine
d725 1
a725 1
Sur certaines plateformes, vous aurez besoin de désactivez la console
d945 1
a945 1
$Translation: faq11.html,v 1.31 2006/09/07 16:03:33 ajacoutot Exp $<br>
@


1.25
log
@sync with steelix translation CVS
@
text
@d2 1
a2 3
<html>
<head>
<title>11 - Optimisation des Performances</title>
d12 1
a12 1
<body bgcolor= "#ffffff" text= "#000000">
d15 1
a15 1
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
d18 1
a18 1
<font color= "#0000e0">
d25 1
a25 1
<h1><font color="#e00000">11 - Cette section est en cours de réécriture</font></h1>
d45 7
a51 2
<li><a href="#XF86"   >11.4 - Optimisation de la Résolution de
votre Écran sous X</a>
d57 675
a731 3
<a name= "XF86"></a>
<h2>11.4 - Optimisation de la Résolution de Votre écran
       sous X</h2>
d773 2
a774 2
<a href="http://www-sop.inria.fr/cgi-bin/koala/nph-colas-modelines">Colas
XFree86 ModeLine Generator</a>. Un autre est 
d776 1
a776 2
hébérgé par SourceForge et plusieurs
autres sont disponibles sur
d903 1
a903 1
Cette procédure est inutilement complexe. X.org améliore nettement ce
d928 1
a928 1
<p>
d943 2
a944 2
Originally [OpenBSD: faq11.html,v 1.61 ]<br>
$Translation: faq11.html,v 1.30 2006/04/06 12:52:26 ajacoutot Exp $<br>
@


1.24
log
@sync with Steelix CVS
@
text
@d27 1
a27 1
<h1><font color="#e00000">11 - Optimisation des Performances</font></h1>
d269 2
a270 2
Originally [OpenBSD: faq11.html,v 1.60 ]<br>
$Translation: faq11.html,v 1.29 2006/02/27 09:04:42 ajacoutot Exp $<br>
@


1.23
log
@sync with steeli translation CVS
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2005 by OpenBSD.">
a46 4
<li><a href="#Disk"   >11.1 - E/S Disque</a>
<li><a href="#HW"     >11.2 - Choix Matériels</a>
<li><a href="#Async"  >11.3 - Pourquoi nous n'utilisons pas de Montage
Asynchrone ?</a>
a53 343
<a name= "Disk"></a>
<h2>11.1 - E/S Disque</h2>

<p>
La vitesse des E/S sur les disques est un facteur significatif de la
vitesse globale de votre machine. Ce facteur devient de plus en plus
important quand votre machine héberge un environnement multi utilisateur
(des utilisateurs de toutes les catégories tels que les utilisateurs qui
se connectent de manière interactive et les utilisateurs qui voient
votre machine comme un serveur de fichiers ou un serveur Web). Le
stockage de données demande une attention constante et particulièrement
quand vos partitions ne contiennent plus d'espace libre ou quand vos
disques ne fonctionnent plus. OpenBSD possède plusieurs options pour
augmenter la vitesse des opérations sur disque. De plus il fournit des
fonctionnalités de tolérance aux pannes.

<p>
Table des matières 
<ul>
<li><a href="#ccd">CCD</a> - Pilote de Disques Concaténés.
<li><a href="#raid">RAID</a>
<li><a href="#softu">Soft Updates</a>
<li><a href="#maxvnodes">Taille du cache namei()</a>
</ul>

<p>
<a name="ccd"></a>
<h3>11.1.1 - CCD</h3>

<blockquote>
La première option consiste à utiliser 
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccd&amp;sektion=4">ccd(4)</a>
, le Pilote de Disques Concaténés. Il vous permet de
grouper plusieurs partitions en un seul disque virtuel (ainsi vous
pouvez rendre plusieurs disques visibles comme un seul disque). Ce
concept est similaire au concept de LVM (gestion de volumes logiques) se
trouvant dans plusieurs versions Unix commerciales.

<p>
Si vous utilisez le noyau GENERIC, ccd est déjà activé (dans
<tt>/usr/src/sys/conf/GENERIC</tt>). Si vous avez personnalisé votre
noyau, vous aurez éventuellement besoin de refaire la configuration de
votre noyau. Dans tous les cas, la ligne suivante devra figurer dans
votre fichier de configuration noyau :

<pre>
     <strong>pseudo-device   ccd     4       # concatenated disk devices</strong>
</pre>

<p>
La ligne précédente vous permet de configurer jusqu'à 4 périphériques
ccd (disques virtuels). L'étape suivante consiste à choisir les
partitions sur vos disques physiques que vous voulez consacrer à ccd.
Utilisez disklabel pour marquer ces partitions en type 'ccd'. Sous
certaines architectures, disklabel ne vous autorisera pas à effectuer
cette opération. Dans ce cas, marquez les en 'ffs'.

<p>
Si vous utilisez ccd pour améliorer les performances à travers la
technique du striping, il est à noter que vous n'aurez pas de
performance optimale à moins que vous n'utilisiez le même modèle de
disques avec le même paramétrage disklabel.

<p>
Editez le fichier /etc/ccd.conf afin qu'il ressemble à ce qui suit :
(pour plus d'informations sur la configuration ccd, veuillez consulter
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccdconfig&amp;sektion=8">ccdconfig(8)</a>)

<blockquote><pre>
# Configuration file for concatenated disk devices
#
# ccd   ileave  flags   component devices
ccd0   16      none    /dev/sd2e /dev/sd3e
</pre></blockquote>

<p>
Pour que vos modifications prennent effet, exécutez :

<blockquote><pre>
# ccdconfig -C
</pre></blockquote>

<p>
Aussi longtemps que /etc/cdd.conf existera, ccd se configurera
automatiquement lors du démarrage de la machine. A ce point, vous avez
un nouveau disque dénommé ccd0; combinaison de /dev/sd2e et /dev/sd3e.
Pour le partitionner, utilisez disklabel normalement. Nous vous
rappelons qu'il ne faut pas utiliser la partition 'c' comme une
partition réelle sur laquelle vous pouvez stocker des données. Assurez-
vous que vos partitions soient au moins décalées d'un cylindre par
rapport au début du disque.
</blockquote>

<p>
<a name="raid"></a>
<h3>11.1.2 - RAID</h3>

<blockquote>
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=raid&amp;sektion=4">raid(4)</a>
est une autre solution. Elle nécessitera l'utilisation de la commande 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raidctl&amp;sektion=8">raidctl(8)</a>
pour contrôler vos périphériques raid. le RAID OpenBSD est basé sur le
<a href="http://www.cs.usask.ca/staff/oster/raid.html">port NetBSD</a>
du logiciel CMU 
<a href="http://www.pdl.cmu.edu/RAIDframe/">RAIDframe</a> par Greg
Oster. OpenBSD supporte les niveaux RAID 0, 1, 4 et 5.
<p>
Comme pour ccd, le support raid doit être configuré dans le NOYAU. Mais
contrairement à ccd, le support RAID n'est pas configuré par défaut dans
GENERIC. Il doit compilé au niveau du noyau (le support RAID ajoute 500k
à la taille d'un noyau i386) :

<blockquote><pre>
<strong>pseudo-device   raid   4       # RAIDframe disk device</strong>
</pre></blockquote>

<p>
La configuration du RAID sous certains systèmes d'exploitation peut
prêter à confusion et s'avérer difficile. Ce n'est pas le cas avec
RAIDframe. Consultez les pages de manuel
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raid&amp;sektion=4">raid(4)</a>
et
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raidctl&amp;sektion=8">raidctl(8)</a>
Pour des informations complètes. Il y a plusieurs options et
configurations possibles. Une explication détaillée est au-delà du
périmètre du présent document.
</blockquote>

<p>
<a name="softu"></a>
<h3>11.1.3 - Soft Updates</h3>

<blockquote>
Un autre outil qui peut être utilisé pour accélerer la vitesse de votre
système est softupdates. La mise à jour des informations meta ou
metainfo (qui a lieu quand vous créez ou supprimez des fichiers et des
répertoires entre autres) est une des opérations les plus lentes du
système de fichiers BSD traditionnel. Softupdates tente de mettre à jour
les metainfo dans la RAM au lieu d'écrire chaque mise à jour de metainfo
sur le disque. Une autre conséquence est que les metainfo sur le disque
devraient être toujours complètes, mais pas forcément à jour. Un crash
système ne devrait donc pas nécessiter une opération fsck lors du
démarrage de la machine, mais seulement une version d'arrière-plan de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&amp;sektion=8">fsck(8)</a>
qui effectue des modifications aux metainfo en RAM (comme softupdates).
Ce qui veut dire que le redémarrage d'un serveur est beaucoup plus
rapide puisque vous n'avez pas besoin d'attendre que fsck finisse !
(OpenBSD ne possède pas cette fonctionnalité encore). Pour en savoir
plus, consultez <a href="faq14.html#SoftUpdates">La FAQ Softupdates
</a>.
</blockquote>

<p>
<a name="maxvnodes"></a>
<h3>11.1.4 - Taille du cache namei()</h3>

<dl>
<dd>
Remarque : précédemment, la page du manuel  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a>
recommandait de positionner l'option du noyau <tt>NVNODE=integer</tt>.
Ce n'est plus recommandé. Au lieu de cela, utilisez la commande
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">sysctl(8)</a>
<p>
Le cache de traduction nom-vers-inode (name-to-inode ou <!-- need to
write the manual
page first... <a href="">namei(3)</a> -->namei()) contrôle 
la vitesse de la traduction chemin vers 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inode&amp;sektion=5">inode(5)</a>.
Une valeur raisonnable de fixer une valeur pour le cache, si on venait
à remarquer à l'aide d'un outil comme
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&amp;sektion=1">systat(1)</a>
, des erreurs d'allocation au niveau du cache, est d'examiner la valeur
courante générée avec
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&amp;sektion=8">sysctl(8)</a>
, (qui appelle ce paramètre "<tt>kern.maxvnodes</tt>") et d'augmenter
cette valeur soit jusqu'à ce que les le taux de réponse à partir du
cache namei s'améliore soit jusqu'à ce qu'on détermine que le système ne
bénéficie plus substantiellement de l'augmentation de la taille du cache
namei. Une fois que la valeur est déterminée, vous pouvez la fixer au
démarrage du système à l'aide de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl.conf&amp;sektion=5">sysctl.conf(5)</a>.
</dd>
</dl>

<p>
<a name= "HW"></a>
<h2>11.2 - Choix matériels</h2>
<!-- XXXchanges - check every OpenBSD release -->

<p>
<i>(Remarque - cette section est très centrée autour de
l'architecture i386 ou PC. Quelque part cela signifie que les autres
architectures ne vous donnent pas autant de choix! )</i>

<p>
La performance de vos applications dépend beaucoup de votre système
d'exploitation et des fonctionnalités qu'il fournit. C'est peut-être une
des raisons pour laquelle vous utilisez OpenBSD. La performance de vos
applications dépend beaucoup de votre matériel aussi. Pour beaucoup de
gens, le rapport prix/performance d'un nouveau PC doté d'un processeur
Intel Pentium III ou AMD Athlon est bien meilleur que le rapport
prix/performance d'une station Sun UltraSPARC 60! Et bien sûr, le prix
de OpenBSD ne peut être battu.

<p>
Si vous allez acheter un PC, pièce par pièce ou assemblé, vous devez
vous assurer que vous allez acheter des composants fiables. Dans le
monde PC, ce n'est pas quelque chose de facile. <b>OpenBSD peut être
lent et souvent planter à cause de mauvais composants, des composants
non fiables ou un mauvais assortiment de composants</b>. Le meilleur
conseil que nous pouvons vous donner est d'être très attentif, achetez
des marques et des composants qui ont été testées par une autorité dans
laquelle vous avez confiance. Parfois lorsque vous lésinez sur le prix
d'un PC, vous perdez en qualité!

<p>
Il y a certaines choses qui vont vous aider à tirer le meilleur parti de
votre matériel :

<ul>
<li><b>Utiliser plusieurs disques.</b>
Au lieu d'acheter un disque de grande capacité, achetez plusieurs
disques de moindre capacité. Bien que ça risque de vous coûter plus
cher, distribuer la charge sur plusieurs têtes diminuera le temps
nécessaire pour accéder aux données sur les disques. Et avec plus
d'axes, vous obtiendrez un meilleur niveau de fiabilité et un accès aux
données plus rapide avec le système RAID.
<p>
<li><b>Utilisez du SCSI si vous avez besoin de très hautes
       vitesses en E/S disque. </b>
Les disques IDE ont des vitesses de rotation comprises entre 5400TPM à
7200TPM. En utilisant des disques IDE haut de gamme, il n'est pas
raisonnable de s'attendre à plus de 15 à 20 Mégaoctets de débit par
seconde sur un seul disque. En utilisant des disques SCSI haut de gamme
(des disques plus chers à 10000 RPM), vous pouvez atteindre des
performances supérieures. Inversement, si vous allez utiliser des
disques SCSI milieu ou bas de gamme, c'est une perte d'argent. Et la
technologie IDE sera aussi bonne sinon meilleure.
<p>
Si vous mettez en place un serveur, et que vous avez besoin de plus d'un
disque, considérez la technologie SCSI. IDE vous limitent à deux disques
par contrôleur. Des accès simultanés à ces deux disques peuvent avoir un
impact négatif sur les performances E/S de ces disques. SCSI "Wide" vous
limitent à 15 par contrôleur et gère les accès simultanés mieux qu'IDE.
Certes, la technologie SCSI est plus coûteuse, mais sa flexibilité et
ses performances peuvent justifier ces coûts dans certains
environnements.
<p>
<li><b>Utiliser de la SDRAM au lieu de la DRAM.</b>
Cette option est surtout valable pour les PCs. La plupart des autres
architectures ne vous laissent pas le choix du type de RAM à utiliser.
Vous aurez de meilleures performances avec de la SDRAM par rapport à de
la DRAM (SIMMs). Si votre système supporte la RDRAM ou un autre type
nouveau de RAM, alors vous êtes déjà en avance...
<p>
<li><b>Utilisez de la mémoire ECC ou de la RAM à parité.</b>
La parité ajoute certaines fonctionnalités pour vérifier si les données
en RAM ont été corrompues. La mémoire ECC étend ces fonctionnalités et
tente de corriger certaines erreurs de corruption de bits à la volée.
Cette option s'applique surtout aux PCs. La plupart des autres
architectures requièrent simplement de la mémoire ECC ou à parité.
Plusieurs machines non-PC ne démarreront même pas avec de la RAM sans
parité. Si vous n'utilisez pas de la mémoire ECC ou à parité, vous aurez
peut-être de la corruption de données et d'autres anomalies. Plusieurs
fabricantsde &quot;RAM à faible coût pour PC&quot; ne font même pas une
variété ECC! Ce qui vous aidera à les éviter! Les fabricantsde PC
vendent souvent plusieurs gammes de produits, organisées en
&quot;serveurs&quot; et &quot;stations de travail&quot;. Les serveurs
vont contenir de la RAM ECC dans leur architecture. Les fabricantsde
stations de travail Unix utilisent de la mémoire à parité (et maintenant
ECC) depuis plusieurs années dans toutes leurs gammes de produits.
<p>
<li><b>Evitez les périphériques ISA.</b>
Alors que la plupart de gens évitent les périphériques ISA, parce qu'ils
sont généralement difficiles à configurer et obsolètes, il en existe
encore beaucoup. Si vous utilisez un bus ISA pour votre disque ou vos
contrôleurs réseau (ou, encore plus grave, pour les deux), rappelez vous
que le bus ISA en lui-même peut être un goulet d'étranglement. Si vous
avez besoin de vitesse, choisissez le bus PCI. Bien entendu, il y a
plusieurs cartes à bus ISA qui fonctionnement bien. Malheureusement, la
plupart de ces cartes sont des cartes son ou des cartes série.
<p>
<li><b>Evitez les cartes réseau PCI bas de gamme.</b>
OpenBSD supporte une pléthore de cartes réseau PCI bas de gamme Ces
cartes fonctionnement très bien en environnement domestique, et aussi
dans des environnements d'entreprise ou de recherche à débit faible ou
modéré. Mais si vous avez besoin de haut débit avec un faible impact sur
votre serveur, il serait plus judicieux d'opter pour une carte réseau
PCI de qualité. Malheureusement, certaines cartes coûteuses ne sont pas
mieux que des cartes bas de gamme. Les adaptateurs Gigabit ont souvent
de meilleures performances que les adaptateurs 10Mbps/100Mbps même
lorsqu'ils sont utilisés sur des réseaux à vitesse plus lente vu leur
meilleure mise en tampon.
</ul>

<p>
<a name= "Async"></a>
<h2>11.3 - Pourquoi nous n'utilisons pas de montage asynchrone ("async
       mount") ?</h2>

<p>
Question : &quot;Je fais simplement &quot;mount -u -o async /&quot; ce
qui rend un package dont j'ai besoin (qui touche à une centaine
de chose de temps à autre) utilisable. Pourquoi le montage
asynchrone n'est pas vu d'un bon &#156;il et n'est pas activé par
défaut (comme c'est le cas sur d'autres versions d'Unix) ? C'est
un mécanismesûrement plus simple et plus sûr
d'améliorer les performances de certaines applications.&quot;

<p>
Réponse : &quot; les montages asynchrones sont en effet plus rapides que
des montages synchrones, mais ils sont aussi moins sûrs. Qu'arrive-t-il
dans le cas d'une panne de courant ? Ou un problème matériel ? la quête
de la vitesse ne doit pas sacrifier la fiabilité et la stabilité du
système. Reportez-vous à la page du manuel de
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=mount&amp;sektion=8">mount(8)</a>."

<pre>
             async   All I/O to the file system should be done asynchronously.
                     This is a dangerous flag to set since it does not guaran-
                     tee to keep a consistent file system structure on the
                     disk.  You should not use this flag unless you are pre-
                     pared to recreate the file system should your system
                     crash.  The most common use of this flag is to speed up
                     restore(8) where it can give a factor of two speed in-
                     crease.
</pre>

<p>
D'un autre côté, quand vous travaillez avec des données temporaires que
vous pouvez recréer après un plantage, vous pouvez gagnez en vitesse en
utilisant une partition à part montée en asynchrone, utilisée uniquement
pour ce type de données. Encore une fois, n'effectuez cette opération
<i>que si</i> vous ne voyez pas d'inconvénient à perdre toutes les
données de cette partition si quelque chose va mal. Pour cette raison,
les partitions
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=mfs&amp;sektion=8">mfs(8)</a>
sont montées en mode asynchrone vu que de toute façon, elles vont être
écrasées et recrées après un redémarrage.

<p>
d269 2
a270 2
Originally [OpenBSD: faq11.html,v 1.57 ]<br>
$Translation: faq11.html,v 1.28 2006/02/09 09:37:46 ajacoutot Exp $<br>
@


1.22
log
@sync with Steelix CVS
@
text
@d617 1
a617 1
$Translation: faq11.html,v 1.27 2005/07/11 09:51:39 aanriot Exp $<br>
d619 1
a619 1
$OpenBSD$<br>
@


1.21
log
@sync with Steelix CVS
@
text
@d438 1
a438 1
la page XF86Config(5) du manuel pour plus de détails concernant
d449 2
a450 1
autres sont disponibles sur <a href="http://freshmeat.net/search/?q=modeline">Freshmeat</a>. 
d522 1
a522 1
/etc/X11/XF86Config. Mettez en commentaire les anciens ModeLines de
d527 1
a527 1
<tt>"Screen"</tt> modifier dans le fichier XF86Config. Sinon, modifiez
d616 2
a617 2
Originally [OpenBSD: faq11.html,v 1.56 ]<br>
$Translation: faq11.html,v 1.26 2005/05/20 18:05:12 saad Exp $<br>
@


1.20
log
@sync with Steelix CVS
@
text
@d52 1
a52 1
votre Écran sous XFree86</a>
d64 8
a71 9
important quand votre machine héberge un environnement multi
utilisateur (des utilisateurs de toutes les catégories tels que
les utilisateurs qui se connectent de manière interactive et les
utilisateurs qui voient votre machine comme un serveur de fichiers ou un
serveur Web). Le stockage de données demande une attention
constante et particulièrement quand vos partitions ne contiennent
plus d'espace libre ou quand vos disques ne fonctionnent plus. OpenBSD
possède plusieurs options pour augmenter la vitesse des
opérations sur disque. De plus il fournit des
d109 16
a124 19
La ligne précédente vous permet de configurer
jusqu'à 4 périphériques ccd (disques virtuels).
L'étape suivante consiste à choisir les partitions sur vos
disques physiques que vous voulez consacrer à ccd. Utilisez
disklabel pour marquer ces partitions en type 'ccd'. Sous certaines
architectures, disklabel ne vous autorisera pas à effectuer cette
opération. Dans ce cas, marquez les en 'ffs'.

<p>
Si vous utilisez ccd pour améliorer les performances à
travers la technique du striping, il est à noter que vous n'aurez
pas de performance optimale à moins que vous n'utilisiez le
même modèle de disques avec le même
paramétrage disklabel.

<p>
Editez le fichier /etc/ccd.conf afin qu'il ressemble à ce qui
suit : (pour plus d'informations sur la configuration ccd, veuillez
consulter
d143 7
a149 8
automatiquement lors du démarrage de la machine. A ce point, vous
avez un nouveau disque dénommé ccd0; combinaison de
/dev/sd2e et /dev/sd3e. Pour le partitionner, utilisez disklabel
normalement. Nous vous rappelons qu'il ne faut pas utiliser la partition
'c' comme une partition réelle sur laquelle vous pouvez stocker
des données. Assurez-vous que vos partitions soient au moins
décalées d'un cylindre par rapport au début du
disque. 
d160 1
a160 2
pour contrôler vos périphériques raid. le RAID
OpenBSD est basé sur le
d166 4
a169 5
Comme pour ccd, le support raid doit être configuré dans le
NOYAU. Mais contrairement à ccd, le support RAID n'est pas
configuré par défaut dans GENERIC. Il doit compilé
au niveau du noyau (le support RAID ajoute 500k à la taille d'un
noyau i386) :
d176 3
a178 3
La configuration du RAID sous certains systèmes d'exploitation
peut prêter à confusion et s'avérer difficile. Ce
n'est pas le cas avec RAIDframe. Consultez les pages de manuel
d183 2
a184 2
configurations possibles. Une explication détaillée est
au-delà du périmètre du présent document.
d192 11
a202 15
Un autre outil qui peut être utilisé pour accélerer
la vitesse de votre système est softupdates. La mise à
jour des informations meta ou metainfo (qui a lieu quand vous
créez ou supprimez des fichiers et des répertoires entre
autres) est une des opérations les plus lentes du système
de fichiers BSD traditionnel. Softupdates tente de mettre à jour
les metainfo dans la RAM au lieu d'écrire chaque mise à
jour de metainfo sur le disque. Une autre conséquence est que les
metainfo sur le disque devraient être toujours complètes,
mais pas forcément à jour. Un crash système ne
devrait donc pas nécessiter une opération fsck lors du
démarrage de la machine, mais seulement une version
d'arrière-plan de 
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=fsck&amp;sektion=8">fsck(8)</a>
d204 5
a208 5
Ce qui veut dire que le redémarrage d'un serveur est beaucoup
plus rapide puisque vous n'avez pas besoin d'attendre que fsck finisse !
(OpenBSD ne possède pas cette fonctionnalité encore). Pour
en savoir plus, consultez <a href="faq14.html#SoftUpdates">La FAQ
Softupdates </a>.
d220 1
a220 2
Ce n'est plus recommandé. Au lieu de cela, utilisez la
commande
d234 6
a239 8
, (qui appelle ce paramètre "<tt>kern.maxvnodes</tt>") et
d'augmenter cette valeur soit jusqu'à ce que les le taux de
réponse à partir du cache namei s'améliore soit
jusqu'à ce qu'on détermine que le système ne
bénéficie plus substantiellement de l'augmentation de la
taille du cache namei. Une fois que la valeur est
déterminée, vous pouvez la fixer au démarrage du
système à l'aide de
d251 2
a252 2
   l'architecture i386 ou PC. Quelque part cela signifie que les autres
   architectures ne vous donnent pas autant de choix! )</i>
d255 5
a259 6
La performance de vos applications dépend beaucoup de votre
système d'exploitation et des fonctionnalités qu'il
fournit. C'est peut-être une des raisons pour laquelle vous
utilisez OpenBSD. La performance de vos applications dépend
beaucoup de votre matériel aussi. Pour beaucoup de gens, le
rapport prix/performance d'un nouveau PC doté d'un processeur
d261 2
a262 2
prix/performance d'une station Sun UltraSPARC 60! Et bien sûr, le
prix de OpenBSD ne peut être battu.
d265 9
a273 10
Si vous allez acheter un PC, pièce par pièce ou
assemblé, vous devez vous assurer que vous allez acheter des
composants fiables. Dans le monde PC, ce n'est pas quelque chose de
facile. <b>OpenBSD peut être lent et souvent planter à
cause de mauvais composants, des composants non fiables ou un mauvais
assortiment de composants</b>. Le meilleur conseil que nous pouvons vous
donner est d'être très attentif, achetez des marques et des
composants qui ont été testées par une
autorité dans laquelle vous avez confiance. Parfois lorsque vous
lésinez sur le prix d'un PC, vous perdez en qualité!
d276 2
a277 2
Il y a certaines choses qui vont vous aider à tirer le meilleur
parti de votre matériel :
d282 5
a286 6
disques de moindre capacité. Bien que ça risque de vous
coûter plus cher, distribuer la charge sur plusieurs têtes
diminuera le temps nécessaire pour accéder aux
données sur les disques. Et avec plus d'axes, vous obtiendrez un
meilleur niveau de fiabilité et un accès aux données plus rapide avec le
système RAID.
d292 6
a297 7
raisonnable de s'attendre à plus de 15 à 20
Mégaoctets de débit par seconde sur un seul disque. En
utilisant des disques SCSI haut de gamme (des disques plus chers
à 10000 RPM), vous pouvez atteindre des performances
supérieures. Inversement, si vous allez utiliser des disques SCSI
milieu ou bas de gamme, c'est une perte d'argent. Et la technologie IDE
sera aussi bonne sinon meilleure.
d310 21
a330 27
architectures ne vous laissent pas le choix du type de RAM à
utiliser. Vous aurez de meilleures performances avec de la SDRAM par
rapport à de la DRAM (SIMMs). Si votre système supporte la
RDRAM ou un autre type nouveau de RAM, alors vous êtes
déjà en avance...
<p>
<li><b>Utilisez de la mémoire ECC ou de la RAM à
parité.</b>
La parité ajoute certaines fonctionnalités pour
vérifier si les données en RAM ont été
corrompues. La mémoire ECC étend ces
fonctionnalités et tente de corriger certaines erreurs de
corruption de bits à la volée. Cette option s'applique
surtout aux PCs. La plupart des autres architectures requièrent
simplement de la mémoire ECC ou à parité. Plusieurs
machines non-PC ne démarreront même pas avec de la RAM sans
parité. Si vous n'utilisez pas de la mémoire ECC ou
à parité, vous aurez peut-être de la corruption de
données et d'autres anomalies. Plusieurs fabricantsde &quot;RAM
à faible coût pour PC&quot; ne font même pas une
variété ECC! Ce qui vous aidera à les
éviter! Les fabricantsde PC vendent souvent plusieurs gammes de
produits, organisées en &quot;serveurs&quot; et &quot;stations de
travail&quot;. Les serveurs vont contenir de la RAM ECC dans leur
architecture. Les fabricantsde stations de travail Unix utilisent de la
mémoire à parité (et maintenant ECC) depuis
plusieurs années dans toutes leurs gammes de produits.
d333 5
a337 7
Alors que la plupart de gens évitent les
périphériques ISA, parce qu'ils sont
généralement difficiles à configurer et
obsolètes, il en existe encore beaucoup. Si vous utilisez un bus
ISA pour votre disque ou vos contrôleurs réseau (ou, encore
plus grave, pour les deux), rappelez vous que le bus ISA en
lui-même peut être un goulet d'étranglement. Si vous
d339 2
a340 3
plusieurs cartes à bus ISA qui fonctionnement bien.
Malheureusement, la plupart de ces cartes sont des cartes son ou des
cartes série.
d343 10
a352 12
OpenBSD supporte une pléthore de cartes réseau PCI bas de
gamme Ces cartes fonctionnement très bien en environnement
domestique, et aussi dans des environnements d'entreprise ou de
recherche à débit faible ou modéré. Mais si
vous avez besoin de haut débit avec un faible impact sur votre
serveur, il serait plus judicieux d'opter pour une carte réseau
PCI de qualité. Malheureusement, certaines cartes coûteuses
ne sont pas mieux que des cartes bas de gamme. Les adaptateurs Gigabit
ont souvent de meilleures performances que les adaptateurs
10Mbps/100Mbps même lorsqu'ils sont utilisés sur des
réseaux à vitesse plus lente vu leur meilleure mise en
tampon.
d370 4
a373 5
Réponse : &quot; les montages asynchrones sont en effet plus
rapides que des montages synchrones, mais ils sont aussi moins
sûrs. Qu'arrive-t-il dans le cas d'une panne de courant ? Ou un
problème matériel ? la quête de la vitesse ne doit
pas sacrifier la fiabilité et la stabilité du
d389 7
a395 8
D'un autre côté, quand vous travaillez avec des
données temporaires que vous pouvez recréer après
un plantage, vous pouvez gagnez en vitesse en utilisant une partition
à part montée en asynchrone, utilisée uniquement
pour ce type de données. Encore une fois, n'effectuez cette
opération <i>que si</i> vous ne voyez pas d'inconvénient
à perdre toutes les données de cette partition si quelque
chose va mal. Pour cette raison, les partitions 
d403 1
a403 1
       sous XFree86</h2>
d406 3
a408 3
   de la création manuelle du ModeLine avec les versions
   récentes de X. CEPENDANT, cette opération est parfois
   nécessaire dans des situations unusuelles.</i>
d412 13
a424 16
serveur X avec une résolution acceptable. Si quelqu'un a
déjà essayé de faire ceci avec les utilitaires
standards xf86config ou XF86Setup, il est fort probable qu'il n'aie pas
obtenu les meilleurs résultats possibles. Un des aspects les plus
difficiles est de simplement configurer votre moniteur avec votre
résolution préférée, puis de
paramétrer la vitesse de balayage vertical à une valeur
d'au moins 72-75 Hz, une valeur où le scintillement de
l'écran est beaucoup moins visible à l'oeil humain.
Inversement, qu'en est t'il quand vous essayez de positionner la vitesse
de balayage vertical à une vitesse très faible ? Vous
pouvez le positionner à 50 Hz de telle manière à
pouvoir en capturer le contenu sur une vidéo sans scintillement,
mais les méthodes pour effectuer cette opération ne sont
pas évidentes avec les outils et la documentation standards de
XFree86.
d429 16
a444 18
image très propre et agréable à des
résolutions normalement utilisées par beaucoup de gens sur
des moniteurs VGA à faible coût (800x600, 1024x768,
1152x900, 1280x1024). Le serveur X XFree86 possède un
mécanismequi vous permet de décrire en détail le
mode vidéo que vous voulez utiliser : C'est le ModeLine. Un
ModeLine a quatre sections. Un chiffre pour la dotclock (bande
passante), quatre chiffres pour les temporisations horizontales, quatre
chiffres pour les temporisations verticales, et une section optionnelle
contenant une liste de drapeaux spécifiant d'autres
caractéristiques du mode (telles que l'interlaçage,
DoubleScan, ... Voir la page XF86Config(5) du manuel pour plus de
détails concernant ModeLine).

<p>
La génération d'un ModeLine s'apparente à de la
magie noire... Heureusement, il existe plusieurs scripts qui peuvent
vous en générer un. Un de ces scripts est 
d450 7
a456 7
Avant de pouvoir utiliser ces générateurs ModeLine, vous
devez trouver les limites de synchronisation verticale et horizontale de
votre moniteur. C'est souvent documenté dans le manuel ou sur le
site Web du constructeur. Si ne vous trouvez ni l'un ni l'autre, faites
une recherche sur le Web avec le modèle et la marque du moniteur.
Plusieurs personnes sympathiques ont rassemblé des listes avec ce
type d'informations.
d460 16
a475 16
effectué des recherches en agonisant sur le site Web de Dell pour
savoir qu'il a une plage de balayage horizontal de 30-95 kHz et 50-160
Hz en balayage vertical. Visitez la page du générateur de
ModeLine et saisissez ces informations. La prochaine étape
consiste à saisir la vitesse minimale de balayage vertical que
vous voulez. N'importe quelle vitesse de 72 Hz et au delà devrait
permettre d'obtenir un scintillement peu visible. Plus vous montez la
vitesse, plus votre image est claire et précise.

<p>
Avec toutes ces informations, le script va générer un
ModeLine pour toutes les résolutions 4x3 possibles que votre
moniteur peut supporter, et au-dessus de la vitesse minimale de balayage
verticale que vous avez saisi. Si quelqu'un avait saisi les
spécifications de ce moniteur Dell avec une vitesse minimale de
balayage verticale de 75 Hz, le script donnera quelque chose comme :
d498 4
a501 5
Bien que ce moniteur prétend atteindre 1600x1200 @@ 75 Hz, le
script ne dit pas que cette résolution peut être atteinte
à 75 Hz. Si vous voulez précisément avoir
1600x1200, abaissez un peu votre vitesse minimale ... (Dans l'exemple
qui suit, nous fixons cette vitesse à 70 Hz)
d516 2
a517 3
vitesse de point (bande passante) est limitée à 200 Mhz.
Positionnez la bande passante par rapport aux limites définies
par le moniteur.
d521 7
a527 8
/etc/X11/XF86Config. Mettez en commentaire les anciens ModeLines de telle
façon à pouvoir les utiliser par la suite si les nouveaux
ne fonctionnent pas. Ensuite choisissez votre résolution. D'abord
vous devez déterminer si X tourne en mode
accéléré (ce qui est le cas avec la plupart des
cartes graphiques) afin de savoir quelle section <tt>"Screen"</tt>
modifier dans le fichier XF86Config. Sinon, modifiez toutes les sections
Screen.
d542 37
a578 44
La première fréquence que vous voyez après la ligne
&quot;Modes&quot; est la fréquence avec laquelle X va
démarrer. En appuyant sur les touches CTRL-ALT-MOINS DU PAVE
NUMERIQUE, ou CTRL-ALT-PLUS DU PAVE NUMERIQUE, vous pouvez commuter
entre les fréquences que vous avez spécifié sur
cette ligne. Selon la section ci-dessus, X va essayer de démarrer
en mode couleur 32 bits (via la directive DefaultColorDepth sans
laquelle X va démarrer en mode couleur 8 bits). La
première résolution qu'il essayera de charger est
1280x1024 (il suit l'ordre précisé dans la ligne Modes).
Notez que &quot;1280x1024&quot; est simplement un label des valeurs du
ModeLine.

<p>
Il est à noter que le script de génération du
ModeLine possède des options qui permettent de rendre ces
temporisations plus flexibles pour les vieux ou petits moniteurs. De
même, il a la capacité de fournir des ModeLines pour des
résolutions spécifiques. Selon le type de matériel
que vous avez, il ne sera peut-être pas facile de l'utiliser avec
les options par défaut. Si l'image est trop grande, trop large,
ou trop petite, ou elle est décalée horizontalement ou
verticalement, et les contrôles du moniteur ne sont pas suffisants
pour corriger son apparence, vous pouvez utiliser xvidtune(1) afin
d'ajuster le ModeLine pour mieux respecter les temporisations du
moniteur.

<p>
Sur la plupart des moniteurs modernes, il n'y a pas de limite
fixée sur la bande passante. C'est pourquoi elles ne sont plus
listées dans les spécifications. Mais plus vous augmentez
la bande passante, plus l'image devient floue. Ainsi, vous pouvez
commencer par la bande passante (appelée aussi
&quot;dotclock&quot;) de votre carte pour tester (vous ne pouvez pas
abimer votre moniteur comme ça) et diminuer la bande passante au
fur et à mesure jusqu'à ce que vous obteniez une image
précise.

<p>
Cette procédure est inutilement complexe. XFree86 4.0
améliore nettement ce processus puisque cette version
possède des modes internes et est capable de découvrir les
capacités des moniteurs &quot;plug and play&quot; à
travers DCC et DCC2.
d585 5
a589 5
Vous aurez besoin de télécharger et de compiler
l'interpréteur Klone. Cet interpréteur se trouve dans la
collection de ports sous <tt>lang/klone</tt>. Les scripts sont dans le
répertoire scripts de la distribution Klone (la collection de
ports les installe dans /usr/local/klone/scripts).
d592 7
a598 9
Deux versions du script sont incluses. La première est une
version CGI identique à la page Web ci-dessus. La seconde est une
version non-CGI qui va lire votre fichier XF86Config dans sa
totalité, décoder les spécifications du moniteur
que vous avez saisi dans xf86config/XF86Setup
(Réfléchissez, avez-vous réellement
renseigné le fichier avec les spécifications de votre
moniteur ou avez-vous gardé les valeurs génériques
?), et corriger les ModeLines existants en conséquence.
d615 2
a616 2
Originally [OpenBSD: faq11.html,v 1.55 ]<br>
$Translation: faq11.html,v 1.25 2005/02/13 16:54:59 saad Exp $<br>
@


1.19
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2004 by OpenBSD.">
d663 2
a664 2
Originally [OpenBSD: faq11.html,v 1.54 ]<br>
$Translation: faq11.html,v 1.24 2005/01/17 21:31:58 aanriot Exp $<br>
@


1.18
log
@Sync with Steelix CVS
@
text
@d662 1
d664 2
a665 1
$Translation: faq11.html,v 1.23 2004/11/20 12:07:49 ajacoutot Exp $<br>
@


1.17
log
@sync with Steelix CVS
@
text
@d218 1
a218 1
en savoir plus, consultez <a href="../faq14.html#SoftUpdates">La FAQ
d663 1
a663 1
$Translation: faq11.html,v 1.22 2004/11/07 08:14:12 aanriot Exp $<br>
@


1.16
log
@Sync with Steelix CVS
@
text
@d22 2
a23 2
<a href= "faq10.html">[Section 10 - Gestion du Syst&egrave;me]</a>
<a href= "faq12.html">[Section 12 - Questions Sp&eacute;cifiques Aux
d33 2
a34 2
   ce fichier est obsol&egrave;te. Consultez la version anglaise 
   <a href="../faq11.html">ici</a> pour des informations &agrave; jour.
d37 2
a38 2
Si vous souhaitez contribuez &agrave; l'effort de traduction,
pri&egrave;re de consulter
d45 1
a45 1
<h3>Table des mati&egrave;res</h3>
d48 1
a48 1
<li><a href="#HW"     >11.2 - Choix Mat&eacute;riels</a>
d51 2
a52 2
<li><a href="#XF86"   >11.4 - Optimisation de la R&eacute;solution de
votre &Eacute;cran sous XFree86</a>
d64 3
a66 3
important quand votre machine h&eacute;berge un environnement multi
utilisateur (des utilisateurs de toutes les cat&eacute;gories tels que
les utilisateurs qui se connectent de mani&egrave;re interactive et les
d68 2
a69 2
serveur Web). Le stockage de donn&eacute;es demande une attention
constante et particuli&egrave;rement quand vos partitions ne contiennent
d71 3
a73 3
poss&egrave;de plusieurs options pour augmenter la vitesse des
op&eacute;rations sur disque. De plus il fournit des
fonctionnalit&eacute;s de tol&eacute;rance aux pannes.
d76 1
a76 1
Table des mati&egrave;res 
d78 1
a78 1
<li><a href="#ccd">CCD</a> - Pilote de Disques Concat&eacute;n&eacute;s.
d89 1
a89 1
La premi&egrave;re option consiste &agrave; utiliser 
d92 1
a92 1
, le Pilote de Disques Concat&eacute;n&eacute;s. Il vous permet de
d99 3
a101 3
Si vous utilisez le noyau GENERIC, ccd est d&eacute;j&agrave; activ&eacute; (dans
<tt>/usr/src/sys/conf/GENERIC</tt>). Si vous avez personnalis&eacute; votre
noyau, vous aurez &eacute;ventuellement besoin de refaire la configuration de
d110 4
a113 4
La ligne pr&eacute;c&eacute;dente vous permet de configurer
jusqu'&agrave; 4 p&eacute;riph&eacute;riques ccd (disques virtuels).
L'&eacute;tape suivante consiste &agrave; choisir les partitions sur vos
disques physiques que vous voulez consacrer &agrave; ccd. Utilisez
d115 2
a116 2
architectures, disklabel ne vous autorisera pas &agrave; effectuer cette
op&eacute;ration. Dans ce cas, marquez les en 'ffs'.
d119 5
a123 5
Si vous utilisez ccd pour am&eacute;liorer les performances &agrave;
travers la technique du striping, il est &agrave; noter que vous n'aurez
pas de performance optimale &agrave; moins que vous n'utilisiez le
m&ecirc;me mod&egrave;le de disques avec le m&ecirc;me
param&eacute;trage disklabel.
d126 1
a126 1
Editez le fichier /etc/ccd.conf afin qu'il ressemble &agrave; ce qui
d139 1
a139 1
Pour que vos modifications prennent effet, ex&eacute;cutez :
d147 2
a148 2
automatiquement lors du d&eacute;marrage de la machine. A ce point, vous
avez un nouveau disque d&eacute;nomm&eacute; ccd0; combinaison de
d151 3
a153 3
'c' comme une partition r&eacute;elle sur laquelle vous pouvez stocker
des donn&eacute;es. Assurez-vous que vos partitions soient au moins
d&eacute;cal&eacute;es d'un cylindre par rapport au d&eacute;but du
d163 1
a163 1
est une autre solution. Elle n&eacute;cessitera l'utilisation de la commande 
d165 2
a166 2
pour contr&ocirc;ler vos p&eacute;riph&eacute;riques raid. le RAID
OpenBSD est bas&eacute; sur le
d172 4
a175 4
Comme pour ccd, le support raid doit &ecirc;tre configur&eacute; dans le
NOYAU. Mais contrairement &agrave; ccd, le support RAID n'est pas
configur&eacute; par d&eacute;faut dans GENERIC. Il doit compil&eacute;
au niveau du noyau (le support RAID ajoute 500k &agrave; la taille d'un
d183 2
a184 2
La configuration du RAID sous certains syst&egrave;mes d'exploitation
peut pr&ecirc;ter &agrave; confusion et s'av&eacute;rer difficile. Ce
d189 3
a191 3
Pour des informations compl&egrave;tes. Il y a plusieurs options et
configurations possibles. Une explication d&eacute;taill&eacute;e est
au-del&agrave; du p&eacute;rim&egrave;tre du pr&eacute;sent document.
d199 2
a200 2
Un autre outil qui peut &ecirc;tre utilis&eacute; pour acc&eacute;lerer
la vitesse de votre syst&egrave;me est softupdates. La mise &agrave;
d202 10
a211 10
cr&eacute;ez ou supprimez des fichiers et des r&eacute;pertoires entre
autres) est une des op&eacute;rations les plus lentes du syst&egrave;me
de fichiers BSD traditionnel. Softupdates tente de mettre &agrave; jour
les metainfo dans la RAM au lieu d'&eacute;crire chaque mise &agrave;
jour de metainfo sur le disque. Une autre cons&eacute;quence est que les
metainfo sur le disque devraient &ecirc;tre toujours compl&egrave;tes,
mais pas forc&eacute;ment &agrave; jour. Un crash syst&egrave;me ne
devrait donc pas n&eacute;cessiter une op&eacute;ration fsck lors du
d&eacute;marrage de la machine, mais seulement une version
d'arri&egrave;re-plan de 
d215 1
a215 1
Ce qui veut dire que le red&eacute;marrage d'un serveur est beaucoup
d217 1
a217 1
(OpenBSD ne poss&egrave;de pas cette fonctionnalit&eacute; encore). Pour
d228 1
a228 1
Remarque : pr&eacute;c&eacute;demment, la page du manuel  
d231 1
a231 1
Ce n'est plus recommand&eacute;. Au lieu de cela, utilisez la
d237 1
a237 1
page first... <a href="">namei(3)</a> -->namei()) contr&ocirc;le 
d241 1
a241 1
&agrave; remarquer &agrave; l'aide d'un outil comme
d244 1
a244 1
courante g&eacute;n&eacute;r&eacute;e avec
d246 5
a250 5
, (qui appelle ce param&egrave;tre "<tt>kern.maxvnodes</tt>") et
d'augmenter cette valeur soit jusqu'&agrave; ce que les le taux de
r&eacute;ponse &agrave; partir du cache namei s'am&eacute;liore soit
jusqu'&agrave; ce qu'on d&eacute;termine que le syst&egrave;me ne
b&eacute;n&eacute;ficie plus substantiellement de l'augmentation de la
d252 2
a253 2
d&eacute;termin&eacute;e, vous pouvez la fixer au d&eacute;marrage du
syst&egrave;me &agrave; l'aide de
d260 1
a260 1
<h2>11.2 - Choix mat&eacute;riels</h2>
d264 1
a264 1
<i>(Remarque - cette section est tr&egrave;s centr&eacute;e autour de
d269 6
a274 6
La performance de vos applications d&eacute;pend beaucoup de votre
syst&egrave;me d'exploitation et des fonctionnalit&eacute;s qu'il
fournit. C'est peut-&ecirc;tre une des raisons pour laquelle vous
utilisez OpenBSD. La performance de vos applications d&eacute;pend
beaucoup de votre mat&eacute;riel aussi. Pour beaucoup de gens, le
rapport prix/performance d'un nouveau PC dot&eacute; d'un processeur
d276 2
a277 2
prix/performance d'une station Sun UltraSPARC 60! Et bien s&ucirc;r, le
prix de OpenBSD ne peut &ecirc;tre battu.
d280 2
a281 2
Si vous allez acheter un PC, pi&egrave;ce par pi&egrave;ce ou
assembl&eacute;, vous devez vous assurer que vous allez acheter des
d283 1
a283 1
facile. <b>OpenBSD peut &ecirc;tre lent et souvent planter &agrave;
d286 4
a289 4
donner est d'&ecirc;tre tr&egrave;s attentif, achetez des marques et des
composants qui ont &eacute;t&eacute; test&eacute;es par une
autorit&eacute; dans laquelle vous avez confiance. Parfois lorsque vous
l&eacute;sinez sur le prix d'un PC, vous perdez en qualit&eacute;!
d292 2
a293 2
Il y a certaines choses qui vont vous aider &agrave; tirer le meilleur
parti de votre mat&eacute;riel :
d297 7
a303 7
Au lieu d'acheter un disque de grande capacit&eacute;, achetez plusieurs
disques de moindre capacit&eacute;. Bien que &ccedil;a risque de vous
co&ucirc;ter plus cher, distribuer la charge sur plusieurs t&ecirc;tes
diminuera le temps n&eacute;cessaire pour acc&eacute;der aux
donn&eacute;es sur les disques. Et avec plus d'axes, vous obtiendrez un
meilleur niveau de fiabilit&eacute; et un acc&egrave;s aux donn&eacute;es plus rapide avec le
syst&egrave;me RAID.
d305 1
a305 1
<li><b>Utilisez du SCSI si vous avez besoin de tr&egrave;s hautes
d307 1
a307 1
Les disques IDE ont des vitesses de rotation comprises entre 5400TPM &agrave;
d309 2
a310 2
raisonnable de s'attendre &agrave; plus de 15 &agrave; 20
M&eacute;gaoctets de d&eacute;bit par seconde sur un seul disque. En
d312 2
a313 2
&agrave; 10000 RPM), vous pouvez atteindre des performances
sup&eacute;rieures. Inversement, si vous allez utiliser des disques SCSI
d318 6
a323 6
disque, consid&eacute;rez la technologie SCSI. IDE vous limitent &agrave; deux disques
par contr&ocirc;leur. Des acc&egrave;s simultan&eacute;s &agrave; ces deux disques peuvent avoir un
impact n&eacute;gatif sur les performances E/S de ces disques. SCSI "Wide" vous
limitent &agrave; 15 par contr&ocirc;leur et g&egrave;re les acc&egrave;s simultan&eacute;s mieux qu'IDE.
Certes, la technologie SCSI est plus co&ucirc;teuse, mais sa flexibilit&eacute; et
ses performances peuvent justifier ces co&ucirc;ts dans certains
d328 1
a328 1
architectures ne vous laissent pas le choix du type de RAM &agrave;
d330 21
a350 21
rapport &agrave; de la DRAM (SIMMs). Si votre syst&egrave;me supporte la
RDRAM ou un autre type nouveau de RAM, alors vous &ecirc;tes
d&eacute;j&agrave; en avance...
<p>
<li><b>Utilisez de la m&eacute;moire ECC ou de la RAM &agrave;
parit&eacute;.</b>
La parit&eacute; ajoute certaines fonctionnalit&eacute;s pour
v&eacute;rifier si les donn&eacute;es en RAM ont &eacute;t&eacute;
corrompues. La m&eacute;moire ECC &eacute;tend ces
fonctionnalit&eacute;s et tente de corriger certaines erreurs de
corruption de bits &agrave; la vol&eacute;e. Cette option s'applique
surtout aux PCs. La plupart des autres architectures requi&egrave;rent
simplement de la m&eacute;moire ECC ou &agrave; parit&eacute;. Plusieurs
machines non-PC ne d&eacute;marreront m&ecirc;me pas avec de la RAM sans
parit&eacute;. Si vous n'utilisez pas de la m&eacute;moire ECC ou
&agrave; parit&eacute;, vous aurez peut-&ecirc;tre de la corruption de
donn&eacute;es et d'autres anomalies. Plusieurs fabricantsde &quot;RAM
&agrave; faible co&ucirc;t pour PC&quot; ne font m&ecirc;me pas une
vari&eacute;t&eacute; ECC! Ce qui vous aidera &agrave; les
&eacute;viter! Les fabricantsde PC vendent souvent plusieurs gammes de
produits, organis&eacute;es en &quot;serveurs&quot; et &quot;stations de
d353 2
a354 2
m&eacute;moire &agrave; parit&eacute; (et maintenant ECC) depuis
plusieurs ann&eacute;es dans toutes leurs gammes de produits.
d356 6
a361 6
<li><b>Evitez les p&eacute;riph&eacute;riques ISA.</b>
Alors que la plupart de gens &eacute;vitent les
p&eacute;riph&eacute;riques ISA, parce qu'ils sont
g&eacute;n&eacute;ralement difficiles &agrave; configurer et
obsol&egrave;tes, il en existe encore beaucoup. Si vous utilisez un bus
ISA pour votre disque ou vos contr&ocirc;leurs r&eacute;seau (ou, encore
d363 1
a363 1
lui-m&ecirc;me peut &ecirc;tre un goulet d'&eacute;tranglement. Si vous
d365 1
a365 1
plusieurs cartes &agrave; bus ISA qui fonctionnement bien.
d367 1
a367 1
cartes s&eacute;rie.
d369 3
a371 3
<li><b>Evitez les cartes r&eacute;seau PCI bas de gamme.</b>
OpenBSD supporte une pl&eacute;thore de cartes r&eacute;seau PCI bas de
gamme Ces cartes fonctionnement tr&egrave;s bien en environnement
d373 4
a376 4
recherche &agrave; d&eacute;bit faible ou mod&eacute;r&eacute;. Mais si
vous avez besoin de haut d&eacute;bit avec un faible impact sur votre
serveur, il serait plus judicieux d'opter pour une carte r&eacute;seau
PCI de qualit&eacute;. Malheureusement, certaines cartes co&ucirc;teuses
d379 2
a380 2
10Mbps/100Mbps m&ecirc;me lorsqu'ils sont utilis&eacute;s sur des
r&eacute;seaux &agrave; vitesse plus lente vu leur meilleure mise en
d391 6
a396 6
qui rend un package dont j'ai besoin (qui touche &agrave; une centaine
de chose de temps &agrave; autre) utilisable. Pourquoi le montage
asynchrone n'est pas vu d'un bon &#156;il et n'est pas activ&eacute; par
d&eacute;faut (comme c'est le cas sur d'autres versions d'Unix) ? C'est
un m&eacute;canismes&ucirc;rement plus simple et plus s&ucirc;r
d'am&eacute;liorer les performances de certaines applications.&quot;
d399 1
a399 1
R&eacute;ponse : &quot; les montages asynchrones sont en effet plus
d401 4
a404 4
s&ucirc;rs. Qu'arrive-t-il dans le cas d'une panne de courant ? Ou un
probl&egrave;me mat&eacute;riel ? la qu&ecirc;te de la vitesse ne doit
pas sacrifier la fiabilit&eacute; et la stabilit&eacute; du
syst&egrave;me. Reportez-vous &agrave; la page du manuel de
d419 2
a420 2
D'un autre c&ocirc;t&eacute;, quand vous travaillez avec des
donn&eacute;es temporaires que vous pouvez recr&eacute;er apr&egrave;s
d422 4
a425 4
&agrave; part mont&eacute;e en asynchrone, utilis&eacute;e uniquement
pour ce type de donn&eacute;es. Encore une fois, n'effectuez cette
op&eacute;ration <i>que si</i> vous ne voyez pas d'inconv&eacute;nient
&agrave; perdre toutes les donn&eacute;es de cette partition si quelque
d428 2
a429 2
sont mont&eacute;es en mode asynchrone vu que de toute fa&ccedil;on, elles vont &ecirc;tre
&eacute;cras&eacute;es et recr&eacute;es apr&egrave;s un red&eacute;marrage.
d433 1
a433 1
<h2>11.4 - Optimisation de la R&eacute;solution de Votre &eacute;cran
d436 4
a439 4
<i>Remarque : La plupart des utilisateurs n'ont pas &agrave; se soucier
   de la cr&eacute;ation manuelle du ModeLine avec les versions
   r&eacute;centes de X. CEPENDANT, cette op&eacute;ration est parfois
   n&eacute;cessaire dans des situations unusuelles.</i>
d443 2
a444 2
serveur X avec une r&eacute;solution acceptable. Si quelqu'un a
d&eacute;j&agrave; essay&eacute; de faire ceci avec les utilitaires
d446 1
a446 1
obtenu les meilleurs r&eacute;sultats possibles. Un des aspects les plus
d448 4
a451 4
r&eacute;solution pr&eacute;f&eacute;r&eacute;e, puis de
param&eacute;trer la vitesse de balayage vertical &agrave; une valeur
d'au moins 72-75 Hz, une valeur o&ugrave; le scintillement de
l'&eacute;cran est beaucoup moins visible &agrave; l'oeil humain.
d453 5
a457 5
de balayage vertical &agrave; une vitesse tr&egrave;s faible ? Vous
pouvez le positionner &agrave; 50 Hz de telle mani&egrave;re &agrave;
pouvoir en capturer le contenu sur une vid&eacute;o sans scintillement,
mais les m&eacute;thodes pour effectuer cette op&eacute;ration ne sont
pas &eacute;videntes avec les outils et la documentation standards de
d463 6
a468 6
image tr&egrave;s propre et agr&eacute;able &agrave; des
r&eacute;solutions normalement utilis&eacute;es par beaucoup de gens sur
des moniteurs VGA &agrave; faible co&ucirc;t (800x600, 1024x768,
1152x900, 1280x1024). Le serveur X XFree86 poss&egrave;de un
m&eacute;canismequi vous permet de d&eacute;crire en d&eacute;tail le
mode vid&eacute;o que vous voulez utiliser : C'est le ModeLine. Un
d472 2
a473 2
contenant une liste de drapeaux sp&eacute;cifiant d'autres
caract&eacute;ristiques du mode (telles que l'interla&ccedil;age,
d475 1
a475 1
d&eacute;tails concernant ModeLine).
d478 1
a478 1
La g&eacute;n&eacute;ration d'un ModeLine s'apparente &agrave; de la
d480 1
a480 1
vous en g&eacute;n&eacute;rer un. Un de ces scripts est 
d484 1
a484 1
h&eacute;b&eacute;rg&eacute; par SourceForge et plusieurs
d486 1
a486 1
Avant de pouvoir utiliser ces g&eacute;n&eacute;rateurs ModeLine, vous
d488 1
a488 1
votre moniteur. C'est souvent document&eacute; dans le manuel ou sur le
d490 2
a491 2
une recherche sur le Web avec le mod&egrave;le et la marque du moniteur.
Plusieurs personnes sympathiques ont rassembl&eacute; des listes avec ce
d496 1
a496 1
effectu&eacute; des recherches en agonisant sur le site Web de Dell pour
d498 4
a501 4
Hz en balayage vertical. Visitez la page du g&eacute;n&eacute;rateur de
ModeLine et saisissez ces informations. La prochaine &eacute;tape
consiste &agrave; saisir la vitesse minimale de balayage vertical que
vous voulez. N'importe quelle vitesse de 72 Hz et au del&agrave; devrait
d503 1
a503 1
vitesse, plus votre image est claire et pr&eacute;cise.
d506 2
a507 2
Avec toutes ces informations, le script va g&eacute;n&eacute;rer un
ModeLine pour toutes les r&eacute;solutions 4x3 possibles que votre
d510 1
a510 1
sp&eacute;cifications de ce moniteur Dell avec une vitesse minimale de
d534 3
a536 3
Bien que ce moniteur pr&eacute;tend atteindre 1600x1200 @@ 75 Hz, le
script ne dit pas que cette r&eacute;solution peut &ecirc;tre atteinte
&agrave; 75 Hz. Si vous voulez pr&eacute;cis&eacute;ment avoir
d538 1
a538 1
qui suit, nous fixons cette vitesse &agrave; 70 Hz)
d553 2
a554 2
vitesse de point (bande passante) est limit&eacute;e &agrave; 200 Mhz.
Positionnez la bande passante par rapport aux limites d&eacute;finies
d560 4
a563 4
fa&ccedil;on &agrave; pouvoir les utiliser par la suite si les nouveaux
ne fonctionnent pas. Ensuite choisissez votre r&eacute;solution. D'abord
vous devez d&eacute;terminer si X tourne en mode
acc&eacute;l&eacute;r&eacute; (ce qui est le cas avec la plupart des
d581 3
a583 3
La premi&egrave;re fr&eacute;quence que vous voyez apr&egrave;s la ligne
&quot;Modes&quot; est la fr&eacute;quence avec laquelle X va
d&eacute;marrer. En appuyant sur les touches CTRL-ALT-MOINS DU PAVE
d585 2
a586 2
entre les fr&eacute;quences que vous avez sp&eacute;cifi&eacute; sur
cette ligne. Selon la section ci-dessus, X va essayer de d&eacute;marrer
d588 3
a590 3
laquelle X va d&eacute;marrer en mode couleur 8 bits). La
premi&egrave;re r&eacute;solution qu'il essayera de charger est
1280x1024 (il suit l'ordre pr&eacute;cis&eacute; dans la ligne Modes).
d595 2
a596 2
Il est &agrave; noter que le script de g&eacute;n&eacute;ration du
ModeLine poss&egrave;de des options qui permettent de rendre ces
d598 6
a603 6
m&ecirc;me, il a la capacit&eacute; de fournir des ModeLines pour des
r&eacute;solutions sp&eacute;cifiques. Selon le type de mat&eacute;riel
que vous avez, il ne sera peut-&ecirc;tre pas facile de l'utiliser avec
les options par d&eacute;faut. Si l'image est trop grande, trop large,
ou trop petite, ou elle est d&eacute;cal&eacute;e horizontalement ou
verticalement, et les contr&ocirc;les du moniteur ne sont pas suffisants
d610 2
a611 2
fix&eacute;e sur la bande passante. C'est pourquoi elles ne sont plus
list&eacute;es dans les sp&eacute;cifications. Mais plus vous augmentez
d613 1
a613 1
commencer par la bande passante (appel&eacute;e aussi
d615 3
a617 3
abimer votre moniteur comme &ccedil;a) et diminuer la bande passante au
fur et &agrave; mesure jusqu'&agrave; ce que vous obteniez une image
pr&eacute;cise.
d620 4
a623 4
Cette proc&eacute;dure est inutilement complexe. XFree86 4.0
am&eacute;liore nettement ce processus puisque cette version
poss&egrave;de des modes internes et est capable de d&eacute;couvrir les
capacit&eacute;s des moniteurs &quot;plug and play&quot; &agrave;
d628 2
a629 2
Vous pouvez t&eacute;l&eacute;charger le script Colas XFree86 ModeLine
Generator &agrave; l'adresse 
d631 2
a632 2
Vous aurez besoin de t&eacute;l&eacute;charger et de compiler
l'interpr&eacute;teur Klone. Cet interpr&eacute;teur se trouve dans la
d634 1
a634 1
r&eacute;pertoire scripts de la distribution Klone (la collection de
d638 2
a639 2
Deux versions du script sont incluses. La premi&egrave;re est une
version CGI identique &agrave; la page Web ci-dessus. La seconde est une
d641 1
a641 1
totalit&eacute;, d&eacute;coder les sp&eacute;cifications du moniteur
d643 4
a646 4
(R&eacute;fl&eacute;chissez, avez-vous r&eacute;ellement
renseign&eacute; le fichier avec les sp&eacute;cifications de votre
moniteur ou avez-vous gard&eacute; les valeurs g&eacute;n&eacute;riques
?), et corriger les ModeLines existants en cons&eacute;quence.
d651 2
a652 2
<a href= "faq10.html">[Section 10 - Gestion du Syst&egrave;me]</a>
<a href= "faq12.html">[Section 12 - Questions Sp&eacute;cifiques Aux
d663 1
a663 1
$Translation: faq11.html,v 1.21 2004/10/25 09:57:24 saad Exp $<br>
@


1.15
log
@Sync with Steelix CVS
@
text
@d16 3
a18 1
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
d662 2
a663 2
Originally [OpenBSD: faq11.html,v 1.53 ]<br>
$Translation: faq11.html,v 1.20 2004/08/18 14:42:08 saad Exp $<br>
@


1.14
log
@sync with Steelix CVS
@
text
@d36 1
a36 1
pri&egrave;re de consultez
d274 1
a274 1
prix/performance d'une station Sun UltraSparc 60! Et bien s&ucirc;r, le
d660 2
a661 2
Originally [OpenBSD: faq11.html,v 1.51 ]<br>
$Translation: faq11.html,v 1.18 2004/08/01 19:31:10 saad Exp $<br>
@


1.13
log
@Sync with Steelix CVS
@
text
@d375 5
a379 3
(telles que la s&eacute;rie 3com XL) ne sont pas mieux que des cartes
bas de gamme. Intel EtherExpress PRO/100 est une des cartes les plus
appr&eacute;ci&eacute;es.
d660 2
a661 2
Originally [OpenBSD: faq11.html,v 1.50 ]<br>
$Translation: faq11.html,v 1.17 2004/06/01 08:36:59 saad Exp $<br>
@


1.12
log
@Sync with Steelix CVS
@
text
@d48 1
a48 1
Asynchrone ?
d659 1
a659 1
$Translation: faq11.html,v 1.16 2004/05/20 06:06:20 saad Exp $<br>
@


1.11
log
@Sync with Steelix CVS
@
text
@d26 1
a26 1
<!-- UNCOMMENT ONLY WHEN THE FILE IS OUT OF SYNC -->
d39 1
a39 1
<!-- -->
d45 3
a47 5
<li><a href="#Network">11.1 - Mise en R&eacute;seau</a>
<li><a href="#Disk"   >11.2 - E/S Disque</a>
<!-- li><a href="#kmem"   >11.3 - Optimisation de kmem</a></li -->
<li><a href="#HW"     >11.4 - Choix Mat&eacute;riels</a>
<li><a href="#Async"  >11.5 - Pourquoi nous n'utilisons pas de Montage
d49 1
a49 1
<li><a href="#XF86"   >11.6 - Optimisation de la R&eacute;solution de
a55 67
Si la charge de votre serveur, passerelle ou pare-feu &eacute;tait
importante, vous souhaiteriez ou auriez besoin d'ajuster les
param&egrave;tres par d&eacute;faut pour obtenir les meilleures
performances de votre &eacute;quipement. La page du manuel
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a> 
a pour sujet les options du noyau. Ces options sont utilis&eacute;es
dans le fichier de configuration noyau avant de compiler un noyau
personnalis&eacute;, et quelques unes de ces options sont
param&eacute;trables via
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>.
Pour plus de d&eacute;tails, consultez la <a href="faq5.html">FAQ 5</a>.

<p>
<a name= "Network"></a>
<h2>11.1 - Mise en R&eacute;seau</h2>
<!-- XXXchanges - changes with OpenBSD 3.3 -->

<p>
Une option que vous aurez besoin de modifier pour un serveur, passerelle
ou pare-feu charg&eacute; est NMBCLUSTERS. Celle-ci contr&ocirc;le la
taille de la table de correspondance des grappes mbuf du noyau. Si vous
recevez des messages tels que &quot;mb_map full" sur votre machine,
alors vous devez augmentez la valeur de cette option. Si le trafic sur
une interface r&eacute;seau s'arr&ecirc;te sans raison valable, c'est
peut-&ecirc;tre aussi un signe que vous devez augmenter la valeur de
NMBCLUSTERS. Une valeur raisonnable sur architecture i386 pour la
plupart des interfaces ethernet 100Mbps (quelque soit le nombre
d'interfaces par machine) est 8192.

<blockquote><strong>
option NMBCLUSTERS=8192
</strong></blockquote>

<p>
La valeur par d&eacute;faut de NMBCLUSTERS d&eacute;pend de la
plate-forme. Elle est comprise dans l'intervalle 256 &agrave; 2048. Elle
est param&eacute;tr&eacute;e dans un fichier en-t&ecirc;te
d&eacute;pendant de la plate-forme, sauf si elle est
&eacute;cras&eacute;e par une ligne option dans le fichier de
configuration du noyau.

<p>
NMBCLUSTERS peut aussi &ecirc;tre positionn&eacute;e en utilisant 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>,
qui &eacute;limine le besoin de compiler un noyau et de
red&eacute;marrer pour le seul but de changer cette option :

<blockquote><pre>
# <b>config -e -o bsd.new /bsd</b>
OpenBSD 3.4 (GENERIC) #18: Wed Sep 17 03:34:47 MDT 2003
    deraadt@@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Enter 'help' for information
ukc> <b>nmbclust</b>
nmbclusters = 2048
ukc> <b>nmbclust 8192</b>
nmbclusters = 8192
ukc> <b>quit</b>
Saving modified kernel.
</pre></blockquote>

Ceci aura pour effet de cr&eacute;er un nouveau noyau nomm&eacute;
<tt>bsd.new</tt> dans le r&eacute;pertoire en cours, <i>et</i> de
modifier le param&egrave;tre NMBCLUSTERS dans le noyau actuel. Si tout
va bien, n'oubliez pas de copier <tt>bsd.new</tt> sous le nom
<tt>/bsd</tt> avant de red&eacute;marrer.

<p>
d57 1
a57 1
<h2>11.2 - E/S Disque</h2>
a77 1
<li><a href="#buf">Tampon Des Syst&egrave;mes de Fichiers</a>
d84 1
a84 1
<h3>11.2.1 - CCD</h3>
d157 1
a157 1
<h3>11.2.2 - RAID</h3>
a192 35
<a name="buf"></a>
<h3>11.2.3 - Tampon des Syst&egrave;mes de Fichiers</h3>

<blockquote>
Pour les serveurs de fichiers avec de la m&eacute;moire
inutilis&eacute;e, vous pouvez augmenter BUFCACHEPERCENT. C'est le
pourcentage de la RAM qui sera utilis&eacute;e comme tampon des
syst&egrave;mes de fichiers. Cette option sera probablement
amen&eacute;e &agrave; changer quand le cache tampon unifi&eacute; UBC
(Unified Buffer Cache) sera compl&eacute;t&eacute; et fera partie de
OpenBSD. En attendant, pour augmenter BUFCACHEPERCENT, vous devriez
ajouter &agrave; la configuration de votre noyau une ligne comme
celle-ci :
</blockquote>

<blockquote>
<strong>option  BUFCACHEPERCENT=30</strong><BR>
</blockquote>

<blockquote>
Bien entendu, vous pouvez fixer cette option &agrave; une valeur aussi
basse que 5 % (la valeur par d&eacute;faut) ou aussi haut que 50 % (ou
plus).
</blockquote>

<blockquote>
BUFCACHEPERCENT peut aussi &ecirc;tre positionn&eacute;e en utilisant la
commande
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
, comme indiqu&eacute; <a
href="#Network">pr&eacute;c&eacute;demment</a>, ce qui &eacute;limine le
besoin de compiler un noyau dans le seul but de changer cette option.
</blockquote>

<p>
d194 1
a194 1
<h3>11.2.4 - Soft Updates</h3>
d222 1
a222 1
<h3>11.2.5 - Taille du cache namei()</h3>
d237 1
a237 6
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inode&amp;sektion=5">inode(5)</a>
Par d&eacute;faut, ce cache peut contenir <tt>NPROC * (80 + NPROC /
8)</tt> entr&eacute;es. <tt>NPROC</tt> vaut <tt>20 + 16 * MAXUSERS</tt>;
consultez la page du manuel
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
pour plus d&eacute;tails concernant l'option noyau <tt>maxusers</tt>.
d258 1
a258 1
<h2>11.4 - Choix mat&eacute;riels</h2>
d382 1
a382 1
<h2>11.5 - Pourquoi nous n'utilisons pas de montage asynchrone ("async
d429 1
a429 1
<h2>11.6 - Optimisation de la R&eacute;solution de Votre &eacute;cran
d432 5
d658 2
a659 2
Originally [OpenBSD: faq11.html,v 1.49 ]<br>
$Translation: faq11.html,v 1.15 2004/04/22 05:10:31 saad Exp $<br>
@


1.10
log
@Sync with Steelix CVS
@
text
@d26 14
d764 1
a764 1
$Translation: faq11.html,v 1.14 2004/02/13 23:14:27 saad Exp $<br>
@


1.9
log
@Sync with Steelix CVS
@
text
@d749 2
a750 2
Originally [OpenBSD: faq11.html,v 1.48 ]<br>
$Translation: faq11.html,v 1.13 2004/01/02 22:19:03 saad Exp $<br>
@


1.8
log
@sync with steelix translation CVS
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2003 by OpenBSD.">
d749 2
a750 2
Originally [OpenBSD: faq11.html,v 1.47 ]<br>
$Translation: faq11.html,v 1.12 2003/11/04 20:59:56 saad Exp $<br>
@


1.7
log
@Sync with Steelix CVS
@
text
@d21 1
a21 1
<a href= "faq12.html">[Section 12 - Questions Spécifiques Aux
d44 9
a52 7
Si la charge de votre serveur, passerelle ou pare-feu &eacute;tait importante,
vous souhaiteriez ou auriez besoin d'ajuster les param&egrave;tres par d&eacute;faut
pour obtenir les meilleures performances de votre &eacute;quipement.
La page du manuel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a> 
a pour sujet les options du noyau. Ces options sont utilis&eacute;es dans le
fichier de configuration noyau avant de compiler un noyau personnalis&eacute;,
et quelques unes de ces options sont param&eacute;trables via
d78 6
a83 4
La valeur par d&eacute;faut de NMBCLUSTERS d&eacute;pend de la plate-forme. Elle est
comprise dans l'intervalle 256 &agrave; 2048. Elle est param&eacute;tr&eacute;e dans un
fichier en-t&ecirc;te d&eacute;pendant de la plate-forme, sauf si elle est &eacute;cras&eacute;e
par une ligne option dans le fichier de configuration du noyau.
d88 2
a89 2
qui &eacute;limine le besoin de compiler un noyau et de red&eacute;marrer pour le seul
but de changer cette option :
d93 1
a93 1
OpenBSD 3.3 (GENERIC) #44: Sat Mar 29 13:22:05 MST 2003
d104 5
a108 4
Ceci aura pour effet de cr&eacute;er un nouveau noyau nomm&eacute; <tt>bsd.new</tt>
dans le r&eacute;pertoire en cours, <i>et</i> de modifier le param&egrave;tre
NMBCLUSTERS dans le noyau actuel. Si tout va bien, n'oubliez pas de
copier <tt>bsd.new</tt> sous le nom <tt>/bsd</tt> avant de red&eacute;marrer.
a145 1

d275 2
a276 1
BUFCACHEPERCENT peut aussi &ecirc;tre positionn&eacute;e en utilisant la commande
d278 2
a279 1
, comme indiqu&eacute; <a href="#Network">pr&eacute;c&eacute;demment</a>, ce qui &eacute;limine le
d739 1
a739 1
<a href= "faq12.html">[Section 12 - Questions Spécifiques Aux
d749 2
a750 2
Originally [OpenBSD: faq11.html,v 1.46 ]<br>
$Translation: faq11.html,v 1.11 2003/10/18 20:34:37 saad Exp $<br>
@


1.6
log
@sync with steelix cvs
@
text
@d743 2
a744 2
Originally [OpenBSD: faq11.html,v 1.45 ]<br>
$Translation: faq11.html,v 1.10 2003/09/13 10:26:54 saad Exp $<br>
@


1.5
log
@sync with steelix cvs
@
text
@d21 1
a21 1
<a href= "../faq12.html">[Section 12 - Questions Spécifiques Aux
d733 1
a733 1
<a href= "../faq12.html">[Section 12 - Questions Spécifiques Aux
d744 1
a744 1
$Translation: faq11.html,v 1.9 2003/09/09 08:09:31 saad Exp $<br>
@


1.4
log
@sync with steelix translation CVS
@
text
@d21 2
a22 1
<a href= "faq12.html">[Section 12 - Pour Utilisateurs de Haut Niveau]</a>
a55 1
<a name= "11.1"></a>
a106 1
<a name= "11.2"></a>
a345 1

a346 7
<!-- a name= "kmem"></a>
<a name= "11.3"></a>
<h2>11.3 - Optimisation de kmem</h2>
Cette section a &eacute;t&eacute; d&eacute;plac&eacute;e vers la <a
href="faq11-2.5.html#11.2">section d'information OpenBSD 2.5</a>.
<br>
<p -->
a347 1
<a name= "11.4"></a>
a471 1
<a name= "11.5"></a>
a518 1
<a name= "11.6"></a>
d733 2
a734 1
<a href= "faq12.html">[Section 12 - Pour Utilisateurs de Haut Niveau]</a>
d743 2
a744 2
Originally [OpenBSD: faq11.html,v 1.42 ]<br>
$Translation: faq11.html,v 1.8 2003/06/25 19:09:18 xsa Exp $<br>
@


1.3
log
@sync with steelix translation CVS
@
text
@a0 1

d754 2
a755 2
Originally [OpenBSD: faq11.html,v 1.41 ]<br>
$Translation: faq11.html,v 1.7 2003/06/18 21:15:36 xsa Exp $<br>
@


1.2
log
@
sync with steelix translation CVS
@
text
@d653 1
a653 1
/etc/XF86Config. Mettez en commentaire les anciens ModeLines de telle
d755 2
a756 2
Originally [OpenBSD: faq11.html,v 1.40 ]<br>
$Translation: faq11.html,v 1.6 2003/05/11 15:42:48 saad Exp $<br>
@


1.1
log
@
sync with badlands translation CVS
@
text
@d1 2
d5 2
a6 1
<title>11.0 - Optimisation des performances</title>
d12 1
a12 1
<meta name= "copyright"     content= "This document copyright 1998-2002 by OpenBSD.">
d16 2
a17 1
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif"> 
d19 8
a26 3
<h2><font color=#e00000>11.0 - Optimisation des performances</font> 
  <hr></h2>
<p></p>
d29 1
d31 8
a38 9
  <h3>Table des mati&egrave;res</h3>
  <li><a href="#Network">11.1 - Mise en r&eacute;seau</a></li>
  <li><a href="#Disk"   >11.2 - E/S disque</a></li>
  <li><a href="#kmem"   >11.3 - Optimisation de kmem</a></li>
  <li><a href="#HW"     >11.4 - Choix mat&eacute;riels</a></li>
  <li><a href="#Async"  >11.5 - Pourquoi nous n'utilisons pas des montages asynchrones 
    (async mounts) ?</a></li>
  <li><a href="#XF86"   >11.6 - Optimisation de la r&eacute;solution de votre 
    &eacute;cran sous XFree86</a></li>
d40 1
a40 1
<p></p> 
d44 11
d57 2
a58 2
<h2>11.1 - Mise en r&eacute;seau</h2>
<p></p>
a59 5
<p>Si la charge de votre serveur, passerelle ou pare-feu, est importante alors 
  vous devez vous assurez que la m&eacute;moire ne manque pas pour les diff&eacute;rentes 
  parties du noyau d&eacute;crites ci-apr&egrave;s.</p>
<P>La page du manuel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&apropos=0&sektion=4&format=html">options(4)</a> 
  aborde les options pr&eacute;sent&eacute;es.
d61 45
a105 15
<p> 
<p>Une option que vous aurez besoin de modifier pour un serveur, passerelle ou 
  pare-feu charg&eacute; est NMBCLUSTERS. Celle-ci contr&ocirc;le la taille de 
  la table de correspondance des grappes mbuf du noyau. Si recevez des messages 
  tels que &quot;mb_map full" sur votre machine, alors vous devez augmentez la 
  valeur de cette option. Si le trafic sur une interface r&eacute;seau s'arr&ecirc;te 
  sans raison valable, c'est peut-&ecirc;tre aussi un signe que vous devez augmenter 
  la valeur de cette option. Une valeur raisonnable sur architecture i386 pour 
  la plupart des interfaces ethernet 100Mbps (quelque soit le nombre d'interfaces 
  par machine) est 8192.</p>
<ul>
<strong>
option NMBCLUSTERS=8192<BR>
</strong>
</ul>
d109 15
a123 2
<h2>11.2 - E/S disque</h2>
<p></p>
d125 2
a126 10
<p>La vitesse des E/S sur les disques est un facteur significatif de la vitesse 
  globale de votre machine. Ce facteur devient de plus en plus important quand 
  votre machine h&eacute;berge un environnement multi utilisateur (des utilisateurs 
  de toutes les cat&eacute;gories tels que les utilisateurs qui se connectent 
  de mani&egrave;re interactive et les utilisateurs qui voient votre machine comme 
  un serveur de fichiers ou un serveur Web). Le stockage de donn&eacute;es demande 
  une attention constante et particuli&egrave;rement quand vos partitions ne contiennent 
  plus d'espace libre ou quand vos disques ne fonctionnent plus. OpenBSD poss&egrave;de 
  plusieurs options pour augmenter la vitesse des op&eacute;rations sur disque. 
  De plus il fournit des fonctionnalit&eacute;s de tol&eacute;rance aux pannes.</p>
d128 5
a132 6
  Table des mati&egrave;res 
  <li><a href="#ccd">CCD</a> - Pilote de disques concat&eacute;n&eacute;s.
  <li><a href="#raid">RAID</a> 
  <li><a href="#buf">Tampon des syst&egrave;mes de fichiers</a>
  <li><a href="#softu">Soft Updates</a> 
  <li><a href="#maxvnodes">Taille du cache </a><a href="#maxvnodes">namei()</a>
d134 1
d137 22
a158 15
<H3>11.2.1 - CCD</H3>
<UL>
  <p>La premi&egrave;re option &agrave; utiliser est <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccd&apropos=0&sektion=4&format=html">ccd(4)</a>, 
    le pilotes de disques concat&eacute;n&eacute;s (Concatenated Disk Driver). 
    Il vous permet de grouper plusieurs partitions en un seul disque virtuel (ainsi 
    vous pouvez rendre plusieurs disques visibles comme un seul disque). Ce concept 
    est similaire au concept de LVM (gestion de volumes logiques) se trouvant 
    dans plusieurs versions Unix commerciales.</p>
  <p>Si votre machine tourne avec le noyau GENERIC, ccd est d&eacute;j&agrave; 
    activ&eacute;. Si ce n'est pas le cas, vous devriez l'ajouter &agrave; votre 
    configuration du kernel comme ceci : </p>
  <p> 
  <UL>
    <pre>
<strong>pseudo-device   ccd     4       # concatenated disk devices</strong>
d160 24
a183 17
  </UL>
  <p></p>
  <p>La ligne pr&eacute;c&eacute;dente vous permet de configurer jusqu'&agrave; 
    4 p&eacute;riph&eacute;riques ccd (disques virtuels). L'&eacute;tape suivante 
    consiste &agrave; choisir les partitions sur vos disques physiques que vous 
    voulez consacrer &agrave; ccd. Utilisez disklabel pour marquer ces partitions 
    en type 'ccd'. Sous certaines architectures, disklabel ne vous autorisera 
    pas &agrave; effectuer cette op&eacute;ration. Dans ce cas, marquez les en 
    'ffs'. </p>
  <p>Si vous utilisez ccd pour am&eacute;liorer les performances &agrave; travers 
    la technique du striping, il est &agrave; noter que vous n'aurez pas de performance 
    optimale &agrave; moins que vous n'utilisiez le m&ecirc;me mod&egrave;le de 
    disques avec le m&ecirc;me param&eacute;trage disklabel.</p>
  <p> Editez le fichier /etc/ccd.conf afin qu'il ressemble &agrave; ce qui suit 
    : (pour plus d'informations sur la configuration ccd, veuillez consulter <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccdconfig&apropos=0&sektion=8&format=html">ccdconfig(8)</a>) 
  <UL>
    <PRE>
d188 20
a207 18
</PRE>
  </UL>
  <p>Pour que vos modifications prennent effet, ex&eacute;cutez :</p>
  <UL>
    <PRE># ccdconfig -C
</PRE>
  </UL>
  <p>Aussi longtemps que /etc/cdd.conf existera, ccd se configurera automatiquement 
    lors du d&eacute;marrage de la machine. A ce point, vous avez un nouveau disque 
    d&eacute;nomm&eacute; ccd0; combinaison de /dev/sd2e et /dev/sd3e. Pour le 
    partitionner, utilisez disklabel normalement. Nous vous rappelons qu'il ne 
    faut pas utiliser la partition 'c' comme une partition r&eacute;elle sur laquelle 
    vous pouvez stocker des donn&eacute;es. Assurez-vous que vos partitions soient 
    au moins d&eacute;cal&eacute;es d'un cylindre par rapport au d&eacute;but 
    du disque.</p>
  <p></p>
</UL>
<br>
d209 1
d211 20
a230 15
<H3>11.2.2 - RAID</H3>
<UL>
  <p>Une autre solution est <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=raid&apropos=0&sektion=4&format=html">raid(4)</a> 
    que vous devez utiliser &agrave; l'aide de <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raidctl&apropos=0&sektion=8&format=html">raidctl(8)</a>, 
    commande qui vous permet de contr&ocirc;ler vos p&eacute;riph&eacute;riques 
    raid. le RAID OpenBSD est bas&eacute; sur le <a href="http://www.cs.usask.ca/staff/oster/raid.html">port 
    NetBSD</a> de Greg Oster du logiciel <a href="http://www.pdl.cmu.edu/RAIDframe/">RAIDframe</a> 
    du CMU. OpenBSD supporte les niveaux RAID 0, 1, 4 et 5.</p>
  <p>Comme pour ccd, le support raid doit &ecirc;tre configur&eacute; dans le 
    NOYAU. Mais contrairement &agrave; ccd, le support RAID n'est pas configur&eacute; 
    par d&eacute;faut dans GENERIC. Il doit compil&eacute; au niveau du noyau 
    (le support RAID ajoute 500k &agrave; la taille d'un noyau i386!) :</p>
  <p> 
  <UL>
    <pre>
d232 13
a244 11
</pre>
  </UL>
  <p>La configuration du RAID sous certains syst&egrave;mes d'exploitation peut 
    pr&ecirc;ter &agrave; confusion et s'av&eacute;rer difficile. Ce n'est pas 
    le cas de RAIDframe. Lisez les pages du manuel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raid&apropos=0&sektion=4&format=html">raid(4)</a> 
    et <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=raidctl&apropos=0&sektion=8&format=html">raidctl(8)</a> 
    pour les d&eacute;tails complets. Il y a plusieurs options et configurations 
    possibles. Une explication d&eacute;taill&eacute;e est au-del&agrave; du p&eacute;rim&egrave;tre 
    de ce document.</p>
</UL>
<BR>
d246 1
d248 30
a277 22
<H3>11.2.3 - Tampon des syst&egrave;mes de fichiers</H3>
<UL>
  <p>Pour les serveurs de fichiers avec de la m&eacute;moire inutilis&eacute;e, 
    vous pouvez augmenter BUFCACHEPERCENT. C'est le pourcentage de la RAM qui 
    sera utilis&eacute;e comme tampon des syst&egrave;mes de fichiers. Cette option 
    sera probablement amen&eacute;e &agrave; changer quand le cache tampon unifi&eacute; 
    UBC (Unified Buffer Cache) sera compl&eacute;t&eacute; et fera partie de OpenBSD. 
    En attendant, pour augmenter BUFCACHEPERCENT, vous devriez ajouter &agrave; 
    la configuration de votre noyau une ligne comme celle-ci :</p>
</UL>
<p></p>

<p>
<UL>
<strong>option	BUFCACHEPERCENT=30</strong><BR>
</UL>
<p></p>
<ul>
  <p>Bien entendu, vous pouvez fixer cette option &agrave; une valeur aussi basse 
    que 5 % (la valeur par d&eacute;faut) ou aussi haut que 50 % (ou plus).</p>
</ul>
<br>
d279 1
d281 25
a305 21
<H3>11.2.4 - Soft updates</H3>
<UL>
  <p>Un autre outil qui peut &ecirc;tre utilis&eacute; pour acc&eacute;lerer la 
    vitesse de votre syst&egrave;me est softupdates. La mise &agrave; jour des 
    informations meta ou metainfo (qui a lieu quand vous cr&eacute;ez ou supprimez 
    des fichiers et des r&eacute;pertoires entre autres) est une des op&eacute;rations 
    les plus lentes du syst&egrave;me de fichiers BSD traditionnel. Softupdates 
    tente de mettre &agrave; jour les metainfo dans la RAM au lieu d'&eacute;crire 
    chaque mise &agrave; jour de metainfo sur le disque. Une autre cons&eacute;quence 
    est que les metainfo sur le disque devraient &ecirc;tre toujours compl&egrave;tes, 
    mais pas forc&eacute;ment &agrave; jour. Un crash syst&egrave;me ne devrait 
    donc pas n&eacute;cessiter une op&eacute;ration fsck lors du d&eacute;marrage 
    de la machine, mais seulement une version d'arri&egrave;re-plan de fsck qui 
    effectue des modifications aux metainfo en RAM (comme softupdates). Ce qui 
    veut dire que le red&eacute;marrage d'un serveur est beaucoup plus rapide 
    puisque vous n'avez pas besoin d'attendre que fsck finisse! (OpenBSD ne poss&egrave;de 
    pas cette fonctionnalit&eacute; encore). Pour en savoir plus, consultez <a href="../faq14.html#SoftUpdates">Softupdates 
    FAQ</a>.</p>
</UL>
<p></p>
<BR>
d307 1
d309 39
a347 31
<H3>11.2.5 - Taille du cache namei</H3>
<DL> 
  <DD> 
    <p>Remarque : pr&eacute;c&eacute;demment, la page du manuel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&sektion=4&format=html">options(4)</a> 
      recommandait de positionner l'option du noyau <tt>NVNODE=integer</tt>. Ce 
      n'est plus recommand&eacute;. Au lieu de cela, vous devriez la commande 
      <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=8&format=html">sysctl(8)</a>. 
    </p>
  </DD>
  <DD> 
    <p>Le cache de traduction nom-vers-inode (name-to-inode ou namei()) contr&ocirc;le 
      la vitesse de la traduction chemin vers <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inode&sektion=5&format=html">inode(5)</a>. 
      Par d&eacute;faut, ce cache peut contenir <tt>NPROC * (80 + NPROC / 8)</tt> 
      entr&eacute;es. <tt>NPROC</tt> vaut <tt>20 + 16 * MAXUSERS</tt>; consultez 
      la page du manuel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8&format=html">config(8)</a> 
      pour plus d&eacute;tails concernant l'option noyau <tt>maxusers</tt>. Une 
      valeur raisonnable de fixer une valeur pour le cache, si on venait &agrave; 
      remarquer &agrave; l'aide d'un outil comme <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=systat&sektion=1&format=html">systat(1)</a> 
      des erreurs d'allocation au niveau du cache, est d'examiner la valeur courante 
      g&eacute;n&eacute;r&eacute;e avec <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl&sektion=8&format=html">sysctl(8)</a>, 
      qui appelle ce param&egrave;tre "<tt>kern.maxvnodes</tt>", et d'augmenter 
      cette valeur soit jusqu'&agrave; ce que les le taux de r&eacute;ponse &agrave; 
      partir du cache namei s'am&eacute;liore soit jusqu'&agrave; ce qu'on d&eacute;termine 
      que le syst&egrave;me ne b&eacute;n&eacute;ficie plus substantiellement 
      de l'augmentation de la taille du cache namei. Une fois que la valeur est 
      d&eacute;termin&eacute;e, vous pouvez la fixer au d&eacute;marrage du syst&egrave;me 
      &agrave; l'aide de <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sysctl.conf&sektion=5&format=html">sysctl.conf(5)</a>.</p>
    </DD>
</DL>
<p></p>
<BR>
d350 1
a350 1
<a name= "kmem"></a>
d353 4
a356 4
<p></p>
Cette partie a &eacute;t&eacute; d&eacute;plac&eacute;e vers la <a href="../faq11-2.5.html#11.2">section 
d'informations OpenBSD 2.5</a>. <br>
<p>
d360 119
a478 68
<p></p>
<p><i>(Remarque - cette section est tr&egrave;s centr&eacute;e autour de l'architecture 
  i386 ou PC. Quelque part cela signifie que les autres architectures ne vous 
  donnent pas autant de choix!)</i></p>
<p>La performance de vos applications d&eacute;pend beaucoup de votre syst&egrave;me 
  d'exploitation et des fonctionnalit&eacute;s qu'il fournit. C'est peut-&ecirc;tre 
  une des raisons pour laquelle vous utilisez OpenBSD. La performance de vos applications 
  d&eacute;pend beaucoup de votre mat&eacute;riel aussi. Pour beaucoup de gens, 
  le rapport prix/performance d'un nouveau PC dot&eacute; d'un processeur Intel 
  Pentium III ou AMD Athlon est bien meilleur que le rapport prix/performance 
  d'une station Sun UltraSparc 60! Et bien s&ucirc;r, le prix de OpenBSD ne peut 
  &ecirc;tre battu.</p>
<P> Si vous allez acheter un PC, pi&egrave;ce par pi&egrave;ce ou assembl&eacute;, 
  vous devez vous assurer que vous allez acheter des composants fiables. Dans 
  le monde PC, ce n'est pas quelque chose de facile. OpenBSD peut &ecirc;tre lent 
  et souvent planter &agrave; cause de mauvais composants, des composants non 
  fiables ou un mauvais assortiment de composants. Le meilleur conseil que nous 
  pouvons vous donner est d'&ecirc;tre tr&egrave;s attentif, achetez des marques 
  et des composants qui ont &eacute;t&eacute; test&eacute;es par une autorit&eacute; 
  dans laquelle vous avez confiance. Parfois lorsque vous l&eacute;sinez sur le 
  prix d'un PC, vous perdez en qualit&eacute;!
<P> Il y a certaines choses qui vont vous aider &agrave; atteindre la meilleure 
  performance sur votre mat&eacute;riel :
<UL>
  <LI>Utilisez plusieurs disques. 
    <P>Au lieu d'acheter un disque de 20Go, achetez plusieurs disques de 9Go. 
      Bien que &ccedil;a risque de vous co&ucirc;ter plus cher, distribuer la 
      charge sur plusieurs t&ecirc;tes diminuera le temps n&eacute;cessaire pour 
      acc&eacute;der aux donn&eacute;es sur les disques. 
  </ul>
<UL>
  <LI>Utilisez du SCSI si vous avez besoin de tr&egrave;s hautes vitesses en E/S 
    disque. 
    <P>Les disques IDE tournent normalement &agrave; 5400 RPM. Les nouveaux disques 
      IDE tournent g&eacute;n&eacute;ralement &agrave; 7200 RPM. En utilisant 
      des disques IDE haut de gamme, il n'est pas raisonnable de s'attendre &agrave; 
      plus de 15 &agrave; 20 M&eacute;gaoctets de d&eacute;bit par seconde sur 
      un seul disque. En utilisant des disques SCSI haut de gamme (des disques 
      plus chers &agrave; 10000 RPM), vous pouvez atteindre des performances sup&eacute;rieures. 
      Inversement, si vous allez utiliser des disques SCSI milieu ou bas de gamme, 
      c'est une perte d'argent. Et la technologie IDE sera aussi bonne sinon meilleure. 
</ul>
<UL>
  <li>Utilisez de la SDRAM au lieu de la DRAM. 
    <P> Cette option est surtout valable aux PCs. La plupart des autres architectures 
      ne vous laissent pas le choix du type de RAM &agrave; utiliser. Vous aurez 
      de meilleures performances avec de la SDRAM par rapport &agrave; de la DRAM 
      (SIMMs). Si votre syst&egrave;me support la RDRAM ou un autre type nouveau 
      de RAM, alors vous &ecirc;tes d&eacute;j&agrave; en avance...
    <P> 
  <li>Utilisez de la m&eacute;moire ECC ou de la RAM &agrave; parit&eacute;. 
    <P>La parit&eacute; ajoute certaines fonctionnalit&eacute;s pour v&eacute;rifier 
      si les donn&eacute;es en RAM ont &eacute;t&eacute; corrompues. La m&eacute;moire 
      ECC &eacute;tend ces fonctionnalit&eacute;s et tente de corriger certaines 
      erreurs de corruption de bits &agrave; la vol&eacute;e. Cette option s'applique 
      surtout aux PCs. La plupart des autres architectures requi&egrave;rent simplement 
      de la m&eacute;moire ECC ou &agrave; parit&eacute;. Plusieurs machines non-PC 
      ne d&eacute;marreront m&ecirc;me pas avec de la RAM sans parit&eacute;. 
      Si vous n'utilisez pas de la m&eacute;moire ECC ou &agrave; parit&eacute;, 
      vous aurez peut-&ecirc;tre de la corruption de donn&eacute;es et d'autres 
      anomalies. Plusieurs fabricantsde &quot;RAM &agrave; faible co&ucirc;t 
      pour PC&quot; ne font m&ecirc;me pas une vari&eacute;t&eacute; ECC! Ce qui 
      vous aidera &agrave; les &eacute;viter! Les fabricantsde PC vendent souvent 
      plusieurs gammes de produits, organis&eacute;es en &quot;serveurs&quot; 
      et &quot;stations de travail&quot;. Les serveurs vont contenir de la RAM 
      ECC dans leur architecture. Les fabricantsde stations de travail Unix 
      utilisent de la m&eacute;moire &agrave; parit&eacute; (et maintenant ECC) 
      depuis plusieurs ann&eacute;es dans toutes leurs gammes de produits.
a480 23
<UL>
  <LI>Evitez les p&eacute;riph&eacute;riques ISA.
    <P> Alors que la plupart de gens &eacute;vitent les p&eacute;riph&eacute;riques 
      ISA, parce qu'ils sont g&eacute;n&eacute;ralement difficiles &agrave; configurer 
      et obsol&egrave;tes, il en existe encore beaucoup. Si vous utilisez un bus 
      ISA pour votre disque ou vos contr&ocirc;leurs r&eacute;seau (ou, encore 
      plus grave, pour les deux), rappelez vous que le bus ISA en lui-m&ecirc;me 
      peut &ecirc;tre un goulet d'&eacute;tranglement. Si vous avez besoin de 
      vitesse, choisissez le bus PCI. Bien entendu, il y a plusieurs cartes &agrave; 
      bus ISA qui fonctionnement bien. Malheureusement, la plupart de ces cartes 
      sont des cartes son ou des cartes s&eacute;rie.
    <P> 
  <LI> Evitez les cartes r&eacute;seau PCI bas de gamme. 
    <P> OpenBSD supporte une pl&eacute;thore de cartes r&eacute;seau PCI bas de 
      gamme Ces cartes fonctionnement tr&egrave;s bien en environnement domestique, 
      et aussi dans des environnements d'entreprise ou de recherche &agrave; d&eacute;bit 
      faible ou mod&eacute;r&eacute;. Mais si vous avez besoin de haut d&eacute;bit 
      avec un faible impact sur votre serveur, il serait plus judicieux d'opter 
      pour une carte r&eacute;seau PCI de qualit&eacute;. Malheureusement, certaines 
      cartes co&ucirc;teuses (telles que la s&eacute;rie 3com XL) ne sont pas 
      mieux que des cartes bas de gamme. Intel EtherExpress PRO/100 est une des 
      cartes les plus appr&eacute;ci&eacute;es. 
    </ul>
d484 21
a504 15
<h2>11.5 - Pourquoi nous n'utilisons pas des montages asynchrones (async mounts) 
  ?</h2>
<p>Question : &quot;Je fais simplement &quot;mount -u -o async /&quot; ce qui 
  rend un package dont j'ai besoin (qui touche &agrave; une centaine de chose 
  de temps &agrave; autre) utilisable. Pourquoi le montage asynchrone n'est pas 
  vu d'un bon &#156;il et n'est pas activ&eacute; par d&eacute;faut (comme c'est 
  le cas sur d'autres versions d'Unix) ? C'est un m&eacute;canismes&ucirc;rement 
  plus simple et plus s&ucirc;r d'am&eacute;liorer les performances de certaines 
  applications.&quot;</p>
<p>R&eacute;ponse : &quot; les montages asynchrones sont en effet plus rapides 
  que des montages synchrones, mais ils sont aussi moins s&ucirc;rs. Qu'arrive-t-il 
  dans le cas d'une panne de courant ? Ou un probl&egrave;me mat&eacute;riel ? 
  la qu&ecirc;te de la vitesse ne doit pas sacrifier la fiabilit&eacute; et la 
  stabilit&eacute; du syst&egrave;me. Reportez-vous &agrave; la page du manuel 
  pour <a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=mount&apropos=0&sektion=8&format=html">mount(8)</a>."</p>
d506 8
a513 8
	     async   All I/O to the file system should be done asynchronously.
		     This is a dangerous flag to set since it does not guaran-
		     tee to keep a consistent file system structure on the
		     disk.  You should not use this flag unless you are pre-
		     pared to recreate the file system should your system
		     crash.  The most common use of this flag is to speed up
		     restore(8) where it can give a factor of two speed in-
		     crease.
d515 14
a528 6
<p> D'un autre c&ocirc;t&eacute;, quand vous travaillez avec des donn&eacute;es 
  temporaires que vous pouvez recr&eacute;er apr&egrave;s un plantage, vous pouvez 
  gagnez en vitesse en utilisant une partition &agrave; part mont&eacute;e en 
  asynchrone, utilis&eacute;e uniquement pour ce type de donn&eacute;es. Si vous 
  ne voyez pas d'inconv&eacute;nient &agrave; perdre toutes les donn&eacute;es 
  de cette partition si quelque chose va mal....</p>
d532 76
a607 54
<h2>11.6 - Optimisation de la r&eacute;solution de votre &eacute;cran sous XFree86</h2>
<p>Avec plusieurs moniteurs multi-sync, il est possible de configurer un serveur 
  X avec une r&eacute;solution acceptable. Si quelqu'un a d&eacute;j&agrave; essay&eacute; 
  de faire ceci avec les utilitaires standards xf86config ou XF86Setup, il est 
  fort probable qu'il n'aie pas obtenu les meilleurs r&eacute;sultats possibles. 
  Un des aspects les plus difficiles est de simplement configurer votre moniteur 
  avec votre r&eacute;solution pr&eacute;f&eacute;r&eacute;e, puis de param&eacute;trer 
  la vitesse de balayage vertical &agrave; une valeur d'au moins 72-75 Hz, une 
  valeur o&ugrave; le scintillement de l'&eacute;cran est beaucoup moins visible 
  &agrave; l'oeil humain. Inversement, qu'en est t'il quand vous essayez de positionner 
  la vitesse de balayage vertical &agrave; une vitesse tr&egrave;s faible ? Vous 
  pouvez le positionner &agrave; 50 Hz de telle mani&egrave;re &agrave; pouvoir 
  en capturer le contenu sur une vid&eacute;o sans scintillement, mais les m&eacute;thodes 
  pour effectuer cette op&eacute;ration ne sont pas &eacute;videntes avec les 
  outils et la documentation standards de XFree86.</p>
<p>Enfin, il est possible (avec les nouveaux moniteurs du moins) d'utiliser des 
  vitesses de balayage vertical de 85 Hz et plus, afin d'obtenir une image tr&egrave;s 
  propre et agr&eacute;able &agrave; des r&eacute;solutions normalement utilis&eacute;es 
  par beaucoup de gens sur des moniteurs VGA &agrave; faible co&ucirc;t (800x600, 
  1024x768, 1152x900, 1280x1024). Le serveur X XFree86 poss&egrave;de un m&eacute;canismequi vous permet de d&eacute;crire en d&eacute;tail le mode vid&eacute;o que 
  vous voulez utiliser : C'est le ModeLine. Un ModeLine a quatre sections. Un 
  chiffre pour la dotclock (bande passante), quatre chiffres pour les temporisations 
  horizontales, quatre chiffres pour les temporisations verticales, et une section 
  optionnelle contenant une liste de drapeaux sp&eacute;cifiant d'autres caract&eacute;ristiques 
  du mode (telles que l'interla&ccedil;age, DoubleScan, ... Voir la page XF86Config(5) 
  du manuel pour plus de d&eacute;tails concernant ModeLine). 
<P> La g&eacute;n&eacute;ration d'un ModeLine s'apparente &agrave; de la magie 
  noire... Heureusement, il existe plusieurs scripts qui peuvent vous en g&eacute;n&eacute;rer 
  un. Un de ces scripts est <a href="http://www-sop.inria.fr/cgi-bin/koala/nph-colas-modelines">Colas 
  XFree86 ModeLine Generator</a>. Un autre est <a href="http://xtiming.sourceforge.net/">The 
  XFree86 ModeLine Generator</a> h&eacute;b&eacute;rg&eacute; par SourceForge 
  et plusieurs autres sont disponibles sur <a href="http://freshmeat.net/search/?q=modeline">Freshmeat</a>. 
  Avant de pouvoir utiliser ces g&eacute;n&eacute;rateurs ModeLine, vous devez 
  trouver les limites de synchronisation verticale et horizontale de votre moniteur. 
  C'est souvent document&eacute; dans le manuel ou sur le site Web du constructeur. 
  Si ne vous trouvez ni l'un ni l'autre, faites une recherche sur le Web avec 
  le mod&egrave;le et la marque du moniteur. Plusieurs personnes sympathiques 
  ont rassembl&eacute; des listes avec ce type d'informations.
<P> Par exemple, supposons que vous avez un moniteur Dell D1226H. Vous avez effectu&eacute; 
  des recherches en agonisant sur le site Web de Dell pour savoir qu'il a une 
  plage de balayage horizontal de 30-95 kHz et 50-160 Hz en balayage vertical. 
  Visitez la page du g&eacute;n&eacute;rateur de ModeLine et saisissez ces informations. 
  La prochaine &eacute;tape consiste &agrave; saisir la vitesse minimale de balayage 
  vertical que vous voulez. N'importe quelle vitesse de 72 Hz et au del&agrave; 
  devrait permettre d'obtenir un scintillement peu visible. Plus vous montez la 
  vitesse, plus votre image est claire et pr&eacute;cise.
<P>Avec toutes ces informations, le script va g&eacute;n&eacute;rer un ModeLine 
  pour toutes les r&eacute;solutions 4x3 possibles que votre moniteur peut supporter, 
  et au-dessus de la vitesse minimale de balayage verticale que vous avez saisi. 
  Si quelqu'un avait saisi les sp&eacute;cifications de ce moniteur Dell avec 
  une vitesse minimale de balayage verticale de 75 Hz, le script donnera quelque 
  chose comme :
<P>
<PRE>
d625 10
a634 7
</PRE>
<P>Bien que ce moniteur pr&eacute;tend atteindre 1600x1200 @@ 75 Hz, le script 
  ne dit pas que cette r&eacute;solution peut &ecirc;tre atteinte &agrave; 75 
  Hz. Si vous voulez pr&eacute;cis&eacute;ment avoir 1600x1200, abaissez un peu 
  votre vitesse minimale ... (Dans l'exemple qui suit, nous fixons cette vitesse 
  &agrave; 70 Hz) :
<Pre>
d643 20
a662 12
</PRE>
<P>Comme on peut le voir, ce moniteur peut faire 1600x1200 @@ 74 Hz quand la vitesse 
  de point (bande passante) est limit&eacute;e &agrave; 200 Mhz. Positionnez la 
  bande passante par rapport aux limites d&eacute;finies par le moniteur.
<P>Une fois que vous avez vos ModeLines, mettez les dans le fichier /etc/XF86Config. 
  Mettez en commentaire les anciens ModeLines de telle fa&ccedil;on &agrave; pouvoir 
  les utiliser par la suite si les nouveaux ne fonctionnent pas. Ensuite choisissez 
  votre r&eacute;solution. D'abord vous devez d&eacute;terminer si X tourne en 
  mode acc&eacute;l&eacute;r&eacute; (ce qui est le cas avec la plupart des cartes 
  graphiques) afin de savoir quelle section <tt>"Screen"</tt> modifier dans le 
  fichier XF86Config. Sinon, modifiez toutes les sections Screen.
<PRE>
d672 76
a747 49
</PRE>
<p>La premi&egrave;re fr&eacute;quence que vous voyez apr&egrave;s la ligne &quot;Modes&quot; 
  est la fr&eacute;quence avec laquelle X va d&eacute;marrer. En appuyant sur 
  les touches CTRL-ALT-MOINS DU PAVE NUMERIQUE, ou CTRL-ALT-PLUS DU PAVE NUMERIQUE, 
  vous pouvez commuter entre les fr&eacute;quences que vous avez sp&eacute;cifi&eacute; 
  sur cette ligne. Selon la section ci-dessus, X va essayer de d&eacute;marrer 
  en mode couleur 32 bits (via la directive DefaultColorDepth sans laquelle X 
  va d&eacute;marrer en mode couleur 8 bits). La premi&egrave;re r&eacute;solution 
  qu'il essayera de charger est 1280x1024 (il suit l'ordre pr&eacute;cis&eacute; 
  dans la ligne Modes). Notez que &quot;1280x1024&quot; est simplement un label 
  des valeurs du ModeLine.</p>
<p>Il est &agrave; noter que le script de g&eacute;n&eacute;ration du ModeLine 
  poss&egrave;de des options qui permettent de rendre ces temporisations plus 
  flexibles pour les vieux ou petits moniteurs. De m&ecirc;me, il a la capacit&eacute; 
  de fournir des ModeLines pour des r&eacute;solutions sp&eacute;cifiques. Selon 
  le type de mat&eacute;riel que vous avez, il ne sera peut-&ecirc;tre pas facile 
  de l'utiliser avec les options par d&eacute;faut. Si l'image est trop grande, 
  trop large, ou trop petite, ou elle est d&eacute;cal&eacute;e horizontalement 
  ou verticalement, et les contr&ocirc;les du moniteur ne sont pas suffisants 
  pour corriger son apparence, vous pouvez utiliser xvidtune(1) afin d'ajuster 
  le ModeLine pour mieux respecter les temporisations du moniteur.</p>
<P> Sur la plupart des moniteurs modernes, il n'y a pas de limite fix&eacute;e 
  sur la bande passante. C'est pourquoi elles ne sont plus list&eacute;es dans 
  les sp&eacute;cifications. Mais plus vous augmentez la bande passante, plus 
  l'image devient floue. Ainsi, vous pouvez commencer par la bande passante (appel&eacute;e 
  aussi &quot;dotclock&quot;) de votre carte pour tester (vous ne pouvez pas abimer 
  votre moniteur comme &ccedil;a) et diminuer la bande passante au fur et &agrave; 
  mesure jusqu'&agrave; ce que vous obteniez une image pr&eacute;cise. 
<P>Cette proc&eacute;dure est inutilement complexe. XFree86 4.0 am&eacute;liore 
  nettement ce processus puisque cette version poss&egrave;de des modes internes 
  et est capable de d&eacute;couvrir les capacit&eacute;s des moniteurs &quot;plug 
  and play&quot; &agrave; travers DCC et DCC2.
<P> Vous pouvez t&eacute;l&eacute;charger le script Colas XFree86 ModeLine Generator 
  &agrave; l'adresse <a href="http://koala.ilog.fr/ftp/pub/Klone/">http://koala.ilog.fr/ftp/pub/Klone/</a>. 
  Vous aurez besoin de t&eacute;l&eacute;charger et de compiler l'interpr&eacute;teur 
  Klone. Cet interpr&eacute;teur se trouve dans la collection de ports sous <tt>lang/klone</tt>. 
  Les scripts sont dans le r&eacute;pertoire scripts de la distribution Klone 
  (la collection de ports les installe dans /usr/local/klone/scripts). 
<P> Deux versions du script sont incluses. La premi&egrave;re est une version 
  CGI identique &agrave; la page Web ci-dessus. La seconde est une version non-CGI 
  qui va lire votre fichier XF86Config dans sa totalit&eacute;, d&eacute;coder 
  les sp&eacute;cifications du moniteur que vous avez saisi dans xf86config/XF86Setup 
  (R&eacute;fl&eacute;chissez, avez-vous r&eacute;ellement renseign&eacute; le 
  fichier avec les sp&eacute;cifications de votre moniteur ou avez-vous gard&eacute; 
  les valeurs g&eacute;n&eacute;riques ?), et corriger les ModeLines existants 
  en cons&eacute;quence.
<p> <font color= "#0000e0"> <a href= "index.html">[Retour &agrave; l'Index G&eacute;n&eacute;ral]</a> 
  <a href= "faq10.html">[Vers la Section 10 - Gestion du syst&egrave;me]</a> <a href= "faq12.html">[Vers 
  la Section 12 - Pour utilisateurs de haut niveau]</a> </font> </p>
d751 9
a759 5
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a> 
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a> <br>
<small>Originally [OpenBSD: faq11.html,v 1.24 2002/03/20 03:54:33 nick Exp ]<br>
$Translation: faq11.html,v 1.5 2002/05/05 10:06:45 saad Exp $<br>
$OpenBSD$</small> 
@

