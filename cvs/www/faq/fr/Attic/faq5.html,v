head	1.114;
access;
symbols;
locks; strict;
comment	@# @;


1.114
date	2014.04.01.17.03.09;	author nick;	state dead;
branches;
next	1.113;

1.113
date	2013.11.03.08.09.59;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2013.08.02.11.47.40;	author ajacoutot;	state Exp;
branches;
next	1.111;

1.111
date	2013.07.03.20.10.15;	author ajacoutot;	state Exp;
branches;
next	1.110;

1.110
date	2013.05.07.12.47.22;	author ajacoutot;	state Exp;
branches;
next	1.109;

1.109
date	2013.02.15.07.08.31;	author ajacoutot;	state Exp;
branches;
next	1.108;

1.108
date	2012.12.28.18.32.15;	author ajacoutot;	state Exp;
branches;
next	1.107;

1.107
date	2012.11.05.08.22.12;	author ajacoutot;	state Exp;
branches;
next	1.106;

1.106
date	2012.09.02.12.23.26;	author ajacoutot;	state Exp;
branches;
next	1.105;

1.105
date	2012.06.09.08.27.50;	author ajacoutot;	state Exp;
branches;
next	1.104;

1.104
date	2012.05.26.08.43.41;	author ajacoutot;	state Exp;
branches;
next	1.103;

1.103
date	2012.05.02.13.15.06;	author ajacoutot;	state Exp;
branches;
next	1.102;

1.102
date	2012.04.19.23.56.50;	author ajacoutot;	state Exp;
branches;
next	1.101;

1.101
date	2011.05.26.16.59.30;	author ajacoutot;	state Exp;
branches;
next	1.100;

1.100
date	2011.05.08.08.30.05;	author ajacoutot;	state Exp;
branches;
next	1.99;

1.99
date	2011.04.09.08.17.17;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2011.02.07.07.39.59;	author ajacoutot;	state Exp;
branches;
next	1.97;

1.97
date	2011.01.29.15.46.36;	author ajacoutot;	state Exp;
branches;
next	1.96;

1.96
date	2010.12.17.16.43.15;	author ajacoutot;	state Exp;
branches;
next	1.95;

1.95
date	2010.11.09.08.15.20;	author ajacoutot;	state Exp;
branches;
next	1.94;

1.94
date	2010.05.23.16.20.41;	author ajacoutot;	state Exp;
branches;
next	1.93;

1.93
date	2009.11.30.13.23.49;	author ajacoutot;	state Exp;
branches;
next	1.92;

1.92
date	2009.11.04.18.08.57;	author ajacoutot;	state Exp;
branches;
next	1.91;

1.91
date	2009.10.20.20.44.41;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2009.09.09.06.51.17;	author ajacoutot;	state Exp;
branches;
next	1.89;

1.89
date	2009.09.02.17.23.30;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2009.05.01.13.16.23;	author tobias;	state Exp;
branches;
next	1.87;

1.87
date	2009.03.16.20.24.22;	author tobias;	state Exp;
branches;
next	1.86;

1.86
date	2008.12.01.07.52.52;	author tobias;	state Exp;
branches;
next	1.85;

1.85
date	2008.07.13.18.21.56;	author tobias;	state Exp;
branches;
next	1.84;

1.84
date	2008.05.12.07.23.52;	author tobias;	state Exp;
branches;
next	1.83;

1.83
date	2008.02.02.17.34.39;	author saad;	state Exp;
branches;
next	1.82;

1.82
date	2007.11.12.20.29.58;	author saad;	state Exp;
branches;
next	1.81;

1.81
date	2007.06.23.18.29.30;	author jufi;	state Exp;
branches;
next	1.80;

1.80
date	2007.05.02.15.10.00;	author jufi;	state Exp;
branches;
next	1.79;

1.79
date	2007.04.29.22.23.18;	author saad;	state Exp;
branches;
next	1.78;

1.78
date	2007.03.19.14.00.24;	author saad;	state Exp;
branches;
next	1.77;

1.77
date	2007.02.09.05.15.24;	author saad;	state Exp;
branches;
next	1.76;

1.76
date	2007.02.04.08.19.55;	author saad;	state Exp;
branches;
next	1.75;

1.75
date	2007.02.02.06.46.52;	author saad;	state Exp;
branches;
next	1.74;

1.74
date	2006.12.16.12.45.39;	author jufi;	state Exp;
branches;
next	1.73;

1.73
date	2006.11.03.14.23.31;	author jufi;	state Exp;
branches;
next	1.72;

1.72
date	2006.10.12.08.24.27;	author jufi;	state Exp;
branches;
next	1.71;

1.71
date	2006.10.09.09.03.58;	author jufi;	state Exp;
branches;
next	1.70;

1.70
date	2006.09.07.22.06.56;	author saad;	state Exp;
branches;
next	1.69;

1.69
date	2006.06.26.18.32.12;	author jufi;	state Exp;
branches;
next	1.68;

1.68
date	2006.05.17.08.52.03;	author saad;	state Exp;
branches;
next	1.67;

1.67
date	2006.05.14.09.54.41;	author saad;	state Exp;
branches;
next	1.66;

1.66
date	2006.05.03.14.48.29;	author saad;	state Exp;
branches;
next	1.65;

1.65
date	2006.05.02.17.09.33;	author jufi;	state Exp;
branches;
next	1.64;

1.64
date	2006.03.30.18.51.33;	author saad;	state Exp;
branches;
next	1.63;

1.63
date	2006.02.24.22.10.54;	author saad;	state Exp;
branches;
next	1.62;

1.62
date	2006.02.16.14.33.57;	author saad;	state Exp;
branches;
next	1.61;

1.61
date	2006.01.02.06.51.10;	author saad;	state Exp;
branches;
next	1.60;

1.60
date	2005.12.07.15.31.45;	author saad;	state Exp;
branches;
next	1.59;

1.59
date	2005.11.25.00.26.21;	author saad;	state Exp;
branches;
next	1.58;

1.58
date	2005.11.18.20.48.46;	author jufi;	state Exp;
branches;
next	1.57;

1.57
date	2005.11.15.13.15.40;	author saad;	state Exp;
branches;
next	1.56;

1.56
date	2005.11.08.19.57.18;	author jufi;	state Exp;
branches;
next	1.55;

1.55
date	2005.11.03.11.30.52;	author saad;	state Exp;
branches;
next	1.54;

1.54
date	2005.11.02.00.40.41;	author saad;	state Exp;
branches;
next	1.53;

1.53
date	2005.10.31.12.06.18;	author saad;	state Exp;
branches;
next	1.52;

1.52
date	2005.10.02.20.39.56;	author saad;	state Exp;
branches;
next	1.51;

1.51
date	2005.09.28.19.46.32;	author saad;	state Exp;
branches;
next	1.50;

1.50
date	2005.08.13.07.55.56;	author saad;	state Exp;
branches;
next	1.49;

1.49
date	2005.06.04.08.43.13;	author saad;	state Exp;
branches;
next	1.48;

1.48
date	2005.05.22.17.38.06;	author saad;	state Exp;
branches;
next	1.47;

1.47
date	2005.05.10.18.45.07;	author saad;	state Exp;
branches;
next	1.46;

1.46
date	2005.05.09.16.29.30;	author saad;	state Exp;
branches;
next	1.45;

1.45
date	2005.04.23.07.03.31;	author jufi;	state Exp;
branches;
next	1.44;

1.44
date	2005.03.25.06.40.57;	author saad;	state Exp;
branches;
next	1.43;

1.43
date	2005.03.18.11.04.27;	author saad;	state Exp;
branches;
next	1.42;

1.42
date	2005.02.22.16.47.21;	author saad;	state Exp;
branches;
next	1.41;

1.41
date	2005.02.21.13.25.10;	author saad;	state Exp;
branches;
next	1.40;

1.40
date	2005.02.15.08.14.38;	author saad;	state Exp;
branches;
next	1.39;

1.39
date	2005.02.13.17.40.34;	author saad;	state Exp;
branches;
next	1.38;

1.38
date	2005.02.10.19.10.00;	author jufi;	state Exp;
branches;
next	1.37;

1.37
date	2005.02.08.14.00.19;	author jufi;	state Exp;
branches;
next	1.36;

1.36
date	2005.01.18.09.54.29;	author jufi;	state Exp;
branches;
next	1.35;

1.35
date	2004.11.21.11.10.49;	author jufi;	state Exp;
branches;
next	1.34;

1.34
date	2004.11.03.21.01.24;	author saad;	state Exp;
branches;
next	1.33;

1.33
date	2004.10.31.22.05.01;	author jufi;	state Exp;
branches;
next	1.32;

1.32
date	2004.10.25.12.38.57;	author jufi;	state Exp;
branches;
next	1.31;

1.31
date	2004.10.15.15.53.37;	author saad;	state Exp;
branches;
next	1.30;

1.30
date	2004.10.12.07.18.21;	author jufi;	state Exp;
branches;
next	1.29;

1.29
date	2004.10.07.10.23.59;	author jufi;	state Exp;
branches;
next	1.28;

1.28
date	2004.09.21.08.46.21;	author jufi;	state Exp;
branches;
next	1.27;

1.27
date	2004.08.18.16.29.06;	author jufi;	state Exp;
branches;
next	1.26;

1.26
date	2004.05.16.13.08.03;	author saad;	state Exp;
branches;
next	1.25;

1.25
date	2004.03.26.08.40.41;	author jufi;	state Exp;
branches;
next	1.24;

1.24
date	2004.02.08.11.59.35;	author jufi;	state Exp;
branches;
next	1.23;

1.23
date	2004.01.03.19.44.35;	author jufi;	state Exp;
branches;
next	1.22;

1.22
date	2003.11.25.10.23.11;	author horacio;	state Exp;
branches;
next	1.21;

1.21
date	2003.11.05.11.17.46;	author jufi;	state Exp;
branches;
next	1.20;

1.20
date	2003.10.18.19.53.03;	author horacio;	state Exp;
branches;
next	1.19;

1.19
date	2003.10.07.20.55.27;	author horacio;	state Exp;
branches;
next	1.18;

1.18
date	2003.09.26.12.12.21;	author horacio;	state Exp;
branches;
next	1.17;

1.17
date	2003.06.21.12.19.07;	author jufi;	state Exp;
branches;
next	1.16;

1.16
date	2003.05.24.21.04.10;	author jufi;	state Exp;
branches;
next	1.15;

1.15
date	2003.05.12.19.07.12;	author jufi;	state Exp;
branches;
next	1.14;

1.14
date	2003.05.03.11.28.06;	author jufi;	state Exp;
branches;
next	1.13;

1.13
date	2003.05.03.07.43.06;	author jufi;	state Exp;
branches;
next	1.12;

1.12
date	2002.07.30.07.19.30;	author jufi;	state Exp;
branches;
next	1.11;

1.11
date	2002.05.27.14.30.56;	author jufi;	state Exp;
branches;
next	1.10;

1.10
date	2002.04.13.19.49.59;	author jufi;	state Exp;
branches;
next	1.9;

1.9
date	2002.03.09.10.36.09;	author jufi;	state Exp;
branches;
next	1.8;

1.8
date	2002.02.14.00.47.20;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2002.01.19.08.56.59;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2001.09.05.17.03.39;	author jufi;	state Exp;
branches;
next	1.5;

1.5
date	2001.08.27.06.15.38;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2001.08.22.05.50.12;	author jufi;	state Exp;
branches;
next	1.3;

1.3
date	2000.11.27.19.59.21;	author mickey;	state Exp;
branches;
next	1.2;

1.2
date	2000.11.07.16.42.41;	author jufi;	state Exp;
branches;
next	1.1;

1.1
date	2000.08.13.14.25.19;	author wvdputte;	state Exp;
branches;
next	;


desc
@@


1.114
log
@
Abandon translations, per deraadt@@ and ajacoutot@@.
Thanks to all those that did the translation work, and my appologies to
those who had to translate my writing!
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>5 - Construire le Système à partir des Sources</title>
<link rev= "made" href= "mailto:www@@openbsd.org">
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2012 by OpenBSD.">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
</head>

<body bgcolor= "#ffffff" text= "#000000">
<!-- Passes validator.w3.org.  Please keep it this way -->

<a href="../../fr/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
</a>
<p>
<font color= "#0000e0">
<a href= "index.html">[Index de La FAQ]</a>
<a href= "faq4.html">[Section 4 - Guide d'Installation]</a>
<a href= "faq6.html">[Section 6 - Mise en place du réseau]</a>
</font>

<h1><font color="#e00000">5 - Construire le Système à
    partir des Sources</font></h1>
<!-- UNCOMMENT ONLY WHEN THE FILE IS OUT OF SYNC

<hr>
<p>
<b><font color="#e00000">Remarque Importante :</font></b> Le contenu de
   ce fichier est obsolète. Consultez la version anglaise
   <a href="../faq5.html">ici</a> pour des informations à jour.

<p>
Si vous souhaitez contribuer à l'effort de traduction,
prière de consulter
<a href="../../fr/translation.html">la page de traduction</a>.

-->
<hr>

<p>
<h3>Table des matières</h3>
<ul>
<li><a href="#Flavors">5.1 - Les Saveurs ("Flavors") d'OpenBSD</a>
<li><a href="#WhySrc">5.2 - Pourquoi devrais-je compiler mon système
 depuis les sources ?</a>
<li><a href="#Bld">5.3 - Compilation d'OpenBSD depuis les sources</a>
<ul>
  <li><a href="#BldOverview">5.3.1 - Aperçu du processus de compilation</a>
  <li><a href="#BldBinary">5.3.2 - Installer ou mettre à niveau depuis
   les binaires les plus récents</a>
  <li><a href="#BldGetSrc">5.3.3 - Téléchargement des sources
   appropriées</a>
  <li><a href="#BldKernel">5.3.4 - Compilation du noyau</a>
  <li><a href="#BldUserland">5.3.5 - Compilation de l'userland</a>
</ul>
<li><a href="#Release">5.4 - Compilation d'une Révision</a>
<li><a href="#Xbld">5.5 - Compilation de X</a>
<li><a href="#Why">5.6 - Pourquoi aurais-je besoin d'un noyau
 sur mesure ?</a>
<li><a href="#Options">5.7 - Options de configuration du noyau</a>
<li><a href="#BootConfig">5.8 - Configuration au démarrage</a>
<li><a href="#config">5.9 - Utilisation de config(8) pour changer le
 binaire du noyau</a>
<li><a href="#VerboseBoot">5.10 - Obtention d'une sortie plus verbeuse
 lors du démarrage</a>
<li><a href="#buildprobs">5.11 - Problèmes courants, astuces et
 questions lors de la compilation et de la construction</a>
   <ul>
   <li><a href="#sig11">5.11.1 - La compilation s'est arrêtée avec une
    erreur "Signal 11"</a>
   <li><a href="#snake">5.11.2 - "make build" échoue en générant un
    message "cannot open output file snake: is a directory"</a>
   <li><a href="#ProbIPv6">5.11.3 - Mon système sans IPv6 ne fonctionne
    pas !</a>
   <li><a href="#ProbObj">5.11.4 - Oops ! J'ai oublié de créer le
    répertoire <tt>/usr/obj</tt> avant de commencer !</a>
   <li><a href="#ProbObjPt">5.11.5 - Placer <tt>/usr/obj</tt> sur sa
    propre partition</a>
   <li><a href="#ProbSKIPDIR">5.11.6 - Comment ne pas compiler certaines
    parties de l'arbre ?</a>
   <li><a href="#ProbMoreInfo">5.11.7 - Où puis-je avoir plus
    d'informations sur le processus de compilation ?</a>
   <li><a href="#NoSnaps">5.11.8 - Je ne vois aucun snapshot sur le site
    FTP. Où sont-ils passés ?</a>
   <li><a href="#NewCompiler">5.11.9 - Comment puis-je amorcer sur une
    nouvelle version du compilateur (<i>gcc</i>)?</a>
   <li><a href="#UpdateEtc">5.11.10 - Quel est le meilleur moyen de
    mettre à jour <tt>/etc</tt>, <tt>/var</tt>, et
   <tt>/dev</tt> ?</a>
   <li><a href="#Hierarchy">5.11.11 - Y a-t-il un moyen facile de faire
    des changements sur tous les fichiers de la hiérarchie ?</a>
   <li><a href="#ProbXComp">5.11.12 - Puis-je cross-compiler ?
	Pourquoi pas ?</a>
   </ul>
</ul>
<hr>
<br>


<a name="Flavors"></a>
<h2>5.1 - Les Saveurs ("Flavors") d'OpenBSD</h2>
<!-- XXXversion - revise doodle -->
Il existe trois "saveurs" d'OpenBSD :
<ul>
<li><b>-release:</b> La version d'OpenBSD livrée tous les six mois sur
    CD.
<li><b>-stable:</b> "release", plus les correctifs considérés comme
    critiques pour la sécurité et la fiabilité.
<li><b>-current:</b> La version courante pour laquelle le développement
    est réalisé, et qui deviendra la prochaine "release".
</ul>

Schématiquement, le développement de ces versions ressemble à ceci :

<blockquote>
<pre>
       ,------o-----------o----X                    5.1 Stable
       |      .           .
       |      .    ,------o---------o----X          5.2 Stable
       |      .    |      .         .
       |      .    |      .    ,----o----------o--&gt; 5.3 Stable
       |      .    |      .    |    .          .
       |      .    |      .    |    .    ,-----o--&gt; 5.4 Stable
       |      .    |      .    |    .    |     .
       |      .    |      .    |    .    |     .
 --&gt;5.1Rel-----&gt;5.2Rel-----&gt;5.3Rel-----&gt;5.4Rel----&gt; Current

          Temps ---&gt;
</pre>
</blockquote>

<p>
<i>-Current:</i> La version courante pour laquelle le développement
est réalisé, et qui deviendra la prochaine <i>-release</i> d'OpenBSD.
Tous les six mois, lorsqu'une version d'OpenBSD est révisée,
<i>-current</i> est taguée, et devient <i>-release</i> : un point gelé
dans l'histoire de l'arbre des sources.
Chaque <i>-release</i> demeure inchangée; c'est pour cela qu'on la
trouve sur les <a href="../../fr/orders.html">CDs</a> et <a
href="../../fr/ftp.html">serveurs FTP</a>.

<p>
<i>-Stable</i> est basée sur <i>-release</i>, et est une branche du
chemin de développement principal d'OpenBSD. Quand des corrections très
importantes sont faites sur <i>-current</i>, elles sont "backportées"
(intégrées) aux branches <i>-stable</i>; à cause de cela, <i>-stable</i> est
aussi connue sous le nom de <i>branche patch</i>.
Dans l'illustration ci-dessus, la ligne verticale en pointillés symbolise
les corrections de bogues incorporées aux branches <i>-stable</i>. Vous
remarquerez aussi dans l'exemple ci-dessus que la branche
<i>5.1-stable</i> a été supprimée à la sortie de <i>5.3-release</i>, et
que la branche <i>5.2-stable</i> a été supprimée à la sortie de
<i>5.4-release</i> -- les anciennes versions sont typiquement supportées
durant deux "releases" au maximum. Le support d'anciennes versions
nécessite des ressources et du temps; et alors que nous pourrions
vouloir plutôt fournir un support continu pour les anciennes versions,
nous préférerons nous concentrer sur les nouvelles fonctionnalités. La
branche <i>-stable</i> est, par conception, très facile à construire à
partir de <i>-release</i> de la même version (c'est-à-dire en allant de
<i>5.4-release</i> vers <i>5.4-stable</i>).

<p>
La branche <i>-stable</i> est <i>-release</i> à laquelle on a ajouté les
correctifs listés dans la <a href="../../fr/errata.html">page des
errata</a>.
Habituellement, le fonctionnement de <i>-stable</i> est le même que
celui de <i>-release</i> sur laquelle elle est basée. 
Si les <a href="http://www.openbsd.org/cgi-bin/man.cgi">pages de
manuel</a> doivent être modifiées, il est très probable que ces
modifications ne fassent pas partie de <i>-stable</i>. En d'autres
termes, le support de nouveaux périphériques ne sera PAS ajouté à <i>-
stable</i>.

<p>
Il est utile de préciser que le nom "<i>-stable</i>" ne signifie pas
pour autant que <i>-current</i> est instable ou moins robuste en production.
Plutôt que, l'API (comment les programmes dialoguent avec l'OS) et les
fonctionnalités de <i>-current</i> changent et évoluent, alors qu'au niveau des APIs
et au niveau opérationnel de <i>-stable</i> ce sont les mêmes sur la version
sur laquelle ils sont basés, et vous
n'aurez pas à apprendre à nouveau votre système, à changer des
fichiers de configuration ou à ajouter de nouvelles applications à celui-ci.

<p>
En fait, notre préoccupation étant de faire continuellement évoluer
OpenBSD, le but avoué est de rendre <i>-current</i> plus fiable, 
plus sécurisé, et bien sûr offrant de meilleurs outils que <i>-stable</i>.
Tout simplement, la "meilleure" version d'OpenBSD est <i>-current</i>.

<p>
La plupart des utilisateurs devraient utiliser <i>-stable</i> ou
<i>-release</i>. Cela dit, plusieurs personnes utilisent <i>-current</i>
sur des systèmes en production, et il est important que les
personnes fassent cela pour identifier des bogues et tester les
nouvelles fonctionnalités. Cependant, si vous ne savez pas comment
décrire, diagnostiquer et gérer proprement un problème, ne vous dites
pas (ou à quelqu'un d'autre) que vous être entrain d'"aider le projet"
en utilisant <i>-current</i>. "Ça ne marche pas !" n'est pas un <a
href="../../fr/report.html#bugtypes">rapport de bogue utile</a>. "Les
changements récents dans le pilote pciide ont brisé la compatibilité avec
mon interface IDE basée sur Slugchip, ci-joint le dmesg d'un système
fonctionnel et un système ne fonctionnant pas..." peut être un rapport
utile.

<p>
Des fois, les utilisateurs "normaux" veulent disposer des derniers
développements et utiliser <i>-current</i>. La raison la plus commune de
faire cela est que l'utilisateur possède un périphérique qui n'est pas
supporté par <i>-release</i> (et donc, par <i>-stable</i> non plus), ou
qu'il souhaite utiliser une nouvelle fonctionnalité de <i>-current</i>.
Dans ce cas, soit l'utilisateur utilise <i>-current</i> soit il n'utilise
pas le périphérique, et utiliser <i>-current</i> est peut-être l'option la
plus logique. Cependant, il ne faut pas espérer que les développeurs
vous tiennent la main.

<h3>Snapshots</h3>
Entre les versions formelles d'OpenBSD, des <i>snapshots</i> sont mis à
disposition sur les <a href="../../fr/ftp.html">sites FTP</a>. Comme leur
nom l'indique, ce sont des images du code dans l'arborescence à
l'instant où le créateur de l'image a pris une copie du code pour une
plate-forme donnée.
Il est possible (et bien heureusement peu probable) que vous rencontriez
des bugs dans les snapshots, c'est la raison pour laquelle ils sont
compilés et distribués. Si vous trouvez un bug dans un snapshot récent,
assurez-vous qu'il est <a href="../report.html">reporté</a>.

<p>
Si vous souhaitez utiliser <i>-current</i>, un snapshot récent est tout
ce dont vous aurez besoin, et mettre à jour un snapshot est un point de
départ nécessaire avant de tenter de compiler <i>-current</i> depuis les
sources.

<p>
Parfois, on demande s'il y a un moyen d'obtenir une copie exacte du code
qui a servi à construire un snapshot. La réponse est non. Primo, il n'y
a aucun intérêt. Secundo, les snapshots sont construits selon le souhait
des développeurs, lorsque le planning le permet, et lorsque des
ressources sont disponibles. Sur les plates-formes rapides, il est
possible de créer plusieurs snapshots en un jour. Sur les plates-formes
lentes, la création d'un snapshot peut durer une semaine ou plus.
Fournir des balises ou des marques dans l'arborescence des sources pour
chaque snapshot peut s'avérer peu pratique.
Tertio, les snapshots contiennent souvent du code expérimental
non encore soumis dans l'arborescence

<h3>Mise à jour majeure vs. mise à jour mineure</h3>
Il existe deux types de mises à jour sous OpenBSD : des mises à jour
majeures et des mises à jour mineures. Il existe des différences
notables entre ces deux types de mises à jour que nous allons tâcher
d'expliquer ci-après.

<p>
Une <b>mise à jour majeure</b> consiste à installer une nouvelle version
d'OpenBSD, qui inclut généralement de nouvelles fonctionnalités.
Par exemple, le passage d'une version 5.3 à une version 5.4 ou la mise à
jour d'un snapshot du 12 juin avec un snapshot du 24 juin sont
considérés comme mises à jour majeures.
Lors d'une mise à jour majeure, vous devez typiquement consulter <a
href="current.html">Suivre la version de développement "-current"</a> ou
le <a href="../upgrade54.html">Guide de Mise à niveau d'OpenBSD</a> (lors
du passage d'une version à une plus récente) pour effectuer les
modifications nécessaires au bon fonctionnement de la nouvelle version
d'OpenBSD.

<br>
Une <b>mise à jour mineure</b> consiste à appliquer des correctifs à un
système afin d'améliorer son fonctionnement SANS modification des
fonctionnalités de base ou de la compatibilité binaire.
Ceci est généralement effectué en suivant le processus
d'<a href="faq10.html#Patches">Application des correctifs sous
OpenBSD</a> ou en suivant la procédure décrite dans le document intitulé
<a href="../../fr/stable.html">Maintenir son système à niveau par
rapport à -stable</a>.
Quand vous effectuez une mise à jour mineure, votre système passe d'un
état <i>-release</i> à un état <i>-stable</i> (ou <i>-release</i>
corrigé) de la même version. Par exemple, de 5.2-release à 5.2-stable.
Vous pouvez ensuite effectuer une nouvelle mise à jour mineure vers un
<i>-stable</i> plus récent de la même version.
Le processus de mise à jour est généralement sans conséquence étant
donné que les fichiers <tt>/etc</tt> ou d'autres configurations système
n'ont pas besoin d'être modifiés.

<p>
Ainsi, vous pouvez installer un système (tel que 5.2-release) à partir
du CD, puis vous pourrez le mettre à jour un certain nombre de fois en
5.2-stable et par la suite effectuer une mise à jour majeure vers
5.3-release, puis vers 5.3-stable, 5.4-release, et ainsi de suite.

<h3>Garder les Composants Synchronisés</h3>
Il est important de comprendre qu'OpenBSD est un Système d'Exploitation,
et il faut le prendre en tant que tel et non pas comme un noyau entouré
d'un ensemble d'outils. Vous devez vous assurer que votre noyau, l'"userland"
(les utilitaires et fichiers complétant le noyau) et
l'arborescence des <a href="faq15.html#Ports"><tt>ports</tt></a> sont
synchronisés, autrement des choses désagréables peuvent arriver. Dit
autrement (vu que les gens continuent à commettre les mêmes erreurs),
vous ne pouvez pas utiliser des <tt>ports</tt> tout neufs sur un système
datant d'il y a un mois, ou reconstruire un noyau à partir de
<i>-current</i> et espérer qu'il fonctionne correctement avec un userland
<i>-release</i>. Oui, cela veut dire que vous aurez besoin d'effectuer
une mise à jour majeure de votre système si vous voulez utiliser un
nouveau programme qui a été rajouté aujourd'hui à l'arborescence des
ports. OpenBSD n'a malheureusement que des ressources limitées.

<p>
Il faut aussi comprendre que le processus de mise à jour majeure est
uniquement supporté <b>dans une seule direction uniquement : de l'ancien
au nouveau</b>, et de <i>-stable</i> vers <i>-current</i>. Vous ne
pouvez pas utiliser <i>5.4-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>5.4-stable</i>. Vous ne
pouvez compter que sur vous-même si vous choisissez un autre chemin que
celui, supporté, consistant à réinstaller votre système proprement. Vous
ne devez espérer aucune aide de la part de l'équipe de développement
OpenBSD.

<p>
Oui, cela veut dire que vous devez réfléchir avant
d'utiliser <i>-current</i>.

<a name="WhySrc"></a>
<h2>5.2 - Pourquoi devrais-je compiler mon système
    depuis les sources ?</h2>
En fait, il y a de fortes chances pour que vous n'en ayez pas besoin.

<p>
Voici quelques raisons pour NE PAS compiler votre systèmes depuis les
sources :
<ul>
<li>La compilation de votre propre système à des fins de mise à niveau
n'est pas supportée.
<li>Vous n'obtiendrez pas de meilleurs performances en compilant votre
système.
<li>Le changement des options de compilation est plus enclin à briser
votre système qu'à l'améliorer.
</ul>

Voici quelques raisons d'avoir besoin de compiler depuis les sources :
<ul>
<li>Tester ou développer de nouvelles fonctionnalités.
<li>La compilation du système est éprouvante pour l'ordinateur, ceci
peut être un bon moyen de s'assurer du bon fonctionnement de ce dernier.
<li>Vous souhaitez suivre la branche 
<a href="../../fr/stable.html">stable</a>.
<li>Vous souhaitez construire un système OpenBSD hautement personnalisé
pour des utilisations spécifiques.
</ul>

<p>
L'équipe OpenBSD réalise fréquemment des instantanés basés sur le code de
<i>-current</i> pour toutes les plates-formes.
Dans la plupart des cas, cela vous suffira pour utiliser <i>-current</i>.

<p>
La raison la plus courante de compiler depuis les sources est de suivre
la branche <i>-stable</i>, pour laquelle la compilation depuis les
sources est la seule issue supportée.

<p>
Si vous compilez <i>-current</i> des sources, il est HAUTEMENT
recommandé de le faire d'une machine dont vous avez accès à la 
console.
Il y a des moments dans le processus de développement où des incohérences
entre votre nouveau noyau et votre ancien userland rendra le système
inaccessible via le réseau.
Cela n'est pas un problème quand c'est compilé correctement de <i>-stable</i>.

<a name="Bld"></a>
<h2>5.3 - Compilation d'OpenBSD depuis les sources</h2>

<a name="BldOverview"></a>
<h3>5.3.1 - Aperçu du processus de compilation</h3>

La compilation d'un système OpenBSD depuis les sources implique un
certain nombre d'étapes :
<ul>
<li><a href="#BldBinary">Installer ou mettre à niveau depuis les binaires
les plus récents</a>
<li><a href="#BldGetSrc">Téléchargement des sources appropriées</a>
<li><a href="#BldKernel">Compilation du noyau</a>
<li><a href="#BldUserland">Compilation de l'userland ("make build").</a>
</ul>

Il y a deux étapes supplémentaires que certains utilisateurs pourraient
vouloir réaliser, ceci dépend de la raison de la compilation et de la
présence ou non de X :
<ul>
<li><a href="#Release">Compilation d'une Release.</a>
<li><a href="#Xbld">Compilation de X.</a>
</ul>


<a name="BldBinary"></a>
<h3>5.3.2 - Installer ou mettre à niveau depuis les binaires les plus
    récents</h3>

La première étape dans la compilation depuis les sources est de
s'assurer d'avoir le binaire le plus récent installé.

Utilisez ce tableau afin de savoir où vous en êtes, où vous voulez
aller, et avec quel binaire commencer :

<p>
<table border="1" style="empty-cells: show;">
<tr>
  <td><b>Vous êtes au</b></td> <td><b>But</b></td>
  <td><b>Mise à niveau binaire vers</b></td> <td><b>ensuite ...</b></td>
</tr>
<tr>
  <td> Ancienne -release </td> <td> Nouvelle release </td> <td>
       Dernière release
</td>
  <td> C'est fait ! </td>
</tr>
<tr>
  <td> -release </td> <td> -stable </td> <td> Dernière release </td>
  <td>Récupérer &amp; compiler <i>-stable</i></td>
</tr>
<tr>
  <td> Ancienne -stable</td> <td> -stable </td> <td> Nouvelle release </td>
  <td>Récupérer &amp; compiler <i>-stable</i></td>
</tr>
<tr>
  <td> -release </td> <td> -current </td> <td> Dernier instantané </td>
  <td> Récupérer (optionnel) &amp; compiler <i>-current</i></td>
</tr>
<tr>
  <td> Ancienne -current </td> <td> -current </td> <td> Dernier
        instantané
</td>
  <td> Récupérer (optionnel) &amp; compiler <i>-current</i></td>
</tr>
</table>

<p>
Il est recommandé d'installer le binaire via l'option "Upgrade" du média
d'installation.
Si ce n'est pas possible, vous pouvez aussi décompacter les binaires
comme décrit <a href="../upgrade54.html">ici</a>.
Vous pouvez faire le processus complet de mise à niveau sans soucis,
incluant la création d'utilisateurs ou d'autres changements de
répertoires de <tt>/etc</tt>.


<a name="BldGetSrc"></a>
<h3>5.3.3 - Téléchargement des sources appropriées</h3>
La source d'OpenBSD est gérée en utilisant le système de contrôle de
versions
<a href="http://ximbiot.com/cvs/cvshome/">CVS</a>, et <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a>
est utilisé pour récupérer les sources désirées sur votre machine
locale, à des fins de compilation.
Ceci peut être réalisé en utilisant le serveur <a
href="../../fr/anoncvs.html">AnonCVS</a> (une machine proposant une copie
du dépôt CVS utilisé par le projet OpenBSD) et ce publiquement, ou
depuis une archive locale que vous maintenez en utilisant les programmes
<a href="../../fr/cvsync.html">CVSync</a> ou rsync disponibles dans les
<a href="faq15.html#PkgMgmt">paquetages</a>.
Si vous avez plusieurs machines sur lesquelles vous désirez maintenir le
code source, vous devriez trouver utile d'avoir un dépôt CVS local, créé
et maintenu en utilisant CVSync ou rsync.

<p>
Après avoir décidé quel <a href="../../fr/anoncvs.html">Serveur AnonCVS</a>
vous allez utiliser, vous devez effectuer un "checkout" (récupération) de
l'arbre des sources, que vous maintiendrez par la suite en lançant des
"updates" (mises à jour), afin de récupérer les fichiers les plus récents
dans votre arbre local.

<p>
La commande
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">CVS(1)</a>
dispose de nombreuses options, certaines d'entre elles sont
<i><b>requises</b></i> afin de récupérer et de mettre à jour un arbre.
Les autres commandes peuvent résulter en un arbre cassé.
Le fait de comprendre et de suivre les directions est ici important.

<p>
<b>Suivi de <i>-current</i></b><br>
<blockquote>
Dans ce cas, nous supposons que vous utilisez un serveur AnonCVS
publique, <b>anoncvs@@anoncvs.example.org:/cvs</b>.
Nous supposons également que vous utilisez le shell
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">sh(1)</a>,
vous devrez dans le cas contraire ajuster certaines commandes.

<p>
Pour récupérer un arbre des sources CVS de <i>-current</i>, vous pouvez
utiliser la commande suivante :
<pre>
    # <b>cd /usr</b>
    # <b>export CVSROOT=anoncvs@@anoncvs.example.org:/cvs</b>
    # <b>cvs -d$CVSROOT checkout -P src</b>
</pre>

<p>
Une fois l'arbre récupéré, vous pourrez plus tard le mettre à jour avec :
<pre>
    # <b>cd /usr</b>
    # <b>export CVSROOT=anoncvs@@anoncvs.example.org:/cvs</b>
    # <b>cvs -d$CVSROOT up -Pd</b>
</pre>
</blockquote>

<!-- XXXrelease -->
<b>Suivi de <i>-stable</i></b><br>
<blockquote>
Si vous souhaitez récupérer une "branche" alternative de l'arbre, comme
la branche <i>-stable</i>, vous devez utiliser le modificateur
"<tt>-r</tt>" :
<pre>
    # <b>cd /usr</b>
    # <b>export CVSROOT=anoncvs@@anoncvs.example.org:/cvs</b>
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_4 -P src</b>
</pre>

Ceci aura pour effet de récupérer les fichiers sources de la branche
OPENBSD_5_4, aussi connue sous le nom de "Branche patchée" ou 
"<a href="../../fr/stable.html">-stable</a>". Vous pourrez mettre à jour le
code de façon similaire :
<pre>
    # <b>cd /usr/src</b>
    # <b>export CVSROOT=anoncvs@@anoncvs.example.org:/cvs</b>
    # <b>cvs -d$CVSROOT up -rOPENBSD_5_4 -Pd</b>
</pre>

CVS est vraiment agréable car il permet de suivre une balise dans les
fichiers récupérés, vous n'avez ainsi pas à vous rappeler de la partie
"<tt>-rOPENBSD_5_4</tt>" de la ligne de commande, ceci sera mémorisé
jusqu'à ce que vous l'effaciez ou en spécifiez un autre via l'option
"<tt>-A</tt>" de "<tt>update</tt>".
Cependant, il est probablement plus correct de fournir trop d'infos que pas
assez sur vos lignes de commande CVS.
</blockquote>

<p>
L'arbre "<tt>src</tt>" étant le seul à avoir été montré jusqu'à présent,
vous pouvez faire les mêmes étapes pour "<tt>xenocara</tt>" et
"<tt>ports</tt>".
Toutes les parties d'OpenBSD devant être en synchronisation, tous les
arbres utilisés devraient être mis à jour en même temps.
Vous pouvez allier plusieurs récupérations sur une seule ligne
(<i>-stable</i> est montré) avec :
<pre>
    # <b>export CVSROOT=anoncvs@@anoncvs.example.org:/cvs</b>
    # <b>cd /usr</b>
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_4 -P src ports xenocara</b>
</pre>

Cependant, les mises à jour doivent être faites répertoire par
répertoire.

<p>
À ce niveau, que vous ayez suivi <i>-stable</i> ou <i>-current</i> vous
devriez avoir un arbre des sources correct.
Soyez attentif à ce que vous récupérez -- vous pourriez compiler
<i>-current</i> en pensant compiler <i>-stable</i>.

<h4>Pré-chargement de l'arbre des sources : <tt>src.tar.gz, sys.tar.gz</tt></h4>
Au lieu de télécharger l'arbre des sources dans sa totalité à partir
d'un serveur AnonCVS, vous pouvez le "pré-charger" à partir des fichiers
des sources se trouvant sur le CD d'OpenBSD ou sur les serveurs FTP.
Vous économiseriez ainsi beaucoup de temps et de bande passante.
Ceci est particulièrement vrai si vous utilisez
<a href="../../fr/stable.html"><i>-stable</i></a>, étant donné le peu de
différences entre cette version et <i>-release</i>.

<p>
Pour extraire l'arbre des sources à partir du CD vers <i>/usr/src</i> (en
supposant que le CD est monté dans /mnt) :
<pre>
    # <b>cd /usr/src; tar xzf /mnt/src.tar.gz</b>
    # <b>cd /usr; tar xzf /mnt/xenocara.tar.gz</b>
    # <b>cd /usr; tar xzf /mnt/ports.tar.gz</b>
</pre>

Les fichiers sources téléchargeables depuis les serveurs FTP sont
séparés en deux fichiers pour minimiser le temps nécessaire à leur
téléchargement pour les personnes souhaitant travailler avec telle ou
telle partie de l'arbre uniquement.
Ces deux fichiers sont <tt>sys.tar.gz</tt>, qui contient les fichiers
utilisés pour créer le noyau, et <tt>src.tar.gz</tt> qui contient toutes
les autres applications userland, hormis l'arbre des ports et les
sources X11.
Cependant, et de manière générale, vous aurez besoin des deux.
En supposant que vous les ayez téléchargé <tt>src.tar.gz</tt> et
<tt>sys.tar.gz</tt> dans <tt>/usr</tt> :

<pre>
    # <b>cd /usr/src</b>
    # <b>tar xzf ../sys.tar.gz</b>
    # <b>tar xzf ../src.tar.gz</b>
    # <b>cd /usr</b>
    # <b>tar xzf xenocara.tar.gz</b>
    # <b>tar xzf ports.tar.gz</b>
</pre>

<p>
L'extraction de toutes les parties de l'arbre source n'est pas
obligatoire mais si on souhaite garder un système cohérent, il est
conseillé de les extraire toutes.


<a name="CVSTips"></a>
<h4>Astuces CVS courantes</h4>

Comme indiqué précédemment, certaines options sont obligatoires afin
d'obtenir un arbre <tt>src</tt> d'OpenBSD valide.
L'option "<tt>-P</tt>" ci-dessus est l'une d'entre elle : elle "prune"
(efface) les répertoires vides.
Avec les années, des répertoires ont été créés puis supprimés, et les
noms de ces répertoires sont parfois utilisés actuellement pour des
fichiers.
Sans l'option "<tt>-P</tt>", votre arbre fraîchement récupéré
NE compilera PAS.

<p>
Même chose pour l'option <tt>-d</tt> sur une commande 'update' -- elle
crée les nouveaux répertoires ayant pu être ajoutés au dépôt depuis
votre dernier "checkout".
Pour réussir une mise à jour, il faut absolument utiliser les options
<tt>-Pd</tt>.

<p>
Les utilisateurs de CVS expérimentés auront pu se demander pourquoi le
CVSROOT est précisé et utilisé dans cet exemple, alors que cvs(1)
enregistre la situation du serveur dans l'arbre ainsi obtenu.
Ceci est correct, cependant, un utilisateur devra souvent outrepasser le
serveur enregistré, et de nombreuses personnes recommandent de
<i>toujours</i> spécifier le dépôt à utiliser.
Il est aussi à noter que si la variable d'environnement CVSROOT peut être
utilisée directement par cvs(1), elle est utilisée uniquement si rien ne
vient la remplacer, et la spécification de la ligne de commande est
prépondérante.

<p>
Il est souvent utile d'utiliser un <tt>.cvsrc</tt> dans votre
répertoire home afin de spécifier les options par défaut.
Un fichier <tt>.cvsrc</tt> d'exemple :
<pre>
    $ <b>more ~/.cvsrc</b>
    cvs -q -danoncvs@@anoncvs.example.org:/cvs
    diff -up
    update -Pd
    checkout -P
</pre>

Ce fichier ordonnera à cvs(1) d'utiliser le serveur
<tt>anoncvs@@anoncvs.example.org:/cvs</tt>, supprimant les sorties
souvent inutiles ("<tt>-q</tt>" pour "quiet", tranquille) pour toutes
les opérations, la commande "cvs up" utilisant par défaut <tt>-Pd</tt>,
la commande "cvs diff" réalisant par défaut des "diffs unifiés" suite à
l'option "<tt>-u</tt>", et un "cvs checkout" utilisera l'option
"<tt>-P</tt>".
Tandis que cela est confortable, si vous oubliez que ce fichier existe, ou si
vous essayez de lancer ces commandes auxquelles vous êtes habitué sans
ce fichier, vous rencontrerez des problèmes.

<p>
L'arbre des sources est constitué d'un grand nombre de petits fichiers.
Il est donc conseillé d'activer <a href="faq14.html#SoftUpdates">soft
updates</a> sur la partition où se trouve cet arbre afin d'améliorer
significativement les performances.


<a name="BldKernel"></a>
<h3>5.3.4 - Compilation du noyau</h3>
Nous supposerons que vous désirez construire un noyau standard (GENERIC
ou GENERIC.MP).
Normalement, c'est ce que vous devriez faire.
<i>N'essayez pas</i> de construire un noyau personnalisé si vous ne
maîtrisez pas le processus de compilation standard.

<p>
Évidemment, le noyau est un composant TRÈS dépendant du matériel du
système.
Les sources du noyau sont dans le répertoire <tt>/usr/src/sys</tt>.
Certaines parties du code du noyau d'OpenBSD sont utilisées sans
distinction de plate-forme, alors que d'autres sont très spécifiques à un
processeur ou une architecture.
Si vous regardez dans le répertoire <tt>/usr/src/sys/arch/</tt>, vous
verrez certaines choses quelque peu intrigantes -- par exemple, il y a
des répertoires <tt>mac68k</tt>, <tt>m68k</tt> et <tt>mvme68k</tt>.
Dans ce cas, les systèmes mvme68k et mac68k utiliseront tous deux le
même processeur, mais les machines sur lesquelles ils sont basés sont
très différentes, et elles demandent ainsi un noyau très différent (il y
a bien plus de choses qu'un processeur dans un ordinateur !).
Cependant, certaines parties du noyau sont communes, elles demeurent
dans le répertoire m68k.
Si vous compilez simplement un noyau, les répertoires de l'architecture
de base comme <tt>m68k</tt> ne sont pas un soucis, vous devriez
travailler uniquement avec les répertoires de "l'architecture
composant", comme <tt>mvme68k</tt>.

<p>
Les noyaux compilés sont basés sur les <a href="#Options">fichiers de
configuration du noyau</a>, qui se trouvent dans le répertoire 
<tt>/usr/src/sys/arch/&lt;<i>votre plate-forme</i>&gt;/conf</tt>.
La compilation du noyau consiste à l'utilisation du programme
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
pour créer et peupler un répertoire compile, qui se terminera dans
<tt>/usr/src/sys/arch/&lt;<i>votre plate-forme</i>&gt;/compile/&lt;<i>nom
du noyau</i>&gt;</tt>.
Pour cet exemple, nous supposerons que vous utilisez la plate-forme i386
:

<blockquote><pre>
# <b>cd /usr/src/sys/arch/i386/conf</b>
# <b>config GENERIC</b>
# <b>cd ../compile/GENERIC</b>
# <b>make clean && make</b>
    <i>[...beaucoup de sortie...]</i>
# <b>make install</b>
</pre></blockquote>

Remplacez "<tt>i386</tt>" sur la première ligne par le nom de votre
plate-forme.
La commande
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=machine&amp;sektion=1">machine(1)</a>
peut vous donner le nom de la plate-forme sur laquelle vous êtes afin de
pouvoir utiliser "<tt>cd /usr/src/sys/arch/`machine`/conf</tt>" à la
place de la première ligne.

<p>
À ce stade, redémarrez votre machine afin d'activer le nouveau noyau.
Notez que le nouveau noyau devrait être lancé avant l'étape suivante, ce
que vous savez si vous avez suivi les explications
<a href="#BldBinary">ci-dessus</a> sur la mise à niveau vers les
instantanés les plus récents.
Parfois, les APIs changent cependant, et l'ancien noyau sera dans
l'incapacité de lancer de nouvelles applications, mais les nouveaux
noyaux supportent en général les applications plus anciennes.

<p>
Remarquez que vous pouvez compiler un noyau sans accès root, mais vous
devez être root pour pouvoir l'installer.


<a name="BldUserland"></a>
<h3>5.3.5 - Compilation de l'userland</h3>

Il y a une marche à suivre spécifique afin que cela fonctionne, sans
quoi vous vous amuserez à essayer de comprendre d'où les problèmes
viennent.

<p>
<ul>
<li>Nettoyez votre répertoire <tt>/usr/obj</tt> et reconstruisez les
liens symboliques :
<blockquote><pre>
# <b>rm -rf /usr/obj/*</b>
# <b>cd /usr/src</b>
# <b>make obj</b>
</pre></blockquote>

Remarquez que l'utilisation du répertoire <tt>/usr/obj</tt> est
obligatoire. Échouer à cette étape avant la compilation laissera votre
arbre <tt>src</tt> dans un mauvais état.

<p>
<li>Soyez sûr que tous les répertoires nécessaires sont présents.
<blockquote><pre>
# <b>cd /usr/src/etc && env DESTDIR=/ make distrib-dirs</b>
</pre></blockquote>

<p>
<li>Compilez le système :
<blockquote><pre>
# <b>cd /usr/src</b>
# <b>make build</b>
</pre></blockquote>
Ceci compile et installe tous les outils du "userland" dans un ordre
approprié.
Cette étape est très coûteuse en temps -- une machine très rapide
devrait la réaliser sous une heure, une machine très lente pourrait
mettre plusieurs jours.
Lorsque cette étape est terminée, vous avez donc de nouveaux binaires à
leurs places sur votre système.

<p>
<li><b>Si vous compilez <i>-current</i> :</b> Mettez à jour
<tt>/dev</tt> et <tt>/etc</tt>, avec les changements listés dans
<a href="current.html">current.html</a>.
Si vous suivez -stable d'après le <a href="../upgrade54.html">processus de
mise à niveau</a> ou via une installation du <a
href="#BldBinary">binaire correspondant</a>, cette étape n'est ni
désirée ni nécessaire.

</ul>

<a name="Release"></a>
<a name="BldRelease"></a> <!-- old tag -->
<h2>5.4 - Compilation d'une Révision</h2>
<h3>Qu'est-ce qu'une "release" (révision), et pourquoi voudrais-je en
créer une ?</h3>
Une "release" est le jeu de fichiers complet pouvant être utilisé pour
installer OpenBSD sur un ordinateur.
Si vous n'avez qu'une seule machine sous OpenBSD, vous n'avez pas de
réelle motivation à construire une release, le processus <a
href="#Bld">ci-dessus</a> vous apportant tout ce dont vous avez besoin.
Un exemple d'utilisation du processus de release pourrait être de
compiler une <i>-stable</i> sur une machine puissante, et de faire une
release installable sur tous vos ordinateurs.

<p>
Le processus de release utilise les binaires créés dans le répertoire
<tt>/usr/obj</tt> lors du processus ci-dessus, vous devez donc accomplir
celui-ci au préalable, et rien ne doit perturber le répertoire
<tt>/usr/obj</tt>.
Ceci peut être un problème si vous utilisez un 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_mfs&amp;sektion=8">disque
mémoire</a> pour <tt>/usr/obj</tt> avec de petites performances lors du
processus de compilation, vous ne voudrez pas redémarrer l'ordinateur
entre les étapes de compilations et de "release" !

<p>
Le processus de release requiert deux répertoires de travail, appelés
DESTDIR et RELEASEDIR.
Tous les fichiers faisant partie d'une installation OpenBSD "propre"
seront copiés à l'endroit correct au sein de DESTDIR.
Ils seront tar(1)és puis placés dans RELEASEDIR.
À la fin du processus, RELEASEDIR arborera la release OpenBSD
intégralement.
Le processus de release utilisera aussi <tt>/mnt</tt>, ce point ne doit
donc pas être utilisé par autre chose pendant le processus de release.
A titre d'exemple, nous utiliserons DESTDIR à <tt>/usr/dest</tt> et
RELEASEDIR à <tt>/usr/rel</tt>.


<p>
Le processus de release utilisera un utilitaire,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crunchgen&amp;sektion=8">crunchgen(8)</a>,
qui sert à créer un exécutable unique composé de plusieurs binaires.
Le nom qui l'invoque détermine quel composant binaire est utilisé.
C'est un peu comme si plusieurs fichiers de programmes individuels
étaient concentrés sur un ramdisk noyau qui existe sur les disquettes et
autres médias d'installation.

<p>
Vous devez avoir les privilèges root pour créer une release.

<p>
<h3>Faire une release</h3>

Définissons nos variables d'environnement DESTDIR et RELEASEDIR :
<blockquote><pre>
# <b>export DESTDIR=/usr/dest</b>
# <b>export RELEASEDIR=/usr/rel</b>
</pre></blockquote>

Nettoyons DESTDIR et créons le répertoire :
<blockquote><pre>
# <b>test -d ${DESTDIR} && mv ${DESTDIR} ${DESTDIR}.old && rm -rf ${DESTDIR}.old &</b>
# <b>mkdir -p ${DESTDIR} ${RELEASEDIR}</b>
</pre></blockquote>

RELEASEDIR ne doit pas forcément être vide lors du lancement du
processus mais, cependant, s'il y a des changement dans les fichiers de
la release ou dans leurs noms, les anciens fichiers seront conservés.
Vous voudrez ainsi certainement effacer ce répertoire.

<p>
Passons à présent à la release elle-même :
<blockquote><pre>
# <b>cd /usr/src/etc</b>
# <b>make release</b>
</pre></blockquote>

Une fois la release compilée, il peut être bon de la vérifier afin d'être
sûr que les fichiers tar reflètent bien le contenu de DESTDIR.
La sortie de cette étape devrait être très courte :
<blockquote><pre>
# <b>cd /usr/src/distrib/sets</b>
# <b>sh checkflist</b>
</pre></blockquote>

Vous avez à présent un jeu de fichiers complet et fonctionnel dans
RELEASEDIR. Ces fichiers peuvent être utilisés afin d'installer ou de
mettre à jour OpenBSD sur d'autres machines.

<p>
Les instructions faisant foi sur la création d'une release sont dans
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">release(8)</a>.

<p>
Remarque : Si vous souhaitez distribuer les fichiers résultants par HTTP
pour être utilisables par les scripts de mise à jour ou d'installation,
vous devrez ajouter un fichier "index.txt". Ce fichier contient
la liste de tous les fichiers constituant votre release fraîchement
créée.
<blockquote><pre>
# <b>/bin/ls -1 >index.txt</b>
</pre></blockquote>

Dès que vous avez une release complète créée, vous pouvez utiliser ces
fichiers pour une <a href="faq4.html">installation</a> standard ou une
<a href="../upgrade54.html">mise à jour</a> sur une autre machine, ou si vous
mettez à jour une autre machine pour une nouvelle <i>-stable</i>,
<a href="faq4.html#AddFileSet">décompressez</a> simplement les fichiers tar
dans le répertoire racine de la machine cible.

<a name="Xbld"></a>
<h2>5.5 - Compilation de X (Xenocara)</h2>
À partir de <a href="http://x.org/">X.org v7</a>, X est devenu un système
à "compilation modulaire", découpant l'arborescence des sources de x.org
en plus de trois cents packages plus ou moins indépendants.

<p>
Pour simplifier la vie des utilisateurs d'OpenBSD, un procédé de "méta-compilation"
nommé <a href="http://xenocara.org">Xenocara</a> a été développé.
Ce système "reconvertit" X en une seule grosse arborescence pour permettre
la compilation en une seule étape.
Comme point positif supplémentaire, ce processus de compilation se rapproche
bien plus du processus de construction utilisé par le reste d'OpenBSD que les
versions précédentes.

<p>
Les instructions officielles pour compiler X se trouvent dans le fichier
<tt>/usr/xenocara/README</tt> ainsi que dans
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">release(8)</a>.

<h3>Obtenir le code source</h3>
L'arborescence des sources de xenocara se trouve "habituellement" dans
<tt>/usr/src/xenocara</tt>. Les sources sont stockées dans le module
<tt>xenocara</tt> du CVS.
Le checkout se fera donc ainsi :
<blockquote><pre>
$ <b>cd /usr</b>
$ <b>cvs -qdanoncvs@@anoncvs.example.org:/cvs checkout -P xenocara</b>
</pre></blockquote>

<h3>Compiler Xenocara</h3>
Pour compiler l'arbre standard de xenocara sur OpenBSD, aucun outil
externe n'est nécessaire.

<blockquote><pre>
# <b>cd /usr/xenocara</b>
# <b>rm -rf /usr/xobj/*</b>
# <b>make bootstrap</b>
# <b>make obj</b>
# <b>make build</b>
</pre></blockquote>

Si vous voulez faire des modifications dans le code source, vous aurez
probablement besoin d'ajouter plusieurs <a href="faq15.html">packages</a>.
Les détails sont dans le fichier <tt>/usr/xenocara/README</tt>.

<h3>Création d'une release X</h3>
Ceci est similaire au processus de release principal. Après avoir
compilé X avec succès, vous définirez DESTDIR et RELEASEDIR, de la même
manière qu'évoqué précédemment.
RELEASEDIR peut être le même répertoire que la principale RELEASEDIR
système, mais DESTDIR sera effacé et reconstruit lors de ce processus.
Si cela est fait avec attention, ce n'est pas un problème, mais
l'utilisation d'un DESTDIR séparé est plus sûre.

<p>
Pour cet exemple, nous utiliserons les DESTDIR et RELEASEDIR comme
/usr/dest et /usr/rel, respectivement.
Ceci doit être fait après le processus de compilation ci-dessous.

<blockquote><pre>
# <b>export DESTDIR=/usr/dest</b>
# <b>export RELEASEDIR=/usr/rel</b>
# <b>test -d ${DESTDIR} && mv ${DESTDIR} ${DESTDIR}- && \</b>
  <b>   rm -rf ${DESTDIR}- &</b>
# <b>mkdir -p ${DESTDIR} ${RELEASEDIR}</b>
# <b>make release</b>
</pre></blockquote>

Une fois le processus complété, vous aurez un ensemble de fichiers release
dans le $RELEASEDIR

<p>
<a name="Why"></a>
<h2>5.6 - Pourquoi aurais-je besoin d'un noyau sur mesure ?</h2>

<p>
En réalité, vous n'en avez très probablement pas besoin.

<p>
Un noyau sur mesure est un noyau construit à partir d'un fichier de
configuration autre que <tt>GENERIC</tt>, le fichier de configuration
fourni de base. Un noyau sur mesure peut se baser sur du code source <a
href="#Flavors"><i>-release, -stable</i> ou <i>-current</i></a> comme
c'est le cas pour le noyau <tt>GENERIC</tt>. Alors que la compilation de
votre propre noyau <tt>GENERIC</tt> est supportée par l'équipe OpenBSD,
la compilation de votre propre noyau sur mesure ne l'est <i>pas</i>.

<p>
Le fichier de configuration noyau OpenBSD standard (<tt>GENERIC</tt>)
est conçu pour convenir à la plupart des utilisateurs. Bon nombre de
personnes ont rendu leur système inopérant en essayant d'optimiser le
noyau au lieu d'améliorer son fonctionnement. Il existe certaines
personnes qui pensent qu'un noyau et un système d'exploitation doivent
être taillés sur mesure pour obtenir des performances optimales. Ceci
n'est pas vrai dans le cas d'OpenBSD. Seules les personnes très
compétentes avec des applications très particulières doivent penser à
faire un noyau et un système sur mesure.

<p>
Voici quelques raisons pour lesquelles vous devriez créer un noyau sur
mesure :
<ul>
  <li>Vous savez vraiment ce que vous faites, et vous souhaitez utiliser
      OpenBSD sur une machine disposant de peu de ressources mémoire en
      supprimant tous les pilotes de périphériques dont vous n'avez pas
      besoin.
  <li>Vous savez vraiment ce que vous faites, et vous souhaitez
      supprimer des options par défaut ou ajouter des options qui ne
      sont pas activées par défaut (et vous avez vraiment une bonne
      raison pour le faire).
  <li>Vous savez vraiment ce que vous faites, et vous souhaitez activer
      des options expérimentales.
  <li>Vous savez vraiment ce que vous faites, et vous avez un besoin
      spécifique auquel le noyau <tt>GENERIC</tt> ne répond pas. Si
      quelque chose ne marche pas comme prévu, vous n'allez pas demander
      à autrui le pourquoi du comment.
</ul>

<p>
Voici quelques raisons pour lesquelles vous ne devez pas compiler un
noyau sur mesure :
<ul>
  <li>Vous n'en avez pas besoin en temps normal.
  <li>Votre système n'en sera pas plus rapide.
  <li>Vous rendrez probablement votre machine moins fiable.
  <li>Vous n'obtiendrez aucune aide de la part des développeurs.
  <li>Tout problème rencontré devra être obligatoirement reproduit avec
      un noyau <tt>GENERIC</tt> avant que les développeurs ne le
      prennent au sérieux.
  <li>Les autres utilisateurs et les développeurs vous riront au nez si
      vous cassez votre système.
  <li>D'habitude, des options de compilation sur mesure exposent les
      problèmes de compilateur au lieu d'améliorer les performances du
      système.
</ul>

<p>
La suppression de pilotes pourrait rendre plus rapide la phase de
démarrage système. Cependant, elle peut compliquer la récupération suite
à problème matériel. La suppression de pilotes est une tâche très
souvent mal réalisée. La suppression de pilotes <i>ne rendra pas</i>
votre système plus rapide de manière perceptible même si elle peut
produire un noyau plus petit. La suppression des parties liées au
débogage et à la vérification d'erreurs peut améliorer les
performances, mais rendra impossible l'analyse du système si quelque
chose ne fonctionne plus ou pas.


<p>
Encore une fois, les développeurs ignorent d'habitude les rapports de
bogue relatifs à des noyaux personnalisés, sauf si le problème peut être
reproduit avec un noyau <tt>GENERIC</tt>. Vous aurez été prévenu.

<p>
<a name="Options"></a>
<h2>5.7 - Options de configuration du noyau</h2>
Nous partons du fait que vous avez lu <a href="#Why">ci-dessus</a>, et
que vous aimez la douleur.
Il est aussi supposé que vous avez un but ne pouvant être atteint ni
avec <a href="#BootConfig">Configuration au démarrage (UKC>)</a>, ni
avec <a href="#config">config(8)urer un noyau GENERIC</a>.
Si toutes les possibilités sont fausses, vous devriez vous en tenir à
utiliser GENERIC. Vraiment.

<p>
La création d'un noyau OpenBSD est contrôlée par le biais de fichiers de
configuration, se trouvant dans le répertoire
<tt>/usr/src/sys/arch/<i>&lt;arch&gt;</i>/conf/</tt> par défaut. Toutes
les architectures possèdent un fichier, <tt>GENERIC</tt>, qui peut être
utilisé pour générer un noyau OpenBSD standard pour une plate-forme
donnée. Il peut aussi y avoir d'autres fichiers de configuration qui
peuvent être utilisés pour créer des noyaux avec des objectifs
différents tels que la minimisation de l'utilisation de la RAM, les
stations de travail "diskless", etc.

<p>
Le fichier de configuration est traité par
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>,
qui crée et peuple un répertoire de compilation situé sous
<tt>../compile</tt>. Pour une installation typique, le chemin absolu du
répertoire serait situé sous
<tt>/usr/src/sys/arch/&lt;<i>arch</i>&gt;/compile/</tt>. config(8) peut
aussi créer un fichier
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">Makefile</a>,
et d'autres fichiers requis pour créer avec succès un noyau.

<p>
Les options de configuration du noyau sont des options que vous ajoutez
à la configuration de votre noyau pour activer certaines
caractéristiques dans celui-ci. Ceci vous permet d'avoir exactement le
support que vous voulez sans vous encombrer des pilotes inutiles. Il y a
une multitude d'options qui vous permettront de personnaliser votre
noyau. Veuillez consulter la page de manuel
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a>
pour une liste complète des options. Vous pouvez aussi consulter les
fichiers d'exemples de configurations qui sont disponibles pour votre
architecture.

<p>
<b>L'ajout, la suppression, ou la modification d'options dans votre
noyau ne doivent être effectués que si vous avez une bonne raison pour
le faire ! N'éditez pas le fichier de configuration <tt>GENERIC</tt>
 !!</b>
La seule configuration du noyau supportée par l'équipe
OpenBSD est le noyau GENERIC, la combinaison d'options figurant dans les
fichiers <tt>/usr/src/sys/arch/&lt;<i>arch</i>&gt;/conf/GENERIC</tt> et
<tt>/usr/src/sys/conf/GENERIC</tt> <i>tels que livrés par l'équipe
OpenBSD</i> (i.e. non édités). Émettre un rapport de bogue concernant
un noyau personnalisé va dans la plupart des cas se résumer à une réponse
vous demandant d'essayer de reproduire le problème avec un noyau
GENERIC. Les options ne sont pas toutes compatibles entre elles, et
plusieurs options sont nécessaires au bon fonctionnement du système. Il
n'y a aucune garantie quant au fonctionnement d'un noyau personnalisé
que vous avez réussi à compiler.
Il n'y a aucune garantie sur le fait qu'un noyau pouvant être
"config(8)uré" puisse être compilé.

<p>
Vous pouvez voir les fichiers de configuration spécifiques à une
plate-forme donnée ici :

<ul>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/alpha/conf/">Fichiers de Configuration du Noyau alpha </a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/i386/conf/">Fichiers de Configuration du Noyau i386</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/macppc/conf/">Fichiers de Configuration du Noyau macppc</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc/conf/">Fichiers de Configuration du Noyau sparc</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc64/conf/">Fichiers de Configuration du Noyau sparc64</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/vax/conf/">Fichiers de Configuration du Noyau vax</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/hppa/conf/">Fichiers de Configuration du Noyau hppa</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/">Autres architectures</a>
</ul>

<p>
Si vous lisez attentivement ces fichiers, vous verrez une ligne comme :
<pre>
     include "../../../conf/GENERIC"
</pre>
Cela signifie que l'on fait référence à un autre fichier de
configuration. Ce fichier comprend toutes les options qui ne sont pas
dépendantes de l'architecture. Donc quand vous créez votre fichier de
configuration, soyez sûr de regarder
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/conf/GENERIC">
/sys/conf/GENERIC</a> pour voir ce que vous voulez.

<p>
Toutes les options ci-dessous doivent être placées dans le fichier de
configuration du noyau avec le format :
<blockquote>
<tt>option&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><i>nom</i>
</blockquote>
ou
<blockquote><pre>
<tt>option&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt><i>nom=valeur</i> 
</pre></blockquote>

Par exemple, pour utiliser l'option "DEBUG" dans le noyau, il faut
mettre la ligne suivante :

<blockquote><pre>
option      DEBUG
</pre></blockquote>

Les options dans le noyau OpenBSD sont traduites en tant qu'options du
préprocesseur, donc une option telle que DEBUG compilerait les sources
avec l'option -DDEBUG. Ce qui est équivalent à placer un <tt>#define
DEBUG</tt> à travers les sources du noyau.

<p>
Vous aurez peut-être parfois besoin de désactiver une option
précédemment définie dans le fichier "<tt>src/sys/conf/GENERIC</tt>"
typiquement. Bien entendu, vous pouvez modifier une copie de ce fichier,
mais une meilleure méthode consiste à utiliser la clause
<i>rmoption</i>. Par exemple, si vous souhaitiez vraiment désactiver le
débogueur intégré au noyau (<i>non recommandé !</i>), vous ajouteriez la
ligne suivante : <pre> rmoption DDB </pre> à votre fichier de
configuration du noyau. <tt>option DDB</tt> est définie dans
<tt>src/sys/conf/GENERIC</tt>, mais la ligne <tt>rmoption</tt> ci-dessus
la désactive.

<p>
Encore une fois, veuillez consulter 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a>
pour plus d'informations concernant les spécificités de ces options. Il
est à noter que plusieurs options possèdent leurs propres pages de
manuel -- il faut toujours lire toutes les informations disponibles au
sujet d'une option avant de l'ajouter ou la supprimer de votre noyau.

<p> 
<h3>Compiler un noyau sur mesure</h3>

Dans ce cas, nous compilerons un noyau supportant les cartes série ISA
multi-port
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boca&amp;sektion=4">boca(4)</a>.
Cette carte n'est pas dans le noyau GENERIC, du fait qu'elle entre en
conflit avec d'autres drivers.

Il y a deux moyens courants de faire un noyau personnalisé : copier le
fichier de configuration GENERIC vers un autre nom et l'éditer, ou créer
un fichier "wrapper" qui inclut le noyau standard GENERIC ainsi que
toutes les options dont vous avez besoin, et qui ne sont pas dans
GENERIC.
Dans ce cas, votre fichier "wrapper" pourrait ressembler à :
<blockquote><pre>
include "arch/i386/conf/GENERIC"

boca0  at       isa? port 0x100 irq 10     # BOCA 8-port serial cards
com*   at       boca? slave ?
</pre></blockquote>

Les deux lignes au regard des cartes boca(4) sont copiées depuis les
lignes commentées dans <tt>GENERIC</tt>, avec l'IRQ ajusté comme requis.
L'avantage d'utiliser ce fichier "wrapper" est que les changements
imprévus dans GENERIC sont automatiquement mis à jour comme lors de
toute mise à jour du code. L'inconvénient est qu'on ne peut supprimer un
périphérique (cependant, c'est en général une mauvaise idée). 

<p>
L'autre moyen de générer un noyau personnalisé est de faire une copie
du <tt>GENERIC</tt> standard, en lui donnant un autre nom, et en
l'éditant selon les besoins.
L'inconvénient est que les futures mises à jour du fichier de
configuration GENERIC devront être fusionnés dans votre copie, ou vous
devrez refaire votre fichier de configuration.

<p>
Dans un autre événement, après avoir fait votre fichier de configuration
personnalisé, utilisez config(8) et construisez le noyau comme documenté
<a href="#BldKernel">ci-dessus</a>.

<p>
Les instructions complètes pour la création de votre propre noyau sont
dans la page de manuel 
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8#EXAMPLES+(kernel">
config(8)</a>.

<a name="BootConfig"></a>
<h2>5.8 - Configuration au démarrage</h2>

<p>
Lorsque vous démarrez votre système il est possible que vous remarquiez
que votre noyau trouve vos périphériques mais à la mauvaise IRQ. Et que
vous aillez immédiatement besoin de ce périphérique. Sans recompiler
votre noyau vous pouvez utiliser la configuration au démarrage de celui-ci.
Cela vous permettra de corriger votre problème pour cette fois et uniquement
pour cette fois. Si vous redémarrez le système il faudra recommencer la
procédure. Il s'agit donc d'une méthode temporaire. Le problème devra
être corrigé en utilisant <a href="#config">config(8)</a>. De plus votre
noyau à besoin de l'<strong>option BOOT_CONFIG</strong> dans la
configuration du noyau. Le noyau GENERIC possède cette option.

<p>
Une grande partie de ce document peut-être trouvée dans la page de manuel
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot_config&amp;sektion=8">boot_config(8)</a>.

<p>
Pour démarrer avec UKC (User Kernel Config), il faut spécifier l'option
-c au démarrage.

<blockquote><pre>
boot&gt; <strong>boot hd0a:/bsd -c</strong>
</pre></blockquote>

ou n'importe quel autre noyau que vous voulez démarrer. L'invite de
commandes UKC apparaîtra, et vous pourrez spécifier au noyau les
périphériques que vous désirez modifier, ceux que vous voulez activer ou
désactiver.

<p>
Voici un liste des commandes les plus utilisées dans UKC.

<ul>
<li><tt>add <strong>device</strong></tt> - Ajoute un périphérique en en
    copiant un autre
<li><tt>change <strong>devno | device </strong></tt> - Modifie un ou
    plusieurs périphériques
<li><tt>disable <strong>devno | device </strong></tt> - Désactive un ou
    plusieurs périphériques
<li><tt>enable <strong>devno | device </strong></tt> - Active un ou
    plusieurs périphériques
<li><tt>find <strong>devno | device </strong></tt> - Trouver un ou
    plusieurs périphériques
<li><tt>help</tt> - Rapide sommaire de ces commandes
<li><tt>list</tt> - Liste TOUS les périphériques connus
<li><tt>exit/quit</tt> - Continue le démarrage
<li><tt>show <strong>[attr [val]]</strong></tt> - Montre les
    périphériques avec un attribut et une valeur spécifiée optionnelle
</ul>

<p>
Une fois votre noyau configuré, utilisez <tt>quit</tt> ou <tt>exit</tt>
et continuez le démarrage.
Une fois votre système démarré, vous devriez rendre la modification
permanente au niveau de votre binaire du noyau, tel que c'est décrit
dans <a href="#config">utilisation de config(8) pour changer le binaire
du noyau</a>

<p>
<a name="config"></a>
<h2>5.9 - Utilisation de config(8) pour changer le binaire du noyau</h2>

<p>
Les options <b>-e</b> et <b>-u</b> de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
peuvent être très utiles et vous évitent de perdre du temps à recompiler
votre noyau. Le drapeau <b>-e</b> vous permet de rentrer en
configuration UKC alors que le système fonctionne. Les changements
prendront effets au prochain redémarrage. Le drapeau <b>-u</b> permet de
voir si des changements ont été effectués au noyau pendant le démarrage,
signifiant que vous avez utilisé <b>boot -c</b> pour entrer en
configuration UKC.

<p>
Les exemples suivants montrent la désactivation des périphériques ep*
dans le noyau. Pour plus de sécurité, il est préférable d'utiliser
l'option <b>-o</b> qui écrira les changements dans un fichier spécifié.
Par exemple : <strong>config -e -o bsd.new /bsd</strong> écrira les
changements dans bsd.new. Les exemples n'utilisent pas l'option <b>-o</b>,
mais les changements sont ignorés et ne sont pas écrits dans le binaire du
noyau. Pour plus d'informations sur les messages d'erreur et autres
avertissements, lisez la page de manuel
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
.

<!--XXXver -->
<blockquote><pre>
$ <strong>sudo config -e /bsd</strong>
WARNING: no output file specified
OpenBSD 5.4 (GENERIC) #37: Tue Jul 30 12:05:01 MDT 2013
    deraadt@@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Enter 'help' for information
ukc&gt; <strong>?</strong>
        help                                Command help list
        add             dev                 Add a device
        base            8|10|16             Base on large numbers
        change          devno|dev           Change device
        disable         attr val|devno|dev  Disable device
        enable          attr val|devno|dev  Enable device
        find            devno|dev           Find device
        list                                List configuration
        lines           count               # of lines per page
        show            [attr [val]]        Show attribute
        exit                                Exit, without saving changes
        quit                                Quit, saving current changes
        timezone        [mins [dst]]        Show/change timezone
        bufcachepercent [number]            Show/change BUFCACHEPERCENT
        nkmempg         [number]            Show/change NKMEMPAGES
ukc&gt; <strong>list</strong>
  0 video* at uvideo* flags 0x0
  1 audio* at uaudio*|sb0|sb*|gus0|pas0|ess*|wss0|wss*|ym*|eap*|envy*|eso*|sv*|n
eo*|cmpci*|clcs*|clct*|auacer*|auglx*|auich*|auixp*|autri*|auvia*|azalia*|fms*|m
aestro*|esa*|yds*|emu* flags 0x0
  2 midi* at umidi*|sb0|sb*|ym*|mpu*|mpu*|autri*|eap*|envy* flags 0x0
  3 drm* at inteldrm*|radeondrm* flags 0x0
  4 inteldrm* at vga0|vga* flags 0x0
  5 radeondrm* at vga0|vga* flags 0x0
  6 radio* at udsbr*|bktr0|fms* flags 0x0
  7 vscsi0 at root flags 0x0
  8 softraid0 at root flags 0x0
  9 nsphy* at url*|udav*|mos*|axe*|aue*|xe*|ef*|hme*|lii*|bce*|ale*|alc*|age*|jm
e*|et*|nfe*|stge*|vge*|bnx*|bge*|lge*|nge*|msk*|sk*|ste*|se*|sis*|wb*|tl*|vte*|v
r*|pcn*|sf*|ti*|gem*|ne0|ne1|ne2|ne*|ne*|ne*|epic*|sm0|sm*|dc*|dc*|re*|re*|rl*|r
l*|mtd*|fxp*|fxp*|xl*|xl*|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
 10 nsphyter* at url*|udav*|mos*|axe*|aue*|xe*|ef*|hme*|lii*|bce*|ale*|alc*|age*
|jme*|et*|nfe*|stge*|vge*|bnx*|bge*|lge*|nge*|msk*|sk*|ste*|se*|sis*|wb*|tl*|vte
*|vr*|pcn*|sf*|ti*|gem*|ne0|ne1|ne2|ne*|ne*|ne*|epic*|sm0|sm*|dc*|dc*|re*|re*|rl
*|rl*|mtd*|fxp*|fxp*|xl*|xl*|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
[...snip...]
ukc&gt; <strong>disable ep</strong>
 95 ep* disabled
 96 ep* disabled
281 ep0 disabled
282 ep* disabled
283 ep* disabled
340 ep* disabled
ukc&gt; <strong>quit</strong>
not forced
</pre></blockquote>

<p>
Dans l'exemple ci-dessus, tous les périphériques ep* sont désactivés du
noyau et ne seront donc pas testés. Dans certaines situations où vous
aurez effectué ces changements au démarrage avec UKC et <b>boot -c</b>,
il vous faudra les rendre définitifs. Pour ce faire, il faudra utiliser
l'option <b>-u</b>. Dans l'exemple suivant, l'ordinateur a été démarré
avec UKC et les périphériques 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=wi&amp;sektion=4">wi(4)</a>
sont désactivés. Étant donné que les
changements fait par boot -c ne sont pas permanents, ceux-ci doivent
être écrits sur le disque. Cet exemple montre comment écrire les
changements effectués par boot -c dans un nouveau noyau binaire bsd.new.

<blockquote><pre>
$ <strong>sudo config -e -u -o bsd.new /bsd</strong>
OpenBSD 5.4 (GENERIC) #37: Tue Jul 30 12:05:01 MDT 2013
    deraadt@@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Processing history...
161 wi* disabled
162 wi* disabled
417 wi* disabled
Enter 'help' for information
ukc&gt; <strong>quit</strong>
</pre></blockquote>

<a name="VerboseBoot"></a>
<h2>5.10 - Obtention d'une sortie plus verbeuse lors du démarrage</h2>
L'obtention d'une sortie plus verbeuse peut s'avérer être très utile
lors des tentatives de résolution de problème au boot. Si vous avez un
problème inhérent à votre disquette de boot et désirez obtenir plus
d'informations, redémarrez. À l'arrivée au prompt &quot;boot&gt;&quot;,
bootez avec l'option -c. Ceci vous permettra d'être dans UKC&gt;, puis
de faire :

<blockquote><pre>
UKC&gt; <strong>verbose</strong>
autoconf verbose enabled
UKC&gt; <strong>quit</strong>
</pre></blockquote>

<p>
Vous aurez à présent une sortie très verbeuse au démarrage.

<p>
<a name="buildprobs"></a>
<h2>5.11 - Problèmes courants, astuces et questions lors de la
    compilation et de la construction</h2>

La plupart du temps, les problèmes lors de la compilation sont causés
par le fait de ne pas suivre précisément les indications précédentes.
Cependant, il peut exister occasionnellement de véritables problèmes
lors de la compilation de <i>-current</i> à partir du snapshot le plus
récent mais les erreurs lors de la compilation de <i>-release</i> ou
<i>-stable</i> sont presque toujours dues à une erreur de l'utilisateur.

<p>
Les problèmes les plus courants sont :
<ul>
<li>Ne pas démarrer à partir du <a href="#BldBinary">binaire
approprié</a>, essayer de mettre à jour à partir des sources ou penser
qu'un snapshot vieux d'une semaine est "suffisamment proche".
<li><a href="#BldGetSrc">Récupérer</a> la mauvaise branche de l'arbre
CVS.
<li>Ne pas suivre la <a href="faq5.html">procédure</a>.
<li>Tenter d'<a href="#Why">adapter</a> ou d'"optimiser" votre
système.
</ul>

Voici tout de même certains problèmes auxquels vous pourriez être
confronté :

<a name="sig11"></a>
<h3>5.11.1 - La compilation s'est arrêtée avec une erreur "Signal
    11"</h3>

<p>
La compilation d'OpenBSD et d'autres programmes à partir des sources est
une tâche qui sollicite le matériel plus que la plupart des autres
opérations, faisant un usage intensif du CPU, du disque et de la
mémoire. Par conséquence, si votre matériel a des problèmes, ces
derniers apparaîtront plus facilement durant une compilation. Les
défaillances "Signal 11" sont <i>typiquement</i> causées par des
problèmes matériel, et la plupart du temps à cause de problèmes de
mémoire. Mais ces défaillances peuvent aussi causées par le CPU, la
carte mère, ou des problèmes de surchauffe. Votre système peut
d'ailleurs être stable la plupart du temps et connaître des défaillances
lors de la compilation de programmes.

<p>
Il est recommandé de réparer ou remplacer les composants à l'origine des
défaillances; les problèmes pouvant se manifester sous d'autres formes
plus tard. Si vous avez du matériel que vous souhaitez utiliser et qui
ne vous pose aucun problème, installez simplement un snapshot ou une
"révision".

<p>
Pour plus d'informations, consultez la 
<a href="http://www.bitwizard.nl/sig11/">Faq Sig11</a>.

<a name="snake"></a>
<h3>5.11.2 - "make build" échoue en générant un
    message "cannot open output file snake: is a directory"</h3>

Ceci est le résultat de deux erreurs séparées :
<ul>
<li><b>Vous n'avez pas proprement récupéré ou mis à jour votre
    arborescence CVS.</b> Lorsque vous effectuez une opération "CVS
    checkout", vous devez utiliser l'option "<tt>-P</tt>", et lorsque
    vous mettez à jour votre arborescence des sources à partir de CVS,
    vous devez utiliser les options "<tt>-Pd</tt>" de
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">cvs(1)</a>,
    comme documenté <a href="#BldGetSrc">ci-dessus</a>.
    Ces options s'assurent que les nouveaux répertoires sont ajoutés ou
    supprimés au fur et à mesure qu'OpenBSD évolue.

<li><b>Vous n'avez pas correctement créé le répertoire <tt>obj</tt>
    avant de commencer la compilation.</b> La compilation de
    l'arborescence sans répertoire <tt>/usr/obj</tt> n'est pas
    supportée.

</ul>
Il est important de suivre soigneusement les instructions lors de la
<a href="#BldGetSrc">récupération</a> et de la <a
href="#Bld">compilation</a> de votre arbre.

<a name="ProbIPv6"></a>
<h3>5.11.3 Mon système sans IPv6 ne fonctionne pas !</h3>
Oui.
Nous vous prions de ne pas faire de modifications au système de base
pour lesquelles vous ne comprenez pas toutes les conséquences.
Un "petit" changement dans le noyau peut avoir un impact très large sur
le reste du système entier.
Relisez s'il vous plaît <a href="#Why">ceci</a>.


<a name="ProbObj"></a>
<h3>5.11.4 - Oops ! J'ai oublié de créer le répertoire <tt>/usr/obj</tt>
    avant de commencer !</h3>

En faisant un "make build" avant de faire un "make obj", vous devrez en
terminer avec les fichiers objets accumulés dans votre répertoire
<tt>/usr/src</tt>.
C'est une mauvaise chose. Si vous désirez essayer d'avoir à
télécharger l'arbre des sources une nouvelle fois, vous pouvez essayer
les manipulations suivantes afin de nettoyer les fichiers objets :
<pre>
    # <b>cd /usr/src</b>
    # <b>find . -type l -name obj | xargs rm</b>
    # <b>make cleandir</b>
    # <b>rm -rf /usr/obj/*</b>
    # <b>make obj</b>
</pre>

<a name="ProbObjPt"></a>
<h3>5.11.5 - Conseil : Placer <tt>/usr/obj</tt> sur sa
     propre partition</h3>
Si vous compilez souvent, vous trouverez plus rapide de mettre
<tt>/usr/obj</tt> sur sa propre partition.
Le bénéfice est simple, il est typiquement plus rapide de :
<pre>
    # <b>umount /usr/obj</b>
    # <b>newfs <i>VotrePartitionObj</i></b>
    # <b>mount /usr/obj</b>
</pre>
que de faire "rm -rf /usr/obj".

<a name="ProbSKIPDIR"></a>
<h3>5.11.6 - Comment ne pas compiler certaines parties de l'arbre ?</h3>
Vous souhaiterez peut-être ne pas compiler certaines parties de
l'arbre, typiquement parce que vous l'avez remplacé par une application
incluse dans un paquetage, ou parce que vous voulez créer une installation
"plus petite" pour diverses raisons.
La solution est d'utiliser l'option SKIPDIR de 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mk.conf&amp;sektion=5">/etc/mk.conf</a>.

<p>
Note : il est de ce fait possible de compiler des systèmes cassés.
Les résultats de cette option ne sont pas supportés par le projet
OpenBSD.

<a name="ProbMoreInfo"></a>
<h3>5.11.7 - Où puis-je avoir plus d'informations sur le processus de
    compilation ?</h3>
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">release(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mk.conf&amp;sektion=5">mk.conf(5)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/Makefile"><tt>/usr/src/Makefile</tt></a>
<li><a href="../../fr/stable.html">Branches Patchées</a> (<i>-stable</i>)
<li>(pour X) <tt>/usr/X11R6/README</tt> sur votre système

</ul>

<a name="NoSnaps"></a>
<h3>5.11.8 - Je ne vois aucun snapshot sur le site FTP. Où sont-ils passés ?</h3>

<p>
Les snapshots peuvent être retirés lorsqu'ils deviennent anciens (ou
obsolètes) ou lorsque la sortie d'une <i>-release</i> approche.

<a name="NewCompiler"></a>
<h3>5.11.9 - Comment puis-je amorcer sur une nouvelle version
    du compilateur (<i>gcc</i>)?</h3>

Vous devriez vraiment <a href="#BldBinary">installer le dernier
snapshot</a>.

<a name="UpdateEtc"></a>
<h3>5.11.10 - Quel est le meilleur moyen de
       mettre à jour <tt>/etc</tt>, <tt>/var</tt>, et
      <tt>/dev</tt> ?</h3>

<p>En tant que politique, les logiciels dans l'arbre OpenBSD ne modifient
pas de fichiers dans <tt>/etc</tt> automatiquement.
Cela signifie que les modifications à réaliser incombent <i>toujours</i>
à l'administrateur.
Les mises à niveau n'y font pas exception.
Pour mettre à jour les fichiers dans ces répertoires, déterminez tout
d'abord les changements qui ont été opérés sur les fichiers de la base
(distribution) et répétez manuellement ces changements.

<p>
Par exemple, pour voir les fichiers dans l'arbre qui ont changé
récemment, faîtes un :

<pre>
    # cd /usr/src/etc
    # ls -lt |more
</pre>

<!-- XXXversion -->
<p>Pour voir tous les changements dans le répertoire <tt>/etc</tt> entre
des versions arbitraires d'OpenBSD, vous pouvez utiliser <a
href="../../fr/anoncvs.html">CVS</a>.
Par exemple, pour voir les changements entre 5.3 et 5.4, faites un :

<pre>
    # cd /usr/src/etc
    # cvs diff -u -rOPENBSD_5_3 -rOPENBSD_5_4
</pre>

Pour voir les changements entre 5.4 et <i>-current</i> ("HEAD"),
utilisez :
<pre>
    # cd /usr/src/etc
    # cvs diff -u -rOPENBSD_5_4 -rHEAD
</pre>

Le script
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=MAKEDEV&amp;sektion=8&amp;arch=i386">/dev/MAKEDEV</a>
n'est pas mis à jour automatiquement lors du processus de compilation,
mais il est cependant installé comme partie de la 
<a href="#BldBinary">mise à jour binaire</a>.
En règle générale, c'est une bonne idée que de copier (si besoin est) et
de lancer ce script depuis votre arbre des sources lors de la mise à
niveau :

<pre>
    # cd /dev
    # cp /usr/src/etc/etc.`machine`/MAKEDEV ./
    # ./MAKEDEV all
</pre>

<p>
Une fois que vous avez identifié les changements, appliquez à nouveau
ceci à votre arbre local, en préservant toute configuration que vous
auriez pu faire.

<p>
Les changements typiques de <tt>/etc</tt> à considérer, entre les
release concernent :

<ul>
<li>Additions à <tt>/etc/protocols</tt> et
<tt>/etc/services</tt></li>
<li>Nouveaux sysctls (regardez <tt>/etc/sysctl.conf</tt>)</li>
<li>Changements aux travaux de cron par défaut. Regardez <tt>/etc/daily</tt>,
  <tt>/etc/weekly</tt>, <tt>/etc/monthly</tt>, et
  <tt>/etc/security</tt>
<li>Tous les scripts rc, incluant netstart</li>
<li>Les changements de périphériques, regardez ci-dessus
<li>Les changements de la hiérarchie des fichiers dans
<tt>/etc/mtree</tt>, voyez <a href="#Hierarchy">ci-dessus</a>
<li>Les nouveaux utilisateurs (<tt>/etc/passwd</tt>) et groupes (<tt>/etc/group</tt>)
</ul>

<!-- XXXversion -->
Ces changements sont résumés dans
<a href="../upgrade54.html">upgrade54.html</a> (pour aller vers 5.4-release)
ou <a href="current.html">current.html</a> (pour aller vers
<i>-current</i>).


<a name="Hierarchy"></a>
<h3>5.11.11 -  Y a-t-il un moyen facile de faire
      des changements sur tous les fichiers de la hiérarchie ?</h3>

<p>
De temps en temps, des fichiers et répertoires sont ajoutés, ou
supprimés dans le fichier
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=hier&amp;sektion=7">hierarchy</a>.
Aussi, le possesseur de l'information pour les portions du système de
fichiers peut changer.
Un moyen facile de s'assurer que votre hiérarchie est à jour est
d'utiliser l'outil
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtree&amp;sektion=8">mtree(8)</a>.

<p>
Tout d'abord, procurez-vous les dernières sources, en faisant :

<pre>
    # cd /usr/src/etc/mtree
    # install -c -o root -g wheel -m 600 special /etc/mtree
    # install -c -o root -g wheel -m 444 4.4BSD.dist /etc/mtree
    # mtree -qdef /etc/mtree/4.4BSD.dist -p / -u
</pre>

<p>
Votre hiérarchie de fichiers devrait à présent être à jour.

<a name="ProbXComp"></a>
<h3>5.11.12 - Puis-je cross-compiler ? Pourquoi pas ?</h3>
Les outils de cross-compilation sont présent dans le système, et sont
utilisés par les développeurs lors de la création d'un nouveau port.
Cependant, ils ne sont pas maintenus pour une utilisation généralisée.

<p>
Lorsque les développeurs créent le support d'une nouvelle plate-forme,
l'un des premiers gros tests est la compilation native.
Compiler le système depuis les sources augmente très fortement la charge
de l'OS et de la machine, et permet de voir à quel point le système
fonctionne correctement.
Pour cette raison, OpenBSD réalise les compilations sur les plates-formes
que la compilation concerne, ceci est appelé le "native building".
Sans compilation native, il serait bien plus difficile de s'assurer que
les différentes plates-formes sont stables et qu'elles ne font pas que
booter.

<p>
<font color= "#0000e0">
<a href= "index.html">[Index de La FAQ]</a>
<a href= "faq4.html">[Section 4 - Guide d'Installation]</a>
<a href= "faq6.html">[Section 6 - Le réseau]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a>
<a href= "mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq5.html,v 1.197 ]<br>
$Translation: faq5.html,v 1.136 2013/11/02 15:03:17 rustybsd Exp $<br>
-->
$OpenBSD: faq5.html,v 1.113 2013/11/03 08:09:59 ajacoutot Exp $ 
</small>

</body>
</html>
@


1.113
log
@Sync with Steelix CVS
@
text
@d1741 1
a1741 1
$OpenBSD$ 
@


1.112
log
@Sync with Steelix CVS
@
text
@d122 1
a122 1
       ,------o-----------o----X                    5.0 Stable
d124 1
a124 1
       |      .    ,------o---------o----X          5.1 Stable
d126 1
a126 1
       |      .    |      .    ,----o----------o--&gt; 5.2 Stable
d128 1
a128 1
       |      .    |      .    |    .    ,-----o--&gt; 5.3 Stable
d131 1
a131 1
 --&gt;5.0Rel-----&gt;5.1Rel-----&gt;5.2Rel-----&gt;5.3Rel----&gt; Current
d156 3
a158 3
<i>5.0-stable</i> a été supprimée à la sortie de <i>5.2-release</i>, et
que la branche <i>5.1-stable</i> a été supprimée à la sortie de
<i>5.3-release</i> -- les anciennes versions sont typiquement supportées
d165 1
a165 1
<i>5.3-release</i> vers <i>5.3-stable</i>).
d260 1
a260 1
Par exemple, le passage d'une version 5.2 à une version 5.3 ou la mise à
d265 1
a265 1
le <a href="../upgrade53.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d289 1
a289 1
Ainsi, vous pouvez installer un système (tel que 5.1-release) à partir
d291 2
a292 2
5.1-stable et par la suite effectuer une mise à jour majeure vers
5.2-release, puis vers 5.2-stable, 5.3-release, et ainsi de suite.
d314 2
a315 2
pouvez pas utiliser <i>5.3-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>5.3-stable</i>. Vous ne
d443 1
a443 1
comme décrit <a href="../upgrade53.html">ici</a>.
d518 1
a518 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_3 -P src</b>
d522 1
a522 1
OPENBSD_5_3, aussi connue sous le nom de "Branche patchée" ou 
d528 1
a528 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_5_3 -Pd</b>
d533 1
a533 1
"<tt>-rOPENBSD_5_3</tt>" de la ligne de commande, ceci sera mémorisé
d551 1
a551 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_3 -P src ports xenocara</b>
d788 1
a788 1
Si vous suivez -stable d'après le <a href="../upgrade53.html">processus de
d901 1
a901 1
<a href="../upgrade53.html">mise à jour</a> sur une autre machine, ou si vous
d1334 1
a1334 1
OpenBSD 5.3 (GENERIC) #50: Tue Mar 12 18:35:23 MDT 2013
d1400 1
a1400 1
OpenBSD 5.3 (GENERIC) #50: Tue Mar 12 18:35:23 MDT 2013
d1620 1
a1620 1
Par exemple, pour voir les changements entre 5.2 et 5.3, faites un :
d1624 1
a1624 1
    # cvs diff -u -rOPENBSD_5_2 -rOPENBSD_5_3
d1627 1
a1627 1
Pour voir les changements entre 5.3 et <i>-current</i> ("HEAD"),
d1631 1
a1631 1
    # cvs diff -u -rOPENBSD_5_3 -rHEAD
d1674 1
a1674 1
<a href="../upgrade53.html">upgrade53.html</a> (pour aller vers 5.3-release)
d1738 2
a1739 2
Originally [OpenBSD: faq5.html,v 1.196 ]<br>
$Translation: faq5.html,v 1.135 2013/07/27 08:23:08 rustybsd Exp $<br>
@


1.111
log
@Sync with Steelix CVS
@
text
@d1738 2
a1739 2
Originally [OpenBSD: faq5.html,v 1.195 ]<br>
$Translation: faq5.html,v 1.134 2013/07/02 09:21:02 rustybsd Exp $<br>
@


1.110
log
@Sync with Steelix CVS
@
text
@d48 1
a48 1
<li><a href="#Flavors">5.1 - Les Saveurs ("Flavors") OpenBSD</a>
d106 1
a106 1
<h2>5.1 - Les Saveurs ("Flavors") OpenBSD</h2>
d108 1
a108 1
Il existe trois "saveurs" OpenBSD :
d223 1
a223 1
disposition sur les <a href="../../fr/ftp.html">sites FTP </a>. Comme le
d483 1
a483 1
<b>Suivis de <i>-current</i></b><br>
d510 1
a510 1
<b>Suivis de <i>-stable</i></b><br>
d568 1
a568 1
Ceci est particulièrement vrai si utilisez
d675 1
a675 1
<i>N'</i>essayez pas de construire un noyau personnalisé si vous ne
d747 2
a748 1
quoi vous vous amuserez à trouver d'où les problèmes viennent.
d837 1
a837 1
qui est utilisé pour créer un exécutable unique composé de plusieurs binaires.
d873 1
a873 1
Une fois la release construite, il peut être bon de la vérifier afin d'être
d892 1
a892 1
vous aurez besoin d'ajouter un fichier "index.txt". Ce fichier contient
d1566 1
a1566 1
<h3>5.11.7 - Ou puis-je avoir plus d'informations sur le processus de
d1694 1
a1694 1
Tout d'abord, procurez vous les dernières sources, en faisant :
d1739 1
a1739 1
$Translation: faq5.html,v 1.132 2013/05/07 07:54:23 rustybsd Exp $<br>
@


1.109
log
@Sync with Steelix CVS
@
text
@d122 1
a122 1
       ,------o-----------o----X                    4.9 Stable
d124 1
a124 1
       |      .    ,------o---------o----X          5.0 Stable
d126 1
a126 1
       |      .    |      .    ,----o----------o--&gt; 5.1 Stable
d128 1
a128 1
       |      .    |      .    |    .    ,-----o--&gt; 5.2 Stable
d131 1
a131 1
 --&gt;4.9Rel-----&gt;5.0Rel-----&gt;5.1Rel-----&gt;5.2Rel----&gt; Current
d156 3
a158 3
<i>4.9-stable</i> a été supprimée à la sortie de <i>5.1-release</i>, et
que la branche <i>5.0-stable</i> a été supprimée à la sortie de
<i>5.2-release</i> -- les anciennes versions sont typiquement supportées
d160 1
a160 1
nécessite des ressources et du temps, et alors que nous pourrions
d165 1
a165 1
<i>5.2-release</i> vers <i>5.2-stable</i>).
d260 1
a260 1
Par exemple, le passage d'une version 5.1 à une version 5.2 ou la mise à
d265 1
a265 1
le <a href="../upgrade52.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d289 1
a289 1
Ainsi, vous pouvez installer un système (tel que 5.0-release) à partir
d291 2
a292 2
5.0-stable et par la suite effectuer une mise à jour majeure vers
5.1-release, puis vers 5.1-stable, 5.2-release, et ainsi de suite.
d314 2
a315 2
pouvez pas utiliser <i>5.2-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>5.2-stable</i>. Vous ne
d443 1
a443 1
comme décrit <a href="../upgrade52.html">ici</a>.
d518 1
a518 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_2 -P src</b>
d522 1
a522 1
OPENBSD_5_2, aussi connue sous le nom de "Branche patchée" ou 
d528 1
a528 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_5_2 -Pd</b>
d533 1
a533 1
"<tt>-rOPENBSD_5_2</tt>" de la ligne de commande, ceci sera mémorisé
d551 1
a551 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_2 -P src ports xenocara</b>
d787 1
a787 1
Si vous suivez -stable d'après le <a href="../upgrade52.html">processus de
d900 1
a900 1
<a href="../upgrade52.html">mise à jour</a> sur une autre machine, ou si vous
d1332 2
a1333 1
OpenBSD 5.2 (GENERIC) #278: Wed Aug  1 10:04:16 MDT 2012
a1334 1
warning: no output file specified
d1399 1
a1399 1
OpenBSD 5.2 (GENERIC) #278: Wed Aug  1 10:04:16 MDT 2012
d1619 1
a1619 1
Par exemple, pour voir les changements entre 5.1 et 5.2, faîtes un :
d1623 1
a1623 1
    # cvs diff -u -rOPENBSD_5_1 -rOPENBSD_5_2
d1626 1
a1626 1
Pour voir les changements entre 5.1 et <i>-current</i> ("HEAD"),
d1630 1
a1630 1
    # cvs diff -u -rOPENBSD_5_2 -rHEAD
d1673 1
a1673 1
<a href="../upgrade52.html">upgrade52.html</a> (pour aller vers 5.1-release)
d1737 2
a1738 2
Originally [OpenBSD: faq5.html,v 1.194 ]<br>
$Translation: faq5.html,v 1.131 2013/02/14 18:12:40 rustybsd Exp $<br>
d1741 1
a1741 1
</small> 
@


1.108
log
@Sync with Steelix CVS
@
text
@d226 11
a236 11
plate-forme donnée. Il est à noter que, pour certaines plates-formes, il
peut s'écouler des jours entiers avant que l'image ne soit complètement
construite et mise à disposition. Aucune garantie n'est donnée quant au
bon fonctionnement ou à la possibilité d'installer des snapshots.
Souvent, une modification qui a besoin d'être testée peut enclencher le
processus de création des snapshots. Quelques plates-formes ont des
snapshots construits pratiquement tous les jours, d'autres en ont
beaucoup moins fréquemment. Si vous souhaitez utiliser <i>-current</i>,
un snapshot récent est tout ce dont vous aurez besoin, et mettre à jour
un snapshot est un point de départ nécessaire avant de tenter de
compiler <i>-current</i> depuis les sources.
d1737 2
a1738 2
Originally [OpenBSD: faq5.html,v 1.193 ]<br>
$Translation: faq5.html,v 1.130 2012/12/25 21:05:02 rustybsd Exp $<br>
@


1.107
log
@Sync with Steelix CVS
@
text
@d4 1
a4 2
<title>5 - Construire le Système à partir des
Sources</title>
d59 1
a59 1
  <li><a href="#BldUserland">5.3.5 - Compilation du "userland"</a>
d141 1
a141 1
<i>-current</i> est tagguée, et devient <i>-release</i> : un point gelé
d297 2
a298 2
d'un ensemble d'outils. Vous devez vous assurer que votre noyau, le
"userland" (les utilitaires et fichiers complétant le noyau) et
d304 1
a304 1
<i>-current</i> et espérer qu'il fonctionne correctement avec un "userland"
d328 1
a328 2
Actuellement, il y a de fortes chances pour que vous n'en ayez pas
besoin.
d381 5
a385 5
<li><a href="#BldBinary">5.3.2 - Installer ou mettre à niveau depuis les
binaires les plus récents</a>
<li><a href="#BldGetSrc">5.3.3 - Téléchargement des sources appropriées</a>
<li><a href="#BldKernel">5.3.4 - Compilation du noyau</a>
<li><a href="#BldUserland">Compilation du "userland" ("make build").</a>
d404 1
a404 1
Utilisez ce tableau afin de savoir ou vous en êtes, ou vous voulez
d541 1
a541 1
L'arbre "<tt>src</tt>" ayant le seul à avoir été montré jusqu'à présent,
d587 1
a587 1
les autres applications "userland", hormis l'arbre des ports et les
d679 1
a679 1
Évidemment, le noyau est un composant TRES dépendant du matériel du
d744 1
a744 1
<h3>5.3.5 - Compilation du "userland"</h3>
d900 2
a901 2
<a href="../upgrade52.html">mise à jour</a> sur une autre machine, ou si vous 
mettez à jour une autre machine pour une nouvelle <i>-stable</i>, 
d912 1
a912 1
Pour simplifier la vie des utilisateurs d'OpenBSD, un procédé de "méta-compilation" 
d1430 1
a1430 1
        compilation et de la construction</h2>
d1485 1
a1485 1
        message "cannot open output file snake: is a directory"</h3>
d1496 2
a1497 2
 Ces options s'assurent que les nouveaux répertoires sont ajoutés ou
 supprimés au fur et à mesure qu'OpenBSD évolue.
d1499 1
a1499 1
<li><b>Vous n'avez pas correctement crée le répertoire <tt>obj</tt>
d1515 1
a1515 1
le reste entier du système.
d1551 1
a1551 2
<h3>5.11.6 - Comment ne pas compiler certaines parties de l'arbre
         ?</h3>
d1566 1
a1566 1
         compilation ?</h3>
d1579 1
a1579 2
<h3>5.11.8 - Je ne vois aucun snapshot sur le site
       FTP. Ou sont-ils passés ?</h3>
d1586 2
a1587 2
<h3>5.11.9 - Comment puis-je amorcer sur une
        nouvelle version du compilateur (<i>gcc</i>)?</h3>
d1738 1
a1738 1
$Translation: faq5.html,v 1.129 2012/11/04 16:06:42 rustybsd Exp $<br>
@


1.106
log
@Sync with Steelix CVS
@
text
@d123 1
a123 1
       ,------o-----------o----X                    4.8 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          4.9 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 5.0 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 5.1 Stable
d132 1
a132 1
 --&gt;4.8Rel-----&gt;4.9Rel-----&gt;5.0Rel-----&gt;5.1Rel----&gt; Current
d157 3
a159 3
<i>4.8-stable</i> a été supprimée à la sortie de <i>5.0-release</i>, et
que la branche <i>4.9-stable</i> a été supprimée à la sortie de
<i>5.1-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>5.1-release</i> vers <i>5.1-stable</i>).
d261 1
a261 1
Par exemple, le passage d'une version 5.0 à une version 5.1 ou la mise à
d266 1
a266 1
le <a href="../upgrade51.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d282 1
a282 1
corrigé) de la même version. Par exemple, de 5.1-release à 5.1-stable.
d290 1
a290 1
Ainsi, vous pouvez installer un système (tel que 4.9-release) à partir
d292 2
a293 2
4.9-stable et par la suite effectuer une mise à jour majeure vers
5.0-release, puis vers 5.0-stable, 5.1-release, et ainsi de suite.
d315 2
a316 2
pouvez pas utiliser <i>5.1-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>5.1-stable</i>. Vous ne
d445 1
a445 1
comme décrit <a href="../upgrade51.html">ici</a>.
d520 1
a520 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_1 -P src</b>
d524 1
a524 1
OPENBSD_5_1, aussi connue sous le nom de "Branche patchée" ou 
d530 1
a530 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_5_1 -Pd</b>
d535 1
a535 1
"<tt>-rOPENBSD_5_1</tt>" de la ligne de commande, ceci sera mémorisé
d553 1
a553 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_1 -P src ports xenocara</b>
d789 1
a789 1
Si vous suivez -stable d'après le <a href="../upgrade51.html">processus de
d902 1
a902 1
<a href="../upgrade51.html">mise à jour</a> sur une autre machine, ou si vous 
d1334 1
a1334 1
OpenBSD 5.1 (GENERIC) #160: Sun Feb 12 09:46:33 MST 2012
d1401 1
a1401 1
OpenBSD 5.1 (GENERIC) #160: Sun Feb 12 09:46:33 MST 2012
d1623 1
a1623 1
Par exemple, pour voir les changements entre 5.0 et 5.1, faîtes un :
d1627 1
a1627 1
    # cvs diff -u -rOPENBSD_5_0 -rOPENBSD_5_1
d1634 1
a1634 1
    # cvs diff -u -rOPENBSD_5_1 -rHEAD
d1677 1
a1677 1
<a href="../upgrade51.html">upgrade51.html</a> (pour aller vers 5.1-release)
d1741 2
a1742 2
Originally [OpenBSD: faq5.html,v 1.192 ]<br>
$Translation: faq5.html,v 1.128 2012/09/02 10:48:53 ajacoutot Exp $<br>
@


1.105
log
@Sync with Steelix CVS
@
text
@d145 1
a145 1
trouve sur les <a href="../../orders.html">CDs</a> et <a
d1742 1
a1742 1
$Translation: faq5.html,v 1.127 2012/06/07 07:30:25 rustybsd Exp $<br>
@


1.104
log
@Sync with Steelix CVS
@
text
@d90 1
a90 1
    FTP. Où sont t'ils passés ?</a>
d193 1
a193 1
plus securisé, et bien sûr offrant de meilleurs outils que <i>-stable</i>.
d909 1
a909 1
Commençons par <a href="http://x.org/">X.org v7,</a> X est devenu un système
d914 3
a916 3
Pour simplifier la vie des utilisateurs d'OpenBSD, un procédé de "meta-compilation" 
nommée <a href="http://xenocara.org">Xenocara</a> a été développé.
Ce système "reconvertie" X en une seule grosse arborescence pour permettre
d919 2
a920 1
bien plus du processus utilise pour le reste d'OpenBSD que la version précédente.
d929 1
a929 1
<tt>/usr/src/xenocara</tt>. Les sources sont stockes dans le module
d938 2
a939 2
Aucun outil externe n'est nécessaire pour compiler l'arbre standard de xenocara
telle que prévue par OpenBSD.
d1742 1
a1742 1
$Translation: faq5.html,v 1.126 2012/05/25 04:53:55 rustybsd Exp $<br>
@


1.103
log
@Sync with Steelix CVS
@
text
@d177 1
a177 1
termes, le support de nouveaux périphériques NE sera pas ajouté à <i>-
d453 1
a453 1
Le source d'OpenBSD est géré en utilisant le système de contrôle de
d628 1
a628 1
<tt>-Pd</tt>
d639 1
a639 1
viens la remplacer, et la spécification de la ligne de commande est
d733 1
a733 1
que vous savez si vous avez suivis les explications
d799 1
a799 1
<h3>Qu'est ce qu'une "release" (révision), et pourquoi voudrais-je en
d959 1
a959 1
l'utilisation d'une DESTDIR séparée est plus sûr.
d992 1
a992 2
la compilation de votre propre noyau sur mesure
<i>ne</i> l'est pas.
d1114 1
a1114 1
OpenBSD</i> (i.e. non édités). Emettre un rapport de bogue concernant
d1554 1
a1554 1
Vous souhaiterez peut-être de pas compiler certaines parties de
d1741 1
a1741 1
$Translation: faq5.html,v 1.125 2012/05/01 19:59:31 rustybsd Exp $<br>
@


1.102
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2011 by OpenBSD.">
d123 1
a123 1
       ,------o-----------o----X                    4.7 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          4.8 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 4.9 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 5.0 Stable
d132 1
a132 1
 --&gt;4.7Rel-----&gt;4.8Rel-----&gt;4.9Rel-----&gt;5.0Rel----&gt; Current
d157 3
a159 3
<i>4.7-stable</i> a été supprimée à la sortie de <i>4.9-release</i>, et
que la branche <i>4.8-stable</i> a été supprimée à la sortie de
<i>5.0-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>5.0-release</i> vers <i>5.0-stable</i>).
d261 1
a261 1
Par exemple, le passage d'une version 4.9 à une version 5.0 ou la mise à
d266 1
a266 1
le <a href="../upgrade50.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d282 1
a282 1
corrigé) de la même version. Par exemple, de 5.0-release à 5.0-stable.
d290 1
a290 1
Ainsi, vous pouvez installer un système (tel que 4.8-release) à partir
d292 2
a293 2
4.8-stable et par la suite effectuer une mise à jour majeure vers
4.9-release, puis vers 4.9-stable, 5.0-release, et ainsi de suite.
d315 2
a316 2
pouvez pas utiliser <i>5.0-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>5.0-stable</i>. Vous ne
d445 1
a445 1
comme décrit <a href="../upgrade50.html">ici</a>.
d520 1
a520 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_0 -P src</b>
d524 1
a524 1
OPENBSD_5_0, aussi connue sous le nom de "Branche patchée" ou 
d530 1
a530 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_5_0 -Pd</b>
d535 1
a535 1
"<tt>-rOPENBSD_5_0</tt>" de la ligne de commande, ceci sera mémorisé
d553 1
a553 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_5_0 -P src ports xenocara</b>
d789 1
a789 1
Si vous suivez -stable d'après le <a href="../upgrade50.html">processus de
d902 1
a902 1
<a href="../upgrade50.html">mise à jour</a> sur une autre machine, ou si vous 
d1334 1
a1334 1
OpenBSD 5.0 (GENERIC) #43: Wed Aug 17 10:10:52 MDT 2011
d1401 1
a1401 1
OpenBSD 5.0 (GENERIC) #43: Wed Aug 17 10:10:52 MDT 2011
d1623 1
a1623 1
Par exemple, pour voir les changements entre 4.9 et 5.0, faîtes un :
d1627 1
a1627 1
    # cvs diff -u -rOPENBSD_4_9 -rOPENBSD_5_0
d1630 1
a1630 1
Pour voir les changements entre 5.0 et <i>-current</i> ("HEAD"),
d1634 1
a1634 1
    # cvs diff -u -rOPENBSD_5_0 -rHEAD
d1677 1
a1677 1
<a href="../upgrade50.html">upgrade50.html</a> (pour aller vers 5.0-release)
d1741 2
a1742 2
Originally [OpenBSD: faq5.html,v 1.191 ]<br>
$Translation: faq5.html,v 1.124 2012/04/16 16:05:30 rustybsd Exp $<br>
@


1.101
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2010 by OpenBSD.">
d96 1
a96 1
   <li><a href="#Hierarchy">5.11.11 - Y a t'il un moyen facile de faire
d123 1
a123 1
       ,------o-----------o----X                    4.6 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          4.7 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 4.8 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 4.9 Stable
d132 1
a132 1
 --&gt;4.6Rel-----&gt;4.7Rel-----&gt;4.8Rel-----&gt;4.9Rel----&gt; Current
d134 1
a134 1
          Time ---&gt;
d157 3
a159 3
<i>4.6-stable</i> a été supprimée à la sortie de <i>4.8-release</i>, et
que la branche <i>4.7-stable</i> a été supprimée à la sortie de
<i>4.9-release</i> -- les anciennes versions sont typiquement supportées
d165 2
a166 2
partir de <i>-release</i> de la même version (c'est à dire en allant de
<i>4.9-release</i> vers <i>4.9-stable</i>).
d184 1
a184 1
fonctionnalités de <i>-current</i> changent et évoluent, alors qu'aux niveau des APIs
d186 1
a186 1
sur laquelles ils sont basés, et vous
d188 1
a188 2
fichiers de configuration ou à ajouter de nouvelles applications à votre
système.
d192 2
a193 2
OpenBSD, le but avoue est de rendre <i>-current</i> plus fiable, 
plus securise, et bien sur offrant de meilleurs outils que <i>-stable</i>.
d261 1
a261 1
Par exemple, le passage d'une version 4.8 à une version 4.9 ou la mise à
d266 1
a266 1
le <a href="../upgrade49.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d282 1
a282 1
corrigé) de la même version. Par exemple, de 4.9-release à 4.9-stable.
d290 1
a290 1
Ainsi, vous pouvez installer un système (tel que 4.7-release) à partir
d292 2
a293 2
4.7-stable et par la suite effectuer une mise à jour majeure vers
4.9-release et ainsi de suite.
d305 1
a305 1
<i>-current</i> et espérer qu'il fonctionne avec un "userland"
d315 2
a316 2
pouvez pas utiliser <i>4.9-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>4.9-stable</i>. Vous ne
d323 1
a323 1
Oui, cela veut dire que vous devez prendre le temps de réfléchir avant
d367 1
a367 1
recommandé de le faire d'une machine dont vous avez une accés à la 
d369 1
a369 1
Il y a des moments dans le processus de développement ou des incohérences
d371 1
a371 1
incaccéssible via le réseau.
d431 1
a431 1
  <td> Récupérer (optionnel) &amp; compiler <i>-current</i>
d437 1
a437 1
  <td> Récupérer (optionnel) &amp; compiler <i>-current</i>
d445 1
a445 1
comme décris <a href="../upgrade49.html">ici</a>.
d463 1
a463 2
<a href="../../fr/cvsup.html">CVSup</a>, ou
<a href="../../fr/cvsync.html">CVSync</a>, disponibles dans les
a464 2
CVSup peut aussi être utilisé en mode "checkout", mais cela n'est pas
couvert par le présent document.
d467 1
a467 1
et maintenu en utilisant CVSup ou CVSync.
d520 1
a520 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_9 -P src</b>
d524 1
a524 1
OPENBSD_4_9, aussi connue sous le nom de "Branche patchée" ou 
d530 1
a530 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_4_9 -Pd</b>
d535 1
a535 1
"<tt>-rOPENBSD_4_9</tt>" de la ligne de commande, ceci sera mémorisé
d553 1
a553 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_9 -P src ports xenocara</b>
d560 1
a560 1
A ce niveau, que vous ayez suivi <i>-stable</i> ou <i>-current</i> vous
d681 1
a681 1
Evidemment, le noyau est un composant TRES dépendant du matériel du
d717 1
a717 1
# <b>make clean && make depend && make</b>
d731 1
a731 1
A ce stade, redémarrez votre machine afin d'activer le nouveau noyau.
d740 1
a740 14
<h4>Variation du processus ci-dessus : arbre des sources en lecture
seule</h4>
Parfois, vous voudrez peut-être vous assurez que <tt>/usr/src/sys</tt>
reste intacte.
Ceci peut être fait en utilisant les procédés suivants :

<blockquote><pre>
$ <b>cd <i>/somewhere</i></b>
$ <b>cp /usr/src/sys/arch/i386/conf/GENERIC .</b>
$ <b>config -s /usr/src/sys -b . GENERIC</b>
$ <b>make clean && make depend && make</b>
   ... beaucoup de messages affichés ...
</pre></blockquote>

d762 1
a762 1
obligatoire. Echouer à cette étape avant la compilation laissera votre
d789 1
a789 1
Si vous suivez -stable d'après le <a href="../upgrade49.html">processus de
d827 1
a827 1
A la fin du processus, RELEASEDIR arborera la release OpenBSD
d836 1
a836 1
Le processus de release utilisera un utilitaite,
d900 1
a900 1
Dés que vous avez une release compléte créée, vous pouvez utiliser ces
d902 1
a902 1
<a href="../upgrade49.html">mise à jour</a> sur une autre machine, ou si vous 
d1051 1
a1051 1
déboguage et à la vérification d'erreurs peut améliorer les
d1334 1
a1334 1
OpenBSD 4.7 (GENERIC) #558: Thu Mar 17 20:46:15 MDT 2010
a1353 2
        shmseg          [number]            Show/change SHMSEG
        shmmaxpgs       [number]            Show/change SHMMAXPGS
d1356 9
a1364 10
  1 audio* at uaudio*|btsco*|sb0|sb*|gus0|pas0|sp0|ess*|wss0|wss*|ym*|eap*|envy*
|eso*|sv*|neo*|cmpci*|clcs*|clct*|auacer*|auglx*|auich*|auixp*|autri*|auvia*|aza
lia*|fms*|maestro*|esa*|yds*|emu* flags 0x0
  2 midi* at umidi*|sb0|sb*|opl*|opl*|opl*|opl*|opl*|ym*|mpu*|mpu*|autri*|eap* f
lags 0x0
  3 midi* at pcppi0 flags 0x0
  4 drm* at inteldrm*|radeondrm* flags 0x0
  5 inteldrm* at vga0|vga* flags 0x0
  6 radeondrm* at vga0|vga* flags 0x0
  7 radio* at udsbr*|bktr0|fms* flags 0x0
d1366 8
a1373 8
  9 nsphy* at url*|udav*|mos*|axe*|aue*|xe*|ef*|hme*|lii*|bce*|ale*|age*|jme*|et
*|nfe*|stge*|vge*|bnx*|bge*|lge*|nge*|msk*|sk*|ste*|sis*|wb*|tl*|vr*|pcn*|sf*|ge
m*|ne0|ne1|ne2|ne*|ne*|ne*|epic*|sm0|sm*|dc*|dc*|re*|re*|rl*|rl*|mtd*|fxp*|fxp*|
xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
 10 nsphyter* at url*|udav*|mos*|axe*|aue*|xe*|ef*|hme*|lii*|bce*|ale*|age*|jme*
|et*|nfe*|stge*|vge*|bnx*|bge*|lge*|nge*|msk*|sk*|ste*|sis*|wb*|tl*|vr*|pcn*|sf*
|gem*|ne0|ne1|ne2|ne*|ne*|ne*|epic*|sm0|sm*|dc*|dc*|re*|re*|rl*|rl*|mtd*|fxp*|fx
p*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
d1376 6
a1381 8
 98 ep0 disabled
 99 ep* disabled
100 ep* disabled
278 ep0 disabled
279 ep0 disabled
280 ep* disabled
281 ep* disabled
344 ep* disabled
d1401 1
a1401 1
OpenBSD 4.7 (GENERIC) #58: Thu Mar 17 20:46:15 MDT 2010
d1404 1
d1406 1
a1406 2
163 wi* disabled
416 wi* disabled
d1416 1
a1416 1
d'informations, redémarrez. A l'arrivée au prompt &quot;boot&gt;&quot;,
d1623 1
a1623 1
Par exemple, pour voir les changements entre 4.8 et 4.9, faîtes un :
d1627 1
a1627 1
    # cvs diff -u -rOPENBSD_4_8 -rOPENBSD_4_9
d1630 1
a1630 1
Pour voir les changements entre 4.9 et <i>-current</i> ("HEAD"),
d1634 1
a1634 1
    # cvs diff -u -rOPENBSD_4_9 -rHEAD
d1677 1
a1677 1
<a href="../upgrade49.html">upgrade49.html</a> (pour aller vers 4.9-release)
d1683 1
a1683 1
<h3>5.11.11 -  Y a t'il un moyen facile de faire
d1741 2
a1742 2
Originally [OpenBSD: faq5.html,v 1.186 ]<br>
$Translation: faq5.html,v 1.123 2011/05/22 07:58:00 benoit Exp $<br>
@


1.100
log
@Sync with Steelix CVS
@
text
@d1662 2
a1663 2
mais il est cependant installé comme partie de la <a
href="#BldBinary">mise à jour binaire</a>.
d1763 2
a1764 2
Originally [OpenBSD: faq5.html,v 1.185 ]<br>
$Translation: faq5.html,v 1.122 2011/05/07 13:27:54 benoit Exp $<br>
@


1.99
log
@Sync with Steelix CVS
@
text
@d123 1
a123 1
       ,------o-----------o----X                    4.5 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          4.6 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 4.7 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 4.8 Stable
d132 1
a132 1
 --&gt;4.5Rel-----&gt;4.6Rel-----&gt;4.7Rel-----&gt;4.8Rel----&gt; Current
d157 3
a159 3
<i>4.5-stable</i> a été supprimée à la sortie de <i>4.7-release</i>, et
que la branche <i>4.6-stable</i> a été supprimée à la sortie de
<i>4.8-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>4.8-release</i> vers <i>4.8-stable</i>).
d262 1
a262 1
Par exemple, le passage d'une version 4.7 à une version 4.8 ou la mise à
d267 1
a267 1
le <a href="../upgrade48.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d283 1
a283 1
corrigé) de la même version. Par exemple, de 4.8-release à 4.8-stable.
d291 1
a291 1
Ainsi, vous pouvez installer un système (tel que 4.6-release) à partir
d294 1
a294 1
4.8-release et ainsi de suite.
d316 2
a317 2
pouvez pas utiliser <i>4.8-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>4.8-stable</i>. Vous ne
d446 1
a446 1
comme décris <a href="../upgrade48.html">ici</a>.
d524 1
a524 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_8 -P src</b>
d528 1
a528 1
OPENBSD_4_8, aussi connue sous le nom de "Branche patchée" ou 
d534 1
a534 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_4_8 -Pd</b>
d539 1
a539 1
"<tt>-rOPENBSD_4_8</tt>" de la ligne de commande, ceci sera mémorisé
d557 1
a557 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_8 -P src ports xenocara</b>
d806 1
a806 1
Si vous suivez -stable d'après le <a href="../upgrade48.html">processus de
d919 1
a919 1
<a href="../upgrade48.html">mise à jour</a> sur une autre machine, ou si vous 
d1645 1
a1645 1
Par exemple, pour voir les changements entre 4.7 et 4.8, faîtes un :
d1649 1
a1649 1
    # cvs diff -u -rOPENBSD_4_7 -rOPENBSD_4_8
d1652 1
a1652 1
Pour voir les changements entre 4.8 et <i>-current</i> ("HEAD"),
d1656 1
a1656 1
    # cvs diff -u -rOPENBSD_4_8 -rHEAD
d1699 1
a1699 1
<a href="../upgrade48.html">upgrade48.html</a> (pour aller vers 4.8-release)
d1763 2
a1764 2
Originally [OpenBSD: faq5.html,v 1.184 ]<br>
$Translation: faq5.html,v 1.121 2011/04/09 07:17:03 benoit Exp $<br>
@


1.98
log
@Sync with Steelix CVS
@
text
@d182 1
a182 1
pour autant que <i>-current</i> est instable ou plus robuste en production.
d1763 2
a1764 2
Originally [OpenBSD: faq5.html,v 1.182 ]<br>
$Translation: faq5.html,v 1.120 2011/02/05 09:46:59 benoit Exp $<br>
@


1.97
log
@Sync with Steelix CVS
@
text
@d1593 5
a1597 8
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">release(8)</a>
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8#COMPILING+A">afterboot(8)</a>
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mk.conf&amp;sektion=5">mk.conf(5)</a>
<li><a
href="http://www.openbsd.org/cgi-bin/cvsweb/src/Makefile"><tt>/usr/src/Makefile</tt></a>
d1763 2
a1764 2
Originally [OpenBSD: faq5.html,v 1.181 ]<br>
$Translation: faq5.html,v 1.119 2011/01/29 10:32:35 benoit Exp $<br>
@


1.96
log
@Sync with Steelix CVS
@
text
@a1620 48
<p>
OpenBSD supporte désormais deux compilateurs dans l'arbre, gcc v3.3.5
par la plupart des plates-formes, et également gcc v2.95.3 utilisé par des
plates-formes qui n'ont pas encore été converties, ou qui ne seront pas
converties à cause des manques du support de gcc3 ou de ses performances
pauvres.

<p>
Les deux compilateurs sont dans des parties différentes de l'arbre :
<ul>
<li>gcc3: <tt>/usr/src/gnu/usr.bin/gcc</tt>
<li>gcc2: <tt>/usr/src/gnu/egcs/gcc</tt>
</ul>

<p>
Parce que la mise à niveau du compilateur est un peu comme le problème
du poulet et de l'oeuf, les changements sur le compilateur intégré à
l'arbre demandent une attention toute particulière.
Vous devez construire le compilateur deux fois -- la première
construction produit un compilateur qui génère un nouveau code mais
utilise l'ancien code pour fonctionner, la deuxième construction
construit un nouveau compilateur intégralement.
En général, vous voudrez réaliser la procédure suivante :

<pre>
    <b>Si votre plate-forme utilise gcc 2.95.3 :</b>
       # rm -r /usr/obj/gnu/egcs/gcc/*
       # cd /usr/src/gnu/egcs/gcc
        <i>- ou -</i>
    <b>Si votre plate-forme utilise gcc 3.3.5 :</b>
       # rm -r /usr/obj/gnu/usr.bin/gcc/*
       # cd /usr/src/gnu/usr.bin/gcc

    <b>Procédure commune de compilation pour v3.3.5 ou v2.95.3</b>
    # make -f Makefile.bsd-wrapper clean
    # make -f Makefile.bsd-wrapper obj
    # make -f Makefile.bsd-wrapper depend
    # make -f Makefile.bsd-wrapper
    # make -f Makefile.bsd-wrapper install
    # make -f Makefile.bsd-wrapper clean
    # make -f Makefile.bsd-wrapper depend
    # make -f Makefile.bsd-wrapper
    # make -f Makefile.bsd-wrapper install
</pre>

<p>
Puis lancer un <a href="#BldUserland">make build</a> classique.

d1766 2
a1767 2
Originally [OpenBSD: faq5.html,v 1.180 ]<br>
$Translation: faq5.html,v 1.118 2010/12/05 10:25:09 ajacoutot Exp $<br>
@


1.95
log
@Sync with Steelix CVS
@
text
@d528 1
a528 1
OPENBSD_4_7, aussi connue sous le nom de "Branche patchée" ou 
d1815 1
a1815 1
$Translation: faq5.html,v 1.117 2010/11/06 15:15:31 benoit Exp $<br>
@


1.94
log
@Sync with Steelix CVS
@
text
@d123 1
a123 1
       ,------o-----------o----X                    4.4 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          4.5 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 4.6 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 4.7 Stable
d132 1
a132 1
 --&gt;4.4Rel-----&gt;4.5Rel-----&gt;4.6Rel-----&gt;4.7Rel----&gt; Current
d157 3
a159 3
<i>4.4-stable</i> a été supprimée à la sortie de <i>4.6-release</i>, et
que la branche <i>4.5-stable</i> a été supprimée à la sortie de
<i>4.7-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>4.7-release</i> vers <i>4.7-stable</i>).
d182 5
a186 3
pour autant que <i>-current</i> est instable.
<i>-current</i> change et évolue, alors que <i>-stable</i> ne change que
très peu (tant aux niveau des APIs qu'au niveau opérationnel), et vous
d262 1
a262 1
Par exemple, le passage d'une version 4.6 à une version 4.7 ou la mise à
d267 1
a267 1
le <a href="../upgrade47.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d283 1
a283 1
corrigé) de la même version. Par exemple, de 4.7-release à 4.7-stable.
d291 1
a291 1
Ainsi, vous pouvez installer un système (tel que 4.5-release) à partir
d293 2
a294 2
4.5-stable et par la suite effectuer une mise à jour majeure vers
4.6-release et ainsi de suite.
d316 2
a317 2
pouvez pas utiliser <i>4.7-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>4.7-stable</i>. Vous ne
d366 9
d446 1
a446 1
comme décris <a href="../upgrade47.html">ici</a>.
d524 1
a524 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_7 -P src</b>
d534 1
a534 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_4_7 -Pd</b>
d539 1
a539 1
"<tt>-rOPENBSD_4_7</tt>" de la ligne de commande, ceci sera mémorisé
d557 1
a557 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_7 -P src ports xenocara</b>
d806 1
a806 1
Si vous suivez -stable d'après le <a href="../upgrade47.html">processus de
d919 1
a919 1
<a href="../upgrade47.html">mise à jour</a> sur une autre machine, ou si vous 
d1696 1
a1696 1
Par exemple, pour voir les changements entre 4.6 et 4.7, faîtes un :
d1700 1
a1700 1
    # cvs diff -u -rOPENBSD_4_6 -rOPENBSD_4_7
d1703 1
a1703 1
Pour voir les changements entre 4.7 et <i>-current</i> ("HEAD"),
d1707 1
a1707 1
    # cvs diff -u -rOPENBSD_4_7 -rHEAD
d1750 1
a1750 1
<a href="../upgrade47.html">upgrade47.html</a> (pour aller vers 4.7-release)
d1814 2
a1815 2
Originally [OpenBSD: faq5.html,v 1.178 ]<br>
$Translation: faq5.html,v 1.116 2010/05/23 09:32:53 benoit Exp $<br>
@


1.93
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2007 by OpenBSD.">
d123 1
a123 1
       ,------o-----------o----X                    4.3 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          4.4 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 4.5 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 4.6 Stable
d132 1
a132 1
 --&gt;4.3Rel-----&gt;4.4Rel-----&gt;4.5Rel-----&gt;4.6Rel----&gt; Current
d157 3
a159 3
<i>4.3-stable</i> a été supprimée à la sortie de <i>4.5-release</i>, et
que la branche <i>4.4-stable</i> a été supprimée à la sortie de
<i>4.6-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>4.6-release</i> vers <i>4.6-stable</i>).
d260 1
a260 1
Par exemple, le passage d'une version 4.5 à une version 4.6 ou la mise à
d265 1
a265 1
le <a href="../upgrade46.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d281 1
a281 1
corrigé) de la même version. Par exemple, de 4.6-release à 4.6-stable.
d289 1
a289 1
Ainsi, vous pouvez installer un système (tel que 4.4-release) à partir
d291 2
a292 2
4.4-stable et par la suite effectuer une mise à jour majeure vers
4.5-release et ainsi de suite.
d314 2
a315 2
pouvez pas utiliser <i>4.6-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>4.6-stable</i>. Vous ne
d435 1
a435 1
comme décris <a href="../upgrade46.html">ici</a>.
d513 1
a513 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_6 -P src</b>
d517 1
a517 1
OPENBSD_4_6, aussi connue sous le nom de "Branche patchée" ou 
d523 1
a523 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_4_6 -Pd</b>
d528 1
a528 1
"<tt>-rOPENBSD_4_6</tt>" de la ligne de commande, ceci sera mémorisé
d546 1
a546 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_6 -P src ports xenocara</b>
a665 1
<a name="Building"></a>  <!-- Old tag -->
d795 1
a795 1
Si vous suivez -stable d'après le <a href="../upgrade46.html">processus de
d908 1
a908 1
<a href="../upgrade46.html">mise à jour</a> sur une autre machine, ou si vous 
d1075 1
a1075 1
Si les deux possibilités sont fausses, vous devriez vous en tenir à
a1209 2
Une autre raison courante de construire un noyau personnalisé est
d'utiliser RAIDframe, trop gros pour être dans le noyau par défaut.
d1231 1
a1231 1
Un autre moyen de générer un noyau personnalisé est de faire une copie
d1340 1
a1340 1
OpenBSD 4.6 (GENERIC) #58: Thu Jul  9 21:24:42 MDT 2009
d1412 1
a1412 1
OpenBSD 4.6 (GENERIC) #58: Thu Jul  9 21:24:42 MDT 2009
d1685 1
a1685 1
Par exemple, pour voir les changements entre 4.5 et 4.6, faîtes un :
d1689 1
a1689 1
    # cvs diff -u -rOPENBSD_4_5 -rOPENBSD_4_6
d1692 1
a1692 1
Pour voir les changements entre 4.6 et <i>-current</i> ("HEAD"),
d1696 1
a1696 1
    # cvs diff -u -rOPENBSD_4_6 -rHEAD
d1739 1
a1739 1
<a href="../upgrade46.html">upgrade46.html</a> (pour aller vers 4.6-release)
d1803 2
a1804 2
Originally [OpenBSD: faq5.html,v 1.177 ]<br>
$Translation: faq5.html,v 1.115 2009/11/30 10:59:51 benoit Exp $<br>
@


1.92
log
@Sync with Steelix CVS
@
text
@d1343 1
a1343 1
OpenBSD 4.5 (GENERIC) #1749: Sat Feb 28 14:51:18 MST 2009
d1347 18
a1364 19
ukc&gt; ?
        help                            Command help list
        add         dev                 Add a device
        base        8|10|16             Base on large numbers
        change      devno|dev           Change device
        disable     attr val|devno|dev  Disable device
        enable      attr val|devno|dev  Enable device
        find        devno|dev           Find device
        list                            List configuration
        lines       count               # of lines per page
        show        [attr [val]]        Show attribute
        exit                            Exit, without saving changes
        quit                            Quit, saving current changes
        timezone    [mins [dst]]        Show/change timezone
        nmbclust    [number]            Show/change NMBCLUSTERS
        cachepct    [number]            Show/change BUFCACHEPERCENT
        nkmempg     [number]            Show/change NKMEMPAGES
        shmseg      [number]            Show/change SHMSEG
        shmmaxpgs   [number]            Show/change SHMMAXPGS
d1366 20
a1385 24
  0 audio* at sb0|sb*|gus0|pas0|sp0|ess*|wss0|wss*|ym*|eap*|eso*|sv*|neo*|cmpci*
|clcs*|clct*|auich*|autri*|auvia*|fms*|uaudio*|maestro*|esa*|yds*|emu* flags 0x0
  1 midi* at sb0|sb*|opl*|opl*|opl*|opl*|ym*|mpu*|autri* flags 0x0
  2 nsphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
  3 nsphyter* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|
vr*|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep
*|ep*|ep* phy -1 flags 0x0
  4 qsphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
  5 inphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
  6 iophy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
  7 eephy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
  8 exphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*
|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|e
p*|ep* phy -1 flags 0x0
d1388 8
a1395 8
 93 ep0 disabled
 94 ep* disabled
 95 ep* disabled
261 ep0 disabled
262 ep0 disabled
263 ep* disabled
264 ep* disabled
323 ep* disabled
d1415 6
a1420 4
OpenBSD 4.5 (GENERIC) #1749: Sat Feb 28 14:51:18 MST 2009
deraadt@@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERICProcessing history...
105 wi* disabled
106 wi* disabled
d1806 2
a1807 2
Originally [OpenBSD: faq5.html,v 1.175 ]<br>
$Translation: faq5.html,v 1.114 2009/11/01 20:08:14 benoit Exp $<br>
@


1.91
log
@Sync with Steelix CVS
@
text
@a195 14
Attention : <i>-current</i> change tout le temps.
Elle change pratiquement toutes les minutes.
Bien que les développeurs travaillent sans cesse afin que le système se
compile toujours et qu'il n'y ait pas de bogues majeurs, il est tout à
fait possible de récupérer les sources de <i>-current</i> et que celles-ci ne
soient pas compilables, alors que tout fonctionne correctement cinq minutes plus
tard.
Il y a aussi des "jours drapeau" et des changements majeurs du système
que les développeurs gèrent avec des outils en un, mais qui empêchent
une quelconque mise à jour basée sur les sources.
<b>Si vous n'êtes pas préparé à les traiter, rester à l'écart de
<i>-current</i>.</b>

<p>
d198 1
a198 1
sur des systèmes en production, et il est important que certaines
d1809 2
a1810 2
Originally [OpenBSD: faq5.html,v 1.174 ]<br>
$Translation: faq5.html,v 1.113 2009/10/19 14:26:03 benoit Exp $<br>
@


1.90
log
@Sync with Steelix CVS
@
text
@d123 1
a123 1
       ,------o-----------o----X                    4.2 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          4.3 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 4.4 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 4.5 Stable
d132 1
a132 1
 --&gt;4.2Rel-----&gt;4.3Rel-----&gt;4.4Rel-----&gt;4.5Rel----&gt; Current
d157 3
a159 3
<i>4.2-stable</i> a été supprimée à la sortie de <i>4.4-release</i>, et
que la branche <i>4.3-stable</i> a été supprimée à la sortie de
<i>4.5-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>4.5-release</i> vers <i>4.5-stable</i>).
d274 1
a274 1
Par exemple, le passage d'une version 4.4 à une version 4.5 ou la mise à
d279 1
a279 1
le <a href="upgrade45.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d295 1
a295 1
corrigé) de la même version. Par exemple, de 4.5-release à 4.5-stable.
d303 1
a303 1
Ainsi, vous pouvez installer un système (tel que 4.3-release) à partir
d305 2
a306 2
4.3-stable et par la suite effectuer une mise à jour majeure vers
4.4-release et ainsi de suite.
d328 2
a329 2
pouvez pas utiliser <i>4.5-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>4.5-stable</i>. Vous ne
d449 1
a449 1
comme décris <a href="upgrade45.html">ici</a>.
d527 1
a527 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_5 -P src</b>
d531 1
a531 1
OPENBSD_4_5, aussi connue sous le nom de "Branche patchée" ou 
d537 1
a537 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_4_5 -Pd</b>
d542 1
a542 1
"<tt>-rOPENBSD_4_5</tt>" de la ligne de commande, ceci sera mémorisé
d560 1
a560 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_5 -P src ports xenocara</b>
d810 1
a810 1
Si vous suivez -stable d'après le <a href="upgrade45.html">processus de
d923 1
a923 1
<a href="upgrade45.html">mise à jour</a> sur une autre machine, ou si vous 
d1705 1
a1705 1
Par exemple, pour voir les changements entre 4.4 et 4.5, faîtes un :
d1709 1
a1709 1
    # cvs diff -u -rOPENBSD_4_4 -rOPENBSD_4_5
d1712 1
a1712 1
Pour voir les changements entre 4.5 et <i>-current</i> ("HEAD"),
d1716 1
a1716 1
    # cvs diff -u -rOPENBSD_4_5 -rHEAD
d1759 1
a1759 1
<a href="upgrade45.html">upgrade45.html</a> (pour aller vers 4.5-release)
d1823 2
a1824 2
Originally [OpenBSD: faq5.html,v 1.173 ]<br>
$Translation: faq5.html,v 1.112 2009/09/09 05:49:29 benoit Exp $<br>
@


1.89
log
@Sync with Steelix CVS
@
text
@d1425 3
a1427 1
avec UKC et les périphériques wi(4) sont désactivés. Étant donné que les
d1823 2
a1824 2
Originally [OpenBSD: faq5.html,v 1.172 ]<br>
$Translation: faq5.html,v 1.111 2009/09/01 12:18:12 benoit Exp $<br>
@


1.88
log
@Sync with Steelix CVS
@
text
@d857 3
a859 3
Deux utilitaires qui ne sont pas dans le système de base d'OpenBSD,
crunch et crunchgen(1), sont utilisés pour créer un exécutable unique
composé de plusieurs binaires.
a863 12
<i>Ces utilitaires doivent être traités lorsque le processus de release
est lancé</i>
Ils n'ont besoin d'être installés qu'une seule fois, mais certaines
personnes oublient parfois cette étape, et ces programmes sont compilés
rapidement, certaines personnes optent pour compiler crunch et crunchgen
à chaque fois qu'ils utilisent le script.

<!-- XXX change for rel -->
<p>
<i><b>REMARQUE :</b> Pour la -current et la prochaine 4.5, crunch et
 crunchgen font parti du système de base, sautez l'étape suivante de
compilation separée.</i>
d871 1
a871 8
Tout d'abord, si cela n'a pas encore été fait sur la machine, compilez
crunch et crunchgen :
<blockquote><pre>
# <b>cd /usr/src/distrib/crunch && make obj depend all install</b>
</pre></blockquote>

A présent, définissons nos variables d'environnement DESTDIR et
RELEASEDIR :
d1821 2
a1822 2
Originally [OpenBSD: faq5.html,v 1.171 ]<br>
$Translation: faq5.html,v 1.110 2009/05/01 10:55:11 benoit Exp $<br>
@


1.87
log
@Sync with Steelix CVS
@
text
@d123 1
a123 1
       ,------o-----------o----X                    4.1 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          4.2 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 4.3 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 4.4 Stable
d132 1
a132 1
 --&gt;4.1Rel-----&gt;4.2Rel-----&gt;4.3Rel-----&gt;4.4Rel----&gt; Current
d157 3
a159 3
<i>4.1-stable</i> a été supprimée à la sortie de <i>4.3-release</i>, et
que la branche <i>4.2-stable</i> a été supprimée à la sortie de
<i>4.4-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>4.4-release</i> vers <i>4.4-stable</i>).
d274 1
a274 1
Par exemple, le passage d'une version 4.3 à une version 4.4 ou la mise à
d279 1
a279 1
le <a href="upgrade44.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d295 1
a295 1
corrigé) de la même version. Par exemple, de 4.4-release à 4.4-stable.
d328 2
a329 2
pouvez pas utiliser <i>4.4-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>4.4-stable</i>. Vous ne
d449 1
a449 1
comme décris <a href="upgrade44.html">ici</a>.
d527 1
a527 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_4 -P src</b>
d531 1
a531 1
OPENBSD_4_4, aussi connue sous le nom de "Branche patchée" ou 
d537 1
a537 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_4_4 -Pd</b>
d542 1
a542 1
"<tt>-rOPENBSD_4_4</tt>" de la ligne de commande, ceci sera mémorisé
d560 1
a560 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_4 -P src ports xenocara</b>
d810 1
a810 1
Si vous suivez -stable d'après le <a href="upgrade43.html">processus de
d942 1
a942 1
<a href="upgrade44.html">mise à jour</a> sur une autre machine, ou si vous 
d1376 1
a1376 1
OpenBSD 4.4 (GENERIC) #1021: Tue Aug 12 17:16:55 MDT 2008
d1451 2
a1452 3
OpenBSD 4.4 (GENERIC) #1021: Tue Aug 12 17:16:55 MDT 2008
    deraadt@@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
Processing history...
d1722 1
a1722 1
Par exemple, pour voir les changements entre 4.3 et 4.4, faîtes un :
d1726 1
a1726 1
    # cvs diff -u -rOPENBSD_4_3 -rOPENBSD_4_4
d1729 1
a1729 1
Pour voir les changements entre 4.4 et <i>-current</i> ("HEAD"),
d1733 1
a1733 1
    # cvs diff -u -rOPENBSD_4_4 -rHEAD
d1776 1
a1776 1
<a href="upgrade44.html">upgrade43.html</a> (pour aller vers 4.4-release)
d1840 2
a1841 2
Originally [OpenBSD: faq5.html,v 1.170 ]<br>
$Translation: faq5.html,v 1.109 2009/03/12 06:32:02 benoit Exp $<br>
@


1.86
log
@Sync with Steelix CVS
@
text
@d940 7
d1256 1
a1256 1
pccom* at       boca? slave ?
d1841 2
a1842 2
Originally [OpenBSD: faq5.html,v 1.168 ]<br>
$Translation: faq5.html,v 1.108 2008/11/30 15:27:23 benoit Exp $<br>
@


1.85
log
@Sync with Steelix CVS
@
text
@d123 1
a123 1
       ,------o-----------o----X                    4.0 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          4.1 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 4.2 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 4.3 Stable
d132 1
a132 1
 --&gt;4.0Rel-----&gt;4.1Rel-----&gt;4.2Rel-----&gt;4.3Rel----&gt; Current
d157 3
a159 3
<i>4.0-stable</i> a été supprimée à la sortie de <i>4.2-release</i>, et
que la branche <i>4.1-stable</i> a été supprimée à la sortie de
<i>4.3-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>4.3-release</i> vers <i>4.3-stable</i>).
d274 1
a274 1
Par exemple, le passage d'une version 4.2 à une version 4.3 ou la mise à
d279 1
a279 1
le <a href="upgrade43.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d295 1
a295 1
corrigé) de la même version. Par exemple, de 4.3-release à 4.3-stable.
d303 1
a303 1
Ainsi, vous pouvez installer un système (tel que 4.2-release) à partir
d305 2
a306 2
4.2-stable et par la suite effectuer une mise à jour majeure vers
4.3-release et ainsi de suite.
d328 2
a329 2
pouvez pas utiliser <i>4.3-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>4.3-stable</i>. Vous ne
d449 1
a449 1
comme décris <a href="upgrade43.html">ici</a>.
d527 1
a527 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_3 -P src</b>
d531 1
a531 1
OPENBSD_4_3, aussi connue sous le nom de "Branche patchée" ou 
d537 1
a537 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_4_3 -Pd</b>
d542 1
a542 1
"<tt>-rOPENBSD_4_3</tt>" de la ligne de commande, ceci sera mémorisé
d560 1
a560 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_3 -P src ports xenocara</b>
d871 6
a941 7
<i>A Note: ces instructions concernent OpenBSD 4.2 et les versions suivantes.
Si vous souhaitez compiler X pour la 4.1 ou les versions précédentes (pensez
sérieusement à vous <a href="upgrade43.html"> mettre à jour</a> !), 
vous pouvez suivre les versions précédentes de ces instructions via le
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/www/faq/faq5.html?rev=1.155&content-type=text/html#Xbld">cvsweb</a></i>.

<p>
d975 1
d1369 1
a1369 1
OpenBSD 4.3 (GENERIC) #698: Wed Mar 12 11:07:05 MDT 2008
d1419 8
a1426 8
 67 ep0 disabled
 68 ep* disabled
 69 ep* disabled
155 ep0 disabled
156 ep0 disabled
157 ep* disabled
158 ep* disabled
210 ep* disabled
d1444 1
a1444 1
OpenBSD 4.3 (GENERIC) #698: Wed Mar 12 11:07:05 MDT 2008
d1716 1
a1716 1
Par exemple, pour voir les changements entre 4.2 et 4.3, faîtes un :
d1720 1
a1720 1
    # cvs diff -u -rOPENBSD_4_2 -rOPENBSD_4_3
d1723 1
a1723 1
Pour voir les changements entre 4.3 et <i>-current</i> ("HEAD"),
d1727 1
a1727 1
    # cvs diff -u -rOPENBSD_4_3 -rHEAD
d1770 1
a1770 1
<a href="upgrade43.html">upgrade43.html</a> (pour aller vers 4.3-release)
d1834 2
a1835 2
Originally [OpenBSD: faq5.html,v 1.164 ]<br>
$Translation: faq5.html,v 1.106 2008/07/10 19:59:32 gapz Exp $<br>
@


1.84
log
@Sync with Steelix CVS
@
text
@d560 1
a560 3
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_3 -P src ports</b>
    # <b>cd /usr/src</b>
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_3 -P xenocara</b>
d1275 2
a1276 3
<a href=
"http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8#COMPILING+A">
afterboot(8)</a>.
d1731 1
a1731 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=MAKEDEV&amp;sektion=8">/dev/MAKEDEV</a>
d1834 2
a1835 2
Originally [OpenBSD: faq5.html,v 1.162 ]<br>
$Translation: faq5.html,v 1.105 2008/05/04 20:20:20 gapz Exp $<br>
@


1.83
log
@Sync with Steelix CVS
@
text
@d123 1
a123 1
       ,------o-----------o----X                    3.9 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          4.0 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 4.1 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 4.2 Stable
d132 1
a132 1
 --&gt;3.9Rel-----&gt;4.0Rel-----&gt;4.1Rel-----&gt;4.2Rel----&gt; Current
d157 3
a159 3
<i>3.9-stable</i> a été supprimée à la sortie de <i>4.1-release</i>, et
que la branche <i>4.0-stable</i> a été supprimée à la sortie de
<i>4.2-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>4.2-release</i> vers <i>4.2-stable</i>).
d274 1
a274 1
Par exemple, le passage d'une version 4.1 à une version 4.2 ou la mise à
d279 1
a279 1
le <a href="upgrade42.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d295 1
a295 1
corrigé) de la même version. Par exemple, de 4.2-release à 4.2-stable.
d303 1
a303 1
Ainsi, vous pouvez installer un système (tel que 4.1-release) à partir
d305 2
a306 2
4.1-stable et par la suite effectuer une mise à jour majeure vers
4.2-release et ainsi de suite.
d328 2
a329 2
pouvez pas utiliser <i>4.2-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>4.2-stable</i>. Vous ne
d449 1
a449 1
comme décris <a href="upgrade42.html">ici</a>.
d527 1
a527 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_2 -P src</b>
d531 1
a531 1
OPENBSD_4_2, aussi connue sous le nom de "Branche patchée" ou 
d537 1
a537 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_4_2 -Pd</b>
d542 1
a542 1
"<tt>-rOPENBSD_4_2</tt>" de la ligne de commande, ceci sera mémorisé
d560 1
a560 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_2 -P src ports</b>
d562 1
a562 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_2 -P xenocara</b>
d588 1
a588 1
    # <b>tar xzf /mnt/xenocara.tar.gz</b>
a607 1
    # <b>tar xzf ../xenocara.tar.gz</b>
d609 1
d812 1
a812 1
Si vous suivez -stable d'après le <a href="upgrade42.html">processus de
d937 1
a937 1
<h2>5.5 - Compilation de X (4.2 Xenocara)</h2>
d940 1
a940 1
sérieusement à vous <a href="upgrade42.html"> mettre à jour</a> !), 
d959 1
a959 1
<tt>/usr/src/xenocara/README</tt> ainsi que dans
d968 1
a968 1
$ <b>cd /usr/src</b>
d977 1
a977 1
# <b>cd /usr/src/xenocara</b>
d985 1
a985 1
Les détails sont dans le fichier <tt>/usr/src/xenocara/README</tt>.
d1372 1
a1372 1
OpenBSD 4.2 (GENERIC) #375: Tue Aug 28 10:38:44 MDT 2007
d1447 1
a1447 1
OpenBSD 4.2 (GENERIC) #375: Tue Aug 28 10:38:44 MDT 2007
d1719 1
a1719 1
Par exemple, pour voir les changements entre 4.1 et 4.2, faîtes un :
d1723 1
a1723 1
    # cvs diff -u -rOPENBSD_4_1 -rOPENBSD_4_2
d1726 1
a1726 1
Pour voir les changements entre 4.2 et <i>-current</i> ("HEAD"),
d1730 1
a1730 1
    # cvs diff -u -rOPENBSD_4_2 -rHEAD
d1773 1
a1773 1
<a href="upgrade42.html">upgrade42.html</a> (pour aller vers 4.2-release)
d1837 2
a1838 2
Originally [OpenBSD: faq5.html,v 1.161 ]<br>
$Translation: faq5.html,v 1.104 2008/02/01 14:15:11 ajacoutot Exp $<br>
@


1.82
log
@Sync with Steelix CVS
@
text
@d87 1
a87 1
   <li><a href="#ProbMoreInfo">5.11.7 - Ou puis-je avoir plus
d90 1
a90 1
    FTP. Ou sont t'ils passés ?</a>
d98 1
a98 3
   <li><a href="#ProbXi386">5.11.12 - La compilation de l'environnement
    X a échoué !</a>
   <li><a href="#ProbXComp">5.11.13 - Puis-je cross-compiler ?
d123 1
a123 1
       ,------o-----------o----X                    3.8 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          3.9 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 4.0 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 4.1 Stable
d132 1
a132 1
 --&gt;3.8Rel-----&gt;3.9Rel-----&gt;4.0Rel-----&gt;4.1Rel----&gt; Current
d152 1
a152 1
(intégrées) aux branches <i>-stable</i>; à cause de celà, <i>-stable</i> est
d157 3
a159 3
<i>3.8-stable</i> a été supprimée à la sortie de <i>4.0-release</i>, et
que la branche <i>3.9-stable</i> a été supprimée à la sortie de
<i>4.1-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>4.1-release</i> vers <i>4.1-stable</i>).
d171 1
a171 1
errata</a>, ainsi que quelques correctifs ne nécessitant pas d'erratum.
d178 1
a178 2
stable</i>, et le support de nouvelles fonctionnalités sera très
rarement ajouté sauf si cela est considéré comme très important.
d188 2
d191 3
a193 2
OpenBSD, vous devriez trouver <i>-current</i> plus performante
que <i>-stable</i>.
d262 2
d274 1
a274 1
Par exemple, le passage d'une version 4.0 à une version 4.1 ou la mise à
d279 1
a279 1
le <a href="upgrade41.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d295 1
a295 1
corrigé) de la même version. Par exemple, de 4.1-release à 4.1-stable.
d303 1
a303 1
Ainsi, vous pouvez installer un système (tel que 4.0-release) à partir
d305 2
a306 2
4.0-stable et par la suite effectuer une mise à jour majeure vers
4.1-release et ainsi de suite.
d328 2
a329 2
pouvez pas utiliser <i>4.1-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>4.1-stable</i>. Vous ne
d354 1
a354 1
votre système qu'a l'améliorer.
d376 1
a376 1
sources est la seule issue supportée...
d394 1
a394 1
Il ya deux étapes supplémentaires que certains utilisateurs pourraient
d414 1
a414 1
<table border="1" width="600">
d449 1
a449 1
comme décris <a href="upgrade41.html">ici</a>.
d527 1
a527 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_1 -P src</b>
d531 1
a531 1
OPENBSD_4_1, aussi connue sous le nom de "Branche patchée" ou 
d537 1
a537 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_4_1 -Pd</b>
d542 2
a543 2
"<tt>-rOPENBSD_4_1</tt>" de la ligne de commande, ceci sera mémorisé
jusqu'a ce que vous l'effaciez ou en spécifiez un autre via l'option
d550 2
a551 2
L'arbre "<tt>src</tt>" ayant le seul à avoir été montré jusqu'a présent,
vous pouvez faire les mêmes étapes pour "<tt>XF4</tt>" et
d558 3
d562 1
a562 2
    # <b>export CVSROOT=anoncvs@@anoncvs.example.org:/cvs</b>
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_1 -P src ports XF4</b>
d588 2
a589 2
    # <b>cd /usr; tar xzf /mnt/XF4.tar.gz</b>
    # <b>tar xzf /mnt/ports.tar.gz</b>
d608 1
a609 1
    # <b>tar xzf XF4.tar.gz</b>
d629 2
a630 1
Sans l'option "<tt>-P</tt>", votre arbre NE compilera PAS.
d636 2
a651 7
Dans cet exemple, notez que <tt>-Pd</tt> est utilisé comme paramètre de
la commande <tt>up</tt>.
Ceci est une autre de ces options REQUISES, elle permettra aux nouveaux
répertoires qui n'existaient pas dans la récupération précédente d'être
créés lors du processus de mise à jour.

<p>
d812 1
a812 1
Si vous suivez -stable d'après le <a href="upgrade41.html">processus de
d937 6
a942 12
<h2>5.5 - Compilation de X</h2>
X utilise possède un processus de compilation différent du reste de
l'arbre OpenBSD, étant basé sur imake, plutôt que sur le
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a>
standard.
Une conséquence de ceci est qu'il n'y a pas de répertoire "obj", les
binaires générés finissent mélangés au code source, ce qui peut poser
des problèmes (ou du moins des sorties excessives) avec cvs(1).
Une solution à ce problème est d'utiliser 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=lndir&amp;sektion=1">lndir(1)</a>
afin de créer un répertoire ombre contenant des liens symboliques vers
le répertoire des sources actuel pour l'arbre XF4.
d945 11
a955 14
<blockquote>
<b>i386 seulement :</b>
La plate-forme i386 nécessite l'installation des <a
href="faq15.html#PkgMgmt">paquetages</a> "tcl" et "tk" avant la
compilation de
X (ils se trouvent dans l'arbre des ports à
<tt>/usr/ports/lang/tcl/8.4/</tt> et <tt>/usr/ports/x11/tk/8.4/</tt>.
L'installation du paquetage "tk" installera "tcl" en tant que dépendance).
Comme d'habitude, l'installation qu'un paquetage est plus rapide que
l'installation de ces applications depuis les sources.
Un échec de l'installation de ces paquetages avant de compiler X est
quelque chose de frustrant, car le système fonctionnera un certain temps sans
afficher la moindre erreur.
</blockquote>
d958 3
a960 3
Afin de compiler X en utilisant le "répertoire ombre" de
<tt>/usr/Xbld</tt> (compiler et installer les nouveaux binaires dans les
bons répertoires), suivez ces étapes :
d962 5
d968 12
a979 5
# <b>rm -rf /usr/Xbld</b>
# <b>mkdir -p /usr/Xbld</b>
# <b>cd /usr/Xbld </b>
# <b>lndir ../XF4</b>
   [...beaucoup de sortie...]
a980 1
   [...beaucoup de sortie...]
d983 4
a986 1
<p>
d998 2
a999 2
<tt>/usr/Xbld/dest</tt> et <tt>/usr/Xbld/rel</tt>, respectivement.
Ceci doit être fait après le processus de compilation ci-dessus.
d1002 5
a1006 5
# <b>export DESTDIR=/usr/Xbld/dest</b>
# <b>export RELEASEDIR=/usr/Xbld/rel</b>
# <b>cd /usr/Xbld</b>
# <b>rm -rf dest</b>
# <b>mkdir dest rel</b>
d1010 2
a1011 16
<p>
Si vous prévoyez de faire à la fois une compilation et une release de X,
vous pouvez utiliser une cible make(1) différente, "b-r", qui réalise à
la fois la compilation et les étapes de release. La cible "b-r" suppose
que DESTDIR et RELEASEDIR sont les sous-répertoires "<tt>rel</tt>" et
"<tt>dest</tt>" au sein de votre sous-répertoire de compilation :

<blockquote><pre>
# <b>rm -rf /usr/Xbld</b>
# <b>mkdir -p /usr/Xbld /usr/Xbld/dest /usr/Xbld/rel</b>
# <b>cd Xbld </b>
# <b>lndir ../XF4</b>
   [...beaucoup de sortie...]
# <b>make b-r</b>
   [...beaucoup de sortie...]
</pre></blockquote>
a1012 1
 
d1372 1
a1372 1
OpenBSD 4.1 (GENERIC) #1107: Sat Sep 16 19:15:58 MDT 2006
d1447 1
a1447 1
OpenBSD 4.1 (GENERIC) #1107: Sat Sep 16 19:15:58 MDT 2006
d1719 1
a1719 1
Par exemple, pour voir les changements entre 4.0 et 4.1, faîtes un :
d1723 1
a1723 1
    # cvs diff -u -rOPENBSD_4_0 -rOPENBSD_4_1
d1726 1
a1726 1
Pour voir les changements entre 4.1 et <i>-current</i> ("HEAD"),
d1730 1
a1730 1
    # cvs diff -u -rOPENBSD_4_1 -rHEAD
d1773 1
a1773 1
<a href="upgrade41.html">upgrade39.html</a> (pour aller vers 3.9-release)
a1804 7
<a name="ProbXi386"></a>
<h3>5.11.12 - La compilation de l'environnement X a échoué !</h3>
Une cause très commune d'échec de la compilation sur un système i386 est
l'oubli de l'installation des paquetages "tcl" et "tk" avant cette
opération, tel que précédemment indiqué dans la section <a
href="faq5.html#Xbld">Compilation de X</a>.

d1806 1
a1806 1
<h3>5.11.13 - Puis-je cross-compiler ? Pourquoi pas ?</h3>
d1837 2
a1838 2
Originally [OpenBSD: faq5.html,v 1.149 ]<br>
$Translation: faq5.html,v 1.102 2007/11/03 11:01:08 ajacoutot Exp $<br>
@


1.81
log
@sync with steelix translation CVS
@
text
@d134 1
a134 1
 --&gt;3.8Rel-----&gt;3.9Rel-----&gt;4.1Rel-----&gt;4.1Rel----&gt; Current
d1855 1
a1855 1
$Translation: faq5.html,v 1.101 2007/06/22 15:01:58 ajacoutot Exp $<br>
@


1.80
log
@Sync with steelix translation CVS
@
text
@d129 1
a129 1
       |      .    |      .    ,----o----------o--&gt; 4.1 Stable
d1855 1
a1855 1
$Translation: faq5.html,v 1.100 2007/05/02 08:23:53 ajacoutot Exp $<br>
@


1.79
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2006 by OpenBSD.">
d125 1
a125 1
       ,------o-----------o----X                    3.7 Stable
d127 1
a127 1
       |      .    ,------o---------o----X          3.8 Stable
d129 1
a129 1
       |      .    |      .    ,----o----------o--&gt; 3.9 Stable
d131 1
a131 1
       |      .    |      .    |    .    ,-----o--&gt; 4.0 Stable
d134 1
a134 1
 --&gt;3.7Rel-----&gt;3.8Rel-----&gt;3.9Rel-----&gt;4.0Rel----&gt; Current 
d159 3
a161 3
<i>3.7-stable</i> a été supprimée à la sortie de <i>3.9-release</i>, et
que la branche <i>3.8-stable</i> a été supprimée à la sortie de
<i>4.0-release</i> -- les anciennes versions sont typiquement supportées
d168 1
a168 1
<i>4.0-release</i> vers <i>4.0-stable</i>).
d272 1
a272 1
Par exemple, le passage d'une version 3.9 à une version 4.0 ou la mise à
d277 1
a277 1
le <a href="upgrade40.html">Guide de Mise à niveau d'OpenBSD</a> (lors
d293 1
a293 1
corrigé) de la même version. Par exemple, de 4.0-release à 4.0-stable.
d301 1
a301 1
Ainsi, vous pouvez installer un système (tel que 3.9-release) à partir
d303 2
a304 2
3.9-stable et par la suite effectuer une mise à jour majeure vers
4.0-release et ainsi de suite.
d326 2
a327 2
pouvez pas utiliser <i>4.0-current</i> (ou un snapshot), puis décider
que c'est trop dangereux, et revenir vers <i>4.0-stable</i>. Vous ne
d447 1
a447 1
comme décris <a href="upgrade40.html">ici</a>.
d525 1
a525 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_0 -P src</b>
d529 1
a529 1
OPENBSD_4_0, aussi connue sous le nom de "Branche patchée" ou 
d535 1
a535 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_4_0 -Pd</b>
d540 1
a540 1
"<tt>-rOPENBSD_4_0</tt>" de la ligne de commande, ceci sera mémorisé
d558 1
a558 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_4_0 -P src ports XF4</b>
d812 1
a812 1
Si vous suivez -stable d'après le <a href="upgrade40.html">processus de
d1382 1
a1382 1
OpenBSD 4.0 (GENERIC) #1107: Sat Sep 16 19:15:58 MDT 2006
d1457 1
a1457 1
OpenBSD 4.0 (GENERIC) #1107: Sat Sep 16 19:15:58 MDT 2006
d1729 1
a1729 1
Par exemple, pour voir les changements entre 3.9 et 4.0, faîtes un :
d1733 1
a1733 1
    # cvs diff -u -rOPENBSD_3_9 -rOPENBSD_4_0
d1736 1
a1736 1
Pour voir les changements entre 4.0 et <i>-current</i> ("HEAD"),
d1740 1
a1740 1
    # cvs diff -u -rOPENBSD_4_0 -rHEAD
d1783 1
a1783 1
<a href="upgrade40.html">upgrade39.html</a> (pour aller vers 3.9-release)
d1854 2
a1855 2
Originally [OpenBSD: faq5.html,v 1.148 ]<br>
$Translation: faq5.html,v 1.98 2007/04/29 22:17:28 saad Exp $<br>
@


1.78
log
@Sync with Steelix CVS
@
text
@d1168 1
a1168 1
"config(1)uré" puisse être compilé.
d1854 2
a1855 2
Originally [OpenBSD: faq5.html,v 1.147 ]<br>
$Translation: faq5.html,v 1.97 2007/03/19 13:53:46 saad Exp $<br>
@


1.77
log
@sync with Steelix CVS
@
text
@d263 43
d317 4
a320 4
<i>-release</i>. Oui, cela veut dire que vous aurez besoin de mettre à
jour votre système si vous voulez utiliser un nouveau programme qui a
été rajouté aujourd'hui à l'arborescence des ports. OpenBSD n'a
malheureusement que des ressources limitées.
d323 9
a331 9
Il faut aussi comprendre que le processus de mise à jour est uniquement
supporté <b>dans une seule direction uniquement : de l'ancien au
nouveau</b>, et de <i>-stable</i> vers <i>-current</i>.
Vous ne pouvez pas utiliser <i>4.0-current</i> (ou un snapshot), puis
décider que c'est trop dangereux, et revenir vers <i>4.0-stable</i>.
Vous ne pouvez compter que sur vous-même si vous choisissez un autre
chemin que celui, supporté, consistant à réinstaller votre système
proprement. Vous ne devez espérer aucune aide de la part de l'équipe de
développement OpenBSD.
d1854 2
a1855 2
Originally [OpenBSD: faq5.html,v 1.145 ]<br>
$Translation: faq5.html,v 1.96 2007/02/07 10:37:38 benoit Exp $<br>
@


1.76
log
@sync with Steelix CVS
@
text
@d1786 1
a1786 1
Lorsque les développeurs créent le support d'une nouvelle plateforme,
d1791 1
a1791 1
Pour cette raison, OpenBSD réalise les compilations sur les plateformes
d1794 1
a1794 1
les différentes plateformes sont stables et qu'elles ne font pas que
d1812 1
a1812 1
$Translation: faq5.html,v 1.95 2007/02/02 14:21:00 ajacoutot Exp $<br>
@


1.75
log
@sync with Steelix CVS
@
text
@d268 1
a268 1
l'arborescence des <a href="../faq15.html#Ports"><tt>ports</tt></a> sont
d424 1
a424 1
<a href="../faq15.html#PkgMgmt">paquetages</a>.
d911 1
a911 1
href="../faq15.html#PkgMgmt">paquetages</a> "tcl" et "tk" avant la
d990 1
a990 1
fourni de base Un noyau sur mesure peut se baser sur du code source <a
d1537 1
a1537 1
En faisant un "make build" avant de faire un "make obj", you devrez en
d1666 1
a1666 1
Ceci signifie que les modifications à réaliser incombent <i>toujours</i>
d1812 1
a1812 1
$Translation: faq5.html,v 1.93 2007/02/01 16:31:38 ajacoutot Exp $<br>
@


1.74
log
@sync with steelix translation CVS
@
text
@d148 1
a148 1
href="../../ftp.html">serveurs FTP</a>.
d218 1
a218 1
href="../../report.html#bugtypes">rapport de bogue utile</a>. "Les
d237 1
a237 1
disposition sur les <a href="../../ftp.html">sites FTP </a>. Comme le
d1812 1
a1812 1
$Translation: faq5.html,v 1.92 2006/12/10 08:57:17 ajacoutot Exp $<br>
@


1.73
log
@sync with steelix translation CVS
@
text
@d414 1
a414 1
<a href="http://www.cvshome.org">CVS</a>, et <a
d1811 2
a1812 2
Originally [OpenBSD: faq5.html,v 1.144 ]<br>
$Translation: faq5.html,v 1.91 2006/11/03 10:18:50 ajacoutot Exp $<br>
@


1.72
log
@sync with steelix translation CVS
@
text
@d125 1
a125 1
       ,------o-----------o----X                    3.6 Stable
d127 1
a127 1
       |      .    ,------o---------o----X          3.7 Stable
d129 1
a129 1
       |      .    |      .    ,----o----------o--&gt; 3.8 Stable
d131 1
a131 1
       |      .    |      .    |    .    ,-----o--&gt; 3.9 Stable
d134 1
a134 1
 --&gt;3.6Rel-----&gt;3.7Rel-----&gt;3.8Rel-----&gt;3.9Rel----&gt; Current 
d136 1
a136 1
          Temps ---&gt;
d159 3
a161 3
<i>3.6-stable</i> a été supprimée à la sortie de <i>3.8-release</i>, et
que la branche <i>3.7-stable</i> a été supprimée à la sortie de
<i>3.9-release</i> -- les anciennes versions sont typiquement supportées
d168 1
a168 1
<i>3.9-release</i> vers <i>3.9-stable</i>).
d187 4
a190 2
très peu, et vous n'aurez pas à apprendre à nouveau votre système ou à
changer des fichiers de configuration.
d283 2
a284 2
Vous ne pouvez pas utiliser <i>3.9-current</i> (ou un snapshot), puis
décider que c'est trop dangereux, et revenir vers <i>3.9-stable</i>.
d404 1
a404 1
comme décris <a href="upgrade39.html">ici</a>.
d482 1
a482 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_3_9 -P src</b>
d486 1
a486 1
OPENBSD_3_9, aussi connue sous le nom de "Branche patchée" ou 
d492 1
a492 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_3_9 -Pd</b>
d497 1
a497 1
"<tt>-rOPENBSD_3_9</tt>" de la ligne de commande, ceci sera mémorisé
d515 1
a515 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_3_9 -P src ports XF4</b>
d769 1
a769 1
Si vous suivez -stable d'après le <a href="upgrade39.html">processus de
d1339 1
a1339 1
OpenBSD 3.9 (GENERIC) #617: Thu Mar  2 02:26:48 MST 2006
d1414 1
a1414 1
OpenBSD 3.9 (GENERIC) #617: Thu Mar  2 02:26:48 MST 2006
d1686 1
a1686 1
Par exemple, pour voir les changements entre 3.8 et 3.9, faîtes un :
d1690 1
a1690 1
    # cvs diff -u -rOPENBSD_3_8 -rOPENBSD_3_9
d1693 1
a1693 1
Pour voir les changements entre 3.9 et <i>-current</i> ("HEAD"),
d1697 1
a1697 1
    # cvs diff -u -rOPENBSD_3_9 -rHEAD
d1740 1
a1740 1
<a href="upgrade39.html">upgrade39.html</a> (pour aller vers 3.9-release)
d1811 2
a1812 2
Originally [OpenBSD: faq5.html,v 1.142 ]<br>
$Translation: faq5.html,v 1.90 2006/10/10 08:29:03 ajacoutot Exp $<br>
@


1.71
log
@sync with steelix translation CVS
@
text
@d1809 2
a1810 2
Originally [OpenBSD: faq5.html,v 1.141 ]<br>
$Translation: faq5.html,v 1.89 2006/10/08 09:34:11 aanriot Exp $<br>
@


1.70
log
@sync with Steelix CVS
@
text
@d76 1
a76 1
       erreur "Signal 11"</a>
d78 1
a78 1
       message "cannot open output file snake: is a directory"</a>
d97 5
a101 3
   des changements sur tous les fichiers de la hiérarchie ?</a>
    <li><a href="#ProbXi386">5.11.12 - La compilation de l'environnement
        X a échoué !</a>
d1777 18
d1809 2
a1810 2
Originally [OpenBSD: faq5.html,v 1.140 ]<br>
$Translation: faq5.html,v 1.88 2006/09/07 21:57:02 saad Exp $<br>
@


1.69
log
@sync with steelix translation CVS
@
text
@d187 1
a187 1
En fait, notre préocupation étant de faire continuellement évoluer
d271 1
a271 1
jour votre système si vous voulez utiliser un nouveau programme qui a a
d533 1
a533 1
Pour extraire l'abre des sources à partir du CD vers <i>/usr/src</i> (en
d590 1
a590 1
serveur enregistré, et de nombreuses personnes recommendent de
d641 1
a641 1
maitrisez pas le processus de compilation standard.
d651 1
a651 1
verrez certaines choses quelque peu intriguantes -- par exemple, il y a
d794 1
a794 1
processus de compilation, vous ne voudrez pas redémarer l'ordinateur
d817 1
a817 1
étaient concentrés sur un ramdisk noyau qui existe sur les diquettes et
d854 1
a854 1
Vous voudrez ainsi certainemement effacer ce répertoire.
d864 1
a864 1
sûr que les fichiers tar reflettent bien le contenu de DESTDIR.
d883 1
a883 1
la liste de tous les fichiers constituant votre release fraichement
d940 2
a941 2
système, mais DESTDIR sera éffacé et reconstruit lors de ce processus.
Si celà est fait avec attention, ce n'est pas un problème, mais
d1120 1
a1120 1
Il n'y a aucune garrantie sur le fait qu'un noyau pouvant être
d1175 1
a1175 1
précedemment définie dans le fichier "<tt>src/sys/conf/GENERIC</tt>"
d1209 1
a1209 1
Dans ce cas, votre fichier "wrapper" pourait ressembler à :
d1222 1
a1222 1
péripérique (cependant, c'est en général une mauvaise idée). 
d1403 1
a1403 1
avec UKC et les périphériques wi(4) sont désactivés. Ètant donné que les
d1756 1
a1756 1
Tout d'abord, procurrez vous les dernières sources, en faisant :
d1790 1
a1790 1
$Translation: faq5.html,v 1.87 2006/06/26 12:40:14 ajacoutot Exp $<br>
@


1.68
log
@sync with Steelix CVS
@
text
@d420 1
a420 1
<a href="../faq15.html#PkgMgmt">packages</a>.
d907 1
a907 1
href="../faq15.html#PkgMgmt">packages</a> "tcl" et "tk" avant la
d911 2
a912 2
L'installation du package "tk" installera "tcl" en tant que dépendance).
Comme d'habitude, l'installation qu'un package est plus rapide que
d914 1
a914 1
Un échec de l'installation de ces packages avant de compiler X est
d1565 1
a1565 1
incluse dans un package, ou parce que vous voulez créer une installation
d1771 1
a1771 1
l'oubli de l'installation des packages "tcl" et "tk" avant cette
d1790 1
a1790 1
$Translation: faq5.html,v 1.86 2006/05/15 14:57:30 ajacoutot Exp $<br>
@


1.67
log
@sync with Steelix CVS
@
text
@d921 2
a922 3
<tt>/usr/Xbld</tt>, utilisez les étapes suivantes, la compilation et
l'installation des nouveaux binaires dans les bons répertoires, en
suivant ces étapes :
d1789 2
a1790 2
Originally [OpenBSD: faq5.html,v 1.139 ]<br>
$Translation: faq5.html,v 1.85 2006/05/12 07:05:00 ajacoutot Exp $<br>
@


1.66
log
@sync with Steelix CVS
@
text
@d1234 1
a1234 1
Dans un autre évènement, après avoir fait votre fichier de configuration
d1791 1
a1791 1
$Translation: faq5.html,v 1.84 2006/05/03 08:27:12 ajacoutot Exp $<br>
@


1.65
log
@sync with steelix translation CVS
@
text
@d1443 23
d1790 2
a1791 2
Originally [OpenBSD: faq5.html,v 1.137 ]<br>
$Translation: faq5.html,v 1.83 2006/05/02 10:00:49 ajacoutot Exp $<br>
@


1.64
log
@sync with Steelix CVS
@
text
@d123 1
a123 1
       ,------o-----------o----X                    3.5 Stable
d125 1
a125 1
       |      .    ,------o---------o----X          3.6 Stable
d127 1
a127 1
       |      .    |      .    ,----o----------o--&gt; 3.7 Stable
d129 1
a129 1
       |      .    |      .    |    .    ,-----o--&gt; 3.8 Stable
d132 1
a132 1
 --&gt;3.5Rel-----&gt;3.6Rel-----&gt;3.7Rel-----&gt;3.8Rel----&gt; Current 
d157 3
a159 3
<i>3.5-stable</i> a été supprimée à la sortie de <i>3.7-release</i>, et
que la branche <i>3.6-stable</i> a été supprimée à la sortie de
<i>3.8-release</i> -- les anciennes versions sont typiquement supportées
d166 1
a166 1
<i>3.8-release</i> vers <i>3.8-stable</i>).
d279 2
a280 2
Vous ne pouvez pas utiliser <i>3.8-current</i> (ou un snapshot), puis
décider que c'est trop dangereux, et revenir vers <i>3.8-stable</i>.
d400 1
a400 1
comme décris <a href="upgrade38.html">ici</a>.
d469 1
d478 1
a478 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_3_8 -P src</b>
d482 1
a482 1
OPENBSD_3_8, aussi connue sous le nom de "Branche patchée" ou 
d488 1
a488 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_3_8 -Pd</b>
d493 1
a493 1
"<tt>-rOPENBSD_3_8</tt>" de la ligne de commande, ceci sera mémorisé
d511 1
a511 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_3_8 -P src ports XF4</b>
d648 1
a648 1
distinction de plateforme, alors que d'autres sont très spécifiques à un
d667 1
a667 1
<tt>/usr/src/sys/arch/&lt;<i>votre plateforme</i>&gt;/conf</tt>.
d671 1
a671 1
<tt>/usr/src/sys/arch/&lt;<i>votre plateforme</i>&gt;/compile/&lt;<i>nom
d673 1
a673 1
Pour cet exemple, nous supposerons que vous utilisez la plateforme i386
d686 1
a686 1
plateforme.
d689 1
a689 1
peut vous donner le nom de la plateforme sur laquelle vous êtes afin de
d765 1
a765 1
Si vous suivez -stable d'après le <a href="upgrade38.html">processus de
d1336 1
a1336 1
OpenBSD 3.8 (GENERIC) #138: Sat Sep 10 15:41:37 MDT 2005
d1411 1
a1411 1
OpenBSD 3.8-current (GENERIC) #202: Wed Oct 19 17:52:24 MDT 2005
d1610 1
a1610 1
    <b>Si votre plateforme utilise gcc 2.95.3 :</b>
d1614 1
a1614 1
    <b>Si votre plateforme utilise gcc 3.3.5 :</b>
d1656 1
d1660 1
a1660 1
Par exemple, pour voir les changements entre 3.7 et 3.8, faîtes un :
d1664 1
a1664 1
    # cvs diff -u -rOPENBSD_3_7 -rOPENBSD_3_8
d1667 1
a1667 1
Pour voir les changements entre 3.8 et <i>-current</i> ("HEAD"),
d1671 1
a1671 1
    # cvs diff -u -rOPENBSD_3_8 -rHEAD
d1712 1
d1714 1
a1714 1
<a href="upgrade38.html">upgrade38.html</a> (pour aller vers 3.8-release)
d1767 2
a1768 2
Originally [OpenBSD: faq5.html,v 1.136 ]<br>
$Translation: faq5.html,v 1.81 2006/03/29 07:59:19 ajacoutot Exp $<br>
@


1.63
log
@sync with Steelix CVS
@
text
@d906 1
a906 1
href="faq15.html#PkgMgmt">packages</a> "tcl" et "tk" avant la
d1765 1
a1765 1
$Translation: faq5.html,v 1.80 2006/02/24 14:25:52 ajacoutot Exp $<br>
@


1.62
log
@sync with Steelix CVS
@
text
@d146 1
a146 1
href="../../fr/ftp.html">serveurs FTP</a>.
d150 4
a153 6
chemin de développement principal d'OpenBSD. Elle est aussi connue sous
le nom de <i>branche patchée</i> à cause de cela.
Quand des corrections très importantes sont faites sur <i>-current</i>,
elles sont "backportées" (intégrées) aux branches <i>-stable</i>; à
cause de celà, <i>-stable</i> est aussi connue sous le nom de <i>branche
patch</i>.
d196 2
a197 2
fait possible de récupérer les sources et que celles-ci ne soient pas
compilables, alors que tout fonctionne correctement cinq minutes plus
d233 1
a233 1
disposition sur les <a href="../../fr/ftp.html">sites FTP </a>. Comme le
d338 4
a342 5
  <li><a href="#BldBinary">5.3.2 - Installer ou mettre à niveau depuis
      les binaires les plus récents</a>
  <li><a href="#BldGetSrc">5.3.3 - Téléchargement des sources
      appropriées</a>
  <li><a href="#BldKernel">5.3.4 - Compilation du noyau</a>
d549 3
a551 2
En supposant que vous les ayez téléchargé dans <tt>/usr</tt> :
  
d1193 3
a1243 1
<p>
d1310 1
a1310 1
<p> Les options <b>-e</b> et <b>-u</b> de
d1437 1
a1437 1

d1452 1
a1452 1
défaillances "Signal 11" sont <tt>typiquement</tt> causées par des
d1765 1
a1765 1
$Translation: faq5.html,v 1.79 2006/02/16 14:01:09 saad Exp $<br>
@


1.61
log
@sync with Steelix CVS
@
text
@d98 2
d1743 6
a1748 6
<p>
Si vous n'avez pas déjà commis une erreur, il serait judicieux de relire
ce document dans sa totalité, à l'affût de choses que vous auriez pu
rater.
Apportez un intérêt tout particulier à <a href="#BldBinary">commencer
avec les binaires les plus récents</a>.
d1764 2
a1765 2
Originally [OpenBSD: faq5.html,v 1.135 ]<br>
$Translation: faq5.html,v 1.78 2006/01/02 06:40:36 saad Exp $<br>
@


1.60
log
@sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2005 by OpenBSD.">
d905 4
a908 4
XF86Setup, utilisé pour configurer les serveurs XF3 sur les plates-formes
i386 (et seulement celles-ci) requiert que les <a
href="faq8.html#Packages">packages</a> "tcl" et "tk" soient installés
avant la compilation de X (trouvé dans l'arbre des ports à
d1762 2
a1763 2
Originally [OpenBSD: faq5.html,v 1.134 ]<br>
$Translation: faq5.html,v 1.77 2005/12/07 06:35:17 aanriot Exp $<br>
@


1.59
log
@sync with Steelix CVS
@
text
@d113 2
a114 2
<li><b>-current:</b> La version courante (ou de développement)
    d'OpenBSD, qui deviendra la prochaine "release".
d137 2
a138 2
<i>-Current</i> bénéficie de tout le travail actif, et devient plus tard
la <i>-release</i> suivante d'OpenBSD.
d150 4
a153 2
Si les changements importants sont fait sur <i>-current</i>, ils sont
portés en arrière (intégrés) dans les branches <i>-stable</i>.
d264 1
a264 1
l'arborescence des <a href="../../fr/ports.html"><tt>ports</tt></a> sont
d418 1
a418 1
depuis une archive locale que vous maintenez en utilisant
d420 1
a420 1
<a href="../../fr/cvsync.html">CVSync</a>, disponible via les
d1762 2
a1763 2
Originally [OpenBSD: faq5.html,v 1.132 ]<br>
$Translation: faq5.html,v 1.75 2005/11/24 23:16:40 saad Exp $<br>
@


1.58
log
@sync with steelix translation CVS
@
text
@d419 1
a419 1
<a href="faq8.html#Packages">packages</a>.
d1760 2
a1761 2
Originally [OpenBSD: faq5.html,v 1.131 ]<br>
$Translation: faq5.html,v 1.74 2005/11/17 10:43:56 aanriot Exp $<br>
@


1.57
log
@sync with Steelix CVS
@
text
@d545 2
a546 1
les autres applications "userland".
d548 1
a548 1
En supposant que vous les avez téléchargé dans <tt>/usr</tt> :
d1760 2
a1761 2
Originally [OpenBSD: faq5.html,v 1.130 ]<br>
$Translation: faq5.html,v 1.73 2005/11/14 23:49:40 aanriot Exp $<br>
@


1.56
log
@sync with steelix translation CVS
@
text
@d516 1
a516 1
A ce niveau, que vous ayez suivis <i>-stable</i> ou <i>-current</i> vous
d521 42
d623 6
d1759 2
a1760 2
Originally [OpenBSD: faq5.html,v 1.128 ]<br>
$Translation: faq5.html,v 1.71 2005/11/08 09:17:28 saad Exp $<br>
@


1.55
log
@sync with Steelix CVS
@
text
@d509 1
a509 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_3_8 -d src ports XF4</b>
d1712 1
a1712 1
$Translation: faq5.html,v 1.70 2005/11/03 11:20:16 saad Exp $<br>
@


1.54
log
@sync with Steelix CVS
@
text
@d1282 1
a1282 1
OpenBSD 3.8-current (GENERIC) #202: Wed Oct 19 17:52:24 MDT 2005
d1711 2
a1712 2
Originally [OpenBSD: faq5.html,v 1.127 ]<br>
$Translation: faq5.html,v 1.69 2005/11/02 00:11:05 saad Exp $<br>
@


1.53
log
@sync with Steelix CVS
@
text
@d121 1
a121 1
       ,------o-----------o----X                    3.4 Stable
d123 1
a123 1
       |      .    ,------o---------o----X          3.5 Stable
d125 1
a125 1
       |      .    |      .    ,----o----------o--&gt; 3.6 Stable
d127 1
a127 1
       |      .    |      .    |    .    ,-----o--&gt; 3.7 Stable
d130 1
a130 1
 --&gt;3.4Rel-----&gt;3.5Rel-----&gt;3.6Rel-----&gt;3.7Rel----&gt; Current 
d154 8
a161 8
remarquerez aussi dans l'exemple ci-dessus que la branche <i>3.4-
stable</i> a été supprimée à la sortie de <i>3.6-release</i>, et que la
branche <i>3.5-stable</i> a été supprimée à la sortie de <i>3.7-
release</i> -- les anciennes versions sont typiquement supportées durant
deux "releases" au maximum. Le support d'anciennes versions nécessite
des ressources et du temps, et alors que nous pourrions vouloir plutôt
fournir un support continu pour les anciennes versions, nous
préférerons nous concentrer sur les nouvelles fonctionnalités. La
d164 1
a164 1
<i>3.7-release</i> vers <i>3.7-stable</i>).
d277 2
a278 2
Vous ne pouvez pas utiliser <i>3.7-current</i> (ou un snapshot), puis
décider que c'est trop dangereux, et revenir vers <i>3.7-stable</i>.
d399 1
a399 1
comme décris <a href="upgrade37.html">ici</a>.
d476 1
a476 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_3_7 -P src</b>
d480 1
a480 1
OPENBSD_3_7, aussi connue sous le nom de "Branche patchée" ou 
d486 1
a486 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_3_7 -Pd</b>
d491 1
a491 1
"<tt>-rOPENBSD_3_7</tt>" de la ligne de commande, ceci sera mémorisé
d509 1
a509 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_3_7 -d src ports XF4</b>
d713 1
a713 1
Si vous suivez -stable d'après le <a href="upgrade37.html">processus de
d1282 2
a1283 2
OpenBSD 3.7 (GENERIC) #50: Sun Mar 20 00:01:57 MST 2005
     deraadt@@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
d1357 2
a1358 2
OpenBSD 3.7 (GENERIC) #50: Sun Mar 20 00:01:57 MST 2005
     deraadt@@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
d1605 1
a1605 1
Par exemple, pour voir les changements entre 3.6 et 3.7, faîtes un :
d1609 1
a1609 1
    # cvs diff -u -rOPENBSD_3_6 -rOPENBSD_3_7
d1612 1
a1612 1
Pour voir les changements entre 3.7 et <i>-current</i> ("HEAD"),
d1616 1
a1616 1
    # cvs diff -u -rOPENBSD_3_7 -rHEAD
d1658 1
a1658 1
<a href="upgrade37.html">upgrade37.html</a> (pour aller vers 3.7-release)
d1711 2
a1712 2
Originally [OpenBSD: faq5.html,v 1.126 ]<br>
$Translation: faq5.html,v 1.68 2005/10/30 18:14:20 saad Exp $<br>
@


1.52
log
@sync with Steelix CVS
@
text
@d319 1
a319 1
<i>-current</i> pour toutes les plateformes.
d854 1
a854 1
XF86Setup, utilisé pour configurer les serveurs XF3 sur les plateformes
d1533 2
a1534 2
par la plupart des plateformes, et également gcc v2.95.3 utilisé par des
plateformes qui n'ont pas encore été converties, ou qui ne seront pas
d1712 1
a1712 1
$Translation: faq5.html,v 1.67 2005/10/02 20:21:16 saad Exp $<br>
@


1.51
log
@sync with Steelix CVS
@
text
@d407 2
a408 1
Le source d'OpenBSD est géré en utilisant le système de gestion de contenu 
d1711 2
a1712 2
Originally [OpenBSD: faq5.html,v 1.125 ]<br>
$Translation: faq5.html,v 1.66 2005/09/23 22:51:49 aanriot Exp $<br>
@


1.50
log
@sync with Steelix CVS
@
text
@d632 2
a633 2
Remplacez "<tt>i386</tt>" sur la première ligne par votre nom de
machine.
d1710 2
a1711 2
Originally [OpenBSD: faq5.html,v 1.124 ]<br>
$Translation: faq5.html,v 1.65 2005/08/13 07:26:52 saad Exp $<br>
@


1.49
log
@sync with Steelix CVS
@
text
@d826 10
d1710 2
a1711 2
Originally [OpenBSD: faq5.html,v 1.123 ]<br>
$Translation: faq5.html,v 1.64 2005/05/30 15:09:32 saad Exp $<br>
@


1.48
log
@sync with Steelix CVS
@
text
@d380 4
d414 1
a414 1
du dépôt CVS utilisé par le projet OpenBSD, et ce publiquement, ou
d1700 2
a1701 2
Originally [OpenBSD: faq5.html,v 1.121 ]<br>
$Translation: faq5.html,v 1.63 2005/05/21 15:21:53 aanriot Exp $<br>
@


1.47
log
@sync with Steelix CVS
@
text
@d121 1
a121 1
       ,------o-----------o----X                    3.3 Stable
d123 1
a123 1
       |      .    ,------o---------o----X          3.4 Stable
d125 1
a125 1
       |      .    |      .    ,----o----------o--&gt; 3.5 Stable
d127 1
a127 1
       |      .    |      .    |    .    ,-----o--&gt; 3.6 Stable
d130 1
a130 1
 --&gt;3.3Rel-----&gt;3.4Rel-----&gt;3.5Rel-----&gt;3.6Rel----&gt; Current 
d143 2
a144 2
trouve sur les <a href="../orders.html">CDs</a> et <a
href="../fr/ftp.html">serveurs FTP</a>.
d154 3
a156 3
remarquerez aussi dans l'exemple ci-dessus que la branche <i>3.3-
stable</i> a été supprimée à la sortie de <i>3.5-release</i>, et que la
branche <i>3.4-stable</i> a été supprimée à la sortie de <i>3.6-
d164 1
a164 1
<i>3.6-release</i> vers <i>3.6-stable</i>).
d277 2
a278 2
Vous ne pouvez pas utiliser <i>3.6-current</i> (ou un snapshot), puis
décider que c'est trop dangereux, et revenir vers <i>3.6-stable</i>.
d312 1
a312 1
<a href="../fr/stable.html">stable</a>.
d395 1
a395 1
comme décris <a href="upgrade36.html">ici</a>.
d409 1
a409 1
href="../fr/anoncvs.html">AnonCVS</a> (une machine proposant une copie
d412 2
a413 2
<a href="../fr/cvsup.html">CVSup</a>, ou
<a href="../fr/cvsync.html">CVSync</a>, disponible via les
d422 1
a422 1
Après avoir décidé quel <a href="../fr/anoncvs.html">Serveur AnonCVS</a>
d471 1
a471 2
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_3_6 -P src</b>
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_3_6 -P src ports XF4</b>
d475 2
a476 2
OPENBSD_3_6, aussi connue sous le nom de "Branche patchée" ou 
"<a href="../fr/stable.html">-stable</a>". Vous pourrez mettre à jour le
d481 1
a481 1
    # <b>cvs -d$CVSROOT up -rOPENBSD_3_6 -Pd</b>
d484 1
a484 1
Actuellement, CVS est agréable car il permet de suivre un "Tag" dans les
d486 1
a486 1
"<tt>-rOPENBSD_3_6</tt>" de la ligne de commande, ceci sera mémorisé
d504 1
a504 1
    # <b>cvs -d$CVSROOT checkout -rOPENBSD_3_6 -d src ports XF4</b>
d640 2
a641 2
<a href="">ci-dessus</a> sur la mise à niveau vers les instantanés les plus
récents.
d708 1
a708 1
Si vous suivez -stable d'après le <a href="upgrade36.html">processus de
d1264 1
d1267 2
a1268 2
OpenBSD 3.6 (GENERIC) #59: Fri Sep 17 12:32:57 MDT 2004
    deraadt@@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
d1342 2
a1343 2
OpenBSD 3.6 (GENERIC) #59: Fri Sep 17 12:32:57 MDT 2004
    deraadt@@i386.openbsd.org:/usr/src/sys/arch/i386/compile/GENERIC
d1496 1
a1496 1
<li><a href="../fr/stable.html">Branches Patchées</a> (<i>-stable</i>)
d1589 2
a1590 2
href="../fr/anoncvs.html">CVS</a>.
Par exemple, pour voir les changements entre 3.5 et 3.6, faîtes un :
d1594 1
a1594 1
    # cvs diff -u -rOPENBSD_3_5 -rOPENBSD_3_6
d1597 1
a1597 1
Pour voir les changements entre 3.6 et <i>-current</i> ("HEAD"),
d1601 1
a1601 1
    # cvs diff -u -rOPENBSD_3_6 -rHEAD
d1643 1
a1643 1
<a href="upgrade36.html">upgrade36.html</a> (pour aller vers 3.6-release)
d1696 2
a1697 2
Originally [OpenBSD: faq5.html,v 1.118 ]<br>
$Translation: faq5.html,v 1.60 2005/05/10 05:01:25 aanriot Exp $<br>
@


1.46
log
@sync with Steelix CVS
@
text
@d640 2
a641 2
que vous savez si vous avez suivis les explications <a
href="">ci-dessus</a> sur la mise à niveau vers les instantanés les plus
d736 1
a736 2
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_mfs&amp;sektion=8">disque
d820 1
a820 1
Les instructions faisant foi sur la création d'une release sont dans 
d826 1
a826 1
l'arbre OpenBSD, étant basé sur imake, plutôt que sur le 
d1017 1
a1017 1
Le fichier de configuration est traité par 
d1034 4
a1037 4
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4
">options(4)</a> pour une liste complète des options. Vous pouvez aussi
consulter les fichiers d'exemples de configurations qui sont disponibles
pour votre architecture.
d1048 1
a1048 1
OpenBSD</i> (i.e. non édités). Emettre un rapport de bogues concernant
d1074 1
a1074 2
Si vous lisez attentivement ces fichiers vous verrez une ligne du genre
:
d1083 1
a1083 1
/sys/conf/GENERIC</a> pour voir ce que vous voulez. 
d1204 2
a1205 2
Où n'importe quel autre noyau que vous voulez démarrer. L'invite de
commandes UKC apparaîtra. De là vous pourrez spécifier au noyau les
d1697 1
a1697 1
$Translation: faq5.html,v 1.59 2005/05/06 09:46:42 saad Exp $<br>
@


1.45
log
@sync with OpenBSD CVS
@
text
@d72 1
a72 1
<li><a href="#buildprobs">5.11 - Problèmes courrants, astuces et
d323 1
a323 1
La raison la plus courrante de compiler depuis les sources est de suivre
d676 1
a676 1
# <b>rm -robj/*</b>
d1373 1
a1373 1
<h2>5.11 - Problèmes courrants, astuces et questions lors de la
d1699 1
a1699 1
$Translation: faq5.html,v 1.57 2005/04/19 04:15:05 aanriot Exp $<br>
@


1.44
log
@sync with Steelix CVS
@
text
@d440 1
a440 1
publique, <b>anoncvs@@anoncvs.be.openbsd.org:/cvs</b>.
d450 1
a450 1
    # <b>export CVSROOT=anoncvs@@anoncvs.be.openbsd.org:/cvs</b>
d458 1
a458 1
    # <b>export CVSROOT=anoncvs@@anoncvs.be.openbsd.org:/cvs</b>
d470 1
a470 1
    # <b>export CVSROOT=anoncvs@@anoncvs.be.openbsd.org:/cvs</b>
d481 1
a481 1
    # <b>export CVSROOT=anoncvs@@anoncvs.be.openbsd.org:/cvs</b>
d504 1
a504 1
    # <b>export CVSROOT=anoncvs@@anoncvs.be.openbsd.org:/cvs</b>
d560 1
a560 1
    cvs -q -danoncvs@@anoncvs.be.openbsd.org:/cvs
d567 1
a567 1
<tt>anoncvs@@anoncvs.be.openbsd.org:/cvs</tt>, supprimant les sorties
d1698 2
a1699 2
Originally [OpenBSD: faq5.html,v 1.117 ]<br>
$Translation: faq5.html,v 1.56 2005/03/24 05:22:45 aanriot Exp $<br>
@


1.43
log
@sync with Steelix CVS
@
text
@d457 1
a457 1
    # <b>cd /usr/src</b>
d469 1
a469 1
    # <b>cd /usr/src</b>
d472 1
d1509 1
a1509 1
plus d'actualité) ou lorsque la sortie d'une <i>-release</i> approche.
d1564 1
a1564 1
Puis lancer un <a href="#BldUserland">make build</a> normal.
d1573 1
a1573 1
Ceci signifie que les mofifications à réaliser incombent <i>toujours</i>
d1578 1
a1578 1
(distribution), et répétez manuellement ces changements.
d1682 1
a1682 1
avec les binaires les plus récents</a>
d1698 2
a1699 2
Originally [OpenBSD: faq5.html,v 1.116 ]<br>
$Translation: faq5.html,v 1.53 2005/03/17 08:56:46 svincent Exp $<br>
@


1.42
log
@sync with Steelix CVS
@
text
@d39 1
a39 1
Si vous souhaitez contribuez à l'effort de traduction,
d49 1
a49 1
<li><a href="#Flavors">5.1 - Saveurs d'OpenBSD</a>
d51 1
a51 1
	depuis les sources ?</a>
d54 1
a54 1
  <li><a href="#BldOverview">5.3.1 - Aperçu</a>
d56 1
a56 1
	  les binaires les plus récents</a>
d58 1
a58 1
	  appropriées</a>
d62 1
a62 1
<li><a href="#Release">5.4 - Compilation d'une Release</a>
d65 2
a66 2
	personnalisé ?</a>
<li><a href="#Options">5.7 - Compilation d'un noyau personnalisé</a>
d68 2
a69 2
<li><a href="#config">5.9 - Utilisation de config(8) afin de modifier
	votre noyau</a>
d71 1
a71 1
	lors du démarrage</a>
d73 1
a73 1
	questions lors de la compilation et de la construction</a>
d80 1
a80 1
	   pas !</a>
d82 1
a82 1
	   répertoire <tt>/usr/obj</tt> avant de commencer !</a>
d84 1
a84 1
	   propre partition</a>
d86 1
a86 1
	   parties de l'arbre ?</a>
d88 1
a88 1
	   d'informations sur le processus de compilation ?</a>
d90 1
a90 1
	   FTP. Ou sont t'ils passés ?</a>
d92 1
a92 1
	   nouvelle version du compilateur (<i>gcc</i>)?</a>
d94 2
a95 2
	   mettre à jour <tt>/etc</tt>, <tt>/var</tt>, et
	  <tt>/dev</tt> ?</a>
d97 1
a97 1
	  des changements sur tous les fichiers de la hiérarchie ?</a>
d152 1
a152 1
Dansl'illustration ci-dessus, la ligne verticale en pointillés symbolise
d161 1
a161 1
préférerions nous concentrer sur les nouvelles fonctionnalités. La
d172 1
a172 1
Si les <a href="http://www.openbsd.org/cgi-bin/man.cgi">pages du
d174 1
a174 1
modifications ne feront pas partie de <i>-stable</i>. En d'autres
d186 1
a186 1
OpenBSD, vous devriez trouver que <i>-current</i> est plus performante
d192 1
a192 1
Bien que les développeurs travaillent sans cesse afin que le système
d223 3
a225 3
il souhaite utiliser une nouvelle fonctionnalité de <i>-current</i>.
Dans ce cas, soit l'utilisateur utilise <i>-current</i> ou n'utilise pas
le périphérique, et utiliser <i>-current</i> est peut-être l'option la
d235 1
a235 1
peut s'écouler des jours entiers avant que l'image soit complètement
d289 1
a289 1
<h2>5.2 - 5.2 - Pourquoi devrais-je compiler mon système
d320 1
a320 2
C'est après les seules raisons pour lesquelles vous devriez utiliser
<i>-current</i>.
d392 1
a392 1
Il est recommendé d'installer le binaire via l'option "Upgrade" du média
d402 1
a402 1
<h3>5.3.3 - 5.3.3 - Téléchargement des sources appropriées</h3>
d415 1
a415 1
CVSup peut aussi être utilisé en mode "checkout", mais ce n'est pas
d419 1
a419 1
et maintenu en utilisant CVSup or CVSync.
d423 4
a426 4
vous alliez utiliser, vous devez "checkout" (récupérer) l'arbre des
sources, que vous maintiendrez par la suite en lançant des "updates"
(mises à jour), afin de récupérer les fichiers mis à jour dans votre
arbre local.
d431 1
a431 1
a de nombreuses options, certaines d'entre elles sont
d433 1
a433 1
Les autres commandes peuvent causer un arbre cassé.
d455 1
a455 1
Une fois l'arbre récupéré, vous pouvez plus tard le mettre à jour avec :
d463 1
a463 1
<b>Suivis de <i>-Stable</i></b><br>
d485 1
a485 1
fichiers récupérés, vous n'avez ainsi pas à vous rappelez de la partie
d489 2
a490 2
Cependant, il est probablement mieux de fournir plus d'infos que pas
assez d'infos sur vos lignes de commande CVS.
d512 2
a513 2
devriez avoir un arbre des sources utilisables.
Soyez attentif à ce que vous récupérez -- vous pourriez vouloir compiler
d541 1
a541 1
Il est aussi à noter que si la vraible d'environnement CVSROOT peut être
d543 1
a543 1
vien la remplacer, et la spécification de la ligne de commande est
d572 1
a572 1
Si cela est confortable, si vous oubliez que ce fichier existe, ou si
d574 1
a574 1
ce fichier, vous aurez des problèmes.
a594 3
<tt>mac68k</tt>, <tt>m68k</tt> et <tt>mvme68k</tt>
Si vous regardez dans le répertoire <tt>/usr/src/sys/arch/</tt>, vous
verrez certaines choses quelque peu intriguantes -- par exemple, il y a
d604 1
a604 1
travailler uniquement avec les répertoires de "l'architecrure
d644 1
a644 1
noyaux supportent en générale les applications plus anciennes.
d650 1
a650 2
Ceci peut être fait en utilisant les pr. suivants produisants des
sorties importantes...
d665 1
a665 1
<h3>5.3.5 - Compilation du userland</h3>
d668 1
a668 1
quoi vous rigolerez pour trouver d'ou les problèmes viennent.
d681 1
a681 1
obligatoire. Echouer cette étape avant la compilation laissera votre
d685 1
a685 1
<li>Soyez sur que tous les répertoires nécessaires sont présents.
d717 1
a717 1
<h2>5.4 - Compilation d'une Release</h2>
d722 2
a723 2
Si vous n'avez qu'une machine sous OpenBSD, vous n'avez pas de réelle
raison de construire une release, le processus <a
d765 1
a765 1
Ils n'ont seulement besoin d'être installés une fois, mais certaines
d791 1
a791 1
# <b>test -d ${DESTDIR} && mv ${DESTDIR} ${-rf ${DESTDIR}.old &</b>
d798 1
a798 1
Vous voudrez ainsi certainememnt effacer ce répertoire.
d807 2
a808 3
Après que la release ait été construite, c'est une bonne idée que de la
vérifier afin d'être sur que les fichiers tar reflettent bien le contenu
de DESTDIR.
d820 1
a820 1
Les instructions qui font foi sur la création d'une release sont dans 
d849 2
a850 2
quelquechose de frustrant, car le système marchera quelques temps sans
afficher aucune erreur.
d875 1
a875 1
système, mais DESTDIR sera éffacéet reconstruit lors de ce processus.
d877 1
a877 1
l'utilisation d'une DESTDIR séparée est plus sur.
d922 1
a922 1
href="#Flavors"><i>-release, -stable</i> or <i>-current</i></a> comme
d1033 1
a1033 1
noyau. Veuillez consulter la page du manuel
d1049 1
a1049 1
un noyau personnalisé va dans la plupart des cas se résumer à une retour
d1070 1
a1070 1
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/">Other Arch's</a>
d1110 1
a1110 1
Quelques fois, vous aurez peut-être besoin de désactiver une option
d1182 6
a1187 6
Parfois lorsque vous démarrez votre système vous remarquerez que votre
noyau trouve vos périphériques mais à la mauvaise IRQ. Et avez-vous
immédiatement besoin de ce périphérique. Sans recompiler votre noyau
vous pouvez utiliser la configuration au démarrage de celui-ci. Cela
permettra de corriger votre problème pour cette fois et uniquement pour
cette fois. Si vous redémarrez le système il faudra recommencer la
d1194 1
a1194 1
Une grande partie de ce document peut-être trouvé dans la page du manuel
d1259 2
a1260 2
changements dans bsd.new. Les exemples n'utilisent pas l'option <b>-
o</b>, mais les changements sont ignorés et non écrit dans le binaire du
d1387 1
a1387 1
mémoirei. Mais ces défaillances peuvent aussi causées par le CPU, la
d1396 2
a1397 2
ne vous pose aucun problème, installez simplement une snapshot ou une
"release".
d1416 2
a1417 2
	Ces options s'assurent que les nouveaux répertoires sont ajoutés ou
	supprimés au fur et à mesure qu'OpenBSD évolue.
d1473 1
a1473 1
Parfois, vous voudrez peut-être de pas compiler certaines parties de
d1504 1
a1504 1
       FTP. Ou son t'ils passés ?</h3>
d1511 1
a1511 1
<h3>>5.11.9 - Comment puis-je amorcer sur une
d1563 1
a1563 1
Et lancez un <a href="#BldUserland">make build</a> normal.
d1611 1
a1611 1
de lancer ce script depuis vos arbre des sources lors de la mise à
d1658 1
a1658 1
fichies peut changer.
d1697 2
a1698 2
Originally [OpenBSD: faq5.html,v 1.115 ]<br>
$Translation: faq5.html,v 1.52 2005/02/22 16:22:36 saad Exp $<br>
@


1.41
log
@sync with Steelix CVS
@
text
@d656 7
d742 1
a742 1
mémoire</a> pour /usr/obj</tt> avec de petites performances lors du
d833 1
a833 1
<a href=enbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">make(1)</a>
d1048 3
a1050 2
le faire !</b> N'éditez pas le fichier de configuration <tt>GENERIC</tt>
 !!</b> La seule configuration du noyau supportée par l'équipe
d1518 1
a1518 1
        nouvelle version du compilateur (<i>gcc</i>)?</a></h3>
d1574 1
a1574 1
      <tt>/dev</tt> ?</a></h3>
d1657 1
a1657 1
      des changements sur tous les fichiers de la hiérarchie ?</a></h3>
d1704 1
a1704 1
$Translation: faq5.html,v 1.51 2005/02/21 13:19:23 saad Exp $<br>
@


1.40
log
@sync with Steelix CVS
@
text
@d705 1
a705 1
<a href="../current.html">current.html</a>.
d1643 1
a1643 1
ou <a href="../current.html">current.html</a> (pour aller vers
d1696 1
a1696 1
$Translation: faq5.html,v 1.50 2005/02/15 07:52:55 saad Exp $<br>
@


1.39
log
@sync with Steelix CVS
@
text
@d1606 2
a1607 2
mais il est cependant installé comme partie de l'<a
href="BldBinary">upgrade binaire</a>.
d1695 2
a1696 2
Originally [OpenBSD: faq5.html,v 1.114 ]<br>
$Translation: faq5.html,v 1.49 2005/02/13 17:06:03 aanriot Exp $<br>
@


1.38
log
@Sync with Steelix CVS
@
text
@d83 1
a83 1
   <li><a href="#ProbObjPt">5.11.5 - Placez <tt>/usr/obj</tt> sur sa
d89 9
d704 2
a705 2
<tt>/dev</tt> et <tt>/etc</tt>, en suivant les instructions de 
<a href="upgrade-minifaq.html">upgrade-minifaq.html</a>.
d1456 1
a1456 1
<h3>5.11.5 - Conseil : Placez <tt>/usr/obj</tt> sur sa
d1468 1
d1500 174
d1695 2
a1696 2
Originally [OpenBSD: faq5.html,v 1.112 ]<br>
$Translation: faq5.html,v 1.48 2005/02/09 05:00:24 aanriot Exp $<br>
@


1.37
log
@Sync with Steelix CVS
@
text
@d72 2
a73 2
<li><a href="#buildprobs">5.11 - Problèmes courrants lors de la
	Compilation et de la Construction</a>
d83 6
d128 28
a155 29
L'arborescence des sources est séparée en trois branches tous les six
mois : <i>-current</i>, <i>-release</i>, et <i>-stable</i> -- 
<i>-release</i> est gelée (elles devient une "Balise") dans l'historique de
l'arborescence des sources - aucune modification n'est apportée à cette
branche. Elle constitue ce qui figure sur les <a
href="../../orders.html">CDs</a> et les <a
href="../../fr/ftp.html">serveurs FTP </a>. <i>-Current</i> est la
branche qui reçoit tous les travaux en cours, et qui devient la
prochaine <i>-release</i> d'OpenBSD.

<p>
<i>-Stable</i> (aussi connue sous le nom de "branche patchée) est basée
sur <i>-release</i>, et comme on peut le constater, c'est une "branche"
à partir de la trajectoire de développement d'OpenBSD. Lorsque des
correctifs importants sont crées pour <i>-current</i>, ils sont portés
"en arrière" vers les branches <i>-stable</i>. Dans l'illustration ci-
dessus, les lignes verticales en pointillé sont des correctifs de bogues
incorporés aux branches <i>-stable</i>. Vous remarquerez aussi dans
l'exemple ci-dessus que la branche <i>3.3-stable</i> a été supprimée à
la sortie de <i>3.5-release</i>, et que la branche <i>3.4-stable</i> a
été supprimée à la sortie de <i>3.6-release</i> -- les anciennes
versions sont typiquement supportées durant deux "releases" au maximum.
Le support d'anciennes versions nécessite des ressources et du temps, et
alors que nous pourrions vouloir plutôt fournir un support continu pour
les anciennes versions, nous préférerions nous concentrer sur les
nouvelles fonctionnalités. La branche <i>-stable</i> est, par
conception, très facile à construire à partir de <i>-release</i> de la
même version (c'est à dire en allant de <i>3.6-release</i> vers
<i>3.6-stable</i>).
d174 2
a175 1
très peu, et vous n'avez pas à apprendre à nouveau votre système.
d181 11
a191 9
Attention : <i>-current</i> change tout le temps. Elle change
pratiquement toutes les minutes, et pourrait bien changer plusieurs fois
le temps de télécharger le code source. Comme précédemment indiqué,
aucune garantie n'est donnée quant à la compilation du système ou à son
fonctionnement (bien entendu, nous espérons qu'il fonctionne). Il est
complètement possible et pas si rare d'obtenir les sources
<i>-current</i> et de voir leur compilation échouer et cinq minutes plus
tard, il se pourrait que ça fonctionne correctement. <b>Si vous n'êtes
pas prêt à gérer ce type de situation, prenez vos distances avec
d265 9
a273 10
Il faut aussi comprendre que lors de la
<a href="upgrade-minifaq.html">mise à jour des sources</a>, le processus
de mise à jour est uniquement supporté <b>dans une seule direction
uniquement : de l'ancien au nouveau</b>, et de <i>-stable</i> vers
<i>-current</i>. Vous ne pouvez pas utiliser <i>3.6-current</i> (ou un
snapshot), puis décider que c'est trop dangereux, et revenir vers
<i>3.6-stable</i>. Vous ne pouvez compter que sur vous-même si vous
choisissez un autre chemin que celui, supporté, consistant à réinstaller
votre système proprement. Vous ne devez espérer aucune aide de la part
de l'équipe de développement OpenBSD.
d498 1
d1361 2
a1362 1
<h2>5.11 - Problèmes Usuels de Compilation</h2>
d1403 4
a1406 8
    <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1"
>cvs(1)</a>,
    tel que c'est documenté dans le 
    <a hrefi="../../fr/anoncvs.html">guide anoncvs </a>, l'
    <a href="upgrade-minifaq.html">upgrade-minifaq</a> et la 
    <a href="faq8.html#CVS">FAQ</a>. Ces options s'assurent que les
    nouveaux répertoires sont ajoutés et supprimés de l'arborescence
    suivant l'évolution d'OpenBSD.
d1446 51
d1511 2
a1512 2
Originally [OpenBSD: faq5.html,v 1.107 ]<br>
$Translation: faq5.html,v 1.46 2005/02/08 05:00:56 aanriot Exp $<br>
@


1.36
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2004 by OpenBSD.">
d49 25
a73 13
<li><a href="#Flavors" >5.1 - Les Saveurs ("Flavors")
    OpenBSD</a>
<li><a href= "#Why">5.2 - Pourquoi aurais-je besoin d'un noyau sur
    mesure?</a>
<li><a href= "#Options">5.3 - Options de configuration du noyau</a>
<li><a href= "#Building">5.4 - Construire votre propre noyau</a>
<li><a href= "#BootConfig">5.5 - Configuration au démarrage</a>
<li><a href= "#VerboseBoot">5.6 - Avoir plus d'informations pendant le
    démarrage</a>
<li><a href= "#config">5.7 - Utilisation de config(8) pour changer le
    binaire du noyau</a>
<li><a href="#buildprobs">5.8 - Problèmes Usuels de Compilation
    </a>
d75 1
a75 1
   <li><a href="#sig11">5.8.1 - La compilation s'est arrêtée avec une
d77 1
a77 1
   <li><a href="#snake">5.8.2 - "make build" échoue en générant un
d79 4
a83 2
<li><a href="#BldRelease" >5.9 - Comment compiler une "release"
    OpenBSD</a>
d102 1
a102 1
Graphiquement, le développement de ces versions ressemble à ceci :
d123 2
a124 2
mois : <i>-current</i>, <i>-release</i>, et <i>-stable</i> -- <i>-
release</i> devient un point gelé (une "Balise") dans l'historique de
d129 2
a130 2
branche qui reçoit tous les travaux en cours, et devient la prochaine
<i>-release</i> d'OpenBSD.
d133 40
a172 31
La branche <i>-stable</i> (aussi connue sous le nom de "branche des
correctifs") est basée sur <i>-release</i>, et comme on peut le
constater, c'est une "branche" à partir de la trajectoire de
développement d'OpenBSD. Lorsque des correctifs importants sont crées
pour <i>-current</i>, ils sont portés "en arrière" vers les branches
<i>-stable</i>. Dans l'illustration ci-dessus, les lignes verticales en
pointillé sont des correctifs de bogues incorporés aux branches
<i>-stable</i>. Vous remarquerez aussi dans l'exemple ci-dessus que la
branche <i>3.3-stable</i> a été supprimée à la sortie de
<i>3.5-release</i>, et que la branche <i>3.4-stable</i> a été supprimée
à la sortie de <i>3.6-release</i> -- les anciennes versions sont
typiquement supportées durant deux "releases" au maximum. Le support
d'anciennes versions nécessite des ressources et du temps, et alors que
nous pourrions vouloir plutôt fournir un support continu pour les
anciennes versions, nous préférerions nous concentrer sur les nouvelles
fonctionnalités. La branche <i>-stable</i> est, par conception, très
facile à construire à partir de <i>-release</i> de la même version
(i.e., en allant de <i>3.6-release</i> vers <i>3.6-stable</i>).

<p>
La branche <i>-stable</i> est <i>-release</i> plus les correctifs listés
dans la <a href="../../fr/errata.html">page des errata</a>, ainsi que
quelques correctifs ne nécessitant pas d'erratum. Habituellement, le
fonctionnement de <i>-stable</i> est le même que celui de
<i>-release</i> sur laquelle elle est basée. Si les
<a href="http://www.openbsd.org/cgi-bin/man.cgi">pages du manuel</a>
doivent être modifiés, il est très probable que ces modifications ne
feront pas partie de <i>-stable</i>. En d'autres termes, le support de
nouveaux périphériques NE sera pas ajouté à <i>-stable</i>, et le
support de nouvelles fonctionnalités sera très rarement ajouté sauf si
c'est considéré comme très important.
d183 1
a183 1
pas prêt à gérer ce type de situation, prenez vos distances de
d196 1
a196 1
changements récents dans le pilote pciide a brisé la compatibilité avec
d226 2
a227 2
un snapshot est un bon point de départ avant de tenter de compiler
<i>-current</i>.
d240 1
a240 1
<h3>Garder Les Composants Synchronisés</h3>
d272 245
d519 375
d895 1
a895 1
<h2>5.2 - Pourquoi aurais-je besoin d'un noyau sur mesure?</h2>
d978 10
a987 1
<h2>5.3 - Options de configuration du noyau</h2>
d1024 2
a1025 1
le faire !</b> La seule configuration du noyau supportée par l'équipe
d1036 2
d1073 5
d1080 5
a1084 3
<pre>
     option      DEBUG
</pre>
d1110 20
a1129 3
<p> 
<a name="Building"></a>
<h2>5.4 - Construire votre propre noyau</h2>
d1131 25
a1155 4
<p>
Toutes les instructions pour créer votre noyau sur mesure sont dans la
page du manuel
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8"> 
a1158 112
Pour compiler votre noyau depuis le cdrom vous aurez tout d'abord besoin
d'avoir le code source. Ce dernier est disponible à partir du <a
href="../../orders.html">CD officiel</a> (disque 3) et à partir des <a
href="../../fr/ftp.html">sites FTP</a>. Cet exemple suppose que le CD3
est monté sur /mnt :

<blockquote>
<pre>
# <strong>cd /usr/src</strong>
# <strong>tar xvzf /mnt/src.tar.gz</strong>
</pre>
</blockquote>

<b>Remarque :</b> Si vous effectuez un téléchargement à partir des
serveurs FTP, vous trouverez DEUX fichiers : <i>src.tar.gz</i> et
<i>sys.tar.gz</i>. Le premier correspond à "userland" -- tout excepté le
noyau, le second est le code source du noyau. Téléchargez et effectuez
une extraction des deux comme expliqué ci-dessus vu que pour la plupart
des utilisations, vous aurez besoin des deux. Sur le CD-ROM, ils sont
combinés dans un seul fichier.

<p>
Maintenant, pour créer votre noyau personnalisé il est plus facile de
partir du noyau GENERIC. Ce dernier est situé sous
<tt>/usr/src/sys/arch/$ARCH/conf/GENERIC</tt>, où $ARCH est votre
architecture. Il y a d'autres configurations en exemples dans le
répertoire. Voici deux exemples vous montrant comment compiler votre
noyau. Le premier exemple permet de compiler votre noyau avec des
sources en lecture seule. Le second correspond à des sources accessibles
en écriture.

<blockquote> 
<pre>
# <strong>cd /somewhere</strong>
# <strong>cp /usr/src/sys/arch/$ARCH/conf/SOMEFILE .</strong>
# <strong>vi SOMEFILE</strong>   <i>(pour effectuer les changements voulus)</i>
# <strong>config -s /usr/src/sys -b . SOMEFILE</strong>
</pre>
suivi par :

<pre>
    # <strong>make depend</strong>
         <b><i>- OU -</i></b>
    # <strong>make clean && make depend</strong>
# <strong>make</strong>
</pre>
</blockquote>

Vous devez exécuter '<tt>make depend</tt>' lorsque vous effectuez
n'importe quelle modification à votre arborescence des sources (y
compris des mises à jour et des correctifs) (en d'autres termes,
pratiquement toujours. Si config vous dit d'exécuter '<tt>make
clean</tt>', alors faites le avant d'exécuter '<tt>make depend</tt>'.

<p>
Si vous avez effectué des modifications aux options de configuration de
votre noyau, et/ou effectué des modifications majeures à votre
arborescence des sources, vous devriez utiliser '<tt>make clean</tt>' au
lieu de '<tt>made depend</tt>'. Il est à noter qu'il est toujours de bon
ton de faire un 'make clean', même si ça peut aboutir à des temps de
compilation plus longs, vu que plus de choses ont besoin d'être
reconstruites.

<p>
Pour compiler un noyau avec des sources accessibles en écriture il faut
effectuer les actions suivantes :

<blockquote>
<tt>
# <strong>cd sys/arch/$ARCH/conf</strong><br>
# <strong>vi SOMEFILE</strong><i> (pour effectuer tous les changements voulus)</i><br>
# <strong>config SOMEFILE</strong><i> (plus de détails sur cette
# opération sont disponibles ici :
<a href= "http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>)</i><br>
# <strong>cd ../compile/SOMEFILE</strong><br>
# <strong>make</strong> <br>
</tt>
</blockquote>

<p>
Où $ARCH est l'architecture que vous utilisez (par exemple i386). Vous
pouvez aussi faire un <strong>make depend</strong> pour créer les
dépendances pour la prochaine compilation de votre noyau.

<p>
Pour déplacer votre noyau à sa destination.

<blockquote>
<pre>
# <strong>cp /bsd /bsd.old</strong>
# <strong>cp /sys/arch/$ARCH/compile/SOMEFILE/bsd /bsd</strong>
</pre>
</blockquote>

Pour démarrer avec votre ancien noyau au démarrage, il suffit juste de
faire ceci

<blockquote>
<pre>
boot&gt; <strong>bsd.old</strong>
</pre>
</blockquote>

votre ancien noyau sera alors chargé à la place de /bsd.

<p>
Parfois quand vous installez un nouveau noyau, il vous faudra installer
de nouveaux blocs de démarrage. Pour ce faire, lisez <a
href="faq14.html#InstBoot">FAQ 14, Installation des Bootblocks</a>,
qui vous donnera toutes les informations sur le bootloader OpenBSD.

<p>
d1160 1
a1160 1
<h2>5.5 - Configuration au démarrage</h2>
d1170 3
a1172 3
être corrigé en recompilant votre noyau. De plus votre noyau à besoin de
l'<strong>option BOOT_CONFIG</strong> dans la configuration du noyau. Le
noyau GENERIC possède cette option.
d1217 2
a1218 21
dans <a href="faq5.html#config">utilisation de config(8) pour changer le
binaire du noyau</a>

<p>
<a name="VerboseBoot"></a>
<h2>5.6 - Avoir plus d'informations pendant le démarrage</h2>

Obtenir plus d'informations pendant le démarrage peut-être très pratique
lorsque vous essayez de régler certains problèmes lors de celui-ci. Si
vous avez un problème et que vous aimeriez avoir plus d'informations,
redémarrez votre machine. Quand vous obtenez l'invite "boot&gt;quot;
démarrez avec l'option -c. L'invite UKC&gt; apparaîtra et ensuite :

<blockquote><pre>
UKC&gt; <strong>verbose</strong>
autoconf verbose enabled
UKC&gt; <strong>quit</strong>
</pre></blockquote>

<p>
Vous obtiendrez un démarrage extrêmement verbeux.
d1222 1
a1222 1
<h2>5.7 - Utilisation de config(8) pour changer le binaire du noyau</h2>
d1242 2
a1243 3
noyau. Pour plus d'informations sur les messages d'erreur et
d'avertissement, lire la page du manuel

d1320 1
a1320 1
changements effectués par boot -c dans un nouveau binaire noyau bsd.new.
d1333 19
d1353 1
a1353 1
<h2>5.8 - Problèmes Usuels de Compilation</h2>
d1356 1
a1356 1
<h3>5.8.1 - La compilation s'est arrêtée avec une erreur "Signal
d1384 1
a1384 1
<h3>5.8.2 - "make build" échoue en générant un
d1409 31
a1439 17
Il est important de suivre soigneusement les instructions lors de <a
href="../../fr/anoncvs.html">l'obtention et de la mise à jour</a> de
votre arborescence des sources et lors de la
<a href="upgrade-minifaq.html">compilation</a>de votre arborescence.

<a name="BldRelease"></a>
<h2>5.9 -  Comment compiler une "release" OpenBSD</h2>
Après avoir compilé votre système, vous pouvez créer les <a
href="faq4.html#FilesNeeded">ensembles de fichiers</a> OpenBSD qui
peuvent être utilisés pour installer votre système sur une autre
machine.

<p>
La procédure nécessaire pour effectuer cette opération est détaillée
dans la page de manuel
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=release&amp;sektion=8">release(8)</a>

d1455 2
a1456 2
Originally [OpenBSD: faq5.html,v 1.99 ]<br>
$Translation: faq5.html,v 1.44 2005/01/17 21:31:59 aanriot Exp $<br>
@


1.35
log
@Sync with Steelix CVS
@
text
@d853 1
d855 2
a856 1
$Translation: faq5.html,v 1.43 2004/11/20 12:06:52 ajacoutot Exp $<br>
@


1.34
log
@sync with Steelix CVS
@
text
@d567 1
a567 1
href="../faq14.html#InstBoot">FAQ 14, Installation des Bootblocks</a>,
d854 1
a854 1
$Translation: faq5.html,v 1.42 2004/11/03 14:24:36 saad Exp $<br>
@


1.33
log
@Sync with Steelix CVS
@
text
@d625 6
a630 5
Une fois que votre périphérique est configuré, utilisez quit ou exit
pour continuer à démarrer. Après avoir fait ceci, vous devriez corriger
la configuration de votre noyau et en compiler un nouveau. Voir <a
href="faq5.html#Building">Construire votre propre noyau</a> pour plus de
renseignements.
d812 1
a812 1
    <a href="../faq8.html#CVS">FAQ</a>. Ces options s'assurent que les
d853 2
a854 2
Originally [OpenBSD: faq5.html,v 1.98 ]<br>
$Translation: faq5.html,v 1.40 2004/10/31 21:55:27 saad Exp $<br>
@


1.32
log
@Sync with Steelix CVS
@
text
@d4 1
a4 1
<title>5 - Construire le Syst&egrave;me &agrave; partir des
d25 1
a25 1
<a href= "faq6.html">[Section 6 - Mise en place du r&eacute;seau]</a>
d28 1
a28 1
<h1><font color="#e00000">5 - Construire le Syst&egrave;me &agrave;
d35 2
a36 2
   ce fichier est obsol&egrave;te. Consultez la version anglaise
   <a href="../faq5.html">ici</a> pour des informations &agrave; jour.
d39 2
a40 2
Si vous souhaitez contribuez &agrave; l'effort de traduction,
pri&egrave;re de consulter
d47 1
a47 1
<h3>Table des mati&egrave;res</h3>
d49 1
a49 1
<li><a href="#Flavors" >5.1 - Les Saveurs (&quot;Flavors&quot;)
d55 1
a55 1
<li><a href= "#BootConfig">5.5 - Configuration au d&eacute;marrage</a>
d57 1
a57 1
    d&eacute;marrage</a>
d60 1
a60 1
<li><a href="#buildprobs">5.8 - Probl&egrave;mes Usuels de Compilation
d63 4
a66 5
   <li><a href="#sig11">5.8.1 - La compilation s'est
       arr&ecirc;t&eacute;e avec une erreur "Signal 11"</a>
   <li><a href="#snake">5.8.2 - "make build" &eacute;choue en
       g&eacute;n&eacute;rant un message "cannot open output file snake:
       is a directory"</a>
d76 1
a76 1
<h2>5.1 - Les Saveurs (&quot;Flavors&quot;) OpenBSD</h2>
d80 7
a86 7
<li><b>-release:</b> La version d'OpenBSD livr&eacute;e tous les six
       mois sur CD.
<li><b>-stable:</b> "release", plus les correctifs
       consid&eacute;r&eacute;s comme critiques pour la
       s&eacute;curit&eacute; et la fiabilit&eacute;.
<li><b>-current:</b> La version courante (ou de d&eacute;veloppement)
       d'OpenBSD, qui deviendra la prochaine "release". </ul>
d88 1
a88 2
Graphiquement, le d&eacute;veloppement de ces versions ressemble
&agrave; ceci :
d92 1
a92 1
       ,------o-----------o----X                    3.2 Stable
d94 1
a94 1
       |      .    ,------o---------o----X          3.3 Stable
d96 1
a96 1
       |      .    |      .    ,----o----------o--&gt; 3.4 Stable
d98 1
a98 1
       |      .    |      .    |    .    ,-----o--&gt; 3.5 Stable
d101 1
a101 1
 --&gt;3.2Rel-----&gt;3.3Rel-----&gt;3.4Rel-----&gt;3.5Rel----&gt; Current 
d108 6
a113 6
L'arborescence des sources est s&eacute;par&eacute;e en trois branches
tous les six mois : <i>-current</i>, <i>-release</i>, et <i>-stable</i>
-- <i>-release</i> devient un point gel&eacute; (une &quot;Balise&quot;)
dans l'historique de l'arborescence des sources - aucune modification
n'est apport&eacute;e &agrave; cette branche. Elle constitue ce qui
figure sur les <a href="../../orders.html">CDs</a> et les <a
d115 2
a116 2
branche qui re&ccedil;oit tous les travaux en cours, et devient la
prochaine <i>-release</i> d'OpenBSD.
d120 24
a143 27
correctifs") est bas&eacute;e sur <i>-release</i>, et comme on peut le
constater, c'est une "branche" &agrave; partir de la trajectoire de
d&eacute;veloppement d'OpenBSD. Lorsque des correctifs importants sont
cr&eacute;es pour <i>-current</i>, ils sont port&eacute;s "en
arri&egrave;re" vers les branches <i>-stable</i>. Dans l'illustration
ci-dessus, les lignes verticales en pointill&eacute; sont des correctifs
de bogues incorpor&eacute;s aux branches <i>-stable</i>. Vous
remarquerez aussi dans l'exemple ci-dessus que la branche
<i>3.2-stable</i> a &eacute;t&eacute; supprim&eacute;e &agrave; la
sortie de <i>3.4-release</i>, et que la branche <i>3.3-stable</i> a
&eacute;t&eacute; supprim&eacute;e &agrave; la sortie de
<i>3.5-release</i> -- les anciennes versions sont typiquement
support&eacute;es durant deux "releases" au maximum. Le support
d'anciennes versions n&eacute;cessite des ressources et du temps, et
alors que nous pourrions vouloir plut&ocirc;t fournir un support continu
pour les anciennes versions, nous pr&eacute;f&eacute;rerions nous
concentrer sur les nouvelles fonctionnalit&eacute;s. La branche
<i>-stable</i> est, par conception, tr&egrave;s facile &agrave;
construire &agrave; partir de <i>-release</i> de la m&ecirc;me version
(i.e., en allant de <i>3.5-release</i> vers <i>3.5-stable</i>).

<p>
La branche <i>-stable</i> est <i>-release</i> plus les correctifs
list&eacute;s dans la <a href="../../fr/errata.html">page des errata</a>,
ainsi que quelques correctifs ne n&eacute;cessitant pas d'erratum.
Habituellement, le fonctionnement de <i>-stable</i> est le m&ecirc;me
que celui de <i>-release</i> sur laquelle elle est bas&eacute;e. Si les
d145 5
a149 6
doivent &ecirc;tre modifi&eacute;s, il est tr&egrave;s probable que ces
modifications ne feront pas partie de <i>-stable</i>. En d'autres
termes, le support de nouveaux p&eacute;riph&eacute;riques NE sera pas
ajout&eacute; &agrave; <i>-stable</i>, et le support de nouvelles
fonctionnalit&eacute;s sera tr&egrave;s rarement ajout&eacute; sauf si
c'est consid&eacute;r&eacute; comme tr&egrave;s important.
d154 7
a160 9
le temps de t&eacute;l&eacute;charger le code source. Comme
pr&eacute;c&eacute;demment indiqu&eacute;, aucune garantie n'est
donn&eacute;e quant &agrave; la compilation du syst&egrave;me ou
&agrave; son fonctionnement (bien entendu, nous esp&eacute;rons qu'il
fonctionne). Il est compl&egrave;tement possible et pas si rare
d'obtenir les sources <i>-current</i> et de voir leur compilation
&eacute;chouer et cinq minutes plus tard, il se pourrait que &ccedil;a
fonctionne correctement. <b>Si vous n'&ecirc;tes pas pr&ecirc;t &agrave;
g&eacute;rer ce type de situation, prenez vos distances de
d166 1
a166 1
sur des syst&egrave;mes en production, et il est important que certaines
d168 4
a171 5
nouvelles fonctionnalit&eacute;s. Cependant, si vous ne savez pas
comment d&eacute;crire, diagnostiquer et g&eacute;rer proprement un
probl&egrave;me, ne vous dites pas (ou &agrave; quelqu'un d'autre) que
vous &ecirc;tre entrain d'"aider le projet" en utilisant
<i>-current</i>. "&Ccedil; ne marche pas !" n'est pas un <a
d173 4
a176 4
changements r&eacute;cents dans le pilote pciide a bris&eacute; la
compatibilit&eacute; avec mon interface IDE bas&eacute;e sur Slugchip,
ci-joint le dmesg d'un syst&egrave;me fonctionnel et un syst&egrave;me
ne fonctionnant pas..." peut &ecirc;tre un rapport utile.
d180 8
a187 10
d&eacute;veloppements et utiliser <i>-current</i>. La raison la plus
commune de faire cela est que l'utilisateur poss&egrave;de un
p&eacute;riph&eacute;rique qui n'est pas support&eacute; par
<i>-release</i> (et donc, par <i>-stable</i> non plus), ou il souhaite
utiliser une nouvelle fonctionnalit&eacute; de <i>-current</i>. Dans ce
cas, soit l'utilisateur utilise <i>-current</i> ou n'utilise pas le
p&eacute;riph&eacute;rique, et utiliser <i>-current</i> est
peut-&ecirc;tre l'option la plus logique. Cependant, il ne faut pas
esp&eacute;rer que les d&eacute;veloppeurs vous tiennent la main.

d190 15
a204 17
Entre les versions formelles d'OpenBSD, des <i>snapshots</i> sont mis
&agrave; disposition sur les <a href="../../fr/ftp.html">sites FTP </a>.
Comme le nom l'indique, ce sont des images du code dans l'arborescence
&agrave; l'instant o&ugrave; le cr&eacute;ateur de l'image a pris une
copie du code pour une plate-forme donn&eacute;e. Il est &agrave; noter
que, pour certaines plates-formes, il peut s'&eacute;couler des jours
entiers avant que l'image soit compl&egrave;tement construite et mise
&agrave; disposition. Aucune garantie n'est donn&eacute;e quant au bon
fonctionnement ou &agrave; la possibilit&eacute; d'installer des
snapshots. Souvent, une modification qui a besoin d'&ecirc;tre
test&eacute;e peut enclencher le processus de cr&eacute;ation des
snapshots. Quelques plates-formes ont des snapshots construits
pratiquement tous les jours, d'autres en ont beaucoup moins
fr&eacute;quemment. Si vous souhaitez utiliser <i>-current</i>, un
snapshot r&eacute;cent est tout ce dont vous aurez besoin, et mettre
&agrave; jour un snapshot est un bon point de
d&eacute;part avant de tenter de compiler <i>-current</i>.
d208 24
a231 27
qui a servi &agrave; construire un snapshot. La r&eacute;ponse est non.
Primo, il n'y a aucun int&eacute;r&ecirc;t. Secundo, les snapshots sont
construits selon le souhait des d&eacute;veloppeurs, lorsque le planning
le permet, et lorsque des ressources sont disponibles. Sur les
plates-formes rapides, il est possible de cr&eacute;er plusieurs
snapshots en un jour. Sur les plates-formes lentes, la cr&eacute;ation
d'un snapshot peut durer une semaine ou plus. Fournir des balises ou des
marques dans l'arborescence des sources pour chaque snapshot peut
s'av&eacute;rer peu pratique.

<h3>Garder Les Composants Synchronis&eacute;s</h3>
Il est important de comprendre qu'OpenBSD est un Syst&egrave;me
d'Exploitation, et il faut le prendre en tant que tel et non pas comme
un noyau entour&eacute; d'un ensemble d'outils. Vous devez vous assurer
que votre noyau, le "userland" (les utilitaires et fichiers
compl&eacute;tant le noyau) et l'arborescence des <a
href="../../fr/ports.html"><tt>ports</tt></a> sont synchronis&eacute;s,
autrement des choses d&eacute;sagr&eacute;ables peuvent arriver. Dit
autrement (vu que les gens continuent &agrave; commettre les m&ecirc;mes
erreurs), vous ne pouvez pas utiliser des <tt>ports</tt> tout neufs sur
un syst&egrave;me datant d'il y a un mois, ou reconstruire un noyau
&agrave; partir de <i>-current</i> et esp&eacute;rer qu'il fonctionne
avec un "userland" <i>-release</i>. Oui, cela veut dire que vous aurez
besoin de mettre &agrave; jour votre syst&egrave;me si vous voulez
utiliser un nouveau programme qui a a &eacute;t&eacute; rajout&eacute;
aujourd'hui &agrave; l'arborescence des ports. OpenBSD n'a
malheureusement que des ressources limit&eacute;es.
d235 9
a243 10
<a href="upgrade-minifaq.html">mise &agrave; jour des sources</a>, le
processus de mise &agrave; jour est uniquement support&eacute; <b>dans
une seule direction uniquement : de l'ancien au nouveau</b>, et de
<i>-stable</i> vers <i>-current</i>. Vous ne pouvez pas utiliser
<i>3.5-current</i> (ou un snapshot), puis d&eacute;cider que c'est trop
dangereux, et revenir vers <i>3.5-stable</i>. Vous ne pouvez compter que
sur vous-m&ecirc;me si vous choisissez un autre chemin que celui,
support&eacute;, consistant &agrave; r&eacute;installer votre
syst&egrave;me proprement. Vous ne devez esp&eacute;rer aucune aide de
la part de l'&eacute;quipe de d&eacute;veloppement OpenBSD.
d246 2
a247 2
Oui, cela veut dire que vous devez prendre le temps de
r&eacute;fl&eacute;chir avant d'utiliser <i>-current</i>.
d255 1
a255 1
En r&eacute;alit&eacute;, vous n'en avez tr&egrave;s probablement pas besoin.
d258 2
a259 2
Un noyau sur mesure est un noyau construit &agrave; partir d'un fichier
de configuration autre que <tt>GENERIC</tt>, le fichier de configuration
d263 2
a264 2
votre propre noyau <tt>GENERIC</tt> est support&eacute;e par
l'&eacute;quipe OpenBSD, la compilation de votre propre noyau sur mesure
d269 8
a276 9
est con&ccedil;u pour convenir &agrave; la plupart des utilisateurs. Bon
nombre de personnes ont rendu leur syst&egrave;me inop&eacute;rant en
essayant d'optimiser le noyau au lieu d'am&eacute;liorer son
fonctionnement. Il existe certaines personnes qui pensent qu'un noyau et
un syst&egrave;me d'exploitation doivent &ecirc;tre taill&eacute;s sur
mesure pour obtenir des performances optimales. Ceci n'est pas vrai dans
le cas d'OpenBSD. Seules les personnes tr&egrave;s comp&eacute;tentes
avec des applications tr&egrave;s particuli&egrave;res doivent penser
&agrave; faire un noyau et un syst&egrave;me sur mesure.
d279 2
a280 2
Voici quelques raisons pour lesquelles vous devriez cr&eacute;er un noyau
sur mesure :
d283 3
a285 3
      OpenBSD sur une machine disposant de peu de ressources
      m&eacute;moire en supprimant tous les pilotes de
      p&eacute;riph&eacute;riques dont vous n'avez pas besoin.
d287 3
a289 3
      supprimer des options par d&eacute;faut ou ajouter des options qui
      ne sont pas activ&eacute;es par d&eacute;faut (et vous avez
      vraiment une bonne raison pour le faire).
d291 1
a291 1
      des options exp&eacute;rimentales.
d293 3
a295 4
      sp&eacute;cifique auquel le noyau <tt>GENERIC</tt> ne
      r&eacute;pond pas. Si quelque chose ne marche pas comme
      pr&eacute;vu, vous n'allez pas demander &agrave; autrui le
      pourquoi du comment.
d303 1
a303 1
  <li>Votre syst&egrave;me n'en sera pas plus rapide.
d305 6
a310 6
  <li>Vous n'obtiendrez aucune aide de la part des d&eacute;veloppeurs.
  <li>Tout probl&egrave;me rencontr&eacute; devra &ecirc;tre
      obligatoirement reproduit avec un noyau <tt>GENERIC</tt> avant que
      les d&eacute;veloppeurs ne le prennent au s&eacute;rieux.
  <li>Les autres utilisateurs et les d&eacute;veloppeurs vous riront au
      nez si vous cassez votre syst&egrave;me.
d312 2
a313 2
      probl&egrave;mes de compilateur au lieu d'am&eacute;liorer les
      performances du syst&egrave;me.
d318 8
a325 11
d&eacute;marrage syst&egrave;me. Cependant, elle peut compliquer la
r&eacute;cup&eacute;ration suite &agrave; probl&egrave;me
mat&eacute;riel. La suppression de pilotes est une t&acirc;che
tr&egrave;s souvent mal r&eacute;alis&eacute;e.
La suppression de pilotes <i>ne rendra pas</i> votre syst&egrave;me plus
rapide de mani&egrave;re perceptible m&ecirc;me si elle peut produire un
noyau plus petit.
La suppression des parties li&eacute;es au d&eacute;boguage et &agrave;
la v&eacute;rification d'erreurs peut am&eacute;liorer les performances,
mais rendra impossible l'analyse du syst&egrave;me si quelque chose ne
fonctionne plus ou pas.
d329 3
a331 5
Encore une fois, les d&eacute;veloppeurs ignorent d'habitude les
rapports de bogue relatifs &agrave; des noyaux personnalis&eacute;s,
sauf si le probl&egrave;me peut &ecirc;tre reproduit avec un noyau
<tt>GENERIC</tt>.
Vous aurez &eacute;t&eacute; pr&eacute;venu.
d336 9
a344 10
La cr&eacute;ation d'un noyau OpenBSD est contr&ocirc;l&eacute;e par le
biais de fichiers de configuration, se trouvant dans le
r&eacute;pertoire <tt>/usr/src/sys/arch/<i>&lt;arch&gt;</i>/conf/</tt>
par d&eacute;faut. Toutes les architectures poss&egrave;dent un fichier,
<tt>GENERIC</tt>, qui peut &ecirc;tre utilis&eacute; pour
g&eacute;n&eacute;rer un noyau OpenBSD standard pour une plate-forme
donn&eacute;e. Il peut aussi y avoir d'autres fichiers de configuration
qui peuvent &ecirc;tre utilis&eacute;s pour cr&eacute;er des noyaux avec
des objectifs diff&eacute;rents tels que la minimisation de
l'utilisation de la RAM, les stations de travail "diskless", etc.
d347 1
a347 1
Le fichier de configuration est trait&eacute; par 
d349 3
a351 3
qui cr&eacute;e et peuple un r&eacute;pertoire de compilation
situ&eacute; sous <tt>../compile</tt>. Pour une installation typique, le
chemin absolu du r&eacute;pertoire serait situ&eacute; sous
d353 3
a355 4
aussi cr&eacute;er un fichier
 <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=make&amp;sektion=1">Makefile</a>,
et d'autres fichiers requis pour cr&eacute;er avec succ&egrave;s un
noyau.
d359 5
a363 5
&agrave; la configuration de votre noyau pour activer certaines
caract&eacute;ristiques dans celui-ci. Ceci vous permet d'avoir
exactement le support que vous voulez sans vous encombrer des pilotes
inutiles. Il y a une multitude d'options qui vous permettront de
personnaliser votre noyau. Veuillez consulter la page du manuel 
d365 3
a367 3
">options(4)</a> pour une liste compl&egrave;te des options.
Vous pouvez aussi consulter les fichiers d'exemples de configurations
qui sont disponibles pour votre architecture.
d371 12
a382 14
noyau ne doivent &ecirc;tre effectu&eacute;s que si vous avez une bonne
raison pour le faire !</b> La seule configuration du noyau
support&eacute;e par l'&eacute;quipe OpenBSD est le noyau GENERIC, la
combinaison d'options figurant dans les fichiers
<tt>/usr/src/sys/arch/&lt;<i>arch</i>&gt;/conf/GENERIC</tt> et
<tt>/usr/src/sys/conf/GENERIC</tt> <i>tels que livr&eacute;s par
l'&eacute;quipe OpenBSD</i> (i.e. non &eacute;dit&eacute;s). Emettre un
rapport de bogues concernant un noyau personnalis&eacute; va dans la
plupart des cas se r&eacute;sumer &agrave; une retour vous demandant
d'essayer de reproduire le probl&egrave;me avec un noyau GENERIC. Les
options ne sont pas toutes compatibles entre elles, et plusieurs options
sont n&eacute;cessaires au bon fonctionnement du syst&egrave;me. Il n'y
a aucune garantie quant au fonctionnement d'un noyau personnalis&eacute;
que vous avez r&eacute;ussi &agrave; compiler.
d385 2
a386 2
Vous pouvez voir les fichiers de configuration sp&eacute;cifiques
&agrave; une plate-forme donn&eacute;e ici :
d400 2
a401 2
Si vous lisez attentivement ces fichiers vous verrez une ligne du
genre :
d405 4
a408 4
Cela signifie que l'on fait r&eacute;f&eacute;rence &agrave; un
autre fichier de configuration. Ce fichier comprend toutes les options
qui ne sont pas d&eacute;pendantes de l'architecture. Donc quand vous
cr&eacute;ez votre fichier de configuration, soyez s&ucirc;r de regarder
d413 2
a414 2
Toutes les options ci-dessous doivent &ecirc;tre plac&eacute;es dans le
fichier de configuration du noyau avec le format :
d424 15
a438 16
pr&eacute;processeur, donc une option telle que DEBUG compilerait les
sources avec l'option -DDEBUG. Ce qui est &eacute;quivalent &agrave;
placer un <tt>#define DEBUG</tt> &agrave; travers les sources du noyau.

<p>
Quelques fois, vous aurez peut-&ecirc;tre besoin de d&eacute;sactiver
une option pr&eacute;cedemment d&eacute;finie dans le fichier
"<tt>src/sys/conf/GENERIC</tt>" typiquement. Bien entendu, vous pouvez
modifier une copie de ce fichier, mais une meilleure m&eacute;thode
consiste &agrave; utiliser la clause <i>rmoption</i>. Par exemple, si
vous souhaitiez vraiment d&eacute;sactiver le d&eacute;bogueur
int&eacute;gr&eacute; au noyau (<i>non recommand&eacute; !</i>), vous
ajouteriez la ligne suivante : <pre> rmoption DDB </pre> &agrave; votre
fichier de configuration du noyau. <tt>option DDB</tt> est
d&eacute;finie dans <tt>src/sys/conf/GENERIC</tt>, mais la ligne
<tt>rmoption</tt> ci-dessus la d&eacute;sactive.
d443 4
a446 5
pour plus d'informations concernant les sp&eacute;cificit&eacute;s de
ces options. Il est &agrave; noter que plusieurs options
poss&egrave;dent leurs propres pages de manuel -- il faut toujours lire
toutes les informations disponibles au sujet d'une option avant de
l'ajouter ou la supprimer de votre noyau.
d453 3
a455 4
Toutes les instructions pour cr&eacute;er votre noyau sur mesure sont
dans la page du manuel 
<a href=
"http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&amp;sektion=8"> 
d460 4
a463 4
d'avoir le code source. Ce dernier est disponible &agrave; partir du <a
href="../../orders.html">CD officiel</a> (disque 3) et &agrave; partir
des <a href="../../fr/ftp.html">sites FTP</a>. Cet exemple suppose que
le CD3 est mont&eacute; sur /mnt :
d472 7
a478 8
<b>Remarque :</b> Si vous effectuez un t&eacute;l&eacute;chargement
&agrave; partir des serveurs FTP, vous trouverez DEUX fichiers :
<i>src.tar.gz</i> et <i>sys.tar.gz</i>. Le premier correspond
&agrave; "userland" -- tout except&eacute; le noyau, le second est le
code source du noyau. T&eacute;l&eacute;chargez et effectuez une
extraction des deux comme expliqu&eacute; ci-dessus vu que pour la
plupart des utilisations, vous aurez besoin des deux. Sur le CD-ROM, ils
sont combin&eacute;s dans un seul fichier.
d481 3
a483 3
Maintenant, pour cr&eacute;er votre noyau personnalis&eacute; il est
plus facile de partir du noyau GENERIC. Ce dernier est situ&eacute; sous
<tt>/usr/src/sys/arch/$ARCH/conf/GENERIC</tt>, o&ugrave; $ARCH est votre
d485 4
a488 4
r&eacute;pertoire. Voici deux exemples vous montrant comment compiler
votre noyau. Le premier exemple permet de compiler votre noyau avec des
sources en lecture seule. Le second correspond &agrave; des sources
accessibles en &eacute;criture.
d507 14
a520 15
Vous devez ex&eacute;cuter '<tt>make depend</tt>' lorsque vous effectuez
n'importe quelle modification &agrave; votre arborescence des sources (y
compris des mises &agrave; jour et des correctifs) (en d'autres termes,
pratiquement toujours.
Si config vous dit d'ex&eacute;cuter '<tt>make clean</tt>', alors faites
le avant d'ex&eacute;cuter '<tt>make depend</tt>'.

<p>
Si vous avez effectu&eacute; des modifications aux options de
configuration de votre noyau, et/ou effectu&eacute; des modifications
majeures &agrave; votre arborescence des sources, vous devriez utiliser
'<tt>make clean</tt>' au lieu de '<tt>made depend</tt>'. Il est &agrave;
noter qu'il est toujours de bon ton de faire un 'make clean', m&ecirc;me
si &ccedil;a peut aboutir &agrave; des temps de compilation plus longs,
vu que plus de choses ont besoin d'&ecirc;tre reconstruites.
d523 2
a524 2
Pour compiler un noyau avec des sources accessibles en &eacute;criture
il faut effectuer les actions suivantes :
d530 2
a531 2
# <strong>config SOMEFILE</strong><i> (plus de d&eacute;tails sur cette
# op&eacute;ration sont disponibles ici :
d539 3
a541 4
O&ugrave; $ARCH est l'architecture que vous utilisez (par exemple i386).
Vous pouvez aussi faire un <strong>make depend</strong> pour
cr&eacute;er les d&eacute;pendances pour la prochaine compilation de
votre noyau.
d544 1
a544 1
Pour d&eacute;placer votre noyau &agrave; sa destination.
d553 2
a554 2
Pour d&eacute;marrer avec votre ancien noyau au d&eacute;marrage, il
suffit juste de faire ceci
d562 1
a562 1
votre ancien noyau sera alors charg&eacute; &agrave; la place de /bsd.
d565 4
a568 4
Parfois quand vous installez un nouveau noyau, il vous faudra
installer de nouveaux blocs de d&eacute;marrage. Pour ce faire, lisez <a
href="../faq14.html#InstBoot">FAQ 14, Installation des Bootblocks</a>, qui
vous donnera toutes les informations sur le bootloader OpenBSD.
d572 1
a572 1
<h2>5.5 - Configuration au d&eacute;marrage</h2>
d575 10
a584 12
Parfois lorsque vous d&eacute;marrez votre syst&egrave;me vous
remarquerez que votre noyau trouve vos p&eacute;riph&eacute;riques mais
&agrave; la mauvaise IRQ. Et avez-vous imm&eacute;diatement besoin de ce
p&eacute;riph&eacute;rique. Sans recompiler votre noyau vous pouvez
utiliser la configuration au d&eacute;marrage de celui-ci. Cela
permettra de corriger votre probl&egrave;me pour cette fois et
uniquement pour cette fois. Si vous red&eacute;marrez le syst&egrave;me
il faudra recommencer la proc&eacute;dure. Il s'agit donc d'une
m&eacute;thode temporaire. Le probl&egrave;me devra &ecirc;tre
corrig&eacute; en recompilant votre noyau. De plus votre noyau &agrave;
besoin de l'<strong>option BOOT_CONFIG</strong> dans la configuration du
noyau. Le noyau GENERIC poss&egrave;de cette option.
d587 1
a587 2
Une grande partie de ce document peut-&ecirc;tre trouv&eacute; dans la
page du manuel
d591 2
a592 2
Pour d&eacute;marrer avec UKC (User Kernel Config), il faut
sp&eacute;cifier l'option -c au d&eacute;marrage.
d598 4
a601 5
O&ugrave; n'importe quel autre noyau que vous voulez d&eacute;marrer.
L'invite de commandes UKC appara&icirc;tra. De l&agrave; vous pourrez
sp&eacute;cifier au noyau les p&eacute;riph&eacute;riques que vous
d&eacute;sirez modifier, ceux que vous voulez activer ou
d&eacute;sactiver.
d604 1
a604 1
Voici un liste des commandes les plus utilis&eacute;es dans UKC.
d607 2
a608 2
<li><tt>add <strong>device</strong></tt> - Ajoute un
    p&eacute;riph&eacute;rique en en copiant un autre
d610 3
a612 3
    plusieurs p&eacute;riph&eacute;riques
<li><tt>disable <strong>devno | device </strong></tt> - D&eacute;sactive
    un ou plusieurs p&eacute;riph&eacute;riques
d614 1
a614 1
    plusieurs p&eacute;riph&eacute;riques
d616 1
a616 1
    plusieurs p&eacute;riph&eacute;riques
d618 2
a619 2
<li><tt>list</tt> - Liste TOUS les p&eacute;riph&eacute;riques connus
<li><tt>exit/quit</tt> - Continue le d&eacute;marrage
d621 1
a621 2
    p&eacute;riph&eacute;riques avec un attribut et une valeur
    sp&eacute;cifi&eacute;e optionnelle 
d625 3
a627 4
Une fois que votre p&eacute;riph&eacute;rique est configur&eacute;,
utilisez quit ou exit pour continuer &agrave; d&eacute;marrer.
Apr&egrave;s avoir fait ceci, vous devriez corriger la configuration de
votre noyau et en compiler un nouveau. Voir <a
d633 1
a633 1
<h2>5.6 - Avoir plus d'informations pendant le d&eacute;marrage</h2>
d635 5
a639 6
Obtenir plus d'informations pendant le d&eacute;marrage peut-&ecirc;tre
tr&egrave;s pratique lorsque vous essayez de r&eacute;gler certains
probl&egrave;mes lors de celui-ci. Si vous avez un probl&egrave;me et
que vous aimeriez avoir plus d'informations, red&eacute;marrez votre
machine. Quand vous obtenez l'invite &quot;boot&gt;quot; d&eacute;marrez
avec l'option -c. L'invite UKC&gt; appara&icirc;tra et ensuite :
d648 1
a648 1
Vous obtiendrez un d&eacute;marrage extr&ecirc;mement verbeux.
d657 17
a673 20
peuvent &ecirc;tre tr&egrave;s utiles et vous &eacute;vitent de perdre
du temps &agrave; recompiler votre noyau. Le drapeau <b>-e</b> vous
permet de rentrer en configuration UKC alors que le syst&egrave;me
fonctionne. Les changements prendront effets au prochain
red&eacute;marrage. Le drapeau <b>-u</b> permet de voir si des
changements ont &eacute;t&eacute; effectu&eacute;s au noyau pendant le
d&eacute;marrage, signifiant que vous avez utilis&eacute; <b>boot -c</b>
pour entrer en configuration UKC.

<p>
Les exemples suivants montrent la d&eacute;sactivation des
p&eacute;riph&eacute;riques ep* dans le noyau. Pour plus de
s&eacute;curit&eacute;, il est pr&eacute;f&eacute;rable d'utiliser
l'option <b>-o</b> qui &eacute;crira les changements dans un fichier
sp&eacute;cifi&eacute;. Par exemple : <strong>config -e -o bsd.new
/bsd</strong> &eacute;crira les changements dans bsd.new. Les exemples
n'utilisent pas l'option <b>-o</b>, mais les changements sont
ignor&eacute;s et non &eacute;crit dans le binaire du noyau. Pour plus
d'informations sur les messages d'erreur et d'avertissement, lire la
page du manuel
d680 1
a680 1
OpenBSD 3.5 (GENERIC) #34: Mon Mar 29 12:24:55 MST 2004
d743 9
a751 12
Dans l'exemple ci-dessus, tous les p&eacute;riph&eacute;riques ep* sont
d&eacute;sactiv&eacute;s du noyau et ne seront donc pas test&eacute;s.
Dans certaines situations o&ugrave; vous aurez effectu&eacute; ces
changements au d&eacute;marrage avec UKC et <b>boot -c</b>, il vous
faudra les rendre d&eacute;finitifs. Pour ce faire, il faudra utiliser
l'option <b>-u</b>. Dans l'exemple suivant, l'ordinateur a
&eacute;t&eacute; d&eacute;marr&eacute; avec UKC et les
p&eacute;riph&eacute;riques wi(4) sont d&eacute;sactiv&eacute;s. Ètant
donn&eacute; que les changements fait par boot -c ne sont pas
permanents, ceux-ci doivent &ecirc;tre &eacute;crits sur le disque. Cet
exemple montre comment &eacute;crire les changements effectu&eacute;s
par boot -c dans un nouveau binaire noyau bsd.new.
d755 1
a755 1
OpenBSD 3.5 (GENERIC) #34: Mon Mar 29 12:24:55 MST 2004
d765 1
a765 1
<h2>5.8 - Probl&egrave;mes Usuels de Compilation</h2>
d768 2
a769 2
<h3>5.8.1 - La compilation s'est arr&ecirc;t&eacute;e avec une erreur
        "Signal 11"</h3>
d772 18
a789 20
La compilation d'OpenBSD et d'autres programmes &agrave; partir des
sources est une t&acirc;che qui sollicite le mat&eacute;riel plus que la
plupart des autres op&eacute;rations, faisant un usage intensif du CPU,
du disque et de la m&eacute;moire. Par cons&eacute;quence, si votre
mat&eacute;riel a des probl&egrave;mes, ces derniers appara&icirc;tront
plus facilement durant une compilation. Les d&eacute;faillances "Signal
11" sont <tt>typiquement</tt> caus&eacute;es par des probl&egrave;mes
mat&eacute;riel, et la plupart du temps &agrave; cause de
probl&egrave;mes de m&eacute;moirei. Mais ces d&eacute;faillances
peuvent aussi caus&eacute;es par le CPU, la carte m&egrave;re, ou des
probl&egrave;mes de surchauffe. Votre syst&egrave;me peut d'ailleurs
&ecirc;tre stable la plupart du temps et conna&icirc;tre des
d&eacute;faillances lors de la compilation de programmes.

<p>
Il est recommand&eacute; de r&eacute;parer ou remplacer les composants
&agrave; l'origine des d&eacute;faillances; les probl&egrave;mes pouvant
se manifester sous d'autres formes plus tard. Si vous avez du
mat&eacute;riel que vous souhaitez utiliser et qui ne vous pose aucun
probl&egrave;me, installez simplement une snapshot ou une "release".
d796 1
a796 1
<h3>5.8.2 - "make build" &eacute;choue en g&eacute;n&eacute;rant un
d799 1
a799 1
Ceci est le r&eacute;sultat de deux erreurs s&eacute;par&eacute;es :
d801 5
a805 6
<li><b>Vous n'avez pas proprement r&eacute;cup&eacute;r&eacute; ou mis
       &agrave; jour votre arborescence CVS.</b> Lorsque vous effectuez
       une op&eacute;ration "CVS checkout", vous devez utiliser l'option
       "<tt>-P</tt>", et lorsque vous mettez &agrave; jour votre
       arborescence des sources &agrave; partir de CVS, vous devez
       utiliser les options "<tt>-Pd</tt>" de
d808 11
a818 11
tel que c'est document&eacute; dans le 
<a href="../../fr/anoncvs.html">guide anoncvs </a>, l'
<a href="upgrade-minifaq.html">upgrade-minifaq</a> et la 
<a href="../faq8.html#CVS">FAQ</a>.  Ces options s'assurent que les
nouveaux r&eacute;pertoires sont ajout&eacute;s et supprim&eacute;s de
l'arborescence suivant l'&eacute;volution d'OpenBSD.

<li><b>Vous n'avez pas correctement cr&eacute;e le r&eacute;pertoire
       <tt>obj</tt> avant de commencer la compilation.</b> La
       compilation de l'arborescence sans r&eacute;pertoire
       <tt>/usr/obj</tt> n'est pas support&eacute;e.
d821 3
a823 3
Il est important de suivre soigneusement les instructions lors de  
<a href="../../fr/anoncvs.html">l'obtention et de la mise &agrave; jour</a> 
de votre arborescence des sources et lors de la
d828 4
a831 5
Apr&egrave;s avoir compil&eacute; votre syst&egrave;me, vous pouvez
cr&eacute;er les
<a href="faq4.html#FilesNeeded">ensembles de fichiers</a> OpenBSD qui
peuvent &ecirc;tre utilis&eacute;s pour installer votre syst&egrave;me
sur une autre machine.
d834 2
a835 2
La proc&eacute;dure n&eacute;cessaire pour effectuer cette
op&eacute;ration est d&eacute;taill&eacute;e dans la page de manuel
d843 1
a843 1
<a href= "faq6.html">[Section 6 - Le r&eacute;seau]</a>
d852 2
a853 2
Originally [OpenBSD: faq5.html,v 1.97 ]<br>
$Translation: faq5.html,v 1.39 2004/10/25 09:47:53 saad Exp $<br>
@


1.31
log
@sync with Steelix CVS.
@
text
@d18 3
a20 1
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
d903 2
a904 2
Originally [OpenBSD: faq5.html,v 1.96 ]<br>
$Translation: faq5.html,v 1.38 2004/10/15 13:05:04 saad Exp $<br>
@


1.30
log
@Sync with Steelix CVS
@
text
@d248 2
a249 2
Il faut aussi comprendre que lors de la <a
href="../upgrade-minifaq.html">mise &agrave; jour des sources</a>, le
d858 1
a858 1
<a href="../upgrade-minifaq.html">upgrade-minifaq</a> et la 
d872 1
a872 1
<a href="../upgrade-minifaq.html">compilation</a>de votre arborescence.
d902 1
a902 1
$Translation: faq5.html,v 1.37 2004/10/11 22:54:58 saad Exp $<br>
@


1.29
log
@Sync with Steelix CVS
@
text
@d901 2
a902 2
Originally [OpenBSD: faq5.html,v 1.95 ]<br>
$Translation: faq5.html,v 1.36 2004/10/06 16:43:37 saad Exp $<br>
@


1.28
log
@Sync with Steelix CVS
@
text
@d22 1
a22 1
<a href= "../faq4.html">[Section 4 - Guide d'Installation]</a>
d878 1
a878 1
<a href="../faq4.html#FilesNeeded">ensembles de fichiers</a> OpenBSD qui
d891 1
a891 1
<a href= "../faq4.html">[Section 4 - Guide d'Installation]</a>
d902 1
a902 1
$Translation: faq5.html,v 1.35 2004/09/21 06:38:26 saad Exp $<br>
@


1.27
log
@Sync with Steelix CVS
@
text
@d23 1
a23 1
<a href= "../faq6.html">[Section 6 - Mise en place du r&eacute;seau]</a>
d892 1
a892 1
<a href= "../faq6.html">[Section 6 - Mise en place du r&eacute;seau]</a>
d902 1
a902 1
$Translation: faq5.html,v 1.34 2004/08/18 14:42:08 saad Exp $<br>
@


1.26
log
@sync with Steelix CVS
@
text
@d38 1
a38 1
pri&egrave;re de consultez
d532 1
a532 1
    # <strong>make clean</strong>
d540 3
a542 2
pratiquement toujours, sauf si vous avez besoin d'ex&eacute;cuter
'<tt>make clean</tt>').
d901 2
a902 2
Originally [OpenBSD: faq5.html,v 1.94 ]<br>
$Translation: faq5.html,v 1.32 2004/05/16 09:50:19 saad Exp $<br>
@


1.25
log
@Sync with Steelix CVS
@
text
@d92 1
a92 1
       ,------o-----------o----X                    3.1 Stable
d94 1
a94 1
       |      .    ,------o---------o----X          3.2 Stable
d96 1
a96 1
       |      .    |      .    ,----o----------o--&gt; 3.3 Stable
d98 1
a98 1
       |      .    |      .    |    .    ,-----o--&gt; 3.4 Stable
d101 1
a101 1
 --&gt;3.1Rel-----&gt;3.2Rel-----&gt;3.3Rel-----&gt;3.4Rel----&gt; Current 
d128 2
a129 2
<i>3.1-stable</i> a &eacute;t&eacute; supprim&eacute;e &agrave; la
sortie de <i>3.3-release</i>, et que la branche <i>3.2-stable</i> a
d131 1
a131 1
<i>3.4-release</i> -- les anciennes versions sont typiquement
d139 1
a139 1
(i.e., en allant de <i>3.4-release</i> vers <i>3.4-stable</i>).
d214 1
a214 1
&agrave; jour un snapshot est g&eacute;n&eacute;ralement un bon point de
d253 2
a254 2
<i>3.4-current</i> (ou un snapshot), puis d&eacute;cider que c'est trop
dangereux, et revenir vers <i>3.4-stable</i>. Vous ne pouvez compter que
d721 1
a721 1
OpenBSD 3.4 (GENERIC) #18: Wed Sep 17 03:34:47 MST 2003
d799 1
a799 1
OpenBSD 3.3 (GENERIC) #44: Sat Mar 29 13:22:05 MST 2003
d900 2
a901 2
Originally [OpenBSD: faq5.html,v 1.93 ]<br>
$Translation: faq5.html,v 1.31 2004/03/23 21:06:13 saad Exp $<br>
@


1.24
log
@Sync with Steelix CVS
@
text
@d28 1
a28 1
<!-- UNCOMMENT ONLY WHEN THE FILE IS OUT OF SYNC -->
d41 1
a41 1
<!-- -->
d49 2
a50 2
<li><a href= "#Why">5.2 - Pourquoi est-ce que j'ai besoin de faire un
    noyau sur mesure ?</a>
d67 2
d267 14
a280 2
<h2>5.2 - Pourquoi est-ce que j'ai besoin de faire un noyau sur mesure
      ?</h2>
d283 10
a292 3
Il y a plusieurs raisons, bien que cette pratique s'adresse avant tout
&agrave; des utilisateurs poss&eacute;dant une bonne
compr&eacute;hension du syst&egrave;me.
d294 3
d298 15
a312 7
  <li>Votre ordinateur n'a que peu de RAM et vous voulez en
      pr&eacute;server le plus possible en enlevant les pilotes de
      p&eacute;riph&eacute;rique que vous n'utilisez pas.
  <li>Vous voulez supprimer des options mises par d&eacute;faut ou
      ajouter des options qui ne sont pas activ&eacute;es par
      d&eacute;faut.
  <li>Vous voulez activer les options exp&eacute;rimentales.
d316 38
a353 11
La plupart du temps, vous n'aurez PAS besoin de compiler votre propre
noyau. Le noyau GENERIC sera largement suffisant. En fait, plusieurs
raisons font que vous ne voudrez pas cr&eacute;er votre propre noyau. La
raison principale est qu'il facile de faire des changements &agrave; la
configuration du noyau qui paraissent logiques mais qui ne fonctionnent
pas. Si quelque chose ne fonctionne pas correctement, essayer le noyau
GENERIC avant d'envoyer un rapport de bogue. Les d&eacute;veloppeurs
ignorent d'habitude les rapports de bogue relatifs &agrave; des noyaux
personnalis&eacute;s, sauf si le probl&egrave;me peut &ecirc;tre
reproduit avec un noyau GENERIC. Vous avez &eacute;t&eacute;
pr&eacute;venu.
d873 14
d900 2
a901 2
Originally [OpenBSD: faq5.html,v 1.90 ]<br>
$Translation: faq5.html,v 1.30 2004/02/07 01:21:19 saad Exp $<br>
@


1.23
log
@Sync with Steelix CVS
@
text
@d28 14
d828 1
a828 1
$Translation: faq5.html,v 1.29 2004/01/02 22:22:47 saad Exp $<br>
@


1.22
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name= "copyright"     content= "This document copyright 1998-2003 by OpenBSD.">
d813 2
a814 2
Originally [OpenBSD: faq5.html,v 1.89 ]<br>
$Translation: faq5.html,v 1.28 2003/11/25 05:29:04 saad Exp $<br>
@


1.21
log
@sync with steelix translation CVS
@
text
@d556 1
a556 1
boot&gt; <strong>boot wd0a:/bsd -c</strong>
d813 2
a814 2
Originally [OpenBSD: faq5.html,v 1.88 ]<br>
$Translation: faq5.html,v 1.27 2003/11/04 21:05:57 saad Exp $<br>
@


1.20
log
@Sync with Steelix CVS
@
text
@d76 1
a76 1
       ,------o-----------o----X                    3.0 Stable
d78 1
a78 1
       |      .    ,------o---------o----X          3.1 Stable
d80 1
a80 1
       |      .    |      .    ,----o----------o--&gt; 3.2 Stable
d82 1
a82 1
       |      .    |      .    |    .    ,-----o--&gt; 3.3 Stable
d85 1
a85 1
 --&gt;3.0Rel-----&gt;3.1Rel-----&gt;3.2Rel-----&gt;3.3Rel----&gt; Current 
d112 2
a113 2
<i>3.0-stable</i> a &eacute;t&eacute; supprim&eacute;e &agrave; la
sortie de <i>3.2-release</i>, et que la branche <i>3.1-stable</i> a
d115 1
a115 1
<i>3.3-release</i> -- les anciennes versions sont typiquement
d123 1
a123 1
(i.e., en allant de <i>3.3-release</i> vers <i>3.3-stable</i>).
d237 2
a238 2
<i>3.3-current</i> (ou un snapshot), puis d&eacute;cider que c'est trop
dangereux, et revenir vers <i>3.3-stable</i>. Vous ne pouvez compter que
d648 1
a648 1
OpenBSD 3.3 (GENERIC) #44: Sat Mar 29 13:22:05 MST 2003
d813 2
a814 2
Originally [OpenBSD: faq5.html,v 1.87 ]<br>
$Translation: faq5.html,v 1.26 2003/10/13 19:45:00 saad Exp $<br>
@


1.19
log
@Sync with Steelix CVS
@
text
@d434 1
a434 1
plupart des utilisations, vous aurez besoin des deux. Sur le CDROM, ils
d813 2
a814 2
Originally [OpenBSD: faq5.html,v 1.86 ]<br>
$Translation: faq5.html,v 1.25 2003/10/06 20:23:22 saad Exp $<br>
@


1.18
log
@sync with steelix cvs
@
text
@d23 1
a23 1
<a href= "faq6.html">[Section 6 - Mise en place du r&eacute;seau]</a>
d804 1
a804 1
<a href= "faq6.html">[Section 6 - Mise en place du r&eacute;seau]</a>
d814 1
a814 1
$Translation: faq5.html,v 1.24 2003/09/22 20:29:35 saad Exp $<br>
@


1.17
log
@sync with steelix translation CVS
@
text
@d44 9
d735 64
d813 2
a814 2
Originally [OpenBSD: faq5.html,v 1.84 ]<br>
$Translation: faq5.html,v 1.23 2003/06/16 15:30:43 xsa Exp $<br>
@


1.16
log
@
sync with steelix translation CVS
@
text
@d421 1
a421 1
<i>src.tar.gz</i> et <i>srcsys.tar.gz</i>. Le premier correspond
d740 2
a741 2
Originally [OpenBSD: faq5.html,v 1.83 ]<br>
$Translation: faq5.html,v 1.22 2003/05/22 08:11:02 xsa Exp $<br>
@


1.15
log
@
sync with steelix translation CVS
@
text
@d23 1
a23 1
<a href= "../faq6.html">[Section 6 - Mise en place du r&eacute;seau]</a>
d731 1
a731 1
<a href= "../faq6.html">[Section 6 - Mise en place du r&eacute;seau]</a>
d741 1
a741 1
$Translation: faq5.html,v 1.21 2003/05/12 12:00:54 saad Exp $<br>
@


1.14
log
@
sync with steelix translation CVS
@
text
@d210 1
a210 1
href="../../ports.html"><tt>ports</tt></a> sont synchronis&eacute;s,
d741 1
a741 1
$Translation: faq5.html,v 1.20 2003/05/03 09:55:27 saad Exp $<br>
@


1.13
log
@
sync with steelix translation CVS
@
text
@a1 1

d11 2
a12 2
<meta name= "copyright"     content= "This document copyright 1998-2002 by OpenBSD.">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
d20 8
a27 2
<h2><font color="#e00000">5 - Construire le Syst&egrave;me &agrave;
    partir des Sources</font></h2>
d48 1
d118 1
a118 1
list&eacute;s dans la <a href="../fr/errata.html">page des errata</a>,
d241 1
a241 2
<a name= "Why"></a>
<a name= "5.2"></a>
d248 1
a248 1
compr&eacute;hension du syst&egrave;me
d274 1
a274 2
<a name= "Options"></a>
<a name= "5.3"></a>
d276 22
d305 2
a306 2
personnaliser votre noyau. Veuillez consulter la page du manuel <a href
="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4
d312 29
a340 32
Toutes les options du noyau n'ont pas &eacute;t&eacute; test&eacute;es
au point de vue compatibilit&eacute; avec les autres options. Ne pas
activer une option du noyau &agrave; moins d'avoir une bonne raison de
le faire ! La configuration noyau qui est la plus test&eacute;e est
GENERIC. Il s'agit g&eacute;n&eacute;ralement d'une combinaison des
options des fichiers <tt>/usr/src/sys/arch/&lt;votre
architecture&gt;/conf/GENERIC</tt> et
<tt>/usr/src/sys/conf/GENERIC</tt>.

<p>
<ul>
<li><a href=
"http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/alpha/conf/">
Fichiers de configuration du noyau Alpha</a>
<li><a href=
"http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/i386/conf/">
Fichiers de configuration du noyau i386</a>
<li><a
href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/macppc/conf/">
Fichiers de configuration du noyau macppc</a>
<li><a href=
"http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc/conf/">
Fichiers de configuration du noyau sparc</a>
<li><a href=
"http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc64/conf/"> 
Fichiers de configuration du noyau sparc64</a> 
<li><a href=
"http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/vax/conf/">
Fichiers de configuration du noyau vax </a>
<li><a href=
"http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/">Autres
architectures</a> 
d345 5
a349 3
genre :<br>
<strong>include "../../../conf/GENERIC"</strong><br>
Cela signifie que l'on <i>fait</i> r&eacute;f&eacute;rence &agrave; un
d354 1
a354 2
/sys/conf/GENERIC</a> pour voir ce que vous voulez. Il y a des options
qui sont <b>indispensables</b>. 
d358 9
a366 5
fichier de configuration du noyau avec le format :<br>
<strong>option      OPTION</strong><br>
Par exemple, pour placer l'option de debug dans le noyau, il faut
ajouter une ligne telle que :<br>
<strong>option      DEBUG</strong><br>
d370 1
a370 9
placer un #define DEBUG &agrave; travers les sources du noyau.


<p>
OpenBSD poss&egrave;de un grand nombre d'options de compatibilit&eacute;
qui permettent d'utiliser les binaires d'autres syst&egrave;mes
d'exploitation. Elles ne sont pas toutes disponibles sur toutes les
architectures, donc veuillez lire les pages du manuel correspondantes
pour voir ce qui support&eacute; sur la v&ocirc;tre.
d373 20
a392 215
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_svr4&amp;sektion=8">COMPAT_SVR4(8)</a> - Compatibilit&eacute; avec les binaires SVR4.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_bsdos&amp;sektion=8">COMPAT_BSDOS(8)</a> - Compatibilit&eacute; avec les binaires BSD/OS.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&amp;sektion=8">COMPAT_LINUX(8)</a> - Compatibilit&eacute; avec les binaires Linux.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_sunos&amp;sektion=8">COMPAT_SUNOS(8)</a> - Compatibilit&eacute; avec les binaires SunOS.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_ultrix&amp;sektion=8">COMPAT_ULTRIX(8)</a> - Compatibilit&eacute; avec les binaires ULTRIX.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_freebsd&amp;sektion=8">COMPAT_FREEBSD(8)</a> - Compatibilit&eacute; avec les binaires FreeBSD.
<li>COMPAT_HPUX - Compatibilit&eacute; avec les binaires HP-UX.
    Disponible uniquement sur quelques architectures m68k.
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_ibcs2&amp;sektion=8">COMPAT_IBCS2(8)</a> - Compatibilit&eacute; pour faire tourner des binaires ibcs2.
<li>COMPAT_OSF1 - Fait tourner les binaires Digital Unix. Uniquement
    disponible sur la plate-forme Alpha.
<li>COMPAT_43 - Compatibilit&eacute; avec 4.3BSD. Utilisation
    d&eacute;conseill&eacute;e, mais c'est requis par quelques
    applications.
<li>COMPAT_11 - Compatibilit&eacute; avec NetBSD 1.1
<li>COMPAT_NOMID - Compatibilit&eacute; avec les ex&eacute;cutables
    a.out qui n'ont pas d'identifiant de machine (id). 
</ul>

<p>
Il est toujours utile de pouvoir mettre au point les probl&egrave;mes
avec votre noyau. Mais de nombreuses personnes choisissent de pas mettre
ces options dans leur noyau parce que celles-ci prennent une place
consid&eacute;rable. Elles sont pourtant tr&egrave;s utiles quand un bug
est pr&eacute;sent. Cela permettra aux d&eacute;veloppeurs de trouver la
source de vos probl&egrave;mes plus rapidement. Voici une liste des
options de "debugging" qui peuvent &ecirc;tre ajout&eacute;es &agrave;
votre noyau.

<p>
<ul>
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ddb&amp;sektion=4">DDB</a>
- Ceci va compiler le debugger du noyau. Il n'est pas disponible sur
  toutes les plates-formes donc veuillez consulter le manuel avant de
  l'ajouter.
<li><a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&amp;sektion=1">KGDB</a>
- Compile un debugger distant pour le noyau en utilisant la
  caract&eacute;ristique `remote target' de gdb.
<li>makeoptions DEBUG="-g" - Cr&eacute;&eacute; bsd.gdb avec bsd. C'est
    tr&egrave;s pratique pour debugger un crashdump avec gdb.
<li>DEBUG - Utilis&eacute;e pour placer diverses options de debug dans
    le noyau o&ugrave; les sources les ont d&eacute;finies.
<li>KTRACE - Place des balises pour utiliser le syst&egrave;me de suivi
    des appels syst&egrave;mes. Cela permet aux utilisateurs d'utiliser
    <a href=
    "http://www.openbsd.org/cgi-bin/man.cgi?query=ktrace&amp;sektion=1">
    ktrace(1)</a>.
<li>DIAGNOSTIC - Ajoute du code dans le noyau qui effectuera des
    contr&ocirc;les logiques internes.
<li>GPROF - Ajoute du code dans le noyau pour examiner son profil &agrave;
l'aide de <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=kgmon&amp;sektion=8">kgmon(8)</a>. 
<li>makeoptions PROF="-pg" - Le drapeau (flags) -pg permet de compiler
    le noyau avec le support pour le profiling. L'option GPROF requiert
    l'utilisation de cette option. 
</ul>

<p>
<strong>Options des syst&egrave;mes de fichiers.</strong>
<ul>
<li>FFS - Berkeley Fast Filesystem <strong>REMARQUE :</strong> Cette
    option est indispensable
<li>EXT2FS - Second Extended File System, n&eacute;cessaire pour lire
    une partition Linux.
<li>MFS - Memory File System, permet de stocker les fichiers en
    m&eacute;moire swap.
<li>NFS - Network File System, n&eacute;cessaire pour utiliser NFS.
<li>CD9660 - Il s'agit du syst&egrave;me de fichiers iso9660 +
    rockridge. N&eacute;cessaire pour lire les CD.
<li>MSDOSFS - N&eacute;cessaire pour lire les syst&egrave;mes de
    fichiers MS-DOS FAT. Supporte aussi les noms long de Windows 95 et
    les caract&egrave;res minuscules/majuscules.
<li>FDESC - Inclus le code pour un syst&egrave;me de fichiers qui peut
    &ecirc;tre mont&eacute; sur /dev/fd
<li>KERNFS - Inclus le code qui permet de monter un syst&egrave;me de
    fichiers particulier (habituellement sur /kern) dans lequel les
    fichiers repr&eacute;sentent certaines variables et certains
    param&egrave;tres du noyau.
<li>NULLFS - Code pour avoir un syst&egrave;me de fichiers boucl&eacute;. <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_null&amp;sektion=8">mount_null(8)</a>
pour plus d'informations 
<li>PROCFS - Inclus le code d'un syst&egrave;me de fichiers particulier
    (habituellement sur /proc)
<li>PORTAL - Inclus le syst&egrave;me de fichiers portal
    (exp&eacute;rimental). Il permet quelques petites astuces
    int&eacute;ressantes telles que l'ouverture d'une socket TCP par
    l'ouverture d'un fichier.
<li>UMAPFS - Inclus un syst&egrave;me de fichiers boucl&eacute; dans
    lequel chaque uid et gid peut-&ecirc;tre red&eacute;fini. Cela
    peut-&ecirc;tre pratique quand on monte un syst&egrave;me de
    fichiers &eacute;tranger avec des uid et des gid diff&eacute;rents
    de ceux du syst&egrave;me local (tel qu'un syst&egrave;me de
    fichiers distant par NFS).
<li>UNION - Inclus le code pour le syst&egrave;me de fichiers union qui
    permet aux r&eacute;pertoires d'&ecirc;tre mont&eacute;s les un au
    dessus des autres de telle fa&ccedil;on que les deux syst&egrave;mes
    de fichiers restent visibles. Ce code n'est pas encore stable.
<li>XFS - Ajoute ce qu'il faut pour utiliser un syst&egrave;me de
    fichiers compatible avec le syst&egrave;me de fichier AFS.
    Utilis&eacute; actuellement par le code AFS/Arla.
<li>FFS_SOFTUPDATES - Permet l'utilisation des softupdates. Pour plus
    d'information sur les softupdates, veuillez lire la section <a
    href="../faq14.html#SoftUpdates">FAQ Softupdates</a>.
<li>NFSSERVER - Permet d'inclure le code serveur de NFS dans le noyau.
<li>NFSCLIENT - Permet d'inclure le code client de NFS dans le noyau.
<li>FIFO - Support pour les FIFOs... RECOMMANDÉ.
<li>NVNODE=entier - O&ugrave; entier est la taille du cache
    utilis&eacute; par les routines de traduction "nom vers i-node
    (name-to-inode)" (tel que le cache namei(), bien que portant
    d'innombrables autres noms dans les sources du noyau).
<li>EXT2FS_SYSTEM_FLAG - Cette fonction change le comportement des
    drapeaux (flags) APPEND et IMMUTABLE pour un fichier sur un
    syst&egrave;me de fichiers EXT2FS. Veuillez consulter <a href="http-
    ://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">opt-
    ions(4)</a> pour de plus amples d&eacute;tails.
<li>QUOTA - Support des quotas. Pour plus d'informations sur les quotas,
    veuillez lire la <a href="../faq10.html#Quotas">FAQ 10, Quotas</a>
</ul>

<p>
<strong>Options diverses</strong>
<ul>
<li>PCIVERBOSE - Rend la proc&eacute;dure de d&eacute;marrage plus verbeuse pour les p&eacute;riph&eacute;riques PCI.  
<li>EISAVERBOSE - Rend la proc&eacute;dure de d&eacute;marrage plus verbeuse pour les p&eacute;riph&eacute;riques EISA.  
<li>PCMCIAVERBOSE - Rend la proc&eacute;dure de d&eacute;marrage plus verbeuse pour les p&eacute;riph&eacute;riques PCMCIA.  
<li>APERTURE - Fourni un support pour le framebuffer dans le noyau aux
processus utilisateur. Indispensable pour utiliser X.
<li>LKM - Support pour les modules noyau. N'est pas disponible sur
toutes les architectures. Lire <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=lkm&amp;sektion=4">lkm(4)</a>
pour plus d'informations. 
<li>INSECURE - Code (sans possibilit&eacute; de changement) le niveau de
s&eacute;curit&eacute; du noyau &agrave; -1. Lire <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&amp;sektion=8">init(8)</a>
pour plus d'informations sur les niveaux de s&eacute;curit&eacute; du noyau. 
<li>RAM_DISK_HOOKS - Permet l'utilisation de fonctions d&eacute;pendantes de
l'architecture quand le pilote ramdisk est configur&eacute;. 
<li>RAM_DISK_IS_ROOT - Force le ramdisk &agrave; &ecirc;tre root.
<li>CCDNBUF=integer - Fixe le nombre de tampons m&eacute;moires utilis&eacute;s par CCD(4). Le
d&eacute;faut est 8. Pour plus d'informations sur CCD, veuillez lire la page du manuel
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccd&amp;sektion=4">CCD(4)</a>,
ou la <a href="../faq11.html#ccd">section optimisation des performances de la FAQ.</a>
<li>KMEMSTATS - Permet de garder des statistiques sur l'utilisation de
malloc(9). Si l'option DEBUG est utilis&eacute;e, cette option est
automatiquement activ&eacute;e. 
<li>BOOT_CONFIG - Active le support pour l'option de d&eacute;marrage -c.
</ul>


<p>
<strong>Options r&eacute;seau</strong><br>
Veuillez aussi consulter la<a href="../faq6.html">FAQ r&eacute;seau</a> ou la
<a href="../faq11.html#Network">FAQ Optimisation des performances r&eacute;seau</a>. 
<ul>
<li>GATEWAY - Active IPFORWARDING et (sur la plupart des ports) accro&icirc;t la taille de NMBCLUSTERS.
<li>NMBCLUSTERS=entier - Contr&ocirc;le la taille des clusters de mbuf. 
<li>IPFORWARDING - Active le routage IP. Avec cette option, la machine transmettra les paquets IP entre ses interfaces qui sont destin&eacute;s &agrave; d'autres machines.
<li>MROUTING - Inclus le support pour les routeurs multicast IP.
<li>INET - Inclus le support pour la pile de protocoles TCP/IP. Cette option est indispensable
<li>MCLSHIFT=valeur - Cette option est le logarithme binaire (base 2)
de la taille des mbuf clusters. Lire <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&amp;sektion=4">options(4)</a>
pour plus d'informations sur cette option. 
<li>NS - Inclus le support pour la pile de protocoles Xerox
XNS. Voir<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ns&amp;sektion=4">ns(4)</a> 
<li>ISO,TPIP - Inclus le support pour la pile de protocoles OSI. Voir
<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=iso&amp;sektion=4">iso(4)</a>
pour plus d'informations. 
<li>EON - Inclus le support pour les tunnels OSI dans IP.
<li>CCITT,LLC,HDLC - Inclus le support pour la pile de protocoles X.25.
<li>IPX, IPXIP - Inclus le support pour le protocole IPX (Internetwork
Packet Exchange) principalement utilis&eacute; par Novell NetWare. 
<li>NETATALK - Inclus le support pour la famille de protocoles
AppleTalk. 
<li>TCP_COMPAT_42 - L'utilisation de cette option est particuli&egrave;rement
d&eacute;conseill&eacute;e. Il s'agit de la compatibilit&eacute; avec un bug de
4.2BSD. Dans 4.2BSD, les num&eacute;ros de s&eacute;quence &eacute;taient des entiers
sign&eacute;s de 32 bits. Les mises en oeuvre modernes utilisent des valeurs
non sign&eacute;es. 
<li>TCP_NEWRENO - Active la phase de recouvrement rapide NewReno qui
permet &agrave; un segment perdu d'&ecirc;tre r&eacute;cup&eacute;r&eacute; par "round trip time". 
<li>TCP_SACK - Active les acquittements s&eacute;lectifs.
<li>TCP_FACK - Active la transmission des acquittements permettant une
estimation plus pr&eacute;cise des donn&eacute;es en suspens durant la phase de
recouvrement rapide gr&acirc;ce &agrave; l'utilisation des informations SACK. Cette
option peut-&ecirc;tre utilis&eacute;e avec TCP_SACK. 
<li>PPP_FILTER - Cette option active le filtrage avec <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcap&amp;sektion=3">pcap(3)</a>
sur les connexions ppp. 
<li>PPP_BSDCOMP - compression PPP BSD.
<li>PPP_DEFLATE - Utilis&eacute; en conjonction avec PPP_BSDCOMP.
<li>IPSEC - Cette option active le support du protocole de s&eacute;curit&eacute;
IP. Voir <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&amp;sektion=4">ipsec(4)</a>
pour plus de d&eacute;tails. Cette option implique l'option KEY, qui fournit
le support pour PFKEYv2.  
<li>ENCDEBUG - Cette option active la journalisation des informations
de debug au cas o&ugrave; IPSEC rencontrerait des erreurs. 
</ul>


<p>
<strong>Options du sous-syst&egrave;me SCSI</strong>
<ul>
<li>SCSITERSE - Messages d'erreurs SCSI.  Les informations de d&eacute;codage ASC/ASCQ sont omises ce qui permet de sauver environ 8 octets.
<li>SCSIDEBUG - Afficher des informations de debug pour le sous-syst&egrave;me SCSI &agrave; la console.
</ul>


d395 1
a395 2
<a name= "Building"></a>
<a name= "5.4"></a>
a397 1

d399 4
a402 3
Toutes les instructions pour cr&eacute;er votre noyau sur mesure sont dans la
page du manuel <a href=
"http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&apropos=0&amp;sektion=8"> 
d405 6
a410 5

<p> Pour compiler votre noyau depuis le cdrom vous aurez tout d'abord besoin d'avoir 
  le code source. Ce dernier est disponible &agrave; partir du <a href="../../orders.html">CD 
  officiel</a> (disque 3) et &agrave; partir des <a href="../../fr/ftp.html">sites 
  FTP</a>. Cet exemple suppose que le CD3 est mont&eacute; sur /mnt. 
d419 9
d429 3
a431 3
Maintenant pour cr&eacute;er votre noyau sur mesure, la mani&egrave;re la plus
simple est de partir du noyau GENERIC. Il se trouve dans
<tt>/usr/src/sys/arch/$ARCH/conf/GENERIC</tt>, o&ugrave; ARCH est votre
d433 2
a434 2
r&eacute;pertoire. Voici deux exemples vous montrant comment compiler votre
noyau. Le premier exemple permet de compiler votre noyau avec des
a437 1

d440 5
a444 4
# <strong>cd /quelque_part</strong>
# <strong>cp /usr/src/sys/arch/$ARCH/conf/UN_FICHIER .</strong>
# <strong>vi UN_FICHIER</strong> (pour effectuer les changements voulus)
# <strong>config -s /usr/src/sys -b . UN_FICHIER</strong>
d449 1
a449 1
         <b><i>- OR -</i></b>
d458 2
a459 2
pratiquement toujours, sauf si vous avez besoin d'ex&eacute;cuter '<tt>make
clean</tt>').
d462 7
a468 7
Si vous avez effectu&eacute; des modifications aux options de configuration de
votre noyau, et/ou effectu&eacute; des modifications majeures &agrave; votre
arborescence des sources, vous devriez utiliser ' '<tt>make
clean</tt>' au lieu de '<tt>made depend</tt>'. Il est &agrave; noter qu'il est
toujours de bon ton de faire un 'make clean', m&ecirc;me si &ccedil;a peut aboutir &agrave;
des temps de compilation plus longs, vu que plus de choses ont besoin
d'&ecirc;tre reconstruites.
d471 2
a472 2
Pour compiler un noyau avec des sources accessibles en &eacute;criture il faut effectuer les actions suivantes :

d476 7
a482 7
# <strong>cd sys/arch/$ARCH/conf</strong>
# <strong>vi UN_FICHIER</strong> (pour effectuer les changements voulus)
# <strong>config UN_FICHIER</strong> (pour en savoir plus lisez : <a
href=
"http://www.openbsd.org/cgi-bin/man.cgi?query=config&apropos=0&amp;sektion=8">config(8)</a>) 
# <strong>cd ../compile/UN_FICHIER</strong>
# <strong>make</strong> 
d487 4
a490 4
O&ugrave; $ARCH est l'architecture que vous utilisez (par exemple i386). Vous
pouvez aussi faire un <strong>make depend</strong> pour cr&eacute;er les
d&eacute;pendances pour la prochaine compilation de votre noyau. 

d493 1
a493 2
D&eacute;placer votre noyau &agrave; sa place.

d498 1
a498 1
# <strong>cp /sys/arch/$ARCH/compile/UN_FICHIER/bsd /bsd</strong>
d502 2
a503 3
<p>
Pour d&eacute;marrer avec votre ancien noyau au d&eacute;marrage, il suffit juste de faire ceci

d511 1
a511 3
<p>
votre ancien noyau sera charg&eacute; &agrave; la place de /bsd.

d516 1
a516 1
href="../faq14.html#InstBoot">FAQ 14, Installation des bootblocks</a>, qui
a518 1

d520 1
a520 2
<a name="BootConfig"></a> 
<a name="5.5"></a> 
a522 1

d524 17
a540 12
Parfois lorsque vous d&eacute;marrez votre syst&egrave;me vous remarquerez que
votre noyau trouve vos p&eacute;riph&eacute;riques mais &agrave; la mauvaise IRQ. Et
avez-vous imm&eacute;diatement besoin de ce
p&eacute;riph&eacute;rique. Sans recompiler votre noyau vous pouvez utiliser la
configuration au d&eacute;marrage de celui-ci. Cela permettra de corriger
votre probl&egrave;me pour cette fois et uniquement pour cette fois. Si vous
red&eacute;marrez le syst&egrave;me il faudra recommencer la proc&eacute;dure. Il s'agit
donc d'une m&eacute;thode temporaire. Le probl&egrave;me devra &ecirc;tre corrig&eacute; en
recompilant votre noyau. De plus votre noyau &agrave; besoin de
l'<strong>option BOOT_CONFIG</strong> dans la configuration du
noyau. Le noyau GENERIC poss&egrave;de cette option.  

d543 2
a544 6
Une grande partie de ce document peut-&ecirc;tre trouv&eacute; dans la page du
manuel <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot_config&apropos=0&amp;sektion=8">boot_config(8)</a> 


Pour d&eacute;marrer avec UKC (User Kernel Config), il faut sp&eacute;cifier l'option -c au d&eacute;marrage.
d550 5
a554 6
<p>
O&ugrave; n'importe quel autre noyau que vous voulez d&eacute;marrer. L'invite de
commandes UKC appara&icirc;tra. De l&agrave; vous pourrez sp&eacute;cifier au noyau les
p&eacute;riph&eacute;riques que vous d&eacute;sirez modifier, ceux que vous voulez activer
ou d&eacute;sactiver.

a558 1

d560 10
a569 5
<li><tt>add <strong>device</strong></tt> - Ajoute un p&eacute;riph&eacute;rique en en copiant un autre
<li><tt>change <strong>devno | device </strong></tt> - Modifie un ou plusieurs p&eacute;riph&eacute;riques
<li><tt>disable <strong>devno | device </strong></tt> - D&eacute;sactive un ou plusieurs p&eacute;riph&eacute;riques
<li><tt>enable <strong>devno | device </strong></tt> - Active un ou plusieurs p&eacute;riph&eacute;riques
<li><tt>find <strong>devno | device </strong></tt> - Trouver un ou plusieurs p&eacute;riph&eacute;riques
d573 3
a575 1
<li><tt>show <strong>[attr [val]]</strong></tt> - Montre les p&eacute;riph&eacute;riques avec un attribut et une valeur sp&eacute;cifi&eacute;e optionnelle
d579 6
a584 6
Une fois que votre p&eacute;riph&eacute;rique est configur&eacute;, utilisez quit ou exit
pour continuer &agrave; d&eacute;marrer. Apr&egrave;s avoir fait ceci, vous devriez
corriger la configuration de votre noyau et en compiler un
nouveau. Voir <a href="faq5.html#Building">Construire votre propre
noyau</a> pour plus de renseignements. 

a587 1
<a name="5.6"></a>
d590 6
a595 10

<p>
Obtenir plus d'informations pendant le d&eacute;marrage peut-&ecirc;tre tr&egrave;s
pratique lorsque vous essayez de r&eacute;gler certains probl&egrave;mes lors de
celui-ci. Si vous avez un probl&egrave;me et que vous aimeriez avoir plus
d'informations, red&eacute;marrez votre machine. Quand vous obtenez l'invite
&quot;boot&gt;quot; d&eacute;marrez avec l'option -c. L'invite UKC&gt; appara&icirc;tra
et ensuite : 


d601 1
a601 1
</pre></ul>
a605 1

a607 1
<a name="5.7"></a>
d610 11
a620 9

<p> Les options <b>-e</b> et <b>-u</b> dans <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>. 
  Ces options peuvent &ecirc;tre tr&egrave;s utiles et vous &eacute;vitent de perdre du temps &agrave; recompiler 
  votre noyau. Le drapeau <b>-e</b> vous permet de rentrer en configuration UKC 
  alors que le syst&egrave;me fonctionne. Les changements prendront effets au prochain 
  red&eacute;marrage. Le drapeau <b>-u</b> permet de voir si des changements ont &eacute;t&eacute; 
  effectu&eacute;s au noyau pendant le d&eacute;marrage, signifiant que vous avez utilis&eacute; <b>boot 
  -c</b> pour entrer en configuration UKCi. 
d623 3
a625 2
Les exemples suivants montrent la d&eacute;sactivation des p&eacute;riph&eacute;riques ep*
dans le noyau. Pour plus de s&eacute;curit&eacute;, il est pr&eacute;f&eacute;rable d'utiliser
d627 11
a637 8
sp&eacute;cifi&eacute;. Par exemple <strong>config -e -o bsd.new /bsd</strong> &eacute;crira
les changements dans bsd.new. Les exemples n'utilisent pas l'option
<b>-o</b>, mais les changements sont ignor&eacute;s et non &eacute;crit dans le
binaire du noyau. Pour plus d'informations sur les messages d'erreur
et d'avertissement, lire la page du manuel <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&amp;sektion=8">config(8)</a>
<ul>
  <pre>
d701 1
a701 1
<p> 
d703 11
a713 9
d&eacute;sactiv&eacute;s du noyau et ne seront donc pas test&eacute;s. Dans
certaines situations o&ugrave; vous aurez effectu&eacute; ces changements au d&eacute;marrage
avec UKC et <b>boot -c</b>, il vous faudra les rendre d&eacute;finitifs. Pour
ce faire, il faudra utiliser l'option <b>-u</b>. Dans l'exemple suivant,
l'ordinateur a &eacute;t&eacute; d&eacute;marr&eacute; avec UKC et les p&eacute;riph&eacute;riques wi(4) sont
d&eacute;sactiv&eacute;s. Ètant donn&eacute; que les changements fait par boot -c ne sont pas
permanents, ceux-ci doivent &ecirc;tre &eacute;crits sur le disque. Cet exemple
montre comment &eacute;crire les changements effectu&eacute;s par boot -c dans un
nouveau binaire noyau bsd.new.
d717 2
a718 2
OpenBSD 3.1 (GENERIC) #2: Sat Apr 20 21:44:54 EDT 2002
    root@@build:/usr/src/sys/arch/i386/compile/GENERIC
d729 3
a731 3
<a href= "index.html">[Retour &agrave; l'Index principal]</a>
<a href= "faq4.html">[Section 4 - Guide d'Installation]</a>
<a href= "../faq6.html">[Section 6 - R&eacute;seau]</a>
d734 1
d736 1
a736 1
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[retour]"></a> 
d739 3
a741 3
<small> 
Originally [OpenBSD: faq5.html,v 1.70 ]<br>
$Translation: faq5.html,v 1.18 2003/05/02 21:20:42 saad Exp $<br>
@


1.12
log
@
broken version tags
@
text
@d1 2
d5 2
a6 1
<title>5.0 - Configuration du noyau</title>
d13 1
d17 1
d21 3
a23 2
<h2><font color=#e00000>5.0 - Configuration du noyau</font><hr></h2>
<p></p>
d26 13
a38 7
<ul><h3>Table des matières</h3>
<li><a href= "#Why">5.1 - Pourquoi est-ce que j'ai besoin de faire un noyau sur mesure ?</a></li>
<li><a href= "#Options">5.2 - Options de configuration du noyau</a></li>
<li><a href= "#Building">5.3 - Construire votre propre noyau</a></li>
<li><a href= "#BootConfig">5.4 - Configuration au démarrage</a></li>
<li><a href= "#VerboseBoot">5.5 - Avoir plus d'informations pendant le démarrage</a></li>
<li><a href= "#config">5.6 - Utilisation de config(8) pour changer le binaire du noyau</a>
a39 1
<p></p>
d43 191
d236 3
a238 3
<a name= "5.1"></a>
<h2>5.1 - Pourquoi est-ce que j'ai besoin de faire un noyau sur mesure ?</h2>
<p></p>
d242 2
a243 1
à des utilisateurs possédant une bonne compréhension du système 
d246 7
a252 7
    <li>Votre ordinateur n'a que peu de RAM et vous voulez en
    préserver le plus possible en enlevant les pilotes de périphérique
    que vous n'utilisez pas. 
    <li>Enlever des options mises par défaut ou ajouter des options
    qui ne sont pas mises par défaut. 
    <li>Activer les options expérimentales.
    
d254 1
a254 1
<p></p>
d258 9
a266 7
raisons font que vous ne voudrez pas créer votre propre noyau. La
raison principale est qu'il facile de faire des 
changements à la configuration du noyau qui paraissent logiques mais
qui ne fonctionnent pas. Si quelque chose ne fonctionne pas
correctement, essayer le noyau GENERIC avant d'envoyer un rapport de
bug. 
</p>
d270 2
a271 3
<a name= "5.2"></a>
<h2>5.2 - Options de configuration du noyau</h2>
<p></p>
d274 20
a293 21
Les options de configuration du noyau sont des options que vous
ajoutez à la configuration de votre noyau pour activer certaines
caractéristiques dans celui-ci. Ceci vous permet d'avoir exactement
le support que vous voulez sans vous encombrer des pilotes inutiles. Il y a
une multitude d'options qui vous permettront de personnaliser votre
noyau. Veuillez consulter la page du manuel <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&apropos=0&sektion=4&format=html">options(4)</a>
pour une liste complète des options. Vous pouvez aussi consulter les
fichiers d'exemples de configurations qui sont disponibles pour votre
architecture.  
</p>

<P>
Toutes les options du noyau n'ont pas été testées au point de vue
compatibilité avec les autres options. Ne pas activer une option du
noyau à moins d'avoir une bonne raison de le faire ! La configuration
noyau qui est la plus testée est GENERIC. Il s'agit généralement
d'une combinaison des options des fichiers
/usr/src/sys/arch/&lt;votre architecture&gt;/conf/GENERIC et
/usr/src/sys/conf/GENERIC. 
</P>
d297 21
a317 6
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/alpha/conf/">Fichiers de configuration du noyau Alpha</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/i386/conf/">Fichiers de configuration du noyau i386</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/mac68k/conf/">Fichiers de configuration du noyau mac68k</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/pmax/conf/">Fichiers de configuration du noyau pmax</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/sparc/conf/">Fichiers de configuration du noyau sparc</a></li>
<li><a href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/arch/">Autres architectures</a></li>
a318 1
<p></p>
d324 7
a330 7
Cela signifie que l'on <i>fait</i> référence à un autre fichier de
configuration. Ce fichier comprend toutes les options qui ne sont pas
dépendantes de l'architecture. Donc quand vous créez votre fichier de
configuration, soyez sûr de regarder <a
href="http://www.openbsd.org/cgi-bin/cvsweb/src/sys/conf/GENERIC">/sys/conf/GENERIC</a>
pour voir ce que vous voulez. Il y a des options qui sont INDISPENSABLES. 
</p>
d333 2
a334 1
Toutes les options ci-dessous doivent être placées dans le fichier de  configuration du noyau avec le format :<br>
d336 3
a338 2
Par exemple, pour placer l'option de debug dans le noyau, il faut ajouter une ligne telle que :<br>
<strong>option	    DEBUG</strong><br>
d340 4
a343 4
préprocesseur, donc une option telle que DEBUG compilerait les
sources avec l'option -DDEBUG. Ce qui est équivalent à placer un
#define DEBUG à travers les sources du noyau.
</p>
d346 2
a347 2
OpenBSD possède un grand nombre d'options de compatibilité qui
permettent d'utiliser les binaires d'autres systèmes
d350 2
a351 2
pour voir ce qui supporté sur la vôtre. 
</p>
d354 17
a370 12
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_svr4&sektion=8&apropos=0&manpath=OpenBSD+Current">COMPAT_SVR4(8)</a> - Compatibilité avec les binaires SVR4.</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_bsdos&sektion=8&apropos=0&manpath=OpenBSD+Current">COMPAT_BSDOS(8)</a> - Compatibilité avec les binaires BSD/OS.</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_linux&sektion=8&apropos=0&manpath=OpenBSD+Current">COMPAT_LINUX(8)</a> - Compatibilité avec les binaires Linux.</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_sunos&sektion=8&apropos=0&manpath=OpenBSD+Current">COMPAT_SUNOS(8)</a> - Compatibilité avec les binaires SunOS.</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_ultrix&sektion=8&apropos=0&manpath=OpenBSD+Current">COMPAT_ULTRIX(8)</a> - Compatibilité avec les binaires ULTRIX.</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_freebsd&sektion=8&apropos=0&manpath=OpenBSD+Current">COMPAT_FREEBSD(8)</a> - Compatibilité avec les binaires FreeBSD.</li>
<li>COMPAT_HPUX - Compatibilité avec les binaires HP-UX. Disponible uniquement sur quelques architectures m68k.</li>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=compat_ibcs2&sektion=8&apropos=0&manpath=OpenBSD+Current">COMPAT_IBCS2(8)</a> - Compatibilité pour faire tourner des binaires ibcs2.</li>
<li>COMPAT_OSF1 - Fait tourner les binaires Digital Unix. Uniquement disponible sur la plate-forme Alpha.</li>
<li>COMPAT_43 - Compatibilité avec 4.3BSD. Utilisation déconseillée, mais c'est utilisé par notre port de Netscape</li>
<li>COMPAT_11 - Compatibilité avec NetBSD 1.1</li>
<li>COMPAT_NOMID - Compatibilité avec les exécutables a.out qui n'ont pas d'identifiant de machine (id).
a371 1
<p></p>
d374 2
a375 2
Il est toujours utile de pouvoir mettre au point les problèmes avec
votre noyau. Mais de nombreuses personnes choisissent de pas mettre
d377 5
a381 5
considérable. Elles sont pourtant très utiles quand un bug est
présent. Cela permettra aux développeurs de trouver la source de vos
problèmes plus rapidement. Voici une liste des options de "debugging"
qui peuvent être ajoutées à votre noyau. 
</p>
d386 1
a386 1
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ddb&sektion=4&format=html">DDB</a>
d388 2
a389 1
toutes les plates-formes donc veuillez consulter le manuel avant de l'ajouter.</li>
d391 1
a391 1
href="http://www.openbsd.org/cgi-bin/man.cgi?query=gdb&sektion=1&format=html">KGDB</a>
d393 10
a402 8
caractéristique `remote target' de gdb.</li> 
<li>makeoptions  DEBUG="-g" - Créé bsd.gdb avec bsd. C'est très
pratique pour debugger un crashdump avec gdb.</li> 
<li>DEBUG - Utilisée pour placer diverses options de debug dans le
noyau où les sources les ont définies.</li> 
<li>KTRACE - Place des balises pour utiliser le système de suivi des
appels systèmes. Cela permet aux utilisateurs d'utiliser <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ktrace&sektion=1&format=html">ktrace(1)</a>.</li> 
d404 2
a405 2
contrôles logiques internes.</li> 
<li>GPROF - Ajoute du code dans le noyau pour examiner son profil à
d407 1
a407 1
href="http://www.openbsd.org/cgi-bin/man.cgi?query=kgmon&sektion=8&format=html">kgmon(8)</a>.</li> 
d409 2
a410 2
le noyau avec le support pour le profiling. L'option GPROF requiert
l'utilisation de cette option.</li> 
a411 1
<p></p>
d414 1
a414 1
<strong>Options des systèmes de fichiers.</strong>
d416 40
a455 32
<li>FFS - Berkeley Fast Filesystem <strong>REMARQUE :</strong> Cette option est indispensable</li>
<li>EXT2FS - Second Extended File System, nécessaire pour lire une partition Linux.</li>
<li>MFS - Memory File System, permet de stocker les fichiers en mémoire swap.</li>
<li>NFS - Network File System, nécessaire pour utiliser NFS.</li>
<li>CD9660 - Il s'agit du système de fichiers iso9660 + rockridge. Nécessaire pour lire les CD.</li>
<li>MSDOSFS - Nécessaire pour lire les systèmes de fichiers MS-DOS
FAT. Supporte aussi les noms long de Windows 95 et les caractères
minuscules/majuscules.</li> 
<li>FDESC - Inclus le code pour un système de fichiers qui peut être monté sur /dev/fd</li>
<li>KERNFS - Inclus le code qui permet de monter un système de fichiers
particulier (habituellement sur /kern) dans lequel les fichiers
représentent certaines variables et certains paramètres du noyau.</li> 
<li>NULLFS - Code pour avoir un système de fichiers bouclé. <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_null&sektion=8&format=html">mount_null(8)</a>
pour plus d'informations</li> 
<li>PROCFS - Inclus le code d'un système de fichiers particulier (habituellement sur /proc)</li>
<li>PORTAL - Inclus le système de fichiers portal (expérimental). Il
permet quelques petites astuces intéressantes telles que l'ouverture
d'une socket TCP par l'ouverture d'un fichier.</li> 
<li>UMAPFS - Inclus un système de fichiers bouclé dans lequel chaque
uid et gid peut-être redéfini. Cela peut-être pratique quand on monte
un système de fichiers étranger avec des uid et des gid différents de
ceux du système local (tel qu'un système de fichiers distant par
NFS).</li> 
<li>UNION - Inclus le code pour le système de fichiers union qui permet
aux répertoires d'être montés les un au dessus des autres de telle
façon que les deux systèmes de fichiers restent visibles. Ce code
n'est pas encore stable.</li> 
<li>XFS - Ajoute ce qu'il faut pour utiliser un système de fichiers
compatible avec le système de fichier AFS. Utilisé actuellement par le
code AFS/Arla.</li> 
<li>LFS - Système de fichiers pour journaux structurés.</li>
d457 14
a470 7
d'information sur les softupdates, veuillez lire la section <a
href="../faq14.html#SoftUpdates">FAQ Softupdates</a>.
<li>NFSSERVER - Permet d'inclure le code serveur de NFS dans le noyau.</li>
<li>NFSCLIENT - Permet d'inclure le code client de NFS dans le noyau.</li>
<li>FIFO - Support pour les FIFOs... RECOMMANDÉ.</li>
<li>NVNODE=entier - Où entier est la taille du cache utilisé par les routines de traduction "nom vers i-node (name-to-inode)" (tel que le cache namei(), bien que portant d'innombrables autres noms dans les sources du noyau).</li>
<li>EXT2FS_SYSTEM_FLAG - Cette fonction change le comportement des drapeaux (flags) APPEND et IMMUTABLE pour un fichier sur un système de fichiers EXT2FS. Veuillez consulter <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&sektion=4&format=html">options(4)</a> pour de plus amples détails.</li>
d472 1
a472 1
	veuillez lire la <a href="../faq10.html#Quotas">FAQ 10, Quotas</a></li>
a473 1
<p></p>
d478 3
a480 3
<li>PCIVERBOSE - Rend la procédure de démarrage plus verbeuse pour les périphériques PCI.</li>
<li>EISAVERBOSE - Rend la procédure de démarrage plus verbeuse pour les périphériques EISA.</li>
<li>PCMCIAVERBOSE - Rend la procédure de démarrage plus verbeuse pour les périphériques PCMCIA.</li>
d482 1
a482 2
processus utilisateur. Indispensable pour utiliser X.</li>
<li>XSERVER - Support pour le pilote de périphérique de la console X. Indispensable pour utiliser X.</li>
d485 11
a495 11
href="http://www.openbsd.org/cgi-bin/man.cgi?query=lkm&sektion=4&format=html">lkm(4)</a>
pour plus d'informations.</li> 
<li>INSECURE - Code (sans possibilité de changement) le niveau de
sécurité du noyau à -1. Lire <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&sektion=8&format=html">init(8)</a>
pour plus d'informations sur les niveaux de sécurité du noyau.</li> 
<li>RAM_DISK_HOOKS - Permet l'utilisation de fonctions dépendantes de
l'architecture quand le pilote ramdisk est configuré.</li> 
<li>RAM_DISK_IS_ROOT - Force le ramdisk à être root.</li>
<li>CCDNBUF=integer - Fixe le nombre de tampons mémoires utilisés par CCD(4). Le
défaut est 8. Pour plus d'informations sur CCD, veuillez lire la page du manuel
d497 2
a498 2
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccd&sektion=4&format=html">CCD(4)</a>,
ou la <a href="../faq11.html#ccd">section optimisation des performances de la FAQ.</a></li>
d500 3
a502 3
malloc(9). Si l'option DEBUG est utilisée, cette option est
automatiquement activée.</li> 
<li>BOOT_CONFIG - Active le support pour l'option de démarrage -c.</li>
d504 1
a504 1
<p></p>
d507 9
a515 9
<strong>Options réseau</strong><br>
Veuillez aussi consulter la<a href="../faq6.html">FAQ réseau</a> ou la
<a href="../faq11.html#Network">FAQ Optimisation des performances réseau</a>. 
<ul>
<li>GATEWAY - Active IPFORWARDING et (sur la plupart des ports) accroît la taille de NMBCLUSTERS.</li>
<li>NMBCLUSTERS=entier - Contrôle la taille des clusters de mbuf. </li>
<li>IPFORWARDING - Active le routage IP. Avec cette option, la machine transmettra les paquets IP entre ses interfaces qui sont destinés à d'autres machines.</li>
<li>MROUTING - Inclus le support pour les routeurs multicast IP.</li>
<li>INET - Inclus le support pour la pile de protocoles TCP/IP. Cette option est indispensable</li>
d518 2
a519 2
href="http://www.openbsd.org/cgi-bin/man.cgi?query=options&sektion=4&format=html">options(4)</a>
pour plus d'informations sur cette option.</li> 
d522 1
a522 1
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ns&sektion=4&apropos=0&manpath=OpenBSD+Current">ns(4)</a></li> 
d525 4
a528 4
href="http://www.openbsd.org/cgi-bin/man.cgi?query=iso&sektion=4&format=html">iso(4)</a>
pour plus d'informations.</li> 
<li>EON - Inclus le support pour les tunnels OSI dans IP.</li>
<li>CCITT,LLC,HDLC - Inclus le support pour la pile de protocoles X.25.</li>
d530 1
a530 1
Packet Exchange) principalement utilisé par Novell NetWare.</li> 
d532 6
a537 6
AppleTalk.</li> 
<li>TCP_COMPAT_42 - L'utilisation de cette option est particulièrement
déconseillée. Il s'agit de la compatibilité avec un bug de
4.2BSD. Dans 4.2BSD, les numéros de séquence étaient des entiers
signés de 32 bits. Les mises en oeuvre modernes utilisent des valeurs
non signées.</li> 
d539 2
a540 2
permet à un segment perdu d'être récupéré par "round trip time".</li> 
<li>TCP_SACK - Active les acquittements sélectifs.</li>
d542 3
a544 3
estimation plus précise des données en suspens durant la phase de
recouvrement rapide grâce à l'utilisation des informations SACK. Cette
option peut-être utilisée avec TCP_SACK.</li> 
d546 5
a550 5
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pcap&sektion=3&format=html">pcap(3)</a>
sur les connexions ppp.</li> 
<li>PPP_BSDCOMP - compression PPP BSD.</li>
<li>PPP_DEFLATE - Utilisé en conjonction avec PPP_BSDCOMP.
<li>IPSEC - Cette option active le support du protocole de sécurité
d552 3
a554 3
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ipsec&sektion=4&format=html">ipsec(4)</a>
pour plus de détails. Cette option implique l'option KEY, qui fournit
le support pour PFKEYv2.</li>  
d556 1
a556 1
de debug au cas où IPSEC rencontrerait des erreurs.</li> 
d558 1
a558 1
<p></p>
d561 1
a561 1
<strong>Options du sous-système SCSI</strong>
d563 2
a564 2
<li>SCSITERSE - Messages d'erreurs SCSI.  Les informations de décodage ASC/ASCQ sont omises ce qui permet de sauver environ 8 octets.</li>
<li>SCSIDEBUG - Afficher des informations de debug pour le sous-système SCSI à la console.</li>
d566 1
a566 1
<p></p>
d571 3
a573 3
<a name= "5.3"></a>
<h2>5.3 - Construire votre propre noyau</h2>
<p></p>
d576 1
a576 1
Toutes les instructions pour créer votre noyau sur mesure sont dans la
d578 1
a578 1
"http://www.openbsd.org/cgi-bin/man.cgi?query=afterboot&apropos=0&sektion=8&format=html"> 
d580 1
a580 1
</p>
d585 1
a585 1
  FTP</a>. Cet exemple suppose que le CD3 est monté sur /mnt. </p>
d587 1
a587 1
<ul>
d592 1
a592 1
</ul>
d595 1
a595 1
Maintenant pour créer votre noyau sur mesure, la manière la plus
d597 1
a597 1
<i>/usr/src/sys/arch/${arch}/conf/GENERIC</i>, où ${arch} est votre
d599 1
a599 1
répertoire. Voici deux exemples vous montrant comment compiler votre
d601 2
a602 3
sources en lecture seule. Le second correspond à des sources
accessibles en écriture.
</p>
d604 2
a605 1
<ul> 
d611 6
a616 18
<ul>
# <strong>make depend</strong> 
<ul>
(L'étape précédente est nécessaire si vous avez fait des changements
[comme des mises à jours ou des correctifs] dans les sources du
noyau. Cette étape peut-être ignorée si vous suivez l'étape suivante)
</ul>
<font size="+1">
<b><i>OR</i></b>
</font>
# <strong>make clean</strong>
<ul>
(L'étape ci-dessus est nécessaire si vous avez fait des changements
dans la configuration de votre noyau et elle est aussi recommandée si
vous avez fait une mise à jour majeure des sources. Vous pouvez
l'ignorer dans les autres cas et juste faire `make depend')
</ul>
</ul>
d619 16
a634 1
</ul>
d637 2
a638 2
Pour compiler un noyau avec des sources accessibles en écriture il faut effectuer les actions suivantes :
</p>
d640 3
a642 3
<ul>
<pre>
# <strong>cd /sys/arch/$ARCH/conf</strong>
d646 1
a646 1
"http://www.openbsd.org/cgi-bin/man.cgi?query=config&apropos=0&sektion=8&format=html">config(8)</a>) 
d649 2
a650 2
</pre>
</ul>
d653 4
a656 4
Où $ARCH est l'architecture que vous utilisez (par exemple i386). Vous
pouvez aussi faire un <strong>make depend</strong> pour créer les
dépendances pour la prochaine compilation de votre noyau. 
</p>
d659 2
a660 2
Déplacer votre noyau à sa place.
</p>
d662 1
a662 1
<ul>
d667 1
a667 1
</ul>
d670 2
a671 2
Pour démarrer avec votre ancien noyau au démarrage, il suffit juste de faire ceci
</p>
d673 1
a673 1
<ul>
d675 1
a675 1
boot> <strong>bsd.old</strong>
d677 1
a677 1
</ul>
d680 2
a681 2
votre ancien noyau sera chargé à la place de /bsd.
</p>
d685 1
a685 1
installer de nouveaux blocs de démarrage. Pour ce faire, lisez <a
d688 1
a688 1
</p>
d692 3
a694 3
<a name="5.4"></a> 
<h2>5.4 - Configuration au démarrage</h2>
<p></p>
d697 9
a705 9
Parfois lorsque vous démarrez votre système vous remarquerez que
votre noyau trouve vos périphériques mais à la mauvaise IRQ. Et
avez-vous immédiatement besoin de ce
périphérique. Sans recompiler votre noyau vous pouvez utiliser la
configuration au démarrage de celui-ci. Cela permettra de corriger
votre problème pour cette fois et uniquement pour cette fois. Si vous
redémarrez le système il faudra recommencer la procédure. Il s'agit
donc d'une méthode temporaire. Le problème devra être corrigé en
recompilant votre noyau. De plus votre noyau à besoin de
d707 2
a708 2
noyau. Le noyau GENERIC possède cette option.  
</p>
d711 1
a711 1
Une grande partie de ce document peut-être trouvé dans la page du
d713 1
a713 2
href="http://www.openbsd.org/cgi-bin/man.cgi?query=boot_config&apropos=0&sektion=8&format=html">boot_config(8)</a> 
</p>
a714 1
Pour démarrer avec UKC (User Kernel Config), il faut spécifier l'option -c au démarrage.
d716 1
a716 3
<ul><pre>
boot> <strong>boot wd0a:/bsd -c</strong>
</pre></ul>
d718 3
a720 6
<p>
Où n'importe quel autre noyau que vous voulez démarrer. L'invite de
commandes UKC apparaîtra. De là vous pourrez spécifier au noyau les
périphériques que vous désirez modifier, ceux que vous voulez activer
ou désactiver.
</p>
d723 4
a726 2
Voici un liste des commandes les plus utilisées dans UKC.
</p>
a727 4
<CODE>
<p>
add <strong>device</strong> - Ajoute un périphérique en en copiant un autre
</p>
d730 1
a730 2
change <strong>devno | device </strong> - Modifie un ou plusieurs périphériques
</p>
a731 3
<p>
disable <strong>devno | device </strong> - Désactive un ou plusieurs périphériques
</p>
d733 11
a743 19
<p>
enable <strong>devno | device </strong> - Active un ou plusieurs périphériques
</p>

<p>
find <strong>devno | device </strong> - Trouver un ou plusieurs périphériques
</p>

<p>
help - Rapide sommaire de ces commandes
</p>

<p>
list - Liste TOUS les périphériques connus
</p>

<p>
exit/quit - Continue le démarrage
</p>
d746 2
a747 6
show <strong>[attr [val]]</strong> - Montre les périphériques avec un attribut et une valeur spécifiée optionnelle
</p></CODE>

<p>
Une fois que votre périphérique est configuré, utilisez quit ou exit
pour continuer à démarrer. Après avoir fait ceci, vous devriez
d751 1
a751 1
</p>
d755 3
a757 3
<a name="5.5"></a>
<h2>5.5 - Avoir plus d'informations pendant le démarrage</h2>
<p></p>
d760 5
a764 5
Obtenir plus d'informations pendant le démarrage peut-être très
pratique lorsque vous essayez de régler certains problèmes lors de
celui-ci. Si vous avez un problème et que vous aimeriez avoir plus
d'informations, redémarrez votre machine. Quand vous obtenez l'invite
&quot;boot>&quot; démarrez avec l'option -c. L'invite UKC> apparaîtra
a765 1
</p>
d768 3
a770 2
<ul><pre>
UKC> <strong>verbose</strong>
d772 1
a772 1
UKC> <strong>quit</strong>
d776 2
a777 2
Vous obtiendrez un démarrage extrêmement verbeux.
</p>
d781 3
a783 3
<a name="5.6"></a>
<h2>5.6 - Utilisation de config(8) pour changer le binaire du noyau</h2>
<p></p>
d786 2
a787 2
href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8&format=html">config(8)</a>. 
  Ces options peuvent être très utiles et vous évitent de perdre du temps à recompiler 
d789 4
a792 4
  alors que le système fonctionne. Les changements prendront effets au prochain 
  redémarrage. Le drapeau <b>-u</b> permet de voir si des changements ont été 
  effectués au noyau pendant le démarrage, signifiant que vous avez utilisé <b>boot 
  -c</b> pour entrer en configuration UKCi. </p>
d795 4
a798 4
Les exemples suivants montrent la désactivation des périphériques ep*
dans le noyau. Pour plus de sécurité, il est préférable d'utiliser
l'option <b>-o</b> qui écrira les changements dans un fichier
spécifié. Par exemple <strong>config -e -o bsd.new /bsd</strong> écrira
d800 1
a800 1
<b>-o</b>, mais les changements sont ignorés et non écrit dans le
d803 1
a803 3
href="http://www.openbsd.org/cgi-bin/man.cgi?query=config&sektion=8&format=html">config(8)</a>
</p>

d807 2
a808 2
OpenBSD 3.1 (GENERIC) #2: Sat Apr 20 21:44:54 EDT 2002
    root@@build:/usr/src/sys/arch/i386/compile/GENERIC
d811 57
a867 10
ukc&gt; ?<br>        help                            Command help list<br>        add         dev                 Add a device<br>        base        8|10|16             Base on large numbers<br>        change      devno|dev           Change device<br>        disable     attr val|devno|dev  Disable device<br>        enable      attr val|devno|dev  Enable device<br>        find        devno|dev           Find device<br>        list                            List configuration<br>        lines       count               # of lines per page<br>        show        [attr [val]]        Show attribute<br>        exit                            Exit, without saving changes<br>        quit                            Quit, saving current changes<br>        timezone    [mins [dst]]        Show/change timezone<br>        nmbclust    [number]            Show/change NMBCLUSTERS<br>        cachepct    [number]            Show/change BUFCACHEPERCENT<br>        nkmempg     [number]            Show/change NKMEMPAGES<br>        shmseg      [number]            Show/change SHMSEG<br>        shmmaxpgs   [number]            Show/change SHMMAXPGS<br>ukc&gt; <b>list</b><br> 0 audio* at sb0|sb*|gus0|pas0|sp0|ess*|wss0|wss*|ym*|eap*|eso*|sv*|ne*|cmpci*|clcs*|clct*|auich*|autri*|auvia*|fms*|uaudio*|maestro*|esa*|yds*|emu* flags 0x0
  1 midi* at sb0|sb*|opl*|opl*|opl*|opl*|ym*|mpu*|autri* flags 0x0<br>  2 nsphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
  3 nsphyter* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
  4 qsphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
  5 inphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
  6 iophy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
  7 eephy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
  8 exphy* at aue*|xe*|ef*|gx*|stge*|bge*|nge*|sk*|ste*|sis*|sf*|wb*|tx*|tl*|vr*|ne0|ne1|ne2|ne*|ne*|ne*|dc*|dc*|rl*|fxp*|fxp*|xl*|xl*|ep0|ep0|ep0|ep*|ep*|ep*|ep*|ep* phy -1 flags 0x0
  [...snip...]<br>ukc> <strong>disable ep</strong><br> 65 ep0 disabled<br> 66 ep* disabled<br> 67 ep* disabled<br>149 ep0 disabled<br>150 ep0 disabled<br>151 ep* disabled<br>152 ep* disabled<br>202 ep* disabled<br>ukc&gt; <b>quit</b><br>not forced<br></pre>
</ul>
d869 11
a879 9
<p> Dans l'exemple ci-dessus, tous les périphériques ep* sont d&eacute;sactiv&eacute;s 
  du noyau et ne seront donc pas testés. Dans certaines situations où vous aurez 
  effectué ces changements au démarrage avec UKC et <b>boot -c</b>, il vous faudra 
  les rendre définitifs. Pour ce faire, il faudra utiliser l'option <b>-u</b>. 
  Dans l'exemple suivant, l'ordinateur a été démarré avec UKC et les périphériques 
  wi(4) sont désactivés. Ètant donné que les changements fait par boot -c ne sont 
  pas permanents, ceux-ci doivent être écrits sur le disque. Cet exemple montre 
  comment écrire les changements effectués par boot -c dans un nouveau binaire 
  noyau bsd.new. </p>
d881 1
a881 2
<ul>
  <pre>
d889 2
a890 3
ukc> <strong>quit</strong>
</pre>
</ul>
d895 3
a897 3
<a href= "index.html">[Retour à l'Index principal]</a>
<a href= "faq4.html">[To Section 4.0 - Guide d'installation]</a>
<a href= "../faq6.html">[To Section 6.0 - Réseau]</a>
a898 1
</p>
d905 2
a906 4
Originally [OpenBSD: faq5.html,v 1.59 ]
<br>
$Translation: faq5.html,v 1.16 2002/07/30 07:06:27 jufi Exp $
<br>
d909 1
a909 1
<p></p>
@


1.11
log
@
sync with badlands translation CVS
@
text
@d644 7
a650 2
<small> Originally [OpenBSD: faq5.html,v 1.59 2002/05/20 01:03:28 nick Exp ]<br>
$Translation: faq5.html,v 1.15 2002/05/27 05:52:03 saad Exp $ $OpenBSD$ </small> 
@


1.10
log
@
sync with badlands translation CVS
@
text
@d17 1
a17 1
</p>
d28 1
a28 1
</p>
d36 1
a36 1
</p>
d51 1
a51 1
</p>
d67 1
a67 1
</p>
d101 1
a101 1
</p>
d148 1
a148 1
</p>
d186 1
a186 1
</p>
d234 1
a234 1
</p>
d266 1
a266 1
</p>
d320 1
a320 1
</p>
d328 1
a328 1
</p>
d335 1
a335 1
</p>
d344 4
a347 7
<p>
Pour compiler votre noyau depuis le cdrom vous aurez tout d'abord
besoin d'avoir le code source. Vous aurez juste besoin des sources du
noyau pour pouvoir le compiler et celles-ci se trouvent sur le
CD. Voici comment copier les sources depuis le CD. Cet exemple suppose
que le CD1 est monté sur /mnt. 
</p>
d351 2
a352 3
# <strong>mkdir -p /usr/src/sys</strong>
# <strong>cd /mnt/sys</strong>
# <strong>tar cf - . | ( cd /usr/src/sys; tar xvf - )</strong>
d453 1
a453 1
</p>
d541 1
a541 1
</p>
d567 1
a567 1
</p>
d569 1
a569 3
<p>
Avec la version 2.6 sont apparues les options <b>-e</b> et <b>-u</b>
dans <a
d571 6
a576 8
Ces options peuvent être très utiles et vous évitent de perdre du
temps à recompiler votre noyau. Le drapeau (flag) <b>-e</b> vous
permet de rentrer en configuration UKC alors que le système
fonctionne. Les changements prendront effets au prochain
redémarrage. Le drapeau (flag) <b>-u</b> permet de voir si des
changements ont été effectués au noyau pendant le démarrage, signifiant que
vous avez utilisé <b>boot -c</b> lors de celui-ci. 
</p>
d590 2
a591 1
<ul><pre>
d593 2
a594 2
OpenBSD 2.6 (GENERIC) #1: Tue Nov 16 21:25:10 EST 1999
    ericj@@oshibana:/usr/src/sys/arch/i386/compile/GENERIC
d597 20
a616 46
ukc> <strong>?</strong>
        help                            Command help list
        add     dev                     Add a device
        base    8|10|16                 Base on large numbers
        change  devno|dev               Change device
        disable attr val|devno|dev      Disable device
        enable  attr val|devno|dev      Enable device
        find    devno|dev               Find device
        list                            List configuration
        lines   count                   # of lines per page
        show    [attr [val]]            Show attribute
        exit                            Exit, without saving changes
        quit                            Quit, saving current changes
ukc> <strong>list</strong>
  0 audio* at sb0|sb*|gus0|pas0|sp0|ess*|wss0|wss*|ym*|eap*|eso*|sv*
  1 midi* at sb0|sb*|opl*|opl*|opl*|ym*|mpu*
  2 nsphy* at xe*|ef*|sf*|xl*|tl*|rl*|fxp* phy -1
  3 inphy* at xe*|ef*|sf*|xl*|tl*|rl*|fxp* phy -1
  4 iophy* at xe*|ef*|sf*|xl*|tl*|rl*|fxp* phy -1
  5 exphy* at xe*|ef*|sf*|xl*|tl*|rl*|fxp* phy -1
  6 rlphy* at xe*|ef*|sf*|xl*|tl*|rl*|fxp* phy -1
  7 icsphy* at xe*|ef*|sf*|xl*|tl*|rl*|fxp* phy -1
  8 sqphy* at xe*|ef*|sf*|xl*|tl*|rl*|fxp* phy -1
  9 ukphy* at xe*|ef*|sf*|xl*|tl*|rl*|fxp* phy -1
 10 scsibus* at bt0|bt1|bt2|aha0|aha1|aha*|ahb*|ahc0|ahc*|ahc*|isp*|aic0|aic*|ncr*|adv*|adw*|sea0|uha0|uha1|uha*|wds0|atapiscsi*
 11 cd* at scsibus* target -1 lun -1
 12 ch* at scsibus* target -1 lun -1
 13 sd* at scsibus* target -1 lun -1
 14 st* at scsibus* target -1 lun -1
 15 ss* at scsibus* target -1 lun -1
 16 uk* at scsibus* target -1 lun -1
 17 atapiscsi* at wdc0|wdc1|wdc*|wdc*|pciide* channel -1
--- more ---   
[snip]
ukc> <strong>disable ep</strong>
 31 ep0 disabled
 32 ep* disabled
 33 ep* disabled
 87 ep0 disabled
 88 ep0 disabled
 89 ep* disabled
 90 ep* disabled
136 ep* disabled
ukc> <strong>quit</strong>
not forced
</pre></ul>
d618 2
a619 14
<p>
Dans l'exemple ci-dessus, tous les périphériques ep* sont enlevés du
noyau et ne seront donc pas testés. Dans certaines situations où vous
aurez effectué ces changements au démarrage avec UKC et <b>boot
-c</b>, il vous faudra les rendre définitifs. Pour ce faire, il faudra
utiliser l'option <b>-u</b>. Dans l'exemple suivant, l'ordinateur a
été démarré avec UKC et les périphériques wi(4) sont désactivés. Ètant
donné que les changements fait par boot -c ne sont pas permanents,
ceux-ci doivent être écrits sur le disque. Cet exemple montre comment
écrire les changements effectués par boot -c dans un nouveau binaire
noyau bsd.new.
</p>

<ul><pre>
d621 2
a622 2
OpenBSD 2.6 (GENERIC) #1: Tue Nov 16 21:25:10 EST 1999
    ericj@@oshibana:/usr/src/sys/arch/i386/compile/GENERIC
d624 2
a625 1
151 wi* disabled
d628 2
a629 1
</pre></ul>
d644 3
a646 6
<small>
Originally [OpenBSD: faq5.html,v 1.57 2002/03/20 03:54:33 nick Exp ]<br>
$Translation: faq5.html,v 1.14 2002/04/13 14:47:44 jbm Exp $
$OpenBSD$
</small>
</p>
@


1.9
log
@
sync with badlands translation CVS.
@
text
@d688 2
a689 2
Originally [OpenBSD: faq5.html,v 1.56 2002/02/20 03:09:02 nick Exp ]<br>
$Translation: faq5.html,v 1.13 2002/03/08 21:06:02 jbm Exp $
@


1.8
log
@
sync with badlands translation CVS
@
text
@a306 7
<li>IPFILTER - Cette option active le filtrage IP au niveau paquet en
utilisant le logiciel ipfilter.</li> 
<li>IPFILTER_LOG - Cette option, utilisée en conjonction avec
IPFILTER, active la journalisation des paquets IP avec ipfilter.</li> 
<li>IPFILTER_DEFAULT_BLOCK - Cette option définit la politique par
défaut d'ipfilter. Si cette option est activée, ipfilter bloquera tous
les paquets par défaut.</li> 
d688 2
a689 2
Originally [OpenBSD: faq5.html,v 1.55 2002/01/25 03:44:01 nick Exp ]<br>
$Translation: faq5.html,v 1.12 2002/02/13 22:46:53 jbm Exp $
@


1.7
log
@
sync with badlands translation CVS.
@
text
@d9 1
a9 1
<meta name= "copyright"     content= "This document copyright 1998-2001 by OpenBSD.">
d223 3
a225 1
<li>FFS_SOFTUPDATES - Permet l'utilisation des softupdates. Pour plus d'information sur les softupdates, veuillez lire la section <a href="../faq14.html#14.5">FAQ Softupdates</a>.
d231 2
a232 1
<li>QUOTA - Support des quotas. Pour plus d'informations sur les quotas, veuillez lire la <a href="../faq10.html#10.10">FAQ 10</a></li>
d256 5
a260 1
<li>CCDNBUF=integer - Fixe le nombre de tampons mémoires utilisés par CCD(4). Le défaut est 8. Pour plus d'informations sur CCD, veuillez lire la page du manuel <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ccd&sektion=4&format=html">CCD(4)</a>, ou la section optimisation des performances de la<a href="../faq11.html#11.2">FAQ.</a></li>
d271 1
a271 2
FAQ <a href="../faq11.html#11.1">Optimisation des performances
réseau</a>. 
d283 2
a284 2
XNS. Voir<A
HREF="http://www.openbsd.org/cgi-bin/man.cgi?query=ns&sektion=4&apropos=0&manpath=OpenBSD+Current">ns(4)</a></li> 
d456 2
a457 2
href="../faq14.html#14.8">la FAQ14.8 sur le bootloader OpenBSD</a>, qui
vous donnera toutes les informations sur celui-ci. 
d544 1
a544 1
nouveau. Voir <a href="faq5.html#5.3">Construire votre propre
d695 2
a696 2
Originally [OpenBSD: faq5.html,v 1.53 2002/01/13 00:00:32 ericj Exp ]<br>
$Translation: faq5.html,v 1.11 2002/01/13 20:18:41 jbm Exp $
@


1.6
log
@
sync with badlands translation CVS.
@
text
@d12 1
a12 1
<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">
d21 6
a26 6
<li><a href= "faq5.html#5.1">5.1 - Pourquoi est-ce que j'ai besoin de faire un noyau sur mesure ?</a></li>
<li><a href= "faq5.html#5.2">5.2 - Options de configuration du noyau</a></li>
<li><a href= "faq5.html#5.3">5.3 - Construire votre propre noyau</a></li>
<li><a href= "faq5.html#5.4">5.4 - Configuration au démarrage</a></li>
<li><a href= "faq5.html#5.5">5.5 - Avoir plus d'informations pendant le démarrage</a></li>
<li><a href= "faq5.html#5.6">5.6 - Utilisation de config(8) pour changer le binaire du noyau</a>
d33 1
d64 1
d332 3
a334 1
<p> <a name= "5.3"></a>
d455 1
d542 2
d546 1
a546 1

d568 2
d572 1
d689 2
a690 2
Originally [OpenBSD: faq5.html,v 1.51 2001/09/03 15:37:01 mickey Exp ]<br>
$Translation: faq5.html,v 1.10 2001/09/04 19:07:43 jbm Exp $
@


1.5
log
@
copyright extended
@
text
@a247 2
<li>MACHINE_NONCONTIG - Change certaines parties de l'interface
VM/pmap, pour permettre l'utilisation de mémoire non contiguë.</li> 
d679 2
a680 2
Originally [OpenBSD: faq5.html,v 1.50 2001/08/25 09:31:33 jufi Exp ]<br>
$Translation: faq5.html,v 1.9 2001/08/25 19:08:10 jbm Exp $
@


1.4
log
@
sync with badlands translation CVS, work by Jean-Baptiste Marchand
@
text
@d9 1
a9 1
<meta name= "copyright"     content= "This document copyright 1998-2000 by OpenBSD.">
d680 3
a682 2
<small>Originally [OpenBSD: faq5.html,v 1.49 2001/08/08 21:06:32 jsyn Exp ]<br>
$Translation: faq5.html,v 1.8 2001/08/21 23:07:49 jbm Exp $
@


1.3
log
@MACHINE_NONCONTIG is not really a tunable, and definately
not suitable for kernel config, especially for
MACHINE_NEW_NONCONTIG architectures.
@
text
@d224 1
a224 1
<li>FIFO - Support pour les FIFO... RECOMMANDÉ.</li>
d248 2
a319 17
<li>TCP_SIGNATURE - Signatures MD5 TCP, pour les sessions de routage
BGP.</li> 
</ul>
</p>

<p>
<strong>Options PCVT</strong> (<i>seulement pour l'architecture i386</i>)
<ul>
<li>PCVT_NSCREENS=entier - Nombre d'écrans pcvt. Défaut à 8.</li>
<li>PCVT_VT220KEYB - Si activé, un clavier ressemblant au DEC VT200 (TM) est généré.</li>
<li>PCVT_SCREENSAVER - Active l'utilisation de l'économiseur d'écran. Activé par défaut.</li>
<li>PCVT_PRETTYSCRNS - Si activé, un économiseur avec des étoiles clignotantes est utilisé. Désactivé par défaut.</li>
<li>PCVT_CTRL_ALT_DEL - Si activé, la combinaison de touches &lt;Ctrl&gt; &lt;Alt&gt; &lt;Del&gt; provoque un reset du processeur. Désactivé par défaut.</li>
<li>PCVT_USEKBDSEC - Ne PAS écraser le verrouillage de sécurité du clavier. Activé par défaut.</li>
<li>PCVT_24LINESDEF - Si activé, le mode 25 lignes (émulation VT avec 25 lignes, et émulation HP avec 28 lignes) sera par défaut à 24 lignes pour fournir une meilleure compatibilité avec DEC VT220 (TM).</li>
<li>PCVT_EMU_MOUSE - Émule une souris trois boutons avec le keypad. Pratique pour les portables qui utilise XFree86. Désactivé par défaut.</li>
<li>PCVT_META_ESC - Si activé, une séquence composée de &lt;esc&gt;, suivi du code normal de la touche est émis si la touche est pressée avec le modificateur &lt;Alt&gt;. Si désactivé, le code normal de la touche plus la valeur 0x80 est envoyé. Désactivé par défaut.</li>
d494 1
d496 1
a496 1
<CODE>add <strong>device</strong> - Ajoute un périphérique en en copiant un autre
d557 1
a557 1
</ul></pre>
d642 1
a642 1
</ul></pre>
d665 1
a665 1
</ul></pre>
d680 3
a682 3
<small>Originally [OpenBSD: faq5.html,v 1.45 2000/09/17 19:56:18 ericj Exp ]<br>
$Translation: faq5.html,v 1.7 2000/11/07 15:36:42 jjbg Exp $
$OpenBSD: faq5.html,v 1.2 2000/11/07 16:42:41 jufi Exp $
@


1.2
log
@
 Sync with Badlands Translation CVS. Work by jjbg.
@
text
@a247 2
<li>MACHINE_NONCONTIG - Change certaines parties de l'interface
VM/pmap, pour permettre l'utilisation de mémoire non contiguë.</li> 
d696 1
a696 1
$OpenBSD$
@


1.1
log
@Sync with Badlands CVS. Initial translation of FAQ by jjbg.
@
text
@d105 1
a105 1
Cela signifie que l'on fait référence à un autre fichier de
d169 1
a169 2
pratique pour debugger un crashdump avec gdb. REMARQUE : cette
option active aussi l'option <strong>option DEBUG</strong></li> 
d256 1
a256 1
automatiquement désactivée.</li> 
d334 1
a334 1
<li>PCVT_24LINESDEF - Si activé, le modi de 25 lignes (émulation VT avec 25 lignes, et émulation HP avec 28 lignes) sera par défaut à 24 lignes pour fournir une meilleure compatibilité avec DEC VT220 (TM).</li>
d696 2
a697 2
<small>Originally [OpenBSD: faq5.html,v 1.44 2000/05/14 21:24:25 chris Exp ]<br>
$Translation: faq5.html,v 1.6 2000/08/09 15:50:55 jjbg Exp $
@

