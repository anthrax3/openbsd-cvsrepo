head	1.40;
access;
symbols;
locks; strict;
comment	@# @;


1.40
date	2016.08.15.02.22.14;	author tb;	state Exp;
branches;
next	1.39;
commitid	3DeixV5YkPOb78RN;

1.39
date	2016.04.15.20.39.49;	author tb;	state Exp;
branches;
next	1.38;
commitid	jwteSMEb4rFzI8UA;

1.38
date	2016.04.09.22.55.45;	author tb;	state Exp;
branches;
next	1.37;
commitid	Wgx2QsAm21an230r;

1.37
date	2016.03.27.19.52.09;	author sthen;	state Exp;
branches;
next	1.36;
commitid	hi2ObFv9LGB98JY5;

1.36
date	2016.03.22.10.54.48;	author sthen;	state Exp;
branches;
next	1.35;
commitid	cyODCFvIgxpUoVc0;

1.35
date	2016.03.21.05.46.21;	author beck;	state Exp;
branches;
next	1.34;
commitid	zEx6zFkNSFFExu0v;

1.34
date	2016.02.25.20.58.00;	author tj;	state Exp;
branches;
next	1.33;
commitid	meXmm6pusQ2lZ39V;

1.33
date	2015.07.08.01.11.32;	author nick;	state Exp;
branches;
next	1.32;
commitid	QIEEnBvMxTNfvnfo;

1.32
date	2015.07.02.05.49.04;	author bentley;	state Exp;
branches;
next	1.31;
commitid	AP3UllesavMDEUhQ;

1.31
date	2015.05.11.11.18.30;	author sthen;	state Exp;
branches;
next	1.30;
commitid	wRrXxcro6dFYiwF8;

1.30
date	2014.03.31.01.47.54;	author nick;	state Exp;
branches;
next	1.29;

1.29
date	2007.11.01.02.17.10;	author nick;	state Exp;
branches;
next	1.28;

1.28
date	2007.05.10.01.32.26;	author nick;	state Exp;
branches;
next	1.27;

1.27
date	2007.05.04.10.52.10;	author steven;	state Exp;
branches;
next	1.26;

1.26
date	2007.04.30.04.12.21;	author nick;	state Exp;
branches;
next	1.25;

1.25
date	2007.04.25.02.53.30;	author nick;	state Exp;
branches;
next	1.24;

1.24
date	2007.04.24.12.03.43;	author kili;	state Exp;
branches;
next	1.23;

1.23
date	2007.04.24.10.37.34;	author kili;	state Exp;
branches;
next	1.22;

1.22
date	2007.04.12.23.52.51;	author nick;	state Exp;
branches;
next	1.21;

1.21
date	2007.04.07.14.47.00;	author nick;	state Exp;
branches;
next	1.20;

1.20
date	2007.03.19.01.18.10;	author nick;	state Exp;
branches;
next	1.19;

1.19
date	2007.03.19.00.12.23;	author nick;	state Exp;
branches;
next	1.18;

1.18
date	2007.03.18.22.42.35;	author nick;	state Exp;
branches;
next	1.17;

1.17
date	2007.03.18.22.00.11;	author nick;	state Exp;
branches;
next	1.16;

1.16
date	2007.03.18.19.51.11;	author nick;	state Exp;
branches;
next	1.15;

1.15
date	2007.03.17.06.25.40;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2007.03.16.02.12.35;	author nick;	state Exp;
branches;
next	1.13;

1.13
date	2007.03.16.01.15.54;	author nick;	state Exp;
branches;
next	1.12;

1.12
date	2007.03.15.15.25.52;	author henning;	state Exp;
branches;
next	1.11;

1.11
date	2007.03.15.15.23.31;	author henning;	state Exp;
branches;
next	1.10;

1.10
date	2007.03.15.15.05.13;	author henning;	state Exp;
branches;
next	1.9;

1.9
date	2007.03.15.10.46.58;	author nick;	state Exp;
branches;
next	1.8;

1.8
date	2007.03.15.02.03.55;	author nick;	state Exp;
branches;
next	1.7;

1.7
date	2007.03.07.12.01.56;	author nick;	state Exp;
branches;
next	1.6;

1.6
date	2007.03.04.03.09.08;	author nick;	state Exp;
branches;
next	1.5;

1.5
date	2007.03.04.02.13.31;	author nick;	state Exp;
branches;
next	1.4;

1.4
date	2007.03.02.14.07.52;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2007.03.01.14.28.40;	author joel;	state Exp;
branches;
next	1.2;

1.2
date	2007.02.28.03.25.23;	author nick;	state Exp;
branches;
next	1.1;

1.1
date	2007.02.28.03.18.37;	author nick;	state Exp;
branches;
next	;


desc
@@


1.40
log
@tls on openbsd.org is now real:
- link to https://www.openbsd.org from the sub-projects' pages
- make internal links relative
- switch link rel=canonical to https to please some search engines
"go ahead" from beck, "do it!!!!" tj
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>OpenBSD Upgrade Guide: 4.0 to 4.1</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="description"   content="OpenBSD Upgrade Process for 4.0 to 4.1">
<meta name="copyright"     content="This document copyright 2007 by OpenBSD">
<meta name="viewport"      content="width=device-width, initial-scale=1">
<link rel="stylesheet"     type="text/css" href="../openbsd.css">
<link rel="canonical"      href="https://www.openbsd.org/faq/upgrade41.html">
</head>

<body bgcolor="#ffffff" text="#000000">

<h2>
<a href="../index.html">
<font color="#0000ff"><i>Open</i></font><font color="#000084">BSD</font></a>
<font color="#e00000">Upgrade Guide: 4.0 to 4.1</font>
</h2>
<hr>
<p>
<a href="index.html">[FAQ Index]</a> |
<a href="upgrade40.html">[3.9 -> 4.0]</a> |
<a href="upgrade42.html">[4.1 -> 4.2]</a>

<p>

<i>Note: Upgrades are only supported from one release to the release
immediately following it.
Do not skip releases.</i>

<p><i>
It is highly recommended that you read through and fully understand
this process before attempting it.
If you are doing it on a critical or physically remote machine, it is
recommended that you test this process on an identical, local system to
verify its success before attempting on a critical or remote computer.
</i>

<p>
Upgrading is a convenient way to bring your OpenBSD system up to the most
recent version.
However, the results are not intended to precisely match the results of
a wipe-and-reload installation.
Old library files in particular are not removed in the upgrade process,
as they may be required by older applications that may or may not be
upgraded at this time.
If you REALLY wish to get rid of all these old files, you are probably
better off reinstalling from scratch.

<p>
Table of Contents:
<ul>
<li><a href="#before">Before upgrading</a>
<li><a href="#upgrade">The upgrade process</a>
<li><a href="#final">Final steps</a>
</ul>

<hr>
<p>
<h2 id="before">Before upgrading</h2>

<p>
Check whether you have made any modifications to your kernel.
For example, you might have modified your network device to use a non-default
setting using config(8).
Note your changes, so you can repeat them for the new 4.1 kernel.

<p>
<b>rc.conf:</b>
Unlike previous versions of this process, it is now assumed that
<tt>/etc/rc.conf</tt> is not a user-altered file.
If you have made changes to your <tt>/etc/rc.conf</tt> file, merge those
changes into <tt>/etc/rc.conf.local</tt>.
If you have NO <tt>/etc/rc.conf.local</tt>, simply copy your existing
<tt>/etc/rc.conf</tt> file to <tt>/etc/rc.conf.local</tt> and
<i>delete the last line of the script!</i>
Otherwise, pull your existing <tt>rc.conf</tt> into the top of your
existing <tt>rc.conf.local</tt> file <i>and remove the last line</i>
before doing the rest of this process.

<p>
<b><i>Special note for ARM users (<a href="../armish.html">armish</a>,
<a href="../zaurus.html">zaurus</a>):</i></b>
Changes in the ABI requires a slightly different upgrade process if not
using standard install kernel.
Do not reboot after installing the kernel and before installing the new
userland.

<p>
<hr>
<h2 id="upgrade">The upgrade process</h2>

<h3>Upgrading by install kernel</h3>
If you have access to the system's console, the easiest and safest way
to upgrade is to boot from install media or
<a href="faq4.html#bsd.rd">bsd.rd</a> and follow the upgrade steps,
which are very similar to the <a href="faq4.html">install process</a>.
Afterwards, complete the upgrade by following the <a href="#final">final
steps</a> as detailed below.

<p>
One easy way to boot from the install kernel is to place the 4.1 version
of <i>bsd.rd</i> in the root of your boot drive, then instruct the boot loader
to boot using this new <i>bsd.rd</i> file.
On amd64 and i386, you do this by entering "<tt>boot bsd.rd</tt>" at the
initial <tt>boot&gt;</tt> prompt.

<h3>Upgrading without install kernel</h3>
<i>This is NOT the recommended process.  Use the install kernel method
if at all possible!</i>

<p>
Sometimes, one needs to do an upgrade of a machine when one can't easily
use the normal upgrade process.
The most common case is when the machine is in a remote location and you
don't have easy access to the system console.
One can usually do this by carefully following this process:

<ul>
<li><b>Place install files in a "good" location</b>.
Make sure you have sufficient space!

<p>
<li><b>Stop any "insecure" applications from starting at boot:</b>
There will be a time when PF will be unlikely to be running during this
upgrade process, but your applications may still start and run properly.
Any application dependent upon PF for security should be disabled
before this happens, and should not be re-enabled until proper PF
operation is verified after upgrade.
There may be other applications which you wish to keep from running
during the upgrade, stop and disable them as well.

<p>
<li><b>Check the kernel:</b>
Although <b>most people can skip this step</b>, if you had a modified kernel
in 4.0, it is likely you will need to modify the stock kernel of 4.1.
Especially when you are performing the upgrade process remotely, now is
the time to make sure the new kernel will work upon rebooting the machine.
If any changes must be made to the kernel, the safest thing to do is to
make those changes on a local 4.1 system.
This can be as simple as modifying a specific device using config(8),
or it can involve a recompilation if the option you need is not included
in the GENERIC kernel.
Please consult <a href="faq5.html">FAQ 5 - Building the system from source</a>
before considering to recompile your kernel.

<p>
<li><b>Install new kernel(s)</b>
<blockquote><pre>
<b>export RELEASEPATH=</b><i>/usr/rel</i>   <i># where you put the files</i>
<b>cd ${RELEASEPATH}</b>
<b>rm /obsd ; ln /bsd /obsd && cp bsd /nbsd && mv /nbsd /bsd</b>
<b>cp bsd.rd bsd.mp /</b>
</pre></blockquote>

Note the extra steps for copying over the primary kernel: those are done
to ensure that there is always a valid copy of the kernel on the disk
that the system can boot from should there be a really badly timed power
outage or system crash.

<p>
<li><b>Install new <tt>/etc/firmware</tt> files:</b>
Due to the fact that some uploaded "firmware" files may have been updated,
you may need to update the files in the <tt>/etc/firmware</tt> directory.
This will impact users of only a few devices, though all users can use
this step without harm.
To extract the firmware files from <tt>base41.tgz</tt>, use the
following as root:

<blockquote><pre>
<b>cd /</b>
<b>tar -C / -xzpf ${RELEASEPATH}/base41.tgz ./etc/firmware</b>
</pre></blockquote>

<p>
<li><b>Reboot on the new kernel: (NOT for ARM users)</b>
This might be a tempting step to skip, but it should be done now, as
usually, the new kernel will run old userland apps (such as the soon to
be important <tt>reboot</tt>!), but often a new userland will NOT
work on the old kernel.

<p>
<i><b>Note:</b> ARM users (armish/zaurus) SHOULD skip this step for
this upgrade cycle.</i>

<p>
<li><b>Install new userland applications.</b>
<i>Do NOT install <tt>etc41.tgz</tt> and <tt>xetc41.tgz</tt> now, because
that will overwrite your current configuration files!</i>

<blockquote><pre>
<b>export RELEASEPATH=</b><i>/usr/rel</i>
<b>cd ${RELEASEPATH}</b>
<b>tar -C / -xzpf base41.tgz</b>
<b>tar -C / -xzpf comp41.tgz</b>
<b>tar -C / -xzpf game41.tgz</b>
<b>tar -C / -xzpf man41.tgz</b>
<b>tar -C / -xzpf misc41.tgz</b>
<b>tar -C / -xzpf xbase41.tgz</b>
<b>tar -C / -xzpf xfont41.tgz</b>
<b>tar -C / -xzpf xserv41.tgz</b>
<b>tar -C / -xzpf xshare41.tgz</b>
</pre></blockquote>

Note: not all file sets will need to be installed for all applications,
however if you installed a file set originally, you should certainly
upgrade it with the new file set now.

<p>
Note: the files in <tt>/etc</tt> are handled separately below, so
<tt>etc41.tgz</tt> and <tt>xetc41.tgz</tt> are NOT unpacked here.

<p>
<li><b>Upgrade <tt>/dev</tt>.</b>
The new
<a href="http://man.openbsd.org/OpenBSD-4.1/i386/MAKEDEV">MAKEDEV</a>
file will be copied to /dev by the installation of
<tt>base41.tgz</tt>, so you simply need to do the following:
<blockquote><pre>
<b>cd /dev</b>
<b>./MAKEDEV all</b>
</pre></blockquote>

<p>
<li><b>Upgrade <tt>/etc</tt> as below</b>.

<p>
<li><b>Reboot</b>
</ul>

During this process,
<a href="http://man.openbsd.org/sendmail.8">sendmail(8)</a>
may produce some error messages like the following:
<pre>
    Nov 1 12:47:05 puffy sm-mta[16733]: filesys_update failed: No such file or dire
    ctory, fs=., avail=-1, blocksize=380204
</pre>
These messages can be safely ignored, or you may wish to halt
sendmail(8) during the upgrade process.

<p>

<hr>
<h2 id="final">Final steps</h2>

<h3 id="etcUpgrade">1. Upgrading <tt>/etc</tt></h3>

Whether you upgrade by using an install kernel and doing a formal
"upgrade" process, or do a "in-place" binary upgrade, there are certain
manual steps that have to be performed.

<h4 id="users">1.1. New users and groups</h4>
<ul>
<li>A RIP daemon and a host state daemon have been imported, and in
order to use these new daemons, new users and groups are required.
As <i>root</i>, add the following users and groups, using
<a href="http://man.openbsd.org/useradd.8">useradd(8)</a>:

<blockquote><pre>
<b>useradd -u88 -g=uid -c"RIP Daemon" -d/var/empty -s/sbin/nologin _ripd</b>
<b>useradd -u89 -g=uid -c"HostState Daemon" -d/var/empty -s/sbin/nologin _hoststated</b>
</pre></blockquote>

These steps will add both the new users and their corresponding groups.
Your environment may allow you to copy/paste those commands.
</ul>

<h4 id="apps">1.2. Operational changes</h4>
This is <i>not</i> a complete list of the changes that took place
between 4.0 and 4.1, but rather some of the important things that will
impact a large number of users in the upgrade process.
For a more complete list of changes, see
<a href="../plus41.html">plus41.html</a> and the CVS change logs.

<ul>
<li><b>"flags S/SA keep state" implicit in pf.conf(5)</b><br>
<i>flags S/SA keep state</i> is now the default for pass rules in
<a href="http://man.openbsd.org/pf.conf.5">pf.conf(5)</a>,
and new <i>no state</i> and <i>flags any</i> options have been added to
override these defaults.  Current rulesets will continue to load, but the
behaviour may be slightly changed as these defaults are more restrictive.
Rulesets with stateless filtering (<i>no state</i>) or a requirement to
create states on intermediate packets (<i>flags any</i>) should be updated
to explicitly request the desired behaviour.

<p>
In particular care should be taken with the
<a href="http://man.openbsd.org/enc.4">enc0</a>
interface, as floating states are a potential problem for filtering IPsec
traffic: states need to be interface bound, to avoid permitting unencrypted
traffic should
<a href="http://man.openbsd.org/isakmpd.8">isakmpd(8)</a>
exit. Therefore all rules on the enc0 interface should explicitly set
<i>keep state (if-bound)</i>.
<p>

<li><b>FreeBSD and NetBSD DOS MBR partitions are no longer used to store
disklabels, and are no longer searched for a disklabel</b><br>
As a result, disks with only FreeBSD or NetBSD DOS MBR partitions will
no longer have an 'a' partition created in the spoofed disklabel.
The disklabel on such disks will be stored and loaded from sector 1, and
this could find an old accidental disklabel.
Use fdisk(8) to change the partition type to OpenBSD ('A6') to use the
existing disklabel.

<p>
<li><b>amd64, i386, macppc, and mvmeppc no longer try to boot from the first
NetBSD partition when no OpenBSD partition is found.</b><br>
Again, use
<a href="http://man.openbsd.org/fdisk.8">fdisk(8)</a>
to change the partition type to OpenBSD ('A6').

<p>
<li><b>New way to enable/disable process accounting on boot</b><br>
In order to enable accounting on boot you need to set the new rc.conf
variable "accounting=YES".
The presence of the /var/account/acct file does not make it start
automatically anymore.

<p>
<li><b>spamd(8) now runs in greylist mode by default</b><br>
Whereas before greylisting had to be enabled via the <tt>-g</tt> flag,
it is now the default runtime mode.
The <tt>-b</tt> flag (which used to indicate which IP spamd(8) should
listen on) can be used to run spamd in blacklist-only mode.
The new <tt>-l</tt> flag is used to indicate which IP spamd should
listen on.

<p>
<li><b>spamd.conf(5) now stored in /etc/mail</b><br>
The spamd.conf(5) file which used to be stored in <tt>/etc</tt> has been
moved to <tt>/etc/mail</tt>.
Move your spamd.conf file into <tt>/etc/mail</tt> so that spamd(8) loads
the proper configuration.

<p>
<li><b>Kernel sensors sysctl(3) MIB is now hierarchical</b><br>
The sensors sysctl(3) MIB now contains the name of the sensor device as
well as the type and index of the actual sensor.
So before when running "sysctl hw.sensors" you might've seen
"<tt>hw.sensors.12=it0, Temp 1, 25.00 degC</tt>" you will now see
"<tt>hw.sensors.it0.temp0=25.00 degC</tt>".
Update your
<a href="http://man.openbsd.org/sensorsd.conf.5"
>sensorsd.conf(5)</a> file to reflect the new names of your sensors.
</ul>

<h4 id="etcfiles">1.3. <tt>/etc</tt> file changes</h4>
You will want to extract the <tt>etc41.tgz</tt> files to a temporary
location:
<blockquote><pre>
<b>tar -C /tmp -xzpf ${RELEASEPATH}/etc41.tgz</b>
</pre></blockquote>


Files that can probably be copied from <tt>etc41.tgz</tt> "as is":

<blockquote><pre>
etc/daily
etc/disktab
etc/hoststated.conf
etc/magic
etc/monthly
etc/netstart
etc/rc
etc/rc.conf
etc/ripd.conf
etc/sasyncd.conf
etc/security
etc/weekly
etc/mail/Makefile
etc/mail/localhost.cf
etc/mail/sendmail.cf
etc/mail/submit.cf
etc/mail/spamd.conf
etc/mtree/*
var/www/conf/bgplg.css
var/www/conf/bgplg.foot
var/www/conf/bgplg.head
var/www/htdocs/bgplg/*
</pre></blockquote>

Note that it IS possible to locally modify these files, if this has been
done, manual merging will be needed.
Pay special attention to <tt>mail/*</tt> if you are using something
other than the default Sendmail(8) configuration.
Here are copy/paste lines for copying these files, assuming you unpacked
<tt>etc41.tgz</tt> in the above recommended place:

<blockquote><pre><b>
cd /tmp/etc
cp daily disktab hoststated.conf magic monthly netstart rc rc.conf ripd.conf sasyncd.conf security weekly /etc
cp mtree/* /etc/mtree/
cp mail/Makefile mail/localhost.cf mail/submit.cf /etc/mail
cp mail/sendmail.cf /etc/mail     </b><i># Careful on this one!!</i><b>
cp mail/spamd.conf /etc/mail      </b><i># OR... mv /etc/spamd.conf /etc/mail </i><b>
cd /tmp/var/www
cp conf/bgplg.css conf/bgplg.foot conf/bgplg.head /var/www/conf
mkdir /var/www/htdocs/bgplg
cp htdocs/bgplg/* /var/www/htdocs/bgplg/
</b></pre></blockquote>

<p>
Files that must be manually merged, respecting any local
changes made to them, if they were modified from the default,
otherwise, just copy them over, too:

<blockquote><pre>
etc/changelist
etc/ftpusers
etc/login.conf
etc/newsyslog.conf
etc/services
etc/sysctl.conf
etc/mail/aliases
var/cron/tabs/root
</pre></blockquote>

The changes to these files are in <a href="upgrade41.patch">this
patch file</a>.
You can attempt to use this by executing the following as root:
<blockquote><pre>
<b>cd /</b>
<b>patch -C -p0 &lt; upgrade41.patch</b>
</pre></blockquote>

This will test the patch to see how well it will apply to YOUR system,
to actually apply it, leave off the "<tt>-C</tt>" option.
Note that it is likely that if you have customized files or not kept
them closely updated, or are upgrading from a snapshot of 3.9, they may
not accept the patch cleanly.
In those cases, you will need to manually apply the changes.
Please test this process before relying on it for a machine you can not
easily get to.

<p>
The following files have had changes which should be looked at, but it
is unlikely they should be directly copied or merged (i.e., if you are
using pf.conf, look at the suggested change of strategy, and decide if
it is appropriate for your use).

<blockquote><pre>
etc/hostapd.conf
etc/pf.conf
etc/sensorsd.conf
</pre></blockquote>

Finally, use
<a href="http://man.openbsd.org/newaliases.8">newaliases(8)</a>
to update the aliases database and
<a href="http://man.openbsd.org/mtree.8">mtree(8)</a>
to create any new directories:
<blockquote><pre>
<b>newaliases</b>
<b>mtree -qdef /etc/mtree/4.4BSD.dist -p / -u</b>
</pre></blockquote>

<h3>2. Checking the kernel</h3>
Note: <b>most people can skip this step!</b>
<p>
If you followed the instructions for the upgrade process without install
kernel, you have already completed this step.
However, if you used the install kernel, and if you had a modified kernel
in 4.0, it is likely you will need to modify the stock kernel of 4.1.
This can be as simple as modifying a specific device using config(8),
or it can involve a recompilation if the option you need is not included
in the GENERIC kernel.
Please consult <a href="faq5.html">FAQ 5 - Building the system from source</a>
before considering to recompile your kernel.

<h3>3. Upgrading packages</h3>
If you installed any packages on your system, you should upgrade them
after completing the upgrade of the base system.
Be aware, however, many packages will require further setup before
and/or after upgrading the package.
Check with the application's upgrade guide for details.

<p>
The following package is known to have significant upgrade issues
that will impact a large number of users.
The fact that a package is not on this list doesn't mean it will have a
trivial upgrade.
You must do some homework on the applications YOU use.

<ul>
<li><b>Postgresql:</b> you must dump your database before upgrade and
restore it after
</ul>


The package tools support in-place updating using <tt>pkg_add -u</tt>.
For instance, to update all your packages, make sure <tt>PKG_PATH</tt> is
pointing to the 4.1 packages directory on your CD or nearest FTP mirror,
and use something like

<blockquote><pre>
<b># pkg_add -ui -F update -F updatedepends</b>
</pre></blockquote>

where the <tt>-u</tt> indicates update mode, and <tt>-i</tt> specifies
interactive mode, so pkg_add will prompt you for input when it encounters
some ambiguity. Read the
<a href="http://man.openbsd.org/OpenBSD-4.1/pkg_add">pkg_add(1)</a>
manual page and the <a href="faq15.html#PkgMgmt">package management</a>
chapter of the FAQ for more information.

<p>
<a href="index.html">[FAQ Index]</a> |
<a href="upgrade40.html">[3.9 -> 4.0]</a> |
<a href="upgrade42.html">[4.1 -> 4.2]</a>
<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../images/back.gif" border="0" alt="[back]"></a>
<br>
<small>$OpenBSD: upgrade41.html,v 1.39 2016/04/15 20:39:49 tb Exp $</small>

</body>
</html>
@


1.39
log
@use short form man links in the faq and fix a few broken links
@
text
@d10 1
a10 1
<link rel="canonical"      href="http://www.openbsd.org/faq/upgrade41.html">
d516 1
a516 1
<small>$OpenBSD: upgrade41.html,v 1.38 2016/04/09 22:55:45 tb Exp $</small>
@


1.38
log
@more css surgery, metadata and other cleanup, validation fixes.
@
text
@d217 1
a217 1
<a href="http://man.openbsd.org/?query=MAKEDEV&amp;sektion=8&amp;arch=i386">MAKEDEV</a>
d233 1
a233 1
<a href="http://man.openbsd.org/?query=sendmail&amp;sektion=8">sendmail(8)</a>
d258 1
a258 1
<a href="http://man.openbsd.org/?query=useradd&amp;sektion=8">useradd(8)</a>:
d279 1
a279 1
<a href="http://man.openbsd.org/?query=pf.conf&amp;sektion=5">pf.conf(5)</a>,
d289 1
a289 1
<a href="http://man.openbsd.org/?query=enc&amp;sektion=4">enc0</a>
d293 1
a293 1
<a href="http://man.openbsd.org/?query=isakmpd&amp;sektion=8">isakmpd(8)</a>
d311 1
a311 1
<a href="http://man.openbsd.org/?query=fdisk&amp;sektion=8">fdisk(8)</a>
d345 1
a345 1
<a href="http://man.openbsd.org/?query=sensorsd.conf&amp;sektion=5"
d450 1
a450 1
<a href="http://man.openbsd.org/?query=newaliases&amp;sektion=8">newaliases(8)</a>
d452 1
a452 1
<a href="http://man.openbsd.org/?query=mtree&amp;sektion=8">mtree(8)</a>
d504 1
a504 1
<a href="http://man.openbsd.org/?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.1">pkg_add(1)</a>
d516 1
a516 1
<small>$OpenBSD: upgrade41.html,v 1.37 2016/03/27 19:52:09 sthen Exp $</small>
@


1.37
log
@add a small sprinkling of css to improve readability in the faq, ok tj@@ tb@@
@
text
@d6 1
a6 1
<meta name="description"   content="the OpenBSD FAQ page">
d8 3
a10 3
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../openbsd.css">
<link rel="canonical" href="http://www.openbsd.org/faq/upgrade41.html">
d14 2
d17 4
a20 2
<img alt="[OpenBSD]" height=30 width=141 src="../images/smalltitle.gif" border="0">    
</a>
d22 1
a22 6
<font color="#0000e0">
<a href="upgrade35.html">[3.4 -> 3.5]</a> |
<a href="upgrade36.html">[3.5 -> 3.6]</a> |
<a href="upgrade37.html">[3.6 -> 3.7]</a> |
<a href="upgrade38.html">[3.7 -> 3.8]</a> |
<a href="upgrade39.html">[3.8 -> 3.9]</a> |
d24 1
a24 3
<a href="upgrade42.html">[4.1 -> 4.2]</a> |
<a href="index.html">[FAQ Index]</a>
</font>
d26 1
a26 3
<h1><font color="#e00000">Upgrade Guide: 4.0 to 4.1
</font></h1>
<hr>
d61 1
a61 2
<a name="before"></a>
<h2>Before upgrading</h2>
d76 1
a76 1
<tt>/etc/rc.conf</tt> file to <tt>/etc/rc.conf.local</tt> and 
d83 1
a83 1
<b><i>Special note for ARM users (<a href="../armish.html">armish</a>,    
d87 1
a87 1
Do not reboot after installing the kernel and before installing the new 
d92 1
a92 2
<a name="upgrade"></a>
<h2>The upgrade process</h2>
d128 1
a128 1
Any application dependent upon PF for security should be disabled 
d216 1
a216 1
The new 
d245 1
a245 2
<a name="final"></a>
<h2>Final steps</h2>
d247 1
a247 2
<a name="etcUpgrade"></a>
<h3>1. Upgrading <tt>/etc</tt></h3>
d253 1
a253 2
<a name="users"></a>
<h4>1.1. New users and groups</h4>
d269 1
a269 2
<a name="apps"></a>
<h4>1.2. Operational changes</h4>
d288 1
a288 1
In particular care should be taken with the 
d349 1
a349 2
<a name="etcfiles"></a>
<h4>1.3. <tt>/etc</tt> file changes</h4>
d388 1
a388 1
Here are copy/paste lines for copying these files, assuming you unpacked 
d405 2
a406 2
Files that must be manually merged, respecting any local 
changes made to them, if they were modified from the default, 
d496 1
a496 1
 
a507 1

d509 1
a509 6
<font color="#0000e0">
<a href="upgrade35.html">[3.4 -> 3.5]</a> |
<a href="upgrade36.html">[3.5 -> 3.6]</a> |
<a href="upgrade37.html">[3.6 -> 3.7]</a> |
<a href="upgrade38.html">[3.7 -> 3.8]</a> |
<a href="upgrade39.html">[3.8 -> 3.9]</a> |
d511 1
a511 4
<a href="upgrade42.html">[4.1 -> 4.2]</a> |
<a href="index.html">[FAQ Index]</a>
</font>

d516 1
a516 1
<small>$OpenBSD: upgrade41.html,v 1.36 2016/03/22 10:54:48 sthen Exp $</small>
@


1.36
log
@fix URIs, the / before querystring isn't optional, if it isn't fixed up
by the browser the server returns 400 Bad Request
@
text
@d8 2
d537 1
a537 1
<small>$OpenBSD: upgrade41.html,v 1.35 2016/03/21 05:46:21 beck Exp $</small>
@


1.35
log
@change http://www.openbsd.org/cgi-bin/man.cgi to be http://man.openbsd.org
this points stuff to the new place and gets us ready to deprecate the old
place we did this.
@
text
@d222 1
a222 1
<a href="http://man.openbsd.org?query=MAKEDEV&amp;sektion=8&amp;arch=i386">MAKEDEV</a>
d238 1
a238 1
<a href="http://man.openbsd.org?query=sendmail&amp;sektion=8">sendmail(8)</a>
d266 1
a266 1
<a href="http://man.openbsd.org?query=useradd&amp;sektion=8">useradd(8)</a>:
d288 1
a288 1
<a href="http://man.openbsd.org?query=pf.conf&amp;sektion=5">pf.conf(5)</a>,
d298 1
a298 1
<a href="http://man.openbsd.org?query=enc&amp;sektion=4">enc0</a>
d302 1
a302 1
<a href="http://man.openbsd.org?query=isakmpd&amp;sektion=8">isakmpd(8)</a>
d320 1
a320 1
<a href="http://man.openbsd.org?query=fdisk&amp;sektion=8">fdisk(8)</a>
d354 1
a354 1
<a href="http://man.openbsd.org?query=sensorsd.conf&amp;sektion=5"
d460 1
a460 1
<a href="http://man.openbsd.org?query=newaliases&amp;sektion=8">newaliases(8)</a>
d462 1
a462 1
<a href="http://man.openbsd.org?query=mtree&amp;sektion=8">mtree(8)</a>
d514 1
a514 1
<a href="http://man.openbsd.org?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.1">pkg_add(1)</a>
d535 1
a535 1
<small>$OpenBSD: upgrade41.html,v 1.34 2016/02/25 20:58:00 tj Exp $</small>
@


1.34
log
@old XXX comments in these files make it difficult to grep for things that
actually need to be fixed.
@
text
@d222 1
a222 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=MAKEDEV&amp;sektion=8&amp;arch=i386">MAKEDEV</a>
d238 1
a238 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sendmail&amp;sektion=8">sendmail(8)</a>
d266 1
a266 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8">useradd(8)</a>:
d288 1
a288 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf.conf&amp;sektion=5">pf.conf(5)</a>,
d298 1
a298 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=enc&amp;sektion=4">enc0</a>
d302 1
a302 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=isakmpd&amp;sektion=8">isakmpd(8)</a>
d320 1
a320 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fdisk&amp;sektion=8">fdisk(8)</a>
d354 1
a354 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sensorsd.conf&amp;sektion=5"
d460 1
a460 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=newaliases&amp;sektion=8">newaliases(8)</a>
d462 1
a462 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mtree&amp;sektion=8">mtree(8)</a>
d514 1
a514 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pkg_add&amp;sektion=1&amp;manpath=OpenBSD+4.1">pkg_add(1)</a>
d535 1
a535 1
<small>$OpenBSD: upgrade41.html,v 1.33 2015/07/08 01:11:32 nick Exp $</small>
@


1.33
log
@
better pages <title>, better matching the page.  From Pavel Plamenov
(pvlplmnv at gmail), thanks!
@
text
@a66 1
<!-- XXX add new stuff -->
d535 1
a535 1
<small>$OpenBSD: upgrade41.html,v 1.32 2015/07/02 05:49:04 bentley Exp $</small>
@


1.32
log
@Clean up meta tags.

name=distribution, name=keywords, and name=resource-type have no effect
in modern search engines and just clutter up the page source.

From Pavel Plamenov.
@
text
@d4 1
a4 1
<title>OpenBSD Upgrade Guide 4.1</title>
d536 1
a536 1
<small>$OpenBSD: upgrade41.html,v 1.31 2015/05/11 11:18:30 sthen Exp $</small>
@


1.31
log
@Add 'link rel="canonical"' to pages, acting as a hint to search engines
to list the copies on www.openbsd.org rather than mirrors.

From Carlin Bingham, ok millert@@ nick@@
@
text
@a5 1
<meta name="resource-type" content="document">
a6 2
<meta name="keywords"      content="openbsd,faq">
<meta name="distribution"  content="global">
d536 1
a536 1
<small>$OpenBSD: upgrade41.html,v 1.30 2014/03/31 01:47:54 nick Exp $</small>
@


1.30
log
@
www@@ is no more.  normalized 54 to new footer style, but rest were left
unchanged deliberately.
@
text
@d11 1
d539 1
a539 1
<small>$OpenBSD: upgrade41.html,v 1.29 2007/11/01 02:17:10 nick Exp $</small>
@


1.29
log
@
link in upgrade42.html.
@
text
@a4 1
<link rev="made" href="mailto:www@@openbsd.org">
a536 1
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
d538 1
a538 1
<small>$OpenBSD: upgrade41.html,v 1.28 2007/05/10 01:32:26 nick Exp $</small>
@


1.28
log
@
wrong link, Tobias Stoeckmann.  Thanks!
@
text
@d26 1
d531 1
d540 1
a540 1
<small>$OpenBSD: upgrade41.html,v 1.27 2007/05/04 10:52:10 steven Exp $</small>
@


1.27
log
@small rewording and fix man page link

ok nick@@
@
text
@d529 1
a529 1
<a href="upgrade39.html">[3.9 -> 4.0]</a> |
d538 1
a538 1
<small>$OpenBSD: upgrade41.html,v 1.26 2007/04/30 04:12:21 nick Exp $</small>
@


1.26
log
@
Add warning that pre- and post- upgrade "extra steps" may be needed for
some ports, and point out that Postgresql has a doozy.  Based on text
from kili@@ and sturm@@, but sturm@@ is probably not happy with how I used
it.  There are potentially many, many ports which are NOT being
mentioned here, and the concern is that by saying "Postgresql has an
issue", people will be stupid and assume that if their ports aren't
listed, they can just pretend magic happens and whine if it doesn't work
for them.

We can certainly add more things here if appropriate.  My criteria would
be:
  1) The upgrade is more traumatic than usual, for example, requiring
PRE-upgrade actions, or might really break things badly.
  2) The package is in moderately wide-spread use.

In other words, I want this list to stay short, clearly
non-comprehensive, and relevant.

ok espie@@, kili@@, but sturm@@ is unconvinced.  If he proves to be right
that people will use this to hurt themselves more than it helps them,
he gets to laugh at me and this section will vanish from here and never
be seen again in future versions of this file.
@
text
@d327 1
a327 1
<li><b>New way to enable/disable system accounting on boot</b><br>
d538 1
a538 1
<small>$OpenBSD: upgrade41.html,v 1.25 2007/04/25 02:53:30 nick Exp $</small>
@


1.25
log
@
point out that the list of operational changes is not a complete list.
Not really possible to condense six months of work into a few bullet
points.
@
text
@d486 1
a486 1
If you installed any packages on your system, you may want to upgrade them
d488 17
d538 1
a538 1
<small>$OpenBSD: upgrade41.html,v 1.24 2007/04/24 12:03:43 kili Exp $</small>
@


1.24
log
@
Backout after some discussions.

The problem is that the note for PostgreSQL may give users a warm fuzzy
feeling that everything else is safe, which may be false.
@
text
@d282 6
d521 1
a521 1
<small>$OpenBSD: upgrade41.html,v 1.22 2007/04/12 23:52:51 nick Exp $</small>
@


1.23
log
@
Remind PostgreSQL users to dump their database before the update.

ok mbalmer@@
@
text
@a497 5
<p>
<b>Note for postgresql users:</b> due to an update from postgresql-8.1
to postgresql-8.2 you <b>must</b> dump your database using pg_dumpall(1)
before updating the postgresql-server package and restore it
thereafter.
@


1.22
log
@
correct text for new users and groups (details were fine, just descriptions
were left over from upgrade40.html).  Spotted by Pierre Riteau, (pierre
dot riteau at free dot fr), thanks!
@
text
@d498 5
d520 1
a520 1
<small>$OpenBSD: upgrade41.html,v 1.21 2007/04/07 14:47:00 nick Exp $</small>
@


1.21
log
@
enough testing, time to declare it ready for use.  ok henning@@
@
text
@d266 3
a268 4
<li>A mrouted(8) replacement has been started and in order to use
this new daemon, a new user and group are required.

As <i>root</i>, add the following user and group, using
d276 1
a276 1
This step will add both the new user and its corresponding group.
d515 1
a515 1
<small>$OpenBSD: upgrade41.html,v 1.20 2007/03/19 01:18:10 nick Exp $</small>
@


1.20
log
@
patch /etc/mail/aliases, you better run newaliases(8)...
@
text
@d29 2
a30 2
<h1><font color="#e00000"><!-- Upgrade Guide: 4.0 to 4.1 -->
Work in progress, do not use (yet)</font></h1>
d516 1
a516 1
<small>$OpenBSD: upgrade41.html,v 1.19 2007/03/19 00:12:23 nick Exp $</small>
@


1.19
log
@
need to be in / for firmware extraction, apparently.
Add warning about /etc/rc.conf being assumed to be an unaltered file.
@
text
@d458 2
d463 1
d516 1
a516 1
<small>$OpenBSD: upgrade41.html,v 1.18 2007/03/18 22:42:35 nick Exp $</small>
@


1.18
log
@
trailing '/' doesn't work...
@
text
@d77 13
d180 1
d513 1
a513 1
<small>$OpenBSD: upgrade41.html,v 1.17 2007/03/18 22:00:11 nick Exp $</small>
@


1.17
log
@
specify directory, which improves consistency.
@
text
@d167 1
a167 1
<b>tar -C / -xzpf ${RELEASEPATH}/base41.tgz ./etc/firmware/</b>
d499 1
a499 1
<small>$OpenBSD: upgrade41.html,v 1.16 2007/03/18 19:51:11 nick Exp $</small>
@


1.16
log
@
bad path on var/cron/tabs/root.  Spotted by Stuard Henderson, thanks!
@
text
@d404 7
a410 7
changelist
ftpusers
login.conf
newsyslog.conf
services
sysctl.conf
mail/aliases
d438 3
a440 3
hostapd.conf
pf.conf
sensorsd.conf
d499 1
a499 1
<small>$OpenBSD: upgrade41.html,v 1.15 2007/03/17 06:25:40 steven Exp $</small>
@


1.15
log
@simplify tar command lines a bit.

ok nick@@
@
text
@d411 1
a411 1
var/crontab/root
d499 1
a499 1
<small>$OpenBSD: upgrade41.html,v 1.14 2007/03/16 02:12:35 nick Exp $</small>
@


1.14
log
@
Safer to specify the working directory, rather than just assuming the
default directory.  Suggested by ckuethe@@, and didn't take large amounts
of persuasion, having hurt myself in that way on more than a few
occasions.
@
text
@a166 1
<b>cd /</b>
d188 10
a197 10
<b>cd /</b>
<b>tar -C / -xzpf ${RELEASEPATH}/base41.tgz</b>
<b>tar -C / -xzpf ${RELEASEPATH}/comp41.tgz</b>
<b>tar -C / -xzpf ${RELEASEPATH}/game41.tgz</b>
<b>tar -C / -xzpf ${RELEASEPATH}/man41.tgz</b>
<b>tar -C / -xzpf ${RELEASEPATH}/misc41.tgz</b>
<b>tar -C / -xzpf ${RELEASEPATH}/xbase41.tgz</b>
<b>tar -C / -xzpf ${RELEASEPATH}/xfont41.tgz</b>
<b>tar -C / -xzpf ${RELEASEPATH}/xserv41.tgz</b>
<b>tar -C / -xzpf ${RELEASEPATH}/xshare41.tgz</b>
d347 1
a347 2
<b>cd /tmp</b>
<b>tar xzpf ${RELEASEPATH}/etc41.tgz</b>
d499 1
a499 1
<small>$OpenBSD: upgrade41.html,v 1.13 2007/03/16 01:15:54 nick Exp $</small>
@


1.13
log
@
undo last.
/etc/services was already listed, under "manually merged" files, which
is where it appears it should be, as some ports and such do require user
mods here.  Thanks ckuethe@@ for advice on which of the two places it
belonged.
@
text
@d168 1
a168 1
<b>tar xzpf ${RELEASEPATH}/base41.tgz "*etc/firmware/*"</b>
d190 9
a198 9
<b>tar xzpf ${RELEASEPATH}/base41.tgz</b>
<b>tar xzpf ${RELEASEPATH}/comp41.tgz</b>
<b>tar xzpf ${RELEASEPATH}/game41.tgz</b>
<b>tar xzpf ${RELEASEPATH}/man41.tgz</b>
<b>tar xzpf ${RELEASEPATH}/misc41.tgz</b>
<b>tar xzpf ${RELEASEPATH}/xbase41.tgz</b>
<b>tar xzpf ${RELEASEPATH}/xfont41.tgz</b>
<b>tar xzpf ${RELEASEPATH}/xserv41.tgz</b>
<b>tar xzpf ${RELEASEPATH}/xshare41.tgz</b>
d501 1
a501 1
<small>$OpenBSD: upgrade41.html,v 1.12 2007/03/15 15:25:52 henning Exp $</small>
@


1.12
log
@/etc/services changed too (and spamd needs it)
From: Stuart Henderson <stu@@spacehopper.org>
@
text
@a366 1
etc/services
d389 1
a389 1
cp daily disktab hoststated.conf magic monthly netstart rc rc.conf ripd.conf sasyncd.conf security services weekly /etc
d501 1
a501 1
<small>$OpenBSD: upgrade41.html,v 1.11 2007/03/15 15:23:31 henning Exp $</small>
@


1.11
log
@let's use an install kernel instead of install install kernel
From: Stuart Henderson <stu@@spacehopper.org>
@
text
@d367 1
d390 1
a390 1
cp daily disktab hoststated.conf magic monthly netstart rc rc.conf ripd.conf sasyncd.conf security weekly /etc
d502 1
a502 1
<small>$OpenBSD: upgrade41.html,v 1.10 2007/03/15 15:05:13 henning Exp $</small>
@


1.10
log
@little error in the copy & paste etc files upgrade section leads to cp
trying to copy files onto themselves
<Nick> oh, fix it, please...
@
text
@d104 1
a104 1
<h3>Upgrading without install install kernel</h3>
d501 1
a501 1
<small>$OpenBSD: upgrade41.html,v 1.9 2007/03/15 10:46:58 nick Exp $</small>
@


1.9
log
@
couple missing "Only in 4.1" files (ripd.conf sasyncd.conf).
Spotted by Henning@@.  Cool, someone is looking at it...
@
text
@d396 2
a397 2
mkdir -p htdocs/bgplg
cp htdocs/bgplg/* htdocs/bgplg
d501 1
a501 1
<small>$OpenBSD: upgrade41.html,v 1.8 2007/03/15 02:03:55 nick Exp $</small>
@


1.8
log
@
change "/yourpath" (which probably no one uses) to "/usr/rel" (which *I*
use, so at least ONE person can use it as-is)
Fill out with lists of changed files.
Still not ready for use, but hopefully, people are looking over my work.
@
text
@d364 2
d389 1
a389 1
cp daily disktab hoststated.conf magic monthly netstart rc rc.conf security weekly /etc
d501 1
a501 1
<small>$OpenBSD: upgrade41.html,v 1.7 2007/03/07 12:01:56 nick Exp $</small>
@


1.7
log
@
Sprinkle <p>s in one section to make it more readable and to match later
section's style.
@
text
@d146 1
a146 1
<b>export RELEASEPATH=<i>/yourpath</i></b>
d188 1
a188 1
<b>export RELEASEPATH=/<i>yourpath</i></b>
d356 20
a375 1
[ . . . ]
d380 1
a380 1
Pay special attention to mail/sendmail.cf if you are using something
d385 12
a396 4
<blockquote><pre>
<b>cd /tmp/etc</b>
[ . . . ]
</pre></blockquote>
d404 8
a411 1
[ . . . ]
d438 3
a440 1
[ . . . ]
d499 1
a499 1
<small>$OpenBSD: upgrade41.html,v 1.6 2007/03/04 03:09:08 nick Exp $</small>
@


1.6
log
@
bsd.rd wasn't mentioned at all in here.  So, mention, and change "install
media" to "install kernel".   Pointed out by drahn@@
@
text
@d119 1
d129 1
d143 1
d157 1
d171 1
d177 2
d182 1
d209 1
d220 1
d223 1
d463 1
a463 1
<small>$OpenBSD: upgrade41.html,v 1.5 2007/03/04 02:13:31 nick Exp $</small>
@


1.5
log
@
ARM had a flag day which impacts the "no install media" process.
Strategy and testing by drahn@@, thanks!
@
text
@d80 1
a80 1
using standard install media.
d89 14
a102 6
<h3>Upgrading by install media</h3>
The easiest and safest way to upgrade is to boot from install media and
follow the upgrade steps, which are very similar to the
<a href="faq4.html">install process</a>.
Afterwards, complete the upgrade by following the
<a href="#final">final steps</a> as detailed below.
d104 2
a105 3

<h3>Upgrading without install media</h3>
<i>This is NOT the recommended process.  Use the install media method
d111 3
a113 2
One can usually do this by carefully following a process similar to
building the system from source:
d235 1
a235 1
Whether you upgrade by using an install media and doing a formal
d407 2
a408 2
media, you have already completed this step.
However, if you used the install media, and if you had a modified kernel
d452 1
a452 1
<small>$OpenBSD: upgrade41.html,v 1.4 2007/03/02 14:07:52 steven Exp $</small>
@


1.4
log
@sync
@
text
@a69 1

d77 8
d159 1
a159 1
<li><b>Reboot on the new kernel:</b>
d164 2
d444 1
a444 1
<small>$OpenBSD: upgrade41.html,v 1.3 2007/03/01 14:28:40 joel Exp $</small>
@


1.3
log
@spamd and hw.sensors changes


ok nick@@
@
text
@d304 1
a304 1
<li><b>Kernel sensors sysctl(3) MIB is now heirarchical</b><br>
d435 1
a435 1
<small>$OpenBSD: upgrade41.html,v 1.2 2007/02/28 03:25:23 nick Exp $</small>
@


1.2
log
@
looks more consistant with <b></b> around the useradd lines.
@
text
@d286 27
d435 1
a435 1
<small>$OpenBSD: upgrade41.html,v 1.1 2007/02/28 03:18:37 nick Exp $</small>
@


1.1
log
@
NOT YET READY FOR USE.  Just trying to get an early start on this.
@
text
@d232 2
a233 2
useradd -u88 -g=uid -c"RIP Daemon" -d/var/empty -s/sbin/nologin _ripd
useradd -u89 -g=uid -c"HostState Daemon" -d/var/empty -s/sbin/nologin _hoststated
d408 1
a408 1
<small>$OpenBSD: upgrade41.html,v 1.6 2007/02/25 20:31:22 nick Exp $</small>
@

