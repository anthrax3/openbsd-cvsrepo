head	1.23;
access;
symbols;
locks; strict;
comment	@# @;


1.23
date	2014.04.01.17.14.11;	author nick;	state dead;
branches;
next	1.22;

1.22
date	2009.11.08.22.09.17;	author tobias;	state Exp;
branches;
next	1.21;

1.21
date	2009.05.04.19.07.52;	author tobias;	state Exp;
branches;
next	1.20;

1.20
date	2008.11.02.00.28.45;	author tobias;	state Exp;
branches;
next	1.19;

1.19
date	2008.08.04.12.05.27;	author tobias;	state Exp;
branches;
next	1.18;

1.18
date	2007.11.12.20.29.59;	author saad;	state Exp;
branches;
next	1.17;

1.17
date	2007.05.10.12.43.46;	author saad;	state Exp;
branches;
next	1.16;

1.16
date	2007.05.09.05.49.53;	author jufi;	state Exp;
branches;
next	1.15;

1.15
date	2006.11.03.07.59.05;	author jufi;	state Exp;
branches;
next	1.14;

1.14
date	2006.05.24.06.48.44;	author jufi;	state Exp;
branches;
next	1.13;

1.13
date	2006.05.19.09.13.25;	author jufi;	state Exp;
branches;
next	1.12;

1.12
date	2006.05.02.17.09.33;	author jufi;	state Exp;
branches;
next	1.11;

1.11
date	2005.11.03.11.30.54;	author saad;	state Exp;
branches;
next	1.10;

1.10
date	2005.08.24.12.58.45;	author saad;	state Exp;
branches;
next	1.9;

1.9
date	2005.08.21.22.37.27;	author saad;	state Exp;
branches;
next	1.8;

1.8
date	2004.11.12.16.16.53;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2004.10.03.20.05.08;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2004.05.09.09.48.24;	author saad;	state Exp;
branches;
next	1.5;

1.5
date	2004.01.16.21.01.34;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2003.12.08.01.33.24;	author horacio;	state Exp;
branches;
next	1.3;

1.3
date	2003.11.14.23.10.31;	author horacio;	state Exp;
branches;
next	1.2;

1.2
date	2003.09.28.22.28.56;	author horacio;	state Exp;
branches;
next	1.1;

1.1
date	2003.09.02.14.37.19;	author jufi;	state Exp;
branches;
next	;


desc
@@


1.23
log
@
Abandon translations, per deraadt@@ and ajacoutot@@.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Zakotwiczenia</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
</head>

<!--
Copyright (c) 2003-2007 Joel Knight <enabled@@myrealbox.com>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../../pl/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif" border="0">
</a>

<p>
[<a href="scrub.html">Wstecz: Opcje "runtime"</a>]
[<a href="index.html">Spis tre¶ci</a>]
[<a href="queueing.html">Dalej: Kolejkowanie</a>]

<p>
<h1><font color="#e00000">PF: Zakotwiczenia</font></h1>

<hr>

<h3>Spis tre¶ci</h3>
<ul>
<li><a href="#intro">Wprowadzenie</a>
<li><a href="#anchors">Zakotwiczenia</a>
<li><a href="#options">Opcje zakotwiczeñ</a>
<li><a href="#manip">Manipulowanie zakotwiczeniami</a>
</ul>

<hr>

<a name="intro"></a>
<h2>Wprowadzenie</h2>
Poza g³ównym zestawem regu³, PF mo¿e przetwarzaæ tak¿e podzestawy.
Poniewa¿ podzestawy mog± byæ modyfikowane w trakcie dzia³ania przy pomocy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.6"
>pfctl(8)</a>, mog± stanowiæ wygodny sposób dynamicznego
zarz±dzania aktywnym zestawem regu³. Podczas gdy
<a href="tables.html">tabele</a> s± wykorzystywane do
przechowywania dynamicznych list adresów, podzestawy
regu³ mog± przechowywaæ dynamiczne zestawy regu³ filtruj±cych,
<tt>nat</tt>, <tt>rdr</tt>, i <tt>binat</tt>.

<p>
Podzestawy regu³ s± do³±czane do g³ównego zestawu regu³ przy pomocy
zakotwiczeñ (ang. anchors). S± cztery typy regu³ zakotwiczeñ <tt>anchor</tt>:
<ul>
<li><tt>anchor <i>name</i></tt> - przetwarza wszystkie regu³y
<a href="filter.html">filtruj±ce</a>
w zakotwiczeniu <i><tt>name</tt></i>
<li><tt>binat-anchor <i>name</i></tt> - przetwarza wszystkie
regu³y <a href="nat.html#binat"><tt>binat</tt></a>
w zakotwiczeniu <i><tt>name</tt></i>
<li><tt>nat-anchor <i>name</i></tt> - przetwarza wszystkie regu³y
<a href="nat.html"><tt>nat</tt></a>
w zakotwiczeniu <i><tt>name</tt></i>
<li><tt>rdr-anchor <i>name</i></tt> - przetwarza wszystkie regu³y
<a href="rdr.html"> <tt>rdr</tt></a>
w zakotwiczeniu <i><tt>name</tt></i>
</ul>

Zakotwiczenia mog± byæ zagnie¿d¿ane co pozwala by zestawy podregu³ wi±za³y
siê wzajemnie.
Regu³y zakotwiczeñ bêd± oceniane wzglêdem zakotwiczenia w którym
zosta³y za³adowane.
Na przyk³ad, zakotwiczone zestawy
regu³ w g³ównym zestawie regu³ utworz± punkty zakotwiczenia w tym
zestawie, jako zestawie nadrzêdnym, a regu³y zakotwiczeñ w podpiêtych
z dyrektyw± <tt>load anchor</tt> plikach regu³ utworz± punkty
zakotwiczenia w danym podzestawie, jako ich zestawie nadrzêdnym.

<a name="named"></a>
<a name="anchors"></a>
<h2>Zakotwiczenia</h2>
Zakotwiczona to kolekcje regu³ filtruj±cych, translacji, tabel i innych
zakotwiczeñ, które maj± przyporz±dkowan± nazwê.
Gdy PF natrafi na jak±¶ regu³ê <tt>anchor</tt> w g³ównym zestawie
regu³, w momencie gdy jest przetwarzany g³ówny zestaw regu³ zostan±
przetworzone wszystkie zawarte w nim regu³y.
Porównywanie regu³ bêdzie nastêpnie kontynuowane, chyba ¿e pakiet
zostanie dopasowany do regu³y korzystaj±cej z opcji <tt>quick</tt>
lub regu³y translacyjnej w tym zakotwiczeniu, kiedy to dopasowanie
bêdzie uznane za ostateczne i spowoduje zaniechanie dalszego
porównywania regu³ w samym, zakotwiczeniu jak i g³ównym zestawie
regu³.

<p>
Na przyk³ad:
<blockquote>
<tt>
ext_if = "fxp0"<br>
<br>
block on $ext_if all<br>
pass &nbsp;out on $ext_if all keep state<br>
anchor goodguys
</tt>
</blockquote>

<p>
Ten zestaw regu³ sankcjonuje politykê domy¶lnego blokowania na interfejsie
<tt>fxp0</tt> zarówno dla przychodz±cego jak i wychodz±cego ruchu. Ruch jest
nastêpnie przepuszczany na zewn±trz wraz z ¶ledzeniem stanu po³±czenia,
a tak¿e tworzone jest zakotwiczenie nazwane <tt>goodguys</tt>.
Zakotwiczenia mog± byæ wype³niane regu³ami na dwa sposoby:
<ul>
<li>korzystaj±c z regu³y <tt>load</tt>
<li>korzystaj±c z
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.6"
>pfctl(8)</a>
<li>okre¶laj±c regu³y zalotowidzeñ bezpo¶rednio w zestawie regu³
</ul>

<p>
Regu³a <tt>load</tt> powoduje, ¿e <tt>pfctl</tt> wype³nia regu³ami
dane zakotwiczenie i nazwany zestaw regu³ poprzez ich odczyt z pliku
tekstowego. 
Regu³a <tt>load</tt> musi byæ umieszczona po regule <tt>anchor</tt>.
Na przyk³ad:

<blockquote>
<tt>
anchor goodgays<br>
load anchor goodguys:ssh from "/etc/anchor-goodguys-ssh"
</tt>
</blockquote>

<p>
Aby dodaæ regu³y do zakotwiczenia przy pomocy <tt>pfctl</tt>, mo¿e
zostaæ u¿yta komenda skonstruowana podobnie do poni¿szej: 

<blockquote>
<tt>
# echo "pass in proto tcp from 192.0.2.3 to any port 22" \<br>
&nbsp;&nbsp;&nbsp;| pfctl -a goodguys/ssh -f -
</tt>
</blockquote>

<p>
Regu³y mog± byæ tak¿e zapisywane i odczytywane z pliku tekstowego:

<blockquote>
<tt>
# cat &gt;&gt; /etc/anchor-goodguys-www<br>
pass in proto tcp from 192.0.2.3 to any port 80<br>
pass in proto tcp from 192.0.2.4 to any port { 80 443 }<br>
<br>
# pfctl -a goodguys -f /etc/anchor-goodguys-www<br>
</tt>
</blockquote>

<p>
Aby za³adowaæ regu³y zakotwiczeñ bezpo¶rednio z zestawu regu³ filtra,
do³±cz regu³y zakotwiczeñ zawieraj±c je w nawiasach klamrowych:

<blockquote>
<tt>
anchor "goodguys" { <br>
&nbsp;&nbsp;&nbsp;pass in proto tcp from 192.168.2.3 to port 22<br>
}
</tt>
</blockquote>

<p>
Zakotwiczenia wprowadzone bezpo¶rednio mog± tak¿e zawieraæ inne zakotwiczenia.

<blockquote>
<tt>
allow = "{ 192.0.2.3 192.0.2.4 }" <br>
<br>
anchor "goodguys" { <br>
&nbsp;&nbsp;&nbsp;anchor { <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass in proto tcp from 192.0.2.3 to port 80 <br>
&nbsp;&nbsp;&nbsp;} <br>
&nbsp;&nbsp;&nbsp;pass in proto tcp from $allow to port 22<br>
}
</tt>
</blockquote>

W zakotwiczeniach bezpo¶rednich nazwa zakotwidzenia jest opcjonalna.
Zwróæ uwagê, ¿e zagnie¿d¿one zakotwiczenia w powy¿szym przyk³adzie nie
posiadaj± nazw.
Ponadto zwracamy uwagê na to jak makro <tt>$allow</tt> zosta³o zdefiniowane
poza zaktowiczeniem (w g³ównym zestawie regu³) i pó¼niej u¿yte wewn±trz
zakotwiczenia.

<p>
Regu³y filtruj±ce i translacyjne mog± byæ za³adowane z nazwanego
zestawu regu³ z wykorzystaniem tych samych opcji i sk³adni, co
przy ³adowaniu z g³ównego zestawu regu³.
Z zastrze¿eniem, o ile nie u¿ywasz zakotwidzeñ bezpo¶rednio, i¿ 
wykorzystywane <a href="macros.html">makra</a> 
musz± byæ zdefiniowane w danym zestawie, a makra z g³ównego
zestawu regu³ <i>nie</i> bêd± widoczne.

<p>
Odk±d zakotwiczenie mo¿e byæ gniazdem, mo¿liwe jest sprecyzowanie, ¿e
wszystkie potomne zakotwiczenia wewn±trz sprecyzowanego, bêd± oceniane:
     
<blockquote>
<tt>
anchor "spam/*"
</tt>
</blockquote>

<p>
Ta sk³adnia powoduje, ¿e ka¿da regu³a wewn±trz ka¿dego zakotwiczenia 
pod³±czonego do zakotwiczenia <tt>spam</tt> bêdzie oceniana.
Zakotwiczenia potomne bêd± szacowane w kolejno¶ci alfabetycznej
jednak nie bêd± schodzi³y rekurencyjnie.
Zakotwiczenia zawsze bêd± oceniane wzglêdem zakotwiczenia w którym
zosta³y zdefiniowane.

<p>
Ka¿de zakotwiczenie , podobnie jak i g³ówny zestaw regu³
funkcjonuje niezale¿nie od innych zestawów. Operacje wykonywane
na pojedynczym zestawie, takie jak wyczyszczenie (ang. flush),
nie maj± wp³ywu na pozosta³e zestawy regu³. Ponad to, usuniêcie
zakotwiczenia z g³ównego zestawu regu³ nie niszczy zakotwiczenia,
ani ¿adnego zakotwiczenia potomnego, który jest do niego podpiêty.
Zakotwiczenie nie jest niszczone a¿ do momentu wyczyszczenia
wszystkich regu³ przy pomocy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.6"
>pfctl(8)</a>, w sytuacji w której nie istniej± ¿adne zakotwiczenia
potomne wewn±trz.

<a name="options"></a>
<h2>Opcje zakotwiczeñ</h2>
Opcjonalnie, regu³y <tt>anchor</tt> mog± precyzowaæ interfejs sieciowy,
protokó³, adres ¼ród³owy i docelowy itp przy pomocy tej samej sk³adni co
regu³y filtruj±ce. Je¶li takie informacje s± podawane, regu³y
<tt>anchor</tt> s± przetwarzane jedynie gdy pakiet pasuje do definicji
danej regu³y <tt>anchor</tt>.
Na przyk³ad:
<blockquote>
<tt>
ext_if = "fxp0"<br>
<br>
block on $ext_if all<br>
pass &nbsp;out on $ext_if all keep state<br>
anchor ssh in on $ext_if proto tcp from any to any port 22<br>
</tt>
</blockquote>

<p>
Regu³y zakotwiczenia <tt>ssh</tt> s± przetwarzane jedynie
dla pakietów TCP o docelowym porcie 22, i które nadchodz± przez
<tt>fxp0</tt>.
Regu³y s± nastêpnie dodawane do zakotwiczenia <tt>anchor</tt>
w nastêpuj±cy sposób:
<blockquote>
<tt>
# echo "pass in from 192.0.2.10 to any" | pfctl -a ssh -f -
</tt>
</blockquote>

<p>
Mimo i¿ regu³y filtruj±ce nie precyzuj± interfejsu, protoko³u
czy portu, jedynie host 192.0.2.10 bêdzie mia³ prawo ³±czyæ siê
przy pomocy SSH ze wzglêdu na definicje zakotwiczenia <tt>anchor</tt>.

<p>
Taka sama sk³adnia mo¿e byæ zastosowana do zakotwiczeñ bezpo¶rednich.

<blockquote>
<tt>
allow = "{ 192.0.2.3 192.0.2.4 }" <br>
<br>
anchor "goodguys" in proto tcp { <br>
&nbsp;&nbsp;&nbsp;anchor proto tcp to port 80 { <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass from 192.0.2.3 <br>
&nbsp;&nbsp;&nbsp;} <br>
&nbsp;&nbsp;&nbsp;anchor proto tcp to port 22 { <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass from $allow<br>
&nbsp;&nbsp;&nbsp;} <br>
}
</tt>
</blockquote>

<a name="manip"></a>
<h2>Manipulowanie zakotwiczeniami</h2>
Manipulowanie zakotwiczeniami odbywa siê poprzez <tt>pfctl</tt>.
Program ten mo¿e byæ wykorzystywany do dodawania
i usuwania regu³ z zestawu bez konieczno¶ci prze³adowywania
g³ównego zestawu regu³.

<p>
Aby wy¶wietliæ wszystkie regu³y zakotwiczenia nazwanego <tt>ssh</tt>:
<blockquote>
<tt>
# pfctl -a ssh -s rules
</tt>
</blockquote>

<p>
Aby wyczy¶ciæ wszystkie regu³y z tego samego zakotwiczenia:
<blockquote>
<tt>
# pfctl -a ssh -F rules
</tt>
</blockquote>

<p>
Pe³na lista komend znajduje siê na stronach man
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.6"
>pfctl(8)</a>.

<p>
[<a href="scrub.html">Wstecz: Opcje "runtime"</a>]
[<a href="index.html">Spis tre¶ci</a>]
[<a href="queueing.html">Dalej: Kolejkowanie</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[wstecz]"></a> 
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: anchors.html,v 1.27 ]<br>
$Translation: anchors.html,v 1.24 2009/11/08 19:35:52 tkniaz Exp $<br>
-->
$OpenBSD: anchors.html,v 1.22 2009/11/08 22:09:17 tobias Exp $
</small>
</body>
</html> 
@


1.22
log
@Sync with Steelix CVS
@
text
@d348 1
a348 1
$OpenBSD$
@


1.21
log
@Sync with Steelix CVS
@
text
@d39 1
a39 1
[<a href="scrub.html">Wstecz: Scrub (normalizacja pakietów)</a>]
d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.5"
d134 1
a134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.5"
d248 1
a248 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.5"
d330 1
a330 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.5"
d334 1
a334 1
[<a href="scrub.html">Wstecz: Scrub (normalizacja pakietów)</a>]
d345 2
a346 2
Originally [OpenBSD: anchors.html,v 1.26 ]<br>
$Translation: anchors.html,v 1.23 2009/05/03 15:43:29 tkniaz Exp $<br>
@


1.20
log
@Sync with Steelix CVS
@
text
@d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.4"
d134 1
a134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.4"
d248 1
a248 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.4"
d330 1
a330 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.4"
d345 2
a346 2
Originally [OpenBSD: anchors.html,v 1.25 ]<br>
$Translation: anchors.html,v 1.22 2008/11/01 23:52:40 tkniaz Exp $<br>
@


1.19
log
@Sync with Steelix CVS
@
text
@d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.3"
d134 1
a134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.3"
d248 1
a248 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.3"
d330 1
a330 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.3"
d345 2
a346 2
Originally [OpenBSD: anchors.html,v 1.24 ]<br>
$Translation: anchors.html,v 1.21 2008/07/30 23:22:48 tkniaz Exp $<br>
@


1.18
log
@Sync with Steelix CVS
@
text
@d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.2"
d134 1
a134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.2"
d248 1
a248 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.2"
d330 1
a330 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.2"
d345 2
a346 2
Originally [OpenBSD: anchors.html,v 1.23 ]<br>
$Translation: anchors.html,v 1.20 2007/11/03 10:20:38 tkniaz Exp $<br>
@


1.17
log
@Sync with Steelix CVS
@
text
@d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.1"
d134 1
a134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.1"
d248 1
a248 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.1"
d330 1
a330 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.1"
d345 2
a346 2
Originally [OpenBSD: anchors.html,v 1.22 ]<br>
$Translation: anchors.html,v 1.19 2007/05/09 16:25:25 tkniaz Exp $<br>
@


1.16
log
@Sync with steelix translation CVS
@
text
@d14 1
a14 1
Copyright (c) 2003-2005 Joel Knight <enabled@@myrealbox.com>
d136 1
d145 1
d156 1
d166 1
d178 35
d216 4
a219 3
Z zastrze¿eniem, i¿ wykorzystywane <a href="macros.html">makra</a> 
musz± byæ zdefiniowane w danym zestawie, a makra g³ównego
zestawu regu³ <i>nie</i> bêd± widoczne w nazwanych zestawach regu³.
d287 18
d345 2
a346 2
Originally [OpenBSD: anchors.html,v 1.21 ]<br>
$Translation: anchors.html,v 1.18 2007/05/07 00:53:29 tkniaz Exp $<br>
@


1.15
log
@sync with steelix translation CVS
@
text
@d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.0"
d134 1
a134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.0"
d208 1
a208 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.0"
d272 1
a272 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.0"
d287 2
a288 2
Originally [OpenBSD: anchors.html,v 1.20 ]<br>
$Translation: anchors.html,v 1.17 2006/11/02 20:00:54 tkniaz Exp $<br>
@


1.14
log
@sync with steelix translation CVS
@
text
@d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.9"
d134 1
a134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.9"
d208 1
a208 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.9"
d272 1
a272 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.9"
d287 2
a288 2
Originally [OpenBSD: anchors.html,v 1.19 ]<br>
$Translation: anchors.html,v 1.16 2006/05/21 00:13:23 tkniaz Exp $<br>
@


1.13
log
@sync with steelix translation CVS
@
text
@d126 2
a127 2
Ten zestaw regu³ sankcjonuje politykê domy¶lnego blokowania dla
zarówno przychodz±cego jak i wychodz±cego ruchu. Ruch jest
d288 1
a288 1
$Translation: anchors.html,v 1.15 2006/05/18 19:07:12 tkniaz Exp $<br>
@


1.12
log
@sync with steelix translation CVS
@
text
@d34 1
a34 1
<a href="../../index.html">
d288 1
a288 1
$Translation: anchors.html,v 1.14 2006/05/01 18:52:44 tkniaz Exp $<br>
@


1.11
log
@sync with Steelix CVS
@
text
@d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.8"
d134 1
a134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.8"
d208 1
a208 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.8"
d272 1
a272 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.8"
d287 2
a288 2
Originally [OpenBSD: anchors.html,v 1.18 ]<br>
$Translation: anchors.html,v 1.13 2005/11/02 15:07:36 tkniaz Exp $<br>
@


1.10
log
@sync with Steelix CVS
@
text
@d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.7"
d134 1
a134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.7"
d208 1
a208 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.7"
d272 1
a272 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.7"
d287 2
a288 2
Originally [OpenBSD: anchors.html,v 1.17 ]<br>
$Translation: anchors.html,v 1.12 2005/08/24 11:41:58 pl-team Exp $<br>
@


1.9
log
@sync with Steelix CVS
@
text
@d286 1
d288 2
a289 1
$Translation: anchors.html,v 1.11 2005/08/20 15:10:14 pl-team Exp $<br>
@


1.8
log
@sync with Polish OpenBSD Doc Project, thanks guys !
@
text
@d4 1
a4 1
<title>PF: Zakotwiczenia i nazwane zestawy (pod)regu³</title>
d14 1
a14 1
Copyright (c) 2003, 2004 Joel Knight <enabled@@myrealbox.com>
d34 4
a37 1
<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
d44 1
a44 1
<h1><font color="#e00000">PF: Zakotwiczenia i nazwane zestawy (pod)regu³</font></h1>
d51 1
a51 1
<li><a href="#named">Nazwane zestawy regu³</a>
d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.6"
d88 5
a92 2
Zakotwiczone (ang. <tt>anchor</tt>) zestawy regu³ s± przetwarzane
w miejscu, gdzie zosta³y podpiête. Na przyk³ad, zakotwiczone zestawy
d99 1
d134 1
a134 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.6"
d141 3
a143 1
tekstowego. Na przyk³ad:
d146 1
a151 5
Podczas ³adowania g³ównego zestawu regu³, regu³y zawarte w pliku
<tt>/etc/anchor-goodguys-ssh</tt> zostan± za³adowane do nazwanego
zestawu regu³ <tt>ssh</tt> podpiêtego do zakotwiczenia <tt>goodguys</tt>.

<p>
a161 7
Dodaje ona regu³ê <tt>pass</tt> do zakotwiczenia <tt>ssh</tt>
do³±czonego do zakotwiczenia <tt>goodguys</tt>. PF dokona nastêpnie
porównania tej regu³y (a tak¿e ka¿dej kolejnej, dodanej regu³y filtruj±cej)
z chwil±, gdy dotrze do linii <tt>anchor "goodguys/*"</tt> w g³ównym
zestawie regu³.

<p>
d169 1
a169 1
# pfctl -a goodguys:www -f /etc/anchor-goodguys-www<br>
a173 5
Ostatnia komenda powoduje za³adowanie regu³ z pliku
<tt>/etc/anchor-goodguys-www</tt> do nazwanego zestawu regu³
<tt>www</tt> w zakotwiczeniu <tt>goodguys</tt>.

<p>
d182 19
a200 1
Ka¿dy nazwany zestaw regu³, podobnie jak i g³ówny zestaw regu³
d205 2
a206 2
ani ¿adnego nazwanego zestawu regu³, który jest do niego podpiêty.
Nazwany zestaw regu³ nie jest niszczony a¿ do momentu wyczyszczenia
d208 3
a210 3
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.6"
>pfctl(8)</a>. Kiedy punkt zakotwiczenia nie posiada ¿adnego,
podpiêtego zestawu tak¿e jest niszczony.
d238 1
a238 1
# echo "pass in from 192.0.2.10 to any" | pfctl -a ssh/allowed -f -
d255 1
a255 2
Aby wy¶wietliæ wszystkie regu³y zakotwiczenia nazwanego
<tt>allowed</tt> podpiêtego do zakotwiczenia <tt>ssh</tt>:
d258 1
a258 1
# pfctl -a ssh/allowed -s rules
d266 1
a266 1
# pfctl -a ssh/allowed -F rules
d272 1
a272 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.6"
d286 2
a287 2
Originally [OpenBSD: anchors.html,v 1.14 ]<br>
$Translation: anchors.html,v 1.10 2004/11/12 13:45:40 pl-team Exp $<br>
@


1.7
log
@Sync with Steelix CVS
@
text
@d50 1
a50 1
<li><a href="#manip">Manipulowanie nazwanymi zestawami regu³</a>
d58 2
a59 2
Poniewa¿ podzestawy mog± byæ modfikowane w trakcie dzia³ania przy pomocy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.5"
d85 6
a90 1
Jedynie g³ówny zestaw regu³ mo¿e zawieraæ dyrektywy <tt>anchor</tt>.
d93 12
a104 12
<h2>Nazwane zestawy regu³</h2>
Nazwany zestaw regu³, to grupa regu³ filtruj±cych i/lub translacji,
które maj± przyporz±dkowan± nazwê. Punkty zakotwiczenia <tt>anchor</tt>
w g³ównym zestawie regu³ mog± zawieraæ wiele takich zestawów regu³.
Gdy PF natrafi na jak±¶ regu³ê <tt>anchor</tt>, zostan± rozwiniête
w kolejno¶ci alfabetycznej, zgodnie z ich nazwami, wszystkie
do³±czone do niego zestawy regu³. Porównywanie regu³ bêdzie nastêpnie
kontynuowane, chyba ¿e pakiet zostanie dopasowany do regu³y
korzystaj±cej z opcji <tt>quick</tt> lub regu³y translacyjnej w tym
zakotwiczeniu, kiedy to dopasowanie bêdzie uznane za ostateczne
i spowoduje zaniechanie dalszego porównywania regu³ w samym,
zakotwiczeniu jak i g³ównym zestawie regu³.
d127 1
a127 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.5"
d152 1
a152 1
&nbsp;&nbsp;&nbsp;| pfctl -a goodguys:ssh -f -
d157 1
a157 1
Dodaje ona regu³ê <tt>pass</tt> do zestawu nazwanego <tt>ssh</tt>
d160 1
a160 1
z chwil±, gdy dotrze do linii <tt>anchor goodguys</tt> w g³ównym
d197 1
a197 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.5"
d227 1
a227 1
# echo "pass in from 192.0.2.10 to any" | pfctl -a ssh:allowed -f -
d237 3
a239 3
<h2>Manipulowanie nazwanymi zestawami regu³</h2>
Manipulowanie nazwanymi zestawami regu³ odbywa siê poprzez
<tt>pfctl</tt>. Program ten mo¿e byæ wykorzystywany do dodawania
d244 2
a245 2
Aby wy¶wietliæ wszystkie regu³y zestawu <tt>allowed</tt>
podpiêtego do zakotwiczenia <tt>ssh</tt>:
d248 1
a248 1
# pfctl -a ssh:allowed -s rules
d253 1
a253 1
Aby wyczy¶ciæ wszystkie regu³y z tego samego zestawu:
d256 1
a256 1
# pfctl -a ssh:allowed -F rules
a260 4
Gdy nazwa zestawu jest pominiêta, akcja odnosi siê do wszystkich
regu³ w zakotwiczeniu.

<p>
d262 1
a262 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.5"
d276 2
a277 2
Originally [OpenBSD: anchors.html,v 1.12 ]<br>
$Translation: anchors.html,v 1.9 2004/10/01 13:18:50 pl-team Exp $<br>
@


1.6
log
@sync with Steelix CVS
@
text
@a10 1
<meta name="copyright"     content="This document copyright 2003-2004 by OpenBSD.">
d13 17
d275 2
a276 2
Originally [OpenBSD: anchors.html,v 1.11 ]<br>
$Translation: anchors.html,v 1.8 2004/05/03 18:20:02 pl-team Exp $<br>
@


1.5
log
@Sync with Steelix CVS
@
text
@d43 1
a43 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.4"
d106 1
a106 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.4"
d176 1
a176 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.4"
d245 1
a245 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.4"
d259 2
a260 2
Originally [OpenBSD: anchors.html,v 1.10 ]<br>
$Translation: anchors.html,v 1.7 2004/01/12 17:37:45 pl-team Exp $<br>
@


1.4
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name="copyright"     content="This document copyright 2003 by OpenBSD.">
d259 2
a260 2
Originally [OpenBSD: anchors.html,v 1.9 ]<br>
$Translation: anchors.html,v 1.6 2003/12/07 21:28:42 pl-team Exp $<br>
@


1.3
log
@Sync with Steelix CVS
@
text
@d20 1
a20 1
[<a href="logging.html">Wstecz: Logowanie</a>]
d22 1
a22 1
[<a href="shortcuts.html">Dalej: Skracanie zestawów regu³</a>]
d44 1
a44 1
><tt>pfctl(8)</tt></a>, mog± stanowiæ wygodny sposób dynamicznego
d101 27
a127 3
a tak¿e tworzone jest zakotwiczenie nazwane  <tt><i>goodguys</i></tt>.
Aby dodaæ regu³ê do zakotwiczenia <tt><i>goodguys</i></tt> mo¿na
u¿yæ nastêpuj±cych komend:
d136 2
a137 2
Dodaje ona regu³ê <tt>pass</tt> do zestawu nazwanego <tt><i>ssh</i></tt>
do³±czonego do zakotwiczenia <tt><i>goodguys</i></tt>. PF dokona nastêpnie
d157 1
a157 1
<tt><i>www</i></tt> w zakotwiczeniu <tt><i>goodguys</i></tt>.
d199 3
a201 2
Regu³y zakotwiczenia <tt>anchor <i>ssh</i></tt> s± przetwarzane jedynie
dla pakietów TCP o docelowym porcie 22, i które nadchodz± przez fxp0.
d223 2
a224 2
Aby wy¶wietliæ wszystkie regu³y zestawu <tt><i>allowed</i></tt>
podpiêtego do zakotwiczenia <tt><i>ssh</i></tt>:
d246 1
a246 1
><tt>pfctl(8)</tt></a>.
d249 1
a249 1
[<a href="logging.html">Wstecz: Logowanie</a>]
d251 1
a251 1
[<a href="shortcuts.html">Dalej: Skracanie zestawów regu³</a>]
d259 2
a260 2
Originally [OpenBSD: anchors.html,v 1.8 ]<br>
$Translation: anchors.html,v 1.4 2003/11/11 15:18:18 pl-team Exp $<br>
@


1.2
log
@sync with steelix cvs
@
text
@d43 1
a43 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d152 1
a152 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d220 1
a220 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d234 2
a235 2
Originally [OpenBSD: anchors.html,v 1.7 ]<br>
$Translation: anchors.html,v 1.3 2003/09/28 14:51:04 pl-team Exp $<br>
@


1.1
log
@sync with Polish translation project
@
text
@d92 1
a92 1
pass  out on $ext_if all keep state<br>
d169 1
a169 1
pass  out on $ext_if all keep state<br>
d234 2
a235 2
Originally [OpenBSD: anchors.html,v 1.5 ]<br>
$Translation: anchors.html,v 1.2 2003/08/31 02:05:47 pl-team Exp $<br>
@

