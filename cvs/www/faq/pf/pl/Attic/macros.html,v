head	1.24;
access;
symbols;
locks; strict;
comment	@# @;


1.24
date	2014.04.01.17.14.11;	author nick;	state dead;
branches;
next	1.23;

1.23
date	2009.11.08.22.09.17;	author tobias;	state Exp;
branches;
next	1.22;

1.22
date	2009.05.04.19.07.52;	author tobias;	state Exp;
branches;
next	1.21;

1.21
date	2008.11.02.00.28.45;	author tobias;	state Exp;
branches;
next	1.20;

1.20
date	2008.08.04.12.05.27;	author tobias;	state Exp;
branches;
next	1.19;

1.19
date	2007.11.12.20.29.59;	author saad;	state Exp;
branches;
next	1.18;

1.18
date	2007.05.09.05.49.53;	author jufi;	state Exp;
branches;
next	1.17;

1.17
date	2006.11.03.07.59.05;	author jufi;	state Exp;
branches;
next	1.16;

1.16
date	2006.05.14.09.54.41;	author saad;	state Exp;
branches;
next	1.15;

1.15
date	2006.05.02.17.09.33;	author jufi;	state Exp;
branches;
next	1.14;

1.14
date	2005.11.03.11.30.54;	author saad;	state Exp;
branches;
next	1.13;

1.13
date	2005.08.24.12.58.45;	author saad;	state Exp;
branches;
next	1.12;

1.12
date	2005.08.21.22.37.28;	author saad;	state Exp;
branches;
next	1.11;

1.11
date	2005.05.19.18.23.06;	author jufi;	state Exp;
branches;
next	1.10;

1.10
date	2005.05.04.17.52.25;	author jufi;	state Exp;
branches;
next	1.9;

1.9
date	2004.11.14.20.02.44;	author jufi;	state Exp;
branches;
next	1.8;

1.8
date	2004.11.12.16.16.53;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2004.10.03.20.05.08;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2004.05.09.09.48.24;	author saad;	state Exp;
branches;
next	1.5;

1.5
date	2004.01.16.21.01.34;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2003.12.08.01.33.24;	author horacio;	state Exp;
branches;
next	1.3;

1.3
date	2003.11.14.23.10.31;	author horacio;	state Exp;
branches;
next	1.2;

1.2
date	2003.09.28.22.28.56;	author horacio;	state Exp;
branches;
next	1.1;

1.1
date	2003.09.02.14.37.19;	author jufi;	state Exp;
branches;
next	;


desc
@@


1.24
log
@
Abandon translations, per deraadt@@ and ajacoutot@@.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Listy i makra</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
</head>

<!--
Copyright (c) 2003, Nick Holland <nick@@openbsd.org>
Copyright (c) 2003, 2004 Joel Knight <enabled@@myrealbox.com>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../../pl/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif" border="0">
</a>
<p>
[<a href="config.html">Wstecz: Pierwsze kroki</a>]
[<a href="index.html">Spis tre¶ci</a>]
[<a href="tables.html">Dalej: Tabele</a>]

<h1><font color="#e00000">PF: Listy i makra</font></h1>
<hr>

<h3>Spis tre¶ci</h3>
<ul>
<li><a href="#lists">Listy</a>
<li><a href="#macros">Makra</a>
</ul>

<hr>

<a name="lists"></a>
<h2>Listy</h2>
Listy pozwalaj± na podawanie wielu podobnych kryteriów w jednej regule.
Na przyk³ad, wielu protoko³ów, numerów portów, adresów, itp.
Dziêki temu, zamiast pisaæ regu³ê filtruj±c± dla ka¿dego adresu IP, który
ma byæ blokowany, mo¿na zapisaæ te adresy IP w postaci listy. Listy
s± definiowane poprzez wymienienie elementów w nawiasach
klamrowych (<tt>{ }</tt>).

<p>
Gdy
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.6"
>pfctl(8)</a> napotyka listê podczas ³adowania zestawu regu³, tworzy
wiele regu³ek, po jednej dla ka¿dego elementu z listy. Na przyk³ad:
<blockquote>
<tt>
block out on fxp0 from { 192.168.0.1, 10.5.32.6 } to any
</tt>
</blockquote>

<p>
jest rozwijane do:
<blockquote>
<tt>
block out on fxp0 from 192.168.0.1 to any<br>
block out on fxp0 from 10.5.32.6 to any
</tt>
</blockquote>

<p>
Wiele list mo¿e byæ wyspecyfikowanych w jednej regule. Listy nie s±
ograniczone jedynie do regu³ filtruj±cych:
<blockquote>
<tt>
rdr on fxp0 proto tcp from any to any port { 22 80 } -&gt; \<br>
&nbsp;&nbsp;&nbsp;192.168.0.6<br>
block out on fxp0 proto { tcp udp } from { 192.168.0.1, \<br> 
&nbsp;&nbsp;&nbsp;10.5.32.6 } to any port { ssh telnet }
</tt>
</blockquote>

<p>
Zwróæ uwagê, ¿e przecinki pomiêdzy elementami list s± opcjonalne.

<p>
Listy mog± tak¿e zawieraæ zagnie¿d¿one listy:

<blockquote>
<tt>
trusted = "{ 192.168.1.2 192.168.5.36 }"<br>
pass in inet proto tcp from { 10.10.0.0/24 $trusted } to port 22
</tt>
</blockquote>

<p>
Wystrzegaj siê konstrukcji jak poni¿sza. Inaczej nazwane "wykluczaj±ce
siê listy", s± czêstym b³êdem:
<blockquote>
<tt>
pass in on fxp0 from { 10.0.0.0/8, !10.1.2.3 }
</tt>
</blockquote>

<p>
Podczas gdy zamierzone znaczenie to dopasowanie równoznaczne
"dowolny adres w 10.0.0.0/8, z wyj±tkiem 10.1.2.3",
regu³a ta jest rozwijana do:
<blockquote>
<tt>
pass in on fxp0 from 10.0.0.0/8<br>
pass in on fxp0 from !10.1.2.3
</tt>
</blockquote>

<p>
która pasuje do dowolnego adresu. Zamiast tego, powiniene¶
skorzystaæ z <a href="tables.html">tablic</a>.

<a name="macros"></a>
<h2>Makra</h2>
Makra s± definiowanymi przez u¿ytkownika zmiennymi które mog± przechowywaæ
adresy IP, numery portów, nazwy interfejsów sieciowych, itp. Makra mog±
ograniczyæ komplikacjê zestawu regu³ PF, a tak¿e powoduj±, ¿e wprowadzanie
zmian jest znacznie prostsze.

<p>
Nazwy makr musz± zaczynaæ siê od litery i mog± zawieraæ: litery, cyfry oraz
podkre¶lniki. Nazwy makr nie mog± byæ zarezerwowanymi s³owami, takimi jak
<tt>pass</tt>, <tt>out</tt>, <tt>queue</tt>, itp.
<blockquote>
<tt>
ext_if = "fxp0"<br>
<br>
block in on $ext_if from any to any<br>
</tt>
</blockquote>

<p>
W tym przyk³adzie utworzono makro <tt>ext_if</tt>. Gdy odwo³uje siê do makra
po jego zdefiniowaniu, robi siê to poprzedzaj±c jego nazwê znakiem <tt>$</tt>.

<p>
Makra mog± byæ tak¿e listami, jak np:
<blockquote>
<tt>
friends = "{ 192.168.1.1, 10.0.2.5, 192.168.43.53 }"
</tt>
</blockquote>

<p>
Makra mog± byæ definiowane rekursywnie. Poniewa¿ makra nie s± rozszerzane
pomiêdzy nawiasami, stosuje siê nastêpuj±c± sk³adniê:
<blockquote>
<tt>
host1      = "192.168.1.1"<br>
host2      = "192.168.1.2"<br>
all_hosts  = "{" $host1 $host2 "}"<br>
</tt>
</blockquote>

<p>
Makro <tt>$all_hosts</tt> jest teraz rozszerzane do 192.168.1.1, 192.168.1.2.

<p>
[<a href="config.html">Wstecz: Pierwsze kroki</a>]
[<a href="index.html">Spis tre¶ci</a>]
[<a href="tables.html">Dalej: Tabele</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[wstecz]"></a> 
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: macros.html,v 1.25 ]<br>
$Translation: macros.html,v 1.22 2009/11/08 19:35:52 tkniaz Exp $<br>
-->
$OpenBSD: macros.html,v 1.23 2009/11/08 22:09:17 tobias Exp $
</small>
</body>
</html> 
@


1.23
log
@Sync with Steelix CVS
@
text
@d192 1
a192 1
$OpenBSD$
@


1.22
log
@Sync with Steelix CVS
@
text
@d65 1
a65 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.5"
d189 2
a190 2
Originally [OpenBSD: macros.html,v 1.24 ]<br>
$Translation: macros.html,v 1.21 2009/05/03 15:43:29 tkniaz Exp $<br>
@


1.21
log
@Sync with Steelix CVS
@
text
@d65 1
a65 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.4"
d189 2
a190 2
Originally [OpenBSD: macros.html,v 1.23 ]<br>
$Translation: macros.html,v 1.20 2008/11/01 23:52:41 tkniaz Exp $<br>
@


1.20
log
@Sync with Steelix CVS
@
text
@d65 1
a65 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.3"
d189 2
a190 2
Originally [OpenBSD: macros.html,v 1.22 ]<br>
$Translation: macros.html,v 1.19 2008/07/30 23:22:49 tkniaz Exp $<br>
@


1.19
log
@Sync with Steelix CVS
@
text
@d65 1
a65 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.2"
d189 2
a190 2
Originally [OpenBSD: macros.html,v 1.21 ]<br>
$Translation: macros.html,v 1.18 2007/11/03 10:20:39 tkniaz Exp $<br>
@


1.18
log
@Sync with steelix translation CVS
@
text
@d65 1
a65 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.1"
d189 2
a190 2
Originally [OpenBSD: macros.html,v 1.20 ]<br>
$Translation: macros.html,v 1.17 2007/05/07 00:53:30 tkniaz Exp $<br>
@


1.17
log
@sync with steelix translation CVS
@
text
@d65 1
a65 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.0"
d189 2
a190 2
Originally [OpenBSD: macros.html,v 1.19 ]<br>
$Translation: macros.html,v 1.16 2006/11/02 20:00:54 tkniaz Exp $<br>
@


1.16
log
@sync with Steelix CVS
@
text
@d65 1
a65 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.9"
d99 10
d189 2
a190 2
Originally [OpenBSD: macros.html,v 1.18 ]<br>
$Translation: macros.html,v 1.15 2006/05/13 00:20:44 tkniaz Exp $<br>
@


1.15
log
@sync with steelix translation CVS
@
text
@d120 1
a120 1
skorzystaæ z <a href="tables.html">tabli</a>.
d180 1
a180 1
$Translation: macros.html,v 1.14 2006/05/01 18:52:44 tkniaz Exp $<br>
@


1.14
log
@sync with Steelix CVS
@
text
@d65 1
a65 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.8"
d179 2
a180 2
Originally [OpenBSD: macros.html,v 1.17 ]<br>
$Translation: macros.html,v 1.13 2005/11/02 15:08:40 tkniaz Exp $<br>
@


1.13
log
@sync with Steelix CVS
@
text
@d65 1
a65 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.7"
d179 2
a180 2
Originally [OpenBSD: macros.html,v 1.16 ]<br>
$Translation: macros.html,v 1.12 2005/08/24 11:42:41 pl-team Exp $<br>
@


1.12
log
@sync with Steelix CVS
@
text
@d178 1
d180 2
a181 1
$Translation: macros.html,v 1.11 2005/08/12 07:53:48 pl-team Exp $<br>
@


1.11
log
@sync with steelxi translation CVS
@
text
@d65 1
a65 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.6"
d178 2
a179 2
Originally [OpenBSD: macros.html,v 1.15 ]<br>
$Translation: macros.html,v 1.10 2005/05/03 21:21:23 pl-team Exp $<br>
@


1.10
log
@huge sync from the translators
@
text
@@


1.9
log
@Sync with Steelix CVS
@
text
@d35 3
a37 1
<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
d178 2
a179 2
Originally [OpenBSD: macros.html,v 1.14 ]<br>
$Translation: macros.html,v 1.9 2004/11/13 16:19:30 pl-team Exp $<br>
@


1.8
log
@sync with Polish OpenBSD Doc Project, thanks guys !
@
text
@d96 24
d176 2
a177 2
Originally [OpenBSD: macros.html,v 1.12 ]<br>
$Translation: macros.html,v 1.8 2004/11/12 13:50:40 pl-team Exp $<br>
@


1.7
log
@Sync with Steelix CVS
@
text
@d63 1
a63 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.5"
d152 2
a153 2
Originally [OpenBSD: macros.html,v 1.11 ]<br>
$Translation: macros.html,v 1.7 2004/10/01 13:19:53 pl-team Exp $<br>
@


1.6
log
@sync with Steelix CVS
@
text
@a10 1
<meta name="copyright"     content="This document copyright 2002-2004 by OpenBSD.">
d13 18
d152 2
a153 2
Originally [OpenBSD: macros.html,v 1.10 ]<br>
$Translation: macros.html,v 1.6 2004/05/03 18:10:43 pl-team Exp $<br>
@


1.5
log
@Sync with Steelix CVS
@
text
@d46 1
a46 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.4"
d135 2
a136 2
Originally [OpenBSD: macros.html,v 1.9 ]<br>
$Translation: macros.html,v 1.5 2004/01/12 17:37:45 pl-team Exp $<br>
@


1.4
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name="copyright"     content="This document copyright 2002-2003 by OpenBSD.">
d135 2
a136 2
Originally [OpenBSD: macros.html,v 1.8 ]<br>
$Translation: macros.html,v 1.4 2003/12/07 16:26:52 pl-team Exp $<br>
@


1.3
log
@Sync with Steelix CVS
@
text
@d20 1
a20 1
[<a href="config.html">Wstecz: Konfiguracja</a>]
d125 1
a125 1
[<a href="config.html">Wstecz: Konfiguracja</a>]
d135 2
a136 2
Originally [OpenBSD: macros.html,v 1.7 ]<br>
$Translation: macros.html,v 1.3 2003/11/13 12:02:55 pl-team Exp $<br>
@


1.2
log
@sync with steelix cvs
@
text
@d46 1
a46 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.3"
d135 2
a136 2
Originally [OpenBSD: macros.html,v 1.6 ]<br>
$Translation: macros.html,v 1.2 2003/09/28 14:46:48 pl-team Exp $<br>
@


1.1
log
@sync with Polish translation project
@
text
@d15 2
d134 3
a136 2
<small>Originally [OpenBSD: macros.html,v 1.4 ]<br>
$Translation: macros.html,v 1.1 2003/08/28 09:46:09 pl-team Exp $<br>
@

