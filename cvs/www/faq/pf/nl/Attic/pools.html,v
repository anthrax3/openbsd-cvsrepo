head	1.26;
access;
symbols;
locks; strict;
comment	@# @;


1.26
date	2014.04.01.17.14.11;	author nick;	state dead;
branches;
next	1.25;

1.25
date	2013.11.02.14.03.43;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2013.05.02.06.05.50;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2013.03.27.18.37.03;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2013.02.22.07.53.37;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2012.11.02.11.41.14;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2012.05.13.16.30.19;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2011.11.03.06.54.03;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2011.11.03.06.53.11;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.09.08.06.46.26;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.05.01.19.01.24;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.03.19.50.18;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2010.05.24.18.32.44;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.12.22.17.49.10;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.10.19.09.39.58;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.05.02.17.33.49;	author tobias;	state Exp;
branches;
next	1.10;

1.10
date	2008.12.13.11.02.10;	author tobias;	state Exp;
branches;
next	1.9;

1.9
date	2007.11.19.10.43.15;	author tobias;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.15.19.23.25;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2006.11.04.17.38.45;	author saad;	state Exp;
branches;
next	1.6;

1.6
date	2006.05.01.09.48.11;	author jufi;	state Exp;
branches;
next	1.5;

1.5
date	2005.11.01.19.05.41;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2005.07.03.07.28.33;	author saad;	state Exp;
branches;
next	1.3;

1.3
date	2005.05.22.17.38.07;	author saad;	state Exp;
branches;
next	1.2;

1.2
date	2005.02.22.16.49.24;	author saad;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.21.12.39.53;	author saad;	state Exp;
branches;
next	;


desc
@@


1.26
log
@
Abandon translations, per deraadt@@ and ajacoutot@@.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF: Adrespools en Load Balancing</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
</head>

<!--
Copyright (c) 2003, 2004 Joel Knight <enabled@@myrealbox.com>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../../nl/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif" border="0">
</a>
<p>
[<a href="queueing.html">Vorige: Packet Queueing en Prioritisering</a>]
[<a href="index.html">Inhoud</a>]
[<a href="tagging.html">Volgende: Pakketmarkering</a>]

<p>
<h1>
<font color="#e00000">PF: Adrespools en Load Balancing</font>
</h1>

<hr>

<h3>Inhoudsopgave</h3>
<ul>
<li><a href="#intro">Inleiding</a>
<li><a href="#nat">NAT Adrespool</a>
<li><a href="#incoming">Load Balancing van Binnenkomende Verbindingen</a>
<li><a href="#outgoing">Load Balancing van Buitengaand Verkeer</a>
	<ul>
	<li><a href="#outexample">Regelset Voorbeeld</a>
	</ul>
</ul>

<hr>

<a name="intro"></a>
<h2>Inleiding</h2>
Een adrespool is een voorraad van twee of meer adressen waarvan het
gebruik gedeeld wordt onder een groep van gebruikers. Een adrespool kan
gespecificeerd worden als het vertalingsadres in
<tt>nat-to</tt>, <tt>rdr-to</tt>,<tt>route-to</tt>,
<tt>reply-to</tt> en <tt>dup-to</tt> <a href="filter.html">filter</a>
opties.

<p>
Er zijn vier methodes om een adrespool te gebruiken:
<ul>
<li><tt>bitmask</tt> - ent het netwerkgedeelte van het pooladres bovenop
het adres dat gewijzigd wordt (bronadres voor <tt>nat-to</tt> regels,
bestemmingsadres voor <tt>rdr-to</tt> regels).
Voorbeeld: als de adrespool 192.0.2.1/24 is en het adres dat gewijzigd
wordt 10.0.0.50, dan zal het resulterende adres 192.0.2.50 zijn. Als de
adrespool 192.0.2.1/25 is en het adres dat gewijzigd wordt 10.0.0.130,
dan zal het resulterende adres 192.0.2.2 zijn.
<li><tt>random</tt> - selecteert random een adres uit de pool.
<li><tt>source-hash</tt> - gebruikt een hash van het bronadres om te bepalen
welk adres uit de pool gebruikt moet worden. Deze methode verzekert dat een
gegeven bronadres steeds afgebeeld wordt op hetzelfde pooladres.
De sleutel waarmee het hash-algoritme gevoed wordt, kan optioneel gespecificeerd
worden na het <tt>source-hash</tt> sleutelwoord in hex formaat of als een
string. Standaard zal
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+5.4"
>pfctl(8)</a> een random sleutel genereren elke keer de regelset wordt
geladen.
<li><tt>round-robin</tt> - loopt door de adrespool in volgorde. Dit is
de standaardmethode en ook de enige toegelaten methode wanneer de adrespool
gespecificeerd wordt met een <a href="tables.html">tabel</a>.
</ul>

<p>
Behalve voor de <tt>round-robin</tt> methode, moet de adrespool uitgedrukt
worden als een
<a href="http://public.swbell.net/dedicated/cidr.html">CIDR</a>
(Classless Inter-Domain Routing) netwerkblok. De <tt>round-robin</tt>
methode zal meerdere individuele adressen aannemen bij gebruik van een
<a href="macros.html#lists">lijst</a> of <a href="tables.html">tabel</a>.

<p>
De <tt>sticky-address</tt> optie kan gebruikt worden met de <tt>random</tt>
en <tt>round-robin</tt> pooltypes om te verzekeren dat een bepaald bronadres
steeds afgebeeld wordt op hetzelfde omleidingsadres.

<a name="nat"></a>
<h2>NAT Adrespool</h2>
Een adrespool kan gebruikt worden als het vertalingsadres in
<a href="nat.html"><tt>nat-to</tt></a> regels. Het bron adres van verbindingen
zal vertaald worden naar een adres van de pool op basis van de gekozen
methode. Dit kan nuttig zijn in situaties waar PF NAT uitvoert vor een heel
groot netwerk. Aangezien het aantal NAT-verbindingen per vertalingsadres
beperkt is, zal het toevoegen van bijkomende vertalingsadressen de NAT
gateway toelaten te vergroten om een groter aantal gebruikers te bedienen.

<p>
In dit voorbeeld wordt een pool van twee adressen gebruikt om buitengaande
pakketten te vertalen. Voor elke buitengaande verbinding zal PF doorheen
de adressen roteren op een "round-robin" manier.
<blockquote>
<tt>
match out on $ext_if inet nat-to { 192.0.2.5, 192.0.2.10 }
</tt>
</blockquote>

<p>
Eén nadeel met deze methode is dat opeenvolgende verbindingen vanaf hetzelfde
interne adres niet altijd zullen vertaald worden naar hetzelfde
vertalingsadres. Dit kan interferentie veroorzaken, bijvoorbeeld wanneer men
naar websites surft die gebruikerlogins traceren op basis van IP adres. Een
alternatieve aanpak is om de <tt>source-hash</tt> methode te gebruiken zodat
elk intern adres altijd vertaald wordt naar hetzelfde vertalingsadres.
Om dit te doen, moet de adrespool een 
<a href="http://public.swbell.net/dedicated/cidr.html">CIDR</a>
netwerkblok zijn.
<blockquote>
<tt>
match out on $ext_if inet nat-to 192.0.2.4/31 source-hash
</tt>
</blockquote>

<p>
Deze regel gebruikt de adrespool 192.0.2.4/31 (192.0.2.4 -
192.0.2.5) als het vertalingsadres voor buitengaande pakketten. Elk intern
adres zal altijd vertaald worden naar hetzelfde vertalingsadres omwille van
het <tt>source-hash</tt> sleutelwoord.

<a name="incoming"></a>
<h2>Load Balance van Binnenkomende Verbindingen</h2>
Adrespools kunnen ook gebruikt worden om de belasting te verdelen voor
binnenkomende verbindingen. Binnenkomende webserver verbindingen kunnen
bijvoorbeeld verdeeld worden onder een webserver farm:
<blockquote>
<tt>
web_servers = "{ 10.0.0.10, 10.0.0.11, 10.0.0.13 }"<br>
<br>
match in on $ext_if proto tcp to port 80 rdr-to $web_servers \<br>
&nbsp;&nbsp;&nbsp;&nbsp;round-robin sticky-address
</tt>
</blockquote>

<p>
Opeenvolgende verbindingen zullen omgeleid worden naar de webservers op
een "round-robin" manier waarbij verbindingen van hetzelfde bronadres
naar dezelfde webserver gestuurd worden.
Deze "sticky" verbinding zal bestaan zolang er toestanden zijn die naar
deze verbinding verwijzen.
Zodra de toestanden vervallen, zal ook de sticky verbinding dat doen.
Verdere verbindingen vanaf die host zullen omgeleid worden naar de volgende
webserver in de round robin.

<a name="outgoing"></a>
<h2>Load Balance van Buitengaand Verkeer</h2>
Adrespools kunnen gebruikt worden in combinatie met de <tt>route-to</tt>
filteroptie om de belasting te verdelen van twee of meer Internetverbindingen
wanneer een echt multi-path routeringsprotocol (zoals
<a href="http://www.rfc-editor.org/rfc/rfc1771.txt">BGP4</a>) niet
beschikbaar is. Door <tt>route-to</tt> te gebruiken met een
<tt>round-robin</tt> adrespool, kunnen buitengaande verbindingen gelijk
verdeeld worden tussen meerdere uitwaartse paden.

<p>
Een bijkomend stuk informatie dat nodig is om dit te doen is het IP adres
van de nabijgelegen router op elke Internetverbinding. Dit wordt aan de
<tt>route-to</tt> optie meegegeven om de bestemming van buitengaande
pakketten te regelen.

<p>
Het volgende voorbeeld balanceert buitengaand verkeer over twee
Internetverbindingen:
<blockquote>
<tt>
lan_net = "192.168.0.0/24"<br>
int_if &nbsp;= "dc0"<br>
ext_if1 = "fxp0"<br>
ext_if2 = "fxp1"<br>
ext_gw1 = "68.146.224.1"<br>
ext_gw2 = "142.59.76.1"<br>
<br>
pass in on $int_if from $lan_net \<br>
&nbsp;&nbsp;&nbsp;route-to { ($ext_if1 $ext_gw1), ($ext_if2 $ext_gw2) }\<br>
&nbsp;&nbsp;&nbsp;round-robin
</tt>
</blockquote>

<p>
De <tt>route-to</tt> optie wordt gebruikt op verkeer dat <i>binnen</i> komt
op de <i>interne</i> interface om de buitengaande netwerkinterfaces te
specificeren waartussen verkeer gebalanceerd zal worden, samen met hun
respectievelijke gateways.
Merk op dat de <tt>route-to</tt> optie aanwezig moet zijn op <i>elke</i>
filterregel waarvoor verkeer gebalanceerd moet worden (deze kan niet gebruikt
worden met <tt>match</tt> regels).

<p>
Om te verzekeren dat pakketten met een bronadres horend bij
<tt>$ext_if1</tt> altijd gerouteerd worden naar <tt>$ext_gw1</tt> (en
gelijkaardig voor <tt>$ext_if2</tt> en <tt>$ext_gw2</tt>), moeten de
volgende twee lijnen in de regelset staan:
<blockquote>
<tt>
pass out on $ext_if1 from $ext_if2 \<br>
&nbsp;&nbsp;&nbsp;route-to ($ext_if2 $ext_gw2)<br>
pass out on $ext_if2 from $ext_if1 \<br>
&nbsp;&nbsp;&nbsp;route-to ($ext_if1 $ext_gw1)
</tt>
</blockquote>

<p>
Tenslotte kan NAT ook gebruikt worden op elke buitengaande interface:
<blockquote>
<tt>
match out on $ext_if1 from $lan_net nat-to ($ext_if1)<br>
match out on $ext_if2 from $lan_net nat-to ($ext_if2)
</tt>
</blockquote>

<a name="outexample"></a>
<p>
Een volledig voorbeeld dat buitengaand verkeer balanceert, zou er
ongeveer als volgt kunnen uitzien:

<p>
<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
lan_net = "192.168.0.0/24"
int_if  = "dc0"
ext_if1 = "fxp0"
ext_if2 = "fxp1"
ext_gw1 = "68.146.224.1"
ext_gw2 = "142.59.76.1"

#  nat buitengaande verbindingen op elke internet interface
match out on $ext_if1 from $lan_net nat-to ($ext_if1)
match out on $ext_if2 from $lan_net nat-to ($ext_if2)

#  default deny
block in
block out

#  laat alle buitengaande pakketten door op interne interface
pass out on $int_if to $lan_net
#  pass in quick pakketten bestemd voor de gateway zelf
pass in quick on $int_if from $lan_net to $int_if
#  load balance buitengaand verkeer vanaf intern netwerk.
pass in on $int_if from $lan_net \
    route-to { ($ext_if1 $ext_gw1), ($ext_if2 $ext_gw2) } \
    round-robin
#  hou https verkeer op één enkele connectie; sommige webapplicaties,
#  vooral de "veilige", staan niet toe om het in een sessie te wijzigen
pass in on $int_if proto tcp from $lan_net to port https \
    route-to ($ext_if1 $ext_gw1)

#  algemene "pass out" regels voor externe interfaces
pass out on $ext_if1
pass out on $ext_if2

#  routeer pakketten van gelijk welke IPs op $ext_if1 naar $ext_gw1 en
#  hetzelfde voor $ext_if2 en $ext_gw2
pass out on $ext_if1 from $ext_if2 route-to ($ext_if2 $ext_gw2)
pass out on $ext_if2 from $ext_if1 route-to ($ext_if1 $ext_gw1)
</pre>
</td></tr>
</table>

<p>
[<a href="queueing.html">Vorige: Packet Queueing en Prioritisering</a>]
[<a href="index.html">Inhoud</a>]
[<a href="tagging.html">Volgende: Pakketmarkering</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[terug]"></a> 
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: pools.html,v 1.35 ]<br>
$Translation: pools.html,v 1.24 2013/11/02 12:49:28 maurice Exp $<br>
-->
$OpenBSD: pools.html,v 1.25 2013/11/02 14:03:43 ajacoutot Exp $
</small>

</body>
</html> 
@


1.25
log
@Sync with Steelix CVS
@
text
@d305 1
a305 1
$OpenBSD$
@


1.24
log
@Sync with Steelix CVS
@
text
@d88 1
a88 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+5.3"
d302 2
a303 2
Originally [OpenBSD: pools.html,v 1.34 ]<br>
$Translation: pools.html,v 1.23 2013/05/01 17:37:04 maurice Exp $<br>
@


1.23
log
@Sync with Steelix CVS
@
text
@d88 1
a88 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+5.2"
d302 2
a303 2
Originally [OpenBSD: pools.html,v 1.33 ]<br>
$Translation: pools.html,v 1.22 2013/03/26 18:14:20 maurice Exp $<br>
@


1.22
log
@Sync with Steelix CVS
@
text
@d137 1
a137 1
<a href="http://public.pacbell.net/dedicated/cidr.html">CIDR</a>
d303 1
a303 1
$Translation: pools.html,v 1.21 2013/02/21 18:55:16 maurice Exp $<br>
@


1.21
log
@Sync with Steelix CVS
@
text
@d99 1
a99 1
<a href="http://public.pacbell.net/dedicated/cidr.html">CIDR</a>
d302 2
a303 2
Originally [OpenBSD: pools.html,v 1.32 ]<br>
$Translation: pools.html,v 1.20 2012/11/02 10:45:33 maurice Exp $<br>
@


1.20
log
@Sync with Steelix CVS
@
text
@d88 1
a88 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+5.1"
d302 2
a303 2
Originally [OpenBSD: pools.html,v 1.31 ]<br>
$Translation: pools.html,v 1.19 2012/05/11 17:18:36 maurice Exp $<br>
@


1.19
log
@Sync with Steelix CVS
@
text
@d88 1
a88 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+5.0"
d302 2
a303 2
Originally [OpenBSD: pools.html,v 1.30 ]<br>
$Translation: pools.html,v 1.18 2011/11/02 18:31:41 maurice Exp $<br>
@


1.18
log
@Sync with Steelix CVS
@
text
@@


1.17
log
@Sync with Steelix CVS
@
text
@d88 1
a88 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.9"
d302 2
a303 2
Originally [OpenBSD: pools.html,v 1.29 ]<br>
$Translation: pools.html,v 1.17 2011/09/07 20:11:46 maurice Exp $<br>
@


1.16
log
@Sync with Steelix CVS
@
text
@d203 2
a204 2
pass in on $int_if from $lan_net \
&nbsp;&nbsp;&nbsp;route-to { ($ext_if1 $ext_gw1), ($ext_if2 $ext_gw2) } \
d302 2
a303 2
Originally [OpenBSD: pools.html,v 1.28 ]<br>
$Translation: pools.html,v 1.16 2011/05/01 15:20:32 maurice Exp $<br>
@


1.15
log
@Sync with Steelix CVS
@
text
@d88 1
a88 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.8"
d302 2
a303 2
Originally [OpenBSD: pools.html,v 1.27 ]<br>
$Translation: pools.html,v 1.15 2010/11/03 18:34:56 maurice Exp $<br>
@


1.14
log
@Sync with Steelix CVS
@
text
@d88 1
a88 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.7"
d302 2
a303 2
Originally [OpenBSD: pools.html,v 1.26 ]<br>
$Translation: pools.html,v 1.14 2010/05/23 16:56:45 maurice Exp $<br>
@


1.13
log
@Sync with Steelix CVS
@
text
@d66 4
a69 5
gespecificeerd worden als het omleidingsadres in
<a href="rdr.html"><tt>rdr</tt></a> regels, als het vertalingsadres in
<a href="nat.html"><tt>nat</tt></a> regels, en als het doeladres in
<tt>route-to</tt>, <tt>reply-to</tt> en <tt>dup-to</tt>
<a href="filter.html">filter</a>opties.
d75 2
a76 2
het adres dat gewijzigd wordt (bronadres voor <tt>nat</tt> regels,
bestemmingsadres voor <tt>rdr</tt> regels).
d88 1
a88 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.6"
d112 1
a112 1
<a href="nat.html"><tt>nat</tt></a> regels. Het source adres van verbindingen
d125 1
a125 1
nat on $ext_if inet -&gt; { 192.0.2.5, 192.0.2.10 }
d141 1
a141 1
nat on $ext_if inet -&gt; 192.0.2.4/31 source-hash
d146 1
a146 1
Deze <tt>nat</tt> regel gebruikt de adrespool 192.0.2.4/31 (192.0.2.4 -
d160 1
a160 1
rdr on $ext_if proto tcp to port 80 -&gt; $web_servers \<br>
d203 3
a205 3
pass in on $int_if route-to \<br>
&nbsp;&nbsp;&nbsp;{ ($ext_if1 $ext_gw1), ($ext_if2 $ext_gw2) } round-robin \<br>
&nbsp;&nbsp;&nbsp;from $lan_net to any
d213 4
a216 5
respectievelijke gateways. Merk op dat de <tt>route-to</tt> optie aanwezig
moet zijn op <i>elke</i> filterregel waarvoor verkeer gebalanceerd moet
worden. Terugkerende pakketten zullen teruggerouteerd worden naar dezelfde
externe interface die ze verlieten (dit wordt gedaan door de ISP's) en
zullen normaal teruggerouteerd worden naar het interne netwerk.
d225 4
a228 4
pass out on $ext_if1 route-to ($ext_if2 $ext_gw2) from $ext_if2 \<br>
&nbsp;&nbsp;&nbsp;to any<br>
pass out on $ext_if2 route-to ($ext_if1 $ext_gw1) from $ext_if1 \<br>
&nbsp;&nbsp;&nbsp;to any 
d236 2
a237 2
nat on $ext_if1 from $lan_net -&gt; ($ext_if1)<br>
nat on $ext_if2 from $lan_net -&gt; ($ext_if2)
d258 2
a259 2
nat on $ext_if1 from $lan_net -&gt; ($ext_if1)
nat on $ext_if2 from $lan_net -&gt; ($ext_if2)
d270 3
a272 3
pass in on $int_if route-to \
    { ($ext_if1 $ext_gw1), ($ext_if2 $ext_gw2) } round-robin \
    from $lan_net
d275 2
a276 2
pass in on $int_if route-to ($ext_if1 $ext_gw1) \
    proto tcp from $lan_net to port https
d284 2
a285 2
pass out on $ext_if1 route-to ($ext_if2 $ext_gw2) from $ext_if2
pass out on $ext_if2 route-to ($ext_if1 $ext_gw1) from $ext_if1
d302 2
a303 2
Originally [OpenBSD: pools.html,v 1.25 ]<br>
$Translation: pools.html,v 1.13 2009/12/15 22:13:13 maurice Exp $<br>
@


1.12
log
@Sync with Steelix CVS
@
text
@d126 1
a126 1
nat on $ext_if inet from any to any -&gt; { 192.0.2.5, 192.0.2.10 }
d142 1
a142 1
nat on $ext_if inet from any to any -&gt; 192.0.2.4/31 source-hash
d161 1
a161 1
rdr on $ext_if proto tcp from any to any port 80 -&gt; $web_servers \<br>
d206 1
a206 1
&nbsp;&nbsp;&nbsp;from $lan_net to any keep state
d238 2
a239 2
nat on $ext_if1 from $lan_net to any -&gt; ($ext_if1)<br>
nat on $ext_if2 from $lan_net to any -&gt; ($ext_if2)
d260 2
a261 2
nat on $ext_if1 from $lan_net to any -&gt; ($ext_if1)
nat on $ext_if2 from $lan_net to any -&gt; ($ext_if2)
d264 2
a265 2
block in  from any to any
block out from any to any
d268 1
a268 1
pass out on $int_if from any to $lan_net
d271 1
a271 1
#  load balance buitengaand tcp verkeer vanaf intern netwerk
d274 5
a278 5
    proto tcp from $lan_net to any flags S/SA modulate state
#  load balance buitengaand udp en icmp verkeer vanaf intern netwerk
pass in on $int_if route-to \
    { ($ext_if1 $ext_gw1), ($ext_if2 $ext_gw2) } round-robin \
    proto { udp, icmp } from $lan_net to any keep state
d281 2
a282 4
pass out on $ext_if1 proto tcp from any to any flags S/SA modulate state
pass out on $ext_if1 proto { udp, icmp } from any to any keep state
pass out on $ext_if2 proto tcp from any to any flags S/SA modulate state
pass out on $ext_if2 proto { udp, icmp } from any to any keep state
d286 2
a287 2
pass out on $ext_if1 route-to ($ext_if2 $ext_gw2) from $ext_if2 to any 
pass out on $ext_if2 route-to ($ext_if1 $ext_gw1) from $ext_if1 to any 
d304 2
a305 2
Originally [OpenBSD: pools.html,v 1.24 ]<br>
$Translation: pools.html,v 1.12 2009/10/18 22:53:10 maurice Exp $<br>
@


1.11
log
@Sync with Steelix CVS
@
text
@d89 1
a89 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.5"
d306 2
a307 2
Originally [OpenBSD: pools.html,v 1.23 ]<br>
$Translation: pools.html,v 1.11 2009/05/01 15:28:39 maurice Exp $<br>
@


1.10
log
@Sync with Steelix CVS
@
text
@d89 1
a89 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.4"
d306 2
a307 2
Originally [OpenBSD: pools.html,v 1.22 ]<br>
$Translation: pools.html,v 1.10 2008/12/04 21:56:58 maurice Exp $<br>
@


1.9
log
@Sync with Steelix CVS
@
text
@d89 1
a89 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.2"
d306 2
a307 2
Originally [OpenBSD: pools.html,v 1.20 ]<br>
$Translation: pools.html,v 1.9 2007/11/18 10:30:31 smestdag Exp $<br>
@


1.8
log
@Sync with steelix translation CVS
@
text
@d89 1
a89 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.1"
d306 2
a307 2
Originally [OpenBSD: pools.html,v 1.19 ]<br>
$Translation: pools.html,v 1.8 2007/05/14 18:52:58 smestdag Exp $<br>
@


1.7
log
@sync with Steelix CVS
@
text
@d89 1
a89 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.0"
d306 2
a307 2
Originally [OpenBSD: pools.html,v 1.18 ]<br>
$Translation: pools.html,v 1.7 2006/11/03 17:10:08 smestdag Exp $<br>
@


1.6
log
@sync with steelix translation CVS
@
text
@d89 1
a89 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.9"
d306 2
a307 2
Originally [OpenBSD: pools.html,v 1.17 ]<br>
$Translation: pools.html,v 1.6 2006/05/01 08:05:00 smestdag Exp $<br>
@


1.5
log
@sync with steelix translation CVS
@
text
@d89 1
a89 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.8"
d306 2
a307 2
Originally [OpenBSD: pools.html,v 1.16 ]<br>
$Translation: pools.html,v 1.5 2005/11/01 12:25:57 smestdag Exp $<br>
@


1.4
log
@sync with Steelix CVS
@
text
@d89 1
a89 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.7"
d306 2
a307 2
Originally [OpenBSD: pools.html,v 1.15 ]<br>
$Translation: pools.html,v 1.4 2005/07/01 14:52:32 smestdag Exp $<br>
@


1.3
log
@sync with Steelix CVS
@
text
@d49 1
a49 1
<h3>Inhoudstafel</h3>
d307 1
a307 1
$Translation: pools.html,v 1.3 2005/05/21 07:45:06 smestdag Exp $<br>
@


1.2
log
@sync with Steelix CVS
@
text
@d89 1
a89 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.6"
d306 2
a307 2
Originally [OpenBSD: pools.html,v 1.14 ]<br>
$Translation: pools.html,v 1.2 2005/02/21 13:50:22 smestdag Exp $<br>
@


1.1
log
@sync with Steelix CVS
@
text
@d305 1
d307 2
a308 1
$Translation: pools.html,v 1.1 2005/02/20 00:54:28 smestdag Exp $<br>
@

