head	1.38;
access;
symbols;
locks; strict;
comment	@# @;


1.38
date	2014.04.01.17.14.10;	author nick;	state dead;
branches;
next	1.37;

1.37
date	2013.11.01.18.04.05;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2013.05.07.12.47.22;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2012.11.02.07.24.05;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2012.05.19.22.52.00;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2012.05.13.16.30.18;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2011.11.05.12.45.49;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2011.05.07.08.22.01;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2010.11.09.08.15.20;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.05.24.18.32.44;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2009.10.20.20.44.42;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.05.01.13.16.23;	author tobias;	state Exp;
branches;
next	1.26;

1.26
date	2008.12.01.07.52.52;	author tobias;	state Exp;
branches;
next	1.25;

1.25
date	2008.08.25.14.21.24;	author tobias;	state Exp;
branches;
next	1.24;

1.24
date	2008.01.13.13.43.34;	author tobias;	state Exp;
branches;
next	1.23;

1.23
date	2007.05.09.05.49.53;	author jufi;	state Exp;
branches;
next	1.22;

1.22
date	2007.02.14.19.01.55;	author jufi;	state Exp;
branches;
next	1.21;

1.21
date	2007.02.06.06.04.56;	author saad;	state Exp;
branches;
next	1.20;

1.20
date	2006.11.02.18.23.22;	author jufi;	state Exp;
branches;
next	1.19;

1.19
date	2006.05.02.17.09.33;	author jufi;	state Exp;
branches;
next	1.18;

1.18
date	2006.03.10.16.35.07;	author saad;	state Exp;
branches;
next	1.17;

1.17
date	2005.11.03.11.30.53;	author saad;	state Exp;
branches;
next	1.16;

1.16
date	2005.07.28.09.54.34;	author saad;	state Exp;
branches;
next	1.15;

1.15
date	2005.05.22.17.38.07;	author saad;	state Exp;
branches;
next	1.14;

1.14
date	2005.02.13.17.41.41;	author saad;	state Exp;
branches;
next	1.13;

1.13
date	2005.01.18.09.54.52;	author jufi;	state Exp;
branches;
next	1.12;

1.12
date	2004.12.29.10.38.26;	author saad;	state Exp;
branches;
next	1.11;

1.11
date	2004.11.12.13.05.45;	author jufi;	state Exp;
branches;
next	1.10;

1.10
date	2004.11.01.02.56.29;	author saad;	state Exp;
branches;
next	1.9;

1.9
date	2004.10.13.14.44.30;	author jufi;	state Exp;
branches;
next	1.8;

1.8
date	2004.10.11.16.17.48;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2004.10.07.10.24.20;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2004.05.31.21.12.02;	author saad;	state Exp;
branches;
next	1.5;

1.5
date	2004.05.12.20.51.36;	author saad;	state Exp;
branches;
next	1.4;

1.4
date	2004.05.06.21.34.05;	author saad;	state Exp;
branches;
next	1.3;

1.3
date	2004.02.20.06.33.11;	author jufi;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.03.19.45.23;	author jufi;	state Exp;
branches;
next	1.1;

1.1
date	2003.12.29.22.13.35;	author horacio;	state Exp;
branches;
next	;


desc
@@


1.38
log
@
Abandon translations, per deraadt@@ and ajacoutot@@.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF : Authpf : Shell Utilisateur pour les Passerelles
d'Authentification</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
</head>

<!--

Copyright (c) 2003-2007 Joel Knight <enabled@@myrealbox.com>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../../fr/index.html">
<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif" border="0">
</a>
<p>
[<a href="ftp.html">Précédent : Problèmes avec FTP</a>]
[<a href="index.html">Index</a>]
[<a href="carp.html">Suivant : Haute disponibilité des pare-feux avec
CARP et pfsync</a>]

<h1><font color="#e00000">PF : Authpf : Shell Utilisateur pour les
    Passerelles d'Authentification</font></h1>

<hr>

<h3>Table des Matières</h3>
<ul>
<li><a href="#intro">Introduction</a>
<li><a href="#config">Configuration</a>
        <ul>
        <li><a href="#enable">Activer Authpf</a>
        <li><a href="#linkmain">Attacher Authpf au Jeu de Règles
            Principal</a>
        <li><a href="#loadrules">Configurer les Règles Chargées</a>
        <li><a href="#acl">Les Listes de Contrôle d'Accès</a>
        <li><a href="#message">Présenter un Message de Login</a>
        <li><a href="#shell">Attribuer Authpf comme Shell
            Utilisateur</a>
        </ul>
<li><a href="#loginclass">Créer une classe d'authentification Authpf</a>
<li><a href="#wholog">Voir Les Personnes Connectées</a>
<li><a href="#example">Exemple</a>
</ul>

<hr>

<a name="intro"></a>
<h2>Introduction</h2>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+5.4">Authpf(8)</a> 
est un shell utilisateur pour les passerelles d'authentification. Une
passerelle d'authentification est comme n'importe quelle passerelle
réseau normale (un routeur) excepté que les utilisateurs doivent d'abord
s'authentifier sur la passerelle avant que celle-ci ne permette au
trafic généré par les utilisateurs de la traverser. Quand le shell d'un
utilisateur est
<tt>/usr/sbin/authpf</tt> (au lieu que son shell soit
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1"
>ksh(1)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh(1)</a>, 
etc) et que l'utilisateur se connecte en utilisant SSH, authpf fera les
modifications nécessaires au jeu de règles
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+5.4">pf(4)</a> 
actif de telle manière à permettre au trafic généré par l'utilisateur de
passer à travers les filtres et/ou d'être traduit en utilisant la
Traduction d'Adresses IP ("NAT") ou d'être redirigé. Une fois que
l'utilisateur se déconnecte ou que sa session est terminée, authpf
supprimera toutes les règles chargées pour l'utilisateur et enlevera
toutes les connexions avec maintien d'état que l'utilisateur aura
ouverte. Ainsi, le trafic de l'utilisateur ne passera à travers la
passerelle que si l'utilisateur garde sa session SSH ouverte.

<p>
Authpf charge les règles dans un <a href="anchors.html">
point d'ancrage</a> unique.
L'ancre est nommée par la combinaison de l'identifiant UNIX de l'utilisateur
et de l'id du processus authpf dans le format "<tt>identifiant(PID)</tt>".
Chaque ancre utilisateur est stockée dans l'ancre <tt>authpf</tt> qui est
elle même ancrée dans le jeu de règles principal.

Le "chemin d'ancrage complet" devient dès lors :

<blockquote>
<tt>
<i>jeu_de_regles_principal</i>/authpf/<i>identifiant</i>(<i>PID</i>)
</tt>
</blockquote>

<p>

Les règles qu'authpf charge peuvent être configurées par utilisateur ou
globalement.

<p>
Voici quelques exemples d'utilisation d'authpf :
<ul>
<li>Exiger que les utilisateurs s'authentifient avant de permettre un
    accès à Internet.
<li>Permettre à certains utilisateurs -- tels que les administrateurs --
    l'accès à certaines parties restreintes du réseau.
<li>Permettre uniquement aux utilisateurs connus l'accès au reste du
    réseau ou à Internet depuis un segment de réseau sans fil.
<li>Permettre à des travailleurs d'accéder à des ressources du système
    d'information de l'entreprise depuis chez eux, lorsqu'ils sont sur
    la route... Les utilisateurs en dehors des bureaux peuvent avoir
    accès au réseau d'entreprise et aussi être redirigés vers des
    ressources spécifiques (leur propre station de travail par exemple)
    selon le nom d'utilisateur qu'ils utilisent pour s'authentifier.
<li>Dans une configuration telle que celle d'une bibliothèque ou un
    autre lieu équipé de terminaux avec un accès Internet public, PF
    peut être configuré pour permettre un accès limité à Internet aux
    utilisateurs de passage. Authpf peut alors être utilisé pour
    permettre aux utilisateurs connus un accès complet.
</ul>

<p>
Authpf enregistre le nom d'utilisateur et l'adresse IP de chaque
utilisateur qui réussit à s'authentifier ainsi que le début et la fin de
leur session. L'enregistrement se fait via
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8">syslogd(8)</a>. 
En utilisant cette information, un administrateur peut déterminer qui
s'est connecté et responsabiliser les utilisateurs par rapport à leur
trafic réseau.

<a name="config"></a>
<h2>Configuration</h2>
La section suivante fournit les étapes de base nécessaires pour
configurer authpf. Pour une description complète de la configuration
d'authpf, veuillez consulter la
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+5.4"
>page du manuel authpf</a>.

<a name="enable"></a>
<h3>Activer Authpf</h3>

<p>
Authpf ne se lancera pas si le fichier de configuration <tt>/etc/authpf/authpf.conf</tt>
n'est pas présent.
Le fichier peut-être vide (de taille nulle), mais tant qu'il est présent 
authpf se fermera automatiquement après qu'un utilisateur s'authentifie correctement.

<p>
Les directives de configuration suivantes peuvent êtres placées dans
<tt>authpf.conf</tt> :

<ul>
<li><tt>anchor=<i>nom</i></tt> - Utiliser
<a href="anchors.html">l'ancre</a> nom spécifiée au lieu de "authpf".
<li><tt>table=<i>nom</i></tt> - Utiliser la table
<a href="tables.html">table</a> nom spécifiée au lieu de "authpf_users".
</ul>

<a name="linkmain"></a>
<h3>Attacher Authpf au Jeu de Règles Principal</h3>
Authpf peut être rattaché au jeu de règles principal en utilisant des
règles d'ancrage. Ces règles utilisent le mot-clé <tt>anchor</tt> :
<blockquote>
<tt>
anchor "authpf/*"<br>
</tt>
</blockquote>

<p>
PF &quot;sortira&quot; du jeu de règles principal pour évaluer les
règles authpf à l'endroit où les règles <tt>anchor</tt> sont placées
dans le jeu de règles.

<a name="loadrules"></a>
<h3>Configurer les Règles Chargées</h3>
Authpf charge les règles à partir d'un des deux fichiers suivants :
<ul>
<li><tt>/etc/authpf/users/$USER/authpf.rules</tt>
<li><tt>/etc/authpf/authpf.rules</tt>
</ul>

<p>
Le premier fichier contient des règles qui seront uniquement chargées
lorsque l'utilisateur <tt>$USER</tt> (cette variable étant à remplacer
par le nom d'utilisateur) se connecte. La configuration spécifique par
utilisateur est utilisée lorsqu'un utilisateur donné -- un
administrateur par exemple -- nécessite un jeu de règles différent du
jeu de règles authpf par défaut. Le deuxième fichier contient les règles
par défaut qui sont chargées pour tout utilisateur qui ne possède pas
son propre fichier <tt>authpf.rules</tt>. Si le fichier spécifique à
l'utilisateur existe, il est chargé au lieu du fichier par défaut. Au
moins un des fichiers doit exister. Autrement authpf ne fonctionnera
pas.

<p>
Les règles ont la même syntaxe que pour
n'importe quel autre jeu de règles PF avec une seule exception : Authpf
permet l'utilisation de deux macros prédéfinies :
<ul>
<li><tt>$user_ip</tt> - l'adresse IP de l'utilisateur connecté
<li><tt>$user_id</tt> - le nom d'utilisateur de l'utilisateur connecté
</ul>

<p>
Il est recommandé d'utiliser la macro <tt>$user_ip</tt> pour ne
permettre que le trafic provenant de la machine de l'utilisateur
authentifié.

<p>
En plus de la macro <tt>$user_ip</tt>, authpf utilisera la table
<tt>authpf_users</tt> (si elle existe) pour stocker les adresses IP
de tous les utilisateurs authentifiés.
Soyez sûrs de définir la table avant de vouloir l'utiliser :

<blockquote>
<tt>
table &lt;authpf_users&gt; persist<br>
pass in on $ext_if proto tcp from &lt;authpf_users&gt; \<br>
&nbsp;&nbsp;&nbsp;&nbsp;to port smtp
</tt>
</blockquote>

<p>
Cette table ne devrait être utilisée que pour les règles devant s'appliquer
à tous les utilisateurs authentifiés.

<a name="acl"></a>
<h3>Les Listes de Contrôle d'Accès</h3>
On peut empêcher les utilisateurs d'utiliser authpf en créant un fichier
sous le répertoire <tt>/etc/authpf/banned/</tt>. Le fichier doit avoir
comme nom le nom de l'utilisateur banni. Le contenu du fichier sera
affiché à l'utilisateur avant qu'authpf ne le déconnecte. Cette
fonctionnalité fournit une méthode pratique pour notifier un utilisateur
ou lui dire pourquoi son accès n'est pas autorisé et la personne qu'il
doit contacter pour la restauration de son accès.

<p>
Autrement, il est aussi possible d'autoriser uniquement l'accès à des
utilisateurs spécifiques en mettant leur nom d'utilisateur dans le
fichier <tt>/etc/authpf/authpf.allow</tt>. Si le fichier
<tt>/etc/authpf/authpf.allow</tt> n'existe pas ou contient "<tt>*</tt>",
authpf permettra l'accès à n'importe quel utilisateur qui a réussi à se
connecter via SSH et qui n'est pas explicitement banni.

<p>
Si authpf n'est pas capable de déterminer s'il doit autoriser ou
interdire l'accès à un utilisateur, il affichera un message bref et
déconnectera l'utilisateur. Une entrée dans le fichier
<tt>/etc/authpf/banned/</tt> est toujours prise en compte avant une
entrée dans le fichier <tt>/etc/authpf/authpf.allow</tt>.

<a name="message"></a>
<h3>Présenter un Message de Login</h3>

<p>
Chaque fois qu'un utilisateur s'authentifie correctement à authpf,
un message indiquant que l'utilisateur est correctement authentifié est affiché.

<blockquote>
<tt>
Hello charlie. You are authenticated from host "64.59.56.140"
</tt>
</blockquote>

<p>
Ce message peut être suivi par un message personnalisé dans
<tt>/etc/authpf/authpf.message</tt>. 
Le contenu de ce fichier sera affiché après le message d'accueil
par défaut.

<a name="shell"></a>
<h3>Attribuer Authpf comme Shell Utilisateur</h3>
Afin qu'authpf fonctionne, il doit être attribué à l'utilisateur en tant
que shell de connexion ("login shell"). Lorsque l'utilisateur
s'authentifie selon les mécanismes offerts par
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8">sshd(8)</a>, 
authpf sera executé comme shell de l'utilisateur. Authpf vérifiera
ensuite si l'utilisateur est autorisé à utiliser authpf, chargera les
règles à partir du fichier approprié, etc...

<p>
Il existe plusieurs méthodes pour attribuer authpf à un utilisateur
comme shell de connexion :
<ol>
<li>Manuellement pour chaque utilisateur en utilisant 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1"
>chsh(1)</a>, 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8"
>vipw(8)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8"
>useradd(8)</a>,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8"
>usermod(8)</a>, etc...
<li>En affectant les utilisateurs à une classe de connexion et en
    changeant l'option <tt>shell</tt> dans
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5"
><tt>/etc/login.conf</tt></a>.
</ol>

<a name="loginclass"></a>
<h2>Créer une classe d'authentification authpf</h2>
Lors de l'utilisation d'authpf sur un système qui dispose de comptes normaux
et de comptes utilisateurs authpf, il peut être intéressant d'utiliser une
classe d'authentification authpf séparée pour les utilisateurs authpf.
Cela autorise certains changements sur ces comptes à être faits
de manière globale ainsi que de placer des politiques différentes
sur les comptes normaux et les comptes authpf.

Quelques exemples de ces polices peuvent être :

<ul>
<li><b>shell</b> - Spécifier un shell utilisateur de connexion.
Cela peut être utilisé pour forcer un shell utilisateur à <tt>authpf</tt>
quelle que soit l'entrée dans la base
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=passwd&amp;sektion=5"
>passwd(5)</a>.
<li><b>welcome</b> - Spécifie quel fichier de
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=motd&amp;sektion=5"
>motd(5)</a> utiliser lorsqu'un utilisateur se connecte.
Cela est très utile pour afficher des messages ne concernant que les
utilisateurs authpf.
</ul>

<p>
Les classes d'authentification sont créées dans le fichier
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5"
>login.conf(5)</a>.
OpenBSD inclu une classe d'authentification pour les utilisateurs authpf :

<blockquote>
<tt>
authpf:\<br>
&nbsp;&nbsp;&nbsp;&nbsp;:welcome=/etc/motd.authpf:\<br>
&nbsp;&nbsp;&nbsp;&nbsp;:shell=/usr/sbin/authpf:\<br>
&nbsp;&nbsp;&nbsp;&nbsp;:tc=default:
</tt>
</blockquote>

<p>
Les utilisateurs sont assignés à une classe d'authentification par l'édition
du champ <tt>class</tt> de la base d'utilisateurs passwd(5).
Une méthode pour le faire est l'utilisation de la commande

<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1"
>chsh(1)</a>.

<a name="wholog"></a>
<h2>Voir Les Personnes Connectées</h2>
Une fois l'utilisateur connecté et les règles chargées par authpf, ce
dernier changera son nom de processus pour indiquer le nom d'utilisateur
et l'adresse IP de l'utilisateur connecté :
<pre>
    # ps -ax | grep authpf
    23664 p0  Is+     0:00.11 -authpf: charlie@@192.168.1.3 (authpf)
</pre>

<p>
Dans l'exemple ci-dessus, <tt>charlie</tt> est connecté depuis la
machine 192.168.1.3. En envoyant un signal SIGTERM au processus authpf,
on peut déconnecter l'utilisateur. Authpf supprimera aussi toute règle
chargée pour l'utilisateur et supprimera toutes les connexions à état que
l'utilisateur aura ouvert.
<pre>
    # kill -TERM 23664
</pre>

<a name="example"></a>
<h2>Exemple</h2>
Dans cet exemple, authpf est utilisé sur une passerelle OpenBSD pour
authentifier des utilisateurs sur un réseau sans fil faisant partie d'un
réseau de campus plus grand. Une fois les utilisateurs authentifiés, et
en supposant qu'ils ne font pas partie de la liste des utilisateurs
bannis, ils seront autorisés à établir des sessions SSH vers l'extérieur
et à naviguer sur le web (y compris sur les sites web sécurisés). De
plus, ils pourront accéder à un des serveurs DNS du campus.

<p>
Le fichier <tt>/etc/authpf/authpf.rules</tt> contient les règles
suivantes :<br>
<br>

<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
wifi_if = "wi0"

pass in quick on $wifi_if proto tcp from $user_ip to port { ssh, http, \
   https }
</pre>
</td></tr>
</table>

<p>
L'administrateur <tt>charlie</tt> devra être capable d'accéder aux
serveurs SMTP et POP3 du campus en plus des droits d'accès précités. Les
règles suivantes font partie du fichier
<tt>/etc/authpf/users/charlie/authpf.rules</tt> :<br>
<br>

<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
wifi_if = "wi0"
smtp_server = "10.0.1.50"
pop3_server = "10.0.1.51"

pass in quick on $wifi_if \
   proto tcp from $user_ip to $smtp_server port smtp
pass in quick on $wifi_if \
   proto tcp from $user_ip to $pop3_server port pop3
pass in quick on $wifi_if \
   proto tcp from $user_ip to port { ssh, http, https }
</pre>
</td></tr>
</table>

<p>
Voici le contenu du jeu de règles principal figurant dans le fichier
<tt>/etc/pf.conf</tt> :<br>
<br>

<table border=0 width="650">
<tr><td nowrap bgcolor="#EEEEEE">
<pre>
# macros
wifi_if = "wi0"
ext_if  = "fxp0"
dns_servers = "{ 10.0.1.56, 10.0.2.56 }"

table &lt;authpf_users&gt; persist

# filtrage
block drop all

pass out quick on $ext_if inet proto { tcp, udp, icmp } \
   from { $wifi_if:network, $ext_if }

pass in quick on $wifi_if inet proto tcp \
   from $wifi_if:network to $wifi_if port ssh

pass in quick on $wifi_if inet proto { tcp, udp } \
   from &lt;authpf_users&gt; to $dns_servers port domain

anchor "authpf/*" in on $wifi_if
</pre>
</td></tr>
</table>

<p>
Le jeu de règles est très simple :
<ul>
<li>Bloquer tout par défaut.
<li>Autoriser les trafics TCP, UDP et ICMP sortants sur l'interface
    externe en provenance du réseau sans fil et depuis la passerelle
    elle même.
<li>Autoriser le trafic SSH entrant en provenance du réseau sans
    fil et destiné à la passerelle. Cette règle est nécessaire pour
    permettre aux utilisateurs de s'authentifier.
<li>Autoriser les requêtes DNS entrantes provenant de tous les utilisateurs
authpf authentifiés et destinées aux serveurs DNS du campus.
<li>Créer le point d'ancrage "authpf" pour le trafic entrant sur
    l'interface sans fil.
</ul>

<p>
Le jeu de règles par défaut est utilisé pour bloquer tout trafic non
strictement nécessaire pour le fonctionnement de l'architecture. Le
trafic sortant de l'interface externe est autorisé. Cependant le trafic
en entrée de l'interface sans fil est interdit. Une fois l'utilisateur
authentifié, son trafic est autorisé à traverser l'interface sans fil
et à accéder au reste du réseau. Le mot-clé <tt>quick</tt> est utilisé
un peu partout afin que PF n'évalue pas tous les jeux de règles nommés
quand une nouvelle connexion traverse la passerelle.

<p>
[<a href="ftp.html">Précédent : Problèmes avec FTP</a>]
[<a href="index.html">Index</a>]
[<a href="carp.html">Suivant : Haute disponibilité des pare-feux avec
CARP et pfsync</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[back]"></a> 
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: authpf.html,v 1.34 ]<br>
$Translation: authpf.html,v 1.41 2013/11/01 17:02:17 rustybsd Exp $<br>
-->
$OpenBSD: authpf.html,v 1.37 2013/11/01 18:04:05 ajacoutot Exp $
</small>

</body>
</html>
@


1.37
log
@Sync with Steelix CVS
@
text
@d508 1
a508 1
$OpenBSD$
@


1.36
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+5.3">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+5.3">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+5.3"
d505 2
a506 2
Originally [OpenBSD: authpf.html,v 1.33 ]<br>
$Translation: authpf.html,v 1.40 2013/05/07 08:34:48 rustybsd Exp $<br>
@


1.35
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+5.2">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+5.2">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+5.2"
d505 2
a506 2
Originally [OpenBSD: authpf.html,v 1.32 ]<br>
$Translation: authpf.html,v 1.39 2012/11/01 19:46:20 rustybsd Exp $<br>
@


1.34
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+5.1">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+5.1">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+5.1"
d505 2
a506 2
Originally [OpenBSD: authpf.html,v 1.31 ]<br>
$Translation: authpf.html,v 1.38 2012/05/17 14:16:54 rustybsd Exp $<br>
@


1.33
log
@Sync with Steelix CVS
@
text
@d42 1
a42 1
[<a href="carp.html">Suivant : Haute-disponibilité des pare-feu avec
d495 1
a495 1
[<a href="carp.html">Suivant : Haute-disponibilité des pare-feu avec
d506 1
a506 1
$Translation: authpf.html,v 1.37 2012/05/11 14:55:01 rustybsd Exp $<br>
@


1.32
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+5.0">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+5.0">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+5.0"
d505 2
a506 2
Originally [OpenBSD: authpf.html,v 1.30 ]<br>
$Translation: authpf.html,v 1.36 2011/11/05 09:20:59 benoit Exp $<br>
@


1.31
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.9">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.9">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.9"
d505 2
a506 2
Originally [OpenBSD: authpf.html,v 1.29 ]<br>
$Translation: authpf.html,v 1.35 2011/05/07 06:39:55 benoit Exp $<br>
@


1.30
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.8">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.8">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.8"
d505 2
a506 2
Originally [OpenBSD: authpf.html,v 1.28 ]<br>
$Translation: authpf.html,v 1.34 2010/11/06 14:28:08 benoit Exp $<br>
@


1.29
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.7">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.7">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.7"
d505 2
a506 2
Originally [OpenBSD: authpf.html,v 1.27 ]<br>
$Translation: authpf.html,v 1.33 2010/05/24 09:08:24 benoit Exp $<br>
@


1.28
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.6">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.6">pf(4)</a> 
d97 1
a97 1
Authpf charge les règles de filtres et de NAT dans un <a href="anchors.html">
d153 2
a154 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.6">page du manuel authpf</a>.
d162 2
a163 2
Même si le fichier est vide (de taille nulle), il doit être présent ou Authpf
se fermera automatiquement après qu'un utilisateur s'authentifie correctement.
a181 3
nat-anchor "authpf/*"<br>
rdr-anchor "authpf/*"<br>
binat-anchor "authpf/*"<br>
d189 1
a189 4
dans le jeu de règles. Il n'est pas nécessaire que les quatre règles
<tt>anchor</tt> soient présentes. Par exemple, si authpf ne doit charger
aucune règle de traduction <tt>nat</tt>, la règle <tt>nat-anchor</tt>
peut être omise.
d213 1
a213 1
Les règles de filtrage et de traduction ont la même syntaxe que pour
d236 1
a236 1
&nbsp;&nbsp;&nbsp;&nbsp;to port  smtp flags S/SA keep state
d405 1
a405 1
   https } flags S/SA keep state
d424 6
a429 6
pass in quick on $wifi_if proto tcp from $user_ip to $smtp_server \
   port smtp flags S/SA keep state
pass in quick on $wifi_if proto tcp from $user_ip to $pop3_server \
   port pop3 flags S/SA keep state
pass in quick on $wifi_if proto tcp from $user_ip to port { ssh, http, \
   https } flags S/SA keep state
a448 2
scrub in all

d452 2
a453 4
pass out quick on $ext_if inet proto tcp from \
   { $wifi_if:network, $ext_if } flags S/SA modulate state
pass out quick on $ext_if inet proto { udp, icmp } from \
   { $wifi_if:network, $ext_if } keep state
d455 2
a456 2
pass in quick on $wifi_if inet proto tcp from $wifi_if:network to $wifi_if \
   port ssh flags S/SA keep state
d458 2
a459 2
pass in quick on $wifi_if inet proto { tcp, udp } from &lt;authpf_users&gt; \
   to $dns_servers port domain keep state
d505 2
a506 2
Originally [OpenBSD: authpf.html,v 1.26 ]<br>
$Translation: authpf.html,v 1.32 2009/10/19 15:29:20 benoit Exp $<br>
d512 1
a512 1
</html> 
@


1.27
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.5">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.5">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.5">page du manuel authpf</a>.
d514 2
a515 2
Originally [OpenBSD: authpf.html,v 1.25 ]<br>
$Translation: authpf.html,v 1.31 2009/04/30 22:46:58 benoit Exp $<br>
@


1.26
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.4">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.4">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.4">page du manuel authpf</a>.
d514 2
a515 2
Originally [OpenBSD: authpf.html,v 1.24 ]<br>
$Translation: authpf.html,v 1.30 2008/11/26 22:25:18 benoit Exp $<br>
@


1.25
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.3">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.3">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.3">page du manuel authpf</a>.
d514 2
a515 2
Originally [OpenBSD: authpf.html,v 1.23 ]<br>
$Translation: authpf.html,v 1.29 2008/08/20 15:31:59 gapz Exp $<br>
@


1.24
log
@Sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.2">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.2">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.2">page du manuel authpf</a>.
d514 2
a515 2
Originally [OpenBSD: authpf.html,v 1.22 ]<br>
$Translation: authpf.html,v 1.28 2008/01/11 10:30:24 saad Exp $<br>
@


1.23
log
@Sync with steelix translation CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.1">Authpf(8)</a> 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.1">pf(4)</a> 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.1">page du manuel authpf</a>.
d514 2
a515 2
Originally [OpenBSD: authpf.html,v 1.21 ]<br>
$Translation: authpf.html,v 1.27 2007/05/07 09:38:20 ajacoutot Exp $<br>
@


1.22
log
@sync with steelix translation CVS
@
text
@d16 1
a16 1
Copyright (c) 2003-2005 Joel Knight <enabled@@myrealbox.com>
d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.0">Authpf(8)</a> 
d81 1
a81 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1&amp;manpath=OpenBSD+4.0"
d83 1
a83 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1&amp;manpath=OpenBSD+4.0">csh(1)</a>, 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+4.0">pf(4)</a> 
d143 1
a143 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8&amp;manpath=OpenBSD+4.0">syslogd(8)</a>. 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+4.0">page du manuel authpf</a>.
d298 1
a298 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8&amp;manpath=OpenBSD+4.0">sshd(8)</a>, 
d308 1
a308 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1&amp;manpath=OpenBSD+4.0"
d310 1
a310 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8&amp;manpath=OpenBSD+4.0"
d312 1
a312 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8&amp;manpath=OpenBSD+4.0"
d314 1
a314 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8&amp;manpath=OpenBSD+4.0"
d318 1
a318 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5&amp;manpath=OpenBSD+4.0"
d325 1
a325 1
et de comptes utilisateurs authpf, il peut être intéressant de créer une
d350 1
a350 1
Un exemple de classe d'authentification pour les utilisateurs authpf :
d514 2
a515 2
Originally [OpenBSD: authpf.html,v 1.19 ]<br>
$Translation: authpf.html,v 1.26 2007/02/14 17:12:53 benoit Exp $<br>
@


1.21
log
@sync with Steelix CVS
@
text
@d93 1
a93 1
ouvertes. Ainsi, le trafic de l'utilisateur ne passera à travers la
d301 1
a301 1
règles à partir du fichier approprié, etc.
d315 1
a315 1
>usermod(8)</a>, etc.
d515 1
a515 1
$Translation: authpf.html,v 1.25 2007/02/05 07:03:30 benoit Exp $<br>
@


1.20
log
@sync with steelix translation CVS
@
text
@d42 1
a42 1
[<a href="carp.html">Suivant : Haute-disponibilité des pare-feux avec
d504 1
a504 1
[<a href="carp.html">Suivant : Haute-disponibilité des pare-feux avec
d515 1
a515 1
$Translation: authpf.html,v 1.24 2006/11/02 08:49:03 ajacoutot Exp $<br>
@


1.19
log
@sync with steelix translation CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.9">Authpf(8)</a> 
d81 1
a81 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1&amp;manpath=OpenBSD+3.9"
d83 1
a83 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1&amp;manpath=OpenBSD+3.9">csh(1)</a>, 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+3.9">pf(4)</a> 
d143 1
a143 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8&amp;manpath=OpenBSD+3.9">syslogd(8)</a>. 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.9">page du manuel authpf</a>.
d298 1
a298 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8&amp;manpath=OpenBSD+3.9">sshd(8)</a>, 
d308 1
a308 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1&amp;manpath=OpenBSD+3.9"
d310 1
a310 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8&amp;manpath=OpenBSD+3.9"
d312 1
a312 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8&amp;manpath=OpenBSD+3.9"
d314 1
a314 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8&amp;manpath=OpenBSD+3.9"
d318 1
a318 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5&amp;manpath=OpenBSD+3.9"
d514 2
a515 2
Originally [OpenBSD: authpf.html,v 1.18 ]<br>
$Translation: authpf.html,v 1.23 2006/05/02 10:12:39 ajacoutot Exp $<br>
@


1.18
log
@sync with Steelix CVS
@
text
@d73 1
a73 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.8">Authpf(8)</a> 
d81 1
a81 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1&amp;manpath=OpenBSD+3.8"
d83 1
a83 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1&amp;manpath=OpenBSD+3.8">csh(1)</a>, 
d86 1
a86 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+3.8">pf(4)</a> 
d143 1
a143 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8&amp;manpath=OpenBSD+3.8">syslogd(8)</a>. 
d153 1
a153 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.8">page du manuel authpf</a>.
d298 1
a298 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8&amp;manpath=OpenBSD+3.8">sshd(8)</a>, 
d308 1
a308 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1&amp;manpath=OpenBSD+3.8"
d310 1
a310 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8&amp;manpath=OpenBSD+3.8"
d312 1
a312 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8&amp;manpath=OpenBSD+3.8"
d314 1
a314 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8&amp;manpath=OpenBSD+3.8"
d318 1
a318 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5&amp;manpath=OpenBSD+3.8"
d514 2
a515 2
Originally [OpenBSD: authpf.html,v 1.17 ]<br>
$Translation: authpf.html,v 1.22 2006/03/09 14:46:29 ajacoutot Exp $<br>
@


1.17
log
@sync with Steelix CVS
@
text
@d36 2
a37 2
<a href="../../fr/index.html">
<img alt="[OpenBSD]" height="30" width="141" src="../../../images/smalltitle.gif" border="0">
d64 1
a64 1
<li><a href="#loginclasse">Créer une classe d'authentification Authpf</a>
a65 1
<li><a href="#moreinfo">Plus d'Information</a>
d335 1
a335 1
Cela peut être utilisé pour forcer un shell utilisateur à <tt>authpf</>>
d515 1
a515 1
$Translation: authpf.html,v 1.21 2005/11/02 19:38:08 aanriot Exp $<br>
@


1.16
log
@sync with Steelix CVS
@
text
@d74 1
a74 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.7">Authpf(8)</a> 
d82 1
a82 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1&amp;manpath=OpenBSD+3.7"
d84 1
a84 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1&amp;manpath=OpenBSD+3.7">csh(1)</a>, 
d87 1
a87 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+3.7">pf(4)</a> 
d144 1
a144 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8&amp;manpath=OpenBSD+3.7">syslogd(8)</a>. 
d154 1
a154 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.7">page du manuel authpf</a>.
d299 1
a299 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8&amp;manpath=OpenBSD+3.7">sshd(8)</a>, 
d309 1
a309 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1&amp;manpath=OpenBSD+3.7"
d311 1
a311 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8&amp;manpath=OpenBSD+3.7"
d313 1
a313 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8&amp;manpath=OpenBSD+3.7"
d315 1
a315 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8&amp;manpath=OpenBSD+3.7"
d319 1
a319 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5&amp;manpath=OpenBSD+3.7"
d515 2
a516 2
Originally [OpenBSD: authpf.html,v 1.16 ]<br>
$Translation: authpf.html,v 1.20 2005/07/28 09:09:44 saad Exp $<br>
@


1.15
log
@sync with Steelix CVS
@
text
@d127 1
a127 1
<li>Permettre à des travailleurs d'accèder à des ressources du système
d221 1
a221 1
permet l'utilisateur de deux macros prédéfinies :
d233 1
a233 1
An plus de la macro <tt>$user_ip</tt>, authpf utilisera la table
d325 2
a326 2
Lors de l'utilisation d'authpfsur un système qui dispose de comptes normaux
et de comptes utilisateurs authpf, il peux être intéressant de créer une
d337 1
a337 1
quelque soit l'entrée dans la base
d348 1
a348 1
Les classes d'authentifications sont créées dans le fichier
d384 1
a384 1
chargée pour l'utilisateur et supprimer toutes les connexions à état que
d397 1
a397 1
et de naviguer sur le web (y compris sur les sites web sécurisés). De
d497 1
a497 1
authentifié, leur trafic est autorisé à traverser l'interface sans fil
d505 1
a505 1
[<a href="arp.html">Suivant : Haute-disponibilité des pare-feux avec
d516 1
a516 1
$Translation: authpf.html,v 1.19 2005/05/22 17:21:27 saad Exp $<br>
@


1.14
log
@sync with Steelix CVS
@
text
@d42 2
a43 1
[<a href="example1.html">Suivant : Exemple 1 : Pare-feu SoHo </a>]
d74 1
a74 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.6">Authpf(8)</a> 
d82 1
a82 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1&amp;manpath=OpenBSD+3.6"
d84 1
a84 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1&amp;manpath=OpenBSD+3.6">csh(1)</a>, 
d87 1
a87 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+3.6">pf(4)</a> 
d144 1
a144 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8&amp;manpath=OpenBSD+3.6">syslogd(8)</a>. 
d154 1
a154 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.6">page du manuel authpf</a>.
d299 1
a299 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8&amp;manpath=OpenBSD+3.6">sshd(8)</a>, 
d309 1
a309 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1&amp;manpath=OpenBSD+3.6"
d311 1
a311 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8&amp;manpath=OpenBSD+3.6"
d313 1
a313 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8&amp;manpath=OpenBSD+3.6"
d315 1
a315 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8&amp;manpath=OpenBSD+3.6"
d319 1
a319 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5&amp;manpath=OpenBSD+3.6"
d505 2
a506 1
[<a href="example1.html">Suivant : Exemple : Pare-feu SoHo </a>]
d515 2
a516 2
Originally [OpenBSD: authpf.html,v 1.14 ]<br>
$Translation: authpf.html,v 1.16 2005/02/13 16:52:28 svincent Exp $<br>
@


1.13
log
@Sync with Steelix CVS
@
text
@d15 2
a16 1
Copyright (c) 2003, 2004 Joel Knight <enabled@@myrealbox.com>
d54 1
d59 1
d63 1
d97 19
a115 13
Authpf altère le jeu de règles  
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+3.6">pf(4)</a> 
en ajoutant des règles à un 
<a href="anchors.html#named">jeu de règles nommé</a>
attaché à un 
<a href="anchors.html">point d'ancrage</a>. Chaque fois qu'un
utilisateur s'authentifie, authpf crée un nouveau jeu de règles nommé et
y charge les règles
<a href="filter.html">de filtrage</a>, 
<a href="nat.html"><tt>nat</tt></a>, 
<a href="nat.html#binat"><tt>binat</tt></a>, et 
<a href="rdr.html"><tt>rdr</tt></a>. Les règles qu'authpf
charge peuvent être configurées par utilisateur ou globalement.
d155 20
d231 18
d274 19
d322 47
a388 7
<a name="moreinfo"></a>
<h2>Plus d'Information</h2>
Pour une description complète du fonctionnement d'authpf, veuillez vous
référer à la
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.6"
>page du manuel authpf</a>.

a407 1
dns_servers = "{ 10.0.1.56, 10.0.2.56 }"
a408 2
pass in quick on $wifi_if proto udp from $user_ip to $dns_servers \
   port domain keep state
a427 1
dns_servers = "{ 10.0.1.56, 10.0.2.56 }"
a428 2
pass in quick on $wifi_if proto udp from $user_ip to $dns_servers \
   port domain keep state
d450 3
d459 4
a462 4
pass out quick on $ext_if proto tcp from $wifi_if:network flags S/SA \
   modulate state
pass out quick on $ext_if proto { udp, icmp } from $wifi_if:network \
   keep state
d464 1
a464 1
pass in quick on $wifi_if proto tcp from $wifi_if:network to $wifi_if \
d467 3
d480 2
a481 1
    externe en provenance du réseau sans fil.
d485 2
d513 2
a514 2
Originally [OpenBSD: authpf.html,v 1.10 ]<br>
$Translation: authpf.html,v 1.15 2005/01/17 21:34:48 aanriot Exp $<br>
@


1.12
log
@sync with Steelix CVS
@
text
@d402 1
d404 2
a405 1
$Translation: authpf.html,v 1.14 2004/12/29 10:33:01 saad Exp $<br>
@


1.11
log
@Sync with Steelix CVS
@
text
@d35 3
a37 1
<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
d402 2
a403 2
Originally [OpenBSD: authpf.html,v 1.9 ]<br>
$Translation: authpf.html,v 1.12 2004/11/12 12:40:10 saad Exp $<br>
@


1.10
log
@sync with Steelix CVS
@
text
@d361 1
a361 1
anchor authpf in on $wifi_if
d400 2
a401 2
Originally [OpenBSD: authpf.html,v 1.8 ]<br>
$Translation: authpf.html,v 1.11 2004/10/31 23:44:44 saad Exp $<br>
@


1.9
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.5">Authpf(8)</a> 
d75 1
a75 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1&amp;manpath=OpenBSD+3.5"
d77 1
a77 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1&amp;manpath=OpenBSD+3.5">csh(1)</a>, 
d80 1
a80 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+3.5">pf(4)</a> 
d92 1
a92 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+3.5">pf(4)</a> 
d131 1
a131 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8&amp;manpath=OpenBSD+3.5">syslogd(8)</a>. 
d141 1
a141 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.5">page du manuel authpf</a>.
d149 4
a152 4
nat-anchor authpf<br>
rdr-anchor authpf<br>
binat-anchor authpf<br>
anchor authpf<br>
d229 1
a229 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8&amp;manpath=OpenBSD+3.5">sshd(8)</a>, 
d239 1
a239 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1&amp;manpath=OpenBSD+3.5"
d241 1
a241 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8&amp;manpath=OpenBSD+3.5"
d243 1
a243 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8&amp;manpath=OpenBSD+3.5"
d245 1
a245 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8&amp;manpath=OpenBSD+3.5"
d249 1
a249 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5&amp;manpath=OpenBSD+3.5"
d277 1
a277 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.5"
d400 2
a401 2
Originally [OpenBSD: authpf.html,v 1.7 ]<br>
$Translation: authpf.html,v 1.10 2004/10/13 11:53:05 saad Exp $<br>
@


1.8
log
@Sync with Steelix CVS
@
text
@d4 1
a4 1
<title>PF: Authpf : Shell Utilisateur pour les Passerelles
d41 1
a41 1
<h1><font color="#e00000">PF: Authpf : Shell Utilisateur pour les
d401 1
a401 1
$Translation: authpf.html,v 1.9 2004/10/11 12:36:11 saad Exp $<br>
@


1.7
log
@Sync with Steelix CVS
@
text
@d37 1
a37 2
[<a href="ftp.html">Pr&eacute;c&eacute;dent : Probl&egrave;mes avec
FTP</a>]
d46 1
a46 1
<h3>Table des Mati&egrave;res</h3>
d51 1
a51 1
        <li><a href="#linkmain">Attacher Authpf au Jeu de R&egrave;gles
d53 2
a54 4
        <li><a href="#loadrules">Configurer les R&egrave;gles
            Charg&eacute;es</a>
        <li><a href="#acl">Les Listes de Contr&ocirc;le
            d'Acc&egrave;s</a>
d58 1
a58 1
<li><a href="#wholog">Voir Les Personnes Connect&eacute;es</a>
d70 4
a73 4
r&eacute;seau normale (un routeur) except&eacute; que les utilisateurs
doivent d'abord s'authentifier sur la passerelle avant que celle-ci ne
permette au trafic g&eacute;n&eacute;r&eacute; par les utilisateurs de
la traverser. Quand le shell d'un utilisateur est
d79 1
a79 1
modifications n&eacute;cessaires au jeu de r&egrave;gles
d81 8
a88 10
actif de telle mani&egrave;re &agrave; permettre au trafic
g&eacute;n&eacute;r&eacute; par l'utilisateur de passer &agrave; travers
les filtres et/ou d'&ecirc;tre traduit en utilisant la Traduction
d'Adresses IP ("NAT") ou d'&ecirc;tre redirig&eacute;. Une fois que
l'utilisateur se d&eacute;connecte ou que sa session est
termin&eacute;e, authpf supprimera toutes les r&egrave;gles
charg&eacute;es pour l'utilisateur et enlevera toutes les connexions
avec maintien d'&eacute;tat que l'utilisateur aura ouvertes. Ainsi, le
trafic de l'utilisateur ne passera &agrave; travers la passerelle que si
l'utilisateur garde sa session SSH ouverte.
d91 1
a91 1
Authpf alt&egrave;re le jeu de r&egrave;gles  
d93 3
a95 3
en ajoutant des r&egrave;gles &agrave; un 
<a href="anchors.html#named">jeu de r&egrave;gles nomm&eacute;</a>
attach&eacute; &agrave; un 
d97 2
a98 2
utilisateur s'authentifie, authpf cr&eacute;e un nouveau jeu de
r&egrave;gles nomm&eacute; et y charge les r&egrave;gles
d102 2
a103 3
<a href="rdr.html"><tt>rdr</tt></a>. Les r&egrave;gles qu'authpf
charge peuvent &ecirc;tre configur&eacute;es par utilisateur ou
globalement.
d109 10
a118 13
    acc&egrave;s &agrave; Internet.
<li>Permettre &agrave; certains utilisateurs -- tels que les
    administrateurs -- l'acc&egrave;s &agrave; certaines parties
    restreintes du r&eacute;seau.
<li>Permettre uniquement aux utilisateurs connus l'acc&egrave;s au reste
    du r&eacute;seau ou &agrave; Internet depuis un segment de
    r&eacute;seau sans fil.
<li>Permettre &agrave; des travailleurs d'acc&egrave;der &agrave; des
    ressources du syst&egrave;me d'information de l'entreprise depuis
    chez eux, lorsqu'ils sont sur la route... Les utilisateurs en dehors
    des bureaux peuvent avoir acc&egrave;s au r&eacute;seau d'entreprise
    et aussi &ecirc;tre redirig&eacute;s vers des ressources
    sp&eacute;cifiques (leur propre station de travail par exemple)
d120 5
a124 6
<li>Dans une configuration telle que celle d'une biblioth&egrave;que ou
    un autre lieu &eacute;quip&eacute; de terminaux avec un acc&egrave;s
    Internet public, PF peut &ecirc;tre configur&eacute; pour permettre
    un acc&egrave;s limit&eacute; &agrave; Internet aux utilisateurs de
    passage. Authpf peut alors &ecirc;tre utilis&eacute; pour permettre
    aux utilisateurs connus un acc&egrave;s complet.
d129 2
a130 2
utilisateur qui r&eacute;ussit &agrave; s'authentifier ainsi que le
d&eacute;but et la fin de leur session. L'enregistrement se fait via
d132 3
a134 3
En utilisant cette information, un administrateur peut d&eacute;terminer
qui s'est connect&eacute; et responsabiliser les utilisateurs par
rapport &agrave; leur trafic r&eacute;seau.
d138 3
a140 3
La section suivante fournit les &eacute;tapes de base n&eacute;cessaires
pour configurer authpf. Pour une description compl&egrave;te de la
configuration d'authpf, veuillez consulter la
d144 3
a146 4
<h3>Attacher Authpf au Jeu de R&egrave;gles Principal</h3>
Authpf peut &ecirc;tre rattach&eacute; au jeu de r&egrave;gles principal
en utilisant des r&egrave;gles d'ancrage. Ces r&egrave;gles utilisent le
mot-cl&eacute; <tt>anchor</tt> :
d157 6
a162 7
PF "sortira" du jeu de r&egrave;gles principal pour &eacute;valuer les
r&egrave;gles authpf &agrave; l'endroit o&ugrave; les r&egrave;gles
<tt>anchor</tt> sont plac&eacute;es dans le jeu de r&egrave;gles. Il
n'est pas n&eacute;cessaire que les quatre r&egrave;gles <tt>anchor</tt>
soient pr&eacute;sentes. Par exemple, si authpf ne doit charger aucune
r&egrave;gle de traduction <tt>nat</tt>, la r&egrave;gle
<tt>nat-anchor</tt> peut &ecirc;tre omise.
d165 2
a166 3
<h3>Configurer les R&egrave;gles Charg&eacute;es</h3>
Authpf charge les r&egrave;gles &agrave; partir d'un des deux fichiers
suivants : 
d173 16
a188 19
Le premier fichier contient des r&egrave;gles qui seront uniquement
charg&eacute;es lorsque l'utilisateur <tt>$USER</tt> (cette variable
&eacute;tant &agrave; remplacer par le nom d'utilisateur) se connecte.
La configuration sp&eacute;cifique par utilisateur est utilis&eacute;e
lorsqu'un utilisateur donn&eacute; -- un administrateur par exemple --
n&eacute;cessite un jeu de r&egrave;gles diff&eacute;rent du jeu de
r&egrave;gles authpf par d&eacute;faut. Le deuxi&egrave;me fichier
contient les r&egrave;gles par d&eacute;faut qui sont charg&eacute;es
pour tout utilisateur qui ne poss&egrave;de pas son propre fichier
<tt>authpf.rules</tt>. Si le fichier sp&eacute;cifique &agrave;
l'utilisateur existe, il est charg&eacute; au lieu du fichier par
d&eacute;faut. Au moins un des fichiers doit exister. Autrement authpf
ne fonctionnera pas.

<p>
Les r&egrave;gles de filtrage et de traduction ont la m&ecirc;me syntaxe
que pour n'importe quel autre jeu de r&egrave;gles PF avec une seule
exception : Authpf permet l'utilisateur de deux macros
pr&eacute;d&eacute;finies :
d190 2
a191 3
<li><tt>$user_ip</tt> - l'adresse IP de l'utilisateur connect&eacute;
<li><tt>$user_id</tt> - le nom d'utilisateur de l'utilisateur
    connect&eacute;
d195 1
a195 1
Il est recommand&eacute; d'utiliser la macro <tt>$user_ip</tt> pour ne
d197 1
a197 1
authentifi&eacute;.
d200 23
a222 27
<h3>Les Listes de Contr&ocirc;le d'Acc&egrave;s</h3>
On peut emp&ecirc;cher les utilisateurs d'utiliser authpf en
cr&eacute;ant un fichier sous le r&eacute;pertoire
<tt>/etc/authpf/banned/</tt>. Le fichier doit avoir comme nom le nom de
l'utilisateur banni. Le contenu du fichier sera affich&eacute; &agrave;
l'utilisateur avant qu'authpf ne le d&eacute;connecte. Cette
fonctionnalit&eacute; fournit une m&eacute;thode pratique pour notifier
un utilisateur ou lui dire pourquoi son acc&egrave;s n'est pas
autoris&eacute; et la personne qu'il doit contacter pour la restauration
de son acc&egrave;s.

<p>
Autrement, il est aussi possible d'autoriser uniquement l'acc&egrave;s
&agrave; des utilisateurs sp&eacute;cifiques en mettant leur nom
d'utilisateur dans le fichier <tt>/etc/authpf/authpf.allow</tt>. Si le
fichier <tt>/etc/authpf/authpf.allow</tt> n'existe pas ou contient
"<tt>*</tt>", authpf permettra l'acc&egrave;s &agrave; n'importe quel
utilisateur qui a r&eacute;ussi &agrave; se connecter via SSH et qui
n'est pas explicitement banni.

<p>
Si authpf n'est pas capable de d&eacute;terminer s'il doit autoriser ou
interdire l'acc&egrave;s &agrave; un utilisateur, il affichera un
message bref et d&eacute;connectera l'utilisateur. Une entr&eacute;e
dans le fichier <tt>/etc/authpf/banned/</tt> est toujours prise en
compte avant une entr&eacute;e dans le fichier
<tt>/etc/authpf/authpf.allow</tt>.
d226 3
a228 3
Afin qu'authpf fonctionne, il doit &ecirc;tre attribu&eacute; &agrave;
l'utilisateur en tant que shell de connexion ("login shell"). Lorsque
l'utilisateur s'authentifie selon les m&eacute;canismes offerts par
d230 3
a232 4
authpf sera execut&eacute; comme shell de l'utilisateur. Authpf
v&eacute;rifiera ensuite si l'utilisateur est autoris&eacute; &agrave;
utiliser authpf, chargera les r&egrave;gles &agrave; partir du fichier
appropri&eacute;, etc.
d235 2
a236 2
Il existe plusieurs m&eacute;thodes pour attribuer authpf &agrave; un
utilisateur comme shell de connexion :
d247 1
a247 1
<li>En affectant les utilisateurs &agrave; une classe de connexion et en
d254 4
a257 5
<h2>Voir Les Personnes Connect&eacute;es</h2>
Une fois l'utilisateur connect&eacute; et les r&egrave;gles
charg&eacute;es par authpf, ce dernier changera son nom de processus
pour indiquer le nom d'utilisateur et l'adresse IP de l'utilisateur
connect&eacute; :
d264 1
a264 1
Dans l'exemple ci-dessus, <tt>charlie</tt> est connect&eacute; depuis la
d266 3
a268 3
on peut d&eacute;connecter l'utilisateur. Authpf supprimera aussi toute
r&egrave;gle charg&eacute;e pour l'utilisateur et supprimer toutes les
connexions &agrave; &eacute;tat que l'utilisateur aura ouvert.
d275 2
a276 2
Pour une description compl&egrave;te du fonctionnement d'authpf,
veuillez vous r&eacute;f&eacute;rer &agrave; la
d282 7
a288 9
Dans cet exemple, authpf est utilis&eacute; sur une  passerelle  OpenBSD
pour authentifier des utilisateurs sur un r&eacute;seau sans fil faisant
partie  d'un  r&eacute;seau  de  campus  plus  grand.   Une   fois   les
utilisateurs authentifi&eacute;s, et en supposant  qu'ils  ne  font  pas
partie de la liste des utilisateurs bannis, ils seront  autoris&eacute;s
&agrave; &eacute;tablir des sessions SSH vers l'ext&eacute;rieur  et  de
naviguer   sur   le   web    (y    compris    sur    les    sites    web
s&eacute;curis&eacute;s). De plus, ils pourront acc&eacute;der  &agrave;
un des serveurs DNS du campus.
d291 1
a291 1
Le fichier <tt>/etc/authpf/authpf.rules</tt> contient les r&egrave;gles
d310 4
a313 4
L'administrateur <tt>charlie</tt> devra &ecirc;tre capable
d'acc&eacute;der aux serveurs SMTP et POP3 du campus en plus des droits
d'acc&egrave;s pr&eacute;cit&eacute;s. Les r&egrave;gles suivantes font
partie du fichier <tt>/etc/authpf/users/charlie/authpf.rules</tt> :<br>
d337 2
a338 2
Voici le contenu du jeu de r&egrave;gles principal figurant dans le
fichier <tt>/etc/pf.conf</tt> :<br>
d367 1
a367 1
Le jeu de r&egrave;gles est tr&egrave;s simple :
d369 1
a369 1
<li>Bloquer tout par d&eacute;faut.
d371 5
a375 5
    externe en provenance du r&eacute;seau sans fil.
<li>Autoriser le trafic SSH entrant en provenance du r&eacute;seau sans
    fil et destin&eacute; &agrave; la passerelle. Cette r&egrave;gle est
    n&eacute;cessaire pour permettre aux utilisateurs de s'authentifier.
<li>Cr&eacute;er le point d'ancrage "authpf" pour le trafic entrant sur
d380 8
a387 11
Le jeu de r&egrave;gles par d&eacute;faut est utilis&eacute; pour
bloquer tout trafic non strictement n&eacute;cessaire pour le
fonctionnement de l'architecture. Le trafic sortant de l'interface
externe est autoris&eacute;. Cependant le trafic en entr&eacute;e de
l'interface sans fil est interdit. Une fois l'utilisateur
authentifi&eacute;, leur trafic est autoris&eacute; &agrave; traverser
l'interface sans fil et &agrave; acc&eacute;der au reste du
r&eacute;seau. Le mot-cl&eacute; <tt>quick</tt> est utilis&eacute; un
peu partout afin que PF n'&eacute;value pas tous les jeux de
r&egrave;gles nomm&eacute;s quand une nouvelle connexion traverse la
passerelle.
d390 1
a390 2
[<a href="ftp.html">Pr&eacute;c&eacute;dent : Probl&egrave;mes avec
FTP</a>]
d401 1
a401 1
$Translation: authpf.html,v 1.7 2004/10/06 17:17:44 saad Exp $<br>
@


1.6
log
@sync with Steelix CVS
@
text
@d104 1
a104 1
<a href="../filter.html">de filtrage</a>, 
d430 1
a430 1
$Translation: authpf.html,v 1.6 2004/05/28 18:44:13 saad Exp $<br>
@


1.5
log
@sync with Steelix CVS. thanks to Olivier HORN <ohorn at axal dot fr> for
a fix.
@
text
@d99 1
a99 1
<a href="../anchors.html#named">jeu de r&egrave;gles nomm&eacute;</a>
d101 1
a101 1
<a href="../anchors.html">point d'ancrage</a>. Chaque fois qu'un
d105 3
a107 3
<a href="../nat.html"><tt>nat</tt></a>, 
<a href="../nat.html#binat"><tt>binat</tt></a>, et 
<a href="../rdr.html"><tt>rdr</tt></a>. Les r&egrave;gles qu'authpf
d430 1
a430 1
$Translation: authpf.html,v 1.5 2004/05/12 20:21:44 saad Exp $<br>
@


1.4
log
@Sync with Steelix CVS
@
text
@a11 1
<meta name="copyright"     content="This document copyright 2003-2004 by OpenBSD.">
d14 17
d429 2
a430 2
Originally [OpenBSD: authpf.html,v 1.6 ]<br>
$Translation: authpf.html,v 1.4 2004/05/02 20:42:12 saad Exp $<br>
@


1.3
log
@Sync with Steelix CVS
@
text
@d24 1
a24 1
[<a href="example1.html">Suivant : Exemple #1 : Pare-feu SoHo </a>]
d54 1
a54 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.4">Authpf(8)</a> 
d62 1
a62 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1&amp;manpath=OpenBSD+3.4"
d64 1
a64 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1&amp;manpath=OpenBSD+3.4">csh(1)</a>, 
d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+3.4">pf(4)</a> 
d81 1
a81 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pf&amp;sektion=4&amp;manpath=OpenBSD+3.4">pf(4)</a> 
d125 1
a125 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=syslogd&amp;sektion=8&amp;manpath=OpenBSD+3.4">syslogd(8)</a>. 
d135 1
a135 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.4">page du manuel authpf</a>.
d234 1
a234 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sshd&amp;sektion=8&amp;manpath=OpenBSD+3.4">sshd(8)</a>, 
d245 1
a245 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1&amp;manpath=OpenBSD+3.4"
d247 1
a247 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8&amp;manpath=OpenBSD+3.4"
d249 1
a249 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8&amp;manpath=OpenBSD+3.4"
d251 1
a251 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8&amp;manpath=OpenBSD+3.4"
d255 1
a255 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5&amp;manpath=OpenBSD+3.4"
d284 1
a284 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=authpf&amp;sektion=8&amp;manpath=OpenBSD+3.4"
d405 1
a405 1
[<a href="example1.html">Suivant : Exemple #1 : Pare-feu SoHo </a>]
d413 2
a414 2
Originally [OpenBSD: authpf.html,v 1.5 ]<br>
$Translation: authpf.html,v 1.3 2004/02/19 20:30:12 saad Exp $<br>
@


1.2
log
@Sync with Steelix CVS
@
text
@d71 1
a71 1
d'Adresses R&eacute;seau ou d'&ecirc;tre redirig&eacute;. Une fois que
d414 1
a414 1
$Translation: authpf.html,v 1.2 2004/01/02 22:10:05 saad Exp $<br>
@


1.1
log
@Sync with Steelix CVS
@
text
@d12 1
a12 1
<meta name="copyright"     content="This document copyright 2003 by OpenBSD.">
d413 2
a414 2
Originally [OpenBSD: authpf.html,v 1.4 ]<br>
$Translation: authpf.html,v 1.1 2003/12/28 21:20:14 saad Exp $<br>
@

