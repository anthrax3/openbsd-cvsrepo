head	1.38;
access;
symbols;
locks; strict;
comment	@# @;


1.38
date	2014.04.01.17.14.10;	author nick;	state dead;
branches;
next	1.37;

1.37
date	2013.11.01.18.04.05;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2013.07.23.06.21.49;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2013.05.07.12.47.22;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2012.11.02.07.24.05;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2012.05.13.16.30.18;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2011.11.05.12.45.49;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2011.05.07.08.22.01;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2010.11.09.08.15.21;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.05.23.16.20.41;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2009.10.20.20.44.42;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.05.01.13.16.23;	author tobias;	state Exp;
branches;
next	1.26;

1.26
date	2008.12.01.07.52.52;	author tobias;	state Exp;
branches;
next	1.25;

1.25
date	2008.08.25.14.21.24;	author tobias;	state Exp;
branches;
next	1.24;

1.24
date	2008.01.13.13.43.34;	author tobias;	state Exp;
branches;
next	1.23;

1.23
date	2007.05.09.05.49.53;	author jufi;	state Exp;
branches;
next	1.22;

1.22
date	2007.02.10.05.22.17;	author saad;	state Exp;
branches;
next	1.21;

1.21
date	2006.11.02.18.23.22;	author jufi;	state Exp;
branches;
next	1.20;

1.20
date	2006.08.08.07.14.20;	author saad;	state Exp;
branches;
next	1.19;

1.19
date	2006.05.02.17.09.33;	author jufi;	state Exp;
branches;
next	1.18;

1.18
date	2006.03.10.16.35.07;	author saad;	state Exp;
branches;
next	1.17;

1.17
date	2005.11.06.00.52.52;	author saad;	state Exp;
branches;
next	1.16;

1.16
date	2005.11.03.11.30.53;	author saad;	state Exp;
branches;
next	1.15;

1.15
date	2005.07.28.09.54.34;	author saad;	state Exp;
branches;
next	1.14;

1.14
date	2005.05.22.17.38.07;	author saad;	state Exp;
branches;
next	1.13;

1.13
date	2005.01.18.09.54.52;	author jufi;	state Exp;
branches;
next	1.12;

1.12
date	2004.12.29.10.38.26;	author saad;	state Exp;
branches;
next	1.11;

1.11
date	2004.11.10.10.29.27;	author saad;	state Exp;
branches;
next	1.10;

1.10
date	2004.11.09.15.19.10;	author jufi;	state Exp;
branches;
next	1.9;

1.9
date	2004.11.01.02.56.30;	author saad;	state Exp;
branches;
next	1.8;

1.8
date	2004.10.12.07.18.41;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2004.10.11.16.17.48;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2004.05.31.21.12.02;	author saad;	state Exp;
branches;
next	1.5;

1.5
date	2004.05.12.20.51.36;	author saad;	state Exp;
branches;
next	1.4;

1.4
date	2004.05.06.21.34.05;	author saad;	state Exp;
branches;
next	1.3;

1.3
date	2004.02.20.06.33.11;	author jufi;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.03.19.45.23;	author jufi;	state Exp;
branches;
next	1.1;

1.1
date	2003.12.16.11.02.51;	author horacio;	state Exp;
branches;
next	;


desc
@@


1.38
log
@
Abandon translations, per deraadt@@ and ajacoutot@@.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>PF : Listes et Macros</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="resource-type" content="document">
<meta name="description"   content="the OpenBSD FAQ page">
<meta name="keywords"      content="openbsd,faq,pf">
<meta name="distribution"  content="global">
</head>

<!--
Copyright (c) 2003, Nick Holland <nick@@openbsd.org>
Copyright (c) 2003, 2004 Joel Knight <enabled@@myrealbox.com>

Permission to use, copy, modify, and distribute this documentation for
any purpose with or without fee is hereby granted, provided that the
above copyright notice and this permission notice appear in all copies.

THE DOCUMENTATION IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL
WARRANTIES WITH REGARD TO THIS DOCUMENTATION INCLUDING ALL IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE
AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL
DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR
PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS DOCUMENTATION
-->

<body bgcolor="#ffffff" text="#000000">
<!-- Passes validator.w3.org, please keep it this way;
please, use a max of 72 chars per line -->

<a href="../../../fr/index.html">
<img alt="[OpenBSD]" height="30" width="141"
src="../../../images/smalltitle.gif" border="0">
</a>
<p>
[<a href="config.html">Précédent : Principes de Base</a>]
[<a href="index.html">Index</a>]
[<a href="tables.html">Suivant : Tables</a>]

<h1><font color="#e00000">PF : Listes et Macros</font></h1>
<hr>

<h3>Table des Matières</h3>
<ul>
<li><a href="#lists">Listes</a>
<li><a href="#macros">Macros</a>
</ul>

<hr>

<a name="lists"></a>
<h2>Listes</h2>
Une liste permet d'utiliser plusieurs critères similaires dans une même
règle PF. Par exemple, plusieurs protocoles, plusieurs numéros de ports,
plusieurs adresses IP, etc... Ainsi, au lieu d'écrire une règle de
filtrage pour chaque adresse IP qui doit être bloquée, une seule règle
peut être écrite en créant une liste avec les adresses IP à bloquer. Les
listes sont définies en mettant des éléments entre accolades
<tt>{}</tt>.

<p>
Quand
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+5.4">pfctl(8)</a>
rencontre une liste durant le chargement de la base de règles, il crée
de multiples règles : une règle pour chaque élément de la liste. Par
exemple :
<blockquote>
<tt>
block out on fxp0 from { 192.168.0.1, 10.5.32.6 } to any
</tt>
</blockquote>

<p>
devient :
<blockquote>
<tt>
block out on fxp0 from 192.168.0.1 to any<br>
block out on fxp0 from 10.5.32.6 to any
</tt>
</blockquote>

<p>
Plusieurs listes peuvent être utilisées dans une même règle :
<blockquote>
<tt>
match in on fxp0 proto tcp to port { 22 80 } rdr-to 192.168.0.6<br>
block out on fxp0 proto { tcp udp } from { 192.168.0.1, \<br> 
&nbsp;&nbsp;&nbsp;10.5.32.6 } to any port { ssh telnet }
</tt>
</blockquote>

<p>
Les virgules entre les éléments d'une même liste sont optionnelles.

<p>
Les listes peuvent également inclure d'autres listes :
<blockquote>
<tt>
trusted = "{ 192.168.1.2 192.168.5.36 }"<br>
pass in inet proto tcp from { 10.10.0.0/24 $trusted } to port 22
</tt>
</blockquote>

<p>
Attention aux expressions suivantes connues sous le nom de "listes
négatives", elles constituent une erreur commune :
<blockquote>
<tt>
pass in on fxp0 from { 10.0.0.0/8, !10.1.2.3 }
</tt>
</blockquote>

<p>
A l'origine, le but recherché est d'appliquer la règle précitée à
n'importe quelle adresse du réseau 10.0.0.0/8 à l'exception de 10.1.2.3.
Mais en réalité, cette règle est interprétée de la façon suivante :
<blockquote>
<tt>
pass in on fxp0 from 10.0.0.0/8<br>
pass in on fxp0 from !10.1.2.3
</tt>
</blockquote>

<p>
Ce qui correspond à accepter le trafic de n'importe quelle adresse.
Pour éviter cela, utilisez une
<a href="tables.html">table</a>.

<a name="macros"></a>
<h2>Macros</h2>
Les macros sont des variables définies par l'utilisateur pouvant
contenir des adresses IP, des numéros de ports, des noms d'interfaces,
etc... Les macros peuvent réduire la complexité d'une base de règles PF et
faciliter sa maintenance.

<p>
Les noms de macros doivent commencer par une lettre et peuvent contenir
des lettres, des chiffres et des barres de soulignement "_". Les noms
des macros ne doivent pas être des noms réservés tels que <tt>pass</tt>,
<tt>out</tt> ou <tt>queue</tt>.
<blockquote>
<tt>
ext_if = "fxp0"<br>
<br>
block in on $ext_if from any to any<br>
</tt>
</blockquote>

<p>
L'exemple précédent montre comment créer une macro nommée
<tt>ext_if</tt>. Quand une macro est appelée après avoir été créée, son
nom est précédé d'un caractère <tt>$</tt>.

<p>
Les macros peuvent aussi représenter des listes tel que le montre
l'exemple suivant :
<blockquote>
<tt>
friends = "{ 192.168.1.1, 10.0.2.5, 192.168.43.53 }"
</tt>
</blockquote>

<p>
Elles peuvent être définies de manière récursive. Vu qu'elles ne sont
pas traduites dans des guillemets "", la syntaxe suivante doit être
employée :
<blockquote>
<tt>
host1      = "192.168.1.1"<br>
host2      = "192.168.1.2"<br>
all_hosts  = "{" $host1 $host2 "}"<br>
</tt>
</blockquote>

<p>
La macro <tt>$all_hosts</tt> correspond maintenant à la liste d'adresses
IP {192.168.1.1 192.168.1.2}.

<p>
[<a href="config.html">Précédent : Principes de Base</a>]
[<a href="index.html">Index</a>]
[<a href="tables.html">Suivant : Tables</a>]

<p>
<hr>
<a href="index.html"><img height="24" width="24" src="../../../images/back.gif" border="0" alt="[back]"></a>
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: macros.html,v 1.33 ]<br>
$Translation: macros.html,v 1.40 2013/11/01 17:02:17 rustybsd Exp $<br>
-->
$OpenBSD: macros.html,v 1.37 2013/11/01 18:04:05 ajacoutot Exp $
</small>

</body>
</html> 
@


1.37
log
@Sync with Steelix CVS
@
text
@d198 1
a198 1
$OpenBSD$
@


1.36
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+5.3">pfctl(8)</a>
d195 2
a196 2
Originally [OpenBSD: macros.html,v 1.32 ]<br>
$Translation: macros.html,v 1.39 2013/07/23 03:19:57 rustybsd Exp $<br>
@


1.35
log
@Sync with Steelix CVS
@
text
@d100 1
a100 1
Les listes peuvent également inclurent d'autres listes :
d196 1
a196 1
$Translation: macros.html,v 1.38 2013/05/07 08:34:48 rustybsd Exp $<br>
@


1.34
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+5.2">pfctl(8)</a>
d195 2
a196 2
Originally [OpenBSD: macros.html,v 1.31 ]<br>
$Translation: macros.html,v 1.37 2012/11/01 19:46:21 rustybsd Exp $<br>
@


1.33
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+5.1">pfctl(8)</a>
d195 2
a196 2
Originally [OpenBSD: macros.html,v 1.30 ]<br>
$Translation: macros.html,v 1.36 2012/05/11 18:40:10 rustybsd Exp $<br>
@


1.32
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+5.0">pfctl(8)</a>
d195 2
a196 2
Originally [OpenBSD: macros.html,v 1.29 ]<br>
$Translation: macros.html,v 1.35 2011/11/05 09:20:59 benoit Exp $<br>
@


1.31
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.9">pfctl(8)</a>
d195 2
a196 2
Originally [OpenBSD: macros.html,v 1.28 ]<br>
$Translation: macros.html,v 1.34 2011/05/07 07:02:59 benoit Exp $<br>
@


1.30
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.8">pfctl(8)</a>
d195 2
a196 2
Originally [OpenBSD: macros.html,v 1.27 ]<br>
$Translation: macros.html,v 1.33 2010/11/06 14:41:18 benoit Exp $<br>
@


1.29
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.7">pfctl(8)</a>
d195 2
a196 2
Originally [OpenBSD: macros.html,v 1.26 ]<br>
$Translation: macros.html,v 1.32 2010/05/22 05:29:52 benoit Exp $<br>
@


1.28
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.6">pfctl(8)</a>
d87 1
a87 2
Plusieurs listes peuvent être utilisées dans une même règle. Elles ne
sont pas limitées aux règles de filtrage :
d90 1
a90 2
rdr on fxp0 proto tcp from any to any port { 22 80 } -&gt; \<br>
&nbsp;&nbsp;&nbsp;192.168.0.6<br>
d195 2
a196 2
Originally [OpenBSD: macros.html,v 1.25 ]<br>
$Translation: macros.html,v 1.31 2009/10/19 15:48:30 benoit Exp $<br>
@


1.27
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.5">pfctl(8)</a>
d197 2
a198 2
Originally [OpenBSD: macros.html,v 1.24 ]<br>
$Translation: macros.html,v 1.30 2009/04/30 22:46:58 benoit Exp $<br>
@


1.26
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.4">pfctl(8)</a>
d197 2
a198 2
Originally [OpenBSD: macros.html,v 1.23 ]<br>
$Translation: macros.html,v 1.29 2008/11/26 22:39:39 benoit Exp $<br>
@


1.25
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.3">pfctl(8)</a>
d197 2
a198 2
Originally [OpenBSD: macros.html,v 1.22 ]<br>
$Translation: macros.html,v 1.28 2008/08/20 15:32:00 gapz Exp $<br>
@


1.24
log
@Sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.2">pfctl(8)</a>
d197 2
a198 2
Originally [OpenBSD: macros.html,v 1.21 ]<br>
$Translation: macros.html,v 1.27 2008/01/11 10:52:47 saad Exp $<br>
@


1.23
log
@Sync with steelix translation CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.1">pfctl(8)</a>
d131 1
a131 1
Ce qui correspond à accepter le traffic de n'importe quelle adresse.
d197 2
a198 2
Originally [OpenBSD: macros.html,v 1.20 ]<br>
$Translation: macros.html,v 1.25 2007/05/07 09:38:20 ajacoutot Exp $<br>
@


1.22
log
@sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+4.0">pfctl(8)</a>
d197 2
a198 2
Originally [OpenBSD: macros.html,v 1.19 ]<br>
$Translation: macros.html,v 1.24 2007/02/09 22:04:03 benoit Exp $<br>
@


1.21
log
@sync with steelix translation CVS
@
text
@d59 1
a59 1
plusieurs adresses IP, etc. Ainsi, au lieu d'écrire une règle de
d139 1
a139 1
etc. Les macros peuvent réduire la complexité d'une base de règles PF et
d144 1
a144 1
des lettres, des chiffres, et des barres de soulignement "_". Les noms
d146 1
a146 1
<tt>out</tt>, ou <tt>queue</tt>.
d171 1
a171 1
pas traduites dans des quotes "", la syntaxe suivante doit être
d198 1
a198 1
$Translation: macros.html,v 1.23 2006/11/02 08:49:03 ajacoutot Exp $<br>
@


1.20
log
@sync with Steelix CVS
@
text
@d67 1
a67 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.9">pfctl(8)</a>
d102 9
d197 2
a198 2
Originally [OpenBSD: macros.html,v 1.18 ]<br>
$Translation: macros.html,v 1.22 2006/08/07 08:33:51 saad Exp $<br>
@


1.19
log
@sync with steelix translation CVS
@
text
@d14 1
d189 1
a189 1
$Translation: macros.html,v 1.21 2006/05/02 10:12:39 ajacoutot Exp $<br>
@


1.18
log
@sync with Steelix CVS
@
text
@d66 1
a66 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.8">pfctl(8)</a>
d187 2
a188 2
Originally [OpenBSD: macros.html,v 1.17 ]<br>
$Translation: macros.html,v 1.20 2006/03/09 14:46:29 ajacoutot Exp $<br>
@


1.17
log
@sync with Steelix CVS
@
text
@d34 1
a34 1
<a href="../../fr/index.html">
d161 1
a161 1
pas traduites dans des quotes <tt>""</tt>, la syntaxe suivante doit être
d182 1
a182 1
<a href="index.html"><img alt="[back]" border="0" height="24" src="../../../images/back.gif" width="24"></a> 
d188 1
a188 1
$Translation: macros.html,v 1.19 2005/11/05 17:30:33 aanriot Exp $<br>
@


1.16
log
@sync with Steelix CVS
@
text
@d88 1
d188 1
a188 1
$Translation: macros.html,v 1.18 2005/11/02 19:38:09 aanriot Exp $<br>
@


1.15
log
@sync with Steelix CVS
@
text
@d66 1
a66 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.7">pfctl(8)</a>
d186 2
a187 2
Originally [OpenBSD: macros.html,v 1.16 ]<br>
$Translation: macros.html,v 1.17 2005/07/28 09:09:44 saad Exp $<br>
@


1.14
log
@sync with Steelix CVS
@
text
@d129 1
a129 1
facilitent la maintenance d'une base de règles.
d187 1
a187 1
$Translation: macros.html,v 1.16 2005/05/21 18:22:33 aanriot Exp $<br>
@


1.13
log
@Sync with Steelix CVS
@
text
@d35 2
a36 1
<img alt="[OpenBSD]" height="30" width="141" src="../../../images/smalltitle.gif" border="0">
d61 2
a62 2
listes sont définies en mettant des éléments entre accolades <tt>{
}</tt>.
d66 1
a66 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.6">pfctl(8)</a>
d100 2
a101 2
Attention aux expressions suivantes, connues sous le nom de "listes
négatives", et qui constituent une erreur commune :
d126 1
a126 1
Les macros sont des variables définies par l'utilisateur et pouvant
d186 2
a187 2
Originally [OpenBSD: macros.html,v 1.15 ]<br>
$Translation: macros.html,v 1.14 2005/01/17 21:34:48 aanriot Exp $<br>
@


1.12
log
@sync with Steelix CVS
@
text
@d184 1
d186 2
a187 1
$Translation: macros.html,v 1.13 2004/12/29 10:33:02 saad Exp $<br>
@


1.11
log
@sync with Steelix CVS
@
text
@d34 3
a36 1
<img alt="[OpenBSD]" height=30 width=141 src="../../../images/smalltitle.gif">
d184 2
a185 2
Originally [OpenBSD: macros.html,v 1.14 ]<br>
$Translation: macros.html,v 1.11 2004/11/10 10:00:44 saad Exp $<br>
@


1.10
log
@Sync with Steelix CVS
@
text
@d111 1
a111 1
pass in on fxp0 from 10.0.0.0/8
d182 2
a183 2
Originally [OpenBSD: macros.html,v 1.13 ]<br>
$Translation: macros.html,v 1.10 2004/11/09 11:13:07 saad Exp $<br>
@


1.9
log
@sync with Steelix CVS
@
text
@d96 25
d182 2
a183 2
Originally [OpenBSD: macros.html,v 1.12 ]<br>
$Translation: macros.html,v 1.9 2004/11/01 00:14:53 saad Exp $<br>
@


1.8
log
@Sync with Steelix CVS
@
text
@d63 1
a63 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.5">pfctl(8)</a>
d157 2
a158 2
Originally [OpenBSD: macros.html,v 1.11 ]<br>
$Translation: macros.html,v 1.8 2004/10/11 21:03:57 saad Exp $<br>
@


1.7
log
@Sync with Steelix CVS
@
text
@d53 7
a59 8
Une liste permet d'utiliser plusieurs critères similaires dans
une même règle PF. Par exemple, plusieurs protocoles,
plusieurs numéros de ports, plusieurs adresses IP, etc. Ainsi, au
lieu d'écrire une règle de filtrage pour chaque adresse IP
qui doit être bloquée, une seule règle peut
être écrite en créant une liste avec les adresses IP
à bloquer. Les listes sont définies en mettant des
éléments entre accolades <tt>{ }</tt>.
d64 3
a66 3
rencontre une liste durant le chargement de la base de règles, il
crée de multiples règles : une règle pour chaque
élément de la liste. Par exemple :
d83 2
a84 4
Plusieurs listes peuvent être utilisées dans une même
règle. Elles ne sont pas uniquement limitées aux
règles de filtrage :
<blockquote>
d94 1
a94 2
Les virgules entre les éléments d'une même liste sont
optionnelles.
d98 4
a101 5
Les macros sont des variables définies par l'utilisateur et
pouvant contenir des adresses IP, des numéros de ports, des noms
d'interfaces, etc. Les macros peuvent réduire la
complexité d'une base de règles PF et facilitent la
maintenance d'une base de règles.
d106 2
a107 2
des macros ne doivent pas être des noms réservés
tels que <tt>pass</tt>, <tt>out</tt>, ou <tt>queue</tt>.
d117 3
a119 4
L'exemple précédent montre comment créer une macro
nommée <tt>ext_if</tt>. Quand une macro est appelée
après avoir été créée, son nom est
précédé d'un caractère <tt>$</tt>.
d131 3
a133 3
Elles peuvent être définies de manière
récursive. Vu qu'elles ne sont pas traduites dans des quotes
<tt>""</tt>, la syntaxe suivante doit être employée :
d143 2
a144 2
La macro <tt>$all_hosts</tt> correspond maintenant à la liste
d'adresses IP {192.168.1.1 192.168.1.2}.
d158 1
a158 1
$Translation: macros.html,v 1.7 2004/10/11 12:24:36 saad Exp $<br>
@


1.6
log
@sync with Steelix CVS
@
text
@d36 1
a36 1
[<a href="config.html">Pr&eacute;c&eacute;dent : Principes de Base</a>]
d43 1
a43 1
<h3>Table des Mati&egrave;res</h3>
d53 8
a60 8
Une liste permet d'utiliser plusieurs crit&egrave;res similaires dans
une m&ecirc;me r&egrave;gle PF. Par exemple, plusieurs protocoles,
plusieurs num&eacute;ros de ports, plusieurs adresses IP, etc. Ainsi, au
lieu d'&eacute;crire une r&egrave;gle de filtrage pour chaque adresse IP
qui doit &ecirc;tre bloqu&eacute;e, une seule r&egrave;gle peut
&ecirc;tre &eacute;crite en cr&eacute;ant une liste avec les adresses IP
&agrave; bloquer. Les listes sont d&eacute;finies en mettant des
&eacute;l&eacute;ments entre accolades <tt>{ }</tt>.
d65 3
a67 3
rencontre une liste durant le chargement de la base de r&egrave;gles, il
cr&eacute;e de multiples r&egrave;gles : une r&egrave;gle pour chaque
&eacute;l&eacute;ment de la liste. Par exemple :
d84 3
a86 3
Plusieurs listes peuvent &ecirc;tre utilis&eacute;es dans une m&ecirc;me
r&egrave;gle. Elles ne sont pas uniquement limit&eacute;es aux
r&egrave;gles de filtrage :
d97 1
a97 1
Les virgules entre les &eacute;l&eacute;ments d'une m&ecirc;me liste sont
d102 5
a106 5
Les macros sont des variables d&eacute;finies par l'utilisateur et
pouvant contenir des adresses IP, des num&eacute;ros de ports, des noms
d'interfaces, etc. Les macros peuvent r&eacute;duire la
complexit&eacute; d'une base de r&egrave;gles PF et facilitent la
maintenance d'une base de r&egrave;gles.
d111 1
a111 1
des macros ne doivent pas &ecirc;tre des noms r&eacute;serv&eacute;s
d122 4
a125 4
L'exemple pr&eacute;c&eacute;dent montre comment cr&eacute;er une macro
nomm&eacute;e <tt>ext_if</tt>. Quand une macro est appel&eacute;e
apr&egrave;s avoir &eacute;t&eacute; cr&eacute;&eacute;e, son nom est
pr&eacute;c&eacute;d&eacute; d'un caract&egrave;re <tt>$</tt>.
d128 1
a128 1
Les macros peuvent aussi repr&eacute;senter des listes tel que le montre
d137 3
a139 3
Elles peuvent &ecirc;tre d&eacute;finies de mani&egrave;re
r&eacute;cursive. Vu qu'elles ne sont pas traduites dans des quotes
<tt>""</tt>, la syntaxe suivante doit &ecirc;tre employ&eacute;e :
d149 1
a149 1
La macro <tt>$all_hosts</tt> correspond maintenant &agrave; la liste
d153 1
a153 1
[<a href="config.html">Pr&eacute;c&eacute;dent : Principes de Base</a>]
d164 1
a164 1
$Translation: macros.html,v 1.6 2004/05/28 18:44:13 saad Exp $<br>
@


1.5
log
@sync with Steelix CVS. thanks to Olivier HORN <ohorn at axal dot fr> for
a fix.
@
text
@d38 1
a38 1
[<a href="../tables.html">Suivant : Tables</a>]
d155 1
a155 1
[<a href="../tables.html">Suivant : Tables</a>]
d164 1
a164 1
$Translation: macros.html,v 1.5 2004/05/12 20:21:45 saad Exp $<br>
@


1.4
log
@Sync with Steelix CVS
@
text
@a10 1
<meta name="copyright"     content="This document copyright 2002-2004 by OpenBSD.">
d13 17
d163 2
a164 2
Originally [OpenBSD: macros.html,v 1.10 ]<br>
$Translation: macros.html,v 1.4 2004/05/02 21:04:14 saad Exp $<br>
@


1.3
log
@Sync with Steelix CVS
@
text
@d48 1
a48 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.4">pfctl(8)</a>
d147 2
a148 2
Originally [OpenBSD: macros.html,v 1.9 ]<br>
$Translation: macros.html,v 1.3 2004/02/19 20:31:29 saad Exp $<br>
@


1.2
log
@Sync with Steelix CVS
@
text
@d20 1
a20 1
[<a href="config.html">Précédent : Principes de Base</a>]
d27 1
a27 1
<h3>Table des Matières</h3>
d37 8
a44 6
Une liste permet de spécifier plusieurs critères similaires dans une même règle.
Par exemple, plusieurs protocoles, plusieurs numéros de ports, plusieurs
adresses IP, etc. Ainsi, au lieu d'écrire une règle de filtrage pour chaque
adresse IP qui doit être bloquée, une seule règle peut être écrite en spécifiant
toutes les adresses IP à bloquer dans une liste. Les listes sont définies en
mettant des éléments entre accolades <tt>{ }</tt>.  
d48 4
a51 4
<a
  href="http://www.openbsd.org/cgi-bin/man.cgi?query=pfctl&amp;sektion=8&amp;manpath=OpenBSD+3.4">pfctl(8)</a>
rencontre une liste durant le chargement du jeu de règles, il crée de multiples
règles : une règle pour chaque élément de la liste. Par exemple :
d68 3
a70 2
Plusieurs listes peuvent être spécifiées dans une même règle. Elles ne sont pas
uniquement limitées aux règles de filtrage :
d81 1
a81 1
Il est à noter que les virgules entre les éléments d'une même liste sont
d86 5
a90 4
Les macros sont des variables définies par l'utilisateur et pouvant contenir des
adresses IP, des numéros de ports, des noms d'interfaces, etc. Les macros
peuvent réduire la complexité d'un jeu de règles PF et rendent la maintenance
d'un jeu de règles beaucoup plus facile.
d93 4
a96 4
Les noms de macros doivent commencer par une lettre et peuvent contenir des
lettres, des chiffres, et des barres de soulignement "_". Les noms des macros ne
doivent pas être des noms réservés tels que  <tt>pass</tt>, 
<tt>out</tt>, ou <tt>queue</tt>.
d106 4
a109 3
L'exemple précédent montre comment créer une macro nommée <tt>ext_if</tt>. Quand
une macro est appelée après avoir été créée, son nom est précédé d'un caractère
<tt>$</tt>. 
d112 2
a113 2
Macros peuvent aussi représenter des listes tel que le montre l'exemple suivant
:
d121 3
a123 2
Les macros peuvent être définies de manière récursive. Vu que les macros ne sont
pas traduites dans des quotes <tt>""</tt>, la syntaxe suivante doit être employée :
d133 2
a134 1
La macro <tt>$all_hosts</tt> correspond maintenant à 192.168.1.1, 192.168.1.2. 
d137 1
a137 1
[<a href="config.html">Précédent : Principes de Base</a>]
d148 1
a148 1
$Translation: macros.html,v 1.2 2004/01/02 21:49:07 saad Exp $<br>
@


1.1
log
@Sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name="copyright"     content="This document copyright 2002-2003 by OpenBSD.">
d140 2
a141 2
Originally [OpenBSD: macros.html,v 1.8 ]<br>
$Translation: macros.html,v 1.1 2003/12/15 21:04:13 saad Exp $<br>
@

