head	1.34;
access;
symbols;
locks; strict;
comment	@# @;


1.34
date	2014.04.01.17.15.09;	author nick;	state dead;
branches;
next	1.33;

1.33
date	2008.08.04.12.05.27;	author tobias;	state Exp;
branches;
next	1.32;

1.32
date	2008.01.13.13.43.35;	author tobias;	state Exp;
branches;
next	1.31;

1.31
date	2007.11.12.20.29.58;	author saad;	state Exp;
branches;
next	1.30;

1.30
date	2007.02.27.15.49.59;	author saad;	state Exp;
branches;
next	1.29;

1.29
date	2006.11.10.10.44.45;	author jufi;	state Exp;
branches;
next	1.28;

1.28
date	2006.11.03.07.59.05;	author jufi;	state Exp;
branches;
next	1.27;

1.27
date	2006.10.25.07.40.55;	author jufi;	state Exp;
branches;
next	1.26;

1.26
date	2006.08.27.09.43.20;	author saad;	state Exp;
branches;
next	1.25;

1.25
date	2006.08.24.12.42.02;	author jufi;	state Exp;
branches;
next	1.24;

1.24
date	2006.08.23.08.54.20;	author jufi;	state Exp;
branches;
next	1.23;

1.23
date	2006.05.28.10.32.40;	author jufi;	state Exp;
branches;
next	1.22;

1.22
date	2006.05.26.13.01.59;	author jufi;	state Exp;
branches;
next	1.21;

1.21
date	2006.05.24.06.48.44;	author jufi;	state Exp;
branches;
next	1.20;

1.20
date	2006.05.19.09.13.25;	author jufi;	state Exp;
branches;
next	1.19;

1.19
date	2006.05.14.09.54.41;	author saad;	state Exp;
branches;
next	1.18;

1.18
date	2006.04.18.16.51.34;	author jufi;	state Exp;
branches;
next	1.17;

1.17
date	2006.04.08.15.13.14;	author saad;	state Exp;
branches;
next	1.16;

1.16
date	2006.04.06.17.23.11;	author jufi;	state Exp;
branches;
next	1.15;

1.15
date	2006.03.17.05.36.06;	author saad;	state Exp;
branches;
next	1.14;

1.14
date	2005.12.03.08.02.50;	author saad;	state Exp;
branches;
next	1.13;

1.13
date	2005.11.03.11.30.53;	author saad;	state Exp;
branches;
next	1.12;

1.12
date	2005.08.24.12.58.45;	author saad;	state Exp;
branches;
next	1.11;

1.11
date	2005.08.21.22.37.27;	author saad;	state Exp;
branches;
next	1.10;

1.10
date	2005.05.15.21.17.52;	author saad;	state Exp;
branches;
next	1.9;

1.9
date	2005.02.12.20.39.05;	author jufi;	state Exp;
branches;
next	1.8;

1.8
date	2004.11.25.19.32.26;	author jufi;	state Exp;
branches;
next	1.7;

1.7
date	2004.04.06.07.33.11;	author jufi;	state Exp;
branches;
next	1.6;

1.6
date	2004.02.08.12.15.50;	author jufi;	state Exp;
branches;
next	1.5;

1.5
date	2004.01.16.21.00.37;	author jufi;	state Exp;
branches;
next	1.4;

1.4
date	2003.11.02.01.42.48;	author horacio;	state Exp;
branches;
next	1.3;

1.3
date	2003.10.26.23.33.50;	author horacio;	state Exp;
branches;
next	1.2;

1.2
date	2003.09.08.09.35.57;	author horacio;	state Exp;
branches;
next	1.1;

1.1
date	2003.09.07.20.21.18;	author horacio;	state Exp;
branches;
next	;


desc
@@


1.34
log
@
missed one.
@
text
@<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>10 - Zarz±dzanie systemem</title>

<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-2">
<meta http-equiv="Content-Language" content="pl">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD FAQ page">
<meta name="keywords" content="openbsd,faq">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1998-2007 by OpenBSD."></head>

<body bgcolor= "#ffffff" text= "#000000">

<a href="../../pl/index.html">
<img alt="[OpenBSD]" height="30" width="141" src="../../images/smalltitle.gif" border="0">    
</a>

<p>
<font color= "#0000e0">
<a href="index.html">[Spis tre¶ci]</a>
<a href="faq9.html">[Sekcja 9 - Migracja do OpenBSD]</a>
<a href="faq11.html">[Sekcja 11 - X Window System]</a>
</font>

<h1><font color="#e00000">10 - Zarz±dzanie systemem</font></h1>


<!--
UNCOMMENT ONLY WHEN THE FILE IS OUT OF SYNC

<hr>
<p>
<b><font color="#e00000">Uwaga:</font></b>Zawarto¶æ tego pliku
jest ju¿ bardzo nieaktualna w stosunku do
<a href="../faq10.html">bie¿±cej wersji anglojêzycznej</a>.

<p>
Je¶li chcesz pomóc w aktualizacji tego pliku, zajrzyj na
<a href="../../translation.html">stronê t³umaczeñ</a>.

-->

<hr>

<p>
<h3>Spis tre¶ci</h3>
<ul>
<li><a href="#wheel">10.1 - Dlaczego system odpowiada, ¿e nie
	nale¿ê do odpowiedniej grupy, kiedy próbujê wydaæ polecenie su?</a>
<li><a href="#DupFS">10.2 - Jak zrobiæ kopiê systemu plików?</a>
<li><a href="#rc">10.3 - W jaki sposób automatycznie
	uruchamiaæ demony przy starcie systemu? (Prezentacja rc(8))</a>
<li><a href="#RelayingDenied">10.4 - Dlaczego u¿ytkownicy otrzymuj± 
	komunikat "relaying access denied" gdy próbuj± wys³aæ zdalnie
	pocztê przez moj± maszynê dzia³aj±c± na OpenBSD?</a>
<li><a href="#POP">10.5 - Uruchomi³em serwer POP, ale u¿ytkownicy
	maj± k³opoty z odbiorem maili poprzez ten protokó³. Co mam zrobiæ?</a>
<li><a href="#SendmailDNS">10.6 - Dlaczego Sendmail ignoruje
	plik /etc/hosts?</a>
<li><a href="#HTTPS">10.7 - Konfigurowanie bezpiecznego serwera HTTP
	z wykorzystaniem ssl(8)</a>
<li><a href="#vipw">10.8 - Dokona³em zmian w /etc/passwd, ale
	nie zosta³y one uwzglêdnione. Dlaczego?</a>
<li><a href="#AddDelUser">10.9 - Jaki jest najlepszy sposób na
	dodanie/usuniêcie u¿ytkownika?</a>
<li><a href="#FTPOnly">10.10 - Jak stworzyæ konto umo¿liwiaj±ce 
	logowanie tylko przez FTP?</a>
<li><a href="#Quotas">10.11 - Konfigurowanie kwot dyskowych</a>
<li><a href="#Kerberos">10.12 - Konfigurowanie klientów i serwerów
	KerberosV</a>
<li><a href="#AnonFTP">10.13 - Konfigurowanie anonimowego serwera FTP</a>
<li><a href="#ftpchroot">10.14 - Ograniczanie dostêpu u¿ytkowników
	wy³±cznie do ich katalogów domowych w ftpd(8)</a>
<li><a href="#Patches">10.15 - £atanie systemu OpenBSD</a>
<li><a href="#httpdchroot">10.16 - Zastosowanie ¶rodowiska chroot(2) 
	dla serwera Apache.</a>
<li><a href="#rootshell">10.17 - Mogê zmieniæ pow³okê roota?</a>
<li><a href="#ksh">10.18 - Co jeszcze mo¿na zrobiæ z ksh?</a>
</ul>

<hr>

<p>
<a name= "wheel"></a>
<h2>10.1 - Dlaczego system odpowiada, ¿e nie nale¿ê do odpowiedniej grupy, 
kiedy próbujê wydaæ polecenie su?</h2>

<p>
U¿ytkownicy posiadaj±cy ju¿ konto w systemie musz± zostaæ dopisani do
grupy <kbd>&quot;wheel&quot;</kbd> rêcznie. Robi siê tak dla zwiêkszenia
bezpieczeñstwa, i nale¿y zachowaæ ostro¿no¶æ z tym komu daje siê taki
dostêp. W systemie OpenBSD tylko u¿ytkownicy nale¿±cy do grupy 
<kbd>wheel</kbd> maj± prawo u¿ywaæ polecenia 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a> 
w celu uzyskania praw roota. U¿ytkownicy, którzy nie nale¿± do grupy 
<kbd>"wheel"</kbd>, nie mog± korzystaæ z polecenia su(1). Istniej±cego 
u¿ytkownika mo¿na dodaæ do grupy wheel odpowiednio redaguj±c plik 
<kbd>/etc/group</kbd>. Zamieszczony poni¿ej wpis z tego pliku 
uwzglêdnia u¿ytkownika <b>ericj</b> (oraz roota) jako cz³onka 
grupy <kbd>&quot;wheel&quot;</kbd>.

<p>
Dodaj±c nowego u¿ytkownika za pomoc± polecenia 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8">
adduser(8)</a>, mo¿na od razu dodaæ go do grupy wheel po prostu 
wpisuj±c "wheel" w odpowiedzi na pytanie "<tt>Invite <i>user</i> into 
other groups:</tt>". W ten sposób u¿ytkownik zostanie automatycznie
dodany do grupy "wheel" w pliku /etc/group:

<blockquote><pre>wheel:*:0:root,ericj
</pre></blockquote>

<p>
Czêsto chcemy zwiêkszyæ uprawnienia danego u¿ytkownika, ale w sposób 
kontrolowany, nie umieszczaj±c go w grupie <kbd>&quot;wheel&quot;</kbd>. 
Dok³adnie w tym celu zosta³ stworzony program 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>.

<p>
<a name= "DupFS"></a>
<h2>10.2 - Jak zrobiæ kopiê systemu plików?</h2>

<p>
W celu skopiowania systemu plików mo¿na skorzystaæ z programów 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a> i 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>.
Na przyk³ad, aby skopiowaæ zawarto¶æ katalogu <kbd>SRC</kbd> do katalogu
<kbd>DST</kbd> wystarczy wydaæ nastêpuj±ce polecenie:

<blockquote><pre>
# <b>cd /SRC; dump 0f - . | (cd /DST; restore -rf - )</b>
</pre></blockquote>

<p>
Dump zosta³ zaprojektowany tak, aby spe³niaæ ró¿norodne wymagania 
dotycz±ce wykonywania kopii zapasowych i mo¿e byæ zbyt skomplikowanym 
narzêdziem, je¿eli chcemy skopiowaæ tylko czê¶æ (albo nawet ca³o¶æ) 
systemu plików. Dla prostszych zastosowañ szybszy mo¿e okazaæ siê program 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>. 
Sk³adnia tego polecenia jest bardzo podobna jak w poprzednim przyk³adzie:

<blockquote><pre>
# <b>cd /SRC; tar cf -  . | (cd /DST; tar xpf - )</b>
</pre></blockquote>

<p>
<a name= "rc"></a>
<h2>10.3 - W jaki sposób automatycznie uruchamiaæ demony przy
starcie systemu? (Prezentacja rc(8))</h2>

<p>
OpenBSD uruchamia demony podczas startu sytemu poprzez 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8">rc(8)</a>.
Korzysta on przy tym z kilku pomocniczych skryptów i plików
konfiguracyjnych:

<ul>
 <li>/etc/rc - Skrypt g³ówny. Nie powinien byæ modyfikowany.
 <li>/etc/rc.conf - Plik konfiguracyjny u¿ywany przez <i>/etc/rc</i> w 
celu zdefiniowania demonów uruchamianych przy starcie systemu.
 <li>/etc/rc.conf.local - Plik konfiguracyjny, który mo¿e 
byæ wykorzystany w celu zmiany ustawieñ zapisanych w /etc/rc.conf. 
Dziêki temu nie ma potrzeby redagowaæ /etc/rc.conf. Jest to 
szczególnie wygodne gdy aktualizujesz system.
 <li>/etc/netstart - Skrypt u¿ywany do inicjalizowana obs³ugi 
sieci. Nie powinien byæ modyfikowany.
 <li>/etc/rc.local - Skrypt u¿ywany do celów administracji lokalnej.
To tu nale¿y przechowywaæ informacje o nowych demonach i hostach.
 <li>/etc/rc.securelevel - Skrypt wykonuj±cy niezbêdne czynno¶ci przed 
zmian± poziomu bezpieczeñstwa systemu. Przeczytaj 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&amp;sektion=8">init(8)</a>
 <li>/etc/rc.shutdown - Skrypt uruchamiany przed zatrzymaniem pracy 
systemu. Wstawia siê tam to, co powinno byæ zrobione przed zamkniêciem 
systemu. Przeczytaj 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.shutdown&amp;sektion=8">rc.shutdown(8)</a>
</ul>

<h3>Jak dzia³a rc(8)?</h3>

<p>
Najwa¿niejszymi plikami, na których powinien skupiæ siê administrator 
systemu s± <i>/etc/rc.conf</i> (albo <i>/etc/rc.conf.local</i>), 
<i>/etc/rc.local</i> oraz <i>/etc/rc.shutdown</i>. Na pocz±tku 
opiszmy jednak poszczególne czynno¶ci wykonywane przez skrypt rc(8):

<p>
Po za³adowaniu j±dra systemu, rozpoczyna pracê <i>/etc/rc</i>:
<ul>
 <li>Dokonywane jest sprawdzenie systemów plików. 
 <li>Z pliku <i>/etc/rc.conf</i>, a potem <i>/etc/rc.conf.local</i> 
odczytywane s± zmienne konfiguracyjne. Ustawienia z pliku rc.conf.local 
nadpisuj± konfiguracjê zapisan± w pliku rc.conf.
 <li>Nastêpuje podmontowanie systemów plików.
 <li>Dokonywane jest wyczyszczenie katalogu <i>/tmp</i> oraz zachowanie 
plików tekstowych redagowanych przed ponownym uruchomieniem systemu.
 <li>Nastêpuje konfiguracja sieci za pomoc± skryptu <i>/etc/netstart</i>
 <ul>
  <li>Konfiguracja interfejsów.
  <li>Ustawienie nazwy hosta, nazwy domeny, itp.
 </ul>
 <li>Uruchomienie demonów systemowych.
 <li>Dokonanie ró¿nego rodzaju sprawdzeñ i dzia³añ (kwoty, savecore, 
itd.)
 <li>Uruchomienie lokalnych demonów z <i>/etc/rc.local</i>
</ul>

<h3>Uruchamianie demonów i us³ug systemowych</h3>

<p>
Wiêkszo¶æ dostarczonych z systemem OpenBSD demonów i us³ug
mo¿na uruchomiæ podczas startu systemu przez prost± modyfikacjê 
pliku konfiguracyjnego <i>/etc/rc.conf</i>. Na pocz±tek przyjrzyjmy siê 
domy¶lnej zawarto¶ci pliku
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/src/etc/rc.conf?content-type=text/plain">/etc/rc.conf</a>. 
Znajduj± siê tam linie podobne do tej:

<blockquote><pre>
ftpd_flags=NO           # for non-inetd use: ftpd_flags="-D"
</pre></blockquote>

<p>
Zamieszczony powy¿ej wpis oznacza, ze ftpd nie powinien byæ 
uruchamiany przy starcie systemu (a przynajmniej nie przez rc(8), 
przeczytaj dzia³ <a href="faq10.html#AnonFTP">Konfigurowanie anonimowego 
serwera FTP</a>, by dowiedzieæ siê wiêcej na ten temat). Tak czy
inaczej, ka¿dy wpis zawiera tak¿e komentarz opisuj±cy flagi (opcje) 
<b>NORMALNEJ</b> pracy demona lub us³ugi. Nie oznacza to, ¿e trzeba 
uruchamiaæ tego czy innego demona czy us³ugê z dok³adnie tymi samymi 
ustawieniami. Zawsze mo¿na skorzystaæ z podrêcznika systemowego, aby 
sprawdziæ, jakiej opcji u¿yæ w celu osi±gniêcia zamierzonego efektu.
Na przyk³ad, poni¿sza linia pokazuje domy¶lne ustawienie demona httpd(8).

<blockquote><pre>
httpd_flags=NO          # for normal use: "" (or "-DSSL" after reading ssl(8))
</pre></blockquote>

<p>
Jak widaæ, w tym przypadku httpd mo¿e byæ uruchomiony bez 
jakichkolwiek opcji. A zatem potrzebny by³by tylko taki wpis: 
<b>httpd_flags=""</b>. W przypadku, gdy chcieliby¶my uruchomiæ 
httpd z obs³ug± ssl (patrz 
<a href="#HTTPS">SSL FAQ</a> lub 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&amp;sektion=8">ssl(8)</a>) 
nale¿a³o by napisaæ: httpd_flags="-DSSL".

<p>
Dobrym zwyczajem jest w ogóle nie zmieniaæ 
<i>/etc/rc.conf</i>. Zamiast tego mo¿na utworzyæ plik 
<i>/etc/rc.conf.local</i> i skopiowaæ do niego te linie, które mamy 
zamiar zmieniæ w <i>/etc/rc.conf</i>, a potem dostosowaæ je do w³asnych 
potrzeb. Znacznie u³atwia to proces aktualizacji -- 
wszystkie zmiany s± zapisane bowiem w tym jednym pliku.

<h3>Uruchamianie i konfiguracja lokalnych demonów</h3>

<p>
W przypadku demonów lokalnych, czyli doinstalowanych z portów, pakietów 
czy w dowolny inny sposób, nale¿y korzystaæ z pliku <i>/etc/rc.local</i>. 
Na przyk³ad, je¿eli zainstalowali¶my demona, który znajduje siê w 
/usr/local/sbin/daemonx i chcemy, aby uruchamia³ siê on przy starcie 
systemu, to do pliku <i>/etc/rc.local</i> powinni¶my dodaæ nastêpuj±cy 
wpis:

<blockquote><pre>
if [ -x /usr/local/sbin/daemonx ]; then
	echo -n ' daemonx';       /usr/local/sbin/daemonx
fi
</pre></blockquote>

<p>
(Je¿eli demon nie przechodzi automatycznie do pracy w tle, nale¿y dodaæ
znak "&amp;" po "/usr/local/sbin/daemonx".)

<p>
Od tej pory demon bêdzie uruchamiany zawsze podczas startu systemu. W 
trakcie tej operacji mo¿na zobaczyæ komunikaty o b³êdach (je¿eli siê
takowe pojawi±). Natomiast komunikat bezb³êdnego uruchomienia demona 
bêdzie wygl±da³ mniej wiêcej tak:

<blockquote><pre>
Starting local daemons: daemonx.
</pre></blockquote>

<h3>rc.shutdown</h3>

<p>
<i>/etc/rc.shutdown</i> to skrypt, który jest uruchamiany przed
zatrzymaniem pracy systemu. Wszystkie polecenia, które maj± byæ wykonane przed
zamkniêciem OpenBSD powinny byæ zawarte w tym pliku. Je¿eli wykorzystywane
jest zarz±dzanie energi± (apm), mo¿na tak¿e ustawiæ &quot;powerdown=YES&quot;,
co jest odpowiednikiem komendy &quot;shutdown -p&quot;.

<p>
<a name= "RelayingDenied"></a>
<h2>10.4 - Dlaczego u¿ytkownicy otrzymuj± komunikat "relaying access
denied" gdy próbuj± wys³aæ zdalnie pocztê przez moj± maszynê
dzia³aj±c± na OpenBSD?</h2>

<p>
Proszê spróbowaæ tego:

<blockquote><pre>
# <b>grep relay-domains /etc/mail/sendmail.cf</b>
</pre></blockquote>

<p>
Wynik mo¿e wygl±daæ tak:

<blockquote><pre>
FR-o /etc/mail/relay-domains
</pre></blockquote>

<p>
Je¿eli ten plik nie istnieje, nale¿y go utworzyæ i wpisaæ do niego nazwy 
hostów, którym zezwala siê na przesy³anie poczty przez swój serwer 
stosuj±c nastêpuj±c± sk³adniê:

<blockquote><pre>
.domain.com    #Zezwalaj na przekazywanie poczty z/do ka¿dego hosta w domain.com
sub.domain.com #Zezwalaj na przekazywanie poczty z/do domeny sub.domain.com oraz z ka¿dego hosta w tej domenie 
10.2           #Zezwalaj na przekazywanie poczty ze wszystkich hostów o adresach IP 10.2.*.*
</pre></blockquote>

<p>
Na koniec nale¿y wys³aæ procesowi sendmail sygna³ 'HangUP' (jest 
to sygna³, który zmusza wiêkszo¶æ demonów do ponownego odczytania 
swoich plików konfiguracyjnych):

<blockquote><pre>
# <b>kill -HUP `head -1 /var/run/sendmail.pid`</b>
</pre></blockquote>

<p>

<h3>Dalsze informacje</h3>

<p>
<ul>
<li><a href="http://www.sendmail.org/~ca/email/relayingdenied.html">http://www.sendmail.org/~ca/email/relayingdenied.html</a>
<li><a href="http://www.sendmail.org/tips/relaying.php">http://www.sendmail.org/tips/relaying.php</a>
<li><a href="http://www.sendmail.org/antispam/">http://www.sendmail.org/antispam/</a>
</ul>

<p>
<a name= "POP"></a>
<h2>10.5 - Uruchomi³em serwer POP, ale u¿ytkownicy maj± k³opoty z
odbiorem maili poprzez ten protokó³. Co mam zrobiæ?</h2>

<p>
Wiêkszo¶æ problemów zwi±zanych z protoko³em POP ma swoje ¼ród³a w 
plikach tymczasowych oraz plikach blokady. Je¿eli serwer POP wysy³a 
komunikat o b³êdzie podobny do tego:

<blockquote><pre>
-ERR Couldn't open temporary file, do you own it?
</pre></blockquote>

<p>
to spróbujmy ustawiæ prawa do plików w nastêpuj±cy sposób:

<blockquote><pre>
prawa w  /var
drwxrwxr-x   2 bin     mail     512 May 26 20:08 mail


prawa w  /var/mail
-rw-------   1 username   username        0 May 26 20:08 username
</pre></blockquote>

<p>
Nale¿y upewniæ siê, ¿e dany u¿ytkownik jest w³a¶cicielem 
swojego pliku poczty w katalogu /var/mail (tzn. /var/mail/joe powinien 
nale¿eæ do joe itd.). Teoretycznie nie ma powodu, dla którego mia³o by 
byæ inaczej, ale je¿eli jest, to tu mo¿e tkwiæ problem!

<p>
Oczywi¶cie, przyznanie praw do pisania do /var/mail grupie mail
mo¿e byæ przyczyn± wielu tajemniczych, nie do koñca znanych problemów 
zwi±zanych z
bezpieczeñstwem. Istnieje du¿e prawdopodobieñstwo, ¿e nigdy nie bêdzie
z tym k³opotów, je¶li jednak serwer stanowi znacz±cy punkt na mapie 
Internetu (np. nale¿y do ISP) mog± siê takowe pojawiæ! W kolekcji
portów mo¿na znale¼æ kilka ró¿nych serwerów POP, zalecane jest jednak 
u¿ywanie 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=popa3d&amp;sektion=8">popa3d</a>, 
który jest dostêpny ju¿ w podstawowej instalacji OpenBSD.
Mo¿e siê te¿ zdarzyæ, ¿e zostan± okre¶lone nieodpowiednie opcje 
konfiguracji
serwera POP (np. blokada plików z kropk±). Byæ mo¿e wystarczy jedynie
zmieniæ katalog, który jest blokowany przez serwer (chocia¿ wtedy
blokowanie mia³oby sens tylko dla demona POP).

<p>
<b>Uwaga:</b> Proszê zwróciæ uwagê, ¿e OpenBSD nie tworzy automatycznie
grupy &quot;mail&quot;. Je¿eli zajdzie taka potrzeba,
nale¿y utworzyæ j± w³asnorêcznie dodaj±c do pliku <i>/etc/group</i>. Wpis w
stylu:

<blockquote><pre>
mail:*:6:
</pre></blockquote>

<p>
powinien wystarczyæ.

<a name="SendmailDNS"></a>
<h2>10.6 - Dlaczego Sendmail ignoruje plik <tt>/etc/hosts</tt>?</h2>

<p>
Domy¶lnie Sendmail korzysta z DNS w celu uzyskania informacji o adresach, 
ignoruj±c plik <tt>/etc/hosts</tt>. Zachowanie 
to mo¿na zmieniæ korzystaj±c z pliku <tt>/etc/mail/service.switch</tt>. 

<p>
Je¿eli chcemy aby Sendmail przed wys³aniem zapytania do DNS odczytywa³
plik /etc/hosts, nale¿y utworzyæ plik
<tt>/etc/mail/service.switch</tt>, zawieraj±cy nastêpuj±cy wpis:

<blockquote><pre>
     hosts       files dns
</pre></blockquote>

<p>
Je¿eli za¶ chcemy, by Sendmail odczytywa³ TYLKO plik
/etc/hosts, u¿yjemy nastêpuj±cego wpisu:

<blockquote><pre>
     hosts       files
</pre></blockquote>

<p>
Wysy³amy teraz procesowi Sendmail sygna³ HUP:

<blockquote><pre>     
    # <b>kill -HUP `head -1 /var/run/sendmail.pid`</b>
</pre></blockquote>

<p>
aby zmiany, które wykonali¶my, zosta³y uwzglêdnione.


<p>
<a name= "HTTPS"></a>
<h2>10.7 - Konfigurowanie bezpiecznego serwera HTTP z wykorzystaniem 
SSL(8)</h2>

<p>
OpenBSD jest dostarczany z gotowym do u¿ytku serwerem httpd wyposa¿onym 
w obs³ugê SSL oraz biblioteki RSA. Aby móc korzystaæ z SSL w <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">
httpd(8)</a>, nale¿y najpierw utworzyæ certyfikat. Bêdzie on 
przechowywany w <i>/etc/ssl/</i>, a odpowiadaj±cy mu klucz w 
<i>/etc/ssl/private/</i>. Opisane poni¿ej kroki zosta³y czê¶ciowo 
zaczerpniête ze strony podrêcznika systemowego <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&amp;sektion=8">
ssl(8)</a>. Tam te¿ znajduj± siê dalsze informacje. Ta sekcja FAQ 
jedynie zarysowuje sposób tworzenia certyfikatów RSA dla serwerów WWW, 
pomija za¶ certyfikaty DSA. Aby dowiedzieæ siê wiêcej na ten temat, 
przeczytaj stronê podrêcznika <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&amp;sektion=8">
ssl(8)</a>.

<p>
Na pocz±tku nale¿y utworzyæ klucz oraz certyfikat serwera korzystaj±c 
z OpenSSL:

<blockquote><pre>
# <b>openssl genrsa -out /etc/ssl/private/server.key 1024</b>
</pre></blockquote>

<p>Je¿eli klucz ma zostaæ zaszyfrowany has³em, które trzeba bêdzie
wpisaæ przy uruchamianiu serwerów, zamiast poprzedniego polecenia 
u¿ywamy tego:

<blockquote><pre>
# <b>openssl genrsa -des3 -out /etc/ssl/private/server.key 1024</b>
</pre></blockquote>


<p>
Kolejnym krokiem jest wygenerowanie pro¶by o podpis certyfikatu
(ang. Certificate Signing Request), która 
jest wykorzystywana przez Instytucjê Uwierzytelniaj±c± (ang. Certifying 
Authority) do podpisania certyfikatu. Robi siê to za pomoc± polecenia:

<blockquote><pre>
# <b>openssl req -new -key /etc/ssl/private/server.key -out /etc/ssl/private/server.csr</b>
</pre></blockquote>

<p>Plik <i>server.csr</i> mo¿e zostaæ nastêpnie przekazany Instytucji
Uwierzytelniaj±cej, która podpisze klucz. Jedn± z takich instytucji jest 
<b>Thawte Certification</b>, której strona znajduje siê pod adresem 
<a href="http://www.thawte.com/">http://www.thawte.com/</a>.

<p>Je¿eli nie staæ Ciê na certyfikat Thawte, albo chcesz sam podpisaæ 
swój certyfikat, mo¿esz to zrobiæ w nastêpuj±cy sposób:

<blockquote><pre>
# <b>openssl x509 -req -days 365 -in /etc/ssl/private/server.csr \
       -signkey /etc/ssl/private/server.key -out /etc/ssl/server.crt</b>
</pre></blockquote>

<p>
Po wygenerowaniu plików <i>/etc/ssl/server.crt</i> oraz 
<i>/etc/ssl/private/server.key</i>, bez przeszkód bêdzie mo¿na 
uruchomiæ <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">
httpd(8)</a> z opcja <b>-DSSL</b> (patrz <a href="#rc">sekcja nt. 
rc(8)</a> w tym FAQ), co zezwala na przeprowadzanie transakcji na 
porcie 443.

<p>
<a name= "vipw"></a>
<h2>10.8 - Dokona³em zmian w /etc/passwd, ale nie zosta³y one 
uwzglêdnione. Dlaczego?</h2>

<p>
Bezpo¶rednie modyfikacje pliku <i>/etc/passwd</i> zostan± zignorowane.
OpenBSD generuje <i>/etc/passwd</i> dynamicznie za pomoc± 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pwd_mkdb&amp;sektion=8">pwd_mkdb(8)</a>. 
G³ównym plikiem hase³ w systemie OpenBSD jest <i>/etc/master.passwd</i>.
Cytuj±c za pwd_mkdb(8):

<blockquote><pre>PLIKI
     /etc/master.passwd  obecnie obowi±zuj±cy plik hase³
     /etc/passwd         plik hase³ w formacie 6-tej Edycji
     /etc/pwd.db         niezabezpieczony plik bazy hase³
     /etc/pwd.db.tmp     plik tymczasowy
     /etc/spwd.db        zabezpieczony plik bazy hase³
     /etc/spwd.db.tmp    plik tymczasowy
</pre></blockquote>

<p>
W tradycyjnym pliku hase³ w systemach Unix, takim jak /etc/passwd, ca³a 
jego zawarto¶æ, w³±czaj±c w to zaszyfrowane has³o u¿ytkownika, jest 
dostêpna dla ka¿dego, kto posiada konto w systemie (plik ten jest 
g³ównym celem ataków programów takich jak Crack). 4.4BSD wprowadzi³ plik 
master.passwd, który posiada rozszerzony format (z dodatkowymi opcjami 
w stosunku do /etc/passwd) i tylko root posiada 
prawo do odczytu tego pliku. W celu przyspieszenia dostêpu do danych, 
wywo³ania biblioteczne zazwyczaj odczytuj± pliki /etc/pwd.db i 
/etc/spwd.db (zamiast /etc/master.passwd).

<p>OpenBSD posiada narzêdzie, które s³u¿y do modyfikacji pliku 
hase³. Nazywa siê ono vipw(8). Do modyfikacji /etc/master.passwd 
vipw korzysta z vi (albo Twojego ulubionego edytora zdefiniowanego za 
pomoc± zmiennej ¶rodowiskowej $EDITOR). Po dokonaniu zmian vipw 
utworzy na nowo /etc/passwd, 
/etc/pwd.db oraz /etc/spwd.db tak, aby uwzglêdnia³y one wprowadzone 
zmiany. vipw zak³ada tak¿e blokady na te pliki tak, by dwie osoby nie 
modyfikowa³y ich naraz.


<p>
<a name= "AddDelUser"></a>
<h2>10.9 - Jaki jest najlepszy sposób na dodanie/usuniêcie 
u¿ytkownika?</h2>

<p>OpenBSD posiada dwa polecenia pozwalaj±ce w ³atwy sposób dodaæ 
u¿ytkownika do systemu:

<ul>
<li><a href="#adduser">adduser(8)</a>
<li><a href="#user">user(8)</a>
</ul>

Mo¿na tak¿e dodawaæ u¿ytkowników rêcznie za pomoc± 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw(8)</a>,
ale zwykle jest to bardziej skomplikowane.

<a name="adduser"></a><p>Najprostszym sposobem na dodanie u¿ytkownika w 
OpenBSD jest u¿ycie skryptu 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8">adduser(8)</a>. 
Mo¿na go skonfigurowaæ redaguj±c plik <i>/etc/adduser.conf</i>. 
adduser(8) sprawdza spójno¶æ plików <i>/etc/passwd</i>, <i>/etc/group</i> 
oraz baz danych pow³oki. Tworzy tak¿e niezbêdne wpisy oraz katalog $HOME. 
Potrafi nawet wys³aæ u¿ytkownikowi wiadomo¶æ powitaln±. Oto przyk³ad dodania 
u¿ytkownika <b>testuser</b> do systemu. Jego katalog $HOME (domowy) 
bêdzie umieszczony w <i>/home/testuser</i>. Przydzielimy go do grupy 
<b>guest</b>, oraz ustawimy domy¶ln± pow³okê na <i>/bin/ksh</i>.

<blockquote><pre>
# <b>adduser</b>
Use option ``-silent'' if you don't want to see all warnings and questions.

Reading /etc/shells
Reading /etc/login.conf
Check /etc/master.passwd
Check /etc/group

Ok, let's go.
Don't worry about mistakes. I will give you the chance later to correct any input.

Enter username []: <b>testuser</b>
Enter full name []: <b>Test FAQ User</b>
Enter shell csh ksh nologin sh [sh]: <b>ksh</b>
Uid [1002]: <b><i>Enter</i></b>
Login group testuser [testuser]: <b>guest</b>
Login group is `guest''. Invite testuser into other groups: guest no 
[no]: <b>no</b>
Login class auth-defaults auth-ftp-defaults daemon default staff 
[default]: <b><i>Enter</i></b>
Enter password []: <b><i>Type password, then Enter</i></b>
Enter password again []: <b><i>Type password, then Enter</i></b>

Name:        testuser
Password:    ****
Fullname:    Test FAQ User
Uid:         1002
Gid:         31 (guest)
Groups:      guest
Login Class: default
HOME:        /home/testuser
Shell:       /bin/ksh
OK? (y/n) [y]: <b>y</b>
Added user ``testuser''
Copy files from /etc/skel to /home/testuser
Add another user? (y/n) [y]: <b>n</b>

Goodbye!
</pre></blockquote>


<p>
Do skasowania u¿ytkownika z systemu s³u¿y polecenie 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmuser&amp;sektion=8">rmuser(8)</a>. 
Usunie ono wszelkie ¶lady bytno¶ci u¿ytkownika w systemie -  wszystkie jego wpisy w 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crontab&amp;sektion=1">crontab(1)</a>, 
katalog domowy (je¶li jego w³a¶cicielem jest 
u¿ytkownik), jego pocztê. Oczywi¶cie, równie¿ wpisy w <i>/etc/passwd</i> 
oraz <i>/etc/group</i> zostan± usuniête. Oto przyk³ad usuniêcia 
u¿ytkownika dodanego przez nas przed chwil±. Proszê zauwa¿yæ, ¿e 
rmuser(8) pyta siê o login u¿ytkownika oraz czy usuwaæ jego katalog 
domowy.

<blockquote><pre>
# <b>rmuser</b>
Enter login name for user to remove: <b>testuser</b>
Matching password entry:

testuser:$2a$07$ZWnBOsbqMJ.ducQBfsTKUe3PL97Ve1AHWJ0A4uLamniLNXLeYrEie:1002
:31::0:0:Test FAQ User:/home/testuser:/bin/ksh

Is this the entry you wish to remove? <b>y</b>
Remove user's home directory (/home/testuser)? <b>y</b>
Updating password file, updating databases, done.
Updating group file: done.
Removing user's home directory (/home/testuser): done.
</pre></blockquote>


<a name="user"></a>
<h3>Dodawanie u¿ytkowników za pomoc± polecenia user(8)</h3>

<p>
Ni¿ej opisane narzêdzia s± mniej interaktywne ni¿ polecenie 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8">adduser(8)</a>,
co u³atwia korzystanie z nich w skryptach pow³oki. 

<p>
Na narzêdzia te sk³adaj± siê nastêpuj±ce programy:
<ul>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=group&amp;sektion=8">group(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupadd&amp;sektion=8">groupadd(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupdel&amp;sektion=8">groupdel(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupinfo&amp;sektion=8">groupinfo(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupmod&amp;sektion=8">groupmod(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=user&amp;sektion=8">user(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8">useradd(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=userdel&amp;sektion=8">userdel(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=userinfo&amp;sektion=8">userinfo(8)</a>
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8">usermod(8)</a>
</ul>


<h4>Dodawanie u¿ytkowników w praktyce.</h4>

<p>
Poniewa¿ program user(8) nie jest interaktywny, naj³atwiejszym 
sposobem dodania u¿ytkownika jest u¿ycie komendy adduser(8). 
Polecenie <i>/usr/sbin/user</i> to tylko fronton (ang. front-end) 
poleceñ 
<i>/usr/sbin/user*</i>. Dlatego te¿ mo¿na u¿ywaæ zarówno <b>user add</b> 
jak i <b>useradd</b>. Wybór nale¿y do Ciebie - sk³adnia komend pozostaje 
w obu przypadkach identyczna. 

<p>
W kolejnym przyk³adzie dodamy tego samego u¿ytkownika z takimi samymi 
ustawieniami jak w przyk³adzie wy¿ej <a href="#adduser"> prezentuj±cym 
polecenie adduser</a>. useradd(8) bêdzie du¿o prostszy w obs³udze, je¶li 
najpierw zaznajomimy siê z domy¶lnymi ustawieniami. Znajduj± siê one w 
pliku <i>/etc/usermgmt.conf</i>, za¶ wy¶wietliæ je mo¿na pisz±c:

<blockquote><pre>
$ <b>user add -D</b>
group           users
base_dir        /home
skel_dir        /etc/skel
shell           /bin/csh
inactive        0
expire          Null (unset)
range           1000..60000
</pre></blockquote>

<p>
Powy¿sze ustawienia, je¶li nie zostan± zmienione, bêd± wykorzystane 
przy dodawaniu u¿ytkownika z pomoc± poleceñ user add/useradd.
¯eby by³o ciekawiej, w naszym przyk³adzie umie¶cimy u¿ytkownika w grupie 
<b>guest</b>, nie w <b>users</b>. Ostatni± przeszkod±, o jakiej musimy
pamiêtaæ jest fakt, ¿e has³o, które przeka¿emy programowi 
user add/useradd musi byæ ju¿ zaszyfrowane. Zatem najpierw nale¿y u¿yæ
programu 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=encrypt&amp;sektion=1">encrypt(1)</a>, 
s³u¿±cego do szyfrowania hase³. OpenBSD u¿ywa do 
kodowania hase³ sze¶ciorundowego algorytmu Blowfish. 
Oto przyk³ad pokazuj±cy jak mo¿na otrzymaæ zaszyfrowane has³o gotowe do 
wykorzystania w programie useradd(8): 

<blockquote><pre>
$ <b>encrypt -p -b 6</b>
Enter string:
$2a$06$YOdOZM3.4m6MObBXjeZtBOWArqC2.uRJZXUkOghbieIvSWXVJRzlq
</pre></blockquote>

<p>
Mamy ju¿ zakodowane has³o, mo¿emy wiêc dodaæ u¿ytkownika:

<blockquote><pre>
# <b>user add -p '$2a$06$YOdOZM3.4m6MObBXjeZtBOWArqC2.uRJZXUkOghbieIvSWXVJRzlq' -u 1002 \
-s /bin/ksh -c "Test FAQ User" -m -g guest testuser</b>
</pre></blockquote>

<p>
<b>Uwaga:</b> Has³o nale¿y umie¶ciæ w parze apostrofów (' '), a nie 
cudzys³owów (" "); w przeciwnym razie zostanie ono 
zinterpretowane
przez pow³okê przed wys³aniem do user(8). Opcja <b>-m</b> jest konieczna 
by system utworzy³ katalog domowy u¿ytkownika i skopiowa³ do niego pliki 
z <i>/etc/skel</i>.

<p>By sprawdziæ, czy u¿ytkownik zosta³ poprawnie dodany do systemu, mo¿na 
pos³u¿yæ siê wieloma narzêdziami. Zamieszczone poni¿ej przyk³ady 
pokazuj± jak szybko upewniæ siê, ¿e wszystko wykonane zosta³o poprawnie.

<blockquote><pre>
$ <b>ls -la /home</b>
total 14
drwxr-xr-x   5 root      wheel   512 May 12 14:29 .
drwxr-xr-x  15 root      wheel   512 Apr 25 20:52 ..
drwxr-xr-x  24 ericj     wheel  2560 May 12 13:38 ericj
drwxr-xr-x   2 testuser  guest   512 May 12 14:28 testuser
$ <b>id testuser</b>
uid=1002(testuser) gid=31(guest) groups=31(guest)
$ <b>finger testuser</b>
Login: testuser                         Name: Test FAQ User
Directory: /home/testuser               Shell: /bin/ksh
Last login Sat Apr 22 16:05 (EDT) on ttyC2
No Mail.
No Plan.
</pre></blockquote>

<p>
Dodatkowo, user(8) dostarcza w³asne narzêdzie do podgl±du parametrów 
u¿ytkownika o nazwie userinfo(8).

<blockquote><pre>
$ <b>userinfo testuser</b>
login   testuser
passwd  *
uid     1002
groups  guest
change  Wed Dec 31 19:00:00 1969
class
gecos   Test FAQ User
dir     /home/testuser
shell   /bin/ksh
expire  Wed Dec 31 19:00:00 1969
</pre></blockquote>


<h4>Usuwanie u¿ytkowników</h4>
<p>
W celu usuniêcia u¿ytkownika za pomoc± polecenia z zestawu user(8), 
nale¿y skorzystaæ z komendy userdel(8). Jest to bardzo proste, a 
jednocze¶nie przydatne polecenie. By usun±æ u¿ytkownika dodanego w 
poprzednim wystarczy napisaæ:

<blockquote><pre>
# <b>userdel -r testuser</b>
</pre></blockquote>

<p>
Proszê zwróciæ uwagê na opcjê <b>-r</b>, która ka¿e systemowi usun±æ 
nie tylko 
samego u¿ytkownika, ale te¿ jego katalog domowy. Alternatywnie, zamiast 
<b>-r</b> mo¿na u¿yæ flagi <b>-p</b>, która tylko blokuje konto 
u¿ytkownika, bez usuwania jakichkolwiek informacji o nim.


<p>
<a name= "FTPOnly"></a>
<h2>10.10 - Jak stworzyæ konto umo¿liwiaj±ce logowanie tylko przez FTP?</h2>
<p>
Istnieje na to kilka sposobów. Bardzo powszechne jest rozwi±zanie polegaj±ce
na dodaniu pliku "<tt>/usr/bin/false</tt>" do "<tt>/etc/shells</tt>". Je¿eli 
nastêpnie domy¶lna pow³oka u¿ytkownika ustawiona zostanie w³a¶nie na
"<tt>/usr/bin/false</tt>", to nie bêdzie on móg³ zalogowaæ siê do systemu w trybie
interaktywnym. Bêdzie móg³ natomiast zalogowaæ siê przez FTP. 
Mo¿esz tak¿e, korzystaj±c poprzez <a href="#ftpchroot">ftpchroot</a> 
ograniczyæ dostêp u¿ytkowników ftp tylko do ich katalogów domowych.


<p>
<a name= "Quotas"></a>
<h2>10.11 - Konfigurowanie kwot dyskowych</h2>

<p>
Kwoty wykorzystywane s± do ograniczania przestrzeni dyskowej 
dostêpnej u¿ytkownikom. Jest to szczególnie pomocne, gdy zasoby 
dyskowe s± mocno ograniczone. Limity mo¿na narzuciæ zarówno 
pojedynczemu u¿ytkownikowi jak i ca³ej grupie.

<p>
Pierwszym krokiem do ustawienia kwot jest sprawdzenie czy
opcja "<tt>option QUOTA</tt>" zosta³a w³±czona w twojej <a href="faq5.html#Options">
konfiguracji kernela</a>. Jest ona domy¶lnie ustawiona w j±drze GENERIC. 
Nastêpnie nale¿y wskazaæ w pliku
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=fstab&amp;sektion=5"><tt>/etc/fstab</tt></a>,
systemy plików na których chcesz w³±czyæ kwoty.  
Do tego s³u¿± s³owa kluczowe
<tt>userquota</tt> oraz <tt>groupquota</tt>. W korzeniu wybranych 
systemów plików domy¶lnie tworzone s± pliki <tt>quota.user</tt> oraz 
<tt>quota.group</tt>, które zawieraj± niezbêdne informacje o kwotach.
Nie ma przeszkód, by pliki te znajdowa³y siê w dowolnym innym katalogu
lub nawet inaczej siê nazywa³y. Robi siê to dodaj±c w pliku <tt>/etc/fstab</tt>;
przyk³adowo "<tt>userquota=/var/quotas/quota.user</tt>".
Poni¿ej znajduje siê przyk³ad pliku <tt>/etc/fstab</tt> z jednym systemem 
plików z w³±czonymi kwotami i plikiem kwot nie niestandardowej lokalizacji:

<blockquote><pre>
/dev/wd0a / ffs rw,userquota=/var/quotas/quota.user 1 1
</pre></blockquote>

<p>
Teraz mo¿na ju¿ przyznawaæ u¿ytkownikom kwoty. S³u¿y do tego narzêdzie 
o nazwie 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=edquota&amp;sektion=8">edquota(8)</a>. 
Wpisuj±c "<tt>edquota &lt;user&gt;</tt>" 
do konfigurowania kwot u¿yty zostanie edytor vi(1), chyba ¿e za pomoc± 
zmiennej ¶rodowiskowej EDITOR ustawimy jako domy¶lny inny edytor. Dla
przyk³adu:

<blockquote><pre>
# <b>edquota ericj</b>
</pre></blockquote>

<p>
spowoduje wy¶wietlenie mniej wiêcej takiej informacji:

<blockquote><pre>
Quotas for user ericj:
/: KBytes in use: 62, limits (soft = 0, hard = 0)	
	inodes in use: 25, limits (soft = 0, hard = 0)
</pre></blockquote>

<p>
Aby wprowadziæ ograniczenia wystarczy zredagowaæ ten plik. Np.:

<blockquote><pre>
Quotas for user ericj:
/: KBytes in use: 62, limits (soft = 1000, hard = 1050)	
	inodes in use: 25, limits (soft = 0, hard = 0)
</pre></blockquote>

<p>
W powy¿szym przyk³adzie ustawili¶my limit miêkki (ang. soft limit) na 
1000 bloków, za¶ limit twardy (ang. hard limit) na 1050 bloków. Ró¿nica 
miêdzy limitem miêkkim a twardym
polega na tym, ¿e ten pierwszy mo¿e zostaæ na jaki¶ czas przekroczony.
Czas ten ustala siê stosuj±c opcjê <b>-t</b> w poleceniu 
edquota(8). Gdy okres ten jednak minie, limit miêkki jest traktowany
identycznie jak limit twardy, co powoduje czêste b³êdy alokacji.

<p>
Po ustawieniu kwot nale¿y je jeszcze w³±czyæ. Robi siê to za pomoc± 
polecenia <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=quotaon&amp;sektion=8">quotaon(8)</a>. 
Przyk³ad:

<blockquote><pre>
# <b>quotaon -a</b>
</pre></blockquote>

<p>
Spowoduje to wczytanie <tt>/etc/fstab</tt> i w³±czenie kwot na wybranych 
systemach plików. Do wy¶wietlania kwot s³u¿y polecenie 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=quota&amp;sektion=1">quota(1)</a>. 
Wywo³anie "<tt>quota &lt;user&gt;</tt>" dostarczy 
informacji na temat kwot wybranego u¿ytkownika. Wywo³anie komendy 
quota(1) bez dodatkowych argumentów zwróci nasze w³asne statystyki. 
Oto przyk³ad:

<blockquote><pre>
# <b>quota ericj</b>
</pre></blockquote>

<p>Spowoduje to wypisanie informacji podobnej do tej:

<blockquote><pre>
Disk quotas for user ericj (uid 1001): 
     Filesystem  blocks   quota   limit   grace   files   quota   limit   grace
              /      62    1000    1050              27       0       0        
</pre></blockquote>

<p>
Kwoty ustawione w <tt>/etc/fstab</tt> w³±czaj± siê domy¶lnie podczas startu 
systemu. Natomiast wy³±czyæ mo¿na je pisz±c:

<blockquote><pre>
# <b>quotaoff -a</b>
</pre></blockquote>


<p>
<a name= "Kerberos"></a>
<h2>10.12 - Konfigurowanie klientów i serwerów KerberosV</h2>

<p>
KerberosV jest domy¶lnie preinstalowanym sk³adnikiem systemu.

<p>
Wiêcej informacji o KerberosV mo¿na uzyskaæ za pomoc± polecenia:

<blockquote><pre>
     # <b>info heimdal</b>
</pre></blockquote>


<p>
<a name= "AnonFTP"></a>
<h2>10.13 - Konfigurowanie anonimowego serwera FTP</h2>

<p>
Dziêki anonimowemu FTP nawet u¿ytkownicy nie posiadaj±cy konta mog± mieæ 
dostêp do naszych plików. Poni¿ej podpowiadamy jak skonfigurowaæ anonimowy
serwer FTP.


<h3>Dodawanie konta FTP</h3>

<p>
Najpierw nale¿y stworzyæ w systemie konto o nazwie <i>ftp</i>. Has³o do tego 
konta nie powinno byæ warto¶ciowe, tzn. nie powinni¶my u¿ywaæ go nigdzie
indziej. W naszym przyk³adzie dla tego konta ustalimy katalog domowy
/home/ftp, ale mo¿na u¿yæ tez innego katalogu. Gdy kto¶ zaloguje siê
na nasz anonimowy serwer FTP, demon ftp zmieni ¶rodowisko za pomoc± 
polecenia chroot, na katalog domowy u¿ytkownika <i>ftp</i>. 
Wiêcej na ten temat mo¿na dowiedzieæ siê na stronach podrêcznika systemowego 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftpd(8)</a>
oraz
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">chroot(2)</a>. 
Oto przyk³ad dodania u¿ytkownika o nazwie <i>ftp</i>.
U¿ywamy tutaj polecenia: 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8">adduser(8)</a>.
Nale¿y tak¿e dodaæ liniê /usr/bin/false do pliku
<i>/etc/shells</i>. Jest to &quot;pow³oka&quot;, któr± nadajemy u¿ytkownikowi
<i>ftp</i>. Dziêki temu nie bêd± siê oni mogli 
zalogowaæ, nawet je¶li ustawimy im puste has³o.

<blockquote><pre>
echo /usr/bin/false &gt;&gt; /etc/shells
</pre></blockquote>

Po czym jeste¶my gotowi na utworzenie u¿ytkownika <i>ftp</i>:

<blockquote><pre>
# <b>adduser</b>
Use option `-silent'' if you don't want to see all warnings and questions.

Reading /etc/shells
Reading /etc/login.conf
Check /etc/master.passwd
Check /etc/group

Ok, let's go.
Don't worry about mistakes. I will give you the chance later to correct any input.
Enter username []: <b>ftp</b>
Enter full name []: <b>anonymous ftp</b>
Enter shell csh false ksh nologin sh tcsh zsh [sh]: <b>false</b>
Uid [1002]: <b><i>Enter</i></b>
Login group ftp [ftp]: <b><i>Enter</i></b>
Login group is `ftp''. Invite ftp into other groups: guest no 
[no]: <b>no</b>
Login class auth-defaults auth-ftp-defaults daemon default staff 
[default]: <b><i>Enter</i></b>
Enter password []: <b><i>Enter</i></b>
Set the password so that user cannot logon? (y/n) [n]: <b>y</b>

Name:        ftp
Password:    ****
Fullname:    anonymous ftp
Uid:         1002
Gid:         1002 (ftp)
Groups:      ftp
Login Class: default
HOME:        /home/ftp
Shell:       /usr/bin/false
OK? (y/n) [y]: <b>y</b>
Added user ``ftp''
Copy files from /etc/skel to /home/ftp
Add another user? (y/n) [y]: <b>n</b>
Goodbye!
</pre></blockquote>


<h3>Konfigurowanie katalogu</h3>

<p>
Mamy ju¿ dodanego u¿ytkownika ftp; stworzony zosta³ tak¿e jego katalog
domowy - <i>/home/ftp</i>. Nale¿y dokonaæ jednak jeszcze kilku zmian,
by konto by³o gotowe do obs³ugi anonimowego FTP. Ponownie odsy³amy do
podrêcznika systemowego programu
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftpd(8)</a>.

<p>
<b>Nie</b> ma potrzeby zak³adania katalogów /home/ftp/usr czy 
/home/ftp/bin.

<ul>
<li><i>/home/ftp</i> - G³ówny katalog. Powinien mieæ prawa 555, za¶ jego 
w³a¶cicielem powinien byæ root.

<li><i>/home/ftp/etc</i> - ca³kowicie opcjonalny, a nawet nie zalecany,
jako ¿e jego jedyn± funkcj± jest udzielanie informacji o u¿ytkownikach, 
którzy maj± konto na naszym komputerze. Je¶li chcemy aby informacje o 
plikach znajduj±cych siê w katalogu /home/ftp/pub (patrz akapit ni¿ej) 
zawiera³y nazwy 
u¿ytkowników zamiast tylko ich identyfikatory, to mo¿emy skopiowaæ pliki 
/etc/pwd.db i /etc/group do tego katalogu. Katalog ten powinien mieæ 
prawa dostêpu 511, a wspomniane dwa pliki 444. W pliku pwd.db nie s± 
przechowywane ¿adne has³a, s± one w spwd.db i dlatego nie nale¿y
go tu kopiowaæ.

<li><i>/home/ftp/pub</i> - Zwyczajowy katalog w którym umieszcza siê 
pliki, jakie maj± byæ udostêpnione u¿ytkownikom FTP. Katalogowi temu
równie¿ nadajemy prawa dostêpu 555.

</ul><p>Proszê zwróciæ uwagê na to, by w³a¶cicielem wszystkich katalogów 
by³ root. Oto listing pokazuj±cy jak powinny wygl±daæ 
stworzone katalogi:

<blockquote><pre>
# pwd
/home
# ls -laR ftp
total 5
dr-xr-xr-x  5 root  ftp    512 Jul  6 11:33 .
drwxr-xr-x  7 root  wheel  512 Jul  6 10:58 ..
dr-x--x--x  2 root  ftp    512 Jul  6 11:34 etc
dr-xr-xr-x  2 root  ftp    512 Jul  6 11:33 pub

ftp/etc:
total 43
dr-x--x--x  2 root  ftp    512 Jul  6 11:34 .
dr-xr-xr-x  5 root  ftp    512 Jul  6 11:33 ..
-r--r--r--  1 root  ftp    316 Jul  6 11:34 group
-r--r--r--  1 root  ftp  40960 Jul  6 11:34 pwd.db

ftp/pub:
total 2
dr-xr-xr-x  2 root  ftp  512 Jul  6 11:33 .
dr-xr-xr-x  5 root  ftp  512 Jul  6 11:33 ..
</pre></blockquote>


<h3>Uruchamianie serwera i logowanie</h3>

<p>
W przypadku ftpd mo¿na wybraæ czy uruchamiaæ go z 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=inetd&amp;sektion=8">inetd(8)</a>,
czy ze skryptów <a href="#rc">rc</a>.
Nasze przyk³ady poka¿± jak uruchomiæ demona z pomoc± inetd.conf.
Na pocz±tku musimy jednak poznaæ pewne opcje ftpd. 
Standardowa linia z <i>/etc/inetd.conf</i> wygl±da tak:

<blockquote><pre>
<b>ftp             stream  tcp     nowait  root    /usr/libexec/ftpd       ftpd -US</b>
</pre></blockquote>

<p>
W naszym przypadku ftpd jest przywo³ywany z opcj± <i>-US</i>. Spowoduje 
to logowanie anonimowych po³±czeñ do <i>/var/log/ftpd</i>, za¶ sesji
równoleg³ych do <i>/var/run/utmp</i>. Sprawi to tak¿e, ¿e sesje te bêd± 
widoczne przez polecenie who(8). Mo¿na równie¿ akceptowaæ tylko i 
wy³±cznie anonimowe po³±czenia, korzystaj±c z opcji <i>-A</i>. Oto 
odpowiedni wpis (u¿ywamy tak¿e opcji <i>-ll</i> która powoduje, ¿e ka¿de 
po³±czenie jest logowane do sysloga, w³±czaj±c w to komendy ftp takie
jak get, retrieve itd):

<blockquote><pre>
<b>ftp             stream  tcp     nowait  root    /usr/libexec/ftpd       ftpd -llUSA</b>
</pre></blockquote>


<p>
<b>Uwaga:</b> W przypadku, gdy przewidywane jest bardzo du¿e obci±¿enie 
serwera ftp, zaleca siê nie wywo³ywaæ ftpd z poziomu inetd.conf.
Najlepiej jest wówczas wykomentowaæ odpowiedni± liniê z pliku inetd.conf 
i uruchomiæ ftpd z poziomu rc.conf.local z w³±czon± opcj± <i>-D</i>. 
Sprawi to, ¿e demon bêdzie dzia³a³ szybciej, ni¿ gdyby zosta³ uruchomiony z 
inetd.conf. Oto przyk³ad pokazuj±cy jak uruchomiæ demona ftp z poziomu 
rc.conf.local:

<blockquote><pre>
ftpd_flags="-DllUSA"           # for non-inetd use: ftpd_flags="-D"
</pre></blockquote>

<p>
Zadzia³a to oczywi¶cie tylko wtedy, je¶li wcze¶niej wykomentowano 
odpowiedni wpis z <i>/etc/inetd.conf</i> oraz nakazano demonowi 
intetd ponownie przeczytaæ swój plik konfiguracyjny.

<h3>Inne wa¿ne pliki</h3>

<ul>
<li><i>/etc/ftpwelcome</i> - Zawiera wiadomo¶æ powitaln± wy¶wietlan± 
u¿ytkownikom, którzy po³±czyli siê z serwerem ftp.
<li><i>/etc/motd</i> - Zawiera wiadomo¶æ powitaln± wy¶wietlan± 
u¿ytkownikom, którzy zalogowali siê na serwer ftp.
<li><i>.message</i> - Pliki o takiej nazwie mo¿na zamieszczaæ w 
dowolnych katalogach. Ich zawarto¶æ zostanie wy¶wietlona, gdy u¿ytkownik
wejdzie do danego katalogu.
</ul>



<p>
<a name= "ftpchroot"></a>
<h2>10.14 - Ograniczanie dostêpu u¿ytkowników wy³±cznie do ich 
katalogów domowych w ftpd(8)</h2>

<p>
Domy¶lnie loguj±c siê przez ftp, u¿ytkownicy mog± zmieniæ katalog na
ka¿dy do którego maj± dostêp. W niektórych przypadkach mo¿e to byæ
niepo¿±dane. Istnieje mo¿liwo¶æ ograniczenia tego co u¿ytkownicy widz±
w sesji ftp, poprzez chrootowanie ich w ich katalogach domowych. 

<p>
Je¿eli chcesz zezwoliæ tylko na chrootowane po³±czenia ftp, przyj¿yj siê 
opcji <b>-A</b> w 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftpd(8)</a>.

<p>
Je¿eli chcesz ograniczyæ ich bardziej delikatnie,
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5">login.conf(5)</a>.
oraz 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftpd(8)</a>.
mog± to u³atwiæ.

<p>
U¿ytkownicy w klasie logowania z ustawion± zmienn± <tt>ftp-chroot</tt>
bêd± chrootowani automatycznie.
Dodatkowo, mo¿esz dodawaæ nazwy u¿ytkowników do pliku <b>/etc/ftpchroot</b>
by chrootowaæ tych u¿ytkowników.
Wystarczy by dany login by³ wpisany w jednej z tych dwóch lokalizacji.

<p>
<a name= "Patches"></a>
<h2>10.15 - £atanie systemu OpenBSD</h2>

<p>
Nawet w OpenBSD zdarzaj± siê b³êdy.
Niektóre b³êdy mog± doprowadziæ problemów z niezawodno¶ci±
(tj. co¶ mo¿e spowodowaæ, ¿e system przestanie pracowaæ jak zaplanowano).
Inne b³êdy mog± doprowadziæ do problemów z bezpieczeñstwem (te mog± 
pozwoliæ innym na "u¿ycie" twojego komputera w niezamierzony sposób).
Gdy zostanie wykryty b³±d krytyczny, poprawka zostaje dodana do 
drzewa ¼ród³owego wersji <i>current</i>, oraz wydawane s± ³atki dla 
ka¿dej <a href="faq5.html#Flavors">wspieranej wersji</a> OpenBSD.
£atki te pojawiaj± siê na <a href="../../errata.html">stronie errat</a> 
i s± dzielone na "wspólne", obejmuj±ce wszystkie 
<a href="../../pl/plat.html">platformy</a> , oraz erraty dzia³aj±ce w ramach
jednej lub kilku, ale nie wszystkich, platform.


<p>
Proszê zwróciæ uwagê na to, ¿e ³atki nie s± jakimi¶ nowymi dodatkami do 
OpenBSD; s± tworzone tylko wtedy, gdy powstanie problem 
zwi±zany z niezawodno¶ci± lub bezpieczeñstwem systemu. Dlatego te¿ ³atki 
z regu³y powinny byæ jak najszybciej aplikowane na objêtych nimi maszynach
(co czêsto NIE oznacza wszystkich maszyn, w zale¿no¶ci od ich przeznaczenia).

<p>
S± trzy mo¿liwo¶ci uaktualnienia systemu z poprawionym kodem:

<ul>
<li><b>Uaktualnienie systemu do wersji 
<a href="current.html"><i>-current</i></a>.</b>
Jako ¿e wszystkie poprawki s± wprowadzane do kodu bazowego <i>-current</i>, 
uaktualnienie twojego systemu do najnowszego "snapshota" jest bardzo dobr± 
drog± do zastosowania poprawionego kodu. Jakkolwiek, korzystanie z <i>-current</i>
nie jest dla wszystkich.
<li><b>Uaktualnienie systemu do wersji <a href="../../pl/stable.html"><i>-stable</i></a>.</b>
Jest to realizowane poprzez dostawianie lub aktualizowanie twojego drzewa ¼ród³owego
korzystaj±c z w³a¶ciwej ga³êzi <i>-stable</i>, oraz rekompilacji j±dra i plików
w przestrzeni u¿ytkownika. Ogólnie jest to prawdopodobnie naj³atwiejsza z dróg, 
aczkolwiek trwa d³u¿ej (a¿ ca³y system nie zostanie zrekompilowany) a tak¿e 
kompletne sprawdzenie ¼róde³ mo¿e zaj±c sporo czasu je¿eli posiadasz ograniczone ³±cze.
<li><b>£atanie, kompilowanie i instalowanie indywidualne plików objêtych ³atk±.</b>
T± metod± pos³u¿ymy siê w omówionym ni¿ej przyk³adzie.
Pomimo i¿ potrzebne jest s³absze ³±cze i zazwyczaj zajmuje to mniej czasu ni¿ 
sprawdzenie/aktualizacja ca³ego drzewa cvs(1) i kompilacja kodu ¼ród³owego, jest
to czasem najbardziej skomplikowana opcja, jako ¿e nie istnieje jeden uniwersalny
zestaw instrukcji wed³ug których mo¿na pod±¿aæ.
Czasami musisz za³ataæ, zrekompilowaæ i zainstalowaæ jedn± aplikacjê, innym razem, 
musisz zrekompilowaæ ca³e sekcje z drzewa, je¿eli problem le¿y w pliku biblioteki.
</ul>

Jeszcze raz, ³atanie poszczególnych plików nie zawsze jest proste, zatem powa¿nie 
pod uwagê mo¿liwo¶æ pod±¿ania za wersj± <a href="../../pl/stable.html"><i>-stable</i></a>
odga³êzienia OpenBSD.

Mieszanie i dopasowywanie ³atek mo¿esz wykonywaæ tylko je¿eli rozumiesz jak 
wszystko dzia³a, ale nowi u¿ytkownicy powinni wybraæ jedn± metodê i tej metody
siê trzymaæ.

<h3>Jak ³atki "erraty" ró¿ni± siê od tego co znajduje siê w drzewie CVS?</h3>

<p>Wszystkie ³atki publikowane na 
<a href="../../errata.html">stronie errat</a> s± 
przeznaczone do aplikowania na wskazany kod ¼ród³owy danej wersji systemu 
(ang. release system). £atki znalezione w najnowszym drzewie CVS mog± 
dodatkowo spowodowaæ zmiany, które by³yby niepo¿±dane w podstawowej 
wersji systemu.


To jest bardzo wa¿ne: je¿eli instalowa³e¶ system ze "snapshota", sprawdzi³e¶
¼ród³a w czasie gdy pobiera³e¶ snapshot i usi³owa³e¶ za³ataæ je korzystaj±c
z opublikowanej ³atki, mo¿e lepiej zachowaj wersjê przed u¿yciem ³aty, jako
¿e kod mo¿e ulec zmianie.

<h3>Nak³adanie ³atki</h3>

<p>
£aty dla systemu OpenBSD s± rozpowszechniane  jako "ujednolicone diff'y",
które s± plikami tekstowymi zawieraj±cymi ró¿nice w stosunku do 
oryginalnego kodu ¼ród³owego. <b>NIE</b> s± dystrybuowane w formie 
binarnej! Oznacza to, ¿e aby za³ataæ swój system musimy mieæ kod 
¼ród³owy wersji <b>RELEASE</b> OpenBSD.
W szczególno¶ci powiniene¶ posiadaæ pe³ne dostêpne drzewo ¼róde³.
Je¿eli korzystasz z wersji dostêpnej z oficjalnych p³yt CD, ¼ród³a
znajduj± siê na p³ycie 3, s± tak¿e dostêpne jako pliki z 
<a href="../../ftp.html">serwerów FTP</a>.
Zak³adamy ¿e posiadasz pe³ne i sprawdzone ¼ród³a.

<p>
W ramach naszego przyk³adu, przyj¿ymy siê ³atce 001 dla OpenBSD 3.6
dotycz±cej sterownika 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=st&amp;sektion=4">st(4)</a>
obs³uguj±cego napêdy ta¶mowe.
Bez wspomnianej ³atki, odzyskiwanie danych z backupu jest do¶æ k³opotliwe.
Osoby korzystaj±ce z napêdów ta¶mowych <i>potrzebuj±</i> tej ³atki,
jakkolwiek w przypadku osób nie korzystaj±cych z napêdu ta¶mowego nie
ma szczególnego powodu na instalowanie tej ³atki.
Przyj¿yjmy siê ³atce:

<blockquote><pre>
# <b>more 001_st.patch</b>
Apply by doing:
        cd /usr/src
	patch -p0 < 001_st.patch
	
Rebuild your kernel.

Index: sys/scsi/st.c
===================================================================
RCS file: /cvs/src/sys/scsi/st.c,v
retrieving revision 1.41
retrieving revision 1.41.2.1
diff -u -p -r1.41 -r1.41.2.1
--- sys/scsi/st.c       1 Aug 2004 23:01:06 -0000       1.41
+++ sys/scsi/st.c       2 Nov 2004 01:05:50 -0000       1.41.2.1
@@@@ -1815,7 +1815,7 @@@@ st_interpret_sense(xs)
	u_int8_t skey = sense->flags & SSD_KEY;
        int32_t info;

        if (((sense->flags & SDEV_OPEN) == 0) ||
+       if (((sc_link->flags & SDEV_OPEN) == 0) ||
(serr != 0x70 && serr != 0x71))
return (EJUSTRETURN); /* let the generic code handle it */
</pre></blockquote>

Jak pewnie zauwa¿y³e¶ nag³ówek ³aty zawiera krótkie instrukcjê
jak nale¿y postêpowaæ.
Za³ó¿my ¿e umie¶ci³e¶ t± ³atê w katalogu <tt>/usr/src</tt>, w takiej
sytuacji nastêpnym krokiem jest:

<blockquote><pre>
# <b>cd /usr/src</b>
# <b>patch -p0 < 001_st.patch</b>

Hmm...  Looks like a unified diff to me...
The text leading up to this was:
--------------------------
|Apply by doing:
|       cd /usr/src
|        patch -p0 < 001_st.patch
|
|Rebuild your kernel.
|
|Index: sys/scsi/st.c
|===================================================================
|RCS file: /cvs/src/sys/scsi/st.c,v
|retrieving revision 1.41
|retrieving revision 1.41.2.1
|diff -u -p -r1.41 -r1.41.2.1
|--- sys/scsi/st.c      1 Aug 2004 23:01:06 -0000       1.41
|+++ sys/scsi/st.c      2 Nov 2004 01:05:50 -0000       1.41.2.1
--------------------------
Patching file sys/scsi/st.c using Plan A...
Hunk #1 succeeded at 1815.              <i>&lt;-- Szukaj takiej informacji!</i>
done
</pre></blockquote>

Zwróæ uwagê na komunikat "<tt>Hunk #1 succeeded</tt>".
Oznacza on, poprawne na³o¿enie ³atki.
Wiele ³atek jest znacznie bardziej skomplikowanych ni¿ ta, zatem ilo¶æ 
takich komunikatów bedzie znacznie wiêksza; powiniene¶ sprawdziæ czy
wszystkie fragmenty we wszystkich plikach zosta³y zaktualizowane poprawnie.
Je¶li nie, zazwyczaj oznacza to, ¿e posiadasz niew³a¶ciwe ¼ród³a, nie 
wype³ni³e¶ wszystkich instrukcji uwa¿nie, lub twoja ³atka jest poszarpana.
£aty s± bardzo wra¿liwe na "bia³e znaki" - kopiowanie i wklejanie z twojej
przegl±darki internetowej czêsto zmieni znaki tabulacji na spacje lub odwrotnie,
czyni±c j± bezu¿yteczn±.

<p>
W tym momencie, mo¿esz przyst±piæ do <a href="faq5.html#Building">budowy j±dra</a>,
zainstalowania go i zrestartowania systemu.

<p>
Nie wszystkie ³aty dotycz± j±dra.
W niektórych przypadkach, bêdziesz musia³ przebudowaæ pojedyñcze narzêdzia. 
W innych bêdziesz potrzebowa³ przebudowaæ wszystkie narzêdzia statycznie
zlinkowane z ³atan± bibliotek±.
Zastosuj siê do informacji w nag³ówku ³aty, a gdy masz w±tpliwo¶ci przebuduj 
ca³y system

<p>
£aty nie maj±ce zastosowania dla twojego okre¶lonego systemu, zazwyczaj nie
powinny byæ nak³adane.
Dla przyk³adu, je¿eli nie posiadasz napêdu ta¶mowego, nie odniesiesz ¿adnej
korzy¶ci z opisanej wy¿ej ³aty.
Jakkolwiek, ³aty mog± przypuszczalnie byæ zak³adane "w kolejno¶ci" - istnieje
mo¿liwo¶æ, ¿e pó¼niejsza ³atka jest powi±zana z jedn± z wcze¶niejszych.
B±d¼ uwa¿ny je¿eli postanowisz "grymasiæ" z ³atkami które nak³adasz, i 
w przypadku w±tpliwo¶ci, na³ó¼ je wszystkie w kolejno¶ci.   


<a name="httpdchroot"></a>
<h2>10.16 - Zastosowanie ¶rodowiska chroot(2) dla serwera Apache.</h2>

<p>
W systemie OpenBSD, serwer HTTP Apache
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">
httpd(8)</a>) jest uruchamiany domy¶lnie w ¶rodowisku zmodyfikowanym poleceniem
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">
chroot(2)</a>. Chocia¿ jest to wspania³e z punktu widzenia bezpieczeñstwa
systemu, mog± siê z tym wi±zaæ pewne niespodzianki dla osób nieprzygotowanych
na tak± zmianê.

<h3>Co to jest chroot?</h3>
Proces dzia³aj±cy w ¶rodowisku zmodyfikowanym poleceniem 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">
chroot(2)</a> (dalej bêdziemy pisali po prostu: "proces dzia³aj±cy w 
¶rodowisku chroot") jest ograniczony do okre¶lonego katalogu i nie ma 
mo¿liwo¶ci "chodzenia" po reszcie drzewa katalogów. Katalog, w którym 
proces zostaje "zamkniêty", jest postrzegany przez ten proces jako 
katalog "<tt>/</tt>" (root).  W przypadku httpd(8), proces ten startuje, 
otwiera swoje pliki dziennika, pod³±cza siê do swojego portu TCP 
(chocia¿ nie przyjmuje jeszcze danych) i odczytuje swój plik 
konfiguracyjny. Nastêpnie "zamyka siê" w <i>/var/www</i>, oddaje 
przywileje, a potem rozpoczyna przyjmowanie ¿±dañ. Oznacza to, ¿e 
wszystkie pliki wysy³ane b±d¼ odbierane przez serwer Apache musz± 
znajdowaæ siê w katalogu <i>/var/www</i>. 
W domy¶lnej konfiguracji OpenBSD, wszystkie pliki w <i>/var/www</i>
maj± atrybuty tylko do odczytu dla u¿ytkownika <i>www</i> z uprawnieniami
którego chodzi Apache.
Ogromnie pomaga to w podniesieniu bezpieczeñstwa systemu -- 
je¿eli nast±pi³o by w³amanie poprzez serwer Apache, to zniszczenia 
dokonane przez w³amywacza by³yby ograniczone do jednego katalogu z 
prawami "tylko do odczytu" -- bez dostêpu do zasobów, które mo¿na 
by wykorzystaæ do niecnych zamiarów.

<h3>Co to oznacza dla administratora?</h3>

<p>
Nie owijaj±c w bawe³nê trzeba powiedzieæ, ¿e uruchamianie serwera 
Apache w ¶rodowisku chroot(2) jest czym¶ nowym. Dlatego te¿ wiele 
starszych programów czy ustawieñ systemowych przestanie dzia³aæ,
bez kilku przeróbek.
Ponadto musimy pamiêtaæ, ¿e bezpieczeñstwo i wygoda czêsto nie s±
kompatybilnymi za³o¿eniami.
Implementacja Apache w OpenBSD nie jest kompromisem bezpieczeñstwa
wzglêdem funkcjonalno¶ci i "wygody".

<ul>
<li><b>Stare rozk³ady systemu plików:</b> Na serwerach, na których 
dokonywano uaktualnieñ systemu OpenBSD, pewne pliki mog± byæ 
zlokalizowane w katalogach u¿ytkowników. Nie zadzia³a to w 
¶rodowisku chroot(2), poniewa¿ httpd(8) nie uzyska dostêpu 
do katalogu <i>/home</i>. Administratorzy mog± tak¿e nagle odkryæ, ¿e 
partycja /var/www sta³a siê zbyt ma³a by przechowaæ wszystkie pliki WWW. 
Mo¿na wtedy albo przebudowaæ system albo nie zaprzestaæ stosowania 
chroot(2). Oczywi¶cie, dozwolone jest korzystanie z ³±czy 
symbolicznych w katalogach domowych u¿ytkowników wskazuj±cych na 
podkatalogi <i>/var/www</i>. NIE mo¿na jednak u¿ywaæ linków w 
<i>/var/www</i> wskazuj±cych na inne czê¶ci systemu plików -- na to 
przecie¿ nie zezwala chroot(2). Zauwa¿my, ¿e je¿eli zezwolimy 
u¿ytkownikom na <a href="faq10.html#ftpchroot">dostêp do FTP w ¶rodowisku
chroot(2)</a>, to nie zadzia³a to tak, jak oczekujemy, poniewa¿ 
¶rodowisko 
chroot (ponownie) nie zezwoli na dostêp do plików wskazywanych przez 
³±cza symboliczne. Rozwi±zaniem tego problemu jest niekorzystanie z 
katalogów domowych <i>/home</i> dla tych u¿ytkowników, a zamiast tego 
utworzenie ich w katalogu <i>/var/www/users</i> lub podobnym.
Dowi±zania symboliczne mog± byæ u¿ywane w chroot(2), musz± byæ jednak wzglêdne
a nie bezwzglêdne.

<li><b>Rotacja logów:</b> Standardowo, rotacja logów odbywa siê przez 
zmianê nazwy starych plików, a nastêpnie wys³anie httpd(8) sygna³u 
SIGUSR1 w celu zmuszenia Apache do zamkniêcia swoich starych logów i 
otwarcia nowych. W chroot nie jest to mo¿liwe, poniewa¿ httpd(8) nie ma 
mo¿liwo¶ci otwarcia logu do zapisu po oddaniu przywilejów. httpd(8) musi 
byæ zatrzymany i zrestartowany.
Czasem, zakoñczenie procesów potomnych zajmuje kilka sekund, a musi to 
nast±piæ zanim httpd(8) zostanie zrestartowany, zatem jednym z mo¿liwych
sposobów pozwalaaj±cych na rotacjê logów jest:

<blockquote><pre>
# <b>apachectl stop</b>
  <i>zmieñ nazwy swoich logów</i>
# <b>apachectl start ; sleep 10 ; apachectl start</b>
</pre></blockquote>

Tak, ostatnia linia uruchamia ponownie Apache, i w przypadku gdy 
ta operacja siê nie powiedzie, usi³uje to zrobiæ jeszcze raz.
A tak¿e, oznacza, ¿e za kazdym razem jak wykonujesz rotacjê swoich logów,
twój serwer www bêdzie niedostêpny.
Chocia¿ mo¿e to byæ irytuj±ce, jednak ka¿da próba zezwolenia httpd(8)
na ponowne otwarcie plików poza chroot(8)em prze³amuje wiele celów
chroot-a!
Istniej± jeszcze inne sposoby, np. logowanie do 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pipe&amp;sektion=2">
pipe(2)</a> przy korzystaniu z zewnêtrznego programu do rotacji logów, 
czytaj±cego z drugiego koñca pipe(2).

<li><b>Modu³y Apache:</b> Praktycznie wszystkie powinny siê za³adowaæ, 
jednak niektóre nie bêd± dzia³aæ poprawnie w ¶rodowisku chroot(2). W 
szczególno¶ci mo¿e wyst±piæ problem z generuj±cym b³±d poleceniem "<tt>
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apachectl&amp;sektion=8">apachectl</a>
restart</tt>" które sprawia, ¿e httpd(8) przerywa pracê.

<li><b>Skrypty CGI:</b> Wiêkszo¶æ NIE zadzia³a poprawnie od razu. Mog± 
one bowiem potrzebowaæ programów lub bibliotek znajduj±cych 
siê poza <i>/var/www</i>. W niektórych przypadkach mo¿na temu zaradziæ 
poprzez statyczne ³±czenie (eliminuje to potrzebê korzystania z 
zewnêtrznych bibliotek przez te programy). Kolejnym sposobem, bardzo 
skutecznym, jest umieszczenie kopii potrzebnych plików w katalogu 
<i>/var/www</i>. Jest to jednak zadanie niebanalne, wymagaj±ce sporej 
wiedzy o programie.

<li><b>Opcje montowania systemów plików:</b>
Domy¶lnie w OpenBSD, twoja partycja <i>/var</i> bedzie montowana
z opcjami <tt>nosuid</tt> oraz <tt>nodev</tt>.
Je¿eli zamierzasz korzystaæ z aplikacji w ramach chroot-a, mo¿esz
potrzebowaæ zmieniæ te opcje.
Oczywi¶cie, mo¿esz tak¿e potrzebowaæ zmiany tych opcji, nawet je¿eli nie korzystasz
z chroot-a.

<li><b>Rozwi±zywanie nazw:</b>
Dzia³aj±cy wewn±trz chroot(2)-a httpd(8) NIE bêdzie w stanie korzystaæ
z <i>/etc/hosts</i> lub <i>/etc/resolv.conf</i>. Jednak je¿eli
posiadasz aplikacje korzystaj±ce rozwi±zywania nazw musisz
umie¶ciæ <i>/var/www/etc/hosts</i> and/or <i>/var/www/etc/resolv.conf</i>
w ¶rodowisku chroot(2). Zwracamy uwagê ¿e niektóre aplikacje wymagaj±
dzia³aj±cego rozwi±zania "localhost".

</ul>

Jak wiêc widaæ, w niektórych przypadkach, programy lub ustawienia mog± 
byæ zmienione tak, by dzia³a³y w ¶rodowisku chroot(2).
W innych przypadkach trzeba bêdzie po prostu wy³±czyæ chroot(2) za pomoc± opcji 
<tt>-u</tt> demona httpd(8) w pliku 
<i><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&amp;sektion=8">/etc/rc.conf</a></i>

<h3>Przyk³ad chrootowania w aplikacji wwwcount</h3>
Jako przyk³ad procesu pozwalaj±cego na umieszczenie aplikacji w chroot(2)-cie
we¼miemy wwwcount, prosty licznik odwiedzin stron dostêpny w 
<a href="faq15.html#PkgMgmt">pakiecie</a>.
Bêd±c bardzo wydajnym narzêdziem, wwwcount nie wie nic na temat 
chroot(2)-owanego Apache'a, zatem nie bêdzie pracowa³ w domy¶lnej konfiguracji.

<p>
Na pocz±tek instalujemy pakiet
<a href="http://www.muquit.com/muquit/software/Count/Count.html">wwwcount</a>.
Konfigurujemy go i testujemy, a tak¿e odkrywamy ¿e wydaje siê nie dzia³aæ,
otrzymuj±c b³±d Apache "Internal Server Error".

Nastêpnie zatrzymujemy Apache'a i restartujemy z opcj± <tt>-u</tt>
i sprawdzamy, ¿e problemem jest chroot(2), nie konfiguracja.

<blockquote><pre>
# <b>apachectl stop</b>
/usr/sbin/apachectl stop: httpd stopped
# <b>httpd -u</b>
</pre></blockquote>

Po tym wszystkim, widzimy ¿e licznik dzia³a poprawnie, przynajmniej po 
zmianie w³a¶ciciela katalogu, tak by Apache (oraz CGI) móg³ zapisywaæ 
do plików tam umieszczonych.
Zatem, zdecydowanie mamy problem z chroot'em. Zatrzymujemy wiêc i uruchamiamy
Apache ponownie, z domy¶lmym chrootem.

<blockquote><pre>     
# <b>apachectl stop</b>
/usr/sbin/apachectl stop: httpd stopped
# <b>httpd</b>
</pre></blockquote>

<p>
Dobrym punktem wyj¶cia by³oby za³o¿yæ, ¿e wwwcount u¿ywa bibliotek
i innych plików do których nie ma dostêpu przez chroot.
Mo¿emy u¿yæ polecenia
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ldd&amp;sektion=1">ldd(1)</a>
by sprawdziæ zale¿no¶ci jakich wymaga CGI:

<blockquote><pre>
# <b>cd /var/www/cgi-bin/</b>
# <b>ldd Count.cgi</b>
Count.cgi:
         Start    End      Type Ref Name
         00000000 00000000 exe   1  Count.cgi
         03791000 237ca000 rlib  1  /usr/lib/libc.so.30.3
         03db4000 03db4000 rtld  1  /usr/libexec/ld.so
</pre></blockquote>

Ok, znale¼li¶my problem, dwa pliki które nie s± dostêpne w ¶rodowisku
chroot(2) Apache'a.
Kopiujemy je zatem:

<blockquote><pre>
     # <b>mkdir -p /var/www/usr/lib /var/www/usr/libexec</b>
     # <b>cp /usr/lib/libc.so.30.3 /var/www/usr/lib</b>
     # <b>cp /usr/libexec/ld.so /var/www/usr/libexec</b>
</pre></blockquote>

i sprawdzamy licznik ponownie.
 	 
<p>
Teraz program przynajmniej siê uruchamia i zwraca nam b³±d:
"Unable to open config file for reading".
Mamy postêp, lecz jeszcze nie skoñczyli¶my.
Normalnie plikiem konfiguracyjnym jest <tt>/var/www/wwwcount/conf</tt>, 
jednak w ¶rodowisku chroot wydaje siê  ¿e jest to 
<tt>/wwwcount/conf</tt>.
Mo¿emy wiêc albo przekompilowaæ program tak by korzysta³ z plików 
w miejscu gdzie s± teraz, albo przenie¶æ te dane.
Poniewa¿ zainstalowali¶my program z pakietu, po prostu przeniesiemy pliki.
Aby u¿ywaæ tej samej konfiguracji zarówno w ¶rodowisku chroot(2), jak
i normalnym, mo¿emy zrobiæ dowi±zanie symboliczne:
 	 
<blockquote><pre>
     # <b>mkdir -p /var/www/var/www</b>
     # <b>cd /var/www/var/www</b>
     # <b>ln -s ../../wwwcount wwwcount</b>
</pre></blockquote>

Zauwa¿my, ¿e link symboliczny bêdzie dzia³a³ wewn±trz chroota.
Ponownie testujemy... i znajdujemy jeszcze jedno zagadnienie.
Teraz wwwcount narzeka, ¿e nie mo¿e znale¼æ plików "strip image", 
których u¿ywa przy wy¶wietlaniu wiadomo¶ci.
Po krótkich poszukiwaniach, odnajdujemy je w 
<tt>/usr/local/lib/wwwcount</tt>, zatem musz± zostaæ skopiowane
do chroot'a.

<blockquote><pre>
# <b>tar cf - /usr/local/lib/wwwcount | (cd /var/www; tar xpf - )</b>
</pre></blockquote>

Testujemy ponownie... i wszystko dzia³a!

<p>
Zwróæ uwagê, ¿e skopiowali¶my tylko te pliki które s± absolutnie niezbêdne.
Generalnie, tylko minimalna ilo¶æ plików potrzebna do uruchomienia aplikacji
powinna byæ kopiowana do chroot'a.

<h3>Czy powinienem korzystaæ z funkcjonalno¶ci chroot-a?</h3>
W powy¿szym przyk³adzie, program by³ bardzo prosty, a mimo to natrafili¶my
na kilka ró¿nych problemów.

<p>
<i>Nie ka¿d± aplikacjê mo¿na lub powinno siê chroot(8)-owaæ.</i>

<p>
Celem jest bezpieczny serwer www, chroot(8) jest tylko narzêdziem
doskonal±cym to zadanie, lecz sam nie jest celem.
Pamiêtaj, pocz±tkowa konfiguracja chroot(2)-owanego Apache'a w OpenBSD
oznacza, ¿e u¿ytkownik z uprawnieniami którego dzia³a httpd(8), nie mo¿e
uruchamiaæ ¿adnych programów, nie mo¿e modyfikowaæ ¿adnych plików, 
a tak¿e nie mo¿e przejmowaæ to¿samo¶ci innych u¿ytkowników.
Trac±c te ograniczenia, tracisz bezpieczeñstwo, nie wa¿ne czy chrootowane
czy nie.

<p>
Niektóre aplikacje bywaj± bardzo proste, wiêc chroot(2)-owanie ich ma sens.
Inne bywaj± do¶æ skomplikowane i albo nie s± warte wysi³ku by umie¶ciæ
je w chroot(2), albo podczas kopiowania systemu w chroot, mo¿esz straciæ
korzy¶ci ¶rodowiska chroot(2).
Przyk³adowo, program OpenWebMail wymaga dostêpu do czytania i zapisu katalogów
z poczt±, katalogów domowych u¿ytkowników, a tak¿e musi mieæ mo¿liwo¶æ
dzia³ania jako jakikolwiek u¿ytkownik w systemie.
Usi³owanie wepchniêcia go w chroot jest zupe³nie bezcelowe, poniewa¿ w rezultacie
i tak pozbawisz siê wszystkich zalet chroot(2)-owania.
Nawet w przypadku aplikacji tak prostej jak nasza, musi ona zapisywaæ 
na dysk (by zapamiêtywaæ liczniki), wiêc <i>niektóre</i> korzy¶ci z chroot(2)-a s± tracone.
Generalnie, tylko minimum plików koniecznych by aplikacja dzia³a³a
powinno byæ kopiowane w chroot.

<p>
Usi³owanie chroot(2)-owania jakiejkolwiek aplikacji dzia³aj±cej z uprawnieniami
root-a jest bezcelowe, root generalnie mo¿e uciec z chroot(2)-a.

<p>
Nie zapomninaj tak¿e, ¿e w sytuacji gdy chrootowanie jakiej¶ aplikacji 
oka¿e siê bardzo trudne, mo¿esz nie aktualizowaæ systemu tak czêsto jak
powiniene¶.
Mo¿e to spowodowaæ, ¿e twój system bêdzie MNIEJ bezpieczny, ni¿ bardziej
zarz±dzalny system z wy³±czon± funkcjonalno¶ci± chroota.

<a name="rootshell"></a>
<h2>10.17 - Mogê zmieniæ pow³okê roota?</h2>
Czasem mówiono ¿e nie nale¿y zmieniaæ pow³oki u¿ytkownika root, aczkolwiek w OpenBSD nie
ma powodów by tego nie robiæ.

<p>
Domy¶ln± pow³ok± u¿ytkownika <i>root</i> w 
systemach OpenBSD jest 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh</a>.

<p>
Tradycyjnym przykazaniem administratora Uniksa jest korzystanie 
jako root tylko ze statycznie skompilowanych pow³ok, poniewa¿ kiedy 
system przechodzi w tryb pracy pojedynczego u¿ytkownika (ang. single 
user), partycje nie nale¿±ce do tego u¿ytkownika nie s± montowane, zatem 
dynamicznie ³±czone pow³oki nie bêd± w stanie skorzystaæ z bibliotek 
zlokalizowanych w partycji <tt>/usr</tt>. Nie jest to co¶, o czym 
administrator systemu OpenBSD musi pamiêtaæ, poniewa¿ gdy system 
przejdzie w tryb pojedynczego u¿ytkownika to sam poprosi o wybranie 
pow³oki, za¶ domy¶ln± pow³ok± jest 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">sh</a>.
W systemie OpenBSD standardowo znajduj± siê trzy pow³oki 
(<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh</a>, 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">sh</a> 
oraz <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh</a>). 
Wszystkie z nich s± zlinkowane statycznie, tak wiêc dostêpne s± równie¿ 
w trybie pojedynczego u¿ytkownika.


<a name="ksh"></a>
<h2>10.18 - Co jeszcze mo¿na zrobiæ z <i>ksh</i>? 

</h2>W systemie OpenBSD wywo³ywana poleceniem 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh</a> 
pow³oka to w rzeczywisto¶ci 
<a href="http://web.cs.mun.ca/~michael/pdksh/">pdksh</a> (Public Domain 
Korn Shell). Ksh ma te same binaria co pow³oka 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">sh</a>.

<p>U¿ytkownicy pos³uguj±cy siê swobodnie pow³ok± <i>bash</i> (czêsto 
spotykan± w systemie Linux), prawdopodobnie odnajd± w 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh</a> 
wiele podobieñstw. Ksh(1) posiada wiêkszo¶æ funkcji spotykanych 
w pow³oce <i>bash</i>, w³±czaj±c w to dopisywanie nazw plików po 
naci¶niêciu klawisza Tab, redagowanie i przegl±danie listy wydanych 
wcze¶niej poleceñ za pomoc± klawiszy strza³ek oraz przeskakiwanie na 
pocz±tek/koniec redagowanego polecenia za pomoc± klawiszy CTRL-A/CTRL-E. 
Je¿eli potrzebne s± inne funkcje pow³oki <i>bash</i>, <i>bash</i> mo¿na
zainstalowaæ korzystaj±c z <a href="faq15.html#PkgMgmt">pakietów</a> lub 
<a href="faq15.html#Ports">pakietów</a>.

<p>Znak zachêty pow³oki <i>ksh</i> mo¿na z ³atwo¶ci± zmieniæ z 
domy¶lnego "$ " na co¶, co dostarczy u¿ytkownikowi wiêcej informacji 
przez ustawienie zmiennej <tt>PS1</tt>. Na przyk³ad, wstawienie 
nastêpuj±cej linii:

<blockquote><pre>
    export PS1='$PWD $ '
</pre></blockquote>


do pliku <tt>/etc/profile</tt> spowoduje wygenerowanie 
nastêpuj±cego znaku zachêty:

<blockquote><pre>
    /home/nick $
</pre></blockquote>

Zachêcamy te¿ do przeanalizowania pliku 
<a href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/src/etc/ksh.kshrc?content-type=text/plain"><tt>/etc/ksh.kshrc</tt></a>,
w którym znajduje siê wiele przyk³adów tego, co mo¿na zamie¶ciæ w pliku 
<tt>.profile</tt>.

<p>
Dostêpna w OpenBSD pow³oka ksh(1) zosta³o rozszerzone o kilka
"specjalnych znaków" dla podstawowego znaku zachêty, PS1, podobnych
do tych wykorzystywanych w bashu.
Dla przyk³adu:
<blockquote>
<tt>\e - </tt>Wstaw znak ASCI - escape.<br>
<tt>\h - </tt>Nazwa hosta, bez nazwy domeny.<br>
<tt>\H - </tt>Pe³na nazwa hosta, ³±cznie z nazwa domeny.<br>
<tt>\n - </tt>Wstaw znak nowej linii.<br>
<tt>\t - </tt>Aktualny czas w formacie: HH:MM:SS (24-godzinnym).<br>
<tt>\u - </tt>Aktualna nazwa u¿ytkownika.<br>
<tt>\w - </tt>Aktualny katalog roboczy. $HOME jest skracany do `~'.<br>
<tt>\W - </tt>Nazwa aktualnego katalogu roboczego bez wiod±cej ¶cie¿ki.<br>
<tt>\$ - </tt>Wy¶wietli "#" dla root-a, "$" dla pozosta³ych u¿ytkowników.
</blockquote>

(na stronie manuala
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a>
znajdziesz wiêcej szczegó³ów a tak¿e znacznie wiêcej "znaków specjalnych"!
Zwróæ uwagê ¿e znak "$" ma specjalne znaczenie wewn±trz podwójnego cytowania,
zatem u¿ywaj go ostro¿nie)


<p>
Niektórzy mog± u¿yæ poni¿szego polecenia:

<blockquote><pre>
export PS1="\n\u@@\H\n\w \\$ "
</pre></blockquote>

by otrzymaæ zbyt rozwlek³y ale w jaki¶ sposób u¿yteczny prompt.

<p>
<font color= "#0000e0">
<a href="index.html">[Spis tre¶ci]</a>
<a href="faq9.html">[Sekcja 9 - Migracja do OpenBSD]</a>
<a href="faq11.html">[Sekcja 11 - X Window System]</a>
</font>

<p>
<hr>
<a href= "index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt="[back]"></a>
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>
<!--
Originally [OpenBSD: faq10.html,v 1.139 ]<br>
$Translation: faq10.html,v 1.39 2008/07/30 23:22:51 tkniaz Exp $<br>
-->
$OpenBSD: faq10.html,v 1.33 2008/08/04 12:05:27 tobias Exp $
</small>
</body></html>
@


1.33
log
@Sync with Steelix CVS
@
text
@d1759 1
a1759 1
$OpenBSD$
@


1.32
log
@Sync with Steelix CVS
@
text
@d859 1
a859 1
/: blocks in use: 62, limits (soft = 0, hard = 0)
d868 1
a868 1
/: blocks in use: 62, limits (soft = 1000, hard = 1050)
d1476 8
d1756 2
a1757 2
Originally [OpenBSD: faq10.html,v 1.137 ]<br>
$Translation: faq10.html,v 1.38 2008/01/07 00:45:56 tkniaz Exp $<br>
@


1.31
log
@Sync with Steelix CVS
@
text
@d1151 1
a1151 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=login.conf&amp;sektion=5">login.conf(8)</a>.
d1749 1
a1749 1
$Translation: faq10.html,v 1.37 2007/11/07 18:13:08 tkniaz Exp $<br>
@


1.30
log
@sync with Steelix CVS
@
text
@d1702 1
a1702 1
Pocz±wszy od wersji OpenBSD 3.7, ksh(1) zosta³o rozszerzone o kilka
d1748 2
a1749 2
Originally [OpenBSD: faq10.html,v 1.136 ]<br>
$Translation: faq10.html,v 1.36 2007/02/26 21:02:44 tkniaz Exp $<br>
d1753 1
a1753 1
</body></html>@


1.29
log
@sync with steelix translation CVS
@
text
@d11 1
a11 1
<meta name="copyright" content="This document copyright 1998-2006 by OpenBSD."></head>
d214 2
a215 2
domy¶lnej zawarto¶ci pliku 
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/etc/rc.conf">/etc/rc.conf</a>. 
d341 2
a342 2
<li><a href="http://www.sendmail.org/tips/relaying.html">http://www.sendmail.org/tips/relaying.html</a>
<li><a href="http://www.sendmail.org/antispam.html">http://www.sendmail.org/antispam.html</a>
d1715 1
d1718 6
a1723 2
(wiêcej szczegó³ów znajdziesz na stronie manuala
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">ksh(1)</a>!)
d1729 1
a1729 1
export PS1="\n\u@@\H\n\w $ "
d1748 2
a1749 2
Originally [OpenBSD: faq10.html,v 1.134 ]<br>
$Translation: faq10.html,v 1.35 2006/11/07 19:26:24 tkniaz Exp $<br>
@


1.28
log
@sync with steelix translation CVS
@
text
@d1018 2
a1019 2
podrêcznika systemowego programu 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftp(8)</a>
d1743 2
a1744 2
Originally [OpenBSD: faq10.html,v 1.133 ]<br>
$Translation: faq10.html,v 1.34 2006/11/02 20:00:55 tkniaz Exp $<br>
@


1.27
log
@sync with steelix translation CVS
@
text
@d23 1
a23 2
<!-- <a href="faq11.html">[Sekcja 11 - Dostrajanie wydajno¶ci]</a> -->
<a href="faq12.html">[Sekcja 12 - Pytania dotycz±ce poszczególnych platform]</a>
d1733 1
a1733 2
<!-- <a href="faq11.html">[Sekcja 11 - Dostrajanie wydajno¶ci]</a> -->
<a href="faq12.html">[Sekcja 12 - Pytania dotycz±ce poszczególnych platform]</a>
d1743 2
a1744 2
Originally [OpenBSD: faq10.html,v 1.132 ]<br>
$Translation: faq10.html,v 1.33 2006/10/24 19:41:37 tkniaz Exp $<br>
@


1.26
log
@sync with Steelix CVS
@
text
@d77 1
a77 1
<li><a href="#httpdchroot">10.16 - Zastosowanie ¶rodowiska chroot() 
d1098 1
a1098 1
<b>ftp             stream  tcp     nowait  root    /usr/libexec/tcpd       ftpd -llUSA</b>
d1357 1
a1357 1
<h2>10.16 - Zastosowanie ¶rodowiska chroot() dla serwera Apache.</h2>
d1369 1
a1369 1
<p>Proces dzia³aj±cy w ¶rodowisku zmodyfikowanym poleceniem 
d1381 9
a1389 5
znajdowaæ siê w katalogu <i>/var/www</i>. Ogromnie pomaga to w 
podniesieniu bezpieczeñstwa systemu -- je¿eli nast±pi³o by w³amanie 
poprzez serwer Apache, to zniszczenia dokonane przez w³amywacza by³yby 
ograniczone do jednego katalogu z prawami "tylko do odczytu" -- bez 
dostêpu do zasobów, które mo¿na by wykorzystaæ do niecnych zamiarów.
d1391 1
a1391 1
<h3>Co to oznacza dla u¿ytkownika?</h3>
d1393 2
a1394 1
<p>Nie owijaj±c w bawe³nê trzeba powiedzieæ, ¿e uruchamianie serwera 
d1397 5
a1401 1
bez kilku przeróbek:
d1422 3
a1424 1
utworzenie ich w katalogu <i>/var/www/home</i> lub podobnym.
d1431 4
a1434 1
byæ zatrzymany i zrestartowany:
d1437 3
a1439 1
     # <b>apachectl stop &amp;&amp; apachectl start</b>
d1442 7
d1467 9
a1475 3
wiedzy programistycznej. Wiêkszo¶æ u¿ytkowników zdecyduje siê na 
rozwi±zanie prostsze i po prostu nie skorzysta z chroot(2), dopóki dany 
skrypt nie zostanie zaktualizowany tak, by dzia³a³ w ¶rodowisku chroot(2). 
d1480 2
a1481 2
byæ zmienione tak, by dzia³a³y w ¶rodowisku chroot(2). W innych 
przypadkach trzeba bêdzie po prostu wy³±czyæ chroot(2) za pomoc± opcji 
d1576 1
a1576 1
     # <b>tar cf - /usr/local/lib/wwwcount | (cd /var/www; tar xpf - )</b>
d1582 23
a1604 3
W przytoczonym przyk³adzie, program by³ do¶æ prosty, jednak mimo to
napotkali¶my kilka ró¿nych problemów.
Niektóre aplikacje bywaj± bardzo proste, wiêc chroot(2)owanie ich ma sens.
d1607 6
a1612 1
wszystkie korzy¶ci ¶rodowiska chroot(2).
d1614 1
a1614 1
na dysk (by zapamiêtywaæ liczniki), wiêc niektóre korzy¶ci z chroot'a s± tracone.
a1616 1
<i>Nie wszystkie programy mog± lub powinny byæ chrootowane.</i>
d1618 10
d1745 2
a1746 2
Originally [OpenBSD: faq10.html,v 1.128 ]<br>
$Translation: faq10.html,v 1.32 2006/08/25 18:17:09 tkniaz Exp $<br>
@


1.25
log
@sync with steelix translation CVS
@
text
@d102 1
a102 1
grupy kbd>&quot;wheel&quot;</kbd>.
d1683 1
a1683 1
$Translation: faq10.html,v 1.31 2006/08/23 20:37:36 tkniaz Exp $<br>
@


1.24
log
@sync with steelix translation CVS
@
text
@d101 1
a101 1
uwzglêdnia u¿ytkownika <strong>ericj</strong> (oraz roota) jako cz³onka 
d1459 1
a1459 1
<a href="faq15.html#Ports">pakiecie</a>.
d1683 1
a1683 1
$Translation: faq10.html,v 1.30 2006/08/21 19:28:39 tkniaz Exp $<br>
@


1.23
log
@sync with steelix translation CVS
@
text
@d102 1
a102 1
grupy <kbd>"wheel"</kbd>.
d132 2
a133 1
<blockquote><pre># <strong>cd /SRC; dump 0f - . | (cd /DST; restore -rf - )</strong>
d144 3
a146 4
<blockquote>
<pre># <strong>cd /SRC; tar cf -  . | (cd /DST; tar xpf - )</strong>
</pre>
</blockquote>
d160 2
a161 2
	<li>/etc/rc - Skrypt g³ówny. Nie powinien byæ modyfikowany.
	<li>/etc/rc.conf - Plik konfiguracyjny u¿ywany przez <i>/etc/rc</i> w 
d163 1
a163 1
       <li>/etc/rc.conf.local - Plik konfiguracyjny, który mo¿e 
d166 2
a167 2
szczególnie wygodne dla osób, które czêsto uaktualniaj± system.
	<li>/etc/netstart - Skrypt u¿ywany do inicjalizowana obs³ugi 
d169 1
a169 1
	<li>/etc/rc.local - Skrypt u¿ywany do celów administracji lokalnej.
d171 1
a171 1
	<li>/etc/rc.securelevel - Skrypt wykonuj±cy niezbêdne czynno¶ci przed 
d173 2
a174 2
	<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&amp;sektion=8">init(8)</a>
	<li>/etc/rc.shutdown - Skrypt uruchamiany przed zatrzymaniem pracy 
d191 2
a192 2
       <li>Dokonywane jest sprawdzenie systemów plików. 
       <li>Z pliku <i>/etc/rc.conf</i>, a potem <i>/etc/rc.conf.local</i> 
d195 2
a196 2
	<li>Nastêpuje podmontowanie systemów plików.
	<li>Dokonywane jest wyczyszczenie katalogu <i>/tmp</i> oraz zachowanie 
d198 7
a204 7
	<li>Nastêpuje konfiguracja sieci za pomoc± skryptu <i>/etc/netstart</i>
		<ul>
		<li>Konfiguracja interfejsów.
		<li>Ustawienie nazwy hosta, nazwy domeny, itp.
		</ul>
	<li>Uruchomienie demonów systemowych.
       <li>Dokonanie ró¿nego rodzaju sprawdzeñ i dzia³añ (kwoty, savecore, 
d206 1
a206 1
       <li>Uruchomienie lokalnych demonów z <i>/etc/rc.local</i>
d219 2
a220 1
<blockquote><pre>ftpd_flags=NO           # for non-inetd use: ftpd_flags="-D"
d235 2
a236 1
<blockquote><pre>httpd_flags=NO          # for normal use: "" (or "-DSSL" after reading ssl(8))
d253 2
a254 3
potrzeb. Mo¿e to w przysz³o¶ci znacznie u³atwiæ proces przechodzenia na 
nowsz± wersjê systemu - wszystkie zmiany s± zapisane bowiem w tym 
jednym pliku.
d266 3
a268 2
<blockquote><pre>if [ -x /usr/local/sbin/daemonx ]; then
             echo -n ' daemonx';       /usr/local/sbin/daemonx
d282 2
a283 1
<blockquote><pre>Starting local daemons: daemonx.
d292 2
a293 2
jest zarz±dzanie energi± (apm), mo¿na tak¿e ustawiæ "powerdown=YES",
co jest odpowiednikiem komendy "shutdown -p".
d305 1
a305 1
# <strong>grep relay-domains /etc/mail/sendmail.cf</strong>
d311 2
a312 1
<blockquote><pre>FR-o /etc/mail/relay-domains
d320 2
a321 1
<blockquote><pre>.domain.com    #Zezwalaj na przekazywanie poczty z/do ka¿dego hosta w domain.com
d331 2
a332 2
<blockquote><pre># 
<Strong>kill -HUP `head -1 /var/run/sendmail.pid`</strong>
d356 2
a357 1
<blockquote><pre>-ERR Couldn't open temporary file, do you own it?
d363 2
a364 1
<blockquote><pre>prawa w  /var
d396 2
a397 2
<b>PS:</b> Proszê zwróciæ uwagê, ¿e OpenBSD nie tworzy automatycznie
grupy "mail". Je¿eli zajdzie taka potrzeba,
d401 2
a402 1
<blockquote><pre>mail:*:6:
d421 3
a423 2
<pre>     hosts       files dns
</pre>
d429 3
a431 2
<pre>     hosts       files
</pre>
d436 1
a436 1
<pre>     
d438 1
a438 1
</pre>
d466 3
a468 5
<div style="margin-left: 2em">
<pre>
# <strong>openssl genrsa -out /etc/ssl/private/server.key 1024</strong>
</pre>
</div>
d474 4
a477 5
<div style="margin-left: 2em">
<pre>
# <strong>openssl genrsa -des3 -out /etc/ssl/private/server.key 1024</strong>
</pre>
</div>
d485 3
a487 5
<div style="margin-left: 2em">
<pre>
# <strong>openssl req -new -key /etc/ssl/private/server.key -out /etc/ssl/private/server.csr</strong>
</pre>
</div>
d496 5
a500 4
<div style="margin-left: 2em">
<pre># <strong>openssl x509 -req -days 365 -in /etc/ssl/private/server.csr \
       -signkey /etc/ssl/private/server.key -out /etc/ssl/server.crt
</strong></pre></div>
d580 2
a581 1
<blockquote><pre># <strong>adduser</strong>
d634 3
a636 2
<blockquote><pre># <strong>rmuser</strong>
Enter login name for user to remove: <strong>testuser</strong>
d642 2
a643 2
Is this the entry you wish to remove? <strong>y</strong>
Remove user's home directory (/home/testuser)? <strong>y</strong>
d692 2
a693 1
<blockquote><pre>$ <strong>user add -D</strong>
d717 2
a718 1
<blockquote><pre>$ <strong>encrypt -p -b 6</strong>
d726 3
a728 2
<blockquote><pre># <strong>user add -p '$2a$06$YOdOZM3.4m6MObBXjeZtBOWArqC2.uRJZXUkOghbieIvSWXVJRzlq' -u 1002 \
-s /bin/ksh -c "Test FAQ User" -m -g guest testuser</strong>
d743 2
a744 1
<blockquote><pre>$ <strong>ls -la /home</strong>
d750 1
a750 1
$ <strong>id testuser</strong>
d752 1
a752 1
$ <strong>finger testuser</strong>
d764 2
a765 1
<blockquote><pre>$ <strong>userinfo testuser</strong>
d786 2
a787 1
<blockquote><pre># <strong>userdel -r testuser</strong>
d851 2
a852 1
<blockquote><pre># <strong>edquota ericj</strong>
d858 2
a859 1
<blockquote><pre>Quotas for user ericj:
d867 2
a868 1
<blockquote><pre>Quotas for user ericj:
d878 1
a878 1
Czas ten ustala siê stosuj±c opcjê <strong>-t</strong> w poleceniu 
d887 2
a888 1
<blockquote><pre># <strong>quotaon -a</strong>
d901 1
a901 1
# <Strong>quota ericj</strong>
d906 2
a907 1
<blockquote><pre>Disk quotas for user ericj (uid 1001): 
d916 2
a917 1
<blockquote><pre># <strong>quotaoff -a</strong>
d930 4
a933 2
<pre>     # <b>info heimdal</b>
</pre>
d949 1
a949 1
Najpierw nale¿y stworzyæ w systemie konto o nazwie "ftp". Has³o do tego 
d954 2
a955 3
polecenia chroot tak, ¿e u¿ytkownik nie bêdzie móg³ przej¶æ w górê 
drzewa katalogów (poza /home/ftp). Wiêcej na ten temat mo¿na dowiedzieæ 
siê na stronach podrêcznika systemowego 
d963 9
a971 6
<i>/etc/shells</i>. Czynimy to pisz±c: <i>echo /usr/bin/false &gt;&gt; 
/etc/shells</i>. Pó¼niej ustanawiamy plik /usr/bin/false domy¶ln± 
"pow³ok±" u¿ytkowników ftp. Dziêki temu nie bêd± siê oni mogli 
zalogowaæ. Dodatkowo, aby "pow³oka" ta zosta³a uwzglêdniona przez 
polecenie adduser(8), nale¿y odpowiednio zredagowaæ plik 
<i>/etc/adduser.conf</i>.
d973 2
a974 1
<blockquote><pre># <strong>adduser</strong>
d1049 2
a1050 1
<blockquote><pre># pwd
d1076 6
a1081 5
W przypadku ftpd mo¿na wybraæ czy uruchamiaæ go z inetd, czy ze skryptów
rc. Nasze przyk³ady poka¿± jak uruchomiæ demona z pomoc± 
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/etc/inetd.conf">inetd.conf</a>.
Na pocz±tku musimy jednak zaznajomiæ siê z pewnymi 
opcjami ftpd. Standardowa linia z <i>/etc/inetd.conf</i> wygl±da tak:
d1084 1
a1084 1
<strong>ftp             stream  tcp     nowait  root    /usr/libexec/ftpd       ftpd -US</strong>
d1098 1
a1098 1
<strong>ftp             stream  tcp     nowait  root    /usr/libexec/tcpd       ftpd -llUSA</strong>
d1103 1
a1103 1
Uwaga - w przypadku, gdy przewidywane jest bardzo du¿e obci±¿enie 
d1106 2
a1107 2
i uruchomiæ ftpd z poziomu rc.conf z w³±czon± opcj± <i>-D</i>. Sprawi to,
¿e demon bêdzie dzia³a³ szybciej, ni¿ gdyby zosta³ uruchomiony z 
d1109 1
a1109 1
rc.conf:
d1194 2
a1195 1
<li><b>Uaktualnienie systemu do wersji <i>current</i>.</b>
d1422 3
a1424 2
<pre>     # <b>apachectl stop &amp;&amp; apachectl start</b>
</pre>
d1458 2
a1459 2
we¼miemy wwwcount, prosty licznik odwiedzin stron dostêpny z 
<a href="../faq15.html#Ports">portów</a>.
d1464 1
a1464 1
Na pocz±tek instalujemy <a href="../faq15.html#PkgMgmt">pakiet</a>
d1471 2
a1472 1
<pre>
d1476 2
a1477 1
</pre>
d1483 2
a1484 1
<pre>     
d1488 1
a1488 1
</pre>
d1496 2
a1497 1
<pre>
d1505 2
a1506 1
</pre>
d1510 2
a1511 1
<pre>
d1515 2
a1516 1
</pre>
d1532 1
a1532 1
<pre>
d1536 2
a1537 1
</pre>
d1545 2
a1546 1
<pre>
d1548 2
a1549 1
</pre>
d1555 1
a1555 1
Niektóre aplikacje bywaj± bardzo proste, wiêc chrootowanie ich ma sens.
d1614 2
a1615 2
zainstalowaæ korzystaj±c z <a href="../faq15.html#PkgMgmt">pakietów</a> lub 
<a href="../faq15.html#Ports">pakietów</a>.
d1660 1
d1664 1
d1682 2
a1683 2
Originally [OpenBSD: faq10.html,v 1.125 ]<br>
$Translation: faq10.html,v 1.27 2006/05/28 01:13:10 tkniaz Exp $<br>
@


1.22
log
@sync with steelix translation CVS
@
text
@d117 2
a118 2
kontrolowany, nie nadaj±c mu wszystkich praw roota. Dok³adnie w tym
celu zosta³ stworzony program 
d327 1
a327 1
<strong>kill -HUP `head -1 /var/run/sendmail.pid`</strong>
d397 1
d418 1
a418 1
<tt>/etc/hosts</tt>, u¿yjmy nastêpuj±cego wpisu:
d424 1
a424 2
Aby zmiany, których dokonali¶my, zosta³y uwzglêdnione, wysy³amy procesowi 
Sendmail sygna³ HUP:
d426 2
a427 1
<pre>     # <b>kill -HUP `head -1 /var/run/sendmail.pid`</b>
d430 3
d437 1
a437 1
ssl(8)</h2>
d1379 1
a1379 1
u¿ytkownikom na <a href ="faq10.html#ftpchroot">dostêp do FTP w ¶rodowisku 
d1642 1
a1642 1
$Translation: faq10.html,v 1.25 2006/05/26 03:58:08 tkniaz Exp $<br>
@


1.21
log
@sync with steelix translation CVS
@
text
@d61 1
a61 1
	plik <tt>/etc/hosts</tt>?</a>
d86 1
a86 1
<a name="wheel"></a>
d92 1
a92 1
grupy <kbd>"wheel"</kbd> rêcznie. Robi siê tak dla zwiêkszenia
d105 2
a106 1
Dodaj±c nowego u¿ytkownika za pomoc± polecenia <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8">
d122 1
a122 1
<a name="DupFS"></a>
d149 1
a149 1
<a name="rc"></a>
d293 1
a293 1
<a name="RelayingDenied"></a>
d326 2
a327 1
<blockquote><pre># <strong>kill -HUP `head -1 /var/run/sendmail.pid`</strong>
d342 1
a342 1
<a name="POP"></a>
d391 1
a391 1
nale¿y utworzyæ j± w³asnorêcznie dodaj±c do pliku <i>/etc/group</i> wpis w
d397 1
d409 1
a409 1
plik <tt>/etc/hosts</tt>, nale¿y utworzyæ plik
d431 1
a431 1
<a name="HTTPS"></a>
d452 5
a456 3
<div style="margin-left: 2em;">
<pre># <strong>openssl genrsa -out /etc/ssl/private/server.key 1024
</strong></pre></div>
d462 5
a466 2
<div style="margin-left: 2em;"><pre># <strong>openssl genrsa -des3 -out /etc/ssl/private/server.key 1024
</strong></pre></div>
d474 1
a474 1
<div style="margin-left: 2em;">
d482 2
a483 1
<b>Thawte Certification</b>, której strona znajduje siê pod adresem <a href="http://www.thawte.com/">http://www.thawte.com/</a>.
d487 1
a487 1
<div style="margin-left: 2em;">
d493 1
a493 1
Po wygenerowaniu plików /etc/ssl/server.crt oraz 
d500 2
a501 2

<p><a name="vipw"></a>
d543 1
a543 1
<a name="AddDelUser"></a>
d781 1
a781 1
<a name="FTPOnly"></a>
d785 1
a785 1
na dodaniu pliku <i>/usr/bin/false</i> do <i>/etc/shells</i>. Je¿eli 
d787 1
a787 1
/usr/bin/false, to nie bêdzie on móg³ zalogowaæ siê do systemu w trybie
d794 1
a794 1
<a name="Quotas"></a>
d804 8
a811 7
Aby mo¿na by³o u¿ywaæ kwot dyskowych, j±dro systemu musi zostaæ 
skompilowane z w³±czon± opcj± <tt>QUOTA</tt>. Jest ona domy¶lnie 
ustawiona w j±drze GENERIC, wiêc nie powinno byæ z tym problemu. 
Nale¿y równie¿ wskazaæ na których systemach plików chcemy 
korzystaæ z kwot dyskowych. S³u¿± do tego s³owa kluczowe 
<tt>userquota</tt> oraz <tt>groupquota</tt> umieszczone w pliku 
<i>/etc/fstab</i>. W korzeniu wybranych 
d815 4
a818 4
lub nawet inaczej siê nazywa³y. Robi siê to dodaj±c w pliku /etc/fstab
znak równo¶ci oraz odpowiedni± ¶cie¿kê i nazwê pliku po s³owie kluczowym 
<tt>userquota</tt> b±d¼ <tt>groupquota</tt>. Oto przyk³adowa linia z
pliku /etc/fstab:
d870 1
a870 1
Spowoduje to wczytanie /etc/fstab i w³±czenie kwot na wybranych 
d873 1
a873 2

Wywo³anie <strong>quota &lt;user&gt;</strong> dostarczy 
d878 2
a879 1
<blockquote><pre># <strong>quota ericj</strong>
d890 1
a890 1
Kwoty ustawione w /etc/fstab w³±czaj± siê domy¶lnie podczas startu 
d898 1
a898 1
<a name="Kerberos"></a>
d911 1
a911 1
<a name="AnonFTP"></a>
d937 1
a937 1
Nale¿y tak¿e dodaæ liniê "/usr/bin/false" do pliku
d943 1
a943 3
/etc/adduser.conf [Uwaga!
W moim przypadku (OpenBSD 3.3) nie by³o potrzeby redagowania tego pliku! 
- przyp. t³um.]
d1104 1
a1104 1
<a name="ftpchroot"></a>
d1134 1
a1134 1
<a name="Patches"></a>
d1375 2
a1376 2
u¿ytkownikom na <ahref ="faq10.html#ftpchroot">dostêp do FTP w ¶rodowisku 
chroot(2), to nie zadzia³a to tak, jak oczekujemy, poniewa¿ 
d1383 1
a1383 1
</ahref><li><b>Rotacja logów:</b> Standardowo, rotacja logów odbywa siê przez 
d1393 2
a1394 1
Istniej± jeszcze inne sposoby, np. logowanie do <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pipe&amp;sektion=2">
d1401 2
a1402 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=apachectl&amp;sektion=8">apachectl</a> restart</tt>" 
które sprawia, ¿e httpd(8) przerywa pracê.
d1473 3
a1475 3
     # </b>mkdir -p /var/www/usr/lib /var/www/usr/libexec</b>
     # </b>cp /usr/lib/libc.so.30.3 /var/www/usr/lib</b>
     # </b>cp /usr/libexec/ld.so /var/www/usr/libexec</b>
d1493 3
a1495 3
     # </b>mkdir -p /var/www/var/www</b>
     # </b>cd /var/www/var/www</b>
     # </b>ln -s ../../wwwcount wwwcount</b>
d1505 1
a1505 1
     # </b>tar cf - /usr/local/lib/wwwcount | (cd /var/www; tar xpf - )</b>
d1531 1
a1531 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">csh(1)</a>.
d1570 1
a1570 1
Je¿eli potrzebne s± inne funkcje pow³oki <i>bash</i>, to mo¿na j± 
d1623 1
a1623 1
<font color="#0000e0">
d1638 1
a1638 1
$Translation: faq10.html,v 1.24 2006/05/23 17:51:59 tkniaz Exp $<br>
@


1.20
log
@sync with steelix translation CVS
@
text
@d13 1
a13 1
<body bgcolor="#ffffff" text="#000000">
d16 1
a16 1
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif" border="0">    
d20 1
a20 1
<font color="#0000e0">
d27 1
a27 1
</p><h1><font color="#e00000">10 - Zarz±dzanie systemem</font></h1>
d48 1
a48 1
</p><h3>Spis tre¶ci</h3>
d52 2
a53 2
</li><li><a href="#DupFS">10.2 - Jak zrobiæ kopiê systemu plików?</a>
</li><li><a href="#rc">10.3 - W jaki sposób automatycznie
d55 1
a55 1
</li><li><a href="#RelayingDenied">10.4 - Dlaczego u¿ytkownicy otrzymuj± 
d58 1
a58 1
</li><li><a href="#POP">10.5 - Uruchomi³em serwer POP, ale u¿ytkownicy
d60 1
a60 1
</li><li><a href="#SendmailDNS">10.6 - Dlaczego Sendmail ignoruje
d62 1
a62 1
</li><li><a href="#HTTPS">10.7 - Konfigurowanie bezpiecznego serwera HTTP
d64 1
a64 1
</li><li><a href="#vipw">10.8 - Dokona³em zmian w /etc/passwd, ale
d66 1
a66 1
</li><li><a href="#AddDelUser">10.9 - Jaki jest najlepszy sposób na
d68 1
a68 1
</li><li><a href="#FTPOnly">10.10 - Jak stworzyæ konto umo¿liwiaj±ce 
d70 2
a71 2
</li><li><a href="#Quotas">10.11 - Konfigurowanie kwot dyskowych</a>
</li><li><a href="#Kerberos">10.12 - Konfigurowanie klientów i serwerów
d73 2
a74 2
</li><li><a href="#AnonFTP">10.13 - Konfigurowanie anonimowego serwera FTP</a>
</li><li><a href="#ftpchroot">10.14 - Ograniczanie dostêpu u¿ytkowników
d76 2
a77 2
</li><li><a href="#Patches">10.15 - £atanie systemu OpenBSD</a>
</li><li><a href="#httpdchroot">10.16 - Zastosowanie ¶rodowiska chroot() 
d79 3
a81 3
</li><li><a href="#rootshell">10.17 - Mogê zmieniæ pow³okê roota?</a>
</li><li><a href="#ksh">10.18 - Co jeszcze mo¿na zrobiæ z ksh?</a>
</li></ul>
d87 1
a87 1
</p><h2>10.1 - Dlaczego system odpowiada, ¿e nie nale¿ê do odpowiedniej grupy, 
d104 1
a104 1
</p><p>
d111 1
a111 1
</p><blockquote><pre>wheel:*:0:root,ericj
d120 1
a120 1
</p><p>
d122 1
a122 1
</p><h2>10.2 - Jak zrobiæ kopiê systemu plików?</h2>
d131 1
a131 1
</p><blockquote><pre># <strong>cd /SRC; dump 0f - . | (cd /DST; restore -rf - )</strong>
d142 1
a142 1
</p><blockquote>
d149 1
a149 1
</p><h2>10.3 - W jaki sposób automatycznie uruchamiaæ demony przy
d158 1
a158 1
</p><ul>
d160 1
a160 1
	</li><li>/etc/rc.conf - Plik konfiguracyjny u¿ywany przez <i>/etc/rc</i> w 
d162 1
a162 1
       </li><li>/etc/rc.conf.local - Plik konfiguracyjny, który mo¿e 
d166 1
a166 1
	</li><li>/etc/netstart - Skrypt u¿ywany do inicjalizowana obs³ugi 
d168 1
a168 1
	</li><li>/etc/rc.local - Skrypt u¿ywany do celów administracji lokalnej.
d170 1
a170 1
	</li><li>/etc/rc.securelevel - Skrypt wykonuj±cy niezbêdne czynno¶ci przed 
d173 1
a173 1
	</li><li>/etc/rc.shutdown - Skrypt uruchamiany przed zatrzymaniem pracy 
d177 1
a177 1
</li></ul>
d187 1
a187 1
</p><p>
d189 3
a191 4
</p><ul>
       <li>Dokonywane jest sprawdzenie systemów plików. Krok ten jest pomijany,
je¿eli istnieje plik /etc/fastboot (zdecydowanie to jednak odradzamy).
       </li><li>Z pliku <i>/etc/rc.conf</i>, a potem <i>/etc/rc.conf.local</i> 
d194 2
a195 2
	</li><li>Nastêpuje podmontowanie systemów plików.
	</li><li>Dokonywane jest wyczyszczenie katalogu <i>/tmp</i> oraz zachowanie 
d197 1
a197 1
	</li><li>Nastêpuje konfiguracja sieci za pomoc± skryptu <i>/etc/netstart</i>
d200 4
a203 4
		</li><li>Ustawienie nazwy hosta, nazwy domeny, itp.
		</li></ul>
	</li><li>Uruchomienie demonów systemowych.
       </li><li>Dokonanie ró¿nego rodzaju sprawdzeñ i dzia³añ (kwoty, savecore, 
d205 2
a206 2
       </li><li>Uruchomienie lokalnych demonów z <i>/etc/rc.local</i>
</li></ul>
d218 1
a218 1
</p><blockquote><pre>ftpd_flags=NO           # for non-inetd use: ftpd_flags="-D"
d233 1
a233 1
</p><blockquote><pre>httpd_flags=NO          # for normal use: "" (or "-DSSL" after reading ssl(8))
d245 1
a245 1
</p><p>
d254 1
a254 1
</p><h3>Uruchamianie i konfiguracja lokalnych demonów</h3>
d264 1
a264 1
</p><blockquote><pre>if [ -x /usr/local/sbin/daemonx ]; then
d273 1
a273 1
</p><p>
d279 1
a279 1
</p><blockquote><pre>Starting local daemons: daemonx.
d291 1
a291 1
</p><p>
d293 1
a293 1
</p><h2>10.4 - Dlaczego u¿ytkownicy otrzymuj± komunikat "relaying access
d307 1
a307 1
</p><blockquote><pre>FR-o /etc/mail/relay-domains
d315 1
a315 1
</p><blockquote><pre>.domain.com    #Zezwalaj na przekazywanie poczty z/do ka¿dego hosta w domain.com
d325 1
a325 1
</p><blockquote><pre># <strong>kill -HUP `head -1 /var/run/sendmail.pid`</strong>
d330 1
a330 1
</p><h3>Dalsze informacje</h3>
d333 1
a333 1
</p><ul>
d335 3
a337 3
</li><li><a href="http://www.sendmail.org/tips/relaying.html">http://www.sendmail.org/tips/relaying.html</a>
</li><li><a href="http://www.sendmail.org/antispam.html">http://www.sendmail.org/antispam.html</a>
</li></ul>
d341 1
a341 1
</p><h2>10.5 - Uruchomi³em serwer POP, ale u¿ytkownicy maj± k³opoty z
d349 1
a349 1
</p><blockquote><pre>-ERR Couldn't open temporary file, do you own it?
d355 1
a355 1
</p><blockquote><pre>prawa w  /var
d369 1
a369 1
</p><p>
d386 1
a386 1
</p><p>
d392 1
a392 1
</p><blockquote><pre>mail:*:6:
d404 1
a404 1
</p><p>
d409 1
a409 1
</p><pre>     hosts       files dns
d416 1
a416 1
</p><pre>     hosts       files
d423 1
a423 1
</p><pre>     # <b>kill -HUP `head -1 /var/run/sendmail.pid`</b>
d429 1
a429 1
</p><h2>10.7 - Konfigurowanie bezpiecznego serwera HTTP z wykorzystaniem 
d445 1
a445 1
</p><p>
d449 1
a449 1
</p><div style="margin-left: 2em;">
d457 1
a457 1
</p><div style="margin-left: 2em;"><pre># <strong>openssl genrsa -des3 -out /etc/ssl/private/server.key 1024
d476 1
a476 1
</p><p>Je¿eli nie staæ Ciê na certyfikat Thawte, albo chcesz sam podpisaæ 
d478 1
a478 1
</p><div style="margin-left: 2em;">
d492 2
a493 2
</p><p><a name="vipw"></a>
</p><h2>10.8 - Dokona³em zmian w /etc/passwd, ale nie zosta³y one 
d503 1
a503 1
</p><blockquote><pre>PLIKI
d523 1
a523 1
</p><p>OpenBSD posiada narzêdzie, które s³u¿y do modyfikacji pliku 
d533 1
a533 1
</p><p>
d535 1
a535 1
</p><h2>10.9 - Jaki jest najlepszy sposób na dodanie/usuniêcie 
d541 1
a541 1
</p><ul>
d543 2
a544 2
</li><li><a href="#user">user(8)</a>
</li></ul>
d561 1
a561 1
</p><blockquote><pre># <strong>adduser</strong>
d592 1
a592 1
Shell:i      /bin/ksh
d614 1
a614 1
</p><blockquote><pre># <strong>rmuser</strong>
d637 1
a637 1
</p><p>
d639 1
a639 1
</p><ul>
d664 1
a664 1
</p><p>
d671 1
a671 1
</p><blockquote><pre>$ <strong>user add -D</strong>
d695 1
a695 1
</p><blockquote><pre>$ <strong>encrypt -p -b 6</strong>
d703 1
a703 1
</p><blockquote><pre># <strong>user add -p '$2a$06$YOdOZM3.4m6MObBXjeZtBOWArqC2.uRJZXUkOghbieIvSWXVJRzlq' -u 1002 \
d715 1
a715 1
</p><p>By sprawdziæ, czy u¿ytkownik zosta³ poprawnie dodany do systemu, mo¿na 
d719 1
a719 1
</p><blockquote><pre>$ <strong>ls -la /home</strong>
d739 1
a739 1
</p><blockquote><pre>$ <strong>userinfo testuser</strong>
d760 1
a760 1
</p><blockquote><pre># <strong>userdel -r testuser</strong>
d771 1
a771 1
</p><p>
d773 1
a773 1
</p><h2>10.10 - Jak stworzyæ konto umo¿liwiaj±ce logowanie tylko przez FTP?</h2>
d784 1
a784 1
</p><p>
d786 1
a786 1
</p><h2>10.11 - Konfigurowanie kwot dyskowych</h2>
d794 1
a794 1
</p><p>
d823 1
a823 1
</p><blockquote><pre># <strong>edquota ericj</strong>
d829 1
a829 1
</p><blockquote><pre>Quotas for user ericj:
d837 1
a837 1
</p><blockquote><pre>Quotas for user ericj:
d851 1
a851 1
</p><p>
d856 1
a856 1
</p><blockquote><pre># <strong>quotaon -a</strong>
d869 1
a869 1
</p><blockquote><pre># <strong>quota ericj</strong>
d874 1
a874 1
</p><blockquote><pre>Disk quotas for user ericj (uid 1001): 
d883 1
a883 1
</p><blockquote><pre># <strong>quotaoff -a</strong>
d889 1
a889 1
</p><h2>10.12 - Konfigurowanie klientów i serwerów KerberosV</h2>
d894 1
a894 1
</p><p>
d896 1
a896 1
</p><pre>     # <b>info heimdal</b>
d902 1
a902 1
</p><h2>10.13 - Konfigurowanie anonimowego serwera FTP</h2>
d910 1
a910 1
</p><h3>Dodawanie konta FTP</h3>
d921 1
a921 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">ftp(8)</a> 
d937 1
a937 1
</p><blockquote><pre># <strong>adduser</strong>
d985 1
a985 1
</p><p>
d989 1
a989 1
</p><ul>
d993 1
a993 1
</li><li><i>/home/ftp/etc</i> - ca³kowicie opcjonalny, a nawet nie zalecany,
d1004 1
a1004 1
</li><li><i>/home/ftp/pub</i> - Zwyczajowy katalog w którym umieszcza siê 
d1008 1
a1008 1
</li></ul><p>Proszê zwróciæ uwagê na to, by w³a¶cicielem wszystkich katalogów 
d1012 1
a1012 1
</p><blockquote><pre># pwd
d1081 1
a1081 1
</p><h3>Inne wa¿ne pliki</h3>
d1086 1
a1086 1
</li><li><i>/etc/motd</i> - Zawiera wiadomo¶æ powitaln± wy¶wietlan± 
d1088 1
a1088 1
</li><li><i>.message</i> - Pliki o takiej nazwie mo¿na zamieszczaæ w 
d1091 1
a1091 1
</li></ul>
d1097 1
a1097 1
</p><h2>10.14 - Ograniczanie dostêpu u¿ytkowników wy³±cznie do ich 
d1127 1
a1127 1
</p><h2>10.15 - £atanie systemu OpenBSD</h2>
d1317 1
a1317 1
</p><h2>10.16 - Zastosowanie ¶rodowiska chroot() dla serwera Apache.</h2>
d1328 1
a1328 1
</p><h3>Co to jest chroot?</h3>
d1347 1
a1347 1
</p><h3>Co to oznacza dla u¿ytkownika?</h3>
d1354 1
a1354 1
</p><ul>
d1375 1
a1375 1
</ahref></li><li><b>Rotacja logów:</b> Standardowo, rotacja logów odbywa siê przez 
d1389 1
a1389 1
</li><li><b>Modu³y Apache:</b> Praktycznie wszystkie powinny siê za³adowaæ, 
d1395 1
a1395 1
</li><li><b>Skrypty CGI:</b> Wiêkszo¶æ NIE zadzia³a poprawnie od razu. Mog± 
d1406 1
a1406 1
</li></ul>
d1417 1
a1417 1
<a href="faq15.html#Ports">portów</a>.
d1422 1
a1422 1
Na pocz±tek instalujemy <a href="faq15.html#PkgMgmt">pakiet</a>
d1562 2
a1563 2
zainstalowaæ korzystaj±c z <a href="faq15.html#PkgMgmt">pakietów</a> lub 
<a href="faq15.html#Ports">pakietów</a>.
d1565 1
a1565 1
</p><p>Znak zachêty pow³oki <i>ksh</i> mo¿na z ³atwo¶ci± zmieniæ z 
d1628 2
a1629 2
Originally [OpenBSD: faq10.html,v 1.123 ]<br>
$Translation: faq10.html,v 1.21 2006/05/18 19:07:12 tkniaz Exp $<br>
@


1.19
log
@sync with Steelix CVS
@
text
@d15 4
a18 1
<img alt="[OpenBSD]" src="faq10_files/smalltitle.htm" height="30" width="141">
d105 2
a106 1
Dodaj±c nowego u¿ytkownika za pomoc± polecenia <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8">adduser(8)</a>, mo¿na od razu dodaæ go do grupy wheel po prostu 
d126 2
a127 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8">dump(8)</a> i <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8">restore(8)</a>.
d139 2
a140 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1">tar(1)</a>. Sk³adnia tego polecenia jest bardzo podobna jak w 
poprzednim przyk³adzie:
d171 2
a172 1
zmian± poziomu bezpieczeñstwa systemu. Przeczytaj <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&amp;sektion=8">init(8)</a>
d175 2
a176 1
systemu. Przeczytaj <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.shutdown&amp;sektion=8">rc.shutdown(8)</a>
d216 2
a217 1
<a href="http://www.openbsd.org/cgi-bin/cvsweb/src/etc/rc.conf">/etc/rc.conf</a>. Znajduj± siê tam linie podobne do tej:
d1139 1
a1139 1
£atki te pojawiaj± siê na <a href="../errata.html">stronie errat</a> 
d1141 1
a1141 1
<a href="../plat.html">platformy</a> , oraz erraty dzia³aj±ce w ramach
d1161 1
a1161 1
<li><b>Uaktualnienie systemu do wersji <a href="../stable.html"><i>-stable</i></a>.</b>
d1178 1
a1178 1
pod uwagê mo¿liwo¶æ pod±¿ania za wersj± <a href="../stable.html"><i>-stable</i></a>
d1211 1
a1211 1
<a href="../ftp.html">serwerów FTP</a>.
d1630 1
a1630 1
$Translation: faq10.html,v 1.20 2006/05/13 00:20:44 tkniaz Exp $<br>
@


1.18
log
@sync with steelix translation CVS
@
text
@d161 1
a161 1
	</li><li>/etc/netstart - Skrypt u¿ywany do inicjalizowania obs³ugi 
d399 1
a399 1
plik <tt>/etc/hosts</tt>, nale¿y utwórzyæ plik
d1123 1
a1123 1
Nawet w OpenBSD zda¿aj± siê b³êdy.
d1138 1
a1138 1
Prosze zwróciæ uwagê na to, ¿e ³atki nie s± jakimi¶ nowymi dodatkami do 
d1145 1
a1145 1
S± trzy mozliwo¶ci uaktualnienia systemu z poprawionym kodem:
d1150 1
a1150 1
uaktualnienie twojego systemu do najnowszego snapshot'u jest bardzo dobr± 
d1162 1
a1162 1
sprawdzenie/ualtualnienie ca³ego drzewa cvs(1) i kompilacja kodu ¼ród³owego, jest
d1187 1
a1187 1
To jest bardzo wa¿ne: je¿eli instalowa³e¶ system ze snapshot'a, sprawdzi³e¶
d1197 1
a1197 1
orginalnego kodu ¼ród³owego. <b>NIE</b> s± dystrybuowane w formie 
d1509 1
a1509 1
Czasem mowiono ¿e nie nale¿y zmieniaæ pow³oki u¿ytkownika root, aczkolwiek w OpenBSD nie
d1583 1
a1583 1
do tych wykorzystywanych w bash'u.
d1593 1
a1593 1
<tt>\W - </tt>Nazwa aktualnego katalogu roboczego bez wiodacej ¶cie¿ki.<br>
d1622 1
a1622 1
$Translation: faq10.html,v 1.19 2006/04/18 14:58:29 tkniaz Exp $<br>
@


1.17
log
@sync with Steelix CVS
@
text
@d208 2
a209 1
domy¶lnej zawarto¶ci pliku <a href="http://www.openbsd.org/cgi-bin/cvsweb/src/etc/rc.conf">/etc/rc.conf</a>. Znajduj± siê tam linie podobne do tej:
d233 4
a236 1
httpd z obs³ug± ssl (patrz <a href="#HTTPS">SSL FAQ</a> lub <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&amp;sektion=8">ssl(8)</a>) nale¿a³o by napisaæ: httpd_flags="-DSSL".
d371 2
a372 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=popa3d&amp;sektion=8">popa3d</a>, który jest dostêpny ju¿ w podstawowej instalacji OpenBSD.
d1051 2
a1052 1
</p><blockquote><pre><strong>ftp             stream  tcp     nowait  root    /usr/libexec/tcpd       ftpd -llUSA</strong>
d1065 2
a1066 1
</p><blockquote><pre>ftpd_flags="-DllUSA"           # for non-inetd use: ftpd_flags="-D"
d1621 2
a1622 2
Originally [OpenBSD: faq10.html,v 1.122 ]<br>
$Translation: faq10.html,v 1.18 2006/04/06 23:47:29 tkniaz Exp $<br>
@


1.16
log
@sync with steelix translation CVS
@
text
@d20 2
a21 1
<a href="faq11.html">[Sekcja 11 - Dostrajanie wydajno¶ci]</a>
d1603 2
a1604 1
<a href="faq11.html">[Sekcja 11 - Dostrajanie wydajno¶ci]</a>
d1614 2
a1615 2
Originally [OpenBSD: faq10.html,v 1.121 ]<br>
$Translation: faq10.html,v 1.17 2006/04/05 20:07:10 tkniaz Exp $<br>
@


1.15
log
@sync with Steelix CVS
@
text
@d797 2
a798 1
</p><blockquote><pre>/dev/wd0a / ffs rw,userquota=/var/quotas/quota.user 1 1
d848 3
a850 2
systemach plików. Do wy¶wietlania kwot s³u¿y polecenie <
a href="http://www.openbsd.org/cgi-bin/man.cgi?query=quota&amp;sektion=1">quota(1)</a>. 
d1613 1
a1613 1
$Translation: faq10.html,v 1.16 2006/03/16 17:11:39 tkniaz Exp $<br>
@


1.14
log
@sync with Steelix CVS
@
text
@d11 1
a11 1
<meta name="copyright" content="This document copyright 1998-2005 by OpenBSD."></head>
d1610 2
a1611 2
Originally [OpenBSD: faq10.html,v 1.120 ]<br>
$Translation: faq10.html,v 1.15 2005/11/30 01:58:10 tkniaz Exp $<br>
@


1.13
log
@sync with Steelix CVS
@
text
@d1400 1
a1400 1
<a href="faq8.html#Ports">portów</a>.
d1405 1
a1405 1
Na pocz±tek instalujemy <a href="faq8.html#Packages">pakiet</a>
d1532 1
a1532 1
<a href="http://web.cs.mun.ca/%7Emichael/pdksh/">pdksh</a> (Public Domain 
d1545 2
a1546 2
zainstalowaæ korzystaj±c z <a href="faq8.html#Ports">portów</a> lub 
<a href="faq8.html#Packages">pakietów</a>.
d1610 2
a1611 2
Originally [OpenBSD: faq10.html,v 1.119 ]<br>
$Translation: faq10.html,v 1.14 2005/11/03 03:32:58 tkniaz Exp $<br>
@


1.12
log
@sync with Steelix CVS
@
text
@d75 1
a75 2
</li><li><a href="#rootshell">10.17 - Nie podoba mi siê domy¶lna pow³oka 
	roota!</a>
d1498 3
a1500 2
<!-- XXXversion - root shell is now ksh -->
<h2>10.17 - Nie podoba mi siê domy¶lna pow³oka roota!</h2>
d1502 2
a1503 1
Z powodów historycznych, domy¶ln± pow³ok± u¿ytkownika <i>root</i> w 
a1505 24
Nie ma jednak ¿adnego nakazu, aby OpenBSD u¿ywa³ csh(1) jako 
domy¶lnej pow³oki roota (zanim jednak zmienisz interpreter poleceñ, 
przeczytaj tekst poni¿ej).

<p>U¿ytkownicy innych Uniksów czêsto maj± trudno¶ci z przyzwyczajeniem 
siê do csh(1) i pytaj± w jaki sposób mog± zmieniæ t± pow³okê na inn±.  
Aby rozwi±zaæ ten problem, mo¿na:

</p><ul>
<li><b>Nie logowaæ siê jako <i>root!</i></b>  Polecenia 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">su(1)</a> 
oraz 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a>
sprawiaj±, ¿e po pocz±tkowym skonfigurowaniu systemu nie ma zbyt wielu
powodów, by logowaæ siê jako <i>root</i>.

<li><b>Uruchomiæ ulubiony interpreter poleceñ po zalogowaniu siê do 
systemu:</b> je¿eli lubimy ksh(1) lub dowoln± inn± pow³okê, mo¿emy po 
prostu uruchomiæ j± z pow³oki domy¶lnej [wydaj±c np. polecenie "ksh" - przyp. t³um.].
<li><b>Zmieniæ domy¶ln± pow³okê roota:</b> mo¿na to zrobiæ za pomoc± 
polecenia <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1">chsh</a> 
albo 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">vipw</a>.
</ul>
d1507 1
a1516 1

a1524 5
<p>Czasami spotkaæ siê mo¿na z opini±, ¿e pow³oki roota nie powinno siê 
zmieniaæ. W OpenBSD nie ma ¿adnego uzasadnienia dla takiego 
nakazu. Jednak to i tak nie powinno byæ przedmiotem dyskusji -- po 
prostu nie nale¿y logowaæ siê jako root.
W³a¶ciwie w OpenBSD-current, domy¶lna pow³oka zosta³a zmieniona na ksh.
d1610 2
a1611 2
Originally [OpenBSD: faq10.html,v 1.116 ]<br>
$Translation: faq10.html,v 1.13 2005/08/24 11:40:44 pl-team Exp $<br>
@


1.11
log
@sync with Steelix CVS
@
text
@d1637 1
d1639 2
a1640 1
$Translation: faq10.html,v 1.12 2005/08/20 15:09:17 pl-team Exp $<br>
@


1.10
log
@sync with Steelix CVS
@
text
@d18 3
a20 3
<a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/faq/index.html">[Spis tre¶ci]</a>
<a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/faq/faq9.html">[Sekcja 9 - Migracja do OpenBSD]</a>
<a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/faq/faq11.html">[Sekcja 11 - Dostrajanie wydajno¶ci]</a>
d216 1
a216 1
przeczytaj dzia³ <a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/faq/faq10.html#AnonFTP">Konfigurowanie anonimowego 
d289 2
a290 1
</p><blockquote><pre># <strong>cat /etc/mail/sendmail.cf | grep relay-domains</strong>
d323 1
a323 1
<li><a href="http://www.sendmail.org/%7Eca/email/relayingdenied.html">http://www.sendmail.org/~ca/email/relayingdenied.html</a>
d454 5
a458 2
</p><div style="margin-left: 2em;"><pre># <strong>openssl req -new -key /etc/ssl/private/server.key -out /etc/ssl/private/server.csr
</strong></pre></div>
d486 4
a489 2
OpenBSD generuje <i>/etc/passwd</i> dynamicznie za pomoc± <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=pwd_mkdb&amp;sektion=8">pwd_mkdb(8)</a>. G³ównym plikiem hase³ w systemie OpenBSD jest 
<i>/etc/master.passwd</i>. Cytuj±c za pwd_mkdb(8):
d534 3
a536 2
Mo¿na tak¿e dodawaæ u¿ytkowników rêcznie za pomoc± <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">
vipw(8)</a>, ale zwykle jest to bardziej skomplikowane.
d539 6
a544 5
OpenBSD jest u¿ycie skryptu <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8">adduser(8)</a>. Mo¿na go skonfigurowaæ redaguj±c plik 
<i>/etc/adduser.conf</i>. adduser(8) sprawdza spójno¶æ plików
<i>/etc/passwd</i>, <i>/etc/group</i> oraz baz danych pow³oki. Tworzy
tak¿e niezbêdne wpisy oraz katalog $HOME. Potrafi nawet wys³aæ 
u¿ytkownikowi wiadomo¶æ powitaln±. Oto przyk³ad dodania 
d621 3
a623 1
Ni¿ej opisane narzêdzia s± mniej interaktywne ni¿ polecenie <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8">adduser(8)</a>, co u³atwia korzystanie z nich w skryptach pow³oki. 
d628 11
a638 3
<li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=group&amp;sektion=8">
group(8)</a>	</li><li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupadd&amp;sektion=8">groupadd(8)</a>	</li><li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupdel&amp;sektion=8">groupdel(8)</a>	</li><li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupinfo&amp;sektion=8">groupinfo(8)</a>	</li><li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupmod&amp;sektion=8">groupmod(8)</a>	</li><li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=user&amp;sektion=8">
user(8)</a>	</li><li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8">useradd(8)</a>	</li><li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=userdel&amp;sektion=8">userdel(8)</a>	</li><li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=userinfo&amp;sektion=8">userinfo(8)</a>	</li><li><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8">usermod(8)</a></li></ul>
d676 3
a678 1
programu <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=encrypt&amp;sektion=1">encrypt(1)</a>, s³u¿±cego do szyfrowania hase³. OpenBSD u¿ywa do 
d803 3
a805 1
o nazwie <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=edquota&amp;sektion=8">edquota(8)</a>. Wpisuj±c "<tt>edquota &lt;user&gt;</tt>" 
d840 2
a841 1
polecenia <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=quotaon&amp;sektion=8">quotaon(8)</a>. Przyk³ad:
d848 3
a850 2
systemach plików. Do wy¶wietlania kwot s³u¿y polecenie <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=quota&amp;sektion=1">
quota(1)</a>. Wywo³anie <strong>quota &lt;user&gt;</strong> dostarczy 
d906 8
a913 3
siê na stronach podrêcznika systemowego <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">
ftp(8)</a> oraz <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">chroot(2)</a>. Oto przyk³ad dodania u¿ytkownika o nazwie <i>ftp</i>.
U¿ywamy tutaj polecenia. <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8">adduser(8)</a>. Nale¿y tak¿e dodaæ liniê "/usr/bin/false" do pliku
d968 2
a969 2
podrêcznika systemowego programu <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">
ftp(8)</a>
d1025 3
a1027 2
rc. Nasze przyk³ady poka¿± jak uruchomiæ demona z pomoc± <a href="http://www.openbsd.org/cgi-bin/cvsweb/src/etc/inetd.conf">
inetd.conf</a>. Na pocz±tku musimy jednak zaznajomiæ siê z pewnymi 
d1030 2
a1031 1
</p><blockquote><pre><strong>ftp             stream  tcp     nowait  root    /usr/libexec/ftpd       ftpd -US</strong>
a1108 106
<!--
<p>
W systemie OpenBSD serwer <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">
ftpd(8)</a> zosta³ domy¶lnie tak skonfigurowany, by ³atwo mo¿na by³o 
poradziæ sobie z tytu³owym problemem. Rozwi±zuje siê go za pomoc± pliku 
<strong>/etc/ftpchroot</strong>. Poniewa¿ nie do wszystkich u¿ytkowników 
ma siê zaufanie, bardzo wskazane jest pozwolenie u¿ytkownikom na dostêp
tylko i wy³±cznie do swoich katalogów. Takie ograniczenie NIE jest 
domy¶lnie w³±czone. Oto przyk³ad domy¶lnego zachowania:

</p><blockquote><pre>$ <strong>ftp localhost</strong>
Connected to localhost.
220 oshibana FTP server (Version 6.4/OpenBSD) ready.
Name (localhost:ericj): <strong>ericj</strong>
331 Password required for ericj.
Password: <strong>*********</strong>
230- OpenBSD 3.4 (GENERIC) #18: Wed Sep 17 03:34:47 MDT 2003
230- 
230- Welcome to OpenBSD: The proactively secure Unix-like operating system.
230- 
230- Please use the sendbug(1) utility to report bugs in the system.
230- Before reporting a bug, please try to reproduce it with the latest
230- version of the code.  With bug reports, please try to ensure that
230- enough information to reproduce the problem is enclosed, and if a
230- known fix for it exists, include that as well.
230- 
230 User ericj logged in.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt; <strong>cd /</strong>
250 CWD command successful.
ftp&gt; <strong>ls</strong>
227 Entering Passive Mode (127,0,0,1,60,7)
150 Opening ASCII mode data connection for 'file list'.
altroot
bin
dev
etc
home
mnt
root
sbin
stand
tmp
usr
var
bsd
sys
boot
226 Transfer complete.
ftp&gt; <strong>quit</strong>
221 Goodbye.
</pre></blockquote>


<p>
Jak widaæ, u¿ytkownik ma dostêp do dowolnego pliku na serwerze. Gdyby 
¶wiat by³ doskona³y i ka¿demu mo¿na by³o ufaæ, to nie by³o by problemu - 
ale oczywi¶cie tak nie jest. Aby uniemo¿liwiæ u¿ytkownikowi opuszczenie 
jego katalogu domowego, po prostu dodajemy jego nazwê do pliku
<strong>/etc/ftpchroot</strong>. Oto odpowiedni przyk³ad dla u¿ytkownika
o loginie "ericj".

</p><blockquote><pre>$ <strong>cat /etc/ftpchroot</strong>
#       $ OpenBSD: ftpchroot,v 1.3 1996/07/18 12:12:47 deraadt Exp $
#
# list of users (one per line) given ftp access to a chrooted area.
# read by ftpd(8).
ericj
</pre></blockquote>

<p>
To wystarczy, by uniemo¿liwiæ u¿ytkownikowi "ericj"
opuszczenie swojego katalogu. Jak widaæ, katalog / nagle zamieni³ siê 
w katalog domowy u¿ytkownika!

</p><blockquote><pre>$ <strong>ftp localhost</strong>
Connected to localhost.
220 oshibana FTP server (Version 6.4/OpenBSD) ready.
Name (localhost:ericj): <strong>ericj</strong>
331 Password required for ericj.
Password: <strong>*********</strong>
230 User ericj logged in.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp&gt; <strong>cd /</strong>
250 CWD command successful.
ftp&gt; <strong>ls</strong>
227 Entering Passive Mode (127,0,0,1,92,171)
150 Opening ASCII mode data connection for 'file list'.
.login
.mailrc
.profile
.rhosts
.ssh
.cshrc
work
mail
src
226 Transfer complete.
ftp&gt; <strong>quit</strong>
221 Goodbye.
</pre></blockquote>
-->


d1363 1
a1363 1
mo¿liwo¶ci otwarcia swojego logu po oddaniu przywilejów. httpd(8) musi 
d1423 4
a1426 3
<pre>     # <b>apachectl stop</b>
     /usr/sbin/apachectl stop: httpd stopped
     # <b>httpd</b>
d1435 3
a1437 2
</p><pre># cd /var/www/cgi-bin/
# ldd Count.cgi
d1448 3
a1450 3
     # mkdir -p /var/www/usr/lib /var/www/usr/libexec
     # cp /usr/lib/libc.so.30.3 /var/www/usr/lib
     # cp /usr/libexec/ld.so /var/www/usr/libexec
d1467 4
a1470 3
</p><pre># mkdir -p /var/www/var/www          
     # cd /var/www/var/www
     # ln -s ../../wwwcount wwwcount
d1479 2
a1480 1
<pre>     # tar cf - /usr/local/lib/wwwcount | (cd /var/www; tar xpf - )
d1498 4
a1501 2
<a name="rootshell"></a><h2>10.17 - Nie podoba mi siê domy¶lna pow³oka 
roota!</h2>
d1503 3
a1505 2
systemach OpenBSD jest <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">
csh(1)</a>. Nie ma jednak ¿adnego nakazu, aby OpenBSD u¿ywa³ csh(1) jako 
d1517 5
a1521 3
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">sudo(8)</a> sprawiaj±, ¿e po pocz±tkowym skonfigurowaniu systemu nie ma 
zbyt wielu powodów, by logowaæ siê jako <i>root</i>.
</li><li><b>Uruchomiæ ulubiony interpreter poleceñ po zalogowaniu siê do 
d1524 5
a1528 5
</li><li><b>Zmieniæ domy¶ln± pow³okê roota:</b> mo¿na to zrobiæ za pomoc± 
polecenia <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1">
chsh</a> albo <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">
vipw</a>.
</li></ul>
d1538 4
a1541 2
pow³oki, za¶ domy¶ln± pow³ok± jest <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">
sh</a>. W systemie OpenBSD standardowo znajduj± siê trzy pow³oki 
d1543 4
a1546 4
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">
sh</a> oraz <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">
ksh</a>). Wszystkie z nich s± zlinkowane statycznie, tak wiêc dostêpne s± 
równie¿ w trybie pojedynczego u¿ytkownika.
d1552 1
d1554 2
d1557 6
a1562 6
<a name="ksh"></a></p><h2>10.18 - Co jeszcze mo¿na zrobiæ z <i>ksh</i>? 

</h2>W systemie OpenBSD wywo³ywana poleceniem <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">
ksh</a> pow³oka to w rzeczywisto¶ci <a href="http://web.cs.mun.ca/%7Emichael/pdksh/">pdksh</a> (Public Domain 
Korn Shell). Ksh ma te same binaria co pow³oka <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">
sh</a>.
d1565 3
a1567 2
spotykan± w systemie Linux), prawdopodobnie odnajd± w <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">
ksh</a> wiele podobieñstw. Ksh(1) posiada wiêkszo¶æ funkcji spotykanych 
d1573 2
a1574 1
zainstalowaæ korzystaj±c z <a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/faq/faq8.html#Ports">portów</a> lub <a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/faq/faq8.html#Packages">pakietów</a>.
d1581 4
a1584 2
</p><pre>     export PS1='$PWD $ '
</pre>
d1589 3
a1591 2
<pre>     /home/nick $
</pre>
d1593 3
a1595 2
Zachêcamy te¿ do przeanalizowania pliku <a href="http://www.openbsd.org/cgi-bin/cvsweb/%7Echeckout%7E/src/etc/ksh.kshrc?content-type=text/plain"><tt>/etc/ksh.kshrc</tt></a>, w którym 
znajduje siê wiele przyk³adów tego, co mo¿na zamie¶ciæ w pliku 
d1599 26
d1626 3
a1628 3
<a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/faq/index.html">[Spis tre¶ci]</a>
<a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/faq/faq9.html">[Sekcja 9 - Migracja do OpenBSD]</a>
<a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/faq/faq11.html">[Sekcja 11 - Dostrajanie wydajno¶ci]</a>
d1631 3
a1633 3
</p><p>
</p><hr>
<a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/faq/index.html"><img src="faq10_files/back.htm" alt="[wstecz]" border="0" height="24" width="24"></a>
d1637 2
a1638 2
Originally [OpenBSD: faq10.html,v 1.112 ]<br>
$Translation: faq10.html,v 1.11 2005/05/15 10:12:51 pl-team Exp $<br>
@


1.9
log
@Sync with Steelix CVS
@
text
@d11 1
a11 2
<meta name="copyright" content="This document copyright 1998-2004
by OpenBSD."></head>
d583 5
a587 2
Do skasowania u¿ytkownika z systemu s³u¿y polecenie <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmuser&amp;sektion=8">rmuser(8)</a>. Usunie ono wszelkie ¶lady bytno¶ci u¿ytkownika w 
systemie -  wszystkie jego wpisy w <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=crontab&amp;sektion=1">crontab(1)</a>, katalog domowy (je¶li jego w³a¶cicielem jest 
d1189 12
a1200 8
Drzewo kodu ¼ród³owego OpenBSD ulega ci±g³ym zmianom i ulepszeniom. 
Wraz z tymi zmianami pojawiaj± siê poprawki do b³êdów, które s± 
publikowane jako oficjalne ³atki. Informacje o ³atkach pojawiaj± siê 
na <a href="http://neowall.no-ip.org/%7Etkniaz/cvs/errata.html">stronie errat</a> i s± 
podzielone na oddzielne kategorie. Kategorie te to po prostu nazwy 
platform, na których dzia³a OpenBSD. Dla ró¿nych platform s± ró¿ne ³atki, 
choæ istnieje te¿ kategoria, w której zabrano ³atki wspólne dla wszystkich 
architektur.
d1202 2
a1203 1
</p><p>
d1207 2
a1208 2
z regu³y powinny byæ jak najszybciej aplikowane (choæ ostateczna 
decyzja zawsze nale¿y tylko i wy³±cznie do administratora).
d1210 2
a1211 2
</p><p>W poni¿szych przyk³adach bêdziemy ³ataæ <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=talkd&amp;sektion=8">
talkd(8)</a> za pomoc± ³aty pobranej ze <a href="http://neowall.no-ip.org/%7Etkniaz/cvs/errata.html">strony errat</a>.
d1213 35
a1247 4
</p><h3>Czym ró¿ni± siê ³atki od tego, co mo¿na znale¼æ w drzewie CVS?</h3>

<p>Wszystkie ³atki publikowane na <a href="http://neowall.no-ip.org/%7Etkniaz/cvs/errata.html">stronie errat</a> s± 
przeznaczone do aplikowania na kod ¼ród³owy podstawowej wersji systemu 
a1250 2
 
</p><h3>Przygotowywanie systemu do ³atania</h3>
a1251 27
<p>
£aty dla OpenBSD s± rozpowszechniane jako diffy, które s± plikami 
tekstowymi zawieraj±cymi ró¿nice w stosunku do oryginalnego kodu. 
<b>NIE</b> s± dystrybuowane w formie binarnej! Oznacza to, ¿e aby za³ataæ 
swój system musimy mieæ kod ¼ród³owy wersji <b>RELEASE</b> OpenBSD. Nie 
oznacza to jednak, ¿e potrzebny jest CA£Y kod ¼ród³owy OpenBSD by móc 
za³ataæ system - niezbêdny jest tylko kod ¼ród³owy programu, który 
³atamy. Dla przyk³adu, aby na³o¿yæ poprawki na j±dro, nale¿y mieæ
kod ¼ród³owy j±dra.
 
</p><p><a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">
cvs(1)</a> jest bardzo przydatnym narzêdziem, które mo¿e zostaæ u¿yte do 
pobrania z dowolnego anonimowego serwera CVS na ca³ym ¶wiecie tylko
tych ¼róde³, które s± potrzebne. Lista tych serwerów jest dostêpna na stronie <a href="http://neowall.no-ip.org/%7Etkniaz/cvs/www/pl/anoncvs.html">Anonimowy CVS</a>.  

</p><p>Aby ¶ci±gn±æ kod ¼ród³owy talkd(8) z wersji 3.6 za pomoc± <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">
cvs(1)</a>, wydajemy nastêpuj±c± komendê:

</p><div style="margin-left: 2em;">
<pre>$ <b>export CVSROOT=anoncvs@@anoncvs5.usa.openbsd.org:/cvs</b>
$ <b>cvs co -r OPENBSD_3_6_BASE src/libexec/talkd/</b>
cvs server: Updating src/libexec/talkd
U src/libexec/talkd/announce.c
U src/libexec/talkd/talkd.c
U src/libexec/talkd/talkd.h
</pre>
</div>
d1253 33
a1285 25
<p>
¦cie¿kê CVS do ³atanych programów znale¼æ mo¿na przygl±daj±c
siê linii <i>Index:</i> w danej ³atce. W tym przypadku, ¶cie¿k±
CVS jest: <i>src/libexec/talkd/</i>. Nale¿y zawsze pobieraæ wersjê z 
tagiem 
OPENBSD_numer_wersji_BASE. Pominiêcie koñcówki "_BASE" 
spowoduje pobranie
plików ze stabilnej ga³êzi, która mo¿e zawieraæ inne zmiany,
zaburzaj±ce aplikowanie ³atek. Je¶li natomiast ¶ledzimy za³atan± ga³±¼ 
(ang. patch branch), ³atki powinny byæ ju¿ w ¼ród³ach. Niemniej
jednak powinni¶my zawsze sprawdziæ i upewniæ siê, czy rzeczywi¶cie tak
jest. Aby dowiedzieæ siê, które ³atki zosta³y zaaplikowane w ga³êzi 
³atek, mo¿na zajrzeæ na strone <a href="http://neowall.no-ip.org/%7Etkniaz/cvs/plus.html">OpenBSD-current changes</a>. 
Je¶li ³atki nie zosta³y jeszcze zaaplikowane, niezbêdne bêdzie
pobranie kodu ¼ród³owego wersji podstawowej (ang. release) sytemu przy 
pomocy wcze¶niej przedstawionych poleceñ.

</p><p>
Ponadto osoby, które zakupi³y oficjalny zestaw p³yt CD z OpenBSD, 
mog± pobraæ z nich kod ¼ród³owy systemu. Proszê odwo³aæ siê do 
instrukcji do³±czonych do CD, opisuj±cych ja rozpakowaæ ¼ród³a 
z CD. W tym przypadku nie jest konieczne pobieranie ¼róde³ poprzez 
anonimowy CVS. 

</p><blockquote><pre>Apply by doing:
d1287 3
a1289 3
        patch -p0 &lt; 026_talkd.patch
        cd libexec/talkd
        make obj &amp;&amp; make depend &amp;&amp; make &amp;&amp; make install
d1291 1
a1291 1
Index: libexec/talkd/announce.c <b>&lt;------ ¦cie¿ka do ¼róde³</b>
d1293 24
a1316 15
RCS file: /cvs/src/libexec/talkd/announce.c,v
retrieving revision 1.8
retrieving revision 1.9
diff -u -r1.8 -r1.9
--- libexec/talkd/announce.c    1998/08/18 03:42:10     1.8
+++ libexec/talkd/announce.c    2000/07/06 00:01:45     1.9
@@@@ -160,6 +160,6 @@@@
                *(bptr++) = '\n';
        }
        *bptr = '\0';
-       fprintf(tf, big_buf);
+       fprintf(tf, "%s", big_buf);
        fflush(tf);
 }
</pre></blockquote>
a1317 9
<p>
Gdy ju¿ zdobêdziemy w³a¶ciwy kod ¼ród³owy, mo¿emy pobraæ ³atki i
umie¶ciæ je w <i>src/</i>

</p><h3>Aplikowanie ³atek</h3>

<div style="margin-left: 2em;">
<pre>$ <b>cd /usr/src</b>
$ <b>patch -p0&lt;/path/to/026_talkd.patch</b>
d1323 3
a1325 3
|       patch -p0 &lt; 026_talkd.patch
|       cd libexec/talkd
|       make obj &amp;&amp; make depend &amp;&amp; make &amp;&amp; make install
d1327 1
a1327 1
|Index: libexec/talkd/announce.c
d1329 6
a1334 6
|RCS file: /cvs/src/libexec/talkd/announce.c,v
|retrieving revision 1.8
|retrieving revision 1.9
|diff -u -r1.8 -r1.9
|--- libexec/talkd/announce.c   1998/08/18 03:42:10     1.8
|+++ libexec/talkd/announce.c   2000/07/06 00:01:45     1.9
d1336 2
a1337 2
Patching file libexec/talkd/announce.c using Plan A...
Hunk #1 succeeded at 160. <b>&lt;------------ £atanie zakoñczone sukcesem</b>
d1339 1
a1339 28
$ <b>cd /usr/src/libexec/talkd/</b>
$ <b>ls</b>
CVS             announce.c      print.c         table.c         talkd.c
Makefile        announce.c.orig process.c       talkd.8         talkd.h
$ <b>make obj &amp;&amp; make depend &amp;&amp; make</b>
making /home/ericj/lsrc/src/libexec/talkd/obj
mkdep -a /home/ericj/lsrc/src/libexec/talkd/talkd.c /home/ericj/lsrc/sr
c/libexec/talkd/announce.c /home/ericj/lsrc/src/libexec/talkd/process.c
/home/ericj/lsrc/src/libexec/talkd/table.c /home/ericj/lsrc/src/libexec
/talkd/print.c
cc -O2     -c /home/ericj/lsrc/src/libexec/talkd/talkd.c
cc -O2     -c /home/ericj/lsrc/src/libexec/talkd/announce.c
cc -O2     -c /home/ericj/lsrc/src/libexec/talkd/process.c
cc -O2     -c /home/ericj/lsrc/src/libexec/talkd/table.c
cc -O2     -c /home/ericj/lsrc/src/libexec/talkd/print.c
cc   -o ntalkd talkd.o announce.o process.o table.o print.o
nroff -Tascii -mandoc /home/ericj/lsrc/src/libexec/talkd/talkd.8 &gt; talk
d.cat8
$ <b>sudo make install</b>
install -c -s -o root -g bin  -m 555 ntalkd /usr/libexec
install -c -o root -g bin -m 444 talkd.cat8 /usr/share/man/cat8/talkd.0
/usr/share/man/cat8/ntalkd.0 -&gt; /usr/share/man/cat8/talkd.0
</pre>
</div>

<p>
Kiedy ju¿ zakoñczymy ³atanie, powinni¶my uruchomiæ od nowa
dan± us³ugê.
d1341 32
d1388 2
a1389 1
<p>Proces dzia³aj±cy w ¶rodowisku zmodyfikowanym poleceniem <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">
d1666 2
a1667 2
Originally [OpenBSD: faq10.html,v 1.109 ]<br>
$Translation: faq10.html,v 1.10 2005/02/12 14:23:14 pl-team Exp $<br>
@


1.8
log
@Sync with Steelix CVS
@
text
@d488 1
a488 1
     /etc/passwd         plik hase³ w formacie Version 7
d1643 2
a1644 2
Originally [OpenBSD: faq10.html,v 1.108 ]<br>
$Translation: faq10.html,v 1.9 2004/11/24 16:55:02 pl-team Exp $<br>
@


1.7
log
@Sync with Steelix CVS
@
text
@d2 3
a4 4
<html>
<head>
<title>10 - Zarz±dzanie systemem</title>
<link rev= "made" href= "mailto:www@@openbsd.org">
d7 15
a21 17
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 1998-2004
by OpenBSD.">
</head>


<body bgcolor= "#ffffff" text= "#000000">

<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">
<p>
<font color= "#0000e0">
<a href= "index.html">[Spis tre¶ci]</a>
<a href= "faq9.html">[Sekcja 9 - Migracja z Linuksa]</a>
<a href= "faq11.html">[Sekcja 11 - Dostrajanie wydajno¶ci]</a>
d24 1
a24 1
<h1><font color="#e00000">10 - Zarz±dzanie systemem</font></h1>
d45 1
a45 1
<h3>Spis tre¶ci</h3>
d47 1
a47 1
<li><a href="#wheel"         >10.1 - Dlaczego system odpowiada, ¿e nie
d49 2
a50 2
<li><a href="#DupFS"         >10.2 - Jak zrobiæ kopiê systemu plików?</a>
<li><a href="#rc"            >10.3 - W jaki sposób automatycznie
d52 1
a52 1
<li><a href="#RelayingDenied">10.4 - Dlaczego u¿ytkownicy otrzymuj± 
d55 1
a55 1
<li><a href="#POP"           >10.5 - Uruchomi³em serwer POP, ale u¿ytkownicy
d57 1
a57 1
<li><a href="#SendmailDNS"   >10.6 - Dlaczego Sendmail ignoruje
d59 1
a59 1
<li><a href="#HTTPS"         >10.7 - Konfigurowanie bezpiecznego serwera HTTP
d61 1
a61 1
<li><a href="#vipw"          >10.8 - Dokona³em zmian w /etc/passwd, ale
d63 1
a63 1
<li><a href="#AddDelUser"    >10.9 - Jaki jest najlepszy sposób na
d65 1
a65 1
<li><a href="#FTPOnly"       >10.10 - Jak stworzyæ konto umo¿liwiaj±ce 
d67 2
a68 2
<li><a href="#Quotas"        >10.11 - Konfigurowanie kwot dyskowych</a>
<li><a href="#Kerberos"      >10.12 - Konfigurowanie klientów i serwerów
d70 2
a71 2
<li><a href="#AnonFTP"       >10.13 - Konfigurowanie anonimowego serwera FTP</a>
<li><a href="#ftpchroot"     >10.14 - Ograniczanie dostêpu u¿ytkowników
d73 2
a74 2
<li><a href="#Patches"       >10.15 - £atanie systemu OpenBSD</a>
<li><a href="#httpdchroot"   >10.16 - Zastosowanie ¶rodowiska chroot() 
d76 1
a76 1
<li><a href="#rootshell"     >10.17 - Nie podoba mi siê domy¶lna pow³oka 
d78 2
a79 2
<li><a href="#ksh"           >10.18 - Co jeszcze mo¿na zrobiæ z ksh?</a>
</ul>
d84 2
a85 2
<a name= "wheel"></a>
<h2>10.1 - Dlaczego system odpowiada, ¿e nie nale¿ê do odpowiedniej grupy, 
d90 16
a105 20
grupy <kbd>&quot;wheel&quot;</kbd> rêcznie. Robi siê tak dla zwiêkszenia
bezpieczeñstwa - po to, by za ka¿dym razem mieæ chwilê na zastanowienie,
czy dany u¿ytkownik na pewno powinien otrzymaæ tak wysokie przywileje.
W systemie OpenBSD tylko u¿ytkownicy nale¿±cy do grupy <kbd>wheel</kbd>
maj± prawo u¿ywaæ polecenia <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1"
>su(1)</a> w celu uzyskania praw roota. U¿ytkownicy, którzy nie 
nale¿± do grupy <kbd>&quot;wheel&quot;</kbd>, nie mog± korzystaæ z 
polecenia su(1). Istniej±cego u¿ytkownika mo¿na dodaæ do grupy wheel 
odpowiednio redaguj±c plik <kbd>/etc/group</kbd>. 
Zamieszczony poni¿ej wpis z tego pliku uwzglêdnia u¿ytkownika
<strong>ericj</strong> (oraz roota) jako cz³onka grupy
<kbd>&quot;wheel&quot;</kbd>.

<p>
Dodaj±c nowego u¿ytkownika za pomoc± polecenia <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8"
>adduser(8)</a>, mo¿na od razu dodaæ go do grupy wheel po prostu 
wpisuj±c "wheel" w odpowiedzi na pytanie "<tt>Invite <i>user</i>
into other groups:</tt>". W ten sposób u¿ytkownik zostanie automatycznie
d108 1
a108 2
<blockquote><pre>
wheel:*:0:root,ericj
d115 1
a115 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8"
>sudo(8)</a>.
d117 3
a119 3
<p>
<a name= "DupFS"></a>
<h2>10.2 - Jak zrobiæ kopiê systemu plików?</h2>
d122 2
a123 5
W celu skopiowania systemu plików mo¿na skorzystaæ z programów <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=dump&amp;sektion=8"
>dump(8)</a> i <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=restore&amp;sektion=8"
>restore(8)</a>.
d127 1
a127 2
<blockquote><pre>
# <strong>cd /SRC; dump 0f - . | (cd /DST; restore -rf - )</strong>
d131 5
a135 7
Dump zosta³ zaprojektowany tak, aby spe³niaæ ró¿norodne
wymagania dotycz±ce wykonywania kopii zapasowych i 
mo¿e byæ zbyt skomplikowanym narzêdziem, je¿eli chcemy skopiowaæ
tylko czê¶æ (albo nawet ca³o¶æ) systemu plików. Dla prostszych 
zastosowañ szybszy mo¿e okazaæ siê program 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=tar&amp;sektion=1"
>tar(1)</a>. Sk³adnia tego polecenia jest bardzo podobna jak w 
d138 2
a139 3
<blockquote>
<pre>
# <strong>cd /SRC; tar cf -  . | (cd /DST; tar xpf - )</strong>
d144 2
a145 2
<a name= "rc"></a>
<h2>10.3 - W jaki sposób automatycznie uruchamiaæ demony przy
d149 2
a150 2
OpenBSD uruchamia demony podczas startu sytemu poprzez <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc&amp;sektion=8">rc(8)</a>.
d154 1
a154 1
<ul>
d156 1
a156 1
	<li>/etc/rc.conf - Plik konfiguracyjny u¿ywany przez <i>/etc/rc</i> w 
d158 1
a158 1
       <li>/etc/rc.conf.local - Plik konfiguracyjny, który mo¿e 
d162 1
a162 1
	<li>/etc/netstart - Skrypt u¿ywany do inicjalizowania obs³ugi 
d164 1
a164 1
	<li>/etc/rc.local - Skrypt u¿ywany do celów administracji lokalnej.
d166 3
a168 5
	<li>/etc/rc.securelevel - Skrypt wykonuj±cy niezbêdne czynno¶ci przed 
zmian± poziomu bezpieczeñstwa systemu. Przeczytaj <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=init&amp;sektion=8"
>init(8)</a>
	<li>/etc/rc.shutdown - Skrypt uruchamiany przed zatrzymaniem pracy 
d170 2
a171 4
systemu. Przeczytaj <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.shutdown&amp;sektion=8"
>rc.shutdown(8)</a>
</ul>
d181 1
a181 1
<p>
d183 1
a183 1
<ul>
d186 1
a186 1
       <li>Z pliku <i>/etc/rc.conf</i>, a potem <i>/etc/rc.conf.local</i> 
d189 2
a190 2
	<li>Nastêpuje podmontowanie systemów plików.
	<li>Dokonywane jest wyczyszczenie katalogu <i>/tmp</i> oraz zachowanie 
d192 1
a192 1
	<li>Nastêpuje konfiguracja sieci za pomoc± skryptu <i>/etc/netstart</i>
d195 4
a198 4
		<li>Ustawienie nazwy hosta, nazwy domeny, itp.
		</ul>
	<li>Uruchomienie demonów systemowych.
       <li>Dokonanie ró¿nego rodzaju sprawdzeñ i dzia³añ (kwoty, savecore, 
d200 2
a201 2
       <li>Uruchomienie lokalnych demonów z <i>/etc/rc.local</i>
</ul>
d209 1
a209 3
domy¶lnej zawarto¶ci pliku <a
href="http://www.openbsd.org/cgi-bin/cvsweb/src/etc/rc.conf"
>/etc/rc.conf</a>. Znajduj± siê tam linie podobne do tej:
d211 1
a211 2
<blockquote><pre>
ftpd_flags=NO           # for non-inetd use: ftpd_flags="-D"
d217 1
a217 1
przeczytaj dzia³ <a href="faq10.html#AnonFTP">Konfigurowanie anonimowego 
d226 1
a226 2
<blockquote><pre>
httpd_flags=NO          # for normal use: "" (or "-DSSL" after reading ssl(8))
d233 1
a233 3
httpd z obs³ug± ssl (patrz <a href="#HTTPS">SSL FAQ</a> lub <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&amp;sektion=8"
>ssl(8)</a>) nale¿a³o by napisaæ: httpd_flags="-DSSL".
d235 1
a235 1
<p>
d244 1
a244 1
<h3>Uruchamianie i konfiguracja lokalnych demonów</h3>
d254 1
a254 2
<blockquote><pre>
if [ -x /usr/local/sbin/daemonx ]; then
d263 1
a263 1
<p>
d269 1
a269 2
<blockquote><pre>
Starting local daemons: daemonx.
d278 2
a279 2
jest zarz±dzanie energi± (apm), mo¿na tak¿e ustawiæ &quot;powerdown=YES&quot;,
co jest odpowiednikiem komendy &quot;shutdown -p&quot;.
d281 3
a283 3
<p>
<a name= "RelayingDenied"></a>
<h2>10.4 - Dlaczego u¿ytkownicy otrzymuj± komunikat "relaying access
d290 1
a290 2
<blockquote><pre>
# <strong>cat /etc/mail/sendmail.cf | grep relay-domains</strong>
d296 1
a296 2
<blockquote><pre>
FR-o /etc/mail/relay-domains
d304 1
a304 2
<blockquote><pre>
.domain.com    #Zezwalaj na przekazywanie poczty z/do ka¿dego hosta w domain.com
d314 1
a314 2
<blockquote><pre>
# <Strong>kill -HUP `head -1 /var/run/sendmail.pid`</strong>
d319 1
a319 1
<h3>Dalsze informacje</h3>
d322 5
a326 11
<ul>
<li><a
href="http://www.sendmail.org/~ca/email/relayingdenied.html"
>http://www.sendmail.org/~ca/email/relayingdenied.html</a>
<li><a
href="http://www.sendmail.org/tips/relaying.html"
>http://www.sendmail.org/tips/relaying.html</a>
<li><a
href="http://www.sendmail.org/antispam.html"
>http://www.sendmail.org/antispam.html</a>
</ul>
d329 2
a330 2
<a name= "POP"></a>
<h2>10.5 - Uruchomi³em serwer POP, ale u¿ytkownicy maj± k³opoty z
d338 1
a338 2
<blockquote><pre>
-ERR Couldn't open temporary file, do you own it?
d344 1
a344 2
<blockquote><pre>
prawa w  /var
d358 1
a358 1
<p>
d367 1
a367 2
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=popa3d&amp;sektion=8" 
>popa3d</a>, który jest dostêpny ju¿ w podstawowej instalacji OpenBSD.
d374 1
a374 1
<p>
d376 1
a376 1
grupy &quot;mail&quot;. Je¿eli zajdzie taka potrzeba,
d380 1
a380 2
<blockquote><pre>
mail:*:6:
d392 1
a392 1
<p>
d397 1
a397 2
<pre>
     hosts       files dns
d404 1
a404 2
<pre>
     hosts       files
d411 1
a411 2
<pre>
     # <b>kill -HUP `head -1 /var/run/sendmail.pid`</b>
d416 2
a417 2
<a name= "HTTPS"></a>
<h2>10.7 - Konfigurowanie bezpiecznego serwera HTTP z wykorzystaniem 
d422 1
a422 2
w obs³ugê SSL oraz biblioteki RSA. Aby móc korzystaæ z SSL w <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">
d426 1
a426 2
zaczerpniête ze strony podrêcznika systemowego <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&amp;sektion=8">
d430 1
a430 2
przeczytaj stronê podrêcznika <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ssl&amp;sektion=8">
d433 1
a433 1
<p>
d437 2
a438 3
<div style="margin-left: 2em">
<pre>
# <strong>openssl genrsa -out /etc/ssl/private/server.key 1024
d445 1
a445 2
<div style="margin-left: 2em"><pre>
# <strong>openssl genrsa -des3 -out /etc/ssl/private/server.key 1024
d454 1
a454 2
<div style="margin-left: 2em"><pre>
# <strong>openssl req -new -key /etc/ssl/private/server.key -out /etc/ssl/private/server.csr
d459 1
a459 2
<b>Thawte Certification</b>, której strona znajduje siê pod adresem <a 
href="http://www.thawte.com/">http://www.thawte.com/</a>.
d461 1
a461 1
<p>Je¿eli nie staæ Ciê na certyfikat Thawte, albo chcesz sam podpisaæ 
d463 2
a464 3
<div style="margin-left: 2em">
<pre>
# <strong>openssl x509 -req -days 365 -in /etc/ssl/private/server.csr \
d469 1
a469 1
Po wygenerowaniu plików /etc/ssl/server.crt</i> oraz 
d471 1
a471 2
uruchomiæ <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">
d477 2
a478 2
<p><a name= "vipw"></a>
<h2>10.8 - Dokona³em zmian w /etc/passwd, ale nie zosta³y one 
d483 1
a483 3
OpenBSD generuje <i>/etc/passwd</i> dynamicznie za pomoc± <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pwd_mkdb&amp;sektion=
8">pwd_mkdb(8)</a>. G³ównym plikiem hase³ w systemie OpenBSD jest 
d486 1
a486 2
<blockquote><pre>
PLIKI
d506 1
a506 1
<p>OpenBSD posiada narzêdzie, które s³u¿y do modyfikacji pliku 
d516 1
a516 1
<p>
d518 1
a518 1
<h2>10.9 - Jaki jest najlepszy sposób na dodanie/usuniêcie 
d524 1
a524 1
<ul>
d526 2
a527 2
<li><a href="#user">user(8)</a>
</ul>
d529 1
a529 2
Mo¿na tak¿e dodawaæ u¿ytkowników rêcznie za pomoc± <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">
d533 1
a533 3
OpenBSD jest u¿ycie skryptu <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8
">adduser(8)</a>. Mo¿na go skonfigurowaæ redaguj±c plik 
d542 1
a542 2
<blockquote><pre>
# <strong>adduser</strong>
d584 2
a585 6
Do skasowania u¿ytkownika z systemu s³u¿y polecenie <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rmuser&amp;sektion=8"
>rmuser(8)</a>. Usunie ono wszelkie ¶lady bytno¶ci u¿ytkownika w 
systemie -  wszystkie jego wpisy w <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=crontab&amp;sektion=1
">crontab(1)</a>, katalog domowy (je¶li jego w³a¶cicielem jest 
d592 1
a592 2
<blockquote><pre>
# <strong>rmuser</strong>
d611 1
a611 3
Ni¿ej opisane narzêdzia s± mniej interaktywne ni¿ polecenie <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8
">adduser(8)</a>, co u³atwia korzystanie z nich w skryptach pow³oki. 
d613 1
a613 1
<p>
d615 4
a618 22
<ul>
<li><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=group&amp;sektion=8">
group(8)</a>	<li><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupadd&amp;sektion=
8">groupadd(8)</a>	<li><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupdel&amp;sektion=
8">groupdel(8)</a>	<li><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupinfo&amp;sektion
=8">groupinfo(8)</a>	<li><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=groupmod&amp;sektion=
8">groupmod(8)</a>	<li><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=user&amp;sektion=8">
user(8)</a>	<li><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=useradd&amp;sektion=8
">useradd(8)</a>	<li><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=userdel&amp;sektion=8
">userdel(8)</a>	<li><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=userinfo&amp;sektion=
8">userinfo(8)</a>	<li><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=usermod&amp;sektion=8
">usermod(8)</a></ul>
d632 1
a632 1
<p>
d639 1
a639 2
<blockquote><pre>
$ <strong>user add -D</strong>
d656 1
a656 3
programu <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=encrypt&amp;sektion=1
">encrypt(1)</a>, s³u¿±cego do szyfrowania hase³. OpenBSD u¿ywa do 
d661 1
a661 2
<blockquote><pre>
$ <strong>encrypt -p -b 6</strong>
d669 1
a669 2
<blockquote><pre>
# <strong>user add -p '$2a$06$YOdOZM3.4m6MObBXjeZtBOWArqC2.uRJZXUkOghbieIvSWXVJRzlq' -u 1002 \
d674 2
a675 2
<b>Uwaga:</b> Has³o nale¿y umie¶ciæ w parze apostrofów ('&nbsp;'), a nie 
cudzys³owów (&quot;&nbsp;&quot;); w przeciwnym razie zostanie ono 
d681 1
a681 1
<p>By sprawdziæ, czy u¿ytkownik zosta³ poprawnie dodany do systemu, mo¿na 
d685 1
a685 2
<blockquote><pre>
$ <strong>ls -la /home</strong>
d705 1
a705 2
<blockquote><pre>
$ <strong>userinfo testuser</strong>
d726 1
a726 2
<blockquote><pre>
# <strong>userdel -r testuser</strong>
d737 1
a737 1
<p>
d739 1
a739 1
<h2>10.10 - Jak stworzyæ konto umo¿liwiaj±ce logowanie tylko przez FTP?</h2>
d741 1
a741 1
Jest na to kilka sposobów. Bardzo powszechne jest rozwi±zanie polegaj±ce
d745 3
a747 12
interaktywnym. Bêdzie móg³ natomiast zalogowaæ siê przez FTP. <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8
">adduser(8)</a> automatycznie stworzy dla ka¿dego takiego u¿ytkownika 
katalog domowy <i>/home/&lt;user&gt;</i>. Mo¿na oczywi¶cie utworzyæ ten 
katalog w innym miejscu, wedle swojego uznania. Mo¿na tak¿e sprawiæ, aby 
taki u¿ytkownik mia³ dostêp do plików tylko w jego w³asnym katalogu. W 
tym celu nale¿y dodaæ nazwê u¿ytkownika do pliku <i>/etc/ftpchroot</i>.
Warto wiedzieæ, ¿e opcja
<b>-A</b> demona <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">
ftpd(8)</a> powoduje, ¿e zezwala on na logowanie siê tylko tym 
u¿ytkownikom, którzy s± dopisani do <i>/etc/ftpchroot</i>. 
d750 3
a752 3
<p>
<a name= "Quotas"></a>
<h2>10.11 - Konfigurowanie kwot dyskowych</h2>
d760 1
a760 1
<p>
d776 1
a776 2
<blockquote><pre>
/dev/wd0a / ffs rw,userquota=/var/quotas/quota.user 1 1
d781 1
a781 3
o nazwie <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=edquota&amp;sektion=8
">edquota(8)</a>. Wpisuj±c "<tt>edquota&nbsp;&lt;user&gt;</tt>" 
d786 1
a786 2
<blockquote><pre>
# <strong>edquota ericj</strong>
d792 1
a792 2
<blockquote><pre>
Quotas for user ericj:
d800 1
a800 2
<blockquote><pre>
Quotas for user ericj:
d814 1
a814 1
<p>
d816 1
a816 3
polecenia <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=quotaon&amp;sektion=8
">quotaon(8)</a>. Przyk³ad:
d818 1
a818 2
<blockquote><pre>
# <strong>quotaon -a</strong>
d823 1
a823 2
systemach plików. Do wy¶wietlania kwot s³u¿y polecenie <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=quota&amp;sektion=1">
d829 1
a829 2
<blockquote><pre>
# <Strong>quota ericj</strong>
d834 1
a834 2
<blockquote><pre>
Disk quotas for user ericj (uid 1001): 
d843 1
a843 2
<blockquote><pre>
# <strong>quotaoff -a</strong>
d848 2
a849 2
<a name= "Kerberos"></a>
<h2>10.12 - Konfigurowanie klientów i serwerów KerberosV</h2>
d854 1
a854 1
<p>
d856 1
a856 2
<pre>
     # <b>info heimdal</b>
d861 2
a862 2
<a name= "AnonFTP"></a>
<h2>10.13 - Konfigurowanie anonimowego serwera FTP</h2>
d870 1
a870 1
<h3>Dodawanie konta FTP</h3>
d880 4
a883 9
siê na stronach podrêcznika systemowego <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">
ftp(8)</a> oraz <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2"
>chroot(2)</a>. Oto przyk³ad dodania u¿ytkownika o nazwie <i>ftp</i>.
U¿ywamy tutaj polecenia. <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=adduser&amp;sektion=8
">adduser(8)</a>. Nale¿y tak¿e dodaæ liniê "/usr/bin/false" do pliku
<i>/etc/shells</i>. Czynimy to pisz±c: <i>echo /usr/bin/false >> 
d892 1
a892 2
<blockquote><pre>
# <strong>adduser</strong>
d937 1
a937 2
podrêcznika systemowego programu <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">
d940 1
a940 1
<p>
d944 1
a944 1
<ul>
d948 1
a948 1
<li><i>/home/ftp/etc</i> - ca³kowicie opcjonalny, a nawet nie zalecany,
d959 1
a959 1
<li><i>/home/ftp/pub</i> - Zwyczajowy katalog w którym umieszcza siê 
d963 1
a963 1
</ul><p>Proszê zwróciæ uwagê na to, by w³a¶cicielem wszystkich katalogów 
d967 1
a967 2
<blockquote><pre>
# pwd
d994 1
a994 2
rc. Nasze przyk³ady poka¿± jak uruchomiæ demona z pomoc± <a 
href="http://www.openbsd.org/cgi-bin/cvsweb/src/etc/inetd.conf">
d998 1
a998 2
<blockquote><pre>
<strong>ftp             stream  tcp     nowait  root    /usr/libexec/ftpd       ftpd -US</strong>
d1011 1
a1011 2
<blockquote><pre>
<strong>ftp             stream  tcp     nowait  root    /usr/libexec/tcpd       ftpd -llUSA</strong>
d1024 1
a1024 2
<blockquote><pre>
ftpd_flags="-DllUSA"           # for non-inetd use: ftpd_flags="-D"
d1032 1
a1032 1
<h3>Inne wa¿ne pliki</h3>
d1037 1
a1037 1
<li><i>/etc/motd</i> - Zawiera wiadomo¶æ powitaln± wy¶wietlan± 
d1039 1
a1039 1
<li><i>.message</i> - Pliki o takiej nazwie mo¿na zamieszczaæ w 
d1042 1
a1042 1
</ul>
d1047 2
a1048 2
<a name= "ftpchroot"></a>
<h2>10.14 - Ograniczanie dostêpu u¿ytkowników wy³±cznie do ich 
d1052 27
a1078 2
W systemie OpenBSD serwer <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ftpd&amp;sektion=8">
d1086 1
a1086 2
<blockquote><pre>
$ <strong>ftp localhost</strong>
d1137 1
a1137 1
o loginie &quot;ericj&quot;.
d1139 1
a1139 2
<blockquote><pre>
$ <strong>cat /etc/ftpchroot</strong>
d1148 1
a1148 1
To wystarczy, by uniemo¿liwiæ u¿ytkownikowi &quot;ericj&quot;
d1152 1
a1152 2
<blockquote><pre>
$ <strong>ftp localhost</strong>
d1179 1
a1179 1

d1183 2
a1184 2
<a name= "Patches"></a>
<h2>10.15 - £atanie systemu OpenBSD</h2>
d1190 1
a1190 2
na <a 
href="../../errata.html">stronie errat</a> i s± 
d1196 1
a1196 1
<p>
d1203 2
a1204 4
<p>W poni¿szych przyk³adach bêdziemy ³ataæ <a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=talkd&amp;sektion=8">
talkd(8)</a> za pomoc± ³aty pobranej ze <a 
href="../../errata.html">strony errat</a>.
d1206 1
a1206 1
<h3>Czym ró¿ni± siê ³atki od tego, co mo¿na znale¼æ w drzewie CVS?</h3>
d1208 1
a1208 2
<p>Wszystkie ³atki publikowane na <a 
href="../../errata.html">stronie errat</a> s± 
d1214 1
a1214 1
<h3>Przygotowywanie systemu do ³atania</h3>
d1226 1
a1226 2
<p><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">
d1229 1
a1229 2
tych ¼róde³, które s± potrzebne. Lista tych serwerów jest dostêpna na stronie <a 
href="../pl/anoncvs.html">Anonimowy CVS</a>.  
d1231 1
a1231 2
<p>Aby ¶ci±gn±æ kod ¼ród³owy talkd(8) z wersji 3.4 za pomoc± <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=cvs&amp;sektion=1">
d1234 3
a1236 4
<div style="margin-left: 2em">
<pre>
$ <b>export CVSROOT=anoncvs@@anoncvs5.usa.openbsd.org:/cvs</b>
$ <b>cvs co -rOPENBSD_3_4_BASE src/libexec/talkd/</b>
d1249 1
a1249 1
OPENBSD_numer_wersji_BASE. Pominiêcie koñcówki &quot;_BASE&quot; 
d1256 1
a1256 2
³atek, mo¿na zajrzeæ na strone <a 
href="../../plus.html">OpenBSD-current changes</a>. 
d1261 1
a1261 1
<p>
d1268 1
a1268 2
<blockquote><pre>
Apply by doing:
d1296 1
a1296 1
<h3>Aplikowanie ³atek</h3>
d1298 2
a1299 3
<div style="margin-left: 2em">
<pre>
$ <b>cd /usr/src</b>
d1354 1
a1354 1
<h2>10.16 - Zastosowanie ¶rodowiska chroot() dla serwera Apache.</h2>
d1365 2
a1366 3
<h3>Co to jest chroot?</h3>
<p>Proces dzia³aj±cy w ¶rodowisku zmodyfikowanym poleceniem <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2">
d1383 1
a1383 1
<h3>Co to oznacza dla u¿ytkownika?</h3>
d1387 2
a1388 2
starszych programów czy ustawieñ systemowych przestanie dzia³aæ. Oto 
kilka mo¿liwych przyczyn:
d1390 1
a1390 1
<ul>
d1403 2
a1404 2
u¿ytkownikom na <ahref="faq10.html#ftpchroot">dostêp do FTP w ¶rodowisku 
chroot(2)</a>, to nie zadzia³a to tak, jak oczekujemy, poniewa¿ 
d1411 1
a1411 1
<li><b>Rotacja logów:</b> Standardowo, rotacja logów odbywa siê przez 
d1418 1
a1418 2
<pre>
     # <b>apachectl stop && apachectl start</b>
d1421 1
a1421 2
Istniej± jeszcze inne sposoby, np. logowanie do <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=pipe&amp;sektion=2">
d1425 1
a1425 1
<li><b>Modu³y Apache:</b> Praktycznie wszystkie powinny siê za³adowaæ, 
d1427 3
a1429 3
szczególno¶ci mo¿e wyst±piæ problem z generuj±cym b³±d poleceniem "<tt><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=apachectl&amp;sektion
=8">apachectl</a> restart</tt>" które sprawia, ¿e httpd(8) przerywa pracê.
d1431 1
a1431 1
<li><b>Skrypty CGI:</b> Wiêkszo¶æ NIE zadzia³a poprawnie od razu. Mog± 
d1442 1
a1442 1
</ul>
d1447 2
a1448 3
<tt>-u</tt> demona httpd(8) w pliku <i><a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=rc.conf&amp;sektion=8
">/etc/rc.conf</a></i>
d1450 12
d1463 81
a1547 1

d1549 1
a1549 2
systemach OpenBSD jest <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">
d1558 5
a1562 6
<ul>
<li><b>Nie logowaæ siê jako <i>root!</i></b>  Polecenia <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=su&amp;sektion=1">
su(1)</a> oraz <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sudo&amp;sektion=8">
sudo(8)</a> sprawiaj±, ¿e po pocz±tkowym skonfigurowaniu systemu nie ma 
d1564 1
a1564 2

<li><b>Uruchomiæ ulubiony interpreter poleceñ po zalogowaniu siê do 
d1566 4
a1569 8
prostu uruchomiæ j± z pow³oki domy¶lnej [wydaj±c np. polecenie "ksh" - 
przyp. t³um.].

<li><b>Zmieniæ domy¶ln± pow³okê roota:</b> mo¿na to zrobiæ za pomoc± 
polecenia <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=chsh&amp;sektion=1">
chsh</a> albo <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=vipw&amp;sektion=8">
d1571 1
a1571 1
</ul>
d1576 1
a1576 2
user), 
partycje nie nale¿±ce do tego u¿ytkownika nie s± montowane, zatem 
d1581 1
a1581 2
pow³oki, za¶ domy¶ln± pow³ok± jest <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">
d1585 1
a1585 2
sh</a> oraz <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">
d1595 1
a1595 1
<a name="ksh"></a><h2>10.18 - Co jeszcze mo¿na zrobiæ z <i>ksh</i>? 
d1597 3
a1599 6
</h2>W systemie OpenBSD wywo³ywana poleceniem <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">
ksh</a> pow³oka to w rzeczywisto¶ci <a 
href="http://web.cs.mun.ca/~michael/pdksh/">pdksh</a> (Public Domain 
Korn Shell). Ksh ma te same binaria co pow³oka <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">
d1603 1
a1603 2
spotykan± w systemie Linux), prawdopodobnie odnajd± w <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=ksh&amp;sektion=1">
d1610 1
a1610 2
zainstalowaæ korzystaj±c z <a href="faq8.html#Ports">portów</a> lub <a 
href="faq8.html#Packages">pakietów</a>.
d1612 1
a1612 1
<p>Znak zachêty pow³oki <i>ksh</i> mo¿na z ³atwo¶ci± zmieniæ z 
d1617 1
a1617 2
<pre>
     export PS1='$PWD $ '
d1623 1
a1623 2
<pre>
     /home/nick $
d1626 1
a1626 4

Zachêcamy te¿ do przeanalizowania pliku <a 
href="http://www.openbsd.org/cgi-bin/cvsweb/~checkout~/src/etc/ksh.kshrc
?content-type=text/plain"><tt>/etc/ksh.kshrc</tt></a>, w którym 
d1631 4
a1634 4
<font color= "#0000e0">
<a href= "index.html">[Spis tre¶ci]</a>
<a href= "faq9.html">[Sekcja 9 - Migracja z Linuksa]</a>
<a href= "faq11.html">[Sekcja 11 - Dostrajanie wydajno¶ci]</a>
d1637 3
a1639 3
<p>
<hr>
<a href=" index.html"><img height=" 24" width=" 24" src="../../images/back.gif" border=" 0" alt="[wstecz]"></a>
d1643 2
a1644 2
Originally [OpenBSD: faq10.html,v 1.100 ]<br>
$Translation: faq10.html,v 1.8 2004/04/04 12:11:40 pl-team Exp $<br>
d1647 1
a1647 2
</body>
</html>
@


1.6
log
@Sync with Steelix CVS
@
text
@d1297 2
a1298 2
pod adresem <a 
href="../../errata.html">http://www.openbsd.org/errata.html</a> i s± 
d1313 2
a1314 2
talkd(8)</a> za pomoc± ³aty pobranej z <a 
href="../../errata.html">errata.html</a>.
d1319 1
a1319 1
href="../../errata.html">http://www.openbsd.org/errata.html</a> s± 
d1341 2
a1342 3
tych ¼róde³, które s± potrzebne. Lista tych serwerów jest dostêpna na <a 
href="http://www.openbsd.org/anoncvs.html">
http://www.openbsd.org/anoncvs.html</a>.  
d1371 2
a1372 2
³atek, mo¿na zajrzeæ na <a 
href="../../plus.html">http://www.openbsd.org/plus.html</a> 
d1693 2
a1694 2
Originally [OpenBSD: faq10.html,v 1.96 ]<br>
$Translation: faq10.html,v 1.7 2004/02/07 23:15:34 pl-team Exp $<br>
@


1.5
log
@Sync with Steelix CVS
@
text
@d28 17
d1694 2
a1695 2
Originally [OpenBSD: faq10.html,v 1.95 ]<br>
$Translation: faq10.html,v 1.5 2004/01/12 17:35:14 pl-team Exp $<br>
@


1.4
log
@Sync with Steelix CVS
@
text
@d12 1
a12 1
<meta name= "copyright"     content= "This document copyright 1998-2003
d1678 1
a1678 1
$Translation: faq10.html,v 1.4 2003/11/01 22:58:48 pl-team Exp $<br>
@


1.3
log
@Sync with Steelix CVS
@
text
@d494 1
a494 3
href="http://www.thawte.com/">http://www.thawte.com/</a>. Thawte mo¿e 
obecnie podpisywaæ klucze RSA. W przysz³o¶ci ma byæ mo¿liwe równie¿ 
podpisywanie kluczy DSA.
d645 2
a646 1
testuser:$2a$07$ZWnBOsbqMJ.ducQBfsTKUe3PL97Ve1AHWJ0A4uLamniLNXLeYrEie:1002:31::0:0:Test FAQ User:/home/testuser:/bin/ksh
d1180 1
a1180 1
230- OpenBSD 3.3 (GENERIC) #44: Sat Mar 29 13:22:05 MST 2003
d1328 1
a1328 1
<p>Aby ¶ci±gn±æ kod ¼ród³owy talkd(8) z wersji 3.3 za pomoc± <a 
d1334 2
a1335 1
$ <b>cvs -d anoncvs@@anoncvs5.usa.openbsd.org:/cvs co -rOPENBSD_3_3_BASE src/libexec/talkd/</b>
d1430 4
a1433 1
mkdep -a /home/ericj/lsrc/src/libexec/talkd/talkd.c /home/ericj/lsrc/src/libexec/talkd/announce.c /home/ericj/lsrc/src/libexec/talkd/process.c /home/ericj/lsrc/src/libexec/talkd/table.c /home/ericj/lsrc/src/libexec/talkd/print.c
d1440 2
a1441 1
nroff -Tascii -mandoc /home/ericj/lsrc/src/libexec/talkd/talkd.8 &gt; talkd.cat8
d1459 7
a1465 7
Pocz±wszy od OpenBSD 3.2, serwer HTTP Apache (<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=httpd&amp;sektion=8">httpd(8)</a>) 
jest uruchamiany domy¶lnie w ¶rodowisku zmodyfikowanym 
poleceniem <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=chroot&amp;sektion=2"
>chroot(2)</a>.  Chocia¿ jest to wspania³e z punktu widzenia 
bezpieczeñstwa systemu, mog± siê z tym wi±zaæ pewne niespodzianki dla 
osób nieprzygotowanych na tak± zmianê.
d1677 2
a1678 2
Originally [OpenBSD: faq10.html,v 1.92 ]<br>
$Translation: faq10.html,v 1.3 2003/10/26 19:50:36 pl-team Exp $<br>
d1682 1
a1682 1
</html>@


1.2
log
@sync with steelix cvs
@
text
@d592 1
d598 23
a620 19
Enter username [a-z0-9_]: <strong>testuser</strong>
Enter full name []: <strong>Test FAQ User</strong>
Enter shell csh ksh nologin sh [ksh]: <strong>ksh</strong>
Uid [1002]: <strong>&lt;Enter&gt;</strong>
Login group testuser [testuser]: <strong>guest</strong>
Login group is ``guest''. Invite testuser into other groups: guest no
[no]: <strong>no</strong>
Enter password []: 
Enter password again []:

Name:     testuser
Password: ****
Fullname: Test FAQ User
Uid:      1002
Gid:      31 (guest)
Groups:   guest
HOME:     /home/testuser
Shell:    /bin/ksh
OK? (y/n) [y]: <strong>y</strong>
d622 3
a624 2
Copy files from /usr/share/skel to /home/testuser
Add another user? (y/n) [y]: <strong>n</strong>
d1000 1
a1000 1
Use option ``-silent'' if you don't want see all warnings and questions.
d1003 1
d1009 22
a1030 19
Enter username [a-z0-9_]: <strong>ftp</strong>
Enter full name []: <strong>anonymous ftp</strong>
Enter shell csh false ksh nologin sh tcsh zsh [sh]: <strong>false</strong>
Uid [1002]:
Login group ftp [ftp]:
Login group is ``ftp''. Invite ftp into other groups: guest no
[no]: <strong>no</strong>
Enter password []:
Set the password so that user cannot logon? (y/n) [n]: <strong>y</strong>

Name:     ftp
Password: ****
Fullname: anonymous ftp
Uid:      1002
Gid:      1002 (ftp)
Groups:   ftp
HOME:     /home/ftp
Shell:    /usr/bin/false
OK? (y/n) [y]: <strong>y</strong>
d1032 2
a1033 2
Copy files from /usr/share/skel to /home/ftp
Add another user? (y/n) [y]: <strong>n</strong>
d1673 2
a1674 2
Originally [OpenBSD: faq10.html,v 1.91 ]<br>
$Translation: faq10.html,v 1.2 2003/09/08 02:06:36 pl-team Exp $<br>
d1678 1
a1678 1
</html>
@


1.1
log
@sync with steelix cvs
@
text
@d1442 1
a1442 1
<h2>10.16 - Zastosowanie polecenia chroot() na serwerach Apache.</h2>
d1557 1
a1557 1
Oto kilka mo¿liwych rozwi±zañ:
d1560 1
a1560 1
<li><b>Nie loguj siê jako <i>root!</i></b>  Polecenia <a 
d1565 1
a1565 1
zbyt wielu powodów by logowaæ siê jako <i>root</i>.
d1567 7
a1573 4
<li><b>Uruchom ulubiony interpreter poleceñ po zalogowaniu siê do 
systemu:</b> Je¿eli lubisz ksh(1) lub dowoln± inn± pow³okê, po prostu 
uruchom j± z pow³oki domy¶lnej.
<li><b>Zmieñ domy¶ln± pow³okê roota:</b> Skorzystaj z polecenia <a 
d1591 3
a1593 4
sh</a>. W systemie OpenBSD standardowo znajduj± siê trzy pow³oki (<a
href="http://www.openbsd.org/cgi-bin/man.cgi?query=csh&amp;sektion=1">
csh</a>, <a 
href="http://www.openbsd.org/cgi-bin/man.cgi?query=sh&amp;sektion=1">
d1596 1
a1596 1
ksh</a>) Wszystkie z nich s± zlinkowane statycznie, tak wiêc dostêpne s± 
d1664 1
a1664 1
$Translation: faq10.html,v 1.1 2003/09/07 15:28:09 pl-team Exp $<br>
@

