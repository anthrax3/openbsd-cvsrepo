head	1.30;
access;
symbols;
locks; strict;
comment	@# @;


1.30
date	2009.04.04.22.28.29;	author deraadt;	state dead;
branches;
next	1.29;

1.29
date	2006.05.30.02.58.00;	author krw;	state Exp;
branches;
next	1.28;

1.28
date	2005.05.22.18.00.10;	author matthieu;	state Exp;
branches;
next	1.27;

1.27
date	2005.05.10.22.38.37;	author nick;	state Exp;
branches;
next	1.26;

1.26
date	2004.02.13.07.49.52;	author david;	state Exp;
branches;
next	1.25;

1.25
date	2004.02.09.20.30.14;	author xsa;	state Exp;
branches;
next	1.24;

1.24
date	2004.02.09.08.55.32;	author xsa;	state Exp;
branches;
next	1.23;

1.23
date	2003.03.04.23.00.55;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2002.04.17.07.21.06;	author miod;	state Exp;
branches;
next	1.21;

1.21
date	2002.03.23.06.15.38;	author pvalchev;	state Exp;
branches;
next	1.20;

1.20
date	2002.02.02.05.14.48;	author chris;	state Exp;
branches;
next	1.19;

1.19
date	2001.11.02.21.17.19;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2001.10.16.19.02.21;	author jufi;	state Exp;
branches;
next	1.17;

1.17
date	2001.09.30.17.39.11;	author jufi;	state Exp;
branches;
next	1.16;

1.16
date	2001.04.06.14.08.21;	author horacio;	state Exp;
branches;
next	1.15;

1.15
date	2001.04.02.00.00.56;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2001.02.24.23.37.06;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2001.01.01.22.01.21;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2000.11.17.19.11.33;	author jufi;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.25.02.29.49;	author wvdputte;	state Exp;
branches;
next	1.10;

1.10
date	99.03.12.18.19.08;	author deraadt;	state Exp;
branches;
next	1.9;

1.9
date	98.11.17.01.10.29;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	98.11.11.16.56.35;	author deraadt;	state Exp;
branches;
next	1.7;

1.7
date	98.06.25.07.16.09;	author graichen;	state Exp;
branches;
next	1.6;

1.6
date	97.12.01.10.51.03;	author todd;	state Exp;
branches;
next	1.5;

1.5
date	97.09.04.21.57.18;	author flipk;	state Exp;
branches;
next	1.4;

1.4
date	97.01.20.09.55.53;	author graichen;	state Exp;
branches;
next	1.3;

1.3
date	96.12.30.11.35.20;	author mickey;	state Exp;
branches;
next	1.2;

1.2
date	96.12.16.19.28.46;	author jkatz;	state Exp;
branches;
next	1.1;

1.1
date	96.10.29.16.14.10;	author graichen;	state Exp;
branches;
next	;


desc
@@


1.30
log
@ctm(1) is no longer used
@
text
@<!DOCTYPE HTML PUBLIC  "-//W3C//DTD HTML 4.01 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>CTM</title>
<link rev="made" href="mailto:www@@openbsd.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="resource-type" content="document">
<meta name="description" content="the OpenBSD/CTM page">
<meta name="keywords" content="openbsd,ctm">
<meta name="distribution" content="global">
<meta name="copyright" content="This document copyright 1996-2004 by OpenBSD.">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#23238E">

<center>
<img alt="CTM for OpenBSD" src="images/bsdctm.gif" width="401" height="126">
</center>

<h3><font color="#0000e0">What is CTM?</font></h3>

<p>
CTM is a system which was designed by Poul-Henning Kamp for making 
changes to a source tree available on a regular basis by email.
This is a good way to stay up to date with the current source tree or
CVS repository if you have a slow Internet connection, for instance via modem.

<p>
OpenBSD CTM distributes all modules of the OpenBSD CVS repository
plus checked out versions of several of these modules.
CTM uses very low bandwidth for distributing the changes to the tree,
and compresses them using <tt><b>gzip -9</b></tt>.  In contrast to
<a href="cvsup.html">CVSup</a>, CTM is written in plain C language
and therefore available for every platform supported by OpenBSD.
CTM implements a so called push system, while all other methods to
get access to the OpenBSD CVS repository are pull systems.

<p>
For <b>any</b> problems, suggestions, reports and questions regarding CTM,
contact the CTM maintainer
<a href="mailto:hgw@@d1906.inka.de">Hans G&uuml;nter Weigand</a>.
<small>(Please do not ask other OpenBSD people for CTM support,
as they are busy doing other things.  Thank you.)</small>

<h3><font color="#0000e0">How does it work?</font></h3>

<p>
The basic idea of CTM is that you subscribe to a special mailing list
for a particular CVS module or source tree. Each day you receive email messages
containing all the changes to that tree during that period.
One such set of differences is called a <b>delta</b>.
Actually, the CTM server makes new deltas every twelve hours.

<p>
You begin with a base set, against which later deltas are patched.  To
begin using CTM you download the latest base set and all deltas
generated after that.  Once you have processed those you can process
later deltas you receive from the mailing list. The base sets are split
into pieces of 1400kB each for easier downloading over bad lines.

<p>
Base sets are generated once every 50 relative deltas, so you never
have to grab more than 50 deltas to catch up.

<p>
There are currently two kinds of base set files.  For quite a while we
were making <tt><b>tar.gz</b></tt> files manually, but we are
back to real CTM base deltas.  The latter contain 
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&amp;sektion=1">md5(1)</a>
checksums and are generated automatically, thus are a bit safer.  You
can distinguish these two kinds of base sets by their filename.  An
example for a <tt><b>tar.gz</b></tt> file is
<tt><b>OpenBSD-cvs.1450.tar.gz</b></tt>, whereas a CTM base delta
would be named <tt><b>OpenBSD-cvs.1500A.gz</b></tt>.  See below for
detailed instructions.

<h3><font color="#0000e0">How much bandwidth does CTM use?</font></h3>

<p>
You obtain the base set and all relative deltas up to the recent one
via ftp from the sites listed below.  Sizes are:

<ul>
<li>Approximately 215MB for OpenBSD-cvs.
<li>Approximately 40MB for OpenBSD-cvs-x11.
<li>Approximately 65MB for OpenBSD-cvs-xf4.
<li>Approximately 83MB for OpenBSD-src.
<li>Approximately 36MB for OpenBSD-src-x11.
<li>Approximately 4MB for OpenBSD-ports.
<br>Keep in mind that these are compressed sizes.  The uncompressed
    files are about five times as large.
<li>Relative deltas vary from 10kB to 500kB, and occasionally a couple of
    megabytes.
<li>CTM always splits deltas into 100kB mail messages which are reassembled
    automatically.
<li>If a delta is larger than 5MB, it is not sent via mail.  Instead,
    you will receive a notification to get the delta by ftp.  Larger
    CTM updates are rare, though, usually occurring only after a major
    import of something like binutils, Perl, gcc, X, etc., or applying a
    tag to the CVS repository.
</ul>

<h3><font color="#0000e0">How do I use CTM?</font></h3>

<ul>
<li>Subscribe to the CTM mailing list for the source set you want.
<p>
   There are several mailing lists related to CTM.  There is a list for
   updates to the CVS repository, a list for the source tree, a list
   for the X11 part of both, and one for the ports tree, plus
   a list for log messages from the CTM delta generation runs.
   <p>
   The following commands will subscribe you to the appropriate lists:
<p>
For the CVS repository (CVSROOT, ports, src and www modules,
but not X11 and XF4):
<pre>
	echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org
</pre>
For the X11 module of the CVS repository:
<pre>
	echo subscribe OpenBSD-cvs-x11 | mail majordomo@@OpenBSD.org
</pre>
For the XF4 module of the CVS repository:
<pre>
	echo subscribe OpenBSD-cvs-xf4 | mail majordomo@@OpenBSD.org
</pre>
For a checked out copy of the src module:
<pre>
	echo subscribe OpenBSD-src | mail majordomo@@OpenBSD.org
</pre>
For a checked out copy of the X11 module:
<pre>
	echo subscribe OpenBSD-src-x11 | mail majordomo@@OpenBSD.org
</pre>
For a checked out copy of the ports module:
<pre>
	echo subscribe OpenBSD-ports-ctm | mail majordomo@@OpenBSD.org
</pre>
For the CTM log list:
<pre>
	echo subscribe ctm-log | mail majordomo@@OpenBSD.org
</pre>

<p>
<li>Install the CTM program from a package or from the ports
collection.  You'll find the port at
<tt><b>/usr/ports/devel/ctm</b></tt>.

</ul>
<b>Note:</b> The examples below just cover OpenBSD-cvs for clarity. The
other source sets are handled in the same fashion.

<p><ul>

<li>Download the base set from an FTP site. You'll find it in the
subdirectory <tt><b>base/OpenBSD-cvs</b></tt>.  Get all files in
that directory.  Once you have them all you can create the base set
file and unpack it with the following commands, depending on the type
of file you got:

<pre>
	cat split/OpenBSD-cvs.1500A.gz.* &gt; OpenBSD-cvs.1500A.gz
	cd target
	ctm -v -v -v .../OpenBSD-cvs.1500A.gz
</pre>
<p>
or

<pre>
	cat split/OpenBSD-cvs.1450.tar.gz.* &gt; OpenBSD-cvs.1450.tar.gz
	cd target
	tar -xzvf .../OpenBSD-cvs.1450.tar.gz
</pre>

<p>
where <tt><b>split</b></tt> is the directory in which you have
placed the files you downloaded and <tt><b>target</b></tt> is the
place you have chosen for unpacking the source set.

<p> It is not necessary to keep these base set files around, if
you're sure you've got a complete tree.  But you can keep the base set
file(s) for backup purposes.  However, be sure to note the number of
the base set before continuing.

<p>
<li>You now need to get the deltas which have been generated since the
base set.  Go to one of the FTP sites listed below into the subdirectory
<tt><b>OpenBSD-cvs</b></tt> and download every file whose number is
<em>larger</em> than the number of the base set you used. Then apply
these deltas:

<pre>
	cd target
	ctm -v -v -v deltas/OpenBSD-cvs.*
</pre>

<p>
where <tt><b>target</b></tt> is the directory where your source set
tree is, and <tt><b>deltas</b></tt> is where you have stored the
deltas.

<p>
<li>Wait until you get your first delta from the mailing list.
<p>
<li>Unpack, assemble, and apply the CTM delta using <tt><b>ctm_rmail</b></tt>.
<p>

<pre>
	ctm_rmail -p /tmp -d deltas -b target folder
</pre>

<p>
where <tt><b>folder</b></tt> is the mail folder containing the delta
mail.  This will decode the CTM delta and save it in the
<tt><b>deltas</b></tt> directory.  The delta will be a file of the
form <tt><b>OpenBSD-cvs.<var>XXXX</var>.gz</b></tt>, where <var>XXXX</var>
is the number of the delta.  Then the delta will be applied to the
directory tree located at <tt><b>target</b></tt>, the place where you
unpacked the base set.

<p>
Repeat this last step every time you receive a delta from the
mailing list.  If you like, you can automate this step using procmail,
maildrop, or any similar program from the
<a href="ports.html">ports collection</a>.
</ul>

<p>
Here is the list of FTP servers carrying CTM deltas:

<ul>
<li>The primary FTP server can be reached at:
<p>
<a href="ftp://togetic.kd85.com:/pub/OpenBSD-ctm/">
     ftp://togetic.kd85.com:/pub/OpenBSD-ctm/
</a>.
<p>
This server is automatically updated by the CTM delta generation process.
Base sets are
available as big single files in the <tt><b>base</b></tt> directory.
The split files are in <tt><b>base-split</b></tt>.
</ul>

<ul>
<li><a href="ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm/
</a>
<p>
This server is updated by CTM deltas received from the mailing lists.  It
additionally has the split base deltas in the <tt><b>base</b></tt>
subdirectory, mirrored from
<a href="ftp://togetic.kd85.com:/pub/OpenBSD-ctm/">
     ftp://togetic.kd85.com:/pub/OpenBSD-ctm/
</a>.
</ul>

<ul>
<li><a href="ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/
</a>
<p>
is identical to
<p>
<li><a href="ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/
</a>
<p>
and is a mirror of
<a href="ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.se.OpenBSD.org
</a>
.
</ul>

<p>
<b>NOTE:</b> <a href="mailto:hgw@@d1906.inka.de">I'm</a> very interested
      in finding other sites around the world that would like to
      mirror these deltas.
<p>

<h3><font color="#0000e0">Should I choose the source tree or the CVS repository?</font></h3>

<p>
This depends on your diskspace, among other factors.  Since CTM
doesn't deal very well with files which have been modified locally,
the better choice is surely the <a href="anoncvs.html">CVS</a>
repository.  You can check out your working copy of the source tree
from your CVS repository then, can track a stable branch,
and keep your local modifications in
your source tree.  CVS is smart enough to merge in your local changes.
You can also use the full range of CVS commands except commands like
<tt><b>cvs commit</b></tt> and <tt><b>cvs tag</b></tt>.

<p>
The drawback, however, is the amount of diskspace it takes.  A
checked-out source tree takes about 370MB or so, but if you have your
own CVS repository you need more than 1Gb for it, <b>plus</b> another
370MB for the checked out tree.
This doesn't count the 100MB or more (depending on the architecture)
you will need for generated files during a build, i.e. compiling the sources.

<p>
If you get the CVS repository, you can use the <tt><b>cvs checkout</b></tt>
command to check out a source tree from it.  Each time you update
with CTM you can use the <tt><b>cvs update</b></tt> command to
update your source repository.

<p>
To get an initial src repository:
<pre>
	cd /usr
	cvs -qd YOUR_CVS_REPOSITORY checkout -P src
</pre>
<p>
and after each CTM update:
<pre>
	cd /usr/src
	cvs -q update -Pd
</pre>

<h3><font color="#0000e0">How stable is CTM for OpenBSD?</font></h3>

CTM has been in use for over five years for OpenBSD, and for FreeBSD
for an even longer period of time.  CTM is very reliable and stable.

<h3><font color="#0000e0">What does the future hold for CTM?</font></h3>

There are numerous (small) changes and optimizations possible.
Among them:

<ul>
<li> CTM never sends a delta bigger than 5MB via mail.  This could be
     changed in two ways: The maximum delta size could be increased,
     or a queue could be installed, from which only a certain number
     of messages are mailed out daily.  E. g., if a delta is 6MB in
     size, it is split into 96 mail messages.  These are put into a
     queue.  On the first day, the first 50 messages are sent, on the
     second day the remaining 46, plus the first 4 messages of the
     following delta.
<li> The CTM software could be rewritten, or at least fixed in a
     better manner.  Its C implementation is not an example of good
     programming.  That would also be a nice opportunity for adding
     new features, like signing CTM deltas with PGP.
</ul>

Mail <a href="mailto:hgw@@d1906.inka.de">me</a> your opinions and wishes!

<h3><font color="#0000e0">More information</font></h3>

If you want to learn more about CTM, a good place to start with is the
FreeBSD Handbook:

<ul>
<li> <a href="http://www.FreeBSD.org/handbook/ctm.html">
         http://www.FreeBSD.org/handbook/ctm.html
     </a>
</ul>

There are also man pages for all of the CTM utilities.

<h3><font color="#0000e0">Summary:</font></h3>

<p>
<ul>
<li> Mailing lists:

   <ul>
   <li><tt>echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org</tt>
   <li><tt>echo subscribe OpenBSD-cvs-x11 | mail majordomo@@OpenBSD.org</tt>
   <li><tt>echo subscribe OpenBSD-cvs-xf4 | mail majordomo@@OpenBSD.org</tt>
   <li><tt>echo subscribe OpenBSD-src | mail majordomo@@OpenBSD.org</tt>
   <li><tt>echo subscribe OpenBSD-src-x11 | mail majordomo@@OpenBSD.org</tt>
   <li><tt>echo subscribe OpenBSD-ports-ctm | mail majordomo@@OpenBSD.org</tt>
   <li><tt>echo subscribe ctm-log | mail majordomo@@OpenBSD.org</tt>
   </ul>
<p>
<li> FTP (for base sets and relative deltas):

   <ul>
   <li> <a href="ftp://togetic.kd85.com:/pub/OpenBSD-ctm/">
        ftp://togetic.kd85.com:/pub/OpenBSD-ctm/</a>
   <li> <a href="ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/">
        ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/</a>
   <li> <a href="ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/">
        ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/</a>
   <li> <a href="ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm/">
        ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm/</a>
   </ul>
</ul>

<p>
Important notes and announcements about CTM will be posted to the
announce@@OpenBSD.org mailing list.

<p>

<h3><font color="#0000e0">Acknowledgements</font></h3>

<ul>
<li> Poul-Henning Kamp (phk@@FreeBSD.org) for making CTM possible and helping
     getting the delta generation running

<li> Theo de Raadt (deraadt@@theos.com) for making OpenBSD possible and
     initially providing the resources needed for creating the CTM
     deltas on cvs.OpenBSD.org (now they are generated elsewhere), and
     for the nameserver magic

<li> Todd C. Miller (millert@@OpenBSD.org) for setting up and
     maintaining the CTM mailinglists

<li> Bob Beck (beck@@OpenBSD.org), Artur Grabowski (art@@OpenBSD.org),
     Magnus Holmberg (mho@@OpenBSD.org) and
     Wolfram Schneider (wosch@@FreeBSD.org) for setting up the ftp space
     for the base sets and deltas on ctm.*OpenBSD.org

<li> Thomas Graichen (graichen@@OpenBSD.org) for starting CTM for
     OpenBSD and maintaining it all those years

<li> Wim Vandeputte (wvdputte@@OpenBSD.org) for hosting CTM now

<li> ... and all the others who contributed indirectly
</ul>


<p>
OpenBSD/CTM logo designed for the OpenBSD Project by 
   <a href="mailto:flipk@@openbsd.org">Phillip F Knaack</a>.
<p>
<hr>
<a href="index.html"><img height="24" width="24" src="back.gif" border="0" alt="OpenBSD" /></a>
<a href="mailto:www@@openbsd.org">www@@openbsd.org</a>
<br>
<small>$OpenBSD: ctm.html,v 1.29 2006/05/30 02:58:00 krw Exp $</small>

</body>
</html>
@


1.29
log
@Remove references to the union filesystem.

From Alexander Hall, alexander at beard dot se.
@
text
@d434 1
a434 1
<small>$OpenBSD: ctm.html,v 1.28 2005/05/22 18:00:10 matthieu Exp $</small>
@


1.28
log
@More XFree86->X.Org/X Window System changes.
@
text
@a303 41
If you just get the source tree, you will need to deal with local
modifications.  One way to do this is to use the <b>union</b> filesystem,
(see <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_union&amp;sektion=8">mount_union(8)</a>)
although there have been reports that the <b>union</b> filesystem can be 
unstable if both the upper and lower layers reside on the same physical 
filesystem.  If you place your upper and lower layers on separate 
filesystems you should have no problems.  A sample of this is as follows:

<p>
Suppose your CTM-updated tree is in <tt><b>/usr/src-ctm</b></tt>, and
your real source tree, the one you make your modifications to and do
your builds from, is in <tt><b>/usr/src</b></tt>.
<tt><b>/usr/src</b></tt> should be initially an empty directory.  The
following command will set up the union mount:

<pre>
	mount -t union -o -b /usr/src-ctm /usr/src
</pre>

<p>
Modifications made to files in <tt><b>/usr/src</b></tt> will become a
file contained within <tt><b>/usr/src</b></tt>, hiding the one in
<tt><b>src-ctm</b></tt>.  If changes are made via CTM to the
underlying <tt><b>src-ctm</b></tt> tree, those changes will <b>not</b>
be seen if there is a file in the upper layer hiding it.

<p>
You should periodically unmount the
union and search for files which are local to the union filesystem.

<pre>
	umount /usr/src
	find /usr/src -type f
</pre>

<p>
The commands <tt><b>ls -W</b></tt> and <tt><b>rm -W</b></tt> will be
useful too, as objects named "whiteouts" in <tt><b>/usr/src</b></tt>
will also hide files in <tt><b>src-ctm</b></tt>.

<p>
d434 1
a434 1
<small>$OpenBSD: ctm.html,v 1.27 2005/05/10 22:38:37 nick Exp $</small>
@


1.27
log
@
Alexandre Anriot worked with Wim to get this file back up-to-date. Thanks!
@
text
@d99 1
a99 1
    import of something like binutils, Perl, gcc, XFree86, etc., or applying a
d475 1
a475 1
<small>$OpenBSD: ctm.html,v 1.26 2004/02/13 07:49:52 david Exp $</small>
@


1.26
log
@uppercase HTML -> lowercase HTML
ok xsa@@
@
text
@d235 2
a236 2
<a href="ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/">
     ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/
d253 2
a254 2
<a href="ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/">
     ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/
d422 2
a423 2
   <li> <a href="ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/">
        ftp://openbsd.rug.ac.be:/pub/OpenBSD-ctm/</a>
d475 1
a475 1
<small>$OpenBSD: ctm.html,v 1.25 2004/02/09 20:30:14 xsa Exp $</small>
@


1.25
log
@
<LI> -> <li>; from Saad Kadhi <saad at docisland.org>; Thanks!
@
text
@d54 1
a54 1
<P>
d61 1
a61 1
<P>
d65 1
a65 1
<P>
d475 1
a475 1
<small>$OpenBSD: ctm.html,v 1.24 2004/02/09 08:55:32 xsa Exp $</small>
@


1.24
log
@
HTML validation; comments & ok david@@.
@
text
@d204 1
a204 1
<LI>Wait until you get your first delta from the mailing list.
d206 1
a206 1
<LI>Unpack, assemble, and apply the CTM delta using <tt><b>ctm_rmail</b></tt>.
d475 1
a475 1
<small>$OpenBSD: ctm.html,v 1.23 2003/03/04 23:00:55 naddy Exp $</small>
@


1.23
log
@valid HTML
@
text
@d1 14
a14 6
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
   <TITLE>CTM</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#23238E">
d20 1
a20 1
<H3><font color="#0000e0">What is CTM?</font></H3>
d22 1
a22 1
<P>
d28 1
a28 1
<P>
d45 1
a45 1
<H3><font color="#0000e0">How does it work?</font></H3>
d47 1
a47 1
<P>
d77 1
a77 1
<H3><font color="#0000e0">How much bandwidth does CTM use?</font></H3>
d79 1
a79 1
<P>
d103 1
a103 1
<H3><font color="#0000e0">How do I use CTM?</font></H3>
d105 2
a106 2
<UL>
<LI>Subscribe to the CTM mailing list for the source set you want.
d284 1
a284 1
<P>
d363 1
a363 1
<H3><font color="#0000e0">How stable is CTM for OpenBSD?</font></H3>
d390 1
a390 1
<H3><font color="#0000e0">More information</font></H3>
d439 1
a439 1
<H3><font color="#0000e0">Acknowledgements</font></H3>
d475 1
a475 1
<small>$OpenBSD: ctm.html,v 1.22 2002/04/17 07:21:06 miod Exp $</small>
@


1.22
log
@Typos galore; from STeve Andre (andres at msu dot edu), thanks!
@
text
@d61 1
a61 1
<a href="http://www.openbsd.org/cgi-bin/man.cgi?query=md5&sektion=1">md5(1)</a>
d298 1
a298 1
(see <a href="http://www.openbsd.org/cgi-bin/man.cgi?query=mount_union&sektion=8">mount_union(8)</a>)
d467 1
a467 1
<small>$OpenBSD: ctm.html,v 1.21 2002/03/23 06:15:38 pvalchev Exp $</small>
@


1.21
log
@typo; yozo@@v007.vaio.ne.jp
@
text
@d375 1
a375 1
     better manner.  Its C implemtation is not an example of good
d467 1
a467 1
<small>$OpenBSD: ctm.html,v 1.20 2002/02/02 05:14:48 chris Exp $</small>
@


1.20
log
@Remove more -A from cvs examples.
@
text
@d22 1
a22 1
plus checked out versions of several of theses modules.
d467 1
a467 1
<small>$OpenBSD: ctm.html,v 1.19 2001/11/02 21:17:19 naddy Exp $</small>
@


1.19
log
@- List new mailing list for XF4 module.
- Update file and directory sizes.
- More color for headlines.
Submitted by Hans-Guenter Weigand <hgw@@d1906.inka.de>.
@
text
@d346 1
a346 1
	cvs -qd YOUR_CVS_REPOSITORY checkout -PA src
d352 1
a352 1
	cvs -q update -PAd
d467 1
a467 1
<small>$OpenBSD: ctm.html,v 1.18 2001/10/16 19:02:21 jufi Exp $</small>
@


1.18
log
@URL fix by David Krause.
@
text
@d12 1
a12 1
<H3>What is CTM?</H3>
d16 1
a16 1
changes to a source tree available on a daily basis by email.
d21 2
d27 2
d37 1
a37 1
<H3>How does it work?</H3>
d41 1
a41 1
for a particular source tree. Each day you receive an email message
d60 1
a60 1
switching back to real CTM base deltas.  The latter contain 
d69 1
a69 1
<H3>How much bandwidth does CTM use?</H3>
d76 6
a81 6
<li>Approximately 115MB for OpenBSD-cvs.
<li>Approximately 37MB for OpenBSD-cvs-x11.
<li>Approximately 56MB for OpenBSD-cvs-xf4.
<li>Approximately 65MB for OpenBSD-src.
<li>Approximately 35MB for OpenBSD-src-x11.
<li>Approximately 2MB for OpenBSD-ports.
d91 2
a92 2
    import of something like binutils, perl, gcc, etc, or applying a
    CVS tag to the CVS repository.
d95 1
a95 1
<H3>How do I use CTM?</H3>
d107 2
a108 1
For the CVS repository (without the X11 and XF4 modules):
d116 5
a120 1
For the source tree (without the X11 and XF4 modules):
d124 1
a124 1
For the X11 module of the source tree:
d128 1
a128 1
For the ports tree:
a136 3
There is no mailing list for the XF4 module, yet.  It is available
via FTP only.

d163 1
a163 1
	cat split/OpenBSD-cvs.1500.tar.gz.* &gt; OpenBSD-cvs.1500.tar.gz
d165 1
a165 1
	tar -xzvf .../OpenBSD-cvs.1500.tar.gz
d180 1
a180 1
base set.  Go to the FTP site in the subdirectory
d216 3
a218 2
mailing list.  If you like, you can automate this step using procmail
or any similar program.
d222 1
a222 1
The addresses of the FTP servers carrying CTM deltas are:
d244 4
a247 1
subdirectory.
d274 1
a274 1
<h3>Should I choose the source tree or the CVS repository?</h3>
d279 1
a279 1
the "better" choice is probably the <a href="anoncvs.html">CVS</a>
d281 2
a282 1
from your CVS repository then, and keep your local modifications in
d284 2
a285 2
You can also use the full range of CVS commands except <tt><b>cvs
commit</b></tt>.
d289 1
a289 1
checked-out source tree takes about 350MB or so, but if you have your
d291 1
a291 1
350MB for the checked out tree.
d293 1
a293 1
you will need to do a build, i.e. compile the sources.
d333 2
a334 2
useful too, as objects named "whiteouts" in <tt><b>/usr/src</b></tt> will also hide
files in <tt><b>src-ctm</b></tt>.
d346 1
a346 1
	cvs -qd YOUR_CVS_REPOSITORY checkout -A src
d355 1
a355 1
<H3>How stable is CTM for OpenBSD?</H3>
d357 1
a357 1
CTM has been in use for over four years for OpenBSD, and for FreeBSD
d360 1
a360 1
<h3>What does the future hold for CTM?</h3>
d380 3
a382 1
<H3>More information</H3>
d395 1
a395 1
<h3>Summary:</h3>
a397 1

d404 1
d426 2
a427 5
Important notes and announcements about CTM will be posted to:
<ul>
<li> announce@@OpenBSD.org
<li> misc@@OpenBSD.org
</ul>
d431 1
a431 1
<H3>Acknowledgements</H3>
d467 1
a467 1
<small>$OpenBSD: ctm.html,v 1.17 2001/09/30 17:39:11 jufi Exp $</small>
@


1.17
log
@
URL fixed.
@
text
@d401 8
a408 8
   <li> <a href="ftp://openbsd.rug.ac.be:/ftp/pub/OpenBSD-ctm/">
        ftp://openbsd.rug.ac.be:/ftp/pub/OpenBSD-ctm/</a>
   <li> <a href="ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm">
        ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm</a>
   <li> <a href="ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm">
        ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm</a>
   <li> <a href="ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm">
        ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm</a>
d457 1
a457 1
<small>$OpenBSD: ctm.html,v 1.16 2001/04/06 14:08:21 horacio Exp $</small>
@


1.16
log
@mount_union(8)
md5(1)
typos
@
text
@d220 2
a221 2
<a href="ftp://openbsd.rug.ac.be:/ftp/pub/OpenBSD-ctm/">
     ftp://openbsd.rug.ac.be:/ftp/pub/OpenBSD-ctm/
d457 1
a457 1
<small>$OpenBSD: ctm.html,v 1.15 2001/04/02 00:00:56 naddy Exp $</small>
@


1.15
log
@- Add new XF4 module.
- Tell the truth about FTP servers.
- Mention that we run CTM every 12 hours.
- New suggestions for CTM future.
From Hans-Guenter Weigand <hgw@@d1906.inka.de>.
@
text
@d27 1
a27 1
For <b>any</b> problems, suggestions, reports and questions regarding CTM
d56 2
a57 1
switching back to real CTM base deltas.  The latter contain MD5
d59 1
a59 1
can distinguish these two kinds of base set by their filename.  An
d210 1
a210 1
mailing list.  If you like you can automate this step using procmail
d269 6
a274 5
the "better" choice is probably the CVS repository.  You can check out
your working copy of the source tree from your CVS repository then,
and keep your local modifications in your source tree.  CVS is
smart enough to merge in your local changes.  You can also use the
full range of CVS commands except <tt><b>cvs commit</b></tt>.
d287 5
a291 4
although there have been reports that the <b>union</b> filesystem can be
unstable if both the upper and lower layers reside on the same physical
filesystem.  If you place your upper and lower layers on separate filesystems
you should have no problems.  A sample of this is as follows:
d364 1
a364 1
     better manner.  It's C implemtation is not an example of good
d457 1
a457 1
<small>$OpenBSD: ctm.html,v 1.14 2001/02/24 23:37:06 naddy Exp $</small>
@


1.14
log
@From Hans-Guenter Weigand <hgw@@d1906.inka.de>:
- consistant use of CTM, CVS, FTP, etc
- link to maintainer moved towards the top of the page
- typos corrected
- more typographical unification
- link to future FTP master added
@
text
@d40 1
d73 1
d102 1
a102 1
For the CVS repository (without the X11 part):
d106 1
a106 1
For the X11 part of the CVS repository:
d110 1
a110 1
For the source tree (without the X11 part):
d114 1
a114 1
For the X11 part of the source tree:
d127 3
d217 10
a226 9
<li><a href="ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm/
</a>
</ul>

<ul>
<li><a href="ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/">
     ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm/
</a>
d233 4
d240 15
a254 7
<li>An experimental server can be reached at
<a href="ftp://openbsd.rug.ac.be:/ftp/pub/OpenBSD-ctm/">
     ftp://openbsd.rug.ac.be:/ftp/pub/OpenBSD-ctm/
</a>.
This server has a slightly different directory layout.  Base sets are
available as big single files in the <tt><b>base</b></tt> directory.
The split files are in <tt><b>base-split</b></tt>.
d349 1
a349 1
Among them are:
d352 1
a352 1
<li> CTM never sents a delta bigger than 5MB via mail.  This could be
d355 1
a355 1
     of messages are mailed out daily.  I. e., if a delta is 6MB in
d360 4
a363 3

<li> CTM could be run two times per day.

d394 1
a394 1

d398 2
d412 1
a413 1
<li> announce@@OpenBSD.org
d454 1
a454 1
<small>$OpenBSD: ctm.html,v 1.13 2001/01/01 22:01:21 naddy Exp $</small>
@


1.13
log
@Update from Hans Guenter Weigand <hgw@@d1906.inka.de>.
@
text
@d12 1
a12 1
<H3>What is ctm?</H3>
d15 1
a15 1
Ctm is a system which was designed by Poul-Henning Kamp for making 
d17 2
a18 2
This is a good way to stay up to date with the current source- or
CVS tree if you have a bad Internet connection, for instance via modem.
d21 11
a31 4
Ctm uses very low bandwidth for distributing the changes to the tree,
and compresses them using gzip -9.  In contrast to <a
href="cvsup.html">CVSup</a>, ctm is written in plain C and therefore
available for every platform supported by OpenBSD.
d36 1
a36 1
The basic idea of ctm is that you subscribe to a special mailing list
d39 1
a39 1
One set of differences is called a "delta".
d43 1
a43 1
begin using ctm you download the latest base set and all deltas
d46 1
a46 2
into pieces of 1400kB each for easier downloading over bad lines, and
you can even put them onto floppies this way.
d53 1
a53 1
There are currently two kinds of base delta.  For quite a while we
d55 1
a55 1
switching back to real ctm base deltas.  The latter contain md5
d57 1
a57 1
can distinguish these two kinds of base delta by their filename.  An
d59 1
a59 1
<tt><b>OpenBSD-cvs.1450.tar.gz</b></tt>, whereas a ctm base delta
d63 1
a63 1
<H3>How much bandwidth does ctm use?</H3>
d75 1
a75 1
<li>Keep in mind that these are compressed sizes.  The uncompressed
d77 1
a77 1
<li>Relative deltas vary from 10kB to 100kB, and occasionally a couple of
d79 1
a79 1
<li>ctm always splits deltas into 100kB messages which are reassembled
d81 5
a85 2
<li>If a delta is larger than 5MB, it is not sent via mail.  Instead, you
    will receive a notification to get the delta by ftp.
d88 1
a88 5
<P>
Larger ctm updates are rare, though, usually occurring only after a major
import of something like binutils, perl, gcc, etc.

<H3>How do I use ctm?</H3>
d91 1
a91 1
<LI>Subscribe to the ctm mailing list for the source set you want.
d93 2
a94 2
   There are several mailing lists related to ctm.  There is a list for
   updates to the CVS tree, a list for the source tree, a list
d96 1
a96 1
   a list for log messages from the ctm delta generation runs.
d100 1
a100 1
For the CVS tree (without the X11 part):
d104 1
a104 1
For the X11 part of the CVS tree:
d120 1
a120 1
For the ctm log list:
d126 1
a126 1
<li>Install the ctm program from a package or from the ports
d139 2
a140 2
file and unpack it with the following commands, depending on the kind
of base delta you got:
d159 1
a159 1
place you have chosen for the source set.
d161 4
a164 5
<p>
It is not necessary to keep these files around, if you're sure you've
got a complete tree.  But you can keep the base set file(s) for backup
purposes.  However, be sure to note the number of the base set before
continuing.
d186 1
a186 1
<LI>Unpack, assemble, and apply the ctm delta using ctm_rmail.
d195 1
a195 1
mail.  This will decode the ctm delta and save it in the
d200 1
a200 1
unpacked the base delta.
d209 1
a209 1
The addresses for the deltas are:
d229 10
d240 3
a242 2
<b>NOTE:</b> I'm very interested in finding other sites around the world
   that would like to mirror these deltas.
d245 1
a245 1
<h3>Should I choose the source or CVS tree?</h3>
d248 7
a254 11
This depends on your diskspace, among other factors.  Since ctm
doesn't deal with files which have been modified locally, the "better"
choice is probably the CVS tree.  You then can check out your working
source tree from your CVS tree, and keep your local modifications in
your source tree, because cvs is smart enough to merge in your local
changes.

<p>
The drawback, however, is the amount of diskspace it takes.  A checked-out
source tree takes about 350MB or so, but if you have your own cvs tree you
need about 1Gb for it, <b>plus</b> another 350MB for the checked out tree.
d257 4
d273 1
a273 1
Suppose your ctm-updated tree is in <tt><b>/usr/src-ctm</b></tt>, and
d284 5
a288 4
Modifications made to files in /usr/src will become a file contained within
/usr/src, hiding the one in src-ctm.  If changes are made via ctm to the
underlying src-ctm tree, those changes will <b>not</b> be seen if there is
a file in the upper layer hiding it.
d301 2
a302 2
useful too, as objects named "whiteouts" in /usr/src will also hide
files in src-ctm.
d305 4
a308 4
If you get the CVS tree, you can use the <tt><b>cvs checkout</b></tt>
command to check out a source tree from it, and each time you update
with ctm you can use the <tt><b>cvs update</b></tt> command to
update your source tree.
d311 1
a311 1
To get an initial src tree:
d314 1
a314 1
	cvs -qd YOUR_CVS_TREE checkout -A src
d317 1
a317 1
and after each ctm update:
d323 1
a323 1
<H3>How stable is ctm for OpenBSD?</H3>
d325 21
a345 2
Ctm has been in use for over four years for OpenBSD, and for FreeBSD
for an even longer period of time.  Ctm is very reliable and stable.
d349 1
a349 1
If you want to learn more about ctm, a good place to start with is the
d358 1
a358 1
There are also man pages for all of the ctm utilities.
d360 1
a360 2
<p>
Summary:
d376 1
a376 1
<li> FTP (for base and relative deltas):
d389 1
a389 1
Important notes and announcements about ctm will be posted to:
d400 1
a400 1
<li> Poul-Henning Kamp (phk@@FreeBSD.org) for making ctm possible and helping
d404 1
a404 1
     initially providing the resources needed for creating the ctm
d409 1
a409 1
     maintaining the ctm mailinglists
d414 1
a414 1
     for the bases and deltas on ctm.*OpenBSD.org
d416 1
a416 1
<li> Thomas Graichen (graichen@@OpenBSD.org) for starting ctm for
d419 1
a419 1
<li> Wim Vandeputte (wvdeputte@@OpenBSD.org) for hosting ctm now
a425 4
For any problems, suggestions, reports and questions regarding ctm
contact the ctm maintainer
<a href="mailto:hgw@@d1906.inka.de">Hans G&uuml;nter Weigand</a>.
<p>
d433 1
a433 1
<small>$OpenBSD: ctm.html,v 1.12 2000/11/17 19:11:33 jufi Exp $</small>
@


1.12
log
@
Syntax checks, most pointed out by Mike Pechkin <mpech@@prosoft.org.lv>
@
text
@d9 1
a9 1
<img alt="CTM for OpenBSD" src=images/bsdctm.gif width=401 height=126>
d18 1
a18 1
cvs-tree if you have a bad internet connection - for instance via modem.
d21 4
a24 2
Ctm uses very low bandwidth for distributing the changes to the
tree, and compresses them using gzip -9.
d32 1
a32 1
One set of differences is called a &quot;delta&quot;.
d35 6
a40 6
You begin with a base set against which later deltas are patched.
To begin using ctm you must grab the latest base set and all deltas
after that; once you have processed those you can process later
deltas you receive on the mailing list. The base sets are split
into pieces of 1400k each for easier downloading over bad lines
and you can even put them onto floppies this way.
d43 13
a55 2
Bases are generated approximately once every 100 relative deltas, so you never
have to grab more than 100 deltas to catch up.
d60 2
a61 3
As mentioned above, the base set contains a full source tree in TAR format,
and is thus quite large.  You must obtain the base set and all relative
deltas up to present via ftp from the site listed below.  Sizes are:
d64 13
a76 10
<li> approximately 115Mb for OpenBSD-cvs
<li> approximately 37Mb for OpenBSD-cvs-x11
<li> approximately 65Mb for OpenBSD-src
<li> approximately 35Mb for OpenBSD-src-x11
<li> approximately 2Mb for OpenBSD-ports
<li> keep in mind that that are compressed sizes - count about five times
     of those sizes for the unpacked files
<li> relative deltas vary from 10k to 100k, and occasionally a couple of Mb
<li> ctm always splits deltas into 100k messages which are reassembled
     automatically
d81 1
a81 1
import of something like binutils, perl, etc.
d89 3
a91 3
   updates to the updates to cvs tree, a list for the source tree, a list
   for the X11 part of both and one for the ports tree plus
   a list for seeing log messages from the ctm delta generator runs.
d94 61
a154 14
<br><br><tt>
For the cvs tree (without the X11 part):<br>
    <b>echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org</b><br>
For the X11 part of the cvs tree:<br>
    <b>echo subscribe OpenBSD-cvs-x11 | mail majordomo@@OpenBSD.org</b><br>
For the source tree (without the X11 part): <br>
    <b>echo subscribe OpenBSD-src | mail majordomo@@OpenBSD.org</b><br>
For the X11 part of the source tree: <br>
    <b>echo subscribe OpenBSD-src-x11 | mail majordomo@@OpenBSD.org</b><br>
For the ports tree: <br>
    <b>echo subscribe OpenBSD-ports-ctm | mail majordomo@@OpenBSD.org</b><br>
For the ctm log list:<br>
    <b>echo subscribe ctm-log | mail majordomo@@OpenBSD.org</b><br>
</tt><br>
d156 5
a160 1
<LI>Wait until you get your first delta.
a161 12
<LI>Unpack and assemble the ctm delta using ctm_rmail.
<br>
<br>
<tt>
    <b>ctm_rmail -p. -d. -b. folder</b>
</tt>
<br><br>
where <b>folder</b> is the mail folder containing the delta mail.
<br>
This will decode the ctm delta and place it in the working directory.
The delta will be a file of the form OpenBSD-XXX.YYYY.gz, where XXX is
either "src" or "cvs", and YYYY is the number of the delta.
d163 5
d169 4
a172 4
<li>Grab the base set from the ftp site below, in the subdirectory 
<b>base/OpenBSD-cvs</b> (for OpenBSD-cvs) or <b>base/OpenBSD-src</b>
(for OpenBSD-src).  Grab all files in that directory, and once you have
them all you can create the base source tree with the following command:
d174 4
a177 5
<br><br>
<tt>
    <b>cd target <br>
    cat /split/OpenBSD-* | tar zxf - <br>
</b></tt><br>
d179 9
a187 2
where <b>split</b> is the directory in which you placed the files you
grabbed.
d190 7
a196 3
It is no longer necessary to keep these files around, if you're sure
you've got a complete tree.  However, be sure to note the number of the
base, before continuing.
d199 4
a202 5
You now need to grab the deltas which have been generated since the base
was generated.  Go to the ftp site below in the subdirectory
<b>OpenBSD-cvs</b> or <b>OpenBSD-src</b> for instance and grab
every file whose number is <it>larger</it> than the number of the
base you used.
d205 1
a205 1
The addresses for the base and deltas are:
d226 2
a227 14
<ul>
<li><b>NOTE:</b> I'm very interested in finding other sites around the world
   that would be interested in mirroring these deltas.
</ul>
<p>

<LI> Run ctm.
<br>
  <br>
  <tt>
     <b>cd target<br>
     ctm -v -v /deltas/OpenBSD-cvs.*</b><br></tt>
where <b>target</b> is the directory where you want your cvs tree to be,
and <b>deltas</b> is where you have stored the deltas.
a228 3
It will take some time to run all of the deltas, but the daily invocations
of <b>ctm_rmail</b> and <b>ctm</b> will not take nearly as long.
</ul>
d230 1
a230 1
<h3>Should I choose the source or cvs tree?</h3>
d233 6
a238 5
This depends on your diskspace, among other factors.  Since ctm doesn't 
yet deal with files which have been modified outside of the ctm process, 
the "better" choice is probably the cvs-tree.  Then you can check out
your working source tree from your cvs-tree, and keep your local mods
in your source tree, leaving only ctm to touch your cvs tree.
d242 2
a243 2
source tree takes about 300Mb or so, but if you have your own cvs tree you
need 400Mb or so for it, <b>plus</b> another 300Mb for the checked out tree.
d246 2
a247 2
This doesn't count the 100Mb or more you will need to do a build (depending
on the architecture).
d258 11
a268 9
Suppose your ctm-updated tree is in <b>/usr/src-ctm</b>, and your real
source tree, the one you make your modifications to and do your builds from,
is in <b>/usr/src</b>.  <b>/usr/src</b> should be initially an empty 
directory.  The following command will set up the union mount:
<br><br>
<tt>
    <b>mount -t union -o -b /usr/src-ctm /usr/src</b>
</tt>
<br><br>
d277 29
a305 25
<br><br>
<tt>
    <b>umount /usr/src <br>
    find /usr/src -type f</b> <br>
</tt>
<br><br>
The commands <b>ls -W</b> and <b>rm -W</b> will be useful too, as objects
named "whiteouts" in /usr/src will also hide files in src-ctm.

<p>
If you get the cvs-tree, you can use the "cvs checkout" command to check
out a source tree from it, and each time you update with ctm you can use
the "cvs update" command to update your source tree.

<br><br>
To get an initial src tree:<br>
<tt>
    <b>cd /usr <br>
    cvs -qd YOUR_CVS_TREE checkout src</b> <br><br>
</tt>
and after each ctm update:<br>
<tt>
    <b>cd /usr/src <br>
    cvs -q update -PAd</b> <br>
</tt>
d309 2
a310 2
Ctm has been in use for over a year for OpenBSD, and for FreeBSD for a
number of years.  Ctm is quite reliable and stable.
d314 2
a315 2
If you have problems with ctm, a good place to start is the FreeBSD 
handbook:
d323 1
a323 8
There are also man pages for all of the ctm utilities included in the
source package.  If you have OpenBSD, you should already have the man
pages, source, and binaries.  If not you can obtain them from the same
ftp site as the deltas below.

<p>
You can also contact the OpenBSD mailing lists or myself if you have 
difficulties with ctm, although my free time tends to be rather limited.
d334 6
a339 6
   <li> <b>echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe OpenBSD-cvs-x11 | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe OpenBSD-src | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe OpenBSD-src-x11 | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe OpenBSD-ports-ctm | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe ctm-log | mail majordomo@@OpenBSD.org</b>
d342 1
a342 2
<li> FTP (for base and relative deltas; and OpenBSD has ctm in the source
     tree, but if you don't have source or binaries, the source is here too):
d346 1
a346 2
         ftp://ctm.OpenBSD.org:/pub/OpenBSD-ctm
	   </a>
d348 1
a348 2
         ftp://ctm.ca.OpenBSD.org:/pub/OpenBSD-ctm
	   </a>
d350 1
a350 2
         ftp://ctm.se.OpenBSD.org:/pub/OpenBSD-ctm
	   </a>
d355 1
a355 1
I will make any important notes and announcements about ctm in:
a361 2
<b>NOTE:</b> If you use ctm for OpenBSD, please send me email so I
know how many people are using it!
d365 1
d367 1
a367 1
     me getting the delta generation running.
d370 2
a371 2
     initially giving me the resources i needed for creating the ctm
     deltas on cvs.OpenBSD.org (now they are generated elsewhere) and
d382 2
a383 2
<li> ... and all the others who contributed indirectly ..
</ul>
d385 1
a385 2
<P>
Good luck!
d387 2
a388 2
<P>
t
a389 1
<HR>
d391 5
a395 2
<ADDRESS><A HREF="mailto:graichen@@OpenBSD.org">Thomas Graichen</A></ADDRESS>
<br>
d402 2
a403 2
</br>
<small>$OpenBSD$</small>
a406 1

@


1.11
log
@Small fixups on $OpenBSD$ tag on bottom of page, make it look more uniform
@
text
@a169 1
or<br><tt>
d349 6
d356 2
a357 5
<P>
<!-- Created: Mon Oct 28 22:20:54 MET 1996 -->
<!-- hhmts start -->
$OpenBSD$
<!-- hhmts end -->
a358 2
</BODY>
</HTML>
@


1.10
log
@new from graichen
@
text
@d354 1
a354 1
  $Id: ctm.html,v 1.9 1998/11/17 01:10:29 espie Exp $
@


1.9
log
@Okay, I couldn't sleep... spelling, repeated words, &amp;
and update ports.html to 1998...
@
text
@d36 3
a38 1
deltas you receive on the mailing list.
d52 8
a59 5
<li> approximately 55Mb for base/OpenBSD-src.XXXX.tar.gz
<li> uncompressed, this is 250M or so
<li> approximately 80Mb for base/OpenBSD-cvs.XXXX.tar.gz
<li> uncompressed, this is 370M or so
<li> relative deltas vary from 10k to 100k, and occasionally a couple of meg
d74 3
a76 3
   updates to the source tree, a list for updates to the cvs tree, a list
   for announcements where I'll post important announcements to ctm users,
   and a list for seeing log messages from the ctm delta generator runs.
d80 5
a84 1
For the source tree: <br>
d86 4
a89 4
For the cvs tree:<br>
    <b>echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org</b><br>
For the announce list:<br>
    <b>echo subscribe ctm-announce | mail majordomo@@OpenBSD.org</b><br>
d111 2
a112 2
<b>base-split/src</b> (for OpenBSD-src) or <b>base-split/cvs</b>
(for OpenBSD-cvs).  Grab all files in that directory, and once you have
d131 4
a134 3
was generated.  Go to the ftp site below in the subdirectory <b>src</b> or
<b>cvs</b> and grab every file whose number is <it>larger</it> than the 
number of the base you used.
d137 7
a143 1
The address of the base and deltas is:
d146 8
a153 2
<li><a href="ftp://ctm.OpenBSD.org:/pub/bsd/CTM/OpenBSD/">
     ftp://ctm.OpenBSD.org:/pub/bsd/CTM/OpenBSD/
d169 1
a169 1
     ctm -v -v /deltas/OpenBSD-src.*</b><br></tt>
d171 1
a171 4
     <b>cd target<br>
     ctm -v -v /deltas/OpenBSD-cvs.*</b><br>
  </tt><br>
where <b>target</b> is the directory where you want your source tree to be,
d189 2
a190 2
source tree takes about 250MB or so, but if you have your own cvs tree you
need 370MB or so for it, <b>plus</b> another 250MB for the checked out tree.
d193 1
a193 1
This doesn't count the 100MB or more you will need to do a build (depending
d282 2
d285 2
a286 2
   <li> <b>echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org</b>
   <li> <b>echo subscribe ctm-announce | mail majordomo@@OpenBSD.org</b>
d294 5
a298 2
   <li> <a href="ftp://ctm.OpenBSD.org:/pub/bsd/CTM/OpenBSD">
         ftp://ctm.OpenBSD.org:/pub/bsd/CTM/OpenBSD
d300 2
a301 2
   <li> <a href="ftp://ftp6.de.FreeBSD.org:/pub/bsd/CTM/OpenBSD">
         ftp://ftp6.de.FreeBSD.org:/pub/bsd/CTM/OpenBSD
a308 1
<li> ctm-announce@@OpenBSD.org
d323 11
a333 5
     giving me the resources i needed for creating the ctm
     deltas on cvs.OpenBSD.org

<li> Wolfram Schneider (wosch@@FreeBSD.org) for setting up the ftp space
     for the deltas on ctm.OpenBSD.org
d354 1
a354 1
  $Id: ctm.html,v 1.8 1998/11/11 16:56:35 deraadt Exp $
@


1.8
log
@move images
@
text
@d39 1
a39 1
Bases are generated once approximate each 100 relative deltas, so you never
d325 1
a325 1
  $Id: ctm.html,v 1.7 1998/06/25 07:16:09 graichen Exp $
@


1.7
log
@split not splitted (my bad english) - noted by Julian Stacey
@
text
@d9 1
a9 1
<img alt="CTM for OpenBSD" src=bsdctm.gif width=401 height=126>
d325 1
a325 1
  $Id: ctm.html,v 1.6 1997/12/01 10:51:03 todd Exp $
@


1.6
log
@spelling
@
text
@d102 1
a102 1
<b>base-splitted/src</b> (for OpenBSD-src) or <b>base-splitted/cvs</b>
d109 1
a109 1
    cat /splitted/OpenBSD-* | tar zxf - <br>
d112 1
a112 1
where <b>splitted</b> is the directory in which you placed the files you
d325 1
a325 1
  $Id: ctm.html,v 1.5 1997/09/04 21:57:18 flipk Exp $
@


1.5
log
@make pretty, add graphic at top -- note for later, make graphic smaller.
@
text
@d21 1
a21 1
Ctm uses very low bandwith for distributing the changes to the
d60 1
a60 1
Larger ctm updates are rare, though, usually occuring only after a major
d182 1
a182 1
filesystem.  If you place your upper and lower layers on separate filesytems
d325 1
a325 1
  $Id$
@


1.4
log
@ftp.cs.tu-berlin.de is now ctm.OpenBSD.org
@
text
@d6 1
a6 1
<BODY>
d8 3
a10 1
<H1>CTM for OpenBSD </H1>
d12 1
a12 2
<P><FONT SIZE=+1>... get the current OpenBSD source- or cvs-tree daily
via email </FONT></P>
d15 4
a18 1
<HR WIDTH="100%"></P>
d20 3
a22 1
<H3>WHAT IS CTM ?</H3>
d24 1
a24 6
<P>ctm is a system which was designed by Poul-Henning Kamp for making all
the changes to the FreeBSD source- and cvs-tree (and some other trees -
like the FreeBSD ports-tree) available on a daily (or multiple time per
day) basis by email. this is a very good way to stay up to date with the
current source- or cvs-tree if you have a bad internet connection - for
instance via modem. </P>
d26 5
a30 2
<P>ctm uses only very low bandwith for distributing the changes to the
tree - and it compresses these differences using gzip -9.</P>
d32 5
a36 1
<H3>HOW DOES IT WORK ?</H3>
d38 3
a40 5
<P>the basic idea of ctm is - that you subscribe to a special mailinglist
to get the daily changes of the OpenBSD source- or cvs-tree and then you'll
get a mail each day containing all the changes to the tree (maybe we increase
the number of ctm files sent per day in the future) - one such set of differences
is called a &quot;delta&quot;.</P>
d42 1
a42 9
<P>if you received your first delta - you have to download all the delta's
until the first delta you received by email - this always starts with a
big - so called &quot;base delta&quot; - which contains the full source
tree you start with. starting from this big one all other deltas only contain
the changes to the tree of the day of the delta generation. to avoid that
you have to get the base delta and then some hundred relative deltas a
new base delta is generated as a startpoint each 100 relative delta's -
so that you always have to get less than hundred relative deltas for starting
ctm :-)</P>
d44 14
a57 1
<H3>HOW MUCH BANDWIDTH DOES CTM USE ?</H3>
d59 3
a61 14
<P>as said above the base delta contains the full source- or cvs-tree so
it is really big - you'll have to get it via ftp from the site below. here
are the sizes of the current base deltas: ~ 45 mbyte for OpenBSD-src.0001.gz
- the base delta for the source-tree ~ 55 mbyte for OpenBSD-cvs.0001.gz
- the base delta for the cvs-tree and the size of the relative deltas vary
from ~ 10 kbyte to ~ 100 kbyte usually and sometimes they are some (1,2
or 3) mbytes - but they are always split into 100 kbyte mails which will
automatically assembled from the ctm-programs - the bigger sizes come from
bigger changes in the source- or cvs-tree (update of the binutils, import
of perl etc.)</P>

<H3>HOW DO I USE CTM ?</H3>

<P>ctm is very simple to use: </P>
d63 1
a63 1
<LI>subscribe to the ctm mailinglist you want</LI>
d66 92
a157 3
<P><TT>echo subscribe OpenBSD-src | mail majordomo@@OpenBSD.org for the
source-tree</TT></P>
</UL>
d159 1
a159 1
<P>or</P>
d161 141
a301 4
<UL>
<P><TT>echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org for the
cvs-tree</TT></P>
</UL>
d303 2
a304 1
<P>you should also subscribe to</P>
d306 2
a307 3
<UL>
<P><TT>echo subscribe ctm-announce | mail majordomo@@OpenBSD.org</TT></P>
</UL>
d309 2
a310 4
<P>on this list i'll post announcements for users of ctm and there is also
a list for somekind of a log of the ctm delta generation - so you can see
what is all in the ctm delta and if the assembling of it succeeded - you
should really subscribe to this list if you use ctm using</P>
d312 2
a313 71
<UL>
<P><TT>echo subscribe ctm-log | mail majordomo@@OpenBSD.org</TT></P>
</UL>

<LI>wait until you get your first delta</LI>

<LI>unpack and assemble the ctm delta using ctm_rmail (for the sources
to all the ctm-programs see below)</LI>

<UL>
<P><TT>ctm_rmail -p. -d. -b. the_mail_folder_containing_the_ctm_delta_mail</TT></P>
</UL>

<P>after that you should have the bare ctm delta there (something like
OpenBSD-cvs.0015.gz or so)</P>

<LI>if you have this - get all the deltas beginning with 0001 up to your
first mail-received one via ftp from ctm.OpenBSD.org:/pub/bsd/CTM/OpenBSD
also known as ftp6.de.FreeBSD.org:/pub/bsd/CTM/OpenBSD for the tree you
subscribed too - i'm very interested in sites all over the world who wan't
to mirror this or want to put up the ctm deltas there too</LI>

<LI>then run ctm (you can get the sources of ctm which should compile at
least on OpenBSD just fine from the same ftp adress - maybe you have to
tweak it a bit for other systems - you may need the libmd from the FreeBSD
sources there eventually)</LI>

<UL>
<P><TT>cd where_you_want_your_source_tree_to_be</TT></P>

<P><TT>ctm -v -v /where_your_ctm_deltas_are_stored/OpenBSD-src.*</TT></P>
</UL>

<P>or</P>

<UL>
<P><TT>cd where_you_want_your_cvs_tree_to_be</TT></P>

<P><TT>ctm -v -v /where_your_ctm_deltas_are_stored/OpenBSD-cvs.*</TT></P>
</UL>

<LI>this will take some time for the base delta - and less time for the
relative ones * now you can run ctm_rmail and ctm on every new ctm delta
to get up to date</LI>

<H3>WHAT SHOULD I CHOOSE - SOURCE- OR CVS-TREE VIA CTM ?</H3>

<P>this simply depends on your diskspace - the better is the cvs-tree -
because you can make modifications to the local checked out copy (ctm can't
yet handle modifications in files it want to update) - but the drawback
is a _lot_ of diskspace - you need currently ~ 240 mbyte for the full cvs-tree
and ~ 200 mbyte for the checked out source tree plus ~ 100 mbyte for the
obj files while &quot;make build&quot; if you have enough space then go
for the cvs-tree - then you simply have to check out a local copy of the
source tree after the first ctm -v -v command using cd /usr cvs -q checkout
-PA src and after each new applied ctm relative delta you have to run cd
/usr cvs -q update -PAd src to get your local copy up to date if you don't
have enough space so you can use ctm for getting the checked out copy of
the source tree - but then you have to think about the handling of local
modifications - at this point someone from the NetBSD people is using a
mixture of null and union mounts and some scripts for doing this - if i
remember right it was something like this /usr/src-local is null mounted
to /usr/src - /usr/src-ctm is union mounted to /usr/src so you have all
local modifications in /usr/src-local and you have to run a script which
does something like for all files in /usr/src-local diff them against the
/usr/src-ctm versions and apply this patch to a fresh ctm applied /usr/src-ctm
tree mounted in the above way against a fresh /usr/src-local directory
the union mount of /usr/src-ctm guaranties that the /usr/src-ctm tree is
not modified which is very importand for the operation of ctm all this
is just a rough idea - all in all - it is doable because someone from the
NetBSD people is definitely doing it in a way close to this one</P>
d315 1
a315 76
<H3>HOW STABLE IS CTM FOR OpenBSD ?</H3>

<P>i will call this now more than a &quot;public beta&quot; state - i'm
using ctm now for more than two months to stay up to date with the OpenBSD
cvs-tree without any problems - and also the FreeBSD people use ctm very
extensively for years know without any major problems i think (i also use
ctm for FreeBSD now for about half a year without any problems) so i think
you really can trust ctm - in the last weeks also some other people used
it and i haven't heard aboutany problems so far</P>

<H3>WHERE CAN I FIND MORE INFORMATION ABOUT CTM FOR OpenBSD ?</H3>

<P>here :-) - but you can take all the information from FreeBSD and you
have the man-pages for the ctm-programs in the ctm source-package there
are some informations about the use and ideas of ctm in the FreeBSD handbook
- which you will find under http://www.FreeBSD.org/handbook/ctm.html</P>

<P>if you have problems with ctm you may also ask me - i'll try to help
you as far as i can and as far as i have enough time (which is a big problem
in the moment)</P>

<H3>OK - IF YOU GOT HERE ...</H3>

<P>... and decided to use ctm from now on - here's the summary of adresses:
mailinglists: </P>

<LI><TT>echo subscribe OpenBSD-src | mail majordomo@@OpenBSD.org</TT></LI>

<LI><TT>echo subscribe OpenBSD-cvs | mail majordomo@@OpenBSD.org</TT></LI>

<LI><TT>echo subscribe ctm-announce | mail majordomo@@OpenBSD.org</TT></LI>

<LI><TT>echo subscribe ctm-log | mail majordomo@@OpenBSD.org</TT></LI>

<P>ftp server:</P>

<LI>ctm.OpenBSD.org:/pub/bsd/CTM/OpenBSD</LI>

<LI>ftp6.de.FreeBSD.org:/pub/bsd/CTM/OpenBSD</LI>

<P>there you'll find the deltas and the sources to ctm (ctm.tar.gz - simply
put it into /usr/src/usr.sbin and it should compile fine under OpenBSD)</P>

<P>i'll also make any importnat notes and announcements about ctm in</P>

<LI>ctm-announce@@OpenBSD.org</LI>

<LI>misc@@OpenBSD.org</LI>

<P>and the big ones in</P>

<LI>announce@@OpenBSD.org</LI>

<P>and pleeese - send me a mail if you use ctm for OpenBSD so that i can
see how many people are using it !</P>

<H3>THANKS ...</H3>

<P>... go to: </P>

<LI>poul-henning kamp (phk@@FreeBSD.org) for making ctm possible and helping
me getting the delta generation running</LI>

<LI>theo de raadt (deraadt@@theos.com) for making OpenBSD possible :-) and
giving me all the ressources i needed for creating the ctm deltas on cvs.OpenBSD.org</LI>

<LI>wolfram schneider (wosch@@FreeBSD.org) for setting up the ftp space
for the deltas on ctm.OpenBSD.org</LI>

<LI>... and all the others who contributed indirectly</LI>

<P>SO - GOOD LUCK WITH CTM FOR OpenBSD wishes</P>

<P>t</P>

<HR></LI>
d318 3
d322 5
a326 2
<P><!-- Created: Mon Oct 28 22:20:54 MET 1996 --><!-- hhmts start -->Last
modified: Mon Oct 28 22:24:34 MET <!-- hhmts end --></P>
@


1.3
log
@correct suscription cmds
@
text
@d105 1
a105 1
first mail-received one via ftp from ftp.cs.tu-berlin.de:/pub/bsd/CTM/OpenBSD
d196 1
a196 1
<LI>ftp.cs.tu-berlin.de:/pub/bsd/CTM/OpenBSD</LI>
d227 1
a227 1
for the deltas on ftp.cs.tu-berlin.de</LI>
@


1.2
log
@Updated WWW pages including a much prettier index.html and more uniform headers of various files.
@
text
@d186 1
a186 1
<LI><TT>echo subscribe OpenBSD-src | majordomo@@OpenBSD.org</TT></LI>
d188 1
a188 1
<LI><TT>echo subscribe OpenBSD-cvs | majordomo@@OpenBSD.org</TT></LI>
d190 1
a190 1
<LI><TT>echo subscribe ctm-announce | majordomo@@OpenBSD.org</TT></LI>
d192 1
a192 1
<LI><TT>echo subscribe ctm-log | majordomo@@OpenBSD.org</TT></LI>
@


1.1
log
@add some info about the "ctm way of keeping up to date with the sources"
@
text
@d18 1
a18 1
<P>ctm is a system which was designed by poul-henning kamp for making all
@
