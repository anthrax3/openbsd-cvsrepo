head	1.30;
access;
symbols
	OPENBSD_6_2:1.30.0.2
	OPENBSD_6_2_BASE:1.30
	OPENBSD_6_1:1.29.0.6
	OPENBSD_6_1_BASE:1.29
	OPENBSD_6_0:1.29.0.4
	OPENBSD_6_0_BASE:1.29
	OPENBSD_5_9:1.29.0.2
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.28.0.8
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.28.0.4
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.28.0.2
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.27.0.4
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.26.0.6
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.26.0.4
	OPENBSD_5_2_BASE:1.26
	OPENBSD_5_1_BASE:1.26
	OPENBSD_5_1:1.26.0.2
	OPENBSD_5_0:1.23.0.4
	OPENBSD_5_0_BASE:1.23
	OPENBSD_4_9:1.23.0.2
	OPENBSD_4_9_BASE:1.23
	OPENBSD_4_8:1.21.0.2
	OPENBSD_4_8_BASE:1.21
	OPENBSD_4_7:1.20.0.2
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.19.0.2
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.17.0.4
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.17.0.2
	OPENBSD_4_4_BASE:1.17
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.10.0.2
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.9.0.4
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.2
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.6.0.6
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.6.0.4
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.2
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.5.0.2
	OPENBSD_3_3_BASE:1.5
	OPENBSD_3_2:1.4.0.2
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.1.1.1.0.2
	OPENBSD_3_0_BASE:1.1.1.1
	kevlo_2001-Sep-14:1.1.1.1
	kevlo:1.1.1;
locks; strict;
comment	@# @;


1.30
date	2017.04.21.13.27.46;	author kurt;	state Exp;
branches;
next	1.29;
commitid	lfz5IYSiUvvvq1Ub;

1.29
date	2015.11.24.09.11.05;	author jasper;	state Exp;
branches;
next	1.28;
commitid	x9aAifyKiYiivEom;

1.28
date	2014.05.07.15.42.16;	author kurt;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.11.11.12.34;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2011.09.16.10.02.39;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2011.09.06.16.58.30;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2011.08.30.17.16.36;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2010.11.17.08.05.17;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.10.24.21.06.28;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2010.05.01.13.28.47;	author ian;	state Exp;
branches;
next	1.20;

1.20
date	2009.11.09.11.03.26;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2009.04.26.09.38.25;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2009.03.11.23.22.48;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2008.06.24.02.46.21;	author kurt;	state Exp;
branches;
next	1.16;

1.16
date	2008.03.26.13.07.04;	author sturm;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.16.00.29.15;	author merdely;	state Exp;
branches;
next	1.14;

1.14
date	2007.06.18.15.50.16;	author ian;	state Exp;
branches;
next	1.13;

1.13
date	2007.04.15.23.08.22;	author ian;	state Exp;
branches;
next	1.12;

1.12
date	2007.01.16.02.48.02;	author kurt;	state Exp;
branches;
next	1.11;

1.11
date	2006.11.01.20.47.41;	author kurt;	state Exp;
branches;
next	1.10;

1.10
date	2006.08.10.18.26.23;	author kurt;	state Exp;
branches;
next	1.9;

1.9
date	2005.06.17.21.50.43;	author kurt;	state Exp;
branches;
next	1.8;

1.8
date	2005.03.15.22.46.21;	author kurt;	state Exp;
branches;
next	1.7;

1.7
date	2005.01.07.19.06.52;	author kurt;	state Exp;
branches;
next	1.6;

1.6
date	2003.07.18.05.20.30;	author kevlo;	state Exp;
branches;
next	1.5;

1.5
date	2002.10.27.01.02.17;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2002.05.13.23.31.24;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2002.03.21.20.57.09;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.11.13.22.13.23;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.14.05.58.19;	author kevlo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.09.14.05.58.19;	author kevlo;	state Exp;
branches;
next	;


desc
@@


1.30
log
@- disconnect devel/jdk/1.7 from the build
- adjust java.port.mk so all 1.7 and lower ports now build with 1.8
- bump revision on affected ports
okay sthen@@, ian@@, landry@@
@
text
@# $OpenBSD: Makefile,v 1.29 2015/11/24 09:11:05 jasper Exp $

COMMENT=	regression testing utility for use with the Java language

VERSION=	4.9
DISTNAME=	junit${VERSION}
REVISION=	2
PKGNAME=	junit-${VERSION}

CATEGORIES=	devel

HOMEPAGE=	http://www.junit.org/

MAINTAINER=	Ian Darwin <ian@@openbsd.org>

# Common Public License - v1.0
# Commercial distribution defend and indemnify clauses
PERMIT_PACKAGE_CDROM=	No
PERMIT_PACKAGE_FTP=	Yes

# github is bad for getting reliable distfiles from.
MASTER_SITES=	https://distfiles.nl/
EXTRACT_SUFX=	.zip

MODULES=	java
MODJAVA_VER=	1.6+
MODJAVA_JRERUN=	yes

NO_BUILD=	Yes
NO_TEST=	Yes

JAR_DIR=	${PREFIX}/share/java/classes/junit/
DOC_DIR=	${PREFIX}/share/java/junit/

do-install:
	${INSTALL_DATA_DIR} ${JAR_DIR} ${DOC_DIR}
	${INSTALL_DATA} ${WRKSRC}/README.html ${DOC_DIR}
	${INSTALL_DATA} ${WRKSRC}/cpl-v10.html ${DOC_DIR}
	cp ${WRKSRC}/junit-${VERSION}.jar ${JAR_DIR}/junit.jar
	cp ${WRKSRC}/junit-${VERSION}-src.jar ${JAR_DIR}/junit-src.jar
	cp -R ${WRKSRC}/doc ${DOC_DIR}
	cp -R ${WRKSRC}/javadoc ${DOC_DIR}

.include <bsd.port.mk>
@


1.29
log
@switch distfiles.nl to SSL, setup with security/letsencrypt/client
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/05/07 15:42:16 kurt Exp $
d7 1
a7 1
REVISION=	1
@


1.28
log
@- Unlink jdk/1.6 and make jdk/1.7 the default jdk for all java ports
- Adjust java.port.mk and cmake to use 1.7
- Adjust jdk/1.7 for pkg_add upgrades
okay sthen@@, jasper@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/11 11:12:34 espie Exp $
d22 1
a22 1
MASTER_SITES=	http://distfiles.nl/
@


1.27
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/09/16 10:02:39 espie Exp $
d7 1
a7 1
REVISION=		0
@


1.26
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/09/06 16:58:30 jasper Exp $
a19 2
PERMIT_DISTFILES_CDROM=	No
PERMIT_DISTFILES_FTP=	Yes
d30 1
a30 1
NO_REGRESS=	Yes
@


1.25
log
@- update junit to 4.9
* install into non-versioned dir

Amit Kulkarni came up with a similar diff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/08/30 17:16:36 jasper Exp $
d7 1
@


1.24
log
@- bump REVISION after recent java.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/11/17 08:05:17 espie Exp $
d5 1
a5 1
VERSION=	3.8.2
d8 1
a8 5
REVISION=	7
# INSTALLDIR must not be set to ${PKGNAME}. Doing so will break
# the regress target in dependant ports if the patch level is bumped.
INSTALLDIR=	junit-${VERSION}
SUBST_VARS+=	INSTALLDIR
d13 1
a13 1
MAINTAINER=		Ian Darwin <ian@@openbsd.org>
d22 3
a24 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=junit/}
EXTRACT_SUFX=	.zip 
d27 1
a27 1
MODJAVA_VER=	1.4+
d30 2
a31 3
BUILD_DEPENDS=	devel/apache-ant

MAKE_ENV=	JAVA_HOME=${JAVA_HOME}
d33 2
a34 6
post-extract:
		cp ${FILESDIR}/build.xml ${WRKDIST}

do-build:
		@@cd ${WRKDIST} && exec ${SETENV} ${MAKE_ENV} ant -q \
		-Dant.build.javac.source="1.4" -Dant.build.javac.target="1.4"
d37 7
a43 10
	${INSTALL_DATA_DIR} ${PREFIX}/share/java/classes/${INSTALLDIR}
	${INSTALL_DATA_DIR} ${PREFIX}/share/java/${INSTALLDIR}
	${INSTALL_DATA} ${WRKSRC}/README.html ${PREFIX}/share/java/${INSTALLDIR}
	${INSTALL_DATA} ${WRKSRC}/cpl-v10.html ${PREFIX}/share/java/${INSTALLDIR}
	cp ${WRKSRC}/*.jar ${PREFIX}/share/java/classes/${INSTALLDIR}
	cp -R ${WRKSRC}/doc ${PREFIX}/share/java/${INSTALLDIR}
	cp -R ${WRKSRC}/javadoc ${PREFIX}/share/java/${INSTALLDIR}

do-regress:
	${JAVA_HOME}/bin/java -cp ${WRKSRC}/build junit.tests.AllTests
d45 1
a45 1
.include <bsd.port.mk> 
@


1.23
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/10/24 21:06:28 sthen Exp $
d8 1
a8 1
REVISION=	6
d13 1
a13 1
CATEGORIES=	java devel
@


1.22
log
@new lib_depends/revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/05/01 13:28:47 ian Exp $
d33 1
a33 1
BUILD_DEPENDS=	:apache-ant-*:devel/apache-ant
@


1.21
log
@Remove patchlevel from INSTALLDIR to avoid breaking dependent ports,
such as geo/jeoip. From Daniel Dickman - thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/11/09 11:03:26 sthen Exp $
d7 2
a8 1
PKGNAME=	junit-${VERSION}p6
@


1.20
log
@bump following java.port.mk change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/04/26 09:38:25 sthen Exp $
d7 4
a10 2
PKGNAME=	junit-${VERSION}p5
INSTALLDIR=	${PKGNAME}
@


1.19
log
@pkgname bumps following java.port.mk r1.18, pointed out by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/03/11 23:22:48 sthen Exp $
d7 1
a7 1
PKGNAME=	junit-${VERSION}p4
@


1.18
log
@bump pkgname following java dep change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/06/24 02:46:21 kurt Exp $
d7 1
a7 1
PKGNAME=	junit-${VERSION}p3
@


1.17
log
@Bump PKGNAME due to RUN_DEPENDS change caused by 1.3 and 1.4 jdk
depreciations.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/03/26 13:07:04 sturm Exp $
d7 1
a7 1
PKGNAME=	junit-${VERSION}p2
@


1.16
log
@missing PKGNAME bumps after java.port.mk changes

noticed by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/16 00:29:15 merdely Exp $
d7 1
a7 1
PKGNAME=	junit-${VERSION}p1
@


1.15
log
@Remove surrounding quotes in COMMENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/06/18 15:50:16 ian Exp $
d7 1
a7 1
PKGNAME=	junit-${VERSION}p0
@


1.14
log
@Unbreak bulk builds on macppc by correcting MODJAVA_VER to 1.4, since
the code obviously depends on 1.4, bump pkg. Discussed with ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/04/15 23:08:22 ian Exp $
d3 1
a3 1
COMMENT=	"regression testing utility for use with the Java language"
@


1.13
log
@Upgrade from 3.8.1 to 3.8.2. Convert from "download binary Java code" to
normal build port. Take maintainership, suggested by previous maintainer kevlo.
Be more cautious with license (CPL).  ok kurt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/01/16 02:48:02 kurt Exp $
d7 1
a7 1
PKGNAME=	junit-${VERSION}
d27 1
a27 1
MODJAVA_VER=	1.3+
d39 1
a39 1
		-Dant.build.javac.source="1.3" -Dant.build.javac.target="1.3"
@


1.12
log
@bump pkg due to java.port.mk change in RUN_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/11/01 20:47:41 kurt Exp $
d5 1
a5 1
VERSION=	3.8.1
d7 4
a10 3
INSTALLDIR=	junit-${VERSION}
PKGNAME=	${INSTALLDIR}p3
CATEGORIES=	java
d14 1
a14 1
MAINTAINER=	Kevin Lo <kevlo@@openbsd.org>
d16 6
a21 4
PERMIT_PACKAGE_CDROM=  Yes
PERMIT_PACKAGE_FTP=    Yes
PERMIT_DISTFILES_CDROM=Yes
PERMIT_DISTFILES_FTP=  Yes
d30 10
a39 2
NO_BUILD=	Yes
NO_REGRESS=	Yes
d49 3
a51 1
	cp -R ${WRKSRC}/junit ${PREFIX}/share/java/${INSTALLDIR}
@


1.11
log
@pkg bump due to depends change in java.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/08/10 18:26:23 kurt Exp $
d8 1
a8 1
PKGNAME=	${INSTALLDIR}p2
@


1.10
log
@pkg bump all 1.3 and 1.4 java ports that haven't been yet since the
java.port.mk changes. okay naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/06/17 21:50:43 kurt Exp $
d8 1
a8 1
PKGNAME=	${INSTALLDIR}p1
@


1.9
log
@- begin using java MODULE
- bump pkgname
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/03/15 22:46:21 kurt Exp $
d8 1
a8 1
PKGNAME=	${INSTALLDIR}p0
@


1.8
log
@- put back ONLY_FOR_ARCHS=i386 to avoid packages being built on !i386
  (the jvm as a RUN_DEPEND is not enough to prevent packages from being
   created)

okay naddy@@
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.7 2005/01/07 19:06:52 kurt Exp $

# Requires a JVM
ONLY_FOR_ARCHS=	i386
a4 1
JDK_VERSION=	1.3.1-linux
d7 2
a8 1
PKGNAME=	junit-${VERSION}
d23 3
a25 1
RUN_DEPENDS=	:jdk*->1.3:devel/jdk/1.3-linux
d31 8
a38 8
	${INSTALL_DATA_DIR} ${PREFIX}/share/java/classes/${PKGNAME}
	${INSTALL_DATA_DIR} ${PREFIX}/share/java/${PKGNAME}
	${INSTALL_DATA} ${WRKSRC}/README.html ${PREFIX}/share/java/${PKGNAME}
	${INSTALL_DATA} ${WRKSRC}/cpl-v10.html ${PREFIX}/share/java/${PKGNAME}
	cp ${WRKSRC}/*.jar ${PREFIX}/share/java/classes/${PKGNAME}
	cp -R ${WRKSRC}/doc ${PREFIX}/share/java/${PKGNAME}
	cp -R ${WRKSRC}/javadoc ${PREFIX}/share/java/${PKGNAME}
	cp -R ${WRKSRC}/junit ${PREFIX}/share/java/${PKGNAME} 
@


1.7
log
@- remove ONLY_FOR_ARCHS. its the jdk's that prevent this from running
on other archs.
- change RUN_DEPENDS to allow port to resolve to native 1.3 and above,
keeping 1.3-linux as default.

ok kevlo@@
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.6 2003/07/18 05:20:30 kevlo Exp $
@


1.6
log
@update to 3.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/10/27 01:02:17 naddy Exp $
a4 2
ONLY_FOR_ARCHS=	i386

d23 1
a23 1
RUN_DEPENDS=	:jdk-linux->1.3:devel/jdk/1.3-linux
@


1.5
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/05/13 23:31:24 espie Exp $
d7 2
a8 2
JDK_VERSION=	1.2-blackdown
VERSION=	3.7
d25 1
a25 1
RUN_DEPENDS=	::devel/jdk/1.2-blackdown
d34 1
@


1.4
log
@More MASTER_SITES_SUBDIR out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/03/21 20:57:09 espie Exp $
a11 1
NEED_VERSION=	1.515
d28 1
@


1.3
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/11/13 22:13:23 espie Exp $
d23 1
a23 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR=	junit
@


1.2
log
@Kill remaining RUN_DEPENDS/BUILD_DEPENDS first parters.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/09/14 05:58:19 kevlo Exp $
d12 1
a12 1
NEED_VERSION=	1.496
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d12 1
a12 1
NEED_VERSION=	1.454
d27 1
a27 1
RUN_DEPENDS=	${LOCALBASE}/jdk${JDK_VERSION}/bin/java::devel/jdk/1.2-blackdown
@


1.1.1.1
log
@Initial import of junit-3.7.

JUnit is a simple framework to write repeatable tests.
It is an instance of the xUnit architecture for unit testing frameworks.
It will help you measure your progress, spot unintended side effects,
and focus your development efforts.
@
text
@@
