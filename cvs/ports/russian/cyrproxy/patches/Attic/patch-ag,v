head	1.2;
access;
symbols
	OPENBSD_3_0:1.1.1.1.0.8
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	OPENBSD_2_9:1.1.1.1.0.6
	OPENBSD_2_9_BASE:1.1.1.1
	OPENBSD_2_8:1.1.1.1.0.4
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.2
	OPENBSD_2_7_BASE:1.1.1.1
	form_2000-Jan26:1.1.1.1
	form:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2001.11.27.10.06.50;	author form;	state dead;
branches;
next	1.1;

1.1
date	2000.01.26.07.35.48;	author form;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.01.26.07.35.48;	author form;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Master site is alive.
New distfile.
md5 -> distinfo.
rename patches.
@
text
@--- com_gw.c.orig	Sat May  3 20:57:20 1997
+++ com_gw.c	Mon Dec 21 21:19:58 1998
@@@@ -169,7 +169,7 @@@@
   int  cnt = 0; \
   while(cnt < ENTLEN && *from && *from!=';' && !isspace(*from)) \
      {\
-	*to++=*str++;\
+	*to++=*from++;\
         cnt++;\
      }\
      *to='\0';\
@@@@ -222,12 +222,15 @@@@
     if(!strncasecmp(buf,"Content-Type:",13))
       {
 	parseContentType(buf+13,ctype,ocharset,garbage);
-	fprintf(stderr,"Content: %s, charset: %s\n",ctype,ocharset);
+// if enabled, crushes into the mail - mailers get crazy
+// fprintf(stderr,"Content: %s, charset: %s\n",ctype,ocharset);
 	if(!strcasecmp(ctype,"text/plain") && strcasecmp(ocharset,"us-ascii")
 	   && strlen(garbage)==0)
 	  {
-	    fprintf(stderr,"Content: %s, charset: %s\n",ctype,ocharset);
-	    sprintf(buf,"Content-Type: text/plain; charset=%s\n",charset);
+// if enabled, crushes into the mail - mailers get crazy
+//   fprintf(stderr,"Content: %s, charset: %s\n",ctype,ocharset);
+// not everyone lives in the UNIX world... \r is still needed :)
+	    sprintf(buf,"Content-Type: text/plain; charset=%s\r\n",charset);
 	    blen = strlen(buf);
 	  }
       }
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@cyrproxy 1.4.2, cyrillic transcoder for network protocols.
@
text
@@
