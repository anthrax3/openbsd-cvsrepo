head	1.4;
access;
symbols
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	sthen_20100917:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2011.12.09.20.11.00;	author sthen;	state dead;
branches;
next	1.3;

1.3
date	2011.10.03.06.42.46;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.09.18.09.32.25;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2010.09.17.21.37.19;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.09.17.21.37.19;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.4
log
@slightly overdue update of darktable to 0.9.3 - lots of improvements
and fixes since the previous version in ports
@
text
@$OpenBSD: patch-configure,v 1.3 2011/10/03 06:42:46 ajacoutot Exp $

Fix DATADIRNAME: see LOCALBASE/share/aclocal/glib-gettext.m4.

--- configure.orig	Sat Aug 28 21:42:08 2010
+++ configure	Sun Oct  2 09:06:00 2011
@@@@ -5126,6 +5126,9 @@@@ else
 fi
 
     ;;
+    *-*-openbsd*)
+    DATADIRNAME=share
+    ;;
     *)
     DATADIRNAME=lib
     ;;
@@@@ -18856,7 +18859,7 @@@@ if test "${ac_cv_lib_lcms_cmsOpenProfileFromFile+set}"
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-llcms  $LIBS"
+LIBS="-llcms -lm $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@


1.3
log
@Set DATADIRNAME in a consistent way now that glib-gettext.m4 has been
fixed.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2010/09/18 09:32:25 sthen Exp $
@


1.2
log
@pkg-config now advertises 0.22, so there's no need for half of this patch.
no package change -> no bump.
@
text
@d1 17
a17 4
$OpenBSD: patch-configure,v 1.1.1.1 2010/09/17 21:37:19 sthen Exp $
--- configure.orig	Thu Sep 16 21:49:49 2010
+++ configure	Thu Sep 16 22:16:15 2010
@@@@ -18856,7 +18856,7 @@@@ if test "${ac_cv_lib_lcms_cmsOpenProfileFromFile+set}"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
a3 9
@@@@ -16971,7 +16971,7 @@@@ fi
 
 fi
 if test -n "$PKG_CONFIG"; then
-	_pkg_min_version=0.22
+	_pkg_min_version=0.21
 	{ $as_echo "$as_me:${as_lineno-$LINENO}: checking pkg-config is at least version $_pkg_min_version" >&5
 $as_echo_n "checking pkg-config is at least version $_pkg_min_version... " >&6; }
 	if $PKG_CONFIG --atleast-pkgconfig-version $_pkg_min_version; then
@


1.1.1.1
log
@import ports/graphics/darktable, thanks ajacoutot@@ for review+fixes.

darktable is a virtual lighttable and darkroom for photographers:
it manages your digital negatives in a database and lets you view
them through a zoomable lighttable. It also enables you to develop
raw images and enhance them. It tries to fill the gap between the
many excellent existing free raw converters and image management
tools (such as ufraw or f-spot).

All editing is fully non-destructive and only operates on cached
image buffers for display. The full image is only converted during
export. Raw files, high-dynamic range and standard image formats
such as jpeg are all supported. The core operates completely on
floating point values, so darktable can not only be used for
photography but also for scientifically acquired images or output
of renderers (high dynamic range).
@
text
@@
