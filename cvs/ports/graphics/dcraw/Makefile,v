head	1.26;
access;
symbols
	OPENBSD_6_1:1.26.0.2
	OPENBSD_6_1_BASE:1.26
	OPENBSD_6_0:1.25.0.4
	OPENBSD_6_0_BASE:1.25
	OPENBSD_5_9:1.25.0.2
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.24.0.4
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.23.0.2
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.20.0.2
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.18.0.4
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.18.0.2
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.16.0.4
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.16.0.2
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.4
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.11.0.10
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.11.0.8
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.11.0.6
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.4
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.11.0.2
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.10.0.2
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.8.0.4
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.3.0.2
	OPENBSD_3_8_BASE:1.3
	sturm_20050407:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2016.09.03.10.22.00;	author sthen;	state Exp;
branches;
next	1.25;
commitid	SUC5FZhnaP96cEJG;

1.25
date	2015.10.21.13.18.44;	author sthen;	state Exp;
branches;
next	1.24;
commitid	nNvBEeJg1fv9dtnH;

1.24
date	2015.05.31.06.40.35;	author kirby;	state Exp;
branches;
next	1.23;
commitid	kN5YxTGGy4jES4IO;

1.23
date	2015.02.16.22.57.08;	author naddy;	state Exp;
branches
	1.23.2.1;
next	1.22;
commitid	0dx3c9ckf7dE4tx1;

1.22
date	2015.02.11.20.24.38;	author sthen;	state Exp;
branches;
next	1.21;
commitid	Fj0hevXbI69cjvFT;

1.21
date	2015.02.10.15.33.57;	author sthen;	state Exp;
branches;
next	1.20;
commitid	5U6WHhX65k0lYKuz;

1.20
date	2014.03.13.10.06.08;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2014.03.09.21.57.06;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2013.05.28.13.49.38;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.11.11.10.52;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2012.03.29.13.38.31;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2011.03.06.11.42.36;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.17.08.05.13;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.18.18.13.13;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.09.21.10.29.09;	author sthen;	state Exp;
branches;
next	1.11;

1.11
date	2008.06.06.13.20.19;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2008.02.14.23.06.19;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.15.20.09.40;	author simon;	state Exp;
branches;
next	1.8;

1.8
date	2006.12.19.10.49.19;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.11.04.19.19.15;	author kili;	state Exp;
branches;
next	1.6;

1.6
date	2006.08.02.10.10.35;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2006.06.11.04.12.48;	author hugh;	state Exp;
branches;
next	1.4;

1.4
date	2005.09.27.08.24.22;	author alek;	state Exp;
branches;
next	1.3;

1.3
date	2005.06.18.18.14.49;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2005.05.03.17.47.59;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2005.04.07.21.36.31;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.04.07.21.36.31;	author sturm;	state Exp;
branches;
next	;

1.23.2.1
date	2015.06.01.07.51.22;	author jasper;	state Exp;
branches;
next	;
commitid	HLsBt1IdEJ66zClb;


desc
@@


1.26
log
@update to dcraw-9.27.0
@
text
@# $OpenBSD: Makefile,v 1.25 2015/10/21 13:18:44 sthen Exp $

COMMENT =	digital camera RAW format conversion tool

DISTNAME =	dcraw-9.27.0
CATEGORIES =	graphics

HOMEPAGE =	http://www.cybercom.net/~dcoffin/dcraw/

MASTER_SITES =	http://cybercom.net/~dcoffin/dcraw/archive/

# Some code is completely free, some is under the GPL
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =	c jasper jpeg lcms2 m

LIB_DEPENDS =	graphics/jasper \
		graphics/jpeg \
		graphics/lcms2

NO_TEST =	Yes
SEPARATE_BUILD = Yes

WRKDIST =	${WRKDIR}/dcraw

do-build:
	${CC} ${CFLAGS} -c -o ${WRKBUILD}/dcraw.o -I${PREFIX}/include \
		${WRKSRC}/dcraw.c
	${CC} ${CFLAGS} -o ${WRKBUILD}/dcraw -ljpeg -lm -llcms2 -ljasper \
		-L${PREFIX}/lib ${WRKBUILD}/dcraw.o

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/dcraw ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/dcraw.1 ${PREFIX}/man/man1

.include <bsd.port.mk>
@


1.25
log
@update to dcraw-9.26.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/05/31 06:40:35 kirby Exp $
d5 1
a5 1
DISTNAME =	dcraw-9.26.0
d15 1
a15 1
WANTLIB =	c jasper jpeg lcms2 m pthread
@


1.24
log
@fix CVE-2015-3885 for embedded dcraw.
reported by Sevan / Venture37 on ports@@, thanks
switch to new distfile which is available from MASTER_SITES and contains
no win32 binary
looks ok to kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/02/16 22:57:08 naddy Exp $
d5 1
a5 2
DISTNAME =	dcraw-9.23.0
REVISION =	1
@


1.23
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/02/11 20:24:38 sthen Exp $
d5 2
a6 2
DISTNAME =	dcraw-9.23
REVISION =	0
@


1.23.2.1
log
@Security fixes for CVE-2015-3885
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/05/31 06:40:35 kirby Exp $
d5 2
a6 2
DISTNAME =	dcraw-9.23.0
REVISION =	1
@


1.22
log
@As reported by naddy, the dcraw distfile was re-rolled. Update distinfo;
diff shows a code change (adding a lenovo smartphone) so bump REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/02/10 15:33:57 sthen Exp $
a23 1
USE_GROFF =	Yes
@


1.21
log
@update to dcraw-9.23
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/03/13 10:06:08 sthen Exp $
d6 1
@


1.20
log
@Upstream now wants lcms2; update deps and linkage. Build problem reported
by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/03/09 21:57:06 sthen Exp $
d5 1
a5 2
DISTNAME =	dcraw-9.20
REVISION =	0
d15 1
a15 1
WANTLIB =	c jasper jpeg lcms2 m
@


1.19
log
@update to dcraw 9.20
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/05/28 13:49:38 sthen Exp $
d6 1
d16 1
a16 1
WANTLIB =	c jasper jpeg lcms m
d20 1
a20 1
		graphics/lcms
d31 1
a31 1
	${CC} ${CFLAGS} -o ${WRKBUILD}/dcraw -ljpeg -lm -llcms -ljasper \
@


1.18
log
@update to dcraw 9.17
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/11 11:10:52 espie Exp $
d5 1
a5 1
DISTNAME =	dcraw-9.17
@


1.17
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/03/29 13:38:31 sthen Exp $
d5 1
a5 1
DISTNAME =	dcraw-9.06
d15 1
a15 1
WANTLIB =	c jpeg lcms m
d17 2
a18 1
LIB_DEPENDS =	graphics/jpeg \
d30 2
a31 2
	${CC} ${CFLAGS} -o ${WRKBUILD}/dcraw -ljpeg -lm -llcms -L${PREFIX}/lib \
		${WRKBUILD}/dcraw.o
@


1.16
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/03/06 11:42:36 sthen Exp $
a13 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d20 1
a20 1
NO_REGRESS =	Yes
@


1.15
log
@update dcraw to 9.06, supporting 42 additional cameras including
EOS 60D, NIKON D3100/D7000, PENTAX K-r/K-5/645D
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/17 08:05:13 espie Exp $
d24 1
a24 1
SEPARATE_BUILD = simple
@


1.14
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/18 18:13:13 espie Exp $
d5 1
a5 1
DISTNAME =	dcraw-9.04
@


1.13
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/09/21 10:29:09 sthen Exp $
d20 2
a21 2
LIB_DEPENDS =	::graphics/jpeg \
		::graphics/lcms
@


1.12
log
@update to 9.04 and drop strl* patches which are difficult to maintain,
and this code is already present several other times in the ports tree
unpatched. jasper@@ has no objections to dropping strl* patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/06/06 13:20:19 sthen Exp $
d25 1
@


1.11
log
@update to 8.86:

- don't crash on corrupt CR2 files
- extract largest JPEG from X3F files
- new DNG matrices
- support new cameras from Canon, Fuji, Hasselblad, Nikon, Nokia,
Olympus, Panasonic, Pentax, Sony

from brad, "go for it" okan
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/02/14 23:06:19 sthen Exp $
d5 1
a5 1
DISTNAME =	dcraw-8.86
a10 3
	
LIB_DEPENDS =	jpeg.>=6::graphics/jpeg \
		lcms::graphics/lcms
d18 4
a21 1
WANTLIB =	c m
@


1.10
log
@update dcraw to 8.81, supporting newer cameras.
ok okan (and also for a previous 8.80 update which I slacked on)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/09/15 20:09:40 simon Exp $
d5 1
a5 1
DISTNAME =	dcraw-8.81
d24 1
a24 1
SEPARATE_BUILD =simple
@


1.9
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/12/19 10:49:19 espie Exp $
d3 1
a3 1
COMMENT=	digital camera RAW format conversion tool
d5 2
a6 3
DISTNAME=	dcraw-8.19
PKGNAME=	${DISTNAME}p0
CATEGORIES=	graphics
d8 1
a8 1
HOMEPAGE=	http://www.cybercom.net/~dcoffin/dcraw/
d10 1
a10 1
MASTER_SITES=	http://www.oxide.org/dcraw/${DISTNAME}/
d12 2
a13 2
DISTFILES=	dcraw.c dcraw.1
DIST_SUBDIR=	${DISTNAME}
d15 7
a21 1
LIB_DEPENDS=	jpeg.>=6::graphics/jpeg
d23 4
a26 14
# Some code is completely free, some is under the GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

WANTLIB=	c m

NO_REGRESS=	Yes
SEPARATE_BUILD=	simple

do-extract:
	mkdir ${WRKSRC}
	cp ${DISTDIR}/${DIST_SUBDIR}/dcraw.c ${WRKSRC}
d30 2
a31 2
		-DNO_LCMS ${WRKSRC}/dcraw.c
	${CC} ${CFLAGS} -o ${WRKBUILD}/dcraw -ljpeg -lm -L${PREFIX}/lib \
d36 1
a36 1
	${INSTALL_MAN} ${DISTDIR}/${DIST_SUBDIR}/dcraw.1 ${PREFIX}/man/man1
@


1.8
log
@Bruno no longer has time to maintain this regularly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/11/04 19:19:15 kili Exp $
d3 1
a3 1
COMMENT=	"digital camera RAW format conversion tool"
@


1.7
log
@Avoid references to PKGNAME.
Remove noops like WRKDIST=${WRKDIR}/${DISTNAME}.
Drop DIST_SUBDIR where appropriate.

Problem mentioned by naddy.
Some simplifications and ok, steven.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/08/02 10:10:35 espie Exp $
d6 1
a16 2

MAINTAINER=	Bruno Rohee <rohee@@openbsd.org>
@


1.6
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/06/11 04:12:48 hugh Exp $
d5 1
a5 1
PKGNAME=	dcraw-8.19
d10 1
a10 1
MASTER_SITES=	http://www.oxide.org/dcraw/${PKGNAME}/
d13 1
a13 1
DIST_SUBDIR=	${PKGNAME}
d31 1
@


1.5
log
@Update dcraw; ok sturm, rohee
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/09/27 08:24:22 alek Exp $
d15 1
a15 1
LIB_DEPENDS=	jpeg.6.::graphics/jpeg
@


1.4
log
@Update to 7.65

From rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/06/18 18:14:49 sturm Exp $
d5 1
a5 1
PKGNAME=	dcraw-7.65
d10 1
a10 1
MASTER_SITES=	http://bruno.rohee.free.fr/dcraw/${PKGNAME}/
d35 1
a35 1
		${WRKSRC}/dcraw.c
@


1.3
log
@update to dcraw 7.30 and support even more cameras

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/05/03 17:47:59 sturm Exp $
d5 1
a5 1
PKGNAME=	dcraw-7.30
d10 2
a11 2
MASTER_SITES=	${HOMEPAGE} \
		http://bruno.rohee.free.fr/dcraw/${PKGNAME}/
@


1.2
log
@udate to dcraw 7.17, adding support for Nikon D2x NEF files

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/04/07 21:36:31 sturm Exp $
d5 1
a5 1
PKGNAME=	dcraw-7.17
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
PKGNAME=	dcraw-7.12
@


1.1.1.1
log
@Initial import of dcraw 7.12

dcraw permits converting most digital cameras RAW format file to JPEG
in a better way than the in-camera function.

from rohee@@
@
text
@@
