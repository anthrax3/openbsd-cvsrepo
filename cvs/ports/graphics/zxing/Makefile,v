head	1.9;
access;
symbols
	OPENBSD_6_1:1.6.0.2
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.12
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.8
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	bentley_20120403:1.1.1.1
	bentley:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2017.07.23.09.26.27;	author espie;	state Exp;
branches;
next	1.8;
commitid	FZPR2Emws5uDqXzb;

1.8
date	2017.07.16.19.18.57;	author espie;	state Exp;
branches;
next	1.7;
commitid	tt0GhWK5c4uf9ILG;

1.7
date	2017.04.10.11.46.21;	author sthen;	state Exp;
branches;
next	1.6;
commitid	BLsh88fJB8thZTwY;

1.6
date	2016.09.12.22.44.09;	author naddy;	state Exp;
branches;
next	1.5;
commitid	kNnYvg08xQnrjGgv;

1.5
date	2016.05.20.19.06.57;	author sthen;	state Exp;
branches;
next	1.4;
commitid	b8JLi4u0hJgXB2Tv;

1.4
date	2015.11.06.15.45.17;	author sthen;	state Exp;
branches;
next	1.3;
commitid	O9hsI47GWLos1rQn;

1.3
date	2013.03.11.11.10.56;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2012.04.27.19.55.53;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2012.04.04.03.38.45;	author bentley;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.04.04.03.38.45;	author bentley;	state Exp;
branches;
next	;


desc
@@


1.9
log
@add pthread to COMPILER_LIBCXX.
white lie, but it allows clang and gcc to be more similar
bump accordingly.
@
text
@# $OpenBSD: Makefile,v 1.8 2017/07/16 19:18:57 espie Exp $

COMMENT =	barcode image processing library

GH_ACCOUNT =	glassechidna
GH_PROJECT =	zxing-cpp
GH_COMMIT =	0db7f855135222becff193671faae79c083424b6
REVISION =	0

DISTNAME =	zxing-20160426

CATEGORIES =	graphics

# Apache 2.0
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c iconv m ${COMPILER_LIBCXX}

MODULES =	devel/cmake
LIB_DEPENDS =	converters/libiconv
BUILD_DEPENDS =	devel/cppunit

do-test:
	${WRKBUILD}/testrunner

.include <bsd.port.mk>
@


1.8
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2017/04/10 11:46:21 sthen Exp $
d8 1
@


1.7
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/09/12 22:44:09 naddy Exp $
d16 1
a16 1
WANTLIB += c iconv m ${LIBCXX}
@


1.6
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/05/20 19:06:57 sthen Exp $
d16 1
a16 1
WANTLIB += c iconv m stdc++
@


1.5
log
@update to 20160426 snapshot of zxing, main change is a fix to Code 39 decodes
that rqeuires too much quiet zone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/11/06 15:45:17 sthen Exp $
d16 1
a16 1
WANTLIB += c m stdc++
d18 2
a19 1
MODULES =	converters/libiconv devel/cmake
@


1.4
log
@update to newer version of ZXing (fork), gets rid of scons and imagemagick dep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 11:10:56 espie Exp $
d7 1
a7 1
GH_COMMIT =	5ce91bb1c23b6cfb6a9ac076f10a4b2037810a91
d9 1
a9 1
DISTNAME =	zxing-20151004
@


1.3
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/04/27 19:55:53 naddy Exp $
d3 1
a3 1
COMMENT =		barcode image processing library
d5 3
a7 3
DISTNAME =		ZXing-2.0
PKGNAME =		${DISTNAME:L}
REVISION =		0
d9 1
a9 1
CATEGORIES =		graphics
d11 1
a11 1
HOMEPAGE =		https://code.google.com/p/zxing/
d14 1
a14 1
PERMIT_PACKAGE_CDROM =		Yes
d16 1
a16 1
WANTLIB +=	Magick++ MagickCore MagickWand c m pthread stdc++
d18 2
a19 18
MASTER_SITES =		https://zxing.googlecode.com/files/
EXTRACT_SUFX =		.zip

MODULES =		converters/libiconv devel/scons
BUILD_DEPENDS =		devel/cppunit
LIB_DEPENDS =		graphics/ImageMagick

WRKDIST =		${WRKDIR}/${DISTNAME:L}
WRKSRC =		${WRKDIST}/cpp

SUBST_VARS +=		WRKDIST WRKSRC CXX CXXFLAGS

pre-configure:
	${SUBST_CMD} ${WRKSRC}/SConscript ${WRKSRC}/blackboxtest.sh

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/build/zxing ${PREFIX}/bin
	${INSTALL_DATA} ${WRKSRC}/build/libzxing.a ${PREFIX}/lib
d22 1
a22 1
	sh ${WRKSRC}/blackboxtest.sh
@


1.2
log
@* honor CXX/CXXFLAGS
* explicitly link with libiconv (ImageMagick pulls it in, but
ImageMagick-no_x11 doesn't)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/04/04 03:38:45 bentley Exp $
a14 3
PERMIT_PACKAGE_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
d37 1
a37 1
do-regress:
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.60 2010/10/24 20:41:23 ajacoutot Exp $
d7 1
d31 1
a31 1
SUBST_VARS +=		WRKDIST WRKSRC
@


1.1.1.1
log
@Import zxing-2.0.

ZXing (pronounced "zebra crossing") is an open-source, multi-format
1D/2D barcode image processing library. It currently supports these
formats:

 - UPC-A and UPC-E
 - EAN-8 and EAN-13
 - Data Matrix
 - Code 39
 - Code 93
 - Code 128
 - ITF
 - Codabar
 - RSS-14 (all variants)
 - QR Code
 - Data Matrix
 - Aztec
 - PDF 417

ok landry@@
@
text
@@
