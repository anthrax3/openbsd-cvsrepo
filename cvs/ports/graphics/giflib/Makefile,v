head	1.26;
access;
symbols
	OPENBSD_6_2:1.26.0.6
	OPENBSD_6_2_BASE:1.26
	OPENBSD_6_1:1.26.0.4
	OPENBSD_6_1_BASE:1.26
	OPENBSD_6_0:1.26.0.2
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.23.0.2
	OPENBSD_5_9_BASE:1.23
	OPENBSD_5_8:1.22.0.4
	OPENBSD_5_8_BASE:1.22
	OPENBSD_5_7:1.21.0.6
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.21.0.4
	OPENBSD_5_6_BASE:1.21
	OPENBSD_5_5:1.21.0.2
	OPENBSD_5_5_BASE:1.21
	sthen_20130925:1.1.1.2
	sthen:1.1.1
	OPENBSD_3_0:1.18.0.2
	OPENBSD_3_0_BASE:1.18
	OPENBSD_2_9_TRACKING_SWITCH:1.17
	OPENBSD_2_9:1.16.0.4
	OPENBSD_2_9_BASE:1.16
	OPENBSD_2_8:1.16.0.2
	OPENBSD_2_8_BASE:1.16
	OPENBSD_2_7:1.11.0.2
	OPENBSD_2_7_BASE:1.11
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	yanick_1998-11-18:1.1.1.1
	yanick:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2016.04.27.18.17.19;	author jasper;	state Exp;
branches;
next	1.25;
commitid	Budfy5wECQQn8Dxz;

1.25
date	2016.03.18.21.00.48;	author sthen;	state Exp;
branches;
next	1.24;
commitid	RvRpbN6qaYASbueO;

1.24
date	2016.03.11.19.59.14;	author naddy;	state Exp;
branches;
next	1.23;
commitid	pguKLBEFv33DrgKU;

1.23
date	2016.01.17.23.16.39;	author sthen;	state Exp;
branches;
next	1.22;
commitid	VD155NgPws3HoHNk;

1.22
date	2015.03.27.11.34.23;	author sthen;	state Exp;
branches;
next	1.21;
commitid	XFfu8IlhUaexMZbX;

1.21
date	2013.09.25.07.52.04;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2002.03.24.20.50.21;	author brad;	state dead;
branches;
next	1.19;

1.19
date	2001.11.11.01.40.54;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2001.08.21.19.36.08;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2001.05.06.05.05.45;	author lebel;	state Exp;
branches;
next	1.16;

1.16
date	2000.09.24.07.04.07;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2000.08.03.23.44.36;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.07.04.02.09.21;	author krw;	state Exp;
branches;
next	1.13;

1.13
date	2000.06.15.19.14.39;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2000.06.14.18.32.42;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.14.01.46.51;	author espie;	state Exp;
branches
	1.11.2.1;
next	1.10;

1.10
date	2000.02.15.05.04.31;	author turan;	state Exp;
branches;
next	1.9;

1.9
date	2000.02.12.06.29.54;	author turan;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.02.17.50.03;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.02.17.02.39;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	99.06.09.20.20.15;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	99.05.25.13.04.08;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	99.04.25.20.17.45;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.03.18.01.31.15;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.02.21.04.26.11;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.11.19.00.41.20;	author yanick;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.11.19.00.41.20;	author yanick;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2013.09.25.07.49.50;	author sthen;	state Exp;
branches;
next	;

1.11.2.1
date	2000.09.15.04.53.17;	author marc;	state Exp;
branches;
next	;


desc
@@


1.26
log
@update to giflib-5.1.4
@
text
@# $OpenBSD: Makefile,v 1.25 2016/03/18 21:00:48 sthen Exp $

COMMENT=	tools and library routines for working with GIF images

DISTNAME=	giflib-5.1.4
SHARED_LIBS +=	gif                  7.0      # 7.0
CATEGORIES=	graphics

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=giflib/}

HOMEPAGE=	http://giflib.sourceforge.net/

# MIT
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c m

CONFIGURE_STYLE=	gnu

TEST_DEPENDS=	sysutils/coreutils

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/giflib
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/giflib
	${INSTALL_MAN} ${WRKSRC}/doc/*.1 ${PREFIX}/man/man1

.include <bsd.port.mk>
@


1.25
log
@update to giflib-5.1.3, mostly hardening improvements
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2016/03/11 19:59:14 naddy Exp $
d5 1
a5 1
DISTNAME=	giflib-5.1.3
@


1.24
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2016/01/17 23:16:39 sthen Exp $
d5 1
a5 1
DISTNAME=	giflib-5.1.2
@


1.23
log
@update to giflib-5.1.2, including reallocarray use (from logan via upstream),
and fixes for various bugs including buffer overwrite with giffix, segfault and
double free in gifsponge, giftext segfault on malformed GIF etc.

there are a couple of post-5.1.2 fixes that I haven't pulled back yet, but may
be worth doing if there isn't a release soon.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2015/03/27 11:34:23 sthen Exp $
a18 1
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
@


1.22
log
@update to giflib-5.1.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/09/25 07:52:04 sthen Exp $
d5 1
a5 1
DISTNAME=	giflib-5.1.1
@


1.21
log
@resolve conflicts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/21 08:45:18 ajacoutot Exp $
d5 2
a6 2
DISTNAME=	giflib-5.0.5
SHARED_LIBS +=	gif                  6.0      # 6.1
@


1.20
log
@remove stubs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/11/11 01:40:54 brad Exp $
d3 1
a3 1
COMMENT=	"GIF library and utilities"
d5 2
a6 1
PKGNAME=	giflib
a7 1
IGNORE=		"has been superseded by libungif"
d9 18
a26 1
MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.19
log
@bye bye, stub this out.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/08/21 19:36:08 brad Exp $
@


1.18
log
@add missing USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/05/06 05:05:45 lebel Exp $
d5 1
a5 1
DISTNAME=	giflib-4.1.0
d7 1
a7 11
NEED_VERSION=	1.435
MASTER_SITES=	${MASTER_SITE_SUNSITE}
MASTER_SITES0=	${MASTER_SITE_BACKUP}
MASTER_SITE_SUBDIR= libs/giflib

PATCHFILES=	giflib-4.1.0-19990224.patch.gz:0 \
		giflib-4.1.0-19990305.patch.gz:0 \
		giflib-4.1.0-19990322.patch.gz:0 \
		giflib-4.1.0-19990415.patch.gz:0 \
		giflib-4.1.0-19990523.patch.gz:0
PATCH_DIST_STRIP= -p1
a9 22

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

USE_GMAKE=	Yes
SYSCONFDIR=	${PREFIX}/lib
SEPARATE_BUILD=	concurrent
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --enable-static

FLAVORS=	no_x11
FLAVOR?=

.if ${FLAVOR:L} == "no_x11"
CONFIGURE_ARGS+= --without-x
.else
USE_X11=	Yes
CONFIGURE_ARGS+= --with-x
.endif
@


1.17
log
@graphics: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/09/24 07:04:07 brad Exp $
d3 1
a3 1
COMMENT=	"Gif Library and utilities"
d7 1
a7 1
NEED_VERSION=	1.402
d38 3
@


1.16
log
@add name to MAINTAINER
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.15 2000/08/03 23:44:36 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.330
@


1.15
log
@- change MAINTAINER to myself
- add a no_x11 FLAVOR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/07/04 02:09:21 krw Exp $
d5 2
a6 3
NEED_VERSION=	1.310
MASTER_SITES=	${MASTER_SITE_SUNSITE} \
		${MASTER_SITES0}
d17 1
a17 1
MAINTAINER=	brad@@openbsd.org
@


1.14
log
@Change PFRAG.shared ldconfig invocation(s) to
DYNLIBDIR() invocations.

Bump NEED_VERSION to 1.310 so DYNLIBDIR() works.

As requested by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/06/15 19:14:39 brad Exp $
d18 1
a18 1
MAINTAINER=	yanick@@fries.net
d30 8
a37 1
CONFIGURE_ARGS+= --enable-static --sysconfdir="${SYSCONFDIR}"
@


1.13
log
@thw master site for the patches does not exist anymore, use
MASTER_SITE_BACKUP for now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/06/14 18:32:42 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.301
@


1.12
log
@- remove license type
- remove FAKE=Yes
- GNU_CONFIGURE -> CONFIGURE_STYLE
- use new framework for PLISTs
- add @@comment with RCS id to PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/03/14 01:46:51 espie Exp $
d8 1
a8 1
MASTER_SITES0= 	http://www.arrakeen.demon.co.uk/giflib/
@


1.11
log
@Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/15 05:04:31 turan Exp $
d5 1
a5 1
NEED_VERSION=	1.175
a15 1

a17 1

a19 1
LICENSE_TYPE=		BSD
d28 1
a28 2
GNU_CONFIGURE=	Yes
FAKE=		Yes
@


1.11.2.1
log
@bring graphics as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/08/03 23:44:36 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.310
d8 1
a8 1
MASTER_SITES0=	${MASTER_SITE_BACKUP}
d16 1
a18 1
MAINTAINER=	brad@@openbsd.org
d20 3
d31 2
a32 1
CONFIGURE_STYLE= gnu
d34 1
a34 8
CONFIGURE_ARGS+= --enable-static

FLAVORS=	no_x11
FLAVOR?=

.if ${FLAVOR:L} == "no_x11"
CONFIGURE_ARGS+= --without-x
.endif
@


1.10
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/02/12 06:29:54 turan Exp $
d5 1
a18 1
NEED_VERSION=	1.175
d23 4
a26 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d28 1
a28 1
USE_GMAKE=	yes
d31 2
a32 1
GNU_CONFIGURE=	yes
a34 3

post-install:
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.9
log
@bsd licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/02 17:50:03 brad Exp $
d23 4
a26 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.8
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/02 17:02:39 espie Exp $
d21 6
@


1.7
log
@Kill most instances of PATCH_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/06/09 20:20:15 brad Exp $
a4 1
MASTER_SITES0= 	http://www.arrakeen.demon.co.uk/giflib/
d7 1
a7 1

d20 1
a20 1
MAINTAINER=	yanick@@fries.net	
d22 1
a22 1
USE_GMAKE=	Yes
d25 1
a25 1
GNU_CONFIGURE=	Yes
d27 1
a27 1
CONFIGURE_ARGS+= --enable-static --sysconfdir=${SYSCONFDIR}
d30 1
a30 1
	${LDCONFIG} -m ${PREFIX}/lib
@


1.6
log
@SEPARATE_BUILD= yes -> concurrent
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/05/25 13:04:08 brad Exp $
d5 1
d7 2
a8 1
		http://www.arrakeen.demon.co.uk/giflib/
d11 6
a16 6
PATCH_SITES=	http://www.arrakeen.demon.co.uk/giflib/
PATCHFILES=	giflib-4.1.0-19990224.patch.gz \
		giflib-4.1.0-19990305.patch.gz \
		giflib-4.1.0-19990322.patch.gz \
		giflib-4.1.0-19990415.patch.gz \
		giflib-4.1.0-19990523.patch.gz
d19 1
a19 1
NEED_VERSION=	1.73
d23 1
a23 1
USE_GMAKE=	yes
d26 1
a26 1
GNU_CONFIGURE=	yes
@


1.5
log
@add distribution patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/04/25 20:17:45 brad Exp $
d23 1
a23 1
SEPARATE_BUILD=	yes
@


1.4
log
@add all currently available dist patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/03/18 01:31:15 brad Exp $
d13 2
a14 1
		giflib-4.1.0-19990415.patch.gz
@


1.3
log
@upgrade to giflib 4.1.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/02/21 04:26:11 marc Exp $
d3 5
a7 4
DISTNAME=		giflib-4.1.0
CATEGORIES=		graphics
MASTER_SITES=		${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR=	libs/giflib
d9 6
a14 1
NEED_VERSION=		1.73
d16 3
a18 1
MAINTAINER=		yanick@@fries.net	
d24 2
a25 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--enable-static --sysconfdir=${SYSCONFDIR}
@


1.2
log
@needs version 1.64 (or later) of bsd.port.mk
to build/install correctly; PLIST.noshared
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.1.1.1 1998/11/19 00:41:20 yanick Exp $
#
d3 1
a3 1
DISTNAME=		giflib-3.0
d5 2
d8 1
a8 1
NEED_VERSION=		1.64
d12 6
a17 2
MASTER_SITES=		${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR=	libs/giflib
@


1.1
log
@Initial revision
@
text
@d1 1
a1 6
# OpenBSD makefile for:	giflib - Gif library
# Version required:	3.0
# Date created:		1998-09-08
# Whom:			Yannick Cote	
#
# $OpenBSD$
d6 2
@


1.1.1.1
log
@Add giflib port
@
text
@@


1.1.1.2
log
@import ports/graphics/giflib, current maintained code to replace libungif.
ok aja@@ jasper@@
@
text
@d1 7
a7 1
# $OpenBSD: Makefile,v 1.21 2013/03/21 08:45:18 ajacoutot Exp $
d9 2
a10 1
COMMENT=	tools and library routines for working with GIF images
d12 1
a12 3
DISTNAME=	giflib-5.0.5
SHARED_LIBS +=	gif                  6.0      # 6.1
CATEGORIES=	graphics
d14 2
a15 13
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=giflib/}

HOMEPAGE=	http://giflib.sourceforge.net/

# MIT
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c m

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}

TEST_DEPENDS=	sysutils/coreutils
d18 1
a18 3
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/giflib
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/giflib
	${INSTALL_MAN} ${WRKSRC}/doc/*.1 ${PREFIX}/man/man1
@

