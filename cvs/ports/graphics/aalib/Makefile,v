head	1.44;
access;
symbols
	OPENBSD_6_2:1.44.0.6
	OPENBSD_6_2_BASE:1.44
	OPENBSD_6_1:1.44.0.4
	OPENBSD_6_1_BASE:1.44
	OPENBSD_6_0:1.44.0.2
	OPENBSD_6_0_BASE:1.44
	OPENBSD_5_9:1.43.0.2
	OPENBSD_5_9_BASE:1.43
	OPENBSD_5_8:1.43.0.4
	OPENBSD_5_8_BASE:1.43
	OPENBSD_5_7:1.42.0.8
	OPENBSD_5_7_BASE:1.42
	OPENBSD_5_6:1.42.0.6
	OPENBSD_5_6_BASE:1.42
	OPENBSD_5_5:1.42.0.4
	OPENBSD_5_5_BASE:1.42
	OPENBSD_5_4:1.42.0.2
	OPENBSD_5_4_BASE:1.42
	OPENBSD_5_3:1.39.0.4
	OPENBSD_5_3_BASE:1.39
	OPENBSD_5_2:1.39.0.2
	OPENBSD_5_2_BASE:1.39
	OPENBSD_5_1_BASE:1.38
	OPENBSD_5_1:1.38.0.2
	OPENBSD_5_0:1.36.0.4
	OPENBSD_5_0_BASE:1.36
	OPENBSD_4_9:1.36.0.2
	OPENBSD_4_9_BASE:1.36
	OPENBSD_4_8:1.33.0.4
	OPENBSD_4_8_BASE:1.33
	OPENBSD_4_7:1.33.0.2
	OPENBSD_4_7_BASE:1.33
	OPENBSD_4_6:1.32.0.4
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.32.0.2
	OPENBSD_4_5_BASE:1.32
	OPENBSD_4_4:1.30.0.2
	OPENBSD_4_4_BASE:1.30
	OPENBSD_4_3:1.29.0.2
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.27.0.2
	OPENBSD_4_2_BASE:1.27
	OPENBSD_4_1:1.25.0.2
	OPENBSD_4_1_BASE:1.25
	OPENBSD_4_0:1.24.0.4
	OPENBSD_4_0_BASE:1.24
	OPENBSD_3_9:1.24.0.2
	OPENBSD_3_9_BASE:1.24
	OPENBSD_3_8:1.21.0.2
	OPENBSD_3_8_BASE:1.21
	OPENBSD_3_7:1.19.0.2
	OPENBSD_3_7_BASE:1.19
	OPENBSD_3_6:1.18.0.6
	OPENBSD_3_6_BASE:1.18
	OPENBSD_3_5:1.18.0.4
	OPENBSD_3_5_BASE:1.18
	OPENBSD_3_4:1.18.0.2
	OPENBSD_3_4_BASE:1.18
	OPENBSD_3_3:1.17.0.4
	OPENBSD_3_3_BASE:1.17
	OPENBSD_3_2:1.17.0.2
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.16.0.4
	OPENBSD_3_1_BASE:1.16
	OPENBSD_3_0:1.16.0.2
	OPENBSD_3_0_BASE:1.16
	OPENBSD_2_9_TRACKING_SWITCH:1.16
	OPENBSD_2_9:1.14.0.2
	OPENBSD_2_9_BASE:1.14
	OPENBSD_2_8:1.11.0.2
	OPENBSD_2_8_BASE:1.11
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.3.0.2
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	brad-1999_03_15:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.44
date	2016.03.11.19.59.14;	author naddy;	state Exp;
branches;
next	1.43;
commitid	pguKLBEFv33DrgKU;

1.43
date	2015.03.16.18.07.45;	author naddy;	state Exp;
branches;
next	1.42;
commitid	IJdm3Zowcdkcxp5X;

1.42
date	2013.04.15.02.06.15;	author brad;	state Exp;
branches;
next	1.41;

1.41
date	2013.03.21.08.45.17;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2013.03.11.11.10.51;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2012.05.08.12.28.03;	author okan;	state Exp;
branches;
next	1.38;

1.38
date	2011.12.02.14.36.14;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2011.11.01.20.30.49;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2010.11.17.08.05.12;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.24.21.21.00;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.18.18.13.13;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2009.08.10.06.31.44;	author kili;	state Exp;
branches;
next	1.32;

1.32
date	2009.02.09.10.48.51;	author simon;	state Exp;
branches;
next	1.31;

1.31
date	2009.01.09.17.43.38;	author naddy;	state Exp;
branches;
next	1.30;

1.30
date	2008.04.03.12.42.45;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2007.11.13.17.10.25;	author steven;	state Exp;
branches;
next	1.28;

1.28
date	2007.09.15.20.09.40;	author simon;	state Exp;
branches;
next	1.27;

1.27
date	2007.07.31.13.06.49;	author mbalmer;	state Exp;
branches;
next	1.26;

1.26
date	2007.07.30.23.51.21;	author mbalmer;	state Exp;
branches;
next	1.25;

1.25
date	2006.12.17.11.07.08;	author steven;	state Exp;
branches;
next	1.24;

1.24
date	2006.01.08.01.01.17;	author steven;	state Exp;
branches;
next	1.23;

1.23
date	2005.12.26.15.14.11;	author steven;	state Exp;
branches;
next	1.22;

1.22
date	2005.10.30.00.10.40;	author fgsch;	state Exp;
branches;
next	1.21;

1.21
date	2005.07.03.01.28.58;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2005.06.30.04.47.25;	author aanriot;	state Exp;
branches;
next	1.19;

1.19
date	2004.11.30.01.06.33;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2003.04.06.01.15.10;	author margarida;	state Exp;
branches;
next	1.17;

1.17
date	2002.08.25.23.08.40;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2001.07.01.15.29.48;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2001.05.10.00.26.21;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2001.04.15.23.04.37;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2001.04.13.22.09.41;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2001.01.16.15.16.31;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2000.09.27.21.09.05;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2000.09.24.07.04.06;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2000.07.04.02.09.18;	author krw;	state Exp;
branches;
next	1.8;

1.8
date	2000.06.15.18.20.06;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2000.03.07.23.58.10;	author espie;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2000.02.15.05.04.30;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.12.08.02.21;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.06.00.56.36;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.09.21.19.55.52;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.04.03.09.30.19;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.03.15.17.11.18;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.03.15.17.11.18;	author brad;	state Exp;
branches;
next	;

1.7.2.1
date	2000.09.15.04.53.04;	author marc;	state Exp;
branches;
next	;


desc
@@


1.44
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.43 2015/03/16 18:07:45 naddy Exp $

COMMENT=	ascii art library

DISTNAME=	aalib-1.4rc5
PKGNAME=	aalib-1.4
REVISION=	6
SHARED_LIBS=	aa	2.0
CATEGORIES=	graphics
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=aa-project/}

HOMEPAGE=	http://aa-project.sourceforge.net/aalib/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes
WANTLIB=		c m ncurses X11 xcb

CONFIGURE_STYLE= gnu

WRKDIST=	${WRKDIR}/aalib-1.4.0

NO_TEST=	Yes

.include <bsd.port.mk>
@


1.43
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/04/15 02:06:15 brad Exp $
a18 1
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
@


1.42
log
@Fix aalib-config for overlinking with shared libs.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/03/21 08:45:17 ajacoutot Exp $
d7 1
a7 1
REVISION=	5
@


1.41
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/03/11 11:10:51 espie Exp $
d7 1
a7 1
REVISION =	4
@


1.40
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2012/05/08 12:28:03 okan Exp $
a17 1
USE_LIBTOOL=	Yes
@


1.39
log
@remove no_x11 FLAVOR; while here, also remove the groff requirement.

ok ajacoutot@@, dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/12/02 14:36:14 espie Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d24 1
a24 1
NO_REGRESS=	Yes
@


1.38
log
@bye bye FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/11/01 20:30:49 jasper Exp $
d7 1
a7 1
REVISION =	3
d19 1
a19 1
WANTLIB=		c m ncurses
a26 1
USE_GROFF =	Yes
a27 9

FLAVORS=	no_x11
FLAVOR?=

.if ${FLAVOR} == "no_x11"
CONFIGURE_ARGS+= --without-x
.else
WANTLIB+=	X11 xcb
.endif
@


1.37
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/11/17 08:05:12 espie Exp $
d33 1
a33 1
.if ${FLAVOR:L} == "no_x11"
@


1.36
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/10/24 21:21:00 ajacoutot Exp $
d7 1
a7 1
REVISION =	2
d36 1
a36 1
WANTLIB+=	X11 Xau Xdmcp pthread-stubs xcb
@


1.35
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/18 18:13:13 espie Exp $
d6 2
a7 1
PKGNAME=	aalib-1.4p2
@


1.34
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/08/10 06:31:44 kili Exp $
a34 1
USE_X11=	Yes
@


1.33
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/02/09 10:48:51 simon Exp $
d26 1
@


1.32
log
@add missing includes to prevent segfaults

looks sane to ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/01/09 17:43:38 naddy Exp $
d6 1
a6 1
PKGNAME=	aalib-1.4p1
d35 1
a35 1
WANTLIB+=	X11 Xau Xdmcp
@


1.31
log
@fix "underquoted definition" warnings from newer aclocal and
regen some patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/04/03 12:42:45 jasper Exp $
d6 1
a6 1
PKGNAME=	aalib-1.4p0
@


1.30
log
@- update aalib to 1.4. (the last release was 1.4rc5, but after 7 years of no
major release, it's safe to ship this as 1.4)

tested by brad@@ and me@@, from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/11/13 17:10:25 steven Exp $
d6 1
a6 1
PKGNAME=	aalib-1.4
@


1.29
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/09/15 20:09:40 simon Exp $
d5 3
a7 3
DISTNAME=	aalib-1.2
PKGNAME=	${DISTNAME}p3
SHARED_LIBS=	aa	1.3
d13 1
a13 1
# GPL
d21 1
a21 1
CONFIGURE_STYLE= gnu dest
d23 4
a26 1
CONFIGURE_ARGS+= --enable-static
a36 4

post-extract:
	@@cd ${WRKSRC}; rm -f {config.cache,config.h,config.log,config.status}
	@@cp -f ${FILESDIR}/config.cache ${WRKSRC}
@


1.28
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/07/31 13:06:49 mbalmer Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d32 1
a32 1
WANTLIB+=	X11
@


1.27
log
@I got at least two reports that the checksums were invalid.  Obviously one
of the mirror carried a wrong tarball.

This fixes the problem (recreated from the right tarball).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/07/30 23:51:21 mbalmer Exp $
d3 1
a3 1
COMMENT=	"ascii art library"
@


1.26
log
@correct checksums, bump pkg name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/12/17 11:07:08 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.25
log
@fetch distfile from sourceforge. new checksum since the new distfile does
not include the config.cache file. no package change.

from Mikolaj Kucharski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/01/08 01:01:17 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.24
log
@remove MODGNU_SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/12/26 15:14:11 steven Exp $
d9 1
a9 1
MASTER_SITES=	${MASTER_SITE_OPENBSD}
@


1.23
log
@SHARED_LIBS and USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2005/10/30 00:10:40 fgsch Exp $
d7 1
a7 2
SHARED_LIBS=		aa	1.3
MODGNU_SHARED_LIBS=	aa	''
@


1.22
log
@after querying brad@@ he decided to drop maintainership for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2005/07/03 01:28:58 brad Exp $
d6 3
d21 1
@


1.21
log
@add GPL marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2005/06/30 04:47:25 aanriot Exp $
a9 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.20
log
@replace unavailable MASTER_SITES by the default OpenBSD one.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/11/30 01:06:33 espie Exp $
d13 1
@


1.19
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2003/04/06 01:15:10 margarida Exp $
d7 1
a7 1
MASTER_SITES=	ftp://openbsd.comstyle.com/pub/brad/source/
@


1.18
log
@Add HOMEPAGE

brad@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/08/25 23:08:40 brad Exp $
d17 1
d30 1
@


1.17
log
@remove bad dqc.org distsite.
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.16 2001/07/01 15:29:48 brad Exp $
# $FreeBSD: Makefile,v 1.6 1998/09/22 15:30:37 vanilla Exp $
d8 2
@


1.16
log
@add another local dist site.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/05/10 00:26:21 brad Exp $
d8 1
a8 3
NEED_VERSION=	1.413
MASTER_SITES=	ftp://openbsd.comstyle.com/pub/brad/source/ \
		ftp://ftp.dqc.org/pub/brad/source/
@


1.15
log
@mirror distfile locally.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/04/15 23:04:37 brad Exp $
d8 3
a10 2
NEED_VERSION=	1.384
MASTER_SITES=	ftp://ftp.dqc.org/pub/brad/source/
@


1.14
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/04/13 22:09:41 brad Exp $
d9 1
a9 2
MASTER_SITES=	${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR= libs/graphics
@


1.13
log
@- integrate COMMENT
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/01/16 15:16:31 brad Exp $
d28 2
@


1.12
log
@- better distsites; From: kevlo@@
- remove leftover autoconf log/cache etc. that was leftover in the
tarball, include a minimalist config.cache that overrides a handful of the
tests.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/09/27 21:09:05 brad Exp $
d4 2
d8 1
a8 1
NEED_VERSION=	1.336
@


1.11
log
@add a no_x11 FLAVOR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/09/24 07:04:06 brad Exp $
d6 3
a8 2
NEED_VERSION=	1.330
MASTER_SITES=	ftp://ftp.ta.jcu.cz/pub/aa/
d27 4
@


1.10
log
@add name to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/07/04 02:09:18 krw Exp $
d19 7
@


1.9
log
@Change PFRAG.shared ldconfig invocation(s) to
DYNLIBDIR() invocations.

Bump NEED_VERSION to 1.310 so DYNLIBDIR() works.

As requested by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/06/15 18:20:06 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.310
d9 1
a9 1
MAINTAINER=	brad@@openbsd.org
@


1.8
log
@- remove license type
- HAS_CONFIGURE -> CONFIGURE_STYLE
- use new framework for PLISTs
- add @@comment with RCS id to PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/03/07 23:58:10 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.301
@


1.7
log
@Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/02/15 05:04:30 turan Exp $
d6 1
a6 1
NEED_VERSION=	1.218
a10 1
LICENSE_TYPE=		GPL
d16 1
a16 3
FAKE=		Yes
HAS_CONFIGURE=	Yes
CONFIGURE_ARGS=--prefix='$${DESTDIR}${PREFIX}' --sysconfdir='$${DESTDIR}/etc'
@


1.7.2.1
log
@bring graphics as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/07/04 02:09:18 krw Exp $
d6 1
a6 1
NEED_VERSION=	1.310
d11 1
d17 3
a19 1
CONFIGURE_STYLE= gnu dest
@


1.6
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/12 08:02:21 turan Exp $
d6 1
d12 4
a15 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d17 3
a19 1
GNU_CONFIGURE=	yes
a21 4

post-install:
	@@install-info ${PREFIX}/info/aalib.info ${PREFIX}/info/dir
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.5
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/06 00:56:36 brad Exp $
d11 4
a14 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.4
log
@- remove workaround for texinfo install-info bug
- make sure install-info is run to register the info page
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/09/21 19:55:52 brad Exp $
d9 6
@


1.3
log
@move contents of pre-install to post-install section, where it should be
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/04/03 09:30:19 brad Exp $
d15 2
a16 4
	@@if [ ! -f ${PREFIX}/info/dir ]; then \
	 ${SED} -ne '1,/Menu:/p' /usr/share/info/dir > ${PREFIX}/info/dir; \
	fi
	${LDCONFIG} -m ${PREFIX}/lib
@


1.2
log
@fixup Makefile and remove useless @@unexec from PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/03/15 17:11:18 brad Exp $
d14 1
a14 1
pre-install:
d16 1
a16 1
	${SED} -ne '1,/Menu:/p' /usr/share/info/dir > ${PREFIX}/info/dir; \
a17 2

post-install:
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d11 2
a12 2
CONFIGURE_ARGS+=        ${CONFIGURE_SHARED}
CONFIGURE_ARGS+=        --enable-static
@


1.1.1.1
log
@add aalib port
@
text
@@
