head	1.1;
access;
symbols
	OPENBSD_4_5:1.1.0.2;
locks; strict;
comment	@# @;


1.1
date	2009.06.12.01.59.58;	author william;	state dead;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2009.06.12.01.59.58;	author william;	state Exp;
branches;
next	;


desc
@@


1.1
log
@file patch-pngwutil_c was initially added on branch OPENBSD_4_5.
@
text
@@


1.1.2.1
log
@security update to png-1.3.33p0; patches from debian
resolves CVE-2008-5907 and CVE-2009-0040
@
text
@a0 12
$OpenBSD$
--- pngwutil.c.orig	Fri Oct 31 09:42:01 2008
+++ pngwutil.c	Thu Jun  4 16:25:56 2009
@@@@ -1338,7 +1338,7 @@@@ png_check_keyword(png_structp png_ptr, png_charp key, 
    if (key_len > 79)
    {
       png_warning(png_ptr, "keyword length must be 1 - 79 characters");
-      new_key[79] = '\0';
+      (*new_key[79]) = '\0';
       key_len = 79;
    }
 
@

