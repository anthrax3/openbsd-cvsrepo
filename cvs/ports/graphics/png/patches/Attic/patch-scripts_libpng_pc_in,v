head	1.27;
access;
symbols
	OPENBSD_5_3:1.24.0.4
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.24.0.2
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.22
	OPENBSD_5_1:1.22.0.2
	OPENBSD_5_0:1.20.0.2
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.18.0.4
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.18.0.2
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.17.0.2
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.14.0.2
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.13.0.2
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.11.0.2
	OPENBSD_4_4_BASE:1.11
	OPENBSD_4_3:1.10.0.2
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.6.0.2
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.4.0.2
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.2.0.4
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.1.0.2
	OPENBSD_3_7_BASE:1.1;
locks; strict;
comment	@# @;


1.27
date	2013.06.03.02.46.25;	author naddy;	state dead;
branches;
next	1.26;

1.26
date	2013.04.15.02.38.43;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.25.00.21.37;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2012.03.30.18.58.03;	author naddy;	state Exp;
branches;
next	1.23;

1.23
date	2012.02.26.14.57.54;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2011.11.14.17.48.59;	author rpointel;	state Exp;
branches;
next	1.21;

1.21
date	2011.09.23.21.00.28;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2011.07.15.11.10.40;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2011.07.08.20.34.37;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2010.06.27.19.55.04;	author kili;	state Exp;
branches;
next	1.17;

1.17
date	2009.12.06.21.43.11;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2009.10.12.10.17.16;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2009.08.23.14.44.18;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2009.03.04.20.17.16;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2008.12.02.16.45.59;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2008.09.28.14.43.22;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2008.05.07.14.29.39;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2007.10.16.20.32.18;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2007.10.06.19.33.28;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.16.19.47.00;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2007.03.15.19.19.23;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2006.11.30.11.25.32;	author bernd;	state Exp;
branches;
next	1.5;

1.5
date	2006.11.18.16.06.26;	author bernd;	state Exp;
branches;
next	1.4;

1.4
date	2006.06.29.14.33.47;	author bernd;	state Exp;
branches;
next	1.3;

1.3
date	2006.05.10.13.50.01;	author bernd;	state Exp;
branches;
next	1.2;

1.2
date	2005.07.24.04.55.35;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2004.10.15.04.41.13;	author brad;	state Exp;
branches;
next	;


desc
@@


1.27
log
@switch to autotools-based build and follow the upstream install layout
@
text
@$OpenBSD: patch-scripts_libpng_pc_in,v 1.26 2013/04/15 02:38:43 brad Exp $
--- scripts/libpng.pc.in.orig	Wed Mar 27 21:21:27 2013
+++ scripts/libpng.pc.in	Thu Apr 11 21:30:19 2013
@@@@ -1,10 +1,11 @@@@
 prefix=@@prefix@@
 exec_prefix=@@exec_prefix@@
 libdir=@@libdir@@
-includedir=@@includedir@@/libpng15
+includedir=@@includedir@@
 
 Name: libpng
 Description: Loads and saves PNG files
 Version: 1.5.15
-Libs: -L${libdir} -lpng15
+Libs: -L${libdir} -lpng
+Libs.private: -lz -lm
 Cflags: -I${includedir}
@


1.26
log
@Update to png 1.5.15.

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_libpng_pc_in,v 1.25 2013/03/25 00:21:37 brad Exp $
@


1.25
log
@Update to png 1.5.14.

Reinstates inter-library dependencies and corrects the libpng-config
and pkg-config files for static vs shared linking.

WANTLIB update and Ok naddy@@
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.24 2012/03/30 18:58:03 naddy Exp $
--- scripts/libpng.pc.in.orig	Wed Jan 23 21:59:05 2013
+++ scripts/libpng.pc.in	Sat Mar 23 21:04:52 2013
d13 1
a13 1
 Version: 1.5.14
@


1.24
log
@SECURITY update to 1.5.10.
libpng failed to correctly handle malloc() failure for text chunks,
which can lead to memory corruption and the possibility of execution
of hostile code. (CVE-2011-3048)
@
text
@d1 4
a4 4
$OpenBSD$
--- scripts/libpng.pc.in.orig	Thu Mar 29 07:06:56 2012
+++ scripts/libpng.pc.in	Fri Mar 30 20:00:16 2012
@@@@ -1,10 +1,10 @@@@
d13 1
a13 1
 Version: 1.5.10
d15 2
a16 1
+Libs: -L${libdir} -lpng -lz -lm
@


1.23
log
@update to 1.5.9
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.22 2011/11/14 17:48:59 rpointel Exp $
--- scripts/libpng.pc.in.orig	Thu Nov  3 04:42:52 2011
+++ scripts/libpng.pc.in	Thu Nov  3 12:20:06 2011
d13 1
a13 1
 Version: 1.5.9
@


1.22
log
@Update libpng to 1.5.6.
bump major version of shared libs.
ok naddy@@.
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_libpng_pc_in,v 1.21 2011/09/23 21:00:28 sthen Exp $
d13 1
a13 1
 Version: 1.5.6
@


1.21
log
@SECURITY update to png 1.5.5, fixing a divide-by-zero with malformed cHRM
chunks, this bug was introduced in 1.5.4 - CVE-2011-3328. Clues from naddy@@
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.20 2011/07/15 11:10:40 naddy Exp $
--- scripts/libpng.pc.in.orig	Thu Sep 22 14:40:25 2011
+++ scripts/libpng.pc.in	Fri Sep 23 09:20:51 2011
d13 1
a13 1
 Version: 1.5.5
@


1.20
log
@SECURITY update to png-1.5.4:
1. buffer overwrite in png_rgb_to_gray (CVE-2011-2690)
2. crash in png_default_error due to use of NULL Pointer (CVE-2011-2691)
3. memory corruption when handling empty sCAL chunks (CVE-2011-2692)
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.19 2011/07/08 20:34:37 naddy Exp $
--- scripts/libpng.pc.in.orig	Thu Jul  7 05:24:50 2011
+++ scripts/libpng.pc.in	Fri Jul  8 18:50:50 2011
d13 1
a13 1
 Version: 1.5.4
@


1.19
log
@Update to png 1.5.2.  Lots of improvements, but also significant
API incompatibility:

"The libpng 1.5.x series finally hides the contents of the venerable
and hoary png_struct and png_info data structures inside private
(i.e., non-installed) header files. Instead of direct struct-access,
applications should be using the various png_get_xxx() and png_set_xxx()
accessor functions, which have existed for almost as long as libpng
itself."
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.18 2010/06/27 19:55:04 kili Exp $
--- scripts/libpng.pc.in.orig	Sat Jul  2 23:30:05 2011
+++ scripts/libpng.pc.in	Sat Jul  2 23:30:23 2011
d13 1
a13 1
 Version: 1.5.2
@


1.18
log
@SECRUTY update to 1.22.44

Fixes CVE-2010-1205.

ok naddy@@
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.17 2009/12/06 21:43:11 naddy Exp $
--- scripts/libpng.pc.in.orig	Sat Jun 26 02:31:16 2010
+++ scripts/libpng.pc.in	Sun Jun 27 08:23:08 2010
d8 1
a8 1
-includedir=@@includedir@@/libpng12
d13 2
a14 2
 Version: 1.2.44
-Libs: -L${libdir} -lpng12
@


1.17
log
@maintenance update to 1.2.41
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.16 2009/10/12 10:17:16 naddy Exp $
--- scripts/libpng.pc.in.orig	Sat Sep  8 05:23:01 2007
+++ scripts/libpng.pc.in	Wed Oct  3 17:20:11 2007
d13 1
a13 1
 Version: 1.2.41
@


1.16
log
@minor maintenance update to 1.2.40
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_libpng_pc_in,v 1.15 2009/08/23 14:44:18 naddy Exp $
d13 1
a13 1
 Version: 1.2.40
@


1.15
log
@maintenance update to 1.2.39
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_libpng_pc_in,v 1.14 2009/03/04 20:17:16 naddy Exp $
d13 1
a13 1
 Version: 1.2.39
@


1.14
log
@Security update to 1.2.35: Fix an uninitialized data bug; CVE-2009-0040.
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_libpng_pc_in,v 1.13 2008/12/02 16:45:59 naddy Exp $
d13 1
a13 1
 Version: 1.2.35
@


1.13
log
@update to 1.2.33, which fixes a minor memory leak
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_libpng_pc_in,v 1.12 2008/09/28 14:43:22 naddy Exp $
d13 1
a13 1
 Version: 1.2.33
@


1.12
log
@Maintenance update to 1.2.32.
Library bump because png_struct has been extended.
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_libpng_pc_in,v 1.11 2008/05/07 14:29:39 naddy Exp $
d13 1
a13 1
 Version: 1.2.32
@


1.11
log
@Update to 1.2.28 which fixes a number of "security and crash bugs".
Bump library version since struct png_struct has changed--this shouldn't be
used externally, but you never know.

ok bernd@@
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_libpng_pc_in,v 1.10 2007/10/16 20:32:18 naddy Exp $
d13 1
a13 1
 Version: 1.2.28
@


1.10
log
@SECURITY update to 1.2.22.
Fixes a number of out-of-bounds reads in certain chunk-handlers.
CVE-2007-5266, CVE-2007-5267, CVE-2007-5268, CVE-2007-5269.
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_libpng_pc_in,v 1.9 2007/10/06 19:33:28 naddy Exp $
d13 1
a13 1
 Version: 1.2.22
@


1.9
log
@maintenance update to 1.2.20
@
text
@d1 1
a1 1
$OpenBSD$
d13 1
a13 1
 Version: 1.2.20
@


1.8
log
@SECURITY update to 1.2.18:
Fix a NULL pointer dereference vulnerability involving palette
images with a malformed tRNS chunk (CVE-2007-2445).
ok steven@@
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.7 2007/03/15 19:19:23 naddy Exp $
--- scripts/libpng.pc.in.orig	Wed May 16 17:07:18 2007
+++ scripts/libpng.pc.in	Wed May 16 17:07:37 2007
d13 1
a13 1
 Version: 1.2.18
@


1.7
log
@update to 1.2.16:
- minor bug fixes
- we now use the same API no matter whether asm optimizations are enabled
  or not
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.6 2006/11/30 11:25:32 bernd Exp $
--- scripts/libpng.pc.in.orig	Sat Feb 10 18:19:11 2007
+++ scripts/libpng.pc.in	Sat Feb 10 18:19:51 2007
d13 1
a13 1
 Version: 1.2.16
@


1.6
log
@Update to png-1.2.14.

'fine with me' steven@@
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.5 2006/11/18 16:06:26 bernd Exp $
--- scripts/libpng.pc.in.orig	Fri Nov 17 10:33:10 2006
+++ scripts/libpng.pc.in	Fri Nov 17 10:33:33 2006
d13 1
a13 1
 Version: 1.2.14
@


1.5
log
@Security update to libpng-1.2.13. (CVE-2006-3334)

Libpng versions 1.0.6 through 1.2.12 can crash while decoding
the sPLT chunk.  This is due to an incorrect calculation of
the buffer size for storing the palette entries.

ok steven@@
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_libpng_pc_in,v 1.4 2006/06/29 14:33:47 bernd Exp $
d13 1
a13 1
 Version: 1.2.13
@


1.4
log
@Security update to png-1.2.12.

Fixes a buffer overflow vulnerability.

More information:
http://www.securityfocus.com/bid/18698/

ok steven@@ naddy@@
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_libpng_pc_in,v 1.3 2006/05/10 13:50:01 bernd Exp $
--- scripts/libpng.pc.in.orig	Tue Jun 27 22:22:40 2006
+++ scripts/libpng.pc.in	Thu Jun 29 10:52:35 2006
d13 1
a13 1
 Version: 1.2.12
@


1.3
log
@Update to png-1.2.10 and better DESCR.

ok naddy@@
@
text
@d1 3
a3 3
$OpenBSD$
--- scripts/libpng.pc.in.orig	Fri Mar  3 03:48:03 2006
+++ scripts/libpng.pc.in	Tue May  9 14:57:35 2006
d8 1
a8 1
-includedir=@@includedir@@/libpng@@PNGLIB_MAJOR@@
d13 2
a14 2
 Version: @@PNGLIB_VERSION@@
-Libs: -L${libdir} -lpng@@PNGLIB_MAJOR@@
@


1.2
log
@upgrade to png 1.2.8

From: Simon Dassow <janus at area319 dot de>
@
text
@d1 9
a9 5
--- scripts/libpng.pc.in.orig	Thu Dec  2 19:14:31 2004
+++ scripts/libpng.pc.in	Sun Jul 24 00:42:53 2005
@@@@ -4,8 +4,8 @@@@ exec_prefix=${prefix}
 libdir=${exec_prefix}/lib
 includedir=${exec_prefix}/include
d11 1
a11 2
-Name: libpng12
+Name: libpng
d13 2
a14 3
 Version: 1.2.8
-Libs: -L${libdir} -lpng12 -lz -lm
-Cflags: -I${includedir}/libpng12
d16 1
a16 1
+Cflags: -I${includedir}/libpng
@


1.1
log
@install pkgconfig file for png.

From: Jacob Meuser <jakemsr at jakemsr dot com>
@
text
@d1 2
a2 3
$OpenBSD$
--- scripts/libpng.pc.in.orig	Sat Sep 11 22:19:36 2004
+++ scripts/libpng.pc.in	Thu Oct 14 03:07:03 2004
d10 1
a10 1
 Version: 1.2.7
@

