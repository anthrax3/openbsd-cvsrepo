head	1.3;
access;
symbols
	OPENBSD_2_7:1.1.0.2
	OPENBSD_2_7_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2000.06.22.08.21.49;	author brad;	state dead;
branches;
next	1.2;

1.2
date	2000.05.21.10.40.23;	author fgsch;	state Exp;
branches;
next	1.1;

1.1
date	2000.03.19.00.31.33;	author espie;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2000.09.15.04.53.39;	author marc;	state dead;
branches;
next	;


desc
@@


1.3
log
@- remove license type
- remove FAKE=Yes
- remove unnecessary pre-patch target and replace with usage of MAKE_FILE
- switch to libtool for shared library creation
@
text
@--- Makefile.orig2	Sun May 21 06:51:06 2000
+++ Makefile	Sun May 21 06:52:43 2000
@@@@ -29,15 +29,12 @@@@
 .c.so:
 	${CC} -fpic -DPIC ${CFLAGS} -c ${.IMPSRC} -o ${.TARGET}
 
-all: libpng.a libpng.so.${VER}
+all: libpng.a
 
 libpng.a: $(OBJS)
 	ar rc $@@  $(OBJS)
 	$(RANLIB) $@@
 
-libpng.so.${VER}: $(OBJS:S/o$/so/g)
-	ld -Bshareable -Bforcearchive -x -assert pure-text -o $@@ $(OBJS:S/o$/so/g) -lz
-
 pngtest: pngtest.o libpng.a
 	$(CC) -o pngtest $(CFLAGS) pngtest.o $(LDFLAGS)
 
@@@@ -50,7 +47,6 @@@@
 	${BSD_INSTALL_DATA} png.h pngconf.h $(prefix)/include
 	${BSD_INSTALL_DATA} libpng.a $(prefix)/lib
 	${RANLIB} $(prefix)/lib/libpng.a
-	${BSD_INSTALL_DATA} libpng.so.${VER} $(prefix)/lib
 
 clean:
 	rm -f *.o libpng.a pngtest pngout.png
@


1.2
log
@Update to png-1.0.6; too many changes to list here.
@
text
@@


1.1
log
@Use PATCH_LIST to handle supplementary patch.
Playing around with multiple definitions of post-patch is a bad idea...
@
text
@d1 3
a3 3
--- Makefile.orig2	Sat May  8 13:41:08 1999
+++ Makefile	Sat May  8 13:41:28 1999
@@@@ -28,15 +28,12 @@@@
d15 1
a15 1
-	ld -Bshareable -x -assert pure-text -o $@@ $(OBJS:S/o$/so/g) -lz
d20 1
a20 1
@@@@ -49,7 +46,6 @@@@
@


1.1.2.1
log
@bring graphics as of cut-over date into 2.7 branch
@
text
@@


