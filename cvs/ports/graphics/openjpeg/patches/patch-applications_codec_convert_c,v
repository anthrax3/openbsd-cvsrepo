head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.1.0.12
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.8
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.10
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.6
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.10.26.18.16.49;	author jca;	state Exp;
branches;
next	1.1;
commitid	AqWyKaL3ZRdIQgJQ;

1.1
date	2013.12.11.23.13.06;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to openjpeg-1.5.2

This doesn't solve all the problems currently affecting openjpeg, but
makes it easier to pick up fixes.  Cheating a bit, as the lib lost two
symbols, but those should never have been included in the library
anyway.

Feedback, tests and ok sthen@@ (maintainer)
@
text
@$OpenBSD$
--- applications/codec/convert.c.orig	Fri Mar 28 09:20:25 2014
+++ applications/codec/convert.c	Tue Oct 18 02:55:44 2016
@@@@ -184,7 +184,7 @@@@ static int tga_readheader(FILE *fp, unsigned int *bits
 	return 1;
 }
 
-#ifdef OPJ_BIG_ENDIAN
+#if defined(OPJ_BIG_ENDIAN) && !defined(swap16)
 
 static inline int16_t swap16(int16_t x)
 {
@


1.1
log
@fix on big-endian arch; thanks Markus Lude for the report
@
text
@d2 3
a4 3
--- applications/codec/convert.c.orig	Wed Dec 11 23:11:40 2013
+++ applications/codec/convert.c	Wed Dec 11 23:11:59 2013
@@@@ -179,7 +179,7 @@@@ static int tga_readheader(FILE *fp, unsigned int *bits
d8 2
a9 2
-#if WORDS_BIGENDIAN == 1
+#if WORDS_BIGENDIAN == 1 && !defined(swap16)
@

