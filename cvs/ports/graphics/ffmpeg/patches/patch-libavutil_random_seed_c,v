head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.2
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2017.02.09.12.58.03;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	XpCg0YuYlMfpptmx;

1.2
date	2016.05.03.06.05.49;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	VfdMmnXKIRQjKU4e;

1.1
date	2016.01.14.06.09.43;	author ajacoutot;	state Exp;
branches;
next	;
commitid	1MTT7RUn5DsgY3tS;


desc
@@


1.3
log
@Update to ffmpeg-20170208.

from Brad (maintainer)
@
text
@$OpenBSD: patch-libavutil_random_seed_c,v 1.2 2016/05/03 06:05:49 ajacoutot Exp $

lavu/random_seed: use arc4random() when available

--- libavutil/random_seed.c.orig	Wed Feb  8 23:27:16 2017
+++ libavutil/random_seed.c	Wed Feb  8 23:34:27 2017
@@@@ -128,6 +128,10 @@@@ uint32_t av_get_random_seed(void)
     }
 #endif
 
+#if HAVE_ARC4RANDOM
+    return arc4random();
+#endif
+
     if (read_random(&seed, "/dev/urandom") == sizeof(seed))
         return seed;
     if (read_random(&seed, "/dev/random")  == sizeof(seed))
@


1.2
log
@Update to a newer snapshot: ffmpeg-20160502.

from Brad (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-libavutil_random_seed_c,v 1.1 2016/01/14 06:09:43 ajacoutot Exp $
d5 3
a7 3
--- libavutil/random_seed.c.orig	Wed Apr 27 00:56:57 2016
+++ libavutil/random_seed.c	Wed Apr 27 01:08:36 2016
@@@@ -126,6 +126,10 @@@@ uint32_t av_get_random_seed(void)
@


1.1
log
@Update to ffmpeg-20160113.

from Brad (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- libavutil/random_seed.c.orig	Thu Dec 17 20:55:23 2015
+++ libavutil/random_seed.c	Thu Dec 17 20:55:53 2015
@@@@ -121,6 +121,10 @@@@ uint32_t av_get_random_seed(void)
@

