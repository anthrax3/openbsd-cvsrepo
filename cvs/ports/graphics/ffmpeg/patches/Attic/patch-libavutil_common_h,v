head	1.4;
access;
symbols
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2011.04.12.22.59.07;	author sthen;	state dead;
branches;
next	1.3;

1.3
date	2011.03.29.20.01.43;	author edd;	state Exp;
branches;
next	1.2;

1.2
date	2010.09.03.16.39.13;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2010.05.26.21.38.52;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update FFmpeg to 20110408 snapshot.

- Enable WebM encoding.
- Stop stripping the shared libraries which explains why I was
   seeing no symbol table with the shared libraries.
- Build all of FFmpeg with -fomit-frame-pointer on i386 instead of
   hacking the various Makefile's and having to add more files as
   further updates are made. Use default CFLAGS (-O2) on i386 now too
   instead of overriding with -O.
- Remove the UINT64_C hack.
- Update HOMEPAGE to use the ffmpeg.org domain.
- Various other cleaning up and fixes for the port.

From Brad, ok dcoppa@@
@
text
@$OpenBSD: patch-libavutil_common_h,v 1.3 2011/03/29 20:01:43 edd Exp $
--- libavutil/common.h.orig	Sun Mar  6 23:03:50 2011
+++ libavutil/common.h	Sun Mar  6 23:45:11 2011
@@@@ -43,6 +43,10 @@@@
 #   define AV_NE(be, le) (le)
 #endif
 
+#ifndef UINT64_C
+#define UINT64_C(_c)   __CONCAT(_c, ULL)
+#endif
+
 //rounded division & shift
 #define RSHIFT(a,b) ((a) > 0 ? ((a) + ((1<<(b))>>1))>>(b) : ((a) + ((1<<(b))>>1)-1)>>(b))
 /* assume b>0 */
@


1.3
log
@Update to a newer snapshot of ffmpeg. Maintainer timed out.
OK jakemsr@@, landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-libavutil_common_h,v 1.2 2010/09/03 16:39:13 sthen Exp $
@


1.2
log
@- Some clean up of the FFMpeg configure patch
- Update the sndio backend code to the newer libavdevice alsa code
which has been refactored and cleaned up a bit

From Brad (maintainer).
@
text
@d1 9
a9 13
$OpenBSD: patch-libavutil_common_h,v 1.1 2010/05/26 21:38:52 jakemsr Exp $
--- libavutil/common.h.orig	Tue May 11 19:20:40 2010
+++ libavutil/common.h	Thu Aug 19 21:54:13 2010
@@@@ -35,6 +35,17 @@@@
 #include <stdlib.h>
 #include <string.h>
 #include "attributes.h"
+#include "avconfig.h"
+
+#if AV_HAVE_BIGENDIAN
+#   define AV_NE(be, le) be
+#else
+#   define AV_NE(be, le) le
a11 4
+#ifndef UINT64_C
+#define UINT64_C(_c)	__CONCAT(_c, ULL)
+#endif
 
d14 1
@


1.1
log
@update to ffmpeg subversion snapshot from 2010-05-12

update needed for newer x264 and for gcc4.  this causes yet more
fallout as some libav* functions other ports were using have been
fully deprecated.  commits coming rsn ...

mostly from new MAINTAINER
@
text
@d1 5
a5 4
$OpenBSD$
--- libavutil/common.h.orig	Wed May 19 09:31:50 2010
+++ libavutil/common.h	Wed May 19 09:32:50 2010
@@@@ -36,6 +36,10 @@@@
d8 8
a15 1
 
d19 1
a19 1
+
a21 1
 /* assume b>0 */
@

