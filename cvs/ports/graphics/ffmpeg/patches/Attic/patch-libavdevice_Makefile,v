head	1.6;
access;
symbols
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2011.04.12.22.59.07;	author sthen;	state dead;
branches;
next	1.5;

1.5
date	2011.03.29.20.01.43;	author edd;	state Exp;
branches;
next	1.4;

1.4
date	2010.09.03.16.39.13;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2010.05.26.21.38.52;	author jakemsr;	state Exp;
branches;
next	1.2;

1.2
date	2008.07.09.01.57.44;	author jakemsr;	state dead;
branches;
next	1.1;

1.1
date	2008.01.26.01.56.02;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update FFmpeg to 20110408 snapshot.

- Enable WebM encoding.
- Stop stripping the shared libraries which explains why I was
   seeing no symbol table with the shared libraries.
- Build all of FFmpeg with -fomit-frame-pointer on i386 instead of
   hacking the various Makefile's and having to add more files as
   further updates are made. Use default CFLAGS (-O2) on i386 now too
   instead of overriding with -O.
- Remove the UINT64_C hack.
- Update HOMEPAGE to use the ffmpeg.org domain.
- Various other cleaning up and fixes for the port.

From Brad, ok dcoppa@@
@
text
@$OpenBSD: patch-libavdevice_Makefile,v 1.5 2011/03/29 20:01:43 edd Exp $
--- libavdevice/Makefile.orig	Sun Mar  6 23:03:49 2011
+++ libavdevice/Makefile	Sun Mar  6 23:42:07 2011
@@@@ -17,6 +17,8 @@@@ OBJS-$(CONFIG_DV1394_INDEV)              += dv1394.o
 OBJS-$(CONFIG_JACK_INDEV)                += jack_audio.o
 OBJS-$(CONFIG_OSS_INDEV)                 += oss_audio.o
 OBJS-$(CONFIG_OSS_OUTDEV)                += oss_audio.o
+OBJS-$(CONFIG_SNDIO_INDEV)               += sndio_common.o sndio_dec.o
+OBJS-$(CONFIG_SNDIO_OUTDEV)              += sndio_common.o sndio_enc.o
 OBJS-$(CONFIG_V4L2_INDEV)                += v4l2.o
 OBJS-$(CONFIG_V4L_INDEV)                 += v4l.o
 OBJS-$(CONFIG_VFWCAP_INDEV)              += vfwcap.o
@@@@ -26,5 +28,6 @@@@ OBJS-$(CONFIG_X11_GRAB_DEVICE_INDEV)     += x11grab.o
 OBJS-$(CONFIG_LIBDC1394_INDEV)           += libdc1394.o
 
 SKIPHEADERS-$(HAVE_ALSA_ASOUNDLIB_H)     += alsa-audio.h
+SKIPHEADERS-$(HAVE_SNDIO_H)              += sndio_common.h
 
 include $(SUBDIR)../subdir.mak
@


1.5
log
@Update to a newer snapshot of ffmpeg. Maintainer timed out.
OK jakemsr@@, landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-libavdevice_Makefile,v 1.4 2010/09/03 16:39:13 sthen Exp $
@


1.4
log
@- Some clean up of the FFMpeg configure patch
- Update the sndio backend code to the newer libavdevice alsa code
which has been refactored and cleaned up a bit

From Brad (maintainer).
@
text
@d1 3
a3 3
$OpenBSD: patch-libavdevice_Makefile,v 1.3 2010/05/26 21:38:52 jakemsr Exp $
--- libavdevice/Makefile.orig	Tue May 11 19:20:57 2010
+++ libavdevice/Makefile	Wed Aug 18 18:30:32 2010
d13 2
a14 2
@@@@ -29,5 +31,6 @@@@ OBJS-$(CONFIG_AUDIO_BEOS_INDEV)          += beosaudio.
 OBJS-$(CONFIG_AUDIO_BEOS_OUTDEV)         += beosaudio.o
@


1.3
log
@update to ffmpeg subversion snapshot from 2010-05-12

update needed for newer x264 and for gcc4.  this causes yet more
fallout as some libav* functions other ports were using have been
fully deprecated.  commits coming rsn ...

mostly from new MAINTAINER
@
text
@d1 3
a3 3
$OpenBSD$
--- libavdevice/Makefile.orig	Sun May 16 11:22:10 2010
+++ libavdevice/Makefile	Sun May 16 11:24:29 2010
d8 2
a9 2
+OBJS-$(CONFIG_SNDIO_INDEV)               += sndio.o
+OBJS-$(CONFIG_SNDIO_OUTDEV)              += sndio.o
d13 7
@


1.2
log
@
update to subversion snapshot from 2008-06-20.

added since last update:

- AVM2 (Flash 9) SWF muxer
- QT variant of IMA ADPCM encoder
- VFW grabber
- Ipod/Iphone compatible mp4 muxer
- Mimic decoder
- MSN TCP Webcam stream demuxer
- RL2 demuxer / decoder
- IFF demuxer
- 8SVX audio decoder
- BFI demuxer
- MAXIS EA XA (.xa) demuxer / decoder
- BFI video decoder
- OMA demuxer

also:
* headers have been moved to library specific subdirectories instead
  of all under ffmpeg.
* libswscale is now enabled in the build.


feedback/ok brad@@
@
text
@d1 12
a12 18
$OpenBSD: patch-libavdevice_Makefile,v 1.1 2008/01/26 01:56:02 jakemsr Exp $
--- libavdevice/Makefile.orig	Fri Jan 18 01:21:47 2008
+++ libavdevice/Makefile	Sat Jan 19 18:36:15 2008
@@@@ -1,12 +1,10 @@@@
 include ../config.mak
 
 NAME=avdevice
-LIBVERSION=$(LAVDVERSION)
+LIBVERSION=$(LIBavdevice_VERSION)
 LIBMAJOR=$(LAVDMAJOR)
 
-EXTRALIBS := -L$(BUILD_ROOT)/libavformat -lavformat$(BUILDSUF) \
-             -L$(BUILD_ROOT)/libavcodec  -lavcodec$(BUILDSUF) \
-             -L$(BUILD_ROOT)/libavutil   -lavutil$(BUILDSUF) $(EXTRALIBS)
+EXTRALIBS=$(LIBavdevice_EXTRALIBS)
 
 CFLAGS += -I$(SRC_PATH)/libavcodec -I$(SRC_PATH)/libavformat
 
@


1.1
log
@update to 20080118

relevent Changelog entries:

+- Monkey's Audio demuxer and decoder
+- additional SPARC (VIS) optimizations
+- AMV audio and video decoder
+- DNxHD encoder
+- H.264 PAFF decoding
+- Nellymoser ASAO decoder
+- Beam Software SIFF demuxer and decoder
+- libvorbis Vorbis decoding removed in favor of native decoder
+- IntraX8 (J-Frame) subdecoder for WMV2 and VC-1
+- Ogg muxer
+- PC Paintbrush PCX decoder
+- Sun Rasterfile decoder
+- TechnoTrend PVA demuxer
+- Linux Media Labs MPEG-4 (LMLM4) demuxer

port changes:

disable ff_fdct_sse2 usage on i386 and libpostproc's
temporal noise reduction filter, since they both regularly
cause segfaults.

ok deanna@@, brad@@

tested by a few others, thanks
@
text
@d1 1
a1 1
$OpenBSD$
@

