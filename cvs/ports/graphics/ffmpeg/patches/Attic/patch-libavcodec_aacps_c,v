head	1.2;
access;
symbols
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2014.05.16.01.34.50;	author brad;	state dead;
branches;
next	1.1;

1.1
date	2013.08.19.14.38.29;	author brad;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to FFmpeg 20140412 snapshot. From 2.2 branch.

Update to MPlayer 20140412 snapshot.

Take MAINTAINER for MPlayer. ok edd@@

ok ajacoutot@@
@
text
@$OpenBSD: patch-libavcodec_aacps_c,v 1.1 2013/08/19 14:38:29 brad Exp $

Correct opdipd code to match spec. This fixes out of array reads.

--- libavcodec/aacps.c.orig	Wed Jun 12 19:06:09 2013
+++ libavcodec/aacps.c	Wed Jun 12 19:07:00 2013
@@@@ -823,7 +823,8 @@@@ static void stereo_processing(PSContext *ps, float (*l
             h12 = H_LUT[iid_mapped[e][b] + 7 + 23 * ps->iid_quant][icc_mapped[e][b]][1];
             h21 = H_LUT[iid_mapped[e][b] + 7 + 23 * ps->iid_quant][icc_mapped[e][b]][2];
             h22 = H_LUT[iid_mapped[e][b] + 7 + 23 * ps->iid_quant][icc_mapped[e][b]][3];
-            if (!PS_BASELINE && ps->enable_ipdopd && b < ps->nr_ipdopd_par) {
+
+            if (!PS_BASELINE && ps->enable_ipdopd && 2*b <= NR_PAR_BANDS[is34]) {
                 //The spec say says to only run this smoother when enable_ipdopd
                 //is set but the reference decoder appears to run it constantly
                 float h11i, h12i, h21i, h22i;
@


1.1
log
@Update to FFmpeg 20130718 snapshot. From 1.2 branch.

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
@

