head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2008.01.30.03.58.52;	author jakemsr;	state dead;
branches;
next	1.1;

1.1
date	2008.01.26.01.56.02;	author jakemsr;	state Exp;
branches;
next	;


desc
@@


1.2
log
@no need to disable these SSE2 functions on i386 ater the recent
libpthread changes
@
text
@$OpenBSD: patch-libavcodec_i386_mpegvideo_mmx_c,v 1.1 2008/01/26 01:56:02 jakemsr Exp $
--- libavcodec/i386/mpegvideo_mmx.c.orig	Fri Dec 14 23:56:43 2007
+++ libavcodec/i386/mpegvideo_mmx.c	Mon Jan 21 11:00:22 2008
@@@@ -732,9 +732,12 @@@@ void MPV_common_init_mmx(MpegEncContext *s)
                 s->dct_quantize= dct_quantize_SSSE3;
             } else
 #endif
+#ifdef ARCH_X86_64
             if(mm_flags & MM_SSE2){
                 s->dct_quantize= dct_quantize_SSE2;
-            } else if(mm_flags & MM_MMXEXT){
+            } else
+#endif
+            if(mm_flags & MM_MMXEXT){
                 s->dct_quantize= dct_quantize_MMX2;
             } else {
                 s->dct_quantize= dct_quantize_MMX;
@


1.1
log
@update to 20080118

relevent Changelog entries:

+- Monkey's Audio demuxer and decoder
+- additional SPARC (VIS) optimizations
+- AMV audio and video decoder
+- DNxHD encoder
+- H.264 PAFF decoding
+- Nellymoser ASAO decoder
+- Beam Software SIFF demuxer and decoder
+- libvorbis Vorbis decoding removed in favor of native decoder
+- IntraX8 (J-Frame) subdecoder for WMV2 and VC-1
+- Ogg muxer
+- PC Paintbrush PCX decoder
+- Sun Rasterfile decoder
+- TechnoTrend PVA demuxer
+- Linux Media Labs MPEG-4 (LMLM4) demuxer

port changes:

disable ff_fdct_sse2 usage on i386 and libpostproc's
temporal noise reduction filter, since they both regularly
cause segfaults.

ok deanna@@, brad@@

tested by a few others, thanks
@
text
@d1 1
a1 1
$OpenBSD$
@

