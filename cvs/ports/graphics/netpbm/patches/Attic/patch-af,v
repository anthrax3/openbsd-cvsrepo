head	1.4;
access;
symbols
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	OPENBSD_2_9:1.3.0.10
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.8
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.6
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.3.0.4
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	brad_1999-03-18:1.1.1.2
	brad:1.1.1
	form_980514:1.1.1.1
	form:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2001.10.03.03.09.31;	author brad;	state dead;
branches;
next	1.3;

1.3
date	99.03.19.02.01.37;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	98.07.04.03.40.40;	author marc;	state dead;
branches;
next	1.1;

1.1
date	98.05.14.05.41.13;	author form;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.14.05.41.13;	author form;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.03.19.01.31.49;	author brad;	state Exp;
branches;
next	;


desc
@@


1.4
log
@upgrade to netpbm 9.19
@
text
@--- pbm/pbmtext.c.orig	Wed Oct 27 08:27:04 1993
+++ pbm/pbmtext.c	Sun Jan 10 23:48:40 1999
@@@@ -105,10 +105,12 @@@@
     else
 	{ /* Read text from stdin. */
 	lines = 0;
-	while ( gets( buf ) != NULL )
+	while ( fgets( buf, sizeof(buf), stdin ) != NULL )
 	    {
 	    int l;
+            char *nl = strchr(buf, '\n');
 
+            if (nl) *nl = 0;
 	    fix_control_chars( buf );
 	    l = strlen( buf );
 	    if ( lines >= maxlines )
@


1.3
log
@patches
@
text
@@


1.2
log
@remove patches no longer needed for tiff34
@
text
@d1 16
a16 19
*** pnm/pnmtotiff.c.orig	Thu May 14 12:27:58 1998
--- pnm/pnmtotiff.c	Thu May 14 12:28:24 1998
***************
*** 28,34 ****
  #endif
  #include <tiffioP.h>
  #endif
! #include <tiffio.h>
  
  #include "ppmcmap.h"
  #define MAXCOLORS 256
--- 28,34 ----
  #endif
  #include <tiffioP.h>
  #endif
! #include <tiffio34.h>
  
  #include "ppmcmap.h"
  #define MAXCOLORS 256
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@netpbm-94.3.1, image converter of many formats
@
text
@@


1.1.1.2
log
@add netpbm port
@
text
@d1 19
a19 16
--- pbm/pbmtext.c.orig	Wed Oct 27 08:27:04 1993
+++ pbm/pbmtext.c	Sun Jan 10 23:48:40 1999
@@@@ -105,10 +105,12 @@@@
     else
 	{ /* Read text from stdin. */
 	lines = 0;
-	while ( gets( buf ) != NULL )
+	while ( fgets( buf, sizeof(buf), stdin ) != NULL )
 	    {
 	    int l;
+            char *nl = strchr(buf, '\n');
 
+            if (nl) *nl = 0;
 	    fix_control_chars( buf );
 	    l = strlen( buf );
 	    if ( lines >= maxlines )
@

