head	1.34;
access;
symbols
	OPENBSD_5_9:1.32.0.2
	OPENBSD_5_9_BASE:1.32
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.30.0.6
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.30.0.4
	OPENBSD_5_6_BASE:1.30
	OPENBSD_5_5:1.30.0.2
	OPENBSD_5_5_BASE:1.30
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.25.0.2
	OPENBSD_5_3_BASE:1.25
	OPENBSD_5_2:1.24.0.4
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.24
	OPENBSD_5_1:1.24.0.2
	OPENBSD_5_0:1.22.0.4
	OPENBSD_5_0_BASE:1.22
	OPENBSD_4_9:1.22.0.2
	OPENBSD_4_9_BASE:1.22
	OPENBSD_4_8:1.18.0.4
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.2
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.17.0.6
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.17.0.4
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.17.0.2
	OPENBSD_4_4_BASE:1.17
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.13.0.2
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.9.0.2
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.6.0.2
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.3.0.2
	OPENBSD_3_8_BASE:1.3
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.34
date	2016.04.29.21.10.22;	author zhuk;	state dead;
branches;
next	1.33;
commitid	u9TvebbKy1wgQMr9;

1.33
date	2016.03.19.22.48.27;	author naddy;	state Exp;
branches;
next	1.32;
commitid	SIHnGQ3XIdGCb86J;

1.32
date	2015.08.17.20.34.21;	author sthen;	state Exp;
branches;
next	1.31;
commitid	60BvOqUl7gD2yB7y;

1.31
date	2015.05.05.17.00.17;	author sthen;	state Exp;
branches;
next	1.30;
commitid	ukCYGVBlglFzny8e;

1.30
date	2013.10.22.11.34.18;	author zhuk;	state Exp;
branches;
next	1.29;

1.29
date	2013.10.05.07.34.33;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2013.06.24.15.53.38;	author zhuk;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.21.08.45.18;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2013.03.11.11.10.53;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2013.01.23.21.29.13;	author zhuk;	state Exp;
branches;
next	1.24;

1.24
date	2011.11.02.09.57.22;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2011.09.16.10.02.37;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.11.17.19.37.49;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.17.08.05.14;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.09.18.22.26;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.24.21.21.01;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2009.08.10.06.31.45;	author kili;	state Exp;
branches;
next	1.17;

1.17
date	2008.07.18.19.45.13;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2008.06.29.20.44.51;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.15.20.09.41;	author simon;	state Exp;
branches;
next	1.14;

1.14
date	2007.05.09.11.33.49;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2006.11.13.11.20.25;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2006.10.17.20.31.09;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2006.10.17.20.01.02;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2006.08.03.12.53.18;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2006.06.12.15.45.51;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.03.14.21.36.18;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2006.01.14.00.07.29;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2005.12.31.14.22.41;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2005.12.31.14.19.38;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2005.04.19.10.11.26;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.04.16.14.56.34;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2005.04.09.21.37.25;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.04.09.21.37.25;	author espie;	state Exp;
branches;
next	;


desc
@@


1.34
log
@Remove KDE3 applications that have well-working KDE4+ counterparts.
@
text
@# $OpenBSD: Makefile,v 1.33 2016/03/19 22:48:27 naddy Exp $

COMMENT =		kde interface to exif
CATEGORIES =		graphics devel x11 x11/kde
DISTNAME =		libkexif-0.2.5
REVISION =		9
SHARED_LIBS =		kexif	2.2
EXTRACT_SUFX =		.tar.bz2
HOMEPAGE =		http://extragear.kde.org/apps/kipi/
MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=kipi/}

LIB_DEPENDS =	x11/kde/libs3 \
		graphics/libexif

MODULES =	devel/gettext \
		x11/kde

MODKDE_VERSION =	3.5
LIBTOOL_FLAGS +=	--tag=disable-static
CONFIGURE_STYLE =	autoconf
AUTOCONF_VERSION =	2.59
CONFIGURE_ARGS +=	${MODKDE_CONFIGURE_ARGS}
USE_GMAKE =		Yes
CONFIGURE_ENV +=	${MODKDE_CONFIGURE_ENV}
MAKE_ENV =		${CONFIGURE_ENV}

MAKE_FLAGS +=		${MODKDE_MAKE_FLAGS} LIB_TIFF='-ltiff -lz'
MAKE_FLAGS +=		LIBRESOLV=

# GPL
PERMIT_PACKAGE_CDROM =		Yes

WANTLIB += ${KDE}/DCOP ${KDE}/kdecore>=6 ${KDE}/kdefx ${KDE}/kdeui
WANTLIB += ${MODQT3_WANTLIB}
WANTLIB += GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft Xi Xinerama Xmu
WANTLIB += Xrandr Xrender Xt Xxf86vm art_lgpl_2 drm exif expat
WANTLIB += fontconfig freetype idn jpeg lcms m mng png stdc++ util xcb
WANTLIB += xcb-glx z X11-xcb Xau Xdmcp glapi pthread pthread-stubs xcb-dri2

.include <bsd.port.mk>
@


1.33
log
@drop SHARED_ONLY from KDE3 ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/08/17 20:34:21 sthen Exp $
@


1.32
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/05/05 17:00:17 sthen Exp $
a10 2

SHARED_ONLY =	Yes
@


1.31
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/10/22 11:34:18 zhuk Exp $
d6 1
a6 1
REVISION =		8
d40 1
a40 1
WANTLIB += xcb-glx z
@


1.30
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/10/05 07:34:33 espie Exp $
d6 1
a6 1
REVISION =		7
a16 7
WANTLIB =  GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft Xi Xinerama
WANTLIB += Xmu Xrandr Xrender Xt Xxf86vm art_lgpl_2 drm exif expat
WANTLIB += fontconfig freetype idn jpeg lcms m mng png stdc++ util
WANTLIB += xcb z 
WANTLIB += lib/qt3/qt-mt>=3.33
WANTLIB += ${KDE}/DCOP ${KDE}/kdecore>=6 ${KDE}/kdeui ${KDE}/kdefx

d34 7
@


1.29
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/06/24 15:53:38 zhuk Exp $
d6 1
a6 1
REVISION =		6
@


1.28
log
@Massive cleanup for KDE3. Main point is in changing WANTLIB from "foo" to
"lib/kde3/foo" where appropirate, but also many missing desktop goo items
added, some PFRAG.shared removed and so on.

input and okay landry@@ and ajacoutot@@, also okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/21 08:45:18 ajacoutot Exp $
d6 1
a6 1
REVISION =		5
@


1.27
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/11 11:10:53 espie Exp $
d6 1
a6 1
REVISION =		4
d14 1
a14 1
LIB_DEPENDS +=	x11/kde/libs3 \
d17 6
a22 6
WANTLIB =	ICE Xrender SM Xext X11 util m z \
		jpeg png art_lgpl_2 idn \
		xcb lib/qt3/qt-mt>=3.33 \
		kdecore>=6 DCOP kdeui kdefx exif
WANTLIB += GL Xcursor Xdamage Xfixes Xft Xi Xinerama Xmu Xrandr
WANTLIB += Xt Xxf86vm drm expat fontconfig freetype lcms mng stdc++
@


1.26
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/01/23 21:29:13 zhuk Exp $
a27 1
USE_LIBTOOL =		Yes
@


1.25
log
@Move KDE 3 headers from ${PREFIX}/include to ${PREFIX}/include/kde.
This port installs some headers there too, so bump.

Tested in a bulk, input and okay by landry@@
Reviewed by ajacoutot@@ too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/11/02 09:57:22 jasper Exp $
a40 2
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
a41 1
PERMIT_PACKAGE_FTP =		Yes
@


1.24
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/09/16 10:02:37 espie Exp $
d6 1
a6 1
REVISION =		3
@


1.23
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/11/17 19:37:49 jasper Exp $
d6 1
a6 1
REVISION =		2
d18 2
a19 2
		jpeg png art_lgpl_2 idn Xau Xdmcp \
		pthread-stubs xcb lib/qt3/qt-mt>=3.33 \
d21 2
@


1.22
log
@- use gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/17 08:05:14 espie Exp $
d6 1
a6 1
REVISION =		1
@


1.21
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/09 18:22:26 espie Exp $
d6 1
a6 1
REVISION =		0
d18 1
a18 1
		jpeg png art_lgpl_2 iconv idn intl Xau Xdmcp \
d22 2
a23 1
MODULES =	x11/kde
@


1.20
log
@WANTLIB conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/24 21:21:01 ajacoutot Exp $
d14 2
a15 2
LIB_DEPENDS +=	::x11/kde/libs3 \
		::graphics/libexif
d19 2
a20 2
		pthread-stubs xcb lib/qt3/qt-mt.>=3.33 \
		kdecore.>=6 DCOP kdeui kdefx exif
@


1.19
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/08/10 06:31:45 kili Exp $
d6 1
a6 1
PKGNAME =		${DISTNAME}p0
d13 4
a16 3
LIB_DEPENDS +=	lib/qt3/qt-mt.>=3.33::x11/qt3 \
		kdecore.>=6,DCOP,kdeui,kdefx::x11/kde/libs3 \
		exif::graphics/libexif
d19 3
a21 1
		pthread-stubs xcb
@


1.18
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/07/18 19:45:13 espie Exp $
a21 1
USE_X11 =		Yes
@


1.17
log
@minor update to 0.2.5 (translations, patch got upstream)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/06/29 20:44:51 sthen Exp $
d6 1
a6 1
PKGNAME =		${DISTNAME}
d17 2
a18 1
		jpeg png art_lgpl_2 iconv idn intl Xau Xdmcp
@


1.16
log
@sync WANTLIB following cairo update. ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/15 20:09:41 simon Exp $
d3 8
a10 8
COMMENT=		kde interface to exif
CATEGORIES=		graphics devel x11 x11/kde
DISTNAME=		libkexif-0.2.4
PKGNAME=		${DISTNAME}p1
SHARED_LIBS=		kexif	2.2
EXTRACT_SUFX=		.tar.bz2
HOMEPAGE=		http://extragear.kde.org/apps/kipi/
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=kipi/}
d12 2
a13 2
SHARED_ONLY=Yes
LIB_DEPENDS+=	lib/qt3/qt-mt.>=3.33::x11/qt3 \
d16 1
a16 1
WANTLIB=	ICE Xrender SM Xext pthread X11 util m z \
d18 1
a18 1
MODULES=	x11/kde
d20 10
a29 10
MODKDE_VERSION=		3.5
USE_X11=		Yes
USE_LIBTOOL=		Yes
LIBTOOL_FLAGS+=		--tag=disable-static
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.59
CONFIGURE_ARGS+=	${MODKDE_CONFIGURE_ARGS}
USE_GMAKE?=		Yes
CONFIGURE_ENV+=		${MODKDE_CONFIGURE_ENV}
MAKE_ENV=		${CONFIGURE_ENV}
d31 2
a32 2
MAKE_FLAGS+=		${MODKDE_MAKE_FLAGS} LIB_TIFF='-ltiff -lz'
MAKE_FLAGS+=		LIBRESOLV=
d35 4
a38 4
PERMIT_DISTFILES_CDROM?=	Yes
PERMIT_DISTFILES_FTP?=		Yes
PERMIT_PACKAGE_CDROM?=		Yes
PERMIT_PACKAGE_FTP?=		Yes
@


1.15
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/05/09 11:33:49 bernd Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d17 1
a17 1
		jpeg png art_lgpl_2 iconv idn intl
@


1.14
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/12/16 12:22:33 espie Exp $
d3 1
a3 1
COMMENT=		"kde interface to exif"
@


1.13
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/11/13 11:20:25 steven Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}
d13 1
a13 1
LIB_DEPENDS+=	lib/qt3/qt-mt.>=3.33::x11/qt3,mt \
@


1.12
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/10/17 20:31:09 espie Exp $
a15 2
BUILD_DEPENDS=	::devel/pkgconfig

@


1.11
log
@update to 0.2.4
bump the minor, because the interface to one function was extended:
it does something smart with empty parameters now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/10/17 20:01:02 espie Exp $
d23 1
@


1.10
log
@Fix nasty bug on OpenBSD: we can't assume we can read/write to a
QDataStream freely. Under qt3, there's no mechanism to make sure the
underlying FILE * gets flushed between an fread() and an fwrite(), and
so the data gets written at the wrong location.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/08/03 12:53:18 espie Exp $
d5 3
a7 3
DISTNAME=		libkexif-0.2.2
PKGNAME=		${DISTNAME}p1
SHARED_LIBS=		kexif	2.1
d19 1
a19 1
		jpeg png art_lgpl_2 iconv idn
@


1.9
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/06/12 15:45:51 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
a11 1
FLAVORS=	debug
d13 3
a15 3
LIB_DEPENDS+=lib/qt3/qt-mt.>=3.33::x11/qt3,mt \
	kdecore.>=6,DCOP,kdeui,kdefx::x11/kde/libs3 \
	exif::graphics/libexif
@


1.8
log
@idn wantlib for kde, last batch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/03/14 21:36:18 espie Exp $
d14 2
a15 2
LIB_DEPENDS+=lib/qt3/qt-mt.3.33::x11/qt3,mt \
	kdecore.6,DCOP,kdeui,kdefx::x11/kde/libs3 \
@


1.7
log
@update to newer version, zap old libtool patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/01/14 00:07:29 espie Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}
d20 1
a20 1
		jpeg png art_lgpl_2
@


1.6
log
@more C++ libs bumps. Done thru mail, plus lizards.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/12/31 14:22:41 steven Exp $
d5 3
a7 3
DISTNAME=		libkexif-0.2.1
PKGNAME=		${DISTNAME}p1
SHARED_LIBS=		kexif	2.0
d10 1
a10 1
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=digikam/}
d12 1
d23 1
a23 1
MODKDE_VERSION=		3.4
@


1.5
log
@+= instead of =
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/12/31 14:19:38 steven Exp $
d6 2
a7 2
PKGNAME=		${DISTNAME}p0
SHARED_LIBS=		kexif	1.0
@


1.4
log
@SHARED_LIBS, switch to USE_LIBTOOL, sync with update-plist, bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/04/19 10:11:26 espie Exp $
d24 1
a24 1
LIBTOOL_FLAGS=		--tag=disable-static
@


1.3
log
@use the standard kde patches, avoid autoconf autodetection, do not
pick up autoconf-2.54 if it's there, so that autoheader get confused
when it sees an autom4te cache it didn't create...

first notice by sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/04/16 14:56:34 sturm Exp $
d6 2
d23 2
a24 1
MODKDE_LIBTOOL=		Yes
@


1.2
log
@BUILD_DEPENDS on pkgconfig
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/04/09 21:37:25 espie Exp $
d20 1
a23 1
AUTOCONF=		/bin/sh ${WRKDIST}/admin/cvs.sh configure
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d14 1
@


1.1.1.1
log
@prerequisite for digikam
@
text
@@
