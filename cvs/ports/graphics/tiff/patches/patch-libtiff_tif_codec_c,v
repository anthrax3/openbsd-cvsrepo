head	1.5;
access;
symbols
	OPENBSD_6_1:1.5.0.6
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.5.0.4
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_7:1.3.0.8
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.8
	OPENBSD_5_0:1.1.0.6
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.4
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2015.11.04.20.51.36;	author naddy;	state Exp;
branches;
next	1.4;
commitid	153WTW8OyW7UOkpg;

1.4
date	2015.03.29.17.39.22;	author naddy;	state dead;
branches;
next	1.3;
commitid	DVvDfC6c0cv0tIBV;

1.3
date	2013.05.03.11.00.39;	author jasper;	state Exp;
branches
	1.3.6.1
	1.3.8.1;
next	1.2;

1.2
date	2012.04.14.15.09.55;	author naddy;	state Exp;
branches
	1.2.4.1;
next	1.1;

1.1
date	2010.06.30.17.10.08;	author naddy;	state Exp;
branches;
next	;

1.2.4.1
date	2013.05.03.11.04.00;	author jasper;	state Exp;
branches;
next	;

1.3.6.1
date	2015.03.29.20.58.58;	author naddy;	state dead;
branches;
next	;
commitid	yV7LOUcjZFa2iAbX;

1.3.8.1
date	2015.03.29.19.41.56;	author naddy;	state dead;
branches;
next	;
commitid	tay2jRrbkJ3GxbDm;


desc
@@


1.5
log
@update to 4.0.6, no major changes
@
text
@$OpenBSD$
--- libtiff/tif_codec.c.orig	Sat Aug 29 00:16:22 2015
+++ libtiff/tif_codec.c	Wed Nov  4 17:37:49 2015
@@@@ -108,7 +108,8 @@@@ _notConfigured(TIFF* tif)
 	const TIFFCodec* c = TIFFFindCODEC(tif->tif_dir.td_compression);
         char compression_code[20];
         
-        sprintf(compression_code, "%d",tif->tif_dir.td_compression );
+        snprintf(compression_code, sizeof(compression_code), "%d",
+		 tif->tif_dir.td_compression );
 	TIFFErrorExt(tif->tif_clientdata, tif->tif_name,
                      "%s compression support is not configured", 
                      c ? c->name : compression_code );
@


1.4
log
@Security update to 4.0.4beta (plus one further upstream fix).
Should fix CVE-2014-8127, CVE-2014-8128, CVE-2014-8129, CVE-2014-8130,
CVE-2014-9655, CVE-2015-1547.
@
text
@d1 4
a4 10
$OpenBSD: patch-libtiff_tif_codec_c,v 1.3 2013/05/03 11:00:39 jasper Exp $

Security fix for CVE-2013-1961 libtiff (tiff2pdf): Stack-based buffer overflow
with malformed image-length and resolution

Patch from https://bugzilla.redhat.com/show_bug.cgi?id=952131

--- libtiff/tif_codec.c.orig	Tue Dec 14 15:18:28 2010
+++ libtiff/tif_codec.c	Wed Apr 11 18:22:55 2012
@@@@ -108,7 +108,7 @@@@ _notConfigured(TIFF* tif)
d8 3
a10 2
-        sprintf( compression_code, "%d", tif->tif_dir.td_compression );
+        snprintf( compression_code, sizeof(compression_code), "%d", tif->tif_dir.td_compression );
@


1.3
log
@Security fixes for
CVE-2013-1960 - Heap-based buffer overflow
CVE-2013-1961 - Stack-based buffer overflow

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-libtiff_tif_codec_c,v 1.2 2012/04/14 15:09:55 naddy Exp $
@


1.3.6.1
log
@Security update to 4.0.4beta (plus one further upstream fix).
Should fix CVE-2014-8127, CVE-2014-8128, CVE-2014-8129, CVE-2014-8130,
CVE-2014-9655, CVE-2015-1547.
@
text
@d1 1
a1 1
$OpenBSD: patch-libtiff_tif_codec_c,v 1.3 2013/05/03 11:00:39 jasper Exp $
@


1.3.8.1
log
@Security update to 4.0.4beta (plus one further upstream fix).
Should fix CVE-2014-8127, CVE-2014-8128, CVE-2014-8129, CVE-2014-8130,
CVE-2014-9655, CVE-2015-1547.
@
text
@d1 1
a1 1
$OpenBSD: patch-libtiff_tif_codec_c,v 1.3 2013/05/03 11:00:39 jasper Exp $
@


1.2
log
@Major update to 4.0.1, which adds BigTIFF support and includes some API
changes.  Also include upstream fix for CVE-2012-1173.
@
text
@d1 7
a7 1
$OpenBSD: patch-libtiff_tif_codec_c,v 1.1 2010/06/30 17:10:08 naddy Exp $
@


1.2.4.1
log
@Security fixes for
CVE-2013-1960 - Heap-based buffer overflow
CVE-2013-1961 - Stack-based buffer overflow

ok sthen@@
@
text
@d1 1
a1 7
$OpenBSD: patch-libtiff_tif_codec_c,v 1.3 2013/05/03 11:00:39 jasper Exp $

Security fix for CVE-2013-1961 libtiff (tiff2pdf): Stack-based buffer overflow
with malformed image-length and resolution

Patch from https://bugzilla.redhat.com/show_bug.cgi?id=952131

@


1.1
log
@SECURITY:
Update to 3.9.4, which includes fixes for CVE-2009-2347 and CVE-2010-1411.
@
text
@d1 4
a4 4
$OpenBSD$
--- libtiff/tif_codec.c.orig	Sun Jun 27 01:01:03 2010
+++ libtiff/tif_codec.c	Sun Jun 27 01:01:17 2010
@@@@ -104,7 +104,7 @@@@ _notConfigured(TIFF* tif)
@

