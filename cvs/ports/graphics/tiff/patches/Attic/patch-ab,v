head	1.4;
access;
symbols
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	OPENBSD_2_9:1.3.0.6
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	brad_1999-10-26:1.1.1.2
	brad:1.1.1
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	tiff3_3:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2001.10.10.15.15.00;	author wilfried;	state dead;
branches;
next	1.3;

1.3
date	99.10.26.22.05.20;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	98.06.10.02.56.25;	author marc;	state dead;
branches;
next	1.1;

1.1
date	97.12.03.02.37.01;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.03.02.37.01;	author angelos;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	99.10.26.22.01.26;	author brad;	state Exp;
branches;
next	;


desc
@@


1.4
log
@use -fPIC rather than -fpic
regenerate the patches with update-patches
ok naddy@@
@
text
@--- tools/fax2ps.c.orig	Fri Oct 22 16:33:29 1999
+++ tools/fax2ps.c	Fri Oct 22 16:34:10 1999
@@@@ -382,8 +382,7 @@@@
 	char temp[1024], buf[16*1024];
 
 	strcpy(temp, "/tmp/fax2psXXXXXX");
-	(void) mktemp(temp);
-	fd = fopen(temp, "w");
+	fd = fdopen(mkstemp(temp), "w+");
 	if (fd == NULL) {
 	    fprintf(stderr, "Could not create temp file \"%s\"\n", temp);
 	    exit(-2);
@


1.3
log
@add libtiff v3.5.2
@
text
@@


1.2
log
@1) remove tiff from graphics makefile as there is nothing to make
2) change tiff/Makefile to spit out message saying to use tiff34
   remove all tiff files, patches, and pkg data; they're no longer needed
3) install tiff34 as libtiff, tiff.h, and tiffio.h; add symbolic links
   so the old names of libtiff34, tiff34.h, and tiffio34.h still work.
4) Change ImageMagick to use -ltiff, not -ltiff34; remove the patch
   files and directory as they are no longer needed.
5) Change gimp to use -ltiff, not -ltiff34; remove the patch files and
   directory as they are no longer needed.

NOTE: with these changes ImageMagick and gimp require the updated tiff34
      port.
@
text
@d1 12
a12 62
*** tools/Makefile.sun.orig	Fri Sep 30 03:01:48 1994
--- tools/Makefile.sun	Wed Oct  4 04:45:40 1995
***************
*** 31,37 ****
  # simply null this out and you'll get whatever is in your
  # libc (or similar).
  #
! GETOPT=	getopt.o
  #
  # Library-wide configuration defines:
  # Note that if you change the library-wide configuration, you'll
--- 31,37 ----
  # simply null this out and you'll get whatever is in your
  # libc (or similar).
  #
! # GETOPT=	getopt.o
  #
  # Library-wide configuration defines:
  # Note that if you change the library-wide configuration, you'll
***************
*** 40,49 ****
  CONF_LIBRARY=\
  	${NULL}
  COPTS=	
! CFLAGS=	-g ${COPTS} ${IPATH}
  #
  LIBTIFF=../libtiff/libtiff.a
! LIBS=	${LIBTIFF}
  MACHALL=ras2tiff
  OBJS=	\
  	fax2tiff.o \
--- 40,49 ----
  CONF_LIBRARY=\
  	${NULL}
  COPTS=	
! CFLAGS+= ${COPTS} ${IPATH} -D_HAVE_PARAM_H
  #
  LIBTIFF=../libtiff/libtiff.a
! LIBS=	-L../libtiff -ltiff
  MACHALL=ras2tiff
  OBJS=	\
  	fax2tiff.o \
***************
*** 69,74 ****
--- 69,75 ----
  	pal2rgb \
  	ppm2tiff \
  	rgb2ycbcr \
+ 	thumbnail \
  	tiff2bw \
  	tiff2ps \
  	tiffcmp \
***************
*** 127,132 ****
--- 128,134 ----
  	${CC} -o thumbnail ${CFLAGS} thumbnail.c ${LIBS} -lm
  
  install: all
+ 	install -o bin -g bin -c -s ${ALL} ${PREFIX}/bin
  
  clean:
  	rm -f ${ALL} ${OBJS} core a.out ycbcr
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@libtiff port.
@
text
@@


1.1.1.2
log
@add port of libtiff v3.5.2
@
text
@d1 62
a62 12
--- tools/fax2ps.c.orig	Fri Oct 22 16:33:29 1999
+++ tools/fax2ps.c	Fri Oct 22 16:34:10 1999
@@@@ -382,8 +382,7 @@@@
 	char temp[1024], buf[16*1024];
 
 	strcpy(temp, "/tmp/fax2psXXXXXX");
-	(void) mktemp(temp);
-	fd = fopen(temp, "w");
+	fd = fdopen(mkstemp(temp), "w+");
 	if (fd == NULL) {
 	    fprintf(stderr, "Could not create temp file \"%s\"\n", temp);
 	    exit(-2);
@

