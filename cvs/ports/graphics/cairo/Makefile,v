head	1.63;
access;
symbols
	OPENBSD_6_1:1.63.0.2
	OPENBSD_6_1_BASE:1.63
	OPENBSD_6_0:1.62.0.2
	OPENBSD_6_0_BASE:1.62
	OPENBSD_5_9:1.59.0.2
	OPENBSD_5_9_BASE:1.59
	OPENBSD_5_8:1.57.0.4
	OPENBSD_5_8_BASE:1.57
	OPENBSD_5_7:1.56.0.2
	OPENBSD_5_7_BASE:1.56
	OPENBSD_5_6:1.52.0.4
	OPENBSD_5_6_BASE:1.52
	OPENBSD_5_5:1.52.0.2
	OPENBSD_5_5_BASE:1.52
	OPENBSD_5_4:1.51.0.2
	OPENBSD_5_4_BASE:1.51
	OPENBSD_5_3:1.45.0.2
	OPENBSD_5_3_BASE:1.45
	OPENBSD_5_2:1.37.0.4
	OPENBSD_5_2_BASE:1.37
	OPENBSD_5_1_BASE:1.37
	OPENBSD_5_1:1.37.0.2
	OPENBSD_5_0:1.35.0.2
	OPENBSD_5_0_BASE:1.35
	OPENBSD_4_9:1.32.0.2
	OPENBSD_4_9_BASE:1.32
	OPENBSD_4_8:1.27.0.2
	OPENBSD_4_8_BASE:1.27
	OPENBSD_4_7:1.25.0.2
	OPENBSD_4_7_BASE:1.25
	OPENBSD_4_6:1.24.0.2
	OPENBSD_4_6_BASE:1.24
	OPENBSD_4_5:1.23.0.2
	OPENBSD_4_5_BASE:1.23
	OPENBSD_4_4:1.18.0.2
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.17.0.2
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.9.0.2
	OPENBSD_4_1_BASE:1.9
	OPENBSD_4_0:1.7.0.2
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.5.0.2
	OPENBSD_3_9_BASE:1.5
	marcm_2005-sep-10:1.1.1.1
	marcm:1.1.1;
locks; strict;
comment	@# @;


1.63
date	2016.12.09.20.55.52;	author ajacoutot;	state Exp;
branches;
next	1.62;
commitid	6VjExSMNf6IBWkvF;

1.62
date	2016.06.23.07.34.07;	author ajacoutot;	state Exp;
branches;
next	1.61;
commitid	pz1ahK0hfMcui4J6;

1.61
date	2016.04.04.16.09.09;	author naddy;	state Exp;
branches;
next	1.60;
commitid	u3lQjrjlcAL26lGp;

1.60
date	2016.03.11.19.59.14;	author naddy;	state Exp;
branches;
next	1.59;
commitid	pguKLBEFv33DrgKU;

1.59
date	2015.12.18.13.49.35;	author ajacoutot;	state Exp;
branches;
next	1.58;
commitid	VtqajiGsSybyH4QM;

1.58
date	2015.11.13.07.05.45;	author ajacoutot;	state Exp;
branches;
next	1.57;
commitid	3aysIOaXYDawcz7c;

1.57
date	2015.03.30.07.12.15;	author eric;	state Exp;
branches;
next	1.56;
commitid	ldHPbnoi9QSnYLCJ;

1.56
date	2015.01.05.09.27.41;	author brad;	state Exp;
branches;
next	1.55;
commitid	WpUQihuVDzXjq3Li;

1.55
date	2014.11.27.03.23.57;	author brad;	state Exp;
branches;
next	1.54;
commitid	CM0RtDLOGoufFNbg;

1.54
date	2014.11.17.12.50.14;	author eric;	state Exp;
branches;
next	1.53;
commitid	PFP5VoFaKDS76pv8;

1.53
date	2014.09.13.16.36.53;	author ajacoutot;	state Exp;
branches;
next	1.52;
commitid	N2TalFGi4jKRwS2u;

1.52
date	2013.09.25.18.07.09;	author landry;	state Exp;
branches;
next	1.51;

1.51
date	2013.06.01.12.11.52;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2013.03.21.08.45.17;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2013.03.20.00.25.52;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2013.03.18.15.05.48;	author sthen;	state Exp;
branches;
next	1.47;

1.47
date	2013.03.11.11.10.51;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2013.03.04.20.40.18;	author eric;	state Exp;
branches;
next	1.45;

1.45
date	2013.01.30.13.17.51;	author brad;	state Exp;
branches;
next	1.44;

1.44
date	2013.01.16.14.28.35;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2012.11.12.12.29.07;	author eric;	state Exp;
branches;
next	1.42;

1.42
date	2012.09.26.15.04.09;	author sthen;	state Exp;
branches;
next	1.41;

1.41
date	2012.09.01.14.36.57;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2012.08.26.17.22.27;	author eric;	state Exp;
branches;
next	1.39;

1.39
date	2012.08.17.07.58.50;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2012.08.16.17.03.18;	author eric;	state Exp;
branches;
next	1.37;

1.37
date	2011.11.01.20.30.49;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2011.09.16.10.02.36;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2011.06.28.11.04.40;	author kili;	state Exp;
branches;
next	1.34;

1.34
date	2011.06.02.17.09.31;	author kili;	state Exp;
branches;
next	1.33;

1.33
date	2011.05.04.08.01.56;	author dcoppa;	state Exp;
branches;
next	1.32;

1.32
date	2011.01.05.13.26.05;	author eric;	state Exp;
branches;
next	1.31;

1.31
date	2010.11.17.08.05.13;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2010.10.24.21.21.00;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2010.10.17.12.50.53;	author eric;	state Exp;
branches;
next	1.28;

1.28
date	2010.10.11.08.09.44;	author eric;	state Exp;
branches;
next	1.27;

1.27
date	2010.04.02.08.21.14;	author eric;	state Exp;
branches;
next	1.26;

1.26
date	2010.03.29.13.13.53;	author eric;	state Exp;
branches;
next	1.25;

1.25
date	2009.08.10.06.31.44;	author kili;	state Exp;
branches;
next	1.24;

1.24
date	2009.06.23.08.01.50;	author eric;	state Exp;
branches;
next	1.23;

1.23
date	2009.01.30.09.32.30;	author eric;	state Exp;
branches;
next	1.22;

1.22
date	2009.01.26.10.28.33;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.01.15.10.57.53;	author eric;	state Exp;
branches;
next	1.20;

1.20
date	2008.12.13.09.55.01;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2008.11.13.20.22.13;	author landry;	state Exp;
branches;
next	1.18;

1.18
date	2008.05.16.17.52.18;	author eric;	state Exp;
branches;
next	1.17;

1.17
date	2008.01.22.20.30.01;	author eric;	state Exp;
branches;
next	1.16;

1.16
date	2007.12.08.22.39.36;	author eric;	state Exp;
branches;
next	1.15;

1.15
date	2007.09.15.20.09.40;	author simon;	state Exp;
branches;
next	1.14;

1.14
date	2007.07.24.17.47.07;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2007.05.21.12.35.33;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.08.08.44.58;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2007.03.26.21.22.13;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2007.03.18.14.48.45;	author kurt;	state Exp;
branches;
next	1.9;

1.9
date	2007.02.06.21.29.06;	author espie;	state Exp;
branches
	1.9.2.1;
next	1.8;

1.8
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.06.10.12.26.19;	author steven;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2006.05.10.21.34.17;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2006.01.10.08.59.16;	author matthieu;	state Exp;
branches;
next	1.4;

1.4
date	2006.01.08.10.04.16;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2005.12.26.22.34.27;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2005.11.04.01.12.58;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2005.09.11.05.05.11;	author marcm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.09.11.05.05.11;	author marcm;	state Exp;
branches;
next	;

1.7.2.1
date	2007.05.05.07.54.23;	author sturm;	state Exp;
branches;
next	;

1.9.2.1
date	2007.05.05.07.54.56;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.63
log
@Update to cairo-1.14.8.

ok eric@@ (maintainer)
@
text
@# $OpenBSD: Makefile,v 1.62 2016/06/23 07:34:07 ajacoutot Exp $

COMMENT=		vector graphics library

DISTNAME=		cairo-1.14.8

CATEGORIES=		graphics
DPB_PROPERTIES=		parallel
EXTRACT_SUFX=		.tar.xz

SHARED_LIBS +=  cairo                12.3     # 11402.6
SHARED_LIBS +=  cairo-gobject        1.1      # 11402.6
SHARED_LIBS +=  cairo-script-interpreter 1.1      # 11402.6

HOMEPAGE=		http://cairographics.org/

MAINTAINER=		Eric Faurot <eric@@openbsd.org>

# LGPLv2.1 / MPL 1.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 Xau Xdmcp Xext Xrender c expat ffi fontconfig freetype
WANTLIB += glib-2.0 gobject-2.0 iconv intl lzo2 m pcre pixman-1
WANTLIB += png pthread pthread-stubs xcb xcb-render xcb-shm z

MASTER_SITES=		http://cairographics.org/releases/

USE_GMAKE=		Yes

LIB_DEPENDS=		archivers/lzo2 \
			devel/glib2 \
			graphics/png

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		LDFLAGS=-L${LOCALBASE}/lib CFLAGS=-I${LOCALBASE}/include
CONFIGURE_ARGS=		--disable-valgrind

# needed for firefox
CONFIGURE_ARGS +=	--enable-tee

pre-configure:
	${SUBST_CMD} ${WRKSRC}/src/cairo.pc.in

post-install:
	rm ${PREFIX}/lib/cairo/*.{a,la}

.include <bsd.port.mk>
@


1.62
log
@xlib: Fix double free in _get_image_surface() - from upstream

ok eric@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2016/04/04 16:09:09 naddy Exp $
d5 1
a5 2
DISTNAME=		cairo-1.14.6
REVISION=		1
@


1.61
log
@g/c PFRAG.shared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2016/03/11 19:59:14 naddy Exp $
d6 2
a7 1
REVISION=		0
a19 4
WANTLIB += X11 Xau Xdmcp Xext Xrender c expat ffi fontconfig freetype
WANTLIB += glib-2.0 gobject-2.0 lzo2 m pcre pixman-1 png pthread
WANTLIB += pthread-stubs xcb xcb-render xcb-shm z

d23 4
a28 2
MODULES=		devel/gettext

d37 1
@


1.60
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2015/12/18 13:49:35 ajacoutot Exp $
d6 1
@


1.59
log
@Update to cairo-1.14.6.
- only change is not relevant to us but we can to stick to the latest stable

work delegated to myself by eric@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2015/11/13 07:05:45 ajacoutot Exp $
a35 1
CONFIGURE_ARGS=		${CONFIGURE_SHARED}
@


1.58
log
@Update to cairo-1.14.4.

from eric@@ (maintainer) who timed out to commit it
ok dcoppa@@ who had the same diff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2015/03/30 07:12:15 eric Exp $
d5 1
a5 4
DISTNAME=		cairo-1.14.4
SHARED_LIBS+=		cairo 12.3
SHARED_LIBS+=		cairo-gobject 1.1
SHARED_LIBS+=		cairo-script-interpreter 1.1
d9 4
@


1.57
log
@update to cairo 1.14.2

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2015/01/05 09:27:41 brad Exp $
d5 1
a5 1
DISTNAME=		cairo-1.14.2
@


1.56
log
@From upstream..

image: Fix crash in _fill_xrgb32_lerp_opaque_spans
tor-scan-converter: Correctly align 64bit types

ok eric@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/11/27 03:23:57 brad Exp $
d5 1
a5 2
DISTNAME=		cairo-1.14.0
REVISION=		1
@


1.55
log
@From upstream..

Improve performance of cpu_to_be32 and be32_to_cpu

maintainer timeout.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/11/17 12:50:14 eric Exp $
d6 1
a6 1
REVISION=		0
@


1.54
log
@update to 1.14.0 + post-release fixes (from Brad)

please ajacoutot@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/09/13 16:36:53 ajacoutot Exp $
d6 1
@


1.53
log
@--disable-gtk-doc is handled by the infrastructure now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/09/25 18:07:09 landry Exp $
d5 2
a6 2
DISTNAME=		cairo-1.12.16
SHARED_LIBS+=		cairo 12.2
d36 1
@


1.52
log
@Update to cairo 1.12.16, from brad@@

Bump cairo-gobject minor since a symbol was added
http://upstream-tracker.org/compat_reports/cairo/1.12.14_to_1.12.16/abi_compat_report.html#Added

Went into a bunch of bulk builds.
ok eric@@ (maintainer) ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/06/01 12:11:52 ajacoutot Exp $
d35 1
a35 2
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--disable-gtk-doc
a38 8

# If one of these tools is found at configure stage, it might be used,
# no matter whether we use --disable-gtk-doc or not.
CONFIGURE_ENV += CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@


1.51
log
@cairo-sphinx is now built since shm_open(3) is detected; so enable it.

ok eric@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/03/21 08:45:17 ajacoutot Exp $
d5 1
a5 1
DISTNAME=		cairo-1.12.14
d7 1
a7 1
SHARED_LIBS+=		cairo-gobject 1.0
a11 1
REVISION=		0
@


1.50
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/03/20 00:25:52 sthen Exp $
d12 1
d18 3
a20 3
WANTLIB += X11 Xau Xdmcp Xext Xrender expat ffi fontconfig freetype
WANTLIB += glib-2.0 gobject-2.0 gthread-2.0 lzo2 m pcre pixman-1 png
WANTLIB += pthread pthread-stubs xcb xcb-render xcb-shm z
@


1.49
log
@slackware tarball of cairo is *not* the same (they trim test/reference/*
and repack); revert my last commit here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/03/18 15:05:48 sthen Exp $
a27 1
USE_LIBTOOL=		Yes
@


1.48
log
@as reported by Andres Perera, cairographics.org is slow for some users;
add slackware's mirrorbrain redirector as an alternative MASTER_SITES.
ok giovanni@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/03/11 11:10:51 espie Exp $
d24 1
a24 2
MASTER_SITES=		http://mirrors.slackware.com/slackware/slackware-current/source/l/cairo/ \
			http://cairographics.org/releases/
@


1.47
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/03/04 20:40:18 eric Exp $
d24 2
a25 1
MASTER_SITES=		http://cairographics.org/releases/
@


1.46
log
@update to cairo 1.12.14

prodded by Brad

ok aja@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/01/30 13:17:51 brad Exp $
a22 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.45
log
@Eliminate pkg-config workaround using Requires instead of Requires.private
as it should be and fix resulting pkg-config file for shared lib linking.
This gets rid of overlinking with shared libs.

Run through a bulk build by sthen@@

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/01/16 14:28:35 ajacoutot Exp $
d5 2
a6 3
DISTNAME=		cairo-1.12.8
REVISION=		1
SHARED_LIBS+=		cairo 12.1
d8 1
a8 1
SHARED_LIBS+=		cairo-script-interpreter 1.0
d18 1
a18 1
WANTLIB += glib-2.0 gobject-2.0 gthread-2.0 m pcre pixman-1 png
d34 3
a36 2
LIB_DEPENDS=		graphics/png \
			devel/glib2
d47 3
a49 1
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
@


1.44
log
@Don't enable experimental backends (e.g. gl) except for tee which is
used by Firefox.
While here, explicitely disable gtk-doc and remove libtool archives and
files from modules.

discussed with and ok brad@@ (eric@@ is slacking)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/11/12 12:29:07 eric Exp $
d6 1
a12 1
REVISION=		0
d50 3
@


1.43
log
@update to cairo 1.12.8

from Brad.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2012/09/26 15:04:09 sthen Exp $
d12 1
d18 3
a20 4
WANTLIB=		GL X11 Xau Xdamage Xdmcp Xext Xfixes Xrender Xxf86vm \
			drm expat ffi fontconfig freetype glib-2.0 gobject-2.0 \
			gthread-2.0 m pcre pixman-1 png pthread-stubs pthread \
			stdc++ xcb xcb-render xcb-shm z
d40 13
a52 3
			--enable-gl \
			--enable-tee \
			--enable-xml
@


1.42
log
@add DPB_PROPERTIES=Parallel for some things high in the dependency tree
which benefit from it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2012/09/01 14:36:57 ajacoutot Exp $
d5 2
a6 2
DISTNAME=		cairo-1.12.2
SHARED_LIBS+=		cairo 12.0
a11 1
REVISION=		2
d17 4
a20 5
WANTLIB=		GL X11 Xau Xdamage Xdmcp Xext Xfixes Xrender \
			Xxf86vm c drm expat ffi fontconfig freetype \
			glib-2.0 gobject-2.0 gthread-2.0 m pcre pixman-1 \
			png pthread-stubs pthread stdc++ xcb xcb-render \
			xcb-shm z
@


1.41
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/08/26 17:22:27 eric Exp $
d10 1
@


1.40
log
@- tweak WANTLIB
- libcairo-trace is not a regular library
- move cairo-trace to PRFAG.shared

input from Brad and ajacoutot@@

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2012/08/17 07:58:50 ajacoutot Exp $
d11 1
a11 1
REVISION=		1
@


1.39
log
@Comment static archive and la file for the loadable module.
Add CONFIGURE_SHARED.
Remove REGRESS_DEPENDS as gs is actually needed at build time for the
tests (along with rsvg...).

ok eric@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2012/08/16 17:03:18 eric Exp $
a6 1
SHARED_LIBS+=		cairo-trace 1.0
d11 1
a11 1
REVISION=		0
d18 4
a21 3
			Xxf86vm drm expat ffi fontconfig freetype glib-2.0 \
			gobject-2.0 gthread-2.0 m pcre pixman-1 png \
			pthread-stubs stdc++ xcb xcb-render xcb-shm z
@


1.38
log
@update to cairo 1.12.2.
with input from Brad and ajacoutot@@

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/11/01 20:30:49 jasper Exp $
d12 1
d40 2
a41 2
CONFIGURE_ENV=		PTHREAD_LIBS="-pthread"
CONFIGURE_ARGS=		--enable-gl \
a43 2

REGRESS_DEPENDS=	print/ghostscript/gnu
@


1.37
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/09/16 10:02:36 espie Exp $
d5 5
a9 6
DISTNAME=		cairo-1.10.2
REVISION=		3
SHARED_LIBS=		cairo 11.1
SHARED_LIBS+=		cairo-trace 0.0
SHARED_LIBS+=		cairo-gobject 0.0
SHARED_LIBS+=		cairo-script-interpreter 0.0
d11 1
d13 1
a13 1
HOMEPAGE=		http://cairographics.org/introduction
d18 1
a18 1
			Xxf86vm drm expat fontconfig freetype glib-2.0 \
d20 1
a20 1
			pthread-stubs xcb xcb-render xcb-shm z ffi stdc++
d42 1
a42 2
			--enable-xml \
			--enable-xcb
a46 6

.for i in ${GCC2_ARCHS}
. if ${MACHINE_ARCH} == $i
PATCH_LIST=	patch-* gcc2-patch-*
. endif
.endfor
@


1.36
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/06/28 11:04:40 kili Exp $
d6 1
a6 1
REVISION=		2
d20 1
a20 1
			pthread-stubs xcb xcb-render xcb-shm z
@


1.35
log
@Do not hide required libs in the .pc files.

Fixes the build of hs-cairo.

ok dcoppa@@, jasper@@ (who wanted the extra comment in the patch file)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/06/02 17:09:31 kili Exp $
d6 1
a6 1
REVISION=		1
@


1.34
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/05/04 08:01:56 dcoppa Exp $
d6 1
a6 1
REVISION=		0
@


1.33
log
@Enable tee surface backend for cairo: it will be used by firefox4
and fennec.

OK eric@@ (maintainer), landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/01/05 13:26:05 eric Exp $
d43 1
a43 2
			--enable-xcb \
			--disable-silent-rules
@


1.32
log
@- update to 1.10.2 (from Brad)
- build on gcc2 archs (from and tested by sebastiap@@)

ok ajacoutot@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/11/17 08:05:13 espie Exp $
d6 2
a7 1
SHARED_LIBS=		cairo 11.0
d41 1
@


1.31
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/10/24 21:21:00 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		cairo-1.10.0
REVISION=		0
d47 6
@


1.30
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/10/17 12:50:53 eric Exp $
d35 2
a36 2
LIB_DEPENDS=		::graphics/png \
			::devel/glib2
d45 1
a45 1
REGRESS_DEPENDS=	:ghostscript-*:print/ghostscript/gnu
@


1.29
log
@- disable xcb-xlib which is not ready yet and causes garbled output
- disable HW gradient rendering as X drivers are broken

from brad and landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/10/11 08:09:44 eric Exp $
a31 1
USE_X11=		Yes
@


1.28
log
@update to cairo 1.10.0

proactive fallout handling and ok ajacoutot@@ jasper@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/04/02 08:21:14 eric Exp $
d6 2
a7 1
SHARED_LIBS=		cairo 10.0
d17 1
a17 1
WANTLIB=		GL X11 X11-xcb Xau Xdamage Xdmcp Xext Xfixes Xrender \
a43 1
			--enable-xlib-xcb \
a44 1

@


1.27
log
@enable XCB backend

prodded by dcoppa@@
ok ajacoutot@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/03/29 13:13:53 eric Exp $
d5 5
a9 3
DISTNAME=		cairo-1.8.10
PKGNAME=		${DISTNAME}p0
SHARED_LIBS=		cairo   9.3
d16 4
a19 3
WANTLIB=		X11 Xau Xdmcp Xrender expat fontconfig freetype m \
			pixman-1.>=12.0 pthread-stubs xcb xcb-render \
			xcb-render-util z
d29 2
d35 2
a36 2
LIB_DEPENDS=		png::graphics/png \
			glitz.>=2:glitz->=0.5.6:graphics/glitz
d39 7
a45 4
CONFIGURE_ARGS=		--enable-glitz \
			--enable-pdf \
			--enable-ps \
			--enable-xcb
@


1.26
log
@update to cairo 1.8.10

prodded by Brad, ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/08/10 06:31:44 kili Exp $
d6 2
a7 2
PKGNAME=		${DISTNAME}
SHARED_LIBS=		cairo   9.2
d15 2
a16 1
			pixman-1.>=12.0 pthread-stubs xcb z
d36 2
a37 1
			--enable-ps
@


1.25
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/06/23 08:01:50 eric Exp $
d5 2
a6 2
DISTNAME=		cairo-1.8.8
PKGNAME=		${DISTNAME}p0
a32 1
CONFIGURE_ENV=		png_REQUIRES=libpng
@


1.24
log
@update to cairo 1.8.8

prodded by Brad, ok ajacoutot@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2009/01/30 09:32:30 eric Exp $
d6 1
d15 1
a15 1
			pixman-1.>=12.0 z
@


1.23
log
@Add patch from upstream.

 "2008-12-17 [ft] Don't call FT_Done_Face() on faces we did not create"

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2009/01/26 10:28:33 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		cairo-1.8.6
PKGNAME=		${DISTNAME}p1
@


1.22
log
@- bring a patch from NetBSD via David Coppa to fix a crash with cairo gtk
themes
see GNOME bug #567253

Brad also came up with the same patch and noted the fix is now upstream.
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2009/01/15 10:57:53 eric Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.21
log
@update to 1.8.6

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/12/13 09:55:01 brad Exp $
d6 1
@


1.20
log
@Update to Cairo 1.8.4.
- Re-enable the PDF and PostScript backends.

ok eric@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/11/13 20:22:13 landry Exp $
d5 2
a6 2
DISTNAME=		cairo-1.8.4
SHARED_LIBS=		cairo   9.1
@


1.19
log
@Update to cairo 1.8.2, needed for the upcoming Gtk2 update. soon.
diff from eric@@, tested by jasper@@ & myself in several bulk build.

ok jasper@@ eric@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/05/16 17:52:18 eric Exp $
d5 2
a6 2
DISTNAME=		cairo-1.8.2
SHARED_LIBS=		cairo   9.0
d14 1
a14 1
			pixman-1.>=11.0 z
d22 1
a22 2
MASTER_SITES=		http://cairographics.org/releases/ \
			http://cairographics.org/snapshots/
d33 3
a35 1
CONFIGURE_ARGS=		--enable-glitz
@


1.18
log
@update to cairo 1.6.4 and zap all our patches.

ok matthieu@@, steven@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/01/22 20:30:01 eric Exp $
d5 2
a6 2
DISTNAME=		cairo-1.6.4
SHARED_LIBS=		cairo   8.0
d16 1
a16 1
# LGPL
d27 1
a35 1

a36 1
SEPARATE_BUILD=		simple
@


1.17
log
@update to 1.4.14

ok brad@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/12/08 22:39:36 eric Exp $
d5 2
a6 2
DISTNAME=		cairo-1.4.14
SHARED_LIBS=		cairo   7.2
d13 2
a14 1
WANTLIB=		X11 Xau Xdmcp Xrender expat fontconfig freetype m z
d22 2
a23 1
MASTER_SITES=		http://cairographics.org/releases/
d32 1
@


1.16
log
@- update to 1.4.12
- change my email

ok steven@@, martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/09/15 20:09:40 simon Exp $
d5 2
a6 2
DISTNAME=		cairo-1.4.12
SHARED_LIBS=		cairo   7.1
d13 1
a13 1
WANTLIB=		X11.>=10 Xau Xdmcp expat Xrender freetype fontconfig m z
@


1.15
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/07/24 17:47:07 steven Exp $
d5 2
a6 2
DISTNAME=		cairo-1.4.10
SHARED_LIBS +=  cairo                7.0      # .13.5
d11 1
a11 1
MAINTAINER=		Eric Faurot <eric.faurot@@gmail.com>
@


1.14
log
@update to cairo 1.4.10

"looks ok" maintainer Eric Faurot, also tested by brad and simon, ok simon
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/05/21 12:35:33 steven Exp $
d3 1
a3 1
COMMENT=		"vector graphics library"
@


1.13
log
@update to cairo 1.4.6

from maintainer Eric Faurot

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/05/08 08:44:58 ajacoutot Exp $
d5 2
a6 2
DISTNAME=		cairo-1.4.6
SHARED_LIBS +=	cairo                6.1      # .11.3
@


1.12
log
@- fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/03/26 21:22:13 espie Exp $
d5 2
a6 3
DISTNAME=		cairo-1.2.6
PKGNAME=		${DISTNAME}p2
SHARED_LIBS +=	cairo                6.0      # .11.3
@


1.11
log
@help people not mix up X11 with xenocara, by making sure they link against
X11 >= 10, and bump those major numbers accordingly, so that bug-reports
will get easier to process.

(artificial `flag day' as discussed with deraadt@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/03/18 14:48:45 kurt Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d14 1
a14 1
WANTLIB=		ICE SM X11.>=10 Xext Xrender freetype fontconfig m z
@


1.10
log
@fix for SVG image crashes seen in firefox from mantainer Eric Faurot <eric
. faurot at gmail dot com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/02/06 21:29:06 espie Exp $
d6 2
a7 2
PKGNAME=		${DISTNAME}p0
SHARED_LIBS +=	cairo                5.0      # .11.3
d14 1
a14 1
WANTLIB=		ICE SM X11 Xext Xrender freetype fontconfig m z
@


1.9
log
@update glitz/cairo to current stable versions. New patch from maintainer
Eric Faurot. Some infrastructure tweaks by me.

Appears to work just fine on a variety of display and architectures,
only issue so far is:
- garbled menus with gimp on 8 bits + RENDER (weird combination).
- firefox 2.0 unhappy on 8 bits displays (setting GDK_USE_XFT=0 solves this)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/12/16 12:22:33 espie Exp $
d6 1
@


1.9.2.1
log
@MFC:
fix for SVG image crashes seen in firefox from mantainer Eric Faurot <eric
. faurot at gmail dot com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/02/06 21:29:06 espie Exp $
a5 1
PKGNAME=		${DISTNAME}p0
@


1.8
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/06/10 12:26:19 steven Exp $
d5 2
a6 3
PKGNAME=		${DISTNAME}p0
DISTNAME=		cairo-1.0.4
SHARED_LIBS=		cairo	4.4
d13 1
a13 1
WANTLIB=		X11 Xext Xrender freetype fontconfig m z
d27 1
a27 1
			glitz::graphics/glitz
d30 5
a34 4
CONFIGURE_ENV=  	PKG_CONFIG_PATH="${X11BASE}/lib/pkgconfig"
CONFIGURE_ARGS+=	--enable-ps
CONFIGURE_ARGS+=	--enable-pdf
CONFIGURE_ARGS+=	--enable-glitz
@


1.7
log
@- fix the channel mix up,
- improved palette handling (should be faster),
- reorganize the code to make workaround hooks easier,
- add a workaround for the 16bit r5g6b5 pixel case.

this fixes crashes on 16 bit displays with RENDER disabled

from maintainer Eric Faurot, thanks for writing this!

discussed with kurt, bernd, espie.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/05/10 21:34:17 brad Exp $
a25 2

BUILD_DEPENDS+=		:pkgconfig-*:devel/pkgconfig
@


1.7.2.1
log
@MFC:
fix for SVG image crashes seen in firefox from mantainer Eric Faurot <eric
. faurot at gmail dot com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/06/10 12:26:19 steven Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p1
@


1.6
log
@update to 1.0.4

also adds a simple workaround to support PseudoColor
and StaticColor modes on X11.

From: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/01/10 08:59:16 matthieu Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}
@


1.5
log
@Fix cairo build with new freetype2.pc. tested by naddy@@, pval@@ and others.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/01/08 10:04:16 steven Exp $
d5 3
a7 3
PKGNAME=		${DISTNAME}p0
DISTNAME=		cairo-1.0.2
SHARED_LIBS=		cairo	4.3
@


1.4
log
@remove MODGNU_SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/12/26 22:34:27 steven Exp $
d5 1
@


1.3
log
@SHARED_LIBS
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/11/04 01:12:58 naddy Exp $
a6 1
MODGNU_SHARED_LIBS=	cairo	'-no-undefined'
@


1.2
log
@update to 1.0.2; from maintainer Eric Faurot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/09/11 05:05:11 marcm Exp $
d6 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.44 2004/07/15 22:08:00 sturm Exp $
d5 1
a5 1
DISTNAME=		cairo-1.0.0
@


1.1.1.1
log
@Cairo is a 2D graphics library with support for multiple output devices.
Currently supported output targets include the X Window System, and image
buffers.  Other backends include OpenGL (through glitz), PostScript and
PDF file output.

From Eric Faurot
@
text
@@
