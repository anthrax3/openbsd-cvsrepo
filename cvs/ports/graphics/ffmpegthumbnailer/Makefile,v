head	1.32;
access;
symbols
	OPENBSD_6_1:1.29.0.2
	OPENBSD_6_1_BASE:1.29
	OPENBSD_6_0:1.28.0.2
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.26.0.2
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.24.0.4
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.23.0.6
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.23.0.4
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.2
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.22.0.2
	OPENBSD_5_4_BASE:1.22
	OPENBSD_5_3:1.20.0.2
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.18.0.2
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.2
	OPENBSD_5_0:1.16.0.2
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.8.0.2
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.6.0.2
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.2.0.6
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.4
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.1.1.1.0.2
	OPENBSD_4_3_BASE:1.1.1.1
	landry_20080106:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2017.07.26.22.45.23;	author sthen;	state Exp;
branches;
next	1.31;
commitid	tD4MFrpYYDDL2UFT;

1.31
date	2017.07.16.19.18.56;	author espie;	state Exp;
branches;
next	1.30;
commitid	tt0GhWK5c4uf9ILG;

1.30
date	2017.04.10.11.46.20;	author sthen;	state Exp;
branches;
next	1.29;
commitid	BLsh88fJB8thZTwY;

1.29
date	2016.10.01.11.54.15;	author naddy;	state Exp;
branches;
next	1.28;
commitid	VJ09Ih4WMjVIWTmz;

1.28
date	2016.07.09.09.09.10;	author sthen;	state Exp;
branches;
next	1.27;
commitid	6UTy3AiMgjyDIiRL;

1.27
date	2016.03.11.19.59.14;	author naddy;	state Exp;
branches;
next	1.26;
commitid	pguKLBEFv33DrgKU;

1.26
date	2016.01.26.13.10.40;	author sthen;	state Exp;
branches;
next	1.25;
commitid	ZEyRURI28RTVW3ov;

1.25
date	2015.08.17.19.10.12;	author sthen;	state Exp;
branches;
next	1.24;
commitid	4CippZtWcqcVBaoK;

1.24
date	2015.03.16.18.07.46;	author naddy;	state Exp;
branches;
next	1.23;
commitid	IJdm3Zowcdkcxp5X;

1.23
date	2013.08.07.21.31.57;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2013.03.21.08.45.18;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.11.11.10.52;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2012.11.20.12.01.07;	author dcoppa;	state Exp;
branches;
next	1.19;

1.19
date	2012.09.04.06.38.03;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.02.22.08.32.25;	author dcoppa;	state Exp;
branches;
next	1.17;

1.17
date	2011.09.30.09.18.17;	author dcoppa;	state Exp;
branches;
next	1.16;

1.16
date	2011.06.28.13.43.03;	author dcoppa;	state Exp;
branches;
next	1.15;

1.15
date	2011.06.24.11.17.05;	author sthen;	state Exp;
branches;
next	1.14;

1.14
date	2011.04.18.23.27.31;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2011.03.29.20.04.55;	author jakemsr;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.17.08.05.13;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.09.18.22.26;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.10.18.18.13.13;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.08.25.23.27.21;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2010.05.26.23.16.16;	author jakemsr;	state Exp;
branches;
next	1.7;

1.7
date	2010.05.26.12.30.19;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2009.09.26.01.23.05;	author jolan;	state Exp;
branches;
next	1.5;

1.5
date	2009.08.27.01.09.29;	author jolan;	state Exp;
branches;
next	1.4;

1.4
date	2009.07.19.22.49.12;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2009.07.19.12.42.04;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2008.07.09.02.09.59;	author jakemsr;	state Exp;
branches;
next	1.1;

1.1
date	2008.01.06.19.25.47;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.01.06.19.25.47;	author landry;	state Exp;
branches;
next	;


desc
@@


1.32
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.31 2017/07/16 19:18:56 espie Exp $

COMMENT=	lightweight video thumbnailer for file managers

DISTNAME=	ffmpegthumbnailer-2.0.8
REVISION=	5
CATEGORIES=	graphics multimedia
MASTER_SITES=	${MASTER_SITE_GOOGLECODE:=ffmpegthumbnailer/}

SHARED_LIBS=	ffmpegthumbnailer	4.1

HOMEPAGE=	https://github.com/dirkvdb/ffmpegthumbnailer

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += avcodec avformat avutil c jpeg m png pthread ${COMPILER_LIBCXX}
WANTLIB += swscale xvidcore

LIB_DEPENDS=	graphics/ffmpeg \
		graphics/jpeg \
		graphics/png

CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.69
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

.include <bsd.port.mk>
@


1.31
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2017/04/10 11:46:20 sthen Exp $
d6 1
a6 1
REVISION=	4
@


1.30
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2016/10/01 11:54:15 naddy Exp $
d17 1
a17 1
WANTLIB += avcodec avformat avutil c jpeg m png pthread ${LIBCXX}
@


1.29
log
@The ${PROJECT}.googlecode.com/files/ master sites are no longer
accessible, but the distfiles are still available at an archive URL.
Introduce MASTER_SITE_GOOGLECODE and use it for all affected ports.

ok czarkoff@@ danj@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/07/09 09:09:10 sthen Exp $
d17 1
a17 1
WANTLIB += avcodec avformat avutil c jpeg m png pthread stdc++
@


1.28
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2016/03/11 19:59:14 naddy Exp $
d8 1
a8 1
MASTER_SITES=	https://ffmpegthumbnailer.googlecode.com/files/
@


1.27
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2016/01/26 13:10:40 sthen Exp $
d6 1
a6 1
REVISION=	3
d18 1
a18 1
WANTLIB += swscale x264
@


1.26
log
@chase more googlecode HOMEPAGEs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/08/17 19:10:12 sthen Exp $
a27 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
@


1.25
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/03/16 18:07:46 naddy Exp $
d6 1
a6 1
REVISION=	2
d12 1
a12 1
HOMEPAGE=	https://code.google.com/p/ffmpegthumbnailer
@


1.24
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/08/07 21:31:57 naddy Exp $
d6 1
a6 1
REVISION=	1
d18 1
a18 1
WANTLIB += swscale
@


1.23
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/03/21 08:45:18 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
@


1.22
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/11 11:10:52 espie Exp $
d6 1
d8 1
a8 1
MASTER_SITES=	http://ffmpegthumbnailer.googlecode.com/files/
d12 1
a12 1
HOMEPAGE=	http://code.google.com/p/ffmpegthumbnailer
@


1.21
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/11/20 12:01:07 dcoppa Exp $
a22 1
USE_LIBTOOL=	Yes
@


1.20
log
@Maintenance update to ffmpegthumbnailer-2.0.8.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/09/04 06:38:03 ajacoutot Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.19
log
@Remove --as-needed and -pthread patching.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/02/22 08:32:25 dcoppa Exp $
d5 1
a5 1
DISTNAME=	ffmpegthumbnailer-2.0.7
a7 1
REVISION=	0
d28 1
a28 1
AUTOCONF_VERSION= 2.68
@


1.18
log
@Remove unnecessary include path added to CPPFLAGS for png.
Tidy up the Makefile a bit.

From Brad.

No bump needed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/09/30 09:18:17 dcoppa Exp $
d8 1
d20 2
a21 4
WANTLIB=	avcodec avformat avutil bz2 c gsm jpeg m mp3lame ogg \
		orc-0.4 png pthread schroedinger-1.0 speex stdc++ \
		swscale theoradec theoraenc vorbis vorbisenc vpx x264 \
		z
d23 1
a23 1
LIB_DEPENDS=	graphics/ffmpeg>=20100512 \
d32 1
a32 1
CONFIGURE_ARGS= --disable-as-needed
@


1.17
log
@Bugfixing update to ffmpegthumbnailer-2.0.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/06/28 13:43:03 dcoppa Exp $
a18 7
USE_LIBTOOL=	Yes
USE_GROFF =	Yes

LIB_DEPENDS=	graphics/ffmpeg>=20100512 \
		graphics/png \
		graphics/jpeg

d24 9
a32 4
CONFIGURE_STYLE=autoconf
AUTOCONF_VERSION=2.68
CONFIGURE_ENV+=	LDFLAGS="-L${LOCALBASE}/lib" \
		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng"
@


1.16
log
@Update to ffmpegthumbnailer-2.0.6.

Ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/06/24 11:17:05 sthen Exp $
d5 1
a5 1
DISTNAME=	ffmpegthumbnailer-2.0.6
d32 1
a32 1
AUTOCONF_VERSION=2.67
@


1.15
log
@Chase ffmpeg dep changes. Mostly from Brad ok dcoppa@@, plus opencv from me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/04/18 23:27:31 sthen Exp $
d5 1
a5 2
DISTNAME=	ffmpegthumbnailer-2.0.2
REVISION=	4
d9 1
a9 1
SHARED_LIBS=	ffmpegthumbnailer	4.0
d31 2
a32 1
CONFIGURE_STYLE=gnu
d35 1
@


1.14
log
@sync WANTLIB (re: ffmpeg update), from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/03/29 20:04:55 jakemsr Exp $
d6 1
a6 1
REVISION=	3
d27 2
a28 2
WANTLIB=	avcodec avformat avutil bz2 c faac gsm jpeg m mp3lame \
		ogg orc-0.4 png pthread schroedinger-1.0 speex stdc++ \
@


1.13
log
@ffmpeg no longer depends on faad.  remove faad from WANTLIB in ports
that were pulling it in via ffmpeg.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/17 08:05:13 espie Exp $
d6 1
a6 1
REVISION=	2
d27 4
a30 5
WANTLIB=	bz2 c faac gsm m mp3lame ogg pthread \
		stdc++ theora vorbis vorbisenc x264 z \
		orc-0.4 schroedinger-1.0 speex \
		avcodec>=14 avformat>=13 avutil>=7 swscale>=2 \
		png>=6 jpeg
@


1.12
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/09 18:22:26 espie Exp $
d6 1
a6 1
REVISION=	1
d27 1
a27 1
WANTLIB=	bz2 c faac faad gsm m mp3lame ogg pthread \
@


1.11
log
@WANTLIB conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/10/18 18:13:13 espie Exp $
d23 3
a25 3
LIB_DEPENDS=	:ffmpeg->=20100512:graphics/ffmpeg \
		::graphics/png \
		::graphics/jpeg
d30 2
a31 2
		avcodec.>=14 avformat.>=13 avutil.>=7 swscale.>=2 \
		png.>=6 jpeg
@


1.10
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/08/25 23:27:21 sthen Exp $
d23 3
a25 3
LIB_DEPENDS=	avcodec.>=14,avformat.>=13,avutil.>=7,swscale.>=2:ffmpeg->=20100512:graphics/ffmpeg \
		png.>=6::graphics/png \
		jpeg::graphics/jpeg
d29 3
a31 1
		orc-0.4 schroedinger-1.0 speex
@


1.9
log
@- chase the library change in multimedia/schroedinger; oil->orc
- add various other missing WANTLIB (and LIB_DEPENDS in some cases)
- while there move PKGNAME=..pX to REVISION, and move some ports
to new-style LIB_DEPENDS

original diff from Brad, extensive checking by me (clean build of everything
related to liboil).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/05/26 23:16:16 jakemsr Exp $
d21 1
@


1.8
log
@wantlib/lib_depends changes due to ffmpeg update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/05/26 12:30:19 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d28 1
a28 1
		oil-0.3 schroedinger-1.0 speex
@


1.7
log
@update to 2.0.2, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/09/26 01:23:05 jolan Exp $
d6 1
d22 1
a22 1
LIB_DEPENDS=	avcodec.>=13.1,avformat.>=12,avutil.>=6,swscale.>=1:ffmpeg->=20080620p10:graphics/ffmpeg \
d26 1
a26 1
WANTLIB=	a52 bz2 c faac faad m mp3lame ogg pthread \
d28 1
a28 1
		oil-0.3 schroedinger-1.0
@


1.6
log
@update to 1.5.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/08/27 01:09:29 jolan Exp $
d4 2
a5 2
DISTNAME=	ffmpegthumbnailer-1.5.5
SHARED_LIBS=	ffmpegthumbnailer 3.2
d9 2
d13 1
a13 1
# GPL
@


1.5
log
@update to 1.5.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/07/19 22:49:12 sthen Exp $
d4 1
a4 1
DISTNAME=	ffmpegthumbnailer-1.5.4
@


1.4
log
@set the pkgspec for LIB_DEPENDS on ffmpeg to a version with schroedinger
included, so the tools know that old ffmpeg versions won't satisfy the
dependencies listed in WANTLIB.

this way, attempting to install these packages with old ffmpeg will
no longer give you a cryptic error message as seen by dhill@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/07/19 12:42:04 sthen Exp $
d4 4
a8 3
DISTNAME=	ffmpegthumbnailer-1.1.3
PKGNAME=	${DISTNAME}p2
CATEGORIES=	graphics multimedia
d17 1
a17 1
MASTER_SITES=	http://ffmpegthumbnailer.googlecode.com/files/
d20 2
a21 1
		png.>=6::graphics/png
@


1.3
log
@add schroedinger/oil WANTLIB, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/07/09 02:09:59 jakemsr Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d18 1
a18 1
LIB_DEPENDS=	avcodec.>=10,avformat.>=10,avutil.>=4,swscale.>=1::graphics/ffmpeg \
@


1.2
log
@
* FFmpeg headers moved
* FFmpeg LIB_DEPENDS/WANTLIB changes
* add @@bin markers in PLISTs
* bump PKGNAMEs

feedback/ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/01/06 19:25:47 landry Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d22 2
a23 1
		stdc++ theora vorbis vorbisenc x264 z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d18 1
a18 1
LIB_DEPENDS=	avcodec.>=10,avformat.>=10,avutil.>=4::graphics/ffmpeg \
d21 1
a21 1
WANTLIB=	X11 Xext a52 c faac faad m mp3lame ogg ossaudio pthread \
@


1.1.1.1
log
@import ffmpegthumbnailer, a video thumbnailer which can be used by file
managers to create thumbs for video files. It uses ffmpeg and thus supports
the same videoformats.

ok brad@@
@
text
@@
