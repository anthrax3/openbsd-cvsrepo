head	1.4;
access;
symbols
	OPENBSD_4_0:1.3.0.4
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.2
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.2.0.4
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.2
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.1.1.1.0.2
	OPENBSD_3_6_BASE:1.1.1.1
	jolan_2004-apr-17:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2006.11.20.09.21.09;	author bernd;	state dead;
branches;
next	1.3;

1.3
date	2006.01.06.21.57.00;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2004.09.21.22.40.36;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2004.04.18.02.01.25;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.04.18.02.01.25;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to imlib2-1.3.0. Initial diffs from 'bsdmaniak at daemon-tips dot org'
and brad@@.

This contains security fixes from the imlib2 cvs repository for CVE-2006-4806,
CVE-2006-4807, CVE-2006-4808 and CVE-2006-4809.

ok brad@@, steven@@
@
text
@$OpenBSD: patch-src_Makefile_in,v 1.3 2006/01/06 21:57:00 brad Exp $
--- src/Makefile.in.orig	Mon Aug 30 23:23:10 2004
+++ src/Makefile.in	Fri Jan  6 16:00:32 2006
@@@@ -114,7 +114,7 @@@@ AUTOMAKE_OPTIONS = 1.4 foreign
 # A list of all the files in the current directory which can be regenerated
 MAINTAINERCLEANFILES = Makefile.in
 
-LDFLAGS = -L/usr/X11R6/lib
+LDFLAGS = @@LDFLAGS@@
 INCLUDES = -I. -I$(top_srcdir) -I$(top_srcdir)/src 		       -I$(top_builddir)/src                        -I$(top_srcdir)/loaders                        $(freetype_cflags) -I/usr/X11R6/include $(X_CFLAGS)                        -I$(prefix)/include -I$(includedir) @@XMISS@@
 
 MMX_SRCS = asm_blend.S asm_rgba.S asm_scale.S asm_rotate.S 		       asm_blend_cmod.S
@@@@ -129,8 +129,8 @@@@ libImlib2_la_SOURCES = scale.c image.c b
 EXTRA_libImlib2_la_SOURCES = rend.c ximage.c rgba.c color.c grab.c draw.c 			     context.c color.h context.h draw.h grab.h rend.h 			     rgba.h ximage.h $(MMX_SRCS)
 
 libImlib2_la_LDFLAGS = -version-info 2:2:1
-@@HAVE_MMX_TRUE@@libImlib2_la_LIBADD = $(X_OBJS) @@DLLDFLAGS@@ $(MMX_OBJS)                        -lltdl                        $(x_libs) $(freetype_libs) $(LDFLAGS) -lm
-@@HAVE_MMX_FALSE@@libImlib2_la_LIBADD = $(X_OBJS) @@DLLDFLAGS@@                        -lltdl                        $(x_libs) $(freetype_libs) $(LDFLAGS) -lm
+@@HAVE_MMX_TRUE@@libImlib2_la_LIBADD = $(X_OBJS)  $(MMX_OBJS)                        -lltdl                        $(x_libs) $(freetype_libs) $(LDFLAGS) -lm
+@@HAVE_MMX_FALSE@@libImlib2_la_LIBADD = $(X_OBJS)                         -lltdl                        $(x_libs) $(freetype_libs) $(LDFLAGS) -lm
 @@HAVE_MMX_TRUE@@libImlib2_la_DEPENDENCIES = $(top_builddir)/config.h $(X_OBJS) $(MMX_OBJS)
 @@HAVE_MMX_FALSE@@libImlib2_la_DEPENDENCIES = $(top_builddir)/config.h $(X_OBJS)
 mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
@


1.3
log
@- forcefully disable MMX on non-i386 systems, gets rid of the silly Linux message since
MMX cannot be automatically detected anyway.
- remove libtool patch.
- remove bogus @@DLLDFLAGS@@ from src/Makefile as this trips up newer libtool.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_Makefile_in,v 1.2 2004/09/21 22:40:36 brad Exp $
@


1.2
log
@upgrade to imlib2 1.1.2

Marcus Meissner discovered that imlib's BMP decoder would crash
when loading the test BMP file created by Chris Evans for testing
a previous Qt vulnerability. It is believed that this bug could
be exploited for arbitrary code execution.

also some port fixes, added missing dependencies, etc.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_Makefile_in,v 1.1.1.1 2004/04/18 02:01:25 jolan Exp $
d3 1
a3 1
+++ src/Makefile.in	Sun Sep 19 05:26:22 2004
d13 11
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- src/Makefile.in.orig	Wed Jan 14 14:22:29 2004
+++ src/Makefile.in	Wed Jan 14 14:22:47 2004
@@@@ -99,7 +99,7 @@@@
d6 1
a6 1
 MAINTAINERCLEANFILES = Makefile.in loaderpath.h
d10 3
a12 3
 INCLUDES = -I. -I$(top_srcdir) -I$(top_srcdir)/src \
                        -I$(top_srcdir)/loaders -I$(top_srcdir)/libltdl \
                        $(freetype_cflags) -I/usr/X11R6/include $(X_CFLAGS) \
@


1.1.1.1
log
@import imlib2-1.1.0, an image manipulation library

from/maintained by francois briere, tweaks by robert nagy and myself
@
text
@@
