head     1.1;
branch   1.1.1;
access   ;
symbols  jasper_20170908:1.1.1.1 jasper:1.1.1;
locks    ; strict;
comment  @# @;


1.1
date     2017.08.09.14.41.22;  author jasper;  state Exp;
branches 1.1.1.1;
next     ;
commitid        vvzYrkzt7gCW6Kr3;

1.1.1.1
date     2017.08.09.14.41.22;  author jasper;  state Exp;
branches ;
next     ;
commitid        vvzYrkzt7gCW6Kr3;


desc
@@



1.1
log
@Initial revision
@
text
@$OpenBSD$

Index: Orthanc/Core/SystemToolbox.cpp
--- Orthanc/Core/SystemToolbox.cpp.orig
+++ Orthanc/Core/SystemToolbox.cpp
@@@@ -55,7 +55,8 @@@@
 #endif
 
 
-#if defined(__linux__) || defined(__FreeBSD_kernel__) || defined(__FreeBSD__)
+#if defined(__linux__) || defined(__FreeBSD_kernel__) || defined(__FreeBSD__) \
+|| defined(__OpenBSD__)
 #  include <limits.h>      /* PATH_MAX */
 #  include <signal.h>
 #  include <unistd.h>
@@@@ -157,7 +158,8 @@@@ namespace Orthanc
   {
 #if defined(_WIN32)
     ::Sleep(static_cast<DWORD>(microSeconds / static_cast<uint64_t>(1000)));
-#elif defined(__linux__) || defined(__APPLE__) || defined(__FreeBSD_kernel__) || defined(__FreeBSD__) || defined(__native_client__)
+#elif defined(__linux__) || defined(__APPLE__) || defined(__FreeBSD_kernel__) \
+|| defined(__FreeBSD__) || defined(__native_client__) || defined(__OpenBSD__)
     usleep(microSeconds);
 #else
 #error Support your platform here
@@@@ -369,7 +371,11 @@@@ namespace Orthanc
 
     return std::string(pathbuf);
   }
-
+#elif defined(__OpenBSD__)
+  static std::string GetPathToExecutableInternal()
+  {
+    return "/usr/local/sbin/Orthanc";
+  }
 #else
 #error Support your platform here
 #endif
@


1.1.1.1
log
@import orthanc-plugin-webviewer-2.3

Orthanc Web Viewer is a plugin to Orthanc, a lightweight, RESTful Vendor
Neutral Archive for medical imaging. It extends Orthanc with an
integrated Web viewer of DICOM images.

feedback and ok zhuk@@
@
text
@@
