head	1.3;
access;
symbols
	OPENBSD_4_1:1.1.0.6
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2007.05.22.21.08.17;	author steven;	state dead;
branches;
next	1.2;

1.2
date	2007.03.26.20.32.11;	author alek;	state Exp;
branches;
next	1.1;

1.1
date	2006.02.05.01.59.03;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to 1.4.0

from maintainer Eric Faurot
@
text
@$OpenBSD: patch-cairo_pycairo-font_c,v 1.2 2007/03/26 20:32:11 alek Exp $
--- cairo/pycairo-font.c.orig	Sun Mar 25 21:17:08 2007
+++ cairo/pycairo-font.c	Sun Mar 25 21:18:57 2007
@@@@ -197,6 +197,7 @@@@ scaled_font_new (PyTypeObject *type, PyO
     PycairoFontFace *ff;
     PycairoFontOptions *fo;
     PycairoMatrix *mx1, *mx2;
+    PyObject *o;
 
     if (!PyArg_ParseTuple(args, "O!O!O!O!:ScaledFont.__new__",
 			  &PycairoFontFace_Type, &ff,
@@@@ -205,7 +206,7 @@@@ scaled_font_new (PyTypeObject *type, PyO
 			  &PycairoFontOptions_Type, &fo))
 	return NULL;
 
-    PyObject *o = type->tp_alloc(type, 0);
+    o = type->tp_alloc(type, 0);
     if (o != NULL) {
 	cairo_scaled_font_t *scaled_font = cairo_scaled_font_create
 	    (ff->font_face, &mx1->matrix, &mx2->matrix, fo->font_options);
@


1.2
log
@- update to 1.2.6; it seems that py-cairo version has to be in sync with
  cairo's in order to work correctly
- use USE_LIBTOOL
- add do-regress target

ok maintainer
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@gcc2 fix
@
text
@d2 3
a4 3
--- cairo/pycairo-font.c.orig	Sat Feb  4 17:10:21 2006
+++ cairo/pycairo-font.c	Sat Feb  4 17:10:22 2006
@@@@ -196,6 +196,7 @@@@ scaled_font_new (PyTypeObject *type, PyO
d12 1
a12 1
@@@@ -204,7 +205,7 @@@@ scaled_font_new (PyTypeObject *type, PyO
d18 1
a18 1
     if (o) {
@

