head	1.25;
access;
symbols
	OPENBSD_6_0:1.25.0.4
	OPENBSD_6_0_BASE:1.25
	OPENBSD_5_9:1.25.0.2
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.24.0.4
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.22.0.6
	OPENBSD_5_7_BASE:1.22
	OPENBSD_5_6:1.22.0.4
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.22.0.2
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.15.0.6
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.4
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.2
	OPENBSD_5_0:1.13.0.2
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.5.0.2
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	ajacoutot_20080917:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2015.11.13.12.54.22;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	Iv5sperLmHjDPSvj;

1.24
date	2015.07.07.14.33.34;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	ICGMqQ1oNDB5Gm5S;

1.23
date	2015.05.22.11.31.16;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	2khjHXfpTaOuNVcx;

1.22
date	2014.02.07.11.48.05;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2014.01.18.13.42.29;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2013.10.07.06.50.59;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2013.08.09.17.39.44;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2013.08.07.21.32.03;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.21.08.45.19;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.11.11.10.55;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2011.12.22.09.47.50;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.09.16.10.02.38;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2011.06.02.13.41.39;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.17.08.05.16;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.08.16.54.55;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.07.18.48.24;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2010.10.26.14.43.53;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.24.12.47.15;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.24.12.45.53;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.10.22.19.31.43;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.07.17.08.13.01;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.08.24.07.12.40;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.03.05.08.09.40;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.02.17.09.19.03;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.09.17.10.17.27;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.09.17.10.17.27;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.25
log
@Update to tesseract-3.04.00.
@
text
@# $OpenBSD: Makefile,v 1.251 2015/10/18 08:17:11 ajacoutot Exp $

     SUBDIR =
     SUBDIR += tessdata
     SUBDIR += tesseract

.include <bsd.port.subdir.mk>
@


1.24
log
@Change some obvious sudo usage to '#' in READMEs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/05/22 11:31:16 ajacoutot Exp $
d3 3
a5 1
COMMENT=	OCR Engine developed at HP Labs
d7 1
a7 49
V=		3.02.02
DISTNAME=	tesseract-ocr-${V}
PKGNAME=	tesseract-${V}
WRKDIST=	${WRKDIR}/tesseract-ocr
REVISION=	2

SHARED_LIBS +=  tesseract            3.1      # 3.2

CATEGORIES=	graphics textproc

HOMEPAGE=	https://tesseract-ocr.googlecode.com/

# Apache License 2.0
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${HOMEPAGE}/files/

WANTLIB += c jpeg m pthread stdc++ z tiff png gif lept webp

LIB_DEPENDS=	graphics/leptonica

AUTOCONF_VERSION=2.69
AUTOMAKE_VERSION=1.14
BUILD_DEPENDS += ${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}
# libtoolize(1)
BUILD_DEPENDS += devel/libtool

RUN_DEPENDS=	graphics/tesseract-langs/eng

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS=	${CONFIGURE_SHARED}

pre-configure:
	cd ${WRKSRC} && \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		./autogen.sh ${CONFIGURE_ARGS}

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/tesseract
	${INSTALL_DATA} ${WRKSRC}/doc/*.1 ${PREFIX}/man/man1/
	${INSTALL_DATA} ${WRKSRC}/doc/*.5 ${PREFIX}/man/man5/
	${INSTALL_DATA} ${WRKSRC}/{eurotext.tif,phototest.tif} \
		${PREFIX}/share/examples/tesseract

.include <bsd.port.mk>
@


1.23
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/02/07 11:48:05 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
@


1.22
log
@tesseract-langs owns the share/tessdata/ directory.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/01/18 13:42:29 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.21
log
@Update to tesseract-3.02.02.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/10/07 06:50:59 espie Exp $
d9 1
@


1.20
log
@say goodbye to the langs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/08/09 17:39:44 ajacoutot Exp $
d3 1
a3 1
COMMENT-main=	OCR Engine developed at HP Labs
d5 4
a8 3
V=		3.01
DISTNAME=	tesseract-${V}
CATEGORIES=	graphics textproc
d10 1
a10 2
PKGNAME-main=	${DISTNAME}
REVISION-main=	1
d12 1
a12 1
SHARED_LIBS +=  tesseract            3.1      # 3.1
a13 7
DISTFILES=	${DISTNAME}${EXTRACT_SUFX} \
		eng.traineddata.gz

MAJOR_V=	${V:C/^([0-9]+).*/\1/}
LANG_V=		${MAJOR_V}.20101024
DIST_SUBDIR=	tesseract-${LANG_V}
			
d19 1
a19 1
MULTI_PACKAGES=	-main
d21 1
a21 1
WANTLIB-main=	c jpeg m pthread stdc++ z tiff png gif lept webp
d23 1
a23 1
LIB_DEPENDS-main=graphics/leptonica
d25 2
a26 5
MASTER_SITES=	${HOMEPAGE}/files/


AUTOCONF_VERSION=2.65
AUTOMAKE_VERSION=1.10
d32 2
a45 2
	cp ${WRKDIR}/*.traineddata ${PREFIX}/share/tessdata/
	chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share
@


1.19
log
@Remove -lpthread patching.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/08/07 21:32:03 naddy Exp $
d16 4
a26 21

### languages ##########################################################
# language files are unversionned
MAJOR_V=	${V:C/^([0-9]+).*/\1/}
LANG_V=		${MAJOR_V}.20101024
DIST_SUBDIR=	tesseract-${LANG_V}

LANGS+=	bul cat ces chi_sim chi_tra dan-frak dan deu ell fin fra hun ind
LANGS+=	ita jpn kor lav lit nld nor pol por ron rus slk slv spa srp swe
LANGS+=	tgl tur ukr vie

.for l in ${LANGS}
COMMENT-${l}=	${l} language data for Tesseract
DISTFILES+=	${l}.traineddata.gz
PKGNAME-${l}=	tesseract-${l}-${LANG_V}
MULTI_PACKAGES+=-${l}
REVISION-${l}=	4
RUN_DEPENDS-${l}=	${BASE_PKGPATH}>=${MAJOR_V}
PKG_ARCH-${l}=	*
.endfor
### end languages ######################################################
@


1.18
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/21 08:45:19 ajacoutot Exp $
d10 1
a10 1
REVISION-main=	0
a68 1
	perl -pi -e 's,-lpthread,-pthread,g' ${WRKSRC}/configure
@


1.17
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/11 11:10:55 espie Exp $
d10 1
d17 1
a17 1
HOMEPAGE=	http://tesseract-ocr.googlecode.com/
d39 1
a39 1
REVISION-${l}=	3
@


1.16
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/12/22 09:47:50 ajacoutot Exp $
a49 1
USE_LIBTOOL=	Yes
@


1.15
log
@Update to tesseract-3.01.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/09/16 10:02:38 espie Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.14
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/06/02 13:41:39 ajacoutot Exp $
d5 1
a5 1
V=		3.00
a9 1
REVISION-main=	3
d11 1
a11 12
SHARED_LIBS +=  tesseract_api             0.0 # 3.0
SHARED_LIBS +=  tesseract_ccstruct        0.0 # 3.0
SHARED_LIBS +=  tesseract_ccutil          0.0 # 3.0
SHARED_LIBS +=  tesseract_classify        0.0 # 3.0
SHARED_LIBS +=  tesseract_cutil           0.0 # 3.0
SHARED_LIBS +=  tesseract_dict            0.0 # 3.0
SHARED_LIBS +=  tesseract_image           0.0 # 3.0
SHARED_LIBS +=  tesseract_main            0.0 # 3.0
SHARED_LIBS +=  tesseract_textord         0.0 # 3.0
SHARED_LIBS +=  tesseract_training        0.0 # 3.0
SHARED_LIBS +=  tesseract_viewer          0.0 # 3.0
SHARED_LIBS +=  tesseract_wordrec         0.0 # 3.0
d41 1
a41 1
REVISION-${l}=	2
d47 1
a47 4
WANTLIB-main=	c jpeg m pthread stdc++ z tiff png

LIB_DEPENDS-main= graphics/tiff \
		graphics/png
d49 1
d55 7
d68 5
a72 1
	${SUBST_CMD} ${WRKSRC}/ccutil/debugwin.cpp
@


1.13
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/17 08:05:16 espie Exp $
d53 1
a53 1
REVISION-${l}=	1
@


1.12
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/08 16:54:55 naddy Exp $
d10 1
a10 1
REVISION-main=	2
@


1.11
log
@bump subpackages after HOMEPAGE change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/07 18:48:24 jasper Exp $
d54 1
a54 1
RUN_DEPENDS-${l}=:tesseract->=${MAJOR_V}:${BASE_PKGPATH}
d61 2
a62 2
LIB_DEPENDS-main= ::graphics/tiff \
		::graphics/png
@


1.10
log
@- move to pkg readmes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/10/26 14:43:53 ajacoutot Exp $
d53 1
a53 1
REVISION-${l}=	0
@


1.9
log
@Instal man pages, from Sergey Bronnikov.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/24 12:47:15 ajacoutot Exp $
d10 1
a10 1
REVISION-main=	1
d28 1
a28 1
HOMEPAGE=	http://code.google.com/p/tesseract-ocr/
d42 1
a42 1
DIST_SUBDIR=tesseract-${LANG_V}
d65 1
a65 1
MASTER_SITES=	http://tesseract-ocr.googlecode.com/files/
a79 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/tesseract
a82 2
	${INSTALL_DATA} ${WRKSRC}/README ${FILESDIR}/README.OpenBSD \
		${PREFIX}/share/doc/tesseract
@


1.8
log
@Resign from maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/10/24 12:45:53 ajacoutot Exp $
d10 1
a10 1
REVISION-main=	0
d82 2
@


1.7
log
@Add languages files for tesseract 3.
Originally from Sergey Bronnikov, heavily reworked by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/10/22 19:31:43 ajacoutot Exp $
d10 1
a29 2
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

d53 1
a53 1
#REVISION-${l}=
@


1.6
log
@Update to tesseract-3.00.

from Sergey Bronnikov with tweaks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/07/17 08:13:01 ajacoutot Exp $
a3 6
COMMENT-de=	German language data for tesseract
COMMENT-es=	Spanish language data for tesseract
COMMENT-fr=	French language data for tesseract
COMMENT-it=	Italian language data for tesseract
COMMENT-nl=	Dutch language data for tesseract
COMMENT-pt=	Portuguese (Brazilian) language data for tesseract
d5 2
a6 1
DISTNAME=	tesseract-3.00
a9 6
PKGNAME-de=	tesseract-de-2.00
PKGNAME-es=	tesseract-es-2.00
PKGNAME-fr=	tesseract-fr-2.00
PKGNAME-it=	tesseract-it-2.00
PKGNAME-nl=	tesseract-nl-2.00
PKGNAME-pt=	tesseract-pt-2.01
d25 2
a26 8
		tesseract-2.00.deu.tar.gz \
		tesseract-2.00.eng.tar.gz \
		tesseract-2.00.fra.tar.gz \
		tesseract-2.00.ita.tar.gz \
		tesseract-2.00.nld.tar.gz \
		tesseract-2.01.por.tar.gz \
		tesseract-2.00.spa.tar.gz

d37 22
a58 1
MULTI_PACKAGES=	-main -de -es -fr -it -nl -pt
a64 13
RUN_DEPENDS-de=	::${BASE_PKGPATH}
RUN_DEPENDS-es=	::${BASE_PKGPATH}
RUN_DEPENDS-fr=	::${BASE_PKGPATH}
RUN_DEPENDS-it=	::${BASE_PKGPATH}
RUN_DEPENDS-nl=	::${BASE_PKGPATH}
RUN_DEPENDS-pt=	::${BASE_PKGPATH}

PKG_ARCH-de=	*
PKG_ARCH-es=	*
PKG_ARCH-fr=	*
PKG_ARCH-it=	*
PKG_ARCH-nl=	*
PKG_ARCH-pt=	*
d79 1
a79 1
	cp -R ${WRKDIR}/tessdata ${PREFIX}/share
@


1.5
log
@Add a small HOWTO about OCR.
Inspired from http://info.iet.unipi.it/~luigi/FreeBSD/dx5050.html

Use REVISION and new DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/08/24 07:12:40 ajacoutot Exp $
d11 1
a11 1
DISTNAME=	tesseract-2.04
a14 1
REVISION-main=	0
d22 13
d77 2
d82 1
@


1.4
log
@Update to tesseract-2.04
Fixes more than 20 issues, including portability ones.

from Daniel Dickman, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/03/05 08:09:40 ajacoutot Exp $
d15 1
d44 1
a44 1
WANTLIB-main=	c jpeg m pthread stdc++ z
d46 2
a47 2
LIB_DEPENDS-main= tiff::graphics/tiff \
		png.>=7::graphics/png
d77 2
a78 1
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/tesseract
@


1.3
log
@- prevent several crashes
patches from http://www.win.tue.nl/~aeb/linux/ocr/tesseract.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/02/17 09:19:03 ajacoutot Exp $
d3 1
a3 1
COMMENT-main=	OCR Engine developed at HP Labs.
d11 1
a11 1
DISTNAME=	tesseract-2.03
d14 1
a14 1
PKGNAME-main=	${DISTNAME}p1
@


1.2
log
@- fix path to xterm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/09/17 10:17:27 ajacoutot Exp $
d14 1
a14 1
PKGNAME-main=	${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d14 1
a14 1
PKGNAME-main=	${DISTNAME}
d67 3
@


1.1.1.1
log
@Import tesseract-2.03

The Tesseract OCR engine was one of the top 3 engines in the 1995 UNLV
Accuracy test. Between 1995 and 2006 it had little work done on it, but
it is probably one of the most accurate open source OCR engines
available. The source code will read a binary, grey or color image and
output text. A tiff reader is built in that will read uncompressed TIFF
images, or libtiff can be added to read compressed images.


reworked from scratch from an original submission by
jrrs at ice-nine dot org a while ago on ports@@; he's been non-responsive
so far so I'm taking MAINTAINERship.
@
text
@@
