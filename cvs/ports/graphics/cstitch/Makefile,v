head	1.3;
access;
symbols
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2
	awolk_20160315:1.1.1.1
	awolk:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2016.12.25.14.34.39;	author zhuk;	state Exp;
branches;
next	1.2;
commitid	l6KSNN1DfB6ABkhu;

1.2
date	2016.03.28.09.27.10;	author zhuk;	state Exp;
branches;
next	1.1;
commitid	7DIOqvt6anVEDFZy;

1.1
date	2016.03.15.21.45.11;	author awolk;	state Exp;
branches
	1.1.1.1;
next	;
commitid	vmFjpMzbReLLg5Pd;

1.1.1.1
date	2016.03.15.21.45.11;	author awolk;	state Exp;
branches;
next	;
commitid	vmFjpMzbReLLg5Pd;


desc
@@


1.3
log
@Adapt to new x11/qt5 layout, mostly REVISION bumps due to changed deps.

The devel/kf5 to be handled separately, please wait.
@
text
@# $OpenBSD: Makefile,v 1.2 2016/03/28 09:27:10 zhuk Exp $

COMMENT =		convert images to cross stitch patterns

GH_ACCOUNT =		kleintom
GH_PROJECT =		cstitch
GH_TAGNAME =		0.9.7
REVISION =		0

DISTFILES=		${DISTNAME}.tar.gz ${DISTNAME}-icons{icons}.zip:0

MASTER_SITES0 =		http://sourceforge.net/projects/cstitch/files/Cstitch/Icons/

MODULES =		devel/qmake lang/python x11/qt5
MODPY_RUNDEP =		No

CATEGORIES =		graphics

HOMEPAGE =		http://cstitch.sourceforge.net/

MAINTAINER =		Adam Wolk <awolk@@openbsd.org>

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += GL Qt5Core Qt5Gui Qt5PrintSupport Qt5Widgets Qt5Xml
WANTLIB += c m pthread

RUN_DEPENDS =		devel/desktop-file-utils x11/gtk+3,-guic

WRKDIST = ${WRKDIR}/Cstitch-${GH_TAGNAME}
EXTRACT_CASES += *icons.zip) \
	${UNZIP} -qo ${FULLDISTDIR}/$$archive -d \
	${WRKDIST}/icons/;;

pre-configure:
	cd ${WRKDIST} && \
		${MODPY_BIN} doc/createDocs.py && \
		${MODQT_QMAKE} -project && \
		${MODPY_BIN} progen.py

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/Cstitch-${GH_TAGNAME} \
		${PREFIX}/bin/cstitch
	${INSTALL_DATA_DIR} \
		${PREFIX}/share/icons/hicolor/scalable/apps
	${INSTALL_DATA} ${WRKSRC}/icons/cstitch.svg \
		${PREFIX}/share/icons/hicolor/scalable/apps/
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	${INSTALL_DATA} ${WRKSRC}/cstitch.desktop \
		${PREFIX}/share/applications/
	${INSTALL_DATA_DIR} ${PREFIX}/share/cstitch/locale/
	${INSTALL_DATA} ${WRKSRC}/translations/*.qm \
		${PREFIX}/share/cstitch/locale/

.include <bsd.port.mk>
@


1.2
log
@Unbreak after recent qommit.

Spotted by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/03/15 21:45:11 awolk Exp $
d8 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/03/03 15:55:08 kili Exp $
d13 1
a13 1
MODULES =		lang/python x11/qt5
a14 2

CONFIGURE_STYLE =       qmake
@


1.1.1.1
log
@Import graphics/cstitch

convert images to cross stitch patterns

OK sthen@@

@
text
@@
