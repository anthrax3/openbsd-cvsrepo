head	1.5;
access;
symbols
	OPENBSD_6_2:1.5.0.2
	OPENBSD_6_2_BASE:1.5
	OPENBSD_6_1:1.4.0.2
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2
	awolk_20160315:1.1.1.1
	awolk:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2017.07.27.09.55.45;	author sthen;	state Exp;
branches;
next	1.4;
commitid	B5vWYrki33kPVNK6;

1.4
date	2017.03.28.12.43.37;	author awolk;	state Exp;
branches;
next	1.3;
commitid	kvzK2COf4ZdgNbnN;

1.3
date	2016.12.25.14.34.39;	author zhuk;	state Exp;
branches;
next	1.2;
commitid	l6KSNN1DfB6ABkhu;

1.2
date	2016.03.28.09.27.10;	author zhuk;	state Exp;
branches;
next	1.1;
commitid	7DIOqvt6anVEDFZy;

1.1
date	2016.03.15.21.45.11;	author awolk;	state Exp;
branches
	1.1.1.1;
next	;
commitid	vmFjpMzbReLLg5Pd;

1.1.1.1
date	2016.03.15.21.45.11;	author awolk;	state Exp;
branches;
next	;
commitid	vmFjpMzbReLLg5Pd;


desc
@@


1.5
log
@add COMPILER_LIBCXX to WANTLIB and bump
@
text
@# $OpenBSD: Makefile,v 1.4 2017/03/28 12:43:37 awolk Exp $

COMMENT =		convert images to cross stitch patterns

GH_ACCOUNT =		kleintom
GH_PROJECT =		cstitch
GH_TAGNAME =		0.9.8
REVISION =		0

DISTFILES=		${DISTNAME}.tar.gz ${DISTNAME}-icons{icons}.zip:0

MASTER_SITES0 =		http://sourceforge.net/projects/cstitch/files/Cstitch/Icons/

MODULES =		devel/qmake lang/python x11/qt5
MODPY_RUNDEP =		No

CATEGORIES =		graphics

HOMEPAGE =		http://cstitch.sourceforge.net/

MAINTAINER =		Adam Wolk <awolk@@openbsd.org>

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += GL Qt5Core Qt5Gui Qt5PrintSupport Qt5Widgets Qt5Xml
WANTLIB += c m pthread
WANTLIB += ${COMPILER_LIBCXX}

RUN_DEPENDS =		devel/desktop-file-utils x11/gtk+3,-guic

WRKDIST = ${WRKDIR}/Cstitch-${GH_TAGNAME}
EXTRACT_CASES += *icons.zip) \
	${UNZIP} -qo ${FULLDISTDIR}/$$archive -d \
	${WRKDIST}/icons/;;

pre-configure:
	cd ${WRKDIST} && \
		${MODPY_BIN} doc/createDocs.py && \
		${MODQT_QMAKE} -project && \
		${MODPY_BIN} progen.py

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/Cstitch-${GH_TAGNAME} \
		${PREFIX}/bin/cstitch
	${INSTALL_DATA_DIR} \
		${PREFIX}/share/icons/hicolor/scalable/apps
	${INSTALL_DATA} ${WRKSRC}/icons/cstitch.svg \
		${PREFIX}/share/icons/hicolor/scalable/apps/
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications
	${INSTALL_DATA} ${WRKSRC}/cstitch.desktop \
		${PREFIX}/share/applications/
	${INSTALL_DATA_DIR} ${PREFIX}/share/cstitch/locale/
	${INSTALL_DATA} ${WRKSRC}/translations/*.qm \
		${PREFIX}/share/cstitch/locale/

.include <bsd.port.mk>
@


1.4
log
@Update graphics/cstitch to 0.9.8

OK sthen@@

Upstream bumped the version number post tagging the actual
release hence the 'About' menu still shows version 0.9.7.83 instead of 0.9.8.84

Commit post tagging:
https://github.com/kleintom/Cstitch/commit/d9a8b1fbc9b66de3ce5990cebdde26acea8b1a3f

Upstream changelog:
---
Beta version 0.9.8 released on March 20, 2017:
* Added options during pattern saving for specifying the width of a color border
  around each symbol in the pdf pattern, and for specifying how often the
  bold/heavier lines should appear in the pdf pattern grid.
* DMC/Anchor color codes and names are now displayed in the main windows
(instead
  of RGB).
* Added the ability to specify fabric of a particular squares per inch/cm in the
  dimensions computer.
* We should now do better at finding a pdf viewer to auto-display saved pdf
  patterns.
* More settings are remembered so that they don't need to be reconfigured each
  time the program is run.
* Bug fixes.

This is the first version for which the downloadable executable for Windows does
not run on Windows XP.
---
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/12/25 14:34:39 zhuk Exp $
d8 1
d28 1
@


1.3
log
@Adapt to new x11/qt5 layout, mostly REVISION bumps due to changed deps.

The devel/kf5 to be handled separately, please wait.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2016/03/28 09:27:10 zhuk Exp $
d7 1
a7 2
GH_TAGNAME =		0.9.7
REVISION =		0
@


1.2
log
@Unbreak after recent qommit.

Spotted by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/03/15 21:45:11 awolk Exp $
d8 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/03/03 15:55:08 kili Exp $
d13 1
a13 1
MODULES =		lang/python x11/qt5
a14 2

CONFIGURE_STYLE =       qmake
@


1.1.1.1
log
@Import graphics/cstitch

convert images to cross stitch patterns

OK sthen@@

@
text
@@
