head	1.21;
access;
symbols
	OPENBSD_6_0:1.21.0.2
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.19.0.2
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.17.0.12
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.17.0.8
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.17.0.6
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.17.0.4
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.14.0.2
	OPENBSD_5_3_BASE:1.14
	OPENBSD_5_2:1.13.0.8
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.6
	OPENBSD_5_0:1.13.0.4
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.2
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.11.0.4
	OPENBSD_4_8_BASE:1.11
	OPENBSD_4_7:1.11.0.2
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.10.0.6
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.4
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.10.0.2
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.7.0.6
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.4
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.2
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.4.0.4
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	brad_2004-05-14:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.21
date	2016.03.11.20.28.26;	author naddy;	state Exp;
branches;
next	1.20;
commitid	UYLP8TE6V7RS2GhJ;

1.20
date	2016.03.09.15.16.05;	author jasper;	state Exp;
branches;
next	1.19;
commitid	dGDmyQEYtGmVbiSR;

1.19
date	2016.02.04.10.08.07;	author jasper;	state Exp;
branches;
next	1.18;
commitid	CEUZk17YSfbqdjCS;

1.18
date	2015.11.06.22.28.29;	author sthen;	state Exp;
branches;
next	1.17;
commitid	4ni4D6u36mcuFV1W;

1.17
date	2013.04.20.15.25.35;	author naddy;	state Exp;
branches
	1.17.12.1;
next	1.16;

1.16
date	2013.03.21.08.45.18;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2013.03.11.11.10.53;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2012.08.04.20.30.59;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.17.08.05.14;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.18.18.13.14;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2009.08.16.19.58.31;	author jolan;	state Exp;
branches;
next	1.10;

1.10
date	2008.05.17.09.32.15;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.15.20.09.41;	author simon;	state Exp;
branches;
next	1.8;

1.8
date	2007.03.29.13.43.52;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2006.01.08.11.04.59;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2005.12.26.15.44.01;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2005.10.30.00.10.40;	author fgsch;	state Exp;
branches;
next	1.4;

1.4
date	2004.11.30.01.06.36;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.01.21.19.17;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2004.07.07.03.18.42;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2004.05.14.05.33.57;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.05.14.05.33.57;	author brad;	state Exp;
branches;
next	;

1.17.12.1
date	2015.11.12.13.06.48;	author jasper;	state Exp;
branches;
next	1.17.12.2;
commitid	dUxoBTuucapicQcU;

1.17.12.2
date	2016.02.04.10.10.25;	author jasper;	state Exp;
branches;
next	1.17.12.3;
commitid	ZzOVNz2Po3I88jPe;

1.17.12.3
date	2016.03.09.15.34.26;	author jasper;	state Exp;
branches;
next	;
commitid	dX6Ka1FF4Ag9KVov;


desc
@@


1.21
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.20 2016/03/09 15:16:05 jasper Exp $

COMMENT =	reference implementation of JPEG-2000

DISTNAME =	jasper-1.900.1
REVISION =	5
SHARED_LIBS =	jasper		2.1

CATEGORIES =	graphics
MASTER_SITES =	http://www.ece.uvic.ca/~mdadams/jasper/software/
EXTRACT_SUFX =	.zip

HOMEPAGE =	http://www.ece.uvic.ca/~mdadams/jasper/

# MIT
PERMIT_PACKAGE_CDROM =	Yes
WANTLIB =		c m

CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS +=	--without-x \
			--disable-opengl
MODGNU_CONFIG_GUESS_DIRS =${WRKSRC}/acaux

.include <bsd.port.mk>
@


1.20
log
@security fixes for CVE-2016-1577 CVE-2016-2116
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2016/02/04 10:08:07 jasper Exp $
d20 1
a20 2
CONFIGURE_ARGS +=	${CONFIGURE_SHARED} \
			--without-x \
@


1.19
log
@Security fix for CVE-2016-2089, patch from redhat bz.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/11/06 22:28:29 sthen Exp $
d6 1
a6 1
REVISION =	4
@


1.18
log
@add security fixes to graphics/jasper, from Slackware via patrick keshishian

CVE-2014-8137: double-free
CVE-2014-8138: heap-based buffer overflow
CVE-2014-8157: off-by-one
CVE-2014-8158: multiple stack-based buffer overflows
CVE-2014-9029: multiple off-by-one
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/04/20 15:25:35 naddy Exp $
d6 1
a6 1
REVISION =	3
@


1.17
log
@Security:
Fixes for heap overflows CVE-2011-4516, CVE-2011-4517.  From FreeBSD/Debian.

While here, trim DESCR, routine cleanups.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/21 08:45:18 ajacoutot Exp $
d6 1
a6 1
REVISION =	2
@


1.17.12.1
log
@add security fixes to graphics/jasper, from Slackware via patrick keshishian

CVE-2014-8137: double-free
CVE-2014-8138: heap-based buffer overflow
CVE-2014-8157: off-by-one
CVE-2014-8158: multiple stack-based buffer overflows
CVE-2014-9029: multiple off-by-one
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/04/20 15:25:35 naddy Exp $
d6 1
a6 1
REVISION =	3
@


1.17.12.2
log
@Security fix for CVE-2016-2089, patch from redhat bz.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17.12.1 2015/11/12 13:06:48 jasper Exp $
d6 1
a6 1
REVISION =	4
@


1.17.12.3
log
@security fixes for CVE-2016-1577 CVE-2016-2116
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17.12.2 2016/02/04 10:10:25 jasper Exp $
d6 1
a6 1
REVISION =	5
@


1.16
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/11 11:10:53 espie Exp $
d6 1
a6 1
REVISION =	1
d10 1
a10 1
MASTER_SITES =	${HOMEPAGE}software/
@


1.15
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/08/04 20:30:59 naddy Exp $
a18 1
USE_LIBTOOL =		Yes
@


1.14
log
@no need for groff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/17 08:05:14 espie Exp $
a16 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.13
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/18 18:13:14 espie Exp $
a22 1
USE_GROFF =		Yes
@


1.12
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/08/16 19:58:31 jolan Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME}p1
d23 1
a23 1
USE_GROFF =	Yes
@


1.11
log
@dont run jas_cleanup via atexit.  fixes a crash on exit seen with
php cli + pecl-imagick caused by atexit running when jasper has been
unloaded via dlclose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/05/17 09:32:15 espie Exp $
d23 1
@


1.10
log
@tidy up a few warnings.
with help from naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/09/15 20:09:41 simon Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME}p0
@


1.9
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/03/29 13:43:52 jasper Exp $
d3 1
a3 1
COMMENT=	reference implementation of JPEG-2000
d5 3
a7 2
DISTNAME=	jasper-1.900.1
SHARED_LIBS=	jasper		2.0
d9 3
a11 3
CATEGORIES=	graphics
MASTER_SITES=	${HOMEPAGE}software/
EXTRACT_SUFX=	.zip
d13 1
a13 1
HOMEPAGE=	http://www.ece.uvic.ca/~mdadams/jasper/
d16 9
a24 9
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		c m

USE_LIBTOOL=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
d27 1
a27 1
MODGNU_CONFIG_GUESS_DIRS=${WRKSRC}/acaux
@


1.8
log
@update myself to 1.900.1

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/01/08 11:04:59 steven Exp $
d3 1
a3 1
COMMENT=	"reference implementation of JPEG-2000"
@


1.7
log
@remove MODGNU_SHARED_LIBS - this adds a -release library so bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/12/26 15:44:01 steven Exp $
d5 2
a6 4
DISTNAME=	jasper-1.701.0
PKGNAME=	${DISTNAME}p1
SHARED_LIBS=	jasper		1.0 \
		jasper-1.701	1.0
d21 5
a25 4
USE_LIBTOOL=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --without-x --disable-opengl
@


1.6
log
@SHARED_LIBS and USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/10/30 00:10:40 fgsch Exp $
d6 3
a8 3
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=		jasper	1.0
MODGNU_SHARED_LIBS=	jasper	''
@


1.5
log
@after querying brad@@ he decided to drop maintainership for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/11/30 01:06:36 espie Exp $
d6 4
d23 1
@


1.4
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/08/01 21:19:17 naddy Exp $
a10 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.3
log
@fix up MODGNU_CONFIG_GUESS_DIRS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/07/07 03:18:42 espie Exp $
d19 1
@


1.2
log
@trim comment. okay maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/05/14 05:33:57 brad Exp $
d23 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
COMMENT=	"software-based reference implementation of the JPEG-2000 codec"
@


1.1.1.1
log
@add jasper 1.701.0
--
The JasPer Project is a collaborative effort between Image Power,
Inc.  and the University of British Columbia. The objective of this
project is to develop a software-based reference implementation of
the codec specified in the JPEG-2000 Part-1 standard (i.e., ISO/IEC
15444-1). This software has also been submitted to the ISO for
inclusion in the JPEG-2000 Part-5 standard (as an official reference
implementation).
@
text
@@
