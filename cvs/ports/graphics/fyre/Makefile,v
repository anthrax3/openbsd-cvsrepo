head	1.31;
access;
symbols
	OPENBSD_6_2:1.31.0.2
	OPENBSD_6_2_BASE:1.31
	OPENBSD_6_1:1.28.0.6
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.28.0.4
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.28.0.2
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.25.0.4
	OPENBSD_5_8_BASE:1.25
	OPENBSD_5_7:1.24.0.8
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.24.0.6
	OPENBSD_5_6_BASE:1.24
	OPENBSD_5_5:1.24.0.4
	OPENBSD_5_5_BASE:1.24
	OPENBSD_5_4:1.24.0.2
	OPENBSD_5_4_BASE:1.24
	OPENBSD_5_3:1.22.0.4
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.22.0.2
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.2
	OPENBSD_5_0:1.17.0.4
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.12.0.4
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.8.0.2
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.6.0.4
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.2
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	jasper_20070521:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.31
date	2017.07.26.22.45.23;	author sthen;	state Exp;
branches;
next	1.30;
commitid	tD4MFrpYYDDL2UFT;

1.30
date	2017.07.16.19.18.56;	author espie;	state Exp;
branches;
next	1.29;
commitid	tt0GhWK5c4uf9ILG;

1.29
date	2017.04.10.11.46.20;	author sthen;	state Exp;
branches;
next	1.28;
commitid	BLsh88fJB8thZTwY;

1.28
date	2016.01.17.17.29.09;	author sthen;	state Exp;
branches;
next	1.27;
commitid	bS2FIbTCCkF3XjOq;

1.27
date	2015.11.24.09.11.05;	author jasper;	state Exp;
branches;
next	1.26;
commitid	x9aAifyKiYiivEom;

1.26
date	2015.09.22.18.47.52;	author pascal;	state Exp;
branches;
next	1.25;
commitid	rLFV4JCgkelUH8yf;

1.25
date	2015.03.27.08.11.28;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	mHt3hIg3nxq5XDcy;

1.24
date	2013.04.05.08.02.36;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2013.03.11.11.10.52;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2012.07.17.10.05.34;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2012.06.15.08.32.16;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2011.12.03.18.35.11;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2011.11.01.20.30.49;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2011.09.16.10.02.36;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.11.17.08.05.13;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.11.09.18.22.26;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.10.24.21.21.00;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2010.10.11.08.14.42;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2010.09.12.16.49.09;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2009.12.22.16.06.40;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.09.10.22.17.52;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.08.10.06.31.44;	author kili;	state Exp;
branches;
next	1.9;

1.9
date	2009.07.18.17.41.10;	author kili;	state Exp;
branches;
next	1.8;

1.8
date	2009.06.24.22.44.45;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2009.04.16.08.23.14;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.06.29.20.44.51;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2008.04.17.08.10.10;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.04.11.11.17.39;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.13.17.10.25;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.15.20.09.40;	author simon;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.21.14.24.06;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.21.14.24.06;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.31
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.30 2017/07/16 19:18:56 espie Exp $

COMMENT=		tool for producing computational artwork
DISTNAME=		fyre-1.0.1
REVISION=		18
CATEGORIES=		graphics

HOMEPAGE=		http://fyre.navi.cx/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += Half Iex IexMath IlmImf IlmThread Imath X11 Xcomposite
WANTLIB += Xcursor Xdamage Xext Xfixes Xi Xinerama Xrandr Xrender
WANTLIB += atk-1.0 c cairo fontconfig freetype gdk-x11-2.0 gio-2.0
WANTLIB += glade-2.0 glib-2.0 gobject-2.0 gtk-x11-2.0 m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pthread ${COMPILER_LIBCXX} xml2 z
WANTLIB += gdk_pixbuf-2.0

MASTER_SITES=		http://releases.navi.cx/fyre/ \
			https://distfiles.nl/

MODULES=		devel/gettext

LIB_DEPENDS=		devel/libglade2 \
			graphics/openexr
RUN_DEPENDS=		devel/desktop-file-utils \
			misc/shared-mime-info \
			x11/gtk+3,-guic

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS= 	--disable-gnet

# quirky, but prevents a patch
post-patch:
	@@ln -s /usr/bin/true ${WRKDIR}/bin/update-mime-database
	@@ln -s /usr/bin/true ${WRKDIR}/bin/update-desktop-database

.include <bsd.port.mk>
@


1.30
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2017/04/10 11:46:20 sthen Exp $
d5 1
a5 1
REVISION=		17
@


1.29
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/01/17 17:29:09 sthen Exp $
d17 1
a17 1
WANTLIB += pangocairo-1.0 pangoft2-1.0 pthread ${LIBCXX} xml2 z
@


1.28
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/11/24 09:11:05 jasper Exp $
d17 1
a17 1
WANTLIB += pangocairo-1.0 pangoft2-1.0 pthread stdc++ xml2 z
@


1.27
log
@switch distfiles.nl to SSL, setup with security/letsencrypt/client
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/09/22 18:47:52 pascal Exp $
d5 1
a5 1
REVISION=		16
d18 1
@


1.26
log
@sync WANTLIB after openexr update

ok zhuk@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/03/27 08:11:28 ajacoutot Exp $
d20 1
a20 1
			http://distfiles.nl/
@


1.25
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/04/05 08:02:36 ajacoutot Exp $
d5 1
a5 1
REVISION=		15
d13 5
a17 6
WANTLIB += Half Iex IlmImf IlmThread Imath X11 Xcomposite Xcursor
WANTLIB += Xdamage Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0
WANTLIB += c cairo fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glade-2.0 glib-2.0 gobject-2.0 gtk-x11-2.0
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pthread stdc++
WANTLIB += xml2 z
@


1.24
log
@No need for textproc/rarian, ca sert rarian.
Regen PLIST/WANTLIB while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/11 11:10:52 espie Exp $
d5 1
a5 1
REVISION=		14
d29 1
a29 1
			x11/gtk+2,-guic
@


1.23
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/07/17 10:05:34 jasper Exp $
d5 1
a5 1
REVISION=		13
d13 1
a13 1
WANTLIB += GL Half Iex IlmImf IlmThread Imath X11 Xcomposite Xcursor
d15 1
a15 1
WANTLIB += c cairo expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
d17 1
a17 2
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1 png
WANTLIB += pthread pthread-stubs stdc++ xcb xcb-render xcb-shm
a24 1
BUILD_DEPENDS=		textproc/rarian
d34 1
a34 2
CONFIGURE_ARGS= 	--enable-openexr \
			--disable-gnet
@


1.22
log
@- disable gnet support, gnet is deprecated and ought to be removed.
- install a .desktop file while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/06/15 08:32:16 ajacoutot Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.21
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/12/03 18:35:11 ajacoutot Exp $
d5 1
a5 1
REVISION=		12
d10 1
a10 1
# GPL
d16 7
a22 8
WANTLIB=	Half Iex IlmThread Imath X11 Xcomposite Xcursor \
		Xdamage Xext Xfixes Xi Xinerama Xrandr Xrender \
		atk-1.0 c cairo expat fontconfig freetype gdk-x11-2.0 \
		gdk_pixbuf-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
		gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pixman-1 png pthread stdc++ xml2 z gio-2.0 \
		pthread-stubs xcb glade-2.0 IlmImf>=4 gnet-2.0 \
		GL xcb-render xcb-shm
d31 3
a33 3
			graphics/openexr \
			net/gnet
RUN_DEPENDS=		misc/shared-mime-info \
d40 1
a40 1
			--enable-gnet
d42 1
d45 1
@


1.20
log
@Adapt after gtk+2,-guic split.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/11/01 20:30:49 jasper Exp $
d5 1
a5 1
REVISION=		11
@


1.19
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/09/16 10:02:36 espie Exp $
d5 1
a5 1
REVISION=		10
d35 1
a35 1
			x11/hicolor-icon-theme
@


1.18
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/11/17 08:05:13 espie Exp $
d5 1
a5 1
REVISION=	9
d16 2
a17 2
WANTLIB=	Half Iex IlmThread Imath X11 Xau Xcomposite Xcursor \
		Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender \
d22 2
a23 1
		pthread-stubs xcb glade-2.0 IlmImf>=4 gnet-2.0
@


1.17
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/11/09 18:22:26 espie Exp $
d5 1
a5 1
REVISION=	8
@


1.16
log
@WANTLIB conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/10/24 21:21:00 ajacoutot Exp $
d22 1
a22 1
		pthread-stubs xcb glade-2.0 IlmImf.>=4 gnet-2.0
d29 6
a34 6
BUILD_DEPENDS=		::textproc/rarian
LIB_DEPENDS=		::devel/libglade2 \
			::graphics/openexr \
			::net/gnet
RUN_DEPENDS=		::misc/shared-mime-info \
			::x11/hicolor-icon-theme
@


1.15
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/10/11 08:14:42 jasper Exp $
d22 1
a22 1
		pthread-stubs xcb
d30 3
a32 3
LIB_DEPENDS=		glade-2.0::devel/libglade2 \
			IlmImf.>=4::graphics/openexr \
			gnet-2.0::net/gnet
@


1.14
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/09/12 16:49:09 jasper Exp $
a36 1
USE_X11=		yes
@


1.13
log
@- move distfiles/ to a proper mirroring location.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/12/22 16:06:40 ajacoutot Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p7
d19 1
a19 1
		gdk_pixbuf-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0 \
@


1.12
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/09/10 22:17:52 jasper Exp $
d25 1
a25 1
			http://www.phil.uu.nl/~lievisse/distfiles/
@


1.11
log
@- move distfiles to another site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/08/10 06:31:44 kili Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p6
@


1.10
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/07/18 17:41:10 kili Exp $
d25 1
a25 1
			http://humppa.nl/distfiles/
@


1.9
log
@move shared_mime_info from BUILD_DEPENDS to RUN_DEPENDS.
found while fiddling with all ports that have @@exec/@@unexec
update-mime-database in their PLISTs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/06/24 22:44:45 sthen Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p5
d21 2
a22 1
		pangoft2-1.0 pixman-1 png pthread stdc++ xml2 z gio-2.0
@


1.8
log
@sync WANTLIB, bump PKGNAMEs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/04/16 08:23:14 ajacoutot Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p4
d28 1
a28 2
BUILD_DEPENDS=		::misc/shared-mime-info \
			::textproc/rarian
d32 2
a33 1
RUN_DEPENDS=		::x11/hicolor-icon-theme
@


1.7
log
@- remove scrollkeeper-update hack and add build_depends on rarian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/06/29 20:44:51 sthen Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p3
d21 1
a21 1
		pangoft2-1.0 pixman-1 png pthread stdc++ xml2 z
@


1.6
log
@sync WANTLIB following cairo update. ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/04/17 08:10:10 ajacoutot Exp $
d28 2
a29 1
BUILD_DEPENDS=		::misc/shared-mime-info
a42 1
	@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update
@


1.5
log
@- tweak the way the gtk-update-icon-cache goo is run

gtk-update-icon-cache is part of gtk+2: adding gtk+2 to run_depends just
to update the icon cache (which only gtk apps can use) is overkill to
say the least!
As from now, each time icons are installed under %D/share/icons, we try
to execute gtk-update-icon-cache and if it is not there, we just ignore
the error.
What it means is that if you have gtk+2 installed, then it'll run fine
and your apps will be able to use the cache. Otherwise, it will silently
fails which is fine since it means none of your apps would have been
able to take advantage of the cache anyway.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/04/11 11:17:39 jasper Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p2
d21 1
a21 1
		pangoft2-1.0 png pthread stdc++ xml2 z
@


1.4
log
@- fix WANTLIB/LIB_DEPENDS after recent openexr update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/11/13 17:10:25 steven Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p1
@


1.3
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/09/15 20:09:40 simon Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p0
d16 3
a18 3
WANTLIB=	X11 Xau Xcursor Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xcomposite Xdamage \
		Xrender atk-1.0 c cairo expat fontconfig freetype gdk-x11-2.0 \
d29 3
a31 3
LIB_DEPENDS=		gnet-2.0::net/gnet \
			Half.>=3,Iex.>=3,IlmImf.>=3,Imath.>=3::graphics/openexr \
			glade-2.0::devel/libglade2
@


1.2
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/05/21 14:24:06 jasper Exp $
d5 1
d15 1
d17 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
COMMENT=		"tool for producing computational artwork"
@


1.1.1.1
log
@import fyre 1.0.1

Fyre is a tool for producing computational artwork based on histograms
of iterated chaotic functions. At the moment, it implements the Peter de
Jong map in a fixed-function pipeline with an interactive GTK+ frontend
and a command line interface for easy and efficient rendering of
high-resolution, high quality images.

help and ok steven@@
@
text
@@
