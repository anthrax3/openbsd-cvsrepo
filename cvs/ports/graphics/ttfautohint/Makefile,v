head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.2
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.3.0.2
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.1.1.1.0.2
	OPENBSD_6_0_BASE:1.1.1.1
	jasper_20160103:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2017.08.31.11.21.13;	author jasper;	state Exp;
branches;
next	1.7;
commitid	f7zGHc5o5z2I3vDT;

1.7
date	2017.07.26.22.45.24;	author sthen;	state Exp;
branches;
next	1.6;
commitid	tD4MFrpYYDDL2UFT;

1.6
date	2017.07.16.19.18.57;	author espie;	state Exp;
branches;
next	1.5;
commitid	tt0GhWK5c4uf9ILG;

1.5
date	2017.05.31.08.08.16;	author espie;	state Exp;
branches;
next	1.4;
commitid	ij92FtFXiSiT1ani;

1.4
date	2017.05.27.04.54.31;	author espie;	state Exp;
branches;
next	1.3;
commitid	oA9cQ9pQa6A0Atbr;

1.3
date	2017.01.09.14.41.35;	author sthen;	state Exp;
branches;
next	1.2;
commitid	Nczg25I7OnvQh0vc;

1.2
date	2016.11.30.18.52.36;	author jasper;	state Exp;
branches;
next	1.1;
commitid	38wy4dtTBQxdq84K;

1.1
date	2016.03.01.10.12.19;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;
commitid	3CZtH0gBSHq1txPS;

1.1.1.1
date	2016.03.01.10.12.19;	author jasper;	state Exp;
branches;
next	;
commitid	3CZtH0gBSHq1txPS;


desc
@@


1.8
log
@update to ttfautohin-1.7
@
text
@# $OpenBSD: Makefile,v 1.7 2017/07/26 22:45:24 sthen Exp $

COMMENT=		automated hinting process based on FreeType's autohinter #'

V =			1.7
DISTNAME =		ttfautohint-${V}
CATEGORIES =		graphics

MAINTAINER =		Jasper Lievisse Adriaanse <jasper@@openbsd.org>

HOMEPAGE =		http://www.freetype.org/ttfautohint/#download

# FreeType License or GPLv2
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =		http://download.savannah.gnu.org/releases/freetype/

MODULES =		devel/gettext

COMPILER =		gcc

WANTLIB += c freetype glib-2.0 graphite2 harfbuzz m pcre pthread
WANTLIB += z ${COMPILER_LIBCXX}

LIB_DEPENDS =		devel/harfbuzz

CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS +=	--without-doc \
			--without-qt

# gnulib problem: autoconf tests run with -std=gnu99, which hides the
# max_align_t definition (like it should), but then some of the code gets
# compiled with -std=gnu++11, which exposes the definition.
#
# https://lists.gnu.org/archive/html/bug-gnulib/2016-04/msg00003.html

CONFIGURE_ENV =		ac_cv_type_max_align_t=yes

.include <bsd.port.mk>
@


1.7
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2017/07/16 19:18:57 espie Exp $
d5 1
a5 2
V =			1.6
REVISION =		1
@


1.6
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2017/05/31 08:08:16 espie Exp $
d6 1
a6 1
REVISION =		0
@


1.5
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2017/05/27 04:54:31 espie Exp $
d24 1
a24 1
WANTLIB += z ${LIBECXX}
@


1.4
log
@WANT_CXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2017/01/09 14:41:35 sthen Exp $
d21 1
a21 1
WANT_CXX =		base gcc
@


1.3
log
@Fix ttfautohint build by forcing autoconf to detect max_align_t. This was
recently added to stddef.h behind a conditional. There is a gnulib problem
when detecting this (here it's because tests run with --std=gnu99 but some
code is built with --std=gnu++11, exposing the definition in the system
headers, and causing a conflict). Figured out by kettenis@@.

This is the only port affected so it makes sense to fix it here rather than
provide a workaround in the system headers. ok jasper@@ (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2016/11/30 18:52:36 jasper Exp $
d19 1
a19 2
MODULES =		devel/gettext \
			gcc4
d21 1
a21 2
MODGCC4_ARCHS =		*
MODGCC4_LANGS =		c c++
d24 1
a24 1
WANTLIB += z
@


1.2
log
@update to ttfautohint-1.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/03/01 10:12:19 jasper Exp $
d6 1
d33 8
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
V =			1.5
d21 3
d25 1
a25 1
WANTLIB += stdc++ z
@


1.1.1.1
log
@import ttfautohint-1.5

ttfautohint provides a 99% automated hinting process and a platform for
finely hand-hinting the last 1%. It is ideal for web fonts and supports
many scripts.

ok aja@@
@
text
@@
