head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2000.09.24.02.13.09;	author brad;	state dead;
branches;
next	1.1;

1.1
date	2000.09.14.13.31.16;	author brad;	state Exp;
branches;
next	;


desc
@@


1.2
log
@revert switch to libtool, use "cc -shared" to create shared libraries
@
text
@--- extras/Makefile.in.orig	Tue Jul 14 21:29:30 1998
+++ extras/Makefile.in	Thu Sep 14 09:06:20 2000
@@@@ -9,29 +9,31 @@@@
 CFLAGS        = $(OPTIMIZE) $(EXTRA_CFLAGS)
 CPPFLAGS      = $(INCLUDE_DIRS) $(DEFINES)
 
+LIBTOOL       = libtool --quiet
+
 # Linker flags
 EXTRA_LDFLAGS = @@EXTRA_LDFLAGS@@
-LDFLAGS       = -L.. -lmpeg $(EXTRA_LDFLAGS)
+LDFLAGS       = $(LIBRARY) $(EXTRA_LDFLAGS)
 
 # Executables to build
 EXTRAS        = @@extras@@
 
 # Library file (need to check that it's up-to-date)
-LIBRARY       = ../libmpeg.a
+LIBRARY       = ../libmpeg.la
 
 # Implicit targets
 .c.o:
-		$(CC) -c $(CFLAGS) $(CPPFLAGS) $< $?
+		$(LIBTOOL) --mode=compile $(CC) -c $(CFLAGS) $(CPPFLAGS) $<
 
 # Explicit targets
 
 all:            $(EXTRAS)
 
 mpegtest:	$(LIBRARY) mpegtest.o ParseArgv.o
-		$(CC) $(CFLAGS) mpegtest.o ParseArgv.o -o $@@ $(LDFLAGS)
+		$(LIBTOOL) --mode=link $(CC) $(CFLAGS) mpegtest.lo ParseArgv.lo -o $@@ $(LDFLAGS)
 
 easympeg:	$(LIBRARY) easympeg.o
-		$(CC) $(CFLAGS) easympeg.o -o $@@ -lgl $(LDFLAGS)
+		$(LIBTOOL) --mode=link $(CC) $(CFLAGS) easympeg.lo -o $@@ -lgl $(LDFLAGS)
 
 $(LIBRARY):
 		(cd .. ; make lib)
@


1.1
log
@switch to libtool for shared library creation
@
text
@@

