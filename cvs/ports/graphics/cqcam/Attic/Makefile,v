head	1.26;
access;
symbols
	OPENBSD_5_9:1.25.0.2
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.25.0.4
	OPENBSD_5_8_BASE:1.25
	OPENBSD_5_7:1.24.0.2
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.23.0.2
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.22.0.2
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.20.0.10
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.20.0.8
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.20
	OPENBSD_5_1:1.20.0.6
	OPENBSD_5_0:1.20.0.4
	OPENBSD_5_0_BASE:1.20
	OPENBSD_4_9:1.20.0.2
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.16.0.2
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.15.0.2
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.14.0.8
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.14.0.6
	OPENBSD_4_5_BASE:1.14
	OPENBSD_4_4:1.14.0.4
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.14.0.2
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.11.0.4
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.9.0.6
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.9.0.4
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.2
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.6.0.8
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.6.0.6
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.4
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.2
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.5.0.4
	OPENBSD_3_2_BASE:1.5
	OPENBSD_3_1:1.5.0.2
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	naddy_20010518:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2016.03.15.23.18.42;	author sthen;	state dead;
branches;
next	1.25;
commitid	oZZybyZzpsgfwusW;

1.25
date	2015.04.09.14.58.28;	author naddy;	state Exp;
branches;
next	1.24;
commitid	8G5V8Kd5TZVNpN2m;

1.24
date	2014.12.12.19.44.45;	author naddy;	state Exp;
branches;
next	1.23;
commitid	aIx6KTrrtMIJu4sG;

1.23
date	2014.07.14.07.36.53;	author armani;	state Exp;
branches;
next	1.22;
commitid	saj3ljWcaAkDJWhz;

1.22
date	2014.01.07.13.44.48;	author sthen;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.11.11.10.51;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.17.08.05.13;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.11.09.09.14.31;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.10.24.21.21.00;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2010.10.18.18.13.13;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2010.03.23.19.42.57;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2009.08.10.06.31.44;	author kili;	state Exp;
branches;
next	1.14;

1.14
date	2008.01.04.17.48.35;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2007.09.15.20.09.40;	author simon;	state Exp;
branches;
next	1.12;

1.12
date	2007.03.18.17.31.52;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2006.08.02.10.10.35;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2006.03.28.15.57.05;	author jcs;	state Exp;
branches;
next	1.9;

1.9
date	2004.12.30.00.43.15;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2004.11.30.01.06.33;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2004.10.03.18.13.00;	author jcs;	state Exp;
branches;
next	1.6;

1.6
date	2002.12.29.20.08.46;	author fgsch;	state Exp;
branches;
next	1.5;

1.5
date	2001.11.02.17.52.59;	author jcs;	state Exp;
branches;
next	1.4;

1.4
date	2001.10.12.15.07.30;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2001.09.09.17.56.59;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.08.28.00.06.29;	author jcs;	state Exp;
branches;
next	1.1;

1.1
date	2001.05.18.11.25.26;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.05.18.11.25.26;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.26
log
@Remove cqcam, it's software for ancient parallel-port QuickCam webcams, is
i386-only, setuid-root and uses iopl. "As the author of the port 14 years
ago, I'm fine with it being deleted" jcs@@
@
text
@# $OpenBSD: Makefile,v 1.25 2015/04/09 14:58:28 naddy Exp $

ONLY_FOR_ARCHS= i386

COMMENT=	color QuickCam control program

DISTNAME=	cqcam-0.91
REVISION=	7
CATEGORIES=	graphics

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	c m stdc++ jpeg>=62

HOMEPAGE=	http://piki.org/patrick/cqcam/
MASTER_SITES=	${HOMEPAGE}

LIB_DEPENDS=	graphics/jpeg

CONFIGURE_STYLE= gnu dest
# asm uses %ebx, conflict with PIE
CONFIGURE_ARGS= --disable-asm \
		--enable-jpeg \
		--without-xview

CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
MAKE_FLAGS=	CLIENTS="cli webcam"

NO_TEST=	Yes

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/cqcam
	${INSTALL_DATA} ${WRKSRC}/docs/README.webcam \
		${PREFIX}/share/doc/cqcam/README.webcam
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/cqcam
	${INSTALL_DATA} ${WRKSRC}/.cqcrc \
		${PREFIX}/share/examples/cqcam/dot.cqcrc
	${INSTALL_DATA} ${WRKSRC}/webcam/nph-webcam \
		${PREFIX}/share/examples/cqcam/nph-webcam

.include <bsd.port.mk>
@


1.25
log
@do NOT prefer man page hard link over .so; misunderstanding with schwarze@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/12/12 19:44:45 naddy Exp $
@


1.24
log
@Prefer man page hard link over .so link.
Regen PLIST.
Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/07/14 07:36:53 armani Exp $
d8 1
a8 1
REVISION=	6
a41 1
	ln -f ${PREFIX}/man/man1/cqcam.1 ${PREFIX}/man/man1/webcam.1
@


1.23
log
@Fix homepage

ok zhuk@@ kirby@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/01/07 13:44:48 sthen Exp $
d8 1
a8 1
REVISION=	5
a18 1
USE_GROFF =	Yes
d42 1
@


1.22
log
@disable asm support on this i386-only port; uses %ebx which conflicts with PIE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/11 11:10:51 espie Exp $
d8 1
a8 1
REVISION=	4
d16 1
a16 1
HOMEPAGE=	http://www.cs.duke.edu/~reynolds/cqcam/
@


1.21
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/17 08:05:13 espie Exp $
d8 1
a8 1
REVISION =	3
d13 2
a14 1
WANTLIB=		c m stdc++ jpeg>=62
d23 3
a25 2
CONFIGURE_ARGS= --enable-jpeg \
		--enable-asm \
@


1.20
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/11/09 09:14:31 espie Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d30 1
a30 1
NO_REGRESS=	Yes
@


1.19
log
@more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/10/24 21:21:00 ajacoutot Exp $
d16 1
a16 1
WANTLIB=		c m stdc++ jpeg.>=62
d22 1
a22 1
LIB_DEPENDS=	::graphics/jpeg
@


1.18
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/10/18 18:13:13 espie Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p3
d16 1
a16 1
WANTLIB=		c m stdc++
d22 1
a22 1
LIB_DEPENDS=	jpeg.>=62::graphics/jpeg
@


1.17
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/03/23 19:42:57 jasper Exp $
a20 1
USE_X11=	Yes
@


1.16
log
@- make no_x11 flavor the default, dropping gtk+1 in the process
- re-order Makefile a bit
- regen patches

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/08/10 06:31:44 kili Exp $
d22 1
@


1.15
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.14 2008/01/04 17:48:35 espie Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p2
d11 1
a17 1
COMMENT=	color QuickCam control program
a20 2
ONLY_FOR_ARCHS=	i386

d25 3
a27 6
CONFIGURE_ARGS=	--enable-jpeg --enable-asm

NO_REGRESS=	Yes

FLAVORS=	no_x11
FLAVOR?=	
a28 1
.if ${FLAVOR:L:Mno_x11}
d32 2
a33 11
.else
WANTLIB+=	X11 Xext Xi glib gmodule iconv intl pthread-stubs xcb
USE_X11=	Yes
LIB_DEPENDS+=	gtk.>=1,gdk.>=1::x11/gtk+
LIB_DEPENDS+=	xview,olgx::x11/xview/lib
#BUILD_DEPENDS=	wish8.3::x11/tk/8.3
CONFIGURE_ARGS+= --with-gtk-prefix=${LOCALBASE} 
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" # -L${LOCALBASE}/lib/tcl8.3"
MAKE_FLAGS=	CLIENTS="cli gtkfe webcam xfe"
.endif
@


1.14
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/09/15 20:09:40 simon Exp $
d4 1
a4 1
PKGNAME=	${DISTNAME}p1
d35 1
a35 1
WANTLIB+=	X11 Xext Xi glib gmodule iconv intl
@


1.13
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/03/18 17:31:52 espie Exp $
d33 1
a33 2
MAKE_FLAGS=	${FAKE_FLAGS}
FAKE_FLAGS=	CLIENTS="cli webcam"
d43 1
a43 4
#MAKE_FLAGS=	CPPFLAGS="-I${LOCALBASE}/include/tcl8.3 \
#		-I${LOCALBASE}/include/tk8.3" \
MAKE_FLAGS=	${FAKE_FLAGS}
FAKE_FLAGS=	CLIENTS="cli gtkfe webcam xfe"
@


1.12
log
@mark needed binary as setuid root, no way around it since they use
i386_iopl.

The client/server privsep of cqcam seems adequate, though I wouldn't
vouch there is no hole lurking in there...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/08/02 10:10:35 espie Exp $
d13 1
a13 1
COMMENT=	"color QuickCam control program"
@


1.11
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/03/28 15:57:05 jcs Exp $
d4 1
a4 1
PKGNAME=	${DISTNAME}p0
@


1.10
log
@remove bad master_sites
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/12/30 00:43:15 espie Exp $
d20 1
a20 1
LIB_DEPENDS=	jpeg.62::graphics/jpeg
d38 1
a38 1
LIB_DEPENDS+=	gtk.1,gdk.1::x11/gtk+
@


1.9
log
@conflict
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/11/30 01:06:33 espie Exp $
d15 1
a15 2
MASTER_SITES=	${HOMEPAGE} \
		ftp://rt.fm/pub/cqcam/
@


1.8
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/10/03 18:13:00 jcs Exp $
d4 1
@


1.7
log
@drop maintainership on things i don't use anymore
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/12/29 20:08:46 fgsch Exp $
d10 1
d36 1
@


1.6
log
@guess what? more NEED_VERSION rm.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/11/02 17:52:59 jcs Exp $
a14 2

MAINTAINER=	Joshua Stein <jcs@@rt.fm>
@


1.5
log
@NO_REGRESS=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/09/09 17:56:59 naddy Exp $
a4 1
NEED_VERSION=	1.474
@


1.4
log
@cqcam prefers xview to tk... make build reproducible by changing the
dependencies.

Ideally, this would warrant a new flavor, but it's so late in the
release I just care about fixing the build.
@
text
@d27 2
@


1.3
log
@remove leading "a" and "an" from COMMENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/08/28 00:06:29 jcs Exp $
d5 1
a5 1
NEED_VERSION=	1.447
d37 3
a39 2
LIB_DEPENDS+=	gtk.1::x11/gtk+
BUILD_DEPENDS=	wish8.3::x11/tk/8.3
d42 4
a45 4
		LDFLAGS="-L${LOCALBASE}/lib -L${LOCALBASE}/lib/tcl8.3"
MAKE_FLAGS=	CPPFLAGS="-I${LOCALBASE}/include/tcl8.3 \
		-I${LOCALBASE}/include/tk8.3" \
		${FAKE_FLAGS}
@


1.2
log
@Update to cqcam 0.91
Add RCS tags to patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/05/18 11:25:26 naddy Exp $
d12 1
a12 1
COMMENT=	"a color QuickCam control program"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 2
# $OpenBSD$
# vim:ts=8
d3 1
a3 1
DISTNAME=	cqcam-0.90pre11
d5 1
a5 1
NEED_VERSION=	1.405
a15 1
EXTRACT_SUFX=	.tgz
@


1.1.1.1
log
@Import of cqcam-0.90pre11.
Submitted by Joshua Stein <jcs@@rt.fm>.

A color QuickCam control program that supports the color QuickCam
and Color QuickCam 2.
@
text
@@
