head	1.25;
access;
symbols
	OPENBSD_6_2:1.24.0.2
	OPENBSD_6_2_BASE:1.24
	OPENBSD_6_1:1.23.0.4
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.23.0.2
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.22.0.2
	OPENBSD_5_9_BASE:1.22
	OPENBSD_5_8:1.19.0.4
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.18.0.8
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.18.0.6
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.18.0.4
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.18.0.2
	OPENBSD_5_4_BASE:1.18
	OPENBSD_5_3:1.16.0.4
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.16.0.2
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.2
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	jsg_20100322:1.1.1.1
	jsg:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2017.10.05.14.51.45;	author jsg;	state Exp;
branches;
next	1.24;
commitid	5pF04hecJbtCESeu;

1.24
date	2017.06.17.11.36.16;	author schwarze;	state Exp;
branches;
next	1.23;
commitid	Kog8wo20EsVHuD5P;

1.23
date	2016.05.06.21.39.03;	author sthen;	state Exp;
branches;
next	1.22;
commitid	SQKkVAkQS2xPvJnu;

1.22
date	2015.11.29.10.45.22;	author sthen;	state Exp;
branches
	1.22.2.1;
next	1.21;
commitid	l5iI7PIfKGwRMqud;

1.21
date	2015.11.06.20.37.34;	author sthen;	state Exp;
branches;
next	1.20;
commitid	PjPpZyw8X2OGSgMF;

1.20
date	2015.08.21.19.17.11;	author sthen;	state Exp;
branches;
next	1.19;
commitid	8EJcWdVX4S7jN0H9;

1.19
date	2015.03.20.22.47.41;	author naddy;	state Exp;
branches;
next	1.18;
commitid	QOpUQJ8BomkHfmKe;

1.18
date	2013.03.21.08.45.19;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.11.11.10.56;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2012.06.19.12.57.57;	author okan;	state Exp;
branches;
next	1.15;

1.15
date	2011.11.06.18.57.58;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2011.11.02.09.57.23;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2011.10.16.20.48.43;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.16.10.02.38;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2011.07.06.22.44.02;	author kili;	state Exp;
branches;
next	1.10;

1.10
date	2011.06.08.17.35.28;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.17.08.05.16;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.09.19.00.28;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.24.21.21.02;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.10.18.18.13.15;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.10.11.08.14.43;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2010.09.30.07.21.19;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2010.08.30.21.24.15;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.04.16.10.17.32;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2010.03.22.21.57.58;	author jsg;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.03.22.21.57.58;	author jsg;	state Exp;
branches;
next	;

1.22.2.1
date	2016.05.06.21.35.59;	author sthen;	state Exp;
branches;
next	;
commitid	vDjdgur9VOwg5QQm;


desc
@@


1.25
log
@Add a patch from debian to prevent a segfault on importing the python
module reported by Jiri B.

ok sthen@@
@
text
@#	$OpenBSD: Makefile,v 1.24 2017/06/17 11:36:16 schwarze Exp $

COMMENT=	ZBar barcode reader
DISTNAME=	zbar-0.10
REVISION=	17

SHARED_LIBS=	zbar	0.0 \
		zbargtk	0.0

CATEGORIES=	graphics
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=zbar/}
EXTRACT_SUFX=	.tar.bz2

HOMEPAGE=	http://zbar.sourceforge.net/

MAINTAINER=	Jonathan Gray <jsg@@openbsd.org>

# LGPL 2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE MagickCore-6.Q16 MagickWand-6.Q16 SM X11 Xcomposite
WANTLIB += Xcursor Xdamage Xext Xfixes Xi Xinerama Xrandr Xrender
WANTLIB += Xt Xv atk-1.0 bz2 c cairo djvulibre expat ffi fftw3
WANTLIB += fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 graphite2 gthread-2.0
WANTLIB += gtk-x11-2.0 harfbuzz jbig jpeg lcms2 lzma m openjp2
WANTLIB += pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs tiff webp xcb xcb-render
WANTLIB += xcb-shm xml2 z

MODULES=	devel/gettext \
		lang/python

LIB_DEPENDS=	graphics/ImageMagick \
		devel/libffi \
		x11/gtk+2

BUILD_DEPENDS=	${RUN_DEPENDS}
RUN_DEPENDS=	x11/py-gtk2

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--disable-video --without-qt
USE_GMAKE=		Yes

.include <bsd.port.mk>
@


1.24
log
@identical formatting, drop USE_GROFF and bump
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.23 2016/05/06 21:39:03 sthen Exp $
d5 1
a5 1
REVISION=	16
@


1.23
log
@make sure -current pkgname/revision are higher than stable
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.22 2015/11/29 10:45:22 sthen Exp $
d5 1
a5 1
REVISION=	15
a39 2

USE_GROFF =	Yes
@


1.22
log
@sync WANTLIB; ImageMagick changes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.21 2015/11/06 20:37:34 sthen Exp $
d5 1
a5 1
REVISION=	14
@


1.22.2.1
log
@bump users of MagickWand-6.Q16 and Magick++-6.Q16 in -stable due to
shlib major bump in ImageMagick update; thanks jasper for the list
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.22 2015/11/29 10:45:22 sthen Exp $
d5 1
a5 1
REVISION=	15
@


1.21
log
@fix following ImageMagick update
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.20 2015/08/21 19:17:11 sthen Exp $
d5 1
a5 1
REVISION=	13
d23 7
a29 6
WANTLIB += Xt Xv atk-1.0 bz2 c cairo expat ffi fftw3 fontconfig
WANTLIB += freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gthread-2.0 gtk-x11-2.0
WANTLIB += harfbuzz lcms2 ltdl lzma m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += xcb xcb-render xcb-shm z
@


1.20
log
@sync WANTLIB
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.19 2015/03/20 22:47:41 naddy Exp $
d5 1
a5 1
REVISION=	12
d21 9
a31 11

WANTLIB += ICE MagickCore MagickWand SM X11 Xcomposite
WANTLIB += Xcursor Xdamage Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender Xv atk-1.0 bz2 c cairo djvulibre
WANTLIB += expat ffi fftw3 fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += gtk-x11-2.0 jasper jbig jpeg ltdl lzma m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs tiff xcb xcb-render xcb-shm z
WANTLIB += Xt xml2 graphite2 harfbuzz webp
WANTLIB += lcms2 wmf-0.2 wmflite-0.2
@


1.19
log
@fold PFRAG.shared into PLIST for SHARED_ONLY ports
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.18 2013/03/21 08:45:19 ajacoutot Exp $
d5 1
a5 1
REVISION=	11
d24 3
a26 3
WANTLIB += GL ICE MagickCore MagickWand SM X11 Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender Xv Xxf86vm atk-1.0 bz2 c cairo djvulibre drm
d32 1
a32 1
WANTLIB += Xt stdc++ xml2
@


1.18
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.17 2013/03/11 11:10:56 espie Exp $
d5 1
a5 1
REVISION=	10
@


1.17
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.16 2012/06/19 12:57:57 okan Exp $
a45 1
USE_LIBTOOL=		Yes
@


1.16
log
@WANTLIB sync after ImageMagick update; ok sthen
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.15 2011/11/06 18:57:58 jasper Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.15
log
@remove libs from libwmf from wantlib. they are added when the installed imagemagick
is !,no_x11. So instead of enforcing the non-non_x11 flavor, fix wantlib.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.14 2011/11/02 09:57:23 jasper Exp $
d5 1
a5 1
REVISION=	9
d32 1
a32 1
WANTLIB += gtk-x11-2.0 jasper jbig jpeg lcms ltdl lzma m pango-1.0
d36 1
@


1.14
log
@- regen WANTLIB
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.13 2011/10/16 20:48:43 jasper Exp $
d5 1
a5 1
REVISION=	8
d35 1
a35 1
WANTLIB += Xt stdc++ wmf-0.2 wmflite-0.2 xml2
@


1.13
log
@regen WANTLIB to unbreak
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.12 2011/09/16 10:02:38 espie Exp $
d5 1
a5 1
REVISION=	7
d35 1
@


1.12
log
@normalize pkgpath
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.11 2011/07/06 22:44:02 kili Exp $
d5 1
a5 1
REVISION=	6
d27 8
a34 8
WANTLIB += ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
WANTLIB += Xfixes Xi Xinerama Xrandr Xrender Xt atk-1.0 bz2 c
WANTLIB += cairo expat fontconfig freetype gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 gthread-2.0 jasper jbig jpeg
WANTLIB += lcms m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png pthread pthread-stubs tiff wmflite
WANTLIB += xcb xml2 z gdk_pixbuf-2.0 MagickCore>=1 MagickWand>=1
WANTLIB += ffi gdk-x11-2.0>=0.11 gtk-x11-2.0>=0.11
@


1.11
log
@Fix after ImageMagick update. From shadchin@@ (several months ago).
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.10 2011/06/08 17:35:28 jasper Exp $
d5 1
a5 1
REVISION=	5
@


1.10
log
@bump after default python version switch
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.9 2010/11/17 08:05:16 espie Exp $
d5 1
a5 1
REVISION=	4
@


1.9
log
@new depends
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.8 2010/11/09 19:00:28 espie Exp $
d5 1
a5 1
REVISION=	3
@


1.8
log
@WANTLIB conversion
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.7 2010/10/24 21:21:02 ajacoutot Exp $
d33 2
a34 2
WANTLIB += xcb xml2 z gdk_pixbuf-2.0 MagickCore.>=1 MagickWand.>=1
WANTLIB += ffi gdk-x11-2.0.>=0.11 gtk-x11-2.0.>=0.11
d36 3
a38 3
LIB_DEPENDS=	::graphics/ImageMagick \
		::devel/libffi \
		::x11/gtk+2
d41 1
a41 1
RUN_DEPENDS=	::x11/py-gtk2
@


1.7
log
@Remove USE_X11.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.6 2010/10/18 18:13:15 espie Exp $
d33 2
a34 1
WANTLIB += xcb xml2 z gdk_pixbuf-2.0
d36 3
a38 3
LIB_DEPENDS=	MagickCore.>=1,MagickWand.>=1::graphics/ImageMagick \
		ffi::devel/libffi \
		gdk-x11-2.0.>=0.11,gtk-x11-2.0.>=0.11::x11/gtk+2
@


1.6
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.5 2010/10/11 08:14:43 jasper Exp $
a41 1
USE_X11=	Yes
@


1.5
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.4 2010/09/30 07:21:19 ajacoutot Exp $
d43 1
@


1.4
log
@Fix DEPENDS after gtk+2 and gdk-pixbuf split.

ok jasper@@
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.3 2010/08/30 21:24:15 jasper Exp $
d5 1
a5 1
REVISION=	2
d29 1
a29 1
WANTLIB += cairo expat fontconfig freetype gio-2.0 glib-2.0 glitz
@


1.3
log
@- bump for pythonia
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.2 2010/04/16 10:17:32 jasper Exp $
d5 1
a5 1
REVISION=	1
d33 1
a33 1
WANTLIB += xcb xml2 z
d37 1
a37 1
		gdk-x11-2.0.>=0.11,gdk_pixbuf-2.0.>=0.11,gtk-x11-2.0.>=0.11::x11/gtk+2
@


1.2
log
@- add a missing build/run dependency
- add gettext to modules
- set USE_X11
- sync LIB_DEPENDS/WANTLIB

ok jsg@@ (MAINTAINER)
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1.1.1 2010/03/22 21:57:58 jsg Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
#	$OpenBSD$
d5 1
d24 2
a25 1
MODULES=	lang/python
d27 7
a33 6
WANTLIB=	ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
		Xi Xinerama Xrandr Xrender Xt atk-1.0 bz2 c cairo expat \
		fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0 \
		gobject-2.0 gthread-2.0 iconv intl jasper jbig lcms m \
		pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 \
		png pthread pthread-stubs tiff wmflite xcb xml2 z
a35 1
		jpeg.>=63::graphics/jpeg \
d38 5
@


1.1.1.1
log
@Import of zbar-0.10
ZBar is an open source software suite for reading bar codes from
various sources, such as video streams, image files and raw
intensity sensors. It supports many popular symbologies
(types of bar codes) including EAN-13/UPC-A, UPC-E, EAN-8, Code 128,
Code 39, Interleaved 2 of 5 and QR Code.

ok kili@@
@
text
@@
