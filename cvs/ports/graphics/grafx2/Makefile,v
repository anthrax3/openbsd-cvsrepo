head	1.2;
access;
symbols
	fcambus_20160904:1.1.1.1 fcambus:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2017.03.24.15.26.11;	author fcambus;	state Exp;
branches;
next	1.1;
commitid	tj5E78ZeriqYo9yn;

1.1
date	2016.09.04.20.13.44;	author fcambus;	state Exp;
branches
	1.1.1.1;
next	;
commitid	kumvIHIt8iTXtpi8;

1.1.1.1
date	2016.09.04.20.13.44;	author fcambus;	state Exp;
branches;
next	;
commitid	kumvIHIt8iTXtpi8;


desc
@@


1.2
log
@Pass CC via MAKE_FLAGS in order to avoid patching upstream Makefile in
the pre-configure target.
@
text
@# $OpenBSD: Makefile,v 1.1.1.1 2016/09/04 20:13:44 fcambus Exp $

COMMENT =	bitmap paint program inspired by Deluxe Paint and Brilliance

V =		2.4
DISTNAME =	grafx2-${V}.2035-src
PKGNAME =	grafx2-${V}
EXTRACT_SUFX =	.tgz

CATEGORIES =	graphics

HOMEPAGE =	http://pulkomandy.tk/projects/GrafX2

MAINTAINER =	Frederic Cambus <fcambus@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB +=	SDL SDL_image c m png pthread

MASTER_SITES =	http://pulkomandy.tk/projects/GrafX2/downloads/

RUN_DEPENDS =	devel/desktop-file-utils

LIB_DEPENDS =	devel/sdl \
		devel/sdl-image

WRKDIST =	${WRKDIR}/grafx2/src

USE_GMAKE =	Yes

MAKE_FLAGS =	CC="${CC}" NOLUA=1 NOTTF=1

NO_TEST =	Yes

pre-configure:
	@@sed -i 's|Extract_path(program_dir, argv0);|strcpy(program_dir,"${PREFIX}/bin/");|' \
	${WRKSRC}/setup.c

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/pixmaps
	mv ${PREFIX}/share/icons/grafx2.xpm ${PREFIX}/share/pixmaps/
	${INSTALL_DATA_DIR} ${PREFIX}/share/grafx2/icons
	mv ${PREFIX}/share/icons/grafx2.svg ${PREFIX}/share/grafx2/icons/
	rmdir ${PREFIX}/share/icons
	rm -rf ${PREFIX}/share/grafx2/scripts
	rm ${PREFIX}/share/grafx2/fonts/Tuffy.ttf

.include <bsd.port.mk>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.75 2016/03/20 17:19:49 naddy Exp $
d32 1
a32 1
MAKE_FLAGS =	NOLUA=1 NOTTF=1
a36 1
	@@sed -i 's|CC = gcc|CC ?= gcc|' ${WRKSRC}/Makefile
@


1.1.1.1
log
@Import graphics/grafx2

GrafX2 is a bitmap paint program inspired by the Amiga programs Deluxe
Paint and Brilliance. Specialized in 256-color drawing, it includes a
very large number of tools and effects that make it particularly
suitable for pixel art, game graphics, and generally any detailed
graphics painted with a mouse.

OK giovanni@@

@
text
@@
