head	1.15;
access;
symbols
	OPENBSD_6_1:1.13.0.2
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.12.0.2
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.10.0.2
	OPENBSD_5_9_BASE:1.10
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.4.0.6
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	ajacoutot_20130310:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2017.04.25.08.12.16;	author ajacoutot;	state Exp;
branches;
next	1.14;
commitid	leHbWZMK2ZE6f7EB;

1.14
date	2017.04.10.11.46.21;	author sthen;	state Exp;
branches;
next	1.13;
commitid	BLsh88fJB8thZTwY;

1.13
date	2016.11.12.08.32.48;	author ajacoutot;	state Exp;
branches
	1.13.2.1;
next	1.12;
commitid	RyJf4gTD3x5vDkpz;

1.12
date	2016.04.01.05.48.24;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	B83OA2rdcCUf7zjR;

1.11
date	2016.03.16.08.13.21;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	wfjPBXi10L6zYLdb;

1.10
date	2016.01.20.06.38.28;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	m52c7nNeqQpS7uEH;

1.9
date	2015.09.24.12.43.31;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	SxyKvq5vYttv3p0C;

1.8
date	2015.09.11.07.05.37;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	lebDLSHNYLHebzWm;

1.7
date	2015.09.01.06.32.03;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	tUImbArF6UDQso3x;

1.6
date	2015.08.14.07.02.47;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	RKUkBqIpow9nW4iP;

1.5
date	2015.05.22.11.31.15;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	2khjHXfpTaOuNVcx;

1.4
date	2013.12.05.07.51.05;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2013.08.10.18.36.30;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2013.03.11.11.10.53;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2013.03.10.09.05.48;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.03.10.09.05.48;	author ajacoutot;	state Exp;
branches;
next	;

1.13.2.1
date	2017.04.25.08.13.35;	author ajacoutot;	state Exp;
branches;
next	;
commitid	ChqX49QdNveoppIX;


desc
@@


1.15
log
@SECURITY fix for CVE-2017-5436.

prodded by naddy@@
@
text
@# $OpenBSD: Makefile,v 1.14 2017/04/10 11:46:21 sthen Exp $

COMMENT=	rendering for complex writing systems

DISTNAME=	graphite2-1.3.9
EXTRACT_SUFX=	.tgz
REVISION=	0

SHARED_LIBS=	graphite2 1.2 # 3.0.1

CATEGORIES=	graphics

HOMEPAGE=	http://scripts.sil.org/cms/scripts/page.php?site_id=projects&item_id=graphite_home

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c m ${LIBCXX}

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=silgraphite/}

MODULES=	devel/cmake \
		lang/python

MODPY_BUILDDEP=	No
MODPY_RUNDEP=	No

TEST_DEPENDS=${MODPY_RUN_DEPENDS}

# XXX push upstream: collides with swap32(3)
pre-configure:
	sed -i 's,swap32,gr_swap32,g' ${WRKSRC}/tests/comparerenderer/FeatureParser.h

# regress tests need python
pre-test:
	ln -sf ${MODPY_BIN} ${WRKDIR}/bin/python

.include <bsd.port.mk>
@


1.14
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2016/11/12 08:32:48 ajacoutot Exp $
d7 1
@


1.13
log
@Update to graphite2-1.3.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2016/04/01 05:48:24 ajacoutot Exp $
d19 1
a19 1
WANTLIB += c m stdc++
@


1.13.2.1
log
@Merge a couple of patches from upstream to fix CVE-2017-5436.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2016/11/12 08:32:48 ajacoutot Exp $
a6 1
REVISION=	0
@


1.12
log
@Update to graphite2-1.3.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2016/03/16 08:13:21 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	graphite2-1.3.8
d8 1
a8 1
SHARED_LIBS=	graphite2 1.1 # 3.0.1
@


1.11
log
@Update to graphite2-1.3.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2016/01/20 06:38:28 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	graphite2-1.3.7
@


1.10
log
@SECURITY update to graphite2-1.3.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/09/24 12:43:31 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	graphite2-1.3.5
d8 1
a8 1
SHARED_LIBS=	graphite2 1.0 # 3.0.1
@


1.9
log
@Minor update graphite2-1.3.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/09/11 07:05:37 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	graphite2-1.3.3
@


1.8
log
@Update to graphite2-1.3.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/09/01 06:32:03 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	graphite2-1.3.2
@


1.7
log
@Update to graphite2-1.3.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/08/14 07:02:47 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	graphite2-1.3.1
@


1.6
log
@Update to graphite2-1.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/05/22 11:31:15 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	graphite2-1.3.0
@


1.5
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/12/05 07:51:05 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	graphite2-1.2.4
a6 1
REVISION=	0
d8 1
a8 1
SHARED_LIBS=	graphite2 0.0 # 3.0.1
d30 4
@


1.4
log
@Update to graphite2-1.2.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/08/10 18:36:30 ajacoutot Exp $
d7 1
@


1.3
log
@Update to graphite2-1.2.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/03/11 11:10:53 espie Exp $
d5 1
a5 1
DISTNAME=	graphite2-1.2.3
@


1.2
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/03/10 09:05:48 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	graphite2-1.2.1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d29 1
a29 1
REGRESS_DEPENDS=${MODPY_RUN_DEPENDS}
d32 1
a32 1
pre-regress:
@


1.1.1.1
log
@Import graphite2-1.2.1.

Graphite is a package that can be used to create "smart fonts" capable
of displaying writing systems with various complex behaviors. A smart
font contains not only letter shapes but also additional instructions
indicating how to combine and position the letters in complex ways.
<...>

ok landry@@
@
text
@@
