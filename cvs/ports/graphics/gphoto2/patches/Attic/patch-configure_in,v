head	1.3;
access;
symbols
	OPENBSD_4_2:1.2.0.10
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.8
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.6
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.4
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.1.0.6
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.4
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.2
	OPENBSD_3_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2007.10.19.13.00.18;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2005.05.16.17.45.58;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2004.01.16.01.12.32;	author brad;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- update to gphoto-2.4.0 (following libgphoto2 update)
- enable localizations
- USE_LIBTOOL
- espie@@ as sole maintainer

ok sthen@@ landry@@ jasper@@, "go ahead" espie@@
@
text
@$OpenBSD: patch-configure_in,v 1.2 2005/05/16 17:45:58 robert Exp $
--- configure.in.orig	Wed Dec 15 23:08:31 2004
+++ configure.in	Mon May 16 18:15:07 2005
@@@@ -333,26 +333,41 @@@@ AC_ARG_WITH(readline, [  --without-readl
 )
 if $try_readline; then
         AC_CHECK_HEADER(readline/readline.h, [
+            LIBS_save="$LIBS"
+            LDFLAGS_save="$LDFLAGS"
+            LIBS=""
+            LDFLAGS=""
             AC_CHECK_LIB(readline, rl_completion_append_character, [
-                AC_CHECK_LIB(readline, rl_completion_matches, [
+                LIBS_save="$LIBS"
+                LDFLAGS_save="$LDFLAGS"
+                LIBS=""
+                LDFLAGS=""
+                AC_CHECK_LIB(readline, completion_matches, [
                     have_readline=true
                     rl_msg="yes (doesn't require explicit -lncurses)"
                     RL_LIBS="-lreadline"
                     RL_CFLAGS=""
                     AC_DEFINE(HAVE_RL,1,[whether we use readline])
                 ], [rl_msg="no (available version too old)"])
+                LIBS="$LIBS_save"
+                LDFLAGS="$LDFLAGS_save"
             ], [
+                LIBS_save="$LIBS"
                 LDFLAGS_save="$LDFLAGS"
+                LIBS=""
                 LDFLAGS="-lncurses"
-                AC_CHECK_LIB(readline, rl_completion_matches, [
+                AC_CHECK_LIB(readline, completion_matches, [
                     have_readline=true
                     rl_msg="yes (requires explicit -lncurses)"
                     RL_LIBS="-lreadline -lncurses"
                     RL_CFLAGS=""
                     AC_DEFINE(HAVE_RL,1,[whether we use readline])
                 ], [rl_msg="no (couldn't link against it or version too old)"])
+                LIBS="$LIBS_save"
                 LDFLAGS="$LDFLAGS_save"
             ])
+            LIBS="$LIBS_save"
+            LDFLAGS="$LDFLAGS_save"
         ])
 fi
 AM_CONDITIONAL(HAVE_RL, $have_readline)
@


1.2
log
@upgrade to version 2.1.5;
from steven mestdagh <steven.mestdagh@@esat.kuleuven.ac.be>
regen the patches while I am here

ok alek@@ espie@@
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.1 2004/01/16 01:12:32 brad Exp $
@


1.1
log
@upgrade gphoto2 to 2.1.3

I also fixed the readline support to work with the version of libreadline
OpenBSD has in-tree.

no response from MAINTAINERs
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.in.orig	2003-10-19 13:10:01.000000000 -0400
+++ configure.in	2003-12-29 00:20:36.000000000 -0500
@@@@ -320,26 +320,41 @@@@ AC_ARG_WITH(readline, [  --without-readl
@

