head	1.6;
access;
symbols
	OPENBSD_6_0:1.6.0.6
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.8
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.6
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.4
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.12
	OPENBSD_5_0:1.1.1.1.0.10
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.8
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.6
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.4
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.2
	OPENBSD_4_6_BASE:1.1.1.1
	eric_2009_Mar_20:1.1.1.1
	eric:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2015.03.16.18.07.46;	author naddy;	state Exp;
branches;
next	1.5;
commitid	IJdm3Zowcdkcxp5X;

1.5
date	2013.03.11.11.10.52;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2012.10.15.15.18.32;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2012.03.17.20.54.25;	author pascal;	state Exp;
branches;
next	1.2;

1.2
date	2012.02.27.10.16.26;	author pascal;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.20.13.53.04;	author eric;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.03.20.13.53.04;	author eric;	state Exp;
branches;
next	;


desc
@@


1.6
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@# $OpenBSD: Makefile,v 1.5 2013/03/11 11:10:52 espie Exp $

COMMENT=		c++ library for common image format

DISTNAME=		FreeImage3152
PKGNAME=		freeimage-3.15.2
REVISION=		1
CATEGORIES=		graphics

SHARED_LIBS+=		freeimage	2.0

HOMEPAGE=		http://freeimage.sourceforge.net/

MAINTAINER=		Eric Faurot <eric@@openbsd.org>

# GPL / "FreeImage Public Nons^WLicense"
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		stdc++

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=freeimage/}
EXTRACT_SUFX=		.zip

WRKDIST=		${WRKDIR}/FreeImage

USE_GMAKE=		Yes

MAKE_ENV=		LIBfreeimage_VERSION=${LIBfreeimage_VERSION} \
			CC="${CC}" CXX="${CXX}" CFLAGS="${CFLAGS}" \
			CXXFLAGS="${CXXFLAGS}"
MAKE_TARGET=		Makefile.gnu

post-extract:
	perl -pi -e 's/\015//g' ${WRKSRC}/Makefile.gnu

do-test:
	cd ${WRKSRC}/TestAPI && ${MAKE_PROGRAM}

.include <bsd.port.mk>
@


1.5
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/10/15 15:18:32 sthen Exp $
d7 1
a7 1
REVISION=		0
@


1.4
log
@zap trailing whitespace in files where it's present on PERMIT_* lines
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/03/17 20:54:25 pascal Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d36 1
a36 1
do-regress:
@


1.3
log
@Fix linking to libfreeimage on non-amd64 archs.

tested on powerpc and ok mpi@@, ok eric@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/02/27 10:16:26 pascal Exp $
d18 1
a18 1
PERMIT_PACKAGE_FTP=	Yes 
d20 1
a20 1
PERMIT_DISTFILES_FTP=	Yes 
@


1.2
log
@Update freeimage to 3.15.2, including many SECURITY fixes to the included image
libraries.  Also respect CC, CXX, CFLAGS and CXXFLAGS, get rid of ^M line
endings in the patch and fix "make regress".

ok eric@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/03/20 13:53:04 eric Exp $
d7 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/04/20 17:50:05 steven Exp $
d5 2
a6 2
DISTNAME=		FreeImage3110
PKGNAME=		freeimage-3.11.0
d9 1
a9 1
SHARED_LIBS+=		freeimage	1.0
d30 3
a32 1
MAKE_ENV=		LIBfreeimage_VERSION=${LIBfreeimage_VERSION}
d35 5
@


1.1.1.1
log
@FreeImage is an Open Source library project for developers who would
like to support popular graphics image formats like PNG, BMP, JPEG,
TIFF and others as needed by today's multimedia applications.
FreeImage is easy to use, fast, multithreading safe, compatible with
all 32-bit versions of Windows, and cross-platform (works both with
Linux and Mac OS X).

ok laurent@@
@
text
@@
