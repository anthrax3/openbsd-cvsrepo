head	1.16;
access;
symbols
	OPENBSD_6_2:1.16.0.6
	OPENBSD_6_2_BASE:1.16
	OPENBSD_6_1:1.16.0.4
	OPENBSD_6_1_BASE:1.16
	OPENBSD_6_0:1.16.0.2
	OPENBSD_6_0_BASE:1.16
	OPENBSD_5_9:1.15.0.2
	OPENBSD_5_9_BASE:1.15
	OPENBSD_5_8:1.14.0.4
	OPENBSD_5_8_BASE:1.14
	OPENBSD_5_7:1.12.0.2
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.9.0.6
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.9.0.4
	OPENBSD_5_5_BASE:1.9
	OPENBSD_5_4:1.9.0.2
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	ajacoutot_20120804:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.16
date	2016.03.11.20.28.26;	author naddy;	state Exp;
branches;
next	1.15;
commitid	UYLP8TE6V7RS2GhJ;

1.15
date	2015.10.08.12.02.03;	author jasper;	state Exp;
branches;
next	1.14;
commitid	Fd81pQbB9Yvd8TB7;

1.14
date	2015.05.05.17.00.17;	author sthen;	state Exp;
branches;
next	1.13;
commitid	ukCYGVBlglFzny8e;

1.13
date	2015.04.04.09.21.01;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	kS3kwKZogsvzYmEY;

1.12
date	2014.12.04.07.16.45;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	q6qgTLcue8oz3LYC;

1.11
date	2014.12.03.09.00.50;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	epv5sdOpt2EUG856;

1.10
date	2014.09.13.16.36.53;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	N2TalFGi4jKRwS2u;

1.9
date	2013.05.31.15.34.47;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.30.15.52.45;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.21.08.45.18;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2013.03.11.11.10.51;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2013.03.08.07.01.51;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.05.07.57.31;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2012.09.28.08.17.44;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.09.21.14.48.05;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2012.08.04.14.59.04;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.08.04.14.59.04;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.16
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.15 2015/10/08 12:02:03 jasper Exp $

COMMENT=	GTK+ support library for colord

DISTNAME=	colord-gtk-0.1.26
EXTRACT_SUFX=	.tar.xz
REVISION=	1

SHARED_LIBS +=  colord-gtk           0.0      # 1.0

CATEGORIES=	graphics print

HOMEPAGE=	http://www.freedesktop.org/software/colord/

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi c cairo
WANTLIB += cairo-gobject colord colordprivate dbus-1 epoxy expat ffi
WANTLIB += fontconfig freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gthread-2.0 gtk-3 harfbuzz
WANTLIB += lcms2 m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs xcb xcb-render xcb-shm z

MASTER_SITES=	http://www.freedesktop.org/software/colord/releases/

MODULES=	devel/gettext \
		textproc/intltool

BUILD_DEPENDS=	devel/gobject-introspection \
		lang/vala \
		textproc/docbook2x

LIB_DEPENDS=	graphics/colord \
		x11/gtk+3

USE_GMAKE=	Yes

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

CONFIGURE_ARGS=	--enable-introspection \
		--enable-vala

pre-configure:
	sed -i -e 's,-Wclobbered,,g;' \
		-e 's,-Wempty-body,,g;' \
		-e 's,-Wignored-qualifiers,,g;' \
		-e 's,-Wtype-limits,,g;' \
		-e 's,-Wmissing-parameter-type,,g' \
		${WRKSRC}/configure

.include <bsd.port.mk>
@


1.15
log
@sed -i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/05/05 17:00:17 sthen Exp $
d46 1
a46 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--enable-introspection \
@


1.14
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2015/04/04 09:21:01 ajacoutot Exp $
d51 1
a51 1
	perl -pi -e 's,-Wclobbered,,g;' \
@


1.13
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/12/04 07:16:45 ajacoutot Exp $
d7 1
a7 1
REVISION=	0
d20 7
a26 8
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += c cairo cairo-gobject colord colordprivate dbus-1 expat
WANTLIB += ffi fontconfig freetype gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 graphite2 gthread-2.0
WANTLIB += gtk-3 harfbuzz lcms2 m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs xcb xcb-render
WANTLIB += xcb-shm z
@


1.12
log
@Missing BUILD_DEPENDS; spotted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2014/12/03 09:00:50 ajacoutot Exp $
d7 1
@


1.11
log
@Update to colord-gtk-0.1.26.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2014/09/13 16:36:53 ajacoutot Exp $
d33 3
a35 2
BUILD_DEPENDS=	lang/vala \
		devel/gobject-introspection
@


1.10
log
@--disable-gtk-doc is handled by the infrastructure now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/05/31 15:34:47 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	colord-gtk-0.1.25
a6 1
REVISION=	0
d21 1
a21 1
WANTLIB += cairo cairo-gobject colord colordprivate dbus-1 expat
d23 4
a26 4
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 gtk-3
WANTLIB += harfbuzz lcms2 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += xcb xcb-render xcb-shm graphite2 z
d36 1
a36 1
LIB_DEPENDS=	graphics/colord>=0.1.22 \
@


1.9
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/03/30 15:52:45 ajacoutot Exp $
d48 1
a48 8
		--enable-vala \
		--disable-gtk-doc

# If one of these tools is found at configure stage, it might be used,
# no matter whether we use --disable-gtk-doc or not.
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@


1.8
log
@Update to colord-gtk-0.1.25.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/03/21 08:45:18 ajacoutot Exp $
d7 1
d25 1
a25 1
WANTLIB += harfbuzz icudata icule icuuc lcms2 m pango-1.0 pangocairo-1.0
@


1.7
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/03/11 11:10:51 espie Exp $
d5 1
a5 1
DISTNAME=	colord-gtk-0.1.24
a6 1
REVISION=	0
d26 1
a26 1
WANTLIB += xcb xcb-render xcb-shm 
@


1.6
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/03/08 07:01:51 ajacoutot Exp $
a40 1
USE_LIBTOOL=	Yes
@


1.5
log
@Sync WANTLIB after colord update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/03/05 07:57:31 ajacoutot Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.4
log
@Update to colord-gtk-0.1.24.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/09/28 08:17:44 ajacoutot Exp $
d7 1
d25 6
a30 6
WANTLIB += cairo cairo-gobject colord dbus-1 expat ffi fontconfig
WANTLIB += freetype gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gthread-2.0 gtk-3 harfbuzz icudata icule
WANTLIB += icuuc lcms2 m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs xcb xcb-render
WANTLIB += xcb-shm z
@


1.3
log
@Update to colord-gtk-0.1.23.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/09/21 14:48:05 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	colord-gtk-0.1.23
d22 8
a29 8
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 cairo cairo-gobject
WANTLIB += colord drm expat ffi fontconfig freetype gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += gtk-3 lcms2 m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread-stubs stdc++ xcb xcb-render
WANTLIB += icule icuuc pthread xcb-shm z
WANTLIB += ICE SM atk-bridge-2.0 atspi dbus-1 harfbuzz icudata
d51 1
@


1.2
log
@Stupid autohell is stupid...
The situation is this: even when we --disable-gtk-doc, if gtk-doc is
actually installed at configure stage, tools like gtkdoc-rebase will be
picked up and run during the install target. That is bad because the
gtk-doc package may have been removed by then, especially during dpb(1)
bulks (we explicitely disable support for it so why should it stay...).

So for now, let's add the following env to configure whenever we use
--disable-gtk-doc, until a bettersolution is found...
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/08/04 14:59:04 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	colord-gtk-0.1.22
d28 2
a29 1
WANTLIB += xcb-shm z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d51 6
@


1.1.1.1
log
@Import colord-gtk-0.1.22.

colord-gtk is a GTK+ support library for colord.

(note that this used to be a subpackage but upstream split it into two
different projects to prevent the build loop with gtk+3).

ok jasper@@
@
text
@@
