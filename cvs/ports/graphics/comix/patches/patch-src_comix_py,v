head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.14
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.12
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.10
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.6
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.8
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.4
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.16
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.14
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.12
	OPENBSD_5_0:1.2.0.10
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.8
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.6
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2014.04.06.21.10.30;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2013.04.29.12.57.58;	author gonzalo;	state Exp;
branches;
next	1.2;

1.2
date	2009.04.15.08.26.28;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.24.11.07.04;	author landry;	state Exp;
branches;
next	;


desc
@@


1.4
log
@switch py-Imaging to py-Pillow, plus some "s/import Image/from PIL import Image/" patches where necessary
@
text
@$OpenBSD: patch-src_comix_py,v 1.3 2013/04/29 12:57:58 gonzalo Exp $

point python to where comix modules are installed

--- src/comix.py.orig	Fri Mar  6 16:54:01 2009
+++ src/comix.py	Sun Apr  6 18:23:29 2014
@@@@ -1,4 +1,4 @@@@
-#!/usr/bin/env python
+#!${MODPY_BIN}
 
 """Comix - GTK Comic Book Viewer
 
@@@@ -26,6 +26,9 @@@@ import sys
 import gettext
 import getopt
 
+# add path for comix python modules
+sys.path.insert(0, '${PREFIX}/share/comix/src')
+
 #Check for PyGTK and PIL dependencies.
 try:
     import pygtk
@@@@ -49,7 +52,7 @@@@ except ImportError:
     sys.exit(1)
 
 try:
-    import Image
+    from PIL import Image
     assert Image.VERSION >= '1.1.5'
 except AssertionError:
     print "You don't have the required version of the Python Imaging",
@


1.3
log
@Update for Comix to 4.0.4:

* Applied a workaround for a bug that caused the "Open" dialog to
  crash when trying to open a file when the file type filter had been
  reset to blank. This bug seems to only appear on some systems,
  probably depending on the installed GTK+ version.
* Fixed a bug that caused the error message for unfulfilled
  dependencies to not be printed properly.
* The rar/unrar program is now invoked in such a way as to keep
  broken or incomplete files extracted from RAR archives, since Comix
  might be able to display parts of these files anyway.

While here add HOMEPAGE.

Ok landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_comix_py,v 1.2 2009/04/15 08:26:28 landry Exp $
d5 2
a6 2
--- src/comix.py.orig	Fri Mar  6 14:54:01 2009
+++ src/comix.py	Mon Apr 15 16:27:28 2013
d13 1
a13 2
@@@@ -25,6 +25,9 @@@@ import os
 import sys
d16 1
a16 1
+
d19 6
a25 1
 #Check for PyGTK and PIL dependencies.
d27 5
@


1.2
log
@Update to comix 4.0.3, MAINTAINER timeout
@
text
@d1 1
a1 1
$OpenBSD: patch-src_comix_py,v 1.1 2009/01/24 11:07:04 landry Exp $
d5 2
a6 2
--- src/comix.py.orig	Sun Feb 22 16:50:40 2009
+++ src/comix.py	Tue Apr  7 20:35:05 2009
d21 2
a22 2
 import constants
 import deprecated
@


1.1
log
@Update to comix 4.0.2, rewritten from scratch upstream.
Properly register mime types and install schema file while here.
Use PKG_SUBST instead of perl -pi dance.
With help from wcmaier@@ for python-fu and ajacoutot@@ for gconf-fu, tnx!

MAINTAINER timeout, ok ajacoutot@@
grudgingly-ok-though-itd-be-nice-if-people-just-used-distutils wcmaier@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 2
a6 2
--- src/comix.py.orig	Sat Nov 15 22:42:12 2008
+++ src/comix.py	Sat Jan 24 11:45:35 2009
d13 1
a13 2
@@@@ -24,6 +24,9 @@@@ Copyright (C) 2005-2008 Pontus Ekberg
 import os
d16 1
d21 1
a22 1
 import main
@

