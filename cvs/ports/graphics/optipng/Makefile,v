head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.4
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.2.0.6
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.1.1.0.2
	OPENBSD_5_5_BASE:1.1.1.1
	lteo_20131006:1.1.1.1
	lteo:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2016.07.01.07.44.19;	author jasper;	state Exp;
branches;
next	1.2;
commitid	4aXdaTZI8pzst3Lm;

1.2
date	2014.06.20.03.17.43;	author bcallah;	state Exp;
branches
	1.2.6.1;
next	1.1;
commitid	x6Ekj2upvGx2uQRw;

1.1
date	2013.10.06.18.43.42;	author lteo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.10.06.18.43.42;	author lteo;	state Exp;
branches;
next	;

1.2.6.1
date	2016.07.01.07.44.50;	author jasper;	state Exp;
branches;
next	;
commitid	9vafmcIGGjn5LamE;


desc
@@


1.3
log
@security update to optipng-0.7.6, addressing "CVE-2016-2191 optipng: Invalid
write while processing delta escapes without any boundary checking" as well as
a bunch of other bugs
@
text
@# $OpenBSD: Makefile,v 1.2 2014/06/20 03:17:43 bcallah Exp $

COMMENT =		lossless PNG optimizer
DISTNAME =		optipng-0.7.6
CATEGORIES =		graphics

HOMEPAGE =		http://optipng.sourceforge.net/

MAINTAINER =		Kyle Isom <kyle@@tyrfingr.is>

# zlib
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c m png z

MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=optipng/}

LIB_DEPENDS =		graphics/png

CONFIGURE_STYLE =	simple
CONFIGURE_ARGS +=	-with-system-zlib -with-system-libpng
CONFIGURE_ENV =		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/src/optipng/optipng ${PREFIX}/bin
	${INSTALL_MAN} ${WRKSRC}/src/optipng/man/optipng.1 ${PREFIX}/man/man1

.include <bsd.port.mk>
@


1.2
log
@Minor update to 0.7.5
ok Kyle Isom (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/10/06 18:43:42 lteo Exp $
d4 1
a4 1
DISTNAME =		optipng-0.7.5
@


1.2.6.1
log
@security update to optipng-0.7.6, addressing "CVE-2016-2191 optipng: Invalid
write while processing delta escapes without any boundary checking" as well as
a bunch of other bugs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/06/20 03:17:43 bcallah Exp $
d4 1
a4 1
DISTNAME =		optipng-0.7.6
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.67 2013/07/10 15:22:23 bcallah Exp $
d4 1
a4 1
DISTNAME =		optipng-0.7.4
@


1.1.1.1
log
@Import OptiPNG 0.7.4, from Kyle Isom.

OptiPNG is a PNG optimizer that recompresses image files to a smaller
size, without losing any information. This program also converts
external formats (BMP, GIF, PNM and TIFF) to optimized PNG, and performs
PNG integrity checks and corrections.

Tested by Kyle Isom (amd64 and sgi), bcallah@@ and myself (loongson).
Help/feedback from abieber@@, bcallah@@, sthen@@, and Dmitrij D. Czarkoff.

OK bcallah@@
@
text
@@
