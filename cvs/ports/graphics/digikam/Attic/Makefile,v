head	1.50;
access;
symbols
	OPENBSD_5_9:1.48.0.2
	OPENBSD_5_9_BASE:1.48
	OPENBSD_5_8:1.48.0.4
	OPENBSD_5_8_BASE:1.48
	OPENBSD_5_7:1.46.0.2
	OPENBSD_5_7_BASE:1.46
	OPENBSD_5_6:1.45.0.4
	OPENBSD_5_6_BASE:1.45
	OPENBSD_5_5:1.45.0.2
	OPENBSD_5_5_BASE:1.45
	OPENBSD_5_4:1.41.0.2
	OPENBSD_5_4_BASE:1.41
	OPENBSD_5_3:1.37.0.2
	OPENBSD_5_3_BASE:1.37
	OPENBSD_5_2:1.34.0.2
	OPENBSD_5_2_BASE:1.34
	OPENBSD_5_1_BASE:1.33
	OPENBSD_5_1:1.33.0.2
	OPENBSD_5_0:1.31.0.4
	OPENBSD_5_0_BASE:1.31
	OPENBSD_4_9:1.31.0.2
	OPENBSD_4_9_BASE:1.31
	OPENBSD_4_8:1.27.0.4
	OPENBSD_4_8_BASE:1.27
	OPENBSD_4_7:1.27.0.2
	OPENBSD_4_7_BASE:1.27
	OPENBSD_4_6:1.23.0.4
	OPENBSD_4_6_BASE:1.23
	OPENBSD_4_5:1.23.0.2
	OPENBSD_4_5_BASE:1.23
	OPENBSD_4_4:1.22.0.2
	OPENBSD_4_4_BASE:1.22
	OPENBSD_4_3:1.20.0.2
	OPENBSD_4_3_BASE:1.20
	OPENBSD_4_2:1.16.0.2
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.13.0.2
	OPENBSD_4_1_BASE:1.13
	OPENBSD_4_0:1.9.0.2
	OPENBSD_4_0_BASE:1.9
	OPENBSD_3_9:1.6.0.2
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.50
date	2016.04.29.21.10.21;	author zhuk;	state dead;
branches;
next	1.49;
commitid	u9TvebbKy1wgQMr9;

1.49
date	2016.03.19.22.48.27;	author naddy;	state Exp;
branches;
next	1.48;
commitid	SIHnGQ3XIdGCb86J;

1.48
date	2015.05.05.17.00.17;	author sthen;	state Exp;
branches;
next	1.47;
commitid	ukCYGVBlglFzny8e;

1.47
date	2015.03.27.08.11.28;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	mHt3hIg3nxq5XDcy;

1.46
date	2015.02.16.22.57.08;	author naddy;	state Exp;
branches;
next	1.45;
commitid	0dx3c9ckf7dE4tx1;

1.45
date	2014.01.16.09.11.33;	author zhuk;	state Exp;
branches;
next	1.44;

1.44
date	2013.10.22.11.34.15;	author zhuk;	state Exp;
branches;
next	1.43;

1.43
date	2013.10.05.07.34.32;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2013.08.12.06.53.57;	author zhuk;	state Exp;
branches;
next	1.41;

1.41
date	2013.07.08.21.57.53;	author zhuk;	state Exp;
branches;
next	1.40;

1.40
date	2013.06.27.11.31.51;	author zhuk;	state Exp;
branches;
next	1.39;

1.39
date	2013.06.24.15.53.38;	author zhuk;	state Exp;
branches;
next	1.38;

1.38
date	2013.03.11.11.10.52;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2013.01.23.21.28.21;	author zhuk;	state Exp;
branches;
next	1.36;

1.36
date	2013.01.19.11.26.02;	author zhuk;	state Exp;
branches;
next	1.35;

1.35
date	2012.12.23.13.25.11;	author sthen;	state Exp;
branches;
next	1.34;

1.34
date	2012.04.23.17.15.18;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2011.11.01.20.30.49;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2011.09.16.10.02.36;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2010.11.17.19.41.52;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2010.11.17.08.05.13;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2010.11.09.18.22.26;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2010.10.18.18.13.13;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2009.12.22.16.06.40;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2009.09.27.23.47.22;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2009.09.10.16.43.32;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2009.08.10.06.31.44;	author kili;	state Exp;
branches;
next	1.23;

1.23
date	2008.12.11.15.57.16;	author martynas;	state Exp;
branches;
next	1.22;

1.22
date	2008.07.24.17.23.32;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2008.07.19.11.58.58;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2008.01.05.21.56.35;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2007.12.16.00.04.27;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2007.11.13.17.10.25;	author steven;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.15.20.09.40;	author simon;	state Exp;
branches;
next	1.16;

1.16
date	2007.06.28.15.10.34;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2007.05.09.11.33.49;	author bernd;	state Exp;
branches;
next	1.14;

1.14
date	2007.03.15.08.07.39;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2006.12.19.00.00.03;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2006.11.20.09.22.24;	author bernd;	state Exp;
branches;
next	1.10;

1.10
date	2006.11.13.11.20.24;	author steven;	state Exp;
branches;
next	1.9;

1.9
date	2006.08.02.10.00.49;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2006.06.12.12.05.17;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.03.14.22.27.34;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2006.01.14.00.07.28;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2005.12.31.15.24.26;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2005.10.02.12.25.01;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2005.09.11.10.03.26;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.04.19.10.55.24;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2005.04.09.21.51.14;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.04.09.21.51.14;	author espie;	state Exp;
branches;
next	;


desc
@@


1.50
log
@Remove KDE3 applications that have well-working KDE4+ counterparts.
@
text
@# $OpenBSD: Makefile,v 1.49 2016/03/19 22:48:27 naddy Exp $

COMMENT =		digital image kde application
CATEGORIES =		graphics x11 x11/kde
V =			0.9.6
DISTNAME =		digikam-$V
REVISION =		15
PKGSPEC =		digikam-<1

SHARED_LIBS +=		digikam              3.0      # .0.0
HOMEPAGE =		http://www.digikam.org/
MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=digikam/}
DISTFILES =		${DISTNAME}.tar.bz2

RUN_DEPENDS =	devel/desktop-file-utils \
		x11/gtk+3,-guic

LIB_DEPENDS =	x11/kde/libs3 \
		graphics/libgphoto2>=2.5 \
		graphics/libkipi \
		graphics/tiff \
		graphics/libkexiv2>=0.1.5,<4 \
		graphics/libkdcraw \
		graphics/lcms

MODULES =	devel/gettext \
		x11/kde

MODKDE_VERSION =	3.5.8
CONFIGURE_STYLE =	autoconf
AUTOCONF_VERSION =	2.61
CONFIGURE_ARGS +=	${MODKDE_CONFIGURE_ARGS}

CONFIGURE_ARGS +=	--without-included-sqlite3

USE_GMAKE ?=		Yes
CONFIGURE_ENV +=	${MODKDE_CONFIGURE_ENV}
CONFIGURE_ENV +=	CPPFLAGS=-I${LOCALBASE}/include LDFLAGS=-L${LOCALBASE}/lib
MAKE_ENV =		${CONFIGURE_ENV}
SUBST_VARS +=		V

MAKE_FLAGS +=		${MODKDE_MAKE_FLAGS} LIBKEXIF_LIBS='-L${PREFIX}/lib -lkexif -lintl -liconv'
MAKE_FLAGS +=		LIBRESOLV=
 
# GPL
PERMIT_PACKAGE_CDROM =		Yes

WANTLIB += ${KDE}/DCOP ${KDE}/kabc ${KDE}/kdcraw ${KDE}/kdecore>=6
WANTLIB += ${KDE}/kdefx ${KDE}/kdeprint ${KDE}/kdesu ${KDE}/kdeui
WANTLIB += ${KDE}/kexiv2>=1 ${KDE}/khtml ${KDE}/kio ${KDE}/kipi
WANTLIB += ${KDE}/kjs ${KDE}/kparts ${KDE}/kresources ${KDE}/kutils
WANTLIB += ${KDE}/kwalletclient ${KDE}/vcard ${MODQT3_WANTLIB}
WANTLIB += GL ICE SM X11 X11-xcb Xau Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xft Xi Xinerama Xmu Xrandr Xrender Xt Xxf86vm art_lgpl_2 c
WANTLIB += drm exif exiv2 expat fam fontconfig freetype glapi gphoto2
WANTLIB += gphoto2_port idn jasper jpeg lcms ltdl m mng pcre pcreposix
WANTLIB += png pthread pthread-stubs sqlite3 stdc++ tiff util xcb
WANTLIB += xcb-dri2 xcb-glx z

.include <bsd.port.mk>
@


1.49
log
@drop SHARED_ONLY from KDE3 ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2015/05/05 17:00:17 sthen Exp $
@


1.48
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2015/03/27 08:11:28 ajacoutot Exp $
a13 2

SHARED_ONLY =		Yes
@


1.47
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2015/02/16 22:57:08 naddy Exp $
d7 1
a7 1
REVISION =		14
a27 12
WANTLIB =  GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft Xi Xinerama
WANTLIB += Xmu Xrandr Xt Xxf86vm Xrender art_lgpl_2 c drm fam
WANTLIB += fontconfig freetype exif expat exiv2 gphoto2 gphoto2_port
WANTLIB += idn jasper jpeg lcms ltdl m mng pcre pcreposix png pthread
WANTLIB += stdc++ tiff util xcb z
WANTLIB += lib/qt3/qt-mt>=3.33
WANTLIB += ${KDE}/DCOP ${KDE}/kdecore>=6 ${KDE}/kparts ${KDE}/kdeui
WANTLIB += ${KDE}/kdesu ${KDE}/kio ${KDE}/kdefx ${KDE}/kdcraw
WANTLIB += ${KDE}/kdeprint ${KDE}/kexiv2>=1 ${KDE}/kipi ${KDE}/kutils
WANTLIB += ${KDE}/kabc ${KDE}/kresources ${KDE}/khtml ${KDE}/kjs
WANTLIB += ${KDE}/kwalletclient ${KDE}/vcard

a36 1
WANTLIB +=		sqlite3
d49 12
@


1.46
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2014/01/16 09:11:33 zhuk Exp $
d7 1
a7 1
REVISION =		13
d18 1
a18 1
		x11/gtk+2,-guic
@


1.45
log
@Due to specifying version requirement explicitly, PKGSPEC from libkexiv2
doesn't apply for graphics/digikam. Thus it could picked up libkexiv2 from
KDE4 instead and fail to build/package. Fix by adding ",<4" to version
specification in Digikam's LIB_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/10/22 11:34:15 zhuk Exp $
a51 1
USE_GROFF =		Yes
@


1.44
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/10/05 07:34:32 espie Exp $
d7 1
a7 1
REVISION =		12
d24 1
a24 1
		graphics/libkexiv2>=0.1.5 \
@


1.43
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/08/12 06:53:57 zhuk Exp $
d7 3
a9 1
REVISION =		11
@


1.42
log
@Bump revisions after recent @@pkgpath change in dependencies (libkdcraw and
libkipi).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/07/08 21:57:53 zhuk Exp $
d7 1
a7 1
REVISION =		10
@


1.41
log
@Update WANTLIB after enabling MODKDE_LIB_LINKS for KDE3 graphics libraries.

okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/06/27 11:31:51 zhuk Exp $
d7 1
a7 1
REVISION =		9
@


1.40
log
@Unbreak after previous commit. Some WANTLIB changes relied on uncommitted
stuff in x11/kde, sorry. (more to come)

Noticed by landry@@, sthen@@, naddy@@...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2013/06/24 15:53:38 zhuk Exp $
d7 1
a7 1
REVISION =		8
d33 2
a34 2
WANTLIB += ${KDE}/kdesu ${KDE}/kio ${KDE}/kdefx kdcraw
WANTLIB += ${KDE}/kdeprint kexiv2>=1 kipi ${KDE}/kutils
@


1.39
log
@Massive cleanup for KDE3. Main point is in changing WANTLIB from "foo" to
"lib/kde3/foo" where appropirate, but also many missing desktop goo items
added, some PFRAG.shared removed and so on.

input and okay landry@@ and ajacoutot@@, also okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/03/11 11:10:52 espie Exp $
d33 2
a34 2
WANTLIB += ${KDE}/kdesu ${KDE}/kio ${KDE}/kdefx ${KDE}/kdcraw
WANTLIB += ${KDE}/kdeprint ${KDE}/kexiv2>=1 ${KDE}/kipi ${KDE}/kutils
@


1.38
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/01/23 21:28:21 zhuk Exp $
d7 1
a7 1
REVISION =		7
d15 4
a18 2
RUN_DEPENDS =	devel/desktop-file-utils
LIB_DEPENDS +=	x11/kde/libs3 \
d26 11
a36 10
WANTLIB =	util m c ICE Xrender SM pthread z stdc++ expat \
		Xext X11 jpeg png art_lgpl_2 exif idn \
		exiv2 jasper pcre pcreposix ltdl \
		xcb lib/qt3/qt-mt>=3.33 kdecore>=6 \
		kwalletclient DCOP kparts kdeui kdesu kio kdefx \
		kdeprint kutils kabc vcard kresources khtml kjs \
		gphoto2 gphoto2_port kipi tiff kexiv2>=1 kdcraw \
		lcms
WANTLIB += GL Xcursor Xdamage Xfixes Xft Xi Xinerama Xmu Xrandr
WANTLIB += Xt Xxf86vm drm fontconfig freetype mng fam
@


1.37
log
@Move KDE 3 headers from ${PREFIX}/include to ${PREFIX}/include/kde.
This port installs some headers there too, so bump.

Tested in a bulk, input and okay by landry@@
Reviewed by ajacoutot@@ too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/01/19 11:26:02 zhuk Exp $
a56 2
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
a57 1
PERMIT_PACKAGE_FTP =		Yes
@


1.36
log
@Fix build after recent gphoto2 update.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2012/12/23 13:25:11 sthen Exp $
d7 1
a7 1
REVISION =		6
@


1.35
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/04/23 17:15:18 espie Exp $
d7 1
a7 1
REVISION =		5
d17 1
a17 1
		graphics/libgphoto2 \
@


1.34
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/11/01 20:30:49 jasper Exp $
d7 1
a7 1
REVISION =		4
d33 1
a33 1
WANTLIB += Xt Xxf86vm drm fontconfig freetype mng
@


1.33
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/09/16 10:02:36 espie Exp $
d7 1
a7 1
REVISION =		3
a43 1
LIB_DEPENDS +=		databases/sqlite3>=3.5.9
@


1.32
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2010/11/17 19:41:52 jasper Exp $
d7 1
a7 1
REVISION =		2
d26 2
a27 2
		exiv2 jasper pcre pcreposix Xau Xdmcp fam rpcsvc ltdl \
		pthread-stubs xcb lib/qt3/qt-mt>=3.33 kdecore>=6 \
d32 2
@


1.31
log
@- use gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2010/11/17 08:05:13 espie Exp $
d7 1
a7 1
REVISION =		1
@


1.30
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/11/09 18:22:26 espie Exp $
d7 1
a7 1
REVISION =		0
d25 1
a25 1
		Xext X11 jpeg png art_lgpl_2 exif intl iconv idn \
d33 2
a34 1
MODULES =	x11/kde
@


1.29
log
@WANTLIB conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/10/18 18:13:13 espie Exp $
d15 8
a22 8
RUN_DEPENDS =	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS +=	::x11/kde/libs3 \
		::graphics/libgphoto2 \
		::graphics/libkipi \
		::graphics/tiff \
		:libkexiv2->=0.1.5:graphics/libkexiv2 \
		::graphics/libkdcraw \
		::graphics/lcms
d27 1
a27 1
		pthread-stubs xcb lib/qt3/qt-mt.>=3.33 kdecore.>=6 \
d30 1
a30 1
		gphoto2 gphoto2_port kipi tiff kexiv2.>=1 kdcraw \
d41 1
a41 1
LIB_DEPENDS +=		:sqlite3->=3.5.9:databases/sqlite3
@


1.28
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2009/12/22 16:06:40 ajacoutot Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p0
d16 7
a22 8
LIB_DEPENDS +=	lib/qt3/qt-mt.>=3.33::x11/qt3 \
		kdecore.>=6,kwalletclient,DCOP,kparts,kdeui,kdesu,kio,kdefx,kdeprint,kutils,kabc,vcard,kresources,khtml,kjs::x11/kde/libs3 \
		gphoto2,gphoto2_port::graphics/libgphoto2 \
		kipi::graphics/libkipi \
		tiff::graphics/tiff \
		kexiv2.>=1.0:libkexiv2->=0.1.5:graphics/libkexiv2 \
		kdcraw::graphics/libkdcraw \
		lcms::graphics/lcms
d27 5
a31 1
		pthread-stubs xcb
d41 2
a42 1
LIB_DEPENDS +=		sqlite3:sqlite3->=3.5.9:databases/sqlite3
d45 1
a45 1
USE_GROFF =	Yes
@


1.27
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2009/09/27 23:47:22 sthen Exp $
d41 1
@


1.26
log
@Bugfix update to 0.9.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2009/09/10 16:43:32 sthen Exp $
d7 1
@


1.25
log
@update digikam to 0.9.5. needed for exiv2 update. looks ok to landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2009/08/10 06:31:44 kili Exp $
d5 1
a5 1
V =			0.9.5
@


1.24
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/12/11 15:57:16 martynas Exp $
d5 1
a5 1
V =			0.9.4
a6 1
PKGNAME =		${DISTNAME}p1
d24 1
a24 1
WANTLIB =	util m c ICE Xrender SM pthread z stdc++ \
@


1.23
log
@remove, since operator overloading for the math functions has been
fixed in libstdc++ instead
tested by and ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/07/24 17:23:32 espie Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}p0
d27 2
a28 1
		exiv2 jasper pcre pcreposix Xau Xdmcp fam rpcsvc ltdl
@


1.22
log
@forgot one patch.
use new sqlite3 now that it's committed.

didn't build before -> no pkgname bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/07/19 11:58:58 espie Exp $
d7 1
a7 1
PKGNAME =		${DISTNAME}
@


1.21
log
@update digikam, along with libkipi dependencies.
revisit digikam once sqlite3 is updated
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/01/05 21:56:35 espie Exp $
d36 2
a37 3
# awaiting sqlite update
#CONFIGURE_ARGS +=	--without-included-sqlite3
#LIB_DEPENDS +=		sqlite3::databases/sqlite3
@


1.20
log
@update to 0.9.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/12/16 00:04:27 ajacoutot Exp $
d3 9
a11 9
COMMENT=		digital image kde application
CATEGORIES=		graphics x11 x11/kde
V=			0.9.3
DISTNAME=		digikam-$V
PKGNAME=		${DISTNAME}
SHARED_LIBS +=	digikam              3.0      # .0.0
HOMEPAGE=		http://www.digikam.org/
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=digikam/}
DISTFILES=		${DISTNAME}.tar.bz2
d13 1
a13 1
SHARED_ONLY=Yes
d15 2
a16 2
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS+=	lib/qt3/qt-mt.>=3.33::x11/qt3 \
a19 1
		sqlite3::databases/sqlite3 \
d25 1
a25 1
WANTLIB=	util m c ICE Xrender SM pthread z stdc++ \
d29 1
a29 14
MODULES=	x11/kde

MODKDE_VERSION=		3.5.8
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.61
CONFIGURE_ARGS+=	${MODKDE_CONFIGURE_ARGS}
USE_GMAKE?=		Yes
CONFIGURE_ENV+=		${MODKDE_CONFIGURE_ENV}
CONFIGURE_ENV+=		CPPFLAGS=-I${LOCALBASE}/include LDFLAGS=-L${LOCALBASE}/lib
MAKE_ENV=		${CONFIGURE_ENV}
SUBST_VARS+=		V

MAKE_FLAGS+=		${MODKDE_MAKE_FLAGS} LIBKEXIF_LIBS='-L${PREFIX}/lib -lkexif -lintl -liconv'
MAKE_FLAGS+=		LIBRESOLV=
d31 18
d50 4
a53 4
PERMIT_DISTFILES_CDROM?=	Yes
PERMIT_DISTFILES_FTP?=		Yes
PERMIT_PACKAGE_CDROM?=		Yes
PERMIT_PACKAGE_FTP?=		Yes
@


1.19
log
@- add update-desktop-database goo
(this should be the last one hopefully)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/11/13 17:10:25 steven Exp $
d5 1
a5 1
V=			0.9.2
d7 2
a8 2
PKGNAME=		${DISTNAME}p1
SHARED_LIBS +=	digikam              2.0      # .0.0
d32 1
a32 1
MODKDE_VERSION=		3.5.7
@


1.18
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/09/15 20:09:40 simon Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d14 2
@


1.17
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/06/28 15:10:34 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d26 1
a26 1
		exiv2 jasper pcre pcreposix Xau Xdmcp fam rpcsvc
@


1.16
log
@digikam 0.9.2, bundles the basic plugins now.

new feature: a light table, and several new plugins.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/05/09 11:33:49 bernd Exp $
d3 1
a3 1
COMMENT=		"digital image kde application"
@


1.15
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/03/15 08:07:39 espie Exp $
d5 1
a5 1
V=			0.9.1
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d20 2
a21 1
		kexiv2::graphics/libkexiv2 \
d26 1
a26 1
		exiv2 jasper pcre pcreposix
d30 1
a30 4
USE_X11=		Yes
USE_LIBTOOL=		Yes
LIBTOOL_FLAGS+=		--tag=disable-static
MODKDE_VERSION=		3.5.3
d32 1
a32 1
AUTOCONF_VERSION=	2.59
@


1.14
log
@update to 0.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/12/19 00:00:03 espie Exp $
d7 1
d14 1
a14 1
LIB_DEPENDS+=	lib/qt3/qt-mt.>=3.33::x11/qt3,mt \
@


1.13
log
@new version 0.9.0.
improvements include usage of exiv2, which has a much more powerful
tag handling, and lcms interface... useful if you have color profiles
available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/12/16 12:22:33 espie Exp $
d5 1
a5 1
V=			0.9.0
d14 1
a14 1
		kdecore.>=6,kwalletclient,DCOP,kparts,kdeui,kdesu,kio,kdefx,kdeprint,kutils,kabc,vcard,kresources::x11/kde/libs3 \
d19 1
a19 1
		exiv2::graphics/exiv2 \
d23 2
a24 1
		Xext X11 jpeg png art_lgpl_2 exif intl iconv idn
@


1.12
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/11/20 09:22:24 bernd Exp $
d5 1
a5 1
V=			0.8.2
d7 1
a7 2
PKGNAME=		${DISTNAME}p0
SHARED_LIBS=		digikam	1.1
a14 1
		Imlib2::graphics/imlib2 \
a16 1
		kexif::graphics/libkexif \
d18 3
a20 1
		tiff::graphics/tiff
d23 1
a23 2
		freetype Xext X11 \
		jpeg png art_lgpl_2 exif intl iconv idn
d30 1
a30 1
MODKDE_VERSION=		3.5
d36 1
@


1.11
log
@Fix build with latest imlib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/11/13 11:20:24 steven Exp $
a28 1
BUILD_DEPENDS=		::devel/pkgconfig
@


1.10
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/08/02 10:00:49 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d25 1
a25 1
		jpeg png art_lgpl_2 exif intl ltdl iconv idn
@


1.9
log
@update to more recent version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/06/12 12:05:17 espie Exp $
d30 1
@


1.8
log
@idn WANTLIB, bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/03/14 22:27:34 espie Exp $
d5 1
a5 1
V=			0.8.1
d7 2
a8 2
PKGNAME=		${DISTNAME}p0
SHARED_LIBS=		digikam	1.0
d14 3
a16 3
LIB_DEPENDS+=	lib/qt3/qt-mt.3.33::x11/qt3,mt \
		kdecore.6,kwalletclient,DCOP,kparts,kdeui,kdesu,kio,kdefx,kdeprint,kutils,kabc,vcard,kresources::x11/kde/libs3 \
		Imlib2.0.0::graphics/imlib2 \
a28 1
FLAVORS=		debug
@


1.7
log
@update to 0.8.1.
fix a bad portability bug (size_t != off_t)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/01/14 00:07:28 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d25 1
a25 1
		jpeg png art_lgpl_2 exif intl ltdl iconv
@


1.6
log
@more C++ libs bumps. Done thru mail, plus lizards.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/12/31 15:24:26 steven Exp $
d5 1
a5 1
V=			0.7.4
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d9 1
a9 1
HOMEPAGE=		http://extragear.kde.org/apps/kipi/
d15 1
a15 1
		kdecore.6,kwalletclient,DCOP,kparts,kdeui,kdesu,kio,kdefx,kdeprint::x11/kde/libs3 \
d20 1
a20 1
		gdbm::databases/gdbm \
d29 1
d33 1
a33 1
MODKDE_VERSION=		3.4
d40 1
@


1.5
log
@SHARED_LIBS, switch to USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/10/02 12:25:01 espie Exp $
d7 2
a8 2
PKGNAME=		${DISTNAME}p0
SHARED_LIBS=		digikam	0.0
@


1.4
log
@fix typo.
noticed by Brad Ely.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2005/09/11 10:03:26 espie Exp $
d7 2
d30 2
a31 1
MODKDE_LIBTOOL=		Yes
@


1.3
log
@update to 0.7.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/04/19 10:55:24 espie Exp $
d29 1
a29 1
MODKE_VERSION=		3.4
@


1.2
log
@same mix-up as libkexif, same solution
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/04/09 21:51:14 espie Exp $
d5 2
a6 2
DISTNAME=		digikam-0.7.2
EXTRACT_SUFX=		.tar.bz2
d9 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d28 1
a30 1
AUTOCONF=		/bin/sh ${WRKDIST}/admin/cvs.sh configure
@


1.1.1.1
log
@more kde stuff, this time an image editor with powerful capabilities
@
text
@@
