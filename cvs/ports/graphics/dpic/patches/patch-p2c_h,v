head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.09.09.22.56.49;	author nigel;	state Exp;
branches;
next	;
commitid	UyAAiD9qsGLQh6om;


desc
@@


1.1
log
@Update version to 2017.08.01 patcheso for clang
run examples as a test.
ok bentley@@
@
text
@$OpenBSD$
Index: p2c.h
--- p2c.h.orig
+++ p2c.h
@@@@ -435,12 +435,7 @@@@ typedef struct {
 } _TEXT;
 
 /* Memory allocation */
-#ifdef __GCC__
-# define Malloc(n)  (malloc(n) ?: (Anyptr)_OutMem())
-#else
-extern Anyptr __MallocTemp__;
-# define Malloc(n)  ((__MallocTemp__ = malloc(n)) ? __MallocTemp__ : (Anyptr)_OutMem())
-#endif
+extern void *Malloc(size_t);
 #define FreeR(p)    (free((Anyptr)(p)))    /* used if arg is an rvalue */
 #define Free(p)     (free((Anyptr)(p)), (p)=NULL)
 
@
