head	1.23;
access;
symbols
	OPENBSD_5_6:1.22.0.4
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.22.0.2
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.21.0.2
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.19.0.2
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.18.0.8
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.6
	OPENBSD_5_0:1.18.0.4
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.2
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.17.0.10
	OPENBSD_4_8_BASE:1.17
	OPENBSD_4_7:1.17.0.8
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.17.0.6
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.17.0.4
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.17.0.2
	OPENBSD_4_4_BASE:1.17
	OPENBSD_4_3:1.16.0.2
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.15.0.2
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.14.0.2
	OPENBSD_4_1_BASE:1.14
	OPENBSD_4_0:1.13.0.4
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.2
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.8.0.4
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.7.0.2
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.5.0.4
	OPENBSD_3_5_BASE:1.5
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	brad:1.1.1.1
	brad-2001_11_02:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2015.01.18.21.03.10;	author sthen;	state dead;
branches;
next	1.22;
commitid	VF9xUHdvKZudI6on;

1.22
date	2014.01.11.11.22.43;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.21.08.45.18;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.11.11.10.54;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2012.12.03.15.59.30;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.17.08.05.15;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2008.06.07.10.38.21;	author bernd;	state Exp;
branches;
next	1.16;

1.16
date	2007.09.15.20.09.41;	author simon;	state Exp;
branches;
next	1.15;

1.15
date	2007.03.29.13.39.14;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2006.10.19.13.26.40;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2006.01.08.00.29.38;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2005.12.26.19.38.06;	author steven;	state Exp;
branches;
next	1.11;

1.11
date	2005.11.09.21.17.20;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2005.11.03.18.28.55;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2005.10.30.00.10.41;	author fgsch;	state Exp;
branches;
next	1.8;

1.8
date	2004.11.30.01.06.37;	author espie;	state Exp;
branches
	1.8.2.1
	1.8.4.1;
next	1.7;

1.7
date	2004.04.18.20.58.45;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2004.04.04.14.10.09;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2003.08.21.14.46.52;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2003.04.14.15.02.09;	author wilfried;	state Exp;
branches;
next	1.3;

1.3
date	2002.10.31.05.28.20;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2002.03.11.05.17.33;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2001.11.02.21.13.35;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.11.02.21.13.35;	author brad;	state Exp;
branches;
next	;

1.8.2.1
date	2005.11.11.18.37.24;	author sturm;	state Exp;
branches;
next	;

1.8.4.1
date	2005.11.11.18.36.42;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.23
log
@forgot to remove earlier; spotted by naddy
@
text
@# $OpenBSD: Makefile,v 1.22 2014/01/11 11:22:43 espie Exp $

COMMENT=	tools and library routines for working with GIF images

DISTNAME=	libungif-4.1.4
REVISION =	2
SHARED_LIBS=	gif	5.4 \
		ungif	5.4
CATEGORIES=	graphics
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=giflib/}

HOMEPAGE=	http://sourceforge.net/projects/libungif/

# MIT
PERMIT_PACKAGE_CDROM=	Yes
WANTLIB=		c m

CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.59
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--without-x

DOCS=			README UNCOMPRESSED_GIF
HTMLDOCS= 		*.html *.txt *.png
DOCSDIR=		${PREFIX}/share/doc/libungif

MAKE_ENV+=		CFLAGS="${CFLAGS}"

post-install:
	@@cd ${PREFIX}/lib; \
	ln -s libungif.a libgif.a && \
	ln -s libungif.so.${LIBungif_VERSION} libgif.so.${LIBgif_VERSION} && \
	sed -e s#libungif#libgif#g libungif.la > libgif.la && \
	chown ${LIBOWN}:${LIBGRP} libgif.la && \
	chmod 755 libgif.la
	${INSTALL_DATA_DIR} ${DOCSDIR}/html
.for d in ${DOCS}
	${INSTALL_DATA} ${WRKSRC}/$d ${DOCSDIR}
.endfor
.for h in ${HTMLDOCS}
	${INSTALL_DATA} ${WRKSRC}/doc/$h ${DOCSDIR}/html
.endfor

.include <bsd.port.mk>
@


1.22
log
@scrape @@endfake. I haven't been able to finish this in... ten years.
time to let it go.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/21 08:45:18 ajacoutot Exp $
@


1.21
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/11 11:10:54 espie Exp $
d6 1
a6 1
REVISION =	1
@


1.20
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/12/03 15:59:30 jasper Exp $
a17 1
USE_LIBTOOL=		Yes
@


1.19
log
@add license
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/17 08:05:15 espie Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.18
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/06/07 10:38:21 bernd Exp $
d14 1
@


1.17
log
@Fix master site. Noticed by dhill@@.

libungif has been renamed to giflib:

"Work on libungif has been halted due to the expiration of the patent on LZW.
giflib continues to have bugfixes and patches merged. As part of this work,
the sourceforge project has been renamed from libungif to giflib."

(http://sourceforge.net/forum/forum.php?forum_id=753553)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/09/15 20:09:41 simon Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.16
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/03/29 13:39:14 jasper Exp $
d10 1
a10 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=libungif/}
@


1.15
log
@make post-install readable again,
some minor cosmestics,
and reformat DESCR while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/10/19 13:26:40 naddy Exp $
d3 1
a3 1
COMMENT=	"tools and library routines for working with GIF images"
@


1.14
log
@Fix NULL dereference in giftext.
From: William Yodlowsky <bsd@@openbsd.rutgers.edu>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/01/08 00:29:38 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d16 1
a16 1
PERMIT_DISTFILES_CDROM=	Yes
d20 11
a30 9
USE_LIBTOOL=	Yes
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.59
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --without-x

DOCS=	README UNCOMPRESSED_GIF
HTMLDOCS= *.html *.txt *.png
DOCSDIR= ${PREFIX}/share/doc/libungif
a38 2
	${INSTALL_DATA_DIR} ${DOCSDIR}
	cd ${WRKSRC}; ${INSTALL_DATA} ${DOCS} ${DOCSDIR}
d40 6
a45 1
	cd ${WRKSRC}/doc; ${INSTALL_DATA} ${HTMLDOCS} ${DOCSDIR}/html
@


1.13
log
@remove MODGNU_SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/12/26 19:38:06 steven Exp $
d6 1
@


1.12
log
@SHARED_LIBS
ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/11/09 21:17:20 brad Exp $
d6 2
a7 4
SHARED_LIBS=		gif	5.4	\
			ungif	5.4
MODGNU_SHARED_LIBS=	gif	''	\
			ungif	''
@


1.11
log
@upgrade to libungif 4.1.4

Two vulnerabilities were identified in libungif,
which could be exploited by remote attackers to
execute arbitrary commands or cause a denial of
service.

CVE-2005-2974 and CVE-2005-3350

ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/11/03 18:28:55 naddy Exp $
d6 4
d33 2
a34 4
	for f in libungif.a libungif.so.5.4; do \
		g=`echo $$f | sed -e s#libungif#libgif#g`; \
		ln -sf $$f $$g; \
	done && \
@


1.10
log
@Always explicitly set the AUTOCONF_VERSION to use.  In some cases
the default was not appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/10/30 00:10:41 fgsch Exp $
d5 1
a5 1
DISTNAME=	libungif-4.1.0b1
a7 1
EXTRACT_SUFX=	.tar.bz2
d17 1
a17 1
AUTOCONF_VERSION=2.13
d19 1
d23 1
a23 5
PATCH_LIST=	${PORTSDIR}/infrastructure/patches/patch-lt1.3.3-ltconfig \
		${PORTSDIR}/infrastructure/patches/patch-lt1.3.3-ltmain_sh \
		patch-*

DOCS=	COPYING UNCOMPRESSED_GIF
d29 1
a29 1
	for f in libungif.a libungif.so.5.0; do \
@


1.9
log
@after querying brad@@ he decided to drop maintainership for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/11/30 01:06:37 espie Exp $
d18 1
@


1.8
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/04/18 20:58:45 brad Exp $
a10 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.8.2.1
log
@MFC:
upgrade to libungif 4.1.4

Two vulnerabilities were identified in libungif,
which could be exploited by remote attackers to
execute arbitrary commands or cause a denial of
service.

CVE-2005-2974 and CVE-2005-3350
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/11/30 01:06:37 espie Exp $
d5 1
a5 1
DISTNAME=	libungif-4.1.4
d8 1
a19 1
USE_LIBTOOL=	Yes
a20 1
AUTOCONF_VERSION=2.59
d24 5
a28 1
DOCS=	README UNCOMPRESSED_GIF
d34 1
a34 1
	for f in libungif.a libungif.so.5.4; do \
@


1.8.4.1
log
@MFC:
upgrade to libungif 4.1.4

Two vulnerabilities were identified in libungif,
which could be exploited by remote attackers to
execute arbitrary commands or cause a denial of
service.

CVE-2005-2974 and CVE-2005-3350
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/11/30 01:06:37 espie Exp $
d5 1
a5 1
DISTNAME=	libungif-4.1.4
d8 1
a19 1
USE_LIBTOOL=	Yes
a20 1
AUTOCONF_VERSION=2.59
d24 5
a28 1
DOCS=	README UNCOMPRESSED_GIF
d34 1
a34 1
	for f in libungif.a libungif.so.5.4; do \
@


1.7
log
@- don't need --enable-static
- remove auto* tools kludge; reminded by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/04/04 14:10:09 brad Exp $
d18 1
@


1.6
log
@working distsite/homepage.
--
From: Robert Nagy <thuglife at bsd dot hu>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/08/21 14:46:52 naddy Exp $
d21 1
a21 1
CONFIGURE_ARGS+= --enable-static --without-x
a29 4

pre-build:
	@@touch ${WRKSRC}/aclocal.m4
	@@find ${WRKSRC} -name 'Makefile.in' -print | xargs touch
@


1.5
log
@* Use appropriate owners/groups from bsd.own.mk.
* Remove obsolete WWW lines while we're here.

From: Xavier Santolaria <xavier@@santolaria.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/04/14 15:02:09 wilfried Exp $
d7 2
a8 1
MASTER_SITES=	ftp://ftp.ayamura.org/pub/graphics/
d10 1
a10 1
HOMEPAGE=	http://prtr-13.ucsc.edu/~badger/software/libungif/index.shtml
@


1.4
log
@POSIX chown, ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/10/31 05:28:20 brad Exp $
d41 1
a41 1
	chown root:bin libgif.la && \
@


1.3
log
@use a working dist site.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/03/11 05:17:33 brad Exp $
d41 1
a41 1
	chown root.bin libgif.la && \
@


1.2
log
@Modify autoconf so it does not try to detect libX11 if X support has been
disabled, sometimes it is possible for it to still detect libX11 and this
will cause the build to fail.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/11/02 21:13:35 brad Exp $
d7 1
a7 2
NEED_VERSION=	1.500
MASTER_SITES=	ftp://prtr-13.ucsc.edu/pub/libungif/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/08/21 19:36:08 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.475
d19 1
a19 1
CONFIGURE_STYLE= gnu
@


1.1.1.1
log
@add libungif 4.1.0b1 port
--
GIF loading and saving library. (Saving uses an uncompressed GIF
algorithm that does not use LZW compression.)
@
text
@@
