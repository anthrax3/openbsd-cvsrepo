head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.4
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.6
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.4
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.1.1.1.0.6
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.4
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.2
	OPENBSD_5_2_BASE:1.1.1.1
	bentley_20120227:1.1.1.1
	bentley:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2015.12.24.21.54.09;	author mmcc;	state Exp;
branches;
next	1.3;
commitid	sgrGEUWSVIZw0xz6;

1.3
date	2015.04.16.10.27.26;	author jung;	state Exp;
branches;
next	1.2;
commitid	Sourp2oMJ7PnW5jv;

1.2
date	2013.11.18.17.01.11;	author jung;	state Exp;
branches;
next	1.1;

1.1
date	2012.02.27.08.45.50;	author bentley;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.02.27.08.45.50;	author bentley;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update 1.3.1 -> 1.3.2

From Michael Reed. ok jung@@
@
text
@$OpenBSD: patch-Makefile,v 1.3 2015/04/16 10:27:26 jung Exp $
--- Makefile.orig	Sun Dec 20 07:21:25 2015
+++ Makefile	Wed Dec 23 20:01:02 2015
@@@@ -11,11 +11,11 @@@@ LIBS      := -lX11 -lImlib2
 
 # optional dependencies:
 # giflib: gif animations
-	CPPFLAGS += -DHAVE_GIFLIB
-	LIBS     += -lgif
+CPPFLAGS += -DHAVE_GIFLIB
+LIBS     += -lgif
 # libexif: jpeg auto-orientation, exif thumbnails
-	CPPFLAGS += -DHAVE_LIBEXIF
-	LIBS     += -lexif
+CPPFLAGS += -DHAVE_LIBEXIF
+LIBS     += -lexif
 
 
 .PHONY: clean install uninstall
@@@@ -30,7 +30,7 @@@@ $(OBJ): Makefile
 
 -include $(DEP)
 
-%.o: %.c
+.c.o:
 	$(CC) $(CFLAGS) $(CPPFLAGS) -DVERSION=\"$(VERSION)\" -MMD -MP -c -o $@@ $<
 
 config.h:
@@@@ -43,15 +43,15 @@@@ clean:
 	rm -f $(OBJ) $(DEP) sxiv
 
 install: all
-	mkdir -p $(DESTDIR)$(PREFIX)/bin
-	cp sxiv $(DESTDIR)$(PREFIX)/bin/
-	chmod 755 $(DESTDIR)$(PREFIX)/bin/sxiv
-	mkdir -p $(DESTDIR)$(MANPREFIX)/man1
-	sed "s!PREFIX!$(PREFIX)!g; s!VERSION!$(VERSION)!g" sxiv.1 > $(DESTDIR)$(MANPREFIX)/man1/sxiv.1
-	chmod 644 $(DESTDIR)$(MANPREFIX)/man1/sxiv.1
-	mkdir -p $(DESTDIR)$(PREFIX)/share/sxiv/exec
-	cp exec/* $(DESTDIR)$(PREFIX)/share/sxiv/exec/
-	chmod 755 $(DESTDIR)$(PREFIX)/share/sxiv/exec/*
+	${BSD_INSTALL_PROGRAM_DIR} ${DESTDIR}${PREFIX}/bin
+	${BSD_INSTALL_PROGRAM} sxiv ${DESTDIR}${PREFIX}/bin
+	${BSD_INSTALL_MAN_DIR} ${DESTDIR}${MANPREFIX}/man1
+	sed "s!PREFIX!$(PREFIX)!g; s!VERSION!$(VERSION)!g" sxiv.1 > sxiv.1.tmp
+	mv sxiv.1.tmp sxiv.1
+	${BSD_INSTALL_MAN} sxiv.1 ${DESTDIR}${MANPREFIX}/man1
+	${BSD_INSTALL_DATA_DIR} ${DESTDIR}${PREFIX}/share/examples/sxiv
+	${BSD_INSTALL_DATA} exec/image-info ${DESTDIR}${PREFIX}/share/examples/sxiv
+	${BSD_INSTALL_DATA} exec/key-handler ${DESTDIR}${PREFIX}/share/examples/sxiv
 
 uninstall:
 	rm -f $(DESTDIR)$(PREFIX)/bin/sxiv
@


1.3
log
@update sxiv to 1.3.1

ok czarkoff@@ kirby@@
looks fine ajacoutot@@
@
text
@d1 20
a20 4
$OpenBSD: patch-Makefile,v 1.2 2013/11/18 17:01:11 jung Exp $
--- Makefile.orig	Sun Nov 16 21:38:30 2014
+++ Makefile	Wed Apr 15 23:09:54 2015
@@@@ -19,7 +19,7 @@@@ $(OBJ): Makefile
d29 1
a29 1
@@@@ -32,15 +32,15 @@@@ clean:
@


1.2
log
@update sxiv to 1.1.1

ok bentley@@
@
text
@d1 14
a14 5
$OpenBSD: patch-Makefile,v 1.1.1.1 2012/02/27 08:45:50 bentley Exp $
--- Makefile.orig	Sun Jun  2 12:04:40 2013
+++ Makefile	Sat Oct 19 16:18:10 2013
@@@@ -28,15 +28,14 @@@@ clean:
 	rm -f $(OBJ) sxiv
d24 2
a25 2
-	cp image-info $(DESTDIR)$(PREFIX)/share/sxiv/exec/image-info
-	chmod 755 $(DESTDIR)$(PREFIX)/share/sxiv/exec/image-info
d33 2
a34 1
+	${BSD_INSTALL_DATA} image-info ${DESTDIR}${PREFIX}/share/examples/sxiv
@


1.1
log
@Initial revision
@
text
@d1 5
a5 4
$OpenBSD$
--- Makefile.orig	Mon Oct 31 08:56:58 2011
+++ Makefile	Mon Feb 27 01:16:58 2012
@@@@ -22,12 +22,12 @@@@ options:
d7 18
a24 14
 .c.o:
 	@@echo "CC $<"
-	@@$(CC) $(CFLAGS) -DVERSION=\"$(VERSION)\" -c -o $@@ $<
+	$(CC) $(CFLAGS) -DVERSION=\"$(VERSION)\" -c -o $@@ $<
 
 $(OBJ) config: Makefile config.h
 
 config: config.c
-	@@$(CC) $(CFLAGS) -o $@@ $@@.c
+	$(CC) $(CFLAGS) -o $@@ $@@.c
 
 config.h:
 	@@echo "creating $@@ from config.def.h"
@@@@ -35,7 +35,7 @@@@ config.h:
d26 2
a27 16
 sxiv:	$(OBJ) config
 	@@echo "CC -o $@@"
-	@@$(CC) $(LDFLAGS) -o $@@ $(OBJ) $(LIBS) $$(./config -l)
+	$(CC) $(LDFLAGS) -o $@@ $(OBJ) $(LIBS) $$(./config -l)
 
 clean:
 	@@echo "cleaning"
@@@@ -52,7 +52,7 @@@@ dist: clean
 
 install: all
 	@@echo "installing executable file to $(DESTDIR)$(PREFIX)/bin"
-	@@install -D -m 755 sxiv $(DESTDIR)$(PREFIX)/bin/sxiv
+	@@install -m 755 sxiv $(DESTDIR)$(PREFIX)/bin/sxiv
 	@@echo "installing manual page to $(DESTDIR)$(MANPREFIX)/man1"
 	@@mkdir -p $(DESTDIR)$(MANPREFIX)/man1
 	@@sed "s/VERSION/$(VERSION)/g" sxiv.1 > $(DESTDIR)$(MANPREFIX)/man1/sxiv.1
@


1.1.1.1
log
@Import sxiv-1.0.

sxiv is an alternative to feh and qiv. Its only dependencies besides
xlib are imlib2 and giflib. The primary goal for writing sxiv is to
create an image viewer, which only has the most basic features required
for fast image viewing (the ones I want). It has vi key bindings and
works nicely with tiling window managers. Its code base should be kept
small and clean to make it easy for you to dig into it and customize it
for your needs.

From Matthew Via, with tweaks by me/Antoine. ok ajacoutot@@
@
text
@@
