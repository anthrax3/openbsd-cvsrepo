head	1.54;
access;
symbols
	OPENBSD_6_1:1.48.0.2
	OPENBSD_6_1_BASE:1.48
	OPENBSD_6_0:1.46.0.2
	OPENBSD_6_0_BASE:1.46
	OPENBSD_5_9:1.42.0.2
	OPENBSD_5_9_BASE:1.42
	OPENBSD_5_8:1.40.0.4
	OPENBSD_5_8_BASE:1.40
	OPENBSD_5_7:1.39.0.2
	OPENBSD_5_7_BASE:1.39
	OPENBSD_5_6:1.34.0.2
	OPENBSD_5_6_BASE:1.34
	OPENBSD_5_5:1.31.0.2
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.29.0.2
	OPENBSD_5_4_BASE:1.29
	OPENBSD_5_3:1.25.0.2
	OPENBSD_5_3_BASE:1.25
	OPENBSD_5_2:1.24.0.2
	OPENBSD_5_2_BASE:1.24
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.2
	OPENBSD_5_0:1.21.0.4
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.21.0.2
	OPENBSD_4_9_BASE:1.21
	OPENBSD_4_8:1.18.0.4
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.2
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.17.0.2
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.16.0.2
	OPENBSD_4_5_BASE:1.16
	OPENBSD_4_4:1.14.0.2
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.12.0.2
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.11.0.2
	OPENBSD_4_1_BASE:1.11
	OPENBSD_4_0:1.10.0.2
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.9.0.2
	OPENBSD_3_9_BASE:1.9
	OPENBSD_3_8:1.7.0.2
	OPENBSD_3_8_BASE:1.7
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.4.0.2
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2
	asl:1.1.1.1
	libgphoto2:1.1.1;
locks; strict;
comment	@# @;


1.54
date	2017.09.29.20.53.48;	author naddy;	state Exp;
branches;
next	1.53;
commitid	NKbi7IVKFqpiDU0S;

1.53
date	2017.09.29.09.07.29;	author sthen;	state Exp;
branches;
next	1.52;
commitid	G6wm67UWzNaBNbRL;

1.52
date	2017.09.28.05.57.21;	author dcoppa;	state Exp;
branches;
next	1.51;
commitid	xM8PW1i3EGrSMhKK;

1.51
date	2017.06.06.08.45.02;	author ajacoutot;	state Exp;
branches;
next	1.50;
commitid	zbN9prCF41fKOPsK;

1.50
date	2017.05.15.19.56.03;	author rsadowski;	state Exp;
branches;
next	1.49;
commitid	9o62ZeM7dBsDrb2c;

1.49
date	2017.04.10.18.11.03;	author ajacoutot;	state Exp;
branches;
next	1.48;
commitid	KSA6DyQ4G0z7zfrz;

1.48
date	2017.01.06.08.49.52;	author ajacoutot;	state Exp;
branches;
next	1.47;
commitid	7K8D0f12fPWcsAzB;

1.47
date	2016.11.21.09.26.59;	author ajacoutot;	state Exp;
branches;
next	1.46;
commitid	6a44ofKvbAPSb5bn;

1.46
date	2016.06.25.12.36.34;	author sthen;	state Exp;
branches;
next	1.45;
commitid	GnZ7R9aAQTDZgq1D;

1.45
date	2016.03.24.09.48.17;	author ajacoutot;	state Exp;
branches;
next	1.44;
commitid	fjlaLsqYo6c21YIJ;

1.44
date	2016.03.18.21.38.24;	author naddy;	state Exp;
branches;
next	1.43;
commitid	BVkebQSTXSZokeRG;

1.43
date	2016.03.11.20.28.26;	author naddy;	state Exp;
branches;
next	1.42;
commitid	UYLP8TE6V7RS2GhJ;

1.42
date	2015.11.19.07.16.24;	author ajacoutot;	state Exp;
branches;
next	1.41;
commitid	6exCd77TQxSwRGYH;

1.41
date	2015.09.19.18.47.00;	author ajacoutot;	state Exp;
branches;
next	1.40;
commitid	W5rRvjHdLAN6CsF3;

1.40
date	2015.07.07.10.29.05;	author ajacoutot;	state Exp;
branches;
next	1.39;
commitid	QG5qHWLIaXbIvOva;

1.39
date	2015.01.19.14.02.09;	author ajacoutot;	state Exp;
branches;
next	1.38;
commitid	ZrYWpyjsnh31DUPk;

1.38
date	2014.12.22.14.26.01;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	nO7eD4RowZL8EnOm;

1.37
date	2014.10.08.12.06.21;	author ajacoutot;	state Exp;
branches;
next	1.36;
commitid	JvoLhtQaWm2FieXg;

1.36
date	2014.09.04.10.43.07;	author ajacoutot;	state Exp;
branches;
next	1.35;
commitid	WDsoe0o8sF17NMlb;

1.35
date	2014.08.30.09.37.26;	author ajacoutot;	state Exp;
branches;
next	1.34;
commitid	gPARnk7sr4Ru1WBR;

1.34
date	2014.03.24.11.06.38;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2014.03.18.08.40.14;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2014.03.17.23.21.26;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2013.11.15.10.21.29;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.10.11.23.49.48;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2013.05.08.09.10.39;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.03.31.13.47.42;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.03.21.08.45.18;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2013.03.11.11.10.53;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2013.01.19.11.21.44;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2012.02.27.13.46.10;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2011.11.13.17.15.31;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2011.11.13.13.54.04;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.17.08.05.14;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.09.18.22.26;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.18.18.13.14;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2009.11.09.08.04.05;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.05.08.08.05.53;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2009.02.01.11.04.11;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2008.12.08.14.20.10;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2008.06.18.11.43.39;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2007.10.19.12.57.51;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2007.08.05.08.27.55;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches
	1.11.2.1;
next	1.10;

1.10
date	2006.07.08.21.03.54;	author ckuethe;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2006.01.08.10.14.27;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2005.12.29.13.16.32;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2005.05.16.17.44.01;	author robert;	state Exp;
branches;
next	1.6;

1.6
date	2005.02.14.19.41.11;	author alek;	state Exp;
branches;
next	1.5;

1.5
date	2004.11.30.01.06.37;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2004.04.14.18.39.57;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2004.01.16.01.10.47;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2003.05.19.16.08.19;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2003.04.09.23.55.01;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.04.09.23.55.01;	author espie;	state Exp;
branches;
next	;

1.10.2.1
date	2007.08.09.17.16.46;	author ajacoutot;	state Exp;
branches;
next	;

1.11.2.1
date	2007.08.05.08.46.26;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.54
log
@avoid triggering autotools cascade after patching configure.ac
@
text
@# $OpenBSD: Makefile,v 1.53 2017/09/29 09:07:29 sthen Exp $

COMMENT=		digital camera library

VERSION=		2.5.14
DISTNAME=		libgphoto2-${VERSION}
PKGNAME=		libgphoto-${VERSION}
REVISION=		0

GPHOTO2_PORT_API=	0.12.0
SUBST_VARS=		GPHOTO2_PORT_API VERSION

CATEGORIES=		graphics devel

SHARED_LIBS +=  gphoto2_port         8.1      # 12.0
SHARED_LIBS +=  gphoto2              4.2      # 6.0

HOMEPAGE=		http://www.gphoto.org/

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2.1
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c exif expat fontconfig freetype gd iconv intl jpeg
WANTLIB += ltdl lzma m png pthread pthread-stubs tiff usb usb-1.0
WANTLIB += webp xml2 z

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=gphoto/}

LIB_DEPENDS=		graphics/gd \
			graphics/libexif \
			devel/libusb-compat \
			devel/libtool,-ltdl \
			textproc/libxml

CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.69
AUTOCONF_DIR=		${WRKSRC} ${WRKSRC}/libgphoto2_port
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
			ac_cv_path_DOXYGEN=false

CONFIGURE_ARGS=		--enable-static \
			--without-hal \
			--without-bonjour

# XXX libusb1 is broken
CONFIGURE_ARGS +=	--with-libusb-1.0=no

# /usr/local/lib/libiconv.a(localcharset.o)(.text+0x0): In function `locale_charset':
# multiple definition of `locale_charset'
MAKE_FLAGS=		INTLLIBS='$$(LTLIBINTL)'

# avoid triggering autotools cascade after patching configure.ac
pre-configure:
	@@for d in ${AUTOCONF_DIR}; do \
	    touch -r $$d/aclocal.m4 $$d/configure.ac; \
	done

post-install:
	rm ${PREFIX}/lib/libgphoto2/${VERSION}/*.{a,la}
	rm ${PREFIX}/lib/libgphoto2_port/${GPHOTO2_PORT_API}/*.{a,la}
	rm -rf ${PREFIX}/lib/udev
	mv ${PREFIX}/share/doc/libgphoto2_port \
		${PREFIX}/share/doc/libgphoto2

.include <bsd.port.mk>
@


1.53
log
@needs aclocal, may need libtool.m4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2017/09/28 05:57:21 dcoppa Exp $
d37 1
a37 1
CONFIGURE_STYLE=	autoconf automake
d39 1
a39 2
AUTOMAKE_VERSION=	1.15
BUILD_DEPENDS=		devel/libtool
d55 1
d57 3
a59 2
	@@cd ${WRKSRC}/libgphoto2_port ; env PATH=${PORTPATH} \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} autoconf
@


1.52
log
@
Unbreak autoconf check with clang by not using nested function.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2017/06/06 08:45:02 ajacoutot Exp $
d37 1
a37 1
CONFIGURE_STYLE=	autoconf
d39 2
@


1.51
log
@Update to libgphoto-2.5.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2017/05/15 19:56:03 rsadowski Exp $
d8 1
d37 2
a38 1
CONFIGURE_STYLE=	gnu
d53 4
@


1.50
log
@Bump REVISION and adjust WANTLIB after gd update

ok sthen@@, "looks okay" @@landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2017/04/10 18:11:03 ajacoutot Exp $
d5 1
a5 1
VERSION=		2.5.13
a7 1
REVISION=		0
d14 1
a14 1
SHARED_LIBS +=  gphoto2_port         8.0      # 12.0
@


1.49
log
@Update to libgphoto-2.5.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2017/01/06 08:49:52 ajacoutot Exp $
d8 1
d27 1
a27 1
WANTLIB += vpx xml2 z
@


1.48
log
@Update to libgphoto-2.5.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2016/11/21 09:26:59 ajacoutot Exp $
d5 1
a5 1
VERSION=		2.5.12
@


1.47
log
@Update to libgphoto-2.5.11.
- drop the gettext MODULE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2016/06/25 12:36:34 sthen Exp $
d5 1
a5 1
VERSION=		2.5.11
@


1.46
log
@bump revision (missed, I did previous commit from patches/)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2016/03/24 09:48:17 ajacoutot Exp $
d5 1
a5 1
VERSION=		2.5.10
a7 1
REVISION=		0
d24 3
a26 2
WANTLIB += c exif expat fontconfig freetype gd jpeg ltdl lzma usb
WANTLIB += m png pthread pthread-stubs tiff usb-1.0 vpx xml2 z
a29 2
MODULES=		devel/gettext

d49 1
a49 1
# : multiple definition of `locale_charset'
@


1.45
log
@Update to libgphoto-2.5.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2016/03/18 21:38:24 naddy Exp $
d8 1
@


1.44
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2016/03/11 20:28:26 naddy Exp $
d5 1
a5 1
VERSION=		2.5.9
@


1.43
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.42 2015/11/19 07:16:24 ajacoutot Exp $

SHARED_ONLY=		Yes
@


1.42
log
@Update to libgphoto-2.5.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2015/09/19 18:47:00 ajacoutot Exp $
d44 1
a44 2
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
			--enable-static \
@


1.41
log
@Our libusb1 is broken, so use libusb-compat instead.

breakage reported by Alessandro DE LAURENZIS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/07/07 10:29:05 ajacoutot Exp $
d7 1
a7 1
VERSION=		2.5.8
a9 1
REVISION=		0
@


1.40
log
@Update to libgphoto-2.5.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2015/01/19 14:02:09 ajacoutot Exp $
d10 1
d27 1
a27 1
WANTLIB += c exif expat fontconfig freetype gd jpeg ltdl lzma
d36 1
a36 1
			devel/libusb1 \
d49 3
@


1.39
log
@Bugfix update to libgphoto-2.5.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2014/12/22 14:26:01 ajacoutot Exp $
d7 1
a7 1
VERSION=		2.5.7
d27 1
a27 2
WANTLIB += m png pthread pthread-stubs tiff usb usb-1.0 vpx xml2
WANTLIB += z
d35 1
a35 1
			devel/libusb-compat \
@


1.38
log
@Update to libgphoto-2.5.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2014/10/08 12:06:21 ajacoutot Exp $
d7 1
a7 1
VERSION=		2.5.6
@


1.37
log
@Trailing whitespace.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2014/09/04 10:43:07 ajacoutot Exp $
d3 1
a3 2
COMMENT =	digital camera library
CATEGORIES =	graphics devel
d5 1
a5 1
MAINTAINER =	Antoine Jacoutot <ajacoutot@@openbsd.org>
d7 3
a9 4
VERSION =	2.5.5.1
DISTNAME =	libgphoto2-${VERSION}
PKGNAME =	libgphoto-${VERSION}
REVISION =	0
d11 6
a16 1
SHARED_LIBS +=  gphoto2_port         7.0      # 11.1
d19 1
a19 1
HOMEPAGE =	http://www.gphoto.org/
d21 1
a21 1
MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=gphoto/}
d24 7
a30 1
PERMIT_PACKAGE_CDROM =		Yes
d32 1
a32 2
WANTLIB += c exif expat fontconfig freetype gd jpeg ltdl m png
WANTLIB += pthread pthread-stubs tiff usb usb-1.0 vpx xml2 z
d34 5
a38 1
MAKE_FLAGS =		INTLLIBS='$$(LTLIBINTL)'
d40 2
a41 2
CONFIGURE_STYLE =	gnu
CONFIGURE_ENV =		CPPFLAGS="-I${LOCALBASE}/include" \
d44 2
a45 1
CONFIGURE_ARGS =	${CONFIGURE_SHARED} \
d50 3
a52 8
SUBST_VARS =		VERSION

MODULES =		devel/gettext
LIB_DEPENDS =		graphics/gd \
			graphics/libexif \
			devel/libusb-compat \
			devel/libtool,-ltdl \
			textproc/libxml
a53 1
# cleanup
d56 1
a56 1
	rm ${PREFIX}/lib/libgphoto2_port/0.10.0/*.{a,la}
a59 1
	rm ${PREFIX}/share/doc/libgphoto2/{ABOUT-NLS,AUTHORS,COPYING,ChangeLog,NEWS,README.packaging}
@


1.36
log
@Update to libgphoto-2.5.5.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2014/08/30 09:37:26 ajacoutot Exp $
d11 1
@


1.35
log
@Update to libgphoto-2.5.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2014/03/24 11:06:38 ajacoutot Exp $
d8 1
a8 1
VERSION =	2.5.5
@


1.34
log
@Update to libgphoto-2.5.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2014/03/18 08:40:14 ajacoutot Exp $
d8 1
a8 1
VERSION =	2.5.4
@


1.33
log
@Update to libgphoto-2.5.3.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/11/15 10:21:29 ajacoutot Exp $
d8 1
a8 1
VERSION =	2.5.3.1
@


1.32
log
@sync follow graphics/gd update
@
text
@d8 1
a8 2
VERSION =	2.5.2
REVISION =	0
d13 1
a13 1
SHARED_LIBS +=  gphoto2              4.1      # 6.0
d23 1
a23 1
WANTLIB += pthread pthread-stubs tiff usb usb-1.0 vpx z
d42 2
a43 1
			devel/libtool,-ltdl
@


1.31
log
@Delete these patches; no pkg change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/10/11 23:49:48 naddy Exp $
d9 1
d24 1
a24 1
WANTLIB += pthread pthread-stubs usb usb-1.0 z
@


1.30
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/05/08 09:10:39 ajacoutot Exp $
d51 1
@


1.29
log
@Update to libgphoto-2.5.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/03/31 13:47:42 ajacoutot Exp $
a26 1
USE_GROFF =		Yes
@


1.28
log
@Minor update to libgphoto-2.5.1.
Take maintainer.

ok espie@@ (former maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/03/21 08:45:18 ajacoutot Exp $
d8 1
a8 1
VERSION =	2.5.1
d11 3
a13 2
SHARED_LIBS +=  gphoto2_port         7.0      # 10.0
SHARED_LIBS +=  gphoto2              4.0      # 6.0
@


1.27
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/03/11 11:10:53 espie Exp $
d6 1
a6 1
MAINTAINER =	Marc Espie <espie@@openbsd.org>
d8 1
a8 1
VERSION =	2.5.0
d22 1
a22 1
WANTLIB += pthread usb usb-1.0 z
@


1.26
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/01/19 11:21:44 ajacoutot Exp $
a25 1
USE_LIBTOOL =		Yes
@


1.25
log
@Major update to libgphoto-2.5.0.

ok espie@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/02/27 13:46:10 ajacoutot Exp $
a18 1
PERMIT_PACKAGE_FTP =		Yes
a19 2
PERMIT_DISTFILES_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
@


1.24
log
@Includes netinet/in along with arpa/inet.h to prevent warnings vomit
during build.

ok espie@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/11/13 17:15:31 ajacoutot Exp $
d8 1
a8 1
VERSION =	2.4.11
d11 2
a12 3
REVISION =	0
SHARED_LIBS +=	gphoto2		3.1 # 6.0
SHARED_LIBS +=	gphoto2_port	6.0 # 8.0
d18 1
a18 1
# LGPLv2
d24 2
a25 1
WANTLIB += c exif jpeg ltdl m pthread usb usb-1.0
d33 1
a33 1
			LDFLAGS="-L${LOCALBASE}/lib" \
d43 2
a44 2
LIB_DEPENDS =		graphics/libexif \
			graphics/jpeg \
d50 2
a51 1
	rm -rf ${PREFIX}/lib/libgphoto2/${VERSION}/*.{a,la}
d53 2
@


1.23
log
@Update to libgphoto-2.4.11.
* lots of driver updates

ok espie@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/11/13 13:54:04 ajacoutot Exp $
d11 1
@


1.22
log
@Sync dependencies after move from libusb to libusb-compat and fix a
couple of fallouts. Note that these ports are only the ones that used to
have a direct dependency on devel/libusb so there may be some other
hidden ports that may break because of the switch. If that's the case,
no need to start ranting all over but instead tell me which one(s)
break. Thanks.

Note: sysutils/nut hasn't been fixed yet but will be today.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/17 08:05:14 espie Exp $
d8 1
a8 1
VERSION =	2.4.7
a13 2
REVISION =	0

d24 1
a24 1
WANTLIB =		c m usb-1.0 exif jpeg usb ltdl
d46 5
@


1.21
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/09 18:22:26 espie Exp $
d14 2
d26 1
a26 1
WANTLIB =		c m
d46 1
a46 1
			devel/libusb \
a48 1
WANTLIB +=		exif jpeg usb ltdl>=4
@


1.20
log
@WANTLIB conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/18 18:13:14 espie Exp $
d42 4
a45 4
LIB_DEPENDS =		::graphics/libexif \
			::graphics/jpeg \
			::devel/libusb \
			::devel/libtool,-ltdl
d47 1
a47 1
WANTLIB +=		exif jpeg usb ltdl.>=4
@


1.19
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/11/09 08:04:05 ajacoutot Exp $
d3 2
a4 2
COMMENT=	digital camera library
CATEGORIES=	graphics devel
d6 1
a6 1
MAINTAINER=	Marc Espie <espie@@openbsd.org>
d8 5
a12 5
VERSION=	2.4.7
DISTNAME=	libgphoto2-${VERSION}
PKGNAME=	libgphoto-${VERSION}
SHARED_LIBS+=	gphoto2		3.1 # 6.0
SHARED_LIBS+=	gphoto2_port	6.0 # 8.0
d14 1
a14 1
HOMEPAGE=	http://www.gphoto.org/
d16 1
a16 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=gphoto/}
d19 13
a31 13
PERMIT_PACKAGE_FTP=	Yes
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes

WANTLIB=		c m

MAKE_FLAGS=		INTLLIBS='$$(LTLIBINTL)'

USE_LIBTOOL=		Yes
USE_GROFF =	Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
d34 1
a34 1
CONFIGURE_ARGS=		${CONFIGURE_SHARED} \
d39 1
a39 1
SUBST_VARS=		VERSION
d41 5
a45 5
MODULES=		devel/gettext
LIB_DEPENDS=		exif::graphics/libexif \
			jpeg::graphics/jpeg \
			usb::devel/libusb \
			ltdl.>=4::devel/libtool,-ltdl
d47 1
@


1.18
log
@Minor update to libgphoto-2.4.7.
* mostly bug fixes and support for new hardware

ok espie@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/05/08 08:05:53 ajacoutot Exp $
d29 1
@


1.17
log
@- update to libgphoto-2.4.5
- explicitely set some configure switches

"if it works, go ahead" espie@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/02/01 11:04:11 ajacoutot Exp $
d8 1
a8 1
VERSION=	2.4.5
d25 2
@


1.16
log
@- maintenance update to libgphoto-2.4.4
several bugfixes and updated translations

looks okay to espie@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/12/08 14:20:10 ajacoutot Exp $
d8 1
a8 1
VERSION=	2.4.4
d32 3
a34 1
			--enable-static
@


1.15
log
@- update libgphoto to version 2.4.3
this is a maintenance release

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/06/18 11:43:39 ajacoutot Exp $
d8 1
a8 1
VERSION=	2.4.3
@


1.14
log
@- update to libgphoto2-2.4.1

tested by landry@@ (i386) and myself (macppc)
"go for it if it works" espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/10/19 12:57:51 ajacoutot Exp $
d8 1
a8 1
VERSION=	2.4.1
d11 1
a11 1
SHARED_LIBS+=	gphoto2		3.0 # 5.0
d23 1
@


1.13
log
@- monster update to 2.4.0
- enable localizations
- remove Arnaud Launay from MAINTAINER (timeout) ; leave espie@@ though ;)

feedback and testing sthen@@ landry@@, thanks guys!
ok sthen@@ landry@@ jasper@@, "go ahead" espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/08/05 08:27:55 ajacoutot Exp $
d8 1
a8 1
VERSION=	2.4.0
d18 1
a18 1
# GPL
@


1.12
log
@- bump PKGNAME so that libgphoto can deal with new libexif
(libexif had a SHARED_LIBS minor version bump and for some reason,
libgphoto2 is not able to link against it without recompilation)
needed for -stable

ok sturm@@, pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/12/16 12:22:33 espie Exp $
d6 1
a6 1
MAINTAINER=	Marc Espie <espie@@openbsd.org>, Arnaud Launay <asl@@launay.org>
d8 1
a8 1
VERSION=	2.1.5
d10 3
a12 3
PKGNAME=	libgphoto-${VERSION}p2
SHARED_LIBS=	gphoto2		2.3 \
		gphoto2_port	5.1
d23 1
a23 1
WANTLIB=		m
d26 1
a26 4
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.57
SEPARATE_BUILD=		simple
CONFIGURE_ARGS=		--disable-nls
d28 4
a31 1
			LDFLAGS="-L${LOCALBASE}/lib"
d38 2
a39 1
			usb::devel/libusb
@


1.11
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/07/08 21:03:54 ckuethe Exp $
d3 1
a3 1
COMMENT=	'digital camera library'
d10 1
a10 1
PKGNAME=	libgphoto-${VERSION}p1
@


1.11.2.1
log
@MFC:
- bump PKGNAME so that libgphoto can deal with new libexif
(libexif had a SHARED_LIBS minor version bump and for some reason,
libgphoto2 is not able to link against it without recompilation)

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/12/16 12:22:33 espie Exp $
d10 1
a10 1
PKGNAME=	libgphoto-${VERSION}p2
@


1.10
log
@Update libgphoto to deal with new libexif. Prompted by Steven.
ok sturm ("go ahead, i'll yell at you if you break anything")
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/01/08 10:14:27 steven Exp $
a38 1
BUILD_DEPENDS=		::devel/pkgconfig
@


1.10.2.1
log
@MFC:
- bump PKGNAME so that libgphoto can deal with new libexif
(libexif had a SHARED_LIBS minor version bump and for some reason,
libgphoto2 is not able to link against it without recompilation)

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2006/07/08 21:03:54 ckuethe Exp $
d10 1
a10 1
PKGNAME=	libgphoto-${VERSION}p2
@


1.9
log
@remove MODGNU_SHARED_LIBS and old libtool patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/12/29 13:16:32 steven Exp $
d10 1
a10 1
PKGNAME=	libgphoto-${VERSION}p0
@


1.8
log
@SHARED_LIBS and USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/05/16 17:44:01 robert Exp $
d11 2
a12 5

SHARED_LIBS=		gphoto2			2.3	\
			gphoto2_port		5.1
MODGNU_SHARED_LIBS=	gphoto2			''	\
			gphoto2_port		''	
@


1.7
log
@upgrade to version 2.1.5;
from steven mestdagh <steven.mestdagh@@esat.kuleuven.ac.be>
fixes from alek@@; regen the patches while I am here

ok alek@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/02/14 19:41:11 alek Exp $
d10 6
a15 1
PKGNAME=	libgphoto-${VERSION}
d28 1
@


1.6
log
@- Don't use included libintl headers
- Use MODULES=devel/gettext instead of WANTLIB
- Bump PKGNAME

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/11/30 01:06:37 espie Exp $
d8 1
a8 1
VERSION=	2.1.4
d10 1
a10 1
PKGNAME=	libgphoto-${VERSION}p0
d12 1
a12 1
HOMEPAGE=	http://gphoto.sourceforge.net/
@


1.5
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/04/14 18:39:57 brad Exp $
d10 1
a10 1
PKGNAME=	libgphoto-${VERSION}
d21 1
a21 1
WANTLIB=		iconv intl m
d32 1
@


1.4
log
@upgrade libgphoto2 to 2.1.4

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/01/16 01:10:47 brad Exp $
d21 1
@


1.3
log
@upgrade libgphoto2 to 2.1.3

no response from MAINTAINERs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/05/19 16:08:19 pvalchev Exp $
d8 1
a8 1
VERSION=	2.1.3
d12 1
a12 1
HOMEPAGE=http://gphoto.sourceforge.net/
d14 1
a14 1
MASTER_SITES=${MASTER_SITE_SOURCEFORGE:=gphoto/}
d26 2
a27 1
CONFIGURE_ENV=		LDFLAGS="-L${LOCALBASE}/lib"
@


1.2
log
@replace *&*% gettext detection in configure with one that works
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/04/09 23:55:01 espie Exp $
d8 3
a10 2
DISTNAME=	libgphoto2-2.1.1
PKGNAME=	libgphoto-2.1.1
d23 1
a23 1
AUTOCONF_VERSION=	2.52
d28 2
d31 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d25 1
@


1.1.1.1
log
@libgphoto2 yields support for almost 200 digital cameras.
Work by Arnaud Launay and me, further patch by Thorsten.
Thanks to Marjorie for lending me her Canon A20 so that I could test this.
@
text
@@
