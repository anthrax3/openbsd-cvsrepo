head	1.99;
access;
symbols
	OPENBSD_6_1:1.97.0.2
	OPENBSD_6_1_BASE:1.97
	OPENBSD_6_0:1.96.0.2
	OPENBSD_6_0_BASE:1.96
	OPENBSD_5_9:1.93.0.2
	OPENBSD_5_9_BASE:1.93
	OPENBSD_5_8:1.91.0.4
	OPENBSD_5_8_BASE:1.91
	OPENBSD_5_7:1.86.0.4
	OPENBSD_5_7_BASE:1.86
	OPENBSD_5_6:1.86.0.2
	OPENBSD_5_6_BASE:1.86
	OPENBSD_5_5:1.78.0.2
	OPENBSD_5_5_BASE:1.78
	OPENBSD_5_4:1.72.0.2
	OPENBSD_5_4_BASE:1.72
	OPENBSD_5_3:1.64.0.2
	OPENBSD_5_3_BASE:1.64
	OPENBSD_5_2:1.61.0.2
	OPENBSD_5_2_BASE:1.61
	OPENBSD_5_1_BASE:1.54
	OPENBSD_5_1:1.54.0.2
	OPENBSD_5_0:1.41.0.2
	OPENBSD_5_0_BASE:1.41
	OPENBSD_4_9:1.39.0.2
	OPENBSD_4_9_BASE:1.39
	OPENBSD_4_8:1.32.0.2
	OPENBSD_4_8_BASE:1.32
	OPENBSD_4_7:1.31.0.2
	OPENBSD_4_7_BASE:1.31
	OPENBSD_4_6:1.29.0.2
	OPENBSD_4_6_BASE:1.29
	OPENBSD_4_5:1.21.0.2
	OPENBSD_4_5_BASE:1.21
	OPENBSD_4_4:1.18.0.2
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.15.0.2
	OPENBSD_4_3_BASE:1.15
	ajacoutot_20070110:1.1.1.2
	ajacoutot:1.1.1
	OPENBSD_4_1:1.12.0.4
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.12.0.2
	OPENBSD_4_0_BASE:1.12
	OPENBSD_3_9:1.11.0.6
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.11.0.4
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.11.0.2
	OPENBSD_3_7_BASE:1.11
	OPENBSD_3_6:1.7.0.4
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.7.0.2
	OPENBSD_3_5_BASE:1.7
	OPENBSD_3_4:1.6.0.6
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.4
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.2
	OPENBSD_3_2_BASE:1.6
	pvalchev_20020522:1.1.1.1
	pvalchev:1.1.1;
locks; strict;
comment	@# @;


1.99
date	2017.04.20.19.02.40;	author jasper;	state Exp;
branches;
next	1.98;
commitid	WH75TTwtjKdMQSAW;

1.98
date	2017.04.10.11.46.21;	author sthen;	state Exp;
branches;
next	1.97;
commitid	BLsh88fJB8thZTwY;

1.97
date	2016.10.31.11.31.55;	author jasper;	state Exp;
branches;
next	1.96;
commitid	s80xTpeH116jAe4c;

1.96
date	2016.04.25.16.01.36;	author jasper;	state Exp;
branches;
next	1.95;
commitid	On9kBNohf6qdPOUD;

1.95
date	2016.03.18.23.12.17;	author naddy;	state Exp;
branches;
next	1.94;
commitid	KZAl4KEiw6a3Jixw;

1.94
date	2016.03.15.10.25.31;	author jasper;	state Exp;
branches;
next	1.93;
commitid	8kfH6ljdLjeEOaVM;

1.93
date	2015.10.08.09.41.10;	author jasper;	state Exp;
branches;
next	1.92;
commitid	v7pkpc0Hso7M01xM;

1.92
date	2015.10.08.09.12.34;	author jasper;	state Exp;
branches;
next	1.91;
commitid	rTY2qFI4MP3DojPO;

1.91
date	2015.04.15.10.08.28;	author jasper;	state Exp;
branches;
next	1.90;
commitid	1kIT2FGg24XswG4n;

1.90
date	2015.04.15.09.40.52;	author ajacoutot;	state Exp;
branches;
next	1.89;
commitid	dfR1rb9OtImYnGFF;

1.89
date	2015.04.08.15.38.19;	author ajacoutot;	state Exp;
branches;
next	1.88;
commitid	LJ1rGWKQlGwLnOQr;

1.88
date	2015.04.04.09.21.01;	author ajacoutot;	state Exp;
branches;
next	1.87;
commitid	kS3kwKZogsvzYmEY;

1.87
date	2015.03.27.08.11.28;	author ajacoutot;	state Exp;
branches;
next	1.86;
commitid	mHt3hIg3nxq5XDcy;

1.86
date	2014.05.19.08.04.11;	author jasper;	state Exp;
branches;
next	1.85;

1.85
date	2014.04.02.09.36.11;	author jasper;	state Exp;
branches;
next	1.84;

1.84
date	2014.04.01.18.06.29;	author jasper;	state Exp;
branches;
next	1.83;

1.83
date	2014.04.01.17.03.13;	author jasper;	state Exp;
branches;
next	1.82;

1.82
date	2014.04.01.13.21.45;	author ajacoutot;	state Exp;
branches;
next	1.81;

1.81
date	2014.03.31.13.44.47;	author ajacoutot;	state Exp;
branches;
next	1.80;

1.80
date	2014.03.27.14.29.29;	author jasper;	state Exp;
branches;
next	1.79;

1.79
date	2014.03.27.13.46.09;	author jasper;	state Exp;
branches;
next	1.78;

1.78
date	2013.12.31.09.20.42;	author jasper;	state Exp;
branches;
next	1.77;

1.77
date	2013.11.30.15.24.08;	author jasper;	state Exp;
branches;
next	1.76;

1.76
date	2013.10.21.17.42.07;	author jasper;	state Exp;
branches;
next	1.75;

1.75
date	2013.10.15.09.44.20;	author ajacoutot;	state Exp;
branches;
next	1.74;

1.74
date	2013.10.06.15.32.11;	author ajacoutot;	state Exp;
branches;
next	1.73;

1.73
date	2013.09.28.08.50.40;	author ajacoutot;	state Exp;
branches;
next	1.72;

1.72
date	2013.07.10.17.26.05;	author jasper;	state Exp;
branches;
next	1.71;

1.71
date	2013.05.31.15.34.48;	author ajacoutot;	state Exp;
branches;
next	1.70;

1.70
date	2013.05.14.07.28.35;	author jasper;	state Exp;
branches;
next	1.69;

1.69
date	2013.04.16.06.42.21;	author jasper;	state Exp;
branches;
next	1.68;

1.68
date	2013.04.05.15.53.55;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2013.03.29.19.57.31;	author ajacoutot;	state Exp;
branches;
next	1.66;

1.66
date	2013.03.29.19.29.22;	author jasper;	state Exp;
branches;
next	1.65;

1.65
date	2013.03.11.11.10.53;	author espie;	state Exp;
branches;
next	1.64;

1.64
date	2012.09.06.12.38.35;	author ajacoutot;	state Exp;
branches;
next	1.63;

1.63
date	2012.09.01.14.36.57;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2012.08.21.06.50.43;	author jasper;	state Exp;
branches;
next	1.61;

1.61
date	2012.07.10.08.00.28;	author ajacoutot;	state Exp;
branches;
next	1.60;

1.60
date	2012.06.15.08.32.16;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2012.05.20.22.10.46;	author naddy;	state Exp;
branches;
next	1.58;

1.58
date	2012.05.14.20.11.49;	author jasper;	state Exp;
branches;
next	1.57;

1.57
date	2012.04.25.06.04.13;	author jasper;	state Exp;
branches;
next	1.56;

1.56
date	2012.04.24.10.55.17;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2012.04.23.17.15.18;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2012.01.24.08.42.48;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2011.12.05.16.08.16;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2011.12.04.20.50.49;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2011.12.03.20.30.09;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2011.10.28.22.08.24;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2011.10.15.16.19.15;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2011.09.28.09.51.36;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2011.09.20.21.04.24;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2011.09.20.20.51.51;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2011.09.19.07.31.46;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2011.09.16.10.02.37;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2011.09.12.12.07.25;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2011.04.14.05.32.08;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2011.04.05.16.37.59;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2011.01.12.20.53.32;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2010.11.17.09.51.34;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2010.11.17.09.48.24;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2010.11.17.08.05.14;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2010.10.18.13.51.01;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.11.08.14.42;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2010.10.01.08.14.15;	author jasper;	state Exp;
branches;
next	1.32;

1.32
date	2010.05.07.09.04.32;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2009.12.22.16.06.41;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2009.08.10.06.31.44;	author kili;	state Exp;
branches;
next	1.29;

1.29
date	2009.06.24.22.44.45;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2009.06.11.18.27.02;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2009.06.08.16.58.15;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2009.06.07.05.32.02;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2009.04.06.10.09.06;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2009.03.14.11.36.24;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2009.03.14.10.40.51;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2009.03.05.07.52.51;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2009.01.21.10.50.12;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2008.12.17.18.41.51;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2008.12.14.19.30.45;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2008.07.21.18.48.45;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2008.06.29.20.44.51;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2008.04.17.08.10.10;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2008.01.10.21.33.05;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2007.06.01.15.19.51;	author jasper;	state dead;
branches;
next	1.13;

1.13
date	2007.03.15.11.30.07;	author jolan;	state Exp;
branches;
next	1.12;

1.12
date	2006.08.03.12.43.20;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2005.03.13.14.25.55;	author alek;	state Exp;
branches;
next	1.10;

1.10
date	2005.01.28.11.36.04;	author alek;	state Exp;
branches;
next	1.9;

1.9
date	2005.01.18.12.30.57;	author alek;	state Exp;
branches;
next	1.8;

1.8
date	2004.12.09.17.26.59;	author sturm;	state Exp;
branches;
next	1.7;

1.7
date	2003.12.16.17.57.10;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2002.09.23.14.44.41;	author danh;	state Exp;
branches;
next	1.5;

1.5
date	2002.09.11.20.32.06;	author danh;	state Exp;
branches;
next	1.4;

1.4
date	2002.07.19.21.56.02;	author pvalchev;	state Exp;
branches;
next	1.3;

1.3
date	2002.05.31.20.48.24;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2002.05.25.21.50.22;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2002.05.23.01.01.11;	author pvalchev;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.05.23.01.01.11;	author pvalchev;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	2008.01.10.21.26.12;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.99
log
@update to gthumb-3.4.5
@
text
@# $OpenBSD: Makefile,v 1.98 2017/04/10 11:46:21 sthen Exp $

COMMENT=	image viewer and browser for GNOME

GNOME_PROJECT=	gthumb
GNOME_VERSION=	3.4.5

API_V=		${GNOME_VERSION:C/^([0-9]+\.[0-9]+).*/\1/}
SUBST_VARS=	API_V

CATEGORIES=	graphics

MAINTAINER=	Jasper Lievisse Adriaanse <jasper@@openbsd.org>, \
		Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += c cairo cairo-gobject clutter-1.0 clutter-gtk-1.0
WANTLIB += dbus-1 epoxy exiv2 expat ffi fontconfig freetype gdk-3
WANTLIB += gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += graphite2 gstreamer-1.0 gstvideo-1.0 gthread-2.0 gtk-3
WANTLIB += harfbuzz jpeg json-glib-1.0 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += rsvg-2 secret-1 soup-2.4 ${LIBCXX} tiff lcms2 raw
WANTLIB += webkit2gtk-4.0 webp xcb xcb-render xcb-shm z iconv intl

MODULES=	devel/dconf \
		x11/gnome

BUILD_DEPENDS +=	multimedia/gstreamer1/plugins-base

# web albums
BUILD_DEPENDS +=	devel/bison

LIB_DEPENDS=	graphics/clutter/clutter-gtk  \
		graphics/exiv2 \
		graphics/libraw \
		graphics/libwebp \
		multimedia/gstreamer1/core \
		www/webkitgtk4 \
		x11/gnome/librsvg

RUN_DEPENDS=	graphics/dcraw \
		multimedia/gstreamer1/plugins-base

MODGNOME_TOOLS += desktop-file-utils gtk-update-icon-cache shared-mime-info yelp

MODGNOME_CPPFLAGS=	-I${X11BASE}/include
MODGNOME_LDFLAGS=	-L${X11BASE}/lib

CONFIGURE_STYLE=	gnu

post-install:
	rm ${PREFIX}/lib/gthumb/extensions/*.{a,la}

.include <bsd.port.mk>
@


1.98
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2016/10/31 11:31:55 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.4.4.1
@


1.97
log
@update to gthumb-3.4.4.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2016/04/25 16:01:36 jasper Exp $
d27 1
a27 1
WANTLIB += rsvg-2 secret-1 soup-2.4 stdc++ tiff lcms2 raw
@


1.96
log
@update to gthumb-3.4.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2016/03/18 23:12:17 naddy Exp $
d6 1
a6 1
GNOME_VERSION=	3.4.3
d8 1
a8 1
API_V=		${GNOME_VERSION:R}
@


1.95
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2016/03/15 10:25:31 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	3.4.2
d28 1
a28 1
WANTLIB += webkit2gtk-4.0 webp xcb xcb-render xcb-shm z
a30 1
		devel/gettext \
@


1.94
log
@update to gthumb-3.4.2
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.93 2015/10/08 09:41:10 jasper Exp $

SHARED_ONLY=	Yes
@


1.93
log
@re-enable jpeg/tiff tools
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2015/04/15 10:08:28 jasper Exp $
d8 1
a8 2
GNOME_VERSION=	3.4.1
REVISION=	0
@


1.92
log
@update to gthumb-3.4.1
@
text
@d9 1
@


1.91
log
@update to gthumb-3.4.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2015/04/15 09:40:52 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.4.0
a57 6

# XXX remove at next major upgrade
# https://git.gnome.org/browse/gthumb/commit/?id=4c64cb990fc1e32e269571b34065d7aa8d92c79e
pre-configure:
	perl -pi -e 's/webkit2gtk-3.0/webkit2gtk-4.0/g' \
		${WRKSRC}/configure
@


1.90
log
@Bump after libepoxy moved from ports to xenocara.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2015/04/08 15:38:19 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.8
REVISION=	3
d23 1
a23 1
WANTLIB += c cairo cairo-gobject clutter-1.0 clutter-gtk-1.0 cogl
d29 1
a29 1
WANTLIB += rsvg-2 secret-1 soup-2.4 soup-gnome-2.4 stdc++ tiff
d43 1
@


1.89
log
@Switch to webkitgtk4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2015/04/04 09:21:01 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
@


1.88
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2015/03/27 08:11:28 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
d25 7
a31 7
WANTLIB += dbus-1 exiv2 expat ffi fontconfig freetype gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 graphite2
WANTLIB += gstreamer-1.0 gthread-2.0 gtk-3 harfbuzz jpeg json-glib-1.0
WANTLIB += m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs rsvg-2 secret-1 soup-2.4
WANTLIB += soup-gnome-2.4 stdc++ tiff webkit2gtk-3.0 webp xcb
WANTLIB += xcb-render xcb-shm z gstvideo-1.0
d37 2
a41 2
BUILD_DEPENDS +=	multimedia/gstreamer1/plugins-base

d46 1
a46 1
		www/webkit,gtk3>=2.2.0v0 \
d58 6
@


1.87
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2014/05/19 08:04:11 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.86
log
@update to gthumb-3.2.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2014/04/02 09:36:11 jasper Exp $
d9 1
@


1.85
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2014/04/01 18:06:29 jasper Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.7
REVISION=	1
@


1.84
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2014/04/01 17:03:13 jasper Exp $
d52 1
a52 1
MODGNOME_TOOLS += yelp desktop-file-utils gtk-update-icon-cache shared-mime-info
@


1.83
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2014/04/01 13:21:45 ajacoutot Exp $
d52 2
a53 4
MODGNOME_TOOLS= 	yelp
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS +=	gtk-update-icon-cache
MODGNOME_TOOLS +=	shared-mime-info
@


1.82
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 2/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2014/03/31 13:44:47 ajacoutot Exp $
d53 3
a55 3
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
MODGNOME_MIME_FILE=	Yes
@


1.81
log
@Drop the rpath hack no that our libtool somewhat does the right thing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2014/03/27 14:29:29 jasper Exp $
d9 1
a9 1
REVISION=	0
a51 2
LIBTOOL_FLAGS=		--tag=disable-static

a59 1
CONFIGURE_ARGS=		--disable-static
d62 1
a62 1
	rm ${PREFIX}/lib/gthumb/extensions/*.la
@


1.80
log
@update to gthumb-3.2.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2014/03/27 13:46:09 jasper Exp $
d9 1
d59 1
a59 1
MODGNOME_LDFLAGS=	-L${X11BASE}/lib -Wl,-rpath,${TRUEPREFIX}/lib/gthumb/extensions
@


1.79
log
@sync WANTLIB after cogl/clutter update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2013/12/31 09:20:42 jasper Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.6
REVISION=	0
d25 1
a25 1
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 graphite2 cogl-path
@


1.78
log
@update to gthumb-3.2.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2013/11/30 15:24:08 jasper Exp $
d9 1
d26 1
a26 1
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 graphite2
@


1.77
log
@update to gthumb-3.2.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2013/10/21 17:42:07 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	3.2.5
@


1.76
log
@update to gthumb-3.2.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2013/10/15 09:44:20 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.2.4
@


1.75
log
@Use MODGNOME_MIME_FILE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2013/10/06 15:32:11 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.3
REVISION=	2
d30 1
a30 1
WANTLIB += xcb-render xcb-shm z
@


1.74
log
@webkit2gtk-3.0 gets picked up.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2013/09/28 08:50:40 ajacoutot Exp $
d9 1
a9 1
REVISION=	1
a49 1
		misc/shared-mime-info \
d57 1
@


1.73
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2013/07/10 17:26:05 jasper Exp $
d9 1
a9 1
REVISION=	0
d27 1
a27 1
WANTLIB += gthread-2.0 gtk-3 harfbuzz jpeg
d29 3
a31 2
WANTLIB += png pthread pthread-stubs rsvg-2 stdc++ tiff xcb xcb-render
WANTLIB += xcb-shm z gstreamer-1.0 webp
d46 1
@


1.72
log
@update to gthumb-3.2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2013/05/31 15:34:48 ajacoutot Exp $
d9 1
a14 2

HOMEPAGE=	http://live.gnome.org/gthumb
@


1.71
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2013/05/14 07:28:35 jasper Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.2
REVISION=	0
@


1.70
log
@update to gthumb-3.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/04/16 06:42:21 jasper Exp $
d9 1
d29 1
a29 1
WANTLIB += gthread-2.0 gtk-3 harfbuzz icudata icule icuuc jpeg
@


1.69
log
@update to gthumb-3.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/04/05 15:53:55 ajacoutot Exp $
d8 1
a8 1
GNOME_VERSION=	3.2.1
@


1.68
log
@Missing BUILD+RUN_DEPENDS.

spotted by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/03/29 19:57:31 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.2.0
REVISION=	1
@


1.67
log
@Fix gstreamer dependency.
This picks up webp if installed.
Missing dep on dcraw.
Remove unused CONFIGURE_ARGS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/03/29 19:29:22 jasper Exp $
d9 1
a9 1
REVISION=	0
d41 2
d48 1
a48 1
		
d50 2
a51 1
		misc/shared-mime-info
@


1.66
log
@- update to gthumb-3.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/03/11 11:10:53 espie Exp $
d9 2
d12 1
d32 1
a32 1
WANTLIB += xcb-shm z gstreamer-1.0
d42 4
a45 3
		graphics/exiv2>=0.22 \
		x11/gnome/librsvg \
		multimedia/gstreamer1/plugins-base
d47 2
a48 1
RUN_DEPENDS=	misc/shared-mime-info
a54 2

CONFIGURE_STYLE=	gnu
a56 2
CONFIGURE_ARGS=		--disable-static \
			--disable-libbrasero
d58 2
a59 1
SUBST_VARS=		API_V
@


1.65
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2012/09/06 12:38:35 ajacoutot Exp $
d8 2
a9 2
GNOME_VERSION=	3.0.2
REVISION=	1
d21 9
a29 9
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo
WANTLIB += cairo-gobject drm exiv2 expat ffi fontconfig freetype
WANTLIB += gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gnome-keyring
WANTLIB += gobject-2.0 gstinterfaces-0.10 gstreamer-0.10 gthread-2.0
WANTLIB += gtk-3 jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pcre pixman-1 png pthread pthread-stubs rsvg-2 soup-2.4
WANTLIB += soup-gnome-2.4 stdc++ tiff xcb xcb-render xcb-shm z
WANTLIB += clutter-1.0 clutter-gtk-1.0 cogl
d38 1
a38 2
LIB_DEPENDS=	devel/libsoup,-gnome \
		graphics/clutter/clutter-gtk \
d40 3
a42 2
		multimedia/gstreamer-0.10/plugins-base \
		x11/gnome/librsvg
a54 1
			--disable-libopenraw \
d56 2
@


1.64
log
@Bump after gstreamer-plugins-base subpackaging change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2012/09/01 14:36:57 ajacoutot Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.63
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2012/08/21 06:50:43 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.62
log
@- update to 3.0.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2012/07/10 08:00:28 ajacoutot Exp $
d9 1
@


1.61
log
@Enable clutter support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/06/15 08:32:16 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	3.0.1
REVISION=	2
@


1.60
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2012/05/20 22:10:46 naddy Exp $
d9 1
a9 1
REVISION=	1
d32 1
d42 1
d45 1
a45 2
		x11/gnome/librsvg \
		x11/gtk+3
d59 1
a59 8
			--disable-libbrasero \
			--enable-libsoup \
			--enable-gnome-keyring \
			--enable-exiv2
# requires libchamplain >= 0.12.0
CONFIGURE_ARGS+=	--disable-libchamplain
# requires clutter-gtk >= 1.0.0
CONFIGURE_ARGS+=	--disable-clutter
@


1.59
log
@strptime is XPG4v2; ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2012/05/14 20:11:49 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.58
log
@- update to 3.0.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/04/25 06:04:13 jasper Exp $
d9 1
@


1.57
log
@fix LIB_DEPENDS, prompted by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/04/24 10:55:17 jasper Exp $
d8 1
a8 2
GNOME_VERSION=	3.0.0
REVISION=	0
@


1.56
log
@- update to 3.0.0

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/04/23 17:15:18 espie Exp $
d9 1
d42 3
a44 1
		multimedia/gstreamer-0.10/plugins-base
@


1.55
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2012/01/24 08:42:48 ajacoutot Exp $
d8 1
a8 2
GNOME_VERSION=	2.14.2
REVISION =	0
d23 8
a30 10
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm
WANTLIB += atk-1.0 c cairo clutter-glx-1.0 clutter-gtk-0.10 dbus-1
WANTLIB += dbus-glib-1 drm exiv2 expat ffi fontconfig freetype
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-keyring gobject-2.0 gstinterfaces-0.10 gstreamer-0.10
WANTLIB += gthread-2.0 gtk-x11-2.0 jpeg m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += soup-2.4 soup-gnome-2.4 stdc++ tiff xcb xcb-render
WANTLIB += xcb-shm z
d32 1
a32 1
MODULES=	devel/gconf2 \
a39 2
		devel/libunique \
		graphics/clutter/clutter-gtk \
d41 1
a41 2
		multimedia/gstreamer-0.10/plugins-base \
		devel/json-glib
a48 1
MODGCONF2_SCHEMAS_DIR=	gthumb
d59 4
@


1.54
log
@Update to gthumb-2.14.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/12/05 16:08:16 espie Exp $
d9 1
d42 1
a42 2
LIB_DEPENDS=	databases/sqlite3 \
		devel/libsoup,-gnome \
@


1.53
log
@hidden build dependency
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.52 2011/12/04 20:50:49 jasper Exp $
d8 1
a8 1
GNOME_VERSION=	2.14.1
d50 2
d59 3
a61 2
MODGNOME_LDFLAGS=	-L${X11BASE}/lib
CONFIGURE_ARGS=		--disable-libopenraw \
d66 3
@


1.52
log
@- update to 0.14.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/12/03 20:30:09 ajacoutot Exp $
d35 3
@


1.51
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/10/29 08:12:32 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=	2.14.0
REVISION=	1
@


1.50
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/10/28 22:08:24 jasper Exp $
d7 1
a7 1
REVISION=	0
d48 1
@


1.49
log
@- update to 2.14.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/10/15 16:19:15 jasper Exp $
d7 1
d22 1
a22 1
WANTLIB += GL ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage
@


1.48
log
@- update to 2.12.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/09/28 09:51:36 jasper Exp $
d6 1
a6 1
GNOME_VERSION=	2.12.4
d21 10
a30 11
WANTLIB += GL ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB += c cairo dbus-1 dbus-glib-1 drm expat fontconfig freetype
WANTLIB += gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gnome-keyring gobject-2.0 gpg-error
WANTLIB += gstreamer-0.10 gthread-2.0 gtk-x11-2.0 jpeg m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread
WANTLIB += pthread-stubs tiff xcb xcb-render sqlite3
WANTLIB += xml2 z unique-1.0 gstinterfaces-0.10 soup-gnome-2.4 soup-2.4
WANTLIB += json-glib-1.0 stdc++ xcb-shm cairo-gobject ffi
WANTLIB += clutter-glx-1.0 clutter-gtk-0.10 exiv2
d32 1
a32 1
MODULES=	x11/gnome \
d34 1
a34 1
		devel/gconf2
d36 1
a36 1
LIB_DEPENDS=	devel/json-glib \
d40 1
a40 1
		graphics/exiv2 \
d42 1
a42 1
		databases/sqlite3
d49 1
a49 1
CONFIGURE_STYLE=gnu
d52 5
a56 5
CONFIGURE_ARGS=	--disable-libopenraw \
		--disable-libbrasero \
		--enable-libsoup \
		--enable-gnome-keyring \
		--enable-exiv2
@


1.47
log
@sync after recent gnome.port.mk CONFIGURE_ENV changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/09/20 21:04:24 jasper Exp $
d6 1
a6 2
GNOME_VERSION=	2.12.3
REVISION=		0
a20 2
EXTRACT_SUFX=		.tar.bz2

d30 1
a30 1
WANTLIB += json-glib-1.0 stdc++ xcb-shm
d47 1
a47 1
MODGNOME_DESKTOP_FILE=		Yes
@


1.46
log
@CONFIGURE_SHARED is now implied by gnome.port.mk, so no need to make it explicit anymore.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/09/20 20:51:51 jasper Exp $
d54 2
a55 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
@


1.45
log
@switch to MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/09/19 07:31:46 ajacoutot Exp $
d56 1
a56 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-libopenraw \
@


1.44
log
@DESKTOP_FILES => MODGNOME_DESKTOP_FILE, like it should always have been.

discussed with and ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2011/09/16 10:02:37 espie Exp $
d49 1
a49 1
MODGNOME_HELP_FILES=	Yes
@


1.43
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2011/09/12 12:07:25 jasper Exp $
d50 1
a50 1
DESKTOP_FILES=		Yes
@


1.42
log
@switch the rest of the ports using gnome.port.mk over to .tar.xz where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2011/04/14 05:32:08 ajacoutot Exp $
d7 1
@


1.41
log
@Bugfix update to gthumb-2.12.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2011/04/05 16:37:59 ajacoutot Exp $
d20 2
@


1.40
log
@--disable-scrollkeeper is not needed when rarian is in the dependency
chain (scrollkeer is a compatility wrapper that does nothing).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/01/12 20:53:32 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=	2.12.2
d30 1
a30 1
WANTLIB += json-glib-1.0 gnutls proxy tasn1 stdc++ xcb-shm
@


1.39
log
@Bugfix update to gthumb-2.12.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/11/17 09:51:34 ajacoutot Exp $
a53 1
		--disable-scrollkeeper \
@


1.38
log
@Fix MAINTAINER line.
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.37 2010/11/17 09:48:24 jasper Exp $
d6 1
a6 3
GNOME_VERSION=	2.12.1

REVISION=	0
d28 1
a28 1
WANTLIB += pthread-stubs sqlite3 tiff xcb xcb-render
d42 2
a43 1
		multimedia/gstreamer-0.10/plugins-base
@


1.37
log
@- update gthumb to 2.12.1
- remove patches that have been integrated upstream
- take maintainership

ok Guillaume PROTET (previous maintainer)
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.36 2010/11/17 08:05:14 espie Exp $
d8 2
d15 1
a15 1
		Antoine Jacoutot <ajacoutot@@openbsd.org
@


1.36
log
@new depends
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.35 2010/10/18 13:51:01 jasper Exp $
d6 1
a6 2
GNOME_VERSION=	2.12.0
REVISION=	0
d12 2
a13 1
MAINTAINER=	Guillaume Protet <guillaume.protet@@mortheres.info>	
d28 1
a28 1
WANTLIB += pthread-stubs sqlite3 tiff xcb xcb-render xcb-render-util
d30 2
a31 2
WANTLIB += gphoto2 gphoto2_port json-glib-1.0 gnutls proxy tasn1
WANTLIB += clutter-glx-1.0 clutter-gtk-0.10
d41 1
a41 1
		graphics/libgphoto2 \
d54 5
a58 2
		--disable-iptcdata \
		--disable-libopenraw
@


1.35
log
@- use_x11 comes from gnome.port.mk now
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.34 2010/10/11 08:14:42 jasper Exp $
d37 7
a43 7
LIB_DEPENDS=	::devel/json-glib \
		::devel/libsoup,-gnome \
		::devel/libunique \
		::graphics/clutter/clutter-gtk \
		::graphics/libgphoto2 \
		::multimedia/gstreamer-0.10/plugins-base
RUN_DEPENDS=	::misc/shared-mime-info
@


1.34
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.33 2010/10/01 08:14:15 jasper Exp $
a46 1
USE_X11=		Yes
@


1.33
log
@- update gthumb to 2.12.0
- newstyle WANTLIB/DEPENDS
- add a patch to workaround gnu sed dependency, workaround is ugly and
will be revisited soon.
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.32 2010/05/07 09:04:32 ajacoutot Exp $
d7 1
d25 1
a25 1
WANTLIB += glitz gmodule-2.0 gnome-keyring gobject-2.0 gpg-error
@


1.32
log
@Update to gthumb-2.10.12.

ok Guillaume PROTET (maintainer)
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.31 2009/12/22 16:06:41 ajacoutot Exp $
d3 1
a3 1
COMMENT=	Image viewer and browser for GNOME
d6 1
a6 3
GNOME_VERSION=	2.10.12

SHARED_LIBS=	gthumb	0.0	# .0.0
d10 1
a10 1
HOMEPAGE=	http://gthumb.sourceforge.net/
d20 11
a30 13
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender Xtst Xxf86vm art_lgpl_2 atk-1.0 \
		bonobo-2 bonobo-activation bonoboui-2 c cairo crypto \
		dbus-1 dbus-glib-1 exif expat fontconfig freetype \
		gailutil gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 \
		glib-2.0 glitz gmodule-2.0 gnome-2 gnome-keyring \
		gnomecanvas-2 gnomevfs-2 gobject-2.0 gthread-2.0 \
		gtk-x11-2.0 jpeg ltdl m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre pixman-1 png popt pthread ssl tiff \
		usb util xml2 z gio-2.0 avahi-client avahi-common avahi-glib \
		pthread-stubs xcb eggdbus-1 gcrypt gpg-error xcb-render \
		xcb-render-util
d36 6
a41 2
LIB_DEPENDS=	gnomeui-2.>=2000::x11/gnome/libgnomeui \
		gphoto2.>=3,gphoto2_port.>=6::graphics/libgphoto2
d44 4
a47 4
MODGNOME_HELP_FILES= Yes
DESKTOP_FILES=	Yes
USE_X11=	Yes
MODGCONF2_SCHEMAS_DIR= gthumb
@


1.31
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.30 2009/08/10 06:31:44 kili Exp $
d6 1
a6 2
GNOME_VERSION=	2.10.11
PKGNAME=	${DISTNAME}p7
d33 2
a34 1
		pthread-stubs xcb
@


1.30
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.29 2009/06/24 22:44:45 sthen Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p6
@


1.29
log
@sync WANTLIB, bump PKGNAMEs
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.28 2009/06/11 18:27:02 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p5
d33 2
a34 1
		usb util xml2 z gio-2.0 avahi-client avahi-common avahi-glib
@


1.28
log
@Bump after recent gconf2 MODULE change.
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.27 2009/06/08 16:58:15 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
d33 1
a33 1
		usb util xml2 z gio-2.0
@


1.27
log
@Bump after recent gconf2 MODULE changes.

"yep, bumps are cheap" kili@@
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.26 2009/06/07 05:32:02 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
@


1.26
log
@Convert to using the new gconf2.port.mk module.

ok jasper@@
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.25 2009/04/06 10:09:06 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.25
log
@- cope with recent gnome.port.mk / MODGNOME_HELP_FILES changes
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.24 2009/03/14 11:36:24 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d28 1
a28 1
		gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 \
d36 2
a37 1
		devel/gettext
d46 1
a51 1
		--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gthumb \
a52 1
		--disable-schemas-install \
@


1.24
log
@- nothing should have to run_depends on rarian anymore
- explicitely add build_depends on rarian where gnome-doc-utils is also a
build dependency as it does not itself run_depends on rarian anymore

This was the 2nd and hopefully last pass of rarian/scrollkeeper cleaning.

discussed with jasper@@
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.23 2009/03/14 10:40:51 ajacoutot Exp $
a37 2
BUILD_DEPENDS=	:gnome-doc-utils-*:x11/gnome/doc-utils \
		::textproc/rarian
@


1.23
log
@- first pass at cleaning rarian/scrollkeeper handling
remove rarian-sk-update from PLIST ; it is only a wrapper that does
noting: librarian takes care of everything now.

discussed with jasper@@
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.22 2009/03/05 07:52:51 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d38 2
a39 1
BUILD_DEPENDS=	:gnome-doc-utils-*:x11/gnome/doc-utils
d42 1
a42 2
RUN_DEPENDS=	::misc/shared-mime-info \
		::textproc/rarian
@


1.22
log
@- minor update to gthumb 2.10.11

maintainer ok
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.21 2009/01/21 10:50:12 ajacoutot Exp $
d7 1
@


1.21
log
@- regen WANTLIB after libgnome esound support removal
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.20 2008/12/17 18:41:51 jasper Exp $
d6 1
a6 2
GNOME_VERSION=	2.10.10
PKGNAME=	${DISTNAME}p1
@


1.20
log
@- switch to rarian instead of scrollkeeper
- regen PLIST

ok ajacoutot@@
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.19 2008/12/14 19:30:45 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d25 1
a25 1
		Xrender Xtst Xxf86vm art_lgpl_2 atk-1.0 audiofile \
d27 1
a27 1
		dbus-1 dbus-glib-1 esd exif expat fontconfig freetype \
@


1.19
log
@- update to gthumb-2.10.10
- use MODGNOME_HELP_FILES

looks ok to Guillaume Protet (maintainer)
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.18 2008/07/21 18:48:45 sthen Exp $
d7 1
d42 1
a42 1
		:scrollkeeper-*:textproc/scrollkeeper
@


1.18
log
@Email address change and bump from MAINTAINER. While there, add
a more specific license marker.
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.17 2008/06/29 20:44:51 sthen Exp $
d6 1
a6 2
GNOME_VERSION=	2.10.8
PKGNAME=	${DISTNAME}p2
d32 1
a32 1
		usb util xml2 z
d34 2
a35 1
MODULES=	x11/gnome devel/gettext
d41 1
a41 2
		:scrollkeeper-*:textproc/scrollkeeper \
		:yelp-*:x11/gnome/yelp
d43 1
@


1.17
log
@sync WANTLIB following cairo update. ok naddy
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.16 2008/04/17 08:10:10 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d15 1
a15 1
MAINTAINER=	Guillaume Protet <mortheres@@hotpop.com>	
d17 1
a17 1
# GPL
@


1.16
log
@- tweak the way the gtk-update-icon-cache goo is run

gtk-update-icon-cache is part of gtk+2: adding gtk+2 to run_depends just
to update the icon cache (which only gtk apps can use) is overkill to
say the least!
As from now, each time icons are installed under %D/share/icons, we try
to execute gtk-update-icon-cache and if it is not there, we just ignore
the error.
What it means is that if you have gtk+2 installed, then it'll run fine
and your apps will be able to use the cache. Otherwise, it will silently
fails which is fine since it means none of your apps would have been
able to take advantage of the cache anyway.

discussed with jasper@@
@
text
@d1 1
a1 1
#$OpenBSD: Makefile,v 1.15 2008/01/10 21:33:05 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d32 2
a33 2
		pangoft2-1.0 pcre png popt pthread ssl tiff usb util \
		xml2 z
@


1.15
log
@- merge missing files
@
text
@d1 1
a1 1
#$OpenBSD$
d7 1
@


1.14
log
@remove obsolete gnome1 stuff, use x11/gnome/eog
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/03/15 11:30:07 jolan Exp $
d3 1
a3 1
COMMENT=		"Image viewer and browser for GNOME"
d5 2
a6 4
VERSION=		0.13
DISTNAME=		gthumb-${VERSION}
PKGNAME=		${DISTNAME}p4
CATEGORIES=		graphics x11
d8 7
a14 2
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=gthumb/}
HOMEPAGE=		http://gthumb.sourceforge.net/
d21 34
a54 17
WANTLIB=	IIOP ORBit ORBitCosNaming ORBitutil SM X11 Xext Xi art_lgpl \
		audiofile c esd freetype gconf-1 gconf-gtk-1 gdk gdk_imlib \
		gdk_pixbuf glib gmodule gnome gnomesupport \
		gnomeui gthread gtk iconv intl jpeg m oaf png pthread tiff \
		ungif wrap xml z ICE

LIB_DEPENDS=		bonobo,bonobox::x11/gnome/bonobo \
			gnomevfs.::x11/gnome/vfs \
			glade-gnome.>=4,glade.>=4:libglade-*-gnome:devel/libglade,gnome \
			gnomeprint.::x11/gnome/print \
			gnomecanvaspixbuf.>=1:gdk-pixbuf-gnome-*:graphics/gdk-pixbuf,-gnome 

USE_X11=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
			LDFLAGS=-L${LOCALBASE}/lib
NO_REGRESS=		Yes
@


1.13
log
@remove Jim Geovedi as maintainer from all ports' Makefiles per his
request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/08/03 12:43:20 espie Exp $
@


1.12
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/03/13 14:25:55 alek Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p3
a11 2

MAINTAINER=		Jim Geovedi <jim@@corebsd.or.id>
@


1.11
log
@- Add graphics/gdk-pixbuf,-gnome to LIB_DEPENDS as gthumb will pick it up
  if it's installed
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/01/28 11:36:04 alek Exp $
d28 1
a28 1
			glade-gnome.4,glade.4:libglade-*-gnome:devel/libglade,gnome \
d30 1
a30 1
			gnomecanvaspixbuf.1:gdk-pixbuf-gnome-*:graphics/gdk-pixbuf,-gnome 
@


1.10
log
@Fix WANTLIB marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/01/18 12:30:57 alek Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p2
d29 2
a30 1
			gnomeprint.::x11/gnome/print 
@


1.9
log
@Add/fix WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/12/09 17:26:59 sturm Exp $
d22 1
a22 1
		gdk_pixbuf glib gmodule gnome gnomecanvaspixbuf gnomesupport \
@


1.8
log
@fix dependencies and bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2003/12/16 17:57:10 naddy Exp $
d20 5
@


1.7
log
@fix dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/09/23 14:44:41 danh Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p1
d23 1
a23 1
			glade-gnome.4,glade.4::devel/libglade,gnome \
@


1.6
log
@brad@@ said CPPFLAGS does not need to be preserved, so undo my last
changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/09/11 20:32:06 danh Exp $
d23 1
a23 1
			glade-gnome.4,glade.4::devel/libglade \
@


1.5
log
@respect CPPFLAGS; ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/07/19 21:56:02 pvalchev Exp $
d28 1
a28 1
CONFIGURE_ENV=		CPPFLAGS="${CPPFLAGS} -I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
@


1.4
log
@new png header path
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/05/31 20:48:24 pvalchev Exp $
d28 1
a28 1
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/libpng" \
@


1.3
log
@enable 'bonobo' support, shrink some lib depends, from maintainer
jim@@corebsd.or.id
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/05/25 21:50:22 pvalchev Exp $
a8 1
NEED_VERSION=		1.531
d28 1
a28 1
CONFIGURE_ENV=		CPPFLAGS=-I${LOCALBASE}/include \
@


1.2
log
@simplify lib depends; from maintainer Jim Geovedi <jim@@corebsd.or.id>
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
d22 1
a22 2
LIB_DEPENDS=		png.2::graphics/png \
			gif.5::graphics/libungif \
d25 1
a25 2
			gnomeprint.::x11/gnome/print \
			oaf.::x11/gnome/oaf
@


1.1
log
@Initial revision
@
text
@d21 2
a22 5
LIB_DEPENDS=		png.::graphics/png \
			glib.::devel/glib \
			gtk.::x11/gtk+ \
			xml::textproc/libxml \
			gnome.36::x11/gnome/libs \
d24 1
a24 1
			glade-gnome.4,glade::devel/libglade \
a25 1
			gdk_pixbuf.::graphics/gdk-pixbuf \
@


1.1.1.1
log
@Import of gthumb-0.13

Image viewer and browser for GNOME

Maintainer: Jim Geovedi <jim@@corebsd.or.id>
@
text
@@


1.1.1.2
log
@Import (well, resurrect) gthumb-2.10.8

gThumb is an image viewer and organizer for the GNOME desktop
environment.  It was originally based on GQView, and is designed to have
a clean, simple interface.  Via gPhoto, gThumb can also acquire data
directly from digital cameras.


Work based on an original submission by Guillaume Protet
<mortheres at hotpop dot com> (maintainer)
@
text
@d1 1
a1 1
#$OpenBSD$
d3 1
a3 1
COMMENT=	Image viewer and browser for GNOME
d5 4
a8 2
GNOME_PROJECT=	gthumb
GNOME_VERSION=	2.10.8
d10 2
a11 1
SHARED_LIBS=	gthumb	0.0	# .0.0
d13 1
a13 5
CATEGORIES=	graphics

HOMEPAGE=	http://gthumb.sourceforge.net/

MAINTAINER=	Guillaume Protet <mortheres@@hotpop.com>	
d21 16
a36 33
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender Xtst Xxf86vm art_lgpl_2 atk-1.0 audiofile \
		bonobo-2 bonobo-activation bonoboui-2 c cairo crypto \
		dbus-1 dbus-glib-1 esd exif expat fontconfig freetype \
		gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 glade-2.0 \
		glib-2.0 glitz gmodule-2.0 gnome-2 gnome-keyring \
		gnomecanvas-2 gnomevfs-2 gobject-2.0 gthread-2.0 \
		gtk-x11-2.0 jpeg ltdl m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre png popt pthread ssl tiff usb util \
		xml2 z

MODULES=	x11/gnome devel/gettext

BUILD_DEPENDS=	:gnome-doc-utils-*:x11/gnome/doc-utils
LIB_DEPENDS=	gnomeui-2.>=2000::x11/gnome/libgnomeui \
		gphoto2.>=3,gphoto2_port.>=6::graphics/libgphoto2
RUN_DEPENDS=	::misc/shared-mime-info \
		:scrollkeeper-*:textproc/scrollkeeper \
		:yelp-*:x11/gnome/yelp

DESKTOP_FILES=	Yes
USE_X11=	Yes

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gthumb \
		--disable-scrollkeeper \
		--disable-schemas-install \
		--disable-iptcdata \
		--disable-libopenraw
@

