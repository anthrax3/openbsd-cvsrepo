head	1.7;
access;
symbols
	OPENBSD_6_0:1.7.0.2
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.5.0.10
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.12
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.8
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.6
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.4
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.4.0.4
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.6
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.2.0.2
	OPENBSD_4_8_BASE:1.2
	sebastia_20100709:1.1.1.1
	sebastia:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2016.03.18.23.12.17;	author naddy;	state Exp;
branches;
next	1.6;
commitid	KZAl4KEiw6a3Jixw;

1.6
date	2016.03.11.20.28.26;	author naddy;	state Exp;
branches;
next	1.5;
commitid	UYLP8TE6V7RS2GhJ;

1.5
date	2013.03.11.11.10.56;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2012.03.29.13.38.40;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2011.01.05.18.35.32;	author sebastia;	state Exp;
branches;
next	1.2;

1.2
date	2010.07.29.11.42.56;	author sebastia;	state Exp;
branches;
next	1.1;

1.1
date	2010.07.09.16.46.50;	author sebastia;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.07.09.16.46.50;	author sebastia;	state Exp;
branches;
next	;


desc
@@


1.7
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@# $OpenBSD: Makefile,v 1.6 2016/03/11 20:28:26 naddy Exp $

COMMENT =	PNG photo image extension for Tcl/Tk

DISTNAME =	tkpng0.9
PKGNAME =	tkpng-0.9
REVISION =	1
SHARED_LIBS =	tkpng09 0.0
CATEGORIES =	graphics
HOMEPAGE =	http://www.muonics.com/FreeStuff/TkPNG/
MAINTAINER =	Sebastian Reitenbach <sebastia@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =	z

MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=tkpng/}
EXTRACT_SUFX =	.tgz
MODULES =	x11/tk
BUILD_DEPENDS =	${MODTK_BUILD_DEPENDS}
RUN_DEPENDS =	${MODTK_RUN_DEPENDS}

FAKE_FLAGS =	PKG_DIR=tkpng \
		INSTALL_PROGRAM='${INSTALL_DATA}'

SEPARATE_BUILD =Yes
CONFIGURE_STYLE=gnu

CONFIGURE_ARGS+=--with-tcl=${MODTCL_LIBDIR} \
		--with-tk=${MODTK_LIBDIR} \
		--with-tkinclude=${MODTK_INCDIR} \
		--libdir=${MODTCL_TCLDIR} \
		LIBtkpng09_VERSION=${LIBtkpng09_VERSION} \
		CFLAGS="${CFLAGS} -pthread"

NO_TEST =	Yes
SUBST_VARS =	SHLIB_VERSION

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/tkpng
	${INSTALL_DATA} ${WRKSRC}/README ${WRKSRC}/license.terms \
		${PREFIX}/share/doc/tkpng

.include <bsd.port.mk>
@


1.6
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.5 2013/03/11 11:10:56 espie Exp $

SHARED_ONLY =	Yes
@


1.5
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2012/03/29 13:38:40 sthen Exp $
d32 1
a32 2
CONFIGURE_ARGS+=${CONFIGURE_SHARED} \
		--with-tcl=${MODTCL_LIBDIR} \
@


1.4
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/01/05 18:35:32 sebastia Exp $
a16 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d40 1
a40 1
NO_REGRESS =	Yes
@


1.3
log
@Update to new Tcl layout, makefile cleanup.

OK landry@@, stu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/07/29 11:42:56 sebastia Exp $
d32 1
a32 1
SEPARATE_BUILD =concurrent
@


1.2
log
@Style cleanup, and get rid of expensive SUBST_CMD in pre-configure.

OK, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/07/09 16:46:50 sebastia Exp $
d7 3
a9 4
V =		0.9
REVISION =	0
DISTNAME =	tkpng$V
PKGNAME =	tkpng-$V
d12 1
a12 3

HOMEPAGE = 	http://www.muonics.com/FreeStuff/TkPNG/

d16 29
a44 20
PERMIT_PACKAGE_CDROM =		Yes
PERMIT_PACKAGE_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes

MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=tkpng/}
EXTRACT_SUFX =		.tgz

MODULES =		x11/tk
BUILD_DEPENDS =		${MODTK_BUILD_DEPENDS}
RUN_DEPENDS =		${MODTK_RUN_DEPENDS}

SEPARATE_BUILD =	simple
CONFIGURE_STYLE =	gnu
CONFIGURE_ARGS =	--with-tcl=${MODTCL_LIBDIR} \
			--with-tk=${MODTK_LIBDIR} \
			--with-tkinclude=${MODTK_INCDIR}
NO_REGRESS =		Yes
SUBST_VARS =		SHLIB_VERSION
CONFIGURE_ENV =		LIBtkpng09_VERSION=${LIBtkpng09_VERSION}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
SHARED_ONLY=	Yes
d5 1
a5 1
COMMENT=	PNG photo image extension for Tcl/Tk
d7 6
a12 6
V=		0.9
DISTNAME=	tkpng$V
PKGNAME=	tkpng-$V
SHLIB_VERSION=	0.0
SHARED_LIBS=	tkpng09 ${SHLIB_VERSION}
CATEGORIES=	graphics
d14 1
a14 1
HOMEPAGE= 	http://www.muonics.com/FreeStuff/TkPNG/
d16 1
a16 1
MAINTAINER=	Sebastian Reitenbach <sebastia@@openbsd.org>
d19 20
a38 26
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		z

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=tkpng/}
EXTRACT_SUFX=	.tgz

MODULES=	x11/tk
BUILD_DEPENDS=	${MODTK_BUILD_DEPENDS}
RUN_DEPENDS=	${MODTK_RUN_DEPENDS}

SEPARATE_BUILD=	simple
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS=	--with-tcl=${MODTCL_LIBDIR} \
		--with-tk=${MODTK_LIBDIR} \
		--with-tkinclude=${MODTK_INCDIR} \
		--enable-64bit \
		--enable-64bit-vis \
		--enable-threads
NO_REGRESS=	Yes
SUBST_VARS=	SHLIB_VERSION

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure
@


1.1.1.1
log
@import tkpng-0.9
PNG photo image extension for Tcl/Tk

TkPNG provides support for PNG image manipulation with Tcl/Tk
and does not depend on libpng.

TkPNG supports the full range of color types, channels and bit depths
from 1 bit black & white to 16 bit per channel full color with alpha
(64 bit RGBA) and interlacing.  Ancillary "chunks" such as gamma,
color profile and text fields are ignored, although they are checked
at a minimum for correct CRC.

OK, landry@@, sthen@@

@
text
@@
