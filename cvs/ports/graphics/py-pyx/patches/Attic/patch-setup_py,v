head	1.2;
access;
symbols
	OPENBSD_4_9:1.1.1.1.0.14
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.12
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.10
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.8
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.6
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.4
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.2
	OPENBSD_4_3_BASE:1.1.1.1
	eric_2007_Dec_31:1.1.1.1
	eric:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2011.07.23.14.09.09;	author benoit;	state dead;
branches;
next	1.1;

1.1
date	2007.12.31.11.32.30;	author eric;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.12.31.11.32.30;	author eric;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update py-pyx to 0.11.1
- update PLIST
- update patches
- use MODPY_EGG_VERSION

ok Laurence Tratt (maintainer)
@
text
@$OpenBSD: patch-setup_py,v 1.1 2007/12/31 11:32:30 eric Exp $
--- setup.py.orig	Wed May 24 15:33:56 2006
+++ setup.py	Sun Dec 30 20:26:38 2007
@@@@ -75,7 +75,7 @@@@ adddatafiles("sharedir", "share/pyx", ["contrib/pyx.de
 
 # Note that on windows we can't install to absolute paths. Hence
 # we put the global pyxrc into the share directory as well.
-adddatafiles("pyxrcdir", os.name != "nt" and "/etc" or "share/pyx", ["pyxrc"])
+adddatafiles("pyxrcdir", "share/examples/pyx", ["pyxrc"])
 
 ################################################################################
 # extend install commands to overwrite siteconfig.py during build and install
@@@@ -115,7 +115,7 @@@@ class pyx_build_py(build_py):
 class pyx_install_data(install_data):
 
     def run(self):
-        self.siteconfiglines = []
+        self.siteconfiglines = ["import os\n"]
         for dir, files in self.data_files:
             # append siteconfiglines by "<siteconfigname> = <dir>"
 
@@@@ -127,7 +127,12 @@@@ class pyx_install_data(install_data):
             elif self.root:
                 dir = change_root(self.root, dir)
 
-            self.siteconfiglines.append("%s = '%s'\n" % (siteconfignames[files], dir))
+            if siteconfignames[files] in ("lfsdir", "sharedir"):
+                self.siteconfiglines.append("%s = '%s/share/pyx'\n" % (siteconfignames[files], os.getenv('LOCALBASE')))
+            elif siteconfignames[files] == "pyxrcdir":
+                self.siteconfiglines.append("pyxrcdir = '/etc'\n")
+            else:
+                self.siteconfiglines.append("%s = '%s'\n" % (siteconfignames[files], dir))
 
         install_data.run(self)
 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@PyX is a Python package for the creation of PostScript and PDF files.
It combines an abstraction of the PostScript drawing model with a
TeX/LaTeX interface. Complex tasks like 2d and 3d plots in
publication-ready quality are built out of these primitives. 


From Laurence Tratt (maintainer), some fixes by me,
test and help Will Maier, merdely@@

ok merdely@@

@
text
@@
