head	1.2;
access;
symbols
	OPENBSD_4_1:1.1.0.4
	OPENBSD_4_0:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2007.07.01.15.42.17;	author steven;	state dead;
branches;
next	1.1;

1.1
date	2007.05.23.21.15.22;	author rui;	state Exp;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2007.05.25.13.29.00;	author sturm;	state Exp;
branches;
next	;

1.1.4.1
date	2007.05.25.13.29.40;	author sturm;	state Exp;
branches;
next	1.1.4.2;

1.1.4.2
date	2007.07.06.14.37.36;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@maintenance update to 2.2.15

ok simon@@
@
text
@$OpenBSD: patch-plug-ins_common_sunras_c,v 1.1 2007/05/23 21:15:22 rui Exp $
--- plug-ins/common/sunras.c.orig	Wed May 23 21:54:14 2007
+++ plug-ins/common/sunras.c	Wed May 23 21:55:05 2007
@@@@ -873,7 +873,7 @@@@ set_color_table (gint32           image_ID,
   ncols = sunhdr->l_ras_maplength / 3;
   if (ncols <= 0) return;
 
-  for (j = 0; j < ncols; j++)
+  for (j = 0; j < MIN (ncols, 256); j++)
     {
       ColorMap[j*3]   = suncolmap[j];
       ColorMap[j*3+1] = suncolmap[j+ncols];
@


1.1
log
@roll in a distribution patch which fix a stack-based buffer overflow
http://secunia.com/advisories/25012/

ok naddy@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.4.1
log
@MFC:
MFC:
roll in a distribution patch which fix a stack-based buffer overflow
http://secunia.com/advisories/25012/
@
text
@d1 1
a1 1
$OpenBSD: patch-plug-ins_common_sunras_c,v 1.1 2007/05/23 21:15:22 rui Exp $
@


1.1.4.2
log
@MFC:
roll in a distribution patch which fix an integer overflow.
http://secunia.com/secunia_research/2007-63/advisory/
@
text
@d1 4
a4 4
$OpenBSD: patch-plug-ins_common_sunras_c,v 1.1.4.1 2007/05/25 13:29:40 sturm Exp $
--- plug-ins/common/sunras.c.orig	Fri Nov 26 04:52:01 2004
+++ plug-ins/common/sunras.c	Fri Jul  6 16:04:12 2007
@@@@ -873,7 +873,7 @@@@ set_color_table (gint32           image_
@


1.1.2.1
log
@MFC:
roll in a distribution patch which fix a stack-based buffer overflow
http://secunia.com/advisories/25012/
@
text
@d1 4
a4 4
$OpenBSD: patch-plug-ins_common_sunras_c,v 1.1 2007/05/23 21:15:22 rui Exp $
--- plug-ins/common/sunras.c.orig	Fri Nov 26 04:52:01 2004
+++ plug-ins/common/sunras.c	Fri May 25 14:58:39 2007
@@@@ -873,7 +873,7 @@@@ set_color_table (gint32           image_
@

