head	1.117;
access;
symbols
	OPENBSD_6_2:1.117.0.2
	OPENBSD_6_2_BASE:1.117
	OPENBSD_6_1:1.114.0.2
	OPENBSD_6_1_BASE:1.114
	OPENBSD_6_0:1.107.0.2
	OPENBSD_6_0_BASE:1.107
	OPENBSD_5_9:1.106.0.2
	OPENBSD_5_9_BASE:1.106
	OPENBSD_5_8:1.104.0.4
	OPENBSD_5_8_BASE:1.104
	OPENBSD_5_7:1.100.0.2
	OPENBSD_5_7_BASE:1.100
	OPENBSD_5_6:1.98.0.2
	OPENBSD_5_6_BASE:1.98
	OPENBSD_5_5:1.95.0.2
	OPENBSD_5_5_BASE:1.95
	OPENBSD_5_4:1.92.0.2
	OPENBSD_5_4_BASE:1.92
	OPENBSD_5_3:1.85.0.2
	OPENBSD_5_3_BASE:1.85
	OPENBSD_5_2:1.81.0.2
	OPENBSD_5_2_BASE:1.81
	OPENBSD_5_1_BASE:1.76
	OPENBSD_5_1:1.76.0.2
	OPENBSD_5_0:1.72.0.2
	OPENBSD_5_0_BASE:1.72
	OPENBSD_4_9:1.69.0.2
	OPENBSD_4_9_BASE:1.69
	OPENBSD_4_8:1.60.0.2
	OPENBSD_4_8_BASE:1.60
	OPENBSD_4_7:1.56.0.2
	OPENBSD_4_7_BASE:1.56
	OPENBSD_4_6:1.48.0.2
	OPENBSD_4_6_BASE:1.48
	OPENBSD_4_5:1.45.0.2
	OPENBSD_4_5_BASE:1.45
	OPENBSD_4_4:1.35.0.2
	OPENBSD_4_4_BASE:1.35
	OPENBSD_4_3:1.29.0.2
	OPENBSD_4_3_BASE:1.29
	OPENBSD_4_2:1.26.0.2
	OPENBSD_4_2_BASE:1.26
	OPENBSD_4_1:1.21.0.2
	OPENBSD_4_1_BASE:1.21
	OPENBSD_4_0:1.17.0.2
	OPENBSD_4_0_BASE:1.17
	OPENBSD_3_9:1.12.0.2
	OPENBSD_3_9_BASE:1.12
	OPENBSD_3_8:1.6.0.2
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.1.1.1.0.6
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.4
	OPENBSD_3_3_BASE:1.1.1.1
	OPENBSD_3_2:1.1.1.1.0.2
	OPENBSD_3_2_BASE:1.1.1.1
	brad_07-28-2002:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.117
date	2017.08.22.20.51.13;	author naddy;	state Exp;
branches;
next	1.116;
commitid	bhSmpp8YbSqKVfYo;

1.116
date	2017.08.22.18.03.52;	author tj;	state Exp;
branches;
next	1.115;
commitid	AXZik13A7f5WN0gs;

1.115
date	2017.06.01.22.26.08;	author giovanni;	state Exp;
branches;
next	1.114;
commitid	XGDhmQeONUu884IU;

1.114
date	2017.02.18.17.33.51;	author ajacoutot;	state Exp;
branches;
next	1.113;
commitid	kjw4RQ4AAUYktD89;

1.113
date	2017.02.18.17.32.37;	author ajacoutot;	state Exp;
branches;
next	1.112;
commitid	bw6Y0vDo3oixdVWL;

1.112
date	2016.12.17.17.27.02;	author zhuk;	state Exp;
branches;
next	1.111;
commitid	WRikPtEaUlOOrpez;

1.111
date	2016.11.08.14.38.55;	author sthen;	state Exp;
branches;
next	1.110;
commitid	4jMmnWqLI4QHPBZh;

1.110
date	2016.11.04.11.35.19;	author sthen;	state Exp;
branches;
next	1.109;
commitid	Gg5LRcnQlqj5M3F7;

1.109
date	2016.08.09.12.00.00;	author tb;	state Exp;
branches;
next	1.108;
commitid	eOoWp1KEpAATSjdQ;

1.108
date	2016.08.02.08.17.20;	author giovanni;	state Exp;
branches;
next	1.107;
commitid	V74u6a5DJHacv8Iu;

1.107
date	2016.03.20.16.12.24;	author naddy;	state Exp;
branches;
next	1.106;
commitid	guiZq8cnNbVyyHzx;

1.106
date	2015.12.30.10.59.32;	author giovanni;	state Exp;
branches;
next	1.105;
commitid	SsS4c7PZMa2yTScF;

1.105
date	2015.10.30.12.47.39;	author sthen;	state Exp;
branches;
next	1.104;
commitid	IIzCiS5xiW9Dmxlk;

1.104
date	2015.06.21.20.06.46;	author naddy;	state Exp;
branches;
next	1.103;
commitid	lQUvpheL7lbXcb6F;

1.103
date	2015.04.05.07.58.08;	author ajacoutot;	state Exp;
branches;
next	1.102;
commitid	XSN5izUXHQ4ggS8L;

1.102
date	2015.04.04.09.21.01;	author ajacoutot;	state Exp;
branches;
next	1.101;
commitid	kS3kwKZogsvzYmEY;

1.101
date	2015.03.27.08.11.28;	author ajacoutot;	state Exp;
branches;
next	1.100;
commitid	mHt3hIg3nxq5XDcy;

1.100
date	2014.10.18.14.27.11;	author giovanni;	state Exp;
branches;
next	1.99;
commitid	0yEJUpqaDPWGdu4M;

1.99
date	2014.09.13.16.36.53;	author ajacoutot;	state Exp;
branches;
next	1.98;
commitid	N2TalFGi4jKRwS2u;

1.98
date	2014.07.11.17.02.00;	author giovanni;	state Exp;
branches;
next	1.97;
commitid	rHC77RvqwJ7V9snH;

1.97
date	2014.04.30.14.01.29;	author naddy;	state Exp;
branches;
next	1.96;

1.96
date	2014.04.21.14.11.53;	author ajacoutot;	state Exp;
branches;
next	1.95;

1.95
date	2014.01.08.18.26.01;	author giovanni;	state Exp;
branches;
next	1.94;

1.94
date	2013.12.15.19.54.00;	author jasper;	state Exp;
branches;
next	1.93;

1.93
date	2013.09.12.17.19.51;	author okan;	state Exp;
branches;
next	1.92;

1.92
date	2013.06.20.06.54.36;	author ajacoutot;	state Exp;
branches
	1.92.2.1;
next	1.91;

1.91
date	2013.06.17.19.28.36;	author ajacoutot;	state Exp;
branches;
next	1.90;

1.90
date	2013.06.04.18.41.48;	author naddy;	state Exp;
branches;
next	1.89;

1.89
date	2013.05.31.15.34.48;	author ajacoutot;	state Exp;
branches;
next	1.88;

1.88
date	2013.03.21.08.45.18;	author ajacoutot;	state Exp;
branches;
next	1.87;

1.87
date	2013.03.11.16.21.45;	author giovanni;	state Exp;
branches;
next	1.86;

1.86
date	2013.03.11.11.10.52;	author espie;	state Exp;
branches;
next	1.85;

1.85
date	2013.01.31.15.08.09;	author giovanni;	state Exp;
branches;
next	1.84;

1.84
date	2012.11.27.12.12.41;	author jasper;	state Exp;
branches;
next	1.83;

1.83
date	2012.10.02.13.10.44;	author giovanni;	state Exp;
branches;
next	1.82;

1.82
date	2012.09.27.00.17.51;	author brad;	state Exp;
branches;
next	1.81;

1.81
date	2012.07.16.09.42.24;	author giovanni;	state Exp;
branches;
next	1.80;

1.80
date	2012.06.15.08.32.16;	author ajacoutot;	state Exp;
branches;
next	1.79;

1.79
date	2012.06.08.07.29.17;	author giovanni;	state Exp;
branches;
next	1.78;

1.78
date	2012.06.06.08.06.32;	author giovanni;	state Exp;
branches;
next	1.77;

1.77
date	2012.02.27.10.11.38;	author giovanni;	state Exp;
branches;
next	1.76;

1.76
date	2011.12.03.20.30.09;	author ajacoutot;	state Exp;
branches;
next	1.75;

1.75
date	2011.11.02.08.46.37;	author jasper;	state Exp;
branches;
next	1.74;

1.74
date	2011.09.16.10.02.36;	author espie;	state Exp;
branches;
next	1.73;

1.73
date	2011.08.19.08.57.07;	author jasper;	state Exp;
branches;
next	1.72;

1.72
date	2011.06.08.17.35.28;	author jasper;	state Exp;
branches
	1.72.2.1;
next	1.71;

1.71
date	2011.05.06.15.49.53;	author giovanni;	state Exp;
branches;
next	1.70;

1.70
date	2011.04.16.07.47.04;	author dcoppa;	state Exp;
branches;
next	1.69;

1.69
date	2010.12.03.16.33.59;	author giovanni;	state Exp;
branches;
next	1.68;

1.68
date	2010.11.22.10.16.08;	author espie;	state Exp;
branches;
next	1.67;

1.67
date	2010.11.17.08.05.14;	author espie;	state Exp;
branches;
next	1.66;

1.66
date	2010.10.24.21.21.00;	author ajacoutot;	state Exp;
branches;
next	1.65;

1.65
date	2010.10.18.18.13.13;	author espie;	state Exp;
branches;
next	1.64;

1.64
date	2010.10.11.08.14.42;	author jasper;	state Exp;
branches;
next	1.63;

1.63
date	2010.10.03.16.00.11;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2010.09.28.12.03.16;	author landry;	state Exp;
branches;
next	1.61;

1.61
date	2010.08.30.21.24.15;	author jasper;	state Exp;
branches;
next	1.60;

1.60
date	2010.07.30.06.27.52;	author giovanni;	state Exp;
branches;
next	1.59;

1.59
date	2010.07.08.16.16.51;	author giovanni;	state Exp;
branches;
next	1.58;

1.58
date	2010.07.06.17.17.35;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2010.04.24.13.08.37;	author ajacoutot;	state Exp;
branches;
next	1.56;

1.56
date	2009.12.30.09.06.12;	author giovanni;	state Exp;
branches;
next	1.55;

1.55
date	2009.12.22.16.06.40;	author ajacoutot;	state Exp;
branches;
next	1.54;

1.54
date	2009.12.06.18.44.25;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2009.11.17.19.15.05;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2009.11.12.16.35.56;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2009.09.25.12.43.16;	author giovanni;	state Exp;
branches;
next	1.50;

1.50
date	2009.08.17.12.10.26;	author giovanni;	state Exp;
branches;
next	1.49;

1.49
date	2009.08.10.06.31.44;	author kili;	state Exp;
branches;
next	1.48;

1.48
date	2009.06.10.20.27.09;	author kili;	state Exp;
branches
	1.48.2.1;
next	1.47;

1.47
date	2009.03.18.19.00.19;	author giovanni;	state Exp;
branches;
next	1.46;

1.46
date	2009.03.05.10.37.22;	author giovanni;	state Exp;
branches;
next	1.45;

1.45
date	2009.02.02.18.32.20;	author giovanni;	state Exp;
branches;
next	1.44;

1.44
date	2009.02.02.16.39.17;	author giovanni;	state Exp;
branches;
next	1.43;

1.43
date	2009.01.29.17.37.57;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2008.12.12.16.14.57;	author giovanni;	state Exp;
branches;
next	1.41;

1.41
date	2008.11.19.14.08.27;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2008.11.16.21.19.23;	author kili;	state Exp;
branches;
next	1.39;

1.39
date	2008.10.21.19.53.17;	author kili;	state Exp;
branches;
next	1.38;

1.38
date	2008.10.20.21.38.18;	author kili;	state Exp;
branches;
next	1.37;

1.37
date	2008.08.31.15.02.43;	author steven;	state Exp;
branches;
next	1.36;

1.36
date	2008.08.28.14.53.06;	author brad;	state Exp;
branches;
next	1.35;

1.35
date	2008.07.12.13.28.04;	author sthen;	state Exp;
branches;
next	1.34;

1.34
date	2008.06.29.20.44.51;	author sthen;	state Exp;
branches;
next	1.33;

1.33
date	2008.06.15.17.08.01;	author okan;	state Exp;
branches;
next	1.32;

1.32
date	2008.06.03.14.56.09;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2008.03.22.22.46.12;	author merdely;	state Exp;
branches;
next	1.30;

1.30
date	2008.03.21.14.53.51;	author merdely;	state Exp;
branches;
next	1.29;

1.29
date	2007.12.28.18.59.50;	author kili;	state Exp;
branches;
next	1.28;

1.28
date	2007.12.20.22.54.28;	author kili;	state Exp;
branches;
next	1.27;

1.27
date	2007.11.13.17.10.25;	author steven;	state Exp;
branches;
next	1.26;

1.26
date	2007.08.01.06.25.10;	author steven;	state Exp;
branches;
next	1.25;

1.25
date	2007.07.05.18.23.51;	author rui;	state Exp;
branches;
next	1.24;

1.24
date	2007.07.01.15.42.17;	author steven;	state Exp;
branches;
next	1.23;

1.23
date	2007.05.23.21.15.22;	author rui;	state Exp;
branches;
next	1.22;

1.22
date	2007.05.10.19.29.32;	author alek;	state Exp;
branches;
next	1.21;

1.21
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches
	1.21.2.1;
next	1.20;

1.20
date	2006.10.12.11.08.28;	author steven;	state Exp;
branches;
next	1.19;

1.19
date	2006.09.26.21.36.39;	author kurt;	state Exp;
branches;
next	1.18;

1.18
date	2006.09.18.11.50.40;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2006.08.03.19.56.08;	author espie;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2006.08.03.12.43.20;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2006.07.07.12.24.05;	author bernd;	state Exp;
branches;
next	1.14;

1.14
date	2006.06.13.13.25.31;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2006.04.22.10.50.41;	author bernd;	state Exp;
branches;
next	1.12;

1.12
date	2006.01.27.07.28.41;	author steven;	state Exp;
branches
	1.12.2.1;
next	1.11;

1.11
date	2006.01.18.13.10.03;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2005.12.27.18.08.45;	author steven;	state Exp;
branches;
next	1.9;

1.9
date	2005.11.15.09.21.51;	author wilfried;	state Exp;
branches;
next	1.8;

1.8
date	2005.11.14.14.39.14;	author wilfried;	state Exp;
branches;
next	1.7;

1.7
date	2005.11.04.07.36.10;	author bernd;	state Exp;
branches;
next	1.6;

1.6
date	2005.07.08.07.50.55;	author fgsch;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2004.12.14.11.09.54;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2004.11.30.01.06.35;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.21.19.02.16;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2003.12.27.00.26.17;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2002.07.28.21.55.10;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.07.28.21.55.10;	author brad;	state Exp;
branches;
next	;

1.6.2.1
date	2006.07.09.19.01.25;	author sturm;	state Exp;
branches;
next	;

1.12.2.1
date	2006.07.09.14.52.13;	author sturm;	state Exp;
branches;
next	;

1.17.2.1
date	2007.05.25.13.29.00;	author sturm;	state Exp;
branches;
next	1.17.2.2;

1.17.2.2
date	2007.07.06.14.38.29;	author sturm;	state Exp;
branches;
next	;

1.21.2.1
date	2007.05.25.13.29.40;	author sturm;	state Exp;
branches;
next	1.21.2.2;

1.21.2.2
date	2007.07.06.14.37.36;	author sturm;	state Exp;
branches;
next	;

1.48.2.1
date	2010.01.31.01.50.44;	author william;	state Exp;
branches;
next	;

1.72.2.1
date	2011.08.19.08.58.55;	author jasper;	state Exp;
branches;
next	;

1.92.2.1
date	2013.12.15.20.33.38;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.117
log
@fix syntax error
@
text
@# $OpenBSD: Makefile,v 1.116 2017/08/22 18:03:52 tj Exp $

COMMENT=	GNU Image Manipulation Program

DISTNAME=	gimp-2.8.22

SHARED_LIBS+=	gimp-2.0	272.0	# 800.0
SHARED_LIBS+=	gimpbase-2.0	272.0	# 800.0
SHARED_LIBS+=	gimpcolor-2.0	272.0	# 800.0
SHARED_LIBS+=	gimpconfig-2.0	272.0	# 800.0
SHARED_LIBS+=	gimpmath-2.0	272.0	# 800.0
SHARED_LIBS+=	gimpmodule-2.0	272.0	# 800.0
SHARED_LIBS+=	gimpthumb-2.0	272.0	# 800.0
SHARED_LIBS+=	gimpui-2.0	272.0	# 800.0
SHARED_LIBS+=	gimpwidgets-2.0	272.0	# 800.0

CATEGORIES=	graphics
MAINTAINER=	Giovanni Bechis <giovanni@@openbsd.org>

DIR=		gimp/v2.8
MASTER_SITES=	https://download.gimp.org/pub/${DIR}/ \
		https://www.mirrorservice.org/sites/ftp.gimp.org/pub/${DIR}/ \
		http://mirrors.go-parts.com/gimp/${DIR}/

HOMEPAGE=	http://www.gimp.org/

EXTRACT_SUFX=	.tar.bz2

BUILD_DEPENDS=	textproc/libxslt \
		x11/py-gtk2
RUN_DEPENDS=	devel/desktop-file-utils \
		x11/gtk+3,-guic \
		x11/py-gtk2
LIB_DEPENDS=	archivers/bzip2 \
		devel/libexecinfo \
		x11/gtk+2 \
		graphics/aalib \
		x11/dbus-glib \
		graphics/libexif \
		graphics/libmng \
		graphics/tiff \
		graphics/libwmf \
		print/ghostscript/gnu \
		print/poppler \
		graphics/gegl>=0.2 \
		net/curl

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xmu Xpm Xrandr Xrender Xt aa atk-1.0 avahi-client
WANTLIB += avahi-common babl-0.1 bz2 c cairo croco-0.6 crypto cups
WANTLIB += cupsimage curl dbus-1 dbus-glib-1 execinfo exif expat ffi
WANTLIB += fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 gegl-0.2
WANTLIB += gio-2.0 glib-2.0 gmodule-2.0 gmp gnutls gobject-2.0 graphite2
WANTLIB += gs gthread-2.0 gtk-x11-2.0 harfbuzz hogweed idn2 ijs jasper
WANTLIB += jbig2dec jpeg lcms lcms2 lzma m mng ncurses nettle nghttp2
WANTLIB += openjp2 p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png poppler poppler-glib pthread pthread-stubs
WANTLIB += rsvg-2 ssl tasn1 tiff wmf-0.2 wmflite-0.2 xcb xcb-render
WANTLIB += xcb-shm xml2 unistring z

MODULES=	devel/gettext \
		textproc/intltool \
		lang/python

USE_GMAKE=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+=--enable-gimp-console \
		--with-libcurl \
		--with-pdbgen \
		--without-gvfs \
		--without-webkit
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"

post-install:
	${MODPY_BIN} ${MODPY_LIBDIR}/compileall.py ${PREFIX}/lib/gimp/2.0/plug-ins
	@@rm ${PREFIX}/lib/gimp/2.0/modules/*.{a,la}
	@@rm ${PREFIX}/lib/gimp/2.0/python/*.{a,la}

.include <bsd.port.mk>
@


1.116
log
@prioritize https over http/ftp for distfiles.

ok aja jasper for gnome, aja for gnutls, giovanni for gimp, sthen for the rest
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2017/06/01 22:26:08 giovanni Exp $
d22 2
a23 2
		https://www.mirrorservice.org/sites/ftp.gimp.org/pub/${DIR}/
		http://mirrors.go-parts.com/gimp/${DIR}/ \
@


1.115
log
@update to 2.8.22
hints and ok tb@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2017/02/18 17:33:51 ajacoutot Exp $
d21 2
a22 1
MASTER_SITES=	http://download.gimp.org/pub/${DIR}/ \
a23 1
		http://www.mirrorservice.org/sites/ftp.gimp.org/pub/${DIR}/
@


1.114
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2017/02/18 17:32:37 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	gimp-2.8.18
REVISION=	4
d19 1
a19 1
	
d34 2
a35 1
LIB_DEPENDS=	devel/libexecinfo \
d62 1
a62 1
WANTLIB += xcb-shm xml2 z
d72 1
d79 1
@


1.113
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2016/12/17 17:27:02 zhuk Exp $
d6 1
a6 1
REVISION=	3
@


1.112
log
@The graphics/openjpeg wasn't the LIB_DEPENDS of gimp, it came through
the poppler. So zap the LIB_DEPENDS line and change openjpeg to openjp2
in WANTLIB. The "make lib-depends-check" agrees.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2016/11/08 14:38:55 sthen Exp $
d57 1
a57 1
WANTLIB += gs gthread-2.0 gtk-x11-2.0 harfbuzz hogweed idn ijs jasper
@


1.111
log
@re-add idn to WANTLIB for a few where it didn't just come from curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2016/11/04 11:35:19 sthen Exp $
d6 1
a6 1
REVISION=	2
a45 1
		graphics/openjpeg \
d59 1
a59 1
WANTLIB += openjpeg p11-kit pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
@


1.110
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2016/08/09 12:00:00 tb Exp $
d6 1
a6 1
REVISION=	1
d58 1
a58 1
WANTLIB += gs gthread-2.0 gtk-x11-2.0 harfbuzz hogweed ijs jasper
@


1.109
log
@Guard against printf("%s", NULL) that can be hit on exit and in the
open dialog.

ok giovanni
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2016/08/02 08:17:20 giovanni Exp $
d6 1
a6 1
REVISION=	0
d52 12
a63 12
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xmu Xpm Xrandr Xrender Xt aa atk-1.0 avahi-client
WANTLIB += avahi-common babl-0.1 bz2 c cairo croco-0.6 crypto
WANTLIB += cups cupsimage curl dbus-1 dbus-glib-1 execinfo exif
WANTLIB += expat ffi fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gegl-0.2 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 graphite2
WANTLIB += gs gthread-2.0 gtk-x11-2.0 harfbuzz idn ijs jasper
WANTLIB += jbig2dec jpeg lcms lcms2 m mng ncurses nghttp2 openjpeg pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png poppler
WANTLIB += poppler-glib pthread pthread-stubs rsvg-2 ssl tiff
WANTLIB += wmf-0.2 wmflite-0.2 xcb xcb-render xcb-shm xml2 z
WANTLIB += gmp gnutls hogweed lzma nettle p11-kit tasn1
@


1.108
log
@Bugfix update to 2.8.18
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2016/03/20 16:12:24 naddy Exp $
d6 1
@


1.107
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2015/12/30 10:59:32 giovanni Exp $
d5 1
a5 1
DISTNAME=	gimp-2.8.16
@


1.106
log
@Bugfix update to 2.8.16
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2015/10/30 12:47:39 sthen Exp $
a3 2

SHARED_ONLY=	Yes
@


1.105
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2015/06/21 20:06:46 naddy Exp $
d7 1
a7 2
DISTNAME=	gimp-2.8.14
REVISION=	3
d25 1
a25 1
		http://www.mirrorservice.org/sites/ftp.gimp.org/pub/${DIR}
@


1.104
log
@update master sites, ftp.sunet.se is being decommissioned; ok giovanni@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2015/04/05 07:58:08 ajacoutot Exp $
d8 1
a8 1
REVISION=	2
d61 1
a61 1
WANTLIB += jbig2dec jpeg lcms lcms2 m mng ncurses openjpeg pango-1.0
@


1.103
log
@Needs devel/libexecinfo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2015/04/04 09:21:01 ajacoutot Exp $
d25 2
a26 2
		ftp://ftp.sunet.se/pub/gnu/${DIR}/ \
		ftp://ftp.cs.umn.edu/pub/gimp/pub/${DIR}/
@


1.102
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2015/03/27 08:11:28 ajacoutot Exp $
d8 1
a8 1
REVISION=	1
d37 2
a38 1
LIB_DEPENDS=	x11/gtk+2 \
d65 1
@


1.101
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2014/10/18 14:27:11 giovanni Exp $
d8 1
a8 1
REVISION=	0
@


1.100
log
@Bugfix update to 2.8.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2014/09/13 16:36:53 ajacoutot Exp $
d8 1
d35 1
a35 1
		x11/gtk+2,-guic \
@


1.99
log
@--disable-gtk-doc is handled by the infrastructure now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2014/07/11 17:02:00 giovanni Exp $
d7 1
a7 1
DISTNAME=	gimp-2.8.10
@


1.98
log
@
Bugfix update to 2.8.10
switch master_sites to http
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2014/04/30 14:01:29 naddy Exp $
a70 2
		--disable-gtk-doc \
		--disable-gtk-doc-html \
a75 5
# If one of these tools is found at configure stage, it might be used,
# no matter whether we use --disable-gtk-doc or not.
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
				ac_cv_path_GTKDOC_REBASE="" \
				ac_cv_path_GTKDOC_MKPDF=""
@


1.97
log
@drop workarounds for missing AI_ADDRCONFIG
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2014/04/21 14:11:53 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	gimp-2.8.4
REVISION=	7
d23 1
a23 1
MASTER_SITES=	ftp://ftp.gimp.org/pub/${DIR}/ \
@


1.96
log
@Sync wantlib for kerberos removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2014/01/08 18:26:01 giovanni Exp $
d8 1
a8 1
REVISION=	6
@


1.95
log
@
Backport fix for bug 694417, gimp segfaults after changing color of text blocks
https://bugzilla.gnome.org/show_bug.cgi?id=694417

spotted by william.os4y
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2013/12/15 19:54:00 jasper Exp $
d8 1
a8 1
REVISION=	5
d53 11
a63 14
WANTLIB=	ICE SM X11 Xcomposite Xcursor Xdamage \
		Xext Xfixes Xi Xinerama Xmu Xpm Xrandr Xrender Xt \
		aa asn1 atk-1.0 avahi-client avahi-common babl-0.1 bz2 \
		c cairo croco-0.6 crypto \
		cups cupsimage curl dbus-1 dbus-glib-1 execinfo \
		exif expat ffi fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0 \
		gegl-0.2 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gs \
		gssapi gthread-2.0 gtk-x11-2.0 harfbuzz \
		idn ijs jasper jbig2dec jpeg krb5 lcms lcms2 \
		m mng ncurses openjpeg pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		pcre pixman-1 png poppler poppler-glib pthread pthread-stubs \
		rsvg-2 ssl tiff wmf-0.2 wmflite-0.2 xcb xcb-render \
		xcb-shm xml2 z com_err graphite2 heimbase \
		roken wind
@


1.94
log
@Security fix for CVE-2013-1978
gimp: XWD plugin color map heap-based buffer overflow

ok giovanni@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2013/09/12 17:19:51 okan Exp $
d8 1
a8 1
REVISION=	4
@


1.93
log
@sample SYSCONFDIR/gimp/; ok giovanni
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/06/20 06:54:36 ajacoutot Exp $
d8 1
a8 1
REVISION=	3
@


1.92
log
@Unbreak after hx509 and ntlm removal from Kerberos.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2013/06/17 19:28:36 ajacoutot Exp $
d8 1
a8 1
REVISION=	2
@


1.92.2.1
log
@Security fix for CVE-2013-1978
gimp: XWD plugin color map heap-based buffer overflow

ok giovanni@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2013/06/20 06:54:36 ajacoutot Exp $
d8 1
a8 1
REVISION=	3
@


1.91
log
@Some trivial WANTLIB and tweaks to unbreak after the Heimdal update.
Stop hardcoding the Kerberos libs and use krb5-config(1).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2013/06/04 18:41:48 naddy Exp $
d8 1
a8 1
REVISION=	1
d65 1
a65 1
		xcb-shm xml2 z com_err graphite2 heimbase heimntlm hx509 \
@


1.90
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2013/05/31 15:34:48 ajacoutot Exp $
d8 1
a8 1
REVISION=	0
d65 2
a66 1
		xcb-shm xml2 z
@


1.89
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2013/03/21 08:45:18 ajacoutot Exp $
d79 1
a79 1
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include -I${X11BASE}/include" \
@


1.88
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2013/03/11 16:21:45 giovanni Exp $
d8 1
d60 2
a61 2
		gssapi gthread-2.0 gtk-x11-2.0 harfbuzz icudata icule \
		icuuc idn ijs jasper jbig2dec jpeg krb5 lcms lcms2 \
@


1.87
log
@
Bugfix update to 2.8.4 version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2013/03/11 11:10:52 espie Exp $
a70 1
USE_LIBTOOL=	Yes
@


1.86
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2013/01/31 15:08:09 giovanni Exp $
d7 1
a7 2
DISTNAME=	gimp-2.8.2
REVISION=	1
d52 5
a56 4
WANTLIB=	GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
		Xext Xfixes Xi Xinerama Xmu Xpm Xrandr Xrender Xt Xxf86vm \
		aa asn1 atk-1.0 babl-0.1 bz2 c cairo croco-0.6 crypto \
		cups cupsimage curl dbus-1 dbus-glib-1 drm execinfo \
d63 1
a63 1
		rsvg-2 ssl stdc++ tiff wmf-0.2 wmflite-0.2 xcb xcb-render \
@


1.85
log
@
Disable textproc/gtk-doc hidden dependency, spotted by Moritz Grimm
help & ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2012/11/27 12:12:41 jasper Exp $
a51 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.84
log
@Security fix for CVE-2012-5576,
Memory corruption vulnerability when reading XWD files

ok giovanni@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2012/10/02 13:10:44 giovanni Exp $
d8 1
a8 1
REVISION=	0
d77 2
d84 5
@


1.83
log
@
Update to 2.8.2
Update and sort WANTLIB (from Brad)
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2012/09/27 00:17:51 brad Exp $
d8 1
@


1.82
log
@- Mark SHARED_ONLY as Gimp uses plugins and merge PFRAG.shared into the PLIST
- Sync WANTLIB
- Remove use of CONFIGURE_SHARED since this is SHARED_ONLY anyway
- Remove unnecessary patching for the autoconf script and pkg-config files

From giovanni@@

- Enable the PostScript plugin
- Update distinfo

ok giovanni@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2012/07/16 09:42:24 giovanni Exp $
d7 1
a7 2
DISTNAME=	gimp-2.8.0
REVISION=	2
d55 12
a66 16
WANTLIB=	ICE SM X11 Xext Xmu Xpm Xrender Xt atk-1.0 c \
		Xcomposite Xdamage pcre crypto idn ssl \
		fontconfig freetype glib-2.0 gmodule-2.0 \
		gobject-2.0 jpeg>=62 lcms lcms2 m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pixman-1 png>=4 \
		pthread ncurses xml2 z cairo dbus-1 \
		Xau Xcursor Xdmcp Xfixes Xi Xinerama Xrandr \
		expat Xcomposite Xdamage gthread-2.0 pcre \
		croco-0.6 gio-2.0 rsvg-2 babl-0.1 \
		pthread-stubs xcb execinfo xcb-render \
		gdk-x11-2.0 gdk_pixbuf-2.0 bz2 jasper \
		gtk-x11-2.0 tiff>=35 aa>=1.3 dbus-glib-1 \
		exif mng poppler>=3 wmf-0.2 wmflite-0.2 \
		poppler-glib>=3 gegl-0.2 openjpeg>=4 curl \
		GL Xxf86vm drm xcb-shm ffi stdc++ harfbuzz \
		icudata icule icuuc
@


1.81
log
@
reenable mng plugin
disable exif to xmp conversion to fix loading of some jpeg images
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2012/06/15 08:32:16 ajacoutot Exp $
d5 2
d8 1
a8 1
REVISION=	1
d44 1
d59 1
a59 1
		gobject-2.0 jpeg>=62 lcms>=1 m pango-1.0 \
d70 2
a71 1
		GL Xxf86vm drm xcb-shm ffi stdc++
d80 1
a80 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=--without-gvfs \
d82 2
a83 1
		--without-webkit --enable-gimp-console
d86 4
@


1.80
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2012/06/08 07:29:17 giovanni Exp $
d6 1
a6 1
REVISION=	0
@


1.79
log
@
Unbreak the build, x11/py-gtk2 is needed at build time too
spotted by Nigel Taylor, thanks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2012/06/06 08:06:32 giovanni Exp $
d6 1
@


1.78
log
@
Update to 2.8.0
Major changes are described at http://www.gimp.org/release-notes/gimp-2.8.html
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2012/02/27 10:11:38 giovanni Exp $
d29 2
a30 1
BUILD_DEPENDS=	textproc/libxslt
d32 2
a33 1
		x11/gtk+2,-guic
a44 2

RUN_DEPENDS+=	x11/py-gtk2
@


1.77
log
@
Update to 2.6.12
This is the last release of the 2.6.x branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2011/12/03 20:30:09 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	gimp-2.6.12
d7 9
a15 9
SHARED_LIBS=	gimp-2.0	271.0	\
		gimpbase-2.0	271.0	\
		gimpcolor-2.0	271.0	\
		gimpconfig-2.0	271.0	\
		gimpmath-2.0	271.0	\
		gimpmodule-2.0	271.0	\
		gimpthumb-2.0	271.0	\
		gimpui-2.0	271.0	\
		gimpwidgets-2.0	271.0
d20 1
a20 1
DIR=		gimp/v2.6
d40 1
a40 1
		graphics/gegl \
a41 1
		x11/py-gtk2 \
d62 1
a62 1
		gdk-x11-2.0 gdk_pixbuf-2.0 \
d65 1
a65 1
		poppler-glib>=3 gegl-0.1 openjpeg>=4 curl \
d74 1
a74 2
AUTOCONF_VERSION= 2.68
CONFIGURE_STYLE= autoconf
d77 2
a78 2
		--without-gnomevfs --with-libcurl \
		--without-webkit --enable-gimp-remote
@


1.76
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2011/11/02 08:46:37 jasper Exp $
d5 1
a5 2
DISTNAME=	gimp-2.6.11
REVISION=	5
d75 1
a75 1
AUTOCONF_VERSION= 2.67
@


1.75
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2011/09/16 10:02:36 espie Exp $
d6 1
a6 1
REVISION=	4
d31 2
a32 1
RUN_DEPENDS=	devel/desktop-file-utils
@


1.74
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2011/08/19 08:57:07 jasper Exp $
d6 1
a6 1
REVISION=	3
d67 1
a67 1
		GL Xxf86vm drm xcb-shm
@


1.73
log
@fix heap corruption and buffer overflow (CVE-2011-2896)
patch from upstream git

ok giovanni@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/06/08 17:35:28 jasper Exp $
d6 1
a6 1
REVISION=	2
@


1.72
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2011/05/06 15:49:53 giovanni Exp $
d6 1
a6 1
REVISION=	1
@


1.72.2.1
log
@fix heap corruption and buffer overflow (CVE-2011-2896)
patch from upstream git

ok giovanni@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2011/06/08 17:35:28 jasper Exp $
d6 1
a6 1
REVISION=	2
@


1.71
log
@
Use correct autoconf_version, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2011/04/16 07:47:04 dcoppa Exp $
d6 1
a6 1
REVISION=	0
@


1.70
log
@Fix goption warning, consequence of the update to glib-2.28.2.

Ok ajacoutot@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2010/12/03 16:33:59 giovanni Exp $
d75 1
a75 1
AUTOCONF_VERSION= 2.64
@


1.69
log
@
Update to 2.6.11, fixes print support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2010/11/22 10:16:08 espie Exp $
d6 2
@


1.68
log
@remaining WANTLIB go .>=   to >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2010/11/17 08:05:14 espie Exp $
d5 10
a14 11
DISTNAME=	gimp-2.6.10
REVISION=	3
SHARED_LIBS=	gimp-2.0	270.0	\
		gimpbase-2.0	270.0	\
		gimpcolor-2.0	270.0	\
		gimpconfig-2.0	270.0	\
		gimpmath-2.0	270.0	\
		gimpmodule-2.0	270.0	\
		gimpthumb-2.0	270.0	\
		gimpui-2.0	270.0	\
		gimpwidgets-2.0	270.0
d61 1
a61 1
		xcb-render-util gdk-x11-2.0 gdk_pixbuf-2.0 \
d64 2
a65 1
		poppler-glib>=3 gegl-0.1 openjpeg>=4 curl
a72 1
USE_GROFF =	Yes
@


1.67
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2010/10/24 21:21:00 ajacoutot Exp $
d55 2
a56 2
		gobject-2.0 jpeg.>=62 lcms.>=1 m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pixman-1 png.>=4 \
d63 3
a65 3
		gtk-x11-2.0 tiff.>=35 aa.>=1.3 dbus-glib-1 \
		exif mng poppler.>=3 wmf-0.2 wmflite-0.2 \
		poppler-glib.>=3 gegl-0.1 openjpeg.>=4 curl
@


1.66
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2010/10/18 18:13:13 espie Exp $
d29 14
a42 14
BUILD_DEPENDS=	::textproc/libxslt
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils
LIB_DEPENDS=	::x11/gtk+2 \
		::graphics/aalib \
		::x11/dbus-glib \
		::graphics/libexif \
		::graphics/libmng \
		::graphics/tiff \
		::graphics/libwmf \
		::print/poppler \
		::graphics/gegl \
		::graphics/openjpeg \
		::x11/py-gtk2 \
		::net/curl
d44 1
a44 1
RUN_DEPENDS+=	::x11/py-gtk2
@


1.65
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2010/10/11 08:14:42 jasper Exp $
a70 1
USE_X11=	Yes
@


1.64
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2010/10/03 16:00:11 ajacoutot Exp $
d74 1
@


1.63
log
@Fix WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2010/09/28 12:03:16 landry Exp $
d6 1
a6 1
REVISION=	2
d57 1
a57 1
		pthread ncurses xml2 z cairo dbus-1 glitz \
@


1.62
log
@Fix WANTLIB (remove gsf-1/bz2) after librsvg update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/08/30 21:24:15 jasper Exp $
d6 1
a6 1
REVISION=	1
d64 1
a64 1
		exif mng wmf.>=6 wmflite.>=6 poppler.>=3 \
@


1.61
log
@- bump for pythonia
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/07/30 06:27:52 giovanni Exp $
d6 1
a6 1
REVISION=	0
d60 1
a60 1
		bz2 croco-0.6 gio-2.0 gsf-1 rsvg-2 babl-0.1 \
@


1.60
log
@
Bugfix update to 2.6.10 and switch to new dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/07/08 16:16:51 giovanni Exp $
d6 1
@


1.59
log
@
Update to 2.6.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/07/06 17:17:35 espie Exp $
d5 10
a14 10
DISTNAME=	gimp-2.6.9
SHARED_LIBS=	gimp-2.0	269.0	\
		gimpbase-2.0	269.0	\
		gimpcolor-2.0	269.0	\
		gimpconfig-2.0	269.0	\
		gimpmath-2.0	269.0	\
		gimpmodule-2.0	269.0	\
		gimpthumb-2.0	269.0	\
		gimpui-2.0	269.0	\
		gimpwidgets-2.0	269.0
d30 12
a41 12
LIB_DEPENDS=	gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2 \
		aa.>=1.3::graphics/aalib \
		dbus-glib-1::x11/dbus-glib \
		exif::graphics/libexif \
		mng::graphics/libmng \
		tiff.>=35::graphics/tiff \
		wmf.>=6,wmflite.>=6::graphics/libwmf \
		poppler.>=3,poppler-glib.>=3::print/poppler \
		gegl-0.1::graphics/gegl \
		openjpeg.>=4::graphics/openjpeg \
		:py-gtk2-*:x11/py-gtk2 \
		curl::net/curl
d43 1
a43 1
RUN_DEPENDS+=	:py-gtk2-*:x11/py-gtk2
d61 4
a64 1
		xcb-render-util
@


1.58
log
@should be a RUN_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/04/24 13:08:37 ajacoutot Exp $
d5 10
a14 11
DISTNAME=	gimp-2.6.8
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	268.0	\
		gimpbase-2.0	268.0	\
		gimpcolor-2.0	268.0	\
		gimpconfig-2.0	268.0	\
		gimpmath-2.0	268.0	\
		gimpmodule-2.0	268.0	\
		gimpthumb-2.0	268.0	\
		gimpui-2.0	268.0	\
		gimpwidgets-2.0	268.0
d39 1
d43 1
a43 1
RUN_DEPENDS+= 	:py-gtk2-*:x11/py-gtk2
d70 1
a70 1
AUTOCONF_VERSION= 2.62
@


1.57
log
@Fix depends specs after recent babl+gegl updates.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2009/12/30 09:06:12 giovanni Exp $
d42 2
@


1.56
log
@
Update to bugfix release 2.6.8
ok jasper@@ stephan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2009/12/22 16:06:40 ajacoutot Exp $
d6 1
d39 1
a39 1
		gegl-0.0::graphics/gegl \
d57 3
a59 2
		bz2 croco-0.6 gio-2.0 gsf-1 rsvg-2 babl-0.0 \
		pthread-stubs xcb
@


1.55
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2009/12/06 18:44:25 ajacoutot Exp $
d5 10
a14 11
DISTNAME=	gimp-2.6.7
SHARED_LIBS=	gimp-2.0	267.0	\
		gimpbase-2.0	267.0	\
		gimpcolor-2.0	267.0	\
		gimpconfig-2.0	267.0	\
		gimpmath-2.0	267.0	\
		gimpmodule-2.0	267.0	\
		gimpthumb-2.0	267.0	\
		gimpui-2.0	267.0	\
		gimpwidgets-2.0	267.0
PKGNAME=	${DISTNAME}p3
d66 1
a66 1
AUTOCONF_VERSION= 2.61
d69 1
a69 1
CONFIGURE_ARGS+=--without-gtkhtml2 --without-gvfs \
@


1.54
log
@Add missing gtk-update-icon-cache goo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/11/17 19:15:05 jasper Exp $
d15 1
a15 1
PKGNAME=	${DISTNAME}p2
@


1.53
log
@Security fix for CVE-2009-3909
Gimp PSD Image Parsing Integer Overflow Vulnerability

From upstream git.

ok giovanni@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/11/12 16:35:56 jasper Exp $
d15 1
a15 1
PKGNAME=	${DISTNAME}p1
@


1.52
log
@SECURITY FIX for gimp to prevent integer overflows.
Secunia Research, advisory SA37232 and CVE CVE-2009-1570.

Patch from upstream git.

ok giovanni@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/09/25 12:43:16 giovanni Exp $
d15 1
a15 1
PKGNAME=	${DISTNAME}p0
@


1.51
log
@
Update to 2.6.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/08/17 12:10:26 giovanni Exp $
d15 1
@


1.50
log
@
- let the help subsystem work
- remove a dependency on x11/gnome/vfs2
- remove a hidden dependency on devel/iso-codes
- let it build with different python versions
- regen plist
ok sthen@@, "i guess it makes sense" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/08/10 06:31:44 kili Exp $
d5 10
a14 11
DISTNAME=	gimp-2.6.6
PKGNAME=	${DISTNAME}p2
SHARED_LIBS=	gimp-2.0	266.0	\
		gimpbase-2.0	266.0	\
		gimpcolor-2.0	266.0	\
		gimpconfig-2.0	266.0	\
		gimpmath-2.0	266.0	\
		gimpmodule-2.0	266.0	\
		gimpthumb-2.0	266.0	\
		gimpui-2.0	266.0	\
		gimpwidgets-2.0	266.0
@


1.49
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/06/10 20:27:09 kili Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d41 1
a41 1
		gnomevfs-2.>=2000::x11/gnome/vfs2
d50 1
a50 2
		Xcomposite Xdamage pcre \
		avahi-client avahi-common avahi-glib \
d57 1
a57 2
		ORBit-2 bz2 croco-0.6 crypto gconf-2 gio-2.0 \
		gsf-1 rsvg-2 ssl util babl-0.0 \
d61 2
a62 1
		textproc/intltool
d71 2
a72 2
		--without-libcurl --without-webkit \
		--enable-gimp-remote
@


1.48
log
@
WANTLIB changes due to avahi dependency. Bump affected PKGNAMEs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/03/18 19:00:19 giovanni Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d59 2
a60 1
		gsf-1 rsvg-2 ssl util babl-0.0
@


1.48.2.1
log
@MFC:

SECURITY FIX

Resolves SA37232 CVE-2009-1570 CVE-2009-3909

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2009/06/10 20:27:09 kili Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.47
log
@
Update to 2.6.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/03/05 10:37:22 giovanni Exp $
d6 1
d51 1
@


1.46
log
@
Update to 2.6.5.
Ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/02/02 18:32:20 giovanni Exp $
d5 10
a14 10
DISTNAME=	gimp-2.6.5
SHARED_LIBS=	gimp-2.0	265.0	\
		gimpbase-2.0	265.0	\
		gimpcolor-2.0	265.0	\
		gimpconfig-2.0	265.0	\
		gimpmath-2.0	265.0	\
		gimpmodule-2.0	265.0	\
		gimpthumb-2.0	265.0	\
		gimpui-2.0	265.0	\
		gimpwidgets-2.0	265.0
@


1.45
log
@
Fix PLIST typo
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/02/02 16:39:17 giovanni Exp $
d5 10
a14 11
DISTNAME=	gimp-2.6.4
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	264.0	\
		gimpbase-2.0	264.0	\
		gimpcolor-2.0	264.0	\
		gimpconfig-2.0	264.0	\
		gimpmath-2.0	264.0	\
		gimpmodule-2.0	264.0	\
		gimpthumb-2.0	264.0	\
		gimpui-2.0	264.0	\
		gimpwidgets-2.0	264.0
@


1.44
log
@
Update to gimp-2.6.4.
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/01/29 17:37:57 ajacoutot Exp $
d6 1
@


1.43
log
@- fix missing and/or wrong desktop goos

Thanks to sthen@@ who came up with a nice big list of potential missing
desktop goos but got caught up by crack-attack...
ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2008/12/12 16:14:57 giovanni Exp $
d5 10
a14 11
DISTNAME=	gimp-2.6.3
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	263.0	\
		gimpbase-2.0	263.0	\
		gimpcolor-2.0	263.0	\
		gimpconfig-2.0	263.0	\
		gimpmath-2.0	263.0	\
		gimpmodule-2.0	263.0	\
		gimpthumb-2.0	263.0	\
		gimpui-2.0	263.0	\
		gimpwidgets-2.0	263.0
@


1.42
log
@

Update to 2.6.3
Change my email address
Ok, kili@@, okan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2008/11/19 14:08:27 ajacoutot Exp $
d6 1
d30 1
@


1.41
log
@- fix pkg install after recent librsvg update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2008/11/16 21:19:23 kili Exp $
d5 10
a14 11
DISTNAME=	gimp-2.6.2
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	262.0	\
		gimpbase-2.0	262.0	\
		gimpcolor-2.0	262.0	\
		gimpconfig-2.0	262.0	\
		gimpmath-2.0	262.0	\
		gimpmodule-2.0	262.0	\
		gimpthumb-2.0	262.0	\
		gimpui-2.0	262.0	\
		gimpwidgets-2.0	262.0
d17 1
a17 1
MAINTAINER=	Giovanni Bechis <g.bechis@@snb.it>
@


1.40
log
@
Update to 2.6.2.
Enable python and printing support. (Note: the pros and cons about python
have been discussed at p2k8, and most people agreed that it isn't an issue).
Adjust license information (it's GPLv2).
Add a MAINTAINER (who maintained this program for quite some time now).

From the "new" maintainer Giovanni Bechis <bigionews@@snb.it>. Thanks!

Tested on i386 and powerpc by me, and on amd64 by simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2008/10/21 19:53:17 kili Exp $
d6 1
d39 2
a40 1
		:py-gtk2-*:x11/py-gtk2
d56 1
a56 1
		ORBit-2 bz2 croco-0.6 crypto gconf-2 gio-2.0 gnomevfs-2 \
@


1.39
log
@
Remove a bogus ::graphics/gegl LIB_DEPENDS. Found by Giovanni Bechis.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/10/20 21:38:18 kili Exp $
d5 10
a14 11
DISTNAME=	gimp-2.6.0
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	260.0	\
		gimpbase-2.0	260.0	\
		gimpcolor-2.0	260.0	\
		gimpconfig-2.0	260.0	\
		gimpmath-2.0	260.0	\
		gimpmodule-2.0	260.0	\
		gimpthumb-2.0	260.0	\
		gimpui-2.0	260.0	\
		gimpwidgets-2.0	260.0
d17 2
d28 1
a28 1
RUN_DEPENDS=    :wget-*:net/wget
d37 2
a38 1
		gegl-0.0::graphics/gegl
d40 1
a40 1
# GPL
d66 3
a68 3
CONFIGURE_ARGS+=--without-gtkhtml2 --without-print \
		--without-gnomevfs --without-libcurl --without-webkit \
		--disable-python --enable-gimp-remote
@


1.38
log
@
Update to 2.6. From Giovanni Bechis.

"Yes, now is the time to commit this anyway." ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/08/31 15:02:43 steven Exp $
d6 1
a32 1
		::graphics/gegl \
@


1.37
log
@update to 2.4.7

from Giovanni Bechis <bigionews at snb.it>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2008/07/12 13:28:04 sthen Exp $
d5 10
a14 10
DISTNAME=	gimp-2.4.7
SHARED_LIBS=	gimp-2.0	247.0	\
		gimpbase-2.0	247.0	\
		gimpcolor-2.0	247.0	\
		gimpconfig-2.0	247.0	\
		gimpmath-2.0	247.0	\
		gimpmodule-2.0	247.0	\
		gimpthumb-2.0	247.0	\
		gimpui-2.0	247.0	\
		gimpwidgets-2.0	247.0
d17 1
a17 1
DIR=		gimp/v2.4
a28 1
		art_lgpl_2.>=5::graphics/libart \
d32 1
d35 2
a36 1
		poppler.>=3,poppler-glib.>=3::print/poppler
d51 3
a53 1
		expat Xcomposite Xdamage gthread-2.0 pcre
d64 3
a66 2
CONFIGURE_ARGS+=--without-gtkhtml2 --without-librsvg --without-print \
		--without-gnomevfs --without-libcurl --disable-python
@


1.36
log
@Remove the altivec FLAVOR as this currently does not do anything
since the AltiVec support is not actually being built and even if
the autoconf test is bypassed to make sure it is built it isn't
being used with the current code in the Gimp.

ok kili@@
@
text
@d5 10
a14 11
DISTNAME=	gimp-2.4.6
PKGNAME=	${DISTNAME}p2
SHARED_LIBS=	gimp-2.0	246.00	\
		gimpbase-2.0	246.00	\
		gimpcolor-2.0	246.00	\
		gimpconfig-2.0	246.00	\
		gimpmath-2.0	246.00	\
		gimpmodule-2.0	246.00	\
		gimpthumb-2.0	246.00	\
		gimpui-2.0	246.00	\
		gimpwidgets-2.0	246.00
@


1.35
log
@enable D-Bus support and bump package. ok brad@@
remove duplicate pixman-1 in WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2008/06/29 20:44:51 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
a58 1

a59 1

a65 9

FLAVORS=	altivec
FLAVOR?=

.if ${FLAVOR:L} == "altivec"
ONLY_FOR_ARCHS= powerpc   
.else
CONFIGURE_ARGS+= --disable-altivec
.endif
@


1.34
log
@sync WANTLIB following cairo update. ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2008/06/15 17:08:01 okan Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d31 1
d49 1
a49 1
		pthread ncurses xml2 z cairo glitz \
d51 1
a51 1
		expat Xcomposite Xdamage gthread-2.0 pcre pixman-1
d65 1
a65 2
		--without-gnomevfs --without-libcurl --without-dbus \
		--disable-python
@


1.33
log
@update to 2.4.6 from Giovanni Bechis

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2008/06/03 14:56:09 ajacoutot Exp $
d6 1
d47 1
a47 1
		pangocairo-1.0 pangoft2-1.0 png.>=4 \
@


1.32
log
@- use the in-tree intltool utilities (textproc/intltool MODULE) instead
of the ones bundled in sources
PLIST_DB seems happy with the change so no bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2008/03/22 22:46:12 merdely Exp $
d5 10
a14 11
DISTNAME=	gimp-2.4.5
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	245.00	\
		gimpbase-2.0	245.00	\
		gimpcolor-2.0	245.00	\
		gimpconfig-2.0	245.00	\
		gimpmath-2.0	245.00	\
		gimpmodule-2.0	245.00	\
		gimpthumb-2.0	245.00	\
		gimpui-2.0	245.00	\
		gimpwidgets-2.0	245.00
d49 1
a49 1
		expat Xcomposite Xdamage gthread-2.0 pcre
@


1.31
log
@Remove un-needed stuff from the Makefile.  The gimp build process takes
care of these things (--enable-altivec, --enable-mmx, --enable-sse).

From brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2008/03/21 14:53:51 merdely Exp $
a26 1
BUILD_DEPENDS=	:p5-XML-Parser-*:textproc/p5-XML-Parser
d52 2
a53 1
MODULES=	devel/gettext
@


1.30
log
@Update to 2.4.5.

From Giovanni.
ok simon@@, kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2007/12/28 18:59:50 kili Exp $
d6 1
a73 1
CONFIGURE_ARGS+= --enable-altivec
a75 9
.endif

.if ${MACHINE_ARCH} == "i386" || ${MACHINE} == "amd64"
CONFIGURE_ARGS+= --enable-mmx
.if ${MACHINE_ARCH} == "amd64"
CONFIGURE_ARGS+= --enable-sse
.else
CONFIGURE_ARGS+= --disable-sse
.endif
@


1.29
log
@
Add some missing requirements (especially gthread-2.0) to .pc files to
unbreak at least graphics/ufraw.

ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/12/20 22:54:28 kili Exp $
d5 10
a14 11
DISTNAME=	gimp-2.4.3
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	243.00	\
		gimpbase-2.0	243.00	\
		gimpcolor-2.0	243.00	\
		gimpconfig-2.0	243.00	\
		gimpmath-2.0	243.00	\
		gimpmodule-2.0	243.00	\
		gimpthumb-2.0	243.00	\
		gimpui-2.0	243.00	\
		gimpwidgets-2.0	243.00
@


1.28
log
@
Update to 2.4.3.
From (and based on previous 2.4.1 submission) Giovanni Bechis.
sse enabled and tested for amd64 by fgsch@@.

ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/11/13 17:10:25 steven Exp $
d6 1
@


1.27
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/08/01 06:25:10 steven Exp $
d5 10
a14 10
DISTNAME=	gimp-2.2.17
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	200.17	\
		gimpbase-2.0	200.17	\
		gimpcolor-2.0	200.17	\
		gimpmath-2.0	200.17	\
		gimpmodule-2.0	200.17	\
		gimpthumb-2.0	200.17	\
		gimpui-2.0	200.17	\
		gimpwidgets-2.0	200.17
d17 1
a17 1
DIR=		gimp/v2.2
d20 1
a20 2
		ftp://ftp.cs.umn.edu/pub/${DIR}/ \
		ftp://ftp.funet.fi/pub/sci/graphics/packages/gimp/${DIR}/
d24 2
d34 2
a35 1
		wmf.>=6,wmflite.>=6::graphics/libwmf
d48 3
a50 2
		pthread ncurses xml2 z cairo glitz
WANTLIB += Xau Xcursor Xdmcp Xfixes Xi Xinerama Xrandr expat
d62 3
a64 2
CONFIGURE_ARGS+= --disable-print --without-gtkhtml2 --without-librsvg \
		 --disable-sse
d66 1
a66 1
		LDFLAGS="-L${LOCALBASE}/lib"
d80 5
@


1.26
log
@update to gimp 2.2.17

from Giovanni Bechis <bigionews@@snb.it>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/07/05 18:23:51 rui Exp $
d6 1
d42 1
@


1.25
log
@roll in a distribution patch which fix an integer overflow.
http://secunia.com/secunia_research/2007-63/advisory/

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2007/07/01 15:42:17 steven Exp $
d3 1
a3 1
COMMENT=	"GNU Image Manipulation Program"
d5 9
a13 10
DISTNAME=	gimp-2.2.15
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	200.15	\
		gimpbase-2.0	200.15	\
		gimpcolor-2.0	200.15	\
		gimpmath-2.0	200.15	\
		gimpmodule-2.0	200.15	\
		gimpthumb-2.0	200.15	\
		gimpui-2.0	200.15	\
		gimpwidgets-2.0	200.15
@


1.24
log
@maintenance update to 2.2.15

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2007/05/23 21:15:22 rui Exp $
d6 1
@


1.23
log
@roll in a distribution patch which fix a stack-based buffer overflow
http://secunia.com/advisories/25012/

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/05/10 19:29:32 alek Exp $
d5 9
a13 10
DISTNAME=	gimp-2.2.14
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	200.14	\
		gimpbase-2.0	200.14	\
		gimpcolor-2.0	200.14	\
		gimpmath-2.0	200.14	\
		gimpmodule-2.0	200.14	\
		gimpthumb-2.0	200.14	\
		gimpui-2.0	200.14	\
		gimpwidgets-2.0	200.14
d53 1
a53 1
AUTOCONF_VERSION= 2.59
@


1.22
log
@Update to 2.2.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/12/16 12:22:33 espie Exp $
d6 1
@


1.21
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2006/10/12 11:08:28 steven Exp $
d5 9
a13 9
DISTNAME=	gimp-2.2.13
SHARED_LIBS=	gimp-2.0	200.13	\
		gimpbase-2.0	200.13	\
		gimpcolor-2.0	200.13	\
		gimpmath-2.0	200.13	\
		gimpmodule-2.0	200.13	\
		gimpthumb-2.0	200.13	\
		gimpui-2.0	200.13	\
		gimpwidgets-2.0	200.13
d45 1
@


1.21.2.1
log
@MFC:
MFC:
roll in a distribution patch which fix a stack-based buffer overflow
http://secunia.com/advisories/25012/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/12/16 12:22:33 espie Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.21.2.2
log
@MFC:
roll in a distribution patch which fix an integer overflow.
http://secunia.com/secunia_research/2007-63/advisory/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21.2.1 2007/05/25 13:29:40 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.20
log
@maintenance update to gimp 2.2.13

testing and ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2006/09/26 21:36:39 kurt Exp $
d24 1
a24 2
BUILD_DEPENDS=	:pkgconfig->=0.12.0p1:devel/pkgconfig \
		:p5-XML-Parser-*:textproc/p5-XML-Parser
@


1.19
log
@link gimp with -pthread so it can dlopen threaded shlibs. fixes gimp when
used under gnome. From Mikolaj Kucharski <eth0 at o2.pl>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/09/18 11:50:40 espie Exp $
d5 9
a13 10
DISTNAME=	gimp-2.2.12
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	200.12	\
		gimpbase-2.0	200.12	\
		gimpcolor-2.0	200.12	\
		gimpmath-2.0	200.12	\
		gimpmodule-2.0	200.12	\
		gimpthumb-2.0	200.12	\
		gimpui-2.0	200.12	\
		gimpwidgets-2.0	200.12
@


1.18
log
@zap unneeded 0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/08/03 19:56:08 espie Exp $
d6 1
d46 1
a46 1
		ncurses xml2 z cairo glitz
@


1.17
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/08/03 12:43:20 espie Exp $
d27 1
a27 1
LIB_DEPENDS=	gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+2 \
d41 4
a44 4
WANTLIB=	ICE SM X11 Xext Xmu Xpm Xrender Xt atk-1.0.0.0 c \
		fontconfig freetype glib-2.0.0.0 gmodule-2.0.0.0 \
		gobject-2.0.0.0 jpeg.>=62 lcms.>=1 m pango-1.0.0.0 \
		pangocairo-1.0.0.0 pangoft2-1.0.0.0 png.>=4 \
@


1.17.2.1
log
@MFC:
roll in a distribution patch which fix a stack-based buffer overflow
http://secunia.com/advisories/25012/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/08/03 19:56:08 espie Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.17.2.2
log
@MFC:
roll in a distribution patch which fix an integer overflow.
http://secunia.com/secunia_research/2007-63/advisory/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17.2.1 2007/05/25 13:29:00 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.16
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/07/07 12:24:05 bernd Exp $
d43 1
a43 1
		gobject-2.0.0.0 jpeg.62 lcms.1 m pango-1.0.0.0 \
@


1.15
log
@Security update to gimp-2.2.12. (CVE-2006-3404)

Fixes a buffer overflow when loading XCF files.

More information:
http://secunia.com/advisories/20976/

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/06/13 13:25:31 bernd Exp $
d28 2
a29 2
		aa.1.3::graphics/aalib \
		art_lgpl_2.5::graphics/libart \
d32 2
a33 2
		tiff.35::graphics/tiff \
		wmf.6,wmflite.6::graphics/libwmf
d44 1
a44 1
		pangocairo-1.0.0.0 pangoft2-1.0.0.0 png.4 \
@


1.14
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/04/22 10:50:41 bernd Exp $
d5 9
a13 10
DISTNAME=	gimp-2.2.11
PKGNAME=	${DISTNAME}p0
SHARED_LIBS=	gimp-2.0	200.11	\
		gimpbase-2.0	200.11	\
		gimpcolor-2.0	200.11	\
		gimpmath-2.0	200.11	\
		gimpmodule-2.0	200.11	\
		gimpthumb-2.0	200.11	\
		gimpui-2.0	200.11	\
		gimpwidgets-2.0	200.11
@


1.13
log
@Maintenance update to gimp-2.2.11.

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/01/27 07:28:41 steven Exp $
d6 1
d42 1
a42 1
WANTLIB=	ICE SM X11 Xext Xft Xmu Xpm Xrender Xt atk-1.0.0.0 c \
d45 2
a46 2
		pangox-1.0.0.0 pangoxft-1.0.0.0 pangoft2-1.0.0.0 png.4 \
		ncurses xml2 z
@


1.12
log
@maintenance update to gimp 2.2.10

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/01/18 13:10:03 steven Exp $
d5 9
a13 9
DISTNAME=	gimp-2.2.10
SHARED_LIBS=	gimp-2.0	200.10	\
		gimpbase-2.0	200.10	\
		gimpcolor-2.0	200.10	\
		gimpmath-2.0	200.10	\
		gimpmodule-2.0	200.10	\
		gimpthumb-2.0	200.10	\
		gimpui-2.0	200.10	\
		gimpwidgets-2.0	200.10
@


1.12.2.1
log
@Fixes a buffer overflow when loading XCF files. (CVE-2006-3404)

More information:
http://secunia.com/advisories/20976/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/01/27 07:28:41 steven Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.11
log
@fix WANTLIB after gtk+2 downgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/12/27 18:08:45 steven Exp $
d5 9
a13 22
DISTNAME=	gimp-2.2.9
PKGNAME=	${DISTNAME}p2
SHARED_LIBS=		gimp-2.0	200.9	\
			gimpbase-2.0	200.9	\
			gimpcolor-2.0	200.9	\
			gimpmath-2.0	200.9	\
			gimpmodule-2.0	200.9	\
			gimpthumb-2.0	200.9	\
			gimpui-2.0	200.9	\
			gimpwidgets-2.0	200.9
MODGNU_SHARED_LIBS=	gimp-2.0	''	\
			gimpbase-2.0	''	\
			gimpcolor-2.0	''	\
			gimpmath-2.0	''	\
			gimpmodule-2.0	''	\
			gimpthumb-2.0	''	\
			gimpui-2.0	''	\
			gimpwidgets-2.0	''

.for _name _version in ${SHARED_LIBS}
LIB${_name}_ALIAS=	${_name:C/[.-]/_/g}
.endfor
@


1.10
log
@SHARED_LIBS
ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/11/15 09:21:51 wilfried Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d54 2
a55 2
WANTLIB=	ICE SM X11 Xext Xmu Xpm Xrender Xt atk-1.0.0.0 c cairo \
		fontconfig freetype glib-2.0.0.0 glitz gmodule-2.0.0.0 \
d57 2
a58 1
		pangocairo-1.0.0.0 pangoft2-1.0.0.0 png.4 xml2 z
@


1.9
log
@fix packages-specs brain fart from yesterday and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/11/14 14:39:14 wilfried Exp $
d7 21
@


1.8
log
@fix wantlib + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/11/04 07:36:10 bernd Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d17 2
a18 2
		::textproc/p5-XML-Parser
RUN_DEPENDS=    ::net/wget
@


1.7
log
@Update to gimp-2.2.9.

ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/07/08 07:50:55 fgsch Exp $
d6 1
d17 2
a18 2
		:p5-XML-Parser-*:textproc/p5-XML-Parser
RUN_DEPENDS=    :wget-*:net/wget
d33 4
a36 4
WANTLIB=	ICE SM X11 Xft Xmu Xpm Xrender Xt atk-1.0.0.0 c fontconfig \
		freetype glib-2.0.0.0 gmodule-2.0.0.0 gobject-2.0.0.0 \
		jpeg.62 lcms.1 m pango-1.0.0.0 pangoft2-1.0.0.0 \
		pangox-1.0.0.0 pangoxft-1.0.0.0 png.4 xml2 z
@


1.6
log
@update to gimp 2.2.8; input and ok from many.
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	gimp-2.2.8
d47 1
a47 1
CONFIGURE_ARGS+= --disable-print --disable-gtkhtml --disable-svg \
@


1.6.2.1
log
@Fixes a buffer overflow when loading XCF files. (CVE-2006-3404)

More information:
http://secunia.com/advisories/20976/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/07/08 07:50:55 fgsch Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.5
log
@remove extraneous WANTLIB picked up in wrong libmpeg.la...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/11/30 01:06:35 espie Exp $
d5 1
a5 2
VERSION=	1.2.5
DISTNAME=	gimp-${VERSION}
d7 1
a7 1
DIR=		gimp/v1.2/v${VERSION}
d11 1
a11 1
		ftp://ftp.funet.fi/pub/mirrors/ftp.gimp.org/${DIR}/
d15 4
a18 1
LIB_DEPENDS+=	gtk.1.2,gdk.1.2::x11/gtk+ \
d20 5
a24 7
		mpeg.13::graphics/mpeg-lib \
		png.2::graphics/png \
		tiff.35::graphics/tiff
BUILD_DEPENDS=	:wget-*:net/wget
RUN_DEPENDS=	:wget-*:net/wget

MAINTAINER=	Brad Smith <brad@@openbsd.org>
a30 2
WANTLIB=		ICE SM X11 Xext Xi Xmu Xpm Xt c \
			glib gmodule iconv intl jpeg m z
d32 6
a37 2
CONFDIR=	${SYSCONFDIR}/gimp/1.2
SUBST_VARS=	CONFDIR
d40 25
a64 7
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --disable-perl --disable-print --disable-gtkdoc
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		GNOME_CONFIG=/dev/null \
		EMACS=/dev/null
@


1.4
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/08/21 19:02:16 espie Exp $
d31 2
a32 3
WANTLIB=		ICE SM X11 Xext Xi Xmu Xpm Xt Xv Xxf86dga Xxf86vm c \
			glib gmodule iconv intl jpeg m ogg ossaudio stdc++ \
			vorbis vorbisfile z
@


1.3
log
@Make sure we don't grab gtkxhtml nor other stuff on the way.
okay pvalchev, naddy, brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/12/27 00:26:17 brad Exp $
d31 3
@


1.2
log
@upgrade to Gimp 1.2.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/07/28 21:55:10 brad Exp $
d38 1
a38 1
CONFIGURE_ARGS+= --disable-perl --disable-print
d40 3
a42 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2002/06/14 17:18:06 todd Exp $
d5 1
a5 1
VERSION=	1.2.3
d26 1
d32 3
d38 1
a38 1
CONFIGURE_ARGS+= --enable-static --disable-perl
a40 14

pre-extract:
	@@if [ -f ${LOCALBASE}/lib/libgimp.so.?.? ]; then \
	   echo "+-------------------"; \
	   echo "| ERROR: you MUST remove the existing gimp installation"; \
	   echo "| before compiling this version. To fully remove run"; \
	   echo "| these commands as user root"; \
	   echo "|"; \
	   echo "|      pkg_delete -f `pkg_info -e 'gimp-*'`"; \
	   echo "|      ldconfig -R"; \
	   echo "|"; \
	   echo "+-------------------"; \
	   exit 1; \
	fi
@


1.1.1.1
log
@The Gimp stable port (1.2.3)
@
text
@@
