head	1.78;
access;
symbols
	OPENBSD_6_1:1.78.0.2
	OPENBSD_6_1_BASE:1.78
	OPENBSD_6_0:1.77.0.12
	OPENBSD_6_0_BASE:1.77
	OPENBSD_5_9:1.77.0.8
	OPENBSD_5_9_BASE:1.77
	OPENBSD_5_8:1.77.0.10
	OPENBSD_5_8_BASE:1.77
	OPENBSD_5_7:1.77.0.6
	OPENBSD_5_7_BASE:1.77
	OPENBSD_5_6:1.77.0.4
	OPENBSD_5_6_BASE:1.77
	OPENBSD_5_5:1.77.0.2
	OPENBSD_5_5_BASE:1.77
	OPENBSD_5_4:1.76.0.16
	OPENBSD_5_4_BASE:1.76
	OPENBSD_5_3:1.76.0.14
	OPENBSD_5_3_BASE:1.76
	OPENBSD_5_2:1.76.0.12
	OPENBSD_5_2_BASE:1.76
	OPENBSD_5_1_BASE:1.76
	OPENBSD_5_1:1.76.0.10
	OPENBSD_5_0:1.76.0.8
	OPENBSD_5_0_BASE:1.76
	OPENBSD_4_9:1.76.0.6
	OPENBSD_4_9_BASE:1.76
	OPENBSD_4_8:1.76.0.4
	OPENBSD_4_8_BASE:1.76
	OPENBSD_4_7:1.76.0.2
	OPENBSD_4_7_BASE:1.76
	OPENBSD_4_6:1.75.0.4
	OPENBSD_4_6_BASE:1.75
	OPENBSD_4_5:1.75.0.2
	OPENBSD_4_5_BASE:1.75
	OPENBSD_4_4:1.73.0.2
	OPENBSD_4_4_BASE:1.73
	OPENBSD_4_3:1.72.0.24
	OPENBSD_4_3_BASE:1.72
	OPENBSD_4_2:1.72.0.22
	OPENBSD_4_2_BASE:1.72
	OPENBSD_4_1:1.72.0.20
	OPENBSD_4_1_BASE:1.72
	OPENBSD_4_0:1.72.0.18
	OPENBSD_4_0_BASE:1.72
	OPENBSD_3_9:1.72.0.16
	OPENBSD_3_9_BASE:1.72
	OPENBSD_3_8:1.72.0.14
	OPENBSD_3_8_BASE:1.72
	OPENBSD_3_7:1.72.0.12
	OPENBSD_3_7_BASE:1.72
	OPENBSD_3_6:1.72.0.10
	OPENBSD_3_6_BASE:1.72
	OPENBSD_3_5:1.72.0.8
	OPENBSD_3_5_BASE:1.72
	OPENBSD_3_4:1.72.0.6
	OPENBSD_3_4_BASE:1.72
	OPENBSD_3_3:1.72.0.4
	OPENBSD_3_3_BASE:1.72
	OPENBSD_3_2:1.72.0.2
	OPENBSD_3_2_BASE:1.72
	OPENBSD_3_1:1.68.0.2
	OPENBSD_3_1_BASE:1.68
	OPENBSD_3_0:1.64.0.2
	OPENBSD_3_0_BASE:1.64
	OPENBSD_2_9_TRACKING_SWITCH:1.64
	OPENBSD_2_9:1.58.0.2
	OPENBSD_2_9_BASE:1.58
	OPENBSD_2_8:1.56.0.2
	OPENBSD_2_8_BASE:1.56
	OPENBSD_2_7:1.38.0.2
	OPENBSD_2_7_BASE:1.38
	OPENBSD_2_6:1.23.0.2
	OPENBSD_2_6_BASE:1.23
	OPENBSD_2_5:1.18.0.2
	OPENBSD_2_5_BASE:1.18
	OPENBSD_2_4:1.7.0.2
	OPENBSD_2_4_BASE:1.7
	marc_1998-Jun-08:1.1.1.2
	marc:1.1.1
	gimp0_54_1:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.78
date	2016.09.14.11.18.06;	author czarkoff;	state Exp;
branches;
next	1.77;
commitid	w1WT8LETz0hsgpp8;

1.77
date	2013.09.12.17.18.50;	author okan;	state Exp;
branches;
next	1.76;

1.76
date	2010.02.01.17.00.13;	author espie;	state Exp;
branches;
next	1.75;

1.75
date	2008.09.01.11.17.54;	author espie;	state Exp;
branches;
next	1.74;

1.74
date	2008.08.29.11.07.59;	author sthen;	state Exp;
branches;
next	1.73;

1.73
date	2008.03.21.15.27.21;	author merdely;	state Exp;
branches;
next	1.72;

1.72
date	2002.07.28.21.59.40;	author brad;	state Exp;
branches;
next	1.71;

1.71
date	2002.06.14.17.18.06;	author todd;	state Exp;
branches;
next	1.70;

1.70
date	2002.05.13.23.31.24;	author espie;	state Exp;
branches;
next	1.69;

1.69
date	2002.04.27.16.38.26;	author brad;	state Exp;
branches;
next	1.68;

1.68
date	2001.11.10.15.00.48;	author espie;	state Exp;
branches
	1.68.2.1;
next	1.67;

1.67
date	2001.11.01.02.39.05;	author brad;	state Exp;
branches;
next	1.66;

1.66
date	2001.10.29.02.06.52;	author brad;	state Exp;
branches;
next	1.65;

1.65
date	2001.10.24.12.19.22;	author espie;	state Exp;
branches;
next	1.64;

1.64
date	2001.08.09.01.43.16;	author brad;	state Exp;
branches
	1.64.2.1;
next	1.63;

1.63
date	2001.08.03.13.50.21;	author brad;	state Exp;
branches;
next	1.62;

1.62
date	2001.07.13.11.24.18;	author naddy;	state Exp;
branches;
next	1.61;

1.61
date	2001.06.05.20.16.03;	author brad;	state Exp;
branches;
next	1.60;

1.60
date	2001.05.24.02.27.35;	author kevlo;	state Exp;
branches;
next	1.59;

1.59
date	2001.05.15.13.11.06;	author brad;	state Exp;
branches;
next	1.58;

1.58
date	2001.04.11.23.26.25;	author brad;	state Exp;
branches;
next	1.57;

1.57
date	2001.01.26.00.34.29;	author brad;	state Exp;
branches;
next	1.56;

1.56
date	2000.10.22.22.15.18;	author marc;	state Exp;
branches;
next	1.55;

1.55
date	2000.10.22.15.51.12;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2000.10.08.18.55.44;	author brad;	state Exp;
branches;
next	1.53;

1.53
date	2000.09.28.01.39.46;	author brad;	state Exp;
branches;
next	1.52;

1.52
date	2000.09.24.07.04.07;	author brad;	state Exp;
branches;
next	1.51;

1.51
date	2000.08.23.02.36.17;	author brad;	state Exp;
branches;
next	1.50;

1.50
date	2000.07.23.02.37.11;	author brad;	state Exp;
branches;
next	1.49;

1.49
date	2000.07.04.02.09.21;	author krw;	state Exp;
branches;
next	1.48;

1.48
date	2000.06.28.02.15.54;	author brad;	state Exp;
branches;
next	1.47;

1.47
date	2000.06.25.22.20.24;	author brad;	state Exp;
branches;
next	1.46;

1.46
date	2000.06.25.07.32.43;	author brad;	state Exp;
branches;
next	1.45;

1.45
date	2000.06.15.19.02.36;	author brad;	state Exp;
branches;
next	1.44;

1.44
date	2000.06.11.08.44.18;	author fgsch;	state Exp;
branches;
next	1.43;

1.43
date	2000.06.01.22.34.00;	author fgsch;	state Exp;
branches;
next	1.42;

1.42
date	2000.05.31.22.02.29;	author marc;	state Exp;
branches;
next	1.41;

1.41
date	2000.05.31.21.49.44;	author marc;	state Exp;
branches;
next	1.40;

1.40
date	2000.05.21.20.01.01;	author fgsch;	state Exp;
branches;
next	1.39;

1.39
date	2000.05.21.12.39.00;	author fgsch;	state Exp;
branches;
next	1.38;

1.38
date	2000.04.12.18.39.13;	author turan;	state Exp;
branches
	1.38.2.1;
next	1.37;

1.37
date	2000.03.24.23.28.09;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2000.03.08.02.46.02;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2000.03.05.18.30.28;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2000.02.16.05.19.59;	author brad;	state Exp;
branches;
next	1.33;

1.33
date	2000.02.15.05.04.32;	author turan;	state Exp;
branches;
next	1.32;

1.32
date	2000.02.12.08.02.21;	author turan;	state Exp;
branches;
next	1.31;

1.31
date	2000.02.11.06.30.49;	author brad;	state Exp;
branches;
next	1.30;

1.30
date	2000.02.10.17.46.06;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2000.02.08.02.47.18;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2000.02.07.10.06.16;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2000.01.09.05.58.26;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2000.01.06.03.10.56;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	99.11.10.13.17.05;	author jakob;	state Exp;
branches;
next	1.24;

1.24
date	99.10.29.02.02.11;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	99.10.09.17.17.23;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	99.09.22.22.10.51;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	99.06.13.03.36.50;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	99.05.31.02.22.09;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	99.05.05.20.51.09;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	99.04.11.02.55.55;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	99.04.08.04.21.52;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	99.03.31.08.00.24;	author marc;	state Exp;
branches;
next	1.15;

1.15
date	99.03.31.04.42.34;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	99.03.30.06.52.48;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	99.03.21.06.38.59;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	99.03.03.04.17.26;	author marc;	state Exp;
branches;
next	1.11;

1.11
date	99.03.02.04.41.03;	author marc;	state Exp;
branches;
next	1.10;

1.10
date	99.02.21.04.26.11;	author marc;	state Exp;
branches;
next	1.9;

1.9
date	99.02.18.02.37.29;	author marc;	state Exp;
branches;
next	1.8;

1.8
date	98.11.08.01.38.42;	author marc;	state Exp;
branches;
next	1.7;

1.7
date	98.06.14.08.10.27;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	98.06.13.23.26.54;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	98.06.10.02.56.16;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	98.06.08.17.16.07;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.04.10.21.40.09;	author marc;	state dead;
branches;
next	1.2;

1.2
date	98.03.11.18.04.10;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	97.12.12.05.47.33;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.12.05.47.33;	author angelos;	state Exp;
branches;
next	1.1.1.2;

1.1.1.2
date	98.06.08.16.33.49;	author marc;	state Exp;
branches;
next	;

1.38.2.1
date	2000.09.15.04.53.23;	author marc;	state Exp;
branches;
next	;

1.64.2.1
date	2002.06.14.17.23.32;	author todd;	state Exp;
branches;
next	;

1.68.2.1
date	2002.06.14.17.22.13;	author todd;	state Exp;
branches;
next	;


desc
@@


1.78
log
@+deskew
@
text
@# $OpenBSD: Makefile,v 1.77 2013/09/12 17:18:50 okan Exp $

     SUBDIR =
     SUBDIR += stable
     SUBDIR += deskew
     SUBDIR += liquid-rescale

.include <bsd.port.subdir.mk>
@


1.77
log
@remove commented out snapshot SUBDIR; ok giovanni
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2010/02/01 17:00:13 espie Exp $
d5 1
@


1.76
log
@SUBDIR += is wrong: it means the makefile will pick up SUBDIR from env, thus
breaking cd /usr/ports && SUBDIR=some/path make something for
category makefiles. While there, also put spaces around += uniformously.
okay naddy@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2008/09/01 11:17:54 espie Exp $
a5 1
#     SUBDIR += snapshot
@


1.75
log
@+liquid-rescale
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2008/08/29 11:07:59 sthen Exp $
d3 1
@


1.74
log
@the altivec FLAVOR was removed. from viq, thanks!.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2008/03/21 15:27:21 merdely Exp $
d3 3
a5 2
     SUBDIR+= stable
#     SUBDIR+= snapshot
@


1.73
log
@Add altivec FLAVOR to the right file.

Pointed out by ajacoutot (thanks)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2002/07/28 21:59:40 brad Exp $
a3 1
     SUBDIR+= stable,altivec
@


1.72
log
@bye bye old port.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2002/06/14 17:18:06 todd Exp $
d4 1
@


1.71
log
@SECURITY wrt shmget()
request from brad@@; found by David Fries <dfries@@mail.win.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2002/05/13 23:31:24 espie Exp $
d3 2
a4 1
COMMENT=	"GNU Image Manipulation Program"
d6 1
a6 50
VERSION=	1.2.2
DISTNAME=	gimp-${VERSION}
PKGNAME=	${DISTNAME}p1
CATEGORIES=	graphics
NEED_VERSION=	1.486
V=		gimp/v1.2/${VERSION}
MASTER_SITES=	ftp://ftp.gimp.org/pub/$V/ \
		ftp://ftp.sunet.se/pub/gnu/$V/ \
		ftp://ftp.cs.umn.edu/pub/$V/ \
		ftp://ftp.funet.fi/pub/mirrors/ftp.gimp.org/$V/

HOMEPAGE=	http://www.gimp.org/

LIB_DEPENDS+=	gtk.1.2,gdk.1.2::x11/gtk+ \
		aa.1.3::graphics/aalib \
		mpeg.13::graphics/mpeg-lib \
		png.2::graphics/png \
		tiff.35::graphics/tiff
BUILD_DEPENDS=	:wget-*:net/wget
RUN_DEPENDS=	:wget-*:net/wget

MAINTAINER=	Brad Smith <brad@@openbsd.org>

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

USE_X11=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --enable-static --disable-perl
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

pre-extract:
	@@if [ -f ${LOCALBASE}/lib/libgimp.so.?.? ]; then \
	   echo "+-------------------"; \
	   echo "| ERROR: you MUST remove the existing gimp installation"; \
	   echo "| before compiling this version. To fully remove run"; \
	   echo "| these commands as user root"; \
	   echo "|"; \
	   echo "|      pkg_delete -f `pkg_info -e 'gimp-*'`"; \
	   echo "|      ldconfig -R"; \
	   echo "|"; \
	   echo "+-------------------"; \
	   exit 1; \
	fi

.include <bsd.port.mk>
@


1.70
log
@More MASTER_SITES_SUBDIR out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2002/04/27 16:38:26 brad Exp $
d7 1
@


1.69
log
@png header path change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2001/11/10 15:00:48 espie Exp $
d9 5
a13 5
MASTER_SITES=	ftp://ftp.gimp.org/pub/%SUBDIR%/ \
		ftp://ftp.sunet.se/pub/gnu/%SUBDIR%/ \
		ftp://ftp.cs.umn.edu/pub/%SUBDIR%/ \
		ftp://ftp.funet.fi/pub/mirrors/ftp.gimp.org/%SUBDIR%/
MASTER_SITE_SUBDIR= gimp/v1.2/v${VERSION}
@


1.68
log
@Kill first component of BUILD_DEPENDS.

Fix sawfish comment while I'm at it.
`window manager for the X windows system'.
Like DUH ! It's going to be a window manager for my microwave oven ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2001/11/01 02:39:05 brad Exp $
d36 1
a36 1
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
@


1.68.2.1
log
@MFC:
SECURITY wrt shmget()
request from brad@@; found by David Fries <dfries@@mail.win.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2001/11/10 15:00:48 espie Exp $
a6 1
PKGNAME=	${DISTNAME}p1
@


1.67
log
@revert commit for gtk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2001/10/29 02:06:52 brad Exp $
d22 2
a23 2
BUILD_DEPENDS=	wget:wget-*:net/wget
RUN_DEPENDS=	wget:wget-*:net/wget
@


1.66
log
@use gtk module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2001/10/24 12:19:22 espie Exp $
d17 2
a18 2
MODULES=	gtk
LIB_DEPENDS=	aa.1.3::graphics/aalib \
@


1.65
log
@full lib depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2001/08/09 01:43:16 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.474
d17 2
a18 2
LIB_DEPENDS=	gtk.1.2,gdk.1.2::x11/gtk+ \
		aa.1.3::graphics/aalib \
d23 1
a23 1
RUN_DEPENDS=	${BUILD_DEPENDS}
@


1.64
log
@upgrade to Gimp 1.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2001/08/03 13:50:21 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.413
d17 1
a17 1
LIB_DEPENDS=	gtk.1.2::x11/gtk+ \
@


1.64.2.1
log
@MFC:
SECURITY wrt shmget()
request from brad@@; found by David Fries <dfries@@mail.win.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2001/08/09 01:43:16 brad Exp $
a6 1
PKGNAME=	${DISTNAME}p1
@


1.63
log
@fix MASTER_SITES for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2001/07/13 11:24:18 naddy Exp $
d5 1
a5 1
VERSION=	1.2.1
d13 1
a13 1
MASTER_SITE_SUBDIR= gimp/v1.2/old/v${VERSION}
@


1.62
log
@MASTER_SITES fix by Heikki Korpela <heko@@saitti.net>:
- Add ftp.funet.fi and ftp.sunet.se mirrors where available.
- Remove broken ftp.funet.fi references.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2001/06/05 20:16:03 brad Exp $
d5 2
a6 1
DISTNAME=	gimp-1.2.1
d8 6
a13 5
NEED_VERSION=	1.402
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/v1.2/v1.2.1/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/v1.2/v1.2.1/ \
		ftp://ftp.cs.umn.edu/pub/gimp/v1.2/v1.2.1/ \
		ftp://ftp.funet.fi/pub/mirrors/ftp.gimp.org/gimp/v1.2/v1.2.1/
@


1.61
log
@trim COMMENT.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2001/05/24 02:27:35 kevlo Exp $
d10 2
a11 1
		ftp://ftp.cs.umn.edu/pub/gimp/v1.2/v1.2.1/
@


1.60
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2001/05/15 13:11:06 brad Exp $
d3 1
a3 1
COMMENT=	"the GNU Image Manipulation Program"
@


1.59
log
@pre-build -> pre-extract
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2001/04/11 23:26:25 brad Exp $
d17 1
a17 1
		png.1::graphics/png \
@


1.58
log
@- integrate COMMENT
- bump NEED_VERSION
- allow dependency for any version of wget
- change pre-extract check to pre-build; Pointed out by: marc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2001/01/26 00:34:29 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.384
d36 1
a36 1
pre-build:
@


1.57
log
@upgrade to Gimp 1.2.1
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.56 2000/10/22 22:15:18 marc Exp $
d7 1
a7 1
NEED_VERSION=	1.336
d19 2
a20 2
BUILD_DEPENDS=	wget::net/wget
RUN_DEPENDS=	wget::net/wget
d36 1
a36 1
pre-extract:
@


1.56
log
@
don't specify -L/lib in CONFIGURE_ENV as it confuses
gimp's library search order, causing it to match older installed
libs instead of the libs just built.  This can cause build failures
when the libs change.   OK espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2000/10/22 15:51:12 espie Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.27
d6 3
a8 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/v1.1/old/v1.1.27/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/v1.1/old/v1.1.27/ \
		ftp://ftp.cs.umn.edu/pub/gimp/v1.1/old/v1.1.27/
d27 1
d31 2
a32 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include"
#		LDFLAGS="-L${LOCALBASE}/lib"
d34 13
a46 3
post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/aclocal
	${INSTALL_DATA} ${WRKSRC}/gimp.m4 ${PREFIX}/share/aclocal
@


1.55
log
@1.1.27 was moved to old directory
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2000/10/08 18:55:44 brad Exp $
d30 2
a31 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.54
log
@upgrade to Gimp 1.1.27
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2000/09/28 01:39:46 brad Exp $
d6 3
a8 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/v1.1/v1.1.27/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/v1.1/v1.1.27/ \
		ftp://ftp.cs.umn.edu/pub/gimp/v1.1/v1.1.27/
@


1.53
log
@upgrade to Gimp 1.1.26
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2000/09/24 07:04:07 brad Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.26
d5 4
a8 4
NEED_VERSION=	1.330
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/v1.1/v1.1.26/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/v1.1/v1.1.26/ \
		ftp://ftp.cs.umn.edu/pub/gimp/v1.1/v1.1.26/
@


1.52
log
@add name to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2000/08/23 02:36:17 brad Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.25
d6 3
a8 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/v1.1/v1.1.25/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/v1.1/v1.1.25/ \
		ftp://ftp.cs.umn.edu/pub/gimp/v1.1/v1.1.25/
a26 1
USE_GMAKE=	Yes
@


1.51
log
@upgrade to Gimp 1.1.25
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2000/07/23 02:37:11 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.320
d20 1
a20 1
MAINTAINER=	brad@@openbsd.org
@


1.50
log
@- remove old pre-extract check
- partially remove changes to a few of Gimp's Makefiles and instead modify
Gimp's autoconf script.
- few DESTDIR fixes for Gimp's Makefiles
- sort PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2000/07/04 02:09:21 krw Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.24
d5 4
a8 4
NEED_VERSION=	1.310
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/v1.1/v1.1.24/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/v1.1/v1.1.24/ \
		ftp://ftp.cs.umn.edu/pub/gimp/v1.1/v1.1.24/
a11 2
BUILD_DEPENDS=	wget::net/wget
RUN_DEPENDS=	wget::net/wget
d17 2
@


1.49
log
@Change PFRAG.shared ldconfig invocation(s) to
DYNLIBDIR() invocations.

Bump NEED_VERSION to 1.310 so DYNLIBDIR() works.

As requested by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2000/06/28 02:15:54 brad Exp $
a32 19

# People that installed a previous version of gimp wound up with
# shared libs that might not contain all the functions needed to
# link the current objects.
# Check that out here (and bitch if necessary).
pre-extract:
	@@if [ -f ${X11BASE}/lib/libgimp.so.?.? -o \
	      -f ${LOCALBASE}/lib/libgimp.so.?.? ]; then \
	   echo "+-------------------"; \
	   echo "| ERROR: you MUST remove the existing gimp installation"; \
	   echo "| before compiling this version. To fully remove run"; \
	   echo "| these commands as user root"; \
	   echo "|"; \
	   echo "|      pkg_delete -f `pkg_info -e 'gimp-*'`"; \
	   echo "|      ldconfig -R"; \
	   echo "|"; \
	   echo "+-------------------"; \
	   exit 1; \
	fi
@


1.48
log
@upgrade to Gimp 1.1.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2000/06/25 22:20:24 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.301
@


1.47
log
@change dependency, png.1.6 -> png.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2000/06/25 07:32:43 brad Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.23
d6 3
a8 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/v1.1/v1.1.23/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/v1.1/v1.1.23/ \
		ftp://ftp.cs.umn.edu/pub/gimp/v1.1/v1.1.23/
d12 2
@


1.46
log
@add HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2000/06/15 19:02:36 brad Exp $
d15 1
a15 1
		png.1.6::graphics/png \
@


1.45
log
@- remove license type
- use new framework for PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2000/06/11 08:44:18 fgsch Exp $
d9 2
@


1.44
log
@CONFIGURE_STYLE, NEED_VERSION and tag; remove FAKE=yes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2000/06/01 22:34:00 fgsch Exp $
d10 6
a17 1
LICENSE_TYPE=	GPL
a22 6
LIB_DEPENDS=	gtk.1.2::x11/gtk+ \
		aa.1.3::graphics/aalib \
		mpeg.13::graphics/mpeg-lib \
		png.1.6::graphics/png \
		tiff.35::graphics/tiff

d24 1
a24 1
CONFIGURE_STYLE=gnu
d28 1
a28 2
		LDFLAGS="-L${LOCALBASE}/lib" \
		GTK_CONFIG="${LOCALBASE}/bin/gtk-config"
@


1.43
log
@update to 1.1.23; remove jpeg from dependecies since needs to be already
installed for tiff; check for any previous version of the libraries
instead a specific major/minor, this is better, and will avoid problems
in the future.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2000/05/31 22:02:29 marc Exp $
d5 1
a5 1
NEED_VERSION=	1.230
d25 1
a25 2
GNU_CONFIGURE=	Yes
FAKE=		Yes
@


1.42
log
@
Fix instructions re removing old versions of gimp.   The old instructions
would have left /usr/local/lib out of the shared library cache.  Also,
check for the old libs in /usr/local/lib in addition to /usr/X11R6/lib.
Not sure if needed, but it doesn't hurt.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2000/05/31 21:49:44 marc Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.22
d6 3
a8 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/old/v1.1.22/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/unstable/old/v1.1.22/ \
		ftp://ftp.cs.umn.edu/pub/gimp/unstable/old/v1.1.22/
a19 1
		jpeg.62::graphics/jpeg \
d33 4
a36 4
# People that installed an older version of gimp 1.1.x wound up with
# shared libs with a major/minor of 1.3 or 1.4 ... these files
# MUST be removed as the version was incorrect (it came from 1.1.x
# sources). Check that out here (and bitch if necessary).
d38 2
a39 4
	@@if [ -f ${X11BASE}/lib/libgimp.so.1.3 -o \
	      -f ${X11BASE}/lib/libgimp.so.1.4 -o \
	      -f ${LOCALBASE}/lib/libgimp.so.1.3 -o \
	      -f ${LOCALBASE}/lib/libgimp.so.1.4 ]; then \
d42 1
a42 1
	   echo "| before installing this version. To fully remove run"; \
@


1.41
log
@
v1.1.22 has moved to the old directory.   Change the directory because
I'm too lazy to update and verify the port -- current unstable version
is 1.1.23
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2000/05/21 20:01:01 fgsch Exp $
d39 4
a42 1
	@@if [ -f ${X11BASE}/lib/libgimp.so.1.3 -o -f ${X11BASE}/lib/libgimp.so.1.4 ]; then \
d49 1
a49 1
	   echo "|      ldconfig ${X11BASE}/lib"; \
@


1.40
log
@Update to v1.1.22; correct fake installation.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2000/04/12 18:39:13 turan Exp $
d6 3
a8 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/v1.1.22/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/unstable/v1.1.22/ \
		ftp://ftp.cs.umn.edu/pub/gimp/unstable/v1.1.22/
@


1.39
log
@update libpng dependency since minor changed; sigh sigh.
@
text
@d3 1
a3 1
DISTNAME=	gimp-1.1.17
d5 4
a8 4
NEED_VERSION=	 1.230
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/old/v1.1.17/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/unstable/old/v1.1.17/ \
		ftp://ftp.cs.umn.edu/pub/gimp/unstable/old/v1.1.17/
@


1.38
log
@sources moved.  updated.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2000/03/24 23:28:09 espie Exp $
d22 1
a22 1
		png.1.3::graphics/png \
@


1.38.2.1
log
@bring graphics as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2000/07/23 02:37:11 brad Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.24
d5 4
a8 14
NEED_VERSION=	1.310
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/v1.1/v1.1.24/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/v1.1/v1.1.24/ \
		ftp://ftp.cs.umn.edu/pub/gimp/v1.1/v1.1.24/

HOMEPAGE=	http://www.gimp.org/

BUILD_DEPENDS=	wget::net/wget
RUN_DEPENDS=	wget::net/wget
LIB_DEPENDS=	gtk.1.2::x11/gtk+ \
		aa.1.3::graphics/aalib \
		mpeg.13::graphics/mpeg-lib \
		png.1::graphics/png \
		tiff.35::graphics/tiff
d12 1
d18 7
d26 2
a27 1
CONFIGURE_STYLE= gnu
d31 20
a50 1
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.37
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2000/03/08 02:46:02 espie Exp $
d6 3
a8 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/v1.1.17/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/unstable/v1.1.17/ \
		ftp://ftp.cs.umn.edu/pub/gimp/unstable/v1.1.17/
@


1.36
log
@Fake, fix gtk location.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2000/03/05 18:30:28 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.223
d18 6
a23 6
LIB_DEPENDS=	gtk.1.2:x11/gtk+ \
		aa.1.3:graphics/aalib \
		jpeg.62:graphics/jpeg \
		mpeg.13:graphics/mpeg-lib \
		png.1.3:graphics/png \
		tiff.35:graphics/tiff
@


1.35
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2000/02/16 05:19:59 brad Exp $
d27 1
d32 1
a32 1
		GTK_CONFIG="${X11BASE}/bin/gtk-config"
a54 1
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.34
log
@upgrade to Gimp 1.1.17
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2000/02/11 06:30:49 brad Exp $
d5 1
d18 6
a23 6
LIB_DEPENDS=	gtk.1.2:${PORTSDIR}/x11/gtk+ \
		aa.1.3:${PORTSDIR}/graphics/aalib \
		jpeg.62:${PORTSDIR}/graphics/jpeg \
		mpeg.13:${PORTSDIR}/graphics/mpeg-lib \
		png.1.3:${PORTSDIR}/graphics/png \
		tiff.35:${PORTSDIR}/graphics/tiff
@


1.33
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2000/02/12 08:02:21 turan Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.16
d5 3
a7 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/v1.1.16/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/unstable/v1.1.16/ \
		ftp://ftp.cs.umn.edu/pub/gimp/unstable/v1.1.16/
d11 5
a15 5
LICENSE_TYPE=		GPL
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d24 2
a25 2
USE_GMAKE=	yes
GNU_CONFIGURE=	yes
@


1.32
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2000/02/11 06:30:49 brad Exp $
d12 4
a15 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.31
log
@- one less port that is installed into /usr/X11R6 by default
- 2 instances of ${LOCALBASE} changed to ${PREFIX}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2000/02/10 17:46:06 brad Exp $
d10 6
@


1.30
log
@revert back to using the gzip'd archive
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2000/02/08 02:47:18 brad Exp $
a17 1
USE_X11=	yes
d45 2
a46 2
	${INSTALL_DATA_DIR} ${LOCALBASE}/share/aclocal
	${INSTALL_DATA} ${WRKSRC}/gimp.m4 ${LOCALBASE}/share/aclocal/
@


1.29
log
@use bzip'd archive instead
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2000/02/07 10:06:16 brad Exp $
a17 1
USE_BZIP2=	yes
@


1.28
log
@upgrade to Gimp 1.1.16
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2000/01/09 05:58:26 brad Exp $
d18 1
@


1.27
log
@fix dependency check for new mpeg_lib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2000/01/06 03:10:56 brad Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.14
d5 3
a7 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/v1.1.14/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/unstable/v1.1.14/ \
		ftp://ftp.cs.umn.edu/pub/gimp/unstable/v1.1.14/
@


1.26
log
@upgrade to Gimp 1.1.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 1999/11/10 13:17:05 jakob Exp $
d14 1
a14 1
		mpeg.1.2:${PORTSDIR}/graphics/mpeg-lib \
@


1.25
log
@distfiles moved; ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 1999/10/29 02:02:11 brad Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.10
d5 3
a7 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/old/v1.1.10/ \
		ftp://ftp.sunet.se/pub/gnu/gimp/unstable/old/v1.1.10/ \
		ftp://ftp.cs.umn.edu/pub/gimp/unstable/old/v1.1.10/
d11 1
a11 3
LIB_DEPENDS=	intl:${PORTSDIR}/devel/gettext \
		glib.1.2:${PORTSDIR}/devel/glib \
		gtk.1.2:${PORTSDIR}/x11/gtk+ \
d46 2
a47 2
	@@${MKDIR} ${LOCALBASE}/share/aclocal
	@@${INSTALL_DATA} ${WRKSRC}/gimp.m4 ${LOCALBASE}/share/aclocal/
@


1.24
log
@upgrade to Gimp 1.1.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 1999/10/09 17:17:23 brad Exp $
d5 3
a7 2
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/v1.1.10/ \
		ftp://ftp.cs.umn.edu/pub/gimp/gimp/unstable/v1.1.10/
@


1.23
log
@- remove one bad dist site
- fix URLs for dist sites now that 1.1.9 has been moved into the "old" folder
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 1999/09/22 22:10:51 brad Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.9
d5 2
a6 2
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/old/v1.1.9/ \
		ftp://ftp.cs.umn.edu/pub/gimp/gimp/unstable/old/v1.1.9/
d10 1
a10 2
LIB_DEPENDS=	aa.1.3:${PORTSDIR}/graphics/aalib \
		intl:${PORTSDIR}/devel/gettext \
d13 1
d17 1
a17 1
		tiff.3.4:${PORTSDIR}/graphics/tiff34
a20 2
SYSCONFDIR=	${PREFIX}/lib
SEPARATE_BUILD=	yes
d49 1
a49 1
	${LDCONFIG} -m ${PREFIX}/lib
@


1.22
log
@upgrade to Gimp 1.1.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 1999/06/13 03:36:50 brad Exp $
d5 2
a6 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/v1.1.9/ \
		ftp://ftp.cs.umn.edu/pub/gimp/gimp/unstable/v1.1.9/ \
		http://www.ameth.org/gimp/pub/gimp/unstable/v1.1.9/
@


1.21
log
@1.1.5 has changed its location on the dist sites
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 1999/05/31 02:22:09 espie Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.5
d5 3
a7 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/old/v1.1.5/ \
		ftp://ftp.cs.umn.edu/pub/gimp/gimp/unstable/old/v1.1.5/ \
		http://www.ameth.org/gimp/pub/gimp/unstable/old/v1.1.5/
@


1.20
log
@Remove wget dependency, since our ftp is perfectly suitable for the job.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 1999/05/05 20:51:09 brad Exp $
d5 3
a7 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/v1.1.5/ \
		ftp://ftp.cs.umn.edu/pub/gimp/gimp/unstable/v1.1.5/ \
		http://www.ameth.org/gimp/pub/gimp/unstable/v1.1.5/
@


1.19
log
@upgrade to Gimp 1.1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 1999/04/11 02:55:55 brad Exp $
a10 2
RUN_DEPENDS=	gettext:${PORTSDIR}/devel/gettext \
		wget:${PORTSDIR}/net/wget
@


1.18
log
@add gettext to run dependency list
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 1999/04/08 04:21:52 brad Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.4
d5 3
a7 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/v1.1.4/ \
		ftp://ftp.cs.umn.edu/pub/gimp/gimp/unstable/v1.1.4/ \
		http://www.ameth.org/gimp/pub/gimp/unstable/v1.1.4/
d13 1
a13 1
LIB_DEPENDS=	aa:${PORTSDIR}/graphics/aalib \
d17 4
a20 4
		jpeg:${PORTSDIR}/graphics/jpeg \
		mpeg:${PORTSDIR}/graphics/mpeg-lib \
		png:${PORTSDIR}/graphics/png \
		tiff:${PORTSDIR}/graphics/tiff34
@


1.17
log
@- use correct major/minor version for shared libs
- add message to warn if previous version of gimp 1.1.x is installed and
  remind user to remove it
- lack of needed include directory in new gtk's gtk-config broke
  compiling, add patches to fix compiling
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 1999/03/31 08:00:24 marc Exp $
d11 2
a12 1
RUN_DEPENDS=	wget:${PORTSDIR}/net/wget
@


1.16
log
@remove xpm dependency: xpm is part of OpenBSD as of 2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 1999/03/31 04:42:34 brad Exp $
d31 18
@


1.15
log
@upgrade to gimp 1.1.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/03/30 06:52:48 brad Exp $
d19 1
a19 2
		tiff:${PORTSDIR}/graphics/tiff34 \
		Xpm:${PORTSDIR}/graphics/xpm
@


1.14
log
@fixup dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/03/21 06:38:59 brad Exp $
d3 1
a3 1
DISTNAME=	gimp-1.1.3
d5 3
a7 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/gimp/unstable/v1.1.3/ \
		ftp://ftp.cs.umn.edu/pub/gimp/gimp/unstable/v1.1.3/ \
		http://www.ameth.org/gimp/pub/gimp/unstable/v1.1.3/
@


1.13
log
@upgrade to gimp 1.1.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/03/03 04:17:26 marc Exp $
d11 1
a11 4
BUILD_DEPENDS=	gettext:${PORTSDIR}/devel/gettext \
		wget:${PORTSDIR}/net/wget
RUN_DEPENDS=	gettext:${PORTSDIR}/devel/gettext \
		wget:${PORTSDIR}/net/wget
d13 3
a15 2
		glib\\.1\\.2:${PORTSDIR}/devel/glib \
		gtk\\.1\\.2:${PORTSDIR}/x11/gtk+ \
d27 2
a28 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--enable-static --disable-perl
d30 2
a31 5
		GTK_CONFIG="${X11BASE}/bin/gtk-config" \
		LIBS="-L${LOCALBASE}/lib"

MAN1=	gimp.1 gimptool.1
MAN3=	gpc.3
@


1.12
log
@tweak makefile; requires bsd.port.mk 1.74 or later
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.11 1999/03/02 04:41:03 marc Exp $
#
d3 34
a36 19
# What port/package will be created
#
DISTNAME=		gimp-1.0.2
EXTRANAME=		gimp-data-extras-1.0.0
CATEGORIES=     	graphics x11

NEED_VERSION=		1.74

MAINTAINER=		dugsong@@openbsd.org

MASTER_SITES=		ftp://ftp.gimp.org/pub/gimp/v1.0/v1.0.2/ \
	ftp://ftp.ameth.org:/pub/mirrors/ftp.gimp.org/pub/gimp/v1.0/v1.0.2/
DISTFILES=		${DISTNAME}${EXTRACT_SUFX} ${EXTRANAME}${EXTRACT_SUFX}

LIB_DEPENDS=		gtk\\.1\\.:${PORTSDIR}/x11/gtk+ \
			jpeg\\.62\\.:${PORTSDIR}/graphics/jpeg \
			mpeg\\.1\\.:${PORTSDIR}/graphics/mpeg-lib \
			png\\.1\\.:${PORTSDIR}/graphics/png \
			tiff\\.3\\.4:${PORTSDIR}/graphics/tiff34
a37 20
USE_X11=		yes
GNU_CONFIGURE=		yes
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ENV=		${SETENV} CPPFLAGS=-I/usr/local/include \
			LDFLAGS=-L/usr/local/lib

# Configure the gimp-data-extras, too.
#
post-configure:
	@@(cd ${WRKDIR}/${EXTRANAME} && \
	    CC="${CC}" ac_cv_path_CC="${CC}" CFLAGS="${CFLAGS}" \
	    INSTALL="/usr/bin/install -c -o ${BINOWN} -g ${BINGRP}" \
	    INSTALL_PROGRAM="${INSTALL_PROGRAM}" INSTALL_MAN="${INSTALL_MAN}" \
	    INSTALL_SCRIPT="${INSTALL_SCRIPT}" INSTALL_DATA="${INSTALL_DATA}" \
	    ${CONFIGURE_ENV} ./${CONFIGURE_SCRIPT} ${CONFIGURE_ARGS})

# Update shared lib info just in case the port install procedure didn't
# install the extras.
#
d39 2
a41 1
	cd ${WRKDIR}/${EXTRANAME} && make install
@


1.11
log
@fix earlier bogus changes to Makefile where a value that
was defined in bsd.port.mk was checked before bsd.port.mk was included;
this should make ports with optional shared libs build on the alpha,
again.  However, chages require the latest bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/02/21 04:26:11 marc Exp $
d10 1
a10 1
NEED_VERSION=		1.73
d37 2
a38 2
	    INSTALL_PROGRAM="${INSTALL_PROGRAM}" \
	    INSTALL_DATA="${INSTALL_DATA}" \
@


1.10
log
@needs version 1.64 (or later) of bsd.port.mk
to build/install correctly; PLIST.noshared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/02/18 02:37:29 marc Exp $
d10 1
a10 1
NEED_VERSION=		1.64
d26 1
a26 3
.if !defined(NO_SHARED_LIBS)
CONFIGURE_ARGS+=	--enable-shared
.endif
@


1.9
log
@use NO_SHARED_LIBS instead of test for alpha;
use PLIST.noshared instead of PLIST.alpha
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1998/11/08 01:38:42 marc Exp $
d9 2
@


1.8
log
@update to gimp 1.0.2; Makefile changes from dugsong@@openbsd.org
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1998/06/14 08:10:27 marc Exp $
d24 1
a24 1
.if (${MACHINE_ARCH} != "alpha")
@


1.7
log
@when previously updating tiff34 to install as libtiff the shared
version was left at 1.0.  Oops.  The old tiff (3.3) installed as
libtiff.so.3.3. Install tiff34 as libtiff.so.3.4 but keep the libtiff34
link at version 1.0.  confusing but it seems to work correctly.
Update all ports that depend upon tiff so the dependency is on
tiff.3.4.
@
text
@d1 1
a1 6
# OpenBSD makefile for:	gimp
# Version required:	1.0.0
# Date created:		1998-Jun-07
# Whom:			marc@@OpenBSD.ORG
#
# $OpenBSD: Makefile,v 1.6 1998/06/13 23:26:54 marc Exp $
d6 1
a6 1
DISTNAME=		gimp-1.0.0
d10 1
a10 3
# where to send bitches about this port
#
MAINTAINER=		marc@@openbsd.org
d12 2
a13 4
# where the source files and patches can be fetched
#
MASTER_SITES=		ftp://ftp.gimp.org/pub/gimp/v1.0/v1.0.0/ \
	ftp://ftp.ameth.org:/pub/mirrors/ftp.gimp.org/pub/gimp/v1.0/v1.0.0/
a15 2
# Dependencies
#
a20 5
OS_RELEASE!=		uname -r
OS_HAS_XPM=		2.3
.if ( ${OS_RELEASE} < ${OS_HAS_XPM} )
LIB_DEPENDS+=		Xpm\\.4\\.:${PORTSDIR}/graphics/xpm
.endif
a21 2
# build/configuration variables
#
@


1.6
log
@don't depend on the ports libxpm unless os release < 2.3;
libXpm is standard with 2.3
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 1998/06/10 02:56:16 marc Exp $
d31 1
a31 1
			tiff\\.1\\.:${PORTSDIR}/graphics/tiff34
@


1.5
log
@1) remove tiff from graphics makefile as there is nothing to make
2) change tiff/Makefile to spit out message saying to use tiff34
   remove all tiff files, patches, and pkg data; they're no longer needed
3) install tiff34 as libtiff, tiff.h, and tiffio.h; add symbolic links
   so the old names of libtiff34, tiff34.h, and tiffio34.h still work.
4) Change ImageMagick to use -ltiff, not -ltiff34; remove the patch
   files and directory as they are no longer needed.
5) Change gimp to use -ltiff, not -ltiff34; remove the patch files and
   directory as they are no longer needed.

NOTE: with these changes ImageMagick and gimp require the updated tiff34
      port.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 1998/06/08 17:16:07 marc Exp $
d33 2
a34 2
OS_NO_XPM=		2.2
.if ( ${OS_RELEASE} <= ${OS_NO_XPM} )
@


1.4
log
@Sometimes I hate CVS.  Import did not raise these from the dead
so I'm doing it the hard way.  Gimp 1.0.0
@
text
@d6 1
a6 1
# $OpenBSD:$
d31 1
a31 1
			tiff34\\.1\\.:${PORTSDIR}/graphics/tiff34
@


1.3
log
@remove broken port
@
text
@d1 47
a47 42
# OpenBSD makefile for:    GIMP
# Version required:     0.54.1
# Date created:         December 12, 1997
# Whom:                 Angelos D. Keromytis
#
# $OpenBSD: Makefile,v 1.2 1998/03/11 18:04:10 marc Exp $
#

DISTNAME=       gimp
PKGNAME=        gimp-0.54.1
CATEGORIES=     graphics
MASTER_SITES=   ftp://ftp.xcf.berkeley.edu/pub/gimp/
EXTRACT_SUFX=	-0.54.1.tar.gz

MAINTAINER=     angelos@@openbsd.org

LIB_DEPENDS+=	png\\.0\\.[7-9]:${PORTSDIR}/graphics/png
LIB_DEPENDS+=	jpeg\\.7\\.:${PORTSDIR}/graphics/jpeg
LIB_DEPENDS+=	tiff\\.3\\.:${PORTSDIR}/graphics/tiff
LIB_DEPENDS+=	Xpm\\.4\\.:${PORTSDIR}/graphics/xpm

BROKEN=		"obsolete, distfile no longer available"

REQUIRES_MOTIF=	yes
USE_X11=	yes

HAS_CONFIGURE=	yes
CONFIGURE_ARGS=	--x-libraries=$(X11BASE)/lib --x-includes=$(X11BASE)/include

post-extract:
	mv $(WRKSRC)/gimprc $(WRKSRC)/gimprc.orig
	sed "s/\/usr\/local/`echo $(PREFIX)|sed s/\\\\//\\\\\\\\\\\\//g`/g" < $(WRKSRC)/gimprc.orig > $(WRKSRC)/gimprc

do-install:
	mkdir -p $(PREFIX)/lib/gimp
	mkdir -p $(PREFIX)/lib/gimp/brushes
	mkdir -p $(PREFIX)/lib/gimp/plug-ins
	$(INSTALL_PROGRAM) $(WRKSRC)/app/gimp $(PREFIX)/bin
	$(INSTALL_DATA) $(WRKSRC)/gimprc $(PREFIX)/lib/gimp
	$(INSTALL_DATA) $(WRKSRC)/brushes/* $(PREFIX)/lib/gimp/brushes
	for f in `find $(WRKSRC)/plug-ins -perm -0111 -type f -print`; \
	do $(INSTALL_PROGRAM) $$f $(PREFIX)/lib/gimp/plug-ins/`$(BASENAME) $$f`;done
d49 13
d63 2
a64 7
	@@echo "Each user must copy $(PREFIX)/lib/gimp/gimprc"
	@@echo "to his home directory as .gimprc."
.if !defined(NOPORTDOCS)
	mkdir -p $(PREFIX)/share/doc/gimp
	cp -r $(WRKSRC)/docs/* $(PREFIX)/share/doc/gimp
	chmod a+r $(PREFIX)/share/doc/gimp
.endif
@


1.2
log
@mark as broken until update is done
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1997/12/12 05:47:33 angelos Exp $
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d22 1
a22 1
#BROKEN=		"obsolete, distfile no longer available"
@


1.1.1.1
log
@Add gimp port. Need to have lesstiff compiled for this (and build with HAVE_MOTIF set).
@
text
@@


1.1.1.2
log
@gimp 1.0.0; does NOT include AA or XD plugins yet
@
text
@d1 42
a42 7
# OpenBSD makefile for:	gimp
# Version required:	;;;
# Date created:		1998-Jun-07
# Whom:			marc@@OpenBSD.ORG
#
# $OpenBSD:$
#
d44 7
a50 27
# What port/package will be created
#
DISTNAME=		gimp-1.0.0
EXTRANAME=		gimp-data-extras-1.0.0
CATEGORIES=     	graphics x11

# where to send bitches about this port
#
MAINTAINER=		marc@@openbsd.org

# where the source files and patches can be fetched
#
MASTER_SITES=		ftp://ftp.gimp.org/pub/gimp/v1.0/v1.0.0/ \
	ftp://ftp.ameth.org:/pub/mirrors/ftp.gimp.org/pub/gimp/v1.0/v1.0.0/
DISTFILES=		${DISTNAME}${EXTRACT_SUFX} ${EXTRANAME}${EXTRACT_SUFX}

# Dependencies
#
LIB_DEPENDS=		gtk\\.1\\.:${PORTSDIR}/x11/gtk+ \
			jpeg\\.62\\.:${PORTSDIR}/graphics/jpeg \
			mpeg\\.1\\.:${PORTSDIR}/graphics/mpeg-lib \
			png\\.1\\.:${PORTSDIR}/graphics/png \
			tiff34\\.1\\.:${PORTSDIR}/graphics/tiff34
OS_RELEASE!=		uname -r
OS_NO_XPM=		2.2
.if ( ${OS_RELEASE} <= ${OS_NO_XPM} )
LIB_DEPENDS+=		Xpm\\.4\\.:${PORTSDIR}/graphics/xpm
a51 28

# build/configuration variables
#
USE_X11=		yes
GNU_CONFIGURE=		yes
.if (${MACHINE_ARCH} != "alpha")
CONFIGURE_ARGS+=	--enable-shared
.endif
CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ENV=		${SETENV} CPPFLAGS=-I/usr/local/include \
			LDFLAGS=-L/usr/local/lib

# Configure the gimp-data-extras, too.
#
post-configure:
	@@(cd ${WRKDIR}/${EXTRANAME} && \
	    CC="${CC}" ac_cv_path_CC="${CC}" CFLAGS="${CFLAGS}" \
	    INSTALL="/usr/bin/install -c -o ${BINOWN} -g ${BINGRP}" \
	    INSTALL_PROGRAM="${INSTALL_PROGRAM}" \
	    INSTALL_DATA="${INSTALL_DATA}" \
	    ${CONFIGURE_ENV} ./${CONFIGURE_SCRIPT} ${CONFIGURE_ARGS})

# Update shared lib info just in case the port install procedure didn't
# install the extras.
#
post-install:
	${LDCONFIG} -m ${PREFIX}/lib
	cd ${WRKDIR}/${EXTRANAME} && make install
@


