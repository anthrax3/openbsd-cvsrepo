head	1.3;
access;
symbols
	OPENBSD_4_5:1.2.0.14
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.12
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.10
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.8
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.6
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.1.1.1.0.2
	OPENBSD_3_8_BASE:1.1.1.1
	alek_20050522:1.1.1.1
	alek:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2009.03.06.08.54.22;	author jasper;	state dead;
branches;
next	1.2;

1.2
date	2005.11.14.17.09.22;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2005.05.22.11.32.11;	author alek;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.05.22.11.32.11;	author alek;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- update xzgv to 0.9
* this makes this port switch to gtk+2, and get ride of ancient gtk+1
- update ${HOMEPAGE} and ${MASTER_SITES}

from Julian Leyh (MAINTAINER), thanks
@
text
@$OpenBSD: patch-src_install-info_c,v 1.2 2005/11/14 17:09:22 pvalchev Exp $
--- src/install-info.c.orig	Thu May 12 15:09:12 2005
+++ src/install-info.c	Thu May 12 15:26:28 2005
@@@@ -166,12 +166,12 @@@@ concat (s1, s2, s3)
      char *s1, *s2, *s3;
 {
   int len1 = strlen (s1), len2 = strlen (s2), len3 = strlen (s3);
-  char *result = (char *) xmalloc (len1 + len2 + len3 + 1);
+  int siz=strlen(s1)+strlen(s2)+strlen(s3)+1;
+  char *result = (char *) xmalloc (siz);
 
-  strcpy (result, s1);
-  strcpy (result + len1, s2);
-  strcpy (result + len1 + len2, s3);
-  *(result + len1 + len2 + len3) = 0;
+  strlcpy (result, s1, siz);
+  strlcat (result, s2, siz);
+  strlcat (result, s3, siz);
 
   return result;
 }
@


1.2
log
@remove completely flawed strncmp patches
@
text
@d1 1
a1 1
$OpenBSD: patch-src_install-info_c,v 1.1.1.1 2005/05/22 11:32:11 alek Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
a21 18
@@@@ -674,7 +674,7 @@@@ For more information about these matters
     basename_len = strlen (infile_basename);
     infile_sans_info
       = (strlen (infile_basename) > 5
-         && strcmp (infile_basename + basename_len - 5, ".info") == 0)
+         && strncmp (infile_basename + basename_len - 5, ".info",6) == 0)
         ? copy_string (infile_basename, basename_len - 5)
         : infile_basename;
 
@@@@ -880,7 +880,7 @@@@ For more information about these matters
       /* Mark the end of the Top node as the place to add any
          new sections that are needed.  */
       for (node = dir_nodes; node; node = node->next)
-        if (node->name && strcmp (node->name, "Top") == 0)
+        if (node->name && strncmp (node->name, "Top", 4) == 0)
           dir_lines[node->end_line].add_sections_before = 1;
     }
 
@


1.1.1.1
log
@Import xzgv 0.8

xzgv is a picture viewer for X, with a thumbnail-based file selector.
It uses GTK+ and Imlib. Most file formats are supported, and the
thumbnails used are compatible with xv, zgv, and the Gimp. It can also
be used with `xzgv file(s)', to effectively bypass the file selector.

From Julian Leyh <oenone@@oenone.de>
@
text
@@
