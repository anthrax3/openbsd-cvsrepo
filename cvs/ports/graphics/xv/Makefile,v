head	1.52;
access;
symbols
	OPENBSD_6_2:1.52.0.10
	OPENBSD_6_2_BASE:1.52
	OPENBSD_6_1:1.52.0.8
	OPENBSD_6_1_BASE:1.52
	OPENBSD_6_0:1.52.0.6
	OPENBSD_6_0_BASE:1.52
	OPENBSD_5_9:1.52.0.2
	OPENBSD_5_9_BASE:1.52
	OPENBSD_5_8:1.52.0.4
	OPENBSD_5_8_BASE:1.52
	OPENBSD_5_7:1.51.0.2
	OPENBSD_5_7_BASE:1.51
	OPENBSD_5_6:1.50.0.4
	OPENBSD_5_6_BASE:1.50
	OPENBSD_5_5:1.50.0.2
	OPENBSD_5_5_BASE:1.50
	OPENBSD_5_4:1.47.0.2
	OPENBSD_5_4_BASE:1.47
	OPENBSD_5_3:1.46.0.2
	OPENBSD_5_3_BASE:1.46
	OPENBSD_5_2:1.45.0.4
	OPENBSD_5_2_BASE:1.45
	OPENBSD_5_1_BASE:1.45
	OPENBSD_5_1:1.45.0.2
	OPENBSD_5_0:1.44.0.2
	OPENBSD_5_0_BASE:1.44
	OPENBSD_4_9:1.43.0.2
	OPENBSD_4_9_BASE:1.43
	OPENBSD_4_8:1.40.0.2
	OPENBSD_4_8_BASE:1.40
	OPENBSD_4_7:1.38.0.2
	OPENBSD_4_7_BASE:1.38
	OPENBSD_4_6:1.36.0.8
	OPENBSD_4_6_BASE:1.36
	OPENBSD_4_5:1.36.0.6
	OPENBSD_4_5_BASE:1.36
	OPENBSD_4_4:1.36.0.4
	OPENBSD_4_4_BASE:1.36
	OPENBSD_4_3:1.36.0.2
	OPENBSD_4_3_BASE:1.36
	OPENBSD_4_2:1.34.0.2
	OPENBSD_4_2_BASE:1.34
	OPENBSD_4_1:1.32.0.2
	OPENBSD_4_1_BASE:1.32
	OPENBSD_4_0:1.31.0.2
	OPENBSD_4_0_BASE:1.31
	OPENBSD_3_9:1.29.0.2
	OPENBSD_3_9_BASE:1.29
	OPENBSD_3_8:1.28.0.2
	OPENBSD_3_8_BASE:1.28
	OPENBSD_3_7:1.25.0.2
	OPENBSD_3_7_BASE:1.25
	OPENBSD_3_6:1.23.0.8
	OPENBSD_3_6_BASE:1.23
	OPENBSD_3_5:1.23.0.6
	OPENBSD_3_5_BASE:1.23
	OPENBSD_3_4:1.23.0.4
	OPENBSD_3_4_BASE:1.23
	OPENBSD_3_3:1.23.0.2
	OPENBSD_3_3_BASE:1.23
	OPENBSD_3_2:1.22.0.4
	OPENBSD_3_2_BASE:1.22
	OPENBSD_3_1:1.22.0.2
	OPENBSD_3_1_BASE:1.22
	OPENBSD_3_0:1.21.0.2
	OPENBSD_3_0_BASE:1.21
	OPENBSD_2_9_TRACKING_SWITCH:1.21
	OPENBSD_2_9:1.19.0.4
	OPENBSD_2_9_BASE:1.19
	OPENBSD_2_8:1.19.0.2
	OPENBSD_2_8_BASE:1.19
	OPENBSD_2_7:1.14.0.2
	OPENBSD_2_7_BASE:1.14
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.4.0.4
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	marc-1998-mar-20:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.52
date	2015.06.12.09.57.41;	author bentley;	state Exp;
branches;
next	1.51;
commitid	CPI6vZvF8jISLkgR;

1.51
date	2014.10.29.16.45.09;	author espie;	state Exp;
branches;
next	1.50;
commitid	BnUv7vNiltKHEjOJ;

1.50
date	2014.01.01.20.46.28;	author naddy;	state Exp;
branches;
next	1.49;

1.49
date	2013.10.12.20.04.32;	author kili;	state Exp;
branches;
next	1.48;

1.48
date	2013.10.06.20.45.15;	author kili;	state Exp;
branches;
next	1.47;

1.47
date	2013.03.11.11.10.56;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2013.01.07.21.23.23;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2011.08.31.22.28.59;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2011.05.25.09.09.56;	author sthen;	state Exp;
branches;
next	1.43;

1.43
date	2010.11.17.08.05.16;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2010.10.24.21.21.02;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2010.10.18.18.13.15;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2010.07.11.07.36.16;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2010.07.02.21.59.39;	author sthen;	state Exp;
branches;
next	1.38;

1.38
date	2009.09.24.20.07.18;	author naddy;	state Exp;
branches;
next	1.37;

1.37
date	2009.08.10.06.31.45;	author kili;	state Exp;
branches;
next	1.36;

1.36
date	2008.01.04.17.48.35;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2007.09.15.20.09.43;	author simon;	state Exp;
branches;
next	1.34;

1.34
date	2007.05.29.21.16.03;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2007.04.06.22.21.30;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2006.11.13.11.20.25;	author steven;	state Exp;
branches;
next	1.31;

1.31
date	2006.08.03.12.53.18;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2006.07.14.21.17.15;	author steven;	state Exp;
branches;
next	1.29;

1.29
date	2005.09.30.04.23.20;	author fgsch;	state Exp;
branches;
next	1.28;

1.28
date	2005.06.23.20.23.05;	author sturm;	state Exp;
branches;
next	1.27;

1.27
date	2005.04.17.13.37.42;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2005.04.12.17.28.04;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2005.03.15.01.16.47;	author naddy;	state Exp;
branches
	1.25.2.1;
next	1.24;

1.24
date	2004.11.30.01.06.40;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2002.10.27.00.03.17;	author naddy;	state Exp;
branches
	1.23.6.1
	1.23.8.1;
next	1.22;

1.22
date	2002.03.21.20.57.09;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2001.05.24.02.27.48;	author kevlo;	state Exp;
branches;
next	1.20;

1.20
date	2001.05.06.05.05.53;	author lebel;	state Exp;
branches;
next	1.19;

1.19
date	2000.10.22.15.42.21;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2000.10.22.14.03.20;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2000.08.05.00.34.49;	author rohee;	state Exp;
branches;
next	1.16;

1.16
date	2000.08.05.00.15.23;	author rohee;	state Exp;
branches;
next	1.15;

1.15
date	2000.06.21.02.29.05;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.04.02.19.50.17;	author rohee;	state Exp;
branches
	1.14.2.1;
next	1.13;

1.13
date	2000.03.24.23.28.11;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.03.06.17.04.30;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.05.18.30.30;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.01.19.20.23;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	99.11.11.15.01.47;	author rohee;	state Exp;
branches;
next	1.8;

1.8
date	99.11.10.09.53.57;	author jakob;	state Exp;
branches;
next	1.7;

1.7
date	99.11.09.21.49.00;	author rohee;	state Exp;
branches;
next	1.6;

1.6
date	99.09.26.21.43.44;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	99.04.22.19.05.08;	author rohee;	state Exp;
branches;
next	1.4;

1.4
date	98.06.14.08.10.40;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.05.06.02.55.59;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.04.14.05.45.40;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.03.21.05.38.13;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.03.21.05.38.13;	author marc;	state Exp;
branches;
next	;

1.14.2.1
date	2000.09.15.04.53.50;	author marc;	state Exp;
branches;
next	;

1.23.6.1
date	2005.03.15.22.23.44;	author robert;	state Exp;
branches;
next	1.23.6.2;

1.23.6.2
date	2005.04.16.21.18.34;	author sturm;	state Exp;
branches;
next	;

1.23.8.1
date	2005.03.15.22.18.44;	author robert;	state Exp;
branches;
next	1.23.8.2;

1.23.8.2
date	2005.04.16.21.22.07;	author sturm;	state Exp;
branches;
next	;

1.25.2.1
date	2005.05.23.20.23.54;	author robert;	state Exp;
branches;
next	;


desc
@@


1.52
log
@Prune some dead mirrors.
@
text
@# $OpenBSD: Makefile,v 1.51 2014/10/29 16:45:09 espie Exp $

COMMENT=	X11 image display and modification tool

DISTNAME=	xv-3.10a
REVISION=	15
CATEGORIES=	graphics x11

MASTER_SITES=	http://gd.tuwien.ac.at/graphics/xv/ \
		ftp://ftp.cis.upenn.edu/pub/xv/
MASTER_SITES0=	${MASTER_SITE_SOURCEFORGE:=png-mng/}
DISTFILES=	${DISTNAME}.tar.gz xv-3.10a-jumbo-patches-20070520.tar.gz:0
DIST_SUBDIR=	xv

HOMEPAGE=	http://www.trilon.com/xv/index.html

PERMIT_PACKAGE_CDROM=	Must buy license
PERMIT_PACKAGE_FTP=	Yes

LIB_DEPENDS=	graphics/jpeg \
		graphics/jasper \
		graphics/tiff \
		graphics/png

WANTLIB= X11 Xau Xdmcp c jasper>=2 jpeg>=62 m png>=5 tiff>=38 z

MAKE_ENV=	SYSCONFDIR="$(SYSCONFDIR)"

DESTDIRNAME=	none
NO_TEST=	Yes

pre-patch:
	@@${PATCH} ${PATCH_DIST_ARGS} -p1 \
		< ${WRKDIR}/xv-3.10a-jumbo-fix-enh-patch-20070520.txt

.include <bsd.port.mk>
@


1.51
log
@fix problems with Nikon D7100 pictures, they don't create correct exif
information (multiple APP1 chunks). xv reads them all, but libjpeg frowns
about writing multiple APP1.

So,
- ignore subsequent chunks (like exiv2 does)
- add a small framework to report error messages from libjpeg
(might be adaptable to other gfx formats).

okay sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2014/01/01 20:46:28 naddy Exp $
d9 1
a9 3
MASTER_SITES=	ftp://ftp.mirrorservice.org/sites/ftp.cis.upenn.edu/pub/xv/ \
		ftp://ftp.cise.ufl.edu/pub/depot/archive-pkg/Graphics/ \
		http://gd.tuwien.ac.at/graphics/xv/ \
@


1.50
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/10/12 20:04:32 kili Exp $
d6 1
a6 1
REVISION=	14
@


1.49
log
@${LOCALBASE} is wrong here. Use ${PREFIX} instead.

Noticed by Mikolaj Kucharski.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/10/06 20:45:15 kili Exp $
a28 1
USE_GROFF =	Yes
@


1.48
log
@Fix path to documentation.

Noticed bt Kyle R W Milz.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/03/11 11:10:56 espie Exp $
d6 1
a6 1
REVISION=	13
@


1.47
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/01/07 21:23:23 espie Exp $
d6 1
a6 1
REVISION=	12
@


1.46
log
@prevent segfault on some invalid gif
okay naddy2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/08/31 22:28:59 espie Exp $
a20 2
PERMIT_DISTFILES_CDROM=	Must buy license
PERMIT_DISTFILES_FTP=	Yes
d33 1
a33 1
NO_REGRESS=	Yes
@


1.45
log
@belated bump, pointed by brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/05/25 09:09:56 sthen Exp $
d6 1
a6 1
REVISION=	11
@


1.44
log
@Fix crash in smoothY(), from patrick keshishian.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/11/17 08:05:16 espie Exp $
d6 1
a6 1
REVISION=	10
@


1.43
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/10/24 21:21:02 ajacoutot Exp $
d6 1
a6 1
REVISION=	9
@


1.42
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/10/18 18:13:15 espie Exp $
d24 4
a27 4
LIB_DEPENDS=	::graphics/jpeg \
		::graphics/jasper \
		::graphics/tiff \
		::graphics/png
d29 1
a29 1
WANTLIB= X11 Xau Xdmcp c jasper.>=2 jpeg.>=62 m png.>=5 tiff.>=38 z
@


1.41
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/07/11 07:36:16 espie Exp $
a30 1
USE_X11=	Yes
@


1.40
log
@new-style WANTLIB and REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/07/02 21:59:39 sthen Exp $
d32 1
@


1.39
log
@remove Extra pthread-stubs and xcb from wantlib (mostly because I'm going to
use this as an example in a mail and don't want to confuse things ;)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2009/09/24 20:07:18 naddy Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p9
d24 4
a27 4
LIB_DEPENDS=	jpeg.>=62.::graphics/jpeg \
		jasper.>=2.::graphics/jasper \
		tiff.>=38.::graphics/tiff \
		png.>=5.::graphics/png
d29 1
a29 1
WANTLIB=	X11 Xau Xdmcp c m z
@


1.38
log
@Fix out-of-bounds access in CMYK to RGB conversion.
From: Patrick Keshishian <pkeshish@@gmail.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/08/10 06:31:45 kili Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p8
d29 1
a29 1
WANTLIB=	X11 Xau Xdmcp c m pthread-stubs xcb z
@


1.37
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/01/04 17:48:35 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p7
@


1.36
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2007/09/15 20:09:43 simon Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p6
d29 1
a29 1
WANTLIB=	X11 Xau Xdmcp c m z
@


1.35
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2007/05/29 21:16:03 naddy Exp $
a32 1
FAKE_FLAGS=
d34 1
@


1.34
log
@update to jumbo patches 20070520
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/04/06 22:21:30 espie Exp $
d3 1
a3 1
COMMENT=	"X11 image display and modification tool"
d19 1
a19 1
PERMIT_PACKAGE_CDROM=	"Must buy license"
d21 1
a21 1
PERMIT_DISTFILES_CDROM=	"Must buy license"
@


1.33
log
@remove MAINTAINER, at his request, and bump pkgnames.
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.32 2006/11/13 11:20:25 steven Exp $
# Original from: Marco S Hyman <marc@@OpenBSD.ORG>
d6 1
a6 1
PKGNAME=	${DISTNAME}p5
d14 1
a14 1
DISTFILES=	${DISTNAME}.tar.gz xv-3.10a-jumbo-patches-20050501.tar.bz2:0
a18 6
LIB_DEPENDS=    jpeg.>=62.::graphics/jpeg \
		tiff.>=35.::graphics/tiff \
		png.>=2.::graphics/png

FAKE=		lib

a22 1
WANTLIB=		X11 c m z
d24 10
a33 2
USE_X11=		Yes
NO_REGRESS=		Yes
d35 1
a35 1
MAKE_FLAGS+=		USERCFLAGS="${CFLAGS}"
d38 2
a39 10
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xv-3.10a-jumbo-fix-patch-20050410.txt
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xv-3.10a-jumbo-enh-patch-20050501.txt

post-install:
	@@for f in bggen vdcomp xcmap xv xvpictoppm; do \
	    strip ${PREFIX}/bin/$$f; \
	done
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/xv
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/xv
	${INSTALL_DATA} ${WRKSRC}/docs/xvdocs.ps ${PREFIX}/share/doc/xv
@


1.32
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2006/08/03 12:53:18 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p4
a24 1
MAINTAINER=	Bruno Rohee <rohee@@openbsd.org>
@


1.31
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/07/14 21:17:15 steven Exp $
d33 1
@


1.30
log
@master site fixes/improvements
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/09/30 04:23:20 fgsch Exp $
d20 3
a22 3
LIB_DEPENDS=    jpeg.62.::graphics/jpeg \
		tiff.35.::graphics/tiff \
		png.2.::graphics/png
@


1.29
log
@strip binaries on install. bump just in case. maintainer and sturm@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/06/23 20:23:05 sturm Exp $
d10 4
a13 1
MASTER_SITES=	ftp://ftp.cis.upenn.edu/pub/xv/
@


1.28
log
@update jumbo patches to version 20050501

from maintainer rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2005/04/17 13:37:42 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p3
d39 3
@


1.27
log
@this stuff builds without really installing it now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/04/12 17:28:04 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
d11 2
a12 2
MASTER_SITES0=	http://www.sonic.net/~roelofs/code/
DISTFILES=	${DISTNAME}.tar.gz xv-3.10a-jumbo-patches-20050410.tar.gz:0
d28 1
a28 1
WANTLIB=		X11 Xext c m z
a29 1
CONFIGURE_STYLE=	imake
d32 2
d36 1
a36 1
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xv-3.10a-jumbo-enh-patch-20050410.txt
@


1.26
log
@SECURITY:
Fixes for multiple vulnerabilities.  Switch to centralized jumbo patch.
From rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2005/03/15 01:16:47 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d21 1
@


1.25
log
@Fix a format string vulnerability in the handling of image filenames.
From Gentoo, via rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/11/30 01:06:40 espie Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d11 2
a12 3
MASTER_SITES0=	ftp://swrinde.nde.swri.edu/pub/png/applications/
MASTER_SITES1=	http://ftp.trilon.com/pub/xv/patches/
DISTFILES=	${DISTNAME}.tar.gz xv-3.10a-png-1.2d.tar.gz:0
a14 9
# Various patches from the XV author's site
#
# (xpm.patch is integrated in xvpng.diff that is in xv-3.10a-png-1.2d.tar.gz)
# longname.patch is integrated in patches/patch-aj
PATCHFILES=     xv-3.10a.JPEG-patch xv-3.10a.TIFF-patch bmp32.patch:1 \
		deepcolor.patch:1 exceed_grab.patch:1 gifpatch:1 grabpatch:1 \
		gssafer.patch:1 mp-tiff-patch:1 pdf.patch:1 tiff1200.patch:1 \
		vispatch:1 xvpng-fix2.patch:1

d29 2
a30 1
CONFIGURE_STYLE= imake
d33 2
a34 6
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xcmap.diff
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xvpng.diff
	@@mv ${WRKDIR}/xvpng.c ${WRKSRC}
	@@mv ${WRKDIR}/bits/br_png ${WRKSRC}/bits

NO_REGRESS=	Yes
@


1.25.2.1
log
@SECURITY:
Fixes for multiple vulnerabilities. Switch to centralized jumbo patch.
bump PKGNAME
http://www.vuxml.org/openbsd/e9b45990-abff-11d9-a42d-080020f8e4df.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2005/03/15 01:16:47 naddy Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d11 3
a13 3
MASTER_SITES0=	http://www.sonic.net/~roelofs/code/
DISTFILES=	${DISTNAME}.tar.gz \
		xv-3.10a-jumbo-patches-20050410.tar.gz:0 
d16 9
a39 1
NO_REGRESS=	Yes
d42 6
a47 2
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xv-3.10a-jumbo-fix-patch-20050410.txt 
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xv-3.10a-jumbo-enh-patch-20050410.txt 
@


1.24
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/10/27 00:03:17 naddy Exp $
d7 1
@


1.23
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2002/03/21 20:57:09 espie Exp $
d36 1
@


1.23.6.1
log
@SECURITY:
Fix a format string vulnerability in the handling of image filenames.
http://www.vuxml.org/openbsd/4d960e7a-9537-11d9-9fda-080020fe8945.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/10/27 00:03:17 naddy Exp $
a6 1
PKGNAME=	${DISTNAME}p0
@


1.23.6.2
log
@MFC:

SECURITY:
Fixes for multiple vulnerabilities.  Switch to centralized jumbo patch.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23.6.1 2005/03/15 22:23:44 robert Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d11 3
a13 2
MASTER_SITES0=	http://www.sonic.net/~roelofs/code/
DISTFILES=	${DISTNAME}.tar.gz xv-3.10a-jumbo-patches-20050410.tar.gz:0
d16 9
a38 1
NO_REGRESS=	Yes
d41 6
a46 2
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xv-3.10a-jumbo-fix-patch-20050410.txt
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xv-3.10a-jumbo-enh-patch-20050410.txt
@


1.23.8.1
log
@SECURITY:
Fix a format string vulnerability in the handling of image filenames.
http://www.vuxml.org/openbsd/4d960e7a-9537-11d9-9fda-080020fe8945.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/10/27 00:03:17 naddy Exp $
a6 1
PKGNAME=	${DISTNAME}p0
@


1.23.8.2
log
@MFC:

SECURITY:
Fixes for multiple vulnerabilities. Switch to centralized jumbo patch.

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23.8.1 2005/03/15 22:18:44 robert Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p1
d11 3
a13 2
MASTER_SITES0=	http://www.sonic.net/~roelofs/code/
DISTFILES=	${DISTNAME}.tar.gz xv-3.10a-jumbo-patches-20050410.tar.gz:0
d16 9
a38 1
NO_REGRESS=	Yes
d41 6
a46 2
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xv-3.10a-jumbo-fix-patch-20050410.txt
	@@${PATCH} ${PATCH_ARGS} -p1 < ${WRKDIR}/xv-3.10a-jumbo-enh-patch-20050410.txt
@


1.22
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/05/24 02:27:48 kevlo Exp $
d8 1
a8 1
NEED_VERSION=	1.515
d44 2
@


1.21
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/05/06 05:05:53 lebel Exp $
d8 1
a8 1
NEED_VERSION=	1.402
@


1.20
log
@graphics: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/10/22 15:42:21 espie Exp $
d28 1
a28 1
		png.1.::graphics/png
@


1.19
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/10/22 14:03:20 espie Exp $
d4 2
d8 1
a8 1
NEED_VERSION=	1.305
@


1.18
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/08/05 00:34:49 rohee Exp $
d6 1
a6 1
NEED_VERSION=	1.301
@


1.17
log
@more patches from the author
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/08/05 00:15:23 rohee Exp $
d28 1
a28 1
MAINTAINER=	rohee@@openbsd.org
@


1.16
log
@New patch from the author, sixing a potential security problem
when displaying rogue Postscript files. Now ghostscript is called
safely.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/06/21 02:29:05 brad Exp $
d17 4
a20 3
PATCHFILES=     xv-3.10a.JPEG-patch xv-3.10a.TIFF-patch deepcolor.patch:1 \
		exceed_grab.patch:1 gifpatch:1 grabpatch:1 gssafer.patch:1 \
		mp-tiff-patch:1 pdf.patch:1 vispatch:1 xvpng-fix2.patch:1
@


1.15
log
@- reorganzie Makefile
- remove FAKE=Yes
- USE_IMAKE -> CONFIGURE_STYLE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/04/02 19:50:17 rohee Exp $
d18 2
a19 2
		exceed_grab.patch:1 gifpatch:1 grabpatch:1 mp-tiff-patch:1 \
		pdf.patch:1 vispatch:1 xvpng-fix2.patch:1
@


1.14
log
@Repair make fetch

Thanks to greg@@nest.cx for noticing
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/03/24 23:28:11 espie Exp $
d5 2
a6 10
DIST_SUBDIR=	xv
CATEGORIES=     graphics x11
NEED_VERSION=	 1.230
NO_CDROM=	"NOFEE: can not sell"

PERMIT_DISTFILES_FTP=Yes
PERMIT_PACKAGE_FTP=Yes
PERMIT_DISTFILES_CDROM=Must buy license
PERMIT_PACKAGE_CDROM=Must buy license

a7 4
DISTFILES=	${DISTNAME}${EXTRACT_SUFX}

# Add support for png
#
d9 3
a11 5
DISTFILES+=	xv-3.10a-png-1.2d.tar.gz:0

# Up-to-date jpeg/tiff libraries
#
PATCHFILES=     xv-3.10a.JPEG-patch xv-3.10a.TIFF-patch
d17 3
a19 7

MASTER_SITES1=	http://ftp.trilon.com/pub/xv/patches/
PATCHFILES+=	deepcolor.patch:1 exceed_grab.patch:1 gifpatch:1 \
		grabpatch:1 mp-tiff-patch:1 pdf.patch:1 vispatch:1 \
		xvpng-fix2.patch:1

MAINTAINER=	rohee@@OpenBSD.ORG
d27 8
a34 2
USE_IMAKE=	Yes
FAKE=Yes
a44 1
.if !defined(NOPORTDOCS)
a45 1
.endif
@


1.14.2.1
log
@bring graphics as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/08/05 00:34:49 rohee Exp $
d5 10
a14 2
CATEGORIES=	graphics x11
NEED_VERSION=	1.301
d16 4
d21 5
a25 3
MASTER_SITES1=	http://ftp.trilon.com/pub/xv/patches/
DISTFILES=	${DISTNAME}.tar.gz xv-3.10a-png-1.2d.tar.gz:0
DIST_SUBDIR=	xv
d31 7
a37 4
PATCHFILES=     xv-3.10a.JPEG-patch xv-3.10a.TIFF-patch bmp32.patch:1 \
		deepcolor.patch:1 exceed_grab.patch:1 gifpatch:1 grabpatch:1 \
		gssafer.patch:1 mp-tiff-patch:1 pdf.patch:1 tiff1200.patch:1 \
		vispatch:1 xvpng-fix2.patch:1
d45 2
a46 8
MAINTAINER=	rohee@@openbsd.org

PERMIT_PACKAGE_CDROM=	"Must buy license"
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	"Must buy license"
PERMIT_DISTFILES_FTP=	Yes

CONFIGURE_STYLE= imake
d57 1
d59 1
@


1.13
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/03/06 17:04:30 espie Exp $
d32 2
a33 2
MASTER_SITES1=	ftp://ftp.trilon.com/pub/xv/patches/
PATCHFILES+=	deepcolor.patch:1 exceed_grab_patch.txt:1 gifpatch:1 \
@


1.12
log
@Fake
Licensing info
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/03/05 18:30:30 espie Exp $
d7 1
a7 1
NEED_VERSION=	1.223
d41 3
a43 3
LIB_DEPENDS=    jpeg.62.:graphics/jpeg \
		tiff.35.:graphics/tiff \
		png.1.:graphics/png
@


1.11
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/01 19:20:23 espie Exp $
d10 5
d46 1
@


1.10
log
@Remove PATCH_SITES.
Clean-up nits.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/11/11 15:01:47 rohee Exp $
d7 1
a8 1
NEED_VERSION=	1.175
d36 3
a38 3
LIB_DEPENDS=    jpeg.62.:${PORTSDIR}/graphics/jpeg \
		tiff.35.:${PORTSDIR}/graphics/tiff \
		png.1.:${PORTSDIR}/graphics/png
@


1.9
log
@a new patch from the author
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/11/10 09:53:57 jakob Exp $
d5 1
a5 1
DIST_SUBDIR=	${DISTNAME}
d8 1
a19 1
PATCH_SITES=    ftp://ftp.cis.upenn.edu/pub/xv/
d27 4
a30 4
PATCH_SITES0=	ftp://ftp.trilon.com/pub/xv/patches/
PATCHFILES+=	deepcolor.patch:0 exceed_grab_patch.txt:0 gifpatch:0 \
		grabpatch:0 mp-tiff-patch:0 pdf.patch:0 vispatch:0 \
		xvpng-fix2.patch:0
d40 1
a40 1
USE_IMAKE=	yes
d45 2
a46 2
	@@${MV} ${WRKDIR}/xvpng.c ${WRKSRC}
	@@${MV} ${WRKDIR}/bits/br_png ${WRKSRC}/bits
d49 1
a49 1
	${MKDIR} ${PREFIX}/share/doc/xv
@


1.8
log
@fix libtiff dependencies; ok rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/11/09 21:49:00 rohee Exp $
d28 3
a30 2
PATCHFILES+=	deepcolor.patch:0 gifpatch:0 grabpatch:0 \
		mp-tiff-patch:0 pdf.patch:0 vispatch:0 xvpng-fix2.patch:0
@


1.7
log
@Remove dependancies on libtiff-3.4, now depends on the standard libtiff.

PLIST is only reordered...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/09/26 21:43:44 espie Exp $
d36 1
a36 1
		tiff.3.5:${PORTSDIR}/graphics/tiff \
@


1.6
log
@Multiple sites. suggested by rohee@@
@
text
@d1 2
a2 7
# OpenBSD makefile for:	xv
# Version required:	3.10a
# Date created:		1998-Mar-20
# Whom:			marc@@OpenBSD.ORG
#
# $OpenBSD: Makefile,v 1.5 1999/04/22 19:05:08 rohee Exp $
#
d33 1
a33 1
HOMEPAGE=http://www.trilon.com/xv/index.html
d35 3
a37 3
LIB_DEPENDS=    jpeg\\.62\\.:${PORTSDIR}/graphics/jpeg \
		tiff\\.3\\.4:${PORTSDIR}/graphics/tiff34 \
		png\\.1\\.:${PORTSDIR}/graphics/png
@


1.5
log
@use the latest patches form the authors website
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 1998/06/14 08:10:40 marc Exp $
d19 2
a20 2
MASTER_SITES+=	ftp://swrinde.nde.swri.edu/pub/png/applications/
DISTFILES+=	xv-3.10a-png-1.2d.tar.gz
d32 3
a34 3
PATCH_SITES+=	ftp://ftp.trilon.com/pub/xv/patches/
PATCHFILES+=	deepcolor.patch gifpatch grabpatch \
		mp-tiff-patch pdf.patch vispatch xvpng-fix2.patch
@


1.4
log
@when previously updating tiff34 to install as libtiff the shared
version was left at 1.0.  Oops.  The old tiff (3.3) installed as
libtiff.so.3.3. Install tiff34 as libtiff.so.3.4 but keep the libtiff34
link at version 1.0.  confusing but it seems to work correctly.
Update all ports that depend upon tiff so the dependency is on
tiff.3.4.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1998/05/06 02:55:59 marc Exp $
d29 3
d33 4
a36 1
PATCHFILES+=	grabpatch vispatch mp-tiff-patch
d38 1
a38 1
MAINTAINER=	ports@@OpenBSD.ORG
d49 2
a50 2
	@@${CP} ${WRKDIR}/xvpng.c ${WRKSRC}
	@@${CP} ${WRKDIR}/bits/br_png ${WRKSRC}/bits
@


1.3
log
@update LIB_DEPENDS for new jpeg library
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/04/14 05:45:40 marc Exp $
d35 1
a35 1
		tiff34\\.1:${PORTSDIR}/graphics/tiff34 \
@


1.2
log
@update NO_CDROM status in makefile
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/03/21 05:38:13 marc Exp $
d34 1
a34 1
LIB_DEPENDS=    jpeg\\.7\\.:${PORTSDIR}/graphics/jpeg \
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d12 2
@


1.1.1.1
log
@xv-3.10a plus current jpeg/tiff/png
@
text
@@
