head	1.8;
access;
symbols
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.1.1.1.0.2
	OPENBSD_5_4_BASE:1.1.1.1
	bcallah_2013-Jul-13:1.1.1.1
	bcallah:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2015.09.20.12.07.35;	author jasper;	state dead;
branches;
next	1.7;
commitid	csIPj8kXYh0H8bzK;

1.7
date	2015.09.19.13.37.38;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	3ynn7hpfrSjbULMG;

1.6
date	2015.05.21.00.32.46;	author bcallah;	state Exp;
branches;
next	1.5;
commitid	fLaSRO41EAnnveCW;

1.5
date	2015.05.18.23.58.26;	author bcallah;	state Exp;
branches;
next	1.4;
commitid	qLGDDz9t51KsykjK;

1.4
date	2014.11.08.15.52.03;	author bcallah;	state Exp;
branches;
next	1.3;
commitid	z1IkwDxXErEu9D4l;

1.3
date	2014.03.26.12.57.18;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2013.09.13.07.09.37;	author bcallah;	state Exp;
branches;
next	1.1;

1.1
date	2013.07.13.16.16.36;	author bcallah;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.07.13.16.16.36;	author bcallah;	state Exp;
branches;
next	;


desc
@@


1.8
log
@- update to birdfont-2.11.7
- rework patches

joint work with upstream
@
text
@$OpenBSD: patch-scripts_bavala_py,v 1.7 2015/09/19 13:37:38 ajacoutot Exp $
--- scripts/bavala.py.orig	Fri Aug 28 14:00:12 2015
+++ scripts/bavala.py	Sat Sep 19 15:17:14 2015
@@@@ -102,7 +102,7 @@@@ class Vala(object):
             self.header = join(build, library) + '.h'
             self.vapi = join(build, library) + '.vapi' # generated vapi file
             self.other_vapi_files = get_sources_path (src, '*.vapi') # other vapi files
-            self.so = join(build, src) + '.so.' + so_version
+            self.so = join(build, src) + '.so.' + '${LIBbirdfont_VERSION}'
             self.so_link = join(build, src) + '.so'
             self.so_link_name = src + '.so'
             self.so_version = so_version
@@@@ -229,6 +229,8 @@@@ class Vala(object):
         
         if not "bsd" in sys.platform or "kfreebsd" in sys.platform:
             create_link = "ln -s -T " + so_file + " " + self.so_link_name + " "
+	else:
+            create_link = "ln -s " + so_file + " " + self.so_link_name + " "
 
         create_link += "&& mv " + self.so_link_name + " " + self.build + "/" 
         return {
@


1.7
log
@Unbreak and update to birdfont-2.11.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-scripts_bavala_py,v 1.6 2015/05/21 00:32:46 bcallah Exp $
@


1.6
log
@Update to 2.8.0 -- thanks to upstream for integrating some of the patches!
@
text
@d1 3
a3 3
$OpenBSD: patch-scripts_bavala_py,v 1.5 2015/05/18 23:58:26 bcallah Exp $
--- scripts/bavala.py.orig	Tue May 19 09:19:40 2015
+++ scripts/bavala.py	Tue May 19 23:44:49 2015
d15 1
a15 1
         if not "bsd" in sys.platform:
@


1.5
log
@Update to 2.7.10
Adds a new libbirdgems shared library.
@
text
@d1 4
a4 4
$OpenBSD: patch-scripts_bavala_py,v 1.4 2014/11/08 15:52:03 bcallah Exp $
--- scripts/bavala.py.orig	Mon May 18 18:26:35 2015
+++ scripts/bavala.py	Mon May 18 18:27:29 2015
@@@@ -84,7 +84,7 @@@@ class Vala(object):
d13 7
a19 6
@@@@ -208,7 +208,7 @@@@ class Vala(object):
     def gen_ln(self):
         """generate a symbolic link to the generated ".so" file"""
         so_file = self.so.rsplit('/')[-1]
-        create_link = "ln -s -T " + so_file + " " + self.so_link_name + " "
+        create_link = "ln -s " + so_file + " " + self.so_link_name + " "
a21 1
             'name': self.so_link_name,
@


1.4
log
@Update to 1.9.3
@
text
@d1 4
a4 5
$OpenBSD: patch-scripts_bavala_py,v 1.3 2014/03/26 12:57:18 jasper Exp $
--- scripts/bavala.py.orig	Tue Oct 28 09:05:37 2014
+++ scripts/bavala.py	Sat Nov  1 17:15:33 2014
@@@@ -82,7 +82,7 @@@@ class Vala(object):
         if library:
d6 2
a7 1
             self.vapi = join(build, library) + '.vapi'
d13 1
a13 1
@@@@ -192,7 +192,7 @@@@ class Vala(object):
@


1.3
log
@update to birdfont-0.36

ok bcallah@@ (MAINTAINER) who had a similar diff
@
text
@d1 4
a4 4
$OpenBSD: patch-scripts_bavala_py,v 1.2 2013/09/13 07:09:37 bcallah Exp $
--- scripts/bavala.py.orig	Sat Mar 22 16:52:02 2014
+++ scripts/bavala.py	Wed Mar 26 10:36:29 2014
@@@@ -81,7 +81,7 @@@@ class Vala(object):
d13 1
a13 1
@@@@ -167,7 +167,7 @@@@ class Vala(object):
@


1.2
log
@Update birdfont to 0.31.
Changelog includes kerning classes, overview tab, bold and italic styles,
and many bug fixes.
ok landry@@ aja@@
@
text
@d1 3
a3 3
$OpenBSD$
--- scripts/bavala.py.orig	Sat Aug 24 16:18:42 2013
+++ scripts/bavala.py	Sun Aug 25 15:30:09 2013
d13 1
a13 1
@@@@ -163,7 +163,7 @@@@ class Vala(object):
d15 1
a15 1
         """generate a symbilic link to the generated ".so" file"""
@


1.1
log
@Initial revision
@
text
@d2 3
a4 3
--- scripts/bavala.py.orig	Fri Jul  5 18:30:02 2013
+++ scripts/bavala.py	Fri Jul  5 18:30:31 2013
@@@@ -82,7 +82,7 @@@@ class Vala(object):
d8 14
a21 5
-            self.so = join(build, src) + '.so'
+            self.so = join(build, src) + '.so' + '.${LIBbirdfont_VERSION}'
 
     def gen_c(self, opts):
         """translate code from vala to C and create .vapi"""
@


1.1.1.1
log
@Import birdfont. Birdfont is a free font editor for TTF, EOG, and SVG fonts
ok landry@@
@
text
@@
