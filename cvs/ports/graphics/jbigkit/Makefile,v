head	1.44;
access;
symbols
	OPENBSD_6_2:1.44.0.6
	OPENBSD_6_2_BASE:1.44
	OPENBSD_6_1:1.44.0.4
	OPENBSD_6_1_BASE:1.44
	OPENBSD_6_0:1.44.0.2
	OPENBSD_6_0_BASE:1.44
	OPENBSD_5_9:1.43.0.6
	OPENBSD_5_9_BASE:1.43
	OPENBSD_5_8:1.43.0.8
	OPENBSD_5_8_BASE:1.43
	OPENBSD_5_7:1.43.0.4
	OPENBSD_5_7_BASE:1.43
	OPENBSD_5_6:1.43.0.2
	OPENBSD_5_6_BASE:1.43
	OPENBSD_5_5:1.42.0.2
	OPENBSD_5_5_BASE:1.42
	OPENBSD_5_4:1.39.0.2
	OPENBSD_5_4_BASE:1.39
	OPENBSD_5_3:1.36.0.2
	OPENBSD_5_3_BASE:1.36
	OPENBSD_5_2:1.35.0.8
	OPENBSD_5_2_BASE:1.35
	OPENBSD_5_1_BASE:1.35
	OPENBSD_5_1:1.35.0.6
	OPENBSD_5_0:1.35.0.4
	OPENBSD_5_0_BASE:1.35
	OPENBSD_4_9:1.35.0.2
	OPENBSD_4_9_BASE:1.35
	OPENBSD_4_8:1.33.0.2
	OPENBSD_4_8_BASE:1.33
	OPENBSD_4_7:1.32.0.10
	OPENBSD_4_7_BASE:1.32
	OPENBSD_4_6:1.32.0.8
	OPENBSD_4_6_BASE:1.32
	OPENBSD_4_5:1.32.0.6
	OPENBSD_4_5_BASE:1.32
	OPENBSD_4_4:1.32.0.4
	OPENBSD_4_4_BASE:1.32
	OPENBSD_4_3:1.32.0.2
	OPENBSD_4_3_BASE:1.32
	OPENBSD_4_2:1.31.0.4
	OPENBSD_4_2_BASE:1.31
	OPENBSD_4_1:1.31.0.2
	OPENBSD_4_1_BASE:1.31
	OPENBSD_4_0:1.29.0.4
	OPENBSD_4_0_BASE:1.29
	OPENBSD_3_9:1.29.0.2
	OPENBSD_3_9_BASE:1.29
	OPENBSD_3_8:1.26.0.4
	OPENBSD_3_8_BASE:1.26
	OPENBSD_3_7:1.26.0.2
	OPENBSD_3_7_BASE:1.26
	OPENBSD_3_6:1.25.0.4
	OPENBSD_3_6_BASE:1.25
	OPENBSD_3_5:1.25.0.2
	OPENBSD_3_5_BASE:1.25
	OPENBSD_3_4:1.23.0.4
	OPENBSD_3_4_BASE:1.23
	OPENBSD_3_3:1.23.0.2
	OPENBSD_3_3_BASE:1.23
	OPENBSD_3_2:1.22.0.4
	OPENBSD_3_2_BASE:1.22
	OPENBSD_3_1:1.22.0.2
	OPENBSD_3_1_BASE:1.22
	OPENBSD_3_0:1.21.0.4
	OPENBSD_3_0_BASE:1.21
	OPENBSD_2_9_TRACKING_SWITCH:1.21
	OPENBSD_2_9:1.21.0.2
	OPENBSD_2_9_BASE:1.21
	OPENBSD_2_8:1.19.0.2
	OPENBSD_2_8_BASE:1.19
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.1.1.1.0.2
	OPENBSD_2_6_BASE:1.1.1.1
	brad_1999-05-08:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.44
date	2016.03.10.21.58.51;	author naddy;	state Exp;
branches;
next	1.43;
commitid	g78OHI8ulpVtt3HS;

1.43
date	2014.04.08.13.59.32;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2013.09.21.23.15.12;	author naddy;	state Exp;
branches
	1.42.2.1;
next	1.41;

1.41
date	2013.09.21.15.59.39;	author sebastia;	state Exp;
branches;
next	1.40;

1.40
date	2013.08.06.17.03.51;	author miod;	state Exp;
branches;
next	1.39;

1.39
date	2013.07.05.06.27.04;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2013.04.13.08.53.10;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2013.03.11.11.10.53;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2012.08.04.20.30.59;	author naddy;	state Exp;
branches;
next	1.35;

1.35
date	2010.11.17.08.05.14;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2010.10.18.18.13.14;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2010.06.29.22.40.45;	author naddy;	state Exp;
branches;
next	1.32;

1.32
date	2007.09.15.20.09.41;	author simon;	state Exp;
branches;
next	1.31;

1.31
date	2006.10.19.13.53.48;	author naddy;	state Exp;
branches;
next	1.30;

1.30
date	2006.10.02.14.32.54;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2005.12.26.18.00.15;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2005.12.26.15.49.48;	author steven;	state Exp;
branches;
next	1.27;

1.27
date	2005.10.30.00.10.41;	author fgsch;	state Exp;
branches;
next	1.26;

1.26
date	2004.11.30.01.06.36;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2004.02.25.20.31.00;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2004.01.11.08.20.06;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2002.10.27.00.01.16;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2002.03.21.20.57.08;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2001.04.21.14.59.31;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2001.04.13.23.46.11;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2000.09.24.07.04.08;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2000.09.24.02.38.01;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2000.07.04.02.09.24;	author krw;	state Exp;
branches;
next	1.16;

1.16
date	2000.06.20.19.03.56;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2000.06.20.18.50.18;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2000.06.10.18.16.09;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2000.06.10.06.08.22;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2000.06.10.05.51.59;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2000.05.24.00.29.05;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.24.22.11.45;	author espie;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.03.23.06.51.58;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2000.03.06.22.09.41;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.15.05.04.33;	author turan;	state Exp;
branches;
next	1.6;

1.6
date	2000.02.12.08.02.22;	author turan;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.11.00.37.26;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.09.15.59.25;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	99.12.28.22.50.29;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.12.27.06.12.08;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.05.08.19.17.39;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.05.08.19.17.39;	author brad;	state Exp;
branches;
next	;

1.10.2.1
date	2000.09.15.04.53.31;	author marc;	state Exp;
branches;
next	;

1.42.2.1
date	2014.05.20.08.56.38;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.44
log
@remove various instances of NO_SHARED_LIBS and PROPERTIES:Mno_shared,
fold PFRAG.shared into PLIST
@
text
@# $OpenBSD: Makefile,v 1.43 2014/04/08 13:59:32 sthen Exp $

COMMENT =	lossless image compression library, with lightweight version

DISTNAME =	jbigkit-2.1

SHARED_LIBS +=	jbig   3.0 # 2.0
SHARED_LIBS +=	jbig85 3.0 # 2.0

CATEGORIES =	graphics

HOMEPAGE =	http://www.cl.cam.ac.uk/~mgk25/jbigkit/

# GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c

MASTER_SITES =	http://www.cl.cam.ac.uk/~mgk25/download/

MAKE_FLAGS =	CC="${CC}" CFLAGS="${CFLAGS} -Wall" \
		VERSION="${LIBjbig_VERSION}"
MAKE_ENV =	LD_LIBRARY_PATH="${WRKSRC}/libjbig"

do-install:
	${INSTALL_MAN_DIR} ${PREFIX}/man/man1
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/jbigkit
	cd ${WRKSRC}/pbmtools && \
		${INSTALL_PROGRAM} jbgtopbm pbmtojbg ${PREFIX}/bin && \
		${INSTALL_MAN} jbgtopbm.1 pbmtojbg.1 ${PREFIX}/man/man1
	${INSTALL_DATA} ${WRKSRC}/libjbig/jbig{,_ar,85}.h ${PREFIX}/include
	${INSTALL_DATA} ${WRKSRC}/libjbig/libjbig{,85}.a ${PREFIX}/lib
	if [ -e ${WRKSRC}/libjbig/libjbig.so.${LIBjbig_VERSION} ]; then \
		${INSTALL_DATA} ${WRKSRC}/libjbig/libjbig{,85}.so.${LIBjbig_VERSION} ${PREFIX}/lib; fi
	${INSTALL_DATA} ${WRKSRC}/libjbig/jbig{,85}.txt ${PREFIX}/share/doc/jbigkit

.include <bsd.port.mk>
@


1.43
log
@SECURITY update to jbigkit 2.1 (no ABI change)

  - fixed a buffer-overflow vulnerability in the jbig.c decoder,
    reported by Florian Weimer (Red Hat): CVE-2013-6369

  - fixed ability of corrupted input data to force jbig85.c decoder
    into an end-less loop

  - fixed a bug in the processing of private deterministic-prediction
    tables (DPPRIV=1) in jbig.c decoder

  - fixed integer-type mismatches in printf arguments on 64-bit systems

  - fuzz-testing script added
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/09/21 23:15:12 naddy Exp $
a37 4

.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:L} == "yes"
MAKE_ENV+=	NO_SHARED_LIBS=Yes
.endif
@


1.42
log
@fix syntax error
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 2
COMMENT =		lossless image compression library, with lightweight version
REVISION =		0
d5 1
a5 1
DISTNAME =		jbigkit-2.0
d7 2
a8 2
SHARED_LIBS +=		jbig   3.0 # 2.0
SHARED_LIBS +=		jbig85 3.0 # 2.0
d10 1
a10 1
CATEGORIES =		graphics
d12 1
a12 1
HOMEPAGE =		http://www.cl.cam.ac.uk/~mgk25/jbigkit/
d14 1
a14 1
# GPLv2
d19 1
a19 1
MASTER_SITES =		http://www.cl.cam.ac.uk/~mgk25/download/
d21 3
a23 4
MAKE_FLAGS =		CC="${CC}" CCFLAGS="${CFLAGS} -Wall" VERSION="${LIBjbig_VERSION}"
MAKE_ENV =		LD_LIBRARY_PATH="${WRKSRC}/libjbig"

WRKDIST =		${WRKDIR}/jbigkit
@


1.42.2.1
log
@SECURITY update to jbigkit 2.1 (no ABI change)

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/09/21 23:15:12 naddy Exp $
d4 1
d6 1
a6 1
DISTNAME =		jbigkit-2.1
d24 2
@


1.41
log
@fix install stage on static arch, i.e. VAX

OK espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/08/06 17:03:51 miod Exp $
d35 1
a35 1
	if [ -e ${WRKSRC}/libjbig/libjbig.so.${LIBjbig_VERSION}]; then \
@


1.40
log
@Make sure all objects in libjbig.so are compiled pic; unbreaks jbigkit and
ports depending upon it on powerpc where ld.so doesn't like the text relocations
this would create (ld.so fix coming soon nevertheless).

ok landry@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2013/07/05 06:27:04 espie Exp $
d35 2
a36 2
	test -e ${WRKSRC}/libjbig/libjbig.so.${LIBjbig_VERSION} && \
		${INSTALL_DATA} ${WRKSRC}/libjbig/libjbig{,85}.so.${LIBjbig_VERSION} ${PREFIX}/lib
@


1.39
log
@fix install on vax
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/04/13 08:53:10 ajacoutot Exp $
d4 1
@


1.38
log
@Update to jbigkit-2.0.
This adds the lightweitgh version of the jbig library: jbig85 which is
needed by a WIP update of graphics/splix.

from Martin Crossley with some tweaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/03/11 11:10:53 espie Exp $
d34 2
a35 1
	${INSTALL_DATA} ${WRKSRC}/libjbig/libjbig{,85}.so.${LIBjbig_VERSION} ${PREFIX}/lib
@


1.37
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2012/08/04 20:30:59 naddy Exp $
d3 1
a3 1
COMMENT=	lossless image compression library
d5 1
a5 5
DISTNAME=	jbigkit-1.6
REVISION =	2
SHARED_LIBS=	jbig	2.0
CATEGORIES=	graphics
MASTER_SITES=	http://www.cl.cam.ac.uk/~mgk25/download/
d7 2
a8 3
# GPL
PERMIT_PACKAGE_CDROM=	Yes
WANTLIB=		c
d10 1
a10 3
MAKE_ENV=	LD_LIBRARY_PATH="${WRKSRC}/libjbig"
MAKE_FLAGS=	CC="${CC}" CCFLAGS="${CFLAGS} -Wall" \
		VERSION="${LIBjbig_VERSION}"
d12 13
a24 1
WRKDIST=	${WRKDIR}/jbigkit
a26 3
	${INSTALL_PROGRAM_DIR} ${PREFIX}/bin
	${INSTALL_DATA_DIR} ${PREFIX}/include
	${INSTALL_DATA_DIR} ${PREFIX}/lib
d28 3
a30 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/jbig
	cd ${WRKSRC}/pbmtools && ${INSTALL_PROGRAM} jbgtopbm pbmtojbg ${PREFIX}/bin && \
d32 4
a35 6
	${INSTALL_DATA} ${WRKSRC}/libjbig/jbig.h ${PREFIX}/include
	${INSTALL_DATA} ${WRKSRC}/libjbig/libjbig.a ${PREFIX}/lib
	@@if [ -f ${WRKSRC}/libjbig/libjbig.so.${LIBjbig_VERSION} ]; then \
	   ${INSTALL_DATA} ${WRKSRC}/libjbig/libjbig.so.${LIBjbig_VERSION} ${PREFIX}/lib; \
	fi
	${INSTALL_DATA} ${WRKSRC}/libjbig/jbig.doc ${PREFIX}/share/doc/jbig
@


1.36
log
@no need for groff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/11/17 08:05:14 espie Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.35
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/10/18 18:13:14 espie Exp $
a17 1
USE_GROFF =	Yes
@


1.34
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/06/29 22:40:45 naddy Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.33
log
@LP64 fixes for format strings
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/09/15 20:09:41 simon Exp $
d18 1
@


1.32
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2006/10/19 13:53:48 naddy Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.31
log
@go back to -fpic now that alpha copes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/10/02 14:32:54 naddy Exp $
d3 1
a3 1
COMMENT=	"lossless image compression library"
@


1.30
log
@switch to -fPIC, required by alpha
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/12/26 18:00:15 brad Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.29
log
@upgrade to jbigkit 1.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/12/26 15:49:48 steven Exp $
d6 1
@


1.28
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2005/10/30 00:10:41 fgsch Exp $
d5 2
a6 2
DISTNAME=	jbigkit-1.5
SHARED_LIBS=	jbig	1.2
@


1.27
log
@after querying brad@@ he decided to drop maintainership for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/11/30 01:06:36 espie Exp $
d6 1
a16 2
LIBVERSION=	1.2

d18 2
a19 1
MAKE_FLAGS=	CC="${CC}" CCFLAGS="${CFLAGS} -Wall" VERSION="${LIBVERSION}"
d33 2
a34 2
	@@if [ -f ${WRKSRC}/libjbig/libjbig.so.${LIBVERSION} ]; then \
	   ${INSTALL_DATA} ${WRKSRC}/libjbig/libjbig.so.${LIBVERSION} ${PREFIX}/lib; \
@


1.26
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/02/25 20:31:00 brad Exp $
a7 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.25
log
@upgrade to jbigkit 1.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/01/11 08:20:06 brad Exp $
d16 1
@


1.24
log
@- add license comment
- set LD_LIBRARY_PATH via MAKE_ENV
- remove test target
- sync patch names with update-patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/10/27 00:01:16 naddy Exp $
d5 1
a5 1
DISTNAME=	jbigkit-1.2
d7 1
a7 2
MASTER_SITES=	ftp://ftp.informatik.uni-erlangen.de/local/cip/mskuhn/ISO/JBIG/ \
		http://www.cl.cam.ac.uk/~mgk25/download/
d17 2
d20 1
a20 2
MAKE_FLAGS=	CC="${CC}" CCFLAGS="${CFLAGS} -Wall"
FAKE_FLAGS=	${MAKE_FLAGS}
d24 5
a28 3
REGRESS_TARGET=	test

post-install:
d30 7
@


1.23
log
@Enable regression suite.
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.22 2002/03/21 20:57:08 espie Exp $
# $FreeBSD: Makefile,v 1.5 1998/09/14 22:19:05 smace Exp $
a6 1

d12 1
d18 1
a28 3

test:	build
	@@cd ${WRKBUILD} && ${SETENV} LD_LIBRARY_PATH="${WRKBUILD}/libjbig" ${MAKE} ${MAKE_FLAGS} -f ${MAKE_FILE} test
@


1.22
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/04/21 14:59:31 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.515
d23 2
@


1.21
log
@MAKE_ENV= -> MAKE_ENV+=; should fix problem art@@ has been seeing.
--
Ok'd by: espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/04/13 23:46:11 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.384
@


1.20
log
@- integrate COMMENT
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/09/24 07:04:08 brad Exp $
d34 1
a34 1
MAKE_ENV=	NO_SHARED_LIBS=Yes
@


1.19
log
@add name to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/09/24 02:38:01 brad Exp $
d4 2
d8 1
a8 1
NEED_VERSION=	1.330
d20 1
a20 1
FAKE_FLAGS+=	${MAKE_FLAGS}
@


1.18
log
@use "cc -shared" to create shared libraries
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/07/04 02:09:24 krw Exp $
d10 1
a10 1
MAINTAINER=	brad@@openbsd.org
@


1.17
log
@Change PFRAG.shared ldconfig invocation(s) to
DYNLIBDIR() invocations.

Bump NEED_VERSION to 1.310 so DYNLIBDIR() works.

As requested by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/06/20 19:03:56 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.310
d18 1
d31 1
a31 1
.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:U} == YES
@


1.16
log
@revert patch, this is now unnecessary
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/06/20 18:50:18 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.301
@


1.15
log
@Bodily rm those duplicate man pages, so that make plist won't trip us.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/06/10 18:16:09 brad Exp $
a23 1
	rm ${PREFIX}/man/man5/{pbm.5,pgm.5}
@


1.14
log
@- remove FAKE=Yes
- add @@comment with RCS id
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/06/10 06:08:22 brad Exp $
d24 1
@


1.13
log
@upgrade to jbigkit 1.2

- bug in the decoder fixed, which caused the rest of the input file
  to be skipped whenever a comment marker was encountered.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/06/10 05:51:59 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.234
a15 2

FAKE=	Yes
@


1.12
log
@- remove NO_CONFIGURE
- ${WRKSRC} -> ${WRKBUILD}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/05/24 00:29:05 brad Exp $
d4 1
a4 1
DISTNAME=	jbigkit-1.1
@


1.11
log
@- bump NEED_VERSION
- make -> ${MAKE}
- remove some whitespace
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/03/24 22:11:45 espie Exp $
a18 1
NO_CONFIGURE=	Yes
d28 1
a28 1
	@@cd ${WRKSRC} && ${SETENV} LD_LIBRARY_PATH="${WRKSRC}/libjbig" ${MAKE} ${MAKE_FLAGS} -f ${MAKE_FILE} test
@


1.10
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/03/23 06:51:58 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.218
a9 1

a19 1

d29 1
a29 1
	@@cd ${WRKSRC} && env LD_LIBRARY_PATH="${WRKSRC}/libjbig" make ${MAKE_FLAGS} -f ${MAKE_FILE} test
@


1.10.2.1
log
@bring graphics as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/07/04 02:09:24 krw Exp $
d4 1
a4 1
DISTNAME=	jbigkit-1.2
d6 1
a6 1
NEED_VERSION=	1.310
d10 1
d18 4
d31 1
a31 1
	@@cd ${WRKBUILD} && ${SETENV} LD_LIBRARY_PATH="${WRKBUILD}/libjbig" ${MAKE} ${MAKE_FLAGS} -f ${MAKE_FILE} test
@


1.9
log
@- make use of MAKE_FLAGS
- re-do install target using BSD_INSTALL_ macros
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/03/06 22:09:41 brad Exp $
d6 1
a9 1
NEED_VERSION=	1.218
@


1.8
log
@- Fake
- add NO_CONFIGURE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/15 05:04:33 turan Exp $
d22 2
d31 1
a31 1
	@@cd ${WRKSRC} && env LD_LIBRARY_PATH="${WRKSRC}/libjbig" make test
@


1.7
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/02/12 08:02:22 turan Exp $
d8 2
a9 1
NEED_VERSION=	1.191
d13 8
a20 5
LICENSE_TYPE=		GPL
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
a26 1
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.6
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/11 00:37:26 espie Exp $
d13 4
a16 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.5
log
@Use WRKDIST where appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/09 15:59:25 brad Exp $
d11 6
@


1.4
log
@- fix URL for one of the dist sites that has been reorganized and add
another dist site
- mkdir -> ${INSTALL_DATA_DIR}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/12/28 22:50:29 brad Exp $
d8 1
d12 1
a12 1
WRKSRC=	${WRKDIR}/jbigkit
@


1.3
log
@style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/12/27 06:12:08 brad Exp $
d6 2
a7 1
MASTER_SITES=	ftp://ftp.informatik.uni-erlangen.de/pub/doc/ISO/JBIG/
d14 1
a14 1
	@@mkdir -p ${PREFIX}/share/doc/jbig
d19 1
a19 1
	@@cd ${WRKSRC} && env LD_LIBRARY_PATH=${WRKSRC}/libjbig make test
@


1.2
log
@upgrade to jbigkit 1.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/05/08 19:17:39 brad Exp $
d18 1
a18 1
	cd ${WRKSRC} && env LD_LIBRARY_PATH=${WRKSRC}/libjbig make test
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
DISTNAME=	jbigkit-1.0
d10 1
a10 7
WRKSRC=		${WRKDIR}/jbigkit

# post-patch must be defined before bsd.port.mk is included so it will
# be called.  However, we need to have the body of the target after
# bsd.port.mk is included so NO_SHARED_LIBS is defined.
# Define the target twice, using :
post-patch:
d13 1
a13 1
	${MKDIR} ${PREFIX}/share/doc/jbig
d15 4
a18 1
	${LDCONFIG} -m ${PREFIX}/lib
d22 2
a23 6
# The patches assumed shared libs would be build.  If building
# on a host that does not support shared libs, e.g. the alpha,
# apply one more patch.
post-patch:
.if defined(NO_SHARED_LIBS)
	@@(cd ${DISTDIR}; ${PATCH} ${PATCH_DIST_ARGS} < ${FILESDIR}/patch)
@


1.1.1.1
log
@add jbigkit port
-
A lossless image compression library
@
text
@@
