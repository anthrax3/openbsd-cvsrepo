head	1.47;
access;
symbols
	OPENBSD_5_9:1.45.0.2
	OPENBSD_5_9_BASE:1.45
	OPENBSD_5_8:1.43.0.10
	OPENBSD_5_8_BASE:1.43
	OPENBSD_5_7:1.43.0.6
	OPENBSD_5_7_BASE:1.43
	OPENBSD_5_6:1.43.0.4
	OPENBSD_5_6_BASE:1.43
	OPENBSD_5_5:1.43.0.2
	OPENBSD_5_5_BASE:1.43
	OPENBSD_5_4:1.35.0.2
	OPENBSD_5_4_BASE:1.35
	OPENBSD_5_3:1.30.0.2
	OPENBSD_5_3_BASE:1.30
	OPENBSD_5_2:1.29.0.4
	OPENBSD_5_2_BASE:1.29
	OPENBSD_5_1_BASE:1.29
	OPENBSD_5_1:1.29.0.2
	OPENBSD_5_0:1.27.0.4
	OPENBSD_5_0_BASE:1.27
	OPENBSD_4_9:1.27.0.2
	OPENBSD_4_9_BASE:1.27
	OPENBSD_4_8:1.20.0.2
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.19.0.2
	OPENBSD_4_7_BASE:1.19
	OPENBSD_4_6:1.17.0.2
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.15.0.4
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.15.0.2
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.14.0.2
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.11.0.2
	OPENBSD_4_2_BASE:1.11
	OPENBSD_4_1:1.10.0.2
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.5.0.2
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.2.0.4
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	espie:1.1.1.1
	kde:1.1.1;
locks; strict;
comment	@# @;


1.47
date	2016.04.29.21.10.21;	author zhuk;	state dead;
branches;
next	1.46;
commitid	u9TvebbKy1wgQMr9;

1.46
date	2016.03.19.22.48.27;	author naddy;	state Exp;
branches;
next	1.45;
commitid	SIHnGQ3XIdGCb86J;

1.45
date	2015.08.25.11.16.12;	author sthen;	state Exp;
branches;
next	1.44;
commitid	1hGS08C33CJ9tr3x;

1.44
date	2015.08.17.20.34.20;	author sthen;	state Exp;
branches;
next	1.43;
commitid	60BvOqUl7gD2yB7y;

1.43
date	2013.12.24.21.08.41;	author zhuk;	state Exp;
branches;
next	1.42;

1.42
date	2013.12.22.19.24.34;	author zhuk;	state Exp;
branches;
next	1.41;

1.41
date	2013.12.13.09.40.03;	author zhuk;	state Exp;
branches;
next	1.40;

1.40
date	2013.10.22.11.34.17;	author zhuk;	state Exp;
branches;
next	1.39;

1.39
date	2013.10.11.23.49.47;	author naddy;	state Exp;
branches;
next	1.38;

1.38
date	2013.10.05.07.34.33;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2013.08.12.13.49.08;	author zhuk;	state Exp;
branches;
next	1.36;

1.36
date	2013.08.12.06.53.57;	author zhuk;	state Exp;
branches;
next	1.35;

1.35
date	2013.07.08.21.57.53;	author zhuk;	state Exp;
branches;
next	1.34;

1.34
date	2013.06.27.11.31.51;	author zhuk;	state Exp;
branches;
next	1.33;

1.33
date	2013.06.24.15.53.38;	author zhuk;	state Exp;
branches;
next	1.32;

1.32
date	2013.03.21.08.45.18;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2013.03.11.11.10.53;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2013.01.19.11.27.01;	author zhuk;	state Exp;
branches;
next	1.29;

1.29
date	2011.11.02.09.57.21;	author jasper;	state Exp;
branches;
next	1.28;

1.28
date	2011.09.16.10.02.37;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2010.11.22.10.16.08;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.11.17.19.41.52;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2010.11.17.08.05.14;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2010.11.11.19.46.30;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2010.11.09.18.22.26;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.10.24.21.21.01;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2010.10.18.18.13.14;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.07.05.11.45.53;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2009.09.10.16.43.41;	author sthen;	state Exp;
branches;
next	1.18;

1.18
date	2009.08.10.06.31.45;	author kili;	state Exp;
branches;
next	1.17;

1.17
date	2009.06.21.17.33.40;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2009.06.17.13.52.34;	author sthen;	state Exp;
branches;
next	1.15;

1.15
date	2008.07.19.11.58.57;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2008.01.21.11.35.22;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2007.11.13.17.10.25;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2007.09.15.20.09.41;	author simon;	state Exp;
branches;
next	1.11;

1.11
date	2007.05.09.11.33.49;	author bernd;	state Exp;
branches;
next	1.10;

1.10
date	2007.01.28.20.14.45;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2006.12.18.17.26.58;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.11.22.19.02.03;	author bernd;	state Exp;
branches;
next	1.6;

1.6
date	2006.11.13.11.20.25;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2006.08.02.10.00.49;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2006.06.12.14.32.48;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2006.03.14.23.26.36;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.05.03.21.51.46;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2005.04.09.22.36.02;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.04.09.22.36.02;	author espie;	state Exp;
branches;
next	;


desc
@@


1.47
log
@Remove KDE3 applications that have well-working KDE4+ counterparts.
@
text
@# $OpenBSD: Makefile,v 1.46 2016/03/19 22:48:27 naddy Exp $

COMMENT-main =		kde image plugins
COMMENT-cal =		kde image calendar plugin
CATEGORIES =		graphics x11 x11/kde
DISTNAME =		kipi-plugins-0.1.6
PKGNAME-main =		${DISTNAME}
PKGNAME-cal =		kipi-kcal-plugin-0.1.6
PKGSPEC-main =		kipi-plugins-<1
REVISION-main =		12
REVISION-cal =		9

HOMEPAGE =		http://extragear.kde.org/apps/kipi/
MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=kipi/}
EXTRACT_SUFX =		.tar.bz2
SHARED_LIBS +=	kipiplugins          0.0      # .0.1

# Should we provide a gpod flavor ?

SUBST_VARS +=	PKGNAME-cal
MULTI_PACKAGES =-main -cal
LIB_DEPENDS =	x11/kde/libs3 \
		graphics/libkipi

LIB_DEPENDS-main =${LIB_DEPENDS} \
		graphics/libgphoto2>=2.5 \
		graphics/libkexiv2>=0.1.5 \
		graphics/libkdcraw

LIB_DEPENDS-cal =${LIB_DEPENDS} \
		x11/kde/pim3 \
		${BUILD_PKGPATH}

RUN_DEPENDS =	graphics/ImageMagick

MODULES =	devel/gettext \
		x11/kde

WANTLIB =  GL ICE SM X11 Xcursor Xdamage Xext Xfixes Xft Xi Xinerama
WANTLIB += Xmu Xrandr Xrender Xt Xxf86vm art_lgpl_2 drm expat
WANTLIB += fontconfig freetype idn jpeg lcms m mng png stdc++ util xcb
WANTLIB += z X11-xcb Xau Xdmcp fam glapi pthread pthread-stubs xcb-dri2 xcb-glx
WANTLIB += lib/qt3/qt-mt>=3.33 lzma
WANTLIB += ${KDE}/DCOP ${KDE}/kdecore>=6 ${KDE}/kdefx ${KDE}/kdeprint
WANTLIB += ${KDE}/kdesu ${KDE}/kdeui ${KDE}/kio ${KDE}/kipi ${KDE}/kparts
WANTLIB += ${KDE}/kwalletclient

WANTLIB-main =  ${WANTLIB} exif exiv2 exslt gcrypt gpg-error gphoto2
WANTLIB-main += gphoto2_port ltdl pcre pcreposix tiff xml2 xslt 
WANTLIB-main += ${KDE}/kdcraw ${KDE}/kexiv2 ${KDE}/khtml ${KDE}/kjs
WANTLIB-main += ${KDE}/kutils

WANTLIB-cal =  ${WANTLIB} ${KDE}/kabc ${KDE}/kcal kipiplugins
WANTLIB-cal += ${KDE}/kmime ${KDE}/kresources ${KDE}/ktnef ${KDE}/vcard

CONFIGURE_STYLE =	autoconf
AUTOCONF_VERSION =	2.61
MODKDE_VERSION =	3.5.7
AUTOCONF =		/bin/sh ${WRKDIST}/admin/cvs.sh configure
CONFIGURE_ARGS +=	${MODKDE_CONFIGURE_ARGS} \
			--disable-ipodexport
USE_GMAKE =		Yes
CONFIGURE_ENV +=	${MODKDE_CONFIGURE_ENV}
MAKE_ENV =		${CONFIGURE_ENV}

MAKE_FLAGS +=		${MODKDE_MAKE_FLAGS} LIB_TIFF='-ltiff -lz'
MAKE_FLAGS +=		LIBRESOLV=

# GPL
PERMIT_PACKAGE_CDROM =		Yes

.include <bsd.port.mk>
@


1.46
log
@drop SHARED_ONLY from KDE3 ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2015/08/25 11:16:12 sthen Exp $
@


1.45
log
@wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2015/08/17 20:34:20 sthen Exp $
a21 1
SHARED_ONLY =	Yes
@


1.44
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/12/24 21:08:41 zhuk Exp $
d10 1
a10 1
REVISION-main =		11
d44 1
a44 1
WANTLIB += lib/qt3/qt-mt>=3.33
d54 1
a54 1
WANTLIB-cal =  ${WANTLIB} ${KDE}/kabc ${KDE}/kcal kipiplugins lzma
@


1.43
log
@kde.port.mk takes care of LIBTOOL_FLAGS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/12/22 19:24:34 zhuk Exp $
d10 2
a11 2
REVISION-main =		10
REVISION-cal =		8
d43 1
a43 1
WANTLIB += z 
d54 1
a54 1
WANTLIB-cal =  ${WANTLIB} ${KDE}/kabc ${KDE}/kcal kipiplugins
@


1.42
log
@Next KDE deconflicting step: rename share/config/ to share/config.kde3/ and
share/config.kcfg/ to share/config.kcfg.kde3/. Tested on i386, including
run-time tests (not for all apps, though).

After this commit, there are only two conflicting files in kdelibs 3.x and
4.x packages left - to be solved soon.

spurring from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/12/13 09:40:03 zhuk Exp $
a56 1
LIBTOOL_FLAGS =		--tag=disable-static
@


1.41
log
@Add PKGSPEC for gwenview and kipi-plugins, to make sure future ports won't
pick up wrong things.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/10/22 11:34:17 zhuk Exp $
d10 1
a10 1
REVISION-main =		9
@


1.40
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2013/10/11 23:49:47 naddy Exp $
d9 1
d11 1
a11 1
REVISION-cal =		7
@


1.39
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/10/05 07:34:33 espie Exp $
d9 3
a11 2
REVISION-main =		8
REVISION-cal =		6
@


1.38
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/08/12 13:49:08 zhuk Exp $
a54 1
USE_GROFF =		Yes
@


1.37
log
@Bump -cal too, noticed by nigel@@. Tweak LIB_DEPENDS a bit while there
(zap extra x11/kde/libs3 item and use BUILD_PKGPATH).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/08/12 06:53:57 zhuk Exp $
d9 2
a10 2
REVISION-main =		7
REVISION-cal =		5
@


1.36
log
@Bump revisions after recent @@pkgpath change in dependencies (libkdcraw and
libkipi).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/07/08 21:57:53 zhuk Exp $
d9 2
a10 2
REVISION-main =		6
REVISION-cal =		4
a24 1
		x11/kde/libs3 \
d31 1
a31 1
		graphics/kipi-plugins,-main
@


1.35
log
@Update WANTLIB after enabling MODKDE_LIB_LINKS for KDE3 graphics libraries.

okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/06/27 11:31:51 zhuk Exp $
d9 1
a9 1
REVISION-main =		5
@


1.34
log
@Unbreak after previous commit. Some WANTLIB changes relied on uncommitted
stuff in x11/kde, sorry. (more to come)

Noticed by landry@@, sthen@@, naddy@@...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/06/24 15:53:38 zhuk Exp $
d9 2
a10 2
REVISION-main =		4
REVISION-cal =		3
d45 1
a45 1
WANTLIB += ${KDE}/kdesu ${KDE}/kdeui ${KDE}/kio kipi ${KDE}/kparts
d50 1
a50 1
WANTLIB-main += kdcraw kexiv2 ${KDE}/khtml ${KDE}/kjs
@


1.33
log
@Massive cleanup for KDE3. Main point is in changing WANTLIB from "foo" to
"lib/kde3/foo" where appropirate, but also many missing desktop goo items
added, some PFRAG.shared removed and so on.

input and okay landry@@ and ajacoutot@@, also okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/03/21 08:45:18 ajacoutot Exp $
d45 1
a45 1
WANTLIB += ${KDE}/kdesu ${KDE}/kdeui ${KDE}/kio ${KDE}/kipi ${KDE}/kparts
d50 1
a50 1
WANTLIB-main += ${KDE}/kdcraw ${KDE}/kexiv2 ${KDE}/khtml ${KDE}/kjs
d53 1
a53 1
WANTLIB-cal =  ${WANTLIB} ${KDE}/kabc ${KDE}/kcal ${KDE}/kipiplugins
@


1.32
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/03/11 11:10:53 espie Exp $
d9 2
a10 2
REVISION-main =		3
REVISION-cal =		2
d39 13
a51 12
WANTLIB =	ICE SM X11 Xext Xrender art_lgpl_2 \
		idn jpeg m png stdc++ \
		util xcb z kdecore>=6 DCOP kdefx kdeprint kdesu kdeui kio \
		kparts kwalletclient kipi lib/qt3/qt-mt>=3.33 \
		Xcursor Xdamage Xfixes Xft Xi Xinerama Xmu GL \
		mng freetype fontconfig drm Xt Xxf86vm \
		Xrandr expat lcms

WANTLIB-main =	${WANTLIB} ltdl \
		pcre pcreposix tiff exif \
		exslt xslt xml2 gpg-error gcrypt exiv2 \
		khtml kjs kutils gphoto2 gphoto2_port kexiv2 kdcraw
d53 2
a54 1
WANTLIB-cal =	${WANTLIB} kabc kresources vcard kcal kmime ktnef kipiplugins
@


1.31
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/01/19 11:27:01 zhuk Exp $
a53 1
USE_LIBTOOL =		Yes
@


1.30
log
@Fix build after recent gphoto2 update.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/11/02 09:57:21 jasper Exp $
a70 2
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
a71 1
PERMIT_PACKAGE_FTP =		Yes
@


1.29
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/09/16 10:02:37 espie Exp $
d9 1
a9 1
REVISION-main =		2
d26 1
a26 1
		graphics/libgphoto2 \
@


1.28
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/11/22 10:16:08 espie Exp $
d9 2
a10 2
REVISION-main =		1
REVISION-cal =		1
d39 2
a40 2
WANTLIB =	ICE SM X11 Xau Xdmcp Xext Xrender art_lgpl_2 \
		fam idn jpeg m png pthread-stubs rpcsvc stdc++ \
d42 4
a45 1
		kparts kwalletclient kipi lib/qt3/qt-mt>=3.33
d47 2
a48 2
WANTLIB-main =	${WANTLIB} GL ltdl Xrandr \
		pcre pcreposix tiff exif expat lcms \
@


1.27
log
@remaining WANTLIB go .>=   to >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/11/17 19:41:52 jasper Exp $
d9 2
a10 2
REVISION-main =		0
REVISION-cal =		0
@


1.26
log
@- use gettext module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/11/17 08:05:14 espie Exp $
d41 2
a42 2
		util xcb z kdecore.>=6 DCOP kdefx kdeprint kdesu kdeui kio \
		kparts kwalletclient kipi lib/qt3/qt-mt.>=3.33
@


1.25
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/11/11 19:46:30 espie Exp $
d9 2
d36 2
a37 1
MODULES =	x11/kde
d40 1
a40 1
		fam iconv idn intl jpeg m png pthread-stubs rpcsvc stdc++ \
@


1.24
log
@fix some WANTLIB we missed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/11/09 18:22:26 espie Exp $
d19 2
a20 2
LIB_DEPENDS =	::x11/kde/libs3 \
		::graphics/libkipi
d23 4
a26 4
		::x11/kde/libs3 \
		::graphics/libgphoto2 \
		:libkexiv2->=0.1.5:graphics/libkexiv2 \
		::graphics/libkdcraw
d29 2
a30 2
		::x11/kde/pim3 \
		::graphics/kipi-plugins,-main
d32 1
a32 1
RUN_DEPENDS =	::graphics/ImageMagick
d49 1
a49 1
USE_GROFF =	Yes
@


1.23
log
@WANTLIB conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/10/24 21:21:01 ajacoutot Exp $
d23 4
a26 4
		khtml,kjs,kutils::x11/kde/libs3 \
		gphoto2,gphoto2_port::graphics/libgphoto2 \
		kexiv2:libkexiv2->=0.1.5:graphics/libkexiv2 \
		kdcraw::graphics/libkdcraw
d43 2
a44 1
		exslt xslt xml2 gpg-error gcrypt exiv2
@


1.22
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/10/18 18:13:14 espie Exp $
d19 2
a20 3
LIB_DEPENDS =	kdecore.>=6,DCOP,kdefx,kdeprint,kdesu,kdeui,kio,kparts,kwalletclient::x11/kde/libs3 \
		kipi::graphics/libkipi \
		lib/qt3/qt-mt.>=3.33::x11/qt3 \
d29 2
a30 2
		kcal,kmime,ktnef::x11/kde/pim3 \
		kipiplugins::graphics/kipi-plugins,-main
d38 3
a40 1
		util xcb z
d45 1
a45 1
WANTLIB-cal =	${WANTLIB} kabc kresources vcard
@


1.21
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/07/05 11:45:53 espie Exp $
a45 1
USE_X11 =		Yes
@


1.20
log
@fix deps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/08/10 06:31:45 kili Exp $
d48 1
@


1.19
log
@update and sync WANTLIB for exiv2 update. looks ok to landry@@
@
text
@d30 1
a30 1
		kcal,kmime,ktnef,kabc::x11/kde/pim3 \
d44 1
a44 1
WANTLIB-cal =	${WANTLIB} kresources vcard
@


1.18
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/06/21 17:33:40 naddy Exp $
d6 3
a8 3
DISTNAME =		kipi-plugins-0.1.5
PKGNAME-main =		${DISTNAME}p1
PKGNAME-cal =		kipi-kcal-plugin-0.1.5p1
d41 1
a41 1
		pcre pcreposix tiff exif \
@


1.17
log
@don't reference PKGNAME-cal in DESCR-main, which nobody remembers when
bumping PKGNAMEs, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/06/17 13:52:34 sthen Exp $
d7 2
a8 2
PKGNAME-main =		${DISTNAME}p0
PKGNAME-cal =		kipi-kcal-plugin-0.1.5p0
d38 2
a39 1
		fam iconv idn intl jpeg m png rpcsvc stdc++ util z
@


1.16
log
@sync LIB_DEPENDS-cal; bump PKGNAME-cal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/07/19 11:58:57 espie Exp $
d7 1
a7 1
PKGNAME-main =		${DISTNAME}
@


1.15
log
@update digikam, along with libkipi dependencies.
revisit digikam once sqlite3 is updated
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/01/21 11:35:22 espie Exp $
d8 1
a8 1
PKGNAME-cal =		kipi-kcal-plugin-0.1.5
d30 1
a30 1
		kcal,ktnef,kabc::x11/kde/pim3 \
@


1.14
log
@Fix compilation by updating to latest stable (noticed by sturm@@)
Also split the cal plugin into a separate package, as it requires
kdepim.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/11/13 17:10:25 steven Exp $
d3 9
a11 9
COMMENT-main=		kde image plugins
COMMENT-cal=		kde image calendar plugin
CATEGORIES=		graphics x11 x11/kde
DISTNAME=		kipi-plugins-0.1.4
PKGNAME-main=		${DISTNAME}
PKGNAME-cal=		kipi-kcal-plugin-0.1.4
HOMEPAGE=		http://extragear.kde.org/apps/kipi/
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=kipi/}
EXTRACT_SUFX=		.tar.bz2
d14 6
a19 4
SUBST_VARS+=	PKGNAME-cal
MULTI_PACKAGES=	-main -cal
SHARED_ONLY=Yes
LIB_DEPENDS=	kdecore.>=6,DCOP,kdefx,kdeprint,kdesu,kdeui,kio,kparts,kwalletclient::x11/kde/libs3 \
d23 1
a23 1
LIB_DEPENDS-main=${LIB_DEPENDS} \
a25 1
		Imlib2::graphics/imlib2 \
d29 1
a29 1
LIB_DEPENDS-cal=${LIB_DEPENDS} \
d33 1
a33 1
RUN_DEPENDS=	::graphics/ImageMagick
d35 1
a35 1
MODULES=	x11/kde
d37 1
a37 1
WANTLIB=	ICE SM X11 Xau Xdmcp Xext Xrender art_lgpl_2 \
d39 1
a39 1
WANTLIB-main=	${WANTLIB} GL freetype ltdl \
d43 14
a56 13
WANTLIB-cal=	${WANTLIB} kresources vcard
USE_X11=		Yes
USE_LIBTOOL=		Yes
LIBTOOL_FLAGS=		--tag=disable-static
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.61
MODKDE_VERSION=		3.5.7
AUTOCONF=		/bin/sh ${WRKDIST}/admin/cvs.sh configure
CONFIGURE_ARGS+=	${MODKDE_CONFIGURE_ARGS}
USE_GMAKE?=		Yes
CONFIGURE_ENV+=		${MODKDE_CONFIGURE_ENV} \
			build_libgpod=no
MAKE_ENV=		${CONFIGURE_ENV}
d58 2
a59 2
MAKE_FLAGS+=		${MODKDE_MAKE_FLAGS} LIB_TIFF='-ltiff -lz'
MAKE_FLAGS+=		LIBRESOLV=
d62 4
a65 4
PERMIT_DISTFILES_CDROM?=	Yes
PERMIT_DISTFILES_FTP?=		Yes
PERMIT_PACKAGE_CDROM?=		Yes
PERMIT_PACKAGE_FTP?=		Yes
@


1.13
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/09/15 20:09:41 simon Exp $
d3 2
a4 1
COMMENT=		kde image plugins
d6 3
a8 2
DISTNAME=		kipi-plugins-0.1.3
PKGNAME=		${DISTNAME}p1
d14 2
d17 1
a17 2
LIB_DEPENDS+=	lib/qt3/qt-mt.>=3.33::x11/qt3 \
		kdecore.>=6,DCOP,kwalletclient,khtml,kjs,kutils,kparts,kdeui,kdesu,kio,kdefx,kdeprint::x11/kde/libs3 \
d19 4
a22 1
		exiv2::graphics/exiv2 \
d24 7
a30 1
		Imlib2::graphics/imlib2
d36 5
a40 4
WANTLIB=	GL X11 Xau Xdmcp Xext freetype util m c ICE Xrender SM \
		pthread z fam ltdl rpcsvc stdc++ \
		jpeg png pcre pcreposix iconv intl art_lgpl_2 tiff exif \
		idn exslt xslt xml2 gpg-error gcrypt
d42 1
d47 2
a48 2
AUTOCONF_VERSION=	2.59
MODKDE_VERSION=		3.5.3
@


1.12
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/05/09 11:33:49 bernd Exp $
d6 1
a6 2
EXTRACT_SUFX=		.tar.bz2
PKGNAME=		${DISTNAME}p0
d9 1
d24 2
a25 1
WANTLIB=	X11 Xext freetype util m c ICE Xrender SM pthread z GL \
@


1.11
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/01/28 20:14:45 espie Exp $
d3 1
a3 1
COMMENT=		"kde image plugins"
@


1.10
log
@update libkipi and kipi-plugins to newer versions.
libkipi is a trivial update.

kipi-plugins features several improvements: switches to exiv2 from libexif,
moves the ImageMagick dependency to a runtime depend (due to a weird
ImageMagick bug).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2006/12/18 17:26:58 espie Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}
d13 1
a13 1
LIB_DEPENDS+=	lib/qt3/qt-mt.>=3.33::x11/qt3,mt \
@


1.9
log
@cosmetic changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/12/16 12:22:33 espie Exp $
d5 1
a5 1
DISTNAME=		kipi-plugins-0.1.2
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
d10 1
d16 1
a16 1
		kexif::graphics/libkexif \
d18 3
a20 2
		Imlib2::graphics/imlib2 \
		Magick++,Magick,Wand::graphics/ImageMagick
d24 1
a24 1
WANTLIB=	X11 Xext freetype util m c ICE Xrender SM pthread z GL stdc++ \
d26 1
a26 1
		idn bz2 exslt lcms jbig xslt xml2 Xt gpg-error gcrypt jasper
d33 1
a33 1
MODKDE_VERSION=		3.5
d37 2
a38 1
CONFIGURE_ENV+=		${MODKDE_CONFIGURE_ENV}
@


1.8
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/11/22 19:02:03 bernd Exp $
d7 1
a7 1
PKGNAME=		kipi-plugins-0.1.2p0
@


1.7
log
@Fix WANTLIB after imlib2 update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/11/13 11:20:25 steven Exp $
a21 1
BUILD_DEPENDS=	::devel/pkgconfig
@


1.6
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/08/02 10:00:49 espie Exp $
d7 1
a7 1
PKGNAME=		kipi-plugins-0.1.2
d24 1
a24 1
		jpeg png pcre pcreposix iconv intl art_lgpl_2 tiff exif ltdl \
@


1.5
log
@update to more recent version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/06/12 14:32:48 espie Exp $
d27 1
@


1.4
log
@more libidn wantlib updates.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/03/14 23:26:36 espie Exp $
d5 1
a5 1
DISTNAME=		kipi-plugins-0.1.0-rc1
d7 1
a7 1
PKGNAME=		kipi-plugins-0.1.0rc1p0
d12 2
a13 2
LIB_DEPENDS+=	lib/qt3/qt-mt.3.33::x11/qt3,mt \
		kdecore.6,DCOP,kwalletclient,khtml,kjs,kutils,kparts,kdeui,kdesu,kio,kdefx,kdeprint::x11/kde/libs3 \
d17 3
a19 1
		Imlib2::graphics/imlib2
d24 2
a25 1
		jpeg png pcre pcreposix iconv intl art_lgpl_2 tiff exif ltdl idn
@


1.3
log
@update to rc1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2005/05/03 21:51:46 espie Exp $
d7 1
a7 1
PKGNAME=		kipi-plugins-0.1.0rc1
d22 1
a22 1
		jpeg png pcre pcreposix iconv intl art_lgpl_2 tiff exif ltdl
@


1.2
log
@yet another autoconf version confusion...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/04/09 22:36:02 espie Exp $
d5 1
a5 1
DISTNAME=		kipi-plugins-0.1.0-beta2
d7 1
d9 1
a9 1
MASTER_SITES=		${MASTER_SITE_KDE:=unstable/apps/KDE3.x/graphics/}
d24 2
a25 1
MODKDE_LIBTOOL=		Yes
d28 1
a28 1
MODKDE_VERSION=		3.4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d26 1
@


1.1.1.1
log
@plugins for kipi
@
text
@@
