head	1.2;
access;
symbols
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2009.09.01.14.22.27;	author okan;	state dead;
branches;
next	1.1;

1.1
date	2009.04.22.13.19.12;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to 1.3.6

"looks fine" landry@@
@
text
@$OpenBSD: patch-coders_bmp_c,v 1.1 2009/04/22 13:19:12 jasper Exp $

Security fix for SA33697, which could cause a DoS.
Patch from upstream bugreport.

--- coders/bmp.c.orig	Wed Apr 22 15:08:29 2009
+++ coders/bmp.c	Wed Apr 22 15:09:20 2009
@@@@ -1226,6 +1226,8 @@@@ static Image *ReadBMPImage(const ImageInfo *image_info
             DestroyImageList(image);
             return((Image *) NULL);
           }
+        DestroyBlobInfo(flipped_image->blob);
+        flipped_image->blob=ReferenceBlob(image->blob);
         DestroyImage(image);
         image=flipped_image;
       }
@


1.1
log
@- add a SECURITY FIX for graphicsmagick for SA33697, which could lead to
a DoS.
@
text
@d1 1
a1 1
$OpenBSD$
@

