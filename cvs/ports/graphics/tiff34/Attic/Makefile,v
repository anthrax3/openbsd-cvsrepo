head	1.12;
access;
symbols
	OPENBSD_2_6:1.11.0.2
	OPENBSD_2_6_BASE:1.11
	OPENBSD_2_5:1.9.0.2
	OPENBSD_2_5_BASE:1.9
	OPENBSD_2_4:1.7.0.2
	OPENBSD_2_4_BASE:1.7
	OPENBSD_2_3:1.3.0.2
	OPENBSD_2_3_BASE:1.3
	tiff34_3_4:1.1.1.1
	tiff34:1.1.1;
locks; strict;
comment	@# @;


1.12
date	99.12.04.02.07.30;	author brad;	state dead;
branches;
next	1.11;

1.11
date	99.06.09.19.43.22;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.04.18.23.19.52;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.04.04.06.46.22;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	99.02.21.04.26.13;	author marc;	state Exp;
branches;
next	1.7;

1.7
date	98.08.23.04.30.30;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	98.06.14.08.10.31;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	98.06.10.02.56.37;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	98.05.06.02.49.32;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.02.11.01.01.44;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	98.02.10.13.59.44;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	97.12.20.02.56.45;	author don;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.20.02.56.45;	author don;	state Exp;
branches;
next	;


desc
@@


1.12
log
@remove old libtiff
@
text
@# $OpenBSD: Makefile,v 1.11 1999/06/09 19:43:22 brad Exp $
# NOTE:
# At one time this port was installed as libtiff34.a to get rid of a
# rumored incompatibility between libtiff3.3 and 3.4.  This is no longer
# the case.  However, since there may be code someplace/somewhere that
# depends upon libtiff34 the following symbolic links are created:
#	libtiff34.a -> libtiff.a
#	libtiff34.so.1.0 -> libtiff.so.3.4
#	tiff34.h -> tiff.h
#	tiffio34.h -> tiffio.h

DISTNAME=	tiff-v3.4beta037
PKGNAME=	tiff-3.4b37
CATEGORIES=	graphics
MASTER_SITES=	ftp://ftp.sgi.com/graphics/tiff/ \
		ftp://ftp.wizards.dupont.com/pub/ImageMagick/delegates/ \
		ftp://ftp.fifi.org/pub/ImageMagick/delegates/

NEED_VERSION=	1.64

MAINTAINER=	ports@@openbsd.org

LIB_DEPENDS=    jpeg.62:${PORTSDIR}/graphics/jpeg

HAS_CONFIGURE=	yes
CONFIGURE_ARGS=	--with-ZIP --with-JPEG --with-DIR_BIN=${PREFIX}/bin \
		--with-DIR_LIB=${PREFIX}/lib --with-DIR_INC=${PREFIX}/include \
		--with-CC="${CC}" --with-GCOPTS="${CFLAGS}" \
		--with-DIRS_LIBINC=${PREFIX}/include \
		--with-DIR_GZLIB=/usr/lib \
		--with-DIR_JPEGLIB=${PREFIX}/lib \
		--with-LIBGL=no --with-LIBIMAGE=no \
		--with-INSTALL="${SH} ${WRKSRC}/port/install.sh" \
		--noninteractive

DOCDIR=	${PREFIX}/share/doc/tiff34

# Create symbolic links for backwards compatibility
post-install:
	${LN} -sf libtiff.a ${PREFIX}/lib/libtiff34.a
	@@if [ ! -f libtiff.so.3.4 ]; then \
	 ${LN} -sf libtiff.so.3.4 ${PREFIX}/lib/libtiff34.so.1.0; \
	fi
	${LN} -sf tiff.h ${PREFIX}/include/tiff34.h
	${LN} -sf tiffio.h ${PREFIX}/include/tiffio34.h
	@@${MKDIR} ${DOCDIR}/images
	${INSTALL_DATA} ${WRKSRC}/html/*.html ${DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/html/images/* ${DOCDIR}/images
	${LDCONFIG} -m ${PREFIX}/lib

.include <bsd.port.mk>
@


1.11
log
@upgrade to libtiff v3.4b37
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/04/18 23:19:52 brad Exp $
@


1.10
log
@- style fixes
- Fix a Y2K problem in the contrib section of tiff; taken from FreeBSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/04/04 06:46:22 brad Exp $
a10 1
#
d12 2
a13 2
DISTNAME=	tiff-v3.4
PKGNAME=	tiff-3.4
d15 3
a17 3
MASTER_SITES=   ftp://ftp.sgi.com/graphics/tiff/ \
		ftp://ftp.isri.unlv.edu/pub/mirror/tiff/
EXTRACT_SUFX=	-tar.gz
d21 1
a21 1
MAINTAINER=	don@@OpenBSD.ORG
d23 1
a23 1
LIB_DEPENDS=    jpeg:${PORTSDIR}/graphics/jpeg
d33 1
a33 1
		--with-INSTALL="/bin/sh ${WRKSRC}/port/install.sh" \
a38 1
#
d41 3
a43 1
	[ ! -f libtiff.so.3.4 ] || ${LN} -sf libtiff.so.3.4 ${PREFIX}/lib/libtiff34.so.1.0
a45 1
.if !defined(NOPORTDOCS)
a48 1
.endif
@


1.9
log
@new style dependency check and fixup PLIST for package building
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.8 1999/02/21 04:26:13 marc Exp $

d12 1
d16 3
d24 1
a24 5
MASTER_SITES=   ftp://ftp.sgi.com/graphics/tiff/ \
		ftp://ftp.isri.unlv.edu/pub/mirror/tiff/
EXTRACT_SUFX=	-tar.gz

LIB_DEPENDS=    jpeg.62:${PORTSDIR}/graphics/jpeg
a36 2
WRKSRC=		${WRKDIR}/tiff-v3.4

d39 1
a39 1
# Create symbolic the symbolic links for backwards compatibility
@


1.8
log
@needs version 1.64 (or later) of bsd.port.mk
to build/install correctly; PLIST.noshared
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.7 1998/08/23 04:30:30 marc Exp $
#
d25 1
a25 1
LIB_DEPENDS=    jpeg\\.62\\.:${PORTSDIR}/graphics/jpeg
@


1.7
log
@don't install compatibility link for shared lib unless lib exists
@
text
@d1 1
a1 6
# OpenBSD makefile for:	tiff34
# Version required:	3.4
# Date created:	 	December 18, 1997	
# Whom:			Don Schmidt
#
# $OpenBSD: Makefile,v 1.6 1998/06/14 08:10:31 marc Exp $
d17 2
@


1.6
log
@when previously updating tiff34 to install as libtiff the shared
version was left at 1.0.  Oops.  The old tiff (3.3) installed as
libtiff.so.3.3. Install tiff34 as libtiff.so.3.4 but keep the libtiff34
link at version 1.0.  confusing but it seems to work correctly.
Update all ports that depend upon tiff so the dependency is on
tiff.3.4.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 1998/06/10 02:56:37 marc Exp $
d50 1
a50 1
	${LN} -sf libtiff.so.3.4 ${PREFIX}/lib/libtiff34.so.1.0
@


1.5
log
@1) remove tiff from graphics makefile as there is nothing to make
2) change tiff/Makefile to spit out message saying to use tiff34
   remove all tiff files, patches, and pkg data; they're no longer needed
3) install tiff34 as libtiff, tiff.h, and tiffio.h; add symbolic links
   so the old names of libtiff34, tiff34.h, and tiffio34.h still work.
4) Change ImageMagick to use -ltiff, not -ltiff34; remove the patch
   files and directory as they are no longer needed.
5) Change gimp to use -ltiff, not -ltiff34; remove the patch files and
   directory as they are no longer needed.

NOTE: with these changes ImageMagick and gimp require the updated tiff34
      port.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 1998/05/06 02:49:32 marc Exp $
d15 1
a15 1
#	libtiff34.so.1.0 -> libtiff.so.1.0
d50 1
a50 1
	${LN} -sf libtiff.so.1.0 ${PREFIX}/lib/libtiff34.so.1.0
@


1.4
log
@update LIB_DEPENDS for new jpeg library
@
text
@d2 1
a2 1
# Version required:	3.4beta35
d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1998/02/11 01:01:44 niklas Exp $
d10 9
a18 5
# To get rid of rumored incompatibility between libtiff3.3 and 3.4
# (can somebody confirm it?) installation will be done as libtiff34.a,
# not libtiff.a.  The port is made so that there's no overwrite
# for headers, libraries, and documents.  (there may be overwrite of manuals)

d22 3
a28 2
MAINTAINER=	don@@OpenBSD.ORG

a30 1
WRKSRC=		${WRKDIR}/tiff-v3.4
d41 2
a42 29
MAN1=	fax2ps.1 fax2tiff.1 gif2tiff.1 pal2rgb.1 ppm2tiff.1 ras2tiff.1 \
	rgb2ycbcr.1 sgi2tiff.1 thumbnail.1 tiff2bw.1 tiff2ps.1 tiffcmp.1 \
	tiffcp.1 tiffdither.1 tiffdump.1 tiffgt.1 tiffinfo.1 tiffmedian.1 \
	tiffsplit.1 tiffsv.1
MAN3=	TIFFCheckTile.3t TIFFClose.3t TIFFComputeStrip.3t TIFFComputeTile.3t \
	TIFFCurrentDirectory.3t TIFFCurrentRow.3t TIFFCurrentStrip.3t \
	TIFFCurrentTile.3t TIFFDefaultStripSize.3t TIFFDefaultTileSize.3t \
	TIFFError.3t TIFFFdOpen.3t TIFFFileName.3t TIFFFileno.3t \
	TIFFFindCODEC.3t TIFFFlush.3t TIFFFlushData.3t TIFFGetField.3t \
	TIFFGetMode.3t TIFFIsByteSwapped.3t TIFFIsMSB2LSB.3t TIFFIsTiled.3t \
	TIFFIsUpSampled.3t TIFFLastDirectory.3t TIFFNumberOfStrips.3t \
	TIFFNumberOfTiles.3t TIFFOpen.3t TIFFPrintDirectory.3t \
	TIFFRGBAImage.3t TIFFRGBAImageBegin.3t TIFFRGBAImageEnd.3t \
	TIFFRGBAImageGet.3t TIFFRGBAImageOK.3t TIFFReadBufferSetup.3t \
	TIFFReadDirectory.3t TIFFReadEncodedStrip.3t TIFFReadEncodedTile.3t \
	TIFFReadRGBAImage.3t TIFFReadRawStrip.3t TIFFReadRawTile.3t \
	TIFFReadScanline.3t TIFFReadTile.3t TIFFRegisterCODEC.3t \
	TIFFReverseBits.3t TIFFScanlineSize.3t TIFFSetDirectory.3t \
	TIFFSetErrorHandler.3t TIFFSetField.3t TIFFSetSubDirectory.3t \
	TIFFSetWarningHandler.3t TIFFStripSize.3t TIFFSwabArrayOfLong.3t \
	TIFFSwabArrayOfShort.3t TIFFSwabLong.3t TIFFSwabShort.3t \
	TIFFTileRowSize.3t TIFFTileSize.3t TIFFUnRegisterCODEC.3t \
	TIFFVGetField.3t TIFFVSetField.3t TIFFVStripSize.3t TIFFVTileSize.3t \
	TIFFWarning.3t TIFFWriteBufferSetup.3t TIFFWriteDirectory.3t \
	TIFFWriteEncodedStrip.3t TIFFWriteEncodedTile.3t TIFFWriteRawStrip.3t \
	TIFFWriteRawTile.3t TIFFWriteScanline.3t TIFFbuffer.3t TIFFcodec.3t \
	TIFFfree.3t TIFFmalloc.3t TIFFmemcmp.3t TIFFmemcpy.3t TIFFmemory.3t \
	TIFFmemset.3t TIFFquery.3t TIFFrealloc.3t TIFFsize.3t TIFFstrip.3t \
	TIFFswab.3t TIFFtile.3t libtiff.3t
d46 2
d49 4
a57 1
	perl -pi -e 's/\"tiff.h\"/\"tiff34\.h\"/g;' ${PREFIX}/include/tiffio34.h
@


1.3
log
@Make work on alpha
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/02/10 13:59:44 niklas Exp $
d24 1
a24 1
LIB_DEPENDS=    jpeg\\.7\\.:${PORTSDIR}/graphics/jpeg
@


1.2
log
@Mark broken for alphas (link errors)
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1997/12/20 02:56:45 don Exp $
a22 3
.if ${MACHINE_ARCH} == "alpha"
BROKEN=		yes
.endif
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d23 3
@


1.1.1.1
log
@Import from FreeBSD tree.
@
text
@@
