head	1.29;
access;
symbols
	OPENBSD_6_1:1.27.0.2
	OPENBSD_6_1_BASE:1.27
	OPENBSD_6_0:1.24.0.2
	OPENBSD_6_0_BASE:1.24
	OPENBSD_5_9:1.21.0.2
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.20.0.4
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.19.0.2
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.18.0.2
	OPENBSD_5_6_BASE:1.18
	OPENBSD_5_5:1.17.0.4
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.15.0.2
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.13.0.2
	OPENBSD_5_2_BASE:1.13
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.2
	OPENBSD_5_0:1.10.0.2
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.7.0.4
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.6.0.2
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.5.0.4
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	ajacoutot_20080410:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.29
date	2017.06.01.11.43.44;	author ajacoutot;	state Exp;
branches;
next	1.28;
commitid	8Qww0FGUPRUHh5Vd;

1.28
date	2017.05.17.09.58.38;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	ywgePV4e3eNXuGa4;

1.27
date	2017.03.13.08.42.14;	author ajacoutot;	state Exp;
branches;
next	1.26;
commitid	6FrAaFYghRIBtp2u;

1.26
date	2016.11.06.10.16.10;	author ajacoutot;	state Exp;
branches;
next	1.25;
commitid	a09YTJak8urlQUAp;

1.25
date	2016.08.27.15.49.23;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	aZjiI68VHGMRJ2D8;

1.24
date	2016.04.25.17.54.01;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	YF3nGww4THrWjQGj;

1.23
date	2016.03.16.21.19.38;	author naddy;	state Exp;
branches;
next	1.22;
commitid	eS3Ayl3CL8hkKETd;

1.22
date	2016.03.11.19.59.14;	author naddy;	state Exp;
branches;
next	1.21;
commitid	pguKLBEFv33DrgKU;

1.21
date	2015.11.20.14.26.16;	author ajacoutot;	state Exp;
branches;
next	1.20;
commitid	uHBhjPMs6AYJGt5z;

1.20
date	2015.04.03.16.27.50;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	NN7tslmJIbTA1Yg5;

1.19
date	2014.08.20.07.28.03;	author ajacoutot;	state Exp;
branches;
next	1.18;
commitid	jC0iuOBGOyvDoAk3;

1.18
date	2014.04.01.14.52.09;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.21.08.45.17;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.11.11.10.51;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2012.11.25.20.44.40;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2012.11.25.20.38.19;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2012.06.06.07.55.14;	author giovanni;	state Exp;
branches;
next	1.12;

1.12
date	2011.12.10.09.12.19;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2011.11.17.11.42.32;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.06.02.17.09.31;	author kili;	state Exp;
branches;
next	1.9;

1.9
date	2011.04.07.11.17.08;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2011.03.02.06.42.56;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.04.24.13.07.28;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2009.10.14.14.19.18;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2008.10.03.10.07.41;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2008.04.11.21.58.10;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.04.11.21.33.29;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2008.04.11.17.54.39;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.04.10.14.11.43;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.04.10.14.11.43;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.29
log
@Update to babl-0.1.28.
@
text
@# $OpenBSD: Makefile,v 1.28 2017/05/17 09:58:38 ajacoutot Exp $

COMMENT=		dynamic pixel format conversion library

API_VERSION=		0.1
SUBST_VARS=		API_VERSION
V=			${API_VERSION}.28
DISTNAME=		babl-${V}
EXTRACT_SUFX=		.tar.bz2

CATEGORIES=		graphics devel

SHARED_LIBS +=  babl-0.1             1.3      # 127.1

HOMEPAGE=		http://gegl.org/babl/

# GPLv3/LGPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += m pthread

MASTER_SITES=		http://download.gimp.org/pub/babl/${V:R}/

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu
CONFIGURE_ENV=		LDFLAGS="-pthread" \
			ac_cv_path_W3M=no \
			ac_cv_path_RSVG=no

# be safe until proven stable
CONFIGURE_ARGS +=	--enable-mmx \
			--disable-sse \
			--disable-sse2 \
			--disable-altivec

post-install:
	rm ${PREFIX}/lib/babl-${API_VERSION}/*.{a,la}

.include <bsd.port.mk>
@


1.28
log
@Update to babl-0.1.26.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2017/03/13 08:42:14 ajacoutot Exp $
d7 1
a7 1
V=			${API_VERSION}.26
d13 1
a13 1
SHARED_LIBS +=  babl-0.1             1.3      # 125.1
@


1.27
log
@Update to babl-0.1.24.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2016/11/06 10:16:10 ajacoutot Exp $
d7 1
a7 1
V=			${API_VERSION}.24
d13 1
a13 1
SHARED_LIBS +=  babl-0.1             1.3      # 123.1
@


1.26
log
@Update to babl-0.1.20.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2016/08/27 15:49:23 ajacoutot Exp $
d7 1
a7 1
V=			${API_VERSION}.20
d13 1
a13 1
SHARED_LIBS +=  babl-0.1             1.2      # 119.1
@


1.25
log
@Update to babl-0.1.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2016/04/25 17:54:01 ajacoutot Exp $
d7 1
a7 1
V=			${API_VERSION}.18
d13 1
a13 1
SHARED_LIBS +=  babl-0.1             1.2      # 117.1
@


1.24
log
@Update to babl-0.1.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2016/03/16 21:19:38 naddy Exp $
d7 1
a7 1
V=			${API_VERSION}.16
d13 1
a13 1
SHARED_LIBS +=  babl-0.1             1.2      # 115.1
@


1.23
log
@remove SHARED_ONLY from ports that use only the gnu module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2016/03/11 19:59:14 naddy Exp $
d7 1
a7 1
V=			${API_VERSION}.14
d13 1
a13 1
SHARED_LIBS +=  babl-0.1             1.1      # 113.1
@


1.22
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.21 2015/11/20 14:26:16 ajacoutot Exp $

SHARED_ONLY=		Yes
@


1.21
log
@Update to babl-0.1.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/04/03 16:27:50 ajacoutot Exp $
a31 1
CONFIGURE_ARGS=		${CONFIGURE_SHARED}
@


1.20
log
@Update to babl-0.1.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/08/20 07:28:03 ajacoutot Exp $
d9 1
a9 1
V=			${API_VERSION}.12
d15 1
a15 1
SHARED_LIBS +=  babl-0.1             1.1      # 111.1
@


1.19
log
@Fix MASTER_SITES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/04/01 14:52:09 ajacoutot Exp $
d3 1
a3 1
SHARED_ONLY=	Yes
d5 1
a5 1
COMMENT=	dynamic pixel format conversion library
d7 5
a11 5
API_VERSION=	0.1
V=		${API_VERSION}.10
DISTNAME=	babl-${V}
CATEGORIES=	graphics devel
REVISION=	0
d13 1
a13 1
SHARED_LIBS +=  babl-${API_VERSION}		1.0      # 105.1
d15 1
a15 1
EXTRACT_SUFX=	.tar.bz2
d17 1
a17 1
HOMEPAGE=	http://gegl.org/babl/
d22 1
a22 1
MASTER_SITES=	http://download.gimp.org/pub/babl/${V:R}/
d24 1
a24 1
WANTLIB=	m
d26 1
a26 1
USE_GMAKE=	Yes
d28 5
a32 12
SUBST_VARS=	API_VERSION

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	ac_cv_path_W3M=no \
		ac_cv_path_RSVG=no
CONFIGURE_ARGS=	${CONFIGURE_SHARED}

# XXX https://bugzilla.gnome.org/show_bug.cgi?id=673580
#BUILD_DEPENDS += lang/vala \
#		devel/gobject-introspection
CONFIGURE_ARGS += --without-vala \
		--disable-introspection
d35 4
a38 3
CONFIGURE_ARGS+= --enable-mmx \
		--disable-sse \
		--disable-altivec
@


1.18
log
@Some PLISTs have brazillions of @@comment entries for .la files; sanitize
some of the ports a bit and rm at post-install time, it is way simpler to
maintain.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/21 08:45:17 ajacoutot Exp $
d22 1
a22 3
MASTER_SITES=	ftp://ftp.gimp.org/pub/babl/${V:R}/ \
		ftp://ftp.sunet.se/pub/gnu/babl/${V:R}/ \
		ftp://ftp.cs.umn.edu/pub/gimp/pub/babl/${V:R}/
@


1.17
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/11 11:10:51 espie Exp $
d11 1
a27 2
LIBTOOL_FLAGS=	--tag=disable-static

d35 1
a35 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-static
d47 3
@


1.16
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/11/25 20:44:40 jasper Exp $
a28 1
USE_LIBTOOL=	Yes
@


1.15
log
@revert previous, i thought this used gnome.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/06/06 07:55:14 giovanni Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.14
log
@sync comment with reality
@
text
@d44 2
a45 1
#MODGNOME_TOOLS=	vala goi
@


1.13
log
@
Update to 0.1.10, initial diff from ajacoutot@@
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/12/10 09:12:19 ajacoutot Exp $
d44 1
a44 2
#BUILD_DEPENDS += lang/vala \
#		devel/gobject-introspection
@


1.12
log
@Bugfix update to babl-0.1.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/11/17 11:42:32 jasper Exp $
d7 2
a8 1
V=		0.1.6
d12 1
a12 1
SHARED_LIBS +=  babl-0.1             1.0      # 105.1
a31 3
BUILD_DEPENDS=	devel/gobject-introspection \
		lang/vala

d35 2
a40 1
		--enable-introspection \
d42 6
@


1.11
log
@- move away from gnu libtool now that gobject-introspection has been fixed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/06/02 17:09:31 kili Exp $
d7 1
a7 1
V=		0.1.4
a8 1
REVISION=	0
d11 1
a11 1
SHARED_LIBS=	babl-0.1	1.0 # .103.1
d31 2
a32 1
BUILD_DEPENDS=	devel/gobject-introspection
@


1.10
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/04/07 11:17:08 jasper Exp $
a29 3
# XXX: the libtool wrapper script is passed as argument to g-ir-scanner,
# instead of the actual library
USE_LIBTOOL=	gnu
d34 1
@


1.9
log
@Add introspection support (needed for on-going GNOME 3 work).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/03/02 06:42:56 ajacoutot Exp $
d44 1
a44 2
		--disable-static \
		--disable-silent-rules
@


1.8
log
@Update to babl-0.1.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/04/24 13:07:28 ajacoutot Exp $
d9 1
d30 3
a32 1
USE_LIBTOOL=	Yes
d35 2
d43 1
a43 1
		--disable-introspection \
@


1.7
log
@Update to babl-0.1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/10/14 14:19:18 ajacoutot Exp $
d7 1
a7 1
V=		0.1.2
d11 1
a11 1
SHARED_LIBS=	babl-0.1	0.0 # .101.1
d23 3
a25 1
MASTER_SITES=	ftp://ftp.gtk.org/pub/babl/${V:R}/
d38 1
@


1.6
log
@Update to babl-0.1.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/10/03 10:07:41 ajacoutot Exp $
d7 1
a7 1
V=		0.1.0
d11 1
a11 1
SHARED_LIBS=	babl-0.0	2.0 # .100.0
d36 2
a37 1
		--disable-static
@


1.5
log
@- update babl to version 0.0.22

from Giovanni Bechis
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/04/11 21:58:10 ajacoutot Exp $
d7 1
a7 1
V=		0.0.22
d11 1
a11 1
SHARED_LIBS=	babl-0.0	1.0 # .22.0
d34 1
a34 1
		ac_cv_path_INKSCAPE=no
d38 4
a41 3
pre-configure:
	@@perl -pi -e 's,!!LIBbabl-0.0_VERSION!!,${LIBbabl-0.0_VERSION},g' \
		${WRKSRC}/extensions/Makefile.in
@


1.4
log
@- unbreak dlopen()ing of modules
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/04/11 21:33:29 ajacoutot Exp $
d7 1
a7 1
V=		0.0.20
a8 1
PKGNAME=	${DISTNAME}p1
d11 1
a11 1
SHARED_LIBS=	babl-0.0	0.0 # .20.0
@


1.3
log
@- I got the jasper syndrom... i.e. bumping DISTNAME instead of PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/04/11 17:54:39 ajacoutot Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}p0
@


1.2
log
@- don't bother looking for binaries that won't be used
- don't bother building useless docs
no pkg change, just a small build speed-up
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/04/10 14:11:43 ajacoutot Exp $
d9 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d33 2
@


1.1.1.1
log
@Import babl-0.0.20

Babl is a dynamic, any to any, pixel format conversion library. It
provides conversions between the myriad of buffer types images can be
stored in. Babl doesn't only help with existing pixel formats, but also
facilitates creation of new and uncommon ones.
Features:
 * Tiny API in normal use
 * Planar and linear buffers
 * Thread safe processing
 * Extendable formats, color models, components and datatypes
 * Reference 64bit floating point conversions for data types and color
   models

ok jasper@@
@
text
@@
