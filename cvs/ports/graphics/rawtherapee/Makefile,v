head	1.24;
access;
symbols
	OPENBSD_6_2:1.23.0.2
	OPENBSD_6_2_BASE:1.23
	OPENBSD_6_1:1.17.0.2
	OPENBSD_6_1_BASE:1.17
	OPENBSD_6_0:1.15.0.2
	OPENBSD_6_0_BASE:1.15
	OPENBSD_5_9:1.14.0.2
	OPENBSD_5_9_BASE:1.14
	OPENBSD_5_8:1.11.0.4
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.9.0.2
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.8.0.2
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.1.1.1.0.2
	OPENBSD_5_3_BASE:1.1.1.1
	kirby_20130127:1.1.1.1
	kirby:1.1.1;
locks; strict;
comment	@# @;


1.24
date	2017.10.05.12.12.06;	author kirby;	state Exp;
branches;
next	1.23;
commitid	x7teIoT6YQuLsbp1;

1.23
date	2017.08.23.12.57.45;	author kirby;	state Exp;
branches;
next	1.22;
commitid	mISmuBeariSzYze0;

1.22
date	2017.07.26.22.45.24;	author sthen;	state Exp;
branches;
next	1.21;
commitid	tD4MFrpYYDDL2UFT;

1.21
date	2017.07.16.19.18.57;	author espie;	state Exp;
branches;
next	1.20;
commitid	tt0GhWK5c4uf9ILG;

1.20
date	2017.05.31.08.08.16;	author espie;	state Exp;
branches;
next	1.19;
commitid	ij92FtFXiSiT1ani;

1.19
date	2017.05.22.13.52.55;	author espie;	state Exp;
branches;
next	1.18;
commitid	HrbI7FOcQutkvPJL;

1.18
date	2017.05.22.05.25.03;	author kirby;	state Exp;
branches;
next	1.17;
commitid	4rmwGMTEIo9vrlkp;

1.17
date	2017.02.08.09.27.06;	author kirby;	state Exp;
branches;
next	1.16;
commitid	pQ7LWfnxw6qy5aH5;

1.16
date	2016.11.17.15.21.45;	author ajacoutot;	state Exp;
branches;
next	1.15;
commitid	FIX44eHTLnyf3VqI;

1.15
date	2016.04.12.10.11.51;	author kirby;	state Exp;
branches;
next	1.14;
commitid	zCUuZoarF3eIjdU3;

1.14
date	2016.01.27.15.02.01;	author kirby;	state Exp;
branches;
next	1.13;
commitid	qhcZmZyyM5WSGEfJ;

1.13
date	2015.09.29.09.02.21;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	O6jVfecYgFBRZb5v;

1.12
date	2015.09.24.10.42.57;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	T6BU9FZ7syRr27DF;

1.11
date	2015.05.31.06.32.06;	author kirby;	state Exp;
branches;
next	1.10;
commitid	ME3P0ONEsspplUDL;

1.10
date	2015.03.27.08.11.29;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	mHt3hIg3nxq5XDcy;

1.9
date	2014.11.07.10.40.05;	author ajacoutot;	state Exp;
branches
	1.9.2.1;
next	1.8;
commitid	QYJaNcIko4VHoTIl;

1.8
date	2014.07.10.08.27.49;	author kirby;	state Exp;
branches;
next	1.7;
commitid	XZIyzQGvd5EmpPe9;

1.7
date	2013.08.20.22.05.56;	author zhuk;	state Exp;
branches;
next	1.6;

1.6
date	2013.08.07.21.32.02;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2013.07.10.15.10.27;	author dcoppa;	state Exp;
branches;
next	1.4;

1.4
date	2013.07.09.09.25.58;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2013.05.16.09.16.43;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2013.03.11.11.10.55;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2013.01.27.14.56.43;	author kirby;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.01.27.14.56.43;	author kirby;	state Exp;
branches;
next	;

1.9.2.1
date	2015.06.01.07.51.22;	author jasper;	state Exp;
branches;
next	;
commitid	HLsBt1IdEJ66zClb;


desc
@@


1.24
log
@update to rawtherapee-5.3
@
text
@# $OpenBSD: Makefile,v 1.23 2017/08/23 12:57:45 kirby Exp $

# http://rawpedia.rawtherapee.com/The_Floating_Point_Engine
ONLY_FOR_ARCHS = 	amd64

COMMENT =		RAW image processing application

DISTNAME =		rawtherapee-5.3

CATEGORIES =		graphics

HOMEPAGE =		http://www.rawtherapee.com/

MAINTAINER =		Kirill Bychkov <kirby@@openbsd.org>

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += X11 atk-1.0 atkmm-1.6 c cairo cairo-gobject cairomm-1.0
WANTLIB += canberra canberra-gtk3 expat fftw3f gdk-3 gdk_pixbuf-2.0
WANTLIB += gdkmm-3.0 gio-2.0 giomm-2.4 glib-2.0 glibmm-2.4 gobject-2.0
WANTLIB += gthread-2.0 gtk-3 gtkmm-3.0 intl iptcdata jpeg lcms2
WANTLIB += lensfun m pango-1.0 pangocairo-1.0 pangomm-1.4 png pthread
WANTLIB += sigc-2.0 tiff z ${COMPILER_LIBCXX}

MASTER_SITES =		http://www.rawtherapee.com/shared/source/
EXTRACT_SUFX = 		.tar.xz

MODULES =		devel/cmake

RUN_DEPENDS =		devel/desktop-file-utils \
			x11/gtk+3,-guic

LIB_DEPENDS =		audio/libcanberra,-gtk3 \
			graphics/libiptcdata \
			graphics/lcms2 \
			graphics/lensfun \
			math/fftw3,float \
			x11/gtk3mm

CONFIGURE_ARGS =	-DBUILD_SHARED=ON \
			-DOPTION_OMP=OFF \
			-DCMAKE_CXX_FLAGS_RELEASE=${CXXFLAGS} \
			-DCMAKE_EXE_LINKER_FLAGS=-L${X11BASE}/lib \
			-Wno-dev

NO_TEST = 		Yes

.include <bsd.port.mk>
@


1.23
log
@update to rawtherapee-5.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2017/07/26 22:45:24 sthen Exp $
d8 1
a8 1
DISTNAME =		rawtherapee-5.2
d23 1
a23 1
WANTLIB += m pango-1.0 pangocairo-1.0 pangomm-1.4 png pthread
a30 3
# c++11
COMPILER =		gcc

d37 1
@


1.22
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2017/07/16 19:18:57 espie Exp $
d8 1
a8 2
DISTNAME =		rawtherapee-5.1
REVISION =		0
d19 1
a19 1
WANTLIB += X11 atk-1.0 atkmm-1.6 bz2 c cairo cairo-gobject cairomm-1.0
@


1.21
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2017/05/31 08:08:16 espie Exp $
d9 1
@


1.20
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2017/05/22 13:52:55 espie Exp $
d24 1
a24 1
WANTLIB += sigc-2.0 tiff z ${LIBECXX}
@


1.19
log
@WANT_CXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2017/05/22 05:25:03 kirby Exp $
d32 1
a32 1
WANT_CXX =		base gcc
@


1.18
log
@update to rawtherapee-5.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2017/02/08 09:27:06 kirby Exp $
d24 1
a24 1
WANTLIB += sigc-2.0 tiff z
d32 1
a32 3
MODULES +=		gcc4
MODGCC4_ARCHS =		*
MODGCC4_LANGS =		c++
@


1.17
log
@Update to rawtherapee-5.0-r1.
Remove patches merged upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2016/11/17 15:21:45 ajacoutot Exp $
d8 1
a8 2
DISTNAME =		rawtherapee-5.0-r1-gtk2
PKGNAME = 		rawtherapee-5.0r1
d19 6
a24 7
WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 atkmm-1.6 bz2 c cairo cairomm-1.0
WANTLIB += canberra canberra-gtk expat fftw3f fontconfig freetype
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gdkmm-2.4 gio-2.0 giomm-2.4
WANTLIB += glib-2.0 glibmm-2.4 gobject-2.0 gthread-2.0 gtk-x11-2.0
WANTLIB += gtkmm-2.4 iptcdata intl jpeg lcms2 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pangomm-1.4 png pthread sigc-2.0 tiff z
d39 1
a39 1
LIB_DEPENDS =		audio/libcanberra,-gtk \
d43 1
a43 1
			x11/gtk2mm
d50 2
@


1.16
log
@Fix build with newer cairomm.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2016/04/12 10:11:51 kirby Exp $
d3 1
a3 1
# http://50.87.144.65/~rt/w/index.php?title=The_Floating_Point_Engine
a5 3
# XXX check if still needed at next update
CXXFLAGS +=		-std=c++11

d8 2
a9 2
DISTNAME =		rawtherapee-4.2
REVISION = 		1
d49 3
a51 1
			-DCMAKE_CXX_FLAGS_RELEASE=${CXXFLAGS}
@


1.15
log
@stop using gettext modeule; bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2016/01/27 15:02:01 kirby Exp $
d12 1
a12 1
REVISION = 		0
@


1.14
log
@Update to rawtherapee-4.2. Reminded by Daniel Jakots, thanjs.
 - set ONLY_FOR_ARCHES=amd64 because of memory consumption
 - add comments to patches commited upstream
 - add README (requested by sthen@@)

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2015/09/29 09:02:21 ajacoutot Exp $
d12 1
d28 1
a28 1
WANTLIB += gtkmm-2.4 iptcdata jpeg lcms2 m pango-1.0 pangocairo-1.0
d34 1
a34 2
MODULES =		devel/cmake \
			devel/gettext
@


1.13
log
@Fix build with libsigc++ >= 2.6.
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.12 2015/09/24 10:42:57 ajacoutot Exp $
d11 1
a11 2
DISTNAME =		rawtherapee-4.1
REVISION =		2
@


1.12
log
@Temporarily mark BROKEN until I can figure out how to compile these with
libsigc++ >=2.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/05/31 06:32:06 kirby Exp $
d3 2
a4 1
BROKEN =		needs patching to work with libsigc++ >=2.6.0
d9 1
a9 1
REVISION =		1
d26 1
a26 2
WANTLIB += pangoft2-1.0 pangomm-1.4 png pthread sigc-2.0 stdc++
WANTLIB += tiff z
d33 6
a42 1
			devel/libsigc++-2 \
d48 1
a48 1
CONFIGURE_ARGS +=	-DBUILD_SHARED=ON \
a50 2

#NO_TEST =		Yes
@


1.11
log
@fix CVE-2015-3885 for embedded dcraw.
reported by Sevan / Venture37 on ports@@, thanks
looks ok to kili@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.10 2015/03/27 08:11:29 ajacoutot Exp $
@


1.10
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/11/07 10:40:05 ajacoutot Exp $
d6 1
a6 1
REVISION =		0
@


1.9
log
@No need for default CMAKE_BUILD_TYPE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/07/10 08:27:49 kirby Exp $
d6 1
d32 1
a32 1
			x11/gtk+2,-guic
@


1.9.2.1
log
@Security fixes for CVE-2015-3885
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/11/07 10:40:05 ajacoutot Exp $
a5 1
REVISION =		0
@


1.8
log
@Update to rawtherapee-4.1 with lots of new features and bugfixes.
With some help and testing from zhuk@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/08/20 22:05:56 zhuk Exp $
d40 1
a40 2
CONFIGURE_ARGS +=	-DCMAKE_BUILD_TYPE=Release \
			-DBUILD_SHARED=ON \
@


1.7
log
@Fixup handling of FreeDesktop goo: desktop-file-utils, gtk-update-icon-cache
and shared-mime-info. Found by portcheck.

A lot of input from and okay ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/08/07 21:32:02 naddy Exp $
d5 1
a5 2
DISTNAME =		rawtherapee-4.0.9
REVISION =		1
d18 6
a23 6
WANTLIB += expat fontconfig freetype gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gdkmm-2.4 gio-2.0 giomm-2.4 glib-2.0 glibmm-2.4
WANTLIB += gobject-2.0 gthread-2.0 gtk-x11-2.0 gtkmm-2.4
WANTLIB += iptcdata jpeg lcms2 m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pangomm-1.4 pixman-1 png pthread pthread-stubs
WANTLIB += sigc-2.0 stdc++ tiff xcb xcb-render xcb-shm z
d25 1
a25 1
MASTER_SITES =		https://rawtherapee.googlecode.com/files/
d33 2
a34 1
LIB_DEPENDS =		devel/libsigc++-2 \
d37 1
d45 1
a45 1
NO_TEST =		Yes
@


1.6
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/07/10 15:10:27 dcoppa Exp $
d6 1
a6 1
REVISION =		0
d31 2
a32 1
RUN_DEPENDS =		devel/desktop-file-utils
@


1.5
log
@Fix and re-enable Ninja build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/07/09 09:25:58 sthen Exp $
d26 1
a26 1
MASTER_SITES =		http://rawtherapee.googlecode.com/files/
@


1.4
log
@don't USE_NINJA for now, intermittent build failures

rtengine/procparams.cc:28:30: error: ../rtgui/version.h: No such file or directory
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.3 2013/05/16 09:16:43 sthen Exp $

USE_NINJA = No
# rtengine/procparams.cc:28:30: error: ../rtgui/version.h: No such file or directory
@


1.3
log
@use gettext/libiconv MODULES.
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.2 2013/03/11 11:10:55 espie Exp $
@


1.2
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/01/27 14:56:43 kirby Exp $
d6 1
d12 1
a12 1
MAINTAINER = 		Kirill Bychkov <kirby@@openbsd.org>
d21 2
a22 2
WANTLIB += gobject-2.0 gthread-2.0 gtk-x11-2.0 gtkmm-2.4 iconv
WANTLIB += intl iptcdata jpeg lcms2 m pango-1.0 pangocairo-1.0
d29 2
a30 1
MODULES =		devel/cmake
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a14 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d41 1
a41 1
NO_REGRESS =		Yes
@


1.1.1.1
log
@RawTherapee is a powerful RAW image processing appliction. It helps you
to get the most details and least artifacts from your raw photos.
Advanced color handling, enhanced exposure and tonality tools, multiple
denoising methods gives you perfect results.

positive feedback from ian@@ and Juan Francisco Cantero Hurtado.
ok sthen@@.
@
text
@@
