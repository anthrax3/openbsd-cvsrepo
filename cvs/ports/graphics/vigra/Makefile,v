head	1.9;
access;
symbols
	OPENBSD_6_2:1.9.0.2
	OPENBSD_6_2_BASE:1.9
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	kirby_20161124:1.1.1.1
	kirby:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2017.07.26.22.45.25;	author sthen;	state Exp;
branches;
next	1.8;
commitid	tD4MFrpYYDDL2UFT;

1.8
date	2017.07.16.19.18.56;	author espie;	state Exp;
branches;
next	1.7;
commitid	tt0GhWK5c4uf9ILG;

1.7
date	2017.05.31.08.08.16;	author espie;	state Exp;
branches;
next	1.6;
commitid	ij92FtFXiSiT1ani;

1.6
date	2017.05.28.18.55.04;	author espie;	state Exp;
branches;
next	1.5;
commitid	L2h9BvCLOKPggz4h;

1.5
date	2017.05.27.17.43.22;	author zhuk;	state Exp;
branches;
next	1.4;
commitid	miGFbGlJc1moPC6t;

1.4
date	2017.05.26.12.12.01;	author kirby;	state Exp;
branches;
next	1.3;
commitid	VoS5ZFFS7TIf482m;

1.3
date	2017.05.26.05.42.58;	author kirby;	state Exp;
branches;
next	1.2;
commitid	od3Z2KmtYNTfLe1r;

1.2
date	2016.12.01.08.53.38;	author kirby;	state Exp;
branches;
next	1.1;
commitid	lNJyKOZLQGzfBF9d;

1.1
date	2016.11.24.08.10.01;	author kirby;	state Exp;
branches
	1.1.1.1;
next	;
commitid	BWsxsq9g21VzyOR1;

1.1.1.1
date	2016.11.24.08.10.01;	author kirby;	state Exp;
branches;
next	;
commitid	BWsxsq9g21VzyOR1;


desc
@@


1.9
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.8 2017/07/16 19:18:56 espie Exp $

COMMENT =		image processing and analysis library
ONLY_FOR_ARCHS =	${CXX11_ARCHS}

GH_ACCOUNT =		ukoethe
GH_PROJECT =		vigra
GH_TAGNAME = 		Version-1-11-1
DISTNAME =		vigra-1.11.1
REVISION =		0

SHARED_LIBS =		vigraimpex 0.0 # 5.1

CATEGORIES =		graphics

HOMEPAGE =		http://ukoethe.github.io/vigra/

MAINTAINER =		Kirill Bychkov <kirby@@openbsd.org>

# MIT
PERMIT_PACKAGE_CDROM = 	Yes

WANTLIB += Half Iex IlmImf IlmThread Imath boost_atomic-mt boost_chrono-mt
WANTLIB += boost_date_time-mt boost_system-mt boost_thread-mt
WANTLIB += fftw3 jpeg m png pthread tiff z ${COMPILER_LIBCXX}

COMPILER =		gcc

MODULES =		devel/cmake
BUILD_DEPENDS = 	math/fftw3,float
LIB_DEPENDS =		devel/boost \
			graphics/jpeg \
			graphics/openexr \
			graphics/png \
			graphics/tiff \
			math/fftw3

CONFIGURE_ARGS =	-DWITH_VIGRANUMPY=0 \
			-DDOCINSTALL=share/doc/ \
			-DWITH_BOOST_THREAD=1 \
			-DWITH_OPENEXR=1 \
			-DWITH_HDF5=0 \
			-DCREATE_CTEST_TARGETS=ON \
			-DAUTOEXEC_TESTS:BOOL=OFF

CXXFLAGS += 		-std=c++11 -pthread

# Actually, there are tests, but they do work only on GCC.
# If you want to play, just add -DAUTOBUILD_TESTS=ON to CONFIGURE_ARGS.
# Building tests does not affect packaging.
NO_TEST =		Yes

.include <bsd.port.mk>
@


1.8
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2017/05/31 08:08:16 espie Exp $
d10 1
@


1.7
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2017/05/28 18:55:04 espie Exp $
d24 1
a24 1
WANTLIB += fftw3 jpeg m png pthread tiff z ${LIBECXX}
@


1.6
log
@more WANT_CXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2017/05/27 17:43:22 zhuk Exp $
d26 1
a26 1
WANT_CXX =		base gcc
@


1.5
log
@Disable tests until the template mismatch issue with
gaussianGradientMultiArray() calls gets fixed.

okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2017/05/26 12:12:01 kirby Exp $
d24 1
a24 1
WANTLIB += fftw3 jpeg m png pthread tiff z
@


1.4
log
@Upstream rerolled tarball. Noticed by espie@@, thanks!
Previous tarball contetnt was somewhere between 1.11.0 and 1.11.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2017/05/26 05:42:58 kirby Exp $
d4 1
d26 3
a28 3
MODULES =		devel/cmake gcc4
MODGCC4_LANGS += 	c++
MODGCC4_ARCHS = 	*
a42 1
			-DAUTOBUILD_TESTS=ON \
d46 5
@


1.3
log
@update to vigra-1.11.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2016/12/01 08:53:38 kirby Exp $
a45 2

WRKDIST = 		${WRKDIR}/vigra-e46259f9d511a5dc01d7e4548a596f33f72f3bef
@


1.2
log
@Fix typo in CONFIGURE_ARGS to prevent picking up math/hdf5 and breaking
bulk builds.
Reported by naddy@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/11/24 08:10:01 kirby Exp $
d7 2
a8 3
GH_TAGNAME = 		Version-1-11-0
DISTNAME =		vigra-1.11.0
REVISION = 		0
d46 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.72 2015/04/08 17:53:19 sthen Exp $
d9 1
d41 1
a41 1
			-DDWITH_HDF5=0 \
@


1.1.1.1
log
@Import vigra-1.11.0.
Required by upcoming updates of graphics/enblend-enfuse and
grapthics/hugin.
Input and ok sthen@@

VIGRA stands for "Vision with Generic Algorithms". It's an image
processing and analysis library that puts its main emphasis on
customizable algorithms and data structures. VIGRA is especially strong
for multi-dimensional images, because many algorithms (e.g. filters,
feature computation, superpixels) are implemented for arbitrary high
dimensions.
@
text
@@
