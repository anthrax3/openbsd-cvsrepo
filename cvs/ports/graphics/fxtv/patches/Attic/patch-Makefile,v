head	1.5;
access;
symbols
	OPENBSD_5_6:1.4.0.18
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.16
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.14
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.12
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.10
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.8
	OPENBSD_5_0:1.4.0.6
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.4
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.2
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.3.0.26
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.24
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.22
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.20
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.18
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.16
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.14
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.12
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.10
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.8
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.6
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.3.0.4
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.2.0.8
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.6
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.0.4
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1
	OPENBSD_2_9:1.1.0.2
	OPENBSD_2_9_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2014.11.07.08.52.25;	author ratchov;	state dead;
branches;
next	1.4;
commitid	NCLJtZDT7Hw6zcTM;

1.4
date	2010.05.22.14.12.50;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2003.12.28.00.24.38;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2002.02.02.00.52.18;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.03.07.07.55.57;	author fgsch;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Remove port of 13 year old fxtv release.

suggested by landry, ok dcoppa and benoit
@
text
@$OpenBSD: patch-Makefile,v 1.4 2010/05/22 14:12:50 espie Exp $
--- Makefile.orig	Mon Feb 12 23:08:59 2001
+++ Makefile	Sat May 22 16:04:13 2010
@@@@ -50,8 +50,11 @@@@ endif
 ifeq ($(OS),NetBSD)
   override RPATH_FLAG      = -R
 endif
+ifeq ($(OS),OpenBSD)
+  override RPATH_FLAG      = -rpath
+  override LD_INC	  += -L$(X11BASE)/lib -L$(LOCALBASE)/lib
+endif
 
-override LD_INC            = $(foreach dir,$(LIBDIRS),-Wl,-L,$(dir))
 ifneq ($(RPATH_FLAG),)
   override LD_INC         += $(foreach dir,$(LIBDIRS),-Wl,$(RPATH_FLAG),$(dir))
 endif
@@@@ -60,9 +63,9 @@@@ endif
 # CFLAGS
 #
 ifneq ($(DEBUG),NO)
-  override CFLAGS          = -DDEBUG -g
+  override CFLAGS         += -DDEBUG -g
 else
-  override CFLAGS          = -DNDEBUG -O2
+  override CFLAGS         += -DNDEBUG
 endif
 C_WARN_FLAG                = -Wall
 override CFLAGS           += $(C_WARN_FLAG) $(INC) $(CF_VERS)
@@@@ -73,15 +76,16 @@@@ endif
 override CFLAGS           += $(C_WARN_FLAG) -DX11BASE=\"$(X11BASEINST)\"
 
 ifeq ($(OS), linux)
-override CFLAGS            = $(CFLAGS) -DOLD_TUNER_IFACE
+override CFLAGS           += -DOLD_TUNER_IFACE
 endif
 
+
 #
 # LDFLAGS,LIBS
 #
 override LDFLAGS           = $(LD_INC) 
 override VIDEOLIB_LIB      = $(VIDEOLIB_DIR)/libvideo.a
-override LIBS              = -ltiff -ljpeg -lXaw3d -lXmu -lXt -lXpm \
+override LIBS              = -ltiff -ljpeg -lz -lXaw3d -lXmu -lXt -lXpm \
                              -lSM -lICE -lXext -lX11 -lm
 ifeq ($(HAVE_XFREE86),YES)
   override LIBS           += -lXxf86dga -lXxf86vm
@@@@ -98,6 +102,11 @@@@ override PIXMAPS           = $(wildcard bitmaps/*.x?m)
 override CSRCOBJ           = $(CSRC:%.c=%.o)
 override EXEC              = fxtv
 
+ifeq ($(OS), OpenBSD)
+override FXTV_LIBDIR	   = $(LOCALBASE)/share/fxtv
+override CFLAGS            += -DFXTV_LIBDIR=\"$(FXTV_LIBDIR)/%T/%N\"
+endif
+
 all : $(EXEC)
 
 %.o     : %.c
@@@@ -118,13 +127,14 @@@@ tv.o : tv.c app_rsrc.h
 install : fxtv
 	mkdir -p $(FXTV_LIBDIR)/bitmaps
 	install -c -m 444 -o root $(PIXMAPS) $(FXTV_LIBDIR)/bitmaps
-	install -c -m 444 -o root README $(FXTV_LIBDIR)
 	mkdir -p $(X11BASEINST)/lib/X11/app-defaults
 	install -c -m 444 -o root Fxtv $(X11BASEINST)/lib/X11/app-defaults
 	mkdir -p $(X11BASEINST)/bin
 	install -c -m 444 -o root fxtv.1 $(X11BASEINST)/man/man1/fxtv.1
 	install -c -m 555 -o root fxtv $(X11BASEINST)/bin
 	install -c -m 555 -o root fxtv_cnvt.sh $(FXTV_LIBDIR)
+	mkdir -p $(X11BASEINST)/share/doc/fxtv
+	install -c -m 444 -o root README $(X11BASEINST)/share/doc/fxtv
 
 clean:
 	rm -f *.o fxtv *.core *~
@


1.4
log
@shun lvalue casts
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.3 2003/12/28 00:24:38 naddy Exp $
@


1.3
log
@-ltiff needs -lz
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.2 2002/02/02 00:52:18 naddy Exp $
--- Makefile.orig	2001-02-12 23:08:59.000000000 +0100
+++ Makefile	2003-12-28 01:19:51.000000000 +0100
d48 1
a48 1
@@@@ -98,6 +102,11 @@@@ override PIXMAPS           = $(wildcard 
@


1.2
log
@Complete overhaul of this port.
Submitted by Wilbern Cobb <vedge@@csoft.org>.
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.orig	Mon Feb 12 18:08:59 2001
+++ Makefile	Wed Aug 15 13:46:30 2001
d29 1
a29 1
@@@@ -73,9 +76,10 @@@@ endif
d41 7
@


1.1
log
@New set of patches.
@
text
@d1 6
a6 11
$OpenBSD: update-patches,v 1.3 2000/06/09 17:08:37 espie Exp $
--- Makefile.orig	Mon Feb 12 19:08:59 2001
+++ Makefile	Wed Mar  7 04:35:13 2001
@@@@ -82,7 +82,7 @@@@ endif
 override LDFLAGS           = $(LD_INC) 
 override VIDEOLIB_LIB      = $(VIDEOLIB_DIR)/libvideo.a
 override LIBS              = -ltiff -ljpeg -lXaw3d -lXmu -lXt -lXpm \
-                             -lSM -lICE -lXext -lX11 -lm
+                             -lSM -lICE -lXext -lX11 -lm -lossaudio
 ifeq ($(HAVE_XFREE86),YES)
   override LIBS           += -lXxf86dga -lXxf86vm
d8 18
a25 2
@@@@ -91,7 +91,7 @@@@ ifneq ($(DEBUG),NO)
   override LDFLAGS        := -g $(LDFLAGS)
d27 17
d45 6
a50 2
-override FXTV_LIBDIR       = $(X11BASEINST)/lib/X11/fxtv
+override FXTV_LIBDIR       = $(PREFIX)/lib/X11/fxtv
d52 3
a54 3
 override CSRC              = $(wildcard *.c)
 override PIXMAPS           = $(wildcard bitmaps/*.x?m)
@@@@ -119,11 +119,11 @@@@ install : fxtv
d57 6
a62 11
 	install -c -m 444 -o root README $(FXTV_LIBDIR)
-	mkdir -p $(X11BASEINST)/lib/X11/app-defaults
-	install -c -m 444 -o root Fxtv $(X11BASEINST)/lib/X11/app-defaults
-	mkdir -p $(X11BASEINST)/bin
-	install -c -m 444 -o root fxtv.1 $(X11BASEINST)/man/man1/fxtv.1
-	install -c -m 555 -o root fxtv $(X11BASEINST)/bin
+	mkdir -p $(PREFIX)/lib/X11/app-defaults
+	install -c -m 444 -o root Fxtv $(PREFIX)/lib/X11/app-defaults
+	mkdir -p $(PREFIX)/bin
+	install -c -m 444 -o root fxtv.1 $(PREFIX)/man/man1/fxtv.1
+	install -c -m 555 -o root fxtv $(PREFIX)/bin
d64 2
d68 1
@

