head	1.2;
access;
symbols
	OPENBSD_5_9:1.1.0.4
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.6
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2016.02.29.23.50.13;	author sthen;	state dead;
branches;
next	1.1;
commitid	cYxsFEZLObfOSo5S;

1.1
date	2015.05.31.06.45.29;	author kirby;	state Exp;
branches
	1.1.2.1;
next	;
commitid	UHhT5aNLS6mNIBkE;

1.1.2.1
date	2015.06.01.07.51.22;	author jasper;	state Exp;
branches;
next	;
commitid	HLsBt1IdEJ66zClb;


desc
@@


1.2
log
@update to LibRaw-0.17.1
@
text
@$OpenBSD: patch-internal_dcraw_common_cpp,v 1.1 2015/05/31 06:45:29 kirby Exp $

fix CVE-2015-3885
Upstream commit 7f5615e7355fab256e22fb7db0b739850d17a0b1

--- internal/dcraw_common.cpp.orig	Fri Jan 17 17:43:14 2014
+++ internal/dcraw_common.cpp	Tue May 26 13:09:53 2015
@@@@ -567,7 +567,8 @@@@ void CLASS canon_load_raw()
 
 int CLASS ljpeg_start (struct jhead *jh, int info_only)
 {
-  int c, tag, len;
+  int c, tag;
+  ushort len;
   uchar data[0x10000];
   const uchar *dp;
 
@


1.1
log
@fix CVE-2015-3885 for embedded dcraw.
reported by Sevan / Venture37 on ports@@, thanks
looks ok to kili@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@Security fixes for CVE-2015-3885
@
text
@d1 1
a1 1
$OpenBSD: patch-internal_dcraw_common_cpp,v 1.1 2015/05/31 06:45:29 kirby Exp $
@

