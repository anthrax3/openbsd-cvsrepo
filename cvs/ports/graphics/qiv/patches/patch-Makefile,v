head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.10
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.8
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.4
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.6
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.2
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.7.0.10
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.8
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.6
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.4
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.2
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.4
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.5.0.6
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.4
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.4.0.20
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.18
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.16
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.14
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.12
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.10
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.8
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.6
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.4
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.3.0.8
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.6
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.4
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.1.1.1.0.8
	OPENBSD_3_2_BASE:1.1.1.1
	OPENBSD_3_1:1.1.1.1.0.6
	OPENBSD_3_1_BASE:1.1.1.1
	OPENBSD_3_0:1.1.1.1.0.4
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	OPENBSD_2_9:1.1.1.1.0.2
	OPENBSD_2_9_BASE:1.1.1.1
	lebel_2001-Apr-13:1.1.1.1
	lebel:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2014.08.23.14.33.07;	author kirby;	state Exp;
branches;
next	1.7;
commitid	pimrP4nf8fV7jE79;

1.7
date	2012.03.29.06.05.14;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2011.04.16.21.27.49;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2009.08.20.18.58.39;	author kili;	state Exp;
branches;
next	1.4;

1.4
date	2005.02.05.16.40.29;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2002.12.22.03.45.52;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2002.10.27.01.06.48;	author lebel;	state Exp;
branches;
next	1.1;

1.1
date	2001.04.13.20.56.05;	author lebel;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.04.13.20.56.05;	author lebel;	state Exp;
branches;
next	;


desc
@@


1.8
log
@ - update qiv to 2.3.1, Changelog: http://spiegl.de/qiv/changes.shtml
 - install qiv-command example and mention it in man.
@
text
@$OpenBSD: patch-Makefile,v 1.7 2012/03/29 06:05:14 ajacoutot Exp $
--- Makefile.orig	Fri Dec 20 04:50:37 2013
+++ Makefile	Thu Aug 14 14:06:52 2014
@@@@ -4,7 +4,7 @@@@
 #######################################################################
 
 # Directory where qiv will be installed under.
-PREFIX = /usr/local
+PREFIX ?= /usr/local
 
 # Font to use for statusbar in fullscreen mode
 STATUSBAR_FONT = "Monospace 9"
@@@@ -30,7 +30,7 @@@@ GETOPT_LONG = -DHAVE_GETOPT_LONG
 
 # This program will be run on the manual page after it is installed.
 # If you don't want to compress the manpage, change it to 'true'.
-COMPRESS_PROG = gzip -9f
+COMPRESS_PROG = true
 
 # Comment this line out if your system doesn't have lcms2 installed
 # (for minimal Color Management support)
@@@@ -49,11 +49,11 @@@@ EXIF = -DHAVE_EXIF
 # Do not edit below here!
 ######################################################################
 
-CC        = gcc
+CC        ?= gcc
 #CFLAGS    = -O0 -g -Wall
-CFLAGS    = -O2 -Wall \
-	    -fcaller-saves -ffast-math -fno-strength-reduce \
-	    -fthread-jumps #-march=pentium #-DSTAT_MACROS_BROKEN
+#CFLAGS    = -O2 -Wall \
+#	    -fcaller-saves -ffast-math -fno-strength-reduce \
+#	    -fthread-jumps #-march=pentium #-DSTAT_MACROS_BROKEN
 #CFLAGS    = -O2 -Wall -fomit-frame-pointer -finline-functions \
 #	    -fcaller-saves -ffast-math -fno-strength-reduce \
 #	    -fthread-jumps #-march=pentium #-DSTAT_MACROS_BROKEN
@@@@ -159,10 +159,6 @@@@ install: $(PROGRAM)
 	  install -d -m 0755 $(PREFIX)/share/applications; \
 	fi
 	install -m 0644 qiv.desktop $(PREFIX)/share/applications/qiv.desktop
-	@@if ./qiv -f ./intro.jpg ; \
-	then echo "-- Test Passed --" ; \
-	else echo "-- Test Failed --" ; \
-	fi
 	@@echo "\nDont forget to look into the \"qiv-command\" file and install it!\n-> cp qiv-command.example $(PREFIX)/bin/qiv-command\n\n"
 
 # the end... ;-)
@


1.7
log
@Update to qiv-2.2.4.

from Gonzalo L. R. with some tweaks.
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.6 2011/04/16 21:27:49 jasper Exp $
--- Makefile.orig	Fri May 13 15:11:24 2011
+++ Makefile	Thu Mar 29 08:01:31 2012
d12 1
a12 1
 STATUSBAR_FONT = "fixed"
d20 3
a22 3
 # Comment this line out if your system doesn't have libXinerama
 # installed (for centering on dual-screen)
@@@@ -45,11 +45,11 @@@@ MAGIC = -DHAVE_MAGIC
d28 1
a28 1
 #CFLAGS    = -O -g -Wall
d38 2
a39 10
@@@@ -83,7 +83,7 @@@@ OBJS_G   += lib/getopt.g lib/getopt1.g
 endif
 
 ifdef GTD_XINERAMA
-LIBS     += -L/usr/X11R6/lib -lXinerama
+LIBS     += -L${X11BASE}/lib -lXinerama
 endif
 
 ifdef MAGIC
@@@@ -138,10 +138,6 @@@@ install: $(PROGRAM)
d41 1
a41 2
 	install -m 0644 $(PROGRAM).1 $(PREFIX)/man/man1
 	$(COMPRESS_PROG) $(PREFIX)/man/man1/$(PROGRAM).1
d46 1
a46 1
 	@@echo "\nDont forget to look into the \"qiv-command\" file and install it!\n-> cp qiv-command.example /usr/local/bin/qiv-command\n\n"
@


1.6
log
@add rcs id
@
text
@d1 4
a4 5
$OpenBSD$
--- Makefile.orig	Sun May 31 03:35:42 2009
+++ Makefile	Tue Jul 14 18:44:12 2009
@@@@ -3,9 +3,6 @@@@
 # User Options
d7 1
a7 1
-# Directory where qiv will be installed under.
d9 2
a10 1
-
d13 6
d20 3
a22 1
@@@@ -49,15 +46,6 @@@@ MAGIC = -DHAVE_MAGIC
d27 2
a28 1
-#CFLAGS    = -O -g -Wall
d32 19
a50 14
-#CFLAGS    = -O2 -Wall -fomit-frame-pointer -finline-functions \
-#	    -fcaller-saves -ffast-math -fno-strength-reduce \
-#	    -fthread-jumps #-march=pentium #-DSTAT_MACROS_BROKEN
-
 INCLUDES  := $(shell pkg-config --cflags gdk-2.0 imlib2)
 LIBS      := $(shell pkg-config --libs gdk-2.0 imlib2)
 
@@@@ -136,13 +124,7 @@@@ distclean : clean
 
 install: $(PROGRAM)
 	@@echo "Installing QIV..."
-	install -s -m 0755 $(PROGRAM) $(PREFIX)/bin
-	install -m 0644 $(PROGRAM).1 $(PREFIX)/man/man1
-	$(COMPRESS_PROG) $(PREFIX)/man/man1/$(PROGRAM).1
d55 1
a55 3
-	@@echo -ne "\nDont forget to look into the \"qiv-command\" file and install it!\n-> cp qiv-command.example /usr/local/bin/qiv-command\n\n"
+	$(BSD_INSTALL_PROGRAM) $(PROGRAM) $(PREFIX)/bin
+	$(BSD_INSTALL_MAN) $(PROGRAM).1 $(PREFIX)/man/man1
@


1.5
log
@Update to 2.2.2.

testing, tweaks and ok bernd@@
@
text
@d1 1
@


1.4
log
@update to qiv 2.0

from Jon Trembley <jon at brain-box.net>
@
text
@d1 2
a2 2
--- Makefile.orig	Sat May 22 09:21:47 2004
+++ Makefile	Sat Feb  5 17:25:47 2005
d13 1
a13 1
@@@@ -57,11 +54,6 @@@@ SS_RANDOMIZE = -r
d18 2
a19 1
-CFLAGS    = -O2 -Wall -fomit-frame-pointer -finline-functions \
d22 3
d26 2
a27 2
 INCLUDES  = `imlib-config --cflags-gdk`
 LIBS      = `imlib-config --libs-gdk`
d29 3
a31 1
@@@@ -126,12 +118,6 @@@@ install: $(PROGRAM)
d33 2
a34 2
 	install -s -m 0755 $(PROGRAM) $(PREFIX)/bin
 	install -m 0644 $(PROGRAM).1 $(PREFIX)/man/man1
d40 3
a42 1
-	@@echo -ne "\nDont forget to look into the \"qiv-command\" file and install it!\n-> cp qiv-command.example /usr/local/bin/qiv-command\n\n" 
d44 1
a44 2
 install-xscreensaver: install
 	@@echo "#!/bin/sh" > $(SS_PROG)
@


1.3
log
@getopt_long() is available now, honor CFLAGS; ok lebel@@
@
text
@d1 2
a2 3
$OpenBSD: patch-Makefile,v 1.2 2002/10/27 01:06:48 lebel Exp $
--- Makefile.orig	Sun Jun 10 14:35:06 2001
+++ Makefile	Sun Dec 22 02:29:45 2002
d5 1
a5 1
 ######################################################################
d13 1
a13 1
@@@@ -53,11 +50,6 @@@@ SS_RANDOMIZE = -r
d25 2
a26 2
@@@@ -114,11 +106,6 @@@@ install: $(PROGRAM)
 	@@echo "Installing..."
d30 1
a30 1
-	@@if ./qiv -o white -f ./intro.jpg ; \
d34 1
@


1.2
log
@respect CC/CFLAGS; notified by naddy@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.1.1.1 2001/04/13 20:56:05 lebel Exp $
--- Makefile.orig	Sun Jun 10 08:35:06 2001
+++ Makefile	Sat Oct 26 21:03:12 2002
d14 1
a14 10
@@@@ -24,7 +21,7 @@@@ FILTER = 1
 EXTNS = GIF TIFF XPM XBM PNG PPM PNM PGM PCX BMP EIM JPEG TGA
 
 # Comment this line out if your system doesn't have getopt_long().
-GETOPT_LONG = -DHAVE_GETOPT_LONG
+GETOPT_LONG = 
 
 # This program will be run on the manual page after it is installed.
 # If you don't want to compress the manpage, change it to 'true'.
@@@@ -53,8 +50,7 @@@@ SS_RANDOMIZE = -r
d20 5
a24 3
+CFLAGS   += -O2 -Wall -fomit-frame-pointer -finline-functions \
 	    -fcaller-saves -ffast-math -fno-strength-reduce \
 	    -fthread-jumps #-march=pentium #-DSTAT_MACROS_BROKEN
d26 1
a26 1
@@@@ -114,11 +110,6 @@@@ install: $(PROGRAM)
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD: update-patches,v 1.4 2001/03/31 22:54:41 espie Exp $
--- Makefile.orig	Thu Jan 18 02:17:18 2001
+++ Makefile	Tue Apr 10 21:47:21 2001
d23 11
a33 1
@@@@ -112,11 +109,6 @@@@ install: $(PROGRAM)
@


1.1.1.1
log
@initial import of qiv:
--
qiv is an image viewer developed with gdk/imlib. As a result, qiv
is faster than traditional image viewers such as xv or xli.

checked by brad@@
@
text
@@
