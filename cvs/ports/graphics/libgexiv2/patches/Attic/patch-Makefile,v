head	1.7;
access;
symbols
	OPENBSD_5_5:1.6.0.4
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.5.0.4
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	landry_20101025:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2014.03.18.07.49.10;	author ajacoutot;	state dead;
branches;
next	1.6;

1.6
date	2013.03.23.15.19.08;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.04.05.12.58.14;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2012.02.26.15.08.36;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.10.28.21.58.48;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.01.17.09.59.02;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.24.22.29.50;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.10.24.22.29.50;	author landry;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Update to libgexiv2-0.10.0.
@
text
@$OpenBSD: patch-Makefile,v 1.6 2013/03/23 15:19:08 ajacoutot Exp $
--- Makefile.orig	Tue Mar 19 22:41:56 2013
+++ Makefile	Sat Mar 23 15:37:54 2013
@@@@ -179,7 +179,7 @@@@ vapi: $(VAPI_FILE)
 .PHONY: install
 install:
 	@@mkdir -p $(DESTDIR)$(PREFIX)/$(LIB)
-	libtool --mode=install $(INSTALL_PROGRAM) $(LIBRARY).la $(DESTDIR)$(PREFIX)/$(LIB)
+	${LIBTOOL} --mode=install $(INSTALL_PROGRAM) $(LIBRARY).la $(DESTDIR)$(PREFIX)/$(LIB)
 	@@mkdir -p $(DESTDIR)$(PREFIX)/include/$(PKGNAME)
 	$(INSTALL_DATA) $(EXPANDED_INSTALLED_HEADER_FILES) $(DESTDIR)$(PREFIX)/include/$(PKGNAME)
 	@@mkdir -p $(DESTDIR)$(PREFIX)/$(LIB)/pkgconfig
@@@@ -207,7 +207,7 @@@@ install-vapi:
 	$(INSTALL_DATA) $(VAPI_FILE) $(DESTDIR)$(PREFIX)/share/vala/vapi
 
 uninstall:
-	libtool --mode=uninstall rm -f $(DESTDIR)$(PREFIX)/$(LIB)/$(LIBRARY).la
+	${LIBTOOL} --mode=uninstall rm -f $(DESTDIR)$(PREFIX)/$(LIB)/$(LIBRARY).la
 	rm -rf $(DESTDIR)$(PREFIX)/include/$(PKGNAME)
 	rm -f $(DESTDIR)$(PREFIX)/$(LIB)/pkgconfig/$(PKGNAME).pc
 	rm -f $(DESTDIR)$(PREFIX)/share/vala/vapi/$(PKGNAME).vapi
@@@@ -229,13 +229,14 @@@@ $(VAPI_FILE): $(EXPANDED_VAPI_INPUT) $(DESTDIR_HEADER_
 	vapigen --library=$(PKGNAME) --metadatadir=vapi vapi/$(PKGNAME).gi
 
 $(PC_FILE): $(PC_INPUT) Makefile $(CONFIG_IN)
-	m4 '--define=_VERSION_=$(VERSION)' '--define=_PREFIX_=$(PREFIX)' $< > $@@
+	m4 '-D_VERSION_=$(VERSION)' '-D_PREFIX_=$(PREFIX)' $< > $@@
 
 $(EXPANDED_LO_FILES): $(BUILD_DIR)/%.lo: gexiv2/%.cpp $(EXPANDED_HEADER_FILES) $(CONFIG_IN) Makefile
 	@@pkg-config --print-errors --exists '$(EXT_PKG_VERSIONS)'
 	@@mkdir -p $(BUILD_DIR)
-	libtool --mode=compile --tag=CC $(CXX) -c $(EXT_PKGS_CFLAGS) $(CFLAGS) $(CPPFLAGS) -I. -o $@@ $<
+	${LIBTOOL} --mode=compile --tag=CC $(CXX) -c $(EXT_PKGS_CFLAGS) $(CFLAGS) $(CPPFLAGS) -I. -o $@@ $<
 
 $(LIBRARY_BIN): $(EXPANDED_LO_FILES)
 	libtool --mode=link --tag=CC $(CXX) -rpath $(PREFIX)/$(LIB) $(EXPANDED_LO_FILES) $(EXT_PKGS_LDFLAGS) $(CFLAGS) $(CPPFLAGS) $(LDFLAGS) -version-info $(VERSION_INFO) -o $(LIBRARY_BIN)
+	${LIBTOOL} --mode=link --tag=CC $(CXX) -rpath $(PREFIX)/$(LIB) $(EXPANDED_LO_FILES) $(EXT_PKGS_LDFLAGS) $(CFLAGS) $(CPPFLAGS) $(LDFLAGS) -o $(LIBRARY_BIN)
 
@


1.6
log
@Update to libgexiv2-0.6.1.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.5 2012/04/05 12:58:14 ajacoutot Exp $
@


1.5
log
@Update to stable libgexiv2-0.4.1.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.4 2012/02/26 15:08:36 ajacoutot Exp $
--- Makefile.orig	Thu Mar 29 00:41:52 2012
+++ Makefile	Thu Apr  5 14:36:16 2012
@@@@ -137,7 +137,7 @@@@ vapi: $(VAPI_FILE)
d13 1
a13 1
@@@@ -150,7 +150,7 @@@@ install-vapi:
d22 1
a22 1
@@@@ -162,13 +162,13 @@@@ $(VAPI_FILE): $(EXPANDED_VAPI_INPUT) $(DESTDIR_HEADER_
d29 1
a29 1
 $(EXPANDED_OBJ_FILES): $(BUILD_DIR)/%.o: gexiv2/%.cpp $(EXPANDED_HEADER_FILES) $(CONFIG_IN) Makefile
d32 2
a33 2
-	libtool --mode=compile --tag=CC $(CXX) -c $(EXT_PKGS_CFLAGS) $(CFLAGS) -I. -o $@@ $<
+	${LIBTOOL} --mode=compile --tag=CC $(CXX) -c $(EXT_PKGS_CFLAGS) $(CFLAGS) -I. -o $@@ $<
d35 3
a37 3
 $(LIBRARY_BIN): $(EXPANDED_OBJ_FILES)
-	libtool --mode=link --tag=CC $(CXX) -rpath $(PREFIX)/$(LIB) $(EXPANDED_LO_FILES) $(EXT_PKGS_LDFLAGS) $(CFLAGS) $(LDFLAGS) -version-info $(VERSION_INFO) -o $(LIBRARY_BIN)
+	${LIBTOOL} --mode=link --tag=CC $(CXX) -rpath $(PREFIX)/$(LIB) $(EXPANDED_LO_FILES) $(EXT_PKGS_LDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(LIBRARY_BIN)
@


1.4
log
@Update to libgexiv2-0.3.91.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.3 2011/10/28 21:58:48 jasper Exp $
--- Makefile.orig	Mon Feb 13 22:09:13 2012
+++ Makefile	Sun Feb 26 15:12:31 2012
@@@@ -123,7 +123,7 @@@@ vapi: $(VAPI_FILE)
d13 1
a13 1
@@@@ -136,7 +136,7 @@@@ install-vapi:
d22 1
a22 1
@@@@ -148,13 +148,13 @@@@ $(VAPI_FILE): $(EXPANDED_VAPI_INPUT) $(DESTDIR_HEADER_
d36 1
a36 1
-	libtool --mode=link --tag=CC $(CXX) -rpath $(PREFIX)/$(LIB) $(EXPANDED_LO_FILES) $(EXT_PKGS_LDFLAGS) $(CFLAGS) $(LDFLAGS) -o $(LIBRARY_BIN)
@


1.3
log
@- update to 0.3.1 to track exiv2 update
- fix HOMEPAGE
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.2 2011/01/17 09:59:02 landry Exp $
--- Makefile.orig	Wed Mar 23 00:33:47 2011
+++ Makefile	Fri Oct 28 17:26:16 2011
@@@@ -124,7 +124,7 @@@@ vapi: $(VAPI_FILE)
d13 1
a13 1
@@@@ -137,7 +137,7 @@@@ install-vapi:
d22 2
a23 2
@@@@ -149,13 +149,13 @@@@ $(VAPI_FILE): $(EXPANDED_VAPI_INPUT) $(DESTDIR_HEADER_
 	vapigen --library=$(PKGNAME) --metadata=vapi/$(PKGNAME).metadata vapi/$(PKGNAME).gi
d25 1
a25 1
 $(PC_FILE) : $(PC_INPUT) Makefile $(CONFIG_IN)
@


1.2
log
@Bugfix update to libgexiv2 0.2.2.
"This update fixes a bug where a photo file with malformed EXIF could
cause a crash."
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.1.1.1 2010/10/24 22:29:50 landry Exp $
--- Makefile.orig	Thu Dec 23 22:20:13 2010
+++ Makefile	Mon Jan 17 10:54:50 2011
@@@@ -134,7 +134,7 @@@@ vapi: $(VAPI_FILE)
d13 1
a13 1
@@@@ -147,7 +147,7 @@@@ install-vapi:
d22 1
a22 1
@@@@ -159,13 +159,13 @@@@ $(VAPI_FILE): $(EXPANDED_VAPI_INPUT) $(DESTDIR_HEADER_
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.orig	Sat Aug 21 01:07:07 2010
+++ Makefile	Mon Sep  6 21:45:03 2010
d22 1
a22 1
@@@@ -158,13 +158,13 @@@@ $(VAPI_FILE): $(EXPANDED_VAPI_INPUT) $(DESTDIR_HEADER_
@


1.1.1.1
log
@Import libgexiv2 0.2.1, needed by an upcoming shotwell port:
gexiv2 is a GObject-based wrapper around the Exiv2 library.  It makes
the basic features of Exiv2 available to GNOME applications.

ok ajacoutot@@ jasper@@
@
text
@@
