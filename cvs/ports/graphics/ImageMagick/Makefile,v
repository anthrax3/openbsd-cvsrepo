head	1.168;
access;
symbols
	OPENBSD_6_1:1.162.0.2
	OPENBSD_6_1_BASE:1.162
	OPENBSD_6_0:1.155.0.2
	OPENBSD_6_0_BASE:1.155
	OPENBSD_5_9:1.141.0.2
	OPENBSD_5_9_BASE:1.141
	OPENBSD_5_8:1.138.0.4
	OPENBSD_5_8_BASE:1.138
	OPENBSD_5_7:1.135.0.4
	OPENBSD_5_7_BASE:1.135
	OPENBSD_5_6:1.135.0.2
	OPENBSD_5_6_BASE:1.135
	OPENBSD_5_5:1.132.0.2
	OPENBSD_5_5_BASE:1.132
	OPENBSD_5_4:1.128.0.2
	OPENBSD_5_4_BASE:1.128
	OPENBSD_5_3:1.125.0.2
	OPENBSD_5_3_BASE:1.125
	OPENBSD_5_2:1.124.0.2
	OPENBSD_5_2_BASE:1.124
	OPENBSD_5_1_BASE:1.118
	OPENBSD_5_1:1.118.0.2
	OPENBSD_5_0:1.113.0.2
	OPENBSD_5_0_BASE:1.113
	OPENBSD_4_9:1.111.0.2
	OPENBSD_4_9_BASE:1.111
	OPENBSD_4_8:1.106.0.2
	OPENBSD_4_8_BASE:1.106
	OPENBSD_4_7:1.105.0.2
	OPENBSD_4_7_BASE:1.105
	OPENBSD_4_6:1.104.0.2
	OPENBSD_4_6_BASE:1.104
	OPENBSD_4_5:1.103.0.2
	OPENBSD_4_5_BASE:1.103
	OPENBSD_4_4:1.101.0.2
	OPENBSD_4_4_BASE:1.101
	OPENBSD_4_3:1.100.0.2
	OPENBSD_4_3_BASE:1.100
	OPENBSD_4_2:1.96.0.2
	OPENBSD_4_2_BASE:1.96
	OPENBSD_4_1:1.94.0.2
	OPENBSD_4_1_BASE:1.94
	OPENBSD_4_0:1.91.0.2
	OPENBSD_4_0_BASE:1.91
	OPENBSD_3_9:1.90.0.2
	OPENBSD_3_9_BASE:1.90
	OPENBSD_3_8:1.83.0.2
	OPENBSD_3_8_BASE:1.83
	OPENBSD_3_7:1.78.0.2
	OPENBSD_3_7_BASE:1.78
	OPENBSD_3_6:1.72.0.2
	OPENBSD_3_6_BASE:1.72
	OPENBSD_3_5:1.64.0.2
	OPENBSD_3_5_BASE:1.64
	OPENBSD_3_4:1.61.0.2
	OPENBSD_3_4_BASE:1.61
	OPENBSD_3_3:1.57.0.2
	OPENBSD_3_3_BASE:1.57
	OPENBSD_3_2:1.56.0.2
	OPENBSD_3_2_BASE:1.56
	OPENBSD_3_1:1.54.0.2
	OPENBSD_3_1_BASE:1.54
	OPENBSD_3_0:1.53.0.2
	OPENBSD_3_0_BASE:1.53
	OPENBSD_2_9_TRACKING_SWITCH:1.53
	OPENBSD_2_9:1.50.0.2
	OPENBSD_2_9_BASE:1.50
	OPENBSD_2_8:1.43.0.2
	OPENBSD_2_8_BASE:1.43
	OPENBSD_2_7:1.30.0.2
	OPENBSD_2_7_BASE:1.30
	OPENBSD_2_6:1.20.0.2
	OPENBSD_2_6_BASE:1.20
	OPENBSD_2_5:1.10.0.2
	OPENBSD_2_5_BASE:1.10
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	marc_1998-may-23:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.168
date	2017.09.06.14.18.08;	author sthen;	state Exp;
branches;
next	1.167;
commitid	3vX5jlfmTSRlAIvs;

1.167
date	2017.07.26.22.45.23;	author sthen;	state Exp;
branches;
next	1.166;
commitid	tD4MFrpYYDDL2UFT;

1.166
date	2017.07.18.16.05.12;	author sthen;	state Exp;
branches;
next	1.165;
commitid	atetSxrGPXBT9POn;

1.165
date	2017.07.16.19.18.56;	author espie;	state Exp;
branches;
next	1.164;
commitid	tt0GhWK5c4uf9ILG;

1.164
date	2017.05.21.15.02.41;	author sthen;	state Exp;
branches;
next	1.163;
commitid	HCVa7hcC2hz2F1CA;

1.163
date	2017.04.10.11.46.20;	author sthen;	state Exp;
branches;
next	1.162;
commitid	BLsh88fJB8thZTwY;

1.162
date	2017.03.28.10.51.37;	author sthen;	state Exp;
branches;
next	1.161;
commitid	vpdVHiikdfDOlkFQ;

1.161
date	2016.12.22.21.26.20;	author sthen;	state Exp;
branches;
next	1.160;
commitid	3OfZMZPuptgDpOTQ;

1.160
date	2016.12.06.14.44.23;	author sthen;	state Exp;
branches;
next	1.159;
commitid	rjGsrS7cfmse86SX;

1.159
date	2016.11.13.20.54.46;	author sthen;	state Exp;
branches;
next	1.158;
commitid	daFPNOcuFHkNUqkA;

1.158
date	2016.09.13.15.29.01;	author naddy;	state Exp;
branches;
next	1.157;
commitid	ZR0IP7QclqedYIO6;

1.157
date	2016.08.12.13.38.49;	author sthen;	state Exp;
branches;
next	1.156;
commitid	dd5y6hpvaUAbo3j3;

1.156
date	2016.08.02.22.52.55;	author sthen;	state Exp;
branches;
next	1.155;
commitid	jRf98v7Cz69gJ9OI;

1.155
date	2016.06.27.23.10.47;	author sthen;	state Exp;
branches;
next	1.154;
commitid	RU2CGCDtbhMia90u;

1.154
date	2016.06.13.13.17.57;	author sthen;	state Exp;
branches;
next	1.153;
commitid	UNuMkvr6yHldkQ55;

1.153
date	2016.06.11.11.58.00;	author sthen;	state Exp;
branches;
next	1.152;
commitid	WwaZwSL4r7paFOTC;

1.152
date	2016.06.02.14.51.41;	author sthen;	state Exp;
branches;
next	1.151;
commitid	yuHKJ5vgAMnLKcv6;

1.151
date	2016.05.31.09.00.40;	author sthen;	state Exp;
branches;
next	1.150;
commitid	yyeG7vqH2IllxMor;

1.150
date	2016.05.30.12.02.53;	author sthen;	state Exp;
branches;
next	1.149;
commitid	zHX44PYNP2KXDdp8;

1.149
date	2016.05.19.19.49.14;	author sthen;	state Exp;
branches;
next	1.148;
commitid	906xghyPYjZb9ttf;

1.148
date	2016.05.12.21.49.15;	author sthen;	state Exp;
branches;
next	1.147;
commitid	uu2ftyzvWbCGXNC5;

1.147
date	2016.05.06.20.16.35;	author sthen;	state Exp;
branches;
next	1.146;
commitid	f8dxG6CiJkWq3dkI;

1.146
date	2016.05.01.13.45.00;	author sthen;	state Exp;
branches;
next	1.145;
commitid	KtHQbrtTGaZRCbag;

1.145
date	2016.04.18.10.03.51;	author sthen;	state Exp;
branches;
next	1.144;
commitid	cZJJUhREACEc9xJu;

1.144
date	2016.03.18.21.38.23;	author naddy;	state Exp;
branches;
next	1.143;
commitid	BVkebQSTXSZokeRG;

1.143
date	2016.03.11.20.28.25;	author naddy;	state Exp;
branches;
next	1.142;
commitid	UYLP8TE6V7RS2GhJ;

1.142
date	2016.03.08.00.27.03;	author sthen;	state Exp;
branches;
next	1.141;
commitid	iw3XhNVukHaatK1Q;

1.141
date	2016.01.07.23.44.09;	author sthen;	state Exp;
branches
	1.141.2.1;
next	1.140;
commitid	8NfbRmk4mtUGEgP4;

1.140
date	2015.11.29.10.44.58;	author sthen;	state Exp;
branches;
next	1.139;
commitid	FbsRcBi4aKyaSW08;

1.139
date	2015.11.06.20.37.21;	author sthen;	state Exp;
branches;
next	1.138;
commitid	FPc2cn4cBl8iHChc;

1.138
date	2015.06.08.06.55.00;	author ajacoutot;	state Exp;
branches;
next	1.137;
commitid	vfXeHMVdlxKOpvip;

1.137
date	2015.06.01.06.54.02;	author ajacoutot;	state Exp;
branches;
next	1.136;
commitid	qzZBkqML3PA212xt;

1.136
date	2015.05.14.06.39.13;	author ajacoutot;	state Exp;
branches;
next	1.135;
commitid	1bjftUXkuMd9hfqK;

1.135
date	2014.07.04.13.47.44;	author brad;	state Exp;
branches;
next	1.134;
commitid	7jONN2bc5MGVnnAC;

1.134
date	2014.06.14.10.34.45;	author sthen;	state Exp;
branches;
next	1.133;
commitid	HiKZ10xJk2o55vyF;

1.133
date	2014.04.13.01.01.39;	author naddy;	state Exp;
branches;
next	1.132;

1.132
date	2014.02.13.08.33.02;	author sthen;	state Exp;
branches;
next	1.131;

1.131
date	2013.09.05.12.15.55;	author naddy;	state Exp;
branches;
next	1.130;

1.130
date	2013.08.12.10.03.00;	author sthen;	state Exp;
branches;
next	1.129;

1.129
date	2013.08.11.18.41.15;	author zhuk;	state Exp;
branches;
next	1.128;

1.128
date	2013.06.04.18.41.46;	author naddy;	state Exp;
branches
	1.128.2.1;
next	1.127;

1.127
date	2013.03.21.08.45.17;	author ajacoutot;	state Exp;
branches;
next	1.126;

1.126
date	2013.03.11.11.10.51;	author espie;	state Exp;
branches;
next	1.125;

1.125
date	2012.08.28.15.20.21;	author jasper;	state Exp;
branches
	1.125.2.1;
next	1.124;

1.124
date	2012.06.19.12.46.12;	author sthen;	state Exp;
branches
	1.124.2.1;
next	1.123;

1.123
date	2012.06.13.10.22.26;	author sthen;	state Exp;
branches;
next	1.122;

1.122
date	2012.06.12.17.40.35;	author okan;	state Exp;
branches;
next	1.121;

1.121
date	2012.05.21.13.29.31;	author okan;	state Exp;
branches;
next	1.120;

1.120
date	2012.05.08.15.31.58;	author okan;	state Exp;
branches;
next	1.119;

1.119
date	2012.04.27.08.09.56;	author jasper;	state Exp;
branches;
next	1.118;

1.118
date	2011.12.02.14.36.14;	author espie;	state Exp;
branches
	1.118.2.1;
next	1.117;

1.117
date	2011.11.22.15.51.21;	author jasper;	state Exp;
branches;
next	1.116;

1.116
date	2011.11.01.20.30.49;	author jasper;	state Exp;
branches;
next	1.115;

1.115
date	2011.09.16.10.02.36;	author espie;	state Exp;
branches;
next	1.114;

1.114
date	2011.09.12.16.48.06;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2011.07.07.01.06.59;	author ajacoutot;	state Exp;
branches;
next	1.112;

1.112
date	2011.07.06.22.43.00;	author kili;	state Exp;
branches;
next	1.111;

1.111
date	2010.11.17.08.05.12;	author espie;	state Exp;
branches;
next	1.110;

1.110
date	2010.11.09.09.14.31;	author espie;	state Exp;
branches;
next	1.109;

1.109
date	2010.10.24.21.21.00;	author ajacoutot;	state Exp;
branches;
next	1.108;

1.108
date	2010.10.18.18.13.13;	author espie;	state Exp;
branches;
next	1.107;

1.107
date	2010.09.25.20.51.41;	author steven;	state Exp;
branches;
next	1.106;

1.106
date	2010.06.23.16.09.10;	author steven;	state Exp;
branches;
next	1.105;

1.105
date	2009.08.10.06.31.44;	author kili;	state Exp;
branches;
next	1.104;

1.104
date	2009.05.17.09.04.38;	author sthen;	state Exp;
branches;
next	1.103;

1.103
date	2008.11.29.05.00.20;	author okan;	state Exp;
branches;
next	1.102;

1.102
date	2008.11.20.13.29.56;	author okan;	state Exp;
branches;
next	1.101;

1.101
date	2008.05.02.19.52.19;	author sthen;	state Exp;
branches;
next	1.100;

1.100
date	2007.11.22.17.20.19;	author okan;	state Exp;
branches;
next	1.99;

1.99
date	2007.10.22.14.23.08;	author ajacoutot;	state Exp;
branches;
next	1.98;

1.98
date	2007.09.19.18.46.55;	author sthen;	state Exp;
branches;
next	1.97;

1.97
date	2007.09.15.20.09.40;	author simon;	state Exp;
branches;
next	1.96;

1.96
date	2007.05.20.19.44.47;	author steven;	state Exp;
branches;
next	1.95;

1.95
date	2007.04.09.20.47.27;	author kili;	state Exp;
branches;
next	1.94;

1.94
date	2007.01.31.14.34.58;	author bernd;	state Exp;
branches;
next	1.93;

1.93
date	2006.10.30.09.45.41;	author steven;	state Exp;
branches;
next	1.92;

1.92
date	2006.10.28.16.20.52;	author steven;	state Exp;
branches;
next	1.91;

1.91
date	2006.08.02.10.10.35;	author espie;	state Exp;
branches;
next	1.90;

1.90
date	2006.02.06.22.10.24;	author bernd;	state Exp;
branches;
next	1.89;

1.89
date	2006.01.28.19.56.16;	author bernd;	state Exp;
branches;
next	1.88;

1.88
date	2006.01.27.17.40.05;	author bernd;	state Exp;
branches;
next	1.87;

1.87
date	2006.01.15.14.24.21;	author steven;	state Exp;
branches;
next	1.86;

1.86
date	2006.01.14.00.07.28;	author espie;	state Exp;
branches;
next	1.85;

1.85
date	2006.01.05.20.11.15;	author espie;	state Exp;
branches;
next	1.84;

1.84
date	2005.12.28.14.56.54;	author steven;	state Exp;
branches;
next	1.83;

1.83
date	2005.06.28.18.08.23;	author naddy;	state Exp;
branches
	1.83.2.1;
next	1.82;

1.82
date	2005.06.04.14.39.21;	author naddy;	state Exp;
branches;
next	1.81;

1.81
date	2005.05.08.18.48.28;	author brad;	state Exp;
branches;
next	1.80;

1.80
date	2005.05.01.07.51.28;	author robert;	state Exp;
branches;
next	1.79;

1.79
date	2005.03.31.04.23.42;	author pvalchev;	state Exp;
branches;
next	1.78;

1.78
date	2005.01.09.11.06.38;	author alek;	state Exp;
branches
	1.78.2.1;
next	1.77;

1.77
date	2004.11.30.01.06.33;	author espie;	state Exp;
branches;
next	1.76;

1.76
date	2004.11.13.20.14.18;	author marc;	state Exp;
branches;
next	1.75;

1.75
date	2004.11.07.05.08.16;	author brad;	state Exp;
branches;
next	1.74;

1.74
date	2004.09.21.18.39.15;	author brad;	state Exp;
branches;
next	1.73;

1.73
date	2004.09.21.07.28.58;	author brad;	state Exp;
branches;
next	1.72;

1.72
date	2004.07.18.07.16.53;	author brad;	state Exp;
branches
	1.72.2.1;
next	1.71;

1.71
date	2004.07.13.18.55.43;	author brad;	state Exp;
branches;
next	1.70;

1.70
date	2004.07.13.17.24.29;	author brad;	state Exp;
branches;
next	1.69;

1.69
date	2004.07.10.23.52.02;	author brad;	state Exp;
branches;
next	1.68;

1.68
date	2004.07.09.19.40.36;	author brad;	state Exp;
branches;
next	1.67;

1.67
date	2004.07.09.04.45.36;	author brad;	state Exp;
branches;
next	1.66;

1.66
date	2004.07.02.01.53.09;	author brad;	state Exp;
branches;
next	1.65;

1.65
date	2004.06.24.07.44.58;	author brad;	state Exp;
branches;
next	1.64;

1.64
date	2004.03.08.23.36.50;	author xsa;	state Exp;
branches
	1.64.2.1;
next	1.63;

1.63
date	2004.02.25.02.35.16;	author naddy;	state Exp;
branches;
next	1.62;

1.62
date	2004.02.06.22.44.06;	author sturm;	state Exp;
branches;
next	1.61;

1.61
date	2003.09.09.00.47.57;	author pvalchev;	state Exp;
branches;
next	1.60;

1.60
date	2003.08.04.11.50.36;	author espie;	state Exp;
branches;
next	1.59;

1.59
date	2003.06.30.20.41.14;	author sturm;	state Exp;
branches;
next	1.58;

1.58
date	2003.04.19.13.30.47;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2003.01.04.17.01.08;	author lebel;	state Exp;
branches;
next	1.56;

1.56
date	2002.08.25.23.05.49;	author brad;	state Exp;
branches;
next	1.55;

1.55
date	2002.08.04.21.04.48;	author brad;	state Exp;
branches;
next	1.54;

1.54
date	2001.11.10.15.00.48;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2001.07.20.16.22.30;	author kevlo;	state Exp;
branches;
next	1.52;

1.52
date	2001.07.01.15.33.56;	author brad;	state Exp;
branches;
next	1.51;

1.51
date	2001.05.24.02.27.25;	author kevlo;	state Exp;
branches;
next	1.50;

1.50
date	2001.04.06.17.33.28;	author brad;	state Exp;
branches;
next	1.49;

1.49
date	2001.03.07.22.47.50;	author brad;	state Exp;
branches;
next	1.48;

1.48
date	2001.03.04.14.51.40;	author kevlo;	state Exp;
branches;
next	1.47;

1.47
date	2001.02.09.21.59.27;	author brad;	state Exp;
branches;
next	1.46;

1.46
date	2001.02.05.15.58.08;	author brad;	state Exp;
branches;
next	1.45;

1.45
date	2001.01.10.01.21.21;	author brad;	state Exp;
branches;
next	1.44;

1.44
date	2000.11.30.04.41.37;	author dugsong;	state Exp;
branches;
next	1.43;

1.43
date	2000.10.03.02.15.31;	author brad;	state Exp;
branches;
next	1.42;

1.42
date	2000.09.24.07.04.05;	author brad;	state Exp;
branches;
next	1.41;

1.41
date	2000.08.21.16.42.26;	author brad;	state Exp;
branches;
next	1.40;

1.40
date	2000.08.08.19.01.37;	author brad;	state Exp;
branches;
next	1.39;

1.39
date	2000.07.25.07.16.59;	author brad;	state Exp;
branches;
next	1.38;

1.38
date	2000.07.04.02.09.17;	author krw;	state Exp;
branches;
next	1.37;

1.37
date	2000.06.25.22.22.25;	author brad;	state Exp;
branches;
next	1.36;

1.36
date	2000.06.20.23.32.46;	author brad;	state Exp;
branches;
next	1.35;

1.35
date	2000.06.10.06.11.25;	author brad;	state Exp;
branches;
next	1.34;

1.34
date	2000.06.01.10.48.34;	author kevlo;	state Exp;
branches;
next	1.33;

1.33
date	2000.05.30.10.47.37;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2000.05.30.08.11.59;	author fgsch;	state Exp;
branches;
next	1.31;

1.31
date	2000.05.21.12.39.00;	author fgsch;	state Exp;
branches;
next	1.30;

1.30
date	2000.03.24.23.28.08;	author espie;	state Exp;
branches
	1.30.2.1;
next	1.29;

1.29
date	2000.03.14.01.40.04;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2000.03.05.18.30.27;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2000.02.15.05.04.30;	author turan;	state Exp;
branches;
next	1.26;

1.26
date	2000.02.12.06.29.54;	author turan;	state Exp;
branches;
next	1.25;

1.25
date	2000.01.20.04.10.26;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2000.01.09.05.57.48;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	99.12.27.06.14.20;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	99.12.19.01.28.52;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	99.10.27.20.49.08;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	99.09.01.18.51.24;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	99.07.09.23.14.38;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	99.05.24.05.22.46;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	99.05.22.08.39.19;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	99.05.21.18.47.25;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	99.05.20.23.25.55;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	99.05.09.07.23.25;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	99.05.08.04.51.25;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	99.05.06.02.10.12;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	99.04.18.20.58.41;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.04.06.00.09.52;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.03.02.04.41.02;	author marc;	state Exp;
branches;
next	1.8;

1.8
date	99.02.21.04.26.10;	author marc;	state Exp;
branches;
next	1.7;

1.7
date	99.02.19.05.01.47;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	99.02.18.02.37.28;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	98.11.24.00.07.10;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	98.06.14.08.10.25;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.06.10.02.56.12;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.06.07.19.25.41;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.05.23.19.00.10;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.23.19.00.10;	author marc;	state Exp;
branches;
next	;

1.30.2.1
date	2000.09.15.04.52.59;	author marc;	state Exp;
branches;
next	;

1.64.2.1
date	2004.12.30.19.31.15;	author sturm;	state Exp;
branches;
next	1.64.2.2;

1.64.2.2
date	2005.05.02.15.33.22;	author robert;	state Exp;
branches;
next	;

1.72.2.1
date	2004.12.30.19.37.18;	author sturm;	state Exp;
branches;
next	1.72.2.2;

1.72.2.2
date	2005.05.02.15.31.35;	author robert;	state Exp;
branches;
next	;

1.78.2.1
date	2005.05.25.05.50.19;	author robert;	state Exp;
branches;
next	1.78.2.2;

1.78.2.2
date	2006.02.01.20.53.32;	author sturm;	state Exp;
branches;
next	;

1.83.2.1
date	2006.02.01.20.55.24;	author sturm;	state Exp;
branches;
next	;

1.118.2.1
date	2012.04.27.09.23.04;	author jasper;	state Exp;
branches;
next	;

1.124.2.1
date	2012.08.28.15.21.07;	author jasper;	state Exp;
branches;
next	;

1.125.2.1
date	2013.10.28.13.35.22;	author jasper;	state Exp;
branches;
next	;

1.128.2.1
date	2013.10.30.12.52.04;	author jasper;	state Exp;
branches;
next	;

1.141.2.1
date	2016.05.06.21.30.22;	author sthen;	state Exp;
branches;
next	1.141.2.2;
commitid	A0gAmNm4YTGSF3lU;

1.141.2.2
date	2016.05.19.19.53.34;	author sthen;	state Exp;
branches;
next	1.141.2.3;
commitid	Jynm346XHLQekoNz;

1.141.2.3
date	2016.06.11.11.59.31;	author sthen;	state Exp;
branches;
next	1.141.2.4;
commitid	c3fq7SVXn6pH2TXs;

1.141.2.4
date	2016.06.28.09.52.07;	author jasper;	state Exp;
branches;
next	;
commitid	rHTp8qoSCSrLk36L;


desc
@@


1.168
log
@update to ImageMagick 6.9.9-11
@
text
@# $OpenBSD: Makefile,v 1.167 2017/07/26 22:45:23 sthen Exp $

COMMENT=		image processing tools

VER=			6.9.9
DASHVER=		11
DISTNAME=		ImageMagick-${VER}-${DASHVER}
PKGNAME=		ImageMagick-${VER}.${DASHVER}
PORTROACH=		site:https://www.imagemagick.org/download/ limit:6.*
EXTRACT_SUFX=		.tar.xz

SHARED_LIBS +=	MagickCore-6.Q16     3.3      # 5.0
SHARED_LIBS +=	MagickWand-6.Q16     3.1      # 5.0
SHARED_LIBS +=	Magick++-6.Q16       5.1      # 8.0

CATEGORIES=		graphics

HOMEPAGE=		https://www.imagemagick.org/

MAINTAINER=		Stuart Henderson <sthen@@openbsd.org>

MASTER_SITES=		https://www.imagemagick.org/download/releases/ \
			ftp://sunsite.icm.edu.pl/packages/ImageMagick/

# http://www.imagemagick.org/script/license.php
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ICE SM X11 Xau Xdmcp Xext Xt bz2 c djvulibre expat
WANTLIB += fftw3 fontconfig freetype iconv jbig jpeg lcms2 lzma m
WANTLIB += openjp2 perl png pthread pthread-stubs ${COMPILER_LIBCXX} tiff
WANTLIB += webp xcb xml2 z

LIB_DEPENDS =		archivers/bzip2 \
			archivers/xz \
			converters/libiconv \
			graphics/djvulibre \
			graphics/jbigkit \
			graphics/png \
			graphics/tiff \
			graphics/lcms2 \
			graphics/libwebp \
			graphics/openjp2 \
			math/fftw3 \
			textproc/libxml
BUILD_DEPENDS =		print/ghostscript/gnu

ALL_TARGET=		all perl-build

CONFIGURE_STYLE=	autoconf
LIBTOOL_FLAGS=		--tag=disable-static
AUTOCONF_VERSION=	2.69
USE_GMAKE=		Yes
CONFIGURE_ARGS+=	--without-gcc-arch \
			--with-gs-font-dir=${LOCALBASE}/share/fonts/ghostscript \
			--with-perl \
			--with-perl-options='MAKE=${MAKE_PROGRAM}' \
			--with-quantum-depth=16 \
			--without-dps \
			--without-fpx \
			--without-gvc \
			--without-lqr \
			--without-openexr \
			--without-pango \
			--without-rsvg \
			--without-wmf \
			--disable-openmp

CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include/libxml2 -I${LOCALBASE}/include" \
			LDFLAGS="-L${WRKBUILD}/magick/.libs -L${WRKBUILD}/wand/.libs -L${LOCALBASE}/lib" \
			ac_cv_path_LaunchDelegate=no

pre-configure:
	cd ${WRKSRC}; ${SUBST_CMD} $$(find . -name '*.pc.in')

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/ImageMagick
.for i in coder.xml colors.xml delegates.xml log.xml magic.xml \
	mime.xml policy.xml quantization-table.xml \
	thresholds.xml type-dejavu.xml type-ghostscript.xml \
	type-windows.xml type.xml
	${INSTALL_DATA} ${WRKSRC}/config/$i ${PREFIX}/share/examples/ImageMagick
.endfor

.include <bsd.port.mk>
@


1.167
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.166 2017/07/18 16:05:12 sthen Exp $
d6 1
a6 1
DASHVER=		0
a10 1
REVISION=		0
d12 1
a12 1
SHARED_LIBS +=	MagickCore-6.Q16     3.2      # 5.0
@


1.166
log
@security update to ImageMagick-6.9.9-0 (crafted RLE image can trigger a crash
because of incorrect EOF handling in coders/rle.c)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.165 2017/07/16 19:18:56 espie Exp $
d11 1
@


1.165
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.164 2017/05/21 15:02:41 sthen Exp $
d5 2
a6 2
VER=			6.9.8
DASHVER=		6
d12 3
a14 3
SHARED_LIBS +=	MagickCore-6.Q16     3.1      # 4.0
SHARED_LIBS +=	MagickWand-6.Q16     3.0      # 4.0
SHARED_LIBS +=	Magick++-6.Q16       5.1      # 7.0
@


1.164
log
@update to ImageMagick-6.9.8-6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.163 2017/04/10 11:46:20 sthen Exp $
d30 1
a30 1
WANTLIB += openjp2 perl png pthread pthread-stubs ${LIBCXX} tiff
@


1.163
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.162 2017/03/28 10:51:37 sthen Exp $
d6 1
a6 1
DASHVER=		3
@


1.162
log
@update to ImageMagick 6.9.8-3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.161 2016/12/22 21:26:20 sthen Exp $
d30 1
a30 1
WANTLIB += openjp2 perl png pthread pthread-stubs stdc++ tiff
@


1.161
log
@update to ImageMagick-6.9.7-0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.160 2016/12/06 14:44:23 sthen Exp $
d5 2
a6 2
VER=			6.9.7
DASHVER=		0
d12 3
a14 3
SHARED_LIBS +=	MagickCore-6.Q16     3.0      # 3.0
SHARED_LIBS +=	MagickWand-6.Q16     3.0      # 3.0
SHARED_LIBS +=	Magick++-6.Q16       5.0      # 7.0
@


1.160
log
@update to ImageMagick-6.9.6-7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.159 2016/11/13 20:54:46 sthen Exp $
d5 2
a6 2
VER=			6.9.6
DASHVER=		7
d12 3
a14 3
SHARED_LIBS +=	MagickCore-6.Q16     2.2      # 2.0
SHARED_LIBS +=	MagickWand-6.Q16     2.0      # 2.0
SHARED_LIBS +=	Magick++-6.Q16       4.0      # 6.0
@


1.159
log
@update to ImageMagick 6.9.6-4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2016/09/13 15:29:01 naddy Exp $
d6 1
a6 1
DASHVER=		4
d14 1
a14 1
SHARED_LIBS +=	Magick++-6.Q16       3.0      # 6.0
@


1.158
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2016/08/12 13:38:49 sthen Exp $
d5 2
a6 2
VER=			6.9.5
DASHVER=		5
d9 1
a9 1
PORTROACH=		site:https://www.imagemagick.org/download/
@


1.157
log
@update to ImageMagick-6.9.5-5; buffer overflow, use-after-free
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2016/08/02 22:52:55 sthen Exp $
d29 1
a29 1
WANTLIB += fftw3 fontconfig freetype jbig jpeg lcms2 lzma m
a32 2
MODULES =		converters/libiconv

d35 1
@


1.156
log
@update to ImageMagick-6.9.5-4, with (amongst others) some buffer overflow fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2016/06/27 23:10:47 sthen Exp $
d6 1
a6 1
DASHVER=		4
@


1.155
log
@update to ImageMagick-6.9.4.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2016/06/13 13:17:57 sthen Exp $
d5 2
a6 2
VER=			6.9.4
DASHVER=		10
@


1.154
log
@bugfix update to ImageMagick-6.9.4-9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2016/06/11 11:58:00 sthen Exp $
d6 1
a6 1
DASHVER=		9
@


1.153
log
@update to ImageMagick 6.9.4-8, from Brad (fixes include a heap overflow)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2016/06/02 14:51:41 sthen Exp $
d6 1
a6 1
DASHVER=		8
@


1.152
log
@your regular scheduled ImageMagick update to disable stupid stuff,
this time indirect reads by using @@ in the filename. also, upstream
disabled popen by default, so no need for the autoconf trick.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2016/05/31 09:00:40 sthen Exp $
d6 1
a6 1
DASHVER=		6
@


1.151
log
@Update to ImageMagick-6.9.4-5. Similar diff (but without the bump) from
Rafael Sadowski.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2016/05/30 12:02:53 sthen Exp $
d6 1
a6 1
DASHVER=		5
a71 3

# neuter popen() support; CVE-2016-5118
CONFIGURE_ENV+=		ac_cv_func_popen=no
@


1.150
log
@Update to ImageMagick-6.9.4-4.

While there, neuter popen support ("convert '|echo Hello > hello.txt;' null:")
http://openwall.com/lists/oss-security/2016/05/29/7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2016/05/19 19:49:14 sthen Exp $
d6 1
a6 1
DASHVER=		4
d9 1
a9 1
PORTROACH=		site:http://www.imagemagick.org/download/
d12 1
a12 1
SHARED_LIBS +=	MagickCore-6.Q16     2.1      # 2.0
d18 1
a18 1
HOMEPAGE=		http://www.imagemagick.org/
d22 1
a22 1
MASTER_SITES=		http://www.imagemagick.org/download/releases/ \
@


1.149
log
@update to ImageMagick 6.9.4-3
* Fix pixel cache on disk regression
* Quote passwords when passed to a delegate program
* Can read geo-related EXIF metdata once-again
* Sanitize all delegate emedded formatting characters
* Don't sync pixel cache in AcquireAuthenticCacheView()
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2016/05/12 21:49:15 sthen Exp $
d6 1
a6 1
DASHVER=		3
d72 3
@


1.148
log
@update to ImageMagick 6.9.4-1
- Remove https delegate.
- Check for buffer overflow in magick/draw.c/DrawStrokePolygon().
- Replace show delegate title with image filename rather than label.
- Fix GetNextToken() off by one error.
- Remove support for internal ephemeral coder.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2016/05/06 20:16:35 sthen Exp $
d6 1
a6 1
DASHVER=		1
@


1.147
log
@update to ImageMagick 6.9.3-10, additional sanitisation of input filenames for
http/https delegates above what was already done in 6.9.3-9. (security)
https://www.imagemagick.org/discourse-server/viewtopic.php?f=4&t=29588
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2016/05/01 13:45:00 sthen Exp $
d5 2
a6 2
VER=			6.9.3
DASHVER=		10
@


1.146
log
@update to ImageMagick 6.9.3-9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2016/04/18 10:03:51 sthen Exp $
d6 1
a6 1
DASHVER=		9
@


1.145
log
@Update to ImageMagick 6.9.3-8. While there, set PORTROACH marker to try
and do something slightly more useful (the naming scheme doesn't work
very well with portroach, but hopefully pointing at /download/ rather
than letting it use /download/releases/ will mean it only picks up
changes to the minor release of the current version).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2016/03/18 21:38:23 naddy Exp $
d6 1
a6 1
DASHVER=		8
@


1.144
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2016/03/11 20:28:25 naddy Exp $
d6 1
a6 1
DASHVER=		7
d9 1
d12 2
a13 2
SHARED_LIBS +=	MagickCore-6.Q16     2.0      # 2.0
SHARED_LIBS +=	MagickWand-6.Q16     1.1      # 2.0
@


1.143
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.142 2016/03/08 00:27:03 sthen Exp $

SHARED_ONLY=		Yes
@


1.142
log
@update to ImageMagick-6.9.3-7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2016/01/07 23:44:09 sthen Exp $
d55 1
a55 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--without-gcc-arch \
@


1.141
log
@update to ImageMagick-6.9.3 and take maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2015/11/29 10:44:58 sthen Exp $
d8 1
a8 1
DASHVER=		0
d15 1
a15 1
SHARED_LIBS +=	Magick++-6.Q16       2.0      # 6.0
@


1.141.2.1
log
@MFC update to ImageMagick 6.9.3-10, additional sanitisation of input filenames
for http/https delegates above what was already done in 6.9.3-9. (security)
https://www.imagemagick.org/discourse-server/viewtopic.php?f=4&t=29588

dep bumps to follow
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.147 2016/05/06 20:16:35 sthen Exp $
d8 1
a8 1
DASHVER=		10
a10 1
PORTROACH=		site:http://www.imagemagick.org/download/
d13 3
a15 3
SHARED_LIBS +=	MagickCore-6.Q16     2.1      # 2.0
SHARED_LIBS +=	MagickWand-6.Q16     2.0      # 2.0
SHARED_LIBS +=	Magick++-6.Q16       3.0      # 6.0
d55 2
a56 1
CONFIGURE_ARGS+=	--without-gcc-arch \
@


1.141.2.2
log
@MFC ImageMagick update to 6.9.4-3.  Compared to previous version in -stable:

- Fix pixel cache on disk regression
- Quote passwords when passed to a delegate program.
- Can read geo-related EXIF metdata once-again
- Sanitize all delegate emedded formatting characters.
- Don't sync pixel cache in AcquireAuthenticCacheView()
- Remove https delegate
- Check for buffer overflow in magick/draw.c/DrawStrokePolygon()
- Replace show delegate title with image filename rather than label
- Fix GetNextToken() off by one error
- Remove support for internal ephemeral coder
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141.2.1 2016/05/06 21:30:22 sthen Exp $
d5 2
a6 2
VER=			6.9.4
DASHVER=		3
@


1.141.2.3
log
@pull ImageMagick-6.9.4-8 across to -stable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2016/06/11 11:58:00 sthen Exp $
d6 1
a6 1
DASHVER=		8
d9 1
a9 1
PORTROACH=		site:https://www.imagemagick.org/download/
d12 1
a12 1
SHARED_LIBS +=	MagickCore-6.Q16     2.2      # 2.0
d18 1
a18 1
HOMEPAGE=		https://www.imagemagick.org/
d22 1
a22 1
MASTER_SITES=		https://www.imagemagick.org/download/releases/ \
@


1.141.2.4
log
@update to ImageMagick-6.9.4.10 which includes fixes for CVE-2016-584{1,2}

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2016/06/27 23:10:47 sthen Exp $
d6 1
a6 1
DASHVER=		10
@


1.140
log
@update to ImageMagick-6.9.2-7, drop wmf delegate, move back to non-modular
build.

Since 6.9.0 the wmf delegate depends on MagickWand; with a non-modular
build the delegate is in MagickCore, meaning that if enabled, programs
can no longer link against just Core. In the last version of this port we
changed to the modular build to avoid the wmf issue, however as discovered
by Manolis Tzanidakis the modular build doesn't play nicely with programs
trying to use this from chroot e.g. common uses of pecl-imagick.

http://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=28634

At least some wmf functionality still seems to work even without the
delegate, but if you need this and run into problems, you could try
GraphicsMagick instead (prefix tools with 'gm' e.g. 'gm convert' instead
of just 'convert').
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2015/11/06 20:37:21 sthen Exp $
d7 2
a8 2
VER=			6.9.2
DASHVER=		7
d13 3
a15 3
SHARED_LIBS +=	MagickCore-6.Q16     1.0      # 2.0
SHARED_LIBS +=	MagickWand-6.Q16     1.0      # 2.0
SHARED_LIBS +=	Magick++-6.Q16       1.0      # 6.0
d19 3
a21 1
HOMEPAGE=		http://www.imagemagick.org
d47 1
a47 5

RUN_DEPENDS =		graphics/netpbm \
			print/ghostscript/gnu \
			print/transfig
BUILD_DEPENDS =		${RUN_DEPENDS}
@


1.139
log
@update to ImageMagick 6.9.2-5
- dependent ports will be fixed in the following commit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2015/06/08 06:55:00 ajacoutot Exp $
d8 1
a8 1
DASHVER=		5
d13 3
a15 3
SHARED_LIBS +=	MagickCore-6.Q16     0.0      # 2.0
SHARED_LIBS +=	MagickWand-6.Q16     0.0      # 2.0
SHARED_LIBS +=	Magick++-6.Q16       0.0      # 6.0
d28 3
a30 3
WANTLIB += fftw3 fontconfig freetype jbig jpeg lcms2 ltdl lzma
WANTLIB += m openjp2 perl png pthread pthread-stubs stdc++ tiff
WANTLIB += webp wmflite-0.2 xcb xml2 z
a35 1
			devel/libtool,-ltdl \
a41 1
			graphics/libwmf \
a44 2
#	XXX		graphics/libwmf
# ^^ doesn't detect properly in configure
d57 2
a58 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--without-gcc-arch \
a59 1
			--with-modules \
a62 1
			--with-wmf \
d70 1
@


1.138
log
@Do not pick up openmp.

from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2015/06/01 06:54:02 ajacoutot Exp $
d7 2
a8 3
VER=			6.7.7
DASHVER=		7
REVISION=		10
d11 1
d13 3
a15 3
SHARED_LIBS +=		Magick++	15.0	# .1.0
SHARED_LIBS +=		MagickCore	3.0	# .1.0
SHARED_LIBS +=		MagickWand	3.0	# .1.0
d21 2
a22 6
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=imagemagick/} \
			${HOMEPAGE}/download/ \
			ftp://ftp.fu-berlin.de/unix/X11/graphics/ImageMagick/ \
			ftp://ftp.fu-berlin.de/unix/X11/graphics/ImageMagick/legacy/ \
			http://gd.tuwien.ac.at/graphics/ImageMagick/ \
			http://gd.tuwien.ac.at/graphics/ImageMagick/legacy/
d27 4
a30 4
WANTLIB =		ICE SM X11 Xau Xdmcp Xext Xt c bz2 djvulibre expat \
			fftw3 fontconfig freetype jasper jbig jpeg lcms2 \
			lzma ltdl m perl png pthread pthread-stubs stdc++ \
			tiff webp wmflite-0.2 wmf-0.2 xcb xml2 z
d44 1
a44 1
			graphics/jasper \
d47 2
d57 4
a60 1
CONFIGURE_STYLE=	gnu
d62 6
a67 1
CONFIGURE_ARGS+=	--with-quantum-depth=16 \
a72 1
			--without-modules \
a74 1
			--with-perl \
a75 4
			--with-gs-font-dir=${LOCALBASE}/share/fonts/ghostscript \
			--with-ltdl-include=${LOCALBASE}/include \
			--with-ltdl-lib=${LOCALBASE}/lib \
			--disable-ltdl-install \
d80 1
a80 2
			ac_cv_path_LaunchDelegate=no \
			ac_cv_lib_wmflite_wmf_lite_create=no
@


1.137
log
@Fix ghostscript font directory.

reported by deraadt@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2015/05/14 06:39:13 ajacoutot Exp $
d75 2
a76 1
			--disable-ltdl-install
@


1.136
log
@No need to pass PTHREAD_CFLAGS nor PTHREAD_LIBS anymore.
from brad

Tested in a bulk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2014/07/04 13:47:44 brad Exp $
d9 1
a9 1
REVISION=		9
d72 1
@


1.135
log
@Enable WebP support.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2014/06/14 10:34:45 sthen Exp $
d9 1
a9 1
REVISION=		8
a77 1
			PTHREAD_CFLAGS="-pthread" PTHREAD_LIBS="-pthread" \
@


1.134
log
@@@comment zero-byte perl .bs files in all packages which don't have p5-* PKGNAMEs
and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2014/04/13 01:01:39 naddy Exp $
d9 1
a9 1
REVISION=		7
d31 4
a34 4
WANTLIB =		ICE SM X11 Xext Xt c bz2 djvulibre expat fftw3 \
			fontconfig freetype jasper jbig jpeg lcms2 lzma \
			ltdl m perl png pthread pthread-stubs stdc++ \
			tiff wmflite-0.2 wmf-0.2 xcb xml2 z
d46 1
a71 1
			--without-webp \
@


1.133
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2014/02/13 08:33:02 sthen Exp $
d9 1
a9 1
REVISION=		6
@


1.132
log
@Adjust detection of freetype following the header move, this was breaking some
of ImageMagick's text-printing support. ok ajacoutot@@ espie@@ landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2013/09/05 12:15:55 naddy Exp $
a57 1
USE_GROFF =		Yes
@


1.131
log
@SECURITY:
CVE-2013-4298: Memory corruption while processing GIF comments
Fix from upstream, via Debian Bug #721273; ok giovanni@@

Also sync wantlib, suggested by giovanni@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2013/08/12 10:03:00 sthen Exp $
d9 1
a9 1
REVISION=		5
@


1.130
log
@de-conflict geomview/ImageMagick by renaming the affected manpage.
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2013/08/11 18:41:15 zhuk Exp $
d9 1
a9 1
REVISION=		4
d31 4
a34 4
WANTLIB =		c bz2>=10 djvulibre fftw3 jasper>=1 jbig>=1.2 jpeg \
			lcms2 lzma ltdl m perl png>=4 pthread stdc++ \
			tiff>=36 z ICE SM X11 Xext Xt expat fontconfig \
			freetype wmflite-0.2 wmf-0.2 xcb xml2>=9
@


1.129
log
@Mark explicit conflict between ImageMagick and geomview on man/man1/animate.1

okay landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2013/06/04 18:41:46 naddy Exp $
d9 1
a9 1
REVISION=		3
@


1.128
log
@the png headers are now directly under include/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2013/03/21 08:45:17 ajacoutot Exp $
d9 1
a9 1
REVISION=		2
@


1.128.2.1
log
@CVE-2013-4298: Memory corruption while processing GIF comments
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2013/06/04 18:41:46 naddy Exp $
d9 1
a9 1
REVISION=		3
@


1.127
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2013/03/11 11:10:51 espie Exp $
d77 1
a77 1
CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include/libxml2 -I${LOCALBASE}/include" \
@


1.126
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2012/08/28 15:20:21 jasper Exp $
a57 1
USE_LIBTOOL=		Yes
@


1.125
log
@Security fix for CVE-2012-3437, ImageMagick: Magick_png_malloc() size argument
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2012/06/19 12:46:12 sthen Exp $
a29 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.125.2.1
log
@CVE-2013-4298: Memory corruption while processing GIF comments
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2012/08/28 15:20:21 jasper Exp $
d9 1
a9 1
REVISION=		3
@


1.124
log
@revise pkgconfig files for ImageMagick to add -pthread and -L/usr/X11R6/lib
may not all be necessary, but this unbreaks things and we can revise later

with okan@@ and naddy@@, ok okan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2012/06/13 10:22:26 sthen Exp $
a7 1
REVISION=		1
d9 1
@


1.124.2.1
log
@Security fix for CVE-2012-3437, ImageMagick: Magick_png_malloc() size argument
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2012/06/19 12:46:12 sthen Exp $
d8 1
a8 1
REVISION=		2
@


1.123
log
@Add --without-webp to ImageMagick's CONFIGURE_ARGS to remove a hidden dep.
(We may want this anyway, but minimal fix for now). ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2012/06/12 17:40:35 okan Exp $
d8 1
a8 1
REVISION=		0
d37 1
a37 1
			freetype wmflite-0.2>=7 xcb xml2>=9
d84 5
a88 1
			ac_cv_path_LaunchDelegate=no
@


1.122
log
@update to 6.7.7.7

feedback and ok giovanni@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2012/05/21 13:29:31 okan Exp $
d8 1
d76 1
@


1.121
log
@fix access volation (in r3970 and r3978 upstream as well); reported by deraadt@@

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2012/05/08 15:31:58 okan Exp $
d7 2
a8 2
VER=			6.6.6
DASHVER=		10
a10 1
REVISION=		8
d12 3
a14 3
SHARED_LIBS +=		Magick++	14.0	# .1.0
SHARED_LIBS +=		MagickCore	2.0	# .1.0
SHARED_LIBS +=		MagickWand	2.0	# .1.0
d36 1
a36 1
			freetype wmf-0.2 wmflite-0.2>=7 xcb xml2>=9
d72 2
a73 1
			--with-perl=/usr/bin/perl \
d85 6
a90 5
	@@perl -pi -e s,'-L${WRKBUILD}/(magick|wand)/.libs','',g \
		${PREFIX}/bin/Magick-config
.for f in Magick++ MagickCore MagickWand
	@@perl -pi -e s,'-L${WRKBUILD}/(magick|wand)/.libs','',g \
		${PREFIX}/lib/lib${f}.la
@


1.120
log
@remove no_x11 FLAVOR

feedback and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2012/04/27 08:09:56 jasper Exp $
d11 1
a11 1
REVISION=		7
@


1.119
log
@Apply security fixes from upstream for CVE-2012-0260, CVE-2012-1798,
CVE-2012-1610, CVE-2012-0259.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2011/12/02 14:36:14 espie Exp $
d11 1
a11 1
REVISION=		6
d36 4
a39 1
			tiff>=36 z
d44 1
d49 1
d51 2
a52 1
			math/fftw3
d54 4
a57 2
RUN_DEPENDS=		graphics/netpbm
BUILD_DEPENDS=		graphics/netpbm
d66 1
a82 25

FLAVORS=		no_x11
FLAVOR?=

.if ${FLAVOR:Mno_x11}
LIB_DEPENDS +=		graphics/djvulibre,no_x11
RUN_DEPENDS +=		print/ghostscript/gnu,no_x11
BUILD_DEPENDS +=	print/ghostscript/gnu,no_x11
CONFIGURE_ENV +=	ac_cv_path_FIGDecodeDelegate=no
CONFIGURE_ARGS +=	--without-x \
			--without-freetype \
			--without-wmf
.else
MODULES +=		converters/libiconv
WANTLIB +=	 ICE SM X11 Xext Xt expat fontconfig freetype wmf wmf-0.2 \
	wmflite-0.2>=7 wmflite>=7 xcb xml2>=9
LIB_DEPENDS +=		graphics/libwmf \
			textproc/libxml \
			graphics/djvulibre
RUN_DEPENDS +=		print/ghostscript/gnu
RUN_DEPENDS +=		print/transfig
BUILD_DEPENDS +=	print/ghostscript/gnu
BUILD_DEPENDS +=	print/transfig
CONFIGURE_ARGS +=	--with-wmf
.endif
@


1.118
log
@bye bye FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2011/11/22 15:51:21 jasper Exp $
d11 1
a11 1
REVISION=		5
@


1.118.2.1
log
@Apply security fixes from upstream for CVE-2012-0260, CVE-2012-1798,
CVE-2012-1610, CVE-2012-0259.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2011/12/02 14:36:14 espie Exp $
d11 1
a11 1
REVISION=		6
@


1.117
log
@- this can build fine with our libtool; just make sure libltdl is present.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2011/11/01 20:30:49 jasper Exp $
d11 1
a11 1
REVISION=		4
d78 1
a78 1
.if ${FLAVOR:L:Mno_x11}
d88 2
a89 3
WANTLIB +=		ICE SM X11 Xext Xt expat fontconfig \
			freetype xcb wmf wmflite>=7 \
			xml2>=9
@


1.116
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2011/09/16 10:02:36 espie Exp $
d11 1
a11 1
REVISION=		3
d53 1
a53 2
# using libltdl stuff
USE_LIBTOOL=		gnu
@


1.115
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2011/09/12 16:48:06 ajacoutot Exp $
d11 1
a11 1
REVISION=		2
d35 1
a35 1
			lcms>=1 lzma ltdl m perl png>=4 pthread stdc++ \
d44 1
a44 1
			graphics/lcms \
d89 2
a90 2
WANTLIB +=		ICE SM X11 Xau Xdmcp Xext Xt expat fontconfig \
			freetype pthread-stubs xcb wmf wmflite>=7 \
@


1.114
log
@For the no_x11 FLAVOR, depend on djvulibre,no_x11.

ok giovanni@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2011/07/07 01:06:59 ajacoutot Exp $
d11 1
a11 1
REVISION=		1
@


1.113
log
@Remove some duplicate wantlibs, use the libiconv MODULE where applicable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2011/07/06 22:43:00 kili Exp $
d11 1
a11 1
REVISION=		0
a40 1
			graphics/djvulibre \
d80 1
d93 2
a94 1
			textproc/libxml
@


1.112
log
@Update to ImageMagick-6.6.6-10, with help from Brad.

An update to a more recent version (6.7.*) will follow soon.

This helps naddy with the png update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2010/11/17 08:05:12 espie Exp $
d11 1
d88 1
d90 1
a90 1
			freetype iconv pthread-stubs xcb wmf wmflite>=7 \
@


1.111
log
@new depends
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.110 2010/11/09 09:14:31 espie Exp $
d7 2
a8 2
VER=			6.4.5
DASHVER=		6
a10 1
REVISION =		0
d12 3
a14 3
SHARED_LIBS +=		Magick++	13.0	# .1.0
SHARED_LIBS +=		MagickCore	1.0	# .1.0
SHARED_LIBS +=		MagickWand	1.0	# .1.0
d33 3
a35 2
WANTLIB =		c jpeg m z bz2>=10 jbig>=1.2 png>=4 tiff>=36 \
			lcms>=1 jasper>=1
d38 3
d45 2
a46 1
			graphics/jasper
d51 2
a64 1
			--without-threads \
d73 1
d88 1
a88 1
			freetype iconv pthread-stubs xcb wmflite>=7 \
a97 2

WRKDIST=		${WRKDIR}/${DISTNAME:S/-${DASHVER}$//}
@


1.110
log
@more WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2010/10/24 21:21:00 ajacoutot Exp $
d32 2
a33 2
WANTLIB =		c jpeg m z bz2.>=10 jbig.>=1.2 png.>=4 tiff.>=36 \
			lcms.>=1 jasper.>=1
d35 6
a40 6
LIB_DEPENDS =		::archivers/bzip2 \
			::graphics/jbigkit \
			::graphics/png \
			::graphics/tiff \
			::graphics/lcms \
			::graphics/jasper
d42 2
a43 2
RUN_DEPENDS=		:netpbm-*:graphics/netpbm
BUILD_DEPENDS=		:netpbm-*:graphics/netpbm
d72 2
a73 2
RUN_DEPENDS +=		:ghostscript-*:print/ghostscript/gnu,no_x11
BUILD_DEPENDS +=	:ghostscript-*:print/ghostscript/gnu,no_x11
d80 8
a87 8
			freetype iconv pthread-stubs xcb wmflite.>=7 \
			xml2.>=9
LIB_DEPENDS +=		::graphics/libwmf \
			::textproc/libxml
RUN_DEPENDS +=		:ghostscript-*:print/ghostscript/gnu
RUN_DEPENDS +=		:transfig-*:print/transfig
BUILD_DEPENDS +=	:ghostscript-*:print/ghostscript/gnu
BUILD_DEPENDS +=	:transfig-*:print/transfig
@


1.109
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2010/10/18 18:13:13 espie Exp $
d8 2
a9 1
PKGNAME=		ImageMagick-${VER}.${DASHVER}p0
d32 2
a33 1
WANTLIB=		c jpeg m z
d35 6
a40 6
LIB_DEPENDS=		bz2.>=10::archivers/bzip2 \
			jbig.>=1.2::graphics/jbigkit \
			png.>=4::graphics/png \
			tiff.>=36::graphics/tiff \
			lcms.>=1::graphics/lcms \
			jasper.>=1::graphics/jasper
d47 1
a47 1
USE_GROFF =	Yes
d72 4
a75 4
RUN_DEPENDS+=		:ghostscript-*:print/ghostscript/gnu,no_x11
BUILD_DEPENDS+=		:ghostscript-*:print/ghostscript/gnu,no_x11
CONFIGURE_ENV+=		ac_cv_path_FIGDecodeDelegate=no
CONFIGURE_ARGS+=	--without-x \
d79 10
a88 9
WANTLIB+=		ICE SM X11 Xau Xdmcp Xext Xt expat fontconfig \
			freetype iconv pthread-stubs xcb
LIB_DEPENDS+=		wmflite.>=7::graphics/libwmf \
			xml2.>=9::textproc/libxml
RUN_DEPENDS+=		:ghostscript-*:print/ghostscript/gnu
RUN_DEPENDS+=		:transfig-*:print/transfig
BUILD_DEPENDS+=		:ghostscript-*:print/ghostscript/gnu
BUILD_DEPENDS+=		:transfig-*:print/transfig
CONFIGURE_ARGS+=	--with-wmf
@


1.108
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2010/09/25 20:51:41 steven Exp $
a78 1
USE_X11=		Yes
@


1.107
log
@indicate reason for gnu libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2010/06/23 16:09:10 steven Exp $
d45 1
@


1.106
log
@use gnu libtool (needs ltdl)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2009/05/17 09:04:38 sthen Exp $
d43 1
@


1.105
log
@WANTLIB changes after xcb addition and bump.
@
text
@d43 1
a43 1
USE_LIBTOOL=		Yes
@


1.104
log
@move sourceforge first in the MASTER_SITES list, they carry the old
legacy releases, other mirrors don't.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2008/11/29 05:00:20 okan Exp $
d8 1
a8 1
PKGNAME=		ImageMagick-${VER}.${DASHVER}
d76 1
a76 1
			freetype iconv
@


1.103
log
@- update to 6.4.5-6 (for real this time) and sync patches
- explicitly disable lqr (experimental liquid rescale)
- fix for building no_x11 FLAVOR with ImageMagick already installed

noticed by and previous ok kili@@, ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2008/11/20 13:29:56 okan Exp $
d18 2
a19 1
MASTER_SITES=		${HOMEPAGE}/download/ \
d21 1
d23 1
a23 1
			${MASTER_SITE_SOURCEFORGE:=imagemagick/}
@


1.102
log
@- long awaited update ImageMagick to 6.4.5-6
- now includes perl modules, superseding graphics/p5-PerlMagick

feedback from ajacoutot@@, kili@@ and naddy@@ (and bulk)

ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2008/05/02 19:52:19 sthen Exp $
d6 1
a6 1
DASHVER=		3
d48 1
d59 1
a59 1
			LDFLAGS="-L${LOCALBASE}/lib" \
@


1.101
log
@adding libwmf pulls in X libs; move it out of no_x11 flavor.
pointed out by Olivier Mehani - thanks!  ok okan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2007/11/22 17:20:19 okan Exp $
d5 2
a6 2
VER=			6.3.6
DASHVER=		10
d8 5
a12 4
PKGNAME=		ImageMagick-${VER}.${DASHVER}p0
SHARED_LIBS=		Magick++	12.1	\
			Magick		12.1	\
			Wand		12.1
d28 1
a39 1
REGRESS_DEPENDS= 	:p5-PerlMagick-${VER}.${DASHVER}:graphics/p5-PerlMagick
d42 1
a42 3
SEPARATE_BUILD=		concurrent
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.61
a44 1
			--without-dot \
d51 1
a51 1
			--without-perl \
d53 2
d58 1
a58 1
			LDFLAGS="-L${WRKBUILD}/magick/.libs -L${WRKBUILD}/wand/.libs -L${LOCALBASE}/lib" \
d65 1
d67 3
a69 2
RUN_DEPENDS+=		:ghostscript-*:print/ghostscript/gnu,no_x11
CONFIGURE_ARGS+=	--without-x --without-ttf --without-freetype \
a70 1
CONFIGURE_ENV+=		ac_cv_path_FIGDecodeDelegate=no
d72 5
a76 1
BUILD_DEPENDS+=		:ghostscript-*:print/ghostscript/gnu
a77 1
USE_X11=		Yes
d79 1
a80 1
WANTLIB+=		ICE SM X11 Xau Xdmcp Xext Xt expat fontconfig freetype iconv
a81 2
LIB_DEPENDS+=		wmflite.>=7::graphics/libwmf \
			xml2.>=9::textproc/libxml
a85 3
post-extract:
	@@rm -f ${WRKDIST}/utilities/*.1

d87 1
a87 1
	@@perl -pi -e s#'-L${WRKBUILD}/(magick|wand)/.libs '#''#g \
d89 2
a90 2
.for f in Magick++ Magick Wand
	@@perl -pi -e s#'-L${WRKBUILD}/(magick|wand)/.libs '#''#g \
@


1.100
log
@- update to 6.3.6-10
- add libwmf support

ok simon@@ merdely@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2007/10/22 14:23:08 ajacoutot Exp $
d8 1
a8 1
PKGNAME=		ImageMagick-${VER}.${DASHVER}
d27 1
a27 1
WANTLIB=		c iconv jpeg m z
a32 1
			xml2.>=9::textproc/libxml \
d34 1
a34 2
			jasper.>=1::graphics/jasper \
			wmflite.>=7::graphics/libwmf
a54 1
			--with-wmf \
d67 2
a68 1
CONFIGURE_ARGS+=	--without-x --without-ttf --without-freetype
d76 4
a79 1
WANTLIB+=		ICE SM X11 Xau Xdmcp Xext Xt expat fontconfig freetype 
@


1.99
log
@- add two mirrors that still carry older unmodified tarballs ;
somehow, the sourceforge mirrors are carrying a rerolled tarball with
different code (spotted by steven@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2007/09/19 18:46:55 sthen Exp $
d5 2
a6 2
VER=			6.3.5
DASHVER=		9
d9 3
a11 3
SHARED_LIBS=		Magick++	12.0	\
			Magick		12.0	\
			Wand		12.0
d35 2
a36 1
			jasper.>=1::graphics/jasper
d57 1
a57 1
			--without-wmf \
@


1.98
log
@update to 6.3.5-9 from Giovanni Bechis; this fixes various bugs
including a number of security vulnerabilities; see
http://www.imagemagick.org/script/changelog.php

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2007/09/15 20:09:40 simon Exp $
d18 2
@


1.97
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2007/05/20 19:44:47 steven Exp $
d5 2
a6 2
VER=			6.3.4
DASHVER=		1
@


1.96
log
@update to 6.3.4.1

feedback/ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2007/04/09 20:47:27 kili Exp $
d3 1
a3 1
COMMENT=		"image processing tools"
@


1.95
log
@
Fix WANTLIB, disable gvc (from math/graphviz), as discussed with
sturm@@ and steven@@, and bump pkgname.

ok, robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2007/01/31 14:34:58 bernd Exp $
d5 1
a5 1
VER=			6.3.2
d8 1
a8 1
PKGNAME=		ImageMagick-${VER}.${DASHVER}p0
d50 1
@


1.94
log
@Update to ImageMagick/p5-PerlMagick 6.3.2.1.

Initial diff from steven@@, updated to -1 by me.
Tested by steven@@ and Joachim Schipper. Thanks!

Removed myself from MAINTAINER.

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2006/10/30 09:45:41 steven Exp $
d8 1
a8 1
PKGNAME=		ImageMagick-${VER}.${DASHVER}
d48 1
d74 1
a74 1
WANTLIB+=		ICE SM X11 Xext Xt freetype
@


1.93
log
@- disable freetype in the no_x11 flavor
- disable rsvg which gets pulled in if it is installed

looks good bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2006/10/28 16:20:52 steven Exp $
d5 2
a6 2
VER=			6.3.0
DASHVER=		0
d8 4
a11 4
PKGNAME=		ImageMagick-${VER}.${DASHVER}p0
SHARED_LIBS=		Magick++	11.0	\
			Magick		11.0	\
			Wand		11.0
a13 1
MAINTAINER=		Bernd Ahlers <bernd@@openbsd.org>
d42 1
a42 1
AUTOCONF_VERSION=	2.59
@


1.92
log
@update to ImageMagick 6.3.0.0

ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2006/08/02 10:10:35 espie Exp $
d8 1
a8 1
PKGNAME=		ImageMagick-${VER}.${DASHVER}
d52 1
d66 1
a66 1
CONFIGURE_ARGS+=	--without-x --without-ttf
@


1.91
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2006/02/06 22:10:24 bernd Exp $
d5 2
a6 2
VER=			6.2.6
DASHVER=		1
d9 3
a11 3
SHARED_LIBS=		Magick++	10.1	\
			Magick		10.1	\
			Wand		10.1
d21 1
a21 1
# http://www.imagemagick.org/www/Copyright.html
@


1.90
log
@Security update to ImageMagick/p5-PerlMagick 6.2.6-1. (CVE-2006-0082)

More info:

http://studio.imagemagick.org/pipermail/magick-users/2006-January/017083.html

from jakemsr@@, ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2006/01/28 19:56:16 bernd Exp $
d28 7
a34 7
LIB_DEPENDS=		bz2.10::archivers/bzip2 \
			jbig.1.2::graphics/jbigkit \
			png.4::graphics/png \
			tiff.36::graphics/tiff \
			xml2.9::textproc/libxml \
			lcms.1::graphics/lcms \
			jasper.1::graphics/jasper
@


1.89
log
@Generate manpages with the correct path to the documentation.

From matthieu@@ some time ago. Thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2006/01/27 17:40:05 bernd Exp $
d6 1
a6 1
DASHVER=		0
d8 4
a11 4
PKGNAME=		ImageMagick-${VER}.${DASHVER}p0
SHARED_LIBS=		Magick++	10.0	\
			Magick		10.0	\
			Wand		10.0
d38 1
a38 1
REGRESS_DEPENDS= 	::graphics/p5-PerlMagick
@


1.88
log
@Update to ImageMagick and p5-PerlMagick version 6.2.6.0.

help, testing and "go ahead" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2006/01/15 14:24:21 steven Exp $
d8 1
a8 1
PKGNAME=		ImageMagick-${VER}.${DASHVER}
d77 3
@


1.87
log
@- remove unneeded MODGNU_SHARED_LIBS and related patches
- remove old libtool and ltdl patches since we use the in-tree versions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2006/01/14 00:07:28 espie Exp $
d3 1
a3 1
COMMENT=	"image processing tools"
d5 7
a11 22
VER=		6.2.3
DASHVER=	3
DISTNAME=	ImageMagick-${VER}-${DASHVER}
PKGNAME=	ImageMagick-${VER}.${DASHVER}p2
SHARED_LIBS=	Magick++	9.0	\
		Magick		8.3	\
		Wand		8.3
CATEGORIES=	graphics

HOMEPAGE=	http://www.imagemagick.org

MASTER_SITES=	${HOMEPAGE}/download/ \
		${MASTER_SITE_SOURCEFORGE:=imagemagick/}

LIB_DEPENDS+=	bz2.10::archivers/bzip2 \
		jbig.1.2::graphics/jbigkit \
		png.4::graphics/png \
		tiff.36::graphics/tiff \
		xml2.9::textproc/libxml \
		lcms.1::graphics/lcms \
		jasper.1::graphics/jasper \
		ltdl.4::devel/libtool,-ltdl
d13 2
a14 2
RUN_DEPENDS=	::graphics/mpeg-lib
BUILD_DEPENDS=	${RUN_DEPENDS}
d16 1
a16 1
REGRESS_DEPENDS= ::graphics/p5-PerlMagick
d18 2
a19 1
MAINTAINER=	Bernd Ahlers <b.ahlers@@ba-net.org>
d28 30
a57 18
USE_LIBTOOL=	Yes
SEPARATE_BUILD=	concurrent
CONFIGURE_STYLE= autoconf
AUTOCONF_VERSION= 2.59
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --with-quantum-depth=16 \
		 --without-dot \
		 --without-dps \
		 --without-fpx \
		 --without-modules \
		 --without-threads \
		 --without-perl \
		 --without-wmf \
		 --disable-ltdl-install

CONFIGURE_ENV+=	CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include/libxml2 -I${LOCALBASE}/include" \
		LDFLAGS="-L${WRKBUILD}/magick/.libs -L${WRKBUILD}/wand/.libs -L${LOCALBASE}/lib" \
		ac_cv_path_LaunchDelegate=no
d59 1
a59 1
FLAVORS=	no_x11
d63 4
a66 4
BUILD_DEPENDS+=	:ghostscript-*:print/ghostscript/gnu,no_x11
RUN_DEPENDS+=	:ghostscript-*:print/ghostscript/gnu,no_x11
CONFIGURE_ARGS+= --without-x --without-ttf
CONFIGURE_ENV+=	ac_cv_path_FIGDecodeDelegate=no
d68 6
a73 6
BUILD_DEPENDS+=	:ghostscript-*:print/ghostscript/gnu
RUN_DEPENDS+=	:ghostscript-*:print/ghostscript/gnu
USE_X11=	Yes
RUN_DEPENDS+=	:transfig-*:print/transfig
BUILD_DEPENDS+=	:transfig-*:print/transfig
WANTLIB+=	ICE SM X11 Xext Xt freetype
d76 1
a76 4
RUN_DEPENDS+=	:netpbm-*:graphics/netpbm
BUILD_DEPENDS+=	:netpbm-*:graphics/netpbm

WRKDIST=	${WRKDIR}/${DISTNAME:S/-${DASHVER}$//}
@


1.86
log
@more C++ libs bumps. Done thru mail, plus lizards.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2006/01/05 20:11:15 espie Exp $
d9 3
a11 7
SHARED_LIBS=		Magick++	9.0	\
			Magick		8.3	\
			Wand		8.3
MODGNU_SHARED_LIBS=	Magick++	''	\
			Magick		'-no-undefined'	\
			Wand		'-no-undefined'

@


1.85
log
@remove extra libtool dependency
okay naddy@@, pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2005/12/28 14:56:54 steven Exp $
d8 2
a9 2
PKGNAME=	ImageMagick-${VER}.${DASHVER}p1
SHARED_LIBS=		Magick++	8.3	\
@


1.84
log
@SHARED_LIBS and USE_LIBTOOL
"go ahead" bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2005/06/28 18:08:23 naddy Exp $
d8 1
a8 1
PKGNAME=	ImageMagick-${VER}.${DASHVER}p0
d30 1
a30 1
		ltdl.4::devel/libtool
@


1.83
log
@update to 6.2.3.3; from maintainer Bernd Ahlers <b.ahlers@@ba-net.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2005/06/04 14:39:21 naddy Exp $
d8 8
a15 1
PKGNAME=	ImageMagick-${VER}.${DASHVER}
d46 1
@


1.83.2.1
log
@Prevent shell command injection in delegate code (via file names).
http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=345238 (CVE-2005-4601)

from debian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2005/06/28 18:08:23 naddy Exp $
d8 1
a8 1
PKGNAME=	ImageMagick-${VER}.${DASHVER}p0
@


1.82
log
@Update to 6.2.3:
* Fixed an obscure heap-overflow vulnerability in the PNM reader.
* Avoid infinite loop if bogus XWD rad/green/blue masks are 0.

Also:
* Regression test fixes.
* No need to remove previously installed ImageMagick.

From new maintainer Bernd Ahlers <b.ahlers@@ba-net.org>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2005/05/08 18:48:28 brad Exp $
d6 1
a6 1
DASHVER=	0
@


1.81
log
@fix PKGNAME.

From: Bernd Ahlers <b.ahlers at ba-net dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2005/05/01 07:51:28 robert Exp $
d5 1
a5 1
VER=		6.2.2
d18 6
a23 6
		png.2::graphics/png \
		tiff.35::graphics/tiff \
		xml2.6::textproc/libxml \
		lcms::graphics/lcms \
		jasper::graphics/jasper \
		ltdl::devel/libtool
d25 1
a25 1
RUN_DEPENDS	::graphics/mpeg-lib
d28 3
a30 1
MAINTAINER=	Brad Smith <brad@@openbsd.org>
a38 2
SUBST_VARS=	VER

d54 1
a54 1
		LDFLAGS="-L${WRKBUILD}/magick/.libs -L${LOCALBASE}/lib" \
a78 17
pre-configure:
	@@if pkg dependencies check ImageMagick-\*; then \
		if pkg dependencies check ${DISTNAME}; then \
			:; \
		else \
			echo 1>&2 "+-------------------"; \
			echo 1>&2 "| Error: you must remove the existing ImageMagick installation"; \
			echo 1>&2 "| before compiling this version. To fully remove run"; \
			echo 1>&2 "| these commands as user root"; \
			echo 1>&2 "|"; \
			echo 1>&2 "|      pkg_delete `pkg_info -e 'ImageMagick-*'`"; \
			echo 1>&2 "|"; \
			echo 1>&2 "+-------------------"; \
			exit 1; \
		fi; \
	fi

d80 1
a80 1
	@@perl -pi -e s#'-L${WRKBUILD}/magick/.libs '#''#g \
d83 1
a83 1
	@@perl -pi -e s#'-L${WRKBUILD}/magick/.libs '#''#g \
@


1.80
log
@SECURITY:
update to 6.2.2-0; fixes a heap overflow vulnerability
http://www.vuxml.org/openbsd/9bf5aad8-ba14-11d9-9e14-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2005/03/31 04:23:42 pvalchev Exp $
d8 1
@


1.79
log
@update to ImageMagick-6.2.0-8; Bernd Ahlers <b.ahlers@@ba-net.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2005/01/09 11:06:38 alek Exp $
d5 2
a6 2
VER=		6.2.0
DASHVER=	8
@


1.78
log
@- Better dependencies
- Bump PKGNAME

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2004/11/30 01:06:33 espie Exp $
d5 2
a6 2
VER=		6.0.0
DASHVER=	2
a7 1
PKGNAME=	${DISTNAME}p3
a8 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=imagemagick/}
d10 4
a13 1
HOMEPAGE=	http://www.simplesystems.org/ImageMagick/
d21 3
a23 1
		jasper::graphics/jasper
d29 1
a29 1
# http://www.imagemagick.org/www/Copyright.html 
d42 1
a42 2
CONFIGURE_ARGS+= --enable-lzw \
		 --with-quantum-depth=16 \
a45 1
		 --without-hdf \
d49 3
a51 1
		 --without-wmf
d70 1
a70 1
WANTLIB+=	ICE SM X11 Xext freetype
d76 18
a93 1
WRKDIST=	${WRKDIR}/${DISTNAME:S/-${DASHVER}//}
@


1.78.2.1
log
@SECURITY:
fix a heap overflow vulnerability; bump PKGNAME
http://www.vuxml.org/openbsd/9bf5aad8-ba14-11d9-9e14-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2005/01/09 11:06:38 alek Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p4
@


1.78.2.2
log
@Prevent shell command injection in delegate code (via file names).
http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=345238 (CVE-2005-4601)

from debian
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78.2.1 2005/05/25 05:50:19 robert Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p5
@


1.77
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2004/11/13 20:14:18 marc Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p2
a15 1
		mpeg.13::graphics/mpeg-lib \
a19 1
		exif::graphics/libexif \
d21 2
@


1.76
log
@
Casting a structure element address to (unsigned long *) and
then dereferencing can give you a bus error on sparc64 and
other arches with stricter address alignment requirements than
i386.   "Please commit this" brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2004/11/07 05:08:16 brad Exp $
d31 1
d67 1
@


1.75
log
@oops
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2004/09/21 18:39:15 brad Exp $
a4 4
.if ${MACHINE_ARCH} == "sparc64"
BROKEN=		${MACHINE_ARCH} run-time issues, crashing
.endif

d8 1
a8 1
PKGNAME=	${DISTNAME}p1
@


1.74
log
@- Don't allow a corrupt GIF image to overflow pixel stack
- Prevent buffer overruns when decoding runlength-encoded images in the BMP format
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2004/09/21 07:28:58 brad Exp $
d6 1
a6 1
#BROKEN=		${MACHINE_ARCH} run-time issues, crashing
@


1.73
log
@not for sparc64 at the moment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2004/07/18 07:16:53 brad Exp $
d6 1
a6 1
BROKEN=		${MACHINE_ARCH} run-time issues, crashing
d12 1
@


1.72
log
@don't allow a build-time path specified by -L option
to leak out into ``Magick-config --ldflags`` nor the
libtool (*.la) wrappers.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2004/07/13 18:55:43 brad Exp $
d4 4
@


1.72.2.1
log
@MFC:

- Don't allow a corrupt GIF image to overflow pixel stack
- Prevent buffer overruns when decoding runlength-encoded images in the BMP format

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2004/07/18 07:16:53 brad Exp $
a7 1
PKGNAME=	${DISTNAME}p0
@


1.72.2.2
log
@SECURITY:
fix a heap overflow vulnerability; bump PKGNAME
http://www.vuxml.org/openbsd/9bf5aad8-ba14-11d9-9e14-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72.2.1 2004/12/30 19:37:18 sturm Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p1
@


1.71
log
@better COMMENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2004/07/13 17:24:29 brad Exp $
d71 8
@


1.70
log
@oops, Henning pointed out that transfig needs imake and thus X so rip that out
for the no_x11 FLAVOR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2004/07/10 23:52:02 brad Exp $
d3 1
a3 1
COMMENT=	"display and manipulate images under X11"
@


1.69
log
@add a no_x11 FLAVOR to please Henning who has been prodding me about this
for quite some time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2004/07/09 19:40:36 brad Exp $
d47 3
a49 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include/libxml2 -I${LOCALBASE}/include" \
		LDFLAGS="-L${WRKBUILD}/magick/.libs -L${LOCALBASE}/lib"
d58 1
d63 2
d67 2
a68 4
RUN_DEPENDS+=	:transfig-*:print/transfig \
		:netpbm-*:graphics/netpbm
BUILD_DEPENDS+=	:transfig-*:print/transfig \
		:netpbm-*:graphics/netpbm
@


1.68
log
@add license URL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2004/07/09 04:45:36 brad Exp $
d13 1
a13 1
LIB_DEPENDS=	bz2.10::archivers/bzip2 \
a21 4
RUN_DEPENDS=	:transfig-*:print/transfig \
		:netpbm-*:graphics/netpbm \
		::print/ghostscript/gnu
BUILD_DEPENDS=	${RUN_DEPENDS}
d48 1
a48 1
		LDFLAGS="-L${LOCALBASE}/lib"
d50 2
a51 2
#FLAVORS=	no_x11
#FLAVOR?=
d53 7
a59 3
#.if ${FLAVOR:L:Mno_x11}
#CONFIGURE_ARGS+= --without-x --without-ttf
#.else
d61 6
a66 1
#.endif
@


1.67
log
@don't use threads for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2004/07/02 01:53:09 brad Exp $
d29 1
a29 1
# 
@


1.66
log
@add libtool patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2004/06/24 07:44:58 brad Exp $
d48 1
@


1.65
log
@upgrade to ImageMagick 6.0.0-2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2004/03/08 23:36:50 xsa Exp $
d38 2
a39 1
CONFIGURE_STYLE= gnu
@


1.64
log
@
MASTER_SITE_BACKUP
ok pvalchev@@ brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2004/02/25 02:35:16 naddy Exp $
d5 5
a9 4
DISTNAME=	ImageMagick-5.2.9
PKGNAME=	${DISTNAME}p0
CATEGORIES=     graphics
MASTER_SITES=	${MASTER_SITE_BACKUP}
d18 8
a25 5
		ttf.1.3::print/freetype \
		xml2.6::textproc/libxml
BUILD_DEPENDS=	:transfig-*:print/transfig \
		:netpbm-*:graphics/netpbm
RUN_DEPENDS=	${BUILD_DEPENDS}
d29 1
d35 1
a35 3
.if ${MACHINE_ARCH} == "sparc64"
PATCH_LIST=	patch-* gcc-*
.endif
a36 1
USE_X11=	Yes
d40 10
a49 5
CONFIGURE_ARGS+= --enable-static --enable-lzw --enable-16bit-pixel \
		 --without-perl --without-modules --without-dps \
		 --without-fpx --without-hdf --without-lcms \
		 --without-ttf --without-wmf
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include/freetype1/freetype -I${LOCALBASE}/include/libxml2 -I${LOCALBASE}/include" \
d51 11
@


1.64.2.1
log
@MFC:

PNG vulnerability fix.

http://www.imagemagick.org/www/Changelog.html

and

- Don't allow a corrupt GIF image to overflow pixel stack
- Prevent buffer overruns when decoding runlength-encoded images in the BMP format

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2004/03/08 23:36:50 xsa Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.64.2.2
log
@SECURITY:
fix a heap overflow vulnerability; bump PKGNAME
http://www.vuxml.org/openbsd/9bf5aad8-ba14-11d9-9e14-00065bd5b0b6.html

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64.2.1 2004/12/30 19:31:15 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.63
log
@The sparc64 compiler is gcc3 now; don't require the gcc3 module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2004/02/06 22:44:06 sturm Exp $
d8 1
a8 1
MASTER_SITES=	ftp://openbsd.comstyle.com/pub/brad/source/
@


1.62
log
@fix build with gcc 3.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2003/09/09 00:47:57 pvalchev Exp $
a28 5

# gcc3
MODULES+=               gcc3
MODGCC3_ARCHES=         sparc64
MODGCC3_LANGS+=         c++
@


1.61
log
@this can go on the CD again
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2003/08/04 11:50:36 espie Exp $
d34 4
@


1.60
log
@ouchie, patents issue
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2003/06/30 20:41:14 sturm Exp $
d25 1
a25 1
PERMIT_PACKAGE_CDROM=	"Patents on freetype"
@


1.59
log
@- fix build to work with recently updated libxml
- bump PKGNAME

"looks ok" brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2003/04/19 13:30:47 espie Exp $
d25 1
a25 1
PERMIT_PACKAGE_CDROM=	Yes
@


1.58
log
@move freetype1 includes in a separate subdirectory.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2003/01/04 17:01:08 lebel Exp $
d6 1
d42 2
a43 2
		 --without-ttf --without-wmf --without-threads
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include/freetype1/freetype -I${LOCALBASE}/include" \
@


1.57
log
@build ImageMagick with gcc3 on sparc64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2002/08/25 23:05:49 brad Exp $
d42 1
a42 1
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include/libpng -I${LOCALBASE}/include/freetype -I${LOCALBASE}/include" \
@


1.56
log
@remove bad dqc.org distsite.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2002/08/04 21:04:48 brad Exp $
d28 5
@


1.55
log
@png header path change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2001/11/10 15:00:48 espie Exp $
d7 1
a7 2
MASTER_SITES=	ftp://openbsd.comstyle.com/pub/brad/source/ \
		ftp://ftp.dqc.org/pub/brad/source/
@


1.54
log
@Kill first component of BUILD_DEPENDS.

Fix sawfish comment while I'm at it.
`window manager for the X windows system'.
Like DUH ! It's going to be a window manager for my microwave oven ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2001/07/20 16:22:30 kevlo Exp $
a6 1
NEED_VERSION=	1.489
d38 1
a38 1
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include -I${LOCALBASE}/include/freetype" \
@


1.53
log
@bump major rev in libxml dependency entries after upgrade of libxml:
xml2.5 -> xml2.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2001/07/01 15:33:56 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.413
d20 2
a21 2
BUILD_DEPENDS=	fig2dev:transfig-*:print/transfig \
		picttoppm:netpbm-*:graphics/netpbm
@


1.52
log
@add another local dist site.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2001/05/24 02:27:25 kevlo Exp $
d19 1
a19 1
		xml2.5::textproc/libxml
@


1.51
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2001/04/06 17:33:28 brad Exp $
d7 3
a9 2
NEED_VERSION=	1.384
MASTER_SITES=	ftp://ftp.dqc.org/pub/brad/source/
@


1.50
log
@- integrate COMMENT
- allow for any version of NetPBM and Transfig to be installed.
- mirror the ImageMagick distfile locally since the author doesn't seem to
understand the concept of using version numbers on software.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2001/03/07 22:47:50 brad Exp $
d15 1
a15 1
		png.1::graphics/png \
@


1.49
log
@include proper path to freetype headers.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.47 2001/02/09 21:59:27 brad Exp $
d7 2
a8 8
NEED_VERSION=	1.336
MASTER_SITES=	ftp://ftp.simplesystems.org/pub/ImageMagick/ \
		ftp://ftp.cdrom.com/pub/ImageMagick/ \
		ftp://ftp.u-aizu.ac.jp/pub/graphics/image/ImageMagick/ \
		ftp://ftp.fifi.org/pub/ImageMagick/ \
		ftp://gd.tuwien.ac.at/pub/graphics/ImageMagick/ \
		ftp://ftp.ms.mff.cuni.cz/MIRRORS/ftp.wizards.dupont.com/pub/ImageMagick/ \
		ftp://ftp.oce.nl/pub/Internet/audio+video/ImageMagick/
d19 2
a20 2
BUILD_DEPENDS=	fig2dev::print/transfig \
		picttoppm::graphics/netpbm
@


1.48
log
@- Fix libxml dependency
- Fix checksum error and PLIST
@
text
@d42 1
a42 1
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
@


1.47
log
@upgrade to ImageMagick 5.2.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2001/02/05 15:58:08 brad Exp $
d22 1
a22 1
		xml.4::textproc/libxml
@


1.46
log
@upgrade to ImageMagick 5.2.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2001/01/10 01:21:21 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-5.2.8
d8 5
a12 1
		ftp://ftp.yggdrasil.com/mirrors/site/ftp.wizards.dupont.com/pub/ImageMagick/
@


1.45
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2000/11/30 04:41:37 dugsong Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-5.2.5
d36 2
a37 1
		 --without-fpx --without-hdf --without-lcms
@


1.44
log
@master sites changed; update to 5.2.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2000/10/03 02:15:31 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.330
d30 1
@


1.43
log
@remove redundant dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2000/09/24 07:04:05 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-5.2.2
d6 3
a8 6
MASTER_SITES=	ftp://ftp.wizards.dupont.com/pub/ImageMagick/ \
		ftp://ftp.u-aizu.ac.jp/pub/graphics/image/ImageMagick/ \
		ftp://ftp.fifi.org/pub/ImageMagick/ \
		ftp://gd.tuwien.ac.at/pub/graphics/ImageMagick/ \
		ftp://ftp.ms.mff.cuni.cz/MIRRORS/ftp.wizards.dupont.com/pub/ImageMagick/ \
		ftp://ftp.oce.nl/pub/Internet/audio+video/ImageMagick/
d10 1
a10 1
HOMEPAGE=	http://www.wizards.dupont.com/cristy/ImageMagick.html
@


1.42
log
@add name to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2000/08/21 16:42:26 brad Exp $
a16 1
		jpeg.62::graphics/jpeg \
a22 4
		gs::print/ghostscript/gnu \
		picttoppm::graphics/netpbm
RUN_DEPENDS=	fig2dev::print/transfig \
		gs::print/ghostscript/gnu \
d24 1
@


1.41
log
@upgrade to ImageMagick 5.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2000/08/08 19:01:37 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.310
d30 1
a30 1
MAINTAINER=	brad@@openbsd.org
@


1.40
log
@- enable XML support
- make use of SEPARATE_BUILD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2000/07/25 07:16:59 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-5.2.1
@


1.39
log
@upgrade to ImageMagick 5.2.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2000/07/04 02:09:17 krw Exp $
d21 2
a22 1
		ttf.1.3::print/freetype
d37 1
d42 1
a42 1
		 --without-fpx --without-hdf --without-xml --without-lcms
@


1.38
log
@Change PFRAG.shared ldconfig invocation(s) to
DYNLIBDIR() invocations.

Bump NEED_VERSION to 1.310 so DYNLIBDIR() works.

As requested by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2000/06/25 22:22:25 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-5.2.0
d38 3
a40 4
CONFIGURE_ARGS+= --enable-static \
		 --enable-lzw \
		 --enable-16bit-pixel \
		 --without-perl
@


1.37
log
@change dependencies, png.1.6 -> png.1 and bz2.10.1 -> bz2.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2000/06/20 23:32:46 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.301
@


1.36
log
@upgrade to ImageMagick 5.2.0, as recommended in PR#1245
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2000/06/10 06:11:25 brad Exp $
d15 1
a15 1
LIB_DEPENDS=	bz2.10.0::archivers/bzip2 \
d19 1
a19 1
		png.1.6::graphics/png \
@


1.35
log
@- bump NEED_VERSION
- remove license type
- fix jbigkit dependency after the upgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2000/06/01 10:48:34 kevlo Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-4.2.9
d5 1
a5 1
NEED_VERSION=	1.234
a14 7
MAINTAINER=	brad@@openbsd.org

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

d29 1
a29 1
FAKE=	Yes
d31 4
a34 2
#USE_X11=	Yes
GNU_CONFIGURE=	Yes
d36 1
d39 3
a41 2
		--enable-lzw \
		--without-perl
@


1.34
log
@Fix the dependencies.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2000/05/30 10:47:37 espie Exp $
d5 1
a5 1
NEED_VERSION=	 1.230
a16 1
LICENSE_TYPE=		BSD
d23 1
a23 1
		jbig.1.1::graphics/jbigkit \
d36 2
a39 1
FAKE=		Yes
@


1.33
log
@Unbroken.
File is on ftp.openbsd.org and various mirrors.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2000/05/30 08:11:59 fgsch Exp $
d23 1
a23 1
LIB_DEPENDS=	bz2.9.5::archivers/bzip2 \
@


1.32
log
@mark as broken; file not found anymore, new version available
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.31 2000/05/21 12:39:00 fgsch Exp $

BROKEN=		"file not found; new version available"
@


1.31
log
@update libpng dependency since minor changed; sigh sigh.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.30 2000/03/24 23:28:08 espie Exp $
@


1.30
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2000/03/14 01:40:04 espie Exp $
d27 1
a27 1
		png.1.3::graphics/png \
@


1.30.2.1
log
@bring graphics as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2000/08/08 19:01:37 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-5.2.1
d5 1
a5 1
NEED_VERSION=	1.310
d15 10
a24 2
LIB_DEPENDS=	bz2.10::archivers/bzip2 \
		jbig.1.2::graphics/jbigkit \
d27 1
a27 1
		png.1::graphics/png \
d29 1
a29 2
		ttf.1.3::print/freetype \
		xml.4::textproc/libxml
d37 3
a39 6
MAINTAINER=	brad@@openbsd.org

PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a40 2
SEPARATE_BUILD=	concurrent
CONFIGURE_STYLE= gnu
d42 3
a44 3
CONFIGURE_ARGS+= --enable-static --enable-lzw --enable-16bit-pixel \
		 --without-perl --without-modules --without-dps \
		 --without-fpx --without-hdf --without-lcms
@


1.29
log
@Fake
ghostscript5.50
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2000/03/05 18:30:27 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.223
d23 13
a35 13
LIB_DEPENDS=	bz2.9.5:archivers/bzip2 \
		jbig.1.1:graphics/jbigkit \
		jpeg.62:graphics/jpeg \
		mpeg.13:graphics/mpeg-lib \
		png.1.3:graphics/png \
		tiff.35:graphics/tiff \
		ttf.1.3:print/freetype
BUILD_DEPENDS=	fig2dev:print/transfig \
		gs:print/ghostscript/gnu \
		picttoppm:graphics/netpbm
RUN_DEPENDS=	fig2dev:print/transfig \
		gs:print/ghostscript/gnu \
		picttoppm:graphics/netpbm
@


1.28
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2000/02/15 05:04:30 turan Exp $
d31 1
a31 1
		gs:print/ghostscript5 \
d34 1
a34 1
		gs:print/ghostscript5 \
d37 1
a37 1
USE_X11=	Yes
d39 2
@


1.27
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2000/02/12 06:29:54 turan Exp $
d5 1
a14 2
NEED_VERSION=	1.73

d18 18
a35 18
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES

LIB_DEPENDS=	bz2.9.5:${PORTSDIR}/archivers/bzip2 \
		jbig.1.1:${PORTSDIR}/graphics/jbigkit \
		jpeg.62:${PORTSDIR}/graphics/jpeg \
		mpeg.13:${PORTSDIR}/graphics/mpeg-lib \
		png.1.3:${PORTSDIR}/graphics/png \
		tiff.35:${PORTSDIR}/graphics/tiff \
		ttf.1.3:${PORTSDIR}/print/freetype
BUILD_DEPENDS=	fig2dev:${PORTSDIR}/print/transfig \
		gs:${PORTSDIR}/print/ghostscript5 \
		picttoppm:${PORTSDIR}/graphics/netpbm
RUN_DEPENDS=	fig2dev:${PORTSDIR}/print/transfig \
		gs:${PORTSDIR}/print/ghostscript5 \
		picttoppm:${PORTSDIR}/graphics/netpbm
d37 2
a38 2
USE_X11=	yes
GNU_CONFIGURE=	yes
@


1.26
log
@bsd licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2000/01/20 04:10:26 brad Exp $
d19 4
a22 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.25
log
@bump freetype shared lib version # after upgrade for dependency list
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/01/09 05:57:48 brad Exp $
d17 6
@


1.24
log
@fix dependency check for new mpeg_lib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 1999/12/27 06:14:20 brad Exp $
d24 1
a24 1
		ttf.1.2:${PORTSDIR}/print/freetype
@


1.23
log
@fix dependency check for new jbigkit library version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 1999/12/19 01:28:52 brad Exp $
d21 1
a21 1
		mpeg.1.2:${PORTSDIR}/graphics/mpeg-lib \
@


1.22
log
@upgrade to ImageMagick 4.2.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 1999/10/27 20:49:08 brad Exp $
d19 1
a19 1
		jbig.1.0:${PORTSDIR}/graphics/jbigkit \
@


1.21
log
@- use new libtiff
- copy all the BUILD_DEPENDS to RUN_DEPENDS so those dependencies are
  properly installed when making a package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 1999/09/01 18:51:24 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-4.2.8
d38 2
a39 2
CONFIGURE_ENV=	CPPFLAGS="-I/usr/local/include" \
		LDFLAGS="-L/usr/local/lib"
@


1.20
log
@upgrade to ImageMagick 4.2.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 1999/07/09 23:14:38 brad Exp $
a17 4
BUILD_DEPENDS=	fig2dev:${PORTSDIR}/print/transfig \
		gs:${PORTSDIR}/print/ghostscript5 \
		picttoppm:${PORTSDIR}/graphics/netpbm

d23 1
a23 1
		tiff.3.4:${PORTSDIR}/graphics/tiff34 \
d25 6
a37 1

@


1.19
log
@upgrade to ImageMagick 4.2.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 1999/05/24 05:22:46 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-4.2.7
d22 1
a22 1
LIB_DEPENDS=	bz2.0.9:${PORTSDIR}/archivers/bzip2 \
@


1.18
log
@upgrade to ImageMagick 4.2.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 1999/05/22 08:39:19 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-4.2.6
@


1.17
log
@4.2.4 Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 1999/05/21 18:47:25 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-4.2.4
d5 1
a5 3
MASTER_SITES=	ftp://204.183.81.131/pub/ImageMagick/ \
		ftp://ftp.wizards.dupont.com/pub/ImageMagick/ \
		ftp://ftp.cci.fr/pub/unix/gfx/ImageMagick/ \
@


1.16
log
@Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 1999/05/20 23:25:55 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-4.2.5
d5 8
a12 1
MASTER_SITES=	ftp://ftp.wizards.dupont.com/pub/ImageMagick/
@


1.15
log
@4.2.5 Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/05/09 07:23:25 brad Exp $
d5 1
a5 8
MASTER_SITES=	ftp://204.183.81.131/pub/ImageMagick/ \
		ftp://ftp.wizards.dupont.com/pub/ImageMagick/ \
		ftp://ftp.cci.fr/pub/unix/gfx/ImageMagick/ \
		ftp://ftp.u-aizu.ac.jp/pub/graphics/image/ImageMagick/ \
		ftp://ftp.fifi.org/pub/ImageMagick/ \
		ftp://gd.tuwien.ac.at/pub/graphics/ImageMagick/ \
		ftp://ftp.ms.mff.cuni.cz/MIRRORS/ftp.wizards.dupont.com/pub/ImageMagick/ \
		ftp://ftp.oce.nl/pub/Internet/audio+video/ImageMagick/
@


1.14
log
@add bzip2 and jbigkit to dependency list
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/05/08 04:51:25 brad Exp $
d3 2
a4 2
DISTNAME=	ImageMagick-4.2.4
CATEGORIES=     graphics x11
@


1.13
log
@upgrade to ImageMagick 4.2.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/05/06 02:10:12 brad Exp $
d24 3
a26 1
LIB_DEPENDS=	jpeg.62:${PORTSDIR}/graphics/jpeg \
a36 1
		--without-bzlib \
a40 9

pre-build:
	@@echo ""
	@@echo "*** WARNING: you may see an error such as"
	@@echo "***       virtual memory exhausted"
	@@echo "*** when building this package.  If you do you must increase"
	@@echo "*** your limits.  See the man page for your shell and look"
	@@echo "*** for the 'limit' or 'ulimit' command."
	@@echo ""
@


1.12
log
@upgrade to ImageMagick 4.2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/04/18 20:58:41 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-4.2.3
@


1.11
log
@upgrade to ImageMagick 4.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/04/06 00:09:52 brad Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-4.2.2
d5 2
a6 1
MASTER_SITES=	ftp://ftp.wizards.dupont.com/pub/ImageMagick/ \
d14 2
d18 1
a18 1
MAINTAINER=	marc@@openbsd.org
d20 1
a20 1
RUN_DEPENDS=	fig2dev:${PORTSDIR}/print/transfig \
d24 5
a28 5
LIB_DEPENDS=	jpeg:${PORTSDIR}/graphics/jpeg \
		mpeg:${PORTSDIR}/graphics/mpeg-lib \
		png:${PORTSDIR}/graphics/png \
		tiff:${PORTSDIR}/graphics/tiff34 \
		ttf:${PORTSDIR}/print/freetype
d33 5
a37 1
CONFIGURE_ARGS+= --enable-static --enable-lzw
@


1.10
log
@add dependency for FreeType & NetPBM and pre-build message about possibly
having to increase userland memory limit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/03/02 04:41:02 marc Exp $
d3 1
a3 1
DISTNAME=	ImageMagick-4.2.0
d5 7
a16 4
MASTER_SITES=	ftp://ftp.courtesan.com/pub/OpenBSD/distfiles/

# Future: add FlashPix, NCSA HDF, JBIG, scanimage, etc.
#
d30 1
a30 1
CONFIGURE_ARGS+= --enable-static
@


1.9
log
@fix earlier bogus changes to Makefile where a value that
was defined in bsd.port.mk was checked before bsd.port.mk was included;
this should make ports with optional shared libs build on the alpha,
again.  However, chages require the latest bsd.port.mk
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.8 1999/02/21 04:26:10 marc Exp $
#
d3 2
a4 2
DISTNAME=		ImageMagick-4.2.0
CATEGORIES=     	graphics x11
d6 1
a6 1
NEED_VERSION=		1.73
d8 1
a8 1
MAINTAINER=		marc@@openbsd.org
d10 1
a10 4
MASTER_SITES=		ftp://ftp.wizards.dupont.com/pub/ImageMagick/ \
			ftp://renegade.lerc.nasa.gov/ImageMagick/ \
			ftp://ftp.fifi.org/pub/ImageMagick/ \
			ftp://gd.tuwien.ac.at/graphics/ImageMagick/
d12 1
a12 1
# Future: add FreeType, FlashPix, NCSA HDF, JBIG, scanimage, etc.
d14 25
a38 14
RUN_DEPENDS=		fig2dev:${PORTSDIR}/print/transfig \
			gs:${PORTSDIR}/print/ghostscript5 \

LIB_DEPENDS=		jpeg.62.:${PORTSDIR}/graphics/jpeg \
			mpeg.1.:${PORTSDIR}/graphics/mpeg-lib \
			png.1.:${PORTSDIR}/graphics/png \
			tiff.3.4:${PORTSDIR}/graphics/tiff34

USE_X11=		yes
GNU_CONFIGURE=		yes
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ENV=		CPPFLAGS=-I/usr/local/include \
			LDFLAGS=-L/usr/local/lib
@


1.8
log
@needs version 1.64 (or later) of bsd.port.mk
to build/install correctly; PLIST.noshared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/02/19 05:01:47 marc Exp $
d7 1
a7 1
NEED_VERSION=		1.64
d28 1
a28 3
.if !defined(NO_SHARED_LIBS)
CONFIGURE_ARGS+=	--enable-shared
.endif
@


1.7
log
@update to 4.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/02/18 02:37:28 marc Exp $
d6 2
@


1.6
log
@use NO_SHARED_LIBS instead of test for alpha;
use PLIST.noshared instead of PLIST.alpha
@
text
@d1 1
a1 6
# OpenBSD makefile for:	ImageMagick
# Version required:	4.0.6
# Date created:		1998-Apr-21
# Whom:			marc@@OpenBSD.ORG
#
# $OpenBSD: Makefile,v 1.5 1998/11/24 00:07:10 marc Exp $
d4 1
a4 1
DISTNAME=		ImageMagick-4.1.4
d10 3
a12 2
			ftp://ftp.fifi.org/pub/ImageMagick \
			ftp://gd.tuwien.ac.at/graphics/ImageMagick
@


1.5
log
@update to 4.1.4; fix COMMENT
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 1998/06/14 08:10:25 marc Exp $
d30 1
a30 1
.if (${MACHINE_ARCH} != "alpha")
@


1.4
log
@when previously updating tiff34 to install as libtiff the shared
version was left at 1.0.  Oops.  The old tiff (3.3) installed as
libtiff.so.3.3. Install tiff34 as libtiff.so.3.4 but keep the libtiff34
link at version 1.0.  confusing but it seems to work correctly.
Update all ports that depend upon tiff so the dependency is on
tiff.3.4.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1998/06/10 02:56:12 marc Exp $
d9 1
a9 1
DISTNAME=		ImageMagick-4.0.6
d16 1
a16 1
			ftp://gd.tuwien.ac.at/pub/graphics/ImageMagick
d23 4
a26 4
LIB_DEPENDS=    	jpeg\\.62\\.:${PORTSDIR}/graphics/jpeg \
			mpeg\\.1\\.:${PORTSDIR}/graphics/mpeg-lib \
			png\\.1\\.:${PORTSDIR}/graphics/png \
			tiff\\.3\\.4:${PORTSDIR}/graphics/tiff34
d34 1
a34 1
CONFIGURE_ENV=		${SETENV} CPPFLAGS=-I/usr/local/include \
@


1.3
log
@1) remove tiff from graphics makefile as there is nothing to make
2) change tiff/Makefile to spit out message saying to use tiff34
   remove all tiff files, patches, and pkg data; they're no longer needed
3) install tiff34 as libtiff, tiff.h, and tiffio.h; add symbolic links
   so the old names of libtiff34, tiff34.h, and tiffio34.h still work.
4) Change ImageMagick to use -ltiff, not -ltiff34; remove the patch
   files and directory as they are no longer needed.
5) Change gimp to use -ltiff, not -ltiff34; remove the patch files and
   directory as they are no longer needed.

NOTE: with these changes ImageMagick and gimp require the updated tiff34
      port.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/06/07 19:25:41 marc Exp $
d26 1
a26 1
			tiff\\.1:${PORTSDIR}/graphics/tiff34
@


1.2
log
@update to version 4.0.6
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/05/23 19:00:10 marc Exp $
d26 1
a26 1
			tiff34\\.1:${PORTSDIR}/graphics/tiff34
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
# Version required:	4.0.5
d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/04/14 05:45:40 marc Exp $
d9 1
a9 1
DISTNAME=		ImageMagick-4.0.5
@


1.1.1.1
log
@ImageMagick 4.0.5
@
text
@@
