head	1.4;
access;
symbols
	OPENBSD_3_8:1.2.0.14
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.12
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.10
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.8
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.6
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.4
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.2;
locks; strict;
comment	@# @;


1.4
date	2005.12.22.23.21.50;	author steven;	state dead;
branches;
next	1.3;

1.3
date	2005.10.24.05.03.48;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	2002.11.30.05.28.40;	author brad;	state Exp;
branches
	1.2.2.1;
next	1.1;

1.1
date	2002.11.21.15.45.57;	author brad;	state Exp;
branches;
next	;

1.2.2.1
date	2002.12.01.20.55.47;	author brad;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to 2.30

ok sturm@@
@
text
@$OpenBSD: patch-Makefile_PL,v 1.3 2005/10/24 05:03:48 fgsch Exp $
--- Makefile.PL.orig	Sat Oct 22 20:27:34 2005
+++ Makefile.PL	Sat Oct 22 20:29:19 2005
@@@@ -1,35 +1,25 @@@@
 use ExtUtils::MakeMaker qw(prompt WriteMakefile);
 
-warn "NOTICE: This module requires libgd 1.8.4 or higher (shared library version 4.X).\n";
-
 # =====> PATHS: CHECK AND ADJUST <=====
-my @@INC     = qw(-I/usr/local/include -I/usr/local/include/gd); 
-my @@LIBPATH = qw(-L/usr/lib/X11 -L/usr/X11R6/lib -L/usr/X11/lib -L/usr/local/lib );
+my @@INC     = qw(-I%%LOCALBASE%%/include -I%%X11BASE%%/include);
+my @@LIBPATH = qw(-L%%LOCALBASE%%/lib -L%%X11BASE%%/lib);
 my @@LIBS    = qw(-lgd -lpng -lz);
 
 # FEATURE FLAGS
 warn "\nPlease choose the features that match how libgd was built:\n";
 
-my $JPEG    = lc prompt('Build JPEG support?','y') eq 'y';
-my $TTF     = lc prompt('Build FreeType support?','y') eq 'y';
-my $XPM     = $^O !~ /^freebsd|MSWin32$/ && lc prompt('Build XPM support?','y') eq 'y';
-my $GIF		= lc prompt('Build GIF support (for patched versions of gd)?','n') eq 'y';
+my $JPEG    = 1;
+my $TTF     = 1;
+my $XPM     = 0;
+my $GIF     = 1;
 
 my $FCGI    = 0;   # set to 1 to build compatability with fastCGI
 
-warn "\nIf you experience compile problems, please check the \@@INC, \@@LIBPATH and \@@LIBS\n",
-     "arrays defined in Makefile.PL and manually adjust, if necessary.\n\n";
-
 #### no user-serviceable parts below #####
 
 push @@LIBS,'-lfreetype' if $TTF;
 push @@LIBS,'-ljpeg' if $JPEG;
 push @@LIBS, '-lm' unless $^O eq 'MSWin32';
-
-# FreeBSD 3.3 with libgd built from ports croaks if -lXpm is specified 
-if ($^O ne 'freebsd' && $^O ne 'MSWin32') { 
-  push @@LIBS,'-lX11','-lXpm' if $XPM; 
-} 
 
 my $CAPI = defined $ExtUtils::MakeMaker::CAPI_support ? 'TRUE' : 'FALSE';
 my $DEFINES = '';
@


1.3
log
@cope with gd changes and avoid hardcoding paths.
sturm@@ ok.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@Fix p5-GD 1.41 so it will work with gd 1.8.3
--
From: MAINTAINER
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_PL,v 1.1 2002/11/21 15:45:57 brad Exp $
--- Makefile.PL.orig	Wed Jun 19 19:02:59 2002
+++ Makefile.PL	Sun Nov 24 14:31:44 2002
d12 2
a13 2
+my @@INC     = qw(-I/usr/local/include);
+my @@LIBPATH = qw(-L/usr/local/lib);
d26 1
a26 1
+my $GIF	    = 0;
d35 1
a35 2
-push @@LIBS,'-lfreetype' if $TTF;
+push @@LIBS,'-lttf' if $TTF;
@


1.2.2.1
log
@MFC:
- Fix p5-GD 1.41 so it will work with gd 1.8.3
- remove no_x11 FLAVOR
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_PL,v 1.2 2002/11/30 05:28:40 brad Exp $
@


1.1
log
@remove no_x11 FLAVOR, this corresponds to the removal of the no_x11 FLAVOR for
the gd port quite awhile ago.
--
Ok'd by: MAINTAINER
@
text
@d1 15
a15 4
$OpenBSD$
--- Makefile.PL.orig	Wed Jun 19 08:02:59 2002
+++ Makefile.PL	Wed Oct 23 12:06:35 2002
@@@@ -10,10 +10,10 @@@@ my @@LIBS    = qw(-lgd -lpng -lz);
d30 17
@

