head	1.23;
access;
symbols
	OPENBSD_6_1:1.22.0.4
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.22.0.2
	OPENBSD_6_0_BASE:1.22
	OPENBSD_5_9:1.21.0.2
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.21.0.4
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.19.0.6
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.19.0.4
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.2
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.16.0.4
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.16.0.2
	OPENBSD_5_2_BASE:1.16
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.2
	OPENBSD_5_0:1.13.0.2
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.10.0.2
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.7.0.2
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.6.0.2
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	sthen_20080713:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2017.04.10.11.46.21;	author sthen;	state Exp;
branches;
next	1.22;
commitid	BLsh88fJB8thZTwY;

1.22
date	2016.04.22.08.45.25;	author sthen;	state Exp;
branches;
next	1.21;
commitid	8GnxykDNU7z9bdBJ;

1.21
date	2015.05.31.06.35.02;	author kirby;	state Exp;
branches;
next	1.20;
commitid	MXFj1FRlUvcT4bK1;

1.20
date	2015.04.04.09.21.01;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	kS3kwKZogsvzYmEY;

1.19
date	2014.01.02.12.21.49;	author sthen;	state Exp;
branches
	1.19.6.1;
next	1.18;

1.18
date	2013.09.27.17.49.06;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.11.11.10.55;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2012.05.20.21.34.57;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.09.16.10.02.38;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2011.04.17.15.11.57;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.17.08.05.16;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.11.08.14.43;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2010.07.12.08.58.50;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2009.12.22.16.06.41;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2009.08.10.06.31.45;	author kili;	state Exp;
branches;
next	1.7;

1.7
date	2009.05.28.19.12.50;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2009.01.26.16.25.18;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2009.01.11.22.52.40;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2009.01.11.20.39.41;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2008.11.07.01.16.38;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2008.07.22.07.36.26;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2008.07.13.08.41.16;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.07.13.08.41.16;	author sthen;	state Exp;
branches;
next	;

1.19.6.1
date	2015.06.01.07.51.22;	author jasper;	state Exp;
branches;
next	;
commitid	HLsBt1IdEJ66zClb;


desc
@@


1.23
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.22 2016/04/22 08:45:25 sthen Exp $

COMMENT =	tool for working with RAW images

DISTNAME =	rawstudio-1.2
REVISION =	12

CATEGORIES =	graphics

MAINTAINER =	Stuart Henderson <sthen@@openbsd.org>

HOMEPAGE =	http://rawstudio.org
MASTER_SITES =	${HOMEPAGE}/files/release/

# GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

CONFIGURE_STYLE =	gnu
CONFIGURE_ENV +=	CPPFLAGS=-I${LOCALBASE}/include \
			LDFLAGS=-L${LOCALBASE}/lib

WANTLIB += GL X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 c cairo dbus-1 exiv2 expat fontconfig
WANTLIB += freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0
WANTLIB += jpeg lcms m pango-1.0 pangocairo-1.0 pangoft2-1.0 pixman-1
WANTLIB += png pthread pthread-stubs ${LIBCXX} tiff xcb xcb-render
WANTLIB += xcb-shm xml2 z

MODULES =	devel/gettext
LIB_DEPENDS +=	x11/dbus \
		graphics/exiv2 \
		devel/gconf2 \
		x11/gtk+2 \
		graphics/lcms

RUN_DEPENDS =	devel/desktop-file-utils \
		x11/gtk-engines2

NO_TEST =	Yes

# PIE doesn't leave sufficient registers
.if ${MACHINE_ARCH:Mi386}
CFLAGS += -fomit-frame-pointer
.endif

.include <bsd.port.mk>
@


1.22
log
@don't use -O4, from mmcc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/05/31 06:35:02 kirby Exp $
d27 1
a27 1
WANTLIB += png pthread pthread-stubs stdc++ tiff xcb xcb-render
@


1.21
log
@fix CVE-2015-3885 for embedded dcraw.
reported by Sevan / Venture37 on ports@@, thanks
looks ok to kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/04/04 09:21:01 ajacoutot Exp $
d6 1
a6 1
REVISION =	11
@


1.20
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/01/02 12:21:49 sthen Exp $
d6 1
a6 1
REVISION =	10
@


1.19
log
@Fix some of the ports broken by the move to PIE on i386. This fixes those
ports where there are now insufficient registers, for which using
-fomit-frame-pointer (to free up ebp) is enough to get them building
again. Regen distinfo while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/09/27 17:49:06 ajacoutot Exp $
d6 1
a6 1
REVISION =	9
@


1.19.6.1
log
@Security fixes for CVE-2015-3885
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/01/02 12:21:49 sthen Exp $
d6 1
a6 1
REVISION =	10
@


1.18
log
@Bump after devel/gconf2,-main is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/11 11:10:55 espie Exp $
d6 1
a6 1
REVISION =	8
d41 5
@


1.17
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/05/20 21:34:57 naddy Exp $
d6 1
a6 1
REVISION =	7
@


1.16
log
@strptime is XPG4v2; ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/10/29 08:12:32 ajacoutot Exp $
a16 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d40 1
a40 1
NO_REGRESS =	Yes
@


1.15
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/09/16 10:02:38 espie Exp $
d6 1
a6 1
REVISION =	6
@


1.14
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/04/17 15:11:57 ajacoutot Exp $
d6 1
a6 1
REVISION =	5
d25 3
a27 3
WANTLIB += ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 c cairo dbus-1 exiv2 expat
WANTLIB += fontconfig freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
d31 1
a31 1
WANTLIB += xcb-render-util xml2 z
d38 1
a38 6
		graphics/jpeg \
		graphics/lcms \
		devel/ORBit2 \
		graphics/png \
		graphics/tiff \
		textproc/libxml
@


1.13
log
@Depends on x11/gtk-engines2 instead of gtk2-clearlook, because that's
where the clearlook engine is.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/17 08:05:16 espie Exp $
d6 1
a6 1
REVISION =	4
@


1.12
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/11 08:14:43 jasper Exp $
d6 1
a6 1
REVISION =	3
d46 1
a46 1
		x11/gtk2-clearlooks-engine
@


1.11
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/07/12 08:58:50 sthen Exp $
d34 10
a43 10
LIB_DEPENDS +=	::x11/dbus \
		::graphics/exiv2 \
		::devel/gconf2 \
		::x11/gtk+2 \
		::graphics/jpeg \
		::graphics/lcms \
		::devel/ORBit2 \
		::graphics/png \
		::graphics/tiff \
		::textproc/libxml
d45 2
a46 2
RUN_DEPENDS =	:desktop-file-utils-*:devel/desktop-file-utils \
		::x11/gtk2-clearlooks-engine
@


1.10
log
@- sync WANTLIB (xcb-render{,-util}) and bump
- move to new-style LIB_DEPENDS/REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/12/22 16:06:41 ajacoutot Exp $
d6 1
a6 1
REVISION =	2
d28 1
a28 1
WANTLIB += glib-2.0 glitz gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0
@


1.9
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/08/10 06:31:45 kili Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME}p1
d25 8
d34 10
a43 17

WANTLIB =       X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
                Xi Xinerama Xrandr Xrender atk-1.0 c cairo expat \
                fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0 \
                gobject-2.0 gthread-2.0 m pango-1.0 pangocairo-1.0 \
                pangoft2-1.0 pixman-1 pthread pthread-stubs stdc++ xcb z

LIB_DEPENDS +=	dbus-1::x11/dbus \
		exiv2::graphics/exiv2 \
		gconf-2::devel/gconf2 \
		gtk-x11-2.0,gdk-x11-2.0,gdk_pixbuf-2.0::x11/gtk+2 \
		jpeg::graphics/jpeg \
		lcms::graphics/lcms \
		ORBit-2::devel/ORBit2 \
		png::graphics/png \
		tiff::graphics/tiff \
		xml2::textproc/libxml
@


1.8
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/05/28 19:12:50 sthen Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME}p0
@


1.7
log
@maintenance update to 1.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/01/26 16:25:18 sthen Exp $
d6 1
d31 1
a31 1
                pangoft2-1.0 pixman-1 pthread stdc++ z
@


1.6
log
@handle update-desktop-database and bump. ok jasper
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/01/11 22:52:40 sthen Exp $
d5 1
a5 2
DISTNAME =	rawstudio-1.1.1
PKGNAME =	${DISTNAME}p0
d43 3
a45 1
RUN_DEPENDS =	:desktop-file-utils-*:devel/desktop-file-utils
@


1.5
log
@tidy Makefile (Thomas Pfaff), better license marker. No package change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/01/11 20:39:41 sthen Exp $
d6 1
d44 1
@


1.4
log
@update to 1.1.1; adds support for EXIF, new cameras and bug fixes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/11/07 01:16:38 brad Exp $
d14 1
a14 1
# GPL
d21 2
a22 2
CONFIGURE_ENV +=	CPPFLAGS=-I${LOCALBASE}/include
CONFIGURE_ENV +=	LDFLAGS=-L${LOCALBASE}/lib
d24 1
a24 1
MODULES +=		devel/gettext
d26 16
a41 16
WANTLIB +=		X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB +=		Xi Xinerama Xrandr Xrender atk-1.0 c cairo expat
WANTLIB +=		fontconfig freetype gio-2.0 glib-2.0 glitz gmodule-2.0
WANTLIB +=		gobject-2.0 gthread-2.0 m pango-1.0 pangocairo-1.0
WANTLIB +=		pangoft2-1.0 pixman-1 pthread stdc++ z

LIB_DEPENDS +=		dbus-1::x11/dbus \
			exiv2::graphics/exiv2 \
			gconf-2::devel/gconf2 \
			gtk-x11-2.0,gdk-x11-2.0,gdk_pixbuf-2.0::x11/gtk+2 \
			jpeg::graphics/jpeg \
			lcms::graphics/lcms \
			ORBit-2::devel/ORBit2 \
			png::graphics/png \
			tiff::graphics/tiff \
			xml2::textproc/libxml
d43 1
a43 1
NO_REGRESS =		Yes
@


1.3
log
@Clean up dependencies a bit. rawstudio does not directly depend on Cairo.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/07/22 07:36:26 sthen Exp $
d5 1
a5 2
DISTNAME =	rawstudio-1.0
PKGNAME =	${DISTNAME}p1
d28 1
a28 1
WANTLIB +=		fontconfig freetype glib-2.0 glitz gmodule-2.0
d33 1
@


1.2
log
@Typo in DESCR, from undeadly comment. Bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/07/13 08:41:16 sthen Exp $
d6 1
a6 1
PKGNAME =	${DISTNAME}p0
d25 1
a25 1
MODULES +=		converters/libiconv devel/gettext
d28 4
a31 2
WANTLIB +=		Xi Xinerama Xrandr Xrender c expat fontconfig freetype
WANTLIB +=		m pixman-1 pthread stdc++ z
d33 1
a33 3
LIB_DEPENDS += 		atk-1.0::devel/atk \
			cairo::graphics/cairo \
			dbus-1::x11/dbus \
a34 2
			glib-2.0,gmodule-2.0,gobject-2.0,gthread-2.0::devel/glib2 \
			glitz::graphics/glitz \
a38 1
			pango-1.0,pangocairo-1.0,pangoft2-1.0::devel/pango \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
@


1.1.1.1
log
@import rawstudio:

Rawstudio is an open-source program to read and manipulate RAW images
from most digital cameras.

Rawstudio will convert your RAW files into JPEG, PNG or TIF images which
you can then print or send to friends and clients.

It has a graphical user interface, so you can simply open a RAW file and
experiment with the controls to see how they effect the image. Rawstudio
has a very simple architecture which is optimized for ease of use and
therefore should be intuitive to most photographers.

The normal workflow would be that you first convert your RAW files and
then use an image editing application to further work on your images.
Rawstudio itself is a highly specialized application for processing RAW
images, not a fully featured image editing application.

ok phessler@@
@
text
@@
