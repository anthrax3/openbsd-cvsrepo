head	1.7;
access;
symbols
	OPENBSD_3_8:1.6.0.22
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.20
	OPENBSD_3_7_BASE:1.6
	OPENBSD_3_6:1.6.0.18
	OPENBSD_3_6_BASE:1.6
	OPENBSD_3_5:1.6.0.16
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.6.0.14
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.12
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.10
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.6.0.8
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.6.0.6
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9_TRACKING_SWITCH:1.6
	OPENBSD_2_9:1.6.0.4
	OPENBSD_2_9_BASE:1.6
	OPENBSD_2_8:1.6.0.2
	OPENBSD_2_8_BASE:1.6
	OPENBSD_2_7:1.2.0.2;
locks; strict;
comment	@# @;


1.7
date	2005.10.12.05.37.43;	author fgsch;	state dead;
branches;
next	1.6;

1.6
date	2000.10.18.14.50.56;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2000.09.16.11.44.48;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2000.09.14.14.17.17;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2000.09.14.13.07.47;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.07.02.03.41.06;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2000.06.25.02.45.33;	author brad;	state Exp;
branches;
next	;


desc
@@


1.7
log
@update to gd 2.0.33; brings gif back between many other things.
reviewed by several ppl, many thanks.
@
text
@--- Makefile.orig	Sat Jun  3 15:26:12 2000
+++ Makefile	Wed Oct 18 09:30:03 2000
@@@@ -51,13 +51,13 @@@@
 LIBDIRS=-L. -L/usr/local/lib -L/usr/lib/X11 -L/usr/X11R6/lib
 
 #Location where libgd.a should be installed by "make install".
-INSTALL_LIB=/usr/local/lib
+INSTALL_LIB=$(prefix)/lib
 
 #Location where .h files should be installed by "make install".
-INSTALL_INCLUDE=/usr/local/include
+INSTALL_INCLUDE=$(prefix)/include
 
 #Location where useful non-test programs should be installed by "make install".
-INSTALL_BIN=/usr/local/bin
+INSTALL_BIN=$(prefix)/bin
 
 #
 #
@@@@ -75,26 +75,36 @@@@
 BIN_PROGRAMS=pngtogd pngtogd2 gdtopng gd2topng gd2copypal gdparttopng webpng
 TEST_PROGRAMS=gdtest gddemo gd2time gdtestttf
 
-all: libgd.a $(PROGRAMS)
+PICFLAG= -fpic
+SHLIB=	libgd.so.18.3
 
+.if defined(NO_SHARED_LIB) && ${NO_SHARED_LIB:L} == "yes"
+all: libgd.a $(PROGRAMS)
 install: libgd.a $(BIN_PROGRAMS)
-	sh ./install-item 644 libgd.a $(INSTALL_LIB)/libgd.a
-	sh ./install-item 755 pngtogd $(INSTALL_BIN)/pngtogd
-	sh ./install-item 755 pngtogd2 $(INSTALL_BIN)/pngtogd2
-	sh ./install-item 755 gdtopng $(INSTALL_BIN)/gdtopng
-	sh ./install-item 755 gd2topng $(INSTALL_BIN)/gd2topng
-	sh ./install-item 755 gd2copypal $(INSTALL_BIN)/gd2copypal
-	sh ./install-item 755 gdparttopng $(INSTALL_BIN)/gdparttopng
-	sh ./install-item 755 webpng $(INSTALL_BIN)/webpng
-	sh ./install-item 755 bdftogd $(INSTALL_BIN)/bdftogd
-	sh ./install-item 644 gd.h $(INSTALL_INCLUDE)/gd.h
-	sh ./install-item 644 gdcache.h $(INSTALL_INCLUDE)/gdcache.h
-	sh ./install-item 644 gd_io.h $(INSTALL_INCLUDE)/gd_io.h
-	sh ./install-item 644 gdfontg.h $(INSTALL_INCLUDE)/gdfontg.h
-	sh ./install-item 644 gdfontl.h $(INSTALL_INCLUDE)/gdfontl.h
-	sh ./install-item 644 gdfontmb.h $(INSTALL_INCLUDE)/gdfontmb.h
-	sh ./install-item 644 gdfonts.h $(INSTALL_INCLUDE)/gdfonts.h
-	sh ./install-item 644 gdfontt.h $(INSTALL_INCLUDE)/gdfontt.h
+.else
+all: libgd.a $(SHLIB) $(PROGRAMS)
+install: libgd.a $(SHLIB) $(BIN_PROGRAMS)
+.endif
+	$(BSD_INSTALL_DATA) libgd.a $(DESTDIR)$(INSTALL_LIB)
+	@@if [ -f $(SHLIB) ]; then \
+	   $(BSD_INSTALL_DATA) $(SHLIB) $(DESTDIR)$(INSTALL_LIB); \
+	fi
+	$(BSD_INSTALL_PROGRAM) pngtogd $(DESTDIR)$(INSTALL_BIN)
+	$(BSD_INSTALL_PROGRAM) pngtogd2 $(DESTDIR)$(INSTALL_BIN)
+	$(BSD_INSTALL_PROGRAM) gdtopng $(DESTDIR)$(INSTALL_BIN)
+	$(BSD_INSTALL_PROGRAM) gd2topng $(DESTDIR)$(INSTALL_BIN)
+	$(BSD_INSTALL_PROGRAM) gd2copypal $(DESTDIR)$(INSTALL_BIN)
+	$(BSD_INSTALL_PROGRAM) gdparttopng $(DESTDIR)$(INSTALL_BIN)
+	$(BSD_INSTALL_PROGRAM) webpng $(DESTDIR)$(INSTALL_BIN)
+	$(BSD_INSTALL_PROGRAM) bdftogd $(DESTDIR)$(INSTALL_BIN)
+	$(BSD_INSTALL_DATA) gd.h $(DESTDIR)$(INSTALL_INCLUDE)
+	$(BSD_INSTALL_DATA) gdcache.h $(DESTDIR)$(INSTALL_INCLUDE)
+	$(BSD_INSTALL_DATA) gd_io.h $(DESTDIR)$(INSTALL_INCLUDE)
+	$(BSD_INSTALL_DATA) gdfontg.h $(DESTDIR)$(INSTALL_INCLUDE)
+	$(BSD_INSTALL_DATA) gdfontl.h $(DESTDIR)$(INSTALL_INCLUDE)
+	$(BSD_INSTALL_DATA) gdfontmb.h $(DESTDIR)$(INSTALL_INCLUDE)
+	$(BSD_INSTALL_DATA) gdfonts.h $(DESTDIR)$(INSTALL_INCLUDE)
+	$(BSD_INSTALL_DATA) gdfontt.h $(DESTDIR)$(INSTALL_INCLUDE)
 
 gddemo: gddemo.o libgd.a
 	$(CC) gddemo.o -o gddemo	$(LIBDIRS) $(LIBS)
@@@@ -129,17 +139,21 @@@@
 gdtestttf: gdtestttf.o libgd.a
 	$(CC) gdtestttf.o -o gdtestttf	$(LIBDIRS) $(LIBS)
 
-libgd.a: gd.o gd_gd.o gd_gd2.o gd_io.o gd_io_dp.o gd_io_file.o gd_ss.o \
+OBJS=	gd.o gd_gd.o gd_gd2.o gd_io.o gd_io_dp.o gd_io_file.o gd_ss.o \
 	gd_io_ss.o gd_png.o gd_jpeg.o gdxpm.o gdfontt.o gdfonts.o gdfontmb.o gdfontl.o \
-	gdfontg.o gdtables.o gdttf.o gdcache.o gdkanji.o  wbmp.o gd_wbmp.o \
-	gd.h gdfontt.h gdfonts.h gdfontmb.h gdfontl.h gdfontg.h
-	rm -f libgd.a
-	$(AR) rc libgd.a gd.o gd_gd.o gd_gd2.o gd_io.o gd_io_dp.o \
-		gd_io_file.o gd_ss.o gd_io_ss.o gd_png.o gd_jpeg.o gdxpm.o \
-		gdfontt.o gdfonts.o gdfontmb.o gdfontl.o gdfontg.o \
-		gdtables.o gdttf.o gdcache.o gdkanji.o wbmp.o gd_wbmp.o
-	-ranlib libgd.a
+	gdfontg.o gdtables.o gdttf.o gdcache.o gdkanji.o  wbmp.o gd_wbmp.o
+SHOBJS=	$(OBJS:.o=.so)
+
+.SUFFIXES: .o .so
+
+libgd.a: $(OBJS)
+	$(AR) rc libgd.a $(OBJS)
 
+$(SHLIB): $(SHOBJS)
+	$(CC) -shared $(PICFLAG) -o $(SHLIB) $(SHOBJS)
+	
 clean:
-	rm -f *.o *.a ${PROGRAMS} test/gdtest.jpg test/gdtest.wbmp
+	rm -f *.o *.so ${PROGRAMS} libgd.a $(SHLIB) test/gdtest.jpg test/gdtest.wbmp
 
+.c.so:
+	$(CC) $(CFLAGS) $(PICFLAG) -DPIC -c $? -o $@@
@


1.6
log
@pass the pic flag along to the compiler when linking the shared library.
@
text
@@


1.5
log
@revert switch to libtool, use "cc -shared" to create shared libraries
@
text
@d2 1
a2 1
+++ Makefile	Sat Sep 16 06:47:35 2000
d20 1
a20 1
@@@@ -75,26 +75,35 @@@@
d25 1
d75 1
a75 1
@@@@ -129,17 +138,21 @@@@
d99 1
a99 1
+	$(CC) -shared -o $(SHLIB) $(SHOBJS)
d106 1
a106 1
+	$(CC) $(CFLAGS) -fpic -DPIC -c $? -o $@@
@


1.4
log
@better, eliminates relinking of libraries on installation
@
text
@d2 1
a2 1
+++ Makefile	Thu Sep 14 09:55:01 2000
d20 1
a20 8
@@@@ -69,77 +69,75 @@@@
 
 CC=$(COMPILER) $(INCLUDEDIRS)
 LINK=$(CC) $(LIBDIRS) $(LIBS)
+LIBTOOL=libtool --quiet
 
 PROGRAMS=$(BIN_PROGRAMS) $(TEST_PROGRAMS)
 
d25 1
a25 1
+all: libgd.la $(PROGRAMS)
d27 3
a29 1
-install: libgd.a $(BIN_PROGRAMS)
d47 16
a62 37
-
-gddemo: gddemo.o libgd.a
-	$(CC) gddemo.o -o gddemo	$(LIBDIRS) $(LIBS)
-
-pngtogd: pngtogd.o libgd.a
-	$(CC) pngtogd.o -o pngtogd	$(LIBDIRS) $(LIBS) 
-
-webpng: webpng.o libgd.a
-	$(CC) webpng.o -o webpng	$(LIBDIRS) $(LIBS)
-
-pngtogd2: pngtogd2.o libgd.a
-	$(CC) pngtogd2.o -o pngtogd2	$(LIBDIRS) $(LIBS)
-
-gdtopng: gdtopng.o libgd.a
-	$(CC) gdtopng.o -o gdtopng	$(LIBDIRS) $(LIBS)
-
-gd2topng: gd2topng.o libgd.a
-	$(CC) gd2topng.o -o gd2topng	$(LIBDIRS) $(LIBS)
-
-gd2copypal: gd2copypal.o libgd.a
-	$(CC) gd2copypal.o -o gd2copypal	$(LIBDIRS) $(LIBS)
-
-gdparttopng: gdparttopng.o libgd.a
-	$(CC) gdparttopng.o -o gdparttopng	$(LIBDIRS) $(LIBS)
-
-gdtest: gdtest.o libgd.a
-	$(CC) gdtest.o -o gdtest	$(LIBDIRS) $(LIBS)
+install: libgd.la $(BIN_PROGRAMS)
+	$(LIBTOOL) --mode=install $(BSD_INSTALL_DATA) libgd.la $(DESTDIR)$(INSTALL_LIB)
+	$(LIBTOOL) --mode=install $(BSD_INSTALL_PROGRAM) pngtogd $(DESTDIR)$(INSTALL_BIN)
+	$(LIBTOOL) --mode=install $(BSD_INSTALL_PROGRAM) pngtogd2 $(DESTDIR)$(INSTALL_BIN)
+	$(LIBTOOL) --mode=install $(BSD_INSTALL_PROGRAM) gdtopng $(DESTDIR)$(INSTALL_BIN)
+	$(LIBTOOL) --mode=install $(BSD_INSTALL_PROGRAM) gd2topng $(DESTDIR)$(INSTALL_BIN)
+	$(LIBTOOL) --mode=install $(BSD_INSTALL_PROGRAM) gd2copypal $(DESTDIR)$(INSTALL_BIN)
+	$(LIBTOOL) --mode=install $(BSD_INSTALL_PROGRAM) gdparttopng $(DESTDIR)$(INSTALL_BIN)
+	$(LIBTOOL) --mode=install $(BSD_INSTALL_PROGRAM) webpng $(DESTDIR)$(INSTALL_BIN)
+	$(LIBTOOL) --mode=install $(BSD_INSTALL_PROGRAM) bdftogd $(DESTDIR)$(INSTALL_BIN)
a70 27
+
+gddemo: gddemo.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) gddemo.lo -o gddemo $(LIBDIRS) $(LIBS)
+
+pngtogd: pngtogd.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) pngtogd.lo -o pngtogd $(LIBDIRS) $(LIBS) 
+
+webpng: webpng.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) webpng.lo -o webpng $(LIBDIRS) $(LIBS)
+
+pngtogd2: pngtogd2.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) pngtogd2.lo -o pngtogd2 $(LIBDIRS) $(LIBS)
+
+gdtopng: gdtopng.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) gdtopng.lo -o gdtopng $(LIBDIRS) $(LIBS)
+
+gd2topng: gd2topng.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) gd2topng.lo -o gd2topng $(LIBDIRS) $(LIBS)
+
+gd2copypal: gd2copypal.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) gd2copypal.lo -o gd2copypal $(LIBDIRS) $(LIBS)
+
+gdparttopng: gdparttopng.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) gdparttopng.lo -o gdparttopng $(LIBDIRS) $(LIBS)
+
+gdtest: gdtest.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) gdtest.lo -o gdtest $(LIBDIRS) $(LIBS)
d72 5
a76 9
-gd2time: gd2time.o libgd.a
-	$(CC) gd2time.o -o gd2time	$(LIBDIRS) $(LIBS)
+gd2time: gd2time.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) gd2time.lo -o gd2time $(LIBDIRS) $(LIBS)
 
-gdtestttf: gdtestttf.o libgd.a
-	$(CC) gdtestttf.o -o gdtestttf	$(LIBDIRS) $(LIBS)
+gdtestttf: gdtestttf.o libgd.la
+	$(LIBTOOL) --mode=link $(CC) gdtestttf.lo -o gdtestttf $(LIBDIRS) $(LIBS)
d79 1
a79 1
+libgd.la: gd.o gd_gd.o gd_gd2.o gd_io.o gd_io_dp.o gd_io_file.o gd_ss.o \
d90 6
a95 2
+	$(LIBTOOL) --mode=link $(CC) $(CFLAGS) -o libgd.la $(.ALLSRC:.o=.lo) \
+		-version-info 18:3:0 -rpath $(INSTALL_LIB)
d97 3
d102 1
a102 1
+	rm -f *.o *.lo ${PROGRAMS} libgd.a test/gdtest.jpg test/gdtest.wbmp
d104 2
a105 2
+.c.o:
+	$(LIBTOOL) --mode=compile $(CC) $(CFLAGS) -c $(.IMPSRC)
@


1.3
log
@simplify this patch
@
text
@d2 1
a2 1
+++ Makefile	Thu Sep 14 08:51:15 2000
d20 1
a20 1
@@@@ -69,6 +69,7 @@@@
d28 2
a29 2
@@@@ -78,68 +79,65 @@@@
 all: libgd.a $(PROGRAMS)
d31 4
a34 1
 install: libgd.a $(BIN_PROGRAMS)
d52 28
d97 2
a98 3
 
 gddemo: gddemo.o libgd.a
-	$(CC) gddemo.o -o gddemo	$(LIBDIRS) $(LIBS)
d100 2
a101 3
 
 pngtogd: pngtogd.o libgd.a
-	$(CC) pngtogd.o -o pngtogd	$(LIBDIRS) $(LIBS) 
d103 2
a104 3
 
 webpng: webpng.o libgd.a
-	$(CC) webpng.o -o webpng	$(LIBDIRS) $(LIBS)
d106 2
a107 3
 
 pngtogd2: pngtogd2.o libgd.a
-	$(CC) pngtogd2.o -o pngtogd2	$(LIBDIRS) $(LIBS)
d109 2
a110 3
 
 gdtopng: gdtopng.o libgd.a
-	$(CC) gdtopng.o -o gdtopng	$(LIBDIRS) $(LIBS)
d112 2
a113 3
 
 gd2topng: gd2topng.o libgd.a
-	$(CC) gd2topng.o -o gd2topng	$(LIBDIRS) $(LIBS)
d115 2
a116 3
 
 gd2copypal: gd2copypal.o libgd.a
-	$(CC) gd2copypal.o -o gd2copypal	$(LIBDIRS) $(LIBS)
d118 2
a119 3
 
 gdparttopng: gdparttopng.o libgd.a
-	$(CC) gdparttopng.o -o gdparttopng	$(LIBDIRS) $(LIBS)
d121 2
a122 3
 
 gdtest: gdtest.o libgd.a
-	$(CC) gdtest.o -o gdtest	$(LIBDIRS) $(LIBS)
d125 1
a125 1
 gd2time: gd2time.o libgd.a
d127 1
d130 1
a130 1
 gdtestttf: gdtestttf.o libgd.a
d132 1
d135 2
a136 1
 libgd.a: gd.o gd_gd.o gd_gd2.o gd_io.o gd_io_dp.o gd_io_file.o gd_ss.o \
@


1.2
log
@- remove -L. from LDFLAGS
- use --quiet option with libtool
@
text
@d2 1
a2 1
+++ Makefile	Sat Jul  1 23:25:00 2000
d28 1
a28 1
@@@@ -78,68 +79,68 @@@@
a48 44
-
-gddemo: gddemo.o libgd.a
-	$(CC) gddemo.o -o gddemo	$(LIBDIRS) $(LIBS)
-
-pngtogd: pngtogd.o libgd.a
-	$(CC) pngtogd.o -o pngtogd	$(LIBDIRS) $(LIBS) 
-
-webpng: webpng.o libgd.a
-	$(CC) webpng.o -o webpng	$(LIBDIRS) $(LIBS)
-
-pngtogd2: pngtogd2.o libgd.a
-	$(CC) pngtogd2.o -o pngtogd2	$(LIBDIRS) $(LIBS)
-
-gdtopng: gdtopng.o libgd.a
-	$(CC) gdtopng.o -o gdtopng	$(LIBDIRS) $(LIBS)
-
-gd2topng: gd2topng.o libgd.a
-	$(CC) gd2topng.o -o gd2topng	$(LIBDIRS) $(LIBS)
-
-gd2copypal: gd2copypal.o libgd.a
-	$(CC) gd2copypal.o -o gd2copypal	$(LIBDIRS) $(LIBS)
-
-gdparttopng: gdparttopng.o libgd.a
-	$(CC) gdparttopng.o -o gdparttopng	$(LIBDIRS) $(LIBS)
-
-gdtest: gdtest.o libgd.a
-	$(CC) gdtest.o -o gdtest	$(LIBDIRS) $(LIBS)
-
-gd2time: gd2time.o libgd.a
-	$(CC) gd2time.o -o gd2time	$(LIBDIRS) $(LIBS)
-
-gdtestttf: gdtestttf.o libgd.a
-	$(CC) gdtestttf.o -o gdtestttf	$(LIBDIRS) $(LIBS)
-
-libgd.a: gd.o gd_gd.o gd_gd2.o gd_io.o gd_io_dp.o gd_io_file.o gd_ss.o \
-	gd_io_ss.o gd_png.o gd_jpeg.o gdxpm.o gdfontt.o gdfonts.o gdfontmb.o gdfontl.o \
-	gdfontg.o gdtables.o gdttf.o gdcache.o gdkanji.o  wbmp.o gd_wbmp.o \
-	gd.h gdfontt.h gdfonts.h gdfontmb.h gdfontl.h gdfontg.h
-	rm -f libgd.a
-	$(AR) rc libgd.a gd.o gd_gd.o gd_gd2.o gd_io.o gd_io_dp.o \
-		gd_io_file.o gd_ss.o gd_io_ss.o gd_png.o gd_jpeg.o gdxpm.o \
-		gdfontt.o gdfonts.o gdfontmb.o gdfontl.o gdfontg.o \
-		gdtables.o gdttf.o gdcache.o gdkanji.o wbmp.o gd_wbmp.o
-	-ranlib libgd.a
d66 3
a68 2
+
+gddemo: gddemo.lo libgd.a
d70 3
a72 2
+
+pngtogd: pngtogd.lo libgd.a
d74 3
a76 2
+
+webpng: webpng.lo libgd.a
d78 3
a80 2
+
+pngtogd2: pngtogd2.lo libgd.a
d82 3
a84 2
+
+gdtopng: gdtopng.lo libgd.a
d86 3
a88 2
+
+gd2topng: gd2topng.lo libgd.a
d90 3
a92 2
+
+gd2copypal: gd2copypal.lo libgd.a
d94 3
a96 2
+
+gdparttopng: gdparttopng.lo libgd.a
d98 3
a100 2
+
+gdtest: gdtest.lo libgd.a
d102 3
a104 2
+
+gd2time: gd2time.lo libgd.a
d106 3
a108 2
+
+gdtestttf: gdtestttf.lo libgd.a
d110 14
a123 7
+
+libgd.a: gd.lo gd_gd.lo gd_gd2.lo gd_io.lo gd_io_dp.lo gd_io_file.lo gd_ss.lo \
+	gd_io_ss.lo gd_png.lo gd_jpeg.lo gdxpm.lo gdfontt.lo gdfonts.lo \
+	gdfontmb.lo gdfontl.lo gdfontg.lo gdtables.lo gdttf.lo gdcache.lo \
+	gdkanji.lo wbmp.lo gd_wbmp.lo
+	$(LIBTOOL) --mode=link $(CC) $(CFLAGS) -o libgd.la $(.ALLSRC) \
+	 -version-info 18:3:0 -rpath $(INSTALL_LIB)
d129 1
a129 3
+.SUFFIXES: .c .lo
+
+.c.lo:
@


1.1
log
@- use --mode option with libtool
- use better names for the patches
@
text
@d2 1
a2 1
+++ Makefile	Sat Jun 24 22:23:50 2000
d20 9
a28 1
@@@@ -78,68 +78,68 @@@@
d93 9
a101 9
+	libtool --mode=install $(BSD_INSTALL_DATA) libgd.la $(DESTDIR)$(INSTALL_LIB)
+	libtool --mode=install $(BSD_INSTALL_PROGRAM) pngtogd $(DESTDIR)$(INSTALL_BIN)
+	libtool --mode=install $(BSD_INSTALL_PROGRAM) pngtogd2 $(DESTDIR)$(INSTALL_BIN)
+	libtool --mode=install $(BSD_INSTALL_PROGRAM) gdtopng $(DESTDIR)$(INSTALL_BIN)
+	libtool --mode=install $(BSD_INSTALL_PROGRAM) gd2topng $(DESTDIR)$(INSTALL_BIN)
+	libtool --mode=install $(BSD_INSTALL_PROGRAM) gd2copypal $(DESTDIR)$(INSTALL_BIN)
+	libtool --mode=install $(BSD_INSTALL_PROGRAM) gdparttopng $(DESTDIR)$(INSTALL_BIN)
+	libtool --mode=install $(BSD_INSTALL_PROGRAM) webpng $(DESTDIR)$(INSTALL_BIN)
+	libtool --mode=install $(BSD_INSTALL_PROGRAM) bdftogd $(DESTDIR)$(INSTALL_BIN)
d112 1
a112 1
+	libtool --mode=link $(CC) gddemo.lo -o gddemo $(LIBDIRS) $(LIBS)
d115 1
a115 1
+	libtool --mode=link $(CC) pngtogd.lo -o pngtogd $(LIBDIRS) $(LIBS) 
d118 1
a118 1
+	libtool --mode=link $(CC) webpng.lo -o webpng $(LIBDIRS) $(LIBS)
d121 1
a121 1
+	libtool --mode=link $(CC) pngtogd2.lo -o pngtogd2 $(LIBDIRS) $(LIBS)
d124 1
a124 1
+	libtool --mode=link $(CC) gdtopng.lo -o gdtopng $(LIBDIRS) $(LIBS)
d127 1
a127 1
+	libtool --mode=link $(CC) gd2topng.lo -o gd2topng $(LIBDIRS) $(LIBS)
d130 1
a130 1
+	libtool --mode=link $(CC) gd2copypal.lo -o gd2copypal $(LIBDIRS) $(LIBS)
d133 1
a133 1
+	libtool --mode=link $(CC) gdparttopng.lo -o gdparttopng $(LIBDIRS) $(LIBS)
d136 1
a136 1
+	libtool --mode=link $(CC) gdtest.lo -o gdtest $(LIBDIRS) $(LIBS)
d139 1
a139 1
+	libtool --mode=link $(CC) gd2time.lo -o gd2time $(LIBDIRS) $(LIBS)
d142 1
a142 1
+	libtool --mode=link $(CC) gdtestttf.lo -o gdtestttf $(LIBDIRS) $(LIBS)
d148 1
a148 1
+	libtool --mode=link $(CC) $(CFLAGS) -o libgd.la $(.ALLSRC) \
d158 1
a158 1
+	libtool --mode=compile $(CC) $(CFLAGS) -c $(.IMPSRC)
@

