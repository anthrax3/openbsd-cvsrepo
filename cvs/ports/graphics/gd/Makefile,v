head	1.73;
access;
symbols
	OPENBSD_6_1:1.69.0.2
	OPENBSD_6_1_BASE:1.69
	OPENBSD_6_0:1.68.0.2
	OPENBSD_6_0_BASE:1.68
	OPENBSD_5_9:1.65.0.2
	OPENBSD_5_9_BASE:1.65
	OPENBSD_5_8:1.61.0.4
	OPENBSD_5_8_BASE:1.61
	OPENBSD_5_7:1.59.0.4
	OPENBSD_5_7_BASE:1.59
	OPENBSD_5_6:1.59.0.2
	OPENBSD_5_6_BASE:1.59
	OPENBSD_5_5:1.58.0.4
	OPENBSD_5_5_BASE:1.58
	OPENBSD_5_4:1.58.0.2
	OPENBSD_5_4_BASE:1.58
	OPENBSD_5_3:1.56.0.2
	OPENBSD_5_3_BASE:1.56
	OPENBSD_5_2:1.55.0.8
	OPENBSD_5_2_BASE:1.55
	OPENBSD_5_1_BASE:1.55
	OPENBSD_5_1:1.55.0.6
	OPENBSD_5_0:1.55.0.4
	OPENBSD_5_0_BASE:1.55
	OPENBSD_4_9:1.55.0.2
	OPENBSD_4_9_BASE:1.55
	OPENBSD_4_8:1.52.0.4
	OPENBSD_4_8_BASE:1.52
	OPENBSD_4_7:1.52.0.2
	OPENBSD_4_7_BASE:1.52
	OPENBSD_4_6:1.51.0.8
	OPENBSD_4_6_BASE:1.51
	OPENBSD_4_5:1.51.0.6
	OPENBSD_4_5_BASE:1.51
	OPENBSD_4_4:1.51.0.4
	OPENBSD_4_4_BASE:1.51
	OPENBSD_4_3:1.51.0.2
	OPENBSD_4_3_BASE:1.51
	OPENBSD_4_2:1.50.0.2
	OPENBSD_4_2_BASE:1.50
	OPENBSD_4_1:1.47.0.2
	OPENBSD_4_1_BASE:1.47
	OPENBSD_4_0:1.46.0.2
	OPENBSD_4_0_BASE:1.46
	OPENBSD_3_9:1.44.0.2
	OPENBSD_3_9_BASE:1.44
	OPENBSD_3_8:1.38.0.4
	OPENBSD_3_8_BASE:1.38
	OPENBSD_3_7:1.38.0.2
	OPENBSD_3_7_BASE:1.38
	OPENBSD_3_6:1.37.0.6
	OPENBSD_3_6_BASE:1.37
	OPENBSD_3_5:1.37.0.4
	OPENBSD_3_5_BASE:1.37
	OPENBSD_3_4:1.37.0.2
	OPENBSD_3_4_BASE:1.37
	OPENBSD_3_3:1.36.0.2
	OPENBSD_3_3_BASE:1.36
	OPENBSD_3_2:1.35.0.2
	OPENBSD_3_2_BASE:1.35
	OPENBSD_3_1:1.34.0.2
	OPENBSD_3_1_BASE:1.34
	OPENBSD_3_0:1.32.0.2
	OPENBSD_3_0_BASE:1.32
	OPENBSD_2_9_TRACKING_SWITCH:1.32
	OPENBSD_2_9:1.31.0.2
	OPENBSD_2_9_BASE:1.31
	OPENBSD_2_8:1.27.0.2
	OPENBSD_2_8_BASE:1.27
	OPENBSD_2_7:1.14.0.2
	OPENBSD_2_7_BASE:1.14
	OPENBSD_2_6:1.4.0.2
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.1.1.1.0.2
	OPENBSD_2_5_BASE:1.1.1.1
	brad-1999-02-21:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.73
date	2017.07.26.22.45.23;	author sthen;	state Exp;
branches;
next	1.72;
commitid	tD4MFrpYYDDL2UFT;

1.72
date	2017.07.16.19.18.56;	author espie;	state Exp;
branches;
next	1.71;
commitid	tt0GhWK5c4uf9ILG;

1.71
date	2017.05.15.19.54.22;	author rsadowski;	state Exp;
branches;
next	1.70;
commitid	ZxOldxFfKWEXNImH;

1.70
date	2017.04.10.11.46.20;	author sthen;	state Exp;
branches;
next	1.69;
commitid	BLsh88fJB8thZTwY;

1.69
date	2016.09.13.15.29.02;	author naddy;	state Exp;
branches;
next	1.68;
commitid	ZR0IP7QclqedYIO6;

1.68
date	2016.07.06.08.46.01;	author jasper;	state Exp;
branches;
next	1.67;
commitid	qvhAkL3FgxrvZYNm;

1.67
date	2016.06.30.13.27.42;	author jasper;	state Exp;
branches;
next	1.66;
commitid	ykBD1GFmiII4Yy7Q;

1.66
date	2016.05.09.06.29.18;	author ajacoutot;	state Exp;
branches;
next	1.65;
commitid	Vjp4cS7MNjaZpnrh;

1.65
date	2015.11.14.12.54.19;	author sthen;	state Exp;
branches
	1.65.2.1;
next	1.64;
commitid	kzBnR7imv3z3mYea;

1.64
date	2015.11.14.12.45.46;	author sthen;	state Exp;
branches;
next	1.63;
commitid	5MM14St8SCZ5rvkV;

1.63
date	2015.11.14.12.41.53;	author sthen;	state Exp;
branches;
next	1.62;
commitid	f8WPxAoZC1BTUuuw;

1.62
date	2015.08.17.19.52.39;	author sthen;	state Exp;
branches;
next	1.61;
commitid	bdULBh9zZMZltgme;

1.61
date	2015.05.22.11.31.15;	author ajacoutot;	state Exp;
branches;
next	1.60;
commitid	2khjHXfpTaOuNVcx;

1.60
date	2015.03.26.09.16.31;	author jasper;	state Exp;
branches;
next	1.59;
commitid	CO7VYOz5EeIzje7n;

1.59
date	2014.03.17.23.20.57;	author sthen;	state Exp;
branches
	1.59.2.1
	1.59.4.1;
next	1.58;

1.58
date	2013.03.21.08.45.18;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2013.03.11.11.10.52;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2012.10.12.14.53.39;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2010.11.17.08.05.13;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2010.10.24.21.21.00;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2010.09.27.19.54.28;	author naddy;	state Exp;
branches;
next	1.52;

1.52
date	2010.01.04.15.05.49;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2007.09.15.20.09.40;	author simon;	state Exp;
branches
	1.51.8.1;
next	1.50;

1.50
date	2007.07.02.10.46.04;	author steven;	state Exp;
branches;
next	1.49;

1.49
date	2007.05.31.18.32.06;	author rui;	state Exp;
branches;
next	1.48;

1.48
date	2007.04.08.15.31.01;	author sturm;	state Exp;
branches;
next	1.47;

1.47
date	2007.02.17.16.30.11;	author bernd;	state Exp;
branches
	1.47.2.1;
next	1.46;

1.46
date	2006.08.02.10.10.35;	author espie;	state Exp;
branches
	1.46.2.1;
next	1.45;

1.45
date	2006.06.15.22.18.25;	author bernd;	state Exp;
branches;
next	1.44;

1.44
date	2006.01.08.01.38.36;	author steven;	state Exp;
branches
	1.44.2.1;
next	1.43;

1.43
date	2005.12.26.14.40.13;	author steven;	state Exp;
branches;
next	1.42;

1.42
date	2005.10.24.05.02.40;	author fgsch;	state Exp;
branches;
next	1.41;

1.41
date	2005.10.16.16.48.14;	author fgsch;	state Exp;
branches;
next	1.40;

1.40
date	2005.10.13.06.55.22;	author fgsch;	state Exp;
branches;
next	1.39;

1.39
date	2005.10.12.05.37.43;	author fgsch;	state Exp;
branches;
next	1.38;

1.38
date	2004.11.30.01.06.34;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2003.04.19.13.30.47;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2002.12.29.20.08.46;	author fgsch;	state Exp;
branches;
next	1.35;

1.35
date	2002.04.26.14.48.19;	author brad;	state Exp;
branches;
next	1.34;

1.34
date	2002.03.25.14.52.21;	author brad;	state Exp;
branches;
next	1.33;

1.33
date	2002.02.03.19.45.46;	author brad;	state Exp;
branches;
next	1.32;

1.32
date	2001.05.24.02.27.28;	author kevlo;	state Exp;
branches;
next	1.31;

1.31
date	2001.04.21.14.47.05;	author brad;	state Exp;
branches;
next	1.30;

1.30
date	2001.03.07.21.15.06;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2001.02.26.16.29.35;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2000.11.21.20.59.55;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2000.09.24.07.04.06;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2000.09.16.11.44.47;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	2000.09.08.21.32.55;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2000.07.20.07.43.20;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2000.07.04.02.09.20;	author krw;	state Exp;
branches;
next	1.22;

1.22
date	2000.07.03.05.48.47;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2000.07.02.03.41.06;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2000.06.25.22.26.27;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2000.06.22.09.08.16;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2000.06.22.06.18.38;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2000.06.22.03.48.45;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2000.06.12.17.25.48;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2000.05.21.12.39.00;	author fgsch;	state Exp;
branches;
next	1.14;

1.14
date	2000.03.30.21.43.10;	author brad;	state Exp;
branches
	1.14.2.1;
next	1.13;

1.13
date	2000.03.24.23.28.09;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.03.15.19.12.47;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.05.18.30.28;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.05.00.44.31;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.04.23.58.54;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2000.01.20.04.11.31;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	99.11.26.16.50.03;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.11.26.15.47.53;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	99.11.16.08.03.23;	author kevlo;	state Exp;
branches;
next	1.4;

1.4
date	99.08.17.12.40.34;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	99.08.17.12.28.45;	author downsj;	state Exp;
branches;
next	1.2;

1.2
date	99.07.26.00.36.34;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.02.21.23.28.05;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.02.21.23.28.05;	author brad;	state Exp;
branches;
next	;

1.14.2.1
date	2000.09.15.04.53.11;	author marc;	state Exp;
branches;
next	;

1.44.2.1
date	2006.06.17.16.07.25;	author sturm;	state Exp;
branches;
next	1.44.2.2;

1.44.2.2
date	2007.02.18.16.07.54;	author sturm;	state Exp;
branches;
next	;

1.46.2.1
date	2007.02.18.16.14.43;	author sturm;	state Exp;
branches;
next	1.46.2.2;

1.46.2.2
date	2007.06.06.06.07.43;	author sturm;	state Exp;
branches;
next	;

1.47.2.1
date	2007.06.06.06.07.18;	author sturm;	state Exp;
branches;
next	;

1.51.8.1
date	2010.01.31.01.47.28;	author william;	state Exp;
branches;
next	;

1.59.2.1
date	2015.03.26.09.16.45;	author jasper;	state Exp;
branches;
next	;
commitid	Ujfho7A0zURBIGfq;

1.59.4.1
date	2015.03.26.09.16.39;	author jasper;	state Exp;
branches;
next	;
commitid	CKK6fPXgB3Mt4BK6;

1.65.2.1
date	2016.05.18.08.28.55;	author jasper;	state Exp;
branches;
next	1.65.2.2;
commitid	76VoLxefVTjGg986;

1.65.2.2
date	2016.06.30.13.28.34;	author jasper;	state Exp;
branches;
next	1.65.2.3;
commitid	Os0o6dPRKCKU4CpC;

1.65.2.3
date	2016.07.06.08.46.13;	author jasper;	state Exp;
branches;
next	;
commitid	3OIbJDNn9LVr7Mzm;


desc
@@


1.73
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.72 2017/07/16 19:18:56 espie Exp $

COMMENT=	library for dynamic creation of images

V=		2.2.4
DISTNAME=	libgd-$V
PKGNAME=	gd-$V
REVISION=	0

SHARED_LIBS +=	gd                   22.0     # 3.0

CATEGORIES=	graphics

HOMEPAGE=	http://www.libgd.org/

PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c expat fontconfig freetype iconv jpeg m png pthread
WANTLIB += pthread-stubs ${COMPILER_LIBCXX} tiff webp z

MASTER_SITES=	https://github.com/libgd/libgd/releases/download/${PKGNAME}/

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --without-xpm

LIB_DEPENDS=	converters/libiconv \
		graphics/jpeg \
		graphics/libwebp \
		graphics/png \
		graphics/tiff

.include <bsd.port.mk>
@


1.72
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2017/05/15 19:54:22 rsadowski Exp $
d8 1
@


1.71
log
@update to gd-2.2.4

SECURITY fix for:
CVE-2016-9317,CVE-2016-6912,CVE-2016-10166,CVE-2016-10167,
CVE-2016-5767,CVE-2016-10168,CVE-2015-8874,CVE-2016-9933

Initial diff from me, diff to replace multimedia/libvpx with
graphics/libwebp from Brad Smith

ok sthen@@, "looks okay" @@landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2017/04/10 11:46:20 sthen Exp $
d18 1
a18 1
WANTLIB += pthread-stubs ${LIBCXX} tiff webp z
@


1.70
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2016/09/13 15:29:02 naddy Exp $
d5 1
a5 2
V=		2.1.1
REVISION=	3
d9 1
a9 1
SHARED_LIBS +=	gd                   21.1     # 3.0
d18 1
a18 1
WANTLIB += pthread-stubs ${LIBCXX} tiff vpx z
d20 1
a20 1
MASTER_SITES=	https://bitbucket.org/libgd/gd-libgd/downloads/
d27 1
d29 1
a29 2
		graphics/tiff \
		multimedia/libvpx
@


1.69
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2016/07/06 08:46:01 jasper Exp $
d19 1
a19 1
WANTLIB += pthread-stubs stdc++ tiff vpx z
@


1.68
log
@Fix for CVE-2016-6161; from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2016/06/30 13:27:42 jasper Exp $
d18 1
a18 1
WANTLIB += c expat fontconfig freetype jpeg m png pthread
d26 2
a27 1
LIB_DEPENDS=	graphics/jpeg \
a30 2

MODULES=	converters/libiconv
@


1.67
log
@Security fix for CVE-2016-6128 (libgd does not properly handle invalid color
index which could lead to a denial of service against applications using the
libgd library).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2016/05/09 06:29:18 ajacoutot Exp $
d6 1
a6 1
REVISION=	2
@


1.66
log
@SECURITY: gd2: handle corrupt images better (CVE-2016-3074)

from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2015/11/14 12:54:19 sthen Exp $
d6 1
a6 1
REVISION=	1
@


1.65
log
@ENOTENOUGHCOFFEE: actually bump gd's shared library minor like I intended to.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2015/11/14 12:45:46 sthen Exp $
d6 1
a6 1
REVISION=	0
@


1.65.2.1
log
@security fix for CVE-2016-3074
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2015/11/14 12:54:19 sthen Exp $
d6 1
a6 1
REVISION=	1
@


1.65.2.2
log
@Security fix for CVE-2016-6128 (libgd does not properly handle invalid color
index which could lead to a denial of service against applications using the
libgd library).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65.2.1 2016/05/18 08:28:55 jasper Exp $
d6 1
a6 1
REVISION=	2
@


1.65.2.3
log
@Fix for CVE-2016-6161; from upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65.2.2 2016/06/30 13:28:34 jasper Exp $
d6 1
a6 1
REVISION=	3
@


1.64
log
@remove SEPARATE_BUILD that I added in previous commit, build is ok with it
but tests don't find a .h
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/11/14 12:41:53 sthen Exp $
d6 1
d10 1
a10 1
SHARED_LIBS +=	gd                   21.0     # 3.0
@


1.63
log
@update to gd-2.1.1, based on a diff from Rafael Sadowski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2015/08/17 19:52:39 sthen Exp $
a23 1
SEPARATE_BUILD=	Yes
@


1.62
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2015/05/22 11:31:15 ajacoutot Exp $
d5 1
a5 1
V=		2.1.0
a7 1
REVISION=	2
d9 1
a9 1
SHARED_LIBS=	gd	21.0
d22 1
d24 1
a31 2

CONFIGURE_STYLE= gnu
@


1.61
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2015/03/26 09:16:31 jasper Exp $
d8 1
a8 1
REVISION=	1
d19 1
a19 1
WANTLIB += pthread-stubs tiff vpx z
@


1.60
log
@Security fix for CVE-2014-9709, gd: buffer read overflow in gd_gif_in.c

php-gd was already fixed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/03/17 23:20:57 sthen Exp $
d8 1
a8 1
REVISION=	0
@


1.59
log
@update to libgd 2.1.0; ok brad@@. wantlib syncs to follow.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/03/21 08:45:18 ajacoutot Exp $
d8 1
@


1.59.2.1
log
@Security fix for CVE-2014-9709, gd: buffer read overflow in gd_gif_in.c

php-gd was already fixed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/03/17 23:20:57 sthen Exp $
a7 1
REVISION=	0
@


1.59.4.1
log
@Security fix for CVE-2014-9709, gd: buffer read overflow in gd_gif_in.c

php-gd was already fixed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/03/17 23:20:57 sthen Exp $
a7 1
REVISION=	0
@


1.58
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2013/03/11 11:10:52 espie Exp $
d5 6
a10 3
DISTNAME=	gd-2.0.35
REVISION=	1
SHARED_LIBS=	gd	20.35
a11 1
MASTER_SITES=	${HOMEPAGE}/releases/
d15 1
a15 2
LIB_DEPENDS=	graphics/jpeg \
		graphics/png
d17 2
a18 1
MODULES=	converters/libiconv
d20 1
a20 1
WANTLIB=	c expat fontconfig freetype jpeg m png z
a21 3
PERMIT_PACKAGE_CDROM=	Yes

CONFIGURE_STYLE= gnu
d24 4
d29 1
a29 2
post-patch:
	@@cd ${WRKSRC} && touch Makefile.in aclocal.m4 config.hin configure
d31 1
a31 5
post-install:
	@@cd ${WRKSRC} && ./gddemo
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gd
	cd ${WRKSRC} && ${INSTALL_DATA} demoin.png demoout.png index.html \
	    ${PREFIX}/share/examples/gd
@


1.57
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/10/12 14:53:39 sthen Exp $
a24 1
USE_LIBTOOL=	Yes
@


1.56
log
@bump various packages with static libs which frequently get pulled in;
this is to force pkg_add -u to pick them up because moving to PIE does change
these files but since there are no library bumps, the package signature stays
the same.

there are probably others, these are just ones I've run into. not a great
fix, and needs to be repeated when other arch move, but it's the simplest low
impact fix and I'm fed up with "relocation R_X86_64_32S can not be used
when making a shared object; recompile with -fPIC"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/11/17 08:05:13 espie Exp $
a20 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.55
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/10/24 21:21:00 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
@


1.54
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/09/27 19:54:28 naddy Exp $
d13 2
a14 2
LIB_DEPENDS=	::graphics/jpeg \
		::graphics/png
@


1.53
log
@* fix timestamps to prevent autotools cascade from triggering
* switch to REVISION and new LIB_DEPENDS/WANTLIB while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/01/04 15:05:49 jasper Exp $
a27 1
USE_X11=	Yes
@


1.52
log
@SECURITY FIX for CVE-2009-3546
buffer overflow or buffer over-read attacks via a crafted GD file
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2007/09/15 20:09:40 simon Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d13 2
a14 2
LIB_DEPENDS=	jpeg.>=62::graphics/jpeg \
		png.>=2::graphics/png
d18 1
a18 1
WANTLIB=	c expat fontconfig freetype m z
d30 3
@


1.51
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2007/07/02 10:46:04 steven Exp $
d6 1
d9 1
a9 1
MASTER_SITES=	${HOMEPAGE}releases/
@


1.51.8.1
log
@MFC:

SECURITY FIX

Resolves CVE-2009-3546

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2007/09/15 20:09:40 simon Exp $
a5 1
PKGNAME=	${DISTNAME}p0
@


1.50
log
@update to 2.0.35

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2007/05/31 18:32:06 rui Exp $
d3 1
a3 1
COMMENT=	"library for dynamic creation of images"
@


1.49
log
@roll in a distribution patch which fixes:

CVE-2007-2756 gdPngReadData function allows user-assisted attackers to cause a denial of service
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2756

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2007/04/08 15:31:01 sturm Exp $
d5 2
a6 3
DISTNAME=	gd-2.0.34
PKGNAME=	${DISTNAME}p1
SHARED_LIBS=	gd	20.34
@


1.48
log
@fix WANTLIB after switch to xenocara
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2007/02/17 16:30:11 bernd Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.47
log
@Security update to gd-2.0.34. (CVE-2007-0455)

This update fixes multiple security vulnerabilities.

More info:
http://www.libgd.org/ReleaseNote020034
http://secunia.com/advisories/23916/

Tested in a bulk build by steven@@. Thanks!

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2006/08/02 10:10:35 espie Exp $
d6 1
d18 1
a18 1
WANTLIB=	c fontconfig freetype m z
@


1.47.2.1
log
@MFC:
roll in a distribution patch which fixes:

CVE-2007-2756 gdPngReadData function allows user-assisted attackers to
cause a denial of service
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2756
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2007/02/17 16:30:11 bernd Exp $
a5 1
PKGNAME=	${DISTNAME}p1
@


1.46
log
@more new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2006/06/15 22:18:25 bernd Exp $
d5 2
a6 3
DISTNAME=	gd-2.0.33
PKGNAME=	${DISTNAME}p3
SHARED_LIBS=	gd	20.33
d8 1
a8 1
MASTER_SITES=	http://www.boutell.com/gd/http/
d10 1
a10 1
HOMEPAGE=	http://www.boutell.com/gd/
@


1.46.2.1
log
@MFC:
Security update to gd-2.0.34. (CVE-2007-0455)

This update fixes multiple security vulnerabilities.

More info:
http://www.libgd.org/ReleaseNote020034
http://secunia.com/advisories/23916/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2006/08/02 10:10:35 espie Exp $
d5 3
a7 2
DISTNAME=	gd-2.0.34
SHARED_LIBS=	gd	20.34
d9 1
a9 1
MASTER_SITES=	${HOMEPAGE}releases/
d11 1
a11 1
HOMEPAGE=	http://www.libgd.org/
@


1.46.2.2
log
@MFC:
roll in a distribution patch which fixes:

CVE-2007-2756 gdPngReadData function allows user-assisted attackers to
cause a denial of service
http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2756
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46.2.1 2007/02/18 16:14:43 sturm Exp $
a5 1
PKGNAME=	${DISTNAME}p1
@


1.45
log
@Security fix for gd-2.0.33. (CVE-2006-2906)

Fixes an infinite loop error within the handling of GIF images.

Detailed information: http://secunia.com/advisories/20500/

Fix from Xavier Roche via Ubuntu via NetBSD

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/01/08 01:38:36 steven Exp $
d13 2
a14 2
LIB_DEPENDS=	jpeg.62::graphics/jpeg \
		png.2::graphics/png
@


1.44
log
@remove MODGNU_SHARED_LIBS, LIBname_ALIAS and related patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2005/12/26 14:40:13 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.44.2.1
log
@MFC:
Security fix for gd-2.0.33. (CVE-2006-2906)

Fixes an infinite loop error within the handling of GIF images.

Detailed information: http://secunia.com/advisories/20500/

Fix from Xavier Roche via Ubuntu via NetBSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2006/01/08 01:38:36 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
@


1.44.2.2
log
@MFC:
Security update to gd-2.0.34. (CVE-2007-0455)

This update fixes multiple security vulnerabilities.

More info:
http://www.libgd.org/ReleaseNote020034
http://secunia.com/advisories/23916/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44.2.1 2006/06/17 16:07:25 sturm Exp $
d5 3
a7 2
DISTNAME=	gd-2.0.34
SHARED_LIBS=	gd	20.34
d9 1
a9 1
MASTER_SITES=	${HOMEPAGE}releases/
d11 1
a11 1
HOMEPAGE=	http://www.libgd.org/
@


1.43
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2005/10/24 05:02:40 fgsch Exp $
d7 1
a7 2
SHARED_LIBS=		gd	20.33
MODGNU_SHARED_LIBS=	gd	''
@


1.42
log
@try again: remove ttf, X11, Xpm and pthreads dependencies.
use libtool, from bernd@@.
sturm@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2005/10/13 06:55:22 fgsch Exp $
d7 2
@


1.41
log
@revert ttf removal until all the gd ports that depend on it are also
aware of this. report by sturm@@. sorry about this.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2005/10/12 05:37:43 fgsch Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d13 1
a13 2
		png.2::graphics/png \
		ttf.1.3::print/freetype
d17 1
a17 1
WANTLIB=	X11 Xpm c fontconfig freetype m ttf z
d25 1
a25 3
CONFIGURE_ENV=	CPPFLAGS="-DHAVE_LIBTTF" \
		LDFLAGS="-L/usr/local/lib" \
		LIBS="-lttf"
d28 1
a28 1
NO_REGRESS=	Yes
@


1.40
log
@remove ttf from dependencies; pointed out by patrick
(sidsrr at yahoo dot com).
@
text
@d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d13 2
a14 1
		png.2::graphics/png
d18 1
a18 1
WANTLIB=	X11 Xpm c fontconfig freetype m z
d26 3
@


1.39
log
@update to gd 2.0.33; brings gif back between many other things.
reviewed by several ppl, many thanks.
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d13 1
a13 2
		png.2::graphics/png \
		ttf.1.3::print/freetype
d17 1
a17 1
WANTLIB=	X11 Xpm c fontconfig freetype m ttf z
a24 3
CONFIGURE_ENV=	CPPFLAGS="-DHAVE_LIBTTF" \
		LDFLAGS="-L/usr/local/lib" \
		LIBS="-lttf"
@


1.38
log
@WANTLIB markers
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.37 2003/04/19 13:30:47 espie Exp $
# $FreeBSD: Makefile,v 1.5 1998/06/25 03:13:16 vanilla Exp $
d3 1
a3 1
COMMENT=	"graphics library for fast PNG creation"
d5 1
a5 1
DISTNAME=	gd-1.8.3
d7 1
a7 2
MASTER_SITES=	http://www.boutell.com/gd/http/ \
		ftp://ftp.boutell.com/pub/boutell/gd/
d15 3
a17 1
MAINTAINER=	Brad Smith <brad@@openbsd.org>
a22 1
WANTLIB=		c m z
d24 4
a27 6
MAKE_FLAGS=	COMPILER="${CC}" prefix="${PREFIX}" \
		CFLAGS="${CFLAGS} -DHAVE_JPEG -DHAVE_LIBTTF" \
		INCLUDEDIRS="-I. -I${LOCALBASE}/include/libpng -I${LOCALBASE}/include/freetype1/freetype -I${LOCALBASE}/include" \
		LIBS="-lgd -lm -lpng -lz -ljpeg -lttf" \
		LIBDIRS="-L. -L${LOCALBASE}/lib"
FAKE_FLAGS=	${MAKE_FLAGS} DESTDIR="${WRKINST}"
d29 1
d33 1
d35 2
a36 3
	${INSTALL_DATA} ${WRKSRC}/demoin.png ${PREFIX}/share/examples/gd
	${INSTALL_DATA} ${WRKSRC}/demoout.png ${PREFIX}/share/examples/gd
	${INSTALL_DATA} ${WRKSRC}/index.html ${PREFIX}/share/examples/gd
a38 4

.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:L} == "yes"
MAKE_ENV+=	NO_SHARED_LIBS=Yes
.endif
@


1.37
log
@move freetype1 includes in a separate subdirectory.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2002/12/29 20:08:46 fgsch Exp $
d23 1
@


1.36
log
@guess what? more NEED_VERSION rm.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/04/26 14:48:19 brad Exp $
d26 1
a26 1
		INCLUDEDIRS="-I. -I${LOCALBASE}/include/libpng -I${LOCALBASE}/include/freetype -I${LOCALBASE}/include" \
@


1.35
log
@png header path change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/03/25 14:52:21 brad Exp $
a7 1
NEED_VERSION=	1.522
@


1.34
log
@rip out no_x11 FLAVOR and make it the default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2002/02/03 19:45:46 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.500
d27 1
a27 1
		INCLUDEDIRS="-I. -I${LOCALBASE}/include -I${LOCALBASE}/include/freetype" \
@


1.33
log
@- bump NEED_VERSION
- rename checksums file
- add regress
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2001/05/24 02:27:28 kevlo Exp $
d25 2
a26 8
MAKE_FLAGS=	COMPILER="${CC}" prefix="${PREFIX}"
FAKE_FLAGS=	${MAKE_FLAGS} DESTDIR="${WRKINST}"

FLAVORS=	no_x11
FLAVOR?=

.if ${FLAVOR:L} == "no_x11"
MAKE_FLAGS+=	CFLAGS="${CFLAGS} -DHAVE_JPEG -DHAVE_LIBTTF" \
d30 1
a30 8
.else
USE_X11=	Yes
MAKE_FLAGS+=	CFLAGS="${CFLAGS} -DHAVE_XPM -DHAVE_JPEG -DHAVE_LIBTTF" \
		INCLUDEDIRS="-I. -I${LOCALBASE}/include -I${LOCALBASE}/include/freetype \
			-I${X11BASE}/include -I${X11BASE}/include/X11" \
		LIBS="-lgd -lm -lpng -lz -ljpeg -lttf -lXpm -lX11" \
		LIBDIRS="-L. -L${LOCALBASE}/lib -L${X11BASE}/lib"
.endif
@


1.32
log
@Bump major rev in png dependeny entries after upgrade of png:
png.1 -> png.2
--
Ok'd by: brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2001/04/21 14:47:05 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.384
d44 2
@


1.31
log
@- integrate COMMENT
- bump NEED_VERSION
- slightly simplify usage of FAKE_FLAGS
- MAKE_ENV= -> MAKE_ENV+=; should fix problem art@@ has been seeing.
--
Ok'd by: espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/03/07 21:15:06 brad Exp $
d15 1
a15 1
		png.1::graphics/png \
@


1.30
log
@include freetype header path.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/02/26 16:29:35 brad Exp $
d4 2
d8 1
a8 1
NEED_VERSION=	1.336
d26 1
a26 1
FAKE_FLAGS=	DESTDIR="${WRKINST}"
a35 1
FAKE_FLAGS+=	${MAKE_FLAGS}
a42 1
FAKE_FLAGS+=	${MAKE_FLAGS}
d54 1
a54 1
MAKE_ENV=	NO_SHARED_LIBS=Yes
@


1.29
log
@add missing colon in freetype library dependency entry.
--
Pointed out by: Matthias Gartmeier <mgartmeier@@travelscout24.ch>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2000/11/21 20:59:55 brad Exp $
d31 1
a31 1
		INCLUDEDIRS="-I. -I${LOCALBASE}/include" \
d38 2
a39 1
		INCLUDEDIRS="-I. -I${LOCALBASE}/include -I${X11BASE}/include -I${X11BASE}/include/X11" \
@


1.28
log
@make use of FreeType with the no_x11 FLAVOR too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2000/09/24 07:04:06 brad Exp $
d14 1
a14 1
		ttf.1.3:print/freetype
@


1.27
log
@add name to MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2000/09/16 11:44:47 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.330
d13 2
a14 1
		png.1::graphics/png
d30 1
a30 1
MAKE_FLAGS+=	CFLAGS="${CFLAGS} -DHAVE_JPEG" \
d32 1
a32 1
		LIBS="-lgd -lm -lpng -ljpeg -lz" \
a35 1
LIB_DEPENDS+=	ttf.1.3::print/freetype
@


1.26
log
@revert switch to libtool, use "cc -shared" to create shared libraries
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2000/09/08 21:32:55 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.310
d15 1
a15 1
MAINTAINER=	brad@@openbsd.org
@


1.25
log
@add USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/07/20 07:43:20 brad Exp $
a21 1
USE_LIBTOOL=	Yes
d30 3
a32 3
		LIBS="libgd.la -lm -lpng -ljpeg -lz" \
		INCLUDEDIRS="-I. -I/usr/local/include" \
		LIBDIRS="-L/usr/local/lib"
d38 3
a40 3
		LIBS="libgd.la -lm -lpng -lz -ljpeg -lttf -lXpm -lX11" \
		INCLUDEDIRS="-I. -I/usr/local/include -I/usr/X11R6/include -I/usr/X11R6/include/X11" \
		LIBDIRS="-L/usr/local/lib -L/usr/X11R6/lib"
d51 4
@


1.24
log
@change the placement of LIB_DEPENDS line for freetype
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/07/04 02:09:20 krw Exp $
d37 1
@


1.23
log
@Change PFRAG.shared ldconfig invocation(s) to
DYNLIBDIR() invocations.

Bump NEED_VERSION to 1.310 so DYNLIBDIR() works.

As requested by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/07/03 05:48:47 brad Exp $
a13 3
.if !defined(FLAVOR)
LIB_DEPENDS+=	ttf.1.3::print/freetype
.endif
d36 1
@


1.22
log
@fix the use of FLAVOR variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/07/02 03:41:06 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.301
@


1.21
log
@- remove -L. from LDFLAGS
- use --quiet option with libtool
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/06/25 22:26:27 brad Exp $
d30 1
d32 1
a32 1
.if defined(FLAVOR) && ${FLAVOR:L} == "no_x11"
@


1.20
log
@change dependency, png.1.6 -> png.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/06/22 09:08:16 brad Exp $
d35 1
a35 1
		LIBDIRS="-L. -L/usr/local/lib"
d41 1
a41 1
		LIBDIRS="-L. -L/usr/local/lib -L/usr/X11R6/lib"
@


1.19
log
@make gd's Makefile make use of DESTDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/06/22 06:18:38 brad Exp $
d13 1
a13 1
		png.1.6::graphics/png
@


1.18
log
@switch to libtool for shared library creation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/06/22 03:48:45 brad Exp $
d26 2
a27 1
MAKE_FLAGS=	COMPILER="${CC}"
@


1.17
log
@add a no_x11 flavor build which can be very useful for people wanting to
use MRTG on system(s) without X11 being installed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/06/12 17:25:48 brad Exp $
d25 1
d32 1
a32 1
		LIBS="-lm -lgd -lpng -ljpeg -lz" \
d35 1
d38 1
a38 1
		LIBS="-lm -lgd -lpng -lz -ljpeg -lttf -lXpm -lX11" \
d41 1
a50 4

.if defined(NO_SHARED_LIBS) && ${NO_SHARED_LIBS:U} == YES
MAKE_ENV=	NO_SHARED_LIBS=	Yes
.endif
@


1.16
log
@upgrade to gd 1.8.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/05/21 12:39:00 fgsch Exp $
d13 4
a16 2
		png.1.6::graphics/png \
		ttf.1.3::print/freetype
d26 14
@


1.15
log
@update libpng dependency since minor changed; sigh sigh.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/03/30 21:43:10 brad Exp $
d4 1
a4 1
DISTNAME=	gd-1.8.1
d6 1
a6 1
NEED_VERSION=	1.230
a21 4

FAKE=	Yes

NO_CONFIGURE=	Yes
@


1.14
log
@change spaces to a tab
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/03/24 23:28:09 espie Exp $
d13 1
a13 1
		png.1.3::graphics/png \
@


1.14.2.1
log
@bring graphics as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/07/20 07:43:20 brad Exp $
d4 1
a4 1
DISTNAME=	gd-1.8.3
d6 1
a6 1
NEED_VERSION=	1.310
d13 2
a14 1
		png.1::graphics/png
d23 5
a27 21
USE_LIBTOOL=	Yes
MAKE_FLAGS=	COMPILER="${CC}" prefix="${PREFIX}"
FAKE_FLAGS=	DESTDIR="${WRKINST}"

FLAVORS=	no_x11
FLAVOR?=

.if ${FLAVOR:L} == "no_x11"
MAKE_FLAGS+=	CFLAGS="${CFLAGS} -DHAVE_JPEG" \
		LIBS="libgd.la -lm -lpng -ljpeg -lz" \
		INCLUDEDIRS="-I. -I/usr/local/include" \
		LIBDIRS="-L/usr/local/lib"
FAKE_FLAGS+=	${MAKE_FLAGS}
.else
LIB_DEPENDS+=	ttf.1.3::print/freetype
MAKE_FLAGS+=	CFLAGS="${CFLAGS} -DHAVE_XPM -DHAVE_JPEG -DHAVE_LIBTTF" \
		LIBS="libgd.la -lm -lpng -lz -ljpeg -lttf -lXpm -lX11" \
		INCLUDEDIRS="-I. -I/usr/local/include -I/usr/X11R6/include -I/usr/X11R6/include/X11" \
		LIBDIRS="-L/usr/local/lib -L/usr/X11R6/lib"
FAKE_FLAGS+=	${MAKE_FLAGS}
.endif
d36 4
@


1.13
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/03/15 19:12:47 brad Exp $
d6 1
a6 1
NEED_VERSION=	 1.230
@


1.12
log
@upgrade to gd 1.8.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/03/05 18:30:28 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.223
d12 3
a14 3
LIB_DEPENDS=	jpeg.62:graphics/jpeg \
		png.1.3:graphics/png \
		ttf.1.3:print/freetype
@


1.11
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/03/05 00:44:31 brad Exp $
d4 1
a4 1
DISTNAME=	gd-1.7.3
d12 2
a13 1
LIB_DEPENDS=	png.1.3:graphics/png \
d26 2
@


1.10
log
@meaning of "without fee" in license clarified with the author, we can
include the package and distfiles on the CD.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/03/04 23:58:54 brad Exp $
d6 1
d12 2
a13 4
NEED_VERSION=	1.218

LIB_DEPENDS=	png.1.3:${PORTSDIR}/graphics/png \
		ttf.1.3:${PORTSDIR}/print/freetype
@


1.9
log
@- add license info
- add NO_CONFIGURE
- Fake
- check if NO_SHARED_LIBS is set to yes instead of just being defined
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/01/20 04:11:31 brad Exp $
d18 1
a18 1
PERMIT_PACKAGE_CDROM=	No
d20 1
a20 1
PERMIT_DISTFILES_CDROM=	No
@


1.8
log
@- bump freetype shared lib version # after upgrade for dependency list
- mkdir -> ${INSTALL_DATA_DIR}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/11/26 16:50:03 brad Exp $
d11 1
a11 1
NEED_VERSION=	1.73
d18 9
a31 1
	@@${LDCONFIG} -m ${PREFIX}/lib
d35 2
a36 2
.if defined(NO_SHARED_LIBS)
MAKE_ENV= NO_SHARED_LIBS=yes
@


1.7
log
@- add support for a shared library
- make gd respect CFLAGS
- add patch to suppress malloc.h warnings
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/11/26 15:47:53 brad Exp $
d14 1
a14 1
		ttf.1.2:${PORTSDIR}/print/freetype
d19 1
a19 1
	@@mkdir -p ${PREFIX}/share/examples/gd
@


1.6
log
@- add demoout.png example image to post-install target
- cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/08/17 12:40:34 downsj Exp $
d26 4
@


1.5
log
@Update to version 1.7.3. Fix PLIST.
@
text
@d9 4
a16 1
HOMEPAGE=	http://www.boutell.com/gd/
d19 1
a19 1
	@@${MKDIR} ${PREFIX}/share/examples/gd
d21 1
d23 1
@


1.4
log
@Proper dependancies and work around weird configure problem.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/08/17 12:28:45 downsj Exp $
d4 1
a4 1
DISTNAME=	gd-1.6.3
a8 2
NEED_VERSION=	1.73

a13 6

SEPARATE_BUILD=	concurrent
GNU_CONFIGURE=	yes
CONFIGURE_ENV=	LDFLAGS=-L/usr/local/lib
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --enable-static
@


1.3
log
@gd 1.6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/07/26 00:36:34 brad Exp $
d11 2
a12 1
LIB_DEPENDS=	png.1.3:${PORTSDIR}/graphics/png
d19 1
@


1.2
log
@upgrade to gd 1.6.2;

- this version now generates the .PNG graphics file format and NOT .GIF,
this is due to the patent Unisys has on LZW compression.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/02/21 23:28:05 brad Exp $
d4 1
a4 1
DISTNAME=	gd-1.6.2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 2
DISTNAME=       gd1.3
PKGNAME=        gd-1.3
d6 6
a11 1
MASTER_SITES=   ftp://www.boutell.com/pub/boutell/gd/
d16 9
a24 3
pre-install:
	${MKDIR} ${PREFIX}/include/gd
	${MKDIR} ${PREFIX}/share/examples/gd
@


1.1.1.1
log
@add gd port
@
text
@@
