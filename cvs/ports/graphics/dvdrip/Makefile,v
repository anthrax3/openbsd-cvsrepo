head	1.21;
access;
symbols
	OPENBSD_6_1:1.20.0.4
	OPENBSD_6_1_BASE:1.20
	OPENBSD_6_0:1.20.0.2
	OPENBSD_6_0_BASE:1.20
	OPENBSD_5_9:1.19.0.2
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.18.0.4
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.17.0.2
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.16.0.2
	OPENBSD_5_6_BASE:1.16
	OPENBSD_5_5:1.15.0.4
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.2
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.13.0.2
	OPENBSD_5_3_BASE:1.13
	OPENBSD_5_2:1.12.0.8
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.6
	OPENBSD_5_0:1.12.0.4
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.10.0.6
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.4
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.9.0.8
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.6
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.4
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.7.0.4
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.2
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.5.0.4
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.2.0.2
	OPENBSD_3_6_BASE:1.2
	sturm_2004-Jun-18:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.21
date	2017.04.28.18.06.06;	author ajacoutot;	state Exp;
branches;
next	1.20;
commitid	02nGHSutkuDcBFc8;

1.20
date	2016.07.14.16.57.20;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	bCE99u6Mle47TWFc;

1.19
date	2015.10.08.12.02.03;	author jasper;	state Exp;
branches;
next	1.18;
commitid	Fd81pQbB9Yvd8TB7;

1.18
date	2015.03.27.08.11.28;	author ajacoutot;	state Exp;
branches;
next	1.17;
commitid	mHt3hIg3nxq5XDcy;

1.17
date	2015.01.22.20.26.43;	author naddy;	state Exp;
branches;
next	1.16;
commitid	z5rpjRfvUoyAfWNP;

1.16
date	2014.06.02.10.39.11;	author stsp;	state Exp;
branches;
next	1.15;
commitid	WA7fO1JqMxpEK6hp;

1.15
date	2013.04.06.18.36.21;	author stsp;	state Exp;
branches;
next	1.14;

1.14
date	2013.03.11.11.10.52;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2012.10.15.15.06.42;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.17.08.05.13;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.18.18.13.13;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2009.03.07.10.40.30;	author stsp;	state Exp;
branches;
next	1.9;

1.9
date	2007.07.30.10.17.00;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2006.12.02.20.24.17;	author pvalchev;	state Exp;
branches;
next	1.7;

1.7
date	2006.01.22.18.40.36;	author jolan;	state Exp;
branches;
next	1.6;

1.6
date	2005.11.27.10.54.10;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2005.02.13.10.56.23;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2005.01.25.22.00.35;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2004.11.30.01.06.34;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2004.07.03.18.31.20;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2004.06.18.18.58.08;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.06.18.18.58.08;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.21
log
@Add PORTROACH annotation.
@
text
@# $OpenBSD: Makefile,v 1.20 2016/07/14 16:57:20 ajacoutot Exp $

PORTROACH=	skipv:0.98.11_01

COMMENT=	full featured DVD copy program

VERSION=	0.98.11
REVISION=	2
DISTNAME=	dvdrip-${VERSION}
CATEGORIES=	graphics audio multimedia perl5

HOMEPAGE=	http://www.exit1.org/dvdrip/

# Artistic and GPL
PERMIT_PACKAGE_CDROM=	Yes
WANTLIB=		c

MASTER_SITES=	http://www.exit1.org/dvdrip/dist/

RUN_DEPENDS=	graphics/ImageMagick \
		devel/desktop-file-utils \
		devel/p5-Event-ExecFlow \
		multimedia/transcode \
		multimedia/subtitleripper \
		multimedia/xine-ui \
		net/fping \
		net/p5-Event-RPC \
		x11/p5-Gtk2-Ex-FormFactory \
		multimedia/ogmtools \
		multimedia/lsdvd>=0.15 \
		x11/gtk+3,-guic
BUILD_DEPENDS=	devel/p5-Event-ExecFlow \
		net/p5-Event-RPC \
		x11/p5-Gtk2-Ex-FormFactory

CONFIGURE_STYLE=perl
CONFIGURE_ENV=	SKIP_UNPACK_REQUIRED_MODULES=1

TEST_DEPENDS=x11/p5-Gtk2-Ex-FormFactory
TEST_FLAGS=	HOME=${TMPDIR}

pre-build:
	@@sed -i "s,/usr/sbin/fping,${LOCALBASE}/sbin/fping,g" \
		${WRKSRC}/lib/Video/DVDRip/Cluster/Master.pm \
		${WRKSRC}/lib/Video/DVDRip/Depend.pm

post-install:
	mv ${PREFIX}/${P5SITE}/LocaleData ${PREFIX}/share/locale
	${INSTALL_DATA_DIR} ${PREFIX}/share/applications/
	${INSTALL_DATA} ${WRKSRC}/dvdrip.desktop ${PREFIX}/share/applications
	rm -f ${PREFIX}/${P5SITE}/Video/DVDRip/Config.pm.orig
	rm -f ${PREFIX}/${P5SITE}/Video/DVDRip/GUI/Project/Title.pm.orig
	${INSTALL_DATA_DIR} ${PREFIX}/share/icons/hicolor/scalable/apps/
	${INSTALL_DATA} ${WRKSRC}/dvdrip-icon-hq.svg ${PREFIX}/share/icons/hicolor/scalable/apps/dvdrip.svg

.include <bsd.port.mk>
@


1.20
log
@Drop mention of kern.usermount.

ok sthen@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.19 2015/10/08 12:02:03 jasper Exp $
@


1.19
log
@sed -i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/03/27 08:11:28 ajacoutot Exp $
d6 1
a6 1
REVISION=	1
@


1.18
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/01/22 20:26:43 naddy Exp $
d41 1
a41 1
	@@perl -pi -e "s,/usr/sbin/fping,${LOCALBASE}/sbin/fping,g" \
@


1.17
log
@Drop USE_GROFF: trivial page footer and acceptable formatting differences
only.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/06/02 10:39:11 stsp Exp $
d6 1
a6 1
REVISION=	0
d29 1
a29 1
		x11/gtk+2,-guic
@


1.16
log
@install dvdrip menu icon; gtk+2,-guic rundep hint + ok by ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/04/06 18:36:21 stsp Exp $
a34 1
USE_GROFF =	Yes
@


1.15
log
@Update to dvdrip-0.98.11. Add missing run deps on subtitleripper and xine,
install .desktop icon, provide useful default for DVD device name, and make
drive close/eject buttons work. Also tweak the Linux-specific DVD mounting
code which is required for subtitle ripping -- it now supports an fstab entry
or automatically mounts at a temporary dir, both intended for use with sysctl
kern.usermount=1 since running dvdrip as root is... not recommended.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/03/11 11:10:52 espie Exp $
d6 1
d28 2
a29 1
		multimedia/lsdvd>=0.15
d52 2
@


1.14
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/10/15 15:06:42 sthen Exp $
d5 1
a5 1
VERSION=	0.98.6
a6 1
REVISION =	0
d18 1
d21 2
d46 4
@


1.13
log
@zap trailing whitespace where it's present in MASTER_SITES/COMMENT
lines in ports Makefiles
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/17 08:05:13 espie Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d34 2
a35 2
REGRESS_DEPENDS=x11/p5-Gtk2-Ex-FormFactory
REGRESS_FLAGS=	HOME=${TMPDIR}
@


1.12
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/18 18:13:13 espie Exp $
d19 1
a19 1
MASTER_SITES=	http://www.exit1.org/dvdrip/dist/	
@


1.11
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/03/07 10:40:30 stsp Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d21 11
a31 11
RUN_DEPENDS=	::graphics/ImageMagick \
		::devel/p5-Event-ExecFlow \
		::multimedia/transcode \
		::net/fping \
		::net/p5-Event-RPC \
		::x11/p5-Gtk2-Ex-FormFactory \
		::multimedia/ogmtools \
		:lsdvd->=0.15:multimedia/lsdvd
BUILD_DEPENDS=	::devel/p5-Event-ExecFlow \
		::net/p5-Event-RPC \
		::x11/p5-Gtk2-Ex-FormFactory
d37 1
a37 1
REGRESS_DEPENDS=::x11/p5-Gtk2-Ex-FormFactory
@


1.10
log
@Don't install man pages for dvdrip-progress and dvdrip-splitpipe,
because they are in fact empty files.
The other man pages installed by the port are generated from
perl sources and are proper man pages. But these two programs
are written in C, so man page generation fails for them.
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/07/30 10:17:00 steven Exp $
d34 1
@


1.9
log
@update to dvd::rip 0.98.6

feedback/ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/12/02 20:24:17 pvalchev Exp $
d7 1
@


1.8
log
@Remove jakemsr@@ from maintainer position, as he has been inactive and
email has been bouncing for several months.  Jacob, if you get this
and/or get back to things, let us know.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/01/22 18:40:36 jolan Exp $
d3 1
a3 1
COMMENT=	"full featured DVD copy program"
d5 3
a7 4
VERSION=	0.50.18
PKGNAME=	dvdrip-${VERSION}p2
DISTNAME=	Video-DVDRip-${VERSION}
CATEGORIES=	graphics audio perl5
d21 1
a22 1
		::devel/p5-Event \
d24 7
a30 1
		::x11/p5-Gtk
d33 1
d35 1
a35 1
REGRESS_DEPENDS=::x11/p5-Gtk
d42 3
@


1.7
log
@pass maintainership from waldemar brodkorb to interested parties as seen
on ports@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/11/27 10:54:10 sturm Exp $
d6 1
a6 1
PKGNAME=	dvdrip-${VERSION}p1
a10 2

MAINTAINER=	Jacob Meuser <jakemsr@@openbsd.org>
@


1.6
log
@fix CATEGORIES

from Moritz Grimm <mlist at scapa.dnsalias.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/02/13 10:56:23 sturm Exp $
d12 1
a12 1
MAINTAINER=	Waldemar Brodkorb <wbx@@openbsd.de>
@


1.5
log
@make some PLISTs "make plist" compliant, all further @@dirrm are in broken
ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/01/25 22:00:35 naddy Exp $
d8 1
a8 1
CATEGORIES=	graphics audio perl
@


1.4
log
@Complete move graphics/transcode -> multimedia/transcode.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/11/30 01:06:34 espie Exp $
d6 1
a6 1
PKGNAME=	dvdrip-${VERSION}p0
@


1.3
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/07/03 18:31:20 sturm Exp $
d24 1
a24 1
		::graphics/transcode \
@


1.2
log
@permit cluster mode to work
don't install empty manpages
mention soft dependencies in DESCR
bump PKGNAME

from maintainer Waldemar Brodkorb <wbx at openbsd.de> with tweaks by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/06/18 18:58:08 sturm Exp $
d19 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
PKGNAME=	dvdrip-${VERSION}
d24 2
d32 5
@


1.1.1.1
log
@Initial import dvdrip 0.50.18

dvd::rip is a full featured DVD copy program written in 
Perl. It provides an easy to use but feature-rich Gtk+ 
GUI to control almost all aspects of the ripping and 
transcoding process. It uses the widely known video 
processing swissknife transcode and many other 
Open Source tools.

from Waldemar Brodkorb <wbx at openbsd.de>
@
text
@@
