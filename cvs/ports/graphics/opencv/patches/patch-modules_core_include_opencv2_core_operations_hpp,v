head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.10
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.6
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2014.06.03.20.41.36;	author zhuk;	state Exp;
branches;
next	1.1;
commitid	yaC4poq6LCZO15Ua;

1.1
date	2014.01.23.15.21.31;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update OpenCV to 2.4.9. Initial patch from Rafael Sadowski (MAINTAINER),
with some tweaks from me, including enabling -java back on i386.

Tested on i386 and amd64.
@
text
@$OpenBSD: patch-modules_core_include_opencv2_core_operations_hpp,v 1.1 2014/01/23 15:21:31 zhuk Exp $
All to build on sparc64 at least.
--- modules/core/include/opencv2/core/operations.hpp.orig	Fri Apr 11 14:15:26 2014
+++ modules/core/include/opencv2/core/operations.hpp	Sun Jun  1 13:12:28 2014
@@@@ -65,7 +65,7 @@@@
   #elif __GNUC__*10 + __GNUC_MINOR__ >= 42
 
     #if !(defined WIN32 || defined _WIN32) && (defined __i486__ || defined __i586__ || \
-        defined __i686__ || defined __MMX__ || defined __SSE__  || defined __ppc__) || \
+        defined __i686__ || defined __MMX__ || defined __SSE__  || defined __ppc__ || defined _GLIBCXX_ATOMIC_BUILTINS) || \
         (defined __GNUC__ && defined _STLPORT_MAJOR) || \
         defined __EMSCRIPTEN__
 
@


1.1
log
@Fix build on sparc64, requested by and okay landry@@.  No bump needed
because the fix affects only one arch where it wasn't get built anyway.
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
--- modules/core/include/opencv2/core/operations.hpp.orig	Sun Jan 19 14:25:06 2014
+++ modules/core/include/opencv2/core/operations.hpp	Sun Jan 19 14:25:28 2014
d10 4
a13 4
+        defined __i686__ || defined __MMX__ || defined __SSE__  || defined __ppc__ || defined _GLIBCXX_ATOMIC_BUILTINS ) || \
         (defined __GNUC__ && defined _STLPORT_MAJOR)
       #define CV_XADD __sync_fetch_and_add
     #else
@

