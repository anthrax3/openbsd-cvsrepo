head	1.57;
access;
symbols
	OPENBSD_6_2:1.57.0.4
	OPENBSD_6_2_BASE:1.57
	OPENBSD_6_1:1.57.0.2
	OPENBSD_6_1_BASE:1.57
	OPENBSD_6_0:1.55.0.2
	OPENBSD_6_0_BASE:1.55
	OPENBSD_5_9:1.50.0.6
	OPENBSD_5_9_BASE:1.50
	OPENBSD_5_8:1.50.0.8
	OPENBSD_5_8_BASE:1.50
	OPENBSD_5_7:1.50.0.4
	OPENBSD_5_7_BASE:1.50
	OPENBSD_5_6:1.50.0.2
	OPENBSD_5_6_BASE:1.50
	OPENBSD_5_5:1.49.0.4
	OPENBSD_5_5_BASE:1.49
	OPENBSD_5_4:1.49.0.2
	OPENBSD_5_4_BASE:1.49
	OPENBSD_5_3:1.44.0.2
	OPENBSD_5_3_BASE:1.44
	OPENBSD_5_2:1.40.0.2
	OPENBSD_5_2_BASE:1.40
	OPENBSD_5_1_BASE:1.39
	OPENBSD_5_1:1.39.0.4
	OPENBSD_5_0:1.39.0.2
	OPENBSD_5_0_BASE:1.39
	OPENBSD_4_9:1.37.0.2
	OPENBSD_4_9_BASE:1.37
	OPENBSD_4_8:1.36.0.2
	OPENBSD_4_8_BASE:1.36
	OPENBSD_4_7:1.35.0.2
	OPENBSD_4_7_BASE:1.35
	OPENBSD_4_6:1.34.0.2
	OPENBSD_4_6_BASE:1.34
	OPENBSD_4_5:1.32.0.6
	OPENBSD_4_5_BASE:1.32
	OPENBSD_4_4:1.32.0.4
	OPENBSD_4_4_BASE:1.32
	OPENBSD_4_3:1.32.0.2
	OPENBSD_4_3_BASE:1.32
	OPENBSD_4_2:1.31.0.6
	OPENBSD_4_2_BASE:1.31
	OPENBSD_4_1:1.31.0.4
	OPENBSD_4_1_BASE:1.31
	OPENBSD_4_0:1.31.0.2
	OPENBSD_4_0_BASE:1.31
	OPENBSD_3_9:1.30.0.2
	OPENBSD_3_9_BASE:1.30
	OPENBSD_3_8:1.27.0.2
	OPENBSD_3_8_BASE:1.27
	OPENBSD_3_7:1.25.0.2
	OPENBSD_3_7_BASE:1.25
	OPENBSD_3_6:1.24.0.8
	OPENBSD_3_6_BASE:1.24
	OPENBSD_3_5:1.24.0.6
	OPENBSD_3_5_BASE:1.24
	OPENBSD_3_4:1.24.0.4
	OPENBSD_3_4_BASE:1.24
	OPENBSD_3_3:1.24.0.2
	OPENBSD_3_3_BASE:1.24
	OPENBSD_3_2:1.23.0.4
	OPENBSD_3_2_BASE:1.23
	OPENBSD_3_1:1.23.0.2
	OPENBSD_3_1_BASE:1.23
	OPENBSD_3_0:1.22.0.4
	OPENBSD_3_0_BASE:1.22
	OPENBSD_2_9_TRACKING_SWITCH:1.22
	OPENBSD_2_9:1.22.0.2
	OPENBSD_2_9_BASE:1.22
	OPENBSD_2_8:1.20.0.2
	OPENBSD_2_8_BASE:1.20
	OPENBSD_2_7:1.16.0.2
	OPENBSD_2_7_BASE:1.16
	OPENBSD_2_6:1.9.0.4
	OPENBSD_2_6_BASE:1.9
	OPENBSD_2_5:1.9.0.2
	OPENBSD_2_5_BASE:1.9
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.3.0.2
	OPENBSD_2_3_BASE:1.3
	jpeg6a:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.57
date	2016.12.03.11.22.50;	author landry;	state Exp;
branches;
next	1.56;
commitid	WKIReixIfliEIVnn;

1.56
date	2016.10.18.14.28.14;	author sthen;	state Exp;
branches;
next	1.55;
commitid	1Esz7d3YRoSKPtoi;

1.55
date	2016.07.13.09.43.39;	author ajacoutot;	state Exp;
branches;
next	1.54;
commitid	sqStim3So78I5vDg;

1.54
date	2016.06.25.12.34.30;	author sthen;	state Exp;
branches;
next	1.53;
commitid	HHnaMGyTwT8hm4pr;

1.53
date	2016.04.29.08.38.52;	author ajacoutot;	state Exp;
branches;
next	1.52;
commitid	EtOf79UA2jqNzLIV;

1.52
date	2016.04.26.11.01.45;	author robert;	state Exp;
branches;
next	1.51;
commitid	9RIKjeFCCr4LEipr;

1.51
date	2016.03.11.19.59.14;	author naddy;	state Exp;
branches;
next	1.50;
commitid	pguKLBEFv33DrgKU;

1.50
date	2014.07.13.13.20.43;	author naddy;	state Exp;
branches;
next	1.49;
commitid	ztioDttDmQ7sL155;

1.49
date	2013.04.20.21.25.29;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2013.04.20.15.23.40;	author naddy;	state Exp;
branches;
next	1.47;

1.47
date	2013.04.18.12.21.31;	author naddy;	state Exp;
branches;
next	1.46;

1.46
date	2013.03.21.08.45.18;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2013.03.11.11.10.53;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2012.10.15.21.31.07;	author espie;	state Exp;
branches;
next	1.43;

1.43
date	2012.10.15.10.13.00;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2012.10.12.15.07.53;	author sthen;	state Exp;
branches;
next	1.41;

1.41
date	2012.09.26.15.04.09;	author sthen;	state Exp;
branches;
next	1.40;

1.40
date	2012.03.29.13.38.31;	author sthen;	state Exp;
branches;
next	1.39;

1.39
date	2011.06.02.17.09.31;	author kili;	state Exp;
branches;
next	1.38;

1.38
date	2011.06.01.19.17.58;	author naddy;	state Exp;
branches;
next	1.37;

1.37
date	2010.10.18.18.13.14;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2010.06.28.20.48.45;	author naddy;	state Exp;
branches;
next	1.35;

1.35
date	2009.10.14.13.03.44;	author naddy;	state Exp;
branches;
next	1.34;

1.34
date	2009.06.10.09.39.50;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2009.04.08.11.46.10;	author eric;	state Exp;
branches;
next	1.32;

1.32
date	2007.09.15.20.09.41;	author simon;	state Exp;
branches;
next	1.31;

1.31
date	2006.04.08.20.28.36;	author sturm;	state Exp;
branches;
next	1.30;

1.30
date	2006.01.08.01.01.18;	author steven;	state Exp;
branches;
next	1.29;

1.29
date	2005.12.27.16.06.52;	author steven;	state Exp;
branches;
next	1.28;

1.28
date	2005.10.30.00.10.41;	author fgsch;	state Exp;
branches;
next	1.27;

1.27
date	2005.04.17.13.37.42;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2005.04.03.23.26.22;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	2004.11.30.01.06.36;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2002.12.29.20.08.46;	author fgsch;	state Exp;
branches;
next	1.23;

1.23
date	2002.01.24.04.24.09;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2001.04.13.23.50.40;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2001.03.30.19.06.17;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2000.10.22.14.03.20;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2000.06.30.23.21.34;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2000.06.15.17.44.56;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2000.06.14.18.18.53;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2000.03.24.22.11.45;	author espie;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2000.03.06.21.19.40;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.03.06.11.07.23;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.02.15.05.04.33;	author turan;	state Exp;
branches;
next	1.12;

1.12
date	2000.02.12.06.29.54;	author turan;	state Exp;
branches;
next	1.11;

1.11
date	2000.02.10.10.34.22;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	99.10.29.21.57.46;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.04.04.06.44.46;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	99.03.15.01.10.40;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	99.03.02.04.41.03;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	99.02.21.04.26.12;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	99.02.18.02.37.30;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	98.05.06.02.48.16;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.02.10.10.45.17;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	98.02.07.06.39.12;	author don;	state Exp;
branches;
next	1.1;

1.1
date	97.12.03.02.30.52;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.03.02.30.52;	author angelos;	state Exp;
branches;
next	;

1.16.2.1
date	2000.09.15.04.53.34;	author marc;	state Exp;
branches;
next	;


desc
@@


1.57
log
@Enable Altivec acceleration in libjpeg-turbo for the PPC CPUs which support
it - detection is done at runtime.

Patch from Donovan Watteau, thanks!

ok sthen@@
@
text
@# $OpenBSD: Makefile,v 1.56 2016/10/18 14:28:14 sthen Exp $

COMMENT=	SIMD-accelerated JPEG codec replacement of libjpeg

V=		1.5.1
DISTNAME=	jpeg-turbo-${V}
PKGNAME=	jpeg-${V}
REVISION=	0
EPOCH=		0

SHARED_LIBS+=	jpeg		68.1	# 64.0

CATEGORIES=	graphics
DPB_PROPERTIES=	parallel

HOMEPAGE=	http://libjpeg-turbo.virtualgl.org/

# BSD-style
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=libjpeg-turbo/}
DISTFILES=	libjpeg-turbo-${V}.tar.gz

WANTLIB=	c

.if ${MACHINE_ARCH} == "amd64" || ${MACHINE_ARCH} == "i386"
BUILD_DEPENDS=	devel/yasm
.endif

SEPARATE_BUILD=	Yes
CONFIGURE_STYLE=gnu

# Symbol versioning triggers weird linking problems in dependent ports.
CONFIGURE_ARGS+=--disable-ld-version-script \
		--without-turbojpeg

WRKDIST=	${WRKDIR}/lib${DISTNAME}

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/jpeg
	${INSTALL_DATA} ${WRKSRC}/libjpeg.txt ${WRKSRC}/wizard.txt \
	    ${PREFIX}/share/doc/jpeg
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/jpeg
	${INSTALL_DATA} ${WRKSRC}/example.c ${PREFIX}/share/examples/jpeg

.include <bsd.port.mk>
@


1.56
log
@update to libjpeg-turbo 1.5.1, from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2016/07/13 09:43:39 ajacoutot Exp $
d8 1
@


1.55
log
@Do not ship the libturbojpeg pkgconfig file since we explicitely configure
--without-turbojpeg.

from Brad
ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2016/06/25 12:34:30 sthen Exp $
d5 1
a5 1
V=		1.5.0
a7 1
REVISION=	0
a43 2
	# the turbojpeg wrapper library is disabled
	rm ${PREFIX}/lib/pkgconfig/libturbojpeg.pc
@


1.54
log
@update to libjpeg-turbo 1.5.0, from Brad, bulk build tested by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2016/04/29 08:38:52 ajacoutot Exp $
d8 1
d45 2
@


1.53
log
@Bump the shared library:
Error interpreting JPEG image file (Wrong JPEG library version:
library is 62, caller expects 90)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2016/04/26 11:01:45 robert Exp $
d5 1
a5 1
V=		1.4.2
a8 1
REVISION=	0
d10 1
a10 1
SHARED_LIBS+=	jpeg		68.0	# 10.0
@


1.52
log
@switch over to libjpeg-turbo (1.4.2)

ok aja@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2016/03/11 19:59:14 naddy Exp $
d9 1
d11 1
a11 1
SHARED_LIBS+=	jpeg		67.0	# 10.0
@


1.51
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2014/07/13 13:20:43 naddy Exp $
d3 8
a10 1
COMMENT=	IJG's JPEG compression utilities#'
a11 3
V=		9a
DISTNAME=	jpeg-$V
SHARED_LIBS=	jpeg	67.0	# 10.0
d14 2
a15 1
HOMEPAGE=	http://www.ijg.org/
d20 2
a21 2
MASTER_SITES=	http://www.ijg.org/files/
DISTFILES=	jpegsrc.v$V.tar.gz
d25 4
d31 1
d33 4
a36 1
CONFIGURE_ARGS+=--disable-ld-version-script
@


1.50
log
@Maintenance update to 9a, which adds support for wide gamut color
spaces.

Upstream keeps tweaking the boolean handling, but this still blows
up with most C++ code, so we revert it again to the status quo from
version 8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/04/20 21:25:29 naddy Exp $
a21 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED}
@


1.49
log
@Restore assumptions about the availability of boolean/TRUE/FALSE to those
in jpeg 8.  Unbreaks at least graphics/tiff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/04/20 15:23:40 naddy Exp $
d5 1
a5 1
V=		9
d7 1
a7 2
REVISION=	0
SHARED_LIBS=	jpeg	66.0	# 9.0
@


1.48
log
@Update to version 9, which adds support for a reversible color
transform to improve compression of RGB images.  ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/04/18 12:21:31 naddy Exp $
d7 1
@


1.47
log
@maintenance update to 8d; ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/03/21 08:45:18 ajacoutot Exp $
d5 1
a5 1
V=		8d
d7 1
a7 1
SHARED_LIBS=	jpeg	65.0	# 12.0
@


1.46
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/03/11 11:10:53 espie Exp $
d5 1
a5 1
V=		8c
d7 1
a7 2
REVISION=	1
SHARED_LIBS=	jpeg	64.0	# 11.0
d15 1
a15 1
MASTER_SITES=	${HOMEPAGE}files/
@


1.45
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/10/15 21:31:07 espie Exp $
a21 1
USE_LIBTOOL=	Yes
@


1.44
log
@this changes the plist, so bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/10/15 10:13:00 sthen Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.43
log
@zap whitespace between end of COMMENT and #
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2012/10/12 15:07:53 sthen Exp $
d7 1
a7 1
REVISION=	0
@


1.42
log
@bump various packages with static libs which frequently get pulled in;
this is to force pkg_add -u to pick them up because moving to PIE does change
these files but since there are no library bumps, the package signature stays
the same.

there are probably others, these are just ones I've run into. not a great
fix, and needs to be repeated when other arch move, but it's the simplest low
impact fix and I'm fed up with "relocation R_X86_64_32S can not be used
when making a shared object; recompile with -fPIC"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2012/09/26 15:04:09 sthen Exp $
d3 1
a3 1
COMMENT=	IJG's JPEG compression utilities #'
@


1.41
log
@add DPB_PROPERTIES=Parallel for some things high in the dependency tree
which benefit from it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/03/29 13:38:31 sthen Exp $
d7 1
@


1.40
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2011/06/02 17:09:31 kili Exp $
d3 1
a3 1
COMMENT=	IJG's JPEG compression utilities
d9 1
@


1.39
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/06/01 19:17:58 naddy Exp $
d22 1
a22 1
SEPARATE_BUILD=	simple
@


1.38
log
@Update to 8c:
Add an option to compression library and cjpeg (-block N) to use
different DCT block size.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/10/18 18:13:14 espie Exp $
d25 1
a25 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED} --disable-silent-rules
@


1.37
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/06/28 20:48:45 naddy Exp $
d5 1
a5 1
V=		8b
d7 1
a7 1
SHARED_LIBS=	jpeg	64.0	# .8.2
a23 1
USE_GROFF =	Yes
@


1.36
log
@update to 8b
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/10/14 13:03:44 naddy Exp $
d24 1
@


1.35
log
@Update to release 7.  Tested by many on various archs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/06/10 09:39:50 ajacoutot Exp $
d5 3
a7 3
DISTNAME=	jpegsrc.v7
PKGNAME=	jpeg-7
SHARED_LIBS=	jpeg	63.0	# .7.0
a8 1
MASTER_SITES=	${HOMEPAGE}files/
d17 3
a27 3
MAKE_ENV=	RM="rm -f"

WRKDIST=	${WRKDIR}/jpeg-7
@


1.34
log
@Add missing HOMEPAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/04/08 11:46:10 eric Exp $
d5 3
a7 3
DISTNAME=	jpegsrc.v6b
PKGNAME=	jpeg-6bp5
SHARED_LIBS=	jpeg	62.0
d9 1
a9 1
MASTER_SITES=	ftp://ftp.uu.net/graphics/jpeg/
d12 1
a16 1
WANTLIB=		c
d18 3
d22 5
a26 3
CONFIGURE_STYLE= gnu dest
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --enable-static
d28 1
a28 1
WRKDIST=	${WRKDIR}/jpeg-6b
d32 2
a33 1
	${INSTALL_DATA} ${WRKDIST}/libjpeg.doc ${PREFIX}/share/doc/jpeg
d35 1
a35 1
	${INSTALL_DATA} ${WRKDIST}/example.c ${PREFIX}/share/examples/jpeg
@


1.33
log
@install documentation and example

feedback and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/09/15 20:09:41 simon Exp $
d6 1
a6 1
PKGNAME=	jpeg-6bp4
d10 1
@


1.32
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2006/04/08 20:28:36 sturm Exp $
d6 1
a6 1
PKGNAME=	jpeg-6bp3
d23 6
@


1.31
log
@remove references to shellhung.org in MASTER_SITES and assorted cleanup

from jim razmus
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2006/01/08 01:01:18 steven Exp $
d3 1
a3 1
COMMENT=	"IJG's JPEG compression utilities"
@


1.30
log
@remove MODGNU_SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/12/27 16:06:52 steven Exp $
d9 1
a9 2
MASTER_SITES=	ftp://ftp.uu.net/graphics/jpeg/ \
		ftp://ftp.shellhung.org/pub/Mirror/enlightenment/enlightenment/libs/
@


1.29
log
@SHARED_LIBS and USE_LIBTOOL
ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/10/30 00:10:41 fgsch Exp $
d7 1
a7 2
SHARED_LIBS=		jpeg	62.0
MODGNU_SHARED_LIBS=	jpeg	''
@


1.28
log
@after querying brad@@ he decided to drop maintainership for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2005/04/17 13:37:42 espie Exp $
d6 3
a8 1
PKGNAME=	jpeg-6bp2
d19 1
@


1.27
log
@this stuff builds without really installing it now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/04/03 23:26:22 brad Exp $
a9 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.26
log
@sprintf -> snprintf

From: Bruno Rohee <bruno at rohee dot com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/11/30 01:06:36 espie Exp $
d6 1
a6 1
PKGNAME=	jpeg-6bp1
@


1.25
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/12/29 20:08:46 fgsch Exp $
d6 1
a6 1
PKGNAME=	jpeg-6b
@


1.24
log
@guess what? more NEED_VERSION rm.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/01/24 04:24:09 brad Exp $
d17 1
@


1.23
log
@- bump NEED_VERSION
- rename checksums file
- sync libtool patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/04/13 23:50:40 brad Exp $
a7 1
NEED_VERSION=	1.500
@


1.22
log
@bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/03/30 19:06:17 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.384
@


1.21
log
@- integrate COMMENT
- takeover as MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/10/22 14:03:20 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.364
@


1.20
log
@Complete a few MAINTAINER names.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.19 2000/06/30 23:21:34 espie Exp $
d8 3
a10 2
NEED_VERSION=	1.310
MASTER_SITES=	ftp://ftp.uu.net/graphics/jpeg/
d12 1
a12 1
MAINTAINER=	Angelos D. Keromytis <angelos@@openbsd.org>
@


1.19
log
@Sample port with PFRAG that uses DYNLIBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/06/15 17:44:56 brad Exp $
d9 1
a9 1
MAINTAINER=	angelos@@openbsd.org
@


1.18
log
@fix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/06/14 18:18:53 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.301
@


1.17
log
@- remove FAKE=Yes
- HAS_CONFIGURE -> CONFIGURE_STYLE
- use new framework for PLISTs
- add @@comment with RCS id to PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/03/24 22:11:45 espie Exp $
d16 1
a16 1
CONFIGURE_STYLE= gnu old
@


1.16
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/03/06 21:19:40 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.218
a8 1

a10 1
LICENSE_TYPE=		BSD
d16 1
a16 4
FAKE=	Yes

HAS_CONFIGURE=	Yes
CONFIGURE_ARGS=--prefix='$${DESTDIR}${PREFIX}' --sysconfdir='${DESTDIR}/etc'
@


1.16.2.1
log
@bring graphics as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/06/30 23:21:34 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.310
d9 1
d12 1
d18 4
a21 1
CONFIGURE_STYLE= gnu dest
@


1.15
log
@- bump NEED_VERSION for Fake
- remove ldconfig
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/03/06 11:07:23 espie Exp $
d6 1
a8 1
NEED_VERSION=	1.218
@


1.14
log
@fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/02/15 05:04:33 turan Exp $
d8 1
a8 1
NEED_VERSION=	1.191
d18 2
a24 1
FAKE=	Yes
a25 3

post-install:
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.13
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/02/12 06:29:54 turan Exp $
d13 4
a16 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d18 2
a19 1
GNU_CONFIGURE=	Yes
d23 1
@


1.12
log
@bsd licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/02/10 10:34:22 espie Exp $
d13 4
a16 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.11
log
@WRKDIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/10/29 21:57:46 brad Exp $
d11 6
@


1.10
log
@re-arrange Makefile and PLISTs a bit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/04/04 06:44:46 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.73
d12 1
a12 1
GNU_CONFIGURE=	yes
d16 1
a16 1
WRKSRC=	${WRKDIR}/jpeg-6b
@


1.9
log
@fixup Makefile and PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/03/15 01:10:40 brad Exp $
d6 1
a11 3
MASTER_SITES=	ftp://ftp.uu.net/graphics/jpeg/

WRKSRC=		${WRKDIR}/jpeg-6b
d16 2
d19 1
a19 1
	${LDCONFIG} -m ${PREFIX}/lib
@


1.8
log
@someone forgot the $OpenBSD$ tag
@
text
@d1 1
a1 1
# $OpenBSD$
d3 3
a5 3
DISTNAME=		jpegsrc.v6b
PKGNAME=		jpeg-6b
CATEGORIES=		graphics
d7 1
a7 1
NEED_VERSION=		1.73
d9 1
a9 1
MAINTAINER=		angelos@@openbsd.org
d11 1
a11 1
MASTER_SITES=		ftp://ftp.uu.net/graphics/jpeg/
d13 4
a16 4
WRKSRC=			${WRKDIR}/jpeg-6b
GNU_CONFIGURE=		yes
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--enable-static
@


1.7
log
@fix earlier bogus changes to Makefile where a value that
was defined in bsd.port.mk was checked before bsd.port.mk was included;
this should make ports with optional shared libs build on the alpha,
again.  However, chages require the latest bsd.port.mk
@
text
@d1 1
a1 1
#
@


1.6
log
@needs version 1.64 (or later) of bsd.port.mk
to build/install correctly; PLIST.noshared
@
text
@d7 1
a7 1
NEED_VERSION=		1.64
d14 2
a15 4
GNU_CONFIGURE=	yes
.if !defined(NO_SHARED_LIBS)
CONFIGURE_ARGS+=	--enable-shared
.endif
@


1.5
log
@use NO_SHARED_LIBS instead of test for alpha;
use PLIST.noshared instead of PLIST.alpha
@
text
@a0 6
# OpenBSD makefile for:	jpeg
# Version required:     6b
# Date created:		December 2, 1997
# Whom:			Angelos D. Keromytis
#
# $OpenBSD: Makefile,v 1.4 1998/05/06 02:48:16 marc Exp $
d6 5
a12 1
MAINTAINER=		angelos@@openbsd.org
@


1.4
log
@update jpeg lib to version 6b
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1998/02/10 10:45:17 niklas Exp $
d17 1
a17 1
.if (${MACHINE_ARCH} != "alpha")
@


1.3
log
@On a current system LDCONFIG need not be special cased for mips/alpha
@
text
@d2 1
a2 1
# Version required:     6a
d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/02/07 06:39:12 don Exp $
d9 4
a12 4
DISTNAME=       jpegsrc.v6a
PKGNAME=        jpeg-6a
CATEGORIES=     graphics
MASTER_SITES=   ftp://ftp.uu.net/graphics/jpeg/
d14 2
a15 2
MAINTAINER=     angelos@@openbsd.org
WRKSRC=         ${WRKDIR}/jpeg-6a
d17 4
a20 2
INSTALL_TARGET= install install-lib
MAN1=		cjpeg.1 djpeg.1 jpegtran.1 rdjpgcom.1 wrjpgcom.1
@


1.2
log
@Don't build shared libs on alpha
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1997/12/03 02:30:52 angelos Exp $
a20 4
.if (${MACHINE_ARCH} != "alpha")
.if (${MACHINE_ARCH} == "mips")
	${LDCONFIG} -n ${PREFIX}/lib
.else
a21 2
.endif
.endif
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d21 4
d26 2
@


1.1.1.1
log
@Add jpeg lib port.
@
text
@@
