head	1.53;
access;
symbols
	OPENBSD_6_0:1.52.0.2
	OPENBSD_6_0_BASE:1.52
	OPENBSD_5_9:1.51.0.10
	OPENBSD_5_9_BASE:1.51
	OPENBSD_5_8:1.51.0.12
	OPENBSD_5_8_BASE:1.51
	OPENBSD_5_7:1.51.0.8
	OPENBSD_5_7_BASE:1.51
	OPENBSD_5_6:1.51.0.6
	OPENBSD_5_6_BASE:1.51
	OPENBSD_5_5:1.51.0.4
	OPENBSD_5_5_BASE:1.51
	OPENBSD_5_4:1.51.0.2
	OPENBSD_5_4_BASE:1.51
	OPENBSD_5_3:1.50.0.6
	OPENBSD_5_3_BASE:1.50
	OPENBSD_5_2:1.50.0.4
	OPENBSD_5_2_BASE:1.50
	OPENBSD_5_1_BASE:1.50
	OPENBSD_5_1:1.50.0.2
	OPENBSD_5_0:1.48.0.4
	OPENBSD_5_0_BASE:1.48
	OPENBSD_4_9:1.48.0.2
	OPENBSD_4_9_BASE:1.48
	OPENBSD_4_8:1.44.0.2
	OPENBSD_4_8_BASE:1.44
	OPENBSD_4_7:1.43.0.2
	OPENBSD_4_7_BASE:1.43
	OPENBSD_4_6:1.39.0.2
	OPENBSD_4_6_BASE:1.39
	OPENBSD_4_5:1.38.0.2
	OPENBSD_4_5_BASE:1.38
	OPENBSD_4_4:1.35.0.4
	OPENBSD_4_4_BASE:1.35
	OPENBSD_4_3:1.35.0.2
	OPENBSD_4_3_BASE:1.35
	OPENBSD_4_2:1.32.0.4
	OPENBSD_4_2_BASE:1.32
	OPENBSD_4_1:1.32.0.2
	OPENBSD_4_1_BASE:1.32
	OPENBSD_4_0:1.31.0.2
	OPENBSD_4_0_BASE:1.31
	OPENBSD_3_9:1.30.0.2
	OPENBSD_3_9_BASE:1.30
	OPENBSD_3_8:1.29.0.2
	OPENBSD_3_8_BASE:1.29
	OPENBSD_3_7:1.28.0.2
	OPENBSD_3_7_BASE:1.28
	OPENBSD_3_6:1.27.0.4
	OPENBSD_3_6_BASE:1.27
	OPENBSD_3_5:1.27.0.2
	OPENBSD_3_5_BASE:1.27
	OPENBSD_3_4:1.26.0.2
	OPENBSD_3_4_BASE:1.26
	OPENBSD_3_3:1.25.0.2
	OPENBSD_3_3_BASE:1.25
	OPENBSD_3_2:1.24.0.2
	OPENBSD_3_2_BASE:1.24
	OPENBSD_3_1:1.23.0.2
	OPENBSD_3_1_BASE:1.23
	OPENBSD_3_0:1.22.0.2
	OPENBSD_3_0_BASE:1.22
	OPENBSD_2_9_TRACKING_SWITCH:1.21
	OPENBSD_2_9:1.19.0.2
	OPENBSD_2_9_BASE:1.19
	OPENBSD_2_8:1.16.0.2
	OPENBSD_2_8_BASE:1.16
	OPENBSD_2_7:1.14.0.2
	OPENBSD_2_7_BASE:1.14
	OPENBSD_2_6:1.7.0.2
	OPENBSD_2_6_BASE:1.7
	OPENBSD_2_5:1.6.0.2
	OPENBSD_2_5_BASE:1.6
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.1.1.1.0.2
	OPENBSD_2_3_BASE:1.1.1.1
	xfig3_2:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.53
date	2017.02.01.10.09.58;	author kirby;	state Exp;
branches;
next	1.52;
commitid	9HG1dxck8FO2iFSi;

1.52
date	2016.03.05.17.41.42;	author sthen;	state Exp;
branches;
next	1.51;
commitid	5uN36NRPCSmQJGei;

1.51
date	2013.03.11.11.10.56;	author espie;	state Exp;
branches;
next	1.50;

1.50
date	2011.11.02.09.57.23;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2011.09.16.10.02.38;	author espie;	state Exp;
branches;
next	1.48;

1.48
date	2010.11.17.08.05.16;	author espie;	state Exp;
branches;
next	1.47;

1.47
date	2010.11.09.19.00.28;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2010.10.24.21.21.02;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2010.10.18.18.13.15;	author espie;	state Exp;
branches;
next	1.44;

1.44
date	2010.04.24.20.18.39;	author naddy;	state Exp;
branches;
next	1.43;

1.43
date	2010.01.04.15.41.21;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2009.12.27.22.09.24;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2009.11.24.22.30.45;	author kili;	state Exp;
branches;
next	1.40;

1.40
date	2009.08.10.06.31.45;	author kili;	state Exp;
branches;
next	1.39;

1.39
date	2009.06.09.13.19.44;	author jasper;	state Exp;
branches
	1.39.2.1;
next	1.38;

1.38
date	2008.12.11.15.50.29;	author martynas;	state Exp;
branches
	1.38.2.1;
next	1.37;

1.37
date	2008.09.10.16.47.43;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2008.08.26.14.32.20;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2008.01.04.17.48.35;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2007.11.13.17.10.26;	author steven;	state Exp;
branches;
next	1.33;

1.33
date	2007.09.15.20.09.43;	author simon;	state Exp;
branches;
next	1.32;

1.32
date	2006.11.13.11.20.25;	author steven;	state Exp;
branches;
next	1.31;

1.31
date	2006.08.03.12.53.18;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2005.09.06.23.30.53;	author pvalchev;	state Exp;
branches;
next	1.29;

1.29
date	2005.04.17.21.31.59;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2005.01.28.00.16.16;	author alek;	state Exp;
branches;
next	1.27;

1.27
date	2004.02.25.02.35.16;	author naddy;	state Exp;
branches;
next	1.26;

1.26
date	2003.04.04.14.28.36;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2002.10.27.00.03.17;	author naddy;	state Exp;
branches;
next	1.24;

1.24
date	2002.07.19.23.43.11;	author pvalchev;	state Exp;
branches;
next	1.23;

1.23
date	2002.03.21.20.57.09;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2001.10.01.15.33.05;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2001.06.20.18.10.31;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2001.05.17.13.29.29;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2001.03.29.03.11.38;	author kevlo;	state Exp;
branches
	1.19.2.1;
next	1.18;

1.18
date	2001.03.27.01.03.19;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2001.03.25.08.33.13;	author jakob;	state Exp;
branches;
next	1.16;

1.16
date	2000.10.22.15.42.20;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2000.07.10.02.06.54;	author angelos;	state Exp;
branches;
next	1.14;

1.14
date	2000.04.18.10.34.08;	author turan;	state Exp;
branches
	1.14.2.1;
next	1.13;

1.13
date	2000.03.24.23.28.11;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.03.22.18.11.27;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.03.05.18.30.29;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.02.12.00.43.58;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2000.02.03.01.58.08;	author kevlo;	state Exp;
branches;
next	1.8;

1.8
date	99.12.05.16.12.42;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	99.09.07.01.15.02;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.04.14.13.24.48;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	99.04.09.02.27.14;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	98.07.04.06.41.03;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.06.13.23.26.57;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.05.06.02.52.57;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	97.12.03.04.17.13;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.03.04.17.13;	author angelos;	state Exp;
branches;
next	;

1.14.2.1
date	2000.09.15.04.53.48;	author marc;	state Exp;
branches;
next	;

1.19.2.1
date	2001.05.18.01.05.18;	author naddy;	state Exp;
branches;
next	;

1.38.2.1
date	2009.06.16.01.40.55;	author william;	state Exp;
branches;
next	;

1.39.2.1
date	2009.12.29.23.29.08;	author william;	state Exp;
branches;
next	;


desc
@@


1.53
log
@Update to xfig-3.2.6.
 - upstream switched from imake to autotools
 - update HOMEPAGE
 - remove trailing whitespace in DESCR

OK naddy@@
@
text
@# $OpenBSD: Makefile,v 1.52 2016/03/05 17:41:42 sthen Exp $

COMMENT=	CAD drawing program for X11

DISTNAME=	xfig-3.2.6
CATEGORIES=	graphics x11

HOMEPAGE=	http://mcj.sourceforge.net/

# MIT
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 Xaw3d Xpm Xt c jpeg m png

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=mcj/}
EXTRACT_SUFX=	.tar.xz

LIB_DEPENDS=	graphics/jpeg \
		graphics/png \
		x11/Xaw3d>=1.6
RUN_DEPENDS=	print/transfig \
		textproc/xpdf \
		devel/desktop-file-utils

CONFIGURE_STYLE= gnu
CONFIGURE_ENV+=		CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
CONFIGURE_ARGS+=	--with-applicationsdir=${PREFIX}/share/applications \
			--with-icondir=${PREFIX}/share/pixmaps \
			--docdir=${PREFIX}/share/doc/xfig \
			--with-appdefaultdir=${PREFIX}/lib/X11/app-defaults \
			--datarootdir=${PREFIX}/lib/X11

USE_GROFF=	Yes

.include <bsd.port.mk>
@


1.52
log
@update to xfig-3.2.5c
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/03/11 11:10:56 espie Exp $
d5 1
a5 3
VERSION=	3.2.5c
DISTNAME=	xfig.${VERSION}.full
PKGNAME=	xfig-${VERSION}
d8 1
a8 1
HOMEPAGE=	http://www.xfig.org/
d13 1
a13 1
WANTLIB += ICE SM X11 Xaw3d Xmu Xpm Xt c jpeg m png z
d16 1
a17 1
PATCHORIG=	.pat.orig
d22 2
a23 1
		textproc/xpdf
d25 8
a32 8
MAKE_FLAGS=	CDEBUGFLAGS="${CFLAGS}" \
		PNGLIBDIR="${LOCALBASE}/lib" \
		PNGINC="-I${LOCALBASE}/include" \
		XPMLIBDIR="${X11BASE}/lib" \
		XPMINC="-I${X11BASE}/include/X11" \
		XAPPLOADDIR="${PREFIX}/lib/X11/app-defaults" \
		XFIGDOCDIR="${PREFIX}/share/doc/xfig" \
		XFIGLIBDIR="${PREFIX}/lib/X11/xfig"
a33 6
CONFIGURE_STYLE= imake

INSTALL_TARGET=	install install.all

WRKDIST=	${WRKDIR}/xfig.${VERSION}
NO_TEST=	Yes
a34 4

post-extract:
	chmod -R u=rwX,go=rX ${WRKSRC}; find ${WRKSRC} -type f -print0 | xargs -0 chmod -x
	find ${WRKSRC}/Doc/html -name '*.orig' -print0 | xargs -0 rm
@


1.51
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/11/02 09:57:23 jasper Exp $
d5 1
a5 1
VERSION=	3.2.5b
a7 1
REVISION =	6
d15 1
a15 2
WANTLIB += ICE SM X11 Xmu Xpm Xt c m z jpeg>=62 png>=2
WANTLIB += Xaw3d>=6.1
a18 1
FAKE=		lib
d22 1
a22 1
		x11/Xaw3d
d26 6
a31 1
MAKE_FLAGS=	XAPPLOADDIR="${PREFIX}/lib/X11/app-defaults" \
a39 1

d41 1
a41 2

USE_GROFF =	Yes
d44 2
a45 2
	chmod -R a+rX,go-w ${WRKSRC}/Libraries ${WRKSRC}/Doc
	find ${WRKSRC}/Libraries ${WRKSRC}/Doc -type f -exec chmod -x "{}" \;
@


1.50
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/09/16 10:02:38 espie Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d39 1
a39 1
NO_REGRESS=	Yes
@


1.49
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/11/17 08:05:16 espie Exp $
d8 1
a8 1
REVISION =	5
d19 1
a19 1
WANTLIB += ICE SM X11 Xmu Xpm Xt c m pthread-stubs xcb z jpeg>=62 png>=2
@


1.48
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/11/09 19:00:28 espie Exp $
d8 1
a8 1
REVISION =	4
@


1.47
log
@WANTLIB conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/10/24 21:21:02 ajacoutot Exp $
d19 2
a20 2
WANTLIB += ICE SM X11 Xmu Xpm Xt c m pthread-stubs xcb z jpeg.>=62 png.>=2
WANTLIB += Xaw3d.>=6.1
d26 5
a30 5
LIB_DEPENDS=	::graphics/jpeg \
		::graphics/png \
		::x11/Xaw3d
RUN_DEPENDS=	::print/transfig \
		::textproc/xpdf
@


1.46
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/10/18 18:13:15 espie Exp $
d7 2
a8 1
PKGNAME=	xfig-${VERSION}p4
d19 2
a20 1
WANTLIB += ICE SM X11 Xmu Xpm Xt c m pthread-stubs xcb z
d26 3
a28 3
LIB_DEPENDS=	jpeg.>=62::graphics/jpeg \
		png.>=2::graphics/png \
		Xaw3d.>=6.1::x11/Xaw3d
@


1.45
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/04/24 20:18:39 naddy Exp $
a41 1
USE_X11=	Yes
@


1.44
log
@fix build and WANTLIB after libXp removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/01/04 15:41:21 sthen Exp $
d43 1
@


1.43
log
@fix permissions on docs; Mikolaj Kucharski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2009/12/27 22:09:24 jasper Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p3
d18 1
a18 1
WANTLIB += ICE SM X11 Xmu Xp Xpm Xt c m pthread-stubs xcb z
@


1.42
log
@Security fix for CVE-2009-4227.
Xfig ".fig" File Parsing Buffer Overflow
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2009/11/24 22:30:45 kili Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p2
d45 2
a46 2
	chmod -R a+rX ${WRKSRC}/Libraries
	find ${WRKSRC}/Libraries -type f -exec chmod -x \{\} \;
@


1.41
log
@Quick hack: fix permissions of Libraries.

Problem noticed by Michele Zaffalon.

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2009/08/10 06:31:45 kili Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p1
@


1.40
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/06/09 13:19:44 jasper Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p0
d43 4
@


1.39
log
@- SECURITY UPDATE of xfig to 3.2.5b
CVE-2009-1962: Xfig Insecure Temporary Files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/12/11 15:50:29 martynas Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}
d18 1
a18 1
WANTLIB += ICE SM X11 Xmu Xp Xpm Xt c m z
@


1.39.2.1
log
@MFC:

SECURITY FIX

Resolves CVE-2009-4227

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2009/06/09 13:19:44 jasper Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p2
a42 4

post-extract:
	chmod -R a+rX ${WRKSRC}/Libraries
	find ${WRKSRC}/Libraries -type f -exec chmod -x \{\} \;
@


1.38
log
@workaround is not needed w/ the new libm.  tested by and ok naddy@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/09/10 16:47:43 sthen Exp $
d5 1
a5 1
VERSION=	3.2.5
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p1
d18 1
a18 1
WANTLIB=	ICE SM Xau Xdmcp X11 Xext Xmu Xp Xpm Xt c m z
@


1.38.2.1
log
@security update; resolve CVE-2009-1962: Insecure Temporary Files
patches from openwall via debian
ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/12/11 15:50:29 martynas Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p2
@


1.37
log
@Remove workaround for lack of complex number support in libm, bump package.
ok martynas@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/08/26 14:32:20 sthen Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p0
@


1.36
log
@update to 3.2.5; fixes LP64 problems making fonts unusable on amd64.
Thanks oga@@ and Jonathan Armani for testing.

Add (previously missing) license comment; the license for 3.2.5 has
reverted to MIT-like.

patches/patch-w_intersect_c includes a reimplementation of some
complex math functions, not yet in our libm.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2008/01/04 17:48:35 espie Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}
@


1.35
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2007/11/13 17:10:26 steven Exp $
d5 1
a5 1
VERSION=	3.2.4
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p0
d12 1
d20 1
a20 3
MASTER_SITES=	http://www.xfig.org/software/xfig/${VERSION}/ \
		ftp://www-epb.lbl.gov/xfig/ \
		ftp://www-epb.lbl.gov/xfig/previous_versions/
d23 1
@


1.34
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/09/15 20:09:43 simon Exp $
a32 1
FAKE_FLAGS=	DESTDIR="${WRKINST}" ${MAKE_FLAGS}
@


1.33
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2006/11/13 11:20:25 steven Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}
d16 2
a17 1
WANTLIB=		ICE SM X11 Xext Xmu Xp Xpm Xt c m z
@


1.32
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2006/08/03 12:53:18 espie Exp $
d3 1
a3 1
COMMENT=	"CAD drawing program for X11"
@


1.31
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/09/06 23:30:53 pvalchev Exp $
d41 2
@


1.30
log
@update master site; Michael Knudsen <e@@molioner.dk>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/04/17 21:31:59 espie Exp $
d23 3
a25 3
LIB_DEPENDS=	jpeg.62::graphics/jpeg \
		png.2::graphics/png \
		Xaw3d.6.1::x11/Xaw3d
@


1.29
log
@don't install anything for building.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/01/28 00:16:16 alek Exp $
d18 1
a18 1
MASTER_SITES=	http://www.xfig.org/xfigdist/ \
@


1.28
log
@- Properly enable Xaw3d support
- And WANTLIB marker

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/02/25 02:35:16 naddy Exp $
d22 1
@


1.27
log
@The sparc64 compiler is gcc3 now; don't require the gcc3 module.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2003/04/04 14:28:36 naddy Exp $
d16 1
@


1.26
log
@update to 3.2.4; some input from sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2002/10/27 00:03:17 naddy Exp $
a25 3

MODULES=	gcc3
MODGCC3_ARCHES=	sparc64
@


1.25
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2002/07/19 23:43:11 pvalchev Exp $
d5 1
a5 1
VERSION=	3.2.3d
d25 4
a28 1
		::print/gv
d31 3
a33 3
		XFIGLIBDIR="${PREFIX}/lib/X11/xfig" \
		LOCALBASE="${LOCALBASE}" X11BASE="${X11BASE}"
FAKE_FLAGS+=	${MAKE_FLAGS} DESTDIR="${WRKINST}"
@


1.24
log
@new png header path
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2002/03/21 20:57:09 espie Exp $
d37 2
@


1.23
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/10/01 15:33:05 naddy Exp $
a8 1
NEED_VERSION=	1.515
@


1.22
log
@- add png dependency
- modernize Makefile, bump NEED_VERSION
- build in absence of X11 tablet input extension; from todd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/06/20 18:10:31 brad Exp $
d9 1
a9 1
NEED_VERSION=	1.465
@


1.21
log
@upgrade to xfig 3.2.3d
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/05/17 13:29:29 espie Exp $
d9 1
a9 4
NEED_VERSION=	1.413
MASTER_SITES=	http://www.xfig.org/xfigdist/ \
		ftp://www-epb.lbl.gov/xfig/ \
		ftp://www-epb.lbl.gov/xfig/previous_versions/
a12 7
LIB_DEPENDS=	jpeg.62::graphics/jpeg \
		Xaw3d.6.1::x11/Xaw3d
RUN_DEPENDS=	fig2dev::print/transfig \
		gv::print/gv

MAINTAINER=	ports@@openbsd.org

d17 10
@


1.20
log
@Yes, we do have `developers'. Jakob, Brad, Marc. All three of them
cooperated to break this.

Oh, and we obviously don't have any package testers either...

Guys, engage your brains sometimes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/03/29 03:11:38 kevlo Exp $
d5 1
a5 1
VERSION=	3.2.3c
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p1
d9 1
a9 2
NEED_VERSION=	1.364

a12 1
MASTER_SITE_SUBDIR= applications/drawing_tools/xfig
d16 5
d28 1
a28 10
LIB_DEPENDS=	jpeg.62::graphics/jpeg \
		Xaw3d.6.1::x11/Xaw3d
RUN_DEPENDS=	fig2dev::print/transfig \
		gv::print/gv

WRKDIST=	${WRKDIR}/xfig.${VERSION}

CONFIGURE_STYLE= imake
MAKE_FLAGS=	BINDIR="${PREFIX}/bin" MANDIR="${PREFIX}/man/cat1" \
		XAPPLOADDIR="${PREFIX}/lib/X11/app-defaults"  \
d32 6
@


1.19
log
@Fix MAN directory
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/03/27 01:03:19 brad Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}
@


1.19.2.1
log
@MFC:
fix PLIST, bump package revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/05/17 13:29:29 espie Exp $
d7 1
a7 1
PKGNAME=	xfig-${VERSION}p1
@


1.18
log
@hardcoded /usr/local & /usr/X11R6 -> $(LOCALBASE) & $(X11BASE)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/03/25 08:33:13 jakob Exp $
d33 1
a33 1
MAKE_FLAGS=	BINDIR="${PREFIX}/bin" MANDIR="${PREFIX}/man/man1" \
@


1.17
log
@update to v3.2.3c
integrate COMMENT
rename patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/10/22 15:42:20 espie Exp $
d3 1
a3 1
COMMENT=	CAD drawing program for X11
d9 1
a9 1
NEED_VERSION=	1.363
d32 6
a37 7
CONFIGURE_STYLE=	imake
MAKE_FLAGS=	BINDIR=${PREFIX}/bin MANDIR=${PREFIX}/man/man1 \
		XAPPLOADDIR=${PREFIX}/lib/X11/app-defaults  \
		XFIGLIBDIR=${PREFIX}/lib/X11/xfig 

post-patch:
	perl -pi -e 's|%%LOCALBASE%%|${LOCALBASE}|g' ${WRKSRC}/Imakefile
@


1.16
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/07/10 02:06:54 angelos Exp $
d3 5
a7 2
DISTNAME=	xfig.3.2.3a
PKGNAME=	xfig-3.2.3a
d9 5
a13 2
NEED_VERSION=	1.305
MASTER_SITES=	ftp://www-epb.lbl.gov/xfig/
d16 2
d29 2
@


1.15
log
@Release ports@@openbsd.org, as I can no longer maintain ports that
depend on XFree86 3.3.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/04/18 10:34:08 turan Exp $
d6 1
a6 1
NEED_VERSION=	 1.230
d22 1
a22 1
USE_IMAKE=	Yes
a25 1
FAKE=		Yes
@


1.14
log
@more missing licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/03/24 23:28:11 espie Exp $
d10 1
a10 1
MAINTAINER=	angelos@@openbsd.org
@


1.14.2.1
log
@bring graphics as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/07/10 02:06:54 angelos Exp $
d10 1
a10 1
MAINTAINER=	ports@@openbsd.org
@


1.13
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/03/22 18:11:27 espie Exp $
d11 5
@


1.12
log
@Fake, fix Imakefile, as Imakefiles should be working.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/03/05 18:30:29 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.223
d12 4
a15 4
LIB_DEPENDS=	jpeg.62:graphics/jpeg \
		Xaw3d.6.1:x11/Xaw3d
RUN_DEPENDS=	fig2dev:print/transfig \
		gv:print/gv
@


1.11
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/02/12 00:43:58 espie Exp $
d21 1
@


1.10
log
@Change MAKE_FLAGS to remove the -f.

Actually reading the Makefiles proved that about one third of them was
confused about this already...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/02/03 01:58:08 kevlo Exp $
d6 1
a8 1
NEED_VERSION=	1.195
d12 4
a15 4
LIB_DEPENDS=	jpeg.62:${PORTSDIR}/graphics/jpeg \
		Xaw3d.6.1:${PORTSDIR}/x11/Xaw3d
RUN_DEPENDS=	fig2dev:${PORTSDIR}/print/transfig \
		gv:${PORTSDIR}/print/gv
d17 1
a17 1
USE_IMAKE=	yes
@


1.9
log
@Update to version 3.2.3a.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/12/05 16:12:42 espie Exp $
d8 1
d20 1
a20 1
		XFIGLIBDIR=${PREFIX}/lib/X11/xfig  -f
@


1.8
log
@Work-around that I should have killed long ago...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/09/07 01:15:02 brad Exp $
d3 2
a4 2
DISTNAME=	xfig.3.2.2
PKGNAME=	xfig-3.2.2
d6 1
a6 1
MASTER_SITES=	${MASTER_SITE_XCONTRIB}
d20 3
@


1.7
log
@- update package dependency list for Xaw3d 1.5 upgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/04/14 13:24:48 espie Exp $
a14 11

# work-around, 2.5 is buggy
package-depends:
	@@echo "Xaw3d-1.5"
	@@echo "png-1.0.3"
	@@echo "jpeg-6b"
	@@echo "ghostscript-5.10"
	@@echo "gv-3.5.8"
	@@echo "transfig-3.2.1"

PKG_ARGS=	-v -c ${COMMENT} -d ${DESCR} -f ${PLIST} -p ${PREFIX} -P "`${MAKE} package-depends`"
@


1.6
log
@Temporary work-around for a nasty bug in bsd.port.mk:
the dependency list is piped thru sort -u, which doesn't appeal to
pkg_add at all.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/04/09 02:27:14 brad Exp $
d7 1
a7 1
MASTER_SITE_SUBDIR=	applications/drawing_tools/xfig
d11 2
a12 2
LIB_DEPENDS=	jpeg:${PORTSDIR}/graphics/jpeg \
		Xaw3d:${PORTSDIR}/x11/Xaw3d
d18 1
a18 1
	@@echo "Xaw3d-1.3"
d25 1
a25 1
PKG_ARGS=		-v -c ${COMMENT} -d ${DESCR} -f ${PLIST} -p ${PREFIX} -P "`${MAKE} package-depends`"
@


1.5
log
@remove xpm dependencies: xpm is part of OpenBSD as of 2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1998/07/04 06:41:03 marc Exp $
d15 11
@


1.4
log
@update to version 3.2.2; includes a library of pre-drawn symbols
@
text
@d1 1
a1 7
# OpenBSD makefile for:	xfig
# Version required:	3.2
# Date created:		December 2, 1997
# Whom:			Angelos D. Keromytis
#
# $OpenBSD: Makefile,v 1.3 1998/06/13 23:26:57 marc Exp $
#
d11 2
a12 7
LIB_DEPENDS=	jpeg\\.62\\.:${PORTSDIR}/graphics/jpeg \
		Xaw3d\\.6\\.:${PORTSDIR}/x11/Xaw3d
OS_RELEASE!=	uname -r
OS_HAS_XPM=	2.3
.if ( ${OS_RELEASE} < ${OS_HAS_XPM} )
LIB_DEPENDS+=	Xpm\\.4\\.:${PORTSDIR}/graphics/xpm
.endif
@


1.3
log
@don't depend on the ports libxpm unless os release < 2.3;
libXpm is standard with 2.3
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/05/06 02:52:57 marc Exp $
d9 2
a10 2
DISTNAME=	xfig.3.2
PKGNAME=	xfig-3.2
d24 2
a25 1
RUN_DEPENDS=	fig2dev:${PORTSDIR}/print/transfig
@


1.2
log
@update LIB_DEPENDS for new jpeg library
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1997/12/03 04:17:13 angelos Exp $
d17 1
a17 2
LIB_DEPENDS=	Xpm\\.4\\.:${PORTSDIR}/graphics/xpm \
		jpeg\\.62\\.:${PORTSDIR}/graphics/jpeg \
d19 5
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d18 1
a18 1
		jpeg\\.7\\.:${PORTSDIR}/graphics/jpeg \
@


1.1.1.1
log
@Add xfig 3.2 port.
@
text
@@
