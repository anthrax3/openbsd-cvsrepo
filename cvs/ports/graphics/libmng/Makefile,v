head	1.29;
access;
symbols
	OPENBSD_6_2:1.29.0.10
	OPENBSD_6_2_BASE:1.29
	OPENBSD_6_1:1.29.0.8
	OPENBSD_6_1_BASE:1.29
	OPENBSD_6_0:1.29.0.6
	OPENBSD_6_0_BASE:1.29
	OPENBSD_5_9:1.29.0.2
	OPENBSD_5_9_BASE:1.29
	OPENBSD_5_8:1.29.0.4
	OPENBSD_5_8_BASE:1.29
	OPENBSD_5_7:1.28.0.8
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.28.0.6
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.28.0.4
	OPENBSD_5_5_BASE:1.28
	OPENBSD_5_4:1.28.0.2
	OPENBSD_5_4_BASE:1.28
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.22.0.8
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.22
	OPENBSD_5_1:1.22.0.6
	OPENBSD_5_0:1.22.0.4
	OPENBSD_5_0_BASE:1.22
	OPENBSD_4_9:1.22.0.2
	OPENBSD_4_9_BASE:1.22
	OPENBSD_4_8:1.19.0.10
	OPENBSD_4_8_BASE:1.19
	OPENBSD_4_7:1.19.0.8
	OPENBSD_4_7_BASE:1.19
	OPENBSD_4_6:1.19.0.6
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.19.0.4
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.19.0.2
	OPENBSD_4_4_BASE:1.19
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.16.0.6
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.16.0.4
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.16.0.2
	OPENBSD_4_0_BASE:1.16
	OPENBSD_3_9:1.15.0.2
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.11.0.2
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.10.0.6
	OPENBSD_3_7_BASE:1.10
	OPENBSD_3_6:1.10.0.4
	OPENBSD_3_6_BASE:1.10
	OPENBSD_3_5:1.10.0.2
	OPENBSD_3_5_BASE:1.10
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.8.0.4
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.2
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.6.0.2
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	brad_2001-02-19:1.1.1.1
	brad:1.1.1;
locks; strict;
comment	@# @;


1.29
date	2015.03.16.18.07.47;	author naddy;	state Exp;
branches;
next	1.28;
commitid	IJdm3Zowcdkcxp5X;

1.28
date	2013.07.10.07.32.57;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2013.07.01.02.15.10;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2013.06.30.14.12.32;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.11.11.10.53;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2012.09.03.07.04.43;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2012.09.02.10.25.13;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.11.17.08.05.14;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.09.18.22.26;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2010.10.18.18.13.14;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2008.07.16.19.53.13;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2008.01.04.17.48.35;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.15.20.09.41;	author simon;	state Exp;
branches;
next	1.16;

1.16
date	2006.08.03.12.53.18;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2006.01.08.00.32.16;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2005.12.26.15.07.55;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2005.10.30.00.10.41;	author fgsch;	state Exp;
branches;
next	1.12;

1.12
date	2005.10.02.22.12.38;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2005.07.31.23.19.17;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2003.12.23.23.50.56;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2003.05.12.04.07.55;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2002.07.19.16.29.42;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2002.05.13.23.31.24;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2001.12.25.09.10.05;	author pvalchev;	state Exp;
branches;
next	1.5;

1.5
date	2001.12.03.16.53.01;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2001.11.02.21.04.56;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2001.05.29.16.23.41;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2001.04.14.00.59.04;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2001.02.19.18.51.05;	author brad;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.02.19.18.51.05;	author brad;	state Exp;
branches;
next	;


desc
@@


1.29
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@# $OpenBSD: Makefile,v 1.28 2013/07/10 07:32:57 espie Exp $

COMMENT=	Multiple-image Network Graphics (MNG) reference library

DISTNAME=	lm010010
PKGNAME=	libmng-1.0.10
REVISION=	3
CATEGORIES=	graphics
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=libmng/}
EXTRACT_SUFX=	.zip
UNZIP=		unzip -a

SHARED_LIBS=	mng	3.1

HOMEPAGE=	http://www.libmng.com/

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	jpeg lcms m z

LIB_DEPENDS=	graphics/lcms

# non shared arches...
LIB_DEPENDS +=	graphics/jpeg

FAKE_FLAGS=	PREFIX="${PREFIX}"

MAKE_ENV=	CC="${CC}" \
		SHLIB_MAJOR=${LIBmng_VERSION:R} \
		SHLIB_MINOR=${LIBmng_VERSION:E}
MAKE_FILE=	makefiles/makefile.openbsd

WRKDIST=	${WRKDIR}/libmng

NO_TEST=	Yes

post-extract:
	@@cp -f ${FILESDIR}/makefile.openbsd ${WRKSRC}/makefiles

.include <bsd.port.mk>
@


1.28
log
@revert brad change that LOSES INFORMATION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/06/30 14:12:32 espie Exp $
d7 1
a7 1
REVISION=	2
@


1.27
log
@Put the Makefile back to how it was before rev 1.24. No functional change.
@
text
@d22 4
a25 2
LIB_DEPENDS=	graphics/jpeg \
		graphics/lcms
@


1.26
log
@give it a chance to build on vax... noticed by sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/11 11:10:53 espie Exp $
d22 2
a23 4
LIB_DEPENDS=	graphics/lcms

# non shared arches...
LIB_DEPENDS +=	graphics/jpeg
@


1.25
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/09/03 07:04:43 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
d23 3
@


1.24
log
@Tighten LIB_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/09/02 10:25:13 ajacoutot Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d33 1
a33 1
NO_REGRESS=	Yes
@


1.23
log
@- Have the dynamic library link against its dependencies.
- Remove USE_GROFF.
- Fix mistake with the LCMS header path in the libmng Makefile.
- port and libmng Makefile clean up.

from Brad

Remove @@endfake while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/11/17 08:05:14 espie Exp $
d7 1
a7 1
REVISION=	0
d25 1
a25 2
LIB_DEPENDS=	graphics/jpeg \
		graphics/lcms
@


1.22
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/09 18:22:26 espie Exp $
d7 1
a7 1
SHARED_LIBS=	mng	3.1
d13 2
a16 4
LIB_DEPENDS=	graphics/jpeg \
		graphics/lcms
WANTLIB =	jpeg>=62 lcms

d23 5
a36 1
USE_GROFF =	Yes
@


1.21
log
@WANTLIB conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/10/18 18:13:14 espie Exp $
d15 3
a17 3
LIB_DEPENDS=	::graphics/jpeg \
		::graphics/lcms
WANTLIB =	jpeg.>=62 lcms
@


1.20
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/07/16 19:53:13 brad Exp $
d15 3
a17 2
LIB_DEPENDS=	jpeg.>=62::graphics/jpeg \
		lcms::graphics/lcms
@


1.19
log
@upgrade to libmng 1.0.10.

Tested by kevlo@@ and okan@@
ok okan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/01/04 17:48:35 espie Exp $
d33 1
@


1.18
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/09/15 20:09:41 simon Exp $
d5 3
a7 3
DISTNAME=	lm1009
PKGNAME=	libmng-1.0.9p1
SHARED_LIBS=	mng	3.0
@


1.17
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/08/03 12:53:18 espie Exp $
d24 1
a24 1
FAKE_FLAGS=	DESTDIR="${WRKINST}" PREFIX="${PREFIX}"
@


1.16
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/01/08 00:32:16 steven Exp $
d3 1
a3 1
COMMENT=	"Multiple-image Network Graphics (MNG) reference library"
@


1.15
log
@cleanup unneeded variables
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2005/12/26 15:07:55 steven Exp $
d15 1
a15 1
LIB_DEPENDS=	jpeg.62::graphics/jpeg \
@


1.14
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2005/10/30 00:10:41 fgsch Exp $
a25 3
SHLIB_MAJOR=	${LIBmng_VERSION:R}
SHLIB_MINOR=	${LIBmng_VERSION:E}

d27 2
a28 1
		SHLIB_MAJOR=${SHLIB_MAJOR} SHLIB_MINOR=${SHLIB_MINOR}
@


1.13
log
@after querying brad@@ he decided to drop maintainership for these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/10/02 22:12:38 brad Exp $
d7 1
a12 1

d26 5
a30 1
MAKE_ENV=	CC="${CC}"
@


1.12
log
@switch distfiles, should resolve a compilation issue reported to happen
with alpha/gcc 2.95 though most likely affects m68k/gcc 2.95 systems too.

Reported by: Janjaap van Velthooven <janjaap at alf-c dot stack dot nl>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/07/31 23:19:17 brad Exp $
a16 2

MAINTAINER=	Brad Smith <brad@@openbsd.org>
@


1.11
log
@upgrade to libmng 1.0.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/12/23 23:50:56 brad Exp $
d5 2
a6 1
DISTNAME=	libmng-1.0.9
d9 3
d30 2
@


1.10
log
@don't rely upon inter-library dependencies with shared libs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2003/05/12 04:07:55 brad Exp $
d5 1
a5 2
DISTNAME=	libmng-1.0.5
PKGNAME=	${DISTNAME}p1
d22 9
a30 10
SEPARATE_BUILD=	simple
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

post-install:
	cd ${WRKSRC}/doc/man && \
		${INSTALL_MAN} libmng.3 ${PREFIX}/man/man3 && \
		${INSTALL_MAN} mng.5 jng.5 ${PREFIX}/man/man5
@


1.9
log
@upgrade to libmng 1.0.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/07/19 16:29:42 brad Exp $
d6 1
d23 1
a23 1
SEPARATE_BUILD=	concurrent
a25 2
CONFIGURE_ARGS+= --enable-static \
		--with-jpeg="${LOCALBASE}"
d27 1
a27 1
		LDFLAGS="-L${LOCALBASE}/lib -lm"
@


1.8
log
@upgrade to libmng 1.0.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/05/13 23:31:24 espie Exp $
d5 1
a5 1
DISTNAME=	libmng-1.0.4
d16 1
@


1.7
log
@More MASTER_SITES_SUBDIR out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/12/25 09:10:05 pvalchev Exp $
d5 1
a5 1
DISTNAME=	libmng-1.0.3
a6 1
NEED_VERSION=	1.500
d26 2
a27 7
CONFIGURE_ENV=	CFLAGS="${CFLAGS} -DMNG_FULL_CMS" \
		CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib -llcms -lm"

PATCH_LIST=	${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltconfig \
		${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltmain_sh \
		patch-*
d30 1
a30 1
	@@cd ${WRKSRC}/doc/man && \
@


1.6
log
@add missing -lm to LDFLAGS to unbust elf archs, ok brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/12/03 16:53:01 brad Exp $
d8 1
a8 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR= libmng
@


1.5
log
@upgrade to libmng 1.0.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/11/02 21:04:56 brad Exp $
d30 1
a30 1
		LDFLAGS="-L${LOCALBASE}/lib -llcms"
@


1.4
log
@bsmith@@ -> brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/05/29 16:23:41 brad Exp $
d5 1
a5 1
DISTNAME=	libmng-1.0.1
d7 1
a7 1
NEED_VERSION=	1.475
d13 2
a14 1
LIB_DEPENDS=    jpeg.62::graphics/jpeg
d27 8
a34 1
		--with-jpeg="${LOCALBASE}" --without-lcms
@


1.3
log
@upgrade to libmng 1.0.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/04/14 00:59:04 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.402
d15 1
a15 1
MAINTAINER=	Brad Smith <bsmith@@openbsd.org>
@


1.2
log
@- integrate COMMENT
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/02/19 18:51:05 brad Exp $
d5 1
a5 1
DISTNAME=	libmng-1.0.0
d7 1
a7 1
NEED_VERSION=	1.384
@


1.1
log
@Initial revision
@
text
@d1 3
a3 1
# $OpenBSD$
d7 1
a7 1
NEED_VERSION=	1.336
@


1.1.1.1
log
@add libmng 1.0.0 port;
--
The libmng library supports decoding, displaying, encoding, and various
other manipulations of Multiple-image Network Graphics (MNG) image files.
It uses the zlib compression library, and optionally the JPEG library
and/or lcms (little CMS), a color-management library.
@
text
@@
