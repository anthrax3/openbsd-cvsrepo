head	1.2;
access;
symbols
	OPENBSD_3_3:1.1.0.4
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.2
	OPENBSD_3_2_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2003.05.12.04.07.56;	author brad;	state dead;
branches;
next	1.1;

1.1
date	2002.08.25.04.19.21;	author drahn;	state Exp;
branches;
next	;


desc
@@


1.2
log
@upgrade to libmng 1.0.5
@
text
@$OpenBSD: patch-libmng_error_c,v 1.1 2002/08/25 04:19:21 drahn Exp $
--- libmng_error.c.orig	Sun Jun 23 11:57:16 2002
+++ libmng_error.c	Fri Aug 23 14:40:25 2002
@@@@ -70,7 +70,7 @@@@
 /* ************************************************************************** */
 
 #ifdef MNG_INCLUDE_ERROR_STRINGS
-  mng_error_entry error_table [] =
+  mng_error_entry mng_error_table [] =
   {
     {MNG_NOERROR,          "No error"},
     {MNG_OUTOFMEMORY,      "Out of memory"},
@@@@ -182,7 +182,7 @@@@ mng_bool mng_store_error (mng_datap   pD
       mng_int32        iTop, iLower, iUpper, iMiddle;
       mng_error_entryp pEntry;         /* pointer to found entry */
                                        /* determine max index of table */
-      iTop = (sizeof (error_table) / sizeof (error_table [0])) - 1;
+      iTop = (sizeof (mng_error_table) / sizeof (mng_error_table [0])) - 1;
 
       iLower  = 0;                     /* initialize binary search */
       iMiddle = iTop >> 1;             /* start in the middle */
@@@@ -191,13 +191,13 @@@@ mng_bool mng_store_error (mng_datap   pD
 
       do                               /* the binary search itself */
         {
-          if (error_table [iMiddle].iError < iError)
+          if (mng_error_table [iMiddle].iError < iError)
             iLower = iMiddle + 1;
-          else if (error_table [iMiddle].iError > iError)
+          else if (mng_error_table [iMiddle].iError > iError)
             iUpper = iMiddle - 1;
           else
           {
-            pEntry = &error_table [iMiddle];
+            pEntry = &mng_error_table [iMiddle];
             break;
           }
 
@


1.1
log
@error_table in libmng is namespace pollution, it should use a local name
for this table, the table has been renamed to mng_error_table.
ok brad@@
@
text
@d1 1
a1 1
$OpenBSD$
@

