head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.6
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.03.25.11.11.37;	author czarkoff;	state Exp;
branches;
next	;
commitid	jNjOAsTBb6EHEYsZ;


desc
@@


1.1
log
@fix bookman and src2man scripts

Thanks to jca@@ for spotting the issues.

OK jca@@, sthen@@
@
text
@$OpenBSD$

Fix awk(1) limitation.

--- src2man.orig	Thu Mar 17 00:01:38 2011
+++ src2man	Wed Mar 25 10:43:25 2015
@@@@ -100,7 +100,7 @@@@ date=${date:-$(date +'%d %B %Y')}
 # Extract manpages from source files. Man page content is enclosed in
 # commment blocks starting by "/** sectnum"
 #
-awk -v release="$release" -v volume="$volume" -v nogen=$nogen '
+gawk -v release="$release" -v volume="$volume" -v nogen=$nogen '
 $1 == "/**" && $2 ~ /^[0-9]/ {
 	sect = $2
 	getline
@
