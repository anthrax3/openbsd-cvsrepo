head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2016.04.26.15.31.31;	author landry;	state Exp;
branches;
next	1.2;
commitid	i5tSkUTGVnXrievt;

1.2
date	2015.04.04.16.03.34;	author landry;	state Exp;
branches;
next	1.1;
commitid	TAdl49JF7cFhYAMp;

1.1
date	2015.04.04.16.01.22;	author landry;	state Exp;
branches;
next	;
commitid	0wt1YOZPdMhBuL8X;


desc
@@


1.3
log
@Update to catfish 1.4.2.

* move to python3
* use MODPY_EGG_VERSION
* avoid building/installing twice
* update dependencies
@
text
@:OpenBSD$
--- catfish/CatfishSearchEngine.py.orig	Fri Apr  1 05:28:07 2016
+++ catfish/CatfishSearchEngine.py	Tue Apr 26 16:31:32 2016
@@@@ -81,7 +81,7 @@@@ class CatfishSearchEngine:
     """CatfishSearchEngine is the collection of search backends that are used
     to perform a query.  Each backend is a CatfishSearchMethod"""
 
-    def __init__(self, methods=['zeitgeist', 'locate', 'walk']):
+    def __init__(self, methods=['zeitgeist', 'walk']):
         """Initialize the CatfishSearchEngine.  Provide a list of methods to
         be included in the search backends.  Available backends include:
 
@@@@ -503,9 +503,8 @@@@ class CatfishSearchMethod_Locate(CatfishSearchMethodEx
     def __init__(self):
         """Initialize the Locate SearchMethod."""
         CatfishSearchMethodExternal.__init__(self, "locate")
-        self.command = ["locate", "-i", "%path*%keywords*", "--existing"]
+        self.command = ["locate", "-i", "%keywords"]
 
     def assemble_query(self, keywords, path):
         """Assemble the search query."""
-        return ["locate", "--regex", "-i", "{}".format(string_regex(keywords,
-                                                                    path))]
+        return ["locate", "-i", str(keywords)]
@


1.2
log
@Disable the locate method for now, find/walk and zeitgeist should be
enough.
@
text
@d2 3
a4 3
--- catfish/CatfishSearchEngine.py.orig	Sun Sep 21 23:34:50 2014
+++ catfish/CatfishSearchEngine.py	Sat Apr  4 18:02:48 2015
@@@@ -69,7 +69,7 @@@@ class CatfishSearchEngine:
d13 1
a13 1
@@@@ -463,9 +463,8 @@@@ class CatfishSearchMethod_Locate(CatfishSearchMethodEx
@


1.1
log
@Update to catfish 1.2.2.

Note that the locate method leaves zombies processes behind, to be
investigated.
@
text
@d3 10
a12 1
+++ catfish/CatfishSearchEngine.py	Sat Apr  4 17:59:10 2015
@

