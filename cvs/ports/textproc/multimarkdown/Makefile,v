head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.2
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.2.0.8
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.6
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.4
	OPENBSD_5_8_BASE:1.2
	okan_20150324:1.1.1.1
	okan:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2017.04.12.18.42.34;	author landry;	state Exp;
branches;
next	1.2;
commitid	MqyTAJYTnoaHrr0Y;

1.2
date	2015.04.05.13.31.15;	author sthen;	state Exp;
branches;
next	1.1;
commitid	1hQJnDR1GYYQ0MPE;

1.1
date	2015.03.24.19.16.13;	author okan;	state Exp;
branches
	1.1.1.1;
next	;
commitid	F0CFyG1IJkn4sMvY;

1.1.1.1
date	2015.03.24.19.16.13;	author okan;	state Exp;
branches;
next	;
commitid	F0CFyG1IJkn4sMvY;


desc
@@


1.3
log
@Update to multimarkdown 5.4.0, from Sean Levy, who's been pinging about
this patch for more than a year (!)

- uses pledge()
- switch to cmake
- enabel tests

Various versions of this patch tested by Micah Muer and Michael McConville
@
text
@# $OpenBSD: Makefile,v 1.2 2015/04/05 13:31:15 sthen Exp $

V =		5.4.0
COMMENT =	marked-up plain text to formatted document converter
DISTNAME =	${GH_PROJECT}-${V}
PKGNAME =	multimarkdown-${V:C/-/./}
CATEGORIES =	textproc

GH_ACCOUNT =	fletcher
GH_PROJECT =	MultiMarkdown-5
GH_TAGNAME =	${V}

TESTS_COMMIT =	8d5ad66e3bbaeb0de8646783bfe964261ddb39c7
DIST_SUBDIR =	multimarkdown
MASTER_SITES_GITHUB =	https://github.com/fletcher/MMD-Test-Suite/archive/
DISTFILES =	${DISTNAME}${EXTRACT_SUFX} ${TESTS_COMMIT}${EXTRACT_SUFX}
HOMEPAGE =	http://fletcherpenney.net/multimarkdown/
MAINTAINER =	Sean Levy <attila@@stalphonsos.com>

# Dual licensed: MIT and GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

# uses pledge()
WANTLIB += 	c

BUILD_DEPENDS =	devel/greg

MODULES =	devel/cmake

CFLAGS +=	-DHAVE_SRAND_DETERMINISTIC

CONFIGURE_ARGS += -DGREG=${LOCALBASE}/bin/greg

post-extract:
	rm -rf ${WRKSRC}/submodules/MarkdownTest
	cp -r ${WRKDIR}/MMD-Test-Suite-${TESTS_COMMIT} \
		${WRKSRC}/submodules/MarkdownTest

pre-configure:
	touch ${WRKBUILD}/README.html

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/multimarkdown ${PREFIX}/bin/

.include <bsd.port.mk>
@


1.2
log
@drop GH_COMMIT lines which are hidden behind GH_TAGNAME,
discussed with a few in the room.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2015/03/24 19:16:13 okan Exp $
d3 1
a3 1
V =		4.7.1
d6 1
a6 1
PKGNAME =	multimarkdown-${V}
d10 1
a10 1
GH_PROJECT =	MultiMarkdown-4
d13 4
d23 2
a24 1
WANTLIB += c
d28 1
a28 4
USE_GMAKE =	Yes
ALL_TARGET =	ALL
MAKE_FLAGS =	CFLAGS="${CFLAGS} -include GLibFacade.h -DHAVE_ARC4RANDOM" \
		GREG=${LOCALBASE}/bin/greg
d30 11
a40 2
# Test files aren't included in distfile.
NO_TEST =	Yes
d43 1
a43 1
	${INSTALL_PROGRAM} ${WRKSRC}/multimarkdown ${PREFIX}/bin/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a11 1
GH_COMMIT =	c1bc09342a516f318a6b2f3e7e259bc09d9c9513
@


1.1.1.1
log
@Import textproc/multimarkdown
feedback and ok bcallah@@

MultiMarkdown is a derivative of Markdown that adds new syntax
features, such as footnotes, tables, and metadata. Additionally, it
offers mechanisms to convert plain text into LaTeX in addition to
HTML.

From Sean Levy
@
text
@@
