head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.32
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.28
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.30
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.26
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.24
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.22
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.20
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.18
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.16
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.14
	OPENBSD_5_0:1.3.0.12
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.10
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.8
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.6
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.4
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.2
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.2.0.6
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.4
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	bernd_2007-jan-18:1.1.1.1
	bernd:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2009.01.30.21.15.05;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2007.04.30.17.30.40;	author bernd;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.18.10.38.47;	author bernd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.18.10.38.47;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- make this build again
breakage noticed by naddy@@
@
text
@$OpenBSD: patch-rubynative_Makefile_in,v 1.2 2007/04/30 17:30:40 bernd Exp $
--- rubynative/Makefile.in.orig	Wed Feb 21 10:06:29 2007
+++ rubynative/Makefile.in	Fri Jan 30 22:13:09 2009
@@@@ -29,7 +29,7 @@@@ DESTDIR =
 # Building binaries
 RUBY = @@RUBY@@
 RDOC = @@RDOC@@
-RUNENV = LD_LIBRARY_PATH=.:..:/lib:/usr/lib:$(MYLIBDIR):$(HOME)/lib:/usr/local/lib:@@MYRUNPATH@@
+RUNENV = LD_LIBRARY_PATH=:/usr/lib:/usr/local/lib:@@MYRUNPATH@@
 
 
 
@@@@ -53,10 +53,10 @@@@ clean :
 
 
 install :
-	mkdir -p $(DESTDIR)$(MYRBLIBDIR)
-	( cd src && cp -Rf $(MYRBLIBS) $(DESTDIR)$(MYRBLIBDIR) )
-	mkdir -p $(DESTDIR)$(MYRBBINDIR)
-	cp -Rf $(MYRBBINS) $(DESTDIR)$(MYRBBINDIR)
+	$(BSD_INSTALL_DATA_DIR) $(DESTDIR)$(MYRBLIBDIR)
+	cd src && $(BSD_INSTALL_DATA) $(MYRBLIBS) $(DESTDIR)$(MYRBLIBDIR)
+	$(BSD_INSTALL_PROGRAM_DIR) $(DESTDIR)$(MYRBBINDIR)
+	$(BSD_INSTALL_SCRIPT) $(MYRBBINS) $(DESTDIR)$(MYRBBINDIR)
 	@@printf '\n'
 	@@printf '#================================================================\n'
 	@@printf '# Thanks for using Hyper Estraier for Ruby.\n'
@@@@ -82,21 +82,21 @@@@ distclean : clean
 
 check :
 	rm -rf casket
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test001.est
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test002.est
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test003.est
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test004.est
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test005.est
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test006.est
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb edit casket 1 "@@title" "java"
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb get casket 1
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb get casket 1 "@@title"
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb out casket 1
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb inform casket
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb optimize casket
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb search \
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test001.est
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test002.est
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test003.est
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test004.est
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test005.est
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb put casket ../misc/test006.est
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb edit casket 1 "@@title" "java"
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb get casket 1
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb get casket 1 "@@title"
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb out casket 1
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb inform casket
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb optimize casket
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb search \
 	  -vf -cd casket "estraier" > check.out
-	$(RUNENV) $(RUBY) -I./src -w -d estcmd.rb search \
+	LD_PRELOAD=/usr/lib/libpthread.so $(RUNENV) $(RUBY) -I./src -w -d estcmd.rb search \
 	  -vs -gs -attr "@@uri" -ord "@@mdate NUMD" -max 1 casket "estraier OR mikio" > check.out
 	rm -rf casket
 
@


1.2
log
@Update to hyperestraier-1.4.10.

Submitted by Jeremy Evans (MAINTAINER), thanks.
@
text
@d1 3
a3 3
$OpenBSD: patch-rubynative_Makefile_in,v 1.1.1.1 2007/01/18 10:38:47 bernd Exp $
--- rubynative/Makefile.in.orig	Wed Feb 21 01:06:29 2007
+++ rubynative/Makefile.in	Thu Apr 12 14:44:05 2007
d28 36
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- rubynative/Makefile.in.orig	Thu Nov 24 18:36:57 2005
+++ rubynative/Makefile.in	Fri Jan  5 22:21:01 2007
@@@@ -28,7 +28,7 @@@@ DESTDIR =
d8 2
a9 2
-RUNENV = LD_LIBRARY_PATH=.:..:/lib:/usr/lib:$(HOME)/lib:/usr/local/lib:@@MYRUNPATH@@
+RUNENV = LD_LIBRARY_PATH=/usr/lib:/usr/local/lib:@@MYRUNPATH@@
d13 1
a13 1
@@@@ -52,10 +52,10 @@@@ clean :
@


1.1.1.1
log
@Initial import of ruby-hyperestraier-1.0.0.

This is a Ruby interface to the Hyper Estraier high performance full-text
search engine.

Submitted and maintained by Jeremy Evans <jeremyevans0 at gmail dot com>
@
text
@@
