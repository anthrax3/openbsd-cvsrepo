head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.22
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.18
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.20
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.16
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.14
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.12
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.10
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.8
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.6
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.0.22
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.20
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.18
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.16
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.14
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.12
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.10
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.8
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.6
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.07.03.22.55.26;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2005.09.05.13.25.04;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@* Simply install the source man page.
* Add includes for prototypes.
* Fix a bizarre pointer to int as boolean abuse in parse.c.

ok ian@@
@
text
@$OpenBSD: patch-Makefile,v 1.1 2005/09/05 13:25:04 espie Exp $
--- Makefile.orig	Mon May  2 00:51:17 1994
+++ Makefile	Fri Jun 24 18:08:15 2011
@@@@ -18,21 +18,21 @@@@ INSDIR=/usr/local/bin
 #		choose a) b) or c)
 #
 # a) for BSD derivitives, enable the following line
-#OSFLAG=
+OSFLAG=
 
 # b) for XENIX systems, enable the following line
 #OSFLAG=-DXENIX
 
 # b) for other A.T.&T. UNIX derivitives, enable the following line
-OSFLAG=-DATT
+#OSFLAG=-DATT
 
 #
 # 	2) SELECTION OF TERMINAL CONTROL LIBRARY
 #		choose either of a) b) or c)
 #
 # a) if you use termcap, enable the following lines
-#TFLAG=-DM_TERMCAP
-#TLIB=termcap
+TFLAG=-DM_TERMCAP
+TLIB=ncurses
 
 # b) if you are using terminfo on a XENIX machine, enable the following lines
 #TFLAG=-DM_TERMINFO
@@@@ -75,14 +75,15 @@@@ OBJ= spiff.o output.o compare.o float.o strings.o exac
 CFILES= spiff.c output.c compare.c float.c strings.c exact.c miller.c parse.c command.c comment.c tol.c line.c floatrep.c token.c misc.c visual.c
 HFILES=misc.h strings.h line.h float.h floatrep.h tol.h command.h comment.h token.h edit.h parse.h compare.h flagdefs.h exact.h miller.h visual.h output.h
 OTHER=README Makefile Sample.1 Sample.2 Sample.3 Sample.4 paper.ms paper.out
+
 MANPAGE=spiff.1
 
 # disable this line iff you like being honked at.
 DEFS = -DNOCHATTER
 
-CFLAGS=-O $(OSFLAG) $(TFLAG) $(VISFLAG) $(DEFS)
+CFLAGS+=$(OSFLAG) $(TFLAG) $(VISFLAG) $(DEFS)
 
-default: spiff
+all: spiff
 
 spiff: $(OBJ)
 	$(CC) $(CFLAGS) -o spiff $(OBJ) $(VISLIB) -l$(TLIB)
@@@@ -95,7 +96,6 @@@@ visual.o: visual.c misc.h visual.h $(MGRINCS)
 misc.o: misc.c visual.h misc.h
 
 parse.o:  parse.c misc.h line.h command.h float.h tol.h comment.h parse.h token.h flagdefs.h
-	@@echo compiler may report 4 statement not reached warning messages for parse.c
 	$(CC) $(CFLAGS) -c parse.c
 
 command.o: command.c float.h tol.h misc.h
@@@@ -107,7 +107,6 @@@@ tol.o: tol.c tol.h float.h
 output.o: output.c output.h misc.h edit.h flagdefs.h
 
 compare.o: compare.c misc.h strings.h float.h tol.h token.h line.h compare.h flagdefs.h
-	@@echo compiler may report 1 statement not reached warning message for compare.c
 	$(CC) $(CFLAGS) -c compare.c
 
 float.o: float.c misc.h strings.h float.h floatrep.h
@


1.1
log
@rename patches, fix manpage location.
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ Makefile	Mon Sep  5 15:22:50 2005
d30 1
a30 1
@@@@ -75,14 +75,15 @@@@ OBJ= spiff.o output.o compare.o float.o 
d44 1
a44 1
+all: spiff spiff.0
d48 1
a48 1
@@@@ -95,7 +96,6 @@@@ visual.o: visual.c misc.h visual.h $(MGR
a63 10
@@@@ -145,5 +144,7 @@@@ cmd:
 	-$(CMD) $(CFILES) $(HFILES) $(OTHER) $(MANPAGE)
 install:
 	mv spiff $(INSDIR)/bin
-	cp $(MANPAGE) $(INSDIR)/man/man1
-	
+	cp $(MANPAGE) $(INSDIR)/man/cat1
+
+spiff.0:	spiff.1
+			nroff -man spiff.1 > spiff.0
@

