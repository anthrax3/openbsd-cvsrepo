head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.26
	OPENBSD_6_2_BASE:1.1
	OPENBSD_6_1:1.1.0.24
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.22
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.18
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.20
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.16
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.14
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.12
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.10
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.8
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.6
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.4
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2011.07.03.22.55.26;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.1
log
@* Simply install the source man page.
* Add includes for prototypes.
* Fix a bizarre pointer to int as boolean abuse in parse.c.

ok ian@@
@
text
@$OpenBSD$
--- parse.c.orig	Mon Feb  5 21:17:19 1990
+++ parse.c	Fri Jun 24 19:09:49 2011
@@@@ -11,6 +11,7 @@@@
 static char rcsid[]= "$Header: parse.c,v 1.1 88/09/15 11:33:57 daniel Rel $";
 #endif
 
+#include <string.h>
 #include "misc.h"
 #include "flagdefs.h"
 #include "float.h"
@@@@ -68,9 +69,6 @@@@ static
 _P_in_alpha(chr)
 char chr;
 {
-#ifndef ATT
-	extern int index();
-#endif
 	/*
 	**	special case when string terminator
 	**	is handed to us
@@@@ -78,11 +76,7 @@@@ char chr;
 	if ('\0' == chr)
 		return(0);
 
-#ifdef ATT
-	return((int) strchr(_P_alpha,chr));
-#else
-	return((int) index(_P_alpha,chr));
-#endif
+	return(strchr(_P_alpha,chr) != NULL);
 }
 
 void
@
