head	1.26;
access;
symbols
	OPENBSD_6_2:1.26.0.2
	OPENBSD_6_2_BASE:1.26
	OPENBSD_6_1:1.22.0.2
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.20.0.4
	OPENBSD_6_0_BASE:1.20
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.18.0.4
	OPENBSD_5_8_BASE:1.18
	OPENBSD_5_7:1.16.0.2
	OPENBSD_5_7_BASE:1.16
	OPENBSD_5_6:1.14.0.2
	OPENBSD_5_6_BASE:1.14
	OPENBSD_5_5:1.13.0.2
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.10.0.2
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.5.0.8
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.6
	OPENBSD_5_0:1.5.0.4
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.1.1.1.0.8
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.6
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.4
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	robert_20090118:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2017.07.26.22.45.31;	author sthen;	state Exp;
branches;
next	1.25;
commitid	tD4MFrpYYDDL2UFT;

1.25
date	2017.07.16.19.19.03;	author espie;	state Exp;
branches;
next	1.24;
commitid	tt0GhWK5c4uf9ILG;

1.24
date	2017.06.12.10.57.57;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	Jrodt0XCK48q56Zk;

1.23
date	2017.04.10.11.46.34;	author sthen;	state Exp;
branches;
next	1.22;
commitid	HY6VNZxjJWzKQFDV;

1.22
date	2016.11.04.11.35.20;	author sthen;	state Exp;
branches;
next	1.21;
commitid	Gg5LRcnQlqj5M3F7;

1.21
date	2016.09.23.09.16.58;	author sthen;	state Exp;
branches;
next	1.20;
commitid	XLnI6AbHAmyVU5mO;

1.20
date	2015.10.30.12.59.17;	author sthen;	state Exp;
branches;
next	1.19;
commitid	vVZOehVa6DiEPxJL;

1.19
date	2015.08.24.10.01.10;	author sthen;	state Exp;
branches;
next	1.18;
commitid	2huNwQ3eew4irBXJ;

1.18
date	2015.06.07.10.02.45;	author ajacoutot;	state Exp;
branches;
next	1.17;
commitid	Ci7PpoYfEyKrhsE7;

1.17
date	2015.05.22.11.31.19;	author ajacoutot;	state Exp;
branches;
next	1.16;
commitid	2khjHXfpTaOuNVcx;

1.16
date	2014.09.13.18.09.22;	author brad;	state Exp;
branches;
next	1.15;
commitid	PpbRjVZdAmlrmi8q;

1.15
date	2014.09.13.16.36.54;	author ajacoutot;	state Exp;
branches;
next	1.14;
commitid	N2TalFGi4jKRwS2u;

1.14
date	2014.04.21.23.28.15;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2013.08.13.20.10.45;	author robert;	state Exp;
branches;
next	1.12;

1.12
date	2013.08.13.17.21.53;	author robert;	state Exp;
branches;
next	1.11;

1.11
date	2013.08.12.06.32.20;	author robert;	state Exp;
branches;
next	1.10;

1.10
date	2013.06.12.20.36.34;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2013.05.25.00.33.10;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.21.08.48.54;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.11.11.42.46;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2012.11.12.13.34.03;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.20.19.56.51;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.11.08.20.48.56;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2010.11.08.20.46.43;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.10.19.07.54.25;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.18.19.05.35;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.01.18.19.05.35;	author robert;	state Exp;
branches;
next	;


desc
@@


1.26
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.25 2017/07/16 19:19:03 espie Exp $

MULTI_PACKAGES=		-main -mysql -pgsql

COMMENT-main=		high-level interface for RDF
COMMENT-mysql=		MySQL driver for redland
COMMENT-pgsql=		PostgreSQL driver for redland

V=			1.0.17
DISTNAME=		redland-$V
PKGNAME-main=		redland-$V
PKGNAME-mysql=		redland-mysql-$V
PKGNAME-pgsql=		redland-pgsql-$V

REVISION-main=		4
REVISION-mysql=		5
REVISION-pgsql=		5

CATEGORIES=		textproc

SHARED_LIBS +=	rdf                  1.0      # 0.0

HOMEPAGE=		http://librdf.org/

MASTER_SITES=		http://download.librdf.org/source/

# LGPL 2.1+, GPL 2+ or Apache 2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += crypto curl gcrypt gmp gpg-error ltdl m mpfr nghttp2
WANTLIB += pcre pthread raptor2 rasqal ssl xml2 xslt yajl z
WANTLIB += lzma uuid

MODULES=		devel/gettext

LIB_DEPENDS=		devel/libtool,-ltdl \
			textproc/raptor \
			textproc/rasqal

CONFIGURE_STYLE=	gnu

CONFIGURE_ARGS=	--with-raptor=system \
		--with-rasqal=system \
		--with-datadirect=no \
		--with-unixodbc=no \
		--with-threestore=no \
		--with-virtuoso=no \
		--with-iodbc=no \
		--with-mysql=yes \
		--with-postgresql=yes \
		--with-sqlite=3 \
		--with-bdb=no \
		--with-threads=yes \
		--with-ltdl-include=${LOCALBASE}/include \
		--with-ltdl-lib=${LOCALBASE}/lib

LIB_DEPENDS-main=	databases/sqlite3 \
			textproc/raptor \
			textproc/rasqal \
			devel/libtool,-ltdl
WANTLIB-main=		${WANTLIB} c sqlite3

LIB_DEPENDS-mysql=	${BASE_PKGPATH},-main \
			databases/mariadb
WANTLIB-mysql=		${WANTLIB} crypto mysqlclient rdf ${COMPILER_LIBCXX}

LIB_DEPENDS-pgsql=	${BASE_PKGPATH},-main \
			databases/postgresql
WANTLIB-pgsql=		${WANTLIB} pq rdf

post-install:
	rm ${PREFIX}/lib/redland/librdf_storage_*.{la,a}

.include <bsd.port.mk>
@


1.25
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2017/06/12 10:57:57 ajacoutot Exp $
d15 3
a17 3
REVISION-main=		3
REVISION-mysql=		4
REVISION-pgsql=		4
@


1.24
log
@Remove trailing lines.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2017/04/10 11:46:34 sthen Exp $
d65 1
a65 1
WANTLIB-mysql=		${WANTLIB} crypto mysqlclient rdf ${LIBCXX}
@


1.23
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2016/11/04 11:35:20 sthen Exp $
a9 1
REVISION=		3
d14 4
@


1.22
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/09/23 09:16:58 sthen Exp $
d62 1
a62 1
WANTLIB-mysql=		${WANTLIB} crypto mysqlclient rdf stdc++
@


1.21
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/10/30 12:59:17 sthen Exp $
d10 1
a10 2
REVISION=		1
REVISION-main=		2
d27 1
a27 1
WANTLIB += crypto curl gcrypt gmp gpg-error idn ltdl m mpfr nghttp2
@


1.20
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/08/24 10:01:10 sthen Exp $
d11 1
d55 2
a56 1
LIB_DEPENDS-main=	textproc/raptor \
@


1.19
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/06/07 10:02:45 ajacoutot Exp $
d10 1
a10 1
REVISION=		0
d27 1
a27 1
WANTLIB += crypto curl gcrypt gmp gpg-error idn ltdl m mpfr
@


1.18
log
@Update to redland-1.0.17.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/05/22 11:31:19 ajacoutot Exp $
d10 1
d28 1
a28 1
WANTLIB += pthread raptor2 rasqal ssl xml2 xslt yajl z
@


1.17
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/09/13 18:09:22 brad Exp $
d9 1
a9 1
V=			1.0.16
d14 1
a15 3
REVISION=		2
REVISION-mysql=		3
REVISION-pgsql=		3
d28 1
d60 1
a60 1
WANTLIB-mysql=		${WANTLIB} crypto mysqlclient rdf
@


1.16
log
@Switch from using MySQL to using MariaDB attempt #2. MariaDB is a drop-in replacement.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2014/09/13 16:36:54 ajacoutot Exp $
d15 3
a17 3
REVISION=		1
REVISION-mysql=		2
REVISION-pgsql=		2
@


1.15
log
@--disable-gtk-doc is handled by the infrastructure now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2014/04/21 23:28:15 sthen Exp $
d16 1
d60 1
a60 1
			databases/mysql
@


1.14
log
@sync wantlib (com_err in pgsql)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/08/13 20:10:45 robert Exp $
d51 1
a51 2
		--with-ltdl-lib=${LOCALBASE}/lib \
		--disable-gtk-doc
@


1.13
log
@oops, put back accidentally removed WANTLIBs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/08/13 17:21:53 robert Exp $
d16 1
d65 1
a65 1
WANTLIB-pgsql=		${WANTLIB} com_err pq rdf
@


1.12
log
@fix build w/o iodbc installed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/08/12 06:32:20 robert Exp $
d15 1
a15 1
REVISION=		0
d64 1
@


1.11
log
@update to 1.0.16; in preparation for a libreoffice update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/06/12 20:36:34 brad Exp $
d15 1
d42 1
a42 1
		--with-virtuoso=yes \
a63 1
WANTLIB-pgsql=		${WANTLIB} com_err pq rdf
@


1.10
log
@Revert back to using MySQL 5.1 for the time being. MariaDB 5.5 introduces
a new libmysqlclient non-blocking API which utilizes co-routines. The X86
specific GCC ASM co-routine support hid the fact that there was an issue.
The only fallback code so far is POSIX user contexts which OpenBSD does not
support.

Input from and Ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/05/25 00:33:10 brad Exp $
d9 1
a9 1
V=			1.0.15
a12 1
REVISION-mysql=		1
@


1.9
log
@Switch from using MySQL to using MariaDB. MariaDB is a drop-in replacement.


ok sthen aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/03/21 08:48:54 ajacoutot Exp $
d13 1
a13 1
REVISION-mysql=		0
d59 1
a59 1
			databases/mariadb
@


1.8
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/03/11 11:42:46 espie Exp $
d13 1
d59 1
a59 1
			databases/mysql
@


1.7
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/11/12 13:34:03 sthen Exp $
a34 1
USE_LIBTOOL=		Yes
@


1.6
log
@update to Redland 1.0.15, multipackages for DB backends, cope with new raptor.
- merged from updates by Vadim Zhukov in openbsd-wip and dlg@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/20 19:56:51 espie Exp $
a23 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.5
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/11/08 20:48:56 jasper Exp $
d3 11
a13 3
COMMENT=		high-level interface for RDF
DISTNAME=		redland-1.0.8
REVISION=		1
d16 1
a16 2
SHARED_LIBS=		rasqal	1.0 \
			rdf	0.0
d22 1
a22 1
# LGPL 2.1, GPL 2 or Apache 2
d28 4
a31 1
WANTLIB=	c crypto curl idn m ssl xml2 xslt z raptor>=2
d33 3
a35 2
MODULES=	devel/gettext
LIB_DEPENDS=	textproc/raptor
a38 1
USE_GROFF =		Yes
d41 3
a43 1
		--with-rasqal=internal \
d45 26
a70 3
		--with-sqlite=no \
		--with-mysql=no \
		--with-postgresql=no
@


1.4
log
@actually, MODULES is better
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/11/08 20:46:43 jasper Exp $
d21 1
a21 1
WANTLIB=	c crypto curl idn m ssl xml2 xslt z raptor.>=2
d24 1
a24 1
LIB_DEPENDS=	::textproc/raptor
@


1.3
log
@- fix COMMENT, and switch to newstyle DEPENDS whilst here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/10/19 07:54:25 espie Exp $
d5 1
a5 1
REVISION=		0
d21 1
a21 1
WANTLIB=	c crypto curl iconv idn intl m ssl xml2 xslt z raptor.>=2
d23 1
@


1.2
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/01/18 19:05:35 robert Exp $
d3 1
a3 1
COMMENT=		A high-level interface for RDF
d5 1
d21 1
a21 1
WANTLIB=	c crypto curl iconv idn intl m ssl xml2 xslt z
d23 1
a23 1
LIB_DEPENDS=	raptor.>=2::textproc/raptor
d27 1
a27 1
USE_GROFF =	Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d26 1
@


1.1.1.1
log
@import of redland-1.0.8;

Redland is a library that provides a high-level interface for RDF allowing
the model to be stored, queried and manipulated. Redland implements each
of the RDF model concepts in its own class so provides an object based API
for them. Some of the classes providing the parsers, storage mechanisms and
other elements are built as modules that can be added or removed as required.

@
text
@@
