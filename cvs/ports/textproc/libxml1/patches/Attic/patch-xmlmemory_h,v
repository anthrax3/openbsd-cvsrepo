head	1.2;
access;
symbols
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2008.11.07.10.04.32;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2008.07.14.20.42.41;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- more gtk1/gnome1 stuff to go

discussed with and ok ajacoutot@@ landry@@
@
text
@Without the correct prototype for malloc() brought in from
stdlib.h, the compiler assumes the result is an integer not
a pointer. On 64-bit arch this causes pointer truncation.

$OpenBSD: patch-xmlmemory_h,v 1.1 2008/07/14 20:42:41 sthen Exp $
--- xmlmemory.h.orig	Mon Jul 14 11:32:42 2008
+++ xmlmemory.h	Mon Jul 14 11:32:54 2008
@@@@ -14,6 +14,9 @@@@
 #ifdef HAVE_MALLOC_H
 #include <malloc.h>
 #endif
+#ifdef HAVE_STDLIB_H
+#include <stdlib.h>
+#endif
 
 #define xmlFree(x) free((x))
 #define xmlMalloc(x) malloc(x)
@


1.1
log
@Patch to #include more headers to fix missing prototypes, which
resulted in pointer truncation on LP64 arch.

patch-debugXML_c - string.h is wrapped in #ifdef, but the macro is
never set by autoconf. Most other source here unconditionally includes
string.h, so follow suit - fgsch@@ would prefer mending configure.in.
Explanatory notes added to patch. ok martynas@@.

patch-xmlmemory_h - stdlib.h missing. ok fgsch@@ martynas@@.
@
text
@d5 1
a5 1
$OpenBSD$
@

