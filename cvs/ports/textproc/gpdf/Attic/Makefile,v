head	1.20;
access;
symbols
	OPENBSD_4_1:1.19.0.2
	OPENBSD_4_1_BASE:1.19
	OPENBSD_4_0:1.15.0.2
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.14.0.2
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.10.0.2
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.9.0.2
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.5.0.2
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	marcm_2003-oct-07:1.1.1.1
	marcm:1.1.1;
locks; strict;
comment	@# @;


1.20
date	2007.08.05.15.20.48;	author steven;	state dead;
branches;
next	1.19;

1.19
date	2007.01.04.20.19.54;	author steven;	state Exp;
branches;
next	1.18;

1.18
date	2006.12.16.12.22.35;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2006.11.13.12.51.15;	author steven;	state Exp;
branches;
next	1.16;

1.16
date	2006.09.18.12.00.00;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2006.06.13.13.33.40;	author bernd;	state Exp;
branches;
next	1.14;

1.14
date	2006.02.05.09.59.38;	author bernd;	state Exp;
branches;
next	1.13;

1.13
date	2006.01.18.05.40.33;	author steven;	state Exp;
branches;
next	1.12;

1.12
date	2005.12.07.10.51.40;	author bernd;	state Exp;
branches;
next	1.11;

1.11
date	2005.11.15.19.38.22;	author wilfried;	state Exp;
branches;
next	1.10;

1.10
date	2005.08.22.22.37.12;	author naddy;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2005.02.21.16.54.19;	author alek;	state Exp;
branches
	1.9.2.1;
next	1.8;

1.8
date	2004.12.22.06.04.22;	author marcm;	state Exp;
branches;
next	1.7;

1.7
date	2004.12.07.00.23.21;	author alek;	state Exp;
branches;
next	1.6;

1.6
date	2004.10.10.16.46.53;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2004.08.10.08.46.49;	author xsa;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2004.06.24.18.40.14;	author marcm;	state Exp;
branches;
next	1.3;

1.3
date	2004.04.08.06.22.34;	author marcm;	state Exp;
branches;
next	1.2;

1.2
date	2003.12.04.23.07.25;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2003.10.08.01.28.19;	author marcm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.10.08.01.28.19;	author marcm;	state Exp;
branches;
next	;

1.5.2.1
date	2005.08.29.19.47.57;	author sturm;	state Exp;
branches;
next	;

1.9.2.1
date	2005.08.29.19.49.56;	author sturm;	state Exp;
branches;
next	1.9.2.2;

1.9.2.2
date	2005.12.08.19.40.15;	author sturm;	state Exp;
branches;
next	1.9.2.3;

1.9.2.3
date	2006.02.06.22.16.40;	author sturm;	state Exp;
branches;
next	;

1.10.2.1
date	2005.12.08.19.40.40;	author sturm;	state Exp;
branches;
next	1.10.2.2;

1.10.2.2
date	2006.02.06.22.16.23;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.20
log
@remove gpdf, superseded by evince.

pointed out by Daniel Dickman (didickman@@gmail)

ok naddy, espie, kili
@
text
@# $OpenBSD: Makefile,v 1.19 2007/01/04 20:19:54 steven Exp $

COMMENT=		"PDF viewer for GNOME"

DISTNAME=		gpdf-2.8.1
PKGNAME=		${DISTNAME}p6
CATEGORIES=		textproc x11/gnome

HOMEPAGE=		http://www.inf.tu-dresden.de/~mk793652/gpdf/

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=gmodule-2.0 gtk-x11-2.0 gobject-2.0 cairo \
	art_lgpl_2 fontconfig gconf-2 gnomecanvas-2 pthread ICE \
	glib-2.0 pango-1.0 pangocairo-1.0 c popt SM \
	pangoft2-1.0 gnomevfs-2 ORBit-2 z gnome-2 glade-2.0 \
	gthread-2.0 xml2 gnomeprint-2-2 X11 Xext Xrender atk-1.0 stdc++ \
	freetype gdk-x11-2.0 bonobo-activation bonobo-2 m bonoboui-2 \
	gdk_pixbuf-2.0 glitz png

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gpdf/2.8/}
EXTRACT_SUFX=		.tar.bz2

MODULES=		devel/gettext

BUILD_DEPENDS=		:p5-XML-Parser-*:textproc/p5-XML-Parser \
			${RUN_DEPENDS}
RUN_DEPENDS=		:scrollkeeper-*:textproc/scrollkeeper
LIB_DEPENDS=		gnomeui-2::x11/gnome/libgnomeui \
			gnomeprintui-2-2::x11/gnome/libgnomeprintui

USE_X11=		Yes
USE_GMAKE=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--disable-schemas-install
CONFIGURE_ARGS+=	--with-gconf-schema-file-dir=${LOCALBASE}/share/schemas/gpdf
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"

post-patch:
	@@ln -s /usr/bin/true ${WRKDIR}/bin/scrollkeeper-update

.include <bsd.port.mk>
@


1.19
log
@fix WANTLIB of ports using gtk, needed after switch to our own pkg-config
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/12/16 12:22:35 espie Exp $
@


1.18
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2006/11/13 12:51:15 steven Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p5
d20 1
a20 1
	gthread-2.0 xml2 gnomeprint-2-2 X11 atk-1.0 stdc++ \
d22 1
a22 1
	gdk_pixbuf-2.0
@


1.17
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2006/09/18 12:00:00 espie Exp $
d29 1
a29 2
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig \
			:p5-XML-Parser-*:textproc/p5-XML-Parser \
@


1.16
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2006/06/13 13:33:40 bernd Exp $
d36 1
@


1.15
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2006/02/05 09:59:38 bernd Exp $
d16 1
a16 1
WANTLIB=gmodule-2.0.0.0 gtk-x11-2.0.0.0 gobject-2.0.0.0 cairo \
d18 5
a22 5
	glib-2.0.0.0 pango-1.0.0.0 pangocairo-1.0.0.0 c popt SM \
	pangoft2-1.0.0.0 gnomevfs-2 ORBit-2 z gnome-2 glade-2.0.0.0 \
	gthread-2.0.0.0 xml2 gnomeprint-2-2 X11 atk-1.0.0.0 stdc++ \
	freetype gdk-x11-2.0.0.0 bonobo-activation bonobo-2 m bonoboui-2 \
	gdk_pixbuf-2.0.0.0
@


1.14
log
@Fix heap based buffer overflow.

From KDE. http://www.kde.org/info/security/advisory-20060202-1.txt

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2006/01/18 05:40:33 steven Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p4
d16 3
a18 3
WANTLIB=gmodule-2.0.0.0 gtk-x11-2.0.0.0 gobject-2.0.0.0 \
	art_lgpl_2 fontconfig gconf-2 gnomecanvas-2 pthread ICE Xrender \
	glib-2.0.0.0 pango-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 c popt SM \
d20 1
a20 1
	gthread-2.0.0.0 xml2 gnomeprint-2-2 X11 Xext Xft atk-1.0.0.0 stdc++ \
@


1.13
log
@fix WANTLIB after gtk+2 downgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2005/12/07 10:51:40 bernd Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p3
@


1.12
log
@Fix several security bugs in the xpdf code of gpdf.

o iDefense advisories from 2005-12-05
o CAN-2005-3191, CAN-2005-3192, CAN-2005-3193

- JPX Stream Reader Heap Overflow Vulnerability
- DCTStream Baseline Heap Overflow Vulnerability
- DCTStream Progressive Heap Overflow
- StreamPredictor Heap Overflow Vulnerability

Patch provided by xpdf developers.

Remove mbalmer@@ from MAINTAINER per his request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2005/11/15 19:38:22 wilfried Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
d17 2
a18 2
	art_lgpl_2 fontconfig gconf-2 gnomecanvas-2 pthread ICE \
	glib-2.0.0.0 pango-1.0.0.0 c cairo popt SM \
d20 1
a20 1
	gthread-2.0.0.0 xml2 gnomeprint-2-2 X11 atk-1.0.0.0 stdc++ \
d22 1
a22 1
	gdk_pixbuf-2.0.0.0 pangocairo-1.0.0.0
@


1.11
log
@fix wantlib + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/08/22 22:37:12 naddy Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
a9 2

MAINTAINER=		Marc Balmer <marc@@msys.ch>
@


1.10
log
@SECURITY:
Catch up with xpdf 3.00 pl2 and pl3 for various vulnerabilities, and a fix
for CAN-2005-2097 from Kristian Hoegsberg.
ok mbalmer@@, pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/02/21 16:54:19 alek Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d18 3
a20 3
WANTLIB=gmodule-2.0.0.0 pangoxft-1.0.0.0 gtk-x11-2.0.0.0 gobject-2.0.0.0 \
	art_lgpl_2 fontconfig gconf-2 gnomecanvas-2 pthread Xrender ICE \
	glib-2.0.0.0 Xinerama pango-1.0.0.0 c Xcursor Xext popt SM Xft \
d24 1
a24 1
	pangox-1.0.0.0 gdk_pixbuf-2.0.0.0
@


1.10.2.1
log
@MFC:
Fix several security bugs in the xpdf code of gpdf.

o iDefense advisories from 2005-12-05
o CAN-2005-3191, CAN-2005-3192, CAN-2005-3193

- JPX Stream Reader Heap Overflow Vulnerability
- DCTStream Baseline Heap Overflow Vulnerability
- DCTStream Progressive Heap Overflow
- StreamPredictor Heap Overflow Vulnerability

Patch provided by xpdf developers.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/08/22 22:37:12 naddy Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
@


1.10.2.2
log
@MFC:
Fix heap based buffer overflow.

From KDE. http://www.kde.org/info/security/advisory-20060202-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10.2.1 2005/12/08 19:40:40 sturm Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p4
@


1.9
log
@Fix WANTLIB marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/12/22 06:04:22 marcm Exp $
d6 1
@


1.9.2.1
log
@MFC:
SECURITY:
Catch up with xpdf 3.00 pl2 and pl3 for various vulnerabilities, and a fix
for CAN-2005-2097 from Kristian Hoegsberg

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/02/21 16:54:19 alek Exp $
a5 1
PKGNAME=		${DISTNAME}p0
@


1.9.2.2
log
@MFC:
Fix several security bugs in the xpdf code of gpdf.

o iDefense advisories from 2005-12-05
o CAN-2005-3191, CAN-2005-3192, CAN-2005-3193

- JPX Stream Reader Heap Overflow Vulnerability
- DCTStream Baseline Heap Overflow Vulnerability
- DCTStream Progressive Heap Overflow
- StreamPredictor Heap Overflow Vulnerability

Patch provided by xpdf developers.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9.2.1 2005/08/29 19:49:56 sturm Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
@


1.9.2.3
log
@MFC:
Fix heap based buffer overflow.

From KDE. http://www.kde.org/info/security/advisory-20060202-1.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9.2.2 2005/12/08 19:40:15 sturm Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p4
@


1.8
log
@Update to 2.8.1 in support of Gnoem 2.8.2.  Fix WANTLIB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/12/07 00:23:21 alek Exp $
d17 1
a17 1
WANTLIB=gmodule-2.0.0.0 pangoxft-1.0.0.0 esd gtk-x11-2.0.0.0 gobject-2.0.0.0 \
d19 5
a23 6
	ORBitCosNaming-2 glib-2.0.0.0 Xinerama pango-1.0.0.0 audiofile c \
	pangoft2-1.0.0.0 gnomevfs-2 ORBit-2 jpeg z gnome-2 glade-2.0.0.0 \
	gthread-2.0.0.0 xml2 gnomeprint-2-2 X11 atk-1.0.0.0 crypto stdc++ \
	freetype gdk-x11-2.0.0.0 bonobo-activation bonobo-2 ssl m bonoboui-2 \
	pangox-1.0.0.0 Xft SM gnome-keyring gdk_pixbuf-2.0.0.0 Xext popt \
	Xcursor
@


1.7
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/10/10 16:46:53 sturm Exp $
d5 1
a5 1
DISTNAME=		gpdf-0.132
d23 2
a24 1
	pangox-1.0.0.0 Xft SM gnome-keyring gdk_pixbuf-2.0.0.0 Xext popt
d26 1
a26 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gpdf/0.132/}
@


1.6
log
@fix BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/08/10 08:46:49 xsa Exp $
d17 7
@


1.5
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/06/24 18:40:14 marcm Exp $
d24 3
a26 1
			:p5-XML-Parser-*:textproc/p5-XML-Parser
@


1.5.2.1
log
@MFC:
SECURITY:
Catch up with xpdf 3.00 pl2 and pl3 for various vulnerabilities

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/08/10 08:46:49 xsa Exp $
a5 1
PKGNAME=		${DISTNAME}p0
@


1.4
log
@Update to 0.132 to sync up with Gnome 2.6.  And printing works too :)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/04/08 06:22:34 marcm Exp $
d21 1
a21 1
MODULES=		gettext
@


1.3
log
@Update to 0.112.

From MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=		gpdf-0.112
d18 1
a18 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gpdf/0.112/}
d30 2
d34 3
@


1.2
log
@don't start comment w/ indeterminate article
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/10/08 01:28:19 marcm Exp $
d5 1
a5 1
DISTNAME=		gpdf-0.110
d18 1
a18 1
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gpdf/0.110/}
d23 2
a24 1
BUILD_DEPENDS=		:pkgconfig->=0.14.0:devel/pkgconfig
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/01/31 17:53:59 todd Exp $
d3 1
a3 1
COMMENT=		"a PDF viewer for GNOME"
@


1.1.1.1
log
@A PDF viewer for GNOME.  Based on xpdf.
@
text
@@
