head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.4
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.1.1.1.0.12
	OPENBSD_5_8_BASE:1.1.1.1
	OPENBSD_5_7:1.1.1.1.0.8
	OPENBSD_5_7_BASE:1.1.1.1
	OPENBSD_5_6:1.1.1.1.0.6
	OPENBSD_5_6_BASE:1.1.1.1
	OPENBSD_5_5:1.1.1.1.0.4
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.2
	OPENBSD_5_4_BASE:1.1.1.1
	sthen_20130420:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2015.10.18.13.37.56;	author sthen;	state Exp;
branches;
next	1.2;
commitid	Y34sTEhqYeyEakDg;

1.2
date	2015.10.09.12.48.22;	author jasper;	state Exp;
branches;
next	1.1;
commitid	AFkr9NkKTHp2WFB2;

1.1
date	2013.04.20.17.06.31;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.04.20.17.06.31;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to patchutils-0.3.4
tests now need bash (for some reason...not quite sure why)
@
text
@# $OpenBSD: Makefile,v 1.2 2015/10/09 12:48:22 jasper Exp $

COMMENT=	small tools to operate on patch files

DISTNAME=	patchutils-0.3.4
EXTRACT_SUFX=	.tar.xz

CATEGORIES=	textproc devel

HOMEPAGE=	http://cyberelk.net/tim/software/patchutils/

MAINTAINER=	Stuart Henderson <sthen@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c

MASTER_SITES=	http://cyberelk.net/tim/data/patchutils/stable/

BUILD_DEPENDS=	${RUN_DEPENDS} \
		textproc/xmlto
RUN_DEPENDS=	devel/gpatch
TEST_DEPENDS=	misc/rpm \
		shells/bash
TEST_FLAGS=	PATCH=${LOCALBASE}/bin/gpatch
USE_GROFF=	Yes

# only needed for tests
USE_GMAKE=	Yes

CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= --with-patch=${LOCALBASE}/bin/gpatch

pre-test:
	chmod +x ${WRKSRC}/scripts/*diff
	@@sed -i "s|/bin/echo -ne '\\\t'|printf '\\\t'|" \
	    ${WRKSRC}/tests/flip*/run-test
	@@sed -Ei 's,!/bin/(ba)?sh,!${LOCALBASE}/bin/bash,g' \
	    ${WRKSRC}/tests/*/run-test

.include <bsd.port.mk>
@


1.2
log
@sed -i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/04/20 17:06:31 sthen Exp $
d5 1
a5 1
DISTNAME=	patchutils-0.3.3
d21 2
a22 1
BUILD_DEPENDS=	${RUN_DEPENDS}
d24 2
a25 1
TEST_DEPENDS=	misc/rpm
a31 1
SEPARATE_BUILD=	Yes
d36 1
d39 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d35 1
a35 1
	perl -pi -e "s|/bin/echo -ne '\\\t'|printf '\\\t'|" \
@


1.1.1.1
log
@import textproc/patchutils, earlier version ok okan@@
thanks Jeremie Courreges-Anglas for tracking down failures
with regression tests.

Patchutils is a small collection of programs that operate on patch files.

Interdiff: generate incremental patch from two patches against common source
Combinediff: generate single patch from two incremental patches
Filterdiff: separate patches applying to files matching a wildcard
Fixcvsdiff: corrects output of 'cvs diff'
Rediff/Editdiff: corrects hand-edited patches
Lsdiff: identify files affected by a patch file
Splitdiff: separates patches from a patch file
Grepdiff: displays a list of the files modified by a patch where the
patch contains a given regular expression
Recountdiff: fixes up counts and offsets in a unified diff
Unwrapdiff: fixes word-wrapped unified diffs
@
text
@@
