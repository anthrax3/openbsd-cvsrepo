head	1.28;
access;
symbols
	OPENBSD_6_1:1.26.0.8
	OPENBSD_6_1_BASE:1.26
	OPENBSD_6_0:1.26.0.6
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.26.0.2
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.26.0.4
	OPENBSD_5_8_BASE:1.26
	OPENBSD_5_7:1.25.0.2
	OPENBSD_5_7_BASE:1.25
	OPENBSD_5_6:1.24.0.6
	OPENBSD_5_6_BASE:1.24
	OPENBSD_5_5:1.24.0.4
	OPENBSD_5_5_BASE:1.24
	OPENBSD_5_4:1.24.0.2
	OPENBSD_5_4_BASE:1.24
	OPENBSD_5_3:1.22.0.10
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.22.0.8
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.22
	OPENBSD_5_1:1.22.0.6
	OPENBSD_5_0:1.22.0.4
	OPENBSD_5_0_BASE:1.22
	OPENBSD_4_9:1.22.0.2
	OPENBSD_4_9_BASE:1.22
	OPENBSD_4_8:1.20.0.4
	OPENBSD_4_8_BASE:1.20
	OPENBSD_4_7:1.20.0.2
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.19.0.8
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.19.0.6
	OPENBSD_4_5_BASE:1.19
	OPENBSD_4_4:1.19.0.4
	OPENBSD_4_4_BASE:1.19
	OPENBSD_4_3:1.19.0.2
	OPENBSD_4_3_BASE:1.19
	OPENBSD_4_2:1.18.0.8
	OPENBSD_4_2_BASE:1.18
	OPENBSD_4_1:1.18.0.6
	OPENBSD_4_1_BASE:1.18
	OPENBSD_4_0:1.18.0.4
	OPENBSD_4_0_BASE:1.18
	OPENBSD_3_9:1.18.0.2
	OPENBSD_3_9_BASE:1.18
	OPENBSD_3_8:1.16.0.4
	OPENBSD_3_8_BASE:1.16
	OPENBSD_3_7:1.16.0.2
	OPENBSD_3_7_BASE:1.16
	OPENBSD_3_6:1.15.0.2
	OPENBSD_3_6_BASE:1.15
	OPENBSD_3_5:1.13.0.2
	OPENBSD_3_5_BASE:1.13
	OPENBSD_3_4:1.12.0.4
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.12.0.2
	OPENBSD_3_3_BASE:1.12
	OPENBSD_3_2:1.11.0.2
	OPENBSD_3_2_BASE:1.11
	OPENBSD_3_1:1.9.0.2
	OPENBSD_3_1_BASE:1.9
	OPENBSD_3_0:1.7.0.2
	OPENBSD_3_0_BASE:1.7
	OPENBSD_2_9_TRACKING_SWITCH:1.7
	OPENBSD_2_9:1.5.0.2
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4;
locks; strict;
comment	@# @;


1.28
date	2017.04.15.20.33.04;	author naddy;	state Exp;
branches;
next	1.27;
commitid	KnqB7pvQZywrnt7K;

1.27
date	2017.04.10.11.46.34;	author sthen;	state Exp;
branches;
next	1.26;
commitid	HY6VNZxjJWzKQFDV;

1.26
date	2015.03.16.18.07.57;	author naddy;	state Exp;
branches;
next	1.25;
commitid	IJdm3Zowcdkcxp5X;

1.25
date	2014.10.11.13.27.51;	author avsm;	state Exp;
branches;
next	1.24;
commitid	iWNFn15EjncfsILK;

1.24
date	2013.03.21.08.48.54;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2013.03.11.11.42.42;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.11.20.19.56.49;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.10.22.56.05;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2009.11.24.20.23.15;	author landry;	state Exp;
branches;
next	1.19;

1.19
date	2007.09.15.20.59.38;	author merdely;	state Exp;
branches;
next	1.18;

1.18
date	2006.01.14.15.56.32;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2005.09.06.22.47.35;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2004.12.07.00.23.22;	author alek;	state Exp;
branches;
next	1.15;

1.15
date	2004.04.20.22.36.17;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2004.04.18.09.21.04;	author sturm;	state Exp;
branches;
next	1.13;

1.13
date	2003.11.15.15.12.53;	author sturm;	state Exp;
branches;
next	1.12;

1.12
date	2002.10.16.01.33.58;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2002.07.28.05.22.23;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2002.05.14.12.07.10;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2002.03.21.21.25.53;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2001.11.11.13.57.32;	author heko;	state Exp;
branches;
next	1.7;

1.7
date	2001.06.09.16.35.23;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2001.05.06.04.11.48;	author lebel;	state Exp;
branches;
next	1.5;

1.5
date	2001.01.15.17.49.19;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2000.10.05.11.51.55;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2000.09.26.02.26.47;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.09.16.20.25.02;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.04.06.20.55;	author matthieu;	state Exp;
branches;
next	;


desc
@@


1.28
log
@iostream.h -> iostream; fixes build with clang
@
text
@# $OpenBSD: Makefile,v 1.27 2017/04/10 11:46:34 sthen Exp $

COMMENT=	object-oriented DSSSL engine

DISTNAME=	openjade-1.3.3-pre1
PKGNAME=	openjade-1.3.3pre1
REVISION=	3
CATEGORIES=	textproc
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=openjade/}

SHARED_LIBS=	ospgrove 0.0 \
		ogrove 0.0 \
		ostyle 0.0 # 0.1
HOMEPAGE=	http://openjade.sourceforge.net/

# BSD
PERMIT_PACKAGE_CDROM=	Yes

MODULES=		devel/gettext
LIB_DEPENDS=		textproc/opensp
WANTLIB=		c m pthread ${LIBCXX} osp

CONFIGURE_STYLE=	gnu
USE_GMAKE=		Yes

DOCDIR=		${PREFIX}/share/doc/openjade
SGMLDIR=	${PREFIX}/share/sgml/openjade
SGMLFILES= 	fot.dtd catalog dsssl.dtd style-sheet.dtd builtins.dsl \
		demo.sgm demo.dsl

post-install:
	${INSTALL_DATA_DIR} ${DOCDIR}/sp
	${INSTALL_DATA_DIR} ${DOCDIR}/images
	${INSTALL_DATA} ${WRKSRC}/jadedoc/copying.txt ${DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/doc/*.htm ${DOCDIR}/sp
	${INSTALL_DATA} ${WRKSRC}/jadedoc/*.htm ${DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/jadedoc/images/*.gif ${DOCDIR}/images
	${INSTALL_DATA_DIR} ${SGMLDIR}
.for i in ${SGMLFILES}
	${INSTALL_DATA} ${WRKSRC}/dsssl/$i ${SGMLDIR}
.endfor
	rm ${PREFIX}/share/builtins.dsl

.include <bsd.port.mk>
@


1.27
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/03/16 18:07:57 naddy Exp $
d7 1
a7 1
REVISION=	2
@


1.26
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/10/11 13:27:51 avsm Exp $
d21 1
a21 1
WANTLIB=		c m pthread stdc++ osp
@


1.25
log
@drop MAINTAINER on openjade; bump REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/21 08:48:54 ajacoutot Exp $
d7 1
a7 1
REVISION=	1
@


1.24
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/11 11:42:42 espie Exp $
d7 1
a7 1
REVISION=	0
a14 2

MAINTAINER=	Anil Madhavapeddy <avsm@@openbsd.org>
@


1.23
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/11/20 19:56:49 espie Exp $
a25 1
USE_LIBTOOL=		Yes
@


1.22
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/10 22:56:05 jasper Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.21
log
@- last bits of WANTLIB/LIB_DEPENDS/REVISION cleaning for textproc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2009/11/24 20:23:15 landry Exp $
d25 1
a25 1
LIB_DEPENDS=		::textproc/opensp
@


1.20
log
@Update to OpenJade 1.3.3pre1, last known release packaged by almost
every os/distrib in the world. Remove legacy patches, and depend on
the newly imported textproc/opensp.
ok ajacoutot@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2007/09/15 20:59:38 merdely Exp $
d7 1
d25 2
a26 2
LIB_DEPENDS=		osp::textproc/opensp
WANTLIB=		c m pthread stdc++
@


1.19
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2006/01/14 15:56:32 espie Exp $
d3 1
a3 1
COMMENT=	object-oriented SGML/XML parser toolkit and DSSSL engine
d5 2
a6 2
DISTNAME=	openjade-1.3
PKGNAME=	${DISTNAME}p1
d10 3
a21 1
WANTLIB=		c m stdc++ 
d23 7
a29 5
MAKE_FLAGS=	RANLIB="${RANLIB}" CFLAGS="${CFLAGS}" CC="${CC}" CXX="${CXX} -fno-implicit-templates ${CXXFLAGS}" \
		XDEFINES='-DJADE_MIF -DJADE_HTML -DSGML_CATALOG_FILES_DEFAULT=\"${PREFIX}/share/sgml/openjade/catalog\"'
FAKE_FLAGS=	prefix="${WRKINST}${PREFIX}" INSTALL="${INSTALL_PROGRAM}"

USE_GMAKE=	Yes
a34 11
	
VMEM_WARNING=	Yes
NO_REGRESS=	Yes

.include <bsd.own.mk>

USE_GCC3?=	No

.if ${USE_GCC3:L} == "no"
PATCH_LIST=	patch-* gcc-*
.endif
d47 1
@


1.18
log
@size_t != unsigned int now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2005/09/06 22:47:35 espie Exp $
d3 1
a3 1
COMMENT=	"object-oriented SGML/XML parser toolkit and DSSSL engine"
@


1.17
log
@gcc 3 knows about proper typename. Same patch as sp, kills most
of the warnings.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/12/07 00:23:22 alek Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.16
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/04/20 22:36:17 brad Exp $
d6 1
@


1.15
log
@only use this workaround with gcc2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2003/11/15 15:12:53 sturm Exp $
d18 1
@


1.14
log
@find sgml catalog file

anil is busy and says "if you think it makes sense, go ahead"
@
text
@d13 1
a13 1
# BSD-like
d32 8
@


1.13
log
@license checks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2002/10/16 01:33:58 naddy Exp $
d20 1
a20 1
		XDEFINES='-DJADE_MIF -DJADE_HTML -DSGML_CATALOG_FILES_DEFAULT=\"${PREFIX}/share/sgml/catalog\"'
@


1.12
log
@- C++ fixes for gcc3
- no regression tests available
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2002/07/28 05:22:23 brad Exp $
d13 1
@


1.11
log
@respect CXX.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/05/14 12:07:10 naddy Exp $
d30 1
@


1.10
log
@bye MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/03/21 21:25:53 espie Exp $
a6 1
NEED_VERSION=	1.515
d18 1
a18 1
MAKE_FLAGS=	RANLIB="${RANLIB}" CFLAGS="${CFLAGS}" CC="${CC}" \
@


1.9
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2001/11/11 13:57:32 heko Exp $
d8 1
a8 2
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE}
MASTER_SITE_SUBDIR= openjade
@


1.8
log
@o Instead of copying the "virtual memory exhausted" warning for each
individual port, introduce a new variable for bsd.port.mk, VMEM_WARNING.
By setting this variable to `Yes', the user is given a warning about the
virtual memory requirements just before the pre-build stage.
o Also give some examples for different shells for what to do about
it, and mention login.conf(5). bash, for example, has a confusing
-v flag to ulimit.
o Document this in bsd.port.mk.5
espie@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2001/05/06 04:11:48 lebel Exp $
d7 1
a7 1
NEED_VERSION=	1.413
@


1.7
log
@tab -> space
@
text
@d31 1
a31 8
pre-build:      
	@@echo ""
	@@echo "*** WARNING: you may see an error such as"
	@@echo "***       virtual memory exhausted"
	@@echo "*** when building this package.  If you do you must increase"
	@@echo "*** your limits.  See the man page for your shell and look"
	@@echo "*** for the 'limit' or 'ulimit' command."
	@@echo ""
@


1.6
log
@textproc: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/01/15 17:49:19 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.402
d49 1
a49 1
	${INSTALL_DATA}	${WRKSRC}/dsssl/$i ${SGMLDIR}
@


1.5
log
@style
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.4 2000/10/05 11:51:55 avsm Exp $
d7 1
a7 1
NEED_VERSION=	1.338
@


1.4
log
@- add default catalog file to MAKE_FLAGS to make docbook ports easier
  (this is silently ignored if the catalog file doesnt exist)
- install DTD files in prefix/share/sgml/openjade which weren't done before
- MAKE_FLAGS now respect CFLAGS and CC
- take MAINTAINER, bump NEED_VERSION

ok matthieu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/09/26 02:26:47 brad Exp $
d10 1
d18 2
a19 2
MAKE_FLAGS=	RANLIB="${RANLIB}" XDEFINES='-DJADE_MIF -DJADE_HTML -DSGML_CATALOG_FILES_DEFAULT=\"${PREFIX}/share/sgml/catalog\"' CFLAGS="${CFLAGS}" CC="${CC}"

d26 2
a27 1
SGMLFILES= 	fot.dtd catalog dsssl.dtd style-sheet.dtd builtins.dsl demo.sgm demo.dsl
@


1.3
log
@use "install" instead of cp when installing the binaries
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/09/16 20:25:02 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.320
d10 1
a10 2

MAINTAINER=	matthieu@@openbsd.org
d17 2
a18 1
MAKE_FLAGS=	RANLIB="${RANLIB}"
d23 4
a26 2
DOCDIR= ${PREFIX}/share/doc/openjade

d43 4
@


1.2
log
@- add NEED_VERSION
- use MASTER_SITE_SOURCEFORGE
- remove license type
- add HOMEPAGE to DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2000/09/04 06:20:55 matthieu Exp $
d19 1
a19 1
FAKE_FLAGS=	prefix="${WRKINST}${PREFIX}"
@


1.1
log
@add openjade-1.3 port, the successor of jade, an
object-oriented SGML/XML parser toolkit and DSSSL engine
@
text
@d1 1
a1 1
# $OpenBSD$
d5 3
a12 1
LICENSE_TYPE=		BSD
a17 3
MASTER_SITES=	http://download.sourceforge.net/openjade/

USE_GMAKE=	Yes
d21 3
a32 2

DOCDIR= ${PREFIX}/share/doc/openjade
@

