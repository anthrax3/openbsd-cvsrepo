head	1.3;
access;
symbols
	OPENBSD_5_4:1.2.0.8
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.6
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.4
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.1.1.0.2
	OPENBSD_5_0_BASE:1.1.1.1
	phessler_20110417:1.1.1.1
	phessler:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2013.11.09.15.02.14;	author sthen;	state dead;
branches;
next	1.2;

1.2
date	2011.09.05.12.38.36;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.17.18.39.21;	author phessler;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.04.17.18.39.21;	author phessler;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update calibre to 1.10.0, unbreaking the port. This removes various
diffs to fix with newer poppler/png.
@
text
@$OpenBSD: patch-src_calibre_devices_scanner_py,v 1.2 2011/09/05 12:38:36 jasper Exp $
--- src/calibre/devices/scanner.py.orig	Fri Jun 24 20:01:27 2011
+++ src/calibre/devices/scanner.py	Tue Jun 28 23:45:46 2011
@@@@ -10,6 +10,8 @@@@ from threading import RLock
 
 from calibre.constants import iswindows, isosx, plugins, islinux
 
+isopenbsd = 'openbsd' in sys.platform.lower()
+
 osx_scanner = win_scanner = linux_scanner = None
 
 if iswindows:
@@@@ -160,12 +162,18 @@@@ linux_scanner = None
 if islinux:
     linux_scanner = LinuxScanner()
 
+openbsd_scanner = None
+
+''' OpenBSD support currently not written yet '''
+if isopenbsd:
+    openbsd_scanner = None
+
 class DeviceScanner(object):
 
     def __init__(self, *args):
         if isosx and osx_scanner is None:
             raise RuntimeError('The Python extension usbobserver must be available on OS X.')
-        self.scanner = win_scanner if iswindows else osx_scanner if isosx else linux_scanner
+        self.scanner = win_scanner if iswindows else osx_scanner if isosx else openbsd_scanner if isopenbsd else linux_scanner
         self.devices = []
 
     def scan(self):
@


1.2
log
@major update to 0.8.17

from viq
@
text
@d1 1
a1 1
$OpenBSD: patch-src_calibre_devices_scanner_py,v 1.1.1.1 2011/04/17 18:39:21 phessler Exp $
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- src/calibre/devices/scanner.py.orig	Fri Jan 21 23:22:10 2011
+++ src/calibre/devices/scanner.py	Thu Jan 27 10:50:42 2011
d6 1
a6 1
 from calibre import iswindows, isosx, plugins, islinux
d13 1
a13 1
@@@@ -157,12 +159,18 @@@@ linux_scanner = None
@


1.1.1.1
log
@calibre is a free and open source e-book library management application
developed by users of e-books for users of e-books. It has a cornucopia
of features divided into the following main categories:
 * Library Management
 * E-book conversion
 * Syncing to e-book reader devices
 * Downloading news from the web and converting it into e-book form
 * Comprehensive e-book viewer
 * Content server for online access to your book collection

OK laurent@@, jasper@@
@
text
@@
