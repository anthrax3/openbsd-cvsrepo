head	1.2;
access;
symbols
	OPENBSD_5_8:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2015.12.15.22.03.59;	author sthen;	state dead;
branches;
next	1.1;
commitid	YVifzObgrxC3tP3Z;

1.1
date	2015.08.20.09.44.13;	author jasper;	state Exp;
branches
	1.1.2.1;
next	;
commitid	ksMDXweCLp7T5p54;

1.1.2.1
date	2015.08.24.09.38.54;	author sthen;	state Exp;
branches;
next	;
commitid	zQaEdWemMaN1LByC;


desc
@@


1.2
log
@major update to calibre-2.46.0 (now that we have poppler-qt5 / py-qt5)

- working for my use case and some other things I've thought of checking,
but please test and let me know if you run into problems.
@
text
@$OpenBSD: patch-src_calibre_gui2_widgets_py,v 1.1 2015/08/20 09:44:13 jasper Exp $

unbreak convert dialog with newer py-qt4
https://github.com/kovidgoyal/calibre/commit/72d47ba9377d70e786bf3d93b323544188c894

--- src/calibre/gui2/widgets.py.orig	Thu Aug 20 10:08:48 2015
+++ src/calibre/gui2/widgets.py	Thu Aug 20 10:08:57 2015
@@@@ -289,7 +289,7 @@@@ class ImageView(QWidget, ImageDropMixin):  # {{{
     def __init__(self, parent=None, show_size_pref_name=None, default_show_size=False):
         QWidget.__init__(self, parent)
         self.show_size_pref_name = ('show_size_on_cover_' + show_size_pref_name) if show_size_pref_name else None
-        self._pixmap = QPixmap(self)
+        self._pixmap = QPixmap()
         self.setMinimumSize(QSize(150, 200))
         ImageDropMixin.__init__(self)
         self.draw_border = True
@


1.1
log
@unbreak convert dialog, from upstream

spotted by deraadt@@, ok sthen@@ (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@MFC fix to cope with the py-qt4 update that broke calibre
@
text
@d1 1
a1 1
$OpenBSD: patch-src_calibre_gui2_widgets_py,v 1.1 2015/08/20 09:44:13 jasper Exp $
@

