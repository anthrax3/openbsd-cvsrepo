head	1.32;
access;
symbols
	OPENBSD_6_2:1.32.0.8
	OPENBSD_6_2_BASE:1.32
	OPENBSD_6_1:1.32.0.6
	OPENBSD_6_1_BASE:1.32
	OPENBSD_6_0:1.32.0.4
	OPENBSD_6_0_BASE:1.32
	OPENBSD_5_9:1.32.0.2
	OPENBSD_5_9_BASE:1.32
	OPENBSD_5_8:1.31.0.12
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.31.0.8
	OPENBSD_5_7_BASE:1.31
	OPENBSD_5_6:1.31.0.6
	OPENBSD_5_6_BASE:1.31
	OPENBSD_5_5:1.31.0.4
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.31.0.2
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.30.0.2
	OPENBSD_5_3_BASE:1.30
	OPENBSD_5_2:1.29.0.2
	OPENBSD_5_2_BASE:1.29
	OPENBSD_5_1_BASE:1.28
	OPENBSD_5_1:1.28.0.2
	OPENBSD_5_0:1.27.0.2
	OPENBSD_5_0_BASE:1.27
	OPENBSD_4_9:1.26.0.2
	OPENBSD_4_9_BASE:1.26
	OPENBSD_4_8:1.23.0.2
	OPENBSD_4_8_BASE:1.23
	OPENBSD_4_7:1.22.0.10
	OPENBSD_4_7_BASE:1.22
	OPENBSD_4_6:1.22.0.8
	OPENBSD_4_6_BASE:1.22
	OPENBSD_4_5:1.22.0.6
	OPENBSD_4_5_BASE:1.22
	OPENBSD_4_4:1.22.0.4
	OPENBSD_4_4_BASE:1.22
	OPENBSD_4_3:1.22.0.2
	OPENBSD_4_3_BASE:1.22
	OPENBSD_4_2:1.21.0.6
	OPENBSD_4_2_BASE:1.21
	OPENBSD_4_1:1.21.0.4
	OPENBSD_4_1_BASE:1.21
	OPENBSD_4_0:1.21.0.2
	OPENBSD_4_0_BASE:1.21
	OPENBSD_3_9:1.20.0.2
	OPENBSD_3_9_BASE:1.20
	OPENBSD_3_8:1.18.0.10
	OPENBSD_3_8_BASE:1.18
	OPENBSD_3_7:1.18.0.8
	OPENBSD_3_7_BASE:1.18
	OPENBSD_3_6:1.18.0.6
	OPENBSD_3_6_BASE:1.18
	OPENBSD_3_5:1.18.0.4
	OPENBSD_3_5_BASE:1.18
	OPENBSD_3_4:1.18.0.2
	OPENBSD_3_4_BASE:1.18
	OPENBSD_3_3:1.16.0.2
	OPENBSD_3_3_BASE:1.16
	OPENBSD_3_2:1.15.0.2
	OPENBSD_3_2_BASE:1.15
	OPENBSD_3_1:1.14.0.2
	OPENBSD_3_1_BASE:1.14
	OPENBSD_3_0:1.13.0.2
	OPENBSD_3_0_BASE:1.13
	OPENBSD_2_9_TRACKING_SWITCH:1.12
	OPENBSD_2_9:1.12.0.2
	OPENBSD_2_9_BASE:1.12
	OPENBSD_2_8:1.10.0.2
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.1.1.1.0.6
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.4
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	docbook:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2015.12.03.21.24.32;	author sthen;	state Exp;
branches;
next	1.31;
commitid	qh8BBe4z9PLvLPKf;

1.31
date	2013.03.11.11.42.41;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2012.09.27.17.27.32;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2012.03.29.13.39.00;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2011.09.16.11.41.40;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2011.05.01.12.32.19;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2010.12.19.22.11.56;	author kili;	state Exp;
branches;
next	1.25;

1.25
date	2010.11.20.19.56.48;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2010.08.20.17.35.48;	author sthen;	state Exp;
branches;
next	1.23;

1.23
date	2010.03.20.17.06.45;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2007.09.15.20.59.37;	author merdely;	state Exp;
branches;
next	1.21;

1.21
date	2006.08.01.06.34.15;	author steven;	state Exp;
branches;
next	1.20;

1.20
date	2005.09.22.12.28.54;	author avsm;	state Exp;
branches;
next	1.19;

1.19
date	2005.09.04.23.38.17;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2003.06.17.16.20.04;	author marcm;	state Exp;
branches;
next	1.17;

1.17
date	2003.05.28.00.10.56;	author avsm;	state Exp;
branches;
next	1.16;

1.16
date	2002.10.28.22.43.46;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2002.06.09.05.37.15;	author wilfried;	state Exp;
branches;
next	1.14;

1.14
date	2001.11.13.22.13.24;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2001.08.22.06.19.27;	author avsm;	state Exp;
branches;
next	1.12;

1.12
date	2001.03.31.10.20.44;	author avsm;	state Exp;
branches;
next	1.11;

1.11
date	2000.11.10.13.47.34;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.10.24.17.04.57;	author avsm;	state Exp;
branches;
next	1.9;

1.9
date	2000.10.24.13.32.20;	author avsm;	state Exp;
branches;
next	1.8;

1.8
date	2000.10.08.23.51.45;	author avsm;	state Exp;
branches;
next	1.7;

1.7
date	2000.06.16.23.06.14;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.24.23.28.35;	author espie;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2000.03.24.16.00.24;	author kevlo;	state Exp;
branches;
next	1.4;

1.4
date	2000.03.23.06.10.42;	author turan;	state Exp;
branches;
next	1.3;

1.3
date	2000.03.05.18.30.44;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2000.02.10.23.14.36;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	98.05.17.04.55.04;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.17.04.55.04;	author angelos;	state Exp;
branches;
next	;

1.6.2.1
date	2000.09.15.05.19.46;	author marc;	state Exp;
branches;
next	;


desc
@@


1.32
log
@switch my distfiles mirror to https
@
text
@# $OpenBSD: Makefile,v 1.31 2013/03/11 11:42:41 espie Exp $

PKG_ARCH=	*

COMMENT=	technical documentation XML/SGML definitions

DISTNAME=	docbook-4.5
REVISION=	1
DIST_SUBDIR=	docbook
CATEGORIES=	textproc

HOMEPAGE=	http://www.oasis-open.org/docbook/

MASTER_SITES=	${HOMEPAGE} http://www.docbook.org/
MASTER_SITES0=	https://spacehopper.org/mirrors/

DISTFILES=	sgml/2.4.1/docbk241.zip \
		sgml/3.0/docbk30.zip \
		sgml/3.1/docbk31.zip \
		sgml/4.0/docbk40.zip \
		sgml/4.1/docbk41.zip \
		xml/4.1/docbkx41.zip \
		xml/4.1.2/docbkx412.zip \
		xml/4.2/docbook-xml-4.2.zip \
		xml/4.3/docbook-xml-4.3.zip \
		xml/4.4/docbook-xml-4.4.zip \
		xml/4.5/docbook-xml-4.5.zip \
		examples.zip:0

# permission granted in dtd copyright notice
PERMIT_PACKAGE_CDROM=	Yes

NO_BUILD=       Yes
NO_TEST=	Yes
SEPARATE_BUILD=	Yes

SGML_VERSIONS=		2.4.1 3.0 3.1 4.0 4.1
XML_VERSIONS_OLD=	4.1 4.1.2
XML_VERSIONS_NEW=	4.2 4.3 4.4 4.5

SGML_INSTDIR=	${PREFIX}/share/sgml/docbook
XML_INSTDIR=	${PREFIX}/share/xml/docbook

BUILD_DEPENDS=	textproc/libxml>=2.6.16p6
RUN_DEPENDS=	textproc/iso8879 \
		textproc/docbook-dsssl \
		textproc/libxml>=2.6.16p6

.for i in ${SGML_VERSIONS}
EXTRACT_CASES+=	*docbk${i:S/.//g}.zip) unzip -qa ${FULLDISTDIR}/$$archive -d ${WRKDIR}/$i;;
.endfor
.for i in ${XML_VERSIONS_OLD}
EXTRACT_CASES+=	*docbkx${i:S/.//g}.zip) unzip -qa ${FULLDISTDIR}/$$archive -d ${WRKDIR}/x$i;;
.endfor
.for i in ${XML_VERSIONS_NEW}
EXTRACT_CASES+=	*docbook-xml-$i.zip) unzip -qa ${FULLDISTDIR}/$$archive -d ${WRKDIR}/x$i;;
.endfor

do-install:
	${INSTALL_DATA_DIR} ${SGML_INSTDIR} ${XML_INSTDIR}
	${INSTALL_DATA} ${FILESDIR}/sgml_catalog ${PREFIX}/share/sgml/catalog
	${INSTALL_DATA} ${FILESDIR}/sgml_db_catalog ${SGML_INSTDIR}/catalog
	${INSTALL_DATA} ${FILESDIR}/xml_catalog ${PREFIX}/share/xml/catalog
	${INSTALL_DATA} ${FILESDIR}/xml_db_catalog ${XML_INSTDIR}/catalog
.for i in ${SGML_VERSIONS}
	${INSTALL_DATA_DIR} ${SGML_INSTDIR}/$i
	${INSTALL_DATA} ${WRKDIR}/$i/* ${SGML_INSTDIR}/$i
	${INSTALL_DATA} ${FILESDIR}/sgml_db${i:S/.//g}_catalog ${SGML_INSTDIR}/$i/catalog
.endfor
.for i in ${XML_VERSIONS_OLD} ${XML_VERSIONS_NEW}
	${INSTALL_DATA_DIR} ${XML_INSTDIR}/$i ${XML_INSTDIR}/$i/ent
	${INSTALL_DATA} ${WRKDIR}/x$i/*.* ${XML_INSTDIR}/$i
	${INSTALL_DATA} ${WRKDIR}/x$i/ent/* ${XML_INSTDIR}/$i/ent
	${INSTALL_DATA} ${FILESDIR}/xml_db${i:S/.//g}_catalog ${XML_INSTDIR}/$i/catalog
.endfor
	${INSTALL_DATA_DIR} ${PREFIX}/share/libxml2
	${INSTALL_DATA} ${FILESDIR}/docbook.spec ${PREFIX}/share/libxml2
	sh ${FILESDIR}/makemastercatalog

.include <bsd.port.mk>
@


1.31
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2012/09/27 17:27:32 ajacoutot Exp $
d15 1
a15 1
MASTER_SITES0=	http://spacehopper.org/mirrors/
@


1.30
log
@Create a link from ${SYSCONFDIR}/xml/catalog to /var/db/xmlcatalog
so that stuffs that looks for /etc/xml/catalog can find it right-away.

idea from and ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/03/29 13:39:00 sthen Exp $
a31 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d34 1
a34 1
NO_REGRESS=	Yes
@


1.29
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/09/16 11:41:40 espie Exp $
d8 1
a8 1
REVISION=	0
@


1.28
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/05/01 12:32:19 sthen Exp $
d38 1
a38 1
SEPARATE_BUILD=	concurrent
@


1.27
log
@install docbook.spec outside the .for loop, it's pointless to install
the same file 6 times.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/12/19 22:11:56 kili Exp $
d8 1
@


1.26
log
@Update to docbook-4.5 (adding docbook-xml-4.5).

ok sthen@@ (whe sent the same diff some time ago), jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/11/20 19:56:48 espie Exp $
d77 1
a79 1
.endfor
@


1.25
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/08/20 17:35:48 sthen Exp $
d7 1
a7 2
DISTNAME=	docbook-4.4
REVISION =	0
d26 1
d41 1
a41 1
XML_VERSIONS_NEW=	4.2 4.3 4.4
@


1.24
log
@mirror examples.zip
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/03/20 17:06:45 ajacoutot Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
d46 4
a49 4
BUILD_DEPENDS=	:libxml->=2.6.16p6:textproc/libxml
RUN_DEPENDS=	::textproc/iso8879 \
		:docbook-dsssl-*:textproc/docbook-dsssl \
		:libxml->=2.6.16p6:textproc/libxml
@


1.23
log
@@@unexec -> @@unexec-delete

ok sthen@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2007/09/15 20:59:37 merdely Exp $
d15 1
d27 1
a27 1
		examples.zip
@


1.22
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2006/08/01 06:34:15 steven Exp $
d8 1
@


1.21
log
@update to docbook 4.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2005/09/22 12:28:54 avsm Exp $
d5 1
a5 1
COMMENT=	"technical documentation XML/SGML definitions"
@


1.20
log
@drop MAINTAINER
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.19 2005/09/04 23:38:17 espie Exp $
d7 1
a7 2
DISTNAME=	docbook-4.2
PKGNAME=	${DISTNAME}p2
a10 2
ROOT_SITE=	http://www.oasis-open.org/docbook/
MIRROR_SITE=	http://www.docbook.org/
d13 1
a13 9
MASTER_SITES0=	${ROOT_SITE}/sgml/2.4.1/ 
MASTER_SITES1=	${ROOT_SITE}/sgml/3.0/
MASTER_SITES2=	${ROOT_SITE}/sgml/3.1/ ${MIRROR_SITE}/sgml/3.1/
MASTER_SITES3=	${ROOT_SITE}/sgml/4.0/ ${MIRROR_SITE}/sgml/4.0/
MASTER_SITES4=	${ROOT_SITE}/sgml/4.1/ ${MIRROR_SITE}/sgml/4.1/
MASTER_SITES5=	${ROOT_SITE}/xml/4.1/ ${MIRROR_SITE}/xml/4.1/
MASTER_SITES6=	${ROOT_SITE}/xml/4.1.2/ ${MIRROR_SITE}/xml/4.1.2/
MASTER_SITES7=	${ROOT_SITE}/xml/4.2/ ${MIRROR_SITE}/xml/4.2/
MASTER_SITES8=	http://www.docbook.org/tdg/
d15 11
a25 1
DISTFILES=	docbk241.zip:0 docbk30.zip:1 docbk31.zip:2 docbk40.zip:3 docbk41.zip:4 docbkx41.zip:5 docbkx412.zip:6 docbook-xml-4.2.zip:7 examples.zip:8
d37 3
a39 2
SGML_VERSIONS=	2.4.1 3.0 3.1 4.0 4.1
XML_VERSIONS=	4.1 4.1.2 4.2
d49 1
a49 1
.for i in ${SGML_VERSIONS} ${XML_VERSIONS:C/(.+)/x\1/g}
d52 6
a57 3

# new naming system for recent docbook versions
EXTRACT_CASES+=	*docbook-xml-4.2.zip) unzip -qa ${FULLDISTDIR}/$$archive -d ${WRKDIR}/x4.2;;
d70 1
a70 1
.for i in ${XML_VERSIONS}
@


1.19
log
@replace the @@exec stuff with a registration mechanism that handles
updates correctly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2003/06/17 16:20:04 marcm Exp $
a24 2

MAINTAINER=	Anil Madhavapeddy <avsm@@openbsd.org>
@


1.18
log
@Create a "master" xml catalog from all installed docbook dtds, then
register it at package install time in the system xmlcatalog.

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/05/28 00:10:56 avsm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d44 1
a44 1
BUILD_DEPENDS=	:libxml->=2.5.7:textproc/libxml
d47 1
a47 1
		:libxml->=2.5.7:textproc/libxml
d72 2
@


1.17
log
@update to docbook-4.2; the new one is the XML version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/10/28 22:43:46 naddy Exp $
d6 1
d44 1
d46 2
a47 1
		:docbook-dsssl-*:textproc/docbook-dsssl
d73 1
@


1.16
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/06/09 05:37:15 wilfried Exp $
d5 1
a5 1
DISTNAME=	docbook-4.1.2
d20 2
a21 1
MASTER_SITES7=	http://www.docbook.org/tdg/
d23 1
a23 1
DISTFILES=	docbk241.zip:0 docbk30.zip:1 docbk31.zip:2 docbk40.zip:3 docbk41.zip:4 docbkx41.zip:5 docbkx412.zip:6 examples.zip:7
d38 1
a38 1
XML_VERSIONS=	4.1 4.1.2
d49 3
@


1.15
log
@add specifier to RUN_DEPENDS and BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/11/13 22:13:24 espie Exp $
a7 1
NEED_VERSION= 	1.496
d33 1
@


1.14
log
@Kill remaining RUN_DEPENDS/BUILD_DEPENDS first parters.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/08/22 06:19:27 avsm Exp $
d43 1
a43 1
		::textproc/docbook-dsssl
@


1.13
log
@correct run_depends entry, which was causing the package build to
break
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/03/31 10:20:44 avsm Exp $
d8 1
a8 1
NEED_VERSION= 	1.378
d42 2
a43 2
RUN_DEPENDS=	${PREFIX}/share/sgml/iso8879/catalog::textproc/iso8879 \
		${SGML_INSTDIR}/dsssl/modular/catalog::textproc/docbook-dsssl
@


1.12
log
@Pull in the docbook-xml port into this one.  Since the SGML DTDs are no
longer being developed, the release number of this port now reflects the
advancing XML DTD versions. The directory structure for the XML DTDs
is similar to that of the SGML ones (share/xml/docbook/4.1, for example)

- Update to docbook-4.1.2
- bump NEED_VERSION, integrate COMMENT
- switch to tracking XML schemas, but keep installing old SGML ones

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/11/10 13:47:34 espie Exp $
d43 1
a43 1
		${SGML_INSTDIR}/dsssl/modular/catalog::textproc/docbook-modular
@


1.11
log
@${HOMEPAGE} works much better if you actually define HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/10/24 17:04:57 avsm Exp $
d3 4
a6 1
DISTNAME=	docbook-4.1
d8 1
a8 1
NEED_VERSION= 	1.340
d10 2
a11 2
ROOT_SITE=	http://www.oasis-open.org/docbook/sgml
MIRROR_SITE=	http://www.docbook.org/sgml
d14 8
a21 5
MASTER_SITES0=	${ROOT_SITE}/2.4.1/ 
MASTER_SITES1=	${ROOT_SITE}/3.0/
MASTER_SITES2=	${ROOT_SITE}/3.1/ ${MIRROR_SITE}/3.1/
MASTER_SITES3=	${ROOT_SITE}/4.0/ ${MIRROR_SITE}/4.0/
MASTER_SITES4=	${ROOT_SITE}/4.1/ ${MIRROR_SITE}/4.1/
d23 1
a23 1
DISTFILES=	docbk241.zip:0 docbk30.zip:1 docbk31.zip:2 docbk40.zip:3 docbk41.zip:4
a34 1
DB_VERSIONS=	2.4.1 3.0 3.1 4.0 4.1
d36 6
a41 1
INSTDIR=	${PREFIX}/share/sgml/docbook
d43 1
a43 1
		${INSTDIR}/dsssl/modular/catalog::textproc/docbook-modular
d45 2
a46 2
.for i in ${DB_VERSIONS}
EXTRACT_CASES+=	*${i:S/.//g}.zip) unzip -qa ${DISTDIR}/$$archive -d ${WRKDIR}/$i;;
d50 15
a64 7
	${INSTALL_DATA_DIR} ${INSTDIR}
	${INSTALL_DATA} ${FILESDIR}/catalog ${PREFIX}/share/sgml
	${INSTALL_DATA} ${FILESDIR}/db_catalog ${INSTDIR}/catalog
.for i in ${DB_VERSIONS}
	${INSTALL_DATA_DIR} ${INSTDIR}/$i
	${INSTALL_DATA} ${WRKDIR}/$i/* ${INSTDIR}/$i
	${INSTALL_DATA} ${FILESDIR}/db${i:S/.//g}_catalog ${INSTDIR}/$i/catalog
@


1.10
log
@- work-around a pkg_add issue by adding manual entries to PLIST (it
  was conflicting with docbook-modular as an already-existing version
  of docbook)  thx to espie@@ for the way to solve this
- bump NEED_VERSION
- correct minor typo in DESCR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/10/24 13:32:20 avsm Exp $
d9 1
@


1.9
log
@Compensate for oasis-open.org always being down by adding the docbook.org
mirror site (only for 3.1 and 4.x unfortunately)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/10/08 23:51:45 avsm Exp $
d5 1
a5 1
NEED_VERSION= 	1.336
@


1.8
log
@- update to v4.1-sgml (still include previous versions)
- update license information
- add lots of catalog files for new versions
- use EXTRACT_CASES for getting files out
- replace manual chmod/zcat with macros
- add docbook-modular dependancy
- take MAINTAINER (ok angelos@@)
- PLIST now doesnt rm share/sgml/docbook so other
  ports (docbook-modular) can also use it

--
DocBook is a DTD maintained by the DocBook Technical Committee of
OASIS. It is particularly well suited to books and papers about
computer hardware and software (though it is by no means limited
to these applications).

Because it is a large and robust DTD, and because its main structures
correspond to the general notion of what constitutes a "book,"
DocBook has been adopted by a large and growing community of authors
writing books of all kinds.

DocBook is supported "out of the box" by a number of commercial
tools, and there is rapidly expanding support for it in a number
of free software environments.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/06/16 23:06:14 espie Exp $
d8 3
a10 1
MASTER_SITES0=	${ROOT_SITE}/2.4.1/
d12 4
a15 3
MASTER_SITES2=	${ROOT_SITE}/3.1/
MASTER_SITES3=	${ROOT_SITE}/4.0/
MASTER_SITES4=	${ROOT_SITE}/4.1/
@


1.7
log
@Remove NO_CONFIGURE/NO_PATCH/NO_EXTRACT/NO_MTREE

Kill corresponding FAKE=Yes and switch to CONFIGURE_STYLE while I'm at it.
@
text
@d1 1
a1 7
# OpenBSD makefile for:	docbook
# Version required:	3.0
# Date created:		May 17 1998
# Whom:			Angelos D. Keromytis
#
# $OpenBSD: Makefile,v 1.6 2000/03/24 23:28:35 espie Exp $
#
d3 1
a3 1
DISTNAME=	docbook-3.0
d5 1
a5 3
NEED_VERSION=	 1.230
MASTER_SITES=	ftp://ftp.ora.com/pub/davenport/
DISTFILES=	docbk241.tar.Z docbk30.tar.Z
d7 7
a13 1
MAINTAINER=	angelos@@openbsd.org
d15 4
a18 1
PERMIT_PACKAGE_CDROM=	"no explict license"
d20 1
a20 1
PERMIT_DISTFILES_CDROM=	"no explict license"
a22 3
RUN_DEPENDS=	${ISOCAT}::textproc/iso8879

EXTRACT_ONLY=	# empty
d24 2
a25 1
WRKDIST=	${WRKDIR}
d28 2
a29 1
ISOCAT=		${PREFIX}/share/sgml/iso8879/catalog
d31 3
a33 3
pre-install:
	@@[ -d ${INSTDIR}/2.4.1 ] || mkdir -p ${INSTDIR}/2.4.1
	@@[ -d ${INSTDIR}/3.0 ] || mkdir -p ${INSTDIR}/3.0
d36 8
a43 9
	@@zcat ${DISTDIR}/docbk241.tar.Z |(cd ${INSTDIR}/2.4.1; pax -r)
	@@${INSTALL_DATA} ${FILESDIR}/catalog241 ${INSTDIR}/2.4.1/catalog
	@@echo "CATALOG \"${ISOCAT}\"" >> ${INSTDIR}/2.4.1/catalog
	@@zcat ${DISTDIR}/docbk30.tar.Z |(cd ${INSTDIR}/3.0; pax -r)
	@@${INSTALL_DATA} ${FILESDIR}/catalog30 ${INSTDIR}/3.0/catalog
	@@echo "CATALOG \"${ISOCAT}\"" >> ${INSTDIR}/3.0/catalog
	@@chmod ${SHAREMODE} ${INSTDIR}/2.4.1/*
	@@chmod ${SHAREMODE} ${INSTDIR}/3.0/*
	@@/usr/sbin/chown -R ${SHAREOWN}.${SHAREGRP} ${INSTDIR}
@


1.6
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 2000/03/24 16:00:24 kevlo Exp $
a23 1
NO_MTREE=       Yes
a25 2
NO_PATCH=	Yes
NO_CONFIGURE=	Yes
a27 1
FAKE=		Yes
@


1.6.2.1
log
@bring textproc as of cut-over date into 2.7 branch
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.7 2000/06/16 23:06:14 espie Exp $
d24 1
d27 2
d31 1
@


1.5
log
@Fake
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 2000/03/23 06:10:42 turan Exp $
d11 1
a11 1
NEED_VERSION=	1.223
d22 1
a22 1
RUN_DEPENDS=	${ISOCAT}:textproc/iso8879
@


1.4
log
@license
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 2000/03/05 18:30:44 espie Exp $
d31 1
@


1.3
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 2000/02/10 23:14:36 espie Exp $
d16 5
@


1.2
log
@Kill NO_WRKSUBDIR.
Clean up a few deprecated variables on the fly.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/05/17 04:55:04 angelos Exp $
d11 1
a13 1
NEED_VERSION=	1.191
d17 1
a17 1
RUN_DEPENDS=	${ISOCAT}:${PORTSDIR}/textproc/iso8879
d19 1
a19 1
NO_MTREE=       yes
d21 3
a23 3
NO_BUILD=       yes
NO_PATCH=	yes
NO_CONFIGURE=	yes
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d13 1
d24 1
a24 1
NO_WRKSUBDIR=	yes
d30 2
a31 2
	@@[ -d ${INSTDIR}/2.4.1 ] || ${MKDIR} ${INSTDIR}/2.4.1
	@@[ -d ${INSTDIR}/3.0 ] || ${MKDIR} ${INSTDIR}/3.0
@


1.1.1.1
log
@docbook port
@
text
@@
