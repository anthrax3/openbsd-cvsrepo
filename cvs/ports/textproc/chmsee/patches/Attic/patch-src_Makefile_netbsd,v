head	1.2;
access;
symbols
	OPENBSD_5_7:1.1.0.6
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.04.02.11.57.20;	author jasper;	state dead;
branches;
next	1.1;
commitid	2LOw3GfDAIhpkNTS;

1.1
date	2013.11.25.21.48.53;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@remove chmsee, it's been officially dead upstream and has been marked broken
for about 17 months.

ok aja@@ landry@@
@
text
@$OpenBSD: patch-src_Makefile_netbsd,v 1.1 2013/11/25 21:48:53 landry Exp $
--- src/Makefile.netbsd.orig	Fri Jun 28 09:24:24 2013
+++ src/Makefile.netbsd	Fri Oct 18 23:42:10 2013
@@@@ -2,16 +2,16 @@@@
 
 LIBXUL_SDK = $(shell pkg-config --variable=sdkdir libxul)
 
-NSPR_INCLUDES = -I/usr/pkg/include/nspr
-NSPR_LIBS = -Wl,-R/usr/pkg/lib/nspr -pthread -L/usr/pkg/lib/nspr -lplds4 -lplc4 -lnspr4
+NSPR_INCLUDES = $(shell pkg-config --cflags nspr)
+NSPR_LIBS = $(shell pkg-config --libs nspr)
 
-CHMLIB_INCLUDES = -I/usr/pkg/include
-CHMLIB_LIBS = -Wl,-R/usr/pkg/lib -L/usr/pkg/lib -lchm
+CHMLIB_INCLUDES = -I${LOCALBASE}/include
+CHMLIB_LIBS = -Wl,-R${LOCALBASE}/lib -L${LOCALBASE}/lib -lchm
 
-PYTHON2 = /usr/pkg/bin/python2.7
+PYTHON2 = ${MODPY_BIN}
 XPCOMCHM = libxpcomchm.so
 
 DEFINES = -pthread
-LDFLAGS = -Wl,-soname,${TARGET} -Wl,-R${LIBXUL_SDK}/bin -L${LIBXUL_SDK}/bin -lpthread
+LDFLAGS = -Wl,-soname,${TARGET} -Wl,-R${LIBXUL_SDK}/lib -L${LIBXUL_SDK}/lib -lpthread
 
 include ./common.mk
@


1.1
log
@Tentatively update to 2.0.2, and mark it BROKEN.

- this doesnt work at runtime with newer xulrunner (starts, but fails to
  open a chm file), and is dead upstream
- debian & freebsd removed it, ubuntu ships a version with a 3 year old
  patch adding webkit support.

use xchm if you need a chm viewer for your warez ebooks.. or help fixing
it :)
@
text
@d1 1
a1 1
$OpenBSD$
@

