head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.32
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.28
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.30
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.26
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.24
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.22
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.20
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.18
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.16
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.14
	OPENBSD_5_0:1.4.0.12
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.10
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.8
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.6
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.4
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.2
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.3.0.4
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	bernd_2007-jan-16:1.1.1.1
	bernd:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2009.02.04.07.36.39;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.01.12.15.16.07;	author bernd;	state Exp;
branches;
next	1.2;

1.2
date	2007.04.30.17.30.39;	author bernd;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.16.10.38.40;	author bernd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.16.10.38.40;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- install cgi files

based on a patch from Jeremy Evans (maintainer)
@
text
@$OpenBSD: patch-Makefile_in,v 1.3 2008/01/12 15:16:07 bernd Exp $
--- Makefile.in.orig	Wed May 30 06:04:40 2007
+++ Makefile.in	Thu Jan  3 16:14:46 2008
@@@@ -22,15 +22,14 @@@@ PROTVER = @@PROTVER@@
 # Targets
 MYHEADS = estraier.h estmtdb.h estnode.h
 MYLIBOBJS = estraier.o estmtdb.o estnode.o md5.o
-MYLIBS = libestraier.a libestraier.so.$(LIBVER).$(LIBREV).0 \
-  libestraier.so.$(LIBVER) libestraier.so
+MYLIBS = libestraier.a libestraier.so.$(LIBVER).$(LIBREV)
 MYBINS = estcmd estmttest estmaster estbutler estcall estwaver estload
 MYCGIS = estseek.cgi estfraud.cgi estproxy.cgi estscout.cgi estsupt.cgi
 MYSCRIPTS = estconfig estwolefind
 MYCONFS = estseek.conf estseek.tmpl estseek.top estseek.help \
   estfraud.conf estproxy.conf estscout.conf estsupt.conf \
-  estresult.dtd estraier.idl locale filter increm
-MYDOCS = COPYING ChangeLog THANKS doc
+  estresult.dtd estraier.idl 
+MYDOCS = doc/*.html doc/*.css doc/*.png
 MYMAN1S = estconfig.1 estcmd.1 estmaster.1 estwaver.1 estcall.1
 MYMAN3S = estraier.3 estnode.3
 MYPCS = hyperestraier.pc
@@@@ -48,26 +47,25 @@@@ MYHEADDIR = @@includedir@@
 MYLIBDIR = @@libdir@@
 MYBINDIR = @@bindir@@
 MYLIBEXECDIR = @@libexecdir@@
-MYDATADIR = @@datadir@@/$(PACKAGE)
+MYDATADIR = @@datadir@@/doc/$(PACKAGE)
 MYMAN1DIR = @@mandir@@/man1
 MYMAN3DIR = @@mandir@@/man3
 MYPCDIR = @@libdir@@/pkgconfig
 DESTDIR =
 
 # Building binaries
-CC = @@CC@@
-CPPFLAGS = @@CPPFLAGS@@ -I. -I$(MYHEADDIR) \
-  -I$(HOME)/include -I/usr/local/include -I/usr/include/qdbm @@MYCPPOPTS@@ \
+#CC = @@CC@@
+CPPFLAGS = @@CPPFLAGS@@ -I. -I/usr/local/include -I/usr/include/qdbm @@MYCPPOPTS@@ \
   -D_XOPEN_SOURCE_EXTENDED=1 -D_GNU_SOURCE=1 -D__EXTENSIONS__=1 -D_HPUX_SOURCE=1 \
   -DPIC=1 -D_THREAD_SAFE=1 -D_REENTRANT=1 @@MYDEFS@@
-CFLAGS = @@MYCFLAGS@@
-LDFLAGS = @@LDFLAGS@@ -L. -L$(MYLIBDIR) -L$(HOME)/lib -L/usr/local/lib @@MYLDOPTS@@
+CFLAGS += @@MYCFLAGS@@
+LDFLAGS = -L. -L/usr/local/lib @@MYLDOPTS@@
 LIBS = @@LIBS@@
 MTLIBS = @@MYMTLIBS@@
 SKLIBS = @@MYSKLIBS@@
 APPLIBS = @@MYAPPLIBS@@
-LDENV = LD_RUN_PATH=/lib:/usr/lib:$(MYLIBDIR):$(HOME)/lib:/usr/local/lib:@@MYRUNPATH@@:.
-RUNENV = LD_LIBRARY_PATH=.:/lib:/usr/lib:$(MYLIBDIR):$(HOME)/lib:/usr/local/lib:@@MYRUNPATH@@
+LDENV = LD_RUN_PATH=/lib:/usr/lib:/usr/local/lib:@@MYRUNPATH@@:.
+RUNENV = LD_LIBRARY_PATH=.:/lib:/usr/lib:/usr/local/lib:@@MYRUNPATH@@
 MYPOSTCMD = @@MYPOSTCMD@@
 
 
@@@@ -113,22 +111,22 @@@@ version :
 
 
 install :
-	mkdir -p $(DESTDIR)$(MYHEADDIR)
-	cp -Rf $(MYHEADS) $(DESTDIR)$(MYHEADDIR)
-	mkdir -p $(DESTDIR)$(MYLIBDIR)
-	cp -Rf $(MYLIBS) $(DESTDIR)$(MYLIBDIR)
-	mkdir -p $(DESTDIR)$(MYBINDIR)
-	cp -Rf $(MYBINS) $(MYSCRIPTS) $(DESTDIR)$(MYBINDIR)
-	mkdir -p $(DESTDIR)$(MYLIBEXECDIR)
-	cp -Rf $(MYCGIS) $(DESTDIR)$(MYLIBEXECDIR)
-	mkdir -p $(DESTDIR)$(MYDATADIR)
-	cp -Rf $(MYCONFS) $(MYDOCS) $(DESTDIR)$(MYDATADIR)
-	mkdir -p $(DESTDIR)$(MYMAN1DIR)
-	cd man && cp -Rf $(MYMAN1S) $(DESTDIR)$(MYMAN1DIR)
-	mkdir -p $(DESTDIR)$(MYMAN3DIR)
-	cd man && cp -Rf $(MYMAN3S) $(DESTDIR)$(MYMAN3DIR)
-	mkdir -p $(DESTDIR)$(MYPCDIR)
-	cp -Rf $(MYPCS) $(DESTDIR)$(MYPCDIR)
+	$(BSD_INSTALL_DATA_DIR) $(DESTDIR)$(MYHEADDIR)
+	$(BSD_INSTALL_DATA) $(MYHEADS) $(DESTDIR)$(MYHEADDIR)
+	$(BSD_INSTALL_DATA_DIR) $(DESTDIR)$(MYLIBDIR)
+	$(BSD_INSTALL_DATA) $(MYLIBS) $(DESTDIR)$(MYLIBDIR)
+	$(BSD_INSTALL_PROGRAM_DIR) $(DESTDIR)$(MYBINDIR)
+	$(BSD_INSTALL_PROGRAM) $(MYBINS) $(MYSCRIPTS) $(DESTDIR)$(MYBINDIR)
+	$(BSD_INSTALL_PROGRAM_DIR) $(DESTDIR)$(MYLIBEXECDIR)
+	$(BSD_INSTALL_PROGRAM) $(MYCGIS) $(DESTDIR)$(MYLIBEXECDIR)
+	$(BSD_INSTALL_DATA_DIR) $(DESTDIR)$(MYDATADIR)
+	$(BSD_INSTALL_DATA) $(MYCONFS) $(MYDOCS) $(DESTDIR)$(MYDATADIR)
+	$(BSD_INSTALL_MAN_DIR) $(DESTDIR)$(MYMAN1DIR)
+	cd man && $(BSD_INSTALL_MAN) $(MYMAN1S) $(DESTDIR)$(MYMAN1DIR)
+	$(BSD_INSTALL_MAN_DIR) $(DESTDIR)$(MYMAN3DIR)
+	cd man && $(BSD_INSTALL_MAN) $(MYMAN3S) $(DESTDIR)$(MYMAN3DIR)
+	$(BSD_INSTALL_DATA_DIR) $(DESTDIR)$(MYPCDIR)
+	$(BSD_INSTALL_DATA) $(MYPCS) $(DESTDIR)$(MYPCDIR)
 	@@printf '\n'
 	@@printf '#================================================================\n'
 	@@printf '# Thanks for using Hyper Estraier.\n'
@@@@ -630,13 +628,13 @@@@ libestraier.a : $(MYLIBOBJS)
 	$(AR) $(ARFLAGS) $@@ $(MYLIBOBJS)
 
 
-libestraier.so.$(LIBVER).$(LIBREV).0 : $(MYLIBOBJS)
+libestraier.so.$(LIBVER).$(LIBREV) : $(MYLIBOBJS)
 	if $(CC) --print-prog-name=ld | egrep -i '(solaris|/ccs/|/ucb/)' > /dev/null ; \
 	  then \
 	    $(CC) -shared -Wl,-G,-h,libestraier.so.$(LIBVER) -o $@@ $(MYLIBOBJS) \
 	       $(LDFLAGS) $(SKLIBS) $(MTLIBS) $(LIBS) ; \
 	  else \
-	    $(CC) -shared -Wl,-soname,libestraier.so.$(LIBVER) -o $@@ $(MYLIBOBJS) \
+	    $(CC) -shared -Wl,-soname,libestraier.so.$(LIBVER).$(LIBREV) -o $@@ $(MYLIBOBJS) \
 	       $(LDFLAGS) $(SKLIBS) $(MTLIBS) $(LIBS) ; \
 	  fi
 
@


1.3
log
@Update to hyperestraier-1.4.13.

From Jeremy Evans. (MAINTAINER)
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.2 2007/04/30 17:30:39 bernd Exp $
d83 2
a84 2
+#	$(BSD_INSTALL_DATA_DIR) $(DESTDIR)$(MYLIBEXECDIR)
+#	$(BSD_INSTALL_DATA) $(MYCGIS) $(DESTDIR)$(MYLIBEXECDIR)
@


1.2
log
@Update to hyperestraier-1.4.10.

Submitted by Jeremy Evans (MAINTAINER), thanks.
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.1.1.1 2007/01/16 10:38:40 bernd Exp $
--- Makefile.in.orig	Tue Feb 27 01:10:36 2007
+++ Makefile.in	Thu Apr 12 13:06:24 2007
d23 1
a23 1
@@@@ -48,25 +47,25 @@@@ MYHEADDIR = @@includedir@@
d36 2
a37 1
-CPPFLAGS = -I. -I$(MYHEADDIR) -I$(HOME)/include -I/usr/local/include -I/usr/include/qdbm \
d39 2
a40 2
+CPPFLAGS = -I. -I/usr/local/include -I/usr/include/qdbm \
   @@MYCPPOPTS@@ -D_XOPEN_SOURCE_EXTENDED=1 -D_GNU_SOURCE=1 -D__EXTENSIONS__=1 -D_HPUX_SOURCE=1 \
d43 1
a43 1
-LDFLAGS = -L. -L$(MYLIBDIR) -L$(HOME)/lib -L/usr/local/lib @@MYLDOPTS@@
d57 1
a57 1
@@@@ -112,22 +111,22 @@@@ version :
d96 1
a96 1
@@@@ -628,13 +627,13 @@@@ libestraier.a : $(MYLIBOBJS)
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.in.orig	Wed Nov  1 03:45:38 2006
+++ Makefile.in	Sat Nov 18 19:08:22 2006
@@@@ -22,14 +22,13 @@@@ PROTVER = @@PROTVER@@
d12 1
a12 1
 MYCGIS = estseek.cgi estfraud.cgi estproxy.cgi
d14 2
a15 1
 MYCONFS = estseek.conf estseek.tmpl estseek.top estseek.help estfraud.conf estproxy.conf \
d18 1
a18 1
+  estresult.dtd estraier.idl
d23 1
a23 1
@@@@ -47,25 +46,25 @@@@ MYHEADDIR = @@includedir@@
d36 1
a36 1
-CPPFLAGS = -I. -I$(HOME)/include -I/usr/local/include -I/usr/include/qdbm @@MYCPPOPTS@@ \
d38 2
a39 2
+CPPFLAGS = -I. -I/usr/local/include -I/usr/include/qdbm @@MYCPPOPTS@@ \
   -D_XOPEN_SOURCE_EXTENDED=1 -D_GNU_SOURCE=1 -D__EXTENSIONS__=1 -D_HPUX_SOURCE=1 \
d42 1
a42 1
-LDFLAGS = -L. -L$(HOME)/lib -L/usr/local/lib @@MYLDOPTS@@
d49 2
a50 2
-LDENV = LD_RUN_PATH=/lib:/usr/lib:$(HOME)/lib:/usr/local/lib:@@MYRUNPATH@@:.
-RUNENV = LD_LIBRARY_PATH=.:/lib:/usr/lib:$(HOME)/lib:/usr/local/lib:@@MYRUNPATH@@
d56 1
a56 1
@@@@ -111,22 +110,22 @@@@ version :
d95 1
a95 1
@@@@ -594,13 +593,13 @@@@ libestraier.a : $(MYLIBOBJS)
@


1.1.1.1
log
@Initial import of hyperestraier-1.4.9.

Hyper Estraier is a full-text search system. You can search lots of documents
for some documents including specified words. If you run a web site, it is
useful as your own search engine for pages in your site. Also, it is useful as
search utilities of mail boxes and file servers.

Submitted and maintained by Jeremy Evans <jeremyevans0 at gmail dot com>
@
text
@@
