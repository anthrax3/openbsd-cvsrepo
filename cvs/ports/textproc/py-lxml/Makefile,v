head	1.28;
access;
symbols
	OPENBSD_6_0:1.26.0.4
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.26.0.2
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.23.0.4
	OPENBSD_5_8_BASE:1.23
	OPENBSD_5_7:1.20.0.2
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.19.0.2
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.16.0.2
	OPENBSD_5_5_BASE:1.16
	OPENBSD_5_4:1.15.0.2
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.14.0.6
	OPENBSD_5_3_BASE:1.14
	OPENBSD_5_2:1.14.0.4
	OPENBSD_5_2_BASE:1.14
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.2
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.4.0.4
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.2
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.1.0.2
	OPENBSD_4_4_BASE:1.1.1.1
	ajacoutot_20080403:1.1.1.1
	benoitc:1.1.1;
locks; strict;
comment	@# @;


1.28
date	2017.01.03.19.27.52;	author landry;	state Exp;
branches;
next	1.27;
commitid	iwPqarwpK6U3gsCi;

1.27
date	2016.12.17.10.09.30;	author ajacoutot;	state Exp;
branches;
next	1.26;
commitid	yKKcTd9YyqMfUr7r;

1.26
date	2015.09.29.10.52.53;	author sthen;	state Exp;
branches;
next	1.25;
commitid	YNrJu4NUvrCuknd3;

1.25
date	2015.09.06.16.43.43;	author jca;	state Exp;
branches;
next	1.24;
commitid	7Sk39GLncdKNyoPO;

1.24
date	2015.09.06.16.36.16;	author jca;	state Exp;
branches;
next	1.23;
commitid	Upn59S6M5YcVd8P1;

1.23
date	2015.04.29.16.09.54;	author jca;	state Exp;
branches;
next	1.22;
commitid	581brphehQ3rmYM8;

1.22
date	2015.04.17.08.06.04;	author sthen;	state Exp;
branches;
next	1.21;
commitid	ucaxCyt6dE1BStqT;

1.21
date	2015.04.02.14.21.17;	author jasper;	state Exp;
branches;
next	1.20;
commitid	4Dkfcsk2uZtFDSwy;

1.20
date	2014.12.31.08.42.27;	author landry;	state Exp;
branches;
next	1.19;
commitid	vf8MnqY339W3vwfX;

1.19
date	2014.06.05.06.57.03;	author jasper;	state Exp;
branches;
next	1.18;
commitid	txi4gUKlq76J4iDD;

1.18
date	2014.06.04.14.50.33;	author jasper;	state Exp;
branches;
next	1.17;
commitid	RDUB1fgSBdC931Iw;

1.17
date	2014.06.04.14.29.49;	author jasper;	state Exp;
branches;
next	1.16;
commitid	VTGsYijlBi8FFODS;

1.16
date	2013.11.25.14.16.23;	author sthen;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2013.03.11.11.42.46;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2011.11.27.16.40.17;	author rpointel;	state Exp;
branches;
next	1.13;

1.13
date	2011.10.01.08.41.26;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.16.11.41.41;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2011.07.02.10.10.06;	author rpointel;	state Exp;
branches;
next	1.10;

1.10
date	2011.06.08.18.09.58;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.04.02.01.18.35;	author fgsch;	state Exp;
branches;
next	1.8;

1.8
date	2011.01.16.09.27.28;	author phessler;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.20.19.56.51;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.10.22.24.16;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2010.08.30.21.47.16;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2009.11.19.13.04.23;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2009.03.11.21.38.20;	author kili;	state Exp;
branches;
next	1.2;

1.2
date	2009.01.03.21.34.01;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2008.04.03.11.31.59;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.04.03.11.31.59;	author ajacoutot;	state Exp;
branches;
next	;

1.16.2.1
date	2014.06.04.14.31.31;	author jasper;	state Exp;
branches;
next	;
commitid	8zNgzSZb3RIdcWyu;


desc
@@


1.28
log
@bump ports depending on python3 in textproc
@
text
@# $OpenBSD: Makefile,v 1.27 2016/12/17 10:09:30 ajacoutot Exp $

BROKEN-hppa=	OOM on src/lxml/lxml.etree.c

COMMENT=	Python binding for the libxml2 and libxslt libraries

MODPY_EGG_VERSION=	3.7.0
DISTNAME=	lxml-${MODPY_EGG_VERSION}
PKGNAME=	py-lxml-${MODPY_EGG_VERSION}
REVISION=	0

CATEGORIES=	textproc devel

HOMEPAGE=	http://lxml.de/

MAINTAINER =	Sean Levy <attila@@stalphonsos.com>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=	${MODPY_WANTLIB} exslt m pthread xml2 xslt z

MODULES=	lang/python

LIB_DEPENDS=	textproc/libxslt
TEST_DEPENDS=	textproc/py-cssselect${MODPY_FLAVOR}

MODPY_PI =	Yes
MODPY_SETUPTOOLS=Yes

FLAVORS=	python3
FLAVOR?=

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/${MODPY_PY_PREFIX}lxml
	@@cp -r ${WRKSRC}/doc/* ${PREFIX}/share/doc/${MODPY_PY_PREFIX}lxml/

do-test:
	cd ${WRKSRC} && cp lib.openbsd-*/lxml/*.so src/lxml; \
	    ${MODPY_BIN} test.py

.include <bsd.port.mk>
@


1.27
log
@Update to py-lxml-3.7.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/09/29 10:52:53 sthen Exp $
d10 1
@


1.26
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/09/06 16:43:43 jca Exp $
d7 1
a7 2
MODPY_EGG_VERSION=	3.4.3
REVISION=	1
@


1.25
log
@Fix TEST_DEPENDS.

cssselect depends on lxml (python2 and python3 flavors).
lxml,python3 depends on cssselect,python3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/09/06 16:36:16 jca Exp $
d8 1
a8 1
REVISION=	0
@


1.24
log
@Provide a python3 lxml flavor.

Initial diff from Jiri B., PLIST chunk by me, input from Sean Levy
(maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/04/29 16:09:54 jca Exp $
d26 1
a26 1
TEST_DEPENDS=	textproc/py-cssselect
@


1.23
log
@Update to lxml-3.4.3

From Sean Levy who also takes maintainership.
While here also kill EXTRACT_SUFX and trailing whitespace in DESCR.

ok sthen@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.22 2015/04/17 08:06:04 sthen Exp $
a5 1
BROKEN-hppa=	OOM on src/lxml/lxml.etree.c
d8 1
d11 1
a20 2
MODPY_PI =	Yes

d28 1
d31 3
d35 2
a36 2
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/py-lxml
	@@cp -r ${WRKSRC}/doc/* ${PREFIX}/share/doc/py-lxml/
@


1.22
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/04/02 14:21:17 jasper Exp $
d6 1
a6 2
MODPY_EGG_VERSION=	3.3.5
REVISION=	0
d13 2
a18 1
EXTRACT_SUFX=	.tar.gz
@


1.21
log
@- switch to MODPY_PI
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/12/31 08:42:27 landry Exp $
d7 1
d20 1
a20 1
WANTLIB=	m xml2 z exslt xslt ${MODPY_WANTLIB}
@


1.20
log
@Yet another bunch of ports that reliably fail to build on hppa.

BROKEN-hppa =	SIGILL when running lilypond
BROKEN-hppa =	libjson-c.so.0.0: undefined reference to __sync_val_compare_and_swap_4
BROKEN-hppa=	missing atomic ops
BROKEN-hppa=	./iodev/hdimage/hdimage.cc:807: error: 'bx_bswap32' was not declared in this scope
BROKEN-hppa =	cc1plus: error: unrecognized command line option '-std=c++11'
BROKEN-hppa =	src/bin/jp2/convert.c:192: error: expected identifier or '(' before '__extension__'
BROKEN-hppa=	libpt.so.7.0: undefined reference to __sync_fetch_and_or_4
BROKEN-hppa=	ykpers-json.c:42: error: redefinition of typedef 'json_bool'
BROKEN-hppa=	OOM on src/lxml/lxml.etree.c
BROKEN-hppa =	undefined reference to `__sync_val_compare_and_swap_4' in libjson-c
BROKEN-hppa =	rake fails when linking PassengerHelperAgent
BROKEN-hppa =	kstars/kstars/tools/scriptbuilder.cpp:103: internal compiler error: Segmentation fault
BROKEN-hppa=	build stuck on virt-viewer-window.c

See http://build-failures.rhaalovely.net/hppa/
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/06/05 06:57:03 jasper Exp $
d16 1
a16 1
MASTER_SITES=	${MASTER_SITE_PYPI:=l/lxml/}
@


1.19
log
@- update to py-lxml-3.3.5
- add missing TEST_DEPENDS spottedy rpointel@@

ok rpointel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/06/04 14:50:33 jasper Exp $
d4 1
@


1.18
log
@- update HOMEPAGE / MASTER_SITES / EXTRACT_SUFX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2014/06/04 14:29:49 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.3.2
a7 1
REVISION=	1
d23 1
@


1.17
log
@Security fix for CVE-2014-3146, python-lxml: clean_html input sanitization flaw
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/11/25 14:16:23 sthen Exp $
d8 1
a8 1
REVISION=	0
d11 1
a11 4
EXTRACT_SUFX=	.tgz
MASTER_SITES=	${HOMEPAGE}

HOMEPAGE=	http://codespeak.net/lxml/
d15 3
@


1.16
log
@kill VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/11 11:42:46 espie Exp $
d8 1
@


1.16.2.1
log
@Security fix for CVE-2014-3146, python-lxml: clean_html input sanitization flaw
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/11/25 14:16:23 sthen Exp $
a7 1
REVISION=	0
@


1.15
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/11/27 16:40:17 rpointel Exp $
a24 2

VMEM_WARNING=	Yes
@


1.14
log
@Update py-lxml to 2.3.2.
From Web Heping (thanks).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/10/01 08:41:26 jasper Exp $
a15 1
PERMIT_PACKAGE_FTP=	Yes
a16 2
PERMIT_DISTFILES_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
d32 1
a32 1
do-regress:
@


1.13
log
@- update to 2.3.1

from wen heping
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/16 11:41:41 espie Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.3.1
@


1.12
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/07/02 10:10:06 rpointel Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.3
a7 1
REVISION=	0
@


1.11
log
@Update lxml to 2.3.
Added VMEM_WARNING, suggested by jasper@@.
ok jasper@@, benoit@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/06/08 18:09:58 jasper Exp $
d8 1
@


1.10
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/04/02 01:18:35 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.2.8
a7 1
REVISION =	1
d21 1
a21 1
WANTLIB=	m xml2 z exslt xslt
d28 2
@


1.9
log
@remove beautifulsoup from RUN_DEPENDS, this works fine without it.
fix regress while i'm here. sthen@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/01/16 09:27:28 phessler Exp $
d8 1
a8 1
REVISION =	0
@


1.8
log
@Update py-lxml to 2.2.8

Quite a few new features and bugfixes from our previous version, more
details are available at http://codespeak.net/lxml/changes-2.2.8.html


remove MAINTAINER (requested by MAINTAINER)

OK sthen@@, previous MAINTAINER Benoit Chesneau
Committing on behalf of sthen@@ who did the actual work
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/20 19:56:51 espie Exp $
d8 1
a26 1
RUN_DEPENDS=	www/py-beautifulsoup
d33 4
@


1.7
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/10 22:24:16 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.0.4
a7 1
REVISION=	1
a9 2
MAINTAINER=	Benoit Chesneau <benoitc@@metavers.net>

d26 1
a32 2

NO_REGRESS=	Yes
@


1.6
log
@- some WANTLIB/LIB_DEPENDS/REVISION cleaning
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/08/30 21:47:16 jasper Exp $
d28 1
a28 1
LIB_DEPENDS=	::textproc/libxslt
@


1.5
log
@Might as well bump. Bump!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/11/19 13:04:23 jasper Exp $
d8 1
a8 1
REVISION=	0
d24 1
a24 1
WANTLIB=	m xml2 z
d28 1
a28 1
LIB_DEPENDS=	exslt,xslt::textproc/libxslt
@


1.4
log
@- update py-lxml to 2.0.4

maintainer timed-out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/03/11 21:38:20 kili Exp $
d8 1
@


1.3
log
@
Bump after python dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/01/03 21:34:01 kili Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	2.0.3
d7 1
a7 1
PKGNAME=	py-lxml-${MODPY_EGG_VERSION}p1
@


1.2
log
@
Fix PLIST and use MODPY_EGG_VERSION.

Help from and ok, jasper@@ ok, wcmaier@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/04/03 11:31:59 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	py-lxml-${MODPY_EGG_VERSION}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 3
a7 3
VERSION=	2.0.3
DISTNAME=	lxml-${VERSION}
PKGNAME=	py-lxml-${VERSION}
@


1.1.1.1
log
@Import py-lxml-2.0.3

lxml is a Pythonic, mature binding for the libxml2 and libxslt libraries.
It provides safe and convenient access to these libraries using the
ElementTree API.

It extends the ElementTree API significantly to offer support for XPath,
RelaxNG, XML Schema, XSLT, C14N and much more.

from Benoit Chesneau <benoitc at metavers dot net>
@
text
@@
