head	1.3;
access;
symbols
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	danj_20170203:1.1.1.1
	danj:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2017.04.12.02.21.58;	author danj;	state Exp;
branches;
next	1.2;
commitid	cC30oyNAYrH9IAfh;

1.2
date	2017.03.25.16.16.47;	author danj;	state Exp;
branches;
next	1.1;
commitid	wd1ZrcRa1niNa5q6;

1.1
date	2017.02.03.15.00.33;	author danj;	state Exp;
branches
	1.1.1.1;
next	;
commitid	aFTfDtoUZvSgddBY;

1.1.1.1
date	2017.02.03.15.00.33;	author danj;	state Exp;
branches;
next	;
commitid	aFTfDtoUZvSgddBY;


desc
@@


1.3
log
@Update to ripgrep-0.5.1

From the usual suspect (semarie)
@
text
@# $OpenBSD: Makefile,v 1.2 2017/03/25 16:16:47 danj Exp $

COMMENT =		line oriented search tool using Rust's regex library

GH_ACCOUNT =		BurntSushi
GH_PROJECT =		ripgrep
GH_TAGNAME =		0.5.1

CATEGORIES =		textproc sysutils

# Unlicense/MIT
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c pthread

SEPARATE_BUILD =	Yes

MODULES =		devel/cargo

# as devel/cargo MODULES adds DISTFILES, GH_* didn't
DISTFILES += ${DISTNAME}${EXTRACT_SUFX}

MODCARGO_CRATES +=	aho-corasick-0.6.3	# Unlicense/MIT
MODCARGO_CRATES +=	ansi_term-0.9.0	# MIT
MODCARGO_CRATES +=	atty-0.2.2	# MIT
MODCARGO_CRATES +=	bitflags-0.8.2	# MIT/Apache-2.0
MODCARGO_CRATES +=	bytecount-0.1.6	# Apache-2.0/MIT
MODCARGO_CRATES +=	cfg-if-0.1.0	# MIT/Apache-2.0
MODCARGO_CRATES +=	clap-2.23.1	# MIT
MODCARGO_CRATES +=	crossbeam-0.2.10	# Apache-2.0/MIT
MODCARGO_CRATES +=	encoding_rs-0.5.0	# MIT/Apache-2.0
MODCARGO_CRATES +=	env_logger-0.4.2	# MIT/Apache-2.0
MODCARGO_CRATES +=	fnv-1.0.5	# Apache-2.0 / MIT
MODCARGO_CRATES +=	fs2-0.4.1	# MIT/Apache-2.0
MODCARGO_CRATES +=	kernel32-sys-0.2.2	# MIT
MODCARGO_CRATES +=	lazy_static-0.2.6	# MIT
MODCARGO_CRATES +=	libc-0.2.21	# MIT/Apache-2.0
MODCARGO_CRATES +=	log-0.3.7	# MIT/Apache-2.0
MODCARGO_CRATES +=	memchr-1.0.1	# Unlicense/MIT
MODCARGO_CRATES +=	memmap-0.5.2	# MIT/Apache-2.0
MODCARGO_CRATES +=	num_cpus-1.3.0	# MIT/Apache-2.0
MODCARGO_CRATES +=	regex-0.2.1	# MIT/Apache-2.0
MODCARGO_CRATES +=	regex-syntax-0.4.0	# MIT/Apache-2.0
MODCARGO_CRATES +=	same-file-0.1.3	# Unlicense/MIT
MODCARGO_CRATES +=	simd-0.1.1	# MIT/Apache-2.0
MODCARGO_CRATES +=	strsim-0.6.0	# MIT
MODCARGO_CRATES +=	term_size-0.2.3	# MIT/Apache-2.0
MODCARGO_CRATES +=	thread-id-3.0.0	# Apache-2.0
MODCARGO_CRATES +=	thread_local-0.3.3	# Apache-2.0/MIT
MODCARGO_CRATES +=	unicode-segmentation-1.1.0	# MIT/Apache-2.0
MODCARGO_CRATES +=	unicode-width-0.1.4	# MIT/Apache-2.0
MODCARGO_CRATES +=	unreachable-0.1.1	# MIT
MODCARGO_CRATES +=	utf8-ranges-1.0.0	# Unlicense/MIT
MODCARGO_CRATES +=	vec_map-0.7.0	# MIT/Apache-2.0
MODCARGO_CRATES +=	void-1.0.2	# MIT
MODCARGO_CRATES +=	walkdir-1.0.7	# Unlicense/MIT
MODCARGO_CRATES +=	winapi-0.2.8	# MIT
MODCARGO_CRATES +=	winapi-build-0.1.1	# MIT

CONFIGURE_STYLE =	cargo

post-install:
	chmod a+rx ${PREFIX}/bin/rg
	${INSTALL_MAN} ${WRKSRC}/doc/rg.1 ${PREFIX}/man/man1/
	mkdir -p ${PREFIX}/share/bash-completion/completions
	${INSTALL_DATA} ${MODCARGO_TARGET_DIR}/release/build/ripgrep-*/out/rg.bash-completion \
		${PREFIX}/share/bash-completion/completions/rg
	mkdir -p ${PREFIX}/share/zsh/site-functions
	${INSTALL_DATA} ${MODCARGO_TARGET_DIR}/release/build/ripgrep-*/out/_rg.ps1 \
		${PREFIX}/share/zsh/site-functions/_rg

.include <bsd.port.mk>
@


1.2
log
@Update to ripgrep-0.5.0

From semarie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2017/02/03 15:00:33 danj Exp $
d7 1
a7 1
GH_TAGNAME =		0.5.0
d23 1
a23 1
MODCARGO_CRATES +=	aho-corasick-0.6.2	# Unlicense/MIT
d26 1
a26 1
MODCARGO_CRATES +=	bitflags-0.8.0	# MIT/Apache-2.0
d29 1
a29 1
MODCARGO_CRATES +=	clap-2.21.1	# MIT
d36 1
a36 1
MODCARGO_CRATES +=	lazy_static-0.2.4	# MIT
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
GH_TAGNAME =		0.4.0
d23 1
a23 1
MODCARGO_CRATES +=	aho-corasick-0.6.1	# Unlicense/MIT
d25 2
a26 1
MODCARGO_CRATES +=	bitflags-0.7.0	# MIT/Apache-2.0
d28 2
a29 1
MODCARGO_CRATES +=	clap-2.19.3	# MIT
d31 2
a32 1
MODCARGO_CRATES +=	env_logger-0.3.5	# MIT/Apache-2.0
d34 1
a34 1
MODCARGO_CRATES +=	fs2-0.3.0	# MIT/Apache-2.0
d36 3
a38 3
MODCARGO_CRATES +=	lazy_static-0.2.2	# MIT
MODCARGO_CRATES +=	libc-0.2.19	# MIT/Apache-2.0
MODCARGO_CRATES +=	log-0.3.6	# MIT/Apache-2.0
d40 2
a41 2
MODCARGO_CRATES +=	memmap-0.5.0	# MIT/Apache-2.0
MODCARGO_CRATES +=	num_cpus-1.2.1	# MIT/Apache-2.0
d44 1
a44 1
MODCARGO_CRATES +=	same-file-0.1.2	# Unlicense/MIT
d46 2
a47 2
MODCARGO_CRATES +=	strsim-0.5.2	# MIT
MODCARGO_CRATES +=	term_size-0.2.1	# MIT/Apache-2.0
d49 2
a50 2
MODCARGO_CRATES +=	thread_local-0.3.2	# Apache-2.0/MIT
MODCARGO_CRATES +=	unicode-segmentation-0.1.3	# MIT/Apache-2.0
d54 1
a54 1
MODCARGO_CRATES +=	vec_map-0.6.0	# MIT/Apache-2.0
@


1.1.1.1
log
@Import ripgrep-0.4.0 from semarie, tweaks by landry@@ and me, ok landry@@

Line oriented search tool using Rust's regex library. Combines the raw
performance of grep with the usability of the silver searcher.
@
text
@@
