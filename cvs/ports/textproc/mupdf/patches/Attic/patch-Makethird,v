head	1.5;
access;
symbols
	OPENBSD_6_1:1.4.0.2
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.1.0.4
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2017.05.05.14.02.51;	author sthen;	state dead;
branches;
next	1.4;
commitid	rbSi3GSdwEnYAEAS;

1.4
date	2016.12.12.10.54.39;	author sthen;	state Exp;
branches;
next	1.3;
commitid	Enu3DDXVVc0luyIA;

1.3
date	2016.10.18.09.24.20;	author sthen;	state Exp;
branches;
next	1.2;
commitid	tVUMQH14btHr8Nk0;

1.2
date	2016.10.16.09.16.52;	author sthen;	state Exp;
branches;
next	1.1;
commitid	dEwglaqKyYstWUzR;

1.1
date	2015.11.12.17.26.54;	author sthen;	state Exp;
branches;
next	;
commitid	ZwdvGV2CJzqynQxI;


desc
@@


1.5
log
@after doing battle with the build infra, belatedly update to MuPDF 1.11
@
text
@$OpenBSD: patch-Makethird,v 1.4 2016/12/12 10:54:39 sthen Exp $
--- Makethird.orig	Mon Nov 28 13:34:04 2016
+++ Makethird	Mon Dec 12 09:42:29 2016
@@@@ -665,13 +665,13 @@@@ GLFW_SRC := \
 	xkb_unicode.c
 
 $(GLFW_OUT)/%.o: $(GLFW_DIR)/src/%.c | $(GLFW_OUT)
-	$(CC_CMD) -D_GLFW_X11 -D_GLFW_GLX -D_GLFW_USE_OPENGL -D_GLFW_HAS_GLXGETPROCADDRESS
+	$(CC_CMD) -I/usr/X11R6/include -D_GLFW_X11 -D_GLFW_GLX -D_GLFW_USE_OPENGL -D_GLFW_HAS_GLXGETPROCADDRESS
 $(GLFW_LIB): $(addprefix $(GLFW_OUT)/, $(GLFW_SRC:%.c=%.o))
 GLFW_LIBS := -lGL -lX11 -lXcursor -lXrandr -lXinerama -lpthread
 
 endif
 
-GLFW_CFLAGS := -I$(GLFW_DIR)/include
+GLFW_CFLAGS := -I/usr/X11R6/include -I$(GLFW_DIR)/include
 $(GLFW_OUT):
 	$(MKDIR_CMD)
 
@


1.4
log
@update to mupdf-1.10a
@
text
@d1 1
a1 1
$OpenBSD: patch-Makethird,v 1.3 2016/10/18 09:24:20 sthen Exp $
@


1.3
log
@- patch mupdf to cope with openjp2 update
- use sed -i instead of SUBST_CMD for easier update-patches management
@
text
@d1 6
a6 6
$OpenBSD: patch-Makethird,v 1.2 2016/10/16 09:16:52 sthen Exp $
--- Makethird.orig	Thu Apr 21 12:14:32 2016
+++ Makethird	Tue Oct 18 10:08:26 2016
@@@@ -512,9 +512,9 @@@@ $(GLFW_LIB): $(addprefix $(GLFW_OUT)/, $(GLFW_SRC:%.c=
 $(GLFW_OUT):
 	$(MKDIR_CMD)
d10 4
d17 2
a18 1
 GLFW_LIBS := -lGL -lX11 -lXcursor -lXrandr -lXinerama -lpthread
a19 1
 HAVE_GLFW := yes
@


1.2
log
@update to mupdf-1.9a
@
text
@d1 1
a1 1
$OpenBSD: patch-Makethird,v 1.1 2015/11/12 17:26:54 sthen Exp $
d3 1
a3 1
+++ Makethird	Sun Oct 16 09:47:50 2016
d9 1
a9 1
+	$(CC_CMD) -I${X11BASE}/include -D_GLFW_X11 -D_GLFW_GLX -D_GLFW_USE_OPENGL -D_GLFW_HAS_GLXGETPROCADDRESS
d12 1
a12 1
+GLFW_CFLAGS := -I${X11BASE}/include -I$(GLFW_DIR)/include
@


1.1
log
@update to MuPDF-1.8
- many fixes and improvements to EPUB support
- mudraw moves to the multi-purpose mutool binary
- add new OpenGL-based viewer, mupdf-gl
- add an optional flavour to enable the javascript support (wasn't
on by default before in our package, and still isn't)
@
text
@d1 4
a4 4
$OpenBSD$
--- Makethird.orig	Tue Nov 10 16:19:51 2015
+++ Makethird	Thu Nov 12 17:22:39 2015
@@@@ -503,9 +503,9 @@@@ $(GLFW_LIB): $(addprefix $(GLFW_OUT)/, $(GLFW_SRC:%.c=
@

