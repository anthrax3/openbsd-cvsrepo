head	1.26;
access;
symbols
	OPENBSD_6_1:1.26.0.2
	OPENBSD_6_1_BASE:1.26
	OPENBSD_6_0:1.25.0.2
	OPENBSD_6_0_BASE:1.25
	OPENBSD_5_9:1.24.0.2
	OPENBSD_5_9_BASE:1.24
	OPENBSD_5_8:1.24.0.4
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.23.0.2
	OPENBSD_5_7_BASE:1.23
	OPENBSD_5_6:1.22.0.6
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.22.0.4
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.22.0.2
	OPENBSD_5_4_BASE:1.22
	OPENBSD_5_3:1.21.0.2
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.17.0.8
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.6
	OPENBSD_5_0:1.17.0.4
	OPENBSD_5_0_BASE:1.17
	OPENBSD_4_9:1.17.0.2
	OPENBSD_4_9_BASE:1.17
	OPENBSD_4_8:1.14.0.6
	OPENBSD_4_8_BASE:1.14
	OPENBSD_4_7:1.14.0.4
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.14.0.2
	OPENBSD_4_6_BASE:1.14
	OPENBSD_4_5:1.13.0.6
	OPENBSD_4_5_BASE:1.13
	OPENBSD_4_4:1.13.0.4
	OPENBSD_4_4_BASE:1.13
	OPENBSD_4_3:1.13.0.2
	OPENBSD_4_3_BASE:1.13
	OPENBSD_4_2:1.12.0.4
	OPENBSD_4_2_BASE:1.12
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.11.0.8
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.11.0.6
	OPENBSD_3_9_BASE:1.11
	OPENBSD_3_8:1.11.0.4
	OPENBSD_3_8_BASE:1.11
	OPENBSD_3_7:1.11.0.2
	OPENBSD_3_7_BASE:1.11
	OPENBSD_3_6:1.9.0.6
	OPENBSD_3_6_BASE:1.9
	OPENBSD_3_5:1.9.0.4
	OPENBSD_3_5_BASE:1.9
	OPENBSD_3_4:1.9.0.2
	OPENBSD_3_4_BASE:1.9
	OPENBSD_3_3:1.8.0.4
	OPENBSD_3_3_BASE:1.8
	OPENBSD_3_2:1.8.0.2
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.5.0.2
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.3.0.2
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	OPENBSD_2_9:1.2.0.4
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.2
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.1.1.1.0.2
	espie:1.1.1.1
	HeVeA:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2016.09.03.10.12.00;	author sthen;	state Exp;
branches;
next	1.25;
commitid	E8otPcJ13sxeWgtW;

1.25
date	2016.06.23.19.23.54;	author krw;	state Exp;
branches;
next	1.24;
commitid	vwUgBiCmN1lWQqPh;

1.24
date	2015.04.25.08.14.35;	author espie;	state Exp;
branches;
next	1.23;
commitid	DUfji1iapvafwmwu;

1.23
date	2014.08.22.22.49.07;	author kili;	state Exp;
branches;
next	1.22;
commitid	EuOaFLY1ck9pjbE0;

1.22
date	2013.03.11.11.42.41;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2012.12.13.11.51.34;	author chrisz;	state Exp;
branches;
next	1.20;

1.20
date	2012.11.30.19.38.09;	author chrisz;	state Exp;
branches;
next	1.19;

1.19
date	2012.08.18.22.47.00;	author avsm;	state Exp;
branches;
next	1.18;

1.18
date	2012.08.04.16.30.04;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.12.05.18.24.33;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2010.11.22.09.38.08;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.20.19.56.48;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2009.06.20.22.05.11;	author avsm;	state Exp;
branches;
next	1.13;

1.13
date	2007.09.15.20.59.38;	author merdely;	state Exp;
branches;
next	1.12;

1.12
date	2006.12.26.22.39.31;	author avsm;	state Exp;
branches;
next	1.11;

1.11
date	2004.12.07.00.23.21;	author alek;	state Exp;
branches;
next	1.10;

1.10
date	2004.10.26.15.22.48;	author pvalchev;	state Exp;
branches;
next	1.9;

1.9
date	2003.08.22.18.12.24;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2002.09.30.15.48.27;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2002.09.28.03.51.01;	author mark;	state Exp;
branches;
next	1.6;

1.6
date	2002.06.09.05.37.15;	author wilfried;	state Exp;
branches;
next	1.5;

1.5
date	2002.03.21.21.25.53;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2001.11.10.15.00.50;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2001.05.06.04.11.42;	author lebel;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.10.00.40.56;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2000.05.19.09.59.37;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.05.19.09.59.37;	author espie;	state Exp;
branches;
next	;


desc
@@


1.26
log
@mirror distfiles, they have been replaced with a newer version upstream
@
text
@# $OpenBSD: Makefile,v 1.25 2016/06/23 19:23:54 krw Exp $

COMMENT=	LaTeX to html translator

CATEGORIES=	textproc print

# Q Licence 1.0 + LGPL for parts of the runtime
PERMIT_PACKAGE_CDROM=	Yes
WANTLIB=		c m

DISTNAME =	hevea-2.23
REVISION = 	0
MASTER_SITES =	http://para.inria.fr/~maranget/hevea/distri/ \
		https://spacehopper.org/mirrors/

DISTFILES=	${DISTNAME}${EXTRACT_SUFX} ${DISTNAME}-manual${EXTRACT_SUFX}

MAINTAINER=	Marc Espie <espie@@openbsd.org>
HOMEPAGE=	http://para.inria.fr/%7Emaranget/hevea/

NO_TEST =	Yes

MODULES +=	lang/ocaml

BUILD_DEPENDS = devel/ocaml-ocamlbuild

.include <bsd.port.arch.mk>
.if ${PROPERTIES:Mocaml_native}
MAKE_FLAGS +=	TARGET=opt
FAKE_FLAGS +=	TARGET=opt
.else
MAKE_FLAGS +=	TARGET=byte
FAKE_FLAGS +=	TARGET=byte
.endif

# Beware! this works only because the manual is flat
post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/hevea
	${INSTALL_DATA} ${WRKDIR}/${DISTNAME}-manual/* ${PREFIX}/share/doc/hevea


.include <bsd.port.mk>
@


1.25
log
@Stop building Ocaml's internal ocamlbuild and use the ocaml-ocamlbuild port
where needed.

The next step towards Ocaml 4.3.0.

Bulk build by sthen@@ identified several laggards which are included here.

ok anil@@ sthen@@ so final 4.3.0 polishing can be done in-tree.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/04/25 08:14:35 espie Exp $
d13 2
a14 1
MASTER_SITES =	http://para.inria.fr/~maranget/hevea/distri/
@


1.24
log
@update to 2.23, from Ingo Feinerer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/08/22 22:49:07 kili Exp $
d12 1
d23 2
@


1.23
log
@More bumps due to lang/ocaml pkgname change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/03/11 11:42:41 espie Exp $
d11 1
a11 1
DISTNAME =	hevea-2.00
a12 1
REVISION =	0
@


1.22
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/12/13 11:51:34 chrisz Exp $
d13 1
@


1.21
log
@Update hevea to 2.00

maintainer timed out; ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/11/30 19:38:09 chrisz Exp $
a7 2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a8 1
PERMIT_PACKAGE_FTP=	Yes
d19 1
a19 1
NO_REGRESS =	Yes
@


1.20
log
@update lang/ocaml to 4.00.1.
Let all ocaml ports RUN_DEPEND on the version of ocaml they were built with.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/08/18 22:47:00 avsm Exp $
d12 1
a12 1
WANTLIB=		c m 
d14 1
a14 4
BUILD_DEPENDS=	lang/ocaml

DISTNAME =	hevea-1.10
REVISION =	0
@


1.19
log
@update to hevea-1.10
* use new PROPERTY ocaml_native
* patch Makefile / config.sh to respect environment variables

From: Christopher Zimmermann <madroach@@gmerlin.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/12/05 18:24:33 jasper Exp $
d17 1
@


1.18
log
@use ocaml.port.mk
@
text
@d14 4
a17 3
DISTNAME=	hevea-1.06
REVISION=	2
MASTER_SITES=	ftp://ftp.inria.fr/INRIA/moscova/hevea/
d24 1
a24 2
MAKE_FLAGS=LIBDIR='${PREFIX}/lib/hevea' BINDIR='${PREFIX}/bin'
FAKE_FLAGS=LIBDIR='${WRKINST}${PREFIX}/lib/hevea' BINDIR='${WRKINST}${PREFIX}/bin'
d28 9
d42 1
a42 2
NO_REGRESS=	Yes
	
a43 5

.if ${MODOCAML_NATIVE:L} == "no"
MAKE_FLAGS+=	TARGET='byte'
FAKE_FLAGS+=	TARGET='byte'
.endif
@


1.17
log
@- use REVISION instead of a patch-level

from mikolaj kucharski, with a tweak by me in qt3-sqlite3-plugin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/11/22 09:38:08 espie Exp $
a13 2
BUILD_DEPENDS=	lang/ocaml

d15 1
a15 1
REVISION=	1
d26 1
a26 7
.if ${MACHINE_ARCH} != "i386" && ${MACHINE_ARCH} != "sparc" && \
	${MACHINE_ARCH} != "alpha" && ${MACHINE_ARCH} != "amd64" && \
	${MACHINE_ARCH} != "powerpc"
RUN_DEPENDS=	lang/ocaml
MAKE_FLAGS+=	TARGET='byte'
FAKE_FLAGS+=	TARGET='byte'
.endif
d36 5
@


1.16
log
@missed a few depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/20 19:56:48 espie Exp $
a6 1
V=1.06
d16 2
a17 2
DISTNAME=	hevea-$V
PKGNAME=	${DISTNAME}p1
@


1.15
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/06/20 22:05:11 avsm Exp $
d15 1
a15 1
BUILD_DEPENDS=	:ocaml-*:lang/ocaml
@


1.14
log
@update to ocaml-3.11.1 and bump dependent package PKGNAMEs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/09/15 20:59:38 merdely Exp $
d32 1
a32 1
RUN_DEPENDS=	:ocaml-*:lang/ocaml
@


1.13
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/12/26 22:39:31 avsm Exp $
d18 1
a18 1
PKGNAME=	${DISTNAME}p0
@


1.12
log
@bump PKGNAME on ocaml ports for recent ocaml-3.09.3 dependency change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/12/07 00:23:21 alek Exp $
d3 1
a3 1
COMMENT=	"LaTeX to html translator"
@


1.11
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/10/26 15:22:48 pvalchev Exp $
d18 1
@


1.10
log
@sync list of byte compiler ocaml w/ ocaml port; ok espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2003/08/22 18:12:24 espie Exp $
d13 1
@


1.9
log
@update to 1.06
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/09/30 15:48:27 naddy Exp $
d28 2
a29 1
	${MACHINE_ARCH} != "alpha"
@


1.8
log
@Build native executable where supported, byte code elsewhere.
From: Nikolay Sturm <sturm@@sec.informatik.tu-darmstadt.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/09/28 03:51:01 mark Exp $
d7 1
a7 1
V=1.05
d17 1
a17 1
MASTER_SITES=	ftp://ftp.inria.fr/INRIA/Projects/para/hevea/
@


1.7
log
@Fix breakage -- ocaml does not supply "ocamlopt", therefore the hevea
build is using an incorrect target.

Tested on macppc and i386 - ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/06/09 05:37:15 wilfried Exp $
d27 7
d38 2
@


1.6
log
@add specifier to RUN_DEPENDS and BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/03/21 21:25:53 espie Exp $
a5 2
NEED_VERSION=	1.515

@


1.5
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/11/10 15:00:50 espie Exp $
d16 1
a16 1
BUILD_DEPENDS=	::lang/ocaml
@


1.4
log
@Kill first component of BUILD_DEPENDS.

Fix sawfish comment while I'm at it.
`window manager for the X windows system'.
Like DUH ! It's going to be a window manager for my microwave oven ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/05/06 04:11:42 lebel Exp $
d6 1
a6 1
NEED_VERSION=	1.489
@


1.3
log
@textproc: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/10/10 00:40:56 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.402
d16 1
a16 1
BUILD_DEPENDS=	ocamlc::lang/ocaml
@


1.2
log
@Fix my address. Dust off details.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.1.1.1 2000/05/19 09:59:37 espie Exp $
d6 1
a6 1
NEED_VERSION=	1.281
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d21 1
a21 2
MAINTAINER=	espie@@cvs.openbsd.org
FAKE=		Yes
@


1.1.1.1
log
@Another latex to html converter, in ocaml.
Cute, fast, good.
@
text
@@
