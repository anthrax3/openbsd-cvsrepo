head	1.4;
access;
symbols
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_2:1.1.0.4
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_0:1.1.0.2;
locks; strict;
comment	@# @;


1.4
date	2014.10.17.13.24.59;	author jasper;	state dead;
branches;
next	1.3;
commitid	g3cHDFWhu6ouXPjZ;

1.3
date	2014.05.29.13.40.51;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2012.09.30.12.22.05;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2012.02.23.09.39.00;	author sthen;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2012.02.27.20.16.40;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- update to libxml 2.9.2
* mostly bugfixes and two security fixes (booth were applied already)

ok aja@@
@
text
@$OpenBSD: patch-configure_in,v 1.3 2014/05/29 13:40:51 sthen Exp $
--- configure.in.orig	Thu May 29 11:37:41 2014
+++ configure.in	Thu May 29 11:37:49 2014
@@@@ -516,7 +516,7 @@@@ AC_CHECK_FUNCS(strdup strndup strerror)
 AC_CHECK_FUNCS(finite isnand fp_class class fpclass)
 AC_CHECK_FUNCS(strftime localtime gettimeofday ftime)
 AC_CHECK_FUNCS(stat _stat signal)
-AC_CHECK_FUNCS(rand rand_r srand time)
+AC_CHECK_FUNCS(arc4random rand rand_r srand time)
 AC_CHECK_FUNCS(isascii mmap munmap putenv)
 
 AH_VERBATIM([HAVE_MUNMAP_AFTER],[/* mmap() is no good without munmap() */
@


1.3
log
@In libxml, use arc4random instead of rand_r for hash bucket randomization.
Avoids triggering APIWARN for its many dependencies. ok/tweaks ajacoutot@@ (on
earlier version), jca@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@- update to libxml-2.8.0

tested on amd64, sparc64, mips64el and powerpc.
ok aja@@
@
text
@d1 4
a4 8
$OpenBSD: patch-configure_in,v 1.1 2012/02/23 09:39:00 sthen Exp $

CVE-2012-0841
http://git.gnome.org/browse/libxml2/commit/?id=8973d58b7498fa5100a876815476b81fd1a2412a

--- configure.in.orig	Thu Nov  4 17:01:19 2010
+++ configure.in	Wed Feb 22 19:02:10 2012
@@@@ -475,6 +475,7 @@@@ AC_CHECK_FUNCS(strdup strndup strerror)
d8 3
a10 1
+AC_CHECK_FUNCS(rand srand time)
d12 1
a12 2
 dnl Checking the standard string functions availability
 AC_CHECK_FUNCS(printf sprintf fprintf snprintf vfprintf vsprintf vsnprintf sscanf,,
@


1.1
log
@apply a fix for CVE-2012-0841 to libxml.  ok ajacoutot@@

"certain XML parsers/servers are affected by the same, or similar,
flaw as the hash table collisions CPU usage denial of service.
Sending a specially crafted message to an XML service can result
in longer processing time, which could lead to a denial of service.
It is reported that this attack on XML can be applied on different
XML nodes (such as entities, element attributes, namespaces, various
elements in the XML security, etc.)."
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@MFC fix for CVE-2012-0841 to libxml.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.1 2012/02/23 09:39:00 sthen Exp $
@

