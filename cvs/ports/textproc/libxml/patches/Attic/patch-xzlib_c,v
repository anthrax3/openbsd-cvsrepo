head	1.2;
access;
symbols
	OPENBSD_5_8:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2015.11.21.08.46.44;	author ajacoutot;	state dead;
branches;
next	1.1;
commitid	uRMr4NXxd3MUcX9d;

1.1
date	2015.11.05.14.24.12;	author jasper;	state Exp;
branches
	1.1.2.1;
next	;
commitid	QfliiY5TMLxWtRhH;

1.1.2.1
date	2015.11.05.14.34.55;	author jasper;	state Exp;
branches;
next	1.1.2.2;
commitid	qWgtWFEgDZy7ZZu3;

1.1.2.2
date	2015.11.21.08.30.39;	author ajacoutot;	state dead;
branches;
next	;
commitid	qHr57rpbtMfO1xw3;


desc
@@


1.2
log
@SECURITY: merge all recent CVEs from upstream
CVE-2015-8242 Buffer overead with HTML parser in push mode
CVE-2015-7500 Fix memory access error due to incorrect entities boundaries
CVE-2015-7499-2 Detect incoherency on GROW
CVE-2015-7499-1 Add xmlHaltParser() to stop the parser
CVE-2015-5312 Another entity expansion issue
CVE-2015-7497 Avoid an heap buffer overflow in xmlDictComputeFastQKey
CVE-2015-7498 Avoid processing entities after encoding conversion failures
CVE-2015-8035 Fix XZ compression support loop
CVE-2015-7942-2 Fix an error in previous Conditional section patch
CVE-2015-7942 Another variation of overflow in Conditional sections
CVE-2015-1819 Enforce the reader to run in constant memory
CVE-2015-7941_2 Cleanup conditional section error handling
CVE-2015-7941_1 Stop parsing on entities boundaries errors

Note that there's a new libxml release out, but it's in a bulk currently...
@
text
@$OpenBSD: patch-xzlib_c,v 1.1 2015/11/05 14:24:12 jasper Exp $

From f0709e3ca8f8947f2d91ed34e92e38a4c23eae63 Mon Sep 17 00:00:00 2001
From: Daniel Veillard <veillard@@redhat.com>
Date: Tue, 3 Nov 2015 15:31:25 +0800
Subject: CVE-2015-8035 Fix XZ compression support loop

--- xzlib.c.orig	Fri Oct  3 11:00:56 2014
+++ xzlib.c	Thu Nov  5 15:16:28 2015
@@@@ -581,6 +581,10 @@@@ xz_decomp(xz_statep state)
             xz_error(state, LZMA_DATA_ERROR, "compressed data error");
             return -1;
         }
+        if (ret == LZMA_PROG_ERROR) {
+            xz_error(state, LZMA_PROG_ERROR, "compression error");
+            return -1;
+        }
     } while (strm->avail_out && ret != LZMA_STREAM_END);
 
     /* update available output and crc check value */
@


1.1
log
@Security fix for CVE-2015-8035 and improve the fix for CVE-2015-7941 (from upstream)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@Security fix for CVE-2015-8035 and improve the fix for CVE-2015-7941 (from upstream)
@
text
@d1 1
a1 1
$OpenBSD: patch-xzlib_c,v 1.1 2015/11/05 14:24:12 jasper Exp $
@


1.1.2.2
log
@Merge all recent CVEs from upstream:
CVE-2015-8242 Buffer overead with HTML parser in push mode
CVE-2015-7500 Fix memory access error due to incorrect entities boundaries
CVE-2015-7499-2 Detect incoherency on GROW
CVE-2015-7499-1 Add xmlHaltParser() to stop the parser
CVE-2015-5312 Another entity expansion issue
CVE-2015-7497 Avoid an heap buffer overflow in xmlDictComputeFastQKey
CVE-2015-7498 Avoid processing entities after encoding conversion failures
CVE-2015-8035 Fix XZ compression support loop
CVE-2015-7942-2 Fix an error in previous Conditional section patch
CVE-2015-7942 Another variation of overflow in Conditional sections
CVE-2015-1819 Enforce the reader to run in constant memory
CVE-2015-7941_2 Cleanup conditional section error handling
CVE-2015-7941_1 Stop parsing on entities boundaries errors
@
text
@d1 1
a1 1
$OpenBSD: patch-xzlib_c,v 1.1.2.1 2015/11/05 14:34:55 jasper Exp $
@


