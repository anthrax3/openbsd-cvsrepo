head	1.171;
access;
symbols
	OPENBSD_6_2:1.171.0.2
	OPENBSD_6_2_BASE:1.171
	OPENBSD_6_1:1.168.0.2
	OPENBSD_6_1_BASE:1.168
	OPENBSD_6_0:1.166.0.2
	OPENBSD_6_0_BASE:1.166
	OPENBSD_5_9:1.162.0.2
	OPENBSD_5_9_BASE:1.162
	OPENBSD_5_8:1.158.0.4
	OPENBSD_5_8_BASE:1.158
	OPENBSD_5_7:1.157.0.2
	OPENBSD_5_7_BASE:1.157
	OPENBSD_5_6:1.154.0.2
	OPENBSD_5_6_BASE:1.154
	OPENBSD_5_5:1.151.0.2
	OPENBSD_5_5_BASE:1.151
	OPENBSD_5_4:1.150.0.2
	OPENBSD_5_4_BASE:1.150
	OPENBSD_5_3:1.146.0.2
	OPENBSD_5_3_BASE:1.146
	OPENBSD_5_2:1.144.0.2
	OPENBSD_5_2_BASE:1.144
	OPENBSD_5_1_BASE:1.141
	OPENBSD_5_1:1.141.0.2
	OPENBSD_5_0:1.137.0.2
	OPENBSD_5_0_BASE:1.137
	OPENBSD_4_9:1.134.0.2
	OPENBSD_4_9_BASE:1.134
	OPENBSD_4_8:1.124.0.4
	OPENBSD_4_8_BASE:1.124
	OPENBSD_4_7:1.124.0.2
	OPENBSD_4_7_BASE:1.124
	OPENBSD_4_6:1.120.0.2
	OPENBSD_4_6_BASE:1.120
	OPENBSD_4_5:1.118.0.2
	OPENBSD_4_5_BASE:1.118
	OPENBSD_4_4:1.116.0.2
	OPENBSD_4_4_BASE:1.116
	OPENBSD_4_3:1.110.0.2
	OPENBSD_4_3_BASE:1.110
	OPENBSD_4_2:1.106.0.2
	OPENBSD_4_2_BASE:1.106
	OPENBSD_4_1:1.103.0.2
	OPENBSD_4_1_BASE:1.103
	OPENBSD_4_0:1.101.0.2
	OPENBSD_4_0_BASE:1.101
	OPENBSD_3_9:1.94.0.2
	OPENBSD_3_9_BASE:1.94
	OPENBSD_3_8:1.90.0.2
	OPENBSD_3_8_BASE:1.90
	OPENBSD_3_7:1.85.0.2
	OPENBSD_3_7_BASE:1.85
	OPENBSD_3_6:1.79.0.2
	OPENBSD_3_6_BASE:1.79
	OPENBSD_3_5:1.74.0.2
	OPENBSD_3_5_BASE:1.74
	OPENBSD_3_4:1.67.0.2
	OPENBSD_3_4_BASE:1.67
	OPENBSD_3_3:1.60.0.2
	OPENBSD_3_3_BASE:1.60
	OPENBSD_3_2:1.53.0.2
	OPENBSD_3_2_BASE:1.53
	OPENBSD_3_1:1.45.0.2
	OPENBSD_3_1_BASE:1.45
	OPENBSD_3_0:1.31.0.2
	OPENBSD_3_0_BASE:1.31
	OPENBSD_2_9_TRACKING_SWITCH:1.27
	OPENBSD_2_9:1.19.0.2
	OPENBSD_2_9_BASE:1.19
	OPENBSD_2_8:1.13.0.2
	OPENBSD_2_8_BASE:1.13
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	OPENBSD_2_6:1.2.0.2
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.1.1.1.0.2
	OPENBSD_2_5_BASE:1.1.1.1
	rohee_1999-Mar-14:1.1.1.1
	rohee:1.1.1;
locks; strict;
comment	@# @;


1.171
date	2017.09.14.14.56.41;	author jasper;	state Exp;
branches;
next	1.170;
commitid	FAIUyu5bhqWktSPs;

1.170
date	2017.07.14.18.12.05;	author bluhm;	state Exp;
branches;
next	1.169;
commitid	U59WqebkRM8g7Sm1;

1.169
date	2017.06.03.09.40.42;	author pirofti;	state Exp;
branches;
next	1.168;
commitid	A6NZrwGvL1iFi1PY;

1.168
date	2016.12.30.15.54.57;	author bluhm;	state Exp;
branches
	1.168.2.1;
next	1.167;
commitid	d3PoWBFmTAwaRADY;

1.167
date	2016.09.01.21.56.59;	author jasper;	state Exp;
branches;
next	1.166;
commitid	D3Pwa9VAlpcuNPfD;

1.166
date	2016.04.26.21.33.41;	author naddy;	state Exp;
branches
	1.166.2.1;
next	1.165;
commitid	oyNs2C7DTdOWFzWP;

1.165
date	2016.04.06.19.37.24;	author naddy;	state Exp;
branches;
next	1.164;
commitid	2Fe5V3d3VpSIPa9E;

1.164
date	2016.03.12.17.22.07;	author naddy;	state Exp;
branches;
next	1.163;
commitid	dOy9wqPPAgBt7M7O;

1.163
date	2016.03.11.20.28.32;	author naddy;	state Exp;
branches;
next	1.162;
commitid	UYLP8TE6V7RS2GhJ;

1.162
date	2015.11.22.08.06.36;	author ajacoutot;	state Exp;
branches;
next	1.161;
commitid	4WnLZv8CpeSUL84z;

1.161
date	2015.11.21.08.46.43;	author ajacoutot;	state Exp;
branches;
next	1.160;
commitid	uRMr4NXxd3MUcX9d;

1.160
date	2015.11.05.14.24.12;	author jasper;	state Exp;
branches;
next	1.159;
commitid	QfliiY5TMLxWtRhH;

1.159
date	2015.10.23.14.21.16;	author jasper;	state Exp;
branches;
next	1.158;
commitid	ksH6C8XHq4R21Fen;

1.158
date	2015.07.01.11.26.55;	author ajacoutot;	state Exp;
branches
	1.158.4.1;
next	1.157;
commitid	sFuEeWMynByu95dt;

1.157
date	2014.10.18.08.56.21;	author jasper;	state Exp;
branches
	1.157.2.1;
next	1.156;
commitid	bAWyan9oYhqEEgkF;

1.156
date	2014.10.17.13.24.59;	author jasper;	state Exp;
branches;
next	1.155;
commitid	g3cHDFWhu6ouXPjZ;

1.155
date	2014.10.16.17.53.25;	author jasper;	state Exp;
branches;
next	1.154;
commitid	jPX2UYqhR5YPFRuC;

1.154
date	2014.05.29.13.40.51;	author sthen;	state Exp;
branches
	1.154.2.1;
next	1.153;

1.153
date	2014.05.12.07.48.35;	author jasper;	state Exp;
branches;
next	1.152;

1.152
date	2014.03.09.19.54.45;	author jasper;	state Exp;
branches;
next	1.151;

1.151
date	2013.09.25.12.32.22;	author jasper;	state Exp;
branches
	1.151.2.1;
next	1.150;

1.150
date	2013.04.17.13.55.42;	author sthen;	state Exp;
branches;
next	1.149;

1.149
date	2013.04.14.23.22.04;	author sthen;	state Exp;
branches;
next	1.148;

1.148
date	2013.03.21.08.48.54;	author ajacoutot;	state Exp;
branches;
next	1.147;

1.147
date	2013.03.11.11.42.42;	author espie;	state Exp;
branches;
next	1.146;

1.146
date	2012.09.30.12.22.05;	author jasper;	state Exp;
branches;
next	1.145;

1.145
date	2012.08.05.00.16.50;	author naddy;	state Exp;
branches;
next	1.144;

1.144
date	2012.05.18.13.25.46;	author jasper;	state Exp;
branches;
next	1.143;

1.143
date	2012.02.23.12.37.46;	author sthen;	state Exp;
branches;
next	1.142;

1.142
date	2012.02.23.09.39.00;	author sthen;	state Exp;
branches;
next	1.141;

1.141
date	2012.01.23.10.17.49;	author ajacoutot;	state Exp;
branches
	1.141.2.1;
next	1.140;

1.140
date	2011.10.30.12.35.16;	author jasper;	state Exp;
branches;
next	1.139;

1.139
date	2011.10.02.08.18.04;	author espie;	state Exp;
branches;
next	1.138;

1.138
date	2011.09.16.11.41.41;	author espie;	state Exp;
branches;
next	1.137;

1.137
date	2011.06.08.18.09.58;	author jasper;	state Exp;
branches
	1.137.2.1;
next	1.136;

1.136
date	2011.06.03.10.12.15;	author sthen;	state Exp;
branches;
next	1.135;

1.135
date	2011.06.01.17.31.21;	author gsoares;	state Exp;
branches;
next	1.134;

1.134
date	2010.12.28.10.53.02;	author jasper;	state Exp;
branches
	1.134.2.1;
next	1.133;

1.133
date	2010.11.21.12.25.49;	author espie;	state Exp;
branches;
next	1.132;

1.132
date	2010.11.20.19.56.49;	author espie;	state Exp;
branches;
next	1.131;

1.131
date	2010.11.15.09.54.11;	author jasper;	state Exp;
branches;
next	1.130;

1.130
date	2010.11.10.22.44.03;	author jasper;	state Exp;
branches;
next	1.129;

1.129
date	2010.11.06.10.18.38;	author espie;	state Exp;
branches;
next	1.128;

1.128
date	2010.10.24.15.53.55;	author sthen;	state Exp;
branches;
next	1.127;

1.127
date	2010.10.19.07.54.22;	author espie;	state Exp;
branches;
next	1.126;

1.126
date	2010.08.31.14.35.25;	author jasper;	state Exp;
branches;
next	1.125;

1.125
date	2010.08.30.21.47.15;	author jasper;	state Exp;
branches;
next	1.124;

1.124
date	2010.01.04.14.13.51;	author jasper;	state Exp;
branches
	1.124.4.1;
next	1.123;

1.123
date	2010.01.03.22.39.08;	author jasper;	state Exp;
branches;
next	1.122;

1.122
date	2009.10.11.10.39.42;	author steven;	state Exp;
branches;
next	1.121;

1.121
date	2009.08.13.09.29.47;	author sthen;	state Exp;
branches;
next	1.120;

1.120
date	2009.04.26.11.01.05;	author ajacoutot;	state Exp;
branches
	1.120.2.1;
next	1.119;

1.119
date	2009.03.11.16.14.32;	author bernd;	state Exp;
branches;
next	1.118;

1.118
date	2009.01.04.11.08.01;	author sthen;	state Exp;
branches
	1.118.2.1;
next	1.117;

1.117
date	2008.11.23.18.49.42;	author naddy;	state Exp;
branches;
next	1.116;

1.116
date	2008.07.25.20.25.59;	author sthen;	state Exp;
branches;
next	1.115;

1.115
date	2008.06.20.10.49.42;	author martynas;	state Exp;
branches;
next	1.114;

1.114
date	2008.06.01.14.56.06;	author ajacoutot;	state Exp;
branches;
next	1.113;

1.113
date	2008.05.06.18.53.01;	author steven;	state Exp;
branches;
next	1.112;

1.112
date	2008.04.01.11.36.24;	author jasper;	state Exp;
branches;
next	1.111;

1.111
date	2008.04.01.11.34.16;	author jasper;	state Exp;
branches;
next	1.110;

1.110
date	2008.01.04.18.38.52;	author espie;	state Exp;
branches;
next	1.109;

1.109
date	2007.10.08.08.22.43;	author steven;	state Exp;
branches;
next	1.108;

1.108
date	2007.09.15.20.59.38;	author merdely;	state Exp;
branches;
next	1.107;

1.107
date	2007.09.10.17.21.05;	author steven;	state Exp;
branches;
next	1.106;

1.106
date	2007.07.05.16.05.09;	author steven;	state Exp;
branches;
next	1.105;

1.105
date	2007.05.03.06.37.19;	author steven;	state Exp;
branches;
next	1.104;

1.104
date	2007.04.23.15.34.04;	author steven;	state Exp;
branches;
next	1.103;

1.103
date	2006.11.25.08.14.06;	author steven;	state Exp;
branches;
next	1.102;

1.102
date	2006.10.30.11.01.58;	author bernd;	state Exp;
branches;
next	1.101;

1.101
date	2006.08.03.23.55.11;	author espie;	state Exp;
branches;
next	1.100;

1.100
date	2006.06.18.13.48.19;	author steven;	state Exp;
branches;
next	1.99;

1.99
date	2006.06.17.17.04.15;	author alek;	state Exp;
branches;
next	1.98;

1.98
date	2006.06.13.17.31.29;	author alek;	state Exp;
branches;
next	1.97;

1.97
date	2006.06.11.18.24.11;	author steven;	state Exp;
branches;
next	1.96;

1.96
date	2006.05.12.16.08.36;	author steven;	state Exp;
branches;
next	1.95;

1.95
date	2006.03.20.13.36.54;	author steven;	state Exp;
branches;
next	1.94;

1.94
date	2006.02.03.14.14.36;	author bernd;	state Exp;
branches;
next	1.93;

1.93
date	2006.01.07.10.17.12;	author steven;	state Exp;
branches;
next	1.92;

1.92
date	2005.12.25.16.33.47;	author steven;	state Exp;
branches;
next	1.91;

1.91
date	2005.09.04.23.38.18;	author espie;	state Exp;
branches;
next	1.90;

1.90
date	2005.05.01.11.39.14;	author espie;	state Exp;
branches;
next	1.89;

1.89
date	2005.04.26.21.05.56;	author espie;	state Exp;
branches;
next	1.88;

1.88
date	2005.04.26.09.43.04;	author espie;	state Exp;
branches;
next	1.87;

1.87
date	2005.04.25.16.55.05;	author espie;	state Exp;
branches;
next	1.86;

1.86
date	2005.04.25.16.43.30;	author espie;	state Exp;
branches;
next	1.85;

1.85
date	2004.12.07.00.23.22;	author alek;	state Exp;
branches;
next	1.84;

1.84
date	2004.11.11.20.55.28;	author espie;	state Exp;
branches;
next	1.83;

1.83
date	2004.11.11.15.03.50;	author naddy;	state Exp;
branches;
next	1.82;

1.82
date	2004.11.10.12.58.29;	author naddy;	state Exp;
branches;
next	1.81;

1.81
date	2004.10.22.22.05.50;	author naddy;	state Exp;
branches;
next	1.80;

1.80
date	2004.10.02.17.57.31;	author naddy;	state Exp;
branches;
next	1.79;

1.79
date	2004.08.10.08.46.49;	author xsa;	state Exp;
branches;
next	1.78;

1.78
date	2004.07.12.02.08.16;	author kevlo;	state Exp;
branches;
next	1.77;

1.77
date	2004.06.15.06.17.01;	author kevlo;	state Exp;
branches;
next	1.76;

1.76
date	2004.04.21.04.42.26;	author robert;	state Exp;
branches;
next	1.75;

1.75
date	2004.04.06.06.50.30;	author kevlo;	state Exp;
branches;
next	1.74;

1.74
date	2004.02.06.04.44.12;	author kevlo;	state Exp;
branches;
next	1.73;

1.73
date	2003.12.30.05.47.40;	author kevlo;	state Exp;
branches;
next	1.72;

1.72
date	2003.12.14.02.10.33;	author naddy;	state Exp;
branches;
next	1.71;

1.71
date	2003.12.13.12.55.44;	author kevlo;	state Exp;
branches;
next	1.70;

1.70
date	2003.11.27.19.28.21;	author sturm;	state Exp;
branches;
next	1.69;

1.69
date	2003.11.17.05.25.10;	author kevlo;	state Exp;
branches;
next	1.68;

1.68
date	2003.11.15.15.12.53;	author sturm;	state Exp;
branches;
next	1.67;

1.67
date	2003.08.26.16.33.11;	author marcm;	state Exp;
branches
	1.67.2.1;
next	1.66;

1.66
date	2003.08.20.00.03.36;	author espie;	state Exp;
branches;
next	1.65;

1.65
date	2003.08.15.02.40.13;	author kevlo;	state Exp;
branches;
next	1.64;

1.64
date	2003.07.24.21.45.12;	author naddy;	state Exp;
branches;
next	1.63;

1.63
date	2003.06.17.03.40.03;	author marcm;	state Exp;
branches;
next	1.62;

1.62
date	2003.06.13.21.51.09;	author marcm;	state Exp;
branches;
next	1.61;

1.61
date	2003.05.23.05.42.30;	author kevlo;	state Exp;
branches;
next	1.60;

1.60
date	2003.01.14.06.34.16;	author kevlo;	state Exp;
branches;
next	1.59;

1.59
date	2003.01.02.16.55.28;	author marcm;	state Exp;
branches;
next	1.58;

1.58
date	2002.12.02.12.23.46;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2002.12.02.00.46.46;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2002.12.01.17.53.51;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2002.11.30.13.03.31;	author kevlo;	state Exp;
branches;
next	1.54;

1.54
date	2002.10.22.06.09.28;	author kevlo;	state Exp;
branches;
next	1.53;

1.53
date	2002.09.13.10.10.47;	author kevlo;	state Exp;
branches;
next	1.52;

1.52
date	2002.07.11.03.44.34;	author kevlo;	state Exp;
branches;
next	1.51;

1.51
date	2002.06.09.05.37.15;	author wilfried;	state Exp;
branches;
next	1.50;

1.50
date	2002.05.29.05.24.09;	author kevlo;	state Exp;
branches;
next	1.49;

1.49
date	2002.05.14.12.07.10;	author naddy;	state Exp;
branches;
next	1.48;

1.48
date	2002.05.08.01.40.39;	author kevlo;	state Exp;
branches;
next	1.47;

1.47
date	2002.04.24.04.58.07;	author kevlo;	state Exp;
branches;
next	1.46;

1.46
date	2002.04.19.04.52.03;	author kevlo;	state Exp;
branches;
next	1.45;

1.45
date	2002.03.26.16.05.36;	author kevlo;	state Exp;
branches;
next	1.44;

1.44
date	2002.03.22.17.13.16;	author brad;	state Exp;
branches;
next	1.43;

1.43
date	2002.03.21.15.05.49;	author kevlo;	state Exp;
branches;
next	1.42;

1.42
date	2002.03.19.07.42.42;	author kevlo;	state Exp;
branches;
next	1.41;

1.41
date	2002.03.12.15.47.13;	author kevlo;	state Exp;
branches;
next	1.40;

1.40
date	2002.02.21.03.09.19;	author kevlo;	state Exp;
branches;
next	1.39;

1.39
date	2002.02.19.06.44.51;	author kevlo;	state Exp;
branches;
next	1.38;

1.38
date	2002.01.21.07.47.29;	author kevlo;	state Exp;
branches;
next	1.37;

1.37
date	2001.12.31.12.16.07;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2001.11.07.01.44.14;	author kevlo;	state Exp;
branches;
next	1.35;

1.35
date	2001.11.06.08.57.44;	author shell;	state Exp;
branches;
next	1.34;

1.34
date	2001.11.06.08.40.52;	author kevlo;	state Exp;
branches;
next	1.33;

1.33
date	2001.11.01.01.30.17;	author kevlo;	state Exp;
branches;
next	1.32;

1.32
date	2001.10.25.06.09.48;	author kevlo;	state Exp;
branches;
next	1.31;

1.31
date	2001.09.24.02.01.57;	author kevlo;	state Exp;
branches;
next	1.30;

1.30
date	2001.09.21.05.53.53;	author kevlo;	state Exp;
branches;
next	1.29;

1.29
date	2001.08.29.05.13.51;	author kevlo;	state Exp;
branches;
next	1.28;

1.28
date	2001.08.18.03.46.11;	author kevlo;	state Exp;
branches;
next	1.27;

1.27
date	2001.07.19.10.22.28;	author kevlo;	state Exp;
branches;
next	1.26;

1.26
date	2001.07.07.07.58.56;	author kevlo;	state Exp;
branches;
next	1.25;

1.25
date	2001.06.30.03.32.55;	author kevlo;	state Exp;
branches;
next	1.24;

1.24
date	2001.06.20.09.49.15;	author kevlo;	state Exp;
branches;
next	1.23;

1.23
date	2001.06.20.01.31.49;	author kevlo;	state Exp;
branches;
next	1.22;

1.22
date	2001.06.19.04.43.37;	author kevlo;	state Exp;
branches;
next	1.21;

1.21
date	2001.05.20.13.00.25;	author kevlo;	state Exp;
branches;
next	1.20;

1.20
date	2001.05.07.03.08.18;	author kevlo;	state Exp;
branches;
next	1.19;

1.19
date	2001.04.16.03.40.41;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2001.03.26.03.00.39;	author kevlo;	state Exp;
branches;
next	1.17;

1.17
date	2001.03.18.10.48.48;	author kevlo;	state Exp;
branches;
next	1.16;

1.16
date	2001.03.04.14.41.23;	author kevlo;	state Exp;
branches;
next	1.15;

1.15
date	2001.01.09.14.49.31;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2000.12.10.14.40.07;	author kevlo;	state Exp;
branches;
next	1.13;

1.13
date	2000.10.22.14.03.51;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.10.03.17.29.46;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2000.09.29.18.44.29;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2000.09.29.18.34.52;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2000.08.08.18.55.00;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2000.05.30.19.02.21;	author fgsch;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.09.17.38.29;	author espie;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2000.03.24.22.12.02;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2000.02.15.05.05.21;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.12.08.02.32;	author turan;	state Exp;
branches;
next	1.3;

1.3
date	99.12.10.21.56.28;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.10.09.17.46.05;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.03.14.16.06.54;	author rohee;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.03.14.16.06.54;	author rohee;	state Exp;
branches;
next	;

1.7.2.1
date	2000.09.15.05.20.00;	author marc;	state Exp;
branches;
next	;

1.67.2.1
date	2004.07.21.19.25.38;	author brad;	state Exp;
branches;
next	;

1.118.2.1
date	2009.09.26.23.46.01;	author william;	state Exp;
branches;
next	;

1.120.2.1
date	2009.10.26.03.53.53;	author william;	state Exp;
branches;
next	;

1.124.4.1
date	2010.12.28.10.53.13;	author jasper;	state Exp;
branches;
next	;

1.134.2.1
date	2011.06.01.17.40.39;	author gsoares;	state Exp;
branches;
next	;

1.137.2.1
date	2011.10.30.12.35.24;	author jasper;	state Exp;
branches;
next	1.137.2.2;

1.137.2.2
date	2012.01.23.10.19.14;	author ajacoutot;	state Exp;
branches;
next	1.137.2.3;

1.137.2.3
date	2012.02.27.20.16.40;	author sthen;	state Exp;
branches;
next	;

1.141.2.1
date	2012.05.18.13.27.23;	author jasper;	state Exp;
branches;
next	;

1.151.2.1
date	2014.05.12.07.48.43;	author jasper;	state Exp;
branches;
next	1.151.2.2;

1.151.2.2
date	2014.10.16.17.53.56;	author jasper;	state Exp;
branches;
next	;
commitid	wxk3t7cRL2VcfO9d;

1.154.2.1
date	2014.10.16.17.53.42;	author jasper;	state Exp;
branches;
next	;
commitid	GAekzIywPviDbYhS;

1.157.2.1
date	2015.07.01.11.31.32;	author ajacoutot;	state Exp;
branches;
next	;
commitid	Ks9tTZixpYeIY5rQ;

1.158.4.1
date	2015.10.23.14.22.13;	author jasper;	state Exp;
branches;
next	1.158.4.2;
commitid	KfZP4sdWyzDucNOQ;

1.158.4.2
date	2015.11.05.14.34.55;	author jasper;	state Exp;
branches;
next	1.158.4.3;
commitid	qWgtWFEgDZy7ZZu3;

1.158.4.3
date	2015.11.21.08.30.39;	author ajacoutot;	state Exp;
branches;
next	1.158.4.4;
commitid	qHr57rpbtMfO1xw3;

1.158.4.4
date	2015.11.25.15.27.19;	author jasper;	state Exp;
branches;
next	1.158.4.5;
commitid	8gUNIgisjcLjIBVe;

1.158.4.5
date	2015.11.25.15.33.54;	author jasper;	state Exp;
branches;
next	1.158.4.6;
commitid	7rhLjyzO6cKmunFz;

1.158.4.6
date	2016.01.07.10.45.04;	author jasper;	state Exp;
branches;
next	1.158.4.7;
commitid	P2pnXz0zNqX2v3I8;

1.158.4.7
date	2016.02.04.21.17.26;	author jasper;	state Exp;
branches;
next	;
commitid	HQcDFgPX3lv0ehQK;

1.166.2.1
date	2017.01.10.10.45.01;	author robert;	state Exp;
branches;
next	;
commitid	8SozWfxVaIiiBqqh;

1.168.2.1
date	2017.06.03.10.49.07;	author pirofti;	state Exp;
branches;
next	;
commitid	afoZeycaVM1iq8sU;


desc
@@


1.171
log
@update to libxml-2.9.5

tested in a bulk by, and ok aja@@
@
text
@# $OpenBSD: Makefile,v 1.170 2017/07/14 18:12:05 bluhm Exp $

COMMENT-main=		XML parsing library
COMMENT-python=		Python bindings for libxml

VERSION=		2.9.5
DISTNAME=		libxml2-${VERSION}
PKGNAME-main=		libxml-${VERSION}
PKGNAME-python=		py-libxml-${VERSION}
SHARED_LIBS +=	xml2                 15.2     # 11.4
CATEGORIES=		textproc
MASTER_SITES=		http://gd.tuwien.ac.at/pub/libxml/ \
			ftp://xmlsoft.org/libxml/

HOMEPAGE=		http://xmlsoft.org/

# BSD-like
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		iconv lzma m z

LIB_DEPENDS=		archivers/xz \
			converters/libiconv

CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.69
CONFIGURE_ARGS+=	--enable-static \
			--with-html-dir="${PREFIX}/share/doc" \
			--with-html-subdir="libxml2/html" \
			--with-iconv="${LOCALBASE}" \
			--with-lzma="${LOCALBASE}" \
			--without-threads
# only used to fetch data during regression test
CONFIGURE_ENV=		WGET=/usr/bin/ftp

PSEUDO_FLAVORS=		no_python
FLAVOR?=

MULTI_PACKAGES=		-main -python

WANTLIB-main=		${WANTLIB} c pthread
RUN_DEPENDS-main=

.include <bsd.port.arch.mk>

.if ${BUILD_PACKAGES:M-python}
MODULES+=		lang/python
LIB_DEPENDS-python=	textproc/libxml,-main=${VERSION} \
			${MODPY_LIB_DEPENDS} \
			converters/libiconv
WANTLIB-python=		${WANTLIB} ${MODPY_WANTLIB} \
			pthread util xml2>=11
FAKE_FLAGS=		exampledir=${PREFIX}/share/examples/libxml2
CONFIGURE_ARGS+=	--with-python
.else
CONFIGURE_ARGS+=	--without-python
.endif

TEST_DEPENDS=		devel/gmake

post-configure:
	sed -e 's,@@PREFIX@@,${PREFIX},' <${FILESDIR}/rebuild >${WRKBUILD}/rebuild

post-install:
	${INSTALL_SCRIPT_DIR} ${PREFIX}/share/libxml2
	${INSTALL_SCRIPT} ${WRKBUILD}/rebuild ${PREFIX}/share/libxml2/
.if ${BUILD_PACKAGES:M-python}
	${MODPY_BIN} ${MODPY_LIBDIR}/compileall.py ${WRKINST}${MODPY_SITEPKG}
.endif

do-test:
	@@cd ${WRKBUILD} && exec ${SETENV} ${MAKE_ENV} ${GMAKE} \
		${ALL_TEST_FLAGS} -f ${MAKE_FILE} ${TEST_TARGET}

.include <bsd.port.mk>
@


1.170
log
@Fix libxml2 CVE-2017-7375, CVE-2017-7376, CVE-2017-9663.
From Matthias Pitzl; OK danj@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.169 2017/06/03 09:40:42 pirofti Exp $
d6 1
a6 2
VERSION=		2.9.4
REVISION-main=		2
@


1.169
log
@Security update for textproc/libxml

Patches for CVE-2017-9047, CVE-2017-9048, CVE-2017-9049, CVE-2017-9050.
From Matthias Pitzl, thanks!

OK ajacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.168 2016/12/30 15:54:57 bluhm Exp $
d7 1
a7 1
REVISION-main=		1
@


1.168
log
@Apply patches for CVE-2016-4658 and CVE-2016-5131 to libxml 2.9.4.
From Simon Mages; OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.167 2016/09/01 21:56:59 jasper Exp $
d7 1
a7 1
REVISION-main=		0
@


1.168.2.1
log
@Backport recent textproc/libxml security fixes.

Patches CVE-2017-9047, CVE-2017-9048, CVE-2017-9049 and CVE-2017-9050.
From Matthias Pitzl, thanks!

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.168 2016/12/30 15:54:57 bluhm Exp $
d7 1
a7 1
REVISION-main=		1
@


1.167
log
@- update to libxml-2.9.4

tested in a bulk by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.166 2016/04/26 21:33:41 naddy Exp $
d7 1
@


1.166
log
@remove forgotten MODICONV_ variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.165 2016/04/06 19:37:24 naddy Exp $
d6 1
a6 1
VERSION=		2.9.3
d10 1
a10 2
REVISION-python=	0
SHARED_LIBS +=	xml2                 15.1     # 11.2
@


1.166.2.1
log
@backports patches for CVE-2016-4658 and CVE-2016-5131
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.166 2016/04/26 21:33:41 naddy Exp $
a8 1
REVISION-main=		0
@


1.165
log
@replace libiconv module with library dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.164 2016/03/12 17:22:07 naddy Exp $
d52 1
a52 1
WANTLIB-python=		${WANTLIB} ${MODPY_WANTLIB} ${MODLIBICONV_WANTLIB} \
@


1.164
log
@get rid of NO_SHARED_ARCHS and PFRAG.shared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.163 2016/03/11 20:28:32 naddy Exp $
d21 1
a21 1
WANTLIB=		lzma m z
d23 2
a24 2
MODULES=		converters/libiconv
LIB_DEPENDS=		archivers/xz
d51 1
a51 1
			${MODLIBICONV_LIB_DEPENDS}
@


1.163
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.162 2015/11/22 08:06:36 ajacoutot Exp $
d10 1
a43 1
NOT_FOR_ARCHS-python =	${NO_SHARED_ARCHS}
@


1.162
log
@Update to libxml-2.9.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.161 2015/11/21 08:46:43 ajacoutot Exp $
d27 1
a27 2
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--enable-static \
@


1.161
log
@SECURITY: merge all recent CVEs from upstream
CVE-2015-8242 Buffer overead with HTML parser in push mode
CVE-2015-7500 Fix memory access error due to incorrect entities boundaries
CVE-2015-7499-2 Detect incoherency on GROW
CVE-2015-7499-1 Add xmlHaltParser() to stop the parser
CVE-2015-5312 Another entity expansion issue
CVE-2015-7497 Avoid an heap buffer overflow in xmlDictComputeFastQKey
CVE-2015-7498 Avoid processing entities after encoding conversion failures
CVE-2015-8035 Fix XZ compression support loop
CVE-2015-7942-2 Fix an error in previous Conditional section patch
CVE-2015-7942 Another variation of overflow in Conditional sections
CVE-2015-1819 Enforce the reader to run in constant memory
CVE-2015-7941_2 Cleanup conditional section error handling
CVE-2015-7941_1 Stop parsing on entities boundaries errors

Note that there's a new libxml release out, but it's in a bulk currently...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158.4.3 2015/11/21 08:30:39 ajacoutot Exp $
d6 1
a6 1
VERSION=		2.9.2
a16 25
REVISION-main=		4
REVISION-python=	0

MASTER_SITES0=		https://git.gnome.org/browse/libxml2/patch/?id=
PATCH_DIST_STRIP=	-p1
DIST_SUBDIR=		libxml2
CVE_TAGS=		51f02b0a03ea1fa6c65b3f9fd88cf60fb5803783 \
			f65128f38289d77ff322d63aef2858cc0a819c34 \
			a7dfab7411cbf545f359dd3157e5df1eb0e7ce31 \
			9b8512337d14c8ddf662fcb98b0135f225a1c489 \
			213f1fe0d76d30eaed6e5853057defc43e6df2c9 \
			bd0526e66a56e75a18da8c15c4750db8f801c52d \
			41ac9049a27f52e7a1f3b341f8714149fc88d450 \
			f0709e3ca8f8947f2d91ed34e92e38a4c23eae63 \
			afd27c21f6b36e22682b7da20d726bce2dcb2f43 \
			6360a31a84efe69d155ed96306b9a931a40beab9 \
			69030714cde66d525a8884bda01b9e8f0abf8e1e \
			28cd9cb747a94483f4aea7f0968d202c20bb4cfc \
			35bcb1d758ed70aa7b257c9c3b3ff55e54e3d0da \
			f1063fdbe7fa66332bbb76874101c2a7b51b519f \
			8fb4a770075628d6441fb17a1e435100e2f3b1a2
.for p in ${CVE_TAGS}
PATCHFILES +=		${p}:0
.endfor

d31 2
a32 1
			--with-iconv="${DEPBASE}" \
@


1.160
log
@Security fix for CVE-2015-8035 and improve the fix for CVE-2015-7941 (from upstream)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.159 2015/10/23 14:21:16 jasper Exp $
d17 1
a17 1
REVISION-main=		3
d19 22
@


1.159
log
@Security fixes for CVE-2015-7941 and CVE-2015-7942
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2015/07/01 11:26:55 ajacoutot Exp $
d17 1
a17 1
REVISION-main=		2
@


1.158
log
@SECURITY fix for CVE-2015-1819:
- Enforce the reader to run in constant memory

reminded by kwm@@FreeBSD.org
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2014/10/18 08:56:21 jasper Exp $
d17 1
a17 1
REVISION-main=		1
@


1.158.4.1
log
@Security fixes for CVE-2015-7941 and CVE-2015-7942
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2015/07/01 11:26:55 ajacoutot Exp $
d17 1
a17 1
REVISION-main=		2
@


1.158.4.2
log
@Security fix for CVE-2015-8035 and improve the fix for CVE-2015-7941 (from upstream)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158.4.1 2015/10/23 14:22:13 jasper Exp $
d17 1
a17 1
REVISION-main=		3
@


1.158.4.3
log
@Merge all recent CVEs from upstream:
CVE-2015-8242 Buffer overead with HTML parser in push mode
CVE-2015-7500 Fix memory access error due to incorrect entities boundaries
CVE-2015-7499-2 Detect incoherency on GROW
CVE-2015-7499-1 Add xmlHaltParser() to stop the parser
CVE-2015-5312 Another entity expansion issue
CVE-2015-7497 Avoid an heap buffer overflow in xmlDictComputeFastQKey
CVE-2015-7498 Avoid processing entities after encoding conversion failures
CVE-2015-8035 Fix XZ compression support loop
CVE-2015-7942-2 Fix an error in previous Conditional section patch
CVE-2015-7942 Another variation of overflow in Conditional sections
CVE-2015-1819 Enforce the reader to run in constant memory
CVE-2015-7941_2 Cleanup conditional section error handling
CVE-2015-7941_1 Stop parsing on entities boundaries errors
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.160 2015/11/05 14:24:12 jasper Exp $
d17 1
a17 1
REVISION-main=		4
a18 22

MASTER_SITES0=		https://git.gnome.org/browse/libxml2/patch/?id=
PATCH_DIST_STRIP=	-p1
DIST_SUBDIR=		libxml2
CVE_TAGS=		51f02b0a03ea1fa6c65b3f9fd88cf60fb5803783 \
			f65128f38289d77ff322d63aef2858cc0a819c34 \
			a7dfab7411cbf545f359dd3157e5df1eb0e7ce31 \
			9b8512337d14c8ddf662fcb98b0135f225a1c489 \
			213f1fe0d76d30eaed6e5853057defc43e6df2c9 \
			bd0526e66a56e75a18da8c15c4750db8f801c52d \
			41ac9049a27f52e7a1f3b341f8714149fc88d450 \
			f0709e3ca8f8947f2d91ed34e92e38a4c23eae63 \
			afd27c21f6b36e22682b7da20d726bce2dcb2f43 \
			6360a31a84efe69d155ed96306b9a931a40beab9 \
			69030714cde66d525a8884bda01b9e8f0abf8e1e \
			28cd9cb747a94483f4aea7f0968d202c20bb4cfc \
			35bcb1d758ed70aa7b257c9c3b3ff55e54e3d0da \
			f1063fdbe7fa66332bbb76874101c2a7b51b519f \
			8fb4a770075628d6441fb17a1e435100e2f3b1a2
.for p in ${CVE_TAGS}
PATCHFILES +=		${p}:0
.endfor
@


1.158.4.4
log
@security fix for CVE-2015-8241
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158.4.3 2015/11/21 08:30:39 ajacoutot Exp $
d17 1
a17 1
REVISION-main=		5
d37 1
a37 2
			8fb4a770075628d6441fb17a1e435100e2f3b1a2 \
			ab2b9a93ff19cedde7befbf2fcc48c6e352b6cbe
@


1.158.4.5
log
@security fix for CVE-2015-8317
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158.4.4 2015/11/25 15:27:19 jasper Exp $
d17 1
a17 1
REVISION-main=		6
d38 1
a38 2
			ab2b9a93ff19cedde7befbf2fcc48c6e352b6cbe \
			9aa37588ee78a06ca1379a9d9356eab16686099c
@


1.158.4.6
log
@Security fix for CVE-2015-8710
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158.4.5 2015/11/25 15:33:54 jasper Exp $
d17 1
a17 1
REVISION-main=		7
d39 1
a39 2
			9aa37588ee78a06ca1379a9d9356eab16686099c \
			e724879d964d774df9b7969fc846605aa1bac54c
@


1.158.4.7
log
@The patches that we fetch from upstream git have a "cgit+version" in the footer.
However upstream recently updated their cgit so the footer changed from
"cgit v0.11.2" to "cgit v0.12" which caused a checksum mismatch.

Mirror the patches elsewhere instead of playing catch-up whenever there's a
new cgit release.

checksum mismatch noticed by sven falempin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158.4.6 2016/01/07 10:45:04 jasper Exp $
d20 1
a20 1
MASTER_SITES0=		https://distfiles.nl/libxml2/
@


1.157
log
@backport fix from upstream to unbreak the xmlcatalog command

ptd out by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2014/10/17 13:24:59 jasper Exp $
d17 2
a18 1
REVISION=		0
d44 1
a44 1
WANTLIB-main=		${WANTLIB} c
@


1.157.2.1
log
@SECURITY fix for CVE-2015-1819:
- Enforce the reader to run in constant memory
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2014/10/18 08:56:21 jasper Exp $
d17 1
a17 2
REVISION-main=		1
REVISION-python=	0
@


1.156
log
@- update to libxml 2.9.2
* mostly bugfixes and two security fixes (booth were applied already)

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2014/10/16 17:53:25 jasper Exp $
d16 2
@


1.155
log
@security fix for CVE-2014-3660, more billion laugh entity expansion fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2014/05/29 13:40:51 sthen Exp $
d6 1
a6 1
VERSION=		2.9.1
d10 1
a10 1
SHARED_LIBS +=	xml2                 15.1     # 11.0
a14 2
REVISION=		2

d20 1
a20 1
WANTLIB=		m z
d23 1
d41 1
a41 1
WANTLIB-main=		${WANTLIB} c pthread util
d52 2
a53 1
WANTLIB-python=		pthread m z util xml2>=11 ${MODPY_WANTLIB} ${MODLIBICONV_WANTLIB}
d60 1
a60 1
TEST_DEPENDS=	devel/gmake
@


1.154
log
@In libxml, use arc4random instead of rand_r for hash bucket randomization.
Avoids triggering APIWARN for its many dependencies. ok/tweaks ajacoutot@@ (on
earlier version), jca@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2014/05/12 07:48:35 jasper Exp $
d15 1
a15 1
REVISION=		1
@


1.154.2.1
log
@security fix for CVE-2014-3660, more billion laugh entity expansion fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2014/05/29 13:40:51 sthen Exp $
d15 1
a15 1
REVISION=		2
@


1.153
log
@Security fix for CVE-2014-0191
external parameter entity loaded when entity substitution is disabled

pointed out by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2014/03/09 19:54:45 jasper Exp $
d15 1
a15 1
REVISION=		0
d26 2
a27 1
CONFIGURE_STYLE=	gnu
@


1.152
log
@use correct variable in FAKE_FLAGS, so we can drop a chunk from the patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2013/09/25 12:32:22 jasper Exp $
d15 1
@


1.151
log
@- update libxml to 2.9.1

tested in a bulk by landry@@, thanks!
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.150 2013/04/17 13:55:42 sthen Exp $
d52 1
a52 1
FAKE_FLAGS=		EXAMPLE_DIR=${PREFIX}/share/examples/libxml2/
@


1.151.2.1
log
@Security fix for CVE-2014-0191
external parameter entity loaded when entity substitution is disabled
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2013/09/25 12:32:22 jasper Exp $
a14 1
REVISION=		0
@


1.151.2.2
log
@security fix for CVE-2014-3660, more billion laugh entity expansion fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151.2.1 2014/05/12 07:48:43 jasper Exp $
d15 1
a15 1
REVISION=		1
@


1.150
log
@Backport security fixes from libxml upstream:

https://secunia.com/advisories/53061/
https://bugzilla.gnome.org/show_bug.cgi?id=690202

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2013/04/14 23:22:04 sthen Exp $
d6 1
a6 2
VERSION=		2.9.0
REVISION=		0
d10 1
a10 1
SHARED_LIBS +=	xml2                 15.0     # 11.0
@


1.149
log
@update to libxml 2.9.0, ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2013/03/21 08:48:54 ajacoutot Exp $
d7 1
@


1.148
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2013/03/11 11:42:42 espie Exp $
d6 1
a6 1
VERSION=		2.8.0
d10 1
a10 1
SHARED_LIBS +=	xml2                 14.0     # 10.0
@


1.147
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2012/09/30 12:22:05 jasper Exp $
a24 1
USE_LIBTOOL=		Yes
@


1.146
log
@- update to libxml-2.8.0

tested on amd64, sparc64, mips64el and powerpc.
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2012/08/05 00:16:50 naddy Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d59 1
a59 1
REGRESS_DEPENDS=	devel/gmake
d71 1
a71 1
do-regress:
d73 1
a73 1
		${ALL_REGRESS_FLAGS} -f ${MAKE_FILE} ${REGRESS_TARGET}
@


1.145
log
@no need for groff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2012/05/18 13:25:46 jasper Exp $
d6 1
a6 1
VERSION=		2.7.8
a8 2
REVISION-main =		6
REVISION-python =	3
d10 1
a10 1
SHARED_LIBS=		xml2	13.0
d12 1
a12 2
MASTER_SITES=		http://fr.rpmfind.net/pub/libxml/ \
			http://gd.tuwien.ac.at/pub/libxml/ \
d15 2
a16 1
HOMEPAGE=		http://xmlsoft.org/ 
d29 7
a35 7
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.68 # should be 2.66
CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
CONFIGURE_ARGS+=	--enable-static
CONFIGURE_ARGS+=	--with-html-dir="${PREFIX}/share/doc"
CONFIGURE_ARGS+=	--with-html-subdir="libxml2/html"
CONFIGURE_ARGS+=	--with-iconv="${DEPBASE}"
d44 1
a44 1
WANTLIB-main=		${WANTLIB} c
d52 1
a52 1
LIB_DEPENDS-python=	textproc/libxml,-main \
d55 1
a55 1
WANTLIB-python=		m z util xml2>=11 ${MODPY_WANTLIB} ${MODLIBICONV_WANTLIB}
a61 2

CONFIGURE_ARGS+=	--without-threads
@


1.144
log
@Security fix for SA49177,
Libxml2 "xmlXPtrEvalXPtrPart()" Off-By-One Vulnerability

Patch from upstream git

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2012/02/23 12:37:46 sthen Exp $
a30 1
USE_GROFF =		Yes
@


1.143
log
@missed REVISION bump; pointed out by pascal@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2012/02/23 09:39:00 sthen Exp $
d9 1
a9 1
REVISION =		5
@


1.142
log
@apply a fix for CVE-2012-0841 to libxml.  ok ajacoutot@@

"certain XML parsers/servers are affected by the same, or similar,
flaw as the hash table collisions CPU usage denial of service.
Sending a specially crafted message to an XML service can result
in longer processing time, which could lead to a denial of service.
It is reported that this attack on XML can be applied on different
XML nodes (such as entities, element attributes, namespaces, various
elements in the XML security, etc.)."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2012/01/23 10:17:49 ajacoutot Exp $
d9 1
a9 1
REVISION =		4
@


1.141
log
@Bring some patches from upstream repo to fix the following CVE:
CVE-2011-0216 - Off-by-one error
CVE-2011-2821 - Double free vulnerability
CVE-2011-2834 - Double free vulnerability
CVE-2011-3905 - DOS (out-of-bounds read) via unspecified vectors
CVE-2011-3919 - Heap-based buffer overflow

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2011/10/30 12:35:16 jasper Exp $
d12 1
a12 1
SHARED_LIBS=		xml2	12.0
d26 1
a26 1
WANTLIB=		m z 
d32 2
a33 1
CONFIGURE_STYLE=	gnu
@


1.141.2.1
log
@Security fix for SA49177,
Libxml2 "xmlXPtrEvalXPtrPart()" Off-By-One Vulnerability

Patch from upstream git

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2012/01/23 10:17:49 ajacoutot Exp $
d9 1
a9 1
REVISION-main =		5
@


1.140
log
@Security fix for CVE-2011-2821 and CVE-2011-2834,
Libxml2 Two XSLT Double Free Vulnerabilities

Patches from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2011/10/02 08:18:04 espie Exp $
d9 1
a9 1
REVISION =		3
@


1.139
log
@use bsd.port.arch.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2011/09/16 11:41:41 espie Exp $
d9 1
a9 1
REVISION =		2
@


1.138
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2011/06/08 18:09:58 jasper Exp $
d44 1
a44 1
MULTI_PACKAGES=		-main
d48 1
d50 3
a52 2
.if !${FLAVOR:L:Mno_python}
MULTI_PACKAGES+=	-python
d59 3
d64 1
d74 1
a74 1
.if !${FLAVOR:Mno_python}
a82 6

.if ${FLAVOR:L:Mno_python} || ${NO_SHARED_LIBS:L} == "yes"
CONFIGURE_ARGS+=	--without-python
.else
CONFIGURE_ARGS+=	--with-python
.endif
@


1.137
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2011/06/03 10:12:15 sthen Exp $
d10 1
a10 1
REVISION-python =	2
@


1.137.2.1
log
@Security fix for CVE-2011-2821 and CVE-2011-2834,
Libxml2 Two XSLT Double Free Vulnerabilities

Patches from upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2011/06/08 18:09:58 jasper Exp $
d9 1
a9 1
REVISION =		3
@


1.137.2.2
log
@Bring some patches from upstream repo to fix the following CVE:
CVE-2011-0216 - Off-by-one error
CVE-2011-2821 - Double free vulnerability
CVE-2011-2834 - Double free vulnerability
CVE-2011-3905 - DOS (out-of-bounds read) via unspecified vectors
CVE-2011-3919 - Heap-based buffer overflow

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137.2.1 2011/10/30 12:35:24 jasper Exp $
d9 1
a9 1
REVISION =		4
@


1.137.2.3
log
@MFC fix for CVE-2012-0841 to libxml.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137.2.2 2012/01/23 10:19:14 ajacoutot Exp $
d9 2
a10 2
REVISION =		5
REVISION-python =	3
d26 1
a26 1
WANTLIB=		m z
d32 1
a32 2
CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.68 # should be 2.66
@


1.136
log
@add http MASTER_SITES, remove MASTER_SITE_GNOME as they only have 2.6 releases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2011/06/01 17:31:21 gsoares Exp $
d10 1
a10 1
REVISION-python =	1
@


1.135
log
@Security Fix for SA44711, Libxml2 XPath Nodeset Processing Vulnerability.

OK sthen@@, "Yep, please go ahead" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2010/12/28 10:53:02 jasper Exp $
d14 3
a16 2
MASTER_SITES=		ftp://xmlsoft.org/libxml/ \
			${MASTER_SITE_GNOME:=sources/libxml2/2.7/}
@


1.134
log
@Security fix for CVE-2010-4494,
Libxml2 XPath Double Free Vulnerability

Patch from upstream git.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2010/11/21 12:25:49 espie Exp $
d9 2
a10 2
REVISION =		1
REVISION-python =	0
@


1.134.2.1
log
@Security Fix for SA44711, Libxml2 XPath Nodeset Processing Vulnerability.

OK sthen@@, "Yep, please go ahead" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2010/12/28 10:53:02 jasper Exp $
d9 2
a10 2
REVISION =		2
REVISION-python =	1
@


1.133
log
@I don't know if the removal of versioning was intentional, but this is
definitely NOT the same library.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2010/11/20 19:56:49 espie Exp $
d9 2
a10 1
REVISION =		0
@


1.132
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2010/11/15 09:54:11 jasper Exp $
d9 1
d11 1
a11 1
SHARED_LIBS=		xml2	11.0
@


1.131
log
@- bugfix update of libxml to 2.7.8

ok aja@@, landry@@ (who also tested it in a bulk, thanks)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2010/11/10 22:44:03 jasper Exp $
d28 1
a28 1
USE_GROFF =	Yes
d49 1
a49 1
LIB_DEPENDS-python=	::textproc/libxml,-main \
d52 1
a52 1
WANTLIB-python=		m z util xml2.>=11 ${MODPY_WANTLIB} ${MODLIBICONV_WANTLIB}
d57 1
a57 1
REGRESS_DEPENDS=	::devel/gmake
@


1.130
log
@- some WANTLIB/LIB_DEPENDS/REVISION cleaning
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2010/11/06 10:18:38 espie Exp $
d6 1
a6 1
VERSION=		2.7.6
a9 2
REVISION-main=		1
REVISION-python=	1
@


1.129
log
@convert libiconv to new wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2010/10/24 15:53:55 sthen Exp $
d10 2
a11 2
REVISION-main=		0
REVISION-python=	0
d51 1
a51 1
LIB_DEPENDS-python=	xml2.>=11::textproc/libxml,-main \
d54 1
a54 1
WANTLIB-python=		m z util ${MODPY_WANTLIB} ${MODLIBICONV_WANTLIB}
@


1.128
log
@Add MODPY_WANTLIB, adjust MODPY_LIB_DEPENDS to new-style LIB_DEPENDS,
update all ports to match. Plists don't change -> no bump.
Looks ok to jasper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2010/10/19 07:54:22 espie Exp $
d54 1
a54 1
WANTLIB-python=		m z util ${MODPY_WANTLIB}
@


1.127
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2010/08/31 14:35:25 jasper Exp $
d54 1
a54 1
WANTLIB-python=		m z util
@


1.126
log
@- missed these while bumping.

spotted by markus lude.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2010/08/30 21:47:15 jasper Exp $
d30 1
@


1.125
log
@Might as well bump. Bump!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2010/01/04 14:13:51 jasper Exp $
d10 1
@


1.124
log
@- previous didn't work out. so python ought to be fixed instead..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2010/01/03 22:39:08 jasper Exp $
d10 1
@


1.124.4.1
log
@Security fix for CVE-2010-4494,
Libxml2 XPath Double Free Vulnerability

Patch from upstream git.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2010/01/04 14:13:51 jasper Exp $
a9 2
REVISION-main=		0
REVISION-python=	0
@


1.123
log
@- let libxml build on mips64 too.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2009/10/11 10:39:42 steven Exp $
a43 6

# XXX: python* don't build on mips64 for now, so don't try to build
# the python part of libxml untill python is fixed.
.if ${MACHINE_ARCH} == "mips64"
FLAVOR=no_python
.endif
@


1.122
log
@update to 2.7.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2009/08/13 09:29:47 sthen Exp $
d44 6
@


1.121
log
@SECURITY; add a patch to fix CVE-2009-2414 and CVE-2009-2416,
from Daniel Veillard via redhat bug 515195. Add @@bin markers to
PLIST while there.  ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2009/04/26 11:01:05 ajacoutot Exp $
d6 1
a6 1
VERSION=		2.6.32
d8 3
a10 3
PKGNAME-main=		libxml-${VERSION}p3
PKGNAME-python=		py-libxml-${VERSION}p1
SHARED_LIBS=		xml2	10.0
d13 1
a13 1
			${MASTER_SITE_GNOME:=sources/libxml2/2.6/}
d48 2
a49 1
LIB_DEPENDS-python=	xml2.>=9::textproc/libxml,-main \
d51 1
@


1.120
log
@CONFIGURE_ENV += PYTHON="${MODPY_BIN}" is inherited from the python module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2009/03/11 16:14:32 bernd Exp $
d8 1
a8 1
PKGNAME-main=		libxml-${VERSION}p2
@


1.120.2.1
log
@MFC:

SECURITY FIX

Resolves CVE-2009-2414 and CVE-2009-2416,
from Daniel Veillard via redhat bug 515195.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2009/04/26 11:01:05 ajacoutot Exp $
d8 1
a8 1
PKGNAME-main=		libxml-${VERSION}p3
@


1.119
log
@bump for python dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2009/01/04 11:08:01 sthen Exp $
d22 1
a49 1
CONFIGURE_ENV+=		PYTHON=${MODPY_BIN}
@


1.118
log
@bump PKGNAME-python, missed when I bumped PKGNAME-main following
libc/libm changes.  Pointed out by Markus Bergkvist, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2008/11/23 18:49:42 naddy Exp $
d9 1
a9 1
PKGNAME-python=		py-libxml-${VERSION}p0
@


1.118.2.1
log
@MFC:

SECURITY FIX

Resolves CVE-2009-2414 and CVE-2009-2416,
from Daniel Veillard via redhat bug 515195.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2009/01/04 11:08:01 sthen Exp $
d8 2
a9 2
PKGNAME-main=		libxml-${VERSION}p3
PKGNAME-python=		py-libxml-${VERSION}p1
@


1.117
log
@Fix two integer overflows.  CVE-2008-4225, CVE-2008-4226.
ok ajacoutot@@, simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2008/07/25 20:25:59 sthen Exp $
d9 1
a9 1
PKGNAME-python=		py-libxml-${VERSION}
@


1.116
log
@shared library and PKGNAME bumps due to use of isinf/isnan/nan
following libc/libm changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2008/06/20 10:49:42 martynas Exp $
d8 1
a8 1
PKGNAME-main=		libxml-${VERSION}p1
@


1.115
log
@There's a fine utility in base, called ftp.  There's no reason at
all that some of the ports RUN_DEPEND on wget.
"Nice!" naddy@@, who also went even further and made libxml not
BUILD_DEPEND on wget.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2008/06/01 14:56:06 ajacoutot Exp $
d8 1
a8 1
PKGNAME-main=		libxml-${VERSION}p0
d10 1
a10 1
SHARED_LIBS=		xml2	9.8
@


1.114
log
@- install html devhelp files

"looks ok" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2008/05/06 18:53:01 steven Exp $
d33 2
d49 1
a49 1
CONFIGURE_ENV=		PYTHON=${MODPY_BIN}
a53 1
BUILD_DEPENDS+= 	::net/wget
@


1.113
log
@update to 2.6.32
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2008/04/01 11:34:16 jasper Exp $
d8 1
a8 1
PKGNAME-main=		libxml-${VERSION}
d48 1
a48 2
FAKE_FLAGS=		EXAMPLE_DIR=${PREFIX}/share/examples/libxml2/ \
			DEVHELP_DIR=${PREFIX}/share/doc/libxml2/html/devhelp
@


1.112
log
@- add missing BUILD_DEPENDS on wget
  (specifically in a seperate commit of the security fix)

spotted by sthen@@, thanks!
@
text
@d6 1
a6 1
VERSION=		2.6.30
d8 3
a10 3
PKGNAME-main=		libxml-${VERSION}p0
PKGNAME-python=		py-libxml-${VERSION}p1
SHARED_LIBS=		xml2	9.7
@


1.111
log
@SECURITY FIX for http://secunia.com/advisories/28444/
Libxml2 UTF-8 Parsing Denial of Service Vulnerability

Patch taken from upstream author.

testing and ok simon@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2008/01/04 18:38:52 espie Exp $
d53 1
@


1.110
log
@do the same thing with REGRESS_FLAGS as FAKE_FLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2007/10/08 08:22:43 steven Exp $
d8 2
a9 2
PKGNAME-main=		libxml-${VERSION}
PKGNAME-python=		py-libxml-${VERSION}p0
@


1.109
log
@bump PKGNAME after python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2007/09/15 20:59:38 merdely Exp $
d67 1
a67 1
		${REGRESS_FLAGS} -f ${MAKE_FILE} ${REGRESS_TARGET}
@


1.108
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2007/09/10 17:21:05 steven Exp $
d9 1
a9 1
PKGNAME-python=		py-libxml-${VERSION}
@


1.107
log
@update to libxml 2.6.30
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2007/07/05 16:05:09 steven Exp $
d3 2
a4 2
COMMENT-main=		"XML parsing library"
COMMENT-python=		"Python bindings for libxml"
@


1.106
log
@update to libxml 2.6.29

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2007/05/03 06:37:19 steven Exp $
d6 1
a6 1
VERSION=		2.6.29
d10 1
a10 1
SHARED_LIBS=		xml2	9.6
@


1.105
log
@update to libxml 2.6.28
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2007/04/23 15:34:04 steven Exp $
d6 1
a6 1
VERSION=		2.6.28
d10 1
a10 1
SHARED_LIBS=		xml2	9.5
@


1.104
log
@update to libxml 2.6.27

from alek@@ some time ago
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2006/11/25 08:14:06 steven Exp $
d6 1
a6 1
VERSION=		2.6.27
d10 1
a10 1
SHARED_LIBS=		xml2	9.4
@


1.103
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2006/10/30 11:01:58 bernd Exp $
d6 1
a6 1
VERSION=		2.6.26
d8 3
a10 3
PKGNAME-main=		libxml-${VERSION}p0
PKGNAME-python=		py-libxml-${VERSION}p1
SHARED_LIBS=		xml2	9.3
@


1.102
log
@Replace the python PSEUDO_FLAVOR with a no_python PSEUDO_FLAVOR which is
disabled by default. Build a stub py-libxml package on non shared
architectures to avoid building libxml twice during bulk builds.

Don't intall this weird TODO file for py-libxml.

Based on a diff from espie@@.

ok steven@@, espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2006/08/03 23:55:11 espie Exp $
d3 1
a3 1
COMMENT=		"XML parsing library"
d8 2
a9 2
PKGNAME=		libxml-${VERSION}
PKGNAME-python=		py-libxml-${VERSION}p0
d37 1
a37 2
MULTI_PACKAGES=
SUBPACKAGE?=
d39 2
a40 3
.if !defined(PACKAGING) || ${SUBPACKAGE} == ""
WANTLIB+=		c
.endif
a43 1
.  if !defined(PACKAGING) || ${SUBPACKAGE} == "-python"
d45 2
a46 4
.    if defined(PACKAGING)
LIB_DEPENDS=		xml2.>=9::textproc/libxml
.    endif
.  endif
@


1.101
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2006/06/18 13:48:19 steven Exp $
d9 1
a9 1
PKGNAME-python=		py-libxml-${VERSION}
a16 1
#FAKE=			all
d22 1
a22 4
WANTLIB=		c m z 

PSEUDO_FLAVORS=		python
FLAVOR?=
d34 2
a35 2
.if ${FLAVOR:Mpython}
SHARED_ONLY=		Yes
d37 1
a37 1
MULTI_PACKAGES=		-python
d40 7
a46 1
.  if !defined(PACKAGING) || !empty(SUBPACKAGE)
d48 3
a52 2

CONFIGURE_ARGS+=	--with-python
d55 1
a56 7
.  if defined(PACKAGING) && !empty(SUBPACKAGE)
LIB_DEPENDS=		xml2.>=9::textproc/libxml
WANTLIB=		m z
.  endif
.else
CONFIGURE_ARGS+=	--without-python
.endif
a57 1

a59 2
SUBST_VARS=		VERSION

d66 1
a66 1
.if ${FLAVOR:Mpython}
d74 1
a74 15
# XXX let's cheat
#post-configure:
#	@@perl -pi.bak -e \
#		's,${DEPBASE}/include,\$$\{includedir\},g; \
#		 s,${DEPBASE}/lib,\$$\{libdir\},g; \
#		 s,${DEPBASE}/,\$$\{prefix\}/,g;' \
#	    ${WRKBUILD}/libxml-2.0.pc ${WRKBUILD}/xml2-config

#post-install:
#	perl -pi.bak -e \
#		'print ": \$${DEPBASE:=${LOCALBASE}}\n" if m/^dlname/; \
#		 s,dependency_libs='\''(.*)'\'',dependency_libs=\"$$1\",g; \
#		 s,${DEPBASE},\$$\{DEPBASE\},g; \
#		 s,${TRUEPREFIX}(/lib/.*?\.la),\$$\{DEPBASE\}$$1,g;' \
#	    ${PREFIX}/lib/libxml2.la
d76 5
a80 2

.include <bsd.port.mk>
@


1.100
log
@update to libxml 2.6.26
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2006/06/17 17:04:15 alek Exp $
d54 1
a54 1
LIB_DEPENDS=		xml2.9::textproc/libxml
@


1.99
log
@- Compile python files
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2006/06/13 17:31:29 alek Exp $
d6 1
a6 1
VERSION=		2.6.24
d9 2
a10 2
PKGNAME-python=		py-libxml-${VERSION}p0
SHARED_LIBS=		xml2	9.2
d63 2
@


1.98
log
@Add python subpackage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2006/06/11 18:24:11 steven Exp $
d9 1
a9 1
PKGNAME-python=		py-libxml-${VERSION}
d70 3
@


1.97
log
@update to libxml 2.6.24

bulk build testing by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2006/05/12 16:08:36 steven Exp $
d4 1
d9 1
d25 3
d37 21
d59 1
@


1.96
log
@fix master site paths
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2006/03/20 13:36:54 steven Exp $
d5 1
a5 1
VERSION=		2.6.23
d8 1
a8 1
SHARED_LIBS=		xml2	9.1
@


1.95
log
@update to libxml 2.6.23;  many bugfixes

ok bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2006/02/03 14:14:36 bernd Exp $
d10 1
a10 1
MASTER_SITES=		ftp://xmlsoft.org/ \
@


1.94
log
@Don't try to exec %D/share/libxml2/rebuild before it's installed.

Fixes a "/bin/sh: /usr/local/share/libxml2/rebuild: not found" at libxml
install.

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2006/01/07 10:17:12 steven Exp $
d5 1
a5 1
VERSION=		2.6.16
d7 2
a8 2
PKGNAME=		libxml-${VERSION}p8
SHARED_LIBS=		xml2	9.0
d35 2
d43 4
@


1.93
log
@remove no longer needed MODGNU_SHARED_LIBS, LIBname_ALIAS, and
LIBname_LTVERSION patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2005/12/25 16:33:47 steven Exp $
d7 1
a7 1
PKGNAME=		libxml-${VERSION}p7
@


1.92
log
@SHARED_LIBS and USE_LIBTOOL
libtool reminder and ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2005/09/04 23:38:18 espie Exp $
a8 1
MODGNU_SHARED_LIBS=	xml2	''
@


1.91
log
@replace the @@exec stuff with a registration mechanism that handles
updates correctly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2005/05/01 11:39:14 espie Exp $
d7 3
a9 1
PKGNAME=		libxml-${VERSION}p6
d26 1
a34 2

MAKE_FLAGS=	libxml2_la_LDFLAGS='-version-info 9:0:0'
@


1.90
log
@revert fake stuff, as it doesn't work 100% yet (kdelibs does not build
under some circumstances at least).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2005/04/26 21:05:56 espie Exp $
d7 1
a7 1
PKGNAME=		libxml-${VERSION}p5
d34 7
@


1.89
log
@oops, repair it if !USE_FAKE_LIB.
Noticed by drahn
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2005/04/26 09:43:04 espie Exp $
d7 1
a7 1
PKGNAME=		libxml-${VERSION}p4
d14 1
a14 1
FAKE=			all
d36 14
a49 14
post-configure:
	@@perl -pi.bak -e \
		's,${DEPBASE}/include,\$$\{includedir\},g; \
		 s,${DEPBASE}/lib,\$$\{libdir\},g; \
		 s,${DEPBASE}/,\$$\{prefix\}/,g;' \
	    ${WRKBUILD}/libxml-2.0.pc ${WRKBUILD}/xml2-config

post-install:
	perl -pi.bak -e \
		'print ": \$${DEPBASE:=${LOCALBASE}}\n" if m/^dlname/; \
		 s,dependency_libs='\''(.*)'\'',dependency_libs=\"$$1\",g; \
		 s,${DEPBASE},\$$\{DEPBASE\},g; \
		 s,${TRUEPREFIX}(/lib/.*?\.la),\$$\{DEPBASE\}$$1,g;' \
	    ${PREFIX}/lib/libxml2.la
@


1.88
log
@prepare the barf bag.
Enforce fixing DEPBASE in pkgconfig and libtool shit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2005/04/25 16:55:05 espie Exp $
d7 1
a7 1
PKGNAME=		libxml-${VERSION}p3
d40 1
a40 1
		 s,${DEPBASE},\$$\{prefix\},g;' \
@


1.87
log
@revert partially: installing iconv there results in a bogus xml2-config.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2005/04/25 16:43:30 espie Exp $
d7 1
a7 1
PKGNAME=		libxml-${VERSION}p1
d14 1
a14 1
#FAKE=			all
d34 17
@


1.86
log
@FAKE=all, @@endfake. Remove old dependency on pkg-config that is no longer
used.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2004/12/07 00:23:22 alek Exp $
d14 1
a14 1
FAKE=			all
@


1.85
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2004/11/11 20:55:28 espie Exp $
d7 1
a7 1
PKGNAME=		libxml-${VERSION}p0
d14 1
a21 2
BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig

d29 1
a29 1
CONFIGURE_ARGS+=	--with-iconv="${LOCALBASE}"
@


1.84
log
@bump library major and pkgname.
I don't trust libxml to not have changed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2004/11/11 15:03:50 naddy Exp $
d19 1
@


1.83
log
@update to 2.6.16, fixes crashes; from kevlo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2004/11/10 12:58:29 naddy Exp $
d7 1
a7 1
PKGNAME=		libxml-${VERSION}
d32 2
@


1.82
log
@update to 2.6.15; from kevlo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2004/10/22 22:05:50 naddy Exp $
d5 1
a5 1
VERSION=		2.6.15
@


1.81
log
@update to 2.6.14; from Thomas Delaet <thomas@@delaet.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2004/10/02 17:57:31 naddy Exp $
d5 1
a5 1
VERSION=		2.6.14
@


1.80
log
@update to 2.6.13; from kevlo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2004/08/10 08:46:49 xsa Exp $
d5 1
a5 1
VERSION=		2.6.13
@


1.79
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2004/07/12 02:08:16 kevlo Exp $
d5 1
a5 1
VERSION=		2.6.11
@


1.78
log
@update to libxml2 2.6.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2004/06/15 06:17:01 kevlo Exp $
d22 1
a22 1
MODULES=		iconv
@


1.77
log
@upgrade to libxml2 2.6.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2004/04/21 04:42:26 robert Exp $
d5 1
a5 1
VERSION=		2.6.10
@


1.76
log
@update to 2.6.9; ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2004/04/06 06:50:30 kevlo Exp $
d5 1
a5 1
VERSION=		2.6.9
@


1.75
log
@upgrade to 2.6.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2004/02/06 04:44:12 kevlo Exp $
d5 1
a5 1
VERSION=		2.6.8
@


1.74
log
@update to 2.6.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2003/12/30 05:47:40 kevlo Exp $
d5 1
a5 1
VERSION=		2.6.5
d27 2
a28 1
CONFIGURE_ARGS+=	--with-html-dir="${PREFIX}/share"
@


1.73
log
@upgrade to version 2.6.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2003/12/14 02:10:33 naddy Exp $
d5 1
a5 1
VERSION=		2.6.4
@


1.72
log
@reliable backup master site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2003/12/13 12:55:44 kevlo Exp $
d5 1
a5 1
VERSION=		2.6.3
@


1.71
log
@update to 2.6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2003/11/27 19:28:21 sturm Exp $
d10 1
a10 1
			ftp://xmlsoft.org/old/
@


1.70
log
@restore license marker, grr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2003/11/17 05:25:10 kevlo Exp $
d5 1
a5 1
VERSION=		2.6.2
@


1.69
log
@upgrade to version 2.6.2
tested by sturm@@ and marcm@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2003/08/26 16:33:11 marcm Exp $
d14 1
@


1.68
log
@license checks
@
text
@d5 1
a5 1
VERSION=		2.5.10
a13 1
# BSD-like
@


1.67
log
@Update again to 2.5.10 and this time *disable threading*.  Reports are
that this fixes a whole range of breakage with other ports that were
confused by the threading option.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2003/08/15 02:40:13 kevlo Exp $
d14 1
@


1.67.2.1
log
@Buffer overflow fixes.

http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2004-0110
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2003/08/26 16:33:11 marcm Exp $
d7 1
a7 1
PKGNAME=		libxml-${VERSION}p1
@


1.66
log
@revert bloody untested update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2003/07/24 21:45:12 naddy Exp $
d5 1
a5 1
VERSION=		2.5.8
d29 1
@


1.65
log
@update to 2.5.10
@
text
@d5 1
a5 1
VERSION=		2.5.10
@


1.64
log
@update from 2.5.8; from kevlo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2003/06/17 03:40:03 marcm Exp $
d5 1
a5 1
VERSION=		2.5.8
@


1.63
log
@Make libxml actually use default catalog file(s) in the new location,
sheesh.

Besides me not doing the defines right in the first place, libtool
escapes the urls in strange and confusing ways... so screw 'em we're
patching the new paths in.

Bump the version number accordingly.

"This looks fine." jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2003/06/13 21:51:09 marcm Exp $
d5 1
a5 1
VERSION=		2.5.7
d7 1
a7 1
PKGNAME=		libxml-${VERSION}p1
@


1.62
log
@Update to 2.5.7.

In addition to updating, this restores the libxml includes to
${LOCALBASE}/include/libxml2, thereby avoiding odd conflicts in other
ports.

It also creates and uses an xml catalog at /var/db/xmlcatalog that can
be updated by other ports with local dtds.

ok naddy@@ jolan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2003/05/23 05:42:30 kevlo Exp $
d7 1
a7 1
PKGNAME=		libxml-${VERSION}
a28 4

# Set the default XML catalog to someplace other ports can modify it
MAKE_FLAGS=		-DXML_XML_DEFAULT_CATALOG="file:///var/db/xmlcatalog" \
			-DXML_SGML_DEFAULT_CATALOG="file:///var/db/sgmlcatalog"
@


1.61
log
@drop maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2003/01/14 06:34:16 kevlo Exp $
d3 1
a3 1
COMMENT=	"XML parsing library"
d5 6
a10 6
VERSION=	2.4.28
DISTNAME=	libxml2-${VERSION}
PKGNAME=	libxml-${VERSION}
CATEGORIES=	textproc
MASTER_SITES=	ftp://xmlsoft.org/ \
		ftp://xmlsoft.org/old/
d12 1
a12 1
HOMEPAGE=	http://xmlsoft.org/ 
d19 1
a19 1
BUILD_DEPENDS=	:pkgconfig-*:devel/pkgconfig
d21 1
a21 1
MODULES=	iconv
d23 10
a32 8
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
CONFIGURE_ARGS+= --enable-static
CONFIGURE_ARGS+= --with-html-dir="${PREFIX}/share"
CONFIGURE_ARGS+= --with-iconv="${LOCALBASE}"
CONFIGURE_ARGS+= --without-python

REGRESS_TARGET=	tests
@


1.60
log
@add ftp site; pointed out by Nick Nauwelaerts <nick@@nauwelaerts.net>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2003/01/02 16:55:28 marcm Exp $
a12 2

MAINTAINER=	Kevin Lo <kevlo@@openbsd.org>
@


1.59
log
@pkgconfig should not be a RUN_DEPENDS

ok kevlo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2002/12/02 12:23:46 espie Exp $
d9 2
a10 1
MASTER_SITES=	ftp://xmlsoft.org/
d12 1
a12 1
HOMEPAGE=	http://xmlsoft.org/
@


1.58
log
@2.4.28, crucial patch added...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2002/11/30 13:03:31 kevlo Exp $
a20 1
RUN_DEPENDS=	${BUILD_DEPENDS}
@


1.57
log
@Okay, 2.4.26 did not work either.
Diving into the kde lists show it's *well-known* that 2.4.24 is
the last xml2 release that worked.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2002/09/13 10:10:47 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.24
d9 1
a9 1
MASTER_SITES=	${MASTER_SITE_GNOME:=stable/sources/libxml/}
@


1.56
log
@Revert to libxml 2.4.26, as this one is *working*.

Noticed by wilfried@@, confirmed by myself (kde is *borked* with libxml 2.4.28)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2002/10/22 06:09:28 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.26
d9 1
a9 1
MASTER_SITES=	ftp://xmlsoft.org/
@


1.55
log
@upgrade to version 2.4.28
@
text
@d5 1
a5 1
VERSION=	2.4.28
@


1.54
log
@upgrade to version 2.4.26
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2002/09/13 10:10:47 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.26
@


1.53
log
@upgrade to version 2.4.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2002/07/11 03:44:34 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.24
d9 1
a9 1
MASTER_SITES=	${MASTER_SITE_GNOME:=stable/sources/libxml/}
@


1.52
log
@update to version 2.4.23
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2002/06/09 05:37:15 wilfried Exp $
d5 1
a5 1
VERSION=	2.4.23
@


1.51
log
@add specifier to RUN_DEPENDS and BUILD_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2002/05/29 05:24:09 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.22
a8 1
NEED_VERSION=	1.526
@


1.50
log
@upgrade to version 2.4.22
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2002/05/14 12:07:10 naddy Exp $
d21 2
a22 2
BUILD_DEPENDS+=	::devel/pkgconfig
RUN_DEPENDS+=	::devel/pkgconfig
@


1.49
log
@bye MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2002/05/08 01:40:39 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.21
@


1.48
log
@- update to 2.4.21
- remove python flavor
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2002/04/24 04:58:07 kevlo Exp $
d10 1
a10 2
MASTER_SITES=	${MASTER_SITE_GNOME}
MASTER_SITE_SUBDIR= stable/sources/libxml
@


1.47
log
@using our make instead of gmake; suggested by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2002/04/19 04:52:03 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.20
d9 1
a9 1
NEED_VERSION=	1.504
a31 9

FLAVORS=	python
FLAVOR?=

.if ${FLAVOR:L:Mpython}
BUILD_DEPENDS+=	:python-2.2*:lang/python/2.2
RUN_DEPENDS+=	:python-2.2*:lang/python/2.2
CONFIGURE_ARGS+= --with-python
.else
a32 1
.endif
@


1.46
log
@upgrade to version 2.4.20
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2002/03/26 16:05:36 kevlo Exp $
a26 1
USE_GMAKE=	Yes
@


1.45
log
@typo; pointed out by Jean-Yves Burlett <jean-yves@@burlett.org>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2002/03/22 17:13:16 brad Exp $
d5 1
a5 1
VERSION=	2.4.18
@


1.44
log
@- PREFIX -> LOCALBASE
- fix dependencies, the way things were done before would register a bogus
run dependency on gmake.
--
Ok'd by: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2002/03/21 15:05:49 kevlo Exp $
d40 1
a40 1
CONFIGURE_ARGS+= --with-pyton
@


1.43
log
@add python flavor
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2002/03/19 07:42:42 kevlo Exp $
d22 4
a25 2
BUILD_DEPENDS=	::devel/pkgconfig
RUN_DEPENDS=	${BUILD_DEPENDS}
d32 1
a32 1
CONFIGURE_ARGS+= --with-iconv=${PREFIX}
d39 1
a39 1
RUN_DEPENDS+=	${BUILD_DEPENDS}
a44 1
MODULES=	iconv
@


1.42
log
@upgrade to version 2.4.18
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2002/03/12 15:47:13 kevlo Exp $
d22 1
a22 2
BUILD_DEPENDS=	::devel/pkgconfig \
		:python-2.2*:lang/python/2.2
d31 11
a41 1
CONFIGURE_ARGS+= --with-python
@


1.41
log
@upgrade to version 2.4.17
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2002/02/21 03:09:19 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.17
@


1.40
log
@update to version 2.4.16
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2002/02/19 06:44:51 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.16
d22 2
a23 1
BUILD_DEPENDS=	::devel/pkgconfig
d26 1
d32 1
a32 1
CONFIGURE_ARGS+= --without-python
@


1.39
log
@- upgrade to version 2.4.15
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2002/01/21 07:47:29 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.15
d30 1
@


1.38
log
@upgrade to version 2.4.13
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2001/12/31 12:16:07 espie Exp $
d5 1
a5 1
VERSION=	2.4.13
d9 1
a9 1
NEED_VERSION=	1.489
d23 1
a23 1
RUN_DEPENDS=	::devel/pkgconfig
@


1.37
log
@Redo the libxml/libxslt update, prior to kde 2.2.2 update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2001/11/06 08:57:44 shell Exp $
d5 1
a5 1
VERSION=	2.4.8
@


1.36
log
@downgrade to 2.4.6. Since KDE successfully built with everything up
to 2.4.6. For more details, see:

http://lists.kde.org/?l=kde-devel&m=100507496631040&w=2
@
text
@d5 1
a5 1
VERSION=	2.4.6
@


1.35
log
@Remove pkgconfig dirrm from PLIST, add REGRESS_TARGET, ok kevlo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2001/11/06 08:40:52 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.8
@


1.34
log
@- upgrade to version 2.4.8
- add BUILD_DEPENDS and RUN_DEPENDS for pkgconfig
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2001/11/01 01:30:17 kevlo Exp $
d32 1
@


1.33
log
@upgrade to version 2.4.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2001/10/25 06:09:48 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.7
d9 1
a9 1
NEED_VERSION=	1.460
d21 3
@


1.32
log
@upgrade to version 2.4.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2001/09/24 02:01:57 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.6
@


1.31
log
@- use iconv module
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/09/21 05:53:53 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.5
@


1.30
log
@upgrade to 2.4.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/08/29 05:13:51 kevlo Exp $
d9 1
a9 1
NEED_VERSION=	1.448
a21 2
LIB_DEPENDS=	iconv.2::converters/libiconv

d27 2
@


1.29
log
@upgrade to version 2.4.3

>ChangeLog:
o Implementing XSLT
o Finishing up XPointer and XInclude
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/08/18 03:46:11 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.3
@


1.28
log
@upgrade to version 2.4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/07/19 10:22:28 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.2
d9 1
a9 1
NEED_VERSION=	1.414
d28 1
a28 2
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LIBS="-L${LOCALBASE}/lib -liconv"
@


1.27
log
@upgrade to version 2.4.0

>From ChangeLog:
o Fixed a few bugs in XPath, validation, and tree handling.
o Fixed XML Base implementation, added a coupel of examples to the
  regression tests
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/07/07 07:58:56 kevlo Exp $
d5 1
a5 1
VERSION=	2.4.0
@


1.26
log
@upgrade to version 2.3.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/06/30 03:32:55 kevlo Exp $
d5 1
a5 1
VERSION=	2.3.14
@


1.25
log
@upgrade to version 2.3.13
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/06/20 09:49:15 kevlo Exp $
d5 1
a5 1
VERSION=	2.3.13
@


1.24
log
@upgrade to version 2.3.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/06/20 01:31:49 kevlo Exp $
d5 1
a5 1
VERSION=	2.3.11
@


1.23
log
@Forgot to add iconv dependency. Pointed it out by brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/06/19 04:43:37 kevlo Exp $
d5 1
a5 1
VERSION=	2.3.10
@


1.22
log
@- upgrade to version 2.3.10
- support libiconv
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/05/20 13:00:25 kevlo Exp $
d21 2
@


1.21
log
@- upgrade to version 2.3.9
- remove iconv support
  libiconv autoconf in libxml is broken -- pointed out by brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/05/07 03:08:18 kevlo Exp $
d5 1
a5 1
VERSION=	2.3.9
d9 1
a9 1
NEED_VERSION=	1.384
d24 1
a24 1
CONFIGURE_ARGS+= --enable-static --without-iconv
d26 2
@


1.20
log
@add iconv support.
--
Submitted by jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/04/16 03:40:41 brad Exp $
d5 1
a5 1
VERSION=	2.3.6
a21 2
LIB_DEPENDS=	iconv.2::converters/libiconv

d24 1
a24 1
CONFIGURE_ARGS+= --enable-static
a25 2

CFLAGS+=	-I${LOCALBASE}/include
@


1.19
log
@upgrade to libxml 2.3.6
--
Ok'd by: maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/03/26 03:00:39 kevlo Exp $
d22 2
d26 1
a26 1
CONFIGURE_ARGS+= --enable-static --without-iconv
d28 2
@


1.18
log
@- Upgrade to version 2.3.5
- Integrate COMMENT
- Bump NEED_VERSION

Pointed out by Shell Hung <i@@shellhung.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/03/18 10:48:48 kevlo Exp $
d3 1
a3 1
COMMENT=	"xml parsing library"
d5 1
a5 1
VERSION=	2.3.5
d9 1
a9 1
NEED_VERSION=	1.364
d25 1
a25 1
CONFIGURE_ARGS+= --with-html-dir=${PREFIX}/share
@


1.17
log
@Upgrade to version 2.3.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/03/04 14:41:23 kevlo Exp $
d3 5
a7 2
DISTNAME=	libxml2-2.3.4
PKGNAME=	libxml-2.3.4
d9 1
a9 1
NEED_VERSION=	1.341
d25 1
@


1.16
log
@Upgrade to version 2.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/01/09 14:49:31 brad Exp $
d3 2
a4 2
DISTNAME=	libxml2-2.3.2
PKGNAME=	libxml-2.3.2
@


1.15
log
@upgrade to libxml 2.2.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/12/10 14:40:07 kevlo Exp $
d3 2
a4 2
DISTNAME=	libxml2-2.2.11
PKGNAME=	libxml-2.2.11
@


1.14
log
@- Update to 2.2.10
- Take over maintainership

ok maintainer <rohee@@>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/10/22 14:03:51 espie Exp $
d3 2
a4 2
DISTNAME=	libxml2-2.2.10
PKGNAME=	libxml-2.2.10
@


1.13
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/10/03 17:29:46 brad Exp $
d3 2
a4 2
DISTNAME=	libxml2-2.2.4
PKGNAME=	libxml-2.2.4
d6 1
a6 1
NEED_VERSION=	1.336
d12 1
a12 1
MAINTAINER=	Bruno Rohee <rohee@@openbsd.org>
a18 1
USE_GMAKE=	Yes
@


1.12
log
@upgrade to libxml 2.2.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/09/29 18:44:29 brad Exp $
d12 1
a12 1
MAINTAINER=	rohee@@openbsd.org
@


1.11
log
@cleanup
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/09/29 18:34:52 brad Exp $
d3 2
a4 2
DISTNAME=	libxml2-2.2.3
PKGNAME=	libxml-2.2.3
d6 1
a6 1
NEED_VERSION=	1.330
d19 1
@


1.10
log
@upgrade to libxml 2.2.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/08/08 18:55:00 brad Exp $
a18 1
#USE_GMAKE=	Yes
@


1.9
log
@upgrade to libxml 2.2.1

NOTE: libxml 2.x is not source compatible with programs that use libxml
1.x but we don't have GNOME or anything for that matter that depends
on libxml then it isn't that big of a deal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/05/30 19:02:21 fgsch Exp $
d3 2
a4 2
DISTNAME=	libxml2-2.2.1
PKGNAME=	libxml-2.2.1
d6 1
a6 1
NEED_VERSION=	1.310
d19 1
a19 1
USE_GMAKE=	Yes
@


1.8
log
@Update to libxml 1.8.7; fake.
This is the latest release of 1's series.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/04/09 17:38:29 espie Exp $
d3 2
a4 1
DISTNAME=	libxml-1.8.7
d6 5
a10 3
NEED_VERSION=	1.283
FAKE=		Yes
MASTER_SITES=	ftp://rpmfind.net/pub/libxml/
d14 4
a17 5
LICENSE_TYPE=		GPL
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d19 2
a20 1
GNU_CONFIGURE=	yes
d22 1
a22 1
CONFIGURE_ARGS+= --enable-static
@


1.7
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/03/24 22:12:02 espie Exp $
d3 1
a3 1
DISTNAME=	libxml-1.0.0
d5 3
a7 5
NEED_VERSION=	1.73
FAKE=No
MASTER_SITES=	${MASTER_SITE_GNOME}
MASTER_SITE_SUBDIR= stable/sources/libxml

a19 3

post-install:
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.7.2.1
log
@bring textproc as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/08/08 18:55:00 brad Exp $
d3 1
a3 2
DISTNAME=	libxml2-2.2.1
PKGNAME=	libxml-2.2.1
d5 2
a6 1
NEED_VERSION=	1.310
a9 1
HOMEPAGE=	http://xmlsoft.org/
d13 5
a17 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d19 1
a19 2
USE_GMAKE=	Yes
CONFIGURE_STYLE= gnu
d21 4
a24 1
CONFIGURE_ARGS+= --enable-static --without-iconv
@


1.6
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/02/15 05:05:21 turan Exp $
d6 1
@


1.5
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/12 08:02:32 turan Exp $
d5 1
a8 1
NEED_VERSION=	1.73
@


1.4
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1999/12/10 21:56:28 brad Exp $
d13 4
a16 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.3
log
@fix MASTER_SITE_SUBDIR for new location of libaudiofile on GNOME mirrors
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/10/09 17:46:05 brad Exp $
d11 6
@


1.2
log
@- change MASTER_SITE_SUBDIR to new location of libxml on dist sites
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/03/14 16:06:54 rohee Exp $
d6 1
a6 1
MASTER_SITE_SUBDIR= sources/libxml
d17 1
a17 1
	${LDCONFIG} -m ${PREFIX}/lib
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 4
a6 2
DISTNAME=		libxml-1.0.0
CATEGORIES=		textproc
d8 1
a8 1
NEED_VERSION=		1.78
d10 1
a10 1
MAINTAINER=             rohee@@OpenBSD.ORG
d12 3
a14 6
MASTER_SITES=		${MASTER_SITE_GNOME}
MASTER_SITE_SUBDIR=	gnome-1.0/sources

GNU_CONFIGURE=		yes

CONFIGURE_ARGS+=	${CONFIGURE_SHARED}
@


1.1.1.1
log
@Gnome XML parsing library
@
text
@@
