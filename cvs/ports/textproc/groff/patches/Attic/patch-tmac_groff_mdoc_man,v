head	1.6;
access;
symbols
	OPENBSD_5_6:1.5.0.4
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.2
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.6
date	2014.11.06.22.15.23;	author schwarze;	state dead;
branches;
next	1.5;
commitid	D3bBI1MjSqXufVLW;

1.5
date	2013.11.11.06.41.02;	author schwarze;	state Exp;
branches;
next	1.4;

1.4
date	2013.07.13.07.39.00;	author schwarze;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.30.23.10.05;	author schwarze;	state Exp;
branches;
next	1.2;

1.2
date	2012.05.28.13.23.28;	author schwarze;	state Exp;
branches;
next	1.1;

1.1
date	2011.12.04.15.41.26;	author schwarze;	state Exp;
branches;
next	;


desc
@@


1.6
log
@update to groff-1.22.3

new features:
* glilypond(1) - new preprocessor for music typesetting
* gperl(1) - new preprocessor for embedding Perl code in roff documents
* gpinyin(1) - new preprocessor to pretty-print Pinyin syllables
* groff_mom(7) now has full eqn(7), pic(7), and tbl(7) support
* mdoc(7) now supports the %C macro (already available in mandoc)

* various bugfixes
* many of our patches have been integrated upstream
* changing the bullet is no longer needed, mandoc can now handle it

ok sthen@@ naddy@@
@
text
@$OpenBSD: patch-tmac_groff_mdoc_man,v 1.5 2013/11/11 06:41:02 schwarze Exp $
chunk 1: More OpenBSD versions (to be submitted upstream).
chunks 2-4: Implement %C (accepted and committed upstream).
--- tmac/groff_mdoc.man.orig	Thu Feb  7 13:06:08 2013
+++ tmac/groff_mdoc.man	Wed Jul 24 23:31:38 2013
@@@@ -883,7 +883,7 @@@@ the release ID.
 .It OpenBSD
 2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 2.7, 2.8, 2.9, 3.0, 3.1, 3.2, 3.3, 3.4,
 3.5, 3.6, 3.7, 3.8, 3.9, 4.0, 4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8, 4.9,
-5.0
+5.0, 5.1, 5.2, 5.3, 5.4
 .It DragonFly
 1.0, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.8, 1.8.1, 1.10, 1.12, 1.12.2, 2.0, 2.2,
 2.4, 2.6, 2.8, 2.9, 2.9.1, 2.10, 2.10.1, 2.11
@@@@ -2637,7 +2637,7 @@@@ Reference author name; one name per invocation.
 .It Li .%B
 Book title.
 .It Li .%C
-City/place (not implemented yet).
+City/place.
 .It Li .%D
 Date.
 .It Li .%I
@@@@ -2684,7 +2684,8 @@@@ Example:
 \&.%A "John Foo"
 \&.%T "Implementation Notes on foobar(1)"
 \&.%R "Technical Report ABC\-DE\-12\-345"
-\&.%Q "Drofnats College, Nowhere"
+\&.%Q "Drofnats College"
+\&.%C "Nowhere"
 \&.%D "April 1991"
 \&.Re
 .Ed
@@@@ -2697,7 +2698,8 @@@@ produces
 .%A "John Foo"
 .%T "Implementation Notes on foobar(1)"
 .%R "Technical Report ABC-DE-12-345"
-.%Q "Drofnats College, Nowhere"
+.%Q "Drofnats College"
+.%C "Nowhere"
 .%D "April 1991"
 .Re
 .Ed
@


1.5
log
@My implementation of .%C (city) in .Rs (citation block), accepted and
committed upstream.  It already works in mandoc(1), and it is used in
some OpenBSD base system manuals, and using it is generally encouraged,
so having it in our groff port as well really makes sense.
ok bentley@@ on August 1, 2013 (and i forgot to commit after unlock, sorry)
@
text
@d1 1
a1 1
$OpenBSD: patch-tmac_groff_mdoc_man,v 1.4 2013/07/13 07:39:00 schwarze Exp $
@


1.4
log
@Add a patch to avoid permanent damage to the right margin
when a man(7) input file contains two consecutive .TP lines.
This bugfix improves the formatting of unzip(1), for example.

While here, recognize 5.4 as an OpenBSD version in mdoc(7) files.

ok sthen@@ dcoppa@@ espie@@
@
text
@d1 3
a3 2
$OpenBSD: patch-tmac_groff_mdoc_man,v 1.3 2013/03/30 23:10:05 schwarze Exp $
More OpenBSD versions (to be submitted upstream).
d5 1
a5 1
+++ tmac/groff_mdoc.man	Mon Jul  8 07:08:35 2013
d15 29
@


1.3
log
@Maintenance update to groff-1.22.2.
* New features: gropdf(1), pdfmom(1)
* Lots of our patches were accepted upstream, lots of upstream bug fixes.
Tested by landry@@ and pascal@@, ok landry@@ and sthen@@.
@
text
@d1 1
a1 1
$OpenBSD: patch-tmac_groff_mdoc_man,v 1.2 2012/05/28 13:23:28 schwarze Exp $
d4 1
a4 1
+++ tmac/groff_mdoc.man	Mon Mar  4 08:49:31 2013
d10 1
a10 1
+5.0, 5.1, 5.2, 5.3
@


1.2
log
@In the footers of manuals formatted with groff,
do not print "OpenBSD 5.0" but "OpenBSD ports".
While here, remove some noise from the groff build log.
Bump the groff package.

Technically, this changes the contents of all packages that USE_GROFF,
but please refrain from bumping the world:  Having "OpenBSD 5.0" in
the footers of some ports manual until they are updated the next time,
or until the next libc bump if they aren't, is not a real problem.

string "OpenBSD ports" suggested and patch ok'ed by sthen@@
@
text
@d1 5
a5 47
$OpenBSD: patch-tmac_groff_mdoc_man,v 1.1 2011/12/04 15:41:26 schwarze Exp $
chunk 1: Sync with mandoc: more architectures (accepted upstream).
chunk 2: More OS versions (from upstream).
chunk 3-5: Sync with mandoc: more libraries (accepted upstream).
--- tmac/groff_mdoc.man.orig	Fri Dec 31 08:33:09 2010
+++ tmac/groff_mdoc.man	Sun May 27 14:43:20 2012
@@@@ -769,13 +769,18 @@@@ By default, the following architecture keywords are de
 .
 \# we use `No' to avoid hyphenation
 .Bd -ragged -offset indent
-.No alpha , acorn26 , acorn32 , algor , amd64 , amiga , arc , arm26 ,
-.No arm32 , atari , bebox , cats , cesfic , cobalt , dreamcast , evbarm ,
-.No evbmips , evbppc , evbsh3 , hp300 , hp700 , hpcmips , i386 , luna68k ,
-.No m68k , mac68k , macppc , mips , mmeye , mvme68k , mvmeppc , netwinder ,
-.No news68k , newsmips , next68k , ofppc , pc532 , pmax , pmppc , powerpc ,
-.No prep , sandpoint , sgimips , sh3 , shark , sparc , sparc64 , sun3 ,
-.No tahoe , vax , x68k , x86_64
+.No acorn26 , acorn32 , algor , alpha , amd64 , amiga , amigappc ,
+.No arc , arm , arm26 , arm32 , armish , atari , aviion ,
+.No beagle , bebox , cats , cesfic , cobalt , dreamcast ,
+.No emips , evbarm , evbmips , evbppc , evbsh3 , ews4800mips ,
+.No hp300 , hp700 , hpcarm , hpcmips , hpcsh , hppa , hppa64 ,
+.No i386 , ia64 , ibmnws , iyonix , landisk , loongson , luna68k , luna88k ,
+.No m68k , mac68k , macppc , mips , mips64 , mipsco , mmeye ,
+.No mvme68k , mvme88k , mvmeppc , netwinder , news68k , newsmips , next68k ,
+.No ofppc , palm , pc532 , playstation2 , pmax , pmppc , powerpc , prep ,
+.No rs6000 , sandpoint , sbmips , sgi , sgimips , sh3 , shark ,
+.No socppc , solbourne , sparc , sparc64 , sun2 , sun3 ,
+.No tahoe , vax , x68k , x86_64 , xen , zaurus
 .Ed
 .Pp
 .
@@@@ -864,23 +869,25 @@@@ the release ID.
 .It NetBSD
 0.8, 0.8a, 0.9, 0.9a, 1.0, 1.0a, 1.1, 1.2, 1.2a, 1.2b, 1.2c, 1.2d, 1.2e,
 1.3, 1.3a, 1.4, 1.4.1, 1.4.2, 1.4.3, 1.5, 1.5.1, 1.5.2, 1.5.3, 1.6, 1.6.1,
-1.6.2, 1.6.3, 2.0, 2.0.1, 2.0.2, 2.0.3, 2.1, 3.0, 3.0.1, 3.0.2, 3.1, 4.0,
-4.0.1, 5.0, 5.0.1, 5.0.2
+1.6.2, 1.6.3, 2.0, 2.0.1, 2.0.2, 2.0.3, 2.1, 3.0, 3.0.1, 3.0.2, 3.0.3,
+3.1, 3.1.1, 4.0, 4.0.1, 5.0, 5.0.1, 5.0.2, 5.1, 6.0
 .It FreeBSD
 1.0, 1.1, 1.1.5, 1.1.5.1, 2.0, 2.0.5, 2.1, 2.1.5, 2.1.6, 2.1.7, 2.2, 2.2.1,
 2.2.2, 2.2.5, 2.2.6, 2.2.7, 2.2.8, 3.0, 3.1, 3.2, 3.3, 3.4, 3.5, 4.0, 4.1,
 4.1.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.6.2, 4.7, 4.8, 4.9, 4.10, 4.11, 5.0, 5.1,
 5.2, 5.2.1, 5.3, 5.4, 5.5, 6.0, 6.1, 6.2, 6.3, 6.4, 7.0, 7.1, 7.2, 7.3, 8.0,
-8.1
+8.1, 8.2, 9.0
d8 3
a10 3
-3.5, 3.6, 3.7, 3.8, 3.9, 4.0, 4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8
+3.5, 3.6, 3.7, 3.8, 3.9, 4.0, 4.1, 4.2, 4.3, 4.4, 4.5, 4.6, 4.7, 4.8, 4.9,
+5.0, 5.1
d13 1
a13 149
-2.4, 2.6, 2.8
+2.4, 2.6, 2.8, 2.9, 2.9.1, 2.10, 2.10.1, 2.11
 .It Darwin
 8.0.0, 8.1.0, 8.2.0, 8.3.0, 8.4.0, 8.5.0, 8.6.0, 8.7.0, 8.8.0, 8.9.0,
-8.10.0, 8.11.0, 9.0.0, 9.1.0, 9.2.0, 9.3.0, 9.4.0, 9.5.0, 9.6.0
+8.10.0, 8.11.0, 9.0.0, 9.1.0, 9.2.0, 9.3.0, 9.4.0, 9.5.0, 9.6.0, 9.7.0,
+9.8.0, 10.1.0, 10.2.0, 10.3.0, 10.4.0, 10.5.0, 10.6.0, 10.7.0, 11.0.0
 .El
 .Ed
 .Pp
@@@@ -1673,33 +1680,73 @@@@ Available arguments to
 and their results are:
 .
 .Pp
-.Bl -tag -width ".Li libossaudio" -compact -offset indent
+.Bl -tag -width ".Li librpcsec_gss" -compact -offset indent
+.It Li libarchive
+.Lb libarchive
 .It Li libarm
 .Lb libarm
 .It Li libarm32
 .Lb libarm32
+.It Li libbluetooth
+.Lb libbluetooth
+.It Li libbsm
+.Lb libbsm
 .It Li libc
 .Lb libc
+.It Li libc_r
+.Lb libc_r
+.It Li libcalendar
+.Lb libcalendar
+.It Li libcam
+.Lb libcam
 .It Li libcdk
 .Lb libcdk
+.It Li libcipher
+.Lb libcipher
 .It Li libcompat
 .Lb libcompat
 .It Li libcrypt
 .Lb libcrypt
 .It Li libcurses
 .Lb libcurses
+.It Li libdevinfo
+.Lb libdevinfo
+.It Li libdevstat
+.Lb libdevstat
+.It Li libdisk
+.Lb libdisk
+.It Li libdwarf
+.Lb libdwarf
 .It Li libedit
 .Lb libedit
+.It Li libelf
+.Lb libelf
 .It Li libevent
 .Lb libevent
+.It Li libfetch
+.Lb libfetch
 .It Li libform
 .Lb libform
+.It Li libgeom
+.Lb libgeom
+.It Li libgpib
+.Lb libgpib
 .It Li libi386
 .Lb libi386
 .It Li libintl
 .Lb libintl
 .It Li libipsec
 .Lb libipsec
+.It Li libipx
+.Lb libipx
+.It Li libiscsi
+.Lb libiscsi
+.It Li libjail
+.Lb libjail
+.It Li libkiconv
+.Lb libkiconv
+.It Li libkse
+.Lb libkse
 .It Li libkvm
 .Lb libkvm
 .It Li libm
@@@@ -1708,8 +1755,16 @@@@ and their results are:
 .Lb libm68k
 .It Li libmagic
 .Lb libmagic
+.It Li libmd
+.Lb libmd
+.It Li libmemstat
+.Lb libmemstat
 .It Li libmenu
 .Lb libmenu
+.It Li libnetgraph
+.Lb libnetgraph
+.It Li libnetpgp
+.Lb libnetpgp
 .It Li libossaudio
 .Lb libossaudio
 .It Li libpam
@@@@ -1722,18 +1777,46 @@@@ and their results are:
 .Lb libpmc
 .It Li libposix
 .Lb libposix
+.It Li libprop
+.Lb libprop
 .It Li libpthread
 .Lb libpthread
+.It Li libpuffs
+.Lb libpuffs
+.It Li librefuse
+.Lb librefuse
 .It Li libresolv
 .Lb libresolv
+.It Li librpcsec_gss
+.Lb librpcsec_gss
+.It Li librpcsvc
+.Lb librpcsvc
 .It Li librt
 .Lb librt
+.It Li libsdp
+.Lb libsdp
+.It Li libssp
+.Lb libssp
+.It Li libSystem
+.Lb libSystem
 .It Li libtermcap
 .Lb libtermcap
+.It Li libterminfo
+.Lb libterminfo
+.It Li libthr
+.Lb libthr
+.It Li libufs
+.Lb libufs
+.It Li libugidfw
+.Lb libugidfw
+.It Li libulog
+.Lb libulog
 .It Li libusbhid
 .Lb libusbhid
 .It Li libutil
 .Lb libutil
+.It Li libvgl
+.Lb libvgl
 .It Li libx86_64
 .Lb libx86_64
 .It Li libz
@


1.1
log
@General cleanup:
* Unbreak groff manuals by using tbl(1); reported by pascal@@.
* Deal with our Mdocdate cvs keyword; as designed by jmc@@ in 2007.
* Use troffrc for OpenBSD config changes; suggested by Werner Lemberg.
* Unbreak the hdtbl examples; from upstream.
* Volume names in man(7) page headers; suggested by Yuri Pankov.
* Update various string tables; coordinated with upstream.
* Add a README explaining local changes; using feedback from pascal@@.
* Better description and bump.
ok pascal@@, and tested in an i386 bulk build by naddy@@, thanks!
@
text
@d1 1
a1 1
$OpenBSD$
d6 1
a6 1
+++ tmac/groff_mdoc.man	Sun Oct 23 17:27:13 2011
d52 1
a52 1
+5.0
@

