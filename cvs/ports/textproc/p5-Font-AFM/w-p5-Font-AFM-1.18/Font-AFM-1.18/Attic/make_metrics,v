head	1.2;
access;
symbols
	shell_2002-Jul-11:1.1.1.1 shell:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2002.07.11.09.35.40;	author shell;	state dead;
branches;
next	1.1;

1.1
date	2002.07.11.09.30.09;	author shell;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.07.11.09.30.09;	author shell;	state Exp;
branches;
next	;


desc
@@


1.2
log
@remove my fault
@
text
@#!/usr/local/bin/perl -w

# $Id: make_metrics,v 1.1 2002/07/11 09:30:09 shell Exp $
#
# This program creates metrics modules for some fonts and place them
# under the "Metrics" directory.
#
# Author: Gisle Aas

@@FONTS = qw(Courier
	    Courier-Bold
	    Courier-Oblique
	    Courier-BoldOblique

	    Helvetica
	    Helvetica-Bold
	    Helvetica-Oblique
	    Helvetica-BoldOblique
  
	    Times-Roman
	    Times-Bold
	    Times-Italic
	    Times-BoldItalic
	   );
@@FONTS = @@ARGV if @@ARGV;
	  
require Font::AFM;

$0 =~ s,.*/,,;

use File::Path qw(mkpath);
mkpath("lib/Font/Metrics", 1, 0755);

for $font (@@FONTS) {
    eval {
	$afm = new Font::AFM $font;
    };
    if ($@@) {
	print $@@;
	next;
    }
    @@wx = $afm->latin1_wx_table;
    
    ($fontmod = $font) =~ s/-//g;

    open(FONTDEF, ">lib/Font/Metrics/$fontmod.pm") or die "Can't open $fontmod.pm: $!";
    select FONTDEF;
    print "# Font metrics for $font\n#\n";
    print "# DO NOT EDIT!!!\n";
    print "#\n";
    print "# This file was auto-generated by $0 based on the AFM file for the font.\n";
    print "#\n# ", $afm->Notice, "\n";
    print "\n";
    print "package Font::Metrics::$fontmod;\n";
    
    print "\n# Character width table (iso-8859-1)\n";
    print "\@@wx = (\n";
    $i = 0;
    for (@@wx) {
	printf " %-6s", sprintf "%.3g,", $_ / 1000;
	unless (++$i % 8) {
	    print "\n";
	}
    }
    print ");\n";

    $upos   = $afm->UnderlinePosition;
    $uthick = $afm->UnderlineThickness;
    if ($upos && $uthick) {
	print "\n";
	printf "\$UnderlinePosition  = %.3g;\n", $upos/1000;
	printf "\$UnderlineThickness = %.3g;\n", $uthick/1000;
    }

    print "\n1;\n";
}

@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
# $Id: make_metrics,v 1.3 1998/03/25 12:59:53 aas Exp $
@


1.1.1.1
log
@Initial import of Font-AFM-1.18 (Used by p5-Mail-Box)

perl interface to Adobe Font Metrics files
---
This module implements the Font::AFM class. Objects of this class
are initialised from an AFM-file and allows you to obtain information
about the font and the metrics of the various glyphs in the font.

@
text
@@
