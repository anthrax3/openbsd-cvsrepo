head	1.35;
access;
symbols
	OPENBSD_5_9:1.34.0.2
	OPENBSD_5_9_BASE:1.34
	OPENBSD_5_8:1.32.0.4
	OPENBSD_5_8_BASE:1.32
	OPENBSD_5_7:1.30.0.6
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.30.0.4
	OPENBSD_5_6_BASE:1.30
	OPENBSD_5_5:1.30.0.2
	OPENBSD_5_5_BASE:1.30
	OPENBSD_5_4:1.25.0.2
	OPENBSD_5_4_BASE:1.25
	OPENBSD_5_3:1.22.0.2
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.21.0.4
	OPENBSD_5_2_BASE:1.21
	OPENBSD_5_1_BASE:1.21
	OPENBSD_5_1:1.21.0.2
	OPENBSD_5_0:1.19.0.2
	OPENBSD_5_0_BASE:1.19
	OPENBSD_4_9:1.18.0.2
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.15.0.4
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.15.0.2
	OPENBSD_4_7_BASE:1.15
	OPENBSD_4_6:1.13.0.2
	OPENBSD_4_6_BASE:1.13
	OPENBSD_4_5:1.12.0.4
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.12.0.2
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.11.0.2
	OPENBSD_4_3_BASE:1.11
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.7.0.2
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.3.0.2
	OPENBSD_4_0_BASE:1.3
	sturm_20060311:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.35
date	2016.04.29.21.20.37;	author zhuk;	state dead;
branches;
next	1.34;
commitid	jLKJQnZluyuYhQUu;

1.34
date	2015.12.30.10.43.04;	author ajacoutot;	state Exp;
branches;
next	1.33;
commitid	puXnm32JeiIttkLT;

1.33
date	2015.08.21.14.42.50;	author jasper;	state Exp;
branches;
next	1.32;
commitid	xH2LQNFX76SKF5hF;

1.32
date	2015.03.27.08.14.14;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	ERm8DOTUF1j7394B;

1.31
date	2015.03.16.18.07.53;	author naddy;	state Exp;
branches;
next	1.30;
commitid	IJdm3Zowcdkcxp5X;

1.30
date	2013.12.25.17.48.47;	author rpe;	state Exp;
branches;
next	1.29;

1.29
date	2013.11.09.13.35.28;	author landry;	state Exp;
branches;
next	1.28;

1.28
date	2013.10.22.11.34.22;	author zhuk;	state Exp;
branches;
next	1.27;

1.27
date	2013.10.05.07.34.36;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2013.09.06.22.18.03;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2013.06.24.15.53.39;	author zhuk;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.21.08.48.53;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2013.03.11.11.37.55;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2012.09.02.13.49.51;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2011.11.03.22.21.21;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2011.09.16.11.13.42;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2011.07.06.18.57.09;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2010.11.20.09.48.40;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2010.11.05.07.57.07;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2010.10.24.21.33.27;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.12.21.21.03.56;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.08.10.06.34.09;	author kili;	state Exp;
branches;
next	1.13;

1.13
date	2009.03.11.14.48.54;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2008.05.22.11.48.05;	author sturm;	state Exp;
branches;
next	1.11;

1.11
date	2008.02.02.09.35.42;	author steven;	state Exp;
branches;
next	1.10;

1.10
date	2007.12.16.00.04.27;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2007.09.15.21.28.22;	author merdely;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.09.11.37.29;	author bernd;	state Exp;
branches;
next	1.7;

1.7
date	2007.02.01.21.20.11;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2006.12.15.15.11.41;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2006.11.13.12.51.15;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2006.10.31.20.56.42;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2006.06.12.15.45.51;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2006.04.29.17.12.04;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2006.03.11.14.06.31;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.03.11.14.06.31;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.35
log
@Remove another bunch of KDE3 ports: outdated, superseded and useless ones.
@
text
@# $OpenBSD: Makefile,v 1.34 2015/12/30 10:43:04 ajacoutot Exp $

COMMENT=	project management tool
BROKEN-i386=	self-checks fail with 64-bit time_t
BROKEN-hppa=	self-checks fail with 64-bit time_t
BROKEN-powerpc=	self-checks fail with 64-bit time_t

DISTNAME=	taskjuggler-2.4.3

CATEGORIES=	productivity

SHARED_LIBS=	taskjuggler	4.0

HOMEPAGE=	http://www.taskjuggler.org/

# GPLv2 only
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB =  ICE SM X11 Xext Xrender Xfixes Xt art_lgpl_2 c expat fam
WANTLIB += fontconfig freetype idn m png pthread stdc++ util xcb z
WANTLIB += X11-xcb Xdamage Xxf86vm drm glapi pthread-stubs xcb-dri2
WANTLIB += xcb-glx
WANTLIB += ${KDE}/DCOP ${KDE}/kabc ${KDE}/kcal ${KDE}/kdecore
WANTLIB += ${KDE}/kdefx ${KDE}/kdeprint ${KDE}/kdesu ${KDE}/kdeui
WANTLIB += ${KDE}/khtml ${KDE}/kio ${KDE}/kmime ${KDE}/ktnef
WANTLIB += ${KDE}/kresources ${KDE}/ktexteditor ${KDE}/kwalletclient
WANTLIB += ${KDE}/vcard

MASTER_SITES=	${HOMEPAGE}/download/
EXTRACT_SUFX=	.tar.bz2

MODULES=	x11/kde devel/gettext
MODKDE_VERSION=	3.4
USE_GMAKE=	Yes

CONFIGURE_STYLE=autoconf
AUTOCONF_VERSION=2.63
CONFIGURE_ARGS+=${MODKDE_CONFIGURE_ARGS} \
		--enable-dependency-tracking \
		--disable-final \
		--with-docdir=${PREFIX}/share/examples/taskjuggler/
CONFIGURE_ENV=	${MODKDE_CONFIGURE_ENV} \
		ac_cv_prog_DOCBOOK_TO_MAN=no

RUN_DEPENDS=	devel/desktop-file-utils \
		x11/gtk+3,-guic

LIB_DEPENDS=	x11/kde/pim3

# XXX tries building the documentation from XML, which fails
NO_TEST=	Yes

# broken test file
post-extract:
	@@rm ${WRKSRC}/TestSuite/Syntax/Errors/Timezone.tjp

pre-configure:
	@@sed -i "s,\@@PACKAGES_DIR\@@Examples/,\@@PACKAGES_DIR\@@," \
		${WRKSRC}/Examples/*/Makefile.in \
		${WRKSRC}/Examples/*/*/Makefile.in

.include <bsd.port.mk>
@


1.34
log
@Update to taskjuggler-2.4.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/08/21 14:42:50 jasper Exp $
@


1.33
log
@sed -i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/03/27 08:14:14 ajacoutot Exp $
d8 1
a8 2
DISTNAME=	taskjuggler-2.4.1
REVISION=	12
d21 2
d37 1
a37 1
AUTOCONF_VERSION=2.61
@


1.32
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/03/16 18:07:53 naddy Exp $
d57 1
a57 1
	@@perl -pi -e "s,\@@PACKAGES_DIR\@@Examples/,\@@PACKAGES_DIR\@@," \
@


1.31
log
@fold lib-only PFRAG.shared into PLIST, regen PLIST, and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/12/25 17:48:47 rpe Exp $
d9 1
a9 1
REVISION=	11
d45 1
a45 1
		x11/gtk+2,-guic
@


1.30
log
@fix PLIST share/config -> share/config.kde3

ok zhuk@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/11/09 13:35:28 landry Exp $
d9 1
a9 1
REVISION=	10
@


1.29
log
@Mark as BROKEN on hppa & powerpc, the same way as on i386... a 32-bit
problem ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/10/22 11:34:22 zhuk Exp $
d9 1
a9 1
REVISION=	9
@


1.28
log
@Do a massive change on the placement of some KDE3 apps data:

  * share/apps => share/apps.kde3
  * share/doc/HTML => share/doc/HTML.kde3

This is a part of KDE3/4 deconflicting work.

Build tested in a bulk by landry@@, also sat over a week on ports@@.
Run-time tested with some KDE3 apps, including KMail, taxipilot, yakuake...

"do it" landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/10/05 07:34:36 espie Exp $
d5 2
@


1.27
log
@disentangle kde3 from kde4: all kde3 with the same name get an explict
PKGSPEC.  revision bumps follow.

Also, tag all kde3 ports, those that use the module and those that do not,
with explicit kde3 tags.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/09/06 22:18:03 sthen Exp $
d7 1
a7 1
REVISION=	8
@


1.26
log
@mark BROKEN-i386; selftests fail with 64-bit time_t
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/06/24 15:53:39 zhuk Exp $
d7 1
a7 1
REVISION=	7
@


1.25
log
@Massive cleanup for KDE3. Main point is in changing WANTLIB from "foo" to
"lib/kde3/foo" where appropirate, but also many missing desktop goo items
added, some PFRAG.shared removed and so on.

input and okay landry@@ and ajacoutot@@, also okay espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/21 08:48:53 ajacoutot Exp $
d4 1
@


1.24
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/11 11:37:55 espie Exp $
d6 1
a6 1
REVISION=	6
d17 7
a23 7
WANTLIB += DCOP ICE SM X11 Xext Xrender art_lgpl_2 c
WANTLIB += idn jpeg kabc kdecore kdefx kdeprint
WANTLIB += kdesu kdeui khtml kio kjs kparts kresources ktexteditor
WANTLIB += kutils kwalletclient m pcre pcreposix png pthread
WANTLIB += stdc++ util vcard xcb z kcal kmime ktnef
WANTLIB += GL Xcursor Xdamage Xfixes Xft Xi Xinerama Xmu Xrandr
WANTLIB += Xt Xxf86vm drm expat fontconfig freetype lcms mng
d41 3
a44 1
RUN_DEPENDS=	devel/desktop-file-utils
@


1.23
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/09/02 13:49:51 ajacoutot Exp $
a29 1
USE_LIBTOOL=	Yes
@


1.22
log
@--as-needed works here now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/11/03 22:21:21 jasper Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d46 1
a46 1
NO_REGRESS=	Yes
@


1.21
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/09/16 11:13:42 espie Exp $
d6 1
a6 1
REVISION=	5
a39 1
		--disable-as-needed \
@


1.20
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/07/06 18:57:09 ajacoutot Exp $
d6 1
a6 1
REVISION=	4
d20 2
a21 2
WANTLIB += DCOP ICE SM X11 Xau Xdmcp Xext Xrender art_lgpl_2 c
WANTLIB += fam idn jpeg kabc kdecore kdefx kdeprint
d23 4
a26 2
WANTLIB += kutils kwalletclient m pcre pcreposix png pthread pthread-stubs
WANTLIB += rpcsvc stdc++ util vcard xcb z kcal kmime ktnef
@


1.19
log
@Use the gettext MODULE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/11/20 09:48:40 espie Exp $
d6 1
a6 1
REVISION=	3
@


1.18
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/11/05 07:57:07 sthen Exp $
d6 1
a6 1
REVISION=	2
d21 1
a21 1
WANTLIB += fam iconv idn intl jpeg kabc kdecore kdefx kdeprint
d29 1
a29 1
MODULES=	x11/kde
@


1.17
log
@new-style revision/lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/10/24 21:33:27 ajacoutot Exp $
d44 2
a45 2
LIB_DEPENDS=	::x11/kde/pim3
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils
@


1.16
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/12/21 21:03:56 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d24 1
a24 1
WANTLIB += rpcsvc stdc++ util vcard xcb z
d44 1
a44 1
LIB_DEPENDS=	kcal,kmime,ktnef::x11/kde/pim3
@


1.15
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/08/10 06:34:09 kili Exp $
a31 1
USE_X11=	Yes
@


1.14
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/03/11 14:48:54 sthen Exp $
d6 2
a7 1
PKGNAME=	${DISTNAME}p1
d9 1
@


1.13
log
@sync WANTLIB/LIB_DEPENDS, bump packages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2008/05/22 11:48:05 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d21 2
a22 2
WANTLIB += kutils kwalletclient m pcre pcreposix png pthread rpcsvc
WANTLIB += stdc++ util vcard z
@


1.12
log
@update to taskjuggler 2.4.1
fixes TaskJugglerUI (thanks to kurt@@) as noticed by vsankar at foretell.ca
remove myself as maintainer as I don't use it anymore
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/02/02 09:35:42 steven Exp $
d6 1
d12 1
a12 1
# GPL
d18 5
a22 5
WANTLIB=	DCOP ICE SM X11 Xau Xdmcp Xext Xrender art_lgpl_2 c jpeg \
		kabc kcal kdecore kdefx kdeprint kdesu kdeui khtml kio kjs \
		kparts kresources ktexteditor ktnef kutils kwalletclient \
		m pcre pcreposix png pthread \
		stdc++ util vcard z iconv intl idn fam rpcsvc
d43 2
a44 3
BUILD_DEPENDS=	::x11/kde/pim3
RUN_DEPENDS=	::x11/kde/pim3 \
		:desktop-file-utils-*:devel/desktop-file-utils
@


1.11
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/12/16 00:04:27 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	taskjuggler-2.3.1
PKGNAME=	${DISTNAME}p2
d7 1
a7 1
SHARED_LIBS=	taskjuggler	3.4
a10 2
MAINTAINER=	Nikolay Sturm <sturm@@openbsd.org>

d18 3
a20 2
		kabc kcal kdecore kdefx kdeprint kdesu kdeui khtml kio \
		kresources ktexteditor ktnef kwalletclient m png pthread \
d33 1
a33 1
AUTOCONF_VERSION=2.59
d36 1
@


1.10
log
@- add update-desktop-database goo
(this should be the last one hopefully)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/09/15 21:28:22 merdely Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d20 4
a23 4
WANTLIB=	DCOP ICE SM X11 Xext Xrender art_lgpl_2 c jpeg kabc kcal \
		kdecore kdefx kdeprint kdesu kdeui khtml kio kresources \
		ktexteditor ktnef kwalletclient m png pthread stdc++ util \
		vcard z iconv idn
@


1.9
log
@Remove surrounding quotes in COMMENT/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/05/09 11:37:29 bernd Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d43 3
a45 2
BUILD_DEPENDS=	${RUN_DEPENDS}
RUN_DEPENDS=	::x11/kde/pim3
@


1.8
log
@Don't depend on the qt3 'mt' FLAVOR. This FLAVOR doesn't do anything
and will be removed shortly. Bump PKGNAMEs.

Discussed with and ok espie@@.
Bulk build testing by steven@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/02/01 21:20:11 sturm Exp $
d3 1
a3 1
COMMENT=	"project management tool"
@


1.7
log
@update to taskjuggler 2.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/12/15 15:11:41 espie Exp $
d6 1
@


1.6
log
@avoid docbook-to-man
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/11/13 12:51:15 steven Exp $
d5 1
a5 1
DISTNAME=	taskjuggler-2.3.0
@


1.5
log
@USE_X11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2006/10/31 20:56:42 sturm Exp $
d39 2
a40 1
CONFIGURE_ENV=	${MODKDE_CONFIGURE_ENV}
@


1.4
log
@update to taskjuggler 2.3.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/06/12 15:45:51 espie Exp $
d30 1
a30 1

@


1.3
log
@idn wantlib for kde, last batch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/04/29 17:12:04 sturm Exp $
d5 1
a5 2
DISTNAME=	taskjuggler-2.2.0
PKGNAME=	${DISTNAME}p1
d7 1
a7 1
SHARED_LIBS=	taskjuggler	3.3
d37 2
a38 1
		--disable-final
d43 12
@


1.2
log
@explicitly initialise a variable to let taskjuggler build (and run?) on
systems with malloc flag J

submitted upstream
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2006/03/11 14:06:31 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d23 1
a23 1
		vcard z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.44 2004/07/15 22:08:00 sturm Exp $
d6 1
@


1.1.1.1
log
@Initial import of taskjuggler 2.2.0

TaskJuggler is an Open Source tool for serious project managers. It covers
the complete spectrum of project management tasks from the first idea to
the completion of the project. It assists you during project scoping,
resource assignment, cost and revenue planing, risk and communication
management.
@
text
@@
