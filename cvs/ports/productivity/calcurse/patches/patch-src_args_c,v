head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.04.28.14.26.13;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	9hQ3f6YqyzGaQAiG;

1.1
date	2015.10.14.10.04.16;	author sthen;	state Exp;
branches;
next	;
commitid	2j2chTEDD0tjdH0u;


desc
@@


1.2
log
@Update to calcurse-4.1.0.
@
text
@$OpenBSD: patch-src_args_c,v 1.1 2015/10/14 10:04:16 sthen Exp $
--- src/args.c.orig	Sun Mar 27 12:26:18 2016
+++ src/args.c	Thu Apr 28 16:23:45 2016
@@@@ -225,10 +225,11 @@@@ static void next_arg(void)
 /*
  * Print the date on stdout.
  */
-static void arg_print_date(long date)
+static void arg_print_date(long date_l)
 {
 	char date_str[BUFSIZ];
 	struct tm lt;
+	time_t date = date_l;
 
 	localtime_r((time_t *) & date, &lt);
 	strftime(date_str, BUFSIZ, conf.output_datefmt, &lt);
@


1.1
log
@Fix date output in calcurse 'one-shot' mode ('-d' or '-Q --filter-type cal
--days') on 32-bit arch following 64-bit time_t. Reported by Raf Czlonka,
ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD$
--- src/args.c.orig	Sun Feb 22 10:34:11 2015
+++ src/args.c	Tue Oct 13 23:07:51 2015
@@@@ -274,10 +274,11 @@@@ static void next_arg(void)
@

