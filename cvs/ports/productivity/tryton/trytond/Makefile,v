head	1.43;
access;
symbols
	OPENBSD_6_0:1.41.0.2
	OPENBSD_6_0_BASE:1.41
	OPENBSD_5_9:1.36.0.2
	OPENBSD_5_9_BASE:1.36
	OPENBSD_5_8:1.29.0.4
	OPENBSD_5_8_BASE:1.29
	OPENBSD_5_7:1.24.0.2
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.20.0.2
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.17.0.2
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.11.0.4
	OPENBSD_5_4_BASE:1.11
	OPENBSD_5_3:1.11.0.2
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.9.0.2
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	ajacoutot_20110610:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.43
date	2016.12.18.09.53.39;	author ajacoutot;	state Exp;
branches;
next	1.42;
commitid	CBAsKmcjpdXfgrez;

1.42
date	2016.08.31.08.08.45;	author ajacoutot;	state Exp;
branches;
next	1.41;
commitid	044GpHObqnesbDWu;

1.41
date	2016.07.05.07.22.24;	author ajacoutot;	state Exp;
branches;
next	1.40;
commitid	bdQC89voAcBfeKpd;

1.40
date	2016.04.30.09.06.13;	author ajacoutot;	state Exp;
branches;
next	1.39;
commitid	1m3v0QwfzSde4iyf;

1.39
date	2016.04.07.05.51.12;	author ajacoutot;	state Exp;
branches;
next	1.38;
commitid	gTjZAS3Z4ONUQzEE;

1.38
date	2016.03.15.08.34.21;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	pylOKOsKOUt5mQpL;

1.37
date	2016.02.25.04.03.34;	author ajacoutot;	state Exp;
branches;
next	1.36;
commitid	bJJdGmuHaYhUNgc5;

1.36
date	2016.01.12.13.38.25;	author ajacoutot;	state Exp;
branches;
next	1.35;
commitid	pOknhT8CBH4zu3U4;

1.35
date	2015.12.17.06.51.59;	author ajacoutot;	state Exp;
branches;
next	1.34;
commitid	l0hcAynm8WoBGRpl;

1.34
date	2015.11.10.09.05.19;	author ajacoutot;	state Exp;
branches;
next	1.33;
commitid	FbEFG8R7EwfLauUU;

1.33
date	2015.11.08.18.12.43;	author ajacoutot;	state Exp;
branches;
next	1.32;
commitid	P4KJnF7IV3khcHt0;

1.32
date	2015.11.03.06.46.07;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	9ZMR7DjkGNs486Po;

1.31
date	2015.09.29.10.52.33;	author sthen;	state Exp;
branches;
next	1.30;
commitid	kK00TsVxnVFlTJwI;

1.30
date	2015.09.08.08.09.10;	author ajacoutot;	state Exp;
branches;
next	1.29;
commitid	yQSH3dMynXfC1YWR;

1.29
date	2015.07.15.14.59.15;	author ajacoutot;	state Exp;
branches
	1.29.4.1;
next	1.28;
commitid	3M8rWDdk3egW952j;

1.28
date	2015.07.15.00.10.51;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	KevnZCEl1MG6UusM;

1.27
date	2015.07.08.12.54.51;	author sthen;	state Exp;
branches;
next	1.26;
commitid	xOiokm70AV2YZlvM;

1.26
date	2015.05.20.05.37.44;	author ajacoutot;	state Exp;
branches;
next	1.25;
commitid	JSE4wa9gb2bYLgyT;

1.25
date	2015.03.31.06.21.04;	author ajacoutot;	state Exp;
branches;
next	1.24;
commitid	i214x35nxHMlXARX;

1.24
date	2015.02.17.07.32.39;	author ajacoutot;	state Exp;
branches;
next	1.23;
commitid	57fKcQFYGyU0xM6n;

1.23
date	2015.01.16.09.57.22;	author ajacoutot;	state Exp;
branches;
next	1.22;
commitid	RzFkJj6hpiTolEdX;

1.22
date	2014.09.30.15.14.35;	author ajacoutot;	state Exp;
branches;
next	1.21;
commitid	BiHIkKSYtkxzodjc;

1.21
date	2014.08.30.12.47.08;	author ajacoutot;	state Exp;
branches;
next	1.20;
commitid	UFvwN5QI8XEBjFh7;

1.20
date	2014.07.08.20.10.51;	author ajacoutot;	state Exp;
branches
	1.20.2.1;
next	1.19;
commitid	SjUiqC4SPE72QlXn;

1.19
date	2014.04.29.08.04.41;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2014.04.13.08.10.26;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2014.02.01.09.10.31;	author ajacoutot;	state Exp;
branches
	1.17.2.1;
next	1.16;

1.16
date	2014.01.23.15.27.10;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2013.12.29.13.04.23;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2013.10.30.10.46.20;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2013.10.28.07.27.38;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2013.08.10.18.51.40;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2012.10.28.10.59.40;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2012.10.28.10.41.24;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2012.05.02.06.57.01;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2012.04.22.11.41.55;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2012.03.30.05.49.50;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2012.02.20.10.00.21;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2011.11.02.14.29.39;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2011.09.16.11.13.43;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2011.06.22.08.19.12;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.06.11.06.50.16;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.06.10.11.49.30;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.06.10.11.49.30;	author ajacoutot;	state Exp;
branches;
next	;

1.17.2.1
date	2014.09.30.15.03.27;	author ajacoutot;	state Exp;
branches;
next	;
commitid	oMq0fepPPymetkRz;

1.20.2.1
date	2014.09.30.15.02.16;	author ajacoutot;	state Exp;
branches;
next	;
commitid	EaWh9ot6gcGLnG64;

1.29.4.1
date	2015.12.17.14.40.16;	author ajacoutot;	state Exp;
branches;
next	;
commitid	MId9n7u48Xv2Zhhe;


desc
@@


1.43
log
@Update to trytond-3.2.18.
@
text
@# $OpenBSD: Makefile,v 1.42 2016/08/31 08:08:45 ajacoutot Exp $

MODPY_EGG_VERSION =	3.2.18

COMMENT =		server of the Tryton application platform

DISTNAME =		trytond-${MODPY_EGG_VERSION}

CATEGORIES =		www

RUN_DEPENDS =		databases/py-psycopg2 \
			databases/py-sql \
			devel/py-dateutil \
			devel/py-tz \
			print/py-relatorio \
			security/py-openssl \
			textproc/py-lxml \
			textproc/py-polib \
			STEM-*-pgsql:textproc/sphinx,pgsql \
			www/py-webdav

# optional: graphviz has a lot of dependencies
#RUN_DEPENDS +=		graphics/py-dot

MODULES +=		databases/postgresql
# py-psycopg2 doesn't seem to have a way to use socket anywhere but /tmp:
MODPOSTGRESQL_TEST_PGHOST = /tmp
MODPOSTGRESQL_TEST_CMD = ${MODPY_TEST_TARGET}
# give the tests a database name to use
MAKE_ENV =		DB_NAME=trytond_test

pre-configure:
	sed -i 's,/var/lib,/var/db,' ${WRKSRC}/trytond/config.py

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/trytond
	${INSTALL_DATA} ${WRKSRC}/etc/trytond.conf \
		${PREFIX}/share/examples/trytond/trytond.conf

.include <bsd.port.mk>
@


1.42
log
@Update to trytond-3.2.17.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2016/07/05 07:22:24 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.17
@


1.41
log
@Update to trytond-3.2.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2016/04/30 09:06:13 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.16
@


1.40
log
@Enable regression tests by using the postgresql MODULE.

from attila at stalphonsos dot com, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2016/04/07 05:51:12 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.15
d33 1
a33 1
	perl -pi -e 's,/var/lib,/var/db,,' ${WRKSRC}/trytond/config.py
@


1.39
log
@Update to trytond-3.2.15.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2016/03/15 08:34:21 ajacoutot Exp $
d24 7
@


1.38
log
@Update to trytond-3.2.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2016/02/25 04:03:34 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.14
@


1.37
log
@Update to trytond-3.2.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2016/01/12 13:38:25 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.13
@


1.36
log
@Update to trytond-3.2.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2015/12/17 06:51:59 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.12
@


1.35
log
@SECURITY update to trytond-3.2.11.
- CVE-2015-0861
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2015/11/10 09:05:19 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.11
@


1.34
log
@Update to trytond-3.2.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/11/08 18:12:43 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.10
@


1.33
log
@Add a note about unoconv.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/11/03 06:46:07 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.9
a7 1
REVISION =		2
@


1.32
log
@tyop: marge -> large

reported by "f5_b"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/09/29 10:52:33 sthen Exp $
d8 1
a8 1
REVISION =		1
@


1.31
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/09/08 08:09:10 ajacoutot Exp $
d8 1
a8 1
REVISION =		0
@


1.30
log
@Update to trytond-3.2.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/07/15 14:59:15 ajacoutot Exp $
d8 1
@


1.29
log
@Adapr rc.d script after recent rc.subr change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2015/07/15 00:10:51 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.8
a5 1
REVISION =		0
@


1.29.4.1
log
@Check all fields when writing a sequence of records, values (CVE-2015-0861)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/07/15 14:59:15 ajacoutot Exp $
d6 1
a6 1
REVISION =		1
@


1.28
log
@Update to trytond-3.2.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/07/08 12:54:51 sthen Exp $
d6 1
@


1.27
log
@fix documentation url in readme, ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/05/20 05:37:44 ajacoutot Exp $
d3 1
a3 2
MODPY_EGG_VERSION =	3.2.7
REVISION =		0
@


1.26
log
@Update to trytond-3.2.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/03/31 06:21:04 ajacoutot Exp $
d4 1
@


1.25
log
@Bugfix update to trytond-3.2.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2015/02/17 07:32:39 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.6
@


1.24
log
@Update to trytond-3.2.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2015/01/16 09:57:22 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.5
@


1.23
log
@Update to trytond-3.2.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/09/30 15:14:35 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.4
@


1.22
log
@SECURITY update to trytond-3.2.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/08/30 12:47:08 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.3
@


1.21
log
@Update to trytond-3.2.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/07/08 20:10:51 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.2
@


1.20
log
@Update to trytond-3.2.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/04/29 08:04:41 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION =	3.2.1
@


1.20.2.1
log
@SECURITY fixes:
* Use literal_eval instead of safe_eval (CVE-2014-6633)
* Prevent double underscore in safe_eval (CVE-2014-6633)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/07/08 20:10:51 ajacoutot Exp $
a3 1
REVISION =		0
@


1.19
log
@Update to trytond-3.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/04/13 08:10:26 ajacoutot Exp $
d3 1
a3 1
COMMENT=		server of the Tryton application platform
d5 1
a5 1
DISTNAME=		trytond-${MODPY_EGG_VERSION}
d7 1
a7 1
CATEGORIES=		www
d9 3
a11 1
RUN_DEPENDS=		databases/py-psycopg2 \
@


1.18
log
@Update to trytond-3.0.4.
@
text
@d1 1
a1 4
# $OpenBSD: Makefile,v 1.17 2014/02/01 09:10:31 ajacoutot Exp $

MODPY_EGG_VERSION=	3.0.4
REVISION=		#empty
@


1.17
log
@Update to trytond-3.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/01/23 15:27:10 ajacoutot Exp $
d3 1
a3 1
MODPY_EGG_VERSION=	3.0.2
@


1.17.2.1
log
@SECURITY fixes:
* Use literal_eval instead of safe_eval (CVE-2014-6633)
* Prevent double underscore in safe_eval (CVE-2014-6633)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2014/02/01 09:10:31 ajacoutot Exp $
d4 1
a4 1
REVISION=		1
@


1.16
log
@Remove devel/py-simplejson dependency since the code can fallback to python
json.

req. by fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/12/29 13:04:23 ajacoutot Exp $
d3 2
a4 1
MODPY_EGG_VERSION=	3.0.1
@


1.15
log
@Update to trytond-3.0.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/10/30 10:46:20 ajacoutot Exp $
a3 1
REVISION=		#empty
a13 1
			devel/py-simplejson \
@


1.14
log
@Missing RUN_DEPENDS.
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.13 2013/10/28 07:27:38 ajacoutot Exp $
a8 1
REVISION=		1
@


1.13
log
@Update to trytond-3.0.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/08/10 18:51:40 ajacoutot Exp $
d6 1
d11 1
d21 3
@


1.12
log
@Update to trytond-2.8.2.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.11 2012/10/28 10:59:40 ajacoutot Exp $

MODPY_EGG_VERSION=	2.8.2
@


1.11
log
@Use STEM.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.10 2012/10/28 10:41:24 ajacoutot Exp $
@


1.10
log
@Update to trytond-2.6.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2012/05/02 06:57:01 ajacoutot Exp $
d17 1
a17 1
			sphinx-*-pgsql:textproc/sphinx,pgsql \
@


1.9
log
@Update to trytond-2.4.1.
See http://www.tryton.org/news.html for details.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/04/22 11:41:55 ajacoutot Exp $
d9 1
a9 1
RUN_DEPENDS=		textproc/py-lxml \
a11 1
			databases/py-psycopg2 \
d15 1
d17 1
@


1.8
log
@Use RCDIR instead of /etc/rc.d when refering to packages rc scripts.

discussed with espie and sthen
ok sthen@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.7 2012/03/30 05:49:50 ajacoutot Exp $

MODPY_EGG_VERSION=	2.2.2
a5 1
REVISION=		0
@


1.7
log
@SECURITY update to trytond-2.2.2.
* Don't allow rpc call on ModelStorage without ModelView (CVE-2012-0215).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/02/20 10:00:21 ajacoutot Exp $
d8 1
@


1.6
log
@Adapt comment.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.5 2011/11/02 14:29:39 ajacoutot Exp $
a7 1
REVISION=		0
@


1.5
log
@Update to whole tryton framework to version 2.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/09/16 11:13:43 espie Exp $
d6 1
@


1.4
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/06/22 08:19:12 ajacoutot Exp $
a5 1
REVISION=		1
d16 1
@


1.3
log
@Extend README (modules installation, upgrades...).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/06/11 06:50:16 ajacoutot Exp $
d6 1
a6 1
REVISION=		0
@


1.2
log
@Don't force MODPY_EGG_VERSION, so that (soon to be imported) modules can
set their own.

pointed at by Christian Rueger
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/06/10 11:49:30 ajacoutot Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a4 1
MODPY_EGG_VERSION=	2.0.1
@


1.1.1.1
log
@Import tryton{,d}-2.0.1

Tryton is a three-tiers high-level general purpose application platform
written in Python and uses Postgresql as its main database engine. It is
the core base of an Open Source ERP. It provides modularity, scalability
and security.

"tryton" is the client of the Tryton application platform.
"trytond" is the server of the Tryton application platform.
@
text
@@
