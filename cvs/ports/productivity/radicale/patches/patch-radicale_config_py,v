head	1.9;
access;
symbols
	OPENBSD_6_0:1.9.0.4
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.8.0.6
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.2
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.7.0.4
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.5.0.4
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	sthen20110415:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2015.11.30.20.17.53;	author jung;	state Exp;
branches;
next	1.8;
commitid	hLicMRDNQpvppqvJ;

1.8
date	2014.12.15.13.27.13;	author ian;	state Exp;
branches;
next	1.7;
commitid	Uebw44TnYkDnTVYS;

1.7
date	2013.10.21.09.47.19;	author jung;	state Exp;
branches;
next	1.6;

1.6
date	2013.03.08.10.38.01;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2012.05.23.18.02.09;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2011.08.19.20.35.34;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2011.05.06.15.35.47;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2011.04.17.14.54.47;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.15.15.47.17;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.04.15.15.47.17;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.9
log
@update radicale to 1.0.1

brypt is supported through passlib now, so add lib dependency and drop patch.

ok sthen
@
text
@$OpenBSD: patch-radicale_config_py,v 1.8 2014/12/15 13:27:13 ian Exp $
--- radicale/config.py.orig	Wed Aug 19 15:06:33 2015
+++ radicale/config.py	Fri Nov 27 22:06:38 2015
@@@@ -43,8 +43,8 @@@@ INITIAL_CONFIG = {
         "daemon": "False",
         "pid": "",
         "ssl": "False",
-        "certificate": "/etc/apache2/ssl/server.crt",
-        "key": "/etc/apache2/ssl/server.key",
+        "certificate": "${SYSCONFDIR}/radicale/server.crt",
+        "key": "${SYSCONFDIR}/radicale/private/server.key",
         "protocol": "PROTOCOL_SSLv23",
         "ciphers": "",
         "dns_lookup": "True",
@@@@ -60,7 +60,7 @@@@ INITIAL_CONFIG = {
     "auth": {
         "type": "None",
         "custom_handler": "",
-        "htpasswd_filename": "/etc/radicale/users",
+        "htpasswd_filename": "${SYSCONFDIR}/radicale/users",
         "htpasswd_encryption": "crypt",
         "imap_hostname": "localhost",
         "imap_port": "143",
@@@@ -86,11 +86,10 @@@@ INITIAL_CONFIG = {
     "storage": {
         "type": "filesystem",
         "custom_handler": "",
-        "filesystem_folder": os.path.expanduser(
-            "~/.config/radicale/collections"),
+        "filesystem_folder": "/var/db/radicale/calendars",
         "database_url": ""},
     "logging": {
-        "config": "/etc/radicale/logging",
+        "config": "${SYSCONFDIR}/radicale/logging",
         "debug": "False",
         "full_environment": "False"}}
 
@@@@ -102,7 +101,7 @@@@ for section, values in INITIAL_CONFIG.items():
     for key, value in values.items():
         _CONFIG_PARSER.set(section, key, value)
 
-_CONFIG_PARSER.read("/etc/radicale/config")
+_CONFIG_PARSER.read("${SYSCONFDIR}/radicale/config")
 _CONFIG_PARSER.read(os.path.expanduser("~/.config/radicale/config"))
 if "RADICALE_CONFIG" in os.environ:
     _CONFIG_PARSER.read(os.environ["RADICALE_CONFIG"])
@


1.8
log
@Upgrade to radicale-0.9, from Sergey Bronnikov (maintainer)
@
text
@d1 3
a3 3
$OpenBSD: patch-radicale_config_py,v 1.7 2013/10/21 09:47:19 jung Exp $
--- radicale/config.py.orig	Wed Aug  6 13:23:29 2014
+++ radicale/config.py	Sun Nov 16 18:58:10 2014
d15 1
a15 1
@@@@ -57,7 +57,7 @@@@ INITIAL_CONFIG = {
d24 1
a24 1
@@@@ -83,11 +83,10 @@@@ INITIAL_CONFIG = {
d38 1
a38 1
@@@@ -99,7 +98,7 @@@@ for section, values in INITIAL_CONFIG.items():
@


1.7
log
@update radicale to version 0.8

OK shen@@ ian@@ and Sergey (Maintainer)
@
text
@d1 3
a3 3
$OpenBSD: patch-radicale_config_py,v 1.6 2013/03/08 10:38:01 jasper Exp $
--- radicale/config.py.orig	Fri Jun 28 16:35:07 2013
+++ radicale/config.py	Sun Oct 20 14:46:24 2013
d12 2
d15 2
a16 3
         "base_prefix": "/",
         "realm": "Radicale - Password Required"},
@@@@ -55,7 +55,7 @@@@ INITIAL_CONFIG = {
d18 1
a18 2
         "public_users": "public",
         "private_users": "private",
d24 1
a24 2
@@@@ -77,11 +77,10 @@@@ INITIAL_CONFIG = {
         "file": ""},
d27 1
d38 1
a38 1
@@@@ -93,7 +92,7 @@@@ for section, values in INITIAL_CONFIG.items():
@


1.6
log
@- update to radicale-0.7.1

ok maintainer
@
text
@d1 3
a3 3
$OpenBSD: patch-radicale_config_py,v 1.5 2012/05/23 18:02:09 sthen Exp $
--- radicale/config.py.orig	Fri Aug  3 14:04:39 2012
+++ radicale/config.py	Sun Feb 24 17:39:19 2013
d12 4
a15 4
         "dns_lookup": "True"},
     "encoding": {
         "request": "utf-8",
@@@@ -53,7 +53,7 @@@@ INITIAL_CONFIG = {
d22 4
a25 4
         "imap_auth_host_name": "localhost",
         "imap_auth_host_port": "143",
@@@@ -68,12 +68,10 @@@@ INITIAL_CONFIG = {
         "courier_socket": ""},
d30 2
a31 4
-        "git_folder": os.path.expanduser(
-            "~/.config/radicale/collections")},
+        "filesystem_folder": "/var/db//radicale/calendars",
+        "git_folder": "/var/db/radicale/calendars"},
d38 1
a38 1
@@@@ -85,7 +83,7 @@@@ for section, values in INITIAL_CONFIG.items():
@


1.5
log
@update to radicale 0.7, from maintainer Sergey Bronnikov
@
text
@d1 3
a3 3
$OpenBSD: patch-radicale_config_py,v 1.4 2011/08/19 20:35:34 sthen Exp $
--- radicale/config.py.orig	Tue Mar 13 09:46:54 2012
+++ radicale/config.py	Wed May 23 19:00:00 2012
d19 6
a24 6
-        "httpasswd_filename": "/etc/radicale/users",
+        "httpasswd_filename": "${SYSCONFDIR}/radicale/users",
         "httpasswd_encryption": "crypt",
         "ldap_url": "ldap://localhost:389/",
         "ldap_base": "ou=users,dc=example,dc=com",
@@@@ -66,12 +66,10 @@@@ INITIAL_CONFIG = {
d28 5
a32 5
-        "filesystem_folder":
-            os.path.expanduser("~/.config/radicale/collections"),
-        "git_folder":
-            os.path.expanduser("~/.config/radicale/collections")},
+        "filesystem_folder": "/var/db/radicale/calendars",
d40 1
a40 1
@@@@ -83,7 +81,7 @@@@ for section, values in INITIAL_CONFIG.items():
@


1.4
log
@update radicale to 0.6, amongst other things adding support for ical4/iphone.
ok ian@@, Sergey Bronnikov (maintainer).
@
text
@d1 3
a3 3
$OpenBSD: patch-radicale_config_py,v 1.3 2011/05/06 15:35:47 sthen Exp $
--- radicale/config.py.orig	Wed Jun 15 20:03:33 2011
+++ radicale/config.py	Mon Aug  1 23:44:48 2011
d9 1
a9 1
-        "key": "/etc/apache2/ssl/server.key"},
d11 2
a12 1
+        "key": "${SYSCONFDIR}/radicale/private/server.key"},
d15 1
a15 2
         "stock": "utf-8"},
@@@@ -52,7 +52,7 @@@@ INITIAL_CONFIG = {
d24 2
a25 3
@@@@ -60,9 +60,9 @@@@ INITIAL_CONFIG = {
         "ldap_binddn": "",
         "ldap_password": ""},
d27 7
a33 2
-        "folder": os.path.expanduser("~/.config/radicale/calendars")},
+        "folder": "/var/db/radicale/calendars"},
d40 1
a40 1
@@@@ -74,7 +74,7 @@@@ for section, values in INITIAL_CONFIG.items():
d47 2
a48 2
 if 'RADICALE_CONFIG' in os.environ:
     _CONFIG_PARSER.read(os.environ['RADICALE_CONFIG'])
@


1.3
log
@update to 0.5, from Mark Peoples, maintainer timeout

* Calendar depth
* iPhone support
* MacOS and Windows support
* HEAD requests management
* htpasswd user from calendar path

ok ian@@
@
text
@d1 4
a4 5
$OpenBSD: patch-radicale_config_py,v 1.2 2011/04/17 14:54:47 sthen Exp $
--- radicale/config.py.orig	Sun Jan  9 16:45:29 2011
+++ radicale/config.py	Fri May  6 16:24:23 2011
@@@@ -43,18 +43,18 @@@@ INITIAL_CONFIG = {
         "port": "5232",
d6 1
d15 12
a26 6
     "acl": {
         "type": "fake",
         "personal": "False",
-        "filename": "/etc/radicale/users",
+        "filename": "${SYSCONFDIR}/radicale/users",
         "encryption": "crypt"},
d28 7
a34 2
-        "folder": os.path.expanduser("~/.config/radicale/calendars")}}
+        "folder": "/var/db/radicale/calendars"}}
d36 1
a36 3
 # Create a ConfigParser and configure it
 _CONFIG_PARSER = ConfigParser()
@@@@ -64,7 +64,7 @@@@ for section, values in INITIAL_CONFIG.items():
d43 2
a44 2
 
 # Wrap config module into ConfigParser instance
@


1.2
log
@- adjust default directories for ssl keys, /etc/ssl/private isn't
going to be accessible by the uid running radicale

- add a readme, showing people how to setup auth/crypto

with/ok ian@@
@
text
@d1 4
a4 4
$OpenBSD: patch-radicale_config_py,v 1.1.1.1 2011/04/15 15:47:17 sthen Exp $
--- radicale/config.py.orig	Fri Apr  1 22:44:18 2011
+++ radicale/config.py	Fri Apr  1 22:45:40 2011
@@@@ -45,18 +45,18 @@@@ INITIAL_CONFIG = {
d27 1
a27 1
@@@@ -66,7 +66,7 @@@@ for section, values in INITIAL_CONFIG.items():
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d10 2
a11 2
+        "certificate": "/etc/ssl/server.crt",
+        "key": "/etc/ssl/private/server.key"},
@


1.1.1.1
log
@Import ports/productivity/radicale, a simple CalDAV server.
Tweaked from a submission from maintainer Sergey Bronnikov, ok landry@@

The Radicale Project is a complete CalDAV calendar server solution,
capable of making multiple calendars available to local and remote
users, with optional authentication policies. Calendars can be
viewed and edited by a calendar client such as Sunbird or Evolution.

The Radicale Project aims to be a light solution, easy to use, easy
to install, easy to configure. As a consequence, it requires few
software dependencies and is pre-configured to work out-of-the-box.
@
text
@@
