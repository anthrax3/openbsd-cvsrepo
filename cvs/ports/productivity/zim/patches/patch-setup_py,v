head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.6
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.4
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.3.0.12
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.10
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.8
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.6
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.1.1.0.2
	OPENBSD_4_9_BASE:1.1.1.1
	rpointel_20101227:1.1.1.1
	sbenoit:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2015.05.04.19.28.16;	author benno;	state Exp;
branches;
next	1.3;
commitid	ImfsVXqE8cRA6UIB;

1.3
date	2012.06.21.20.25.45;	author gonzalo;	state Exp;
branches;
next	1.2;

1.2
date	2011.05.02.16.02.13;	author rpointel;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.27.12.05.13;	author rpointel;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.12.27.12.05.13;	author rpointel;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update productivity/zim to version 0.62
with reminder from sthen@@, ok dcoppa@@ phessler@@
@
text
@$OpenBSD: patch-setup_py,v 1.3 2012/06/21 20:25:45 gonzalo Exp $
--- setup.py.orig	Wed Aug 20 15:35:11 2014
+++ setup.py	Sun Apr 26 17:07:46 2015
@@@@ -81,7 +81,7 @@@@ def include_file(file):
 def collect_data_files():
 	# Search for data files to be installed in share/
 	data_files = [
-		('share/man/man1', ['man/zim.1']),
+		('man/man1', ['man/zim.1']),
 		('share/applications', ['xdg/zim.desktop']),
 		('share/mime/packages', ['xdg/zim.xml']),
 		('share/pixmaps', ['xdg/hicolor/48x48/apps/zim.png']),
@@@@ -111,6 +111,12 @@@@ def collect_data_files():
 			files = [os.path.join(dir, f) for f in files]
 			data_files.append((target, files))
 
+        for dir, dirs, files in os.walk('man'):
+                if files:
+                        target = os.path.join('man', dir[4:])
+                        files = [os.path.join(dir, f) for f in files]
+                        data_files.append((target, files))
+
 	if build_target == 'maemo':
 		# Remove default .desktop files and replace with our set
 		prefix = os.path.join('share', 'zim', 'applications')
@@@@ -276,7 +282,7 @@@@ class zim_install_class(install_class):
 
 	def initialize_options(self):
 		install_class.initialize_options(self)
-		self.skip_xdg_cmd = 0
+		self.skip_xdg_cmd = 1
 
 	def run(self):
 		install_class.run(self)
@


1.3
log
@This is an update for Zim to 0.56 with this updates:

* Fixed critical bug for opening email adresses without "mailto:" prefix
* Fixed bug where context menu for page index applied to the current page
  instead of the selected page
* Fixed behavior of Recent Pages pathbar in cases where part of the
history is dropped
* Fixed behavior of the Search dialog, it no longer hangs and also
allows cancelling the search
* Fixed bug where replacing a word (e.g spell correction) could drop
formatting

And a lot others. Tested on i386

Ok Sebastian Benoit (MAINTAINER), aja@@
@
text
@d1 3
a3 3
$OpenBSD: patch-setup_py,v 1.2 2011/05/02 16:02:13 rpointel Exp $
--- setup.py.orig	Wed Jan 18 13:46:01 2012
+++ setup.py	Fri May 18 09:44:41 2012
d13 1
a13 1
@@@@ -110,6 +110,12 @@@@ def collect_data_files():
d26 1
a26 1
@@@@ -275,7 +281,7 @@@@ class zim_install_class(install_class):
@


1.2
log
@update zim to 0.52.
ok Sebastian Benoit (MAINTAINER).
@
text
@d1 4
a4 4
$OpenBSD: patch-setup_py,v 1.1.1.1 2010/12/27 12:05:13 rpointel Exp $
--- setup.py.orig	Thu Apr  7 22:21:33 2011
+++ setup.py	Fri Apr 29 18:37:55 2011
@@@@ -81,7 +81,7 @@@@
d13 1
a13 1
@@@@ -104,6 +104,12 @@@@
d26 1
a26 1
@@@@ -246,7 +252,7 @@@@
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- setup.py.orig	Sun Dec 26 20:58:41 2010
+++ setup.py	Sun Dec 26 21:00:14 2010
@@@@ -75,7 +75,7 @@@@
d13 1
a13 1
@@@@ -88,6 +88,13 @@@@
d17 5
a21 5
+	for dir, dirs, files in os.walk('man'):
+		if files:
+			target = os.path.join('man', dir[4:])
+			files = [os.path.join(dir, f) for f in files]
+			data_files.append((target, files))
d23 4
a26 5
+
 	# data -> PREFIX/share/zim
 	for dir, dirs, files in os.walk('data'):
 		if '.zim' in dirs:
@@@@ -240,7 +247,7 @@@@
d32 1
a32 1
 	
@


1.1.1.1
log
@Import Zim, a desktop wiki.
From MAINTAINER Sebastian Benoit.
ok landry@@ (thanks).
@
text
@@
