head	1.45;
access;
symbols
	OPENBSD_6_2:1.45.0.2
	OPENBSD_6_2_BASE:1.45
	OPENBSD_6_1:1.42.0.6
	OPENBSD_6_1_BASE:1.42
	OPENBSD_6_0:1.42.0.4
	OPENBSD_6_0_BASE:1.42
	OPENBSD_5_9:1.42.0.2
	OPENBSD_5_9_BASE:1.42
	OPENBSD_5_8:1.40.0.4
	OPENBSD_5_8_BASE:1.40
	OPENBSD_5_7:1.37.0.6
	OPENBSD_5_7_BASE:1.37
	OPENBSD_5_6:1.37.0.4
	OPENBSD_5_6_BASE:1.37
	OPENBSD_5_5:1.37.0.2
	OPENBSD_5_5_BASE:1.37
	OPENBSD_5_4:1.35.0.2
	OPENBSD_5_4_BASE:1.35
	OPENBSD_5_3:1.31.0.2
	OPENBSD_5_3_BASE:1.31
	OPENBSD_5_2:1.29.0.4
	OPENBSD_5_2_BASE:1.29
	OPENBSD_5_1_BASE:1.29
	OPENBSD_5_1:1.29.0.2
	OPENBSD_5_0:1.26.0.2
	OPENBSD_5_0_BASE:1.26
	OPENBSD_4_9:1.24.0.2
	OPENBSD_4_9_BASE:1.24
	OPENBSD_4_8:1.16.0.2
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.8.0.2
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.7.0.2
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	jasper_20070716:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.45
date	2017.07.27.10.05.20;	author sthen;	state Exp;
branches;
next	1.44;
commitid	GaeX7RvWvJNgCIJE;

1.44
date	2017.05.31.08.08.17;	author espie;	state Exp;
branches;
next	1.43;
commitid	ij92FtFXiSiT1ani;

1.43
date	2017.05.13.15.40.27;	author espie;	state Exp;
branches;
next	1.42;
commitid	3J22RKOFFuFiE8de;

1.42
date	2015.10.26.20.24.54;	author edd;	state Exp;
branches;
next	1.41;
commitid	0S4KDxLwaBX8bP6y;

1.41
date	2015.09.24.10.36.27;	author ajacoutot;	state Exp;
branches;
next	1.40;
commitid	jj4PFb9mNdQIhc1M;

1.40
date	2015.04.21.18.51.26;	author sthen;	state Exp;
branches;
next	1.39;
commitid	ptMCPiyuhL0JiHRZ;

1.39
date	2015.04.04.09.21.04;	author ajacoutot;	state Exp;
branches;
next	1.38;
commitid	kS3kwKZogsvzYmEY;

1.38
date	2015.03.27.08.14.14;	author ajacoutot;	state Exp;
branches;
next	1.37;
commitid	ERm8DOTUF1j7394B;

1.37
date	2013.09.27.17.49.09;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2013.08.20.22.05.58;	author zhuk;	state Exp;
branches;
next	1.35;

1.35
date	2013.06.28.10.11.10;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2013.04.08.14.20.34;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2013.03.21.08.48.53;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2013.03.11.11.37.55;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2013.01.11.13.44.25;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2012.08.20.07.39.36;	author jasper;	state Exp;
branches;
next	1.29;

1.29
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2011.09.16.11.13.43;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2011.09.13.07.50.51;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2011.07.27.17.46.22;	author naddy;	state Exp;
branches;
next	1.25;

1.25
date	2011.06.08.17.37.46;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2011.01.18.20.03.07;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2011.01.16.20.34.40;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.11.20.09.48.40;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2010.11.05.07.57.07;	author sthen;	state Exp;
branches;
next	1.20;

1.20
date	2010.10.24.21.33.27;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.11.08.17.46;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2010.09.30.13.03.10;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2010.08.30.17.57.31;	author fgsch;	state Exp;
branches;
next	1.16;

1.16
date	2010.05.13.12.37.16;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2010.05.13.12.29.25;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2010.05.13.08.20.09;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2010.04.27.20.20.55;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.10.16.00.58.43;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.10.15.23.53.48;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2009.09.18.10.25.22;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.08.10.06.34.09;	author kili;	state Exp;
branches;
next	1.8;

1.8
date	2009.06.19.12.35.14;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2009.01.21.10.50.12;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2009.01.14.10.46.15;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2008.07.15.08.39.50;	author bernd;	state Exp;
branches;
next	1.4;

1.4
date	2008.06.03.14.56.09;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2008.05.31.23.11.54;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2007.11.12.22.05.41;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2007.07.16.14.24.57;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.07.16.14.24.57;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.45
log
@add COMPILER_LIBCXX to WANTLIB and bump
@
text
@# $OpenBSD: Makefile,v 1.44 2017/05/31 08:08:17 espie Exp $

# XXX check if still needed at next update
CXXFLAGS +=		-std=c++11

COMMENT=		reminder program for prevention of RSI

DISTNAME=		workrave-1.10.1
CATEGORIES=		productivity x11
REVISION=		0

HOMEPAGE=		http://www.workrave.org/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ${COMPILER_LIBCXX}
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender Xss Xtst atk-1.0 atk-bridge-2.0
WANTLIB += atkmm-1.6 atspi c cairo cairo-gobject cairomm-1.0 dbus-1
WANTLIB += dbus-glib-1 epoxy expat ffi fontconfig freetype gconf-2
WANTLIB += gdk-3 gdk_pixbuf-2.0 gdkmm-3.0 gio-2.0 giomm-2.4 glib-2.0
WANTLIB += glibmm-2.4 gmodule-2.0 gobject-2.0 graphite2 gstreamer-0.10
WANTLIB += gthread-2.0 gtk-3 gtkmm-3.0 harfbuzz lzma m pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pangomm-1.4 pcre pixman-1
WANTLIB += png pthread pthread-stubs sigc-2.0 xcb xcb-render
WANTLIB += xcb-shm xml2 z

SHARED_LIBS +=		workrave-private-1.0      0.0

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=workrave/}

BUILD_DEPENDS=		devel/py-cheetah \
			devel/gobject-introspection \
			${MODGNU_AUTOCONF_DEPENDS} \
			${MODGNU_AUTOMAKE_DEPENDS}

RUN_DEPENDS=		devel/desktop-file-utils \
			x11/gtk+3,-guic
LIB_DEPENDS=		devel/gconf2 \
			multimedia/gstreamer-0.10/core \
			x11/dbus-glib \
			x11/gtk3mm

MODULES=		devel/gettext \
			lang/python \
			textproc/intltool

# c++11 (although only for building against libsigc++)
COMPILER =		gcc

USE_GMAKE=		Yes

CONFIGURE_STYLE=	gnu
AUTOCONF_VERSION =	2.69
AUTOMAKE_VERSION =	1.11
CONFIGURE_ARGS+=	--disable-xml \
			--disable-pulse \
			--enable-dbus

# Someone can add GNOME support later if they like
# (GNOME support requires libpanelapplet)
CONFIGURE_ARGS+=	--disable-gnome2 \
			--disable-gnome3
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"

post-patch:
	sed -i -e 's/-D_XOPEN_SOURCE=600/-D_XOPEN_SOURCE=700 -D_BSD_SOURCE/' `find ${WRKDIST} -name Makefile.am`

pre-configure:
	@@cd ${WRKSRC}; env AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} autoreconf

.include <bsd.port.mk>
@


1.44
log
@switch everything to new COMPILER idiom, even stuff that won't build with clang
yet, but at least that part is done.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2017/05/13 15:40:27 espie Exp $
d10 1
d17 1
@


1.43
log
@WANT_CXX. Adjust XOPEN_SOURCE to let libc++ work
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2015/10/26 20:24:54 edd Exp $
d48 1
a48 1
WANT_CXX =		base gcc
@


1.42
log
@Update productivity/workrave to version 1.10.1.

Input from ajacoutot@@ and sthen@@. OK ajacoutot@@, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2015/03/27 08:14:14 ajacoutot Exp $
d48 1
a48 3
MODULES +=		gcc4
MODGCC4_ARCHS=		*
MODGCC4_LANGS=		c++
d65 3
@


1.41
log
@Needs the gcc4 MODULE for c++11 support.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/04/21 18:51:26 sthen Exp $
d8 1
a8 2
DISTNAME=		workrave-1.9.4
REVISION=		11
d16 12
a27 9
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender Xtst atk-1.0 atkmm-1.6 c cairo cairomm-1.0
WANTLIB += dbus-1 dbus-glib-1 expat ffi fontconfig freetype gconf-2
WANTLIB += gdk-x11-2.0 gdk_pixbuf-2.0 gdkmm-2.4 gio-2.0 giomm-2.4
WANTLIB += glib-2.0 glibmm-2.4 gmodule-2.0 gobject-2.0 graphite2
WANTLIB += gstreamer-0.10 gthread-2.0 gtk-x11-2.0 gtkmm-2.4 harfbuzz
WANTLIB += lzma m pango-1.0 pangocairo-1.0 pangoft2-1.0 pangomm-1.4 pcre
WANTLIB += pixman-1 png pthread pthread-stubs sigc-2.0 xcb
WANTLIB += xcb-render xcb-shm xml2 z
d31 5
a35 1
BUILD_DEPENDS=		devel/py-cheetah
d41 1
a41 1
			x11/gtk2mm>=2.24.4
d47 1
a47 1
# c++11
d55 2
d61 4
a64 2
# XXX: Disabled for now as workrave isn't ported to libpanel-applet-4.0 yet
CONFIGURE_ARGS+=	--disable-gnome
d69 2
a70 7
	${SUBST_CMD} ${WRKSRC}/frontend/gtkmm/src/Makefile.in \
		${WRKSRC}/frontend/gtkmm/src/gnome_applet/Makefile.in

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/workrave/sound/events
	${INSTALL_DATA} ${WRKSRC}/frontend/common/share/sounds/workrave.soundlist \
		${PREFIX}/share/examples/workrave/sound/events
@


1.40
log
@add some simple missing lzma WANTLIBs (crept in via libxml)
@
text
@d1 4
a4 1
# $OpenBSD: Makefile,v 1.39 2015/04/04 09:21:04 ajacoutot Exp $
d9 1
a9 1
REVISION=		10
d24 1
a24 1
WANTLIB += pixman-1 png pthread pthread-stubs sigc-2.0 stdc++ xcb
d40 5
@


1.39
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2015/03/27 08:14:14 ajacoutot Exp $
d6 1
a6 1
REVISION=		9
d14 9
a22 9
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender Xtst atk-1.0 atkmm-1.6 c cairo
WANTLIB += cairomm-1.0 dbus-1 dbus-glib-1 expat ffi fontconfig
WANTLIB += freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0 gdkmm-2.4
WANTLIB += gio-2.0 giomm-2.4 glib-2.0 glibmm-2.4 gmodule-2.0 gobject-2.0
WANTLIB += graphite2 gstreamer-0.10 gthread-2.0 gtk-x11-2.0 gtkmm-2.4
WANTLIB += harfbuzz m pango-1.0 pangocairo-1.0 pangoft2-1.0 pangomm-1.4
WANTLIB += pcre pixman-1 png pthread pthread-stubs sigc-2.0 stdc++
WANTLIB += xcb xcb-render xcb-shm xml2 z
@


1.38
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/09/27 17:49:09 ajacoutot Exp $
d6 1
a6 1
REVISION=		8
@


1.37
log
@Bump after devel/gconf2,-main is gone.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/08/20 22:05:58 zhuk Exp $
d6 1
a6 1
REVISION=		7
d28 1
a28 1
			x11/gtk+2,-guic
@


1.36
log
@Fixup handling of FreeDesktop goo: desktop-file-utils, gtk-update-icon-cache
and shared-mime-info. Found by portcheck.

A lot of input from and okay ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/06/28 10:11:10 ajacoutot Exp $
d6 1
a6 1
REVISION=		6
@


1.35
log
@Drop uneeded patches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/04/08 14:20:34 jasper Exp $
d6 1
a6 1
REVISION=		5
d27 2
@


1.34
log
@Fix build with gtkmm>=2.24.3.

reported by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/03/21 08:48:53 ajacoutot Exp $
d6 1
a6 1
REVISION=		4
d14 9
a22 9
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xtst Xxf86vm
WANTLIB += atk-1.0 atkmm-1.6 c cairo cairomm-1.0 dbus-1 dbus-glib-1
WANTLIB += drm expat ffi fontconfig freetype gconf-2 gdk-x11-2.0
WANTLIB += gdk_pixbuf-2.0 gdkmm-2.4 gio-2.0 giomm-2.4 glib-2.0
WANTLIB += glibmm-2.4 gmodule-2.0 gobject-2.0 gstreamer-0.10 gthread-2.0
WANTLIB += gtk-x11-2.0 gtkmm-2.4 m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pangomm-1.4 pcre pixman-1 png pthread pthread-stubs
WANTLIB += sigc-2.0 stdc++ xcb xcb-render xcb-shm xml2 z
d30 1
a30 1
			x11/gtk2mm
@


1.33
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/03/11 11:37:55 espie Exp $
d6 1
a6 1
REVISION=		3
@


1.32
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/01/11 13:44:25 ajacoutot Exp $
a35 1
USE_LIBTOOL=		Yes
@


1.31
log
@Bump after libsigc++-2 -docs => -main merge.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2012/08/20 07:39:36 jasper Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.30
log
@- remove now unneeded -lpthread/-pthread patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/10/29 08:12:32 ajacoutot Exp $
d6 1
a6 1
REVISION=		2
@


1.29
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/09/16 11:13:43 espie Exp $
d6 1
a6 1
REVISION=		1
@


1.28
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/09/13 07:50:51 jasper Exp $
d6 1
a6 1
REVISION=		0
d17 2
a18 2
WANTLIB += GL ICE ORBit-2 SM X11 Xau Xcomposite Xcursor Xdamage
WANTLIB += Xdmcp Xext Xfixes Xi Xinerama Xrandr Xrender Xtst Xxf86vm
d20 6
a25 6
WANTLIB += drm expat fontconfig freetype gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gdkmm-2.4 gio-2.0 giomm-2.4 glib-2.0 glibmm-2.4 gmodule-2.0
WANTLIB += gobject-2.0 gstreamer-0.10 gthread-2.0 gtk-x11-2.0
WANTLIB += gtkmm-2.4 m pango-1.0 pangocairo-1.0 pangoft2-1.0 pangomm-1.4
WANTLIB += pcre pixman-1 png pthread pthread-stubs sigc-2.0 stdc++
WANTLIB += xcb xcb-render xcb-shm xml2 z
@


1.27
log
@- update to 1.9.4
* disable gnome support as it's broken with new gnome-panel
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/07/27 17:46:22 naddy Exp $
d6 1
@


1.26
log
@drop workaround now that realpath() accepts NULL as second argument
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/06/08 17:37:46 jasper Exp $
d5 1
a5 1
DISTNAME=		workrave-1.9.3
a7 2
REVISION=		2

d16 9
a24 14
WANTLIB += ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite
WANTLIB += Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xrandr
WANTLIB += Xrender Xtst art_lgpl_2 atk-1.0
WANTLIB += bonobo-2 bonobo-activation bonoboui-2 c
WANTLIB += cairo cairomm-1.0 crypto dbus-1 dbus-glib-1 expat fontconfig
WANTLIB += freetype gailutil gconf-2 gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += gio-2.0 giomm-2.4 glib-2.0 glibmm-2.4 gmodule-2.0
WANTLIB += gnome-2 gnomecanvas-2 gnomevfs-2 gobject-2.0 gthread-2.0
WANTLIB += gtk-x11-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB += pangomm-1.4 pcre pixman-1 png popt pthread pthread-stubs
WANTLIB += sigc-2.0 ssl stdc++ util xcb xcb-render
WANTLIB += xml2 z atkmm-1.6 xcb-shm
WANTLIB += gstreamer-0.10 panel-applet-2 gdkmm-2.4 gtkmm-2.4
WANTLIB += GL Xxf86vm canberra drm ltdl ogg vorbis vorbisfile
d29 3
a31 2
LIB_DEPENDS=		multimedia/gstreamer-0.10/core \
			x11/gnome/panel \
a40 2
CFLAGS+=		-DNDEBUG

d45 3
@


1.25
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/01/18 20:03:07 ajacoutot Exp $
d8 1
a8 1
REVISION=		1
@


1.24
log
@Remove the need for ${SYSCONFDIR}/gnome and use ${SYSCONFDIR} instead.
Discussed with landry@@ and jasper@@

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/01/16 20:34:40 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
@


1.23
log
@Update to workrave-1.9.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/11/20 09:48:40 espie Exp $
d8 2
a65 2

CONFIGURE_ARGS+=	--sysconfdir="${SYSCONFDIR}/gnome"
@


1.22
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/11/05 07:57:07 sthen Exp $
d5 1
a5 2
DISTNAME=		workrave-1.9.1
REVISION =		3
d18 2
a19 2
WANTLIB += Xrender Xtst art_lgpl_2 atk-1.0 avahi-client avahi-common
WANTLIB += avahi-glib bonobo-2 bonobo-activation bonoboui-2 c
d26 4
a29 3
WANTLIB += sigc-2.0 ssl stdc++ util xcb xcb-render xcb-render-util
WANTLIB += xml2 z atkmm-1.6
WANTLIB += gnet-2.0 gstreamer-0.10 panel-applet-2 gdkmm-2.4 gtkmm-2.4
a34 1
			net/gnet \
d49 1
@


1.21
log
@new-style revision/lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/10/24 21:33:27 ajacoutot Exp $
d33 5
a37 5
BUILD_DEPENDS=		::devel/py-cheetah
LIB_DEPENDS=		::multimedia/gstreamer-0.10/core \
			::net/gnet \
			::x11/gnome/panel \
			::x11/gtk2mm
@


1.20
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/11 08:17:46 jasper Exp $
d29 1
d34 4
a37 4
LIB_DEPENDS=		gstreamer-0.10::multimedia/gstreamer-0.10/core \
			gnet-2.0::net/gnet \
			panel-applet-2::x11/gnome/panel \
			gdkmm-2.4,gtkmm-2.4::x11/gtk2mm
@


1.19
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/09/30 13:03:10 ajacoutot Exp $
a41 1
USE_X11=		Yes
@


1.18
log
@Unbreak after atk2mm was moved out of gtk2mm.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/08/30 17:57:31 fgsch Exp $
d6 1
a6 1
REVISION =		2
d23 1
a23 1
WANTLIB += gio-2.0 giomm-2.4 glib-2.0 glibmm-2.4 glitz gmodule-2.0
@


1.17
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/05/13 12:37:16 jasper Exp $
d6 1
a6 1
REVISION =		1
d28 1
a28 1
WANTLIB += xml2 z
d36 1
a36 1
			atkmm-1.6,gdkmm-2.4,gtkmm-2.4::x11/gtk2mm
@


1.16
log
@- remove old hack that once fixed the build, but does nothing nowadays.
- remove unneeded run dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/05/13 12:29:25 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
@


1.15
log
@- update workrave to 1.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/05/13 08:20:09 jasper Exp $
d6 1
d32 1
a32 2
BUILD_DEPENDS=		${RUN_DEPENDS}
RUN_DEPENDS=		::devel/py-cheetah
a56 9
	perl -pi -e 's,#include <sigc\+\+\/compatibility\.h>,,g ; \
		s,SigC::Signal,sigc::signal,g ; \
		s,SigC::slot_class,sigc::mem_fun,g ; \
		s,SigC::Connection,sigc::connection,g ; \
		s,SigC::Slot,sigc::slot,g ; \
		s,SigC::Object,sigc::trackable,g ; \
		s,SigC::slot,sigc::mem_fun,g' \
		${WRKSRC}/frontend/gtkmm/src/*.* \
		${WRKSRC}/frontend/plugin/*/gtkmm/src/*.*
@


1.14
log
@- fix homepage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/04/27 20:20:55 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		workrave-1.8.5
PKGNAME=		${DISTNAME}p10
d16 12
a27 15
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcomposite \
		Xcursor Xdamage Xdmcp Xext Xfixes Xi Xinerama Xmu Xrandr \
		Xrender Xt Xtst art_lgpl_2 atk-1.0 atkmm-1.6 \
		bonobo-2 bonobo-activation bonoboui-2 c cairo cairomm-1.0 \
		crypto dbus-1 dbus-glib-1 expat fontconfig freetype \
		gailutil gconf-2 gconfmm-2.6 gdk-x11-2.0 gdk_pixbuf-2.0 \
		gdkmm-2.4 gio-2.0 giomm-2.4 glade-2.0 glademm-2.4 glib-2.0 \
		glibmm-2.4 glitz gmodule-2.0 gnome-2 gnome-keyring \
		gnomecanvas-2 gnomecanvasmm-2.6 gnomemm-2.6 gnomeui-2 \
		gnomevfs-2 gnomevfsmm-2.6 gobject-2.0 gthread-2.0 gtk-x11-2.0 \
		gtkmm-2.4 m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		pangomm-1.4 pcre pixman-1 png popt pthread sigc-2.0 ssl \
		stdc++ util xml2 z avahi-client avahi-common avahi-glib \
		pthread-stubs xcb eggdbus-1 gcrypt gpg-error xcb-render \
		xcb-render-util
d31 6
a36 3
LIB_DEPENDS=		gnet-2.0::net/gnet \
			gnomeuimm-2.6::x11/gnome/libgnomeuimm \
			panel-applet-2::x11/gnome/panel
d39 1
d49 2
d55 9
a63 7
	perl -pi -e 's|#include <sigc\+\+\/compatibility\.h>||g ; \
		s|SigC::Signal|sigc::signal|g ; \
		s|SigC::slot_class|sigc::mem_fun|g ; \
		s|SigC::Connection|sigc::connection|g ; \
		s|SigC::Slot|sigc::slot|g ; \
		s|SigC::Object|sigc::trackable|g ; \
		s|SigC::slot|sigc::mem_fun|g' \
@


1.13
log
@Fix build after recent gtkmm update.
While here, link with -pthread, not -lpthread.

This port could probably use an update...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/10/16 00:58:43 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p9
d9 1
a9 1
HOMEPAGE=		http://www.workrave.org/welcome/
@


1.12
log
@Let's use a scalpel, not an axe.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/10/15 23:53:48 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p8
d30 2
a31 1
		pthread-stubs xcb
@


1.11
log
@kiki says: fix workrave after libgnomui update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/09/18 10:25:22 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p7
d48 2
a49 4
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include \
			`pkg-config --cflags libgnomeui-2.0`" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib \
			`pkg-config --libs libgnomeui-2.0`"
@


1.10
log
@Fix build with newer libsigc++2 (from FreeBSD)

(reported by jasper@@)
ok jasper@@ landry@@ wilfried@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/08/10 06:34:09 kili Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p6
d48 4
a51 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include -I${X11BASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib"
@


1.9
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/06/19 12:35:14 sthen Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p5
d50 11
@


1.8
log
@sync wantlib, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/01/21 10:50:12 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p4
d29 2
a30 1
		stdc++ util xml2 z avahi-client avahi-common avahi-glib
@


1.7
log
@- regen WANTLIB after libgnome esound support removal
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/01/14 10:46:15 jasper Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p3
d29 1
a29 1
		stdc++ util xml2 z
@


1.6
log
@- specify license version
- regen PLIST after libgnomeuimm update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/07/15 08:39:50 bernd Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p2
d19 1
a19 1
		Xrender Xt Xtst art_lgpl_2 atk-1.0 atkmm-1.6 audiofile \
d21 1
a21 1
		crypto dbus-1 dbus-glib-1 esd expat fontconfig freetype \
d27 1
a27 1
		gtkmm-2.4 jpeg m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
@


1.5
log
@Disable debug output and regen PLIST.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/06/03 14:56:09 ajacoutot Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p1
d11 1
a11 1
# GPL
d23 4
a26 4
		gdkmm-2.4 glade-2.0 glademm-2.4 glib-2.0 glibmm-2.4 \
		glitz gmodule-2.0 gnome-2 gnome-keyring gnomecanvas-2 \
		gnomecanvasmm-2.6 gnomemm-2.6 gnomeui-2 gnomevfs-2 \
		gnomevfsmm-2.6 gobject-2.0 gthread-2.0 gtk-x11-2.0 \
@


1.4
log
@- use the in-tree intltool utilities (textproc/intltool MODULE) instead
of the ones bundled in sources
PLIST_DB seems happy with the change so no bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/05/31 23:11:54 sthen Exp $
d6 1
a6 1
PKGNAME=		${DISTNAME}p0
d44 1
d48 1
a48 1
			LDFLAGS="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
@


1.3
log
@sync WANTLIB, bump package version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/11/12 22:05:41 jasper Exp $
a32 1
BUILD_DEPENDS=		::textproc/p5-XML-Parser
d37 2
a38 1
MODULES=		devel/gettext
@


1.2
log
@update workrave to 1.8.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/07/16 14:24:57 jasper Exp $
d6 1
d28 2
a29 2
		pangomm-1.4 pcre png popt pthread sigc-2.0 ssl stdc++ \
		util xml2 z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 3
V=			1.8.4
DISTNAME=		workrave-${V}-2
PKGNAME=		workrave-${V}.2
d15 11
a25 9
WANTLIB=	ICE ORBit-2 ORBitCosNaming-2 SM X11 Xau Xcursor Xdmcp \
		Xext Xfixes Xi Xinerama Xmu Xrandr Xrender Xt Xtst \
		art_lgpl_2 atk-1.0 atkmm-1.6 audiofile bonobo-2 bonobo-activation \
		bonoboui-2 c cairo cairomm-1.0 crypto dbus-1 dbus-glib-1 \
		esd expat fontconfig freetype gconf-2 gconfmm-2.6 gdk-x11-2.0 \
		gdk_pixbuf-2.0 gdkmm-2.4 glade-2.0 glademm-2.4 glib-2.0 \
		glibmm-2.4 glitz gmodule-2.0 gnome-2 gnome-keyring \
		gnomecanvas-2 gnomecanvasmm-2.6 gnomemm-2.6 gnomeui-2 \
		gnomevfs-2 gnomevfsmm-2.6 gobject-2.0 gthread-2.0 gtk-x11-2.0 \
d27 2
a28 1
		pangomm-1.4 png popt pthread sigc-2.0 ssl stdc++ util xml2 z
a42 1
WRKDIST=		${WRKDIR}/workrave-${V}
@


1.1.1.1
log
@import workrave 1.8.4.2

Workrave is a program that assists in the recovery and prevention of
Repetitive Strain Injury (RSI). The program frequently alerts you to
take micro-pauses, rest breaks and restricts you to your daily limit.
These can be customized and it stops the counter when you stop. The
program can be run distributed on one or more PCs. All connected PCs
share the same timing information. When you switch computers, you will
still be asked to pause on time.

feedback and ok ajacoutot@@
@
text
@@
