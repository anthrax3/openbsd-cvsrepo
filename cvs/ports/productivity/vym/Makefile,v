head	1.23;
access;
symbols
	OPENBSD_6_0:1.22.0.2
	OPENBSD_6_0_BASE:1.22
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.19.0.4
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.17.0.8
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.17.0.6
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.17.0.4
	OPENBSD_5_5_BASE:1.17
	OPENBSD_5_4:1.17.0.2
	OPENBSD_5_4_BASE:1.17
	OPENBSD_5_3:1.16.0.2
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.15.0.2
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.14
	OPENBSD_5_1:1.14.0.2
	OPENBSD_5_0:1.12.0.2
	OPENBSD_5_0_BASE:1.12
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.6.0.2
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.5.0.2
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.3.0.6
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.4
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	ajacoutot_20070707:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2016.12.25.14.34.39;	author zhuk;	state Exp;
branches;
next	1.22;
commitid	l6KSNN1DfB6ABkhu;

1.22
date	2016.03.26.20.37.35;	author zhuk;	state Exp;
branches;
next	1.21;
commitid	OEdThNVtQpfieDxV;

1.21
date	2016.03.07.11.14.02;	author zhuk;	state Exp;
branches;
next	1.20;
commitid	6uhQhTvg2Qje6urY;

1.20
date	2015.12.21.18.36.27;	author jasper;	state Exp;
branches;
next	1.19;
commitid	1ct76r38IAMwZ6Ky;

1.19
date	2015.06.04.07.31.51;	author jasper;	state Exp;
branches;
next	1.18;
commitid	6GBbKybOYNxw0e1N;

1.18
date	2015.05.09.08.54.42;	author jasper;	state Exp;
branches;
next	1.17;
commitid	5SlUmcCxjmvkpmGR;

1.17
date	2013.03.11.11.37.55;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2012.08.29.07.37.05;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2012.06.22.06.48.58;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2011.11.03.22.21.21;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2011.09.16.11.13.43;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2011.04.01.15.20.08;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2011.03.25.12.39.58;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.20.09.48.40;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.05.07.57.07;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.24.21.33.27;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.03.30.19.21.28;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2009.08.10.06.34.09;	author kili;	state Exp;
branches;
next	1.5;

1.5
date	2009.06.19.12.35.14;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2009.03.11.14.48.54;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2008.01.21.22.10.21;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2008.01.04.16.27.30;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2007.07.07.17.59.05;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.07.07.17.59.05;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.23
log
@Adapt to new x11/qt5 layout, mostly REVISION bumps due to changed deps.

The devel/kf5 to be handled separately, please wait.
@
text
@# $OpenBSD: Makefile,v 1.22 2016/03/26 20:37:35 zhuk Exp $

COMMENT=	generate and manipulate maps of your thoughts

DISTNAME=	vym-2.5.0
CATEGORIES=	productivity x11
REVISION=	0

HOMEPAGE=	http://www.insilmaril.de/vym/

# modified GPLv2
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=vym/}
EXTRACT_SUFX=	.tar.bz2

WANTLIB += GL Qt5Core Qt5DBus Qt5Gui Qt5Network Qt5PrintSupport
WANTLIB += Qt5Svg Qt5Widgets Qt5Xml c m pthread

MODULES=	devel/gettext \
		devel/qmake \
		x11/qt5

RUN_DEPENDS=	archivers/zip \
		archivers/unzip \
		textproc/libxslt

LIB_DEPENDS=	x11/qt5/qtsvg

PORTHOME=	${WRKDIR}
NO_TEST=	Yes

SHARE_DIRS=	flags flags/freemind icons scripts styles

pre-configure:
	@@echo "QMAKE_CXXFLAGS_RELEASE=${CXXFLAGS}" \
		>> ${WRKSRC}/vym.pro
	${SUBST_CMD} ${WRKSRC}/mainwindow.cpp ${WRKSRC}/main.cpp

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/vym ${PREFIX}/bin
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/vym/
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/vym/
	${INSTALL_DATA} ${WRKSRC}/doc/*.pdf ${PREFIX}/share/doc/vym/
	${INSTALL_DATA} ${WRKSRC}/demos/* ${PREFIX}/share/examples/vym/
.for i in ${SHARE_DIRS}
	${INSTALL_DATA_DIR} ${PREFIX}/share/vym/${i}
	find ${WRKSRC}/${i}/ -type f -exec \
		${INSTALL_DATA} {} ${PREFIX}/share/vym/${i} \;
.endfor
	${INSTALL_DATA} ${WRKSRC}/doc/vym.1.gz ${PREFIX}/man/man1
	gunzip ${PREFIX}/man/man1/vym.1.gz

.include <bsd.port.mk>
@


1.22
log
@Zap more lines from qmake-based ports by moving them from
the "MODULES=x11/qtX + CONFIGURE_STYLE=qmake" logic to
the "MODULES=devel/qmake x11/qtX" logic.

Discussed with espie@@ a few weeks ago.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/03/07 11:14:02 zhuk Exp $
d7 1
d27 2
@


1.21
log
@Convert to MODQMAKE, -2 lines of Makefile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2015/12/21 18:36:27 jasper Exp $
d20 1
a21 2

CONFIGURE_STYLE=	qmake
@


1.20
log
@update to vym-2.5.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/06/04 07:31:51 jasper Exp $
d22 2
a33 3
	${SUBST_CMD} ${WRKSRC}/mainwindow.cpp ${WRKSRC}/main.cpp

do-configure:
d36 1
a36 2
	cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} \
		${LOCALBASE}/bin/qmake-qt5 DOCDIR="${PREFIX}/share/doc/vym" vym.pro
d39 1
a39 1
	${INSTALL_PROGRAM} ${WRKSRC}/vym ${PREFIX}/bin
@


1.19
log
@update to vym-2.4.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/05/09 08:54:42 jasper Exp $
d5 1
a5 1
DISTNAME=	vym-2.4.3
@


1.18
log
@update to vym-2.3.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/11 11:37:55 espie Exp $
d5 1
a5 1
DISTNAME=	vym-2.3.24
d16 2
a17 3
WANTLIB += ICE QtDBus QtGui QtNetwork QtSvg QtXml SM X11 Xext
WANTLIB += Xi Xinerama Xrender c fontconfig freetype m pthread
WANTLIB += stdc++
d20 1
a20 1
		x11/qt4
d38 1
a38 1
		${LOCALBASE}/bin/qmake4 DOCDIR="${PREFIX}/share/doc/vym" vym.pro
@


1.17
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/08/29 07:37:05 jasper Exp $
d5 1
a5 1
DISTNAME=	vym-2.2.2
@


1.16
log
@- update to vym 2.2.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/06/22 06:48:58 jasper Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d28 1
a28 1
NO_REGRESS=	Yes
@


1.15
log
@- update to 2.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/11/03 22:21:21 jasper Exp $
d5 1
a5 1
DISTNAME=	vym-2.2.0
@


1.14
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/09/16 11:13:43 espie Exp $
d5 1
a5 2
DISTNAME=	vym-1.12.7
REVISION=	3
d19 2
a20 1
WANTLIB += Qt3Support QtGui QtNetwork QtSql QtXml c m pthread
d33 1
a33 1
SHARE_DIRS=	flags icons scripts styles
d42 1
a42 1
		${LOCALBASE}/bin/qmake4 vym.pro
d48 1
a48 1
	${INSTALL_DATA} ${WRKSRC}/doc/* ${PREFIX}/share/doc/vym/
d55 2
@


1.13
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/04/01 15:20:08 jasper Exp $
d6 1
a6 1
REVISION=	2
d20 2
a21 3
WANTLIB += ICE SM X11 Xext Xi Xinerama Xrender c expat fontconfig
WANTLIB += freetype glib-2.0 gobject-2.0 gthread-2.0 m png pthread
WANTLIB += stdc++ z Qt3Support QtGui QtNetwork QtSql QtXml
@


1.12
log
@- add another missing dependency, needed for xml/html exports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/03/25 12:39:58 jasper Exp $
d6 1
a6 1
REVISION=	1
@


1.11
log
@- add missin run dependency, otherwise it wouldn't load any .vym files..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/20 09:48:40 espie Exp $
d6 1
a6 1
REVISION=	0
d28 2
a29 1
		archivers/unzip
@


1.10
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/05 07:57:07 sthen Exp $
d6 1
d27 2
a28 1
RUN_DEPENDS=	archivers/zip
@


1.9
log
@new-style revision/lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/24 21:33:27 ajacoutot Exp $
d26 1
a26 2
RUN_DEPENDS=	::archivers/zip
LIB_DEPENDS=	::x11/qt4
@


1.8
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/03/30 19:21:28 jasper Exp $
d21 1
a21 1
WANTLIB += stdc++ z
d27 1
a27 1
LIB_DEPENDS=	Qt3Support,QtGui,QtNetwork,QtSql,QtXml::x11/qt4
@


1.7
log
@- update vym to 1.12.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/08/10 06:34:09 kili Exp $
a28 1
USE_X11=	Yes
@


1.6
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/06/19 12:35:14 sthen Exp $
d5 1
a5 2
DISTNAME=	vym-1.10.0
PKGNAME=	${DISTNAME}p3
d19 3
a21 3
WANTLIB += ICE SM X11 Xext Xi Xinerama Xrender c fontconfig
WANTLIB += freetype glib-2.0 gthread-2.0 m png pthread stdc++
WANTLIB += z expat gobject-2.0 pthread-stubs xcb
d36 1
a36 3
	@@perl -pi -e 's,!!PREFIX!!,${PREFIX},g' \
		${WRKSRC}/mainwindow.cpp \
		${WRKSRC}/exportxhtmldialog.cpp
@


1.5
log
@sync wantlib, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/03/11 14:48:54 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d22 1
a22 1
WANTLIB += z expat gobject-2.0
@


1.4
log
@sync WANTLIB/LIB_DEPENDS, bump packages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2008/01/21 22:10:21 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d20 1
a20 1
WANTLIB += ICE SM X11 Xext Xi Xinerama Xrandr Xrender c fontconfig
d22 1
a22 1
WANTLIB += z
@


1.3
log
@- add missing dependency (archivers/zip)

"ok of course!" ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/01/04 16:27:30 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d20 3
a22 3
WANTLIB=	ICE SM Qt3Support QtGui QtNetwork QtSql QtXml X11 Xcursor Xext \
		Xfixes Xi Xinerama Xrandr Xrender c crypto fontconfig freetype \
		glib-2.0 gthread-2.0 m png pthread ssl stdc++ z
d28 1
@


1.2
log
@- update vym to 1.10.0
(switch to qt4 and lots of bug fixes)

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/07/07 17:59:05 ajacoutot Exp $
d6 1
d26 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	vym-1.8.1
d10 1
a10 1
# modified GPL
d17 1
d19 3
a21 1
WANTLIB=	X11 Xext c m pthread stdc++
d23 2
a24 1
MODULES=	x11/qt3
d30 1
a30 1
SHARE_DIRS= flags icons scripts styles
d35 1
a35 1
		${WRKSRC}/exportxhtmldialog.ui.h
d40 2
a41 2
	@@cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} \
		${LOCALBASE}/bin/qmake vym.pro
@


1.1.1.1
log
@Import vym-1.8.1

VYM (View Your Mind) is a tool to generate and manipulate maps which
show your thoughts. Such maps can help you to improve your creativity
and effectivity. You can use them for time management, to organize
tasks, to get an overview over complex contexts, to sort your ideas etc.

Maps can be drawn by hand on paper or a flip chart and help to structure
your thoughs. While a tree like structure can be drawn by hand or any
drawing software vym offers much more features to work with such maps.
vym is not another drawing software, but a tool to store and modify
information in an intuitive way. For example you can reorder parts of
the map by pressing a key or add various information like a complete
email by a simple mouse click.


inputs and ok kili@@
@
text
@@
