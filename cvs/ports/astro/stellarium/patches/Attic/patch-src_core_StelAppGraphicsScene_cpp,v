head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2010.06.09.08.04.28;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2010.04.30.17.07.06;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to stellarium-0.10.5.
@
text
@$OpenBSD: patch-src_core_StelAppGraphicsScene_cpp,v 1.1 2010/04/30 17:07:06 espie Exp $
--- src/core/StelAppGraphicsScene.cpp.orig	Fri Apr 30 18:34:03 2010
+++ src/core/StelAppGraphicsScene.cpp	Fri Apr 30 18:34:33 2010
@@@@ -72,12 +72,6 @@@@ void StelAppGraphicsScene::glWindowHasBeenResized(int 
 
 void StelAppGraphicsScene::drawBackground(QPainter* painter, const QRectF &)
 {
-	if (painter->paintEngine()->type() != QPaintEngine::OpenGL)
-	{
-		qWarning("StelAppGraphicsScene: drawBackground needs a QGLWidget to be set as viewport on the graphics view");
-		return;
-	}
-
 	const double now = StelApp::getTotalRunTime();
 	double dt = now-previousTime;
 	previousTime = now;
@


1.1
log
@let stellarium work again after the qt 4.6 update
(very bad OO programming on the stellarium guys part.
You *never* use "switches" on class hierarchies. And indeed, this broke
compatibility with newer qt in the stupidest way possible, when the type
changed from OpenGL to OpenGL2....
@
text
@d1 1
a1 1
$OpenBSD$
@

