head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.4
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.3.0.8
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	zhuk_20130411:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2016.03.11.20.28.21;	author naddy;	state Exp;
branches;
next	1.7;
commitid	UYLP8TE6V7RS2GhJ;

1.7
date	2015.12.04.20.47.52;	author landry;	state Exp;
branches;
next	1.6;
commitid	gYqs83JS5RzGVA58;

1.6
date	2015.09.12.14.15.32;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	JQABuKOhSyuXchE5;

1.5
date	2015.05.28.08.09.46;	author pascal;	state Exp;
branches;
next	1.4;
commitid	La83eXMhy8REUV45;

1.4
date	2015.05.22.11.31.10;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	2khjHXfpTaOuNVcx;

1.3
date	2013.04.11.15.40.21;	author zhuk;	state Exp;
branches;
next	1.2;

1.2
date	2013.04.11.14.08.07;	author zhuk;	state Exp;
branches;
next	1.1;

1.1
date	2013.04.11.14.05.18;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.04.11.14.05.18;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.8
log
@garbage collect CONFIGURE_SHARED
@
text
@# $OpenBSD: Makefile,v 1.7 2015/12/04 20:47:52 landry Exp $

BROKEN-hppa=	ICE on prj.c:4381
COMMENT =	implementation of the FITS WCS standard
CATEGORIES =	astro devel
DISTNAME =	wcslib-4.17
HOMEPAGE =	http://www.atnf.csiro.au/people/mcalabre/WCS/wcslib/
REVISION =	2

SHARED_LIBS =	wcs		0.0

# LGPLv3+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =	c cfitsio m

MASTER_SITES =	ftp://ftp.atnf.csiro.au/pub/software/wcslib/
EXTRACT_SUFX =	.tar.bz2

MODULES =		gcc4
MODGCC4_ARCHS =		*
MODGCC4_LANGS =		fortran

LIB_DEPENDS =	math/cfitsio
TEST_DEPENDS =	lang/gcc/${MODGCC4_VERSION},-f95

USE_GMAKE =		Yes
CONFIGURE_STYLE =	autoconf
CONFIGURE_ENV =		LIBwcs_VERSION=${LIBwcs_VERSION}

CONFIGURE_ARGS =	--docdir=${PREFIX}/share/doc/wcslib \
			--with-x

# non-free licensed dependency
CONFIGURE_ARGS +=	--without-pgplot

AUTOCONF_VERSION =	2.61
MAKE_FILE =		GNUmakefile
SUBST_VARS =		DISTNAME

# source files are 0444
post-extract:
	chmod u+w ${WRKSRC}/*

.include <bsd.port.mk>
@


1.7
log
@Mark BROKEN-hppa for reliable BROKEN-ness (gcc ICEs, undefined refs to
atomics, various horrors)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/09/12 14:15:32 ajacoutot Exp $
d31 1
a31 2
CONFIGURE_ARGS =	${CONFIGURE_SHARED} \
			--docdir=${PREFIX}/share/doc/wcslib \
@


1.6
log
@CONFIGURE_STYLE=autoconf implies "gnu".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/05/28 08:09:46 pascal Exp $
d3 1
@


1.5
log
@Switch over all three ports using lang/gfortran to lang/gcc/x.y,-f95 in
preparation for the 4.9 switch.

discussed with/ok espie@@ pirofti@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/05/22 11:31:10 ajacoutot Exp $
d27 1
a27 1
CONFIGURE_STYLE =	gnu autoconf
@


1.4
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/04/11 15:40:21 zhuk Exp $
d7 1
a7 1
REVISION =	1
d14 1
a14 1
WANTLIB =	${MODFORTRAN_WANTLIB} c cfitsio m
d19 3
a21 2
MODULES =		fortran
MODFORTRAN_COMPILER =	gfortran
d23 2
a24 4
BUILD_DEPENDS =	${MODFORTRAN_BUILD_DEPENDS}
TEST_DEPENDS =	${MODFORTRAN_BUILD_DEPENDS}
LIB_DEPENDS =	${MODFORTRAN_LIB_DEPENDS} \
		math/cfitsio
@


1.3
log
@jasper@@ pointed out that there is a fortran MODULE, so use it for
astro/wcslib instead. Bump done for safety.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/04/11 14:08:07 zhuk Exp $
d7 1
a7 1
REVISION =	0
@


1.2
log
@Oops, missed TEST_DEPENDS - committed from the wrong directory.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/04/11 14:05:18 zhuk Exp $
d7 1
d14 1
a14 1
WANTLIB =	c cfitsio gfortran m
d19 6
a24 3
BUILD_DEPENDS =	lang/gfortran
TEST_DEPENDS =	lang/gfortran
LIB_DEPENDS =	lang/gfortran,-lib \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d19 1
@


1.1.1.1
log
@Import astro/wcslib, used by KStars.

WCSLIB is a C library, supplied with a full set of Fortran wrappers,
that implements the "World Coordinate System" (WCS) standard in
FITS (Flexible Image Transport System).

Note: pgplot support is not compiled due to license restrictions of the
corresponding dependency.

input and okay landry@@
@
text
@@
