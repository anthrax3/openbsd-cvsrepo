head	1.4;
access;
symbols
	OPENBSD_5_0:1.3.0.6
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.4
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.1.0.6
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.4
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.2
	OPENBSD_4_4_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2011.11.01.16.44.19;	author naddy;	state dead;
branches;
next	1.3;

1.3
date	2010.07.02.05.20.26;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2009.10.10.09.18.51;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2008.06.19.17.43.10;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.4
log
@* remove a workaround now that uname -p returns MACHINE_ARCH
* unify/prettify Makefiles a bit
@
text
@$OpenBSD: patch-RULES_mk-gmake_id,v 1.3 2010/07/02 05:20:26 naddy Exp $
--- RULES/mk-gmake.id.orig	Wed Sep  9 14:29:28 2009
+++ RULES/mk-gmake.id	Thu Jul  1 05:52:03 2010
@@@@ -54,7 +54,7 @@@@ ifndef		GMAKE_NOWARN
 __gmake_warn:=	$(shell cat $(SRCROOT)/$(RULESDIR)/gmake.wrn 1>&2; sleep 2)
 endif
 
-_MACHCMD=	(mach || uname -p || true)	2> /dev/null
+_MACHCMD=	(mach || machine || uname -p || true)	2> /dev/null
 _ARCHCMD=	(arch || /usr/ucb/arch || true)	2> /dev/null
 
 XP_ARCH:=	$(shell $(_MACHCMD) | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ, /\\()"' 'abcdefghijklmnopqrstuvwxyz,//////' | tr ',/' ',\-')
@


1.3
log
@update to 1.5.1 (there were 89 alpha versions)
@
text
@d1 1
a1 1
$OpenBSD: patch-RULES_mk-gmake_id,v 1.2 2009/10/10 09:18:51 espie Exp $
@


1.2
log
@fuck-off, schilly
@
text
@d1 6
a6 9
$OpenBSD: patch-RULES_mk-gmake_id,v 1.1 2008/06/19 17:43:10 naddy Exp $
--- RULES/mk-gmake.id.orig	Thu May  3 14:58:59 2007
+++ RULES/mk-gmake.id	Sat Oct 10 11:17:10 2009
@@@@ -35,9 +35,9 @@@@ MAKEPROG=	gmake
 
 ifndef		ARCH_DONE
 
-__gmake_warn:=	$(shell cat $(SRCROOT)/$(RULESDIR)/gmake.wrn 1>&2; sleep 2)
+__gmake_warn:=	:
d12 1
a12 1
 XP_ARCH:=	$(shell $(_MACHCMD) | tr '[A-Z]' '[a-z]' | tr ', /\\()"' ',//////' | tr ',/' ',\-')
@


1.1
log
@Update to 1.5:
"Between star-1.4 and star-1.5, there have been more changes than in the
whole life of star until star-1.4."

For cross-platform consistency's sake, put configuration files under
${SYSCONFDIR}/default/.
@
text
@d1 4
a4 4
$OpenBSD$
--- RULES/mk-gmake.id.orig	Tue Jun 10 16:56:16 2008
+++ RULES/mk-gmake.id	Tue Jun 10 16:56:53 2008
@@@@ -37,7 +37,7 @@@@ ifndef		ARCH_DONE
d6 4
a9 1
 __gmake_warn:=	$(shell cat $(SRCROOT)/$(RULESDIR)/gmake.wrn 1>&2; sleep 2)
@

