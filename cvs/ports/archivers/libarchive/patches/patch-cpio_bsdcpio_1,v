head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.6
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.4
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.2
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.2.0.16
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.12
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.10
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.8
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.6
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.18
	OPENBSD_5_0:1.1.0.16
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.14
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.12
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.10
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.8
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.6
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.4
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2016.05.26.20.31.37;	author naddy;	state Exp;
branches;
next	1.3;
commitid	yuLwDJAplWxLaCJO;

1.3
date	2016.01.30.23.34.44;	author naddy;	state Exp;
branches;
next	1.2;
commitid	5Su4CSv12sRKnjcv;

1.2
date	2012.04.01.10.50.47;	author naddy;	state Exp;
branches
	1.2.16.1;
next	1.1;

1.1
date	2007.11.26.18.38.03;	author naddy;	state Exp;
branches;
next	;

1.2.16.1
date	2016.01.31.00.25.32;	author naddy;	state Exp;
branches;
next	;
commitid	H7UZw8qKElWAuGQ4;


desc
@@


1.4
log
@Update to 3.2.0.  Notable changes include:
* Incorporate patches for crash and overflow bugs
* Add support for lz4 compression
* Add bsdcat command-line tool

Also avoid picking up ext2fs header; reported by rpe@@
@
text
@$OpenBSD: patch-cpio_bsdcpio_1,v 1.2 2012/04/01 10:50:47 naddy Exp $
--- cpio/bsdcpio.1.orig	Tue Jan 10 07:41:09 2012
+++ cpio/bsdcpio.1	Sat Mar 31 21:50:15 2012
@@@@ -28,7 +28,7 @@@@
 .Dt CPIO 1
 .Os
 .Sh NAME
-.Nm cpio
+.Nm bsdcpio
 .Nd copy files to and from archives
 .Sh SYNOPSIS
 .Nm
@


1.3
log
@Apply patches for multiple security vulnerablities;
- CVE-2013-0211: denial of service via unspecified vectors
- CVE-2015-2304: directory traveral via absolute paths
- crash/infinite loop on malformed CPIO archives

From upstream git (commits 2253154, 5935715, 3865cf2, e6c9668, 24f5de6)
via FreeBSD.

Minor bump for the new ARCHIVE_EXTRACT_SECURE_NOABSOLUTEPATHS option.
@
text
@d2 2
a3 10

Match installed name.

CVE-2015-2304
Commit 5935715
    Add ARCHIVE_EXTRACT_SECURE_NOABSOLUTEPATHS option
    This fixes a directory traversal in the cpio tool.

--- cpio/bsdcpio.1.orig	Mon Jan 14 02:43:45 2013
+++ cpio/bsdcpio.1	Sat Jan 30 21:33:16 2016
a12 10
@@@@ -156,7 +156,8 @@@@ See above for description.
 .It Fl Fl insecure
 (i and p mode only)
 Disable security checks during extraction or copying.
-This allows extraction via symbolic links and path names containing
+This allows extraction via symbolic links, absolute paths,
+and path names containing
 .Sq ..
 in the name.
 .It Fl J , Fl Fl xz
@


1.2
log
@update to 3.0.3
@
text
@d1 11
a11 3
$OpenBSD: patch-cpio_bsdcpio_1,v 1.1 2007/11/26 18:38:03 naddy Exp $
--- cpio/bsdcpio.1.orig	Tue Jan 10 07:41:09 2012
+++ cpio/bsdcpio.1	Sat Mar 31 21:50:15 2012
d21 10
@


1.2.16.1
log
@Apply patches for multiple security vulnerablities;
- CVE-2013-0211: denial of service via unspecified vectors
- CVE-2015-2304: directory traveral via absolute paths
- crash/infinite loop on malformed CPIO archives

From upstream git (commits 2253154, 5935715, 3865cf2, e6c9668, 24f5de6)
via FreeBSD.

Minor bump for the new ARCHIVE_EXTRACT_SECURE_NOABSOLUTEPATHS option.
@
text
@d1 3
a3 11
$OpenBSD: patch-cpio_bsdcpio_1,v 1.2 2012/04/01 10:50:47 naddy Exp $

Match installed name.

CVE-2015-2304
Commit 5935715
    Add ARCHIVE_EXTRACT_SECURE_NOABSOLUTEPATHS option
    This fixes a directory traversal in the cpio tool.

--- cpio/bsdcpio.1.orig	Mon Jan 14 02:43:45 2013
+++ cpio/bsdcpio.1	Sat Jan 30 21:33:16 2016
a12 10
@@@@ -156,7 +156,8 @@@@ See above for description.
 .It Fl Fl insecure
 (i and p mode only)
 Disable security checks during extraction or copying.
-This allows extraction via symbolic links and path names containing
+This allows extraction via symbolic links, absolute paths,
+and path names containing
 .Sq ..
 in the name.
 .It Fl J , Fl Fl xz
@


1.1
log
@* update to 2.4.0
* enable bsdcpio
@
text
@d1 3
a3 3
$OpenBSD$
--- cpio/bsdcpio.1.orig	Fri Nov 23 17:43:01 2007
+++ cpio/bsdcpio.1	Fri Nov 23 17:43:21 2007
d5 1
a5 1
 .Dt BSDCPIO 1
@

