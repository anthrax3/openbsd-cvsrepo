head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.10
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.6
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.0.34
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.32
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.30
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.28
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.26
	OPENBSD_5_0:1.1.0.24
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.22
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.20
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.18
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.16
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.14
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.12
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.10
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.8
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.6
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2014.04.18.22.59.32;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2005.12.04.17.05.50;	author alek;	state Exp;
branches;
next	;


desc
@@


1.2
log
@regen and add missing rcs ids
@
text
@$OpenBSD$
--- tests/lha-test.in.orig	Sun Jul 27 19:37:51 2003
+++ tests/lha-test.in	Sun Dec  4 17:40:11 2005
@@@@ -1,4 +1,4 @@@@
-#!/bin/bash
+#!/bin/sh
 
 : ${lha_dir=@@top_builddir@@/src}
 : ${lha_cmd=$(cd $lha_dir && pwd)/lha}
@@@@ -6,8 +6,8 @@@@
 
 trap '_stat=$?; rm -rf test-*; exit $_stat' 0 1 2 3 15
 
-typeset -i i	# for loop
-typeset -i test_number=0 error_num=0
+## typeset -i i	# for loop
+test_number=0 error_num=0
 error_tests=""
 
 # fd 1: for logging
@@@@ -30,15 +30,15 @@@@ message()
 
 check()
 {
-  ((test_number = test_number + 1))
-  typeset status=$1
-  typeset lineno=$2
-  if [[ $status -eq 0 ]]; then
+  test_number=`expr ${test_number} + 1`
+  status=$1
+  lineno=$2
+  if [ $status -eq 0 ]; then
     echo    "$FILENAME #$test_number ... ok" >&2
     echo    "$FILENAME #$test_number ... ok at line $lineno"
   else
     message "$FILENAME #$test_number ... failed at line $lineno"
-    ((error_num = error_num + 1))
+    error_num=`expr ${error_num} + 1`
     error_tests="$error_tests $FILENAME #$test_number"
     result=1
   fi
@@@@ -63,7 +63,7 @@@@ testsuite()
 
 change_timestamp()
 {
-    typeset time=$1; shift
+    time=$1; shift
 
     # assume that `touch' command supports POSIX's -t switch.
 
@@@@ -101,7 +101,7 @@@@ case `$lha --version 2>&1` in
 esac
 testsuite lha-test15
 
-if (( $error_num != 0 )); then
+if [ $error_num != 0 ]; then
   message $error_num tests failed!
   message test number: $error_tests
 fi
@


1.1
log
@Update to 1.14i.ac20050924

From Yozo Toda <yozo@@v007.vaio.ne.jp> (MAINTAINER)
@
text
@d1 1
@

