head	1.4;
access;
symbols
	OPENBSD_3_0:1.3.0.10
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	OPENBSD_2_9:1.3.0.8
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.6
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.4
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.3.0.2
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.2.0.6
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.4
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2002.02.04.22.16.17;	author naddy;	state dead;
branches;
next	1.3;

1.3
date	99.09.04.22.28.42;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	97.11.25.20.49.25;	author angelos;	state Exp;
branches;
next	1.1;

1.1
date	97.11.24.19.56.28;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- Add build flags missing from previous update.
- Remove again extraneous documentation that is of no interest to
  users of the compiled package.
- Prune inappropriate verbiage from description.
- Disallow CDROM distribution according to old description.
- Rename patches.
- General clean-up.
@
text
@--- src/lharc.c.orig	Sat Sep  4 18:08:21 1999
+++ src/lharc.c	Sat Sep  4 18:09:48 1999
@@@@ -865,6 +865,7 @@@@
 /*																			*/
 /* ------------------------------------------------------------------------ */
 /* Build temporary file name and store to TEMPORARY_NAME */
+#if !defined(__OpenBSD__)
 void
 build_temporary_name()
 {
@@@@ -888,7 +889,7 @@@@
 	mktemp(temporary_name);
 #endif
 }
-
+#endif
 /* ------------------------------------------------------------------------ */
 static void
 modify_filename_extention(buffer, ext)
@


1.3
log
@upgrade to lha 1.14f
@
text
@@


1.2
log
@Fix mktemp() race condition.
@
text
@d1 19
a19 48
*** src/lharc.c.orig	Fri Mar  8 01:09:06 1996
--- src/lharc.c	Tue Nov 25 15:37:05 1997
***************
*** 318,324 ****
  		cmd_filec = 0;
  		if ((xfilev = (char **) malloc(sizeof(char *) * xfilec)) == NULL)
  			fatal_error("Virtual memory exhausted\n");
! 		while (gets(inpbuf)) {
  			if (cmd_filec >= xfilec) {
  				xfilec += 256;
  				cmd_filev = (char **) realloc(xfilev,
--- 318,326 ----
  		cmd_filec = 0;
  		if ((xfilev = (char **) malloc(sizeof(char *) * xfilec)) == NULL)
  			fatal_error("Virtual memory exhausted\n");
! 		while (fgets(inpbuf, sizeof(inpbuf), stdin)) {
! 			if ((p = strchr(inpbuf, '\n')))
! 				*p = '\0';
  			if (cmd_filec >= xfilec) {
  				xfilec += 256;
  				cmd_filev = (char **) realloc(xfilev,
***************
*** 798,803 ****
--- 800,806 ----
  /*																			*/
  /* ------------------------------------------------------------------------ */
  /* Build temporary file name and store to TEMPORARY_NAME */
+ #if !defined(__OpenBSD__)
  void
  build_temporary_name()
  {
***************
*** 821,827 ****
  	mktemp(temporary_name);
  #endif
  }
! 
  /* ------------------------------------------------------------------------ */
  static void
  modify_filename_extention(buffer, ext)
--- 824,830 ----
  	mktemp(temporary_name);
  #endif
  }
! #endif
  /* ------------------------------------------------------------------------ */
  static void
  modify_filename_extention(buffer, ext)
@


1.1
log
@Add lha port.
@
text
@d1 2
a2 2
*** src/lharc.c.bak	Fri Mar  8 09:09:06 1996
--- src/lharc.c	Wed Aug 28 21:13:02 1996
d22 27
@
