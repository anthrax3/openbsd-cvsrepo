head	1.42;
access;
symbols
	OPENBSD_4_7:1.40.0.10
	OPENBSD_4_7_BASE:1.40
	OPENBSD_4_6:1.40.0.8
	OPENBSD_4_6_BASE:1.40
	OPENBSD_4_5:1.40.0.6
	OPENBSD_4_5_BASE:1.40
	OPENBSD_4_4:1.40.0.4
	OPENBSD_4_4_BASE:1.40
	OPENBSD_4_3:1.40.0.2
	OPENBSD_4_3_BASE:1.40
	OPENBSD_4_2:1.39.0.6
	OPENBSD_4_2_BASE:1.39
	OPENBSD_4_1:1.39.0.4
	OPENBSD_4_1_BASE:1.39
	OPENBSD_4_0:1.39.0.2
	OPENBSD_4_0_BASE:1.39
	OPENBSD_3_9:1.38.0.6
	OPENBSD_3_9_BASE:1.38
	OPENBSD_3_8:1.38.0.4
	OPENBSD_3_8_BASE:1.38
	OPENBSD_3_7:1.38.0.2
	OPENBSD_3_7_BASE:1.38
	OPENBSD_3_6:1.37.0.4
	OPENBSD_3_6_BASE:1.37
	OPENBSD_3_5:1.37.0.2
	OPENBSD_3_5_BASE:1.37
	OPENBSD_3_4:1.36.0.2
	OPENBSD_3_4_BASE:1.36
	OPENBSD_3_3:1.35.0.2
	OPENBSD_3_3_BASE:1.35
	OPENBSD_3_2:1.34.0.2
	OPENBSD_3_2_BASE:1.34
	OPENBSD_3_1:1.33.0.2
	OPENBSD_3_1_BASE:1.33
	OPENBSD_3_0:1.31.0.2
	OPENBSD_3_0_BASE:1.31
	OPENBSD_2_9_TRACKING_SWITCH:1.30
	OPENBSD_2_9:1.29.0.2
	OPENBSD_2_9_BASE:1.29
	OPENBSD_2_8:1.25.0.2
	OPENBSD_2_8_BASE:1.25
	OPENBSD_2_7:1.21.0.2
	OPENBSD_2_7_BASE:1.21
	OPENBSD_2_6:1.15.0.2
	OPENBSD_2_6_BASE:1.15
	OPENBSD_2_5:1.9.0.2
	OPENBSD_2_5_BASE:1.9
	OPENBSD_2_4:1.8.0.2
	OPENBSD_2_4_BASE:1.8
	form_980713:1.1.1.1
	form:1.1.1;
locks; strict;
comment	@# @;


1.42
date	2010.07.05.21.54.53;	author naddy;	state dead;
branches;
next	1.41;

1.41
date	2010.04.15.14.58.24;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2007.09.15.10.14.33;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2006.03.15.19.59.42;	author naddy;	state Exp;
branches;
next	1.38;

1.38
date	2005.02.21.21.59.44;	author sturm;	state Exp;
branches;
next	1.37;

1.37
date	2003.10.18.18.20.40;	author sturm;	state Exp;
branches;
next	1.36;

1.36
date	2003.05.24.02.40.42;	author jolan;	state Exp;
branches;
next	1.35;

1.35
date	2002.12.29.15.15.18;	author fgsch;	state Exp;
branches;
next	1.34;

1.34
date	2002.09.15.23.04.46;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2002.03.21.20.35.41;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2001.10.28.13.05.45;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2001.10.04.22.26.48;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2001.08.10.14.25.57;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2001.04.20.17.35.35;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2001.03.29.15.01.59;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2001.02.27.17.53.12;	author naddy;	state Exp;
branches;
next	1.26;

1.26
date	2000.12.19.15.23.28;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2000.09.15.12.54.44;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2000.09.06.06.32.07;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2000.09.06.06.03.10;	author brad;	state Exp;
branches;
next	1.22;

1.22
date	2000.06.10.20.22.16;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2000.03.31.20.26.16;	author brad;	state Exp;
branches
	1.21.2.1;
next	1.20;

1.20
date	2000.03.26.23.07.00;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2000.03.24.22.11.33;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2000.03.04.17.58.29;	author turan;	state Exp;
branches;
next	1.17;

1.17
date	2000.02.10.23.14.28;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	99.10.30.20.51.34;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	99.09.24.13.36.18;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	99.09.23.21.52.29;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	99.09.06.17.35.05;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	99.08.18.01.51.48;	author angelos;	state Exp;
branches;
next	1.11;

1.11
date	99.06.02.20.20.56;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.06.02.02.40.31;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.04.01.02.16.39;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	98.10.20.08.39.43;	author form;	state Exp;
branches;
next	1.7;

1.7
date	98.10.06.22.41.30;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	98.09.06.05.47.32;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	98.07.13.05.13.16;	author form;	state Exp;
branches;
next	1.4;

1.4
date	98.03.27.04.42.41;	author marc;	state dead;
branches;
next	1.3;

1.3
date	98.01.05.15.29.30;	author joey;	state Exp;
branches;
next	1.2;

1.2
date	97.11.27.23.52.59;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	97.11.24.20.53.02;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.07.13.05.04.48;	author form;	state Exp;
branches;
next	;

1.21.2.1
date	2000.09.15.04.40.45;	author marc;	state Exp;
branches;
next	;


desc
@@


1.42
log
@remove binary-only port that relies on broken or (soon to be) removed
foreign OS compatibility
@
text
@# $OpenBSD: Makefile,v 1.41 2010/04/15 14:58:24 ajacoutot Exp $

ONLY_FOR_ARCHS=	i386 sparc

.if ${MACHINE_ARCH} == "sparc" && !exists(/emul/svr4/usr/lib/libc.so.1)
IGNORE=		"requires Solaris shared libraries"
.endif

COMMENT=	RAR archiver (binary port)

DISTNAME=rar-2.0x

.if ${MACHINE_ARCH} == "i386"
DISTFILES=	rarbsd.sfx
PKGNAME=	rar-2.02p0
EMUL=		bsdos
.elif ${MACHINE_ARCH} == "sparc"
DISTFILES=	rarsparc.sfx
PKGNAME=	rar-2.01p0
EMUL=		svr4
.else
DISTFILES=
.endif

SUPDISTFILES=	rarsparc.sfx rarbsd.sfx

CATEGORIES=	archivers
MASTER_SITES=	${HOMEPAGE}/rar/ \
		ftp://ftp.netlab.sk/public/rarsoft/rar/

EXTRACT_CASES=	*.sfx) ${SUDO} chmod a+x ${FULLDISTDIR}/$$archive && \
			${FULLDISTDIR}/$$archive;;

HOMEPAGE=	http://www.rarsoft.com/

# Restrictive
PERMIT_PACKAGE_CDROM=	Shareware.  Requires registration.
PERMIT_PACKAGE_FTP=	Shareware.  Requires registration.
PERMIT_DISTFILES_CDROM=	Shareware.  Requires registration.
PERMIT_DISTFILES_FTP=	Yes

NO_BUILD=	Yes

WRKDIST=	${WRKDIR}
SUBST_VARS+=	EMUL
SYSTRACE_SUBST_VARS=	FULLDISTDIR
SYSCTL=		${SUDO} sysctl -w kern.emul.${EMUL}

pre-extract:
	@@sysctl -n kern.emul.${EMUL} > ${WRKDIR}/.emul_${EMUL}
	@@${SYSCTL}=1

post-extract:
.if ${MACHINE_ARCH} == "sparc"
	@@cd ${WRKSRC} && \
	mv RAR rar && mv UNRAR unrar && \
	mv DEFAULT.SFX default.sfx && mv Rar_FAQ.Txt Rar_FAQ.txt
.endif
	@@${SYSCTL}=`cat ${WRKDIR}/.emul_${EMUL}`

DOCS=	Rar_FAQ.txt TechNote.Txt License.Txt Internet.Txt Rar.Txt

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/rar
	${INSTALL_DATA_DIR} ${PREFIX}/share/rar
	${INSTALL_PROGRAM} ${WRKSRC}/rar ${PREFIX}/bin/rar
	cd ${WRKSRC}; ${INSTALL_MAN} ${DOCS} ${PREFIX}/share/doc/rar
	${INSTALL_DATA} ${WRKSRC}/RarFiles.Lst ${PREFIX}/share/rar/rarfiles.lst
	${INSTALL_DATA} ${WRKSRC}/default.sfx ${PREFIX}/share/rar
	${INSTALL_DATA} ${WRKSRC}/Dos.SFX ${PREFIX}/share/rar/dos.sfx

NO_REGRESS=	Yes
.include <bsd.port.mk>
@


1.41
log
@Stupid poor blank lines, stupid poor blank lines...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2007/09/15 10:14:33 espie Exp $
@


1.40
log
@zap all quotes in COMMENT/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/03/15 19:59:42 naddy Exp $
d15 1
a15 1
PKGNAME=	rar-2.02
d19 1
a19 1
PKGNAME=	rar-2.01
@


1.39
log
@don't break mirror-maker on other archs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2005/02/21 21:59:44 sturm Exp $
d9 1
a9 1
COMMENT=	"RAR archiver (binary port)"
d37 3
a39 3
PERMIT_PACKAGE_CDROM=	"Shareware.  Requires registration."
PERMIT_PACKAGE_FTP=	"Shareware.  Requires registration."
PERMIT_DISTFILES_CDROM=	"Shareware.  Requires registration."
@


1.38
log
@use FULLDISTDIR in systrace policy, noticed by rohee@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2003/10/18 18:20:40 sturm Exp $
d21 2
@


1.37
log
@deal with kern.emul.{bsdos,svr4} sysctl

noticed by Alex de Joode
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2003/05/24 02:40:42 jolan Exp $
d44 1
@


1.36
log
@lzo     -- # GPL
lzop    -- # GNU GPL -> # GPL
macutil -- sync w/# None style
nulib   -- # Restrictive
rar     -- # Restrictive
ucl     -- # GPL
unace   -- # Copyrighted but freely distributable.
             That's all the author states.  Is this acceptable as a
             license?
        -- Drop MAINTAINER per his request
unarj   -- # Restrictive
           PERMIT_*_CDROM=No
             "If you wish to distribute a modified version of UNARJ
              you MUST indicate that it is a modified version both in
              the program and source code."
unrar  --  # Restrictive
unzip  --  # Conditional
             It is freely re-distributable with conditions which we meet.
             This could use another pair of eyes to confirm.
zip    --  # Conditional
             Same thing as unzip.
zoo    --  # Conditional
             Different author/license but same idea as zip/unzip.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/12/29 15:15:18 fgsch Exp $
d16 1
d20 1
d43 2
d46 3
a48 18
.if !defined(NO_WARNINGS)
pre-fetch:
.if ${MACHINE_ARCH} == "i386"
	@@echo
	@@echo "WARNING:	This application requires a kernel compiled with"
	@@echo "		'option COMPAT_BSDOS' for proper operation.  The"
	@@echo "		GENERIC kernel contains this option."
	@@echo
.elif ${MACHINE_ARCH} == "sparc"
	@@echo
	@@echo "WARNING:	This application requires a kernel compiled with"
	@@echo "		'option COMPAT_SVR4' and Solaris shared libraries"
	@@echo "		for proper operation; see compat_svr4(8) for"
	@@echo "		further details.  The GENERIC kernel contains this"
	@@echo "		option."
	@@echo
.endif
.endif
d56 1
@


1.35
log
@sayonara NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/09/15 23:04:46 espie Exp $
d30 1
a30 1
HOMEPAGE=	http://www.rarsoft.com
d32 1
@


1.34
log
@Dummy DISTNAME if !sparc or i386.
fixes mirror-maker.
Noted by pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2002/03/21 20:35:41 espie Exp $
a23 1
NEED_VERSION=	1.515
@


1.33
log
@bump NEED_VERSION for distinfo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2001/10/28 13:05:45 espie Exp $
d10 2
@


1.32
log
@Zap default MAINTAINER from Makefile.
Especially now that the default line is more verbose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2001/10/04 22:26:48 espie Exp $
d22 1
a22 1
NEED_VERSION=	1.384
@


1.31
log
@Note existing regression tests for archivers. No need to update
NEED_VERSION, this won't break anything otherwise.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/08/10 14:25:57 naddy Exp $
a29 2

MAINTAINER=	ports@@openbsd.org
@


1.30
log
@ignore if no Solaris shared libs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/04/20 17:35:35 brad Exp $
d79 1
@


1.29
log
@bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/03/29 15:01:59 brad Exp $
d4 4
@


1.28
log
@- integrate COMMENT
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/02/27 17:53:12 naddy Exp $
d18 1
a18 1
NEED_VERSION=	1.364
@


1.27
log
@- update MASTER_SITES
- extract even if we don't own the distfile; from espie@@
- on sparc, mention that Solaris shared libs are required
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2000/12/19 15:23:28 espie Exp $
d5 2
d18 1
a18 1
NEED_VERSION=	1.330
d23 1
a23 1
	${FULLDISTDIR}/$$archive;;
@


1.26
log
@I positively HATE cvs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2000/09/15 12:54:44 espie Exp $
d17 2
a18 1
MASTER_SITES=	ftp://rarsoft.ti.sk/pub/rar/
d20 1
a20 1
EXTRACT_CASES=	*.sfx) chmod u+x ${FULLDISTDIR}/$$archive && \
d23 1
a23 1
HOMEPAGE=	http://www.rarsoft.com/
d47 4
a50 2
	@@echo "		'option COMPAT_SVR4' for proper operation.  The"
	@@echo "		GENERIC kernel contains this option."
@


1.25
log
@Use new extract method.

Put post-install message in MESSAGE so that it works for package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/09/06 06:32:07 brad Exp $
d59 1
a59 1
DOCS=	Rar_FAQ.txt TechNote.Txt License.Txt Internet.Txt
a64 1
	${INSTALL_MAN} ${WRKSRC}/Rar.Txt ${PREFIX}/man/cat1/rar.1
@


1.24
log
@add Solaris SPARC binary for SPARC users; From: miod@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/09/06 06:03:10 brad Exp $
d6 1
a6 1
DISTNAME=	rarbsd
a7 1
SUPDISTFILES=	rarsparc.sfx
d9 1
a9 1
DISTNAME=	rarsparc
a10 1
SUPDISTFILES=	rarbsd.sfx
d12 3
d16 1
a16 1
NEED_VERSION=	1.324
a17 1
EXTRACT_SUFX=	.sfx
d19 2
a20 3
EXTRACT_CMD=		# empty
EXTRACT_BEFORE_ARGS=	# empty
EXTRACT_AFTER_ARGS=	# empty
a51 3
pre-extract:
	@@chmod a+x ${DISTDIR}/${DISTFILES}

a52 1
	@@chmod a-x ${DISTDIR}/${DISTFILES}
a69 4

post-install:
	@@echo '*** Note that this software is shareware.'
	@@echo '*** You are required to register after 40 days of use.'
@


1.23
log
@add HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/06/10 20:22:16 brad Exp $
d3 3
d8 6
d15 1
a15 1
NEED_VERSION=	1.301
a24 2
ONLY_FOR_ARCHS=	i386

d36 17
d58 7
d71 1
a71 2
	cd ${WRKSRC}; ${INSTALL_MAN} Rar_FAQ.txt TechNote.Txt License.Txt \
		Internet.Txt ${PREFIX}/share/doc/rar
d73 1
a73 1
	${INSTALL_DATA} ${WRKSRC}/default.sfx ${PREFIX}/share/rar/default.sfx
@


1.22
log
@- remove FAKE=Yes
- add @@comment with RCS id to PLIST
- HAS_CONFIGURE/GNU_CONFIGURE -> CONFIGURE_STYLE
- remove NO_CONFIGURE, NO_PATCH
- use new framework for PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/03/31 20:26:16 brad Exp $
d13 2
@


1.21
log
@remove bad dist site
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/03/26 23:07:00 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.234
a22 4
FAKE=	Yes

NO_CONFIGURE=	Yes
NO_PATCH=	Yes
@


1.21.2.1
log
@bring cut-off archivers into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/06/10 20:22:16 brad Exp $
d6 1
a6 1
NEED_VERSION=	1.301
d23 4
@


1.20
log
@- Fake
- add NO_CONFIGURE and NO_PATCH
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/03/24 22:11:33 espie Exp $
d6 2
a7 3
NEED_VERSION=	1.218
MASTER_SITES=	ftp://rarsoft.ti.sk/pub/rar/ \
		ftp://ftp.cdrom.com/pub/sac/pack/
@


1.19
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/03/04 17:58:29 turan Exp $
d6 1
a6 1
NEED_VERSION=	1.191
a14 1

a16 3
NO_CDROM=	"NOFEE: Can not charge for distribution"
NO_PACKAGE=	"Only unmodified original package can be distributed"

d24 6
a29 1
NO_BUILD=	yes
d39 9
a47 13
	@@${INSTALL_DATA_DIR} \
		${PREFIX}/share/doc/rar ${PREFIX}/share/rar
	@@cd ${WRKSRC} && \
		${INSTALL_PROGRAM} rar ${PREFIX}/bin/rar && \
		${INSTALL_MAN} Rar.Txt ${PREFIX}/man/cat1/rar.1 && \
		${INSTALL_MAN} Rar_FAQ.txt TechNote.Txt License.Txt Internet.Txt \
			${PREFIX}/share/doc/rar && \
		${INSTALL_DATA} RarFiles.Lst \
			${PREFIX}/share/rar/rarfiles.lst && \
		${INSTALL_DATA} default.sfx \
			${PREFIX}/share/rar/default.sfx && \
		${INSTALL_DATA} Dos.SFX \
			${PREFIX}/share/rar/dos.sfx
@


1.18
log
@license.  this is shareware and requires registration after 40 days.
add an appropriate disclaimer to post-install stating that.
only mirror distfile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/02/10 23:14:28 espie Exp $
d6 1
a14 1
NEED_VERSION=	1.114
a27 1
NEED_VERSION=	1.191
@


1.17
log
@Kill NO_WRKSUBDIR.
Clean up a few deprecated variables on the fly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 1999/10/30 20:51:34 brad Exp $
d23 5
d52 4
@


1.16
log
@- distfile name has changed on the distsites, fix
- update mastersites; from FreeBSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 1999/09/24 13:36:18 brad Exp $
d23 1
d25 1
a25 1
NO_WRKSUBDIR=	yes
d28 1
a28 1
	@@${CHMOD} a+x ${DISTDIR}/${DISTFILES}
d31 1
a31 1
	@@${CHMOD} a-x ${DISTDIR}/${DISTFILES}
d34 1
a34 1
	@@install -d -m 755 -o ${SHAREOWN} -g ${SHAREGRP} \
@


1.15
log
@there were no MASTER_SITES defined for this port, add some
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/09/23 21:52:29 brad Exp $
d3 2
a4 2
DISTNAME=       rarbsd
PKGNAME=        rar-2.02
d6 1
a6 1
MASTER_SITES=	ftp://ftp.rarsoft.com/pub/rar/ \
d8 5
a12 1
EXTRACT_SUFX=
d19 1
a19 1
NO_PACKAGE=     Only unmodified original package can be distributed
d21 1
a21 5
MAINTAINER=     ports@@openbsd.org

EXTRACT_CMD=		# empty
EXTRACT_BEFORE_ARGS=	# empty
EXTRACT_AFTER_ARGS=	# empty
d24 1
a24 1
NO_WRKSUBDIR=   yes
@


1.14
log
@cleanup Makefiles
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/09/06 17:35:05 brad Exp $
d6 2
@


1.13
log
@- style
- chmod -> ${CHMOD}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/08/18 01:51:48 angelos Exp $
a5 2
NO_CDROM=	"NOFEE: Can not charge for distribution"
NO_PACKAGE=     Only unmodified original package can be distributed
d7 3
d12 2
a13 1
NEED_VERSION=	1.111
@


1.12
log
@FTP sites in Makefile no longer carry port. Resort to default repositories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/06/02 20:20:56 brad Exp $
d6 2
d9 1
d11 1
a11 5
NEED_VERSION=	1.92

ONLY_FOR_ARCHS=	i386
NO_CDROM=	"NOFEE: Can not charge for distribution"
NO_PACKAGE=     Only unmodified original package can be distributed
d23 1
a23 1
	@@chmod a+x ${DISTDIR}/${DISTFILES}
d26 1
a26 1
	@@chmod a-x ${DISTDIR}/${DISTFILES}
@


1.11
log
@add in NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/06/02 02:40:31 brad Exp $
a5 2
MASTER_SITES=	ftp://ftp.rarsoft.com/pub/rar/ \
		ftp://ftp.cdrom.com/pub/sac/pack/
@


1.10
log
@- fix port to work with new EXTRACT_* variable defaults
- fix typo in PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/04/01 02:16:39 brad Exp $
d9 2
@


1.9
log
@remove unnecessary comments and fix email address's
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1998/10/20 08:39:43 form Exp $
d6 3
d16 3
a18 2
MASTER_SITES=	ftp://ftp.creabel.com/pub/rar/
EXTRACT_SUFX=
d20 1
a21 2
EXTRACT_CMD=
EXTRACT_BEFORE_ARGS=
d24 1
a24 1
	chmod a+x ${DISTDIR}/${DISTFILES}
d27 1
a27 8
	chmod a-x ${DISTDIR}/${DISTFILES}

do-build:
	cd ${WRKSRC} && \
		for i in *.Txt *.Lst; do \
			${TR} -d '\015' < $$i > $$i.tmp; \
			${MV} $$i.tmp $$i; \
		done
d30 1
a30 1
	install -d -m 755 -o ${SHAREOWN} -g ${SHAREGRP} \
d32 1
a32 1
	cd ${WRKSRC} && \
@


1.8
log
@form@@vs.itam.nsc.ru -> form@@openbsd.org
@
text
@d1 1
a1 7
# New ports collection makefile for:    rar
# Version required:     2.02
# Date created:         8 Jul 1998
# Whom:                 form
#
# $OpenBSD: Makefile,v 1.7 1998/10/06 22:41:30 marc Exp $
#
d11 1
a11 1
MAINTAINER=     form@@OpenBSD.ORG
a14 2


@


1.7
log
@update NO_CDROM reason
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.6 1998/09/06 05:47:32 marc Exp $
d17 1
a17 1
MAINTAINER=     form@@vs.itam.nsc.ru
@


1.6
log
@fix typo in Makefile
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 1998/07/13 05:13:16 form Exp $
d12 7
a20 1
ONLY_FOR_ARCHS=	i386
a21 1
MAINTAINER=     form@@vs.itam.nsc.ru
a22 1
NO_PACKAGE=     Only unmodified original package can be distributed
@


1.5
log
@rar 2.02
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.0 1998/07/08 01:41:36 form Exp $
d12 1
a12 1
MASTER_SITES=	ftp://ftp.creabel.com/pub/rar
@


1.4
log
@remove archivers/rar: binary only distribution that only worked with i386
compiled with option BSDOS.
@
text
@d1 4
a4 5
# OpenBSD makefile for:		rar
# http://www.inetpros.net/rar.htm
# Version required:     2.01
# Date created:         24 November 1997
# Whom:                 angelos
d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1998/01/05 15:29:30 joey Exp $
d10 1
a10 1
PKGNAME=        rar-2.01
d12 3
a14 3
MASTER_SITES=   ftp://ftp.kiarchive.ru/pub/unix/arcers/

EXTRACT_SUFX=   .exe
d16 1
a16 1
MAINTAINER=     angelos@@openbsd.org
a22 1
ONLY_FOR_ARCHS=	i386
d24 1
a24 1
post-fetch:
d27 3
d33 2
a34 2
			tr -d '\015' < $$i > $$i.tmp; \
			mv $$i.tmp $$i; \
d41 1
a41 1
		${INSTALL_PROGRAM} RAR ${PREFIX}/bin/rar && \
d43 1
a43 1
		${INSTALL_MAN} Rar_FAQ.Txt TechNote.Txt License.Txt Internet.Txt \
d47 1
a47 1
		${INSTALL_DATA} DEFAULT.SFX \
@


1.3
log
@broken ftp site
@
text
@d7 1
a7 1
# $OpenBSD: Makefile,v 1.2 1997/11/27 23:52:59 niklas Exp $
@


1.2
log
@Only suitable to run under i386
@
text
@d7 1
a7 1
# $OpenBSD: Makefile,v 1.1 1997/11/24 20:53:02 angelos Exp $
d13 2
a14 2
MASTER_SITES=   ftp://ftp.inetpros.net/pub/rar/ \
		ftp://ftp.kiarchive.ru/pub/unix/arcers/
@


1.1
log
@Oops.
@
text
@d7 1
a7 1
# $OpenBSD$
d24 1
@


1.1.1.1
log
@rar 2.02, nice archiver
@
text
@d1 5
a5 4
# New ports collection makefile for:    rar
# Version required:     2.02
# Date created:         13 Jul 1998
# Whom:                 form
d7 1
a7 1
# $OpenBSD: Makefile,v 1.0 1998/07/13 01:41:36 form Exp $
d11 1
a11 1
PKGNAME=        rar-2.02
d13 3
a15 3
MASTER_SITES=	ftp://ftp.creabel.com/pub/rar
EXTRACT_SUFX=
ONLY_FOR_ARCHS=	i386
d17 1
a17 1
MAINTAINER=     form@@vs.itam.nsc.ru
d25 1
a25 1
pre-extract:
a27 3
post-extract:
	chmod a-x ${DISTDIR}/${DISTFILES}

d31 2
a32 2
			${TR} -d '\015' < $$i > $$i.tmp; \
			${MV} $$i.tmp $$i; \
d39 1
a39 1
		${INSTALL_PROGRAM} rar ${PREFIX}/bin/rar && \
d41 1
a41 1
		${INSTALL_MAN} Rar_FAQ.txt TechNote.Txt License.Txt Internet.Txt \
d45 1
a45 1
		${INSTALL_DATA} default.sfx \
@

