head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.6
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.4
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.28
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.26
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.24
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.22
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.20
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.18
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.16
	OPENBSD_5_0:1.2.0.14
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.12
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.10
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.8
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.6
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.4
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.1.1.1.0.4
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	steven-20070420:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2015.10.21.10.45.08;	author sthen;	state Exp;
branches;
next	1.3;
commitid	IQaHuQI6JSDON8QS;

1.3
date	2015.03.16.17.20.40;	author juanfra;	state Exp;
branches;
next	1.2;
commitid	WgBklxfqX3w6bjaj;

1.2
date	2008.06.10.03.24.38;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2007.04.20.17.50.05;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.04.20.17.50.05;	author steven;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to p7zip-15.09, from maintainer Josh Grosse
@
text
@$OpenBSD: patch-install_sh,v 1.3 2015/03/16 17:20:40 juanfra Exp $
--- install.sh.orig	Tue Oct 20 17:17:32 2015
+++ install.sh	Tue Oct 20 17:19:39 2015
@@@@ -16,14 +16,14 @@@@ installShared()
 }
 
 # global install
-DEST_HOME=/usr/local
+DEST_HOME=${PREFIX}
 # for testing 
 # DEST_HOME=${HOME}/INSTALL/usr/local
 DEST_BIN=${DEST_HOME}/bin
 DEST_SHARE=${DEST_HOME}/lib/p7zip
 DEST_MAN=${DEST_HOME}/man
 DEST_SHARE_DOC=${DEST_HOME}/share/doc/p7zip
-DEST_DIR=
+DEST_DIR=${DESTDIR}
 [ "$1" ] && DEST_BIN="$1"
 [ "$2" ] && DEST_SHARE="$2"
 [ "$3" ] && DEST_MAN="$3"
@@@@ -177,11 +177,14 @@@@ fi
 
 if [ -d DOC ]
 then
-  echo "- installing HTML help in ${DEST_DIR}${DEST_SHARE_DOC}/DOC"
+  echo "- installing HTML help in ${DEST_DIR}${DEST_SHARE_DOC}"
   mkdir -p "${DEST_DIR}${DEST_SHARE_DOC}"
   cp -r DOC "${DEST_DIR}${DEST_SHARE_DOC}/DOC"
   find "${DEST_DIR}${DEST_SHARE_DOC}/DOC" -type d -exec chmod 755 {} \;
   find "${DEST_DIR}${DEST_SHARE_DOC}/DOC" -type f -exec chmod 644 {} \;
+  cp -r DOC "${DEST_DIR}${DEST_SHARE_DOC}"
+  find "${DEST_DIR}${DEST_SHARE_DOC}" -type d -exec chmod 555 {} \;
+  find "${DEST_DIR}${DEST_SHARE_DOC}" -type f -exec chmod 444 {} \;
 fi
 
 use_lang="n"
@


1.3
log
@Update to p7zip 9.38.1. From Josh Grosse (MAINTAINER).
@
text
@d1 4
a4 4
$OpenBSD: patch-install_sh,v 1.2 2008/06/10 03:24:38 sthen Exp $
--- install.sh.orig	Tue Feb 10 13:46:49 2015
+++ install.sh	Fri Feb 27 17:16:12 2015
@@@@ -17,14 +17,14 @@@@ installShared()
d21 1
a21 1
@@@@ -175,11 +175,11 @@@@ fi
d28 3
a30 3
-  cp -r DOC "${DEST_DIR}${DEST_SHARE_DOC}/DOC"
-  find "${DEST_DIR}${DEST_SHARE_DOC}/DOC" -type d -exec chmod 555 {} \;
-  find "${DEST_DIR}${DEST_SHARE_DOC}/DOC" -type f -exec chmod 444 {} \;
@


1.2
log
@update to 4.58 and fix homepage, from maintainer Josh Grosse with
tweaks by me. Changelog notes speed optimizations, bug fixes, utf8
support for .zip filenames, .lzma unpack added.
@
text
@d1 5
a5 5
$OpenBSD: patch-install_sh,v 1.1.1.1 2007/04/20 17:50:05 steven Exp $
--- install.sh.orig	Sun Mar  2 13:35:05 2008
+++ install.sh	Mon Jun  9 20:27:58 2008
@@@@ -1,14 +1,14 @@@@
 #! /bin/sh
d21 1
a21 1
@@@@ -163,10 +163,10 @@@@ fi
d23 1
a23 1
 if [ -d DOCS ]
d25 1
a25 1
-  echo "- installing HTML help in ${DEST_DIR}${DEST_SHARE_DOC}/DOCS"
d28 4
a31 4
-  cp -r DOCS "${DEST_DIR}${DEST_SHARE_DOC}/DOCS"
-  find "${DEST_DIR}${DEST_SHARE_DOC}/DOCS" -type d -exec chmod 555 {} \;
-  find "${DEST_DIR}${DEST_SHARE_DOC}/DOCS" -type f -exec chmod 444 {} \;
+  cp -r DOCS/* "${DEST_DIR}${DEST_SHARE_DOC}"
d36 1
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- install.sh.orig	Tue Jun 27 23:09:12 2006
+++ install.sh	Wed Jan 10 19:27:47 2007
d14 1
a15 1
 DEST_MAN=${DEST_HOME}/man
d18 3
a20 3
 [ "$1" ] && DEST_BIN=$1
 [ "$2" ] && DEST_SHARE=$2
 [ "$3" ] && DEST_MAN=$3
d27 7
a33 7
   mkdir -p ${DEST_DIR}${DEST_SHARE_DOC}
-  cp -r DOCS ${DEST_DIR}${DEST_SHARE_DOC}/DOCS
-  find ${DEST_DIR}${DEST_SHARE_DOC}/DOCS -type d -exec chmod 555 {} \;
-  find ${DEST_DIR}${DEST_SHARE_DOC}/DOCS -type f -exec chmod 444 {} \;
+  cp -r DOCS/* ${DEST_DIR}${DEST_SHARE_DOC}
+  find ${DEST_DIR}${DEST_SHARE_DOC} -type d -exec chmod 555 {} \;
+  find ${DEST_DIR}${DEST_SHARE_DOC} -type f -exec chmod 444 {} \;
@


1.1.1.1
log
@import p7zip 4.44

p7zip is a port of 7-zip for *nix platforms.
7-zip is a file archiver with a high compression ratio.

from Josh Grosse <josh at jggimi.homeip.net> and
Stuart Henderson <stu at spacehopper.org>

with testing, feedback, and ok from naddy@@
@
text
@@
