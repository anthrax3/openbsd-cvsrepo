head	1.17;
access;
symbols
	OPENBSD_5_4:1.16.0.4
	OPENBSD_5_4_BASE:1.16
	OPENBSD_5_3:1.16.0.2
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.15.0.2
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.4
	OPENBSD_5_0:1.13.0.2
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.12.0.6
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.12.0.4
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.10.0.4
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.2
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.8.0.4
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.2
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.6.0.2
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.3.0.10
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.8
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.6
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.2.0.4
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.1.0.2
	OPENBSD_3_4_BASE:1.1;
locks; strict;
comment	@# @;


1.17
date	2013.09.06.13.28.15;	author naddy;	state dead;
branches;
next	1.16;

1.16
date	2012.11.26.17.17.41;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2012.04.08.17.04.20;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2012.04.08.16.36.12;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2011.03.18.20.14.58;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2009.11.08.16.42.21;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2009.09.11.16.14.01;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2008.12.31.18.43.07;	author rui;	state Exp;
branches;
next	1.9;

1.9
date	2008.09.21.18.25.32;	author rui;	state Exp;
branches;
next	1.8;

1.8
date	2007.11.06.09.44.54;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2007.09.25.19.40.57;	author rui;	state Exp;
branches;
next	1.6;

1.6
date	2007.06.26.19.47.59;	author rui;	state Exp;
branches;
next	1.5;

1.5
date	2007.05.26.20.23.58;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2007.05.26.16.55.53;	author rui;	state Exp;
branches;
next	1.3;

1.3
date	2004.11.17.19.14.00;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2004.01.17.18.44.18;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2003.04.16.20.59.18;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.17
log
@Update to 5.00 and take maintainer.
Multithreading is enabled but doesn't appear to be functional.
@
text
@$OpenBSD: patch-makefile_unix,v 1.16 2012/11/26 17:17:41 naddy Exp $
--- makefile.unix.orig	Tue May 15 07:31:03 2012
+++ makefile.unix	Sun Nov 25 23:28:26 2012
@@@@ -5,9 +5,10 @@@@
 CXX=g++
 CXXFLAGS=-O2
 LIBFLAGS=-fPIC
-DEFINES=-D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE
+DEFINES=-D_FILE_OFFSET_BITS=64 -D_LARGEFILE_SOURCE -DOPENSSL
 STRIP=strip
 DESTDIR=/usr
+LIBS=-lcrypto
 
 # Linux using LCC
 #CXX=lcc
@@@@ -103,6 +104,8 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o savepos.o sma
 	archive.o arcread.o unicode.o system.o isnt.o crypt.o crc.o rawread.o encname.o \
 	resource.o match.o timefn.o rdwrfn.o consio.o options.o ulinks.o errhnd.o rarvm.o secpassword.o \
 	rijndael.o getbits.o sha1.o extinfo.o extract.o volume.o list.o find.o unpack.o cmddata.o
+
+.SUFFIXES: .cpp
 
 .cpp.o:
 	$(COMPILE) -D$(WHAT) -c $<
@


1.16
log
@maintenance update to 4.20; drop maintainer by his request
@
text
@d1 1
a1 1
$OpenBSD: patch-makefile_unix,v 1.15 2012/04/08 17:04:20 naddy Exp $
@


1.15
log
@update to 4.10; suggested by Amit Kulkarni
@
text
@d1 4
a4 5
$OpenBSD$
--- makefile.unix.orig	Mon May 30 18:47:49 2011
+++ makefile.unix	Sun Apr  8 18:41:22 2012
@@@@ -8,9 +8,10 @@@@
 # Linux using GCC
d7 1
d16 1
a16 1
@@@@ -106,6 +107,8 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o savepos.o sma
d18 1
a18 1
 	resource.o match.o timefn.o rdwrfn.o consio.o options.o ulinks.o errhnd.o rarvm.o \
@


1.14
log
@Use OpenSSL instead of the included AES code to speed up extraction
of encrypted archives.
@
text
@d1 3
a3 3
$OpenBSD: patch-makefile_unix,v 1.13 2011/03/18 20:14:58 naddy Exp $
--- makefile.unix.orig	Tue Mar 30 17:26:26 2010
+++ makefile.unix	Fri Apr  6 00:30:46 2012
d6 2
a7 2
 #CXX=g++
 #CXXFLAGS=-O2
@


1.13
log
@Update to 4.00 release; maintainer timeout.

Switch version numbering to the official version from version.hpp,
different from the distfile numbering.  jasper@@ agrees.

The current license allows PERMIT_*=Yes.  sthen@@ agrees.
@
text
@d1 17
a17 4
$OpenBSD: patch-makefile_unix,v 1.12 2009/11/08 16:42:21 jasper Exp $
--- makefile.unix.orig	Wed Mar  9 17:40:47 2011
+++ makefile.unix	Wed Mar  9 17:41:01 2011
@@@@ -107,6 +107,8 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o savepos.o sma
d20 2
a22 2
+.SUFFIXES: .cpp
+
a24 1
 
@


1.12
log
@- another file upset gcc on mips64
@
text
@d1 4
a4 4
$OpenBSD: patch-makefile_unix,v 1.11 2009/09/11 16:14:01 naddy Exp $
--- makefile.unix.orig	Sat May  2 23:18:45 2009
+++ makefile.unix	Sun Nov  8 09:39:46 2009
@@@@ -107,9 +107,17 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o savepos.o sma
a12 17
+recvol.o: recvol.cpp
+	$(COMPILE) $(EXTRA_CFLAGS) -D$(WHAT) -c $<
+
+extract.o: extract.cpp
+	$(COMPILE) $(EXTRA_CFLAGS) -D$(WHAT) -c $<
+
 all:	unrar
 
 install:	install-unrar
@@@@ -122,7 +130,6 @@@@ clean:
 unrar:	$(OBJECTS) $(UNRAR_OBJ)
 	@@rm -f unrar
 	$(LINK) -o unrar $(LDFLAGS) $(OBJECTS) $(UNRAR_OBJ) $(LIBS)	
-	$(STRIP) unrar
 
 sfx:	WHAT=SFX_MODULE
 sfx:	$(OBJECTS)
@


1.11
log
@update to 3.96; ok rui@@
@
text
@d1 4
a4 4
$OpenBSD: patch-makefile_unix,v 1.10 2008/12/31 18:43:07 rui Exp $
--- makefile.unix.orig	Sun May  3 07:18:45 2009
+++ makefile.unix	Mon Sep  7 17:49:20 2009
@@@@ -107,9 +107,14 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o savepos.o sma
d16 3
d22 1
a22 1
@@@@ -122,7 +127,6 @@@@ clean:
@


1.10
log
@- maintenance update to unrar 3.85.

ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD$
--- makefile.unix.orig	Sun Dec 28 12:45:32 2008
+++ makefile.unix	Sun Dec 28 12:48:14 2008
@@@@ -107,9 +107,14 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o int64.o savep
@


1.9
log
@- maintenance update to unrar 3.82.

ok jasper@@
@
text
@d2 3
a4 3
--- makefile.unix.orig	Sat Sep 20 21:57:22 2008
+++ makefile.unix	Sat Sep 20 21:58:57 2008
@@@@ -105,9 +105,14 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o int64.o savep
d19 1
a19 6
@@@@ -117,11 +122,10 @@@@ uninstall:	uninstall-unrar
 clean:
 	@@rm -f *.o *.bak *~
 
-unrar:	WHAT=UNRAR
+WHAT=UNRAR
@


1.8
log
@fix build on mips64.

no bump, because !mips64 packages didn't change, and mips64 didn't package.
@
text
@d1 4
a4 4
$OpenBSD: patch-makefile_unix,v 1.7 2007/09/25 19:40:57 rui Exp $
--- makefile.unix.orig	Sat Apr 30 09:00:12 2005
+++ makefile.unix	Mon Nov  5 23:52:04 2007
@@@@ -93,19 +93,23 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o int64.o savep
d18 2
@


1.7
log
@maintenance update to 3.7.8

ok sthen@@
@
text
@d1 4
a4 4
$OpenBSD$
--- makefile.unix.orig	Sat Apr 30 08:00:12 2005
+++ makefile.unix	Mon Sep 24 17:14:20 2007
@@@@ -93,6 +93,8 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o int64.o savep
d13 5
a17 1
@@@@ -101,11 +103,10 @@@@ all:	unrar
@


1.6
log
@update unrar to 3.76

ok jasper@@
@
text
@d3 1
a3 1
+++ makefile.unix	Mon Jun 25 19:34:54 2007
@


1.5
log
@don't let the port strip the binary

ok aanriot@@
@
text
@d1 3
a3 3
$OpenBSD: patch-makefile_unix,v 1.4 2007/05/26 16:55:53 rui Exp $
--- makefile.unix.orig	Sat Apr 30 09:00:12 2005
+++ makefile.unix	Sat May 26 21:58:58 2007
@


1.4
log
@update unrar to 3.75

ok ajacoutot@@
@
text
@d1 3
a3 3
$OpenBSD$
--- makefile.unix.orig	Sat Apr 30 08:00:12 2005
+++ makefile.unix	Sat May 26 16:38:03 2007
d13 1
a13 1
@@@@ -101,7 +103,7 @@@@ all:	unrar
d22 4
@


1.3
log
@update to 3.43; from Steve Shockley <steve.shockley@@shockley.net>
@
text
@d1 4
a4 4
$OpenBSD: patch-makefile_unix,v 1.2 2004/01/17 18:44:18 sturm Exp $
--- makefile.unix.orig	Mon Jul 26 09:57:26 2004
+++ makefile.unix	Wed Nov 17 19:44:55 2004
@@@@ -93,6 +93,8 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o
@


1.2
log
@update to unrar 3.30 beta 4

from thuglife at bsd dot hu (Robert Nagy)
@
text
@d1 4
a4 4
$OpenBSD: patch-makefile_unix,v 1.1 2003/04/16 20:59:18 sturm Exp $
--- makefile.unix.orig	2003-09-15 13:22:18.000000000 +0200
+++ makefile.unix	2004-01-17 19:28:46.000000000 +0100
@@@@ -58,6 +58,8 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o
d13 1
a13 1
@@@@ -66,7 +68,7 @@@@ all:	unrar
d20 1
a20 1
 	@@rm -f makeunrar
@


1.1
log
@update to unrarsrc 3.2.1 (but it's called 3.20beta3 internally?!)

This update is based on an update by naddy@@ done earlier this year.
I updated that to the current version and fixed sparc64 by disallowing
exceptions (otherwise core dumps would occur). I got some feedback from
wilfried@@.

Main changes in the program are a seemingly total rewrite in C++ with
support for newer versions of the RAR algorithm (well, newer files that
didn't uncompress with the old unrar, uncompress with this).
@
text
@d1 4
a4 4
$OpenBSD$
--- makefile.unix.orig	Fri Jan  3 19:14:22 2003
+++ makefile.unix	Mon Apr 14 21:50:54 2003
@@@@ -48,6 +48,8 @@@@ OBJECTS=rar.o strlist.o strfn.o pathfn.o
d13 1
a13 1
@@@@ -56,7 +58,7 @@@@ all:	unrar
@

