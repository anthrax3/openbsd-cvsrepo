head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.8
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.6
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.4
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.1.0.8
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_7:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2015.09.17.20.16.49;	author naddy;	state Exp;
branches;
next	1.1;
commitid	LSQA2hSb03IcYnZB;

1.1
date	2015.03.31.15.36.52;	author naddy;	state Exp;
branches
	1.1.2.1
	1.1.4.1;
next	;
commitid	2ATlUkZrXvt3nbGs;

1.1.2.1
date	2015.03.31.17.19.37;	author naddy;	state Exp;
branches;
next	;
commitid	NnVrKcAFUjoWE1Yb;

1.1.4.1
date	2015.03.31.17.47.02;	author naddy;	state Exp;
branches;
next	;
commitid	7Z6Erp1glhgnAeOI;


desc
@@


1.2
log
@Update to 2.12, but retain local fix for CVE-2015-1197.
Grab maintainer.
@
text
@$OpenBSD: patch-src_extern_h,v 1.1 2015/03/31 15:36:52 naddy Exp $

CVE-2015-1197: cpio directory traversal

--- src/extern.h.orig	Sat Sep 12 12:57:30 2015
+++ src/extern.h	Wed Sep 16 23:21:15 2015
@@@@ -96,6 +96,7 @@@@ extern char input_is_special;
 extern char output_is_special;
 extern char input_is_seekable;
 extern char output_is_seekable;
+extern bool extract_over_symlinks;
 extern int (*xstat) ();
 extern void (*copy_function) ();
 extern char *change_directory_option;
@


1.1
log
@CVE-2014-9112: Heap-based buffer overflow in the process_copy_in
function allows remote attackers to cause a denial of service via
a large block value in a cpio archive.
Fix from a series of upstream commits by Sergey Poznyakoff, via Debian.

CVE-2015-1197: cpio, when using the --no-absolute-filenames option,
allows local users to write to arbitrary files via a symlink attack
on a file in an archive.
Fix from Vitezslav Cizek after 3.5 years of gestation in the SUSE
bug tracker, via Debian.

Also apply an upstream fix for some regression tests while here.
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- src/extern.h.orig	Mon Feb 15 11:02:23 2010
+++ src/extern.h	Sun Mar 29 21:11:10 2015
@@@@ -95,6 +95,7 @@@@ extern char input_is_special;
d14 1
a14 1
 
@


1.1.4.1
log
@CVE-2014-9112: Heap-based buffer overflow in the process_copy_in
function allows remote attackers to cause a denial of service via
a large block value in a cpio archive.
Fix from a series of upstream commits by Sergey Poznyakoff, via Debian.

CVE-2015-1197: cpio, when using the --no-absolute-filenames option,
allows local users to write to arbitrary files via a symlink attack
on a file in an archive.
Fix from Vitezslav Cizek after 3.5 years of gestation in the SUSE
bug tracker, via Debian.

Also apply an upstream fix for some regression tests while here.

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_extern_h,v 1.1 2015/03/31 15:36:52 naddy Exp $
@


1.1.2.1
log
@CVE-2014-9112: Heap-based buffer overflow in the process_copy_in
function allows remote attackers to cause a denial of service via
a large block value in a cpio archive.
Fix from a series of upstream commits by Sergey Poznyakoff, via Debian.

CVE-2015-1197: cpio, when using the --no-absolute-filenames option,
allows local users to write to arbitrary files via a symlink attack
on a file in an archive.
Fix from Vitezslav Cizek after 3.5 years of gestation in the SUSE
bug tracker, via Debian.

Also apply an upstream fix for some regression tests while here.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_extern_h,v 1.1 2015/03/31 15:36:52 naddy Exp $
@

