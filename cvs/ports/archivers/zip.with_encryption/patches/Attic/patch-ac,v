head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	98.03.27.04.51.59;	author marc;	state dead;
branches;
next	1.1;

1.1
date	98.01.20.22.27.11;	author niklas;	state Exp;
branches;
next	;


desc
@@


1.2
log
@removed: port was never completed, used out of date beta sources
and could not be tested as unzip with encryption was never ported.
@
text
@*** zip.c.orig	Tue Jan 20 15:54:41 1998
--- zip.c	Tue Jan 20 15:55:39 1998
***************
*** 1615,1624 ****
      if ((zfiles != NULL || zipbeg) && (x = fopen(zipfile, FOPR_EX)) == NULL) {
        ZIPERR(ZE_NAME, zipfile);
      }
!     if ((tempzip = tempname(zipfile)) == NULL) {
        ZIPERR(ZE_MEM, "allocating temp filename");
      }
!     if ((tempzf = y = fopen(tempzip, FOPW)) == NULL) {
        ZIPERR(ZE_TEMP, tempzip);
      }
    }
--- 1615,1624 ----
      if ((zfiles != NULL || zipbeg) && (x = fopen(zipfile, FOPR_EX)) == NULL) {
        ZIPERR(ZE_NAME, zipfile);
      }
!     if ((tempzip = tempname(zipfile, &y)) == NULL) {
        ZIPERR(ZE_MEM, "allocating temp filename");
      }
!     if ((tempzf = y) == NULL) {
        ZIPERR(ZE_TEMP, tempzip);
      }
    }
@


1.1
log
@fix tmpnam usage
@
text
@@

