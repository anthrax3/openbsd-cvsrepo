head	1.40;
access;
symbols
	OPENBSD_6_2:1.40.0.8
	OPENBSD_6_2_BASE:1.40
	OPENBSD_6_1:1.40.0.6
	OPENBSD_6_1_BASE:1.40
	OPENBSD_6_0:1.40.0.4
	OPENBSD_6_0_BASE:1.40
	OPENBSD_5_9:1.40.0.2
	OPENBSD_5_9_BASE:1.40
	OPENBSD_5_8:1.39.0.12
	OPENBSD_5_8_BASE:1.39
	OPENBSD_5_7:1.39.0.8
	OPENBSD_5_7_BASE:1.39
	OPENBSD_5_6:1.39.0.6
	OPENBSD_5_6_BASE:1.39
	OPENBSD_5_5:1.39.0.4
	OPENBSD_5_5_BASE:1.39
	OPENBSD_5_4:1.39.0.2
	OPENBSD_5_4_BASE:1.39
	OPENBSD_5_3:1.38.0.10
	OPENBSD_5_3_BASE:1.38
	OPENBSD_5_2:1.38.0.8
	OPENBSD_5_2_BASE:1.38
	OPENBSD_5_1_BASE:1.38
	OPENBSD_5_1:1.38.0.6
	OPENBSD_5_0:1.38.0.4
	OPENBSD_5_0_BASE:1.38
	OPENBSD_4_9:1.38.0.2
	OPENBSD_4_9_BASE:1.38
	OPENBSD_4_8:1.37.0.8
	OPENBSD_4_8_BASE:1.37
	OPENBSD_4_7:1.37.0.6
	OPENBSD_4_7_BASE:1.37
	OPENBSD_4_6:1.37.0.4
	OPENBSD_4_6_BASE:1.37
	OPENBSD_4_5:1.37.0.2
	OPENBSD_4_5_BASE:1.37
	OPENBSD_4_4:1.36.0.4
	OPENBSD_4_4_BASE:1.36
	OPENBSD_4_3:1.36.0.2
	OPENBSD_4_3_BASE:1.36
	OPENBSD_4_2:1.35.0.4
	OPENBSD_4_2_BASE:1.35
	OPENBSD_4_1:1.35.0.2
	OPENBSD_4_1_BASE:1.35
	OPENBSD_4_0:1.34.0.2
	OPENBSD_4_0_BASE:1.34
	OPENBSD_3_9:1.33.0.6
	OPENBSD_3_9_BASE:1.33
	OPENBSD_3_8:1.33.0.4
	OPENBSD_3_8_BASE:1.33
	OPENBSD_3_7:1.33.0.2
	OPENBSD_3_7_BASE:1.33
	OPENBSD_3_6:1.30.0.6
	OPENBSD_3_6_BASE:1.30
	OPENBSD_3_5:1.30.0.4
	OPENBSD_3_5_BASE:1.30
	OPENBSD_3_4:1.30.0.2
	OPENBSD_3_4_BASE:1.30
	OPENBSD_3_3:1.29.0.2
	OPENBSD_3_3_BASE:1.29
	OPENBSD_3_2:1.28.0.4
	OPENBSD_3_2_BASE:1.28
	OPENBSD_3_1:1.28.0.2
	OPENBSD_3_1_BASE:1.28
	OPENBSD_3_0:1.26.0.2
	OPENBSD_3_0_BASE:1.26
	OPENBSD_2_9_TRACKING_SWITCH:1.25
	OPENBSD_2_9:1.24.0.2
	OPENBSD_2_9_BASE:1.24
	OPENBSD_2_8:1.21.0.2
	OPENBSD_2_8_BASE:1.21
	OPENBSD_2_7:1.16.0.2
	OPENBSD_2_7_BASE:1.16
	OPENBSD_2_6:1.8.0.2
	OPENBSD_2_6_BASE:1.8
	OPENBSD_2_5:1.7.0.2
	OPENBSD_2_5_BASE:1.7
	OPENBSD_2_4:1.5.0.2
	OPENBSD_2_4_BASE:1.5
	OPENBSD_2_3:1.3.0.2
	OPENBSD_2_3_BASE:1.3
	zip2_1:1.1.1.1
	zip:1.1.1;
locks; strict;
comment	@# @;


1.40
date	2015.09.21.10.39.47;	author sthen;	state Exp;
branches;
next	1.39;
commitid	oKk9kmkoUxrOC7Nm;

1.39
date	2013.03.10.22.28.05;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2010.10.18.16.47.00;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2009.01.14.16.59.51;	author sturm;	state Exp;
branches;
next	1.36;

1.36
date	2007.09.15.10.14.33;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2006.12.03.08.51.34;	author matthieu;	state Exp;
branches;
next	1.34;

1.34
date	2006.07.30.17.33.40;	author naddy;	state Exp;
branches;
next	1.33;

1.33
date	2004.12.04.15.45.41;	author robert;	state Exp;
branches;
next	1.32;

1.32
date	2004.12.04.15.36.36;	author robert;	state Exp;
branches;
next	1.31;

1.31
date	2004.11.21.12.50.33;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2003.05.24.02.40.42;	author jolan;	state Exp;
branches
	1.30.4.1
	1.30.6.1;
next	1.29;

1.29
date	2002.12.29.15.15.18;	author fgsch;	state Exp;
branches;
next	1.28;

1.28
date	2002.03.21.20.35.41;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2001.10.28.13.05.45;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2001.10.04.22.26.48;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2001.08.14.18.57.29;	author pvalchev;	state Exp;
branches;
next	1.24;

1.24
date	2001.04.20.17.35.36;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2001.04.09.18.29.21;	author avsm;	state Exp;
branches;
next	1.22;

1.22
date	2001.03.29.15.02.04;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2000.10.07.20.54.27;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2000.07.24.01.56.45;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2000.07.24.01.31.33;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2000.07.24.01.23.18;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2000.06.10.20.22.18;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2000.03.26.22.12.27;	author brad;	state Exp;
branches
	1.16.2.1;
next	1.15;

1.15
date	2000.03.24.22.11.34;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2000.03.16.03.33.54;	author kevlo;	state Exp;
branches;
next	1.13;

1.13
date	2000.03.12.14.51.57;	author turan;	state Exp;
branches;
next	1.12;

1.12
date	2000.02.22.17.08.34;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.02.11.00.37.16;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	99.12.24.08.59.53;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.12.18.01.48.51;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	99.09.06.17.43.10;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	99.04.03.07.22.19;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	99.04.01.02.16.41;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	98.10.20.08.39.43;	author form;	state Exp;
branches;
next	1.4;

1.4
date	98.06.22.09.47.28;	author form;	state Exp;
branches;
next	1.3;

1.3
date	98.02.25.21.08.06;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	97.12.20.17.41.14;	author todd;	state Exp;
branches;
next	1.1;

1.1
date	97.11.17.23.50.14;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.11.17.23.50.14;	author joey;	state Exp;
branches;
next	;

1.16.2.1
date	2000.09.15.04.40.55;	author marc;	state Exp;
branches;
next	;

1.30.4.1
date	2004.12.05.11.42.57;	author robert;	state Exp;
branches;
next	;

1.30.6.1
date	2004.12.05.11.41.32;	author robert;	state Exp;
branches;
next	;


desc
@@


1.40
log
@drop USE_GROFF, from Jan Stary. reformat Makefile according to usual
ordering while there.
@
text
@# $OpenBSD: Makefile,v 1.39 2013/03/10 22:28:05 espie Exp $

COMMENT=	create/update ZIP files compatible with PKZip(tm)

VERSION=	3.0
REVISION=	0
DISTNAME=	zip${VERSION:S/.//}
PKGNAME=	zip-${VERSION}

CATEGORIES=	archivers

HOMEPAGE=	http://infozip.sourceforge.net/

# Conditional
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=infozip/}

MAKE_FLAGS=	CC="${CC}" CFLAGS_NOOPT="${CFLAGS} -I. -DUNIX"

MAKE_FILE=	unix/Makefile
ALL_TARGET=	generic
NO_TEST=	Yes

do-install:
.for prog in zip zipcloak zipnote zipsplit
	${INSTALL_PROGRAM} ${WRKBUILD}/${prog} ${PREFIX}/bin
	${INSTALL_MAN} ${WRKDIST}/man/${prog}.1 ${PREFIX}/man/man1
.endfor

.include <bsd.port.mk>
@


1.39
log
@regress -> test
PERMIT_* cleanup
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/10/18 16:47:00 espie Exp $
d6 1
d9 1
a10 1
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=infozip/}
d16 4
a19 1
WANTLIB=		c
a25 1
USE_GROFF =	Yes
@


1.38
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2009/01/14 16:59:51 sturm Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d21 1
a21 1
NO_REGRESS=	Yes
@


1.37
log
@update to zip 3.0

from form@@ via mikeb@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2007/09/15 10:14:33 espie Exp $
d25 1
@


1.36
log
@zap all quotes in COMMENT/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2006/12/03 08:51:34 matthieu Exp $
d5 3
a7 1
DISTNAME=	zip-2.32
d9 1
a9 4
MASTER_SITES=	${MASTER_SITE_TEX_CTAN:=tools/zip/info-zip/src/} \
		ftp://ftp.info-zip.org/pub/infozip/src/ \
		${MASTER_SITE_SOURCEFORGE:=infozip/} \
		http://mirror.switch.ch/ftp/mirror/infozip/src/		
d11 1
a11 3
DISTFILES=	zip232.tar.gz zcrypt29.zip

HOMEPAGE=	http://www.ctan.org/tex-archive/tools/zip/info-zip/Zip.html
a20 1
FAKE_FLAGS=	prefix="${WRKINST}${PREFIX}"
a22 1

d24 1
d26 5
a30 4
post-extract:
	@@mv -f ${WRKDIR}/crypt.[ch] ${WRKSRC}

NO_REGRESS=	Yes
@


1.35
log
@add MASTER_SITE_TEX_CTAN to MASTER_SITES, as many other are down or don't
have the latest version. "Don't bump pkgname" and ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2006/07/30 17:33:40 naddy Exp $
d3 1
a3 1
COMMENT=	"create/update ZIP files compatible with PKZip(tm)"
@


1.34
log
@Update to 2.32 from David Hill <dhill@@mindcry.org>.  Clean up a bit.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2004/12/04 15:45:41 robert Exp $
d7 2
a8 1
MASTER_SITES=	ftp://ftp.info-zip.org/pub/infozip/src/ \
@


1.33
log
@fix WRKDIST
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.32 2004/12/04 15:36:36 robert Exp $
# $FreeBSD: Makefile,v 1.11 1997/11/25 20:45:45 ache Exp $
d5 1
a5 2
DISTNAME=	zip23
PKGNAME=	zip-2.3p0
d7 3
a9 2
MASTER_SITES=	ftp://ftp.uu.net/pub/archiving/zip/src/ \
		ftp://ftp.icce.rug.nl/infozip/src/
d11 1
a11 1
DISTFILES=	zip23.tar.gz zcrypt29.zip
d22 1
a22 1
MAKE_FLAGS=	CC="${CC}" CFLAGS="${CFLAGS} -I. -DUNIX"
a28 4
WRKDIST=	${WRKDIR}/${PKGNAME:S/p0//}

DOCS=	README WHERE

d30 1
a30 5
	@@mv -f ${WRKDIR}/{crypt.c,crypt.h} ${WRKSRC}

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/zip
	cd ${WRKSRC}; ${INSTALL_DATA} ${DOCS} ${PREFIX}/share/doc/zip
@


1.32
log
@SECURITY:
fix a buffer overflow; bump PKGNAME;
When zip performs recursive folder compression, it does not check
for the length of resulting path. If the path is too long, a buffer overflow
occurs leading to stack corruption and segmentation fault;
CAN-2004-1010
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2004/11/21 12:50:33 espie Exp $
d30 1
a30 1
WRKDIST=	${WRKDIR}/${PKGNAME}
@


1.31
log
@Mark all system libs in WANTLIB, result of running newlib-depends-check
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/05/24 02:40:42 jolan Exp $
d7 1
a7 1
PKGNAME=	zip-2.3
@


1.30
log
@lzo     -- # GPL
lzop    -- # GNU GPL -> # GPL
macutil -- sync w/# None style
nulib   -- # Restrictive
rar     -- # Restrictive
ucl     -- # GPL
unace   -- # Copyrighted but freely distributable.
             That's all the author states.  Is this acceptable as a
             license?
        -- Drop MAINTAINER per his request
unarj   -- # Restrictive
           PERMIT_*_CDROM=No
             "If you wish to distribute a modified version of UNARJ
              you MUST indicate that it is a modified version both in
              the program and source code."
unrar  --  # Restrictive
unzip  --  # Conditional
             It is freely re-distributable with conditions which we meet.
             This could use another pair of eyes to confirm.
zip    --  # Conditional
             Same thing as unzip.
zoo    --  # Conditional
             Different author/license but same idea as zip/unzip.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2002/12/29 15:15:18 fgsch Exp $
d21 1
@


1.30.4.1
log
@SECURITY:
fix a buffer overflow; bump PKGNAME;
When zip performs recursive folder compression, it does not check
for the length of resulting path. If the path is too long, a buffer overflow
occurs leading to stack corruption and segmentation fault;
CAN-2004-1010

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/05/24 02:40:42 jolan Exp $
d7 1
a7 1
PKGNAME=	zip-2.3p0
d29 1
a29 1
WRKDIST=	${WRKDIR}/${PKGNAME:S/p0//}
@


1.30.6.1
log
@SECURITY:
fix a buffer overflow; bump PKGNAME;
When zip performs recursive folder compression, it does not check
for the length of resulting path. If the path is too long, a buffer overflow
occurs leading to stack corruption and segmentation fault;
CAN-2004-1010

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2003/05/24 02:40:42 jolan Exp $
d7 1
a7 1
PKGNAME=	zip-2.3p0
d29 1
a29 1
WRKDIST=	${WRKDIR}/${PKGNAME:S/p0//}
@


1.29
log
@sayonara NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2002/03/21 20:35:41 espie Exp $
d16 1
@


1.28
log
@bump NEED_VERSION for distinfo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/10/28 13:05:45 espie Exp $
a8 1
NEED_VERSION=	1.515
@


1.27
log
@Zap default MAINTAINER from Makefile.
Especially now that the default line is more verbose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/10/04 22:26:48 espie Exp $
d9 1
a9 1
NEED_VERSION=	1.384
@


1.26
log
@Note existing regression tests for archivers. No need to update
NEED_VERSION, this won't break anything otherwise.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/08/14 18:57:29 pvalchev Exp $
a15 2

MAINTAINER=	ports@@openbsd.org
@


1.25
log
@Fixup HOMEPAGE and MASTER_SITES here too; from FreeBSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/04/20 17:35:36 brad Exp $
d41 2
@


1.24
log
@bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/04/09 18:29:21 avsm Exp $
d10 2
a11 3
MASTER_SITES=	ftp://ftp.freesoftware.com/pub/infozip/src/ \
		ftp://ftp.info-zip.org/pub/infozip/src/ \
		ftp://ftp.uu.net/pub/archiving/zip/src/
d15 1
a15 1
HOMEPAGE=	http://www.freesoftware.com/pub/infozip/
@


1.23
log
@Some more MASTER_SITES here also, requested by brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/03/29 15:02:04 brad Exp $
d9 1
a9 1
NEED_VERSION=	1.364
@


1.22
log
@- integrate COMMENT
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/10/07 20:54:27 brad Exp $
d10 4
a13 1
MASTER_SITES=	ftp://ftp.freesoftware.com/pub/infozip/src/
@


1.21
log
@add support for unencrypting encrypted zip files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/07/24 01:56:45 brad Exp $
d4 2
d9 1
a9 1
NEED_VERSION=	1.336
@


1.20
log
@mis-understanding by me, re-update PERMIT_*_CDROM
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/07/24 01:31:33 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.310
d9 1
d29 5
d36 1
a36 1
	cd ${WRKSRC}; ${INSTALL_DATA} README WHERE ${PREFIX}/share/doc/zip
@


1.19
log
@- bump NEED_VERSION
- update PERMIT_*_CDROM to match reality
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/07/24 01:23:18 brad Exp $
d14 1
a14 1
PERMIT_PACKAGE_CDROM=	"No commercial use"
d16 1
a16 1
PERMIT_DISTFILES_CDROM=	"No commercial use"
@


1.18
log
@add HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/06/10 20:22:18 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.301
d14 1
a14 1
PERMIT_PACKAGE_CDROM=	"no fee"
d16 1
a16 1
PERMIT_DISTFILES_CDROM=	"no fee"
@


1.17
log
@- remove FAKE=Yes
- add @@comment with RCS id to PLIST
- HAS_CONFIGURE/GNU_CONFIGURE -> CONFIGURE_STYLE
- remove NO_CONFIGURE, NO_PATCH
- use new framework for PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/03/26 22:12:27 brad Exp $
d9 2
@


1.16
log
@- make use of MAKE_FLAGS
- bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/03/24 22:11:34 espie Exp $
d7 1
a7 1
NEED_VERSION=	1.218
d17 2
a18 1
FAKE=		Yes
a20 2
MAKE_FLAGS=	CC="${CC}" CFLAGS="${CFLAGS} -I. -DUNIX"
FAKE_FLAGS=	prefix="${WRKINST}${PREFIX}"
@


1.16.2.1
log
@bring cut-off archivers into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/07/24 01:56:45 brad Exp $
d7 1
a7 1
NEED_VERSION=	1.310
a9 2
HOMEPAGE=	http://www.freesoftware.com/pub/infozip/

d12 1
a12 1
PERMIT_PACKAGE_CDROM=	Yes
d14 1
a14 1
PERMIT_DISTFILES_CDROM=	Yes
d17 3
a21 2

MAKE_FILE=	unix/Makefile
@


1.15
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2000/03/16 03:33:54 kevlo Exp $
d7 1
a7 1
NEED_VERSION=	1.210
d18 5
a23 1
MAKE_FILE=	unix/Makefile
d29 1
a29 2
	@@cd ${WRKSRC} && \
	 ${INSTALL_DATA} README WHERE ${PREFIX}/share/doc/zip
@


1.14
log
@- upgrade to version 2.3
- update the MASTER_SITES. The original site has been moved
- Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/03/12 14:51:57 turan Exp $
d7 1
a8 1
NEED_VERSION=	1.210
@


1.13
log
@license.  no fee.  restrict cdrom.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/02/22 17:08:34 espie Exp $
d4 2
a5 2
DISTNAME=	zip22
PKGNAME=	zip-2.2
d7 1
a7 1
MASTER_SITES=	ftp://ftp.cdrom.com/pub/infozip/src/
d17 1
d24 1
a24 1
	@@mkdir -p ${PREFIX}/share/doc/zip
@


1.12
log
@MAKEFILE-> MAKE_FILE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/02/11 00:37:16 espie Exp $
d11 5
@


1.11
log
@Use WRKDIST where appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/12/24 08:59:53 brad Exp $
d8 1
a8 1
NEED_VERSION=	1.191
d13 1
a13 1
MAKEFILE=	unix/Makefile
@


1.10
log
@install some zip documentation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/12/18 01:48:51 brad Exp $
d8 1
d15 1
a15 1
WRKSRC=	${WRKDIR}/${PKGNAME}
@


1.9
log
@- remove do-install target
- cleanup Makefile
- make this port respect CC and CFLAGS
- use zip's own install target and use BSD_INSTALL macros instead of just
copying the files
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/09/06 17:43:10 brad Exp $
d15 5
@


1.8
log
@- use ${PKGNAME} with WRKSRC tag
- remove unnecessary MAN tag
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/04/03 07:22:19 brad Exp $
d4 2
a5 2
DISTNAME=       zip22
PKGNAME=        zip-2.2
d7 1
a7 1
MASTER_SITES=   ftp://ftp.cdrom.com/pub/infozip/src/
d11 2
a12 4
WRKSRC=         ${WRKDIR}/${PKGNAME}
MAKEFILE=       unix/Makefile
MAKE_FLAGS=     LOCAL_ZIP="${CFLAGS}" -f
ALL_TARGET=     generic
d14 1
a14 5
do-install:
	@@cd ${WRKSRC} && \
	    ${INSTALL_PROGRAM} zip zipnote zipsplit zipcloak ${PREFIX}/bin
	@@cd ${WRKSRC}/man && \
	    ${INSTALL_MAN} zip.1 ${PREFIX}/man/man1
@


1.7
log
@back out incorrect change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/04/01 02:16:41 brad Exp $
d11 1
a11 1
WRKSRC=         ${WRKDIR}/zip-2.2
a14 1
MAN1=		zip.1
d17 1
a17 1
	cd ${WRKSRC} && \
d19 2
a20 2
	cd ${WRKSRC}/man && \
	    ${INSTALL_MAN} ${MAN1} ${PREFIX}/man/man1
@


1.6
log
@remove unnecessary comments and fix email address's
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1998/10/20 08:39:43 form Exp $
d15 1
@


1.5
log
@form@@vs.itam.nsc.ru -> form@@openbsd.org
@
text
@d1 2
a2 10
# New ports collection makefile for:    zip (without encryption)
# http://infozip.cdrom.com/pub/infozip/
#
# Version required:     2.2
# Date created:         22 Jun 1998
# Whom:                 form
#
# $OpenBSD: Makefile,v 1.4 1998/06/22 09:47:28 form Exp $
# FreeBSD: Makefile,v 1.11 1997/11/25 20:45:45 ache Exp
#
d9 1
a9 1
MAINTAINER=	form@@OpenBSD.ORG
a14 1
MAN1=           zip.1
@


1.4
log
@update to 2.2
@
text
@d8 1
a8 1
# $OpenBSD: Makefile,v 1.0 1998/06/22 16:34:12 form Exp $
d17 1
a17 1
MAINTAINER=	form@@vs.itam.nsc.ru
@


1.3
log
@install doc.  Uninstall and remove empty doc directory when package deleted
@
text
@d1 1
a1 1
# OpenBSD makefile for:    zip (without encryption)
d4 3
a6 3
# Version required:     2.1
# Date created:         17 Nov 1997
# Whom:                 ejovi
d8 2
a9 1
# $OpenBSD: Makefile,v 1.2 1997/12/20 17:41:14 todd Exp $
d12 2
a13 2
DISTNAME=       zip21
PKGNAME=        zip-2.1
a15 1
EXTRACT_SUFX=   .zip
d17 1
a17 1
MAINTAINER=     joey@@OpenBSD.ORG
d19 1
a19 5
BUILD_DEPENDS=  unzip:${PORTSDIR}/archivers/unzip

EXTRACT_CMD=    ${SETENV} unzip
EXTRACT_ARGS=   -oq
NO_WRKSUBDIR=   yes
a29 3
	install -d -m 555 -o ${SHAREOWN} -g ${SHAREGRP} ${PREFIX}/share/doc/zip
	cd ${WRKSRC} && \
		${INSTALL_DATA} README Where ${PREFIX}/share/doc/zip
@


1.2
log
@prefix programs in /usr/local/bin with ${SETENV}
@
text
@d8 1
a8 1
# $OpenBSD: Makefile,v 1.1.1.1 1997/11/17 23:50:14 joey Exp $
d34 3
@


1.1
log
@Initial revision
@
text
@d8 1
a8 1
# $OpenBSD$
d21 1
a21 1
EXTRACT_CMD=    unzip
@


1.1.1.1
log
@
@
text
@@

