head	1.73;
access;
symbols
	OPENBSD_6_1:1.71.0.2
	OPENBSD_6_1_BASE:1.71
	OPENBSD_6_0:1.51.0.2
	OPENBSD_6_0_BASE:1.51
	OPENBSD_5_9:1.48.0.2
	OPENBSD_5_9_BASE:1.48
	OPENBSD_5_8:1.43.0.4
	OPENBSD_5_8_BASE:1.43
	OPENBSD_5_7:1.40.0.2
	OPENBSD_5_7_BASE:1.40
	OPENBSD_5_6:1.29.0.2
	OPENBSD_5_6_BASE:1.29
	OPENBSD_5_5:1.18.0.2
	OPENBSD_5_5_BASE:1.18
	OPENBSD_5_4:1.7.0.2
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.1.1.1.0.2
	OPENBSD_5_3_BASE:1.1.1.1
	rpe_20130204:1.1.1.1
	rpe:1.1.1;
locks; strict;
comment	@# @;


1.73
date	2017.04.22.10.52.09;	author jasper;	state Exp;
branches;
next	1.72;
commitid	StpVqhEhHgJPXiHY;

1.72
date	2017.04.09.11.24.24;	author jasper;	state Exp;
branches;
next	1.71;
commitid	YDPT8UdMfA9lQ4SG;

1.71
date	2017.01.17.19.23.41;	author jasper;	state Exp;
branches;
next	1.70;
commitid	xyZtRdpzDXneYjj7;

1.70
date	2016.12.16.15.26.14;	author sthen;	state Exp;
branches;
next	1.69;
commitid	j9fZKRvacZJKYGOB;

1.69
date	2016.11.04.15.51.55;	author jasper;	state Exp;
branches;
next	1.68;
commitid	y5DYTfAoHtiiTefA;

1.68
date	2016.11.02.09.07.02;	author jasper;	state Exp;
branches;
next	1.67;
commitid	QMOt2uWby6iXaErW;

1.67
date	2016.10.31.17.50.44;	author jasper;	state Exp;
branches;
next	1.66;
commitid	KjDKx9c5NoTLucPU;

1.66
date	2016.10.31.17.23.13;	author jasper;	state Exp;
branches;
next	1.65;
commitid	wIWCAlP4FLAeJs5B;

1.65
date	2016.10.31.17.10.58;	author jasper;	state Exp;
branches;
next	1.64;
commitid	2Plp8M56a1Vn48Zu;

1.64
date	2016.10.31.17.03.35;	author jasper;	state Exp;
branches;
next	1.63;
commitid	VBDPeh8lztTevAhL;

1.63
date	2016.10.22.17.31.44;	author jasper;	state Exp;
branches;
next	1.62;
commitid	pFvTX35UBsr3CZUb;

1.62
date	2016.10.15.09.04.36;	author jasper;	state Exp;
branches;
next	1.61;
commitid	MNUCBhMaVuKvZH5p;

1.61
date	2016.10.15.09.03.05;	author jasper;	state Exp;
branches;
next	1.60;
commitid	1gBY6GxujUcJBNSM;

1.60
date	2016.10.15.08.51.08;	author jasper;	state Exp;
branches;
next	1.59;
commitid	BroXtjhNzYUoBWuR;

1.59
date	2016.10.14.12.51.15;	author jasper;	state Exp;
branches;
next	1.58;
commitid	ZhCTc40OMou93MeS;

1.58
date	2016.10.14.12.34.03;	author jasper;	state Exp;
branches;
next	1.57;
commitid	vCrTTNacMdYU761P;

1.57
date	2016.10.14.12.27.39;	author jasper;	state Exp;
branches;
next	1.56;
commitid	kPi9Ng0IiAVkIHg5;

1.56
date	2016.09.30.20.12.59;	author jasper;	state Exp;
branches;
next	1.55;
commitid	mQNFsGnhza1Bi7Bb;

1.55
date	2016.09.06.11.40.22;	author jasper;	state Exp;
branches;
next	1.54;
commitid	Yq5Yz3Z2H8b1SWQa;

1.54
date	2016.08.30.11.29.06;	author jasper;	state Exp;
branches;
next	1.53;
commitid	jOjEaSFEwqycPec7;

1.53
date	2016.08.22.09.05.46;	author jasper;	state Exp;
branches;
next	1.52;
commitid	pirOLlhU8pqPCNRq;

1.52
date	2016.08.21.13.45.46;	author rpe;	state Exp;
branches;
next	1.51;
commitid	PqkiGXCBqCbzJQE5;

1.51
date	2016.05.27.13.54.49;	author rpe;	state Exp;
branches;
next	1.50;
commitid	qliaubqhzZwKgsAC;

1.50
date	2016.04.25.10.04.50;	author rpe;	state Exp;
branches;
next	1.49;
commitid	d2fdsIYhmtRhitt8;

1.49
date	2016.02.27.15.37.50;	author jasper;	state Exp;
branches;
next	1.48;
commitid	gvo6BPsQTo1I5d85;

1.48
date	2016.02.05.12.54.19;	author rpe;	state Exp;
branches;
next	1.47;
commitid	Z5v6amlKeoknUiR8;

1.47
date	2016.01.15.18.34.34;	author rpe;	state Exp;
branches;
next	1.46;
commitid	BsHz7aLpUiPkyjY1;

1.46
date	2015.10.25.15.23.03;	author rpe;	state Exp;
branches;
next	1.45;
commitid	ueT8xmlmF1UczMeW;

1.45
date	2015.09.29.17.30.39;	author rpe;	state Exp;
branches;
next	1.44;
commitid	PzwiXAnVc1DKGgDr;

1.44
date	2015.09.29.10.52.34;	author sthen;	state Exp;
branches;
next	1.43;
commitid	kK00TsVxnVFlTJwI;

1.43
date	2015.07.01.21.26.38;	author rpe;	state Exp;
branches;
next	1.42;
commitid	zywqElDCnd6ltupc;

1.42
date	2015.05.03.12.56.55;	author rpe;	state Exp;
branches;
next	1.41;
commitid	nJjKIPYvtOqH1Gpr;

1.41
date	2015.03.31.19.09.28;	author rpe;	state Exp;
branches;
next	1.40;
commitid	laIXYwOnlIBP0ypb;

1.40
date	2015.02.22.16.49.40;	author rpe;	state Exp;
branches;
next	1.39;
commitid	IpGpGZYgAZen2Brg;

1.39
date	2015.01.24.00.45.45;	author rpe;	state Exp;
branches;
next	1.38;
commitid	6X0rNN10YLM1V0Ge;

1.38
date	2015.01.22.19.57.41;	author rpe;	state Exp;
branches;
next	1.37;
commitid	hnhWGBXCEBCvv8Uf;

1.37
date	2014.12.06.11.32.56;	author rpe;	state Exp;
branches;
next	1.36;
commitid	EokIivZ0VSxdEbQl;

1.36
date	2014.11.11.21.36.16;	author rpe;	state Exp;
branches;
next	1.35;
commitid	dzvXG9JN3gPDQSfn;

1.35
date	2014.10.30.19.17.52;	author sthen;	state Exp;
branches;
next	1.34;
commitid	7AjUhCmkwy7L3hjk;

1.34
date	2014.09.29.19.38.00;	author rpe;	state Exp;
branches;
next	1.33;
commitid	sawjZjxIcwDc7UJl;

1.33
date	2014.09.12.20.46.46;	author landry;	state Exp;
branches;
next	1.32;
commitid	HbtGEs8sz1s8S0yk;

1.32
date	2014.09.10.20.21.43;	author rpe;	state Exp;
branches;
next	1.31;
commitid	78qqefCHzyB85y3l;

1.31
date	2014.08.24.08.46.42;	author rpe;	state Exp;
branches;
next	1.30;
commitid	y2qmZ98UDefFxUyY;

1.30
date	2014.08.11.20.56.15;	author rpe;	state Exp;
branches;
next	1.29;
commitid	LwKAIcrzKOjo53mf;

1.29
date	2014.07.23.20.28.49;	author rpe;	state Exp;
branches;
next	1.28;
commitid	twwz2ONRWLo0tuUj;

1.28
date	2014.07.01.23.24.37;	author rpe;	state Exp;
branches;
next	1.27;
commitid	NDzzx7QBUqLutbmG;

1.27
date	2014.06.26.12.48.46;	author ajacoutot;	state Exp;
branches;
next	1.26;
commitid	2SVNPyz1gYjiVwLA;

1.26
date	2014.05.26.20.09.54;	author rpe;	state Exp;
branches;
next	1.25;

1.25
date	2014.05.12.20.17.16;	author rpe;	state Exp;
branches;
next	1.24;

1.24
date	2014.04.25.20.35.23;	author rpe;	state Exp;
branches;
next	1.23;

1.23
date	2014.04.18.13.28.06;	author rpe;	state Exp;
branches;
next	1.22;

1.22
date	2014.03.27.12.07.59;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2014.03.15.15.28.01;	author rpe;	state Exp;
branches;
next	1.20;

1.20
date	2014.03.14.18.19.34;	author rpe;	state Exp;
branches;
next	1.19;

1.19
date	2014.03.10.23.12.20;	author rpe;	state Exp;
branches;
next	1.18;

1.18
date	2014.02.14.09.46.18;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2014.01.31.06.42.26;	author rpe;	state Exp;
branches;
next	1.16;

1.16
date	2014.01.24.17.44.55;	author rpe;	state Exp;
branches;
next	1.15;

1.15
date	2014.01.14.22.34.03;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2013.12.24.18.53.37;	author rpe;	state Exp;
branches;
next	1.13;

1.13
date	2013.12.11.20.27.01;	author rpe;	state Exp;
branches;
next	1.12;

1.12
date	2013.11.07.09.29.06;	author rpe;	state Exp;
branches;
next	1.11;

1.11
date	2013.10.24.19.23.54;	author rpe;	state Exp;
branches;
next	1.10;

1.10
date	2013.09.24.18.18.11;	author rpe;	state Exp;
branches;
next	1.9;

1.9
date	2013.09.18.18.40.32;	author rpe;	state Exp;
branches;
next	1.8;

1.8
date	2013.08.22.19.08.52;	author rpe;	state Exp;
branches;
next	1.7;

1.7
date	2013.07.08.09.53.47;	author rpe;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2013.06.29.09.08.28;	author rpe;	state Exp;
branches;
next	1.5;

1.5
date	2013.06.12.15.29.23;	author rpe;	state Exp;
branches;
next	1.4;

1.4
date	2013.04.06.09.40.02;	author rpe;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.11.11.41.29;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2013.03.07.07.32.14;	author rpe;	state Exp;
branches;
next	1.1;

1.1
date	2013.02.04.10.35.14;	author rpe;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.02.04.10.35.14;	author rpe;	state Exp;
branches
	1.1.1.1.2.1;
next	;

1.1.1.1.2.1
date	2013.07.08.19.13.29;	author jasper;	state Exp;
branches;
next	;

1.7.2.1
date	2014.02.14.09.48.57;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.73
log
@update to ansible-2.3.0
@
text
@# $OpenBSD: Makefile,v 1.72 2017/04/09 11:24:24 jasper Exp $

COMMENT =		ssh based config management framework

MODPY_EGG_VERSION =	2.3.0.0
DISTNAME =		ansible-${MODPY_EGG_VERSION}

CATEGORIES =		sysutils

HOMEPAGE =		http://www.ansible.com/

MAINTAINER =		Jasper Lievisse Adriaanse <jasper@@openbsd.org>

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =		http://releases.ansible.com/ansible/

MODULES =		lang/python
MODPY_SETUPTOOLS =	Yes

RUN_DEPENDS =		security/py-crypto \
			security/py-keyczar \
			security/py-paramiko \
			security/py-passlib \
			textproc/py-yaml \
			www/py-jinja2

NO_TEST =		Yes

DOCDIR =		${PREFIX}/share/doc/ansible
EXDIR =			${PREFIX}/share/examples/ansible
PLUGINDIR =		${PREFIX}/share/ansible_plugins

pre-configure:
	sed -i -e "s,/usr/share,${TRUEPREFIX}/share,g;" \
		  -e "s,/usr/share/ansible_plugins,${PLUGINDIR},g" \
		${WRKSRC}/lib/ansible/constants.py \
		${WRKSRC}/examples/ansible.cfg \
		${WRKSRC}/docs/man/man1/*.1

post-install:
	${INSTALL_DATA_DIR} ${EXDIR} ${DOCDIR}
	${INSTALL_DATA} ${WRKSRC}/examples/* ${EXDIR}
	${SUBST_CMD} ${EXDIR}/hosts
	${INSTALL_DATA} ${WRKSRC}/docs/man/man1/*.1 ${PREFIX}/man/man1
	${INSTALL_DATA} ${WRKSRC}/{COPYING,README.md} ${DOCDIR}/
	find ${PREFIX} \( -name '*.orig' -o -name '.git*' \
		-o -name '*.beforesubst' \) -type f -exec rm {} +

.include <bsd.port.mk>
@


1.72
log
@update to ansible-2.2.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2017/01/17 19:23:41 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.2.2.0
@


1.71
log
@update to ansible-2.2.1.0, includes a security fix for CVE-2016-9587
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2016/12/16 15:26:14 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.2.1.0
@


1.70
log
@re-add paramiko dep; ansible doesn't start ("Unexpected Exception: The
'paramiko' distribution was not found") if it's missing. discussed with
landry, ok jasper (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2016/11/04 15:51:55 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.2.0.0
a6 1
REVISION =		1
@


1.69
log
@and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2016/11/02 09:07:02 jasper Exp $
d7 1
a7 1
REVISION =		0
d25 1
@


1.68
log
@update to ansible 2.2.0.0

- https://groups.google.com/forum/#!topic/ansible-announce/cLN64qQ_yoo
- https://www.ansible.com/blog/ansible-network-updates
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2016/10/31 17:50:44 jasper Exp $
d7 1
@


1.67
log
@simplify resolution of ansible_processor by using hw.model and hw.ncpu.
previously /var/run/dmesg.boot or dmesg(8) would be parsed however that could
lead to bogus values (e.g. the full "Enhanced SpeedStep" line) if the buffer
contained multiple (partial) dmesgs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2016/10/31 17:23:13 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.1.2.0
a6 1
REVISION =		8
@


1.66
log
@swap the values of the distribution_release and distribution_version facts

this is more in line with other platforms where the version fact is a numerical
value and the release an identification string:

    "ansible_facts": {
        "ansible_distribution": "OpenBSD",
        "ansible_distribution_release": "current",
        "ansible_distribution_version": "6.0"
    },
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2016/10/31 17:10:58 jasper Exp $
d7 1
a7 1
REVISION =		7
@


1.65
log
@- Enable VMM detection
- Drop processor_cores fact with bogus value (hardcoded 'NA')
- Implement DMI facts (product_name, product_version, product_uuid,
  product_serial and system_vendor)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2016/10/31 17:03:35 jasper Exp $
d7 1
a7 1
REVISION =		6
@


1.64
log
@- sync OpenBSDVirtual with what's been merged upstream
- implement virtualization_type and virtualization_role for vmm
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2016/10/22 17:31:44 jasper Exp $
d7 1
a7 1
REVISION =		5
@


1.63
log
@sync with upstream git master, fixes package installation issues

reported by semarie
ok danj@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2016/10/15 09:04:36 jasper Exp $
d7 1
a7 1
REVISION =		4
@


1.62
log
@${PREFIX}/man is already created by mtree, no need to re-mkdir it
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2016/10/15 08:51:08 jasper Exp $
d7 1
a7 1
REVISION =		3
@


1.61
log
@- use sed instead of perl
- simplify post-install
@
text
@a32 1
MANDIR =		${PREFIX}/man
d43 1
a43 1
	${INSTALL_DATA_DIR} ${EXDIR} ${DOCDIR} ${MANDIR}
d46 1
a46 1
	${INSTALL_DATA} ${WRKSRC}/docs/man/man1/*.1 ${MANDIR}/man1
@


1.60
log
@- drop py-paramiko dependency which most people don't need
- add README mentioning the optional dependencies for ansible's modules/scripts

input from aja@@ rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2016/10/14 12:51:15 jasper Exp $
d37 1
a37 1
	@@perl -pi -e "s,/usr/share,${TRUEPREFIX}/share,g;" \
a42 4
pre-install:
	@@find ${WRKSRC} \( -name '*.orig' -o -name '.git*' \
		-o -name '.travis.yml' \) -type f -exec rm {} +

d45 1
a45 2
	@@cp -R ${WRKSRC}/examples/* ${EXDIR}/
	@@chown -R ${SHAREOWN}:${SHAREGRP} ${EXDIR}
a46 1
	@@rm ${EXDIR}/hosts.beforesubst
d49 2
@


1.59
log
@drop RDEP on py-httplib2. various modules switch to ansible.module_utils.urls
with ansible 2.1. only the dynamic inventory script for rudder depends on it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2016/10/14 12:34:03 jasper Exp $
d7 1
a7 1
REVISION =		2
a24 1
			security/py-paramiko \
@


1.58
log
@fix issue with openbsd_pkg module where using the branch notation
(e.g. autoconf%2.13) would lead to tasks being (incorrectly) reported
as FAILED.

reported by Caspar Schutijser
fix by Patrik Lundin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2016/10/14 12:27:39 jasper Exp $
d7 1
a7 1
REVISION =		1
a27 1
			www/py-httplib2 \
@


1.57
log
@remove (undocumented) local modification of the 'copy that appends '\n' to
'content' if it didn't contain it yet.

while there have been various (stalled) attempts to get this upstream, i'd
rather not alter ansible's behaviour in ports as it would lead to non-portable
playbooks between openbsd and non-openbsd control nodes.

ok aja@@ rpe@@
also discussed with Patrik Lundin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2016/09/30 20:12:59 jasper Exp $
d7 1
a7 1
REVISION =		0
@


1.56
log
@update to ansible-2.1.2.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2016/09/06 11:40:22 jasper Exp $
d7 1
@


1.55
log
@take maintainer

suggested by and ok rpe@@ (previous MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2016/08/30 11:29:06 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.1.1.0
a6 1
REVISION =		2
@


1.54
log
@sync with what's been committed upstream

from Patrik Lundin
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2016/08/22 09:05:46 jasper Exp $
d7 1
a7 1
REVISION =		1
d13 1
a13 1
MAINTAINER =		Robert Peichaer <rpe@@openbsd.org>
@


1.53
log
@populate ansible_virtualization_{role,type} facts

tested by awolk@@ jung@@ and sthen@@ on a variety of hypervisors
ok rpe@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2016/08/21 13:45:46 rpe Exp $
d7 1
a7 1
REVISION =		0
@


1.52
log
@Update sysutils/ansible to 2.1.1.0

Mostly a bugfix release with some minor changes, for details see:
https://github.com/ansible/ansible/blob/v2.1.1.0-1/CHANGELOG.md

A now fixed bug pointed out by Frank Groeneveld was that by using
the cron modules user argument might result in the root users crontab
being cleared.

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2016/05/27 13:54:49 rpe Exp $
d7 1
@


1.51
log
@Update sysutils/ansible to 2.1.0.0

For changes see:
https://github.com/ansible/ansible/blob/v2.1.0.0-1/CHANGELOG.md

OK aja, jasper, landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2016/04/25 10:04:50 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.1.0.0
@


1.50
log
@Update sysutils/ansible to 2.0.2.0

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2016/02/27 15:37:50 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.0.2.0
@


1.49
log
@update to ansible-2.0.1.0
https://groups.google.com/forum/#!topic/ansible-announce/kF5kXiJO7kQ

ok aja@@ rpe@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2016/02/05 12:54:19 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.0.1.0
@


1.48
log
@update sysutils/ansible to 2.0.0.2

- has a work around for callback API change for v2_playbook_on_start

OK sthen@@, aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2016/01/15 18:34:34 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.0.0.2
@


1.47
log
@Update sysutils/ansible to 2.0.0.1

diff from Frank Groeneveld, thanks
feedback from sthen, aja
OK sthen@@, kirby@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2015/10/25 15:23:03 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	2.0.0.1
@


1.46
log
@Update sysutils/ansible to 1.9.4

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2015/09/29 17:30:39 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.9.4
d25 1
@


1.45
log
@Update sysutils/ansible to 1.9.3

For changes in this release see:
https://github.com/ansible/ansible/blob/v1.9.3-1/CHANGELOG.md

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2015/09/29 10:52:34 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.9.3
@


1.44
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2015/07/01 21:26:38 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.9.2
a6 1
REVISION =		0
@


1.43
log
@Update sysutils/ansible to 1.9.2.

- Security fixes to check that hostnames match certificates with
  https urls (CVE-2015-3908)
  - get_url and uri modules
  - url and etcd lookup plugins

- Security fixes to the zone (Solaris containers), jail (bsd
  containers), and chroot connection plugins.

For a full list of changes see:
https://github.com/ansible/ansible/blob/v1.9.2-1/CHANGELOG.md

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2015/05/03 12:56:55 rpe Exp $
d7 1
@


1.42
log
@Update sysutils/ansible to 1.9.1, which is mostly a bugfix release.

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2015/03/31 19:09:28 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.9.1
d44 2
a45 1
	@@find ${WRKSRC} -name '*.orig' -type f -exec rm {} +
@


1.41
log
@Update sysutils/ansible to 1.9.0.1

OK aja@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/02/22 16:49:40 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.9.0.1
@


1.40
log
@Update sysutils/ansible to 1.8.4

- including a security fix for ansible-vault
- and various other bugfixes

OK naddy@@ sthen@@ landry@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2015/01/24 00:45:45 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.8.4
@


1.39
log
@Update OpenBSD rcctl handling to use new syntax.

Special thanks to Patrik Lundin for the coding
and armani@@ for helping to bring this upstream.

https://github.com/ansible/ansible-modules-core/pull/691

prodded+tested by and OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2015/01/22 19:57:41 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.8.2
a6 1
REVISION =		1
@


1.38
log
@Patch ansible-doc to ignore VERSIONS files in modules directories.
This avoids a python traceback. Pull request upstream pending.

noted by and OK ajacoutot@@ (landry@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2014/12/06 11:32:56 rpe Exp $
d7 1
a7 1
REVISION =		0
@


1.37
log
@Update ansible to 1.8.2

For changes see
https://github.com/ansible/ansible/blob/v1.8.2/CHANGELOG.md

OK aja@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2014/11/11 21:36:16 rpe Exp $
d7 1
@


1.36
log
@Backport bugfix "Bug sysctl on OpenBSD #287"
https://github.com/ansible/ansible-modules-core/issues/287

Patch from Martijn Rijkeboer
OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2014/10/30 19:17:52 sthen Exp $
d5 1
a5 2
MODPY_EGG_VERSION =	1.7.2
REVISION =		1
@


1.35
log
@Set ansible_architecture correctly on machines where arch -s != uname -m,
it's quite useful for building pkg.conf amongst other things.  ok rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2014/09/29 19:38:00 rpe Exp $
d6 1
a6 1
REVISION =		0
@


1.34
log
@Update ansible to 1.7.2

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2014/09/12 20:46:46 landry Exp $
d6 1
@


1.33
log
@Use -z when invoking pkg_add in openbsd_pkg module, so that one can use
for example php-fpm-5.4* and ensure the correct version is installed.
Previously, one had to specify the exact version, or ansible would fail
since there were alternatives.

https://github.com/ansible/ansible/issues/8990

ok rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2014/09/10 20:21:43 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.7.1
a6 1
REVISION =		1
@


1.32
log
@Patch ansible copy.py to write new line at end of file
if 'content' passed without newline.

suggested and OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2014/08/24 08:46:42 rpe Exp $
d7 1
a7 1
REVISION =		0
@


1.31
log
@Update ansible to 1.7.1

Besides performance enhancements and other bug fixes:

- Security fix to disallow specifying 'args:' as a string, which
  could allow the insertion of extra module parameters through
  variables.

OK aja@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2014/08/11 20:56:15 rpe Exp $
d7 1
@


1.30
log
@Update ansible to 1.7

For fixes, new features and improvments see:
https://github.com/ansible/ansible/blob/release1.7.0/CHANGELOG.md

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/07/23 20:28:49 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.7
@


1.29
log
@Update ansible to 1.6.7 which fixes these CVEs:

- CVE-2014-4966 (lookup function)
- CVE-2014-4967 (action arguments)

Noted by and OK jasper@@
OK naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/07/01 23:24:37 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.6.7
@


1.28
log
@Yet another security related update for ansible to 1.6.6 pointed out by
Jasper.

- Security updates to further protect against the incorrect execution
  of untrusted data

OK sthen@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/06/26 12:48:46 ajacoutot Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.6.6
@


1.27
log
@SECURITY update to ansible-1.6.5.
https://groups.google.com/forum/#!topic/ansible-announce/A1px5egCnGQ

ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2014/05/26 20:09:54 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.6.5
@


1.26
log
@Update ansible to 1.6.2

OK aja@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/05/12 20:17:16 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.6.2
@


1.25
log
@Update to ansible 1.6.1

Too many new modules, features and fixes to list here, see:
https://github.com/ansible/ansible/blob/release1.6.1/CHANGELOG.md

OK aja@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/04/25 20:35:23 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.6.1
@


1.24
log
@Update ansible to 1.5.5

- Security fix for vault, to ensure the umask is set to a restrictive
  mode before creating/editing vault files.
- Backported apt_repository security fixes relating to filename/mode
  upon sources list file creation.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/04/18 13:28:06 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.5.5
d20 1
d22 2
a23 1
RUN_DEPENDS =		security/py-keyczar \
@


1.23
log
@Update ansible to 1.5.4

- Security fix for safe_eval, which further hardens the checking
  of the evaluation function.
- Changing order of variable precendence for system facts, to
  ensure that inventory variables take precedence over any facts
  that may be set on a host.

OK aja@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/03/27 12:07:59 naddy Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.5.4
@


1.22
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/03/15 15:28:01 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.5.3
a6 1
REVISION =		0
@


1.21
log
@bump revision due to a fix from upstream without changing the vers. number

https://github.com/ansible/ansible/commit/157b783521b52d9c3f357e811f6be0ec7600a89e

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/03/14 18:19:34 rpe Exp $
a27 1
USE_GROFF =		Yes
@


1.20
log
@Update ansible to 1.5.3

Changes since 1.5:
- Fix validate_certs and run_command errors from previous release
- Fixes to the git module related to host key checking
- Fix module errors in airbrake and apt from previous release
- Force command action to not be executed by the shell unless specifically enabled.
- Validate SSL certs accessed through urllib*.
- Implement new default cipher class AES256 in ansible-vault.
- Misc bug fixes.

OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2014/03/10 23:12:20 rpe Exp $
d7 1
@


1.19
log
@update to ansible 1.5

- remove a bunch of patches, which were basically backports
- fix HOMEPAGE
- adjust Makefile due to the section 3 manpage removal

OK aja@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/02/14 09:46:18 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.5
@


1.18
log
@security update to ansible-1.4.5

ok rpe@@ (MAINTAINER), aja@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2014/01/31 06:42:26 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.4.5
d10 1
a10 1
HOMEPAGE =		http://ansible.com/
d21 2
a22 1
RUN_DEPENDS =		security/py-paramiko \
a51 1
	${INSTALL_DATA} ${WRKSRC}/docs/man/man3/*.3 ${MANDIR}/man3
@


1.17
log
@Backport a fix for the ansible_python_interpreter logic.  It cares
about appropriate shebang lines containing python interpreter path
on the remote machines.

https://github.com/ansible/ansible/issues/5630

suggested by and OK landry@@
OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/01/24 17:44:55 rpe Exp $
d5 1
a5 2
MODPY_EGG_VERSION =	1.4.4
REVISION =		1
d10 1
a10 1
HOMEPAGE =		http://ansibleworks.com/
d17 1
a17 1
MASTER_SITES =		http://ansibleworks.com/releases/
@


1.16
log
@add www/py-httplib2 as RUN_DEPENDS which is needed by library/network/uri
in certain circumstances

noted by and OK aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2014/01/14 22:34:03 landry Exp $
d6 1
a6 1
REVISION =		0
d42 3
d50 1
a50 1
	@@rm ${EXDIR}/hosts.{orig,beforesubst}
@


1.15
log
@Update to ansible 1.4.4.

While here backport the fix for
https://github.com/ansible/ansible/issues/4869 to allow using the apt
module with old versions of debian.

ok ajacoutot@@ rpe@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/12/24 18:53:37 rpe Exp $
d6 1
d24 1
@


1.14
log
@Update ansible to 1.4.3

ok aja@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/12/11 20:27:01 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.4.3
@


1.13
log
@Update ansible to 1.4.1

ok aja, landry
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/11/07 09:29:06 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.4.1
@


1.12
log
@Update ansible to 1.3.4

- Fixed a bug in the copy module, where a filename containing the
  string "raw" was handled incorrectly
- Fixed a bug in accelerate mode, where copying a zero-length file
  out would fail

ok aja@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/10/24 19:23:54 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.3.4
@


1.11
log
@Update to ansible 1.3.3

Multiple accelerate mode fixes.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/09/24 18:18:11 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.3.3
@


1.10
log
@Update ansible to 1.3.2

ok ajacoutot@@ landry@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/09/18 18:40:32 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.3.2
@


1.9
log
@Update ansible to 1.3.1

ok abieber@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/08/22 19:08:52 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.3.1
@


1.8
log
@- Update ansible to 1.2.3 fixing two security issues
  CVE-2013-4259: Ansible uses a socket with predictable filename in /tmp
  CVE-2013-4260: Predictable filename used for failed results in world
                 writable directory
- Remove a temporary post-extract hook, that was only there because
  of stray files in the 1.2.1 distfile.

ok aja@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/07/08 09:53:47 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.2.3
@


1.7
log
@Update to ansible 1.2.1

- Security Fix for CVE-2013-2233:
  Does not cache SSH host keys (preventing possibility of server's
  host key to be checked against system host keys).
- Move OpenBSD examples in /etc/ansible/hosts to end of the file

ok aja@@ sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/06/29 09:08:28 rpe Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.2.1
a32 3
post-extract:
	@@rm ${WRKSRC}/library/cloud/s3~* ${WRKSRC}/docs/man/man3/ansible.s3~*
	
@


1.7.2.1
log
@backport security fix from 1.4.5 for
https://groups.google.com/forum/#!topic/ansible-announce/oLgGVwzPYyY
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/07/08 09:53:47 rpe Exp $
a6 1
REVISION =		0
@


1.6
log
@- unbreak ansible_python_interpreter behaviour by not changing the
  shebang line in module files.
- provide an example in the ansible hosts file how to deal with the
  location of python on OpenBSD

help/feedback and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/06/12 15:29:23 rpe Exp $
d5 1
a5 2
MODPY_EGG_VERSION =	1.2
REVISION =		0
d33 3
@


1.5
log
@update to ansible 1.2

ok sthen@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/04/06 09:40:02 rpe Exp $
d6 1
a21 3
MODPY_ADJ_FILES =	lib/ansible/utils/module_docs.py \
			library/*/*

d34 1
a34 1
post-extract:
a39 2
	@@perl -pi -e "s,/usr/bin/ansible,${TRUEPREFIX}/bin/ansible," \
		${WRKSRC}/library/*/*
d45 2
@


1.4
log
@update ansible to 1.1

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 11:41:29 espie Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.1
d10 1
a10 1
HOMEPAGE =		http://ansible.cc/
d17 1
a17 1
MASTER_SITES =		http://ansible.cc/releases/
d22 1
a22 1
			library/*
d43 1
a43 1
 		${WRKSRC}/library/*
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/03/07 07:32:14 rpe Exp $
d5 2
a6 3
MODPY_EGG_VERSION =	1.0
DISTNAME =		ansible-release${MODPY_EGG_VERSION}
PKGNAME =		ansible-${MODPY_EGG_VERSION}
d17 1
a17 2
MASTER_SITES =		http://spacehopper.org/mirrors/ \
			http://distfiles.bsdfrog.org/
d21 2
a22 3
MODPY_ADJ_FILES =	bin/ansible* \
			library/* \
			lib/ansible/utils/module_docs.py
a28 1

d33 1
a33 1
MANDIR =		${PREFIX}/man/man1
d37 2
a38 3
	@@perl -pi \
		-e "s,/usr/share,${TRUEPREFIX}/share,g;" \
		-e "s,/usr/share/ansible_plugins,${PLUGINDIR},g" \
d49 3
a51 2
	${INSTALL_DATA} ${WRKSRC}/docs/man/man1/*.1 ${MANDIR}/
	${INSTALL_DATA} ${WRKSRC}/{CHANGELOG.md,COPYING,README.md} ${DOCDIR}/
@


1.2
log
@update to ansible 1.0

ok sthen@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/02/04 10:35:14 rpe Exp $
a16 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d33 1
a33 1
NO_REGRESS =		Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 3
a7 2
MODPY_EGG_VERSION =	0.9
DISTNAME =		ansible-${MODPY_EGG_VERSION}
d21 2
a22 1
MASTER_SITES =		https://github.com/downloads/ansible/ansible/
d40 1
d48 2
a49 1
		${WRKSRC}/examples/ansible.cfg
d54 1
a54 1
	${INSTALL_DATA_DIR} ${EXDIR} ${DOCDIR}
d57 2
a58 7
.for i in 1 3
	${INSTALL_DATA_DIR} ${PREFIX}/man/man${i}
	${INSTALL_DATA} ${WRKSRC}/docs/man/man${i}/*.${i} ${PREFIX}/man/man${i}
.endfor
.for f in README.md COPYING
	${INSTALL_DATA} ${WRKSRC}/${f} ${DOCDIR}/
.endfor
@


1.1.1.1
log
@import ansible-0.9

Ansible is a radically simple model-driven configuration management, 
deployment, and command execution framework.

with help from and ok
sthen@@ ajacoutot@@ (looks fine)
@
text
@@


1.1.1.1.2.1
log
@Security fix for CVE-2013-2233, backported from upstream git.

ok rpe@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/02/04 10:35:14 rpe Exp $
a6 1
REVISION =		0
@

