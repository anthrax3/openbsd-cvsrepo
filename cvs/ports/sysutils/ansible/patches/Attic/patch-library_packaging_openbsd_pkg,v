head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2014.12.06.11.32.56;	author rpe;	state dead;
branches;
next	1.1;
commitid	EokIivZ0VSxdEbQl;

1.1
date	2014.09.12.20.46.46;	author landry;	state Exp;
branches;
next	;
commitid	HbtGEs8sz1s8S0yk;


desc
@@


1.2
log
@Update ansible to 1.8.2

For changes see
https://github.com/ansible/ansible/blob/v1.8.2/CHANGELOG.md

OK aja@@ sthen@@ landry@@
@
text
@$OpenBSD: patch-library_packaging_openbsd_pkg,v 1.1 2014/09/12 20:46:46 landry Exp $
--- library/packaging/openbsd_pkg.orig	Fri Sep 12 20:52:17 2014
+++ library/packaging/openbsd_pkg	Fri Sep 12 20:52:25 2014
@@@@ -124,9 +124,9 @@@@ def get_package_state(name, pkg_spec, module):
 # Function used to make sure a package is present.
 def package_present(name, installed_state, pkg_spec, module):
     if module.check_mode:
-        install_cmd = 'pkg_add -Imn'
+        install_cmd = 'pkg_add -Imnz'
     else:
-        install_cmd = 'pkg_add -Im'
+        install_cmd = 'pkg_add -Imz'
 
     if installed_state is False:
 
@


1.1
log
@Use -z when invoking pkg_add in openbsd_pkg module, so that one can use
for example php-fpm-5.4* and ensure the correct version is installed.
Previously, one had to specify the exact version, or ansible would fail
since there were alternatives.

https://github.com/ansible/ansible/issues/8990

ok rpe@@
@
text
@d1 1
a1 1
$OpenBSD$
@

