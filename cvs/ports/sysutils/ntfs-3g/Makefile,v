head	1.9;
access;
symbols
	OPENBSD_6_0:1.9.0.2
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.4
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.2
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	pirofti_20130614:1.1.1.1
	pirofti:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2016.06.22.09.51.33;	author dcoppa;	state Exp;
branches;
next	1.8;
commitid	olbCGEPumg0YVzZ5;

1.8
date	2016.03.11.20.28.31;	author naddy;	state Exp;
branches;
next	1.7;
commitid	UYLP8TE6V7RS2GhJ;

1.7
date	2015.11.20.05.32.02;	author pirofti;	state Exp;
branches;
next	1.6;
commitid	2lMvARxJnuWduH91;

1.6
date	2015.05.22.11.31.18;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	2khjHXfpTaOuNVcx;

1.5
date	2014.04.30.23.07.25;	author pirofti;	state Exp;
branches;
next	1.4;

1.4
date	2014.01.05.01.51.15;	author jca;	state Exp;
branches;
next	1.3;

1.3
date	2013.07.15.08.05.50;	author jca;	state Exp;
branches;
next	1.2;

1.2
date	2013.06.15.14.25.28;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.06.14.13.49.50;	author pirofti;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.06.14.13.49.50;	author pirofti;	state Exp;
branches;
next	;


desc
@@


1.9
log
@
Update to ntfs_3g-2016.2.22

From Rafael Sadowski

OK giovanni@@, pirofti@@ (maintainer)
@
text
@# $OpenBSD: Makefile,v 1.8 2016/03/11 20:28:31 naddy Exp $

COMMENT =	FUSE NTFS driver with read/write support

V =		2016.2.22
DISTNAME =	ntfs-3g_ntfsprogs-${V}
PKGNAME =	ntfs_3g-${V}
SHARED_LIBS +=	ntfs-3g		0.2	# .86
CATEGORIES =	sysutils

HOMEPAGE =	http://www.tuxera.com/

MAINTAINER =	Paul Irofti <pirofti@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c uuid fuse

MASTER_SITES =	${HOMEPAGE}/opensource/
EXTRACT_SUFX =	.tgz

LIB_DEPENDS =		sysutils/e2fsprogs

CONFIGURE_STYLE =	gnu
CONFIGURE_ENV =		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS =	--disable-ldconfig \
			--disable-mtab \
			--enable-extras \
			--enable-mount-helper \
			--with-fuse=external

.include <bsd.port.mk>
@


1.8
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/11/20 05:32:02 pirofti Exp $
d5 1
a5 1
V =		2015.3.14
d8 1
a8 1
SHARED_LIBS +=	ntfs-3g		0.1	# .85
d28 5
a32 2
CONFIGURE_ARGS =	--disable-mtab \
			--disable-ldconfig
@


1.7
log
@Update ntfs-3g to 2015.3.14.

From Rafael Sadowski, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/05/22 11:31:18 ajacoutot Exp $
d28 1
a28 2
CONFIGURE_ARGS =	${CONFIGURE_SHARED} \
			--disable-mtab \
@


1.6
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/04/30 23:07:25 pirofti Exp $
d5 1
a5 1
V =		2014.2.15
d8 1
a8 1
SHARED_LIBS +=	ntfs-3g		0.0	# .84
a9 1
REVISION =	0
a30 3

post-install:
	rmdir ${WRKINST}/lib
@


1.5
log
@Update ntfs-3g to 2014.2.15.

Tested and okay syl@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2014/01/05 01:51:15 jca Exp $
d10 1
@


1.4
log
@Detect page size using sysconf, since PAGE_SIZE isn't always usable from
userland.  Fix a problem reported by Donovan Watteau.  Hint from deraadt@@,
ok syl@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/07/15 08:05:50 jca Exp $
d5 1
a5 1
V =		2013.1.13
a9 1
REVISION =	2
@


1.3
log
@The uuid library from sysutils/e2fsprogs was renamed, so fix up WANTLIB.
Note: not hooked to the build; likely the last port that needed fixup
for the uuid naming change.  Amit Kulkarni had the same diff,
ok aja@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/06/15 14:25:28 ajacoutot Exp $
d10 1
a10 1
REVISION =	1
@


1.2
log
@Some cleanups:
* properly detect uuid from e2fsprogs
* disable mtab support
* use --disable-ldconfig instead of patching
* regen WANTLIB/LIB_DEPENDS/PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/06/14 13:49:50 pirofti Exp $
d10 1
a10 1
REVISION =	0
d19 1
a19 1
WANTLIB += c e2fs-uuid fuse
a31 4

# uuid_generate(): properly pick up uuid from e2fsprogs instead of ossp-uuid
pre-configure:
	perl -pi -e "s,-luuid,-le2fs-uuid,g" ${WRKSRC}/configure \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d10 1
d19 2
d24 1
a24 1
WANTLIB =	c
d27 12
@


1.1.1.1
log
@Import ntfs-3g (2013.1.13)

NTFS-3G is a stable, full-featured, read-write NTFS driver for Linux,
Android, Mac OS X, FreeBSD, NetBSD, OpenBSD, OpenSolaris, QNX, Haiku,
and other operating systems. It provides safe handling of the
Windows XP, Windows Server 2003, Windows 2000, Windows Vista,
Windows Server 2008 and Windows 7 NTFS file systems.


This still needs a few patches in libfuse that will be committed soon
and of course a kernel with FUSE enabled.

Until these issues are fixed the port won't be linked to the build.

Tested on amd64 on a 32G NTFS partition. Reads and writes seem to work
like a charm.


Okay landry@@, ajacoutot@@
@
text
@@
