head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2015.06.09.06.34.16;	author jasper;	state dead;
branches;
next	1.1;
commitid	r2voWRuPaqZ0kFZc;

1.1
date	2015.05.06.09.59.14;	author jasper;	state Exp;
branches;
next	;
commitid	AiITopyF7IjmENWc;


desc
@@


1.2
log
@update to virt-manager-1.2.1
@
text
@$OpenBSD: patch-virtManager_domain_py,v 1.1 2015/05/06 09:59:14 jasper Exp $

From 848123e6c8850bafad28767a165bbbf8dc746a09 Mon Sep 17 00:00:00 2001
From: Cole Robinson <crobinso@@redhat.com>
Date: Mon, 4 May 2015 15:50:01 -0400
Subject: domain: Fix memory stats for shutoff VM (bz 1215453)

--- virtManager/domain.py.orig	Wed May  6 11:45:18 2015
+++ virtManager/domain.py	Wed May  6 11:45:40 2015
@@@@ -1699,8 +1699,10 @@@@ class vmmDomain(vmmLibvirtObject):
             cpudata = cpudata[0:limit]
         return cpudata
     def memory_usage_vector_limit(self, limit):
-        return self.in_out_vector_limit(self.stats_memory_vector(),
-                                        limit)
+        data = self.stats_memory_vector()
+        if len(data) > limit:
+            data = data[0:limit]
+        return data
     def network_traffic_vector_limit(self, limit, ceil=None):
         return self.in_out_vector_limit(self.network_traffic_vector(ceil),
                                         limit)
@


1.1
log
@- update to virt-manager-1.2.0
* workaround an issue where the remote hostname wouldn't be resolved and result
  in an error message when opening the vm details.
@
text
@d1 1
a1 1
$OpenBSD$
@

