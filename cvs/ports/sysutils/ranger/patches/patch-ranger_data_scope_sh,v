head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.4
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.1.1.0.8
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.6
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.4
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.2
	OPENBSD_5_2_BASE:1.1.1.1
	sthen_20120709:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2015.11.19.19.13.35;	author jasper;	state Exp;
branches;
next	1.2;
commitid	rv2XMcKQF7HWm6pp;

1.2
date	2014.07.12.01.25.55;	author sthen;	state Exp;
branches;
next	1.1;
commitid	OxhS7jV4Jb1mmMCS;

1.1
date	2012.07.09.09.20.58;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.07.09.09.20.58;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to ranger-1.7.2
@
text
@$OpenBSD: patch-ranger_data_scope_sh,v 1.2 2014/07/12 01:25:55 sthen Exp $

Meant to use atool (not ported yet), but bsdtar copes with many of these
archives directly so use that instead.

--- ranger/data/scope.sh.orig	Sun Oct  4 01:46:45 2015
+++ ranger/data/scope.sh	Thu Nov 19 20:09:03 2015
@@@@ -1,4 +1,4 @@@@
-#!/usr/bin/env sh
+#!/bin/ksh
 # ranger supports enhanced previews.  If the option "use_preview_script"
 # is set to True and this file exists, this script will be called and its
 # output is displayed in ranger.  ANSI color codes are supported.
@@@@ -48,7 +48,7 @@@@ case "$extension" in
     # Archive extensions:
     7z|a|ace|alz|arc|arj|bz|bz2|cab|cpio|deb|gz|jar|lha|lz|lzh|lzma|lzo|\
     rpm|rz|t7z|tar|tbz|tbz2|tgz|tlz|txz|tZ|tzo|war|xpi|xz|Z|zip)
-        try als "$path" && { dump | trim; exit 0; }
+        try bsdtar "$path" && { dump | trim; exit 0; }
         try acat "$path" && { dump | trim; exit 3; }
         try bsdtar -lf "$path" && { dump | trim; exit 0; }
         exit 1;;
@


1.2
log
@update to ranger 1.6.1, mostly from Kyle Merchant, drop maintainer
@
text
@d1 1
a1 1
$OpenBSD: patch-ranger_data_scope_sh,v 1.1.1.1 2012/07/09 09:20:58 sthen Exp $
d6 2
a7 2
--- ranger/data/scope.sh.orig	Fri May 24 19:45:13 2013
+++ ranger/data/scope.sh	Sat Jul 12 02:22:43 2014
d14 1
a14 1
@@@@ -46,7 +46,7 @@@@ case "$extension" in
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d6 2
a7 2
--- ranger/data/scope.sh.orig	Thu May  3 18:47:39 2012
+++ ranger/data/scope.sh	Mon Jul  9 00:06:14 2012
d9 1
a9 1
-#!/bin/bash
d14 9
a22 11
@@@@ -38,8 +38,8 @@@@ case "$extension" in
 	# Archive extensions:
 	7z|a|ace|alz|arc|arj|bz|bz2|cab|cpio|deb|gz|jar|lha|lz|lzh|lzma|lzo|\
 	rar|rpm|rz|t7z|tar|tbz|tbz2|tgz|tlz|txz|tZ|tzo|war|xpi|xz|Z|zip)
-		als "$path" | head -n $maxln
-		success && exit 0 || acat "$path" | head -n $maxln && exit 3
+		bsdtar tf "$path" | head -n $maxln
+		success && exit 0 || gzcat "$path" | head -n $maxln && exit 3
 		exit 1;;
 	# PDF documents:
 	pdf)
@


1.1.1.1
log
@import ports/sysutils/ranger, ok giovanni@@

ranger is a file manager with VI key bindings. It provides a
minimalistic yet nice curses interface with a view on the directory
hierarchy. The secondary task of ranger is to psychically guess
which program you want to use for opening particular files.
@
text
@@
