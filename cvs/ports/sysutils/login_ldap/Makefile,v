head	1.23;
access;
symbols
	OPENBSD_6_2:1.23.0.8
	OPENBSD_6_2_BASE:1.23
	OPENBSD_6_1:1.23.0.6
	OPENBSD_6_1_BASE:1.23
	OPENBSD_6_0:1.23.0.4
	OPENBSD_6_0_BASE:1.23
	OPENBSD_5_9:1.23.0.2
	OPENBSD_5_9_BASE:1.23
	OPENBSD_5_8:1.20.0.6
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.20.0.2
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.19.0.6
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.4
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.19.0.2
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.18.0.4
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.2
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.10.0.2
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.9.0.10
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.9.0.8
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.9.0.6
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.9.0.4
	OPENBSD_4_4_BASE:1.9
	OPENBSD_4_3:1.9.0.2
	OPENBSD_4_3_BASE:1.9
	OPENBSD_4_2:1.6.0.8
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.6.0.6
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.4
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.6.0.2
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.5.0.4
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.4.0.4
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.3.0.4
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.2
	OPENBSD_3_3_BASE:1.3
	shell_2002-Nov-06:1.1.1.1
	shell:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2015.10.27.13.31.16;	author sthen;	state Exp;
branches;
next	1.22;
commitid	BAc6WZj6admxh0hq;

1.22
date	2015.10.27.12.48.58;	author sthen;	state Exp;
branches;
next	1.21;
commitid	oHMruxPkjBeH2t49;

1.21
date	2015.10.13.15.23.24;	author sthen;	state Exp;
branches;
next	1.20;
commitid	QhP1tbtTu2CKFx7P;

1.20
date	2014.12.09.15.54.25;	author ajacoutot;	state Exp;
branches;
next	1.19;
commitid	xPxo2MFd555aIWWO;

1.19
date	2013.03.11.11.41.30;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2012.04.12.01.00.23;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2012.03.19.22.15.58;	author sthen;	state Exp;
branches;
next	1.16;

1.16
date	2011.09.16.11.41.40;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2011.06.23.22.50.29;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.20.17.22.41;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.11.19.00.49;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.20.15.23.04;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.19.07.43.01;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.04.03.22.08.20;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2008.02.14.16.19.49;	author merdely;	state Exp;
branches;
next	1.8;

1.8
date	2007.09.15.21.14.02;	author merdely;	state Exp;
branches;
next	1.7;

1.7
date	2007.08.29.13.21.05;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2005.10.01.17.12.30;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2004.12.20.10.35.35;	author alek;	state Exp;
branches;
next	1.4;

1.4
date	2003.09.23.15.29.41;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2003.02.21.20.56.22;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2002.11.07.07.04.49;	author pvalchev;	state dead;
branches;
next	1.1;

1.1
date	2002.11.06.16.12.05;	author shell;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.11.06.16.12.05;	author shell;	state Exp;
branches;
next	;


desc
@@


1.23
log
@Don't let login_ldap fallback to cleartext if StartTLS failed (e.g. bad
hostname/certificate).

"hard TLS" (SSL-wrapped LDAP, aka ldaps://) is already handled correctly.
@
text
@# $OpenBSD: Makefile,v 1.22 2015/10/27 12:48:58 sthen Exp $

COMMENT=	provide ldap authentication type

DISTNAME=	login_ldap-3.51
REVISION=	8
CATEGORIES=	sysutils

HOMEPAGE=	http://sourceforge.net/projects/login-ldap/
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=login-ldap/}

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c lber ldap

LIB_DEPENDS=	databases/openldap
NO_TEST=	Yes

pre-configure:
	@@perl -pi -e "s@@/usr/local@@${PREFIX}@@" ${WRKSRC}/login_ldap.8

.include <bsd.port.mk>
@


1.22
log
@clean up manpage, draw attention to cleartext passwords if not using ssl/tls
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/10/13 15:23:24 sthen Exp $
d6 1
a6 1
REVISION=	7
@


1.21
log
@use explicit_bzero in login_ldap
reset maintainer (email address bounces)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/12/09 15:54:25 ajacoutot Exp $
d6 1
a6 1
REVISION=	6
@


1.20
log
@Give /usr/local/libexec/auth the same ownership and perms than the base
/usr/libexec/auth directory.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/03/11 11:41:30 espie Exp $
d6 1
a6 1
REVISION=	5
a11 2
MAINTAINER=	Michael Erdely <merdely@@openbsd.org>

d15 1
a15 1
WANTLIB=		c lber ldap
@


1.19
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/04/12 01:00:23 sthen Exp $
d6 1
a6 1
REVISION=	4
@


1.18
log
@No need for a MESSAGE warning us about modifications needed when upgrading
from a 4-year-old version ;)  OK merdely@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/03/19 22:15:58 sthen Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d20 1
a20 1
NO_REGRESS=	Yes
@


1.17
log
@Tweak login_ldap manpage to mention ypldap as a source for user accounts.

Remove text about "OpenBSD does not ship with an an LDAP server in the default
install" which has been incorrect for a while.

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/09/16 11:41:40 espie Exp $
d6 1
a6 1
REVISION=	3
@


1.16
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/06/23 22:50:29 naddy Exp $
d6 2
a7 2
REVISION =	2
CATEGORIES=    	sysutils	
d15 5
a19 4
PERMIT_PACKAGE_CDROM=	Yes 
PERMIT_PACKAGE_FTP=	Yes 
PERMIT_DISTFILES_CDROM= Yes 
PERMIT_DISTFILES_FTP=	Yes 
@


1.15
log
@Cope with bsd.man.mk changes and install source man pages.
While here, also update some PLISTs, fix PREFIX use, etc.
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/20 17:22:41 espie Exp $
d6 1
a6 1
REVISION =	1
@


1.14
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/11 19:00:49 espie Exp $
d6 1
a6 1
REVISION =	0
@


1.13
log
@last WANTLIB conversion, hopefully
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/20 15:23:04 naddy Exp $
d21 1
a21 1
LIB_DEPENDS=	:openldap-client-*:databases/openldap
@


1.12
log
@ports that preformat man pages with mandoc via bsd.man.mk don't need groff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/19 07:43:01 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d19 1
a19 1
WANTLIB=		c
d21 1
a21 1
LIB_DEPENDS=	lber,ldap:openldap-client-*:databases/openldap
@


1.11
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/04/03 22:08:20 sthen Exp $
a21 1
USE_GROFF =	Yes
@


1.10
log
@fix mandoc build; ok schwarze@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/02/14 16:19:49 merdely Exp $
d22 1
@


1.9
log
@Update login_ldap to 3.51.
  - Better AD support
  - Better SSL/TLS support
  - Alternate server support

NOTE: The config file format has changed from version <= 3.3, refer to
the man page and examples.

I've taken over maintainership (with OK from previous MAINTAINER). And
moved the project to Sourceforge.

openldap testing by William Yodlowsky < bsd + openbsd - rutgers - edu >
ok landry, okan
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/09/15 21:14:02 merdely Exp $
d6 1
@


1.8
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*/IGNORE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/08/29 13:21:05 jasper Exp $
d5 1
a5 2
DISTNAME=	login_ldap-3.3
PKGNAME=	${DISTNAME}p1
d8 2
a9 2
HOMEPAGE=	http://www.ifost.org.au/~peterw/	
MASTER_SITES=	${HOMEPAGE}
d11 1
a11 1
MAINTAINER=	Peter Werner <peterw@@ifost.org.au>
d23 2
a24 2
pre-fake:
	perl -pi -e "s@@/usr/local@@${PREFIX}@@" ${WRKSRC}/login_ldap.8
@


1.7
log
@fix sample configuration file
from Dave Ewart

ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/10/01 17:12:30 espie Exp $
d3 1
a3 1
COMMENT=	"provide ldap authentication type"
@


1.6
log
@reflect reality
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/12/20 10:35:35 alek Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.5
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/09/23 15:29:41 sturm Exp $
d6 1
@


1.4
log
@remove maintainer Sebastian Stark per his request on ports@@
new maintainers:
- databases/gq Marc Balmer
- sysutils/login_ldap Peter Werner
- sysutils/pstree Sam Smith
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/02/21 20:56:22 pvalchev Exp $
d18 1
@


1.3
log
@login_ldap now ready to go in, after the appropriate work i asked for is done:
 * Upgrade to new version 3.3 (security update from previous, see advisory)
 * remove MESSAGE and enable-script
 * INSTALL/DEINSTALL scripts to properly place binary in /usr/libexec/auth
 * correct LIB_DEPENDS on openldap-client
 * no setuid root anymore!
 * new maintainer Sebastian Stark
 * honor PREFIX in manpage
@
text
@d1 1
a1 1
# $OpenBSD$
d11 1
a11 1
MAINTAINER=	Sebastian Stark <seb@@todesplanet.de>
@


1.2
log
@revert wrong login_ldap commit which broke a number of rules; port may
be resurrected later when/if issues are worked out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2002/11/06 16:12:05 shell Exp $
d3 1
a3 1
COMMENT=	"ldap authentication module"
d5 1
a5 1
DISTNAME=	login_ldap-3.2
d11 1
a11 1
MAINTAINER=	Peter Werner <peterw@@ifost.org.au>	
d19 1
a19 1
BUILD_DEPENDS=	openldap:openldap-client-*:databases/openldap
d21 3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
@


1.1.1.1
log
@Initial import of login_ldap-3.2

Submitted by Peter Werner <peterw@@ifost.org.au>
----
This port is for OpenBSD administrators wanting to authenticate
users off an LDAP server. It uses the BSD Authentication API.

Please visit WWW for information on updates and commercial support.

WWW: http://www.ifost.org.au/~peterw/
License: BSD
@
text
@@
