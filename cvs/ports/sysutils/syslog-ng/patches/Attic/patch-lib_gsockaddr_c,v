head	1.2;
access;
symbols
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2014.12.31.11.33.56;	author steven;	state dead;
branches;
next	1.1;
commitid	q6IQA6bx6XIWirwj;

1.1
date	2013.11.30.10.02.12;	author steven;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to 3.5.6
@
text
@$OpenBSD: patch-lib_gsockaddr_c,v 1.1 2013/11/30 10:02:12 steven Exp $
--- lib/gsockaddr.c.orig	Fri Jun 14 07:54:20 2013
+++ lib/gsockaddr.c	Tue Sep 24 01:24:06 2013
@@@@ -355,7 +355,7 @@@@ g_sockaddr_inet_range_new(gchar *ip, guint16 min_port,
   addr->sa_funcs = &inet_range_sockaddr_funcs;
   if (max_port > min_port)
     {
-      addr->last_port = (rand() % (max_port - min_port)) + min_port;
+      addr->last_port = arc4random_uniform(max_port - min_port) + min_port;
     }
   addr->min_port = min_port;
   addr->max_port = max_port;
@


1.1
log
@update to syslog-ng 3.4.6

rand() patches from dhill@@
portswise ok on a previous version landry@@
ok aja@@
@
text
@d1 1
a1 1
$OpenBSD$
@

