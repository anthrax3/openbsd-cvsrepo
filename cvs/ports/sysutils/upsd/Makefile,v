head	1.20;
access;
symbols
	OPENBSD_6_0:1.20.0.8
	OPENBSD_6_0_BASE:1.20
	OPENBSD_5_9:1.20.0.4
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.20.0.6
	OPENBSD_5_8_BASE:1.20
	OPENBSD_5_7:1.20.0.2
	OPENBSD_5_7_BASE:1.20
	OPENBSD_5_6:1.19.0.6
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.4
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.19.0.2
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.18.0.22
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.18.0.20
	OPENBSD_5_2_BASE:1.18
	OPENBSD_5_1_BASE:1.18
	OPENBSD_5_1:1.18.0.18
	OPENBSD_5_0:1.18.0.16
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.18.0.14
	OPENBSD_4_9_BASE:1.18
	OPENBSD_4_8:1.18.0.12
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.10
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.18.0.8
	OPENBSD_4_6_BASE:1.18
	OPENBSD_4_5:1.18.0.6
	OPENBSD_4_5_BASE:1.18
	OPENBSD_4_4:1.18.0.4
	OPENBSD_4_4_BASE:1.18
	OPENBSD_4_3:1.18.0.2
	OPENBSD_4_3_BASE:1.18
	OPENBSD_4_2:1.16.0.4
	OPENBSD_4_2_BASE:1.16
	OPENBSD_4_1:1.16.0.2
	OPENBSD_4_1_BASE:1.16
	OPENBSD_4_0:1.15.0.4
	OPENBSD_4_0_BASE:1.15
	OPENBSD_3_9:1.15.0.2
	OPENBSD_3_9_BASE:1.15
	OPENBSD_3_8:1.14.0.4
	OPENBSD_3_8_BASE:1.14
	OPENBSD_3_7:1.14.0.2
	OPENBSD_3_7_BASE:1.14
	OPENBSD_3_6:1.13.0.10
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.13.0.8
	OPENBSD_3_5_BASE:1.13
	OPENBSD_3_4:1.13.0.6
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.13.0.4
	OPENBSD_3_3_BASE:1.13
	OPENBSD_3_2:1.13.0.2
	OPENBSD_3_2_BASE:1.13
	OPENBSD_3_1:1.12.0.2
	OPENBSD_3_1_BASE:1.12
	OPENBSD_3_0:1.11.0.2
	OPENBSD_3_0_BASE:1.11
	OPENBSD_2_9_TRACKING_SWITCH:1.11
	OPENBSD_2_9:1.10.0.4
	OPENBSD_2_9_BASE:1.10
	OPENBSD_2_8:1.10.0.2
	OPENBSD_2_8_BASE:1.10
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	kevlo_1999-Nov-22:1.1.1.1
	kevlo:1.1.1;
locks; strict;
comment	@# @;


1.20
date	2015.01.21.06.23.35;	author bentley;	state Exp;
branches;
next	1.19;
commitid	mZdnLaBzccfpxHTo;

1.19
date	2013.03.11.11.41.33;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2007.09.20.10.25.36;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2007.09.15.21.14.03;	author merdely;	state Exp;
branches;
next	1.16;

1.16
date	2006.11.04.19.19.15;	author kili;	state Exp;
branches;
next	1.15;

1.15
date	2006.02.05.11.44.12;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2004.12.20.10.35.36;	author alek;	state Exp;
branches;
next	1.13;

1.13
date	2002.08.05.02.25.28;	author kevlo;	state Exp;
branches;
next	1.12;

1.12
date	2002.03.21.21.25.52;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2001.05.06.03.59.10;	author lebel;	state Exp;
branches;
next	1.10;

1.10
date	2000.10.09.07.49.13;	author kevlo;	state Exp;
branches;
next	1.9;

1.9
date	2000.06.27.08.15.58;	author kevlo;	state Exp;
branches;
next	1.8;

1.8
date	2000.06.09.20.58.00;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.09.17.38.21;	author espie;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2000.03.24.22.12.01;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.23.05.40.41;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.16.10.52.14;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.11.00.37.38;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	99.11.24.03.43.34;	author kevlo;	state Exp;
branches;
next	1.1;

1.1
date	99.11.22.04.08.04;	author kevlo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.11.22.04.08.04;	author kevlo;	state Exp;
branches;
next	;

1.7.2.1
date	2000.09.15.05.18.23;	author marc;	state Exp;
branches;
next	;


desc
@@


1.20
log
@Remove Kevin Lo as maintainer, by request.
@
text
@# $OpenBSD: Makefile,v 1.19 2013/03/11 11:41:33 espie Exp $

COMMENT=	APC Smart UPS Monitoring Daemon

DISTNAME=	upsd-2.0.1.6
CATEGORIES=	sysutils
REVISION =	0

PERMIT_PACKAGE_CDROM=	missing license
PERMIT_PACKAGE_FTP=	missing license
PERMIT_DISTFILES_FTP=	Yes
WANTLIB=		c 

WRKDIST=	${WRKDIR}/${DISTNAME:C,\.[0-9]+\.[0-9]+$,,}

pre-build:
	@@perl -pi -e 's:%%SYSCONFDIR%%:${SYSCONFDIR}:' \
		${WRKSRC}/config.h
	@@mv ${WRKSRC}/config.h ${WRKSRC}/conf.h.orig
	@@sed -e "s!@@prefix@@!${PREFIX}!g" ${WRKSRC}/conf.h.orig > ${WRKSRC}/conf.h

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/upsd ${PREFIX}/sbin
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/upsd
	${INSTALL_DATA} ${WRKSRC}/sample/upsd.conf ${PREFIX}/share/examples/upsd/upsd.conf-sample

.include <bsd.port.mk>
@


1.19
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2007/09/20 10:25:36 ajacoutot Exp $
d7 1
a7 2

MAINTAINER=	Kevin Lo <kevlo@@openbsd.org>
@


1.18
log
@- remove some useless comments

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2007/09/15 21:14:03 merdely Exp $
a11 1
PERMIT_DISTFILES_CDROM=	missing license
@


1.17
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*/IGNORE
@
text
@d1 1
a1 7
# New ports collection makefile for:    upsd
# Version required:     2.0.1.6
# Date created:         22 Nov 1999
# Whom:                 Kevin Lo <kevlo@@openbsd.org>
#
# $OpenBSD: Makefile,v 1.16 2006/11/04 19:19:15 kili Exp $
#
@


1.16
log
@Avoid references to PKGNAME.
Remove noops like WRKDIST=${WRKDIR}/${DISTNAME}.
Drop DIST_SUBDIR where appropriate.

Problem mentioned by naddy.
Some simplifications and ok, steven.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.15 2006/02/05 11:44:12 steven Exp $
d9 1
a9 1
COMMENT=	"APC Smart UPS Monitoring Daemon"
d16 3
a18 3
PERMIT_PACKAGE_CDROM=	"missing license"
PERMIT_PACKAGE_FTP=	"missing license"
PERMIT_DISTFILES_CDROM=	"missing license"
@


1.15
log
@distfile is not found in MASTER_SITE_LOCAL so remove this
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.14 2004/12/20 10:35:36 alek Exp $
a11 1
PKGNAME=	upsd-2.0
d22 1
a22 1
WRKDIST=	${WRKDIR}/${PKGNAME}
@


1.14
log
@Add WANTLIB markers
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.13 2002/08/05 02:25:28 kevlo Exp $
a13 1
MASTER_SITES=	${MASTER_SITE_LOCAL}
@


1.13
log
@- don't use hardcoded to /etc; pointed out by naddy@@
- use ${PREFIX}/share/examples/upsd for examples,
  not ${PREFIX}/lib/upsd
- use {INSTALL,DEINSTALL} for notification messages for config files
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.12 2002/03/21 21:25:52 espie Exp $
d22 1
@


1.12
log
@Bump NEED_VERSION
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.11 2001/05/06 03:59:10 lebel Exp $
a13 1
NEED_VERSION=	1.515
d23 1
a23 1
WRKDIST=	${WRKDIR}/upsd-2.0
d26 2
d33 2
a34 2
	${INSTALL_DATA_DIR} ${PREFIX}/lib/upsd
	${INSTALL_DATA} ${WRKSRC}/sample/upsd.conf ${PREFIX}/lib/upsd/upsd.conf.sample
@


1.11
log
@sysutils: integrate COMMENT, bump NEED_VERSION.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.10 2000/10/09 07:49:13 kevlo Exp $
d14 1
a14 1
NEED_VERSION=	1.402
@


1.10
log
@- Add full name to maintainer
- Update MASTER_SITES
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.9 2000/06/27 08:15:58 kevlo Exp $
d9 2
d14 1
a14 1
NEED_VERSION=	1.307
@


1.9
log
@Fix the Makefile and add the patches for /dev/cuaa0 to /dev/cua00
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.8 2000/06/09 20:58:00 espie Exp $
d13 1
a13 1
MASTER_SITES=	http://www.cre8tivegroup.com/
d15 1
a15 1
MAINTAINER=	kevlo@@openbsd.org
@


1.8
log
@Fake
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.7 2000/04/09 17:38:21 espie Exp $
d12 2
a13 4
NEED_VERSION=	1.191
MASTER_SITES=	ftp://www.ww.net/pub/wildwind/upsd/ \
		http://www.cre8tivegroup.com/ \
		ftp://ftp.sw.ru/pub/unix/upsd/
d31 1
a31 1
	${INSTALL_DATA} ${FILESDIR}/upsd.conf ${PREFIX}/lib/upsd/upsd.conf.sample
@


1.7
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.6 2000/03/24 22:12:01 espie Exp $
a12 1
FAKE=No
d30 4
a33 5
post-install:
	if [ ! -f /etc/upsd.conf ] ; then \
		${INSTALL} -c -o ${BINOWN} -g ${BINGRP} -m 644 \
			${FILESDIR}/upsd.conf /etc/upsd.conf; \
	fi
@


1.7.2.1
log
@bring sysutils as of cut-over date into 2.7 branch
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.9 2000/06/27 08:15:58 kevlo Exp $
d12 5
a16 2
NEED_VERSION=	1.307
MASTER_SITES=	http://www.cre8tivegroup.com/
d31 5
a35 4
do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/upsd ${PREFIX}/sbin
	${INSTALL_DATA_DIR} ${PREFIX}/lib/upsd
	${INSTALL_DATA} ${WRKSRC}/sample/upsd.conf ${PREFIX}/lib/upsd/upsd.conf.sample
@


1.6
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 2000/03/23 05:40:41 turan Exp $
d13 1
@


1.5
log
@license
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 2000/02/16 10:52:14 espie Exp $
d12 1
a15 1
NEED_VERSION=	1.191
@


1.4
log
@All the Makefiles cvs missed first time around...
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 2000/02/11 00:37:38 espie Exp $
d18 5
@


1.3
log
@Use WRKDIST where appropriate.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1999/11/24 03:43:34 kevlo Exp $
d22 2
a23 2
	@@${MV} ${WRKSRC}/config.h ${WRKSRC}/conf.h.orig
	@@${SED} -e "s!@@prefix@@!${PREFIX}!g" ${WRKSRC}/conf.h.orig > ${WRKSRC}/conf.h
@


1.2
log
@Fix PLIST. upsd.conf into /etc, instead of /usr/local/etc.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1999/11/22 04:08:04 kevlo Exp $
d15 1
d19 1
a19 1
WRKSRC=		${WRKDIR}/upsd-2.0
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d25 1
a25 1
	if [ ! -f ${PREFIX}/etc/upsd.conf ] ; then \
d27 1
a27 1
			${FILESDIR}/upsd.conf ${PREFIX}/etc/upsd.conf; \
@


1.1.1.1
log
@Import to upsd port. upsd is an APC smart UPS monitoring daemon.
@
text
@@
