head	1.7;
access;
symbols
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.2.0.2
	OPENBSD_6_0_BASE:1.2
	ajacoutot_20160506:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2017.05.27.19.57.07;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	H08QxD8pqoInz6Rz;

1.6
date	2017.05.27.13.55.59;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	SykG6k6P85X3Gc2i;

1.5
date	2017.03.17.10.02.47;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	vnw9uvmFcYEcocTO;

1.4
date	2017.01.21.05.03.28;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	OyzwjXQgzXHvU7oX;

1.3
date	2016.08.03.09.34.39;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	LglaoLJelk3VwE2g;

1.2
date	2016.05.14.09.55.07;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	zXfz9WQc75Uu3jpo;

1.1
date	2016.05.06.15.10.00;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;
commitid	auvKYFZIbikKwW40;

1.1.1.1
date	2016.05.06.15.10.00;	author ajacoutot;	state Exp;
branches;
next	;
commitid	auvKYFZIbikKwW40;


desc
@@


1.7
log
@Bring rc_bg back.
@
text
@# $OpenBSD: Makefile,v 1.6 2017/05/27 13:55:59 ajacoutot Exp $

COMMENT=		decentralized service discovery and orchestration

GH_TAGNAME=		v0.8.1
GH_ACCOUNT=		hashicorp
GH_PROJECT=		serf
PKGNAME=		${GH_ACCOUNT}-${DISTNAME}
DIST_SUBDIR=		${GH_PROJECT}
REVISION=		1

CATEGORIES=		sysutils net

HOMEPAGE=		https://www.serfdom.io/

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# MPLv2.0
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c pthread

MODULES=		lang/go

do-build:
	${MODGO_BUILD_CMD} ${ALL_TARGET}/cmd/serf

do-test:
	${MODGO_TEST_CMD} ${TEST_TARGET}/cmd/serf

.include <bsd.port.mk>
@


1.6
log
@I forgot the bump commit...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2017/03/17 10:02:47 ajacoutot Exp $
d10 1
a10 1
REVISION=		0
@


1.5
log
@Update to hashicorp-serf-0.8.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2017/01/21 05:03:28 ajacoutot Exp $
d10 1
@


1.4
log
@Update to (hashicorp-)serf-0.8.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/08/03 09:34:39 ajacoutot Exp $
d5 1
a5 1
GH_TAGNAME=		v0.8.0
@


1.3
log
@Bump after recent go MODULE change.

ok czarkoff@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2016/05/14 09:55:07 ajacoutot Exp $
d5 1
a5 1
GH_TAGNAME=		v0.7.0
a9 2
DISTFILES=		${DISTNAME}${EXTRACT_SUFX}
REVISION=		1
d24 5
a28 28
GH_DEP +=		armon circbuf bbbad097214e2918d8543d5201d12bfd7bca254d github.com
GH_DEP +=		armon go-metrics 06b60999766278efd6d2b5d8418a58c3d5b99e87 github.com
GH_DEP +=		hashicorp go-msgpack fa3f63826f7c23912c15263591e65d54d080b458 github.com
GH_DEP +=		hashicorp go-syslog 42a2b573b664dbf281bd48c3cc12c086b17a39ba github.com
GH_DEP +=		hashicorp go.net 104dcad90073cd8d1e6828b2af19185b60cf3e29 github.com
GH_DEP +=		hashicorp logutils 0dc08b1671f34c4250ce212759ebd880f743d883 github.com
GH_DEP +=		hashicorp mdns 9d85cf22f9f8d53cb5c81c1b2749f438b2ee333f github.com
GH_DEP +=		hashicorp memberlist 9888dc523910e5d22c5be4f6e34520943df21809 github.com
GH_DEP +=		miekg dns 75e6e86cc601825c5dbcd4e0c209eab180997cd7 github.com
GH_DEP +=		mitchellh cli 8102d0ed5ea2709ade1243798785888175f6e415 github.com
GH_DEP +=		mitchellh mapstructure 281073eb9eb092240d33ef253c404f1cca550309 github.com
GH_DEP +=		ryanuber columnize 983d3a5fab1bf04d1b412465d2d9f8430e2e917e github.com
GH_DEP +=		golang crypto f18420efc3b4f8e9f3d51f6bd2476e92c46260e9 golang.org

MASTER_SITES1=		https://github.com/
.for a b c d in ${GH_DEP}
DISTFILES +=		${a}/${b}/archive/${c}${EXTRACT_SUFX}:1
.endfor

pre-configure:
.for a b c d in ${GH_DEP}
	mkdir -p ${MODGO_WORKSPACE}/src/${d}/${a}
	mv ${WRKDIR}/${b}-${c} ${MODGO_WORKSPACE}/src/${d}/${a}/${b}
. if "${a}" == "golang"
	mkdir -p ${MODGO_WORKSPACE}/src/${d}/x
	mv ${MODGO_WORKSPACE}/src/${d}/${a}/${b} ${MODGO_WORKSPACE}/src/${d}/x/${b}
. endif
.endfor
@


1.2
log
@No need for /var/serf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/05/06 15:10:00 ajacoutot Exp $
d11 1
a11 1
REVISION=		0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2016/04/28 10:09:22 ajacoutot Exp $
d11 1
@


1.1.1.1
log
@Import hashicorp-serf-0.7.0.
("serf" was already taken by net/serf)

Serf is a decentralized solution for service discovery and orchestration that is
lightweight, highly available, and fault tolerant.

An efficient and lightweight gossip protocol is used to communicate with other
nodes. Serf can detect node failures and notify the rest of the cluster. An
event system is built on top of Serf, letting you use Serf's gossip protocol to
propagate events such as deploys, configuration changes, etc. Serf is completely
masterless with no single point of failure.

ok jasper@@
@
text
@@
