head	1.10;
access;
symbols
	OPENBSD_5_0:1.6.0.2
	OPENBSD_5_0_BASE:1.6
	OPENBSD_4_9:1.4.0.2
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.2.0.2
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.1.0.12
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.10
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.8
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.6
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.4
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.2
	OPENBSD_4_1_BASE:1.1;
locks; strict;
comment	@# @;


1.10
date	2012.01.12.11.39.36;	author sthen;	state dead;
branches;
next	1.9;

1.9
date	2012.01.11.16.01.33;	author sthen;	state Exp;
branches;
next	1.8;

1.8
date	2011.11.14.08.58.07;	author sthen;	state Exp;
branches;
next	1.7;

1.7
date	2011.09.19.15.59.57;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2011.03.09.12.55.05;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2011.03.09.11.00.55;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.03.22.21.50;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2010.06.26.11.11.12;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2010.01.15.11.25.15;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.25.19.36.43;	author espie;	state Exp;
branches;
next	;


desc
@@


1.10
log
@bit of a tidy-up for NUT.

- move MESSAGE to README and flesh it out a bit

- fix libwrap detection in autoconf

- install the avahi service definition to the right place again; this got
broken when moving to using SYSCONFDIR overrides / BASESYSCONFDIR
@
text
@The userid running NUT (normally ${NUT_USER}) must have access to the relevant
device nodes. For a UPS connected by RS232, either add ${NUT_USER} to group
"dialer" or change group of the relevant /dev/tty* device to ${NUT_USER}.
For a USB-connected UPS, change the group of the relevant /dev/ugen* and
/dev/usb* devices to ${NUT_USER}; to identify the specific controller and
ugen device names, use "sudo usbdevs -vd".

Support for some network UPS devices requires additional libraries so this
has been split into subpackages: nut-snmp (for SNMP-based devices) and
nut-xml (for Eaton/MGE UPS with an XML/HTTP interface card).
@


1.9
log
@update to NUT 2.6.3.

- nut-scanner has been changed to dlopen()ing modules, so roll it into the
main package now this can be done without bringing in excess dependencies.
@
text
@@


1.8
log
@- Handle the libusb-compat changeover, from aja@@

- Move nut-scanner to a separate package, not everybody wants to
 scan their nuts and it pulls in various deps not wanted for the
 main package.

- Add missing dep on avahi (for the scanner only) and install
 static service configuration files.

ok ajacoutot
@
text
@d10 1
a10 2
nut-xml (for Eaton/MGE UPS with an XML/HTTP interface card). The nut-scan
tool is also packaged separately.
@


1.7
log
@update to NUT 2.6.2 and add rc.d scripts

- thanks ajacoutot@@ for looking over the scripts

- note that there has been some major work on apcsmart; in the event
of problems the old driver is still available as apcsmart-old
@
text
@d7 5
@


1.6
log
@adjust MESSAGE to show people how to identify device nodes for USB UPS,
so they don't need to whack permissions on usb* ugen*. with aja@@
@
text
@a0 11
Once you have the config files under ${SYSCONFDIR}/nut set up properly, the
following block can be added to your /etc/rc.local file to start nut.

# Start Nut
if [ -x ${PREFIX}/bin/upsdrvctl ]; then
    echo -n ' nut'
    ${PREFIX}/bin/upsdrvctl start > /dev/null 2>&1
    ${PREFIX}/sbin/upsd > /dev/null 2>&1
    ${PREFIX}/sbin/upsmon > /dev/null 2>&1
fi

@


1.5
log
@- update nut to 2.6.0 (major documentation revamp and support for new
devices, including APC 5G, various Eaton, HP, and Tripp Lite models,
and a number of USB HID devices)

- build the snmp package by default

- use correct user/group names in MESSAGE
@
text
@d15 3
a17 2
For a USB-connected UPS, change the group of /dev/ugen* and /dev/usb*
to ${NUT_USER}.
@


1.4
log
@- new-style WANTLIB/LIB_DEPENDS/REVISION
- sync WANTLIB
- suggest suitable group for serial ports in MESSAGE
- take MAINTAINER
@
text
@d12 3
a14 3
The userid running NUT (normally _nut) must have access to the relevant
device nodes. For a UPS connected by RS232, either add _nut to group
"dialer" or change group of the relevant /dev/cua* device to _nut.
d16 1
a16 1
to _nut and allow the group to have write access.
@


1.3
log
@Note in MESSAGE that the _nut user must have permission to access the
relevant device nodes if using a USB UPS. Suggested by Alexey Suslikov.
@
text
@d12 5
a16 3
For USB-connected devices, the userid running NUT (normally _nut unless
set otherwise with the -u option) must have write access to the relevant
devices: /dev/usbX to detect the UPS, and /dev/ugenX.XX to control it.
@


1.2
log
@from upstream repository;

* base the default maxconn on available filehandles.
* change the error message to better indicate that it's an error
not a warning.

ok jasper@@

while there, remove an out-of-date comment in MESSAGE-main.
@
text
@d11 4
@


1.1
log
@new MULTI_PACKAGES
@
text
@a10 2

You may also be interested in the "-i" flag to upsd, see upsd(8).
@

