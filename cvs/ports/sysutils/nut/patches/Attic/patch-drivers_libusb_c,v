head	1.3;
access;
symbols
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.1.0.14
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.12
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.10
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.8
	OPENBSD_5_0:1.1.0.6
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.4
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2014.04.21.11.41.11;	author sthen;	state dead;
branches;
next	1.2;

1.2
date	2014.01.07.21.55.54;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2010.03.31.22.11.11;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to NUT 2.7.2
@
text
@$OpenBSD: patch-drivers_libusb_c,v 1.2 2014/01/07 21:55:54 sthen Exp $
--- drivers/libusb.c.orig	Wed Jul 31 21:41:31 2013
+++ drivers/libusb.c	Thu Nov 21 22:08:48 2013
@@@@ -375,7 +375,9 @@@@ static int libusb_strerror(const int ret, const char *
 		return 0;
 
 	case -EOVERFLOW:	/* Value too large for defined data type */
+#ifdef EPROTO
 	case -EPROTO:	/* Protocol error */
+#endif
 		upsdebugx(2, "%s: %s", desc, usb_strerror());
 		return 0;
 
@


1.2
log
@update to nut-2.7.1
@
text
@d1 1
a1 1
$OpenBSD: patch-drivers_libusb_c,v 1.1 2010/03/31 22:11:11 sthen Exp $
@


1.1
log
@update to 2.4.3, tested by Denny White and Aaron Stellman

note that with USB UPS, you may have to allow permissions on
further ugen subdevices (e.g. ugen0.01 as well as ugen0.00).
@
text
@d1 4
a4 4
$OpenBSD$
--- drivers/libusb.c.orig	Sat Mar 20 23:31:09 2010
+++ drivers/libusb.c	Sat Mar 20 23:31:21 2010
@@@@ -376,7 +376,9 @@@@ static int libusb_strerror(const int ret, const char *
@

