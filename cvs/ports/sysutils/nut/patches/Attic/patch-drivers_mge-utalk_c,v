head	1.2;
access;
symbols
	OPENBSD_3_6:1.1.0.4
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.2
	OPENBSD_3_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2004.09.27.03.10.24;	author marcm;	state dead;
branches;
next	1.1;

1.1
date	2004.02.09.06.48.48;	author marcm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to the 2.0 tree of Nut.

This is a feature release so if you're upgrading, take a look at the
release notes here:

http://random.networkupstools.org/source/2.0/new-2.0.0.txt
@
text
@$OpenBSD: patch-drivers_mge-utalk_c,v 1.1 2004/02/09 06:48:48 marcm Exp $
--- drivers/mge-utalk.c.orig	2003-06-11 01:57:41.000000000 -0700
+++ drivers/mge-utalk.c	2004-01-03 10:54:04.000000000 -0800
@@@@ -467,8 +467,8 @@@@ int setvar(const char *varname, const ch
 	
 	if(info_variable_ok(varname)) {
 		/* format command */
-		sprintf(cmd, "%s", info_variable_cmd(varname));
-		sprintf(strchr(cmd, '?'), "%s", val);
+		snprintf(cmd, sizeof (cmd), "%s", info_variable_cmd(varname));
+		snprintf(strchr(cmd, '?'), sizeof (cmd), "%s", val);
     
 		/* Execute command */
 		mge_command(temp, sizeof(temp), cmd);
@


1.1
log
@Update to 1.4.1.

In addition to the standard bugfixes, this is a major port rewrite.
The port now uses a '_ups' user and the CGIs created can now run under
either chrooted Apache or non-chrooted Apache.
@
text
@d1 1
a1 1
$OpenBSD$
@

