head	1.4;
access;
symbols
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	ajacoutot_20170401:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2017.05.27.19.57.07;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	H08QxD8pqoInz6Rz;

1.3
date	2017.05.27.13.55.59;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	SykG6k6P85X3Gc2i;

1.2
date	2017.01.07.19.09.43;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	kHwV576Ljxl449aV;

1.1
date	2017.01.04.09.05.40;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;
commitid	QlwnakFWKe9FcBri;

1.1.1.1
date	2017.01.04.09.05.40;	author ajacoutot;	state Exp;
branches;
next	;
commitid	QlwnakFWKe9FcBri;


desc
@@


1.4
log
@Bring rc_bg back.
@
text
@# $OpenBSD: Makefile,v 1.3 2017/05/27 13:55:59 ajacoutot Exp $

COMMENT=		AWS SSM agent

GH_TAGNAME=		v1.2.290.0
GH_ACCOUNT=		aws
GH_PROJECT=		amazon-ssm-agent
REVISION=		2

CATEGORIES=		sysutils

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# Amazon Software License
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c pthread

BUILD_DEPENDS=		lang/go

NO_TEST=		Yes

ALL_TARGET=		build-openbsd
INSTALL_TARGET=		install-openbsd

USE_GMAKE=		Yes
MAKE_ENV=		SKIP_CHECKSTYLE=Yes
MAKE_FILE=		makefile
FAKE_FLAGS=		DESTDIR=${WRKINST} \
			PREFIX=${TRUEPREFIX} \
			SYSCONFDIR=${PREFIX}/share/examples/amazon-ssm-agent

WRKSRC=			${WRKDIR}/src/github.com/aws/amazon-ssm-agent

pre-configure:
	rmdir ${WRKSRC}
	mv ${WRKDIR}/${DISTNAME} ${WRKSRC}
	${SUBST_CMD} ${WRKSRC}/agent/appconfig/constants_unix.go \
		${WRKSRC}/agent/log/log_unix.go

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/amazon-ssm-agent/
	${INSTALL_DATA} ${WRKSRC}/Tools/src/LICENSE \
		${PREFIX}/share/doc/amazon-ssm-agent/

.include <bsd.port.mk>
@


1.3
log
@I forgot the bump commit...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2017/01/07 19:09:43 ajacoutot Exp $
d8 1
a8 1
REVISION=		1
@


1.2
log
@Fix HOMEPAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2017/01/04 09:05:40 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2016/12/30 11:20:10 ajacoutot Exp $
d8 1
a10 2

HOMEPAGE=		https://aws.amazon.com/cli/
@


1.1.1.1
log
@Import amazon-ssm-agent-1.2.290.0.

The Amazon EC2 Simple Systems Manager (SSM) Agent is software developed for the
Simple Systems Manager Service. The SSM Agent is the primary component of a
feature called Run Command.
<...>

ok robert@@
@
text
@@
