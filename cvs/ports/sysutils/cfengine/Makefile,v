head	1.56;
access;
symbols
	OPENBSD_6_1:1.56.0.2
	OPENBSD_6_1_BASE:1.56
	OPENBSD_6_0:1.54.0.4
	OPENBSD_6_0_BASE:1.54
	OPENBSD_5_9:1.54.0.2
	OPENBSD_5_9_BASE:1.54
	OPENBSD_5_8:1.51.0.6
	OPENBSD_5_8_BASE:1.51
	OPENBSD_5_7:1.51.0.2
	OPENBSD_5_7_BASE:1.51
	OPENBSD_5_6:1.46.0.2
	OPENBSD_5_6_BASE:1.46
	OPENBSD_5_5:1.44.0.2
	OPENBSD_5_5_BASE:1.44
	OPENBSD_5_4:1.43.0.2
	OPENBSD_5_4_BASE:1.43
	OPENBSD_5_3:1.38.0.6
	OPENBSD_5_3_BASE:1.38
	OPENBSD_5_2:1.38.0.4
	OPENBSD_5_2_BASE:1.38
	OPENBSD_5_1_BASE:1.38
	OPENBSD_5_1:1.38.0.2
	OPENBSD_5_0:1.36.0.2
	OPENBSD_5_0_BASE:1.36
	OPENBSD_4_9:1.35.0.2
	OPENBSD_4_9_BASE:1.35
	OPENBSD_4_8:1.31.0.4
	OPENBSD_4_8_BASE:1.31
	OPENBSD_4_7:1.31.0.2
	OPENBSD_4_7_BASE:1.31
	OPENBSD_4_6:1.30.0.2
	OPENBSD_4_6_BASE:1.30
	OPENBSD_4_5:1.28.0.6
	OPENBSD_4_5_BASE:1.28
	OPENBSD_4_4:1.28.0.4
	OPENBSD_4_4_BASE:1.28
	OPENBSD_4_3:1.28.0.2
	OPENBSD_4_3_BASE:1.28
	OPENBSD_4_2:1.24.0.8
	OPENBSD_4_2_BASE:1.24
	OPENBSD_4_1:1.24.0.6
	OPENBSD_4_1_BASE:1.24
	OPENBSD_4_0:1.24.0.4
	OPENBSD_4_0_BASE:1.24
	OPENBSD_3_9:1.24.0.2
	OPENBSD_3_9_BASE:1.24
	OPENBSD_3_8:1.23.0.2
	OPENBSD_3_8_BASE:1.23
	OPENBSD_3_7:1.22.0.2
	OPENBSD_3_7_BASE:1.22
	OPENBSD_3_6:1.18.0.2
	OPENBSD_3_6_BASE:1.18
	OPENBSD_3_5:1.14.0.6
	OPENBSD_3_5_BASE:1.14
	OPENBSD_3_4:1.14.0.4
	OPENBSD_3_4_BASE:1.14
	OPENBSD_3_3:1.14.0.2
	OPENBSD_3_3_BASE:1.14
	OPENBSD_3_2:1.13.0.4
	OPENBSD_3_2_BASE:1.13
	OPENBSD_3_1:1.13.0.2
	OPENBSD_3_1_BASE:1.13
	OPENBSD_3_0:1.12.0.2
	OPENBSD_3_0_BASE:1.12
	OPENBSD_2_9_TRACKING_SWITCH:1.10
	OPENBSD_2_9:1.8.0.4
	OPENBSD_2_9_BASE:1.8
	OPENBSD_2_8:1.8.0.2
	OPENBSD_2_8_BASE:1.8
	OPENBSD_2_7:1.6.0.2
	OPENBSD_2_7_BASE:1.6
	OPENBSD_2_6:1.2.0.4
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	marc_1998-Sep-17:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.56
date	2016.11.19.15.28.40;	author sthen;	state Exp;
branches;
next	1.55;
commitid	YZJiPkg7nR4PSZWJ;

1.55
date	2016.09.13.18.52.05;	author naddy;	state Exp;
branches;
next	1.54;
commitid	4Y8Q5bKBOfIWFq5Y;

1.54
date	2016.01.22.11.38.23;	author sthen;	state Exp;
branches;
next	1.53;
commitid	5pKzP1wolOXjJZuG;

1.53
date	2015.11.29.15.50.20;	author ajacoutot;	state Exp;
branches;
next	1.52;
commitid	R4zDyQEPMusoKaj3;

1.52
date	2015.08.12.22.27.31;	author sthen;	state Exp;
branches;
next	1.51;
commitid	SHEFBfUb4YY8KIkG;

1.51
date	2015.02.17.22.08.36;	author sthen;	state Exp;
branches;
next	1.50;
commitid	xaIHtCntkggL7CxN;

1.50
date	2014.12.08.10.57.09;	author ajacoutot;	state Exp;
branches;
next	1.49;
commitid	pz71RdO0gxd0iylf;

1.49
date	2014.11.24.16.39.41;	author jca;	state Exp;
branches;
next	1.48;
commitid	zVL0lFtuteSmUtDu;

1.48
date	2014.11.19.19.35.38;	author jca;	state Exp;
branches;
next	1.47;
commitid	Go9wjnSTWawSDyVX;

1.47
date	2014.09.13.18.09.22;	author brad;	state Exp;
branches;
next	1.46;
commitid	PpbRjVZdAmlrmi8q;

1.46
date	2014.07.12.11.25.00;	author sthen;	state Exp;
branches;
next	1.45;
commitid	76ij4rO0HAnPaXZj;

1.45
date	2014.06.19.13.48.44;	author sthen;	state Exp;
branches;
next	1.44;
commitid	gkYLIzrrKrfnrT9T;

1.44
date	2013.09.20.13.02.49;	author okan;	state Exp;
branches;
next	1.43;

1.43
date	2013.07.11.07.50.25;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2013.06.12.20.36.34;	author brad;	state Exp;
branches;
next	1.41;

1.41
date	2013.05.25.02.45.01;	author brad;	state Exp;
branches;
next	1.40;

1.40
date	2013.05.01.21.09.23;	author sthen;	state Exp;
branches;
next	1.39;

1.39
date	2013.03.11.11.41.29;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2011.09.16.11.41.39;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2011.09.12.18.02.35;	author naddy;	state Exp;
branches;
next	1.36;

1.36
date	2011.04.17.18.19.37;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2010.11.26.14.50.10;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2010.11.20.17.22.40;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2010.11.11.19.00.48;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2010.10.19.07.43.00;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2009.09.01.14.25.15;	author okan;	state Exp;
branches;
next	1.30;

1.30
date	2009.04.25.22.07.37;	author okan;	state Exp;
branches;
next	1.29;

1.29
date	2009.03.16.22.52.08;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2007.10.28.18.30.20;	author sturm;	state Exp;
branches;
next	1.27;

1.27
date	2007.10.25.21.05.33;	author steven;	state Exp;
branches;
next	1.26;

1.26
date	2007.10.12.20.12.18;	author sturm;	state Exp;
branches;
next	1.25;

1.25
date	2007.09.15.21.14.01;	author merdely;	state Exp;
branches;
next	1.24;

1.24
date	2005.10.27.21.47.28;	author sturm;	state Exp;
branches;
next	1.23;

1.23
date	2005.07.21.15.16.46;	author aanriot;	state Exp;
branches
	1.23.2.1;
next	1.22;

1.22
date	2005.01.12.21.31.06;	author sturm;	state Exp;
branches
	1.22.2.1;
next	1.21;

1.21
date	2004.12.20.10.35.35;	author alek;	state Exp;
branches;
next	1.20;

1.20
date	2004.11.26.09.57.12;	author alek;	state Exp;
branches;
next	1.19;

1.19
date	2004.10.01.21.22.15;	author sturm;	state Exp;
branches;
next	1.18;

1.18
date	2004.08.13.19.25.42;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2004.08.08.14.02.11;	author sturm;	state Exp;
branches;
next	1.16;

1.16
date	2004.06.17.11.21.42;	author sturm;	state Exp;
branches;
next	1.15;

1.15
date	2004.04.21.11.20.19;	author brad;	state dead;
branches;
next	1.14;

1.14
date	2002.12.29.20.19.10;	author fgsch;	state Exp;
branches;
next	1.13;

1.13
date	2001.10.28.13.05.49;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2001.10.09.16.02.06;	author heko;	state Exp;
branches;
next	1.11;

1.11
date	2001.10.01.13.07.45;	author heko;	state Exp;
branches;
next	1.10;

1.10
date	2001.06.20.01.43.34;	author pvalchev;	state Exp;
branches;
next	1.9;

1.9
date	2001.05.06.03.58.58;	author lebel;	state Exp;
branches;
next	1.8;

1.8
date	2000.10.22.15.43.29;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2000.06.07.01.04.23;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2000.04.09.17.38.16;	author espie;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2000.03.01.10.08.08;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.02.15.05.05.15;	author turan;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.12.08.02.31;	author turan;	state Exp;
branches;
next	1.2;

1.2
date	99.03.07.01.39.00;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	98.09.18.00.09.29;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.09.18.00.09.29;	author marc;	state Exp;
branches;
next	;

1.6.2.1
date	2000.09.15.05.18.07;	author marc;	state Exp;
branches;
next	;

1.22.2.1
date	2005.10.30.07.27.28;	author sturm;	state Exp;
branches;
next	;

1.23.2.1
date	2005.11.01.11.34.52;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.56
log
@mark cfengine as BROKEN, newer pkg_add code is unable to install it
due to some problem with symlinks.
@
text
@# $OpenBSD: Makefile,v 1.55 2016/09/13 18:52:05 naddy Exp $

BROKEN =	pkg_add fails: problem with symlinks

COMMENT =	GNU system administration tool for networks

DISTNAME =	cfengine-3.7.2

SHARED_LIBS +=  promises	0.0 # 1.0
CATEGORIES =	sysutils
HOMEPAGE =	http://cfengine.com/

MAINTAINER =	Rodrigo Mosconi <openbsd@@mosconi.mat.br>

# GPLv3 only
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c crypto iconv lzma m pam pcre pthread ssl qdbm xml2 z

MASTER_SITES =	https://cfengine-package-repos.s3.amazonaws.com/tarballs/

CFENGINE_BASE =		/var/cfengine
CFENGINE_EXAMPLES =	${PREFIX}/share/examples/cfengine
SUBST_VARS +=		CFENGINE_BASE CFENGINE_EXAMPLES

FLAVORS =		pgsql mysql 
FLAVOR ?=

SEPARATE_BUILD = 	Yes
CONFIGURE_STYLE =	gnu
USE_GMAKE =		Yes
LIB_DEPENDS =		converters/libiconv \
			databases/qdbm \
			devel/pcre \
			security/openpam \
			textproc/libxml
CONFIGURE_ENV +=	CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS =	--with-openssl=/usr \
			--without-libacl \
			--without-libvirt \
			--with-libxml2 \
			--without-libyaml \
			--without-lmdb \
			--with-pam \
			--with-pcre \
			--with-qdbm \
			--without-tokyocabinet \
			--disable-fhs \
			--with-workdir=${CFENGINE_BASE}
MAKE_FLAGS +=		examplesdir="${CFENGINE_EXAMPLES}" \
			masterfilesdir="${CFENGINE_EXAMPLES}/CoreBase"

.if ${FLAVOR:Mpgsql}
WANTLIB +=		pq
CONFIGURE_ARGS +=	--with-postgresql
LIB_DEPENDS +=		databases/postgresql
.else
CONFIGURE_ARGS +=	--without-postgresql
.endif

.if ${FLAVOR:Mmysql}
WANTLIB +=		mysqlclient_r
CONFIGURE_ARGS +=	--with-mysql
LIB_DEPENDS +=		databases/mariadb
.else
CONFIGURE_ARGS +=	--without-mysql
.endif


# tests not yet working
NO_TEST =		Yes
# also note some formatting errors with manpages (e.g. "You can think
# of.B cfengine as..." and poor formatting in INFORMATION sections;
# these are present with either mandoc or groff.

post-extract:
	perl -i -pe \
		's|^sbin_PROGRAMS.*rpmvercmp||;' \
		${WRKDIST}/ext/Makefile.in

post-install:
	${INSTALL_PROGRAM_DIR} ${WRKINST}${CFENGINE_BASE}/bin
.for i in cf-agent cf-execd cf-key cf-monitord cf-promises cf-upgrade \
          cf-runagent cf-serverd
	ln -s ${TRUEPREFIX}/bin/$i ${WRKINST}${CFENGINE_BASE}/bin/
.endfor

.include <bsd.port.mk>
@


1.55
log
@replace libiconv module
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.54 2016/01/22 11:38:23 sthen Exp $
@


1.54
log
@update to cfengine-3.7.2, from maintainer Rodrigo Mosconi
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2015/11/29 15:50:20 ajacoutot Exp $
d16 1
a16 1
WANTLIB += c crypto lzma m pam pcre pthread ssl qdbm xml2 z
d30 2
a31 2
MODULES =		converters/libiconv
LIB_DEPENDS =		databases/qdbm \
@


1.53
log
@daemon_timeout is not passed to the child scripts either.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2015/08/12 22:27:31 sthen Exp $
d5 1
a5 2
DISTNAME =	cfengine-3.4.5
REVISION =	7
d16 3
a18 1
MASTER_SITES =	https://s3.amazonaws.com/cfengine.package-repos/tarballs/
d24 1
a24 1
FLAVORS =		pgsql
d27 1
a27 1
WANTLIB =		c crypto m pcre pthread qdbm z
d32 3
a34 1
			devel/pcre
d38 6
d46 2
a47 3
			--without-libxml2 \
			--without-libvirt \
			--enable-fhs \
d68 1
d82 3
a84 2
.for i in cf-agent cf-execd cf-key cf-monitord cf-promises cf-report cf-runagent cf-serverd
	ln -s ${TRUEPREFIX}/sbin/$i ${WRKINST}${CFENGINE_BASE}/bin/
@


1.52
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2015/02/17 22:08:36 sthen Exp $
d6 1
a6 1
REVISION =	6
@


1.51
log
@Adjust the "meta" rc-scripts (these are used in ports with multiple daemons
which should all be started/stopped together), previously "restart" would
restart each sub-daemon in turn, but actually it should stop all daemons
and only then start them again. Additionally, as suggested by ajacoutot,
stop the procedure and return an error if stopping one of the rc scripts
failed.  ok ajacoutot@@ rpe@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2014/12/08 10:57:09 ajacoutot Exp $
d6 1
a6 1
REVISION =	5
d26 1
a26 1
WANTLIB =		c crypto m pcre pthread qdbm
d29 1
@


1.50
log
@Make all meta rc.d scripts consistent.
While here, unbreak when options are passed (e.g. /etc/rc.d/foobar -df start)

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2014/11/24 16:39:41 jca Exp $
d6 1
a6 1
REVISION =	4
@


1.49
log
@cfengine has a new MAINTAINER: Rodrigo Mosconi.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2014/11/19 19:35:38 jca Exp $
d6 1
a6 1
REVISION =	3
@


1.48
log
@Remove maintainer per his request.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2014/09/13 18:09:22 brad Exp $
d6 1
a6 1
REVISION =	2
d11 2
@


1.47
log
@Switch from using MySQL to using MariaDB attempt #2. MariaDB is a drop-in replacement.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2014/07/12 11:25:00 sthen Exp $
d6 1
a6 1
REVISION =	1
a10 2

MAINTAINER =	Martijn Rijkeboer <martijn@@bunix.org>
@


1.46
log
@don't use "echo 'pkg_scripts="${pkg_scripts} icinga' >> /etc/rc.conf.local"
examples
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2014/06/19 13:48:44 sthen Exp $
d6 1
a6 1
REVISION =	0
d54 1
a54 1
LIB_DEPENDS +=		databases/mysql
@


1.45
log
@update MASTER_SITES, from "Jiri B"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/09/20 13:02:49 okan Exp $
d6 1
@


1.44
log
@update to 3.4.5, from Martijn Rijkeboer (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/07/11 07:50:25 sthen Exp $
a5 2
F =		${DISTNAME}${EXTRACT_SUFX}
DISTFILES =	$F{download?file=$F}
d16 1
a16 1
MASTER_SITES =	http://cfengine.com/source-code/
@


1.43
log
@use DISTFILES=..{..} url handling syntax, rather than a dummy url parameter.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/06/12 20:36:34 brad Exp $
d5 1
a5 1
DISTNAME =	cfengine-3.4.4
a8 1
REVISION =	1
@


1.42
log
@Revert back to using MySQL 5.1 for the time being. MariaDB 5.5 introduces
a new libmysqlclient non-blocking API which utilizes co-routines. The X86
specific GCC ASM co-routine support hid the fact that there was an issue.
The only fallback code so far is POSIX user contexts which OpenBSD does not
support.

Input from and Ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/05/25 02:45:01 brad Exp $
d6 3
d19 1
a19 1
MASTER_SITES =	${HOMEPAGE}source-code/download?file=${DISTFILES}&dummy=/
@


1.41
log
@2 ports were missed with the move to MariaDB.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/05/01 21:09:23 sthen Exp $
d6 1
a6 1
REVISION =	0
d53 1
a53 1
LIB_DEPENDS +=		databases/mariadb
@


1.40
log
@Update to cfengine 3.4.4, worked on by okan@@, Jiri B, myself and
Martijn Rijkeboer (Martijn takes MAINTAINER), testing and src/sysinfo.c
diff from Timo Myyra.

!!! Note: CFEngine 3 is not a drop-in upgrade for CFEngine 2 installations.
!!! It is a significantly more powerful version, but it is incompatible with
!!! the CFEngine 2 policy language.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2011/09/16 11:41:39 espie Exp $
d6 1
d53 1
a53 1
LIB_DEPENDS +=		databases/mysql
@


1.39
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d3 1
a3 1
COMMENT=	GNU system administration tool for networks
d5 68
a72 20
DISTNAME=      	cfengine-2.2.10
REVISION=	2
CATEGORIES=	sysutils

HOMEPAGE=	http://www.cfengine.org/

MAINTAINER=	William Yodlowsky <bsd@@openbsd.rutgers.edu>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c crypto m pthread lib/db4/db>=4

MASTER_SITES=		${HOMEPAGE}/tarballs/

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--with-docs
USE_GROFF =		Yes

LIB_DEPENDS=		databases/db/v4
@


1.38
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/09/12 18:02:35 naddy Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.37
log
@bump all (sub)packages that depend on db/v4; requested by and help from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/04/17 18:19:37 jasper Exp $
d6 1
a6 1
REVISION=	1
@


1.36
log
@- remove unnecessary NULL casts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/11/26 14:50:10 espie Exp $
d6 1
a6 1
REVISION=	0
@


1.35
log
@since db/v4 has db->=4,<5 as default, no need to specify it explicitly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/11/20 17:22:40 espie Exp $
d6 1
d21 1
a21 1
MASTER_SITES=		${HOMEPAGE}tarballs/
@


1.34
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/11/11 19:00:48 espie Exp $
d26 1
a26 1
LIB_DEPENDS=		db->=4,<5:databases/db/v4
@


1.33
log
@last WANTLIB conversion, hopefully
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2010/10/19 07:43:00 espie Exp $
d18 1
a18 1
WANTLIB=		c crypto m pthread lib/db4/db.>=4
d26 1
a26 1
LIB_DEPENDS=		:db->=4,<5:databases/db/v4
@


1.32
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/09/01 14:25:15 okan Exp $
d18 1
a18 1
WANTLIB=		c crypto m pthread
d24 1
a24 1
USE_GROFF =	Yes
d26 1
a26 1
LIB_DEPENDS=		lib/db4/db.>=4:db->=4,<5:databases/db/v4
@


1.31
log
@- update to 2.2.10
- update MASTER_SITES

ok sturm@@ william@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/04/25 22:07:37 okan Exp $
d24 1
@


1.30
log
@update to 2.2.9

ok sturm and MAINTAINER (bsd@@openbsd.rutgers.edu)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/03/16 22:52:08 sthen Exp $
d5 1
a5 1
DISTNAME=      	cfengine-2.2.9
d20 1
a20 1
MASTER_SITES=		${HOMEPAGE}downloads/
@


1.29
log
@db lib_depends, fix master_sites, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2007/10/28 18:30:20 sturm Exp $
d5 1
a5 2
DISTNAME=      	cfengine-2.2.1
PKGNAME=	${DISTNAME}p2
@


1.28
log
@ups, these shouldn't have been removed completely
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/10/25 21:05:33 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d13 1
a13 1
# License: GPL
d18 1
d21 1
a21 1
MASTER_SITES=		ftp://ftp.iu.hio.no/pub/cfengine/
d26 1
a26 1
LIB_DEPENDS=		lib/db4/db.>=4:db-4.*:databases/db/v4
@


1.27
log
@db.=4 -> db.>=4  in preparation of db4 update

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2007/10/12 20:12:18 sturm Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.26
log
@update to cfengine 2.2.1
simplify port drastically by removing str* patches, these might be
revived one day as an external patch

no objections from maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2007/09/15 21:14:01 merdely Exp $
d6 1
d25 1
a25 1
LIB_DEPENDS=		lib/db4/db.=4:db-4.*:databases/db/v4
@


1.25
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*/IGNORE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/10/27 21:47:28 sturm Exp $
d5 1
a5 2
V=		2.1.16
DISTNAME=      	cfengine-${V}
a24 4

CONFIGURE_ENV=		ac_cv_lib_pthread_main=no

SUBST_VARS=		V
@


1.24
log
@update to 2.1.16, removing sbin/vicf which seems to have a security
problem but is not used anywhere and will probably be removed from
cfengine

from maintainer William Yodlowsky <bsd at openbsd.rutgers.edu>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/07/21 15:16:46 aanriot Exp $
d3 1
a3 1
COMMENT=	"GNU system administration tool for networks"
@


1.23
log
@update to 2.1.15, from William Yodlowsky (maintainer).

inputs and ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2005/01/12 21:31:06 sturm Exp $
d5 1
a5 1
V=		2.1.15
@


1.23.2.1
log
@don't install vicf, it seems to have a security problem and is about to
be removed from cfengine

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/07/21 15:16:46 aanriot Exp $
a6 1
PKGNAME=	${DISTNAME}p0
@


1.22
log
@better and consistent LIB_DEPENDS on db; this fixes a few possible
build time failures, where the wrong version of db could be found
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/12/20 10:35:35 alek Exp $
d5 2
a6 3
V=		2.1.10
DISTNAME=      	cfengine-2.1.10
PKGNAME=	${DISTNAME}p1
@


1.22.2.1
log
@don't install vicf, it seems to have a security problem and is about to
be removed from cfengine

ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2005/01/12 21:31:06 sturm Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p2
@


1.21
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/11/26 09:57:12 alek Exp $
d7 1
a7 1
PKGNAME=	${DISTNAME}p0
d26 1
a26 1
LIB_DEPENDS=		lib/db4/db.4:db-4.*:databases/db/v4
@


1.20
log
@- Kill DEINSTALL
- Bump PKGNAME

ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/10/01 21:22:15 sturm Exp $
d19 1
@


1.19
log
@unbreak and update to 2.1.10

from maintainer William Yodlowsky <bsd at openbsd.rutgers.edu>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/08/13 19:25:42 brad Exp $
d7 1
@


1.18
log
@This is ridiculous, I remove this port after no updates for 2 yrs because
the version in the ports tree had security issues. Then a couple weeks
later it is revived and then 2 security issues pop up just before release.
This pile of shit is being marked BROKEN and frankly I don't care if it
ever comes back.

ok pvalchev@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.17 2004/08/08 14:02:11 sturm Exp $

BROKEN=		"this version of cfengine has security problems"
d5 2
a6 1
DISTNAME=      	cfengine-2.1.7p1
d27 2
@


1.17
log
@update to cfengine 2.1.7p1

from maintainer William Yodlowsky <bsd at openbsd.rutgers.edu>
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.16 2004/06/17 11:21:42 sturm Exp $
@


1.16
log
@revive cfengine port

this is version 2.1.6, from and maintained by
William Yodlowsky <bsd at openbsd.rutgers.edu>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2002/12/29 20:19:10 fgsch Exp $
d5 1
a5 1
DISTNAME=      	cfengine-2.1.6
@


1.15
log
@over 2 yrs with no update, bye bye.
@
text
@a1 2
# $FreeBSD: Makefile,v 1.2 1998/08/19 11:28:23 jseger Exp $
#
d5 1
a5 1
DISTNAME=       cfengine-1.4.12
d8 4
d18 4
a21 1
MASTER_SITES=       ftp://ftp.gnu.org/old-gnu/cfengine/
d23 1
a23 2
CONFIGURE_STYLE=	autoconf dest
MAKE_ENV=	INSTALL_SCRIPT="${INSTALL_SCRIPT}"
d25 1
a25 1
BROKEN=		"this version of cfengine has security problems"
@


1.14
log
@and more..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/10/28 13:05:49 espie Exp $
@


1.13
log
@Zap default MAINTAINER from Makefile.
Especially now that the default line is more verbose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/10/09 16:02:06 heko Exp $
a8 1
NEED_VERSION=	1.402
@


1.12
log
@Mark the port as broken for now because of security issues. Will be
updated later.
(The current port will also not install correctly if databases/db is
 installed.)
naddy@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/10/01 13:07:45 heko Exp $
a9 2

MAINTAINER=	ports@@openbsd.org
@


1.11
log
@o Force reautoconf to prevent AC_PATH_PROG brokenness. Fixes building
  when the databases/db port is installed.
o GNU mirrors don't hold this version of cfengine any more, use
  ftp://ftp.gnu.org/old-gnu/cfengine/.
input from naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/06/20 01:43:34 pvalchev Exp $
d23 2
@


1.10
log
@Remove deprecated LICENSE_TYPE and set appropriate # comments
with its contents.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2001/05/06 03:58:58 lebel Exp $
d19 1
a19 2
MASTER_SITES=   ${MASTER_SITE_GNU}
MASTER_SITE_SUBDIR= cfengine
d21 1
a21 1
CONFIGURE_STYLE=	gnu dest
@


1.9
log
@sysutils: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/10/22 15:43:29 espie Exp $
d13 1
a13 1
LICENSE_TYPE=		GPL
@


1.8
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/06/07 01:04:23 espie Exp $
d5 2
d9 1
a9 1
NEED_VERSION=	1.305
@


1.7
log
@Trivial fake
set up reasonable permissions for idled, so that packaging may happen as
non-root.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/04/09 17:38:16 espie Exp $
d7 1
d20 1
a20 2
HAS_CONFIGURE=	Yes
CONFIGURE_ARGS=--prefix='$${DESTDIR}${PREFIX}' --sysconfdir='$${DESTDIR}/etc'
@


1.6
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/03/01 10:08:08 turan Exp $
a6 1
FAKE=No
d11 4
a14 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d19 2
a20 1
GNU_CONFIGURE=	yes
@


1.6.2.1
log
@bring sysutils as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/06/07 01:04:23 espie Exp $
d7 1
d12 4
a15 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d20 1
a20 2
HAS_CONFIGURE=	Yes
CONFIGURE_ARGS=--prefix='$${DESTDIR}${PREFIX}' --sysconfdir='$${DESTDIR}/etc'
@


1.5
log
@change maintainer to ports@@openbsd.org as requested
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/02/15 05:05:15 turan Exp $
d7 1
@


1.4
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/02/12 08:02:31 turan Exp $
d8 1
a8 1
MAINTAINER=	marc@@openbsd.org
@


1.3
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1999/03/07 01:39:00 brad Exp $
d11 4
a14 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.2
log
@add MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/09/18 00:09:29 marc Exp $
d9 6
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD:$
d11 1
a11 1

@


1.1.1.1
log
@cfengine; openbsd patches from <chuck@@Yerkes.com>
@
text
@@
