head	1.3;
access;
symbols
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.1.0.4
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.2
	OPENBSD_3_6_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2005.09.09.11.05.36;	author david;	state dead;
branches;
next	1.2;

1.2
date	2005.07.21.15.16.47;	author aanriot;	state Exp;
branches;
next	1.1;

1.1
date	2004.06.17.11.21.43;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.3
log
@zap 0 byte file; ok aanriot@@
@
text
@@


1.2
log
@update to 2.1.15, from William Yodlowsky (maintainer).

inputs and ok naddy@@
@
text
@@


1.1
log
@revive cfengine port

this is version 2.1.6, from and maintained by
William Yodlowsky <bsd at openbsd.rutgers.edu>
@
text
@a0 30
$OpenBSD$
--- src/init.c.orig	2004-06-15 12:33:21.000000000 +0200
+++ src/init.c	2004-06-15 12:32:30.000000000 +0200
@@@@ -93,7 +93,7 @@@@ else 
    {
    if (statbuf.st_mode & 022)
       {
-      snprintf(OUTPUT,CF_BUFSIZE*2,"UNTRUSTED: State directory %s was not private!\n",VLOCKDIR,statbuf.st_mode & 0777);
+      snprintf(OUTPUT,CF_BUFSIZE*2,"UNTRUSTED: State directory %s was not private! (%o)\n",VLOCKDIR,statbuf.st_mode & 0777);
       CfLog(cferror,OUTPUT,"");
       }
    }
@@@@ -113,7 +113,7 @@@@ else 
    {
    if (statbuf.st_mode & 022)
       {
-      snprintf(OUTPUT,CF_BUFSIZE*2,"UNTRUSTED: Module directory %s was not private!\n",VLOCKDIR,statbuf.st_mode & 0777);
+      snprintf(OUTPUT,CF_BUFSIZE*2,"UNTRUSTED: Module directory %s was not private! (%o)\n",VLOCKDIR,statbuf.st_mode & 0777);
       CfLog(cferror,OUTPUT,"");
       }
    }
@@@@ -173,7 +173,7 @@@@ else
    {
    if (statbuf.st_mode & 077)
       {
-      snprintf(OUTPUT,CF_BUFSIZE*2,"UNTRUSTED: Private key directory %s/ppkeys was not private!\n",VLOCKDIR,statbuf.st_mode & 0777);
+      snprintf(OUTPUT,CF_BUFSIZE*2,"UNTRUSTED: Private key directory %s/ppkeys was not private! (%o)\n",VLOCKDIR,statbuf.st_mode & 0777);
       FatalError(OUTPUT);
       }
    }
@

