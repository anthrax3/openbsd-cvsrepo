head	1.3;
access;
symbols
	kettenis_20170820:1.1.1.1 kettenis:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2017.08.22.11.32.44;	author sthen;	state Exp;
branches;
next	1.2;
commitid	qTISQ2MrYMqRWmAW;

1.2
date	2017.08.21.05.56.13;	author jasper;	state Exp;
branches;
next	1.1;
commitid	nlowL6Y7W013DrYd;

1.1
date	2017.08.20.21.32.07;	author kettenis;	state Exp;
branches
	1.1.1.1;
next	;
commitid	d80VLANv3AX8udX0;

1.1.1.1
date	2017.08.20.21.32.07;	author kettenis;	state Exp;
branches;
next	;
commitid	d80VLANv3AX8udX0;


desc
@@


1.3
log
@missing BDEP (32-bit arm-none-eabi-gcc-linaro required), and don't hide
compiler invocation.
@
text
@#	$OpenBSD: Makefile,v 1.2 2017/08/21 05:56:13 jasper Exp $

PKG_ARCH=		*

COMMENT=	ARM Trusted Firmware

GH_ACCOUNT=	ARM-software
GH_PROJECT=	arm-trusted-firmware
GH_TAGNAME=	v1.4
REVISION=	0

CATEGORIES=	sysutils

# BSD
PERMIT_PACKAGE_CDROM=	Yes

BUILD_DEPENDS+= devel/arm-none-eabi/gcc-linaro,aarch64
BUILD_DEPENDS+= devel/arm-none-eabi/gcc-linaro,arm

MAKE_ENV+= CROSS_COMPILE="aarch64-none-elf-"
MAKE_ENV+= BUILD_STRING="${GH_TAGNAME:S/v//}"

MAKE_FLAGS+= V=1

NO_TEST=	Yes
USE_GMAKE=	Yes

do-build:
	cd ${WRKSRC} && \
	    ${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} ${MAKE_FLAGS} \
	        -f ${MAKE_FILE} PLAT=rk3399 DEBUG=1 bl31

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/arm-trusted-firmware/
	${INSTALL_DATA} ${WRKBUILD}/build/rk3399/debug/bl31/bl31.elf \
	    ${PREFIX}/share/arm-trusted-firmware/rk3399-bl31.elf

.include <bsd.port.mk>
@


1.2
log
@- remove unneeded VERSION and PKGNAME
- spacing nits
@
text
@d1 1
a1 1
#	$OpenBSD: Makefile,v 1.1.1.1 2017/08/20 21:32:07 kettenis Exp $
d18 1
d22 2
@


1.1
log
@Initial revision
@
text
@d1 3
a3 1
#	$OpenBSD$
d6 1
d10 1
a10 1
VERSION=	1.4
a11 1
PKGNAME=	arm-trusted-firmware-${VERSION}
d17 1
a17 1
PKG_ARCH=		*
a18 1
BUILD_DEPENDS+= devel/arm-none-eabi/gcc-linaro,aarch64
d20 1
a20 1
MAKE_ENV+= BUILD_STRING="${VERSION}"
@


1.1.1.1
log
@Import ARM Trusted Firmware 1.4

ok jsg@@, patrick@@
@
text
@@
