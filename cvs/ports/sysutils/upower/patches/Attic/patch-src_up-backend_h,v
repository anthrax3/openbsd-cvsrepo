head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2013.10.18.16.43.51;	author landry;	state dead;
branches;
next	1.1;

1.1
date	2013.10.03.13.42.18;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Straightforward update to upower 0.9.23, mostly integrating our patches
before giving us the middle finger with the next release relying on
logind for hibernate/suspend code, thus deliberately breaking perfectly
working portable code, see
http://lists.freedesktop.org/archives/devkit-devel/2013-October/001519.html
@
text
@$OpenBSD: patch-src_up-backend_h,v 1.1 2013/10/03 13:42:18 landry Exp $
#include config.h to reach ENABLE_DEPRECATED #define
https://bugs.freedesktop.org/show_bug.cgi?id=70071
--- src/up-backend.h.orig	Thu Oct  3 13:53:54 2013
+++ src/up-backend.h	Thu Oct  3 13:54:00 2013
@@@@ -24,6 +24,8 @@@@
 
 #include <glib-object.h>
 
+#include "config.h"
+
 #include "up-types.h"
 #include "up-device.h"
 #include "up-daemon.h"
@


1.1
log
@Assorted fixes on top of jasper's:

- use --enable-deprecated instead of passing -DENABLE_DEPRECATED via the
  configure env, and add a comment explaining that it is about
deprecated featureset (the linux implem now uses logind APIs for
suspend/hibernate calls), nothing related to the G*DEPRECATED macros.
From ajacoutot@@, also prodded by giovanni@@ a while ago.
- backport upstream 7933b0e55234fca86809dad1dee53f0d8e2b96ec,
  g_type_init() is deprecated with glib 2.36.
- use g_thread_try_new instead of deprecated g_thread_create (prodded by
  ajacoutot@@ too)
- include config.h in up-backend.h to reach ENABLE_DEPRECATED #define
The two last patches reported upstream in bug #70071
@
text
@d1 1
a1 1
$OpenBSD$
@

