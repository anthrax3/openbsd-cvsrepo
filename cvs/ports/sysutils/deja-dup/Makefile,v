head	1.36;
access;
symbols
	OPENBSD_6_1:1.36.0.2
	OPENBSD_6_1_BASE:1.36
	OPENBSD_6_0:1.35.0.2
	OPENBSD_6_0_BASE:1.35
	OPENBSD_5_9:1.34.0.2
	OPENBSD_5_9_BASE:1.34
	OPENBSD_5_8:1.33.0.4
	OPENBSD_5_8_BASE:1.33
	OPENBSD_5_7:1.29.0.2
	OPENBSD_5_7_BASE:1.29
	OPENBSD_5_6:1.27.0.2
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.20.0.2
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.19.0.2
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.15.0.2
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.10.0.2
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	ajacoutot_201124:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.36
date	2017.01.05.08.41.58;	author ajacoutot;	state Exp;
branches;
next	1.35;
commitid	lxXnjTSX5OBXDhnI;

1.35
date	2016.03.20.16.12.26;	author naddy;	state Exp;
branches;
next	1.34;
commitid	guiZq8cnNbVyyHzx;

1.34
date	2016.01.17.09.48.59;	author ajacoutot;	state Exp;
branches;
next	1.33;
commitid	ZuPwt2WHVcQaxiFr;

1.33
date	2015.06.03.17.34.49;	author ajacoutot;	state Exp;
branches;
next	1.32;
commitid	5H1aumINNHrFfH4z;

1.32
date	2015.04.04.12.56.37;	author ajacoutot;	state Exp;
branches;
next	1.31;
commitid	zttwJZ5DcRcUCVYF;

1.31
date	2015.04.04.09.21.04;	author ajacoutot;	state Exp;
branches;
next	1.30;
commitid	kS3kwKZogsvzYmEY;

1.30
date	2015.03.27.08.14.14;	author ajacoutot;	state Exp;
branches;
next	1.29;
commitid	ERm8DOTUF1j7394B;

1.29
date	2015.01.04.16.16.53;	author matthieu;	state Exp;
branches;
next	1.28;
commitid	qaOhQeVO0Ju0Pkcf;

1.28
date	2014.10.08.08.23.24;	author ajacoutot;	state Exp;
branches;
next	1.27;
commitid	6QLvvYeUhWqMk5oi;

1.27
date	2014.04.11.09.17.35;	author giovanni;	state Exp;
branches;
next	1.26;

1.26
date	2014.04.03.09.05.47;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2014.04.02.09.36.12;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2014.04.01.18.06.30;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2014.04.01.17.03.14;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2014.04.01.13.21.45;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2014.03.24.10.31.53;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2013.11.17.09.48.27;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2013.05.31.15.34.55;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2013.03.30.19.11.06;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.19.09.21.22;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.11.11.41.29;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2013.01.21.08.23.30;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2012.09.27.07.35.56;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2012.09.01.14.36.58;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2012.08.30.08.00.12;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2012.08.29.14.10.18;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2012.06.15.08.32.17;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2012.04.24.07.59.26;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2012.04.01.09.59.32;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2012.03.23.11.38.05;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2012.02.16.22.25.19;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2011.12.03.23.04.37;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2011.11.21.18.14.24;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.10.18.09.45.42;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.09.27.11.45.00;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.09.24.12.21.02;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.09.24.12.21.02;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.36
log
@Update to deja-dup-34.3.
@
text
@# $OpenBSD: Makefile,v 1.35 2016/03/20 16:12:26 naddy Exp $

COMMENT=		simple encrypted backup tool for GNOME

GNOME_VERSION=		34.3
GNOME_PROJECT=		deja-dup

CATEGORIES=		sysutils

HOMEPAGE=		https://launchpad.net/deja-dup

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# GPLv3
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += atk-1.0 c cairo cairo-gobject gdk-3 gdk_pixbuf-2.0
WANTLIB += gio-2.0 girepository-1.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gtk-3 intl nautilus-extension notify pango-1.0 pangocairo-1.0
WANTLIB += peas-1.0 pthread secret-1

MASTER_SITES=		https://launchpad.net/deja-dup/${GNOME_VERSION:C/^([0-9]+).*/\1/}/${GNOME_VERSION}/+download/

MODULES=		devel/cmake \
			devel/dconf \
			lang/python \
			x11/gnome

MODGNOME_TOOLS=		desktop-file-utils gtk-update-icon-cache vala yelp

RUN_DEPENDS=		sysutils/duplicity

LIB_DEPENDS=		devel/libpeas \
			devel/libnotify \
			x11/gnome/nautilus

CONFIGURE_ARGS=		-DENABLE_UNITY:BOOL=OFF \
			-DENABLE_UNITY_CCPANEL:BOOL=OFF

FAKE_FLAGS=		sysconfdir=${PREFIX}/share/examples/deja-dup

pre-configure:
	${SUBST_CMD} ${WRKSRC}/libdeja/PythonChecker.vala

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples
	mv ${PREFIX}/etc ${PREFIX}/share/examples/deja-dup

.include <bsd.port.mk>
@


1.35
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2016/01/17 09:48:59 ajacoutot Exp $
d5 1
a5 1
GNOME_VERSION=		34.1
d19 1
a19 1
WANTLIB += gtk-3 nautilus-extension notify pango-1.0 pangocairo-1.0
a25 1
			devel/gettext \
@


1.34
log
@Update to deja-dup-34.1.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.33 2015/06/03 17:34:49 ajacoutot Exp $

SHARED_ONLY=		Yes
@


1.33
log
@Update to deja-dup-34.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/04/04 12:56:37 ajacoutot Exp $
d3 1
a3 1
SHARED_ONLY=	Yes
d5 1
a5 1
COMMENT=	simple encrypted backup tool for GNOME
d7 2
a8 2
GNOME_VERSION=	34.0
GNOME_PROJECT=	deja-dup
d10 1
a10 1
CATEGORIES=	sysutils
d12 1
a12 1
HOMEPAGE=	https://launchpad.net/deja-dup
d14 1
a14 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
d19 4
a22 5
WANTLIB += atk-1.0 c cairo cairo-gobject fontconfig freetype gdk-3
WANTLIB += gdk_pixbuf-2.0 gio-2.0 girepository-1.0 glib-2.0 gmodule-2.0
WANTLIB += gobject-2.0 gtk-3 m nautilus-extension notify pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 peas-1.0 pthread secret-1
WANTLIB += z
d24 1
a24 1
MASTER_SITES=	https://launchpad.net/deja-dup/${GNOME_VERSION:C/^([0-9]+).*/\1/}/${GNOME_VERSION}/+download/
d26 5
a30 5
MODULES=	devel/cmake \
		devel/dconf \
		devel/gettext \
		lang/python \
		x11/gnome
d32 1
a32 1
MODGNOME_TOOLS += desktop-file-utils gtk-update-icon-cache vala yelp
d34 1
a34 1
RUN_DEPENDS=	sysutils/duplicity
d36 3
a38 3
LIB_DEPENDS=	devel/libpeas \
		devel/libnotify \
		x11/gnome/nautilus
d40 2
a41 2
CONFIGURE_ARGS=	-DENABLE_UNITY:BOOL=OFF \
		-DENABLE_UNITY_CCPANEL:BOOL=OFF
d43 1
a43 4
# XXX does not build with new gnome-control-center
CONFIGURE_ARGS +=	-DENABLE_CCPANEL:BOOL=OFF

FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples/deja-dup
@


1.32
log
@Missing LIB_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/04/04 09:21:04 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	32.0
a8 1
REVISION=	3
d10 1
a10 1
CATEGORIES=	sysutils x11/gnome
@


1.31
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/03/27 08:14:14 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
d39 1
@


1.30
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/01/04 16:16:53 matthieu Exp $
d9 1
a9 1
REVISION=	1
@


1.29
log
@Add patch from Adrien Bak to handle newer duplicity --version format.
ok ajacoutot@@, brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/10/08 08:23:24 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.28
log
@Update to deja-dup-32.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/04/11 09:17:35 giovanni Exp $
d9 1
@


1.27
log
@
unbreak
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2014/04/03 09:05:47 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	30.0
a8 1
REVISION=	0
@


1.26
log
@Update to deja-dup-30.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/04/02 09:36:12 jasper Exp $
d9 1
d49 3
d53 1
a53 1
	${INSTALL_DATA_DIR} /share/examples
@


1.25
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/04/01 18:06:30 jasper Exp $
d7 1
a7 1
GNOME_VERSION=	28.0
a8 1
REVISION=	0
d19 5
a23 9
WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB += Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi
WANTLIB += c cairo cairo-gobject dbus-1 expat ffi fontconfig freetype
WANTLIB += gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0
WANTLIB += glib-2.0 gmodule-2.0 secret-1 gobject-2.0 gpg-error
WANTLIB += graphite2 gthread-2.0 gtk-3 harfbuzz
WANTLIB += m nautilus-extension notify pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre peas-1.0 pixman-1 png pthread pthread-stubs
WANTLIB += xcb xcb-render xcb-shm z
d27 2
a28 1
MODULES=	devel/dconf \
d40 2
a41 3
CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--with-nautilus \
		--without-unity
d44 1
a44 1
CONFIGURE_ARGS += --without-ccpanel
a47 7
# XXX push a proper fix upstream
BUILD_DEPENDS += textproc/gsed
pre-configure:
	perl -pi -e 's,sed -i,gsed -i,g' \
		${WRKSRC}/data/Makefile.in
	${SUBST_CMD} ${WRKSRC}/deja-dup/widgets/WidgetUtils.vala

d49 2
a50 3
	rm ${PREFIX}/lib/deja-dup/*.{a,la}
	rm ${PREFIX}/lib/nautilus/extensions-3.0/*.{a,la}
	rm ${PREFIX}/libexec/deja-dup/tools/*.{a,la}
@


1.24
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/04/01 17:03:14 jasper Exp $
d37 1
a37 1
MODGNOME_TOOLS += vala yelp  desktop-file-utils  gtk-update-icon-cache
@


1.23
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/04/01 13:21:45 ajacoutot Exp $
d37 1
a37 3
MODGNOME_TOOLS=	vala yelp
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS +=	gtk-update-icon-cache
@


1.22
log
@In x11/gnome ports we use disable-static inconsistently, usually to get
rid of static module archives; but since we end up manually removing the
libtool la files anyway, just don't bother setting up the tag.
part 2/2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/03/24 10:31:53 ajacoutot Exp $
d38 2
a39 2
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
@


1.21
log
@Update to deja-dup-28.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/11/17 09:48:27 ajacoutot Exp $
d9 1
a40 2
LIBTOOL_FLAGS=	--tag=disable-static

d47 1
a47 2
CONFIGURE_ARGS=	--disable-static \
		--with-nautilus \
d63 3
a65 2
	rm ${PREFIX}/lib/deja-dup/*.la
	rm ${PREFIX}/lib/nautilus/extensions-3.0/*.la
@


1.20
log
@Fix build with vala >=0.22.1 (reported by naddy@@).
Regen PLIST while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/05/31 15:34:55 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	26.0
a8 1
REVISION=	1
d62 5
a66 1
	${SUBST_CMD} ${WRKSRC}/common/PythonChecker.vala
@


1.19
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/03/30 19:11:06 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
@


1.18
log
@Update to deja-dup-26.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/19 09:21:22 ajacoutot Exp $
d9 1
d25 2
a26 2
WANTLIB += graphite2 gthread-2.0 gtk-3 harfbuzz icudata icule
WANTLIB += icuuc m nautilus-extension notify pango-1.0 pangocairo-1.0
@


1.17
log
@Sync the tmp patch with Fedora.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/11 11:41:29 espie Exp $
d7 1
a7 1
GNOME_VERSION=	24.0
a8 1
REVISION=	1
d23 1
a23 1
WANTLIB += glib-2.0 gmodule-2.0 gnome-keyring gobject-2.0 gpg-error
d36 1
a36 1
MODGNOME_TOOLS=	yelp
a41 2
BUILD_DEPENDS=	lang/vala

d57 2
d60 2
@


1.16
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/01/21 08:23:30 ajacoutot Exp $
d9 1
a9 1
REVISION=	0
d20 4
a23 4
WANTLIB += GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0
WANTLIB += atspi c cairo cairo-gobject dbus-1 expat ffi fontconfig
WANTLIB += freetype gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0
d25 4
a28 4
WANTLIB += gthread-2.0 gtk-3 harfbuzz icudata icule icuuc m nautilus-extension
WANTLIB += notify pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre peas-1.0
WANTLIB += pixman-1 png pthread pthread-stubs xcb xcb-render xcb-shm
WANTLIB += z
@


1.15
log
@Specificy a tempdir for duplicity on the same partition as the source
files. This allows deja-dup to proceed by back-ups without filling up
/tmp -- from RH Bugzilla.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/09/27 07:35:56 ajacoutot Exp $
a18 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.14
log
@Update to deja-dup-24.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2012/09/01 14:36:58 ajacoutot Exp $
d9 1
d23 4
a26 4
WANTLIB += GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo
WANTLIB += cairo-gobject dbus-1 drm expat ffi fontconfig freetype
WANTLIB += gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 girepository-1.0
d28 4
a31 5
WANTLIB += gthread-2.0 gtk-3 m nautilus-extension notify pango-1.0
WANTLIB += pangocairo-1.0 pangoft2-1.0 pcre peas-1.0 pixman-1
WANTLIB += png pthread pthread-stubs stdc++ xcb xcb-render xcb-shm
WANTLIB += ICE SM atk-bridge-2.0 atspi harfbuzz icudata icule
WANTLIB += z icuuc
d37 2
a38 2
		x11/gnome \
		lang/python
d46 1
a46 1
BUILD_DEPENDS=	lang/vala>=0.17.5
d48 1
a48 1
RUN_DEPENDS=	sysutils/duplicity>=0.6.15
@


1.13
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/08/30 08:00:12 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	23.90
a8 1
REVISION=	0
d30 2
a31 1
WANTLIB += z
d33 1
a33 3
# XXX devel release
#MASTER_SITES=	https://launchpad.net/deja-dup/${GNOME_VERSION:C/^([0-9]+).*/\1/}/${GNOME_VERSION}/+download/
MASTER_SITES=	https://launchpad.net/deja-dup/24/23.90/+download/
@


1.12
log
@Unbreak by updating to deja-dup-23.90.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/08/29 14:10:18 jasper Exp $
d9 1
@


1.11
log
@mark these as BROKEN as they fail with the new vala

they'll be dealt with later by landry@@ and aja@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.10 2012/06/15 08:32:17 ajacoutot Exp $

BROKEN=		needs fixing for vala 0.18
d7 1
a7 1
GNOME_VERSION=	22.1
a8 1
REVISION=	0
d25 10
a34 7
WANTLIB += gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0
WANTLIB += gnome-keyring gobject-2.0 gpg-error gthread-2.0 gtk-3
WANTLIB += m nautilus-extension notify pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs
WANTLIB += xcb xcb-render xcb-shm z stdc++

MASTER_SITES=	https://launchpad.net/deja-dup/${GNOME_VERSION:C/^([0-9]+).*/\1/}/${GNOME_VERSION}/+download/
d41 1
a41 1
MODGNOME_TOOLS=	vala yelp
d47 2
d51 2
a52 1
LIB_DEPENDS=	x11/gnome/nautilus
@


1.10
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.9 2012/04/24 07:59:26 ajacoutot Exp $
@


1.9
log
@Update to deja-dup-22.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2012/04/01 09:59:32 ajacoutot Exp $
d9 1
@


1.8
log
@Missing build depends on vala.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/03/23 11:38:05 ajacoutot Exp $
d7 1
a7 1
GNOME_VERSION=	22.0
@


1.7
log
@Update to deja-dup-22.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/02/16 22:25:19 ajacoutot Exp $
d38 1
a38 1
MODGNOME_TOOLS=	yelp
@


1.6
log
@Properly install help files where they belong so that yelp can find them.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/12/03 23:04:37 ajacoutot Exp $
d7 2
a8 5
V=		20.2
DISTNAME=	deja-dup-${V}
EXTRACT_SUFX=	.tar.bz2

REVISION=	1
d31 1
a31 1
MASTER_SITES=	http://launchpad.net/deja-dup/20/${V}/+download/
d59 1
a59 1
	${SUBST_CMD} ${WRKSRC}/common/PythonChecker.c
@


1.5
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/11/21 18:14:24 ajacoutot Exp $
d11 1
a11 1
REVISION=	0
a62 4

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/gnome/help
	mv ${PREFIX}/share/help ${PREFIX}/share/gnome/help/deja-dup
@


1.4
log
@Bugfix update to deja-dup-20.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/10/18 09:45:42 ajacoutot Exp $
d11 2
d43 1
@


1.3
log
@Bugfix update to deja-dup-20.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/09/27 11:45:00 ajacoutot Exp $
d7 1
a7 1
V=		20.1
d30 1
a30 1
WANTLIB += xcb xcb-render xcb-shm z
@


1.2
log
@Update to deja-dup-20.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/09/24 12:21:02 ajacoutot Exp $
d7 1
a7 1
V=		20.0
d28 1
a28 1
WANTLIB += kvm m nautilus-extension notify pango-1.0 pangocairo-1.0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
V=		19.92
d23 8
a30 8
WANTLIB += GL ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB += Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0
WANTLIB += c cairo cairo-gobject dbus-1 drm expat ffi fontconfig
WANTLIB += freetype gconf-2 gcrypt gdk-3 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gnome-control-center gnome-keyring
WANTLIB += gobject-2.0 gpg-error gthread-2.0 gtk-3 kvm m nautilus-extension
WANTLIB += notify pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1
WANTLIB += png pthread pthread-stubs xcb xcb-render xcb-shm z
a43 1
BUILD_DEPENDS=	textproc/itstool
d46 1
a46 2
LIB_DEPENDS=	x11/gnome/controlcenter \
		x11/gnome/nautilus
a49 1
		--with-ccpanel \
d52 3
@


1.1.1.1
log
@Import deja-dup-19.92.

Deja Dup is a simple backup tool. It hides the complexity of backing up
the Right Way (encrypted, off-site, and regular) and uses duplicity as
the backend.
<...>

ok jasper@@
@
text
@@
