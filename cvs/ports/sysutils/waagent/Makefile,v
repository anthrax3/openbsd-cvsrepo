head	1.1;
branch	1.1.1;
access;
symbols
	OPENBSD_6_2:1.1.1.1.0.2
	OPENBSD_6_2_BASE:1.1.1.1
	reyk_20170623:1.1.1.1
	reyk:1.1.1;
locks; strict;
comment	@# @;


1.1
date	2017.06.23.12.37.09;	author reyk;	state Exp;
branches
	1.1.1.1;
next	;
commitid	wNnT0Xd6AS00kfZp;

1.1.1.1
date	2017.06.23.12.37.09;	author reyk;	state Exp;
branches;
next	;
commitid	wNnT0Xd6AS00kfZp;


desc
@@



1.1
log
@Initial revision
@
text
@# $OpenBSD$

COMMENT=		Microsoft Azure Linux Agent

V=			2.2.13
GH_ACCOUNT=		Azure
GH_PROJECT=		WALinuxAgent
GH_TAGNAME=		v${V}
PKGNAME=		waagent-${V}

CATEGORIES=		sysutils

# Apache 2.0
PERMIT_PACKAGE_CDROM=	Yes

MODULES=		lang/python
MODPY_SETUPTOOLS=	Yes

MODPY_ADJ_FILES=	bin/waagent

# LibreSSL has removed CMS support
RUN_DEPENDS=		security/openssl

NO_TEST=		Yes

pre-configure:
	${SUBST_CMD} ${WRKSRC}/azurelinuxagent/common/osutil/openbsd.py

post-install:
	rm -f ${WRKINST}/${PREFIX}/lib/\
		python${MODPY_VERSION}/site-packages/__main__.{py,pyc}
	rm -f ${PREFIX}/sbin/waagent2.0
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/waagent
	mv ${WRKINST}/etc/waagent.conf \
		${PREFIX}/share/examples/waagent/waagent.conf

.include <bsd.port.mk>
@


1.1.1.1
log
@The Microsoft Azure Linux Agent (waagent) manages Linux & BSD
provisioning, and VM interaction with the Azure Fabric Controller.

OpenBSD is supported by upstream since version 2.2.13.

OK sthen@@
@
text
@@
