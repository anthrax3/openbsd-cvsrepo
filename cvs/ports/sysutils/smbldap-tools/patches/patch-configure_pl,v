head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.14
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.12
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.8
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.10
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.6
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.1.1.1.0.28
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.26
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.24
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.22
	OPENBSD_5_0:1.1.1.1.0.20
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.18
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.16
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.14
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.12
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.10
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.8
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.6
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.4
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	msf_20070129:1.1.1.1
	msf:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2013.11.01.08.11.41;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2013.11.01.07.11.14;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2013.10.29.15.16.56;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.29.08.32.50;	author msf;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.29.08.32.50;	author msf;	state Exp;
branches;
next	;


desc
@@


1.4
log
@#^@@~^@@@@#@@] rcsids, take 2.
@
text
@$OpenBSD: patch-configure_pl,v 1.3 2013/11/01 07:11:14 landry Exp $
--- configure.pl.orig	Tue Jan  3 11:57:41 2006
+++ configure.pl	Fri Nov  1 08:01:51 2013
@@@@ -49,7 +49,7 @@@@ Before starting, check
 print "-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n";
 
 # we first check if Samba is up and running
-my $test_smb=`pidof smbd`;
+my $test_smb=`pgrep -x smbd`;
 chomp($test_smb);
 die "\nSamba need to be started first !\n" if ($test_smb eq "" || not defined $test_smb);
 
@@@@ -57,8 +57,8 @@@@ print "Looking for configuration files...\n\n";
 my $smb_conf="";
 if (-e "/etc/samba/smb.conf") {
   $smb_conf="/etc/samba/smb.conf";
-} elsif (-e "/usr/local/samba/lib/smb.conf") {
-  $smb_conf="/usr/local/samba/lib/smb.conf";
+} elsif (-e "%%SYSCONFDIR%%/samba/smb.conf") {
+  $smb_conf="%%SYSCONFDIR%%/samba/smb.conf";
 }
 print "Samba Configuration File Path [$smb_conf] > ";
 chomp(my $config_smb=<STDIN>);
@@@@ -67,12 +67,12 @@@@ if ($config_smb ne "") {
 }
 
 my $conf_dir;
-if (-d "/etc/opt/IDEALX/smbldap-tools") {
+if (-d "%%SYSCONFDIR%%/smbldap-tools") {
 	$conf_dir="/etc/opt/IDEALX/smbldap-tools/";
 } elsif (-d "/etc/smbldap-tools") {
 	$conf_dir="/etc/smbldap-tools/";
 } else {
-	$conf_dir="/etc/opt/IDEALX/smbldap-tools/";
+	$conf_dir="%%SYSCONFDIR%%/smbldap-tools/";
 }
 
 print "\nThe default directory in which the smbldap configuration files are stored is shown.\n";
@@@@ -528,12 +528,12 @@@@ mailDomain=\"$mailDomain\"
 # Allows not to use smbpasswd (if with_smbpasswd == 0 in smbldap_conf.pm) but
 # prefer Crypt::SmbHash library
 with_smbpasswd=\"0\"
-smbpasswd=\"/usr/bin/smbpasswd\"
+smbpasswd=\"%%LOCALBASE%%/bin/smbpasswd\"
 
 # Allows not to use slappasswd (if with_slappasswd == 0 in smbldap_conf.pm)
 # but prefer Crypt:: libraries
 with_slappasswd=\"0\"
-slappasswd=\"/usr/sbin/slappasswd\"
+slappasswd=\"%%LOCALBASE%%/sbin/slappasswd\"
 
 # comment out the following line to get rid of the default banner
 # no_banner=\"1\"
@


1.3
log
@#@@]^#@@]~{\@@] rcsids..
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_pl,v 1.2 2013/10/29 15:16:56 landry Exp $
a38 11
@@@@ -312,8 +312,8 @@@@ my $mailDomain=read_entry(". default domain name to ap
 
 print "-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n";
 my $template_smbldap="
-# \$Source: /opt/cvs/samba/smbldap-tools/configure.pl,v $
-# \$Id: configure.pl,v 1.17 2005/07/05 09:05:16 jtournier Exp $
+# \$Source: /opt/cvs/samba/smbldap-tools/configure.pl,v \$
+# \$Id: configure.pl,v 1.17 2005/07/05 09:05:16 jtournier Exp \$
 #
 # smbldap-tools.conf : Q & D configuration file for smbldap-tools
 
@


1.2
log
@Escape a trailing $ in the RCSId line of the sample config string,
otherwise newer perls complain loudly with 'Global symbol "$SID"
requires explicit package name'. Fix dead HOMEPAGE while here.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_pl,v 1.1.1.1 2007/01/29 08:32:50 msf Exp $
d3 1
a3 1
+++ configure.pl	Tue Oct 29 16:14:28 2013
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- configure.pl.orig	Mon Jan 29 15:00:14 2007
+++ configure.pl	Mon Jan 29 15:02:36 2007
d13 1
a13 1
@@@@ -57,8 +57,8 @@@@ print "Looking for configuration files..
d39 11
@


1.1.1.1
log
@initial import of smbldap-tools 0.9.2a

A collection of system tools to manipulate users and groups stored in an
LDAP directory, specifically to be used with SAMBA-LDAP.

Additionally, some scripts are designed to ease your migration from a
Windows NT 4.0 PDC Server to a Samba-LDAP PDC Server.

ok mbalmer@@
@
text
@@
