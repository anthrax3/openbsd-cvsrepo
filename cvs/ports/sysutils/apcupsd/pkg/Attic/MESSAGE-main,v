head	1.6;
access;
symbols
	OPENBSD_5_4:1.5.0.8
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.6
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.4
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	OPENBSD_5_0:1.3.0.6
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.4
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	sthen_20100525:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2014.01.08.20.46.18;	author kirby;	state dead;
branches;
next	1.5;

1.5
date	2011.11.28.10.46.19;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2011.08.30.09.59.30;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2010.06.17.18.43.43;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2010.05.27.10.21.39;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2010.05.25.21.56.33;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.05.25.21.56.33;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.6
log
@ - split -main and -cgi packages (move apropriate configs to -cgi package)
 - switch from MESSAGEs to READMEs
 - update my e-mail
 - regen distinfo while here
with the input from espie@@ and sthen@@
OK sthen@@
@
text
@To allow the system to be fully powered down (in order to preserve
UPS battery), add the following lines to /etc/rc.shutdown:

if [ -f ${SYSCONFDIR}/powerfail ]; then
  echo
  echo "APCUPSD requested this system is powered down."
  echo
  powerdown=YES
  echo
  echo "Please ensure that the UPS has powered off before rebooting"
  echo "Otherwise, the UPS may cut the power during the reboot!!!"
  echo
fi
@


1.5
log
@Better SYSCONFDIR handling (remove the CONFIGURE_STYLE=...old hack) now that
we have BASESYSCONFDIR. Maintainer timeout.
@
text
@@


1.4
log
@update apcupsd to 3.4.19, switch from net-snmp support to internal snmp
support (removing the separate snmp flavour), and add an rc file.

from maintainer Kirill Bychkov; wantlib-x11 synced by me.
@
text
@d4 1
a4 1
if [ -f ${SYSCONFDIR}/apcupsd/powerfail ]; then
@


1.3
log
@add a missing space in MESSAGE-main's sample rc.local fragment; Kirill Bychkov
@
text
@a0 7
To start apcupsd at boot time, edit ${SYSCONFDIR}/apcupsd/apcupsd.conf
and add the following lines to /etc/rc.local:

if [ -x ${PREFIX}/sbin/apcupsd ]; then
	echo -n ' apcupsd';       ${PREFIX}/sbin/apcupsctl start
fi

@


1.2
log
@Various small fixes suggested by aja@@
@
text
@d4 1
a4 1
if [ -x ${PREFIX}/sbin/apcupsd]; then
@


1.1
log
@Initial revision
@
text
@d2 1
a2 1
and add the following lines to ${SYSCONFDIR}/rc.local:
d9 1
a9 1
UPS battery), add the following lines to ${SYSCONFDIR}/rc.shutdown:
@


1.1.1.1
log
@Import ports/sysutils/apcupsd, a daemon for monitoring APC UPSes.
We already have sysutils/apc-upsd which hasn't been maintained upstream
in >10 years, which I intend to rm unless there are objections.

From maintainer Kirill Bychkov with various input from myself.

Apcupsd can be used for power mangement and controlling most of APC's
UPS models. Apcupsd works with most of APC's Smart-UPS models as well as
most simple signalling models such a Back-UPS, and BackUPS-Office.
During a power failure, apcupsd will inform the users about the power
failure and that a shutdown may occur. If power is not restored, a
system shutdown will follow when the battery is exhausted, a timeout
(seconds) expires, or runtime expires based on internal APC calculations
determined by power consumption rates.
@
text
@@
