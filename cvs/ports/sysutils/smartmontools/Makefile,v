head	1.32;
access;
symbols
	OPENBSD_6_1:1.28.0.4
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.28.0.2
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.27.0.2
	OPENBSD_5_9_BASE:1.27
	OPENBSD_5_8:1.26.0.4
	OPENBSD_5_8_BASE:1.26
	OPENBSD_5_7:1.25.0.2
	OPENBSD_5_7_BASE:1.25
	OPENBSD_5_6:1.24.0.2
	OPENBSD_5_6_BASE:1.24
	OPENBSD_5_5:1.23.0.4
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.21.0.2
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.19.0.2
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.2
	OPENBSD_5_0:1.16.0.2
	OPENBSD_5_0_BASE:1.16
	OPENBSD_4_9:1.15.0.2
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.9.0.2
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.8.0.2
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.7.0.2
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.6.0.4
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.2
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.2.0.8
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.6
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.1.1.1.0.4
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	kurt_20050307:1.1.1.1
	kurt:1.1.1;
locks; strict;
comment	@# @;


1.32
date	2017.07.23.09.26.29;	author espie;	state Exp;
branches;
next	1.31;
commitid	FZPR2Emws5uDqXzb;

1.31
date	2017.07.16.19.19.02;	author espie;	state Exp;
branches;
next	1.30;
commitid	tt0GhWK5c4uf9ILG;

1.30
date	2017.04.21.17.08.01;	author giovanni;	state Exp;
branches;
next	1.29;
commitid	HNgcxewgMG1zUaoV;

1.29
date	2017.04.10.11.46.34;	author sthen;	state Exp;
branches;
next	1.28;
commitid	HY6VNZxjJWzKQFDV;

1.28
date	2016.07.01.16.48.04;	author giovanni;	state Exp;
branches;
next	1.27;
commitid	mEM67ZuCOUNvwLSa;

1.27
date	2015.09.22.22.21.10;	author giovanni;	state Exp;
branches;
next	1.26;
commitid	TOqjRiRo2scvckwc;

1.26
date	2015.05.18.17.17.40;	author giovanni;	state Exp;
branches;
next	1.25;
commitid	3NAGYLcI2mtR7yZS;

1.25
date	2015.02.16.22.57.13;	author naddy;	state Exp;
branches;
next	1.24;
commitid	0dx3c9ckf7dE4tx1;

1.24
date	2014.07.12.09.48.57;	author giovanni;	state Exp;
branches;
next	1.23;
commitid	ckGiAEqDspiO09N7;

1.23
date	2013.03.22.17.55.42;	author giovanni;	state Exp;
branches;
next	1.22;

1.22
date	2013.03.11.11.41.32;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2012.11.29.14.07.22;	author giovanni;	state Exp;
branches;
next	1.20;

1.20
date	2012.10.15.14.55.43;	author sthen;	state Exp;
branches;
next	1.19;

1.19
date	2012.07.08.15.13.22;	author giovanni;	state Exp;
branches;
next	1.18;

1.18
date	2012.03.29.13.39.00;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2011.11.10.18.41.22;	author giovanni;	state Exp;
branches;
next	1.16;

1.16
date	2011.06.21.08.48.34;	author giovanni;	state Exp;
branches;
next	1.15;

1.15
date	2010.12.27.14.50.23;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2010.12.24.10.40.06;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.23.18.53.46;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.23.18.21.45;	author giovanni;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.20.17.22.42;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.10.19.07.43.02;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.03.22.10.39.57;	author giovanni;	state Exp;
branches;
next	1.8;

1.8
date	2010.01.11.15.15.28;	author giovanni;	state Exp;
branches;
next	1.7;

1.7
date	2009.05.17.09.09.23;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2008.04.08.19.48.16;	author okan;	state Exp;
branches;
next	1.5;

1.5
date	2007.11.20.21.24.28;	author okan;	state Exp;
branches;
next	1.4;

1.4
date	2007.11.09.13.35.37;	author pyr;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.15.21.14.02;	author merdely;	state Exp;
branches;
next	1.2;

1.2
date	2006.01.16.01.05.27;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.08.01.47.26;	author kurt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.03.08.01.47.26;	author kurt;	state Exp;
branches;
next	;


desc
@@


1.32
log
@add pthread to COMPILER_LIBCXX.
white lie, but it allows clang and gcc to be more similar
bump accordingly.
@
text
@# $OpenBSD: Makefile,v 1.31 2017/07/16 19:19:02 espie Exp $

ONLY_FOR_ARCHS=		amd64 i386 powerpc

COMMENT=		control and monitor storage systems using SMART

DISTNAME=		smartmontools-6.5
REVISION =		1
CATEGORIES=		sysutils

HOMEPAGE=		https://www.smartmontools.org/
MAINTAINER=		Giovanni Bechis <giovanni@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c m ${COMPILER_LIBCXX} util
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=smartmontools/}

SEPARATE_BUILD=		Yes
USE_GMAKE=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--docdir=${PREFIX}/share/doc/smartmontools \
			--with-exampledir=${PREFIX}/share/examples/smartmontools \
			--with-libcap-ng=no \
			--without-drivedbdir
.include <bsd.port.mk>
@


1.31
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2017/04/21 17:08:01 giovanni Exp $
d8 1
a8 1
REVISION=		0
@


1.30
log
@spring cleanup, no functional change
bump just to be sure
spotted and ok Rafael Sadowski
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2017/04/10 11:46:34 sthen Exp $
d17 1
a17 1
WANTLIB=		c m ${LIBCXX} util
@


1.29
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/07/01 16:48:04 giovanni Exp $
d8 1
d11 7
a18 1
HOMEPAGE=		http://smartmontools.sourceforge.net/
a19 3
MAINTAINER=		Giovanni Bechis <giovanni@@openbsd.org>

USE_GMAKE=      	Yes
d21 2
a22 1
CONFIGURE_STYLE=       	gnu
a26 5

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes
WANTLIB=		c m ${LIBCXX} util

@


1.28
log
@Update to 6.5
added support for more drives and bug fixing
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2015/09/22 22:21:10 giovanni Exp $
d25 1
a25 1
WANTLIB=		c m stdc++ util
@


1.27
log
@Update to 6.4
from Brian Conway with a tweak by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2015/05/18 17:17:40 giovanni Exp $
d7 1
a7 1
DISTNAME=		smartmontools-6.4
d18 1
a18 1
CONFIGURE_ARGS=	--with-docdir=${PREFIX}/share/doc/smartmontools \
@


1.26
log
@Update to 6.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/02/16 22:57:13 naddy Exp $
d7 1
a7 1
DISTNAME=		smartmontools-6.3
d21 1
a21 1
			--disable-drivedb
@


1.25
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/07/12 09:48:57 giovanni Exp $
d7 1
a7 1
DISTNAME=		smartmontools-6.2
@


1.24
log
@
Bugfix update to 6.2
disks database has been updated and more disks are now correctly
detected
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/22 17:55:42 giovanni Exp $
a15 1
USE_GROFF =		Yes
@


1.23
log
@
Bugfix update to 6.1
move examples where they belong
macppc test by Jan Stary, thanks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/03/11 11:41:32 espie Exp $
d7 1
a7 1
DISTNAME=		smartmontools-6.1
@


1.22
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/11/29 14:07:22 giovanni Exp $
d7 1
a7 1
DISTNAME=		smartmontools-6.0
d19 2
a20 1
CONFIGURE_ARGS=		--with-docdir=${PREFIX}/share/doc/smartmontools \
@


1.21
log
@
Update to 6.0
test on powerpc and ok sthen@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2012/10/15 14:55:43 sthen Exp $
a24 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.20
log
@zap some trailing whitespace mostly on HOMEPAGE lines
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/07/08 15:13:22 giovanni Exp $
d7 1
a7 1
DISTNAME=		smartmontools-5.43
@


1.19
log
@
Update to 5.43
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/03/29 13:39:00 sthen Exp $
d10 2
a11 2
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=smartmontools/}	
HOMEPAGE=		http://smartmontools.sourceforge.net/ 
d13 1
a13 1
MAINTAINER=		Giovanni Bechis <giovanni@@openbsd.org>	
d18 1
a18 1
CONFIGURE_STYLE=       	gnu 
@


1.18
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/11/10 18:41:22 giovanni Exp $
d7 1
a7 1
DISTNAME=		smartmontools-5.42
@


1.17
log
@
Bugfix update to version 5.42
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/06/21 08:48:34 giovanni Exp $
d17 1
a17 1
SEPARATE_BUILD=		concurrent
@


1.16
log
@
Update to 5.41, initial diff by robert at openbsd dot pap dot st
with tweaks by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/12/27 14:50:23 ajacoutot Exp $
d7 1
a7 1
DISTNAME=		smartmontools-5.41
@


1.15
log
@Simplify after recent rc.subr change.
The framework is now stable and we will start documenting it (at last).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/12/24 10:40:06 ajacoutot Exp $
d7 1
a7 1
DISTNAME=		smartmontools-5.40
a8 2

REVISION=		2
@


1.14
log
@Cope with recent rc.subr changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/23 18:53:46 ajacoutot Exp $
d10 1
a10 1
REVISION=		1
@


1.13
log
@pexp is useless here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/23 18:21:45 giovanni Exp $
d10 1
a10 1
REVISION=		0
@


1.12
log
@
Update to 5.40, add rcscript and a patch to correctly handle hw.disknames
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/20 17:22:42 espie Exp $
d9 2
@


1.11
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/10/19 07:43:02 espie Exp $
a2 1
# conservative setting. macppc found to have some issues.
d7 1
a7 1
DISTNAME=		smartmontools-5.39.1
d19 3
a21 1
CONFIGURE_ARGS=		--with-docdir=${PREFIX}/share/doc/smartmontools
d24 5
a28 5
PERMIT_PACKAGE_CDROM=   Yes
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
WANTLIB=                c m stdc++ util
@


1.10
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/03/22 10:39:57 giovanni Exp $
d17 1
a17 1
USE_GROFF =	Yes
@


1.9
log
@
Bugfix update to 5.39.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/01/11 15:15:28 giovanni Exp $
d17 1
@


1.8
log
@
Update to 5.39, add powerpc to ONLY_FOR_ARCHS, fix license
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/05/17 09:09:23 sthen Exp $
d8 1
a8 1
DISTNAME=		smartmontools-5.39
@


1.7
log
@fix comment typo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/04/08 19:48:16 okan Exp $
d4 1
a4 1
ONLY_FOR_ARCHS=		amd64 i386
d8 1
a8 1
DISTNAME=		smartmontools-5.38
d14 1
a14 1
MAINTAINER=		Giovanni Bechis <g.bechis@@snb.it>	
d21 1
a21 1
# GPL
@


1.6
log
@update to 5.38

from Giovanni Bechis (new MAINTAINER), ok old MAINTAINER

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/11/20 21:24:28 okan Exp $
d3 1
a3 1
# consertive setting. macppc found to have some issues.
@


1.5
log
@- alter documentation destination.
- install sample smartd.conf.
- clean out empty patch.
- remove some less than useful files.

original diff from Giovanni Bechis < bigionews at snb.it > via ports@@.

ok ajacoutot@@ merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/11/09 13:35:37 pyr Exp $
d8 1
a8 2
DISTNAME=		smartmontools-5.37	
PKGNAME=		${DISTNAME}p0
d14 1
a14 1
MAINTAINER=		Romain GAILLEGUE <romain@@biscotte.net>	
@


1.4
log
@update to 5.37 from Romain Gaillegue <romain@@biscotte.net> (maintainer).
original submission by Giovanni Bechis <bigionews@@snb.it>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/09/15 21:14:02 merdely Exp $
d9 1
d20 1
@


1.3
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*/IGNORE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/01/16 01:05:27 brad Exp $
d8 1
a8 1
DISTNAME=		smartmontools-5.33	
d25 1
a25 1
WANTLIB=                c util
@


1.2
log
@enable this port on amd64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2005/03/08 01:47:26 kurt Exp $
d6 1
a6 1
COMMENT=		"control and monitor storage systems using SMART"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
a4 1
ONLY_FOR_ARCHS=		i386
@


1.1.1.1
log
@Import smarmontools 5.33

Controls and monitors storage systems using the Self-Monitoring, 
Analysis and Reporting Technology System (SMART) built into most
modern ATA and SCSI hard disks. In many cases, these utilities 
will provide advanced warning of disk degradation and failure.

For now i386 only (Some issues noticed on macppc)

Soekris users with internal hdd will like this port.

From Romain GAILLEGUE <romain@@biscotte.net>
@
text
@@
