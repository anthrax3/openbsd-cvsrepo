head	1.5;
access;
symbols
	OPENBSD_6_0:1.1.0.2
	OPENBSD_6_0_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2017.03.16.16.21.04;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	gdTTJ5bpcvr9x1rf;

1.4
date	2017.02.23.08.32.26;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	Wh15NNhhqljr9Vg0;

1.3
date	2016.09.01.09.06.41;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	MCho1Ehrl9V8ddDq;

1.2
date	2016.08.21.15.15.41;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	Tp0ZYYcimf6T1vSY;

1.1
date	2016.04.02.11.30.45;	author ajacoutot;	state Exp;
branches;
next	;
commitid	cwpQHePlQCWZhanZ;


desc
@@


1.5
log
@Update to google-cloud-sdk-147.0.0.
@
text
@$OpenBSD: patch-lib_googlecloudsdk_core_util_platforms_py,v 1.4 2017/02/23 08:32:26 ajacoutot Exp $
--- lib/googlecloudsdk/core/util/platforms.py.orig	Tue Jan  1 09:00:00 1980
+++ lib/googlecloudsdk/core/util/platforms.py	Thu Mar 16 17:06:27 2017
@@@@ -66,7 +66,8 @@@@ class OperatingSystem(object):
   LINUX = _OS('LINUX', 'Linux', 'linux')
   CYGWIN = _OS('CYGWIN', 'Cygwin', 'cygwin')
   MSYS = _OS('MSYS', 'Msys', 'msys')
-  _ALL = [WINDOWS, MACOSX, LINUX, CYGWIN, MSYS]
+  OPENBSD = _OS('OPENBSD', 'OpenBSD', 'openbsd')
+  _ALL = [WINDOWS, MACOSX, LINUX, CYGWIN, MSYS, OPENBSD]
 
   @@staticmethod
   def AllValues():
@@@@ -119,6 +120,8 @@@@ class OperatingSystem(object):
       return OperatingSystem.MACOSX
     elif 'cygwin' in sys.platform:
       return OperatingSystem.CYGWIN
+    elif 'openbsd' in sys.platform:
+      return OperatingSystem.OPENBSD
     # TODO(b/36035294): More reliable handling of OS types
     # TODO(b/36039277): What happens when we use jython, does it actually use
     # the 'java' os name?
@@@@ -146,7 +149,7 @@@@ class Architecture(object):
   ppc = _ARCH('PPC', 'PPC', 'ppc')
   arm = _ARCH('arm', 'arm', 'arm')
   _ALL = [x86, x86_64, ppc, arm]
-  _MACHINE_TO_ARCHITECTURE = {'AMD64': x86_64, 'x86_64': x86_64,
+  _MACHINE_TO_ARCHITECTURE = {'AMD64': x86_64, 'x86_64': x86_64, 'amd64': x86_64,
                               'i386': x86, 'i686': x86, 'x86': x86,
                               'Power Macintosh': ppc,
                               'arm6l': arm, 'arm64': arm, 'armv7': arm}
@@@@ -259,6 +262,9 @@@@ class Platform(object):
                      if self.architecture == Architecture.ppc else 'Intel')
       return format_string.format(
           name=arch_string, version=platform.release())
+    elif self.operating_system == OperatingSystem.OPENBSD:
+      return '({name} {version})'.format(
+          name=self.operating_system.name, version=platform.release())
     else:
       return '()'
 
@


1.4
log
@Update to google-cloud-sdk-145.0.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_googlecloudsdk_core_util_platforms_py,v 1.3 2016/09/01 09:06:41 ajacoutot Exp $
d3 1
a3 1
+++ lib/googlecloudsdk/core/util/platforms.py	Thu Feb 23 09:28:02 2017
d20 3
a22 3
     # TODO(user): More reliable handling of OS types
     # TODO(user): What happens when we use jython, does it actually use the
     # 'java' os name?
@


1.3
log
@Update to google-cloud-sdk-124.0.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_googlecloudsdk_core_util_platforms_py,v 1.2 2016/08/21 15:15:41 ajacoutot Exp $
d3 1
a3 1
+++ lib/googlecloudsdk/core/util/platforms.py	Thu Sep  1 10:28:34 2016
d23 1
a23 2
@@@@ -145,7 +148,7 @@@@ class Architecture(object):
   x86_64 = _ARCH('x86_64', 'x86_64', 'x86_64')
d25 2
a26 1
   _ALL = [x86, x86_64, ppc]
d30 3
a32 3
                               'Power Macintosh': ppc}
 
@@@@ -257,6 +260,9 @@@@ class Platform(object):
@


1.2
log
@Update to google-cloud-sdk-122.0.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_googlecloudsdk_core_util_platforms_py,v 1.1 2016/04/02 11:30:45 ajacoutot Exp $
d3 1
a3 1
+++ lib/googlecloudsdk/core/util/platforms.py	Sun Aug 21 17:09:38 2016
d23 1
a23 1
@@@@ -140,7 +143,7 @@@@ class Architecture(object):
d32 1
a32 1
@@@@ -252,6 +255,9 @@@@ class Platform(object):
@


1.1
log
@Fix 'gcloud info'.
@
text
@d1 4
a4 4
$OpenBSD$
--- lib/googlecloudsdk/core/util/platforms.py.orig	Sat Apr  2 13:26:36 2016
+++ lib/googlecloudsdk/core/util/platforms.py	Sat Apr  2 13:27:22 2016
@@@@ -65,7 +65,8 @@@@ class OperatingSystem(object):
d14 1
a14 1
@@@@ -118,6 +119,8 @@@@ class OperatingSystem(object):
d23 1
a23 1
@@@@ -139,7 +142,7 @@@@ class Architecture(object):
d32 1
a32 1
@@@@ -251,6 +254,9 @@@@ class Platform(object):
@

