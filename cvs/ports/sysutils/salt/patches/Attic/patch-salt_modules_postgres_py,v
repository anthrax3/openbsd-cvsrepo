head	1.4;
access;
symbols
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3;
locks; strict;
comment	@# @;


1.4
date	2015.05.07.09.15.55;	author ajacoutot;	state dead;
branches;
next	1.3;
commitid	SwUliQR8dTPaJwzy;

1.3
date	2015.01.07.09.57.40;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	ljrBzwpr23CjpR5G;

1.2
date	2014.09.02.17.18.55;	author ajacoutot;	state Exp;
branches;
next	1.1;
commitid	rpydUm4DHSmllnK2;

1.1
date	2014.09.02.08.41.43;	author ajacoutot;	state Exp;
branches;
next	;
commitid	RMQQzhNJIegi65mQ;


desc
@@


1.4
log
@Update to salt-2015.5.0.
@
text
@$OpenBSD: patch-salt_modules_postgres_py,v 1.3 2015/01/07 09:57:40 ajacoutot Exp $

https://github.com/saltstack/salt/commit/0342964b5b4978d771108ecbbf128b40632af089

--- salt/modules/postgres.py.orig	Mon Nov  3 20:38:21 2014
+++ salt/modules/postgres.py	Wed Jan  7 10:33:06 2015
@@@@ -83,6 +83,8 @@@@ def _run_psql(cmd, runas=None, password=None, host=Non
         if not host or host.startswith('/'):
             if 'FreeBSD' in __grains__['os_family']:
                 runas = 'pgsql'
+            if 'OpenBSD' in __grains__['os_family']:
+                runas = '_postgresql'
             else:
                 runas = 'postgres'
 
@


1.3
log
@Update to salt-2014.7.0.
@
text
@d1 1
a1 1
$OpenBSD: patch-salt_modules_postgres_py,v 1.2 2014/09/02 17:18:55 ajacoutot Exp $
@


1.2
log
@All patches have been committed upstream.
@
text
@d1 1
a1 1
$OpenBSD: patch-salt_modules_postgres_py,v 1.1 2014/09/02 08:41:43 ajacoutot Exp $
d5 3
a7 3
--- salt/modules/postgres.py.orig	Tue Sep  2 10:35:29 2014
+++ salt/modules/postgres.py	Tue Sep  2 10:35:54 2014
@@@@ -76,6 +76,8 @@@@ def _run_psql(cmd, runas=None, password=None, host=Non
@


1.1
log
@Fix the postgres module on OpenBSD.
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
https://github.com/saltstack/salt/pull/15426
@

