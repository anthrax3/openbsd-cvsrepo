head	1.34;
access;
symbols
	OPENBSD_6_2:1.34.0.4
	OPENBSD_6_2_BASE:1.34
	OPENBSD_6_1:1.34.0.2
	OPENBSD_6_1_BASE:1.34
	OPENBSD_6_0:1.33.0.2
	OPENBSD_6_0_BASE:1.33
	OPENBSD_5_9:1.32.0.2
	OPENBSD_5_9_BASE:1.32
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.29.0.2
	OPENBSD_5_7_BASE:1.29
	OPENBSD_5_6:1.27.0.4
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.27.0.2
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.25.0.2
	OPENBSD_5_4_BASE:1.25
	OPENBSD_5_3:1.23.0.6
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.23.0.4
	OPENBSD_5_2_BASE:1.23
	OPENBSD_5_1_BASE:1.23
	OPENBSD_5_1:1.23.0.2
	OPENBSD_5_0:1.21.0.2
	OPENBSD_5_0_BASE:1.21
	OPENBSD_4_9:1.20.0.2
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.17.0.4
	OPENBSD_4_8_BASE:1.17
	OPENBSD_4_7:1.17.0.2
	OPENBSD_4_7_BASE:1.17
	OPENBSD_4_6:1.15.0.4
	OPENBSD_4_6_BASE:1.15
	OPENBSD_4_5:1.15.0.2
	OPENBSD_4_5_BASE:1.15
	OPENBSD_4_4:1.14.0.6
	OPENBSD_4_4_BASE:1.14
	OPENBSD_4_3:1.14.0.4
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.14.0.2
	OPENBSD_4_2_BASE:1.14
	OPENBSD_4_1:1.12.0.2
	OPENBSD_4_1_BASE:1.12
	OPENBSD_4_0:1.11.0.2
	OPENBSD_4_0_BASE:1.11
	OPENBSD_3_9:1.10.0.2
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.9.0.2
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.8.0.2
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.7.0.2
	OPENBSD_3_6_BASE:1.7
	OPENBSD_3_5:1.6.0.2
	OPENBSD_3_5_BASE:1.6
	OPENBSD_3_4:1.5.0.2
	OPENBSD_3_4_BASE:1.5
	OPENBSD_3_3:1.4.0.2
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	naddy_20011105:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.34
date	2016.08.05.19.52.19;	author naddy;	state Exp;
branches;
next	1.33;
commitid	IjFvjijjenYDa3ra;

1.33
date	2016.04.06.18.53.16;	author naddy;	state Exp;
branches;
next	1.32;
commitid	iZKQK6rYc9TPfgx3;

1.32
date	2015.10.30.14.12.42;	author bentley;	state Exp;
branches;
next	1.31;
commitid	ter5pKuw1bz400Js;

1.31
date	2015.06.18.20.43.01;	author naddy;	state Exp;
branches;
next	1.30;
commitid	fNbRFFWBIaPNKPp3;

1.30
date	2015.03.16.14.17.48;	author naddy;	state Exp;
branches;
next	1.29;
commitid	EvJxknLpYkcYkbO1;

1.29
date	2015.01.30.16.46.46;	author naddy;	state Exp;
branches;
next	1.28;
commitid	MqQThFUNUUghk7VJ;

1.28
date	2014.11.29.19.16.48;	author naddy;	state Exp;
branches;
next	1.27;
commitid	Uhj170pAOjB5xvA3;

1.27
date	2013.08.23.16.57.23;	author naddy;	state Exp;
branches;
next	1.26;

1.26
date	2013.08.18.15.58.17;	author mpi;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.22.22.52.16;	author naddy;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.11.11.41.29;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2011.11.12.12.31.21;	author naddy;	state Exp;
branches;
next	1.22;

1.22
date	2011.09.22.08.28.56;	author stsp;	state Exp;
branches;
next	1.21;

1.21
date	2011.06.23.22.50.28;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2010.10.22.13.45.02;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2010.10.19.14.37.01;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2010.10.19.07.43.00;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2009.12.04.15.44.44;	author nicm;	state Exp;
branches;
next	1.16;

1.16
date	2009.10.29.20.10.39;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2009.02.14.16.39.28;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2007.08.11.18.41.28;	author naddy;	state Exp;
branches;
next	1.13;

1.13
date	2007.08.11.17.52.11;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2006.10.21.09.42.32;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2006.05.27.04.35.21;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2005.09.05.11.55.47;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2005.06.21.18.26.21;	author naddy;	state Exp;
branches;
next	1.8;

1.8
date	2005.02.27.17.37.46;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2004.05.28.22.03.49;	author naddy;	state Exp;
branches;
next	1.6;

1.6
date	2004.02.25.22.25.11;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2003.08.27.00.41.51;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2003.01.20.01.45.14;	author naddy;	state Exp;
branches;
next	1.3;

1.3
date	2002.12.29.20.19.10;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	2002.01.23.01.27.31;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.11.05.18.55.28;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.11.05.18.55.28;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.34
log
@sync with OpenBSD 6.0
@
text
@# $OpenBSD: Makefile,v 1.33 2016/04/06 18:53:16 naddy Exp $

COMMENT=	ls(1) that can use color to display file attributes

VERSION=	6.0
DISTNAME=	ls-${VERSION}
PKGNAME=	colorls-${VERSION}
CATEGORIES=	sysutils

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	http://shell.uugrn.org/~naddy/

WANTLIB=	c curses util

WRKDIST=	${WRKDIR}/ls
NO_TEST=	Yes

# copy file and substitute a string near a CVS keyword
pre-patch:
	sed 's/^\.Dt LS/.Dt COLORLS/' ${WRKSRC}/ls.1 >${WRKSRC}/colorls.1

.include <bsd.port.mk>
@


1.33
log
@Update to 5.9, which has pledge(2) and UTF-8 improvements.
From Lauri Tirkkonen <lotheac@@iki.fi>.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/10/30 14:12:42 bentley Exp $
d5 1
a5 1
VERSION=	5.9
@


1.32
log
@Calculate Unicode column widths correctly.

ok naddy@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/06/18 20:43:01 naddy Exp $
d5 1
a5 1
VERSION=	5.7
a7 1
REVISION=	1
@


1.31
log
@Sync with FreeBSD: When doing "ls -G /path/to/symlink", use the symlink
color instead of the color of the link target.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/03/16 14:17:48 naddy Exp $
d8 1
a8 1
REVISION=	0
@


1.30
log
@Update to 5.7.
Stop using <tzfile.h>.  Based on ls(1), so apply the same changes here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2015/01/30 16:46:46 naddy Exp $
d3 1
a3 1
COMMENT=	ls that can use color to display file attributes
d8 1
@


1.29
log
@There is no compelling reason to build this as a static executable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/11/29 19:16:48 naddy Exp $
d5 1
a5 1
VERSION=	5.6
a7 1
REVISION=	0
@


1.28
log
@sync with OpenBSD 5.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/08/23 16:57:23 naddy Exp $
d5 4
a8 2
DISTNAME=	ls-5.6
PKGNAME=	color${DISTNAME}
d17 2
@


1.27
log
@tweak man page; from jmc@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/08/18 15:58:17 mpi Exp $
d5 1
a5 1
DISTNAME=	ls-5.4
a6 1
REVISION=	0
@


1.26
log
@Sync with OPENBSD_5_4 to handle large ino_t.

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/22 22:52:16 naddy Exp $
d7 1
@


1.25
log
@sync with OPENBSD_5_3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/03/11 11:41:29 espie Exp $
d5 1
a5 1
DISTNAME=	ls-5.3
@


1.24
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/11/12 12:31:21 naddy Exp $
d5 1
a5 1
DISTNAME=	ls-5.0
@


1.23
log
@sync with OPENBSD_5_0 (-H switch)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/09/22 08:28:56 stsp Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d17 1
a17 1
NO_REGRESS=	Yes
@


1.22
log
@Add support for displaying multi-byte filenames to colorls.
ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/06/23 22:50:28 naddy Exp $
d5 1
a5 1
DISTNAME=	ls-4.8
a6 1
REVISION=	1
@


1.21
log
@Cope with bsd.man.mk changes and install source man pages.
While here, also update some PLISTs, fix PREFIX use, etc.
ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/10/22 13:45:02 naddy Exp $
d7 1
a7 1
REVISION=	0
@


1.20
log
@oops, restore package name; from RD Thrush
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/10/19 14:37:01 naddy Exp $
d7 1
@


1.19
log
@sync with 4.8, no need for groff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/10/19 07:43:00 espie Exp $
d6 1
@


1.18
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/12/04 15:44:44 nicm Exp $
d5 1
a5 2
DISTNAME=	ls-4.6
PKGNAME=	color${DISTNAME}p0
a18 1
USE_GROFF =	Yes
@


1.17
log
@TERM=xterm now has colour by default in -current, so change the notes in DESCR
to talk about sun/sun-color instead.

ok naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/10/29 20:10:39 naddy Exp $
d20 1
@


1.16
log
@sync with 4.6 and drop mention of xterm-xfree86
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/02/14 16:39:28 naddy Exp $
d6 1
a6 1
PKGNAME=	color${DISTNAME}
@


1.15
log
@sync with -current ls
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/08/11 18:41:28 naddy Exp $
d5 1
a5 1
DISTNAME=	ls-4.5
@


1.14
log
@word around CVS keyword in patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/08/11 17:52:11 naddy Exp $
d5 1
a5 1
DISTNAME=	ls-4.2
d17 1
a17 1
MASTER_SITES=	http://sites.inka.de/~mips/unix/distfiles/
@


1.13
log
@sync with 4.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2006/10/21 09:42:32 naddy Exp $
d22 1
d24 1
a24 1
	cp ${WRKSRC}/ls.1 ${WRKSRC}/colorls.1
@


1.12
log
@move distfiles from dying machine
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2006/05/27 04:35:21 naddy Exp $
d3 1
a3 1
COMMENT=	"ls that can use color to display file attributes"
d5 1
a5 1
DISTNAME=	ls-3.9
@


1.11
log
@sync with 3.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/09/05 11:55:47 espie Exp $
d17 1
a17 1
MASTER_SITES=	http://grappa.unix-ag.uni-kl.de/~naddy/
@


1.10
log
@fix manpage.
Like, come on, it's not like there are hundreds of instances of ls
that need replacing, thx to .Nm, only the examples need replacing.
install it in the right location.
respect stylistic issues. This is a man page, not an introduction
document.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2005/06/21 18:26:21 naddy Exp $
d5 2
a6 2
DISTNAME=	ls-3.7.1
PKGNAME=	color${DISTNAME}p0
@


1.9
log
@sync with system ls(1)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2005/02/27 17:37:46 naddy Exp $
d6 1
a6 1
PKGNAME=	color${DISTNAME}
@


1.8
log
@synchronize with latest OpenBSD and FreeBSD ls; cosmetic changes only
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/05/28 22:03:49 naddy Exp $
d5 1
a5 1
DISTNAME=	ls-3.7
@


1.7
log
@Sync with -current ls to make the field width agree for long listings with
human-readable sizes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/02/25 22:25:11 naddy Exp $
d5 1
a5 1
DISTNAME=	ls-3.5.1
@


1.6
log
@sync with latest ls(1)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/08/27 00:41:51 naddy Exp $
d5 1
a5 1
DISTNAME=	ls-3.5
@


1.5
log
@sync with 3.4 and FreeBSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/01/20 01:45:14 naddy Exp $
d5 1
a5 1
DISTNAME=	ls-3.4
d17 1
a17 1
MASTER_SITES=	http://sites.inka.de/mips/unix/distfiles/
@


1.4
log
@Update to OpenBSD 3.2 base and FreeBSD 5.0 color code.
Add -h flag (human readable sizes).  Link statically, just in case.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/12/29 20:19:10 fgsch Exp $
d5 1
a5 1
DISTNAME=	ls-3.2
@


1.3
log
@and more..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/01/23 01:27:31 naddy Exp $
d5 2
a6 2
PKGNAME=	colorls-3.0.1
DISTNAME=	ls-3.0
@


1.2
log
@sync with color code in FreeBSD-CURRENT
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/11/05 18:55:28 naddy Exp $
a7 1
NEED_VERSION=	1.504
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 2
a6 3
VERSION=	3.0
DISTNAME=	ls-${VERSION}
PKGNAME=	colorls-${VERSION}
d8 1
a8 1
NEED_VERSION=	1.475
@


1.1.1.1
log
@Import colorls.

This is a simple hack, taken from FreeBSD, to OpenBSD's ls(1) to
use ANSI sequences to display file attributes in color.
@
text
@@
