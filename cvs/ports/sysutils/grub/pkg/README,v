head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.26
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.24
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.22
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.18
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.20
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.16
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.14
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.12
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.10
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.8
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.6
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.06.02.13.41.41;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.11.08.20.12.13;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@$OpenBSD: README,v 1.1 2010/11/08 20:12:13 jasper Exp $

+-----------------------------------------------------------------------
| Running ${FULLPKGNAME} on OpenBSD
+-----------------------------------------------------------------------

GRUB's configuration file is /grub/menu.lst which is described in detail
in GRUB's info page. A minimal menu.lst looks like this:

	default 0
	timeout 5

	title OpenBSD
	root (hd0,3)
	chainloader +1

GRUB is currently not able to directly load the OpenBSD kernel, so you have
to use the chainloader. To activate GRUB, you have to run grub-install like
this:

	# grub-install --no-floppy hd0

It will install GRUB in the MBR of your first harddrive. grub-install will
run very slowly if the floppy drive is probed without disk in it.

See GRUB's info page for further details and caveats(!) of this method.

To completely deinstall GRUB, you have to delete /grub and install a new
bootloader into your bootdisk's MBR (look at fdisk(8)'s -u option).

Booting multiple OpenBSD instances from the same disk

When setting up multiple instances of OpenBSD on a single disk, you have
to make sure OpenBSD is installed into primary partitions only. These have
to end on cylinder boundaries like this

# fdisk sd0
Disk: sd0       geometry: 17873/255/63 [287129745 Sectors]
Offset: 0       Signature: 0xAA55
         Starting       Ending       LBA Info:
 #: id    C   H  S -    C   H  S [       start:      size   ]
------------------------------------------------------------------------
 0: A6 11751   0  1 - 15667 254 63 [   188779815:    62926605 ] OpenBSD
 1: A6 7834   0  1 - 11750 254 63 [   125853210:    62926605 ] OpenBSD
 2: A6 3917   0  1 - 7833 254 63 [    62926605:    62926605 ] OpenBSD
*3: A6    0   1  1 - 3916 254 63 [          63:    62926542 ] OpenBSD

When booting, the kernel will use the disklabel from the first OpenBSD
partition found, therefor grub has to set the partition type of unused
partitions to another value as can be seen in
${TRUEPREFIX}/share/examples/grub/menu.lst. The type of the last
partition, in this case partition 3, has to stay at 0xa6 in all cases,
otherwise grub won't be able to find its /grub/menu.lst file. This means
you have to install grub in the OpenBSD partition with the largest number.
@


1.1
log
@- switch to pkg-readmes
@
text
@d1 5
a5 1
$OpenBSD$
@

