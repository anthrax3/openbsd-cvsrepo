head	1.44;
access;
symbols
	OPENBSD_6_2:1.44.0.2
	OPENBSD_6_2_BASE:1.44
	OPENBSD_6_1:1.43.0.4
	OPENBSD_6_1_BASE:1.43
	OPENBSD_6_0:1.43.0.2
	OPENBSD_6_0_BASE:1.43
	OPENBSD_5_9:1.42.0.2
	OPENBSD_5_9_BASE:1.42
	OPENBSD_5_8:1.42.0.4
	OPENBSD_5_8_BASE:1.42
	OPENBSD_5_7:1.39.0.4
	OPENBSD_5_7_BASE:1.39
	OPENBSD_5_6:1.39.0.2
	OPENBSD_5_6_BASE:1.39
	OPENBSD_5_5:1.32.0.2
	OPENBSD_5_5_BASE:1.32
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.20.0.2
	OPENBSD_5_3_BASE:1.20
	OPENBSD_5_2:1.17.0.2
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.4.0.2
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	jasper_20090119:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.44
date	2017.06.28.16.09.17;	author ajacoutot;	state Exp;
branches;
next	1.43;
commitid	KRRZu8lpVWbfIk55;

1.43
date	2016.04.24.08.01.02;	author ajacoutot;	state Exp;
branches;
next	1.42;
commitid	VQ2kSU6ZbXGLUNIC;

1.42
date	2015.06.22.21.15.15;	author ajacoutot;	state Exp;
branches;
next	1.41;
commitid	S7vH0bop8C9W7lBf;

1.41
date	2015.04.04.09.21.04;	author ajacoutot;	state Exp;
branches;
next	1.40;
commitid	kS3kwKZogsvzYmEY;

1.40
date	2015.03.27.08.14.14;	author ajacoutot;	state Exp;
branches;
next	1.39;
commitid	ERm8DOTUF1j7394B;

1.39
date	2014.06.08.07.32.56;	author ajacoutot;	state Exp;
branches;
next	1.38;
commitid	of3S9vPzQQxMeZeY;

1.38
date	2014.04.02.14.34.47;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2014.04.02.09.36.12;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2014.04.01.18.06.30;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2014.04.01.17.03.14;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2014.04.01.15.31.46;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2014.03.14.17.26.18;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2013.12.16.08.24.04;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2013.10.19.07.59.59;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.10.11.13.26.51;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2013.09.28.08.50.38;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.09.26.08.22.00;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2013.07.10.09.56.41;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2013.06.15.11.44.17;	author sthen;	state Exp;
branches;
next	1.25;

1.25
date	2013.06.09.10.38.14;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2013.05.25.08.52.22;	author sthen;	state Exp;
branches;
next	1.23;

1.23
date	2013.05.22.19.14.05;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2013.04.16.10.21.58;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2013.03.11.11.41.29;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2013.01.12.13.54.57;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2013.01.11.16.47.28;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.10.16.08.08.49;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2012.06.15.08.32.17;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.12.29.09.10.59;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2011.12.03.23.04.37;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.11.14.19.16.51;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2011.09.16.11.41.39;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.03.07.54.33;	author landry;	state Exp;
branches;
next	1.11;

1.11
date	2011.07.20.07.09.45;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2011.06.08.17.50.25;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.20.17.22.40;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.24.21.36.04;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.09.16.08.19.50;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2010.08.30.17.57.31;	author fgsch;	state Exp;
branches;
next	1.5;

1.5
date	2010.08.24.06.49.43;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2010.07.01.20.24.55;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.12.22.12.51.52;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.28.18.12.50;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2009.01.19.17.03.32;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.01.19.17.03.32;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.44
log
@Update to d-feet-0.3.12.
@
text
@# $OpenBSD: Makefile,v 1.43 2016/04/24 08:01:02 ajacoutot Exp $

COMMENT=		dbus debugger

GNOME_VERSION=		0.3.12
GNOME_PROJECT=		d-feet
MODPY_EGG_VERSION=	${GNOME_VERSION}

CATEGORIES=		sysutils

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

MODULES=		devel/dconf \
			lang/python \
			x11/gnome

MODGNOME_TOOLS += desktop-file-utils gobject-introspection gtk-update-icon-cache
MODGNOME_TOOLS += yelp

BUILD_DEPENDS=		x11/gtk+3

# needed for tests
BUILD_DEPENDS +=	devel/pep8

RUN_DEPENDS=		devel/py-gobject3

# pygobject GTK3 introspection (not provided by indirect dependencies)
RUN_DEPENDS +=		x11/gtk+3

# src/dfeet/wnck_utils.py
RUN_DEPENDS +=		devel/libwnck3

MODPY_ADJ_FILES=	src/d-feet.in \
			src/tests/tests.py

TEST_IS_INTERACTIVE=	x11

CONFIGURE_STYLE=	gnu

.include <bsd.port.mk>
@


1.43
log
@Update to d-feet-0.3.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2015/06/22 21:15:15 ajacoutot Exp $
d5 1
a5 1
GNOME_VERSION=		0.3.11
@


1.42
log
@Update to d-feet-0.3.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2015/04/04 09:21:04 ajacoutot Exp $
d5 1
a5 1
GNOME_VERSION=		0.3.10
@


1.41
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2015/03/27 08:14:14 ajacoutot Exp $
d5 1
a5 1
GNOME_VERSION=		0.3.9
a7 1
REVISION=		1
@


1.40
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2014/06/08 07:32:56 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
@


1.39
log
@Update to d-feet-0.3.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2014/04/02 14:34:47 ajacoutot Exp $
d8 1
@


1.38
log
@Re-indent and add proper MODGNOME_TOOLS where missing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2014/04/02 09:36:12 jasper Exp $
d5 1
a5 1
GNOME_VERSION=		0.3.8
@


1.37
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2014/04/01 18:06:30 jasper Exp $
d19 1
a19 1
MODGNOME_TOOLS +=	yelp
@


1.36
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2014/04/01 17:03:14 jasper Exp $
d18 2
a19 2
MODGNOME_TOOLS += desktop-file-utils gtk-update-icon-cache gobject-introspection
MODGNOME_TOOLS += yelp
@


1.35
log
@move more bits and bobs into MODGNOME_TOOLS to make it more clear which
tools are actually used.

This commit replaces
MODGNOME_DESKTOP_FILE with MODGNOME_TOOLS += desktop-file-utils
MODGNOME_MIME_FILE with MODGNOME_TOOLS += shared-mime-info
MODGNOME_ICON_CACHE with MODGNOME_TOOLS += gtk-update-icon-cache

(some prettyfication will follow shortly)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2014/04/01 15:31:46 jasper Exp $
d18 2
a19 3
MODGNOME_TOOLS +=	desktop-file-utils
MODGNOME_TOOLS +=	gtk-update-icon-cache
MODGNOME_TOOLS=		gobject-introspection yelp
@


1.34
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2014/03/14 17:26:18 ajacoutot Exp $
d18 2
a19 2
MODGNOME_DESKTOP_FILE=	Yes
MODGNOME_ICON_CACHE=	Yes
@


1.33
log
@Sync comment about the need to RUN_DEPENDS on gtk+3 when the
corresponding introspection is used; add missing dependency where
needed (i.e. when not provided by indirect dependencies).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/12/16 08:24:04 ajacoutot Exp $
d20 1
a20 1
MODGNOME_TOOLS=		gi yelp
@


1.32
log
@Make it clear the run depends on gtk+3 is needed because of pygobject
introspection.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/10/19 07:59:59 ajacoutot Exp $
d29 1
a29 1
# pygobject introspection for gtk+3
@


1.31
log
@Update to d-feet-0.3.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/10/11 13:26:51 ajacoutot Exp $
d27 4
a30 2
RUN_DEPENDS=		devel/py-gobject3 \
			x11/gtk+3
@


1.30
log
@Missing RUN_DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/09/28 08:50:38 ajacoutot Exp $
d5 1
a5 1
GNOME_VERSION=		0.3.7
a7 1
REVISION=		1
d18 1
d27 1
a27 2
RUN_DEPENDS=		devel/desktop-file-utils \
			devel/py-gobject3 \
@


1.29
log
@Remove hardcoded HOMEPAGE and use the one from the x11/gnome MODULE
instead. It is just too hard to maintain a coherent list of still
reachable homepages for GNOME projects so use wiki.gnome.org which is
the entry point for *all* GNOME apps.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/09/26 08:22:00 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
d30 3
@


1.28
log
@Update to d-feet-0.3.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/07/10 09:56:41 ajacoutot Exp $
d8 1
a10 2

HOMEPAGE=		https://wiki.gnome.org/DFeet/
@


1.27
log
@Update to d-feet-0.3.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/06/15 11:44:17 sthen Exp $
d5 1
a5 1
GNOME_VERSION=		0.3.6
d20 1
a29 1
			x11/gtk+2,-guic \
@


1.26
log
@MODGNOME_TOOLS += gi to fix the build, ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/06/09 10:38:14 ajacoutot Exp $
d5 1
a5 1
GNOME_VERSION=		0.3.5
d11 1
a11 1
HOMEPAGE=		http://live.gnome.org/DFeet/
@


1.25
log
@Update to d-feet-0.3.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/05/25 08:52:22 sthen Exp $
d20 1
a20 1
MODGNOME_TOOLS=		yelp
@


1.24
log
@add a dependency on gtk+3, and don't run update-desktop-database in "make fake".
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/05/22 19:14:05 ajacoutot Exp $
d5 1
a5 2
GNOME_VERSION=		0.3.4
REVISION=		0
d22 2
d25 1
a25 4
BUILD_DEPENDS=		devel/pep8 \
			x11/gtk+3

TEST_IS_INTERACTIVE=	x11
d34 2
@


1.23
log
@Update to d-feet-0.3.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/04/16 10:21:58 ajacoutot Exp $
d6 1
d24 2
a25 1
BUILD_DEPENDS=		devel/pep8
d31 2
a32 1
			x11/gtk+2,-guic
@


1.22
log
@Bump after py-gobject3 change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/03/11 11:41:29 espie Exp $
d5 5
a9 4
MODPY_EGG_VERSION=	0.3.3
DISTNAME=		d-feet-${MODPY_EGG_VERSION}
CATEGORIES=		sysutils x11
REVISION=		0
d16 5
a20 2
MASTER_SITES=		${MASTER_SITE_GNOME:=sources/d-feet/${MODPY_EGG_VERSION:C/^([0-9]+\.[0-9]+).*/\1/}/}
EXTRACT_SUFX=		.tar.xz
d22 4
a25 2
MODULES=		lang/python
MODPY_SETUPTOOLS=	Yes
d31 2
a32 3
MODPY_ADJ_FILES=	d-feet

NO_TEST=		Yes
d34 1
a34 2
pre-configure:
	perl -pi -e 's,/usr/share,${PREFIX}/share,g' ${WRKSRC}/d-feet
@


1.21
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/01/12 13:54:57 ajacoutot Exp $
d8 1
@


1.20
log
@Update to d-feet-0.3.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/01/11 16:47:28 ajacoutot Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d26 1
a26 1
NO_REGRESS=		Yes
@


1.19
log
@Update to a newer unstable release: d-feet-0.3.2.
(upstream never released a stable version so far)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/10/16 08:08:49 ajacoutot Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.3.2
@


1.18
log
@Update to d-feet-0.1.15.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/06/15 08:32:17 ajacoutot Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.1.15
a22 1
BUILD_DEPENDS=		x11/py-gtk2
d24 1
a24 2
			x11/dbus-python \
			x11/py-gtk2 \
@


1.17
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/12/29 09:10:59 ajacoutot Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.1.14
a7 1
REVISION=		2
@


1.16
log
@Get rid of a patch by using MODPY_ADJ_FILES and some perl subst.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/12/03 23:04:37 ajacoutot Exp $
d8 1
a8 1
REVISION=		1
@


1.15
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/11/14 19:16:51 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
d30 2
d35 1
a35 1
	${SUBST_CMD} ${WRKSRC}/d-feet
@


1.14
log
@Maintenance update to d-feet-0.1.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/09/16 11:41:39 espie Exp $
d8 1
d27 2
a28 1
			x11/py-gtk2
@


1.13
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/03 07:54:33 landry Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.1.12
a6 1
REVISION =		5
a8 2
EXTRACT_SUFX=		.tar.bz2

d18 1
@


1.12
log
@Replace an ugly use of procfs by a subprocess.Popen(ps) call to get the
pid of a given process name. Remove now useless MESSAGE and bump REVISION.
ok ok aja@@ (yes, 2 ok)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/07/20 07:09:45 ajacoutot Exp $
d7 1
a7 1
REVISION =		4
@


1.11
log
@No need to force RUN_DEPENDS on py-gnome-desktop.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/06/08 17:50:25 jasper Exp $
d7 1
a7 1
REVISION =		3
@


1.10
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/20 17:22:40 espie Exp $
d7 1
a7 1
REVISION =		2
d28 1
a28 2
			x11/gnome/py-gnome-desktop

@


1.9
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/24 21:36:04 ajacoutot Exp $
d7 1
a7 1
REVISION =		1
@


1.8
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/09/16 08:19:50 sthen Exp $
d25 4
a28 4
BUILD_DEPENDS=		::x11/py-gtk2
RUN_DEPENDS=		::devel/desktop-file-utils \
			::x11/dbus-python \
			::x11/gnome/py-gnome-desktop
@


1.7
log
@missing MODPY_SETUPTOOLS and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/08/30 17:57:31 fgsch Exp $
a29 1
USE_X11=		Yes
@


1.6
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/08/24 06:49:43 ajacoutot Exp $
d7 1
a7 1
REVISION =		0
d23 1
@


1.5
log
@Bugfixe update to d-feet-0.1.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/07/01 20:24:55 ajacoutot Exp $
d7 1
@


1.4
log
@Update d-feet, the DBus debugger to version 0.1.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/12/22 12:51:52 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.1.10
d11 1
a11 1
HOMEPAGE=		https://hosted.fedoraproject.org/d-feet/
d19 1
a19 1
MASTER_SITES=		http://johnp.fedorapeople.org/downloads/d-feet/
@


1.3
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.
prodded by espie@@
discussed with espie@@ ajacoutot@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/03/28 18:12:50 naddy Exp $
d5 1
a5 1
MODPY_EGG_VERSION=	0.1.8
a6 1
PKGNAME=		${DISTNAME}p1
d9 2
d19 1
a19 1
MASTER_SITES=		http://johnp.fedorapeople.org/
@


1.2
log
@bump for python dependency change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/01/19 17:03:32 jasper Exp $
d7 1
a7 1
PKGNAME=		${DISTNAME}p0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
@


1.1.1.1
log
@import d-feet 0.1.8

D-Feet is a D-Bus debugger written in PyGtk+.
Current features:
  * View names on any bus
  * View exported objects, interfaces, methods and signals
  * View the full command line of services on the bus
  * Execute methods with parameters on the bus and see their return
    values
@
text
@@
