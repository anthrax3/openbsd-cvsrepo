head	1.30;
access;
symbols
	OPENBSD_6_0:1.27.0.2
	OPENBSD_6_0_BASE:1.27
	OPENBSD_5_9:1.25.0.2
	OPENBSD_5_9_BASE:1.25
	OPENBSD_5_8:1.24.0.6
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.24.0.2
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.22.0.2
	OPENBSD_5_6_BASE:1.22
	OPENBSD_5_5:1.21.0.2
	OPENBSD_5_5_BASE:1.21
	OPENBSD_5_4:1.19.0.2
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.18.0.2
	OPENBSD_5_3_BASE:1.18
	OPENBSD_5_2:1.17.0.2
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.4
	OPENBSD_5_0:1.13.0.2
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.10.0.2
	OPENBSD_4_9_BASE:1.10
	OPENBSD_4_8:1.7.0.18
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.7.0.16
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.7.0.14
	OPENBSD_4_6_BASE:1.7
	OPENBSD_4_5:1.7.0.12
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.7.0.10
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.8
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.7.0.6
	OPENBSD_4_2_BASE:1.7
	OPENBSD_4_1:1.7.0.4
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.7.0.2
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.6.0.4
	OPENBSD_3_9_BASE:1.6
	OPENBSD_3_8:1.6.0.2
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.5.0.2
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.2.0.2
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.1.1.1.0.2
	OPENBSD_3_4_BASE:1.1.1.1
	naddy_20030706:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.30
date	2017.02.14.16.19.49;	author naddy;	state Exp;
branches;
next	1.29;
commitid	NEpR5drVMRfRZTmk;

1.29
date	2016.12.19.20.43.49;	author naddy;	state Exp;
branches;
next	1.28;
commitid	xLUF4wrg93Gs59U0;

1.28
date	2016.11.01.20.53.21;	author naddy;	state Exp;
branches;
next	1.27;
commitid	JeFK7oQBpnfTLDRw;

1.27
date	2016.04.26.13.36.55;	author naddy;	state Exp;
branches;
next	1.26;
commitid	9moC8SDgY8a06UEu;

1.26
date	2016.04.05.19.40.30;	author naddy;	state Exp;
branches;
next	1.25;
commitid	PJai310O8nWcTerc;

1.25
date	2015.11.11.10.41.00;	author dcoppa;	state Exp;
branches;
next	1.24;
commitid	KqhY9OTlovyQAq7X;

1.24
date	2014.12.01.20.23.32;	author dcoppa;	state Exp;
branches;
next	1.23;
commitid	7q5B4WRrzFqNwQQo;

1.23
date	2014.08.27.01.36.16;	author gsoares;	state Exp;
branches;
next	1.22;
commitid	YdSLTDaudPKCYnyo;

1.22
date	2014.03.28.15.35.21;	author dcoppa;	state Exp;
branches;
next	1.21;

1.21
date	2014.01.03.21.47.33;	author gsoares;	state Exp;
branches;
next	1.20;

1.20
date	2013.11.09.23.19.03;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2013.03.11.11.41.30;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2012.08.23.20.02.12;	author dcoppa;	state Exp;
branches;
next	1.17;

1.17
date	2012.07.08.14.44.12;	author naddy;	state Exp;
branches;
next	1.16;

1.16
date	2012.04.26.21.13.10;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2012.03.16.08.40.13;	author dcoppa;	state Exp;
branches;
next	1.14;

1.14
date	2012.02.28.08.51.17;	author dcoppa;	state Exp;
branches;
next	1.13;

1.13
date	2011.06.24.15.46.35;	author naddy;	state Exp;
branches;
next	1.12;

1.12
date	2011.06.02.17.09.32;	author kili;	state Exp;
branches;
next	1.11;

1.11
date	2011.05.31.19.36.36;	author naddy;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.20.17.22.41;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.11.19.00.48;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.19.07.43.01;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2006.08.03.23.55.11;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2005.05.11.19.08.23;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2005.01.26.16.41.04;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2004.12.20.10.35.35;	author alek;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.10.08.46.49;	author xsa;	state Exp;
branches;
next	1.2;

1.2
date	2003.12.23.23.21.12;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2003.07.06.17.16.32;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.07.06.17.16.32;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.30
log
@Update to 3.0.
Despite the significant-seeming version jump, this merely fixes some bugs.
@
text
@# $OpenBSD: Makefile,v 1.29 2016/12/19 20:43:49 naddy Exp $

COMMENT=	GNU versions of grep pattern matching utilities

DISTNAME=	grep-3.0
PKGNAME=	g${DISTNAME}
CATEGORIES=	sysutils
HOMEPAGE=	https://www.gnu.org/software/grep/grep.html

MAINTAINER=	Christian Weisgerber <naddy@@openbsd.org>

# GPLv3+
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	${MASTER_SITE_GNU:=grep/}

EXTRACT_SUFX=	.tar.xz

LIB_DEPENDS=	devel/gettext devel/pcre
WANTLIB=	c iconv intl pcre

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS=	--program-prefix=g
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
MODGNU_CONFIG_GUESS_DIRS=${WRKSRC}/build-aux

.include <bsd.port.mk>
@


1.29
log
@maintenance update to 2.27
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2016/11/01 20:53:21 naddy Exp $
d5 1
a5 1
DISTNAME=	grep-2.27
@


1.28
log
@maintenance update to 2.26
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2016/04/26 13:36:55 naddy Exp $
d5 1
a5 1
DISTNAME=	grep-2.26
@


1.27
log
@maintenance update to 2.25
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2016/04/05 19:40:30 naddy Exp $
d5 1
a5 1
DISTNAME=	grep-2.25
@


1.26
log
@maintenance update to 2.24
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2015/11/11 10:41:00 dcoppa Exp $
d5 1
a5 1
DISTNAME=	grep-2.24
a26 6

# Fix for regression tests as suggested by upstream.
# Should be no longer required in 2.25.
pre-test:
	@@cd ${WRKBUILD}/src && \
	    for i in grep egrep fgrep; do ln -s $$i g$$i; done
@


1.25
log
@
Update to GNU grep 2.22
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/12/01 20:23:32 dcoppa Exp $
d5 1
a5 1
DISTNAME=	grep-2.22
d19 2
a20 3
WANTLIB=	c pcre
MODULES=	devel/gettext
LIB_DEPENDS=	devel/pcre
d27 6
@


1.24
log
@
Update to grep-2.21

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/08/27 01:36:16 gsoares Exp $
d5 1
a5 1
DISTNAME=	grep-2.21
@


1.23
log
@update to 2.20
OK naddy@@(maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/03/28 15:35:21 dcoppa Exp $
d5 1
a5 1
DISTNAME=	grep-2.20
@


1.22
log
@Update to grep-2.18

ok naddy@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/01/03 21:47:33 gsoares Exp $
d5 1
a5 1
DISTNAME=	grep-2.18
@


1.21
log
@update to 2.16

tweaks and OK naddy@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/11/09 23:19:03 naddy Exp $
d5 1
a5 1
DISTNAME=	grep-2.16
@


1.20
log
@move http://www.gnu.org to https
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/03/11 11:41:30 espie Exp $
d5 1
a5 1
DISTNAME=	grep-2.14
a6 1
REVISION=	0
a16 1
# no .tar.gz available, GNU grep itself requires gcc >= 3
a21 1
BUILD_DEPENDS=	devel/gperf
@


1.19
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2012/08/23 20:02:12 dcoppa Exp $
d7 1
d9 1
a9 1
HOMEPAGE=	http://www.gnu.org/software/grep/grep.html
@


1.18
log
@Update to 2.14

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/07/08 14:44:12 naddy Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.17
log
@update to 2.13
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/04/26 21:13:10 naddy Exp $
d5 1
a5 1
DISTNAME=	grep-2.13
@


1.16
log
@update to 2.12: -r now follows only command-line symlinks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/03/16 08:40:13 dcoppa Exp $
d5 1
a5 1
DISTNAME=	grep-2.12
@


1.15
log
@Update gnu grep to 2.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/02/28 08:51:17 dcoppa Exp $
d5 1
a5 1
DISTNAME=	grep-2.11
@


1.14
log
@Update to ggrep-2.10

additional comment and ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/06/24 15:46:35 naddy Exp $
d5 1
a5 1
DISTNAME=	grep-2.10
@


1.13
log
@bugfix update to 2.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/06/02 17:09:32 kili Exp $
d5 1
a5 1
DISTNAME=	grep-2.9
d19 3
@


1.12
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/05/31 19:36:36 naddy Exp $
d5 1
a5 1
DISTNAME=	grep-2.8
@


1.11
log
@update to 2.8; mostly from gsoares@@
ok sthen@@, gsoares@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/20 17:22:41 espie Exp $
d26 1
a26 2
CONFIGURE_ARGS=	--program-prefix=g \
		--disable-silent-rules
@


1.10
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/11 19:00:48 espie Exp $
d5 1
a5 1
DISTNAME=	grep-2.5.1
a6 1
REVISION =	1
d12 1
a12 1
# GPL
a16 1
WANTLIB=		c pcre
d20 1
d23 1
a24 1
SEPARATE_BUILD=	simple
d26 2
a27 1
CONFIGURE_ARGS=	--program-prefix=g
d30 1
a30 6

USE_GROFF =	Yes
CONFIGURE_ENV+= ac_cv_func_mbrtowc=no

post-build:
	@@perl -i -pe 's/\bgrep\b/ggrep/g' ${WRKBUILD}/src/[ef]grep
@


1.9
log
@last WANTLIB conversion, hopefully
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/19 07:43:01 espie Exp $
d23 1
a23 1
LIB_DEPENDS=	::devel/pcre
@


1.8
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2006/08/03 23:55:11 espie Exp $
d6 2
a7 1
PKGNAME=	g${DISTNAME}p1
d18 1
a18 1
WANTLIB=		c
d23 1
a23 1
LIB_DEPENDS=	pcre::devel/pcre
@


1.7
log
@new lib specs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/05/11 19:08:23 espie Exp $
d30 1
@


1.6
log
@and tell ggrep to not heed i18n yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2005/01/26 16:41:04 naddy Exp $
d22 1
a22 1
LIB_DEPENDS=	pcre.0::devel/pcre
@


1.5
log
@Now that @@info transparently picks up all .info-* files, don't go through
extra steps to rebuild with --no-split.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2004/12/20 10:35:35 alek Exp $
d6 1
a6 1
PKGNAME=	g${DISTNAME}p0
d29 2
@


1.4
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/08/10 08:46:49 xsa Exp $
d28 1
a28 2
		LDFLAGS="-L${LOCALBASE}/lib" \
		MAKEINFO="makeinfo --no-split"
@


1.3
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/12/23 23:21:12 naddy Exp $
d17 1
@


1.2
log
@pcre dependency; noticed by Felipe Kellermann <stdfk@@terra.com.br>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/07/06 17:16:32 naddy Exp $
d20 1
a20 1
MODULES=	gettext
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
a6 1
PKGNAME=	g${DISTNAME}
d21 1
d23 1
a23 1
SEPARATE_BUILD=	concurrent
@


1.1.1.1
log
@Import GNU grep 2.5.1.
The GNU versions of commonly used grep utilities.
@
text
@@
