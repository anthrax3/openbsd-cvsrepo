head	1.1;
branch	1.1.1;
access;
symbols
	OPENBSD_6_0:1.1.1.1.0.2
	OPENBSD_6_0_BASE:1.1.1.1
	jsg_20160529:1.1.1.1
	jsg:1.1.1;
locks; strict;
comment	@# @;


1.1
date	2016.05.29.01.35.33;	author jsg;	state Exp;
branches
	1.1.1.1;
next	;
commitid	bmQeGNtjT62xSFTz;

1.1.1.1
date	2016.05.29.01.35.33;	author jsg;	state Exp;
branches;
next	;
commitid	bmQeGNtjT62xSFTz;


desc
@@



1.1
log
@Initial revision
@
text
@$OpenBSD$
--- board/solidrun/mx6cuboxi/mx6cuboxi.c.orig	Tue Mar 15 01:20:21 2016
+++ board/solidrun/mx6cuboxi/mx6cuboxi.c	Sat Mar 26 15:00:27 2016
@@@@ -320,10 +320,17 @@@@ int board_early_init_f(void)
 	return ret;
 }
 
+static bool is_hummingboard(void);
+
 int board_init(void)
 {
 	/* address of boot parameters */
 	gd->bd->bi_boot_params = CONFIG_SYS_SDRAM_BASE + 0x100;
+
+	if (is_hummingboard())
+		gd->bd->bi_arch_number = 4773; /* HummingBoard machine ID */
+	else
+		gd->bd->bi_arch_number = 4821; /* CuBox-i machine ID */
 
 	return 0;
 }
@


1.1.1.1
log
@Import U-Boot 2016.05

U-Boot is a firmware for embedded boards based on PowerPC, ARM, MIPS and
several other processors, which can be installed in a boot ROM and used to
initialize and test the hardware or to download and run application code.

As ARM systems often do not come with firmware it must be supplied on
an SD card or MMC device to have a bootable system.

This port provides U-Boot for various boards using ARM processors.

armv7 requires the support for EFI payloads added in this release to run
the bootloader.  A proposed patch to prevent the EFI interface from
allocating pages from unpopulated memory by Alexander Graf is included
which will hopefully be part of future releases:
http://marc.info/?l=u-boot&m=146434472023891&w=2

Feedback from jca@@ and sthen@@.  ok sthen@@ on an earlier version without
the EFI patch.
@
text
@@
