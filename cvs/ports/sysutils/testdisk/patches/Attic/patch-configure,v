head	1.6;
access;
symbols
	OPENBSD_5_5:1.5.0.4
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.3.0.10
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.8
	OPENBSD_5_0:1.3.0.6
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.4
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	landry_20090315:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2014.04.22.10.12.17;	author ajacoutot;	state dead;
branches;
next	1.5;

1.5
date	2013.06.21.22.38.34;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2013.01.30.17.19.27;	author benoit;	state Exp;
branches;
next	1.3;

1.3
date	2010.04.03.11.54.19;	author kili;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.16.10.46.52;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2009.03.15.20.11.01;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.03.15.20.11.01;	author landry;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Drop uneeded patch.

ok landry@@ (maintainer)
@
text
@$OpenBSD: patch-configure,v 1.5 2013/06/21 22:38:34 sthen Exp $
--- configure.orig	Tue Nov 15 08:02:37 2011
+++ configure	Sat Jan 19 12:47:45 2013
@@@@ -7370,7 +7370,7 @@@@
 #fi
 
 # Check for UUID functions
-for ac_header in sys/uuid.h uuid/uuid.h uuid.h
+for ac_header in sys/uuid.h uuid/uuid.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
@


1.5
log
@sync WANTLIB and remove patches to handle e2fsprogs/libuuid changes. ok aja
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.4 2013/01/30 17:19:27 benoit Exp $
@


1.4
log
@- update testdisk to 6.13
- remove USE_GROFF
- add post-install
- update patches
- regen PLIST

tweaks and ok landry@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
a3 27
@@@@ -6919,7 +6919,7 @@@@
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lext2fs  $LIBS"
+LIBS="-lext2fs -lext2fs_com_err $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@@@ -6971,7 +6971,7 @@@@
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lcom_err  $LIBS"
+LIBS="-lext2fs_com_err  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@@@ -7007,7 +7007,7 @@@@
 $as_echo "#define HAVE_LIBCOMM_ERR 1" >>confdefs.h
 
       if test "${com_err_lib_a}" = ""; then
-        LIBS="$LIBS -lcom_err"
+        LIBS="$LIBS -lext2fs_com_err"
       else
         LIBS="$LIBS ${com_err_lib_a}"
       fi
a12 18
@@@@ -7424,7 +7424,7 @@@@
   return 0;
 }
 _ACEOF
-for ac_lib in '' uuid; do
+for ac_lib in '' e2fs-uuid; do
   if test -z "$ac_lib"; then
     ac_res="none required"
   else
@@@@ -7487,7 +7487,7 @@@@
   return 0;
 }
 _ACEOF
-for ac_lib in '' uuid; do
+for ac_lib in '' e2fs-uuid; do
   if test -z "$ac_lib"; then
     ac_res="none required"
   else
@


1.3
log
@Follow e2fsprogs changes.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.2 2009/03/16 10:46:52 landry Exp $
--- configure.orig	Wed May  6 10:01:29 2009
+++ configure	Sat Apr  3 11:14:32 2010
@@@@ -9876,7 +9876,7 @@@@ if test "${ac_cv_lib_ext2fs_ext2fs_open+set}" = set; t
d9 5
a13 5
+LIBS="-lext2fs  -lext2fs_com_err $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -9959,7 +9959,7 @@@@ if test "${ac_cv_lib_com_err_com_err+set}" = set; then
d19 5
a23 5
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@@@ -10026,7 +10026,7 @@@@ cat >>confdefs.h <<\_ACEOF
 _ACEOF
d31 2
a32 3
@@@@ -10522,7 +10522,7 @@@@ fi
 
 
d34 1
d37 4
a40 4
 do
 as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 if { as_var=$as_ac_Header; eval "test \"\${$as_var+set}\" = set"; }; then
@@@@ -10807,7 +10807,7 @@@@ return uuid_create ();
d49 1
a49 1
@@@@ -11005,7 +11005,7 @@@@ return uuid_generate ();
@


1.2
log
@Puke some bits of autofoo to make sure it picks uuid lib from
sysutils/e2fsprogs and not the one from devel/uuid. Fixes the build when
the latter is installed...
Spotted by Benoit Lecocq, thanks!
@
text
@d1 5
a5 5
$OpenBSD: patch-configure,v 1.1.1.1 2009/03/15 20:11:01 landry Exp $
--- configure.orig	Thu Jul 17 13:16:30 2008
+++ configure	Mon Mar 16 11:25:40 2009
@@@@ -8354,7 +8354,7 @@@@ if test "${ac_cv_lib_ext2fs_ext2fs_open+set}" = set; t
   echo $ECHO_N "(cached) $ECHO_C" >&6
d13 2
a14 2
@@@@ -8433,7 +8433,7 @@@@ if test "${ac_cv_lib_com_err_com_err+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
d22 1
a22 1
@@@@ -8496,7 +8496,7 @@@@ cat >>confdefs.h <<\_ACEOF
d31 1
a31 1
@@@@ -8950,7 +8950,7 @@@@ fi
d38 1
a38 1
 as_ac_Header=`echo "ac_cv_header_$ac_header" | $as_tr_sh`
d40 18
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ configure	Sat Feb 21 19:37:21 2009
d31 9
@


1.1.1.1
log
@Import testdisk 6.10, which provides testdisk and photorec :

TestDisk is a powerful free data recovery software! It was primarily
designed to help recover lost partitions and/or make non-booting disks
bootable again when these symptoms are caused by faulty software,
certain types of viruses or human error (such as accidentally deleting a
Partition Table). Partition table recovery using TestDisk is really
easy.
PhotoRec is a file data recovery software designed to recover lost files
including video, documents and archives from Hard Disks and CDRom and
lost pictures (thus, its 'Photo Recovery' name) from digital camera
memory. PhotoRec ignores the filesystem and goes after the underlying
data, so it will still work even if your media's filesystem has been
severely damaged or re-formatted.

with feedback from pea@@, thanks!
@
text
@@
