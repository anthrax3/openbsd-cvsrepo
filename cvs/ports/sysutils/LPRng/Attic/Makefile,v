head	1.42;
access;
symbols
	OPENBSD_5_3:1.40.0.4
	OPENBSD_5_3_BASE:1.40
	OPENBSD_5_2:1.40.0.2
	OPENBSD_5_2_BASE:1.40
	OPENBSD_5_1_BASE:1.39
	OPENBSD_5_1:1.39.0.6
	OPENBSD_5_0:1.39.0.4
	OPENBSD_5_0_BASE:1.39
	OPENBSD_4_9:1.39.0.2
	OPENBSD_4_9_BASE:1.39
	OPENBSD_4_8:1.37.0.2
	OPENBSD_4_8_BASE:1.37
	OPENBSD_4_7:1.36.0.10
	OPENBSD_4_7_BASE:1.36
	OPENBSD_4_6:1.36.0.8
	OPENBSD_4_6_BASE:1.36
	OPENBSD_4_5:1.36.0.6
	OPENBSD_4_5_BASE:1.36
	OPENBSD_4_4:1.36.0.4
	OPENBSD_4_4_BASE:1.36
	OPENBSD_4_3:1.36.0.2
	OPENBSD_4_3_BASE:1.36
	OPENBSD_4_2:1.34.0.4
	OPENBSD_4_2_BASE:1.34
	OPENBSD_4_1:1.34.0.2
	OPENBSD_4_1_BASE:1.34
	OPENBSD_4_0:1.33.0.2
	OPENBSD_4_0_BASE:1.33
	OPENBSD_3_9:1.32.0.2
	OPENBSD_3_9_BASE:1.32
	OPENBSD_3_8:1.29.0.4
	OPENBSD_3_8_BASE:1.29
	OPENBSD_3_7:1.29.0.2
	OPENBSD_3_7_BASE:1.29
	OPENBSD_3_6:1.27.0.2
	OPENBSD_3_6_BASE:1.27
	OPENBSD_3_5:1.26.0.2
	OPENBSD_3_5_BASE:1.26
	OPENBSD_3_4:1.25.0.2
	OPENBSD_3_4_BASE:1.25
	OPENBSD_3_3:1.21.0.2
	OPENBSD_3_3_BASE:1.21
	OPENBSD_3_2:1.20.0.2
	OPENBSD_3_2_BASE:1.20
	OPENBSD_3_1:1.19.0.4
	OPENBSD_3_1_BASE:1.19
	OPENBSD_3_0:1.19.0.2
	OPENBSD_3_0_BASE:1.19
	OPENBSD_2_9_TRACKING_SWITCH:1.19
	OPENBSD_2_9:1.17.0.2
	OPENBSD_2_9_BASE:1.17
	OPENBSD_2_8:1.15.0.2
	OPENBSD_2_8_BASE:1.15
	OPENBSD_2_7:1.12.0.2
	OPENBSD_2_7_BASE:1.12
	OPENBSD_2_6:1.4.0.6
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.4.0.4
	OPENBSD_2_5_BASE:1.4
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.3.0.2
	OPENBSD_2_3_BASE:1.3
	joey_1_1:1.1.1.1
	joey_1:1.1.1;
locks; strict;
comment	@# @;


1.42
date	2013.03.18.09.02.15;	author ajacoutot;	state dead;
branches;
next	1.41;

1.41
date	2013.03.11.11.41.29;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2012.06.22.12.41.42;	author naddy;	state Exp;
branches;
next	1.39;

1.39
date	2010.11.20.17.22.40;	author espie;	state Exp;
branches;
next	1.38;

1.38
date	2010.10.19.07.43.00;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2010.05.24.10.20.37;	author espie;	state Exp;
branches;
next	1.36;

1.36
date	2008.01.04.17.48.37;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2007.09.15.21.14.00;	author merdely;	state Exp;
branches;
next	1.34;

1.34
date	2006.10.09.09.15.22;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2006.07.17.22.07.25;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2006.01.08.02.48.34;	author brad;	state Exp;
branches;
next	1.31;

1.31
date	2005.12.23.19.54.17;	author mbalmer;	state Exp;
branches;
next	1.30;

1.30
date	2005.10.03.19.01.19;	author alek;	state Exp;
branches;
next	1.29;

1.29
date	2005.03.16.15.34.49;	author naddy;	state Exp;
branches;
next	1.28;

1.28
date	2004.12.20.10.35.34;	author alek;	state Exp;
branches;
next	1.27;

1.27
date	2004.08.10.08.46.49;	author xsa;	state Exp;
branches;
next	1.26;

1.26
date	2004.01.06.02.25.45;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2003.06.05.14.48.17;	author avsm;	state Exp;
branches;
next	1.24;

1.24
date	2003.05.12.21.16.42;	author sturm;	state Exp;
branches;
next	1.23;

1.23
date	2003.05.09.22.50.15;	author avsm;	state Exp;
branches;
next	1.22;

1.22
date	2003.04.01.12.35.38;	author avsm;	state Exp;
branches;
next	1.21;

1.21
date	2002.12.29.20.19.10;	author fgsch;	state Exp;
branches;
next	1.20;

1.20
date	2002.09.28.01.20.43;	author pvalchev;	state Exp;
branches;
next	1.19;

1.19
date	2001.06.19.17.26.42;	author avsm;	state Exp;
branches;
next	1.18;

1.18
date	2001.05.06.03.58.56;	author lebel;	state Exp;
branches;
next	1.17;

1.17
date	2001.03.22.22.06.43;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2001.01.05.16.02.21;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2000.10.22.15.58.59;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2000.10.22.15.43.28;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2000.06.09.22.37.38;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.04.09.17.38.15;	author espie;	state Exp;
branches
	1.12.2.1;
next	1.11;

1.11
date	2000.03.24.22.12.00;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.23.05.40.40;	author turan;	state Exp;
branches;
next	1.9;

1.9
date	2000.03.01.10.08.08;	author turan;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.22.17.08.47;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.11.01.10.12;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	99.11.17.08.46.13;	author kevlo;	state Exp;
branches;
next	1.5;

1.5
date	99.11.03.01.23.25;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	98.08.15.00.41.42;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.04.12.22.51.12;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	97.11.17.21.47.41;	author joey;	state Exp;
branches;
next	1.1;

1.1
date	97.11.15.00.04.28;	author deraadt;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.11.15.00.04.28;	author deraadt;	state Exp;
branches;
next	;

1.12.2.1
date	2000.09.15.05.18.03;	author marc;	state Exp;
branches;
next	;


desc
@@


1.42
log
@Tedu LPRng.
LPRng has been left off unmaintained in the ports tree for its last 14
releases and is mostly dead; there are alternatives.

no objection from my fellow porters
@
text
@# $OpenBSD: Makefile,v 1.41 2013/03/11 11:41:29 espie Exp $

COMMENT=	enhanced printer spooler

DISTNAME=	LPRng-3.8.21
REVISION =	2
CATEGORIES=	sysutils print
SHARED_LIBS=	lpr	0.0

MASTER_SITES=	ftp://ftp.lprng.com/pub/LPRng/LPRng/ \
		ftp://sunsite.ualberta.ca/pub/Mirror/LPRng/ \
		ftp://ftp.mono.org/pub/LPRng/ 
EXTRACT_SUFX=	.tgz

# GPL / Artistic
PERMIT_PACKAGE_CDROM=	Yes
WANTLIB=		c crypto ssl util

USE_LIBTOOL=	Yes
USE_GROFF =	Yes
CONFIGURE_STYLE= gnu dest
CONFIGURE_ARGS=	--with-sbindir=${PREFIX}/sbin \
		--with-filterdir=${PREFIX}/libexec/filters \
		--with-lpd_conf_path=${CONFDIR}/lpd.conf \
		--with-lpd_perms_path=${CONFDIR}/lpd.perms \
		--with-printcap_path=${SYSCONFDIR}/printcap \
		--with-cppopts=-I${LOCALBASE}/include \
		--with-ldopts=-L${LOCALBASE}/lib \
		--disable-nls

CFLAGS+=	-Dlog=mylog
FAKE_FLAGS=	POSTINSTALL=NO prefix=${TRUEPREFIX} \
		MAN=${TRUEPREFIX}/man \
		FILTER_DIR=${TRUEPREFIX}/libexec/filters \
		LPD_PERMS_PATH=${TRUEPREFIX}${CONFDIR}/lpd.perms \
		LPD_CONF_PATH=${TRUEPREFIX}${CONFDIR}/lpd.conf \
		PRINTCAP_PATH=${TRUEPREFIX}${CONFDIR}/printcap

CONFDIR=	${SYSCONFDIR}/LPRng
HTMLFILES=	LPRng-HOWTO.html 

SUBST_VARS=	CONFDIR

.include <bsd.port.arch.mk>

.if ${PROPERTIES:Mgcc4}
CFLAGS+=	-Wno-error=address
.endif

# we don't trust LPRng's (pre|post)install scripts
pre-fake:
	mkdir -p ${WRKINST}${CONFDIR}
	cp ${WRKSRC}/lpd.conf ${WRKSRC}/lpd.perms ${WRKSRC}/printcap \
		${WRKINST}${CONFDIR}

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/LPRng
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/LPRng
	cd ${WRKSRC}/HOWTO && ${INSTALL_DATA} ${HTMLFILES} \
		${PREFIX}/share/doc/LPRng
.for i in lpd.conf lpd.perms printcap
	${INSTALL_DATA} ${WRKINST}${CONFDIR}/$i ${PREFIX}/share/examples/LPRng
.endfor

.include <bsd.port.mk>
@


1.41
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/06/22 12:41:42 naddy Exp $
@


1.40
log
@use bsd.port.arch.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/11/20 17:22:40 espie Exp $
a16 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.39
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/10/19 07:43:00 espie Exp $
a33 5
.include <bsd.own.mk>
.if ${COMPILER_VERSION:L:Mgcc4*}
CFLAGS+=	-Wno-error=address
.endif

d46 6
@


1.38
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/05/24 10:20:37 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.37
log
@fix build with gcc4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2008/01/04 17:48:37 espie Exp $
d23 1
@


1.36
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2007/09/15 21:14:00 merdely Exp $
d32 5
@


1.35
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*/IGNORE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2006/10/09 09:15:22 espie Exp $
d34 1
a34 1
FAKE_FLAGS=	DESTDIR=${WRKINST} POSTINSTALL=NO prefix=${TRUEPREFIX} \
@


1.34
log
@explicitly tag setuid stuff that is.
Someone should probably look at making lPRng work with setuid daemon,
like the default stuff is...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2006/07/17 22:07:25 espie Exp $
d3 1
a3 1
COMMENT=	"enhanced printer spooler"
@


1.33
log
@enforce correct mandir.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2006/01/08 02:48:34 brad Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
@


1.32
log
@remove unused libtool 1.3 patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/12/23 19:54:17 mbalmer Exp $
d35 1
@


1.31
log
@SHARED_LIBS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/10/03 19:01:19 alek Exp $
d22 1
a32 2
USE_LIBTOOL=	Yes

a38 4

PATCH_LIST=     ${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltconfig \
		${PORTSDIR}/infrastructure/patches/patch-lt1.3.4-ltmain_sh \
                patch-*
@


1.30
log
@- Fix *DEPENDS
- USE_LIBTOOL
- Drop maintainership
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/03/16 15:34:49 naddy Exp $
d8 2
@


1.29
log
@mark conflicting packages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2004/12/20 10:35:34 alek Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
a12 2
MAINTAINER=	Jeff Bachtel <jeff@@cepheid.org>

a19 3
MODULES=	devel/gettext converters/libiconv
LIB_DEPENDS=	gdbm.2::databases/gdbm

d28 3
a30 2
		--with-libiconv-prefix=${LOCALBASE} \
		--with-libintl-prefix=${LOCALBASE}
@


1.28
log
@Add WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2004/08/10 08:46:49 xsa Exp $
d6 1
@


1.27
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2004/01/06 02:25:45 espie Exp $
d19 1
@


1.26
log
@avoid builtin log
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2003/06/05 14:48:17 avsm Exp $
d20 1
a20 1
MODULES=	gettext iconv
@


1.25
log
@this is under gpl/artistic - mark all PERMIT_ to yes
from Jeff Bachtel <jeff@@cepheid.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2003/05/12 21:16:42 sturm Exp $
d34 1
@


1.24
log
@- /etc -> SYSCONFDIR
- don't change SYSCONFDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/05/09 22:50:15 avsm Exp $
d14 2
a15 1
PERMIT_PACKAGE_CDROM=	No
d17 1
a17 1
PERMIT_DISTFILES_CDROM=	No
@


1.23
log
@security update to LPRng-3.8.21; psbanner created a very insecure
tmp file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2003/04/01 12:35:38 avsm Exp $
d25 2
a26 2
		--with-lpd_conf_path=${SYSCONFDIR}/LPRng/lpd.conf \
		--with-lpd_perms_path=${SYSCONFDIR}/LPRng/lpd.perms \
d35 3
a37 3
		LPD_PERMS_PATH=${TRUEPREFIX}/etc/LPRng/lpd.perms \
		LPD_CONF_PATH=${TRUEPREFIX}/etc/LPRng/lpd.conf \
		PRINTCAP_PATH=${TRUEPREFIX}/etc/LPRng/printcap
d43 1
d46 2
d50 3
a52 3
	mkdir -p ${WRKINST}/etc && mkdir -p ${WRKINST}/etc/LPRng; \
	cp ${WRKSRC}/lpd.conf ${WRKSRC}/lpd.perms ${WRKINST}/etc/LPRng; \
	cp ${WRKSRC}/printcap ${WRKINST}/etc/LPRng/printcap
d60 1
a60 1
	${INSTALL_DATA} ${WRKINST}${SYSCONFDIR}/LPRng/$i ${PREFIX}/share/examples/LPRng
@


1.22
log
@Update to LPRng-3.8.20, which unbreaks it

Tested by Jeff Bachtel <jeff@@cepheid.org> many moons ago
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2002/12/29 20:19:10 fgsch Exp $
d5 1
a5 1
DISTNAME=	LPRng-3.8.20
@


1.21
log
@and more..
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.20 2002/09/28 01:20:43 pvalchev Exp $

BROKEN=		"outdated and with possible security holes"
d5 1
a5 1
DISTNAME=	LPRng-3.7.4
d7 3
a9 1
MASTER_SITES=	ftp://ftp.astart.com/pub/LPRng/LPRng/
d19 1
d29 3
a31 1
		--with-ldopts=-L${LOCALBASE}/lib
d39 5
a43 6
HTMLFILES=	LPRng-HOWTO.html REDIRECT.LPRng.html \
		LPRng.html links.html LPRng.jpg LPRngT-S.jpg \
		lprng-small.png LPRngLOGO100x30.gif \
		LPRng_20logo.gif lprngtool.png \
		LPRngLOGO2.gif bg.gif star1.gif LPRngLOGO334x100.gif \
		linkbanner.gif topbanner.gif LPRngT-L.jpg lisa2000.jpg
d49 1
a49 1
	cp ${WRKSRC}/printcap.in ${WRKINST}/etc/LPRng/printcap
@


1.20
log
@Mark BROKEN: very outdated and with possible security holes, see various
bugtraq postings (installed setuid root)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/06/19 17:26:42 avsm Exp $
a8 1
NEED_VERSION=	1.403
@


1.19
log
@- update to LPRng-3.7.4
- this unbreaks and fakes the port
- new maintainer

Work by Jeff Bachtel <jeff@@cepheid.org>, some fixes by me

## Not one person on ports@@ showed interest in testing this out,
## so if you have a printer then please give feedback
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.17 2001/03/22 22:06:43 brad Exp $
@


1.18
log
@sysutils: integrate COMMENT, bump NEED_VERSION.
@
text
@d5 5
a9 1
BROKEN=		"installs files directly into /etc"
d11 1
a11 7
DISTNAME=		LPRng-3.6.12
CATEGORIES=		sysutils print
NEED_VERSION=		1.402
MASTER_SITES=		ftp://ftp.astart.com/pub/LPRng/LPRng/
EXTRACT_SUFX=		.tgz

MAINTAINER=		ports@@openbsd.org
d18 29
a46 18
CONFIGURE_STYLE=	gnu dest
CONFIGURE_ARGS=	--with-sbindir='$${DESTDIR}${PREFIX}/sbin' \
		--with-filterdir='$${DESTDIR}${PREFIX}/libexec/filters' \
		--with-lpd_conf_path='$${DESTDIR}${SYSCONFDIR}/lpd.conf' \
		--with-lpd_perms_path='$${DESTDIR}${SYSCONFDIR}/lpd.perms' \
		--with-printcap_path='$${DESTDIR}${SYSCONFDIR}/printcap'

MAKE_FILE=		Makefile.bsd

HTMLFILES=		LPRng-HOWTO-1.html LPRng-HOWTO-2.html \
			LPRng-HOWTO-3.html LPRng-HOWTO-4.html \
			LPRng-HOWTO-5.html LPRng-HOWTO-6.html \
			LPRng-HOWTO-7.html LPRng-HOWTO-8.html \
			LPRng-HOWTO-9.html LPRng-HOWTO-10.html \
			LPRng-HOWTO-11.html LPRng-HOWTO-12.html \
			LPRng-HOWTO-13.html LPRng-HOWTO-14.html \
			LPRng-HOWTO-15.html LPRng-HOWTO.html \
			LPRng.html bg.gif star1.gif
a48 4
	${INSTALL_DATA} ${WRKSRC}/lpd.conf ${PREFIX}/lib/lpd.conf-sample
	${INSTALL_DATA} ${WRKSRC}/lpd.perms ${PREFIX}/lib/lpd.perms-sample
	test -f /etc/lpd.conf || ${INSTALL_DATA} ${WRKSRC}/lpd.conf /etc
	test -f /etc/lpd.perms || ${INSTALL_DATA} ${WRKSRC}/lpd.perms /etc
d50 1
d53 3
a55 1
	@@cat ${PKGDIR}/MESSAGE
@


1.17
log
@- mkdir -> ${INSTALL_DATA_DIR}
- kill off FreeBSD-ism (NOPORTDOCS knob)
--
Patch from: Pete Fritchman <petef@@databits.net>
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.16 2001/01/05 16:02:21 brad Exp $
d9 1
a9 1
NEED_VERSION=		1.336
@


1.16
log
@mark BROKEN. installs files directly into /etc, needs proper
INSTALL/DEINSTALL scripts to work properly as a package and to correct the
behavior of this port.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/10/22 15:58:59 espie Exp $
d42 1
a42 1
	mkdir -p ${PREFIX}/share/doc/LPRng
@


1.15
log
@Missed one
@
text
@d1 3
a3 7
# OpenBSD makefile for:	LPRng
# Version required:	3.5.1
# Date created:		2 Apr 1997
# Whom:			ejovi
#
# $OpenBSD: Makefile,v 1.14 2000/10/22 15:43:28 espie Exp $
#
d7 3
a9 1
NEED_VERSION=		1.305
d13 1
a13 1
PERMIT_PACKAGE_CDROM=	Yes
d15 1
a15 1
PERMIT_DISTFILES_CDROM=	Yes
a16 5

MASTER_SITES=		ftp://ftp.astart.com/pub/LPRng/LPRng/
EXTRACT_SUFX=		.tgz

NO_CDROM=		"To many copyrights/licences to verify destribution OK"
@


1.14
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.13 2000/06/09 22:37:38 espie Exp $
a24 1
HAS_CONFIGURE=		Yes
@


1.13
log
@Easy fake
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.12 2000/04/09 17:38:15 espie Exp $
d11 1
a11 1
NEED_VERSION=		1.210
d26 2
a27 3
CONFIGURE_ARGS=	--prefix='$${DESTDIR}${PREFIX}' \
		--sysconfdir='$${DESTDIR}${SYSCONFDIR}' \
		--with-sbindir='$${DESTDIR}${PREFIX}/sbin' \
@


1.12
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.11 2000/03/24 22:12:00 espie Exp $
a11 1
FAKE=No
d25 8
a32 7
GNU_CONFIGURE=		yes
CONFIGURE_ARGS=         \
			--with-sbindir=${PREFIX}/sbin \
			--with-filterdir=${PREFIX}/libexec/filters \
			--with-lpd_conf_path=/etc/lpd.conf \
			--with-lpd_perms_path=/etc/lpd.perms \
			--with-printcap_path=/etc/printcap
d52 2
a53 2
	(cd ${WRKSRC}/HOWTO && ${INSTALL_DATA} ${HTMLFILES} \
		${PREFIX}/share/doc/LPRng )
@


1.12.2.1
log
@bring sysutils as of cut-over date into 2.7 branch
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.13 2000/06/09 22:37:38 espie Exp $
d12 1
d26 7
a32 8
HAS_CONFIGURE=		Yes
CONFIGURE_ARGS=	--prefix='$${DESTDIR}${PREFIX}' \
		--sysconfdir='$${DESTDIR}${SYSCONFDIR}' \
		--with-sbindir='$${DESTDIR}${PREFIX}/sbin' \
		--with-filterdir='$${DESTDIR}${PREFIX}/libexec/filters' \
		--with-lpd_conf_path='$${DESTDIR}${SYSCONFDIR}/lpd.conf' \
		--with-lpd_perms_path='$${DESTDIR}${SYSCONFDIR}/lpd.perms' \
		--with-printcap_path='$${DESTDIR}${SYSCONFDIR}/printcap'
d52 2
a53 2
	cd ${WRKSRC}/HOWTO && ${INSTALL_DATA} ${HTMLFILES} \
		${PREFIX}/share/doc/LPRng
@


1.11
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.10 2000/03/23 05:40:40 turan Exp $
d12 1
@


1.10
log
@license
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.9 2000/03/01 10:08:08 turan Exp $
d11 1
a21 1
NEED_VERSION=		1.210
@


1.9
log
@change maintainer to ports@@openbsd.org as requested
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.8 2000/02/22 17:08:47 espie Exp $
d13 5
@


1.8
log
@MAKEFILE-> MAKE_FILE
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.7 2000/02/11 01:10:12 espie Exp $
d12 1
a12 1
MAINTAINER=		marc@@openbsd.org
@


1.7
log
@Kill a large set of deprecated variables.
Thoroughly unsubtle, most mkdir -p should probably be INSTALL* at
*install stage, and echo/ECHO_MSG is somewhat unsorted.

It's quite possible I missed a few automated changes...
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.6 1999/11/17 08:46:13 kevlo Exp $
d16 1
d28 1
a28 1
MAKEFILE=		Makefile.bsd
@


1.6
log
@Mark it unbroken and update to version 3.6.12.
Fix PLIST.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 1999/11/03 01:23:25 turan Exp $
d44 1
a44 1
	${MKDIR} ${PREFIX}/share/doc/LPRng
@


1.5
log
@broken, bad packing lists
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 1998/08/15 00:41:42 marc Exp $
d9 1
a9 3
BROKEN=			bad packing lists

DISTNAME=		LPRng-3.5.1
d20 6
a25 2
CONFIGURE_ARGS=		--with-lpddir=${PREFIX}/libexec
CONFIGURE_ARGS+=	--with-admindir=${PREFIX}/sbin
@


1.4
log
@update to 3.5.1 (current stable version); ftp site changed
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1998/04/12 22:51:12 marc Exp $
d8 2
@


1.3
log
@Update NO_CDROM reasons
@
text
@d2 1
a2 1
# Version required:	3.2.3
d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1997/11/17 21:47:41 joey Exp $
d9 2
a10 15
DISTNAME=	LPRng-3.2.3
CATEGORIES=	sysutils print
NO_CDROM=	"To many copyrights/licences to verify destribution OK"
MASTER_SITES=	ftp://dickory.sdsu.edu/pub/LPRng/
EXTRACT_SUFX=	.tgz

MAINTAINER=	joey@@openbsd.org

MAKEFILE=	Makefile.bsd
GNU_CONFIGURE=	yes

post-patch:
	@@mv ${WRKSRC}/src/common/default.c ${WRKSRC}/src/common/default.c.tmp
	@@${SED} -e "s|@@@@PREFIX@@@@|${PREFIX}|g" \
	    <${WRKSRC}/src/common/default.c.tmp >${WRKSRC}/src/common/default.c
d12 22
a33 2
pre-build:
	(cd ${WRKSRC}/po ; ln -s Makefile ${MAKEFILE})
d36 6
a41 27
	(cd ${WRKSRC} ; ${SETENV} ${MAKE_ENV} ${MAKE} ${MAKE_FLAGS} ${MAKEFILE} default)
	${LDCONFIG} -m ${PREFIX}/lib
	${INSTALL} -d -g bin -o bin -m 0555 ${PREFIX}/share/doc/LPRng
	(cd ${WRKSRC} ; ${INSTALL_DATA} \
		README \
		README.1st \
		README.LPRng_to_lpr_spooling \
		README.accounting \
		README.authentication \
		README.banner \
		README.bouncequeues \
		README.deskjet \
		README.install \
		README.kerberos_authentication \
		README.logger \
		README.lp_Malformed_from_address \
		README.lp_emulation \
		README.lpd.conf \
		README.lpd.perms \
		README.nis \
		README.pgp_authentication \
		README.ports \
		README.printcap \
		README.routing \
		README.solaris \
		README.solaris.newsprint \
		README.statusdisplays \
a42 3
	@@cat ${FILESDIR}/lprng.sh | \
		${SED} -e "s|@@@@PREFIX@@@@|${PREFIX}|g" > ${PREFIX}/etc/rc.d/lprng.sh
	@@chmod +x ${PREFIX}/etc/rc.d/lprng.sh
@


1.2
log
@added $OpenBSD$, changed ejovi to joey...removed freebsd contact from ssh
@
text
@d6 1
a6 1
# $OpenBSD$
d11 1
@


1.1
log
@Initial revision
@
text
@d5 3
@


1.1.1.1
log
@initial ports subsystem from joey
@
text
@@
