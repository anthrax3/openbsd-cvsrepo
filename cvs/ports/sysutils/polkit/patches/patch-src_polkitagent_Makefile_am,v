head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.10
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.6.0.8
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.6
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.4
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.2
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.4.0.6
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.4
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.1.1.0.4
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.2
	OPENBSD_4_8_BASE:1.1.1.1
	ajacoutot_20100701:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2015.07.20.20.16.59;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	JWMCXULG2yOge18a;

1.5
date	2014.03.09.22.26.56;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2012.11.20.14.11.48;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.08.17.16.59.27;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.04.28.13.09.07;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.07.01.07.46.21;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.07.01.07.46.21;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Pushed upstream.
@
text
@$OpenBSD: patch-src_polkitagent_Makefile_am,v 1.5 2014/03/09 22:26:56 ajacoutot Exp $

From 074df27827fd773f1c76545cd08da568440ca41f Mon Sep 17 00:00:00 2001
From: Antoine Jacoutot <ajacoutot@@gnome.org>
Date: Sun, 19 Jul 2015 02:19:08 +0200
Subject: Add support for OpenBSD

--- src/polkitagent/Makefile.am.orig	Mon Jun  4 19:47:39 2012
+++ src/polkitagent/Makefile.am	Fri Aug 17 09:23:26 2012
@@@@ -91,6 +91,9 @@@@ endif
 if POLKIT_AUTHFW_SHADOW
 polkit_agent_helper_1_SOURCES += polkitagenthelper-shadow.c
 endif
+if POLKIT_AUTHFW_BSDAUTH
+polkit_agent_helper_1_SOURCES += polkitagenthelper-bsdauth.c
+endif
 
 polkit_agent_helper_1_CFLAGS  = 					\
         -D_POLKIT_COMPILATION                                  		\
@


1.5
log
@Merge some build patches from upstream and add BZ URLs.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_polkitagent_Makefile_am,v 1.4 2012/11/20 14:11:48 ajacoutot Exp $
d3 4
a6 1
https://bugs.freedesktop.org/show_bug.cgi?id=75187
@


1.4
log
@Major update to polkit-0.108.
@
text
@d1 4
a4 1
$OpenBSD: patch-src_polkitagent_Makefile_am,v 1.3 2011/08/17 16:59:27 ajacoutot Exp $
@


1.3
log
@Bugfix update to polkit-0.102.
@
text
@d1 4
a4 4
$OpenBSD: patch-src_polkitagent_Makefile_am,v 1.2 2011/04/28 13:09:07 ajacoutot Exp $
--- src/polkitagent/Makefile.am.orig	Sat Feb 26 23:23:53 2011
+++ src/polkitagent/Makefile.am	Wed Apr 27 19:10:36 2011
@@@@ -89,6 +89,9 @@@@ endif
@


1.2
log
@Update to polkit-0.101.
Merge several patches from upstream to fix CVE-2011-1485.

ok jasper@@
@
text
@d1 1
a1 7
$OpenBSD: patch-src_polkitagent_Makefile_am,v 1.1.1.1 2010/07/01 07:46:21 ajacoutot Exp $

From c29a6fd701df08e10e384cce65356af9a5a559f3 Mon Sep 17 00:00:00 2001
From: Benjamin Otte <otte@@redhat.com>
Date: Fri, 11 Mar 2011 13:01:27 +0000
Subject: introspection: Add --c-include to the gir files

a13 8
@@@@ -120,6 +123,7 @@@@ PolkitAgent-1.0.gir: libpolkit-agent-1.la $(INTROSPECT
 		--pkg=glib-2.0 					\
 		--pkg=gobject-2.0 				\
 		--pkg=gio-2.0 					\
+		--c-include='polkitagent/polkitagent.h'		\
 		--libtool=$(top_builddir)/libtool		\
                 -I$(top_srcdir)/src	 			\
 	        -D_POLKIT_COMPILATION                   	\
@


1.1
log
@Initial revision
@
text
@d1 13
a13 17
$OpenBSD$
--- src/polkitagent/Makefile.am.orig	Wed Mar 10 18:46:19 2010
+++ src/polkitagent/Makefile.am	Sun Jun 27 17:49:46 2010
@@@@ -68,8 +68,18 @@@@ libpolkit_agent_1_la_LDFLAGS = -export-symbols-regex '
 libexec_PROGRAMS = polkit-agent-helper-1
 
 polkit_agent_helper_1_SOURCES = 					\
-	polkitagenthelper.c						\
-	$(NULL)
+	polkitagenthelperprivate.c polkitagenthelperprivate.h		
+
+if POLKIT_AUTHFW_PAM
+polkit_agent_helper_1_SOURCES += polkitagenthelper-pam.c
+endif
+if POLKIT_AUTHFW_SHADOW
+polkit_agent_helper_1_SOURCES += polkitagenthelper-shadow.c
+endif
a16 1
+polkit_agent_helper_1_SOURCES += $(NULL)
d20 8
@


1.1.1.1
log
@Import polkit-0.97.

PolicyKit is an application-level toolkit for defining and handling the
policy that allows unprivileged processes to speak to privileged
processes. It is a framework for centralizing the decision making
process with respect to granting access to privileged operations for
unprivileged applications. PolicyKit is specifically targeting
applications in rich desktop environments on multi-user UNIX-like
operating systems. It does not imply or rely on any exotic kernel
features.


bsd_auth(3) support is based on the Slackware Linux shadow
authentication port.
Several patches from FreeBSD and NetBSD.

*While basic functionnality works, this is NOT hooked up yet as more
things are coming*
@
text
@@
