head	1.4;
access;
symbols
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3;
locks; strict;
comment	@# @;


1.4
date	2011.08.17.16.59.27;	author ajacoutot;	state dead;
branches;
next	1.3;

1.3
date	2011.05.16.17.30.31;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.04.28.13.09.07;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.07.11.12.12;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Bugfix update to polkit-0.102.
@
text
@$OpenBSD: patch-src_polkit_Makefile_am,v 1.3 2011/05/16 17:30:31 ajacoutot Exp $

From c29a6fd701df08e10e384cce65356af9a5a559f3 Mon Sep 17 00:00:00 2001
From: Benjamin Otte <otte@@redhat.com>
Date: Fri, 11 Mar 2011 13:01:27 +0000
Subject: introspection: Add --c-include to the gir files

--- src/polkit/Makefile.am.orig	Sat Feb 26 23:23:53 2011
+++ src/polkit/Makefile.am	Mon May 16 17:11:07 2011
@@@@ -110,6 +110,7 @@@@ Polkit-1.0.gir: libpolkit-gobject-1.la $(INTROSPECTION
 		--pkg=gobject-2.0 				\
 		--pkg=gio-2.0 					\
 		--libtool=$(top_builddir)/libtool		\
+		--c-include='polkit/polkit.h'			\
                 -I$(top_srcdir)/src	 			\
 	        -D_POLKIT_COMPILATION                   	\
 		$(libpolkit_gobject_1_la_SOURCES)		\
@


1.3
log
@Remove part of this patch which is not needed.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_polkit_Makefile_am,v 1.2 2011/04/28 13:09:07 ajacoutot Exp $
@


1.2
log
@Update to polkit-0.101.
Merge several patches from upstream to fix CVE-2011-1485.

ok jasper@@
@
text
@d1 1
a1 3
$OpenBSD$

src/polkit/tmp-introspect6TgxO1/.libs/Polkit-1.0: can't load library 'libpolkit-gobject-1.so.X.X'
d9 2
a10 2
+++ src/polkit/Makefile.am	Wed Apr 27 20:29:34 2011
@@@@ -110,7 +110,9 @@@@ Polkit-1.0.gir: libpolkit-gobject-1.la $(INTROSPECTION
a15 1
+		-L$(top_srcdir)/src/polkit/.libs		\
a17 1
 		$(NULL)
@


1.1
log
@Add introspection support (needed for on-going GNOME 3 work).
@
text
@d2 20
a21 11
--- src/polkit/Makefile.am.orig	Thu Apr  7 11:42:24 2011
+++ src/polkit/Makefile.am	Thu Apr  7 11:42:52 2011
@@@@ -154,7 +154,7 @@@@ Polkit-1.0.gir: libpolkit-gobject-1.la $(G_IR_SCANNER)
 		$(srcdir)/polkitauthorizationresult.h 		\
 		$(srcdir)/polkitcheckauthorizationflags.h 	\
 		$(srcdir)/polkitdetails.h 			\
-		$(builddir)/polkitenumtypes.h 			\
+		$(srcdir)/polkitenumtypes.h 			\
 		$(srcdir)/polkiterror.h 			\
 		$(srcdir)/polkitidentity.h 			\
 		$(srcdir)/polkitimplicitauthorization.h 	\
@

