head	1.5;
access;
symbols
	OPENBSD_5_5:1.4.0.6
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.4
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.3.0.4
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.1.1.0.4
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.2
	OPENBSD_4_8_BASE:1.1.1.1
	ajacoutot_20100701:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2014.03.09.22.26.56;	author ajacoutot;	state dead;
branches;
next	1.4;

1.4
date	2012.11.20.14.11.48;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.08.17.16.59.27;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.04.28.13.09.07;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.07.01.07.46.21;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.07.01.07.46.21;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Merge some build patches from upstream and add BZ URLs.
@
text
@$OpenBSD: patch-docs_man_pkexec_xml,v 1.4 2012/11/20 14:11:48 ajacoutot Exp $
--- docs/man/pkexec.xml.orig	Fri Aug 17 09:27:56 2012
+++ docs/man/pkexec.xml	Fri Aug 17 09:29:50 2012
@@@@ -155,7 +155,7 @@@@
       like this:
     </para>
     <programlisting><![CDATA[
-#!/usr/bin/pkexec /usr/bin/python
+#!${PREFIX}/bin/pkexec ${MODPY_BIN}
 
 import os
 import sys
@@@@ -166,20 +166,20 @@@@ for n in range(len(sys.argv)):
     print "arg[%d]=`%s'"%(n, sys.argv[n])
 ]]></programlisting>
     <para>
-      If this script is installed into <filename>/usr/bin/my-pk-test</filename>,
+      If this script is installed into <filename>${PREFIX}/bin/my-pk-test</filename>,
       then the following annotations
     </para>
     <programlisting><![CDATA[
   [...]
-  <annotate key="org.freedesktop.policykit.exec.path">/usr/bin/python</annotate>
-  <annotate key="org.freedesktop.policykit.exec.argv1">/usr/bin/my-pk-test</annotate>
+  <annotate key="org.freedesktop.policykit.exec.path">${MODPY_BIN}</annotate>
+  <annotate key="org.freedesktop.policykit.exec.argv1">${PREFIX}/bin/my-pk-test</annotate>
   [...]
 ]]></programlisting>
     <para>
       can be used to select the appropriate polkit action. Be careful
       to get the latter annotation right, otherwise it will match any
       <command>pkexec</command> invocation of
-      <filename>/usr/bin/python</filename> scripts.
+      <filename>${MODPY_BIN}</filename> scripts.
     </para>
   </refsect1>
 
@


1.4
log
@Major update to polkit-0.108.
@
text
@d1 1
a1 1
$OpenBSD: patch-docs_man_pkexec_xml,v 1.3 2011/08/17 16:59:27 ajacoutot Exp $
@


1.3
log
@Bugfix update to polkit-0.102.
@
text
@d1 15
a15 5
$OpenBSD: patch-docs_man_pkexec_xml,v 1.2 2011/04/28 13:09:07 ajacoutot Exp $
--- docs/man/pkexec.xml.orig	Mon Aug  1 15:47:28 2011
+++ docs/man/pkexec.xml	Wed Aug 17 18:20:36 2011
@@@@ -150,14 +150,14 @@@@
   <refsect1 id="pkexec-example"><title>EXAMPLE</title>
d17 3
a19 4
       To specify what kind of authorization is needed to execute the
-      program <filename>/usr/bin/pk-example-frobnicate</filename> as
+      program <filename>${PREFIX}/bin/pk-example-frobnicate</filename> as
       another user, simply write an action definition file like this
d21 8
a28 2
     <programlisting>
 <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" parse="text" href="../../src/examples/org.freedesktop.policykit.examples.pkexec.policy"><xi:fallback>FIXME: MISSING XINCLUDE CONTENT</xi:fallback></xi:include></programlisting>
d30 8
a37 24
       and drop it in the
-      <filename>/usr/share/polkit-1/actions</filename> directory under
+      <filename>${PREFIX}/share/polkit-1/actions</filename> directory under
       a suitable name (e.g. matching the namespace of the action).
       Note that in addition to specifying the program, the
       authentication message, description, icon and defaults can be
@@@@ -192,7 +192,7 @@@@
 |          Password: [__________________________________]  |
 |                                                          |
 | [V] Details:                                             |
-|  Command: /usr/bin/pk-example-frobnicate                 |
+|  Command: ${PREFIX}/bin/pk-example-frobnicate                 |
 |  Run As:  Super User (root)                              |
 |  Action:  org.fd.pk.example.pkexec.run-frobnicate        |
 |  Vendor:  Examples for the PolicyKit Project             |
@@@@ -226,7 +226,7 @@@@
 |                                                          |
 | [V] Detaljer:                                            |
 |  Bruger:   Super User (root)                             |
-|  Program:  /usr/bin/pk-example-frobnicate                |
+|  Program:  ${PREFIX}/bin/pk-example-frobnicate                |
 |  Handling: org.fd.pk.example.pkexec.run-frobnicate       |
 |  Vendor:   Examples for the PolicyKit Project            |
 |                                                          |
@


1.2
log
@Update to polkit-0.101.
Merge several patches from upstream to fix CVE-2011-1485.

ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-docs_man_pkexec_xml,v 1.1.1.1 2010/07/01 07:46:21 ajacoutot Exp $
--- docs/man/pkexec.xml.orig	Thu Mar  3 18:22:50 2011
+++ docs/man/pkexec.xml	Wed Apr 27 16:10:43 2011
@@@@ -146,14 +146,14 @@@@
d21 1
a21 1
@@@@ -188,7 +188,7 @@@@
d30 1
a30 1
@@@@ -222,7 +222,7 @@@@
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- docs/man/pkexec.xml.orig	Sun Jun 27 19:09:16 2010
+++ docs/man/pkexec.xml	Sun Jun 27 19:12:38 2010
@@@@ -131,14 +131,14 @@@@
d15 5
a19 5
       and drop it in
-      the <filename>/usr/share/polkit-1/actions</filename> directory
+      the <filename>${PREFIX}/share/polkit-1/actions</filename> directory
       under a suitable name (e.g. matching the namespace of the
       action).  Note that in addition to specifying the program, the
d21 1
a21 1
@@@@ -165,7 +165,7 @@@@
d30 1
a30 1
@@@@ -199,7 +199,7 @@@@
@


1.1.1.1
log
@Import polkit-0.97.

PolicyKit is an application-level toolkit for defining and handling the
policy that allows unprivileged processes to speak to privileged
processes. It is a framework for centralizing the decision making
process with respect to granting access to privileged operations for
unprivileged applications. PolicyKit is specifically targeting
applications in rich desktop environments on multi-user UNIX-like
operating systems. It does not imply or rely on any exotic kernel
features.


bsd_auth(3) support is based on the Slackware Linux shadow
authentication port.
Several patches from FreeBSD and NetBSD.

*While basic functionnality works, this is NOT hooked up yet as more
things are coming*
@
text
@@
