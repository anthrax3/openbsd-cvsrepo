head     1.1;
branch   1.1.1;
access   ;
symbols  ajacoutot_20170629:1.1.1.1 ajacoutot:1.1.1;
locks    ; strict;
comment  @ * @;


1.1
date     2017.06.29.14.35.10;  author ajacoutot;  state Exp;
branches 1.1.1.1;
next     ;
commitid        FQ3NnBpJ9w1JuoMM;

1.1.1.1
date     2017.06.29.14.35.10;  author ajacoutot;  state Exp;
branches ;
next     ;
commitid        FQ3NnBpJ9w1JuoMM;


desc
@@



1.1
log
@Initial revision
@
text
@#!/bin/sh
#
# $OpenBSD$

# "meta" script running the following rc.d(8) scripts with the given argument;
# note that daemon_flags, daemon_user, daemon_timeout and daemon_class are not
# passed to the child scripts.
_pkg_scripts="google_accounts_daemon google_clock_skew_daemon google_ip_forwarding_daemon"

if [ "$1" = restart ]; then
	$0 stop && $0 start
	exit
fi

if [ "$1" = stop ]; then
	for _i in ${_pkg_scripts}; do _l="${_i} ${_l}"; done
	_pkg_scripts=${_l% }
	${MODPY_BIN} ${TRUEPREFIX}/bin/google_metadata_script_runner \
		--script-type=shutdown || exit
fi

if [ "$1" = start ]; then
	${MODPY_BIN} ${TRUEPREFIX}/bin/google_instance_setup || exit
	${MODPY_BIN} ${TRUEPREFIX}/bin/google_network_setup || exit
	${MODPY_BIN} ${TRUEPREFIX}/bin/google_metadata_script_runner \
		--script-type=startup || exit
fi

for _i in ${_pkg_scripts}; do
	if [[ -x ${RCDIR}/${_i} ]]; then
		${RCDIR}/${_i} $@@ || exit $?
	fi
done
@


1.1.1.1
log
@Import google-compute-engine-2.4.0.

Google Compute Engine offers scripts and daemons which runs in the
background and provides the following services:
<...>

from MAINTAINER Helen Koike  helen dot koike at collabora dot com with a few tweaks
ok sthen@@
@
text
@@
