head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.04.24.01.41.09;	author jca;	state Exp;
branches;
next	;
commitid	OilYMttNLX8EvKlQ;


desc
@@


1.1
log
@Fix abuse of __attribute__ that breaks with clang

Stolen from natano@@ in
https://lists.gnu.org/archive/html/info-mtools/2014-02/msg00000.html
@
text
@$OpenBSD$
--- mainloop.c.orig	Mon Apr 24 03:37:59 2017
+++ mainloop.c	Mon Apr 24 03:38:33 2017
@@@@ -86,7 +86,7 @@@@ static const char *fix_mcwd(char *ans)
 }
 
 int unix_dir_loop(Stream_t *Stream, MainParam_t *mp); 
-int unix_loop(UNUSED(Stream_t *Stream), MainParam_t *mp, char *arg,
+int unix_loop(Stream_t *Stream UNUSEDP, MainParam_t *mp, char *arg,
 	      int follow_dir_link);
 
 static int _unix_loop(Stream_t *Dir, MainParam_t *mp,
@@@@ -95,7 +95,7 @@@@ static int _unix_loop(Stream_t *Dir, MainParam_t *mp,
 	return unix_dir_loop(Dir, mp);
 }
 
-int unix_loop(UNUSED(Stream_t *Stream), MainParam_t *mp,
+int unix_loop(Stream_t *Stream UNUSEDP, MainParam_t *mp,
 	      char *arg, int follow_dir_link)
 {
 	int ret;
@
