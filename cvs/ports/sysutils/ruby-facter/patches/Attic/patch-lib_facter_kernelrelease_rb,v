head	1.4;
access;
symbols
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2014.06.25.22.00.24;	author jasper;	state dead;
branches;
next	1.3;
commitid	Q9F5fWaMIbw02nqS;

1.3
date	2014.03.09.19.51.16;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2013.04.26.12.15.55;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2013.03.08.06.38.08;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- update to facter-2.1.0
* nearly all local patches have been merged into a release now
* http://docs.puppetlabs.com/facter/2.1/release_notes.html
@
text
@$OpenBSD: patch-lib_facter_kernelrelease_rb,v 1.3 2014/03/09 19:51:16 jasper Exp $

From 810b33b1fb758f488e3a3ee24a69ff5cf55412d9 Mon Sep 17 00:00:00 2001
From: Antoine Jacoutot <ajacoutot@@gnome.org>
Date: Sat, 11 May 2013 10:30:14 +0200
Subject: [PATCH 1/3] (#19293) Enhance the release fact for OpenBSD

--- lib/facter/kernelrelease.rb.orig	Mon Apr 15 20:13:14 2013
+++ lib/facter/kernelrelease.rb	Fri Apr 26 14:04:32 2013
@@@@ -20,6 +20,13 @@@@ Facter.add(:kernelrelease) do
   setcode 'oslevel -s'
 end
 
+Facter.add("kernelrelease") do
+  confine :kernel => :openbsd
+  setcode do
+    Facter::Util::Resolution.exec("/sbin/sysctl -n kern.version").split(' ')[1]
+  end
+end
+
 Facter.add(:kernelrelease) do
   confine :kernel => "hp-ux"
   setcode do
@


1.3
log
@sync comments for patches submitted/merged upstream
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_facter_kernelrelease_rb,v 1.2 2013/04/26 12:15:55 robert Exp $
@


1.2
log
@update to 1.7.0
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_facter_kernelrelease_rb,v 1.1 2013/03/08 06:38:08 ajacoutot Exp $
d3 4
a6 1
http://projects.puppetlabs.com/issues/19293
@


1.1
log
@Fix HOMEPAGE/MASTER_SITES.
No need for USE_GROFF.
Fix exampledir.

Fix kernelrelease fact to return info about the release along its
version (e.g. 5.3-beta).

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
d5 2
a6 2
--- lib/facter/kernelrelease.rb.orig	Fri Feb 15 10:06:57 2013
+++ lib/facter/kernelrelease.rb	Fri Feb 15 10:07:09 2013
d19 1
a19 1
   confine :kernel => %{windows}
@

