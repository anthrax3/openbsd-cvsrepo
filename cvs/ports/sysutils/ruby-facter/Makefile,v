head	1.88;
access;
symbols
	OPENBSD_6_1:1.88.0.2
	OPENBSD_6_1_BASE:1.88
	OPENBSD_6_0:1.85.0.2
	OPENBSD_6_0_BASE:1.85
	OPENBSD_5_9:1.84.0.2
	OPENBSD_5_9_BASE:1.84
	OPENBSD_5_8:1.80.0.4
	OPENBSD_5_8_BASE:1.80
	OPENBSD_5_7:1.73.0.2
	OPENBSD_5_7_BASE:1.73
	OPENBSD_5_6:1.61.0.2
	OPENBSD_5_6_BASE:1.61
	OPENBSD_5_5:1.50.0.2
	OPENBSD_5_5_BASE:1.50
	OPENBSD_5_4:1.45.0.2
	OPENBSD_5_4_BASE:1.45
	OPENBSD_5_3:1.28.0.2
	OPENBSD_5_3_BASE:1.28
	OPENBSD_5_2:1.22.0.2
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.21
	OPENBSD_5_1:1.21.0.2
	OPENBSD_5_0:1.18.0.2
	OPENBSD_5_0_BASE:1.18
	OPENBSD_4_9:1.16.0.2
	OPENBSD_4_9_BASE:1.16
	OPENBSD_4_8:1.9.0.4
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.8.0.6
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.4
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.2
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	robert_20070102:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.88
date	2016.09.06.11.26.07;	author jasper;	state Exp;
branches;
next	1.87;
commitid	xEqzJFuEBwCQlM6x;

1.87
date	2016.09.05.09.00.53;	author jasper;	state Exp;
branches;
next	1.86;
commitid	QqB45N2PvXoRrS6l;

1.86
date	2016.09.05.09.00.08;	author jasper;	state Exp;
branches;
next	1.85;
commitid	i2n4AbDJLmxZQ2Ec;

1.85
date	2016.06.29.16.14.44;	author espie;	state Exp;
branches;
next	1.84;
commitid	c1yQMbJbfo0CFBcL;

1.84
date	2016.01.27.08.35.00;	author jasper;	state Exp;
branches;
next	1.83;
commitid	LNbk8RalzUtgxmjf;

1.83
date	2016.01.22.07.44.13;	author jasper;	state Exp;
branches;
next	1.82;
commitid	94MDFx57xcOtPn0E;

1.82
date	2015.09.01.07.23.35;	author jasper;	state Exp;
branches;
next	1.81;
commitid	GK53ITy0QWQ9zkRW;

1.81
date	2015.08.24.10.32.00;	author jasper;	state Exp;
branches;
next	1.80;
commitid	owR9L1SaNEw6yiDf;

1.80
date	2015.07.16.23.00.45;	author ajacoutot;	state Exp;
branches;
next	1.79;
commitid	ufIPnSUPOw4Trtz2;

1.79
date	2015.07.01.09.21.53;	author ajacoutot;	state Exp;
branches;
next	1.78;
commitid	PcBqavNz9vf4LFMJ;

1.78
date	2015.07.01.09.12.01;	author jasper;	state Exp;
branches;
next	1.77;
commitid	Fb0Rp6ZRDsmZbZbh;

1.77
date	2015.06.25.06.56.06;	author jasper;	state Exp;
branches;
next	1.76;
commitid	v0MBRn1uAt4337ET;

1.76
date	2015.05.30.08.44.36;	author jasper;	state Exp;
branches;
next	1.75;
commitid	uRu6RzAxt8WU8Nky;

1.75
date	2015.04.03.09.04.00;	author jasper;	state Exp;
branches;
next	1.74;
commitid	T548BkWZKtXRGRGe;

1.74
date	2015.04.03.08.48.02;	author jasper;	state Exp;
branches;
next	1.73;
commitid	Z0ZeVA2Pbzm0WFvl;

1.73
date	2015.02.15.15.51.18;	author jasper;	state Exp;
branches;
next	1.72;
commitid	lotTv3uKnLljQ35W;

1.72
date	2014.10.31.07.36.22;	author jasper;	state Exp;
branches;
next	1.71;
commitid	X5SFtHm6VoEIGON9;

1.71
date	2014.10.30.12.19.33;	author jasper;	state Exp;
branches;
next	1.70;
commitid	2CuN8G5XU4wnsO10;

1.70
date	2014.10.13.07.39.06;	author landry;	state Exp;
branches;
next	1.69;
commitid	fL9U3fqoEd9oSABM;

1.69
date	2014.09.27.17.08.47;	author jeremy;	state Exp;
branches;
next	1.68;
commitid	VuChuI65GQ9mvmEc;

1.68
date	2014.09.24.09.45.00;	author jasper;	state Exp;
branches;
next	1.67;
commitid	yg4NbS05iXFxXIym;

1.67
date	2014.09.24.09.38.19;	author espie;	state Exp;
branches;
next	1.66;
commitid	Mmyd5JkC9PgIkMhv;

1.66
date	2014.09.23.09.21.51;	author sthen;	state Exp;
branches;
next	1.65;
commitid	dTSiuGAkIBOlAwBE;

1.65
date	2014.09.16.09.07.03;	author espie;	state Exp;
branches;
next	1.64;
commitid	RMOje3pTBXZOKU4I;

1.64
date	2014.08.26.19.58.25;	author jasper;	state Exp;
branches;
next	1.63;
commitid	QV3xI4oMWGaPtBTD;

1.63
date	2014.08.26.07.38.35;	author jasper;	state Exp;
branches;
next	1.62;
commitid	IIq4sF57QibaEv1u;

1.62
date	2014.08.26.07.03.31;	author jasper;	state Exp;
branches;
next	1.61;
commitid	irDIWtR2NSvcUe6r;

1.61
date	2014.07.21.15.51.16;	author jasper;	state Exp;
branches;
next	1.60;
commitid	G0i80gSO2xMu2vrc;

1.60
date	2014.07.09.16.27.19;	author jasper;	state Exp;
branches;
next	1.59;
commitid	UgUTMjZBmRuB9i2H;

1.59
date	2014.06.25.22.00.24;	author jasper;	state Exp;
branches;
next	1.58;
commitid	Q9F5fWaMIbw02nqS;

1.58
date	2014.06.20.22.44.00;	author jasper;	state Exp;
branches;
next	1.57;
commitid	Snl0usmoxvounB67;

1.57
date	2014.06.19.13.56.10;	author jasper;	state Exp;
branches;
next	1.56;
commitid	vTs7L3drb696Phcd;

1.56
date	2014.06.10.19.47.19;	author jasper;	state Exp;
branches;
next	1.55;
commitid	g9qdO8sZorLZipSj;

1.55
date	2014.05.02.18.36.55;	author jasper;	state Exp;
branches;
next	1.54;

1.54
date	2014.04.17.18.12.09;	author jasper;	state Exp;
branches;
next	1.53;

1.53
date	2014.04.04.14.31.16;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2014.03.17.17.26.50;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2014.03.09.19.45.58;	author jasper;	state Exp;
branches;
next	1.50;

1.50
date	2013.12.21.20.52.21;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2013.12.21.20.49.26;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2013.12.21.10.29.52;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2013.12.19.09.35.01;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2013.09.11.20.01.31;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2013.07.15.06.55.25;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2013.07.09.07.03.28;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2013.06.30.16.34.53;	author jasper;	state Exp;
branches;
next	1.42;

1.42
date	2013.06.28.08.36.12;	author jasper;	state Exp;
branches;
next	1.41;

1.41
date	2013.06.27.19.04.23;	author jasper;	state Exp;
branches;
next	1.40;

1.40
date	2013.06.27.18.48.54;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2013.06.26.14.46.30;	author jasper;	state Exp;
branches;
next	1.38;

1.38
date	2013.06.13.08.37.20;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2013.06.11.14.58.46;	author jasper;	state Exp;
branches;
next	1.36;

1.36
date	2013.06.11.13.24.07;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2013.04.26.14.13.12;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2013.04.26.12.15.55;	author robert;	state Exp;
branches;
next	1.33;

1.33
date	2013.03.25.07.57.00;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2013.03.20.19.13.50;	author jeremy;	state Exp;
branches;
next	1.31;

1.31
date	2013.03.20.06.50.05;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.03.11.11.41.32;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2013.03.08.06.38.08;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2013.01.17.19.52.14;	author robert;	state Exp;
branches;
next	1.27;

1.27
date	2013.01.17.19.14.52;	author robert;	state Exp;
branches;
next	1.26;

1.26
date	2013.01.14.17.45.36;	author robert;	state Exp;
branches;
next	1.25;

1.25
date	2012.10.08.08.52.48;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2012.10.08.08.49.06;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2012.09.04.03.42.17;	author jeremy;	state Exp;
branches;
next	1.22;

1.22
date	2012.05.05.19.29.49;	author robert;	state Exp;
branches;
next	1.21;

1.21
date	2011.12.06.14.39.01;	author robert;	state Exp;
branches;
next	1.20;

1.20
date	2011.11.17.16.08.00;	author jeremy;	state Exp;
branches;
next	1.19;

1.19
date	2011.09.16.11.41.40;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2011.07.28.08.37.43;	author robert;	state Exp;
branches;
next	1.17;

1.17
date	2011.03.09.11.24.14;	author robert;	state Exp;
branches;
next	1.16;

1.16
date	2010.11.24.21.35.15;	author jeremy;	state Exp;
branches;
next	1.15;

1.15
date	2010.11.20.17.22.42;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.11.20.37.29;	author robert;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.09.18.44.14;	author jeremy;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.27.13.40.29;	author landry;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.24.10.45.48;	author robert;	state Exp;
branches;
next	1.10;

1.10
date	2010.09.23.22.30.28;	author jeremy;	state Exp;
branches;
next	1.9;

1.9
date	2009.09.21.07.31.14;	author msf;	state Exp;
branches;
next	1.8;

1.8
date	2008.07.12.08.07.23;	author msf;	state Exp;
branches;
next	1.7;

1.7
date	2008.07.11.11.14.07;	author msf;	state Exp;
branches;
next	1.6;

1.6
date	2008.07.11.10.39.10;	author msf;	state Exp;
branches;
next	1.5;

1.5
date	2008.06.14.23.55.46;	author landry;	state Exp;
branches;
next	1.4;

1.4
date	2008.01.04.17.48.37;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.15.21.14.02;	author merdely;	state Exp;
branches;
next	1.2;

1.2
date	2007.06.07.12.08.20;	author msf;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.02.19.11.15;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.02.19.11.15;	author robert;	state Exp;
branches;
next	;


desc
@@


1.88
log
@sebastia@@ is the new puppetmaster
@
text
@# $OpenBSD: Makefile,v 1.87 2016/09/05 09:00:53 jasper Exp $

PORTROACH=	limit:^2

COMMENT=	Ruby library for retrieving facts from operating systems

VERSION=	2.4.6
REVISION =	1
DISTNAME=	facter-${VERSION}
PKGSPEC=	facter->=2.0,<3.0
CATEGORIES=	sysutils

MAINTAINER =	Sebastian Reitenbach <sebastia@@openbsd.org>

HOMEPAGE=	http://puppetlabs.com/puppet/related-projects/facter/
MASTER_SITES=	https://downloads.puppetlabs.com/facter/

# Apachev2
PERMIT_PACKAGE_CDROM=	Yes

MODULES=	lang/ruby

NO_BUILD=	Yes
BUILD_DEPENDS=	lang/ruby/${MODRUBY_REV}
PKG_ARCH=	*

MODRUBY_REV =	2.2

#TEST_DEPENDS=	devel/ruby-mocha,${MODRUBY_FLAVOR}
#BUILD_DEPENDS=	${MODRUBY_BUILD_DEPENDS}
#MODRUBY_TEST=	rake rspec3

pre-configure:
	mkdir -p ${WRKDIR}/home
	${SUBST_CMD} ${WRKSRC}/lib/facter/util/config.rb \
		${WRKSRC}/spec/unit/util/config_spec.rb

FAKE_FLAGS += HOME=${WRKDIR}/home

do-install:
	${INSTALL_DATA_DIR} ${PREFIX}/${MODRUBY_RELEXAMPLEDIR}-facter
	@@cd ${WRKSRC} && \
		${ALL_FAKE_FLAGS} ${RUBY} install.rb --destdir=${WRKINST}
	${INSTALL_DATA} ${WRKSRC}/etc/facter.conf \
		${PREFIX}/${MODRUBY_RELEXAMPLEDIR}-facter
	cd ${PREFIX}/man/man8 && gunzip facter.8.gz

.include <bsd.port.mk>
@


1.87
log
@uncomment line
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2016/09/05 09:00:08 jasper Exp $
d8 1
a8 1
REVISION =	0
d13 1
a13 1
MAINTAINER=	Jasper Lievisse Adriaanse <jasper@@openbsd.org>
@


1.86
log
@force MODRUBY_REV=2.2, partially from jeremy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2016/06/29 16:14:44 espie Exp $
d27 1
a27 1
#MODRUBY_REV =	2.2
@


1.85
log
@add is-branch to all trivial ports that exist as multiple branches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2016/01/27 08:35:00 jasper Exp $
d26 2
@


1.84
log
@update to facter-2.4.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2016/01/22 07:44:13 jasper Exp $
d8 1
@


1.83
log
@update to facter-2.4.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2015/09/01 07:23:35 jasper Exp $
d7 1
a7 1
VERSION=	2.4.5
@


1.82
log
@rework the df/mount caching so it can be flushed if needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2015/08/24 10:32:00 jasper Exp $
d7 1
a7 1
VERSION=	2.4.4
a8 1
REVISION=	4
@


1.81
log
@Cache df/mount output to prevent running these programs 3 times for every partition found.
This speeds up resolution of this fact about 16 fold
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2015/07/16 23:00:45 ajacoutot Exp $
d9 1
a9 1
REVISION=	3
@


1.80
log
@Missed bump after the default ruby version change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2015/07/01 09:21:53 ajacoutot Exp $
d9 1
a9 1
REVISION=	2
@


1.79
log
@Technically it should be facter->=2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2015/07/01 09:12:01 jasper Exp $
d9 1
a9 1
REVISION=	1
@


1.78
log
@- add pkgspec and conflict marker for upcoming facter 3.x
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2015/06/25 06:56:06 jasper Exp $
d9 2
a10 2
REVISION=	0
PKGSPEC=	facter->2.0,<3.0
@


1.77
log
@set PORTROACH to limit to 2.x, for > 2 is the c++-based cfacter
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2015/05/30 08:44:36 jasper Exp $
d9 2
@


1.76
log
@update to facter-2.4.4
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.75 2015/04/03 09:04:00 jasper Exp $
@


1.75
log
@simplify processorspeed calculation

not much point in pushing it upstream since the new facter will be c++11 based
and needs newer boost..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2015/04/03 08:48:02 jasper Exp $
d5 1
a5 1
VERSION=	2.4.3
a6 1
REVISION=	0
@


1.74
log
@update to facter-2.4.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2015/02/15 15:51:18 jasper Exp $
d7 1
@


1.73
log
@- update to facter-2.4.1
* mostly changes in preparation for puppet 4
* https://docs.puppetlabs.com/facter/2.4/release_notes.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2014/10/31 07:36:22 jasper Exp $
d5 1
a5 1
VERSION=	2.4.1
d14 1
a14 1
# Apache
@


1.72
log
@update to facter-2.3.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2014/10/30 12:19:33 jasper Exp $
d5 1
a5 1
VERSION=	2.3.0
d25 1
a25 1
#MODRUBY_TEST=	rake rspec2
@


1.71
log
@add new 'loginclass' fact

ok sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2014/10/13 07:39:06 landry Exp $
d5 1
a5 1
VERSION=	2.2.0
a6 1
REVISION=	4
@


1.70
log
@@@sample ${SYSCONFDIR}/facter/ to properly register the dir.
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2014/09/27 17:08:47 jeremy Exp $
d7 1
a7 1
REVISION=	3
@


1.69
log
@Use default version of ruby instead of ruby 2.0.

OK jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2014/09/24 09:45:00 jasper Exp $
d7 1
a7 1
REVISION=	2
@


1.68
log
@cleanup after espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2014/09/24 09:38:19 espie Exp $
d7 1
a7 1
REVISION=	1
a18 1
MODRUBY_REV=	2.0
@


1.67
log
@make sure we don't grab stuff off HOME. also fix packaging error if HOME
isn't readable, as can happen with chroot'd distributed builds.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2014/09/23 09:21:51 sthen Exp $
a33 1

a36 1
	echo $${HOME}
@


1.66
log
@Remove FAKE_AS_ROOT from these two ports, the failures seem to have vanished.

These are the last ports which needed to run the fake-install stage as root,
so now with the exception of pkg_add'ing dependencies (i.e. pkg_add code plus
a few programs run from @@exec hooks in PLISTs) all packages can be built as
non-root.

ok espie@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2014/09/16 09:07:03 espie Exp $
d30 1
d34 3
d38 1
@


1.65
log
@explicitly mark the few ports that don't build with FAKE_AS_ROOT=No
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2014/08/26 19:58:25 jasper Exp $
a3 1
FAKE_AS_ROOT =	Yes
@


1.64
log
@report a unit (MHz or GHz) for the processor speed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2014/08/26 07:38:35 jasper Exp $
d4 1
@


1.63
log
@implement processors['speed']
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2014/08/26 07:03:31 jasper Exp $
d7 1
a7 1
REVISION=	0
@


1.62
log
@- update to facter-2.2.0
* https://docs.puppetlabs.com/facter/2.2/release_notes.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2014/07/21 15:51:16 jasper Exp $
d7 1
@


1.61
log
@regen plist to include the openbsd implementation for the partitions fact...oops.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2014/07/09 16:27:19 jasper Exp $
d5 1
a5 2
VERSION=	2.1.0
REVISION=	1
@


1.60
log
@add support for the structured 'partitions' fact.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2014/06/25 22:00:24 jasper Exp $
d6 1
a6 1
REVISION=	0
@


1.59
log
@- update to facter-2.1.0
* nearly all local patches have been merged into a release now
* http://docs.puppetlabs.com/facter/2.1/release_notes.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2014/06/20 22:44:00 jasper Exp $
d6 1
a6 1

@


1.58
log
@Unbreak {is_,}virtual fact for OpenBSD when running on KVM.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2014/06/19 13:56:10 jasper Exp $
d5 1
a5 2
VERSION=	2.0.2
REVISION=	1
d13 1
a13 1
MASTER_SITES=	https://puppetlabs.com/downloads/facter/
@


1.57
log
@remove local re-implementation of swap{free,size} and unbreak the
implementation from Facter::Memory.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2014/06/10 19:47:19 jasper Exp $
d6 1
a6 1
REVISION=	0
@


1.56
log
@bump to facter-2.0.2 which contains a security fix for CVE-2014-3248 which
we're not affected by.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2014/05/02 18:36:55 jasper Exp $
d6 1
@


1.55
log
@Make the 'processor' fact consistent with other operating systems.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2014/04/17 18:12:09 jasper Exp $
d5 1
a5 2
VERSION=	2.0.1
REVISION=	1
@


1.54
log
@follow the puppet master and switch to ruby 2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2014/04/04 14:31:16 jasper Exp $
d6 1
a6 1
REVISION=	0
@


1.53
log
@update to facter-2.0.1 (finally!),  please refer to the release notes for detailed
information about the changes:
http://docs.puppetlabs.com/facter/2.0/release_notes.html#facter-201
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2014/03/17 17:26:50 jasper Exp $
d6 1
d20 1
a20 1
MODRUBY_REV=	1.9
@


1.52
log
@When running on oVirt correctly set is_virtual/virtual facts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2014/03/09 19:45:58 jasper Exp $
d5 1
a5 2
VERSION=	1.7.5
REVISION=	0
d35 2
a36 1
	@@cd ${WRKSRC} && ${ALL_FAKE_FLAGS} ${RUBY} install.rb
@


1.51
log
@update to facter-1.7.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/12/21 20:52:21 jasper Exp $
d6 1
@


1.50
log
@- add ssh-ed25519 related facts
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2013/12/21 10:29:52 jasper Exp $
d5 1
a5 2
VERSION=	1.7.4
REVISION=	0
@


1.49
log
@put back NO_BUILD and add ruby 1.9 as a build dependency instead; breaks
otherwise as it tries to use a Makefile which doesn't exist.
@
text
@d6 1
@


1.48
log
@remove bogus NO_BUILD since ${RUBY} gets invoked in do-install.

spotted by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2013/12/19 09:35:01 jasper Exp $
d21 2
@


1.47
log
@- update to facter-1.7.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/09/11 20:01:31 jasper Exp $
a20 1
NO_BUILD=	Yes
@


1.46
log
@- update to facter-1.7.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/07/15 06:55:25 jasper Exp $
d5 1
a5 1
VERSION=	1.7.3
d24 3
a26 3
TEST_DEPENDS=	devel/ruby-mocha,${MODRUBY_FLAVOR}
BUILD_DEPENDS=	${MODRUBY_BUILD_DEPENDS}
MODRUBY_TEST=	rake rspec2
@


1.45
log
@update to facter-1.7.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/07/09 07:03:28 jasper Exp $
d5 1
a5 1
VERSION=	1.7.2
@


1.44
log
@drop the ruby- prefix from these package names since they mainly provide an
application, not a library.

discussed with jeremy@@ aja@@ robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/06/30 16:34:53 jasper Exp $
d5 1
a5 1
VERSION=	1.7.1
a7 1
REVISION=	4
@


1.43
log
@take maintainership; ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/06/28 08:36:12 jasper Exp $
d8 1
a8 2
PKGNAME=	ruby-${DISTNAME}
REVISION=	3
@


1.42
log
@Redo the physicalprocessorcount fact in a less invasive way and add a test

ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/06/27 19:04:23 jasper Exp $
d9 1
a9 1
REVISION=	2
d12 1
a12 1
MAINTAINER=	Robert Nagy <robert@@openbsd.org>
@


1.41
log
@unbreak the 'swapencrypted' fact

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/06/27 18:48:54 jasper Exp $
d9 1
a9 1
REVISION=	1
@


1.40
log
@drop unneeded patch, there is code elsewhere which handles OpenBSD.

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2013/06/26 14:46:30 jasper Exp $
d9 1
a9 1
REVISION=	0
@


1.39
log
@- update facter to 1.7.1
- better homepage

ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/06/13 08:37:20 jasper Exp $
d9 1
@


1.38
log
@Make the facter addition for physicalprocessorcount more generic, just like
how is done for other operating systems.

ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/06/11 14:58:46 jasper Exp $
d5 1
a5 1
VERSION=	1.7.0
a8 1
REVISION=	3
d13 1
a13 1
HOMEPAGE=	http://projects.puppetlabs.com/projects/facter
@


1.37
log
@sync w/ puppet and use ruby 1.9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/06/11 13:24:07 jasper Exp $
d9 1
a9 1
REVISION=	2
@


1.36
log
@zap unneeded SHARED_ONLY

ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/04/26 14:13:12 jasper Exp $
d9 1
a9 1
REVISION=	1
d21 1
a21 1
MODRUBY_REV=	1.8
d26 1
a26 1
TEST_DEPENDS=devel/ruby-mocha,${MODRUBY_FLAVOR}
d28 1
a28 1
MODRUBY_TEST=rake rspec2
@


1.35
log
@- ensure the directory for external facts is created

ok robert@@ aja@@
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.34 2013/04/26 12:15:55 robert Exp $

SHARED_ONLY=	Yes
d9 1
a9 1
REVISION=	0
@


1.34
log
@update to 1.7.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/03/25 07:57:00 ajacoutot Exp $
d11 1
d31 4
@


1.33
log
@Update to ruby-facter-1.6.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/03/20 19:13:50 jeremy Exp $
d7 1
a7 1
VERSION=	1.6.18
@


1.32
log
@Make ruby 1.9 the default ruby for non-gem/extconf ports,
for consistency with the gem/extconf ports.

Update non-gem/extconf ports that relied on the previous
default of ruby 1.8 to explicitly specify it.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/03/20 06:50:05 ajacoutot Exp $
d7 1
a7 2
VERSION=	1.6.17
REVISION=	3
@


1.31
log
@PKG_ARCH=*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/03/11 11:41:32 espie Exp $
d23 1
@


1.30
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/03/08 06:38:08 ajacoutot Exp $
d8 1
a8 1
REVISION=	2
d25 1
@


1.29
log
@Fix HOMEPAGE/MASTER_SITES.
No need for USE_GROFF.
Fix exampledir.

Fix kernelrelease fact to return info about the release along its
version (e.g. 5.3-beta).

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2013/01/17 19:52:14 robert Exp $
a20 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d26 1
a26 1
REGRESS_DEPENDS=devel/ruby-mocha,${MODRUBY_FLAVOR}
d28 1
a28 1
MODRUBY_REGRESS=rake rspec2
@


1.28
log
@fix swap usage facter values
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2013/01/17 19:14:52 robert Exp $
d8 1
a8 1
REVISION=	1
d16 2
a17 2
HOMEPAGE=	http://reductivelabs.com/projects/facter/
MASTER_SITES=	http://reductivelabs.com/downloads/facter/
a26 1
USE_GROFF=	Yes
d29 3
a31 2
REGRESS_DEPENDS= devel/ruby-mocha,${MODRUBY_FLAVOR}
BUILD_DEPENDS += ${MODRUBY_BUILD_DEPENDS}
d34 1
a34 1
	${INSTALL_DATA_DIR} ${MODRUBY_EXAMPLEDIR}/facter
d37 1
a37 1
			${MODRUBY_EXAMPLEDIR}/facter
a38 3

MODRUBY_REGRESS = rake rspec2

@


1.27
log
@add support for the swapencrypted facter value
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/01/14 17:45:36 robert Exp $
d8 1
a8 1
REVISION=	0
d13 2
@


1.26
log
@update to 1.6.17
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/10/08 08:52:48 jasper Exp $
d8 2
@


1.25
log
@- fix the LICENSE marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/10/08 08:49:06 jasper Exp $
d7 1
a7 1
VERSION=	1.6.13
@


1.24
log
@- update to facter-1.6.13

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/09/04 03:42:17 jeremy Exp $
d15 1
a15 1
# GPL license
@


1.23
log
@Remove msf@@ as maintainer, at his request, as he no longer works on
OpenBSD. While here, use MODRUBY_FLAVOR for the regress depend so
it will work correctly if the port switches to ruby19.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/05/05 19:29:49 robert Exp $
d7 1
a7 1
VERSION=	1.6.8
a9 1
REVISION=	0
d23 1
d27 1
a27 1
BUILD_DEPENDS +=	${MODRUBY_BUILD_DEPENDS}
d34 1
@


1.22
log
@update to 1.6.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/12/06 14:39:01 robert Exp $
d10 1
a15 2
MAINTAINER=	Mathieu Sauve-Frankel <msf@@openbsd.org>

d26 1
a26 1
REGRESS_DEPENDS= devel/ruby-mocha
@


1.21
log
@*** empty log message ***
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/11/17 16:08:00 jeremy Exp $
d7 1
a7 1
VERSION=	1.6.0
a9 1
REVISION=	1
d34 1
a34 1
			${MODRUBY_EXAMPLEDIR}/facter 
@


1.20
log
@Update ruby ports to deal with the regress changes to ruby.port.mk.

Start using MODRUBY_REGRESS with ruby, rspec2, and testrb entries.
Switch away from manual do_regress targets where possible.  Add
some patches to make regress tests run for some ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/09/16 11:41:40 espie Exp $
d10 1
a10 1
REVISION=	0
@


1.19
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/07/28 08:37:43 robert Exp $
d37 1
a37 3
MODRUBY_REGRESS= rake rspec
do-regress:
	@@cd ${WRKSRC}/spec && ${RAKE} all
@


1.18
log
@update to facter 1.6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/03/09 11:24:14 robert Exp $
d10 1
@


1.17
log
@Use pcidump istead of lspci to determine if we are running
inside of vmware.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/11/24 21:35:15 jeremy Exp $
d7 1
a7 1
VERSION=	1.5.8
a9 1
REVISION =	3
@


1.16
log
@REVISION bump all ruby ports due to a change in the pkgspec.
Previously, we were using ruby->=1.8,<=1.9, instead of
ruby->=1.8,<1.9.  While this wouldn't cause an issue, since
our ruby-1.9.2 package isn't included in ruby->=1.8,<=1.9,
it's still wrong and should be fixed.  This also fixes the
following minor issues:

Switch from using FLAVOR to MODRUBY_FLAVOR for *_DEPENDS.
Currently we don't have a ruby port that uses FLAVORs that
would differ from MODRUBY_FLAVOR, but it's possible we will
in the future.

Switch from BASE_PKGPATH to BUILD_PKGPATH in a few cases in
REGRESS_DEPENDS.  This probably is not strictly necessary, but
BUILD_PKGPATH is used in more cases, so it is good for
consistency.

Switch to new style *_DEPENDS, with the version specification
at the end.  The remaining cases where this is not done is
because a specific version is used.

Some FULLPKGNAME added to REGRESS_DEPENDS, to make sure that if
the old version is installed when you run a regress test, it
will install the new version first.

Some conversion of spaces to tabs for consistency.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/11/20 17:22:42 espie Exp $
d10 1
a10 1
REVISION =	2
@


1.15
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/11 20:37:29 robert Exp $
d10 1
a10 1
REVISION=	1
@


1.14
log
@Make sure that we are not referencing a nil variable when there is
no swap device specified on the machine.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/09 18:44:14 jeremy Exp $
d28 1
a28 1
REGRESS_DEPENDS= ::devel/ruby-mocha
@


1.13
log
@Replace MODRUBY_REV by MODRUBY_LIBREV in PLIST.  Use
MODRUBY_EXAMPLEDIR for the examples.  Bump because
MODRUBY_EXAMPLEDIR is a different location than the
old directory used.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/27 13:40:29 landry Exp $
d10 1
a10 1
REVISION=	0
@


1.12
log
@Unbreak on a clean box, add lang/ruby to build_depends.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/24 10:45:48 robert Exp $
d10 1
d32 1
a32 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/ruby-facter
d35 1
a35 1
			${PREFIX}/share/examples/ruby-facter 
@


1.11
log
@update to 1.5.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/09/23 22:30:28 jeremy Exp $
d28 1
@


1.10
log
@Bump all ruby ports not already handled.

In the upgrade from ruby 1.8.6 to 1.8.7, the PLISTs changed
due to differences in how RDoc processes files.

This also has a number of changes to the regress tests to
work with the changes to devel/ruby-rake.  It moves most of
the regress tests to use MODRUBY_REGRESS.

OK jcs@@, landry@@, jasper@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/09/21 07:31:14 msf Exp $
d7 1
a7 1
VERSION=	1.5.6
a9 1
REVISION=	0
@


1.9
log
@update to facter-1.5.6

reminded and similar diff by Toni Mueller
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/07/12 08:07:23 msf Exp $
d10 1
d28 1
a28 2
REGRESS_DEPENDS= ::devel/ruby-rspec \
		 ::devel/ruby-mocha
d36 1
d38 1
a38 1
	@@cd ${WRKSRC}/spec && ${LOCALBASE}/bin/rake all
@


1.8
log
@that should have been ${LOCALBASE}/bin/rake, adjust. again from bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/07/11 11:14:07 msf Exp $
d7 1
a7 1
VERSION=	1.5.0
a10 1
EXTRACT_SUFX=	.tgz
@


1.7
log
@use the full path to rake in do-regress:, suggested by bernd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/07/11 10:39:10 msf Exp $
d38 1
a38 1
	@@cd ${WRKSRC}/spec && ${LOCALBASE}/rake all
@


1.6
log
@update to facter 1.5.0 and enable regression tests

ok mcbride@@ sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/06/14 23:55:46 landry Exp $
d38 1
a38 1
	@@cd ${WRKSRC}/spec && rake all
@


1.5
log
@bump PKGNAMEs after lang/ruby module change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/01/04 17:48:37 espie Exp $
d7 1
a7 1
VERSION=	1.3.7
d9 1
a9 1
PKGNAME=	ruby-${DISTNAME}p0
a25 1
NO_REGRESS=	Yes
d28 3
d36 4
@


1.4
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/09/15 21:14:02 merdely Exp $
d9 1
a9 1
PKGNAME=	ruby-${DISTNAME}
@


1.3
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*/IGNORE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/06/07 12:08:20 msf Exp $
d31 1
a31 1
	@@cd ${WRKSRC} && ${FAKE_FLAGS} ${RUBY} install.rb
@


1.2
log
@update to 1.3.7 and take maintainer

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/01/02 19:11:15 robert Exp $
d5 1
a5 1
COMMENT=	"Ruby library for retrieving facts from operating systems"
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
VERSION=	1.3.5
d16 1
a16 1
MAINTAINER=	Robert Nagy <robert@@openbsd.org>
@


1.1.1.1
log
@import of ruby-facter-1.3.5:

A cross-platform Ruby library for retrieving facts from operating systems.
Supports multiple resolution mechanisms, any of which can be restricted to
working only on certain operating systems or environments.
Facter is especially useful for retrieving things like operating system names,
IP addresses, MAC addresses, and SSH keys.
@
text
@@
