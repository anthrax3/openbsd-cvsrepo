head	1.15;
access;
symbols
	OPENBSD_6_1:1.15.0.2
	OPENBSD_6_1_BASE:1.15
	OPENBSD_6_0:1.12.0.4
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.12.0.2
	OPENBSD_5_9_BASE:1.12
	OPENBSD_5_8:1.3.0.6
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3
	ajacoutot_20141210:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.15
date	2016.12.17.14.58.54;	author ajacoutot;	state Exp;
branches;
next	1.14;
commitid	x09PLtmN0et2zYWE;

1.14
date	2016.09.07.13.48.49;	author ajacoutot;	state Exp;
branches;
next	1.13;
commitid	UTfx9VfvNKJAv3Qv;

1.13
date	2016.08.31.15.11.29;	author ajacoutot;	state Exp;
branches;
next	1.12;
commitid	PbNFiZbyvNy6T1Hp;

1.12
date	2015.11.22.08.36.03;	author ajacoutot;	state Exp;
branches;
next	1.11;
commitid	dppMgseAOMfva2VH;

1.11
date	2015.11.19.10.11.10;	author ajacoutot;	state Exp;
branches;
next	1.10;
commitid	XJUxiMAKKtk2aWJS;

1.10
date	2015.10.25.07.59.16;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	2KEwgD97bqfmMLnZ;

1.9
date	2015.10.17.07.18.03;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	vqt11bPyOT478rhS;

1.8
date	2015.10.10.07.35.13;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	DoE7bZN1kMHjbBlk;

1.7
date	2015.09.20.09.48.17;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	XZIqKxYWWXcfbzOS;

1.6
date	2015.09.18.10.24.17;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	GXJfi9p6ynuUSmmP;

1.5
date	2015.09.18.09.14.59;	author ajacoutot;	state Exp;
branches;
next	1.4;
commitid	TKDAdbv6OAXscLnS;

1.4
date	2015.09.11.07.53.21;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	noKKDv247qDdTxNy;

1.3
date	2014.12.29.09.31.39;	author ajacoutot;	state Exp;
branches;
next	1.2;
commitid	haHLdq6bOZDBRMJY;

1.2
date	2014.12.10.19.03.06;	author naddy;	state Exp;
branches;
next	1.1;
commitid	gIuXQjPP9TWklrLH;

1.1
date	2014.12.10.12.48.12;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;
commitid	FIkhHuT8fmZAhaDy;

1.1.1.1
date	2014.12.10.12.48.12;	author ajacoutot;	state Exp;
branches;
next	;
commitid	FIkhHuT8fmZAhaDy;


desc
@@


1.15
log
@Update to login_krb5-6.1.2.
@
text
@# $OpenBSD: Makefile,v 1.14 2016/09/07 13:48:49 ajacoutot Exp $

COMMENT=		authentication provider for KerberosV

GIT_PROJECT=		login_krb5
GIT_COMMIT=		97e345f
GIT_COMMIT=		5e8d667

DISTNAME=		${GIT_COMMIT}
PKGNAME=		${GIT_PROJECT}-6.1.2

DIST_SUBDIR=		${GIT_PROJECT}
WRKDIST=		${WRKDIR}/${GIT_PROJECT}-${GIT_COMMIT}

CATEGORIES=		sysutils security

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

HOMEPAGE=		http://repo.or.cz/login_krb5.git

# ISC
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c

MASTER_SITES=		http://repo.or.cz/login_krb5.git/snapshot/

MODULES=		security/heimdal

NO_TEST=		Yes

FAKE_FLAGS=		BINDIR=${PREFIX}/libexec/auth \
			MANDIR=${PREFIX}/man/man

.include <bsd.port.mk>
@


1.14
log
@Update to login_krb5-6.1.1.
- merge the readpassphrase() change from current
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2016/08/31 15:11:29 ajacoutot Exp $
d7 1
d10 1
a10 1
PKGNAME=		${GIT_PROJECT}-6.1.1
d24 1
a24 1
WANTLIB += c com_err crypto pthread util
a33 6

pre-configure:
	sed -i 's,/usr/local,${LOCALBASE},g' \
		${WRKSRC}/Makefile.inc \
		${WRKSRC}/login_krb5-or-pwd/Makefile \
		${WRKSRC}/login_krb5/Makefile
@


1.13
log
@Update to login_krb5-6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2015/11/22 08:36:03 ajacoutot Exp $
d6 1
a6 1
GIT_COMMIT=		85b73c6
d9 1
a9 1
PKGNAME=		${GIT_PROJECT}-6.1
@


1.12
log
@Update to login_krb5-5.8.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/11/19 10:11:10 ajacoutot Exp $
d6 1
a6 1
GIT_COMMIT=		263d7bb
d9 1
a9 1
PKGNAME=		${GIT_PROJECT}-5.8.6
@


1.11
log
@Update to login_krb5-5.8.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2015/10/25 07:59:16 ajacoutot Exp $
d6 1
a6 1
GIT_COMMIT=		881aed5
d9 1
a9 1
PKGNAME=		${GIT_PROJECT}-5.8.5
@


1.10
log
@Don't compile pwd_gensalt, it's not needed since we use crypt_checkpass.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2015/10/17 07:18:03 ajacoutot Exp $
d6 1
a6 1
GIT_COMMIT=		39c3d4f
d9 1
a9 1
PKGNAME=		${GIT_PROJECT}-5.8.4
@


1.9
log
@Update to login_krb5-5.8.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/10/10 07:35:13 ajacoutot Exp $
d6 1
a6 1
GIT_COMMIT=		fec4f3d
d9 1
a9 1
PKGNAME=		${GIT_PROJECT}-5.8.3
@


1.8
log
@Sync login_passwd with OpenBSD.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/09/20 09:48:17 ajacoutot Exp $
d6 1
a6 1
GIT_COMMIT=		ece7386
d9 1
a9 2
PKGNAME=		${GIT_PROJECT}-5.8.2
REVISION=		0
d14 1
a14 1
CATEGORIES=		sysutils
@


1.7
log
@Update to login_krb5-5.8.2.
- document the fact that the auth style must start with a dash.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/09/18 10:24:17 ajacoutot Exp $
d6 1
a6 1
GIT_COMMIT=		2a2a5bf
d10 1
@


1.6
log
@/usr/local -> LOCALBASE

spotted by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/09/18 09:14:59 ajacoutot Exp $
d6 1
a6 1
GIT_COMMIT=		557c123
d9 1
a9 2
PKGNAME=		${GIT_PROJECT}-5.8.1
REVISION=		1
@


1.5
log
@Hosted at rorcz.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/09/11 07:53:21 ajacoutot Exp $
d10 1
a10 1
REVISION=		0
d34 6
@


1.4
log
@Update to login_krb5-5.8.1.
- sync with login_* in base system: drop usage of <sys/param.h>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2014/12/29 09:31:39 ajacoutot Exp $
d3 4
a6 1
# needs mode 4555 to access passwd(5) and the Kerberos keytab
d8 3
a10 1
COMMENT=		authentication provider for KerberosV
d12 2
a13 1
DISTNAME=		login_krb5-5.8.1
d19 2
d26 1
a26 1
MASTER_SITES=		https://distfiles.bsdfrog.org/
a31 2
MAKE_FLAGS=		LDFLAGS="-Wl,-rpath=/usr/local/heimdal/lib"

a33 2

LDFLAGS=		-Wl,-rpath=${LOCALBASE}/heimdal/lib
@


1.3
log
@Update to login_krb5-5.7.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/12/10 19:03:06 naddy Exp $
d7 1
a7 1
DISTNAME=		login_krb5-5.7.1
@


1.2
log
@fix MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2014/12/10 12:48:12 ajacoutot Exp $
d7 1
a7 1
DISTNAME=		login_krb5-5.7
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d18 1
a18 1
MASTER_SITES		https://distfiles.bsdfrog.org/
@


1.1.1.1
log
@Import login_krb5-5.7.

The login_krb5 and login_krb5-or-pwd utilities implement the KerberosV
authentication mechanism (with an optional fallback to standard password
authentication).
<...>

ok robert@@
@
text
@@
