head	1.7;
access;
symbols
	OPENBSD_5_8:1.6.0.10
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.6
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.6.0.4
	OPENBSD_5_6_BASE:1.6
	OPENBSD_5_5:1.6.0.2
	OPENBSD_5_5_BASE:1.6
	OPENBSD_5_4:1.4.0.10
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.8
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.6
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.4
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.3.0.4
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	robert_20090606:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2015.08.15.11.12.54;	author ajacoutot;	state dead;
branches;
next	1.6;
commitid	RKWZWmWhKNwhuQQN;

1.6
date	2013.12.29.18.47.37;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2013.09.24.08.39.05;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2011.04.28.13.08.33;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2010.06.27.22.15.38;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.06.07.07.49.44;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.06.07.02.55.19;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.06.07.02.55.19;	author robert;	state Exp;
branches;
next	;


desc
@@


1.7
log
@Move to the ConsoleKit2 project and update to the newly released stable version:
consolekit2-1.0.0.
Committing early in the cycle to have time to catch any regression.
@
text
@$OpenBSD: patch-src_Makefile_in,v 1.6 2013/12/29 18:47:37 ajacoutot Exp $
--- src/Makefile.in.orig	Fri Jul 19 18:12:28 2013
+++ src/Makefile.in	Sun Dec 29 19:35:07 2013
@@@@ -96,6 +96,10 @@@@ host_triplet = @@host@@
 @@CK_COMPILE_GNU_TRUE@@	ck-sysdeps-gnu.c	\
 @@CK_COMPILE_GNU_TRUE@@	$(NULL)
 
+@@CK_COMPILE_OPENBSD_TRUE@@am__append_5 = \
+@@CK_COMPILE_OPENBSD_TRUE@@	ck-sysdeps-openbsd.c	\
+@@CK_COMPILE_OPENBSD_TRUE@@	$(NULL)
+
 sbin_PROGRAMS = console-kit-daemon$(EXEEXT) $(am__EXEEXT_1)
 noinst_PROGRAMS = test-event-logger$(EXEEXT) \
 	test-tty-idle-monitor$(EXEEXT) test-vt-monitor$(EXEEXT) \
@@@@ -126,13 +130,15 @@@@ am__DEPENDENCIES_1 =
 @@CK_COMPILE_FREEBSD_TRUE@@	$(am__DEPENDENCIES_1)
 am__libck_la_SOURCES_DIST = ck-sysdeps.h ck-sysdeps-unix.c \
 	ck-sysdeps-linux.c ck-sysdeps-solaris.c ck-sysdeps-freebsd.c \
-	ck-sysdeps-gnu.c
+	ck-sysdeps-openbsd.c ck-sysdeps-gnu.c
 @@CK_COMPILE_LINUX_TRUE@@am__objects_2 = ck-sysdeps-linux.lo \
 @@CK_COMPILE_LINUX_TRUE@@	$(am__objects_1)
 @@CK_COMPILE_SOLARIS_TRUE@@am__objects_3 = ck-sysdeps-solaris.lo \
 @@CK_COMPILE_SOLARIS_TRUE@@	$(am__objects_1)
 @@CK_COMPILE_FREEBSD_TRUE@@am__objects_4 = ck-sysdeps-freebsd.lo \
 @@CK_COMPILE_FREEBSD_TRUE@@	$(am__objects_1)
+@@CK_COMPILE_OPENBSD_TRUE@@am__objects_4 = ck-sysdeps-openbsd.lo \
+@@CK_COMPILE_OPENBSD_TRUE@@	$(am__objects_1)
 @@CK_COMPILE_GNU_TRUE@@am__objects_5 = ck-sysdeps-gnu.lo \
 @@CK_COMPILE_GNU_TRUE@@	$(am__objects_1)
 am_libck_la_OBJECTS = ck-sysdeps-unix.lo $(am__objects_1) \
@@@@ -528,14 +534,16 @@@@ libck_event_log_la_SOURCES = \
 
 libck_la_SOURCES = ck-sysdeps.h ck-sysdeps-unix.c $(NULL) \
 	$(am__append_1) $(am__append_2) $(am__append_3) \
-	$(am__append_4)
+	$(am__append_4) $(am__append_5)
 @@CK_COMPILE_FREEBSD_TRUE@@libck_la_LIBADD = $(KVM_LIBS)
+@@CK_COMPILE_OPENBSD_TRUE@@libck_la_LIBADD = $(KVM_LIBS)
 @@CK_COMPILE_GNU_TRUE@@libck_la_LIBADD = -lps
 @@CK_COMPILE_SOLARIS_TRUE@@libck_la_LIBADD = -lscf
 EXTRA_libck_la_SOURCES = \
 	ck-sysdeps-linux.c		\
 	ck-sysdeps-solaris.c		\
 	ck-sysdeps-freebsd.c		\
+	ck-sysdeps-openbsd.c		\
 	ck-sysdeps-gnu.c		\
 	$(NULL)
 
@@@@ -774,6 +782,7 @@@@ distclean-compile:
 @@AMDEP_TRUE@@@@am__include@@ @@am__quote@@./$(DEPDIR)/ck-session-leader.Po@@am__quote@@
 @@AMDEP_TRUE@@@@am__include@@ @@am__quote@@./$(DEPDIR)/ck-session.Po@@am__quote@@
 @@AMDEP_TRUE@@@@am__include@@ @@am__quote@@./$(DEPDIR)/ck-sysdeps-freebsd.Plo@@am__quote@@
+@@AMDEP_TRUE@@@@am__include@@ @@am__quote@@./$(DEPDIR)/ck-sysdeps-openbsd.Plo@@am__quote@@
 @@AMDEP_TRUE@@@@am__include@@ @@am__quote@@./$(DEPDIR)/ck-sysdeps-gnu.Plo@@am__quote@@
 @@AMDEP_TRUE@@@@am__include@@ @@am__quote@@./$(DEPDIR)/ck-sysdeps-linux.Plo@@am__quote@@
 @@AMDEP_TRUE@@@@am__include@@ @@am__quote@@./$(DEPDIR)/ck-sysdeps-solaris.Plo@@am__quote@@
@@@@ -1142,8 +1151,6 @@@@ install-data-local:
 	-mkdir -p $(DESTDIR)$(prefix)/lib/ConsoleKit/run-session.d
 	-mkdir -p $(DESTDIR)$(sysconfdir)/ConsoleKit/run-seat.d
 	-mkdir -p $(DESTDIR)$(prefix)/lib/ConsoleKit/run-seat.d
-	-mkdir -p $(DESTDIR)$(localstatedir)/run/ConsoleKit
-	-mkdir -p $(DESTDIR)$(localstatedir)/log/ConsoleKit
 
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
@


1.6
log
@Tweaks.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_Makefile_in,v 1.5 2013/09/24 08:39:05 ajacoutot Exp $
@


1.5
log
@Update to consolekit-0.4.6.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_Makefile_in,v 1.4 2011/04/28 13:08:33 ajacoutot Exp $
d3 1
a3 1
+++ src/Makefile.in	Tue Sep 24 10:32:35 2013
d8 1
a8 1
+@@CK_COMPILE_OPENBSD_TRUE@@am__append_3 = \
d32 3
a34 1
@@@@ -530,12 +536,14 @@@@ libck_la_SOURCES = ck-sysdeps.h ck-sysdeps-unix.c $(NU
d36 2
a37 1
 	$(am__append_4)
@


1.4
log
@Update to consolekit-0.4.4.
Make sure we don't try and use /proc.
s/KERN_PROC2/KERN_PROC

ok jasper@@
@
text
@d1 6
a6 6
$OpenBSD: patch-src_Makefile_in,v 1.3 2010/06/27 22:15:38 ajacoutot Exp $
--- src/Makefile.in.orig	Thu Feb 17 00:44:31 2011
+++ src/Makefile.in	Wed Apr 27 15:40:59 2011
@@@@ -48,6 +48,10 @@@@ host_triplet = @@host@@
 @@CK_COMPILE_FREEBSD_TRUE@@	ck-sysdeps-freebsd.c	\
 @@CK_COMPILE_FREEBSD_TRUE@@	$(NULL)
d15 1
a15 2
@@@@ -75,13 +79,17 @@@@ am__DEPENDENCIES_1 =
 @@CK_COMPILE_FREEBSD_TRUE@@libck_la_DEPENDENCIES =  \
d18 3
a20 3
-	ck-sysdeps-linux.c ck-sysdeps-solaris.c ck-sysdeps-freebsd.c
+	ck-sysdeps-linux.c ck-sysdeps-solaris.c ck-sysdeps-freebsd.c \
+	ck-sysdeps-openbsd.c
d29 2
a30 1
+
d32 4
a35 7
 	$(am__objects_2) $(am__objects_3) $(am__objects_4)
 libck_la_OBJECTS = $(am_libck_la_OBJECTS)
@@@@ -432,12 +440,13 @@@@ libck_event_log_la_SOURCES = \
 
 libck_la_SOURCES = ck-sysdeps.h ck-sysdeps-unix.c $(NULL) \
 	$(am__append_1) $(am__append_2) $(am__append_3)
-@@CK_COMPILE_FREEBSD_TRUE@@libck_la_LIBADD = $(KVM_LIBS)
d37 1
d44 1
d47 1
a47 2
 BUILT_SOURCES = \
@@@@ -661,6 +670,7 @@@@ distclean-compile:
d52 1
d55 1
a55 2
 @@AMDEP_TRUE@@@@am__include@@ @@am__quote@@./$(DEPDIR)/ck-sysdeps-unix.Plo@@am__quote@@
@@@@ -1065,8 +1075,6 @@@@ install-data-local:
@


1.3
log
@Update to consolekit-0.4.1.
WIP, need uncommited stuffs and does wrong things for now, so it is still
marked as BROKEN.
@
text
@d1 4
a4 4
$OpenBSD: patch-src_Makefile_in,v 1.2 2009/06/07 07:49:44 ajacoutot Exp $
--- src/Makefile.in.orig	Thu Sep 24 08:26:34 2009
+++ src/Makefile.in	Sun Jun 27 20:52:19 2010
@@@@ -46,6 +46,10 @@@@ host_triplet = @@host@@
d15 1
a15 1
@@@@ -69,13 +73,17 @@@@ am__DEPENDENCIES_1 =
d34 2
a35 1
@@@@ -365,10 +373,12 @@@@ libck_event_log_la_SOURCES = \
d38 1
a38 1
 @@CK_COMPILE_FREEBSD_TRUE@@libck_la_LIBADD = $(KVM_LIBS)
d40 1
d49 1
a49 1
@@@@ -574,6 +584,7 @@@@ distclean-compile:
d57 1
a57 1
@@@@ -938,8 +949,6 @@@@ install-data-local:
d63 1
a65 1
 .NOEXPORT:
@


1.2
log
@Merge some small changes from my old ConsoleKit port:
- better HOMEPAGE
- add gettext MODULES
- tweak some CONFIGURE_ARGS and put pid file under /var/run so we don't
need to create a special directory for it
- don't create PREFIX/var/...
- add a /var/log/ConsoleKit/ @@sample directory
@
text
@d1 3
a3 3
$OpenBSD: patch-src_Makefile_in,v 1.1.1.1 2009/06/07 02:55:19 robert Exp $
--- src/Makefile.in.orig	Thu Jul 31 02:41:10 2008
+++ src/Makefile.in	Sun Jun  7 09:34:50 2009
d34 1
a34 1
@@@@ -362,10 +370,12 @@@@ libck_event_log_la_SOURCES = \
d47 1
a47 1
@@@@ -571,6 +581,7 @@@@ distclean-compile:
d55 1
a55 3
@@@@ -933,8 +944,6 @@@@ ck-marshal.h: ck-marshal.list
 install-data-local:
 	-mkdir -p $(DESTDIR)$(sysconfdir)/ConsoleKit/run-session.d
d57 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ src/Makefile.in	Sun May 31 00:06:37 2009
d55 9
@


1.1.1.1
log
@import ConsoleKit-0.3.0:
ConsoleKit is a framework for defining and tracking users, login
sessions, and seats.  The primary motivations for this framework are to
facilitate fast-user-switching and multi-seat capabilities, and to
enable more sophisticated policy decisions for desktop sessions.

this is not hooked up to the build just yet, just like policykit
@
text
@@
