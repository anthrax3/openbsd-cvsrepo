head	1.73;
access;
symbols
	OPENBSD_6_1:1.72.0.4
	OPENBSD_6_1_BASE:1.72
	OPENBSD_6_0:1.72.0.2
	OPENBSD_6_0_BASE:1.72
	OPENBSD_5_9:1.71.0.2
	OPENBSD_5_9_BASE:1.71
	OPENBSD_5_8:1.70.0.6
	OPENBSD_5_8_BASE:1.70
	OPENBSD_5_7:1.70.0.2
	OPENBSD_5_7_BASE:1.70
	OPENBSD_5_6:1.69.0.6
	OPENBSD_5_6_BASE:1.69
	OPENBSD_5_5:1.69.0.4
	OPENBSD_5_5_BASE:1.69
	OPENBSD_5_4:1.69.0.2
	OPENBSD_5_4_BASE:1.69
	OPENBSD_5_3:1.66.0.2
	OPENBSD_5_3_BASE:1.66
	OPENBSD_5_2:1.64.0.2
	OPENBSD_5_2_BASE:1.64
	OPENBSD_5_1_BASE:1.63
	OPENBSD_5_1:1.63.0.2
	OPENBSD_5_0:1.60.0.2
	OPENBSD_5_0_BASE:1.60
	OPENBSD_4_9:1.58.0.2
	OPENBSD_4_9_BASE:1.58
	OPENBSD_4_8:1.50.0.2
	OPENBSD_4_8_BASE:1.50
	OPENBSD_4_7:1.49.0.2
	OPENBSD_4_7_BASE:1.49
	OPENBSD_4_6:1.46.0.2
	OPENBSD_4_6_BASE:1.46
	OPENBSD_4_5:1.44.0.2
	OPENBSD_4_5_BASE:1.44
	OPENBSD_4_4:1.39.0.2
	OPENBSD_4_4_BASE:1.39
	OPENBSD_4_3:1.36.0.2
	OPENBSD_4_3_BASE:1.36
	OPENBSD_4_2:1.30.0.4
	OPENBSD_4_2_BASE:1.30
	OPENBSD_4_1:1.30.0.2
	OPENBSD_4_1_BASE:1.30
	OPENBSD_4_0:1.26.0.2
	OPENBSD_4_0_BASE:1.26
	OPENBSD_3_9:1.25.0.2
	OPENBSD_3_9_BASE:1.25
	OPENBSD_3_8:1.19.0.2
	OPENBSD_3_8_BASE:1.19
	OPENBSD_3_7:1.17.0.2
	OPENBSD_3_7_BASE:1.17
	OPENBSD_3_6:1.13.0.2
	OPENBSD_3_6_BASE:1.13
	OPENBSD_3_5:1.8.0.2
	OPENBSD_3_5_BASE:1.8
	sturm-2003_Nov_03:1.1.1.1
	sturm:1.1.1;
locks; strict;
comment	@# @;


1.73
date	2017.04.23.13.48.29;	author sthen;	state Exp;
branches;
next	1.72;
commitid	otzptBEXdDj7xRkS;

1.72
date	2016.03.16.16.53.50;	author naddy;	state Exp;
branches;
next	1.71;
commitid	wUcs3uUPuIxZZuU2;

1.71
date	2015.10.05.16.29.02;	author sthen;	state Exp;
branches;
next	1.70;
commitid	AqjFzXOPaoxpieFE;

1.70
date	2014.10.13.19.21.43;	author sthen;	state Exp;
branches;
next	1.69;
commitid	TfQGwT3ycK9aZkt0;

1.69
date	2013.05.16.20.47.49;	author rpe;	state Exp;
branches;
next	1.68;

1.68
date	2013.03.17.09.47.07;	author ajacoutot;	state Exp;
branches;
next	1.67;

1.67
date	2013.03.11.11.41.30;	author espie;	state Exp;
branches;
next	1.66;

1.66
date	2013.02.09.14.49.53;	author sthen;	state Exp;
branches;
next	1.65;

1.65
date	2012.09.01.14.36.58;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2012.04.14.09.27.27;	author nigel;	state Exp;
branches;
next	1.63;

1.63
date	2012.01.26.08.03.57;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2011.11.16.00.25.05;	author sthen;	state Exp;
branches;
next	1.61;

1.61
date	2011.09.16.11.41.39;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2011.07.06.12.50.15;	author jasper;	state Exp;
branches;
next	1.59;

1.59
date	2011.03.02.06.59.55;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2010.11.20.17.22.41;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2010.11.11.19.00.48;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2010.10.24.21.36.04;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2010.10.19.07.43.01;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2010.10.17.14.20.53;	author sthen;	state Exp;
branches;
next	1.53;

1.53
date	2010.10.13.19.12.56;	author jasper;	state Exp;
branches;
next	1.52;

1.52
date	2010.10.11.08.18.07;	author jasper;	state Exp;
branches;
next	1.51;

1.51
date	2010.09.30.07.21.20;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2010.04.27.21.53.56;	author sthen;	state Exp;
branches;
next	1.49;

1.49
date	2010.01.18.14.27.16;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2010.01.05.12.40.36;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2009.08.10.06.34.29;	author kili;	state Exp;
branches;
next	1.46;

1.46
date	2009.03.09.22.42.07;	author sthen;	state Exp;
branches;
next	1.45;

1.45
date	2009.03.05.08.06.28;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2009.02.06.12.55.48;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2009.01.07.14.10.50;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2008.11.09.13.38.29;	author ajacoutot;	state Exp;
branches;
next	1.41;

1.41
date	2008.09.02.11.28.05;	author landry;	state Exp;
branches;
next	1.40;

1.40
date	2008.08.21.07.23.44;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2008.07.01.10.17.35;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2008.06.13.17.38.39;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2008.06.06.10.27.55;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2007.12.10.20.07.26;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2007.10.26.22.56.57;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2007.10.25.15.14.58;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2007.10.25.07.34.29;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2007.09.23.12.56.37;	author sturm;	state Exp;
branches;
next	1.31;

1.31
date	2007.09.15.21.14.01;	author merdely;	state Exp;
branches;
next	1.30;

1.30
date	2007.01.04.20.19.54;	author steven;	state Exp;
branches;
next	1.29;

1.29
date	2006.12.16.12.22.35;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2006.11.25.20.12.10;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2006.09.18.12.00.00;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2006.06.13.13.32.48;	author bernd;	state Exp;
branches;
next	1.25;

1.25
date	2006.02.05.15.08.44;	author david;	state Exp;
branches;
next	1.24;

1.24
date	2006.01.22.00.09.30;	author steven;	state Exp;
branches;
next	1.23;

1.23
date	2005.11.15.19.13.00;	author wilfried;	state Exp;
branches;
next	1.22;

1.22
date	2005.10.05.20.30.52;	author sturm;	state Exp;
branches;
next	1.21;

1.21
date	2005.09.16.09.51.27;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2005.09.06.20.11.28;	author sturm;	state Exp;
branches;
next	1.19;

1.19
date	2005.08.13.18.19.31;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2005.06.12.12.07.19;	author sturm;	state Exp;
branches;
next	1.17;

1.17
date	2005.03.10.06.25.38;	author sturm;	state Exp;
branches;
next	1.16;

1.16
date	2004.12.20.10.11.19;	author alek;	state Exp;
branches;
next	1.15;

1.15
date	2004.12.16.10.16.29;	author alek;	state Exp;
branches;
next	1.14;

1.14
date	2004.10.16.16.33.56;	author sturm;	state Exp;
branches;
next	1.13;

1.13
date	2004.06.25.18.54.50;	author marcm;	state Exp;
branches;
next	1.12;

1.12
date	2004.06.22.00.08.28;	author sturm;	state Exp;
branches;
next	1.11;

1.11
date	2004.06.18.08.48.35;	author robert;	state Exp;
branches;
next	1.10;

1.10
date	2004.05.18.14.49.56;	author naddy;	state Exp;
branches;
next	1.9;

1.9
date	2004.04.10.13.42.40;	author sturm;	state Exp;
branches;
next	1.8;

1.8
date	2004.03.03.19.49.42;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2004.02.19.17.27.55;	author sturm;	state Exp;
branches;
next	1.6;

1.6
date	2004.01.25.16.37.30;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2003.12.21.11.40.10;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2003.12.16.10.04.37;	author sturm;	state Exp;
branches;
next	1.3;

1.3
date	2003.11.25.17.24.39;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2003.11.18.18.03.30;	author sturm;	state Exp;
branches;
next	1.1;

1.1
date	2003.11.03.20.34.16;	author sturm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.11.03.20.34.16;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.73
log
@update to gkrellm-2.3.10, mostly from frantisek holop, small tweak from me to
honour CC.
@
text
@# $OpenBSD: Makefile,v 1.72 2016/03/16 16:53:50 naddy Exp $

COMMENT-main=	single process stack of system monitors for GTK+2 (server)
COMMENT-client=	single process stack of system monitors for GTK+2

V=		2.3.10
DISTNAME=	gkrellm-${V}
PKGNAME-main=	gkrellm-server-${V}
PKGNAME-client=	gkrellm-${V}
CATEGORIES=	sysutils

HOMEPAGE=	http://www.gkrellm.net/

# GPLv3 with OpenSSL license exception
PERMIT_PACKAGE_CDROM=   Yes

MASTER_SITES=	http://gkrellm.srcbox.net/releases/
EXTRACT_SUFX=	.tar.bz2

PSEUDO_FLAVORS=	no_client
FLAVOR?=

MULTI_PACKAGES=	-main
.if !${FLAVOR:Mno_client}
MULTI_PACKAGES+=-client
.else
WRKBUILD=	${WRKDIST}/server
.endif

MODULES=		devel/gettext
WANTLIB=		c kvm pthread glib-2.0 gmodule-2.0 gthread-2.0
LIB_DEPENDS=		devel/glib2
LIB_DEPENDS-client=	${LIB_DEPENDS} \
			x11/gtk+2

WANTLIB-client += ${WANTLIB}
WANTLIB-client += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi
WANTLIB-client += Xinerama Xrandr Xrender atk-1.0 cairo crypto fontconfig
WANTLIB-client += freetype gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 gobject-2.0
WANTLIB-client += gtk-x11-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0
WANTLIB-client += ssl z

NO_TEST=	Yes
USE_GMAKE=	Yes

ALL_TARGET=	openbsd
INSTALL_TARGET=	install_openbsd

MAKE_ENV+=	without_gnutls=yes
MAKE_FLAGS+=	CC="${CC}"

# not all powerpc support apm(4), hence the use of ${MACHINE} and macppc
# (patches/patch-src_sysdeps_openbsd_c)
.if ${MACHINE} == "macppc"
CFLAGS+=	-D__macppc__
.endif

pre-configure:
	${SUBST_CMD} ${WRKSRC}/server/gkrellmd.h \
		${WRKSRC}/gkrellm.1 ${WRKSRC}/gkrellmd.1

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/gkrellm-server
	${INSTALL_DATA} ${WRKSRC}/server/gkrellmd.conf \
		${PREFIX}/share/examples/gkrellm-server

.include <bsd.port.mk>
@


1.72
log
@removing SHARED_ONLY is safe here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2015/10/05 16:29:02 sthen Exp $
d6 1
a6 1
V=		2.3.5
a9 2
REVISION-main=	8
REVISION-client=4
d17 1
a17 1
MASTER_SITES=	http://members.dslextreme.com/users/billw/gkrellm/
d50 1
@


1.71
log
@REVISION bumps following the additional member in struct if_data,
to make sure packages get updated
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.70 2014/10/13 19:21:43 sthen Exp $

SHARED_ONLY=	Yes
@


1.70
log
@unnecessary param.h
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/05/16 20:47:49 rpe Exp $
d12 1
a12 1
REVISION-main=	7
@


1.69
log
@normalize CATEGORIES to sysutils

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/03/17 09:47:07 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	6
@


1.68
log
@Fix building the no_client PSEUDO_FLAVOR; reported by John Tate
Remove USE_GROFF.
Sync WANTLIB while here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/03/11 11:41:30 espie Exp $
d14 1
a14 1
CATEGORIES=	sysutils sysutils/gkrellm
@


1.67
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/02/09 14:49:53 sthen Exp $
d12 2
a13 2
REVISION-main=	5
REVISION-client=3
a20 1

a23 1
USE_GROFF =	Yes
d40 6
a45 7
WANTLIB-client += ${WANTLIB} gdk-x11-2.0 gtk-x11-2.0
WANTLIB-client += ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext
WANTLIB-client += Xfixes Xi Xinerama Xrandr Xrender atk-1.0 cairo crypto
WANTLIB-client += expat fontconfig freetype m pango-1.0 pangocairo-1.0
WANTLIB-client += pangoft2-1.0 pixman-1 png pthread-stubs ssl xcb z
WANTLIB-client += gio-2.0 gobject-2.0 gdk_pixbuf-2.0
WANTLIB-client += GL Xxf86vm drm xcb-render xcb-shm
@


1.66
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2012/09/01 14:36:58 ajacoutot Exp $
a19 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
d50 1
a50 1
NO_REGRESS=	Yes
@


1.65
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2012/04/14 09:27:27 nigel Exp $
d33 1
a33 1
.if !${FLAVOR:L:Mno_client}
@


1.64
log
@Update for rfork removal.

Ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2012/01/26 08:03:57 ajacoutot Exp $
d12 2
a13 2
REVISION-main=	4
REVISION-client=2
@


1.63
log
@Put these users in the daemon class to be consistent with all the other
ones in ports.

discussed with and ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/11/16 00:25:05 sthen Exp $
d12 2
a13 2
REVISION-main=	3
REVISION-client=1
@


1.62
log
@bumps; net/if.h
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/09/16 11:41:39 espie Exp $
d12 1
a12 1
REVISION-main=	2
@


1.61
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/07/06 12:50:15 jasper Exp $
d12 1
a12 1
REVISION-main=	1
@


1.60
log
@- move away from old kinfo_proc2
- add mising comment
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2011/03/02 06:59:55 ajacoutot Exp $
d12 2
a13 2
REVISION-main=	0
REVISION-client=0
@


1.59
log
@Update to gkrellm-2.3.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/11/20 17:22:41 espie Exp $
d12 2
@


1.58
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/11/11 19:00:48 espie Exp $
d8 1
a8 1
V=		2.3.4
a10 1
REVISION-main=	2
a11 1
REVISION-client=5
d49 1
a49 1
WANTLIB-client += GL X11-xcb Xxf86vm drm xcb-render xcb-shm
@


1.57
log
@last WANTLIB conversion, hopefully
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/10/24 21:36:04 ajacoutot Exp $
d41 1
a41 1
LIB_DEPENDS=		::devel/glib2
d43 1
a43 1
			::x11/gtk+2
@


1.56
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/10/19 07:43:01 espie Exp $
a23 1
WANTLIB=	c kvm pthread
d40 2
a41 1
LIB_DEPENDS=		glib-2.0,gmodule-2.0,gthread-2.0::devel/glib2
d43 1
a43 1
			gdk-x11-2.0,gtk-x11-2.0::x11/gtk+2
d45 1
a45 1
WANTLIB-client += ${WANTLIB}
@


1.55
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/10/17 14:20:53 sthen Exp $
a35 1
USE_X11=	Yes
@


1.54
log
@Don't use LOG_MAKEPRI, it's undocumented, confusing, and in this port
is used incorrectly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/10/13 19:12:56 jasper Exp $
d29 1
@


1.53
log
@- regen WANTLIB here too
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/10/11 08:18:07 jasper Exp $
d11 1
a11 1
REVISION-main=	1
d13 1
a13 1
REVISION-client=4
@


1.52
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2010/09/30 07:21:20 ajacoutot Exp $
d13 1
a13 1
REVISION-client=3
d51 1
@


1.51
log
@Fix DEPENDS after gtk+2 and gdk-pixbuf split.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2010/04/27 21:53:56 sthen Exp $
d10 4
a13 2
PKGNAME-main=	gkrellm-server-${V}p1
PKGNAME-client=	gkrellm-${V}p2
d48 1
a48 1
WANTLIB-client += expat fontconfig freetype glitz m pango-1.0 pangocairo-1.0
@


1.50
log
@- unbreak following sensor changes
- skip over ifm->ifm_version != RTM_VERSION messages
- sync WANTLIBs, bump everything
- drop ajacoutot@@ as maintainer per his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2010/01/18 14:27:16 sthen Exp $
d11 1
a11 1
PKGNAME-client=	gkrellm-${V}p1
d41 1
a41 1
			gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2
d48 1
a48 1
WANTLIB-client += gio-2.0 gobject-2.0
@


1.49
log
@Switch to KERN_PROC2. ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2010/01/05 12:40:36 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p0
PKGNAME-client=	gkrellm-${V}p0
a12 2

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.48
log
@Update to gkrellm-2.3.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2009/08/10 06:34:29 kili Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}
PKGNAME-client=	gkrellm-${V}
@


1.47
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2009/03/09 22:42:07 sthen Exp $
d8 1
a8 1
V=		2.3.2
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p3
PKGNAME-client=	gkrellm-${V}p4
d41 1
a41 1
LIB_DEPENDS=		gio-2.0,glib-2.0,gmodule-2.0,gobject-2.0,gthread-2.0::devel/glib2
d45 3
a47 2
WANTLIB-client += ${WANTLIB} ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp
WANTLIB-client += Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0 cairo crypto
d50 1
@


1.46
log
@fix WANTLIB/LIB_DEPENDS, bump packages
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2009/03/05 08:06:28 ajacoutot Exp $
d11 1
a11 1
PKGNAME-client=	gkrellm-${V}p3
d48 1
a48 1
WANTLIB-client += pangoft2-1.0 pixman-1 png ssl z
@


1.45
log
@- fix a memory leak
from Josh Elsasser <josh at elsasser dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2009/02/06 12:55:48 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p2
PKGNAME-client=	gkrellm-${V}p2
d41 1
a41 1
LIB_DEPENDS=		glib-2.0,gmodule-2.0,gthread-2.0::devel/glib2
d45 4
a48 5
WANTLIB-client=		${WANTLIB} ICE SM X11 Xau Xcursor Xdmcp Xfixes Xi \
			Xinerama Xrandr crypto expat fontconfig freetype \
			Xext Xrender glitz png z Xcomposite Xdamage \
			atk-1.0 gobject-2.0 m pango-1.0 \
			pangocairo-1.0 pangoft2-1.0 ssl cairo pixman-1
@


1.44
log
@- fix a misplaced cast that would corrupt swap statistics for systems
with >=2GB swap
- replace kvm reads with sysctl()
this change brings some useful improvements in the process:
* it fixes the disk plugin
* if you don't care about TCP connection statistics, then running sgid
is not needed anymore

all work done by Josh Elsasser, thank you!
"functionality-wise: thumbs up!" sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2009/01/07 14:10:50 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p1
PKGNAME-client=	gkrellm-${V}p1
@


1.43
log
@- we are not Linux
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2008/11/09 13:38:29 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p0
PKGNAME-client=	gkrellm-${V}p0
@


1.42
log
@- update to gkrellm-2.3.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2008/09/02 11:28:05 landry Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}
PKGNAME-client=	gkrellm-${V}
@


1.41
log
@Add support for sensors through hw.sensors sysctls, currently temperature,
fan speed and voltages.
From a diff by Josh Elsasser on ports@@ a while ago, thanks!

ok ajacoutot@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2008/08/21 07:23:44 ajacoutot Exp $
d8 1
a8 1
V=		2.3.1
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p3
PKGNAME-client=	gkrellm-${V}p4
d18 1
a18 1
# GPLv3
@


1.40
log
@- use SUBST_CMD
- fix PATHs in documentation
- add a default gkrellmd.conf
- make the server use the unpriviledged _gkrellmd user by default
- add sparc64 to the list of apm(4) capable arches and s/powerpc/macppc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2008/07/01 10:17:35 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p2
PKGNAME-client=	gkrellm-${V}p3
@


1.39
log
@- fix compilation under sparc64
noticed by sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2008/06/13 17:38:39 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p1
PKGNAME-client=	gkrellm-${V}p2
d59 6
d66 7
a72 1
	${SUBST_CMD} ${WRKSRC}/server/gkrellmd.h
@


1.38
log
@- add amd64, arm and sparc to APM capable archs

thanks a lot to sthen@@ for painful testing on zaurus ;-)
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2008/06/06 10:27:55 sthen Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p0
PKGNAME-client=	gkrellm-${V}p1
d60 1
a60 2
	@@perl -pi -e "s|%%SYSCONFDIR%%|${SYSCONFDIR}|g" \
		${WRKSRC}/server/gkrellmd.h
@


1.37
log
@sync WANTLIB following cairo update, bump package versions.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2007/12/10 20:07:26 ajacoutot Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}
PKGNAME-client=	gkrellm-${V}p0
@


1.36
log
@- minor update to 2.3.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2007/10/26 22:56:57 ajacoutot Exp $
d11 1
a11 1
PKGNAME-client=	gkrellm-${V}
d49 1
a49 1
			pangocairo-1.0 pangoft2-1.0 ssl cairo
@


1.35
log
@- update to 2.3.0
- switch to GPLv3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2007/10/25 15:14:58 ajacoutot Exp $
d8 1
a8 1
V=		2.3.0
@


1.34
log
@- fix WANTLIB after recent gtk update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2007/10/25 07:34:29 ajacoutot Exp $
d8 1
a8 1
V=		2.2.10
d11 1
a11 1
PKGNAME-client=	gkrellm-${V}p0
d14 2
a16 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
d18 1
a18 1
# GPL
a40 1

a41 1

d44 1
d56 2
@


1.33
log
@- update to 2.2.10
- take over maintainership (Peter Hessler don't have time for this anymore)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2007/09/23 12:56:37 sturm Exp $
d11 1
a11 1
PKGNAME-client=	gkrellm-${V}
d47 1
a47 1
			Xext Xrender glitz png z \
@


1.32
log
@WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2007/09/15 21:14:01 merdely Exp $
d8 1
a8 1
V=		2.2.4
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p7
PKGNAME-client=	gkrellm-${V}p8
d15 1
a15 1
MAINTAINER=	Peter Hessler <spambox@@theapt.org>
d22 2
a23 1
WANTLIB=	c iconv kvm pthread
@


1.31
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*/IGNORE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2007/01/04 20:19:54 steven Exp $
d10 2
a11 2
PKGNAME-main=	gkrellm-server-${V}p6
PKGNAME-client=	gkrellm-${V}p7
d22 1
a22 1
WANTLIB=	c iconv intl kvm pthread
d38 2
d44 2
a45 1
WANTLIB-client=		${WANTLIB} ICE SM X11 crypto fontconfig freetype \
@


1.30
log
@fix WANTLIB of ports using gtk, needed after switch to our own pkg-config
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2006/12/16 12:22:35 espie Exp $
d5 2
a6 2
COMMENT-main=	"single process stack of system monitors for GTK+2 (server)"
COMMENT-client=	"single process stack of system monitors for GTK+2"
@


1.29
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/11/25 20:12:10 espie Exp $
d11 1
a11 1
PKGNAME-client=	gkrellm-${V}p6
d43 1
@


1.28
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/09/18 12:00:00 espie Exp $
a36 2

BUILD_DEPENDS=		:pkgconfig-*:devel/pkgconfig
@


1.27
log
@zap .0.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/06/13 13:32:48 bernd Exp $
d3 1
a3 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
d5 1
a5 1
COMMENT=	"single process stack of system monitors for GTK+2 (server)"
d10 1
a10 1
PKGNAME=	gkrellm-server-${V}p5
d30 1
a30 1
MULTI_PACKAGES=
d33 3
a36 1
SUBPACKAGE?=
d38 9
a46 2
BUILD_DEPENDS=	:pkgconfig-*:devel/pkgconfig
LIB_DEPENDS=	glib-2.0,gmodule-2.0,gthread-2.0::devel/glib2
a52 12

.if ${MULTI_PACKAGES:M-client}
USE_X11=	Yes
.  if !defined(PACKAGING) || !empty(SUBPACKAGE)
LIB_DEPENDS+=	gdk-x11-2.0,gdk_pixbuf-2.0,gtk-x11-2.0::x11/gtk+2
WANTLIB+=	ICE SM X11 crypto fontconfig freetype \
		atk-1.0 gobject-2.0 m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 ssl cairo
.  endif
.else
WRKBUILD=	${WRKDIST}/server
.endif
@


1.26
log
@Fix WANTLIB after gtk+2 upgrade.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2006/02/05 15:08:44 david Exp $
d37 1
a37 1
LIB_DEPENDS=	glib-2.0.0.0,gmodule-2.0.0.0,gthread-2.0.0.0::devel/glib2
d48 1
a48 1
LIB_DEPENDS+=	gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+2
d50 2
a51 2
		atk-1.0.0.0 gobject-2.0.0.0 m pango-1.0.0.0 \
		pangocairo-1.0.0.0 pangoft2-1.0.0.0 ssl cairo
@


1.25
log
@move post-patch to pre-configure (fixes make update-patches); ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2006/01/22 00:09:30 steven Exp $
d11 1
a11 1
PKGNAME-client=	gkrellm-${V}p5
d49 3
a51 3
WANTLIB+=	ICE SM X11 Xext Xft Xrender crypto fontconfig freetype \
		atk-1.0.0.0 gobject-2.0.0.0 m pango-1.0.0.0 pangox-1.0.0.0 \
		pangoft2-1.0.0.0 pangoxft-1.0.0.0 ssl
@


1.24
log
@- fix WANTLIB after gtk+2 downgrade
- unbreak wireless plugin, fix from Marcus Glocker <marcus at nazgul.ch>
  wireless: tested by sturm@@, ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/11/15 19:13:00 wilfried Exp $
d10 2
a11 2
PKGNAME=	gkrellm-server-${V}p4
PKGNAME-client=	gkrellm-${V}p4
@


1.23
log
@fix wantlib + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2005/10/05 20:30:52 sturm Exp $
d10 2
a11 2
PKGNAME=	gkrellm-server-${V}p3
PKGNAME-client=	gkrellm-${V}p3
d49 3
a51 3
WANTLIB+=	ICE SM X11 atk-1.0.0.0 cairo crypto fontconfig freetype \
		gobject-2.0.0.0 m pango-1.0.0.0 pangocairo-1.0.0.0 \
		pangoft2-1.0.0.0 ssl
@


1.22
log
@fix WANTLIB and bump PKGNAME accordingly
minor cleanup as well

partly from maintainer Peter Hessler <spambox at theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2005/09/16 09:51:27 espie Exp $
d11 1
a11 1
PKGNAME-client=	gkrellm-${V}p2
d22 1
a22 1
WANTLIB=	c glib-2.0.0.0 gmodule-2.0.0.0 iconv intl kvm pthread
d37 1
a37 1
LIB_DEPENDS=	gthread-2.0.0.0::devel/glib2
d49 3
a51 3
WANTLIB+=	ICE SM X11 Xft Xrender atk-1.0.0.0 crypto \
		fontconfig freetype gobject-2.0.0.0 m pango-1.0.0.0 \
		pangox-1.0.0.0 pangoxft-1.0.0.0 ssl
@


1.21
log
@Fix a buglet in bsd.port.mk where the PSEUDO_FLAVORS get encoded into
the FULLPKGPATH, thus providing changes to packing-lists which shouldn't
happen, and making update more difficult.

Accordingly, bump all pkgnames with PSEUDO_FLAVORS, and provide an
update @@pkgpath for the bug for most of them (left out the ones with 3
or 4 pseudo flavors for space constraints...)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2005/09/06 20:11:28 sturm Exp $
d11 1
a11 1
PKGNAME-client=	gkrellm-${V}p1
d49 1
a49 1
WANTLIB+=	ICE SM X11 Xext Xft Xinerama Xrender atk-1.0.0.0 crypto \
d51 1
a51 1
		pangox-1.0.0.0 pangoxft-1.0.0.0 ssl Xcursor
@


1.20
log
@clean up PLISTs and fix build of no_client FLAVOR
noticed by David Hill <davidh at wmis.net>
ok maintainer Peter Hessler <phessler at theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2005/08/13 18:19:31 espie Exp $
d10 1
a10 1
PKGNAME=	gkrellm-server-${V}p2
@


1.19
log
@missing dirs in PLIST
okay pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2005/06/12 12:07:19 sturm Exp $
d10 2
a11 2
PKGNAME=	gkrellm-server-${V}p1
PKGNAME-client=	gkrellm-${V}p0
@


1.18
log
@rewrite cpu usage parts for openbsd to display usage of all cpus
on mp machines (based on new top code from fries@@)

ok maintainer Peter Hessler <spambox at theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2005/03/10 06:25:38 sturm Exp $
d10 1
a10 1
PKGNAME=	gkrellm-server-${V}p0
@


1.17
log
@new MASTER_SITES for gkrellm
update aclock to 0.3.3
update mss to 2.6

from MAINTAINER Peter Hessler <spambox at theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/12/20 10:11:19 alek Exp $
d10 2
a11 2
PKGNAME=	gkrellm-server-${V}
PKGNAME-client=	gkrellm-${V}
@


1.16
log
@Fix WANTLIB marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/12/16 10:16:29 alek Exp $
d24 1
a24 1
MASTER_SITES=	http://web.wt.net/~billw/gkrellm/
@


1.15
log
@Add WANTLIB markers.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/10/16 16:33:56 sturm Exp $
d22 1
a22 5
WANTLIB=		ICE SM X11 Xext Xft Xinerama Xrender atk-1.0.0.0 c \
			crypto fontconfig freetype glib-2.0.0.0 \
			gmodule-2.0.0.0 gobject-2.0.0.0 iconv intl kvm m \
			pango-1.0.0.0 pangox-1.0.0.0 pangoxft-1.0.0.0 \
			pthread ssl Xcursor
d49 3
@


1.14
log
@several updates from maintainer Peter Hessler <phessler at theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2004/06/25 18:54:50 marcm Exp $
d22 5
@


1.13
log
@Fix LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2004/06/22 00:08:28 sturm Exp $
d8 1
a8 1
V=		2.2.1
d10 2
a11 2
PKGNAME=	gkrellm-server-${V}p0
PKGNAME-client=	gkrellm-${V}p0
@


1.12
log
@fix cpu display on -current machines
bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2004/06/18 08:48:35 robert Exp $
d36 1
a36 1
LIB_DEPENDS=	gthread-2.0.=0::devel/glib2
d47 1
a47 1
LIB_DEPENDS+=	gdk-x11-2.0.=0,gdk_pixbuf-2.0.=0,gtk-x11-2.0.=0::x11/gtk+2
@


1.11
log
@update gkrellm to 2.2.1 and update the bgchg plugin to 0.1.0;
From MAINTAINER Peter Hessler <phessler@@theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2004/05/18 14:49:56 naddy Exp $
d10 2
a11 2
PKGNAME=	gkrellm-server-${V}
PKGNAME-client=	gkrellm-${V}
@


1.10
log
@Update to:
* gkrellm 2.2.0
* mms 2.1.19
* mss 2.5
* sun 0.11.0
* volume 2.1.9
* wireless 2.0.3

This also updates the dependancy on gkrellm to a minimum of 2.2.0, since
there are several updates that require some of the new functions.

From: Peter Hessler <spambox@@theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/04/10 13:42:40 sturm Exp $
d8 1
a8 1
V=		2.2.0
@


1.9
log
@update to
- gkrellm 2.1.28
- bgchg 0.1.0
- itime 1.0.1

from maintainer Peter Hessler <spambox at theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/03/03 19:49:42 naddy Exp $
d8 1
a8 1
V=		2.1.28
@


1.8
log
@Update
- gkrellm to 2.1.27
- bgchg plugin to 0.0.9 and fix homepage/master site
- mms plugin to 2.1.14

From: Peter Hessler <phessler@@theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/02/19 17:27:55 sturm Exp $
d8 1
a8 1
V=		2.1.27
@


1.7
log
@fix build on -current
move post-patch to pre-configure

new patch from Aleksander Piotrowski <aleksander.piotrowski at nic.com.pl>
via maintainer Peter Hessler <phessler at theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2004/01/25 16:37:30 sturm Exp $
d8 1
a8 1
V=		2.1.25
@


1.6
log
@update to gkrellm 2.1.25

from Peter Hessler <spambox at theapt.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2003/12/21 11:40:10 sturm Exp $
d53 1
a53 1
post-patch:
@


1.5
log
@update to gkrellm 2.1.24
bugfixes and improved ssl handling

from maintainer Peter Hessler <spambox at theapt dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2003/12/16 10:04:37 sturm Exp $
d8 1
a8 1
V=		2.1.24
@


1.4
log
@maintenance update to gkrellm 2.1.22

from maintainer Peter Hessler <spambox at theapt dot org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2003/11/25 17:24:39 sturm Exp $
d8 1
a8 1
V=		2.1.22
@


1.3
log
@add a MULTI_PACKAGE for gkrellmd

originally from Peter Hessler
made into a correct version by naddy@@ (thanks a lot!)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2003/11/18 18:03:30 sturm Exp $
d8 1
a8 1
V=		2.1.21
@


1.2
log
@missing BUILD_DEPENDS on pkgconfig
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2003/11/03 20:34:16 sturm Exp $
d3 4
a6 1
COMMENT=	"single process stack of system monitors for GTK+2"
d8 4
a11 1
DISTNAME=	gkrellm-2.1.21
d23 12
d36 1
a36 2
LIB_DEPENDS=	gthread-2.0.0.0::devel/glib2 \
		gdk-x11-2.0.0.0,gdk_pixbuf-2.0.0.0,gtk-x11-2.0.0.0::x11/gtk+2
a37 1
NOT_FOR_ARCHS=	${NO_SHARED_ARCHS}
d41 2
a42 2
MASTER_SITES=	http://web.wt.net/~billw/gkrellm/
EXTRACT_SUFX=	.tar.bz2
d44 1
d46 6
a51 2
ALL_TARGET=	openbsd
INSTALL_TARGET=	install_openbsd
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d17 1
@


1.1.1.1
log
@import of gkrellm 2.1.21 and associated plugins

besides bringing gkrellm and the plugins up2date, this introduces a new
port structure, where all plugins are located in sysutils/gkrellm/plugins.

the set of plugins consists of:
aclock, bgchg, flynn, itime, kam, launch, mailwatch, mms, moon, mss, reminder
shoot, stock, sun, volume, weather and wireless

ports done and maintained by Peter Hessler <spambox@@theapt.org>

all prior maintainers either agreed to him taking over their plugins or
timed out. 
@
text
@@
