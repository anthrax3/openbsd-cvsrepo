head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.06.09.13.32.29;	author sthen;	state Exp;
branches;
next	;
commitid	8YJNWRwtxLfoLRkY;


desc
@@


1.1
log
@update to dmidecode-3.1
@
text
@$OpenBSD$

Index: util.c
--- util.c.orig
+++ util.c
@@@@ -172,6 +172,10 @@@@ void *mem_chunk(off_t base, size_t len, const char *de
 	if ((fd = open(devmem, O_RDONLY)) == -1)
 	{
 		perror(devmem);
+		if (errno == EPERM) {
+			fprintf(stderr, "Note: requires running as root with "
+			    "access to kernel memory (kern.allowkmem=1).\n");
+		}
 		return NULL;
 	}
 
@
