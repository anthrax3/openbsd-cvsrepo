head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.4
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.30
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.26
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.24
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.22
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.20
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.18
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.16
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.14
	OPENBSD_5_0:1.3.0.12
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.10
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.8
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.6
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.4
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.2
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.1.1.1.0.10
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.8
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.6
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.4
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.2
	OPENBSD_3_8_BASE:1.1.1.1
	jolan_20050325:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2015.09.08.19.31.15;	author sthen;	state Exp;
branches;
next	1.3;
commitid	OmQcezpz3VoR3cfo;

1.3
date	2009.01.08.21.07.53;	author jolan;	state Exp;
branches;
next	1.2;

1.2
date	2007.11.04.19.51.29;	author aanriot;	state Exp;
branches;
next	1.1;

1.1
date	2005.03.25.07.23.37;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.03.25.07.23.37;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to dmidecode-3.0
@
text
@--- Makefile.orig	Thu Sep  3 08:03:19 2015
+++ Makefile	Tue Sep  8 21:22:53 2015
@@@@ -13,7 +13,7 @@@@
 #
 
 CC      = gcc
-CFLAGS  = -W -Wall -Wshadow -Wstrict-prototypes -Wpointer-arith -Wcast-qual \
+CFLAGS  += -W -Wall -Wshadow -Wstrict-prototypes -Wpointer-arith -Wcast-qual \
           -Wcast-align -Wwrite-strings -Wmissing-prototypes -Winline -Wundef
 
 # Let lseek and mmap support 64-bit wide offsets
@@@@ -23,7 +23,7 @@@@ CFLAGS += -D_FILE_OFFSET_BITS=64
 #CFLAGS += -DALIGNMENT_WORKAROUND
 
 # When debugging, disable -O2 and enable -g.
-CFLAGS += -O2
+#CFLAGS += -O2
 #CFLAGS += -g
 
 # Pass linker flags here
@@@@ -114,28 +114,28 @@@@ install : install-bin install-man install-doc
 uninstall : uninstall-bin uninstall-man uninstall-doc
 
 install-bin : $(PROGRAMS)
-	$(INSTALL_DIR) $(DESTDIR)$(sbindir)
+	$(INSTALL_DIR) $(sbindir)
 	for program in $(PROGRAMS) ; do \
-	$(INSTALL_PROGRAM) $$program $(DESTDIR)$(sbindir) ; done
+	$(INSTALL_PROGRAM) $$program $(sbindir) ; done
 
 uninstall-bin :
 	for program in $(PROGRAMS) ; do \
 	$(RM) $(DESTDIR)$(sbindir)/$$program ; done
 
 install-man :
-	$(INSTALL_DIR) $(DESTDIR)$(man8dir)
+	$(INSTALL_DIR) $(man8dir)
 	for program in $(PROGRAMS) ; do \
-	$(INSTALL_DATA) man/$$program.8 $(DESTDIR)$(man8dir) ; done
+	$(INSTALL_DATA) man/$$program.8 $(man8dir) ; done
 
 uninstall-man :
 	for program in $(PROGRAMS) ; do \
 	$(RM) $(DESTDIR)$(man8dir)/$$program.8 ; done
 
 install-doc :
-	$(INSTALL_DIR) $(DESTDIR)$(docdir)
-	$(INSTALL_DATA) README $(DESTDIR)$(docdir)
-	$(INSTALL_DATA) CHANGELOG $(DESTDIR)$(docdir)
-	$(INSTALL_DATA) AUTHORS $(DESTDIR)$(docdir)
+	$(INSTALL_DIR) $(docdir)
+	$(INSTALL_DATA) README $(docdir)
+	$(INSTALL_DATA) CHANGELOG $(docdir)
+	$(INSTALL_DATA) AUTHORS $(docdir)
 
 uninstall-doc :
 	$(RM) -r $(DESTDIR)$(docdir)
@


1.3
log
@update to 2.10; from benoit lecocq
@
text
@d1 3
a3 4
--- Makefile.orig	Sat Feb 16 19:55:52 2008
+++ Makefile	Wed Jan  7 12:11:35 2009
@@@@ -8,25 +8,25 @@@@
 #	Licensed under the GNU Public License.
d6 1
a6 1
-CC      = gcc
a7 1
+#CC      = gcc
d10 3
a12 1
 #CFLAGS += -DBIGENDIAN
d21 1
a21 18
-LDFLAGS =
+LDFLAGS +=
 
-DESTDIR =
-prefix  = /usr/local
-sbindir = $(prefix)/sbin
-mandir  = $(prefix)/share/man
+#DESTDIR =
+#prefix  = /usr/local
+sbindir = $(PREFIX)/sbin
+mandir  = $(PREFIX)/man
 man8dir = $(mandir)/man8
-docdir  = $(prefix)/share/doc/dmidecode
+docdir  = $(PREFIX)/share/doc/dmidecode
 
 INSTALL         := install
 INSTALL_DATA    := $(INSTALL) -m 644
@@@@ -100,28 +100,28 @@@@
@


1.2
log
@update to 2.9 .

ok ajacoutot@@
@
text
@d1 2
a2 3
$OpenBSD$
--- Makefile.orig	Fri Feb 16 12:00:12 2007
+++ Makefile	Sat Oct 27 13:33:42 2007
d38 1
a38 1
@@@@ -100,28 +100,28 @@@@ install : install-bin install-man install-doc
d61 1
a61 1
 	$(RM) $(DESTDIR)$(man8dir)/$$program.8
@


1.1
log
@Initial revision
@
text
@d2 3
a4 3
--- Makefile.orig	Mon Feb 28 14:43:00 2005
+++ Makefile	Fri Mar 25 01:16:27 2005
@@@@ -8,23 +8,23 @@@@
d12 1
a12 1
           -Wcast-align -Wwrite-strings -Wmissing-prototypes
d28 1
a28 1
-mandir  = $(prefix)/man
d34 2
d37 36
a72 33
 all : dmidecode biosdecode ownership vpddecode
@@@@ -72,21 +72,21 @@@@ strip : all
 	strip dmidecode biosdecode ownership vpddecode
 
 install : all
-	install -d $(DESTDIR)$(sbindir) $(DESTDIR)$(man8dir)
-	install -m 755 dmidecode $(DESTDIR)$(sbindir)
-	install -m 755 biosdecode $(DESTDIR)$(sbindir)
-	install -m 755 ownership $(DESTDIR)$(sbindir)
-	install -m 755 vpddecode $(DESTDIR)$(sbindir)
-	install -m 644 man/dmidecode.8 $(DESTDIR)$(man8dir)
-	install -m 644 man/biosdecode.8 $(DESTDIR)$(man8dir)
-	install -m 644 man/ownership.8 $(DESTDIR)$(man8dir)
-	install -m 644 man/vpddecode.8 $(DESTDIR)$(man8dir)
+	install -d $(sbindir) $(man8dir)
+	install -m 755 dmidecode $(sbindir)
+	install -m 755 biosdecode $(sbindir)
+	install -m 755 ownership $(sbindir)
+	install -m 755 vpddecode $(sbindir)
+	install -m 644 man/dmidecode.8 $(man8dir)
+	install -m 644 man/biosdecode.8 $(man8dir)
+	install -m 644 man/ownership.8 $(man8dir)
+	install -m 644 man/vpddecode.8 $(man8dir)
 
 uninstall :
-	rm -f $(DESTDIR)$(sbindir)/dmidecode $(DESTDIR)$(man8dir)/dmidecode.8
-	rm -f $(DESTDIR)$(sbindir)/biosdecode $(DESTDIR)$(man8dir)/biosdecode.8
-	rm -f $(DESTDIR)$(sbindir)/ownership $(DESTDIR)$(man8dir)/ownership.8
-	rm -f $(DESTDIR)$(sbindir)/vpddecode $(DESTDIR)$(man8dir)/vpddecode.8
+	rm -f $(sbindir)/dmidecode $(man8dir)/dmidecode.8
+	rm -f $(sbindir)/biosdecode $(man8dir)/biosdecode.8
+	rm -f $(sbindir)/ownership $(man8dir)/ownership.8
+	rm -f $(sbindir)/vpddecode $(man8dir)/vpddecode.8
d74 2
a75 2
 clean :
 	rm -f *.o dmidecode biosdecode ownership vpddecode core
@


1.1.1.1
log
@dmidecode-2.6, tool for dumping DMI/SMBIOS contents in human-readable format
@
text
@@
