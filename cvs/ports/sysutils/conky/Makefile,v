head	1.51;
access;
symbols
	OPENBSD_6_1:1.51.0.2
	OPENBSD_6_1_BASE:1.51
	OPENBSD_6_0:1.48.0.4
	OPENBSD_6_0_BASE:1.48
	OPENBSD_5_9:1.48.0.2
	OPENBSD_5_9_BASE:1.48
	OPENBSD_5_8:1.45.0.4
	OPENBSD_5_8_BASE:1.45
	OPENBSD_5_7:1.44.0.2
	OPENBSD_5_7_BASE:1.44
	OPENBSD_5_6:1.40.0.6
	OPENBSD_5_6_BASE:1.40
	OPENBSD_5_5:1.40.0.4
	OPENBSD_5_5_BASE:1.40
	OPENBSD_5_4:1.40.0.2
	OPENBSD_5_4_BASE:1.40
	OPENBSD_5_3:1.37.0.2
	OPENBSD_5_3_BASE:1.37
	OPENBSD_5_2:1.32.0.2
	OPENBSD_5_2_BASE:1.32
	OPENBSD_5_1_BASE:1.27
	OPENBSD_5_1:1.27.0.2
	OPENBSD_5_0:1.24.0.2
	OPENBSD_5_0_BASE:1.24
	OPENBSD_4_9:1.20.0.2
	OPENBSD_4_9_BASE:1.20
	OPENBSD_4_8:1.15.0.2
	OPENBSD_4_8_BASE:1.15
	OPENBSD_4_7:1.12.0.2
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.9.0.2
	OPENBSD_4_5_BASE:1.9
	OPENBSD_4_4:1.6.0.2
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	jasper_20071010:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.51
date	2016.11.04.11.35.20;	author sthen;	state Exp;
branches;
next	1.50;
commitid	Gg5LRcnQlqj5M3F7;

1.50
date	2016.09.10.13.03.43;	author ajacoutot;	state Exp;
branches;
next	1.49;
commitid	4KcvAK91uGdTLejD;

1.49
date	2016.08.16.09.10.36;	author sthen;	state Exp;
branches;
next	1.48;
commitid	JkZMGiDg2zqEa6YS;

1.48
date	2015.10.30.12.59.16;	author sthen;	state Exp;
branches;
next	1.47;
commitid	vVZOehVa6DiEPxJL;

1.47
date	2015.10.05.16.29.01;	author sthen;	state Exp;
branches;
next	1.46;
commitid	AqjFzXOPaoxpieFE;

1.46
date	2015.09.11.14.50.36;	author sthen;	state Exp;
branches;
next	1.45;
commitid	0RuIoieY68ortn9h;

1.45
date	2015.06.10.21.42.26;	author sthen;	state Exp;
branches;
next	1.44;
commitid	KAX1WKnTNUH3EZBA;

1.44
date	2014.11.27.19.59.21;	author ajacoutot;	state Exp;
branches;
next	1.43;
commitid	O5iGx7nLbaXo9ZI8;

1.43
date	2014.11.09.10.26.55;	author benoit;	state Exp;
branches;
next	1.42;
commitid	bvg8xvJxy1aQAMsr;

1.42
date	2014.11.04.12.38.57;	author bcallah;	state Exp;
branches;
next	1.41;
commitid	NukwXoooKlLSOqos;

1.41
date	2014.09.16.07.28.09;	author benoit;	state Exp;
branches;
next	1.40;
commitid	ScBjFWy18OeUH00E;

1.40
date	2013.05.31.15.29.41;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2013.03.21.08.48.53;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2013.03.11.11.41.29;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2013.02.09.14.49.53;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2012.12.31.09.36.38;	author chrisz;	state Exp;
branches;
next	1.35;

1.35
date	2012.12.23.12.25.31;	author sthen;	state Exp;
branches;
next	1.34;

1.34
date	2012.09.19.08.15.09;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2012.09.01.14.36.58;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2012.07.10.15.22.45;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2012.05.15.19.38.01;	author jasper;	state Exp;
branches;
next	1.30;

1.30
date	2012.04.13.21.21.10;	author pascal;	state Exp;
branches;
next	1.29;

1.29
date	2012.03.22.08.37.49;	author dcoppa;	state Exp;
branches;
next	1.28;

1.28
date	2012.03.21.09.33.23;	author dcoppa;	state Exp;
branches;
next	1.27;

1.27
date	2011.11.18.01.08.01;	author sthen;	state Exp;
branches;
next	1.26;

1.26
date	2011.09.16.11.41.39;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2011.09.11.18.53.28;	author dcoppa;	state Exp;
branches;
next	1.24;

1.24
date	2011.07.06.12.32.51;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2011.06.13.10.11.05;	author dcoppa;	state Exp;
branches;
next	1.22;

1.22
date	2011.04.28.10.31.16;	author dcoppa;	state Exp;
branches;
next	1.21;

1.21
date	2011.04.27.12.55.10;	author dcoppa;	state Exp;
branches;
next	1.20;

1.20
date	2010.11.20.17.22.40;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.11.11.19.00.48;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2010.10.25.18.11.26;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2010.10.24.21.36.04;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2010.10.19.07.43.00;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2010.07.05.20.37.30;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.04.27.20.56.11;	author sthen;	state Exp;
branches;
next	1.13;

1.13
date	2010.03.21.11.35.26;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.11.23.16.46.20;	author benoit;	state Exp;
branches;
next	1.11;

1.11
date	2009.08.10.06.34.29;	author kili;	state Exp;
branches;
next	1.10;

1.10
date	2009.05.10.19.07.47;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2008.10.01.20.14.09;	author landry;	state Exp;
branches;
next	1.8;

1.8
date	2008.09.30.09.54.19;	author landry;	state Exp;
branches;
next	1.7;

1.7
date	2008.08.21.07.30.16;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2008.05.19.07.44.37;	author bernd;	state Exp;
branches;
next	1.5;

1.5
date	2008.02.28.18.28.56;	author okan;	state Exp;
branches;
next	1.4;

1.4
date	2008.02.03.16.04.09;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.13.20.05.00;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2007.10.19.12.12.33;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2007.10.10.21.20.23;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.10.10.21.20.23;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.51
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@# $OpenBSD: Makefile,v 1.50 2016/09/10 13:03:43 ajacoutot Exp $

ONLY_FOR_ARCHS= ${APM_ARCHS}

COMMENT=	light-weight system monitor

DISTNAME=	conky-1.9.0
CATEGORIES=	sysutils
HOMEPAGE=	http://conky.sourceforge.net/
REVISION=	11

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=conky/}

# mostly GPLv3; see COPYING
PERMIT_PACKAGE_CDROM=   Yes

WANTLIB=	c crypto kvm m ncurses nghttp2 ossaudio pthread ssl z \
		lzma glib-2.0 pcre curl xml2 ${MODLUA_WANTLIB}

MODULES=	devel/gettext \
		lang/lua
MODLUA_SA=	Yes

LIB_DEPENDS=	devel/glib2 \
		devel/pcre \
		net/curl \
		textproc/libxml \
		${MODLUA_LIB_DEPENDS}

FLAVORS=	no_x11 xmms2
FLAVOR?=

.if ${FLAVOR:Mno_x11}
.  if ${FLAVOR:Mxmms2}
ERRORS+="Fatal: nonsense combination of flavors"
.  else
CONFIGURE_ARGS+=--disable-double-buffer \
		--disable-own-window \
		--disable-xdamage \
		--disable-xft \
		--disable-x11
.  endif
.else
CONFIGURE_ARGS+=--enable-imlib2
LIB_DEPENDS+=	graphics/imlib2
WANTLIB += Imlib2 X11 Xdamage Xext Xfixes Xft
WANTLIB += Xrender expat fontconfig freetype xcb pthread-stubs
.endif

.if ${FLAVOR:Mxmms2}
CONFIGURE_ARGS+=--enable-xmms2
LIB_DEPENDS+=	audio/xmms2
WANTLIB+=	xmmsclient
.endif

CONFIGURE_STYLE=gnu
CONFIGURE_ARGS+=--enable-mpd \
		--enable-rss \
		--disable-config-output \
		--disable-moc \
		--disable-portmon \
		--enable-lua \
		--enable-curl \
		--with-libiconv-prefix="${LOCALBASE}"
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" LDFLAGS="-L${LOCALBASE}/lib" \
		LUA_CFLAGS="`pkg-config --cflags ${MODLUA_DEP}`" \
		LUA_LIBS="`pkg-config --libs ${MODLUA_DEP}`"

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/conky
	${INSTALL_DATA} ${WRKSRC}/doc/*.html ${PREFIX}/share/doc/conky
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/conky

FAKE_FLAGS=	configdir=${PREFIX}/share/examples/conky

.include <bsd.port.mk>
@


1.50
log
@First pass at pre-entively fixing ports that would break once guenther's header
pollution diff is in.

lang/squeak/vm does not build but it's due to the recent audio changes
games/xbattle: also fixes some conflicting implicit decl
print/hplip: also fixes some conflicting implicit decl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2016/08/16 09:10:36 sthen Exp $
d10 1
a10 1
REVISION=	10
d17 1
a17 1
WANTLIB=	c crypto kvm idn m ncurses nghttp2 ossaudio pthread ssl z \
@


1.49
log
@bump REVISION for ieee80211_nodereq change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2015/10/30 12:59:16 sthen Exp $
d10 1
a10 1
REVISION=	9
@


1.48
log
@sync WANTLIB (curl+nghttp2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2015/10/05 16:29:01 sthen Exp $
d10 1
a10 1
REVISION=	8
@


1.47
log
@REVISION bumps following the additional member in struct if_data,
to make sure packages get updated
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2015/09/11 14:50:36 sthen Exp $
d10 1
a10 1
REVISION=	7
d17 1
a17 1
WANTLIB=	c crypto kvm idn m ncurses ossaudio pthread ssl z \
@


1.46
log
@bump; ifmedia64
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2015/06/10 21:42:26 sthen Exp $
d10 1
a10 1
REVISION=	6
@


1.45
log
@sync wantlib, mostly lzma (from xml2)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2014/11/27 19:59:21 ajacoutot Exp $
d10 1
a10 1
REVISION=	5
@


1.44
log
@Add @@pkgpath ${BASE_PKGPATH},audacious now that the audacious FLAVOR is gone.

prodded by dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2014/11/09 10:26:55 benoit Exp $
d10 1
a10 1
REVISION =	4
d18 1
a18 1
		glib-2.0 pcre curl xml2 pthread-stubs ${MODLUA_WANTLIB}
a29 1

d47 1
a47 1
WANTLIB += Xrender expat fontconfig freetype xcb
@


1.43
log
@Remove myself as maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2014/11/04 12:38:57 bcallah Exp $
d10 1
a10 1
REVISION =	3
@


1.42
log
@Remove the audacious FLAVOR. It required libaudclient, which is no longer
part of audacious.
Reminder from dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2014/09/16 07:28:09 benoit Exp $
d10 1
a10 3
REVISION =	2

MAINTAINER=	Benoit Lecocq <benoit@@openbsd.org>
@


1.41
log
@unbreak with dkstat.h removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/05/31 15:29:41 ajacoutot Exp $
d10 1
a10 1
REVISION =	1
d33 1
a33 1
FLAVORS=	no_x11 audacious xmms2
d37 1
a37 1
.  if ${FLAVOR:Maudacious} || ${FLAVOR:Mxmms2}
a50 13
.endif

.if ${FLAVOR:Maudacious}
CONFIGURE_ARGS+=--enable-audacious=yes
LIB_DEPENDS +=	audio/audacious devel/harfbuzz
WANTLIB +=	GL ICE Xau Xcomposite Xcursor Xdmcp Xi Xinerama \
		Xrandr Xxf86vm atk-1.0 atk-bridge-2.0 atspi \
		audclient audcore audgui cairo cairo-gobject \
		dbus-1 dbus-glib-1 drm ffi gdk-3 gdk_pixbuf-2.0 \
		gio-2.0 gmodule-2.0 gobject-2.0 gthread-2.0 \
		gtk-3 harfbuzz pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pixman-1 png \
		pthread-stubs SM stdc++ xcb-render xcb-shm
@


1.40
log
@Bump some pkg that directly depend on harfbuzz after the recent version
bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2013/03/21 08:48:53 ajacoutot Exp $
d10 1
a10 1
REVISION=	0
@


1.39
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/03/11 11:41:29 espie Exp $
d10 1
d20 1
a20 1
		glib-2.0 pcre curl xml2 ${MODLUA_WANTLIB}
d61 1
a61 1
		gtk-3 harfbuzz icudata icule icuuc pango-1.0 \
@


1.38
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/02/09 14:49:53 sthen Exp $
a30 1
USE_LIBTOOL=	Yes
@


1.37
log
@Don't use ${FLAVOR:L}, we only support lower-case flavours now.
OK ajacoutot@@ espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2012/12/31 09:36:38 chrisz Exp $
a16 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
@


1.36
log
@update to conky-1.9.0

OK jasper@@, benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2012/12/23 12:25:31 sthen Exp $
d39 2
a40 2
.if ${FLAVOR:L:Mno_x11}
.  if ${FLAVOR:L:Maudacious} || ${FLAVOR:L:Mxmms2}
d56 1
a56 1
.if ${FLAVOR:L:Maudacious}
d69 1
a69 1
.if ${FLAVOR:L:Mxmms2}
@


1.35
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/09/19 08:15:09 jasper Exp $
d7 1
a7 2
DISTNAME=	conky-1.8.1
REVISION=	13
d58 9
a66 10
LIB_DEPENDS+=	audio/audacious
WANTLIB +=	GL Xcomposite Xcursor Xi Xinerama Xrandr Xxf86vm \
		atk-1.0 audclient audcore audgui cairo \
		cairo-gobject dbus-1 dbus-glib-1 drm ffi \
		gdk-3 gdk_pixbuf-2.0 gio-2.0 gmodule-2.0 \
		gobject-2.0 gthread-2.0 gtk-3 pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pixman-1 png stdc++ \
		xcb-render xcb-shm ICE SM atk-bridge-2.0 \
		atspi harfbuzz icudata icule icuuc \
		Xau Xdmcp pthread-stubs
@


1.34
log
@sync after recent lua.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2012/09/01 14:36:58 ajacoutot Exp $
d8 1
a8 1
REVISION=	12
d53 2
a54 3
WANTLIB+=	Imlib2 X11 Xau Xdamage Xdmcp Xext Xfixes Xft \
		Xrender expat fontconfig freetype \
		pthread-stubs xcb
d66 3
a68 1
		xcb-render xcb-shm
@


1.33
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2012/07/10 15:22:45 jasper Exp $
d8 1
a8 1
REVISION=	11
@


1.32
log
@handle multiple lua versions, for now everything builds with the "old" 5.1 in the new location.
use FLAVOR=lua52 to use lua 5.2 with these ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2012/05/15 19:38:01 jasper Exp $
d8 1
a8 1
REVISION=	10
@


1.31
log
@switch to lua.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2012/04/13 21:21:10 pascal Exp $
d8 1
a8 1
REVISION=	9
d27 1
d85 3
a87 1
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" LDFLAGS="-L${LOCALBASE}/lib"
@


1.30
log
@Fix conky with rthreads.  Joint work with kurt@@, with input from guenther@@.

ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/03/22 08:37:49 dcoppa Exp $
d8 1
a8 1
REVISION=	8
d23 1
a23 1
		glib-2.0 pcre curl xml2 lua>=5.1
d25 2
a26 1
MODULES=	devel/gettext
d32 1
a32 1
		lang/lua
@


1.29
log
@Unbreak again (remove execinfo from WANTLIB)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/03/21 09:33:23 dcoppa Exp $
d8 1
a8 1
REVISION=	7
@


1.28
log
@Unbreak after audacious' update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/11/18 01:08:01 sthen Exp $
d8 1
a8 1
REVISION=	6
d61 2
a62 2
		cairo-gobject dbus-1 dbus-glib-1 drm execinfo \
		ffi gdk-3 gdk_pixbuf-2.0 gio-2.0 gmodule-2.0 \
@


1.27
log
@bump; net/if.h changes (missed with the last batch)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/09/16 11:41:39 espie Exp $
d8 1
a8 1
REVISION=	5
d59 6
a64 6
WANTLIB +=      GL Xcomposite Xcursor Xi Xinerama Xrandr Xxf86vm \
		atk-1.0 audclient audcore audgui cairo dbus-1 \
		dbus-glib-1 drm execinfo gdk-x11-2.0 \
		gdk_pixbuf-2.0 gio-2.0 gmodule-2.0 gobject-2.0 \
		gthread-2.0 gtk-x11-2.0 mcs mowgli pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pixman-1 png \
@


1.26
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/09/11 18:53:28 dcoppa Exp $
d8 1
a8 1
REVISION=	4
@


1.25
log
@- Reenable $addr and $if_up
- Enable the new SMP code (allowing the user to actually see multiple
  cores)
- Enable RES and VSIZE display in $top

From Pascal Stumpf: thanks!

ok benoit@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/07/06 12:32:51 jasper Exp $
d8 1
a8 1
REVISION=	3
@


1.24
log
@move away from kinfo_proc2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/06/13 10:11:05 dcoppa Exp $
d8 1
a8 1
REVISION=	2
@


1.23
log
@Now that espie's @@pkgpath patch is in snapshots, merge -imlib2
flavor into -main and link the -xmms2 flavor to the build.

OK sthen@@, espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/04/28 10:31:16 dcoppa Exp $
d8 1
a8 1
REVISION=	1
@


1.22
log
@Clarify license marker.
Remove useless @@sample.

Suggested by, ok sthen@@
Ok benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/04/27 12:55:10 dcoppa Exp $
d8 1
a8 1
REVISION=	0
d35 1
a35 1
FLAVORS=	no_x11 audacious imlib2 xmms2
d39 1
a39 1
.  if ${FLAVOR:L:Maudacious} || ${FLAVOR:L:Mimlib2} || ${FLAVOR:L:Mxmms2}
d49 5
a53 2
WANTLIB+=	X11 Xau Xdamage Xdmcp Xext Xfixes Xft Xrender \
		expat fontconfig freetype pthread-stubs xcb
a65 6
.endif

.if ${FLAVOR:L:Mimlib2}
CONFIGURE_ARGS+=--enable-imlib2
LIB_DEPENDS+=	graphics/imlib2
WANTLIB+=	Imlib2
@


1.21
log
@Update to conky-1.8.1.

Added audacious, imlib2 and xmms2 flavors.

USE_GROFF and manpage patching during post-install are no more
needed.

Joint work with Pascal Stumpf (thanks!)
OK jasper@@, benoit@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/11/20 17:22:40 espie Exp $
d8 1
a8 1

d16 1
a16 1
# BSD / GPLv3
@


1.20
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/11/11 19:00:48 espie Exp $
d7 1
a7 2
DISTNAME=	conky-1.7.2
REVISION=	1
d16 1
a16 1
# GPL
d22 1
a22 1
WANTLIB=	c crypto kvm idn m ossaudio pthread ssl z \
a33 1
USE_GROFF =	Yes
d35 1
a35 1
FLAVORS=	no_x11
d39 3
d43 5
a47 2
		--disable-x11 \
		--disable-own-window
d53 24
d81 1
d84 3
a86 1
		--enable-curl
a88 2
	#fix garbage in manpage
	@@perl -pi -e 's,\\\*\(T.,,g' ${PREFIX}/man/man1/conky.1
@


1.19
log
@last WANTLIB conversion, hopefully
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/10/25 18:11:26 sthen Exp $
d24 1
a24 1
		glib-2.0 pcre curl xml2 lua.>=5.1
d28 5
a32 5
LIB_DEPENDS=	::devel/glib2 \
		::devel/pcre \
		::net/curl \
		::textproc/libxml \
		::lang/lua
@


1.18
log
@switch kvm_getprocs to kvm_getproc2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/10/24 21:36:04 ajacoutot Exp $
d23 2
a24 1
WANTLIB=	c crypto kvm idn m ossaudio pthread ssl z
d28 5
a32 5
LIB_DEPENDS=	glib-2.0::devel/glib2 \
		pcre::devel/pcre \
		curl::net/curl \
		xml2::textproc/libxml \
		lua.>=5.1::lang/lua
@


1.17
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/10/19 07:43:00 espie Exp $
d8 1
a8 1
PKGNAME=	${DISTNAME}p0
@


1.16
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/07/05 20:37:30 espie Exp $
a45 1
USE_X11=	Yes
@


1.15
log
@idn comes indirectly from curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/04/27 20:56:11 sthen Exp $
d34 1
@


1.14
log
@adjust for sensors changes, unbreaks the build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/03/21 11:35:26 ajacoutot Exp $
d23 1
a23 1
WANTLIB=	c crypto kvm m ossaudio pthread ssl z
d29 1
a29 1
		curl,idn::net/curl \
@


1.13
log
@Make use of the new APM_ARCHS.

"looks good" jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/11/23 16:46:20 benoit Exp $
d8 1
@


1.12
log
@- update conky to 1.7.2
- regen PLIST
- change maintainer (maintainer timeout)
- update patches

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/08/10 06:34:29 kili Exp $
d3 1
a3 2
# we use "macppc" and not "powerpc" on purpose here ; i.e. apm(4) needed
ONLY_FOR_ARCHS= amd64 arm i386 macppc sparc sparc64
@


1.11
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/05/10 19:07:47 sthen Exp $
d8 1
a8 2
DISTNAME=	conky-1.7.0
PKGNAME=	${DISTNAME}p0
d13 1
a13 1
MAINTAINER=	Vlad Glagolev <stealth@@sourcemage.org>
d30 2
a31 1
		xml2::textproc/libxml
d40 2
a41 1
		--disable-x11
d52 3
a54 1
		--disable-portmon
@


1.10
log
@update to 1.7.0 and add no_x11 flavour (useful for dwm's status bar
or with dzen2). ok jasper@@, Vlad Glagolev (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/10/01 20:14:09 landry Exp $
d9 1
d43 1
a43 1
		expat fontconfig freetype
@


1.9
log
@Remove garbage chars in manpage, and correctly install it.
Discussed with upstream.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/09/30 09:54:19 landry Exp $
d8 1
a8 2
DISTNAME=	conky-1.6.1
PKGNAME=	${DISTNAME}p0
d23 1
a23 2
WANTLIB=	X11 Xau Xdamage Xdmcp Xext Xfixes Xft Xrender c crypto \
		expat fontconfig freetype kvm m ossaudio pthread ssl z
d33 10
d44 1
d49 1
@


1.8
log
@Update to conky 1.6.1.
conkyrc.sample disappeared, and src/openbsd.h is missing from distfile.
ok jasper@@ & vlad glagolev (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/08/21 07:30:16 ajacoutot Exp $
d9 1
d43 2
@


1.7
log
@- add sparc64 to the list of apm(4) capable arches (needs -current)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/05/19 07:44:37 bernd Exp $
d8 1
a8 2
DISTNAME=	conky-1.4.9
PKGNAME=	${DISTNAME}p0
a41 3
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/conky
	${INSTALL_DATA} ${WRKSRC}/doc/conkyrc.sample \
		${PREFIX}/share/examples/conky
@


1.6
log
@Adjust comment regarding ONLY_FOR_ARCHS.

from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/02/28 18:28:56 okan Exp $
d4 1
a4 1
ONLY_FOR_ARCHS= amd64 arm i386 macppc sparc
@


1.5
log
@HW_USERMEM64 fix, plus re-work a bit to be more understandable

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/02/03 16:04:09 jasper Exp $
d3 1
a3 1
# needs apmvar.h
@


1.4
log
@- update conky to 1.4.9

from Vlad Glagolev (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD$
d9 2
@


1.3
log
@update maintainers email address.
per his request
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/10/19 12:12:33 jasper Exp $
d4 1
a4 1
ONLY_FOR_ARCHS= 	amd64 arm i386 macppc sparc
d6 1
a6 1
COMMENT=		light-weight system monitor
d8 3
a10 4
DISTNAME=		conky-1.4.7
PKGNAME=		${DISTNAME}p1
CATEGORIES=		sysutils
HOMEPAGE=		http://conky.sourceforge.net/
d12 1
a12 1
MAINTAINER=		Vlad Glagolev <stealth@@sourcemage.org>
d14 1
a14 1
MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=conky/}
d25 1
a25 1
MODULES=		devel/gettext
d27 12
a38 10
LIB_DEPENDS=		glib-2.0::devel/glib2 \
			curl,idn::net/curl \
			xml2::textproc/libxml

USE_LIBTOOL=		Yes
USE_X11=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	--enable-mpd \
			--enable-rss \
			--disable-portmon
d47 2
@


1.2
log
@not for archs without apmvar.h, until i've found a better fix

spotted by sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/10/10 21:20:23 jasper Exp $
d9 1
a9 1
PKGNAME=		${DISTNAME}p0
d13 1
a13 1
MAINTAINER=		Vlad Glagolev <stelzy@@gmail.com>
@


1.1
log
@Initial revision
@
text
@d1 4
a4 1
# $OpenBSD$
d9 1
d38 1
@


1.1.1.1
log
@import conky 1.4.7

Conky is a system monitor for X originally based on the torsmo code.
Since it's original conception, Conky has changed a fair bit from it's
predecessor. Conky can display just about anything, either on your root
desktop or in it's own window. Conky has many built-in objects, as well
as the ability to execute programs and scripts, then display the output
from stdout.

from Vlad Glagolev <stelzy at gmail.com> (MAINTAINER)
feedback and ok ajacoutot@@
@
text
@@
