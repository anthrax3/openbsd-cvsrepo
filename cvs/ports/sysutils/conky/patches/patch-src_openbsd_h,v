head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.22
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.18
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.20
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.16
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.14
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.12
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.10
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.8
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.6
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.4
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.3.0.4
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.2.0.4
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2011.04.27.12.55.11;	author dcoppa;	state Exp;
branches;
next	1.3;

1.3
date	2010.04.27.20.56.11;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2009.05.10.19.07.47;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2008.09.30.09.54.19;	author landry;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to conky-1.8.1.

Added audacious, imlib2 and xmms2 flavors.

USE_GROFF and manpage patching during post-install are no more
needed.

Joint work with Pascal Stumpf (thanks!)
OK jasper@@, benoit@@ (maintainer)
@
text
@$OpenBSD$
--- src/openbsd.h.orig	Tue Oct  5 23:29:36 2010
+++ src/openbsd.h	Tue Apr 19 18:44:53 2011
@@@@ -3,7 +3,12 @@@@
 #ifndef OPENBSD_H_
 #define OPENBSD_H_
 
+#ifndef MAXSENSORDEVICES
+#define MAXSENSORDEVICES 1024
+#endif
+
 #include "common.h"
+#include "temphelper.h"
 #include <sys/param.h>
 #include <sys/sysctl.h>
 #include <sys/sensors.h>
@@@@ -16,11 +21,11 @@@@ void print_obsd_sensors_volt(struct text_object *, cha
 void get_obsd_vendor(char *buf, size_t client_buffer_size);
 void get_obsd_product(char *buf, size_t client_buffer_size);
 
-#if defined(i386) || defined(__i386__)
 typedef struct apm_power_info *apm_info_t;
-#endif
 
 int get_entropy_avail(unsigned int *);
 int get_entropy_poolsize(unsigned int *);
+
+static int sensor_device;
 
 #endif /*OPENBSD_H_*/
@


1.3
log
@adjust for sensors changes, unbreaks the build.
@
text
@d1 6
a6 6
$OpenBSD: patch-src_openbsd_h,v 1.2 2009/05/10 19:07:47 sthen Exp $
--- src/openbsd.h.orig	Sat Aug  8 21:05:55 2009
+++ src/openbsd.h	Tue Apr 27 20:38:57 2010
@@@@ -11,38 +11,15 @@@@ void update_obsd_sensors(void);
 void get_obsd_vendor(char *buf, size_t client_buffer_size);
 void get_obsd_product(char *buf, size_t client_buffer_size);
d11 10
a20 9
 #define OBSD_MAX_SENSORS 256
 struct obsd_sensors_struct {
        int device;
        float temp[MAXSENSORDEVICES][OBSD_MAX_SENSORS];
        unsigned int fan[MAXSENSORDEVICES][OBSD_MAX_SENSORS];
        float volt[MAXSENSORDEVICES][OBSD_MAX_SENSORS];
-};
-struct obsd_sensors_struct obsd_sensors;
-
d22 1
a22 1
-typedef struct apm_power_info *apm_info_t;
a23 22
-
-#endif /*OPENBSD_H_*/
-#ifndef OPENBSD_H_
-#define OPENBSD_H_
-
-#include "common.h"
-#include <sys/sysctl.h>
-#include <sys/sensors.h>
-#include <machine/apmvar.h>
-
-void update_obsd_sensors(void);
-void get_obsd_vendor(char *buf, size_t client_buffer_size);
-void get_obsd_product(char *buf, size_t client_buffer_size);
-
-#define OBSD_MAX_SENSORS 256
-struct obsd_sensors_struct {
-	int device;
-	float temp[MAXSENSORDEVICES][OBSD_MAX_SENSORS];
-	unsigned int fan[MAXSENSORDEVICES][OBSD_MAX_SENSORS];
-	float volt[MAXSENSORDEVICES][OBSD_MAX_SENSORS];
 };
 struct obsd_sensors_struct obsd_sensors;
d25 6
@


1.2
log
@update to 1.7.0 and add no_x11 flavour (useful for dwm's status bar
or with dzen2). ok jasper@@, Vlad Glagolev (maintainer).
@
text
@d1 44
a44 5
$OpenBSD$
--- src/openbsd.h.orig	Mon Mar 30 05:44:25 2009
+++ src/openbsd.h	Sun May 10 12:07:14 2009
@@@@ -2,6 +2,7 @@@@
 #define OPENBSD_H_
a45 5
 #include "common.h"
+#include <sys/param.h>
 #include <sys/sysctl.h>
 #include <sys/sensors.h>
 #include <machine/apmvar.h>
@


1.1
log
@Update to conky 1.6.1.
conkyrc.sample disappeared, and src/openbsd.h is missing from distfile.
ok jasper@@ & vlad glagolev (MAINTAINER)
@
text
@d2 10
a11 29
--- src/openbsd.h.orig	Mon Sep 22 22:16:43 2008
+++ src/openbsd.h	Mon Sep 22 22:16:24 2008
@@@@ -0,0 +1,26 @@@@
+#ifndef OPENBSD_H_
+#define OPENBSD_H_
+
+#include "common.h"
+#include <sys/sysctl.h>
+#include <sys/sensors.h>
+#include <machine/apmvar.h>
+
+void update_obsd_sensors(void);
+void get_obsd_vendor(char *buf, size_t client_buffer_size);
+void get_obsd_product(char *buf, size_t client_buffer_size);
+
+#define OBSD_MAX_SENSORS 256
+struct obsd_sensors_struct {
+	int device;
+	float temp[MAXSENSORDEVICES][OBSD_MAX_SENSORS];
+	unsigned int fan[MAXSENSORDEVICES][OBSD_MAX_SENSORS];
+	float volt[MAXSENSORDEVICES][OBSD_MAX_SENSORS];
+};
+struct obsd_sensors_struct obsd_sensors;
+
+#if defined(i386) || defined(__i386__)
+typedef struct apm_power_info *apm_info_t;
+#endif
+
+#endif /*OPENBSD_H_*/
@

