head	1.5;
access;
symbols
	OPENBSD_5_7:1.4.0.8
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.6
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.4
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.2
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.0.6
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.4
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@ * @;


1.5
date	2015.04.04.09.28.45;	author jasper;	state dead;
branches;
next	1.4;
commitid	BK4zluMF2cw4Epmm;

1.4
date	2013.03.13.14.35.39;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.08.16.12.48;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2012.10.28.18.48.45;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.20.15.46.34;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.5
log
@rename rc scripts to drop the trailing 'd', so puppetd becomes just puppet.

this matches the upstream service names, as discussed with aja@@
@
text
@#!/bin/sh
#
# $OpenBSD: puppetmasterd.rc,v 1.4 2013/03/13 14:35:39 ajacoutot Exp $

daemon="${TRUEPREFIX}/bin/puppet master"

. /etc/rc.d/rc.subr

pexp="${RUBY} ${daemon}${daemon_flags:+ ${daemon_flags}}"
rc_reload=NO

rc_cmd $1
@


1.4
log
@Factorize a bit more since both ports version share a lot.
While here, fix the rc script to start the master instead of the client
and vice-versa.

ok robert@@ (maintainer)
@
text
@d3 1
a3 1
# $OpenBSD: puppetmasterd.rc,v 1.2 2013/03/13 09:56:19 ajacoutot Exp $
@


1.3
log
@Split ruby-puppet:
* move the current port to ruby-puppet/3
* add a new puppet-2.7.X port under ruby-puppet/2

This allows us to ship with 2 different versions of Puppet. Since the
Enterprise version is still running 2.7, we want to have a matching
client because running puppet3 against a puppet2 server is highly
discouraged and will mostly no work correctly.

ok jasper@@, robert@@ (maintainer)
@
text
@d3 1
a3 1
# $OpenBSD: puppetmasterd.rc,v 1.2 2012/10/28 18:48:45 robert Exp $
d5 1
a5 1
daemon="/usr/local/bin/puppet master"
d9 1
a9 1
pexp=".*ruby.* ${daemon}${daemon_flags:+ ${daemon_flags}}"
@


1.2
log
@update to 3.0.1
@
text
@d3 1
a3 1
# $OpenBSD: puppetmasterd.rc,v 1.1 2011/03/20 15:46:34 ajacoutot Exp $
@


1.1
log
@Add rc scripts for puppetd and puppetmasterd.
Set GPL version while here.

ok robert@@ (maintainer)
@
text
@d3 1
a3 1
# $OpenBSD$
d5 1
a5 1
daemon="${TRUEPREFIX}/sbin/puppetmasterd"
@

