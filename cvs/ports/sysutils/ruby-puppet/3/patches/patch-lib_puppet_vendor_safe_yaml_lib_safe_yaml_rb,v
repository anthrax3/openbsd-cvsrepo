head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.6
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.2
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2015.07.17.17.53.21;	author jasper;	state Exp;
branches;
next	;
commitid	VGAjWk1PrS0n9ksB;


desc
@@


1.1
log
@unbreak runtime with ruby 2.2
@
text
@$OpenBSD$

From b50a4e3ce65596e753dc5e9d3e3e808f191b0ad0 Mon Sep 17 00:00:00 2001
From: Kylo Ginsberg <kylo@@puppetlabs.com>
Date: Mon, 22 Dec 2014 10:11:38 -0800
Subject: [PATCH 1/4] (maint) Change spec test to pass on ruby 2.2

--- lib/puppet/vendor/safe_yaml/lib/safe_yaml.rb.orig	Fri Jul 17 11:52:30 2015
+++ lib/puppet/vendor/safe_yaml/lib/safe_yaml.rb	Fri Jul 17 11:52:47 2015
@@@@ -3,7 +3,7 @@@@ require "yaml"
 # This needs to be defined up front in case any internal classes need to base
 # their behavior off of this.
 module SafeYAML
-  YAML_ENGINE = defined?(YAML::ENGINE) ? YAML::ENGINE.yamler : "syck"
+  YAML_ENGINE = defined?(YAML::ENGINE) ? YAML::ENGINE.yamler : (defined?(Psych) && YAML == Psych ? "psych" : "syck") 
 end
 
 require "set"
@
