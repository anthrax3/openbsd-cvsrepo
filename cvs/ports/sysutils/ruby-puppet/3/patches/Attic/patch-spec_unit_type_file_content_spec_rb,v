head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2013.11.25.16.10.05;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2013.11.25.15.56.23;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@No needed.
@
text
@$OpenBSD: patch-spec_unit_type_file_content_spec_rb,v 1.1 2013/11/25 15:56:23 ajacoutot Exp $

From 40c67e2cd21c36b34948571c59ebd999c5c4cf21 Mon Sep 17 00:00:00 2001
From: "Dustin J. Mitchell" <dustin@@mozilla.com>
Date: Fri, 9 Aug 2013 16:05:40 -0400
Subject: [PATCH 1/2] (#22129) force explicit file content to be treated as a bytestring

--- spec/unit/type/file/content_spec.rb.orig	Mon Nov 25 15:52:36 2013
+++ spec/unit/type/file/content_spec.rb	Mon Nov 25 15:52:36 2013
@@@@ -85,13 +85,11 @@@@ describe content do
       @@content.should.must == string
     end
 
-    if "".respond_to? :encode then
-      it "should convert the value to ASCII-8BIT" do
-        @@content = content.new(:resource => @@resource)
-        @@content.should= "Let's make a \u{2603}"
+    it "should convert the value to ASCII-8BIT", :if => "".respond_to?(:encode) do
+      @@content = content.new(:resource => @@resource)
+      @@content.should= "Let's make a \u{2603}"
 
-        @@content.actual_content.should == "Let's make a \xE2\x98\x83"
-      end
+      @@content.actual_content.should == "Let's make a \xE2\x98\x83"
     end
   end
 
@


1.1
log
@(#22129) force explicit file content to be treated as a bytestring.

ok jasper@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
@

