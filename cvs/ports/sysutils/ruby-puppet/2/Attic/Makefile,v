head	1.13;
access;
symbols;
locks; strict;
comment	@# @;


1.13
date	2013.06.11.13.31.39;	author jasper;	state dead;
branches;
next	1.12;

1.12
date	2013.04.16.13.25.52;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2013.03.20.06.55.20;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2013.03.18.15.07.56;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2013.03.15.14.57.25;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.13.14.35.38;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2013.03.13.09.56.19;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2013.03.12.18.52.11;	author robert;	state Exp;
branches;
next	1.5;

1.5
date	2013.03.11.12.54.29;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2013.03.08.16.24.39;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.08.16.19.15;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2013.03.08.16.15.33;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.03.08.16.12.47;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.13
log
@remove puppet-2.x, it was intended to be kept around to work against the PE
version, but OS interaction with PE has been broken for a long time now.
Besides, the next PE version will be based on Puppet 3.

ok robert@@ (MAINTAINER) ajacoutot@@
@
text
@# $OpenBSD: Makefile,v 1.12 2013/04/16 13:25:52 jasper Exp $

VERSION=	2.7.21
REVISION=	5

# remove CVS ID
post-extract:
	@@sed '1d' ${WRKSRC}/examples/etc/puppet/fileserver.conf > \
		${WRKSRC}/examples/etc/puppet/fileserver.conf.bak
	@@mv ${WRKSRC}/examples/etc/puppet/fileserver.conf.bak \
		${WRKSRC}/examples/etc/puppet/fileserver.conf

post-install:
	${INSTALL_DATA} ${WRKSRC}/examples/etc/puppet/{fileserver,tagmail}.conf \
		${PREFIX}/${MODRUBY_RELEXAMPLEDIR}-puppet

.include <bsd.port.mk>
@


1.12
log
@adjust the uid puppet looks at to determine if a user is a "system user" to 1000.
this then gets used to purge all non-system users, whether this is a good idea is
left as an exercise to the user.

ok aja@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/03/20 06:55:20 ajacoutot Exp $
@


1.11
log
@PKG_ARCH=*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/18 15:07:56 ajacoutot Exp $
d4 1
a4 1
REVISION=	4
@


1.10
log
@Add a README to introduce integration with MCollective and ActiveMQ.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/03/15 14:57:25 ajacoutot Exp $
d4 1
a4 1
REVISION=	3
@


1.9
log
@Tweak on comment.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/03/13 14:35:38 ajacoutot Exp $
d4 1
a4 1
REVISION=	2
@


1.8
log
@Factorize a bit more since both ports version share a lot.
While here, fix the rc script to start the master instead of the client
and vice-versa.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/03/13 09:56:19 ajacoutot Exp $
d4 1
a4 1
REVISION=	1
@


1.7
log
@Do not hardcode paths in the rc scripts.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/03/12 18:52:11 robert Exp $
d4 1
a4 1
REVISION=	0
@


1.6
log
@security update to 2.7.21
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/03/11 12:54:29 ajacoutot Exp $
d4 1
@


1.5
log
@Install the proper puppet.conf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/03/08 16:24:39 ajacoutot Exp $
d3 1
a3 2
VERSION=	2.7.20
REVISION=	2
@


1.4
log
@Remove CVS ID so that patch applies properly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/08 16:19:15 ajacoutot Exp $
d4 1
a4 1
REVISION=	1
d14 1
a14 1
	${INSTALL_DATA} ${WRKSRC}/examples/etc/puppet/{fileserver,puppet,tagmail}.conf \
@


1.3
log
@Start services with '-f' since they may not be enabled in rc.conf.local(5).
Implement a restart command for the service provider and use '-f' as well.
No need to specify a 'stop' common, our rc.d(8) is generic enough.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/03/08 16:15:33 ajacoutot Exp $
d5 7
@


1.2
log
@Remove the ldap patches which aren't needed anymore.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2013/03/08 16:12:47 ajacoutot Exp $
d4 1
a4 1
REVISION=	0
@


1.1
log
@Split ruby-puppet:
* move the current port to ruby-puppet/3
* add a new puppet-2.7.X port under ruby-puppet/2

This allows us to ship with 2 different versions of Puppet. Since the
Enterprise version is still running 2.7, we want to have a matching
client because running puppet3 against a puppet2 server is highly
discouraged and will mostly no work correctly.

ok jasper@@, robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD$
d4 1
@

