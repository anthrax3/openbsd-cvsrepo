head	1.57;
access;
symbols
	OPENBSD_6_2:1.57.0.4
	OPENBSD_6_2_BASE:1.57
	OPENBSD_6_1:1.57.0.2
	OPENBSD_6_1_BASE:1.57
	OPENBSD_6_0:1.56.0.2
	OPENBSD_6_0_BASE:1.56
	OPENBSD_5_9:1.55.0.10
	OPENBSD_5_9_BASE:1.55
	OPENBSD_5_8:1.55.0.12
	OPENBSD_5_8_BASE:1.55
	OPENBSD_5_7:1.55.0.8
	OPENBSD_5_7_BASE:1.55
	OPENBSD_5_6:1.55.0.6
	OPENBSD_5_6_BASE:1.55
	OPENBSD_5_5:1.55.0.4
	OPENBSD_5_5_BASE:1.55
	OPENBSD_5_4:1.55.0.2
	OPENBSD_5_4_BASE:1.55
	OPENBSD_5_3:1.51.0.2
	OPENBSD_5_3_BASE:1.51
	OPENBSD_5_2:1.41.0.2
	OPENBSD_5_2_BASE:1.41
	OPENBSD_5_1_BASE:1.38
	OPENBSD_5_1:1.38.0.2
	OPENBSD_5_0:1.32.0.2
	OPENBSD_5_0_BASE:1.32
	OPENBSD_4_9:1.28.0.2
	OPENBSD_4_9_BASE:1.28
	OPENBSD_4_8:1.16.0.2
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.14.0.2
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.8.0.6
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.4
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.2
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.5.0.2
	OPENBSD_4_3_BASE:1.5
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	robert_20070103:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.57
date	2016.09.06.11.14.51;	author jasper;	state Exp;
branches;
next	1.56;
commitid	3BcnX9iS9vil7l6p;

1.56
date	2016.06.01.09.11.24;	author jasper;	state Exp;
branches;
next	1.55;
commitid	dex58e9kCYqT0HQ6;

1.55
date	2013.06.11.13.31.39;	author jasper;	state Exp;
branches;
next	1.54;

1.54
date	2013.03.08.16.12.47;	author ajacoutot;	state Exp;
branches;
next	1.53;

1.53
date	2013.03.08.10.45.45;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2013.03.08.10.40.23;	author robert;	state Exp;
branches;
next	1.51;

1.51
date	2013.02.19.16.11.16;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2013.01.24.18.46.23;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2013.01.14.17.35.59;	author robert;	state Exp;
branches;
next	1.48;

1.48
date	2012.12.11.17.26.51;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2012.10.28.18.48.45;	author robert;	state Exp;
branches;
next	1.46;

1.46
date	2012.10.08.08.52.49;	author jasper;	state Exp;
branches;
next	1.45;

1.45
date	2012.10.08.08.48.01;	author jasper;	state Exp;
branches;
next	1.44;

1.44
date	2012.10.01.09.26.18;	author jasper;	state Exp;
branches;
next	1.43;

1.43
date	2012.09.23.17.08.06;	author jeremy;	state Exp;
branches;
next	1.42;

1.42
date	2012.09.19.09.56.01;	author robert;	state Exp;
branches;
next	1.41;

1.41
date	2012.05.05.19.32.01;	author robert;	state Exp;
branches;
next	1.40;

1.40
date	2012.04.13.08.18.30;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2012.02.24.08.08.35;	author robert;	state Exp;
branches;
next	1.38;

1.38
date	2012.01.18.14.47.04;	author ajacoutot;	state Exp;
branches
	1.38.2.1;
next	1.37;

1.37
date	2011.11.24.18.45.14;	author robert;	state Exp;
branches;
next	1.36;

1.36
date	2011.11.24.08.39.12;	author jasper;	state Exp;
branches;
next	1.35;

1.35
date	2011.10.05.07.41.43;	author jasper;	state Exp;
branches;
next	1.34;

1.34
date	2011.09.16.11.41.40;	author espie;	state Exp;
branches;
next	1.33;

1.33
date	2011.08.16.10.13.37;	author robert;	state Exp;
branches;
next	1.32;

1.32
date	2011.07.28.08.38.57;	author robert;	state Exp;
branches;
next	1.31;

1.31
date	2011.05.11.07.45.52;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2011.03.20.15.46.34;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2011.03.09.10.31.52;	author robert;	state Exp;
branches;
next	1.28;

1.28
date	2010.11.24.21.35.15;	author jeremy;	state Exp;
branches;
next	1.27;

1.27
date	2010.11.20.17.22.42;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.11.17.13.07.17;	author robert;	state Exp;
branches;
next	1.25;

1.25
date	2010.11.13.11.18.41;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2010.11.11.20.40.56;	author robert;	state Exp;
branches;
next	1.23;

1.23
date	2010.11.09.18.45.34;	author jeremy;	state Exp;
branches;
next	1.22;

1.22
date	2010.11.04.07.20.57;	author robert;	state Exp;
branches;
next	1.21;

1.21
date	2010.10.24.10.23.48;	author robert;	state Exp;
branches;
next	1.20;

1.20
date	2010.10.19.07.43.02;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2010.09.30.15.39.11;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2010.09.28.07.02.57;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2010.09.23.22.30.28;	author jeremy;	state Exp;
branches;
next	1.16;

1.16
date	2010.05.18.18.44.37;	author robert;	state Exp;
branches;
next	1.15;

1.15
date	2010.05.07.15.53.34;	author robert;	state Exp;
branches;
next	1.14;

1.14
date	2010.01.31.14.27.30;	author msf;	state Exp;
branches;
next	1.13;

1.13
date	2010.01.24.22.25.27;	author msf;	state Exp;
branches;
next	1.12;

1.12
date	2010.01.08.15.39.33;	author msf;	state Exp;
branches;
next	1.11;

1.11
date	2009.11.27.11.03.17;	author bernd;	state Exp;
branches;
next	1.10;

1.10
date	2009.11.11.00.07.13;	author robert;	state Exp;
branches;
next	1.9;

1.9
date	2009.09.21.08.01.20;	author msf;	state Exp;
branches;
next	1.8;

1.8
date	2008.06.14.23.55.46;	author landry;	state Exp;
branches;
next	1.7;

1.7
date	2008.06.05.07.22.59;	author bernd;	state Exp;
branches;
next	1.6;

1.6
date	2008.04.08.01.58.39;	author mcbride;	state Exp;
branches;
next	1.5;

1.5
date	2008.01.04.17.48.37;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2007.09.15.21.14.02;	author merdely;	state Exp;
branches;
next	1.3;

1.3
date	2007.06.07.12.07.20;	author msf;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.11.07.46.38;	author mcbride;	state Exp;
branches;
next	1.1;

1.1
date	2007.01.03.10.01.47;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.03.10.01.47;	author robert;	state Exp;
branches;
next	;

1.38.2.1
date	2012.04.13.08.18.18;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.57
log
@stop building puppet 3, effectively making puppet 4 the default on OpenBSD.
puppet 3 is scheduled to be removed from the tree after 6.1. for more information
on migrating to Puppet 4, please refer to [1] as a starting point.

however note we don't have a port for puppetserver yet, it's a work in progress,
see upstream SERVER-14 for more information. However the ruby puppetmaster
still works fine for us.

1: https://docs.puppet.com/puppet/latest/reference/upgrade_major_pre.html

as discussed with and OK sebastia@@
@
text
@# $OpenBSD: Makefile,v 1.56 2016/06/01 09:11:24 jasper Exp $

    SUBDIR =
    #SUBDIR += 3
    SUBDIR += 4

.include <bsd.port.subdir.mk>
@


1.56
log
@hookup puppet 4. it appears to be working well for agents and webrick masters.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2013/06/11 13:31:39 jasper Exp $
d4 1
a4 1
    SUBDIR += 3
@


1.55
log
@remove puppet-2.x, it was intended to be kept around to work against the PE
version, but OS interaction with PE has been broken for a long time now.
Besides, the next PE version will be based on Puppet 3.

ok robert@@ (MAINTAINER) ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2013/03/08 16:12:47 ajacoutot Exp $
d5 1
@


1.54
log
@Split ruby-puppet:
* move the current port to ruby-puppet/3
* add a new puppet-2.7.X port under ruby-puppet/2

This allows us to ship with 2 different versions of Puppet. Since the
Enterprise version is still running 2.7, we want to have a matching
client because running puppet3 against a puppet2 server is highly
discouraged and will mostly no work correctly.

ok jasper@@, robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD$
a3 1
    SUBDIR += 2
@


1.53
log
@Better HOMEPAGE/MASTER_SITES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2013/03/08 10:40:23 robert Exp $
d3 3
a5 1
COMMENT=	centralised configuration management for networks
d7 1
a7 36
VERSION=	3.1.0
DISTNAME=	puppet-${VERSION}
PKGNAME=	ruby-${DISTNAME}
CATEGORIES=	sysutils net
REVISION=	0

HOMEPAGE=	https://puppetlabs.com
MASTER_SITES=	${HOMEPAGE}/downloads/puppet/

MAINTAINER=	Robert Nagy <robert@@openbsd.org>

# Apache
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MODULES=	lang/ruby
BUILD_DEPENDS=	${RUN_DEPENDS}
RUN_DEPENDS=	converters/ruby-json,${MODRUBY_FLAVOR} \
		sysutils/ruby-facter \
		${MODRUBY_ICONV_DEPENDS}

NO_REGRESS=	Yes
NO_BUILD=	Yes

do-install:
	${SUBST_CMD} ${WRKSRC}/lib/puppet/defaults.rb
	@@cd ${WRKSRC} && ${ALL_FAKE_FLAGS} ${RUBY} install.rb
	mv ${WRKINST}${SYSCONFDIR}/puppet ${PREFIX}/${MODRUBY_RELEXAMPLEDIR}-puppet
	${INSTALL_DATA} ${WRKSRC}/conf/*.conf ${PREFIX}/${MODRUBY_RELEXAMPLEDIR}-puppet
	${INSTALL_DATA} ${FILESDIR}/puppet.conf ${PREFIX}/${MODRUBY_RELEXAMPLEDIR}-puppet
	${INSTALL_DATA_DIR} ${PREFIX}/share/emacs/site-lisp/
	${INSTALL_DATA} ${WRKSRC}/ext/emacs/* ${PREFIX}/share/emacs/site-lisp/

.include <bsd.port.mk>
@


1.52
log
@update to 3.1.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2013/02/19 16:11:16 ajacoutot Exp $
d9 1
d11 2
a12 2
HOMEPAGE=	http://reductivelabs.com/projects/puppet/
MASTER_SITES=	http://reductivelabs.com/downloads/puppet/
@


1.51
log
@Sanitize this package and provide a working runtime out of the box:
* remove USE_GROFF to prevent warnings
* fix the examples directory
* use .conf files from upcoming 3.1 version (they work by default and the patches can be easily removed when we upgrade)
* add a default minimal puppet.conf that works instead of the currently broken one we ship
* only include conf files we need
* no need to create the hierarchy under /var/puppet since puppet will take care of it

ok robert@@ (maintainer), jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2013/01/24 18:46:23 jasper Exp $
d5 1
a5 1
VERSION=	3.0.2
a7 1
REVISION=	1
@


1.50
log
@sync the pkg.conf patch with what's been merged upstream.

ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2013/01/14 17:35:59 robert Exp $
d8 1
a8 1
REVISION=	0
a27 1
USE_GROFF =	Yes
a32 1
	${INSTALL_DATA_DIR} ${MODRUBY_EXAMPLEDIR}/puppet
d34 3
a36 3
	for f in `ls -1 ${WRKSRC}/examples/etc/puppet/*.conf`; do \
		${INSTALL_DATA} $$f ${MODRUBY_EXAMPLEDIR}/puppet; \
	done
@


1.49
log
@update to 3.0.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2012/12/11 17:26:51 ajacoutot Exp $
d8 1
@


1.48
log
@Fix default modulepath to follow upstream's behavior.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2012/10/28 18:48:45 robert Exp $
d5 1
a5 2
VERSION=	3.0.1
REVISION=	0
@


1.47
log
@update to 3.0.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2012/10/08 08:52:49 jasper Exp $
d6 1
@


1.46
log
@- fix the LICENSE marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2012/10/08 08:48:01 jasper Exp $
d5 1
a5 1
VERSION=	2.7.19
a7 1
REVISION=	2
@


1.45
log
@If no source was set, fallback to /etc/pkg.conf.

ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2012/10/01 09:26:18 jasper Exp $
d16 1
a16 1
# GPLv2
@


1.44
log
@- include ${SYSCONFDIR}/puppet/modules/ in the modulepath by default

ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2012/09/23 17:08:06 jeremy Exp $
d8 1
a8 1
REVISION=	1
@


1.43
log
@Have puppet depend on the correct FLAVOR of the ruby-json dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2012/09/19 09:56:01 robert Exp $
d8 1
a8 1
REVISION=	0
d33 1
@


1.42
log
@update to puppet-2.7.19 and add the default rc.d service provider
to be used on openbsd
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2012/05/05 19:32:01 robert Exp $
d8 1
d24 1
a24 1
RUN_DEPENDS=	converters/ruby-json \
@


1.41
log
@update to 2.7.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/04/13 08:18:30 jasper Exp $
d5 1
a5 1
VERSION=	2.7.14
@


1.40
log
@- update to 2.7.13, fixes various security issues
cve-2012-1906 cve-2012-1986 cve-2012-1987 cve-2012-1988 cve-2012-1989

ok robert@@ (MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2012/02/24 08:08:35 robert Exp $
d5 1
a5 1
VERSION=	2.7.13
@


1.39
log
@update to 2.7.22 which fixes CVE-2012-1053
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2012/01/18 14:47:04 ajacoutot Exp $
d5 1
a5 1
VERSION=	2.7.11
@


1.38
log
@XXX use pkill -9 in rc_stop for now; when puppetd is started then
stopped when puppetmasterd is not available it would fail to stop within
at least 60 seconds.

discussed with and ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2011/11/24 18:45:14 robert Exp $
d5 1
a5 1
VERSION=	2.7.5
a7 1
REVISION=	2
@


1.38.2.1
log
@- update to 2.7.13, fixes various security issues
cve-2012-1906 cve-2012-1986 cve-2012-1987 cve-2012-1988 cve-2012-1989

ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2012/02/24 08:08:35 robert Exp $
d5 1
a5 1
VERSION=	2.7.13
d8 1
@


1.37
log
@apply fix from http://projects.puppetlabs.com/issues/9109 which
fixes puppet + facter variables for users using puppet with mongrel
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2011/11/24 08:39:12 jasper Exp $
d8 1
a8 1
REVISION=	1
@


1.36
log
@- install emacs-mode files

ok robert@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2011/10/05 07:41:43 jasper Exp $
d8 1
a8 1
REVISION=	0
@


1.35
log
@Update puppet to 2.7.5, includes security fixes for
CVE-2011-3484, CVE-2011-3869, CVE-2011-3870 and CVE-2011-3871

ok robert@@ (MAINTAINER), aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2011/09/16 11:41:40 espie Exp $
d8 1
d38 2
@


1.34
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2011/08/16 10:13:37 robert Exp $
d5 1
a5 1
VERSION=	2.7.3
a6 1
REVISION=	0
@


1.33
log
@update to 2.7.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2011/07/28 08:38:57 robert Exp $
d7 1
@


1.32
log
@update to 2.7.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2011/05/11 07:45:52 ajacoutot Exp $
d5 1
a5 1
VERSION=	2.7.1
@


1.31
log
@Sanitize some @@unexec/@@extraunexec calls to rm: move them up in the
PLIST and delete everything under the @@sample'd directory instead of the
directory itself to prevent a warning from pkg_delete(1) trying to
remove a non existing directory and to help preventing left-over files
and directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/03/20 15:46:34 ajacoutot Exp $
d5 1
a5 1
VERSION=	2.6.5
a8 2

REVISION=	1
@


1.30
log
@Add rc scripts for puppetd and puppetmasterd.
Set GPL version while here.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/03/09 10:31:52 robert Exp $
d10 1
a10 1
REVISION=	0
@


1.29
log
@update to 2.6.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2010/11/24 21:35:15 jeremy Exp $
d10 2
d17 1
a17 1
# GPL
@


1.28
log
@REVISION bump all ruby ports due to a change in the pkgspec.
Previously, we were using ruby->=1.8,<=1.9, instead of
ruby->=1.8,<1.9.  While this wouldn't cause an issue, since
our ruby-1.9.2 package isn't included in ruby->=1.8,<=1.9,
it's still wrong and should be fixed.  This also fixes the
following minor issues:

Switch from using FLAVOR to MODRUBY_FLAVOR for *_DEPENDS.
Currently we don't have a ruby port that uses FLAVORs that
would differ from MODRUBY_FLAVOR, but it's possible we will
in the future.

Switch from BASE_PKGPATH to BUILD_PKGPATH in a few cases in
REGRESS_DEPENDS.  This probably is not strictly necessary, but
BUILD_PKGPATH is used in more cases, so it is good for
consistency.

Switch to new style *_DEPENDS, with the version specification
at the end.  The remaining cases where this is not done is
because a specific version is used.

Some FULLPKGNAME added to REGRESS_DEPENDS, to make sure that if
the old version is installed when you run a regress test, it
will install the new version first.

Some conversion of spaces to tabs for consistency.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2010/11/20 17:22:42 espie Exp $
d5 1
a5 1
VERSION=	2.6.3
a7 1
REVISION =	0
@


1.27
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/11/17 13:07:17 robert Exp $
d8 1
@


1.26
log
@Update to 2.6.3 and make it possible to tell the server from the client
which default node to use in case LDAP is used by setting the FACTER_defnode
environment variable.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/11/13 11:18:41 ajacoutot Exp $
d23 2
a24 2
RUN_DEPENDS=	::converters/ruby-json \
		::sysutils/ruby-facter \
@


1.25
log
@factsync is deprecated, so remove it from the default sample configuration
to prevent warnings.

ok robert@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/11/11 20:40:56 robert Exp $
d5 1
a5 1
VERSION=	2.6.3rc2
a7 1
REVISION=	2
@


1.24
log
@sync the default configuration to the new style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/11/09 18:45:34 jeremy Exp $
d8 1
a8 1
REVISION=	1
@


1.23
log
@Replace MODRUBY_REV by MODRUBY_LIBREV in PLIST.  Use
MODRUBY_EXAMPLEDIR for the examples.  Bump because
MODRUBY_EXAMPLEDIR is a different location than the
old directory used.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/11/04 07:20:57 robert Exp $
d8 1
a8 1
REVISION=	0
@


1.22
log
@Update to 2.6.3rc and fix a file locking issue while using LDAP.
Also add a patch for the LDAP connections to make puppet retry
instead of just erroring out.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/10/24 10:23:48 robert Exp $
d8 1
d33 1
a33 1
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/ruby-puppet
d36 1
a36 1
		${INSTALL_DATA} $$f ${PREFIX}/share/examples/ruby-puppet; \
@


1.21
log
@Update to version 2.6.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/10/19 07:43:02 espie Exp $
d5 1
a5 1
VERSION=	2.6.2
@


1.20
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/09/30 15:39:11 jasper Exp $
d5 1
a5 1
VERSION=	0.25.5
a7 1
REVISION=	2
@


1.19
log
@robert@@ will be the new master of puppet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/09/28 07:02:57 jasper Exp $
d28 1
@


1.18
log
@- don't install gzipped man pages

ok aja@@
maintainer timed-out
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2010/09/23 22:30:28 jeremy Exp $
d8 1
a8 1
REVISION=	1
d14 1
a14 1
MAINTAINER=	Mathieu Sauve-Frankel <msf@@openbsd.org>
@


1.17
log
@Bump all ruby ports not already handled.

In the upgrade from ruby 1.8.6 to 1.8.7, the PLISTs changed
due to differences in how RDoc processes files.

This also has a number of changes to the regress tests to
work with the changes to devel/ruby-rake.  It moves most of
the regress tests to use MODRUBY_REGRESS.

OK jcs@@, landry@@, jasper@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/05/18 18:44:37 robert Exp $
d8 1
a8 1
REVISION=	0
@


1.16
log
@Update to 0.25.5 and replace the their new stupid /var/lib/puppet
default workdir with /var/puppet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/05/07 15:53:34 robert Exp $
d8 1
d26 1
a26 1
		${MODRUBY_RUN_DEPENDS},-iconv
@


1.15
log
@Renable puppet to ruby-puppet as it was before
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/01/31 14:27:30 msf Exp $
d5 1
a5 1
VERSION=	0.25.4
@


1.14
log
@yet another wonderful maintenance update for puppet

ok jasper@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/01/24 22:25:27 msf Exp $
d7 1
@


1.13
log
@update to 0.25.3, this is a maintenance release that resolves several
major issues with 0.25.2.

ok jasper@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/01/08 15:39:33 msf Exp $
d5 1
a5 1
VERSION=	0.25.3
@


1.12
log
@update to 0.25.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/11/27 11:03:17 bernd Exp $
d5 1
a5 1
VERSION=	0.25.2
@


1.11
log
@Puppet needs ruby-iconv. ok msf@@ robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/11/11 00:07:13 robert Exp $
d5 1
a5 1
VERSION=	0.25.1
a6 1
PKGNAME=	ruby-${DISTNAME}p0
@


1.10
log
@Update to 0.25.1 because 0.25.0 was utterly broken.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/09/21 08:01:20 msf Exp $
d7 1
a7 1
PKGNAME=	ruby-${DISTNAME}
d24 2
a25 1
		::sysutils/ruby-facter
@


1.9
log
@update to puppet 0.25.0

reminded and similar diff by Toni Mueller
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/06/14 23:55:46 landry Exp $
d5 1
a5 1
VERSION=	0.25.0
@


1.8
log
@bump PKGNAMEs after lang/ruby module change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/06/05 07:22:59 bernd Exp $
d5 1
a5 1
VERSION=	0.24.4
d7 1
a7 1
PKGNAME=	ruby-${DISTNAME}p1
a8 1
EXTRACT_SUFX=	.tgz
d23 2
a24 1
RUN_DEPENDS=	::sysutils/ruby-facter
d32 1
a32 1
	for f in `ls -1 ${WRKSRC}/examples/root/etc/puppet/*.conf`; do \
@


1.7
log
@Fix depends and regen PLIST.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/04/08 01:58:39 mcbride Exp $
d7 1
a7 1
PKGNAME=	ruby-${DISTNAME}p0
@


1.6
log
@Update to puppet 0.24.4.

ok msf
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/01/04 17:48:37 espie Exp $
d7 1
a7 1
PKGNAME=	ruby-${DISTNAME}
d23 2
a24 1
LIB_DEPENDS=	::sysutils/ruby-facter
@


1.5
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/09/15 21:14:02 merdely Exp $
d5 1
a5 1
VERSION=	0.22.4
d7 1
a7 1
PKGNAME=	ruby-${DISTNAME}p0
@


1.4
log
@Remove surrounding quotes in COMMENT-*/PERMIT_*/IGNORE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/06/07 12:07:20 msf Exp $
d30 1
a30 1
	@@cd ${WRKSRC} && ${FAKE_FLAGS} ${RUBY} install.rb
@


1.3
log
@take maintainer, bump pkgname

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/05/11 07:46:38 mcbride Exp $
d3 1
a3 1
COMMENT=	"centralised configuration management for networks"
@


1.2
log
@Update to puppet-0.22.4

ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/01/03 10:01:47 robert Exp $
d7 1
a7 1
PKGNAME=	ruby-${DISTNAME}
d14 1
a14 1
MAINTAINER=	Robert Nagy <robert@@openbsd.org>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
VERSION=	0.20.1
@


1.1.1.1
log
@import of ruby-puppet-0.20.1:

Puppet lets you centrally manage every important aspect of your system using
a cross-platform specification language that manages all the separate
elements normally aggregated in different files, like users, cron jobs,
and hosts, along with obviously discrete elements like packages, services,
and files.
Puppet's simple declarative specification language provides powerful classing
abilities for drawing out the similarities between hosts while allowing them
to be as specific as necessary, and it handles dependency and prerequisite
relationships between objects clearly and explicitly.
Puppet is written entirely in Ruby.
@
text
@@
