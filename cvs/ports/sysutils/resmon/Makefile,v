head	1.5;
access;
symbols
	OPENBSD_6_0:1.5.0.10
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.6
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.8
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.4
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.2
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.1.1.0.4
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.2
	OPENBSD_4_7_BASE:1.1.1.1
	jdixon_20090802:1.1.1.1
	jdixon:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2014.07.11.20.08.28;	author sthen;	state Exp;
branches;
next	1.4;
commitid	4UQ2wfgX1re4ZVLx;

1.4
date	2014.04.09.20.45.57;	author kili;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.11.11.41.32;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2010.11.20.17.22.42;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2009.08.02.19.12.15;	author jdixon;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.08.02.19.12.15;	author jdixon;	state Exp;
branches;
next	;


desc
@@


1.5
log
@handle monitoring-plugins shuffling
@
text
@# $OpenBSD: Makefile,v 1.4 2014/04/09 20:45:57 kili Exp $

COMMENT-main =		system monitoring tool
COMMENT-nagios =	nagios plugin for resmon

V =			20090802
DISTNAME =		resmon-$V
PKGNAME-main =		${DISTNAME}
PKGNAME-nagios =	nagios-plugins-resmon-$V
REVISION-nagios =	1
CATEGORIES =		sysutils
HOMEPAGE =		http://labs.omniti.com/trac/resmon

MAINTAINER =		Jason Dixon <jdixon@@openbsd.org>

MULTI_PACKAGES =	-main -nagios

# BSD
PERMIT_PACKAGE_CDROM =		Yes

MASTER_SITES =	http://www.dixongroup.net/
NO_BUILD =	Yes
NO_TEST =	Yes
PKG_ARCH =	*

RUN_DEPENDS-nagios =	net/monitoring-plugins

INSTDIR =	${PREFIX}/libdata/perl5/site_perl
RESMONCONF =	${SYSCONFDIR}/resmon
RESMONSTATE =	/var/resmon
SUBST_VARS =	INSTDIR RESMONCONF RESMONSTATE

DOCSDIR =	${PREFIX}/share/doc/resmon
EXAMPLESDIR =	${PREFIX}/share/examples/resmon


pre-configure:
	${SUBST_CMD} ${WRKDIST}/resmon ${WRKDIST}/resmon.conf.sample

do-install:
	@@find ${WRKDIST} -name \*.bak -or -name \*.orig | xargs rm
	${INSTALL_SCRIPT} ${WRKSRC}/resmon ${PREFIX}/sbin
	@@cp -R ${WRKDIST}/lib/Resmon ${INSTDIR}
	${INSTALL_DATA_DIR} ${DOCSDIR}
	${INSTALL_DATA} ${WRKSRC}/LICENSE ${DOCSDIR}
	${INSTALL_DATA_DIR} ${EXAMPLESDIR}
	${INSTALL_DATA} ${WRKSRC}/resmon.conf.sample ${EXAMPLESDIR}
	${INSTALL_SCRIPT_DIR} ${PREFIX}/libexec/nagios
	${INSTALL_SCRIPT} ${WRKSRC}/scripts/check_resmon_xml_part \
		${PREFIX}/libexec/nagios

.include <bsd.port.mk>
@


1.4
log
@Bump after the nagios-plugins -> monitoring-plugins change.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 11:41:32 espie Exp $
d10 1
a10 1
REVISION-nagios =	0
d26 1
a26 1
RUN_DEPENDS-nagios =	net/nagios/plugins,-main
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/11/20 17:22:42 espie Exp $
d10 1
@


1.2
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/08/02 19:12:15 jdixon Exp $
a18 3
PERMIT_PACKAGE_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
d22 1
a22 1
NO_REGRESS =	Yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d28 1
a28 1
RUN_DEPENDS-nagios =	::net/nagios/plugins,-main
@


1.1.1.1
log
@Import resmon-20090802 and nagios-plugins-resmon-20090802

Resmon is a lightweight utility for local host monitoring that can be
queried by tools such as nagios over http. One of the main design goals
is portability: that resmon should require nothing more than a default
install of Perl.

Also provide nagios-plugins-resmon for checking resmon agents.

Assistance by and ok merdely@@
@
text
@@
