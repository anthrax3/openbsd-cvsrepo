head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.2
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.2.0.22
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.18
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.20
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.16
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.14
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.12
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.10
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.8
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.6
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2016.11.23.12.27.47;	author sthen;	state Exp;
branches;
next	1.2;
commitid	MtFGCHYLH8lKheME;

1.2
date	2011.06.02.13.41.41;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.11.08.08.24.32;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to rancid-3.5.1, from Pavel Korovin, ok pea@@
---
If you are upgrading from rancid-<3, please note that router.db field
separator has been changed from ':' to ';' to avoid conflict with IPv6
addresses. Replace the field separator in router.db files before running
rancid.

The configuration files location is changed from /etc to /etc/rancid.
---
@
text
@$OpenBSD: README,v 1.2 2011/06/02 13:41:41 ajacoutot Exp $

+-----------------------------------------------------------------------
| Running ${FULLPKGNAME} on OpenBSD
+-----------------------------------------------------------------------

On OpenBSD, RANCID lives and works in ${LOCALSTATEDIR}, with user id _rancid.

Quick Installation Guide (an example):

1) Modify ${SYSCONFDIR}/rancid/rancid.conf.  The variable LIST_OF_GROUPS is
   a space delimited list of router "groups".
   e.g.:
	LIST_OF_GROUPS="backbone aggregation switches"

2) Create ${LOCALSTATEDIR}/.cloginrc, with read/write permissions only for
   the _rancid user, e.g. 0600 or 0640.

   Review ${TRUEPREFIX}/share/examples/rancid/cloginrc.sample for examples
   and a good starting point.  See also cloginrc(5).

   Test to make sure that you can login to every router.

3) Set up mail aliases, by modifing /etc/mail/aliases.  Rancid
   sends the diffs and other administrative emails to rancid-<GROUP> and
   problems to rancid-admin-<GROUP>, where <GROUP> is the "GROUP" of
   routers.  This way you can separate your backbone routers from your
   access routers or separate based upon network.

4) Initialize RANCID CVS repository with `rancid-cvs' as the _rancid
   user.  This creates all of the necessary directories and config files
   for each of the groups in LIST_OF_GROUPS and imports them into CVS.
   This will also need to be run each time a new group is added.  Do not
   create the directories or CVS repository manually, allow rancid-cvs
   do it.  See also rancid-cvs(1).

5) For each "group", modify the router.db file in the group directory.
   The file is of the form "router;mfg;state", where "router" is
   the name (we use FQDN) of the router, mfg is the manufacturer from
   the set of (cat5|cisco|juniper), and "state" is either up or down.
   Each router listed as "up" will have the configuration grabbed.
   Note: manufacturer cat5 is intended only for cisco catalyst switches
   running catalyst (not IOS) code.  See also router.db(5).

6) For first-time users or new installations, run `rancid-run' (with no
   arguments) as the user _rancid and check the resulting log file(s)
   (in ${LOCALSTATEDIR}/logs/*) for errors.  Repeat until there are no
   errors.

7) Put `rancid-run' in _rancid's crontab to be called however often you
   want it to run for each group (rancid-run [<GROUP>]).  If you run it
   less often than once/hour, check the setting of OLDTIME in
   ${SYSCONFDIR}/rancid/rancid.conf.

   Example:
	# run config differ hourly
	1 * * * * ${TRUEPREFIX}/bin/rancid-run
	# clean out config differ logs
	50 23 * * * /usr/bin/find ${LOCALSTATEDIR}/logs -type f -mtime +2 -exec rm {} \;
@


1.2
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.1 2010/11/08 08:24:32 jasper Exp $
d7 1
a7 1
On OpenBSD, RANCID lives and works in /var/rancid, with user id _rancid.
d11 2
a12 2
1) Modify ${SYSCONFDIR}/rancid.conf.  The variable LIST_OF_GROUPS is a space 
   delimited list of router "groups".
d16 1
a16 1
2) Create /var/rancid/.cloginrc, with read/write permissions only for
d19 1
a19 1
   Review ${TRUEPREFIX}/share/examples/rancid/cloginrc.sample for examples 
d38 1
a38 1
   The file is of the form "router:mfg:state", where "router" is
d47 1
a47 1
   (in /var/rancid/logs/*) for errors.  Repeat until there are no
d53 1
a53 1
   ${SYSCONFDIR}/rancid.conf.
d59 1
a59 1
	50 23 * * * /usr/bin/find /var/rancid/logs -type f -mtime +2 -exec rm {} \;
@


1.1
log
@- switch to pkg-readmes/REVISION/EPOCH

ok pea@@ (MAINTAINER)
@
text
@d1 5
a5 1
$OpenBSD: README.OpenBSD,v 1.2 2008/12/19 12:57:53 pea Exp $
@

