head	1.10;
access;
symbols
	OPENBSD_5_2:1.9.0.2
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.20
	OPENBSD_5_0:1.8.0.18
	OPENBSD_5_0_BASE:1.8
	OPENBSD_4_9:1.8.0.16
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.8.0.14
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.8.0.12
	OPENBSD_4_7_BASE:1.8
	OPENBSD_4_6:1.8.0.10
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.8
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.6
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.4
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.2
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.7.0.2
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.5.0.10
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.8
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.5.0.6
	OPENBSD_3_7_BASE:1.5
	OPENBSD_3_6:1.5.0.4
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.5.0.2
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.2.0.2
	OPENBSD_3_3_BASE:1.2
	margarida_2002_11_29:1.1.1.1
	margarida:1.1.1;
locks; strict;
comment	@# @;


1.10
date	2012.09.23.19.33.02;	author jasper;	state dead;
branches;
next	1.9;

1.9
date	2012.05.29.15.45.56;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.28.16.14.58;	author rui;	state Exp;
branches;
next	1.7;

1.7
date	2006.09.25.19.20.03;	author pvalchev;	state Exp;
branches;
next	1.6;

1.6
date	2006.03.22.15.58.01;	author sturm;	state Exp;
branches;
next	1.5;

1.5
date	2004.04.13.08.57.59;	author brad;	state Exp;
branches
	1.5.2.1;
next	1.4;

1.4
date	2003.11.02.16.12.00;	author margarida;	state dead;
branches;
next	1.3;

1.3
date	2003.06.01.23.14.16;	author margarida;	state Exp;
branches
	1.3.2.1;
next	1.2;

1.2
date	2002.12.26.00.45.55;	author margarida;	state Exp;
branches;
next	1.1;

1.1
date	2002.11.29.23.22.21;	author margarida;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.11.29.23.22.21;	author margarida;	state Exp;
branches;
next	;

1.3.2.1
date	2004.07.29.13.30.54;	author robert;	state Exp;
branches;
next	;

1.5.2.1
date	2004.07.29.13.29.06;	author robert;	state Exp;
branches;
next	;


desc
@@


1.10
log
@remove -lpthread vs. -pthread patches/chunks
@
text
@$OpenBSD: patch-configure,v 1.9 2012/05/29 15:45:56 jasper Exp $
--- configure.orig	Fri May 25 10:25:39 2012
+++ configure	Fri May 25 10:26:10 2012
@@@@ -11046,13 +11046,13 @@@@ fi
 fi
 
 
-{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread_create in -lpthread" >&5
-$as_echo_n "checking for pthread_create in -lpthread... " >&6; }
+{ $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread_create in -pthread" >&5
+$as_echo_n "checking for pthread_create in -pthread... " >&6; }
 if test "${ac_cv_lib_pthread_pthread_create+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lpthread  $LIBS"
+LIBS="-pthread  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@@@ -11087,7 +11087,7 @@@@ if test "x$ac_cv_lib_pthread_pthread_create" = x""yes;
 #define HAVE_LIBPTHREAD 1
 _ACEOF
 
-  LIBS="-lpthread $LIBS"
+  LIBS="-pthread $LIBS"
 
 else
   as_fn_error "POSIX thread library is required" "$LINENO" 5
@


1.9
log
@- update to 5.4

maintainer timed-out
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.8 2007/05/28 16:14:58 rui Exp $
@


1.8
log
@update monit to 4.9, regen patches while here
changelog: http://www.tildeslash.com/monit/dist/CHANGES.txt

ok Ben Lovett (maintainer), kili@@
@
text
@d1 6
a6 4
$OpenBSD$
--- configure.orig	Mon Feb 19 22:43:14 2007
+++ configure	Mon May 28 14:44:41 2007
@@@@ -3856,13 +3856,13 @@@@ fi
d8 6
a13 8
 # Wacky pthread madness
 pthread_libs=""
-{ echo "$as_me:$LINENO: checking for pthread_create in -lpthread" >&5
-echo $ECHO_N "checking for pthread_create in -lpthread... $ECHO_C" >&6; }
+{ echo "$as_me:$LINENO: checking for pthread_create in -pthread" >&5
+echo $ECHO_N "checking for pthread_create in -pthread... $ECHO_C" >&6; }
 if test "${ac_cv_lib_pthread_pthread_create+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
d18 5
a22 2
 cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
a23 7
@@@@ -3918,7 +3918,7 @@@@ fi
 { echo "$as_me:$LINENO: result: $ac_cv_lib_pthread_pthread_create" >&5
 echo "${ECHO_T}$ac_cv_lib_pthread_pthread_create" >&6; }
 if test $ac_cv_lib_pthread_pthread_create = yes; then
-  pthread_libs="-lpthread"
+  pthread_libs="-pthread"
 fi
d25 5
a29 1
 { echo "$as_me:$LINENO: checking for pthread_create in -lc_r" >&5
@


1.7
log
@monit-4.8.1; maintainer Ben Lovett
@
text
@d2 3
a4 3
--- configure.orig	Mon Sep 25 13:17:57 2006
+++ configure	Mon Sep 25 13:18:03 2006
@@@@ -3877,13 +3877,13 @@@@ fi
d21 1
a21 1
@@@@ -3942,7 +3942,7 @@@@ fi
@


1.6
log
@update to monit 4.7
see http://www.tildeslash.com/monit/doc/changes.php for details

from maintainer Ben Lovett <ben at tilderoot.com>
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.5 2004/04/13 08:57:59 brad Exp $
--- configure.orig	Wed Jan 11 23:01:35 2006
+++ configure	Wed Mar 22 16:55:32 2006
@@@@ -3367,13 +3367,13 @@@@ fi
d8 4
a11 4
-echo "$as_me:$LINENO: checking for pthread_create in -lpthread" >&5
-echo $ECHO_N "checking for pthread_create in -lpthread... $ECHO_C" >&6
+echo "$as_me:$LINENO: checking for pthread_create in -pthread" >&5
+echo $ECHO_N "checking for pthread_create in -pthread... $ECHO_C" >&6
d21 3
a23 3
@@@@ -3431,7 +3431,7 @@@@ fi
 echo "$as_me:$LINENO: result: $ac_cv_lib_pthread_pthread_create" >&5
 echo "${ECHO_T}$ac_cv_lib_pthread_pthread_create" >&6
d29 1
a29 1
 echo "$as_me:$LINENO: checking for pthread_create in -lc_r" >&5
@


1.5
log
@upgrade to monit 4.2.1

There exists security vulnerabilites in the monit HTTP interface,
which could allow an attacker in the worst case to gain root access
to the system. This issue only affect monit if monit is started
with http server support.

From: Robert Nagy <thuglife at bsd dot hu>

No response from MAINTAINER.
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.orig	Wed Apr  7 11:31:29 2004
+++ configure	Wed Apr  7 11:31:44 2004
@@@@ -3205,13 +3205,13 @@@@
a18 1
 #line $LINENO "configure"
d20 2
a21 1
@@@@ -3260,7 +3260,7 @@@@
@


1.5.2.1
log
@SECURITY:
Upgrade to 4.2.1:
 1. Monit HTTP Interface Buffer Overflow Vulnerability
 2. Off-By-One Overflow in Monit HTTP Interface

ok brad@@
@
text
@@


1.4
log
@Update monit to version 4.1
--
Lots of new features and bugfixes.
Changelog at: http://www.tildeslash.com/monit/dist/CHANGES.txt

Patches accepted by authors.
@
text
@d1 29
a29 15
$OpenBSD: patch-configure,v 1.3 2003/06/01 23:14:16 margarida Exp $
--- configure.orig	Sun Jun  1 23:44:11 2003
+++ configure	Sun Jun  1 23:45:29 2003
@@@@ -5311,6 +5311,11 @@@@ elif test `uname` = "HP-UX"
 then
    ARCH="HPUX"
    CFLAGS="$CFLAGS -D _REENTRANT"
+elif test `uname` = "OpenBSD"
+then
+   ARCH="OPENBSD"
+   CFLAGS="$CFLAGS -D _REENTRANT"
+   test_kvm="true"
 elif test `uname` = "FreeBSD"
 then
    ARCH="FREEBSD"
@


1.3
log
@Update monit to version 3.2
--
Main changes:
*  Monit now reloads configuration ONLY after it receives SIGHUP.
   Automatic reload based on monit's control file timestamp is now
   defunct.
*  New monit command 'reload' is added. If used, it will reinitialize
   a running monit daemon (send it the SIGHUP signal).
*  A new monit option '-t' is added. If used, monit will run a syntax
   check for the control file and exit with the status.
*  The ssl version for TCPSSL tests can now explicitly be set if auto-
   detection should fail. (Thanks to Mark Foster  for
   the bugreport)
*  Added support for LDAPv2 and LDAPv3, and DWP.
*  Restart method added to monit httpd cervlet
*  Alert messages in passive mode fixed
*  Console command "monit restart [service]" in daemon mode fixed
*  Start/stop/restart race condition fixed.
Changelog: http://www.tildeslash.com/monit/changes.html

Patches OpenBSD specific submitted to authors.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.2 2002/12/26 00:45:55 margarida Exp $
@


1.3.2.1
log
@SECURITY:
Upgrade to 4.2.1:
1. Monit HTTP Interface Buffer Overflow Vulnerability
2. Off-By-One Overflow in Monit HTTP Interface

ok brad@@
@
text
@d1 15
a15 29
$OpenBSD$
--- configure.orig	Wed Apr  7 11:31:29 2004
+++ configure	Wed Apr  7 11:31:44 2004
@@@@ -3205,13 +3205,13 @@@@
 
 # Wacky pthread madness
 pthread_libs=""
-echo "$as_me:$LINENO: checking for pthread_create in -lpthread" >&5
-echo $ECHO_N "checking for pthread_create in -lpthread... $ECHO_C" >&6
+echo "$as_me:$LINENO: checking for pthread_create in -pthread" >&5
+echo $ECHO_N "checking for pthread_create in -pthread... $ECHO_C" >&6
 if test "${ac_cv_lib_pthread_pthread_create+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
   ac_check_lib_save_LIBS=$LIBS
-LIBS="-lpthread  $LIBS"
+LIBS="-pthread  $LIBS"
 cat >conftest.$ac_ext <<_ACEOF
 #line $LINENO "configure"
 /* confdefs.h.  */
@@@@ -3260,7 +3260,7 @@@@
 echo "$as_me:$LINENO: result: $ac_cv_lib_pthread_pthread_create" >&5
 echo "${ECHO_T}$ac_cv_lib_pthread_pthread_create" >&6
 if test $ac_cv_lib_pthread_pthread_create = yes; then
-  pthread_libs="-lpthread"
+  pthread_libs="-pthread"
 fi
 
 echo "$as_me:$LINENO: checking for pthread_create in -lc_r" >&5
@


1.2
log
@Update to version 3.1
--
This release optionally makes use of OpenSSL, it is now
possible to monitor processes forged with SSL. It is also
possible to run monit's HTTP server with SSL.
Also added:
Timestamp monitoring for files and directories and an SSH
protocol test.

brad@@ ok
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.1.1.1 2002/11/29 23:22:21 margarida Exp $
--- configure.orig	Sun Dec 22 15:39:02 2002
+++ configure	Tue Dec 24 01:43:55 2002
@@@@ -5291,9 +5291,9 @@@@ elif test `uname` = "Linux"
d6 1
a6 1
    ARCH="LINUX"
a7 1
-elif test `uname` = "FreeBSD"
d9 5
d15 1
a15 5
-   ARCH="FREEBSD"
+   ARCH="OPENBSD"
    CFLAGS="$CFLAGS -D _REENTRANT"
    test_kvm="true"
 elif test `uname` = "Darwin"
@


1.1
log
@Initial revision
@
text
@d1 4
a4 5
$OpenBSD$
--- configure.orig	Sun Sep 22 06:42:11 2002
+++ configure	Sun Sep 22 06:44:13 2002
@@@@ -5083,7 +5083,7 @@@@ then
 elif test `uname` = "Linux"
d7 1
a10 6
    # Test for kvm libs
    kvm_libs=""
@@@@ -5150,7 +5150,7 @@@@ fi
    then
 	LIBS="$LIBS $kvm_libs"
    fi
d13 3
a15 3
 else
    { echo "$as_me:$LINENO: WARNING: Architecture not supported: \`uname\`. Trying Linux compile" >&5
 echo "$as_me: WARNING: Architecture not supported: \`uname\`. Trying Linux compile" >&2;}
@


1.1.1.1
log
@Add monit
--
monit is an utility for monitoring and managing daemons
or similar programs running on a Unix system.
It will start specified programs if they are not running 
and restart programs not responding.
It supports MD5 checksums, alert notifications, an http
interface among other useful features.

brad@@ ok
@
text
@@
