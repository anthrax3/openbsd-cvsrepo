head	1.2;
access;
symbols
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2014.09.24.09.30.48;	author jasper;	state dead;
branches;
next	1.1;
commitid	GrZV6C96CoOfQHKq;

1.1
date	2014.05.06.08.36.25;	author ajacoutot;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2014.05.06.08.39.38;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update to monit-5.9
- remove unneeded daemon_flags from rc-script (from aja@@)
- undo upstream's time_t "fixes" after rejecting our fixes

tested on i386 by aja@@
@
text
@$OpenBSD: patch-libmonit_test_TimeTest_c,v 1.1 2014/05/06 08:36:25 ajacoutot Exp $

Fix for 64bit time_t.

--- libmonit/test/TimeTest.c.orig	Tue May  6 10:20:17 2014
+++ libmonit/test/TimeTest.c	Tue May  6 10:20:22 2014
@@@@ -29,7 +29,7 @@@@ int main(void) {
                 char d1[STRLEN];
                 char s[] = " Thu, 17 Oct 2002 19:10:01; ";
                 char y[] = "Year: 2011 Day: 14 Month: June";
-                printf("\tParsing a null date string: %ld\n", Time_parse(NULL));
+                printf("\tParsing a null date string: %lld\n", Time_parse(NULL));
                 assert(Time_parse(NULL) == -1);
                 r = Time_parse(s);
                 printf("\tParsed datestring has value: %ld\n", r);
@


1.1
log
@Fix for 64bit time_t to prevent a segfault at startup.

ok jasper@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@Fix for 64bit time_t to prevent a segfault at startup.

ok jasper@@ (maintainer)
@
text
@@

