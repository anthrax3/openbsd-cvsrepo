head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.8
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.6
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.4
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.2.0.12
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.8
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.6
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	landry_20130603:1.1.1.1
	sgallon:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2015.09.25.07.17.57;	author landry;	state Exp;
branches;
next	1.2;
commitid	OAuFfjWTUtGCjVhw;

1.2
date	2013.06.03.22.02.28;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.06.03.16.25.24;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.06.03.16.25.24;	author landry;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to sshfs-fuse 2.5.

Similar diff sent to ports@@ by Michael Lesniewski in june, ok gsoares@@,
MAINTAINER timeout.
@
text
@$OpenBSD: patch-sshfs_c,v 1.2 2013/06/03 22:02:28 ajacoutot Exp $
--- sshfs.c.orig	Wed Jan  8 16:34:52 2014
+++ sshfs.c	Fri Sep 25 09:16:48 2015
@@@@ -11,7 +11,6 @@@@
 
 #include <fuse.h>
 #include <fuse_opt.h>
-#include <fuse_lowlevel.h>
 #include <assert.h>
 #include <stdio.h>
 #include <stdlib.h>
@@@@ -32,6 +31,7 @@@@
 #include <sys/utsname.h>
 #include <sys/mman.h>
 #include <sys/poll.h>
+#include <sys/mount.h>
 #include <netinet/in.h>
 #include <netinet/tcp.h>
 #include <glib.h>
@@@@ -1552,7 +1552,7 @@@@ static int sftp_error_to_errno(uint32_t error)
 	case SSH_FX_NO_SUCH_FILE:      return ENOENT;
 	case SSH_FX_PERMISSION_DENIED: return EACCES;
 	case SSH_FX_FAILURE:           return EPERM;
-	case SSH_FX_BAD_MESSAGE:       return EBADMSG;
+	case SSH_FX_BAD_MESSAGE:       return ENOMSG;
 	case SSH_FX_NO_CONNECTION:     return ENOTCONN;
 	case SSH_FX_CONNECTION_LOST:   return ECONNABORTED;
 	case SSH_FX_OP_UNSUPPORTED:    return EOPNOTSUPP;
@


1.2
log
@Drop unused VERSION variable.
Drop bogus CONFIGURE_ARGS.
Add missing RCS id.
@
text
@d1 3
a3 3
$OpenBSD$
--- sshfs.c.orig	Thu Mar  8 10:34:39 2012
+++ sshfs.c	Mon Jun  3 23:47:06 2013
d20 1
a20 1
@@@@ -1543,7 +1543,7 @@@@ static int sftp_error_to_errno(uint32_t error)
@


1.1
log
@Initial revision
@
text
@d1 1
d3 1
a3 1
+++ sshfs.c	Fri Mar 29 10:37:09 2013
@


1.1.1.1
log
@Import sshfs-fuse 2.4, from MAINTAINER Sylvestre Gallon

SSHFS allows you to mount a remote directory over a normal ssh connection.

Not linked to the build yet, as are the kernel-side bits & userland lib.
Just putting it here so people can play with it.
Tweaks, tidying & fixes to the port by myself
@
text
@@
