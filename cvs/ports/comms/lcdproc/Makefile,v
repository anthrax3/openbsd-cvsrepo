head	1.13;
access;
symbols
	OPENBSD_6_2:1.13.0.6
	OPENBSD_6_2_BASE:1.13
	OPENBSD_6_1:1.13.0.4
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.13.0.2
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.11.0.2
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.10.0.4
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.9.0.4
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.9.0.2
	OPENBSD_5_6_BASE:1.9
	OPENBSD_5_5:1.8.0.4
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.8.0.2
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.7.0.4
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.2
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.2
	edd_20111201:1.1.1.1
	edd:1.1.1;
locks; strict;
comment	@# @;


1.13
date	2016.03.18.16.09.15;	author naddy;	state Exp;
branches;
next	1.12;
commitid	aL0PhMfsJlho732x;

1.12
date	2016.03.16.21.19.38;	author naddy;	state Exp;
branches;
next	1.11;
commitid	eS3Ayl3CL8hkKETd;

1.11
date	2015.10.05.16.29.02;	author sthen;	state Exp;
branches;
next	1.10;
commitid	AqjFzXOPaoxpieFE;

1.10
date	2015.07.07.14.43.36;	author ajacoutot;	state Exp;
branches;
next	1.9;
commitid	WQPaMXMumvuZgEof;

1.9
date	2014.04.18.23.22.17;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2013.03.11.01.30.26;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2012.02.28.10.32.00;	author edd;	state Exp;
branches;
next	1.6;

1.6
date	2012.01.25.16.15.22;	author sthen;	state Exp;
branches;
next	1.5;

1.5
date	2012.01.04.14.19.09;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2011.12.02.13.37.44;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.12.02.12.39.23;	author edd;	state Exp;
branches;
next	1.2;

1.2
date	2011.12.01.20.58.32;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.12.01.19.05.11;	author edd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.12.01.19.05.11;	author edd;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Consistently disable support for devices connected to a PC printer
port.  (The configure check is broken).
Drop maintainer at his request.

ok edd@@
@
text
@# $OpenBSD: Makefile,v 1.12 2016/03/16 21:19:38 naddy Exp $

COMMENT =		interface to various LCD displays
DISTNAME =		lcdproc-0.5.5
REVISION =		7
CATEGORIES =		comms devel
HOMEPAGE =		http://www.lcdproc.org

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

LIB_DEPENDS =		devel/libftdi \
			devel/libhid
# XXX If we ever get an xmlto update, we could build some user docs
#BUILD_DEPENDS =		textproc/xmlto
WANTLIB +=		c ftdi hid kvm ncurses pthread usb

USE_GMAKE =		Yes

MASTER_SITES =		${MASTER_SITE_SOURCEFORGE:=lcdproc/}

CONFIGURE_STYLE =	gnu
CONFIGURE_ENV =		CPPFLAGS="-I${LOCALBASE}/include ${WITH_APM}" \
			LDFLAGS="-L${LOCALBASE}/lib -pthread" \
			ac_cv_port_have_lpt=no
# xosd driver is busted, working on it upstream
# http://lists.omnipotent.net/pipermail/lcdproc/2011-November/013871.html
CONFIGURE_ARGS =	--enable-drivers=all,!xosd

EXAMPLE_DIR = ${PREFIX}/share/examples/lcdproc
post-install:
# our xmlto port version is too old
#	cd ${WRKBUILD} && ${MAKE_PROGRAM} install-html-userguide
	${INSTALL_DATA_DIR} ${EXAMPLE_DIR}
	${SUBST_CMD} -c ${WRKBUILD}/LCDd.conf ${EXAMPLE_DIR}/LCDd.conf
	${SUBST_CMD} -c ${WRKBUILD}/clients/lcdexec/lcdexec.conf \
		${EXAMPLE_DIR}/lcdexec.conf
	${SUBST_CMD} -c ${WRKBUILD}/clients/lcdproc/lcdproc.conf \
		${EXAMPLE_DIR}/lcdproc.conf
	chown -R ${SHAREOWN}:${SHAREGRP} ${EXAMPLE_DIR}
# lcdvc is a linux specific thing - prevent it appearing in PLIST
	rm ${PREFIX}/bin/lcdvc ${PREFIX}/man/man1/lcdvc.1

.include <bsd.port.arch.mk>

.if ${PROPERTIES:Mapm}
WITH_APM =	-DWITH_APM
.endif

.include <bsd.port.mk>
@


1.12
log
@remove SHARED_ONLY from ports that use only the gnu module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2015/10/05 16:29:02 sthen Exp $
d5 1
a5 1
REVISION =		6
a7 1
MAINTAINER =		Edd Barrett <edd@@openbsd.org>
d24 2
a25 1
			LDFLAGS="-L${LOCALBASE}/lib -pthread"
a42 6

.if ${MACHINE_ARCH} == "i386" || ${MACHINE_ARCH} == "amd64"
PKG_ARGS += -Dparallel=1
.else
PKG_ARGS += -Dparallel=0
.endif
@


1.11
log
@REVISION bumps following the additional member in struct if_data,
to make sure packages get updated
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.10 2015/07/07 14:43:36 ajacoutot Exp $

SHARED_ONLY =		Yes
@


1.10
log
@Move some obvious sudo -> '#' (root) in READMEs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2014/04/18 23:22:17 jasper Exp $
d7 1
a7 1
REVISION =		5
@


1.9
log
@remove bogus libusb1 dependency, as it's using libusb-compat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/03/11 01:30:26 espie Exp $
d7 1
a7 1
REVISION =		4
@


1.8
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/02/28 10:32:00 edd Exp $
d7 1
a7 1
REVISION =		3
a15 1
			devel/libusb1 \
@


1.7
log
@Make lcdproc build on non-apm archs.

OK naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2012/01/25 16:15:22 sthen Exp $
a13 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.6
log
@Add missing "PKG_ARGS += -Dparallel=0" for arches where it's needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2012/01/04 14:19:09 sthen Exp $
d7 1
a7 1
REVISION =		2
d30 1
a30 1
CONFIGURE_ENV =		CPPFLAGS="-I${LOCALBASE}/include" \
d54 6
@


1.5
log
@- this uses dlopen modules; mark SHARED_ONLY and merge PFRAG.shared to PLIST

- the code to support LCDs connected by parallel port is only for x86;
split the relevant files out to a separate PFRAG which is not used on
other arch

ok edd@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/12/02 13:37:44 ajacoutot Exp $
d52 2
@


1.4
log
@It's ${SYSCONFDIR}, not ${SYSCONFVAR}.
It's ${SYSCONFDIR}/LCDd.conf, not ${RCDIR}/LCDd.conf.
Lowercase ${RCDIR}/lcdd.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.3 2011/12/02 12:39:23 edd Exp $
d7 1
a7 1
REVISION =		1
d49 4
@


1.3
log
@lowercase LCDd rc script filename at request of aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/12/01 20:58:32 jasper Exp $
d5 1
a5 1
REVISION =		0
@


1.2
log
@minor consistency, no pkg change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/12/01 19:05:11 edd Exp $
d5 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.60 2010/10/24 20:41:23 ajacoutot Exp $
d27 2
a28 1
CONFIGURE_ENV =		CPPFLAGS=-I${LOCALBASE}/include LDFLAGS="-L${LOCALBASE}/lib -pthread"
d39 4
a42 2
	${SUBST_CMD} -c ${WRKBUILD}/clients/lcdexec/lcdexec.conf ${EXAMPLE_DIR}/lcdexec.conf
	${SUBST_CMD} -c ${WRKBUILD}/clients/lcdproc/lcdproc.conf ${EXAMPLE_DIR}/lcdproc.conf
d45 1
a45 2
	rm ${PREFIX}/bin/lcdvc
	rm ${PREFIX}/man/man1/lcdvc.1
@


1.1.1.1
log
@import lcdproc - a tool for interfacing LCD modules

OK sebastia@@

@
text
@@
