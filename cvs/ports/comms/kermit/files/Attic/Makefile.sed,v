head	1.4;
access;
symbols
	OPENBSD_2_7:1.3.0.10
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.3.0.8
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.6
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.4
	OPENBSD_2_4_BASE:1.3
	OPENBSD_2_3:1.3.0.2
	OPENBSD_2_3_BASE:1.3
	kermit6_0_192:1.1.1.1
	kermit:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2000.05.17.17.01.13;	author espie;	state dead;
branches;
next	1.3;

1.3
date	98.03.03.21.45.44;	author marc;	state Exp;
branches
	1.3.10.1;
next	1.2;

1.2
date	98.01.31.08.23.22;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	97.12.31.16.09.45;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.12.31.16.09.45;	author joey;	state Exp;
branches;
next	;

1.3.10.1
date	2000.09.15.04.47.00;	author marc;	state dead;
branches;
next	;


desc
@@


1.4
log
@Simplify build process slightly (no need for sed, pull everything
into main Makefile)

give sensible rights to kermit (no read rights ???) so that packaging works
(hint: make package should NOT use root rights).
Fake.
@
text
@PROG=	kermit
CFLAGS+= -I${.CURDIR} -DBSD44 -DCK_CURSES -DDYNAMIC -DTCPSOCKET \
	 -DNOCOTFMC -DNDSYSERRLIST
SRCS=   ckcmai.c ckucmd.c ckuusr.c ckuus2.c ckuus3.c ckuus4.c ckuus5.c \
        ckuus6.c ckuus7.c ckuusx.c ckuusy.c ckcpro.c ckcfns.c ckcfn2.c \
        ckcfn3.c ckuxla.c ckucon.c ckutio.c ckufio.c ckudia.c ckuscr.c \
        ckcnet.c ckusig.c

BINDIR=%%PREFIX%%/bin
MANDIR=%%PREFIX%%/man/cat

# Install the binary mode 1510, owned by uucp.dialer
#
BINOWN=		uucp
BINGRP=		dialer
BINMODE=	4510

CLEANFILES+= ckcpro.c ckcwart.o wart kermit.1

DPADD=  ${LIBCURSES} ${LIBTERMLIB}
LDADD=  -lcurses -ltermlib

.SUFFIXES: .w

.w.c:
	./wart ${.IMPSRC} ${.TARGET}

wart: ckwart.c
	$(CC) -o wart ${.CURDIR}/ckwart.c

ckcpro.c: ckcpro.w
ckcpro.c: wart

kermit.1: ckuker.cpp
	$(CPP) ckuker.cpp | grep -v ^$$ | grep -v ^\# > kermit.1 || \
		rm -f kermit.1

.include <bsd.prog.mk>
@


1.3
log
@add patch to remove time_t warnings; remove
the unneeded (and deprecated) SETREUID and
SAVEDUID options from Makefile; install with
proper owner, group and modes so can access
lock directory and devices; install man in cat1,
not man1; clean up packing list
@
text
@@


1.3.10.1
log
@bring comms as of cut-over date into 2.7 branch
@
text
@@


1.2
log
@Make compile on alpha and correct manpage name.  The page is installed
in a slightly wrong place as it is pre-nroffed but end up in man1 instead
of cat1
@
text
@d3 1
a3 1
	 -DNOCOTFMC -DSETREUID -DSAVEDUID -DNDSYSERRLIST
d10 7
a16 1
MANDIR=%%PREFIX%%/man/man
@


1.1
log
@Initial revision
@
text
@d14 2
a15 2
DPADD=  ${LIBCURSES} ${LIBTERM}
LDADD=  -lcurses -ltermcap
@


1.1.1.1
log
@
kermit
echo import all comms into ports tree before 98 > .plan
@
text
@@

