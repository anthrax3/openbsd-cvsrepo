head	1.11;
access;
symbols
	OPENBSD_6_1:1.9.0.6
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.9.0.4
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.2
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.7.0.24
	OPENBSD_5_8_BASE:1.7
	OPENBSD_5_7:1.7.0.20
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.18
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.16
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.14
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.12
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.10
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.8
	OPENBSD_5_0:1.7.0.6
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.4
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.6.0.10
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.8
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.6
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.4
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.6.0.2
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.5.0.4
	OPENBSD_4_2_BASE:1.5
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.4.0.8
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.6
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.4
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.2
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.3.0.2
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.2.0.10
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.8
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.6
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.4
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1;
locks; strict;
comment	@# @;


1.11
date	2017.09.27.21.05.42;	author naddy;	state dead;
branches;
next	1.10;
commitid	U1gC19lNdQ74ftKj;

1.10
date	2017.05.04.14.21.34;	author espie;	state Exp;
branches;
next	1.9;
commitid	J8kE78mUPSRTcwBN;

1.9
date	2015.09.21.08.46.50;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	qxAynPFk39itTkXT;

1.8
date	2015.09.19.22.20.43;	author ajacoutot;	state dead;
branches;
next	1.7;
commitid	hLuBYFVO6kgFV1f5;

1.7
date	2010.03.25.10.32.53;	author giovanni;	state Exp;
branches;
next	1.6;

1.6
date	2008.01.20.15.19.31;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2006.10.20.11.48.06;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2004.12.11.04.59.46;	author pvalchev;	state Exp;
branches;
next	1.3;

1.3
date	2004.08.09.11.46.23;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2002.02.18.21.37.41;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2001.06.03.23.58.36;	author brad;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Unbreak autoconf check with clang by not using nested function.
Replace gettext module while here.
@
text
@$OpenBSD: patch-configure,v 1.10 2017/05/04 14:21:34 espie Exp $

Index: configure
--- configure.orig
+++ configure
@@@@ -15081,12 +15081,12 @@@@ $as_echo "#define HAVE_USB 1" >>confdefs.h
 			usb_type=linux
 			msg_usb="yes, Linux"
 		;;
-		*freebsd*)
+		*bsd*)
 
 $as_echo "#define HAVE_USB 1" >>confdefs.h
 
 			usb_type=freebsd
-			msg_usb="yes, FreeBSD"
+			msg_usb="yes, FreeBSD (OpenBSD)"
 		;;
 	    *darwin*)
 
@


1.10
log
@remove very old unneeded configure change which breaks clang
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.9 2015/09/21 08:46:50 ajacoutot Exp $
@


1.9
log
@Revert removal of pilot-link and jpilot; we still have one user of these...
@
text
@d1 5
a5 12
$OpenBSD: patch-configure,v 1.7 2010/03/25 10:32:53 giovanni Exp $
--- configure.orig	Sun Feb  7 04:42:29 2010
+++ configure	Wed Mar 24 08:58:53 2010
@@@@ -4797,7 +4797,7 @@@@ fi
 if test "${lt_cv_path_LD+set}" = set; then :
   $as_echo_n "(cached) " >&6
 else
-  if test -z "$LD"; then
+  if true; then
   lt_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
   for ac_dir in $PATH; do
     IFS="$lt_save_ifs"
@


1.8
log
@It's 2015, remove pilot-link...
@
text
@@


1.7
log
@
Update to 0.12.5
ok ajacoutot@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD: patch-configure,v 1.6 2008/01/20 15:19:31 ajacoutot Exp $
@


1.6
log
@- update to pilot-link-0.12.3

thanks to Giovanni Bechis <bigionews at snb dot it> who sent me a
similar diff of what I had in my tree but totally forgot about

tested under Treo 680 and LiveDrive (netsync) with jpilot and libmal
@
text
@d1 6
a6 6
$OpenBSD: patch-configure,v 1.5 2006/10/20 11:48:06 ajacoutot Exp $
--- configure.orig	Mon Nov 12 19:13:25 2007
+++ configure	Thu Jan 17 09:00:40 2008
@@@@ -4499,7 +4499,7 @@@@ fi
 if test "${lt_cv_path_LD+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
d13 1
a13 1
@@@@ -22501,14 +22501,14 @@@@ _ACEOF
d20 1
a20 3
 cat >>confdefs.h <<\_ACEOF
 #define HAVE_USB 1
 _ACEOF
@


1.5
log
@Update to pilot-link-0.12.1.
With some inputs from steven@@ and espie@@

ok steven@@
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.orig	Mon Sep 18 10:34:12 2006
+++ configure	Mon Sep 18 10:33:58 2006
@@@@ -4578,7 +4578,7 @@@@ fi
d13 1
a13 1
@@@@ -23224,14 +23224,14 @@@@ _ACEOF
@


1.4
log
@Update to pilot-link-0.11.8, remove debug flavour
From new maintainer Antoine Jacoutot <ajacoutot@@lphp.org>
@
text
@d2 3
a4 3
--- configure.orig	Tue Jul  1 13:08:40 2003
+++ configure	Fri Dec 10 21:51:33 2004
@@@@ -3010,7 +3010,7 @@@@ fi
d10 1
a10 1
   IFS="${IFS= 	}"; ac_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
d12 7
a18 7
     test -z "$ac_dir" && ac_dir=.
@@@@ -9259,14 +9259,14 @@@@ _ACEOF
 		usb_type=linux
 		msg_usb="yes, Linux"
 	;;
-	*freebsd*)
+	*bsd*)
d24 5
a28 5
 		usb_type=freebsd
-		msg_usb="yes, FreeBSD"
+		msg_usb="yes, FreeBSD (OpenBSD)"
 	;;
 esac
@


1.3
log
@new plists
@
text
@d1 6
a6 9
$OpenBSD: patch-configure,v 1.2 2002/02/18 21:37:41 pvalchev Exp $
--- configure.orig	Tue Mar 13 05:06:17 2001
+++ configure	Mon Aug  9 13:32:27 2004
@@@@ -1736,7 +1736,7 @@@@ int main() {
 EOF
 if { (eval echo configure:1738: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
   rm -rf conftest*
-  RLLIBS="-lreadline"
+  RLLIBS="-lreadline -lcurses"
d8 21
a28 56
   echo "configure: failed program was:" >&5
   cat conftest.$ac_ext >&5
@@@@ -2829,8 +2829,10 @@@@ fi
 itcl=''
 if test "x$with_tcl" = "xyes" || test "x$with_tcl" = "x" ; then
 	for tcl_path in /usr /usr/local /usr/lib/tcl8.3 /usr/local/tcl8.0 /usr/local/tcl7.6 /usr/local/tcl7.5 /usr/local/tcl7.4; do
-		if test -f $tcl_path/lib/tclConfig.sh; then
+		if test -f $tcl_path/lib/tcl8.3/tclConfig.sh; then
 			with_tcl=$tcl_path; break
+		elif test -f $tcl_path/lib/tclConfig.sh; then
+			with_tcl=$tcl_path; break
 		elif test -f $tcl_path/lib/itcl/tclConfig.sh; then
 			itcl='/itcl'
 			with_tcl=$tcl_path; break
@@@@ -2870,13 +2872,13 @@@@ if test "x$with_tcl" = "x"; then
 elif test "x$with_tcl" = "xno"; then
 	echo "$ac_t""not used" 1>&6
 else
-	tclConfig="$with_tcl/lib$itcl/tclConfig.sh"
+	tclConfig="$with_tcl/lib/tcl8.3$itcl/tclConfig.sh"
 	if test ! -f $tclConfig; then
 		echo "$ac_t""Unable to find tclConfig.sh" 1>&6
 	else
 		. $tclConfig
 		echo "$ac_t""version $TCL_VERSION from $tclConfig" 1>&6
-		TCL_INC="-I$TCL_PREFIX/include$itcl"
+		TCL_INC="-I$TCL_PREFIX/include/tcl8.3$itcl"
 		TCL_BIN="$TCL_EXEC_PREFIX/bin"
 		TCLLIBS="$TCL_LIB_SPEC $TCL_LIBS"
 		TCLTKLIBS="$TCLLIBS"
@@@@ -2889,7 +2891,7 @@@@ else
 		
 		if test "x$with_itcl" = "xyes" || test "x$with_itcl" = "x"; then
 			for itcl_path in $with_tcl; do
-				if test -f $itcl_path/lib$itcl/itclConfig.sh; then
+				if test -f $itcl_path/lib/tcl8.3$itcl/itclConfig.sh; then
 					with_itcl=$itcl_path; break
 				fi
 			done
@@@@ -2907,13 +2909,13 @@@@ echo "configure:2905: checking for Itcl"
 		elif test "x$with_itcl" = "xno"; then
 			echo "$ac_t""not used" 1>&6
 		else
-			itclConfig="$with_itcl/lib$itcl/itclConfig.sh"
+			itclConfig="$with_itcl/lib/tcl8.3$itcl/itclConfig.sh"
 			if test ! -f $itclConfig; then
 				echo "$ac_t""Unable to find itclConfig.sh" 1>&6
 			else
 				. $itclConfig
 				echo "$ac_t""version $ITCL_VERSION from $itclConfig" 1>&6
-				ITCL_INC="-I$TK_PREFIX/include$itcl"
+				ITCL_INC="-I$TK_PREFIX/include/tcl8.3$itcl"
 				#TK_BIN="$TK_EXEC_PREFIX/bin"
 				#TKLIBS="$TK_LIB_SPEC $TCL_LIB_SPEC $TK_LIBS"
 				#TCLTK_LIBS="\$(TK_LIB_SPEC) \$(TCL_LIB_SPEC) \$(TK_LIBS)"
@@@@ -2931,7 +2933,7 @@@@ echo "configure:2905: checking for Itcl"
a29 23
 		if test "x$with_tk" = "xyes" || test "x$with_tk" = "x"; then
 			for tk_path in $with_tcl; do
-				if test -f $tk_path/lib$itcl/tkConfig.sh; then
+				if test -f $tk_path/lib/tk8.3$itcl/tkConfig.sh; then
 					with_tk=$tk_path; break
 				fi
 			done
@@@@ -2949,13 +2951,13 @@@@ echo "configure:2947: checking for Tk" >
 		elif test "x$with_tk" = "xno"; then
 			echo "$ac_t""not used" 1>&6
 		else
-			tkConfig="$with_tk/lib$itcl/tkConfig.sh"
+			tkConfig="$with_tk/lib/tk8.3$itcl/tkConfig.sh"
 			if test ! -f $tkConfig; then
 				echo "$ac_t""Unable to find tkConfig.sh" 1>&6
 			else
 				. $tkConfig
 				echo "$ac_t""version $TK_VERSION from $tkConfig" 1>&6
-				TK_INC="-I$TK_PREFIX/include$itcl"
+				TK_INC="-I$TK_PREFIX/include/tk8.3$itcl"
 				TK_BIN="$TK_EXEC_PREFIX/bin"
 				TKLIBS="$TK_LIB_SPEC $TCL_LIB_SPEC $TK_LIBS"
 				TCLTK_LIBS="\$(TK_LIB_SPEC) \$(TCL_LIB_SPEC) \$(TK_LIBS)"
@


1.2
log
@Update to pilot-link-0.9.5
It now has a homepage (www.pilot-link.org), put live master sites, cleanup
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.1 2001/06/03 23:58:36 brad Exp $
--- configure.orig	Mon Mar 12 21:06:17 2001
+++ configure	Mon Feb 18 13:19:57 2002
d13 1
a13 1
@@@@ -2829,7 +2829,9 @@@@ fi
d19 2
a21 2
+		elif test -f $tcl_path/lib/tclConfig.sh; then
 			with_tcl=$tcl_path; break
d24 1
@


1.1
log
@- rename patches
- add another distsite
- tk 8.0 -> tk 8.3
- ensure no hidden dependencies on Python/Java
@
text
@d1 4
a4 13
$OpenBSD$
--- configure.orig	Fri May 14 02:52:43 1999
+++ configure	Sun Jun  3 19:36:17 2001
@@@@ -1538,7 +1538,7 @@@@ fi
 
 
 ac_save_LIBS="$LIBS"
-LIBS="$LIBS -lreadline"
+LIBS="$LIBS -lreadline -lcurses"
 cat > conftest.$ac_ext <<EOF
 #line 1544 "configure"
 #include "confdefs.h"
@@@@ -1549,7 +1549,7 @@@@ int main() {
d6 1
a6 1
 if { (eval echo configure:1551: \"$ac_link\") 1>&5; (eval $ac_link) 2>&5; } && test -s conftest${ac_exeext}; then
d13 1
a13 1
@@@@ -2642,7 +2642,9 @@@@ fi
d16 1
a16 1
 	for tcl_path in /usr/local/tcl8.0 /usr/local/tcl7.6 /usr/local/tcl7.5 /usr/local /usr /usr/local/tcl7.4; do
d24 1
a24 1
@@@@ -2683,13 +2685,13 @@@@ if test "x$with_tcl" = "x"; then
d40 1
a40 1
@@@@ -2700,7 +2702,7 @@@@ else
d49 1
a49 1
@@@@ -2718,13 +2720,13 @@@@ echo "configure:2716: checking for Itcl"
d65 1
a65 1
@@@@ -2742,7 +2744,7 @@@@ echo "configure:2716: checking for Itcl"
d74 1
a74 1
@@@@ -2760,13 +2762,13 @@@@ echo "configure:2758: checking for Tk" >
@

