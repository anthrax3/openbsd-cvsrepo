head	1.74;
access;
symbols
	OPENBSD_6_1:1.73.0.8
	OPENBSD_6_1_BASE:1.73
	OPENBSD_6_0:1.73.0.6
	OPENBSD_6_0_BASE:1.73
	OPENBSD_5_9:1.73.0.2
	OPENBSD_5_9_BASE:1.73
	OPENBSD_5_8:1.73.0.4
	OPENBSD_5_8_BASE:1.73
	OPENBSD_5_7:1.70.0.6
	OPENBSD_5_7_BASE:1.70
	OPENBSD_5_6:1.70.0.4
	OPENBSD_5_6_BASE:1.70
	OPENBSD_5_5:1.70.0.2
	OPENBSD_5_5_BASE:1.70
	OPENBSD_5_4:1.69.0.2
	OPENBSD_5_4_BASE:1.69
	OPENBSD_5_3:1.66.0.4
	OPENBSD_5_3_BASE:1.66
	OPENBSD_5_2:1.66.0.2
	OPENBSD_5_2_BASE:1.66
	OPENBSD_5_1_BASE:1.64
	OPENBSD_5_1:1.64.0.2
	OPENBSD_5_0:1.63.0.2
	OPENBSD_5_0_BASE:1.63
	OPENBSD_4_9:1.61.0.2
	OPENBSD_4_9_BASE:1.61
	OPENBSD_4_8:1.56.0.2
	OPENBSD_4_8_BASE:1.56
	OPENBSD_4_7:1.55.0.8
	OPENBSD_4_7_BASE:1.55
	OPENBSD_4_6:1.55.0.6
	OPENBSD_4_6_BASE:1.55
	OPENBSD_4_5:1.55.0.4
	OPENBSD_4_5_BASE:1.55
	OPENBSD_4_4:1.55.0.2
	OPENBSD_4_4_BASE:1.55
	OPENBSD_4_3:1.54.0.2
	OPENBSD_4_3_BASE:1.54
	OPENBSD_4_2:1.50.0.4
	OPENBSD_4_2_BASE:1.50
	OPENBSD_4_1:1.50.0.2
	OPENBSD_4_1_BASE:1.50
	OPENBSD_4_0:1.47.0.4
	OPENBSD_4_0_BASE:1.47
	OPENBSD_3_9:1.47.0.2
	OPENBSD_3_9_BASE:1.47
	OPENBSD_3_8:1.45.0.2
	OPENBSD_3_8_BASE:1.45
	OPENBSD_3_7:1.44.0.2
	OPENBSD_3_7_BASE:1.44
	OPENBSD_3_6:1.41.0.4
	OPENBSD_3_6_BASE:1.41
	OPENBSD_3_5:1.41.0.2
	OPENBSD_3_5_BASE:1.41
	OPENBSD_3_4:1.40.0.2
	OPENBSD_3_4_BASE:1.40
	OPENBSD_3_3:1.38.0.2
	OPENBSD_3_3_BASE:1.38
	OPENBSD_3_2:1.35.0.2
	OPENBSD_3_2_BASE:1.35
	OPENBSD_3_1:1.34.0.2
	OPENBSD_3_1_BASE:1.34
	OPENBSD_3_0:1.30.0.2
	OPENBSD_3_0_BASE:1.30
	OPENBSD_2_9_TRACKING_SWITCH:1.30
	OPENBSD_2_9:1.27.0.2
	OPENBSD_2_9_BASE:1.27
	OPENBSD_2_8:1.26.0.2
	OPENBSD_2_8_BASE:1.26
	OPENBSD_2_7:1.24.0.2
	OPENBSD_2_7_BASE:1.24
	OPENBSD_2_6:1.11.0.2
	OPENBSD_2_6_BASE:1.11
	OPENBSD_2_5:1.8.0.2
	OPENBSD_2_5_BASE:1.8
	OPENBSD_2_4:1.6.0.2
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	DAVID_LEONARD_980208:1.1.1.1
	DAVID_LEONARD:1.1.1;
locks; strict;
comment	@# @;


1.74
date	2017.04.10.11.45.24;	author sthen;	state Exp;
branches;
next	1.73;
commitid	XDh1zlSBq0boKsHk;

1.73
date	2015.07.20.22.00.54;	author ajacoutot;	state Exp;
branches;
next	1.72;
commitid	8739mZQmlcSFzUNO;

1.72
date	2015.06.18.02.50.18;	author bentley;	state Exp;
branches;
next	1.71;
commitid	ae1aqG2Nr9DN54vQ;

1.71
date	2015.04.06.21.05.07;	author ajacoutot;	state Exp;
branches;
next	1.70;
commitid	UHU0EaklEoJbSKjp;

1.70
date	2014.01.25.13.15.27;	author espie;	state Exp;
branches;
next	1.69;

1.69
date	2013.06.17.13.51.59;	author giovanni;	state Exp;
branches;
next	1.68;

1.68
date	2013.04.12.14.06.38;	author giovanni;	state Exp;
branches;
next	1.67;

1.67
date	2013.03.11.01.30.26;	author espie;	state Exp;
branches;
next	1.66;

1.66
date	2012.07.19.15.05.30;	author giovanni;	state Exp;
branches;
next	1.65;

1.65
date	2012.04.14.15.13.30;	author naddy;	state Exp;
branches;
next	1.64;

1.64
date	2011.10.17.13.03.42;	author espie;	state Exp;
branches;
next	1.63;

1.63
date	2011.06.02.13.41.36;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2011.05.24.16.24.35;	author giovanni;	state Exp;
branches;
next	1.61;

1.61
date	2010.11.29.22.33.11;	author jasper;	state Exp;
branches;
next	1.60;

1.60
date	2010.11.15.10.05.05;	author jasper;	state Exp;
branches;
next	1.59;

1.59
date	2010.11.15.00.22.50;	author espie;	state Exp;
branches;
next	1.58;

1.58
date	2010.10.18.16.57.48;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2010.09.03.14.39.07;	author sthen;	state Exp;
branches;
next	1.56;

1.56
date	2010.07.08.16.21.17;	author giovanni;	state Exp;
branches;
next	1.55;

1.55
date	2008.05.08.17.09.49;	author okan;	state Exp;
branches;
next	1.54;

1.54
date	2008.02.26.18.37.38;	author merdely;	state Exp;
branches;
next	1.53;

1.53
date	2008.02.08.23.10.45;	author okan;	state Exp;
branches;
next	1.52;

1.52
date	2008.01.04.17.48.33;	author espie;	state Exp;
branches;
next	1.51;

1.51
date	2007.09.16.01.37.09;	author merdely;	state Exp;
branches;
next	1.50;

1.50
date	2006.11.07.22.22.27;	author sturm;	state Exp;
branches;
next	1.49;

1.49
date	2006.10.18.08.09.43;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2006.10.15.16.07.07;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2006.01.14.12.05.34;	author steven;	state Exp;
branches;
next	1.46;

1.46
date	2005.09.05.12.27.30;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2005.06.18.18.48.12;	author naddy;	state Exp;
branches;
next	1.44;

1.44
date	2005.03.16.15.43.19;	author naddy;	state Exp;
branches;
next	1.43;

1.43
date	2004.11.21.22.29.50;	author espie;	state Exp;
branches;
next	1.42;

1.42
date	2004.09.15.19.41.31;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2003.11.11.22.24.19;	author todd;	state Exp;
branches;
next	1.40;

1.40
date	2003.08.24.20.48.55;	author sturm;	state Exp;
branches
	1.40.2.1;
next	1.39;

1.39
date	2003.04.14.15.02.09;	author wilfried;	state Exp;
branches;
next	1.38;

1.38
date	2003.01.31.15.53.50;	author brad;	state Exp;
branches
	1.38.2.1;
next	1.37;

1.37
date	2003.01.27.13.42.48;	author todd;	state Exp;
branches;
next	1.36;

1.36
date	2002.12.29.19.32.37;	author fgsch;	state Exp;
branches;
next	1.35;

1.35
date	2002.05.13.18.50.37;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2002.03.24.17.46.42;	author pvalchev;	state Exp;
branches;
next	1.33;

1.33
date	2001.11.18.17.18.52;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2001.11.18.17.06.51;	author d;	state Exp;
branches;
next	1.31;

1.31
date	2001.11.10.15.00.47;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2001.07.13.11.23.56;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2001.06.20.01.43.12;	author pvalchev;	state Exp;
branches;
next	1.28;

1.28
date	2001.05.05.22.39.47;	author jakob;	state Exp;
branches;
next	1.27;

1.27
date	2001.04.01.17.05.12;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2000.10.22.15.41.36;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2000.10.22.14.02.59;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2000.04.09.17.36.06;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2000.03.24.23.28.03;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2000.03.23.07.23.08;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2000.03.19.16.43.40;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2000.03.05.18.30.23;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2000.02.15.05.04.05;	author turan;	state Exp;
branches;
next	1.18;

1.18
date	2000.02.12.09.32.29;	author turan;	state Exp;
branches;
next	1.17;

1.17
date	2000.02.12.08.41.08;	author turan;	state Exp;
branches;
next	1.16;

1.16
date	2000.02.12.06.29.50;	author turan;	state Exp;
branches;
next	1.15;

1.15
date	2000.02.02.17.02.38;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	99.12.11.02.36.40;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	99.12.03.14.24.38;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	99.10.28.07.43.36;	author turan;	state Exp;
branches;
next	1.11;

1.11
date	99.08.27.01.46.10;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	99.08.06.02.45.33;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	99.06.17.16.57.01;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	99.04.01.02.57.55;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	98.12.16.20.02.35;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	98.10.07.18.32.06;	author marc;	state Exp;
branches;
next	1.5;

1.5
date	98.09.04.00.35.54;	author d;	state Exp;
branches;
next	1.4;

1.4
date	98.06.14.08.10.23;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.05.06.02.57.32;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.02.13.14.40.59;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	98.02.08.06.00.08;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.02.08.06.00.08;	author niklas;	state Exp;
branches;
next	;

1.38.2.1
date	2003.11.12.17.31.19;	author margarida;	state Exp;
branches;
next	;

1.40.2.1
date	2003.11.12.17.30.16;	author margarida;	state Exp;
branches;
next	;


desc
@@


1.74
log
@use LIBCXX
@
text
@# $OpenBSD: Makefile,v 1.73 2015/07/20 22:00:54 ajacoutot Exp $

COMMENT=		send/receive faxes and share modems
DISTNAME=		hylafax-6.0.6
REVISION=		5
CATEGORIES=		comms

HOMEPAGE=		http://www.HylaFAX.org/

MASTER_SITES=		http://ftp.hylafax.org/source/ \
			ftp://ftp.hylafax.org/source/ \
			ftp://ftp.ntua.gr/pub/net/hylafax/source/ \
			http://mirror.aarnet.edu.au/pub/hylafax/source/

# License: BSD
# http://www.hylafax.org/HylaFAQ/copyright.html
PERMIT_PACKAGE_CDROM=	Yes

FLAVORS=		a4
FLAVOR?=

WANTLIB=		c jbig m ${LIBCXX} tiff util z
MODULES=		devel/gettext

BUILD_DEPENDS=		print/ghostscript/gnu
RUN_DEPENDS=		print/ghostscript/gnu \
			mail/metamail
LIB_DEPENDS=		graphics/jbigkit \
			graphics/tiff

CONFIGURE_STYLE=	simple
USE_GMAKE=		Yes
USE_GROFF =		Yes

CONFIGURE_ARGS=		--nointeractive \
			--disable-pam \
			--disable-nls \
			--with-CC="${CC}" \
			--with-CXX="${CXX}" \
			--with-INSTALL="" \
			--with-OPTIMIZER=""

CONFIGURE_ENV+=		CCOMPILER="${CC}" CXXCOMPILER="${CXX}" \
			GCOPTS="${CFLAGS}" GCXXOPTS="${CXXFLAGS}" \
			PREFIX="${PREFIX}" LOCALBASE="${LOCALBASE}" \
			DIR_LIBDATA=${TRUEPREFIX}/libdata/hylafax/etc \
			INETDCONF=/etc/inetd.conf MKFIFO=/sbin/mkfifo \
			SCRIPT_SH=/bin/ksh

.if ${FLAVOR:Ma4}
CONFIGURE_ARGS+=	--with-PAGESIZE=A4
.endif

FAKE_FLAGS=	ROOT=${WRKINST} SPOOL=${PREFIX}/libdata/hylafax

NO_TEST=	Yes

pre-configure:
	${SUBST_CMD} ${WRKSRC}/configure

post-install:
	echo "FontMap: ${LOCALBASE}/share/fonts/ghostscript" >${PREFIX}/libdata/hylafax/etc/hyla.conf

.include <bsd.port.mk>
@


1.73
log
@Unbreak; I don't see why this port needs groff and gmake to run.
Triggered by a PLIST mismatch registering gettext-tools as a new
RUN_DEPENDS.
hint from naddy@@

RUN_DEPENDS = ${BUILD_DEPENDS} is bad! bad! bad! Do *not* use that
construct.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2015/06/18 02:50:18 bentley Exp $
d22 1
a22 1
WANTLIB=		c jbig m stdc++ tiff util z
@


1.72
log
@Kill dead mirrors, add http mirrors. Remove maintainer per request.

ok giovanni@@ (previous maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2015/04/06 21:05:07 ajacoutot Exp $
d5 1
a5 1
REVISION=		4
d26 1
a26 1
RUN_DEPENDS=		${BUILD_DEPENDS} \
@


1.71
log
@Cope with recent fonts directory change in ghostscript.

ok kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2014/01/25 13:15:27 espie Exp $
d5 1
a5 1
REVISION=		3
d10 2
a11 3
MAINTAINER=		Giovanni Bechis <giovanni@@openbsd.org>

MASTER_SITES=		ftp://ftp.hylafax.org/source/ \
d13 1
a13 1
			ftp://mirror.aarnet.edu.au/pub/hylafax/source/
@


1.70
log
@hylafax wants that file 0600 ? make it 0600. don't care.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2013/06/17 13:51:59 giovanni Exp $
d5 1
a5 1
REVISION=		2
d63 1
a63 1
	echo "FontMap: ${LOCALBASE}/share/ghostscript/fonts" >${PREFIX}/libdata/hylafax/etc/hyla.conf
@


1.69
log
@
Provide a default FontMap in hyla.conf as an hint for faxsetup
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2013/04/12 14:06:38 giovanni Exp $
d5 1
a5 1
REVISION=		1
@


1.68
log
@
Add a missing run dependency on print/ghostscript/gnu
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2013/03/11 01:30:26 espie Exp $
d5 1
a5 1
REVISION=0
d61 3
@


1.67
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2012/07/19 15:05:30 giovanni Exp $
d5 1
d27 2
a28 1
RUN_DEPENDS=		mail/metamail
@


1.66
log
@
Update to 6.0.6
hfaxd.conf has moved from lib/fax to libdata/hylafax/etc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2012/04/14 15:13:30 naddy Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d55 1
a55 1
NO_REGRESS=	Yes
@


1.65
log
@fixes for tiff 4.0 API changes; from FreeBSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2011/10/17 13:03:42 espie Exp $
d4 1
a4 1
DISTNAME=		hylafax-6.0.5
a6 2
REVISION=		1

d48 1
@


1.64
log
@FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2011/06/02 13:41:36 ajacoutot Exp $
d7 1
a7 1
REVISION=		0
@


1.63
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/05/24 16:24:35 giovanni Exp $
d53 1
a53 1
.if ${FLAVOR:L} == "a4"
@


1.62
log
@
Major update to 6.0.5
lot of bug fixes and improvements
old protocol has been removed
Full changelog available at
http://git.hylafax.org/HylaFAX?a=blob;f=doc/RELEASENOTES-6.0.txt;hb=6.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2010/11/29 22:33:11 jasper Exp $
d6 2
@


1.61
log
@- style
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2010/11/15 10:05:05 jasper Exp $
d4 1
a4 2
DISTNAME=		hylafax-4.4.6
REVISION=		1
d11 3
a13 1
MASTER_SITES=		ftp://ftp.hylafax.org/source/
d26 1
d39 1
d42 2
a43 1
			--with-INSTALL=""
d48 1
d60 1
a60 1
	@@perl -pi -e 's,%%LOCALBASE%%,${LOCALBASE},' ${WRKSRC}/configure
@


1.60
log
@- switch to pkg-readmes

ok giovanni@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/11/15 00:22:50 espie Exp $
d5 1
a5 1
REVISION=		0
@


1.59
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/10/18 16:57:48 espie Exp $
d5 1
a55 6

post-install:
	@@sed -e s,%%PREFIX%%,${TRUEPREFIX},g ${FILESDIR}/README.OpenBSD > \
		${WRKBUILD}/README.OpenBSD
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/hylafax/
	${INSTALL_DATA} ${WRKBUILD}/README.OpenBSD ${PREFIX}/share/doc/hylafax/
@


1.58
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/09/03 14:39:07 sthen Exp $
d25 4
a28 4
BUILD_DEPENDS=		:ghostscript-*:print/ghostscript/gnu
RUN_DEPENDS=		::mail/metamail
LIB_DEPENDS=		::graphics/jbigkit \
			::graphics/tiff
d32 1
a32 1
USE_GROFF =	Yes
@


1.57
log
@new lib_depends/revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/07/08 16:21:17 giovanni Exp $
d32 1
@


1.56
log
@
Update to 4.4.6
Full changelog available at
http://www.hylafax.org/content/HylaFAX_6.0.4/4.4.6/4.3.9_releases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2008/05/08 17:09:49 okan Exp $
d23 1
a23 1
WANTLIB=		c m stdc++ util z
d27 2
a28 2
LIB_DEPENDS=		jbig::graphics/jbigkit \
			tiff::graphics/tiff
@


1.55
log
@replace @@unexec with a more sane @@extraunexec so that pkg_delete notifies
the user, instead of just removing the symlink.

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2008/02/26 18:37:38 merdely Exp $
d4 1
a4 2
DISTNAME=		hylafax-4.4.4
PKGNAME=		${DISTNAME}p1
d9 1
a9 1
MAINTAINER=		Giovanni Bechis <g.bechis@@snb.it>
@


1.54
log
@Fix build on alpha (don't hardcode -O).

ok MAINTAINER (Giovanni Bechis)
ok naddy@@, okan@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2008/02/08 23:10:45 okan Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p0
@


1.53
log
@- update to 4.4.4 from Giovanni Bechis, new MAINTAINER

ok merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2008/01/04 17:48:33 espie Exp $
d5 1
@


1.52
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2007/09/16 01:37:09 merdely Exp $
d4 1
a4 2
DISTNAME=		hylafax-4.1.5
PKGNAME=		${DISTNAME}p7
a6 2
FLAVORS=		a4
FLAVOR?=
d9 2
d19 4
d25 4
a28 3
RUN_DEPENDS=		:ghostscript-*:print/ghostscript/gnu
LIB_DEPENDS=		tiff::graphics/tiff \
			jpeg::graphics/jpeg
d33 5
a37 4
CONFIGURE_ARGS =	--nointeractive
CONFIGURE_ARGS+=	--with-CC="${CC}"
CONFIGURE_ARGS+=	--with-CXX="${CXX}"
CONFIGURE_ARGS+=        --with-INSTALL=""
d41 2
a42 1
			PREFIX="${PREFIX}" LOCALBASE="${LOCALBASE}"
d50 1
a50 2
SUID_EXES=	${PREFIX}/sbin/faxgetty ${PREFIX}/sbin/faxq \
		${PREFIX}/bin/faxrm ${PREFIX}/bin/faxalter
d52 2
a53 2
NO_REGRESS=	Yes
NO_SYSTRACE=	"test -d '' succeeds"
d56 4
a59 5
	@@chown uucp:dialer ${SUID_EXES}
	@@chmod a=rx,u+s ${SUID_EXES}
	${INSTALL_DATA} ${FILESDIR}/hylafax.sh.sample ${PREFIX}/lib/fax
	@@ln -sf ${TRUEPREFIX}/libdata/hylafax ${WRKINST}/var/spool/hylafax
	@@chown -R uucp:dialer ${PREFIX}/libdata/hylafax
@


1.51
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2006/11/07 22:22:27 sturm Exp $
d42 1
a42 2
FAKE_FLAGS=	ROOT=${WRKINST} ${DESTDIRNAME}=${WRKINST} \
		SPOOL=${PREFIX}/libdata/hylafax
@


1.50
log
@mode/owner/group annotations
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2006/10/18 08:09:43 ajacoutot Exp $
d3 1
a3 1
COMMENT=		"send/receive faxes and share modems"
@


1.49
log
@Set vgetty path to ${LOCALBASE}/libexec/vgetty instead of hardcoded
/sbin/vgetty.
Disable sysvinit support unconditionally since we don't need it and it
causes the "make fake" stage to fail if a sysvinit startup directory exists
(ie. /etc/init.d/)

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2006/10/15 16:07:07 ajacoutot Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p6
@


1.48
log
@Workaround to remove mgetty/hylafax conflict.
Update my email address while there.
ok mbalmer@@ kili@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2006/01/14 12:05:34 steven Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p5
@


1.47
log
@conflict with mgetty+sendfax

ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2005/09/05 12:27:30 espie Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p4
@


1.46
log
@mark up manpage.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2005/06/18 18:48:12 naddy Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p3
@


1.45
log
@- allow building with tiff 3.7
- no regression tests available
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2005/03/16 15:43:19 naddy Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p2
@


1.44
log
@mark conflicting packages; effectively from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2004/11/21 22:29:50 espie Exp $
d48 1
@


1.43
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2004/09/15 19:41:31 espie Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p1
@


1.42
log
@tweak so that it packages correctly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2003/11/11 22:24:19 todd Exp $
d20 1
@


1.41
log
@Security fix:
Format string bug in hfaxd.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2003/08/24 20:48:55 sturm Exp $
d41 2
a42 1
FAKE_FLAGS=	ROOT=${WRKINST} ${DESTDIRNAME}=${WRKINST}
d53 2
a54 7

pre-package:
	@@${SUDO} rm -f ${WRKINST}/${PREFIX}/hylafax
	@@${SUDO} ln -s ${WRKINST}/var/spool/hylafax ${WRKINST}/${PREFIX}/hylafax

post-package:
	@@${SUDO} rm -f ${WRKINST}/${PREFIX}/hylafax
@


1.40
log
@mark these NO_SYSTRACE for now as systrace bugs manifest themselfs in
breaking build or packaging otherwise

- the gtk+2 problem is of unknown nature for now
- hylafax and MyCC break due to systrace translating "" to the current
directory in 'test -d ""' and thus succeeding the test instead of failing;
this is a problem when testing if some variable holds an existing directory
name and that variable is empty

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2003/04/14 15:02:09 wilfried Exp $
d5 1
@


1.40.2.1
log
@Security fix:
Hylafax server (hfaxd) has a remotely exploitable format string
vulnerability.
URL: http://www.securityfocus.com/archive/1/344134
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2003/08/24 20:48:55 sturm Exp $
a4 1
PKGNAME=		${DISTNAME}p1
@


1.39
log
@POSIX chown, ok espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2003/01/31 15:53:50 brad Exp $
d44 3
@


1.38
log
@- repsect CC/CXX/CFLAGS/CXXFLAGS
- PREFIX -> LOCALBASE for db/tiff lib/header paths
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2003/01/27 13:42:48 todd Exp $
d45 1
a45 1
	@@chown uucp.dialer ${SUID_EXES}
@


1.38.2.1
log
@Security fix:
Hylafax server (hfaxd) has a remotely exploitable format string
vulnerability.
URL: http://www.securityfocus.com/archive/1/344134
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2003/01/31 15:53:50 brad Exp $
a4 1
PKGNAME=		${DISTNAME}p1
@


1.37
log
@update HylaFAX to 4.1.5, remove BROKEN=

based on 4.1.3 update from Steve Shockley <steve.shockley@@shockley.net>
prompted by Bert Koelewijn <bert@@schmidt-koelewijn.nl>

ok espie@@ "no actual risk you'll break it more"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/05/13 18:50:37 espie Exp $
d32 3
a34 1
CONFIGURE_ENV+=		PREFIX="${PREFIX}"
d40 2
d45 3
a47 3
	@@: ${SUDO} chown uucp.dialer ${SUID_EXES}
	@@: ${SUDO} chmod a=rx,u+s ${SUID_EXES}
	${SUDO} ${INSTALL_DATA} ${FILESDIR}/hylafax.sh.sample ${PREFIX}/lib/fax
d50 2
a51 2
	${SUDO} rm -f ${WRKINST}/${PREFIX}/hylafax
	${SUDO} ln -s ${WRKINST}/var/spool/hylafax ${WRKINST}/${PREFIX}/hylafax
d54 1
a54 3
	${SUDO} rm -f ${WRKINST}/${PREFIX}/hylafax

FAKE_FLAGS=ROOT=${WRKINST} ${DESTDIRNAME}=${WRKINST}
@


1.36
log
@more NEED_VERSION removal.
@
text
@a2 2
BROKEN=			"doesn't fake properly"

d4 1
a4 1
DISTNAME=		hylafax-4.1
d11 1
a11 1
MASTER_SITES=	ftp://ftp.hylafax.org/source/
d14 1
d21 2
a22 1
LIB_DEPENDS=		tiff::graphics/tiff
a25 1
#SEPARATE_BUILD=	No
d30 3
a32 19
CONFIGURE_ARGS+=	--with-DIR_BIN="${PREFIX}/bin"
CONFIGURE_ARGS+=	--with-DIR_HTML="${PREFIX}/share/doc/hylafax"
CONFIGURE_ARGS+=	--with-DIR_LIBDATA="${PREFIX}/lib/fax"
CONFIGURE_ARGS+=	--with-DIR_LIBEXEC="${PREFIX}/libexec"
CONFIGURE_ARGS+=	--with-DIR_LIBTIFF="-L${PREFIX}/lib -ltiff"
CONFIGURE_ARGS+=	--with-DIR_MAN="${PREFIX}/man"
CONFIGURE_ARGS+=	--with-DIR_SBIN="${PREFIX}/sbin"
CONFIGURE_ARGS+=	--with-LIBREGEX=
CONFIGURE_ARGS+=	--with-INSTALL=
CONFIGURE_ARGS+=	--with-MAKE="${GMAKE}"
CONFIGURE_ARGS+=	--with-PATH_AFM="${PREFIX}/share/ghostscript/fonts"
CONFIGURE_ARGS+=	--with-PATH_GSRIP="${PREFIX}/bin/gs"
CONFIGURE_ARGS+=	--with-PATH_PSRIP="${PREFIX}/bin/gs"
CONFIGURE_ARGS+=	--with-PATH_VGETTY="${PREFIX}/bin/vgetty"
CONFIGURE_ARGS+=	--with-REGEX=no
CONFIGURE_ARGS+=	--with-REGEXINC="/usr/include"
CONFIGURE_ARGS+=	--with-SYSUID=root
CONFIGURE_ARGS+=	--with-SYSVINIT=no
CONFIGURE_ARGS+=	--with-TIFFINC="${PREFIX}/include"
d41 3
a43 3
	@@: chown uucp.dialer ${SUID_EXES}
	@@: chmod a=rx,u+s ${SUID_EXES}
	${INSTALL_DATA} ${FILESDIR}/hylafax.sh.sample ${PREFIX}/lib/fax
d46 2
a47 2
	rm -f ${WRKINST}/${PREFIX}/hylafax
	ln -s ${WRKINST}/var/spool/hylafax ${WRKINST}/${PREFIX}/hylafax
d50 1
a50 1
	rm -f ${WRKINST}/${PREFIX}/hylafax
@


1.35
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2002/03/24 17:46:42 pvalchev Exp $
a7 1
NEED_VERSION=		1.499
@


1.34
log
@mark as broken since nobody seems to care: doesn't fake properly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2001/11/18 17:18:52 espie Exp $
d14 1
a14 2
MASTER_SITE_SUBDIR=	source
MASTER_SITES=	ftp://ftp.hylafax.org/%SUBDIR%/
@


1.33
log
@Fix the most glaring issues
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.32 2001/11/18 17:06:51 d Exp $
@


1.32
log
@hylafax 4.1, tested by Zsolt Erdei woodi%rozsomak.hu.
@
text
@d1 1
a1 1
# $OpenBSD$
d6 3
a8 2
MAINTAINER=		ports@@openbsd.org
FLAVORS=		A4
d13 1
a13 2
MASTER_SITES=	\
			ftp://ftp.hylafax.org/%SUBDIR%/
d21 1
a21 1
RUN_DEPENDS=		gs:ghostscript-*:print/ghostscript/gnu
d51 1
a51 1
.if ${FLAVOR:U} == "A4"
d65 1
d69 2
a71 2

_FAKE_SETUP +=	ROOT=${WRKINST}
@


1.31
log
@Kill first component of BUILD_DEPENDS.

Fix sawfish comment while I'm at it.
`window manager for the X windows system'.
Like DUH ! It's going to be a window manager for my microwave oven ?
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/07/13 11:23:56 naddy Exp $
d3 11
a13 26
COMMENT=	"send/receive faxes and share modems"

BROKEN=		"Security hole (buffer overflow yielding setuid uucp)"

DISTNAME=	hylafax-v4.0pl2
.if defined(A4)
PKGNAME=	hylafax-4.0.2-A4
.else
PKGNAME=	hylafax-4.0.2-letter
.endif

CATEGORIES=	comms
NEED_VERSION=	1.489

FAKE=No
MASTER_SITES=	ftp://ftp.sgi.com/sgi/fax/source/ \
		ftp://ftp.leo.org/pub/comp/os/unix/networking/fax/hylafax/source/ \
		ftp://ftp.sisis.de/pub/hylafax/source/ \
      		ftp://ftp.funet.fi/pub/mirrors/sgi.com/fax/source/
MASTER_SITES0=	http://www.hylafax.org/patches/
EXTRACT_SUFX=	-tar.gz

PATCHFILES=	gcc-2.8.x.patch:0
PATCH_DIST_STRIP= -p1

MAINTAINER=	David Leonard <d@@openbsd.org>
d21 2
a22 14
BUILD_DEPENDS=	::print/afm
RUN_DEPENDS=	:ghostscript-*:print/ghostscript/gnu
LIB_DEPENDS=	tiff.35::graphics/tiff

USE_GMAKE=	Yes

.if !defined(A4)
PAGESIZE=	North American Letter
.else
PAGESIZE=	ISO A4
.endif

FAXUID=	uucp
FAXGID=	dialer
d24 26
a49 12
CONFIGURE_STYLE=simple
CONFIGURE_ARGS=	--with-INSTALL="" \
		--with-MAKE="${GMAKE}" \
		--with-CC="${CC}" \
		--with-CXX="${CXX}" \
		--with-DIR_HTML="/usr/share/doc/html/hylafax" \
		--with-PAGESIZE="${PAGESIZE}" \
		--with-LIBTIFF="-L${PREFIX}/lib -ltiff"  \
		--with-TIFFINC="${PREFIX}/include" \
		--with-ZLIB="no" --with-LIBZ="-lz" --with-ZLIBINC="/usr/include" \
		--with-REGEX="no" --with-LIBREGEX="" --with-REGEXINC="/usr/include" \
		--with-FAXUID="${FAXUID}" --with-FAXGID="${FAXGID}" \
d51 3
a53 1
CONFIGURE_ENV=	CONFIG_SOCKARGLENTYPE=::socklen_t
a56 10

pre-fetch:
.if !defined(NO_WARNINGS)
.if !defined(A4)
	@@${ECHO_MSG} "Type \"make A4=yes\" if you want A4 as default page size."
.else
	@@${ECHO_MSG} "Using \"ISO A4\" for default page size."
.endif
.endif

d58 2
a59 2
	@@chown ${FAXUID}.${FAXGID} ${SUID_EXES}
	@@chmod a=rx,u+s ${SUID_EXES}
d62 6
d69 2
@


1.30
log
@MASTER_SITES fix by Heikki Korpela <heko@@saitti.net>:
- Add ftp.funet.fi and ftp.sunet.se mirrors where available.
- Remove broken ftp.funet.fi references.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/06/20 01:43:12 pvalchev Exp $
d15 1
a15 1
NEED_VERSION=	1.406
d36 2
a37 2
BUILD_DEPENDS=	${PREFIX}/lib/afm/Courier::print/afm
RUN_DEPENDS=	gs:ghostscript-*:print/ghostscript/gnu
@


1.29
log
@Remove deprecated LICENSE_TYPE and set appropriate # comments
with its contents.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/05/05 22:39:47 jakob Exp $
d20 2
a21 1
		ftp://ftp.sisis.de/pub/hylafax/source/
@


1.28
log
@integrate COMMENT & bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/04/01 17:05:12 espie Exp $
d29 1
a29 1
LICENSE_TYPE=		BSD
@


1.27
log
@If someone ever repairs it.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.26 2000/10/22 15:41:36 espie Exp $
d15 2
a16 1
NEED_VERSION=	 1.305
@


1.26
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2000/10/22 14:02:59 espie Exp $
d33 1
a33 1
RUN_DEPENDS=	gs::print/ghostscript/gnu
@


1.25
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2000/04/09 17:36:06 espie Exp $
d13 1
a13 1
NEED_VERSION=	 1.230
d27 4
a30 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d47 1
a47 1
HAS_CONFIGURE=	Yes
@


1.24
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/03/24 23:28:03 espie Exp $
d24 1
a24 1
MAINTAINER=	d@@openbsd.org
@


1.23
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/03/23 07:23:08 brad Exp $
d14 1
@


1.22
log
@change BROKEN tag to mention that hylafax has a known buffer overflow
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/03/19 16:43:40 espie Exp $
d13 1
a13 1
NEED_VERSION=	1.223
d31 3
a33 3
BUILD_DEPENDS=	${PREFIX}/lib/afm/Courier:print/afm
RUN_DEPENDS=	gs:print/ghostscript/gnu
LIB_DEPENDS=	tiff.35:graphics/tiff
@


1.21
log
@Use new LIB_DEPENDS specs everywhere (sed takes care of . -> \.)
Turn new ghostscript on everywhere.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/03/05 18:30:23 espie Exp $
d3 1
a3 1
BROKEN=		bad packing lists
@


1.20
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/02/15 05:04:05 turan Exp $
d32 1
a32 1
RUN_DEPENDS=	gs:print/ghostscript5
@


1.19
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/02/12 09:32:29 turan Exp $
a11 1
NEED_VERSION=	1.175
d13 1
d31 3
a33 3
BUILD_DEPENDS=	${PREFIX}/lib/afm/Courier:${PORTSDIR}/print/afm
RUN_DEPENDS=	gs:${PORTSDIR}/print/ghostscript5
LIB_DEPENDS=	tiff.35:${PORTSDIR}/graphics/tiff
@


1.18
log
@dual BSD,NONE licenses.  make the whole BSD
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/02/12 08:41:08 turan Exp $
d26 4
a29 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.17
log
@none licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/02/12 06:29:50 turan Exp $
d25 1
a25 1
LICENSE_TYPE=		BSD/NONE
@


1.16
log
@bsd licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2000/02/02 17:02:38 espie Exp $
d25 1
a25 1
LICENSE_TYPE=		BSD
@


1.15
log
@Kill most instances of PATCH_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/12/11 02:36:40 brad Exp $
d24 6
@


1.14
log
@change LIB_DEPENDS for new libtiff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/12/03 14:24:38 espie Exp $
d11 2
d17 1
d20 1
a20 2
PATCH_SITES=	http://www.hylafax.org/patches/
PATCHFILES=	gcc-2.8.x.patch
d29 1
a29 1
USE_GMAKE=	yes
d40 1
a40 1
HAS_CONFIGURE=	yes
d68 2
a69 2
	@@${CHOWN} ${FAXUID}.${FAXGID} ${SUID_EXES}
	@@${CHMOD} a=rx,u+s ${SUID_EXES}
@


1.13
log
@Kill USE_EGCC/USE_EGXX, since 2.6 includes both as standard compilers.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/10/28 07:43:36 turan Exp $
d25 1
a25 1
LIB_DEPENDS=	tiff.3.4:${PORTSDIR}/graphics/tiff34
@


1.12
log
@broken, bad packing lists
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 1999/08/27 01:46:10 brad Exp $
a26 2
USE_EGCC=	yes
USE_EGXX=	yes
@


1.11
log
@- add dist patch that makes HylaFAX compile with EGCS
- /usr/sbin/chown -> ${CHOWN}, chmod -> ${CHMOD}
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.10 1999/08/06 02:45:33 brad Exp $
@


1.10
log
@- style
- make PLIST in alpha order
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/06/17 16:57:01 espie Exp $
d9 4
a12 1
MASTER_SITES=	ftp://ftp.sgi.com/sgi/fax/source/
d15 3
a17 1
CATEGORIES=	comms
d23 1
a23 1
LIB_DEPENDS=	tiff.3.4:${PORTSDIR}/graphics/tiff34 
d27 1
d40 4
a43 4
		--with-MAKE=${MAKE} \
		--with-CC=${CC} \
		--with-CXX=${CXX} \
		--with-DIR_HTML=/usr/share/doc/html/hylafax \
d46 4
a49 3
		--with-ZLIB=no --with-LIBZ='-lz' --with-ZLIBINC=/usr/include \
		--with-REGEX=no --with-LIBREGEX= --with-REGEXINC=/usr/include \
		--with-FAXUID=${FAXUID} --with-FAXGID=${FAXGID} \
d66 2
a67 2
	/usr/sbin/chown ${FAXUID}.${FAXGID} ${SUID_EXES}
	chmod a=rx,u+s ${SUID_EXES}
a68 1
	@@${CAT} ${PKGDIR}/MESSAGE
@


1.9
log
@Fix most problems with hylafax and OpenBSD current
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/04/01 02:57:55 brad Exp $
d7 1
a7 1
PKGNAME= hylafax-4.0.2-letter
d9 2
d16 3
a18 2
MASTER_SITES=	ftp://ftp.sgi.com/sgi/fax/source/
EXTRACT_SUFX=	-tar.gz
d20 2
a21 5
BUILD_DEPENDS+= ${PREFIX}/lib/afm/Courier:${PORTSDIR}/print/afm
RUN_DEPENDS=	ghostscript-5.10:${PORTSDIR}/print/ghostscript5
LIB_DEPENDS=	tiff\\.3\\.4:${PORTSDIR}/graphics/tiff34 

USE_EGXX=yes
d29 2
a30 2
FAXUID=uucp
FAXGID=dialer
d44 3
a46 1
SUID_EXES= 	${PREFIX}/sbin/faxgetty ${PREFIX}/sbin/faxq \
a48 1
CONFIGURE_ENV=CONFIG_SOCKARGLENTYPE=::socklen_t
d57 1
d62 1
a62 1
	${CAT} ${PKGDIR}/MESSAGE
@


1.8
log
@remove unnecessary comments and fix email address's
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1998/12/16 20:02:35 marc Exp $
d4 6
a9 1
PKGNAME=	hylafax-4.0.2
d21 2
d47 1
@


1.7
log
@guard build instructions with NO_WARNINGS flag
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.6 1998/10/07 18:32:06 marc Exp $
#
@


1.6
log
@clean up makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1998/09/04 00:35:54 d Exp $
d42 1
d48 1
a48 1

@


1.5
log
@HylaFAX 4.0.2
@
text
@d1 1
a1 6
# OpenBSD makefile for:	hylafax
# Version required:	v4.0pl2
# Date created:		2 Sep 1998
# Whom:			d
#
# $OpenBSD: Makefile,v 1.4 1998/06/14 08:10:23 marc Exp $
d7 3
a12 2
MAINTAINER=	d@@openbsd.org

a13 1

a36 14

MAN1=	choptest.1m cqtest.1m dialtest.1m faxabort.1m faxaddmodem.1m \
	faxalter.1 faxanswer.1m faxconfig.1m faxcover.1 faxcron.1m \
	faxgetty.1m faxinfo.1m faxmail.1 faxmodem.1m faxq.1m \
	faxqclean.1m faxquit.1m faxrcvd.1m faxrm.1 faxsend.1m \
	faxsetup.1m faxstat.1 faxstate.1m faxwatch.1m hfaxd.1m \
	hylafax.1 mkcover.1m notify.1m pagesend.1m pollrcvd.1m \
	ps2fax.1m recvstats.1m sendfax.1 sendpage.1 sgi2fax.1 \
	tagtest.1m textfmt.1 tiff2fax.1m tiffcheck.1m tsitest.1m \
	wedged.1m xferstats.1m

MAN4=	cid.4f config.4f destctrls.4f dialrules.4f hosts.4f hylafax.4f \
	info.4f log.4f pagermap.4f pagesizes.4f recvq.4f sendq.4f \
	shutdown.4f status.4f tsi.4f typerules.4f xferlog.4f
@


1.4
log
@when previously updating tiff34 to install as libtiff the shared
version was left at 1.0.  Oops.  The old tiff (3.3) installed as
libtiff.so.3.3. Install tiff34 as libtiff.so.3.4 but keep the libtiff34
link at version 1.0.  confusing but it seems to work correctly.
Update all ports that depend upon tiff so the dependency is on
tiff.3.4.
@
text
@d2 2
a3 2
# Version required:	v4.0pl1
# Date created:		8 Feb 1998
d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 1998/05/06 02:57:32 marc Exp $
d9 2
a10 2
DISTNAME=	hylafax-v4.0pl1
PKGNAME=	hylafax-4.0.1
d17 1
a17 2
BUILD_DEPENDS=	bash:${PORTSDIR}/shells/bash2 \
		${PREFIX}/lib/afm/Courier:${PORTSDIR}/print/afm
d19 2
a20 5
# no dependency on ghostscript because we don't know which
# version the user prefers
RUN_DEPENDS=	bash:${PORTSDIR}/shells/bash2
LIB_DEPENDS=	tiff\\.3\\.4:${PORTSDIR}/graphics/tiff34 \
		jpeg\\.62\\.:${PORTSDIR}/graphics/jpeg
d22 8
a29 1
USE_GMAKE=	yes
a30 2
# libtiff34 crashes on this machine when dynamically linked?? (mac68k)
# so change -ltiff34 to ${PREFIX}/lib/libtiff34.a to avoid this
d33 23
a55 17
		--with-MAKE=gmake --with-CC=/usr/bin/cc \
		--with-LIBTIFF="-L${PREFIX}/lib -ltiff34 -ljpeg"  \
		--with-ZLIB=no --with-LIBZ='-lz' \
		--with-

MAN1=	hylafax.1 faxalter.1 faxcover.1 faxmail.1 faxrm.1 faxstat.1 sendfax.1 \
	sendpage.1 sgi2fax.1 textfmt.1
MAN5=	pagesizes.5f typerules.5f \
	hylafax.5f cid.5f config.5f destctrls.5f dialrules.5f hosts.5f \
	info.5f log.5f pagermap.5f recvq.5f sendq.5f shutdown.5f status.5f \
	tsi.5f xferlog.5f
MAN8=	cqtest.8c choptest.8c dialtest.8c faxabort.8c faxaddmodem.8c \
	faxanswer.8c faxconfig.8c faxmodem.8c faxstate.8c faxcron.8c \
	faxgetty.8c faxinfo.8c faxq.8c faxqclean.8c faxquit.8c faxrcvd.8c \
	faxsend.8c faxsetup.8c faxwatch.8c hfaxd.8c mkcover.8c notify.8c \
	pagesend.8c pollrcvd.8c ps2fax.8c recvstats.8c tagtest.8c tiff2fax.8c \
	tiffcheck.8c tsitest.8c wedged.8c xferstats.8c
d60 7
d68 1
a68 1
	/usr/sbin/chown uucp ${SUID_EXES}
d70 1
a70 3
	@@if [ ! -f ${PREFIX}/etc/rc.d/hylafax.sh.sample ]; then	\
		cp ${FILESDIR}/hylafax.sh.sample ${PREFIX}/etc/rc.d;	\
	fi
@


1.3
log
@update LIB_DEPENDS for new jpeg library
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 1998/02/13 14:40:59 niklas Exp $
d23 1
a23 1
LIB_DEPENDS=	tiff34\\.1\\.:${PORTSDIR}/graphics/tiff34 \
@


1.2
log
@nicer maintainer address
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.1.1.1 1998/02/08 06:00:08 niklas Exp $
d24 1
a24 1
		jpeg\\.7\\.:${PORTSDIR}/graphics/jpeg
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d15 1
a15 1
MAINTAINER=	d@@fnarg.net.au
@


1.1.1.1
log
@hylafax port from David Leonard <david.leonard@@dstc.edu.au> with some changes
by me.
@
text
@@
