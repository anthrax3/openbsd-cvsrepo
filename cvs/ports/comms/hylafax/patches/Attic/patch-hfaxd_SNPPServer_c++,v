head	1.2;
access;
symbols
	OPENBSD_4_2:1.1.0.20
	OPENBSD_4_2_BASE:1.1
	OPENBSD_4_1:1.1.0.18
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.16
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.14
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.12
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.10
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.8
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.6
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_3:1.1.0.4
	OPENBSD_3_4:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2008.02.08.23.10.46;	author okan;	state dead;
branches;
next	1.1;

1.1
date	2003.11.11.22.30.34;	author todd;	state Exp;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2003.11.12.17.30.16;	author margarida;	state Exp;
branches;
next	;

1.1.4.1
date	2003.11.12.17.31.19;	author margarida;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update to 4.4.4 from Giovanni Bechis, new MAINTAINER

ok merdely@@
@
text
@$OpenBSD: patch-hfaxd_SNPPServer_c++,v 1.1 2003/11/11 22:30:34 todd Exp $
--- hfaxd/SNPPServer.c++.orig	2002-02-14 22:20:50.000000000 -0600
+++ hfaxd/SNPPServer.c++	2003-11-11 16:26:23.000000000 -0600
@@@@ -849,7 +849,7 @@@@ SNPPServer::dataCmd(void)
 	fxStr emsg;
 	u_int seqnum = getDocumentNumbers(1, emsg);
 	if (seqnum == (u_int) -1) {
-	    reply(554, emsg);
+	    reply(554, "%s", (const char*)emsg);
 	    return;
 	}
 	msgFile = fxStr::format("/%s/doc%u.page", FAX_TMPDIR, seqnum);
@@@@ -1053,7 +1053,7 @@@@ SNPPServer::messageCmd(const char* msg)
 	fxStr emsg;
 	u_int seqnum = getDocumentNumbers(1, emsg);
 	if (seqnum == (u_int) -1) {
-	    reply(554, emsg);
+	    reply(554, "%s", (const char*)emsg);
 	    return;
 	}
 	msgFile = fxStr::format("/%s/doc%u.page", FAX_TMPDIR, seqnum);
@


1.1
log
@Security fix:
Format string bug in hfaxd. pointed out by margarida from securityfocus.
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.4.1
log
@Security fix:
Hylafax server (hfaxd) has a remotely exploitable format string
vulnerability.
URL: http://www.securityfocus.com/archive/1/344134
@
text
@d2 2
a3 2
--- hfaxd/SNPPServer.c++.orig	Fri Feb 15 04:20:50 2002
+++ hfaxd/SNPPServer.c++	Wed Nov 12 13:00:54 2003
@


1.1.2.1
log
@Security fix:
Hylafax server (hfaxd) has a remotely exploitable format string
vulnerability.
URL: http://www.securityfocus.com/archive/1/344134
@
text
@d2 2
a3 2
--- hfaxd/SNPPServer.c++.orig	2002-02-14 23:20:50.000000000 -0500
+++ hfaxd/SNPPServer.c++	2003-11-11 14:22:33.000000000 -0500
@

