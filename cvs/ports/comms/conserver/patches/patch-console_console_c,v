head	1.6;
access;
symbols
	OPENBSD_6_1:1.6.0.8
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.6
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.4
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.3.0.26
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.24
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.22
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.20
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.18
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.16
	OPENBSD_5_0:1.3.0.14
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.12
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.10
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.8
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.6
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.4
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.2
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.2.0.12
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.10
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.8
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.6
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.4
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.2
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.1.0.8
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.6
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.4
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.2
	OPENBSD_3_4_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2015.06.10.13.07.33;	author sthen;	state Exp;
branches;
next	1.5;
commitid	3uRPoxaeskADhvvS;

1.5
date	2014.10.07.22.14.17;	author sthen;	state Exp;
branches;
next	1.4;
commitid	a1IT1kguOal23Uj8;

1.4
date	2014.09.08.16.12.11;	author sthen;	state Exp;
branches;
next	1.3;
commitid	e1jNM87A2LcUOgkW;

1.3
date	2008.06.21.11.29.25;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2005.08.02.07.25.48;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2003.05.26.20.20.53;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.6
log
@update to conserver-8.2.1
@
text
@$OpenBSD: patch-console_console_c,v 1.5 2014/10/07 22:14:17 sthen Exp $
--- console/console.c.orig	Mon Jun  1 16:36:59 2015
+++ console/console.c	Wed Jun 10 14:05:46 2015
@@@@ -695,7 +695,7 @@@@ C2Raw(void)
 	Bye(EX_UNAVAILABLE);
     }
     n_tios = o_tios;
-    n_tios.c_iflag &= ~(INLCR | IGNCR | ICRNL | IUCLC | IXON);
+    n_tios.c_iflag &= ~(INLCR | IGNCR | ICRNL | IXON);
     n_tios.c_oflag &= ~OPOST;
     n_tios.c_lflag &= ~(ICANON | ISIG | ECHO | IEXTEN);
     n_tios.c_cc[VMIN] = 1;
@


1.5
log
@update conserver to 8.2.0, and make some port changes ...

- Switch to using unix domain sockets instead of network sockets for
comms between "console" client and "conserver" server. This is a compile-
time toggle and disables network sockets. Uses SO_PEERCRED for access
control so it's possible to do per-user acls in conserver without
the need to re-enter user passwords.

- Add a flavour to use network sockets for those that need it (i.e.
running the client on a different machine to the server).

- Tweaks to pkg-readme explaining the above.
@
text
@d1 4
a4 4
$OpenBSD: patch-console_console_c,v 1.4 2014/09/08 16:12:11 sthen Exp $
--- console/console.c.orig	Sun Apr 20 08:14:49 2014
+++ console/console.c	Tue Oct  7 16:49:57 2014
@@@@ -676,7 +676,7 @@@@ C2Raw(void)
@


1.4
log
@update to conserver 8.1.20, add more notes for upgrading users on how to
unbreak things following the uid change
@
text
@d1 4
a4 4
$OpenBSD: patch-console_console_c,v 1.3 2008/06/21 11:29:25 sthen Exp $
--- console/console.c.orig	Wed Apr  2 01:02:47 2014
+++ console/console.c	Tue Sep  2 20:24:00 2014
@@@@ -679,7 +679,7 @@@@ C2Raw()
@


1.3
log
@Update conserver to 8.1.16, which fixes some bugs, rolls in
pvalchev's strcpy->strlcpy diffs, and adds some new functionality
(see http://www.conserver.com/CHANGES for more details).
Our /etc/services now includes a definition for conserver,
so no need to mention it in the package installation message.

ok pvalchev (maintainer).
@
text
@d1 4
a4 4
$OpenBSD: patch-console_console_c,v 1.2 2005/08/02 07:25:48 pvalchev Exp $
--- console/console.c.orig	Thu Jun 15 04:01:05 2006
+++ console/console.c	Fri Oct 12 11:29:17 2007
@@@@ -577,7 +577,7 @@@@ C2Raw()
@


1.2
log
@update to conserver-8.1.11 with help from aanriot
@
text
@d1 4
a4 4
$OpenBSD: patch-console_console_c,v 1.1 2003/05/26 20:20:53 pvalchev Exp $
--- console/console.c.orig	Mon Oct 25 09:18:20 2004
+++ console/console.c	Thu Jun 23 23:33:26 2005
@@@@ -570,7 +570,7 @@@@ C2Raw()
@


1.1
log
@Update to conserver-7.2.7. many many changes to list, see http://www.conserver.com
some minor tweaks may still be coming
@
text
@d1 5
a5 4
$OpenBSD$
--- console/console.c.orig	Sat May 24 14:15:20 2003
+++ console/console.c	Sat May 24 14:15:35 2003
@@@@ -576,7 +576,7 @@@@ C2Raw()
a6 1
 # endif
@

