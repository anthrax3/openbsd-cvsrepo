head	1.28;
access;
symbols
	OPENBSD_6_2:1.28.0.12
	OPENBSD_6_2_BASE:1.28
	OPENBSD_6_1:1.28.0.10
	OPENBSD_6_1_BASE:1.28
	OPENBSD_6_0:1.28.0.8
	OPENBSD_6_0_BASE:1.28
	OPENBSD_5_9:1.28.0.4
	OPENBSD_5_9_BASE:1.28
	OPENBSD_5_8:1.28.0.6
	OPENBSD_5_8_BASE:1.28
	OPENBSD_5_7:1.28.0.2
	OPENBSD_5_7_BASE:1.28
	OPENBSD_5_6:1.27.0.6
	OPENBSD_5_6_BASE:1.27
	OPENBSD_5_5:1.27.0.4
	OPENBSD_5_5_BASE:1.27
	OPENBSD_5_4:1.27.0.2
	OPENBSD_5_4_BASE:1.27
	OPENBSD_5_3:1.26.0.10
	OPENBSD_5_3_BASE:1.26
	OPENBSD_5_2:1.26.0.8
	OPENBSD_5_2_BASE:1.26
	OPENBSD_5_1_BASE:1.26
	OPENBSD_5_1:1.26.0.6
	OPENBSD_5_0:1.26.0.4
	OPENBSD_5_0_BASE:1.26
	OPENBSD_4_9:1.26.0.2
	OPENBSD_4_9_BASE:1.26
	OPENBSD_4_8:1.24.0.2
	OPENBSD_4_8_BASE:1.24
	OPENBSD_4_7:1.23.0.2
	OPENBSD_4_7_BASE:1.23
	OPENBSD_4_6:1.22.0.6
	OPENBSD_4_6_BASE:1.22
	OPENBSD_4_5:1.22.0.4
	OPENBSD_4_5_BASE:1.22
	OPENBSD_4_4:1.22.0.2
	OPENBSD_4_4_BASE:1.22
	OPENBSD_4_3:1.21.0.2
	OPENBSD_4_3_BASE:1.21
	OPENBSD_4_2:1.20.0.12
	OPENBSD_4_2_BASE:1.20
	OPENBSD_4_1:1.20.0.10
	OPENBSD_4_1_BASE:1.20
	OPENBSD_4_0:1.20.0.8
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.20.0.6
	OPENBSD_3_9_BASE:1.20
	OPENBSD_3_8:1.20.0.4
	OPENBSD_3_8_BASE:1.20
	OPENBSD_3_7:1.20.0.2
	OPENBSD_3_7_BASE:1.20
	OPENBSD_3_6:1.19.0.8
	OPENBSD_3_6_BASE:1.19
	OPENBSD_3_5:1.19.0.6
	OPENBSD_3_5_BASE:1.19
	OPENBSD_3_4:1.19.0.4
	OPENBSD_3_4_BASE:1.19
	OPENBSD_3_3:1.19.0.2
	OPENBSD_3_3_BASE:1.19
	OPENBSD_3_2:1.18.0.2
	OPENBSD_3_2_BASE:1.18
	OPENBSD_3_1:1.15.0.2
	OPENBSD_3_1_BASE:1.15
	OPENBSD_3_0:1.14.0.2
	OPENBSD_3_0_BASE:1.14
	OPENBSD_2_9_TRACKING_SWITCH:1.14
	OPENBSD_2_9:1.13.0.4
	OPENBSD_2_9_BASE:1.13
	OPENBSD_2_8:1.13.0.2
	OPENBSD_2_8_BASE:1.13
	OPENBSD_2_7:1.10.0.2
	OPENBSD_2_7_BASE:1.10
	OPENBSD_2_6:1.4.0.2
	OPENBSD_2_6_BASE:1.4
	OPENBSD_2_5:1.3.0.4
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.3.0.2
	OPENBSD_2_4_BASE:1.3;
locks; strict;
comment	@# @;


1.28
date	2015.01.24.13.46.44;	author schwarze;	state Exp;
branches;
next	1.27;
commitid	r3ywIYD0rT3uuQW8;

1.27
date	2013.03.11.01.30.26;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2010.10.18.16.57.48;	author espie;	state Exp;
branches;
next	1.25;

1.25
date	2010.09.03.14.39.07;	author sthen;	state Exp;
branches;
next	1.24;

1.24
date	2010.05.22.08.09.19;	author jasper;	state Exp;
branches;
next	1.23;

1.23
date	2010.02.09.12.23.59;	author jasper;	state Exp;
branches;
next	1.22;

1.22
date	2008.06.08.21.41.13;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2007.09.16.01.37.09;	author merdely;	state Exp;
branches;
next	1.20;

1.20
date	2004.11.21.22.29.50;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2002.10.25.11.34.24;	author naddy;	state Exp;
branches;
next	1.18;

1.18
date	2002.09.19.03.28.58;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2002.09.17.23.18.34;	author pvalchev;	state Exp;
branches;
next	1.16;

1.16
date	2002.07.17.22.45.09;	author lebel;	state Exp;
branches;
next	1.15;

1.15
date	2002.03.21.20.46.23;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2001.05.05.22.39.43;	author jakob;	state Exp;
branches;
next	1.13;

1.13
date	2000.10.22.15.41.35;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2000.10.05.16.10.24;	author ian;	state Exp;
branches;
next	1.11;

1.11
date	2000.05.28.00.29.26;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.04.09.17.36.06;	author espie;	state Exp;
branches
	1.10.2.1;
next	1.9;

1.9
date	2000.02.15.05.04.05;	author turan;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.12.08.02.11;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	99.11.01.04.10.18;	author ian;	state Exp;
branches;
next	1.6;

1.6
date	99.10.29.11.11.42;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	99.10.29.00.37.56;	author ian;	state Exp;
branches;
next	1.4;

1.4
date	99.08.19.20.52.28;	author downsj;	state Exp;
branches;
next	1.3;

1.3
date	98.10.07.18.28.50;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.09.13.01.48.17;	author ian;	state Exp;
branches;
next	1.1;

1.1
date	98.09.06.22.39.51;	author ian;	state Exp;
branches;
next	;

1.10.2.1
date	2000.09.15.04.47.00;	author marc;	state Exp;
branches;
next	;


desc
@@


1.28
log
@only minor formatting differences; drop USE_GROFF; no bump needed
@
text
@# $OpenBSD: Makefile,v 1.27 2013/03/11 01:30:26 espie Exp $

COMMENT=	small & simple FAX send/receive program

DISTNAME=	efax-0.9
REVISION=	2
CATEGORIES=	comms

MAINTAINER=	Ian Darwin <ian@@openbsd.org>

PERMIT_PACKAGE_CDROM=	Yes

WANTLIB=		c

MASTER_SITES=	${MASTER_SITE_SUNSITE:=apps/serialcomm/fax/}

MAKE_FLAGS=	CC="${CC}" CFLAGS="${CFLAGS}"

NO_TEST=	Yes

do-install:
	cd ${WRKBUILD}; \
		${INSTALL_PROGRAM} efax efix ${PREFIX}/bin; \
		${INSTALL_SCRIPT} fax ${PREFIX}/bin; \
		${INSTALL_MAN} fax.1 efax.1 efix.1 ${PREFIX}/man/man1

.include <bsd.port.mk>
@


1.27
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2010/10/18 16:57:48 espie Exp $
a18 1
USE_GROFF =	Yes
@


1.26
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/09/03 14:39:07 sthen Exp $
a11 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d20 1
a20 1
NO_REGRESS=	Yes
@


1.25
log
@new lib_depends/revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/05/22 08:09:19 jasper Exp $
d22 1
@


1.24
log
@- remove mips64 workaround
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/02/09 12:23:59 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d15 1
@


1.23
log
@- extend archtecture tests for mips64el

ok naddy@@ phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/06/08 21:41:13 jasper Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d19 1
a19 6
# gcc 3.3.5 internal compiler error
.if ${MACHINE_ARCH:Mmips64*}
EXTRA_CFLAGS=	-O0
.endif

MAKE_FLAGS=	CC="${CC}" CFLAGS="${CFLAGS}" EXTRA_CFLAGS="${EXTRA_CFLAGS}"
@


1.22
log
@- fix build on mips64, no package bump needed, as mips64 didn't build before
and other arches are unaffected.

maintainer (ian@@) timed-out for four months
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/09/16 01:37:09 merdely Exp $
d20 1
a20 1
.if ${MACHINE_ARCH} == "mips64"
@


1.21
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN

From Darrin Chandler
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/11/21 22:29:50 espie Exp $
d19 6
a24 1
MAKE_FLAGS=	CC="${CC}" CFLAGS="${CFLAGS}"
@


1.20
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2002/10/25 11:34:24 naddy Exp $
d3 1
a3 1
COMMENT=	"small & simple FAX send/receive program"
@


1.19
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/09/19 03:28:58 brad Exp $
d15 1
@


1.18
log
@roll the install and other changes into the ports Makefile.
--
Ok'd by: MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/09/17 23:18:34 pvalchev Exp $
d19 2
@


1.17
log
@this does not need to be setuid uucp, use group dialer to control
access to modems. discussed w/ ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2002/07/17 22:45:09 lebel Exp $
d5 2
a6 2
DISTNAME=       efax-0.9
PKGNAME=        ${DISTNAME}p1
d16 1
a16 1
MASTER_SITES=	ftp://sunsite.unc.edu/pub/Linux/apps/serialcomm/fax/
d18 7
a24 2
MAKE_ENV=	CC="${CC}"
FAKE_FLAGS=	BINDIR=${WRKINST}${PREFIX}/bin MANDIR=${WRKINST}${PREFIX}/man
@


1.16
log
@respect ${CC} and rename patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2002/03/21 20:46:23 espie Exp $
d6 1
a6 1
PKGNAME=        efax-0.9
a17 3
FAX_UID = uucp
FAX_GID = dialer

d19 1
a19 6
FAKE_FLAGS=BINDIR=${WRKINST}${PREFIX}/bin MANDIR=${WRKINST}${PREFIX}/man
# The inner program, efax, must be setuid uucp, same as tip, cu, uucp,
# so it can open the /dev/cua?? files.
post-install:
	${CHOWN} ${FAX_UID}.${FAX_GID} ${PREFIX}/bin/efax
	${CHMOD} u+s ${PREFIX}/bin/efax
@


1.15
log
@Bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/05/05 22:39:43 jakob Exp $
a7 1
NEED_VERSION=	1.515
d21 1
@


1.14
log
@integrate COMMENT & bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2000/10/22 15:41:35 espie Exp $
d8 1
a8 1
NEED_VERSION=	1.406
@


1.13
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.12 2000/10/05 16:10:24 ian Exp $
d8 1
@


1.12
log
@Full name in MAINTAINER; remove a few old LICENSE_TYPEs, clarify
contool to NOFEE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/05/28 00:29:26 espie Exp $
a5 1
FAKE=		Yes
@


1.11
log
@Fake
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/04/09 17:36:06 espie Exp $
d8 1
a8 1
MAINTAINER=	ian@@OpenBSD.ORG
a9 1
LICENSE_TYPE=		GPL
@


1.10
log
@explicit FAKE=No, so that we can turn FAKE on by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/02/15 05:04:05 turan Exp $
d6 1
a6 1
FAKE=No
d11 4
a14 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d21 1
@


1.10.2.1
log
@bring comms as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/05/28 00:29:26 espie Exp $
d6 1
a6 1
FAKE=		Yes
d11 4
a14 4
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a20 1
FAKE_FLAGS=BINDIR=${WRKINST}${PREFIX}/bin MANDIR=${WRKINST}${PREFIX}/man
@


1.9
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/12 08:02:11 turan Exp $
d6 1
@


1.8
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/11/01 04:10:18 ian Exp $
d10 4
a13 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.7
log
@Better style: use ${CHOWN} etc.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/10/29 11:11:42 espie Exp $
d8 6
@


1.6
log
@Typo in CATEGORIES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/10/29 00:37:56 ian Exp $
d11 5
a15 2
# the inner program, efax, must be setuid uucp, same as tip, cu, uucp,
# so that it can open /dev/cua?? read/write.
d17 2
a18 2
		chown uucp ${PREFIX}/bin/efax
		chmod u+s  ${PREFIX}/bin/efax
@


1.5
log
@Rip out stupid INTERACTIVE stuff from Makefile. Just bitch and die at
run time if they didn't read the (new improved) MESSAGE file when installing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1999/08/19 20:52:28 downsj Exp $
d5 1
a5 1
CATEGORIES=	comm
@


1.4
log
@Update to 0.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 1998/10/07 18:28:50 marc Exp $
a9 14

IS_INTERACTIVE=	yes # for reasons shown in pre-install!

pre-install:
		@@echo "At this stage you MUST customize the \"fax\" script\n\
slightly. In the following editor session, you must set the device\n\
name (normally cua00 on a workstation, cua01 on a PC with a serial mouse).\n\
You also MUST SET BY LAW in many jurisdictions your name and your\n\
return FAX telephone number.\n\
In short, check and set at least DEV, NAME and FROM, in addition to\n\
any modem-specific settings required."
		@@echo Press return to continue...
		@@sh -c "read junk"
		vi ${WRKSRC}/fax
@


1.3
log
@makefile tweaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1998/09/13 01:48:17 ian Exp $
d3 2
a4 2
DISTNAME=       efax08a
PKGNAME=        efax-0.8a
@


1.2
log
@Fix DISTNAME/PKGNAME. Ensure on-null name/faxnum at run time.
@
text
@d1 1
a1 6
# OpenBSD makefile for:	kaffe
# Version required:     1.0.b1
# Date created:		27 Aug 1998
# Whom:			ian
#
# $OpenBSD: Makefile,v 1.1 1998/09/06 22:39:51 ian Exp $
d7 2
d11 1
a11 1
MAINTAINER=	ian@@OpenBSD.ORG
a12 1
IS_INTERACTIVE=	yes # for reasons shown in pre-install!
@


1.1
log
@Initial checkin of EFax, a simpler FAX package good for single-user unices.
@
text
@d6 1
a6 1
# $OpenBSD$
d9 1
d16 1
a16 1
IS_INTERACTIVE=	yes # for reasons shown in per-install!
@

