head	1.6;
access;
symbols
	OPENBSD_3_1:1.5.0.10
	OPENBSD_3_1_BASE:1.5
	OPENBSD_3_0:1.5.0.8
	OPENBSD_3_0_BASE:1.5
	OPENBSD_2_9_TRACKING_SWITCH:1.5
	OPENBSD_2_9:1.5.0.6
	OPENBSD_2_9_BASE:1.5
	OPENBSD_2_8:1.5.0.4
	OPENBSD_2_8_BASE:1.5
	OPENBSD_2_7:1.5.0.2
	OPENBSD_2_7_BASE:1.5
	OPENBSD_2_6:1.3.0.2
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.2.0.4
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2;
locks; strict;
comment	@# @;


1.6
date	2002.07.17.22.45.09;	author lebel;	state dead;
branches;
next	1.5;

1.5
date	99.10.29.02.55.25;	author ian;	state Exp;
branches;
next	1.4;

1.4
date	99.10.29.00.37.56;	author ian;	state Exp;
branches;
next	1.3;

1.3
date	99.08.19.20.52.28;	author downsj;	state Exp;
branches;
next	1.2;

1.2
date	98.09.13.01.48.23;	author ian;	state Exp;
branches;
next	1.1;

1.1
date	98.09.06.22.39.52;	author ian;	state Exp;
branches;
next	;


desc
@@


1.6
log
@respect ${CC} and rename patches
@
text
@--- fax.orig	Wed Mar 24 08:07:28 1999
+++ fax	Thu Oct 28 22:50:23 1999
@@@@ -28,16 +28,17 @@@@
 # /dev/modem is a link to /dev/cua1, then getty, uucp, kermit,
 # pppd, dip, etc. must *all* use either /dev/modem or /dev/cua1.
 
-DEV=cua1
+DEV=cua01
 
 # Your fax number in international format, 20 characters maximum.
 # Use only digits, spaces, and the "+" character.
 
-FROM="+1 800 555 5555"
+#FROM="+1 800 555 5555"
+FROM=""
 
 # Your name as it should appear on the page header.
 
-NAME="Put Your Name Here"
+NAME=""
 
 # The preferred page size for creating and printing faxes.
 # Allowed values are "letter", "legal", and "a4".
@@@@ -81,7 +82,8 @@@@
 # conventions. Protect with single quotes for delayed evaluation.
 # Add a leading '#' to the file name to use binary format.
 
-LOCK='-x /var/lock/LCK..$DEV' 			# modern systems
+LOCK="-x /var/spool/lock/LCK..$DEV"		# OpenBSD cu et al
+# LOCK='-x /var/lock/LCK..$DEV' 		# modern systems
 # LOCK='-x /usr/spool/uucp/LCK..$DEV'		# older systems
 # LOCK='-x /var/lock/LCK..$DEV -x /var/spool/uucp/LCK..$DEV' # both
 # LOCK='-x #/usr/spool/uucp/LCK..$DEV'		# binary format
@@@@ -101,6 +103,7 @@@@
 # The remaining options probably won't need to be changed.
 # ****************************************************************
 
+
 # Configuration files that are sourced if they exist.  Comment
 # out if you don't need to use config files. Warning: any type of
 # shell command in these files will be executed.
@@@@ -404,7 +407,11 @@@@
 # --- End of user configuration section ---
 # ****************************************************************
 
-# --- source configuration files
+# ****************************************************************
+# --- source configuration files, which contain
+# --- settings in the same format.
+# ****************************************************************
+
 
 for f in $CONFIGFILES
 do
@@@@ -413,6 +420,15 @@@@
 		eval "`cat $f`"
 	fi
 done
+# --- Now that config files have been run, test what user did
+case "$NAME" in
+	"")	echo "You have not configured $0 to set NAME=\"your name\"."
+		exit 1;;
+esac
+case "$FROM" in
+	"")	echo "You have not configured $0 to set FROM=\"your faxnum\"."
+		exit 1;;
+esac
 
 # --- set any variables given on command line
 
@


1.5
log
@Eliminate duplicate running of .efaxrc.
@
text
@@


1.4
log
@Rip out stupid INTERACTIVE stuff from Makefile. Just bitch and die at
run time if they didn't read the (new improved) MESSAGE file when installing.
@
text
@d2 1
a2 1
+++ fax	Thu Oct 28 17:55:36 1999
d34 1
a34 15
@@@@ -98,9 +100,21 @@@@
 # FCINIT='-or'			# Multi-Tech (for bit reversal)
 
 # ****************************************************************
+# Look for and run /etc/efaxrc and ~/.efaxrc, which contain
+# settings in the same format.
+# ****************************************************************
+for f in /etc/efaxrc $HOME/.efaxrc
+do
+	if [ -f $f ]; then
+	.	$f
+	fi
+done
+
+# ****************************************************************
d42 14
a55 1
@@@@ -413,6 +427,15 @@@@
@


1.3
log
@Update to 0.9.
@
text
@d1 71
a71 74
*** fax.orig	Wed Mar 24 00:07:28 1999
--- fax	Thu Aug 19 13:41:12 1999
***************
*** 28,43 ****
  # /dev/modem is a link to /dev/cua1, then getty, uucp, kermit,
  # pppd, dip, etc. must *all* use either /dev/modem or /dev/cua1.
  
! DEV=cua1
  
  # Your fax number in international format, 20 characters maximum.
  # Use only digits, spaces, and the "+" character.
  
! FROM="+1 800 555 5555"
  
  # Your name as it should appear on the page header.
  
! NAME="Put Your Name Here"
  
  # The preferred page size for creating and printing faxes.
  # Allowed values are "letter", "legal", and "a4".
--- 28,43 ----
  # /dev/modem is a link to /dev/cua1, then getty, uucp, kermit,
  # pppd, dip, etc. must *all* use either /dev/modem or /dev/cua1.
  
! DEV=cua01
  
  # Your fax number in international format, 20 characters maximum.
  # Use only digits, spaces, and the "+" character.
  
! FROM=""
  
  # Your name as it should appear on the page header.
  
! NAME=""
  
  # The preferred page size for creating and printing faxes.
  # Allowed values are "letter", "legal", and "a4".
***************
*** 81,87 ****
  # conventions. Protect with single quotes for delayed evaluation.
  # Add a leading '#' to the file name to use binary format.
  
! LOCK='-x /var/lock/LCK..$DEV' 			# modern systems
  # LOCK='-x /usr/spool/uucp/LCK..$DEV'		# older systems
  # LOCK='-x /var/lock/LCK..$DEV -x /var/spool/uucp/LCK..$DEV' # both
  # LOCK='-x #/usr/spool/uucp/LCK..$DEV'		# binary format
--- 81,88 ----
  # conventions. Protect with single quotes for delayed evaluation.
  # Add a leading '#' to the file name to use binary format.
  
! LOCK="-x /var/spool/lock/LCK..$DEV"		# OpenBSD cu et al
! # LOCK='-x /var/lock/LCK..$DEV' 		# modern systems
  # LOCK='-x /usr/spool/uucp/LCK..$DEV'		# older systems
  # LOCK='-x /var/lock/LCK..$DEV -x /var/spool/uucp/LCK..$DEV' # both
  # LOCK='-x #/usr/spool/uucp/LCK..$DEV'		# binary format
***************
*** 100,105 ****
--- 101,116 ----
  # ****************************************************************
  # The remaining options probably won't need to be changed.
  # ****************************************************************
+ 
+ # Test what user did
+ case "$NAME" in
+ 	"")	echo "You have not configured $0 to set NAME=\"your name\"."
+ 		exit 1;;
+ esac
+ case "$FROM" in
+ 	"")	echo "You have not configured $0 to set FROM=\"your faxnum\"."
+ 		exit 1;;
+ esac
  
  # Configuration files that are sourced if they exist.  Comment
  # out if you don't need to use config files. Warning: any type of
@


1.2
log
@Fix DISTNAME/PKGNAME. Ensure on-null name/faxnum at run time.
@
text
@d1 74
a74 73
--- fax.orig	Mon Aug 26 03:41:29 1996
+++ fax	Sat Sep 12 19:47:12 1998
@@@@ -22,23 +22,23 @@@@
 # /dev/modem is a link to /dev/cua1, then getty, uucp, kermit,
 # pppd, dip, etc. must *all* use either /dev/modem or /dev/cua1.
 
-DEV=cua1
+DEV=cua01
 
 # The type of fax modem commands to use.  Un-comment one of the
 # following lines depending on your modem.
 
-# CLASS=1
-CLASS=2
+CLASS=1
+# CLASS=2
 # CLASS=2.0
 
 # Your fax number in international format, 20 characters maximum.
 # Use only digits, spaces, and the "+" character.
 
-FROM="+1 800 555 5555"
+FROM=""
 
 # Your name as it should appear on the page header.
 
-NAME="Put Your Name Here"
+NAME=""
 
 # The preferred page size for creating and printing faxes.
 # Allowed values are "letter", "legal", and "a4".
@@@@ -50,8 +50,8 @@@@
 # The type of printer. Use 'pcl' for HP-PCL or 'ps' for
 # Postscript.  See definition of PRINT (below) for more options.
 
-PRTYPE=pcl				# HP-PCL (e.g. HP LaserJet) 
-# PRTYPE=ps				# Postscript (e.g. Apple LaserWriter)
+# PRTYPE=pcl				# HP-PCL (e.g. HP LaserJet) 
+PRTYPE=ps				# Postscript (e.g. Apple LaserWriter)
 
 # The command to print image files from standard input.  Typically
 # this is "lpr" or "lp".
@@@@ -82,11 +82,12 @@@@
 # conventions. Protect with single quotes for delayed evaluation.
 # Add a leading '#' to the file name to use HDB (ASCII) format.
 
-LOCK='-x /usr/spool/uucp/LCK..$DEV'		# "normal" systems
+# LOCK='-x /usr/spool/uucp/LCK..$DEV'		# "normal" systems
 # LOCK=''					# no lock file
 # LOCK='-x /usr/spool/locks/LK.047.040.011'	# SysV style names
 # LOCK='-x #/usr/spool/uucp/LCK..$DEV'		# HDB format (ASCII pid)
 # LOCK='-x /usr/spool/uucp/LCK/LCK..$DEV'	# NeXT
+LOCK="-x /var/spool/lock/LCK..$DEV"		# OpenBSD cu et al
 
 # Uncomment one of the following lines to force xon/xoff flow
 # control if you have one of the types of modems listed.  
@@@@ -99,6 +100,16 @@@@
 # ****************************************************************
 # The remaining options probably won't need to be changed.
 # ****************************************************************
+
+# Test what user did
+case "$NAME" in
+	"")	echo "You have not configured $0 to set NAME=\"your name\"."
+		exit 1;;
+esac
+case "$FROM" in
+	"")	echo "You have not configured $0 to set FROM=\"your faxnum\"."
+		exit 1;;
+esac
 
 # Configuration files that are sourced if they exist.  Comment
 # out if you don't need to use config files. Warning: any type of
@


1.1
log
@Initial checkin of EFax, a simpler FAX package good for single-user unices.
@
text
@d1 73
a73 76
*** fax.orig	Mon Aug 26 03:41:29 1996
--- fax	Sat Sep  5 14:46:00 1998
***************
*** 22,34 ****
  # /dev/modem is a link to /dev/cua1, then getty, uucp, kermit,
  # pppd, dip, etc. must *all* use either /dev/modem or /dev/cua1.
  
! DEV=cua1
  
  # The type of fax modem commands to use.  Un-comment one of the
  # following lines depending on your modem.
  
! # CLASS=1
! CLASS=2
  # CLASS=2.0
  
  # Your fax number in international format, 20 characters maximum.
--- 22,34 ----
  # /dev/modem is a link to /dev/cua1, then getty, uucp, kermit,
  # pppd, dip, etc. must *all* use either /dev/modem or /dev/cua1.
  
! DEV=cua01
  
  # The type of fax modem commands to use.  Un-comment one of the
  # following lines depending on your modem.
  
! CLASS=1
! # CLASS=2
  # CLASS=2.0
  
  # Your fax number in international format, 20 characters maximum.
***************
*** 50,57 ****
  # The type of printer. Use 'pcl' for HP-PCL or 'ps' for
  # Postscript.  See definition of PRINT (below) for more options.
  
! PRTYPE=pcl				# HP-PCL (e.g. HP LaserJet) 
! # PRTYPE=ps				# Postscript (e.g. Apple LaserWriter)
  
  # The command to print image files from standard input.  Typically
  # this is "lpr" or "lp".
--- 50,57 ----
  # The type of printer. Use 'pcl' for HP-PCL or 'ps' for
  # Postscript.  See definition of PRINT (below) for more options.
  
! # PRTYPE=pcl				# HP-PCL (e.g. HP LaserJet) 
! PRTYPE=ps				# Postscript (e.g. Apple LaserWriter)
  
  # The command to print image files from standard input.  Typically
  # this is "lpr" or "lp".
***************
*** 82,92 ****
  # conventions. Protect with single quotes for delayed evaluation.
  # Add a leading '#' to the file name to use HDB (ASCII) format.
  
! LOCK='-x /usr/spool/uucp/LCK..$DEV'		# "normal" systems
  # LOCK=''					# no lock file
  # LOCK='-x /usr/spool/locks/LK.047.040.011'	# SysV style names
  # LOCK='-x #/usr/spool/uucp/LCK..$DEV'		# HDB format (ASCII pid)
  # LOCK='-x /usr/spool/uucp/LCK/LCK..$DEV'	# NeXT
  
  # Uncomment one of the following lines to force xon/xoff flow
  # control if you have one of the types of modems listed.  
--- 82,93 ----
  # conventions. Protect with single quotes for delayed evaluation.
  # Add a leading '#' to the file name to use HDB (ASCII) format.
  
! # LOCK='-x /usr/spool/uucp/LCK..$DEV'		# "normal" systems
  # LOCK=''					# no lock file
  # LOCK='-x /usr/spool/locks/LK.047.040.011'	# SysV style names
  # LOCK='-x #/usr/spool/uucp/LCK..$DEV'		# HDB format (ASCII pid)
  # LOCK='-x /usr/spool/uucp/LCK/LCK..$DEV'	# NeXT
+ LOCK="-x /var/spool/lock/LCK..$DEV"		# OpenBSD cu et al
  
  # Uncomment one of the following lines to force xon/xoff flow
  # control if you have one of the types of modems listed.  
@

