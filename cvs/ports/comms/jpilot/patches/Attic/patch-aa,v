head	1.2;
access;
symbols
	OPENBSD_2_8:1.1.1.1.0.4
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.2
	OPENBSD_2_7_BASE:1.1.1.1
	dugsong_1999-Jan-05:1.1.1.1
	dugsong:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2001.02.23.16.17.14;	author ho;	state dead;
branches;
next	1.1;

1.1
date	2000.01.05.23.39.45;	author dugsong;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.01.05.23.39.45;	author dugsong;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to v0.99
@
text
@--- configure.in.orig	Tue Nov  2 00:01:45 1999
+++ configure.in	Fri Dec 31 03:19:55 1999
@@@@ -60,7 +60,7 @@@@
 
 for pilot_libs in $pilot_prefix/lib /usr/lib /usr/local/lib/ \
   /usr/extra/pilot/lib ; do
-   if test -r "$pilot_libs/libpisock.so" ; then
+   if test -r $pilot_libs/libpisock.so* >/dev/null 2>&1 ; then
       pilotlibs=yes
       PILOT_LIBS="-L$pilot_libs $PILOT_LIBS"
       break
@@@@ -114,15 +114,17 @@@@
 
 if test "x$enable_plugins" = "xyes"; then
    dnl Check for shared library calls
-   AC_MSG_CHECKING(for dlopen)
-   save_LIBS="$LIBS"
-   LIBS="$LIBS -ldl"
-   AC_TRY_LINK([#include <dlfcn.h>], [dlopen("huh",0);] , have_dlopen=yes, , )
-   LIBS="$save_LIBS"
-
+   AC_CHECK_FUNCS(dlopen)
+   if test "x$ac_cv_func_dlopen" = "xyes"; then
+      have_dlopen=yes
+   else
+      for lib in dl; do
+         AC_CHECK_LIB($lib, dlopen, [LIBS="$LIBS -ldl";
+	   have_dlopen=yes; break])
+      done
+   fi
    if test "x$have_dlopen" = "xyes"; then
       AC_DEFINE(ENABLE_PLUGINS)
-      AC_MSG_RESULT(ok, plugin support enabled)
    else
       AC_MSG_RESULT(Could not find dlopen - not using plugin support)
    fi
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@new jpilot port - Palm desktop application. from evan.cordes@@UMICH.EDU
@
text
@@
