head	1.3;
access;
symbols
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	pvalchev_2001-May-28:1.1.1.1
	pvalchev:1.1.1
	OPENBSD_2_9:1.1.0.2
	OPENBSD_2_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2002.02.18.23.17.57;	author pvalchev;	state dead;
branches;
next	1.2;

1.2
date	2001.05.29.01.00.47;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2001.02.23.16.17.14;	author ho;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.05.29.00.54.43;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to jpilot-0.99.2
Thanks to the author who accepted most patches in this release.
@
text
@--- configure.in.orig	Tue Feb  6 12:26:38 2001
+++ configure.in	Sun May 27 17:15:16 2001
@@@@ -109,7 +109,7 @@@@ PILOT_LIBS="-lpisock"
 if test $pilotlibs = no ; then
 for pilot_libs in $pilot_prefix/lib /usr/lib /usr/local/lib/ \
   /usr/extra/pilot/lib ; do
-   if test -r "$pilot_libs/libpisock.so" ; then
+   if test -r $pilot_libs/libpisock.so* >/dev/null 2>&1 ; then
       pilotlibs=yes
       PILOT_LIBS="-L$pilot_libs $PILOT_LIBS"
       break
@@@@ -174,15 +174,17 @@@@ AC_ARG_ENABLE(plugins, [  --disable-plug
 
 if test "x$enable_plugins" = "xyes"; then
    dnl Check for shared library calls
-   AC_MSG_CHECKING(for dlopen)
-   save_LIBS="$LIBS"
-   LIBS="$LIBS -ldl"
-   AC_TRY_LINK([#include <dlfcn.h>], [dlopen("huh",0);] , have_dlopen=yes, , )
-   LIBS="$save_LIBS"
-
+   AC_CHECK_FUNCS(dlopen)
+   if test "x$ac_cv_func_dlopen" = "xyes"; then
+      have_dlopen=yes
+   else
+      for lib in dl; do
+         AC_CHECK_LIB($lib, dlopen, [LIBS="$LIBS -ldl";
+	   have_dlopen=yes; break])
+      done
+   fi
    if test "x$have_dlopen" = "xyes"; then
       AC_DEFINE(ENABLE_PLUGINS)
-      AC_MSG_RESULT(ok, plugin support enabled)
    else
       AC_MSG_RESULT(Could not find dlopen - not using plugin support)
    fi
@@@@ -232,5 +234,7 @@@@ fi
 
 AC_OUTPUT([Makefile intl/Makefile po/Makefile.in],
 [sed -e "/POTFILES =/r po/POTFILES" po/Makefile.in > po/Makefile])
+AC_OUTPUT_SUBDIRS(SyncTime)
+AC_OUTPUT_SUBDIRS(Expense)
 
 dnl AC_OUTPUT(Makefile)
@


1.2
log
@Take over port maintainership, ho@@ agreed.

o Fix dynamic loading - prefix an underscore in symbol names for our a.out
platforms in order for dlsym() to work, hence plugins can be loaded.
o Build Expense plugin.
o Build synctime plugin.
o Install more documentation, rearrage Makefile, bump package name.
@
text
@@


1.1
log
@Update to v0.99
@
text
@d1 4
a4 4
--- configure.in.orig	Tue Nov  2 00:01:45 1999
+++ configure.in	Fri Dec 31 03:19:55 1999
@@@@ -60,7 +60,7 @@@@
 
d12 1
a12 1
@@@@ -114,15 +114,17 @@@@
d37 8
@


1.1.1.1
log
@o Fix dynamic loading - prefix an underscore in symbol names for our a.out
platforms in order for dlsym() to work, hence plugins can be loaded.
o Build Expense plugin.
o Build synctime plugin.
o Put in libtool patches.
@
text
@d1 4
a4 4
--- configure.in.orig	Tue Feb  6 12:26:38 2001
+++ configure.in	Sun May 27 17:15:16 2001
@@@@ -109,7 +109,7 @@@@ PILOT_LIBS="-lpisock"
 if test $pilotlibs = no ; then
d12 1
a12 1
@@@@ -174,15 +174,17 @@@@ AC_ARG_ENABLE(plugins, [  --disable-plug
a36 8
@@@@ -232,5 +234,7 @@@@ fi
 
 AC_OUTPUT([Makefile intl/Makefile po/Makefile.in],
 [sed -e "/POTFILES =/r po/POTFILES" po/Makefile.in > po/Makefile])
+AC_OUTPUT_SUBDIRS(SyncTime)
+AC_OUTPUT_SUBDIRS(Expense)
 
 dnl AC_OUTPUT(Makefile)
@

