head	1.71;
access;
symbols
	OPENBSD_6_1:1.71.0.4
	OPENBSD_6_1_BASE:1.71
	OPENBSD_6_0:1.71.0.2
	OPENBSD_6_0_BASE:1.71
	OPENBSD_5_9:1.69.0.2
	OPENBSD_5_9_BASE:1.69
	OPENBSD_5_8:1.67.0.6
	OPENBSD_5_8_BASE:1.67
	OPENBSD_5_7:1.67.0.2
	OPENBSD_5_7_BASE:1.67
	OPENBSD_5_6:1.66.0.4
	OPENBSD_5_6_BASE:1.66
	OPENBSD_5_5:1.66.0.2
	OPENBSD_5_5_BASE:1.66
	OPENBSD_5_4:1.65.0.2
	OPENBSD_5_4_BASE:1.65
	OPENBSD_5_3:1.63.0.2
	OPENBSD_5_3_BASE:1.63
	OPENBSD_5_2:1.62.0.4
	OPENBSD_5_2_BASE:1.62
	OPENBSD_5_1_BASE:1.62
	OPENBSD_5_1:1.62.0.2
	OPENBSD_5_0:1.60.0.4
	OPENBSD_5_0_BASE:1.60
	OPENBSD_4_9:1.60.0.2
	OPENBSD_4_9_BASE:1.60
	OPENBSD_4_8:1.54.0.2
	OPENBSD_4_8_BASE:1.54
	OPENBSD_4_7:1.53.0.2
	OPENBSD_4_7_BASE:1.53
	OPENBSD_4_6:1.51.0.4
	OPENBSD_4_6_BASE:1.51
	OPENBSD_4_5:1.51.0.2
	OPENBSD_4_5_BASE:1.51
	OPENBSD_4_4:1.48.0.2
	OPENBSD_4_4_BASE:1.48
	OPENBSD_4_3:1.47.0.2
	OPENBSD_4_3_BASE:1.47
	OPENBSD_4_2:1.44.0.2
	OPENBSD_4_2_BASE:1.44
	OPENBSD_4_1:1.41.0.2
	OPENBSD_4_1_BASE:1.41
	OPENBSD_4_0:1.35.0.2
	OPENBSD_4_0_BASE:1.35
	OPENBSD_3_9:1.33.0.2
	OPENBSD_3_9_BASE:1.33
	OPENBSD_3_8:1.29.0.2
	OPENBSD_3_8_BASE:1.29
	OPENBSD_3_7:1.28.0.2
	OPENBSD_3_7_BASE:1.28
	OPENBSD_3_6:1.24.0.2
	OPENBSD_3_6_BASE:1.24
	OPENBSD_3_5:1.23.0.6
	OPENBSD_3_5_BASE:1.23
	OPENBSD_3_4:1.23.0.4
	OPENBSD_3_4_BASE:1.23
	OPENBSD_3_3:1.23.0.2
	OPENBSD_3_3_BASE:1.23
	OPENBSD_3_2:1.21.0.4
	OPENBSD_3_2_BASE:1.21
	OPENBSD_3_1:1.21.0.2
	OPENBSD_3_1_BASE:1.21
	OPENBSD_3_0:1.17.0.2
	OPENBSD_3_0_BASE:1.17
	OPENBSD_2_9_TRACKING_SWITCH:1.16
	OPENBSD_2_9:1.11.0.2
	OPENBSD_2_9_BASE:1.11
	OPENBSD_2_8:1.9.0.2
	OPENBSD_2_8_BASE:1.9
	OPENBSD_2_7:1.7.0.2
	OPENBSD_2_7_BASE:1.7
	dugsong_1999-Jan-05:1.1.1.1
	dugsong:1.1.1;
locks; strict;
comment	@# @;


1.71
date	2016.03.18.23.12.15;	author naddy;	state Exp;
branches;
next	1.70;
commitid	KZAl4KEiw6a3Jixw;

1.70
date	2016.03.11.20.28.22;	author naddy;	state Exp;
branches;
next	1.69;
commitid	UYLP8TE6V7RS2GhJ;

1.69
date	2015.09.21.08.46.50;	author ajacoutot;	state Exp;
branches;
next	1.68;
commitid	qxAynPFk39itTkXT;

1.68
date	2015.09.19.22.20.15;	author ajacoutot;	state dead;
branches;
next	1.67;
commitid	4VSH8h5Ip5awoZqQ;

1.67
date	2014.10.31.18.30.10;	author ajacoutot;	state Exp;
branches;
next	1.66;
commitid	dcPMcx58i9oznfAH;

1.66
date	2013.10.11.23.48.11;	author naddy;	state Exp;
branches;
next	1.65;

1.65
date	2013.03.21.08.45.13;	author ajacoutot;	state Exp;
branches;
next	1.64;

1.64
date	2013.03.11.01.30.26;	author espie;	state Exp;
branches;
next	1.63;

1.63
date	2012.09.04.07.35.52;	author ajacoutot;	state Exp;
branches;
next	1.62;

1.62
date	2011.11.04.08.21.59;	author jasper;	state Exp;
branches;
next	1.61;

1.61
date	2011.09.16.08.48.02;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2011.01.03.11.11.43;	author ajacoutot;	state Exp;
branches;
next	1.59;

1.59
date	2010.11.15.00.22.50;	author espie;	state Exp;
branches;
next	1.58;

1.58
date	2010.10.24.21.05.57;	author ajacoutot;	state Exp;
branches;
next	1.57;

1.57
date	2010.10.18.16.57.48;	author espie;	state Exp;
branches;
next	1.56;

1.56
date	2010.10.11.08.11.50;	author jasper;	state Exp;
branches;
next	1.55;

1.55
date	2010.09.03.14.39.07;	author sthen;	state Exp;
branches;
next	1.54;

1.54
date	2010.03.25.10.39.38;	author giovanni;	state Exp;
branches;
next	1.53;

1.53
date	2009.12.21.18.11.02;	author ajacoutot;	state Exp;
branches;
next	1.52;

1.52
date	2009.08.10.06.30.30;	author kili;	state Exp;
branches;
next	1.51;

1.51
date	2009.02.16.00.19.22;	author ajacoutot;	state Exp;
branches;
next	1.50;

1.50
date	2008.12.16.08.06.14;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2008.10.12.14.45.58;	author ajacoutot;	state Exp;
branches;
next	1.48;

1.48
date	2008.06.01.15.27.46;	author ajacoutot;	state Exp;
branches;
next	1.47;

1.47
date	2008.01.04.17.48.33;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2007.12.28.14.23.59;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2007.10.27.13.36.40;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2007.07.13.08.54.26;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2007.05.07.14.11.00;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2007.04.13.14.50.06;	author sturm;	state Exp;
branches;
next	1.41;

1.41
date	2007.02.11.00.56.57;	author steven;	state Exp;
branches;
next	1.40;

1.40
date	2007.01.02.18.27.18;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2006.12.31.10.47.39;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2006.12.16.12.22.33;	author espie;	state Exp;
branches;
next	1.37;

1.37
date	2006.10.20.11.49.42;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2006.09.18.11.40.07;	author espie;	state Exp;
branches;
next	1.35;

1.35
date	2006.08.01.22.19.46;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2006.06.13.07.38.01;	author bernd;	state Exp;
branches;
next	1.33;

1.33
date	2006.01.16.12.45.37;	author steven;	state Exp;
branches;
next	1.32;

1.32
date	2005.12.04.22.19.24;	author steven;	state Exp;
branches;
next	1.31;

1.31
date	2005.11.15.12.59.22;	author wilfried;	state Exp;
branches;
next	1.30;

1.30
date	2005.10.31.21.08.14;	author naddy;	state Exp;
branches;
next	1.29;

1.29
date	2005.07.11.19.38.04;	author alek;	state Exp;
branches;
next	1.28;

1.28
date	2005.01.23.19.21.43;	author pvalchev;	state Exp;
branches;
next	1.27;

1.27
date	2005.01.23.06.06.01;	author pvalchev;	state Exp;
branches;
next	1.26;

1.26
date	2005.01.06.11.08.58;	author alek;	state Exp;
branches;
next	1.25;

1.25
date	2004.11.21.22.29.50;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2004.08.10.08.12.09;	author xsa;	state Exp;
branches;
next	1.23;

1.23
date	2003.03.03.03.01.58;	author fgsch;	state Exp;
branches;
next	1.22;

1.22
date	2002.10.25.11.34.24;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2002.02.18.23.41.43;	author pvalchev;	state Exp;
branches;
next	1.20;

1.20
date	2002.02.18.23.17.56;	author pvalchev;	state Exp;
branches;
next	1.19;

1.19
date	2001.11.01.08.27.14;	author wilfried;	state Exp;
branches;
next	1.18;

1.18
date	2001.10.24.12.10.24;	author espie;	state Exp;
branches;
next	1.17;

1.17
date	2001.09.23.06.34.16;	author pvalchev;	state Exp;
branches;
next	1.16;

1.16
date	2001.06.03.17.45.00;	author pvalchev;	state Exp;
branches;
next	1.15;

1.15
date	2001.06.02.23.41.45;	author pvalchev;	state Exp;
branches;
next	1.14;

1.14
date	2001.05.29.01.14.21;	author pvalchev;	state Exp;
branches;
next	1.13;

1.13
date	2001.05.29.01.00.45;	author pvalchev;	state Exp;
branches;
next	1.12;

1.12
date	2001.05.05.22.39.51;	author jakob;	state Exp;
branches;
next	1.11;

1.11
date	2001.03.22.22.06.36;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2001.02.23.16.17.13;	author ho;	state Exp;
branches;
next	1.9;

1.9
date	2000.10.22.14.02.59;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2000.09.10.12.58.56;	author jakob;	state Exp;
branches;
next	1.7;

1.7
date	2000.04.08.10.42.17;	author ho;	state Exp;
branches;
next	1.6;

1.6
date	2000.03.24.23.28.03;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2000.03.14.00.24.55;	author turan;	state Exp;
branches;
next	1.4;

1.4
date	2000.03.05.18.30.23;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2000.02.11.01.10.00;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2000.01.05.23.42.20;	author dugsong;	state Exp;
branches;
next	1.1;

1.1
date	2000.01.05.23.39.45;	author dugsong;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2000.01.05.23.39.45;	author dugsong;	state Exp;
branches;
next	;


desc
@@


1.71
log
@remove SHARED_ONLY from ports that only use modules that neither set nor
read this variable
@
text
@# $OpenBSD: Makefile,v 1.70 2016/03/11 20:28:22 naddy Exp $

COMMENT=	desktop organizer software for the palm pilot

DISTNAME=	jpilot-1.8.2
CATEGORIES=	comms

HOMEPAGE=	http://www.jpilot.org/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 c cairo expat ffi fontconfig
WANTLIB += freetype gcrypt gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0
WANTLIB += glib-2.0 gmodule-2.0 gobject-2.0 gpg-error graphite2
WANTLIB += gthread-2.0 gtk-x11-2.0 harfbuzz m pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pisock pixman-1 png pthread pthread-stubs
WANTLIB += xcb xcb-render xcb-shm z

MASTER_SITES=	http://www.jpilot.org/

LIB_DEPENDS=	comms/pilot-link \
		security/libgcrypt \
		x11/gtk+2

RUN_DEPENDS=	devel/desktop-file-utils

MODULES=	devel/gettext \
		textproc/intltool

USE_GMAKE=	Yes

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
CONFIGURE_ARGS=	--with-pilot-prefix=${LOCALBASE}

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/pixmaps
	${INSTALL_DATA} ${WRKSRC}/jpilot.xpm ${PREFIX}/share/pixmaps
	rm ${PREFIX}/lib/jpilot/plugins/*.{a,la}

.include <bsd.port.mk>
@


1.70
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.69 2015/09/21 08:46:50 ajacoutot Exp $

SHARED_ONLY=	Yes
@


1.69
log
@Revert removal of pilot-link and jpilot; we still have one user of these...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2014/10/31 18:30:10 ajacoutot Exp $
d39 1
a39 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--with-pilot-prefix=${LOCALBASE}
@


1.68
log
@Remove jpilot; it's 2015...
@
text
@@


1.67
log
@Update to jpilot-1.8.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2013/10/11 23:48:11 naddy Exp $
@


1.66
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.65 2013/03/21 08:45:13 ajacoutot Exp $
d7 1
a7 2
DISTNAME=	jpilot-1.8.0
REVISION=	4
a9 2
MASTER_SITES=	${HOMEPAGE}

d15 9
a23 7
WANTLIB += X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes
WANTLIB += Xi Xinerama Xrandr Xrender atk-1.0 c cairo expat fontconfig
WANTLIB += freetype gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gpg-error m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre
WANTLIB += pixman-1 png pthread pthread-stubs xcb z pisock>=11
WANTLIB += gcrypt>=14 gtk-x11-2.0 gdk-x11-2.0 gdk_pixbuf-2.0
WANTLIB += GL Xxf86vm drm ffi gthread-2.0 stdc++ xcb-render xcb-shm
d28 1
d38 1
a38 1
		LDFLAGS="-L${LOCALBASE}/lib -pthread"
d40 1
a40 4
		--with-pilot-prefix=${LOCALBASE} \
		--with-gtk-prefix=${LOCALBASE}

MAKE_FLAGS=	mkdir_p='mkdir -p'
d45 1
@


1.65
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2013/03/11 01:30:26 espie Exp $
a32 1
USE_GROFF =	Yes
@


1.64
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2012/09/04 07:35:52 ajacoutot Exp $
a31 1
USE_LIBTOOL=	Yes
@


1.63
log
@No more palm in CATEGORIES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2011/11/04 08:21:59 jasper Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.62
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2011/09/16 08:48:02 espie Exp $
d6 2
a7 2
REVISION=	3
CATEGORIES=	comms palm
@


1.61
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2011/01/03 11:11:43 ajacoutot Exp $
d6 1
a6 1
REVISION=	2
d25 1
@


1.60
log
@Remove myself from MAINTAINER.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2010/11/15 00:22:50 espie Exp $
d6 1
a6 1
REVISION=	1
@


1.59
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2010/10/24 21:05:57 ajacoutot Exp $
d6 1
a6 1
REVISION=	0
a11 2

MAINTAINER=	Antoine Jacoutot <ajacoutot@@openbsd.org>
@


1.58
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2010/10/18 16:57:48 espie Exp $
d25 2
a26 2
WANTLIB += pixman-1 png pthread pthread-stubs xcb z pisock.>=11
WANTLIB += gcrypt.>=14 gtk-x11-2.0 gdk-x11-2.0 gdk_pixbuf-2.0
d28 4
a31 4
LIB_DEPENDS=	::comms/pilot-link \
		::security/libgcrypt \
		::x11/gtk+2
RUN_DEPENDS=	:desktop-file-utils-*:devel/desktop-file-utils
@


1.57
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/10/11 08:11:50 jasper Exp $
a36 1
USE_X11=	Yes
@


1.56
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/09/03 14:39:07 sthen Exp $
d39 1
@


1.55
log
@new lib_depends/revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/03/25 10:39:38 giovanni Exp $
d6 1
d9 1
a9 1
MASTER_SITES=	${HOMEPAGE}/
d23 1
a23 1
WANTLIB += freetype gio-2.0 glib-2.0 glitz gmodule-2.0 gobject-2.0
@


1.54
log
@
Update to 1.8.0
ok ajacoutot@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2009/12/21 18:11:02 ajacoutot Exp $
d24 2
a25 1
WANTLIB += pixman-1 png pthread pthread-stubs xcb z
d27 3
a29 3
LIB_DEPENDS=	pisock.>=11::comms/pilot-link \
		gcrypt.>=14::security/libgcrypt \
		gtk-x11-2.0,gdk-x11-2.0,gdk_pixbuf-2.0::x11/gtk+2
@


1.53
log
@Use @@unexec-delete instead of @@unexec for the *-update-* goos.

prodded by espie@@
discussed with espie@@ sthen@@ landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2009/08/10 06:30:30 kili Exp $
d5 1
a5 2
DISTNAME=	jpilot-1.6.2
PKGNAME=	${DISTNAME}p1
d26 1
a26 1
LIB_DEPENDS=	pisock.>=9::comms/pilot-link \
@


1.52
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/02/16 00:19:22 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.51
log
@- bugfix (#1973) update to jpilot-1.6.2
- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2008/12/16 08:06:14 ajacoutot Exp $
d6 1
d25 1
a25 1
WANTLIB += pixman-1 png pthread z
@


1.50
log
@- update to jpilot-1.6.1

Improved internationalization support.
Added newer category syncronization code.
Added libgcrypt support.
Many many bug other fixes and small changes.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2008/10/12 14:45:58 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	jpilot-1.6.1
d20 5
a24 5
WANTLIB=	X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
		Xi Xinerama Xrandr Xrender atk-1.0 c cairo gpg-error \
		expat fontconfig freetype glib-2.0 glitz gmodule-2.0 \
		gobject-2.0 m pango-1.0 pangocairo-1.0 pangoft2-1.0 \
		pcre pixman-1 png pthread z
@


1.49
log
@- add icon mentioned in the .desktop file so that it appears nicely in xdg
menus
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2008/06/01 15:27:46 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	jpilot-1.6.0
PKGNAME=	${DISTNAME}p0
d21 1
a21 1
		Xi Xinerama Xrandr Xrender atk-1.0 c cairo crypto \
d27 2
a28 1
		gtk-x11-2.0.>=400.13,gdk-x11-2.0.>=400.13,gdk_pixbuf-2.0.>=400.13::x11/gtk+2
@


1.48
log
@- update jpilot-1.6.0
  * support for MemosDB-PMem and ContactsDB-PAdd
  * added sortable columns in KeyRing
  * many bug fixes and small changes
- rework DESCR
- use textproc/intltool MODULE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2008/01/04 17:48:33 espie Exp $
d6 1
d9 1
a9 1
MASTER_SITES=	${HOMEPAGE}
d46 4
@


1.47
log
@tweak FAKE_FLAGS semantics to saner defaults.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2007/12/28 14:23:59 espie Exp $
d5 1
a5 2
DISTNAME=	jpilot-0.99.9
PKGNAME=	${DISTNAME}p6
d24 1
a24 1
		pcre png pthread z
d30 2
a31 1
MODULES=	devel/gettext
d33 10
a42 2
USE_LIBTOOL=		yes
USE_X11=		yes
d44 1
a44 15
CONFIGURE_STYLE= 	gnu
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib -pthread"
CONFIGURE_ARGS+=	${CONFIGURE_SHARED} \
			--with-pilot-prefix=${LOCALBASE} \
			--with-gtk-prefix=${LOCALBASE}

MAN1=	jpilot-dump.1 jpilot-sync.1 jpilot.1

MAKE_FLAGS = mkdir_p='mkdir -p'

pre-build:
.for i in ${MAN1}
	perl -pi -e "s,/usr/share,${LOCALBASE}/share,g" ${WRKSRC}/docs/${i}
.endfor
@


1.46
log
@fix parallel build (as known as the automake FUCK UP bug).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2007/10/27 13:36:40 ajacoutot Exp $
a45 1
FAKE_FLAGS = ${MAKE_FLAGS} DESTDIR=${WRKINST}
@


1.45
log
@- fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2007/07/13 08:54:26 ajacoutot Exp $
d44 3
@


1.44
log
@- make use of desktop-file-utils
- remove quotes around COMMENT while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2007/05/07 14:11:00 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p5
d21 5
a25 4
WANTLIB=	X11 Xau Xcursor Xdmcp Xext Xfixes Xi Xinerama Xrandr \
		Xrender atk-1.0 c cairo crypto expat fontconfig \
		freetype glib-2.0 glitz gmodule-2.0 gobject-2.0 m \
		pango-1.0 pangocairo-1.0 pangoft2-1.0 png pthread z
@


1.43
log
@- fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2007/04/13 14:50:06 sturm Exp $
d3 1
a3 1
COMMENT=	"desktop organizer software for the palm pilot"
d6 1
a6 1
PKGNAME=	${DISTNAME}p4
d28 1
@


1.42
log
@WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2007/02/11 00:56:57 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p3
d21 4
a24 5
WANTLIB=	c crypto m X11 Xau Xdmcp Xrender fontconfig freetype png.>=5 \
		atk-1.0.>=800.0 gdk_pixbuf-2.0.>=400.14 cairo glitz z \
		glib-2.0.>=400.8 gmodule-2.0.>=400.8 pangocairo-1.0 \
		gobject-2.0.>=400.8 pango-1.0.>=600.0 \
		pangoft2-1.0.>=600.0 pthread expat
@


1.41
log
@WANTLIB fixes, mostly needed by recent cairo update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2007/01/02 18:27:18 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d21 1
a21 1
WANTLIB=	c crypto m ICE SM X11 Xext Xrender fontconfig freetype png.>=5 \
d25 1
a25 1
		pangoft2-1.0.>=600.0 pthread
@


1.40
log
@- make jpilot compile again after pilot-link update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2006/12/31 10:47:39 ajacoutot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d21 1
a21 1
WANTLIB=	c crypto m X11 Xext Xrender fontconfig freetype png.>=5 \
@


1.39
log
@- fix a bug where jpilot didn't print the last page when ghostscript was
used ; corrected upstream
patch by David Fries <david at fries dot net> via todd@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2006/12/16 12:22:33 espie Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
d25 1
a25 1
		pangoft2-1.0.>=600.0
d37 1
a37 1
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.38
log
@say goodbye to GNU land.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2006/10/20 11:49:42 ajacoutot Exp $
d6 1
@


1.37
log
@Update to jpilot-0.99.9.

ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2006/09/18 11:40:07 espie Exp $
a25 1
BUILD_DEPENDS=	:pkgconfig-*:devel/pkgconfig
@


1.36
log
@remove `empty' version spec (.0.0) which is no longer needed to desambiguate
library names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2006/08/01 22:19:46 espie Exp $
d5 1
a5 2
DISTNAME=	jpilot-0.99.8
PKGNAME=	${DISTNAME}p3
d12 1
a12 1
MAINTAINER=	Antoine Jacoutot <ajacoutot@@lphp.org>
d20 5
a24 5
WANTLIB=	c readline crypto m ncurses X11 Xext \
		Xrender fontconfig freetype atk-1.0.>=800.0 \
		gdk_pixbuf-2.0.>=400.14 glib-2.0.>=400.8 gmodule-2.0.>=400.8 \
		gobject-2.0.>=400.8 pango-1.0.>=600.0 pangoft2-1.0.>=600.0 \
		pangocairo-1.0 cairo glitz png z
d27 1
a27 1
LIB_DEPENDS=	pisock.>=8::comms/pilot-link \
a38 1
			--enable-gtk2 \
d42 1
a42 1
MAN1=	jpilot-dump.1 jpilot-sync.1 jpilot-upgrade-99.1 jpilot.1
@


1.35
log
@more new libspecs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2006/06/13 07:38:01 bernd Exp $
d25 1
a25 1
		pangocairo-1.0.0.0 cairo glitz png z
@


1.34
log
@Fix a startup crash triggered by the new gtk+2 stuff.
Diff from jpilot CVS.

Problem reported by Konrad Foerstner, thanks!

Fix WANTLIB after gtk+2 update while I'm here.

ok Antoine Jacoutot (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2006/01/16 12:45:37 steven Exp $
d22 3
a24 3
		Xrender fontconfig freetype atk-1.0.800.0 \
		gdk_pixbuf-2.0.400.14 glib-2.0.400.8 gmodule-2.0.400.8 \
		gobject-2.0.400.8 pango-1.0.600.0 pangoft2-1.0.600.0 \
d28 2
a29 2
LIB_DEPENDS=	pisock.8::comms/pilot-link \
		gtk-x11-2.0.400.13,gdk-x11-2.0.400.13,gdk_pixbuf-2.0.400.13::x11/gtk+2
@


1.33
log
@fix WANTLIB after gtk+2 downgrade
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2005/12/04 22:19:24 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
d21 1
a21 1
WANTLIB=	c readline crypto m ncurses X11 Xext Xft \
d25 1
a25 1
		pangox-1.0.0.0 pangoxft-1.0.0.0
@


1.32
log
@- dist patch: fix unresolved symbol glob_tooltips when using jpilot-sync
- bump PKGNAME
from Antoine Jacoutot (maintainer)
update-plist while here
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2005/11/15 12:59:22 wilfried Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d21 1
a21 1
WANTLIB=	c z readline crypto m ncurses X11 Xext \
d25 1
a25 1
		cairo glitz pangocairo-1.0.0.0 png
@


1.31
log
@fix wantlib + bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2005/10/31 21:08:14 naddy Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
@


1.30
log
@update to 0.99.8; from maintainer Antoine Jacoutot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2005/07/11 19:38:04 alek Exp $
d6 1
d21 2
a22 2
WANTLIB=	c readline crypto m ncurses X11 Xft pangoxft-1.0.600.0 \
		Xrender fontconfig freetype atk-1.0.800.0 pangox-1.0.600.0 \
d24 2
a25 1
		gobject-2.0.400.8 pango-1.0.600.0 pangoft2-1.0.600.0
@


1.29
log
@- Fix WANTLIB marker
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2005/01/23 19:21:43 pvalchev Exp $
d5 1
a5 2
DISTNAME=	jpilot-0.99.7
PKGNAME=	${DISTNAME}p0
a24 3
PATCH_LIST=	${PORTSDIR}/infrastructure/patches/patch-lt1.3.5-ltconfig \
		patch-*

a35 1
			CFLAGS="-I${LOCALBASE}/include" \
a47 2

NO_REGRESS=	Yes
@


1.28
log
@new maintainer Antoine Jacoutot <ajacoutot@@lphp.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2005/01/23 06:06:01 pvalchev Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}
d21 2
a22 2
WANTLIB=	c readline crypto m ncurses X11 Xcursor Xext Xft \
		Xinerama Xrender fontconfig freetype atk-1.0.800.0 \
d24 1
a24 2
		gobject-2.0.400.8 pango-1.0.600.0 pangoft2-1.0.600.0 \
		pangox-1.0.600.0 pangoxft-1.0.600.0
@


1.27
log
@Update to jpilot-0.99.7; mostly Antoine Jacoutot <ajacoutot@@lphp.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2004/11/21 22:29:50 espie Exp $
d13 1
a13 1
MAINTAINER=	Peter Valchev <pvalchev@@openbsd.org>
@


1.26
log
@Add more libs to WANTLIB marker
@
text
@d5 1
a5 1
DISTNAME=	jpilot-0.99.2
d15 1
d20 6
a25 1
WANTLIB=		X11 Xext Xi c crypto glib gmodule m ncurses readline
d30 3
a32 2
LIB_DEPENDS=	pisock.3:pilot-link-*:comms/pilot-link \
		gtk.1.2,gdk.1.2:gtk+-*:x11/gtk+
d36 18
a53 5
USE_X11=	Yes
CONFIGURE_STYLE= gnu
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		CFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"
@


1.25
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2004/08/10 08:12:09 xsa Exp $
d19 1
a19 1
WANTLIB=		X11 Xext Xi c crypto glib gmodule m
@


1.24
log
@
new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2003/03/03 03:01:58 fgsch Exp $
d19 1
@


1.23
log
@don't use gnu dest, instead make this port DESTDIR aware.
this unbust plugins. discussed and ok by pvalchev@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2002/10/25 11:34:24 naddy Exp $
d26 1
a26 1
MODULES=	gettext
@


1.22
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2002/02/18 23:41:43 pvalchev Exp $
d29 1
a29 1
CONFIGURE_STYLE= gnu dest
@


1.21
log
@Update to jpilot-0.99.2
Thanks to the author who accepted most patches in this release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2002/02/18 23:17:56 pvalchev Exp $
a7 1
NEED_VERSION=	1.504
d33 2
@


1.20
log
@Update to jpilot-0.99.2
Thanks to the author who accepted most patches in this release.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/11/01 08:27:14 wilfried Exp $
a30 1
CONFIGURE_ARGS=	${CONFIGURE_SHARED} --enable-static
@


1.19
log
@use in-tree libtool patches, ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/10/24 12:10:24 espie Exp $
d5 2
a6 2
DISTNAME=	jpilot-0.99
PKGNAME=	${DISTNAME}p1
d8 1
a8 1
NEED_VERSION=	1.475
d21 1
a21 2
PATCH_LIST=	${PORTSDIR}/infrastructure/patches/patch-lt1.3.0-ltconfig \
		${PORTSDIR}/infrastructure/patches/patch-lt1.3.0-ltmain_sh \
d27 2
d30 2
a31 1
CONFIGURE_STYLE= autoconf dest
a34 5

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/jpilot
	${INSTALL_DATA} ${WRKSRC}/docs/plugin.html ${PREFIX}/share/doc/jpilot
	${INSTALL_DATA} ${WRKSRC}/docs/manual.html ${PREFIX}/share/doc/jpilot
@


1.18
log
@Complete dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/09/23 06:34:16 pvalchev Exp $
d20 4
@


1.17
log
@fill in pkg-specs for dependencies, bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/06/03 17:45:00 pvalchev Exp $
d8 1
a8 1
NEED_VERSION=	1.460
d22 1
a22 1
		gtk.1.2:gtk+-*:x11/gtk+
@


1.16
log
@- Use outside gettext rather than using the included one.
- Add "dest" to CONFIGURE_STYLE instead of patching prefix.
- Add patches to fix gettext message catalog warnings from naddy@@
- Remove some unnecessary plugin files.
help from naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/06/02 23:41:45 pvalchev Exp $
d8 1
a8 1
NEED_VERSION=	1.406
d21 2
a22 2
LIB_DEPENDS=	pisock.3::comms/pilot-link \
		gtk.1.2::x11/gtk+
@


1.15
log
@add palm to categories
okay naddy@@, espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/05/29 01:14:21 pvalchev Exp $
d24 5
a28 2
USE_X11=		Yes
CONFIGURE_STYLE=	autoconf
@


1.14
log
@Oops, bump PKGNAME, not DISTNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/05/29 01:00:45 pvalchev Exp $
d7 1
a7 1
CATEGORIES=	comms
@


1.13
log
@Take over port maintainership, ho@@ agreed.

o Fix dynamic loading - prefix an underscore in symbol names for our a.out
platforms in order for dlsym() to work, hence plugins can be loaded.
o Build Expense plugin.
o Build synctime plugin.
o Install more documentation, rearrage Makefile, bump package name.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/05/05 22:39:51 jakob Exp $
d5 2
a6 1
DISTNAME=	jpilot-0.99p1
@


1.12
log
@integrate COMMENT & bump NEED_VERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/03/22 22:06:36 brad Exp $
d3 1
a3 1
COMMENT=	"desktop organizer software for the Palm Pilot"
d5 1
a5 1
DISTNAME=	jpilot-0.99
d9 1
a9 1
MASTER_SITES=	http://www.jpilot.org/
d13 1
a13 1
MAINTAINER=	Hakan Olsson <ho@@openbsd.org>
d23 1
a23 1
USE_X11=		yes
d29 1
@


1.11
log
@- mkdir -> ${INSTALL_DATA_DIR}
- kill off FreeBSD-ism (NOPORTDOCS knob)
--
Patch from: Pete Fritchman <petef@@databits.net>
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.10 2001/02/23 16:17:13 ho Exp $
d7 1
a7 1
NEED_VERSION=	1.322
@


1.10
log
@Update to v0.99
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/10/22 14:02:59 espie Exp $
d25 2
a26 2
	mkdir -p ${PREFIX}/share/doc/jpilot
	cp ${WRKSRC}/docs/plugin.html ${PREFIX}/share/doc/jpilot
@


1.9
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/09/10 12:58:56 jakob Exp $
d3 1
a3 1
DISTNAME=	jpilot-0.98.1
d7 1
a7 1
MASTER_SITES=	http://jpilot.linuxave.net/
d9 1
a9 1
HOMEPAGE=	http://jpilot.linuxave.net/
@


1.8
log
@- update to v0.98.1
- fix MASTER_SITE & HOMEPAGE
- cleanup
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/04/08 10:42:17 ho Exp $
d11 1
a11 1
MAINTAINER=	ho@@openbsd.org
@


1.7
log
@Update to version 0.98. Set me as MAINTAINER. 'Fake'.
@
text
@d1 1
a1 7
# New ports collection makefile for:   jpilot
# Version required:    0.96
# Date created:        23 August 1999
# Whom:                Alex Varju <varju@@webct.com>
#
# $OpenBSD: Makefile,v 1.6 2000/03/24 23:28:03 espie Exp $
# $FreeBSD: ports/palm/jpilot/Makefile,v 1.6 1999/11/11 22:40:39 sumikawa Exp $
d3 1
a3 1
DISTNAME=	jpilot-0.98
d5 5
a9 2
NEED_VERSION=	 1.230
MASTER_SITES=	http://jpilot.linuxbox.com/
a17 2
FAKE=		Yes

d21 2
a22 1
USE_AUTOCONF=	yes
@


1.6
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.5 2000/03/14 00:24:55 turan Exp $
d9 1
a9 1
DISTNAME=	jpilot-0.96
d14 1
a14 1
MAINTAINER=	evan.cordes@@UMICH.EDU
d20 2
@


1.5
log
@license
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.4 2000/03/05 18:30:23 espie Exp $
d11 1
a11 1
NEED_VERSION=	1.223
d21 2
a22 2
LIB_DEPENDS=	pisock.3:comms/pilot-link \
		gtk.1.2:x11/gtk+
@


1.4
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.3 2000/02/11 01:10:00 espie Exp $
d15 5
@


1.3
log
@Kill a large set of deprecated variables.
Thoroughly unsubtle, most mkdir -p should probably be INSTALL* at
*install stage, and echo/ECHO_MSG is somewhat unsorted.

It's quite possible I missed a few automated changes...
@
text
@d6 1
a6 1
# $OpenBSD: Makefile,v 1.2 2000/01/05 23:42:20 dugsong Exp $
d11 1
d16 2
a17 2
LIB_DEPENDS=	pisock.3:${PORTSDIR}/comms/pilot-link \
		gtk.1.2:${PORTSDIR}/x11/gtk+
@


1.2
log
@add $OpenBSD$ tag
@
text
@d6 1
a6 1
# $OpenBSD$
d21 2
a22 2
	${MKDIR} ${PREFIX}/share/doc/jpilot
	${CP} ${WRKSRC}/docs/plugin.html ${PREFIX}/share/doc/jpilot
@


1.1
log
@Initial revision
@
text
@d6 1
@


1.1.1.1
log
@new jpilot port - Palm desktop application. from evan.cordes@@UMICH.EDU
@
text
@@
