head	1.3;
access;
symbols
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.6
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.4
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.2.0.2;
locks; strict;
comment	@# @;


1.3
date	2001.10.12.02.49.03;	author brad;	state dead;
branches;
next	1.2;

1.2
date	2000.06.09.16.14.40;	author form;	state Exp;
branches;
next	1.1;

1.1
date	2000.05.18.04.41.32;	author form;	state Exp;
branches;
next	;


desc
@@


1.3
log
@rename patches
@
text
@# $OpenBSD: patch-makefile,v 1.2 2000/06/09 16:14:40 form Exp $

--- Makefile.orig	Tue Apr 25 22:42:32 2000
+++ Makefile	Fri Jun  9 23:08:51 2000
@@@@ -22,10 +22,12 @@@@
 # enochw@@scn.org Oct 99: flags for UWIN 2.0 (Unix for Windows)
 
 # Where to install things for Linux sites (FSSTND)
-BINDIR	= /usr/bin
-LIBDIR	= /etc
-DOCDIR	= /usr/doc/minicom
-MANDIR	= /usr/man/man1
+R	= $(DESTDIR)
+PREFIX ?= /usr/local
+BINDIR	= $(PREFIX)/bin
+LIBDIR	= /etc/minicom
+DOCDIR	= $(PREFIX)/share/doc/minicom
+MANDIR	= $(PREFIX)/man/man1
 
 # fmg 8/22/97: seems a more logical place for this :-)
 # Select Compile Options you want:
@@@@ -40,7 +42,7 @@@@
 # -D_I18N_		- Internationalization and localized text strings
 #			  see file "../doc/Locales"
 #
-OPFLAGS	= -D_HISTORY -D_HAVE_MACROS -D_SEARCH_HISTORY -D_I18N_
+OPFLAGS	= -D_HISTORY -D_HAVE_MACROS -D_SEARCH_HISTORY #-D_I18N_
 
 # Remove if you don't have gettext and don't want to install it and use
 # the localized strings
@@@@ -60,11 +62,11 @@@@
 # MANDIR	= /usr/local/man/man1
 
 # Take these compilation flags for Linux with libncurses.
-FLAGS	= -Wall -D_POSIX -D_SYSV -D_SELECT -pipe # -I/usr/include/ncurses
-PROGS	= minicom runscript ascii-xfr
-LFLAGS	= -s
-LIBS	= -lncurses #-lintl
-CC	= cc
+#FLAGS	= -Wall -D_POSIX -D_SYSV -D_SELECT -pipe # -I/usr/include/ncurses
+#PROGS	= minicom runscript ascii-xfr
+#LFLAGS	= -s
+#LIBS	= -lncurses #-lintl
+#CC	= cc
 
 # Take these compilation flags for FreeBSD.
 #FLAGS	= -Wall -D_POSIX -D_BSD43 -D_SELECT -D_DCDFLOW
@@@@ -73,6 +75,13 @@@@
 #LIBS	= -ltermcap
 #CC	= cc
 
+# Take these compilation flags for OpenBSD.
+FLAGS	= -Wall -D_POSIX -D_BSD43 -D_SELECT -D_DCDFLOW
+PROGS	= minicom runscript ascii-xfr
+LFLAGS	= -s
+LIBS	= -lcurses
+#CC	= cc
+
 # Take these flags for SCO unix.
 #FLAGS	= -D_SYSV -D_SCO -D_POSIX -D_SELECT
 #PROGS	= minicom runscript ascii-xfr
@@@@ -199,7 +208,7 @@@@
 SOBJS	= script.o sysdep1.o common.o
 
 # fmg 8/22/97: merge in new OPFLAGS...
-CFLAGS	= $(FLAGS) $(OPFLAGS) -DLIBDIR=\"$(LIBDIR)\"
+CFLAGS	+= $(FLAGS) $(OPFLAGS) -DLIBDIR=\"$(LIBDIR)\"
 
 R	= $(ROOTDIR)
 
@@@@ -209,7 +218,7 @@@@
 		$(CC) $(LFLAGS) -o minicom $(MOBJS) $(LIBS)
 
 po: dummy
-		$(MAKE) -C po
+		@@cd po; $(MAKE)
 
 keyserv:	$(KOBJS)
 		$(CC) -o keyserv $(LFLAGS) $(KOBJS) $(LIBS)
@@@@ -262,7 +271,7 @@@@
 dummy:
 
 install:	$(PROGS)
-		$(MAKE) -C po install R=$(R)
+		@@cd po; $(MAKE)  install PREFIX=$(PREFIX)
 		sh install.sh $(R)$(LIBDIR) $(R)$(BINDIR) $(R)$(MANDIR) $(R)$(DOCDIR)
 
 install2:	$(PROGS)
@@@@ -270,7 +279,7 @@@@
 
 clobber:
 		rm -f *.o *~ minicom keyserv runscript ascii-xfr
-		$(MAKE) -C po clean
+		@@cd po; $(MAKE) clean
 
 clean:		
 		rm -f *.o
@


1.2
log
@do not use gmake
@
text
@d1 1
a1 1
# $OpenBSD: patch-makefile,v 1.1 2000/05/18 04:41:32 form Exp $
@


1.1
log
@Upgrade to 1.83.0.
Use INSTALL/DEINSTALL.
Fake.
@
text
@d1 1
a1 1
# $OpenBSD$
d3 3
a5 3
--- Makefile.orig	Mon Oct 25 00:30:09 1999
+++ Makefile	Thu May 18 11:00:42 2000
@@@@ -22,10 +22,13 @@@@
a13 1
+GMAKE  ?= gmake
d22 1
a22 1
@@@@ -40,7 +43,7 @@@@
d31 1
a31 1
@@@@ -60,11 +63,11 @@@@
d48 1
a48 1
@@@@ -73,6 +76,13 @@@@
d62 1
a62 1
@@@@ -185,7 +195,7 @@@@
d71 1
a71 1
@@@@ -195,7 +205,7 @@@@
d76 1
a76 1
+		$(GMAKE) -C po
d80 1
a80 1
@@@@ -248,7 +258,7 @@@@
d85 1
a85 1
+		$(GMAKE) -C po install PREFIX=$(PREFIX)
d89 1
a89 1
@@@@ -256,7 +266,7 @@@@
d94 1
a94 1
+		$(GMAKE) -C po clean
@

