head	1.4;
access;
symbols
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.4
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_1:1.1.0.22
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.20
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.18
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.16
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.14
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.12
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.10
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.8
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.6
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.4
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.2
	OPENBSD_3_1_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2012.03.19.22.17.43;	author sthen;	state dead;
branches;
next	1.3;

1.3
date	2011.04.22.11.21.46;	author stsp;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.23.16.40.56;	author ckuethe;	state dead;
branches;
next	1.1;

1.1
date	2002.03.22.05.31.37;	author form;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to minicom 2.5
- rolls in a huge bunch of wprintf patches, also fixes conflict with getline()
- note that the setuid support has been removed from the code
@
text
@$OpenBSD: patch-src_window_c,v 1.3 2011/04/22 11:21:46 stsp Exp $
--- src/window.c.orig	Thu Apr 21 23:48:56 2011
+++ src/window.c	Thu Apr 21 23:49:02 2011
@@@@ -1146,7 +1146,7 @@@@ void wputs(WIN *win, const char *s)
  * Print a formatted string in a window.
  * Should return stringlength - but who cares.
  */
-int wprintf(WIN *win, const char *fmt, ...)
+int mc_wprintf(WIN *win, const char *fmt, ...)
 {
   char buf[160];
   va_list va;
@@@@ -1304,7 +1304,7 @@@@ int wselect(int x, int y, const char *const *choices,
     wtitle(w, TMID, title);
 
   for (c = 0; c < count; c++)
-    wprintf(w, " %s%s", _(choices[c]), c == count - 1 ? "" : "\n");
+    mc_wprintf(w, " %s%s", _(choices[c]), c == count - 1 ? "" : "\n");
 
   wcurbar(w, cur, high_on);
   wredraw(w, 1);
@


1.3
log
@minicom contains a function called wprintf() (print to a window) which
collides with the standard C wprintf() (print a wide character string).
Upstream already realised this was a bad idea and changed the function's
name to mc_wprintf(). Do the same for our port.
ok ajacoutot landry dcoppa
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@As I seem to be the only minicom user, take maintainership.
Update from 2.00.0 to 2.2.
Minicom 2.2 includes improved logging
@
text
@d1 14
a14 4
$OpenBSD: patch-src_window_c,v 1.1 2002/03/22 05:31:37 form Exp $
--- src/window.c.orig	Tue Feb  1 02:12:08 2000
+++ src/window.c	Fri Mar 22 09:03:24 2002
@@@@ -110,7 +110,7 @@@@ extern WIN *us;
d16 6
a21 7
 int useattr = 1;
 int dirflush = 1;
-extern int LINES, COLS;
+int LINES, COLS;
 int usecolor = 0;
 WIN *stdwin;
 char *_tptr = CNULL;
@


1.1
log
@upgrade to 2.00.0
@
text
@d1 1
a1 1
$OpenBSD$
@

