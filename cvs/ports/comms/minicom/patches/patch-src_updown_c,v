head	1.5;
access;
symbols
	OPENBSD_6_0:1.5.0.14
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.10
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.12
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.8
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.6
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.4
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.2
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.4.0.4
	OPENBSD_5_3_BASE:1.4
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.4
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.2.0.16
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.14
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.12
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.10
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.8
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.6
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.4
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.2
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.1.0.22
	OPENBSD_4_1_BASE:1.1
	OPENBSD_4_0:1.1.0.20
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.18
	OPENBSD_3_9_BASE:1.1
	OPENBSD_3_8:1.1.0.16
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.14
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.12
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.10
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.8
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.6
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.4
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.2
	OPENBSD_3_1_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2013.03.27.12.14.28;	author gonzalo;	state Exp;
branches;
next	1.4;

1.4
date	2012.03.19.22.17.43;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2011.04.22.11.21.46;	author stsp;	state Exp;
branches;
next	1.2;

1.2
date	2007.05.23.16.40.56;	author ckuethe;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.22.05.31.37;	author form;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update for minicom to 2.6.2

Maintainer timeout.

Ok sthen@@
@
text
@$OpenBSD: patch-src_updown_c,v 1.4 2012/03/19 22:17:43 sthen Exp $
--- src/updown.c.orig	Thu Jan 10 18:03:13 2013
+++ src/updown.c	Thu Mar  7 11:33:10 2013
@@@@ -47,7 +47,7 @@@@ static int mcd(char *dir)
 {
   char buf[256];
   char err[50];
-  static char odir[256];
+  static char odir[PATH_MAX];
   static int init = 0;
 
   if (!init) {
@@@@ -298,7 +298,7 @@@@ void updown(int what, int nr)
     do_log("%s", cmdline);   /* jl 22.06.97 */
 
   if (P_PFULL(g) == 'N') {
-    win = mc_wopen(10, 7, 70, 13, BSINGLE, stdattr, mfcolor, mbcolor, 1, 0, 1);
+    win = mc_wopen(5, 5, 74, 11, BSINGLE, stdattr, mfcolor, mbcolor, 1, 0, 1);
     snprintf(title, sizeof(title), _("%.30s %s - Press CTRL-C to quit"), P_PNAME(g),
              what == 'U' ? _("upload") : _("download"));
     mc_wtitle(win, TMID, title);
@


1.4
log
@update to minicom 2.5
- rolls in a huge bunch of wprintf patches, also fixes conflict with getline()
- note that the setuid support has been removed from the code
@
text
@d1 4
a4 4
$OpenBSD$
--- src/updown.c.orig	Sun May 30 21:34:00 2010
+++ src/updown.c	Fri Mar 16 22:27:20 2012
@@@@ -45,7 +45,7 @@@@ static int mcd(char *dir)
d13 1
a13 1
@@@@ -294,7 +294,7 @@@@ void updown(int what, int nr)
@


1.3
log
@minicom contains a function called wprintf() (print to a window) which
collides with the standard C wprintf() (print a wide character string).
Upstream already realised this was a bad idea and changed the function's
name to mc_wprintf(). Do the same for our port.
ok ajacoutot landry dcoppa
@
text
@d1 4
a4 4
$OpenBSD: patch-src_updown_c,v 1.2 2007/05/23 16:40:56 ckuethe Exp $
--- src/updown.c.orig	Sun Aug 14 22:39:30 2005
+++ src/updown.c	Thu Apr 21 23:48:31 2011
@@@@ -40,7 +40,7 @@@@ static int mcd(char *dir)
d13 1
a13 1
@@@@ -240,7 +240,7 @@@@ void updown(int what, int nr)
d17 2
a18 2
-    win = wopen(10, 7, 70, 13, BSINGLE, stdattr, mfcolor, mbcolor, 1, 0, 1);
+    win = wopen(5, 5, 74, 11, BSINGLE, stdattr, mfcolor, mbcolor, 1, 0, 1);
d21 1
a21 32
     wtitle(win, TMID, title);
@@@@ -355,7 +355,7 @@@@ void updown(int what, int nr)
   if (win && (status & 0xFF00) == 0) {
 #if VC_MUSIC
     if (P_SOUND[0] == 'Y') {
-      wprintf(win, _("\n READY: press any key to continue..."));
+      mc_wprintf(win, _("\n READY: press any key to continue..."));
       music();
     } else
       sleep(1);
@@@@ -363,7 +363,7 @@@@ void updown(int what, int nr)
     /* MARK updated 02/17/94 - If there was no VC_MUSIC capability, */
     /* then at least make some beeps! */
     if (P_SOUND[0] == 'Y')
-      wprintf(win, "\007\007\007");
+      mc_wprintf(win, "\007\007\007");
     sleep(1);
 #endif
   }
@@@@ -526,9 +526,9 @@@@ void runscript(int ask, const char *s, const char *l, 
     w = wopen(10, 5, 70, 10, BDOUBLE, stdattr, mfcolor, mbcolor, 0, 0, 1);
     wtitle(w, TMID, _("Run a script"));
     wputs(w, "\n");
-    wprintf(w, "%s %s\n", username, scr_user[0] ? msg : "");
-    wprintf(w, "%s %s\n", password, scr_passwd[0] ? msg : "");
-    wprintf(w, "%s %s\n", name_of_script, scr_name);
+    mc_wprintf(w, "%s %s\n", username, scr_user[0] ? msg : "");
+    mc_wprintf(w, "%s %s\n", password, scr_passwd[0] ? msg : "");
+    mc_wprintf(w, "%s %s\n", name_of_script, scr_name);
     wlocate(w, 4, 5);
     wputs(w, question);
     wredraw(w, 1);
@


1.2
log
@As I seem to be the only minicom user, take maintainership.
Update from 2.00.0 to 2.2.
Minicom 2.2 includes improved logging
@
text
@d1 3
a3 3
$OpenBSD$
--- src/updown.c.orig	Sun Aug 14 14:39:30 2005
+++ src/updown.c	Thu May 17 12:58:26 2007
d22 31
@


1.1
log
@upgrade to 2.00.0
@
text
@d2 12
a13 3
--- src/updown.c.orig	Wed Jul  4 23:27:47 2001
+++ src/updown.c	Fri Mar 22 09:02:49 2002
@@@@ -245,7 +245,7 @@@@ int nr;
d20 1
a20 1
 	    what == 'U' ? _("upload") : _("download"));
@

