head	1.9;
access;
symbols
	OPENBSD_4_6:1.8.0.24
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.22
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.20
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.18
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.16
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.14
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.8.0.12
	OPENBSD_4_0_BASE:1.8
	OPENBSD_3_9:1.8.0.10
	OPENBSD_3_9_BASE:1.8
	OPENBSD_3_8:1.8.0.8
	OPENBSD_3_8_BASE:1.8
	OPENBSD_3_7:1.8.0.6
	OPENBSD_3_7_BASE:1.8
	OPENBSD_3_6:1.8.0.4
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.2
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.7.0.2
	OPENBSD_3_4_BASE:1.7
	OPENBSD_3_3:1.6.0.6
	OPENBSD_3_3_BASE:1.6
	OPENBSD_3_2:1.6.0.4
	OPENBSD_3_2_BASE:1.6
	OPENBSD_3_1:1.6.0.2
	OPENBSD_3_1_BASE:1.6
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.4
	OPENBSD_2_9:1.3.0.2
	OPENBSD_2_9_BASE:1.3;
locks; strict;
comment	@# @;


1.9
date	2009.07.22.11.53.51;	author okan;	state dead;
branches;
next	1.8;

1.8
date	2003.09.30.10.25.34;	author naddy;	state Exp;
branches;
next	1.7;

1.7
date	2003.07.07.01.11.21;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2002.03.11.15.12.27;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2001.12.01.05.35.39;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2001.07.10.23.34.00;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2001.02.26.02.19.31;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2001.01.19.15.01.10;	author brad;	state dead;
branches;
next	1.1;

1.1
date	2000.11.11.21.37.21;	author brad;	state Exp;
branches;
next	;


desc
@@


1.9
log
@update to 3.326

feedback and ok naddy@@
@
text
@$OpenBSD: patch-makefile,v 1.8 2003/09/30 10:25:34 naddy Exp $
--- makefile.orig	2003-09-26 16:39:45.000000000 +0200
+++ makefile	2003-09-29 15:35:22.000000000 +0200
@@@@ -374,7 +374,7 @@@@ macosx:	iozone_macosx.o libbif.o
 #
 
 openbsd:	iozone_openbsd.o libbif.o
-	cc -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS -DSHARED_MEM \
+	$(CC) $(CFLAGS) -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS -DSHARED_MEM \
 		iozone_openbsd.o libbif.o -o iozone
 
 #
@@@@ -382,7 +382,7 @@@@ openbsd:	iozone_openbsd.o libbif.o
 #
 
 openbsd-threads:	iozone_openbsd-threads.o libbif.o
-	cc -O -pthread -Dunix -Dbsd4_4 -DHAVE_ANSIC_C \
+	$(CC) $(CFLAGS) -pthread -Dunix -Dbsd4_4 -DHAVE_ANSIC_C \
 		iozone_openbsd-threads.o \
 		libbif.o -o iozone
 
@@@@ -848,18 +848,18 @@@@ iozone_openbsd.o:	iozone.c libbif.c
 	@@echo ""
 	@@echo "Build iozone for OpenBSD"
 	@@echo ""
-	cc -c -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS \
+	$(CC) -c $(CFLAGS) -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS \
 		-DNAME='"openbsd"' -DSHARED_MEM iozone.c -o iozone_openbsd.o
-	cc -c -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS \
+	$(CC) -c $(CFLAGS) -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS \
 		-DSHARED_MEM libbif.c -o libbif.o
 
 iozone_openbsd-threads.o:	iozone.c libbif.c
 	@@echo ""
 	@@echo "Build iozone for OpenBSD with threads"
 	@@echo ""
-	cc -c -O -pthread -Dunix -Dbsd4_4 -DHAVE_ANSIC_C \
+	$(CC) -c $(CFLAGS) -pthread -Dunix -Dbsd4_4 -DHAVE_ANSIC_C \
 		-DNAME='"openbsd-threads"' iozone.c -o iozone_openbsd-threads.o
-	cc -c -O -pthread -Dunix -Dbsd4_4 -DHAVE_ANSIC_C \
+	$(CC) -c $(CFLAGS) -pthread -Dunix -Dbsd4_4 -DHAVE_ANSIC_C \
 		libbif.c -o libbif.o
 
 iozone_OSFV3.o:	iozone.c libbif.c
@


1.8
log
@- Update to 3.203.
- Include prototypes to fix dire warnings on 64-bit platforms.

ok brad@@
@
text
@d1 1
a1 1
$OpenBSD: patch-makefile,v 1.7 2003/07/07 01:11:21 brad Exp $
@


1.7
log
@upgrade to iozone 3.185
--
From: Xavier Santolaria <xavier at santolaria dot net>
@
text
@d1 4
a4 4
$OpenBSD$
--- makefile.orig	Thu Jun 19 13:44:16 2003
+++ makefile	Mon Jul  7 01:01:24 2003
@@@@ -352,7 +352,7 @@@@ macosx:	iozone_macosx.o libbif.o
d13 1
a13 1
@@@@ -360,7 +360,7 @@@@ openbsd:	iozone_openbsd.o libbif.o
d22 1
a22 1
@@@@ -801,18 +801,18 @@@@ iozone_openbsd.o:	iozone.c libbif.c
@


1.6
log
@distfile checksums changed. some Solaris related changes in the Makefile
and nothing else.
--
Pointed out by: Jacob Meuser <jakemsr@@jakemsr.com>
@
text
@d1 4
a4 4
$OpenBSD: patch-makefile,v 1.5 2001/12/01 05:35:39 brad Exp $
--- makefile.orig	Mon Mar  4 18:09:11 2002
+++ makefile	Mon Mar 11 09:55:40 2002
@@@@ -260,7 +260,7 @@@@ freebsd: iozone_freebsd.o libbif.o
d7 1
a7 1
 openbsd: iozone_openbsd.o libbif.o
d13 1
a13 1
@@@@ -268,7 +268,7 @@@@ openbsd: iozone_openbsd.o libbif.o
d16 1
a16 1
 openbsd-threads: iozone_openbsd-threads.o libbif.o
d19 2
a20 1
 		iozone_openbsd-threads.o libbif.o -o iozone
d22 1
a22 2
 #
@@@@ -610,18 +610,18 @@@@ iozone_openbsd.o: iozone.c libbif.c
d28 1
a28 1
 		-DSHARED_MEM iozone.c -o iozone_openbsd.o
d33 1
a33 1
 iozone_openbsd-threads.o: iozone.c libbif.c
d39 1
a39 1
 		iozone.c -o iozone_openbsd-threads.o
d44 1
a44 1
 iozone_OSFV3.o: iozone.c libbif.c
@


1.5
log
@upgrade to iozone 3.71
@
text
@d1 4
a4 4
$OpenBSD: patch-makefile,v 1.4 2001/07/10 23:34:00 brad Exp $
--- makefile.orig	Tue Nov 27 10:14:41 2001
+++ makefile	Thu Nov 29 20:58:09 2001
@@@@ -258,7 +258,7 @@@@ freebsd: iozone_freebsd.o libbif.o
d13 1
a13 1
@@@@ -266,7 +266,7 @@@@ openbsd: iozone_openbsd.o libbif.o
d22 1
a22 1
@@@@ -608,18 +608,18 @@@@ iozone_openbsd.o: iozone.c libbif.c
@


1.4
log
@upgrade to iozone 3.56
@
text
@d1 4
a4 4
$OpenBSD$
--- makefile.orig	Wed Jul  4 06:21:12 2001
+++ makefile	Tue Jul 10 19:26:49 2001
@@@@ -249,7 +249,7 @@@@ freebsd: iozone_freebsd.o libbif.o
d13 1
a13 1
@@@@ -257,7 +257,7 @@@@ openbsd: iozone_openbsd.o libbif.o
d22 1
a22 1
@@@@ -584,18 +584,18 @@@@ iozone_openbsd.o: iozone.c libbif.c
@


1.3
log
@respect CC and CFLAGS
@
text
@d1 4
a4 3
--- makefile.orig	Sun Feb 25 20:56:28 2001
+++ makefile	Sun Feb 25 20:59:25 2001
@@@@ -248,7 +248,7 @@@@
d13 1
a13 1
@@@@ -256,7 +256,7 @@@@
d22 1
a22 1
@@@@ -570,18 +570,18 @@@@
@


1.2
log
@upgrade to iozone 3.51
@
text
@d1 3
a3 29
--- makefile.orig	Mon Nov  6 16:24:51 2000
+++ makefile	Sat Nov 11 16:08:55 2000
@@@@ -1,7 +1,7 @@@@
 #
 # Version $Revision: 1.1 $
 #
-# The makefile for building all versions of Iozone for all supported
+# The makefile for building all versions of iozone for all supported
 # platforms
 #
 # Supports:	hpux, hpux_no_ansi, hpux-10.1, hpux_no_ansi-10.1,
@@@@ -34,6 +34,7 @@@@
 	@@echo "        ->   linux-ia64           (32bit)   <-"
 	@@echo "        ->   netbsd               (32bit)   <-"
 	@@echo "        ->   openbsd              (32bit)   <-"
+	@@echo "        ->   openbsd-threads      (32bit)   <-"
 	@@echo "        ->   OSFV3                (64bit)   <-"
 	@@echo "        ->   OSFV4                (64bit)   <-"
 	@@echo "        ->   OSFV5                (64bit)   <-"
@@@@ -220,7 +221,7 @@@@
 		-DWindows iozone_windows.o libbif.o -o iozone
 
 #
-# GNU C compiler BSDI build with threads, largefiles, no async I/O
+# GNU C compiler BSD/OS build with threads, largefiles, no async I/O
 #
 
 bsdi: iozone_bsdi.o libbif.o
@@@@ -239,10 +240,18 @@@@
d7 2
a8 2
-	cc -O -Dunix -DHAVE_ANSIC_C -DNO_THREADS -DSHARED_MEM \
+	cc -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS -DSHARED_MEM \
d12 1
a12 10
+# GNU C compiler OpenBSD build with threads, no largefiles, no async I/O
+#
+
+openbsd-threads: iozone_openbsd-threads.o libbif.o
+	cc -O -pthread -Dunix -Dbsd4_4 -DHAVE_ANSIC_C \
+		iozone_openbsd-threads.o libbif.o -o iozone
+
+#
 # GNU C compiler OSFV3 build 
 # Has threads and async I/O but no largefiles.
a13 2
@@@@ -284,13 +293,12 @@@@
 		libbif.o -DNO_THREADS -o iozone
d15 4
a18 5
 #
-# GNU Generic build with no threads, no largefiles, no async I/O
-# for NetBSD
+# GNU C compiler NetBSD build with no threads, no largefiles, no async I/O
 #
a19 7
 netbsd: iozone_netbsd.o  libbif.o
-	gcc -O -Dnetbsd -Dunix -DHAVE_ANSIC_C iozone_netbsd.o \
-		libbif.o -DNO_THREADS -o iozone
+	cc -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS -DSHARED_MEM \
+		iozone_netbsd.o libbif.o -o iozone
 
 #
d21 1
a21 6
@@@@ -525,7 +533,7 @@@@
 
 iozone_bsdi.o: iozone.c libbif.c
 	@@echo ""
-	@@echo "Build Iozone for BSDI"
+	@@echo "Build iozone for BSD/OS"
d23 1
a23 5
 	cc -c -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C \
 		iozone.c -o iozone_bsdi.o
@@@@ -534,7 +542,7 @@@@
 
 iozone_freebsd.o: iozone.c libbif.c
d25 2
a26 13
-	@@echo "Build Iozone for FreeBSD"
+	@@echo "Build iozone for FreeBSD"
 	@@echo ""
 	cc -c -O -Dunix -Dbsd4_2 -DHAVE_ANSIC_C -DNO_THREADS \
 		-DSHARED_MEM iozone.c -o iozone_freebsd.o
@@@@ -543,16 +551,25 @@@@
 
 iozone_openbsd.o: iozone.c libbif.c
 	@@echo ""
-	@@echo "Build Iozone for OpenBSD"
+	@@echo "Build iozone for OpenBSD"
 	@@echo ""
 	cc -c -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS \
d28 2
a29 1
 	cc -c -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS \
d32 1
a32 10
+iozone_openbsd-threads.o: iozone.c libbif.c
+	@@echo ""
+	@@echo "Build iozone for OpenBSD with threads"
+	@@echo ""
+	cc -c -O -pthread -Dunix -Dbsd4_4 -DHAVE_ANSIC_C \
+		iozone.c -o iozone_openbsd-threads.o
+	cc -c -O -pthread -Dunix -Dbsd4_4 -DHAVE_ANSIC_C \
+		libbif.c -o libbif.o
+
 iozone_OSFV3.o: iozone.c libbif.c
d34 1
a34 2
-	@@echo "Build Iozone for OSFV3"
+	@@echo "Build iozone for OSFV3"
d36 6
a41 3
 	cc -O -c -Dunix -DHAVE_ANSIC_C -DASYNC_IO -DOSFV3 \
 		-DNO_PRINT_LLD -DOSF_64 iozone.c -o iozone_OSFV3.o
@@@@ -563,7 +580,7 @@@@
d43 1
a43 29
 iozone_OSFV4.o: iozone.c libbif.c
 	@@echo ""
-	@@echo "Build Iozone for OSFV4"
+	@@echo "Build iozone for OSFV4"
 	@@echo ""
 	cc -O -c -Dunix -DHAVE_ANSIC_C -DASYNC_IO -DOSFV4 \
 		-DNO_PRINT_LLD -DOSF_64 iozone.c -o iozone_OSFV4.o
@@@@ -574,7 +591,7 @@@@
 
 iozone_OSFV5.o: iozone.c libbif.c
 	@@echo ""
-	@@echo "Build Iozone for OSFV5"
+	@@echo "Build iozone for OSFV5"
 	@@echo ""
 	cc -O -c -Dunix -DHAVE_ANSIC_C -DASYNC_IO -DOSFV5 \
 		-DNO_PRINT_LLD -DOSF_64 iozone.c -o iozone_OSFV5.o
@@@@ -596,8 +613,7 @@@@
 	@@echo ""
 	@@echo "Building iozone NetBSD "
 	@@echo ""
-	gcc -c -O -Dnetbsd -Dunix -DHAVE_ANSIC_C -DNO_THREADS \
-		iozone.c -o iozone_netbsd.o
-	gcc -c -O -Dnetbsd -Dunix -DHAVE_ANSIC_C -DNO_THREADS \
-		libbif.c -o libbif.o
-
+	cc -c -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS \
+		-DSHARED_MEM iozone.c -o iozone_netbsd.o
+	cc -c -O -Dunix -Dbsd4_4 -DHAVE_ANSIC_C -DNO_THREADS \
+		-DSHARED_MEM libbif.c -o libbif.o
@


1.1
log
@upgrade to iozone 3.48
- adds a threads FLAVOR which has been tested and shown to work on
i386/sparc atleast.
- includes patches to simplify parts of iozone's Makefile and source code.
@
text
@d5 1
a5 1
 # Version $Revision: 1.45 $
@

