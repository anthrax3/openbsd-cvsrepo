head	1.25;
access;
symbols
	OPENBSD_5_7:1.24.0.2
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.23.0.6
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.23.0.4
	OPENBSD_5_5_BASE:1.23
	OPENBSD_5_4:1.23.0.2
	OPENBSD_5_4_BASE:1.23
	OPENBSD_5_3:1.22.0.10
	OPENBSD_5_3_BASE:1.22
	OPENBSD_5_2:1.22.0.8
	OPENBSD_5_2_BASE:1.22
	OPENBSD_5_1_BASE:1.22
	OPENBSD_5_1:1.22.0.6
	OPENBSD_5_0:1.22.0.4
	OPENBSD_5_0_BASE:1.22
	OPENBSD_4_9:1.22.0.2
	OPENBSD_4_9_BASE:1.22
	OPENBSD_4_8:1.21.0.12
	OPENBSD_4_8_BASE:1.21
	OPENBSD_4_7:1.21.0.10
	OPENBSD_4_7_BASE:1.21
	OPENBSD_4_6:1.21.0.8
	OPENBSD_4_6_BASE:1.21
	OPENBSD_4_5:1.21.0.6
	OPENBSD_4_5_BASE:1.21
	OPENBSD_4_4:1.21.0.4
	OPENBSD_4_4_BASE:1.21
	OPENBSD_4_3:1.21.0.2
	OPENBSD_4_3_BASE:1.21
	OPENBSD_4_2:1.20.0.8
	OPENBSD_4_2_BASE:1.20
	OPENBSD_4_1:1.20.0.6
	OPENBSD_4_1_BASE:1.20
	OPENBSD_4_0:1.20.0.4
	OPENBSD_4_0_BASE:1.20
	OPENBSD_3_9:1.20.0.2
	OPENBSD_3_9_BASE:1.20
	OPENBSD_3_8:1.19.0.4
	OPENBSD_3_8_BASE:1.19
	OPENBSD_3_7:1.19.0.2
	OPENBSD_3_7_BASE:1.19
	OPENBSD_3_6:1.18.0.8
	OPENBSD_3_6_BASE:1.18
	OPENBSD_3_5:1.18.0.6
	OPENBSD_3_5_BASE:1.18
	OPENBSD_3_4:1.18.0.4
	OPENBSD_3_4_BASE:1.18
	OPENBSD_3_3:1.18.0.2
	OPENBSD_3_3_BASE:1.18
	OPENBSD_3_2:1.17.0.4
	OPENBSD_3_2_BASE:1.17
	OPENBSD_3_1:1.17.0.2
	OPENBSD_3_1_BASE:1.17
	OPENBSD_3_0:1.15.0.2
	OPENBSD_3_0_BASE:1.15
	OPENBSD_2_9_TRACKING_SWITCH:1.15
	OPENBSD_2_9:1.13.0.2
	OPENBSD_2_9_BASE:1.13
	OPENBSD_2_8:1.12.0.2
	OPENBSD_2_8_BASE:1.12
	OPENBSD_2_7:1.11.0.2
	OPENBSD_2_7_BASE:1.11
	OPENBSD_2_6:1.6.0.2
	OPENBSD_2_6_BASE:1.6
	OPENBSD_2_5:1.5.0.2
	OPENBSD_2_5_BASE:1.5
	OPENBSD_2_4:1.4.0.2
	OPENBSD_2_4_BASE:1.4
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	lmbench1_1:1.1.1.1
	lmbench:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2015.07.18.22.02.05;	author zhuk;	state dead;
branches;
next	1.24;
commitid	pk11cI1cMvzqX5Bs;

1.24
date	2015.01.24.12.20.38;	author schwarze;	state Exp;
branches;
next	1.23;
commitid	6sDvBN0fdjMXoJWg;

1.23
date	2013.03.10.23.04.44;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2010.10.18.16.57.46;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2007.09.15.21.30.26;	author simon;	state Exp;
branches;
next	1.20;

1.20
date	2005.12.22.22.38.52;	author sturm;	state Exp;
branches;
next	1.19;

1.19
date	2004.11.21.18.01.03;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2002.10.24.22.46.16;	author naddy;	state Exp;
branches;
next	1.17;

1.17
date	2002.03.21.20.35.43;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2001.10.28.13.05.45;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2001.06.20.01.43.12;	author pvalchev;	state Exp;
branches;
next	1.14;

1.14
date	2001.05.05.21.59.37;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2001.03.22.22.06.35;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2000.10.22.15.41.33;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2000.04.08.20.12.16;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2000.03.04.09.47.22;	author turan;	state Exp;
branches;
next	1.9;

1.9
date	2000.02.15.05.04.03;	author turan;	state Exp;
branches;
next	1.8;

1.8
date	2000.02.12.08.02.11;	author turan;	state Exp;
branches;
next	1.7;

1.7
date	2000.02.11.01.10.00;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	99.08.18.02.06.26;	author angelos;	state Exp;
branches;
next	1.5;

1.5
date	99.04.01.02.57.54;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	98.10.18.05.01.59;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.10.07.04.43.01;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.03.01.08.28.33;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	97.11.27.17.42.23;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.11.27.17.42.23;	author joey;	state Exp;
branches;
next	;


desc
@@


1.25
log
@Remove lmbench. Highly outdated (1999 year benchmark, really?), non-free
(the license marker in port was a lie) and ugly.

okay aja@@; also there were okays from sthen@@ and kirby on earlier patch.
@
text
@# $OpenBSD: Makefile,v 1.24 2015/01/24 12:20:38 schwarze Exp $

COMMENT=	system performance measurement
DISTNAME=	lmbench
PKGNAME=	lmbench-1.1
CATEGORIES=	benchmarks

# License: GPL
PERMIT_PACKAGE_CDROM=	Yes
WANTLIB=		c

# this is the new home site
#
MASTER_SITES=	ftp://ftp.bitmover.com/lmbench/
EXTRACT_SUFX=	.tar.Z

ALL_TARGET=	build
MAKE_ENV=	PATH=${PATH}:${WRKSRC}/scripts

MAN1=	bargraph.1 graph.1
MAN8=	lmbench.8 lat_proc.8 lat_mmap.8 lat_ctx.8 lat_syscall.8 lat_pipe.8 \
	lat_tcp.8 lat_udp.8 lat_rpc.8 lat_connect.8 lat_fs.8 lat_pagefault.8 \
	lat_mem_rd.8 bw_file_rd.8 bw_mem_cp.8 bw_mem_rd.8 bw_mem_wr.8 \
	bw_mmap_rd.8 bw_pipe.8 bw_tcp.8 mhz.8 lmdd.8

NO_TEST=	Yes

test: build
	@@cd ${WRKSRC}; make results

retest: build
	@@cd ${WRKSRC}; make rerun

# This package comes with its own RCS directory which confuses patch.
# Move it so patch doesn't get confused.
#
pre-patch:
	@@mv ${WRKSRC}/src/RCS ${WRKSRC}/src/RCS-

pre-install:
	${INSTALL_DATA_DIR} ${PREFIX}/lib/lmbench

do-install:
	rm -rf ${WRKSRC}/{Results/RCS,doc/RCS,scripts/RCS,RCS}
	cp ${FILESDIR}/Makefile ${PREFIX}/lib/lmbench
	tar -C ${WRKSRC} -cf - Results bin scripts | \
	  tar -C ${PREFIX}/lib/lmbench -xf -
.for man in ${MAN1}
	${INSTALL_MAN} ${WRKSRC}/doc/${man} ${PREFIX}/man/man1
.endfor
.for man in ${MAN8}
	${INSTALL_MAN} ${WRKSRC}/doc/${man} ${PREFIX}/man/man8
.endfor

# Fix packaging for non-root
post-install:
	@@chmod -R a+rX ${PREFIX}/lib/lmbench

.include <bsd.port.mk>
@


1.24
log
@only minor formatting differences; drop USE_GROFF; no bump needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/03/10 23:04:44 espie Exp $
@


1.23
log
@PERMIT/ REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/10/18 16:57:46 espie Exp $
a18 1
USE_GROFF =	Yes
@


1.22
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2007/09/15 21:30:26 simon Exp $
a9 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d27 1
a27 1
NO_REGRESS=	Yes
@


1.21
log
@remove surrounding quotes from COMMENT/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2005/12/22 22:38:52 sturm Exp $
d22 1
@


1.20
log
@don't mess with the permissions of the ports directory
found by systrace
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/11/21 18:01:03 espie Exp $
d3 1
a3 1
COMMENT=	"system performance measurement"
@


1.19
log
@WANTLIB annotations
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2002/10/24 22:46:16 naddy Exp $
d60 1
a60 1
	@@chmod -R a+rX * ${PREFIX}/lib/lmbench
@


1.18
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2002/03/21 20:35:43 espie Exp $
d13 1
@


1.17
log
@bump NEED_VERSION for distinfo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/10/28 13:05:45 espie Exp $
a6 1
NEED_VERSION=	1.515
d28 2
d31 1
a31 1
	@@(cd ${WRKSRC}; make results)
d34 1
a34 1
	@@(cd ${WRKSRC}; make rerun)
@


1.16
log
@Zap default MAINTAINER from Makefile.
Especially now that the default line is more verbose.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/06/20 01:43:12 pvalchev Exp $
d7 1
@


1.15
log
@Remove deprecated LICENSE_TYPE and set appropriate # comments
with its contents.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/05/05 21:59:37 espie Exp $
a6 2

MAINTAINER=	ports@@openbsd.org
@


1.14
log
@Kill COMMENTS from archivers, audio, benchmarks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/03/22 22:06:35 brad Exp $
d10 1
a10 1
LICENSE_TYPE=		GPL
@


1.13
log
@- mkdir -> ${INSTALL_DATA_DIR}
- kill off FreeBSD-ism (NOPORTDOCS knob)
--
Patch from: Pete Fritchman <petef@@databits.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2000/10/22 15:41:33 espie Exp $
d3 1
@


1.12
log
@Kill
FAKE=Yes
HAS_CONFIGURE, GNU_CONFIGURE, USE_IMAKE, NO_INSTALL_MANPAGES, USE_AUTOCONF
and bump NEED_VERSION accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2000/04/08 20:12:16 espie Exp $
d42 1
a42 1
	[ -d ${PREFIX}/lib/lmbench ] || mkdir -p ${PREFIX}/lib/lmbench
@


1.11
log
@Fake.
Repair rights so that make package can run as non-root.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2000/03/04 09:47:22 turan Exp $
a13 1
FAKE=			Yes
@


1.10
log
@- fix patches
- fix plists
- man pages were not installing
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/02/15 05:04:03 turan Exp $
d10 5
a14 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d56 4
@


1.9
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/02/12 08:02:11 turan Exp $
a6 1
BROKEN=	"version changed; different distributions/directories"
d23 6
d45 1
@


1.8
log
@gpl licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/02/11 01:10:00 espie Exp $
d11 4
a14 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.7
log
@Kill a large set of deprecated variables.
Thoroughly unsubtle, most mkdir -p should probably be INSTALL* at
*install stage, and echo/ECHO_MSG is somewhat unsorted.

It's quite possible I missed a few automated changes...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1999/08/18 02:06:26 angelos Exp $
d9 6
@


1.6
log
@Version changed, original distfile no longer available (at least not
in original form). Mark as broken.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1999/04/01 02:57:54 brad Exp $
d28 1
a28 1
	@@${MV} ${WRKSRC}/src/RCS ${WRKSRC}/src/RCS-
d31 1
a31 1
	[ -d ${PREFIX}/lib/lmbench ] || ${MKDIR} ${PREFIX}/lib/lmbench
d34 1
a34 1
	${CP} ${FILESDIR}/Makefile ${PREFIX}/lib/lmbench
@


1.5
log
@remove unnecessary comments and fix email address's
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1998/10/18 05:01:59 marc Exp $
d7 1
a7 2
#BROKEN=	"version changed; home site moved"

@


1.4
log
@comment out the BROKEN reason for all ports where the reason
was source files out of date and we have a copy of the required
version on ftp.openbsd.org
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.3 1998/10/07 04:43:01 marc Exp $
#
d9 1
a9 2
MAINTAINER=	joey@@OpenBSD.ORG

a17 6
MAN1=		bargraph.1 graph.1
MAN8=		bw_file_rd.8 bw_mem_cp.8 bw_mem_rd.8 bw_mem_wr.8 \
		bw_mmap_rd.8 bw_pipe.8 bw_tcp.8 lat_connect.8 lat_ctx.8 \
		lat_fs.8 lat_mem_rd.8 lat_mmap.8 lat_pagefault.8 lat_pipe.8 \
		lat_proc.8 lat_rpc.8 lat_syscall.8 lat_tcp.8 lat_udp.8 \
		lmbench.8 lmdd.8 mhz.8
@


1.3
log
@BROKEN: version changed; home site moved
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 1998/03/01 08:28:33 marc Exp $
d8 1
a8 1
BROKEN=		"version changed; home site moved"
@


1.2
log
@Get rid of all compile warnings, remove explicit version from package descr.
@
text
@d1 1
a1 6
# OpenBSD makefile for:	lmbench
# Version required:	1.1
# Date created:		Nov 27 1997
# Whom:			ejovi
#
# $OpenBSD: Makefile,v 1.1.1.1 1997/11/27 17:42:23 joey Exp $
d7 2
a8 2
MASTER_SITES=	http://reality.sgi.com/lm_engr/lmbench/
EXTRACT_SUFX=	.tar.Z
d11 6
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $OpenBSD$
d31 6
@


1.1.1.1
log
@
@
text
@@

