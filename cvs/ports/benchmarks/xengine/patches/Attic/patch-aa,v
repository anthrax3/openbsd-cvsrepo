head	1.4;
access;
symbols
	OPENBSD_3_1:1.3.0.8
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.6
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	OPENBSD_2_9:1.3.0.4
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.2
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.2.0.10
	OPENBSD_2_7_BASE:1.2
	OPENBSD_2_6:1.2.0.8
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.6
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.2.0.4
	OPENBSD_2_4_BASE:1.2
	OPENBSD_2_3:1.2.0.2
	OPENBSD_2_3_BASE:1.2
	xengine1_0_1:1.1.1.1
	xengine:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2002.07.31.06.10.55;	author pvalchev;	state dead;
branches;
next	1.3;

1.3
date	2000.08.20.20.15.57;	author pjanzen;	state Exp;
branches;
next	1.2;

1.2
date	98.03.01.23.46.00;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	97.11.27.18.00.20;	author joey;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	97.11.27.18.00.20;	author joey;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- add more libs at link time to satisfy X inter-library dependendcies -
fixes static archs (vax works)
- also update-patches while here
ok pjanzen
@
text
@--- xengine.c.orig	Sun Aug 20 15:56:04 2000
+++ xengine.c	Sun Aug 20 15:58:16 2000
@@@@ -29,13 +29,13 @@@@
 
 #define	PI	3.141592654
 
-XtCallbackProc  redraw_callback();
-XtTimerCallbackProc Cylcle();
+void redraw_callback( Widget, XEvent*, String*, Cardinal*);
+void Cycle( XtPointer, XtIntervalId* );
 
 Widget          toplevel, base, rpm_info, engine;
 GC              gcPiston, gcShaft, gcCylinder, gcRoter, gcBack, gcDep, gcPre, gcEngine;
 Pixmap          enginePixmap;
-int             width, height;
+Dimension       width, height;
 
 String          colors[] = {"gray", "lightseagreen", "dimgrey", "forestgreen", "black", "red", "cyan", "firebrick"};
 
@@@@ -47,7 +47,7 @@@@
 	Arg             args[10];
 	XtTranslations  newTranslations;
 	static XtActionsRec redrawActions[] = {
-		{"expose", (XtCallbackProc) redraw_callback},
+		{"expose", redraw_callback},
 	};
 
 	static char    *overrideTranslations =
@@@@ -59,8 +59,6 @@@@
 	int             i;
 	int             count;
 
-	XtTimerCallbackProc Cycle();
-
 	toplevel = XtInitialize("xengine", "XEngine", NULL, 0, &argc, argv);
 
 	for (count = 1; count < argc; count++) {
@@@@ -170,7 +168,7 @@@@
 	XtMainLoop();
 }
 
-XtCallbackProc
+void
 redraw_callback(w, event, params, nparams)
 	Widget          w;
 	XEvent         *event;
@@@@ -180,22 +178,19 @@@@
 
 	Arg             args[10];
 
-	XtSetArg(args[0], XtNwidth, 0);
-	XtSetArg(args[1], XtNheight, 0);
+	XtSetArg(args[0], XtNwidth, &width);
+	XtSetArg(args[1], XtNheight, &height);
 	XtGetValues(w, args, 2);
 
-	width = args[0].value;
-	height = args[1].value;
-
 	XFreePixmap(XtDisplay(engine), enginePixmap);
 	enginePixmap = XCreatePixmap(XtDisplay(engine), XtWindow(engine), width, height, DefaultDepthOfScreen(XtScreen(engine)));
 
 }
 
-XtTimerCallbackProc
+void
 Cycle(client_data, id)
-	caddr_t         client_data;
-	XtIntervalId    id;
+	XtPointer       client_data;
+	XtIntervalId*   id;
 {
 
 	Arg             args[10];
@


1.3
log
@An int isn't necessarily a Dimension.
@
text
@@


1.2
log
@Get rid of all compile warnings, make PLIST reflect reality.
@
text
@d1 3
a3 3
--- xengine.c.orig	Sun Mar  1 15:12:37 1998
+++ xengine.c	Sun Mar  1 15:40:55 1998
@@@@ -29,8 +29,8 @@@@
d14 6
@


1.1
log
@Initial revision
@
text
@d1 68
a68 26
*** xengine.c~	Wed Oct  3 10:58:17 1990
--- xengine.c	Sun Dec  8 22:17:43 1996
***************
*** 180,191 ****
  
  	Arg             args[10];
  
! 	XtSetArg(args[0], XtNwidth, 0);
! 	XtSetArg(args[1], XtNheight, 0);
  	XtGetValues(w, args, 2);
- 
- 	width = args[0].value;
- 	height = args[1].value;
  
  	XFreePixmap(XtDisplay(engine), enginePixmap);
  	enginePixmap = XCreatePixmap(XtDisplay(engine), XtWindow(engine), width, height, DefaultDepthOfScreen(XtScreen(engine)));
--- 180,188 ----
  
  	Arg             args[10];
  
! 	XtSetArg(args[0], XtNwidth, &width);
! 	XtSetArg(args[1], XtNheight, &height);
  	XtGetValues(w, args, 2);
  
  	XFreePixmap(XtDisplay(engine), enginePixmap);
  	enginePixmap = XCreatePixmap(XtDisplay(engine), XtWindow(engine), width, height, DefaultDepthOfScreen(XtScreen(engine)));
@


1.1.1.1
log
@
@
text
@@

