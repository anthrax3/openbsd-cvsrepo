head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.20
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.16
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.18
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.14
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.12
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.10
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.8
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.6
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.4
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.2
	OPENBSD_5_0:1.1.1.1.0.18
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.16
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.14
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.12
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.10
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.8
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.6
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.4
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	aanriot_20070531:1.1.1.1
	aanriot:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2011.12.15.21.53.26;	author kili;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.31.18.13.15;	author aanriot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.31.18.13.15;	author aanriot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- Make it at least startable (it was unusable after the removal of
  jdk-1.5, and nobody noticed/complained).

- Remove MAINTAINER, because of inactivity.

kind of ok@@ all those people who find it still usefull (but didn't
use it since the removal of jdk-1.5)
@
text
@$OpenBSD: patch-jxplorer_sh,v 1.1.1.1 2007/05/31 18:13:15 aanriot Exp $
--- jxplorer.sh.orig	Mon Feb 26 21:08:36 2007
+++ jxplorer.sh	Wed Dec 14 22:44:15 2011
@@@@ -1,24 +1,18 @@@@
 #!/bin/sh
 # OpenDirectory  jxstart.sh $Revision: 1.13 $  $Date: 2006/04/18 04:12:12 $
 
-if [ -x $JAVA_HOME/bin/java ]; then
-   JAVA_LOC=$JAVA_HOME/bin/java
-elif [ -x /opt/jre/bin/java ]; then
-    JAVA_LOC=/opt/jre/bin/java
-elif [ -x /opt/ca/jre/bin/java ]; then
-    JAVA_LOC=/opt/ca/jre/bin/java
-elif [ -x /opt/ca/etrustdirectory/jre/bin/java ]; then
-    JAVA_LOC=/opt/ca/etrustdirectory/jre/bin/java
-elif [ -x /opt/CA/eTrustDirectory/jre/bin/java ]; then
-    JAVA_LOC=/opt/CA/eTrustDirectory/jre/bin/java
-else
-    JAVA_LOC=java
-fi
+PATH=/bin:/usr/bin
 
+JAVA_HOME=$(%%PREFIX%%/bin/javaPathHelper -h jxplorer)
+JAVA_LOC=$(%%PREFIX%%/bin/javaPathHelper -c jxplorer)
+
+# use an absolute path instead of a relative one
+jars=%%PREFIX%%/share/jxplorer/jars
+
 # Find directory of JRE
 ${JAVA_LOC} -version  >/dev/null 2>&1
 if [ "$?" != "0" ] ; then
-	OPTJX=/opt/jxplorer
+	OPTJX=$JAVA_LOC
 
 	# $OPTJX MUST be the JXplorer install directory, or a link to it, and contain the JRE
 
@@@@ -29,7 +23,7 @@@@ if [ "$?" != "0" ] ; then
 	fi
 
 	cd $OPTJX
-        JAVAV=/opt/jxplorer/jre/bin/java
+        JAVAV=$JAVA_LOC
 else
         JAVAV=${JAVA_LOC}
 fi
@@@@ -38,14 +32,14 @@@@ echo "starting JXplorer..."
 echo
 FAIL=0
 if [ "$1" = "console" ] ; then
-    $JAVAV -cp .:jars/jxplorer.jar:jars/help.jar:jars/jhall.jar:jars/junit.jar:jars/ldapsec.jar:jars/log4j.jar:jars/dsml/activation.jar:jars/dsml/commons-logging.jar:jars/dsml/dom4j.jar:jars/dsml/jxext.jar:jars/dsml/mail.jar:jars/dsml/providerutil.jar:jars/dsml/saaj-api.jar:jars/dsml/saaj-ri.jar com.ca.directory.jxplorer.JXplorer
+    $JAVAV -Dcom.apple.macos.useScreenMenuBar=true -cp .:$jars/jxplorer.jar:$jars/help.jar:$jars/jhall.jar:$jars/junit.jar:$jars/ldapsec.jar:$jars/log4j.jar:$jars/dsml/activation.jar:$jars/dsml/commons-logging.jar:$jars/dsml/dom4j.jar:$jars/dsml/jxext.jar:$jars/dsml/mail.jar:$jars/dsml/providerutil.jar:$jars/dsml/saaj-api.jar:$jars/dsml/saaj-ri.jar com.ca.directory.jxplorer.JXplorer
 
     if [ "$?" != "0" ]; then
         FAIL=1
     fi
 else
-    echo "Use \"jxstart.sh console\" if you want logging to the console"
-    $JAVAV -cp .:jars/jxplorer.jar:jars/help.jar:jars/jhall.jar:jars/junit.jar:jars/ldapsec.jar:jars/log4j.jar:jars/dsml/activation.jar:jars/dsml/commons-logging.jar:jars/dsml/dom4j.jar:jars/dsml/jxext.jar:jars/dsml/mail.jar:jars/dsml/providerutil.jar:jars/dsml/saaj-api.jar:jars/dsml/saaj-ri.jar com.ca.directory.jxplorer.JXplorer  >/dev/null 2>&1
+    echo "Use \"jxplorer console\" if you want logging to the console"
+    $JAVAV -Dcom.apple.macos.useScreenMenuBar=true -cp .:$jars/jxplorer.jar:$jars/help.jar:$jars/jhall.jar:$jars/junit.jar:$jars/ldapsec.jar:$jars/log4j.jar:$jars/dsml/activation.jar:$jars/dsml/commons-logging.jar:$jars/dsml/dom4j.jar:$jars/dsml/jxext.jar:$jars/dsml/mail.jar:$jars/dsml/providerutil.jar:$jars/dsml/saaj-api.jar:$jars/dsml/saaj-ri.jar com.ca.directory.jxplorer.JXplorer  >/dev/null 2>&1
 
     if [ "$?" != "0" ]; then
         FAIL=1
@@@@ -67,7 +61,7 @@@@ running this from. Make sure the DISPLAY environment v
 Otherwise, ask your Unix Systems Administrator for more information on running
 X Windows applications.
 
-If you require more information run "$0 console" and check the
+If you require more information run "jxplorer console" and check the
 error produced.
 !
 
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 2
a4 2
+++ jxplorer.sh	Wed May 30 08:40:36 2007
@@@@ -1,24 +1,19 @@@@
d18 4
a21 5
+if [ -x %%JAVA_HOME%%/bin/java ]; then
+    JAVA_LOC=%%JAVA_HOME%%/bin/java
 else
     JAVA_LOC=java
 fi
d23 3
d33 1
a33 1
+	OPTJX=%%JAVA_HOME%%/bin/java
d37 1
a37 1
@@@@ -29,7 +24,7 @@@@ if [ "$?" != "0" ] ; then
d42 1
a42 1
+        JAVAV=%%JAVA_HOME%%/bin/java
d46 1
a46 1
@@@@ -38,14 +33,14 @@@@ echo "starting JXplorer..."
d64 1
a64 1
@@@@ -67,7 +62,7 @@@@ running this from. Make sure the DISPLAY environment v
@


1.1.1.1
log
@JXplorer is an open source ldap browser originally developed by Computer
Associates' eTrust Directory development lab. It is a standards
compliant general purpose ldap browser that can be used to read and
search any ldap directory, or any X500 directory with an ldap
interface.

tested by matthieu@@, ok mbalmer@@
@
text
@@
