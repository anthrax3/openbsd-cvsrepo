head	1.11;
access;
symbols
	OPENBSD_5_3:1.8.0.2
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.6.0.4
	OPENBSD_5_2_BASE:1.6
	OPENBSD_5_1_BASE:1.6
	OPENBSD_5_1:1.6.0.2
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	jeremy_2010-Dec-20:1.1.1.1
	jeremy:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2013.05.25.22.30.27;	author jeremy;	state dead;
branches;
next	1.10;

1.10
date	2013.05.25.00.33.09;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2013.03.11.02.52.08;	author espie;	state Exp;
branches;
next	1.8;

1.8
date	2013.01.09.17.38.52;	author jeremy;	state Exp;
branches;
next	1.7;

1.7
date	2012.09.23.16.57.33;	author jeremy;	state Exp;
branches;
next	1.6;

1.6
date	2011.11.04.08.16.24;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.09.16.08.48.05;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2011.03.25.16.39.54;	author jeremy;	state Exp;
branches;
next	1.3;

1.3
date	2011.01.06.04.24.22;	author jeremy;	state Exp;
branches;
next	1.2;

1.2
date	2010.12.21.17.10.59;	author jeremy;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.20.17.45.27;	author jeremy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.12.20.17.45.27;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Remove ruby-mysqlplus, broken at runtime after switch to MariaDB.
@
text
@# $OpenBSD: Makefile,v 1.10 2013/05/25 00:33:09 brad Exp $

COMMENT=	enhanced Ruby MySQL driver, supporting async and threading

DISTNAME=	mysqlplus-0.1.2
REVISION=	6
CATEGORIES=	databases

HOMEPAGE=	http://github.com/oldmoe/mysqlplus

MAINTAINER =	Jeremy Evans <jeremy@@openbsd.org>

# MIT License
PERMIT_PACKAGE_CDROM=	Yes

MODULES=	lang/ruby

WANTLIB=	mysqlclient crypto ssl z

LIB_DEPENDS=	databases/mariadb

CONFIGURE_STYLE=ruby gem ext

# Requires running mysql server
TEST_IS_INTERACTIVE = Yes
TEST_DEPENDS=databases/mariadb,-server \
		${FULLPKGNAME}:${BUILD_PKGPATH}
MODRUBY_TEST=rake
do-test:
	cd ${WRKSRC} && \
		RUBYLIB=test:$(dirname `gem which mysqlplus`) ${RAKE} test

.include <bsd.port.mk>
@


1.10
log
@Switch from using MySQL to using MariaDB. MariaDB is a drop-in replacement.


ok sthen aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2013/03/11 02:52:08 espie Exp $
@


1.9
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2013/01/09 17:38:52 jeremy Exp $
d3 1
a3 1
COMMENT=	enhanced ruby mysql driver, supporting async and threading
d6 1
a6 1
REVISION =	4
d20 1
a20 1
LIB_DEPENDS=	databases/mysql
d26 1
a26 1
TEST_DEPENDS=databases/mysql,-server \
@


1.8
log
@Revision bump ruby C extension ports after addition of pthread to
WANTLIB.

OK sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2012/09/23 16:57:33 jeremy Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d25 2
a26 2
REGRESS_IS_INTERACTIVE = Yes
REGRESS_DEPENDS=databases/mysql,-server \
d28 2
a29 2
MODRUBY_REGRESS=rake
do-regress:
@


1.7
log
@Bump revisions for ruby gem/extconf ports after the switch to ruby 1.9
by default, since the ruby 1.8 version now has a ruby18 explicit FLAVOR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/11/04 08:16:24 jasper Exp $
d6 1
a6 1
REVISION =	3
@


1.6
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/09/16 08:48:05 espie Exp $
d6 1
a6 1
REVISION =	2
@


1.5
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/03/25 16:39:54 jeremy Exp $
d6 1
a6 1
REVISION =	1
d21 1
a21 1
WANTLIB=	mysqlclient
@


1.4
log
@Fix regress tests.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/01/06 04:24:22 jeremy Exp $
d6 1
a6 1
REVISION =	0
@


1.3
log
@REVISION bump for rbx FLAVOR PLIST change.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/12/21 17:10:59 jeremy Exp $
d34 1
a34 1
		RUBYLIB=test:$(dirname `gem which mysqlplus`) rake test
@


1.2
log
@Clean up regression code in some ruby database ports, adding
NO_REGRESS and REGRESS_IS_INTERACTIVE when appropriate, and
comments for some broken regression tests.

Prompted and OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/12/20 17:45:27 jeremy Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/14 20:33:09 jeremy Exp $
d27 1
@


1.1.1.1
log
@Import ruby-mysqlplus 0.1.2

An enhanced MySQL database driver. With support for async operations and
threaded database access.
@
text
@@
