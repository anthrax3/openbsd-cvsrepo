head	1.2;
access;
symbols
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.22
	OPENBSD_5_0:1.1.1.1.0.20
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.18
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.16
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.14
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.12
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.10
	OPENBSD_4_5_BASE:1.1.1.1
	OPENBSD_4_4:1.1.1.1.0.8
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.6
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.4
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.2
	OPENBSD_4_1_BASE:1.1.1.1
	bernd_2007-jan-18:1.1.1.1
	bernd:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2012.05.04.20.17.50;	author jeremy;	state dead;
branches;
next	1.1;

1.1
date	2007.01.18.12.30.37;	author bernd;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.01.18.12.30.37;	author bernd;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to ruby-ldap 0.9.12.  Switch to using the gem version
now that there is one.  Don't link against both ldap and ldap_r,
as that causes problems.  Update HOMEPAGE to point to current
maintainer.  Remove some patches accepted upstream.
@
text
@$OpenBSD: patch-test_test_sh,v 1.1 2007/01/18 12:30:37 bernd Exp $
--- test/test.sh.orig	Sat Nov 29 13:13:21 2003
+++ test/test.sh	Wed Dec 20 14:46:44 2006
@@@@ -139,13 +139,16 @@@@ if [ -f "$LOGFILE" ]; then
   rm $LOGFILE
 fi
 
-echo -n "Do you want to run scripts?[y/n]"
-read ans
+ans=y
 case "$ans" in
 y*|Y*)
   RESULT=ok
   for f in $SCRIPTS
   do
+    if ! $(pgrep -x slapd >/dev/null 2>&1); then
+      echo "ERROR: slapd is gone, abort"
+      exit 1
+    fi
     printf "running $f .... "
     if runruby $f; then
       echo "succeed"
@@@@ -153,7 +156,7 @@@@ y*|Y*)
       echo "fail"
       RESULT=error
       runruby $f
-      rundebug $f
+#      rundebug $f
     fi
   done
   ;;
@@@@ -166,5 +169,7 @@@@ esac
 # $LDAPSEARCH -b "o=JAIST, c=JP" -h localhost -p $SSLPORT -Z "(objectclass=*)"
 
 # stop slapd
-kill -TERM `cat $PIDFILE`
+if $(pgrep -x slapd >/dev/null 2>&1); then
+  kill -TERM `cat $PIDFILE`
+fi
 rm -rf $DBDIR
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Initial import of ruby-ldap-0.9.7.

Ruby/LDAP is an extension library for Ruby. It provides the interface
to some LDAP libraries (e.g. OpenLDAP, UMich LDAP, Netscape SDK,
ActiveDirectory). The common API for application development is
described in RFC1823 and is supported by Ruby/LDAP.

Submitted and maintained by Jeremy Evans <jeremyevans0 at gmail dot com>.

with help from msf@@
@
text
@@
