head	1.3;
access;
symbols
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2016.05.06.15.33.37;	author sthen;	state dead;
branches;
next	1.2;
commitid	5e1KALTAPXjZQxNY;

1.2
date	2014.09.16.17.28.07;	author jasper;	state Exp;
branches;
next	1.1;
commitid	xftZua1X95nEUSek;

1.1
date	2013.12.10.17.30.41;	author joshe;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to MongoDB 3.2.6, from Andrew Aldridge, minor tweaks from me
@
text
@$OpenBSD: patch-src_mongo_SConscript,v 1.2 2014/09/16 17:28:07 jasper Exp $
--- src/mongo/SConscript.orig	Fri Aug  8 22:13:51 2014
+++ src/mongo/SConscript	Tue Sep 16 16:08:02 2014
@@@@ -1163,7 +1163,7 @@@@ def installBinary( e, name ):
     if enforce_glibc:
         e.AddPostAction( name, checkGlibc )
 
-    if (solaris or linux) and (not has_option("nostrip")):
+    if not has_option("nostrip"):
         name = e.Command('stripped/%s' % name, name, Copy('$TARGET', '$SOURCE'))[0]
         e.AddPostAction(name, 'strip $TARGET')
 
@


1.2
log
@- update to mongodb-2.6.4

based on an earlier diff by sthen@@, and ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_mongo_SConscript,v 1.1 2013/12/10 17:30:41 joshe Exp $
@


1.1
log
@Update mongodb to 2.4.7. Still BROKEN, but a bit closer to working.

This also switches the javascript backend from spidermonkey to v8, as
support for the former has already been removed in the mongodb repo.

"since it's broken go ahead and commit that" fgsch@@
@
text
@d1 4
a4 4
$OpenBSD$
--- src/mongo/SConscript.orig	Thu Oct 17 11:37:56 2013
+++ src/mongo/SConscript	Wed Oct 30 07:47:28 2013
@@@@ -767,7 +767,7 @@@@ def installBinary( e, name ):
@

