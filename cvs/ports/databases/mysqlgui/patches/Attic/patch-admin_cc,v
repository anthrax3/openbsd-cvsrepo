head	1.2;
access;
symbols
	OPENBSD_3_5:1.1.1.1.0.14
	OPENBSD_3_5_BASE:1.1.1.1
	OPENBSD_3_4:1.1.1.1.0.12
	OPENBSD_3_4_BASE:1.1.1.1
	OPENBSD_3_3:1.1.1.1.0.10
	OPENBSD_3_3_BASE:1.1.1.1
	OPENBSD_3_2:1.1.1.1.0.8
	OPENBSD_3_2_BASE:1.1.1.1
	OPENBSD_3_1:1.1.1.1.0.6
	OPENBSD_3_1_BASE:1.1.1.1
	OPENBSD_3_0:1.1.1.1.0.4
	OPENBSD_3_0_BASE:1.1.1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	OPENBSD_2_9:1.1.1.1.0.2
	OPENBSD_2_9_BASE:1.1.1.1
	wilfried_20010402:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2004.07.19.13.50.49;	author wilfried;	state dead;
branches;
next	1.1;

1.1
date	2001.04.02.15.14.52;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.04.02.15.14.52;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.2
log
@superseeded by mysqlcc
@
text
@$OpenBSD: patch-admin_cc,v 1.1 2001/04/02 15:14:52 wilfried Exp $
--- admin.cc.orig	Wed Dec 27 13:45:03 2000
+++ admin.cc	Sat Feb 10 19:19:19 2001
@@@@ -35,7 +35,7 @@@@ Fl_Window *Admin;
 	}
 	void cb_Admin (void) {
 		Fl::remove_timeout(my_timeout_callback,this);
-		if (Admin) Admin->hide(); delete Admin; Fl::remove_timeout(my_timeout_callback,this);
+		if (Admin) Admin->hide(); delete Admin; Admin=0; Fl::remove_timeout(my_timeout_callback,this);
 	}
 	static void s_cb_Admin(Fl_Window*, void*s) {
 		Panel *p=(Panel *)s;
@@@@ -145,7 +145,7 @@@@ Fl_Window *Admin;
 	}
 public:
   void get_me_some_new_values() {
-		if (!connected) { Admin->hide(); delete Admin; return;}
+		if (!connected) { Admin->hide(); delete Admin; Admin=0; return;}
 		if (No_no_no_you_can_not_have_that_type_of_reentrancy) return;
 		No_no_no_you_can_not_have_that_type_of_reentrancy=1;
 		try {
@@@@ -194,10 +194,10 @@@@ public:
 			No_no_no_you_can_not_have_that_type_of_reentrancy=0; s_fl_message("");
 		} catch (BadQuery er){ // handle any connection or query errors that may come up
 			adm_ispis = 1; s_fl_alert("Error in querying status: %s ",er.error.c_str());
-			if (Admin) {Admin->hide(); delete Admin;}  return;
+			if (Admin) {Admin->hide(); delete Admin;Admin=0; }  return;
 		} catch (BadConversion er) {
 			adm_ispis = 1; s_fl_alert ("Error: Tried to make impossible conversion");
-			if (Admin) {Admin->hide(); delete Admin; } return;
+			if (Admin) {Admin->hide(); delete Admin; Admin=0; } return;
 		}	
 	}
 	~Panel (void) {
@@@@ -330,7 +330,7 @@@@ public:
 		this->get_me_some_new_values();		
 		Fl::add_timeout(options->update_timeout,my_timeout_callback,this);
 		w->show(); 	
-		while(w->visible()) Fl::wait();
+		while(Admin && w->visible()) Fl::wait();
   }
 	}
 };
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: $
@


1.1.1.1
log
@Import of mysqlgui-1.7.4

graphical sql client for MySQL
@
text
@@
