head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2005.03.10.07.36.04;	author marcm;	state dead;
branches;
next	1.1;

1.1
date	2004.09.17.03.49.03;	author marcm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Ugh, fix a borked CVS update...

Remove a bogus patch (pointed out by Benny Siegert) and catch a bounds
error elsewhere.  Update to 1.0.4 since I'm here.
@
text
@$OpenBSD: patch-patches_patch-libdb_env_env_open_c,v 1.1 2004/09/17 03:49:03 marcm Exp $
--- patches/patch-libdb_env_env_open_c.orig	Thu Sep 16 20:33:27 2004
+++ patches/patch-libdb_env_env_open_c	Thu Sep 16 20:33:27 2004
@@@@ -0,0 +1,30 @@@@
+$OpenBSD: patch-patches_patch-libdb_env_env_open_c,v 1.1 2004/09/17 03:49:03 marcm Exp $
+--- libdb/env/env_open.c.orig	Mon Aug 16 16:33:03 2004
++++ libdb/env/env_open.c	Mon Aug 16 16:33:57 2004
+@@@@ -906,7 +906,7 @@@@ illegal:	__db_err(dbenv, "mis-formatted 
+ 		return (dbenv->set_data_dir(dbenv, value));
+ 
+ 	if (!strcasecmp(name, "set_flags")) {
+-		if (sscanf(value, "%40s %c", arg, &v4) != 1)
++		if (sscanf(value, "%39s %c", arg, &v4) != 1)
+ 			goto badarg;
+ 
+ 		if (!strcasecmp(value, "db_cdb_alldb"))
+@@@@ -961,7 +961,7 @@@@ illegal:	__db_err(dbenv, "mis-formatted 
+ 		return (dbenv->set_lg_dir(dbenv, value));
+ 
+ 	if (!strcasecmp(name, "set_lk_detect")) {
+-		if (sscanf(value, "%40s %c", arg, &v4) != 1)
++		if (sscanf(value, "%39s %c", arg, &v4) != 1)
+ 			goto badarg;
+ 		if (!strcasecmp(value, "db_lock_default"))
+ 			flags = DB_LOCK_DEFAULT;
+@@@@ -1067,7 +1067,7 @@@@ illegal:	__db_err(dbenv, "mis-formatted 
+ 	}
+ 
+ 	if (!strcasecmp(name, "set_verbose")) {
+-		if (sscanf(value, "%40s %c", arg, &v4) != 1)
++		if (sscanf(value, "%39s %c", arg, &v4) != 1)
+ 			goto badarg;
+ 
+ 		if (!strcasecmp(value, "db_verb_chkpoint"))
@


1.1
log
@Fix a couple of off-by-one errors, courtesy anil@@

"Commit this." brad@@
@
text
@d1 1
a1 1
$OpenBSD: patch-patches_patch-libdb_env_env_open_c,v 1.1 2004/09/17 03:35:30 marcm Exp $
d5 1
a5 1
+$OpenBSD: patch-patches_patch-libdb_env_env_open_c,v 1.1 2004/09/17 03:35:30 marcm Exp $
@

