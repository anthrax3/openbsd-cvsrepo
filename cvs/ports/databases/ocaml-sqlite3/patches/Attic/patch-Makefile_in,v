head	1.6;
access;
symbols
	OPENBSD_5_2:1.5.0.14
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.12
	OPENBSD_5_0:1.5.0.10
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.8
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.6
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.4
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.2
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.3.0.10
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.8
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.6
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.4
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.1.1.1.0.2
	OPENBSD_4_0_BASE:1.1.1.1
	avsm_1-Jun-2006:1.1.1.1
	avsm:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2012.08.18.21.57.24;	author avsm;	state dead;
branches;
next	1.5;

1.5
date	2009.05.20.02.02.30;	author avsm;	state Exp;
branches;
next	1.4;

1.4
date	2009.05.20.01.40.56;	author avsm;	state dead;
branches;
next	1.3;

1.3
date	2007.02.18.06.23.38;	author pvalchev;	state Exp;
branches;
next	1.2;

1.2
date	2007.01.03.11.38.19;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2006.06.01.01.20.25;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.06.01.01.20.25;	author avsm;	state Exp;
branches;
next	;


desc
@@


1.6
log
@* bump version to 2.0.2
* use OASIS build system
* remove obsolete patches
* enable regression tests
From: Christopher Zimmermann <madroach@@gmerlin.de>
@
text
@$OpenBSD: patch-Makefile_in,v 1.5 2009/05/20 02:02:30 avsm Exp $
--- Makefile.in.orig	Sat May 16 17:29:15 2009
+++ Makefile.in	Tue May 19 19:35:29 2009
@@@@ -40,11 +40,10 @@@@ distclean: clean
 
 # install rebuilds sqlite3top to point to the findlib-managed dll and not the
 # one in .
-install: sqlite3.cma sqlite3.cmxa sqlite3top
+install:
 	[ -f *.so ] && SO_FILES=*.so; \
-	ocamlfind install sqlite3 META sqlite3.cmi sqlite3.mli sqlite3.cma *.cmxa *.a *.cmx $$SO_FILES
-	ocamlfind ocamlmktop -o sqlite3top -package "sqlite3" sqlite3.cma
-	$(INSTALL) sqlite3top $(bindir)/sqlite3top
+	[ -f *.cmxa ] && CMXA=*.cmxa && CA=*.a && CMX=*.cmx; \
+	ocamlfind install -ldconf ignore sqlite3 META sqlite3.cmi sqlite3.mli sqlite3.cma $$CMXA $$CA $$CMX $$SO_FILES
 
 remove: uninstall
 uninstall:
@


1.5
log
@add mysteriously removed file from the previous commit
@
text
@d1 1
a1 1
$OpenBSD$
@


1.4
log
@update to ocaml-sqlite3-1.5.0, now by Markus Mottl.  These bindings are significantly more robust, and also let you define custom callback/aggregate SQL functions directly in OCaml, as well as interacting better with the runtime.
@
text
@d1 4
a4 22
$OpenBSD: patch-Makefile_in,v 1.3 2007/02/18 06:23:38 pvalchev Exp $
--- Makefile.in.orig	Sun Oct 16 20:25:28 2005
+++ Makefile.in	Sat Feb 17 22:20:59 2007
@@@@ -5,7 +5,7 @@@@ exec_prefix=@@exec_prefix@@
 bindir=@@bindir@@
 
 CC=@@CC@@
-CFLAGS=@@CPPFLAGS@@ @@CFLAGS@@ 
+CFLAGS=@@CPPFLAGS@@ @@CFLAGS@@ @@DEFS@@ -fPIC
 LIBS=@@LIBS@@
 LDFLAGS=@@LDFLAGS@@
 
@@@@ -15,7 +15,7 @@@@ MKLIBFLAGS=-linkall
 
 INSTALL=@@INSTALL@@
 
-all: bytecode opt docs
+all: bytecode docs
 
 docs:
 	if [ ! -d doc ]; then mkdir doc; fi
@@@@ -33,10 +33,9 @@@@ distclean: clean
d7 1
a7 1
 # one in . 
d9 3
a11 1
-	ocamlfind install sqlite3 META sqlite3.cmi sqlite3.mli sqlite3.cma *.cmxa *.a *.cmx *.so
d14 2
a15 3
+install: sqlite3.cma sqlite3top
+	ocamlfind install sqlite3 META sqlite3.cmi sqlite3.mli sqlite3.cma -optional *.cmxa *.a *.cmx *.so
+	$(INSTALL) sqlite3top $(DESTDIR)$(bindir)/sqlite3top
a18 9
@@@@ -48,7 +47,7 @@@@ update: sqlite3.cma
 	make install
 
 sqlite3top: sqlite3.cma
-	ocamlfind ocamlmktop -o sqlite3top sqlite3.cma
+	ocamlfind ocamlmktop -o sqlite3top libsqlite3.a sqlite3.cma
 
 sqlite3.cma: sqlite3.cmo sqlite3_stubs.o
 	ocamlmklib -o sqlite3 sqlite3.cmo sqlite3_stubs.o $(LDFLAGS) $(LIBS) $(MKLIBFLAGS)
@


1.3
log
@need -fPIC for shared objects (build on amd64)
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.2 2007/01/03 11:38:19 robert Exp $
@


1.2
log
@fix build on arches (like arm) where nativecode ocaml is
not available; no package change
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.1.1.1 2006/06/01 01:20:25 avsm Exp $
--- Makefile.in.orig	Mon Oct 17 04:25:28 2005
+++ Makefile.in	Wed Jan  3 12:28:23 2007
d9 1
a9 1
+CFLAGS=@@CPPFLAGS@@ @@CFLAGS@@ @@DEFS@@
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.in.orig	Mon Oct 17 03:25:28 2005
+++ Makefile.in	Mon May 29 22:19:44 2006
d13 11
a23 1
@@@@ -34,9 +34,8 @@@@ distclean: clean
d26 1
a26 1
 install: sqlite3.cma sqlite3.cmxa sqlite3top
d30 1
@


1.1.1.1
log
@initial import of ocaml-sqlite3-0.2.0
--
OCaml bindings to the SQLite 3 database access library.  The current
version provides low level access to the SQL queries and data
transfer.  Aggregate/user-defined SQL function support is not
implemented.
@
text
@@
