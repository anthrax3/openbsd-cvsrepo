head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.2
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.1.0.12
	OPENBSD_6_1_BASE:1.1
	OPENBSD_6_0:1.1.0.10
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.6
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.8
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.4
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2017.08.09.09.16.09;	author dcoppa;	state Exp;
branches;
next	1.1;
commitid	KL6bkeK2RgpQiU3p;

1.1
date	2014.07.12.09.53.57;	author dcoppa;	state Exp;
branches;
next	;
commitid	Iyun1meNnoZ1mgZP;


desc
@@


1.2
log
@
Update to redis-4.0.1
@
text
@$OpenBSD: patch-deps_hiredis_net_c,v 1.1 2014/07/12 09:53:57 dcoppa Exp $
Index: deps/hiredis/net.c
--- deps/hiredis/net.c.orig
+++ deps/hiredis/net.c
@@@@ -141,7 +141,7 @@@@ int redisKeepAlive(redisContext *c, int interval) {
         return REDIS_ERR;
     }
 #else
-#if defined(__GLIBC__) && !defined(__FreeBSD_kernel__)
+#if defined(__GLIBC__) && !defined(__FreeBSD_kernel__) && !defined(__OpenBSD__)
     val = interval;
     if (setsockopt(fd, IPPROTO_TCP, TCP_KEEPIDLE, &val, sizeof(val)) < 0) {
         __redisSetError(c,REDIS_ERR_OTHER,strerror(errno));
@


1.1
log
@
Update to redis-2.8.12
@
text
@d1 5
a5 4
$OpenBSD$
--- deps/hiredis/net.c.orig	Mon Jun 23 16:56:18 2014
+++ deps/hiredis/net.c	Sat Jul 12 11:41:26 2014
@@@@ -138,7 +138,7 @@@@ int redisKeepAlive(redisContext *c, int interval) {
d9 2
a10 2
-#ifndef __sun
+#if !defined(__sun) && !defined(__OpenBSD__)
@

