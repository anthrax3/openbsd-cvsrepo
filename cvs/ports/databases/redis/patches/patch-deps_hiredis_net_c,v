head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.10
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.6
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.8
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.4
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2014.07.12.09.53.57;	author dcoppa;	state Exp;
branches;
next	;
commitid	Iyun1meNnoZ1mgZP;


desc
@@


1.1
log
@
Update to redis-2.8.12
@
text
@$OpenBSD$
--- deps/hiredis/net.c.orig	Mon Jun 23 16:56:18 2014
+++ deps/hiredis/net.c	Sat Jul 12 11:41:26 2014
@@@@ -138,7 +138,7 @@@@ int redisKeepAlive(redisContext *c, int interval) {
         return REDIS_ERR;
     }
 #else
-#ifndef __sun
+#if !defined(__sun) && !defined(__OpenBSD__)
     val = interval;
     if (setsockopt(fd, IPPROTO_TCP, TCP_KEEPIDLE, &val, sizeof(val)) < 0) {
         __redisSetError(c,REDIS_ERR_OTHER,strerror(errno));
@
