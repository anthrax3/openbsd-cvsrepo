head	1.6;
access;
symbols
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.2.0.4
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2;
locks; strict;
comment	@# @;


1.6
date	2016.05.10.09.38.48;	author dcoppa;	state dead;
branches;
next	1.5;
commitid	nsv8lxQo5Ys4l82d;

1.5
date	2015.04.27.08.53.17;	author dcoppa;	state Exp;
branches;
next	1.4;
commitid	pGdrb0WrxxvKsx1d;

1.4
date	2014.11.06.12.52.13;	author dcoppa;	state Exp;
branches
	1.4.2.1;
next	1.3;
commitid	i62Xz51k9nFlCmfB;

1.3
date	2014.08.12.10.09.56;	author dcoppa;	state Exp;
branches;
next	1.2;
commitid	AqSdh3j7fxPR91Lp;

1.2
date	2014.02.04.12.20.46;	author dcoppa;	state Exp;
branches;
next	1.1;

1.1
date	2013.11.29.08.32.24;	author dcoppa;	state Exp;
branches;
next	;

1.4.2.1
date	2015.06.06.18.16.19;	author dcoppa;	state Exp;
branches;
next	;
commitid	iLvvOSdUliVI6ENy;


desc
@@


1.6
log
@
Update to redis-3.2.0
@
text
@$OpenBSD: patch-src_redis_h,v 1.5 2015/04/27 08:53:17 dcoppa Exp $
--- src/redis.h.orig	Wed Apr  1 16:01:44 2015
+++ src/redis.h	Mon Apr 27 10:37:39 2015
@@@@ -98,7 +98,7 @@@@ typedef long long mstime_t; /* millisecond time type. 
 #define REDIS_DEFAULT_REPL_BACKLOG_TIME_LIMIT (60*60)  /* 1 hour */
 #define REDIS_REPL_BACKLOG_MIN_SIZE (1024*16)          /* 16k */
 #define REDIS_BGSAVE_RETRY_DELAY 5 /* Wait a few secs before trying again. */
-#define REDIS_DEFAULT_PID_FILE "/var/run/redis.pid"
+#define REDIS_DEFAULT_PID_FILE "/var/run/redis/redis.pid"
 #define REDIS_DEFAULT_SYSLOG_IDENT "redis"
 #define REDIS_DEFAULT_CLUSTER_CONFIG_FILE "nodes.conf"
 #define REDIS_DEFAULT_DAEMONIZE 0
@


1.5
log
@
Update to redis-3.0.0
@
text
@d1 1
a1 1
$OpenBSD: patch-src_redis_h,v 1.4 2014/11/06 12:52:13 dcoppa Exp $
@


1.4
log
@
Fix location/perms of the redis.sock file, for those who want to
use redis on a unix socket.

Amend redis.rc accordingly.

Also change the location of the pid file for consistency.

Discussed with, and ok landry@@
@
text
@d1 4
a4 4
$OpenBSD: patch-src_redis_h,v 1.3 2014/08/12 10:09:56 dcoppa Exp $
--- src/redis.h.orig	Mon Jul 14 17:48:14 2014
+++ src/redis.h	Tue Aug 12 11:49:22 2014
@@@@ -101,7 +101,7 @@@@ typedef long long mstime_t; /* millisecond time type. 
@


1.4.2.1
log
@
Security update to redis-2.8.21

Redis EVAL Lua Sandbox Escape: http://benmmurphy.github.io/blog/2015/06/04/redis-eval-lua-sandbox-escape/
@
text
@d1 4
a4 4
$OpenBSD: patch-src_redis_h,v 1.4 2014/11/06 12:52:13 dcoppa Exp $
--- src/redis.h.orig	Thu Jun  4 11:32:24 2015
+++ src/redis.h	Sat Jun  6 14:53:49 2015
@@@@ -98,7 +98,7 @@@@ typedef long long mstime_t; /* millisecond time type. 
@


1.3
log
@
Update to redis-2.8.13
@
text
@d1 1
a1 1
$OpenBSD: patch-src_redis_h,v 1.2 2014/02/04 12:20:46 dcoppa Exp $
d9 1
a9 1
+#define REDIS_DEFAULT_PID_FILE "${DBDIR}/redis.pid"
@


1.2
log
@Bugfix update to redis-2.8.5
@
text
@d1 4
a4 4
$OpenBSD: patch-src_redis_h,v 1.1 2013/11/29 08:32:24 dcoppa Exp $
--- src/redis.h.orig	Tue Feb  4 11:17:21 2014
+++ src/redis.h	Tue Feb  4 13:06:37 2014
@@@@ -97,7 +97,7 @@@@
@


1.1
log
@Update to redis-2.8.1
@
text
@d1 4
a4 4
$OpenBSD$
--- src/redis.h.orig	Wed Nov 27 15:18:39 2013
+++ src/redis.h	Wed Nov 27 15:19:12 2013
@@@@ -96,7 +96,7 @@@@
@

