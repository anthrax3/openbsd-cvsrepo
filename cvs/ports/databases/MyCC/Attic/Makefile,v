head	1.16;
access;
symbols
	OPENBSD_3_5:1.15.0.2
	OPENBSD_3_5_BASE:1.15
	OPENBSD_3_4:1.12.0.2
	OPENBSD_3_4_BASE:1.12
	OPENBSD_3_3:1.9.0.2
	OPENBSD_3_3_BASE:1.9
	OPENBSD_3_2:1.4.0.2
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.2.0.2
	OPENBSD_3_1_BASE:1.2
	wilfried_2002-03-19:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.16
date	2004.07.19.13.54.22;	author wilfried;	state dead;
branches;
next	1.15;

1.15
date	2004.01.30.18.05.35;	author sturm;	state Exp;
branches;
next	1.14;

1.14
date	2004.01.02.05.11.08;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	2003.12.26.13.43.47;	author wilfried;	state Exp;
branches;
next	1.12;

1.12
date	2003.08.24.20.48.55;	author sturm;	state Exp;
branches;
next	1.11;

1.11
date	2003.06.30.13.15.21;	author wilfried;	state Exp;
branches;
next	1.10;

1.10
date	2003.04.01.14.26.08;	author wilfried;	state Exp;
branches;
next	1.9;

1.9
date	2003.03.01.09.15.50;	author wilfried;	state Exp;
branches;
next	1.8;

1.8
date	2003.01.28.22.15.38;	author wilfried;	state Exp;
branches;
next	1.7;

1.7
date	2003.01.14.09.40.24;	author wilfried;	state Exp;
branches;
next	1.6;

1.6
date	2002.12.16.14.55.37;	author wilfried;	state Exp;
branches;
next	1.5;

1.5
date	2002.11.05.15.55.48;	author wilfried;	state Exp;
branches;
next	1.4;

1.4
date	2002.09.17.15.22.26;	author wilfried;	state Exp;
branches;
next	1.3;

1.3
date	2002.07.23.08.13.33;	author wilfried;	state Exp;
branches;
next	1.2;

1.2
date	2002.04.11.08.15.39;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.19.13.58.12;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.03.19.13.58.12;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.16
log
@renamed to mysqlcc
@
text
@# $OpenBSD: Makefile,v 1.15 2004/01/30 18:05:35 sturm Exp $

COMMENT=		"GUI client for MySQL"

VERSION=		0.9.4
DISTNAME=		mysqlcc-${VERSION}-src
PKGNAME=		mysqlcc-${VERSION}
CATEGORIES=		databases

HOMEPAGE=		http://mysql.com/products/mysqlcc/index.html

MAINTAINER=		Peter Stromberg <wilfried@@openbsd.org>

# GPL
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes

MASTER_SITES=		ftp://ftp.sunet.se/pub/unix/databases/relational/mysql/Downloads/MySQLCC/ \
			ftp://sunsite.dk/mirrors/mysql/Downloads/MySQLCC/ \
			ftp://gd.tuwien.ac.at/db/mysql/Downloads/MySQLCC/ \
			ftp://mysql.secsup.org/pub/software/mysql/Downloads/MySQLCC

MODQT_MT=		Yes
MODULES=		qt3
LIB_DEPENDS=		lib/mysql/mysqlclient.10::databases/mysql

MAKE_ENV=		LOCALBASE=${LOCALBASE} HACK_CFLAGS="${CFLAGS}"
MAKE_FLAGS=   		CC=${CC} CXX=${CXX} LINK=${CXX}

USE_X11=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	${MODQT_CONFIGURE_ARGS} \
			--with-mysql-lib=${LOCALBASE}/lib/mysql \
			--with-mysql-include=${LOCALBASE}/include/mysql
CONFIGURE_ENV=		QTDIR=${LOCALBASE} \
			FILESDIR=${FILESDIR} \
			LOCALBASE=${LOCALBASE}

NO_REGRESS=		Yes

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/mysqlcc ${PREFIX}/bin
	${INSTALL_DATA_DIR} ${PREFIX}/share/mysqlcc/translations
	${INSTALL_DATA} ${WRKSRC}/warning.wav ${WRKSRC}/error.wav ${WRKSRC}/syntax.txt ${PREFIX}/share/mysqlcc
	${INSTALL_DATA} ${WRKSRC}/translations/* ${PREFIX}/share/mysqlcc/translations

.include <bsd.port.mk>
@


1.15
log
@builds fine with -current systrace
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/01/02 05:11:08 brad Exp $
@


1.14
log
@better LIB_DEPENDS entries for MySQL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2003/12/26 13:43:47 wilfried Exp $
a41 1
NO_SYSTRACE=		"test -d '' succeeds"
@


1.13
log
@update mysqlcc to 0.9.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2003/08/24 20:48:55 sturm Exp $
d27 1
a27 1
LIB_DEPENDS=		lib/mysql/mysqlclient.10:mysql-client-3.23.*:databases/mysql
@


1.12
log
@mark these NO_SYSTRACE for now as systrace bugs manifest themselfs in
breaking build or packaging otherwise

- the gtk+2 problem is of unknown nature for now
- hylafax and MyCC break due to systrace translating "" to the current
directory in 'test -d ""' and thus succeeding the test instead of failing;
this is a problem when testing if some variable holds an existing directory
name and that variable is empty

ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/06/30 13:15:21 wilfried Exp $
d5 1
a5 1
VERSION=		0.9.2
@


1.11
log
@update to 0.9.2

* When no servers have been registered, automatically open the
  "Register Server" dialog on startup.

* Fixed a minor bug which didn't automatically set the correct
  default values for some features introduced in the prevous version
  when registering a new server.

* Added an "Unlimited" option for the Automatic SELECT Limit option.

* Enabled plugin support.

* Fixed a bug compiling MySQLCC with Qt < 3.1.0.

* Fixed a bug which automatically used the default unix socket when
  "localhost" was defined as the servers hostname.  It now uses the
  unix socket if the hostname is "localhost" and the port is 3306.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/04/01 14:26:08 wilfried Exp $
d42 1
@


1.10
log
@update to mysqlcc-0.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2003/03/01 09:15:50 wilfried Exp $
d5 1
a5 1
VERSION=		0.9.1
@


1.9
log
@update MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2003/01/28 22:15:38 wilfried Exp $
d5 1
a5 1
VERSION=		0.8.9
d10 1
a10 1
HOMEPAGE=		http://mysql.com/products/mycc/index.html
d20 4
a23 4
MASTER_SITES=		ftp://ftp.sunet.se/pub/unix/databases/relational/mysql/Downloads/MyCC/ \
			ftp://sunsite.dk/mirrors/mysql/Downloads/MyCC/ \
			ftp://gd.tuwien.ac.at/db/mysql/Downloads/MyCC/ \
			ftp://mysql.secsup.org/pub/software/mysql/Downloads/MyCC
@


1.8
log
@update to mysqlcc-0.8.9

Fixed a Security Bug under Unix / Linux platforms;  Previously, all
configuration and connection files where world-readable.

Various other bugfixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2003/01/14 09:40:24 wilfried Exp $
d23 1
a23 2
			ftp://mysql.secsup.org/pub/software/mysql/Downloads/MyCC \
			http://www.mysql.com/Downloads/MyCC/
@


1.7
log
@use threaded qt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/12/16 14:55:37 wilfried Exp $
d5 1
a5 1
VERSION=		0.8.7
@


1.6
log
@update to mysqlcc-0.8.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/11/05 15:55:48 wilfried Exp $
d26 1
@


1.5
log
@update to mysqlcc-0.8.6

This program will now be referred to as "MySQL Control Center", not
"MyCC". The name of the executable file has changed from "MyCC" to
"mysqlcc" and so have all the config directories.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/09/17 15:22:26 wilfried Exp $
d5 1
a5 1
VERSION=		0.8.6
@


1.4
log
@remove NEED_VERSION from my remaining ports
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.3 2002/07/23 08:13:33 wilfried Exp $

BROKEN=			"waiting for a version that supports QT >= 3.0.5"
d5 3
a7 3
VERSION=		0.8.2
DISTNAME=		mycc-${VERSION}-alpha-src
PKGNAME=		MyCC-${VERSION}
d21 4
a24 1
			ftp://ftp.mysql.com/MyCC/
a42 3
post-patch:
	@@rm ${WRKSRC}/include/CSqlEditor/qrichtext_p.h

d44 4
a47 4
	${INSTALL_PROGRAM} ${WRKBUILD}/MyCC ${PREFIX}/bin
	${INSTALL_DATA_DIR} ${PREFIX}/share/MyCC/translations
	${INSTALL_DATA} ${WRKSRC}/warning.wav ${WRKSRC}/error.wav ${WRKSRC}/syntax.txt ${PREFIX}/share/MyCC
	${INSTALL_DATA} ${WRKSRC}/translations/* ${PREFIX}/share/MyCC/translations
@


1.3
log
@broken for now, too many internal changes in Qt which MyCC relied on
has changed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/04/11 08:15:39 wilfried Exp $
a10 1
NEED_VERSION=		1.515
@


1.2
log
@Don't use a local copy of an (older) private qt3 include file, ok theo@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/03/19 13:58:12 wilfried Exp $
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d40 3
@


1.1.1.1
log
@Initial import of MyCC, a GUI client for MySQL
@
text
@@
