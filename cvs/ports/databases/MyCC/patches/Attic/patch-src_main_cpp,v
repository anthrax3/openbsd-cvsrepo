head	1.4;
access;
symbols
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.2.0.2
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.1.0.2
	OPENBSD_3_3_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2004.07.19.13.54.22;	author wilfried;	state dead;
branches;
next	1.3;

1.3
date	2003.12.26.13.43.47;	author wilfried;	state Exp;
branches;
next	1.2;

1.2
date	2003.04.01.14.26.09;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2003.01.28.22.15.38;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.4
log
@renamed to mysqlcc
@
text
@$OpenBSD: patch-src_main_cpp,v 1.3 2003/12/26 13:43:47 wilfried Exp $
--- src/main.cpp.orig	2003-12-14 00:10:44.000000000 +0100
+++ src/main.cpp	2003-12-26 14:10:30.000000000 +0100
@@@@ -22,7 +22,9 @@@@
 #undef VERSION
 #endif
 #include <m_string.h>
+#if MYSQL_VERSION_ID >= 40000
 #include <my_getopt.h>
+#endif
 #ifndef NO_QT
 #define NO_QT
 #endif
@@@@ -44,6 +46,7 @@@@ static const char *load_default_groups[]
 static ulong select_limit,my_net_buffer_length,max_join_size,my_max_allowed_packet,opt_connect_timeout=0;
 static uint opt_local_infile=0;
 
+#if MYSQL_VERSION_ID >= 40000
 static struct my_option my_long_options[] =
 {
   {"compress", 'C', "Use compression in server/client protocol.", 0, 0, 0, GET_NO_ARG, NO_ARG, 0, 0, 0, 0, 0, 0},
@@@@ -185,6 +188,7 @@@@ static void usage()
   my_print_variables(my_long_options);
   exit(-1);
 }
+#endif
 
 
 int main(int argc, char *argv[])
@@@@ -196,8 +200,10 @@@@ int main(int argc, char *argv[])
   load_defaults("my",load_default_groups,&argc,&argv);
   save_argv = argv;
   progname= argv[0];
+#if MYSQL_VERSION_ID >= 40000
   if (handle_options(&argc, &argv, my_long_options, get_one_option))
     exit(-1);
+#endif
   if (!argv[0] || !argv[1] || (pid = atoi(argv[0])) <= 0 || (t= atoi(argv[1])) <= 0)  
     ret = mysqlcc_main(argc, argv);
   free_defaults(save_argv);
@


1.3
log
@update mysqlcc to 0.9.4
@
text
@d1 1
a1 1
$OpenBSD: patch-src_main_cpp,v 1.2 2003/04/01 14:26:09 wilfried Exp $
@


1.2
log
@update to mysqlcc-0.9.1
@
text
@d1 3
a3 3
$OpenBSD$
--- src/main.cpp.orig	Fri Mar 28 23:06:01 2003
+++ src/main.cpp	Tue Apr  1 15:44:51 2003
d15 2
a16 2
 static ulong select_limit,my_net_buffer_length,max_join_size,my_max_allowed_packet,opt_connect_timeout=0;
 static uint opt_local_infile=0;
d20 2
a21 2
 {
   {"compress", 'C', "Use compression in server/client protocol.", 0, 0, 0, GET_NO_ARG, NO_ARG, 0, 0, 0, 0, 0, 0},
@


1.1
log
@update to mysqlcc-0.8.9

Fixed a Security Bug under Unix / Linux platforms;  Previously, all
configuration and connection files where world-readable.

Various other bugfixes
@
text
@d2 26
a27 8
--- src/main.cpp.orig	Tue Jan 21 12:58:57 2003
+++ src/main.cpp	Tue Jan 28 22:35:46 2003
@@@@ -16,7 +16,7 @@@@
   MA 02111-1307, USA 
 */
 #include "mysqlcc_main.h"
-#ifdef WIN32
+#if defined(WIN32) || MYSQL_VERSION_ID < 40000
a28 1
 // Win32 platforms currently don't support command line parameters
d30 11
@

