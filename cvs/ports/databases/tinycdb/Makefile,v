head	1.5;
access;
symbols
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.4.0.4
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.6
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	sthen_20121805:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2016.03.12.22.25.48;	author naddy;	state Exp;
branches;
next	1.4;
commitid	Hnmi3QksW47meVEX;

1.4
date	2014.09.08.17.51.09;	author jca;	state Exp;
branches;
next	1.3;
commitid	qr7yYvfom63eOYeC;

1.3
date	2013.03.11.02.52.09;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2012.05.19.08.14.38;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2012.05.18.20.59.13;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.05.18.20.59.13;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.5
log
@remove no_shared checks against PROPERTIES
@
text
@# $OpenBSD: Makefile,v 1.4 2014/09/08 17:51:09 jca Exp $

COMMENT =	creating and reading constant databases

DISTNAME =	tinycdb-0.78
CATEGORIES =	databases
SHARED_LIBS =	cdb	0.0

HOMEPAGE =	http://www.corpit.ru/mjt/tinycdb.html
MASTER_SITES =	http://www.corpit.ru/mjt/tinycdb/

MAINTAINER =	Christian Rueger <cr+openbsd@@rueger-net.de>

# Public domain
PERMIT_PACKAGE_CDROM =		Yes

WANTLIB =	c

MAKE_FLAGS =	CC="${CC}" CFLAGS="${CFLAGS}" LDFLAGS="${LDFLAGS}" \
		SHAREDLIB="libcdb.so.${LIBcdb_VERSION}" \
		prefix="${PREFIX}" sysconfdir="${SYSCONFDIR}" \
		INSTALLPROG="cdb-shared"

ALL_TARGET =		all shared
INSTALL_TARGET =	install install-sharedlib
TEST_TARGET =		tests-shared

post-install:
	rm -f "${PREFIX}/lib/libcdb.so"

.include <bsd.port.mk>
@


1.4
log
@Maintainer update to tinycdb-0.78.
- remove most of the makefile patching
- respect DEBUG=-g
- merge PFRAG.shared
Proofreading by sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 02:52:09 espie Exp $
d21 2
a22 1
		prefix="${PREFIX}" sysconfdir="${SYSCONFDIR}"
a23 6
.include <bsd.port.arch.mk>

.if ${PROPERTIES:Mno_shared}
TEST_TARGET =		tests
.else
MAKE_FLAGS +=		INSTALLPROG="cdb-shared"
a26 1
.endif
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2012/05/19 08:14:38 sthen Exp $
d5 1
a5 4
V =		0.77
REVISION =	0
DISTNAME =	tinycdb_$V
PKGNAME =	tinycdb-$V
d19 3
a21 3
WRKDIST =	${WRKDIR}/tinycdb-$V
MAKE_FLAGS +=	sysconfdir="${SYSCONFDIR}" LIBcdb_VERSION="${LIBcdb_VERSION}"
FAKE_FLAGS +=	${MAKE_FLAGS} prefix="${PREFIX}"
d26 1
a26 1
TEST_TARGET =	tests
d31 1
a31 1
TEST_TARGET =	tests-shared
d33 3
@


1.2
log
@remove strlcpy patch for tinycdb, the original code is safe and generally
we don't patch for strlcpy in ports any more except in special cases
(though we did when this port was first submitted in 2005 ;-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2012/05/18 20:59:13 sthen Exp $
a18 3
PERMIT_PACKAGE_FTP =		Yes
PERMIT_DISTFILES_CDROM =	Yes
PERMIT_DISTFILES_FTP =		Yes
d29 1
a29 1
REGRESS_TARGET =	tests
d34 1
a34 1
REGRESS_TARGET =	tests-shared
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
@


1.1.1.1
log
@import ports/databases/tinycdb, from maintainer Christian Rueger, ok okan@@

tinycdb is a small, fast and reliable utility and subroutine library for
creating and reading constant databases. The database structure is tuned
for fast reading.
@
text
@@
