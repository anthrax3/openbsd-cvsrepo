head	1.9;
access;
symbols
	OPENBSD_6_1:1.8.0.2
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.2.0.8
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.4
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.2
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.1.1.1.0.2
	OPENBSD_5_5_BASE:1.1.1.1
	sthen_20131108:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2017.08.10.17.27.34;	author sthen;	state Exp;
branches;
next	1.8;
commitid	X2Aoj8x7Pf3lDkpr;

1.8
date	2017.01.03.19.17.24;	author landry;	state Exp;
branches;
next	1.7;
commitid	AUU81IxhkQGenx5a;

1.7
date	2016.10.01.11.54.14;	author naddy;	state Exp;
branches;
next	1.6;
commitid	VJ09Ih4WMjVIWTmz;

1.6
date	2016.09.23.09.16.53;	author sthen;	state Exp;
branches;
next	1.5;
commitid	XLnI6AbHAmyVU5mO;

1.5
date	2016.03.20.16.12.23;	author naddy;	state Exp;
branches;
next	1.4;
commitid	guiZq8cnNbVyyHzx;

1.4
date	2016.01.26.13.29.11;	author sthen;	state Exp;
branches;
next	1.3;
commitid	ZbK7lgCkkXx564V3;

1.3
date	2016.01.26.13.05.26;	author sthen;	state Exp;
branches;
next	1.2;
commitid	cMxRj4DrHN3KQ6NU;

1.2
date	2014.06.03.11.32.18;	author rpointel;	state Exp;
branches;
next	1.1;
commitid	GGtXQtJAkkIfue3f;

1.1
date	2013.11.08.22.52.27;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.11.08.22.52.27;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.9
log
@update to py-apsw 3.9.2-r1, fix hardcoded gcc in tests
@
text
@# $OpenBSD: Makefile,v 1.8 2017/01/03 19:17:24 landry Exp $

COMMENT =	thin SQLite wrapper for Python

MODPY_EGG_VERSION = 3.9.2
DISTNAME =	apsw-${MODPY_EGG_VERSION}-r1
MODPY_PI_DIR=	a/apsw
PKGNAME =	py-apsw-${MODPY_EGG_VERSION}
CATEGORIES =	databases

HOMEPAGE=	https://rogerbinns.github.io/apsw/

# zlib
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += ${MODPY_WANTLIB} pthread sqlite3

LIB_DEPENDS =	databases/sqlite3

MODULES =	lang/python
MODPY_PI=	Yes

FLAVORS =	python3
FLAVOR ?=

MODPY_DISTUTILS_BUILDARGS = build_ext -I${LOCALBASE}/include

do-test: fake
	@@cd ${WRKSRC} && ${SETENV} PYTHONPATH=${WRKINST}${MODPY_SITEPKG} \
		${MODPY_BIN} ./tests.py

.include <bsd.port.mk>
@


1.8
log
@bump ports depending on python3 in databases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2016/10/01 11:54:14 naddy Exp $
d5 1
a5 2
MODPY_EGG_VERSION = 3.8.0.2
REVISION =	3
d7 1
a7 1
EXTRACT_SUFX =	.zip
a11 2
MASTER_SITES=	${MASTER_SITE_GOOGLECODE:=apsw/}
PORTROACH=	site:https://github.com/rogerbinns/apsw/releases
d21 1
@


1.7
log
@The ${PROJECT}.googlecode.com/files/ master sites are no longer
accessible, but the distfiles are still available at an archive URL.
Introduce MASTER_SITE_GOOGLECODE and use it for all affected ports.

ok czarkoff@@ danj@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/09/23 09:16:53 sthen Exp $
d6 1
a6 1
REVISION =	2
@


1.6
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/03/20 16:12:23 naddy Exp $
d13 1
a13 1
MASTER_SITES=	https://apsw.googlecode.com/files/
@


1.5
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2016/01/26 13:29:11 sthen Exp $
d6 1
a6 1
REVISION =	1
d21 2
d27 2
@


1.4
log
@use MODPY_PI MASTER_SITES where the files are the same as on googlecode.
update some HOMEPAGEs and add some comments.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.3 2016/01/26 13:05:26 sthen Exp $

SHARED_ONLY =	Yes
@


1.3
log
@Chase Location: header redirects for googlecode-hosted HOMEPAGEs and
bump REVISION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/06/03 11:32:18 rpointel Exp $
d14 3
a16 3
HOMEPAGE=	https://github.com/rogerbinns/apsw

MASTER_SITES =	https://apsw.googlecode.com/files/
@


1.2
log
@changed python3 default version so bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/11/08 22:52:27 sthen Exp $
a6 1
REVISION = 0
d8 1
d14 2
a16 1
HOMEPAGE=	https://code.google.com/p/apsw/
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/05/30 10:51:23 sthen Exp $
d7 1
@


1.1.1.1
log
@import databases/py-apsw, ok jca@@

A Python wrapper for the SQLite embedded relational database engine.
In contrast to other wrappers such as pysqlite it focuses on being
a minimal layer over SQLite attempting just to translate the
complete SQLite API into Python.
@
text
@@
