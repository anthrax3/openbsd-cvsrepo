head	1.19;
access;
symbols
	OPENBSD_6_2:1.19.0.2
	OPENBSD_6_2_BASE:1.19
	OPENBSD_6_1:1.18.0.2
	OPENBSD_6_1_BASE:1.18
	OPENBSD_6_0:1.17.0.4
	OPENBSD_6_0_BASE:1.17
	OPENBSD_5_9:1.17.0.2
	OPENBSD_5_9_BASE:1.17
	OPENBSD_5_8:1.16.0.4
	OPENBSD_5_8_BASE:1.16
	OPENBSD_5_7:1.15.0.8
	OPENBSD_5_7_BASE:1.15
	OPENBSD_5_6:1.15.0.6
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.15.0.4
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.15.0.2
	OPENBSD_5_4_BASE:1.15
	OPENBSD_5_3:1.14.0.2
	OPENBSD_5_3_BASE:1.14
	OPENBSD_5_2:1.11.0.4
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.11
	OPENBSD_5_1:1.11.0.2
	OPENBSD_5_0:1.9.0.2
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.3.0.6
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.4
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.1.0.2
	OPENBSD_4_4_BASE:1.1.1.1
	wcmaier_20080508:1.1.1.1
	wcmaier:1.1.1;
locks; strict;
comment	@# @;


1.19
date	2017.08.03.14.28.44;	author benoit;	state Exp;
branches;
next	1.18;
commitid	Aq12BmqnNaFpKWTp;

1.18
date	2017.01.11.12.13.24;	author benoit;	state Exp;
branches;
next	1.17;
commitid	9lMW1FZoGheBpEaL;

1.17
date	2015.09.29.10.51.14;	author sthen;	state Exp;
branches;
next	1.16;
commitid	0mMHGyUMEfafRiiY;

1.16
date	2015.04.02.14.21.13;	author jasper;	state Exp;
branches;
next	1.15;
commitid	4Dkfcsk2uZtFDSwy;

1.15
date	2013.03.11.02.52.07;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2013.01.17.12.16.28;	author benoit;	state Exp;
branches;
next	1.13;

1.13
date	2013.01.08.15.42.26;	author benoit;	state Exp;
branches;
next	1.12;

1.12
date	2013.01.07.13.07.04;	author benoit;	state Exp;
branches;
next	1.11;

1.11
date	2011.11.04.08.16.24;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.16.08.48.04;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2011.06.08.17.33.59;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.18.20.48.03;	author benoit;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.15.00.22.53;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.06.22.50.03;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.01.13.48.40;	author benoit;	state Exp;
branches;
next	1.4;

1.4
date	2010.08.30.20.53.57;	author fgsch;	state Exp;
branches;
next	1.3;

1.3
date	2009.03.14.14.47.27;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2008.10.28.09.28.24;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.05.08.16.53.22;	author wcmaier;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.05.08.16.53.22;	author wcmaier;	state Exp;
branches;
next	;


desc
@@


1.19
log
@Update to py-pygresql-5.0.4.
@
text
@# $OpenBSD: Makefile,v 1.18 2017/01/11 12:13:24 benoit Exp $

COMMENT =	PostgreSQL module for Python

MODPY_EGG_VERSION =	5.0.4
DISTNAME =		PyGreSQL-${MODPY_EGG_VERSION}
PKGNAME =		py-pygresql-${MODPY_EGG_VERSION}
CATEGORIES =		databases

HOMEPAGE =		http://www.pygresql.org/

MAINTAINER =		Benoit Lecocq <benoit@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM =	Yes

FLAVORS=	python3
FLAVOR ?=

MODULES =	lang/python
LIB_DEPENDS =	databases/postgresql
WANTLIB +=	pq>=5 ${MODPY_WANTLIB} pthread
BUILD_DEPENDS =	databases/postgresql,-server
RUN_DEPENDS =	databases/postgresql,-main

MODPY_PI =	Yes
EXTRACT_SUFX =	.tar.gz
NO_TEST =	Yes

MODPY_SETUPTOOLS = Yes

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/${MODPY_PY_PREFIX}pygresql
	cd ${WRKBUILD} && tar -cf - docs tests | \
		tar -xf - -C ${PREFIX}/share/doc/${MODPY_PY_PREFIX}pygresql/

.include <bsd.port.mk>
@


1.18
log
@Update to py-pygresql-5.0.3.

Add python3 flavor from Andreas Karlsson, thanks.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/09/29 10:51:14 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	5.0.3
@


1.17
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2015/04/02 14:21:13 jasper Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	4.1.1
a8 1
REVISION =		0
d17 3
d27 1
a27 1
EXTRACT_SUFX =	.tgz
a31 3
post-patch:
	${SUBST_CMD} ${WRKSRC}/tutorial/advanced.py ${WRKSRC}/tutorial/basics.py

d33 3
a35 4
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/py-pygresql
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/py-pygresql
	${INSTALL_DATA} ${WRKSRC}/docs/*.txt ${PREFIX}/share/doc/py-pygresql/
	${INSTALL_DATA} ${WRKSRC}/tutorial/*.py ${PREFIX}/share/examples/py-pygresql/
@


1.16
log
@- switch to MODPY_PI
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/03/11 02:52:07 espie Exp $
d9 1
@


1.15
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/01/17 12:16:28 benoit Exp $
d23 1
a23 1
MASTER_SITES =	${MASTER_SITE_PYPI:=P/PyGreSQL/}
@


1.14
log
@- update py-pygresql to 4.1.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/01/08 15:42:26 benoit Exp $
a15 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
PERMIT_DISTFILES_FTP =	Yes
d25 1
a25 1
NO_REGRESS =	Yes
@


1.13
log
@- fix the problem of MASTER_SITES with distfile re-rolled
- bump REVISION

report by naddy@@ and nigel@@, ok nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/01/07 13:07:04 benoit Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	4.1
a8 2

REVISION =		0
@


1.12
log
@- update py-pygresql to 4.1
- update WANTLIB and MASTER_SITES
- add MODPY_SETUPTOOLS
- update patches
- regen PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/11/04 08:16:24 jasper Exp $
d10 2
d28 1
a28 1
MASTER_SITES =	${HOMEPAGE}/files/
@


1.11
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/16 08:48:04 espie Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	4.0
a8 1
REVISION =		3
d22 1
a22 1
WANTLIB +=	pq>=5 ${MODPY_WANTLIB}
d26 1
a26 1
MASTER_SITES =	ftp://ftp.pygresql.org/pub/distrib/
d29 2
@


1.10
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/06/08 17:33:59 jasper Exp $
d9 1
a9 1
REVISION =		2
d23 1
a23 1
WANTLIB +=	pq>=5
@


1.9
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/18 20:48:03 benoit Exp $
d9 1
a9 1
REVISION =		1
@


1.8
log
@- unbreak py-pygresql under i386, spotted by naddy@@
- take maintainership on it

ok Laurence Tratt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/15 00:22:53 espie Exp $
d9 1
a9 1
REVISION =		0
@


1.7
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/06 22:50:03 espie Exp $
d9 1
d13 1
a13 1
MAINTAINER =		Laurence Tratt <laurie@@tratt.net>
@


1.6
log
@bye bye old LIB_DEPENDS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/01 13:48:40 benoit Exp $
d21 4
a24 4
LIB_DEPENDS =	:postgresql-client-*:databases/postgresql
WANTLIB +=	pq.>=5
BUILD_DEPENDS =	:postgresql-server-*:databases/postgresql,-server
RUN_DEPENDS =	:postgresql-client-*:databases/postgresql,-main
@


1.5
log
@- update py-pugresql to 4.0

ok maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/08/30 20:53:57 fgsch Exp $
d21 2
a22 1
LIB_DEPENDS =	pq.>=5:postgresql-client-*:databases/postgresql
@


1.4
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/03/14 14:47:27 espie Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	3.8.1
a7 1
REVISION =		1
@


1.3
log
@fix deps
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/10/28 09:28:24 ajacoutot Exp $
d7 2
a8 1
PKGNAME =		py-pygresql-${MODPY_EGG_VERSION}p0
@


1.2
log
@- MODPY_BIN is already in default SUBST_VARS with the lang/python MODULE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/05/08 16:53:22 wcmaier Exp $
d7 1
a7 1
PKGNAME =		py-pygresql-${MODPY_EGG_VERSION}
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
a27 2

SUBST_VARS =	MODPY_BIN
@


1.1.1.1
log
@Import py-pygresql.

PyGreSQL is a BSD licensed open-source Python module that interfaces
to a PostgreSQL database. It embeds the PostgreSQL query library to
allow easy use of the powerful PostgreSQL features from a Python
script.

From MAINTAINER Laurence Tratt <laurie at tratt dot net>.

ok merdely@@
@
text
@@
