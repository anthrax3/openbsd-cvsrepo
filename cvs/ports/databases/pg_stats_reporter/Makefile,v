head	1.5;
access;
symbols
	OPENBSD_6_0:1.5.0.2
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.1.1.0.4
	OPENBSD_5_6_BASE:1.1.1.1
	OPENBSD_5_5:1.1.1.1.0.2
	OPENBSD_5_5_BASE:1.1.1.1
	landry_20131023:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2016.05.13.22.30.25;	author landry;	state Exp;
branches;
next	1.4;
commitid	soxGCOYV5JqIXN3Y;

1.4
date	2016.03.19.23.59.15;	author naddy;	state Exp;
branches;
next	1.3;
commitid	f78UdaLw3Lb0ClLt;

1.3
date	2015.06.05.06.00.21;	author robert;	state Exp;
branches;
next	1.2;
commitid	PS9YXjRm9KQkIZjT;

1.2
date	2014.11.06.17.13.39;	author sthen;	state Exp;
branches;
next	1.1;
commitid	ig1O4RkSPXzTZYwZ;

1.1
date	2013.10.23.22.04.58;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.10.23.22.04.58;	author landry;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to pg_stats_reporter 3.2.1 to chase pg_statsinfo.
@
text
@# $OpenBSD: Makefile,v 1.4 2016/03/19 23:59:15 naddy Exp $

COMMENT =	graphical report tool for PostgreSQL

DISTNAME =	pg_stats_reporter-3.2.1
CATEGORIES =	databases www

HOMEPAGE =	http://pgstatsinfo.sourceforge.net/

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=pgstatsinfo/}
NO_BUILD =	Yes
NO_TEST =	Yes

PREFIX =		${VARBASE}/www
INSTDIR =	${PREFIX}/pg_stats_reporter_lib/

SUBST_VARS +=	INSTDIR MODPHP_BIN
MODULES =	lang/php
RUN_DEPENDS =	lang/php/${MODPHP_VERSION},-pgsql \
		lang/php/${MODPHP_VERSION},-intl

do-install:
	${INSTALL_DATA_DIR} ${INSTDIR}
	${SUBST_CMD} -c -m 755 ${WRKSRC}/bin/pg_stats_reporter ${WRKINST}/usr/local/bin/pg_stats_reporter
	cp -pR ${WRKSRC}/html/ ${PREFIX}/htdocs/
	mv ${PREFIX}/htdocs/pg_stats_reporter/{pg_stats_reporter,index}.php
	cp -pR ${WRKSRC}/pg_stats_reporter_lib ${PREFIX}
	chown -R ${SHAREOWN}:${SHAREGRP} ${INSTDIR} ${PREFIX}/htdocs/pg_stats_reporter/
	chown www:www ${INSTDIR}/{cache,compiled}

.include <bsd.port.mk>
@


1.4
log
@remove SHARED_ONLY from PHP ports, unused
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/06/05 06:00:21 robert Exp $
d5 1
a5 1
DISTNAME =	pg_stats_reporter-1.0.1
a6 1
REVISION =	1
d8 1
a8 1
HOMEPAGE =	http://pgstatsinfo.projects.pgfoundry.org/
d13 1
a13 1
MASTER_SITES =	http://pgfoundry.org/frs/download.php/3437/
d18 1
a18 1
INSTDIR =	${PREFIX}/pg_stats_reporter/
d20 1
a20 1
SUBST_VARS +=	INSTDIR
d22 2
a23 1
RUN_DEPENDS =	lang/php/${MODPHP_VERSION},-pgsql
d26 2
d30 1
a30 1
	cp -pR ${WRKSRC}/pg_stats_reporter ${INSTDIR}
@


1.3
log
@bump revision due to the change of the default php version to 5.6
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2014/11/06 17:13:39 sthen Exp $
a3 1
SHARED_ONLY =	Yes
@


1.2
log
@bump REVISION for php version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/10/23 22:04:58 landry Exp $
d8 1
a8 1
REVISION =	0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/11 02:52:07 espie Exp $
d8 1
@


1.1.1.1
log
@Import pg_stats_reporter 1.0.1.

Pg_stats_reporter can show statistical and graphical reports using
data generated by pg_statsinfo. It doesnt RDEP on it as obviously this
can run on (several|a) different host(s)..

Patch out the dependency on php-intl until we have it enabled in our
php. Tested by Jean-Gerard Pailloncy.

ok ajacoutot@@
@
text
@@
