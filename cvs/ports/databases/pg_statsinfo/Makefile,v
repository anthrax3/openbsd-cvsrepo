head	1.9;
access;
symbols
	OPENBSD_6_1:1.9.0.2
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.7.0.2
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.4.0.8
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.10
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.6
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	landry_20131023:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2016.12.18.18.21.03;	author jeremy;	state Exp;
branches;
next	1.8;
commitid	kuFDkGwD3nOLmEyK;

1.8
date	2016.09.11.20.54.12;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	9aCynzSLedE7m3mA;

1.7
date	2016.05.13.22.09.21;	author landry;	state Exp;
branches;
next	1.6;
commitid	FIw2mHfYDpYa5Dl8;

1.6
date	2016.05.13.14.41.10;	author pea;	state Exp;
branches;
next	1.5;
commitid	p9WO5HYeRsnD8PzG;

1.5
date	2016.03.16.16.46.32;	author naddy;	state Exp;
branches;
next	1.4;
commitid	4Ekn8nPgVVHWLTwe;

1.4
date	2013.10.27.13.35.34;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2013.10.25.21.44.48;	author landry;	state Exp;
branches;
next	1.2;

1.2
date	2013.10.24.21.24.51;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2013.10.23.22.00.19;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.10.23.22.00.19;	author landry;	state Exp;
branches;
next	;


desc
@@


1.9
log
@Update patch to work on PostgreSQL 9.6

OK pea@@ landry@@
@
text
@# $OpenBSD: Makefile,v 1.8 2016/09/11 20:54:12 ajacoutot Exp $

COMMENT =	monitor PostgreSQL activity & statistics

DISTNAME =	pg_statsinfo-3.2.1
CATEGORIES =	databases
REVISION =	1

HOMEPAGE =	http://pgstatsinfo.sourceforge.net/

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=pgstatsinfo/}

USE_GMAKE =	Yes
MAKE_FLAGS =	USE_PGXS=1 CFLAGS="-DPG_USE_INLINE" LDFLAGS=-lkvm

BUILD_DEPENDS =	databases/postgresql,-server
LIB_DEPENDS =	databases/postgresql

WANTLIB += c kvm pq pthread

.include <bsd.port.mk>
@


1.8
log
@Second and last pass at pre-entively fixing ports that would break once
guenther's header pollution cleanup diff is in.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2016/05/13 22:09:21 landry Exp $
d7 1
a7 1
REVISION =	0
@


1.7
log
@Unbreak by updating to pg_statsinfo 3.2.1.

Project moved to sourceforge, see http://pgstatsinfo.sourceforge.net/
Basic testing seems to show it works fine with postgres 9.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/05/13 14:41:10 pea Exp $
d7 1
@


1.6
log
@Doesn't build with PostgreSQL 9.5.
ok jeremy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/03/16 16:46:32 naddy Exp $
a2 1
BROKEN = 	doesnt build with postgresql 9.5
d5 1
a5 1
DISTNAME =	pg_statsinfo-2.4.1
a6 1
REVISION =	0
d8 1
a8 1
HOMEPAGE =	http://pgstatsinfo.projects.pgfoundry.org/
d13 1
a13 1
MASTER_SITES =	http://pgfoundry.org/frs/download.php/3429/
d21 1
a21 1
WANTLIB += c crypto kvm m pq pthread readline ssl termcap xml2 z
@


1.5
log
@remove SHARED_ONLY from ports that don't use any MODULES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/10/27 13:35:34 landry Exp $
d3 1
@


1.4
log
@Add missing BDEP on postgresql,-server, originally from kili@@, forgotten
in previous commit, and reminded by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/10/25 21:44:48 landry Exp $
a3 1
SHARED_ONLY =	Yes
@


1.3
log
@Unbreak by allowing it to build against new PostgreSQL 9.3 API. Totally
untested @@runtime though..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/10/24 21:24:51 landry Exp $
d20 1
@


1.2
log
@Mark BROKEN, doesnt build with pg 9.3 as reported by kili@@.
That'll teach me to import stuff lying in mystuff for ages without
rebuilding it... fix pending.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/10/23 22:00:19 landry Exp $
a5 1
BROKEN =	needs fix for pg 9.3
d8 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/11 02:52:07 espie Exp $
d6 1
d18 1
a18 1
MAKE_FLAGS =	USE_PGXS=1 CFLAGS="-DUSE_INLINE" LDFLAGS=-lkvm
@


1.1.1.1
log
@Import pg_statsinfo-2.4.1.

pg_statsinfo is a utility that monitor statistics and the activity of
PostgreSQL(and OS). pg_statsinfo gets some statistics information as
snapshot. We can check the DB activity and bottleneck analysis by using
these snapshot information. This utility provides some function to get
the information acquisition easily.

Low-level os monitoring (cpu/loadavg/memory only for now) tweaked from
a patch in FreeBSD's portstree.
Refer to ${HOMEPAGE} for how to configure it, no need to replicate the
provided extensive doc in a README.

ok ajacoutot@@
@
text
@@
