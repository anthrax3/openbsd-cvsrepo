head	1.7;
access;
symbols
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.1.1.1.0.6
	OPENBSD_6_0_BASE:1.1.1.1
	OPENBSD_5_9:1.1.1.1.0.2
	OPENBSD_5_9_BASE:1.1.1.1
	OPENBSD_5_8:1.1.1.1.0.4
	OPENBSD_5_8_BASE:1.1.1.1
	robert_20150405:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.7
date	2017.09.23.10.53.07;	author sthen;	state Exp;
branches;
next	1.6;
commitid	32c5zMwxVlB3oIck;

1.6
date	2017.07.26.22.45.17;	author sthen;	state Exp;
branches;
next	1.5;
commitid	tD4MFrpYYDDL2UFT;

1.5
date	2017.07.23.09.26.26;	author espie;	state Exp;
branches;
next	1.4;
commitid	FZPR2Emws5uDqXzb;

1.4
date	2017.07.16.19.18.50;	author espie;	state Exp;
branches;
next	1.3;
commitid	tt0GhWK5c4uf9ILG;

1.3
date	2017.04.10.11.45.25;	author sthen;	state Exp;
branches;
next	1.2;
commitid	XDh1zlSBq0boKsHk;

1.2
date	2017.02.06.20.20.23;	author sthen;	state Exp;
branches;
next	1.1;
commitid	5y3PZ7bZF4hgO1nQ;

1.1
date	2015.04.05.21.41.02;	author robert;	state Exp;
branches
	1.1.1.1;
next	;
commitid	KKeBPcHZhs7VjV3T;

1.1.1.1
date	2015.04.05.21.41.02;	author robert;	state Exp;
branches;
next	;
commitid	KKeBPcHZhs7VjV3T;


desc
@@


1.7
log
@WANTLIB+=c for more perl XS things
@
text
@# $OpenBSD: Makefile,v 1.6 2017/07/26 22:45:17 sthen Exp $

COMMENT-main=	perl bindings for Xapian
COMMENT-python=	python bindings for Xapian

V=		1.2.15
DISTNAME=	xapian-bindings-${V}
REVISION-main =	3
REVISION-python = 1

PKGNAME-main=	xapian-bindings-perl-${V}
PKGNAME-python=	xapian-bindings-python-${V}

MODULES=	lang/python

MULTI_PACKAGES=	-main -python

CATEGORIES=	databases textproc

HOMEPAGE=	http://xapian.org/

# GPLv2
PERMIT_PACKAGE_CDROM=	Yes

MASTER_SITES=	http://oligarchy.co.uk/xapian/${V}/

LIB_DEPENDS=		databases/xapian-core

WANTLIB += ${COMPILER_LIBCXX} m uuid z xapian
WANTLIB-main = ${WANTLIB} c perl

AUTOCONF_VERSION=	2.68
CONFIGURE_STYLE=	autoconf
CONFIGURE_ARGS=		--without-php --without-ruby \
			--without-tcl --without-csharp \
			--without-java --without-lua

.include <bsd.port.mk>
@


1.6
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2017/07/23 09:26:26 espie Exp $
d8 1
a8 1
REVISION-main =	2
d29 2
a30 2
WANTLIB += m ${COMPILER_LIBCXX} uuid z xapian
WANTLIB-main = ${WANTLIB} perl # uses perl ABI
@


1.5
log
@add pthread to COMPILER_LIBCXX.
white lie, but it allows clang and gcc to be more similar
bump accordingly.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2017/07/16 19:18:50 espie Exp $
d8 2
a9 2
REVISION-main =	1
REVISION-python = 0
@


1.4
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2017/04/10 11:45:25 sthen Exp $
a6 1
REVISION-main=	0
d8 2
@


1.3
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2017/02/06 20:20:23 sthen Exp $
d28 1
a28 1
WANTLIB += m ${LIBCXX} uuid z xapian
@


1.2
log
@Add perl to WANTLIB, first batch. This used to be done automatically but
since SHARED_ONLY support was removed across the ports tree the perl module
no longer adds it, so it must be done manually for any perl ports that
provide perl shared-library modules (i.e. libdata/perl5/site_perl/$ARCH/*.so)
and you must not remove them from WANTLIB even if they show as "Extra".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2015/04/05 21:41:02 robert Exp $
d28 1
a28 1
WANTLIB += m stdc++ uuid z xapian
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
d29 1
@


1.1.1.1
log
@import of databases/xapian-bindings:
Bindings allowing Xapian to be used from various other programming languages.
Currently the port provides bindings for perl and python only, but can easily
be extended if needed.

ok ajacoutot@@

@
text
@@
