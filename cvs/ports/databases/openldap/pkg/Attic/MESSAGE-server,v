head	1.3;
access;
symbols
	OPENBSD_4_8:1.1.0.12
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.10
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.8
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.6
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.4
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2011.01.07.12.24.33;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2011.01.07.10.24.30;	author pea;	state Exp;
branches;
next	1.1;

1.1
date	2008.02.13.09.45.54;	author landry;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Unbreak rc script.
Remove bogus MESSAGE-server.
@
text
@To start slapd, configure it in ${SYSCONFDIR}/openldap/slapd.conf then add
the following line to /etc/rc.conf.local:

slapd_flags="-u _openldap"

@


1.2
log
@*MAJOR UPGRADE*

Upgrade to OpenLDAP 2.4.23.
Important things to know:

+ ldbm backend has been removed
+ bdb is the default backend
+ slurp has been removed

Backup all your data before this upgrade !!

Tested in a bulk by landry@@
Lot of help/comments/ideas/tests from ajacoutot@@, jasper@@, landry@@, sthen@@, stephan@@

ok ajacoutot@@, landry@@, jasper@@, stephan@@
@
text
@@


1.1
log
@Install @@sample /var/openldap-* as owned by unpriviledged user _openldap, and
add a pkg/MESSAGE-server teaching the user how to launch slapd in rc.local as
_openldap user.

english 'looks fine' jmc@@, and ok ajacoutot@@ mbalmer@@ (maintainer)
@
text
@a5 8
and to /etc/rc.local (be sure to start it _before_ any daemon that may
need it):

if [ "$slapd_flags" != "NO" -a -x ${PREFIX}/libexec/slapd ]; then
    install -d -o _openldap /var/run/openldap
    ${PREFIX}/libexec/slapd $slapd_flags
    echo -n ' slapd'
fi
@

