head	1.20;
access;
symbols
	OPENBSD_6_1:1.20.0.4
	OPENBSD_6_1_BASE:1.20
	OPENBSD_6_0:1.20.0.2
	OPENBSD_6_0_BASE:1.20
	OPENBSD_5_9:1.19.0.20
	OPENBSD_5_9_BASE:1.19
	OPENBSD_5_8:1.19.0.22
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.19.0.18
	OPENBSD_5_7_BASE:1.19
	OPENBSD_5_6:1.19.0.16
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.14
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.19.0.12
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.19.0.10
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.19.0.8
	OPENBSD_5_2_BASE:1.19
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.6
	OPENBSD_5_0:1.19.0.4
	OPENBSD_5_0_BASE:1.19
	OPENBSD_4_9:1.19.0.2
	OPENBSD_4_9_BASE:1.19
	OPENBSD_4_8:1.18.0.4
	OPENBSD_4_8_BASE:1.18
	OPENBSD_4_7:1.18.0.2
	OPENBSD_4_7_BASE:1.18
	OPENBSD_4_6:1.17.0.6
	OPENBSD_4_6_BASE:1.17
	OPENBSD_4_5:1.17.0.4
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.17.0.2
	OPENBSD_4_4_BASE:1.17
	OPENBSD_4_3:1.16.0.2
	OPENBSD_4_3_BASE:1.16
	OPENBSD_4_2:1.15.0.4
	OPENBSD_4_2_BASE:1.15
	OPENBSD_4_1:1.15.0.2
	OPENBSD_4_1_BASE:1.15
	OPENBSD_4_0:1.13.0.4
	OPENBSD_4_0_BASE:1.13
	OPENBSD_3_9:1.13.0.2
	OPENBSD_3_9_BASE:1.13
	OPENBSD_3_8:1.10.0.2
	OPENBSD_3_8_BASE:1.10
	OPENBSD_3_7:1.7.0.2
	OPENBSD_3_7_BASE:1.7
	OPENBSD_3_6:1.5.0.2
	OPENBSD_3_6_BASE:1.5
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.3.0.8
	OPENBSD_3_4_BASE:1.3
	OPENBSD_3_3:1.3.0.6
	OPENBSD_3_3_BASE:1.3
	OPENBSD_3_2:1.3.0.4
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.1.0.2
	OPENBSD_3_0_BASE:1.1;
locks; strict;
comment	@# @;


1.20
date	2016.06.29.16.14.38;	author espie;	state Exp;
branches;
next	1.19;
commitid	c1yQMbJbfo0CFBcL;

1.19
date	2011.01.07.10.24.30;	author pea;	state Exp;
branches;
next	1.18;

1.18
date	2009.08.21.13.21.19;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2008.07.15.18.25.53;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2008.02.13.09.45.54;	author landry;	state Exp;
branches;
next	1.15;

1.15
date	2007.01.23.12.57.32;	author mbalmer;	state Exp;
branches;
next	1.14;

1.14
date	2007.01.13.13.37.33;	author mbalmer;	state Exp;
branches;
next	1.13;

1.13
date	2006.02.28.16.27.53;	author bernd;	state Exp;
branches;
next	1.12;

1.12
date	2005.11.12.18.12.06;	author mbalmer;	state Exp;
branches;
next	1.11;

1.11
date	2005.11.07.15.59.08;	author mbalmer;	state Exp;
branches;
next	1.10;

1.10
date	2005.06.29.13.25.19;	author msf;	state Exp;
branches;
next	1.9;

1.9
date	2005.05.02.12.19.51;	author jakob;	state Exp;
branches;
next	1.8;

1.8
date	2005.03.22.09.13.48;	author jakob;	state Exp;
branches;
next	1.7;

1.7
date	2004.11.08.20.27.34;	author biorn;	state Exp;
branches;
next	1.6;

1.6
date	2004.10.18.06.44.18;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2004.08.08.16.34.32;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2003.12.26.10.44.10;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2002.01.15.08.35.52;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2001.12.19.01.15.55;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2001.09.28.17.56.09;	author jakob;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2002.01.08.11.03.37;	author jakob;	state Exp;
branches;
next	1.1.2.2;

1.1.2.2
date	2002.01.15.08.35.54;	author jakob;	state Exp;
branches;
next	1.1.2.3;

1.1.2.3
date	2002.02.16.23.13.53;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.20
log
@add is-branch to all trivial ports that exist as multiple branches.
@
text
@@@comment $OpenBSD: PLIST-server,v 1.19 2011/01/07 10:24:30 pea Exp $
@@option is-branch
@@conflict openldap-client->=2.3.11,<=2.3.11p3
@@pkgpath databases/openldap,-server,bdb
@@ask-update openldap-server-<2.4 Make sure your existing database is backed up
@@newgroup _openldap:544
@@newuser _openldap:544:_openldap:daemon:OpenLDAP Account:/nonexistent:/sbin/nologin
@@bin libexec/slapd
@@man man/man5/slapd-bdb.5
@@man man/man5/slapd-config.5
@@man man/man5/slapd-dnssrv.5
@@man man/man5/slapd-hdb.5
@@man man/man5/slapd-ldap.5
@@man man/man5/slapd-ldbm.5
@@man man/man5/slapd-ldif.5
@@man man/man5/slapd-meta.5
@@man man/man5/slapd-monitor.5
@@man man/man5/slapd-ndb.5
@@man man/man5/slapd-null.5
@@man man/man5/slapd-passwd.5
@@man man/man5/slapd-perl.5
@@man man/man5/slapd-relay.5
@@man man/man5/slapd-shell.5
@@man man/man5/slapd-sock.5
@@man man/man5/slapd-sql.5
@@man man/man5/slapd.access.5
@@man man/man5/slapd.backends.5
@@man man/man5/slapd.conf.5
@@man man/man5/slapd.overlays.5
@@man man/man5/slapd.plugin.5
@@man man/man5/slapo-accesslog.5
@@man man/man5/slapo-auditlog.5
@@man man/man5/slapo-chain.5
@@man man/man5/slapo-collect.5
@@man man/man5/slapo-constraint.5
@@man man/man5/slapo-dds.5
@@man man/man5/slapo-dyngroup.5
@@man man/man5/slapo-dynlist.5
@@man man/man5/slapo-memberof.5
@@man man/man5/slapo-pcache.5
@@man man/man5/slapo-ppolicy.5
@@man man/man5/slapo-refint.5
@@man man/man5/slapo-retcode.5
@@man man/man5/slapo-rwm.5
@@man man/man5/slapo-sssvlv.5
@@man man/man5/slapo-syncprov.5
@@man man/man5/slapo-translucent.5
@@man man/man5/slapo-unique.5
@@man man/man5/slapo-valsort.5
@@man man/man8/slapacl.8
@@man man/man8/slapadd.8
@@man man/man8/slapauth.8
@@man man/man8/slapcat.8
@@man man/man8/slapd.8
@@man man/man8/slapdn.8
@@man man/man8/slapindex.8
@@man man/man8/slappasswd.8
@@man man/man8/slapschema.8
@@man man/man8/slaptest.8
sbin/slapacl
sbin/slapadd
sbin/slapauth
sbin/slapcat
sbin/slapdn
sbin/slapindex
sbin/slappasswd
sbin/slapschema
sbin/slaptest
@@mode 700
@@owner _openldap
@@sample /var/openldap-data/
@@group _openldap
share/examples/openldap/DB_CONFIG
@@sample /var/openldap-data/DB_CONFIG
@@mode
@@owner
@@group
share/examples/openldap/schema/
@@sample ${SYSCONFDIR}/openldap/schema/
share/examples/openldap/schema/collective.schema
share/examples/openldap/schema/corba.schema
@@sample ${SYSCONFDIR}/openldap/schema/corba.schema
share/examples/openldap/schema/core.schema
@@sample ${SYSCONFDIR}/openldap/schema/core.schema
share/examples/openldap/schema/cosine.schema
@@sample ${SYSCONFDIR}/openldap/schema/cosine.schema
share/examples/openldap/schema/duaconf.schema
share/examples/openldap/schema/dyngroup.schema
@@sample ${SYSCONFDIR}/openldap/schema/dyngroup.schema
share/examples/openldap/schema/inetorgperson.schema
@@sample ${SYSCONFDIR}/openldap/schema/inetorgperson.schema
share/examples/openldap/schema/java.schema
@@sample ${SYSCONFDIR}/openldap/schema/java.schema
share/examples/openldap/schema/misc.schema
@@sample ${SYSCONFDIR}/openldap/schema/misc.schema
share/examples/openldap/schema/nis.schema
@@sample ${SYSCONFDIR}/openldap/schema/nis.schema
share/examples/openldap/schema/openldap.schema
@@sample ${SYSCONFDIR}/openldap/schema/openldap.schema
share/examples/openldap/schema/pmi.schema
share/examples/openldap/schema/ppolicy.schema
@@sample ${SYSCONFDIR}/openldap/schema/ppolicy.schema
@@mode 0640
@@group _openldap
share/examples/openldap/slapd.conf
@@sample ${SYSCONFDIR}/openldap/slapd.conf
@@mode
@@group
@@rcscript ${RCDIR}/slapd
@


1.19
log
@*MAJOR UPGRADE*

Upgrade to OpenLDAP 2.4.23.
Important things to know:

+ ldbm backend has been removed
+ bdb is the default backend
+ slurp has been removed

Backup all your data before this upgrade !!

Tested in a bulk by landry@@
Lot of help/comments/ideas/tests from ajacoutot@@, jasper@@, landry@@, sthen@@, stephan@@

ok ajacoutot@@, landry@@, jasper@@, stephan@@
@
text
@d1 2
a2 1
@@comment $OpenBSD: PLIST-server,v 1.18 2009/08/21 13:21:19 ajacoutot Exp $
@


1.18
log
@Protect slapd.conf as it may contain passwords and/or other sensitive
informations.

"makes a lot of sense" sthen@@
"ja ja" landry@@
ok jasper@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.17 2008/07/15 18:25:53 brad Exp $
d3 2
a7 1
@@bin libexec/slurpd
d9 1
d17 1
d23 1
a24 1
@@man man/man5/slapd-tcl.5
d26 1
d28 1
d30 19
a48 1
@@man man/man5/slapd.replog.5
d57 1
a58 1
@@man man/man8/slurpd.8
d66 1
d68 9
d79 1
d86 1
d99 1
d108 1
a108 7
@@mode 700
@@owner _openldap
@@group _openldap
@@sample /var/openldap-data/
@@sample /var/openldap-slurp/
share/examples/openldap/DB_CONFIG
@@sample /var/openldap-data/DB_CONFIG
@


1.17
log
@Update to OpenLDAP 2.3.42. bug fix release.

ok mbalmer@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.16 2008/02/13 09:45:54 landry Exp $
d66 2
d70 2
@


1.16
log
@Install @@sample /var/openldap-* as owned by unpriviledged user _openldap, and
add a pkg/MESSAGE-server teaching the user how to launch slapd in rc.local as
_openldap user.

english 'looks fine' jmc@@, and ok ajacoutot@@ mbalmer@@ (maintainer)
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.15 2007/01/23 12:57:32 mbalmer Exp $
d5 2
a6 2
libexec/slapd
libexec/slurpd
@


1.15
log
@Create required data directories when installing the -server subpackage and
install a sample configuration file in there.

discussed with bernd
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.14 2007/01/13 13:37:33 mbalmer Exp $
a43 4
@@sample /var/openldap-data/
@@sample /var/openldap-slurp/
share/examples/openldap/DB_CONFIG
@@sample /var/openldap-data/DB_CONFIG
d68 7
@


1.14
log
@slapacl and slapauth are symbolic links to slapd which is in -server, not
-client, so move them to the right PLIST.  clean up the Makefile while here.

from Mikolaj Kucharski <eth0@@o2.pl>
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.13 2006/02/28 16:27:53 bernd Exp $
d44 4
@


1.13
log
@Three manpages went to the wrong package during the 2.3.x update.
Move them back to the -server package.

This makes updates from 3.8 conflict-free.

found by steven@@, help from espie@@

ok pvalchev@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.12 2005/11/12 18:12:06 mbalmer Exp $
d26 1
d28 1
d36 1
d38 1
@


1.12
log
@Move some files from the client to the server package and bump the
package name.

hint by wilfried@@, thanks!
@
text
@d1 2
a2 1
@@comment $OpenBSD: PLIST-server,v 1.11 2005/11/07 15:59:08 mbalmer Exp $
d7 1
d12 1
d18 1
@


1.11
log
@Update to OpenLDAP 2.3.11 and take maintainership.

Support for sasl2 is now built by default.

ok bernd@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.10 2005/06/29 13:25:19 msf Exp $
d56 2
@


1.10
log
@- install the configuration files at install time with @@sample
- bump PKGNAME

ok jakob@@
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.9 2005/05/02 12:19:51 jakob Exp $
a5 1
@@man man/man5/slapd-bdb.5
a57 9
share/openldap/
share/openldap/ucdata/
share/openldap/ucdata/case.dat
share/openldap/ucdata/cmbcl.dat
share/openldap/ucdata/comp.dat
share/openldap/ucdata/ctype.dat
share/openldap/ucdata/decomp.dat
share/openldap/ucdata/kdecomp.dat
share/openldap/ucdata/num.dat
@


1.9
log
@create _ldapldap user and group
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.8 2005/03/22 09:13:48 jakob Exp $
d38 1
d40 1
d42 1
d44 1
d46 1
d48 1
d50 1
d52 1
d54 1
d56 1
d58 1
@


1.8
log
@OpenLDAP v2.2.24
@
text
@d1 3
a3 1
@@comment $OpenBSD: PLIST-server,v 1.7 2004/11/08 20:27:34 biorn Exp $
@


1.7
log
@Move dyngroup.schema to PLIST-server and add some directories.

ok MAINTAINER
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.6 2004/10/18 06:44:18 jakob Exp $
d6 1
d10 1
d19 1
a20 4
@@man man/man5/slapd-monitor.5
@@man man/man5/slapd.plugin.5
@@man man/man8/slapdn.8
@@man man/man8/slaptest.8
d24 1
d27 1
@


1.6
log
@upgrade to OpenLDAP 2.2.17
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.4 2003/12/26 10:44:10 jakob Exp $
d34 1
d38 1
d45 2
@


1.5
log
@new plist.
Lots of config files noted as bogus, to look at later...
@
text
@d18 4
d30 1
d33 1
a33 1
share/examples/openldap/schema/
a42 2
share/openldap/
share/openldap/ucdata/
@


1.4
log
@update to OpenLDAP v2.1.25; work by claudio@@ and myself

major port changes:

- enable IPv6
- disable kerberos
- enable meta, monitor, null and perl backends by default
- add berkley db flavour (bdb)
- remove SQL flavour (sql)
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.3 2002/01/15 08:35:52 jakob Exp $
d4 20
a23 20
man/man5/slapd-bdb.5
man/man5/slapd-dnssrv.5
man/man5/slapd-ldap.5
man/man5/slapd-ldbm.5
man/man5/slapd-meta.5
man/man5/slapd-null.5
man/man5/slapd-passwd.5
man/man5/slapd-perl.5
man/man5/slapd-shell.5
man/man5/slapd-sql.5
man/man5/slapd-tcl.5
man/man5/slapd.access.5
man/man5/slapd.conf.5
man/man5/slapd.replog.5
man/man8/slapadd.8
man/man8/slapcat.8
man/man8/slapd.8
man/man8/slapindex.8
man/man8/slappasswd.8
man/man8/slurpd.8
d28 1
d38 2
a46 3
@@dirrm share/openldap/ucdata
@@dirrm share/openldap
@@dirrm share/examples/openldap/schema
@


1.3
log
@update to OpenLDAP 2.0.20; recommended security update
@
text
@d1 1
a1 9
@@comment $OpenBSD: PLIST-server,v 1.2 2001/12/19 01:15:55 brad Exp $
libexec/fax500
libexec/go500
libexec/go500gw
libexec/in.xfingerd
libexec/mail500
libexec/maildap
libexec/rcpt500
libexec/rp500
d4 12
a15 1
libexec/xrpcomp
a17 6
man/man8/fax500.8
man/man8/go500.8
man/man8/go500gw.8
man/man8/in.xfingerd.8
man/man8/mail500.8
man/man8/rcpt500.8
a27 3
share/openldap/go500gw.help
share/openldap/rcpt500.help
share/examples/openldap/slapd.conf
a32 1
share/examples/openldap/schema/krb5-kdc.schema
d36 10
@


1.2
log
@fix PLIST, this @@dirrm tag shouldn't be here.
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.1 2001/09/28 17:56:09 jakob Exp $
a40 1
share/examples/openldap/schema/nadf.schema
@


1.1
log
@split into -client and -server packages
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST,v 1.6 2001/09/08 22:27:54 jakob Exp $
a44 1
@@dirrm share/openldap
@


1.1.2.1
log
@update to 2.0.19 aka OpenLDAP-stable
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.1 2001/09/28 17:56:09 jakob Exp $
d45 1
@


1.1.2.2
log
@update to OpenLDAP 2.0.20; recommended security update
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.1.2.1 2002/01/08 11:03:37 jakob Exp $
d41 1
@


1.1.2.3
log
@- update to v2.0.23 (OpenLDAP-stable)
- add sparc64 workaround
@
text
@d1 1
a1 1
@@comment $OpenBSD: PLIST-server,v 1.3 2002/01/15 08:35:52 jakob Exp $
@


