head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.4
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.1.0.36
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.32
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.34
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.30
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.28
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.26
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.24
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.22
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.20
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.18
	OPENBSD_5_0:1.1.0.16
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.14
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.12
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.10
	OPENBSD_4_7_BASE:1.1
	OPENBSD_4_6:1.1.0.8
	OPENBSD_4_6_BASE:1.1
	OPENBSD_4_5:1.1.0.6
	OPENBSD_4_5_BASE:1.1
	OPENBSD_4_4:1.1.0.4
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2016.09.01.16.50.35;	author landry;	state Exp;
branches;
next	1.1;
commitid	ZmnpWAX8TP4e2Cou;

1.1
date	2008.02.13.09.45.54;	author landry;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Patch the default config to use bdb backend by default, this way slapd
works ootb instead of blowing out because we can't use mdb.

discussed with sthen@@ (MAINTAINER)
@
text
@$OpenBSD: patch-servers_slapd_slapd_conf,v 1.1 2008/02/13 09:45:54 landry Exp $
--- servers/slapd/slapd.conf.orig	Sat Feb  6 00:57:45 2016
+++ servers/slapd/slapd.conf	Thu Sep  1 18:40:16 2016
@@@@ -10,8 +10,8 @@@@ include		%SYSCONFDIR%/schema/core.schema
 # service AND an understanding of referrals.
 #referral	ldap://root.openldap.org
 
-pidfile		%LOCALSTATEDIR%/run/slapd.pid
-argsfile	%LOCALSTATEDIR%/run/slapd.args
+pidfile		%LOCALSTATEDIR%/run/openldap/slapd.pid
+argsfile	%LOCALSTATEDIR%/run/openldap/slapd.args
 
 # Load dynamic backend modules:
 # modulepath	%MODULEDIR%
@@@@ -46,11 +46,10 @@@@ argsfile	%LOCALSTATEDIR%/run/slapd.args
 # rootdn can always read and write EVERYTHING!
 
 #######################################################################
-# MDB database definitions
+# BDB database definitions
 #######################################################################
 
-database	mdb
-maxsize		1073741824
+database	bdb
 suffix		"dc=my-domain,dc=com"
 rootdn		"cn=Manager,dc=my-domain,dc=com"
 # Cleartext passwords, especially for the rootdn, should
@


1.1
log
@Install @@sample /var/openldap-* as owned by unpriviledged user _openldap, and
add a pkg/MESSAGE-server teaching the user how to launch slapd in rc.local as
_openldap user.

english 'looks fine' jmc@@, and ok ajacoutot@@ mbalmer@@ (maintainer)
@
text
@d1 3
a3 3
$OpenBSD$
--- servers/slapd/slapd.conf.orig	Tue Feb 12 09:23:24 2008
+++ servers/slapd/slapd.conf	Tue Feb 12 09:24:11 2008
d15 14
@

