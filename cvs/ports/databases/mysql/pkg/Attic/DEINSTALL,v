head	1.5;
access;
symbols
	OPENBSD_2_9:1.4.0.4
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.2
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.2.0.2
	OPENBSD_2_7_BASE:1.2;
locks; strict;
comment	@# @;


1.5
date	2001.06.02.20.18.44;	author brad;	state dead;
branches;
next	1.4;

1.4
date	2000.09.06.21.06.20;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2000.08.15.13.24.01;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.04.08.05.41.34;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2000.01.01.05.54.13;	author brad;	state Exp;
branches;
next	;


desc
@@


1.5
log
@upgrade to MySQL 3.23.38

- Also split the package into client and a server sub-package which
depends on the client portion. This allows for adding/removing the server
without needing to remove ports that might be dependent on the client
portion.
- innodb FLAVOR goes away and is replaced with the max FLAVOR like the
real MySQL distribution which gives us both Berkeley DB and InnoDB tables
for transaction support.
@
text
@# $OpenBSD: DEINSTALL,v 1.4 2000/09/06 21:06:20 brad Exp $
#
# MySQL de-installation

PATH=/bin:/usr/bin:/sbin:/usr/sbin
PREFIX=${PKG_PREFIX:-/usr/local}
DB_DIR=${DB_DIR}

echo
echo "+---------------"
echo "| To completely deinstall the $1 package you need to perform"
echo "| these steps as root:"
echo "|"
echo "|           userdel mysql"
echo "|           groupdel mysql"
echo "|           rm -rf $DB_DIR"
echo "|"
echo "| Do not do this if you plan on re-installing $1"
echo "| at some future time."
echo "+---------------"
echo

exit 0
@


1.4
log
@user del/group del -> userdel/groupdel
@
text
@d1 1
a1 1
# $OpenBSD: DEINSTALL,v 1.3 2000/08/15 13:24:01 brad Exp $
@


1.3
log
@- re-introduce DB_DIR option
- make sure MySQL is started as user mysql from safe_mysqld.sh script
instead of the example startup.sh
- hard coded /usr/local -> ${PREFIX} in MESSAGE
- use user/group commands instead of cat/adduser in INSTALL script
- ${FOO} -> $FOO in INSTALL/DEINSTALL
@
text
@d1 1
a1 1
# $OpenBSD: DEINSTALL,v 1.2 2000/04/08 05:41:34 brad Exp $
d14 2
a15 2
echo "|           user del mysql"
echo "|           group del mysql"
@


1.2
log
@tell the end user to remove the database dir as well
@
text
@d1 1
a1 1
# $OpenBSD: DEINSTALL,v 1.1 2000/01/01 05:54:13 brad Exp $
a4 1
set -e
d7 15
a21 1
DB_DIR=${PKG_DB_DIR:-/var/mysql}
a22 15
if [ -d ${DB_DIR} ]; then
     echo
     echo "+---------------"
     echo "| To completely deinstall the $1 package you need to perform"
     echo "| these steps as root:"
     echo "|"
     echo "|           rmuser mysql"
     echo "|           rmgroup mysql"
     echo "|           rm -rf ${DB_DIR}"
     echo "|"
     echo "| Do not do this if you plan on re-installing $1"
     echo "| at some future time."
     echo "+---------------"
     echo
fi
@


1.1
log
@- upgrade to MySQL 3.22.27
- make the default database directory a bit easier to change with the
DB_DIR variable
- add warning about possible virtual memory limit exhaustion
- change default database directory to /var/mysql and chown it to the
user:group
- integrate check_old_version script into Makefile
- we should be able to make this into a full package now, though not
tested fully
- install user:group of mysql and make MySQL load as user mysql

Reviewed and tested by: ericj@@
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
d10 15
a24 13
echo
echo "+---------------"
echo "| To completely deinstall the $1 package you need to perform"
echo "| these steps as root:"
echo "|"
echo "|           rmuser mysql"
echo "|           rmgroup mysql"
echo "|"
echo "| Do not do this if you plan on re-installing $1"
echo "| at some future time."
echo "+---------------"
echo

@

