head	1.4;
access;
symbols
	OPENBSD_2_6:1.2.0.2
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.1.1.1.0.2
	OPENBSD_2_5_BASE:1.1.1.1
	marc_1999-Mar-29:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2000.01.01.05.54.13;	author brad;	state dead;
branches;
next	1.3;

1.3
date	99.12.02.00.44.42;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	99.05.11.21.25.18;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	99.03.30.06.42.48;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	99.03.30.06.42.48;	author marc;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- upgrade to MySQL 3.22.27
- make the default database directory a bit easier to change with the
DB_DIR variable
- add warning about possible virtual memory limit exhaustion
- change default database directory to /var/mysql and chown it to the
user:group
- integrate check_old_version script into Makefile
- we should be able to make this into a full package now, though not
tested fully
- install user:group of mysql and make MySQL load as user mysql

Reviewed and tested by: ericj@@
@
text
@#!/usr/bin/perl
#
# $OpenBSD: check_old_version,v 1.3 1999/12/02 00:44:42 brad Exp $
# $FreeBSD: check_old_version,v 1.1.1.1 1997/06/18 19:35:30 jfitz Exp $
#

if( -d "/var/db/mysql" ) {
	if( ! $ENV{OVERWRITE_DB} ) {
		print <<END;

You appear to already have a mysql database directory in /var/db/mysql.

In order to preserve your existing data, you should:
	- dump all your databases
	- kill mysql if it is running
	- delete the /var/db/mysql directory
	- run 'make install'
	- start up mysql
	- re-create all of your database
	- re-load your data

If you understand the consequences of this upgrade, please re-build this
port with the environment variable OVERWRITE_DB defined.

END
		exit 1;
	}
}
@


1.3
log
@stop using env to find perl, it's in /usr/bin
@
text
@d3 1
a3 1
# $OpenBSD: check_old_version,v 1.2 1999/05/11 21:25:18 brad Exp $
@


1.2
log
@- upgrade to mysql 3.22.22
- add a few more master dist sites
- remove @@exec of non-existant killall from PLIST
@
text
@d1 1
a1 1
#!/usr/bin/env perl
d3 1
a3 1
# $OpenBSD$
@


1.1
log
@Initial revision
@
text
@d3 2
a4 1
# FreeBSD: check_old_version,v 1.1.1.1 1997/06/18 19:35:30 jfitz Exp
a28 3

#
# EOF
@


1.1.1.1
log
@mysql, from freebsd via d@@openbsd.org.  Uses egcc with -pthread
said to work on i386, not tested on any other architecture
@
text
@@
