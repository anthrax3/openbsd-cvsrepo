head	1.4;
access;
symbols
	OPENBSD_3_2:1.1.0.4
	OPENBSD_3_2_BASE:1.1
	OPENBSD_3_1:1.1.0.2
	OPENBSD_3_1_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2005.01.14.01.42.58;	author brad;	state dead;
branches;
next	1.3;

1.3
date	2004.10.20.04.47.29;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2002.12.14.23.56.43;	author brad;	state dead;
branches;
next	1.1;

1.1
date	2002.03.27.18.49.09;	author brad;	state Exp;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2002.12.16.17.57.07;	author brad;	state dead;
branches;
next	;

1.1.4.1
date	2002.12.16.21.12.03;	author brad;	state dead;
branches;
next	;


desc
@@


1.4
log
@upgrade to MySQL 4.0.23

fixes some crashing issues among many other bug fixes,
seems to have resolved a crashing issue henning@@ was
experiencing on sparc64.
@
text
@$OpenBSD: patch-libmysql_libmysql_c,v 1.3 2004/10/20 04:47:29 brad Exp $
--- libmysql/libmysql.c.orig	Tue Oct 19 21:50:29 2004
+++ libmysql/libmysql.c	Tue Oct 19 21:52:42 2004
@@@@ -1855,7 +1855,8 @@@@ mysql_real_connect(MYSQL *mysql,const ch
 	sprintf(net->last_error, ER(CR_UNKNOWN_HOST), host, tmp_errno);
 	goto error;
       }
-      memcpy(&sock_addr.sin_addr,hp->h_addr, (size_t) hp->h_length);
+      memcpy(&sock_addr.sin_addr, hp->h_addr,
+	    min(sizeof(sock_addr.sin_addr), (size_t) hp->h_length));
       my_gethostbyname_r_free();
     }
     sock_addr.sin_port = (ushort) htons((ushort) port);
@


1.3
log
@* Fixed potential memory overrun in `mysql_real_connect()' (which
  required a compromised DNS server and certain operating systems).
  (Bug #4017)

* Fixed crash in `MATCH ... AGAINST()' on a phrase search operator
  with a missing closing double quote. (Bug #3870)

* Fixed a crash on declaration of `DECIMAL(0,...)' column. (Bug
  #4046)
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@upgrade to MySQL 3.23.54
@
text
@d1 13
a13 12
$OpenBSD: patch-libmysql_libmysql_c,v 1.1 2002/03/27 18:49:09 brad Exp $
--- libmysql/libmysql.c.orig	Thu Feb 14 12:30:17 2002
+++ libmysql/libmysql.c	Wed Mar 27 09:48:19 2002
@@@@ -712,7 +712,7 @@@@ static void mysql_read_default_options(s
 	  *end=0;				/* Remove '=' */
 	}
 	/* Change all '_' in variable name to '-' */
-	for (end= *option ; (end= strcend(end,'_')) ; )
+	for (end= *option ; (end= strcend(end,'_')) && *end; )
 	  *end= '-';
 	switch (find_type(*option+2,&option_types,2)) {
 	case 1:				/* port */
@


1.1
log
@patches to fix a bug which causes mysqlgui to crash.
--
From: MySQL mailing list via wilfried@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.4.1
log
@upgrade to MySQL 3.23.54

Fixes multiple vulnerabilities.

http://security.e-matters.de/advisories/042002.html
@
text
@d1 1
a1 1
$OpenBSD: patch-libmysql_libmysql_c,v 1.1 2002/03/27 18:49:09 brad Exp $
@


1.1.2.1
log
@upgrade to MySQL 3.23.54

Fixes multiple vulnerabilities.

http://security.e-matters.de/advisories/042002.html
@
text
@d1 1
a1 1
$OpenBSD: patch-libmysql_libmysql_c,v 1.1 2002/03/27 18:49:09 brad Exp $
@


