head	1.3;
access;
symbols
	OPENBSD_5_6:1.2.0.16
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.14
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.12
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.4
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2014.10.03.10.54.55;	author brad;	state dead;
branches;
next	1.2;
commitid	l38yfxK2clf7O9UX;

1.2
date	2010.11.10.21.03.03;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2009.07.27.15.19.15;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.3
log
@So long and into the Attic you go.

ok sthen@@
@
text
@$OpenBSD: patch-config_ac-macros_ssl_m4,v 1.2 2010/11/10 21:03:03 sthen Exp $
--- config/ac-macros/ssl.m4.orig	Fri Jul  9 08:34:54 2010
+++ config/ac-macros/ssl.m4	Sat Jul 24 23:26:05 2010
@@@@ -109,9 +109,19 @@@@ AC_DEFUN([MYSQL_FIND_OPENSSL], [
   fi
 
   #
+  # Set library paths
+  #
+  openssl_lib="$location/lib"
+  openssl_libs="-lssl -lcrypto"
+
+  #
   # Try to link with openSSL libs in <location>
   #
-  openssl_libs="-L$location/lib/ -lssl -lcrypto"
+  if test "$openssl_lib" != "/usr/lib"
+  then
+    openssl_libs="-L$openssl_lib -lssl -lcrypto"
+  fi
+
   MYSQL_CHECK_SSL_DIR([$openssl_includes], [$openssl_libs])
 
   if test "$mysql_ssl_found" == "no"
@


1.2
log
@Update MySQL to 5.1.52, from Brad.
@
text
@d1 1
a1 1
$OpenBSD: patch-config_ac-macros_ssl_m4,v 1.1 2009/07/27 15:19:15 sthen Exp $
@


1.1
log
@Update MySQL to 5.1.33; from Brad.

Tested by giovanni@@ on amd64 and several ports@@ readers.
No problems found with a complete bulk build.
@
text
@d1 4
a4 4
$OpenBSD$
--- config/ac-macros/ssl.m4.orig	Mon Jul 21 17:49:55 2008
+++ config/ac-macros/ssl.m4	Mon Jul 21 17:53:55 2008
@@@@ -100,9 +100,19 @@@@ AC_DEFUN([MYSQL_FIND_OPENSSL], [
@

