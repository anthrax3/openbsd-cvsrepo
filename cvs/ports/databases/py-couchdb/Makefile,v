head	1.21;
access;
symbols
	OPENBSD_6_2:1.21.0.6
	OPENBSD_6_2_BASE:1.21
	OPENBSD_6_1:1.21.0.4
	OPENBSD_6_1_BASE:1.21
	OPENBSD_6_0:1.21.0.2
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.20.0.2
	OPENBSD_5_9_BASE:1.20
	OPENBSD_5_8:1.19.0.4
	OPENBSD_5_8_BASE:1.19
	OPENBSD_5_7:1.18.0.2
	OPENBSD_5_7_BASE:1.18
	OPENBSD_5_6:1.15.0.4
	OPENBSD_5_6_BASE:1.15
	OPENBSD_5_5:1.15.0.2
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.14.0.2
	OPENBSD_5_4_BASE:1.14
	OPENBSD_5_3:1.11.0.2
	OPENBSD_5_3_BASE:1.11
	OPENBSD_5_2:1.10.0.4
	OPENBSD_5_2_BASE:1.10
	OPENBSD_5_1_BASE:1.10
	OPENBSD_5_1:1.10.0.2
	OPENBSD_5_0:1.9.0.2
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.5.0.4
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	fgsch_20090404:1.1.1.1
	fgsch:1.1.1;
locks; strict;
comment	@# @;


1.21
date	2016.04.15.08.53.48;	author shadchin;	state Exp;
branches;
next	1.20;
commitid	DdvlmL5VDlYoSZZS;

1.20
date	2015.09.29.10.51.14;	author sthen;	state Exp;
branches;
next	1.19;
commitid	0mMHGyUMEfafRiiY;

1.19
date	2015.04.02.14.21.13;	author jasper;	state Exp;
branches;
next	1.18;
commitid	4Dkfcsk2uZtFDSwy;

1.18
date	2014.12.28.19.48.03;	author jasper;	state Exp;
branches;
next	1.17;
commitid	krZHBltAad61WMIN;

1.17
date	2014.12.28.19.43.22;	author jasper;	state Exp;
branches;
next	1.16;
commitid	JUb5KVOICK61o9bt;

1.16
date	2014.08.10.09.58.04;	author espie;	state Exp;
branches;
next	1.15;
commitid	jyyOLTDxRdjpw44n;

1.15
date	2013.08.07.21.31.23;	author naddy;	state Exp;
branches;
next	1.14;

1.14
date	2013.06.04.07.57.13;	author fgsch;	state Exp;
branches;
next	1.13;

1.13
date	2013.05.22.10.05.15;	author fgsch;	state Exp;
branches;
next	1.12;

1.12
date	2013.03.11.02.52.07;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2012.12.21.18.25.57;	author fgsch;	state Exp;
branches;
next	1.10;

1.10
date	2011.09.16.08.48.03;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2011.06.08.17.33.59;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.15.00.22.53;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.09.22.18.53.47;	author fgsch;	state Exp;
branches;
next	1.6;

1.6
date	2010.08.30.20.53.57;	author fgsch;	state Exp;
branches;
next	1.5;

1.5
date	2010.01.07.01.25.13;	author fgsch;	state Exp;
branches;
next	1.4;

1.4
date	2009.11.03.00.37.41;	author fgsch;	state Exp;
branches;
next	1.3;

1.3
date	2009.08.01.03.20.19;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	2009.04.09.14.45.52;	author fgsch;	state Exp;
branches;
next	1.1;

1.1
date	2009.04.04.21.02.14;	author fgsch;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.04.04.21.02.14;	author fgsch;	state Exp;
branches;
next	;


desc
@@


1.21
log
@Unbreak after py-sphinx update to 1.4
@
text
@# $OpenBSD: Makefile,v 1.20 2015/09/29 10:51:14 sthen Exp $

COMMENT =	Python library for working with CouchDB

MODPY_EGG_VERSION = 1.0
DISTNAME =	CouchDB-${MODPY_EGG_VERSION}
PKGNAME =	py-${DISTNAME:L}
REVISION =	1

CATEGORIES =	databases devel

HOMEPAGE =	https://github.com/djc/couchdb-python

# BSD
PERMIT_PACKAGE_CDROM =	Yes

MODPY_PI =	Yes

MODULES =	lang/python

BUILD_DEPENDS =	textproc/py-sphinx
TEST_DEPENDS =	databases/apache-couchdb \
		${BASE_PKGPATH}

MODPY_SETUPTOOLS = Yes

# To run the tests, start apache-couchdb using the default configuration.
# Alternatively, the tests will use the COUCHDB_URI environment variable
# to connect to the database.
TEST_IS_INTERACTIVE = Yes

post-build:
	${MODPY_CMD} build_sphinx

post-install:
	$(INSTALL_DATA_DIR) ${PREFIX}/share/doc/py-couchdb
	cd ${WRKSRC}/doc/build/html && \
	    pax -rw * ${PREFIX}/share/doc/py-couchdb
	rm -rf ${PREFIX}/share/doc/py-couchdb/_sources
	$(INSTALL_DATA_DIR) ${PREFIX}/share/examples/py-couchdb
	${SUBST_DATA} ${FILESDIR}/python.ini \
	    ${PREFIX}/share/examples/py-couchdb/python.ini

do-test:
	@@cd ${WRKSRC} && \
	    ${SETENV} ${MAKE_ENV} ${MODPY_BIN} lib/couchdb/tests

.include <bsd.port.mk>
@


1.20
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/04/02 14:21:13 jasper Exp $
d8 1
a8 1
REVISION =	0
@


1.19
log
@- switch to MODPY_PI
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2014/12/28 19:48:03 jasper Exp $
d8 1
@


1.18
log
@- update to py-couchdb-1.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2014/12/28 19:43:22 jasper Exp $
d16 1
a16 1
MASTER_SITES =	${MASTER_SITE_PYPI:=C/CouchDB/}
@


1.17
log
@update HOMEPAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2014/08/10 09:58:04 espie Exp $
d5 1
a5 1
MODPY_EGG_VERSION = 0.9
a7 1
REVISION =	2
@


1.16
log
@use more specific version of SUBST_* where appropriate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2013/08/07 21:31:23 naddy Exp $
d8 1
a8 1
REVISION =	1
d12 1
a12 1
HOMEPAGE =	https://code.google.com/p/couchdb-python/
@


1.15
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2013/06/04 07:57:13 fgsch Exp $
d41 1
a41 2
	${SUBST_CMD} -o ${SHAREOWN} -g ${SHAREGRP} \
	    -c ${FILESDIR}/python.ini \
@


1.14
log
@Remove MODPY_JSON from RDEP and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/05/22 10:05:15 fgsch Exp $
d8 1
a8 1
REVISION =	0
d12 1
a12 1
HOMEPAGE =	http://code.google.com/p/couchdb-python/
@


1.13
log
@Update to 0.9.
jasper@@ ok a previous diff.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2013/03/11 02:52:07 espie Exp $
d8 1
a20 1
RUN_DEPENDS =	${MODPY_JSON}
@


1.12
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/12/21 18:25:57 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION = 0.8
a7 1
REVISION =	2
d21 3
a23 2
TEST_DEPENDS = databases/apache-couchdb \
		  ${BASE_PKGPATH}
d25 1
a25 1
MODPY_SETUPTOOLS =	Yes
d32 3
d36 4
d41 2
a42 3
	${SUBST_CMD} -c ${FILESDIR}/python.ini \
	    ${PREFIX}/share/examples/py-couchdb/python.ini
	@@chown ${SHAREOWN}:${SHAREGRP} \
d44 4
@


1.11
log
@Remove no longer required dependency and bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/09/16 08:48:03 espie Exp $
a15 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
d22 1
a22 1
REGRESS_DEPENDS = databases/apache-couchdb \
d30 1
a30 1
REGRESS_IS_INTERACTIVE = Yes
@


1.10
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/06/08 17:33:59 jasper Exp $
d8 1
a8 1
REVISION =	1
d24 1
a24 2
RUN_DEPENDS =	www/py-httplib2 \
		${MODPY_JSON}
@


1.9
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/15 00:22:53 espie Exp $
d8 1
a8 1
REVISION =		0
@


1.8
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/09/22 18:53:47 fgsch Exp $
d8 1
@


1.7
log
@Update to version 0.8. Fix package name to match directory.
landry@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/08/30 20:53:57 fgsch Exp $
d23 1
a23 1
RUN_DEPENDS =	::www/py-httplib2 \
d25 2
a26 2
REGRESS_DEPENDS = ::databases/apache-couchdb \
		  :${PKGNAME}:${BASE_PKGPATH}
@


1.6
log
@Bump revision after python's default change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/01/07 01:25:13 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION = 0.6.1
d7 1
a7 2
PKGNAME =	py-${DISTNAME}
REVISION =	0
d24 1
a24 1
		::devel/py-simplejson
@


1.5
log
@Update to 0.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/11/03 00:37:41 fgsch Exp $
d8 1
@


1.4
log
@Enable the python query server, enable regress interactively and bump package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/08/01 03:20:19 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION = 0.6
d7 1
a7 1
PKGNAME =	py-${DISTNAME}p0
@


1.3
log
@Update to 0.6. martynas@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/04/09 14:45:52 fgsch Exp $
d7 1
a7 1
PKGNAME =	py-${DISTNAME}
d25 2
d30 11
a40 1
NO_REGRESS =	Yes
@


1.2
log
@Add missing dependey on setuptools and bump package.
spotted and tested by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/04/04 21:02:14 fgsch Exp $
d5 1
a5 1
MODPY_EGG_VERSION = 0.5dev_r141
d7 1
a7 1
PKGNAME =	py-${DISTNAME:L:S/dev_//}p0
d19 1
a19 1
MASTER_SITES =	http://files.lodoss.net/
a28 3

post-install:
	@@rm -rf ${WRKSRC}/CouchDB.egg-info
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
PKGNAME =	py-${DISTNAME:L:S/dev_//}
d25 2
@


1.1.1.1
log
@Import python-couchdb-0.5r141, a python library for working with CouchDB.
martynas@@ input and ok.
@
text
@@
