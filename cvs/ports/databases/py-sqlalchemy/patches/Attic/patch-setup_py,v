head	1.4;
access;
symbols
	OPENBSD_4_9:1.3.0.4
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.2
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_4:1.1.0.4
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.2
	OPENBSD_4_3_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2011.05.27.10.39.37;	author jasper;	state dead;
branches;
next	1.3;

1.3
date	2010.05.24.16.42.44;	author wcmaier;	state Exp;
branches;
next	1.2;

1.2
date	2009.01.15.23.08.09;	author djm;	state dead;
branches;
next	1.1;

1.1
date	2007.11.23.11.56.42;	author martynas;	state Exp;
branches;
next	;


desc
@@


1.4
log
@- update to 0.7.0

from wen heping
earlier diff looked good to maintainer
@
text
@Build cextensions.

$OpenBSD: patch-setup_py,v 1.3 2010/05/24 16:42:44 wcmaier Exp $
--- setup.py.orig	Sun Apr 18 18:10:46 2010
+++ setup.py	Tue May  4 07:38:32 2010
@@@@ -7,7 +7,7 @@@@ Please see README for basic installation instructions.
 # If using distutils (not distribute/setuptools),
 # set this flag to True to compile C extensions.
 # Otherwise use --with-cextensions
-BUILD_CEXTENSIONS = False
+BUILD_CEXTENSIONS = True
 
 import os
 import sys
@@@@ -31,8 +31,17 @@@@ except ImportError:
     from distutils.core import setup, Extension
     Feature = None
 
-if Feature:
+if BUILD_CEXTENSIONS:
     extra.update(
+        ext_modules = [
+                Extension('sqlalchemy.cprocessors',
+                      sources=['lib/sqlalchemy/cextension/processors.c']),
+                Extension('sqlalchemy.cresultproxy',
+                      sources=['lib/sqlalchemy/cextension/resultproxy.c'])
+            ]
+    )
+elif Feature:
+    extra.update(
         features = {'cextensions' : Feature(
             "optional C speed-enhancements",
             standard = False,
@@@@ -43,15 +52,6 @@@@ if Feature:
                        sources=['lib/sqlalchemy/cextension/resultproxy.c'])
             ],
         )}
-    )
-elif BUILD_CEXTENSIONS:
-    extra.update(
-        ext_modules = [
-                Extension('sqlalchemy.cprocessors',
-                      sources=['lib/sqlalchemy/cextension/processors.c']),
-                Extension('sqlalchemy.cresultproxy',
-                      sources=['lib/sqlalchemy/cextension/resultproxy.c'])
-            ]
     )
 
 def find_packages(dir_):
@


1.3
log
@Update to 0.6.0.
@
text
@d3 1
a3 1
$OpenBSD$
@


1.2
log
@update to 0.5.0, mark PKG_ARCH=* (no native code here); ok wcmaier@@
@
text
@d1 49
a49 13
$OpenBSD: patch-setup_py,v 1.1 2007/11/23 11:56:42 martynas Exp $
--- setup.py.orig	Sun Nov 18 16:49:52 2007
+++ setup.py	Tue Nov 20 12:32:10 2007
@@@@ -14,7 +14,8 @@@@ class build_py(_build_py):
     def run(self):
         init = path.join(self.build_lib, 'sqlalchemy', '__init__.py')
         if path.exists(init):
-            os.unlink(init)
+            #os.unlink(init)
+            pass
         _build_py.run(self)
         _stamp_version(init)
         self.byte_compile([init])
@


1.1
log
@update to py-sqlalchemy-0.4.1;  from maintainer Will Maier
ok ajacoutot@@
@
text
@d1 1
a1 1
$OpenBSD$
@

