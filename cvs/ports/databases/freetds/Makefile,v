head	1.87;
access;
symbols
	OPENBSD_6_2:1.87.0.2
	OPENBSD_6_2_BASE:1.87
	OPENBSD_6_1:1.86.0.2
	OPENBSD_6_1_BASE:1.86
	OPENBSD_6_0:1.83.0.2
	OPENBSD_6_0_BASE:1.83
	OPENBSD_5_9:1.78.0.2
	OPENBSD_5_9_BASE:1.78
	OPENBSD_5_8:1.71.0.4
	OPENBSD_5_8_BASE:1.71
	OPENBSD_5_7:1.62.0.6
	OPENBSD_5_7_BASE:1.62
	OPENBSD_5_6:1.62.0.4
	OPENBSD_5_6_BASE:1.62
	OPENBSD_5_5:1.62.0.2
	OPENBSD_5_5_BASE:1.62
	OPENBSD_5_4:1.59.0.2
	OPENBSD_5_4_BASE:1.59
	OPENBSD_5_3:1.57.0.2
	OPENBSD_5_3_BASE:1.57
	OPENBSD_5_2:1.56.0.2
	OPENBSD_5_2_BASE:1.56
	OPENBSD_5_1_BASE:1.54
	OPENBSD_5_1:1.54.0.2
	OPENBSD_5_0:1.50.0.2
	OPENBSD_5_0_BASE:1.50
	OPENBSD_4_9:1.47.0.2
	OPENBSD_4_9_BASE:1.47
	OPENBSD_4_8:1.36.0.2
	OPENBSD_4_8_BASE:1.36
	OPENBSD_4_7:1.35.0.2
	OPENBSD_4_7_BASE:1.35
	OPENBSD_4_6:1.30.0.8
	OPENBSD_4_6_BASE:1.30
	OPENBSD_4_5:1.30.0.6
	OPENBSD_4_5_BASE:1.30
	OPENBSD_4_4:1.30.0.4
	OPENBSD_4_4_BASE:1.30
	OPENBSD_4_3:1.30.0.2
	OPENBSD_4_3_BASE:1.30
	OPENBSD_4_2:1.29.0.4
	OPENBSD_4_2_BASE:1.29
	OPENBSD_4_1:1.29.0.2
	OPENBSD_4_1_BASE:1.29
	OPENBSD_4_0:1.27.0.4
	OPENBSD_4_0_BASE:1.27
	OPENBSD_3_9:1.27.0.2
	OPENBSD_3_9_BASE:1.27
	OPENBSD_3_8:1.25.0.2
	OPENBSD_3_8_BASE:1.25
	OPENBSD_3_7:1.23.0.2
	OPENBSD_3_7_BASE:1.23
	OPENBSD_3_6:1.20.0.2
	OPENBSD_3_6_BASE:1.20
	OPENBSD_3_5:1.16.0.2
	OPENBSD_3_5_BASE:1.16
	OPENBSD_3_4:1.13.0.2
	OPENBSD_3_4_BASE:1.13
	OPENBSD_3_3:1.11.0.2
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.9.0.2
	OPENBSD_3_2_BASE:1.9
	OPENBSD_3_1:1.7.0.2
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.4.0.2
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.1.1.1
	naddy_20010811:1.1.1.1
	naddy:1.1.1;
locks; strict;
comment	@# @;


1.87
date	2017.09.22.20.32.22;	author sthen;	state Exp;
branches;
next	1.86;
commitid	4rSWyGj616fTarkN;

1.86
date	2017.02.18.17.33.51;	author ajacoutot;	state Exp;
branches;
next	1.85;
commitid	kjw4RQ4AAUYktD89;

1.85
date	2017.02.18.17.32.37;	author ajacoutot;	state Exp;
branches;
next	1.84;
commitid	bw6Y0vDo3oixdVWL;

1.84
date	2016.09.13.11.44.07;	author naddy;	state Exp;
branches;
next	1.83;
commitid	C6SmwZ8lkBQj7CMw;

1.83
date	2016.07.01.11.35.51;	author sthen;	state Exp;
branches;
next	1.82;
commitid	7NNaQKSuTsgYtMPG;

1.82
date	2016.06.29.13.17.33;	author sthen;	state Exp;
branches;
next	1.81;
commitid	typmUbymQf4OrK5p;

1.81
date	2016.06.29.09.17.41;	author sthen;	state Exp;
branches;
next	1.80;
commitid	WVC2U826VDXHEetI;

1.80
date	2016.03.27.15.09.02;	author sthen;	state Exp;
branches;
next	1.79;
commitid	WPgRZrQzlG3geI9P;

1.79
date	2016.03.11.20.28.23;	author naddy;	state Exp;
branches;
next	1.78;
commitid	UYLP8TE6V7RS2GhJ;

1.78
date	2016.01.24.01.31.09;	author ajacoutot;	state Exp;
branches;
next	1.77;
commitid	LRasaiz5FbXWxcCC;

1.77
date	2016.01.07.23.11.08;	author sthen;	state Exp;
branches;
next	1.76;
commitid	tfYdmQpRGeAnsEUT;

1.76
date	2015.12.20.23.06.05;	author ajacoutot;	state Exp;
branches;
next	1.75;
commitid	RjTfILCD1XTbsvps;

1.75
date	2015.11.04.23.18.25;	author sthen;	state Exp;
branches;
next	1.74;
commitid	RVxjdB2wyvCQwQyq;

1.74
date	2015.10.12.11.00.03;	author sthen;	state Exp;
branches;
next	1.73;
commitid	EHlZNo9faK7mRMFK;

1.73
date	2015.09.09.15.21.19;	author sthen;	state Exp;
branches;
next	1.72;
commitid	P86ZemrpTqshFfLK;

1.72
date	2015.08.11.21.06.11;	author jeremy;	state Exp;
branches;
next	1.71;
commitid	vIKntlvapLSUOXoT;

1.71
date	2015.07.19.01.16.07;	author ajacoutot;	state Exp;
branches;
next	1.70;
commitid	WXkj9VbqQTyMIqda;

1.70
date	2015.07.18.21.11.18;	author jasper;	state Exp;
branches;
next	1.69;
commitid	7lAcPgPxUa1f4S8R;

1.69
date	2015.06.28.19.24.13;	author ajacoutot;	state Exp;
branches;
next	1.68;
commitid	FmWcMANX78nsIz2U;

1.68
date	2015.06.25.14.43.54;	author ajacoutot;	state Exp;
branches;
next	1.67;
commitid	kbWwnBroBZxB2h4m;

1.67
date	2015.06.19.12.18.31;	author sthen;	state Exp;
branches;
next	1.66;
commitid	iZ36i5G6KnE7vjwf;

1.66
date	2015.06.15.15.44.53;	author ajacoutot;	state Exp;
branches;
next	1.65;
commitid	mmCDMSp6pdrt4ggu;

1.65
date	2015.06.15.09.00.23;	author sthen;	state Exp;
branches;
next	1.64;
commitid	1gGR39VK0QxF2XUz;

1.64
date	2015.06.12.07.04.29;	author ajacoutot;	state Exp;
branches;
next	1.63;
commitid	qfBjkPcYlNNr0mgB;

1.63
date	2015.06.10.12.49.45;	author ajacoutot;	state Exp;
branches;
next	1.62;
commitid	TXuxQ9s4cZD0Dtqy;

1.62
date	2013.09.20.21.12.44;	author sthen;	state Exp;
branches;
next	1.61;

1.61
date	2013.09.19.17.11.20;	author sthen;	state Exp;
branches;
next	1.60;

1.60
date	2013.09.06.12.22.33;	author espie;	state Exp;
branches;
next	1.59;

1.59
date	2013.03.21.08.45.14;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2013.03.11.02.52.05;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2012.11.22.21.26.18;	author sthen;	state Exp;
branches;
next	1.56;

1.56
date	2012.07.09.22.37.55;	author sthen;	state Exp;
branches;
next	1.55;

1.55
date	2012.05.11.09.57.02;	author sthen;	state Exp;
branches;
next	1.54;

1.54
date	2011.11.11.11.37.54;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2011.09.11.12.38.57;	author sthen;	state Exp;
branches;
next	1.52;

1.52
date	2011.09.11.05.53.37;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2011.09.08.17.13.51;	author sthen;	state Exp;
branches;
next	1.50;

1.50
date	2011.04.15.16.10.38;	author ajacoutot;	state Exp;
branches;
next	1.49;

1.49
date	2011.04.01.23.03.12;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2011.03.24.12.51.19;	author sthen;	state Exp;
branches;
next	1.47;

1.47
date	2010.11.26.07.18.59;	author espie;	state Exp;
branches;
next	1.46;

1.46
date	2010.11.15.00.22.51;	author espie;	state Exp;
branches;
next	1.45;

1.45
date	2010.11.05.10.25.24;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2010.11.05.09.50.52;	author landry;	state Exp;
branches;
next	1.43;

1.43
date	2010.11.04.22.13.33;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2010.11.04.21.33.49;	author sthen;	state Exp;
branches;
next	1.41;

1.41
date	2010.11.04.20.14.20;	author jasper;	state Exp;
branches;
next	1.40;

1.40
date	2010.10.18.17.06.06;	author espie;	state Exp;
branches;
next	1.39;

1.39
date	2010.09.21.16.10.02;	author sthen;	state Exp;
branches;
next	1.38;

1.38
date	2010.09.12.09.32.58;	author sthen;	state Exp;
branches;
next	1.37;

1.37
date	2010.09.01.09.17.42;	author sthen;	state Exp;
branches;
next	1.36;

1.36
date	2010.05.02.11.36.27;	author sthen;	state Exp;
branches;
next	1.35;

1.35
date	2009.10.10.14.16.55;	author sthen;	state Exp;
branches;
next	1.34;

1.34
date	2009.10.10.10.33.15;	author sthen;	state Exp;
branches;
next	1.33;

1.33
date	2009.08.15.00.06.45;	author sthen;	state Exp;
branches;
next	1.32;

1.32
date	2009.08.06.10.13.41;	author sthen;	state Exp;
branches;
next	1.31;

1.31
date	2009.08.01.14.11.19;	author sthen;	state Exp;
branches;
next	1.30;

1.30
date	2007.09.15.20.34.00;	author simon;	state Exp;
branches;
next	1.29;

1.29
date	2006.11.12.23.28.42;	author jcs;	state Exp;
branches;
next	1.28;

1.28
date	2006.10.28.11.19.20;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2006.01.10.18.47.51;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2005.12.26.19.15.22;	author sturm;	state Exp;
branches;
next	1.25;

1.25
date	2005.06.21.15.50.51;	author jcs;	state Exp;
branches;
next	1.24;

1.24
date	2005.03.30.03.39.00;	author jcs;	state Exp;
branches;
next	1.23;

1.23
date	2005.02.19.22.25.48;	author alek;	state Exp;
branches;
next	1.22;

1.22
date	2004.11.22.16.59.29;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2004.10.03.18.41.36;	author jcs;	state Exp;
branches;
next	1.20;

1.20
date	2004.08.10.10.26.50;	author xsa;	state Exp;
branches;
next	1.19;

1.19
date	2004.08.09.00.21.28;	author espie;	state Exp;
branches;
next	1.18;

1.18
date	2004.06.28.06.26.14;	author jcs;	state Exp;
branches;
next	1.17;

1.17
date	2004.04.14.03.17.04;	author jcs;	state Exp;
branches;
next	1.16;

1.16
date	2004.02.16.01.25.23;	author jcs;	state Exp;
branches;
next	1.15;

1.15
date	2004.02.08.10.36.02;	author sturm;	state Exp;
branches;
next	1.14;

1.14
date	2004.01.12.02.46.12;	author jcs;	state Exp;
branches;
next	1.13;

1.13
date	2003.08.17.22.37.12;	author jcs;	state Exp;
branches;
next	1.12;

1.12
date	2003.05.18.16.57.18;	author jcs;	state Exp;
branches;
next	1.11;

1.11
date	2003.02.08.17.21.41;	author jcs;	state Exp;
branches;
next	1.10;

1.10
date	2003.02.08.13.18.48;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2002.09.12.00.12.48;	author jcs;	state Exp;
branches;
next	1.8;

1.8
date	2002.05.13.18.50.38;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2001.12.27.02.56.38;	author jcs;	state Exp;
branches;
next	1.6;

1.6
date	2001.11.01.02.40.55;	author jcs;	state Exp;
branches;
next	1.5;

1.5
date	2001.10.25.00.12.12;	author jcs;	state Exp;
branches;
next	1.4;

1.4
date	2001.10.06.19.58.33;	author jcs;	state Exp;
branches;
next	1.3;

1.3
date	2001.10.06.13.52.00;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.09.15.23.26.38;	author jcs;	state Exp;
branches;
next	1.1;

1.1
date	2001.08.11.15.31.43;	author naddy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2001.08.11.15.31.43;	author naddy;	state Exp;
branches;
next	;


desc
@@


1.87
log
@sync WANTLIB
@
text
@# $OpenBSD: Makefile,v 1.86 2017/02/18 17:33:51 ajacoutot Exp $

COMMENT=	database drivers for Sybase/Microsoft SQL Server

DISTNAME=	freetds-0.95.95
REVISION=	3
# 1.00 releases have problems with at least sqsh, libdbi-drivers, p5-sybperl

SHARED_LIBS +=  ct                   6.0      # 4.0
SHARED_LIBS +=  sybdb                8.0      # 6.0
SHARED_LIBS +=  tdsodbc              2.0      # unknown

CATEGORIES=	databases

HOMEPAGE=	http://www.freetds.org/

MASTER_SITES=	ftp://ftp.freetds.org/pub/freetds/stable/

# LGPLv2+ (most things) GPLv2+ (fisql, tdspool) FDL (docs)
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c ffi gcrypt gmp gnutls gpg-error hogweed iconv idn2 intl
WANTLIB += iodbc iodbcinst ncurses nettle p11-kit pthread readline tasn1
WANTLIB += unistring z

AUTOCONF_VERSION=2.65
AUTOMAKE_VERSION=1.11
BUILD_DEPENDS+=	devel/gettext \
		devel/libtool \
		${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}

LIB_DEPENDS=	converters/libiconv \
		databases/iodbc,-main \
		security/gnutls \
		security/libgcrypt

# requires database server
TEST_IS_INTERACTIVE=Yes

CONFIGURE_STYLE=gnu
CONFIGURE_ENV=	ac_cv_prog_DOXYGEN=
CONFIGURE_ARGS=	--enable-static \
		--with-iodbc="${LOCALBASE}" \
		--with-libiconv-prefix="${LOCALBASE}" \
		--with-gnutls \
		--with-tdsver=7.3

# picks up com_err.h from e2fsprogs for gssapi support
CONFIGURE_ENV+=	ac_cv_header_com_err_h=no

FAKE_FLAGS=	sysconfdir=${PREFIX}/share/examples/freetds

pre-configure:
	cd ${WRKSRC}; \
		AUTOCONF_VERSION=${AUTOCONF_VERSION} \
		AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
		NOCONFIGURE=1 ./autogen.sh
	sed -i 's,/etc/odbc.ini,${SYSCONFDIR}/iodbc/odbc.ini,' \
		${WRKSRC}/src/odbc/connectparams.c

post-install:
	rm -rf ${PREFIX}/share/doc/freetds

.include <bsd.port.mk>
@


1.86
log
@Missed bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.85 2017/02/18 17:32:37 ajacoutot Exp $
d6 1
a6 1
REVISION=	2
d22 3
a24 3
WANTLIB += c ffi gmp gnutls hogweed iconv idn2 intl iodbc iodbcinst ncurses
WANTLIB += nettle p11-kit pthread readline tasn1 z
WANTLIB += gcrypt gpg-error
a25 1
### AUTOHELL (pre-configure)
a31 1
### end of AUTOHELL
@


1.85
log
@idn -> idn2 after gnutls WANTLIB change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2016/09/13 11:44:07 naddy Exp $
d6 1
a6 1
REVISION=	1
@


1.84
log
@replace libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2016/07/01 11:35:51 sthen Exp $
d22 1
a22 1
WANTLIB += c ffi gmp gnutls hogweed iconv idn intl iodbc iodbcinst ncurses
@


1.83
log
@remove obsolete readme, LD_PRELOAD=/usr/lib/libpthread.so no longer needed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2016/06/29 13:17:33 sthen Exp $
d22 1
a22 1
WANTLIB += c ffi gmp gnutls hogweed idn intl iodbc iodbcinst ncurses
a25 2
MODULES=	converters/libiconv

d35 2
a36 1
LIB_DEPENDS=	databases/iodbc,-main \
@


1.82
log
@add dep on libgcrypt, nigel@@ ran into problems without it
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2016/06/29 09:17:41 sthen Exp $
d6 1
a6 1
REVISION=	0
@


1.81
log
@update to FreeTDS 0.95.95, and switch back to using GnuTLS as the
SSL/TLS library (as we used to do by default) - fixes a segfault
that now occurs when making a TLS connection to a database from
a program that is also using poppler-glib. (specifically I see
an insane value for c->num in MD5_Final/HASH_FINAL resulting in
a write past the end of an array when doing "use DBI; use Poppler;
$dbh = DBI->connect('dbi:Sybase:server=server'" in perl).

We used to do this (with an optional openssl flavour) but switched
away previously because gnutls started needing pthread and we wanted
to avoid the need to preload libpthread.so for various programs
(especially DBD::Sybase), but that is no longer a problem.

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2016/03/27 15:09:02 sthen Exp $
d6 1
d24 1
d38 2
a39 1
		security/gnutls
@


1.80
log
@update to freetds-0.95.89
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2016/03/11 20:28:23 naddy Exp $
d5 2
a6 1
DISTNAME=	freetds-0.95.89
a14 1
# also http://freetds.schemamania.org/ http://freetds.sourceforge.net/
a18 4
# No specific exception for OpenSSL, however the GPL has a special
# exception for "anything that is normally distributed...with the major
# components...of the operating system on which the executable runs,
# unless that component itself accompanies the executable."
d21 2
a22 1
WANTLIB += c crypto iodbc iodbcinst ncurses pthread readline ssl
d35 2
a36 1
LIB_DEPENDS=	databases/iodbc,-main
d43 1
a43 3
# --disable-threadsafe required by databases/ruby-tiny_tds
CONFIGURE_ARGS=	--disable-threadsafe \
		--enable-static \
d46 1
a46 1
		--with-openssl \
@


1.79
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2016/01/24 01:31:09 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	freetds-0.95.80
@


1.78
log
@Update to freetds-0.95.80.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2016/01/07 23:11:08 sthen Exp $
d46 1
a46 2
CONFIGURE_ARGS=	${CONFIGURE_SHARED} \
		--disable-threadsafe \
@


1.77
log
@update to freetds-0.95.79
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2015/12/20 23:06:05 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	freetds-0.95.79
d8 1
a8 1
SHARED_LIBS +=  sybdb                8.0      # 5.0
@


1.76
log
@Update to freetds-0.95.75.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2015/11/04 23:18:25 sthen Exp $
d5 1
a5 1
DISTNAME=	freetds-0.95.75
@


1.75
log
@Kill the refguide for FreeTDS, it isn't especially useful in the package
and this saves 2/3 of the package size. ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2015/10/12 11:00:03 sthen Exp $
d5 1
a5 2
DISTNAME=	freetds-0.95.21
REVISION=	0
@


1.74
log
@update to freetds-0.95.21
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2015/09/09 15:21:19 sthen Exp $
d6 1
d67 3
@


1.73
log
@update to freetds-0.95.19, issue with ctlib error handling
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2015/08/11 21:06:11 jeremy Exp $
d5 1
a5 1
DISTNAME=	freetds-0.95.19
@


1.72
log
@Add back --disable-threadsafe, fixing runtime use of
databases/ruby-tiny_tds.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2015/07/19 01:16:07 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	freetds-0.95.18
REVISION=	0
@


1.71
log
@Update to freetds-0.95.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2015/07/18 21:11:18 jasper Exp $
d6 1
d46 1
d48 1
@


1.70
log
@use sed -i
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2015/06/28 19:24:13 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	freetds-0.95.8
@


1.69
log
@Don't pick up com_err.h; spotted by espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2015/06/25 14:43:54 ajacoutot Exp $
d62 1
a62 1
	perl -pi -e 's,/etc/odbc.ini,${SYSCONFDIR}/iodbc/odbc.ini,' \
@


1.68
log
@Update to freetds-0.95.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2015/06/19 12:18:31 sthen Exp $
d51 3
@


1.67
log
@update to FreeTDS-0.95.5, the only real change for us is "Do not try to
unlock not-locked mutexes".
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2015/06/15 15:44:53 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	freetds-0.95.5
@


1.66
log
@Update to freetds-0.95.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2015/06/15 09:00:23 sthen Exp $
d5 1
a5 1
DISTNAME=	freetds-0.95.1
@


1.65
log
@Don't use --disable-threadsafe in FreeTDS; it has been in the port for many
years but doesn't appear to be necessary any more.  From Brad, ok ajacoutot@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2015/06/12 07:04:29 ajacoutot Exp $
d5 1
a5 2
DISTNAME=	freetds-0.95.0
REVISION=	0
@


1.64
log
@Update to freetds-0.95.0.

survived a bulk
tested by and ok sthen@@ (thank you)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2015/06/10 12:49:45 ajacoutot Exp $
d6 1
a46 1
		--disable-threadsafe \
@


1.63
log
@Drop php 5.3 patch.
/etc -> SYSCONFDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/09/20 21:12:44 sthen Exp $
d5 1
a5 2
DISTNAME=	freetds-0.92.79
REVISION=	0
d7 3
a9 3
SHARED_LIBS += ct                   5.0      # .4.0
SHARED_LIBS += sybdb                7.0      # .5.0
SHARED_LIBS += tdsodbc              1.0      # .0.0
d16 2
d27 1
a27 1
MASTER_SITES=	ftp://ftp.freetds.org/pub/freetds/stable/
d29 1
d32 2
a33 6
MODULES=	devel/gettext
BUILD_DEPENDS=  devel/doxygen,no_gui,bootstrap>=1.7.2 \
		devel/libtool,-main \
		textproc/docbook \
		textproc/docbook-dsssl \
		textproc/openjade \
d36 2
d43 2
a44 2
USE_GROFF=	Yes
CONFIGURE_STYLE= gnu
d51 1
a51 1
		--with-tdsver=7.1
a52 5
CONFIGURE_ENV=	CFLAGS="${CFLAGS} -I${LOCALBASE}/include -L${LOCALBASE}/lib"

MAKE_ENV=	RM=rm \
		DOCBOOK_DSL=${LOCALBASE}/share/sgml/docbook/dsssl/modular/html/docbook.dsl \
		SGML_CATALOG_FILES=${LOCALBASE}/share/sgml/catalog:${LOCALBASE}/share/sgml/openjade/catalog
a53 5
DOC=		share/doc/freetds
SUBST_VARS=	DOC V

post-extract:
	rm -r ${WRKSRC}/doc/doc/freetds-*
d60 2
a61 6
	@@${SUBST_CMD} ${WRKSRC}/src/odbc/connectparams.c

post-install:
	cd ${PREFIX}/lib && ln -s libtdsodbc.so.${LIBtdsodbc_VERSION} \
		libtdsodbc.so
	mv ${PREFIX}/share/doc/freetds-* ${PREFIX}/share/doc/freetds
@


1.62
log
@needs docbook, found by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/09/19 17:11:20 sthen Exp $
d6 1
@


1.61
log
@update to freetds-0.92.79
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/09/06 12:22:33 espie Exp $
d32 1
@


1.60
log
@junk found: autogen.sh does want to use argz.m4 and to run libtoolize,
so we actually need the full libtool package during build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/03/21 08:45:14 ajacoutot Exp $
d5 1
a5 1
DISTNAME=	freetds-0.91.49
d25 1
a25 2
MASTER_SITES=	http://mirrors.ibiblio.org/freetds/stable/git/ \
		ftp://ftp.freetds.org/pub/freetds/stable/
d60 3
d72 1
a72 1
		libtdsodbc.so; \
@


1.59
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/03/11 02:52:05 espie Exp $
d32 1
a32 1
		devel/libtool,-ltdl \
@


1.58
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/11/22 21:26:18 sthen Exp $
a41 1
USE_LIBTOOL=	Yes
@


1.57
log
@update to FreeTDS 0.91.49 (minor bugfix update in stable branch) and
tweak the text dealing with LD_PRELOAD=libpthread.so.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/07/09 22:37:55 sthen Exp $
a20 2
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
a21 1
PERMIT_PACKAGE_FTP=	Yes
d40 1
a40 1
REGRESS_IS_INTERACTIVE=Yes
@


1.56
log
@update MASTER_SITES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/05/11 09:57:02 sthen Exp $
d5 1
a5 2
DISTNAME=	freetds-0.91
REVISION=	1
d28 2
a29 1
MASTER_SITES=	http://mirrors.ibiblio.org/freetds/stable/
@


1.55
log
@Drop separate OpenSSL flavour for FreeTDS. Change main package to using
OpenSSL rather than GnuTLS. Permit packages to be distributed. Bump shared
library versions to make sure they get updated.

As researched by jasper@@, the GPL has a special exception when something
depends on software provided with the base OS, so it *is* ok for us to
distribute this.

This is preferred over using GnuTLS because GnuTLS pulls in a pthread
dependency; pthread overrides libc functions, so it is necessary
that a program using this is itself linked with pthread, causing a
problem if you want to use the FreeTDS library to connect to servers
using encryption from programs which aren't themselves linked with
pthread (e.g. /usr/sbin/httpd with mod_php, or perl with DBD::Sybase).

ok jasper@@ ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/11/11 11:37:54 espie Exp $
d29 1
a29 1
MASTER_SITES=	http://www.ibiblio.org/pub/Linux/ALPHA/freetds/stable/
@


1.54
log
@handle loop: this requires doxygen,no_gui,bootstrap
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/09/11 12:38:57 sthen Exp $
d6 1
a6 1
REVISION=	0
d8 3
a10 3
SHARED_LIBS += ct                   4.0      # .4.0
SHARED_LIBS += sybdb                6.0      # .5.0
SHARED_LIBS += tdsodbc              0.0      # .0.0
d18 4
d24 2
d27 1
a27 1
WANTLIB += c iodbc iodbcinst ncurses pthread readline
d53 1
a54 15

FLAVOR?=
FLAVORS=	openssl
.if ${FLAVOR:Mopenssl}
CONFIGURE_ARGS+=	--with-openssl
WANTLIB+=		crypto ssl
PERMIT_PACKAGE_CDROM=	incompatible license
PERMIT_PACKAGE_FTP=	incompatible license
.else
LIB_DEPENDS+=		security/gnutls
CONFIGURE_ARGS+=	--with-gnutls
WANTLIB+=		gmp gnutls hogweed nettle p11-kit tasn1 z
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
.endif
@


1.53
log
@missing dep, sync WANTLIB, use better automake version. pointed out by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/09/08 17:13:51 sthen Exp $
d28 1
a28 1
BUILD_DEPENDS=  devel/doxygen>=1.7.2 \
d51 1
a51 1
.if ${FLAVOR:L:Mopenssl}
@


1.52
log
@Missing BUILD_DEPENDS.
@
text
@d6 1
d26 1
a26 1
AUTOMAKE_VERSION=1.10 # should be 1.11.1
d28 2
a29 1
BUILD_DEPENDS=	devel/doxygen>=1.7.2 \
d59 1
a59 1
WANTLIB+=		gmp gnutls hogweed nettle tasn1 z
@


1.51
log
@update to freetds 0.91; add an openssl flavour (see README for details),
remove msdblib flavour (with @@pkgpath to handle updates): this is not
really worth a separate flavour; just define MSDBLIB when building your
applications if you require this behaviour.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/04/15 16:10:38 ajacoutot Exp $
d29 3
a31 1
		textproc/openjade
@


1.50
log
@Fix DEPENDS after gnutls update.

ok landry@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/04/01 23:03:12 sthen Exp $
d5 1
a5 7
V=		0.82
PATCHVER=	20110223
DISTNAME=	freetds-$V
PKGNAME=	${DISTNAME}.${PATCHVER}
PATCHFILES=	freetds-post82-${PATCHVER}.diff.gz:0

REVISION=	0
a16 2
PERMIT_PACKAGE_CDROM=	Yes
PERMIT_PACKAGE_FTP=	Yes
d20 1
a20 2
WANTLIB += c gmp gnutls hogweed iodbc iodbcinst ncurses nettle
WANTLIB += pthread readline tasn1 z
d22 1
a22 2
MASTER_SITES=	ftp://ftp.ibiblio.org/pub/Linux/ALPHA/freetds/stable/
MASTER_SITES0=	http://spacehopper.org/mirrors/
d24 2
a25 2
AUTOCONF_VERSION=2.59
AUTOMAKE_VERSION=1.9
a26 1
# XXX uses libtool m4 macros
d28 3
a30 8
		devel/libtool \
		${MODGNU_AUTOCONF_DEPENDS} \
		${MODGNU_AUTOMAKE_DEPENDS}
LIB_DEPENDS=	databases/iodbc,-main \
		security/gnutls

FLAVORS=	msdblib
FLAVOR?=
a40 1
		--with-gnutls \
d43 16
a58 1
		--with-tdsver=8.0
d62 4
a65 5
.if $(FLAVOR:L:Mmsdblib)
CONFIGURE_ARGS+=--enable-msdblib
.endif

MAKE_ENV=	RM=rm
a69 1
	cd ${WRKSRC}/doc/doc; ln -s freetds-0.82 freetds-0.82.1
d71 3
a73 3
	    AUTOCONF_VERSION=${AUTOCONF_VERSION} \
	    AUTOMAKE_VERSION=${AUTOMAKE_VERSION} \
	    NOCONFIGURE=1 ./autogen.sh
a76 5
	@@mkdir ${PREFIX}/share/examples/freetds; \
	${INSTALL_DATA} ${WRKSRC}/freetds.conf \
		${PREFIX}/share/examples/freetds/freetds.conf-sample; \
	${INSTALL_DATA} ${WRKSRC}/src/pool/pool.conf \
		${PREFIX}/share/examples/freetds/pool.conf-sample; \
@


1.49
log
@update license comment, no pkg change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/03/24 12:51:19 sthen Exp $
d11 2
d28 1
a28 1
WANTLIB += c iodbc iodbcinst gcrypt gnutls gpg-error ncurses
d43 1
a43 4
		security/libgcrypt \
		security/gnutls \
		security/libgpg-error \
		security/libtasn1
@


1.48
log
@update to 20110223 upstream patchset
- backported fix for server_host_name setting in odbc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2010/11/26 07:18:59 espie Exp $
d20 1
a20 1
# GPLv2+
@


1.47
log
@newer depends with >=
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2010/11/15 00:22:51 espie Exp $
d6 1
a6 1
PATCHVER=	20100728
d8 1
a8 2
REVISION=	3
PKGNAME=	${DISTNAME}.1pre${PATCHVER}
d18 1
a18 2
# or, if they lunch out the dns registration again:
# http://freetds.schemamania.org/
d53 1
a53 1
USE_GROFF =	Yes
a57 1
		--with-tdsver=8.0 \
d60 2
a61 1
		--with-libiconv-prefix="${LOCALBASE}"
@


1.46
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2010/11/05 10:25:24 sthen Exp $
d38 1
a38 1
BUILD_DEPENDS=	doxygen->=1.7.2:devel/doxygen \
@


1.45
log
@use shared libiconv again (fixed amd64 build noted by landry)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2010/11/05 09:50:52 landry Exp $
d38 2
a39 2
BUILD_DEPENDS=	:doxygen->=1.7.2:devel/doxygen \
		::devel/libtool \
d42 5
a46 5
LIB_DEPENDS=	::databases/iodbc,-main \
		::security/libgcrypt \
		::security/gnutls \
		::security/libgpg-error \
		::security/libtasn1
@


1.44
log
@this needs gnu libtool macros
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/11/04 22:13:33 sthen Exp $
d8 1
a8 1
REVISION=	2
@


1.43
log
@- include missing netinet/in.h header pointed out by landry@@
- don't run configure twice
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/11/04 21:33:49 sthen Exp $
d37 1
d39 1
@


1.42
log
@use autoconf/automake to regenerate (the distribution patchset updates
configure.ac obsoleting patch-configure but doesn't provide a regenerated
configure script so it was never picked up).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/11/04 20:14:20 jasper Exp $
d8 1
a8 1
REVISION=	1
d78 1
a78 1
	    ./autogen.sh
@


1.41
log
@- regen PLIST after doxygen update
- tighten build dependency on doxygen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/10/18 17:06:06 espie Exp $
d34 2
d37 3
a39 1
BUILD_DEPENDS=	:doxygen->=1.7.2:devel/doxygen
d74 5
d82 1
a82 1
	@@mkdir ${PREFIX}/share/examples/freetds
d84 1
a84 1
		${PREFIX}/share/examples/freetds/freetds.conf-sample
d86 4
a89 4
		${PREFIX}/share/examples/freetds/pool.conf-sample
	@@cd ${PREFIX}/lib && ln -s libtdsodbc.so.${LIBtdsodbc_VERSION} \
		libtdsodbc.so
	@@mv ${PREFIX}/share/doc/freetds-* ${PREFIX}/share/doc/freetds
@


1.40
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/09/21 16:10:02 sthen Exp $
d8 1
a8 1
REVISION=	0
d35 1
a35 1
BUILD_DEPENDS=	::devel/doxygen
@


1.39
log
@use shared not static libiconv; fixes build with .Ox libtool. bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/09/12 09:32:58 sthen Exp $
d49 1
@


1.38
log
@update FreeTDS to a newer post-0.82 patchset; thanks to Ryan Boggs for testing.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/09/01 09:17:42 sthen Exp $
d8 1
@


1.37
log
@use REVISION and new-style LIB_DEPENDS+WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/05/02 11:36:27 sthen Exp $
d6 1
a6 1
PATCHVER=	20090903
d9 1
a9 2
REVISION=	0
PATCHFILES=	freetds-post82-${PATCHVER}.diff.fixed.gz:0
d18 2
d44 3
d78 1
a78 2
	@@mv ${PREFIX}/share/doc/freetds-$V.1.dev.20090930 \
		${PREFIX}/share/doc/freetds
@


1.36
log
@- improve the summary in pkg/DESCR

- default to protocol version 8 to avoid plaintext passwords on the
wire, note this in the sample freetds.conf
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2009/10/10 14:16:55 sthen Exp $
d8 2
a9 1
PKGNAME=	${DISTNAME}.1pre${PATCHVER}p0
d26 2
a27 3
MASTER_SITES0=	http://spacehopper.org/mirrors/

WANTLIB=	c ncurses readline pthread z
d30 1
d34 5
a38 5
LIB_DEPENDS=	iodbc,iodbcinst::databases/iodbc,-main \
		gcrypt::security/libgcrypt \
		gnutls::security/gnutls \
		gpg-error::security/libgpg-error \
		tasn1::security/libtasn1
@


1.35
log
@unbreak the patchset, noticed by jasper@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2009/10/10 10:33:15 sthen Exp $
d8 1
a9 1
PKGNAME=	${DISTNAME}.1pre${PATCHVER}
d47 1
@


1.34
log
@update to newer upstream patches
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2009/08/15 00:06:45 sthen Exp $
d8 2
a9 2
PATCHFILES=	freetds-post82-${PATCHVER}.diff.gz:0
PKGNAME=	${DISTNAME}.0.${PATCHVER}
d58 1
a58 1
DOC=		share/doc/freetds-$V
d72 2
@


1.33
log
@Add gnutls support, bump PKGNAME.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/08/06 10:13:41 sthen Exp $
d6 1
a6 1
PATCHVER=	20090707
d9 1
a9 1
PKGNAME=	${DISTNAME}.0.${PATCHVER}p0
@


1.32
log
@Build depends on doxygen; no pkg bump necessary.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/08/01 14:11:19 sthen Exp $
d9 1
a9 1
PKGNAME=	${DISTNAME}.0.${PATCHVER}
d27 1
a27 1
WANTLIB=	c ncurses readline pthread
d31 1
a31 1
MODULES=	converters/libiconv
d33 5
a37 1
LIB_DEPENDS=	iodbc,iodbcinst::databases/iodbc,-main
d45 1
d47 3
a49 3
		--with-libiconv-prefix="${LOCALBASE}" \
		--disable-threadsafe \
		--with-iodbc="${LOCALBASE}"
@


1.31
log
@- update to 0.82+patches
- build the ODBC library
@
text
@d1 1
a1 1
# $OpenBSD$
d32 1
@


1.30
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2006/11/12 23:28:42 jcs Exp $
d3 4
a6 1
V=		0.63
d8 7
a14 1
PKGNAME=	${DISTNAME}p1
a15 4
SHARED_LIBS +=	tds                  4.0      # .4.0
SHARED_LIBS +=	ct                   3.0      # .3.0
SHARED_LIBS +=	sybdb                5.0      # .5.0
SHARED_LIBS +=	tdssrv               2.0      # .2.0
d17 3
a19 1
# GPL
d25 3
a27 1
WANTLIB=	c ncurses readline
a28 2
COMMENT=	project to document and implement the TDS protocol
HOMEPAGE=	http://www.freetds.org/
d31 3
a37 1

d43 3
a45 1
		--disable-odbc
a51 1
MODULES=	converters/libiconv
d55 3
a58 2
	@@sed -e "s:@@sysconfdir@@:${SYSCONFDIR}:g" ${WRKSRC}/freetds.conf > \
		${WRKSRC}/freetds.conf.new
d60 1
a60 1
	${INSTALL_DATA} ${WRKSRC}/freetds.conf.new \
d64 2
@


1.29
log
@remove myself as maintainer for ports i no longer use and/or cannot
test

bump pkgname's accordingly
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2006/10/28 11:19:20 espie Exp $
d20 1
a20 1
COMMENT=	"project to document and implement the TDS protocol"
@


1.28
log
@a few more SHARED_LIBS reformat
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2006/01/10 18:47:51 espie Exp $
d5 1
a5 1
PKGNAME=	${DISTNAME}p0
a22 2

MAINTAINER=	joshua stein <jcs@@openbsd.org>
@


1.27
log
@remove some SHARED_LIBS work-arounds that are no longer necessary
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2005/12/26 19:15:22 sturm Exp $
d7 4
a10 4
SHARED_LIBS=	ct	3.0 \
		sybdb	5.0 \
		tds	4.0 \
		tdssrv	2.0
@


1.26
log
@SHARED_LIBS, USE_LIBTOOL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2005/06/21 15:50:51 jcs Exp $
a10 7
MODGNU_SHARED_LIBS=ct	'' \
		sybdb	'' \
		tds	'' \
		tdssrv	''
LIBct_ALIAS=	realct
LIBsybdb_ALIAS=	realsybdb
LIBtds_ALIAS=	realtds
@


1.25
log
@add freetds msdblib flavor

from Alexey E. Suslikov
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/03/30 03:39:00 jcs Exp $
d5 1
d7 11
d35 2
@


1.24
log
@long awaited freetds-0.63 final release
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/02/19 22:25:48 alek Exp $
d21 3
d30 5
@


1.23
log
@- Devel/gettext MODULE is not needed, converters/libiconv is enough
- Bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2004/11/22 16:59:29 espie Exp $
d3 1
a3 1
V=		0.62.4
a4 1
PKGNAME=	${DISTNAME}p0
d12 2
a13 1
WANTLIB=		c ncurses readline
d17 1
a17 1
MASTER_SITES=	http://ibiblio.org/pub/Linux/ALPHA/freetds/stable/
d19 1
a19 1
MAINTAINER=	Joshua Stein <jcs@@openbsd.org>
@


1.22
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/10/03 18:41:36 jcs Exp $
d5 1
d28 1
a28 1
MODULES=	devel/gettext
@


1.21
log
@update my email address
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/08/10 10:26:50 xsa Exp $
d12 1
@


1.20
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/08/09 00:21:28 espie Exp $
d17 1
a17 1
MAINTAINER=	Joshua Stein <jcs@@rt.fm>
@


1.19
log
@more new plists.
put V number of freetds into its Makefile.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/06/28 06:26:14 jcs Exp $
d26 1
a26 1
MODULES=	gettext
@


1.18
log
@freetds-0.62.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2004/04/14 03:17:04 jcs Exp $
d3 2
a4 1
DISTNAME=	freetds-0.62.4
d27 2
@


1.17
log
@freetds-0.62.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2004/02/16 01:25:23 jcs Exp $
d3 1
a3 1
DISTNAME=	freetds-0.62.3
@


1.16
log
@freetds-0.62.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/02/08 10:36:02 sturm Exp $
d3 1
a3 1
DISTNAME=	freetds-0.62.1
@


1.15
log
@don't pick up installed iodbc port

ok maintainer jcs@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2004/01/12 02:46:12 jcs Exp $
d3 1
a3 1
DISTNAME=	freetds-0.62
@


1.14
log
@freetds-0.62
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2003/08/17 22:37:12 jcs Exp $
d22 2
a23 1
		--disable-threadsafe
@


1.13
log
@update to freetds-0.61.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2003/05/18 16:57:18 jcs Exp $
d3 1
a3 1
DISTNAME=	freetds-0.61.2
d21 2
a22 1
		--with-libiconv-prefix="${LOCALBASE}"
d32 2
@


1.12
log
@freetds-0.61
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/02/08 17:21:41 jcs Exp $
d3 1
a3 2
DISTNAME=	freetds-0.61
PKGNAME=	${DISTNAME}p1
a14 1
EXTRACT_SUFX=	.tgz
a23 3

#post-configure:
#	@@chmod 644 ${WRKSRC}/include/tds_configs.h
@


1.11
log
@oops, common.h slipped back into PLIST with the last update

this file is part of the test suite which shouldn't be installing
things anyway, so stub out the install targets so none of these
files get back into PLIST in the future

unbreak and bump pkgname to freetds-0.60p1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2003/02/08 13:18:48 espie Exp $
d3 1
a3 1
DISTNAME=	freetds-0.60
d15 1
a15 1
MASTER_SITES=	${MASTER_SITE_SUNSITE:=ALPHA/freetds/}
d27 2
a28 2
post-configure:
	@@chmod 644 ${WRKSRC}/include/tds_configs.h
@


1.10
log
@Broken: does install a /usr/local/include/common.h file.
Yeah, right...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/09/12 00:12:48 jcs Exp $
d4 1
a5 1
BROKEN=		"/usr/local/include/common.h ? you gotta be kidding"
@


1.9
log
@update to freetds-0.60
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/05/13 18:50:38 espie Exp $
d5 1
@


1.8
log
@Kill a few SUBDIR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2001/12/27 02:56:38 jcs Exp $
d3 1
a3 1
DISTNAME=	freetds-0.53
a4 1
NEED_VERSION=	1.503
d6 1
@


1.7
log
@Update to freetds-0.53
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2001/10/25 00:12:12 jcs Exp $
d14 1
a14 2
MASTER_SITES=	${MASTER_SITE_SUNSITE}
MASTER_SITE_SUBDIR= ALPHA/freetds
@


1.6
log
@use in-tree libtool patches
prodded by wilfried@@
@
text
@d3 1
a3 1
DISTNAME=	freetds-0.52
d5 1
a5 1
NEED_VERSION=	1.433
a19 4
PATCH_LIST=	${PORTSDIR}/infrastructure/patches/patch-lt1.3.3-ltconfig \
		${PORTSDIR}/infrastructure/patches/patch-lt1.3.3-ltmain_sh \
		patch-*

d23 1
a23 1
		--enable-dbmfix
d25 4
@


1.5
log
@Expand @@sysconfdir@@ in freetds.conf
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2001/10/06 19:58:33 jcs Exp $
d19 4
@


1.4
log
@include/common.h shouldn't be installed anyway
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2001/10/06 13:52:00 espie Exp $
d27 2
d30 1
a30 1
	${INSTALL_DATA} ${WRKSRC}/freetds.conf \
@


1.3
log
@/usr/local/include/common.h ? yeah, right...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2001/09/15 23:26:38 jcs Exp $
a5 1
BROKEN=		"Invades /usr/local/include"
@


1.2
log
@Remove vim tags
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2001/08/11 15:31:43 naddy Exp $
d6 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 2
# $OpenBSD$
# vim:ts=8
@


1.1.1.1
log
@Import of FreeTDS 0.52.
Submitted by Joshua Stein <jcs@@rt.fm>.

FreeTDS is a project to document and implement the TDS (Tabular
DataStream) protocol.  TDS is used by Sybase and Microsoft for
client to database server communications.
@
text
@@
