head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.2
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.7.0.2
	OPENBSD_6_0_BASE:1.7
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.4.0.4
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.2.0.6
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.4
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	landry_20130810:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2017.03.17.07.15.01;	author ajacoutot;	state Exp;
branches;
next	1.7;
commitid	6J98V0hDnVHawvDu;

1.7
date	2016.05.13.18.05.01;	author landry;	state Exp;
branches;
next	1.6;
commitid	0PZyBhVkGVEU9d67;

1.6
date	2015.12.22.21.36.31;	author landry;	state Exp;
branches;
next	1.5;
commitid	lkFbVLyQawno1jH9;

1.5
date	2015.09.29.10.51.14;	author sthen;	state Exp;
branches;
next	1.4;
commitid	0mMHGyUMEfafRiiY;

1.4
date	2015.05.13.20.11.24;	author jca;	state Exp;
branches;
next	1.3;
commitid	45wBixoOtiA1WWYy;

1.3
date	2015.03.24.20.25.01;	author landry;	state Exp;
branches;
next	1.2;
commitid	5lIXMkwSUdMNyCy3;

1.2
date	2013.08.26.09.37.52;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2013.08.10.13.42.45;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.08.10.13.42.45;	author landry;	state Exp;
branches;
next	;


desc
@@


1.8
log
@Drop MAINTAINER per his request.
@
text
@# $OpenBSD: Makefile,v 1.7 2016/05/13 18:05:01 landry Exp $

COMMENT =	backup and restoration manager for PostgreSQL

MODPY_EGG_VERSION =	1.6.0
DISTNAME =	barman-${MODPY_EGG_VERSION}
CATEGORIES =	databases
HOMEPAGE =	http://www.pgbarman.org/
REVISION =	0

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=pgbarman/}

MODULES =	lang/python
MODPY_SETUPTOOLS =	Yes
RUN_DEPENDS =	databases/py-psycopg2 \
		databases/postgresql \
		net/rsync \
		devel/py-dateutil \
		devel/py-argh

# needs pytest-timeout and pytest-catchlog
NO_TEST =	Yes
#TEST_DEPENDS =	${RUN_DEPENDS} \
#		devel/py-test-timeout \
#		devel/py-test-catchlog \
#		devel/py-test-runner \
#		devel/py-setuptools_scm

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/barman
	${INSTALL_DATA}	${WRKSRC}/README ${PREFIX}/share/doc/barman
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/barman
	${INSTALL_DATA}	${WRKSRC}/doc/barman.conf ${PREFIX}/share/examples/barman

.include <bsd.port.mk>
@


1.7
log
@Update to barman 1.6.0, from MAINTAINER Eric Lalonde.

Added some commented out/unimported yet test dependencies
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/12/22 21:36:31 landry Exp $
d9 1
a9 2

MAINTAINER=	Eric Lalonde <eric.c.lalonde@@gmail.com>
@


1.6
log
@Update to barman 1.5.1, from MAINTAINER Eric Lalonde

With feedback from ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/09/29 10:51:14 sthen Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.5.1
d25 1
a25 1
# needs pytest-timeout and pytest-capturelog
d27 5
@


1.5
log
@bump REVISION for setuptools dep change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/05/13 20:11:24 jca Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.4.1
a8 1
REVISION =	0
@


1.4
log
@Bugfix update to barman-1.4.1, from maintainer Eric Lalonde
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2015/03/24 20:25:01 landry Exp $
d9 1
@


1.3
log
@Update to barman 1.4.0, from Eric Lalonde who takes maintainership.

See http://www.postgresql.org/about/news/1566/ for details.
While here add NO_TEST=Yes since tests depends on pytest libs not ported
yet.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/08/26 09:37:52 landry Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.4.0
@


1.2
log
@Improve barman:

- use a separate _barman:_barman user/group
- use /var/db/barman as the default datadir, setting appropriate
  permissions (ie _barman:_barman / 750)
- make ${SYSCONFDIR}/barman.conf root:_barman & mode 640
- add README teaching how to configure _barman's crontab

Join work with Jean Gerard Pailloncy, tweaks & ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/08/10 13:42:45 landry Exp $
d5 1
a5 1
MODPY_EGG_VERSION =	1.2.2
d9 2
a10 1
REVISION =	0
d24 3
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/09/24 19:39:59 pea Exp $
d9 1
@


1.1.1.1
log
@Import barman 1.2.2.

Barman (backup and recovery manager) is an administration tool for
disaster recovery of PostgreSQL servers written in Python. Barman can
perform remote backups of multiple servers in business critical
environments, and helps DBAs during the recovery phase.

Barman's most wanted features include: backup catalogues, retention
policies, remote recovery, archiving and compression of WAL files and
of backups.

ok ajacoutot@@
@
text
@@
