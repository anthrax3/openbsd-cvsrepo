head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.6
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.8.0.4
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.7.0.2
	OPENBSD_5_9_BASE:1.7
	OPENBSD_5_8:1.4.0.4
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.3.0.4
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	landry_20130810:1.1.1.1
	landry:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2016.03.16.16.46.32;	author naddy;	state Exp;
branches;
next	1.7;
commitid	4Ekn8nPgVVHWLTwe;

1.7
date	2016.01.23.18.01.07;	author ajacoutot;	state Exp;
branches;
next	1.6;
commitid	9Gb1JdfT6JJb70CR;

1.6
date	2015.11.12.15.06.37;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	yfn8LQWaS8Dz58DN;

1.5
date	2015.09.19.21.37.12;	author landry;	state Exp;
branches;
next	1.4;
commitid	8dMkCKnhN33gvUe3;

1.4
date	2015.04.21.18.40.21;	author sthen;	state Exp;
branches;
next	1.3;
commitid	3hBJvHiCBqIEfToT;

1.3
date	2014.04.21.15.37.01;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2013.08.10.21.55.49;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2013.08.10.16.07.02;	author landry;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.08.10.16.07.02;	author landry;	state Exp;
branches;
next	;


desc
@@


1.8
log
@remove SHARED_ONLY from ports that don't use any MODULES
@
text
@# $OpenBSD: Makefile,v 1.7 2016/01/23 18:01:07 ajacoutot Exp $

COMMENT =	HA and replication cluster management for PostgreSQL

DISTNAME =	repmgr-3.0.3
CATEGORIES =	databases
HOMEPAGE =	http://www.repmgr.org/

# GPLv3
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c crypto m pq pthread readline ssl termcap xml2 z

MASTER_SITES =	${HOMEPAGE}download/
USE_GMAKE =	Yes
MAKE_FLAGS =	USE_PGXS=1

# for getopt_long.h
BUILD_DEPENDS =	databases/postgresql,-server
LIB_DEPENDS =	databases/postgresql
RUN_DEPENDS =	net/rsync

NO_TEST =	Yes

pre-configure:
	${SUBST_CMD} ${WRKSRC}/config.c

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/repmgr
	${INSTALL_DATA}	${WRKSRC}/README.md ${PREFIX}/share/doc/repmgr
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/repmgr
	${INSTALL_DATA}	${WRKSRC}/repmgr.conf.sample ${PREFIX}/share/examples/repmgr/repmgr.conf

.include <bsd.port.mk>
@


1.7
log
@Update to repmgr-3.0.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/11/12 15:06:37 ajacoutot Exp $
a7 1
SHARED_ONLY =	Yes
@


1.6
log
@Update to repmgr-3.0.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2015/09/19 21:37:12 landry Exp $
d5 1
a5 1
DISTNAME =	repmgr-3.0.2
d27 1
a27 1
	${SUBST_CMD} ${WRKSRC}/repmgr.h
@


1.5
log
@Update to repmgr 3.0.1.

See http://www.repmgr.org/release-notes-3.0.1.html
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2015/04/21 18:40:21 sthen Exp $
d5 1
a5 1
DISTNAME =	repmgr-3.0.1
d23 1
d26 1
a26 1
post-patch:
@


1.4
log
@add some missing pthread to WANTLIB
(using modified portbump, thanks zhuk@@)

"exciting" one in databases/py-sqlalchemy; port had a bad PKG_ARCH=* line
and also contained .so modules.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2014/04/21 15:37:01 ajacoutot Exp $
d5 1
a5 1
DISTNAME =	repmgr-1.2.0
d8 1
a8 1
REVISION=	1
d25 2
d30 1
a30 1
	${INSTALL_DATA}	${WRKSRC}/README.rst ${PREFIX}/share/doc/repmgr
d32 1
a32 1
	${INSTALL_DATA}	${WRKSRC}/repmgr.conf ${PREFIX}/share/examples/repmgr
@


1.3
log
@Regen wantlib for kerberos removal.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/08/10 21:55:49 landry Exp $
d8 1
a8 1
REVISION=	0
d13 2
a24 1
WANTLIB += c crypto m pq readline ssl termcap xml2 z
@


1.2
log
@Add databases/postgresql,-server to BDEP, needed for getopt_long.h.
Found the hard way by nigel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/08/10 16:07:02 landry Exp $
d8 1
d22 2
a23 2
WANTLIB +=	c com_err crypto m pq readline ssl termcap xml2 z
WANTLIB +=	asn1 heimbase krb5 roken wind
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2012/09/24 19:39:59 pea Exp $
d16 2
@


1.1.1.1
log
@Import repmgr 1.2.0.

repmgr allows you to monitor and manage your replicated PostgreSQL
databases as a single cluster.  repmgr includes two components:

* repmgr: command program that performs tasks and then exits
* repmgrd: management and monitoring daemon that watches the cluster
  and can automate remote actions.

See https://github.com/2ndQuadrant/repmgr for instructions on how to
setup it.

ok ajacoutot@@
@
text
@@
