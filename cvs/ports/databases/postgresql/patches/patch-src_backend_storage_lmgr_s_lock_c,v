head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.8
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.4
	OPENBSD_5_6_BASE:1.1
	OPENBSD_5_5:1.1.0.2
	OPENBSD_5_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.01.08.15.01.11;	author pea;	state Exp;
branches;
next	1.1;
commitid	yFcByahJB4ZZYrD6;

1.1
date	2013.09.07.20.20.54;	author miod;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to 9.4.0

Tested in a bulk build by landry@@

help and ok jeremy@@, sthen@@
@
text
@$OpenBSD: patch-src_backend_storage_lmgr_s_lock_c,v 1.1 2013/09/07 20:20:54 miod Exp $
--- src/backend/storage/lmgr/s_lock.c.orig	Sun May 11 14:16:48 2014
+++ src/backend/storage/lmgr/s_lock.c	Thu May 15 21:52:50 2014
@@@@ -219,7 +219,7 @@@@ static void
 tas_dummy()
 {
 	__asm__		__volatile__(
-#if defined(__NetBSD__) && defined(__ELF__)
+#if (defined(__NetBSD__) || defined(__OpenBSD__)) && defined(__ELF__)
 /* no underscore for label and % for registers */
 										 "\
 .global		tas 				\n\
@


1.1
log
@Fix s_lock on m68k/ELF.
@
text
@d1 4
a4 4
$OpenBSD$
--- src/backend/storage/lmgr/s_lock.c.orig	Mon Apr  1 18:20:36 2013
+++ src/backend/storage/lmgr/s_lock.c	Sat Sep  7 20:09:51 2013
@@@@ -222,7 +222,7 @@@@ static void
@

