head	1.2;
access;
symbols;
locks; strict;
comment	@ * @;


1.2
date	2001.04.21.18.25.47;	author peter;	state dead;
branches;
next	1.1;

1.1
date	2001.02.22.19.28.13;	author danh;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Upgrade to postgresql 7.1. ok'd espie@@

* The package is now called `postgresql' and not `pgsql'.

* The default user that is suggested for the admin account is also
  `postgresql'. This will work with OpenBSD-current with long username
  support. If anything breaks please report to the maintainers.

* pgwrap is no longer shipped or supported

* Please note, you will HAVE TO BACKUP your old data if you are
  upgrading from a previous release of postgresql. Do this before
  removing the old pgsql package.

From the announcement last weekend:

Key New Features and Capabilities of Version 7.1 Include:

* Write-ahead Log (WAL) increases data integrity and processing
speed. To maintain database consistency in case of an operating
system crash, previous releases of PostgreSQL have forced all all
data modifications to disk before each transaction commit. With
WAL, only one log file must be flushed to disk, greatly improving
performance. (Tech note: can eliminate use of -F in to disable disk
flushes)

* TOAST (The Oversized-Attribute Storage Technique) Past releases
had compiled-in row length limit typically between 8Kb & 32Kb. This
restriction made storage of long text fields difficult, cumbersome
and slow. TOAST enables rows of any length while maintaing the high
performance PostgreSQL users have come to expect.

* SQL92 Outer Joins are now supported. (Tech note: eliminates the
UNION/NOT IN workaround)

* 64-bit C Language Function Manager support The previous C function
manager did not handle support 64-bit CPU's (e.g. Alpha, Sun,
Itanium). (Tech note: This change should not impact existing custom
functions developed for past versions, but performance will be
improved through rewriting to use the new call interface.)

* Complex Queries that are better, stronger and faster Many complex
queries were unsupported in previous releases. With v7.1 combinations
of views, aggregates, UNION, LIMIT, cursors, subqueries, and inherited
tables are enabled. Inherited tables are now accessed by default,
and subqueries in FROM are now supported.
@
text
@--- backend/port/dynloader/openbsd.h.orig	Fri Nov 24 17:26:10 2000
+++ backend/port/dynloader/openbsd.h	Fri Nov 24 17:26:01 2000
@@@@ -0,0 +1,49 @@@@
+/*-------------------------------------------------------------------------
+ *
+ * port_protos.h
+ *	  port-specific prototypes for NetBSD 1.0
+ *
+ *
+ * Portions Copyright (c) 1996-2000, PostgreSQL, Inc
+ * Portions Copyright (c) 1994, Regents of the University of California
+ *
+ * $Id: patch-backend_port_dynloader_openbsd.h,v 1.1 2001/02/22 19:28:13 danh Exp $
+ *
+ *-------------------------------------------------------------------------
+ */
+#ifndef PORT_PROTOS_H
+#define PORT_PROTOS_H
+
+#include <sys/types.h>
+#include <nlist.h>
+#include "link.h"
+
+#include "postgres.h"
+
+#include "fmgr.h"
+#include "utils/dynamic_loader.h"
+
+/* dynloader.c */
+/*
+ * Dynamic Loader on NetBSD 1.0.
+ *
+ * this dynamic loader uses the system dynamic loading interface for shared
+ * libraries (ie. dlopen/dlsym/dlclose). The user must specify a shared
+ * library as the file to be dynamically loaded.
+ *
+ * agc - I know this is all a bit crufty, but it does work, is fairly
+ * portable, and works (the stipulation that the d.l. function must
+ * begin with an underscore is fairly tricky, and some versions of
+ * NetBSD (like 1.0, and 1.0A pre June 1995) have no dlerror.)
+ */
+#define		   pg_dlopen(f)    BSD44_derived_dlopen(f, 1)
+#define		   pg_dlsym		   BSD44_derived_dlsym
+#define		   pg_dlclose	   BSD44_derived_dlclose
+#define		   pg_dlerror	   BSD44_derived_dlerror
+
+char	   *BSD44_derived_dlerror(void);
+void	   *BSD44_derived_dlopen(const char *filename, int num);
+void	   *BSD44_derived_dlsym(void *handle, const char *name);
+void		BSD44_derived_dlclose(void *handle);
+
+#endif	 /* PORT_PROTOS_H */
@


1.1
log
@upgrade to postgresql 7.0.3
@
text
@d13 1
a13 1
+ * $Id: openbsd.h,v 1.1 2000/10/10 21:08:04 petere Exp $
@

