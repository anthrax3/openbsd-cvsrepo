head	1.13;
access;
symbols
	OPENBSD_6_2:1.13.0.4
	OPENBSD_6_2_BASE:1.13
	OPENBSD_6_1:1.13.0.2
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.12.0.2
	OPENBSD_6_0_BASE:1.12
	OPENBSD_5_9:1.11.0.4
	OPENBSD_5_9_BASE:1.11
	OPENBSD_5_8:1.11.0.6
	OPENBSD_5_8_BASE:1.11
	OPENBSD_5_7:1.11.0.2
	OPENBSD_5_7_BASE:1.11
	OPENBSD_5_6:1.10.0.4
	OPENBSD_5_6_BASE:1.10
	OPENBSD_5_5:1.10.0.2
	OPENBSD_5_5_BASE:1.10
	OPENBSD_5_4:1.9.0.4
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.9.0.2
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.8.0.4
	OPENBSD_5_2_BASE:1.8
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.2
	OPENBSD_5_0:1.7.0.4
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.2
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.6.0.4
	OPENBSD_4_8_BASE:1.6
	OPENBSD_4_7:1.6.0.2
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.5.0.6
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.4
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.2.0.4
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.1.0.4
	OPENBSD_4_0_BASE:1.1
	OPENBSD_3_9:1.1.0.2
	OPENBSD_3_9_BASE:1.1;
locks; strict;
comment	@# @;


1.13
date	2016.12.18.18.18.27;	author jeremy;	state Exp;
branches;
next	1.12;
commitid	OHOlIBnsGwUOgKJV;

1.12
date	2016.05.13.14.27.48;	author pea;	state Exp;
branches;
next	1.11;
commitid	CPcwwBHUP5Zpueae;

1.11
date	2015.01.08.15.01.11;	author pea;	state Exp;
branches;
next	1.10;
commitid	yFcByahJB4ZZYrD6;

1.10
date	2013.10.15.02.18.18;	author jeremy;	state Exp;
branches;
next	1.9;

1.9
date	2012.09.24.19.57.02;	author pea;	state Exp;
branches;
next	1.8;

1.8
date	2011.09.23.09.46.14;	author pea;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.08.14.12.24;	author pea;	state Exp;
branches;
next	1.6;

1.6
date	2009.07.21.19.43.45;	author pea;	state Exp;
branches;
next	1.5;

1.5
date	2008.07.18.06.57.30;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2008.03.24.17.26.12;	author simon;	state Exp;
branches;
next	1.3;

1.3
date	2007.09.20.19.20.48;	author mbalmer;	state Exp;
branches;
next	1.2;

1.2
date	2007.01.17.16.47.25;	author mbalmer;	state Exp;
branches;
next	1.1;

1.1
date	2006.01.07.11.11.17;	author mbalmer;	state Exp;
branches;
next	;


desc
@@


1.13
log
@Update to PostgreSQL 9.6.1

This moves pg_upgrade to a subpackage, and has that
subpackage depend on postgresql-previous.

pthread is removed from WANTLIB, as it is no longer
needed for suppoting threaded extensions.

This adds support for PostgreSQL 9.6's new BSD
authentication.

OK pea@@ landry@@
@
text
@$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.12 2016/05/13 14:27:48 pea Exp $
--- src/interfaces/libpq/Makefile.orig	Mon Jul 18 22:54:26 2016
+++ src/interfaces/libpq/Makefile	Wed Aug  3 15:58:08 2016
@@@@ -16,8 +16,8 @@@@ include $(top_builddir)/src/Makefile.global
 
 # shared library parameters
 NAME= pq
-SO_MAJOR_VERSION= 5
-SO_MINOR_VERSION= 9
+SO_MAJOR_VERSION= ${LIBpq_MAJOR}
+SO_MINOR_VERSION= ${LIBpq_MINOR}
 
 override CPPFLAGS :=  -DFRONTEND -DUNSAFE_STAT_OK -I$(srcdir) $(CPPFLAGS) -I$(top_builddir)/src/port -I$(top_srcdir)/src/port
 ifneq ($(PORTNAME), win32)
@


1.12
log
@Update to 9.5.2
Tested in a bulk by ajacoutot@@
ok jeremy@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.11 2015/01/08 15:01:11 pea Exp $
--- src/interfaces/libpq/Makefile.orig	Mon May  6 13:57:06 2013
+++ src/interfaces/libpq/Makefile	Thu May 16 15:10:02 2013
d9 1
a9 1
-SO_MINOR_VERSION= 8
@


1.11
log
@Update to 9.4.0

Tested in a bulk build by landry@@

help and ok jeremy@@, sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.10 2013/10/15 02:18:18 jeremy Exp $
d9 1
a9 1
-SO_MINOR_VERSION= 7
@


1.10
log
@Major update to 9.3.0.  As usual, a dump/restore is required.

Add plpython subpackage. Move some contrib module .so files to the
contrib subpackage.

OK pea@@ (MAINTAINER), bulk testing by landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.9 2012/09/24 19:57:02 pea Exp $
d9 1
a9 1
-SO_MINOR_VERSION= 6
@


1.9
log
@Major update to PostgreSQL 9.2.1.
As usual a dump/restore is required.

ok jasper@@ jeremy@@ landry@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.8 2011/09/23 09:46:14 pea Exp $
--- src/interfaces/libpq/Makefile.orig	Fri May 11 00:35:09 2012
+++ src/interfaces/libpq/Makefile	Tue May 15 10:27:11 2012
d9 1
a9 1
-SO_MINOR_VERSION= 5
@


1.8
log
@Major upgrade to PostgreSQL 9.1.0
A dump/restore is required.

Tested in a bulk by jasper@@, thanks !

ok jasper@@, jeremy@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.7 2010/11/08 14:12:24 pea Exp $
--- src/interfaces/libpq/Makefile.orig	Mon Mar 28 15:42:09 2011
+++ src/interfaces/libpq/Makefile	Wed Apr  6 09:15:34 2011
d9 1
a9 1
-SO_MINOR_VERSION= 4
@


1.7
log
@* MAJOR UPGRADE *

+ upgrade to 9.0.1
+ move readme to new location
+ add a rc script

A dump / restore is needed for this upgrade.
See http://openbsd.raveland.org/ports/postgresql/UPGRADE_HOWTO.txt
if you need help for this.

ok jasper@@, eric@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.6 2009/07/21 19:43:45 pea Exp $
--- src/interfaces/libpq/Makefile.orig	Fri Aug 28 22:26:19 2009
+++ src/interfaces/libpq/Makefile	Mon Dec 28 11:11:34 2009
d9 1
a9 1
-SO_MINOR_VERSION= 3
@


1.6
log
@Upgrade PostgreSQL to the latest version 8.4.0.
Initial diff (for rc and beta) from simon@@

ok mbalmer@@, simon@@
commitski jasper@@

BE CAREFULL: it's a major upgrade !
You MUST dump/restore all your data for this upgrade.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.5 2008/07/18 06:57:30 brad Exp $
--- src/interfaces/libpq/Makefile.orig	Mon Jan  5 10:27:19 2009
+++ src/interfaces/libpq/Makefile	Sun May 31 12:00:52 2009
d9 1
a9 1
-SO_MINOR_VERSION= 2
@


1.5
log
@Upgrade to PostgreSQL 8.3.3; bug fix release.

ok mbalmer@@
@
text
@d1 3
a3 3
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.4 2008/03/24 17:26:12 simon Exp $
--- src/interfaces/libpq/Makefile.orig	Wed Apr 16 10:21:22 2008
+++ src/interfaces/libpq/Makefile	Sun Jul  6 22:32:09 2008
d9 1
a9 1
-SO_MINOR_VERSION= 1
a11 1
 DLTYPE= library
d13 2
a14 1
 override CPPFLAGS :=  -DFRONTEND -DUNSAFE_STAT_OK -I$(srcdir) $(CPPFLAGS) -I$(top_builddir)/src/port
@


1.4
log
@Major update to version 8.3.1 - be sure to dump your databases before
you apply this and restore afterwards!

Additionally, implicit typecasts are history and not supported anymore.
Versions prior to 8.3 had the feature (some say bug) that functions,
expecting an argument to be of a certain type, have casted a variable of
any other type to the expected type, if possible.
This has changed now.  Tests surfaced rare occurrences of regressions,
which were then fixed in about ten minutes - and that code was not even
in the ports tree;  no issues found there.

A few more things have changed, namely tsearch2 went from contrib to the
core and native uuid type support was added;  for details read the
release announcement at
http://www.postgresql.org/docs/8.3/static/release-8-3.html.

tests & ok mbalmer@@ (maintainer)
@
text
@d1 3
a3 3
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.3 2007/09/20 19:20:48 mbalmer Exp $
--- src/interfaces/libpq/Makefile.orig	Tue Jul 24 11:00:27 2007
+++ src/interfaces/libpq/Makefile	Tue Nov 27 15:38:54 2007
d14 1
a14 1
 override CPPFLAGS :=  -DFRONTEND -I$(srcdir) $(CPPFLAGS) -I$(top_builddir)/src/port
@


1.3
log
@Update PostgreSQL to version 8.2.5.

Release date: 2007-09-17
This release contains a variety of fixes from 8.2.4.

A dump/restore is not required for those running 8.2.X.

See http://www.postgresql.org/docs/8.2/static/release-8-2-5.html for a list
of all changes.
@
text
@d1 3
a3 3
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.2 2007/01/17 16:47:25 mbalmer Exp $
--- src/interfaces/libpq/Makefile.orig	Thu Dec 28 01:01:12 2006
+++ src/interfaces/libpq/Makefile	Mon Sep 17 09:12:54 2007
d9 1
a9 1
-SO_MINOR_VERSION= 0
@


1.2
log
@Update to PostgreSQL 8.2.1
Please note that a database dump/restore is required to upgrade to this
version.  See the full details at the following URL:
http://www.postgresql.org/docs/current/static/release-8-2.html

requested, tested and ok by robert, simon
@
text
@d1 1
a1 1
$OpenBSD: patch-src_interfaces_libpq_Makefile,v 1.1 2006/01/07 11:11:17 mbalmer Exp $
d3 2
a4 2
+++ src/interfaces/libpq/Makefile	Mon Jan 15 18:13:04 2007
@@@@ -16,8 +16,8 @@@@ include $(top_builddir)/src/Makefile.glo
@


1.1
log
@SHARED_LIBS

ok bernd
@
text
@d1 3
a3 3
$OpenBSD$
--- src/interfaces/libpq/Makefile.orig	Wed Dec 28 12:04:40 2005
+++ src/interfaces/libpq/Makefile	Wed Dec 28 12:06:16 2005
d8 2
a9 2
-SO_MAJOR_VERSION= 4
-SO_MINOR_VERSION= 1
@

