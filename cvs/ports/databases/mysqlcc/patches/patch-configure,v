head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.12
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.3.0.10
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.8
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.4
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.6
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.2.0.24
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.22
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.20
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.18
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.16
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.14
	OPENBSD_5_0:1.2.0.12
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.10
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.1.0.18
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.16
	OPENBSD_4_3_BASE:1.1.1.1
	OPENBSD_4_2:1.1.1.1.0.14
	OPENBSD_4_2_BASE:1.1.1.1
	OPENBSD_4_1:1.1.1.1.0.12
	OPENBSD_4_1_BASE:1.1.1.1
	OPENBSD_4_0:1.1.1.1.0.10
	OPENBSD_4_0_BASE:1.1.1.1
	OPENBSD_3_9:1.1.1.1.0.8
	OPENBSD_3_9_BASE:1.1.1.1
	OPENBSD_3_8:1.1.1.1.0.6
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.4
	OPENBSD_3_7_BASE:1.1.1.1
	OPENBSD_3_6:1.1.1.1.0.2
	OPENBSD_3_6_BASE:1.1.1.1
	wilfried_20040719:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2014.09.21.17.32.41;	author brad;	state Exp;
branches;
next	1.2;
commitid	pRV9GdTM9vEYbqHN;

1.2
date	2008.09.08.07.48.43;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2004.07.19.13.56.20;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.07.19.13.56.20;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to mysqlcc 1.0.2. Fixes building with modern MySQL / MariaDB.

ok sthen@@
@
text
@$OpenBSD: patch-configure,v 1.2 2008/09/08 07:48:43 wilfried Exp $
--- configure.orig	Sun Oct  8 16:40:01 2006
+++ configure	Mon Sep 15 11:47:13 2014
@@@@ -2457,9 +2457,9 @@@@ echo "${ECHO_T}" >&6
         for dir in $mysql_lib; do
             if test "x$mysql_found" != "xyes"
             then
-                as_ac_File=`echo "ac_cv_file_"$dir/libmysqlclient.so"" | $as_tr_sh`
-echo "$as_me:$LINENO: checking for \"$dir/libmysqlclient.so\"" >&5
-echo $ECHO_N "checking for \"$dir/libmysqlclient.so\"... $ECHO_C" >&6
+                as_ac_File=`echo "ac_cv_file_"$dir/libmysqlclient.a"" | $as_tr_sh`
+echo "$as_me:$LINENO: checking for \"$dir/libmysqlclient.a\"" >&5
+echo $ECHO_N "checking for \"$dir/libmysqlclient.a\"... $ECHO_C" >&6
 if eval "test \"\${$as_ac_File+set}\" = set"; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
 else
@@@@ -2467,7 +2467,7 @@@@ else
   { { echo "$as_me:$LINENO: error: cannot check for file existence when cross compiling" >&5
 echo "$as_me: error: cannot check for file existence when cross compiling" >&2;}
    { (exit 1); exit 1; }; }
-if test -r ""$dir/libmysqlclient.so""; then
+if test -r ""$dir/libmysqlclient.a""; then
   eval "$as_ac_File=yes"
 else
   eval "$as_ac_File=no"
@@@@ -2484,7 +2484,7 @@@@ fi
                 if test "x$mysql_found" = "xyes"
                 then
                     LIBS="-L$dir $SAVE_LIBS $LIBZ_LIB"
-                    MYSQL_LIB="$dir/libmysqlclient.so $LIBZ_LIB"
+                    MYSQL_LIB="-lmysqlclient $LIBZ_LIB"
 
                     echo "$as_me:$LINENO: checking for mysql_real_connect in -lmysqlclient" >&5
 echo $ECHO_N "checking for mysql_real_connect in -lmysqlclient... $ECHO_C" >&6
@@@@ -3184,7 +3184,7 @@@@ fi
 
 echo "$as_me:$LINENO: checking \"if Qt Version in $QTDIR is >= 3.0.5\"" >&5
 echo $ECHO_N "checking \"if Qt Version in $QTDIR is >= 3.0.5\"... $ECHO_C" >&6
-CPPFLAGS="$CPPFLAGS -I$QTDIR/include"
+CPPFLAGS="$CPPFLAGS -I$LOCALBASE/include/X11/qt3"
 cat >conftest.$ac_ext <<_ACEOF
 #line $LINENO "configure"
 #include "confdefs.h"
@@@@ -4078,7 +4078,7 @@@@ else
 fi
 
 echo "Creating Makefile with qmake"
-QMAKESPEC=$QMAKESPEC QTDIR=$QTDIR $QTDIR/bin/qmake mysqlcc.pro
+QMAKESPEC=$FILESDIR QTDIR=$QTDIR $QTDIR/bin/qmake-mt mysqlcc.pro
 if test ! $? = 0 ; then
  echo "qmake failed, aborting"
  exit 1
@


1.2
log
@update to 0.9.8
@
text
@d1 3
a3 3
$OpenBSD: patch-configure,v 1.1.1.1 2004/07/19 13:56:20 wilfried Exp $
--- configure.orig	Sun Oct  8 22:40:01 2006
+++ configure	Thu Aug 21 13:39:50 2008
d35 1
a35 71
@@@@ -3090,51 +3090,7 @@@@ fi
 
                 if test "x$mysql_found" = "xyes"
                 then
-                   echo "$as_me:$LINENO: checking \"if MySQL Version $dir is >= 4.0.0\"" >&5
-echo $ECHO_N "checking \"if MySQL Version $dir is >= 4.0.0\"... $ECHO_C" >&6
-                   CPPFLAGS="$CPPFLAGS -I$dir"
-                   cat >conftest.$ac_ext <<_ACEOF
-#line $LINENO "configure"
-#include "confdefs.h"
-
-                   #include <mysql_version.h>
-                   #if MYSQL_VERSION_ID < 40000
-                     #error
-                   #endif
-
-_ACEOF
-if { (eval echo "$as_me:$LINENO: \"$ac_cpp conftest.$ac_ext\"") >&5
-  (eval $ac_cpp conftest.$ac_ext) 2>conftest.er1
-  ac_status=$?
-  egrep -v '^ *\+' conftest.er1 >conftest.err
-  rm -f conftest.er1
-  cat conftest.err >&5
-  echo "$as_me:$LINENO: \$? = $ac_status" >&5
-  (exit $ac_status); } >/dev/null; then
-  if test -s conftest.err; then
-    ac_cpp_err=$ac_c_preproc_warn_flag
-  else
-    ac_cpp_err=
-  fi
-else
-  ac_cpp_err=yes
-fi
-if test -z "$ac_cpp_err"; then
-  mysql_version_ok=yes
-else
-  echo "$as_me: failed program was:" >&5
-  cat conftest.$ac_ext >&5
-  mysql_version_ok=no
-fi
-rm -f conftest.err conftest.$ac_ext
-
-                   if test "x$mysql_version_ok" != "xno"
-                   then
-                      MYSQL_INCLUDE="$dir"
-
-                   fi
-                   echo "$as_me:$LINENO: result: $mysql_version_ok" >&5
-echo "${ECHO_T}$mysql_version_ok" >&6
+                   MYSQL_INCLUDE="$dir"
                 fi
             fi
         done
@@@@ -3146,16 +3102,8 @@@@ echo "$as_me: error: Could not find mysql.h in '$mysql
    { (exit 1); exit 1; }; }
         fi
 
-        if test "x$mysql_version_ok" != "xyes"
-        then
-           echo "Please upgrade your MySQL installation to version 4.0.0 or higher"
-           echo "If you do have the correct version of MySQL installed somewhere"
-           echo "other than $dir, please specify it as --with-mysql-include= argument"
-           exit 1
-        fi
 
 
-
 # Check whether --with-qt or --without-qt was given.
 if test "${with_qt+set}" = set; then
   withval="$with_qt"
@@@@ -3184,7 +3132,7 @@@@ fi
d44 1
a44 1
@@@@ -4078,7 +4026,7 @@@@ else
@


1.1
log
@Initial revision
@
text
@d1 26
a26 4
$OpenBSD: patch-configure,v 1.5 2003/04/01 14:26:09 wilfried Exp $
--- configure.orig	Fri Mar 28 23:06:00 2003
+++ configure	Tue Apr  1 15:30:59 2003
@@@@ -2480,7 +2480,7 @@@@ fi
d30 1
a30 1
-                    MYSQL_LIB="$dir/libmysqlclient.a $LIBZ_LIB"
d35 1
a35 1
@@@@ -3086,51 +3086,7 @@@@ fi
d88 1
a88 1
@@@@ -3142,14 +3098,6 @@@@ echo "$as_me: error: Could not find mysq
a98 1
-
d101 1
d103 3
a105 1
@@@@ -3179,7 +3127,7 @@@@ fi
d114 2
a115 1
@@@@ -4067,7 +4015,7 @@@@ fi
a116 1
 QMAKESPEC=$QTDIR/mkspecs/$host_os
@


1.1.1.1
log
@reimport mysqlcc
@
text
@@
