head	1.3;
access;
symbols
	OPENBSD_4_4:1.2.0.12
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.10
	OPENBSD_4_3_BASE:1.2
	OPENBSD_4_2:1.2.0.8
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.6
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2008.09.08.07.48.43;	author wilfried;	state dead;
branches;
next	1.2;

1.2
date	2005.09.07.13.58.35;	author wilfried;	state Exp;
branches;
next	1.1;

1.1
date	2005.09.07.00.41.04;	author brad;	state Exp;
branches;
next	;


desc
@@


1.3
log
@update to 0.9.8
@
text
@$OpenBSD: patch-shared_src_CMySQL_cpp,v 1.2 2005/09/07 13:58:35 wilfried Exp $
--- shared/src/CMySQL.cpp.orig	Tue Sep  6 19:18:47 2005
+++ shared/src/CMySQL.cpp	Tue Sep  6 19:20:24 2005
@@@@ -451,7 +451,11 @@@@ bool CMySQL::mysqlShutdown()
   if (!isConnected())
     return false;
   
+#if  ( MYSQL_VERSION_ID >= 40103 && MYSQL_VERSION_ID != 50000 )
+  if (mysql_shutdown(mysql,SHUTDOWN_DEFAULT) != 0)
+#else
   if (mysql_shutdown(mysql) != 0)
+#endif
   {
     if (emiterror)
       emitError();
@


1.2
log
@use correct values of MYSQL_VERSION_IDs, brad@@ agrees
@
text
@d1 1
a1 1
$OpenBSD: patch-shared_src_CMySQL_cpp,v 1.1 2005/09/07 00:41:04 brad Exp $
@


1.1
log
@fix broken mysqlcc

patch from the FreeBSD port
@
text
@d1 1
a1 1
$OpenBSD$
d8 1
a8 1
+#if  ( MYSQL_VERSION_ID > 40100 ) || ( MYSQL_VERSION_ID == 50001 ) || ( MYSQL_VERSION_ID == 40107 )
@

