head	1.23;
access;
symbols
	OPENBSD_6_1:1.21.0.10
	OPENBSD_6_1_BASE:1.21
	OPENBSD_6_0:1.21.0.8
	OPENBSD_6_0_BASE:1.21
	OPENBSD_5_9:1.21.0.4
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.21.0.6
	OPENBSD_5_8_BASE:1.21
	OPENBSD_5_7:1.21.0.2
	OPENBSD_5_7_BASE:1.21
	OPENBSD_5_6:1.19.0.6
	OPENBSD_5_6_BASE:1.19
	OPENBSD_5_5:1.19.0.4
	OPENBSD_5_5_BASE:1.19
	OPENBSD_5_4:1.19.0.2
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.16.0.2
	OPENBSD_5_3_BASE:1.16
	OPENBSD_5_2:1.15.0.4
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.2
	OPENBSD_5_0:1.13.0.4
	OPENBSD_5_0_BASE:1.13
	OPENBSD_4_9:1.13.0.2
	OPENBSD_4_9_BASE:1.13
	OPENBSD_4_8:1.10.0.2
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.9.0.2
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.8.0.4
	OPENBSD_4_6_BASE:1.8
	OPENBSD_4_5:1.8.0.2
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.7.0.4
	OPENBSD_4_4_BASE:1.7
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.6.0.6
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.6.0.4
	OPENBSD_4_1_BASE:1.6
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.3.0.4
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.2.0.2
	OPENBSD_3_6_BASE:1.2
	wilfried_20040719:1.1.1.1
	wilfried:1.1.1;
locks; strict;
comment	@# @;


1.23
date	2017.07.16.19.18.50;	author espie;	state Exp;
branches;
next	1.22;
commitid	tt0GhWK5c4uf9ILG;

1.22
date	2017.04.10.11.45.24;	author sthen;	state Exp;
branches;
next	1.21;
commitid	XDh1zlSBq0boKsHk;

1.21
date	2014.09.21.17.32.41;	author brad;	state Exp;
branches;
next	1.20;
commitid	pRV9GdTM9vEYbqHN;

1.20
date	2014.09.13.18.09.20;	author brad;	state Exp;
branches;
next	1.19;
commitid	PpbRjVZdAmlrmi8q;

1.19
date	2013.06.12.20.36.33;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2013.05.25.00.33.09;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2013.03.11.02.52.05;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2012.12.13.16.34.47;	author naddy;	state Exp;
branches;
next	1.15;

1.15
date	2011.11.04.08.16.24;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2011.09.16.08.48.03;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.15.00.22.51;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.10.24.21.07.50;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2010.09.01.09.17.43;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2010.07.06.22.25.53;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2009.08.10.06.31.07;	author kili;	state Exp;
branches;
next	1.8;

1.8
date	2008.09.08.07.48.43;	author wilfried;	state Exp;
branches;
next	1.7;

1.7
date	2007.09.15.20.34.00;	author simon;	state Exp;
branches;
next	1.6;

1.6
date	2006.08.01.22.19.46;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2006.07.24.09.18.13;	author bernd;	state Exp;
branches;
next	1.4;

1.4
date	2005.09.07.00.41.04;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2004.11.22.16.59.29;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2004.08.10.10.26.50;	author xsa;	state Exp;
branches;
next	1.1;

1.1
date	2004.07.19.13.56.20;	author wilfried;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.07.19.13.56.20;	author wilfried;	state Exp;
branches;
next	;


desc
@@


1.23
log
@use COMPILER_LIBCXX where applicable
@
text
@# $OpenBSD: Makefile,v 1.22 2017/04/10 11:45:24 sthen Exp $

COMMENT=		GUI client for MySQL

VERSION=		1.0.2
DISTNAME=		mysqlcc-${VERSION}-src
PKGNAME=		mysqlcc-${VERSION}
CATEGORIES=		databases

HOMEPAGE=		http://mysqlcc.sourceforge.net/

# GPL
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 Xext c m pthread ${COMPILER_LIBCXX} z
WANTLIB += lib/mysql/mysqlclient

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=mysqlcc/}

MODULES=		x11/qt3
LIB_DEPENDS=		databases/mariadb

MAKE_ENV=		LOCALBASE=${LOCALBASE} HACK_CFLAGS="${CFLAGS}"
MAKE_FLAGS=   		CC=${CC} CXX=${CXX} LINK=${CXX}

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS+=	${MODQT_CONFIGURE_ARGS} \
			--with-mysql-lib=${LOCALBASE}/lib/mysql \
			--with-mysql-include=${LOCALBASE}/include/mysql
CONFIGURE_ENV=		QTDIR=${LOCALBASE} \
			FILESDIR=${FILESDIR} \
			LOCALBASE=${LOCALBASE}

NO_TEST=		Yes

do-install:
	${INSTALL_PROGRAM} ${WRKBUILD}/mysqlcc ${PREFIX}/bin
	${INSTALL_DATA_DIR} ${PREFIX}/share/mysqlcc/translations
	${INSTALL_DATA} ${WRKSRC}/warning.wav ${WRKSRC}/error.wav ${WRKSRC}/syntax.txt ${PREFIX}/share/mysqlcc
	${INSTALL_DATA} ${WRKSRC}/translations/* ${PREFIX}/share/mysqlcc/translations

.include <bsd.port.mk>
@


1.22
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/09/21 17:32:41 brad Exp $
d15 1
a15 1
WANTLIB += X11 Xext c m pthread ${LIBCXX} z
@


1.21
log
@Update to mysqlcc 1.0.2. Fixes building with modern MySQL / MariaDB.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2014/09/13 18:09:20 brad Exp $
d15 1
a15 1
WANTLIB += X11 Xext c m pthread stdc++ z
@


1.20
log
@Switch from using MySQL to using MariaDB attempt #2. MariaDB is a drop-in replacement.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/06/12 20:36:33 brad Exp $
d5 1
a5 1
VERSION=		0.9.8
a7 1
REVISION=		6
@


1.19
log
@Revert back to using MySQL 5.1 for the time being. MariaDB 5.5 introduces
a new libmysqlclient non-blocking API which utilizes co-routines. The X86
specific GCC ASM co-routine support hid the fact that there was an issue.
The only fallback code so far is POSIX user contexts which OpenBSD does not
support.

Input from and Ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/05/25 00:33:09 brad Exp $
d8 1
a8 1
REVISION=		5
d17 1
a17 1
WANTLIB += lib/mysql/mysqlclient>=10
d22 1
a22 1
LIB_DEPENDS=		databases/mysql
@


1.18
log
@Switch from using MySQL to using MariaDB. MariaDB is a drop-in replacement.


ok sthen aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/03/11 02:52:05 espie Exp $
d8 1
a8 1
REVISION=		4
d22 1
a22 1
LIB_DEPENDS=		databases/mariadb
@


1.17
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/12/13 16:34:47 naddy Exp $
d8 1
a8 1
REVISION=		3
d22 1
a22 1
LIB_DEPENDS=		databases/mysql
@


1.16
log
@remove Peter Stromberg as maintainer:
"I haven't used any of those ports myself for a long time, so I think it's
best you remove me as maintainer."
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/11/04 08:16:24 jasper Exp $
a14 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d35 1
a35 1
NO_REGRESS=		Yes
@


1.15
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/09/16 08:48:03 espie Exp $
d8 1
a8 1
REVISION=		2
a11 2

MAINTAINER=		Peter Stromberg <wilfried@@openbsd.org>
@


1.14
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/11/15 00:22:51 espie Exp $
d8 1
a8 1
REVISION=		1
d21 1
a21 1
WANTLIB += X11 Xext c m pthread pthread-stubs stdc++ xcb z
@


1.13
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/10/24 21:07:50 ajacoutot Exp $
d8 1
a8 1
REVISION=		0
@


1.12
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/09/01 09:17:43 sthen Exp $
d22 1
a22 1
WANTLIB += lib/mysql/mysqlclient.>=10
d27 1
a27 1
LIB_DEPENDS=		::databases/mysql
@


1.11
log
@use REVISION and new-style LIB_DEPENDS+WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/07/06 22:25:53 espie Exp $
a31 1
USE_X11=		Yes
@


1.10
log
@zap reeeally old variable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/08/10 06:31:07 kili Exp $
d7 2
a8 1
PKGNAME=		mysqlcc-${VERSION}p0
d20 3
a22 1
WANTLIB=		X11 Xext c m pthread pthread-stubs stdc++ xcb z
d27 1
a27 1
LIB_DEPENDS=		lib/mysql/mysqlclient.>=10::databases/mysql
@


1.9
log
@WANTLIB changes after xcb addition and bump.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/09/08 07:48:43 wilfried Exp $
a22 1
MODQT_MT=		Yes
@


1.8
log
@update to 0.9.8
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/09/15 20:34:00 simon Exp $
d7 1
a7 1
PKGNAME=		mysqlcc-${VERSION}
d19 1
a19 1
WANTLIB=		X11 Xext c m pthread stdc++ z
@


1.7
log
@remove surrounding quotes from COMMENT/BROKEN/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2006/08/01 22:19:46 espie Exp $
d5 1
a5 1
VERSION=		0.9.4
d7 1
a7 1
PKGNAME=		mysqlcc-${VERSION}p2
d10 1
a10 1
HOMEPAGE=		http://mysql.com/products/mysqlcc/index.html
d21 1
a21 4
MASTER_SITES=		ftp://ftp.sunet.se/pub/unix/databases/relational/mysql/Downloads/MySQLCC/ \
			ftp://sunsite.dk/mirrors/mysql/Downloads/MySQLCC/ \
			ftp://gd.tuwien.ac.at/db/mysql/Downloads/MySQLCC/ \
			ftp://mysql.secsup.org/pub/software/mysql/Downloads/MySQLCC
@


1.6
log
@more new libspecs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2006/07/24 09:18:13 bernd Exp $
d3 1
a3 1
COMMENT=		"GUI client for MySQL"
@


1.5
log
@Let mysqlcc work correctly with mysql 5.x.

ok brad@@, wilfried@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2005/09/07 00:41:04 brad Exp $
d28 1
a28 1
LIB_DEPENDS=		lib/mysql/mysqlclient.10::databases/mysql
@


1.4
log
@fix broken mysqlcc

patch from the FreeBSD port
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/11/22 16:59:29 espie Exp $
d7 1
a7 1
PKGNAME=		mysqlcc-${VERSION}p1
@


1.3
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/08/10 10:26:50 xsa Exp $
d7 1
a7 1
PKGNAME=		mysqlcc-${VERSION}
@


1.2
log
@
more new-style MODULES.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/07/19 13:56:20 wilfried Exp $
d19 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2004/01/30 18:05:35 sturm Exp $
d26 1
a26 1
MODULES=		qt3
@


1.1.1.1
log
@reimport mysqlcc
@
text
@@
