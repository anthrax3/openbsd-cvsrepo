head	1.35;
access;
symbols
	OPENBSD_6_1:1.35.0.2
	OPENBSD_6_1_BASE:1.35
	OPENBSD_6_0:1.34.0.2
	OPENBSD_6_0_BASE:1.34
	OPENBSD_5_9:1.32.0.2
	OPENBSD_5_9_BASE:1.32
	OPENBSD_5_8:1.31.0.4
	OPENBSD_5_8_BASE:1.31
	OPENBSD_5_7:1.29.0.2
	OPENBSD_5_7_BASE:1.29
	OPENBSD_5_6:1.28.0.2
	OPENBSD_5_6_BASE:1.28
	OPENBSD_5_5:1.26.0.2
	OPENBSD_5_5_BASE:1.26
	OPENBSD_5_4:1.22.0.2
	OPENBSD_5_4_BASE:1.22
	OPENBSD_5_3:1.19.0.2
	OPENBSD_5_3_BASE:1.19
	OPENBSD_5_2:1.15.0.2
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.13
	OPENBSD_5_1:1.13.0.2
	OPENBSD_5_0:1.10.0.2
	OPENBSD_5_0_BASE:1.10
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	jeremy_2010-oct-05:1.1.1.1
	jeremy:1.1.1;
locks; strict;
comment	@# @;


1.35
date	2016.11.04.21.26.37;	author jeremy;	state Exp;
branches;
next	1.34;
commitid	HROmyU3ponxbNpWO;

1.34
date	2016.04.29.22.13.13;	author jeremy;	state Exp;
branches;
next	1.33;
commitid	v1MxT9pB5uCt0CNk;

1.33
date	2016.04.14.16.57.24;	author jeremy;	state Exp;
branches;
next	1.32;
commitid	ovcbtTRarWXejxuu;

1.32
date	2016.01.19.17.31.15;	author jeremy;	state Exp;
branches;
next	1.31;
commitid	QzaqdAc7MGd1rauW;

1.31
date	2015.07.15.22.01.22;	author jeremy;	state Exp;
branches;
next	1.30;
commitid	owWifjOMG2lBLwPM;

1.30
date	2015.03.23.20.38.36;	author jeremy;	state Exp;
branches;
next	1.29;
commitid	Uptx4v8s3YgzPCNE;

1.29
date	2014.11.26.17.45.06;	author jeremy;	state Exp;
branches;
next	1.28;
commitid	bxOZbJAdCaimka4p;

1.28
date	2014.07.12.15.42.25;	author jeremy;	state Exp;
branches;
next	1.27;
commitid	7kRb7vHQpUuGBieh;

1.27
date	2014.07.09.17.14.11;	author jeremy;	state Exp;
branches;
next	1.26;
commitid	sBrmONvXIw9EFsmf;

1.26
date	2014.01.15.02.13.57;	author jeremy;	state Exp;
branches;
next	1.25;

1.25
date	2014.01.11.22.51.02;	author jeremy;	state Exp;
branches;
next	1.24;

1.24
date	2013.10.26.23.55.35;	author jeremy;	state Exp;
branches;
next	1.23;

1.23
date	2013.10.15.02.27.46;	author jeremy;	state Exp;
branches;
next	1.22;

1.22
date	2013.07.15.01.46.50;	author jeremy;	state Exp;
branches;
next	1.21;

1.21
date	2013.05.07.23.41.23;	author jeremy;	state Exp;
branches;
next	1.20;

1.20
date	2013.03.11.02.52.08;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2013.01.14.21.43.23;	author jeremy;	state Exp;
branches;
next	1.18;

1.18
date	2013.01.09.17.41.40;	author jeremy;	state Exp;
branches;
next	1.17;

1.17
date	2012.11.07.19.05.14;	author jeremy;	state Exp;
branches;
next	1.16;

1.16
date	2012.09.23.16.57.33;	author jeremy;	state Exp;
branches;
next	1.15;

1.15
date	2012.07.12.21.00.57;	author jeremy;	state Exp;
branches;
next	1.14;

1.14
date	2012.04.06.19.23.37;	author jeremy;	state Exp;
branches;
next	1.13;

1.13
date	2011.11.12.17.15.32;	author jeremy;	state Exp;
branches;
next	1.12;

1.12
date	2011.09.16.08.48.05;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2011.09.07.16.53.03;	author jeremy;	state Exp;
branches;
next	1.10;

1.10
date	2011.06.03.17.26.30;	author jeremy;	state Exp;
branches;
next	1.9;

1.9
date	2011.03.18.23.06.10;	author jeremy;	state Exp;
branches;
next	1.8;

1.8
date	2011.01.06.04.24.22;	author jeremy;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.24.21.35.13;	author jeremy;	state Exp;
branches;
next	1.6;

1.6
date	2010.11.15.00.22.54;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.08.23.28.53;	author jeremy;	state Exp;
branches;
next	1.4;

1.4
date	2010.10.26.21.42.14;	author jeremy;	state Exp;
branches;
next	1.3;

1.3
date	2010.10.07.15.06.08;	author jeremy;	state Exp;
branches;
next	1.2;

1.2
date	2010.10.05.22.21.35;	author jeremy;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.05.19.09.06;	author jeremy;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.10.05.19.09.06;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.35
log
@Bump ruby gem ext ports after change to PLISTs

This does not include all ruby gem ext ports, but the remaining ones have
updates that will be committed separately.
@
text
@# $OpenBSD: Makefile,v 1.34 2016/04/29 22:13:13 jeremy Exp $

COMMENT =	faster SELECTs when using ruby-sequel with ruby-pg

DISTNAME =	sequel_pg-1.6.17
REVISION =	0
CATEGORIES =	databases

MAINTAINER =	Jeremy Evans <jeremy@@openbsd.org>

HOMEPAGE =	https://github.com/jeremyevans/sequel_pg

# MIT License
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB =	pq>=2

MODULES =	lang/ruby

LIB_DEPENDS =	databases/postgresql
RUN_DEPENDS =	databases/ruby-sequel,${MODRUBY_FLAVOR}>=4.0.0 \
		databases/ruby-pg,${MODRUBY_FLAVOR}>=0.8.0
BUILD_DEPENDS =	${RUN_DEPENDS}

CONFIGURE_STYLE = ruby gem ext

.include <bsd.port.mk>
@


1.34
log
@Update to sequel_pg 1.6.17
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2016/04/14 16:57:24 jeremy Exp $
d6 1
@


1.33
log
@Update to sequel_pg 1.6.16
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2016/01/19 17:31:15 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.16
d20 1
a20 1
RUN_DEPENDS =	databases/ruby-sequel,${MODRUBY_FLAVOR}>=3.39.0 \
@


1.32
log
@Update to sequel_pg 1.6.14
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/07/15 22:01:22 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.14
@


1.31
log
@Update to sequel_pg 1.6.13
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2015/03/23 20:38:36 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.13
@


1.30
log
@Update to sequel_pg 1.6.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/11/26 17:45:06 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.12
@


1.29
log
@Update to sequel_pg gem version 1.6.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/07/12 15:42:25 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.11
@


1.28
log
@Update to sequel_pg 1.6.10, add HOMEPAGE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/07/09 17:14:11 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.10
@


1.27
log
@Update to sequel_pg 1.6.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2014/01/15 02:13:57 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.9
d9 2
@


1.26
log
@Bump ruby gem ext ports after change to WANTLIB in ruby.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2014/01/11 22:51:02 jeremy Exp $
d5 1
a5 2
DISTNAME =	sequel_pg-1.6.8
REVISION =	2
@


1.25
log
@Remove extension source directory from package so that ruby21 FLAVOR
packages.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2013/10/26 23:55:35 jeremy Exp $
d6 1
a6 1
REVISION =	1
@


1.24
log
@Bump all ruby gem ports supporting rbx FLAVOR due to change to rubinius
gem directory when upgrading rubinius from 1.2.4 to 2.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2013/10/15 02:27:46 jeremy Exp $
d6 1
a6 1
REVISION =	0
@


1.23
log
@Update to sequel_pg-1.6.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2013/07/15 01:46:50 jeremy Exp $
d6 1
@


1.22
log
@Update to sequel_pg 1.6.7.  Add correct version constraint to ruby-pg
dependency.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2013/05/07 23:41:23 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.7
@


1.21
log
@Update to sequel_pg 1.6.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/03/11 02:52:08 espie Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.5
d19 1
a19 1
		databases/ruby-pg,${MODRUBY_FLAVOR}
@


1.20
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/01/14 21:43:23 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.4
@


1.19
log
@Update to sequel_pg 1.6.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/01/09 17:41:40 jeremy Exp $
a11 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.18
log
@Update to sequel_pg 1.6.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2012/11/07 19:05:14 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.3
@


1.17
log
@Update to sequel_pg 1.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2012/09/23 16:57:33 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.6.1
@


1.16
log
@Bump revisions for ruby gem/extconf ports after the switch to ruby 1.9
by default, since the ruby 1.8 version now has a ruby18 explicit FLAVOR.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2012/07/12 21:00:57 jeremy Exp $
d5 1
a5 2
DISTNAME =	sequel_pg-1.5.0
REVISION =	0
d21 1
a21 1
RUN_DEPENDS =	databases/ruby-sequel,${MODRUBY_FLAVOR}>=3.37.0 \
@


1.15
log
@Update to sequel_pg 1.5.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2012/04/06 19:23:37 jeremy Exp $
d6 1
@


1.14
log
@Update to ruby-sequel_pg 1.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/11/12 17:15:32 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.3.0
d21 1
a21 1
RUN_DEPENDS =	databases/ruby-sequel,${MODRUBY_FLAVOR}>=3.34.0 \
@


1.13
log
@Update to sequel_pg 1.2.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/09/16 08:48:05 espie Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.2.0
d21 1
a21 1
RUN_DEPENDS =	databases/ruby-sequel,${MODRUBY_FLAVOR}>=3.29.0 \
@


1.12
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2011/09/07 16:53:03 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.1.1
a6 1
REVISION =	0
d21 1
a21 1
RUN_DEPENDS =	databases/ruby-sequel,${MODRUBY_FLAVOR}>=3.24.0 \
@


1.11
log
@Update to version 1.1.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2011/06/03 17:26:30 jeremy Exp $
d7 1
@


1.10
log
@Update to 1.1.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/03/18 23:06:10 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.1.0
@


1.9
log
@Bump version to 1.0.2.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/01/06 04:24:22 jeremy Exp $
d5 1
a5 1
DISTNAME =	sequel_pg-1.0.2
d21 1
a21 1
RUN_DEPENDS =	databases/ruby-sequel,${MODRUBY_FLAVOR} \
@


1.8
log
@REVISION bump for rbx FLAVOR PLIST change.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/24 21:35:13 jeremy Exp $
d5 1
a5 2
DISTNAME =	sequel_pg-1.0.1
REVISION =	3
@


1.7
log
@REVISION bump all ruby ports due to a change in the pkgspec.
Previously, we were using ruby->=1.8,<=1.9, instead of
ruby->=1.8,<1.9.  While this wouldn't cause an issue, since
our ruby-1.9.2 package isn't included in ruby->=1.8,<=1.9,
it's still wrong and should be fixed.  This also fixes the
following minor issues:

Switch from using FLAVOR to MODRUBY_FLAVOR for *_DEPENDS.
Currently we don't have a ruby port that uses FLAVORs that
would differ from MODRUBY_FLAVOR, but it's possible we will
in the future.

Switch from BASE_PKGPATH to BUILD_PKGPATH in a few cases in
REGRESS_DEPENDS.  This probably is not strictly necessary, but
BUILD_PKGPATH is used in more cases, so it is good for
consistency.

Switch to new style *_DEPENDS, with the version specification
at the end.  The remaining cases where this is not done is
because a specific version is used.

Some FULLPKGNAME added to REGRESS_DEPENDS, to make sure that if
the old version is installed when you run a regress test, it
will install the new version first.

Some conversion of spaces to tabs for consistency.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/11/15 00:22:54 espie Exp $
d6 1
a6 1
REVISION =	2
@


1.6
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/08 23:28:53 jeremy Exp $
d6 1
a6 1
REVISION =	1
d22 2
a23 2
RUN_DEPENDS =	databases/ruby-sequel,${FLAVOR} \
		databases/ruby-pg,${FLAVOR}
@


1.5
log
@REVISION bumps for most ruby ports after the ruby.port.mk update.

PKG_ARCH = * removed from many ports as it is added automatically
for pure ruby gem ports.  Switch ports that previously used
GEM_SKIPDEPENDS to adding dependencies or modifying the underlying
gem metadata with patches.

OK landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/10/26 21:42:14 jeremy Exp $
d17 1
a17 1
WANTLIB =	pq.>=2
d21 3
a23 3
LIB_DEPENDS =	::databases/postgresql
RUN_DEPENDS =	:${MODRUBY_PKG_PREFIX}-sequel-*:databases/ruby-sequel,${FLAVOR} \
		:${MODRUBY_PKG_PREFIX}-pg-*:databases/ruby-pg,${FLAVOR}
@


1.4
log
@Handle the rest of the fallout from the splitting of MODRUBY_LIB_DEPENDS
into MODRUBY_WANTLIB and using CONFIGURE_STYLE = ruby gem ext.  Use the
lang/ruby module for all dependent ports, setting
MODRUBY_{BUILD,RUN}DEP=No if necessary.

ok landry, phessler, sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/10/07 15:06:08 jeremy Exp $
d6 1
a6 2
PKGNAME =	ruby-${DISTNAME}
REVISION =	0
d22 2
a23 2
RUN_DEPENDS =	::databases/ruby-sequel \
		::databases/ruby-pg
@


1.3
log
@Depend on ruby-sequel and ruby-pg so you can build without them already
installed.  Didn't build without them before, so no bump.

ok landry
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.2 2010/10/05 22:21:35 jeremy Exp $

SHARED_ONLY =	Yes
d18 1
a18 1
WANTLIB =	c m pq.>=2
d22 1
a22 2
LIB_DEPENDS =	::databases/postgresql \
		${MODRUBY_LIB_DEPENDS}
d27 1
a27 1
CONFIGURE_STYLE = ruby gem
@


1.2
log
@Lowercase COMMENT and bump REVISION.  No cookie for me.

OK ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/10/05 19:09:06 jeremy Exp $
d28 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/09/23 22:30:25 jeremy Exp $
d5 1
a5 1
COMMENT =	Faster SELECTs when using ruby-sequel with ruby-pg
d9 1
@


1.1.1.1
log
@sequel_pg overwrites the inner loop of the databases/ruby-sequel
postgres adapter row fetching code with a C version. The C version is
significantly faster (2-6x) than the pure ruby version that Sequel uses
by default.

OK landry@@
@
text
@@
