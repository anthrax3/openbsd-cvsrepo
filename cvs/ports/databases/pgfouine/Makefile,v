head	1.14;
access;
symbols
	OPENBSD_6_0:1.14.0.6
	OPENBSD_6_0_BASE:1.14
	OPENBSD_5_9:1.14.0.2
	OPENBSD_5_9_BASE:1.14
	OPENBSD_5_8:1.14.0.4
	OPENBSD_5_8_BASE:1.14
	OPENBSD_5_7:1.12.0.2
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.11.0.4
	OPENBSD_5_6_BASE:1.11
	OPENBSD_5_5:1.11.0.2
	OPENBSD_5_5_BASE:1.11
	OPENBSD_5_4:1.10.0.2
	OPENBSD_5_4_BASE:1.10
	OPENBSD_5_3:1.9.0.6
	OPENBSD_5_3_BASE:1.9
	OPENBSD_5_2:1.9.0.4
	OPENBSD_5_2_BASE:1.9
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.2
	OPENBSD_5_0:1.7.0.2
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.5.0.2
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.4.0.2
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.6
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.4
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.2
	OPENBSD_4_4_BASE:1.2
	ajacoutot_20080429:1.1.1.1
	pea:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2015.07.18.21.11.18;	author jasper;	state Exp;
branches;
next	1.13;
commitid	7lAcPgPxUa1f4S8R;

1.13
date	2015.06.05.06.00.21;	author robert;	state Exp;
branches;
next	1.12;
commitid	PS9YXjRm9KQkIZjT;

1.12
date	2014.11.06.17.13.39;	author sthen;	state Exp;
branches;
next	1.11;
commitid	ig1O4RkSPXzTZYwZ;

1.11
date	2013.08.12.04.11.20;	author robert;	state Exp;
branches;
next	1.10;

1.10
date	2013.03.11.02.52.07;	author espie;	state Exp;
branches;
next	1.9;

1.9
date	2011.11.16.15.56.37;	author robert;	state Exp;
branches;
next	1.8;

1.8
date	2011.09.16.08.48.03;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2011.07.22.10.20.10;	author sthen;	state Exp;
branches;
next	1.6;

1.6
date	2011.07.08.18.46.16;	author robert;	state Exp;
branches;
next	1.5;

1.5
date	2010.11.15.00.22.53;	author espie;	state Exp;
branches;
next	1.4;

1.4
date	2010.04.28.18.07.56;	author pea;	state Exp;
branches;
next	1.3;

1.3
date	2009.07.24.11.47.01;	author pea;	state Exp;
branches;
next	1.2;

1.2
date	2008.05.19.12.42.02;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2008.04.29.13.37.57;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.04.29.13.37.57;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.14
log
@use sed -i
@
text
@# $OpenBSD: Makefile,v 1.13 2015/06/05 06:00:21 robert Exp $

COMMENT =	PostgreSQL log analyzer

DISTNAME =	pgfouine-1.2
CATEGORIES =	databases

REVISION =	6

HOMEPAGE =	http://pgfouine.projects.postgresql.org/

MAINTAINER =	Pierre-Emmanuel Andre <pea@@openbsd.org>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =	http://pgfoundry.org/frs/download.php/2575/ \
		http://pgfouine.projects.postgresql.org/releases/

NO_BUILD =	Yes
NO_TEST =	Yes
PKG_ARCH =	*

MODULES =	lang/php
RUN_DEPENDS =	lang/php/${MODPHP_VERSION},-gd

pre-configure:
	@@sed -i -e 's,/usr/bin/php,${MODPHP_BIN},g;' \
		-e 's,!!PREFIX!!,${PREFIX},g' \
		 ${WRKSRC}/pgfouine.php ${WRKSRC}/pgfouine_vacuum.php
	@@find ${WRKSRC} -type d -name CVS | xargs rm -fr

do-install:
	${INSTALL_SCRIPT} ${WRKSRC}/pgfouine.php ${PREFIX}/bin/pgfouine
	${INSTALL_SCRIPT} ${WRKSRC}/pgfouine_vacuum.php ${PREFIX}/bin/pgfouine_vacuum
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/pgfouine
	${INSTALL_DATA_DIR} ${PREFIX}/share/pgfouine/include
	${INSTALL_DATA} ${WRKSRC}/version.php ${PREFIX}/share/pgfouine/
	@@cd ${WRKSRC}/include && \
		find . -type d -exec ${INSTALL_DATA_DIR} ${PREFIX}/share/pgfouine/include/{} \;
	@@cd ${WRKSRC}/include && \
		find . ! -type d -exec ${INSTALL_DATA} {} ${PREFIX}/share/pgfouine/include/{} \;
	${INSTALL_DATA} ${WRKSRC}/AUTHORS ${PREFIX}/share/doc/pgfouine/
	${INSTALL_DATA} ${WRKSRC}/ChangeLog ${PREFIX}/share/doc/pgfouine/
	${INSTALL_DATA} ${WRKSRC}/THANKS ${PREFIX}/share/doc/pgfouine/
	${INSTALL_DATA} ${WRKSRC}/rpm-specific/sources/pgfouine-tutorial.txt \
		${PREFIX}/share/doc/pgfouine/pgfouine-tutorial.txt

.include <bsd.port.mk>
@


1.13
log
@bump revision due to the change of the default php version to 5.6
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2014/11/06 17:13:39 sthen Exp $
d28 1
a28 1
	@@perl -pi -e 's,/usr/bin/php,${MODPHP_BIN},g;' \
@


1.12
log
@bump REVISION for php version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2013/08/12 04:11:20 robert Exp $
d8 1
a8 1
REVISION =	5
@


1.11
log
@bump REVISION due to the php update
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2013/03/11 02:52:07 espie Exp $
d8 1
a8 1
REVISION =	4
@


1.10
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/11/16 15:56:37 robert Exp $
d8 1
a8 1
REVISION =	3
@


1.9
log
@switch php to version 5.3 by default
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2011/09/16 08:48:03 espie Exp $
a14 1
PERMIT_PACKAGE_FTP =	Yes
a15 2
PERMIT_DISTFILES_FTP =	Yes
PERMIT_DISTFILES_CDROM =Yes
d21 1
a21 1
NO_REGRESS =	Yes
@


1.8
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2011/07/22 10:20:10 sthen Exp $
d8 1
a8 1
REVISION =	2
@


1.7
log
@Bump for PKGSPEC changes in ports/lang/php/Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2011/07/08 18:46:16 robert Exp $
d8 1
a8 1
REVISION =	1
@


1.6
log
@switch to lang/php
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/11/15 00:22:53 espie Exp $
d8 1
a8 1
REVISION =	0
@


1.5
log
@convert to new style depends
zap default spec that are not needed
convert libspecs as well
convert p* to REVISION.

No package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/04/28 18:07:56 pea Exp $
d8 2
d27 2
a28 2
RUN_DEPENDS =	www/php5/core \
		www/php5/extensions,-gd
d31 1
a31 1
	@@perl -pi -e 's,/usr/bin/php,${LOCALBASE}/bin/php,g;' \
@


1.4
log
@Update to 1.2

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/07/24 11:47:01 pea Exp $
d25 2
a26 2
RUN_DEPENDS =	:php5-core-*:www/php5/core \
		:php5-gd-*:www/php5/extensions,-gd
@


1.3
log
@Update to 1.1

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/05/19 12:42:02 ajacoutot Exp $
d5 1
a5 1
DISTNAME =	pgfouine-1.1
d18 1
a18 1
MASTER_SITES =	http://pgfoundry.org/frs/download.php/2178/ \
d32 1
@


1.2
log
@- fix RCS tag
- add a second MASTER_SITES

from MAINTAINER Pierre-Emmanuel Andre <pea at raveland dot org>, thanks!
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME =	pgfouine-1.0
d10 1
a10 1
MAINTAINER =	Pierre-Emmanuel Andre <pea@@raveland.org>
d18 1
a18 1
MASTER_SITES =	http://pgfoundry.org/frs/download.php/1334/ \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD $
d18 2
a19 1
MASTER_SITES =	http://pgfoundry.org/frs/download.php/1334/
@


1.1.1.1
log
@Import pgfouine-1.0

pgFouine is a PostgreSQL log analyzer used to generate detailed reports
from a PostgreSQL log file. pgFouine can help you to determine which
queries you should optimize to speed up your PostgreSQL based
application.

from Pierre-Emmanuel Andre <pea at raveland dot org>
@
text
@@
