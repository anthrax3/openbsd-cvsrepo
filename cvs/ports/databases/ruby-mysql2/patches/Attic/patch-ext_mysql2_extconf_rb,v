head	1.3;
access;
symbols
	OPENBSD_5_9:1.2.0.8
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.10
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.6
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.4
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.1.0.10
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.8
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.6
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.4
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2016.05.05.22.46.27;	author jeremy;	state dead;
branches;
next	1.2;
commitid	4vRbVWEFZhZsOjL3;

1.2
date	2013.10.26.23.48.40;	author jeremy;	state Exp;
branches;
next	1.1;

1.1
date	2011.04.14.17.23.32;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to mysql2 0.4.4
@
text
@$OpenBSD: patch-ext_mysql2_extconf_rb,v 1.2 2013/10/26 23:48:40 jeremy Exp $
--- ext/mysql2/extconf.rb.orig	Wed Dec 31 16:00:00 1969
+++ ext/mysql2/extconf.rb	Tue Jul 16 08:47:55 2013
@@@@ -44,11 +44,11 @@@@ elsif mc = (with_config('mysql-config') || Dir[GLOB].f
   ver = `#{mc} --version`.chomp.to_f
   cflags = `#{mc} --cflags`.chomp
   exit 1 if $? != 0
-  libs = `#{mc} --libs_r`.chomp
+  #libs = `#{mc} --libs_r`.chomp
   # MySQL 5.5 and above already have re-entrant code in libmysqlclient (no _r).
-  if ver >= 5.5 || libs.empty?
+  #if ver >= 5.5 || libs.empty?
     libs = `#{mc} --libs`.chomp
-  end
+  #end
   exit 1 if $? != 0
   $CPPFLAGS += ' ' + cflags
   $libs = libs + " " + $libs
@


1.2
log
@Update to ruby-mysql2 0.3.13
@
text
@d1 1
a1 1
$OpenBSD: patch-ext_mysql2_extconf_rb,v 1.1 2011/04/14 17:23:32 jeremy Exp $
@


1.1
log
@Update version to 0.2.7.  Add patch to use the standard mysqlclient
library instead of the threaded one, as the threaded one would not
work correctly on ruby 1.8.
@
text
@d1 5
a5 5
$OpenBSD$
--- ext/mysql2/extconf.rb.orig	Mon Apr 11 16:14:10 2011
+++ ext/mysql2/extconf.rb	Mon Apr 11 16:14:41 2011
@@@@ -31,10 +31,10 @@@@ elsif mc = (with_config('mysql-config') || Dir[GLOB].f
   mc = Dir[GLOB].first if mc == true
a8 1
-  if libs.empty?
d10 3
a12 1
+  #if libs.empty?
@

