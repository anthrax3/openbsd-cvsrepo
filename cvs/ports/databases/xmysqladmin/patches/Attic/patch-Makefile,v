head	1.5;
access;
symbols
	OPENBSD_4_6:1.4.0.30
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.28
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.26
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.24
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.22
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.20
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.18
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.16
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.4.0.14
	OPENBSD_3_8_BASE:1.4
	OPENBSD_3_7:1.4.0.12
	OPENBSD_3_7_BASE:1.4
	OPENBSD_3_6:1.4.0.10
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.8
	OPENBSD_3_5_BASE:1.4
	OPENBSD_3_4:1.4.0.6
	OPENBSD_3_4_BASE:1.4
	OPENBSD_3_3:1.4.0.4
	OPENBSD_3_3_BASE:1.4
	OPENBSD_3_2:1.4.0.2
	OPENBSD_3_2_BASE:1.4
	OPENBSD_3_1:1.2.0.6
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.4
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.1.0.4
	OPENBSD_2_8_BASE:1.1
	OPENBSD_2_7:1.1.0.2
	OPENBSD_2_7_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2009.11.01.22.58.51;	author jasper;	state dead;
branches;
next	1.4;

1.4
date	2002.07.19.18.42.49;	author pvalchev;	state Exp;
branches;
next	1.3;

1.3
date	2002.05.26.15.09.07;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2001.02.08.20.10.59;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2000.04.09.09.44.08;	author turan;	state Exp;
branches;
next	;


desc
@@


1.5
log
@remove xmysqladmin, broken since 2003 as it failed to catch up with the new
mysql api. as upstream abondoned it, it's unlikely to ever catch up.
besides, there are enough other applications to administer mysql with a gui.

landry@@ agreed, although he formulated it oddly
@
text
@$OpenBSD: patch-Makefile,v 1.4 2002/07/19 18:42:49 pvalchev Exp $
--- Makefile.orig	Mon Dec  7 04:52:39 1998
+++ Makefile	Fri Jul 19 12:17:04 2002
@@@@ -34,7 +34,7 @@@@ INSTALL = install
 # This is used by 'make install' command
 #-------------------------------------------------------
 #INSTALLPATH = /opt/local/i386/bin
-INSTALLPATH = /usr/local/bin
+INSTALLPATH = ${PREFIX}/bin
 ########################################################
 
 
@@@@ -45,7 +45,7 @@@@ INSTALLPATH = /usr/local/bin
 # pixmap file location (mysql.xpm)
 #-------------------------------------------------------
 #PIXMAPPATH = /opt/local/lib
-PIXMAPPATH = /usr/local/bin
+PIXMAPPATH = ${PREFIX}/include/X11/pixmaps
 ########################################################
 
 
@@@@ -80,8 +80,7 @@@@ BACKUPDIR = /tmp
 # Compilation Details
 # hum... I think you dont need to change this
 #-------------------------------------------------------
-CC = gcc
-STDCFLAGS = -g -c -O2 -Wall -DPIXMAPFILE=\"$(PIXMAPPATH)/mysql.xpm\" \
+STDCFLAGS = $(CFLAGS) -c -DPIXMAPFILE=\"$(PIXMAPPATH)/mysql.xpm\" \
             -DBACKUP=\"$(BACKUP)\" -DBACKUPDIR=\"$(BACKUPDIR)\" \
             -DBACKUPSUFFIX=\"$(BACKUPSUFFIX)\" \
             -DMYSQL_VERSION=$(MYSQL_VERSION)
@@@@ -95,7 +94,7 @@@@ STDLFLAGS = 
 ########################################################
 # mysql include dir 
 #-------------------------------------------------------
-MYSQLINC = -I/usr/local/mysql/include/mysql
+MYSQLINC = -I${LOCALBASE}/include/mysql
 ########################################################
 
 
@@@@ -107,7 +106,7 @@@@ MYSQLINC = -I/usr/local/mysql/include/my
 # mysql database dir
 #-------------------------------------------------------
 #MYSQLDBDIR = -DMYSQLDBDIR="\"/var/lib/mysql/\""
-MYSQLDBDIR = -DMYSQLDBDIR="\"/usr/local/mysql/var/\""
+MYSQLDBDIR = -DMYSQLDBDIR="\"/var/mysql/\""
 ########################################################
 
 
@@@@ -118,7 +117,7 @@@@ MYSQLDBDIR = -DMYSQLDBDIR="\"/usr/local/
 ########################################################
 # mysql library dir
 #-------------------------------------------------------
-MYSQLLOAD = -Wl,-R/usr/local/mysql/lib/mysql -L/usr/local/mysql/lib/mysql -lmysqlclient
+MYSQLLOAD = -Wl,-R${LOCALBASE}/lib/mysql -L${LOCALBASE}/lib/mysql -lmysqlclient
 ########################################################
 
 
@@@@ -129,7 +128,7 @@@@ MYSQLLOAD = -Wl,-R/usr/local/mysql/lib/m
 # xforms librairies dir
 #-------------------------------------------------------
 #XFORMLIBDIR = -L/opt/local/i386/lib
-XFORMLIBDIR = -L/usr/lib
+XFORMLIBDIR = -L${LOCALBASE}/lib
 ########################################################
 
 
@@@@ -141,7 +140,7 @@@@ XFORMLIBDIR = -L/usr/lib
 # xforms include dir (xforms.h)
 #-------------------------------------------------------
 #XFORMINCDIR = -I/opt/local/include
-XFORMINCDIR = -I/usr/X11R6/include
+XFORMINCDIR = -I${LOCALBASE}/include/X11
 ########################################################
 
 
@@@@ -156,8 +155,8 @@@@ XFORMINCDIR = -I/usr/X11R6/include
 #XLOAD = -L/usr/openwin/lib  -lX11
 
 # Use this for Linux:
-XINC =
-XLOAD = -L/usr/X11R6/lib -lX11 /usr/X11R6/lib/libXpm.so.4
+XINC = -I${X11BASE}/include
+XLOAD = -L${X11BASE}/lib -lX11 -lGL -lXext
 ########################################################
 
 
@@@@ -215,8 +214,7 @@@@ OBJS =  xmysqladmin.o \
 ${PROGRAM}: $(OBJS)
 	$(CC) -o ${PROGRAM} $(OBJS) $(MYSQLINC) $(XFORMINCDIR) \
 	$(XINC) $(STDLFLAGS) $(MYSQLLOAD) \
-	$(XLOAD) $(XFORMLIBDIR) -lforms $(LIBS)
-	./$(PROGRAM)
+	$(XLOAD) $(XFORMLIBDIR) -lforms -lXpm -ljpeg $(LIBS)
 
 .c.o:
 	$(CC) $*.c $(STDCFLAGS) $(XFORMINCDIR) $(MYSQLINC) $(MYSQLDBDIR) $(XINC)
@@@@ -226,7 +224,8 @@@@ clean:
 
 install:
 	strip $(PROGRAM)
-	$(INSTALL) -m 711 $(PROGRAM) $(INSTALLPATH)
+	$(INSTALL) -m ${BINMODE} $(PROGRAM) $(INSTALLPATH)
+	mkdir -p $(PIXMAPPATH)
 	cp mysql.xpm $(PIXMAPPATH)
 
 version:
@


1.4
log
@add jpeg dependency for now.  xforms has it as BUILD_DEPENDS, anything
linked with -lxforms requires -ljpeg at least when linking with new
binutils ld.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.3 2002/05/26 15:09:07 naddy Exp $
@


1.3
log
@undo s/forms/xforms/ patches
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.orig	Mon Dec  7 12:52:39 1998
+++ Makefile	Sun May 26 17:04:14 2002
d84 1
a84 1
+XLOAD = -L${X11BASE}/lib -lX11
d94 1
a94 1
+	$(XLOAD) $(XFORMLIBDIR) -lforms -lXpm $(LIBS)
@


1.2
log
@likewise: correct mysqlclient library number, correct BINMODE install.
@
text
@d1 1
d3 1
a3 1
+++ Makefile	Thu Feb  8 21:11:30 2001
d94 1
a94 1
+	$(XLOAD) $(XFORMLIBDIR) -lxforms -lXpm $(LIBS)
@


1.1
log
@fix broken port
- move from X11 to local broke it
- rename patches to something more sensible
- fake
@
text
@d1 3
a3 3
--- Makefile.orig	Mon Dec  7 04:52:39 1998
+++ Makefile	Sun Apr  9 03:34:57 2000
@@@@ -34,7 +34,7 @@@@
d12 1
a12 1
@@@@ -45,7 +45,7 @@@@
d21 1
a21 1
@@@@ -80,8 +80,7 @@@@
d31 1
a31 1
@@@@ -95,7 +94,7 @@@@
d40 1
a40 1
@@@@ -107,7 +106,7 @@@@
d49 1
a49 1
@@@@ -118,7 +117,7 @@@@
d58 1
a58 1
@@@@ -129,7 +128,7 @@@@
d67 1
a67 1
@@@@ -141,7 +140,7 @@@@
d76 1
a76 1
@@@@ -156,8 +155,8 @@@@
d87 1
a87 1
@@@@ -215,8 +214,7 @@@@
d97 2
a98 1
@@@@ -227,6 +225,7 @@@@
d101 2
a102 1
 	$(INSTALL) -m 711 $(PROGRAM) $(INSTALLPATH)
@

