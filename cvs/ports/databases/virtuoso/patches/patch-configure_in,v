head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.6
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.4
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.8
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.4
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.1.1.1.0.4
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.2
	OPENBSD_5_4_BASE:1.1.1.1
	zhuk_20130422:1.1.1.1
	zhuk:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2015.11.20.17.17.50;	author sthen;	state Exp;
branches;
next	1.3;
commitid	5jJ7D9qeiviUpxXN;

1.3
date	2014.05.09.11.40.12;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2014.04.23.05.23.24;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.04.22.17.32.31;	author zhuk;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.04.22.17.32.31;	author zhuk;	state Exp;
branches;
next	;


desc
@@


1.4
log
@remove the remaining devel/flex build deps
@
text
@$OpenBSD: patch-configure_in,v 1.3 2014/05/09 11:40:12 ajacoutot Exp $
Add OpenBSD default configuration profile.
Help to find libwbxml.
--- configure.in.orig	Thu Aug  2 02:03:31 2012
+++ configure.in	Tue Jan 29 23:07:18 2013
@@@@ -234,6 +234,23 @@@@ case ${VIRTUOSO_LAYOUT} in
 	hostingdir=$libdir/virtuoso/hosting
 	;;
 
+  [[Op]][[Pp]][[Ee]][[Nn]][[Bb]][[Ss]][[Dd]])		# OpenBSD
+	virtuoso_layout=OpenBSD
+	if test "x$prefix" = "xNONE"
+	then
+		prefix=${PREFIX}
+		localstatedir=${LOCALSTATEDIR}
+	fi
+	vaddir=$datadir/virtuoso/vad
+	docdir=$datadir/doc/virtuoso
+	htmldocdir=$datadir/doc/html/virtuoso
+	pdfdocdir=$datadir/doc/virtuoso/pdf
+	demodir=$localstatedir/virtuoso/demo
+	dbdir=$localstatedir/virtuoso/db
+	httprootdir=$localstatedir/virtuoso/vsp
+	hostingdir=$libdir/virtuoso/hosting
+	;;
+
   [[Oo]][[Pp]][[Tt]])					# /opt
 	virtuoso_layout=opt
 	test "x$prefix" = xNONE && prefix=/opt/virtuoso-opensource
@@@@ -263,7 +280,7 @@@@ case ${VIRTUOSO_LAYOUT} in
   *)							# UNKNOWN
   	AC_MSG_RESULT(unknown)
 	echo ""
-	echo "AC_HELP_STRING([Supported layouts:], [Debian FreeBSD GNU OpenLink opt RedHat])"
+	echo "AC_HELP_STRING([Supported layouts:], [Debian FreeBSD OpenBSD GNU OpenLink opt RedHat])"
 	echo ""
 	AC_MSG_ERROR([unable to continue])
 	;;
@@@@ -1403,7 +1420,7 @@@@ then
 	   WBXML2_LDFLAGS="-lwbxml2"
 	   ;;
 	*)
-	   WBXML2_CFLAGS="-I$with_wbxml2/include"
+	   WBXML2_CFLAGS="-I$with_wbxml2/include/wbxml"
 	   WBXML2_LDFLAGS="-L$with_wbxml2/lib -lwbxml2"
 	   LD_LIBRARY_PATH="$LD_LIBRARY_PATH:$with_wbxml2/lib"
 	   export LD_LIBRARY_PATH
@@@@ -1421,7 +1438,8 @@@@ then
 int
 main ()
 {
-  WBXMLParser *wbxml_parser = wbxml_parser_create();
+  WB_UTINY *wbxml = wbxml_realloc(NULL, 100);
+  wbxml_free(wbxml);
 
   return 0;
 }],
@


1.3
log
@Tweak comment.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.2 2014/04/23 05:23:24 ajacoutot Exp $
a2 1
Force using of GNU flex.
d39 1
a39 14
@@@@ -383,9 +400,10 @@@@ AC_PROG_YACC
 AC_PATH_PROG(HTMLDOC, htmldoc)
 AM_CONDITIONAL(WITH_HTMLDOC, test "x$HTMLDOC" != "x")
 
-AM_PROG_LEX
+# AM_PROG_LEX
 
-AC_PATH_PROG(FLEX, flex, flex)
+AC_PATH_PROG(LEX, gflex, gflex)
+AC_PATH_PROG(FLEX, gflex, gflex)
 AC_PATH_PROG(GAWK, gawk, gawk)
 AC_PATH_PROG(GPERF, gperf, gperf)
 AC_PATH_PROG(PERL, perl, perl)
@@@@ -1403,7 +1421,7 @@@@ then
d48 1
a48 1
@@@@ -1421,7 +1439,8 @@@@ then
@


1.2
log
@Don't hardcode paths.
@
text
@d1 1
a1 1
$OpenBSD: patch-configure_in,v 1.1.1.1 2013/04/22 17:32:31 zhuk Exp $
d4 1
a4 1
Help to find Kerberos and libwbxml.
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d15 2
a16 2
+		prefix=/usr/local
+		localstatedir=/var
@


1.1.1.1
log
@Import Virtuoso. Needed by Soprano (for tests) and for KDE 4 (Nepomuk).

Virtuoso is a high-performance object-relational SQL database. As
a database, it provides transactions, a smart SQL compiler, powerful
stored-procedure language with optional Java and .Net server-side
hosting, hot backup, SQL-99 support and more. It has all major
data-access interfaces, such as ODBC, JDBC, ADO .Net and OLE/DB.

"I looked at virtuoso and it gave me too much headaches.
Import it then (and polish in-tree)" landry@@
@
text
@@
