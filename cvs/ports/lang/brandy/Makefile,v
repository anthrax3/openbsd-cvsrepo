head	1.2;
access;
symbols
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	fcambus_20170319:1.1.1.1
	fcambus:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2017.03.27.09.59.58;	author fcambus;	state Exp;
branches;
next	1.1;
commitid	XYx3qVgGpaLn0m5P;

1.1
date	2017.03.19.21.49.31;	author fcambus;	state Exp;
branches
	1.1.1.1;
next	;
commitid	xcMAAzRsxmaWcGTQ;

1.1.1.1
date	2017.03.19.21.49.31;	author fcambus;	state Exp;
branches;
next	;
commitid	xcMAAzRsxmaWcGTQ;


desc
@@


1.2
log
@Build both console and SDL versions.

OK juanfra@@ (previous version), sthen@@
@
text
@# $OpenBSD: Makefile,v 1.1.1.1 2017/03/19 21:49:31 fcambus Exp $

COMMENT =	interpreter for BBC Basic (Basic V)

DISTNAME =	brandy-1.20.1
REVISION =	0

CATEGORIES =	lang

HOMEPAGE =	http://jaguar.orpheusweb.co.uk/branpage.html

MAINTAINER =	Frederic Cambus <fcambus@@openbsd.org>

# GPLv2+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB +=	SDL c m

MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=brandy/}

LIB_DEPENDS +=	devel/sdl

CFLAGS +=	-I${LOCALBASE}/include/SDL
LDFLAGS +=	-L${LOCALBASE}/lib

MAKE_FLAGS =	CC="${CC}" CFLAGS="${CFLAGS}" LD="${CC}" LDFLAGS="${LDFLAGS}"

MAKE_FILE =	makefile

NO_TEST =	Yes

post-build:
	cd ${WRKSRC}; \
	${SETENV} ${MAKE_ENV} ${MAKE_PROGRAM} ${MAKE_FLAGS} -f makefile.text

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/tbrandy ${PREFIX}/bin/brandy
	${INSTALL_PROGRAM} ${WRKSRC}/brandy ${PREFIX}/bin/brandy-sdl
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/brandy
	${INSTALL_DATA} ${WRKSRC}/docs/basic ${PREFIX}/share/doc/brandy
	${INSTALL_DATA} ${WRKSRC}/docs/messages ${PREFIX}/share/doc/brandy
	${INSTALL_DATA} ${WRKSRC}/docs/use ${PREFIX}/share/doc/brandy
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/brandy
	${INSTALL_DATA} ${WRKSRC}/examples/* ${PREFIX}/share/examples/brandy

.include <bsd.port.mk>
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile.template,v 1.75 2016/03/20 17:19:49 naddy Exp $
d6 1
d17 1
a17 1
WANTLIB +=	c m
d21 1
a21 1
MAKE_FLAGS =	CC="${CC}" LD="${CC}"
d23 6
a28 1
MAKE_FILE =	makefile.text tbrandy
d32 4
d38 1
@


1.1.1.1
log
@Import lang/brandy.

Brandy implements Basic V, the dialect of Basic that Acorn Computers
supplied with their ranges of desktop computers that use the ARM
processor such as the Archimedes and RiscPC. Basic V is an extended
version of BBC Basic. This was the Basic used on the BBC Micro that
Acorn made during the early 1980s.

OK benoit@@, juanfra@@
@
text
@@
