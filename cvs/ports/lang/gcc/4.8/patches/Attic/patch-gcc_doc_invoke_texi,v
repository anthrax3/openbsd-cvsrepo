head	1.3;
access;
symbols
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2015.09.10.08.23.55;	author pascal;	state dead;
branches;
next	1.2;
commitid	ovY05rVdcfWNuWWc;

1.2
date	2015.01.08.20.23.21;	author pascal;	state Exp;
branches;
next	1.1;
commitid	sYWo0J70bGiiom5u;

1.1
date	2014.06.08.18.55.36;	author brad;	state Exp;
branches;
next	;
commitid	mCKxwWpaJ0MaKY3I;


desc
@@


1.3
log
@tedu gcc 4.8

ok sthen@@ tobiasu@@
@
text
@$OpenBSD: patch-gcc_doc_invoke_texi,v 1.2 2015/01/08 20:23:21 pascal Exp $

Add stack protector strong support.

http://repo.or.cz/w/official-gcc.git/commit/b156ec373ccf27f4fcce7972de5e043d35acea43

--- gcc/doc/invoke.texi.orig	Fri Nov  7 13:23:20 2014
+++ gcc/doc/invoke.texi	Mon Jan  5 22:42:06 2015
@@@@ -406,8 +406,8 @@@@ Objective-C and Objective-C++ Dialects}.
 -fsel-sched-pipelining -fsel-sched-pipelining-outer-loops @@gol
 -fshrink-wrap -fsignaling-nans -fsingle-precision-constant @@gol
 -fsplit-ivs-in-unroller -fsplit-wide-types -fstack-protector @@gol
--fstack-protector-all -fstrict-aliasing -fstrict-overflow @@gol
--fthread-jumps -ftracer -ftree-bit-ccp @@gol
+-fstack-protector-all -fstack-protector-strong -fstrict-aliasing @@gol
+-fstrict-overflow -fthread-jumps -ftracer -ftree-bit-ccp @@gol
 -ftree-builtin-call-dce -ftree-ccp -ftree-ch @@gol
 -ftree-coalesce-inline-vars -ftree-coalesce-vars -ftree-copy-prop @@gol
 -ftree-copyrename -ftree-dce -ftree-dominator-opts -ftree-dse @@gol
@@@@ -8892,6 +8892,12 @@@@ If a guard check fails, an error message is printed an
 @@item -fstack-protector-all
 @@opindex fstack-protector-all
 Like @@option{-fstack-protector} except that all functions are protected.
+
+@@item -fstack-protector-strong
+@@opindex fstack-protector-strong
+Like @@option{-fstack-protector} but includes additional functions to
+be protected --- those that have local array definitions, or have
+references to local frame addresses.
 
 @@item -fsection-anchors
 @@opindex fsection-anchors
@


1.2
log
@Update to GCC 4.8.4.

Additionally, from tobiasu@@:

Disable the optimized shared Ada.Strings.Unbounded implementation until
overlapping memcpy() is fixed. Requires fresh adastrap's.

Rename all binaries starting with "egnat" back to "gnat". Reduces the
amount of workarounds needed to build various Ada software - including
GNAT itself.

Stop running the fixincludes script - saves time and pain. If our
headers are broken, we want to know and fix them ourselves, thank you
very much.

Drop gnat debug patch for a linker issue that was fixed some time ago.

ok tobiasu@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gcc_doc_invoke_texi,v 1.1 2014/06/08 18:55:36 brad Exp $
@


1.1
log
@Add stack protector strong support and enable it by default.

ok pascal@@
@
text
@d1 1
a1 1
$OpenBSD$
d7 2
a8 2
--- gcc/doc/invoke.texi.orig	Mon Apr 28 06:05:29 2014
+++ gcc/doc/invoke.texi	Sun May 25 18:26:14 2014
d20 1
a20 1
@@@@ -8890,6 +8890,12 @@@@ If a guard check fails, an error message is printed an
@

