head	1.5;
access;
symbols
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.26
	OPENBSD_5_0:1.4.0.24
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.4.0.22
	OPENBSD_4_9_BASE:1.4
	OPENBSD_4_8:1.4.0.20
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.18
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.16
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.14
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.12
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.10
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.4.0.8
	OPENBSD_4_2_BASE:1.4
	OPENBSD_4_1:1.4.0.6
	OPENBSD_4_1_BASE:1.4
	OPENBSD_4_0:1.4.0.4
	OPENBSD_4_0_BASE:1.4
	OPENBSD_3_9:1.4.0.2
	OPENBSD_3_9_BASE:1.4
	OPENBSD_3_8:1.3.0.2
	OPENBSD_3_8_BASE:1.3
	OPENBSD_3_7:1.2.0.2
	OPENBSD_3_7_BASE:1.2
	gcc:1.1.1.1
	FSF:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2012.02.22.07.48.10;	author ajacoutot;	state dead;
branches;
next	1.4;

1.4
date	2005.09.11.22.04.41;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2005.05.21.10.34.43;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.03.07.16.30.06;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2005.02.28.15.12.45;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2005.02.28.15.12.45;	author espie;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Now that the system headers provide a proper definition of NULL we
can remove all these NULL patches.

from Brad
ok espie@@
@
text
@$OpenBSD: patch-gcc_collect2_c,v 1.4 2005/09/11 22:04:41 espie Exp $
--- gcc/collect2.c.orig	Fri Aug 19 03:20:32 2005
+++ gcc/collect2.c	Mon Sep 12 00:01:23 2005
@@@@ -753,19 +753,19 @@@@ main (int argc, char **argv)
      qualify the program name with the target machine.  */
 
   const char *const full_ld_suffix =
-    concat(target_machine, "-", ld_suffix, NULL);
+    concat(target_machine, "-", ld_suffix, (char *)0);
   const char *const full_nm_suffix =
-    concat (target_machine, "-", nm_suffix, NULL);
+    concat (target_machine, "-", nm_suffix, (char *)0);
   const char *const full_gnm_suffix =
-    concat (target_machine, "-", gnm_suffix, NULL);
+    concat (target_machine, "-", gnm_suffix, (char *)0);
 #ifdef LDD_SUFFIX
   const char *const full_ldd_suffix =
-    concat (target_machine, "-", ldd_suffix, NULL);
+    concat (target_machine, "-", ldd_suffix, (char *)0);
 #endif
   const char *const full_strip_suffix =
-    concat (target_machine, "-", strip_suffix, NULL);
+    concat (target_machine, "-", strip_suffix, (char *)0);
   const char *const full_gstrip_suffix =
-    concat (target_machine, "-", gstrip_suffix, NULL);
+    concat (target_machine, "-", gstrip_suffix, (char *)0);
 #else
   const char *const full_ld_suffix	= ld_suffix;
   const char *const full_nm_suffix	= nm_suffix;
@@@@ -958,7 +958,7 @@@@ main (int argc, char **argv)
   if (c_file_name == 0)
     {
 #ifdef CROSS_COMPILE
-      c_file_name = concat (target_machine, "-gcc", NULL);
+      c_file_name = concat (target_machine, "-gcc", (char *)0);
 #else
       c_file_name = "gcc";
 #endif
@@@@ -1236,7 +1236,7 @@@@ main (int argc, char **argv)
 
   if (exports.first)
     {
-      char *buf = concat ("-bE:", export_file, NULL);
+      char *buf = concat ("-bE:", export_file, (char *)0);
 
       *ld1++ = buf;
       *ld2++ = buf;
@@@@ -1401,7 +1401,7 @@@@ main (int argc, char **argv)
   /* Tell the linker that we have initializer and finalizer functions.  */
 #ifdef LD_INIT_SWITCH
 #ifdef COLLECT_EXPORT_LIST
-  *ld2++ = concat (LD_INIT_SWITCH, ":", initname, ":", fininame, NULL);
+  *ld2++ = concat (LD_INIT_SWITCH, ":", initname, ":", fininame, (char *)0);
 #else
   *ld2++ = LD_INIT_SWITCH;
   *ld2++ = initname;
@@@@ -1416,7 +1416,7 @@@@ main (int argc, char **argv)
       /* If we did not add export flag to link arguments before, add it to
 	 second link phase now.  No new exports should have been added.  */
       if (! exports.first)
-	*ld2++ = concat ("-bE:", export_file, NULL);
+	*ld2++ = concat ("-bE:", export_file, (char *)0);
 
 #ifndef LD_INIT_SWITCH
       add_to_list (&exports, initname);
@@@@ -1811,8 +1811,8 @@@@ write_c_file_stat (FILE *stream, const c
     notice ("\nwrite_c_file - output name is %s, prefix is %s\n",
 	    output_file, prefix);
 
-  initname = concat ("_GLOBAL__FI_", prefix, NULL);
-  fininame = concat ("_GLOBAL__FD_", prefix, NULL);
+  initname = concat ("_GLOBAL__FI_", prefix, (char *)0);
+  fininame = concat ("_GLOBAL__FD_", prefix, (char *)0);
 
   free (prefix);
 
@


1.4
log
@update to a recent snapshot. USE_LIBTOOL.
@
text
@d1 1
a1 1
$OpenBSD: patch-gcc_collect2_c,v 1.3 2005/05/21 10:34:43 espie Exp $
@


1.3
log
@switch to a more recent snapshot. Needs recent m4 to rebuild configure
correctly.
@
text
@d1 4
a4 4
$OpenBSD: patch-gcc_collect2_c,v 1.2 2005/03/07 16:30:06 espie Exp $
--- gcc/collect2.c.orig	Tue Apr 26 02:23:52 2005
+++ gcc/collect2.c	Mon May 16 17:43:10 2005
@@@@ -773,19 +773,19 @@@@ main (int argc, char **argv)
d30 1
a30 1
@@@@ -978,7 +978,7 @@@@ main (int argc, char **argv)
d39 1
a39 1
@@@@ -1256,7 +1256,7 @@@@ main (int argc, char **argv)
d48 1
a48 1
@@@@ -1421,7 +1421,7 @@@@ main (int argc, char **argv)
d57 1
a57 1
@@@@ -1436,7 +1436,7 @@@@ main (int argc, char **argv)
d66 1
a66 1
@@@@ -1831,8 +1831,8 @@@@ write_c_file_stat (FILE *stream, const c
@


1.2
log
@more recent snap
@
text
@d1 4
a4 4
$OpenBSD: patch-gcc_collect2_c,v 1.4 2005/01/31 09:47:34 espie Exp $
--- gcc/collect2.c.orig	Mon Jan 17 16:23:51 2005
+++ gcc/collect2.c	Mon Jan 17 16:24:43 2005
@@@@ -779,19 +779,19 @@@@ main (int argc, char **argv)
d30 1
a30 1
@@@@ -981,7 +981,7 @@@@ main (int argc, char **argv)
d39 1
a39 1
@@@@ -1258,7 +1258,7 @@@@ main (int argc, char **argv)
d48 1
a48 1
@@@@ -1423,7 +1423,7 @@@@ main (int argc, char **argv)
d57 1
a57 1
@@@@ -1438,7 +1438,7 @@@@ main (int argc, char **argv)
d66 1
a66 10
@@@@ -1590,7 +1590,7 @@@@ collect_execute (const char *prog, char 
       dup2 (redir_handle, STDERR_FILENO);
     }
 
-  pid = pexecute (argv[0], argv, argv[0], NULL, &errmsg_fmt, &errmsg_arg,
+  pid = pexecute (argv[0], argv, argv[0], (char *)0, &errmsg_fmt, &errmsg_arg,
 		  (PEXECUTE_FIRST | PEXECUTE_LAST | PEXECUTE_SEARCH));
 
   if (redir)
@@@@ -1845,8 +1845,8 @@@@ write_c_file_stat (FILE *stream, const c
@


1.1
log
@Initial revision
@
text
@@


1.1.1.1
log
@yep, 4.0 got branched, so now there are 4.1 snapshots.

Just put this in and don't activate it yet... this makes gcc 4.1
available for people who want to play with it, but it hasn't really
diverged from 4.0 so far...
@
text
@@
