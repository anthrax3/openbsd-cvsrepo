head	1.17;
access;
symbols
	OPENBSD_6_0:1.17.0.10
	OPENBSD_6_0_BASE:1.17
	OPENBSD_5_9:1.17.0.6
	OPENBSD_5_9_BASE:1.17
	OPENBSD_5_8:1.17.0.8
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.17.0.4
	OPENBSD_5_7_BASE:1.17
	OPENBSD_5_6:1.17.0.2
	OPENBSD_5_6_BASE:1.17
	OPENBSD_5_5:1.15.0.2
	OPENBSD_5_5_BASE:1.15
	OPENBSD_5_4:1.9.0.2
	OPENBSD_5_4_BASE:1.9
	OPENBSD_5_3:1.6.0.2
	OPENBSD_5_3_BASE:1.6
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.2
	pascal_20111114:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.17
date	2014.05.01.23.08.26;	author tobiasu;	state Exp;
branches;
next	1.16;

1.16
date	2014.04.27.21.50.55;	author tobiasu;	state Exp;
branches;
next	1.15;

1.15
date	2014.02.07.01.27.21;	author tobiasu;	state Exp;
branches;
next	1.14;

1.14
date	2013.09.19.21.14.56;	author tobiasu;	state Exp;
branches;
next	1.13;

1.13
date	2013.09.16.21.16.17;	author sthen;	state Exp;
branches;
next	1.12;

1.12
date	2013.09.16.10.55.00;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2013.08.16.07.37.18;	author tobiasu;	state Exp;
branches;
next	1.10;

1.10
date	2013.08.14.07.56.25;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2013.07.18.16.54.08;	author tobiasu;	state Exp;
branches;
next	1.8;

1.8
date	2013.06.13.06.44.08;	author landry;	state Exp;
branches;
next	1.7;

1.7
date	2013.06.07.07.54.23;	author pascal;	state Exp;
branches;
next	1.6;

1.6
date	2012.11.06.00.57.43;	author tobiasu;	state Exp;
branches;
next	1.5;

1.5
date	2012.03.31.20.02.03;	author pascal;	state Exp;
branches;
next	1.4;

1.4
date	2012.01.23.15.34.01;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2011.12.08.17.40.55;	author pascal;	state Exp;
branches;
next	1.2;

1.2
date	2011.11.14.18.50.25;	author pascal;	state Exp;
branches;
next	1.1;

1.1
date	2011.11.14.13.00.55;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.11.14.13.00.55;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.17
log
@Add gnat for alpha. Because we can.

ok pascal@@
@
text
@SHA256 (gcc/adastrap-alpha-4.6.4-4.tar.xz) = bj+2V3LMlNCAwS24IVvGxDBBnNl34M22CWhkwMIzXDU=
SHA256 (gcc/adastrap-amd64-4.6.4-4.tar.xz) = W7bUWobcq5yaR7NgR2+X9IeEPlDMTivafQ/Mcmz3btk=
SHA256 (gcc/adastrap-hppa-4.6.4-4.tar.xz) = UBMnVz4iANSV0IOGdFGPGI7epYZK+TRAYf3vXOa/584=
SHA256 (gcc/adastrap-i386-4.6.4-4.tar.xz) = DpHZc7Ibkrt3uO8BA3j7VgZaTsgMIg6UWzlk9ggu8Qk=
SHA256 (gcc/adastrap-sparc64-4.6.4-4.tar.xz) = T1UMuUloajJY68QWnddbhuYGqpdxmZik1I3kY+l49oI=
SHA256 (gcc/ecj-4.5.jar) = mP0Sjx03TZ5C/Z1INr3SScbVEevGwN8X+8G535bD14E=
SHA256 (gcc/gcc-4.6.4.tar.bz2) = Na8Wr6C2evm46xXK+3bSvF9WhUBVJSL13CyI3UXZd+g=
SIZE (gcc/adastrap-alpha-4.6.4-4.tar.xz) = 15746380
SIZE (gcc/adastrap-amd64-4.6.4-4.tar.xz) = 19677348
SIZE (gcc/adastrap-hppa-4.6.4-4.tar.xz) = 13330664
SIZE (gcc/adastrap-i386-4.6.4-4.tar.xz) = 18556144
SIZE (gcc/adastrap-sparc64-4.6.4-4.tar.xz) = 13904728
SIZE (gcc/ecj-4.5.jar) = 1470676
SIZE (gcc/gcc-4.6.4.tar.bz2) = 72006076
@


1.16
log
@Provide hppa adastrap for GNAT. Hehe...
@
text
@d1 1
d8 1
@


1.15
log
@Repair time/delay/duration time_t issues in gnat. All direct imports of
C functions have been modified to use same-size types on both sides.
There are no checks in gcc to make sure the types match, and it happily
trashes the stack or reads bogus data without this fix.

The C shim in gnatlib is still casting down to long (by design), thus
gnat is not 2038-proof on 32 bit architectures. Fixing this is an
ongoing project, but I'm running out of time for this release.

Getting the timezone offset is now supported; the unused usleep
procedure that snuck in from FreeBSD support got removed.

Tested on all supported architectures, plus new bootstraps due to the
stack trashing, just in case...

Conceptually fine with brad@@
deraadt@@ is unhappy with the partial solution, fixing this remains a
high priority todo
@
text
@d2 1
d8 1
@


1.14
log
@New sparc64 adastrap
@
text
@d1 3
a3 3
SHA256 (gcc/adastrap-amd64-4.6.4-3.tar.xz) = C6WLt25QtQvzPvas+IiKZKTQgce0WgW0sXunetxihcg=
SHA256 (gcc/adastrap-i386-4.6.4-3.tar.xz) = OS8X16WSASH6aujJhY3x4AWWu2oStJ3VdAxbszkX48o=
SHA256 (gcc/adastrap-sparc64-4.6.4-3.tar.xz) = +dMWKALgebV8UMEZcSAwV7swmHsBWMaQWKDliMcI6lc=
d6 3
a8 3
SIZE (gcc/adastrap-amd64-4.6.4-3.tar.xz) = 19676880
SIZE (gcc/adastrap-i386-4.6.4-3.tar.xz) = 17405164
SIZE (gcc/adastrap-sparc64-4.6.4-3.tar.xz) = 13902500
@


1.13
log
@new i386 bootstraps
@
text
@d3 1
a3 1
SHA256 (gcc/adastrap-sparc64-4.6.4-2.tar.xz) = sjzrkYiIsWU5i5L9lh5ic3DBMl3tUGO57p6rdtJQ3+E=
d8 1
a8 1
SIZE (gcc/adastrap-sparc64-4.6.4-2.tar.xz) = 13913496
@


1.12
log
@new adastrap for amd64 WITHOUT the fixed-includes

(and moved an rm out of a loop)
@
text
@d2 1
a2 1
SHA256 (gcc/adastrap-i386-4.6.4-2.tar.xz) = k9H2+YCwrXEM2X7jOvSar2nXalpcnidNwP2v7Og8Dc4=
d7 1
a7 1
SIZE (gcc/adastrap-i386-4.6.4-2.tar.xz) = 17412668
@


1.11
log
@New adastraps for sparc64.
@
text
@d1 1
a1 1
SHA256 (gcc/adastrap-amd64-4.6.4-2.tar.xz) = iYHCJPQyjdTw06rZeMzqPYdldhzVQWe5ER99EJIs1vA=
d6 1
a6 1
SIZE (gcc/adastrap-amd64-4.6.4-2.tar.xz) = 19690608
@


1.10
log
@new bootstraps for amd64/i386, on a temporary mirror for now.
@
text
@d3 1
a3 1
SHA256 (gcc/adastrap-sparc64-4.6.4-1.tar.xz) = 1eC6VISBLa7kAIs9Q9Z4AYYWVay6tjURbXbCYNc8xdE=
d8 1
a8 1
SIZE (gcc/adastrap-sparc64-4.6.4-1.tar.xz) = 13923148
@


1.9
log
@ * Use SJLJ exections instead of ZCX in the hope of fixing
   intermittent build problems. Exception style affects Ada only.
 * Add better tasking support and sync OpenBSD specific changes from 4.8.
 * Call __errno() from librthread when using pthreads (Tero Koskinen)
 * Enable shared library support for OpenBSD (Tero Koskinen)

bulk tested by landry@@ and sthen@@
ok pascal@@

sorry for the delay guys
@
text
@d1 2
a2 2
SHA256 (gcc/adastrap-amd64-4.6.4-1.tar.xz) = tMDS9eynbZ4g0rP9MKuZLO3vGaeFZJbVcUQLfmfmlmk=
SHA256 (gcc/adastrap-i386-4.6.4-1.tar.xz) = eW7/78FiPI8cY65OVe3xrBBihIYZWibEORhVZgfXRC4=
d6 2
a7 2
SIZE (gcc/adastrap-amd64-4.6.4-1.tar.xz) = 19698144
SIZE (gcc/adastrap-i386-4.6.4-1.tar.xz) = 17413708
@


1.8
log
@Fix gcc's on sparc64 by using a regen'ed ada boostrap. From tobiasu@@
@
text
@d1 3
a3 3
SHA256 (gcc/adastrap-amd64-4.6.4-0.tar.xz) = FaMmOsYXOHmpHk6WbGJKYel2xRB2jWxqj9gSPIlnV1I=
SHA256 (gcc/adastrap-i386-4.6.4-0.tar.xz) = fTA6k/Fe/CDpglx+fJF19FMbUeyfL8i8SS5fZP9CqIQ=
SHA256 (gcc/adastrap-sparc64-4.6.4-0.tar.xz) = t8pysknAEQ9i5eZ2MjAiYpv07QpKwq9Idwaebv0HaeE=
d6 3
a8 3
SIZE (gcc/adastrap-amd64-4.6.4-0.tar.xz) = 25842056
SIZE (gcc/adastrap-i386-4.6.4-0.tar.xz) = 22433560
SIZE (gcc/adastrap-sparc64-4.6.4-0.tar.xz) = 13607908
@


1.7
log
@Update to GCC 4.6.4.  tested by and adastrap-sparc64 built by tobiasu@@
@
text
@d3 1
a3 1
SHA256 (gcc/adastrap-sparc64-4.6.4-0.tar.xz) = 47Y5CrjN0iCV7ZwtXXoqdyq1W93a1lX4FbaCxqi638o=
d8 1
a8 1
SIZE (gcc/adastrap-sparc64-4.6.4-0.tar.xz) = 13596292
@


1.6
log
@Add Ada support on amd64 and sparc64

Also unbreak and improve adastrap generation
Cleanup bootstrap libc handling

ok pascal@@
@
text
@d1 3
a3 3
SHA256 (gcc/adastrap-amd64-4.6.3-0.tar.xz) = ERQ13M2trP3g8RHRWTuP3xpRvSsdunVsjngys9+6XUM=
SHA256 (gcc/adastrap-i386-4.6.3-0.tar.xz) = b5+DW9S4owsMIiWLIJTFxbjLzYBBEj6W2mv9AfRIG2w=
SHA256 (gcc/adastrap-sparc64-4.6.3-0.tar.xz) = Jc8cIUq+YZf1sQkFqjRWfxmwp9gQSjdSt0kshuHW0uk=
d5 4
a8 4
SHA256 (gcc/gcc-4.6.3.tar.bz2) = 6PWFPU7sL166+Kcq5NU8Q2qs+YFTskmfhjW0jEcYoJM=
SIZE (gcc/adastrap-amd64-4.6.3-0.tar.xz) = 25762076
SIZE (gcc/adastrap-i386-4.6.3-0.tar.xz) = 22075992
SIZE (gcc/adastrap-sparc64-4.6.3-0.tar.xz) = 20885416
d10 1
a10 1
SIZE (gcc/gcc-4.6.3.tar.bz2) = 71999439
@


1.5
log
@Update to gcc 4.6.3.

Also, sync a bit with base gcc:
- disable unsafe builtins
- disable -Wpointer-sign in -Wall
- move -fstrict-aliasing to -O3, disable -fstrict-overflow and
  -fdelete-null-pointer-checks
- enable -Wsystem-headers
- default to march=i486 on i386
- fix crtsavres on powerpc
- sync sparc64 config
- implement -Wvariable-decl, -Wstack-larger-than-N (alpha, amd64, i386, sparc,
  sparc64), -Wtrampolines, -ftrampolines
- default to -fno-ident
- fix -rdynamic by passing -export-dynamic to ld(1)

some bits from Brad, others from me.

tested by myself and jsg@@, adastrap now hosted by sthen@@ (thanks).

ok jsg@@ sthen@@
@
text
@d1 1
a1 9
MD5 (gcc/adastrap-i386-4.6.3-0.tar.xz) = h3oa6vXJhsLyHMGSyQdGpg==
MD5 (gcc/ecj-4.5.jar) = 181qJ8iAHmbLqpZKA57P2w==
MD5 (gcc/gcc-4.6.3.tar.bz2) = dzCS/lGUNTsCuwEQBSqXLg==
RMD160 (gcc/adastrap-i386-4.6.3-0.tar.xz) = gp0rq+VpuV1tiRT+YLLs+fCYFCQ=
RMD160 (gcc/ecj-4.5.jar) = 0/TaZX8Ia2Qj906T8AETL0hVNoo=
RMD160 (gcc/gcc-4.6.3.tar.bz2) = mrsvlA0I/ITy2RtqbOjWYsqIkmk=
SHA1 (gcc/adastrap-i386-4.6.3-0.tar.xz) = LaVcCPxDBBeZnD8tr+3+pgXxyzU=
SHA1 (gcc/ecj-4.5.jar) = WMHXnGTIzXGFUPMqkyzP3o0eZEk=
SHA1 (gcc/gcc-4.6.3.tar.bz2) = zjF8pcgYW1i8kwAYK1NGCMV4Y38=
d3 1
d6 1
d8 1
@


1.4
log
@like for 4.2, bundle a libc with adastrap.
cheat a bit: bundle the libc from 5.0, and pretend it's the one we built
with... (to be cleaned next time someone bootstraps ada)
@
text
@d1 1
a1 1
MD5 (gcc/adastrap-i386-4.6.2-4.tar.xz) = FibxHoV1fg6jBcsB3D7DeA==
d3 2
a4 2
MD5 (gcc/gcc-4.6.2.tar.bz2) = AoEVxPv7bP111jafSpDYfg==
RMD160 (gcc/adastrap-i386-4.6.2-4.tar.xz) = YXEXTT1xsciAWS0MQaY4bMLPRVw=
d6 2
a7 2
RMD160 (gcc/gcc-4.6.2.tar.bz2) = 5wQZM7OWKflSSEjc+BoaTAKiJcY=
SHA1 (gcc/adastrap-i386-4.6.2-4.tar.xz) = zDgUMphqiUrZWX2uC+3hWHkjVlY=
d9 2
a10 2
SHA1 (gcc/gcc-4.6.2.tar.bz2) = aRl0YTscHxXtAYLsU5+lShLdb5M=
SHA256 (gcc/adastrap-i386-4.6.2-4.tar.xz) = Cxx6UgMtW6Y4jWvomF9CBGrs4um2+M4aoINKZEUO2Wc=
d12 2
a13 2
SHA256 (gcc/gcc-4.6.2.tar.bz2) = YLBUY9/hjUDWj7inGyW0CKAfhsxs6vXmsiI4trD0UMI=
SIZE (gcc/adastrap-i386-4.6.2-4.tar.xz) = 45729588
d15 1
a15 1
SIZE (gcc/gcc-4.6.2.tar.bz2) = 71995338
@


1.3
log
@- fix openbsd threads in boehm-gc; fixes egcj-dbtool (or, for that matter,
any gcj-compiled program)
- link boehm-gc with -pthread
- download and install ecj.jar (required by gcj)
- plist fixes
@
text
@d1 1
a1 1
MD5 (gcc/adastrap-i386-4.6.2-3.tar.xz) = WGwmZOp1WyBbuEzHMY7PNg==
d4 1
a4 1
RMD160 (gcc/adastrap-i386-4.6.2-3.tar.xz) = YpNBjGOnlvqIzT7gkkZuzlGSNlA=
d7 1
a7 1
SHA1 (gcc/adastrap-i386-4.6.2-3.tar.xz) = mLVRYSqBDeKINW1DWzocFua9a9A=
d10 1
a10 1
SHA256 (gcc/adastrap-i386-4.6.2-3.tar.xz) = 5vvqHK+D/U+fW87Sw6ZSsZZd4RhY50KFc1QWxaBwK48=
d13 1
a13 1
SIZE (gcc/adastrap-i386-4.6.2-3.tar.xz) = 44989516
@


1.2
log
@new (now working) adastrap
@
text
@d2 1
d5 1
d8 1
d11 1
d14 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
MD5 (gcc/adastrap-i386-4.6.2-3.tar.xz) = gk+1mKHi2grjJikT4HI1yw==
d3 1
a3 1
RMD160 (gcc/adastrap-i386-4.6.2-3.tar.xz) = vC2LSSwF6SPKL6pVC9gcNCzAYvU=
d5 1
a5 1
SHA1 (gcc/adastrap-i386-4.6.2-3.tar.xz) = TJOl/OuRJR7617xacumgXzoGtqQ=
d7 1
a7 1
SHA256 (gcc/adastrap-i386-4.6.2-3.tar.xz) = lnf8i2DBvRW4eGAxzIvuTf6Pk5q0C9qfy47c0esaCN4=
d9 1
a9 1
SIZE (gcc/adastrap-i386-4.6.2-3.tar.xz) = 45304576
@


1.1.1.1
log
@now import for real, sorry ...
@
text
@@
