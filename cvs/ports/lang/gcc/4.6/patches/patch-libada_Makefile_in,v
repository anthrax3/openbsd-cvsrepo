head	1.1;
access;
symbols
	OPENBSD_6_0:1.1.0.10
	OPENBSD_6_0_BASE:1.1
	OPENBSD_5_9:1.1.0.6
	OPENBSD_5_9_BASE:1.1
	OPENBSD_5_8:1.1.0.8
	OPENBSD_5_8_BASE:1.1
	OPENBSD_5_7:1.1.0.4
	OPENBSD_5_7_BASE:1.1
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2014.05.01.23.08.26;	author tobiasu;	state Exp;
branches;
next	;


desc
@@


1.1
log
@Add gnat for alpha. Because we can.

ok pascal@@
@
text
@$OpenBSD$

Right above this patch hunk is this amusing comment:
# The tedious process of getting CFLAGS right.

Nice try!

GNATLIBCFLAGS can't be set via configure and ADA_CFLAGS is not set by default.
This patch should retain default behavior while allowing to change e.g.
optimization level when needed.

--- libada/Makefile.in.orig	Thu May  1 21:56:49 2014
+++ libada/Makefile.in	Thu May  1 21:58:40 2014
@@@@ -63,7 +63,7 @@@@ GCC_WARN_CFLAGS = $(LOOSE_WARN)
 WARN_CFLAGS = @@warn_cflags@@
 
 TARGET_LIBGCC2_CFLAGS=
-GNATLIBCFLAGS= -g -O2
+GNATLIBCFLAGS= -g -O2 $(ADA_CFLAGS)
 GNATLIBCFLAGS_FOR_C = $(GNATLIBCFLAGS) $(TARGET_LIBGCC2_CFLAGS) -fexceptions \
 	-DIN_RTS @@have_getipinfo@@
 
@
