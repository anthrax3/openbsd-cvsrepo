head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.18
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.16
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.14
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.10
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.12
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.8
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.6
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.1.0.6
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.4
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2013.06.07.07.54.24;	author pascal;	state Exp;
branches;
next	1.1;

1.1
date	2011.11.19.22.19.53;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to GCC 4.6.4.  tested by and adastrap-sparc64 built by tobiasu@@
@
text
@$OpenBSD: patch-libgo_Makefile_in,v 1.1 2011/11/19 22:19:53 pascal Exp $
--- libgo/Makefile.in.orig	Thu Sep 20 16:55:03 2012
+++ libgo/Makefile.in	Sat Apr 13 16:20:33 2013
@@@@ -954,7 +954,7 @@@@ go_netchan_files = \
 @@LIBGO_IS_386_TRUE@@@@LIBGO_IS_SOLARIS_TRUE@@go_os_dir_file = go/os/dir_largefile.go
 @@LIBGO_IS_LINUX_FALSE@@@@LIBGO_IS_SOLARIS_FALSE@@go_os_dir_file = go/os/dir_regfile.go
 @@LIBGO_IS_LINUX_TRUE@@@@LIBGO_IS_SOLARIS_FALSE@@go_os_dir_file = go/os/dir_largefile.go
-@@LIBGO_IS_LINUX_FALSE@@@@LIBGO_IS_RTEMS_FALSE@@@@LIBGO_IS_SOLARIS_FALSE@@go_os_sys_file = go/os/sys_bsd.go
+@@LIBGO_IS_LINUX_FALSE@@@@LIBGO_IS_OPENBSD_TRUE@@go_os_sys_file = go/os/sys_uname.go
 @@LIBGO_IS_LINUX_FALSE@@@@LIBGO_IS_RTEMS_TRUE@@@@LIBGO_IS_SOLARIS_FALSE@@go_os_sys_file = go/os/sys_uname.go
 @@LIBGO_IS_LINUX_FALSE@@@@LIBGO_IS_SOLARIS_TRUE@@go_os_sys_file = go/os/sys_uname.go
 @@LIBGO_IS_LINUX_TRUE@@go_os_sys_file = go/os/sys_linux.go
@@@@ -1651,13 +1651,14 @@@@ libgo_la_LIBADD = \
 libgobegin_a_SOURCES = \
 	runtime/go-main.c
 
+include $(top_srcdir)/../libversions
 LTLDFLAGS = $(shell $(SHELL) $(top_srcdir)/../libtool-ldflags $(LDFLAGS))
 AM_GOCFLAGS = $(STRINGOPS_FLAG)
 GOCOMPILE = $(GOC) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_GOCFLAGS) $(GOCFLAGS)
 LTGOCOMPILE = $(LIBTOOL) --tag GO --mode=compile $(GOC) $(INCLUDES) \
 	$(AM_GOCFLAGS) $(GOCFLAGS)
 
-GOLINK = $(LIBTOOL) --tag GO --mode-link $(GOC) \
+GOLINK = $(LIBTOOL) --tag GO --mode-link $(GOC) $(LIBgo_LTVERSION) \
 	$(OPT_LDFLAGS) $(SECTION_LDFLAGS) $(AM_GOCFLAGS) $(LTLDFLAGS) -o $@@
 
 
@


1.1
log
@- add Go support (only tested on amd64, but I'd be surprised if it broke
  anywhere else.  The only thing not supported yet is tracing using ptrace(2).
- clean up Makefile and restructure a bit
- VMEM_WARNING when -java is built
- some minor PLIST tweaks

ok espie@@
@
text
@d1 4
a4 4
$OpenBSD$
--- libgo/Makefile.in.orig	Fri Mar 11 02:00:15 2011
+++ libgo/Makefile.in	Sat Nov 19 04:20:59 2011
@@@@ -1040,7 +1040,7 @@@@ go_netchan_files = \
d13 1
a13 1
@@@@ -1737,13 +1737,14 @@@@ libgo_la_LIBADD = \
@

