head	1.1;
branch	1.1.1;
access;
symbols
	OPENBSD_6_2:1.1.1.1.0.4
	OPENBSD_6_2_BASE:1.1.1.1
	OPENBSD_6_1:1.1.1.1.0.2
	OPENBSD_6_1_BASE:1.1.1.1
	pascal_20160904:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.1
date	2016.09.04.16.20.16;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;
commitid	kt4pzu6QIrUczPNq;

1.1.1.1
date	2016.09.04.16.20.16;	author pascal;	state Exp;
branches;
next	;
commitid	kt4pzu6QIrUczPNq;


desc
@@



1.1
log
@Initial revision
@
text
@$OpenBSD: patch-libffi_src_closures_c,v 1.1 2016/05/28 16:06:14 sthen Exp $
--- libffi/src/closures.c.orig	Mon Jan 12 17:19:59 2015
+++ libffi/src/closures.c	Tue Aug 23 15:48:20 2016
@@@@ -525,6 +525,7 @@@@ dlmmap (void *start, size_t length, int prot,
   printf ("mapping in %zi\n", length);
 #endif
 
+#if 0
   if (execfd == -1 && is_emutramp_enabled ())
     {
       ptr = mmap (start, length, prot & ~PROT_EXEC, flags, fd, offset);
@@@@ -543,6 +544,7 @@@@ dlmmap (void *start, size_t length, int prot,
 	 with ((prot & ~PROT_WRITE) | PROT_EXEC) and mremap with
 	 MREMAP_DUP and prot at this point.  */
     }
+#endif
 
   if (execsize == 0 || execfd == -1)
     {
@


1.1.1.1
log
@Import GCC 6.2.0.

ok espie@@
@
text
@@
