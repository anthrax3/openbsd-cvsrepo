head	1.2;
access;
symbols
	OPENBSD_6_0:1.1.1.1.0.10
	OPENBSD_6_0_BASE:1.1.1.1
	OPENBSD_5_9:1.1.1.1.0.6
	OPENBSD_5_9_BASE:1.1.1.1
	OPENBSD_5_8:1.1.1.1.0.8
	OPENBSD_5_8_BASE:1.1.1.1
	OPENBSD_5_7:1.1.1.1.0.4
	OPENBSD_5_7_BASE:1.1.1.1
	OPENBSD_5_6:1.1.1.1.0.2
	OPENBSD_5_6_BASE:1.1.1.1
	pascal_20140626:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2016.09.01.17.30.33;	author pascal;	state Exp;
branches;
next	1.1;
commitid	89C4KSGtZfazLOn6;

1.1
date	2014.06.26.16.30.17;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;
commitid	P7PY1UTti0Albpwh;

1.1.1.1
date	2014.06.26.16.30.17;	author pascal;	state Exp;
branches;
next	;
commitid	P7PY1UTti0Albpwh;


desc
@@


1.2
log
@Update to GCC 4.9.4.

No fallout in naddy@@'s bulk.
@
text
@$OpenBSD: patch-libiberty_cp-demangle_c,v 1.1.1.1 2014/06/26 16:30:17 pascal Exp $
--- libiberty/cp-demangle.c.orig	Thu May 19 14:05:41 2016
+++ libiberty/cp-demangle.c	Sat Aug  6 19:33:19 2016
@@@@ -4057,7 +4057,7 @@@@ static inline void
 d_append_num (struct d_print_info *dpi, int l)
 {
   char buf[25];
-  sprintf (buf,"%d", l);
+  snprintf (buf, 25, "%d", l);
   d_append_string (dpi, buf);
 }
 
@@@@ -6052,7 +6052,7 @@@@ __cxa_demangle (const char *mangled_name, char *output
     {
       if (strlen (demangled) < *length)
 	{
-	  strcpy (output_buffer, demangled);
+	  strlcpy (output_buffer, demangled, *length);
 	  free (demangled);
 	  demangled = output_buffer;
 	}
@


1.1
log
@Initial revision
@
text
@d1 5
a5 5
$OpenBSD: patch-libiberty_cp-demangle_c,v 1.2 2013/06/07 07:55:22 pascal Exp $
--- libiberty/cp-demangle.c.orig	Tue Jan 28 20:06:44 2014
+++ libiberty/cp-demangle.c	Fri Feb 14 20:24:55 2014
@@@@ -4005,7 +4005,7 @@@@ static inline void
 d_append_num (struct d_print_info *dpi, long l)
d8 2
a9 2
-  sprintf (buf,"%ld", l);
+  snprintf (buf, 25, "%ld", l);
d13 1
a13 1
@@@@ -5949,7 +5949,7 @@@@ __cxa_demangle (const char *mangled_name, char *output
@


1.1.1.1
log
@Import GCC 4.9, sparc64 test and ok tobiasu@@
@
text
@@
