head	1.6;
access;
symbols
	OPENBSD_6_0:1.4.0.4
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.6
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.2
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.1.1.1.0.2
	OPENBSD_5_6_BASE:1.1.1.1
	pascal_20140626:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2016.09.15.10.22.10;	author pascal;	state Exp;
branches;
next	1.5;
commitid	4SxNgGHN5MHnP8uD;

1.5
date	2016.09.01.17.30.33;	author pascal;	state Exp;
branches;
next	1.4;
commitid	89C4KSGtZfazLOn6;

1.4
date	2015.09.24.22.29.59;	author tobiasu;	state Exp;
branches;
next	1.3;
commitid	BPJlFiP747TPeumN;

1.3
date	2014.11.12.10.56.59;	author tobiasu;	state Exp;
branches;
next	1.2;
commitid	WoBcSdgLkHQQGkFt;

1.2
date	2014.08.25.09.57.04;	author tobiasu;	state Exp;
branches;
next	1.1;
commitid	RO4dcLjbUpWDv8QX;

1.1
date	2014.06.26.16.30.17;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;
commitid	P7PY1UTti0Albpwh;

1.1.1.1
date	2014.06.26.16.30.17;	author pascal;	state Exp;
branches;
next	;
commitid	P7PY1UTti0Albpwh;


desc
@@


1.6
log
@Convert to arm EABI.  Drop ada support for now until someone re-bootstraps it.
@
text
@$OpenBSD: patch-libgcc_config_host,v 1.5 2016/09/01 17:30:33 pascal Exp $
--- libgcc/config.host.orig	Tue May 17 08:22:28 2016
+++ libgcc/config.host	Wed Sep 14 14:44:50 2016
@@@@ -364,6 +364,11 @@@@ arm-wrs-vxworks)
 arm*-*-netbsdelf*)
 	tmake_file="$tmake_file arm/t-arm arm/t-netbsd t-slibgcc-gld-nover"
 	;;
+arm-*-openbsd*)
+	tmake_file="$tmake_file arm/t-arm arm/t-elf arm/t-bpabi"
+	tmake_file="$tmake_file t-softfp-sfdf t-softfp-excl arm/t-softfp t-softfp"
+	unwind_header=config/arm/unwind-arm.h
+	;;
 arm*-*-linux*)			# ARM GNU/Linux with ELF
 	tmake_file="${tmake_file} arm/t-arm t-fixedpoint-gnu-prefix"
 	tmake_file="${tmake_file} arm/t-elf arm/t-bpabi arm/t-linux-eabi t-slibgcc-libgcc"
@@@@ -785,6 +790,12 @@@@ microblaze*-*-rtems*)
 	;;
 mips*-*-netbsd*)			# NetBSD/mips, either endian.
 	;;
+mips64-*-openbsd*)
+       set
+       ;;
+mips64el-*-openbsd*)
+       set
+       ;;
 mips*-*-linux*)				# Linux MIPS, either endian.
 	extra_parts="$extra_parts crtfastmath.o"
 	tmake_file="${tmake_file} t-crtfm"
@@@@ -942,6 +953,9 @@@@ powerpc*-*-freebsd*)
 powerpc-*-netbsd*)
 	tmake_file="$tmake_file rs6000/t-netbsd rs6000/t-crtstuff"
 	;;
+powerpc-*-openbsd*)
+	tmake_file="${tmake_file} rs6000/t-ppccomm rs6000/t-crtstuff"
+	;;
 powerpc-*-eabispe*)
 	tmake_file="${tmake_file} rs6000/t-ppccomm rs6000/t-savresfgpr rs6000/t-crtstuff t-crtstuff-pic t-fdpbit"
 	extra_parts="$extra_parts crtbegin.o crtend.o crtbeginS.o crtendS.o crtbeginT.o ecrti.o ecrtn.o ncrti.o ncrtn.o"
@@@@ -1088,6 +1102,8 @@@@ sh-wrs-vxworks)
 	tmake_file="$tmake_file sh/t-sh t-crtstuff-pic t-fdpbit"
 	;;
 sparc-*-netbsdelf*)
+	;;
+sparc-*-openbsd*)
 	;;
 sparc64-*-openbsd*)
 	;;
@


1.5
log
@Update to GCC 4.9.4.

No fallout in naddy@@'s bulk.
@
text
@d1 1
a1 1
$OpenBSD: patch-libgcc_config_host,v 1.4 2015/09/24 22:29:59 tobiasu Exp $
d3 2
a4 2
+++ libgcc/config.host	Sat Aug  6 19:19:20 2016
@@@@ -364,6 +364,10 @@@@ arm-wrs-vxworks)
d9 1
a9 1
+	tmake_file="$tmake_file arm/t-arm arm/t-elf"
d11 1
d16 1
a16 1
@@@@ -785,6 +789,12 @@@@ microblaze*-*-rtems*)
d29 1
a29 1
@@@@ -942,6 +952,9 @@@@ powerpc*-*-freebsd*)
d39 1
a39 1
@@@@ -1088,6 +1101,8 @@@@ sh-wrs-vxworks)
@


1.4
log
@Ada support for mips64, powerpc and sparc

- mips64el bits included, need access to bootstrap machine
- sync system-openbsd-*.ads, remove obsolete stuff

Building on sparc requires a recent (21/09) kernel
Tested on hppa mips64 powerpc sparc and sparc64

ok pascal@@
@
text
@d1 3
a3 3
$OpenBSD: patch-libgcc_config_host,v 1.3 2014/11/12 10:56:59 tobiasu Exp $
--- libgcc/config.host.orig	Thu Mar 27 16:40:31 2014
+++ libgcc/config.host	Thu Sep 17 08:19:38 2015
d28 1
a28 1
@@@@ -947,6 +957,9 @@@@ powerpc*-*-freebsd*)
d38 1
a38 1
@@@@ -1093,6 +1106,8 @@@@ sh-wrs-vxworks)
@


1.3
log
@Add ARM support to gcc 4.9

Marked broken because it uses instructions the default binutils don't
understand. The port itself seems to work.

I will probably post the update instructions to arm@@ for those that are
interested in playing with this.

ok pascal@@ a long time ago
@
text
@d1 1
a1 1
$OpenBSD: patch-libgcc_config_host,v 1.2 2014/08/25 09:57:04 tobiasu Exp $
d3 1
a3 1
+++ libgcc/config.host	Tue Sep 30 19:50:35 2014
d33 1
a33 1
+	tmake_file="$tmake_file rs6000/t-crtstuff"
@


1.2
log
@Add sparc backend to gcc 4.9.1

Build time: 3.5 days @@ 150MHz
I do take 200MHz HyperSPARC and memory donations :-)

OK pascal@@
@
text
@d1 1
a1 1
$OpenBSD: patch-libgcc_config_host,v 1.1.1.1 2014/06/26 16:30:17 pascal Exp $
d3 13
a15 2
+++ libgcc/config.host	Thu Aug 21 14:17:52 2014
@@@@ -785,6 +785,12 @@@@ microblaze*-*-rtems*)
d28 1
a28 1
@@@@ -947,6 +953,9 @@@@ powerpc*-*-freebsd*)
d38 1
a38 1
@@@@ -1093,6 +1102,8 @@@@ sh-wrs-vxworks)
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-libgcc_config_host,v 1.1.1.1 2013/04/08 08:20:25 pascal Exp $
d3 1
a3 1
+++ libgcc/config.host	Thu Jun  5 15:19:40 2014
d17 1
a17 2
@@@@ -946,6 +952,9 @@@@ powerpc*-*-freebsd*)
 	;;
d20 1
a20 1
+	;;
d23 1
a23 1
 	;;
d26 10
@


1.1.1.1
log
@Import GCC 4.9, sparc64 test and ok tobiasu@@
@
text
@@
