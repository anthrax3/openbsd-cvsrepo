head	1.4;
access;
symbols
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.26
	OPENBSD_5_0:1.3.0.24
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.22
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.20
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.18
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.16
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.14
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.12
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.10
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.8
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.6
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.4
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_9:1.3.0.2
	OPENBSD_3_9_BASE:1.3
	OPENBSD_3_8:1.1.0.2
	OPENBSD_3_8_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2012.04.23.15.17.56;	author pascal;	state dead;
branches;
next	1.3;

1.3
date	2006.01.09.15.31.47;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2005.10.20.23.28.02;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2005.06.16.18.04.41;	author espie;	state Exp;
branches;
next	;


desc
@@


1.4
log
@tedu old versions of gcc

ok kurt@@ espie@@ sthen@@
@
text
@$OpenBSD: patch-libgfortran_io_transfer_c,v 1.3 2006/01/09 15:31:47 espie Exp $
--- libgfortran/io/transfer.c.orig	Tue Dec 20 07:06:28 2005
+++ libgfortran/io/transfer.c	Mon Jan  9 13:36:29 2006
@@@@ -1739,7 +1739,7 @@@@ st_set_nml_var (void * var_addr, char * 
   nml->mem_pos = var_addr;
 
   nml->var_name = (char*) get_mem (strlen (var_name) + 1);
-  strcpy (nml->var_name, var_name);
+  strlcpy (nml->var_name, var_name, strlen (var_name) + 1);
 
   nml->len = (int) len;
   nml->string_length = (index_type) string_length;
@


1.3
log
@newer snapshot, and enough for SHARED_LIBS...
@
text
@d1 1
a1 1
$OpenBSD: patch-libgfortran_io_transfer_c,v 1.2 2005/10/20 23:28:02 espie Exp $
@


1.2
log
@Update to more recent snapshot
@
text
@d1 4
a4 4
$OpenBSD: patch-libgfortran_io_transfer_c,v 1.1 2005/06/16 18:04:41 espie Exp $
--- libgfortran/io/transfer.c.orig	Thu Sep 29 17:41:00 2005
+++ libgfortran/io/transfer.c	Tue Oct  4 02:01:18 2005
@@@@ -1721,7 +1721,7 @@@@ st_set_nml_var (void * var_addr, char * 
@


1.1
log
@zap strcpy/strcat/sprintf in gfortran.
@
text
@d1 4
a4 4
$OpenBSD$
--- libgfortran/io/transfer.c.orig	Thu Jun 16 13:12:11 2005
+++ libgfortran/io/transfer.c	Thu Jun 16 13:12:50 2005
@@@@ -1633,7 +1633,7 @@@@ st_set_nml_var (void * var_addr, char * 
@

