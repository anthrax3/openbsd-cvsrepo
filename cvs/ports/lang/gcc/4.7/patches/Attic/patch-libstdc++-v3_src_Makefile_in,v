head	1.4;
access;
symbols
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	pascal_20120423:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2013.06.18.21.06.54;	author espie;	state dead;
branches;
next	1.3;

1.3
date	2013.06.07.07.54.47;	author pascal;	state Exp;
branches;
next	1.2;

1.2
date	2012.07.01.18.56.45;	author pascal;	state Exp;
branches;
next	1.1;

1.1
date	2012.04.23.15.56.42;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.04.23.15.56.42;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.4
log
@bye bye
@
text
@$OpenBSD: patch-libstdc++-v3_src_Makefile_in,v 1.3 2013/06/07 07:54:47 pascal Exp $
--- libstdc++-v3/src/Makefile.in.orig	Mon Dec 10 10:09:44 2012
+++ libstdc++-v3/src/Makefile.in	Thu Apr 11 13:44:28 2013
@@@@ -333,8 +333,10 @@@@ WARN_CXXFLAGS = \
 AM_CPPFLAGS = $(GLIBCXX_INCLUDES)
 SUBDIRS = c++98 c++11
 
+include $(top_srcdir)/../libversions
+
 # Cross compiler support.
-toolexeclib_LTLIBRARIES = libstdc++.la
+toolexeclib_LTLIBRARIES = libestdc++.la
 @@GLIBCXX_LDBL_COMPAT_FALSE@@ldbl_compat_sources = 
 @@GLIBCXX_LDBL_COMPAT_TRUE@@ldbl_compat_sources = compatibility-ldbl.cc
 @@ENABLE_PARALLEL_FALSE@@parallel_compat_sources = 
@@@@ -369,7 +371,7 @@@@ libstdc___la_DEPENDENCIES = \
 	$(top_builddir)/src/c++11/libc++11convenience.la
 
 libstdc___la_LDFLAGS = \
-	-version-info $(libtool_VERSION) ${version_arg} -lm
+	$(LIBestdc++_LTVERSION) ${version_arg} -lm
 
 libstdc___la_LINK = $(CXXLINK) $(libstdc___la_LDFLAGS)
 
@@@@ -545,7 +547,7 @@@@ clean-toolexeclibLTLIBRARIES:
 	  echo "rm -f \"$${dir}/so_locations\""; \
 	  rm -f "$${dir}/so_locations"; \
 	done
-libstdc++.la: $(libstdc___la_OBJECTS) $(libstdc___la_DEPENDENCIES) 
+libestdc++.la: $(libstdc___la_OBJECTS) $(libstdc___la_DEPENDENCIES) 
 	$(libstdc___la_LINK) -rpath $(toolexeclibdir) $(libstdc___la_OBJECTS) $(libstdc___la_LIBADD) $(LIBS)
 
 mostlyclean-compile:
@


1.3
log
@Update to GCC 4.7.3.  Also tested by tobiasu@@.
@
text
@d1 1
a1 1
$OpenBSD: patch-libstdc++-v3_src_Makefile_in,v 1.2 2012/07/01 18:56:45 pascal Exp $
@


1.2
log
@Update to gcc 4.7.1.

- add some fixes for hppa, though it still isn't ready for prime time yet.
  Chances are it will only work with -O1, pending testing.  Many optimisations
  lead to broken code and segfaults on hppa.  Joint work with jsg@@.
- fix libstdc++ upgrade path
- bring in recent fixes for execinfo/magic.h from 4.6

ok espie@@
@
text
@d1 4
a4 4
$OpenBSD: patch-libstdc++-v3_src_Makefile_in,v 1.1.1.1 2012/04/23 15:56:42 pascal Exp $
--- libstdc++-v3/src/Makefile.in.orig	Tue Apr 17 02:19:12 2012
+++ libstdc++-v3/src/Makefile.in	Wed Jun 20 14:41:13 2012
@@@@ -331,8 +331,10 @@@@ WARN_CXXFLAGS = \
d16 1
a16 1
@@@@ -367,7 +369,7 @@@@ libstdc___la_DEPENDENCIES = \
d25 1
a25 1
@@@@ -512,7 +514,7 @@@@ clean-toolexeclibLTLIBRARIES:
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD: patch-libstdc++-v3_src_Makefile_in,v 1.1.1.1 2011/11/14 13:00:57 pascal Exp $
--- libstdc++-v3/src/Makefile.in.orig	Tue Feb 28 10:28:18 2012
+++ libstdc++-v3/src/Makefile.in	Mon Apr  2 17:05:31 2012
@@@@ -329,8 +329,10 @@@@ WARN_CXXFLAGS = \
d13 4
a16 4
 libstdc___la_SOURCES = 
 libstdc___la_LIBADD = \
 	$(GLIBCXX_LIBS) \
@@@@ -345,7 +347,7 @@@@ libstdc___la_DEPENDENCIES = \
d25 1
a25 1
@@@@ -484,7 +486,7 @@@@ clean-toolexeclibLTLIBRARIES:
@


1.1.1.1
log
@Import gcc 4.7.

ok espie@@
@
text
@@
