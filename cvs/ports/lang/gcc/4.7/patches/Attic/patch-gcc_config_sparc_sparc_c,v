head	1.4;
access;
symbols
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	pascal_20120423:1.1.1.1
	pascal:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2013.06.18.21.06.54;	author espie;	state dead;
branches;
next	1.3;

1.3
date	2012.09.04.10.11.56;	author pascal;	state Exp;
branches;
next	1.2;

1.2
date	2012.07.01.18.56.45;	author pascal;	state Exp;
branches;
next	1.1;

1.1
date	2012.04.23.15.56.42;	author pascal;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.04.23.15.56.42;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.4
log
@bye bye
@
text
@$OpenBSD: patch-gcc_config_sparc_sparc_c,v 1.3 2012/09/04 10:11:56 pascal Exp $
--- gcc/config/sparc/sparc.c.orig	Fri May  4 00:34:34 2012
+++ gcc/config/sparc/sparc.c	Mon Sep  3 13:10:18 2012
@@@@ -5048,6 +5048,9 @@@@ sparc_expand_prologue (void)
   if (crtl->uses_pic_offset_table)
     load_got_register ();
 
+  if (warn_stack_larger_than && size > stack_larger_than_size)
+    warning (OPT_Wstack_larger_than_, "stack usage is %d bytes", size);
+
   /* Advertise that the data calculated just above are now valid.  */
   sparc_prologue_data_valid_p = true;
 }
@


1.3
log
@adapt a sparc64 patch; still not enough because it decides to segfault in
libgcc.

found by landry@@ in a bulk.  fuck gcc.
@
text
@d1 1
a1 1
$OpenBSD: patch-gcc_config_sparc_sparc_c,v 1.2 2012/07/01 18:56:45 pascal Exp $
@


1.2
log
@Update to gcc 4.7.1.

- add some fixes for hppa, though it still isn't ready for prime time yet.
  Chances are it will only work with -O1, pending testing.  Many optimisations
  lead to broken code and segfaults on hppa.  Joint work with jsg@@.
- fix libstdc++ upgrade path
- bring in recent fixes for execinfo/magic.h from 4.6

ok espie@@
@
text
@d1 1
a1 1
$OpenBSD: patch-gcc_config_sparc_sparc_c,v 1.1.1.1 2012/04/23 15:56:42 pascal Exp $
d3 1
a3 1
+++ gcc/config/sparc/sparc.c	Wed Jun 20 14:39:12 2012
d8 2
a9 2
+  if (warn_stack_larger_than && actual_fsize > stack_larger_than_size)
+    warning (OPT_Wstack_larger_than_, "stack usage is %d bytes", actual_fsize);
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD: patch-gcc_config_sparc_sparc_c,v 1.1 2012/03/31 20:02:03 pascal Exp $
--- gcc/config/sparc/sparc.c.orig	Sat Feb 11 01:14:08 2012
+++ gcc/config/sparc/sparc.c	Mon Apr  2 16:38:17 2012
@@@@ -5043,6 +5043,9 @@@@ sparc_expand_prologue (void)
@


1.1.1.1
log
@Import gcc 4.7.

ok espie@@
@
text
@@
