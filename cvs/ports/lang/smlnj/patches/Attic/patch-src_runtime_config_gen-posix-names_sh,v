head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2013.01.14.16.16.59;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2013.01.13.07.10.09;	author brad;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update to smlnj-110.75

joint work with Alexander Polakov
@
text
@$OpenBSD: patch-src_runtime_config_gen-posix-names_sh,v 1.1 2013/01/13 07:10:09 brad Exp $
--- src/runtime/config/gen-posix-names.sh.orig	Tue Oct 10 17:26:35 2000
+++ src/runtime/config/gen-posix-names.sh	Sat Jan 12 21:22:03 2013
@@@@ -36,12 +36,12 @@@@ if [ "$USED_ENUMS" = "TRUE" ]; then
   /lib/cpp > $INCLFILE <<XXX
 #include <unistd.h>
 XXX
+elif [ -r "/usr/include/unistd.h" ]; then
+  INCLFILE=/usr/include/unistd.h
 elif [ -r "/usr/include/sys/unistd.h" ]; then
   INCLFILE=/usr/include/sys/unistd.h
 elif [ -r "/usr/include/confname.h" ]; then
   INCLFILE=/usr/include/confname.h
-elif [ -r "/usr/include/unistd.h" ]; then
-  INCLFILE=/usr/include/unistd.h
 elif [ -r "/usr/include/bsd/unistd.h" ]; then
   INCLFILE=/usr/include/bsd/unistd.h
 else
@


1.1
log
@Fix the gen-posix-names.sh script to look for the sysconf(3) SC_*
constants from the correct header so as to fix the crashing issue
with smlnj.

From Alexander Polakov <plhk at sdf dot org>

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
@

