head	1.4;
access;
symbols
	OPENBSD_5_7:1.3.0.8
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.6
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.4
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.4
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2015.04.09.17.28.23;	author pascal;	state dead;
branches;
next	1.3;
commitid	RIQUotBAXqXrW90f;

1.3
date	2013.06.02.14.02.59;	author pascal;	state Exp;
branches;
next	1.2;

1.2
date	2012.06.12.08.21.54;	author pascal;	state Exp;
branches;
next	1.1;

1.1
date	2012.05.09.13.50.58;	author pascal;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to NQP 2015.03.  Move to MoarVM backend.  Dyncall patches are not needed
any more.
@
text
@$OpenBSD: patch-3rdparty_dyncall_dyncallback_dyncall_thunk_ppc32_c,v 1.3 2013/06/02 14:02:59 pascal Exp $
--- 3rdparty/dyncall/dyncallback/dyncall_thunk_ppc32.c.orig	Thu May 23 21:11:20 2013
+++ 3rdparty/dyncall/dyncallback/dyncall_thunk_ppc32.c	Sun May 26 19:48:44 2013
@@@@ -25,10 +25,12 @@@@
 
 #include "dyncall_thunk.h"
 
+unsigned short hi16(unsigned int x);
+unsigned short lo16(unsigned int x);
 unsigned short hi16(unsigned int x) { return ( (unsigned short) (((unsigned int)x)>>16UL) ); }
 unsigned short lo16(unsigned int x) { return ( (unsigned short)  ((unsigned int)x)        ); }   
 
-void dcbInitThunk(DCThunk* p, void (*entry)())
+void dcbInitThunk(DCThunk* p, void (*entry)(void))
 {
   /*
     ppc32 thunk code:
@


1.3
log
@Update to 2013.05; ok landry@@
@
text
@d1 1
a1 1
$OpenBSD: patch-3rdparty_dyncall_dyncallback_dyncall_thunk_ppc32_c,v 1.2 2012/06/12 08:21:54 pascal Exp $
@


1.2
log
@Fix NQP on big-endian platforms, tested by landry@@ on both powerpc and sparc64.
Thanks to Jonathan Worthington for coming up with a fix upstream.
Also, add -Werror fixes for powerpc, tested by aja@@.

ok landry@@
@
text
@d1 3
a3 3
$OpenBSD: patch-3rdparty_dyncall_dyncallback_dyncall_thunk_ppc32_c,v 1.1 2012/05/09 13:50:58 pascal Exp $
--- 3rdparty/dyncall/dyncallback/dyncall_thunk_ppc32.c.orig	Wed Apr 25 22:05:34 2012
+++ 3rdparty/dyncall/dyncallback/dyncall_thunk_ppc32.c	Sat Jun  2 17:56:52 2012
d8 4
a11 6
-unsigned short hi16(x) { return ( (unsigned short) (((unsigned int)x)>>16UL) ); }
-unsigned short lo16(x) { return ( (unsigned short)  ((unsigned int)x)        ); }   
+unsigned short hi16(DCThunk *);
+unsigned short lo16(DCThunk *);
+unsigned short hi16(DCThunk* x) { return ( (unsigned short) (((unsigned int)x)>>16UL) ); }
+unsigned short lo16(DCThunk* x) { return ( (unsigned short)  ((unsigned int)x)        ); }   
@


1.1
log
@Update to nqp 2012.04.1.
@
text
@d1 13
a13 6
$OpenBSD$
--- 3rdparty/dyncall/dyncallback/dyncall_thunk_ppc32.c.orig	Wed May  9 15:45:36 2012
+++ 3rdparty/dyncall/dyncallback/dyncall_thunk_ppc32.c	Wed May  9 15:44:50 2012
@@@@ -28,7 +28,7 @@@@
 unsigned short hi16(x) { return ( (unsigned short) (((unsigned int)x)>>16UL) ); }
 unsigned short lo16(x) { return ( (unsigned short)  ((unsigned int)x)        ); }   
@

