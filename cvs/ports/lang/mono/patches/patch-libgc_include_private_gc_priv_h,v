head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.4
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.2
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.3.0.2
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.2.0.4
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.6
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.2
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.1.0.2
	OPENBSD_5_6_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2016.11.07.15.22.38;	author ajacoutot;	state Exp;
branches;
next	1.3;
commitid	VoSH4ndWuPT3uL11;

1.3
date	2016.06.26.10.40.28;	author robert;	state Exp;
branches;
next	1.2;
commitid	YqBeENcK7ZoJnmmW;

1.2
date	2014.12.29.10.49.12;	author robert;	state Exp;
branches;
next	1.1;
commitid	sXBuhXfgcPHWPwW0;

1.1
date	2014.07.09.11.39.17;	author robert;	state Exp;
branches;
next	;
commitid	rfOnxOCfdtnXRGha;


desc
@@


1.4
log
@Pass --without-sigaltstack instead of patching.
Remove checks for old OpenBSD.

ok robert@@ (maintainer)
@
text
@$OpenBSD: patch-libgc_include_private_gc_priv_h,v 1.3 2016/06/26 10:40:28 robert Exp $
--- libgc/include/private/gc_priv.h.orig	Tue Oct 11 14:53:43 2016
+++ libgc/include/private/gc_priv.h	Mon Nov  7 13:38:42 2016
@@@@ -1979,6 +1979,8 @@@@ void GC_err_puts GC_PROTO((GC_CONST char *s));
        /* Linuxthreads itself uses SIGUSR1 and SIGUSR2.			*/
 #      define SIG_SUSPEND SIGPWR
 #    endif
+#   elif defined(GC_OPENBSD_THREADS)
+#     define SIG_SUSPEND SIGXFSZ
 #   else  /* !GC_LINUX_THREADS */
 #     if defined(_SIGRTMIN)
 #       define SIG_SUSPEND _SIGRTMIN + 6
@


1.3
log
@update to 4.4.0.182
@
text
@d1 4
a4 4
$OpenBSD: patch-libgc_include_private_gc_priv_h,v 1.2 2014/12/29 10:49:12 robert Exp $
--- libgc/include/private/gc_priv.h.orig	Thu Jun  9 17:01:54 2016
+++ libgc/include/private/gc_priv.h	Thu Jun 23 19:29:27 2016
@@@@ -1979,6 +1979,10 @@@@ void GC_err_puts GC_PROTO((GC_CONST char *s));
d9 1
a9 3
+#     ifndef GC_OPENBSD_UTHREADS
+#       define SIG_SUSPEND SIGXFSZ
+#     endif
@


1.2
log
@update to 3.10.0
@
text
@d1 4
a4 4
$OpenBSD: patch-libgc_include_private_gc_priv_h,v 1.1 2014/07/09 11:39:17 robert Exp $
--- libgc/include/private/gc_priv.h.orig	Mon Sep 22 15:23:05 2014
+++ libgc/include/private/gc_priv.h	Sun Dec 28 16:22:49 2014
@@@@ -1977,6 +1977,10 @@@@ void GC_err_puts GC_PROTO((GC_CONST char *s));
@


1.1
log
@update to mono-3.4.0
@
text
@d1 4
a4 4
$OpenBSD$
--- libgc/include/private/gc_priv.h.orig	Tue Jul  8 11:44:07 2014
+++ libgc/include/private/gc_priv.h	Tue Jul  8 12:48:45 2014
@@@@ -1973,6 +1973,10 @@@@ void GC_err_puts GC_PROTO((GC_CONST char *s));
@

