head	1.3;
access;
symbols
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2010.04.27.12.39.49;	author robert;	state dead;
branches;
next	1.2;

1.2
date	2010.03.20.17.16.44;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2009.09.06.07.25.27;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to mono 2.6.4;
(a lot of patches are in upstream now)
@
text
@$OpenBSD: patch-mcs_class_System_System_Net_Sockets_Socket_cs,v 1.2 2010/03/20 17:16:44 robert Exp $
--- mcs/class/System/System.Net.Sockets/Socket.cs.orig	Wed Oct 21 14:27:35 2009
+++ mcs/class/System/System.Net.Sockets/Socket.cs	Fri Mar 19 23:29:31 2010
@@@@ -1272,7 +1272,7 @@@@ namespace System.Net.Sockets 
 			}
 
 			int error = 0;
-			if (!blocking) {
+//			if (!blocking) {
 				SocketAddress serial = end_point.Serialize ();
 				Connect_internal (socket, serial, out error);
 				if (error == 0) {
@@@@ -1284,15 +1284,16 @@@@ namespace System.Net.Sockets 
 					connected = false;
 					req.Complete (new SocketException (error), true);
 				}
-			}
+//			}
 
-			if (blocking || error == (int) SocketError.InProgress || error == (int) SocketError.WouldBlock) {
+/*			if (blocking || error == (int) SocketError.InProgress || error == (int) SocketError.WouldBlock) {
 				// continue asynch
 				connected = false;
 				Worker worker = new Worker (req);
 				SocketAsyncCall sac = new SocketAsyncCall (worker.Connect);
 				sac.BeginInvoke (null, req);
 			}
+*/
 
 			return(req);
 		}
@


1.2
log
@- update to the latest stable version: 2.6.3
- move to autoconf
- regen patches

ok ajacoutot@@, jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-mcs_class_System_System_Net_Sockets_Socket_cs,v 1.1 2009/09/06 07:25:27 ajacoutot Exp $
@


1.1
log
@Major update to mono-2.5.
While beeing a development release, this is the most stable version I
used on OpenBSD for now. Several patches are removed as they went
upstream. Thanks to jolan@@ for pointing me at this release and cooking a
couple of patches.

Fix build on powerpc and add it to ONLY_FOR_ARCHS ; slightly tested on
macppc.

A similar port was successfuly tested by jolan@@ on amd64.

no objection alek@@ (maintainer)
ok jolan@@ ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD$
--- mcs/class/System/System.Net.Sockets/Socket.cs.orig	Thu Jul  2 22:22:52 2009
+++ mcs/class/System/System.Net.Sockets/Socket.cs	Tue Sep  1 14:25:03 2009
@@@@ -1278,7 +1278,7 @@@@ namespace System.Net.Sockets 
d13 1
a13 1
@@@@ -1290,15 +1290,16 @@@@ namespace System.Net.Sockets 
@

