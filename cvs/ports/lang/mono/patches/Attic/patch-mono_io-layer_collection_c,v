head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2010.04.27.12.39.49;	author robert;	state dead;
branches;
next	1.1;

1.1
date	2010.04.16.11.59.45;	author robert;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to mono 2.6.4;
(a lot of patches are in upstream now)
@
text
@$OpenBSD: patch-mono_io-layer_collection_c,v 1.1 2010/04/16 11:59:45 robert Exp $
--- mono/io-layer/collection.c.orig	Fri Apr 16 11:26:15 2010
+++ mono/io-layer/collection.c	Fri Apr 16 11:26:24 2010
@@@@ -60,7 +60,7 @@@@ void _wapi_collection_init (void)
 
 #ifdef HAVE_PTHREAD_ATTR_SETSTACKSIZE
         if (set_stacksize == 0) {
-#if defined(__FreeBSD__) || defined(__NetBSD__)
+#if defined(__FreeBSD__) || defined(__NetBSD__) || defined(__OpenBSD__)
                 ret = pthread_attr_setstacksize (&attr, 65536);
 #else
                 ret = pthread_attr_setstacksize (&attr, PTHREAD_STACK_MIN);
@


1.1
log
@Correctly calculate GC_stackbottom on OpenBSD and set the threadstack size
to a high value just like other BSD -s.
@
text
@d1 1
a1 1
$OpenBSD$
@

