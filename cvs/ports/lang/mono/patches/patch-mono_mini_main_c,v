head	1.4;
access;
symbols
	OPENBSD_6_1:1.4.0.4
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.2
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.3.0.6
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.8
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.4
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.2.0.14
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.12
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.10
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.8
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.6
	OPENBSD_5_0:1.2.0.4
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.4
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2016.06.26.10.40.28;	author robert;	state Exp;
branches;
next	1.3;
commitid	YqBeENcK7ZoJnmmW;

1.3
date	2014.07.09.11.39.17;	author robert;	state Exp;
branches;
next	1.2;
commitid	rfOnxOCfdtnXRGha;

1.2
date	2010.10.15.16.21.07;	author robert;	state Exp;
branches;
next	1.1;

1.1
date	2009.09.06.07.25.27;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to 4.4.0.182
@
text
@$OpenBSD: patch-mono_mini_main_c,v 1.3 2014/07/09 11:39:17 robert Exp $
--- mono/mini/main.c.orig	Thu Jun  9 17:01:57 2016
+++ mono/mini/main.c	Thu Jun 23 19:29:27 2016
@@@@ -167,10 +167,14 @@@@ main (void)
 }
 
 #else
-
+#include <sched.h>
 int
 main (int argc, char* argv[])
 {
+#if defined(__powerpc__) && defined (__GLIBC__)
+  unsigned long mask = 1;
+  sched_setaffinity(0, sizeof(mask), &mask);
+#endif
 	mono_build_date = build_date;
 
 	probe_embedded (argv [0], &argc, &argv);
@


1.3
log
@update to mono-3.4.0
@
text
@d1 4
a4 4
$OpenBSD: patch-mono_mini_main_c,v 1.2 2010/10/15 16:21:07 robert Exp $
--- mono/mini/main.c.orig	Mon Mar 31 22:25:10 2014
+++ mono/mini/main.c	Tue Jul  8 10:25:55 2014
@@@@ -113,10 +113,14 @@@@ main (void)
d18 2
a19 2
 	
 	return mono_main_with_options (argc, argv);
@


1.2
log
@Update to mono-2.8;
there might be some breakage but this is the good time to do the update
@
text
@d1 4
a4 4
$OpenBSD: patch-mono_mini_main_c,v 1.1 2009/09/06 07:25:27 ajacoutot Exp $
--- mono/mini/main.c.orig	Tue Oct  5 21:59:29 2010
+++ mono/mini/main.c	Wed Oct 13 18:35:09 2010
@@@@ -88,10 +88,14 @@@@ main ()
@


1.1
log
@Major update to mono-2.5.
While beeing a development release, this is the most stable version I
used on OpenBSD for now. Several patches are removed as they went
upstream. Thanks to jolan@@ for pointing me at this release and cooking a
couple of patches.

Fix build on powerpc and add it to ONLY_FOR_ARCHS ; slightly tested on
macppc.

A similar port was successfuly tested by jolan@@ on amd64.

no objection alek@@ (maintainer)
ok jolan@@ ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD$
--- mono/mini/main.c.orig	Sat Aug 15 03:03:10 2009
+++ mono/mini/main.c	Wed Sep  2 20:31:38 2009
@@@@ -26,10 +26,14 @@@@ main ()
d18 2
a19 2
 	return mono_main (argc, argv);
 }
@

