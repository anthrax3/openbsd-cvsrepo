head	1.3;
access;
symbols
	OPENBSD_5_0:1.1.0.8
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.6
	OPENBSD_4_9_BASE:1.1
	OPENBSD_4_8:1.1.0.4
	OPENBSD_4_8_BASE:1.1
	OPENBSD_4_7:1.1.0.2
	OPENBSD_4_7_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2011.09.07.05.18.05;	author landry;	state dead;
branches;
next	1.2;

1.2
date	2011.09.06.20.58.08;	author rpointel;	state Exp;
branches;
next	1.1;

1.1
date	2010.02.25.11.02.39;	author phessler;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Remove empty patches.
@
text
@@


1.2
log
@Use system libffi on Python 2.5 and 2.7 (except on arm).
ok jasper@@ landry@@ sthen@@.
@
text
@@


1.1
log
@Allow Python to build on loongson.  Bring in some libffi fixes, inspired
by jasper@@'s fixes to the libffi port.

Mark mips64 (aka, sgi) as BROKEN, as the build fails.  We'll look closer
at this after unlock.

OK jasper@@

ports is unlocked for a while only for those who have been informed.
@
text
@a0 17
$OpenBSD$

Allow _ctypes to build on mips64*

--- Modules/_ctypes/libffi/src/mips/ffitarget.h.orig	Thu Mar  9 02:35:32 2006
+++ Modules/_ctypes/libffi/src/mips/ffitarget.h	Tue Feb 23 21:32:09 2010
@@@@ -158,8 +158,8 @@@@ typedef enum ffi_abi {
 #define FFI_CLOSURES 1
 #define FFI_TRAMPOLINE_SIZE 20
 #else
-/* N32/N64 not implemented yet. */
-#define FFI_CLOSURES 0
+#define FFI_CLOSURES 1
+#define FFI_TRAMPOLINE_SIZE 52
 #endif /* FFI_MIPS_O32 */
 #define FFI_NATIVE_RAW_API 0
 
@

