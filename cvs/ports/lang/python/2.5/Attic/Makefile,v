head	1.63;
access;
symbols
	OPENBSD_5_3:1.57.0.2
	OPENBSD_5_3_BASE:1.57
	OPENBSD_5_2:1.56.0.2
	OPENBSD_5_2_BASE:1.56
	OPENBSD_5_1_BASE:1.54
	OPENBSD_5_1:1.54.0.2
	OPENBSD_5_0:1.50.0.2
	OPENBSD_5_0_BASE:1.50
	OPENBSD_4_9:1.43.0.2
	OPENBSD_4_9_BASE:1.43
	OPENBSD_4_8:1.38.0.2
	OPENBSD_4_8_BASE:1.38
	OPENBSD_4_7:1.35.0.2
	OPENBSD_4_7_BASE:1.35
	OPENBSD_4_6:1.30.0.2
	OPENBSD_4_6_BASE:1.30
	OPENBSD_4_5:1.28.0.2
	OPENBSD_4_5_BASE:1.28
	OPENBSD_4_4:1.24.0.2
	OPENBSD_4_4_BASE:1.24
	OPENBSD_4_3:1.17.0.2
	OPENBSD_4_3_BASE:1.17
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5;
locks; strict;
comment	@# @;


1.63
date	2013.06.04.08.02.20;	author fgsch;	state dead;
branches;
next	1.62;

1.62
date	2013.05.22.13.32.02;	author fgsch;	state Exp;
branches;
next	1.61;

1.61
date	2013.05.07.08.03.42;	author fgsch;	state Exp;
branches;
next	1.60;

1.60
date	2013.04.28.00.40.47;	author fgsch;	state Exp;
branches;
next	1.59;

1.59
date	2013.04.13.22.31.42;	author fgsch;	state Exp;
branches;
next	1.58;

1.58
date	2013.03.31.21.35.26;	author bcallah;	state Exp;
branches;
next	1.57;

1.57
date	2012.08.23.19.19.17;	author sthen;	state Exp;
branches;
next	1.56;

1.56
date	2012.05.09.06.21.12;	author ajacoutot;	state Exp;
branches;
next	1.55;

1.55
date	2012.04.23.17.15.18;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2011.09.27.21.27.36;	author sthen;	state Exp;
branches;
next	1.53;

1.53
date	2011.09.16.10.31.21;	author espie;	state Exp;
branches;
next	1.52;

1.52
date	2011.09.12.18.02.34;	author naddy;	state Exp;
branches;
next	1.51;

1.51
date	2011.09.06.20.58.08;	author rpointel;	state Exp;
branches;
next	1.50;

1.50
date	2011.07.18.15.32.18;	author naddy;	state Exp;
branches;
next	1.49;

1.49
date	2011.07.07.20.55.05;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2011.05.30.21.11.44;	author rpointel;	state Exp;
branches;
next	1.47;

1.47
date	2011.05.23.06.42.02;	author jasper;	state Exp;
branches;
next	1.46;

1.46
date	2011.05.07.09.36.33;	author fgsch;	state Exp;
branches;
next	1.45;

1.45
date	2011.05.03.17.48.08;	author rpointel;	state Exp;
branches;
next	1.44;

1.44
date	2011.04.12.19.28.13;	author kili;	state Exp;
branches;
next	1.43;

1.43
date	2010.11.15.20.55.24;	author sthen;	state Exp;
branches;
next	1.42;

1.42
date	2010.10.28.08.22.11;	author fgsch;	state Exp;
branches;
next	1.41;

1.41
date	2010.10.18.19.20.42;	author espie;	state Exp;
branches;
next	1.40;

1.40
date	2010.09.22.13.44.12;	author jasper;	state Exp;
branches;
next	1.39;

1.39
date	2010.09.16.22.34.08;	author fgsch;	state Exp;
branches;
next	1.38;

1.38
date	2010.04.15.18.35.02;	author jasper;	state Exp;
branches;
next	1.37;

1.37
date	2010.04.15.14.58.24;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2010.04.15.14.11.01;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2010.02.25.11.02.39;	author phessler;	state Exp;
branches;
next	1.34;

1.34
date	2010.02.09.12.23.59;	author jasper;	state Exp;
branches;
next	1.33;

1.33
date	2010.01.20.08.15.21;	author espie;	state Exp;
branches;
next	1.32;

1.32
date	2009.11.22.22.53.19;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2009.08.10.17.31.07;	author kili;	state Exp;
branches;
next	1.30;

1.30
date	2009.06.25.01.49.54;	author jolan;	state Exp;
branches;
next	1.29;

1.29
date	2009.03.16.13.18.56;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2009.01.01.21.03.27;	author djm;	state Exp;
branches;
next	1.27;

1.27
date	2008.10.19.07.13.45;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2008.10.18.12.01.25;	author djm;	state Exp;
branches;
next	1.25;

1.25
date	2008.09.06.23.39.57;	author djm;	state Exp;
branches;
next	1.24;

1.24
date	2008.08.06.03.23.31;	author djm;	state Exp;
branches;
next	1.23;

1.23
date	2008.07.25.19.32.21;	author sthen;	state Exp;
branches;
next	1.22;

1.22
date	2008.06.30.00.29.32;	author djm;	state Exp;
branches;
next	1.21;

1.21
date	2008.06.10.05.11.27;	author pvalchev;	state Exp;
branches;
next	1.20;

1.20
date	2008.06.09.12.34.55;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2008.05.10.17.10.24;	author deanna;	state Exp;
branches;
next	1.18;

1.18
date	2008.03.27.14.31.31;	author merdely;	state Exp;
branches;
next	1.17;

1.17
date	2008.02.27.00.30.47;	author djm;	state Exp;
branches;
next	1.16;

1.16
date	2007.11.21.18.45.07;	author merdely;	state Exp;
branches;
next	1.15;

1.15
date	2007.10.25.21.05.33;	author steven;	state Exp;
branches;
next	1.14;

1.14
date	2007.10.21.11.41.32;	author steven;	state Exp;
branches;
next	1.13;

1.13
date	2007.10.20.06.54.55;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2007.10.16.08.22.32;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2007.09.26.14.02.23;	author alek;	state Exp;
branches;
next	1.10;

1.10
date	2007.08.29.13.05.12;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2007.06.26.16.50.18;	author martynas;	state Exp;
branches;
next	1.8;

1.8
date	2007.05.07.15.43.33;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2007.04.28.10.06.25;	author bernd;	state Exp;
branches;
next	1.6;

1.6
date	2007.04.24.23.32.46;	author djm;	state Exp;
branches;
next	1.5;

1.5
date	2007.02.16.22.56.48;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2007.01.10.16.57.56;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2006.11.24.20.48.23;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2006.11.08.19.00.19;	author djm;	state Exp;
branches;
next	1.1;

1.1
date	2006.11.01.20.59.18;	author alek;	state Exp;
branches;
next	;


desc
@@


1.63
log
@GC python 2.5.  Thanks to zhuk who made this possible.
@
text
@# $OpenBSD: Makefile,v 1.62 2013/05/22 13:32:02 fgsch Exp $

VERSION=		2.5
PATCHLEVEL=		.4
REVISION=		21
SHARED_LIBS=		python2.5 1.0
VERSION_SPEC=		>=2.5,<2.6

AUTOCONF_VERSION=	2.61
CONFIGURE_ARGS+=	--with-cxx_main

PATCH_LIST =		patch-* sup64-*

MAKE_FLAGS+=	LDLIBRARY=libpython${VERSION}.so.${LIBpython2.5_VERSION}
MAKE_FLAGS+=	INSTSONAME=libpython${VERSION}.so.${LIBpython2.5_VERSION}

post-patch:
	${SUBST_CMD} ${WRKSRC}/configure.in

.include <bsd.port.mk>
@


1.62
log
@bump after wantlib sync.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/05/07 08:03:42 fgsch Exp $
@


1.61
log
@remove djm and put rpointel as the maintainer for 2.5 and 2.7 as well.
discussed with djm.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2013/04/28 00:40:47 fgsch Exp $
d5 1
a5 1
REVISION=		20
@


1.60
log
@This will be the only python version using configure.in soon so copy
the post-patch target that uses it here.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2013/04/13 22:31:42 fgsch Exp $
d5 1
a5 1
REVISION=		19
@


1.59
log
@Update python 2.7 to 2.7.4.

This is a slighly different version that I sent that includes an updated
kqueue diff that works with python 2 and 3 and puts test_bsddb and
test_bsddb3 back on the skip list as they're not built outside amd64
and i386.

Only 2 tests are known to fail: test_kqueue (broken) and test_threading
(failing on 2.7.3, under investigation but likely broken). If something
else fails please send your test.log.

Tested on a bulk by landry, sparc64 by brad, ppc gonzalo and amd64 by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2013/03/31 21:35:26 bcallah Exp $
d13 1
d16 3
@


1.58
log
@Fix a hardcoded INSTSONAME, which happens to be wrong for Python 2.7
Bump everyone's REVISION.
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2012/08/23 19:19:17 sthen Exp $
d11 4
@


1.57
log
@sync wantlib
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2012/05/09 06:21:12 ajacoutot Exp $
d5 1
a5 1
REVISION=		18
@


1.56
log
@Don't overwrite THREAD_STACK_SIZE but use the default.

ok fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2012/04/23 17:15:18 espie Exp $
d5 1
a5 1
REVISION=		17
@


1.55
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2011/09/27 21:27:36 sthen Exp $
d5 1
a5 2
REVISION=		16
REVISION-bsddb=		16
@


1.54
log
@let Python use PKGSPEC infrastructure, discussed with and variable name
suggestion from fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2011/09/16 10:31:21 espie Exp $
d5 1
a5 1
REVISION=		15
@


1.53
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2011/09/12 18:02:34 naddy Exp $
d8 1
@


1.52
log
@bump all (sub)packages that depend on db/v4; requested by and help from espie@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2011/09/06 20:58:08 rpointel Exp $
d5 2
a6 2
REVISION=		14
REVISION-bsddb=		15
@


1.51
log
@Use system libffi on Python 2.5 and 2.7 (except on arm).
ok jasper@@ landry@@ sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2011/07/18 15:32:18 naddy Exp $
d6 1
@


1.50
log
@fix build after after 4.9->5.0; with help from rpointel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2011/07/07 20:55:05 sthen Exp $
d5 1
a5 1
REVISION=		13
@


1.49
log
@unbreak patching, spotted by Nigel Taylor.
as a bonus recognise openbsd 5.3 in regression tests.
bump as this file makes it into the package.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2011/05/30 21:11:44 rpointel Exp $
d5 1
a5 1
REVISION=		12
@


1.48
log
@Correct the wrong value of LDFLAGS (certain ports will need WANTLIB += ${MODPY_WANTLIB}).

Thanks for fgsch@@ for his patch-Modules_selectmodule_c to correct SIGBUS error on sparc64 (test_kqueue.py).

It's time make bulks of Python2.7 on as many archs as we can.

Thanks a lot.

ok sthen@@ aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2011/05/23 06:42:02 jasper Exp $
d5 1
a5 1
REVISION=		11
@


1.47
log
@Remove python-mode.el, it's now part of the emacs-python package.
It wasn't distributed anymore in the python distfile starting from 2.7 anymore.

Please install the emacs-python pacakge to continue using the functionality.

ok rpointel@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2011/05/07 09:36:33 fgsch Exp $
d5 1
a5 1
REVISION=		10
@


1.46
log
@Security fix for CVE-2011-1521.
prodded and ok jasper
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2011/05/03 17:48:08 rpointel Exp $
d5 1
a5 1
REVISION=		9
@


1.45
log
@use proper autoconf version, from Brad.
ok sthen@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2011/04/12 19:28:13 kili Exp $
d5 1
a5 1
REVISION=		8
@


1.44
log
@Whenever a package installs a script using #!/usr/bin/env, god kills
a kitten.

Let pydoc${VERSION} use #!${LOCALBASE}/bin/python${VERSION} instead
of $!/usr/bin/env python${VERSION}.

ok rpointel@@, sthen@@ (after some discussion wether post-build is
the proper target for this or not)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2010/11/15 20:55:24 sthen Exp $
d8 1
@


1.43
log
@use tk.port.mk and move -tkinter to a more recent version of Tcl/Tk.
reads fine to fgsch@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2010/10/28 08:22:11 fgsch Exp $
d5 1
a5 1
REVISION=		7
@


1.42
log
@Simplify and switch to REVISION.
From Alexandr Shadchin (firstname dot lastname at gmail dot com).
martynas@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2010/10/18 19:20:42 espie Exp $
d5 1
a5 1
REVISION=		6
@


1.41
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2010/09/22 13:44:12 jasper Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p6
a7 6
.if ${MACHINE_ARCH} == "alpha" || ${MACHINE_ARCH} == "amd64" || \
    ${MACHINE_ARCH} == "sparc64" || ${MACHINE_ARCH:Mmips64*}
PATCH_LIST=		patch-* sup64-*
.endif

AUTOCONF_VERSION=	2.61
a8 4
USE_GROFF =	Yes

post-extract:
	rm -r ${WRKDIST}/Modules/expat
@


1.40
log
@- remove the BROKEN-mips64 markers after miod's recent softfloat commit,
python seems to be working well enough now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2010/09/16 22:34:08 fgsch Exp $
d15 1
@


1.39
log
@Update WANTLIB after ncurses update. While here remove unneeded pthread-stubs
and xcb from -tkinter.  With help from sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2010/04/15 18:35:02 jasper Exp $
a6 2

BROKEN-mips64 = Floating point exception while generating pyc objects
@


1.38
log
@- more BROKEN-$ARCH
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2010/04/15 14:58:24 ajacoutot Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p5
@


1.37
log
@Stupid poor blank lines, stupid poor blank lines...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2010/04/15 14:11:01 ajacoutot Exp $
d8 1
a8 3
.if ${MACHINE_ARCH} == "mips64"
BROKEN = Floating point exception while generating pyc objects
.endif
@


1.36
log
@Consistency: remove the 1, 2 or even 3 empty blank lines.

sthen@@ agrees
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2010/02/25 11:02:39 phessler Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p4
@


1.35
log
@Allow Python to build on loongson.  Bring in some libffi fixes, inspired
by jasper@@'s fixes to the libffi port.

Mark mips64 (aka, sgi) as BROKEN, as the build fails.  We'll look closer
at this after unlock.

OK jasper@@

ports is unlocked for a while only for those who have been informed.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2010/02/09 12:23:59 jasper Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p3
@


1.34
log
@- extend archtecture tests for mips64el

ok naddy@@ phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2010/01/20 08:15:21 espie Exp $
d7 4
@


1.33
log
@fix update from OpenBSD 4.5 (missed @@pkgpath markers at the time
-bz2, -expat, -sqlite were removed)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2009/11/22 22:53:19 jasper Exp $
d9 1
a9 1
    ${MACHINE_ARCH} == "sparc64" || ${MACHINE_ARCH} == "mips64"
@


1.32
log
@- minor tweaks for mips64, none of the versions fully build, but at least
they're somewhat getting there.
- with the added patch, 2.5 gets as far as 2.6, and then fails terribly.

ok djm@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2009/08/10 17:31:07 kili Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p2
@


1.31
log
@WANTLIB changes after xcb addition and bump.

For some unknown reason, I forgot to commit lang/*
this morning.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2009/06/25 01:49:54 jolan Exp $
d8 2
a9 1
.if ${MACHINE_ARCH} == "alpha" || ${MACHINE_ARCH} == "amd64" || ${MACHINE_ARCH} == "sparc64"
@


1.30
log
@avoid conflict in -tools subpackage
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2009/03/16 13:18:56 sthen Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p1
@


1.29
log
@bump for tk; pointed out by jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2009/01/01 21:03:27 djm Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p0
@


1.28
log
@Updates and garbage collect all three Python ports:

    2.4.4 => 2.4.8
    2.5.2 => 2.5.4
    2.6 => 2.6.1

Python 2.4 and 2.5 lose their build knobs to match 2.6.

Removes no longer needed Python 2.5 security patches backported
from the release25-maint SVN branch.

Remove the -bz2 subpackage from all three versions. It is silly
to make a subpackage to avoid depending on something tiny and
compatibly licensed.

Python 2.4 and 2.5 lose their -expat subpackages; expat has been
in base for some time.

Python 2.5 loses its sqlite subpackge. Again, sqlite is tiny,
compatibly licensed and is depended upon by more and more
applications. This brings it into line with the 2.6 version.

Rework all three version's handling of setup.py. Rather than regex
replacing LOCALBASE and X11BASE into setup.py post-configure, these
are passed in though environment variables. Will save hours of
frustrated cursing familiar to anyone who has accidently used the
update-patches target after configure and had to go back and redo
all the substitutions.

Rework the patching of setup.py for 2.4 and 2.5 to be more like
what we do for 2.6. I.e. keep the diff minimal and avoid deleting
huge blocks of code, so the diff has a chance of applying without
massive hand-editing each patch release.

Fix .py paths in installed .pyc files (patch from eric@@)

feedback from several, particularly eric@@, ajacoutot@@ and Ingo
Schwarze; "get it in" ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2008/10/19 07:13:45 ajacoutot Exp $
d5 1
a5 1
#PKG_PATCHLEVEL=		
@


1.27
log
@- tweak MESSAGE

ok djm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2008/10/18 12:01:25 djm Exp $
d4 2
a5 2
PATCHLEVEL=		.2
PKG_PATCHLEVEL=		p7
a6 2

# PSUBDIR=		python/${VERSION}
@


1.26
log
@fix slightly borked packaging:

- idle was incorrectly included in the -main package, not the -idle
  subpackage. Move these to where they belong.

- The -main package installed a ${LOCALBASE}/python-config, which
  would conflict with future python versions. Remove this and add
  a MESSAGE suggesting users symlink python-config2.5 to it if
  necessary

- An Emacs .el files was also installed by the -main package, this
  too would conflict with parallel installs of different major
  releases. Move this to the -tools subpackage.

bump PKG_PATCHLEVEL
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2008/09/06 23:39:57 djm Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p6
@


1.25
log
@The _sha256 and _sha512 modules are not built when Python is built
against OpenSSL 0.9.8 as it includes support for these hashes directly.
Bump pkgname.
Report from Frank Denis
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2008/08/06 03:23:31 djm Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p5
a15 1
ALL_TARGET =		everything
@


1.24
log
@Fixes for multiple security vulnerabilities:

        CVE-2008-1679 CVE-2008-1721 CVE-2008-1887
        CVE-2008-2316 CVE-2008-3142 CVE-2008-3144

Patches cherrypicked with assistance of val.masutin AT gmail.com and
Toni Mueller.

Tested by sthen@@ naddy@@ ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2008/07/25 19:32:21 sthen Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p4
@


1.23
log
@bump libpython2.5 and PKGNAME for isinf()
ok espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2008/06/30 00:29:32 djm Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p3
@


1.22
log
@Fix crash in readline module when using completion caused by bad
implicit prototype of legacy completion_matches function.
Report and fix from henry AT precheur.org
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2008/06/10 05:11:27 pvalchev Exp $
d5 2
a6 2
PKG_PATCHLEVEL=		p2
SHARED_LIBS=		python2.5 0.0
@


1.21
log
@-mieee is now default on alpha
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2008/06/09 12:34:55 espie Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p1
@


1.20
log
@fix intermitent race condition, no reason for ./Lib/plat-openbsd4
to match $(srcdir)/Lib/plat-openbsd4 except by accident...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2008/05/10 17:10:24 deanna Exp $
a11 3
.endif
.if ${MACHINE_ARCH} == "alpha"
CFLAGS+=		-mieee
@


1.19
log
@Let 2.5 install python-mode for emacs.

ok mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2008/03/27 14:31:31 merdely Exp $
d19 1
a19 1
ALL_TARGET?=		all ./Lib/plat-openbsd4
@


1.18
log
@Move two files from PLIST-main to PLIST-tools.  Fixes pkg_delete python.

From alek@@
ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/02/27 00:30:47 djm Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p0
@


1.17
log
@python-2.5.2

tested with a full ports build by naddy@@ ok pvalchev@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2007/11/21 18:45:07 merdely Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		
@


1.16
log
@Add -mieee CFLAG if ${MACHINE_ARCH} == alpha to prevent floating point
exception.

ok & help martynas@@; ok alek@@ (MAINTAINER) and naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2007/10/25 21:05:33 steven Exp $
d4 2
a5 2
PATCHLEVEL=		.1
PKG_PATCHLEVEL=		p7
d17 1
d19 1
@


1.15
log
@db.=4 -> db.>=4  in preparation of db4 update

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2007/10/21 11:41:32 steven Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p6
d12 3
@


1.14
log
@move some test files to the -tests subpackage.

noticed by Simon Kuhnle <simon at blarzwurst.de>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/10/20 06:54:55 espie Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p5
@


1.13
log
@remove the embedded expat source.
This makes sure we pick up the system expat.h
No package change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/10/16 08:22:32 ajacoutot Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p4
@


1.12
log
@- tweak MESSAGE: force symlink creation (nothing fancy but makes it
easier when changing default python versions)

"sure" steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/09/26 14:02:23 alek Exp $
d15 3
@


1.11
log
@AUTOCONF_VERSION is supposed to be overwritten for particular version of python so replace = with ?= in Makefile.inc to make it possible; ok sturm@@, steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/08/29 13:05:12 fgsch Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p3
@


1.10
log
@bump package name too; reminded by sturm@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/06/26 16:50:18 martynas Exp $
a8 1
AUTOCONF_VERSION=	2.59
@


1.9
log
@documentation fix: we don't automatically create symbolic links,
also be consistant with binary names, and move rcsid to the top.
bump pkgnames.
ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2007/05/07 15:43:33 jasper Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p2
@


1.8
log
@fix WANTLIB/LIB_DEPENDS

ok alek@@ mbalmer@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2007/04/28 10:06:25 bernd Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p1
@


1.7
log
@Use xenocara expat.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2007/04/24 23:32:46 djm Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p0
@


1.6
log
@python-2.5.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/02/16 22:56:48 steven Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		
@


1.5
log
@make configure script like all versions of OpenBSD, unbreaks build.

ok sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/01/10 16:57:56 steven Exp $
d4 2
a5 2
PATCHLEVEL=
PKG_PATCHLEVEL=		p3
@


1.4
log
@- update to python 2.3.6
- build python with CXX, fixes problems with extensions that use CXX
  such as the py-wxWidgets problem spotted by john.danks at gmail.com

from alek@@ some time ago
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2006/11/24 20:48:23 steven Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p2
@


1.3
log
@new MULTI_PACKAGES
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2006/11/08 19:00:19 djm Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p1
d14 2
@


1.2
log
@fix compilation on ARM, where the ctypes module is not supported by
moving it into a new PFRAG; feedback and ok alek@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2006/11/01 20:59:18 alek Exp $
d5 1
a5 1
PKG_PATCHLEVEL=		p0
@


1.1
log
@Python 2.5
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
PKG_PATCHLEVEL=		
@

