head	1.2;
access;
symbols
	OPENBSD_5_5:1.1.0.4
	OPENBSD_5_5_BASE:1.1
	OPENBSD_5_4:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2014.04.17.06.05.59;	author rpointel;	state dead;
branches;
next	1.1;

1.1
date	2014.02.09.09.49.26;	author rpointel;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2014.02.09.17.55.27;	author rpointel;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update Python 3 from 3.3.2 to 3.3.5.
ok shadchin@@
@
text
@$OpenBSD: patch-Modules_socketmodule_c,v 1.1 2014/02/09 09:49:26 rpointel Exp $
security fix: http://bugs.python.org/issue20246

--- Modules/socketmodule.c.orig
+++ Modules/socketmodule.c
@@@@ -2935,6 +2935,11 @@@@ sock_recvfrom_into(PySocketSockObject *s
     if (recvlen == 0) {
         /* If nbytes was not specified, use the buffer's length */
         recvlen = buflen;
+    } else if (recvlen > buflen) {
+        PyBuffer_Release(&pbuf);
+        PyErr_SetString(PyExc_ValueError,
+                        "nbytes is greater than the length of the buffer");
+        return NULL;
     }
 
     readlen = sock_recvfrom_guts(s, buf, recvlen, flags, &addr);
@


1.1
log
@Security fix for Python 2.7 and 3.3.
More information: http://bugs.python.org/issue20246
http://seclists.org/oss-sec/2014/q1/284

go aja@@ espie@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@Security fix: buffer overflow in socket.recvfrom_into
More information: http://bugs.python.org/issue20246

ok jasper@@ (thanks).
@
text
@@

