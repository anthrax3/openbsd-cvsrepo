head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2011.05.05.23.25.44;	author fgsch;	state dead;
branches;
next	1.1;

1.1
date	2011.04.26.19.42.31;	author rpointel;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- revert the handling of async callbacks pre 2.7 for the time being. this
  fixes the hangs and some other problems and allow us to move further while
  a proper fix is investigated. as a result remove the patches to test_io
  and test_socket, they are ok now.
- remove the distutils diff. it doesn't seem right, nobody really knows why
  it's there and it actually breaks things with this version.
- bump
discussed and ok rpointel martynas sthen djm
@
text
@$OpenBSD: patch-Lib_test_test_io_py,v 1.1 2011/04/26 19:42:31 rpointel Exp $
--- Lib/test/test_io.py.orig	Sun Nov 21 14:34:58 2010
+++ Lib/test/test_io.py	Tue Apr 26 13:00:56 2011
@@@@ -2552,12 +2552,15 @@@@
                 if e.errno != errno.EBADF:
                     raise
 
+    @@unittest.skip("Skipped on OpenBSD because triggers an infinite loop")
     def test_interrupted_write_unbuffered(self):
         self.check_interrupted_write(b"xy", b"xy", mode="wb", buffering=0)
 
+    @@unittest.skip("Skipped on OpenBSD because triggers an infinite loop")
     def test_interrupted_write_buffered(self):
         self.check_interrupted_write(b"xy", b"xy", mode="wb")
 
+    @@unittest.skip("Skipped on OpenBSD because triggers an infinite loop")
     def test_interrupted_write_text(self):
         self.check_interrupted_write("xy", b"xy", mode="w", encoding="ascii")
 
@


1.1
log
@Added 2 patch to permit to 'make regress' without blocking...
Used @@unittest.skip instead of commenting out the test.
Corrected wrong value of LDSHARED in sysconfig, cf http://bugs.python.org/issue10547.
Bump REVISION.
ok landry@@ (thanks).
@
text
@d1 1
a1 1
$OpenBSD$
@

