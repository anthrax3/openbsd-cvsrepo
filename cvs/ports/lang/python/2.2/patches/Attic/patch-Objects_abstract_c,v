head	1.4;
access;
symbols
	OPENBSD_3_4:1.2.0.6
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.4
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.2
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.1.0.2
	OPENBSD_3_1_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2003.12.30.22.21.25;	author sturm;	state dead;
branches;
next	1.3;

1.3
date	2003.12.30.17.05.30;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2002.05.11.21.35.13;	author matt;	state Exp;
branches;
next	1.1;

1.1
date	2002.03.16.15.24.26;	author drahn;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to python 2.2.3, lots of bugfixes

from Aleksander Piotrowski <aleksander dot piotrowski at nic dot com dot pl>
@
text
@$OpenBSD: patch-Objects_abstract_c,v 1.3 2003/12/30 17:05:30 sturm Exp $

        This has been submitted to the Python team as part of patch
        554716.

--- Objects/abstract.c.orig	2002-03-11 11:12:58.000000000 +0100
+++ Objects/abstract.c	2003-12-29 21:50:32.000000000 +0100
@@@@ -1789,8 +1789,12 @@@@ objargs_mktuple(va_list va)
 #ifdef VA_LIST_IS_ARRAY
 	memcpy(countva, va, sizeof(va_list));
 #else
+#ifdef __va_copy
+	__va_copy(countva, va);
+#else
 	countva = va;
 #endif
+#endif
 
 	while (((PyObject *)va_arg(countva, PyObject *)) != NULL)
 		++n;
@


1.3
log
@more cleanups in preparation for 2.2 update and 2.3 import from
Aleksander Piotrowski <aleksander dot piotrowski at nic dot com dot pl>

- fix MASTER_SITES
- --without-pymalloc is not needed in 2.1 and 2.2 as it is disabled by default
  this will allow using it in 2.3
- some PREFIX -> LOCALBASE cleanup
- patch distributed pydoc instead of providing our own 3-liner
- some improvements on sparc64
- teach regression suite about openbsd
- regen some patch files
@
text
@d1 1
a1 1
$OpenBSD: patch-Objects_abstract_c,v 1.2 2002/05/11 21:35:13 matt Exp $
@


1.2
log
@- 2.2 -> 2.2.1
- annotate patches submitted to Python patch tracker
- 100% license compliance: install CHANGES.OpenBSD file
@
text
@d1 1
a1 1
$OpenBSD: patch-Objects_abstract_c,v 1.1 2002/03/16 15:24:26 drahn Exp $
d6 3
a8 3
--- Objects/abstract.c.orig	Mon Mar 11 05:12:58 2002
+++ Objects/abstract.c	Fri Apr 19 09:05:16 2002
@@@@ -1789,7 +1789,11 @@@@ objargs_mktuple(va_list va)
d16 1
a17 1
 #endif
d20 1
@


1.1
log
@Fix vararg handling where code wants to double parse varargs data. ok matt@@
@
text
@d1 8
a8 4
$OpenBSD$
--- Objects/abstract.c.orig	Thu Mar 14 22:19:37 2002
+++ Objects/abstract.c	Thu Mar 14 22:20:49 2002
@@@@ -1770,7 +1770,11 @@@@ objargs_mktuple(va_list va)
@

