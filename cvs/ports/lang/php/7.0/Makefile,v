head	1.36;
access;
symbols
	OPENBSD_6_1:1.27.0.2
	OPENBSD_6_1_BASE:1.27
	OPENBSD_6_0:1.17.0.2
	OPENBSD_6_0_BASE:1.17
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	robert_20151214:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.36
date	2017.09.01.08.25.02;	author sthen;	state Exp;
branches;
next	1.35;
commitid	ucpIevbMmbpT5sTu;

1.35
date	2017.08.24.10.52.48;	author sthen;	state Exp;
branches;
next	1.34;
commitid	Fjrmej0knrMAVSaX;

1.34
date	2017.08.24.10.03.25;	author sthen;	state Exp;
branches;
next	1.33;
commitid	OqHxuwYewIOecOVm;

1.33
date	2017.08.24.09.45.23;	author sthen;	state Exp;
branches;
next	1.32;
commitid	PnxiRKB45Z5BPng8;

1.32
date	2017.07.26.22.45.25;	author sthen;	state Exp;
branches;
next	1.31;
commitid	tD4MFrpYYDDL2UFT;

1.31
date	2017.07.16.19.18.59;	author espie;	state Exp;
branches;
next	1.30;
commitid	tt0GhWK5c4uf9ILG;

1.30
date	2017.06.12.11.48.34;	author sthen;	state Exp;
branches;
next	1.29;
commitid	yH2wqSvHTqG7Em8H;

1.29
date	2017.04.25.11.21.14;	author sthen;	state Exp;
branches;
next	1.28;
commitid	6lKSGDASBxXdj2uH;

1.28
date	2017.04.10.11.46.22;	author sthen;	state Exp;
branches;
next	1.27;
commitid	BLsh88fJB8thZTwY;

1.27
date	2017.02.24.09.13.11;	author robert;	state Exp;
branches;
next	1.26;
commitid	NjAob4ikqa7u8tUk;

1.26
date	2017.01.26.23.04.16;	author sthen;	state Exp;
branches;
next	1.25;
commitid	5KKS6HEkei4Omtey;

1.25
date	2017.01.22.17.01.32;	author martijn;	state Exp;
branches;
next	1.24;
commitid	Hb9PuinnuJhHiLek;

1.24
date	2016.12.19.20.35.47;	author martijn;	state Exp;
branches;
next	1.23;
commitid	f1tIfCcxhRyd8U5P;

1.23
date	2016.11.04.11.35.19;	author sthen;	state Exp;
branches;
next	1.22;
commitid	Gg5LRcnQlqj5M3F7;

1.22
date	2016.10.31.15.06.10;	author robert;	state Exp;
branches;
next	1.21;
commitid	NWNRFqVtSVTAjJ5u;

1.21
date	2016.10.11.09.02.27;	author sthen;	state Exp;
branches;
next	1.20;
commitid	oGSRPIwjr7cmI3DE;

1.20
date	2016.09.02.14.30.57;	author sthen;	state Exp;
branches;
next	1.19;
commitid	AStz9W3zAAbsTzUJ;

1.19
date	2016.08.31.20.32.53;	author robert;	state Exp;
branches;
next	1.18;
commitid	gZgsh18eSWfMsbhB;

1.18
date	2016.08.07.07.33.05;	author landry;	state Exp;
branches;
next	1.17;
commitid	5IFbYI7yR6Yd3OaU;

1.17
date	2016.06.29.16.14.42;	author espie;	state Exp;
branches;
next	1.16;
commitid	c1yQMbJbfo0CFBcL;

1.16
date	2016.06.25.18.55.11;	author sthen;	state Exp;
branches;
next	1.15;
commitid	uGLFWW0dHh4btAw3;

1.15
date	2016.06.22.21.18.33;	author sthen;	state Exp;
branches;
next	1.14;
commitid	63hh4VGYx1HyCcWp;

1.14
date	2016.05.06.19.59.05;	author sthen;	state Exp;
branches;
next	1.13;
commitid	hAvmNr7PYHdlAGQO;

1.13
date	2016.04.28.18.19.23;	author sthen;	state Exp;
branches;
next	1.12;
commitid	pOf6eYvOvaEiZswL;

1.12
date	2016.04.28.18.09.38;	author sthen;	state Exp;
branches;
next	1.11;
commitid	fXVFWVmkfptWbTkB;

1.11
date	2016.04.28.18.06.47;	author sthen;	state Exp;
branches;
next	1.10;
commitid	i47ZnKZZ6MYLicYj;

1.10
date	2016.04.18.09.45.52;	author sthen;	state Exp;
branches;
next	1.9;
commitid	Ix2olg4HBtWBE3Qr;

1.9
date	2016.04.13.11.42.59;	author naddy;	state Exp;
branches;
next	1.8;
commitid	6TDAtqv456sfxiTt;

1.8
date	2016.04.08.20.26.13;	author robert;	state Exp;
branches;
next	1.7;
commitid	0cGzODez7lL1Ij37;

1.7
date	2016.03.17.16.54.12;	author sthen;	state Exp;
branches;
next	1.6;
commitid	t4OU6dRIiRL0yDM4;

1.6
date	2016.03.01.21.58.25;	author robert;	state Exp;
branches;
next	1.5;
commitid	csQ7bNLRebiXbBUi;

1.5
date	2016.02.01.21.53.06;	author sthen;	state Exp;
branches;
next	1.4;
commitid	FC3tzOC0pxGWprm3;

1.4
date	2016.01.11.16.55.35;	author robert;	state Exp;
branches;
next	1.3;
commitid	avCMCIvWCRRviLw8;

1.3
date	2016.01.07.18.06.45;	author sthen;	state Exp;
branches;
next	1.2;
commitid	H4kokcanIaMGNWvF;

1.2
date	2016.01.02.12.53.50;	author robert;	state Exp;
branches;
next	1.1;
commitid	DV5aoeE88vrz236Q;

1.1
date	2015.12.14.17.58.45;	author robert;	state Exp;
branches
	1.1.1.1;
next	;
commitid	BUz9haLVCSLShCq6;

1.1.1.1
date	2015.12.14.17.58.45;	author robert;	state Exp;
branches;
next	;
commitid	BUz9haLVCSLShCq6;


desc
@@


1.36
log
@update to php-7.0.23, ok robert@@ (martijn@@ has the same diff)
@
text
@# $OpenBSD: Makefile,v 1.35 2017/08/24 10:52:48 sthen Exp $

BROKEN-sparc64=	SIGBUS during phar generation

PV=		7.0
V=		${PV}.23

WANTLIB-main+=	${COMPILER_LIBCXX} ncurses readline

BUILD_DEPENDS+=	devel/bison

CONFIGURE_ENV+=		YACC="${LOCALBASE}/bin/bison -y"
CONFIGURE_ARGS+=	--with-pcre-jit=no

.include <bsd.port.mk>
@


1.35
log
@update to php-7.0.22, ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2017/08/24 10:03:25 sthen Exp $
d6 1
a6 1
V=		${PV}.22
@


1.34
log
@Let php-intl RUN_DEPENDS on icu4c,-wwwdata. (was supposed to be in previous commit,
but I missed Makefile.inc from the command line when committing).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2017/08/24 09:45:23 sthen Exp $
d6 1
a6 3
V=		${PV}.20
REVISION=	1
REVISION-intl=	2
@


1.33
log
@bump; textproc/icu4c now uses multi-packages for -wwwdata
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2017/07/26 22:45:25 sthen Exp $
d8 1
@


1.32
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2017/07/16 19:18:59 espie Exp $
d7 1
a7 1
REVISION=	0
@


1.31
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2017/06/12 11:48:34 sthen Exp $
d7 1
@


1.30
log
@update to php-7.0.20, sync -intl WANTLIB
ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2017/04/25 11:21:14 sthen Exp $
d8 1
a8 1
WANTLIB-main+=	${LIBCXX} ncurses readline
@


1.29
log
@regen PLIST for ax_check_compile_flag.m4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2017/04/10 11:46:22 sthen Exp $
d6 1
a6 2
V=		${PV}.16
REVISION-main=	0
@


1.28
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2017/02/24 09:13:11 robert Exp $
d7 1
@


1.27
log
@update to 7.0.16
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2017/01/26 23:04:16 sthen Exp $
d8 1
a8 1
WANTLIB-main+=	stdc++ ncurses readline
@


1.26
log
@disable pcre jit in php/7.0 with a CONFIGURE_ARGS, move the BROKEN-alpha out
from Makefile.inc to 5.5 / 5.6 / 5.7, allowing 7.0 a chance to build there.
ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2017/01/22 17:01:32 martijn Exp $
d6 1
a6 2
V=		${PV}.15
REVISION-main=	0
d9 1
@


1.25
log
@Update to PHP 7.0.15
OK sthen@@ and robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2016/12/19 20:35:47 martijn Exp $
d7 1
d13 1
@


1.24
log
@update to php-7.0.14 ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2016/11/04 11:35:19 sthen Exp $
d6 1
a6 1
V=		${PV}.14
@


1.23
log
@sync WANTLIB (and in one case, add gettext to LIB_DEPENDS) in dependent ports
now that internationalised domain name support has been removed from net/curl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2016/10/31 15:06:10 robert Exp $
d6 1
a6 2
V=		${PV}.12
REVISION-curl=	0
@


1.22
log
@update to 7.0.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2016/10/11 09:02:27 sthen Exp $
d7 1
@


1.21
log
@update to php-7.0.11, ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/09/02 14:30:57 sthen Exp $
d6 1
a6 1
V=		${PV}.11
@


1.20
log
@Disable pcre jit by default in php 7.0, to avoid the process needing to do
W+X mappings. Fixes build with kern.wxabort=1 and runtime on a !wxallowed
partition. ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2016/08/31 20:32:53 robert Exp $
d6 1
a6 2
V=		${PV}.10
REVISION-main=	0
@


1.19
log
@udpate to 7.0.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2016/08/07 07:33:05 landry Exp $
d7 1
@


1.18
log
@BROKEN-sparc64: SIGBUS during phar generation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2016/06/29 16:14:42 espie Exp $
d6 1
a6 2
V=		${PV}.8
REVISION =	0
@


1.17
log
@add is-branch to all trivial ports that exist as multiple branches.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.16 2016/06/25 18:55:11 sthen Exp $
@


1.16
log
@update to php-7.0.8 and fix FLAVORS handling to properly knock out no_suhosin
ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2016/06/22 21:18:33 sthen Exp $
d5 1
@


1.15
log
@fix no_suhosin build problem reported by Devin Ceartas
update to php-5.5.36, 5.6.22, 7.0.7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2016/05/06 19:59:05 sthen Exp $
d4 1
a4 1
V=		${PV}.7
a8 2
# XXX disable suhosin for 7.0
FLAVORS:=
@


1.14
log
@update to php-7.0.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2016/04/28 18:19:23 sthen Exp $
d4 1
a4 1
V=		${PV}.6
@


1.13
log
@revert the revert: burn apache1 php modules, @@pkgpath is set so that updates
work from -ap2. ok robert
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2016/04/28 18:06:47 sthen Exp $
d4 1
a4 2
V=		${PV}.5
REVISION=	1
@


1.12
log
@oops, revert, too soon (the dangers of cvs ci -m)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2016/04/18 09:45:52 sthen Exp $
d10 1
a10 2
# XXX disable suhosin for 7.0 and enforce apache2 because apache
# is not supported anymore
@


1.11
log
@5.4
@
text
@d10 2
a11 1
# XXX disable suhosin for 7.0
@


1.10
log
@Don't hardcode 'php5' in config file and DESCRs, there is php7 now.
Reported and initial diff from Frank Groeneveld, revised by me, ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2016/04/13 11:42:59 naddy Exp $
d10 1
a10 2
# XXX disable suhosin for 7.0 and enforce apache2 because apache
# is not supported anymore
@


1.9
log
@Replace iconv and gettext modules.
Clean up the dependencies of the -main and -fastcgi subpackages.
ok sthen@@ robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2016/04/08 20:26:13 robert Exp $
d5 1
a5 1
REVISION-fastcgi=0
@


1.8
log
@update to 7.0.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2016/03/17 16:54:12 sthen Exp $
d5 1
@


1.7
log
@update to php-7.0.4, ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2016/03/01 21:58:25 robert Exp $
d4 1
a4 3
V=		${PV}.4

BUILD_DEPENDS+=	www/apache-httpd
d7 1
a7 2

.include <bsd.port.mk>
d12 3
a14 2
CONFIGURE_ARGS+=	--disable-suhosin \
			--with-apxs2=${LOCALBASE}/sbin/apxs2
@


1.6
log
@update to 7.0.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2016/02/01 21:53:06 sthen Exp $
d4 1
a4 1
V=		${PV}.3
@


1.5
log
@move php MESSAGE/UNMESSAGE to a README instead, fleshed out with a
little more information about how to use it with different web servers.
feedback/OK jasper@@ aja@@, bumps etc to follow.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2016/01/11 16:55:35 robert Exp $
d4 1
a4 2
V=		${PV}.2
REVISION=	0
@


1.4
log
@security update to 7.0.2
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2016/01/07 18:06:45 sthen Exp $
d5 1
@


1.3
log
@merge php-fpm into the main php packages, making things easier for
httpd/nginx/lighttpd users.  ok robert@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2016/01/02 12:53:50 robert Exp $
d4 1
a4 3
V=		${PV}.1

REVISION-main=	0
@


1.2
log
@update to 7.0.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2015/12/14 17:58:45 robert Exp $
d5 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2015/11/30 20:27:25 robert Exp $
d4 1
a4 1
V=		${PV}.0
@


1.1.1.1
log
@import of php-7.0.0; currently un-hooked
@
text
@@
