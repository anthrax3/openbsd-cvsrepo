head	1.3;
access;
symbols
	OPENBSD_6_0:1.3.0.10
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.6
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.3.0.8
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.4
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.1.1.1.0.2
	OPENBSD_5_5_BASE:1.1.1.1
	robert_20130807:1.1.1.1
	robert:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2014.04.28.22.02.39;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2014.03.27.11.34.05;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2013.08.07.16.46.56;	author robert;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.08.07.16.46.56;	author robert;	state Exp;
branches;
next	;


desc
@@


1.3
log
@remove unguarded "#define AI_ADDRCONFIG 0"
@
text
@$OpenBSD: patch-ext_sockets_sockaddr_conv_c,v 1.2 2014/03/27 11:34:05 sthen Exp $
--- ext/sockets/sockaddr_conv.c.orig.port	Wed Mar  5 10:18:00 2014
+++ ext/sockets/sockaddr_conv.c	Mon Mar 24 22:53:00 2014
@@@@ -11,6 +11,10 @@@@
 
 extern int php_string_to_if_index(const char *val, unsigned *out TSRMLS_DC);
 
+#if defined(__OpenBSD__)
+#define AI_V4MAPPED 0
+#endif
+
 #if HAVE_IPV6
 /* Sets addr by hostname, or by ip in string form (AF_INET6) */
 int php_set_inet6_addr(struct sockaddr_in6 *sin6, char *string, php_socket *php_sock TSRMLS_DC) /* {{{ */
@


1.2
log
@update php/5.5 to 5.5.10 and adjust php-fpm.conf to use unix sockets
(5.5 is still unlinked to the build)
@
text
@d1 1
a1 1
$OpenBSD: patch-ext_sockets_sockaddr_conv_c,v 1.1.1.1 2013/08/07 16:46:56 robert Exp $
d4 1
a4 1
@@@@ -11,6 +11,11 @@@@
a8 1
+#define AI_ADDRCONFIG 0
@


1.1
log
@Initial revision
@
text
@d1 6
a6 6
$OpenBSD$
--- ext/sockets/sockaddr_conv.c.orig.port	Sun Jul 28 11:34:19 2013
+++ ext/sockets/sockaddr_conv.c	Sun Jul 28 11:35:29 2013
@@@@ -9,6 +9,11 @@@@
 #include <arpa/inet.h>
 #endif
@


1.1.1.1
log
@initial import of php 5.5.1
@
text
@@
