head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.8
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.6
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.4
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.26
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_7:1.3.0.22
	OPENBSD_5_7_BASE:1.3
	OPENBSD_5_6:1.3.0.20
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.3.0.18
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.16
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.14
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.12
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.10
	OPENBSD_5_0:1.3.0.8
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.6
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.4
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.2
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.2.0.8
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.6
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.2.0.4
	OPENBSD_4_4_BASE:1.2
	OPENBSD_4_3:1.2.0.2
	OPENBSD_4_3_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2015.10.06.11.37.06;	author jca;	state Exp;
branches;
next	1.3;
commitid	RkQAfNZRWeUUsLyL;

1.3
date	2010.01.07.10.55.28;	author edd;	state Exp;
branches;
next	1.2;

1.2
date	2007.11.25.22.16.21;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2007.11.24.23.52.55;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to clisp-2.49

Dynamic modules have been disabled so that the port looks like
clisp-2.48.  People willing to enable and test them are welcome.

Build can fail on i386 but clisp-2.48 has the same problem.  clisp
makes bad assumptions about adress space layout.

Tests by krw@@ joshe@@ and Markus Lude, ok krw@@ joshe@@ (ex. maintainer)
@
text
@$OpenBSD: patch-configure,v 1.3 2010/01/07 10:55:28 edd Exp $
--- configure.orig	Mon Dec 14 15:37:22 2009
+++ configure	Tue Sep 29 01:08:02 2015
@@@@ -383,7 +383,7 @@@@ do
         passnext=both ;;
 
       --elispdir=* | --elispdi=* | --elispd=* | --elisp=* | --elis=* | --eli=* | --el=*)
-        subdir_configure_args="$subdir_configure_args $arg"
+        subdir_configure_args="$subdir_configure_args"
         makemake_args="$makemake_args --elispdir="`getarg "$arg"` ;;
 
       --elispdir | --elispdi | --elispd | --elisp | --elis | --eli | --el)
@@@@ -393,7 +393,7 @@@@ do
         passnext=both ;;
 
       --vimdir=* | --vimdi=* | --vimd=* | --vim=* | --vi=*)
-        subdir_configure_args="$subdir_configure_args $arg"
+        subdir_configure_args="$subdir_configure_args"
         makemake_args="$makemake_args --vimdir="`getarg "$arg"` ;;
 
       --vimdir | --vimdi | --vimd | --vim | --vi)
@@@@ -723,8 +723,7 @@@@ stacksizelimit=`ulimit -s 2>/dev/null || :` # cygwin /
 # need 3 separate test calls because of "integer expression expected" errors
 # when $stacksizelimit is "" or "unlimited" (no short-circuiting!)
 set +e;
-test -z "$stacksizelimit" || { test "$stacksizelimit" != unlimited && test "$stacksizelimit" -lt ${STACK_LIMIT}; }
-STACK_TOO_SMALL=$?      # 0=true => need to reset; 1=false => big enough
+STACK_TOO_SMALL=0      # 0=true => need to reset; 1=false => big enough
 set -e
 
 cd "$ABS_DIRNAME"
@


1.3
log
@update to clisp-2.48. patch for texlive follows.

OK kili@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure,v 1.2 2007/11/25 22:16:21 jasper Exp $
--- configure.orig	Thu Jan 15 08:37:34 2009
+++ configure	Wed Dec 30 01:35:49 2009
@@@@ -389,7 +389,7 @@@@ do
d13 1
a13 1
@@@@ -399,7 +399,7 @@@@ do
d22 1
a22 1
@@@@ -744,8 +744,7 @@@@ stacksizelimit=`ulimit -s 2>/dev/null || :` # cygwin /
@


1.2
log
@- update clisp to 2.43
@
text
@d1 22
a22 4
$OpenBSD: patch-configure,v 1.1 2007/11/24 23:52:55 jasper Exp $
--- configure.orig	Sun Nov 11 22:42:57 2007
+++ configure	Sun Nov 25 21:16:30 2007
@@@@ -731,8 +731,7 @@@@ stacksizelimit=`ulimit -s 2>/dev/null || :` # cygwin /
d31 1
a31 1
 cd $ABS_DIRNAME
@


1.1
log
@- update clisp to 2.42

from pedro martelletto, with tweaks by me.
@
text
@d1 4
a4 5
$OpenBSD$
--- configure.orig	Tue Jan  2 22:57:16 2007
+++ configure	Sun Nov 18 13:29:41 2007
@@@@ -726,8 +726,7 @@@@ STACK_LIMIT=16384
 stacksizelimit=`ulimit -s 2>/dev/null || :` # cygwin /bin/sh ulimit is broken
d7 1
d11 1
d13 1
a13 2
 if test -z "$do_build"; then
 
@

