head	1.4;
access;
symbols
	OPENBSD_5_5:1.3.0.2
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2014.07.25.13.36.55;	author jsing;	state dead;
branches;
next	1.3;
commitid	di0P39dYOpcucHPg;

1.3
date	2013.12.02.15.35.49;	author jsing;	state Exp;
branches;
next	1.2;

1.2
date	2013.07.13.15.46.43;	author jsing;	state Exp;
branches;
next	1.1;

1.1
date	2013.05.15.12.10.15;	author jsing;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update lang/go to version 1.3.

ok matthew@@ naddy@@ sthen@@
@
text
@$OpenBSD: patch-src_cmd_ld_lib_c,v 1.3 2013/12/02 15:35:49 jsing Exp $
--- src/cmd/ld/lib.c.orig	Fri Oct 18 16:13:09 2013
+++ src/cmd/ld/lib.c	Sun Aug 25 06:58:30 2013
@@@@ -720,6 +720,8 @@@@ hostlink(void)
 	}
 	if(HEADTYPE == Hdarwin)
 		argv[argc++] = "-Wl,-no_pie,-pagezero_size,4000000";
+	if(HEADTYPE == Hopenbsd)
+		argv[argc++] = "-Wl,-nopie";
 	
 	if(iself && AssumeGoldLinker)
 		argv[argc++] = "-Wl,--rosegment";
@


1.3
log
@Update lang/go to Go 1.2.

ok sthen@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_cmd_ld_lib_c,v 1.2 2013/07/13 15:46:43 jsing Exp $
@


1.2
log
@Update lang/go to 1.1.1, from Amit Kulkarni.

ok abieber@@
@
text
@d1 5
a5 5
$OpenBSD: patch-src_cmd_ld_lib_c,v 1.1 2013/05/15 12:10:15 jsing Exp $
--- src/cmd/ld/lib.c.orig	Thu Jun 13 13:08:11 2013
+++ src/cmd/ld/lib.c	Fri Jul 12 02:00:00 2013
@@@@ -670,6 +670,8 @@@@ hostlink(void)
 		argv[argc++] = "-gdwarf-2"; 
a9 2
 	argv[argc++] = "-o";
 	argv[argc++] = outfile;
d11 2
@


1.1
log
@Update lang/go to version 1.1.

Also preserve the timestamps of the source and compiled binaries so that
"go build" does not think installed libraries should be recompiled.

ok jasper@@ sthen@@
@
text
@d1 4
a4 4
$OpenBSD$
--- src/cmd/ld/lib.c.orig	Tue Apr  9 21:41:19 2013
+++ src/cmd/ld/lib.c	Tue Apr  9 21:41:49 2013
@@@@ -645,6 +645,8 @@@@ hostlink(void)
@

