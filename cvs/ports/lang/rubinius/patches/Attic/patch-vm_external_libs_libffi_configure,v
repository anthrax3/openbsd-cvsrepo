head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2011.01.06.04.14.10;	author jeremy;	state dead;
branches;
next	1.1;

1.1
date	2010.11.30.19.32.38;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@This updates rubinius to 1.2.0.  Among other things, a few of our
patches were accepted upstream.

Rubinius previously installed into a versioned directory, this
update changes it to install into an unversioned directory.
This is going to change the PLIST of all dependent gem ports,
and a commit for them as well as a commit for ruby.port.mk will
be going in shortly.

Minor versions of rubinius do not maintain binary compatibility,
so we'll still need to bump all dependent ports that use C
extensions whenever the minor version of rubinius is updated, but
it is better than bumping all dependent ports.

While here, add some CONFIGURE_ENV stuff to make it possible to
build more ports with C extensions that depend on libraries in
LOCALBASE/lib.

OK landry@@
@
text
@$OpenBSD: patch-vm_external_libs_libffi_configure,v 1.1 2010/11/30 19:32:38 ajacoutot Exp $
--- vm/external_libs/libffi/configure.orig	Tue Nov 16 20:04:30 2010
+++ vm/external_libs/libffi/configure	Mon Nov 29 21:17:09 2010
@@@@ -12167,7 +12167,7 @@@@ case "$host" in
 	TARGET=FRV; TARGETDIR=frv
 	;;
 
-  hppa*-*-linux* | parisc*-*-linux*)
+  hppa*-*-linux* | hppa*-*-openbsd* | parisc*-*-linux*)
 	TARGET=PA_LINUX; TARGETDIR=pa
 	;;
   hppa*64-*-hpux*)
@@@@ -12210,7 +12210,7 @@@@ case "$host" in
   mips-sgi-irix5.* | mips-sgi-irix6.*)
 	TARGET=MIPS; TARGETDIR=mips
 	;;
-  mips*-*-linux*)
+  mips*-*-linux* | mips*-*-openbsd*)
 	# Support 128-bit long double for NewABI.
 	HAVE_LONG_DOUBLE='defined(__mips64)'
 	TARGET=MIPS; TARGETDIR=mips
@@@@ -12228,7 +12228,7 @@@@ case "$host" in
   powerpc-*-aix* | rs6000-*-aix*)
 	TARGET=POWERPC_AIX; TARGETDIR=powerpc
 	;;
-  powerpc-*-freebsd*)
+  powerpc-*-freebsd* | powerpc-*-openbsd*)
 	TARGET=POWERPC_FREEBSD; TARGETDIR=powerpc
 	;;
   powerpc*-*-rtems*)
@


1.1
log
@Give this a chance to build on more arches (successfully tested under
powerpc).

ok jeremy@@ (maintainer)
@
text
@d1 1
a1 1
$OpenBSD$
@

