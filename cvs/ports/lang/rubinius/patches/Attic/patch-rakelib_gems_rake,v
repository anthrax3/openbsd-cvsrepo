head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	2014.01.07.22.45.05;	author jeremy;	state dead;
branches;
next	1.1;

1.1
date	2013.10.26.23.44.58;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to rubinius 2.2.3

Disable LLVM usage as ports will soon switch to 3.4, which causes the
rubinius build to fail.

Remove some patches applied/handled upstream.
@
text
@$OpenBSD: patch-rakelib_gems_rake,v 1.1 2013/10/26 23:44:58 jeremy Exp $

The melbourne gem doesn't build with BSD make.

--- rakelib/gems.rake.orig	Mon Oct 14 22:56:24 2013
+++ rakelib/gems.rake	Mon Oct 21 17:16:13 2013
@@@@ -24,7 +24,7 @@@@ namespace :gems do
         ENV["RBX_RUN_COMPILED"] = "1"
         ENV["RBX_PREFIX_PATH"] = BUILD_CONFIG[:build_prefix]
         sh "#{BUILD_CONFIG[:build_exe]} ./extconf.rbc"
-        sh "make && make install"
+        sh "gmake && gmake install"
       ensure
         ENV.delete "RBX_RUN_COMPILED"
         ENV.delete "RBX_PREFIX_PATH"
@


1.1
log
@Major update to rubinius 2.1.1.  Start using LLVM again as this
version supports the in-tree LLVM.
@
text
@d1 1
a1 1
$OpenBSD$
@

