head	1.4;
access;
symbols
	OPENBSD_2_9_TRACKING_SWITCH:1.3;
locks; strict;
comment	@# @;


1.4
date	2001.08.22.09.03.04;	author espie;	state dead;
branches;
next	1.3;

1.3
date	2001.07.13.14.06.58;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.07.09.10.26.20;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.07.04.15.07.32;	author espie;	state Exp;
branches;
next	;


desc
@@


1.4
log
@3.0.1 is out. Remove integrated patches.
Tweak packing-lists.
Put USE_GMAKE in for now...
@
text
@Current snapshots won't build on many bsd systems without the following
patch, as machine/endian.h cannot be included without including sys/types.h
first.


2000-12-27	Marc Espie <espie@@openbsd.org>
	* configure.in:  Check for sys/types.h.
	* configure:  Rebuild.
	* libmath/mathconf.h:  Include sys/types.h prior to
	machine/endian.h if available.

--- libstdc++-v3/configure.in.orig	Thu Jun 14 10:47:35 2001
+++ libstdc++-v3/configure.in	Fri Jul 13 15:13:06 2001
@@@@ -204,7 +204,7 @@@@ else
 
   # Check for available headers.
   AC_CHECK_HEADERS([nan.h ieeefp.h endian.h sys/isa_defs.h machine/endian.h \
-  machine/param.h sys/machine.h fp.h locale.h float.h inttypes.h gconv.h])
+  machine/param.h sys/machine.h sys/types.h fp.h locale.h float.h inttypes.h gconv.h])
 
   GLIBCPP_CHECK_COMPILER_FEATURES
   GLIBCPP_CHECK_LINKER_FEATURES
@


1.3
log
@Some fixes:
- patch libstdc++-v3/libmath to unconfuse libtool.
- sparc needs the same fix as i386 to not emit bogus frame info.
@
text
@@


1.2
log
@
Slightly better configuration:
- add patches from OpenBSD-current, to multilib libgcc as -fpic
- fix asm emitting code on i386, to avoid dwarf2 stuff. Similar patches
may be needed for other a.out arches...
- fix comment on i386.
- add -L/usr/lib/debug.
- finish -shared support.

Misc. configury:
- try to ensure libffi, libjava, fastjar will configure. So far, ld dumps
core in libjava though...

Use gmake for now, as it does not build completely with our make...

Still missing shared library pieces...
@
text
@d13 1
a13 1
+++ libstdc++-v3/configure.in	Mon Jul  9 08:43:44 2001
@


1.1
log
@Preliminary port of gcc 3.0.

Currently, bootstraps C and C++ on i386.

This is definitely not complete yet. Lots of libtool patches, and local
changes to 2.95.3 (such as proper -shared support) are missing,
but this should allow people to start banging on it.
@
text
@d13 1
a13 1
+++ libstdc++-v3/configure.in	Wed Jul  4 14:25:37 2001
@

