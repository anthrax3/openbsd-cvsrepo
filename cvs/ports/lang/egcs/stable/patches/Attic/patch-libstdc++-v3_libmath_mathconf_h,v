head	1.4;
access;
symbols
	OPENBSD_2_9_TRACKING_SWITCH:1.3;
locks; strict;
comment	@# @;


1.4
date	2001.08.22.09.03.04;	author espie;	state dead;
branches;
next	1.3;

1.3
date	2001.07.13.14.06.59;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.07.09.10.26.21;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2001.07.04.15.07.32;	author espie;	state Exp;
branches;
next	;


desc
@@


1.4
log
@3.0.1 is out. Remove integrated patches.
Tweak packing-lists.
Put USE_GMAKE in for now...
@
text
@$OpenBSD: patch-libstdc++-v3_libmath_mathconf_h,v 1.3 2001/07/13 14:06:59 espie Exp $
--- libstdc++-v3/libmath/mathconf.h.orig	Sun Feb 25 10:25:42 2001
+++ libstdc++-v3/libmath/mathconf.h	Fri Jul 13 15:13:06 2001
@@@@ -34,6 +34,9 @@@@
 # include <endian.h>
 #else
 # ifdef _GLIBCPP_HAVE_MACHINE_ENDIAN_H
+#  ifdef _GLIBCPP_HAVE_SYS_TYPES_H
+#   include <sys/types.h>
+#  endif
 #  include <machine/endian.h>
 # else
 #  ifdef _GLIBCPP_HAVE_SYS_MACHINE_H
@


1.3
log
@Some fixes:
- patch libstdc++-v3/libmath to unconfuse libtool.
- sparc needs the same fix as i386 to not emit bogus frame info.
@
text
@d1 1
a1 1
$OpenBSD: patch-libstdc++-v3_libmath_mathconf_h,v 1.2 2001/07/09 10:26:21 espie Exp $
@


1.2
log
@
Slightly better configuration:
- add patches from OpenBSD-current, to multilib libgcc as -fpic
- fix asm emitting code on i386, to avoid dwarf2 stuff. Similar patches
may be needed for other a.out arches...
- fix comment on i386.
- add -L/usr/lib/debug.
- finish -shared support.

Misc. configury:
- try to ensure libffi, libjava, fastjar will configure. So far, ld dumps
core in libjava though...

Use gmake for now, as it does not build completely with our make...

Still missing shared library pieces...
@
text
@d1 1
a1 1
$OpenBSD: patch-libstdc++-v3_libmath_mathconf_h,v 1.1 2001/07/04 15:07:32 espie Exp $
d3 1
a3 1
+++ libstdc++-v3/libmath/mathconf.h	Mon Jul  9 08:43:44 2001
@


1.1
log
@Preliminary port of gcc 3.0.

Currently, bootstraps C and C++ on i386.

This is definitely not complete yet. Lots of libtool patches, and local
changes to 2.95.3 (such as proper -shared support) are missing,
but this should allow people to start banging on it.
@
text
@d1 1
a1 1
$OpenBSD: update-patches,v 1.4 2001/03/31 22:54:41 espie Exp $
d3 1
a3 1
+++ libstdc++-v3/libmath/mathconf.h	Wed Jul  4 14:25:37 2001
@

