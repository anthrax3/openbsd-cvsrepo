head	1.5;
access;
symbols
	OPENBSD_3_6:1.4.0.4
	OPENBSD_3_6_BASE:1.4
	OPENBSD_3_5:1.4.0.2
	OPENBSD_3_5_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.1;
locks; strict;
comment	@# @;


1.5
date	2005.02.20.01.24.32;	author espie;	state dead;
branches;
next	1.4;

1.4
date	2004.01.31.15.23.58;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2004.01.31.14.58.03;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2001.08.22.09.03.04;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2001.07.13.14.06.58;	author espie;	state Exp;
branches;
next	;


desc
@@


1.5
log
@bye bye
@
text
@$OpenBSD: patch-gcc_config_sparc_openbsd_h,v 1.4 2004/01/31 15:23:58 espie Exp $
--- gcc/config/sparc/openbsd.h.orig	2003-11-11 15:37:54.000000000 +0100
+++ gcc/config/sparc/openbsd.h	2003-11-11 15:39:02.000000000 +0100
@@@@ -23,7 +23,14 @@@@ Boston, MA 02111-1307, USA.  */
 #include <openbsd.h>
 
 /* Run-time target specifications.  */
-#define CPP_PREDEFINES "-D__unix__ -D__sparc__ -D__OpenBSD__ -Asystem=unix -Asystem=OpenBSD -Acpu=sparc -Amachine=sparc"
+#define TARGET_OS_CPP_BUILTINS()			\
+  do							\
+    {							\
+      OPENBSD_OS_CPP_BUILTINS_ELF();			\
+      builtin_define ("__sparc");			\
+      builtin_define ("__sparc__");			\
+    }							\
+  while (0)
 
 /* Layout of source language data types */
 
@


1.4
log
@forgot a few patches... grrr.
@
text
@d1 1
a1 1
$OpenBSD: patch-gcc_config_sparc_openbsd_h,v 1.2 2003/11/13 19:09:47 espie Exp $
@


1.3
log
@switch to gcc 3.3.2 as a stable port
okay naddy@@
@
text
@@


1.2
log
@3.0.1 is out. Remove integrated patches.
Tweak packing-lists.
Put USE_GMAKE in for now...
@
text
@d1 5
a5 6
$OpenBSD: patch-gcc_config_sparc_openbsd_h,v 1.1 2001/07/13 14:06:58 espie Exp $
--- gcc/config/sparc/openbsd.h.orig	Fri Jul 13 16:03:16 2001
+++ gcc/config/sparc/openbsd.h	Fri Jul 13 16:03:46 2001
@@@@ -64,5 +64,6 @@@@ Boston, MA 02111-1307, USA.  */
    configuration files...  */
 #define DWARF2_UNWIND_INFO 0
d7 12
a18 2
-/* Default sparc.h does already define ASM_OUTPUT_MI_THUNK */
+#undef ASM_PREFERRED_EH_DATA_FORMAT
a19 1
+/* Default sparc.h does already define ASM_OUTPUT_MI_THUNK */
@


1.1
log
@Some fixes:
- patch libstdc++-v3/libmath to unconfuse libtool.
- sparc needs the same fix as i386 to not emit bogus frame info.
@
text
@d1 1
a1 1
$OpenBSD$
@

