head	1.2;
access;
symbols
	OPENBSD_2_9:1.1.0.8
	OPENBSD_2_9_BASE:1.1
	OPENBSD_2_8:1.1.0.6
	OPENBSD_2_8_BASE:1.1
	OPENBSD_2_7:1.1.0.4
	OPENBSD_2_7_BASE:1.1
	OPENBSD_2_6:1.1.0.2
	OPENBSD_2_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2001.07.04.15.07.30;	author espie;	state dead;
branches;
next	1.1;

1.1
date	99.09.06.15.38.27;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Preliminary port of gcc 3.0.

Currently, bootstraps C and C++ on i386.

This is definitely not complete yet. Lots of libtool patches, and local
changes to 2.95.3 (such as proper -shared support) are missing,
but this should allow people to start banging on it.
@
text
@--- gcc/tlink.c.orig	Tue Aug 31 21:51:58 1999
+++ gcc/tlink.c	Tue Aug 31 21:55:17 1999
@@@@ -654,7 +654,11 @@@@ scan_linker_output (fname)
 	      if (dem)
 		sym = symbol_hash_lookup (dem->mangled, false);
 	      else
-		sym = symbol_hash_lookup (p, false);
+	        {
+	          if (*p == '_' && prepends_underscore)
+		    ++p;
+		  sym = symbol_hash_lookup (p, false);
+		}
 	    }
 	}
 
@


1.1
log
@Fix Makefile thinko.
Add newest patches from current version and OpenBSD src tree.
Synch various things, should compile now.
@
text
@@

