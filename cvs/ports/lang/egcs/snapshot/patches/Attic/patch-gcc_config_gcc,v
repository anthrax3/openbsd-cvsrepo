head	1.4;
access;
symbols
	OPENBSD_3_6:1.3.0.4
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.1.0.6
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.4
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.2
	OPENBSD_3_2_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2004.10.16.19.28.43;	author espie;	state dead;
branches;
next	1.3;

1.3
date	2003.11.13.19.09.47;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2003.11.13.19.04.10;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2002.06.05.23.58.50;	author espie;	state Exp;
branches;
next	;


desc
@@


1.4
log
@kill dup snapshot dir.
@
text
@$OpenBSD: patch-gcc_config_gcc,v 1.3 2003/11/13 19:09:47 espie Exp $
--- gcc/config.gcc.orig	2003-10-01 21:07:01.000000000 +0200
+++ gcc/config.gcc	2003-11-11 16:17:26.000000000 +0100
@@@@ -578,10 +578,11 @@@@ alpha*-*-netbsd*)
 	;;
 
 alpha*-*-openbsd*)
-	tm_file="${cpu_type}/${cpu_type}.h ${tm_file}"
+ 	tm_file="alpha/alpha.h alpha/elf.h alpha/openbsd1.h openbsd.h ${tm_file}"
 	# default x-alpha is only appropriate for dec-osf.
 	target_cpu_default="MASK_GAS"
 	tmake_file="alpha/t-alpha alpha/t-ieee"
+	gas=yes gnu_ld=yes
 	;;
 
 alpha*-dec-osf[45]*)
@@@@ -1142,13 +1143,23 @@@@ i[34567]86-*-netbsd*)
 x86_64-*-netbsd*)
 	tm_file="${tm_file} i386/unix.h i386/att.h dbxelf.h elfos.h netbsd.h netbsd-elf.h i386/x86-64.h i386/netbsd64.h"
 	;;
-i[34567]86-*-openbsd*)
+i[34567]86-*-openbsd2* | i[34567]86-*-openbsd3.[0123])
 	tm_file="${cpu_type}/${cpu_type}.h i386/unix.h i386/bsd.h i386/gas.h i386/gstabs.h openbsd-oldgas.h openbsd.h ${tm_file}"
 	# needed to unconfuse gdb
 	tmake_file="t-libc-ok t-openbsd i386/t-openbsd"
 	# we need collect2 until our bug is fixed...
 	use_collect2=yes
 	;;
+i[34567]86-*-openbsd*)
+	# needed to unconfuse gdb
+	tmake_file="t-libc-ok t-openbsd i386/t-openbsd"
+	tm_file="${cpu_type}/${cpu_type}.h i386/unix.h i386/att.h dbxelf.h elfos.h i386/i386elf.h"
+	tm_file="${tm_file} exec-stack.h"
+	tm_file="${tm_file} openbsd.h i386/openbsdelf.h"
+	gas=yes
+	gnu_ld=yes
+	stabs=yes
+  	;;
 i[34567]86-*-coff*)
 	tm_file="${tm_file} i386/unix.h i386/bsd.h i386/gas.h dbxcoff.h i386/i386-coff.h"
 	;;
@@@@ -2016,8 +2027,8 @@@@ romp-*-openbsd*)
 	# Nothing special
 	;;
 powerpc-*-openbsd*)
-	tmake_file="${tmake_file} rs6000/t-rs6000 rs6000/t-openbsd"
-	extra_headers=
+	tm_file="rs6000/rs6000.h rs6000/openbsd1.h dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h openbsd.h ${tm_file}"
+	tmake_file="${tmake_file} rs6000/t-ppcos rs6000/t-openbsd"
 	;;
 powerpc64-*-linux*)
 	tm_file="${tm_file} dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h rs6000/linux64.h"
@@@@ -2397,17 +2408,19 @@@@ sparc-*-netbsd*)
 	use_collect2=yes
 	;;
 sparc-*-openbsd*)
-	tm_file="sparc/sparc.h ${tm_file}"
+	tm_file="sparc/sparc.h elfos.h svr4.h sparc/sysv4.h ${tm_file}"
 	# needed to unconfuse gdb
 	tmake_file="t-libc-ok t-openbsd sparc/t-openbsd"
 	# we need collect2 until our bug is fixed...
+	gas=yes gnu_ld=yes
 	use_collect2=yes
 	;;
 sparc64-*-openbsd*)
-	tm_file="sparc/openbsd1-64.h sparc/sparc.h elfos.h svr4.h sparc/sysv4.h sparc/sol2.h sparc/sp64-elf.h openbsd.h sparc/openbsd64.h"
+	tm_file="sparc/openbsd1-64.h sparc/sparc.h elfos.h svr4.h sparc/sysv4.h sparc/sp64-elf.h openbsd.h sparc/openbsd64.h"
 	xm_file=sparc/xm-sp64.h
 	gas=yes gnu_ld=yes
 	with_cpu=ultrasparc
+	float_format=i128
 	;;
 sparc-*-bsd*)
 	tm_file="${tm_file} sparc/bsd.h"
@


1.3
log
@hate cvs...
@
text
@d1 1
a1 1
$OpenBSD: patch-gcc_config_gcc,v 1.15 2003/06/26 00:19:50 espie Exp $
@


1.2
log
@Preliminary port of gcc 3.3.2, in `snapshot' because it's not yet quite
stable (and stable is actually used right now).
@
text
@d1 4
a4 4
$OpenBSD: patch-gcc_config_gcc,v 1.1 2002/06/05 23:58:50 espie Exp $
--- gcc/config.gcc.orig	Thu May  2 23:28:49 2002
+++ gcc/config.gcc	Mon Jun  3 17:17:34 2002
@@@@ -576,9 +576,11 @@@@ alpha*-*-netbsd*)
d8 2
a9 1
+	tm_file="alpha/alpha.h alpha/elf.h alpha/openbsd1.h openbsd.h ${tm_file}"
d16 27
a42 2
 alpha*-dec-osf*)
@@@@ -2762,6 +2764,7 @@@@ romp-*-openbsd*)
d46 4
a49 3
+	tm_file="rs6000/rs6000.h rs6000/openbsd1.h openbsd.h dbxelf.h elfos.h svr4.h freebsd-spec.h rs6000/sysv4.h ${tm_file}"
 	tmake_file="${tmake_file} rs6000/t-rs6000 rs6000/t-openbsd"
 	extra_headers=
d51 9
a59 1
@@@@ -3086,6 +3089,13 @@@@ sparc-*-openbsd*)
d62 1
d64 3
a66 2
+	;;
+sparc64-*-openbsd*)
d68 3
a70 3
+	xm_file=sparc/xm-sp64.h
+	gas=yes gnu_ld=yes
+	with_cpu=ultrasparc
@


1.1
log
@Resurrect snapshot port, easy to do,since it's the gcc 3.1 branch.
@
text
@d1 1
a1 1
$OpenBSD: patch-gcc_config_gcc,v 1.11 2002/06/03 18:33:33 espie Exp $
@

