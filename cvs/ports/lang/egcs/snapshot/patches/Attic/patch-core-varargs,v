head	1.2;
access;
symbols
	OPENBSD_3_1:1.1.0.10
	OPENBSD_3_1_BASE:1.1
	OPENBSD_3_0:1.1.0.8
	OPENBSD_3_0_BASE:1.1
	OPENBSD_2_9_TRACKING_SWITCH:1.1
	OPENBSD_2_9:1.1.0.6
	OPENBSD_2_9_BASE:1.1
	OPENBSD_2_8:1.1.0.4
	OPENBSD_2_8_BASE:1.1
	OPENBSD_2_7:1.1.0.2
	OPENBSD_2_7_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2002.06.05.23.58.50;	author espie;	state dead;
branches;
next	1.1;

1.1
date	99.11.24.00.15.05;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Resurrect snapshot port, easy to do,since it's the gcc 3.1 branch.
@
text
@--- gcc/config/t-openbsd.orig	Tue Nov  2 16:08:38 1999
+++ gcc/config/t-openbsd	Tue Nov  2 16:39:07 1999
@@@@ -1,7 +1,11 @@@@
 # Don't run fixproto
 STMP_FIXPROTO =
 
-# We don't need GCC's own include files but we do need lang specific ones.
-USER_H = ${LANG_EXTRA_HEADERS}
+# We need some of GCC include files, since OpenBSD2.6 ships with headers
+# that don't know about the new stdarg handling.
+
+# TODO: provide updated version, instead of gcc cruft.
+USER_H = $(srcdir)/ginclude/stdarg.h \
+    $(srcdir)/ginclude/varargs.h $(LANG_EXTRA_HEADERS)
 INSTALL_ASSERT_H =
 
@


1.1
log
@Argh. I was SURE I had repaired that port WEEKS ago.
So, here goes.

- retrieve a recent snapshot of egcs, to justify the port's existence,
- remove outdated fixes, now that we're synching with 2.6,
- update patches to deal with the current snapshot,
- get a description that matches better what's going on,
- add fixed include files to match the new varargs handling (complexity
is now within gcc, instead of arch-dependent include files).

Builds on i386, at least.
@
text
@@

