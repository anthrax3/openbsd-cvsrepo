head	1.2;
access;
symbols;
locks; strict;
comment	@# @;


1.2
date	99.04.28.15.40.27;	author espie;	state dead;
branches;
next	1.1;

1.1
date	99.04.23.13.44.32;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to 19990418 snapshot

A few odds and end fixed with PLIST.template

Framework to detect the gas i386 problem

Removed bogus patch
@
text
@--- gcc/Makefile.in.orig	Fri Apr 23 14:36:25 1999
+++ gcc/Makefile.in	Fri Apr 23 15:15:13 1999
@@@@ -1053,8 +1053,9 @@@@
 	fi
 
 LIB2ADD = $(srcdir)/frame.c $(LIB2FUNCS_EXTRA) $(LANG_LIB2FUNCS)
-libgcc2.a: libgcc2.c libgcc2.ready $(CONFIG_H) $(FPBIT) $(DPBIT) $(LIB2ADD) \
-   machmode.h longlong.h frame.h gbl-ctors.h config.status
+libgcc2.a: $(srcdir)/libgcc2.c libgcc2.ready $(CONFIG_H) $(FPBIT) \
+	$(DPBIT) $(LIB2ADD) $(srcdir)/machmode.h $(srcdir)/longlong.h \
+	$(srcdir)/frame.h $(srcdir)/gbl-ctors.h config.status
 # Actually build it in tmplibgcc2.a, then rename at end,
 # so that libgcc2.a itself remains nonexistent if compilation is aborted.
 	-rm -f tmplibgcc2.a
@@@@ -1185,9 +1186,9 @@@@
 	touch s-mlib
 
 # Build multiple copies of libgcc.a, one for each target switch.
-stmp-multilib: $(LIBGCC1) libgcc2.c libgcc2.ready $(CONFIG_H) \
-   frame.h \
-   $(LIB2ADD) machmode.h longlong.h gbl-ctors.h config.status
+stmp-multilib: $(LIBGCC1) $(srcdir)/libgcc2.c libgcc2.ready $(CONFIG_H) \
+   $(srcdir)/frame.h $(LIB2ADD) $(srcdir)/machmode.h $(srcdir)/longlong.h \
+   $(srcdir)/gbl-ctors.h config.status
 	for i in `$(GCC_FOR_TARGET) --print-multi-lib`; do \
 	  dir=`echo $$i | sed -e 's/;.*$$//'`; \
 	  flags=`echo $$i | sed -e 's/^[^;]*;//' -e 's/@@/ -/g'`; \
@


1.1
log
@Testsuite wanted installed libstdc++, because libstdc++.a link was not done
properly.

Clean a few odds & ends of main configuration.

Fix a long-standing bug that let libgcc.a get rebuilt again and again,
e.g., once for make build, once for make install
@
text
@@

