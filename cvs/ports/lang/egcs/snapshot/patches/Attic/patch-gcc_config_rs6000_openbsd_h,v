head	1.4;
access;
symbols
	OPENBSD_3_6:1.3.0.4
	OPENBSD_3_6_BASE:1.3
	OPENBSD_3_5:1.3.0.2
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.1.0.6
	OPENBSD_3_4_BASE:1.1
	OPENBSD_3_3:1.1.0.4
	OPENBSD_3_3_BASE:1.1
	OPENBSD_3_2:1.1.0.2
	OPENBSD_3_2_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2004.10.16.19.28.43;	author espie;	state dead;
branches;
next	1.3;

1.3
date	2003.11.13.19.09.47;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2003.11.13.19.04.10;	author espie;	state dead;
branches;
next	1.1;

1.1
date	2002.06.05.23.58.50;	author espie;	state Exp;
branches;
next	;


desc
@@


1.4
log
@kill dup snapshot dir.
@
text
@$OpenBSD: patch-gcc_config_rs6000_openbsd_h,v 1.3 2003/11/13 19:09:47 espie Exp $
--- gcc/config/rs6000/openbsd.h.orig	2003-11-11 15:19:33.000000000 +0100
+++ gcc/config/rs6000/openbsd.h	2003-11-11 15:31:32.000000000 +0100
@@@@ -0,0 +1,91 @@@@
+/* Configuration file for an rs6000 OpenBSD target.
+   Copyright (C) 1999 Free Software Foundation, Inc.
+
+This file is part of GNU CC.
+
+GNU CC is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2, or (at your option)
+any later version.
+
+GNU CC is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with GNU CC; see the file COPYING.  If not, write to
+the Free Software Foundation, 59 Temple Place - Suite 330,
+Boston, MA 02111-1307, USA.  */
+
+/* XXX need to check ASM_WEAKEN_LABEL/ASM_GLOBALIZE_LABEL. */
+
+/* Run-time target specifications. */
+#undef TARGET_OS_CPP_BUILTINS	/* FIXME: sysv4.h should not define this! */
+#define TARGET_OS_CPP_BUILTINS()		\
+  do						\
+    {						\
+      OPENBSD_OS_CPP_BUILTINS_ELF();		\
+      builtin_define ("__powerpc__");		\
+      builtin_assert ("cpu=powerpc");		\
+      builtin_assert ("machine=powerpc");	\
+    }						\
+  while (0)
+
+#undef	CPP_OS_DEFAULT_SPEC
+#define CPP_OS_DEFAULT_SPEC "%(cpp_os_openbsd)"
+
+#undef LINKER_NAME 
+#define LINKER_NAME "ld"
+
+#undef LINK_SPEC
+#define LINK_SPEC "%{shared:-shared} \
+  %{!shared: \
+    %{!static: \
+      %{rdynamic:-export-dynamic} \
+      %{!dynamic-linker:-dynamic-linker /usr/libexec/ld.so}} \
+    %{static:-static}}"
+
+#undef	LIB_DEFAULT_SPEC
+#define LIB_DEFAULT_SPEC "%(lib_openbsd)"
+
+#undef	STARTFILE_DEFAULT_SPEC
+#define STARTFILE_DEFAULT_SPEC "%(startfile_openbsd)"
+
+#undef	ENDFILE_DEFAULT_SPEC
+#define ENDFILE_DEFAULT_SPEC "%(endfile_openbsd)"
+
+#undef	LINK_START_DEFAULT_SPEC
+#define LINK_START_DEFAULT_SPEC "%(link_start_openbsd)"
+
+#undef	LINK_OS_DEFAULT_SPEC
+#define LINK_OS_DEFAULT_SPEC "%(link_os_openbsd)"
+
+#undef TARGET_VERSION
+#define TARGET_VERSION fprintf (stderr, " (PowerPC OpenBSD)");
+
+/* Default ABI to use */
+#undef RS6000_ABI_NAME 
+#define RS6000_ABI_NAME "openbsd"
+
+/* Define this macro as a C expression for the initializer of an
+   array of string to tell the driver program which options are
+   defaults for this target and thus do not need to be handled
+   specially when using `MULTILIB_OPTIONS'.
+
+   Do not define this macro if `MULTILIB_OPTIONS' is not defined in
+   the target makefile fragment or if none of the options listed in
+   `MULTILIB_OPTIONS' are set by default.  *Note Target Fragment::.  */
+
+#undef	MULTILIB_DEFAULTS
+#define	MULTILIB_DEFAULTS { "mbig", "mcall-openbsd" }
+
+/* collect2 support (Macros for initialization). */
+
+
+/* Don't tell collect2 we use COFF as we don't have (yet ?) a dynamic ld
+   library with the proper functions to handle this -> collect2 will
+   default to using nm. */
+#undef OBJECT_FORMAT_COFF
+
+
@


1.3
log
@hate cvs...
@
text
@d1 1
a1 1
$OpenBSD: patch-gcc_config_rs6000_openbsd_h,v 1.3 2003/07/24 13:43:44 brad Exp $
@


1.2
log
@Preliminary port of gcc 3.3.2, in `snapshot' because it's not yet quite
stable (and stable is actually used right now).
@
text
@d1 4
a4 4
$OpenBSD: patch-gcc_config_rs6000_openbsd_h,v 1.1 2002/06/05 23:58:50 espie Exp $
--- gcc/config/rs6000/openbsd.h.orig	Wed May 29 17:36:46 2002
+++ gcc/config/rs6000/openbsd.h	Thu May 30 00:57:02 2002
@@@@ -0,0 +1,83 @@@@
d28 10
a37 2
+#define CPP_PREDEFINES \
+  "-D__ELF__ -D__PPC -D__PPC__ -D__powerpc -D__powerpc__ -Acpu(powerpc) -Amachine(powerpc)"
d46 1
a46 1
+#define LINK_SPEC "-m elf32ppc %{shared:-shared} \
@


1.1
log
@Resurrect snapshot port, easy to do,since it's the gcc 3.1 branch.
@
text
@d1 1
a1 1
$OpenBSD: patch-gcc_config_rs6000_openbsd_h,v 1.2 2002/05/29 23:00:27 espie Exp $
@

