head	1.2;
access;
symbols
	OPENBSD_4_5:1.1.0.2
	OPENBSD_4_5_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2009.04.27.10.54.09;	author bernd;	state dead;
branches;
next	1.1;

1.1
date	2008.09.28.15.43.05;	author bernd;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2009.08.19.01.18.10;	author william;	state dead;
branches;
next	;


desc
@@


1.2
log
@Update to ruby-1.8.6.368.

Including security fixes for CVE-2008-1447 and CVE-2007-1558.

Tested by Jeremy Evans, jcs@@, sturm@@ and msf@@. Thank you!
@
text
@$OpenBSD: patch-lib_rexml_entity_rb,v 1.1 2008/09/28 15:43:05 bernd Exp $

http://www.ruby-lang.org/en/news/2008/08/23/dos-vulnerability-in-rexml/

--- lib/rexml/entity.rb.orig	Wed Sep  3 17:38:20 2008
+++ lib/rexml/entity.rb	Wed Sep  3 17:38:50 2008
@@@@ -73,6 +73,7 @@@@ module REXML
 		# all entities -- both %ent; and &ent; entities.  This differs from
 		# +value()+ in that +value+ only replaces %ent; entities.
 		def unnormalized
+			document.record_entity_expansion!
 			v = value()
 			return nil if v.nil?
 			@@unnormalized = Text::unnormalize(v, parent)
@


1.1
log
@Security update to ruby-1.8.6.287.

This fixes a DNS spoofing vulnerability in Ruby's resolver lib. (CVE-2008-1447)

A DoS vulnerability in WEBrick(CVE-2008-3656), problems with Ruby's
safelevel implementation (CVE-2008-3655) and a taint check problem
in Ruby's dynamic loader (CVE-2008-3657) got fixed as well.

This also contains a fix for the REXML DoS issue. (CVE-2008-3790)

More information:
http://www.ruby-lang.org/en/news/2008/08/08/multiple-vulnerabilities-in-ruby/
http://www.ruby-lang.org/en/news/2008/08/23/dos-vulnerability-in-rexml/

Tested by Jeremy Evans and jcs@@. Thanks!
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.2.1
log
@MFC:

SECURITY FIX

ruby-1.8.6-p369

Resolves many security issues and bugs

Does not contain the arandom change in -current.

ok robert@@, discussed with bernd@@ (thanks!)
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_rexml_entity_rb,v 1.1 2008/09/28 15:43:05 bernd Exp $
@


