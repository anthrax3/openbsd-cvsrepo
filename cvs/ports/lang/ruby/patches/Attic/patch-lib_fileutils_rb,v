head	1.5;
access;
symbols
	OPENBSD_4_8:1.4.0.12
	OPENBSD_4_8_BASE:1.4
	OPENBSD_4_7:1.4.0.10
	OPENBSD_4_7_BASE:1.4
	OPENBSD_4_6:1.4.0.8
	OPENBSD_4_6_BASE:1.4
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.6
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.4
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.3.0.2
	OPENBSD_4_0_BASE:1.3
	OPENBSD_3_8:1.1.0.6
	OPENBSD_3_8_BASE:1.1
	OPENBSD_3_7:1.1.0.4
	OPENBSD_3_7_BASE:1.1
	OPENBSD_3_6:1.1.0.2
	OPENBSD_3_6_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2010.09.23.22.04.13;	author jeremy;	state dead;
branches;
next	1.4;

1.4
date	2007.12.27.18.32.33;	author bernd;	state Exp;
branches;
next	1.3;

1.3
date	2006.06.10.16.51.05;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2005.12.29.17.27.32;	author msf;	state dead;
branches;
next	1.1;

1.1
date	2004.05.10.19.46.46;	author sturm;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Remove files that I checked out with -r HEAD
@
text
@$OpenBSD: patch-lib_fileutils_rb,v 1.4 2007/12/27 18:32:33 bernd Exp $
--- lib/fileutils.rb.orig	Sun Mar  4 16:03:11 2007
+++ lib/fileutils.rb	Sat Sep 22 00:10:28 2007
@@@@ -236,6 +236,7 @@@@ module FileUtils
 
   def fu_mkdir(path, mode)   #:nodoc:
     path = path.sub(%r</\z>, '')
+    return true if File.exist?(path)
     if mode
       Dir.mkdir path, mode
       File.chmod mode, path
@


1.4
log
@Update to ruby-1.8.6 patchlevel 111.

This is a long overdue update which contains lots of bug fixes and some
security fixes.

Take over maintainership from msf@@.

Tested by many. Thank you very much!

ok jcs@@, msf@@
@
text
@d1 1
a1 1
$OpenBSD: patch-lib_fileutils_rb,v 1.3 2006/06/10 16:51:05 sturm Exp $
@


1.3
log
@readd correctly
@
text
@d1 9
a9 4
$OpenBSD$
--- lib/fileutils.rb.orig	Sun Nov 20 02:23:41 2005
+++ lib/fileutils.rb	Fri Jun  2 21:36:26 2006
@@@@ -240,7 +240,7 @@@@ module FileUtils
a11 6
     else
-      Dir.mkdir path
+      Dir.mkdir path unless File.exist?(path)
     end
   end
   private_module_function :fu_mkdir
@


1.2
log
@- update ruby to 1.8.4
- add no_x11 PSEUDO_FLAVOR and remove old tk FLAVOR
- add tk, iconv, and gdbm SUBPACKAGES
- take MAINTAINER

"commit now" naddy@@
@
text
@d1 12
a12 14
$OpenBSD: patch-lib_fileutils_rb,v 1.1 2004/05/10 19:46:46 sturm Exp $
--- lib/fileutils.rb.orig	2003-12-13 01:31:22.000000000 +0100
+++ lib/fileutils.rb	2004-05-02 20:16:29.000000000 +0200
@@@@ -178,7 +178,9 @@@@ module FileUtils
       end
       stack.reverse_each do |path|
         begin
-          Dir.mkdir path, mode
+	  if File.exist?(path) == false
+		Dir.mkdir path, mode
+	  end
         rescue SystemCallError => err
           raise unless File.directory?(path)
         end
@


1.1
log
@- not every /etc is a ${SYSCONFDIR}
- when creating directories recursively, don't try creating existing dirs

from couderc@@
@
text
@d1 1
a1 1
$OpenBSD$
@

