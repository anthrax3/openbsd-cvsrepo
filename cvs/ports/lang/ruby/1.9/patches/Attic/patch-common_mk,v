head	1.6;
access;
symbols
	OPENBSD_5_8:1.5.0.14
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.10
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.5.0.8
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.6
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.4
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.2
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.4.0.2
	OPENBSD_5_2_BASE:1.4
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.2
	OPENBSD_5_0:1.1.0.4
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2015.08.29.16.25.39;	author jeremy;	state dead;
branches;
next	1.5;
commitid	WYYJd508S3pt2o6T;

1.5
date	2013.01.23.18.18.41;	author jeremy;	state Exp;
branches;
next	1.4;

1.4
date	2012.02.28.00.20.41;	author jeremy;	state Exp;
branches;
next	1.3;

1.3
date	2011.11.15.00.04.15;	author jeremy;	state Exp;
branches;
next	1.2;

1.2
date	2011.11.08.23.38.57;	author jeremy;	state dead;
branches;
next	1.1;

1.1
date	2010.09.23.21.58.50;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Send lang/ruby/1.9 to the Attic, now that we are no longer building
extension libraries for ruby 2.0 by default.

OK jasper@@
@
text
@$OpenBSD: patch-common_mk,v 1.5 2013/01/23 18:18:41 jeremy Exp $

Don't regenerate rdoc documentation during install.

--- common.mk.orig	Thu Dec 20 02:10:05 2012
+++ common.mk	Thu Jan 17 08:27:13 2013
@@@@ -395,7 +395,7 @@@@ dont-install-man: $(PREP)
 post-no-install-man::
 	@@$(NULLCMD)
 
-install-doc: rdoc pre-install-doc do-install-doc post-install-doc
+install-doc: pre-install-doc do-install-doc post-install-doc
 pre-install-doc:: install-prereq
 do-install-doc: $(PROGRAM)
 	$(INSTRUBY) --make="$(MAKE)" $(INSTRUBY_ARGS) --install=rdoc --rdoc-output="$(RDOCOUT)"
@


1.5
log
@Update to ruby 1.9.3-p374.
@
text
@d1 1
a1 1
$OpenBSD: patch-common_mk,v 1.4 2012/02/28 00:20:41 jeremy Exp $
@


1.4
log
@Update 1.9.3p125, removing some patches included upstream.
@
text
@d1 1
a1 1
$OpenBSD: patch-common_mk,v 1.3 2011/11/15 00:04:15 jeremy Exp $
d5 3
a7 3
--- common.mk.orig	Mon Feb  6 04:53:11 2012
+++ common.mk	Thu Feb 16 08:18:24 2012
@@@@ -394,7 +394,7 @@@@ dont-install-man: $(PREP)
@


1.3
log
@Add no_ri_docs PSUEDO_FLAVOR to skip building the ri documentation,
which should allow building on arches without enough memory to
generate the ri files.  Also, set PKG_ARCH=* for the ri_docs
subpackage, so that such arches can still use the documentation,
idea from sthen@@. Original idea for PSUEDO_FLAVOR from phessler@@.

OK sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- common.mk.orig	Mon Nov 14 05:01:15 2011
+++ common.mk	Mon Nov 14 05:01:18 2011
@@@@ -393,7 +393,7 @@@@ dont-install-man: $(PREP)
@


1.2
log
@Update to ruby 1.9.3p0.  Adds significant speed improvements and quite
a few new features.  A few of our patches were accepted upstream.

Add an -ri_docs multipackage to hold the ri documentation files.  These
aren't used very often, slow down installation significantly, and bloat
the package.

This also fixes the conflict marker for the -tk multipackage.
@
text
@d1 9
a9 4
$OpenBSD: patch-common_mk,v 1.1 2010/09/23 21:58:50 jeremy Exp $
--- common.mk.orig	Tue Sep  7 14:45:17 2010
+++ common.mk	Tue Sep  7 14:48:00 2010
@@@@ -126,7 +126,7 @@@@ BOOTSTRAPRUBY = $(BASERUBY)
d11 5
a15 7
 COMPILE_PRELUDE = $(MINIRUBY) -I$(srcdir) $(srcdir)/tool/compile_prelude.rb
 
-all: main docs
+all: main docs rdoc
 
 main: encs exts
 	@@$(RUNCMD) $(MKMAIN_CMD) $(MAKE)
@


1.1
log
@Split the lang/ruby port into separate ports for ruby 1.8 and ruby
1.9, similar to how the lang/python ports are handled.  ruby 1.8
now installs as ruby18 and ruby 1.9 installs as ruby19.  The
included MESSAGE files for both ports let you know the symlinks to
set up if you want to make that version the default system ruby.

Split port originally started by bernd@@, many changes since by me,
help and support from jcs@@, landry@@, jasper@@, and sthen@@.

This causes a large amount of fallout in dependent ruby ports,
which will be committed shortly.

OK jcs@@, landry@@, jasper@@, sthen@@
@
text
@d1 1
a1 1
$OpenBSD$
@

