head	1.3;
access;
symbols
	OPENBSD_6_2:1.3.0.2
	OPENBSD_6_2_BASE:1.3
	OPENBSD_6_1:1.2.0.2
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.1.1.1.0.4
	OPENBSD_6_0_BASE:1.1.1.1
	OPENBSD_5_9:1.1.1.1.0.2
	OPENBSD_5_9_BASE:1.1.1.1
	jeremy_2016-Jan-06:1.1.1.1
	jeremy:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2017.09.16.22.43.38;	author jeremy;	state Exp;
branches;
next	1.2;
commitid	GDLZaNk1CbisOtlV;

1.2
date	2016.11.19.04.56.00;	author jeremy;	state Exp;
branches;
next	1.1;
commitid	1Q8Tl2ujH8T09b3E;

1.1
date	2016.01.07.00.52.46;	author jeremy;	state Exp;
branches
	1.1.1.1;
next	;
commitid	Kgj8JZfwjLpedidi;

1.1.1.1
date	2016.01.07.00.52.46;	author jeremy;	state Exp;
branches;
next	;
commitid	Kgj8JZfwjLpedidi;


desc
@@


1.3
log
@Update to ruby 2.3.5.  Fixes CVE-2017-14033, CVE-2017-14064,
CVE-2017-0898, and CVE-2017-10784. Shared lib major bump due to
removed/modified functions.  Regen patches while here.
@
text
@$OpenBSD: patch-test_ruby_test_process_rb,v 1.2 2016/11/19 04:56:00 jeremy Exp $

Work around pthread fifo fdlock bug.

Index: test/ruby/test_process.rb
--- test/ruby/test_process.rb.orig
+++ test/ruby/test_process.rb
@@@@ -633,7 +633,7 @@@@ class TestProcess < Test::Unit::TestCase
       _, v2 = assert_join_threads([t1, t2])
       assert_equal("output to fifo\n", v2)
     }
-  end unless windows? # does not support fifo
+  end if false # pthread fifo fdlock bug
 
   def test_execopts_redirect_open_fifo_interrupt_raise
     with_tmpchdir {|d|
@


1.2
log
@Update to ruby 2.3.2

Bump minor due to new exported function.
@
text
@d1 1
a1 1
$OpenBSD: patch-test_ruby_test_process_rb,v 1.1.1.1 2016/01/07 00:52:46 jeremy Exp $
d5 4
a8 3
--- test/ruby/test_process.rb.orig	Fri Nov 11 07:26:06 2016
+++ test/ruby/test_process.rb	Tue Nov 15 07:42:22 2016
@@@@ -613,7 +613,7 @@@@ class TestProcess < Test::Unit::TestCase
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d5 3
a7 3
--- test/ruby/test_process.rb.orig	Tue Dec 15 21:07:31 2015
+++ test/ruby/test_process.rb	Sun Dec 27 10:55:34 2015
@@@@ -598,7 +598,7 @@@@ class TestProcess < Test::Unit::TestCase
@


1.1.1.1
log
@Import ruby 2.3.0

OK sthen@@

@
text
@@
