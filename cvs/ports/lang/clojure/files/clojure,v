head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.24
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.8.0.22
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.20
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.16
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.18
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.14
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.8.0.12
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.8.0.10
	OPENBSD_5_5_BASE:1.8
	OPENBSD_5_4:1.8.0.8
	OPENBSD_5_4_BASE:1.8
	OPENBSD_5_3:1.8.0.6
	OPENBSD_5_3_BASE:1.8
	OPENBSD_5_2:1.8.0.4
	OPENBSD_5_2_BASE:1.8
	OPENBSD_5_1_BASE:1.8
	OPENBSD_5_1:1.8.0.2
	OPENBSD_5_0:1.3.0.4
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.2
	OPENBSD_4_9_BASE:1.3
	ian_2010-Dec-08:1.1.1.1
	ian:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2011.11.30.19.40.28;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2011.09.16.12.47.50;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2011.08.30.19.52.22;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2011.08.30.19.48.17;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.08.24.07.50.40;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2010.12.13.16.04.28;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2010.12.12.17.28.16;	author ian;	state Exp;
branches;
next	1.1;

1.1
date	2010.12.08.21.21.14;	author ian;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.12.08.21.21.14;	author ian;	state Exp;
branches;
next	;


desc
@@


1.8
log
@- allow tab-completion to work for all clojure namespaces.
@
text
@#!/bin/ksh 
#
# $OpenBSD: clojure,v 1.7 2011/09/16 12:47:50 jasper Exp $

JAVA_CMD=$(javaPathHelper -c clojure)

rlwrap -f ${TRUEPREFIX}/clojure/clj_completions ${JAVA_CMD} -classpath \
	${LOCALBASE}/share/java/classes/'*':${TRUEPREFIX}/clojure/clojure.jar:src:. \
        clojure.main "$@@"
@


1.7
log
@
- also append 'src' to the classpath, this is usefull when invoking clojure
from a library path.
@
text
@d3 1
a3 1
# $OpenBSD: clojure,v 1.6 2011/08/30 19:52:22 jasper Exp $
d7 2
a8 1
rlwrap ${JAVA_CMD} -classpath ${LOCALBASE}/share/java/classes/'*':${TRUEPREFIX}/clojure/clojure.jar:src:. \
@


1.6
log
@- tweak previous, now clojure can also find and use other java classes.
@
text
@d3 1
a3 1
# $OpenBSD: clojure,v 1.5 2011/08/30 19:48:17 jasper Exp $
d7 1
a7 1
rlwrap ${JAVA_CMD} -classpath ${LOCALBASE}/share/java/classes/'*':${TRUEPREFIX}/clojure/clojure.jar:. \
@


1.5
log
@- allow clojure to pickup clojure-contrib
- take maintainership

ok ian@@ (former MAINTAINER)
@
text
@d3 1
a3 1
# $OpenBSD: clojure,v 1.4 2011/08/24 07:50:40 jasper Exp $
d7 1
a7 5
# Try to find, and load clojure-contrib
CONTRIB_JAR=${LOCALBASE}/share/java/classes/clojure-contrib.jar
[ ! -r ${CONTRIB_JAR} ] || CONTRIB=${CONTRIB_JAR}
   
rlwrap ${JAVA_CMD} -classpath ${CONTRIB}:${TRUEPREFIX}/clojure/clojure.jar:. \
@


1.4
log
@Add readline capabilities to the REPL by using rlwrap.

ok ian@@ (MAINTAINER)
@
text
@d3 1
a3 1
# $OpenBSD: clojure,v 1.3 2010/12/13 16:04:28 jasper Exp $
d7 6
a12 1
rlwrap ${JAVA_CMD} -jar ${TRUEPREFIX}/clojure/clojure.jar "$@@"
@


1.3
log
@- fix indent of do-install
- add missing rcs id
- reformat DESCR
- protect $@@ in the clojure script

ok ian@@ (MAINTAINER)
@
text
@d3 1
a3 1
# $OpenBSD$
d7 1
a7 1
${JAVA_CMD} -jar ${TRUEPREFIX}/clojure/clojure.jar "$@@"
@


1.2
log
@Remove hard-coded path name in startup script, requested by ajacoutot@@ and by Daniel Dickman.
Change MODJAVA_VER from 1.7 to 1.6 and remove redundant PKG_NAME and BUILD_DEPENDS. Bump pkg.
@
text
@d2 2
d7 1
a7 1
${JAVA_CMD} -jar ${TRUEPREFIX}/clojure/clojure.jar $@@
@


1.1
log
@Initial revision
@
text
@d5 1
a5 1
${JAVA_CMD} -jar /usr/local/clojure/clojure.jar $@@
@


1.1.1.1
log
@Initial import of clojure, a Lisp-1 language for the JVM.
Upgraded by Dan Cross to 1.2.0 from my earlier submission.
Improved by and OK jeremy@@, martynas@@
@
text
@@
