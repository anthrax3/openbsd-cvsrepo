head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.6
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.4
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3
	OPENBSD_5_8:1.1.1.1.0.30
	OPENBSD_5_8_BASE:1.1.1.1
	OPENBSD_5_7:1.1.1.1.0.26
	OPENBSD_5_7_BASE:1.1.1.1
	OPENBSD_5_6:1.1.1.1.0.24
	OPENBSD_5_6_BASE:1.1.1.1
	OPENBSD_5_5:1.1.1.1.0.22
	OPENBSD_5_5_BASE:1.1.1.1
	OPENBSD_5_4:1.1.1.1.0.20
	OPENBSD_5_4_BASE:1.1.1.1
	OPENBSD_5_3:1.1.1.1.0.18
	OPENBSD_5_3_BASE:1.1.1.1
	OPENBSD_5_2:1.1.1.1.0.16
	OPENBSD_5_2_BASE:1.1.1.1
	OPENBSD_5_1_BASE:1.1.1.1
	OPENBSD_5_1:1.1.1.1.0.14
	OPENBSD_5_0:1.1.1.1.0.12
	OPENBSD_5_0_BASE:1.1.1.1
	OPENBSD_4_9:1.1.1.1.0.10
	OPENBSD_4_9_BASE:1.1.1.1
	OPENBSD_4_8:1.1.1.1.0.8
	OPENBSD_4_8_BASE:1.1.1.1
	OPENBSD_4_7:1.1.1.1.0.6
	OPENBSD_4_7_BASE:1.1.1.1
	OPENBSD_4_6:1.1.1.1.0.4
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	jasper_20081025:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2016.01.28.18.23.27;	author jasper;	state Exp;
branches;
next	1.2;
commitid	dnbvEcsKVRelH7qt;

1.2
date	2016.01.26.22.24.58;	author jasper;	state Exp;
branches;
next	1.1;
commitid	PxUK7dwp4PNQMITf;

1.1
date	2008.10.25.10.40.37;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.10.25.10.40.37;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- remove unneeded patch
- annotate what had been committed upstream before
@
text
@$OpenBSD: patch-configure,v 1.2 2016/01/26 22:24:58 jasper Exp $

-export-dynamic is a linker option, pass it down as such.
http://git.savannah.gnu.org/cgit/gforth.git/commit/?id=9631de152b4c83cdd0aadeb179a0c4f731192174

--- configure.orig	Tue Jan 26 09:44:37 2016
+++ configure	Tue Jan 26 09:44:50 2016
@@@@ -4724,7 +4724,7 @@@@ $as_echo "$make_type" >&6; }
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether the linker accepts -export-dynamic" >&5
 $as_echo_n "checking whether the linker accepts -export-dynamic... " >&6; }
 OLDLDFLAGS=$LDFLAGS
-LDFLAGS="$LDFLAGS -export-dynamic"
+LDFLAGS="$LDFLAGS -Wl,-export-dynamic"
 if test "$cross_compiling" = yes; then :
   ac_export_dynamic=no
 else
@


1.2
log
@- update to gforth-0.7.3
- use headers/libraries in ${LOCALBASE} when building C extensions
- update license marker
@
text
@d1 1
a1 1
$OpenBSD$
d4 1
@


1.1
log
@Initial revision
@
text
@d3 1
a3 8
From NetBSD:
The gforth configure script tests for linker support of -export-dynamic,
and then adds it to  LDFLAGS.  Later, the configure script tests for the
presence of certain functions in libc, and expects to get an error at
link time if the functions are missing.  On Interix with -export-dynamic,
the link succeeds even if there are missing functions.  This causes
configure to detect all tested functions as present, and produce
binaries that fail at run time.
d5 11
a15 23
To work around this issue, postpone adding -export-dynamic to LDFLAGS
until the end of the configure script.

--- configure.orig	Fri Oct 24 23:09:18 2008
+++ configure	Fri Oct 24 23:10:29 2008
@@@@ -3316,7 +3316,7 @@@@ ac_export_dynamic=no
 fi
 rm -f core core.* *.core gmon.out bb.out conftest$ac_exeext conftest.$ac_objext conftest.$ac_ext
 fi
-test $ac_export_dynamic = yes|| LDFLAGS=$OLDLDFLAGS
+LDFLAGS=$OLDLDFLAGS
 echo "$as_me:$LINENO: result: $ac_export_dynamic" >&5
 echo "${ECHO_T}$ac_export_dynamic" >&6
 
@@@@ -10853,6 +10853,8 @@@@ do
   mv conftest.tail conftest.undefs
 done
 rm -f conftest.undefs
+
+test $ac_export_dynamic = yes && LDFLAGS="$LDFLAGS -export-dynamic"
 
 cat >>$CONFIG_STATUS <<\_ACEOF
   # Let's still pretend it is `configure' which instantiates (i.e., don't
@


1.1.1.1
log
@import gforth 0.6.2

Gforth is a fast and portable implementation of the ANS Forth language.
It works nicely with the Emacs editor, offers some nice features such as
input completion and history, backtraces, a decompiler and a powerful
locals facility, and it even has a manual. Gforth combines traditional
implementation techniques with newer techniques for portability and
performance performance: its inner innerpreter is direct threaded with
several optimizations, but you can also use a traditional-style indirect
threaded interpreter.

originally based on a port by jack woehr, but completely overhauled since.
@
text
@@
