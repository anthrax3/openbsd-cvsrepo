head	1.8;
access;
symbols
	OPENBSD_5_5:1.7.0.16
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.14
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.12
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.7.0.10
	OPENBSD_5_2_BASE:1.7
	OPENBSD_5_1_BASE:1.7
	OPENBSD_5_1:1.7.0.8
	OPENBSD_5_0:1.7.0.6
	OPENBSD_5_0_BASE:1.7
	OPENBSD_4_9:1.7.0.4
	OPENBSD_4_9_BASE:1.7
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.6.0.12
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.10
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.6.0.8
	OPENBSD_4_5_BASE:1.6
	OPENBSD_4_4:1.6.0.6
	OPENBSD_4_4_BASE:1.6
	OPENBSD_4_3:1.6.0.4
	OPENBSD_4_3_BASE:1.6
	OPENBSD_4_2:1.6.0.2
	OPENBSD_4_2_BASE:1.6
	OPENBSD_4_1:1.5.0.2
	OPENBSD_4_1_BASE:1.5
	OPENBSD_4_0:1.4.0.2
	OPENBSD_4_0_BASE:1.4
	steven-20060604:1.1.1.1
	steven:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2014.03.09.20.17.01;	author jasper;	state dead;
branches;
next	1.7;

1.7
date	2010.06.11.21.09.49;	author landry;	state Exp;
branches;
next	1.6;

1.6
date	2007.04.24.17.07.19;	author martynas;	state Exp;
branches;
next	1.5;

1.5
date	2007.01.01.17.56.39;	author deanna;	state Exp;
branches;
next	1.4;

1.4
date	2006.07.31.08.07.54;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2006.07.30.12.25.19;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2006.07.26.18.35.06;	author steven;	state Exp;
branches;
next	1.1;

1.1
date	2006.06.04.10.36.03;	author steven;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.06.04.10.36.03;	author steven;	state Exp;
branches;
next	;


desc
@@


1.8
log
@- long overdue update of chicken to 4.8.0.5
- Timo takes maintainership

mostly by Timo Myyra, with some cleaning/tweaks by sthen@@/me
@
text
@$OpenBSD: patch-Makefile_in,v 1.7 2010/06/11 21:09:49 landry Exp $
--- Makefile.in.orig	Thu Mar  1 05:49:50 2007
+++ Makefile.in	Sat May 29 22:57:51 2010
@@@@ -25,9 +25,9 @@@@ SOURCES = $(libchicken_la_SOURCES) $(libuchicken_la_SO
 srcdir = @@srcdir@@
 top_srcdir = @@top_srcdir@@
 VPATH = @@srcdir@@
-pkgdatadir = $(datadir)/@@PACKAGE@@
-pkglibdir = $(libdir)/@@PACKAGE@@
-pkgincludedir = $(includedir)/@@PACKAGE@@
+pkgdatadir = $(datadir)
+pkglibdir = $(libdir)
+pkgincludedir = $(includedir)
 top_builddir = .
 am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
 INSTALL = @@INSTALL@@
@@@@ -380,7 +380,7 @@@@ C_INSTALL_CXX = \"$(CXX)\"
 C_INSTALL_CFLAGS = \"-DHAVE_CHICKEN_CONFIG_H $(CFLAGS)\"
 C_INSTALL_SHARE_HOME = \"$(pkgdatadir)\"
 C_INSTALL_BIN_HOME = \"$(bindir)\"
-C_INSTALL_EGG_HOME = \"$(pkglibdir)/$(BINARY_VERSION)\"
+C_INSTALL_EGG_HOME = \"$(pkgdatadir)/@@PACKAGE@@/$(BINARY_VERSION)\"
 C_INSTALL_LIB_HOME = \"$(libdir)\"
 C_INSTALL_STATIC_LIB_HOME = \"$(libdir)\"
 C_INSTALL_INCLUDE_HOME = \"$(includedir)\"
@@@@ -535,7 +535,6 @@@@ $(top_builddir)/config.status: $(top_srcdir)/configure
 	$(SHELL) ./config.status --recheck
 
 $(top_srcdir)/configure:  $(am__configure_deps)
-	cd $(srcdir) && $(AUTOCONF)
 $(ACLOCAL_M4):  $(am__aclocal_m4_deps)
 	cd $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)
 
@@@@ -549,7 +548,6 @@@@ stamp-h1: $(srcdir)/chicken-config.h.in $(top_builddir
 	@@rm -f stamp-h1
 	cd $(top_builddir) && $(SHELL) ./config.status chicken-config.h
 $(srcdir)/chicken-config.h.in:  $(am__configure_deps) 
-	cd $(top_srcdir) && $(AUTOHEADER)
 	rm -f stamp-h1
 	touch $@@
 
@@@@ -1415,8 +1413,8 @@@@ install-pkgdataDATA: $(pkgdata_DATA)
 	@@list='$(pkgdata_DATA)'; for p in $$list; do \
 	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
 	  f="`echo $$p | sed -e 's|^.*/||'`"; \
-	  echo " $(pkgdataDATA_INSTALL) '$$d$$p' '$(DESTDIR)$(pkgdatadir)/$$f'"; \
-	  $(pkgdataDATA_INSTALL) "$$d$$p" "$(DESTDIR)$(pkgdatadir)/$$f"; \
+	  echo " $(pkgdataDATA_INSTALL) '$$d$$p' '$(DESTDIR)$(pkgdatadir)/@@PACKAGE@@/$$f'"; \
+	  $(pkgdataDATA_INSTALL) "$$d$$p" "$(DESTDIR)$(pkgdatadir)/@@PACKAGE@@/$$f"; \
 	done
 
 uninstall-pkgdataDATA:
@@@@ -1841,11 +1839,11 @@@@ chicken-defaults.h: chicken-defaults.h.in Makefile
 
 # Install docs and sources.
 install-data-local:
-	$(mkinstalldirs) $(DESTDIR)$(pkgdatadir)/doc
-	$(mkinstalldirs) $(DESTDIR)$(pkgdatadir)/doc/html
-	-for file in $(DOCFILES); do cp $(srcdir)/$$file $(DESTDIR)$(pkgdatadir)/doc; done
-	-cp $(srcdir)/html/* $(DESTDIR)$(pkgdatadir)/doc/html
-	$(mkinstalldirs) $(DESTDIR)$(pkglibdir)/$(BINARY_VERSION)
+	$(mkinstalldirs) $(DESTDIR)$(pkgdatadir)/doc/@@PACKAGE@@
+	$(mkinstalldirs) $(DESTDIR)$(pkgdatadir)/doc/@@PACKAGE@@/html
+	-for file in $(DOCFILES); do cp $(srcdir)/$$file $(DESTDIR)$(pkgdatadir)/doc/@@PACKAGE@@; done
+	-cp $(srcdir)/html/* $(DESTDIR)$(pkgdatadir)/doc/@@PACKAGE@@/html
+	$(mkinstalldirs) $(DESTDIR)$(pkgdatadir)/@@PACKAGE@@/$(BINARY_VERSION)
 clean-local:
 	-rm -rf stage2 stage3 stage2-stamp stage3-stamp
 
@


1.7
log
@Remove sparc64-specific hack since it switched to gcc4.
From Brad.
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.6 2007/04/24 17:07:19 martynas Exp $
@


1.6
log
@update to 2.6
ok maintainer deanna@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.5 2007/01/01 17:56:39 deanna Exp $
--- Makefile.in.orig	Thu Mar  1 12:49:50 2007
+++ Makefile.in	Sun Apr 22 00:11:29 2007
a41 16
@@@@ -717,13 +715,13 @@@@ libchicken_la-extras.lo: extras.c
 	$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libchicken_la_CFLAGS) $(CFLAGS) -c -o libchicken_la-extras.lo `test -f 'extras.c' || echo '$(srcdir)/'`extras.c
 
 libchicken_la-library.o: library.c
-	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libchicken_la_CFLAGS) $(CFLAGS) -c -o libchicken_la-library.o `test -f 'library.c' || echo '$(srcdir)/'`library.c
+	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libchicken_la_CFLAGS) $(CFLAGS) $(EXTRA_CFLAGS) -c -o libchicken_la-library.o `test -f 'library.c' || echo '$(srcdir)/'`library.c
 
 libchicken_la-library.obj: library.c
 	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libchicken_la_CFLAGS) $(CFLAGS) -c -o libchicken_la-library.obj `if test -f 'library.c'; then $(CYGPATH_W) 'library.c'; else $(CYGPATH_W) '$(srcdir)/library.c'; fi`
 
 libchicken_la-library.lo: library.c
-	$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libchicken_la_CFLAGS) $(CFLAGS) -c -o libchicken_la-library.lo `test -f 'library.c' || echo '$(srcdir)/'`library.c
+	$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libchicken_la_CFLAGS) $(CFLAGS) $(EXTRA_CFLAGS) -c -o libchicken_la-library.lo `test -f 'library.c' || echo '$(srcdir)/'`library.c
 
 libchicken_la-lolevel.o: lolevel.c
 	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libchicken_la_CFLAGS) $(CFLAGS) -c -o libchicken_la-lolevel.o `test -f 'lolevel.c' || echo '$(srcdir)/'`lolevel.c
@


1.5
log
@Update to 2.5.

Testing by steven@@ and Joachim Schipper, thanks!

ok steven@@
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.in.orig	Tue Oct 17 02:38:48 2006
+++ Makefile.in	Sun Nov 26 04:23:21 2006
@@@@ -25,9 +25,9 @@@@ SOURCES = $(libchicken_la_SOURCES) $(lib
d17 1
a17 1
@@@@ -348,7 +348,7 @@@@ C_INSTALL_CXX = \"$(CXX)\"
d26 1
a26 1
@@@@ -485,7 +485,6 @@@@ $(top_builddir)/config.status: $(top_src
d34 1
a34 1
@@@@ -499,7 +498,6 @@@@ stamp-h1: $(srcdir)/chicken-config.h.in 
d42 1
a42 1
@@@@ -667,13 +665,13 @@@@ libchicken_la-extras.lo: extras.c
d58 1
a58 1
@@@@ -1041,8 +1039,8 @@@@ install-pkgdataDATA: $(pkgdata_DATA)
d69 1
a69 1
@@@@ -1473,11 +1471,11 @@@@ regex.exports: $(regexexports)
@


1.4
log
@- make the compiler find its header files
- set up paths correctly for extensions to work
from maintainer Deanna Phillips <deanna at sdf.lonestar.org>

clean up a bit while here.
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile_in,v 1.3 2006/07/30 12:25:19 steven Exp $
--- Makefile.in.orig	Mon Jul 17 19:18:42 2006
+++ Makefile.in	Mon Jul 31 10:38:02 2006
@@@@ -19,9 +19,10 @@@@
d8 1
a8 2
+docdir = $(datadir)/doc/@@PACKAGE@@
 pkgdatadir = $(datadir)/@@PACKAGE@@
d11 3
a13 2
+pkglibdir = $(pkgdatadir)
+pkgincludedir = $(pkgdatadir)/include
d15 26
d42 2
a43 3
 am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
@@@@ -678,13 +679,13 @@@@ libchicken_la-runtime.lo: runtime.c
 	$(LIBTOOL) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libchicken_la_CFLAGS) $(CFLAGS) -c -o libchicken_la-runtime.lo `test -f 'runtime.c' || echo '$(srcdir)/'`runtime.c
d56 14
a69 3
 libchicken_la-eval.o: eval.c
 	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(libchicken_la_CFLAGS) $(CFLAGS) -c -o libchicken_la-eval.o `test -f 'eval.c' || echo '$(srcdir)/'`eval.c
@@@@ -1651,8 +1652,8 @@@@ regex.exports: $(regexexports)
d72 1
a72 1
 install-data-local : chicken.html
d74 1
d76 9
a84 3
+	$(mkinstalldirs) $(DESTDIR)$(docdir)
+	-for file in $(DOCFILES); do cp $(srcdir)/$$file $(DESTDIR)$(docdir); done
 	$(mkinstalldirs) $(DESTDIR)$(pkglibdir)/$(BINARY_VERSION)
a85 1
 chicken.html: chicken.texi
@


1.3
log
@compile only the problem source file with -O0 on sparc64.

prompted by and "looks good" sturm@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 3
a5 2
+++ Makefile.in	Thu Jul 27 06:54:18 2006
@@@@ -20,7 +20,7 @@@@ srcdir = @@srcdir@@
d8 1
d11 3
a13 2
+pkglibdir = $(libdir)
 pkgincludedir = $(includedir)/@@PACKAGE@@
d16 2
a17 10
@@@@ -200,7 +200,7 @@@@ chicken_static_SOURCES = 
 chicken_static_LDADD = chicken.o support.o easyffi.o compiler.o optimizer.o c-platform.o c-backend.o batch-driver.o libchicken.la $(MORE_STATIC_LIBS)
 chicken_static_LDFLAGS = -static $(LINKFLAGS)
 
-BASE_CPPFLAGS = -DC_STACK_GROWS_DOWNWARD=$(STACK_GROWS_DOWNWARD) -DC_INSTALL_LIB_HOME='"$(pkglibdir)/$(BINARY_VERSION)"' \
+BASE_CPPFLAGS = -DC_STACK_GROWS_DOWNWARD=$(STACK_GROWS_DOWNWARD) -DC_INSTALL_LIB_HOME='"$(pkglibdir)"' \
   -DC_INSTALL_HOME='"$(pkgdatadir)"' -DC_USE_C_DEFAULTS
 
 INCLUDES = $(BASE_CPPFLAGS) -DC_NO_PIC_NO_DLL
@@@@ -678,13 +678,13 @@@@ libchicken_la-runtime.lo: runtime.c
d33 1
a33 1
@@@@ -1454,7 +1454,7 @@@@ info: info-am
d35 7
a41 1
 info-am: $(INFO_DEPS)
d43 1
a43 22
-install-data-am: install-data-local install-includeHEADERS \
+install-data-am: install-includeHEADERS \
 	install-info-am install-man install-pkgdataDATA
 
 install-exec-am: install-binPROGRAMS install-libLTLIBRARIES
@@@@ -1599,7 +1599,7 @@@@ chicken-defaults.h: nsample
 	echo "# define C_INSTALL_HOME \"${pkgdatadir}\"" >>chicken-defaults.h; \
 	echo "#endif" >> chicken-defaults.h; \
 	echo "#ifndef C_INSTALL_LIB_HOME" >> chicken-defaults.h; \
-	echo "# define C_INSTALL_LIB_HOME \"${pkglibdir}/${BINARY_VERSION}\"" >>chicken-defaults.h; \
+	echo "# define C_INSTALL_LIB_HOME \"${pkglibdir}\"" >>chicken-defaults.h; \
 	echo "#endif" >> chicken-defaults.h; \
 	echo "#ifndef C_DEFAULT_TARGET_STACK_SIZE" >> chicken-defaults.h; \
 	echo "# define C_DEFAULT_TARGET_STACK_SIZE ($${nursery})" >>chicken-defaults.h; \
@@@@ -1848,7 +1848,6 @@@@ uninstall:
 	rm -f $(mandir)/man1/csi.1
 	rm -f $(libdir)/libchicken.*
 	rm -f $(libdir)/libuchicken.*
-	rm -fr $(pkglibdir)
 	rm -fr $(pkgdatadir)
 	rm -f $(includedir)/chicken.h
 	rm -f $(includedir)/chicken-config.h
@


1.2
log
@update to chicken 2.41

from maintainer Deanna Phillips <deanna at sdf.lonestar.org>

use -O0 on sparc64 to avoid an internal compiler error.
@
text
@d2 2
a3 2
--- Makefile.in.orig	Wed Jul 19 13:37:37 2006
+++ Makefile.in	Wed Jul 19 13:38:31 2006
d22 16
@


1.1
log
@Initial revision
@
text
@d2 21
a22 3
--- Makefile.in.orig	Sat May  6 18:20:49 2006
+++ Makefile.in	Sat May  6 18:21:27 2006
@@@@ -1449,7 +1449,7 @@@@ info: info-am
d31 17
@


1.1.1.1
log
@import chicken 2.3

CHICKEN is a compiler for the Scheme programming language. CHICKEN
produces portable, efficient C, supports almost all of the current
Scheme language standard, the Revised Report on the Algorithmic Language
Scheme (R5RS), and includes many enhancements and extensions.

submitted by Deanna Phillips <deanna at sdf.lonestar.org>

go ahead espie@@
@
text
@@
