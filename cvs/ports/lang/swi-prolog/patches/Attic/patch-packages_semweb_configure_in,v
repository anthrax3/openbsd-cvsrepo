head	1.3;
access;
symbols
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.0.6
	OPENBSD_4_4_BASE:1.1
	OPENBSD_4_3:1.1.0.4
	OPENBSD_4_3_BASE:1.1
	OPENBSD_4_2:1.1.0.2
	OPENBSD_4_2_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2010.12.27.16.07.08;	author jasper;	state dead;
branches;
next	1.2;

1.2
date	2008.08.29.12.30.21;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2007.07.10.20.53.59;	author kili;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- update swi-prolog to 5.10.2
- unbreak on hppa (tested by landry@@)

If you are upgrading from an older release (e.g. 5.6.x) it is advised to
read the upgrading guide which is available from
http://www.swi-prolog.org/Upgrade-5.8.html
@
text
@$OpenBSD: patch-packages_semweb_configure_in,v 1.2 2008/08/29 12:30:21 espie Exp $

Don't override CFLAGS, don't force -O3 (but keep -fno-strict-aliasing).

--- packages/semweb/configure.in.orig	Tue Aug  5 21:36:31 2008
+++ packages/semweb/configure.in	Fri Aug 29 14:11:36 2008
@@@@ -65,14 +65,13 @@@@ AC_CHECK_PROGS(ETAGS, etags ctags, ":")
 AC_PROG_INSTALL
 AC_ISC_POSIX
 AC_HEADER_STDC
-CFLAGS="$CMFLAGS"
 AC_FUNC_ALLOCA
 AC_C_BIGENDIAN
 AC_C_INLINE
 AC_CHECK_SIZEOF(long)
 
 if test ! -z "$GCC"; then
-    COFLAGS="${COFLAGS--O3 -fno-strict-aliasing}"
+    COFLAGS="${COFLAGS} -fno-strict-aliasing"
     CWFLAGS="${CWFLAGS--Wall}"
 else
     COFLAGS="${CFLAGS--O}"
@


1.2
log
@update to 5.6.59
@
text
@d1 1
a1 1
$OpenBSD: patch-packages_semweb_configure_in,v 1.1 2007/07/10 20:53:59 kili Exp $
@


1.1
log
@
Unbreak for amd64. Noticed, suggested and ok, steven@@.

Zap a -O3 from packages/semweb and honor our CFLAGS instead (also
noticed by steven@@). No ok (or any feedback at all) for this. But I'm
pretty sure it doesn't break *%&$#@@
@
text
@d1 1
a1 1
$OpenBSD$
d5 2
a6 2
--- packages/semweb/configure.in.orig	Tue Jan 23 20:25:14 2007
+++ packages/semweb/configure.in	Tue Jun 26 13:28:57 2007
d18 3
a20 3
-    COFLAGS="-O3 -fno-strict-aliasing"
+    COFLAGS=-fno-strict-aliasing
     CWFLAGS=${CWFLAGS--Wall}
d22 1
a22 1
     COFLAGS=-O
@

