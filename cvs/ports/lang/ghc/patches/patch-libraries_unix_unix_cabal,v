head	1.3;
access;
symbols
	OPENBSD_6_1:1.3.0.6
	OPENBSD_6_1_BASE:1.3
	OPENBSD_6_0:1.3.0.4
	OPENBSD_6_0_BASE:1.3
	OPENBSD_5_9:1.3.0.2
	OPENBSD_5_9_BASE:1.3;
locks; strict;
comment	@# @;


1.3
date	2016.01.20.16.02.06;	author kili;	state Exp;
branches;
next	1.2;
commitid	YpqCy16gFI4KcWnR;

1.2
date	2010.06.28.21.27.36;	author kili;	state dead;
branches;
next	1.1;

1.1
date	2010.05.06.20.00.19;	author kili;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Add a module System.OpenBSD.Process to package unix with currently
only one function giving access to the pledge(2) system call:

pledge :: String -> Maybe [FilePath] -> IO ()

Help and testing by semarie@@ and abieber@@. Thanks!

No bump yet, because there'll be some more churn (so please wait a
little bit for other haskell commits before starting to build it).
@
text
@$OpenBSD$
--- libraries/unix/unix.cabal.orig	Sun Jan  4 23:56:26 2015
+++ libraries/unix/unix.cabal	Tue Jan 19 00:42:33 2016
@@@@ -109,6 +109,8 @@@@ library
         System.Posix.Terminal
         System.Posix.Terminal.ByteString
 
+        System.OpenBSD.Process
+
     other-modules:
         System.Posix.Directory.Common
         System.Posix.DynamicLinker.Common
@


1.2
log
@Threading support should work now (with a patch from Simon Marlow).
@
text
@d1 12
a12 11
$OpenBSD: patch-libraries_unix_unix_cabal,v 1.1 2010/05/06 20:00:19 kili Exp $
--- libraries/unix/unix.cabal.orig	Tue Apr 20 20:10:14 2010
+++ libraries/unix/unix.cabal	Sun May  2 12:30:02 2010
@@@@ -45,7 +45,6 @@@@ Library
         System.Posix.User
         System.Posix.Signals
         System.Posix.Signals.Exts
-        System.Posix.Semaphore
         System.Posix.SharedMem
     build-depends:	base >= 4.2 && < 4.3
     extensions:	CPP, ForeignFunctionInterface, EmptyDataDecls
@


1.1
log
@Change ghc.port.mk to allow addition of flags to MODGHC_SETUP_PROG by
just setting MODGHC_SETUP_CONF_ARGS (which is now empty by default).

Add dblatex-created documentation.

While here, use our INSTALL* macros where possible to get correct
permissions (noticed by dcoppa@@). This does *not* fix the permissions
of libraries and interface files installed by Cabal-based tools,
because the permissions are hard-coded in Cabal, and I'm not going
to touch and fix Cabal ever, because IMHO it's completely broken
by design. (If you want to read some of this madness, have a look
at libraries/Cabal/Distribution/Compat/CopyFile.hs or even
libraries/Cabal/Distribution/Simple/Install.hs)

Expect some breakage of depending ports (at least of devel/darcs) and
some necessary WANTLIB changes, which will be fixed soonish.
@
text
@d1 1
a1 1
$OpenBSD$
@

