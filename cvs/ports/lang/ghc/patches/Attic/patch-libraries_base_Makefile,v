head	1.2;
access;
symbols
	OPENBSD_3_6:1.1.0.2
	OPENBSD_3_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2005.02.14.01.26.56;	author dons;	state dead;
branches;
next	1.1;

1.1
date	2004.04.26.23.48.50;	author dons;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update ghc to 6.2.2.
Adds support for ghci. More stable foreign function interface.

Just i386 at the moment.

ok sturm@@ pvalchev@@
@
text
@$OpenBSD: patch-libraries_base_Makefile,v 1.1 2004/04/26 23:48:50 dons Exp $
Fix to prevent stub file building when bootstrapping.
This is a bug in the build infrastructure.

--- libraries/base/Makefile.orig	Thu Dec 18 22:28:46 2003
+++ libraries/base/Makefile	Thu Dec 18 22:28:48 2003
@@@@ -72,12 +72,13 @@@@
 CLEAN_FILES += GHC/PrimopWrappers.hs
 
 # -----------------------------------------------------------------------------
-
+ifneq "$(BootingFromHc)" "YES"
 STUBOBJS += \
    Control/Concurrent_stub.$(way_)o
    
 CLEAN_FILES += $(STUBOBJS) \
    Control/Concurrent_stub.[ch]
+endif
 
 #-----------------------------------------------------------------------------
 # 	Building the library for GHCi
@


1.1
log
@Update GHC to 6.2.1, and port to amd64

ok avsm@@ pvalchev@@
@
text
@d1 1
a1 1
$OpenBSD$
@

