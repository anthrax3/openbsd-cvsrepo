head	1.2;
access;
symbols
	avsm_2003-May-29:1.1.1.1 avsm:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2003.07.20.21.57.11;	author avsm;	state dead;
branches;
next	1.1;

1.1
date	2003.05.29.16.38.31;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.05.29.16.38.31;	author avsm;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update from maintainer Don Stewart (dons at cse.unsw.edu.au):

- Updated to ghc-6.0
- Halved (roughly) the build time; by using the 6.0 in-tree build
we only have to build the 6.0 libraries once. Also we only build the
necessary parts of the bootstrap compiler.
- The ugly lndir/stage1 build is also gone.
- The full ghc regression suite is now part of the port!
"make regress" will run around 3000 regress tests.
- The regression tests revealed that the C foreign function
- The Makefile is simplified, using more default targets
- The documentation is updated to 6.0
- I put some of the 5.04.3 patches into ghc cvs, so they are
now obsolete.

Unfortunately, this lets mozilla back in the race for longest
package building time...
@
text
@More tedium 			-- commited to HEAD

$OpenBSD: patch-hslibs_posix_DLPrim_hsc,v 1.1 2003/05/29 16:38:31 avsm Exp $
--- hslibs/posix/DLPrim.hsc.orig	Fri Dec  6 14:43:33 2002
+++ hslibs/posix/DLPrim.hsc	Fri Dec  6 14:44:19 2002
@@@@ -90,8 +90,19 @@@@ packModuleFlags flags = foldl (\ s f -> 
 
 packOneModuleFlag :: ModuleFlags -> CInt
 packOneModuleFlag RTLD_LAZY = #const RTLD_LAZY
+
+#ifdef HAVE_RTLDNOW
 packOneModuleFlag RTLD_NOW = #const RTLD_NOW
+#else /* HAVE_RTLDNOW */
+packOneModuleFlag RTLD_NOW =  error "RTLD_NOW not available"
+#endif /* HAVE_RTLDNOW */
+
+#ifdef HAVE_RTLDGLOBAL
 packOneModuleFlag RTLD_GLOBAL = #const RTLD_GLOBAL
+#else /* HAVE_RTLDGLOBAL */
+packOneModuleFlag RTLD_GLOBAL = error "RTLD_GLOBAL not available"
+#endif
+
 #ifdef HAVE_RTLDLOCAL
 packOneModuleFlag RTLD_LOCAL = #const RTLD_LOCAL
 #else /* HAVE_RTLDLOCAL */
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
$OpenBSD$
@


1.1.1.1
log
@initial import of ghc-5.04.3, which takes the "longest compilation
time" award from mozilla and gcc3

From Don Stewart <dons@@cse.unsw.edu.au> with tweaks from me

(i386 only for the moment)
--
The Glasgow Haskell Compiler is a robust, fully-featured, optimising
compiler for the functional programming language Haskell 98.

GHC compiles Haskell to either native code or C. It implements
numerous experimental language extensions to Haskell, including
concurrency, a foreign language interface, several type-system
extensions, exceptions, and so on. GHC comes with a generational
garbage collector, a space and time profiler, and a comprehensive
set of libraries.

@
text
@@
