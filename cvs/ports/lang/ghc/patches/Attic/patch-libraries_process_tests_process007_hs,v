head	1.2;
access;
symbols
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2012.06.12.20.11.22;	author kili;	state dead;
branches;
next	1.1;

1.1
date	2011.09.16.21.17.41;	author kili;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Remove pointless test suite patch. It just covered up some fd leak
in the test framework, and the process007 test still failed for the
threaded variants (in the system(3) call).
@
text
@$OpenBSD: patch-libraries_process_tests_process007_hs,v 1.1 2011/09/16 21:17:41 kili Exp $
--- libraries/process/tests/process007.hs.orig	Thu Sep 15 20:13:52 2011
+++ libraries/process/tests/process007.hs	Thu Sep 15 20:09:08 2011
@@@@ -16,7 +16,7 @@@@ main = do
 
   fd <- handleToFd =<< openFile tmpfile ReadMode
   nul <- openFile "/dev/null" WriteMode
-  (_,_,_,p) <- createProcess (shell ("cat 0<&" ++ show fd))
+  (_,_,_,p) <- createProcess (proc "${LOCALBASE}/bin/bash" ["-c", "cat 0<&" ++ show fd])
                                { close_fds = True,
                                  std_err = UseHandle nul }
   e <- waitForProcess p
@


1.1
log
@Workaround for failing test case process007: use bash (yuck!)
@
text
@d1 1
a1 1
$OpenBSD$
@

