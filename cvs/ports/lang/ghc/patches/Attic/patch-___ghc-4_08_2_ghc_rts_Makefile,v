head	1.4;
access;
symbols
	avsm_2003-May-29:1.1.1.1 avsm:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2003.09.01.20.32.14;	author espie;	state dead;
branches;
next	1.3;

1.3
date	2003.08.01.14.03.40;	author avsm;	state Exp;
branches;
next	1.2;

1.2
date	2003.07.20.21.57.11;	author avsm;	state Exp;
branches;
next	1.1;

1.1
date	2003.05.29.16.38.31;	author avsm;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.05.29.16.38.31;	author avsm;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Bootstrap using a more recent ghc, solves gc issues. From maintainer.
okay naddy.
@
text
@$OpenBSD: patch-___ghc-4_08_2_ghc_rts_Makefile,v 1.3 2003/08/01 14:03:40 avsm Exp $
Fixes known bug of target arch incorrectly passed to gmp.
This has been backported from 5.0x series GHC

--- ../ghc-4.08.2/ghc/rts/Makefile.orig	Thu Jan 30 13:34:07 2003
+++ ../ghc-4.08.2/ghc/rts/Makefile	Thu Jan 30 13:34:38 2003
@@@@ -132,7 +132,8 @@@@ boot ::
 	if [ ! -f gmp/configure ] ; then ( cd gmp && autoconf ); fi;
 	if [ ! -f gmp/mpn/configure ] ; then ( cd gmp/mpn && autoconf ); fi;
 	if [ ! -f gmp/mpz/configure ] ; then ( cd gmp/mpz && autoconf ); fi;
-	cd gmp && ./configure --target=$(HOSTPLATFORM)
+	cd gmp && ./configure \
+        --host=`echo $(HOSTPLATFORM) | sed 's/i[567]86/i486/g'`
 # Slight cheatage here to past host as target, but x-compilation isn't supported by ghc.
 
 # make sure the various configure files are included in a source dist.
@


1.3
log
@RCS tags, from Xavier Santolaria <xavier@@santolaria.net>
@
text
@d1 1
a1 1
$OpenBSD$
@


1.2
log
@Update from maintainer Don Stewart (dons at cse.unsw.edu.au):

- Updated to ghc-6.0
- Halved (roughly) the build time; by using the 6.0 in-tree build
we only have to build the 6.0 libraries once. Also we only build the
necessary parts of the bootstrap compiler.
- The ugly lndir/stage1 build is also gone.
- The full ghc regression suite is now part of the port!
"make regress" will run around 3000 regress tests.
- The regression tests revealed that the C foreign function
- The Makefile is simplified, using more default targets
- The documentation is updated to 6.0
- I put some of the 5.04.3 patches into ghc cvs, so they are
now obsolete.

Unfortunately, this lets mozilla back in the race for longest
package building time...
@
text
@d1 1
@


1.1
log
@Initial revision
@
text
@a0 1

@


1.1.1.1
log
@initial import of ghc-5.04.3, which takes the "longest compilation
time" award from mozilla and gcc3

From Don Stewart <dons@@cse.unsw.edu.au> with tweaks from me

(i386 only for the moment)
--
The Glasgow Haskell Compiler is a robust, fully-featured, optimising
compiler for the functional programming language Haskell 98.

GHC compiles Haskell to either native code or C. It implements
numerous experimental language extensions to Haskell, including
concurrency, a foreign language interface, several type-system
extensions, exceptions, and so on. GHC comes with a generational
garbage collector, a space and time profiler, and a comprehensive
set of libraries.

@
text
@@
