head	1.3;
access;
symbols
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2016.03.05.15.05.33;	author semarie;	state dead;
branches;
next	1.2;
commitid	zHXYqXJVlpEY1lFN;

1.2
date	2016.01.22.09.03.15;	author semarie;	state Exp;
branches;
next	1.1;
commitid	soVo5L7O4D1hyBye;

1.1
date	2016.01.13.07.39.08;	author semarie;	state Exp;
branches;
next	;
commitid	byiYh0dzYB8WFAob;


desc
@@


1.3
log
@update lang/rust to 1.7.0

"looks reasonable" bmercer@@
@
text
@$OpenBSD: patch-src_test_run-make_tools_mk,v 1.2 2016/01/22 09:03:15 semarie Exp $
https://github.com/rust-lang/rust/pull/30493
--- src/test/run-make/tools.mk.orig	Sat Jan  9 09:02:08 2016
+++ src/test/run-make/tools.mk	Sat Jan  9 09:02:26 2016
@@@@ -85,11 +85,7 @@@@ ifeq ($(UNAME),Bitrig)
 else
 ifeq ($(UNAME),OpenBSD)
 	EXTRACFLAGS := -lm -lpthread
-	# extend search lib for found estdc++ if build using gcc from
-	# ports under OpenBSD. This is needed for:
-	#  - run-make/execution-engine
-	#  - run-make/issue-19371
-	RUSTC := $(RUSTC) -L/usr/local/lib
+	RUSTC := $(RUSTC) -C linker="$(word 1,$(CC:ccache=))"
 else
 	EXTRACFLAGS := -lm -lrt -ldl -lpthread
 	EXTRACXXFLAGS := -lstdc++
@


1.2
log
@update lang/rust to 1.6.0

ok juanfra@@
@
text
@d1 1
a1 1
$OpenBSD: patch-src_test_run-make_tools_mk,v 1.1 2016/01/13 07:39:08 semarie Exp $
@


1.1
log
@install libraries with rustc

- remove now unneeded MAKE_ENV option to pass --sysroot argument to bootstrapper
- backport the latest changes for building rustc under openbsd
- switch the install from installing a stage3 rustc binary to installing a stage2 rustc binary (and all required libraries)

ok juanfra@@
@
text
@d1 2
a2 2
$OpenBSD$
https://github.com/rust-lang/rust/pull/29794
@

