head	1.3;
access;
symbols;
locks; strict;
comment	@# @;


1.3
date	2017.02.15.12.52.35;	author landry;	state dead;
branches;
next	1.2;
commitid	NM74A8PX4zxQ5FFL;

1.2
date	2016.12.26.13.52.46;	author landry;	state Exp;
branches;
next	1.1;
commitid	iU6h7FSgPqiZKnfv;

1.1
date	2016.08.31.08.33.19;	author landry;	state Exp;
branches;
next	;
commitid	rjCKCwuvdXGdhOcu;


desc
@@


1.3
log
@Update to rust 1.15.1.

- switch to rustbuild build system instead of configure (the world
  definitely needed one more build system!)
- the build still takes +INF hours, this is being investigated

Note that rust will be a hard-requirement for gecko 54... sigh.

Tested by semarie@@ and myself on i386 & amd64.

All the hard work and countless build hours by semarie@@, thanks!
@
text
@$OpenBSD: patch-src_tools_tidy_src_main_rs,v 1.2 2016/12/26 13:52:46 landry Exp $
Disable cargo_lock check: it requires the source directory to be a git clone.
--- src/tools/tidy/src/main.rs.orig	Sun Dec 18 00:40:12 2016
+++ src/tools/tidy/src/main.rs	Wed Dec 21 11:19:24 2016
@@@@ -35,7 +35,6 @@@@ mod style;
 mod errors;
 mod features;
 mod cargo;
-mod cargo_lock;
 mod pal;
 
 fn main() {
@@@@ -48,7 +47,6 @@@@ fn main() {
     errors::check(&path, &mut bad);
     cargo::check(&path, &mut bad);
     features::check(&path, &mut bad);
-    cargo_lock::check(&path, &mut bad);
     pal::check(&path, &mut bad);
 
     if bad {
@


1.2
log
@update rust to 1.14.0, from MAINTAINER semarie@@

for details, please see https://blog.rust-lang.org/2016/12/22/Rust-1.14.html

tested on i386 w/ llvm 3.9.0 here, and sebastien tested both amd64 & i386.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_tools_tidy_src_main_rs,v 1.1 2016/08/31 08:33:19 landry Exp $
@


1.1
log
@Update to rust 1.11.0, from semarie@@, thanks!
All tests passing here.
@
text
@d1 1
a1 1
$OpenBSD$
d3 3
a5 3
--- src/tools/tidy/src/main.rs.orig	Sun Aug 21 09:03:09 2016
+++ src/tools/tidy/src/main.rs	Sun Aug 21 09:03:37 2016
@@@@ -35,7 +35,7 @@@@ mod style;
d10 1
a10 1
+//mod cargo_lock;
d13 1
a13 2
     let path = env::args_os().skip(1).next().expect("need an argument");
@@@@ -47,7 +47,7 @@@@ fn main() {
d18 1
a18 1
+    //cargo_lock::check(&path, &mut bad);
a20 1
         panic!("some tidy checks failed");
@

