head	1.3;
access;
symbols
	OPENBSD_6_1:1.1.0.2
	OPENBSD_6_1_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2017.06.17.02.06.53;	author danj;	state dead;
branches;
next	1.2;
commitid	hI8KpqsP1qgu63cc;

1.2
date	2017.05.05.11.40.29;	author landry;	state Exp;
branches;
next	1.1;
commitid	Vk0ki6dvK3m2aqtF;

1.1
date	2017.03.30.18.46.20;	author naddy;	state Exp;
branches;
next	;
commitid	jEj5nM27ra16jq7E;


desc
@@


1.3
log
@Update to rust-1.18.0

From semarie (maintainer)
@
text
@$OpenBSD: patch-src_bootstrap_step_rs,v 1.2 2017/05/05 11:40:29 landry Exp $
Require having building rustdoc before trying to build docs.
--- src/bootstrap/step.rs.orig	Mon Apr 24 20:53:45 2017
+++ src/bootstrap/step.rs	Wed Apr 26 08:43:00 2017
@@@@ -614,7 +614,7 @@@@ pub fn build_rules<'a>(build: &'a Build) -> Rules {
              s.name("rustc")
               .host(&build.config.build)
               .target(&build.config.build)
-              .stage(0)
+              .stage(2)
          })
          .default(build.config.docs)
          .run(move |s| doc::standalone(build, s.target));
@


1.2
log
@Update to rust 1.17.0, from semarie@@

Use ports llvm instead of building the bundled copy (yay!)
More work needed to actually build with clang ...
@
text
@d1 1
a1 1
$OpenBSD: patch-src_bootstrap_step_rs,v 1.1 2017/03/30 18:46:20 naddy Exp $
@


1.1
log
@fix a build race: patch rustbuild to ensure that the documentation
requires rustdoc as dependency; from Sebastien Marie
@
text
@d1 1
a1 1
$OpenBSD$
d3 3
a5 3
--- src/bootstrap/step.rs.orig	Wed Mar 29 18:57:20 2017
+++ src/bootstrap/step.rs	Wed Mar 29 18:57:35 2017
@@@@ -542,7 +542,7 @@@@ pub fn build_rules<'a>(build: &'a Build) -> Rules {
@

