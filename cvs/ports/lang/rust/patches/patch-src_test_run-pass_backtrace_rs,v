head	1.4;
access;
symbols
	OPENBSD_6_0:1.1.0.2
	OPENBSD_6_0_BASE:1.1;
locks; strict;
comment	@# @;


1.4
date	2016.12.26.13.52.46;	author landry;	state Exp;
branches;
next	1.3;
commitid	iU6h7FSgPqiZKnfv;

1.3
date	2016.10.25.17.08.07;	author danj;	state Exp;
branches;
next	1.2;
commitid	CaXMwV9awx6WTFqu;

1.2
date	2016.08.31.08.33.19;	author landry;	state Exp;
branches;
next	1.1;
commitid	rjCKCwuvdXGdhOcu;

1.1
date	2016.05.29.07.26.46;	author semarie;	state Exp;
branches;
next	;
commitid	roUcrlyczCPIKJzh;


desc
@@


1.4
log
@update rust to 1.14.0, from MAINTAINER semarie@@

for details, please see https://blog.rust-lang.org/2016/12/22/Rust-1.14.html

tested on i386 w/ llvm 3.9.0 here, and sebastien tested both amd64 & i386.
@
text
@$OpenBSD: patch-src_test_run-pass_backtrace_rs,v 1.3 2016/10/25 17:08:07 danj Exp $
Skip run-pass/backtrace as libbacktrace is disabled on openbsd.
--- src/test/run-pass/backtrace.rs.orig	Sun Dec 18 00:40:12 2016
+++ src/test/run-pass/backtrace.rs	Wed Dec 21 11:18:23 2016
@@@@ -103,7 +103,8 @@@@ fn runtest(me: &str) {
 }
 
 fn main() {
-    if cfg!(windows) && cfg!(target_env = "gnu") {
+    if (cfg!(windows) && cfg!(target_env = "gnu")) ||
+        cfg!(target_os = "openbsd") {
         return
     }
 
@


1.3
log
@Update to rust-1.12.1

For release note see https://blog.rust-lang.org/2016/10/20/Rust-1.12.1.html

Please note, semarie rebuilded the bootstrap due to a bug in rustc: 1.12.0
wasn't able to rebuild 1.12.1 without intrusive patches in the build system

From semarie, ok ajacoutot
@
text
@d1 1
a1 1
$OpenBSD: patch-src_test_run-pass_backtrace_rs,v 1.2 2016/08/31 08:33:19 landry Exp $
d3 3
a5 3
--- src/test/run-pass/backtrace.rs.orig	Wed Oct 19 23:51:03 2016
+++ src/test/run-pass/backtrace.rs	Sat Oct 22 15:28:15 2016
@@@@ -104,7 +104,8 @@@@ fn runtest(me: &str) {
@


1.2
log
@Update to rust 1.11.0, from semarie@@, thanks!
All tests passing here.
@
text
@d1 1
a1 1
$OpenBSD: patch-src_test_run-pass_backtrace_rs,v 1.1 2016/05/29 07:26:46 semarie Exp $
d3 3
a5 3
--- src/test/run-pass/backtrace.rs.orig	Mon Jul  4 20:04:09 2016
+++ src/test/run-pass/backtrace.rs	Tue Jul  5 19:01:38 2016
@@@@ -115,7 +115,8 @@@@ fn runtest(me: &str) {
@


1.1
log
@lang/rust update to 1.9.0

- changes in Makefile to make it compute itself the RUST_HASH value

- use new configure option --disable-codegen-tests as with don't have FileCheck
  (from llvm) binary. remove the patches in configure and src/compiletest/runtest.rs

- disable (for now) two news tests added with unix socket support, that doesn't
  pass. I will investigate them later.

- disable run-pass/backtrace test. The support of libbacktrace has been remove
  recently.
@
text
@d1 1
a1 1
$OpenBSD$
d3 3
a5 3
--- src/test/run-pass/backtrace.rs.orig	Tue May 24 09:36:09 2016
+++ src/test/run-pass/backtrace.rs	Tue May 24 09:37:49 2016
@@@@ -121,7 +121,8 @@@@ fn runtest(me: &str) {
@

