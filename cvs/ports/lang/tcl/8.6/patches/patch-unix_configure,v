head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.2
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.5.0.2
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.4.0.4
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.2
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.3.0.4
	OPENBSD_5_8_BASE:1.3
	OPENBSD_5_4:1.1.0.2
	OPENBSD_5_4_BASE:1.1;
locks; strict;
comment	@# @;


1.6
date	2017.05.10.01.20.34;	author stu;	state Exp;
branches;
next	1.5;
commitid	GXHqmHSJphBsQwEX;

1.5
date	2016.09.01.14.19.12;	author naddy;	state Exp;
branches;
next	1.4;
commitid	8s9qu7RoiBxxAOcc;

1.4
date	2015.09.26.01.50.15;	author tobiasu;	state Exp;
branches;
next	1.3;
commitid	7rqEMMLpN6n76JSo;

1.3
date	2015.05.22.04.17.01;	author stu;	state Exp;
branches;
next	1.2;
commitid	1z4XWzlHAxv6nkCN;

1.2
date	2013.09.22.10.33.13;	author stu;	state dead;
branches;
next	1.1;

1.1
date	2013.07.06.11.05.30;	author stu;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to 8.6.6.
@
text
@$OpenBSD: patch-unix_configure,v 1.5 2016/09/01 14:19:12 naddy Exp $

Setting this here will allow it to propagate through everything.

--- unix/configure.orig	Tue Jul 26 10:07:18 2016
+++ unix/configure	Mon Apr 10 02:13:20 2017
@@@@ -19053,7 +19053,7 @@@@ if test "$FRAMEWORK_BUILD" = "1" ; then
 elif test "$prefix/lib" != "$libdir"; then
     TCL_PACKAGE_PATH="${libdir} ${prefix}/lib ${TCL_PACKAGE_PATH}"
 else
-    TCL_PACKAGE_PATH="${prefix}/lib ${TCL_PACKAGE_PATH}"
+    TCL_PACKAGE_PATH="${prefix}/lib/tcl"
 fi
 
 #--------------------------------------------------------------------
@


1.5
log
@retire sparc
@
text
@d1 1
a1 1
$OpenBSD: patch-unix_configure,v 1.4 2015/09/26 01:50:15 tobiasu Exp $
d5 3
a7 3
--- unix/configure.orig	Wed Mar 11 14:59:56 2015
+++ unix/configure	Sat Sep 26 02:01:38 2015
@@@@ -19207,7 +19207,7 @@@@ if test "$FRAMEWORK_BUILD" = "1" ; then
@


1.4
log
@fix tcl 8.6 on sparc, needs -fPIC also

broken before, other archs not affected, no bump required
@
text
@d1 1
a1 1
$OpenBSD: patch-unix_configure,v 1.3 2015/05/22 04:17:01 stu Exp $
a6 9
@@@@ -7677,7 +7677,7 @@@@ fi
 		;;
 	    *)
 		case "$arch" in
-		alpha|sparc64)
+		alpha|sparc|sparc64)
 		    SHLIB_CFLAGS="-fPIC"
 		    ;;
 		*)
@


1.3
log
@Update to 8.6.4.

Discontinue the installation of private header files.
Discontinue patching an irrelevant file.
Use INSTALL_* as with the other Tcl/Tk ports. Better stripping.
Setup Tcl package path at configure time.
Cleanup README and adjust for new man.conf.
Improved lib/package/module path config/runtime.
Skip tests that will always fail due to assumptions that don't hold on OpenBSD.
Port improvements for less diff churn on future port updates.
@
text
@d1 1
a1 1
$OpenBSD$
d5 11
a15 2
--- unix/configure.orig	Mon Apr  6 20:35:14 2015
+++ unix/configure	Mon Apr  6 20:35:36 2015
@


1.2
log
@Update to 8.6.1.
@
text
@d1 15
a15 21
$OpenBSD: patch-unix_configure,v 1.1 2013/07/06 11:05:30 stu Exp $
--- unix/configure.orig	Wed Dec 19 10:40:38 2012
+++ unix/configure	Fri Jul  5 17:30:46 2013
@@@@ -7794,7 +7794,7 @@@@ fi
 	OpenBSD-*)
 	    arch=`arch -s`
 	    case "$arch" in
-	    m88k|vax)
+	    vax)
 		# Equivalent using configure option --disable-load
 		# Step 4 will set the necessary variables
 		DL_OBJS=""
@@@@ -7816,7 +7816,7 @@@@ fi
 		;;
 	    esac
 	    case "$arch" in
-	    m88k|vax)
+	    vax)
 		CFLAGS_OPTIMIZE="-O1"
 		;;
 	    sh)
@


1.1
log
@M88k is elf now.
Skip unneeded elf check in configure.
Whitespace tweaks.

Thanks to miod@@ for original patch.
@
text
@d1 1
a1 1
$OpenBSD$
@

