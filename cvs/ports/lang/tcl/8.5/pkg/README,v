head	1.10;
access;
symbols
	OPENBSD_6_0:1.10.0.6
	OPENBSD_6_0_BASE:1.10
	OPENBSD_5_9:1.10.0.2
	OPENBSD_5_9_BASE:1.10
	OPENBSD_5_8:1.10.0.4
	OPENBSD_5_8_BASE:1.10
	OPENBSD_5_7:1.7.0.6
	OPENBSD_5_7_BASE:1.7
	OPENBSD_5_6:1.7.0.4
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.5.0.6
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.4
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	OPENBSD_5_0:1.3.0.2
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2;
locks; strict;
comment	@# @;


1.10
date	2015.06.06.14.19.11;	author stu;	state Exp;
branches;
next	1.9;
commitid	fldqw6xIw205uW4f;

1.9
date	2015.06.06.12.13.03;	author ajacoutot;	state Exp;
branches;
next	1.8;
commitid	Iutnfu6D7PJqNzSp;

1.8
date	2015.06.05.20.34.58;	author stu;	state Exp;
branches;
next	1.7;
commitid	Cl9u6EePbrHhFl6a;

1.7
date	2014.01.11.12.56.41;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2013.07.16.02.48.05;	author stu;	state Exp;
branches;
next	1.5;

1.5
date	2011.12.08.22.41.48;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2011.10.17.15.18.39;	author stu;	state Exp;
branches;
next	1.3;

1.3
date	2011.06.02.13.41.39;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2011.01.05.16.13.53;	author stu;	state Exp;
branches;
next	1.1;

1.1
date	2010.11.15.18.26.39;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.10
log
@Return to 8.5.18.
Update distinfo.
Port was based on an RC a few days prior to release.
Insignificant difference between RC and released version.
Apologies.
@
text
@$OpenBSD: README,v 1.9 2015/06/06 12:13:03 ajacoutot Exp $

+-----------------------------------------------------------------------
| Running ${FULLPKGNAME} on OpenBSD
+-----------------------------------------------------------------------

The OpenBSD port of the Tcl dynamic language was designed to balance
deriving the maximum value from the original software while keeping
any modifications to a minimum.

Install locations and file names differ from the default to enable
installing multiple versions of Tcl and Tk on OpenBSD without conflict.


Files and Directories
=====================

Tclsh and Wish
--------------
normally
${TRUEPREFIX}/lib/tclsh, ${TRUEPREFIX}/lib/wish
now
${TRUEPREFIX}/lib/tclsh8.5, ${TRUEPREFIX}/lib/wish8.5

Library files
-------------
scripts, encoding files, etc.
normally in
${TRUEPREFIX}/lib/tcl8.5, ${TRUEPREFIX}/lib/tk8.5
now in
${TRUEPREFIX}/lib/tcl/tcl8.5, ${TRUEPREFIX}/lib/tcl/tk8.5

Configuration Files
-------------------
tclConfig.sh, tkConfig.sh
normally in
${TRUEPREFIX}/lib
now in
${TRUEPREFIX}/lib/tcl/tcl8.5, ${TRUEPREFIX}/lib/tcl/tk8.5

Header Files
------------
*.h
normally in
${TRUEPREFIX}/include
now in
${TRUEPREFIX}/include/tcl8.5, ${TRUEPREFIX}/include/tk8.5

Manual Pages
------------
*.1, *.3, *.n
normally in
${TRUEPREFIX}/man
now in
${TRUEPREFIX}/lib/tcl/tcl8.5/man, ${TRUEPREFIX}/lib/tcl/tk8.5/man

Demos
-----
*.tcl, *
normally in
${TRUEPREFIX}/lib/tk8.5/demos
now in
${TRUEPREFIX}/share/examples/tk8.5

Bundled Tcl Modules
-------------------
*.tm
normally in
${TRUEPREFIX}/lib/tcl8/...
now in
${TRUEPREFIX}/lib/tcl/tcl8.5/modules

Tcl Module Paths
----------------
normally
${TRUEPREFIX}/lib/tcl8/...
now
${TRUEPREFIX}/lib/tcl/modules/85

Additional Header Files
-----------------------
Additional ('private') header files are installed
in ${TRUEPREFIX}/include/tcl8.5 and ${TRUEPREFIX}/include/tk8.5.

Libraries
=========
On architectures that support shared libraries, additional static
libraries (libtcl85.a, libtk85.a) are built from the pic-compiled
object (.o) files.  A symbolic link from any lib.a to lib_pic.a
is created in order to satisfy libtool.

Manual Page Configuration
=========================
Adding the following lines to /etc/man.conf wil enable man(1)
and related commands can find the Tcl and Tk manual pages.

manpath ${TRUEPREFIX}/lib/tcl/tcl8.5/man
manpath ${TRUEPREFIX}/lib/tcl/tk8.5/man

Tcl/Tk Resources
================
Newsgroup: nntp://comp.lang.tcl
Wiki:      http://wiki.tcl.tk
Tutorial:  http://www.tcl.tk/man/tcl8.5/tutorial/tcltutorial.html
Wikibook:  http://en.wikibooks.org/wiki/Programming:Tcl
Book:      Practical Programming in Tcl and Tk, 4th Edition
           ISBN: 0-13-038560-3
@


1.9
log
@Revert tcl and tk update (8.5.18).
tcl distinfo is wrong and prevents half the tree to build.

prodded by espie@@
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.7 2014/01/11 12:56:41 ajacoutot Exp $
d11 1
a11 4
This document describes these differences and includes a handy guide
and patch for adding Tcl and Tk to /etc/man.conf.

Principally, the original install locations have been altered to enable
a13 8
Tclsh and Wish
==============
Tclsh and wish are installed as tclsh8.5 and wish8.5, respectively.
Many Tcl programs expect to find tclsh or wish.  They will have to be
modified to launch the correct shell or links tclsh and wish may be
created which point to tclsh8.5 and wish8.5, respectively. These links
may have already been created by the system administrator. It is of
course also possible to create one's own links.
d18 7
d55 1
a55 1
${TRUEPREFIX}/lib/tcl8.5/man, ${TRUEPREFIX}/lib/tk8.5/man
d71 1
a71 1
${TRUEPREFIX}/lib/tcl/tcl8.5/modules/...
d78 1
a78 1
${TRUEPREFIX}/lib/tcl/modules/...
d88 1
a88 1
libraries (libtcl85.a, libtk85.a) are built from the -fPIC compiled
d94 2
a95 2
Changes to /etc/man.conf are required so that OpenBSD's man(1) and
related commands can find the Tcl and Tk manual pages.
d97 2
a98 8
Additional _whatdb entries are needed which point to the Tcl and Tk
whatis.db files. The Tcl and Tk manual page directories need to be
added to the _default and n sections. Additional sections tcl and tk
point to the Tcl and Tk manual page directories.

Following this text is a patch (with instructions) that will perform
the aforementioned changes on an unmodified /etc/man.conf.
If not used directly it can serve as a guide.
a107 45

Patch to add Tcl and Tk to /etc/man.conf
========================================
Run:
$ patch -o man.conf.new /etc/man.conf ${_README_DIR}/${FULLPKGNAME}
Examine and install as /etc/man.conf if it appeases you.

@@@@ -7,6 +7,8 @@@@
 _whatdb		/usr/share/man/whatis.db
 _whatdb		/usr/local/man/whatis.db
 _whatdb		/usr/X11R6/man/whatis.db
+_whatdb		/usr/local/lib/tcl/tcl8.5/man/whatis.db
+_whatdb		/usr/local/lib/tcl/tk8.5/man/whatis.db
 
 # Subdirectories for paths ending in '/', IN SEARCH ORDER.
 _subdir		{cat,man}1 {cat,man}8 {cat,man}6 {cat,man}2 {cat,man}3 {cat,man}5 {cat,man}7 {cat,man}4 {cat,man}9 {cat,man}3p {cat,man}3f {cat,man}n
@@@@ -31,17 +33,19 @@@@
 # directory with all of the subdirectories listed for the keyword _subdir.
 
 # default
-_default	/usr/{share,X11R6,local,ports/infrastructure}/man/
+_default	/usr/{share,X11R6,local,local/lib/tcl/{tcl,tk}8.5,ports/infrastructure}/man/
 
 # Other sections that represent complete man subdirectories.
 X11		/usr/X11R6/man/
 X11R6		/usr/X11R6/man/
 local		/usr/local/man/
+tcl		/usr/local/lib/tcl/tcl8.5/man/
+tk		/usr/local/lib/tcl/tk8.5/man/
 
 # Specific section/directory combinations.
-1		/usr/{share,X11R6,local}/man/{cat,man}1
+1		/usr/{share,X11R6,local,local/lib/tcl/{tcl,tk}8.5}/man/{cat,man}1
 2		/usr/{share,X11R6,local}/man/{cat,man}2
-3		/usr/{share,X11R6,local}/man/{cat,man}3
+3		/usr/{share,X11R6,local,local/lib/tcl/{tcl,tk}8.5}/man/{cat,man}3
 3F		/usr/local/man/{cat,man}3f
 3f		/usr/local/man/{cat,man}3f
 3P		/usr/{share,local}/man/{cat,man}3p
@@@@ -52,4 +56,4 @@@@
 7		/usr/{share,X11R6,local}/man/{cat,man}7
 8		/usr/{share,X11R6,local}/man/{cat,man}8
 9		/usr/share/man/{cat,man}9
-n		/usr/local/man/{cat,man}n
+n		/usr/{local,local/lib/tcl/{tcl,tk}8.5}/man/{cat,man}n
@


1.8
log
@Update to 8.5.18.

Setup Tcl package path at configure time.
Cleanup README and adjust for new man.conf.
Improved lib/package/module path config/runtime.
Skip tests that will always fail due to assumptions that don't hold on OpenBSD.
@
text
@d11 4
a14 1
Install locations and file names differ from the default to enable
d17 8
a28 7
Tclsh and Wish
--------------
normally
${TRUEPREFIX}/lib/tclsh, ${TRUEPREFIX}/lib/wish
now
${TRUEPREFIX}/lib/tclsh8.5, ${TRUEPREFIX}/lib/wish8.5

d59 1
a59 1
${TRUEPREFIX}/lib/tcl/tcl8.5/man, ${TRUEPREFIX}/lib/tcl/tk8.5/man
d75 1
a75 1
${TRUEPREFIX}/lib/tcl/tcl8.5/modules
d82 1
a82 1
${TRUEPREFIX}/lib/tcl/modules/85
d92 1
a92 1
libraries (libtcl85.a, libtk85.a) are built from the pic-compiled
d98 2
a99 2
Adding the following lines to /etc/man.conf wil enable man(1)
and related commands can find the Tcl and Tk manual pages.
d101 8
a108 2
manpath ${TRUEPREFIX}/lib/tcl/tcl8.5/man
manpath ${TRUEPREFIX}/lib/tcl/tk8.5/man
d118 45
@


1.7
log
@Do not hardcode /usr/local.
Do not use SYSCONFDIR for base system etc files.
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.6 2013/07/16 02:48:05 stu Exp $
d11 1
a11 4
This document describes these differences and includes a handy guide
and patch for adding Tcl and Tk to /etc/man.conf.

Principally, the original install locations have been altered to enable
a13 8
Tclsh and Wish
==============
Tclsh and wish are installed as tclsh8.5 and wish8.5, respectively.
Many Tcl programs expect to find tclsh or wish.  They will have to be
modified to launch the correct shell or links tclsh and wish may be
created which point to tclsh8.5 and wish8.5, respectively. These links
may have already been created by the system administrator. It is of
course also possible to create one's own links.
d18 7
d55 1
a55 1
${TRUEPREFIX}/lib/tcl8.5/man, ${TRUEPREFIX}/lib/tk8.5/man
d71 1
a71 1
${TRUEPREFIX}/lib/tcl/tcl8.5/modules/...
d78 1
a78 1
${TRUEPREFIX}/lib/tcl/modules/...
d88 1
a88 1
libraries (libtcl85.a, libtk85.a) are built from the -fPIC compiled
d94 2
a95 2
Changes to /etc/man.conf are required so that OpenBSD's man(1) and
related commands can find the Tcl and Tk manual pages.
d97 2
a98 8
Additional _whatdb entries are needed which point to the Tcl and Tk
whatis.db files. The Tcl and Tk manual page directories need to be
added to the _default and n sections. Additional sections tcl and tk
point to the Tcl and Tk manual page directories.

Following this text is a patch (with instructions) that will perform
the aforementioned changes on an unmodified /etc/man.conf.
If not used directly it can serve as a guide.
a107 45

Patch to add Tcl and Tk to /etc/man.conf
========================================
Run:
$ patch -o man.conf.new /etc/man.conf ${_README_DIR}/${FULLPKGNAME}
Examine and install as /etc/man.conf if it appeases you.

@@@@ -7,6 +7,8 @@@@
 _whatdb		/usr/share/man/whatis.db
 _whatdb		/usr/local/man/whatis.db
 _whatdb		/usr/X11R6/man/whatis.db
+_whatdb		/usr/local/lib/tcl/tcl8.5/man/whatis.db
+_whatdb		/usr/local/lib/tcl/tk8.5/man/whatis.db
 
 # Subdirectories for paths ending in '/', IN SEARCH ORDER.
 _subdir		{cat,man}1 {cat,man}8 {cat,man}6 {cat,man}2 {cat,man}3 {cat,man}5 {cat,man}7 {cat,man}4 {cat,man}9 {cat,man}3p {cat,man}3f {cat,man}n
@@@@ -31,17 +33,19 @@@@
 # directory with all of the subdirectories listed for the keyword _subdir.
 
 # default
-_default	/usr/{share,X11R6,local,ports/infrastructure}/man/
+_default	/usr/{share,X11R6,local,local/lib/tcl/{tcl,tk}8.5,ports/infrastructure}/man/
 
 # Other sections that represent complete man subdirectories.
 X11		/usr/X11R6/man/
 X11R6		/usr/X11R6/man/
 local		/usr/local/man/
+tcl		/usr/local/lib/tcl/tcl8.5/man/
+tk		/usr/local/lib/tcl/tk8.5/man/
 
 # Specific section/directory combinations.
-1		/usr/{share,X11R6,local}/man/{cat,man}1
+1		/usr/{share,X11R6,local,local/lib/tcl/{tcl,tk}8.5}/man/{cat,man}1
 2		/usr/{share,X11R6,local}/man/{cat,man}2
-3		/usr/{share,X11R6,local}/man/{cat,man}3
+3		/usr/{share,X11R6,local,local/lib/tcl/{tcl,tk}8.5}/man/{cat,man}3
 3F		/usr/local/man/{cat,man}3f
 3f		/usr/local/man/{cat,man}3f
 3P		/usr/{share,local}/man/{cat,man}3p
@@@@ -52,4 +56,4 @@@@
 7		/usr/{share,X11R6,local}/man/{cat,man}7
 8		/usr/{share,X11R6,local}/man/{cat,man}8
 9		/usr/share/man/{cat,man}9
-n		/usr/local/man/{cat,man}n
+n		/usr/{local,local/lib/tcl/{tcl,tk}8.5}/man/{cat,man}n
@


1.6
log
@Sync patch in README with recent /etc/man.conf changes.
Sync README with 8.6.
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.5 2011/12/08 22:41:48 sthen Exp $
d12 1
a12 1
and patch for adding Tcl and Tk to ${SYSCONFDIR}/man.conf.
d98 1
a98 1
Changes to ${SYSCONFDIR}/man.conf are required so that OpenBSD's man(1) and
d107 1
a107 1
the aforementioned changes on an unmodified ${SYSCONFDIR}/man.conf.
d119 2
a120 2
Patch to add Tcl and Tk to ${SYSCONFDIR}/man.conf
=========================================
d122 2
a123 2
$ patch -o man.conf.new ${SYSCONFDIR}/man.conf ${_README_DIR}/${FULLPKGNAME}
Examine and install as ${SYSCONFDIR}/man.conf if it appeases you.
@


1.5
log
@typo in README; ok stu@@
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.4 2011/10/17 15:18:39 stu Exp $
d69 2
a70 2
Bundled Modules
---------------
d77 2
a78 2
Module Paths
------------
d133 1
a133 1
 _subdir		cat1 man1 cat8 man8 cat6 man6 cat2 man2 cat3 man3 cat5 man5 cat7 man7 cat4 man4 cat9 man9 cat3p man3p cat3f man3f catn mann
@


1.4
log
@Update to 8.5.10, remove patches for changes that have gone upstream,
rework pkg-readme to conform to new template, update man.conf patch,
move man dir to Tcl's lib dir, properly preprocess man pages.
Bump major due to function signature change in tcllib.

ok sebastiap@@, sthen@@
@
text
@d1 1
a1 1
$OpenBSD: README,v 1.3 2011/06/02 13:41:39 ajacoutot Exp $
d14 1
a14 1
Principally, the orginal install locations have been altered to enable
@


1.3
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: README,v 1.2 2011/01/05 16:13:53 stu Exp $
a6 2
cat << "EOTEXT" > /dev/null

d8 2
a9 7
deriving the maximum value from the original software while keeping any
modifications to a minimum. This document describes these differences and
includes a handy guide and patch for adding Tcl and Tk to /etc/man.conf.

The principal change is to the locations of installed files. In order to
be able to install multiple versions of Tcl on OpenBSD without conflict,
some deviation from the original installation has been performed.
d11 2
d14 2
a15 1
Tclsh / Wish
d17 2
d20 5
a24 6
Many Tcl programs expect to find tclsh or wish.
They will have to be modified to launch the correct shell or links
tclsh and wish may be created which point to tclsh8.5 and wish8.5,
respectively. These links may have already been created by the
system administrator. It is of course also possible to create one's
own links.
d26 2
a27 2

Files / Directories
d30 1
d37 2
a38 1
Configuration files
d45 2
a46 1
Header files
d53 2
a54 1
Manual pages
d59 1
a59 1
${TRUEPREFIX}/man/tcl8.5, ${TRUEPREFIX}/man/tk8.5
d62 1
d70 1
d78 1
a83 1

d85 1
a85 1

a88 1

d90 1
a90 1

d93 2
a94 3
object (.o) files.  A soft link from any lib.a is created to lib_pic.a
in order to satisfy libtool.

d97 2
a98 2

Changes to /etc/man.conf are required so that OpenBSD's man(1) and
d102 3
a104 3
whatis.db files. The Tcl and Tk manual page directories need to be added
to the _default and n sections. Additional sections tcl and tk point to
the Tcl and Tk manual page directories.
d107 2
a108 5
the aforementioned changes on an unmodified /etc/man.conf. If not
used directly it can serve as a guide.


Tcl/Tk resources:
d110 2
d119 5
a124 14

EOTEXT

#
# Patch to add Tcl and Tk to /etc/man.conf
#
# Run:
# "$ sh ${_README_DIR}/${FULLPKGNAME} > man.conf.new"
# Examine and install as /etc/man.conf
# if it appeases you.
#
cat << "EOPATCH" | patch -p0 -s -o - /etc/man.conf
--- man.conf.orig
+++ man.conf
d129 2
a130 2
+_whatdb		/usr/local/man/tcl8.5/whatis.db
+_whatdb		/usr/local/man/tk8.5/whatis.db
d134 1
a134 1
@@@@ -31,12 +33,14 @@@@
d138 2
a139 2
-_default	/usr/{share,X11R6,local}/man/
+_default	/usr/{share,X11R6,local}/man/{,{tcl,tk}8.5/}
d145 2
a146 2
+tcl		/usr/local/man/tcl8.5/
+tk		/usr/local/man/tk8.5/
d149 8
a156 1
 1		/usr/{share,X11R6,local}/man/{cat,man}1
d162 1
a162 4
+n		/usr/local/man/{,{tcl,tk}8.5/}{cat,man}n
EOPATCH

# EOF
@


1.2
log
@Upgrade to 8.5.9. Newer, cleaner layout, consolidate
include files into one dir, simplify modules dirs layout,
improved building wrt threads/compiler flags, etc.

ok landry@@, sebastiap@@
@
text
@d1 5
a5 1
# $OpenBSD: README,v 1.1 2010/11/15 18:26:39 jasper Exp $
@


1.1
log
@- switch to pkg-readmes

ok Stuart Cassoff (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
modifications to a minimum. This document describes the differences and
d10 3
a12 3
The principal change is to the installation. In order to be able to
install multiple versions of Tcl on OpenBSD without conflict, some
deviation from the original installation is required.
d28 7
d40 1
a40 1
${TRUEPREFIX}/lib/tcl8.5, ${TRUEPREFIX}/lib/tk8.5
d42 1
a42 1
Include files ('public' - see below)
d54 1
a54 1
${TRUEPREFIX}/lib/tcl8.5/man, ${TRUEPREFIX}/lib/tk8.5/man
d63 13
d79 2
a80 8
Additional (what Tcl/Tk calls 'private') include (.h) files are installed
under ${TRUEPREFIX}/include/tcl8.5 and ${TRUEPREFIX}/include/tk8.5 in a
directory structure which mimics the Tcl and Tk source code directory
layouts.  Some software that compiles and links against Tcl or Tk
requires these 'private' headers and therefore assumes that the Tcl or Tk
source (containing the 'private' headers) is available.  This setup
enables using such 'poorly-behaved' software without requiring the
presence of the entire Tcl and Tk source trees.
d88 1
a88 1
in order to satisfy l*btool (apparently).
d123 3
a125 3
# "$ sh README.OpenBSD > man.conf.new"
# Examine and install in /etc
# if it appeases you
d128 2
a129 2
--- man.conf.orig	Wed Aug 27 13:13:13 2008
+++ man.conf	Wed Aug 27 15:08:27 2008
d134 2
a135 2
+_whatdb		${TRUEPREFIX}/lib/tcl8.5/man/whatis.db
+_whatdb		${TRUEPREFIX}/lib/tk8.5/man/whatis.db
d139 1
a139 1
@@@@ -33,12 +35,14 @@@@
d144 1
a144 1
+_default	/usr/{share,X11R6,local,local/lib/{tcl,tk}8.5}/man/
d150 2
a151 2
+tcl		${TRUEPREFIX}/lib/tcl8.5/man/
+tk		${TRUEPREFIX}/lib/tk8.5/man/
d155 1
a155 1
@@@@ -54,4 +58,4 @@@@
d160 1
a160 1
+n		/usr/{local,local/lib/{tcl,tk}8.5}/man/{cat,man}n
@

