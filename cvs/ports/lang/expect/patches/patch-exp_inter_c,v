head	1.2;
access;
symbols
	OPENBSD_6_2:1.2.0.8
	OPENBSD_6_2_BASE:1.2
	OPENBSD_6_1:1.2.0.6
	OPENBSD_6_1_BASE:1.2
	OPENBSD_6_0:1.2.0.4
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.2
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.1.0.4
	OPENBSD_5_8_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2015.12.03.09.18.16;	author sthen;	state Exp;
branches;
next	1.1;
commitid	jyjpqwXlR5HBGS0J;

1.1
date	2015.04.02.17.46.57;	author sebastia;	state Exp;
branches;
next	;
commitid	jD18P8arhxelE9w5;


desc
@@


1.2
log
@memcpy->memmove, from maintainer Ryan Freeman
@
text
@$OpenBSD: patch-exp_inter_c,v 1.1 2015/04/02 17:46:57 sebastia Exp $
--- exp_inter.c.orig	Tue Aug 31 15:20:27 2010
+++ exp_inter.c	Tue Nov 17 10:45:17 2015
@@@@ -1564,7 +1564,7 @@@@ Exp_InteractObjCmd(
 	    ustring = u->input.buffer;
 	    if (skip) {
 		size -= skip;
-		memcpy(ustring, ustring + skip, size * sizeof(Tcl_UniChar));
+		memmove(ustring, ustring + skip, size * sizeof(Tcl_UniChar));
 	    }
 	}
 	u->input.use = size;
@@@@ -1824,12 +1824,12 @@@@ got_action:
 		    skip += matchLen;
 		    size -= skip;
 		    if (size) {
-			memcpy(u->buffer, u->buffer + skip, size);
+			memmove(u->buffer, u->buffer + skip, size);
 		    }
 		} else {
 		    if (skip) {
 			size -= skip;
-			memcpy(u->buffer, u->buffer + skip, size);
+			memmove(u->buffer, u->buffer + skip, size);
 		    }
 		}
 		Tcl_SetObjLength(size);
@@@@ -2070,12 +2070,12 @@@@ got_action:
 		    skip += matchLen;
 		    size -= skip;
 		    if (size) {
-			memcpy(u->buffer, u->buffer + skip, size);
+			memmove(u->buffer, u->buffer + skip, size);
 		    }
 		} else {
 		    if (skip) {
 			size -= skip;
-			memcpy(u->buffer, u->buffer + skip, size);
+			memmove(u->buffer, u->buffer + skip, size);
 		    }
 		}
 		Tcl_SetObjLength(size);
@


1.1
log
@memcpy -> memmove to unbreak expect, from rfreeman@@ with Makefile
changes by me.

Transfer MAINTAINER to Ryan Freeman

OK rfreeman@@
@
text
@d1 1
a1 1
$OpenBSD$
d3 10
a12 1
+++ exp_inter.c	Wed Apr  1 15:46:05 2015
@

