head	1.70;
access;
symbols
	OPENBSD_6_2:1.70.0.6
	OPENBSD_6_2_BASE:1.70
	OPENBSD_6_1:1.70.0.4
	OPENBSD_6_1_BASE:1.70
	OPENBSD_6_0:1.70.0.2
	OPENBSD_6_0_BASE:1.70
	OPENBSD_5_9:1.67.0.2
	OPENBSD_5_9_BASE:1.67
	OPENBSD_5_8:1.66.0.4
	OPENBSD_5_8_BASE:1.66
	OPENBSD_5_7:1.65.0.6
	OPENBSD_5_7_BASE:1.65
	OPENBSD_5_6:1.65.0.4
	OPENBSD_5_6_BASE:1.65
	OPENBSD_5_5:1.65.0.2
	OPENBSD_5_5_BASE:1.65
	OPENBSD_5_4:1.63.0.2
	OPENBSD_5_4_BASE:1.63
	OPENBSD_5_3:1.60.0.4
	OPENBSD_5_3_BASE:1.60
	OPENBSD_5_2:1.60.0.2
	OPENBSD_5_2_BASE:1.60
	OPENBSD_5_1_BASE:1.58
	OPENBSD_5_1:1.58.0.2
	OPENBSD_5_0:1.57.0.4
	OPENBSD_5_0_BASE:1.57
	OPENBSD_4_9:1.57.0.2
	OPENBSD_4_9_BASE:1.57
	OPENBSD_4_8:1.52.0.2
	OPENBSD_4_8_BASE:1.52
	OPENBSD_4_7:1.51.0.2
	OPENBSD_4_7_BASE:1.51
	OPENBSD_4_6:1.49.0.2
	OPENBSD_4_6_BASE:1.49
	OPENBSD_4_5:1.48.0.6
	OPENBSD_4_5_BASE:1.48
	OPENBSD_4_4:1.48.0.4
	OPENBSD_4_4_BASE:1.48
	OPENBSD_4_3:1.48.0.2
	OPENBSD_4_3_BASE:1.48
	OPENBSD_4_2:1.47.0.8
	OPENBSD_4_2_BASE:1.47
	OPENBSD_4_1:1.47.0.6
	OPENBSD_4_1_BASE:1.47
	OPENBSD_4_0:1.47.0.4
	OPENBSD_4_0_BASE:1.47
	OPENBSD_3_9:1.47.0.2
	OPENBSD_3_9_BASE:1.47
	OPENBSD_3_8:1.45.0.2
	OPENBSD_3_8_BASE:1.45
	OPENBSD_3_7:1.44.0.2
	OPENBSD_3_7_BASE:1.44
	OPENBSD_3_6:1.42.0.2
	OPENBSD_3_6_BASE:1.42
	OPENBSD_3_5:1.41.0.2
	OPENBSD_3_5_BASE:1.41
	OPENBSD_3_4:1.39.0.2
	OPENBSD_3_4_BASE:1.39
	OPENBSD_3_3:1.37.0.2
	OPENBSD_3_3_BASE:1.37
	OPENBSD_3_2:1.36.0.2
	OPENBSD_3_2_BASE:1.36
	OPENBSD_3_1:1.34.0.4
	OPENBSD_3_1_BASE:1.34
	OPENBSD_3_0:1.34.0.2
	OPENBSD_3_0_BASE:1.34
	OPENBSD_2_9_TRACKING_SWITCH:1.34
	OPENBSD_2_9:1.33.0.2
	OPENBSD_2_9_BASE:1.33
	OPENBSD_2_8:1.32.0.2
	OPENBSD_2_8_BASE:1.32
	OPENBSD_2_7:1.25.0.2
	OPENBSD_2_7_BASE:1.25
	OPENBSD_2_6:1.14.0.2
	OPENBSD_2_6_BASE:1.14
	OPENBSD_2_5:1.12.0.2
	OPENBSD_2_5_BASE:1.12
	OPENBSD_2_4:1.6.0.2
	OPENBSD_2_4_BASE:1.6
	OPENBSD_2_3:1.3.0.2
	OPENBSD_2_3_BASE:1.3
	NIKLAS_980129:1.1.1.1
	NIKLAS:1.1.1;
locks; strict;
comment	@# @;


1.70
date	2016.03.12.12.10.34;	author naddy;	state Exp;
branches;
next	1.69;
commitid	9vwcUDsi9aMEWwx3;

1.69
date	2016.03.11.23.31.56;	author naddy;	state Exp;
branches;
next	1.68;
commitid	qiBHHoZuux3pPTRE;

1.68
date	2016.03.11.20.28.27;	author naddy;	state Exp;
branches;
next	1.67;
commitid	UYLP8TE6V7RS2GhJ;

1.67
date	2015.12.03.09.18.15;	author sthen;	state Exp;
branches;
next	1.66;
commitid	jyjpqwXlR5HBGS0J;

1.66
date	2015.04.02.17.46.57;	author sebastia;	state Exp;
branches;
next	1.65;
commitid	jD18P8arhxelE9w5;

1.65
date	2013.11.20.15.58.31;	author sthen;	state Exp;
branches;
next	1.64;

1.64
date	2013.11.20.15.57.42;	author sthen;	state Exp;
branches;
next	1.63;

1.63
date	2013.06.26.04.56.43;	author dcoppa;	state Exp;
branches;
next	1.62;

1.62
date	2013.05.15.09.46.28;	author sebastia;	state Exp;
branches;
next	1.61;

1.61
date	2013.03.11.11.20.27;	author espie;	state Exp;
branches;
next	1.60;

1.60
date	2012.03.29.13.38.40;	author sthen;	state Exp;
branches;
next	1.59;

1.59
date	2012.02.21.16.21.42;	author ajacoutot;	state Exp;
branches;
next	1.58;

1.58
date	2011.12.02.14.36.14;	author espie;	state Exp;
branches;
next	1.57;

1.57
date	2011.01.05.18.45.45;	author sebastia;	state Exp;
branches;
next	1.56;

1.56
date	2010.11.08.09.28.25;	author espie;	state Exp;
branches;
next	1.55;

1.55
date	2010.11.06.22.06.59;	author espie;	state Exp;
branches;
next	1.54;

1.54
date	2010.10.18.19.20.41;	author espie;	state Exp;
branches;
next	1.53;

1.53
date	2010.09.24.14.16.50;	author sebastia;	state Exp;
branches;
next	1.52;

1.52
date	2010.07.10.05.32.14;	author ajacoutot;	state Exp;
branches;
next	1.51;

1.51
date	2009.11.19.22.36.56;	author kili;	state Exp;
branches;
next	1.50;

1.50
date	2009.08.10.17.31.07;	author kili;	state Exp;
branches;
next	1.49;

1.49
date	2009.03.11.20.11.30;	author sthen;	state Exp;
branches;
next	1.48;

1.48
date	2007.09.16.00.27.05;	author merdely;	state Exp;
branches;
next	1.47;

1.47
date	2006.02.10.21.02.25;	author aanriot;	state Exp;
branches;
next	1.46;

1.46
date	2005.12.25.20.42.47;	author alek;	state Exp;
branches;
next	1.45;

1.45
date	2005.06.12.12.04.00;	author sturm;	state Exp;
branches;
next	1.44;

1.44
date	2005.02.13.19.31.19;	author alek;	state Exp;
branches;
next	1.43;

1.43
date	2004.11.17.17.41.26;	author xsa;	state Exp;
branches;
next	1.42;

1.42
date	2004.04.18.19.55.47;	author jolan;	state Exp;
branches;
next	1.41;

1.41
date	2003.12.27.23.24.26;	author jose;	state Exp;
branches;
next	1.40;

1.40
date	2003.09.23.23.08.44;	author jolan;	state Exp;
branches;
next	1.39;

1.39
date	2003.07.13.08.04.41;	author jolan;	state Exp;
branches;
next	1.38;

1.38
date	2003.05.12.08.23.47;	author jolan;	state Exp;
branches;
next	1.37;

1.37
date	2002.12.15.00.22.03;	author brad;	state Exp;
branches;
next	1.36;

1.36
date	2002.06.30.17.50.28;	author brad;	state Exp;
branches;
next	1.35;

1.35
date	2002.04.15.07.25.31;	author espie;	state Exp;
branches;
next	1.34;

1.34
date	2001.05.06.01.27.56;	author lebel;	state Exp;
branches;
next	1.33;

1.33
date	2001.02.25.06.51.04;	author obecian;	state Exp;
branches;
next	1.32;

1.32
date	2000.10.22.14.03.21;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2000.09.06.03.46.15;	author brad;	state Exp;
branches;
next	1.30;

1.30
date	2000.09.06.01.06.26;	author brad;	state Exp;
branches;
next	1.29;

1.29
date	2000.07.20.04.56.42;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2000.07.18.21.51.17;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2000.07.18.17.59.48;	author espie;	state Exp;
branches;
next	1.26;

1.26
date	2000.07.18.07.14.15;	author turan;	state Exp;
branches;
next	1.25;

1.25
date	2000.03.28.11.54.14;	author espie;	state Exp;
branches
	1.25.2.1;
next	1.24;

1.24
date	2000.03.27.18.17.28;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2000.03.24.23.28.13;	author espie;	state Exp;
branches;
next	1.22;

1.22
date	2000.03.24.22.43.16;	author espie;	state Exp;
branches;
next	1.21;

1.21
date	2000.03.24.22.11.46;	author espie;	state Exp;
branches;
next	1.20;

1.20
date	2000.03.05.18.30.30;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2000.02.15.05.04.37;	author turan;	state Exp;
branches;
next	1.18;

1.18
date	2000.02.12.08.58.16;	author turan;	state Exp;
branches;
next	1.17;

1.17
date	2000.02.11.00.37.28;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2000.01.01.07.10.58;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	99.10.27.20.16.52;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	99.08.24.01.56.58;	author brad;	state Exp;
branches;
next	1.13;

1.13
date	99.04.29.21.25.08;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	99.03.15.02.44.29;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	99.03.14.03.15.50;	author marc;	state Exp;
branches;
next	1.10;

1.10
date	99.03.04.06.50.41;	author todd;	state Exp;
branches;
next	1.9;

1.9
date	99.03.02.04.41.05;	author marc;	state Exp;
branches;
next	1.8;

1.8
date	99.02.21.04.26.13;	author marc;	state Exp;
branches;
next	1.7;

1.7
date	99.02.18.02.37.33;	author marc;	state Exp;
branches;
next	1.6;

1.6
date	98.10.21.17.31.44;	author niklas;	state Exp;
branches;
next	1.5;

1.5
date	98.10.18.05.02.08;	author marc;	state Exp;
branches;
next	1.4;

1.4
date	98.08.27.04.36.32;	author marc;	state Exp;
branches;
next	1.3;

1.3
date	98.02.10.10.45.23;	author niklas;	state Exp;
branches;
next	1.2;

1.2
date	98.01.30.22.13.57;	author niklas;	state Exp;
branches;
next	1.1;

1.1
date	98.01.29.23.12.42;	author niklas;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.01.29.23.12.42;	author niklas;	state Exp;
branches;
next	;

1.25.2.1
date	2000.09.15.04.55.25;	author marc;	state Exp;
branches;
next	;


desc
@@


1.70
log
@fix mismerge; from ajacoutot@@
@
text
@# $OpenBSD: Makefile,v 1.69 2016/03/11 23:31:56 naddy Exp $

COMMENT =	sophisticated scripter based on Tcl/Tk

VERSION =	5.45
DISTNAME =	expect${VERSION}
PKGNAME =	expect-${VERSION}
REVISION =	5
SHARED_LIBS =	expect545 0.0
CATEGORIES =	lang
MASTER_SITES =	${MASTER_SITE_SOURCEFORGE:=expect/}

HOMEPAGE =	http://expect.nist.gov/
MAINTAINER =	Ryan Freeman <ryan@@slipgate.org>

# PD
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += c util m ${MODTCL_WANTLIB}

MODULES =		lang/tcl
LIB_DEPENDS +=		${MODTCL_LIB_DEPENDS}

SEPARATE_BUILD =	Yes
AUTOCONF_VERSION =	2.59
CONFIGURE_STYLE =	autoconf no-autoheader
CONFIGURE_ARGS +=	--libdir=${MODTCL_TCLDIR} \
			--with-tclconfig="${MODTCL_LIBDIR}" \
			--with-tclinclude="${MODTCL_INCDIR}"
CONFIGURE_ENV +=	SHLIB_VERSION=${LIBexpect545_VERSION} \
			CFLAGS="-I${MODTCL_INCDIR}"

FAKE_FLAGS =		PKG_DIR=expect
TEST_TARGET =		test

post-configure:
	${MODTCL_TCLSH_ADJ} ${WRKSRC}/example/*

.include <bsd.port.mk>
@


1.69
log
@merge PFRAG.shared into PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2016/03/11 20:28:27 naddy Exp $
d8 1
a8 1
REVISION =	4
@


1.68
log
@garbage collect CONFIGURE_SHARED
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2015/12/03 09:18:15 sthen Exp $
d8 1
a8 1
REVISION =	3
@


1.67
log
@memcpy->memmove, from maintainer Ryan Freeman
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2015/04/02 17:46:57 sebastia Exp $
d27 1
a27 2
CONFIGURE_ARGS +=	${CONFIGURE_SHARED} \
			--libdir=${MODTCL_TCLDIR} \
@


1.66
log
@memcpy -> memmove to unbreak expect, from rfreeman@@ with Makefile
changes by me.

Transfer MAINTAINER to Ryan Freeman

OK rfreeman@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2013/11/20 15:58:31 sthen Exp $
d8 1
a8 1
REVISION =	2
@


1.65
log
@fix tclsh path in example scripts, and regen PFRAG.shared to use
LIBexpect545_VERSION, ok sebastia@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2013/06/26 04:56:43 dcoppa Exp $
d8 1
a8 1
REVISION =	1
d14 1
a14 1
MAINTAINER =	Sebastian Reitenbach <sebastia@@openbsd.org>
@


1.64
log
@tidy Makefile, no pkg change, ok sebastia@@
@
text
@d8 1
a8 1
REVISION =	0
d36 3
@


1.63
log
@Remove mention of the (now dead) "no_tk" flavor from pkg/DESCR.

ok giovanni@@, sthen@@, sebastia@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2013/05/15 09:46:28 sebastia Exp $
d3 1
a3 1
COMMENT=	sophisticated scripter based on Tcl/Tk
d6 1
a6 1
DISTNAME=	expect${VERSION}
d9 3
a11 3
SHARED_LIBS=	expect545 0.0
CATEGORIES=	lang
MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=expect/}
d13 2
a14 2
HOMEPAGE=	http://expect.nist.gov/
MAINTAINER=	Sebastian Reitenbach <sebastia@@openbsd.org>
d17 1
a17 1
PERMIT_PACKAGE_CDROM=	Yes
d19 1
a19 14
MODULES=	lang/tcl
WANTLIB +=	${MODTCL_WANTLIB}
WANTLIB += 	c util m
LIB_DEPENDS +=	${MODTCL_LIB_DEPENDS}

SEPARATE_BUILD=	Yes
AUTOCONF_VERSION = 2.59
CONFIGURE_STYLE=autoconf no-autoheader
CONFIGURE_ARGS+=${CONFIGURE_SHARED}

CONFIGURE_ARGS+=--with-tclconfig="${MODTCL_LIBDIR}" \
		--with-tclinclude="${MODTCL_INCDIR}"
CONFIGURE_ENV+=	SHLIB_VERSION=${LIBexpect545_VERSION} \
		CFLAGS="-I${MODTCL_INCDIR}"
d21 2
a22 1
CONFIGURE_ARGS+=--libdir=${MODTCL_TCLDIR}
d24 12
a35 2
FAKE_FLAGS =		PKG_DIR=expect	
TEST_TARGET =	test
@


1.62
log
@Update expect to 5.45. The dependency to Tk is gone. When needed to
steer Tk GUI apps, load the module in wish: package require Expect

Updated version also builds on VAX, and makes the loading of the
Expect module work on all other archs.

tests, comments feedback and OK sthen@@, giovanni@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2013/03/11 11:20:27 espie Exp $
d8 1
@


1.61
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2012/03/29 13:38:40 sthen Exp $
d5 4
a8 3
REVISION =	0
DISTNAME=	expect-5.44.1.15
SHARED_LIBS=	expect544115 0.0
d18 4
a21 4
WANTLIB += c util m

FLAVORS=	no_tk
FLAVOR?=
d24 1
a24 1
AUTOCONF_VERSION=	2.59
a27 1
CFLAGS+=	-I${X11BASE}/include
d30 2
a31 2
CONFIGURE_ENV+=	LIBexpect544115_VERSION=${LIBexpect544115_VERSION} \
		CFLAGS="-I${MODTCL_INCDIR} -I${X11BASE}/include"
d33 1
a33 16
.if !${FLAVOR:Mno_tk}
MODULES=	x11/tk
WANTLIB+= X11 z pthread-stubs xcb
WANTLIB+= Xau Xdmcp Xext Xft Xrender Xss expat fontconfig freetype
MAKE_FLAGS+=	TK=Yes
LIB_DEPENDS +=	${MODTK_LIB_DEPENDS}
WANTLIB +=	${MODTK_WANTLIB}
CONFIGURE_ARGS+=--libdir=${MODTCL_TCLDIR} \
		--with-tk="${MODTK_LIBDIR}" \
		--with-tkinclude="${MODTK_INCDIR}"
.else
MODULES =	lang/tcl
LIB_DEPENDS +=	${MODTCL_LIB_DEPENDS}
WANTLIB +=	${MODTCL_WANTLIB}
CONFIGURE_ARGS +=--with-tk=no --libdir=${MODTCL_TCLDIR}
.endif
@


1.60
log
@Change SEPARATE_BUILD=(concurrent|simple) to Yes; bsd.port.mk doesn't
make a distinction between these.  ok aja@@ dcoppa@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2012/02/21 16:21:42 ajacoutot Exp $
a15 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d51 1
a51 1
REGRESS_TARGET =	test
@


1.59
log
@CONFIGURE_STYLE autoconf already appends gnu, so no need to explicitely
list it.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2011/12/02 14:36:14 espie Exp $
d25 1
a25 1
SEPARATE_BUILD=	simple
@


1.58
log
@bye bye FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2011/01/05 18:45:45 sebastia Exp $
d27 1
a27 1
CONFIGURE_STYLE=autoconf no-autoheader gnu
@


1.57
log
@Update to new Tcl layout.
get rid of USE_GROFF.

OK landry@@, stu@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2010/11/08 09:28:25 espie Exp $
d36 1
a36 1
.if !${FLAVOR:L:Mno_tk}
@


1.56
log
@fix no_tk flavor, noticed by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2010/11/06 22:06:59 espie Exp $
d5 1
a28 1
USE_GROFF =	Yes
d33 2
a34 2
CONFIGURE_ENV+=	LIBexpect544115_VERSION=${LIBexpect544115_VERSION}
MAKE_FLAGS=	LIB_RUNTIME_DIR=$(TRUEPREFIX)/lib/${DISTNAME:S/-//}
d43 2
a44 1
CONFIGURE_ARGS+=--with-tk="${MODTK_LIBDIR}" \
d50 1
a50 1
CONFIGURE_ARGS +=--with-tk=no
d53 2
a54 1
REGRESS_TARGET=	test
@


1.55
log
@tk/tcl wantlib conversion
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2010/10/18 19:20:41 espie Exp $
d46 4
a49 3
MODULES=	lang/tcl
LIB_DEPENDS+=	${MODTCL_LIB_DEPENDS}
CONFIGURE_ARGS+=--with-tk=no
@


1.54
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2010/09/24 14:16:50 sebastia Exp $
d41 2
a42 1
LIB_DEPENDS+=	${MODTK_LIB_DEPENDS}
@


1.53
log
@Update expect to 5.44.1.15
switch from tcl/tk 8.4 to 8.5
take maintainership

after fixing the WANTLIB finally OK, landry@@, sthen@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2010/07/10 05:32:14 ajacoutot Exp $
d28 1
@


1.52
log
@Add FreeBSD.fr as MASTER_SITES for now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2009/11/19 22:36:56 kili Exp $
d5 2
a6 3
DISTNAME=	expect-5.43.0
PKGNAME=	${DISTNAME}p3
SHARED_LIBS=	expect543 1.2
d8 1
a8 2
#MASTER_SITES=	http://expect.nist.gov/old/
MASTER_SITES=	ftp://ftp.fr.freebsd.org/pub/FreeBSD/distfiles/
d11 1
d18 2
a19 1
WANTLIB=		c util m
d24 3
a26 2
SEPARATE_BUILD=	concurrent
CONFIGURE_STYLE=gnu
d29 1
a29 3
MODTCL_VERSION=	8.4
MODTK_VERSION=	8.4

d32 2
a33 1
CONFIGURE_ENV=	LIBexpect543_VERSION=${LIBexpect543_VERSION}
d37 3
d41 1
a41 1
CONFIGURE_ARGS+=--with-tkconfig="${MODTK_LIBDIR}" \
a42 1
WANTLIB+=	X11 pthread-stubs xcb
d46 1
a49 4

DESTDIRNAME=	INSTALL_ROOT

WRKDIST=	${WRKDIR}/expect-5.43
@


1.51
log
@@@comment man/man1/mkpasswd.1 again. It had been re-added by accident
a long time ago.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2009/08/10 17:31:07 kili Exp $
d9 2
a10 1
MASTER_SITES=	http://expect.nist.gov/old/
@


1.50
log
@WANTLIB changes after xcb addition and bump.

For some unknown reason, I forgot to commit lang/*
this morning.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2009/03/11 20:11:30 sthen Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p2
@


1.49
log
@switch to Tcl/Tk MODULEs to fix package spec
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2007/09/16 00:27:05 merdely Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d39 1
a39 1
WANTLIB+=	X11
@


1.48
log
@Remove surrounding quotes in COMMENT*/PERMIT_*/BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2006/02/10 21:02:25 aanriot Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
a19 2
LIB_DEPENDS+=	tcl84:tcl-8.4.*:lang/tcl/8.4

d26 6
a31 2
CONFIGURE_ARGS+=--with-tclconfig="${LOCALBASE}/lib/tcl8.4"\
		--with-tclinclude="${LOCALBASE}/include/tcl8.4"
d35 4
a38 4
USE_X11=	Yes
LIB_DEPENDS+=	tk84:tk-8.4.*:x11/tk/8.4
CONFIGURE_ARGS+=--with-tkconfig="${LOCALBASE}/lib/tk8.4" \
		--with-tkinclude="${LOCALBASE}/include/tk8.4"
d40 3
@


1.47
log
@looks like they have rerolled the distfile, so update distinfo and bump
PKGNAME.

confirmed by ian@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2005/12/25 20:42:47 alek Exp $
d3 1
a3 1
COMMENT=	"sophisticated scripter based on Tcl/Tk"
@


1.46
log
@SHARED_LIBS

ok steven@@ strum@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2005/06/12 12:04:00 sturm Exp $
d6 1
@


1.45
log
@update to expect 5.43.0

from Alexandre Anriot <aanriot at atlantilde.com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2005/02/13 19:31:19 alek Exp $
d6 1
d29 1
@


1.44
log
@Add WANTLIB marker
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2004/11/17 17:41:26 xsa Exp $
d5 1
a5 2
DISTNAME=	expect-5.39.0
PKGNAME=	${DISTNAME}p0
d30 1
d41 1
a41 1
WRKDIST=${WRKDIR}/expect-5.39
@


1.43
log
@- fix LIB_DEPENDS
- remove jolan@@ from MAINTAINER per his request
- bump PKGNAME
espie@@ jolan@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2004/04/18 19:55:47 jolan Exp $
d17 1
d34 1
@


1.42
log
@take a flying guillotine to the autotools kludge, pointed out by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2003/12/27 23:24:26 jose Exp $
d6 1
a11 2
MAINTAINER=	Jolan Luff <jolan@@openbsd.org>

d18 1
a18 1
LIB_DEPENDS+=	tcl84::lang/tcl/8.4
d30 1
a30 1
LIB_DEPENDS+=	tk84::x11/tk/8.4
@


1.41
log
@
update to tcl/tk 8.4, passes regression tests
ok brad@@ naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2003/09/23 23:08:44 jolan Exp $
a40 5

# make sure configure is newer than Makefile.in, since we patch Makefile.in
# as well.
post-patch:
	@@touch ${WRKSRC}/configure
@


1.40
log
@Update to 5.39.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2003/07/13 08:04:41 jolan Exp $
d19 1
a19 1
LIB_DEPENDS+=	tcl83.1::lang/tcl/8.3
d27 2
a28 2
CONFIGURE_ARGS+=--with-tclconfig="${LOCALBASE}/lib/tcl8.3" \
		--with-tclinclude="${LOCALBASE}/include/tcl8.3"
d31 3
a33 3
LIB_DEPENDS+=	tk83.1.3::x11/tk/8.3
CONFIGURE_ARGS+=--with-tkconfig="${LOCALBASE}/lib/tk8.3" \
		--with-tkinclude="${LOCALBASE}/include/tk8.3"
@


1.39
log
@update to expect-5.38.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2003/05/12 08:23:47 jolan Exp $
d5 1
a5 1
DISTNAME=	expect-5.38.3
a10 2
LIB_DEPENDS+=	tcl83.1::lang/tcl/8.3

d13 1
a13 1
# Public Domain
d19 2
d25 2
a26 2
CONFIGURE_STYLE= gnu
CONFIGURE_ARGS+= ${CONFIGURE_SHARED}
d40 1
a40 1
WRKDIST=	${WRKDIR}/expect-5.38
@


1.38
log
@update e-mail address, ok brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2002/12/15 00:22:03 brad Exp $
d5 1
a5 1
DISTNAME=	expect-5.38.0
@


1.37
log
@upgrade to expect 5.38.0
--
From: new MAINTAINER -- Jolan Luff <jolan@@cryptonomicon.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2002/06/30 17:50:28 brad Exp $
d13 1
a13 1
MAINTAINER=	Jolan Luff <jolan@@cryptonomicon.org>
@


1.36
log
@- add a no_tk FLAVOR.
- remove separate config.guess.
--
The FLAVOR from: Chad Loder <cloder@@acm.org>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/04/15 07:25:31 espie Exp $
d5 1
a5 1
DISTNAME=	expect-5.32.1
d13 1
a13 1
MAINTAINER=	Niklas Hallqvist <niklas@@openbsd.org>
d15 1
a20 2
FAKE_FLAGS=	INSTALL_ROOT="${WRKINST}"

d36 5
a40 1
WRKDIST=	${WRKDIR}/expect-5.32
a45 2

REGRESS_TARGET=test
@


1.35
log
@Fix regress target
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2001/05/06 01:27:56 lebel Exp $
a6 1
NEED_VERSION=	1.402
d11 1
a11 1
LIB_DEPENDS=	tk83.1.3::x11/tk/8.3
d22 3
d29 5
a33 2
		--with-tclinclude="${LOCALBASE}/include/tcl8.3" \
		--with-tkconfig="${LOCALBASE}/lib/tk8.3" \
d35 1
a37 3

post-extract:
	@@cp -f ${FILESDIR}/config.guess ${WRKSRC}
@


1.34
log
@lang: integrate COMMENT, bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2001/02/25 06:51:04 obecian Exp $
d41 1
a41 2
test:	build
	@@cd ${WRKBUILD}; ${MAKE} test
@


1.33
log
@LIB_DEPENDS=    tk83.1.3:x11/tk/8.3
should be
LIB_DEPENDS=    tk83.1.3::x11/tk/8.3

reported by Cameron Lerch <opcode@@skylab.saturn5.yi.org>
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.32 2000/10/22 14:03:21 espie Exp $
d7 1
a7 1
NEED_VERSION=	1.324
@


1.32
log
@Complete a few MAINTAINER names.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2000/09/06 03:46:15 brad Exp $
d10 1
a10 1
LIB_DEPENDS=	tk83.1.3:x11/tk/8.3
@


1.31
log
@${PREFIX} -> ${LOCALBASE}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2000/09/06 01:06:26 brad Exp $
d12 1
a12 1
MAINTAINER=	niklas@@openbsd.org
@


1.30
log
@upgrade to expect 5.32.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2000/07/20 04:56:42 brad Exp $
d24 4
a27 4
CONFIGURE_ARGS+=--with-tclconfig=${PREFIX}/lib/tcl8.3 \
		--with-tclinclude=${PREFIX}/include/tcl8.3 \
		--with-tkconfig=${PREFIX}/lib/tk8.3 \
		--with-tkinclude=${PREFIX}/include/tk8.3
@


1.29
log
@- add HOMEPAGE
- remove license type
- use new framework for PLISTs
- add @@comment with RCS id to PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2000/07/18 21:51:17 espie Exp $
d3 1
a3 1
DISTNAME=	expect-5.31
d5 1
a5 1
NEED_VERSION=	1.317
d19 2
d22 1
a22 1
CONFIGURE_STYLE= gnu dest
d29 4
a32 1
WRKDIST=	${WRKDIR}/${PKGNAME}
d40 1
a40 1
	@@cd ${WRKBUILD}; make test
@


1.28
log
@Fix the real problem instead of pampering over it.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2000/07/18 17:59:48 espie Exp $
d8 4
a13 1
LICENSE_TYPE=		PD
a18 2
LIB_DEPENDS=	tk83.1.3:x11/tk/8.3

d20 1
a20 1
CONFIGURE_STYLE=gnu dest
@


1.27
log
@Our expect port builds fine without autoconf, just because it checks
for it doesn't mean this is needed.

Convert to new CONFIGURE_STYLE.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2000/07/18 07:14:15 turan Exp $
d27 5
@


1.26
log
@fix this port
- checksum changed and one of the headers was removed.
- it also depends on autoconf.  tsk.  tsk.  people are missing these.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2000/03/28 11:54:14 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.230
a15 2
# autoconf is required by this port. it is not need to generate the 
# configure script.
a16 1
BUILD_DEPENDS=	autoconf::devel/autoconf
d19 1
a19 2
HAS_CONFIGURE=	Yes
CONFIGURE_ARGS=--prefix='$${DESTDIR}${PREFIX}' --sysconfdir='$${DESTDIR}/etc'
a26 1
FAKE=		Yes
@


1.25
log
@expect 5.31, works with tk 8.3
Fake.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2000/03/24 22:11:46 espie Exp $
d16 2
d19 1
@


1.25.2.1
log
@bring lang as of cut-over date into 2.7 branch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2000/07/20 04:56:42 brad Exp $
d5 1
a5 1
NEED_VERSION=	1.317
a7 4
HOMEPAGE=	http://expect.nist.gov/

LIB_DEPENDS=	tk83.1.3:x11/tk/8.3

d10 1
d16 2
d19 2
a20 1
CONFIGURE_STYLE= gnu dest
d28 1
a28 5

# make sure configure is newer than Makefile.in, since we patch Makefile.in
# as well.
post-patch:
	@@touch ${WRKSRC}/configure
@


1.24
log
@Fix tcl/tk 8.0 and 8.3 dependencies...

tcl/tk 8.2 still needs to be updated to 8.3 to fully clean up that mess.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2000/03/24 23:28:13 espie Exp $
d3 1
a3 1
DISTNAME=	expect-5.30
d16 1
a16 1
LIB_DEPENDS=	tk80.1.5::x11/tk/8.0
d19 2
a20 1
GNU_CONFIGURE=	Yes
d22 4
a25 4
CONFIGURE_ARGS+=--with-tclconfig=${PREFIX}/lib/tcl8.0 \
		--with-tclinclude=${PREFIX}/include/tcl8.0 \
		--with-tkconfig=${PREFIX}/lib/tk8.0 \
		--with-tkinclude=${PREFIX}/include/tk8.0
d28 1
a31 3

post-install:
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.23
log
@Introduce :: in *_DEPENDS as a place holder for a package spec
Bump NEED_VERSION.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/03/24 22:43:16 espie Exp $
d5 1
a5 1
NEED_VERSION=	 1.230
d16 1
a16 1
LIB_DEPENDS=	tk80.1.5::x11/tk80
@


1.22
log
@Not yet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2000/03/05 18:30:30 espie Exp $
d5 1
a5 1
NEED_VERSION=	1.223
d16 1
a16 1
LIB_DEPENDS=	tk80.1.5:x11/tk80
@


1.21
log
@Move all NEED_VERSION right after CATEGORY
@
text
@d3 1
a3 1
DISTNAME=	expect-5.31
d16 1
a16 1
LIB_DEPENDS=	tk82.1.3:x11/tk82
d19 1
a19 2
HAS_CONFIGURE=	Yes
CONFIGURE_ARGS=--prefix='$${DESTDIR}${PREFIX}' --sysconfdir='$${DESTDIR}/etc'
d21 4
a24 4
CONFIGURE_ARGS+=--with-tclconfig=${PREFIX}/lib/tcl8.2 \
		--with-tclinclude=${PREFIX}/include/tcl8.2 \
		--with-tkconfig=${PREFIX}/lib/tk8.2 \
		--with-tkinclude=${PREFIX}/include/tk8.2
a26 1
FAKE=		Yes
d30 3
@


1.20
log
@PORTSDIR no longer needed in *DEPENDS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2000/02/15 05:04:37 turan Exp $
d3 1
a3 1
DISTNAME=	expect-5.30
d16 1
a16 1
LIB_DEPENDS=	tk80.1.5:x11/tk80
d19 2
a20 1
GNU_CONFIGURE=	Yes
d22 4
a25 4
CONFIGURE_ARGS+=--with-tclconfig=${PREFIX}/lib/tcl8.0 \
		--with-tclinclude=${PREFIX}/include/tcl8.0 \
		--with-tkconfig=${PREFIX}/lib/tk8.0 \
		--with-tkinclude=${PREFIX}/include/tk8.0
d28 1
a31 3

post-install:
	@@${LDCONFIG} -m ${PREFIX}/lib
@


1.19
log
@espie will not shut up about this, DISTF -> DISTFILES, PKG -> PACKAGE
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2000/02/12 08:58:16 turan Exp $
d5 1
a6 1
NEED_VERSION=	1.191
d11 4
a14 4
PERMIT_PACKAGE_CDROM=	YES
PERMIT_PACKAGE_FTP=	YES
PERMIT_DISTFILES_CDROM=	YES
PERMIT_DISTFILES_FTP=	YES
d16 1
a16 1
LIB_DEPENDS=	tk80.1.5:${PORTSDIR}/x11/tk80
d19 1
a19 1
GNU_CONFIGURE=	yes
d29 1
a29 1
	@@(cd ${WRKBUILD}; make test)
@


1.18
log
@public domain licenses
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2000/02/11 00:37:28 espie Exp $
d11 4
a14 4
PERMIT_PKG_CDROM=	YES
PERMIT_PKG_FTP=		YES
PERMIT_DISTF_CDROM=	YES
PERMIT_DISTF_FTP=	YES
@


1.17
log
@Use WRKDIST where appropriate.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2000/01/01 07:10:58 brad Exp $
d9 6
@


1.16
log
@- now that dependencies seem to work right, remove tcl from dependency list
- add build target to dependnecy list for test target to ensure that expect
is actually built before trying to run the test
- sort PLISTs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 1999/10/27 20:16:52 brad Exp $
d6 1
a6 2

NEED_VERSION=	1.73
d20 1
a20 1
WRKSRC=	${WRKDIR}/${PKGNAME}
@


1.15
log
@- use the distfile expect-5.30.tar.gz that is in the "old" dir on the dist
  site.
- cleanup Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 1999/08/24 01:56:58 brad Exp $
d11 1
a11 2
LIB_DEPENDS=	tcl80.1.5:${PORTSDIR}/lang/tcl80 \
		tk80.1.5:${PORTSDIR}/x11/tk80
d23 2
a24 2
test:
	@@(cd ${WRKBUILD}; ${MAKE} test)
@


1.14
log
@upgrade to expect 5.30
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 1999/04/29 21:25:08 brad Exp $
d3 1
a3 2
DISTNAME=	expect
PKGNAME=	expect-5.30
d5 1
a5 1
MASTER_SITES=	http://expect.nist.gov/
a13 1
WRKSRC=		${WRKDIR}/${PKGNAME}
d22 2
d25 1
a25 1
	@@(cd ${WRKBUILD}; make test)
d28 1
a28 1
	${LDCONFIG} -m ${PREFIX}/lib
@


1.13
log
@style fixes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 1999/03/15 02:44:29 espie Exp $
d4 1
a4 1
PKGNAME=	expect-5.28
d12 2
a13 2
LIB_DEPENDS=	tcl80:${PORTSDIR}/lang/tcl80 \
		tk80:${PORTSDIR}/x11/tk80
a15 1

@


1.12
log
@SEPARATE_BUILD
@
text
@d1 1
a1 2
# $OpenBSD: Makefile,v 1.11 1999/03/14 03:15:50 marc Exp $
#
d5 2
a6 1
CATEGORIES=	lang tcl80 tk80
d12 2
a13 3
MASTER_SITES=	http://expect.nist.gov/

LIB_DEPENDS=	tk80.1:${PORTSDIR}/x11/tk80
d15 1
a15 2
SEPARATE_BUILD=concurrent
WRKSRC=		${WRKDIR}/expect-5.28
d17 1
d19 2
a20 1
CONFIGURE_ARGS= --with-tclconfig=${PREFIX}/lib/tcl8.0 \
a23 1
CONFIGURE_ARGS+=${CONFIGURE_SHARED}
@


1.11
log
@update packing lists; remove unused cruft from Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 1999/03/04 06:50:41 todd Exp $
d16 1
d27 1
a27 1
	@@(cd ${WRKSRC}; make test)
@


1.10
log
@make expect compile, v 5.28
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 1999/03/02 04:41:05 marc Exp $
a11 1
# Expect is now at 5.27, un-comment when port updated
d14 1
a14 1
LIB_DEPENDS=	tk80\\.1:${PORTSDIR}/x11/tk80
a23 8

# needed for japanese/expect
.if !defined(NO_MAN_INSTALL)
MAN1=		autoexpect.1 cryptdir.1 decryptdir.1 dislocate.1 \
		expect.1 expectk.1 kibitz.1 mkpasswd.1 passmass.1 \
		tknewsbiff.1 unbuffer.1 xkibitz.1
MAN3=		libexpect.3
.endif
@


1.9
log
@fix earlier bogus changes to Makefile where a value that
was defined in bsd.port.mk was checked before bsd.port.mk was included;
this should make ports with optional shared libs build on the alpha,
again.  However, chages require the latest bsd.port.mk
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 1999/02/21 04:26:13 marc Exp $
d5 1
a5 1
PKGNAME=	expect-5.26
d13 1
a13 1
#MASTER_SITES=	http://expect.nist.gov/
d17 1
a17 1
WRKSRC=		${WRKDIR}/expect-5.26
@


1.8
log
@needs version 1.64 (or later) of bsd.port.mk
to build/install correctly; PLIST.noshared
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 1999/02/18 02:37:33 marc Exp $
d8 1
a8 1
NEED_VERSION=	1.64
d24 1
a24 3
.if !defined(NO_SHARED_LIBS)
CONFIGURE_ARGS+=--enable-shared
.endif
@


1.7
log
@use NO_SHARED_LIBS instead of test for alpha;
use PLIST.noshared instead of PLIST.alpha
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 1998/10/21 17:31:44 niklas Exp $
d7 2
a8 1
#MASTER_SITES=	http://expect.nist.gov/
d11 3
@


1.6
log
@Comment out MASTER_SITE as it has a new version we have not yet tested.
This makes the port use the ftp.openbsd.org version instead.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 1998/10/18 05:02:08 marc Exp $
d20 1
a20 1
.if (${MACHINE_ARCH} != "alpha")
@


1.5
log
@comment out the BROKEN reason for all ports where the reason
was source files out of date and we have a copy of the required
version on ftp.openbsd.org
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 1998/08/27 04:36:32 marc Exp $
d7 1
a7 1
MASTER_SITES=	http://expect.nist.gov/
@


1.4
log
@update to version 5.26
@
text
@d1 1
a1 6
# New ports collection makefile for:	expect
# Date created:		29 January 1998
# Whom:			niklas
# Version required:	5.26
#
# $Id: Makefile,v 1.3 1998/02/10 10:45:23 niklas Exp $
@


1.3
log
@On a current system LDCONFIG need not be special cased for mips/alpha
@
text
@d4 1
a4 1
# Version required:	5.25
d6 1
a6 1
# $Id: Makefile,v 1.2 1998/01/30 22:13:57 niklas Exp $
d10 1
a10 1
PKGNAME=	expect-5.25
d18 1
a18 1
WRKSRC=		${WRKDIR}/expect-5.25
d21 1
a21 2
CONFIGURE_ARGS= --enable-shared \
		--with-tclconfig=${PREFIX}/lib/tcl8.0 \
d25 4
@


1.2
log
@LDCONFIG is not uniform in our world
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.1.1.1 1998/01/29 23:12:42 niklas Exp $
a37 4
.if (${MACHINE_ARCH} != "alpha")
.if (${MACHINE_ARCH} == "mips")
	${LDCONFIG} -n ${PREFIX}/lib
.else
a38 2
.endif
.endif
@


1.1
log
@Initial revision
@
text
@d6 1
a6 1
# $Id: Makefile,v 1.29 1998/01/27 01:11:47 fenner Exp $
d38 4
d43 2
@


1.1.1.1
log
@Expect 5.25, cloned from FreeBSD
@
text
@@
