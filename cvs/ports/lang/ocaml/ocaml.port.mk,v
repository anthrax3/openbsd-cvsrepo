head	1.31;
access;
symbols
	OPENBSD_6_2:1.31.0.2
	OPENBSD_6_2_BASE:1.31
	OPENBSD_6_1:1.30.0.10
	OPENBSD_6_1_BASE:1.30
	OPENBSD_6_0:1.30.0.8
	OPENBSD_6_0_BASE:1.30
	OPENBSD_5_9:1.30.0.4
	OPENBSD_5_9_BASE:1.30
	OPENBSD_5_8:1.30.0.6
	OPENBSD_5_8_BASE:1.30
	OPENBSD_5_7:1.30.0.2
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.25.0.4
	OPENBSD_5_6_BASE:1.25
	OPENBSD_5_5:1.25.0.2
	OPENBSD_5_5_BASE:1.25
	OPENBSD_5_4:1.24.0.2
	OPENBSD_5_4_BASE:1.24
	OPENBSD_5_3:1.23.0.2
	OPENBSD_5_3_BASE:1.23
	OPENBSD_5_2:1.17.0.2
	OPENBSD_5_2_BASE:1.17
	OPENBSD_5_1_BASE:1.16
	OPENBSD_5_1:1.16.0.2
	OPENBSD_5_0:1.15.0.4
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.15.0.2
	OPENBSD_4_9_BASE:1.15
	OPENBSD_4_8:1.12.0.2
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.11.0.4
	OPENBSD_4_7_BASE:1.11
	OPENBSD_4_6:1.11.0.2
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.8.0.10
	OPENBSD_4_5_BASE:1.8
	OPENBSD_4_4:1.8.0.8
	OPENBSD_4_4_BASE:1.8
	OPENBSD_4_3:1.8.0.6
	OPENBSD_4_3_BASE:1.8
	OPENBSD_4_2:1.8.0.4
	OPENBSD_4_2_BASE:1.8
	OPENBSD_4_1:1.8.0.2
	OPENBSD_4_1_BASE:1.8
	OPENBSD_4_0:1.6.0.2
	OPENBSD_4_0_BASE:1.6
	OPENBSD_3_9:1.5.0.4
	OPENBSD_3_9_BASE:1.5
	OPENBSD_3_8:1.5.0.2
	OPENBSD_3_8_BASE:1.5
	OPENBSD_3_7:1.3.0.2
	OPENBSD_3_7_BASE:1.3
	OPENBSD_3_6:1.1.0.2
	OPENBSD_3_6_BASE:1.1;
locks; strict;
comment	@# @;


1.31
date	2017.09.01.17.04.22;	author jasper;	state Exp;
branches;
next	1.30;
commitid	y2Sv0goNz5xPD8ba;

1.30
date	2014.10.25.11.55.54;	author chrisz;	state Exp;
branches;
next	1.29;
commitid	iFA3dUi7gSvf6rCS;

1.29
date	2014.09.08.05.10.10;	author chrisz;	state Exp;
branches;
next	1.28;
commitid	xkPaUmvEcNokkdFm;

1.28
date	2014.09.02.09.24.44;	author chrisz;	state Exp;
branches;
next	1.27;
commitid	KxJKmDEHHsyD4e4B;

1.27
date	2014.08.21.20.54.04;	author chrisz;	state Exp;
branches;
next	1.26;
commitid	awCwxDnH1Bd4hpii;

1.26
date	2014.08.10.10.13.18;	author espie;	state Exp;
branches;
next	1.25;
commitid	dZzZvPUfkPek6Ohw;

1.25
date	2013.11.25.14.40.15;	author dcoppa;	state Exp;
branches;
next	1.24;

1.24
date	2013.03.11.11.20.28;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2013.01.03.14.32.11;	author chrisz;	state Exp;
branches;
next	1.22;

1.22
date	2012.12.31.15.17.00;	author chrisz;	state Exp;
branches;
next	1.21;

1.21
date	2012.11.30.19.38.09;	author chrisz;	state Exp;
branches;
next	1.20;

1.20
date	2012.09.05.21.36.31;	author avsm;	state Exp;
branches;
next	1.19;

1.19
date	2012.08.21.00.24.22;	author avsm;	state Exp;
branches;
next	1.18;

1.18
date	2012.08.18.21.49.16;	author avsm;	state Exp;
branches;
next	1.17;

1.17
date	2012.06.25.11.43.35;	author espie;	state Exp;
branches;
next	1.16;

1.16
date	2011.12.21.21.31.50;	author avsm;	state Exp;
branches;
next	1.15;

1.15
date	2010.12.07.15.01.35;	author dcoppa;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.26.17.27.38;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.11.17.08.05.18;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2010.06.04.13.58.18;	author avsm;	state Exp;
branches;
next	1.11;

1.11
date	2009.06.20.22.05.11;	author avsm;	state Exp;
branches;
next	1.10;

1.10
date	2009.04.03.21.28.46;	author sturm;	state Exp;
branches;
next	1.9;

1.9
date	2009.03.11.21.19.49;	author avsm;	state Exp;
branches;
next	1.8;

1.8
date	2006.12.26.22.38.35;	author avsm;	state Exp;
branches;
next	1.7;

1.7
date	2006.12.26.22.07.18;	author avsm;	state Exp;
branches;
next	1.6;

1.6
date	2006.05.29.03.44.49;	author avsm;	state Exp;
branches;
next	1.5;

1.5
date	2005.08.09.15.22.54;	author robert;	state Exp;
branches;
next	1.4;

1.4
date	2005.05.28.20.55.45;	author avsm;	state Exp;
branches;
next	1.3;

1.3
date	2005.01.22.14.28.38;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2004.09.15.19.10.00;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2004.08.10.20.39.38;	author xsa;	state Exp;
branches;
next	;


desc
@@


1.31
log
@trailing whitespace
@
text
@# $OpenBSD: ocaml.port.mk,v 1.30 2014/10/25 11:55:54 chrisz Exp $

# regular file usage for bytecode:
# PLIST               -- bytecode base files
# PFRAG.foo           -- bytecode files for FLAVOR == foo
# PFRAG.no-foo        -- bytecode files for FLAVOR != foo
# extended file usage for nativecode:
# PFRAG.native        -- nativecode base files
# PFRAG.foo-native    -- nativecode files for FLAVOR == foo
# PFRAG.no-foo-native -- nativecode files for FLAVOR != foo

.include <bsd.port.arch.mk>

.if ${PROPERTIES:Mocaml_native}
MODOCAML_NATIVE=Yes
# include nativecode base files
PKG_ARGS+=-Dnative=1
.else
MODOCAML_NATIVE=No
# remove native base file entry from PLIST
PKG_ARGS+=-Dnative=0
.endif

.if ${PROPERTIES:Mocaml_native_dynlink}
MODOCAML_NATDYNLINK=Yes
MODOCAML_OCAMLDOC?=ocamldoc.opt
# include native dynlink base files
PKG_ARGS+=-Ddynlink=1
.else
MODOCAML_NATDYNLINK=No
MODOCAML_OCAMLDOC?=ocamldoc
# remove native dynlink base file entry from PLIST
PKG_ARGS+=-Ddynlink=0
.endif

RUN_DEPENDS +=		lang/ocaml
BUILD_DEPENDS +=	lang/ocaml
MAKE_ENV +=		OCAMLFIND_DESTDIR=${DESTDIR}${TRUEPREFIX}/lib/ocaml \
			OCAMLFIND_COMMANDS="ocamldoc=${MODOCAML_OCAMLDOC}"

MODOCAML_pre-fake = \
	${_FAKESUDO} ${INSTALL_DATA_DIR} ${WRKINST}${LOCALBASE}/lib/ocaml/stublibs


######################################################################
#
# CONFIGURE_STYLE for oasis.
#
# Also overrides do-{build,install,test}
#
.if ${CONFIGURE_STYLE:L:Moasis}

ALL_TARGET ?= -build -doc
# XXX can't do ?= here, because INSTALL_TARGET is already initialized
# with default value
INSTALL_TARGET = -install
TEST_TARGET ?= -test
_MODOASIS_SETUP = ${WRKDIR}/oasis_setup.byte


######################################################################
# CONFIGURE
.if ${PROPERTIES:Mocaml_native}
_MODOASIS_OCAMLC = ocamlc.opt
.else
_MODOASIS_OCAMLC = ocamlc
.endif

. if ${CONFIGURE_STYLE:L:Moasis_setup}
BUILD_DEPENDS += sysutils/oasis
MODOASIS_configure += cd ${WRKSRC} && oasis setup &&
. endif
MODOASIS_configure += \
	${_MODOASIS_OCAMLC} -o ${_MODOASIS_SETUP} ${WRKSRC}/setup.ml && \
	cd ${WRKSRC} && \
	rm setup.cm[io] && \
	${SETENV} ${CONFIGURE_ENV} ${_MODOASIS_SETUP} -configure \
	--destdir ${WRKINST} \
	--mandir ${PREFIX}/man \
	--infodir ${PREFIX}/info \
	--override pkg_name ${PKGNAME:C/-[0-9].*//} \
	${CONFIGURE_ARGS}

######################################################################
# BUILD
BUILD_DEPENDS+= sysutils/findlib
MODOASIS_BUILD_TARGET = cd ${WRKSRC}
. for TARGET in ${ALL_TARGET}
MODOASIS_BUILD_TARGET += \
	&& ${SETENV} ${MAKE_ENV} ${_MODOASIS_SETUP} ${TARGET}
. endfor
. if !target(do-build)
do-build:
	${MODOASIS_BUILD_TARGET}
. endif

######################################################################
# INSTALL
MODOASIS_INSTALL_TARGET = cd ${WRKSRC}
. for TARGET in ${INSTALL_TARGET}
MODOASIS_INSTALL_TARGET += \
	&& ${SETENV} ${MAKE_ENV} ${_MODOASIS_SETUP} ${TARGET}
. endfor
. if !target(do-install)
do-install:
	${MODOASIS_INSTALL_TARGET}
. endif

######################################################################
# TEST
MODOASIS_TEST_TARGET = cd ${WRKSRC}
. for TARGET in ${TEST_TARGET}
MODOASIS_TEST_TARGET += \
	&& ${SETENV} ${MAKE_ENV} ${_MODOASIS_SETUP} ${TARGET}
. endfor
. if !target(do-test)
do-test:
	${MODOASIS_TEST_TARGET}
. endif

.endif
@


1.30
log
@update to OCaml 4.02.1.
Tested upgrade from 4.02.0 without revision bumping other packages.

ok avsm@@. espie@@ had a look -> no revision bumps needed.
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.29 2014/09/08 05:10:10 chrisz Exp $
d42 1
a42 1
  	${_FAKESUDO} ${INSTALL_DATA_DIR} ${WRKINST}${LOCALBASE}/lib/ocaml/stublibs
d93 1
a93 1
do-build: 
d105 1
a105 1
do-install: 
d117 1
a117 1
do-test: 
@


1.29
log
@Remove unused and wrong OCAML_VERSION.
It's job is now done by bsd.port.arch.mk

Noticed and ok by jca@@
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.28 2014/09/02 09:24:44 chrisz Exp $
d60 1
d68 6
a73 1
MODOASIS_configure = \
@


1.28
log
@Upgrade OCaml to 4.02. Since camlp4 is now a seperate port,
add / change BUILD_DEPENDS for all ports using camlp4.
Findlib is changed because it won't use camlp4 and doesn't install
the Bytes module anymore, which is now included in OCaml 4.02.

ok avsm@@
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.27 2014/08/21 20:54:04 chrisz Exp $
a10 2

OCAML_VERSION=4.01.0
@


1.27
log
@Split off camlp4, labltk and graphics from our current OCaml 4.01.
This will help when upgrading to upcoming OCaml 4.02, which will miss camlp4
and labltk.
For a smooth transision, make all OCaml ports BUILD_DEPEND on camlp4 via
MODULES=ocaml.

sysutils/findlib is the only port using -labltk.
graphics/ocaml-camlimage is the only port using -graphics.


ok avsm@@
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.26 2014/08/10 10:13:18 espie Exp $
d39 1
a39 1
BUILD_DEPENDS +=	lang/ocaml lang/ocaml,-camlp4
@


1.26
log
@_FAKESUDO where needed, from naddy
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.25 2013/11/25 14:40:15 dcoppa Exp $
d39 1
a39 1
BUILD_DEPENDS +=	lang/ocaml
@


1.25
log
@Update to ocaml-4.01.0

Tested in a bulk build by landry@@
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.24 2013/03/11 11:20:28 espie Exp $
d44 1
a44 1
  	${SUDO} ${INSTALL_DATA_DIR} ${WRKINST}${LOCALBASE}/lib/ocaml/stublibs
@


1.24
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.23 2013/01/03 14:32:11 chrisz Exp $
d12 1
a12 1
OCAML_VERSION=4.00.1
@


1.23
log
@by default use ocamldoc.opt on native-dynlink archs.
This will greatly speed up builds for several ports.
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.22 2012/12/31 15:17:00 chrisz Exp $
d59 1
a59 1
REGRESS_TARGET ?= -test
d106 4
a109 4
# REGRESS
MODOASIS_REGRESS_TARGET = cd ${WRKSRC}
. for TARGET in ${REGRESS_TARGET}
MODOASIS_REGRESS_TARGET += \
d112 3
a114 3
. if !target(do-regress)
do-regress: 
	${MODOASIS_REGRESS_TARGET}
@


1.22
log
@always define -Ddynlink= in PKG_ARGS and MODOCAML_NATDYNLINK.
This unbreaks devel/coccinelle

OK
jasper@@, landry@@, avsm@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.21 2012/11/30 19:38:09 chrisz Exp $
d28 1
d33 1
d40 2
a41 1
MAKE_ENV +=		OCAMLFIND_DESTDIR=${DESTDIR}${TRUEPREFIX}/lib/ocaml
@


1.21
log
@update lang/ocaml to 4.00.1.
Let all ocaml ports RUN_DEPEND on the version of ocaml they were built with.
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.20 2012/09/05 21:36:31 avsm Exp $
a15 2
RUN_DEPENDS+=	lang/ocaml

a17 1

d20 5
a27 1

a29 1

a30 1

a31 1

d36 1
a36 8
.else

MODOCAML_NATIVE=No

# remove native base file entry from PLIST
PKG_ARGS+=-Dnative=0
.endif

@


1.20
log
@CONFIGURE_STYLE=oasis should BUILD_DEPENDS on sysutils/findlib, as OASIS
hardcodes its use, and naddy@@ found several broken builds as a result.

ok from czimmermann too.
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.19 2012/08/21 00:24:22 avsm Exp $
d12 1
a12 1
OCAML_VERSION=4.00.0
d16 2
a40 1
RUN_DEPENDS+=	lang/ocaml=${OCAML_VERSION}
d46 2
a47 4
BUILD_DEPENDS+=	lang/ocaml=${OCAML_VERSION}
MAKE_ENV+= OCAMLFIND_DESTDIR=${DESTDIR}${TRUEPREFIX}/lib/ocaml

NAME ?= ${PKGNAME:C/-[0-9].*//}
d83 1
a83 1
	--override pkg_name ${NAME} \
@


1.19
log
@specify the correct man page location for CONFIGURE_STYLE=oasis ports
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.18 2012/08/18 21:49:16 avsm Exp $
d89 1
@


1.18
log
@update to ocaml-4.00.0

- uses new ocaml_native and ocaml_native_dynlink arch properties
- changelog: http://caml.inria.fr/pub/distrib/ocaml-4.00/notes/Changes

From Christopher Zimmermann <madroach@@gmerlin.de> with fixes from me
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.17 2012/06/25 11:43:35 espie Exp $
d82 2
@


1.17
log
@use TRUEPREFIX to allow correct behavior wrt do-install.
from Christopher Zimmermann
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.16 2011/12/21 21:31:50 avsm Exp $
d12 1
a12 1
OCAML_VERSION=3.12.1
d14 3
a16 3
.if ${MACHINE_ARCH} == "alpha" || ${MACHINE_ARCH} == "i386" || \
	${MACHINE_ARCH} == "sparc" || ${MACHINE_ARCH} == "amd64" || \
	${MACHINE_ARCH} == "powerpc"
d22 1
a22 1
.if ${MACHINE_ARCH} == "i386" || ${MACHINE_ARCH} == "amd64"
d46 7
a52 1
MAKE_ENV+= OCAMLFIND_DESTDIR=${DESTDIR}${TRUEPREFIX}/lib/ocaml/site-lib
d54 68
@


1.16
log
@Upgrade to ocaml-3.12.1

Also include the compiler standard libraries under compiler-libs/, as this
is the convention adopted by other packaging (Debian, FreeBSD), and is used
by various utility software such as the Lwt interactive toplevel and some
of the graphical IDEs.
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.15 2010/12/07 15:01:35 dcoppa Exp $
d46 1
a46 1
MAKE_ENV+= OCAMLFIND_DESTDIR=${DESTDIR}${PREFIX}/lib/ocaml/site-lib
@


1.15
log
@Update to ocaml-3.12.0

Maintainer timeout.

OK landry@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.14 2010/11/26 17:27:38 espie Exp $
d12 1
a12 1
OCAML_VERSION=3.12.0
@


1.14
log
@use =${VERSION} dialect
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.13 2010/11/17 08:05:18 espie Exp $
d12 1
a12 1
OCAML_VERSION=3.11.2
d21 14
@


1.13
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.12 2010/06/04 13:58:18 avsm Exp $
d25 1
a25 1
RUN_DEPENDS+=	ocaml-${OCAML_VERSION}:lang/ocaml
d31 1
a31 1
BUILD_DEPENDS+=	ocaml-=${OCAML_VERSION}:lang/ocaml
@


1.12
log
@update to ocaml-3.11.2, mainly bugfixes. from dcoppa@@ with minor PLIST tweaks from me
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.11 2009/06/20 22:05:11 avsm Exp $
d25 1
a25 1
RUN_DEPENDS+=	:ocaml-${OCAML_VERSION}:lang/ocaml
d31 1
a31 1
BUILD_DEPENDS+=	:ocaml-=${OCAML_VERSION}:lang/ocaml
@


1.11
log
@update to ocaml-3.11.1 and bump dependent package PKGNAMEs
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.10 2009/04/03 21:28:46 sturm Exp $
d12 1
a12 1
OCAML_VERSION=3.11.1
@


1.10
log
@unbreak RUN_DEPENDS with help from espie
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.9 2009/03/11 21:19:49 avsm Exp $
d12 1
a12 1
OCAML_VERSION=3.11.0
@


1.9
log
@update ocaml to 3.11.0
tested by krw@@ and Richard Bonichon <richard.bonichon@@gmail.com>
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.8 2006/12/26 22:38:35 avsm Exp $
d25 1
a25 1
RUN_DEPENDS+=	:ocaml-${OCAML_VERSION}*:lang/ocaml
@


1.8
log
@relax the build/run depends restriction to ocaml-3.09.3* so that it will
still match minor package bumps, suggested by steven@@
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.7 2006/12/26 22:07:18 avsm Exp $
d12 1
a12 1
OCAML_VERSION=3.09.3
d31 1
a31 1
BUILD_DEPENDS+=	:ocaml-${OCAML_VERSION}*:lang/ocaml
@


1.7
log
@Update to ocaml-3.09.3, mainly bugfixes (no language changes).

Also modify ocaml.port.mk to depend on the exact version of ocaml being
compiled against, since the OCaml library format makes no guarantees about
working across versions.  This dependency should ensure that packages compiled
against different ocaml versions aren't mixed and matched.
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.6 2006/05/29 03:44:49 avsm Exp $
d25 1
a25 1
RUN_DEPENDS+=	:ocaml-${OCAML_VERSION}:lang/ocaml
d31 1
a31 1
BUILD_DEPENDS+=	:ocaml-${OCAML_VERSION}:lang/ocaml
@


1.6
log
@support findlib destdir for easier packaging of ocaml modules
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.5 2005/08/09 15:22:54 robert Exp $
d12 2
d25 1
a25 1
RUN_DEPENDS+=	::lang/ocaml
d31 1
a31 1
BUILD_DEPENDS+=	::lang/ocaml
@


1.5
log
@native code does not work on arm. this change unbreaks a couple of
ports because they think that we have a native ocaml but we don't.
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.4 2005/05/28 20:55:45 avsm Exp $
d30 2
@


1.4
log
@native code works on the zaurus now!
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.3 2005/01/22 14:28:38 sturm Exp $
d14 1
a14 1
	${MACHINE_ARCH} == "powerpc" || ${MACHINE_ARCH} == "arm"
@


1.3
log
@fix documentation
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.2 2004/09/15 19:10:00 espie Exp $
d14 1
a14 1
	${MACHINE_ARCH} == "powerpc"
@


1.2
log
@new style fragment, much simpler thanks to recursion.
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.1 2004/08/10 20:39:38 xsa Exp $
d9 2
a10 2
# PFRAG.native.foo    -- nativecode files for FLAVOR == foo
# PFRAG.native.no-foo -- nativecode files for FLAVOR != foo
@


1.1
log
@
prepare for new-style MODULES. ok sturm@@.
@
text
@d1 1
a1 1
# $OpenBSD: ocaml.port.mk,v 1.6 2004/06/22 18:15:58 avsm Exp $
d18 1
a18 12
SED_PLIST+=	|sed -e '/^%%native%%$$/r${PKGDIR}/PFRAG.native' -e '//d'

# create sed substitution for nativecode FLAVORS
.  if !empty(FLAVORS)
.    for _i in ${FLAVORS:L}
.      if empty(FLAVOR:L:M${_i})
SED_PLIST+=	|sed -e '/^!%%native\.${_i}%%$$/r${PKGDIR}/PFRAG.native.no-${_i}' -e '//d' -e '/^%%native\.${_i}%%$$/d'
.      else
SED_PLIST+=	|sed -e '/^!%%native\.${_i}%%$$/d' -e '/^%%native\.${_i}%%$$/r${PKGDIR}/PFRAG.native.${_i}' -e '//d' 
.      endif
.    endfor
.  endif
d26 1
a26 8
SED_PLIST+=	|sed -e '/^%%native%%$$/d'

# remove nativecode FLAVOR entries from PLIST
.  if !empty(FLAVORS)
.    for _i in ${FLAVORS:L}
SED_PLIST+=	|sed -e '/^!%%native\.${_i}%%$$/d' -e '/^%%native\.${_i}%%$$/d'
.    endfor
.  endif
@

