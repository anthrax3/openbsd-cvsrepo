head	1.3;
access;
symbols
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2011.07.19.17.57.47;	author jeremy;	state dead;
branches;
next	1.2;

1.2
date	2011.03.18.23.01.22;	author jeremy;	state Exp;
branches;
next	1.1;

1.1
date	2010.10.28.01.45.44;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to 1.6.3.  Make bin/jruby a compiled file instead of a bash
script, so it can now be used in shebang lines.  Remove the
building of nailgun, since nailgun support is now part of the
jruby binary.

This requires patching the included jruby-launcher gem to make a
similar change we used to make to the jruby.bash script, to set the
JAVA_HOME environment so things work correctly.

Also, create the SITEARCHDIR directory by default.

OK jcs@@
@
text
@$OpenBSD: patch-tool_nailgun_Makefile_in,v 1.2 2011/03/18 23:01:22 jeremy Exp $
--- tool/nailgun/Makefile.in.orig	Tue Feb  8 09:30:25 2011
+++ tool/nailgun/Makefile.in	Tue Feb  8 11:24:22 2011
@@@@ -2,7 +2,7 @@@@ SRC      = src/c/ng.c
 CC       = @@CC@@
 WIN32_CC = /usr/local/mingw32/bin/mingw32-gcc
 
-CFLAGS = @@CFLAGS@@ @@LIBS@@ -s -O3
+CFLAGS = @@CFLAGS@@ @@LIBS@@ -s
 
 ng: Makefile $(SRC)
 	@@echo "Building ng client.  To build a Windows binary, type 'make ng.exe'"
@@@@ -20,4 +20,4 @@@@ clean:
 	rm -rf ng ng.dSYM config.status config.log Makefile
 #	rm ng.exe
 
-Makefile: Makefile.in
\ No newline at end of file
+Makefile: Makefile.in
@


1.2
log
@Update jruby to 1.6.0.  This version adds ruby 1.9 syntax support,
as well as experimental C extension support, and many other
significant new features.

Bump required memory to 384MB, should fix occassional memory
errors when building.

Use the jruby-complete.jar instead of the jruby.jar, seems
to be necessary for C extension support to work correctly.

RSpec is no longer bundled.  Additionally, the extra 1.5.3
distfile is no longer needed as the changes have been included
upstream.

OK landry@@
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@Update lang/jruby from 1.3.1 to 1.5.3.  Numerous improvements including
performance increases and ruby 1.8.7 support. ffi support now works in
simple cases.  It now works on amd64 as well.  I'm taking over
maintenance from bernd@@.

ok landry
@
text
@d1 3
a3 3
$OpenBSD: patch-tool_nailgun_Makefile,v 1.1 2009/08/09 11:18:59 bernd Exp $
--- tool/nailgun/Makefile.in.orig	Mon Nov  2 10:15:13 2009
+++ tool/nailgun/Makefile.in	Tue Nov 24 04:35:40 2009
@

