head	1.2;
access;
symbols
	OPENBSD_5_3:1.1.0.10
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.8
	OPENBSD_5_2_BASE:1.1
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.6
	OPENBSD_5_0:1.1.0.4
	OPENBSD_5_0_BASE:1.1
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2013.03.19.23.43.06;	author jeremy;	state dead;
branches;
next	1.1;

1.1
date	2010.10.28.01.45.44;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to jruby 1.7.3.

Drop support for C extensions (which were always expiremental).
Use jruby.jar instead of jruby-complete.jar, for a more typical
jruby installation.
@
text
@$OpenBSD: patch-jffi_custom-build_xml,v 1.1 2010/10/28 01:45:44 jeremy Exp $
--- jffi/custom-build.xml.orig	Thu Oct 21 04:54:59 2010
+++ jffi/custom-build.xml	Thu Oct 21 04:55:11 2010
@@@@ -8,7 +8,7 @@@@
         <property name="build.native.dir" location="${build.dir}/jni"/>
         <property name="src.native.dir" location="jni"/>
         <property name="complete.jar" value="${dist.dir}/jffi-complete.jar"/>
-        <property name="ant.build.javac.target" value="1.5"/>
+        <property name="ant.build.javac.target" value="1.7"/>
         <mkdir dir="${build.native.dir}"/>
         
         <!-- normalize the various os.arch naming conventions -->
@@@@ -71,7 +71,7 @@@@
         </condition>
     </target>
     <target name="-generate-version" depends="init,-init-vars,-generate-version-source">
-        <javac target="1.5" destdir="${build.classes.dir}" srcdir="${build.dir}/java"/>
+        <javac target="1.7" destdir="${build.classes.dir}" srcdir="${build.dir}/java"/>
     </target>
     <target name="-generate-native-headers" depends="-init-vars,-generate-version,-compile-java">
         <mkdir dir="${build.native.dir}"/>
@


1.1
log
@Update lang/jruby from 1.3.1 to 1.5.3.  Numerous improvements including
performance increases and ruby 1.8.7 support. ffi support now works in
simple cases.  It now works on amd64 as well.  I'm taking over
maintenance from bernd@@.

ok landry
@
text
@d1 1
a1 1
$OpenBSD$
@

