head	1.2;
access;
symbols
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.11.08.23.58.08;	author jeremy;	state dead;
branches;
next	1.1;

1.1
date	2011.03.18.23.01.22;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Update to JRuby 1.6.5.

Make jruby binary not segfault if PATH isn't set correctly.

Remove rubygems hacks, since they are no longer necessary now
that the versions of rubygems for the other ruby interpreters
are > 1.3.7.

No longer ship the ri documentation files with JRuby.  JRuby
ships with a broken ri binary anyway (requires the rdoc gem to
work), and almost all users of JRuby have MRI ruby installed
and can use its ri binary.
@
text
@$OpenBSD: patch-lib_ruby_site_ruby_1_8_rubygems_installer_rb,v 1.1 2011/03/18 23:01:22 jeremy Exp $
--- lib/ruby/site_ruby/1.8/rubygems/installer.rb.orig	Tue Feb  8 09:30:23 2011
+++ lib/ruby/site_ruby/1.8/rubygems/installer.rb	Tue Feb  8 15:12:26 2011
@@@@ -39,7 +39,7 @@@@ class Gem::Installer
 
   include Gem::UserInteraction
 
-  include Gem::RequirePathsBuilder if Gem::QUICKLOADER_SUCKAGE
+  include Gem::RequirePathsBuilder
 
   ##
   # The directory a gem's executables will be installed into
@@@@ -171,7 +171,7 @@@@ class Gem::Installer
     generate_bin
     write_spec
 
-    write_require_paths_file_if_needed if Gem::QUICKLOADER_SUCKAGE
+    write_require_paths_file_if_needed
 
     # HACK remove?  Isn't this done in multiple places?
     cached_gem = File.join @@gem_home, "cache", @@gem.split(/\//).pop
@


1.1
log
@Update jruby to 1.6.0.  This version adds ruby 1.9 syntax support,
as well as experimental C extension support, and many other
significant new features.

Bump required memory to 384MB, should fix occassional memory
errors when building.

Use the jruby-complete.jar instead of the jruby.jar, seems
to be necessary for C extension support to work correctly.

RSpec is no longer bundled.  Additionally, the extra 1.5.3
distfile is no longer needed as the changes have been included
upstream.

OK landry@@
@
text
@d1 1
a1 1
$OpenBSD$
@

