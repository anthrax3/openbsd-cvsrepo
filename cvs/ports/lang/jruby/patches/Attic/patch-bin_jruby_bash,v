head	1.3;
access;
symbols
	OPENBSD_5_3:1.2.0.8
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.6
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.4
	OPENBSD_5_0:1.2.0.2
	OPENBSD_5_0_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2013.05.17.20.14.49;	author jeremy;	state dead;
branches;
next	1.2;

1.2
date	2011.07.19.17.57.47;	author jeremy;	state Exp;
branches;
next	1.1;

1.1
date	2011.03.18.23.01.22;	author jeremy;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to jruby 1.7.4.  Make sure site_ruby directory is created
in correct location.  Fix test target.  Remove unneeded patch
to bash script.
@
text
@$OpenBSD: patch-bin_jruby_bash,v 1.2 2011/07/19 17:57:47 jeremy Exp $
--- bin/jruby.bash.orig	Thu Jul  7 11:19:33 2011
+++ bin/jruby.bash	Mon Jul 11 21:32:16 2011
@@@@ -1,4 +1,4 @@@@
-#!/bin/bash
+#!${TRUEPREFIX}/bin/bash
 # -----------------------------------------------------------------------------
 # jruby.bash - Start Script for the JRuby interpreter
 #
@


1.2
log
@Update to 1.6.3.  Make bin/jruby a compiled file instead of a bash
script, so it can now be used in shebang lines.  Remove the
building of nailgun, since nailgun support is now part of the
jruby binary.

This requires patching the included jruby-launcher gem to make a
similar change we used to make to the jruby.bash script, to set the
JAVA_HOME environment so things work correctly.

Also, create the SITEARCHDIR directory by default.

OK jcs@@
@
text
@d1 1
a1 1
$OpenBSD: patch-bin_jruby_bash,v 1.1 2011/03/18 23:01:22 jeremy Exp $
@


1.1
log
@Update jruby to 1.6.0.  This version adds ruby 1.9 syntax support,
as well as experimental C extension support, and many other
significant new features.

Bump required memory to 384MB, should fix occassional memory
errors when building.

Use the jruby-complete.jar instead of the jruby.jar, seems
to be necessary for C extension support to work correctly.

RSpec is no longer bundled.  Additionally, the extra 1.5.3
distfile is no longer needed as the changes have been included
upstream.

OK landry@@
@
text
@d1 3
a3 3
$OpenBSD$
--- bin/jruby.bash.orig	Tue Feb  8 11:26:58 2011
+++ bin/jruby.bash	Tue Feb  8 11:28:11 2011
a9 8
@@@@ -20,6 +20,7 @@@@ case "`uname`" in
 esac
 
 # ----- Verify and Set Required Environment Variables -------------------------
+JAVA_HOME=$(javaPathHelper -h jruby)
 JAVA_VM=-client
 
 ## resolve links - $0 may be a link to  home
@

