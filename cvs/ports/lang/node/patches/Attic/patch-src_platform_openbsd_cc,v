head	1.2;
access;
symbols
	jasper_20122305:1.1.1.1 jasper:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2012.06.28.08.30.28;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2012.05.23.15.11.43;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.05.23.15.11.43;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update node to 0.8.0
* please see this blog post for more details on the changes:
  http://blog.nodejs.org/2012/06/25/node-v0-8-0/
  * the migration wiki can be consulted to port your code to node 0.8:
    https://github.com/joyent/node/wiki/API-changes-between-v0.6-and-v0.8
    - expose node-gyp, so it's now installed into ${LOCALBASE}/bin/ too

    from aaron bieber with tweaks by me
    ok jeremy@@
@
text
@$OpenBSD: patch-src_platform_openbsd_cc,v 1.1 2012/05/23 15:11:43 jasper Exp $
--- src/platform_openbsd.cc.orig	Tue Jan 10 13:45:30 2012
+++ src/platform_openbsd.cc	Tue Jan 10 13:57:13 2012
@@@@ -68,9 +68,9 @@@@ const char* Platform::GetProcessTitle(int *len) {
 
 int Platform::GetMemory(size_t *rss) {
   kvm_t *kd = NULL;
-  struct kinfo_proc2 *kinfo = NULL;
+  struct kinfo_proc *kinfo = NULL;
   pid_t pid;
-  int nprocs, max_size = sizeof(struct kinfo_proc2);
+  int nprocs, max_size = sizeof(struct kinfo_proc);
   size_t page_size = getpagesize();
 
   pid = getpid();
@@@@ -78,7 +78,7 @@@@ int Platform::GetMemory(size_t *rss) {
   kd = kvm_open(NULL, _PATH_MEM, NULL, O_RDONLY, "kvm_open");
   if (kd == NULL) goto error;
 
-  kinfo = kvm_getproc2(kd, KERN_PROC_PID, pid, max_size, &nprocs);
+  kinfo = kvm_getprocs(kd, KERN_PROC_PID, pid, max_size, &nprocs);
   if (kinfo == NULL) goto error;
 
   *rss = kinfo->p_vm_rssize * page_size;
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD: patch-src_platform_openbsd_cc,v 1.1 2012/01/10 14:35:56 sthen Exp $
@


1.1.1.1
log
@re-import node into lang, www was poorly chosen at the time of import

from aaron bieber (MAINTAINER), with cluestick hitting by espie@@ 
as discussed with and ok sthen@@

@
text
@@
