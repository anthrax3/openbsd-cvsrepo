head	1.3;
access;
symbols
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2013.01.13.14.53.40;	author abieber;	state dead;
branches;
next	1.2;

1.2
date	2012.08.23.17.29.44;	author abieber;	state Exp;
branches;
next	1.1;

1.1
date	2012.06.28.08.30.28;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Upgrade node to 0.8.17
- remove two of our patches

OK jasper@@
@
text
@$OpenBSD: patch-deps_npm_node_modules_node-gyp_legacy_tools_gyp_pylib_gyp_common_py,v 1.2 2012/08/23 17:29:44 abieber Exp $
--- deps/npm/node_modules/node-gyp/legacy/tools/gyp/pylib/gyp/common.py.orig	Tue Aug 21 21:33:20 2012
+++ deps/npm/node_modules/node-gyp/legacy/tools/gyp/pylib/gyp/common.py	Tue Aug 21 21:33:49 2012
@@@@ -331,7 +331,6 @@@@ def WriteOnDiff(filename):
           # and then set it back to the old value.
           umask = os.umask(077)
           os.umask(umask)
-          os.chmod(self.tmp_path, 0666 & ~umask)
           if sys.platform == 'win32' and os.path.exists(filename):
             # NOTE: on windows (but not cygwin) rename will not replace an
             # existing file, so it must be preceded with a remove. Sadly there
@@@@ -355,6 +354,7 @@@@ def GetFlavor(params):
     'sunos5': 'solaris',
     'freebsd7': 'freebsd',
     'freebsd8': 'freebsd',
+    'openbsd5': 'openbsd',
   }
   flavor = flavors.get(sys.platform, 'linux')
   return params.get('flavor', flavor)
@


1.2
log
@- update node to 0.8.7
- add @@mandir to plist
OK sthen@@, jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-deps_npm_node_modules_node-gyp_legacy_tools_gyp_pylib_gyp_common_py,v 1.1 2012/06/28 08:30:28 jasper Exp $
@


1.1
log
@- update node to 0.8.0
* please see this blog post for more details on the changes:
  http://blog.nodejs.org/2012/06/25/node-v0-8-0/
  * the migration wiki can be consulted to port your code to node 0.8:
    https://github.com/joyent/node/wiki/API-changes-between-v0.6-and-v0.8
    - expose node-gyp, so it's now installed into ${LOCALBASE}/bin/ too

    from aaron bieber with tweaks by me
    ok jeremy@@
@
text
@d1 12
a12 4
$OpenBSD$
--- deps/npm/node_modules/node-gyp/legacy/tools/gyp/pylib/gyp/common.py.orig	Fri Jun 22 07:35:08 2012
+++ deps/npm/node_modules/node-gyp/legacy/tools/gyp/pylib/gyp/common.py	Fri Jun 22 07:35:22 2012
@@@@ -355,6 +355,7 @@@@ def GetFlavor(params):
@

