head	1.5;
access;
symbols
	OPENBSD_6_1:1.4.0.12
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.10
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.6
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.8
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.4
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.3.0.8
	OPENBSD_5_5_BASE:1.3
	OPENBSD_5_4:1.3.0.6
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.4
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.2
	OPENBSD_5_2_BASE:1.3
	jasper_20122305:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2017.06.27.12.04.08;	author abieber;	state Exp;
branches;
next	1.4;
commitid	6LwUI4yYazSpk8z5;

1.4
date	2014.07.10.19.53.30;	author landry;	state Exp;
branches;
next	1.3;
commitid	59gz4Ni8sLt6wlhz;

1.3
date	2012.06.28.08.30.28;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2012.06.06.20.33.50;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2012.05.23.15.11.43;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.05.23.15.11.43;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.5
log
@Update to v6.11.0

- regen patches (thanks danj@@)
- full changelog here: https://github.com/nodejs/node/blob/master/doc/changelogs/CHANGELOG_V6.md#6.11.0

OK danj@@
@
text
@$OpenBSD: patch-deps_npm_node_modules_node-gyp_lib_build_js,v 1.4 2014/07/10 19:53:30 landry Exp $
Index: deps/npm/node_modules/node-gyp/lib/build.js
--- deps/npm/node_modules/node-gyp/lib/build.js.orig
+++ deps/npm/node_modules/node-gyp/lib/build.js
@@@@ -238,6 +238,8 @@@@ function build (gyp, argv, callback) {
       }
     } else {
       argv.push('BUILDTYPE=' + buildType)
+      // Don't hide compiler commands
+      argv.push('V=1')
       // Invoke the Makefile in the 'build' dir.
       argv.push('-C')
       argv.push('build')
@


1.4
log
@Regen patches.
@
text
@d1 5
a5 4
$OpenBSD: patch-deps_npm_node_modules_node-gyp_lib_build_js,v 1.3 2012/06/28 08:30:28 jasper Exp $
--- deps/npm/node_modules/node-gyp/lib/build.js.orig	Fri May  2 02:47:47 2014
+++ deps/npm/node_modules/node-gyp/lib/build.js	Thu Jul 10 15:58:13 2014
@@@@ -230,6 +230,8 @@@@ function build (gyp, argv, callback) {
@


1.3
log
@- update node to 0.8.0
* please see this blog post for more details on the changes:
  http://blog.nodejs.org/2012/06/25/node-v0-8-0/
  * the migration wiki can be consulted to port your code to node 0.8:
    https://github.com/joyent/node/wiki/API-changes-between-v0.6-and-v0.8
    - expose node-gyp, so it's now installed into ${LOCALBASE}/bin/ too

    from aaron bieber with tweaks by me
    ok jeremy@@
@
text
@d1 5
a5 5
$OpenBSD: patch-deps_npm_node_modules_node-gyp_lib_build_js,v 1.2 2012/06/06 20:33:50 sthen Exp $
--- deps/npm/node_modules/node-gyp/lib/build.js.orig	Wed Jun 20 09:26:29 2012
+++ deps/npm/node_modules/node-gyp/lib/build.js	Wed Jun 20 09:26:54 2012
@@@@ -186,6 +186,8 @@@@ function build (gyp, argv, callback) {
       argv.push('/p:Configuration=' + buildType + ';Platform=' + p)
@


1.2
log
@update to Node 0.6.19, from maintainer Aaron Bieber
@
text
@d1 4
a4 4
$OpenBSD: patch-deps_npm_node_modules_node-gyp_lib_build_js,v 1.1.1.1 2012/05/23 15:11:43 jasper Exp $
--- deps/npm/node_modules/node-gyp/lib/build.js.orig	Wed Jun  6 10:14:26 2012
+++ deps/npm/node_modules/node-gyp/lib/build.js	Wed Jun  6 10:16:16 2012
@@@@ -184,6 +184,8 @@@@ function build (gyp, argv, callback) {
@


1.1
log
@Initial revision
@
text
@d1 4
a4 21
$OpenBSD: patch-deps_npm_node_modules_node-gyp_lib_build_js,v 1.4 2012/05/10 18:29:52 sthen Exp $
--- deps/npm/node_modules/node-gyp/lib/build.js.orig	Fri May  4 21:12:52 2012
+++ deps/npm/node_modules/node-gyp/lib/build.js	Thu May 10 19:05:18 2012
@@@@ -11,13 +11,15 @@@@ var fs = require('graceful-fs')
   , which = require('which')
   , mkdirp = require('./util/mkdirp')
   , win = process.platform == 'win32'
+  , openbsd = process.platform == 'openbsd'
 
 exports.usage = 'Invokes `' + (win ? 'msbuild' : 'make') + '` and builds the module'
 
 function build (gyp, argv, callback) {
 
   gyp.verbose('build args', argv)
-  var command = win ? 'msbuild' : 'make'
+  var builder = openbsd ? 'gmake' : 'make' 
+  var command = win ? 'msbuild' : builder
     , buildDir = path.resolve('build')
     , configPath = path.resolve(buildDir, 'config.gypi')
     , buildType
@@@@ -181,6 +183,8 @@@@ function build (gyp, argv, callback) {
@


1.1.1.1
log
@re-import node into lang, www was poorly chosen at the time of import

from aaron bieber (MAINTAINER), with cluestick hitting by espie@@ 
as discussed with and ok sthen@@

@
text
@@
