head	1.8;
access;
symbols
	OPENBSD_6_1:1.8.0.12
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.10
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.6
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.8.0.8
	OPENBSD_5_8_BASE:1.8
	OPENBSD_5_7:1.8.0.4
	OPENBSD_5_7_BASE:1.8
	OPENBSD_5_6:1.8.0.2
	OPENBSD_5_6_BASE:1.8
	OPENBSD_5_5:1.7.0.4
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.2
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.5.0.6
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.4
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.2
	jasper_20112808:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.8
date	2014.05.07.15.42.16;	author kurt;	state Exp;
branches;
next	1.7;

1.7
date	2013.05.29.16.56.28;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2013.03.11.11.20.28;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2011.10.06.13.44.45;	author jasper;	state Exp;
branches;
next	1.4;

1.4
date	2011.09.16.10.31.21;	author espie;	state Exp;
branches;
next	1.3;

1.3
date	2011.08.30.17.16.36;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2011.08.28.20.57.49;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2011.08.28.16.57.23;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2011.08.28.16.57.23;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.8
log
@- Unlink jdk/1.6 and make jdk/1.7 the default jdk for all java ports
- Adjust java.port.mk and cmake to use 1.7
- Adjust jdk/1.7 for pkg_add upgrades
okay sthen@@, jasper@@, ajacoutot@@
@
text
@# $OpenBSD: Makefile,v 1.7 2013/05/29 16:56:28 jasper Exp $

COMMENT=	general purpose multi-paradigm programming language

DISTNAME=	scala-2.10.1
CATEGORIES=	lang
REVISION=	0

HOMEPAGE=	http://www.scala-lang.org/

# BSD
PERMIT_PACKAGE_CDROM=   Yes

MASTER_SITES=	${HOMEPAGE}/downloads/distrib/files/
EXTRACT_SUFX=	.tgz

MODULES=	java
MODJAVA_VER=	1.6+

RUN_DEPENDS=	java/javaPathHelper \
		shells/bash

SCALA_HOME=	${PREFIX}/scala/
SCALA_SCRIPTS=	fsc scala scalac scalap scaladoc

NO_BUILD=	Yes
NO_TEST=	Yes

# Remove BAT files which we obviously don't want installed.
post-extract:
	rm ${WRKSRC}/bin/*.bat

do-install:
	${INSTALL_DATA_DIR} ${SCALA_HOME}
	cd ${WRKSRC} && tar -cf - bin doc lib misc src | \
		tar -xf - -C ${SCALA_HOME}
	${INSTALL_MAN} ${WRKSRC}/man/man1/*.1 ${PREFIX}/man/man1/
	# Install the wrapper scripts
.for s in ${SCALA_SCRIPTS}
	${INSTALL_SCRIPT} ${FILESDIR}/$s ${PREFIX}/bin/
	${SUBST_CMD} ${PREFIX}/bin/$s
	rm ${PREFIX}/bin/$s.beforesubst
.endfor

.include <bsd.port.mk>
@


1.7
log
@- update to scala-2.10.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/03/11 11:20:28 espie Exp $
d7 1
@


1.6
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2011/10/06 13:44:45 jasper Exp $
d5 1
a5 2
DISTNAME=	scala-2.9.1.final
PKGNAME=	${DISTNAME:S/.final//}
d23 1
a23 1
SCALA_SCRIPTS=	scala scalac scalap scaladoc
d28 1
a28 1
# Cleanup a bit, remove BAT files, and fix path to bash.
a30 1
	perl -pi -e 's,/bin/bash,${LOCALBASE}$$&,g' ${WRKSRC}/bin/*
d34 1
a34 1
	cd ${WRKSRC} && tar -cf - bin doc lib meta misc src | \
a36 5
	# Install emacs files to where emacs can find them
	${INSTALL_DATA_DIR} ${PREFIX}/share/emacs/site-lisp/
	cd ${WRKSRC}/misc/scala-tool-support/ && tar -cf - emacs | \
		tar -xf - -C ${PREFIX}/share/emacs/site-lisp/
	rm -fr ${PREFIX}/scala/misc/scala-tool-support/emacs/
@


1.5
log
@- update to 2.9.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2011/09/16 10:31:21 espie Exp $
a12 3
PERMIT_PACKAGE_FTP=     Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=   Yes
d27 1
a27 1
NO_REGRESS=	Yes
@


1.4
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2011/08/30 17:16:36 jasper Exp $
d5 2
a6 2
DISTNAME=	scala-2.9.0.1
REVISION=	2
@


1.3
log
@- bump REVISION after recent java.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2011/08/28 20:57:49 jasper Exp $
d6 1
a6 1
REVISION=	1
@


1.2
log
@add missing run dependency, spotted by aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2011/08/28 16:57:23 jasper Exp $
d6 1
a6 1
REVISION=	0
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d6 1
d23 2
a24 1
RUN_DEPENDS=	java/javaPathHelper
@


1.1.1.1
log
@import scala 2.9.0.1

Scala is a general purpose programming language designed to express
common programming patterns in a concise, elegant, and type-safe way. It
smoothly integrates features of object-oriented and functional
languages, enabling Java and other programmers to be more productive.
Code sizes are typically reduced by a factor of two to three when
compared to an equivalent Java application.

ok sthen@@
@
text
@@
