head	1.2;
access;
symbols
	OPENBSD_4_9:1.1.0.2
	OPENBSD_4_9_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2011.04.20.15.45.16;	author shadchin;	state dead;
branches;
next	1.1;

1.1
date	2010.11.30.11.23.39;	author espie;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update to 11.1.1
- remove BROKEN-hppa

ok jasper@@, tested on hppa landry@@
@
text
@$OpenBSD: patch-src_c_print_d,v 1.1 2010/11/30 11:23:39 espie Exp $
--- src/c/print.d.orig	Wed Dec 17 16:41:52 2008
+++ src/c/print.d	Tue Nov 30 12:10:43 2010
@@@@ -597,7 +597,7 @@@@ write_double(DBL_TYPE d, int e, int n, cl_object strea
 		}
 		write_str(buff+1, stream);
 	} else {
-		char buff[DBL_MANTISSA_SIZE + 1];
+		char buff[DBL_MANTISSA_SIZE + 1 + DBL_MAX_DIGITS];
 		int i;
 		DBL_TYPE aux;
 		/* Print in fixed point notation with enough number of
@


1.1
log
@fix buffer overflow that broke maxima.
was always there, probably happened after some changes to our fp code
@
text
@d1 1
a1 1
$OpenBSD$
@

