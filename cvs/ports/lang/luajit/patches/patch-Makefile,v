head	1.6;
access;
symbols
	OPENBSD_6_1:1.5.0.8
	OPENBSD_6_1_BASE:1.5
	OPENBSD_6_0:1.5.0.6
	OPENBSD_6_0_BASE:1.5
	OPENBSD_5_9:1.5.0.2
	OPENBSD_5_9_BASE:1.5
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.4.0.4
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.2.0.6
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.4
	OPENBSD_5_4_BASE:1.2
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	abieber_20121027:1.1.1.1
	abieber:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2017.05.05.10.21.47;	author jsg;	state Exp;
branches;
next	1.5;
commitid	zm0flcBFkl6UMYsg;

1.5
date	2015.06.06.09.03.16;	author dcoppa;	state Exp;
branches;
next	1.4;
commitid	42Yo5zTU2igR83WU;

1.4
date	2014.05.03.14.24.03;	author abieber;	state Exp;
branches;
next	1.3;

1.3
date	2014.03.12.22.51.21;	author abieber;	state Exp;
branches;
next	1.2;

1.2
date	2012.11.16.15.06.57;	author abieber;	state Exp;
branches;
next	1.1;

1.1
date	2012.10.27.14.05.33;	author abieber;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.10.27.14.05.33;	author abieber;	state Exp;
branches;
next	;


desc
@@


1.6
log
@update to LuaJIT 2.0.5

Major on the library gets cranked as it removes
luaJIT_version_2_0_4
and adds
luaJIT_version_2_0_5

Tested by sthen@@ with rspamd. ok sthen@@
@
text
@$OpenBSD: patch-Makefile,v 1.5 2015/06/06 09:03:16 dcoppa Exp $
--- Makefile.orig	Tue May  2 04:11:00 2017
+++ Makefile	Tue May  2 11:40:27 2017
@@@@ -17,7 +17,7 @@@@ MAJVER=  2
 MINVER=  0
 RELVER=  5
 VERSION= $(MAJVER).$(MINVER).$(RELVER)
-ABIVER=  5.1
+ABIVER=  ${MODLUA_VERSION}
 
 ##############################################################################
 #
@@@@ -117,18 +117,13 @@@@ install: $(INSTALL_DEP)
 	cd src && test -f $(FILE_A) && $(INSTALL_F) $(FILE_A) $(INSTALL_STATIC) || :
 	$(RM) $(INSTALL_TSYM) $(INSTALL_DYN) $(INSTALL_SHORT1) $(INSTALL_SHORT2)
 	cd src && test -f $(FILE_SO) && \
-	  $(INSTALL_X) $(FILE_SO) $(INSTALL_DYN) && \
-	  $(LDCONFIG) $(INSTALL_LIB) && \
-	  $(SYMLINK) $(INSTALL_SONAME) $(INSTALL_SHORT1) && \
-	  $(SYMLINK) $(INSTALL_SONAME) $(INSTALL_SHORT2) || :
+	  $(INSTALL_X) $(FILE_SO) $(INSTALL_DYN) || :
 	cd etc && $(INSTALL_F) $(FILE_MAN) $(INSTALL_MAN)
 	cd etc && $(SED_PC) $(FILE_PC) > $(FILE_PC).tmp && \
 	  $(INSTALL_F) $(FILE_PC).tmp $(INSTALL_PC) && \
 	  $(RM) $(FILE_PC).tmp
 	cd src && $(INSTALL_F) $(FILES_INC) $(INSTALL_INC)
 	cd src/jit && $(INSTALL_F) $(FILES_JITLIB) $(INSTALL_JITLIB)
-	$(SYMLINK) $(INSTALL_TNAME) $(INSTALL_TSYM)
-	@@echo "==== Successfully installed LuaJIT $(VERSION) to $(PREFIX) ===="
 
 uninstall:
 	@@echo "==== Uninstalling LuaJIT $(VERSION) from $(PREFIX) ===="
@


1.5
log
@
Update to LuaJIT-2.0.4

ok abieber@@ (maintainer)
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.4 2014/05/03 14:24:03 abieber Exp $
--- Makefile.orig	Thu May 14 20:30:00 2015
+++ Makefile	Thu Jun  4 19:20:59 2015
d6 1
a6 1
 RELVER=  4
d13 1
a13 1
@@@@ -111,18 +111,13 @@@@ install: $(INSTALL_DEP)
@


1.4
log
@Fix for hard coded 5.1 plist stuff that was preventing the lua52 flavor
building.

Suggestions from sthen@@

OK juanfra@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.3 2014/03/12 22:51:21 abieber Exp $
--- Makefile.orig	Wed Mar 12 06:10:00 2014
+++ Makefile	Mon Apr 14 12:35:12 2014
d6 1
a6 1
 RELVER=  3
@


1.3
log
@Update to the latest luajit - tested on amd64 using luakit. luasocket was also
used as a test.

OK jturner@@
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile,v 1.2 2012/11/16 15:06:57 abieber Exp $
d3 10
a12 1
+++ Makefile	Wed Mar 12 13:28:09 2014
@


1.2
log
@Update to 2.0.0 release.

OK jasper@@, sthen@@
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.1.1.1 2012/10/27 14:05:33 abieber Exp $
--- Makefile.orig	Thu Nov  8 03:10:00 2012
+++ Makefile	Fri Nov 16 07:44:59 2012
@@@@ -109,18 +109,13 @@@@ install: $(INSTALL_DEP)
d12 1
a12 1
+		$(INSTALL_X) $(FILE_SO) $(INSTALL_DYN) || :
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.orig	Tue Oct 16 12:30:00 2012
+++ Makefile	Fri Oct 26 17:11:37 2012
@@@@ -110,23 +110,13 @@@@ install: $(INSTALL_DEP)
d6 1
a6 1
 	$(RM) $(INSTALL_DYN) $(INSTALL_SHORT1) $(INSTALL_SHORT2)
d19 1
a20 6
-	@@echo ""
-	@@echo "Note: the beta releases deliberately do NOT install a symlink for luajit"
-	@@echo "You can do this now by running this command (with sudo):"
-	@@echo ""
-	@@echo "  $(SYMLINK) $(INSTALL_TNAME) $(INSTALL_TSYM)"
-	@@echo ""
@


1.1.1.1
log
@Initial import of luajit - a just-in-time compiler for Lua

OK sthen@@ landry@@
@
text
@@
