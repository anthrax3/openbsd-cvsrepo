head	1.11;
access;
symbols
	OPENBSD_4_8:1.10.0.12
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.10.0.10
	OPENBSD_4_7_BASE:1.10
	OPENBSD_4_6:1.10.0.8
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.10.0.6
	OPENBSD_4_5_BASE:1.10
	OPENBSD_4_4:1.10.0.4
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.10.0.2
	OPENBSD_4_3_BASE:1.10
	OPENBSD_4_2:1.9.0.2
	OPENBSD_4_2_BASE:1.9
	OPENBSD_4_1:1.7.0.2
	OPENBSD_4_1_BASE:1.7
	OPENBSD_4_0:1.5.0.2
	OPENBSD_4_0_BASE:1.5
	OPENBSD_3_9:1.2.0.20
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.2.0.18
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.16
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.2.0.14
	OPENBSD_3_6_BASE:1.2
	OPENBSD_3_5:1.2.0.12
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.10
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.8
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.6
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.4
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2;
locks; strict;
comment	@# @;


1.11
date	2010.09.13.17.31.03;	author sebastia;	state dead;
branches;
next	1.10;

1.10
date	2007.12.19.22.51.29;	author sthen;	state Exp;
branches;
next	1.9;

1.9
date	2007.07.04.05.38.58;	author steven;	state Exp;
branches;
next	1.8;

1.8
date	2007.03.29.17.18.57;	author steven;	state Exp;
branches;
next	1.7;

1.7
date	2007.02.03.11.48.39;	author steven;	state Exp;
branches;
next	1.6;

1.6
date	2006.11.21.08.59.44;	author steven;	state Exp;
branches;
next	1.5;

1.5
date	2006.08.02.17.21.19;	author steven;	state Exp;
branches;
next	1.4;

1.4
date	2006.04.02.16.52.04;	author steven;	state Exp;
branches;
next	1.3;

1.3
date	2006.03.07.19.30.36;	author sturm;	state Exp;
branches;
next	1.2;

1.2
date	2001.10.20.13.31.26;	author naddy;	state Exp;
branches;
next	1.1;

1.1
date	2001.10.14.17.24.13;	author espie;	state Exp;
branches;
next	;


desc
@@


1.11
log
@Maintainer update of erlang to R13B04, and apache-couchdb to 0.11.0

OK landry@@
@
text
@$OpenBSD: patch-Makefile_in,v 1.10 2007/12/19 22:51:29 sthen Exp $
--- Makefile.in.orig	Mon Nov 26 19:57:49 2007
+++ Makefile.in	Thu Dec  6 09:46:12 2007
@@@@ -49,8 +49,7 @@@@ exec_prefix = @@exec_prefix@@
 # useful e.g. when installing on a server that stores the files with a
 # different path from where the clients access them. Or when building
 # rpms.
-#INSTALL_PREFIX =
-# Naah...override `prefix' instead.
+INSTALL_PREFIX = $(DESTDIR)
 
 # The directory in which user executables (ERL_BASE_PUB_FILES) are put
 BINDIR      = $(INSTALL_PREFIX)@@bindir@@
@@@@ -707,7 +706,7 @@@@ else
 endif
 
 install.Install:
-	cd $(ERLANG_LIBDIR) && ./Install -minimal $(ERLANG_LIBDIR)
+	cd $(ERLANG_LIBDIR) && ./Install -minimal $(ERLANG_ILIBDIR)
 
 #
 # Install erlang base public files
@@@@ -715,7 +714,7 @@@@ install.Install:
 install.bin:
 	for file in $(ERL_BASE_PUB_FILES); do \
 		rm -f $(BINDIR)/$$file; \
-		${LN_S} $(ERLANG_BINDIR)/$$file $(BINDIR)/$$file; \
+		${LN_S} $(ERLANG_ILIBDIR)/bin/$$file $(BINDIR)/$$file; \
 	done
 
 #
@


1.10
log
@Update erlang to 12b.0; from maintainer Jon Olsson

ok jasper
@
text
@d1 1
a1 1
$OpenBSD: patch-Makefile_in,v 1.9 2007/07/04 05:38:58 steven Exp $
@


1.9
log
@update to R11B-5

from maintainer Jon Olsson
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.8 2007/03/29 17:18:57 steven Exp $
--- Makefile.in.orig	Mon Jun 11 14:55:05 2007
+++ Makefile.in	Mon Jul  2 15:38:36 2007
d14 1
a14 1
@@@@ -680,7 +679,7 @@@@ else
d23 1
a23 1
@@@@ -688,7 +687,7 @@@@ install.Install:
@


1.8
log
@update to erlang R11B-4

from maintainer Jon Olsson
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.7 2007/02/03 11:48:39 steven Exp $
--- Makefile.in.orig	Tue Mar 27 15:29:04 2007
+++ Makefile.in	Thu Mar 29 17:56:02 2007
d14 1
a14 1
@@@@ -644,7 +643,7 @@@@ else
d23 1
a23 1
@@@@ -652,7 +651,7 @@@@ install.Install:
@


1.7
log
@update to erlang-11b.3

from maintainer Jon Olsson
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.6 2006/11/21 08:59:44 steven Exp $
--- Makefile.in.orig	Mon Jan 29 13:54:13 2007
+++ Makefile.in	Wed Jan 31 17:25:33 2007
d14 1
a14 1
@@@@ -624,7 +623,7 @@@@ else
d23 1
a23 1
@@@@ -632,7 +631,7 @@@@ install.Install:
@


1.6
log
@update to erlang R11B-2

from maintainer Jon Olsson

looks good sturm@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.5 2006/08/02 17:21:19 steven Exp $
--- Makefile.in.orig	Tue Aug 29 11:48:08 2006
+++ Makefile.in	Wed Aug 30 19:56:28 2006
d14 1
a14 1
@@@@ -619,7 +618,7 @@@@ else
d23 1
a23 1
@@@@ -627,7 +626,7 @@@@ install.Install:
@


1.5
log
@update to erlang R11B-0

from maintainer Jon Olsson <jon at vexed.se>

ok sturm@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.4 2006/04/02 16:52:04 steven Exp $
--- Makefile.in.orig	Fri May 12 16:43:44 2006
+++ Makefile.in	Tue Aug  1 12:12:53 2006
d14 1
a14 1
@@@@ -539,7 +538,7 @@@@ else
d23 1
a23 1
@@@@ -547,7 +546,7 @@@@ install.Install:
@


1.4
log
@update to erlang R10B-10
joint work with new maintainer Jon Olsson (jon at abc dot se).

in PLIST, replace directories with version numbers by variables.
don't use -O3 flag.

feedback and ``I like it'' sturm@@
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.3 2006/03/07 19:30:36 sturm Exp $
--- Makefile.in.orig	Tue Mar  7 15:26:09 2006
+++ Makefile.in	Thu Mar 16 17:03:01 2006
d12 1
a12 1
 # The directory in which user executables (erl, erlc and erl_call) are put
d14 1
a14 1
@@@@ -520,7 +519,7 @@@@ else
d22 2
a23 2
 # Erlang base public files
@@@@ -528,12 +527,12 @@@@ install.Install:
d25 5
a29 14
 	rm -f $(BINDIR)/erl $(BINDIR)/erlc \
 	      $(BINDIR)/ecc $(BINDIR)/elink $(BINDIR)/ear $(BINDIR)/escript
-	${LN_S} $(ERLANG_BINDIR)/erl      $(BINDIR)/erl
-	${LN_S} $(ERLANG_BINDIR)/erlc     $(BINDIR)/erlc
-	${LN_S} $(ERLANG_BINDIR)/ecc      $(BINDIR)/ecc
-	${LN_S} $(ERLANG_BINDIR)/elink    $(BINDIR)/elink
-	${LN_S} $(ERLANG_BINDIR)/ear      $(BINDIR)/ear
-	${LN_S} $(ERLANG_BINDIR)/escript  $(BINDIR)/escript
+	${LN_S} $(ERLANG_ILIBDIR)/bin/erl      $(BINDIR)/erl
+	${LN_S} $(ERLANG_ILIBDIR)/bin/erlc     $(BINDIR)/erlc
+	${LN_S} $(ERLANG_ILIBDIR)/bin/ecc      $(BINDIR)/ecc
+	${LN_S} $(ERLANG_ILIBDIR)/bin/elink    $(BINDIR)/elink
+	${LN_S} $(ERLANG_ILIBDIR)/bin/ear      $(BINDIR)/ear
+	${LN_S} $(ERLANG_ILIBDIR)/bin/escript  $(BINDIR)/escript
a31 1
 # Directories needed before we can install
@


1.3
log
@update to otp_src_R10B-9

based on older submissions to ports@@
tested by Hannah Schroeter <hannah at schlund.de>
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile_in,v 1.2 2001/10/20 13:31:26 naddy Exp $
--- Makefile.in.orig	Mon Oct 24 11:43:23 2005
+++ Makefile.in	Tue Feb 14 08:09:24 2006
d14 1
a14 1
@@@@ -524,7 +523,7 @@@@ else
d23 1
a23 1
@@@@ -532,12 +531,12 @@@@ install.Install:
@


1.2
log
@fix fake step
@
text
@d1 15
a15 11
$OpenBSD: patch-Makefile_in,v 1.1 2001/10/14 17:24:13 espie Exp $
--- Makefile.in.orig	Sun Oct 14 18:13:32 2001
+++ Makefile.in	Sun Oct 14 18:15:06 2001
@@@@ -70,8 +70,8 @@@@ new_libraries:
 # Order is important here, don't change it!
 #
 install: install.dirs install.ertsbin install.bin install.lib
-	${INSTALL_PROGRAM} erts/bin/$(TARGET)/erlc ${BINDIR}/erlc
-	${INSTALL_PROGRAM} ${ERLANG_BINDIR}/erl    ${BINDIR}/erl
+	${INSTALL_PROGRAM} erts/bin/$(TARGET)/erlc $(DESTDIR)${BINDIR}/erlc
+	${INSTALL_PROGRAM} ${DESTDIR}${ERLANG_BINDIR}/erl    $(DESTDIR)${BINDIR}/erl
d17 3
a19 15
 install.lib:
 	( cc_root=`pwd`; PATH=$${cc_root}/erts/bin:$${PATH}; export PATH; \
@@@@ -79,47 +79,47 @@@@ install.lib:
 	  for d in *-* ; do \
 	    ( cd $$d ; \
 	      ${MAKE} CC_ROOT=$${cc_root}/ TESTROOT=${ERLANG_LIBDIR} release);\
-            (cd $$d/doc/man;tar -cf - .)|(cd ${ERLANG_LIBDIR}/man;tar -xf -);\
+            (cd $$d/doc/man;tar -cf - .)|(cd $(DESTDIR)${ERLANG_LIBDIR}/man;tar -xf -);\
 	  done )
-	(cd erts/doc/man;tar -cf - .)|(cd ${ERLANG_LIBDIR}/man;tar -xf -)
+	(cd erts/doc/man;tar -cf - .)|(cd $(DESTDIR)${ERLANG_LIBDIR}/man;tar -xf -)
 	for f in erts/system/erl_interface/src/*.h ; do \
-	  ${INSTALL_DATA} $$f ${ERLANG_LIBDIR}/usr/include ; \
+	  ${INSTALL_DATA} $$f $(DESTDIR)${ERLANG_LIBDIR}/usr/include ; \
 	done
d21 3
d25 14
a38 14
-	${INSTALL_PROGRAM} ${ERLANG_ERTSBINDIR}/erl ${ERLANG_BINDIR}/erl
-	ln -s ../${ERTS}/bin/epmd     ${ERLANG_BINDIR}/epmd || true
-	ln -s ../${ERTS}/bin/erl_call ${ERLANG_BINDIR}/erl_call || true
+	${INSTALL_PROGRAM} ${DESTDIR}${ERLANG_ERTSBINDIR}/erl $(DESTDIR)${ERLANG_BINDIR}/erl
+	ln -s ../${ERTS}/bin/epmd     $(DESTDIR)${ERLANG_BINDIR}/epmd || true
+	ln -s ../${ERTS}/bin/erl_call $(DESTDIR)${ERLANG_BINDIR}/erl_call || true
 	for s in script boot ; do \
-	 ${INSTALL_DATA} erts/bin/start_clean.$$s ${ERLANG_BINDIR}/start.$$s ;\
+	 ${INSTALL_DATA} erts/bin/start_clean.$$s $(DESTDIR)${ERLANG_BINDIR}/start.$$s ;\
 	done
 	for s in erts/bin/start_sasl* ; do \
-	  ${INSTALL_DATA} $$s ${ERLANG_BINDIR} ; \
+	  ${INSTALL_DATA} $$s $(DESTDIR)${ERLANG_BINDIR} ; \
 	done
d40 2
a41 38
 install.ertsbin:
 	for f in erts/bin/${TARGET}/* ; do \
-	  ${INSTALL_PROGRAM} $$f ${ERLANG_ERTSBINDIR} ; \
+	  ${INSTALL_PROGRAM} $$f $(DESTDIR)${ERLANG_ERTSBINDIR} ; \
 	done
 	( cd erts/obj/${TARGET} ; \
 	  for l in *.a ; do \
-	    ${INSTALL_DATA} $$l ${ERLANG_LIBDIR}/usr/lib ; \
-	    ${RANLIB} ${ERLANG_LIBDIR}/usr/lib/$$l || true ; \
+	    ${INSTALL_DATA} $$l $(DESTDIR)${ERLANG_LIBDIR}/usr/lib ; \
+	    ${RANLIB} $(DESTDIR)${ERLANG_LIBDIR}/usr/lib/$$l || true ; \
 	  done )
 	sed -e 's|%FINAL_ROOTDIR%|$(ERLANG_LIBDIR)|' \
-	  erts/system/etc.unix/erl.dist > ${ERLANG_ERTSBINDIR}/erl
-	chmod 755 ${ERLANG_ERTSBINDIR}/erl
+	  erts/system/etc.unix/erl.dist > $(DESTDIR)${ERLANG_ERTSBINDIR}/erl
+	chmod 755 $(DESTDIR)${ERLANG_ERTSBINDIR}/erl
 
 install.dirs:
-	${MKSUBDIRS} ${ERLANG_LIBDIR}/lib
-	${MKSUBDIRS} ${ERLANG_LIBDIR}/bin
-	${MKSUBDIRS} ${ERLANG_LIBDIR}/usr/include
-	${MKSUBDIRS} ${ERLANG_LIBDIR}/usr/lib
+	${MKSUBDIRS} $(DESTDIR)${ERLANG_LIBDIR}/lib
+	${MKSUBDIRS} $(DESTDIR)${ERLANG_LIBDIR}/bin
+	${MKSUBDIRS} $(DESTDIR)${ERLANG_LIBDIR}/usr/include
+	${MKSUBDIRS} $(DESTDIR)${ERLANG_LIBDIR}/usr/lib
 	for m in man man/man1 man/man3 man/man4 man/man6 ; do \
-	  ${MKSUBDIRS} ${ERLANG_LIBDIR}/$$m ; \
+	  ${MKSUBDIRS} $(DESTDIR)${ERLANG_LIBDIR}/$$m ; \
 	done
-	${MKSUBDIRS} ${ERLANG_BINDIR}
-	${MKSUBDIRS} ${ERLANG_ERTSBINDIR}
+	${MKSUBDIRS} $(DESTDIR)${ERLANG_BINDIR}
+	${MKSUBDIRS} $(DESTDIR)${ERLANG_ERTSBINDIR}
 
 clean:
 	rm -f *~ *.bak config.log config.status
@


1.1
log
@Don't patch config.guess when we are going to overwrite it anyways...

Rename other patches.

Brute force FAKE. Easier than I would have thought.
@
text
@d1 1
a1 1
$OpenBSD$
d11 1
a11 1
+	${INSTALL_PROGRAM} ${ERLANG_BINDIR}/erl    $(DESTDIR)${BINDIR}/erl
d33 1
a33 1
+	${INSTALL_PROGRAM} ${ERLANG_ERTSBINDIR}/erl $(DESTDIR)${ERLANG_BINDIR}/erl
@

