head	1.4;
access;
symbols
	OPENBSD_6_0:1.4.0.12
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.8
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.10
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.6
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.2
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.2.0.2
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.1.1.1.0.2
	OPENBSD_5_2_BASE:1.1.1.1
	sthen_20121704:1.1.1.1
	sthen:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2013.11.28.22.41.09;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.19.22.32.28;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2013.01.30.23.37.32;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2012.04.17.13.12.28;	author sthen;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2012.04.17.13.12.28;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.4
log
@update to Railo 4.1.1.009

Note that railo-server-root was renamed railo-server-directory, this will
be handled automatically unless you have made your own modifications to
/var/tomcat/conf/web-railo.xml, in which case you should update it yourself.
@
text
@$OpenBSD: patch-WEB-INF_web_xml,v 1.3 2013/03/19 22:32:28 sthen Exp $

- Strip anything outside of <web-app> tag so this file can be used
directly as an include in the main tomcat web.xml <web-app> section.

- Specifically set server-root/web-configuration directories rather
than defaulting to lib/. These must be writable by _tomcat.

- Also note the servlet names are renamed via a regex in the port's
Makefile. This is because this package installs servlets globally for
use on multiple hosts, and avoids conflicting servlet names with any
alternative versions of Railo that are installed via .WAR files in
a single host.
http://jamiekrug.com/blog/index.cfm/2009/4/1/railo-jars-on-jboss-or-tomcat-tips-and-tricks


--- WEB-INF/web.xml.orig	Thu Nov 28 21:44:04 2013
+++ WEB-INF/web.xml	Thu Nov 28 22:31:27 2013
@@@@ -1,9 +1,3 @@@@
-<?xml version="1.0" encoding="ISO-8859-1"?>
-<web-app xmlns="http://java.sun.com/xml/ns/javaee"
-	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
-	metadata-complete="true"
-	version="2.5">
 
 
 
@@@@ -24,26 +18,22 @@@@
     <!-- uncomment the init-param below.  make sure that the param-value     -->
     <!-- points to a valid folder, and that the process that runs Railo has  -->
     <!-- write permissions to that folder.  leave commented for defaults.    -->
-    <!--
     <init-param>
       <param-name>railo-server-directory</param-name>
-      <param-value>/var/Railo/config/server/</param-value>
+      <param-value>/var/tomcat/railo/server-config/</param-value>
       <description>Railo Server configuration directory (for Server-wide configurations, settings, and libraries)</description>
     </init-param>
-    !-->
     <!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
     <!-- to specify the location of the Web Contexts' config and libraries,  -->
     <!-- uncomment the init-param below.  make sure that the param-value     -->
     <!-- points to a valid folder, and that the process that runs Railo has  -->
     <!-- write permissions to that folder.  the {web-context-label} can be   -->
     <!-- set in Railo Server Admin homepage.  leave commented for defaults.  -->
-    <!--
     <init-param>
       <param-name>railo-web-directory</param-name>
-      <param-value>/var/Railo/config/web/{web-context-label}/</param-value>
+      <param-value>/var/tomcat/railo/web-config/{web-context-label}/</param-value>
       <description>Railo Web Directory (for Website-specific configurations, settings, and libraries)</description>
     </init-param>
-    !-->
     <load-on-startup>1</load-on-startup>
   </servlet>
 
@@@@ -120,13 +110,3 @@@@
 
 
 
-	<!-- default file to execute if directory is called with no file name, e.g. http://mysite.com/ !-->
-	<welcome-file-list>
-		<welcome-file>index.cfm</welcome-file>
-		<welcome-file>index.cfml</welcome-file>
-		<welcome-file>index.html</welcome-file>
-		<welcome-file>index.htm</welcome-file>
-		<welcome-file>index.jsp</welcome-file>
-	</welcome-file-list>
-
-</web-app>
\ No newline at end of file
@


1.3
log
@update to Railo 4.1.0.004
@
text
@d1 1
a1 1
$OpenBSD: patch-WEB-INF_web_xml,v 1.2 2013/01/30 23:37:32 sthen Exp $
d17 2
a18 2
--- WEB-INF/web.xml.orig	Tue Mar 19 18:06:10 2013
+++ WEB-INF/web.xml	Tue Mar 19 18:06:10 2013
d35 1
a35 1
       <param-name>railo-server-root</param-name>
@


1.2
log
@major update to Railo 4.0.2.002
- more info at http://www.getrailo.org/index.cfm/whats-up/railo-40-released/
@
text
@d1 1
a1 1
$OpenBSD: patch-WEB-INF_web_xml,v 1.1.1.1 2012/04/17 13:12:28 sthen Exp $
d17 3
a19 3
--- WEB-INF/web.xml.orig	Wed Jan 30 12:20:25 2013
+++ WEB-INF/web.xml	Wed Jan 30 12:20:29 2013
@@@@ -1,8 +1,2 @@@@
d26 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d17 3
a19 3
--- WEB-INF/web.xml.orig	Mon Apr  9 14:27:42 2012
+++ WEB-INF/web.xml	Mon Apr  9 14:27:42 2012
@@@@ -1,8 +1,3 @@@@
d21 48
a68 37
-<!DOCTYPE web-app
-     PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
-    "http://java.sun.com/dtd/web-app_2_3.dtd">
-<web-app>
 	<display-name>Railo</display-name>
 	<servlet>
 		<servlet-name>PKG_CFMLServlet</servlet-name>
@@@@ -10,14 +5,14 @@@@
 		<servlet-class>railo.loader.servlet.CFMLServlet</servlet-class>
 		<init-param>
 	      <param-name>configuration</param-name>
-	      <param-value>/WEB-INF/railo/</param-value>
+	      <param-value>/var/tomcat/railo/web-config/{web-context-hash}/</param-value>
 	      <description>Configuraton directory</description>
 	    </init-param>
-		<!-- init-param>
+		<init-param>
 	      <param-name>railo-server-root</param-name>
-	      <param-value>.</param-value>
+	      <param-value>/var/tomcat/railo/server-config/</param-value>
 	      <description>directory where railo root directory is stored</description>
-	    </init-param -->
+	    </init-param>
 		<load-on-startup>1</load-on-startup>
 	</servlet>
 	<servlet>
@@@@ -96,12 +91,3 @@@@
 		<url-pattern>/</url-pattern>
 	</servlet-mapping>
 	-->
-<welcome-file-list>
-	<welcome-file>index.cfm</welcome-file>
-	<welcome-file>index.cfml</welcome-file>
-    <welcome-file>index.html</welcome-file>
-    <welcome-file>index.htm</welcome-file>
-    <welcome-file>index.jsp</welcome-file>
-</welcome-file-list>
d71 1
@


1.1.1.1
log
@import ports/lang/railo, ok gsoares@@

Railo is a high-performance open-source CFML engine. It has good
compatibility with other CFML engines. Most sites can be ported to
Railo with very little effort and all of the major CFML frameworks
support Railo out of the box.

Railo will very probably run your sites faster than any other CFML
engine, allowing you to handle more load and to provide a better
experience for end users.
@
text
@@
