head	1.11;
access;
symbols
	OPENBSD_6_2:1.11.0.2
	OPENBSD_6_2_BASE:1.11
	OPENBSD_6_1:1.9.0.2
	OPENBSD_6_1_BASE:1.9
	OPENBSD_6_0:1.8.0.4
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.8.0.2
	OPENBSD_5_9_BASE:1.8
	OPENBSD_5_8:1.6.0.6
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.2
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.4.0.2
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.2.0.4
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2
	jasper_20131305:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.11
date	2017.08.31.06.32.13;	author jasper;	state Exp;
branches;
next	1.10;
commitid	YQox78pSJfkwYQpW;

1.10
date	2017.04.21.13.27.46;	author kurt;	state Exp;
branches;
next	1.9;
commitid	lfz5IYSiUvvvq1Ub;

1.9
date	2016.11.01.10.25.53;	author jasper;	state Exp;
branches;
next	1.8;
commitid	ILQyGEkrM6mr1yip;

1.8
date	2015.12.02.07.09.44;	author benoit;	state Exp;
branches;
next	1.7;
commitid	UOzGLJpSOLx0vf62;

1.7
date	2015.08.11.20.12.01;	author jasper;	state Exp;
branches;
next	1.6;
commitid	6xL6AZvbxFp7wsG4;

1.6
date	2015.01.04.21.12.52;	author jasper;	state Exp;
branches;
next	1.5;
commitid	f4MEtWNYvYG9vGfd;

1.5
date	2014.08.10.09.58.05;	author espie;	state Exp;
branches;
next	1.4;
commitid	jyyOLTDxRdjpw44n;

1.4
date	2014.05.07.15.42.16;	author kurt;	state Exp;
branches;
next	1.3;

1.3
date	2014.03.09.19.52.27;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2013.07.02.10.36.35;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2013.05.13.09.25.54;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2013.05.13.09.25.54;	author jasper;	state Exp;
branches;
next	;


desc
@@


1.11
log
@update to abcl-1.5.0

from Timo Myyra (MAINTAINER)
@
text
@# $OpenBSD: Makefile,v 1.10 2017/04/21 13:27:46 kurt Exp $

COMMENT =		Common Lisp dialect for the Java Virtual Machine

V =			1.5.0
DISTNAME =		abcl-src-${V}
PKGNAME =		abcl-${V}
PKG_ARCH =		*

CATEGORIES =		lang

HOMEPAGE =		http://common-lisp.net/project/armedbear/

MAINTAINER =		Timo Myyra <timo.myyra@@wickedbsd.net>

# GPLv2
PERMIT_PACKAGE_CDROM =	Yes

MASTER_SITES =		${HOMEPAGE}/releases/$V/

MODULES =		java
MODJAVA_VER =		1.6+
MODJAVA_BUILD = 	ant
MODJAVA_BUILD_TARGET_NAME =	abcl.jar
MODJAVA_JRERUN = 	Yes

RUN_DEPENDS =		java/javaPathHelper \
			misc/rlwrap

TEST_TARGET =		abcl.test

ABCL_HOME =		${PREFIX}/abcl

do-install:
	${INSTALL_DATA_DIR} ${ABCL_HOME}
	${INSTALL_DATA} ${WRKSRC}/dist/abcl.jar ${ABCL_HOME}
	${INSTALL_DATA} ${WRKSRC}/dist/abcl-contrib.jar ${ABCL_HOME}
	${SUBST_PROGRAM} ${FILESDIR}/abcl ${PREFIX}/bin/abcl
	cd ${WRKDIST} && tar -cf - src | tar -C ${ABCL_HOME} -xf -
	chown -R ${SHAREOWN}:${SHAREGRP} ${ABCL_HOME}/src
	${INSTALL_DATA} ${FILESDIR}/abcl_completions ${ABCL_HOME}

do-test:
	cd ${WRKSRC} && ${SETENV} ${MAKE_ENV} ${LOCALBASE}/bin/ant ${TEST_TARGET}

# maintainer target to generate completions file
completions: install
	${LOCALBASE}/bin/abcl --noinit --load ${FILESDIR}/gen-completions.lisp

.include <bsd.port.mk>
@


1.10
log
@- disconnect devel/jdk/1.7 from the build
- adjust java.port.mk so all 1.7 and lower ports now build with 1.8
- bump revision on affected ports
okay sthen@@, ian@@, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2016/11/01 10:25:53 jasper Exp $
d5 1
a5 1
V =			1.4.0
a8 1
REVISION =		0
@


1.9
log
@update to abcl-1.4.0

from Timo Myyra (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2015/12/02 07:09:44 benoit Exp $
d9 1
@


1.8
log
@Update to abcl-1.3.3.

from Timo Myyra (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2015/08/11 20:12:01 jasper Exp $
d5 1
a5 1
V =			1.3.3
@


1.7
log
@- update to abcl-1.3.2
- add --noinit to the completions target to prevent quicklisp from showing up

with Timo Myyra (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2015/01/04 21:12:52 jasper Exp $
d5 1
a5 1
V =			1.3.2
@


1.6
log
@- update to abcl-1.3.1
- enable regress tests
- add 'completions' target to generate the completions file

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2014/08/10 09:58:05 espie Exp $
d5 1
a5 1
V =			1.3.1
d48 1
a48 1
	${LOCALBASE}/bin/abcl --load ${FILESDIR}/gen-completions.lisp
@


1.5
log
@use more specific version of SUBST_* where appropriate
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2014/05/07 15:42:16 kurt Exp $
d5 1
a5 1
V =			1.1.1
a7 1
REVISION =		1
a30 1
NO_TEST =		Yes
d45 4
@


1.4
log
@- Unlink jdk/1.6 and make jdk/1.7 the default jdk for all java ports
- Adjust java.port.mk and cmake to use 1.7
- Adjust jdk/1.7 for pkg_add upgrades
okay sthen@@, jasper@@, ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2014/03/09 19:52:27 jasper Exp $
d40 1
a40 2
	${SUBST_CMD} -o ${BINOWN} -g ${BINGRP} -c -m 0755 \
		${FILESDIR}/abcl ${PREFIX}/bin/abcl
@


1.3
log
@Timo Myyra takes maintainership
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2013/07/02 10:36:35 espie Exp $
d8 1
a8 1
REVISION =		0
@


1.2
log
@rename stuff so that java.port.mk conforms to the new style of overriding
do-build.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2013/05/13 09:25:54 jasper Exp $
d8 1
d14 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d22 1
a22 1
MODJAVA_BUILD_TARGET =	abcl.jar
@


1.1.1.1
log
@import abcl-1.1.1

Armed Bear Common Lisp (ABCL) is a full implementation of the Common
Lisp language featuring both an interpreter and a compiler, running in
the JVM. Originally started to be a scripting language for the J editor,
it now supports JSR-223 (Java scripting API): it can be a scripting
engine in any Java application. Additionally, it can be used to
implement (parts of) the application using Java to Lisp integration
APIs.

from timo.myyra@@wickedbsd.net
ok aja@@
@
text
@@
