head	1.41;
access;
symbols
	OPENBSD_6_1:1.37.0.4
	OPENBSD_6_1_BASE:1.37
	OPENBSD_6_0:1.37.0.2
	OPENBSD_6_0_BASE:1.37
	OPENBSD_5_9:1.36.0.2
	OPENBSD_5_9_BASE:1.36
	OPENBSD_5_8:1.32.0.4
	OPENBSD_5_8_BASE:1.32
	OPENBSD_5_7:1.30.0.6
	OPENBSD_5_7_BASE:1.30
	OPENBSD_5_6:1.30.0.4
	OPENBSD_5_6_BASE:1.30
	OPENBSD_5_5:1.30.0.2
	OPENBSD_5_5_BASE:1.30
	OPENBSD_5_4:1.26.0.2
	OPENBSD_5_4_BASE:1.26
	OPENBSD_5_3:1.24.0.2
	OPENBSD_5_3_BASE:1.24
	OPENBSD_5_2:1.23.0.2
	OPENBSD_5_2_BASE:1.23
	OPENBSD_5_1_BASE:1.17
	OPENBSD_5_1:1.17.0.2
	OPENBSD_5_0:1.14.0.2
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.9.0.6
	OPENBSD_4_8_BASE:1.9
	OPENBSD_4_7:1.9.0.4
	OPENBSD_4_7_BASE:1.9
	OPENBSD_4_6:1.9.0.2
	OPENBSD_4_6_BASE:1.9
	OPENBSD_4_5:1.7.0.2
	OPENBSD_4_5_BASE:1.7
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	simon_20071010:1.1.1.1
	simon:1.1.1;
locks; strict;
comment	@# @;


1.41
date	2017.08.24.09.45.23;	author sthen;	state Exp;
branches;
next	1.40;
commitid	PnxiRKB45Z5BPng8;

1.40
date	2017.07.26.22.45.25;	author sthen;	state Exp;
branches;
next	1.39;
commitid	tD4MFrpYYDDL2UFT;

1.39
date	2017.07.16.19.18.59;	author espie;	state Exp;
branches;
next	1.38;
commitid	tt0GhWK5c4uf9ILG;

1.38
date	2017.04.10.11.46.22;	author sthen;	state Exp;
branches;
next	1.37;
commitid	BLsh88fJB8thZTwY;

1.37
date	2016.03.18.21.38.24;	author naddy;	state Exp;
branches;
next	1.36;
commitid	BVkebQSTXSZokeRG;

1.36
date	2015.12.27.17.08.05;	author pascal;	state Exp;
branches;
next	1.35;
commitid	dKJpnbTAX7hIeeML;

1.35
date	2015.12.10.17.49.56;	author pascal;	state Exp;
branches;
next	1.34;
commitid	x0dkDVA8GTsSzy21;

1.34
date	2015.11.04.18.54.32;	author pascal;	state Exp;
branches;
next	1.33;
commitid	5ABy2HYknRcm4NuT;

1.33
date	2015.10.13.06.31.38;	author bentley;	state Exp;
branches;
next	1.32;
commitid	2k4ugD20euzBwBKr;

1.32
date	2015.07.23.10.16.21;	author pascal;	state Exp;
branches;
next	1.31;
commitid	cN67ivPuayRKRxI3;

1.31
date	2015.04.09.18.27.19;	author pascal;	state Exp;
branches;
next	1.30;
commitid	rhQzQaDb0TDC8Eo1;

1.30
date	2014.01.26.11.38.46;	author pascal;	state Exp;
branches;
next	1.29;

1.29
date	2014.01.24.19.56.55;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2014.01.24.19.56.31;	author espie;	state Exp;
branches;
next	1.27;

1.27
date	2014.01.23.22.17.26;	author pascal;	state Exp;
branches;
next	1.26;

1.26
date	2013.06.02.14.02.34;	author pascal;	state Exp;
branches;
next	1.25;

1.25
date	2013.03.11.11.20.28;	author espie;	state Exp;
branches;
next	1.24;

1.24
date	2012.11.05.17.57.50;	author pascal;	state Exp;
branches;
next	1.23;

1.23
date	2012.07.13.09.46.05;	author pascal;	state Exp;
branches;
next	1.22;

1.22
date	2012.06.04.15.59.36;	author pascal;	state Exp;
branches;
next	1.21;

1.21
date	2012.05.09.13.36.45;	author pascal;	state Exp;
branches;
next	1.20;

1.20
date	2012.05.07.09.17.41;	author pascal;	state Exp;
branches;
next	1.19;

1.19
date	2012.05.06.07.35.32;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2012.03.08.14.56.25;	author pascal;	state Exp;
branches;
next	1.17;

1.17
date	2011.10.19.13.30.59;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.08.20.16.48.37;	author landry;	state Exp;
branches;
next	1.15;

1.15
date	2011.08.20.16.47.05;	author landry;	state Exp;
branches;
next	1.14;

1.14
date	2011.05.22.20.22.08;	author landry;	state Exp;
branches;
next	1.13;

1.13
date	2011.03.08.20.12.15;	author landry;	state Exp;
branches;
next	1.12;

1.12
date	2010.11.17.08.05.18;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.24.21.11.46;	author sthen;	state Exp;
branches;
next	1.10;

1.10
date	2010.10.03.22.13.18;	author kili;	state Exp;
branches;
next	1.9;

1.9
date	2009.06.18.23.00.43;	author simon;	state Exp;
branches;
next	1.8;

1.8
date	2009.06.17.09.34.35;	author simon;	state Exp;
branches;
next	1.7;

1.7
date	2009.02.04.10.15.14;	author simon;	state Exp;
branches;
next	1.6;

1.6
date	2008.11.11.22.46.30;	author simon;	state Exp;
branches;
next	1.5;

1.5
date	2008.10.03.23.33.18;	author simon;	state Exp;
branches;
next	1.4;

1.4
date	2008.07.20.21.05.40;	author simon;	state Exp;
branches;
next	1.3;

1.3
date	2007.12.17.14.24.27;	author pyr;	state Exp;
branches;
next	1.2;

1.2
date	2007.10.18.18.51.10;	author simon;	state Exp;
branches;
next	1.1;

1.1
date	2007.10.10.17.32.06;	author simon;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.10.10.17.32.06;	author simon;	state Exp;
branches;
next	;


desc
@@


1.41
log
@bump; textproc/icu4c now uses multi-packages for -wwwdata
@
text
@# $OpenBSD: Makefile,v 1.40 2017/07/26 22:45:25 sthen Exp $

COMMENT=	virtual machine designed for interpreted languages

V=		7.10.0
DISTNAME=	parrot-$V
REVISION=	2
CATEGORIES=	lang perl6
SHARED_LIBS=	parrot	11.0

HOMEPAGE=	http://www.parrot.org/

MASTER_SITES=	http://ftp.parrot.org/releases/all/$V/ \
		ftp://ftp.parrot.org/pub/parrot/releases/all/$V/

# Artistic2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += GL GLU c glut gmp icudata icuuc m ncurses pthread
WANTLIB += readline ${COMPILER_LIBCXX} util z ffi

MODULES =		devel/gettext
BUILD_DEPENDS=		graphics/glew \
			devel/pcre
LIB_DEPENDS=		textproc/icu4c \
			devel/gmp \
			graphics/freeglut \
			devel/libffi
TEST_DEPENDS=		devel/p5-TAP-Harness-Multiple \
			devel/p5-Test-Perl-Critic

CONFIGURE_SCRIPT=	/usr/bin/perl Configure.pl
CONFIGURE_STYLE=	simple
CONFIGURE_ARGS+= \
	--prefix="${PREFIX}" \
	--cc="${CC}" \
	--ccflags="-I${LOCALBASE}/include -I${X11BASE}/include -pthread" \
	--optimize="${CFLAGS}" \
	--link="${CXX}" \
	--linkflags="-L${LOCALBASE}/lib -L${X11BASE}/lib -pthread" \
	--ld="${CXX}" \
	--ldflags="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
	--make="${MAKE_PROGRAM}" \
	--parrot_is_shared \
	--icu-config="${LOCALBASE}/bin/icu-config"

CONFIGURE_ENV =		LIBparrot_VERSION=${LIBparrot_VERSION}

MAKE_ENV=		LIBparrot_VERSION=${LIBparrot_VERSION}

ALL_TARGET =		all docs
INSTALL_TARGET =	install install-doc
TEST_TARGET=		fulltest

SUBST_VARS +=		V

pre-configure:
	${SUBST_CMD} ${WRKSRC}/config/init/hints/openbsd.pm

post-install:
	${INSTALL_DATA} ${WRKSRC}/blib/lib/libparrot.so.${LIBparrot_VERSION} \
		${PREFIX}/lib

.include <bsd.port.mk>
@


1.40
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2017/07/16 19:18:59 espie Exp $
d7 1
a7 1
REVISION=	1
@


1.39
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2017/04/10 11:46:22 sthen Exp $
d7 1
a7 1
REVISION=	0
@


1.38
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2016/03/18 21:38:24 naddy Exp $
d20 1
a20 1
WANTLIB += readline ${LIBCXX} util z ffi
@


1.37
log
@remove SHARED_ONLY from simple ports that use the gettext or libiconv module
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2015/12/27 17:08:05 pascal Exp $
d20 1
a20 1
WANTLIB += readline stdc++ util z ffi
@


1.36
log
@drop maintainer
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.35 2015/12/10 17:49:56 pascal Exp $

SHARED_ONLY =	Yes
@


1.35
log
@Update to parrot 7.10.0, from Carl Bingham.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2015/11/04 18:54:32 pascal Exp $
d9 1
a13 2

MAINTAINER =	Pascal Stumpf <Pascal.Stumpf@@cubes.de>
@


1.34
log
@Update to 7.9.0.

From Carlin Bingham, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/10/13 06:31:38 bentley Exp $
d7 1
a7 1
V=		7.9.0
d10 1
a10 1
SHARED_LIBS=	parrot	10.0
@


1.33
log
@Add http mirror.

ok pascal@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/07/23 10:16:21 pascal Exp $
d7 1
a7 1
V=		7.2.0
d10 1
a10 1
SHARED_LIBS=	parrot	9.0
a65 1
	chmod a+r ${PREFIX}/share/doc/parrot/$V/pod/packfile-c.pod
@


1.32
log
@Force use of /usr/bin/make; otherwise this may pick up gmake, as noticed by
ajacoutot@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2015/04/09 18:27:19 pascal Exp $
d16 2
a17 1
MASTER_SITES=	ftp://ftp.parrot.org/pub/parrot/releases/all/$V/
@


1.31
log
@Update to parrot 7.2.0.  Also builds fine for jasper@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2014/01/26 11:38:46 pascal Exp $
d45 1
@


1.30
log
@ffi_call()'s third argument needs to point to a storage of sizeof(ffi_args).
Otherwise this test will generate a stack overflow, silently disabling libffi
support.

Found with -fstack-protector-strong, fixed by martynas@@, thanks!  Bumping
REVISION because there are already packages with strong stack protection
enabled out there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2014/01/24 19:56:55 espie Exp $
d7 1
a7 2
V=		5.4.0
REVISION=	2
d10 1
a10 1
SHARED_LIBS=	parrot	8.0
d24 1
d31 1
a31 1
TEST_DEPENDS=	devel/p5-TAP-Harness-Multiple \
@


1.29
log
@bump bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2014/01/24 19:56:31 espie Exp $
d8 1
a8 1
REVISION=	1
@


1.28
log
@fix bogus mode on documentation
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2014/01/23 22:17:26 pascal Exp $
d8 1
a8 1
REVISION=	0
a11 1
REVISION =	0
@


1.27
log
@Make sure packfile-c.pod has the right mode by using shell redirection instead
of perldoc -d.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2013/06/02 14:02:34 pascal Exp $
d12 1
d65 1
@


1.26
log
@Update to 5.4.0; ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2013/03/11 11:20:28 espie Exp $
d8 1
@


1.25
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2012/11/05 17:57:50 pascal Exp $
d7 1
a7 1
V=		4.9.0
d10 1
a10 1
SHARED_LIBS=	parrot	7.0
d16 1
a16 1
MASTER_SITES=	ftp://ftp.parrot.org/pub/parrot/releases/supported/$V/
d51 1
@


1.24
log
@Update to parrot 4.9.0, nqp/rakudo 2012.10.  Tested on amd64/powerpc.  Still
broken on sparc64 (though differently), tested by landry@@.

ok landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2012/07/13 09:46:05 pascal Exp $
a19 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d30 1
a30 1
REGRESS_DEPENDS=	devel/p5-TAP-Harness-Multiple \
d52 1
a52 1
REGRESS_TARGET=		fulltest
@


1.23
log
@Update to parrot 4.5.0, fix detection of libffi and IPv6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2012/06/04 15:59:36 pascal Exp $
d7 1
a7 1
V=		4.5.0
d10 1
a10 1
SHARED_LIBS=	parrot	6.0
d16 1
a16 1
MASTER_SITES=	ftp://ftp.parrot.org/pub/parrot/releases/devel/$V/
@


1.22
log
@OpenGL bindings also need pcre present.  Noticed by landry@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2012/05/09 13:36:45 pascal Exp $
d7 1
a7 2
V=		4.3.0
REVISION=	0
d10 1
a10 1
SHARED_LIBS=	parrot	5.0
d16 1
a16 1
MASTER_SITES=	ftp://ftp.parrot.org/pub/parrot/releases/supported/$V/
d25 1
a25 1
WANTLIB += readline stdc++ util z
d31 2
a32 1
			graphics/freeglut
d41 1
a41 1
	--ccflags="-I${LOCALBASE}/include -I${X11BASE}/include" \
d44 1
a44 1
	--linkflags="-L${LOCALBASE}/lib -L${X11BASE}/lib" \
@


1.21
log
@Update to parrot 4.3.0.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2012/05/06 07:35:32 ajacoutot Exp $
d8 1
d28 2
a29 1
BUILD_DEPENDS=		graphics/glew
@


1.20
log
@The old (ms2) garbage collector is apparently broken now; using the new one
like everywhere else gives us at least a working parrot on powerpc.

ok ajacoutot@@
@
text
@d7 1
a7 1
V=		4.1.0
d10 1
a10 1
SHARED_LIBS=	parrot	4.0
d16 1
a16 1
MASTER_SITES=	ftp://ftp.parrot.org/pub/parrot/releases/devel/$V/
@


1.19
log
@This has been BROKEN on powerpc for a while, so mark it as such.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.18 2012/03/08 14:56:25 pascal Exp $

BROKEN-powerpc=	segfault while building
a46 6

# XXX The default (gms) garbage collector has issues on powerpc. Until
# XXX it's fixed, use the old one (ms2).
.if ${MACHINE_ARCH:Mpowerpc}
CONFIGURE_ARGS+=	--gc=ms2
.endif
@


1.18
log
@Update to parrot 4.1.0, take maintainer.

ok landry@@
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.17 2011/10/19 13:30:59 ajacoutot Exp $
@


1.17
log
@The default (gms) garbage collector has issues on powerpc. Until it's
fixed, use the old one (ms2).

from Pascal Stumpf
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.16 2011/08/20 16:48:37 landry Exp $
d7 1
a7 1
V=		3.6.0
a8 1
REVISION=	0
d10 1
a10 1
SHARED_LIBS=	parrot	3.0
d14 3
a16 1
MASTER_SITES=	ftp://ftp.parrot.org/pub/parrot/releases/stable/$V/
d24 2
a25 2
WANTLIB += c m ncurses pthread readline stdc++ util z
WANTLIB += icudata icuuc icui18n
d27 6
a32 2
LIB_DEPENDS=		textproc/icu4c
REGRESS_DEPENDS=	devel/p5-Test-Pod
d36 11
a46 8
CONFIGURE_ARGS+=	--prefix=${PREFIX}
CONFIGURE_ARGS+=	--parrot_is_shared 
CONFIGURE_ARGS+=	--icuheaders=${LOCALBASE}/include
CONFIGURE_ARGS+=	--icushared="`${LOCALBASE}/bin/icu-config --ldflags`"
# There's a nasty bug in sleep() when compiled with threads, which uses
# pthread_cond_timedwait(3). Without threads, it maps to an ordinary sleep(3)
# call. Exposed by rakudo tests.
CONFIGURE_ARGS +=	--without-threads
d49 1
a49 1
# it's fixed, use the old one (ms2).
a57 1
ALL_TARGET=		installable
d59 1
a59 1
REGRESS_TARGET=		test
d65 1
@


1.16
log
@Remove BROKEN-sparc64, parrot now passes all regress tests on sparc64.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/08/20 16:47:05 landry Exp $
d7 1
d37 7
@


1.15
log
@Update to parrot 3.6.0, from maintainer Pascal Stumpf.
Add a patch from upstream git to fix a segfault during build on i386.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.14 2011/05/22 20:22:08 landry Exp $

BROKEN-sparc64 =	fails a lot of regression tests
@


1.14
log
@Update to parrot 3.3.0, from maintainer Pascal Stumpf.
Use ${V} in PLIST to avoid churn on next update.
Tested on amd64/ppc by myself.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/03/08 20:12:15 landry Exp $
d7 1
a7 1
V=		3.3.0
d10 1
a10 1
SHARED_LIBS=	parrot	2.0
@


1.13
log
@Update to parrot 3.0.0, from Pascal Stumpf (thanks!) with some tweaks.
Disable threads as it seems to trigger funky bugs. Enable it on all
archs but sparc64 as it's broken there.
Testing on arm/mips64el by kili, sparc64/ppc by me.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2010/11/17 08:05:18 espie Exp $
d7 1
a7 1
V=		3.0.0
d10 1
a10 1
SHARED_LIBS=	parrot	1.0
d42 1
a42 1
ALL_TARGET=		installable docs
d45 2
@


1.12
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/10/24 21:11:46 sthen Exp $
d3 1
a3 4
# sparc64 failed to build with 0.9.0.1 and needs testing
# macppc fails too and is therefore disabled
# others untested
ONLY_FOR_ARCHS=	i386 amd64
d7 1
a7 1
V=		1.2.0
a8 1
REVISION=	0
d10 1
a10 1
SHARED_LIBS=	parrot	0.0
d12 1
a12 1
HOMEPAGE=	http://www.parrotcode.org/
d14 1
a14 1
MASTER_SITES=	ftp://ftp.parrot.org/pub/parrot/releases/devel/$V/
d22 1
a22 1
WANTLIB += c crypto m ncurses pthread readline stdc++ util
d34 5
d40 1
a40 1
MAKE_FLAGS=		LIBparrot_VERSION=${LIBparrot_VERSION}
d42 2
a43 1
ALL_TARGET=		installable compilers
a45 4
.if ${MACHINE_ARCH} == "powerpc"
CONFIGURE_ARGS+=	--execcapable=0
.endif

d47 1
a47 4
	cd ${WRKSRC} && cp src/jit/ppc/ppc-linux.s src/jit/ppc/ppc-openbsd.s
	perl -pi -e 's!^(SOVERSION\s*:=\s*).*?$$!$${1}${LIBparrot_VERSION}!' \
	    ${WRKSRC}/config/gen/makefiles/root.in

d49 2
a50 3
	${INSTALL_DATA} ${WRKSRC}/blib/lib/libparrot.so.0.0 ${PREFIX}/lib
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/parrot
	cd ${WRKSRC}/examples && pax -rw . ${PREFIX}/share/examples/parrot
@


1.11
log
@new lib_depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/10/03 22:13:18 kili Exp $
d29 2
a30 2
LIB_DEPENDS=		::textproc/icu4c
REGRESS_DEPENDS=	::devel/p5-Test-Pod
@


1.10
log
@Zip MD2 support (fix after openssl update).

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/06/18 23:00:43 simon Exp $
d26 2
a27 1
WANTLIB=		c crypto m ncurses pthread readline stdc++ util
d29 1
a29 1
LIB_DEPENDS=		icudata,icuuc,icui18n::textproc/icu4c
@


1.9
log
@don't rely on --icu-config arguments but provide icu config to fix build
with current icu4u version and unbreak packaging on i386

repeatedly pointed out by naddy@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/06/17 09:34:35 simon Exp $
d12 1
@


1.8
log
@update to version 1.2.0, add shared library and disable macppc build for now.
all secondary compilers were relocated to separate projects so we need a
rakudo port to get the perl6 binary back.

this update also addresses the recent bulk fallout noticed by naddy@@
testing by sthen@@ and ajacoutot@@, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/02/04 10:15:14 simon Exp $
d27 1
a27 1
LIB_DEPENDS=		icudata,icuuc::textproc/icu4c
d34 2
a35 1
CONFIGURE_ARGS+=	--icu-config=${LOCALBASE}/bin/icu-config
a40 6

.if ${MACHINE_ARCH} == "i386"
PKG_ARGS+=		-Di386=1
.else
PKG_ARGS+=		-Di386=0
.endif
@


1.7
log
@update to version 0.9.0.1, move docs and examples to appropriate places

testing/feedback by ajacoutot@@ (macppc) and jasper@@ (amd64, i386 and
sparc64 which still fails to build), thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/11/11 22:46:30 simon Exp $
d3 2
a4 1
# sparc64 fails to build
d6 1
a6 1
ONLY_FOR_ARCHS=	i386 amd64 macppc
a8 1
VMEM_WARNING=	Yes
d10 2
a11 3
SHARED_ONLY=	Yes

DISTNAME=	parrot-0.9.0.1
d13 1
d17 1
a17 1
MASTER_SITES=	${MASTER_SITE_PERL_CPAN:=../by-authors/id/C/CH/CHROMATIC/}
d25 1
a25 1
WANTLIB=		c crypto m ncurses pthread readline util
d32 1
d36 3
a38 1
ALL_TARGET=		installable ./perl6 compilers languages
d53 2
d57 3
a59 2
	cd ${PREFIX}/share/doc/parrot && mv docs/* . && rmdir docs
	mv ${PREFIX}/share/doc/parrot/examples ${PREFIX}/share/examples/parrot
@


1.6
log
@update to version 0.8.0 and enable it for i386, amd64 and macppc where
the tests all pass fine

tested by ajacoutot@@ and jasper@@
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/10/03 23:33:18 simon Exp $
d12 1
a12 1
DISTNAME=	parrot-0.8.0
d17 1
a17 1
MASTER_SITES=	${MASTER_SITE_PERL_CPAN:=../by-authors/id/P/PA/PARTICLE/}
d25 1
a25 1
WANTLIB=		c m pthread util
a35 1
INSTALL_TARGET=		reallyinstall
d50 4
@


1.5
log
@update to version 0.7.1
@
text
@d1 5
a5 1
# $OpenBSD: Makefile,v 1.4 2008/07/20 21:05:40 simon Exp $
d12 1
a12 1
DISTNAME=	parrot-0.7.1
d17 1
a17 1
MASTER_SITES=	${MASTER_SITE_PERL_CPAN:=../by-authors/id/P/PM/PMIC/}
@


1.4
log
@update to version 0.6.4, add perl6 binary, add all compilers and
languages, fix powerpc build while there and set VMEM_WARNING
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/12/17 14:24:27 pyr Exp $
d8 1
a8 1
DISTNAME=	parrot-0.6.4
d13 1
a13 1
MASTER_SITES=	${MASTER_SITE_PERL_CPAN:=../by-authors/id/B/BS/BSCHMAL/}
@


1.3
log
@update to parrot-5.0
powerpc tweak from simon@@
ok simon@@ who produced just about the same diff than mine.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/10/18 18:51:10 simon Exp $
d4 1
d8 1
a8 1
DISTNAME=	parrot-0.5.0
d13 1
a13 1
MASTER_SITES=	${MASTER_SITE_PERL_CPAN:=../by-authors/id/C/CH/CHROMATIC/}
d20 1
d28 2
d31 1
a32 1

d41 1
a41 1
.if ${MACHINE_ARCH} == "i386"
@


1.2
log
@update to version 0.4.17 and help build on macppc a step further

ok pyr@@, jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/10/10 17:32:06 simon Exp $
d7 1
a7 1
DISTNAME=	parrot-0.4.17
d12 1
a12 1
MASTER_SITES=	${MASTER_SITE_PERL_CPAN:=../by-authors/id/C/CO/COKE/}
d35 4
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d7 1
a7 1
DISTNAME=	parrot-0.4.16
d12 1
a12 1
MASTER_SITES=	${MASTER_SITE_PERL_CPAN:=../by-authors/id/P/PA/PARTICLE/}
d36 3
@


1.1.1.1
log
@import parrot

Parrot is a virtual machine designed with the needs of dynamically typed
languages (such as Perl and Python) in mind, and should be able to run
programs written in these languages more efficiently than VMs developed
with static languages in mind (JVM, .NET). 

ok jasper@@, steven@@
@
text
@@
