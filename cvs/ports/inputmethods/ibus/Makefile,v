head	1.52;
access;
symbols
	OPENBSD_6_1:1.50.0.2
	OPENBSD_6_1_BASE:1.50
	OPENBSD_6_0:1.49.0.2
	OPENBSD_6_0_BASE:1.49
	OPENBSD_5_9:1.48.0.2
	OPENBSD_5_9_BASE:1.48
	OPENBSD_5_8:1.47.0.4
	OPENBSD_5_8_BASE:1.47
	OPENBSD_5_7:1.44.0.2
	OPENBSD_5_7_BASE:1.44
	OPENBSD_5_6:1.43.0.2
	OPENBSD_5_6_BASE:1.43
	OPENBSD_5_5:1.42.0.2
	OPENBSD_5_5_BASE:1.42
	OPENBSD_5_4:1.39.0.2
	OPENBSD_5_4_BASE:1.39
	OPENBSD_5_3:1.31.0.2
	OPENBSD_5_3_BASE:1.31
	OPENBSD_5_2:1.27.0.2
	OPENBSD_5_2_BASE:1.27
	OPENBSD_5_1_BASE:1.25
	OPENBSD_5_1:1.25.0.2
	OPENBSD_5_0:1.19.0.2
	OPENBSD_5_0_BASE:1.19
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	fgsch_20100819:1.1.1.1
	fgsch:1.1.1;
locks; strict;
comment	@# @;


1.52
date	2017.08.22.19.19.26;	author jasper;	state Exp;
branches;
next	1.51;
commitid	e9cU9RRr3kjk56IP;

1.51
date	2017.04.22.13.43.21;	author ajacoutot;	state Exp;
branches;
next	1.50;
commitid	Obqvqlta0q6jFX3r;

1.50
date	2016.10.01.11.54.16;	author naddy;	state Exp;
branches;
next	1.49;
commitid	VJ09Ih4WMjVIWTmz;

1.49
date	2016.03.20.16.12.24;	author naddy;	state Exp;
branches;
next	1.48;
commitid	guiZq8cnNbVyyHzx;

1.48
date	2016.01.01.12.00.15;	author ajacoutot;	state Exp;
branches;
next	1.47;
commitid	JU9WxAMD4n6Z6cRu;

1.47
date	2015.05.05.17.00.18;	author sthen;	state Exp;
branches;
next	1.46;
commitid	ukCYGVBlglFzny8e;

1.46
date	2015.04.04.09.21.01;	author ajacoutot;	state Exp;
branches;
next	1.45;
commitid	kS3kwKZogsvzYmEY;

1.45
date	2015.03.27.08.43.02;	author ajacoutot;	state Exp;
branches;
next	1.44;
commitid	9SD62DzRZ5qtR5xU;

1.44
date	2014.09.13.16.36.53;	author ajacoutot;	state Exp;
branches;
next	1.43;
commitid	N2TalFGi4jKRwS2u;

1.43
date	2014.07.17.15.59.43;	author ajacoutot;	state Exp;
branches;
next	1.42;
commitid	lnGACmnMPlOWmhXP;

1.42
date	2013.10.02.16.37.55;	author fgsch;	state Exp;
branches;
next	1.41;

1.41
date	2013.10.01.21.21.16;	author fgsch;	state Exp;
branches;
next	1.40;

1.40
date	2013.08.07.21.32.04;	author naddy;	state Exp;
branches;
next	1.39;

1.39
date	2013.07.07.09.53.02;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2013.07.07.08.58.11;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2013.05.31.15.34.49;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2013.05.07.07.59.25;	author fgsch;	state Exp;
branches;
next	1.35;

1.35
date	2013.04.16.10.21.58;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2013.04.03.08.16.43;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2013.03.21.08.46.31;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2013.03.11.11.12.33;	author espie;	state Exp;
branches;
next	1.31;

1.31
date	2013.01.23.18.05.57;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2013.01.17.23.40.26;	author fgsch;	state Exp;
branches;
next	1.29;

1.29
date	2013.01.17.23.31.41;	author fgsch;	state Exp;
branches;
next	1.28;

1.28
date	2012.09.21.14.48.05;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2012.06.15.08.32.16;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2012.02.29.21.09.00;	author fgsch;	state Exp;
branches;
next	1.25;

1.25
date	2012.01.01.09.04.13;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2011.12.12.12.23.14;	author fgsch;	state Exp;
branches;
next	1.23;

1.23
date	2011.12.03.20.30.09;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2011.11.03.17.46.21;	author jasper;	state Exp;
branches;
next	1.21;

1.21
date	2011.10.29.08.12.32;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2011.09.16.10.02.38;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2011.06.08.17.35.44;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2011.06.02.17.09.32;	author kili;	state Exp;
branches;
next	1.17;

1.17
date	2011.06.02.13.41.39;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.05.14.21.29.03;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2011.04.08.07.37.24;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.04.07.19.23.05;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2011.04.07.07.19.56;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2011.01.14.06.00.33;	author fgsch;	state Exp;
branches;
next	1.11;

1.11
date	2010.11.17.08.05.16;	author espie;	state Exp;
branches;
next	1.10;

1.10
date	2010.11.11.09.42.11;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2010.11.09.20.00.38;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2010.10.24.21.21.44;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.10.11.08.15.01;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2010.09.30.07.26.04;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.09.01.19.22.44;	author fgsch;	state Exp;
branches;
next	1.4;

1.4
date	2010.08.30.21.56.33;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2010.08.23.07.57.52;	author fgsch;	state Exp;
branches;
next	1.2;

1.2
date	2010.08.21.19.57.09;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.08.19.18.56.14;	author fgsch;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2010.08.19.18.56.14;	author fgsch;	state Exp;
branches;
next	;


desc
@@


1.52
log
@remove broken HOMEPAGE/MASTER_SITES and add backup mirror
@
text
@# $OpenBSD: Makefile,v 1.51 2017/04/22 13:43:21 ajacoutot Exp $

COMMENT =	intelligent input bus framework

GH_PROJECT =	ibus
GH_ACCOUNT =	ibus
GH_TAGNAME =	1.5.5
REVISION =	5

SHARED_LIBS =	ibus-1.0	4.0 # 5.504

CATEGORIES =	inputmethods chinese japanese korean

HOMEPAGE =	https://github.com/ibus/ibus/wiki

MAINTAINER =	Federico G. Schwindt <fgsch@@openbsd.org>

# LGPLv2+
PERMIT_PACKAGE_CDROM =	Yes

WANTLIB += ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi Xinerama
WANTLIB += Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi c cairo
WANTLIB += cairo-gobject dbus-1 dconf epoxy expat ffi fontconfig
WANTLIB += freetype gdk-3 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0
WANTLIB += gmodule-2.0 gobject-2.0 graphite2 gthread-2.0 gtk-3
WANTLIB += gtk-x11-2.0 harfbuzz m notify pango-1.0 pangocairo-1.0
WANTLIB += pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs xcb
WANTLIB += xcb-render xcb-shm z

# XXX: Remove when upgrading to newer tag
MASTER_SITES =	https://distfiles.nl/

MODULES =	devel/dconf \
		devel/gconf2 \
		devel/gettext \
		lang/python \
		textproc/intltool

BUILD_DEPENDS =	devel/iso-codes \
		devel/py-gobject3 \
		lang/vala
RUN_DEPENDS =	devel/desktop-file-utils \
		devel/iso-codes \
		x11/gtk+3,-guic

# MODPY_LIBDIR/gi/overrides/
RUN_DEPENDS +=	devel/py-gobject3

LIB_DEPENDS =	devel/libnotify \
		x11/gtk+2 \
		x11/gtk+3

MODGCONF2_LIBDEP =	No

USE_GMAKE =	Yes
LIBTOOL_FLAGS =	--tag=disable-static

CONFIGURE_STYLE = gnu
CONFIGURE_ARGS = --mandir=${PREFIX}/man \
		 --enable-introspection \
		 --enable-vala
CONFIGURE_ENV =	CPPFLAGS="${CPPFLAGS} -I${LOCALBASE}/include -I${X11BASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib"

FAKE_FLAGS =	bash_completiondir=${PREFIX}/share/examples/ibus/bash_completion.d \
		sysconfdir=${PREFIX}/share/examples/ibus

pre-configure:
	${SUBST_CMD} ${WRKSRC}/src/ibusshare.c

.include <bsd.port.mk>
@


1.51
log
@Stop patching for /var/lib/dbus -> /var/db/dbus; nowadays, most apps look
into /etc/machine-id *before* looking into /var/lib/dbus/machine-id and for
the few that don't patch them to look directly there.

Thanks sthen@@ for the source ports seach.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2016/10/01 11:54:16 naddy Exp $
d5 4
a8 2
DISTNAME =	ibus-1.5.5
REVISION =	4
d14 1
a14 1
HOMEPAGE =	https://code.google.com/p/ibus/
d30 2
a31 1
MASTER_SITES =	${MASTER_SITE_GOOGLECODE:=ibus/}
@


1.50
log
@The ${PROJECT}.googlecode.com/files/ master sites are no longer
accessible, but the distfiles are still available at an archive URL.
Introduce MASTER_SITE_GOOGLECODE and use it for all affected ports.

ok czarkoff@@ danj@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2016/03/20 16:12:24 naddy Exp $
d6 1
a6 1
REVISION =	3
@


1.49
log
@drop SHARED_ONLY from python and ruby ports
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2016/01/01 12:00:15 ajacoutot Exp $
d28 1
a28 1
MASTER_SITES =	https://ibus.googlecode.com/files/
@


1.48
log
@Document the fact that the RUN_DEPENDS on pygobject3 is needed because of
the MODPY_LIBDIR/gi/overrides/ directory.
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.47 2015/05/05 17:00:18 sthen Exp $

SHARED_ONLY =	Yes
@


1.47
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2015/04/04 09:21:01 ajacoutot Exp $
d8 1
a8 1
REVISION =	2
a42 1
		devel/py-gobject3 \
d44 3
@


1.46
log
@Bump after the recent changes in packaging dbus and dconf.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2015/03/27 08:43:02 ajacoutot Exp $
d8 1
a8 1
REVISION =	1
d21 8
a28 8
WANTLIB = 	ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi \
		Xinerama Xrandr Xrender atk-1.0 atk-bridge-2.0 atspi \
		c cairo cairo-gobject dbus-1 dconf expat ffi fontconfig \
		freetype gdk-3 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0 \
		gmodule-2.0 gobject-2.0 graphite2 gthread-2.0 gtk-3 \
		gtk-x11-2.0 harfbuzz m notify pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs \
		xcb xcb-render xcb-shm z
@


1.45
log
@x11/gtk+2,-guic -> x11/gtk+3,-guic && bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2014/09/13 16:36:53 ajacoutot Exp $
d8 1
a8 1
REVISION =	0
@


1.44
log
@--disable-gtk-doc is handled by the infrastructure now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2014/07/17 15:59:43 ajacoutot Exp $
d8 1
d44 1
a44 1
		x11/gtk+2,-guic
@


1.43
log
@Update to ibus-1.5.5.

no objection from fgsch@@ (maintainer) as long as it works
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/10/02 16:37:55 fgsch Exp $
a55 1
		 --disable-gtk-doc-html \
a59 6

# If one of these tools is found at configure stage, it might be used,
# no matter whether we use --disable-gtk-doc or not.
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@


1.42
log
@add mising dependency.
spotted by nigel, ok ajacoutot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/10/01 21:21:16 fgsch Exp $
d7 1
a7 2
DISTNAME =	ibus-1.5.4
REVISION =	0
@


1.41
log
@update to ibus 1.5.4.
prodded by and ok ajacoutot and jasper.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2013/08/07 21:32:04 naddy Exp $
d8 1
d33 1
d49 2
@


1.40
log
@move http://code.google.com, *.googlecode.com, and sites.google.com to https
suggested by bentley@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2013/07/07 09:53:02 ajacoutot Exp $
d7 1
a7 2
DISTNAME =	ibus-1.5.2
REVISION =	3
d9 1
a9 1
SHARED_LIBS =	ibus-1.0	3.0
d20 1
a20 1
WANTLIB =	ICE SM X11 Xcomposite Xcursor Xdamage Xext Xfixes Xi \
d25 3
a27 3
		gtk-x11-2.0 harfbuzz m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread \
		pthread-stubs xcb xcb-render xcb-shm z
d36 1
a36 2
BUILD_DEPENDS =	devel/gobject-introspection \
		devel/iso-codes \
d39 2
a40 2
RUN_DEPENDS =	devel/iso-codes \
		devel/desktop-file-utils \
a41 1
		devel/py-xdg \
d44 2
a45 1
LIB_DEPENDS =	x11/gtk+2 \
d52 2
a53 1
CONFIGURE_ARGS = --disable-gtk-doc-html \
@


1.39
log
@Since its last update, gtk+2 gained an --update-cache option for
gtk-query-immodules-2.0 -- so use it as was done with gtk+3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2013/07/07 08:58:11 ajacoutot Exp $
d8 1
a8 1
REVISION =	2
d14 1
a14 1
HOMEPAGE =	http://code.google.com/p/ibus/
d30 1
a30 1
MASTER_SITES =	http://ibus.googlecode.com/files/
@


1.38
log
@gtk-query-immodules-3.0 has an --update-cache, so use that instead of
redirecting the output to the cache file.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2013/05/31 15:34:49 ajacoutot Exp $
d8 1
a8 1
REVISION =	1
@


1.37
log
@Sync WANTLIB and bump after the recent harfbuzz update; icu libs are not
needed anymore. This is a mecanical commit, there might be dragons :-)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2013/05/07 07:59:25 fgsch Exp $
d8 1
a8 1
REVISION =	0
@


1.36
log
@update to ibus 1.5.2.
ajacoutot@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2013/04/16 10:21:58 ajacoutot Exp $
d8 1
d26 1
a26 1
		gtk-x11-2.0 harfbuzz icudata icule icuuc m pango-1.0 \
@


1.35
log
@Bump after py-gobject3 change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2013/04/03 08:16:43 ajacoutot Exp $
d7 1
a7 2
DISTNAME =	ibus-1.5.1
REVISION =	3
d9 1
a9 1
SHARED_LIBS =	ibus-1.0	2.0
d20 8
a27 9
WANTLIB =	GL ICE SM X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
		Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0 \
		atk-bridge-2.0 atspi c cairo cairo-gobject dbus-1 dconf \
		expat ffi fontconfig freetype gdk-3 gdk-x11-2.0 \
		gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
		gthread-2.0 gtk-3 gtk-x11-2.0 harfbuzz icudata icule \
		icuuc m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre \
		pixman-1 png pthread pthread-stubs xcb xcb-render \
		xcb-shm z
d55 1
a55 2
		 --enable-vala \
		 --enable-dconf
@


1.34
log
@librsvg is implied.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2013/03/21 08:46:31 ajacoutot Exp $
d8 1
a8 1
REVISION =	2
@


1.33
log
@USE_LIBTOOL=Yes is the default now.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2013/03/11 11:12:33 espie Exp $
d8 1
a8 1
REVISION =	1
a45 1
		x11/gnome/librsvg \
@


1.32
log
@PERMIT_* / REGRESS -> TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/01/23 18:05:57 ajacoutot Exp $
a52 1
USE_LIBTOOL =	Yes
@


1.31
log
@Fix path to immodules.cache for gtk+3.

ok fgsch@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/01/17 23:40:26 fgsch Exp $
a19 3
PERMIT_PACKAGE_FTP =	Yes
PERMIT_DISTFILES_CDROM = Yes
PERMIT_DISTFILES_FTP =	Yes
@


1.30
log
@I forgot to add myself as maintainer.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2013/01/17 23:31:41 fgsch Exp $
d8 1
a8 1
REVISION =	0
d25 1
a25 1
		Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 \
d27 1
a27 1
		drm expat ffi fontconfig freetype gdk-3 gdk-x11-2.0 \
d31 1
a31 1
		pixman-1 png pthread pthread-stubs stdc++ xcb xcb-render \
@


1.29
log
@Update to ibus 1.5.1.
With input and comments from ajacoutot@@.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/09/21 14:48:05 ajacoutot Exp $
d8 1
d15 2
@


1.28
log
@Stupid autohell is stupid...
The situation is this: even when we --disable-gtk-doc, if gtk-doc is
actually installed at configure stage, tools like gtkdoc-rebase will be
picked up and run during the install target. That is bad because the
gtk-doc package may have been removed by then, especially during dpb(1)
bulks (we explicitely disable support for it so why should it stay...).

So for now, let's add the following env to configure whenever we use
--disable-gtk-doc, until a bettersolution is found...
CONFIGURE_ENV +=ac_cv_path_GTKDOC_CHECK="" \
		ac_cv_path_GTKDOC_REBASE="" \
		ac_cv_path_GTKDOC_MKPDF=""
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2012/06/15 08:32:16 ajacoutot Exp $
d7 1
a7 2
DISTNAME =	ibus-1.4.1
REVISION =	0
d9 1
a9 1
SHARED_LIBS =	ibus-1.0	1.0
d21 9
a29 7
WANTLIB =	GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext Xfixes \
		Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 c cairo \
		cairo-gobject dbus-1 dbus-glib-1 drm expat ffi fontconfig \
		freetype gdk-3 gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0 \
		gmodule-2.0 gobject-2.0 gthread-2.0 gtk-3 gtk-x11-2.0 \
		m pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 \
		png pthread pthread-stubs stdc++ xcb xcb-render xcb-shm z
d33 1
a33 1
MODULES =	devel/gconf2 \
d40 1
a40 1
		x11/dbus-python \
d44 2
a45 2
		devel/py-notify \
		x11/dbus-python \
a51 2
MODGCONF2_SCHEMAS_DIR = ibus

d57 4
a60 2
CONFIGURE_ARGS = --enable-introspection \
		 --enable-gtk-doc-html=no
d69 6
@


1.27
log
@gtk-update-icon-cache:
Don't redirect errors to /dev/null and don't return true(1)
unconditionally. Instead, don't check for the existence of index.theme.
This will allow us to catch errors that may be happening because of a
missing dependency in the chain.

Some hidden issues may appear, in which case please contact me.

discussed with and ok blind jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/02/29 21:09:00 fgsch Exp $
d62 6
@


1.26
log
@Update to ibus 1.4.1.
ajacoutot@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2012/01/01 09:04:13 ajacoutot Exp $
d8 1
@


1.25
log
@gamin,-server is gone, glib2 supports native file monitoring with kqueue(2).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/12/12 12:23:14 fgsch Exp $
d7 1
a7 2
DISTNAME =	ibus-1.4.0
REVISION =	0
d9 1
a9 1
SHARED_LIBS =	ibus-1.0	0.0
a42 1
		devel/py-xdg \
d57 1
a57 2
CONFIGURE_ARGS = --enable-vala \
		 --enable-introspection \
@


1.24
log
@update to ibus 1.4.0.
tested by myself and Tamotsu Takahashi (ttakah plus openbsd at gmail.com).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/12/03 20:30:09 ajacoutot Exp $
d8 1
a44 1
		sysutils/gamin,-server,no_python \
@


1.23
log
@Add a dependency on x11/gtk+2,-guic.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/11/03 17:46:21 jasper Exp $
d7 1
a7 2
DISTNAME =	ibus-1.3.9
REVISION =	9
d9 1
a9 1
SHARED_LIBS =	ibus	1.0	# 2.0
d21 7
a27 7
WANTLIB =	GL X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
		Xext Xfixes Xi Xinerama Xrandr Xrender Xxf86vm atk-1.0 \
		c cairo dbus-1 drm expat fontconfig freetype gdk-x11-2.0 \
		gdk_pixbuf-2.0 gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 \
		gthread-2.0 gtk-x11-2.0 m pango-1.0 pangocairo-1.0 \
		pangoft2-1.0 pcre pixman-1 png pthread pthread-stubs \
		xcb xcb-render xcb-shm z dbus-glib-1 ffi stdc++
d49 2
a50 1
LIB_DEPENDS =	x11/gtk+2
a63 2

FAKE_FLAGS=	xdgautostartdir=${PREFIX}/share/examples/ibus/xdg/autostart
@


1.22
log
@- regen WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/10/29 08:12:32 ajacoutot Exp $
d8 1
a8 1
REVISION =	8
d47 2
a48 1
		x11/gnome/librsvg
@


1.21
log
@Sync dependencies after gconf2 lost its dependency to ORBit.
This should cover all fallout but there may be some dark corners which I
missed...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2011/09/16 10:02:38 espie Exp $
d8 1
a8 1
REVISION =	7
d28 1
a28 1
		xcb xcb-render xcb-shm z
@


1.20
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/06/08 17:35:44 jasper Exp $
d8 1
a8 1
REVISION =	6
d22 1
a22 1
WANTLIB =	GL ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
@


1.19
log
@bump after default python version switch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/06/02 17:09:32 kili Exp $
d8 1
a8 1
REVISION =	5
@


1.18
log
@--disable-silent-rules is now added to CONFIGURE_ARGS per default,
if CONFIGURE_STYLE = gnu.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2011/06/02 13:41:39 ajacoutot Exp $
d8 1
a8 1
REVISION =	4
@


1.17
log
@Add a consistent header that substitutes FULLPKGNAME for the READMEs.

ok jasper@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2011/05/14 21:29:03 ajacoutot Exp $
d58 1
a58 2
CONFIGURE_ARGS = --disable-silent-rules \
		 --enable-vala \
@


1.16
log
@deve/gconf2 is about to loose its dependency on x11/gtk+2 so explicitely
register x11/gtk+2 for ports depending on gconf2 that don't have another
dependency that would bring it.

discussed with jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/04/08 07:37:24 ajacoutot Exp $
d8 1
a8 1
REVISION =	3
@


1.15
log
@Add vala support (it's only a build dep).
Regen patches while here.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2011/04/07 19:23:05 jasper Exp $
d8 1
a8 1
REVISION =	2
d48 2
@


1.14
log
@- instead of ignoring the warning, actually install the xdg files...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2011/04/07 07:19:56 jasper Exp $
d8 1
a8 1
REVISION =	1
d39 2
a40 1
		x11/dbus-python
d57 1
a57 1
		 --disable-vala \
@


1.13
log
@Add introspection support (needed for on-going GNOME 3 work).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2011/01/14 06:00:33 fgsch Exp $
d8 1
a8 1
REVISION =	0
d61 2
@


1.12
log
@Update to ibus 1.3.9.
jasper@@ ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2010/11/17 08:05:16 espie Exp $
d8 1
d37 2
a38 1
BUILD_DEPENDS =	devel/iso-codes \
d57 1
a57 1
		 --enable-introspection=no \
@


1.11
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2010/11/11 09:42:11 fgsch Exp $
d7 1
a7 1
DISTNAME =	ibus-1.3.8
d13 1
a13 1
HOMEPAGE =	http://ibus.googlecode.com/
d29 1
a29 1
MASTER_SITES =	${HOMEPAGE}/files/
d53 1
a53 2
CONFIGURE_ARGS = ${CONFIGURE_SHARED} \
	 	 --disable-silent-rules \
@


1.10
log
@Update to ibus 1.3.8.  Add TRUEPREFIX to the README.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2010/11/09 20:00:38 jasper Exp $
d36 9
a44 9
BUILD_DEPENDS =	::devel/iso-codes \
		::x11/dbus-python
RUN_DEPENDS =	::devel/iso-codes \
		::devel/desktop-file-utils \
		::devel/py-notify \
		::devel/py-xdg \
		::sysutils/gamin,-server,no_python \
		::x11/dbus-python \
		::x11/gnome/librsvg
@


1.9
log
@- switch to pkg-readmes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/10/24 21:21:44 ajacoutot Exp $
d7 1
a7 1
DISTNAME =	ibus-1.3.7
d9 1
a9 3
REVISION =	6

SHARED_LIBS =	ibus	0.0	# 2.0
d21 7
a27 7
WANTLIB =	ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp \
		Xext Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c \
		cairo dbus-1 dbus-glib-1 expat fontconfig freetype \
		gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0 \
		gmodule-2.0 gobject-2.0 gthread-2.0 gtk-x11-2.0 m \
		pango-1.0 pangocairo-1.0 pangoft2-1.0 pcre pixman-1 \
		png pthread pthread-stubs xcb xcb-render xcb-render-util z
@


1.8
log
@Remove USE_X11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/10/11 08:15:01 jasper Exp $
d9 1
a9 1
REVISION =	5
d15 1
a15 1
HOMEPAGE =	http://code.google.com/p/ibus/
d31 1
a31 1
MASTER_SITES =	http://ibus.googlecode.com/files/
a61 4

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/ibus
	${INSTALL_DATA} ${FILESDIR}/README.OpenBSD ${PREFIX}/share/doc/ibus
@


1.7
log
@- fix WANTLIB after cairo update.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/09/30 07:26:04 ajacoutot Exp $
a49 1
USE_X11 =	Yes
@


1.6
log
@Fix build with new GTK+2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2010/09/01 19:22:44 fgsch Exp $
d9 1
a9 1
REVISION =	4
d26 1
a26 1
		gdk-x11-2.0 gdk_pixbuf-2.0 gio-2.0 glib-2.0 glitz \
@


1.5
log
@Remove unneeded py-gtk+2 dependency and patch. Bump.
Pointed out by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2010/08/30 21:56:33 sthen Exp $
d9 1
a9 1
REVISION =	3
@


1.4
log
@bumps for python
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2010/08/23 07:57:52 fgsch Exp $
d9 1
a9 1
REVISION =	2
d46 1
a46 2
		::x11/gnome/librsvg \
		::x11/py-gtk2
@


1.3
log
@- Fix RUN_DEPENDS
- Use gettext module
- Install gconf schema
- Update icons on install
- Disable silent compilation
Some pointed out by ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2010/08/21 19:57:09 ajacoutot Exp $
d9 1
a9 1
REVISION =	1
@


1.2
log
@gtk-query-immodules-2.0 needs only to run at @@unexec-delete time, not
@@unexec.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2010/08/19 18:56:14 fgsch Exp $
d8 2
a9 1
REVISION =	0
d23 7
a29 7
WANTLIB =	ORBit-2 X11 Xau Xcomposite Xcursor Xdamage Xdmcp Xext \
		Xfixes Xi Xinerama Xrandr Xrender atk-1.0 c cairo dbus-1 \
		dbus-glib-1 expat fontconfig freetype gdk-x11-2.0 \
		gdk_pixbuf-2.0 gio-2.0 glib-2.0 glitz gmodule-2.0 \
		gobject-2.0 gthread-2.0 gtk-x11-2.0 iconv intl m pango-1.0 \
		pangocairo-1.0 pangoft2-1.0 pcre pixman-1 png pthread \
		pthread-stubs xcb xcb-render xcb-render-util z
d34 1
d40 1
a40 1
RUN_DEPENDS =	${BUILD_DEPENDS} \
d45 1
d58 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d8 1
@


1.1.1.1
log
@Import ibus, the intelligent input bus framework.
@
text
@@
