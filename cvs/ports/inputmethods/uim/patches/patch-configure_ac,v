head	1.6;
access;
symbols
	OPENBSD_6_2:1.6.0.12
	OPENBSD_6_2_BASE:1.6
	OPENBSD_6_1:1.6.0.10
	OPENBSD_6_1_BASE:1.6
	OPENBSD_6_0:1.6.0.8
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.4
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.6.0.6
	OPENBSD_5_8_BASE:1.6
	OPENBSD_5_7:1.6.0.2
	OPENBSD_5_7_BASE:1.6
	OPENBSD_5_6:1.5.0.24
	OPENBSD_5_6_BASE:1.5
	OPENBSD_5_5:1.5.0.22
	OPENBSD_5_5_BASE:1.5
	OPENBSD_5_4:1.5.0.20
	OPENBSD_5_4_BASE:1.5
	OPENBSD_5_3:1.5.0.18
	OPENBSD_5_3_BASE:1.5
	OPENBSD_5_2:1.5.0.16
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.5
	OPENBSD_5_1:1.5.0.14
	OPENBSD_5_0:1.5.0.12
	OPENBSD_5_0_BASE:1.5
	OPENBSD_4_9:1.5.0.10
	OPENBSD_4_9_BASE:1.5
	OPENBSD_4_8:1.5.0.8
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.6
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.4
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.2
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.4.0.2
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.3.0.4
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.3.0.2
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.2.0.2
	OPENBSD_4_1_BASE:1.2
	jp:1.1.1.1
	uim:1.1.1;
locks; strict;
comment	@# @;


1.6
date	2015.01.09.16.45.37;	author ajacoutot;	state Exp;
branches;
next	1.5;
commitid	1QLIyaYCxsHJ3XMG;

1.5
date	2008.10.14.02.16.46;	author kevlo;	state Exp;
branches;
next	1.4;

1.4
date	2008.06.07.09.58.40;	author bernd;	state Exp;
branches;
next	1.3;

1.3
date	2007.04.08.14.58.04;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2006.10.19.09.35.16;	author espie;	state Exp;
branches;
next	1.1;

1.1
date	2006.10.18.23.57.22;	author espie;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2006.10.18.23.57.22;	author espie;	state Exp;
branches;
next	;


desc
@@


1.6
log
@Update to uim-1.8.6.
Add new gtk3 and qt4 subpackages.
@
text
@$OpenBSD: patch-configure_ac,v 1.5 2008/10/14 02:16:46 kevlo Exp $
--- configure.ac.orig	Sun Jun 30 06:26:20 2013
+++ configure.ac	Fri Jan  9 09:57:19 2015
@@@@ -1387,15 +1387,10 @@@@ if test x$use_qt = xyes ; then
     fi
     UIC=$HOST_UIC
 
-    # GUESS plugins dir for immodule installation
-    AC_MSG_CHECKING(for qt-immodule plugins dir)
-    if test ! -d "$QTDIR/plugins"; then
-      AC_MSG_RESULT(no)
-    else
-      QT_PLUGINSDIR=$QTDIR/plugins
-      AC_MSG_RESULT($QT_PLUGINSDIR)
-      AC_SUBST(QT_PLUGINSDIR)
-    fi
+    # set plugins dir for immodule installation
+    QT_PLUGINSDIR=$QTPLUGINSDIR
+    AC_MSG_RESULT($QT_PLUGINSDIR)
+    AC_SUBST(QT_PLUGINSDIR)
 
     # Process for compiler & linker flags
     QT_CXXFLAGS="-I${QTINCDIR} -DQT_GENUINE_STR -DQT_NO_STL"
@@@@ -1407,13 +1402,10 @@@@ if test x$use_qt = xyes ; then
     LDFLAGS="$LDFLAGS $QT_LDFLAGS"
     AC_LANG_SAVE
     AC_LANG_CPLUSPLUS
-    AC_CHECK_LIB(qt, main, QT_LIB=-lqt,
-        AC_CHECK_LIB(qt-mt, main, QT_LIB=-lqt-mt,
-            AC_MSG_ERROR([Cannot find QT libraries.])))
+    AC_CHECK_LIB(qt-mt, main, QT_LIB='-pthread -lqt-mt',
+	AC_MSG_ERROR([Cannot find QT libraries.]), -pthread)
 
-    if test "$QT_LIB" = "-lqt-mt"; then
-      QT_CXXFLAGS="$QT_CXXFLAGS -DQT_THREAD_SUPPORT"
-    fi
+    QT_CXXFLAGS="$QT_CXXFLAGS -DQT_THREAD_SUPPORT"
 
     LDFLAGS=$_SAVE_LDFLAGS
     QT_LIBS="$X_LIBS $QT_LDFLAGS $QT_LIB -lXext -lX11"
@


1.5
log
@update to 1.5.3

ok ajacoutot@@
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_ac,v 1.4 2008/06/07 09:58:40 bernd Exp $
--- configure.ac.orig	Sun Sep  7 16:47:35 2008
+++ configure.ac	Fri Oct  3 16:09:47 2008
@@@@ -1101,15 +1101,10 @@@@ if test x$use_qt = xyes ; then
d24 1
a24 1
@@@@ -1121,13 +1116,10 @@@@ if test x$use_qt = xyes ; then
@


1.4
log
@Don't hardcode the qt3 plugins path in the configure.ac patch but
use a variable from CONFIGURE_ENV.

No bump needed, didn't build before.
@
text
@d1 4
a4 4
$OpenBSD: patch-configure_ac,v 1.3 2007/04/08 14:58:04 espie Exp $
--- configure.ac.orig	Wed Mar 14 18:26:47 2007
+++ configure.ac	Sat Jun  7 11:37:24 2008
@@@@ -794,15 +794,10 @@@@ if test x$use_qt = xyes ; then
d24 1
a24 1
@@@@ -814,13 +809,10 @@@@ if test x$use_qt = xyes ; then
@


1.3
log
@update anthy and uim to a ways more recent version.
fix uim build issues.
@
text
@d1 6
a6 4
$OpenBSD: patch-configure_ac,v 1.2 2006/10/19 09:35:16 espie Exp $
--- configure.ac.orig	Sat Jan  6 18:43:43 2007
+++ configure.ac	Mon Feb  5 04:01:08 2007
@@@@ -796,10 +796,16 @@@@ if test x$use_qt = xyes ; then
d8 2
a9 2
     # GUESS plugins dir for immodule installation
     AC_MSG_CHECKING(for qt-immodule plugins dir)
d12 1
a12 9
+    if test ! -d "$QTDIR/plugins-31"; then
+	if test ! -d "$QTDIR/plugins"; then
+	  AC_MSG_RESULT(no)
+	else
+	  QT_PLUGINSDIR=$QTDIR/plugins
+	  AC_MSG_RESULT($QT_PLUGINSDIR)
+	  AC_SUBST(QT_PLUGINSDIR)
+	fi
     else
d14 11
a24 5
+      QT_PLUGINSDIR=$QTDIR/plugins-31
       AC_MSG_RESULT($QT_PLUGINSDIR)
       AC_SUBST(QT_PLUGINSDIR)
     fi
@@@@ -814,13 +820,10 @@@@ if test x$use_qt = xyes ; then
@


1.2
log
@activate the qt part, now that it works.
Split stuff into subpackages, so that you don't need to have gtk if
you don't need it.
@
text
@d1 4
a4 4
$OpenBSD$
--- configure.ac.orig	Mon Aug 14 06:27:37 2006
+++ configure.ac	Thu Oct 19 10:11:34 2006
@@@@ -744,10 +744,16 @@@@ if test x$use_qt = xyes ; then
d10 1
a10 1
+    if test ! -d "$QTDIR/plugins-30"; then
d20 1
a20 1
+      QT_PLUGINSDIR=$QTDIR/plugins-30
d24 1
a24 1
@@@@ -762,13 +768,10 @@@@ if test x$use_qt = xyes ; then
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
+++ configure.ac	Wed Oct 18 16:55:15 2006
d24 1
a24 1
@@@@ -762,9 +768,8 @@@@ if test x$use_qt = xyes ; then
d34 7
a40 2
     if test "$QT_LIB" = "-lqt-mt"; then
       QT_CXXFLAGS="$QT_CXXFLAGS -DQT_THREAD_SUPPORT"
@


1.1.1.1
log
@universal input method. tested for japanese stuff with anthy.
works just fine with gtk+. not working with qt yet.
@
text
@@
