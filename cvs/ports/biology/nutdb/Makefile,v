head	1.37;
access;
symbols
	OPENBSD_6_1:1.34.0.2
	OPENBSD_6_1_BASE:1.34
	OPENBSD_6_0:1.33.0.4
	OPENBSD_6_0_BASE:1.33
	OPENBSD_5_9:1.33.0.2
	OPENBSD_5_9_BASE:1.33
	OPENBSD_5_8:1.32.0.4
	OPENBSD_5_8_BASE:1.32
	OPENBSD_5_7:1.31.0.8
	OPENBSD_5_7_BASE:1.31
	OPENBSD_5_6:1.31.0.6
	OPENBSD_5_6_BASE:1.31
	OPENBSD_5_5:1.31.0.4
	OPENBSD_5_5_BASE:1.31
	OPENBSD_5_4:1.31.0.2
	OPENBSD_5_4_BASE:1.31
	OPENBSD_5_3:1.29.0.6
	OPENBSD_5_3_BASE:1.29
	OPENBSD_5_2:1.29.0.4
	OPENBSD_5_2_BASE:1.29
	OPENBSD_5_1_BASE:1.29
	OPENBSD_5_1:1.29.0.2
	OPENBSD_5_0:1.27.0.2
	OPENBSD_5_0_BASE:1.27
	OPENBSD_4_9:1.25.0.2
	OPENBSD_4_9_BASE:1.25
	OPENBSD_4_8:1.22.0.2
	OPENBSD_4_8_BASE:1.22
	OPENBSD_4_7:1.20.0.2
	OPENBSD_4_7_BASE:1.20
	OPENBSD_4_6:1.19.0.2
	OPENBSD_4_6_BASE:1.19
	OPENBSD_4_5:1.17.0.2
	OPENBSD_4_5_BASE:1.17
	OPENBSD_4_4:1.15.0.2
	OPENBSD_4_4_BASE:1.15
	OPENBSD_4_3:1.14.0.2
	OPENBSD_4_3_BASE:1.14
	OPENBSD_4_2:1.13.0.2
	OPENBSD_4_2_BASE:1.13
	OPENBSD_4_1:1.10.0.2
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.7.0.4
	OPENBSD_4_0_BASE:1.7
	OPENBSD_3_9:1.7.0.2
	OPENBSD_3_9_BASE:1.7
	OPENBSD_3_8:1.6.0.4
	OPENBSD_3_8_BASE:1.6
	OPENBSD_3_7:1.6.0.2
	OPENBSD_3_7_BASE:1.6
	pvalchev_20041020:1.1.1.1
	pvalchev:1.1.1;
locks; strict;
comment	@# @;


1.37
date	2017.07.26.22.45.16;	author sthen;	state Exp;
branches;
next	1.36;
commitid	tD4MFrpYYDDL2UFT;

1.36
date	2017.07.16.19.18.49;	author espie;	state Exp;
branches;
next	1.35;
commitid	tt0GhWK5c4uf9ILG;

1.35
date	2017.04.10.11.45.24;	author sthen;	state Exp;
branches;
next	1.34;
commitid	XDh1zlSBq0boKsHk;

1.34
date	2017.02.27.11.27.25;	author jca;	state Exp;
branches;
next	1.33;
commitid	xUjuhtikHiaVNdaR;

1.33
date	2015.08.19.20.34.33;	author sthen;	state Exp;
branches;
next	1.32;
commitid	u0p8xTHc4ptteIkB;

1.32
date	2015.05.09.08.31.34;	author jasper;	state Exp;
branches;
next	1.31;
commitid	yBQueXzaEWBBp6pG;

1.31
date	2013.03.19.13.07.13;	author nigel;	state Exp;
branches;
next	1.30;

1.30
date	2013.03.10.23.04.44;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2011.11.28.10.18.53;	author sthen;	state Exp;
branches;
next	1.28;

1.28
date	2011.08.24.19.29.24;	author naddy;	state Exp;
branches;
next	1.27;

1.27
date	2011.07.08.22.11.48;	author jasper;	state Exp;
branches;
next	1.26;

1.26
date	2011.04.15.21.10.27;	author jasper;	state Exp;
branches;
next	1.25;

1.25
date	2010.12.01.08.40.16;	author jasper;	state Exp;
branches;
next	1.24;

1.24
date	2010.10.18.16.57.47;	author espie;	state Exp;
branches;
next	1.23;

1.23
date	2010.08.18.03.00.40;	author merdely;	state Exp;
branches;
next	1.22;

1.22
date	2010.07.24.15.35.40;	author naddy;	state Exp;
branches;
next	1.21;

1.21
date	2010.05.22.08.06.33;	author jasper;	state Exp;
branches;
next	1.20;

1.20
date	2010.02.09.12.23.59;	author jasper;	state Exp;
branches;
next	1.19;

1.19
date	2009.05.31.16.12.19;	author jasper;	state Exp;
branches;
next	1.18;

1.18
date	2009.04.02.13.24.30;	author jasper;	state Exp;
branches;
next	1.17;

1.17
date	2008.10.24.12.25.29;	author jasper;	state Exp;
branches;
next	1.16;

1.16
date	2008.09.22.08.13.28;	author jasper;	state Exp;
branches;
next	1.15;

1.15
date	2008.04.11.09.15.49;	author jasper;	state Exp;
branches;
next	1.14;

1.14
date	2008.02.10.18.23.24;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2007.06.11.21.02.40;	author jasper;	state Exp;
branches;
next	1.12;

1.12
date	2007.05.17.10.52.25;	author espie;	state Exp;
branches;
next	1.11;

1.11
date	2007.03.31.08.58.30;	author martynas;	state Exp;
branches;
next	1.10;

1.10
date	2007.02.02.14.32.52;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2007.01.31.13.43.27;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2006.11.30.17.38.27;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2005.11.01.17.18.15;	author bernd;	state Exp;
branches;
next	1.6;

1.6
date	2005.02.07.17.34.23;	author naddy;	state Exp;
branches;
next	1.5;

1.5
date	2004.12.25.19.35.34;	author sturm;	state Exp;
branches;
next	1.4;

1.4
date	2004.12.05.11.52.17;	author xsa;	state Exp;
branches;
next	1.3;

1.3
date	2004.11.21.18.03.29;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2004.10.31.17.41.49;	author pvalchev;	state Exp;
branches;
next	1.1;

1.1
date	2004.10.21.01.41.22;	author pvalchev;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.10.21.01.41.22;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.37
log
@bump LIBCXX/LIBECXX/COMPILER_LIBCXX ports.
@
text
@# $OpenBSD: Makefile,v 1.36 2017/07/16 19:18:49 espie Exp $

COMMENT=	record and analyze your meals for nutrient composition

V=		20.1
REVISION=	1
DISTNAME=	nut-${V}
PKGNAME=	nutdb-${V}
CATEGORIES=	biology
HOMEPAGE=	http://nut.sourceforge.net/

# GPLv2+
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += X11 Xau Xcursor Xdmcp Xext Xfixes Xft Xpm Xinerama
WANTLIB += c fltk fontconfig m pthread ${COMPILER_LIBCXX}

MASTER_SITES=	${MASTER_SITE_SOURCEFORGE:=nut/}

NO_TEST=	Yes

LIB_DEPENDS=	x11/fltk

MAKE_FLAGS+=	CC="${CC}" \
		CXX="${CXX}" \
		OPT="" \
		prefix=${PREFIX} \
		libdir=${PREFIX}/lib/nutdb

USE_GMAKE=	Yes

pre-configure:
	perl -pi -e 's,\b(?:nut)\b,nutdb,g;s,\b(?:NUT)\b,NUTDB,g' ${WRKSRC}/nut.1

do-install:
	${INSTALL_PROGRAM} ${WRKSRC}/nut ${PREFIX}/bin/nutdb
	${INSTALL_PROGRAM} ${WRKSRC}/fltk/Nut ${PREFIX}/bin/Nutdb
	${INSTALL_MAN} ${WRKSRC}/nut.1 ${PREFIX}/man/man1/nutdb.1
	${INSTALL_DATA_DIR} ${PREFIX}/lib/nutdb
	${INSTALL_DATA} ${WRKSRC}/raw.data/* ${PREFIX}/lib/nutdb

.include <bsd.port.mk>
@


1.36
log
@use COMPILER_LIBCXX where applicable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2017/04/10 11:45:24 sthen Exp $
d6 1
a6 1
REVISION=	0
@


1.35
log
@use LIBCXX
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2017/02/27 11:27:25 jca Exp $
d16 1
a16 1
WANTLIB += c fltk fontconfig m pthread ${LIBCXX}
@


1.34
log
@Don't hardcode g++
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2015/08/19 20:34:33 sthen Exp $
d16 1
a16 1
WANTLIB += c fltk fontconfig m pthread stdc++
@


1.33
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2015/05/09 08:31:34 jasper Exp $
d25 1
@


1.32
log
@update to nutdb-20.1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/03/19 13:07:13 nigel Exp $
d6 1
d15 2
a16 1
WANTLIB += X11 Xau Xdmcp Xext Xft Xpm Xinerama c fltk fontconfig m pthread stdc++
@


1.31
log
@WANTLIB updates for fontconfig and other libraries.

Ok sthen
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2013/03/10 23:04:44 espie Exp $
d5 1
a5 1
V=		16.12
a7 1
REVISION=	2
d14 1
a14 1
WANTLIB += X11 Xau Xdmcp Xext Xft Xinerama c fltk fontconfig m pthread stdc++
d23 1
d28 3
@


1.30
log
@PERMIT/ REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2011/11/28 10:18:53 sthen Exp $
d8 1
a8 1
REVISION=	1
d15 1
a15 1
WANTLIB += X11 Xau Xdmcp Xext c fltk m pthread stdc++
@


1.29
log
@Fix path to nutdb's config files and build the gui version. Problem noted
by Juha Erkkila (with a diff, but I fixed the problems in a different way).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2011/08/24 19:29:24 naddy Exp $
a13 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM= Yes
PERMIT_DISTFILES_FTP=	Yes
d19 1
a19 1
NO_REGRESS=	Yes
@


1.28
log
@don't override CFLAGS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2011/07/08 22:11:48 jasper Exp $
d8 1
a8 1
REVISION=	0
d18 1
a18 1
WANTLIB=		c m
d24 5
a28 1
MAKE_FLAGS+=	CC="${CC}" prefix=${PREFIX}
d34 1
@


1.27
log
@- update to 16.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2011/04/15 21:10:27 jasper Exp $
d8 1
@


1.26
log
@- update to 16.9
- doesn't need groff
- tweak license

from gleydson soares
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2010/12/01 08:40:16 jasper Exp $
d5 1
a5 1
V=		16.9
d23 1
a23 1
ALL_TARGET=	nut
@


1.25
log
@- update nutdb to 16.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2010/10/18 16:57:47 espie Exp $
d5 1
a5 1
V=		16.0
d11 1
a11 1
# GPLv2
d16 1
a20 1
USE_GROFF =	Yes
d23 1
a23 1
ALL_TARGET=     nut
@


1.24
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/08/18 03:00:40 merdely Exp $
d5 1
a5 1
V=		15.7
@


1.23
log
@Update to 15.7.

From Daniel Dickman.
ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/07/24 15:35:40 naddy Exp $
d20 1
@


1.22
log
@switch to REVISION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/05/22 08:06:33 jasper Exp $
d5 3
a7 3
DISTNAME=	nut-14.4
PKGNAME=	nutdb-14.4
REVISION=	0
d25 6
@


1.21
log
@- remove mips64 workaround
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/02/09 12:23:59 jasper Exp $
d6 2
a7 1
PKGNAME=	nutdb-14.4p0
@


1.20
log
@- extend archtecture tests for mips64el

ok naddy@@ phessler@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2009/05/31 16:12:19 jasper Exp $
d6 1
a6 1
PKGNAME=	nutdb-14.4
a23 7

# gcc 3.3.5 internal compiler error
.if ${MACHINE_ARCH:Mmips64*}
EXTRA_CFLAGS=	-O0
.endif

MAKE_FLAGS+=	EXTRA_CFLAGS=${EXTRA_CFLAGS}
@


1.19
log
@- update nutdb to 14.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2009/04/02 13:24:30 jasper Exp $
d26 1
a26 1
.if ${MACHINE_ARCH} == "mips64"
@


1.18
log
@- update nutdb to 14.3

from benoit lecocq, with some tweaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2008/10/24 12:25:29 jasper Exp $
d5 2
a6 2
DISTNAME=	nut-14.3
PKGNAME=	nutdb-14.3
@


1.17
log
@- update nutdb to 14.0
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2008/09/22 08:13:28 jasper Exp $
d5 2
a6 2
DISTNAME=	nut-14.0
PKGNAME=	nutdb-14.0
@


1.16
log
@- update nutdb to 13.9
- update HOMEPAGE
- remove maintainer who has been inactive/unresponsive for years
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2008/04/11 09:15:49 jasper Exp $
d5 2
a6 2
DISTNAME=	nut-13.9
PKGNAME=	nutdb-13.9
@


1.15
log
@- update nutdb to 13.5

maintainer time-out.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2008/02/10 18:23:24 jasper Exp $
d5 2
a6 2
DISTNAME=	nut-13.5
PKGNAME=	nutdb-13.5
d8 1
a8 3
HOMEPAGE=	http://www.lafn.org/~av832/

MAINTAINER=	Jon Trembley <jon@@brain-box.net>
d30 1
a30 1
MAKE_FLAGS+=		EXTRA_CFLAGS=${EXTRA_CFLAGS}
@


1.14
log
@fix build on mips64.

no bump, because !mips64 packages didn't change, and mips64 didn't package.

ok mbalmer@@ (some time ago)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2007/06/11 21:02:40 jasper Exp $
d5 2
a6 2
DISTNAME=	nut-12.5
PKGNAME=	nutdb-12.5
d12 1
a12 1
# GPL
d19 1
a19 1
MASTER_SITES=	${HOMEPAGE}
@


1.13
log
@update nutdb to 12.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/05/17 10:52:25 espie Exp $
d26 7
@


1.12
log
@shorten comment
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/03/31 08:58:30 martynas Exp $
d3 1
a3 1
COMMENT=	"record and analyze your meals for nutrient composition"
d5 2
a6 2
DISTNAME=	nut-12.4
PKGNAME=	nutdb-12.4p0
@


1.11
log
@update to nutdb-12.4
ok steven@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2007/02/02 14:32:52 jasper Exp $
d3 1
a3 1
COMMENT=	"record what you eat and analyze your meals for nutrient composition"
d6 1
a6 1
PKGNAME=	nutdb-12.4
@


1.10
log
@update nutdb to 12.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2007/01/31 13:43:27 jasper Exp $
d5 2
a6 2
DISTNAME=	nut-12.3
PKGNAME=	nutdb-12.3
@


1.9
log
@fix PKGNAME, noticed by Stuart Henderson
regen patch while there.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2006/11/30 17:38:27 jasper Exp $
d5 2
a6 2
DISTNAME=	nut-12.0
PKGNAME=	nutdb-12.0
@


1.8
log
@update nutdb to 12.0
(no response from maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2005/11/01 17:18:15 bernd Exp $
d6 1
@


1.7
log
@- Fix some file modes here as well.
- update-patches while I'm here
- bump PKGNAME

ok niallo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2005/02/07 17:34:23 naddy Exp $
d5 1
a5 2
PKGNAME=	nutdb-10.15p0
DISTNAME=	nut-10.15
@


1.6
log
@update to 10.15; from maintainer Jon Trembley <jon@@brain-box.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2004/12/25 19:35:34 sturm Exp $
d5 1
a5 1
PKGNAME=	nutdb-10.15
@


1.5
log
@update to nutdb 10.12

new recipe-guess algorithm

from maintainer Jon Trembley <jon at brain-box.net>
@
text
@d1 1
a1 1
# $OpenBSD$
d5 2
a6 2
PKGNAME=	nutdb-10.12
DISTNAME=	nut-10.12
@


1.4
log
@Update to nutdb-10.11;
based on diff from MAINTAINER Jon Trembley <jon at brain-box dot net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2004/11/21 18:03:29 espie Exp $
d5 2
a6 2
PKGNAME=	nutdb-10.11
DISTNAME=	nut-10.11
d23 1
a23 1
ALL_TARGET= nut
@


1.3
log
@WANTLIB markers
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2004/10/31 17:41:49 pvalchev Exp $
d5 2
a6 2
PKGNAME=	nutdb-10.8
DISTNAME=	nut-10.8
@


1.2
log
@update to nutdb-10.8; from maintainer Jon Trembley
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2004/10/21 01:41:22 pvalchev Exp $
d17 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 2
a6 2
PKGNAME=	nutdb-10.7
DISTNAME=	nut-10.7
@


1.1.1.1
log
@Initial import of nutdb-10.7

NUT allows you to record what you eat and analyze your meals
for nutrient composition.  The database included is the USDA
Nutrient Database for Standard Reference, Release 17, which
contains 6,839 foods and 128 nutrients.

Maintainer: Jon Trembley <jon@@brain-box.net>
@
text
@@
