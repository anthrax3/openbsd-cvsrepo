head	1.13;
access;
symbols
	OPENBSD_6_1:1.13.0.8
	OPENBSD_6_1_BASE:1.13
	OPENBSD_6_0:1.13.0.6
	OPENBSD_6_0_BASE:1.13
	OPENBSD_5_9:1.13.0.2
	OPENBSD_5_9_BASE:1.13
	OPENBSD_5_8:1.13.0.4
	OPENBSD_5_8_BASE:1.13
	OPENBSD_5_7:1.12.0.14
	OPENBSD_5_7_BASE:1.12
	OPENBSD_5_6:1.12.0.12
	OPENBSD_5_6_BASE:1.12
	OPENBSD_5_5:1.12.0.10
	OPENBSD_5_5_BASE:1.12
	OPENBSD_5_4:1.12.0.8
	OPENBSD_5_4_BASE:1.12
	OPENBSD_5_3:1.12.0.6
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.12.0.4
	OPENBSD_5_2_BASE:1.12
	OPENBSD_5_1_BASE:1.12
	OPENBSD_5_1:1.12.0.2
	OPENBSD_5_0:1.11.0.2
	OPENBSD_5_0_BASE:1.11
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.7.0.2
	OPENBSD_4_8_BASE:1.7
	OPENBSD_4_7:1.6.0.4
	OPENBSD_4_7_BASE:1.6
	OPENBSD_4_6:1.6.0.2
	OPENBSD_4_6_BASE:1.6
	OPENBSD_4_5:1.4.0.6
	OPENBSD_4_5_BASE:1.4
	OPENBSD_4_4:1.4.0.4
	OPENBSD_4_4_BASE:1.4
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	OPENBSD_4_2:1.3.0.4
	OPENBSD_4_2_BASE:1.3
	OPENBSD_4_1:1.3.0.2
	OPENBSD_4_1_BASE:1.3
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2
	OPENBSD_3_8:1.1.1.1.0.4
	OPENBSD_3_8_BASE:1.1.1.1
	OPENBSD_3_7:1.1.1.1.0.2
	OPENBSD_3_7_BASE:1.1.1.1
	pvalchev_20041020:1.1.1.1
	pvalchev:1.1.1;
locks; strict;
comment	@# @;


1.13
date	2015.05.09.08.31.34;	author jasper;	state Exp;
branches;
next	1.12;
commitid	yBQueXzaEWBBp6pG;

1.12
date	2011.08.24.19.29.24;	author naddy;	state Exp;
branches;
next	1.11;

1.11
date	2011.07.08.22.11.48;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2011.04.15.21.10.27;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2010.12.01.08.40.16;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2010.08.18.03.00.40;	author merdely;	state Exp;
branches;
next	1.7;

1.7
date	2010.05.22.08.06.33;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2009.04.02.13.24.30;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2009.03.24.14.51.04;	author naddy;	state Exp;
branches;
next	1.4;

1.4
date	2008.02.10.18.23.24;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2006.11.30.17.38.27;	author jasper;	state Exp;
branches;
next	1.2;

1.2
date	2005.11.01.17.18.15;	author bernd;	state Exp;
branches;
next	1.1;

1.1
date	2004.10.21.01.41.22;	author pvalchev;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2004.10.21.01.41.22;	author pvalchev;	state Exp;
branches;
next	;


desc
@@


1.13
log
@update to nutdb-20.1
@
text
@$OpenBSD: patch-Makefile,v 1.12 2011/08/24 19:29:24 naddy Exp $
--- Makefile.orig	Sat May  9 10:10:14 2015
+++ Makefile	Sat May  9 10:10:51 2015
@@@@ -28,7 +28,7 @@@@ endif
 ifeq ($(OS),HP-UX)
 CFLAGS := $(OPT) -DNUTDIR=$(NUTDIR) -DFOODDIR=$(FOODDIR)
 else
-CFLAGS := $(OPT) -DNUTDIR=$(NUTDIR) -DFOODDIR=$(FOODDIR)
+CFLAGS += $(OPT) -DNUTDIR=$(NUTDIR) -DFOODDIR=$(FOODDIR)
 endif
 
 CXXFLAGS := $(CFLAGS) `fltk-config --cxxflags`
@


1.12
log
@don't override CFLAGS
@
text
@d1 9
a9 5
$OpenBSD: patch-Makefile,v 1.11 2011/07/08 22:11:48 jasper Exp $
--- Makefile.orig	Sun May 22 01:13:30 2011
+++ Makefile	Wed Aug 24 21:24:50 2011
@@@@ -24,7 +24,7 @@@@ else
 CC = gcc
d12 1
a12 5
-CFLAGS := -O -DNUTDIR=$(NUTDIR) -DFOODDIR=$(FOODDIR)
+CFLAGS += -DNUTDIR=$(NUTDIR) -DFOODDIR=$(FOODDIR)
 ifeq ($(CC),gcc)
 CFLAGS += -Wall -fno-inline -ansi
 endif
@


1.11
log
@- update to 16.12
@
text
@d1 3
a3 3
$OpenBSD$
--- Makefile.orig	Sat Jul  9 00:09:38 2011
+++ Makefile	Sat Jul  9 00:09:40 2011
d9 1
a9 1
+CFLAGS += -O -DNUTDIR=$(NUTDIR) -DFOODDIR=$(FOODDIR)
@


1.10
log
@- update to 16.9
- doesn't need groff
- tweak license

from gleydson soares
@
text
@d1 6
a6 14
$OpenBSD: patch-Makefile,v 1.9 2010/12/01 08:40:16 jasper Exp $
--- Makefile.orig	Fri Apr 15 15:18:03 2011
+++ Makefile	Fri Apr 15 15:19:40 2011
@@@@ -1,9 +1,9 @@@@
 NUTDIR := \".nutdb\"
-FOODDIR := \"/usr/local/lib/nut\"
+FOODDIR := \"${PREFIX}/lib/nutdb\"
 EXECUTABLE := nut
 LIBS := -lm
 
-CFLAGS := -Wall -O3 -fno-inline -DNUTDIR=$(NUTDIR) -DFOODDIR=$(FOODDIR) -ansi -pedantic 
+CFLAGS := -Wall -fno-inline -DNUTDIR=$(NUTDIR) -DFOODDIR=$(FOODDIR)
 
 CXXFLAGS := $(CFLAGS)
d8 5
@


1.9
log
@- update nutdb to 16.0
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.8 2010/08/18 03:00:40 merdely Exp $
--- Makefile.orig	Wed Dec  1 09:39:15 2010
+++ Makefile	Wed Dec  1 09:39:44 2010
d11 1
a11 1
-CFLAGS := -Wall -O2 -s -fno-inline -DNUTDIR=$(NUTDIR) -DFOODDIR=$(FOODDIR) -ansi -pedantic 
@


1.8
log
@Update to 15.7.

From Daniel Dickman.
ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.orig	Thu Jul  1 21:56:42 2010
+++ Makefile	Thu Jul 15 14:14:29 2010
@@@@ -1,11 +1,11 @@@@
d11 1
a11 1
-CFLAGS := -Wall -O2 -s -fno-inline -DNUTDIR=$(NUTDIR) -DFOODDIR=$(FOODDIR)
d14 1
a14 2
-CXXFLAGS := -Wall -O2 -s
+CXXFLAGS := -Wall
a15 2
 SOURCE := $(wildcard *.c) $(wildcard *.cc)
 OBJS := $(patsubst %.c,%.o,$(patsubst %.cc,%.o,$(SOURCE)))
@


1.7
log
@- remove mips64 workaround
@
text
@d1 9
a9 5
$OpenBSD: patch-Makefile,v 1.6 2009/04/02 13:24:30 jasper Exp $
--- Makefile.orig	Sat May 22 10:06:07 2010
+++ Makefile	Sat May 22 10:06:10 2010
@@@@ -1,9 +1,9 @@@@
 objects := $(patsubst %.c,%.o,$(wildcard *.c))
d11 2
a12 2
-CFLAGS= -Os -s -Wall -DNUTDIR=\".nutdb\" -DFOODDIR=\"/usr/local/lib/nut\" -ansi -pedantic
+CFLAGS+= -Wall -pedantic -ansi -DNUTDIR=\".nutdb\" -DFOODDIR=\"$(PREFIX)/lib/nutdb\"
d14 2
a15 3
 nut:	$(objects)
-	$(CC) ${CFLAGS} -o nut $(LDFLAGS) $(objects) -lm
+	$(CC) ${CFLAGS} -o nut $(objects) -lm
d17 2
a18 12
 deps:
 	makedepend *.c
@@@@ -11,4 +11,8 @@@@ deps:
 clean:
 	rm -f *.o nut preprocess/*.o preprocess/dbjw
 
-# DO NOT DELETE
+install:
+	mkdir $(PREFIX)/lib/nutdb/
+	${BSD_INSTALL_PROGRAM} nut $(PREFIX)/bin/nutdb
+	${BSD_INSTALL_MAN} nut.1 $(PREFIX)/man/man1/nutdb.1
+	${BSD_INSTALL_DATA} raw.data/* $(PREFIX)/lib/nutdb/
@


1.6
log
@- update nutdb to 14.3

from benoit lecocq, with some tweaks
@
text
@d1 4
a4 4
$OpenBSD: patch-Makefile,v 1.5 2009/03/24 14:51:04 naddy Exp $
--- Makefile.orig	Mon Dec 29 17:34:19 2008
+++ Makefile	Thu Apr  2 15:23:45 2009
@@@@ -1,14 +1,24 @@@@
a13 6
+anameal.o: anameal.c
+	${CC} ${CFLAGS} $(EXTRA_CFLAGS) -c $< -o $@@
+
+food.o: food.c
+	${CC} ${CFLAGS} $(EXTRA_CFLAGS) -c $< -o $@@
+
d16 1
a16 1
 
@


1.5
log
@fix link order for static linking
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.4 2008/02/10 18:23:24 jasper Exp $
--- Makefile.orig	Mon Aug 25 22:11:23 2008
+++ Makefile	Tue Mar 24 15:50:10 2009
d11 2
a12 2
-	gcc ${CFLAGS} -lm -o nut $(objects)
+	${CC} ${CFLAGS} -o nut $(objects) -lm
@


1.4
log
@fix build on mips64.

no bump, because !mips64 packages didn't change, and mips64 didn't package.

ok mbalmer@@ (some time ago)
@
text
@d1 3
a3 3
$OpenBSD: patch-Makefile,v 1.3 2006/11/30 17:38:27 jasper Exp $
--- Makefile.orig	Mon Jan 29 06:06:37 2007
+++ Makefile	Wed Jan 30 07:14:50 2008
d12 1
a12 1
+	${CC} ${CFLAGS} -lm -o nut $(objects)
@


1.3
log
@update nutdb to 12.0
(no response from maintainer)
@
text
@d1 4
a4 4
$OpenBSD$
--- Makefile.orig	Fri Sep  1 01:45:53 2006
+++ Makefile	Sun Nov 26 19:54:27 2006
@@@@ -1,9 +1,9 @@@@
d14 6
d22 1
a22 1
@@@@ -11,4 +11,8 @@@@ deps:
@


1.2
log
@- Fix some file modes here as well.
- update-patches while I'm here
- bump PKGNAME

ok niallo@@
@
text
@d1 4
a4 3
--- Makefile.orig	Sat Dec 11 01:08:13 2004
+++ Makefile	Tue Nov  1 17:39:44 2005
@@@@ -1,15 +1,18 @@@@
d7 1
a7 1
-CFLAGS= -O3 -Wall -pedantic -ansi -DNUTDIR=\".nutdb\" -DFOODDIR=\"/usr/local/lib/nut\"
a11 2
-	strip nut
-
d13 1
a13 1
+	# strip nut
d16 1
a16 1
 
@


1.1
log
@Initial revision
@
text
@d1 2
a2 2
--- Makefile.orig	Tue Oct 19 11:28:46 2004
+++ Makefile	Tue Oct 19 11:32:01 2004
d24 3
a26 3
+	install -m 755 nut $(PREFIX)/bin/nutdb
+	install -m 644 nut.1 $(PREFIX)/man/man1/nutdb.1
+	mv raw.data/* $(PREFIX)/lib/nutdb/
@


1.1.1.1
log
@Initial import of nutdb-10.7

NUT allows you to record what you eat and analyze your meals
for nutrient composition.  The database included is the USDA
Nutrient Database for Standard Reference, Release 17, which
contains 6,839 foods and 128 nutrients.

Maintainer: Jon Trembley <jon@@brain-box.net>
@
text
@@
