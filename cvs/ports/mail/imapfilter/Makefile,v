head	1.22;
access;
symbols
	OPENBSD_6_2:1.22.0.6
	OPENBSD_6_2_BASE:1.22
	OPENBSD_6_1:1.22.0.4
	OPENBSD_6_1_BASE:1.22
	OPENBSD_6_0:1.22.0.2
	OPENBSD_6_0_BASE:1.22
	OPENBSD_5_9:1.21.0.2
	OPENBSD_5_9_BASE:1.21
	OPENBSD_5_8:1.17.0.4
	OPENBSD_5_8_BASE:1.17
	OPENBSD_5_7:1.14.0.2
	OPENBSD_5_7_BASE:1.14
	OPENBSD_5_6:1.13.0.6
	OPENBSD_5_6_BASE:1.13
	OPENBSD_5_5:1.13.0.4
	OPENBSD_5_5_BASE:1.13
	OPENBSD_5_4:1.13.0.2
	OPENBSD_5_4_BASE:1.13
	OPENBSD_5_3:1.12.0.2
	OPENBSD_5_3_BASE:1.12
	OPENBSD_5_2:1.11.0.2
	OPENBSD_5_2_BASE:1.11
	OPENBSD_5_1_BASE:1.9
	OPENBSD_5_1:1.9.0.4
	OPENBSD_5_0:1.9.0.2
	OPENBSD_5_0_BASE:1.9
	OPENBSD_4_9:1.8.0.2
	OPENBSD_4_9_BASE:1.8
	OPENBSD_4_8:1.5.0.10
	OPENBSD_4_8_BASE:1.5
	OPENBSD_4_7:1.5.0.8
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.5.0.6
	OPENBSD_4_6_BASE:1.5
	OPENBSD_4_5:1.5.0.4
	OPENBSD_4_5_BASE:1.5
	OPENBSD_4_4:1.5.0.2
	OPENBSD_4_4_BASE:1.5
	OPENBSD_4_3:1.4.0.2
	OPENBSD_4_3_BASE:1.4
	simon_20070902:1.1.1.1
	simon:1.1.1;
locks; strict;
comment	@# @;


1.22
date	2016.03.01.05.18.57;	author mmcc;	state Exp;
branches;
next	1.21;
commitid	1zAe5O40N5nHsXJO;

1.21
date	2016.01.22.00.51.24;	author mmcc;	state Exp;
branches;
next	1.20;
commitid	uCQPXRu4kW7qULEz;

1.20
date	2016.01.07.17.33.38;	author mmcc;	state Exp;
branches;
next	1.19;
commitid	5JQzPISdIHVRY7CN;

1.19
date	2015.11.07.01.18.17;	author mmcc;	state Exp;
branches;
next	1.18;
commitid	k4s1qu1MkjrRYvHc;

1.18
date	2015.11.04.17.51.18;	author jca;	state Exp;
branches;
next	1.17;
commitid	HOxenDySmscXBqRF;

1.17
date	2015.07.18.23.11.01;	author sthen;	state Exp;
branches
	1.17.4.1;
next	1.16;
commitid	OWgOG5vrAxUuG0nK;

1.16
date	2015.06.29.09.52.25;	author ajacoutot;	state Exp;
branches;
next	1.15;
commitid	fpSFB3XsLN5Nb6cI;

1.15
date	2015.06.18.13.19.38;	author ajacoutot;	state Exp;
branches;
next	1.14;
commitid	PMxPcgAhyY6VIHL4;

1.14
date	2015.02.16.22.57.09;	author naddy;	state Exp;
branches;
next	1.13;
commitid	0dx3c9ckf7dE4tx1;

1.13
date	2013.03.11.11.23.51;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2012.09.19.08.15.09;	author jasper;	state Exp;
branches;
next	1.11;

1.11
date	2012.07.10.15.22.45;	author jasper;	state Exp;
branches;
next	1.10;

1.10
date	2012.05.15.18.28.36;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2011.07.09.12.53.52;	author dcoppa;	state Exp;
branches;
next	1.8;

1.8
date	2010.11.19.07.23.06;	author espie;	state Exp;
branches;
next	1.7;

1.7
date	2010.11.11.10.54.02;	author espie;	state Exp;
branches;
next	1.6;

1.6
date	2010.10.18.19.59.16;	author espie;	state Exp;
branches;
next	1.5;

1.5
date	2008.07.06.22.05.09;	author simon;	state Exp;
branches;
next	1.4;

1.4
date	2008.02.07.23.40.38;	author simon;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.16.19.22.07;	author simon;	state Exp;
branches;
next	1.2;

1.2
date	2007.10.05.15.09.19;	author simon;	state Exp;
branches;
next	1.1;

1.1
date	2007.09.02.18.35.22;	author simon;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.09.02.18.35.22;	author simon;	state Exp;
branches;
next	;

1.17.4.1
date	2015.11.27.01.53.02;	author mmcc;	state Exp;
branches;
next	;
commitid	HjXJLLZhIhNLSBR0;


desc
@@


1.22
log
@update to mail/imapfilter 2.6.6

ok jturner@@
@
text
@# $OpenBSD: Makefile,v 1.21 2016/01/22 00:51:24 mmcc Exp $

COMMENT=		remote IMAP filtering utility

V=			2.6.6
DISTNAME=		imapfilter-${V}

GH_TAGNAME=		v${V}
GH_ACCOUNT=		lefcha
GH_PROJECT=		imapfilter

CATEGORIES=		mail

MAINTAINER=		Michael McConville <mmcco@@mykolab.com>

# MIT/X
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c crypto m ssl pcre ${MODLUA_WANTLIB}

MODULES=		lang/lua
MODLUA_SA=		Yes

LIB_DEPENDS=		devel/pcre \
			${MODLUA_LIB_DEPENDS}

MAKE_FLAGS=		CC="${CC}" \
			PREFIX="${TRUEPREFIX}" \
			LIBLUA="${MODLUA_LIB}" \
			MYCFLAGS="${CFLAGS} -I${LOCALBASE}/include -I${MODLUA_INCL_DIR}" \
			MYLDFLAGS="-L${LOCALBASE}/lib"

NO_TEST=		Yes

pre-configure:
	perl -pi -e 's,-ldl,,' ${WRKSRC}/src/Makefile

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/examples/imapfilter
	${INSTALL_DATA} ${WRKSRC}/samples/*.lua \
		${PREFIX}/share/examples/imapfilter/

.include <bsd.port.mk>
@


1.21
log
@update to imapfilter 2.6.5

ok juanfra@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2016/01/07 17:33:38 mmcc Exp $
d5 1
a5 1
V=			2.6.5
@


1.20
log
@update to Imapfilter 2.6.4

ok and with input from jung@@, sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2015/11/07 01:18:17 mmcc Exp $
d5 1
a5 1
V=			2.6.4
@


1.19
log
@Add myself as maintainer, bump revision.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2015/11/04 17:51:18 jca Exp $
d5 1
a5 1
V=			2.6.3
a6 1
REVISION=		0
d28 1
@


1.18
log
@Update to imapfilter-2.6.3, adapt SSLv3 patches.

Initial diff from mmcc@@, ok mpi@@ sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/07/18 23:11:01 sthen Exp $
d7 1
d14 2
@


1.17
log
@fix path to the cert store, from Michael McConville
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2015/06/29 09:52:25 ajacoutot Exp $
d5 1
a5 2
V=			2.6.1
REVISION=		0
@


1.17.4.1
log
@Update from 2.6.1 to 2.6.3. This fixes a bug that makes cert mismatches
non-fatal:

https://github.com/lefcha/imapfilter/commit/0526dee062c28257a14f2ed7afca49a9a384e4aa

Also fixes the system cert location bug.   ok jca@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2015/07/18 23:11:01 sthen Exp $
d5 2
a6 1
V=			2.6.3
@


1.16
log
@Update to imapfilter-2.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2015/06/18 13:19:38 ajacoutot Exp $
d6 1
@


1.15
log
@Update to imapfilter-2.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2015/02/16 22:57:09 naddy Exp $
d5 1
a5 1
V=			2.6
@


1.14
log
@Drop USE_GROFF from ports where the formatting differences are acceptable
or mandoc provides the more useful output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2013/03/11 11:23:51 espie Exp $
d3 1
a3 1
COMMENT=	remote IMAP filtering utility
d5 2
a6 3
DISTNAME=	imapfilter-2.2.3
REVISION=	2
CATEGORIES=	mail
d8 3
a10 1
HOMEPAGE=	http://imapfilter.hellug.gr/
d12 1
a12 4
MASTER_SITES=	http://spacehopper.org/mirrors/ \
		https://github.com/downloads/lefcha/imapfilter/

MAINTAINER=	Simon Bertrang <simon@@openbsd.org>
d17 1
a17 1
WANTLIB=	c crypto m ssl pcre ${MODLUA_WANTLIB}
d19 2
a20 2
MODULES=	lang/lua
MODLUA_SA=	Yes
d22 2
a23 2
LIB_DEPENDS=	devel/pcre \
		${MODLUA_LIB_DEPENDS}
d25 4
a28 7
CONFIGURE_STYLE=simple
CONFIGURE_ARGS=	-p ${PREFIX} \
		-b ${PREFIX}/bin \
		-s ${PREFIX}/share/imapfilter \
		-m ${PREFIX}/man \
		-o ssltls=yes -o crammd5=yes
MAKE_ENV+=	CC="${CC}"
d30 1
a30 1
NO_TEST=	Yes
d33 1
a33 1
	${SUBST_CMD} ${WRKSRC}/configure
d37 1
a37 1
	${INSTALL_DATA} ${WRKSRC}/samples/{config,extend}.lua \
@


1.13
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2012/09/19 08:15:09 jasper Exp $
a33 1
USE_GROFF =	Yes
@


1.12
log
@sync after recent lua.port.mk change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2012/07/10 15:22:45 jasper Exp $
a17 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d36 1
a36 1
NO_REGRESS=	Yes
@


1.11
log
@handle multiple lua versions, for now everything builds with the "old" 5.1 in the new location.
use FLAVOR=lua52 to use lua 5.2 with these ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2012/05/15 18:28:36 jasper Exp $
d6 1
a6 1
REVISION=	1
@


1.10
log
@various lua tweaks
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2011/07/09 12:53:52 dcoppa Exp $
d6 1
a6 1
REVISION=	0
d25 1
d40 3
@


1.9
log
@Update to imapfilter-2.2.3

ok simon@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2010/11/19 07:23:06 espie Exp $
d6 1
d22 3
a24 1
WANTLIB=	c crypto m ssl pcre lua
d27 1
a27 1
		lang/lua
@


1.8
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2010/11/11 10:54:02 espie Exp $
d5 1
a5 1
DISTNAME=	imapfilter-2.0.10
d10 2
a11 1
MASTER_SITES=	${HOMEPAGE}source/
d39 2
a40 2
	${INSTALL_DATA} ${WRKSRC}/sample.{config,extend}.lua \
		${PREFIX}/share/examples/imapfilter
@


1.7
log
@a few email WANTLIBs
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2010/10/18 19:59:16 espie Exp $
d22 2
a23 2
LIB_DEPENDS=	::devel/pcre \
		::lang/lua
@


1.6
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2008/07/06 22:05:09 simon Exp $
d20 1
a20 1
WANTLIB=	c crypto m ssl
d22 2
a23 2
LIB_DEPENDS=	pcre::devel/pcre \
		lua::lang/lua
@


1.5
log
@maintenance update to version 2.0.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2008/02/07 23:40:38 simon Exp $
d32 1
@


1.4
log
@maintenance update to version 2.0.9 and fix build on alpha

alpha fix from merdely@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/11/16 19:22:07 simon Exp $
d5 1
a5 1
DISTNAME=	imapfilter-2.0.9
@


1.3
log
@update to version 2.0.6

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/10/05 15:09:19 simon Exp $
d5 1
a5 1
DISTNAME=	imapfilter-2.0.6
d19 1
@


1.2
log
@update to version 2.0.5

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/09/02 18:35:22 simon Exp $
d5 1
a5 1
DISTNAME=	imapfilter-2.0.5
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
DISTNAME=	imapfilter-2.0.3
d25 4
a28 5
CONFIGURE_ARGS=	-d ${WRKINST} \
		-p ${LOCALBASE} \
		-b ${LOCALBASE}/bin \
		-s ${LOCALBASE}/share/imapfilter \
		-m ${LOCALBASE}/man \
@


1.1.1.1
log
@import imapfilter

IMAPFilter is a mail filtering utility.  It connects to remote mail
servers using the Internet Message Access Protocol (IMAP), sends
searching queries to the server and processes mailboxes based on the
results.  It can be used to delete, copy, move, flag, etc. messages
residing in mailboxes at the same or different mail servers.  The 4rev1
and 4 versions of the IMAP protocol are supported.

IMAPFilter uses the Lua programming language as a configuration and
extension language.

feedback & ok kili@@
@
text
@@
