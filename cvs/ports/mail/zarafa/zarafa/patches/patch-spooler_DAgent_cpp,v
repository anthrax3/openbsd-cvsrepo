head	1.31;
access;
symbols
	OPENBSD_6_0:1.29.0.2
	OPENBSD_6_0_BASE:1.29
	OPENBSD_5_9:1.27.0.2
	OPENBSD_5_9_BASE:1.27
	OPENBSD_5_8:1.26.0.4
	OPENBSD_5_8_BASE:1.26
	OPENBSD_5_7:1.25.0.2
	OPENBSD_5_7_BASE:1.25
	OPENBSD_5_6:1.23.0.2
	OPENBSD_5_6_BASE:1.23
	OPENBSD_5_5:1.22.0.2
	OPENBSD_5_5_BASE:1.22
	OPENBSD_5_4:1.21.0.4
	OPENBSD_5_4_BASE:1.21
	OPENBSD_5_3:1.21.0.2
	OPENBSD_5_3_BASE:1.21
	OPENBSD_5_2:1.20.0.2
	OPENBSD_5_2_BASE:1.20
	OPENBSD_5_1_BASE:1.19
	OPENBSD_5_1:1.19.0.2
	OPENBSD_5_0:1.15.0.2
	OPENBSD_5_0_BASE:1.15
	OPENBSD_4_9:1.11.0.2
	OPENBSD_4_9_BASE:1.11
	OPENBSD_4_8:1.8.0.2
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.5.0.2
	OPENBSD_4_7_BASE:1.5
	OPENBSD_4_6:1.1.1.1.0.4
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	ajacoutot_20090216:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.31
date	2016.09.04.14.52.38;	author robert;	state Exp;
branches;
next	1.30;
commitid	052GCoZR7Wemq90I;

1.30
date	2016.08.12.08.09.05;	author robert;	state Exp;
branches;
next	1.29;
commitid	h1dsiXvKWTmkvlUk;

1.29
date	2016.04.20.18.38.41;	author robert;	state Exp;
branches;
next	1.28;
commitid	KBMzdBVp21qnBq3j;

1.28
date	2016.04.01.18.08.10;	author robert;	state Exp;
branches;
next	1.27;
commitid	YBIXgHFu7xINW8BP;

1.27
date	2015.11.02.11.06.34;	author robert;	state Exp;
branches;
next	1.26;
commitid	19wAgXlT9RhqpZjX;

1.26
date	2015.04.05.22.25.08;	author robert;	state Exp;
branches;
next	1.25;
commitid	j25w8UqbNvnTFexL;

1.25
date	2015.02.20.14.44.42;	author robert;	state Exp;
branches;
next	1.24;
commitid	zzDhq4ncH2gfrS8T;

1.24
date	2014.09.02.11.09.38;	author robert;	state Exp;
branches;
next	1.23;
commitid	BtGLGhiodpDgnVXA;

1.23
date	2014.04.07.13.46.06;	author robert;	state Exp;
branches;
next	1.22;

1.22
date	2013.11.01.11.20.20;	author robert;	state Exp;
branches;
next	1.21;

1.21
date	2012.08.30.14.28.22;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2012.03.15.17.04.31;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2011.12.22.17.10.04;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2011.11.17.15.14.37;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.09.29.17.12.11;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.08.16.15.01.17;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2011.06.10.15.55.00;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.06.02.12.46.37;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2011.05.19.17.18.19;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2011.03.11.08.44.44;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2010.10.27.18.26.17;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2010.08.31.17.57.21;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2010.08.22.10.13.27;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2010.06.30.02.46.48;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.04.22.10.06.18;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2010.03.21.11.15.20;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2010.01.09.14.03.25;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.12.16.18.39.11;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.10.20.22.34.26;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.09.27.13.57.30;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.02.16.09.44.37;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.02.16.09.44.37;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.31
log
@fix shebang in zarafa-cachestat.py and use SUBST_CMD for /usr/local
as well
@
text
@$OpenBSD: patch-spooler_DAgent_cpp,v 1.30 2016/08/12 08:09:05 robert Exp $
--- spooler/DAgent.cpp.orig	Mon Jul 18 23:19:27 2016
+++ spooler/DAgent.cpp	Mon Aug  8 09:18:50 2016
@@@@ -69,6 +69,11 @@@@
 #include <pwd.h>
 #endif
 
+#ifdef __OpenBSD__
+#include <sys/resource.h>
+extern char **environ;
+#endif
+
 #include "spmain.h"
 #include "TmpPath.h"
 
@@@@ -1727,12 +1732,18 @@@@ static HRESULT SendOutOfOffice(LPADRBOOK lpAdrBook, LP
 	}
 
 	{
+#ifndef __OpenBSD__
 		locale_t timelocale = createlocale(LC_TIME, "C");
+#endif
 		time_t now = time(NULL);
 		tm local;
 		localtime_r(&now, &local);
+#ifndef __OpenBSD__
 		strftime_l(szHeader, PATH_MAX, "\nDate: %a, %d %b %Y %T %z", &local, timelocale);
 		freelocale(timelocale);
+#else
+		strftime(szHeader, PATH_MAX, "\nDate: %a, %d %b %Y %T %z", &local);
+#endif
 	}
 
 	if (WriteOrLogError(fd, szHeader, strlen(szHeader)) != hrSuccess) {
@@@@ -3990,7 +4001,7 @@@@ int main(int argc, char *argv[]) {
 
 	DeliveryArgs sDeliveryArgs;
 	sDeliveryArgs.strPath = "";
-	sDeliveryArgs.strAutorespond = "/usr/sbin/zarafa-autorespond";
+	sDeliveryArgs.strAutorespond = "${PREFIX}/sbin/zarafa-autorespond";
 	sDeliveryArgs.bCreateFolder = false;
 	sDeliveryArgs.strDeliveryFolder.clear();
 	sDeliveryArgs.szPathSeperator = '\\';
@@@@ -4046,8 +4057,8 @@@@ int main(int argc, char *argv[]) {
 		{ "server_bind", "" },
 		{ "server_bind_intf", "" },
 #ifdef LINUX
-		{ "run_as_user", "zarafa" },
-		{ "run_as_group", "zarafa" },
+		{ "run_as_user", "_zarafa" },
+		{ "run_as_group", "_zarafa" },
 		{ "pid_file", "/var/run/zarafad/dagent.pid" },
 		{ "coredump_enabled", "no" },
 #endif
@@@@ -4067,11 +4078,11 @@@@ int main(int argc, char *argv[]) {
 		{ "log_raw_message", "no", CONFIGSETTING_RELOADABLE },
 		{ "log_raw_message_path", "/tmp", CONFIGSETTING_RELOADABLE },
 		{ "archive_on_delivery", "no", CONFIGSETTING_RELOADABLE },
-		{ "mr_autoaccepter", "/usr/sbin/zarafa-mr-accept", CONFIGSETTING_RELOADABLE },
-		{ "mr_autoprocessor", "/usr/sbin/zarafa-mr-process", CONFIGSETTING_RELOADABLE },
+		{ "mr_autoaccepter", "${PREFIX}/sbin/zarafa-mr-accept", CONFIGSETTING_RELOADABLE },
+		{ "mr_autoprocessor", "${PREFIX}/sbin/zarafa-mr-process", CONFIGSETTING_RELOADABLE },
 		{ "plugin_enabled", "yes" },
-		{ "plugin_path", "/var/lib/zarafa/dagent/plugins" },
-		{ "plugin_manager_path", "/usr/share/zarafa-dagent/python" },
+		{ "plugin_path", "${LOCALSTATEDIR}/db/zarafa/dagent/plugins" },
+		{ "plugin_manager_path", "${PREFIX}/share/zarafa-dagent/python" },
 		{ "default_charset", "iso-8859-15" },
 		{ "set_rule_headers", "yes", CONFIGSETTING_RELOADABLE },
 		{ "no_double_forward", "no", CONFIGSETTING_RELOADABLE },
@


1.30
log
@update to 7.2.4.29
@
text
@d1 1
a1 1
$OpenBSD: patch-spooler_DAgent_cpp,v 1.29 2016/04/20 18:38:41 robert Exp $
d40 1
a40 1
+	sDeliveryArgs.strAutorespond = "/usr/local/sbin/zarafa-autorespond";
d61 2
a62 2
+		{ "mr_autoaccepter", "/usr/local/sbin/zarafa-mr-accept", CONFIGSETTING_RELOADABLE },
+		{ "mr_autoprocessor", "/usr/local/sbin/zarafa-mr-process", CONFIGSETTING_RELOADABLE },
d66 2
a67 2
+		{ "plugin_path", "/var/db/zarafa/dagent/plugins" },
+		{ "plugin_manager_path", "/usr/local/share/zarafa-dagent/python" },
@


1.29
log
@update to 7.2.3
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.28 2016/04/01 18:08:10 robert Exp $
--- spooler/DAgent.cpp.orig	Wed Apr 20 13:13:54 2016
+++ spooler/DAgent.cpp	Wed Apr 20 19:54:13 2016
d35 1
a35 1
@@@@ -3989,7 +4000,7 @@@@ int main(int argc, char *argv[]) {
d44 1
a44 1
@@@@ -4045,8 +4056,8 @@@@ int main(int argc, char *argv[]) {
d55 1
a55 1
@@@@ -4066,11 +4077,11 @@@@ int main(int argc, char *argv[]) {
@


1.28
log
@update to 7.2.2
@
text
@d1 4
a4 4
$OpenBSD$
--- spooler/DAgent.cpp.orig	Wed Mar 23 12:14:33 2016
+++ spooler/DAgent.cpp	Fri Apr  1 13:29:37 2016
@@@@ -94,6 +94,11 @@@@
d16 1
a16 1
@@@@ -1748,12 +1753,18 @@@@ static HRESULT SendOutOfOffice(LPADRBOOK lpAdrBook, LP
d35 1
a35 1
@@@@ -3998,7 +4009,7 @@@@ int main(int argc, char *argv[]) {
d44 1
a44 1
@@@@ -4054,8 +4065,8 @@@@ int main(int argc, char *argv[]) {
d55 1
a55 1
@@@@ -4075,11 +4086,11 @@@@ int main(int argc, char *argv[]) {
@


1.27
log
@update to 7.2.1
@
text
@d2 3
a4 4
--- spooler/DAgent.cpp.orig	Thu Aug 20 13:00:51 2015
+++ spooler/DAgent.cpp	Thu Aug 20 13:02:20 2015
@@@@ -91,6 +91,11 @@@@
 #include <sys/mman.h>
d6 1
d16 1
a16 1
@@@@ -1703,12 +1708,18 @@@@ static HRESULT SendOutOfOffice(LPADRBOOK lpAdrBook, LP
d35 1
a35 1
@@@@ -3920,7 +3931,7 @@@@ int main(int argc, char *argv[]) {
d44 12
a55 1
@@@@ -3986,10 +3997,10 @@@@ int main(int argc, char *argv[]) {
d60 1
d62 1
@


1.26
log
@update to 7.2.0
@
text
@d1 4
a4 4
$OpenBSD: patch-spooler_DAgent_cpp,v 1.25 2015/02/20 14:44:42 robert Exp $
--- spooler/DAgent.cpp.orig	Thu Mar  5 16:54:04 2015
+++ spooler/DAgent.cpp	Fri Apr  3 23:11:10 2015
@@@@ -92,6 +92,11 @@@@
d13 4
a16 4
 /*
   This is actually from sysexits.h
   but since those windows lamers don't have it ..
@@@@ -1664,12 +1669,18 @@@@ HRESULT SendOutOfOffice(LPADRBOOK lpAdrBook, LPMDB lpM
d35 1
a35 1
@@@@ -3763,7 +3774,7 @@@@ int main(int argc, char *argv[]) {
d39 2
a40 2
-	sDeliveryArgs.strAutorespond = "/usr/bin/zarafa-autorespond";
+	sDeliveryArgs.strAutorespond = "/usr/local/bin/zarafa-autorespond";
d44 1
a44 1
@@@@ -3828,10 +3839,10 @@@@ int main(int argc, char *argv[]) {
d48 2
a49 2
-		{ "mr_autoaccepter", "/usr/bin/zarafa-mr-accept", CONFIGSETTING_RELOADABLE },
+		{ "mr_autoaccepter", "/usr/local/bin/zarafa-mr-accept", CONFIGSETTING_RELOADABLE },
@


1.25
log
@fix path to zarafa-autorespond
@
text
@d1 4
a4 4
$OpenBSD: patch-spooler_DAgent_cpp,v 1.24 2014/09/02 11:09:38 robert Exp $
--- spooler/DAgent.cpp.orig	Sun Aug 24 04:27:06 2014
+++ spooler/DAgent.cpp	Fri Feb 20 07:38:20 2015
@@@@ -97,6 +97,11 @@@@
d16 2
a17 2
@@@@ -1488,12 +1493,18 @@@@ HRESULT SendOutOfOffice(LPADRBOOK lpAdrBook, LPMDB lpM
 		goto exit;
d33 3
a35 3
 	if (WriteOrLogError(fd, szHeader, strlen(szHeader)) != hrSuccess)
 		goto exit;
@@@@ -3462,7 +3473,7 @@@@ int main(int argc, char *argv[]) {
d44 1
a44 1
@@@@ -3527,10 +3538,10 @@@@ int main(int argc, char *argv[]) {
@


1.24
log
@update to 7.1.11
@
text
@d1 3
a3 3
$OpenBSD$
--- spooler/DAgent.cpp.orig	Sun Aug 24 12:27:06 2014
+++ spooler/DAgent.cpp	Mon Sep  1 20:07:29 2014
d35 9
@


1.23
log
@update to 7.1.9
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.22 2013/11/01 11:20:20 robert Exp $
--- spooler/DAgent.cpp.orig	Mon Mar 31 13:45:38 2014
+++ spooler/DAgent.cpp	Sun Apr  6 20:54:38 2014
d16 1
a16 1
@@@@ -1488,12 +1493,21 @@@@ HRESULT SendOutOfOffice(LPADRBOOK lpAdrBook, LPMDB lpM
d28 1
a31 4
+
+#ifndef __OpenBSD__
 		freelocale(timelocale);
+#endif
d35 1
a35 10
@@@@ -3462,7 +3476,7 @@@@ int main(int argc, char *argv[]) {
 
 	DeliveryArgs sDeliveryArgs;
 	sDeliveryArgs.strPath = "";
-	sDeliveryArgs.strAutorespond = "/usr/bin/zarafa-autorespond";
+	sDeliveryArgs.strAutorespond = "/usr/local/bin/zarafa-autorespond";
 	sDeliveryArgs.bCreateFolder = false;
 	sDeliveryArgs.strDeliveryFolder.clear();
 	sDeliveryArgs.szPathSeperator = '\\';
@@@@ -3527,10 +3541,10 @@@@ int main(int argc, char *argv[]) {
d46 1
a48 1
 		{ NULL, NULL },
@


1.22
log
@update to 7.1.7
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.21 2012/08/30 14:28:22 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Sat Sep 28 00:58:29 2013
+++ spooler/DAgent.cpp	Wed Oct 30 14:32:59 2013
d16 23
a38 1
@@@@ -3412,7 +3417,7 @@@@ int main(int argc, char *argv[]) {
d43 1
a43 1
+	sDeliveryArgs.strAutorespond = "${PREFIX}/bin/zarafa-autorespond";
d47 1
a47 1
@@@@ -3476,10 +3481,10 @@@@ int main(int argc, char *argv[]) {
d52 1
a52 1
+		{ "mr_autoaccepter", "${PREFIX}/bin/zarafa-mr-accept", CONFIGSETTING_RELOADABLE },
d57 1
a57 1
+		{ "plugin_manager_path", "${PREFIX}/share/zarafa-dagent/python" },
@


1.21
log
@Major update to zarafa-7.1.0.
Complete ChangeLog available at:
http://download.zarafa.com/community/final/7.1/final-changelog-7.1.txt
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.20 2012/03/15 17:04:31 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Wed Aug  8 17:14:59 2012
+++ spooler/DAgent.cpp	Mon Aug 27 10:27:05 2012
d16 1
a16 1
@@@@ -3375,7 +3380,7 @@@@ int main(int argc, char *argv[]) {
d25 1
a25 1
@@@@ -3437,10 +3442,10 @@@@ int main(int argc, char *argv[]) {
d37 1
a38 1
 	};
@


1.20
log
@Update to zarafa-7.0.6.
More details at:
http://download.zarafa.com/community/final/7.0/final-changelog-7.0.txt
@
text
@d1 4
a4 4
$OpenBSD: patch-spooler_DAgent_cpp,v 1.19 2011/12/22 17:10:04 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Tue Mar 13 16:43:36 2012
+++ spooler/DAgent.cpp	Thu Mar 15 16:42:28 2012
@@@@ -92,6 +92,11 @@@@
d16 1
a16 1
@@@@ -3302,7 +3307,7 @@@@ int main(int argc, char *argv[]) {
d25 14
@


1.19
log
@Update to zarafa-7.0.4.
Details changelog available at:
http://download.zarafa.com/community/final/7.0/final-changelog-7.0.txt
@
text
@d1 4
a4 4
$OpenBSD: patch-spooler_DAgent_cpp,v 1.18 2011/11/17 15:14:37 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Thu Dec 22 01:02:35 2011
+++ spooler/DAgent.cpp	Thu Dec 22 12:14:20 2011
@@@@ -91,6 +91,11 @@@@
d16 1
a16 1
@@@@ -3291,7 +3296,7 @@@@ int main(int argc, char *argv[]) {
@


1.18
log
@Update to zarafa-7.0.3.
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.17 2011/09/29 17:12:11 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Thu Nov 17 03:03:22 2011
+++ spooler/DAgent.cpp	Thu Nov 17 14:52:18 2011
d16 1
a16 1
@@@@ -3283,7 +3288,7 @@@@ int main(int argc, char *argv[]) {
@


1.17
log
@Update to zarafa-7.0.2.
Details at:
http://download.zarafa.com/community/final/7.0/final-changelog-7.0.txt
@
text
@d1 4
a4 4
$OpenBSD: patch-spooler_DAgent_cpp,v 1.16 2011/08/16 15:01:17 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Mon Sep 26 15:56:09 2011
+++ spooler/DAgent.cpp	Thu Sep 29 16:53:37 2011
@@@@ -91,6 +91,10 @@@@
d10 1
d16 1
a16 1
@@@@ -3123,7 +3127,7 @@@@ int main(int argc, char *argv[]) {
@


1.16
log
@Update to zarafa 7.0.1.
See http://download.zarafa.com/community/final/7.0/final-changelog-7.0.txt
for details.
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.15 2011/06/10 15:55:00 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Tue Aug  2 15:02:47 2011
+++ spooler/DAgent.cpp	Sun Aug 14 04:45:52 2011
d15 1
a15 1
@@@@ -3111,7 +3115,7 @@@@ int main(int argc, char *argv[]) {
@


1.15
log
@Update to zarafa-7.0.0 (rc2).
@
text
@d1 4
a4 4
$OpenBSD: patch-spooler_DAgent_cpp,v 1.14 2011/06/02 12:46:37 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Fri Jun 10 03:37:37 2011
+++ spooler/DAgent.cpp	Fri Jun 10 13:33:17 2011
@@@@ -89,6 +89,10 @@@@
d15 1
a15 1
@@@@ -3064,7 +3068,7 @@@@ int main(int argc, char *argv[]) {
@


1.14
log
@MAJOR update to zarafa-7.0.0 (RC1).
Committing now because this version performs _much_ better than what we
currently have in tree (see HOMEPAGE for details).

Quick&dirty upgrade steps (but you should follow the README):
------------------------------------------------------------------------
# /etc/rc.d/zarafa stop
===> Make sure _all_ zarafa processes are stopped and BACKUP YOUR DB!
# pkg_add -u zarafa zarafa-webaccess zarafa-libvmime
===> merge configuration (compare /usr/local/share/examples/zarara/*.cfg
with their counterparts under /etc/zarafa/.
# /usr/local/bin/zarafa-server
===> this will only do sanity checks but not start the server
# pkg_add py-mysql
# python2.6 /usr/local/share/doc/zarafa/zarafa7-upgrade
# /etc/rc.d/zarafa start
------------------------------------------------------------------------

tested by robert@@ and myself
ok robert@@
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.13 2011/05/19 17:18:19 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Wed Apr 20 19:51:46 2011
+++ spooler/DAgent.cpp	Sun May 29 07:13:40 2011
d15 1
a15 1
@@@@ -3058,7 +3062,7 @@@@ int main(int argc, char *argv[]) {
@


1.13
log
@Bugfix update to zarafa-6.40.8.
More details at:
http://download.zarafa.com/community/final/6.40/changelog-6.40.txt
@
text
@d1 4
a4 4
$OpenBSD: patch-spooler_DAgent_cpp,v 1.12 2011/03/11 08:44:44 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Thu May 19 17:01:35 2011
+++ spooler/DAgent.cpp	Thu May 19 18:30:37 2011
@@@@ -88,6 +88,10 @@@@
d15 1
a15 1
@@@@ -2641,7 +2645,7 @@@@ int main(int argc, char *argv[]) {
d22 1
a22 1
 	sDeliveryArgs.strDeliveryFolder = "";
@


1.12
log
@SECURITY update to zarafa-6.40.6.
As usual, changelog is available at:
http://download.zarafa.com/community/final/6.40/changelog-6.40.txt
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.11 2010/10/27 18:26:17 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Sun Feb 27 23:06:13 2011
+++ spooler/DAgent.cpp	Thu Mar 10 17:22:03 2011
d15 1
a15 1
@@@@ -2631,7 +2635,7 @@@@ int main(int argc, char *argv[]) {
@


1.11
log
@Update to zarafa-6.40.3.
ChangeLog available at:
    http://download.zarafa.com/community/final/6.40/changelog-6.40.txt
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.10 2010/08/31 17:57:21 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Wed Oct 20 16:16:24 2010
+++ spooler/DAgent.cpp	Wed Oct 27 19:18:53 2010
d15 1
a15 1
@@@@ -2612,7 +2616,7 @@@@ int main(int argc, char *argv[]) {
@


1.10
log
@Update to zarafa-6.40.2.
Complete changelog available at:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.9 2010/08/22 10:13:27 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Mon Aug 30 13:01:45 2010
+++ spooler/DAgent.cpp	Tue Aug 31 15:14:05 2010
d15 1
a15 1
@@@@ -2653,7 +2657,7 @@@@ int main(int argc, char *argv[]) {
@


1.9
log
@Update zarafa to version 6.40.1.
See http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
for details.
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.8 2010/06/30 02:46:48 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Tue Aug  3 14:51:43 2010
+++ spooler/DAgent.cpp	Sun Aug 22 10:22:53 2010
d15 1
a15 1
@@@@ -2640,7 +2644,7 @@@@ int main(int argc, char *argv[]) {
@


1.8
log
@*MAJOR* version update to zarafa-6.40.0.
Read the complete changelog here:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt

Upgrade documentation is available at:
http://doc.zarafa.com/6.40/Administrator_Manual/en-US/html-single/index.html#_performing_the_upgrade

zarafa-libical has been removed, current version from ports works fine
for zarafa needs.

php5-mapi has been merged into zarafa-webaccess.
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.7 2010/04/22 10:06:18 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Mon May 31 19:28:58 2010
+++ spooler/DAgent.cpp	Mon Jun 14 09:16:44 2010
d15 1
a15 1
@@@@ -2639,7 +2643,7 @@@@ int main(int argc, char *argv[]) {
@


1.7
log
@Update to zarafa-6.30.13.
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.6 2010/03/21 11:15:20 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Wed Apr 14 13:39:54 2010
+++ spooler/DAgent.cpp	Thu Apr 22 10:28:51 2010
d15 1
a15 1
@@@@ -2636,7 +2640,7 @@@@ int main(int argc, char *argv[]) {
@


1.6
log
@Major update to zarafa-6.30.12.
Lots and lots of bugfixes...
@
text
@d1 4
a4 4
$OpenBSD: patch-spooler_DAgent_cpp,v 1.5 2010/01/09 14:03:25 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Fri Mar 19 16:48:49 2010
+++ spooler/DAgent.cpp	Sat Mar 20 14:30:33 2010
@@@@ -75,6 +75,10 @@@@
d15 1
a15 1
@@@@ -2594,7 +2598,7 @@@@ int main(int argc, char *argv[]) {
@


1.5
log
@Bugfix update to zarafa-6.30.7.
Changelog:
    http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
@
text
@d1 4
a4 4
$OpenBSD: patch-spooler_DAgent_cpp,v 1.4 2009/12/16 18:39:11 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Wed Jan  6 04:54:56 2010
+++ spooler/DAgent.cpp	Sat Jan  9 14:10:55 2010
@@@@ -73,6 +73,10 @@@@
d15 1
a15 1
@@@@ -2589,7 +2593,7 @@@@ int main(int argc, char *argv[]) {
@


1.4
log
@Upgrade to zarafa-6.30.6.
Lots of bug fixes, changelog available at:
    http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.3 2009/10/20 22:34:26 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Tue Dec 15 21:26:09 2009
+++ spooler/DAgent.cpp	Wed Dec 16 18:33:53 2009
d15 1
a15 1
@@@@ -2608,7 +2612,7 @@@@ int main(int argc, char *argv[]) {
@


1.3
log
@Update to zarafa-6.30.3.
ChangeLog available here:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt

(6.30.4 is out, but one thing at a time since this is a big enough update)
@
text
@d1 3
a3 3
$OpenBSD: patch-spooler_DAgent_cpp,v 1.2 2009/09/27 13:57:30 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Fri Oct  9 22:34:38 2009
+++ spooler/DAgent.cpp	Tue Oct 20 23:41:37 2009
d15 1
a15 1
@@@@ -2545,7 +2549,7 @@@@ int main(int argc, char *argv[]) {
@


1.2
log
@Fix path to autoresponder.
Don't use bash for autoresponder script.
@
text
@d1 4
a4 4
$OpenBSD: patch-spooler_DAgent_cpp,v 1.1.1.1 2009/02/16 09:44:37 ajacoutot Exp $
--- spooler/DAgent.cpp.orig	Tue Sep  1 02:54:06 2009
+++ spooler/DAgent.cpp	Sun Sep 27 15:53:12 2009
@@@@ -61,6 +61,10 @@@@
d15 1
a15 1
@@@@ -2533,7 +2537,7 @@@@ int main(int argc, char *argv[]) {
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
$OpenBSD$
--- spooler/DAgent.cpp.orig	Thu Dec 11 22:35:41 2008
+++ spooler/DAgent.cpp	Tue Dec 30 12:13:38 2008
d15 9
@


1.1.1.1
log
@Import zarafa-6.20.1 (+php5-mapi-6.20.1)

-main
Zarafa is a full-featured e-mail and groupware solution, focused
towards clients using the MAPI standard.  As an MS Exchange replacement,
the Zarafa suite provides the following features:
 * Integration with existing Unix mailserver
 * Native mobile phone support
 * MS Outlook "Look & Feel" webaccess
 * Stable MS Outlook sharing (100% MAPI)

This package provides the Open Source version of Zarafa.

-php
Messaging Application Programming Interface (MAPI) is a messaging
architecture and a Component Object Model based API for Microsoft
Windows. MAPI allows client programs to become (e-mail)
messaging-enabled, -aware, or -based by calling MAPI subsystem routines
that interface with certain messaging servers. While MAPI is designed to
be independent of the protocol, it is usually used with MAPI/RPC, the
proprietary protocol that Microsoft Outlook uses to communicate with
Microsoft Exchange.

These functions allow you to access a MAPI compliant email server.

"just do it" robert@@, ok jasper@@
@
text
@@
