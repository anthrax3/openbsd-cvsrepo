head	1.8;
access;
symbols
	OPENBSD_5_5:1.7.0.6
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.7.0.4
	OPENBSD_5_4_BASE:1.7
	OPENBSD_5_3:1.7.0.2
	OPENBSD_5_3_BASE:1.7
	OPENBSD_5_2:1.5.0.2
	OPENBSD_5_2_BASE:1.5
	OPENBSD_5_1_BASE:1.4
	OPENBSD_5_1:1.4.0.4
	OPENBSD_5_0:1.4.0.2
	OPENBSD_5_0_BASE:1.4
	OPENBSD_4_9:1.2.0.2
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.1.0.2
	OPENBSD_4_8_BASE:1.1;
locks; strict;
comment	@# @;


1.8
date	2014.07.03.06.14.40;	author robert;	state dead;
branches;
next	1.7;
commitid	JoccqcNB1M1J0kmz;

1.7
date	2013.01.27.13.06.20;	author robert;	state Exp;
branches;
next	1.6;

1.6
date	2012.08.30.14.28.22;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2012.05.05.16.56.17;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2011.06.02.12.46.37;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2011.04.04.14.42.51;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2010.11.17.08.34.06;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2010.06.30.02.46.48;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.8
log
@update to 7.1.10
@
text
@$OpenBSD: patch-provider_soap_soapdefs_h,v 1.7 2013/01/27 13:06:20 robert Exp $
--- provider/soap/soapdefs.h.orig	Sun Jan 20 17:35:20 2013
+++ provider/soap/soapdefs.h	Sun Jan 20 17:36:35 2013
@@@@ -6,13 +6,20 @@@@
  * gSoap will not undef HAVE_STRTOD_L and HAVE_SPRINTF_L (if they
  * were defined in the first place).
  */
+#ifndef __OpenBSD__
 #define WITH_C_LOCALE
+#endif
 
 
 #include <platform.h>
 
-# include <bits/types.h>
-# undef __FD_SETSIZE
-# define __FD_SETSIZE 8192
+#ifdef __OpenBSD__
+#include <sys/types.h>
+#include <sys/select.h>
+#else
+#include <bits/types.h>
+#endif
+#undef __FD_SETSIZE
+#define __FD_SETSIZE 8192
 
 #endif // ndef SOAPDEFS_H_
@


1.7
log
@update to 7.1.3
@
text
@d1 1
a1 1
$OpenBSD$
@


1.6
log
@Major update to zarafa-7.1.0.
Complete ChangeLog available at:
http://download.zarafa.com/community/final/7.1/final-changelog-7.1.txt
@
text
@d2 3
a4 3
--- provider/soap/soapdefs.h.orig	Wed Aug  8 17:14:56 2012
+++ provider/soap/soapdefs.h	Thu Aug 30 15:25:51 2012
@@@@ -6,7 +6,9 @@@@
d8 1
a8 1
+#ifndef __OpenBSD__
d10 1
a10 1
+#endif
d14 14
a27 13
@@@@ -17,7 +19,12 @@@@
  * this limit.
  */
 #ifndef _FORTIFY_SOURCE
+# ifdef __OpenBSD__
+#  include <sys/types.h>
+#  include <sys/select.h>
+# else
 # include <bits/types.h>
+#endif
 # undef __FD_SETSIZE
 # define __FD_SETSIZE 8192
 #endif
@


1.5
log
@Update zarafa to 7.0.7.
Detailed changelog at:
http://download.zarafa.com/community/final/7.0/final-changelog-7.0.txt
@
text
@d1 7
a7 10
$OpenBSD: patch-provider_soap_soapdefs_h,v 1.4 2011/06/02 12:46:37 ajacoutot Exp $

Needs newlocale(3) and xlocale.h.

--- provider/soap/soapdefs.h.orig	Thu May  3 16:37:07 2012
+++ provider/soap/soapdefs.h	Sat May  5 17:41:56 2012
@@@@ -2,7 +2,9 @@@@
 #define SOAPDEFS_H_
 
 /* we want soap to use strtod_l */
d12 1
d14 1
a14 2
 
@@@@ -12,7 +14,12 @@@@
d18 1
a18 2
-# include <bits/types.h>
+# ifdef __OpenBSD__ 
d22 2
a23 2
+#  include <bits/types.h>
+# endif
@


1.4
log
@MAJOR update to zarafa-7.0.0 (RC1).
Committing now because this version performs _much_ better than what we
currently have in tree (see HOMEPAGE for details).

Quick&dirty upgrade steps (but you should follow the README):
------------------------------------------------------------------------
# /etc/rc.d/zarafa stop
===> Make sure _all_ zarafa processes are stopped and BACKUP YOUR DB!
# pkg_add -u zarafa zarafa-webaccess zarafa-libvmime
===> merge configuration (compare /usr/local/share/examples/zarara/*.cfg
with their counterparts under /etc/zarafa/.
# /usr/local/bin/zarafa-server
===> this will only do sanity checks but not start the server
# pkg_add py-mysql
# python2.6 /usr/local/share/doc/zarafa/zarafa7-upgrade
# /etc/rc.d/zarafa start
------------------------------------------------------------------------

tested by robert@@ and myself
ok robert@@
@
text
@d1 1
a1 1
$OpenBSD: patch-provider_soap_soapdefs_h,v 1.3 2011/04/04 14:42:51 ajacoutot Exp $
d5 3
a7 3
--- provider/soap/soapdefs.h.orig	Tue Mar 29 00:04:06 2011
+++ provider/soap/soapdefs.h	Mon Apr  4 12:26:24 2011
@@@@ -2,11 +2,18 @@@@
d17 14
a30 9
+#ifdef __OpenBSD__ 
+#include <sys/types.h>
+#include <sys/select.h>
+#else
 #include <bits/types.h>
+#endif
 #undef __FD_SETSIZE
 #define __FD_SETSIZE 8192
 
@


1.3
log
@Rework some patches.
@
text
@d1 4
a4 1
$OpenBSD: patch-provider_soap_soapdefs_h,v 1.2 2010/11/17 08:34:06 ajacoutot Exp $
@


1.2
log
@Use default FD_SETSIZE.
@
text
@d1 4
a4 4
$OpenBSD: patch-provider_soap_soapdefs_h,v 1.1 2010/06/30 02:46:48 ajacoutot Exp $
--- provider/soap/soapdefs.h.orig	Wed Oct 20 16:16:21 2010
+++ provider/soap/soapdefs.h	Tue Nov 16 19:14:12 2010
@@@@ -2,12 +2,19 @@@@
d19 1
a21 1
+#endif
a22 1
 #endif // ndef SOAPDEFS_H_
@


1.1
log
@*MAJOR* version update to zarafa-6.40.0.
Read the complete changelog here:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt

Upgrade documentation is available at:
http://doc.zarafa.com/6.40/Administrator_Manual/en-US/html-single/index.html#_performing_the_upgrade

zarafa-libical has been removed, current version from ports works fine
for zarafa needs.

php5-mapi has been merged into zarafa-webaccess.
@
text
@d1 4
a4 4
$OpenBSD$
--- provider/soap/soapdefs.h.orig	Mon Jun 28 23:56:18 2010
+++ provider/soap/soapdefs.h	Mon Jun 28 23:58:26 2010
@@@@ -2,12 +2,20 @@@@
d16 1
a16 2
+#undef FD_SETSIZE
+#define FD_SETSIZE 1024
@

