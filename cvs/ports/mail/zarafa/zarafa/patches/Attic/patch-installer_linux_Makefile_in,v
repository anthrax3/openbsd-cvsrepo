head	1.20;
access;
symbols
	OPENBSD_4_9:1.12.0.2
	OPENBSD_4_9_BASE:1.12
	OPENBSD_4_8:1.10.0.2
	OPENBSD_4_8_BASE:1.10
	OPENBSD_4_7:1.7.0.2
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.2.0.2
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	ajacoutot_20090216:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.20
date	2011.06.03.08.26.58;	author ajacoutot;	state dead;
branches;
next	1.19;

1.19
date	2011.06.02.12.46.37;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2011.05.19.17.18.18;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2011.04.04.08.01.04;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2011.04.02.15.09.52;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2011.03.29.18.00.03;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2011.03.11.08.44.44;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2011.03.03.13.16.05;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2010.12.11.08.20.21;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2010.08.22.10.13.27;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2010.06.30.02.46.48;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2010.04.22.10.06.18;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2010.03.21.11.15.20;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2010.01.09.14.03.25;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2009.10.21.09.59.54;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2009.10.20.22.34.26;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.09.11.16.33.52;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.07.31.09.55.56;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.04.03.17.30.40;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.02.16.09.44.37;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.02.16.09.44.37;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.20
log
@Remove/simplify some patches: instead of patching all around to install
in the correct paths, do a mv/rm dance in the port Makefile. This
greatly simplifies the port maintainance.
Remove config and man pages for binaries that aren't shipped (part of
the linux-only zarafa-licensed).
While here, regen WANTLIB.
@
text
@$OpenBSD: patch-installer_linux_Makefile_in,v 1.19 2011/06/02 12:46:37 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Wed Apr 20 16:39:42 2011
+++ installer/linux/Makefile.in	Wed Jun  1 15:24:18 2011
@@@@ -53,15 +53,15 @@@@ am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGUR
 mkinstalldirs = $(install_sh) -d
 CONFIG_HEADER = $(top_builddir)/common/config.h
 CONFIG_CLEAN_FILES =
-am__installdirs = "$(DESTDIR)$(bindir)" "$(DESTDIR)$(sysconf_initdir)" \
-	"$(DESTDIR)$(datadir)" "$(DESTDIR)$(data_configdir)" \
+am__installdirs = "$(DESTDIR)$(bindir)" \
+	"$(DESTDIR)$(datadir)" \
 	"$(DESTDIR)$(sysconf_certdir)" \
 	"$(DESTDIR)$(sysconf_configdir)" \
 	"$(DESTDIR)$(sysconf_rotatedir)" \
 	"$(DESTDIR)$(sysconf_sysconfigdir)"
 dist_binSCRIPT_INSTALL = $(INSTALL_SCRIPT)
 sysconf_initSCRIPT_INSTALL = $(INSTALL_SCRIPT)
-SCRIPTS = $(dist_bin_SCRIPTS) $(sysconf_init_SCRIPTS)
+SCRIPTS = $(dist_bin_SCRIPTS)
 SOURCES =
 DIST_SOURCES =
 am__vpath_adj_setup = srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`;
@@@@ -71,11 +71,10 @@@@ am__vpath_adj = case $$p in \
   esac;
 am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;
 dist_dataDATA_INSTALL = $(INSTALL_DATA)
-am__dist_data_config_DATA_DIST = server.cfg unix.cfg ldap.propmap.cfg \
+am__dist_data_config_DATA_DIST = server.cfg ldap.propmap.cfg \
 	spooler.cfg gateway.cfg monitor.cfg dagent.cfg ical.cfg \
-	indexer.cfg autorespond licensed.cfg archiver.cfg \
-	ldap.openldap.cfg ldap.active-directory.cfg \
-	ldapms.openldap.cfg ldapms.active-directory.cfg
+	indexer.cfg autorespond \
+	ldap.openldap.cfg ldap.active-directory.cfg
 dist_data_configDATA_INSTALL = $(INSTALL_DATA)
 am__dist_sysconf_cert_DATA_DIST = addtrust.crt
 dist_sysconf_certDATA_INSTALL = $(INSTALL_DATA)
@@@@ -247,6 +246,7 @@@@ datadir = ${docdir}
 datarootdir = @@datarootdir@@
 docdir = @@docdir@@
 dvidir = @@dvidir@@
+egdir = ${prefix}/share/examples/zarafa
 exec_prefix = @@exec_prefix@@
 host = @@host@@
 host_alias = @@host_alias@@
@@@@ -276,7 +276,7 @@@@ sysconfdir = @@sysconfdir@@
 target_alias = @@target_alias@@
 top_builddir = @@top_builddir@@
 top_srcdir = @@top_srcdir@@
-config_files = server.cfg unix.cfg ldap.propmap.cfg spooler.cfg \
+config_files = server.cfg ldap.propmap.cfg spooler.cfg \
 	gateway.cfg monitor.cfg dagent.cfg ical.cfg indexer.cfg \
 	autorespond $(am__append_2) $(BUILT_SOURCES)
 rhel_initscript_files = zarafa-server.init.rhel \
@@@@ -311,7 +311,7 @@@@ sysconf_sysconfigdir = ${@@DISTRO@@_sysconfig_path}
 sysconf_sysconfig_DATA = ${@@DISTRO@@_sysconfig_files}
 dist_data_DATA = \
 	db-convert-4.1-to-4.2 db-convert-4.20-to-4.21 db-convert-4.20-to-innodb.sql db-calc-storesize db-convert-attachments-to-files \
-	createuser.dotforward db-convert-4.2x-to-5.00 ssl-certificates.sh db-upgrade-objectsid-to-objectguid.pl ldap-switch-sendas.pl \
+	createuser.dotforward db-convert-4.2x-to-5.00 db-upgrade-objectsid-to-objectguid.pl ldap-switch-sendas.pl \
 	${top_srcdir}/tools/python-scripts/optimize-imap.py audit-parse.pl zarafa7-upgrade
 
 BUILT_SOURCES = ldap.openldap.cfg ldap.active-directory.cfg \
@@@@ -471,15 +471,7 @@@@ uninstall-dist_sysconf_configDATA:
 	  echo " rm -f '$(DESTDIR)$(sysconf_configdir)/$$f'"; \
 	  rm -f "$(DESTDIR)$(sysconf_configdir)/$$f"; \
 	done
-install-dist_sysconf_rotateDATA: $(dist_sysconf_rotate_DATA)
-	@@$(NORMAL_INSTALL)
-	test -z "$(sysconf_rotatedir)" || $(MKDIR_P) "$(DESTDIR)$(sysconf_rotatedir)"
-	@@list='$(dist_sysconf_rotate_DATA)'; for p in $$list; do \
-	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
-	  f=$(am__strip_dir) \
-	  echo " $(dist_sysconf_rotateDATA_INSTALL) '$$d$$p' '$(DESTDIR)$(sysconf_rotatedir)/$$f'"; \
-	  $(dist_sysconf_rotateDATA_INSTALL) "$$d$$p" "$(DESTDIR)$(sysconf_rotatedir)/$$f"; \
-	done
+install-dist_sysconf_rotateDATA:
 
 uninstall-dist_sysconf_rotateDATA:
 	@@$(NORMAL_UNINSTALL)
@@@@ -543,7 +535,7 @@@@ check: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) check-am
 all-am: Makefile $(SCRIPTS) $(DATA)
 installdirs:
-	for dir in "$(DESTDIR)$(bindir)" "$(DESTDIR)$(sysconf_initdir)" "$(DESTDIR)$(datadir)" "$(DESTDIR)$(data_configdir)" "$(DESTDIR)$(sysconf_certdir)" "$(DESTDIR)$(sysconf_configdir)" "$(DESTDIR)$(sysconf_rotatedir)" "$(DESTDIR)$(sysconf_sysconfigdir)"; do \
+	for dir in "$(DESTDIR)$(bindir)" "$(DESTDIR)$(datadir)" "$(DESTDIR)$(data_configdir)" "$(DESTDIR)$(sysconf_certdir)" "$(DESTDIR)$(sysconf_configdir)" "$(DESTDIR)$(sysconf_sysconfigdir)"; do \
 	  test -z "$$dir" || $(MKDIR_P) "$$dir"; \
 	done
 install: $(BUILT_SOURCES)
@@@@ -590,9 +582,9 @@@@ info: info-am
 
 info-am:
 
-install-data-am: install-dist_dataDATA install-dist_data_configDATA \
+install-data-am: install-dist_dataDATA \
 	install-dist_sysconf_certDATA install-dist_sysconf_configDATA \
-	install-dist_sysconf_rotateDATA install-sysconf_initSCRIPTS \
+	install-dist_sysconf_rotateDATA \
 	install-sysconf_sysconfigDATA
 	@@$(NORMAL_INSTALL)
 	$(MAKE) $(AM_MAKEFLAGS) install-data-hook
@@@@ -673,11 +665,7 @@@@ ldapms.active-directory.cfg: ldap.m4
 	m4 -DTYPE=ADS -DMULTISERVER=1 ${top_srcdir}/installer/linux/ldap.m4 > $@@
 
 install-data-hook:
-	install -d -m 755 ${DESTDIR}/${sysconf_configdir}/license
 	install -d -m 755 ${DESTDIR}/${sysconf_configdir}/report
-	for f in ${DESTDIR}/${sysconf_rotatedir}/*.logrotate; do \
-		mv $$f $${f%.logrotate}; \
-	done
 	if test ${DISTRO} = "sles" -o ${DISTRO} = "suse"; then \
 		mv ${DESTDIR}${sysconf_sysconfigdir}/sysconfig.suse ${DESTDIR}${sysconf_sysconfigdir}/sysconfig.zarafa || true; \
 	elif test ${DISTRO} = "rhel"; then \
@@@@ -685,18 +673,12 @@@@ install-data-hook:
 	else \
 		true; \
 	fi
-	if test `ls -1A ${DESTDIR}${sysconf_initdir}/ | wc -l` -ne 0; then \
-		for f in ${DESTDIR}${sysconf_initdir}/*; do \
-			newf=`echo "$$f" | sed -e 's/\(zarafa-.*\).init.*/\1/'`; \
-			mv "$$f" "$$newf"; \
-		done \
-	fi
-	mkdir -p ${DESTDIR}/${docdir}/../zarafa-gateway
-	mv ${DESTDIR}/${docdir}/optimize-imap.py ${DESTDIR}/${docdir}/../zarafa-gateway
+	mkdir -p ${DESTDIR}/${docdir}/../zarafa
+	mv ${DESTDIR}/${docdir}/optimize-imap.py ${DESTDIR}/${docdir}/../zarafa
 
 .NOTPARALLEL: install-exec-local
 install-exec-local:
-	cd ${top_srcdir}/installer/linux/ && python setup.py install --root="$(DESTDIR)" --prefix="$(prefix)" --install-purelib $(pythonexeclibdir)
+	cd ${top_srcdir}/installer/linux/ && !!MODPY_BIN!! setup.py install --root="$(DESTDIR)" --prefix="$(prefix)" --install-purelib $(pythonexeclibdir)
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
@


1.19
log
@MAJOR update to zarafa-7.0.0 (RC1).
Committing now because this version performs _much_ better than what we
currently have in tree (see HOMEPAGE for details).

Quick&dirty upgrade steps (but you should follow the README):
------------------------------------------------------------------------
# /etc/rc.d/zarafa stop
===> Make sure _all_ zarafa processes are stopped and BACKUP YOUR DB!
# pkg_add -u zarafa zarafa-webaccess zarafa-libvmime
===> merge configuration (compare /usr/local/share/examples/zarara/*.cfg
with their counterparts under /etc/zarafa/.
# /usr/local/bin/zarafa-server
===> this will only do sanity checks but not start the server
# pkg_add py-mysql
# python2.6 /usr/local/share/doc/zarafa/zarafa7-upgrade
# /etc/rc.d/zarafa start
------------------------------------------------------------------------

tested by robert@@ and myself
ok robert@@
@
text
@d1 1
a1 1
$OpenBSD: patch-installer_linux_Makefile_in,v 1.18 2011/05/19 17:18:18 ajacoutot Exp $
@


1.18
log
@Bugfix update to zarafa-6.40.8.
More details at:
http://download.zarafa.com/community/final/6.40/changelog-6.40.txt
@
text
@d1 4
a4 4
$OpenBSD: patch-installer_linux_Makefile_in,v 1.17 2011/04/04 08:01:04 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Thu May 19 12:24:05 2011
+++ installer/linux/Makefile.in	Thu May 19 18:30:36 2011
@@@@ -55,15 +55,15 @@@@ am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGUR
d23 1
a23 1
@@@@ -73,19 +73,17 @@@@ am__vpath_adj = case $$p in \
d38 1
a38 12
-am__dist_sysconf_config_DATA_DIST = server.cfg unix.cfg \
+am__dist_sysconf_config_DATA_DIST = server.cfg \
 	ldap.propmap.cfg spooler.cfg gateway.cfg monitor.cfg \
-	dagent.cfg ical.cfg indexer.cfg autorespond licensed.cfg \
-	archiver.cfg ldap.openldap.cfg ldap.active-directory.cfg \
-	ldapms.openldap.cfg ldapms.active-directory.cfg
+	dagent.cfg ical.cfg indexer.cfg autorespond \
+	ldap.openldap.cfg ldap.active-directory.cfg
 dist_sysconf_configDATA_INSTALL = $(INSTALL_DATA)
 am__dist_sysconf_rotate_DATA_DIST = zarafa.logrotate \
 	zarafa-indexer.logrotate zarafa-licensed.logrotate
@@@@ -244,6 +242,7 @@@@ datadir = ${docdir}
d46 1
a46 1
@@@@ -273,7 +272,7 @@@@ sysconfdir = @@sysconfdir@@
d55 1
a55 1
@@@@ -310,7 +309,7 @@@@ sysconf_sysconfigdir = ${@@DISTRO@@_sysconfig_path}
d61 1
a61 1
 	audit-parse.pl
d64 1
a64 1
@@@@ -470,15 +469,7 @@@@ uninstall-dist_sysconf_configDATA:
d81 1
a81 1
@@@@ -542,7 +533,7 @@@@ check: $(BUILT_SOURCES)
d90 1
a90 1
@@@@ -589,9 +580,9 @@@@ info: info-am
d102 1
a102 1
@@@@ -671,13 +662,7 @@@@ ldapms.active-directory.cfg: ldap.m4
d108 3
a110 5
-	mv ${DESTDIR}/${sysconf_rotatedir}/zarafa.logrotate ${DESTDIR}/${sysconf_rotatedir}/zarafa
-	mv ${DESTDIR}/${sysconf_rotatedir}/zarafa-indexer.logrotate ${DESTDIR}/${sysconf_rotatedir}/zarafa-indexer
-	if test -f ${DESTDIR}/${sysconf_rotatedir}/zarafa-licensed.logrotate; then \
-		mv ${DESTDIR}/${sysconf_rotatedir}/zarafa-licensed.logrotate ${DESTDIR}/${sysconf_rotatedir}/zarafa-licensed; \
-	fi
d113 2
a114 3
 		mv ${DESTDIR}${sysconf_sysconfigdir}/sysconfig-indexer.suse ${DESTDIR}${sysconf_sysconfigdir}/sysconfig.zarafa-indexer || true; \
@@@@ -692,18 +677,6 @@@@ install-data-hook:
 		fi; \
d117 1
a117 1
-	fi
d124 9
a132 6
-	install -d -m 755 ${DESTDIR}/${datarootdir}/doc/zarafa-indexer/example-config
-	mv ${DESTDIR}/${data_configdir}/indexer.cfg ${DESTDIR}/${datarootdir}/doc/zarafa-indexer/example-config
-	if [ -f ${DESTDIR}/${data_configdir}/archiver.cfg ]; then \
-		install -d -m 755 ${DESTDIR}/${datarootdir}/doc/zarafa-archiver/example-config; \
-		mv ${DESTDIR}/${data_configdir}/archiver.cfg ${DESTDIR}/${datarootdir}/doc/zarafa-archiver/example-config; \
 	fi
d135 1
@


1.17
log
@Add clucene support (i.e. enable zarafa-indexer). Note that the
zarafa-indexer is not used by default.
Tweak patches accordingly.
Use RLIMIT_DATA instead of RLIMIT_AS which we don't have.

Fix default client_update_path.
Remove a couple of patch entries that are not needed anymore.

Rewrite zarafa.rc and make it a wrapper script that calls the provided
rc.d(8) scripts. This is much more simple, makes much more sense and
allow for proper debugging as discussed with robert@@.
@
text
@d1 3
a3 3
$OpenBSD: patch-installer_linux_Makefile_in,v 1.16 2011/04/02 15:09:52 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Mon Mar 28 20:32:51 2011
+++ installer/linux/Makefile.in	Sun Apr  3 10:03:34 2011
d49 1
a49 1
@@@@ -240,6 +238,7 @@@@ datadir = ${docdir}
d57 1
a57 1
@@@@ -269,7 +268,7 @@@@ sysconfdir = @@sysconfdir@@
d66 1
a66 1
@@@@ -306,7 +305,7 @@@@ sysconf_sysconfigdir = ${@@DISTRO@@_sysconfig_path}
d75 1
a75 1
@@@@ -466,15 +465,7 @@@@ uninstall-dist_sysconf_configDATA:
d92 1
a92 1
@@@@ -538,7 +529,7 @@@@ check: $(BUILT_SOURCES)
d101 1
a101 1
@@@@ -585,9 +576,9 @@@@ info: info-am
d113 1
a113 1
@@@@ -667,13 +658,7 @@@@ ldapms.active-directory.cfg: ldap.m4
d127 1
a127 1
@@@@ -688,18 +673,6 @@@@ install-data-hook:
@


1.16
log
@Don't install ssl-certificates.sh, it doesn't work without external ssl
configuration by default and requires CA.sh.
@
text
@d1 1
a1 1
$OpenBSD: patch-installer_linux_Makefile_in,v 1.15 2011/03/29 18:00:03 ajacoutot Exp $
d3 1
a3 1
+++ installer/linux/Makefile.in	Sat Apr  2 15:50:20 2011
d33 1
a33 1
+	autorespond \
d44 1
a44 1
+	dagent.cfg ical.cfg autorespond \
d57 1
a57 1
@@@@ -269,8 +268,8 @@@@ sysconfdir = @@sysconfdir@@
a61 1
-	gateway.cfg monitor.cfg dagent.cfg ical.cfg indexer.cfg \
d63 1
a63 1
+	gateway.cfg monitor.cfg dagent.cfg ical.cfg \
a65 1
 	zarafa-spooler.init.rhel zarafa-gateway.init.rhel \
@


1.15
log
@Update to zarafa-6.40.7.
Changelog available at
http://download.zarafa.com/community/final/6.40/changelog-6.40.txt
@
text
@d1 1
a1 1
$OpenBSD: patch-installer_linux_Makefile_in,v 1.14 2011/03/11 08:44:44 ajacoutot Exp $
d3 1
a3 1
+++ installer/linux/Makefile.in	Tue Mar 29 17:48:35 2011
d68 9
@


1.14
log
@SECURITY update to zarafa-6.40.6.
As usual, changelog is available at:
http://download.zarafa.com/community/final/6.40/changelog-6.40.txt
@
text
@d1 3
a3 3
$OpenBSD: patch-installer_linux_Makefile_in,v 1.13 2011/03/03 13:16:05 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Sun Feb 27 19:34:34 2011
+++ installer/linux/Makefile.in	Thu Mar 10 17:24:40 2011
d68 1
a68 1
@@@@ -465,15 +464,7 @@@@ uninstall-dist_sysconf_configDATA:
d85 1
a85 1
@@@@ -537,7 +528,7 @@@@ check: $(BUILT_SOURCES)
d94 1
a94 1
@@@@ -584,9 +575,9 @@@@ info: info-am
d106 1
a106 1
@@@@ -666,13 +657,7 @@@@ ldapms.active-directory.cfg: ldap.m4
d120 1
a120 1
@@@@ -687,18 +672,6 @@@@ install-data-hook:
@


1.13
log
@Update to zarafa-6.40.5.
Complete changelog available at:
    http://download.zarafa.com/community/final/6.40/changelog-6.40.txt

Several documentation and configuration tweaks.
@
text
@d1 3
a3 3
$OpenBSD: patch-installer_linux_Makefile_in,v 1.12 2010/12/11 08:20:21 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Mon Jan 24 13:06:15 2011
+++ installer/linux/Makefile.in	Tue Jan 25 12:56:17 2011
d49 1
a49 1
@@@@ -237,6 +235,7 @@@@ datadir = ${docdir}
d57 1
a57 1
@@@@ -266,8 +265,8 @@@@ sysconfdir = @@sysconfdir@@
d68 1
a68 1
@@@@ -462,15 +461,7 @@@@ uninstall-dist_sysconf_configDATA:
d85 1
a85 1
@@@@ -534,7 +525,7 @@@@ check: $(BUILT_SOURCES)
d94 1
a94 1
@@@@ -581,9 +572,9 @@@@ info: info-am
d106 1
a106 1
@@@@ -663,13 +654,7 @@@@ ldapms.active-directory.cfg: ldap.m4
d120 2
a121 1
@@@@ -685,16 +670,6 @@@@ install-data-hook:
d124 1
a124 1
 	fi
d133 4
a136 2
-	install -d -m 755 ${DESTDIR}/${datarootdir}/doc/zarafa-archiver/example-config
-	mv ${DESTDIR}/${data_configdir}/archiver.cfg ${DESTDIR}/${datarootdir}/doc/zarafa-archiver/example-config
a138 1
 .NOEXPORT:
@


1.12
log
@Update to version 6.40.4.
Changelog available at:
http://download.zarafa.com/community/final/6.40/changelog-6.40.txt
@
text
@d1 4
a4 4
$OpenBSD: patch-installer_linux_Makefile_in,v 1.11 2010/08/22 10:13:27 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Thu Dec  2 11:37:21 2010
+++ installer/linux/Makefile.in	Fri Dec  3 18:47:44 2010
@@@@ -54,15 +54,15 @@@@ am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGUR
d23 1
a23 1
@@@@ -72,19 +72,17 @@@@ am__vpath_adj = case $$p in \
d49 1
a49 1
@@@@ -231,6 +229,7 @@@@ datadir = ${docdir}
d57 1
a57 1
@@@@ -259,8 +258,8 @@@@ sysconfdir = @@sysconfdir@@
d68 1
a68 1
@@@@ -455,15 +454,7 @@@@ uninstall-dist_sysconf_configDATA:
d85 1
a85 1
@@@@ -527,7 +518,7 @@@@ check: $(BUILT_SOURCES)
d94 1
a94 1
@@@@ -574,9 +565,9 @@@@ info: info-am
d106 1
a106 1
@@@@ -656,13 +647,7 @@@@ ldapms.active-directory.cfg: ldap.m4
d120 1
a120 1
@@@@ -678,16 +663,6 @@@@ install-data-hook:
@


1.11
log
@Update zarafa to version 6.40.1.
See http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
for details.
@
text
@d1 3
a3 3
$OpenBSD: patch-installer_linux_Makefile_in,v 1.10 2010/06/30 02:46:48 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Tue Aug  3 11:42:56 2010
+++ installer/linux/Makefile.in	Sun Aug 22 10:22:53 2010
d23 1
a23 1
@@@@ -72,17 +72,17 @@@@ am__vpath_adj = case $$p in \
d30 5
a34 4
-	indexer.cfg autorespond licensed.cfg ldap.openldap.cfg \
+	autorespond ldap.openldap.cfg \
 	ldap.active-directory.cfg ldapms.openldap.cfg \
 	ldapms.active-directory.cfg
d42 2
d45 1
a45 2
 	ldap.openldap.cfg ldap.active-directory.cfg \
 	ldapms.openldap.cfg ldapms.active-directory.cfg
d47 3
a49 1
@@@@ -231,6 +231,7 @@@@ datadir = ${docdir}
d57 1
a57 1
@@@@ -259,8 +260,8 @@@@ sysconfdir = @@sysconfdir@@
d68 1
a68 1
@@@@ -455,15 +456,7 @@@@ uninstall-dist_sysconf_configDATA:
d85 1
a85 1
@@@@ -527,7 +520,7 @@@@ check: $(BUILT_SOURCES)
d94 1
a94 1
@@@@ -574,9 +567,9 @@@@ info: info-am
d106 1
a106 1
@@@@ -656,13 +649,7 @@@@ ldapms.active-directory.cfg: ldap.m4
d120 3
a122 3
@@@@ -684,8 +671,6 @@@@ install-data-hook:
 			mv "$$f" "$$newf"; \
 		done \
d124 6
d132 2
@


1.10
log
@*MAJOR* version update to zarafa-6.40.0.
Read the complete changelog here:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt

Upgrade documentation is available at:
http://doc.zarafa.com/6.40/Administrator_Manual/en-US/html-single/index.html#_performing_the_upgrade

zarafa-libical has been removed, current version from ports works fine
for zarafa needs.

php5-mapi has been merged into zarafa-webaccess.
@
text
@d1 3
a3 3
$OpenBSD: patch-installer_linux_Makefile_in,v 1.9 2010/04/22 10:06:18 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Mon May 31 16:38:00 2010
+++ installer/linux/Makefile.in	Tue Jun 29 20:14:03 2010
d45 1
a45 1
@@@@ -232,6 +232,7 @@@@ datadir = ${docdir}
d53 1
a53 1
@@@@ -260,8 +261,8 @@@@ sysconfdir = @@sysconfdir@@
d64 1
a64 1
@@@@ -456,15 +457,7 @@@@ uninstall-dist_sysconf_configDATA:
d81 1
a81 1
@@@@ -528,7 +521,7 @@@@ check: $(BUILT_SOURCES)
d90 1
a90 1
@@@@ -575,9 +568,9 @@@@ info: info-am
d102 1
a102 1
@@@@ -657,13 +650,7 @@@@ ldapms.active-directory.cfg: ldap.m4
d116 1
a116 1
@@@@ -685,8 +672,6 @@@@ install-data-hook:
@


1.9
log
@Update to zarafa-6.30.13.
@
text
@d1 20
a20 4
$OpenBSD: patch-installer_linux_Makefile_in,v 1.8 2010/03/21 11:15:20 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Wed Apr 14 13:13:43 2010
+++ installer/linux/Makefile.in	Thu Apr 22 11:31:44 2010
@@@@ -57,23 +57,11 @@@@ SOURCES =
d22 4
a25 21
 am__dist_data_DATA_DIST = server.cfg unix.cfg ldap.openldap.cfg \
 	ldap.active-directory.cfg spooler.cfg gateway.cfg monitor.cfg \
-	dagent.cfg ical.cfg zarafa.logrotate zarafa-server.init.suse \
-	zarafa-spooler.init.suse zarafa-gateway.init.suse \
-	zarafa-monitor.init.suse zarafa-ical.init.suse \
-	zarafa-server.init.fc zarafa-spooler.init.fc \
-	zarafa-gateway.init.fc zarafa-monitor.init.fc \
-	zarafa-ical.init.fc zarafa-server.init.cbs4 \
-	zarafa-spooler.init.cbs4 zarafa-gateway.init.cbs4 \
-	zarafa-monitor.init.cbs4 zarafa-ical.init.cbs4 \
+	dagent.cfg ical.cfg \
 	db-convert-4.1-to-4.2 db-convert-4.20-to-4.21 \
 	db-convert-4.20-to-innodb.sql db-calc-storesize \
 	db-convert-attachments-to-files createuser.dotforward \
-	db-convert-4.2x-to-5.00 ssl-certificates.sh \
-	zarafa-dagent.init.cbs4 zarafa-dagent.init.suse \
-	zarafa-dagent.init.fc autorespond licensed.cfg \
-	ldapms.openldap.cfg ldapms.active-directory.cfg \
-	zarafa-licensed.init.cbs4 zarafa-licensed.init.suse \
-	zarafa-licensed.init.fc
+	db-convert-4.2x-to-5.00 ssl-certificates.sh
d27 19
a45 3
 am__dist_sysconf_DATA_DIST = addtrust.crt
 dist_sysconfDATA_INSTALL = $(INSTALL_DATA)
@@@@ -221,6 +209,7 @@@@ datadir = ${docdir}
d53 1
a53 2
@@@@ -249,13 +238,10 @@@@ sharedstatedir = @@sharedstatedir@@
 sysconfdir = /etc/zarafa/report-ca
d55 70
a124 13
 dist_data_DATA = server.cfg unix.cfg ldap.openldap.cfg ldap.active-directory.cfg \
-	spooler.cfg gateway.cfg monitor.cfg dagent.cfg ical.cfg zarafa.logrotate \
-	zarafa-server.init.suse zarafa-spooler.init.suse zarafa-gateway.init.suse zarafa-monitor.init.suse zarafa-ical.init.suse \
-	zarafa-server.init.fc zarafa-spooler.init.fc zarafa-gateway.init.fc zarafa-monitor.init.fc zarafa-ical.init.fc \
-	zarafa-server.init.cbs4 zarafa-spooler.init.cbs4 zarafa-gateway.init.cbs4 zarafa-monitor.init.cbs4 zarafa-ical.init.cbs4 \
+	spooler.cfg gateway.cfg monitor.cfg dagent.cfg ical.cfg \
 	db-convert-4.1-to-4.2 db-convert-4.20-to-4.21 db-convert-4.20-to-innodb.sql db-calc-storesize db-convert-attachments-to-files \
 	createuser.dotforward db-convert-4.2x-to-5.00 ssl-certificates.sh \
-	zarafa-dagent.init.cbs4 zarafa-dagent.init.suse zarafa-dagent.init.fc autorespond\
+	autorespond\
 $(am__append_1)
 dist_bin_SCRIPTS = zarafa-autorespond
 @@OSS_ONLY_FALSE@@dist_sysconf_DATA = addtrust.crt
@


1.8
log
@Major update to zarafa-6.30.12.
Lots and lots of bugfixes...
@
text
@d1 4
a4 4
$OpenBSD: patch-installer_linux_Makefile_in,v 1.7 2010/01/09 14:03:25 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Tue Jan 26 17:08:49 2010
+++ installer/linux/Makefile.in	Wed Feb  3 08:53:18 2010
@@@@ -57,22 +57,11 @@@@ SOURCES =
d22 4
a25 3
-	zarafa-dagent.init.fc licensed.cfg ldapms.openldap.cfg \
-	ldapms.active-directory.cfg zarafa-licensed.init.cbs4 \
-	zarafa-licensed.init.suse zarafa-licensed.init.fc
d30 1
a30 1
@@@@ -220,6 +209,7 @@@@ datadir = ${docdir}
d38 1
a38 1
@@@@ -248,13 +238,9 @@@@ sharedstatedir = @@sharedstatedir@@
d49 2
a50 1
-	zarafa-dagent.init.cbs4 zarafa-dagent.init.suse zarafa-dagent.init.fc\
@


1.7
log
@Bugfix update to zarafa-6.30.7.
Changelog:
    http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
@
text
@d1 3
a3 3
$OpenBSD: patch-installer_linux_Makefile_in,v 1.6 2009/10/21 09:59:54 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Wed Jan  6 04:28:29 2010
+++ installer/linux/Makefile.in	Sat Jan  9 14:17:51 2010
d27 1
a27 1
 am__dist_sysconf_DATA_DIST = ipsseg.crt
d51 1
a51 1
 @@OSS_ONLY_FALSE@@dist_sysconf_DATA = ipsseg.crt
@


1.6
log
@Bugfix update to zarafa-6.30.4.
@
text
@d1 3
a3 3
$OpenBSD: patch-installer_linux_Makefile_in,v 1.5 2009/10/20 22:34:26 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Fri Oct 16 20:39:23 2009
+++ installer/linux/Makefile.in	Wed Oct 21 11:32:04 2009
d16 1
a16 1
+	dagent.cfg ical.cfg zarafa.logrotate \
d37 2
a38 1
@@@@ -249,12 +239,8 @@@@ sysconfdir = /etc/zarafa/report-ca
d41 1
a41 1
 	spooler.cfg gateway.cfg monitor.cfg dagent.cfg ical.cfg zarafa.logrotate \
d45 1
@


1.5
log
@Update to zarafa-6.30.3.
ChangeLog available here:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt

(6.30.4 is out, but one thing at a time since this is a big enough update)
@
text
@d1 3
a3 3
$OpenBSD: patch-installer_linux_Makefile_in,v 1.4 2009/09/11 16:33:52 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Fri Oct  9 22:08:33 2009
+++ installer/linux/Makefile.in	Tue Oct 20 23:42:54 2009
d29 1
a29 1
@@@@ -219,6 +208,7 @@@@ datadir = ${docdir}
d37 1
a37 1
@@@@ -248,12 +238,8 @@@@ sysconfdir = /etc/zarafa/report-ca
@


1.4
log
@Update to zarafa-6.30.2.
ChangeLog available at:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
@
text
@d1 29
a29 4
$OpenBSD: patch-installer_linux_Makefile_in,v 1.3 2009/07/31 09:55:56 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Tue Sep  1 02:28:36 2009
+++ installer/linux/Makefile.in	Fri Sep 11 13:22:36 2009
@@@@ -190,6 +190,7 @@@@ datadir = ${docdir}
d37 1
a37 2
@@@@ -216,18 +217,13 @@@@ sharedstatedir = @@sharedstatedir@@
 sysconfdir = /etc/zarafa/report-ca
d40 1
a40 4
-	ldapms.openldap.cfg ldapms.active-directory.cfg \
-	spooler.cfg gateway.cfg monitor.cfg dagent.cfg ical.cfg licensed.cfg \
+	spooler.cfg gateway.cfg monitor.cfg dagent.cfg ical.cfg \
 	zarafa.logrotate \
d45 3
a47 4
-	createuser.dotforward db-convert-4.2x-to-5.00 ssl-certificates.sh \
-	zarafa-licensed.init.cbs4 zarafa-licensed.init.suse zarafa-licensed.init.fc zarafa-dagent.init.cbs4 zarafa-dagent.init.suse zarafa-dagent.init.fc
+	createuser.dotforward db-convert-4.2x-to-5.00 ssl-certificates.sh
 
d49 1
a49 21
-dist_sysconf_DATA = ipsseg.crt
+dist_sysconf_DATA =
 all: all-am
 
 .SUFFIXES:
@@@@ -291,12 +287,12 @@@@ distclean-libtool:
 uninstall-info-am:
 install-dist_dataDATA: $(dist_data_DATA)
 	@@$(NORMAL_INSTALL)
-	test -z "$(datadir)" || $(mkdir_p) "$(DESTDIR)$(datadir)"
+	test -z "$(egdir)" || $(mkdir_p) "$(DESTDIR)$(egdir)"
 	@@list='$(dist_data_DATA)'; for p in $$list; do \
 	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
 	  f="`echo $$p | sed -e 's|^.*/||'`"; \
-	  echo " $(dist_dataDATA_INSTALL) '$$d$$p' '$(DESTDIR)$(datadir)/$$f'"; \
-	  $(dist_dataDATA_INSTALL) "$$d$$p" "$(DESTDIR)$(datadir)/$$f"; \
+	  echo " $(dist_dataDATA_INSTALL) '$$d$$p' '$(DESTDIR)$(egdir)/$$f'"; \
+	  $(dist_dataDATA_INSTALL) "$$d$$p" "$(DESTDIR)$(egdir)/$$f"; \
 	done
 
 uninstall-dist_dataDATA:
@


1.3
log
@Major update to zarafa-6.30.0.
Full ChangeLog available at
    http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
Now comes with caldav support.

ok jasper@@
@
text
@d1 4
a4 4
$OpenBSD: patch-installer_linux_Makefile_in,v 1.2 2009/04/03 17:30:40 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Mon Jul 20 23:26:25 2009
+++ installer/linux/Makefile.in	Thu Jul 23 18:50:05 2009
@@@@ -190,6 +190,7 @@@@ datadir = ${prefix}/share/zarafa
@


1.2
log
@- bugfix update to zarafa-6.20.4
@
text
@d1 3
a3 3
$OpenBSD: patch-installer_linux_Makefile_in,v 1.1.1.1 2009/02/16 09:44:37 ajacoutot Exp $
--- installer/linux/Makefile.in.orig	Thu Mar 26 14:35:47 2009
+++ installer/linux/Makefile.in	Fri Apr  3 19:36:34 2009
d12 3
a14 1
@@@@ -218,12 +219,8 @@@@ target_alias = @@target_alias@@
d16 3
a18 1
 	spooler.cfg gateway.cfg monitor.cfg dagent.cfg ical.cfg licensed.cfg \
d25 1
a25 1
-	zarafa-licensed.init.cbs4 zarafa-licensed.init.suse zarafa-licensed.init.fc
d29 6
a34 2
 dist_sysconf_DATA = ipsseg.crt
@@@@ -290,12 +287,12 @@@@ distclean-libtool:
@


1.1
log
@Initial revision
@
text
@d1 4
a4 4
$OpenBSD$
--- installer/linux/Makefile.in.orig	Mon Sep 22 21:58:07 2008
+++ installer/linux/Makefile.in	Sun Oct 19 18:20:23 2008
@@@@ -187,6 +187,7 @@@@ datadir = ${prefix}/share/zarafa
d12 1
a12 1
@@@@ -215,12 +216,8 @@@@ target_alias = @@target_alias@@
d26 1
a26 1
@@@@ -287,12 +284,12 @@@@ distclean-libtool:
@


1.1.1.1
log
@Import zarafa-6.20.1 (+php5-mapi-6.20.1)

-main
Zarafa is a full-featured e-mail and groupware solution, focused
towards clients using the MAPI standard.  As an MS Exchange replacement,
the Zarafa suite provides the following features:
 * Integration with existing Unix mailserver
 * Native mobile phone support
 * MS Outlook "Look & Feel" webaccess
 * Stable MS Outlook sharing (100% MAPI)

This package provides the Open Source version of Zarafa.

-php
Messaging Application Programming Interface (MAPI) is a messaging
architecture and a Component Object Model based API for Microsoft
Windows. MAPI allows client programs to become (e-mail)
messaging-enabled, -aware, or -based by calling MAPI subsystem routines
that interface with certain messaging servers. While MAPI is designed to
be independent of the protocol, it is usually used with MAPI/RPC, the
proprietary protocol that Microsoft Outlook uses to communicate with
Microsoft Exchange.

These functions allow you to access a MAPI compliant email server.

"just do it" robert@@, ok jasper@@
@
text
@@
