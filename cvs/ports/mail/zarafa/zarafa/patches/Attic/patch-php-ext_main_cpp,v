head	1.9;
access;
symbols
	OPENBSD_6_1:1.8.0.4
	OPENBSD_6_1_BASE:1.8
	OPENBSD_6_0:1.8.0.2
	OPENBSD_6_0_BASE:1.8
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.5.0.4
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.4.0.10
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.8
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.6
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.4.0.4
	OPENBSD_5_4_BASE:1.4
	OPENBSD_5_3:1.4.0.2
	OPENBSD_5_3_BASE:1.4
	OPENBSD_4_6:1.1.1.1.0.4
	OPENBSD_4_6_BASE:1.1.1.1
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	ajacoutot_20090216:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.9
date	2017.09.13.10.43.58;	author robert;	state dead;
branches;
next	1.8;
commitid	kFv2rkf5deA8Z0kS;

1.8
date	2016.04.20.18.38.41;	author robert;	state Exp;
branches;
next	1.7;
commitid	KBMzdBVp21qnBq3j;

1.7
date	2016.04.01.18.08.10;	author robert;	state Exp;
branches;
next	1.6;
commitid	YBIXgHFu7xINW8BP;

1.6
date	2015.11.02.11.06.34;	author robert;	state Exp;
branches;
next	1.5;
commitid	19wAgXlT9RhqpZjX;

1.5
date	2015.04.05.22.25.08;	author robert;	state Exp;
branches;
next	1.4;
commitid	j25w8UqbNvnTFexL;

1.4
date	2012.10.28.21.51.08;	author robert;	state Exp;
branches;
next	1.3;

1.3
date	2012.08.30.14.28.22;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.07.31.09.55.56;	author ajacoutot;	state dead;
branches;
next	1.1;

1.1
date	2009.02.16.09.44.38;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.02.16.09.44.38;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.9
log
@remove zarafa as it has been replaced with kopano
@
text
@$OpenBSD: patch-php-ext_main_cpp,v 1.8 2016/04/20 18:38:41 robert Exp $
--- php-ext/main.cpp.orig	Wed Apr 20 13:13:54 2016
+++ php-ext/main.cpp	Wed Apr 20 19:54:13 2016
@@@@ -620,8 +620,11 @@@@ PHP_MINIT_FUNCTION(mapi) {
 
 	ZEND_INIT_MODULE_GLOBALS(mapi, php_mapi_init_globals, NULL);
 
+#ifndef __OpenBSD__
 	// force this program to use UTF-8, that way, we don't have to use lpszW and do all kinds of conversions from UTF-8 to WCHAR and back
 	forceUTF8Locale(false);
+#endif
+
 	return SUCCESS;
 }
 
@


1.8
log
@update to 7.2.3
@
text
@d1 1
a1 1
$OpenBSD: patch-php-ext_main_cpp,v 1.7 2016/04/01 18:08:10 robert Exp $
@


1.7
log
@update to 7.2.2
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_main_cpp,v 1.6 2015/11/02 11:06:34 robert Exp $
--- php-ext/main.cpp.orig	Wed Mar 23 12:14:33 2016
+++ php-ext/main.cpp	Thu Mar 31 23:23:31 2016
@@@@ -646,8 +646,11 @@@@ PHP_MINIT_FUNCTION(mapi) {
@


1.6
log
@update to 7.2.1
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_main_cpp,v 1.5 2015/04/05 22:25:08 robert Exp $
--- php-ext/main.cpp.orig	Wed Aug  5 17:30:47 2015
+++ php-ext/main.cpp	Thu Aug 20 12:36:50 2015
@@@@ -578,8 +578,11 @@@@ PHP_MINIT_FUNCTION(mapi) {
@


1.5
log
@update to 7.2.0
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_main_cpp,v 1.4 2012/10/28 21:51:08 robert Exp $
--- php-ext/main.cpp.orig	Thu Mar  5 16:54:01 2015
+++ php-ext/main.cpp	Fri Apr  3 23:11:10 2015
@@@@ -563,8 +563,11 @@@@ PHP_MINIT_FUNCTION(mapi)
@


1.4
log
@update to Zarafa 7.1.1
@
text
@d1 4
a4 4
$OpenBSD$
--- php-ext/main.cpp.orig	Sun Oct 28 21:14:05 2012
+++ php-ext/main.cpp	Sun Oct 28 21:14:22 2012
@@@@ -568,8 +568,11 @@@@ PHP_MINIT_FUNCTION(mapi)
@


1.3
log
@Major update to zarafa-7.1.0.
Complete ChangeLog available at:
http://download.zarafa.com/community/final/7.1/final-changelog-7.1.txt
@
text
@d2 3
a4 3
--- php-ext/main.cpp.orig	Wed Aug 29 15:19:02 2012
+++ php-ext/main.cpp	Wed Aug 29 14:37:28 2012
@@@@ -569,8 +569,10 @@@@ PHP_MINIT_FUNCTION(mapi)
d12 1
a12 1
 
d15 1
@


1.2
log
@Major update to zarafa-6.30.0.
Full ChangeLog available at
    http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
Now comes with caldav support.

ok jasper@@
@
text
@d1 14
a14 12
$OpenBSD: patch-php-ext_main_cpp,v 1.1 2009/02/16 09:44:38 ajacoutot Exp $
--- php-ext/main.cpp.orig	Wed Dec 24 20:17:56 2008
+++ php-ext/main.cpp	Sat Jan 10 14:58:23 2009
@@@@ -5607,7 +5607,7 @@@@ ZEND_FUNCTION(mapi_zarafa_check_license)
     if(MAPI_G(hr) != hrSuccess)
         goto exit;
         
-    for(int i=0; i < ulCapas; i++) {
+    for(unsigned int i=0; i < ulCapas; i++) {
         if(strcasecmp(lpszCapas[i], szFeature) == 0) {
             RETVAL_TRUE;
             break;
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.1.1
log
@Import zarafa-6.20.1 (+php5-mapi-6.20.1)

-main
Zarafa is a full-featured e-mail and groupware solution, focused
towards clients using the MAPI standard.  As an MS Exchange replacement,
the Zarafa suite provides the following features:
 * Integration with existing Unix mailserver
 * Native mobile phone support
 * MS Outlook "Look & Feel" webaccess
 * Stable MS Outlook sharing (100% MAPI)

This package provides the Open Source version of Zarafa.

-php
Messaging Application Programming Interface (MAPI) is a messaging
architecture and a Component Object Model based API for Microsoft
Windows. MAPI allows client programs to become (e-mail)
messaging-enabled, -aware, or -based by calling MAPI subsystem routines
that interface with certain messaging servers. While MAPI is designed to
be independent of the protocol, it is usually used with MAPI/RPC, the
proprietary protocol that Microsoft Outlook uses to communicate with
Microsoft Exchange.

These functions allow you to access a MAPI compliant email server.

"just do it" robert@@, ok jasper@@
@
text
@@
