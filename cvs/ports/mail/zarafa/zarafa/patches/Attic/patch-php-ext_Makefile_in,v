head	1.14;
access;
symbols
	OPENBSD_4_9:1.9.0.2
	OPENBSD_4_9_BASE:1.9
	OPENBSD_4_8:1.8.0.2
	OPENBSD_4_8_BASE:1.8
	OPENBSD_4_7:1.7.0.2
	OPENBSD_4_7_BASE:1.7
	OPENBSD_4_6:1.3.0.2
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	ajacoutot_20090216:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.14
date	2011.06.03.08.26.58;	author ajacoutot;	state dead;
branches;
next	1.13;

1.13
date	2011.06.02.12.46.37;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2011.05.19.17.18.19;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2011.03.11.08.44.44;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2011.03.03.13.16.05;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2010.08.22.10.13.27;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2010.06.30.02.46.48;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2009.10.21.09.59.54;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2009.10.20.22.34.26;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2009.09.11.16.33.52;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.07.31.09.55.56;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.04.03.17.30.40;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.05.08.01.26;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.02.16.09.44.37;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.02.16.09.44.37;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.14
log
@Remove/simplify some patches: instead of patching all around to install
in the correct paths, do a mv/rm dance in the port Makefile. This
greatly simplifies the port maintainance.
Remove config and man pages for binaries that aren't shipped (part of
the linux-only zarafa-licensed).
While here, regen WANTLIB.
@
text
@$OpenBSD: patch-php-ext_Makefile_in,v 1.13 2011/06/02 12:46:37 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Wed Apr 20 16:39:43 2011
+++ php-ext/Makefile.in	Sun May 29 07:13:39 2011
@@@@ -249,7 +249,7 @@@@ build_cpu = @@build_cpu@@
 build_os = @@build_os@@
 build_vendor = @@build_vendor@@
 builddir = @@builddir@@
-datadir = ${datarootdir}/php/mapi
+datadir = /var/www/include/php/mapi
 datarootdir = @@datarootdir@@
 docdir = @@docdir@@
 dvidir = @@dvidir@@
@@@@ -299,7 +299,7 @@@@ mapi_la_LIBADD = \
 	${top_builddir}/common/libcommon_util.la \
 	${top_builddir}/libfreebusy/libfreebusy.la \
 	${top_builddir}/inetmapi/libinetmapi.la \
-	$(PROG_LIBS) -lpthread
+	$(PROG_LIBS) -pthread
 
 
 # it seems linking libraries with -pthread will not contain -lpthread.
@@@@ -582,7 +582,7 @@@@ install-data-am: install-dist_dataDATA
 
 install-dvi: install-dvi-am
 
-install-exec-am: install-dist_sysconfDATA install-libLTLIBRARIES
+install-exec-am: install-libLTLIBRARIES
 
 install-html: install-html-am
 
@


1.13
log
@MAJOR update to zarafa-7.0.0 (RC1).
Committing now because this version performs _much_ better than what we
currently have in tree (see HOMEPAGE for details).

Quick&dirty upgrade steps (but you should follow the README):
------------------------------------------------------------------------
# /etc/rc.d/zarafa stop
===> Make sure _all_ zarafa processes are stopped and BACKUP YOUR DB!
# pkg_add -u zarafa zarafa-webaccess zarafa-libvmime
===> merge configuration (compare /usr/local/share/examples/zarara/*.cfg
with their counterparts under /etc/zarafa/.
# /usr/local/bin/zarafa-server
===> this will only do sanity checks but not start the server
# pkg_add py-mysql
# python2.6 /usr/local/share/doc/zarafa/zarafa7-upgrade
# /etc/rc.d/zarafa start
------------------------------------------------------------------------

tested by robert@@ and myself
ok robert@@
@
text
@d1 1
a1 1
$OpenBSD: patch-php-ext_Makefile_in,v 1.12 2011/05/19 17:18:19 ajacoutot Exp $
@


1.12
log
@Bugfix update to zarafa-6.40.8.
More details at:
http://download.zarafa.com/community/final/6.40/changelog-6.40.txt
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_Makefile_in,v 1.11 2011/03/11 08:44:44 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Thu May 19 12:24:06 2011
+++ php-ext/Makefile.in	Thu May 19 18:30:37 2011
@@@@ -236,7 +236,7 @@@@ build_cpu = @@build_cpu@@
d13 1
a13 1
@@@@ -284,7 +284,7 @@@@ mapi_la_LDFLAGS = -module -avoid-version \
d22 1
a22 1
@@@@ -567,7 +567,7 @@@@ install-data-am: install-dist_dataDATA
@


1.11
log
@SECURITY update to zarafa-6.40.6.
As usual, changelog is available at:
http://download.zarafa.com/community/final/6.40/changelog-6.40.txt
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_Makefile_in,v 1.10 2011/03/03 13:16:05 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Sun Feb 27 19:34:35 2011
+++ php-ext/Makefile.in	Thu Mar 10 17:22:03 2011
@@@@ -232,7 +232,7 @@@@ build_cpu = @@build_cpu@@
d13 1
a13 1
@@@@ -280,7 +280,7 @@@@ mapi_la_LDFLAGS = -module -avoid-version \
d22 1
a22 1
@@@@ -563,7 +563,7 @@@@ install-data-am: install-dist_dataDATA
@


1.10
log
@Update to zarafa-6.40.5.
Complete changelog available at:
    http://download.zarafa.com/community/final/6.40/changelog-6.40.txt

Several documentation and configuration tweaks.
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_Makefile_in,v 1.9 2010/08/22 10:13:27 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Mon Jan 24 13:06:17 2011
+++ php-ext/Makefile.in	Tue Jan 25 12:56:18 2011
@@@@ -229,7 +229,7 @@@@ build_cpu = @@build_cpu@@
d13 1
a13 1
@@@@ -277,7 +277,7 @@@@ mapi_la_LDFLAGS = -module -avoid-version \
d22 1
a22 1
@@@@ -560,7 +560,7 @@@@ install-data-am: install-dist_dataDATA
@


1.9
log
@Update zarafa to version 6.40.1.
See http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
for details.
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_Makefile_in,v 1.8 2010/06/30 02:46:48 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Tue Aug  3 11:42:58 2010
+++ php-ext/Makefile.in	Sun Aug 22 10:22:53 2010
@@@@ -223,7 +223,7 @@@@ build_cpu = @@build_cpu@@
d13 1
a13 1
@@@@ -270,7 +270,7 @@@@ mapi_la_LDFLAGS = -module -avoid-version \
d22 1
a22 1
@@@@ -553,7 +553,7 @@@@ install-data-am: install-dist_dataDATA
@


1.8
log
@*MAJOR* version update to zarafa-6.40.0.
Read the complete changelog here:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt

Upgrade documentation is available at:
http://doc.zarafa.com/6.40/Administrator_Manual/en-US/html-single/index.html#_performing_the_upgrade

zarafa-libical has been removed, current version from ports works fine
for zarafa needs.

php5-mapi has been merged into zarafa-webaccess.
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_Makefile_in,v 1.7 2009/10/21 09:59:54 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Mon May 31 16:38:02 2010
+++ php-ext/Makefile.in	Tue Jun 29 18:54:36 2010
@@@@ -224,7 +224,7 @@@@ build_cpu = @@build_cpu@@
d13 1
a13 1
@@@@ -271,7 +271,7 @@@@ mapi_la_LDFLAGS = -module -avoid-version \
d22 1
a22 1
@@@@ -554,7 +554,7 @@@@ install-data-am: install-dist_dataDATA
@


1.7
log
@Bugfix update to zarafa-6.30.4.
@
text
@d1 4
a4 5
$OpenBSD: patch-php-ext_Makefile_in,v 1.6 2009/10/20 22:34:26 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Fri Oct 16 20:39:25 2009
+++ php-ext/Makefile.in	Wed Oct 21 11:32:04 2009
@@@@ -226,7 +226,7 @@@@ build_alias = @@build_alias@@
 build_cpu = @@build_cpu@@
d7 1
d9 1
a9 1
+datadir = ${PREFIX-php}/include/php/mapi
d13 1
a13 1
@@@@ -270,7 +270,7 @@@@ mapi_la_LDFLAGS = -module -avoid-version \
d22 9
@


1.6
log
@Update to zarafa-6.30.3.
ChangeLog available here:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt

(6.30.4 is out, but one thing at a time since this is a big enough update)
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_Makefile_in,v 1.5 2009/09/11 16:33:52 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Fri Oct  9 22:08:36 2009
+++ php-ext/Makefile.in	Tue Oct 20 23:41:37 2009
@@@@ -225,7 +225,7 @@@@ build_alias = @@build_alias@@
d13 1
a13 1
@@@@ -269,7 +269,7 @@@@ mapi_la_LDFLAGS = -module -avoid-version \
@


1.5
log
@Update to zarafa-6.30.2.
ChangeLog available at:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_Makefile_in,v 1.4 2009/07/31 09:55:56 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Fri Sep 11 13:21:29 2009
+++ php-ext/Makefile.in	Fri Sep 11 13:22:15 2009
@@@@ -218,7 +218,7 @@@@ build_alias = @@build_alias@@
d13 1
a13 1
@@@@ -262,7 +262,7 @@@@ mapi_la_LDFLAGS = -module -avoid-version \
@


1.4
log
@Major update to zarafa-6.30.0.
Full ChangeLog available at
    http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
Now comes with caldav support.

ok jasper@@
@
text
@d1 3
a3 3
$OpenBSD: patch-php-ext_Makefile_in,v 1.3 2009/04/03 17:30:40 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Wed Jul 22 16:10:27 2009
+++ php-ext/Makefile.in	Wed Jul 22 16:11:47 2009
d8 1
a8 1
-datadir = /usr/share/php/mapi
d13 1
a13 1
@@@@ -260,7 +260,7 @@@@ mapi_la_LDFLAGS = -module -avoid-version $(PHP_LDFLAGS
a19 1
 dist_data_DATA = include/mapi/mapicode.php include/mapi/mapidefs.php include/mapi/mapitags.php include/mapi/mapi.util.php include/mapi/class.recurrence.php include/mapi/class.meetingrequest.php include/mapi/class.freebusypublish.php include/mapi/mapiguid.php
d21 1
@


1.3
log
@- bugfix update to zarafa-6.20.4
@
text
@d1 3
a3 3
$OpenBSD: patch-php-ext_Makefile_in,v 1.2 2009/03/05 08:01:26 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Thu Mar 26 14:35:50 2009
+++ php-ext/Makefile.in	Fri Apr  3 19:36:34 2009
d13 1
a13 8
@@@@ -254,13 +254,13 @@@@ AM_CPPFLAGS = $(DEBUGFLAGS) -DLINUX \
 	$(PHP_INCLUDES) -I${top_srcdir}/common \
 	-I$(top_srcdir)/inetmapi
 
-mapi_la_LDFLAGS = -module $(PHP_LDFLAGS) \
+mapi_la_LDFLAGS = -module -avoid-version $(PHP_LDFLAGS) \
 	${top_builddir}/mapi4linux/src/libmapi.la \
 	${top_builddir}/common/libcommon_mapi.la \
@


1.2
log
@- bugfix update to zarafa-6.20.2
- don't hardcode /var/www, use PREFIX-php
- add missing build_depends on net/curl (spotted by form@@, thanks!)
@
text
@d1 4
a4 4
$OpenBSD: patch-php-ext_Makefile_in,v 1.1.1.1 2009/02/16 09:44:37 ajacoutot Exp $
--- php-ext/Makefile.in.orig	Wed Dec 24 20:00:13 2008
+++ php-ext/Makefile.in	Thu Jan  8 12:03:08 2009
@@@@ -215,7 +215,7 @@@@ build_alias = @@build_alias@@
d13 1
a13 1
@@@@ -251,13 +251,13 @@@@ AM_CPPFLAGS = $(DEBUGFLAGS) -DLINUX \
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d9 1
a9 1
+datadir = /var/www/include/php/mapi
@


1.1.1.1
log
@Import zarafa-6.20.1 (+php5-mapi-6.20.1)

-main
Zarafa is a full-featured e-mail and groupware solution, focused
towards clients using the MAPI standard.  As an MS Exchange replacement,
the Zarafa suite provides the following features:
 * Integration with existing Unix mailserver
 * Native mobile phone support
 * MS Outlook "Look & Feel" webaccess
 * Stable MS Outlook sharing (100% MAPI)

This package provides the Open Source version of Zarafa.

-php
Messaging Application Programming Interface (MAPI) is a messaging
architecture and a Component Object Model based API for Microsoft
Windows. MAPI allows client programs to become (e-mail)
messaging-enabled, -aware, or -based by calling MAPI subsystem routines
that interface with certain messaging servers. While MAPI is designed to
be independent of the protocol, it is usually used with MAPI/RPC, the
proprietary protocol that Microsoft Outlook uses to communicate with
Microsoft Exchange.

These functions allow you to access a MAPI compliant email server.

"just do it" robert@@, ok jasper@@
@
text
@@
