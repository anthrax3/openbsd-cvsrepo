head	1.25;
access;
symbols
	OPENBSD_4_7:1.19.0.2
	OPENBSD_4_7_BASE:1.19
	OPENBSD_4_6:1.10.0.2
	OPENBSD_4_6_BASE:1.10
	OPENBSD_4_5:1.1.1.1.0.2
	OPENBSD_4_5_BASE:1.1.1.1
	ajacoutot_20090216:1.1.1.1
	ajacoutot:1.1.1;
locks; strict;
comment	@# @;


1.25
date	2010.06.30.02.46.47;	author ajacoutot;	state dead;
branches;
next	1.24;

1.24
date	2010.06.03.14.02.09;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2010.04.28.15.22.35;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2010.04.27.07.26.34;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2010.04.22.10.06.45;	author ajacoutot;	state Exp;
branches;
next	1.20;

1.20
date	2010.03.21.11.15.56;	author ajacoutot;	state Exp;
branches;
next	1.19;

1.19
date	2010.01.12.15.59.48;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2010.01.09.14.03.39;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2009.12.16.18.41.25;	author ajacoutot;	state Exp;
branches;
next	1.16;

1.16
date	2009.11.18.13.56.31;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2009.10.21.10.00.11;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2009.10.20.22.34.54;	author ajacoutot;	state Exp;
branches;
next	1.13;

1.13
date	2009.09.11.16.34.34;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.08.20.13.33.53;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2009.07.31.09.56.48;	author ajacoutot;	state Exp;
branches;
next	1.10;

1.10
date	2009.06.09.18.23.03;	author ajacoutot;	state Exp;
branches;
next	1.9;

1.9
date	2009.05.14.17.38.22;	author ajacoutot;	state Exp;
branches;
next	1.8;

1.8
date	2009.05.14.15.36.19;	author ajacoutot;	state Exp;
branches;
next	1.7;

1.7
date	2009.04.28.11.00.18;	author ajacoutot;	state Exp;
branches;
next	1.6;

1.6
date	2009.04.03.17.31.23;	author ajacoutot;	state Exp;
branches;
next	1.5;

1.5
date	2009.03.20.10.34.33;	author ajacoutot;	state Exp;
branches;
next	1.4;

1.4
date	2009.03.19.13.14.15;	author ajacoutot;	state Exp;
branches;
next	1.3;

1.3
date	2009.03.19.09.34.59;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2009.03.05.08.03.34;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2009.02.16.09.43.39;	author ajacoutot;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2009.02.16.09.43.39;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.25
log
@*MAJOR* version update to zarafa-6.40.0.
Read the complete changelog here:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt

Upgrade documentation is available at:
http://doc.zarafa.com/6.40/Administrator_Manual/en-US/html-single/index.html#_performing_the_upgrade

zarafa-libical has been removed, current version from ports works fine
for zarafa needs.

php5-mapi has been merged into zarafa-webaccess.
@
text
@# $OpenBSD: Makefile,v 1.24 2010/06/03 14:02:09 ajacoutot Exp $

COMMENT=	zarafa webaccess frontend

V=		6.30.14
DISTNAME=	zarafa-webaccess-ajax-${V}
PKGNAME=	zarafa-webaccess-${V}p0

CATEGORIES=	mail www productivity

MASTER_SITES=	http://www.bsdfrog.org/OpenBSD/distfiles/zarafa/

RUN_DEPENDS=	::mail/zarafa/zarafa,-php

NO_BUILD=	Yes
NO_REGRESS=	Yes
PKG_ARCH=	*

PREFIX=		/var/www
INSTDIR=	${PREFIX}/zarafa-webaccess
SUBST_VARS=	INSTDIR

WRKDIST=	${WRKDIR}

do-install:
	${SUBST_CMD} ${WRKDIR}/php-webclient-ajax/config.php.dist
	find ${WRKDIR} -name \*.orig -or -name \*.bak | xargs rm -f
	mv ${WRKDIR}/php-webclient-ajax ${INSTDIR}
	mv ${INSTDIR}/debug.php \
		${INSTDIR}/debug.php.disabled
	mv ${INSTDIR}/client/layout/img/login.jpg \
		${INSTDIR}/client/layout/img/_login.jpg
	${INSTALL_DATA} /dev/null ${INSTDIR}/debug.txt 
	chown -R ${SHAREOWN}:${SHAREGRP} ${INSTDIR}
	find ${PREFIX} -name \*.beforesubst -exec rm {} \;

.include <bsd.port.mk>
@


1.24
log
@Edit MESSAGE: better use .htaccess than tweaking php.ini.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2010/04/28 15:22:35 ajacoutot Exp $
@


1.23
log
@Bufgix update to zarafa-webaccess-6.30.14.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2010/04/27 07:26:34 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	zarafa-webaccess-${V}
@


1.22
log
@Remove the beforesubst file in PREFIX.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2010/04/22 10:06:45 ajacoutot Exp $
d5 1
a5 1
V=		6.30.13
d7 1
a7 1
PKGNAME=	zarafa-webaccess-${V}p0
@


1.21
log
@Update to zarafa-webaccess-6.30.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2010/03/21 11:15:56 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	zarafa-webaccess-${V}
d35 1
@


1.20
log
@Major update to zarafa-webaccess-6.30.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2010/01/12 15:59:48 ajacoutot Exp $
d5 1
a5 1
V=		6.30.12
@


1.19
log
@Minor update to version 6.30.8.
Fix a bug with email attachments.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2010/01/09 14:03:39 ajacoutot Exp $
d5 1
a5 1
V=		6.30.8
@


1.18
log
@Bugfix update to zarafa-webaccess-6.30.7.
Changelog:
    http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2009/12/16 18:41:25 ajacoutot Exp $
d5 1
a5 1
V=		6.30.7
@


1.17
log
@Second part of zarafa update: zarafa-webaccess-6.30.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2009/11/18 13:56:31 ajacoutot Exp $
d5 1
a5 1
V=		6.30.6
d8 1
@


1.16
log
@Upgrade to zarafa-webaccess-6.30.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2009/10/21 10:00:11 ajacoutot Exp $
d5 1
a5 1
V=		6.30.5
@


1.15
log
@Update to zarafa-webaccess-6.30.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2009/10/20 22:34:54 ajacoutot Exp $
d5 1
a5 1
V=		6.30.4
@


1.14
log
@Update to zarafa-webaccess-6.30.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/09/11 16:34:34 ajacoutot Exp $
d5 1
a5 1
V=		6.30.3
@


1.13
log
@Update to zarafa-webaccess-6.30.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/08/20 13:33:53 ajacoutot Exp $
d5 1
a5 1
V=		6.30.2
@


1.12
log
@Update to zarafa-webaccess-6.30.1.

ChangeLog:
http://download.zarafa.com/zarafa/release/docs/changelog.en.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2009/07/31 09:56:48 ajacoutot Exp $
d5 1
a5 1
V=		6.30.1
@


1.11
log
@Update to zarafa-webaccess-6.30.0. On par with current zarafa version.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2009/06/09 18:23:03 ajacoutot Exp $
d5 1
a5 1
V=		6.30.0
@


1.10
log
@Update the webaccess to version 2.20.6
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2009/05/14 17:38:22 ajacoutot Exp $
d5 1
a5 1
V=		6.20.6
@


1.9
log
@- really remove bogus dir, no pkg change
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2009/05/14 15:36:19 ajacoutot Exp $
d5 1
a5 1
V=		6.20.5
d7 1
a7 1
PKGNAME=	zarafa-webaccess-${V}p0
@


1.8
log
@- remove bogus directory
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2009/04/28 11:00:18 ajacoutot Exp $
a26 1
	${INSTALL_DATA_DIR} ${PREFIX}/zarafa
@


1.7
log
@- update to zarafa-webaccess-6.20.5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2009/04/03 17:31:23 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	zarafa-webaccess-${V}
@


1.6
log
@- update to zarafa-webaccess-6.20.4
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2009/03/20 10:34:33 ajacoutot Exp $
d5 1
a5 1
V=		6.20.4
@


1.5
log
@- remove the "mobile" webaccess
it is buggy, does not work correctly and upstream development has been
ceased

note that the webaccess now installs under /var/www/zarafa-webaccess
instead of /var/www/zarafa/webacess
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2009/03/19 13:14:15 ajacoutot Exp $
d5 1
a5 1
V=		6.20.3
d7 1
a7 1
PKGNAME=	zarafa-webaccess-${V}p1
@


1.4
log
@- do not raise php memory_limit to unlimited
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2009/03/19 09:34:59 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	zarafa-webaccess-${V}p0
a9 3
DISTFILES=	${DISTNAME}${EXTRACT_SUFX} \
		zarafa-webaccess-mobile-${V}${EXTRACT_SUFX}

d12 1
a12 2
RUN_DEPENDS=	::mail/zarafa/zarafa,-php \
		::devel/smarty
d19 1
a19 1
INSTDIR=	${PREFIX}/zarafa
d28 6
a33 12
	mv ${WRKDIR}/php-webclient-ajax ${INSTDIR}/webaccess
	mv ${WRKDIR}/php-mobile-webaccess ${INSTDIR}/webaccess-mobile
	mv ${INSTDIR}/webaccess-mobile/config.php \
		${INSTDIR}/webaccess-mobile/config.php.dist
	mv ${INSTDIR}/webaccess/debug.php \
		${INSTDIR}/webaccess/debug.php.disabled
	mv ${INSTDIR}/webaccess/client/layout/img/login.jpg \
		${INSTDIR}/webaccess/client/layout/img/_login.jpg
	mv ${INSTDIR}/webaccess-mobile/debug.php \
		${INSTDIR}/webaccess-mobile/debug.php.disabled
	${INSTALL_DATA} /dev/null ${INSTDIR}/webaccess/debug.txt 
	${INSTALL_DATA} /dev/null ${INSTDIR}/webaccess-mobile/debug.txt
@


1.3
log
@- update to zarafa-webaccess-6.20.3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2009/03/05 08:03:34 ajacoutot Exp $
d7 1
a7 1
PKGNAME=	zarafa-webaccess-${V}
@


1.2
log
@- update to zarafa-webaccess-6.20.2
- @@sample the login.jpg file so that it can be modified for theming
purpose
- don't bother checksuming debut.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2009/02/16 09:43:39 ajacoutot Exp $
d5 1
a5 1
V=		6.20.2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 1
a5 1
V=		6.20.1
d38 2
@


1.1.1.1
log
@Import zarafa-webaccess-6.20.1

Zarafa provides full functionality webaccess completely in the Outlook
"Look & Feel". It includes access to email, calendars, contacts, tasks,
shared folders and Public Folders. The AJAX implementation with drag &
drop support is used be competitive with desktop email applications.

This package provides both web and mobile clients access to Zarafa.

"just do it" robert@@, ok jasper@@
@
text
@@
