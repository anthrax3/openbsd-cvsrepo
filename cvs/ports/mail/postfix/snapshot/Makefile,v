head	1.304;
access;
symbols
	OPENBSD_6_1:1.304.0.2
	OPENBSD_6_1_BASE:1.304
	OPENBSD_6_0:1.295.0.2
	OPENBSD_6_0_BASE:1.295
	OPENBSD_5_9:1.292.0.2
	OPENBSD_5_9_BASE:1.292
	OPENBSD_5_8:1.288.0.4
	OPENBSD_5_8_BASE:1.288
	OPENBSD_5_7:1.281.0.2
	OPENBSD_5_7_BASE:1.281
	OPENBSD_5_6:1.272.0.2
	OPENBSD_5_6_BASE:1.272
	OPENBSD_5_5:1.265.0.2
	OPENBSD_5_5_BASE:1.265
	OPENBSD_5_4:1.259.0.2
	OPENBSD_5_4_BASE:1.259
	OPENBSD_5_3:1.251.0.2
	OPENBSD_5_3_BASE:1.251
	OPENBSD_5_2:1.243.0.2
	OPENBSD_5_2_BASE:1.243
	OPENBSD_5_1_BASE:1.232
	OPENBSD_5_1:1.232.0.2
	OPENBSD_5_0:1.219.0.2
	OPENBSD_5_0_BASE:1.219
	OPENBSD_4_9:1.207.0.2
	OPENBSD_4_9_BASE:1.207
	OPENBSD_4_8:1.201.0.2
	OPENBSD_4_8_BASE:1.201
	OPENBSD_4_7:1.200.0.2
	OPENBSD_4_7_BASE:1.200
	OPENBSD_4_6:1.195.0.2
	OPENBSD_4_6_BASE:1.195
	OPENBSD_4_5:1.188.0.2
	OPENBSD_4_5_BASE:1.188
	OPENBSD_4_4:1.184.0.2
	OPENBSD_4_4_BASE:1.184
	OPENBSD_4_3:1.179.0.2
	OPENBSD_4_3_BASE:1.179
	OPENBSD_4_2:1.170.0.2
	OPENBSD_4_2_BASE:1.170
	OPENBSD_4_1:1.158.0.2
	OPENBSD_4_1_BASE:1.158
	OPENBSD_4_0:1.145.0.2
	OPENBSD_4_0_BASE:1.145
	OPENBSD_3_9:1.120.0.2
	OPENBSD_3_9_BASE:1.120
	OPENBSD_3_8:1.102.0.2
	OPENBSD_3_8_BASE:1.102
	OPENBSD_3_7:1.94.0.2
	OPENBSD_3_7_BASE:1.94
	OPENBSD_3_6:1.87.0.2
	OPENBSD_3_6_BASE:1.87
	OPENBSD_3_5:1.82.0.2
	OPENBSD_3_5_BASE:1.82
	OPENBSD_3_4:1.69.0.2
	OPENBSD_3_4_BASE:1.69
	OPENBSD_3_3:1.61.0.2
	OPENBSD_3_3_BASE:1.61
	OPENBSD_3_2:1.50.0.2
	OPENBSD_3_2_BASE:1.50
	OPENBSD_3_1:1.36.0.2
	OPENBSD_3_1_BASE:1.36
	OPENBSD_3_0:1.26.0.2
	OPENBSD_3_0_BASE:1.26
	OPENBSD_2_9_TRACKING_SWITCH:1.22
	OPENBSD_2_9:1.15.0.2
	OPENBSD_2_9_BASE:1.15
	OPENBSD_2_8:1.5.0.2
	OPENBSD_2_8_BASE:1.5;
locks; strict;
comment	@# @;


1.304
date	2017.02.20.12.10.42;	author sthen;	state Exp;
branches;
next	1.303;
commitid	OUuX1jVcIedy1Cmf;

1.303
date	2017.02.05.21.13.43;	author sthen;	state Exp;
branches;
next	1.302;
commitid	5pe14nt1frJZS5Pr;

1.302
date	2017.02.04.22.09.44;	author sthen;	state Exp;
branches;
next	1.301;
commitid	2mq1eDyEiQSaoWjP;

1.301
date	2017.01.07.23.49.47;	author sthen;	state Exp;
branches;
next	1.300;
commitid	pDY9jI5Sekxz64tY;

1.300
date	2016.12.18.20.28.40;	author jca;	state Exp;
branches;
next	1.299;
commitid	zq9pSv9IXWWdwyU4;

1.299
date	2016.10.18.10.22.26;	author sthen;	state Exp;
branches;
next	1.298;
commitid	Xj2LqJ38wN5gg56M;

1.298
date	2016.09.23.09.16.56;	author sthen;	state Exp;
branches;
next	1.297;
commitid	XLnI6AbHAmyVU5mO;

1.297
date	2016.09.03.15.39.23;	author sthen;	state Exp;
branches;
next	1.296;
commitid	PH0w3npfSn3nGjsZ;

1.296
date	2016.08.03.13.06.41;	author ajacoutot;	state Exp;
branches;
next	1.295;
commitid	Ayvq9GseHPYe2ZHi;

1.295
date	2016.06.29.16.14.43;	author espie;	state Exp;
branches;
next	1.294;
commitid	c1yQMbJbfo0CFBcL;

1.294
date	2016.05.17.11.48.32;	author sthen;	state Exp;
branches;
next	1.293;
commitid	TVaJC1dwbLhlgMTH;

1.293
date	2016.02.25.09.39.49;	author sthen;	state Exp;
branches;
next	1.292;
commitid	0inPEFCBRk3DVT0t;

1.292
date	2016.01.02.22.21.13;	author sthen;	state Exp;
branches;
next	1.291;
commitid	NPb80FsaZksQmFnX;

1.291
date	2015.11.02.10.46.11;	author sthen;	state Exp;
branches;
next	1.290;
commitid	EdYjg4ZUyjFPjxDr;

1.290
date	2015.10.19.19.38.09;	author giovanni;	state Exp;
branches;
next	1.289;
commitid	xektMFeWvlLckmHS;

1.289
date	2015.09.27.13.56.38;	author sthen;	state Exp;
branches;
next	1.288;
commitid	wrKDaMTWZAm9oTtY;

1.288
date	2015.08.03.10.21.15;	author ajacoutot;	state Exp;
branches;
next	1.287;
commitid	Cw1gwzg0aPPN1iXZ;

1.287
date	2015.07.15.22.36.28;	author sthen;	state Exp;
branches;
next	1.286;
commitid	2VIgLm7pcqGv72hA;

1.286
date	2015.07.15.16.18.45;	author sthen;	state Exp;
branches;
next	1.285;
commitid	kDCze7jD9sYm4zvx;

1.285
date	2015.07.15.15.57.18;	author sthen;	state Exp;
branches;
next	1.284;
commitid	MbRXkkAOwNFsJiEC;

1.284
date	2015.05.15.22.05.45;	author sthen;	state Exp;
branches;
next	1.283;
commitid	oTtOijCu6uVYfbJL;

1.283
date	2015.05.12.22.06.18;	author sthen;	state Exp;
branches;
next	1.282;
commitid	xACITehQCNflsQvB;

1.282
date	2015.04.18.09.57.51;	author sthen;	state Exp;
branches;
next	1.281;
commitid	veD9klVUd1IrdAMr;

1.281
date	2015.02.10.21.53.57;	author brad;	state Exp;
branches;
next	1.280;
commitid	waH8rV2n3kiWmDrS;

1.280
date	2015.01.22.18.19.46;	author brad;	state Exp;
branches;
next	1.279;
commitid	LtD9QMzJkX830vBj;

1.279
date	2015.01.05.21.50.29;	author brad;	state Exp;
branches;
next	1.278;
commitid	At7c06iAmbVmCANx;

1.278
date	2014.12.12.11.00.41;	author brad;	state Exp;
branches;
next	1.277;
commitid	IWzSysTRDMwbGGOM;

1.277
date	2014.10.25.22.08.16;	author brad;	state Exp;
branches;
next	1.276;
commitid	XZxOgg3vwkryQHXQ;

1.276
date	2014.10.16.18.41.41;	author brad;	state Exp;
branches;
next	1.275;
commitid	LvHW3qN6kHuLuIAa;

1.275
date	2014.10.16.18.27.28;	author brad;	state Exp;
branches;
next	1.274;
commitid	3QEATwPuvHMmOIhg;

1.274
date	2014.09.13.18.09.21;	author brad;	state Exp;
branches;
next	1.273;
commitid	PpbRjVZdAmlrmi8q;

1.273
date	2014.08.19.21.46.55;	author brad;	state Exp;
branches;
next	1.272;
commitid	N9avqxLqM3pEVM2w;

1.272
date	2014.07.03.16.02.23;	author brad;	state Exp;
branches
	1.272.2.1;
next	1.271;
commitid	ayHAjcZ36EoUGPpS;

1.271
date	2014.06.11.20.57.48;	author brad;	state Exp;
branches;
next	1.270;
commitid	dUclRGkgo33oncT7;

1.270
date	2014.05.14.02.03.47;	author brad;	state Exp;
branches;
next	1.269;

1.269
date	2014.04.25.20.58.18;	author brad;	state Exp;
branches;
next	1.268;

1.268
date	2014.04.07.01.13.13;	author brad;	state Exp;
branches;
next	1.267;

1.267
date	2014.04.02.00.33.09;	author brad;	state Exp;
branches;
next	1.266;

1.266
date	2014.03.09.22.48.53;	author brad;	state Exp;
branches;
next	1.265;

1.265
date	2014.01.17.03.01.41;	author brad;	state Exp;
branches;
next	1.264;

1.264
date	2013.12.21.23.23.27;	author brad;	state Exp;
branches;
next	1.263;

1.263
date	2013.11.27.04.28.30;	author brad;	state Exp;
branches;
next	1.262;

1.262
date	2013.11.04.00.51.37;	author brad;	state Exp;
branches;
next	1.261;

1.261
date	2013.10.26.19.05.54;	author brad;	state Exp;
branches;
next	1.260;

1.260
date	2013.09.09.22.00.24;	author sthen;	state Exp;
branches;
next	1.259;

1.259
date	2013.07.18.20.05.37;	author brad;	state Exp;
branches;
next	1.258;

1.258
date	2013.06.12.20.36.33;	author brad;	state Exp;
branches;
next	1.257;

1.257
date	2013.05.25.00.33.10;	author brad;	state Exp;
branches;
next	1.256;

1.256
date	2013.05.17.14.03.08;	author jasper;	state Exp;
branches;
next	1.255;

1.255
date	2013.04.30.11.28.02;	author sthen;	state Exp;
branches;
next	1.254;

1.254
date	2013.04.14.00.33.55;	author brad;	state Exp;
branches;
next	1.253;

1.253
date	2013.03.22.22.36.32;	author brad;	state Exp;
branches;
next	1.252;

1.252
date	2013.03.02.20.48.04;	author brad;	state Exp;
branches;
next	1.251;

1.251
date	2013.02.05.10.20.52;	author brad;	state Exp;
branches;
next	1.250;

1.250
date	2012.12.14.22.21.36;	author brad;	state Exp;
branches;
next	1.249;

1.249
date	2012.11.25.23.57.54;	author brad;	state Exp;
branches;
next	1.248;

1.248
date	2012.10.26.08.31.45;	author brad;	state Exp;
branches;
next	1.247;

1.247
date	2012.10.04.08.39.04;	author brad;	state Exp;
branches;
next	1.246;

1.246
date	2012.09.05.23.18.11;	author sthen;	state Exp;
branches;
next	1.245;

1.245
date	2012.09.02.12.06.37;	author sthen;	state Exp;
branches;
next	1.244;

1.244
date	2012.08.05.07.58.55;	author sthen;	state Exp;
branches;
next	1.243;

1.243
date	2012.07.08.22.56.10;	author sthen;	state Exp;
branches;
next	1.242;

1.242
date	2012.06.30.08.22.48;	author sthen;	state Exp;
branches;
next	1.241;

1.241
date	2012.05.25.08.21.28;	author sthen;	state Exp;
branches;
next	1.240;

1.240
date	2012.05.16.14.40.08;	author sthen;	state Exp;
branches;
next	1.239;

1.239
date	2012.04.28.09.31.19;	author sthen;	state Exp;
branches;
next	1.238;

1.238
date	2012.04.23.17.15.18;	author espie;	state Exp;
branches;
next	1.237;

1.237
date	2012.04.11.08.34.55;	author sthen;	state Exp;
branches;
next	1.236;

1.236
date	2012.04.10.22.24.29;	author sthen;	state Exp;
branches;
next	1.235;

1.235
date	2012.03.23.17.54.55;	author sthen;	state Exp;
branches;
next	1.234;

1.234
date	2012.03.03.10.16.36;	author sthen;	state Exp;
branches;
next	1.233;

1.233
date	2012.02.20.09.55.31;	author sthen;	state Exp;
branches;
next	1.232;

1.232
date	2012.02.01.21.37.48;	author sthen;	state Exp;
branches;
next	1.231;

1.231
date	2012.02.01.21.30.55;	author jakob;	state Exp;
branches;
next	1.230;

1.230
date	2012.01.04.23.43.55;	author sthen;	state Exp;
branches;
next	1.229;

1.229
date	2011.12.20.22.41.16;	author sthen;	state Exp;
branches;
next	1.228;

1.228
date	2011.12.01.10.26.52;	author sthen;	state Exp;
branches;
next	1.227;

1.227
date	2011.11.13.16.20.00;	author sthen;	state Exp;
branches;
next	1.226;

1.226
date	2011.11.10.17.27.09;	author sthen;	state Exp;
branches;
next	1.225;

1.225
date	2011.11.07.12.31.22;	author sthen;	state Exp;
branches;
next	1.224;

1.224
date	2011.11.03.00.56.17;	author sthen;	state Exp;
branches;
next	1.223;

1.223
date	2011.09.29.09.39.04;	author sthen;	state Exp;
branches;
next	1.222;

1.222
date	2011.09.24.09.35.01;	author sthen;	state Exp;
branches;
next	1.221;

1.221
date	2011.09.16.10.31.22;	author espie;	state Exp;
branches;
next	1.220;

1.220
date	2011.08.21.11.07.07;	author sthen;	state Exp;
branches;
next	1.219;

1.219
date	2011.07.17.20.14.56;	author sthen;	state Exp;
branches;
next	1.218;

1.218
date	2011.07.15.18.10.18;	author robert;	state Exp;
branches;
next	1.217;

1.217
date	2011.07.07.16.22.30;	author sthen;	state Exp;
branches;
next	1.216;

1.216
date	2011.05.09.21.56.13;	author sthen;	state Exp;
branches;
next	1.215;

1.215
date	2011.05.03.23.12.00;	author sthen;	state Exp;
branches;
next	1.214;

1.214
date	2011.04.28.00.22.23;	author sthen;	state Exp;
branches;
next	1.213;

1.213
date	2011.03.24.09.58.10;	author sthen;	state Exp;
branches;
next	1.212;

1.212
date	2011.03.22.09.40.20;	author sthen;	state Exp;
branches;
next	1.211;

1.211
date	2011.03.09.10.45.27;	author sthen;	state Exp;
branches;
next	1.210;

1.210
date	2011.03.07.23.14.28;	author sthen;	state Exp;
branches;
next	1.209;

1.209
date	2011.03.07.13.00.53;	author sthen;	state Exp;
branches;
next	1.208;

1.208
date	2011.03.06.09.36.29;	author jakob;	state Exp;
branches;
next	1.207;

1.207
date	2011.01.15.22.37.39;	author jasper;	state Exp;
branches;
next	1.206;

1.206
date	2011.01.07.19.22.06;	author sthen;	state Exp;
branches;
next	1.205;

1.205
date	2010.11.18.20.56.49;	author jakob;	state Exp;
branches;
next	1.204;

1.204
date	2010.10.18.19.59.18;	author espie;	state Exp;
branches;
next	1.203;

1.203
date	2010.10.01.20.19.54;	author jakob;	state Exp;
branches;
next	1.202;

1.202
date	2010.08.31.06.03.32;	author jakob;	state Exp;
branches;
next	1.201;

1.201
date	2010.04.23.07.01.40;	author jakob;	state Exp;
branches;
next	1.200;

1.200
date	2009.12.12.08.35.58;	author jakob;	state Exp;
branches;
next	1.199;

1.199
date	2009.11.14.07.05.44;	author jakob;	state Exp;
branches;
next	1.198;

1.198
date	2009.08.30.12.25.55;	author sthen;	state Exp;
branches;
next	1.197;

1.197
date	2009.07.24.21.32.33;	author jakob;	state Exp;
branches;
next	1.196;

1.196
date	2009.07.18.20.26.19;	author naddy;	state Exp;
branches;
next	1.195;

1.195
date	2009.06.04.21.33.43;	author sthen;	state Exp;
branches;
next	1.194;

1.194
date	2009.05.12.19.51.42;	author jakob;	state Exp;
branches;
next	1.193;

1.193
date	2009.05.01.11.59.37;	author jakob;	state Exp;
branches;
next	1.192;

1.192
date	2009.04.19.14.14.21;	author jakob;	state Exp;
branches;
next	1.191;

1.191
date	2009.04.05.20.48.25;	author sthen;	state Exp;
branches;
next	1.190;

1.190
date	2009.03.17.19.32.44;	author sthen;	state Exp;
branches;
next	1.189;

1.189
date	2009.03.15.19.38.05;	author jakob;	state Exp;
branches;
next	1.188;

1.188
date	2009.02.01.19.06.53;	author jakob;	state Exp;
branches;
next	1.187;

1.187
date	2009.01.13.10.05.53;	author jakob;	state Exp;
branches;
next	1.186;

1.186
date	2008.12.07.09.02.49;	author brad;	state Exp;
branches;
next	1.185;

1.185
date	2008.08.21.21.53.34;	author brad;	state Exp;
branches;
next	1.184;

1.184
date	2008.07.28.13.34.18;	author jakob;	state Exp;
branches;
next	1.183;

1.183
date	2008.06.30.07.39.10;	author brad;	state Exp;
branches;
next	1.182;

1.182
date	2008.06.18.06.49.31;	author brad;	state Exp;
branches;
next	1.181;

1.181
date	2008.05.29.17.12.54;	author jakob;	state Exp;
branches;
next	1.180;

1.180
date	2008.05.16.07.56.09;	author jakob;	state Exp;
branches;
next	1.179;

1.179
date	2008.03.03.10.03.18;	author sthen;	state Exp;
branches;
next	1.178;

1.178
date	2008.02.29.12.25.22;	author jakob;	state Exp;
branches;
next	1.177;

1.177
date	2008.02.17.17.51.34;	author jakob;	state Exp;
branches;
next	1.176;

1.176
date	2008.02.01.16.53.58;	author jakob;	state Exp;
branches;
next	1.175;

1.175
date	2007.11.19.09.16.53;	author jakob;	state Exp;
branches;
next	1.174;

1.174
date	2007.10.25.21.05.33;	author steven;	state Exp;
branches;
next	1.173;

1.173
date	2007.10.21.10.22.57;	author jakob;	state Exp;
branches;
next	1.172;

1.172
date	2007.09.28.07.02.16;	author jakob;	state Exp;
branches;
next	1.171;

1.171
date	2007.08.27.07.01.56;	author jakob;	state Exp;
branches;
next	1.170;

1.170
date	2007.08.05.18.52.38;	author jakob;	state Exp;
branches;
next	1.169;

1.169
date	2007.08.05.17.47.44;	author jakob;	state Exp;
branches;
next	1.168;

1.168
date	2007.05.31.20.15.00;	author jakob;	state Exp;
branches;
next	1.167;

1.167
date	2007.05.31.10.19.00;	author espie;	state Exp;
branches;
next	1.166;

1.166
date	2007.04.30.13.40.04;	author jakob;	state Exp;
branches;
next	1.165;

1.165
date	2007.04.20.07.43.19;	author jakob;	state Exp;
branches;
next	1.164;

1.164
date	2007.03.30.07.44.59;	author jakob;	state Exp;
branches;
next	1.163;

1.163
date	2007.03.26.06.42.18;	author jakob;	state Exp;
branches;
next	1.162;

1.162
date	2007.03.21.08.29.38;	author jakob;	state Exp;
branches;
next	1.161;

1.161
date	2007.03.19.23.55.59;	author ajacoutot;	state Exp;
branches;
next	1.160;

1.160
date	2007.03.19.10.24.51;	author ajacoutot;	state Exp;
branches;
next	1.159;

1.159
date	2007.03.15.21.48.27;	author jakob;	state Exp;
branches;
next	1.158;

1.158
date	2007.01.31.22.48.56;	author jakob;	state Exp;
branches;
next	1.157;

1.157
date	2007.01.17.13.50.16;	author jakob;	state Exp;
branches;
next	1.156;

1.156
date	2007.01.12.10.38.10;	author jakob;	state Exp;
branches;
next	1.155;

1.155
date	2007.01.03.08.45.43;	author jakob;	state Exp;
branches;
next	1.154;

1.154
date	2006.12.22.20.03.01;	author todd;	state Exp;
branches;
next	1.153;

1.153
date	2006.12.18.07.19.39;	author jakob;	state Exp;
branches;
next	1.152;

1.152
date	2006.12.03.01.01.39;	author jakob;	state Exp;
branches;
next	1.151;

1.151
date	2006.11.13.07.45.05;	author jakob;	state Exp;
branches;
next	1.150;

1.150
date	2006.10.25.22.44.09;	author jolan;	state Exp;
branches;
next	1.149;

1.149
date	2006.10.08.04.06.32;	author brad;	state Exp;
branches;
next	1.148;

1.148
date	2006.10.05.01.55.23;	author brad;	state Exp;
branches;
next	1.147;

1.147
date	2006.10.02.20.35.29;	author brad;	state Exp;
branches;
next	1.146;

1.146
date	2006.09.18.05.25.40;	author brad;	state Exp;
branches;
next	1.145;

1.145
date	2006.07.29.02.52.43;	author brad;	state Exp;
branches;
next	1.144;

1.144
date	2006.07.25.15.40.13;	author brad;	state Exp;
branches;
next	1.143;

1.143
date	2006.07.22.20.40.51;	author brad;	state Exp;
branches;
next	1.142;

1.142
date	2006.07.17.09.07.56;	author jakob;	state Exp;
branches;
next	1.141;

1.141
date	2006.07.05.06.29.42;	author jakob;	state Exp;
branches;
next	1.140;

1.140
date	2006.07.05.06.21.09;	author jakob;	state Exp;
branches;
next	1.139;

1.139
date	2006.07.03.09.51.19;	author jakob;	state Exp;
branches;
next	1.138;

1.138
date	2006.06.30.15.33.58;	author jakob;	state Exp;
branches;
next	1.137;

1.137
date	2006.06.26.18.51.13;	author jakob;	state Exp;
branches;
next	1.136;

1.136
date	2006.06.16.15.52.19;	author jakob;	state Exp;
branches;
next	1.135;

1.135
date	2006.06.16.06.26.20;	author brad;	state Exp;
branches;
next	1.134;

1.134
date	2006.06.07.05.36.35;	author jakob;	state Exp;
branches;
next	1.133;

1.133
date	2006.06.04.18.11.28;	author jakob;	state Exp;
branches;
next	1.132;

1.132
date	2006.06.03.19.53.38;	author brad;	state Exp;
branches;
next	1.131;

1.131
date	2006.05.26.09.37.10;	author jakob;	state Exp;
branches;
next	1.130;

1.130
date	2006.05.25.16.36.49;	author jakob;	state Exp;
branches;
next	1.129;

1.129
date	2006.05.18.03.04.15;	author brad;	state Exp;
branches;
next	1.128;

1.128
date	2006.05.09.22.31.08;	author brad;	state Exp;
branches;
next	1.127;

1.127
date	2006.04.19.10.28.27;	author brad;	state Exp;
branches;
next	1.126;

1.126
date	2006.04.08.23.07.10;	author brad;	state Exp;
branches;
next	1.125;

1.125
date	2006.04.07.08.17.23;	author jakob;	state Exp;
branches;
next	1.124;

1.124
date	2006.04.05.00.59.48;	author brad;	state Exp;
branches;
next	1.123;

1.123
date	2006.03.26.19.17.09;	author brad;	state Exp;
branches;
next	1.122;

1.122
date	2006.03.18.04.39.18;	author brad;	state Exp;
branches;
next	1.121;

1.121
date	2006.03.10.08.48.59;	author brad;	state Exp;
branches;
next	1.120;

1.120
date	2006.02.07.19.50.45;	author brad;	state Exp;
branches;
next	1.119;

1.119
date	2006.01.27.03.49.44;	author brad;	state Exp;
branches;
next	1.118;

1.118
date	2006.01.25.06.21.09;	author brad;	state Exp;
branches;
next	1.117;

1.117
date	2006.01.14.01.05.02;	author brad;	state Exp;
branches;
next	1.116;

1.116
date	2006.01.05.00.55.06;	author brad;	state Exp;
branches;
next	1.115;

1.115
date	2005.12.30.00.03.43;	author brad;	state Exp;
branches;
next	1.114;

1.114
date	2005.12.25.07.13.45;	author jakob;	state Exp;
branches;
next	1.113;

1.113
date	2005.12.23.18.55.38;	author brad;	state Exp;
branches;
next	1.112;

1.112
date	2005.12.18.23.24.20;	author brad;	state Exp;
branches;
next	1.111;

1.111
date	2005.12.11.17.59.59;	author brad;	state Exp;
branches;
next	1.110;

1.110
date	2005.12.09.03.33.41;	author brad;	state Exp;
branches;
next	1.109;

1.109
date	2005.11.30.07.07.04;	author jakob;	state Exp;
branches;
next	1.108;

1.108
date	2005.11.27.03.52.25;	author brad;	state Exp;
branches;
next	1.107;

1.107
date	2005.11.23.01.02.38;	author brad;	state Exp;
branches;
next	1.106;

1.106
date	2005.11.15.04.04.53;	author brad;	state Exp;
branches;
next	1.105;

1.105
date	2005.11.06.06.15.35;	author brad;	state Exp;
branches;
next	1.104;

1.104
date	2005.10.14.23.58.34;	author brad;	state Exp;
branches;
next	1.103;

1.103
date	2005.09.04.18.17.59;	author brad;	state Exp;
branches;
next	1.102;

1.102
date	2005.07.18.23.22.40;	author brad;	state Exp;
branches;
next	1.101;

1.101
date	2005.07.08.23.33.15;	author brad;	state Exp;
branches;
next	1.100;

1.100
date	2005.06.22.18.16.53;	author jakob;	state Exp;
branches;
next	1.99;

1.99
date	2005.05.06.16.39.12;	author brad;	state Exp;
branches;
next	1.98;

1.98
date	2005.04.29.23.47.00;	author brad;	state Exp;
branches;
next	1.97;

1.97
date	2005.04.07.19.37.05;	author brad;	state Exp;
branches;
next	1.96;

1.96
date	2005.04.03.23.36.39;	author brad;	state Exp;
branches;
next	1.95;

1.95
date	2005.03.22.15.31.45;	author brad;	state Exp;
branches;
next	1.94;

1.94
date	2005.03.10.07.25.04;	author jakob;	state Exp;
branches;
next	1.93;

1.93
date	2005.03.07.18.26.40;	author brad;	state Exp;
branches;
next	1.92;

1.92
date	2005.02.21.00.40.18;	author brad;	state Exp;
branches;
next	1.91;

1.91
date	2005.02.07.22.31.32;	author jakob;	state Exp;
branches;
next	1.90;

1.90
date	2005.01.23.23.57.16;	author jakob;	state Exp;
branches;
next	1.89;

1.89
date	2004.12.28.09.08.12;	author jakob;	state Exp;
branches;
next	1.88;

1.88
date	2004.11.16.06.56.07;	author jakob;	state Exp;
branches;
next	1.87;

1.87
date	2004.06.22.05.20.13;	author brad;	state Exp;
branches;
next	1.86;

1.86
date	2004.06.11.07.47.30;	author brad;	state Exp;
branches;
next	1.85;

1.85
date	2004.06.10.21.22.26;	author jakob;	state Exp;
branches;
next	1.84;

1.84
date	2004.06.10.21.15.24;	author jakob;	state Exp;
branches;
next	1.83;

1.83
date	2004.04.25.10.36.39;	author jakob;	state Exp;
branches;
next	1.82;

1.82
date	2004.02.12.22.24.55;	author jakob;	state Exp;
branches;
next	1.81;

1.81
date	2004.02.08.12.23.18;	author jakob;	state Exp;
branches;
next	1.80;

1.80
date	2004.02.08.11.17.11;	author jakob;	state Exp;
branches;
next	1.79;

1.79
date	2004.01.26.13.43.02;	author jakob;	state Exp;
branches;
next	1.78;

1.78
date	2004.01.09.10.47.08;	author jakob;	state Exp;
branches;
next	1.77;

1.77
date	2003.12.26.16.46.34;	author jakob;	state Exp;
branches;
next	1.76;

1.76
date	2003.12.21.09.31.18;	author jakob;	state Exp;
branches;
next	1.75;

1.75
date	2003.11.24.21.06.43;	author jakob;	state Exp;
branches;
next	1.74;

1.74
date	2003.11.24.19.33.09;	author jakob;	state Exp;
branches;
next	1.73;

1.73
date	2003.11.24.18.52.06;	author jakob;	state Exp;
branches;
next	1.72;

1.72
date	2003.11.24.18.50.08;	author jakob;	state Exp;
branches;
next	1.71;

1.71
date	2003.11.04.15.28.13;	author jakob;	state Exp;
branches;
next	1.70;

1.70
date	2003.10.05.19.41.33;	author jakob;	state Exp;
branches;
next	1.69;

1.69
date	2003.07.06.21.19.31;	author jakob;	state Exp;
branches;
next	1.68;

1.68
date	2003.06.23.19.11.11;	author sturm;	state Exp;
branches;
next	1.67;

1.67
date	2003.06.11.18.31.00;	author jakob;	state Exp;
branches;
next	1.66;

1.66
date	2003.06.10.20.46.33;	author jakob;	state Exp;
branches;
next	1.65;

1.65
date	2003.05.16.02.52.43;	author jakob;	state Exp;
branches;
next	1.64;

1.64
date	2003.04.22.17.31.29;	author jakob;	state Exp;
branches;
next	1.63;

1.63
date	2003.04.16.06.45.01;	author jakob;	state Exp;
branches;
next	1.62;

1.62
date	2003.03.27.18.31.03;	author jakob;	state Exp;
branches;
next	1.61;

1.61
date	2003.01.28.17.29.09;	author jakob;	state Exp;
branches;
next	1.60;

1.60
date	2003.01.28.16.50.33;	author jakob;	state Exp;
branches;
next	1.59;

1.59
date	2003.01.06.11.37.24;	author jakob;	state Exp;
branches;
next	1.58;

1.58
date	2002.12.20.16.26.22;	author jakob;	state Exp;
branches;
next	1.57;

1.57
date	2002.12.15.22.10.41;	author jakob;	state Exp;
branches;
next	1.56;

1.56
date	2002.12.15.21.23.28;	author jakob;	state Exp;
branches;
next	1.55;

1.55
date	2002.11.12.12.43.19;	author jakob;	state Exp;
branches;
next	1.54;

1.54
date	2002.11.06.21.48.38;	author jakob;	state Exp;
branches;
next	1.53;

1.53
date	2002.10.31.22.57.58;	author jakob;	state Exp;
branches;
next	1.52;

1.52
date	2002.10.30.22.22.45;	author jakob;	state Exp;
branches;
next	1.51;

1.51
date	2002.10.11.23.00.04;	author jakob;	state Exp;
branches;
next	1.50;

1.50
date	2002.09.23.13.38.57;	author jakob;	state Exp;
branches;
next	1.49;

1.49
date	2002.09.07.19.08.37;	author jakob;	state Exp;
branches;
next	1.48;

1.48
date	2002.06.22.08.59.13;	author jakob;	state Exp;
branches;
next	1.47;

1.47
date	2002.06.12.06.01.16;	author jakob;	state Exp;
branches;
next	1.46;

1.46
date	2002.06.02.15.24.13;	author jakob;	state Exp;
branches;
next	1.45;

1.45
date	2002.05.30.19.51.47;	author jakob;	state Exp;
branches;
next	1.44;

1.44
date	2002.05.28.07.26.16;	author jakob;	state Exp;
branches;
next	1.43;

1.43
date	2002.05.15.06.20.04;	author jakob;	state Exp;
branches;
next	1.42;

1.42
date	2002.05.15.06.08.10;	author jakob;	state Exp;
branches;
next	1.41;

1.41
date	2002.05.14.19.37.42;	author jakob;	state Exp;
branches;
next	1.40;

1.40
date	2002.05.13.19.34.44;	author jakob;	state Exp;
branches;
next	1.39;

1.39
date	2002.05.09.08.00.33;	author jakob;	state Exp;
branches;
next	1.38;

1.38
date	2002.05.06.15.42.00;	author jakob;	state Exp;
branches;
next	1.37;

1.37
date	2002.04.19.21.11.29;	author jakob;	state Exp;
branches;
next	1.36;

1.36
date	2002.01.25.08.12.19;	author jakob;	state Exp;
branches;
next	1.35;

1.35
date	2002.01.16.14.47.34;	author jakob;	state Exp;
branches;
next	1.34;

1.34
date	2002.01.08.20.12.02;	author jakob;	state Exp;
branches;
next	1.33;

1.33
date	2002.01.02.08.01.03;	author jakob;	state Exp;
branches;
next	1.32;

1.32
date	2001.11.22.22.49.22;	author jakob;	state Exp;
branches;
next	1.31;

1.31
date	2001.11.22.22.31.49;	author jakob;	state Exp;
branches;
next	1.30;

1.30
date	2001.11.15.20.05.40;	author jakob;	state Exp;
branches;
next	1.29;

1.29
date	2001.11.15.07.33.58;	author jakob;	state Exp;
branches;
next	1.28;

1.28
date	2001.11.10.23.28.21;	author jakob;	state Exp;
branches;
next	1.27;

1.27
date	2001.10.25.21.35.38;	author jakob;	state Exp;
branches;
next	1.26;

1.26
date	2001.10.08.22.12.18;	author jakob;	state Exp;
branches;
next	1.25;

1.25
date	2001.09.28.23.32.47;	author jakob;	state Exp;
branches;
next	1.24;

1.24
date	2001.09.28.19.06.29;	author jakob;	state Exp;
branches;
next	1.23;

1.23
date	2001.09.14.23.48.45;	author jakob;	state Exp;
branches;
next	1.22;

1.22
date	2001.08.09.07.37.37;	author jakob;	state Exp;
branches;
next	1.21;

1.21
date	2001.07.15.21.47.51;	author jakob;	state Exp;
branches;
next	1.20;

1.20
date	2001.07.10.08.11.44;	author jakob;	state Exp;
branches;
next	1.19;

1.19
date	2001.06.11.06.31.52;	author jakob;	state Exp;
branches;
next	1.18;

1.18
date	2001.05.29.11.56.09;	author jakob;	state Exp;
branches;
next	1.17;

1.17
date	2001.05.26.05.57.17;	author jakob;	state Exp;
branches;
next	1.16;

1.16
date	2001.05.05.22.13.47;	author jakob;	state Exp;
branches;
next	1.15;

1.15
date	2001.03.31.08.48.06;	author jakob;	state Exp;
branches
	1.15.2.1;
next	1.14;

1.14
date	2001.03.01.07.59.17;	author jakob;	state Exp;
branches;
next	1.13;

1.13
date	2001.02.26.07.15.23;	author jakob;	state Exp;
branches;
next	1.12;

1.12
date	2001.02.23.14.34.42;	author jakob;	state Exp;
branches;
next	1.11;

1.11
date	2001.02.06.22.40.05;	author jakob;	state Exp;
branches;
next	1.10;

1.10
date	2001.02.01.07.28.12;	author jakob;	state Exp;
branches;
next	1.9;

1.9
date	2000.12.18.10.52.32;	author jakob;	state Exp;
branches;
next	1.8;

1.8
date	2000.12.11.03.17.50;	author jakob;	state Exp;
branches;
next	1.7;

1.7
date	2000.11.21.19.45.36;	author jakob;	state Exp;
branches;
next	1.6;

1.6
date	2000.11.18.09.29.52;	author jakob;	state Exp;
branches;
next	1.5;

1.5
date	2000.10.06.23.10.43;	author jakob;	state Exp;
branches;
next	1.4;

1.4
date	2000.10.05.21.16.50;	author jakob;	state Exp;
branches;
next	1.3;

1.3
date	2000.10.05.21.13.23;	author jakob;	state Exp;
branches;
next	1.2;

1.2
date	2000.10.05.19.42.23;	author jakob;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.25.21.02.32;	author jakob;	state Exp;
branches;
next	;

1.15.2.1
date	2001.05.29.15.30.14;	author naddy;	state Exp;
branches;
next	;

1.272.2.1
date	2015.01.22.20.34.22;	author brad;	state Exp;
branches;
next	;
commitid	fataTsz0xRbSPov7;


desc
@@


1.304
log
@update to postfix-3.3.20170218, from Brad
@
text
@# $OpenBSD: Makefile,v 1.303 2017/02/05 21:13:43 sthen Exp $

VERSION=	3.3-20170218

MASTER_SITES=	${MASTER_SITE_POSTFIX:=experimental/}

.include <bsd.port.mk>
@


1.303
log
@update to postfix-3.2-20170129, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.302 2017/02/04 22:09:44 sthen Exp $
d3 1
a3 1
VERSION=	3.2-20170129
@


1.302
log
@Enable EC curve selection in Postfix, from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.301 2017/01/07 23:49:47 sthen Exp $
d3 1
a3 2
VERSION=	3.2-20170101
REVISION=	0
@


1.301
log
@update to postfix-3.2.20170101, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.300 2016/12/18 20:28:40 jca Exp $
d4 1
@


1.300
log
@Tweak uucp transport example; ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.299 2016/10/18 10:22:26 sthen Exp $
d3 1
a3 2
VERSION=	3.2-20161008
REVISION=	0
@


1.299
log
@update to postfix-3.2-20161008, ok brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.298 2016/09/23 09:16:56 sthen Exp $
d4 1
@


1.298
log
@Cope with moving sqlite3 back to ports.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.297 2016/09/03 15:39:23 sthen Exp $
d3 1
a3 2
VERSION=	3.2-20160828
REVISION=	0
@


1.297
log
@update to postfix 3.2-20160828, from Brad, the libressl patches
(OPENSSL_VERSION_NUMBER 0x10100000L) came from Bernard Spil
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.296 2016/08/03 13:06:41 ajacoutot Exp $
d4 1
@


1.296
log
@Zap trailing spaces at EOL.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.295 2016/06/29 16:14:43 espie Exp $
d3 1
a3 2
VERSION=	3.2-20160515
REVISION =	1
@


1.295
log
@add is-branch to all trivial ports that exist as multiple branches.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.294 2016/05/17 11:48:32 sthen Exp $
d4 1
a4 1
REVISION =	0
@


1.294
log
@update to Postfix 3.2-20160515, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.293 2016/02/25 09:39:49 sthen Exp $
d4 1
@


1.293
log
@update postfix/snapshot to 3.2-20160221, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.292 2016/01/02 22:21:13 sthen Exp $
d3 1
a3 1
VERSION=	3.2-20160221
@


1.292
log
@update to Postfix 3.1-20151227, from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.291 2015/11/02 10:46:11 sthen Exp $
d3 1
a3 1
VERSION=	3.1-20151227
@


1.291
log
@update to Postfix 3.1-20151031, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.290 2015/10/19 19:38:09 giovanni Exp $
d3 1
a3 1
VERSION=	3.1-20151031
@


1.290
log
@Disable smtputf8 support, EAI support is not compiled in our port.
This way postfix does not warn on every command invocation.
ok sthen@@ Brad (Maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.289 2015/09/27 13:56:38 sthen Exp $
d3 1
a3 2
VERSION=	3.1-20150924
REVISION=	0
@


1.289
log
@update to Postfix 3.1-20150924, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.288 2015/08/03 10:21:15 ajacoutot Exp $
d4 1
@


1.288
log
@Update to postfix-3.1.20150721.

from Brad (maintainer)
ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.287 2015/07/15 22:36:28 sthen Exp $
d3 1
a3 1
VERSION=	3.1-20150721
@


1.287
log
@update to postfix-3.1-20150421, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.286 2015/07/15 16:18:45 sthen Exp $
d3 1
a3 1
VERSION=	3.1-20150712
@


1.286
log
@oops, adjust pexp not daemon, spotted by aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.285 2015/07/15 15:57:18 sthen Exp $
d3 1
a3 2
VERSION=	3.1-20150421
REVISION=	1
@


1.285
log
@Adjust pexp to cope with rc.subr(8) change.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.284 2015/05/15 22:05:45 sthen Exp $
d4 1
a4 1
REVISION=	0
@


1.284
log
@update to Postfix 3.1-20150421 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.283 2015/05/12 22:06:18 sthen Exp $
d4 1
@


1.283
log
@Adjust the message printed by postfix-enable; since sendsyslog(2) was
introduced there's no longer need for a log socket in the chroot jail,
also demonstrate use of rcctl rather than asking the user to manually
change rc.conf.local (making the message more generic while there).
OK brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.282 2015/04/18 09:57:51 sthen Exp $
d3 1
a3 2
VERSION=	3.1-20150330
REVISION=	0
@


1.282
log
@update to postfix-3.1-20150330, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.281 2015/02/10 21:53:57 brad Exp $
d4 1
@


1.281
log
@Update to Postfix 3.1-20150201.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.280 2015/01/22 18:19:46 brad Exp $
d3 1
a3 1
VERSION=	3.1-20150201
@


1.280
log
@Comment out the empty postfix-files.d dir in the postfix examples dir as
it serves no purpose and it is just tripping up install(1) in the installation
script which does "install * [dir]". The installation script creates the
postfix-files.d dir in the appropriate destination dir.

Issue pointed out by Rod Whitworth <glisten at witworx dot com>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.279 2015/01/05 21:50:29 brad Exp $
d3 1
a3 2
VERSION=	2.12-20141228
REVISION=	0
@


1.279
log
@Update to Postfix 2.12-20141228.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.278 2014/12/12 11:00:41 brad Exp $
d4 1
@


1.278
log
@Update to Postfix 2.12-20141208.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.277 2014/10/25 22:08:16 brad Exp $
d3 1
a3 1
VERSION=	2.12-20141202
@


1.277
log
@Update to Postfix 2.12-20141020.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.276 2014/10/16 18:41:41 brad Exp $
d3 1
a3 1
VERSION=	2.12-20141020
@


1.276
log
@Update to Postfix 2.12-20141015.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.275 2014/10/16 18:27:28 brad Exp $
d3 1
a3 1
VERSION=	2.12-20141015
@


1.275
log
@Update to Postfix 2.12-20141013.

There have been some default settings changes so everyone upgrading will
have to look at merging some potential config changes. The backwards compat
mode will ensure existing configs work as is but users should look at updating
their configs and especially keep master.cf in mind due to the default chroot
setting.

http://www.postfix.org/COMPATIBILITY_README.html

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.274 2014/09/13 18:09:21 brad Exp $
d3 1
a3 1
VERSION=	2.12-20141013
@


1.274
log
@Switch from using MySQL to using MariaDB attempt #2. MariaDB is a drop-in replacement.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.273 2014/08/19 21:46:55 brad Exp $
d3 1
a3 2
VERSION=	2.12-20140801
REVISION=	0
@


1.273
log
@Update to Postfix 2.12-20140801.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.272 2014/07/03 16:02:23 brad Exp $
d4 1
@


1.272
log
@Update to Postfix 2.12-20140701.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.271 2014/06/11 20:57:48 brad Exp $
d3 1
a3 1
VERSION=	2.12-20140701
@


1.272.2.1
log
@Comment out the empty postfix-files.d dir in the postfix examples dir as
it serves no purpose and it is just tripping up install(1) in the installation
script which does "install * [dir]". The installation script creates the
postfix-files.d dir in the appropriate destination dir.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.272 2014/07/03 16:02:23 brad Exp $
a3 1
REVISION=	0
@


1.271
log
@Update to Postfix 2.12-20140531.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.270 2014/05/14 02:03:47 brad Exp $
d3 1
a3 1
VERSION=	2.12-20140531
@


1.270
log
@Update to Postfix 2.12-20140508.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.269 2014/04/25 20:58:18 brad Exp $
d3 1
a3 1
VERSION=	2.12-20140508
@


1.269
log
@Update to Postfix 2.12-20140406.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.268 2014/04/07 01:13:13 brad Exp $
d3 1
a3 1
VERSION=	2.12-20140406
@


1.268
log
@Update to Postfix 2.12-20140321.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.267 2014/04/02 00:33:09 brad Exp $
d3 1
a3 1
VERSION=	2.12-20140321
@


1.267
log
@Replace sendmail with smtpd.

From David Hill

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.266 2014/03/09 22:48:53 brad Exp $
d3 1
a3 2
VERSION=	2.12-20140223
REVISION=	0
@


1.266
log
@Update to Postfix 2.12-20140223.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.265 2014/01/17 03:01:41 brad Exp $
d4 1
@


1.265
log
@Update to Postfix 2.12-20140109.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.264 2013/12/21 23:23:27 brad Exp $
d3 1
a3 1
VERSION=	2.12-20140109
@


1.264
log
@Update to Postfix 2.11-20131218.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.263 2013/11/27 04:28:30 brad Exp $
d3 1
a3 1
VERSION=	2.11-20131218
@


1.263
log
@Update to Postfix 2.11-20131122.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.262 2013/11/04 00:51:37 brad Exp $
d3 1
a3 1
VERSION=	2.11-20131122
@


1.262
log
@Update to Postfix 2.11-20131103.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.261 2013/10/26 19:05:54 brad Exp $
d3 1
a3 1
VERSION=	2.11-20131103
@


1.261
log
@Update to Postfix 2.11-20131001.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.260 2013/09/09 22:00:24 sthen Exp $
d3 1
a3 1
VERSION=	2.11-20131001
@


1.260
log
@update to a newer Postfix snap, ok brad@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.259 2013/07/18 20:05:37 brad Exp $
d3 1
a3 1
VERSION=	2.11-20130825
@


1.259
log
@Update to Postfix 2.11-20130710.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.258 2013/06/12 20:36:33 brad Exp $
d3 1
a3 1
VERSION=	2.11-20130710
@


1.258
log
@Revert back to using MySQL 5.1 for the time being. MariaDB 5.5 introduces
a new libmysqlclient non-blocking API which utilizes co-routines. The X86
specific GCC ASM co-routine support hid the fact that there was an issue.
The only fallback code so far is POSIX user contexts which OpenBSD does not
support.

Input from and Ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.257 2013/05/25 00:33:10 brad Exp $
d3 1
a3 2
VERSION=	2.11-20130405
REVISION=	3
@


1.257
log
@Switch from using MySQL to using MariaDB. MariaDB is a drop-in replacement.


ok sthen aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.256 2013/05/17 14:03:08 jasper Exp $
d4 1
a4 1
REVISION=	2
@


1.256
log
@file: is not a valid URI scheme, file:// is.

ok brad@@ (MAINTAINER)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.255 2013/04/30 11:28:02 sthen Exp $
d4 1
a4 1
REVISION=	1
@


1.255
log
@Remove the inet_protocols=ipv4 line from the bottom of Postfix's sample
main.cf; it was hiding a previously-set inet_protocols=all. (Ideally
we would remove both lines as "all" is the default, but Postfix upgrade
scripts re-add "ipv4"). Problem reported by krw@@, ok brad@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.254 2013/04/14 00:33:55 brad Exp $
d4 1
a4 1
REVISION=	0
@


1.254
log
@Update to Postfix 2.11-20130405.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.253 2013/03/22 22:36:32 brad Exp $
d4 1
@


1.253
log
@Update to Postfix 2.11-20130319.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.252 2013/03/02 20:48:04 brad Exp $
d3 1
a3 1
VERSION=	2.11-20130319
@


1.252
log
@Update to Postfix 2.11-20130211.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.251 2013/02/05 10:20:52 brad Exp $
d3 1
a3 1
VERSION=	2.11-20130211
@


1.251
log
@Update to Postfix 2.10-20130201

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.250 2012/12/14 22:21:36 brad Exp $
d3 1
a3 1
VERSION=	2.10-20130201
@


1.250
log
@Update to Postfix 2.10-20121210.

sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.249 2012/11/25 23:57:54 brad Exp $
d3 1
a3 1
VERSION=	2.10-20121210
@


1.249
log
@Update to Postfix 2.10-20121123.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.248 2012/10/26 08:31:45 brad Exp $
d3 1
a3 1
VERSION=	2.10-20121123
@


1.248
log
@Update to Postfix 2.10-20121022

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.247 2012/10/04 08:39:04 brad Exp $
d3 1
a3 1
VERSION=	2.10-20121022
@


1.247
log
@Update to Postfix 2.10-20120924.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.246 2012/09/05 23:18:11 sthen Exp $
d3 1
a3 1
VERSION=	2.10-20120924
@


1.246
log
@update to Postfix snapshot 20120902, from Brad.
- documentation improvements and support for "sendmail -R hdrs|full"
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.245 2012/09/02 12:06:37 sthen Exp $
d3 1
a3 1
VERSION=	2.10-20120902
@


1.245
log
@update Postfix snapshot to 2.10-20120801, from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.244 2012/08/05 07:58:55 sthen Exp $
d3 1
a3 1
VERSION=	2.10-20120801
@


1.244
log
@update to Postfix 20120715 snapshot, ok Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.243 2012/07/08 22:56:10 sthen Exp $
d3 1
a3 1
VERSION=	2.10-20120715
@


1.243
log
@update to postfix-2.10-20120630 snapshot, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.242 2012/06/30 08:22:48 sthen Exp $
d3 1
a3 1
VERSION=	2.10-20120630
@


1.242
log
@Update Postfix snapshot to 20120625, from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.241 2012/05/25 08:21:28 sthen Exp $
d3 1
a3 1
VERSION=	2.10-20120625
@


1.241
log
@update to Postfix snapshot 2.10-20120520, from Brad, I had the same diff
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.240 2012/05/16 14:40:08 sthen Exp $
d3 1
a3 1
VERSION=	2.10-20120520
@


1.240
log
@Roll sqlite support into the main package; there's no point having it
as an optional flavour now that sqlite is in base. From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.239 2012/04/28 09:31:19 sthen Exp $
d3 1
a3 2
VERSION=	2.10-20120423
REVISION=	0
@


1.239
log
@update Postfix snapshot to 2.10-20120423, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.238 2012/04/23 17:15:18 espie Exp $
d4 1
@


1.238
log
@first pass at handling sqlite3 move
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.237 2012/04/11 08:34:55 sthen Exp $
d3 1
a3 2
VERSION=	2.10-20120407
REVISION=	1
@


1.237
log
@I misunderstood the new -w flag, this is passed from 'postfix' to 'master'
automatically, no changes are necessary, so remove the change to daemon_flags
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.236 2012/04/10 22:24:29 sthen Exp $
d4 1
a4 1
REVISION=	0
@


1.236
log
@update to postfix/snapshot 2.10-20120407, from Brad

- also use the newly added -w option in the rc script, this delays exiting
after startup until daemon initialization has completed, so that init
failures will cause it to exit with an error code, so the infrastructure
can correctly report failure.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.235 2012/03/23 17:54:55 sthen Exp $
d4 1
@


1.235
log
@Update Postfix snapshot to 2.10-20120308, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.234 2012/03/03 10:16:36 sthen Exp $
d3 1
a3 1
VERSION=	2.10-20120308
@


1.234
log
@update Postfix snapshot to 2.10-20120218, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.233 2012/02/20 09:55:31 sthen Exp $
d3 1
a3 1
VERSION=	2.10-20120218
@


1.233
log
@update Postfix snapshot to 2.10-20120202, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.232 2012/02/01 21:37:48 sthen Exp $
d3 1
a3 1
VERSION=	2.10-20120202
@


1.232
log
@Revert. Ports commits need explicit approval at this time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.230 2012/01/04 23:43:55 sthen Exp $
d3 1
a3 1
VERSION=	2.9-20120102
@


1.231
log
@update postfix snapshot; from brad
@
text
@d3 1
a3 1
VERSION=	2.10-20120130
@


1.230
log
@update to Postfix snapshot 20120102
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.229 2011/12/20 22:41:16 sthen Exp $
d3 1
a3 1
VERSION=	2.9-20120102
@


1.229
log
@Update to postfix/snapshot 20111219, from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.228 2011/12/01 10:26:52 sthen Exp $
d3 1
a3 1
VERSION=	2.9-20111219
@


1.228
log
@Update postfix -snapshot to 20111129. Based on a diff for 1122 from Brad,
updated to 1129 by me and OK Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.227 2011/11/13 16:20:00 sthen Exp $
d3 1
a3 1
VERSION=	2.9-20111129
@


1.227
log
@fix building on a clean machine (broken due to changes in postconf) -
reported by nigel@@, ok Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.226 2011/11/10 17:27:09 sthen Exp $
d3 1
a3 2
VERSION=	2.9-20111109
REVISION=	0
@


1.226
log
@update to postfix 20111109 snapshot, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.225 2011/11/07 12:31:22 sthen Exp $
d4 1
@


1.225
log
@Ensure correct permissions/group ownership are set for
/usr/local/sbin/{postdrop,postqueue} via the plist. This is already
meant to be handled by postfix-install calling "postfix set-permissions"
but occasionally that seems to fail.

From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.224 2011/11/03 00:56:17 sthen Exp $
d3 1
a3 2
VERSION=	2.9-20111025
REVISION=	0
@


1.224
log
@update to newer postfix snapshot, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.223 2011/09/29 09:39:04 sthen Exp $
d4 1
@


1.223
log
@bump; make sure people get updated packages now that cyrus-sasl is fixed
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.222 2011/09/24 09:35:01 sthen Exp $
d3 1
a3 2
VERSION=	2.9-20110918
REVISION=	0
@


1.222
log
@update to 20110918 Postfix snapshot, from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.221 2011/09/16 10:31:22 espie Exp $
d4 1
@


1.221
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.220 2011/08/21 11:07:07 sthen Exp $
d3 1
a3 1
VERSION=	2.9-20110814
a5 1
REVISION =	0
@


1.220
log
@update to postfix 20110814 snapshot, from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.219 2011/07/17 20:14:56 sthen Exp $
d6 1
@


1.219
log
@Don't check existence of mailer.conf.postfix before starting postfix.
The mailer.conf* files aren't robustly controlled so we shouldn't prevent
the daemon starting if they aren't how we expect. ok aja@@, Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.218 2011/07/15 18:10:18 robert Exp $
d3 1
a3 2
VERSION=	2.9-20110706
REVISION=	1
@


1.218
log
@add an rc script for postfix and modify postfix-enable to tell the
user to disable sendmail compeltely to stop abusing that script to starting
up postfix.

the script itself also checks if postfix is actually enabled and if it's not
it is going to fail to avoid conflicts with mailer.conf
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.217 2011/07/07 16:22:30 sthen Exp $
d4 1
a4 1
REVISION=	0
@


1.217
log
@update to postfix 2.9-20110706 snapshot, from Brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.216 2011/05/09 21:56:13 sthen Exp $
d4 1
@


1.216
log
@SECURITY update to 2.8.3 (postfix/stable) / 2.9-20110501 (postfix/snapshot).

See http://www.postfix.org/CVE-2011-1720.html for info: this is a memory
corruption bug affecting users of -sasl2 packages who have enabled SASL
using auth mechanisms other than PLAIN/LOGIN. (This is not an especially
common configuration as the affected mechanisms require keeping plaintext
passwords on mail servers).

OK jasper@@, Brad (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.215 2011/05/03 23:12:00 sthen Exp $
d3 1
a3 1
VERSION=	2.9-20110501
@


1.215
log
@Don't run "postfix stop" when upgrading; this is only needed on unusual
occasions and gets a special mention in the upgrade notes when it's important.

ok Brad, landry@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.214 2011/04/28 00:22:23 sthen Exp $
d3 1
a3 2
VERSION=	2.9-20110323
REVISION=	1
@


1.214
log
@Also install the hosts file to the chroot area. From Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.213 2011/03/24 09:58:10 sthen Exp $
d4 1
a4 1
REVISION=	0
@


1.213
log
@update to postfix/snapshot 2.9-20110323

- change the hash_queue_names algorithm for better performance with
the new long queue ID support

(note: if you use MailScanner, it doesn't handle long queue IDs yet)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.212 2011/03/22 09:40:20 sthen Exp $
d4 1
@


1.212
log
@update postfix snapshot to 2.9-20110321; from Brad (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.211 2011/03/09 10:45:27 sthen Exp $
d3 1
a3 1
VERSION=	2.9-20110321
@


1.211
log
@switch to more compact LIB_DEPENDS style and drop the explicit
HAS_PCRE (makedefs picks this up automatically from pcre-config now).
from Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.210 2011/03/07 23:14:28 sthen Exp $
d3 1
a3 2
VERSION=	2.9-20110228
REVISION=	0
@


1.210
log
@update postfix/snapshot to 2.9-20110228, ok Brad.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.209 2011/03/07 13:00:53 sthen Exp $
d4 1
@


1.209
log
@switch maintainer to Brad, suggested by jakob@@ (current maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.208 2011/03/06 09:36:29 jakob Exp $
d3 1
a3 2
VERSION=	2.8-20110113
REVISION=	0
@


1.208
log
@add global sqlite flavour
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.207 2011/01/15 22:37:39 jasper Exp $
d4 1
@


1.207
log
@- update postfix to 2.8-20110113

from brad, jakob@@ is swamped with Real Life.
ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.206 2011/01/07 19:22:06 sthen Exp $
a5 2

FLAVORS+=	sqlite
@


1.206
log
@Install the unformatted manpages; mandoc has no problem with these,
and moving back to the unformatted pages fixes warnings from the
installation script (which does not expect the pages to be preformatted).
Problem noted by Brad and myself, possible fix suggested by me, diff
from Brad, ok jakob@@ (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.205 2010/11/18 20:56:49 jakob Exp $
d3 1
a3 2
VERSION=	2.8-20101108
REVISION=	0
@


1.205
log
@postfix snapshot 20101108
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.204 2010/10/18 19:59:18 espie Exp $
d4 1
a7 1
USE_GROFF =	Yes
@


1.204
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.203 2010/10/01 20:19:54 jakob Exp $
d3 1
a3 1
VERSION=	2.8-20100923
@


1.203
log
@postfix snapshot 2.8-20100923
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.202 2010/08/31 06:03:32 jakob Exp $
d7 1
@


1.202
log
@add sqlite flavour; from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.201 2010/04/23 07:01:40 jakob Exp $
d3 1
a3 1
VERSION=	2.8-20100728
@


1.201
log
@upgrade to postfix-2.8.20100323
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.200 2009/12/12 08:35:58 jakob Exp $
d3 1
a3 1
VERSION=	2.8-20100323
d6 2
@


1.200
log
@update to postfix snapshot 20091209
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.199 2009/11/14 07:05:44 jakob Exp $
d3 1
a3 1
VERSION=	2.7-20091209
@


1.199
log
@upgrade to postfix snapshot 20091110; from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.198 2009/08/30 12:25:55 sthen Exp $
d3 1
a3 1
VERSION=	2.7-20091110
@


1.198
log
@update postfix/snapshot to 2.7-20090828; from Brad. ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.197 2009/07/24 21:32:33 jakob Exp $
d3 1
a3 1
VERSION=	2.7-20090828
@


1.197
log
@update to snapshot 20090712; from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.196 2009/07/18 20:26:19 naddy Exp $
d3 1
a3 1
VERSION=	2.7-20090712
@


1.196
log
@fix db dependency for db4 flavor and bump; ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.195 2009/06/04 21:33:43 sthen Exp $
d3 1
a3 2
VERSION=	2.7-20090528
PATCHLEVEL=	0
@


1.195
log
@update to 2.7.20090528; affects older 2.6.x and 2.7 snapshots but not 2.5.

"With plaintext SMTP sessions AND smtpd_tls_auth_only=yes AND
smtp_sasl_auth_enable=yes, the SMTP server logged warnings for
reject_*_sender_login_mismatch, instead of enforcing them."

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.194 2009/05/12 19:51:42 jakob Exp $
d4 1
@


1.194
log
@update snapshot; from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.193 2009/05/01 11:59:37 jakob Exp $
d3 1
a3 1
VERSION=	2.7-20090510
@


1.193
log
@update postfix snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.192 2009/04/19 14:14:21 jakob Exp $
d3 1
a3 1
VERSION=	2.7-20090428
@


1.192
log
@upgrade postfix snapshot; from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.191 2009/04/05 20:48:25 sthen Exp $
d3 1
a3 1
VERSION=	2.6-20090404
@


1.191
log
@install libexec/postfix/{main,master}.cf and bump the package. these are
used by the multi-instance support and without them "postfix set-permissions",
run at installation time, fails before it sets postdrop and postqueue to the
correct gid and mode, causing a problem for local deliveries. discussed
with Brad and Jakob, ok jakob@@ (maintainer).
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.190 2009/03/17 19:32:44 sthen Exp $
d3 1
a3 2
VERSION=	2.6-20090125
PATCHLEVEL=	2
@


1.190
log
@fix depends, bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.189 2009/03/15 19:38:05 jakob Exp $
d4 1
a4 1
PATCHLEVEL=	1
@


1.189
log
@fix postfix upgraade by ensuring the binaries have the proper
permissions; from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.188 2009/02/01 19:06:53 jakob Exp $
d4 1
a4 1
PATCHLEVEL=	0
@


1.188
log
@update to postfix snapshot 2.6-20090125
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.187 2009/01/13 10:05:53 jakob Exp $
d4 1
@


1.187
log
@postfix snapshot 2.6-20090109; from brad
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.186 2008/12/07 09:02:49 brad Exp $
d3 1
a3 1
VERSION=	2.6-20090109
@


1.186
log
@Update to Postfix 2.6-20081205.

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.185 2008/08/21 21:53:34 brad Exp $
d3 1
a3 1
VERSION=	2.6-20081205
@


1.185
log
@Update to Postfix 2.6-20080814.

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.184 2008/07/28 13:34:18 jakob Exp $
d3 1
a3 1
VERSION=	2.6-20080814
@


1.184
log
@postfix snapshot 2.6-20080726
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.183 2008/06/30 07:39:10 brad Exp $
d3 1
a3 1
VERSION=	2.6-20080726
@


1.183
log
@Postfix 2.6 20080629

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.182 2008/06/18 06:49:31 brad Exp $
d3 1
a3 1
VERSION=	2.6-20080629
@


1.182
log
@Postfix 2.6 20080606 snapshot

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.181 2008/05/29 17:12:54 jakob Exp $
d3 1
a3 1
VERSION=	2.6-20080606
@


1.181
log
@fix upgrade problem; patch from brad, reported by laundry breuil
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.180 2008/05/16 07:56:09 jakob Exp $
d3 1
a3 2
VERSION=	2.6-20080511
PATCHLEVEL=	0
@


1.180
log
@update to latest postfix snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.179 2008/03/03 10:03:18 sthen Exp $
d4 1
@


1.179
log
@unbreak postfix/snapshot. jakob and i came up with the same diff.
ok espie
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.178 2008/02/29 12:25:22 jakob Exp $
d3 1
a3 2
VERSION=	2.6-20080216
PATCHLEVEL=	1
@


1.178
log
@fixed default data directory; from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.177 2008/02/17 17:51:34 jakob Exp $
d4 1
a4 1
PATCHLEVEL=	0
@


1.177
log
@upgrade to snapshot postfix-2.6.20080216; from brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.176 2008/02/01 16:53:58 jakob Exp $
d4 1
@


1.176
log
@snapshot postfix-2.6.20080131
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.175 2007/11/19 09:16:53 jakob Exp $
d3 1
a3 1
VERSION=	2.6-20080131
@


1.175
log
@postfix snapshot 20071111
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.174 2007/10/25 21:05:33 steven Exp $
d3 1
a3 1
VERSION=	2.5-20071111
@


1.174
log
@db.=4 -> db.>=4  in preparation of db4 update

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.173 2007/10/21 10:22:57 jakob Exp $
d3 1
a3 2
VERSION=	2.5-20071006
PATCHLEVEL=	0
@


1.173
log
@postfix snapshot 20071006
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.172 2007/09/28 07:02:16 jakob Exp $
d4 1
@


1.172
log
@postfix-2.5-20070911
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.171 2007/08/27 07:01:56 jakob Exp $
d3 1
a3 1
VERSION=	2.5-20070911
@


1.171
log
@postfix snapshot 20070824
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.169 2007/08/05 17:47:44 jakob Exp $
d3 1
a3 1
VERSION=	2.5-20070824
@


1.170
log
@revert previous commit
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.168 2007/05/31 20:15:00 jakob Exp $
d3 1
a3 1
VERSION=	2.5-20070531
@


1.169
log
@snapshot 2.5-20070731
@
text
@d3 1
a3 1
VERSION=	2.5-20070731
@


1.168
log
@new postfix snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.167 2007/05/31 10:19:00 espie Exp $
d3 1
a3 1
VERSION=	2.5-20070531
@


1.167
log
@move stuff into MESSAGE when it belongs, and rename the rest of the INSTALL
script to a file inside postfix.

That way, the last INSTALL script dies.

okay jakob@@, alek@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.166 2007/04/30 13:40:04 jakob Exp $
d3 1
a3 2
VERSION=	2.5-20070423
PATCHLEVEL=	0
@


1.166
log
@update postfix snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.165 2007/04/20 07:43:19 jakob Exp $
d4 1
@


1.165
log
@update postfix snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.164 2007/03/30 07:44:59 jakob Exp $
d3 1
a3 1
VERSION=	2.5-20070402
@


1.164
log
@postfix 2.5 snapshot 20070328
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.163 2007/03/26 06:42:18 jakob Exp $
d3 1
a3 1
VERSION=	2.5-20070328
@


1.163
log
@postfix 2.4.0 rc9
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.162 2007/03/21 08:29:38 jakob Exp $
d3 1
a3 1
VERSION=	2.4.0-RC9
d5 1
a5 1
MASTER_SITES=	${MASTER_SITE_POSTFIX:=official/}
@


1.162
log
@postfix 2.4.0 RC7
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.161 2007/03/19 23:55:59 ajacoutot Exp $
d3 1
a3 1
VERSION=	2.4.0-RC7
@


1.161
log
@- change default cyrus user to _cyrus
- bump PKGNAME

spotted by Aurelien <aurelien26 at free dot fr>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.160 2007/03/19 10:24:51 ajacoutot Exp $
d3 1
a3 2
VERSION=	2.4.0-RC5
PATCHLEVEL=	1
@


1.160
log
@- fix path to cyrus deliver
- bump PKGNAME using PATCHLEVEL

ok simon@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.159 2007/03/15 21:48:27 jakob Exp $
d4 1
a4 1
PATCHLEVEL=	0
@


1.159
log
@postfix 2.4.0 release candidate 5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.158 2007/01/31 22:48:56 jakob Exp $
d4 1
@


1.158
log
@snapshot 2.4.20070125
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.157 2007/01/17 13:50:16 jakob Exp $
d3 1
a3 1
VERSION=	2.4-20070125
d5 1
a5 1
MASTER_SITES=	${MASTER_SITE_POSTFIX:=experimental/}
@


1.157
log
@snapshot 2.4-20070116
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.156 2007/01/12 10:38:10 jakob Exp $
d3 1
a3 1
VERSION=	2.4-20070116
@


1.156
log
@postfix snapshot 2.4.20070107
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.155 2007/01/03 08:45:43 jakob Exp $
d3 1
a3 1
VERSION=	2.4-20070107
@


1.155
log
@postfix-2.4-20061229
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.154 2006/12/22 20:03:01 todd Exp $
d3 1
a3 1
VERSION=	2.4-20061229
@


1.154
log
@update to postfix snapshot 2.4-20061221
from brad@@, ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.153 2006/12/18 07:19:39 jakob Exp $
d3 1
a3 1
VERSION=	2.4-20061221
@


1.153
log
@postfix snapshot 20061210
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.152 2006/12/03 01:01:39 jakob Exp $
d3 1
a3 1
VERSION=	2.4-20061210
@


1.152
log
@postfix snapshot 20061201
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.151 2006/11/13 07:45:05 jakob Exp $
d3 1
a3 1
VERSION=	2.4-20061201
@


1.151
log
@reintroduce common Makefile (previously removed by approved commit)
upgrade snapshot version
bump package version for stable version
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.149 2006/10/08 04:06:32 brad Exp $
d3 1
a3 1
VERSION=	2.4-20061019
@


1.150
log
@repair respecting of SYSCONFDIR, SYSCONFDIR wasn't being set properly
due to all the guts of the ports being in Makefile.inc
@
text
@d3 1
a3 5
COMMENT=	"fast, secure sendmail replacement"
VERSION=	2.4-20061006
DISTNAME?=	postfix-${VERSION}
PKGNAME?=	postfix-${VERSION:S/-/./}p1
CATEGORIES=	mail
a4 6
MASTER_SITE_POSTFIX=\
		ftp://ftp.porcupine.org/mirrors/postfix-release/ \
		ftp://ftp.merit.edu/postfix/ \
		ftp://ftp.sunet.se/pub/unix/mail/postfix/ \
		ftp://ftp.tau.ac.il/pub/unix/mail/postfix/ \
		ftp://ftp.cs.uu.nl/mirror/postfix/postfix-release/
a5 95

DIST_SUBDIR=	postfix
DISTFILES=	${DISTNAME}${EXTRACT_SUFX}

HOMEPAGE=	http://www.postfix.org/

MAINTAINER=	Jakob Schlyter <jakob@@openbsd.org>

PERMIT_PACKAGE_CDROM=	"cannot be sold, see section 4 of license"
PERMIT_PACKAGE_FTP=	yes
PERMIT_DISTFILES_CDROM=	"cannot be sold, see section 4 of license"
PERMIT_DISTFILES_FTP=	yes

MAKE_DEBUG?=
MAKE_CCARGS?=	-DFD_SETSIZE=2048
MAKE_CCARGS+=	-DDEF_CONFIG_DIR=\"${SYSCONFDIR}/postfix\"
MAKE_CCARGS+=	-DUSE_TLS
MAKE_AUXLIBS+=	-lssl -lcrypto

WANTLIB=	c crypto ssl

ALL_TARGET=	default

NO_REGRESS=	Yes

MAKE_CCARGS+=	-DUSE_SASL_AUTH

# always include pcre
LIB_DEPENDS+=	pcre::devel/pcre
MAKE_CCARGS+=	-DHAS_PCRE -I${LOCALBASE}/include
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lpcre

FLAVORS+=	sasl2 ldap mysql pgsql db4
FLAVOR?=

.if ${FLAVOR:L:Msasl2}
LIB_DEPENDS+=	sasl2::security/cyrus-sasl2
MAKE_CCARGS+=	-I${LOCALBASE}/include -I${LOCALBASE}/include/sasl -DUSE_CYRUS_SASL
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lsasl2
.endif

.if ${FLAVOR:L:Mldap}
LIB_DEPENDS+=	ldap.>=2,lber:openldap-client-2.*:databases/openldap
MAKE_CCARGS+=	-I${LOCALBASE}/include -DHAS_LDAP
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lldap -llber
.endif

.if ${FLAVOR:L:Mmysql}
LIB_DEPENDS+=	lib/mysql/mysqlclient.>=10::databases/mysql
MAKE_CCARGS+=	-I${LOCALBASE}/include/mysql -DHAS_MYSQL
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib/mysql -lmysqlclient
.endif

.if ${FLAVOR:L:Mpgsql}
LIB_DEPENDS+=	pq.>=3:postgresql-client-*:databases/postgresql
MAKE_CCARGS+=	-I${LOCALBASE}/include/postgresql -DHAS_PGSQL
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lpq
.endif

.if ${FLAVOR:L:Mdb4}
LIB_DEPENDS+=	lib/db4/db.=4:db-4.*:databases/db/v4
MAKE_CCARGS+=	-I${LOCALBASE}/include/db4
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib/db4 -ldb
.endif

do-configure:
	@@cd ${WRKSRC}; ${MAKE_PROGRAM} makefiles \
		CC="${CC}" OPT="${CFLAGS}" DEBUG="${MAKE_DEBUG}" \
		CCARGS='${MAKE_CCARGS}' AUXLIBS="${MAKE_AUXLIBS}"

do-install:
	@@(cd ${WRKSRC}; sh postfix-install \
		-non-interactive \
		mail_owner=_postfix \
		setgid_group=_postdrop \
		install_root=${WRKINST} \
		daemon_directory=${TRUEPREFIX}/libexec/postfix \
		command_directory=${TRUEPREFIX}/sbin \
		sendmail_path=${TRUEPREFIX}/sbin/sendmail \
		newaliases_path=${TRUEPREFIX}/sbin/newaliases \
		mailq_path=${TRUEPREFIX}/sbin/mailq \
		manpage_directory=${TRUEPREFIX}/man \
		readme_directory=${TRUEPREFIX}/share/doc/postfix/readme \
		html_directory=${TRUEPREFIX}/share/doc/postfix/html \
		)
	@@${INSTALL_SCRIPT} ${FILESDIR}/postfix-enable ${PREFIX}/sbin
	@@${INSTALL_SCRIPT} ${FILESDIR}/postfix-disable ${PREFIX}/sbin
	@@${INSTALL_SCRIPT} ${WRKSRC}/auxiliary/qshape/qshape.pl ${PREFIX}/sbin/qshape
	@@${INSTALL_MAN} ${WRKSRC}/man/man1/qshape.1 ${PREFIX}/man/man1
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/examples/postfix
	@@mv ${WRKINST}${SYSCONFDIR}/postfix/* ${PREFIX}/share/examples/postfix
	@@rm -fr ${WRKINST}/var/spool/postfix
	@@chown -h ${BINOWN}:${BINGRP} ${PREFIX}/{sbin,libexec/postfix}/*
	@@chown -R ${MANOWN}:${MANGRP} ${PREFIX}/man
	@@chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/share
@


1.149
log
@Postfix 2.4 20061006 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.148 2006/10/05 01:55:23 brad Exp $
d3 1
d5 3
d9 6
d16 95
@


1.148
log
@Postfix 2.4 20061002 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.147 2006/10/02 20:35:29 brad Exp $
d3 1
a3 1
VERSION=	2.4-20061002
@


1.147
log
@Postfix 2.4 20060930 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.146 2006/09/18 05:25:40 brad Exp $
d3 1
a3 1
VERSION=	2.4-20060930
@


1.146
log
@Postfix 2.4 20060903 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.145 2006/07/29 02:52:43 brad Exp $
d3 1
a3 1
VERSION=	2.4-20060903
@


1.145
log
@Postfix 2.4 20060727 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.144 2006/07/25 15:40:13 brad Exp $
d3 1
a3 1
VERSION=	2.4-20060727
@


1.144
log
@Postfix 2.4 20060724 snapshot

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.143 2006/07/22 20:40:51 brad Exp $
d3 1
a3 1
VERSION=	2.4-20060724
@


1.143
log
@Postfix 2.4 20060722 snapshot

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.142 2006/07/17 09:07:56 jakob Exp $
d3 1
a3 1
VERSION=	2.4-20060722
@


1.142
log
@snapshot 2.4-20060711
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.141 2006/07/05 06:29:42 jakob Exp $
d3 1
a3 3
VERSION=	2.4-20060711
DISTNAME=	postfix-${VERSION}
PKGNAME=	postfix-${VERSION:S/-/./}
@


1.141
log
@postfix-2.3-RC5
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.140 2006/07/05 06:21:09 jakob Exp $
d3 1
a3 1
VERSION=	2.3-RC5
a7 8

MAKE_CCARGS+=	-DUSE_SASL_AUTH

FLAVOR?=

.if ${FLAVOR:L:Msasl2}
MAKE_CCARGS+=	-DUSE_CYRUS_SASL
.endif
@


1.140
log
@move syslog warning to postfix-enable script
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.139 2006/07/03 09:51:19 jakob Exp $
d3 1
a3 1
VERSION=	2.3-RC3
d5 1
a5 1
PKGNAME=	postfix-${VERSION:S/-/./}p0
@


1.139
log
@Postfix 2.3 RC3
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.138 2006/06/30 15:33:58 jakob Exp $
d5 1
a5 1
PKGNAME=	postfix-${VERSION:S/-/./}
@


1.138
log
@postfix 2.3 RC1
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.137 2006/06/26 18:51:13 jakob Exp $
d3 1
a3 1
VERSION=	2.3-RC1
@


1.137
log
@fix milter buglet (from wietse)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.136 2006/06/16 15:52:19 jakob Exp $
d3 3
a5 3
VERSION=	2.3-20060616
DISTNAME=	postfix-${VERSION}-nonprod
PKGNAME=	postfix-${VERSION:S/-/./}p0
@


1.136
log
@update to new snapshot. also add patch to install milter documentation.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.135 2006/06/16 06:26:20 brad Exp $
d5 1
a5 1
PKGNAME=	postfix-${VERSION:S/-/./}
@


1.135
log
@update to snapshot 2.3-20060614 (with milter and TLS improvements)

ok jakob@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.134 2006/06/07 05:36:35 jakob Exp $
d3 1
a3 1
VERSION=	2.3-20060614
@


1.134
log
@update to snapshot 2.3-20060605 (with milter)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.133 2006/06/04 18:11:28 jakob Exp $
d3 2
a4 2
VERSION=	2.3-20060605
DISTNAME=	postfix-${VERSION}-milter
@


1.133
log
@use /etc/mail/aliases as default alias file
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.132 2006/06/03 19:53:38 brad Exp $
d3 3
a5 2
VERSION=	2.3-20060601
PKGNAME=	postfix-${VERSION:S/-/./}p0
@


1.132
log
@Postfix 2.3 20060601 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.131 2006/05/26 09:37:10 jakob Exp $
d4 1
@


1.131
log
@remove DOVECOT flavor (always included) & bump package name
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.130 2006/05/25 16:36:49 jakob Exp $
d3 1
a3 2
VERSION=	2.3-20060518
PKGNAME=	postfix-${VERSION:S/-/./}p0
@


1.130
log
@upgrade to snapshot 2.3-20060518
add Dovecot SASL authentication flavour
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.129 2006/05/18 03:04:15 brad Exp $
d4 1
a9 1
FLAVORS+=	dovecot 
a10 9

.if ${FLAVOR:L:Msasl2} && ${FLAVOR:L:Mdovecot}
ERRORS+=	"Fatal: Choose only one flavor: sasl2 or dovecot"
.endif

.if ${FLAVOR:L:Mdovecot}
RUN_DEPENDS+=	::mail/dovecot
MAKE_CCARGS+=	-DUSE_SASL_AUTH -DDEF_SASL_SERVER="dovecot"
.endif
@


1.129
log
@Postfix 2.3 20060517 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.128 2006/05/09 22:31:08 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060517
d9 1
d11 9
@


1.128
log
@Postfix 2.3 20060430 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.127 2006/04/19 10:28:27 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060430
@


1.127
log
@Postfix 2.3 20060418 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.126 2006/04/08 23:07:10 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060418
@


1.126
log
@Postfix 2.3 20060405 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.125 2006/04/07 08:17:23 jakob Exp $
d3 1
a3 1
VERSION=	2.3-20060405
@


1.125
log
@IPv6 by default (from itojun@@)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.124 2006/04/05 00:59:48 brad Exp $
d3 1
a3 2
VERSION=	2.3-20060403
PKGNAME=	postfix-${VERSION}p0
@


1.124
log
@Postfix 2.3 20060403 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.123 2006/03/26 19:17:09 brad Exp $
d4 1
@


1.123
log
@Postfix 2.3 20060325 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.122 2006/03/18 04:39:18 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060325
@


1.122
log
@Postfix 2.3 20060315 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.121 2006/03/10 08:48:59 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060315
@


1.121
log
@Postfix 2.3 20060307 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.120 2006/02/07 19:50:45 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060307
@


1.120
log
@Postfix 2.3 20060207 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.119 2006/01/27 03:49:44 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060207
@


1.119
log
@Postfix 2.3 20060126 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.118 2006/01/25 06:21:09 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060126
@


1.118
log
@Postfix 2.3 20060123 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.117 2006/01/14 01:05:02 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060123
@


1.117
log
@Postfix 2.3 20060112 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.116 2006/01/05 00:55:06 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060112
@


1.116
log
@Postfix 2.3 20060103 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.115 2005/12/30 00:03:43 brad Exp $
d3 1
a3 1
VERSION=	2.3-20060103
@


1.115
log
@Postfix 2.3 20051227 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.114 2005/12/25 07:13:45 jakob Exp $
d3 1
a3 1
VERSION=	2.3-20051227
@


1.114
log
@fix sasl auth; Christian Rueger
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.113 2005/12/23 18:55:38 brad Exp $
d3 1
a3 2
VERSION=	2.3-20051222
PKGNAME=	postfix-${VERSION:S/-/./}p0
@


1.113
log
@Postfix 2.3 20051222 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.112 2005/12/18 23:24:20 brad Exp $
d4 1
d7 8
@


1.112
log
@Postfix 2.3 20051217 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.111 2005/12/11 17:59:59 brad Exp $
d3 1
a3 2
VERSION=	2.3-20051217-nonprod
PKGNAME=	postfix-2.3-20051217
@


1.111
log
@Postfix 2.2.7 and 2.3 20051210 snapshot.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.110 2005/12/09 03:33:41 brad Exp $
d3 2
a4 1
VERSION=	2.3-20051210
@


1.110
log
@Postfix 2.3 20051207 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.109 2005/11/30 07:07:04 jakob Exp $
d3 1
a3 2
VERSION=	2.3-20051207-nonprod
PKGNAME=	postfix-2.3.20051207
@


1.109
log
@snapshot 2.3-20051128
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.108 2005/11/27 03:52:25 brad Exp $
d3 2
a4 1
VERSION=	2.3-20051128
@


1.108
log
@Postfix 2.3 20051125 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.107 2005/11/23 01:02:38 brad Exp $
d3 1
a3 1
VERSION=	2.3-20051125
@


1.107
log
@Postfix 2.3 20051121 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.106 2005/11/15 04:04:53 brad Exp $
d3 1
a3 1
VERSION=	2.3-20051121
@


1.106
log
@Postfix 2.3 20051109 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.105 2005/11/06 06:15:35 brad Exp $
d3 1
a3 1
VERSION=	2.3-20051109
@


1.105
log
@Postfix 2.3 20051103 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.104 2005/10/14 23:58:34 brad Exp $
d3 1
a3 1
VERSION=	2.3-20051103
@


1.104
log
@Postfix 2.3 20051011 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.103 2005/09/04 18:17:59 brad Exp $
d3 1
a3 1
VERSION=	2.3-20051011
@


1.103
log
@Postfix 2.3 20050829 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.102 2005/07/18 23:22:40 brad Exp $
d3 1
a3 1
VERSION=	2.3-20050829
@


1.102
log
@Postfix 2.3 20050716 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.101 2005/07/08 23:33:15 brad Exp $
d3 1
a3 1
VERSION=	2.3-20050716
@


1.101
log
@Postfix 2.3 20050707 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.100 2005/06/22 18:16:53 jakob Exp $
d3 1
a3 1
VERSION=	2.3-20050707
@


1.100
log
@snapshot 20050621 (with DSN)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.99 2005/05/06 16:39:12 brad Exp $
d3 1
a3 1
VERSION=	2.3-20050621
@


1.99
log
@Postfix 2.3 20050504 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.98 2005/04/29 23:47:00 brad Exp $
d3 1
a3 1
VERSION=	2.3-20050504
@


1.98
log
@Postfix 2.3 20050427 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.97 2005/04/07 19:37:05 brad Exp $
d3 1
a3 1
VERSION=	2.3-20050427
@


1.97
log
@Postfix 2.3 20050404 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.96 2005/04/03 23:36:39 brad Exp $
d3 1
a3 1
VERSION=	2.3-20050404
@


1.96
log
@Postfix 2.3 20050402 snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.95 2005/03/22 15:31:45 brad Exp $
d3 1
a3 1
VERSION=	2.3-20050402
@


1.95
log
@Postfix 2.2.1 and 2.3 20050315 snapshot.

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.94 2005/03/10 07:25:04 jakob Exp $
d3 1
a3 1
VERSION=	2.3-20050315
@


1.94
log
@snapshot 2.3-20050309
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.93 2005/03/07 18:26:40 brad Exp $
d3 1
a3 1
VERSION=	2.3-20050309
@


1.93
log
@Postfix 2.2.0RC2 and 2.3 20050304 snapshot.

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.92 2005/02/21 00:40:18 brad Exp $
d3 1
a3 1
VERSION=	2.3-20050304
@


1.92
log
@postfix 20050218
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.91 2005/02/07 22:31:32 jakob Exp $
d3 1
a3 5
VERSION=	2.2-20050218
DISTNAME=	postfix-${VERSION}
PKGNAME=	postfix-${VERSION:S/-/./}

MAINTAINER=	Jakob Schlyter <jakob@@openbsd.org>
@


1.91
log
@postfix 20050206
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.90 2005/01/23 23:57:16 jakob Exp $
d3 1
a3 1
VERSION=	2.2-20050206
@


1.90
log
@postfix-2.2-20050119 (IPv6+TLS)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.89 2004/12/28 09:08:12 jakob Exp $
d3 1
a3 1
VERSION=	2.2-20050119
@


1.89
log
@sync with non-production postfix snapshot 2.2-20041221 with TLS support.
NOTE: IPv6 currently not enabled.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.88 2004/11/16 06:56:07 jakob Exp $
d3 2
a4 2
VERSION=	2.2-20041221
DISTNAME=	postfix-${VERSION}+tls-nonprod
@


1.88
log
@remove - from version; noted by naddy
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.87 2004/06/22 05:20:13 brad Exp $
d3 2
a4 2
VERSION=	2.2-20040616
DISTNAME=	postfix-${VERSION}
a9 3

IPV6VERSION=	1.25
IPV6POSTFIX=	${VERSION}
@


1.87
log
@upgrade Postfix ports to latest releases, 2.1.3 and 2.2-20040616 as well
as installing qshape.

ok MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.86 2004/06/11 07:47:30 brad Exp $
d5 1
@


1.86
log
@fix sig11's and logfile string corruption that happen on PowerPC only
with Postfix' smtp.

details:
http://marc.theaimsgroup.com/?l=postfix-users&m=108684058831938&w=2
http://marc.theaimsgroup.com/?t=108680602700006&r=1&w=2
http://marc.theaimsgroup.com/?t=108683377500002&r=1&w=2
@
text
@d1 1
a1 3
# $OpenBSD: Makefile,v 1.85 2004/06/10 21:22:26 jakob Exp $

VERSION=	2.2-20040504
d3 1
a4 1
PKGNAME=	postfix-${VERSION}p1
d10 1
a10 1
IPV6VERSION=	1.24
@


1.85
log
@consolidate IPv6/TLS patching
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.84 2004/06/10 21:15:24 jakob Exp $
d6 1
a6 1
PKGNAME=	postfix-${VERSION}
@


1.84
log
@IPv6/TLS ready, no longer BROKEN
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.83 2004/04/25 10:36:39 jakob Exp $
a13 20

TLSHOMEPAGE=	http://www.aet.tu-cottbus.de/personen/jaenicke/pfixtls/
SUBST_VARS+=	TLSHOMEPAGE

IPV6HOMEPAGE=	http://www.ipnet6.org/postfix/
SUBST_VARS+=	IPV6HOMEPAGE

MAKE_CCARGS+=	-DHAS_SSL
MAKE_AUXLIBS+=	-lssl -lcrypto

PATCH_DIST_STRIP=-p1
PATCHFILES+=	tls+ipv6-${IPV6VERSION}-pf-${IPV6POSTFIX}.patch.gz:0
MASTER_SITES0=	http://www.ipnet6.org/postfix/download/

post-patch:
	@@find ${WRKSRC} -type f -name '*.bak.orig' -print | xargs rm

post-install:
	@@${INSTALL_DATA_DIR} ${PREFIX}/share/doc/postfix/tls
	@@${INSTALL_DATA} ${WRKSRC}/pfixtls/doc/* ${PREFIX}/share/doc/postfix/tls
@


1.83
log
@move to postfix release 2.1 and snapshot 2.2

- enable SMTP over SSL/TLS by default
- enable IPv6 by default
- enable PRE by default
- keep sasl2/ldap/mysql/pgsql as flavours
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.82 2004/02/12 22:24:55 jakob Exp $
d3 1
a3 1
VERSION=	2.2-20040422
d12 22
a33 1
BROKEN=		"No TLS/IPv6 patch availible"
@


1.82
log
@update to 2.0.18-20040209
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.81 2004/02/08 12:23:18 jakob Exp $
d3 1
a3 1
VERSION=	2.0.18-20040209
d12 1
a12 15
TLSVERSION=	0.8.18
TLSPFIXVERSION=	2.0.18-20040205
TLSSSLVERSION=	0.9.7c

IPV6VERSION=	1.21a
IPV6PFIXVERSION=2.0.18-20040205

FLAVORS+=	pgsql
FLAVOR?=

.if ${FLAVOR:L:Mpgsql}
LIB_DEPENDS+=	pq.3:postgresql-clients-7.*:databases/postgresql
MAKE_CCARGS+=	-I${LOCALBASE}/include/postgresql -DHAS_PGSQL
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lpq
.endif
@


1.81
log
@enable IPv6 flavour
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.80 2004/02/08 11:17:11 jakob Exp $
d3 1
a3 1
VERSION=	2.0.18-20040205
d13 1
a13 1
TLSPFIXVERSION=	2.0.18-20040122
@


1.80
log
@update to 20040205 (w/ tls)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.79 2004/01/26 13:43:02 jakob Exp $
d16 2
@


1.79
log
@new snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.78 2004/01/09 10:47:08 jakob Exp $
d3 1
a3 1
VERSION=	2.0.18-20040122
d12 3
a14 3
#TLSVERSION=	0.8.17
#TLSPFIXVERSION=	2.0.16-20031231
#TLSSSLVERSION=	0.9.7c
@


1.78
log
@snapshot 2.0.16-20031231
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.77 2003/12/26 16:46:34 jakob Exp $
d3 1
a3 1
VERSION=	2.0.16-20031231
d12 3
a14 3
TLSVERSION=	0.8.17
TLSPFIXVERSION=	2.0.16-20031231
TLSSSLVERSION=	0.9.7c
@


1.77
log
@update to snapshot 2.0.16-20031223. no tls code yet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.76 2003/12/21 09:31:18 jakob Exp $
d3 1
a3 1
VERSION=	2.0.16-20031223
d12 3
a14 3
#TLSVERSION=	0.8.16
#TLSPFIXVERSION=	2.0.16-20031113
#TLSSSLVERSION=	0.9.7c
@


1.76
log
@depend on postgresql-clients instead of postgresql
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.75 2003/11/24 21:06:43 jakob Exp $
d3 1
a3 1
VERSION=	2.0.16-20031113
d12 3
a14 3
TLSVERSION=	0.8.16
TLSPFIXVERSION=	2.0.16-20031113
TLSSSLVERSION=	0.9.7c
@


1.75
log
@add postgresql flavour; from alistair kerr
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.74 2003/11/24 19:33:09 jakob Exp $
d21 1
a21 1
LIB_DEPENDS+=	pq.3:postgresql-7.*.*:databases/postgresql
@


1.74
log
@new snapshot; 20031113
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.73 2003/11/24 18:52:06 jakob Exp $
d15 10
@


1.73
log
@TLS cleanup
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.72 2003/11/24 18:50:08 jakob Exp $
d3 1
a3 1
VERSION=	2.0.16-20031022
d13 1
a13 1
TLSPFIXVERSION=	2.0.16-20031022
@


1.72
log
@reintroduce tls flavour for snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.71 2003/11/04 15:28:13 jakob Exp $
a14 1
TLSDISTNAME=	pfixtls-${TLSVERSION}-${TLSPFIXVERSION}-${TLSSSLVERSION}
@


1.71
log
@new snapshot; 2.0.16-20031022
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.70 2003/10/05 19:41:33 jakob Exp $
d11 5
@


1.70
log
@update to snapshot 2.0.16-20030921
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.69 2003/07/06 21:19:31 jakob Exp $
d3 1
a3 1
VERSION=	2.0.16-20030921
@


1.69
log
@new postfix snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.68 2003/06/23 19:11:11 sturm Exp $
d3 1
a3 1
VERSION=	2.0.13-20030706
@


1.68
log
@new user naming schema

bump PKGNAME where necessary

rohee@@ ok leafnode
"you don't have to wait for oks" pval@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.67 2003/06/11 18:31:00 jakob Exp $
d3 1
a3 1
VERSION=	2.0.12-20030611
d6 1
a6 1
PKGNAME=	postfix-${VERSION}p0
@


1.67
log
@new snapshot, 2.0.12-20030611
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.66 2003/06/10 20:46:33 jakob Exp $
d6 1
a6 1
PKGNAME=	postfix-${VERSION}
@


1.66
log
@new snapshot, postfix-2.0.11-20030609
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.65 2003/05/16 02:52:43 jakob Exp $
d3 1
a3 1
VERSION=	2.0.11-20030609
@


1.65
log
@new snapshot, 2.0.9-20030424, and sync pkg/INSTALL with stable
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.64 2003/04/22 17:31:29 jakob Exp $
d3 1
a3 1
VERSION=	2.0.9-20030424
@


1.64
log
@new snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.63 2003/04/16 06:45:01 jakob Exp $
d3 1
a3 1
VERSION=	2.0.9-20030419
@


1.63
log
@new snapshot, 2.0.8-20030415
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.62 2003/03/27 18:31:03 jakob Exp $
d3 1
a3 1
VERSION=	2.0.8-20030415
@


1.62
log
@update to latest snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.61 2003/01/28 17:29:09 jakob Exp $
d3 1
a3 1
VERSION=	2.0.7-20030319
@


1.61
log
@no more tls patches for snapshot releases
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.60 2003/01/28 16:50:33 jakob Exp $
d3 1
a3 1
VERSION=	2.0.3-20030126
@


1.60
log
@2.0.3-20030126
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.59 2003/01/06 11:37:24 jakob Exp $
a10 5

#TLSVERSION=	0.8.12
#TLSPFIXVERSION=	${VERSION}
#TLSSSLVERSION=	0.9.6h
#TLSDISTNAME=	pfixtls-${TLSVERSION}-${TLSPFIXVERSION}-${TLSSSLVERSION}
@


1.59
log
@snapshot 2.0.0-20030105, no tls patches yet
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.58 2002/12/20 16:26:22 jakob Exp $
d3 1
a3 1
VERSION=	2.0.0-20030105
@


1.58
log
@update to snapshot 1.1.12-20021219
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.57 2002/12/15 22:10:41 jakob Exp $
d3 1
a3 1
VERSION=	1.1.12-20021219
d12 4
a15 13
FLAVORS+=	sasl2
FLAVOR?=

.if ${FLAVOR:L:Msasl2}
LIB_DEPENDS+=	sasl2::security/cyrus-sasl2
MAKE_CCARGS+=	-I${LOCALBASE}/include -I${LOCALBASE}/include/sasl -DUSE_SASL_AUTH 
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lsasl2
.endif

TLSVERSION=	0.8.12
TLSPFIXVERSION=	1.1.12-20021219
TLSSSLVERSION=	0.9.6h
TLSDISTNAME=	pfixtls-${TLSVERSION}-${TLSPFIXVERSION}-${TLSSSLVERSION}
@


1.57
log
@update to snapshot 1.1.12-20021214
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.56 2002/12/15 21:23:28 jakob Exp $
d3 1
a3 1
VERSION=	1.1.12-20021214
d22 1
a22 1
TLSPFIXVERSION=	1.1.12-20021214
@


1.56
log
@update to snapshot 1.1.12-20021203 with tls version 0.8.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.55 2002/11/12 12:43:19 jakob Exp $
d3 1
a3 1
VERSION=	1.1.12-20021203
d22 1
a22 1
TLSPFIXVERSION=	1.1.12-20021203
@


1.55
log
@snapshot 1.1.11-20021109
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2002/11/06 21:48:38 jakob Exp $
d3 1
a3 1
VERSION=	1.1.11-20021109
d21 3
a23 3
TLSVERSION=	0.8.11a
TLSPFIXVERSION=	1.1.11-20021031
TLSSSLVERSION=	0.9.6g
@


1.54
log
@update to snapshot 1.1.11-20021106
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2002/10/31 22:57:58 jakob Exp $
d3 1
a3 1
VERSION=	1.1.11-20021106
@


1.53
log
@snapshot 1.1.11-20021031
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2002/10/30 22:22:45 jakob Exp $
d3 1
a3 1
VERSION=	1.1.11-20021031
d22 1
a22 1
TLSPFIXVERSION=	1.1.11-20021029
@


1.52
log
@update to snapshot 20021029
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2002/10/11 23:00:04 jakob Exp $
d3 1
a3 1
VERSION=	1.1.11-20021029
d22 1
a22 1
TLSPFIXVERSION=	${VERSION}
@


1.51
log
@update to snapshot 1.1.11-20020928
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2002/09/23 13:38:57 jakob Exp $
d3 1
a3 1
VERSION=	1.1.11-20020928
@


1.50
log
@update to snapshot 20020917
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2002/09/07 19:08:37 jakob Exp $
d3 1
a3 1
VERSION=	1.1.11-20020917
@


1.49
log
@update to v1.1.11-20020822 and sync tls patch
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2002/06/22 08:59:13 jakob Exp $
d3 1
a3 1
VERSION=	1.1.11-20020822
d22 1
a22 1
TLSPFIXVERSON=	${VERSION}
d24 1
a24 1
TLSDISTNAME=	pfixtls-${TLSVERSION}-${TLSPFIXVERSON}-${TLSSSLVERSION}
@


1.48
log
@update to new snapshot and add sasl2 & tls flavours
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2002/06/12 06:01:16 jakob Exp $
d3 1
a3 1
VERSION=	1.1.11-20020613
d23 1
a23 1
TLSSSLVERSION=	0.9.6d
@


1.47
log
@update to snapshot 20020610 adding user@@domain-based transport lookup and sender-based routing
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2002/06/02 15:24:13 jakob Exp $
d3 1
a3 2
VERSION=	1.1.11
SNAPSHOT=	20020610
d5 2
a6 2
DISTNAME=	postfix-${VERSION}-${SNAPSHOT}
PKGNAME=	postfix-${VERSION}-${SNAPSHOT}
d11 14
@


1.46
log
@postfix snapshot 1.1.11-20020601 fixes a bug with MIME conversion while
sending 8bit mail to a non-8bit system.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2002/05/30 19:51:47 jakob Exp $
d4 1
a4 1
SNAPSHOT=	20020601
@


1.45
log
@update to snapshot 1.1.11-20020529
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2002/05/28 07:26:16 jakob Exp $
d4 1
a4 1
SNAPSHOT=	20020529
@


1.44
log
@update to snapshot 20020527
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2002/05/15 06:20:04 jakob Exp $
d4 1
a4 1
SNAPSHOT=	20020527
@


1.43
log
@kill MASTER_SITE_SUBDIR
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2002/05/15 06:08:10 jakob Exp $
d3 2
a4 2
VERSION=	1.1.10
SNAPSHOT=	20020514
@


1.42
log
@update to v1.1.10, minor bugfix
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2002/05/14 19:37:42 jakob Exp $
d11 1
a11 1
MASTER_SITE_SUBDIR=	experimental
@


1.41
log
@snapshot 1.1.9 20020513
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2002/05/13 19:34:44 jakob Exp $
d3 2
a4 2
VERSION=	1.1.9
SNAPSHOT=	20020513
@


1.40
log
@update to 1.1.9-20020512
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2002/05/09 08:00:33 jakob Exp $
d4 1
a4 1
SNAPSHOT=	20020512
@


1.39
log
@new postfix snapshot
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2002/05/06 15:42:00 jakob Exp $
d3 2
a4 2
VERSION=	1.1.8
SNAPSHOT=	20020508
@


1.38
log
@update to postfix snapshot 1.1.8-20020505
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2002/04/19 21:11:29 jakob Exp $
d4 1
a4 1
SNAPSHOT=	20020505
@


1.37
log
@update to snapshot 1.1.7-20020331
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2002/03/29 10:46:10 jakob Exp $
d3 2
a4 2
VERSION=	1.1.7
SNAPSHOT=	20020331
@


1.36
log
@disable (using BROKEN) until new snapshot is released
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2002/01/16 14:47:34 jakob Exp $
d3 2
a4 1
BROKEN=		"no postfix snapshot currently availible"
d6 2
a7 2
DISTNAME=	snapshot-20020115
PKGNAME=	postfix-${DISTNAME}
a11 3

TLSVERSION=	0.7.14
TLSDISTNAME=	pfixtls-${TLSVERSION}-snap20020107-0.9.6c
@


1.35
log
@snapshot-20020115, final release candidate
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.34 2002/01/08 20:12:02 jakob Exp $
@


1.34
log
@update to postfix snapshot 20020107 with pfixtls 0.7.14. this is the
next official release candicate.

important change: maildrop group renamed to postdrop.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2002/01/02 08:01:03 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20020107
@


1.33
log
@update to snapshot 20011217
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2001/11/22 22:49:22 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20011217
d10 2
a11 2
TLSVERSION=	0.7.13e
TLSDISTNAME=	pfixtls-${TLSVERSION}-snap20011217-0.9.6b
@


1.32
log
@split out TLSVERSION
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2001/11/22 22:31:49 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20011121
d10 2
a11 2
TLSVERSION=	0.7.13a
TLSDISTNAME=	pfixtls-${TLSVERSION}-snap20011121-0.9.6b
@


1.31
log
@update to snapshot-20011121
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2001/11/15 20:05:40 jakob Exp $
d10 2
a11 1
TLSDISTNAME=	pfixtls-0.7.13a-snap20011121-0.9.6b
@


1.30
log
@update to snapshot-20011115; fix another smtpd command log memory exhaustion bug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2001/11/15 07:33:58 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20011115
d10 1
a10 1
TLSDISTNAME=	pfixtls-0.7.12-snap20011105-0.9.6b
@


1.29
log
@update to snapshot-20011114; fix smtpd command log memory exhaustion bug
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2001/11/10 23:28:21 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20011114
@


1.28
log
@update to snapshot-20011105 & pfixtls v0.7.12
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2001/10/25 21:35:38 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20011105
@


1.27
log
@add tls flavour
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2001/10/08 22:12:18 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20011008
d10 1
a10 1
TLSDISTNAME=	pfixtls-0.7.11-snap20011008-0.9.6b
@


1.26
log
@update to snapshot 20011008. ok naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2001/09/28 23:32:47 jakob Exp $
d9 2
@


1.25
log
@move common flavours into shared Makefile.inc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2001/09/28 19:06:29 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010808
@


1.24
log
@depend on openldap-client
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2001/09/14 23:48:45 jakob Exp $
a8 23

FLAVORS=	pcre sasl ldap
FLAVOR?=

.if ${FLAVOR:L:Mpcre}
LIB_DEPENDS+=	pcre::devel/pcre

MAKE_CCARGS+=	-I${LOCALBASE}/include -DHAS_PCRE
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lpcre
.endif

.if ${FLAVOR:L:Msasl}
LIB_DEPENDS+=	sasl::security/cyrus-sasl

MAKE_CCARGS+=	-I${LOCALBASE}/include -I${LOCALBASE}/include/sasl -DUSE_SASL_AUTH 
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lsasl -lkrb
.endif

.if ${FLAVOR:L:Mldap}
LIB_DEPENDS+=	ldap.2:openldap-client-2.*:databases/openldap
MAKE_CCARGS+=	-I${LOCALBASE}/include -DHAS_LDAP
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lldap -llber
.endif
@


1.23
log
@move MAINTAINER to */Makefile
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2001/08/09 07:37:37 jakob Exp $
d28 1
a28 1
LIB_DEPENDS+=	ldap::databases/openldap
@


1.22
log
@update to snapshot-20010808
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2001/07/15 21:47:51 jakob Exp $
d5 2
@


1.21
log
@update to snapshot 20010714
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2001/07/10 08:11:44 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010714
@


1.20
log
@upgrade to postfix snapshot-20010709.

- VERP support
- QMQP server support (for ezmlm-idx)
- Maildir support for /var/mail
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2001/06/11 06:31:52 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010709
@


1.19
log
@update to postfix snapshot 20010610. info from Wietse;

- A workaround for a bug in old versions of the CISCO PIX firewall software
l that caused mail to be resent repeatedly to systems behind such a product.
The same workaround will be folded into the "stable" release when time
permits.

- A much enhanced pipe delivery agent with flags to control case folding of
the $nexthop, $recipient, $user, $extension or $mailbox command-line macros.

- A much enhanced pipe delivery agent with proper quoting of white space and
other special characters in the expansions of the $sender and $recipient
command-line macros. This is necessary for correct operation of the "simple"
content filter, among others.

- Retraction of one RFC2821-induced change that was causing more problems
than it solved.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2001/05/29 11:56:09 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010610
@


1.18
log
@change PREFIX to LOCALBASE for various -I and -L flags. thanks brad@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2001/05/26 05:57:17 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010525
@


1.17
log
@update to postfix snapshot 20010525. info from wietse:

- Many little revisions of little details in the light of the new RFC 2821
and RFC 2822 standards. RFC features considered less urgent or less useful
are discussed in source code comments. See the RELEASE_NOTES for possible
incompatibilities.

- A much enhanced postsuper queue maintenance tool that can fix Postfix
queues restored from another machine or from backup. The postsuper tool
corrects file names when a file name does not match the message file
inode number. My respect has doubled for people who write fsck-like programs.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2001/05/05 22:13:47 jakob Exp $
d14 2
a15 2
MAKE_CCARGS+=	-I${PREFIX}/include -DHAS_PCRE
MAKE_AUXLIBS+=	-L${PREFIX}/lib -lpcre
d21 2
a22 2
MAKE_CCARGS+=	-I${PREFIX}/include -I${PREFIX}/include/sasl -DUSE_SASL_AUTH 
MAKE_AUXLIBS+=	-L${PREFIX}/lib -lsasl -lkrb
d27 2
a28 2
MAKE_CCARGS+=	-I${PREFIX}/include -DHAS_LDAP
MAKE_AUXLIBS+=	-L${PREFIX}/lib -lldap -llber
@


1.16
log
@update to postfix snapshot 20010502
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/03/31 08:48:06 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010502
@


1.15
log
@update to postfix snapshot 20010329
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2001/03/01 07:59:17 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010329
@


1.15.2.1
log
@MFC:
PREFIX->LOCALBASE cleanup
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2001/03/31 08:48:06 jakob Exp $
d14 2
a15 2
MAKE_CCARGS+=	-I${LOCALBASE}/include -DHAS_PCRE
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lpcre
d21 2
a22 2
MAKE_CCARGS+=	-I${LOCALBASE}/include -I${LOCALBASE}/include/sasl -DUSE_SASL_AUTH 
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lsasl -lkrb
d27 2
a28 2
MAKE_CCARGS+=	-I${LOCALBASE}/include -DHAS_LDAP
MAKE_AUXLIBS+=	-L${LOCALBASE}/lib -lldap -llber
@


1.14
log
@update to postfix snapshot 20010228 (release 20010228 + nnqmgr + virtual)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2001/02/26 07:15:23 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010228
@


1.13
log
@Postfix snapshot 20010225 (updated release candidate)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2001/02/23 14:34:42 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010225
@


1.12
log
@update to Postfix Snapshot 20010222.

this is the RELEASE CANDIDATE for the first official non-beta Postfix
release, bugfixes permitting.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2001/02/06 22:40:05 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010222
@


1.11
log
@update to snapshot-20010202
--
The mailbox file size limits for the local and virtual delivery
agents can be disabled by setting mailbox_size_limit and/or
virtual_mailbox_limit to zero.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2001/02/01 07:28:12 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010204
@


1.10
log
@update to postfix snapshot-20010130.


Incompatible changes with snapshot-20010128
===========================================

REJECT in header/body_checks is now flagged as policy violation
rather than bounce, for consistency in postmaster notifications.

The mailbox size limit for local delivery is no longer controlled
by the message_size_limit paramater, but by a separate parameter
called mailbox_size_limit (default: 20MBytes).

The default RBL (real-time blackhole lists) domain examples have
been updated from *.vix.com to *.mail-abuse.org.

Major changes with snapshot-20010128
====================================

Updated nqmgr (experimental queue manager with clever queueing
strategy) by Patrik Rak. This code is still new. Once it stops
changing (for a long time!) it will become part of the non-beta
release.

Virtual mailbox delivery agent by Andrew McNamara. This delivery
agent can deliver mail for any number of domains.  See the file
VIRTUAL_README for detailed examples. This code is still new. Once
it stops changing it will become part of the non-beta release.

Many "valid_hostname" warnings were eliminated. The complaints that
were not eliminated were replaced by something more informative.

SASL support (RFC 2554) for the LMTP delivery agent. This is required
by recent Cyrus implementations when delivering mail over TCP
sockets. The LMTP_README file has been updated but still contains
some obsolete information.

Workarounds for non-standard RFC 2554 (AUTH command) implementations.
Specify "broken_sasl_auth_clients = yes" to enable SMTP server
support for old Microsoft client applications. The Postfix SMTP
client supports non-standard RFC 2554 servers by default.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2000/12/18 10:52:32 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20010130
@


1.9
log
@update to snapshot-20001217.


Extract from RELEASE_NOTES:
===========================

    Major changes with snapshot-20001217
    ====================================

    This release involves little change in functionality and a lot of
    small changes to lots of files. The code is put out as a separate
    snapshot release so that I have a tested baseline for further work.

    All time-related configuration parameters now accept a one-letter
    suffix to indicate the time unit (s: second, m: minute, h: hour,
    d: day, w: week). The exceptions are the LDAP and MYSQL modules
    which are maintained separately.

    The mysql client was partially rewritten in order to elimimate some
    memory allocation/deallocation problems. The code needs more work,
    and needs to be tested in a real production environment.

    The local_transport and default_transport configuration parameters
    can now be specified in transport:destination notation, just like
    the mailbox_transport and fallback_transport parameters.  The
    :destination part is optional.  However, these parameters take only
    one destination, unlike relayhost and fallback-relay which take
    any number of destinations.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2000/12/11 03:17:50 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20001217
@


1.8
log
@update to snapshot-20001210.

Extract from the RELEASE_NOTES file:

    Incompatible changes with snapshot-20001210
    ===========================================

    If this release does not work for you, you can go back to a previous
    Postfix version without losing your mail, subject to the "incompatible
    changes" listed for previous Postfix releases below.

    When delivering to /file/name (as directed in an alias or .forward
    file), the local delivery agent now logs a warning when it is unable
    to create a /file/name.lock file. Mail is still delivered as before.

    The "sun_mailtool_compatibility" feature is going away (a compatibility
    mode that turns off kernel locks on mailbox files). It still works,
    but a warning is logged. Instead of using "sun_mailtool_compatibility",
    specify the mailbox locking strategy as "mailbox_delivery_lock =
    dotlock".

    The Postfix SMTP client now skips SMTP server replies that do not
    start with "CODE SPACE" or with "CODE HYPHEN" and flags them as
    protocol errors. Older Postfix SMTP clients silently treated "CODE
    TEXT" as "CODE SPACE TEXT", i.e. as a valid SMTP reply.

    This snapshot does not yet change default relay settings. That
    change alone affects a dozen files, most of which documentation.
    This may be an incompatibility with some people's expectations,
    but such are my rules - between code freeze and release no major
    functionality changes are allowed.

    Several interfaces of libutil and libglobal routines have changed.
    This may break third-party code written for Postfix. In particular,
    the safe_open() routine has changed, the way the preferred locking
    method is specified in the sys_defs.h file, as well as all routines
    that perform file locking. When compiling third-party code written
    for Postfix, the incompatibilities will be detected by the compiler
    provided that #include file dependencies are properly maintained.

    Major changes with snapshot-20001210
    ====================================

    This snapshot includes bugfixes that were already released as
    patches 12 and 13 for the 19991231 "stable" release:

      - The queue manager could deadlock for 10 seconds when bouncing
        mail under extreme load from one-to-one mass mailings.

      - Local delivery performance was substandard, because the per-user
        concurrency limit accidentally applied to the entire local
        domain.

    The mailbox locking style is now fully configurable at runtime.
    The new configuration parameter is called "mailbox_delivery_lock".
    Depending on the operating system type, mailboxes can be locked
    with one or more of "flock", "fcntl" or "dotlock".  The command
    "postconf -l" shows the available locking styles.  The default
    mailbox locking style is system dependent.  This change affects
    all mailbox and all "/file/name" deliveries by the Postfix local
    delivery agent.

    The new "import_environment" and "export_environment" configuration
    parameters now provide explicit control over what environment
    variables Postfix will import, and what environment variables
    Postfix will pass on to a non-Postfix process. This is better than
    hard-coding my debugging environment into public releases.

    The "mailbox_transport" and "fallback_transport" parameters now
    understand the form "transport:nexthop", with suitable defaults
    when either transport or nexthop are omitted, just like in the
    Postfix transport map. This allows you to specify for example,
    "mailbox_transport = lmtp:unix:/file/name".

    The MYSQL client now supports server connections over UNIX-domain
    sockets.  Code provided by Piotr Klaban. See the file MYSQL_README
    for examples of "host" syntax.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2000/11/21 19:45:36 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20001210
@


1.7
log
@update to snapshot-20001121.


Quote from the RELEASE_NOTES file:

    Incompatible changes with snapshot-20001121
    ===========================================

    If this release does not work for you, you can go back to a previous
    Postfix version without losing your mail, subject to the "incompatible
    changes" listed for previous Postfix releases below.

    Major changes with snapshot-20001121
    ====================================

    Support for RedHat Linux 7.0.  On RedHat Linux 7.0, you must install
    the db3-devel RPM before you can compile the Postfix source code.

    The mailbox_transport feature works again. It was broken when the
    "require_home_directory" feature was added.

    More general virtual domain support.  Postfix now supports both
    Sendmail-style virtual domains and Postfix-style virtual domains.
    Details and examples are given in the revised virtual manual page.

    - With Sendmail-style virtual domains, local users/aliases/mailing
      lists are visible as localname@@virtual.domain. This is convenient
      if you want to host mailing lists under virtual domains.

    - With Postfix-style virtual domains, local users/aliases/mailing
      lists are not visible as localname@@virtual.domain. Each virtual
      domain has its own separate name space.

    More general "soft bounce" feature.  Specify "soft_bounce = yes"
    in main.cf to prevent the SMTP server from bouncing mail while you
    are testing configurations. Until this release the SMTP server was
    not aware of soft bounces.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2000/11/18 09:29:52 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20001121
@


1.6
log
@update to snapshot-20001030
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2000/10/06 23:10:43 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20001030
@


1.5
log
@add LDAP flavour
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2000/10/05 21:16:50 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20001005
@


1.4
log
@fix sasl when used as single flavour
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2000/10/05 21:13:23 jakob Exp $
d8 1
a8 1
FLAVORS=	pcre sasl
d23 6
@


1.3
log
@add pcre flavour, rework MAKE_{CCARGS,AUXLIBS}
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2000/10/05 19:42:23 jakob Exp $
d21 2
a22 2
MAKE_CCARGS+=	-DUSE_SASL_AUTH -I${PREFIX}/include/sasl
MAKE_AUXLIBS+=	-lsasl -lkrb
@


1.2
log
@update to postfix snapshot 20001005
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1 2000/09/25 21:02:32 jakob Exp $
d8 4
d14 3
a16 1
FLAVORS=	sasl
a17 1
FLAVOR?=
a18 2
MAKE_FLAGS+=	CCARGS="-DHAS_PCRE -I${PREFIX}/include -DUSE_SASL_AUTH -I${PREFIX}/include/sasl" \
		AUXLIBS="-L${PREFIX}/lib -lpcre -lsasl -lkrb"
d20 3
a22 3
.else
MAKE_FLAGS+=	CCARGS="-DHAS_PCRE -I${PREFIX}/include" \
		AUXLIBS="-L${PREFIX}/lib -lpcre"
@


1.1
log
@split port into stable and snapshot versions
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2000/03/30 19:06:40 jakob Exp $
d3 1
a3 1
DISTNAME=	snapshot-20000924
@

