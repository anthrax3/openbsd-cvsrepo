head	1.1;
access;
symbols
	OPENBSD_6_2:1.1.0.2
	OPENBSD_6_2_BASE:1.1;
locks; strict;
comment	@# @;


1.1
date	2017.04.13.07.10.21;	author jasper;	state Exp;
branches;
next	;
commitid	alJGYL7eC0xBGvFl;


desc
@@


1.1
log
@Fixes for vala 0.36
@
text
@$OpenBSD$

Fix build with vala 0.36:
error: Argument 1: Cannot pass value to reference or output parameter

--- src/client/conversation-list/conversation-list-store.vala.orig	Thu Apr 13 08:49:51 2017
+++ src/client/conversation-list/conversation-list-store.vala	Thu Apr 13 08:52:10 2017
@@@@ -313,7 +313,7 @@@@ public class ConversationListStore : Gtk.ListStore {
         if (last_email == null) {
             debug("Cannot refresh conversation: last email is null");
             
-            remove(iter);
+            remove(ref iter);
             return;
         }
         
@@@@ -385,7 +385,7 @@@@ public class ConversationListStore : Gtk.ListStore {
     private void remove_conversation(Geary.App.Conversation conversation) {
         Gtk.TreeIter iter;
         if (get_iter_for_conversation(conversation, out iter))
-            remove(iter);
+            remove(ref iter);
         
         row_map.remove(conversation);
     }
@
