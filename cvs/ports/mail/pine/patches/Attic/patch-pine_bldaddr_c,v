head	1.2;
access;
symbols
	OPENBSD_3_1:1.1.0.4
	OPENBSD_3_2:1.1.0.2;
locks; strict;
comment	@# @;


1.2
date	2002.12.01.20.57.10;	author jakob;	state dead;
branches;
next	1.1;

1.1
date	2002.11.25.17.08.37;	author brad;	state Exp;
branches
	1.1.2.1
	1.1.4.1;
next	;

1.1.2.1
date	2002.11.25.17.26.22;	author brad;	state Exp;
branches;
next	;

1.1.4.1
date	2002.11.25.17.38.06;	author brad;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update to pine v4.50
- split out pilot into separate package
- remove combined pine+pico package
- clean up patches
- remote c-client dependency, link statically
@
text
@$OpenBSD: patch-pine_bldaddr_c,v 1.1 2002/11/25 17:08:37 brad Exp $
--- pine/bldaddr.c.orig	Thu Jun 21 13:53:24 2001
+++ pine/bldaddr.c	Mon Nov 25 11:55:38 2002
@@@@ -7263,8 +7263,8 @@@@ est_size(a)
     for(; a; a = a->next){
 
 	/* two times personal for possible quoting */
-	cnt   += 2 * (a->personal  ? strlen(a->personal)  : 0);
-	cnt   += (a->mailbox  ? strlen(a->mailbox)  : 0);
+	cnt   += 2 * (a->personal  ? (strlen(a->personal)+1)  : 0);
+	cnt   += 2 * (a->mailbox  ? (strlen(a->mailbox)+1)    : 0);
 	cnt   += (a->adl      ? strlen(a->adl)      : 0);
 	cnt   += (a->host     ? strlen(a->host)     : 0);
 
@


1.1
log
@Fix denial of service issue with Pine 4.44.

An attacker can send a fully legal email message with a crafted
From-header and thus forcing pine to core dump on startup.
The only way to launch pine is manually removing the bad message
either directly from the spool, or from another MUA. Until the
message has been removed or edited there is no way of accessing
the INBOX using pine.

http://marc.theaimsgroup.com/?l=bugtraq&m=103668430620531&w=2
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1.4.1
log
@Fix denial of service issue with Pine 4.44.

An attacker can send a fully legal email message with a crafted
From-header and thus forcing pine to core dump on startup.
The only way to launch pine is manually removing the bad message
either directly from the spool, or from another MUA. Until the
message has been removed or edited there is no way of accessing
the INBOX using pine.

http://marc.theaimsgroup.com/?l=bugtraq&m=103668430620531&w=2
@
text
@d1 1
a1 1
$OpenBSD: patch-pine_bldaddr_c,v 1.1 2002/11/25 17:08:37 brad Exp $
@


1.1.2.1
log
@Fix denial of service issue with Pine 4.44.

An attacker can send a fully legal email message with a crafted
From-header and thus forcing pine to core dump on startup.
The only way to launch pine is manually removing the bad message
either directly from the spool, or from another MUA. Until the
message has been removed or edited there is no way of accessing
the INBOX using pine.

http://marc.theaimsgroup.com/?l=bugtraq&m=103668430620531&w=2
@
text
@d1 1
a1 1
$OpenBSD: patch-pine_bldaddr_c,v 1.1 2002/11/25 17:08:37 brad Exp $
@

