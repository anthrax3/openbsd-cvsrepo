head	1.3;
access;
symbols
	OPENBSD_3_2:1.2.0.6
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.4
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.2
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.1
	OPENBSD_2_9:1.1.0.4
	OPENBSD_2_9_BASE:1.1
	OPENBSD_2_8:1.1.0.2
	OPENBSD_2_8_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2002.12.01.20.57.10;	author jakob;	state dead;
branches;
next	1.2;

1.2
date	2001.09.27.16.52.40;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.15.10.06.38;	author brad;	state Exp;
branches;
next	;


desc
@@


1.3
log
@- update to pine v4.50
- split out pilot into separate package
- remove combined pine+pico package
- clean up patches
- remote c-client dependency, link statically
@
text
@$OpenBSD: patch-pico_osdep_spell.unx,v 1.2 2001/09/27 16:52:40 brad Exp $
--- pico/osdep/spell.unx.orig	Thu Aug 27 18:57:49 1998
+++ pico/osdep/spell.unx	Thu Sep 27 08:51:48 2001
@@@@ -85,6 +85,14 @@@@ spell(f, n)
     setimark(0, 1);
     emlwrite("Checking spelling...", NULL); 	/* greetings */
 
+    if((sp = (char *)getenv("SPELL")) == NULL)
+      sp = SPELLER;
+
+    /* This code only works with "spell", which doesn't exist, and
+       alt_speller is only set via command line -s argument. */
+    if (strstr(sp, "ispell") != NULL)
+      alt_speller = sp;
+
     if(alt_speller)
       return(alt_editor(1, 0));			/* f == 1 means fork speller */
 
@@@@ -92,9 +100,6 @@@@ spell(f, n)
 	emlwrite("Can't write temp file for spell checker", NULL);
 	return(-1);
     }
-
-    if((sp = (char *)getenv("SPELL")) == NULL)
-      sp = SPELLER;
 
     sprintf(cb, "( %s ) < %s", sp, fn);		/* pre-use buffer! */
     if((p = P_open(cb)) == NULL){ 		/* read output from command */
@


1.2
log
@upgrade to Pine 4.40
@
text
@d1 1
a1 1
$OpenBSD$
@


1.1
log
@use better filenames for patches
@
text
@d1 1
d3 2
a4 2
+++ pico/osdep/spell.unx	Tue Jan  4 23:53:04 2000
@@@@ -85,6 +85,14 @@@@
d19 1
a19 1
@@@@ -92,9 +100,6 @@@@
@

