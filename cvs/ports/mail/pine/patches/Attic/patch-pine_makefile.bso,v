head	1.9;
access;
symbols
	OPENBSD_3_2:1.8.0.2
	OPENBSD_3_2_BASE:1.8
	OPENBSD_3_1:1.7.0.2
	OPENBSD_3_1_BASE:1.7
	OPENBSD_3_0:1.6.0.2
	OPENBSD_3_0_BASE:1.6
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.2
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.1.0.2
	OPENBSD_2_8_BASE:1.1;
locks; strict;
comment	@# @;


1.9
date	2002.12.01.20.57.10;	author jakob;	state dead;
branches;
next	1.8;

1.8
date	2002.06.05.19.46.37;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2001.11.19.02.01.58;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2001.10.06.02.14.16;	author brad;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2001.09.27.23.37.30;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2001.09.27.18.44.41;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2001.09.27.16.52.40;	author brad;	state Exp;
branches;
next	1.2;

1.2
date	2000.12.31.04.49.38;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2000.09.17.14.56.27;	author brad;	state Exp;
branches
	1.1.2.1;
next	;

1.1.2.1
date	2001.01.18.19.23.14;	author brad;	state Exp;
branches;
next	;

1.6.2.1
date	2002.01.16.23.52.07;	author brad;	state Exp;
branches;
next	;


desc
@@


1.9
log
@- update to pine v4.50
- split out pilot into separate package
- remove combined pine+pico package
- clean up patches
- remote c-client dependency, link statically
@
text
@$OpenBSD: patch-pine_makefile.bso,v 1.8 2002/06/05 19:46:37 brad Exp $
--- pine/makefile.bso.orig	Tue Oct 23 18:24:45 2001
+++ pine/makefile.bso	Sat Nov 17 20:22:04 2001
@@@@ -50,7 +50,7 @@@@ OPTIMIZE=    # -O
 PROFILE=     # -pg
 DEBUG=       -DDEBUG # -g
 
-CCLIENTDIR=  ../c-client
+CCLIENTDIR=  $(LOCALBASE)/include/c-client
 PICODIR=     ../pico
 
 # Only need to uncomment next two lines if you run make from this directory
@@@@ -61,13 +61,12 @@@@ PICODIR=     ../pico
 LDAPOFILES=   addrbook.o adrbkcmd.o args.o bldaddr.o init.o \
 	      mailview.o other.o pine.o strings.o takeaddr.o
 
-STDLIBS=     -ltermlib
-LOCLIBS=     -lpico $(CCLIENTDIR)/c-client.a
-LOCLIBDIR=   -L$(PICODIR)
-LIBS=        $(LOCLIBDIR) $(LOCLIBS) $(LDAPLIBS) $(STDLIBS) \
-             `cat $(CCLIENTDIR)/LDFLAGS`
+STDLIBS=     -ltermlib -lssl -lgssapi -lkrb -lkrb5 -lasn1 -lcrypto -lcom_err -lkafs -ldes
+LOCLIBS=     -lpico -lc-client
+LOCLIBDIR=   -L$(PICODIR) -L$(LOCALBASE)/lib
+LIBS=        $(LOCLIBDIR) $(LOCLIBS) $(LDAPLIBS) $(STDLIBS)
 
-STDCFLAGS=   -DBSDI -DSYSTYPE=\"BSO\" -DMOUSE
+STDCFLAGS=   -DBSDI -DSYSTYPE=\"BSO\" -DMOUSE -I$(LOCALBASE)/include
 CFLAGS+=     $(OPTIMIZE) $(PROFILE) $(DEBUG) $(EXTRACFLAGS) $(LDAPCFLAGS) \
 	     $(STDCFLAGS)
 
@


1.8
log
@add libdes so this links with -current's OpenSSL.
@
text
@d1 1
a1 1
$OpenBSD: patch-pine_makefile.bso,v 1.7 2001/11/19 02:01:58 brad Exp $
@


1.7
log
@upgrade to Pine 4.41 + Pico 4.2
@
text
@d1 1
a1 1
$OpenBSD: patch-pine_makefile.bso,v 1.6 2001/10/06 02:14:16 brad Exp $
d22 1
a22 1
+STDLIBS=     -ltermlib -lssl -lgssapi -lkrb -lkrb5 -lasn1 -lcrypto -lcom_err -lkafs
@


1.6
log
@Rearrange order of Kerberos libraries to allow pine to link properly on ELF archs. This should help with static archs too though untested.
@
text
@d1 3
a3 3
$OpenBSD: patch-pine_makefile.bso,v 1.5 2001/09/27 23:37:30 brad Exp $
--- pine/makefile.bso.orig	Tue Jul  3 13:03:53 2001
+++ pine/makefile.bso	Fri Oct  5 16:56:11 2001
d20 1
a20 1
-LIBS=        $(EXTRALIBES) $(LOCLIBDIR) $(LOCLIBS) $(LDAPLIBS) $(STDLIBS) \
d25 1
a25 1
+LIBS=        $(EXTRALIBES) $(LOCLIBDIR) $(LOCLIBS) $(LDAPLIBS) $(STDLIBS)
@


1.6.2.1
log
@Upgrade Pine to 4.44 which requires newer c-client.
This also fixes dependency entries for c-client and brings in some other
minor fixes from the -current ports tree.
@
text
@d1 3
a3 3
$OpenBSD: patch-pine_makefile.bso,v 1.7 2001/11/19 02:01:58 brad Exp $
--- pine/makefile.bso.orig	Tue Oct 23 18:24:45 2001
+++ pine/makefile.bso	Sat Nov 17 20:22:04 2001
d20 1
a20 1
-LIBS=        $(LOCLIBDIR) $(LOCLIBS) $(LDAPLIBS) $(STDLIBS) \
d25 1
a25 1
+LIBS=        $(LOCLIBDIR) $(LOCLIBS) $(LDAPLIBS) $(STDLIBS)
@


1.5
log
@Re-enable GSS support.
--
Patch to fix pine from: jakob@@
@
text
@d1 1
a1 1
$OpenBSD: patch-pine_makefile.bso,v 1.4 2001/09/27 18:44:41 brad Exp $
d3 1
a3 1
+++ pine/makefile.bso	Thu Sep 27 16:51:53 2001
d22 1
a22 1
+STDLIBS=     -ltermlib -lssl -lcrypto -lgssapi -lkrb5 -lasn1 -lcom_err
@


1.4
log
@PREFIX -> LOCALBASE
@
text
@d1 1
a1 1
$OpenBSD: patch-pine_makefile.bso,v 1.3 2001/09/27 16:52:40 brad Exp $
d3 1
a3 1
+++ pine/makefile.bso	Thu Sep 27 13:06:49 2001
d22 1
a22 1
+STDLIBS=     -ltermlib -lssl -lcrypto
@


1.3
log
@upgrade to Pine 4.40
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ pine/makefile.bso	Thu Sep 27 08:51:51 2001
d9 1
a9 1
+CCLIENTDIR=  $(PREFIX)/include/c-client
d24 1
a24 1
+LOCLIBDIR=   -L$(PICODIR) -L$(PREFIX)/lib
d28 1
a28 1
+STDCFLAGS=   -DBSDI -DSYSTYPE=\"BSO\" -DMOUSE -I$(PREFIX)/include
@


1.2
log
@upgrade to Pine 4.31
@
text
@d1 4
a4 3
--- pine/makefile.bso.orig	Thu Nov  9 19:56:58 2000
+++ pine/makefile.bso	Sat Dec 30 22:30:10 2000
@@@@ -50,7 +50,7 @@@@
d13 1
a13 1
@@@@ -61,13 +61,12 @@@@
@


1.1
log
@update the pine port to utilize the c-client port.

Pine has historically built against an internal copy
of the c-client library, however c-client development
has progressed beyond what is shipped with pine.
(It would appear that all new development work is
being done via UW's imap server codebase.) This change
allows pine to utilize improvements/bugfixes in the
c-client library. A consequence of this change is
that the recently reported vulnerability to BugTraq
regarding malformed X-keywords header has been fixed.
@
text
@d1 2
a2 2
--- pine/makefile.bso.orig	Fri Sep 15 05:49:48 2000
+++ pine/makefile.bso	Fri Sep 15 05:56:27 2000
d12 3
a14 2
@@@@ -62,12 +62,11 @@@@
 	      other.o pine.o takeaddr.o
d16 1
a16 1
 STDLIBS=     -ltermlib
d21 1
@


1.1.2.1
log
@MFC:
upgrade to Pine 4.32
@
text
@d1 2
a2 2
--- pine/makefile.bso.orig	Thu Nov  9 19:56:58 2000
+++ pine/makefile.bso	Sat Dec 30 22:30:10 2000
d12 2
a13 3
@@@@ -61,13 +61,12 @@@@
 LDAPOFILES=   addrbook.o adrbkcmd.o args.o bldaddr.o init.o \
 	      mailview.o other.o pine.o strings.o takeaddr.o
d15 1
a15 1
-STDLIBS=     -ltermlib
a19 1
+STDLIBS=     -ltermlib -lssl -lcrypto
@


