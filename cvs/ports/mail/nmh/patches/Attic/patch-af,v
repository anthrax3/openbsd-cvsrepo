head	1.5;
access;
symbols
	OPENBSD_3_1:1.4.0.10
	OPENBSD_3_1_BASE:1.4
	OPENBSD_3_0:1.4.0.8
	OPENBSD_3_0_BASE:1.4
	OPENBSD_2_9_TRACKING_SWITCH:1.4
	OPENBSD_2_9:1.4.0.6
	OPENBSD_2_9_BASE:1.4
	OPENBSD_2_8:1.4.0.4
	OPENBSD_2_8_BASE:1.4
	OPENBSD_2_7:1.4.0.2
	OPENBSD_2_7_BASE:1.4
	OPENBSD_2_6:1.3.0.4
	OPENBSD_2_6_BASE:1.3
	OPENBSD_2_5:1.3.0.2
	OPENBSD_2_5_BASE:1.3
	OPENBSD_2_4:1.2.0.2
	OPENBSD_2_4_BASE:1.2
	marc_1998-apr-29:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.5
date	2002.09.30.00.29.02;	author pvalchev;	state dead;
branches;
next	1.4;

1.4
date	2000.03.08.05.11.47;	author kevlo;	state Exp;
branches;
next	1.3;

1.3
date	99.03.26.08.48.33;	author marc;	state Exp;
branches;
next	1.2;

1.2
date	98.05.28.21.53.55;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.04.30.04.24.31;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.04.30.04.24.31;	author marc;	state Exp;
branches;
next	;


desc
@@


1.5
log
@cleanup
@
text
@--- uip/spost.c.orig	Sun Feb  6 04:41:00 2000
+++ uip/spost.c	Tue Feb 29 17:52:41 2000
@@@@ -727,8 +727,8 @@@@
     char *vec[6];
     FILE * in, *out;
 
-    mktemp (bccfil);
-    if ((out = fopen (bccfil, "w")) == NULL)
+    fd = mkstemp (bccfil);
+    if ((fd == -1) || ((out = fdopen (fd, "w")) == NULL))
 	adios (bccfil, "unable to create");
     chmod (bccfil, 0600);
 
@


1.4
log
@- Upgrade to 1.0.3 and fix the security problem.
- Mark unbroken.
- Update the MASTER_SITES.
@
text
@@


1.3
log
@update to 1.0; Keith A Watson <kaw@@best.com>
@
text
@d1 3
a3 14
--- ./uip/spost.c.orig	Sat Mar 20 15:45:06 1999
+++ ./uip/spost.c	Sat Mar 20 16:45:37 1999
@@@@ -339,8 +339,8 @@@@
 	out = stdout;
     }
     else {
-	    mktemp (tmpfil);
-	    if ((out = fopen (tmpfil, "w")) == NULL)
+	    int fd = mkstemp (tmpfil);
+	    if ((fd == -1) || ((out = fdopen (fd, "w")) == NULL))
 		adios (tmpfil, "unable to create");
 	    chmod (tmpfil, 0600);
 	}
@@@@ -700,8 +700,8 @@@@
@


1.2
log
@update to version 0.26
@
text
@d1 3
a3 3
--- uip/spost.c.orig	Sat May 16 14:38:10 1998
+++ uip/spost.c	Thu May 28 11:31:45 1998
@@@@ -338,8 +338,9 @@@@
d9 2
a10 3
+	    int fd = mkstemp( tmpfil );
+	    if (( fd == -1 ) ||
+		((out = fdopen( fd, "w" )) == NULL))
d14 1
a14 1
@@@@ -699,8 +700,9 @@@@
d20 2
a21 3
+    fd = mkstemp( bccfil );
+    if (( fd == -1 ) ||
+	((out = fdopen( fd, "w" )) == NULL))
@


1.1
log
@Initial revision
@
text
@d1 3
a3 3
--- uip/spost.c.~1~	Thu Jan 22 14:49:45 1998
+++ uip/spost.c	Wed Apr 29 11:44:30 1998
@@@@ -334,8 +334,9 @@@@
d15 1
a15 1
@@@@ -695,8 +696,9 @@@@
@


1.1.1.1
log
@Add New MH port
@
text
@@
