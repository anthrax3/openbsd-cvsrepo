head	1.4;
access;
symbols
	OPENBSD_3_1:1.3.0.10
	OPENBSD_3_1_BASE:1.3
	OPENBSD_3_0:1.3.0.8
	OPENBSD_3_0_BASE:1.3
	OPENBSD_2_9_TRACKING_SWITCH:1.3
	OPENBSD_2_9:1.3.0.6
	OPENBSD_2_9_BASE:1.3
	OPENBSD_2_8:1.3.0.4
	OPENBSD_2_8_BASE:1.3
	OPENBSD_2_7:1.3.0.2
	OPENBSD_2_7_BASE:1.3
	OPENBSD_2_6:1.2.0.4
	OPENBSD_2_6_BASE:1.2
	OPENBSD_2_5:1.2.0.2
	OPENBSD_2_5_BASE:1.2
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	marc_1998-apr-29:1.1.1.1
	marc:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2002.09.30.00.29.02;	author pvalchev;	state dead;
branches;
next	1.3;

1.3
date	2000.03.08.05.11.47;	author kevlo;	state Exp;
branches;
next	1.2;

1.2
date	99.03.26.08.48.32;	author marc;	state Exp;
branches;
next	1.1;

1.1
date	98.04.30.04.24.31;	author marc;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.04.30.04.24.31;	author marc;	state Exp;
branches;
next	;


desc
@@


1.4
log
@cleanup
@
text
@--- uip/mshcmds.c.orig	Sun Feb  6 04:40:55 2000
+++ uip/mshcmds.c	Tue Feb 29 18:08:49 2000
@@@@ -935,16 +935,12 @@@@
 
 					/* foil search of .mh_profile */
     snprintf (buf, sizeof(buf), "%sXXXXXX", invo_name);
-/*
-  Mkstemp work postponed until later -Doug
 #ifdef HAVE_MKSTEMP
-    vec[0] = (char *)mkstemp (buf);
+    close (mkstemp (buf));
+    vec[0] = buf;
 #else
-*/
     vec[0] = (char *)mktemp (buf);
-/*
 #endif
-*/
     vec[vecp++] = "-file";
     vec[vecp] = NULL;
     if (!msgp)
@


1.3
log
@- Upgrade to 1.0.3 and fix the security problem.
- Mark unbroken.
- Update the MASTER_SITES.
@
text
@@


1.2
log
@update to 1.0; Keith A Watson <kaw@@best.com>
@
text
@d1 3
a3 3
--- ./uip/mshcmds.c.orig	Sat Mar 20 15:41:58 1999
+++ ./uip/mshcmds.c	Sat Mar 20 15:42:22 1999
@@@@ -932,7 +932,8 @@@@
d7 4
a10 1
-    vec[0] = (char *)mktemp (buf);
d13 6
@


1.1
log
@Initial revision
@
text
@d1 3
a3 4
--- uip/mshcmds.c.orig	Sun Feb  1 15:28:37 1998
+++ uip/mshcmds.c	Wed Apr 29 11:31:15 1998
@@@@ -929,8 +929,9 @@@@
     }
d6 1
a6 1
-    sprintf (buf, "%sXXXXXX", invo_name);
d8 1
a8 2
+    snprintf (buf, BUFSIZ, "%sXXXXXX", invo_name);
+    close( mkstemp( buf ) );
@


1.1.1.1
log
@Add New MH port
@
text
@@
