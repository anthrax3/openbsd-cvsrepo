head	1.10;
access;
symbols
	OPENBSD_6_1:1.10.0.2
	OPENBSD_6_1_BASE:1.10
	OPENBSD_6_0:1.9.0.8
	OPENBSD_6_0_BASE:1.9
	OPENBSD_5_9:1.9.0.4
	OPENBSD_5_9_BASE:1.9
	OPENBSD_5_8:1.9.0.6
	OPENBSD_5_8_BASE:1.9
	OPENBSD_5_7:1.9.0.2
	OPENBSD_5_7_BASE:1.9
	OPENBSD_5_6:1.7.0.4
	OPENBSD_5_6_BASE:1.7
	OPENBSD_5_5:1.7.0.2
	OPENBSD_5_5_BASE:1.7
	OPENBSD_5_4:1.6.0.2
	OPENBSD_5_4_BASE:1.6
	OPENBSD_5_3:1.2.0.18
	OPENBSD_5_3_BASE:1.2
	OPENBSD_5_2:1.2.0.16
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.2
	OPENBSD_5_1:1.2.0.14
	OPENBSD_5_0:1.2.0.12
	OPENBSD_5_0_BASE:1.2
	OPENBSD_4_9:1.2.0.10
	OPENBSD_4_9_BASE:1.2
	OPENBSD_4_8:1.2.0.8
	OPENBSD_4_8_BASE:1.2
	OPENBSD_4_7:1.2.0.6
	OPENBSD_4_7_BASE:1.2
	OPENBSD_4_6:1.2.0.4
	OPENBSD_4_6_BASE:1.2
	OPENBSD_4_5:1.2.0.2
	OPENBSD_4_5_BASE:1.2
	OPENBSD_4_4:1.1.1.1.0.4
	OPENBSD_4_4_BASE:1.1.1.1
	OPENBSD_4_3:1.1.1.1.0.2
	OPENBSD_4_3_BASE:1.1.1.1
	okan_20080130:1.1.1.1
	okan:1.1.1;
locks; strict;
comment	@# @;


1.10
date	2016.10.11.20.35.39;	author sthen;	state Exp;
branches;
next	1.9;
commitid	pmBo9QCpDNH0596d;

1.9
date	2015.01.26.22.42.35;	author sthen;	state Exp;
branches;
next	1.8;
commitid	rxfwpwcEmjmPjpA0;

1.8
date	2014.11.24.13.24.05;	author benoit;	state Exp;
branches;
next	1.7;
commitid	37EGqfPNnJlJFx01;

1.7
date	2013.10.08.06.25.58;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2013.07.15.21.47.50;	author jca;	state Exp;
branches;
next	1.5;

1.5
date	2013.07.13.11.53.57;	author sthen;	state Exp;
branches;
next	1.4;

1.4
date	2013.04.06.19.32.32;	author sthen;	state Exp;
branches;
next	1.3;

1.3
date	2013.03.11.11.23.51;	author espie;	state Exp;
branches;
next	1.2;

1.2
date	2008.11.05.17.20.07;	author jasper;	state Exp;
branches;
next	1.1;

1.1
date	2008.01.30.15.58.49;	author okan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2008.01.30.15.58.49;	author okan;	state Exp;
branches;
next	;


desc
@@


1.10
log
@use base resolver rather than libbind, based on a diff from Jeremie Le Hen
(modified to patch autoconf input file rather than generated configure script)
@
text
@# $OpenBSD: Makefile,v 1.9 2015/01/26 22:42:35 sthen Exp $

COMMENT=	SPF library

DISTNAME=	libspf2-1.2.10
REVISION=	1

SHARED_LIBS +=	spf2                 4.0      # 3.0

CATEGORIES=	mail
HOMEPAGE=	http://www.libspf2.org/

MASTER_SITES=	${HOMEPAGE}/spf/

MAINTAINER=	Jakob Schlyter <jakob@@openbsd.org>

# BSD
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += c pthread

MODULES=		devel/gettext

CONFIGURE_STYLE=	autoconf
AUTOCONF_VERSION=	2.68

CONFIGURE_ARGS=		--bindir=${PREFIX}/libexec/libspf2
CONFIGURE_ENV=		LDFLAGS="-L${LOCALBASE}/lib"

# broken test cases
NO_TEST=		yes

.include <bsd.port.mk>
@


1.9
log
@bump following libbind update; should be unnecessary but belt-and-braces
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2014/11/24 13:24:05 benoit Exp $
d6 1
a6 1
REVISION=	0
d20 2
a21 1
WANTLIB=		lib/libbind/bind c pthread
d24 2
a25 4
# requires res_close() or res_ninit()
LIB_DEPENDS=		net/libbind

CONFIGURE_STYLE=	gnu
d28 1
a28 2
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include/bind" \
			LDFLAGS="-L${LOCALBASE}/lib -L${LOCALBASE}/lib/libbind -Wl,-rpath ${LOCALBASE}/lib/libbind -lbind"
@


1.8
log
@Update to libspf2-1.2.10.

ok jakob@@ (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2013/10/08 06:25:58 jasper Exp $
d5 2
a6 1
DISTNAME =	libspf2-1.2.10
d8 1
a8 1
SHARED_LIBS +=	spf2                 3.0      # 3.0
@


1.7
log
@use -Wl,-rpath instead of -R to unbreak on powerpc
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2013/07/15 21:47:50 jca Exp $
d5 1
a5 2
DISTNAME=	libspf2-1.2.9
REVISION=	3
@


1.6
log
@The libbind headers were not picked up (typo).  Bump since this may
affect the packaged files.  ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2013/07/13 11:53:57 sthen Exp $
d6 1
a6 1
REVISION=	2
d30 1
a30 1
			LDFLAGS="-L${LOCALBASE}/lib -L${LOCALBASE}/lib/libbind -R${LOCALBASE}/lib/libbind -lbind"
@


1.5
log
@handle new libbind location; ok ajacoutot@@ jca@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2013/04/06 19:32:32 sthen Exp $
d6 1
a6 1
REVISION=	1
d29 1
a29 1
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include/libbind" \
@


1.4
log
@switch libspf2 to libbind; it requires either res_close (which our old resolver
supported but asr doesn't) or res_ninit (which neither asr nor our old resolver
support). While there, roll PFRAG.shared into PLIST and regen distinfo.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2013/03/11 11:23:51 espie Exp $
d6 1
a6 1
REVISION=	0
d20 1
a20 1
WANTLIB=		bind c pthread
d30 1
a30 1
			LDFLAGS="-L${LOCALBASE}/lib -lbind"
@


1.3
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2008/11/05 17:20:07 jasper Exp $
d6 4
a9 1
SHARED_LIBS+=		spf2 3.0
d18 4
a21 1
PERMIT_PACKAGE_CDROM=		Yes
d23 2
a24 1
WANTLIB=		c pthread
d29 2
@


1.2
log
@- update libspf2 to 1.2.9
- includes a SECURITY FIX for a buffer overflow

from frank dennis, with minor tweaks by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2008/01/30 15:58:49 okan Exp $
a15 3
PERMIT_PACKAGE_FTP=		Yes
PERMIT_DISTFILES_CDROM=		Yes
PERMIT_DISTFILES_FTP=		Yes
d24 1
a24 1
NO_REGRESS=		yes
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d5 2
a6 1
DISTNAME=	libspf2-1.2.5
d10 1
a10 1
MASTER_SITES=	http://www.libspf2.org/spf/
d14 1
a14 1
# BSD license
a20 1
SHARED_LIBS+=		spf2 2.0
@


1.1.1.1
log
@import libspf2

libspf2 is an implementation of the Sender Policy Framework (SPF).

ok jakob@@ merdely@@
@
text
@@
