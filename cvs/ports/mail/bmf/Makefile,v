head	1.26;
access;
symbols
	OPENBSD_6_1:1.26.0.6
	OPENBSD_6_1_BASE:1.26
	OPENBSD_6_0:1.26.0.4
	OPENBSD_6_0_BASE:1.26
	OPENBSD_5_9:1.26.0.2
	OPENBSD_5_9_BASE:1.26
	OPENBSD_5_8:1.24.0.6
	OPENBSD_5_8_BASE:1.24
	OPENBSD_5_7:1.24.0.2
	OPENBSD_5_7_BASE:1.24
	OPENBSD_5_6:1.20.0.4
	OPENBSD_5_6_BASE:1.20
	OPENBSD_5_5:1.20.0.2
	OPENBSD_5_5_BASE:1.20
	OPENBSD_5_4:1.19.0.2
	OPENBSD_5_4_BASE:1.19
	OPENBSD_5_3:1.15.0.6
	OPENBSD_5_3_BASE:1.15
	OPENBSD_5_2:1.15.0.4
	OPENBSD_5_2_BASE:1.15
	OPENBSD_5_1_BASE:1.15
	OPENBSD_5_1:1.15.0.2
	OPENBSD_5_0:1.14.0.4
	OPENBSD_5_0_BASE:1.14
	OPENBSD_4_9:1.14.0.2
	OPENBSD_4_9_BASE:1.14
	OPENBSD_4_8:1.12.0.12
	OPENBSD_4_8_BASE:1.12
	OPENBSD_4_7:1.12.0.10
	OPENBSD_4_7_BASE:1.12
	OPENBSD_4_6:1.12.0.8
	OPENBSD_4_6_BASE:1.12
	OPENBSD_4_5:1.12.0.6
	OPENBSD_4_5_BASE:1.12
	OPENBSD_4_4:1.12.0.4
	OPENBSD_4_4_BASE:1.12
	OPENBSD_4_3:1.12.0.2
	OPENBSD_4_3_BASE:1.12
	OPENBSD_4_2:1.10.0.8
	OPENBSD_4_2_BASE:1.10
	OPENBSD_4_1:1.10.0.6
	OPENBSD_4_1_BASE:1.10
	OPENBSD_4_0:1.10.0.4
	OPENBSD_4_0_BASE:1.10
	OPENBSD_3_9:1.10.0.2
	OPENBSD_3_9_BASE:1.10
	OPENBSD_3_8:1.9.0.4
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.2
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.8.0.4
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.8.0.2
	OPENBSD_3_5_BASE:1.8
	OPENBSD_3_4:1.6.0.4
	OPENBSD_3_4_BASE:1.6
	OPENBSD_3_3:1.6.0.2
	OPENBSD_3_3_BASE:1.6
	lebel_2002-Oct-21:1.1.1.1
	lebel:1.1.1;
locks; strict;
comment	@# @;


1.26
date	2015.08.25.11.16.12;	author sthen;	state Exp;
branches;
next	1.25;
commitid	1hGS08C33CJ9tr3x;

1.25
date	2015.08.12.22.27.31;	author sthen;	state Exp;
branches;
next	1.24;
commitid	SHEFBfUb4YY8KIkG;

1.24
date	2014.10.28.08.23.06;	author jasper;	state Exp;
branches;
next	1.23;
commitid	HHYRHP8oqtJGaUpV;

1.23
date	2014.09.13.18.09.21;	author brad;	state Exp;
branches;
next	1.22;
commitid	PpbRjVZdAmlrmi8q;

1.22
date	2014.08.20.06.34.16;	author ajacoutot;	state Exp;
branches;
next	1.21;
commitid	hf8jjz5rQoP32LMY;

1.21
date	2014.08.15.00.50.22;	author jturner;	state Exp;
branches;
next	1.20;
commitid	v32lnm5BS5h24CV5;

1.20
date	2013.10.11.23.49.55;	author naddy;	state Exp;
branches;
next	1.19;

1.19
date	2013.06.12.20.36.33;	author brad;	state Exp;
branches;
next	1.18;

1.18
date	2013.05.30.10.51.23;	author sthen;	state Exp;
branches;
next	1.17;

1.17
date	2013.05.25.00.33.09;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2013.03.11.11.23.50;	author espie;	state Exp;
branches;
next	1.15;

1.15
date	2011.12.02.14.36.15;	author espie;	state Exp;
branches;
next	1.14;

1.14
date	2010.11.19.07.23.05;	author espie;	state Exp;
branches;
next	1.13;

1.13
date	2010.10.18.19.59.15;	author espie;	state Exp;
branches;
next	1.12;

1.12
date	2007.09.11.07.17.42;	author aanriot;	state Exp;
branches;
next	1.11;

1.11
date	2007.09.07.08.13.20;	author aanriot;	state Exp;
branches;
next	1.10;

1.10
date	2005.10.07.00.21.04;	author fgsch;	state Exp;
branches;
next	1.9;

1.9
date	2004.12.29.09.08.08;	author alek;	state Exp;
branches;
next	1.8;

1.8
date	2004.02.02.23.11.28;	author pvalchev;	state Exp;
branches;
next	1.7;

1.7
date	2004.01.30.17.04.48;	author lebel;	state Exp;
branches;
next	1.6;

1.6
date	2003.03.09.14.54.04;	author lebel;	state Exp;
branches;
next	1.5;

1.5
date	2002.11.29.12.56.57;	author lebel;	state Exp;
branches;
next	1.4;

1.4
date	2002.11.01.17.38.05;	author lebel;	state Exp;
branches;
next	1.3;

1.3
date	2002.10.27.17.21.39;	author naddy;	state Exp;
branches;
next	1.2;

1.2
date	2002.10.27.17.10.23;	author lebel;	state Exp;
branches;
next	1.1;

1.1
date	2002.10.22.02.07.34;	author lebel;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.10.22.02.07.34;	author lebel;	state Exp;
branches;
next	;


desc
@@


1.26
log
@wantlib
@
text
@# $OpenBSD: Makefile,v 1.25 2015/08/12 22:27:31 sthen Exp $

COMMENT=		easy to use Bayesian spam filter
DISTNAME=		bmf-0.9.4
REVISION=		9
CATEGORIES=		mail
HOMEPAGE=		http://sourceforge.net/projects/bmf/

MAINTAINER=		Jim Razmus II <jim@@openbsd.org>

# GPL
PERMIT_PACKAGE_CDROM=	Yes
WANTLIB=		c

MASTER_SITES=		${MASTER_SITE_SOURCEFORGE:=bmf/}

CONFIGURE_STYLE=	simple

FLAVORS=		mysql
FLAVOR?=

CONFIGURE_ARGS=		--without-mysql \
			--with-libdb

.if ${FLAVOR:Mmysql}
LIB_DEPENDS+=		databases/mariadb
WANTLIB +=		mysqlclient pthread
CONFIGURE_ARGS+=	--without-libdb --with-mysql="${LOCALBASE}"
CFLAGS+=		"-I${LOCALBASE}/include/mysql"
.endif

MAKE_ENV=		CC="${CC}"
INSTALL_TARGET=		MANDIR=${PREFIX}/man \
			BINDIR=${PREFIX}/bin \
			install

NO_TEST=		Yes

post-install:
	${INSTALL_DATA_DIR} ${PREFIX}/share/doc/bmf
	${INSTALL_DATA} ${WRKSRC}/README ${PREFIX}/share/doc/bmf

.include <bsd.port.mk>
@


1.25
log
@sync WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2014/10/28 08:23:06 jasper Exp $
d5 1
a5 1
REVISION=		8
d27 1
a27 1
WANTLIB +=		mysqlclient stdc++
@


1.24
log
@unify

ok jim@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2014/09/13 18:09:21 brad Exp $
d5 1
a5 1
REVISION=		7
d27 1
a27 1
WANTLIB +=		mysqlclient
@


1.23
log
@Switch from using MySQL to using MariaDB attempt #2. MariaDB is a drop-in replacement.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2014/08/20 06:34:16 ajacoutot Exp $
d5 1
a5 1
REVISION=		6
d9 1
a9 1
MAINTAINER=		Jim Razmus <jim@@bonetruck.org>
@


1.22
log
@Fix a typo in the mysql of bmf as noticed by brad@@
Add the FLAVOR to the build so we can catch issues like this.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2014/08/15 00:50:22 jturner Exp $
d5 1
a5 1
REVISION=		5
d26 1
a26 1
LIB_DEPENDS+=		databases/mysql
@


1.21
log
@Disable explicit root check. Regen PLIST while here and bump for safety.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2013/10/11 23:49:55 naddy Exp $
d22 3
d27 2
a28 2
WANTLIB +=		lib/mysql/mysqclient>=10
CONFIGURE_ARGS=		--without-libdb --with-mysql="${LOCALBASE}"
a29 2
.else
CONFIGURE_ARGS=		--without-mysql --with-libdb
@


1.20
log
@Drop USE_GROFF since groff and mandoc produce identical output.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2013/06/12 20:36:33 brad Exp $
d5 1
a5 1
REVISION=		4
@


1.19
log
@Revert back to using MySQL 5.1 for the time being. MariaDB 5.5 introduces
a new libmysqlclient non-blocking API which utilizes co-routines. The X86
specific GCC ASM co-routine support hid the fact that there was an issue.
The only fallback code so far is POSIX user contexts which OpenBSD does not
support.

Input from and Ok sthen@@ jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2013/05/30 10:51:23 sthen Exp $
a17 1
USE_GROFF =		Yes
@


1.18
log
@zap whitespace at eof, no package changes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2013/05/25 00:33:09 brad Exp $
d5 1
a5 1
REVISION=		3
d24 1
a24 1
LIB_DEPENDS+=		databases/mariadb
@


1.17
log
@Switch from using MySQL to using MariaDB. MariaDB is a drop-in replacement.


ok sthen aja
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2013/03/11 11:23:50 espie Exp $
a43 1

@


1.16
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2011/12/02 14:36:15 espie Exp $
d5 1
a5 1
REVISION =		2
d24 1
a24 1
LIB_DEPENDS+=		databases/mysql
@


1.15
log
@bye bye FLAVOR:L
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/11/19 07:23:05 espie Exp $
a12 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
d37 1
a37 1
NO_REGRESS=		Yes
@


1.14
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2010/10/18 19:59:15 espie Exp $
d26 1
a26 1
.if ${FLAVOR:L:Mmysql}
@


1.13
log
@USE_GROFF=Yes
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2007/09/11 07:17:42 aanriot Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p2
d21 1
a21 1
USE_GROFF =	Yes
d27 2
a28 1
LIB_DEPENDS+=		lib/mysql/mysqlclient.10:mysql-client-*:databases/mysql
@


1.12
log
@- don't force binaries stripping from here.
- while there, add a trailing slash to HOMEPAGE .

ok Jim Razmus (maintainer)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2007/09/07 08:13:20 aanriot Exp $
d21 1
@


1.11
log
@- remove OpenBSD-bmf-mini-howto.html (redundant with README) and add a
.gnus sample configuration in README;
- while there, remove "" from the COMMENT line.

from Jim Razmus (maintainer);
gnus bits by me
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2005/10/07 00:21:04 fgsch Exp $
d5 1
a5 1
PKGNAME=		${DISTNAME}p1
d7 1
a7 1
HOMEPAGE=		http://sourceforge.net/projects/bmf
a40 3
	@@for f in bmf bmfconv; do \
	    strip ${PREFIX}/bin/$$f; \
	done
@


1.10
log
@strip binaries on install and bump package. maintainer ok.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2004/12/29 09:08:08 alek Exp $
d3 1
a3 1
COMMENT=		"easy to use Bayesian spam filter"
d5 1
a5 1
PKGNAME=		${DISTNAME}p0
a37 3

DOCS=			README ${FILESDIR}/OpenBSD-bmf-mini-howto.html

d45 1
a45 1
	${INSTALL_DATA} ${WRKSRC}/${DOCS} ${PREFIX}/share/doc/bmf
@


1.9
log
@- Better LIB_DEPENDS
- Add WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2004/02/02 23:11:28 pvalchev Exp $
d5 1
a32 1

d44 3
a48 1

@


1.8
log
@new maintainer
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2004/01/30 17:04:48 lebel Exp $
d15 1
d25 1
a25 1
LIB_DEPENDS+=		:mysql-client-*:databases/mysql
@


1.7
log
@remove Han Boetes as MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2003/03/09 14:54:04 lebel Exp $
d8 1
@


1.6
log
@simple typo
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/11/29 12:56:57 lebel Exp $
a7 1
MAINTAINER=		Han Boetes <han@@mijncomputer.nl>
@


1.5
log
@add a mysql FLAVOR to mail/bmf; update a little bit the manual a bit;
from MAINTAINER
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/11/01 17:38:05 lebel Exp $
d3 1
a3 1
COMMENT=		"easy to use bayesonian spam filter"
@


1.4
log
@adds an HOWTO; from MAINTAINER; also fix a warning in bmf.c (from me)
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/10/27 17:21:39 naddy Exp $
d20 13
d37 1
a37 1
MAKE_ENV=		CC="${CC}"
d48 1
@


1.3
log
@No regression tests available.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/10/27 17:10:23 lebel Exp $
d25 1
a25 1
DOCS=			README
@


1.2
log
@honor CC/CFLAGS; notified by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/10/22 02:07:34 lebel Exp $
d26 2
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d24 1
a24 1

@


1.1.1.1
log
@initial import of mail/bmf-0.9.4:
--
bmf is a self contained and extremely efficient Bayesian mail filter.
See Paul Graham's article "A Plan for Spam" for background information.
It aims to be faster, smaller, and more versatile than similar
applications.

WWW: http://sourceforge.net/projects/bmf

Submitted by Han Boetes <han@@mijncomputer.nl>
@
text
@@
