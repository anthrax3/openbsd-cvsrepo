head	1.57;
access;
symbols
	OPENBSD_6_1:1.56.0.2
	OPENBSD_6_1_BASE:1.56
	OPENBSD_6_0:1.52.0.2
	OPENBSD_6_0_BASE:1.52
	OPENBSD_5_9:1.51.0.2
	OPENBSD_5_9_BASE:1.51
	OPENBSD_5_8:1.51.0.4
	OPENBSD_5_8_BASE:1.51
	OPENBSD_5_7:1.50.0.4
	OPENBSD_5_7_BASE:1.50
	OPENBSD_5_6:1.50.0.2
	OPENBSD_5_6_BASE:1.50
	OPENBSD_5_5:1.46.0.2
	OPENBSD_5_5_BASE:1.46
	OPENBSD_5_4:1.43.0.2
	OPENBSD_5_4_BASE:1.43
	OPENBSD_5_3:1.40.0.2
	OPENBSD_5_3_BASE:1.40
	OPENBSD_5_2:1.35.0.2
	OPENBSD_5_2_BASE:1.35
	OPENBSD_5_1_BASE:1.26
	OPENBSD_5_1:1.26.0.2
	OPENBSD_4_8:1.16.0.2
	OPENBSD_4_8_BASE:1.16
	OPENBSD_4_7:1.14.0.2
	OPENBSD_4_7_BASE:1.14
	OPENBSD_4_6:1.11.0.4
	OPENBSD_4_6_BASE:1.11
	OPENBSD_4_5:1.11.0.2
	OPENBSD_4_5_BASE:1.11
	OPENBSD_4_4:1.10.0.2
	OPENBSD_4_4_BASE:1.10
	OPENBSD_4_3:1.7.0.2
	OPENBSD_4_3_BASE:1.7
	OPENBSD_4_2:1.1.1.1.0.2
	OPENBSD_4_2_BASE:1.1.1.1
	jasper_20070524:1.1.1.1
	jasper:1.1.1;
locks; strict;
comment	@# @;


1.57
date	2017.04.25.09.00.26;	author ajacoutot;	state Exp;
branches;
next	1.56;
commitid	SGChSweaquIvWSA4;

1.56
date	2017.01.22.01.13.47;	author ajacoutot;	state Exp;
branches;
next	1.55;
commitid	hIbF5fkasrRuzNpd;

1.55
date	2016.12.23.23.27.15;	author kili;	state Exp;
branches;
next	1.54;
commitid	gxngUfbEeuodBG4N;

1.54
date	2016.12.18.10.00.06;	author ajacoutot;	state Exp;
branches;
next	1.53;
commitid	zTgY2qsjR2n2DmQw;

1.53
date	2016.12.12.13.35.58;	author ajacoutot;	state Exp;
branches;
next	1.52;
commitid	EpWCL1yMv4fh0Y52;

1.52
date	2016.06.13.09.22.10;	author ajacoutot;	state Exp;
branches;
next	1.51;
commitid	jNsNKOxUqrQ8w80Z;

1.51
date	2015.05.22.11.31.16;	author ajacoutot;	state Exp;
branches;
next	1.50;
commitid	2khjHXfpTaOuNVcx;

1.50
date	2014.04.02.09.36.11;	author jasper;	state Exp;
branches;
next	1.49;

1.49
date	2014.04.01.18.06.30;	author jasper;	state Exp;
branches;
next	1.48;

1.48
date	2014.04.01.15.31.46;	author jasper;	state Exp;
branches;
next	1.47;

1.47
date	2014.03.09.21.58.27;	author ajacoutot;	state Exp;
branches;
next	1.46;

1.46
date	2013.10.20.15.55.25;	author ajacoutot;	state Exp;
branches;
next	1.45;

1.45
date	2013.09.16.06.22.41;	author ajacoutot;	state Exp;
branches;
next	1.44;

1.44
date	2013.08.08.15.38.52;	author ajacoutot;	state Exp;
branches;
next	1.43;

1.43
date	2013.07.01.05.05.57;	author ajacoutot;	state Exp;
branches;
next	1.42;

1.42
date	2013.03.11.11.23.51;	author espie;	state Exp;
branches;
next	1.41;

1.41
date	2013.03.03.17.44.43;	author ajacoutot;	state Exp;
branches;
next	1.40;

1.40
date	2012.12.10.07.20.29;	author ajacoutot;	state Exp;
branches;
next	1.39;

1.39
date	2012.11.04.08.27.16;	author ajacoutot;	state Exp;
branches;
next	1.38;

1.38
date	2012.10.19.06.15.41;	author ajacoutot;	state Exp;
branches;
next	1.37;

1.37
date	2012.09.01.14.36.57;	author ajacoutot;	state Exp;
branches;
next	1.36;

1.36
date	2012.08.22.07.58.06;	author ajacoutot;	state Exp;
branches;
next	1.35;

1.35
date	2012.06.14.06.11.16;	author ajacoutot;	state Exp;
branches;
next	1.34;

1.34
date	2012.04.28.08.00.56;	author ajacoutot;	state Exp;
branches;
next	1.33;

1.33
date	2012.04.25.11.41.45;	author ajacoutot;	state Exp;
branches;
next	1.32;

1.32
date	2012.04.23.05.22.28;	author ajacoutot;	state Exp;
branches;
next	1.31;

1.31
date	2012.04.20.12.44.51;	author ajacoutot;	state Exp;
branches;
next	1.30;

1.30
date	2012.03.12.07.28.32;	author ajacoutot;	state Exp;
branches;
next	1.29;

1.29
date	2012.03.11.08.18.14;	author ajacoutot;	state Exp;
branches;
next	1.28;

1.28
date	2012.02.21.08.21.57;	author ajacoutot;	state Exp;
branches;
next	1.27;

1.27
date	2012.02.18.16.58.56;	author ajacoutot;	state Exp;
branches;
next	1.26;

1.26
date	2012.01.08.19.56.33;	author ajacoutot;	state Exp;
branches;
next	1.25;

1.25
date	2011.12.24.08.41.27;	author ajacoutot;	state Exp;
branches;
next	1.24;

1.24
date	2011.12.17.20.53.14;	author ajacoutot;	state Exp;
branches;
next	1.23;

1.23
date	2011.11.06.16.45.06;	author ajacoutot;	state Exp;
branches;
next	1.22;

1.22
date	2011.10.02.15.27.31;	author ajacoutot;	state Exp;
branches;
next	1.21;

1.21
date	2011.09.26.14.20.41;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2011.09.16.10.31.21;	author espie;	state Exp;
branches;
next	1.19;

1.19
date	2011.08.30.07.12.21;	author ajacoutot;	state Exp;
branches;
next	1.18;

1.18
date	2011.08.30.06.45.53;	author ajacoutot;	state Exp;
branches;
next	1.17;

1.17
date	2010.09.13.16.27.00;	author ajacoutot;	state dead;
branches;
next	1.16;

1.16
date	2010.03.26.15.04.40;	author ajacoutot;	state Exp;
branches;
next	1.15;

1.15
date	2010.03.21.09.58.44;	author ajacoutot;	state Exp;
branches;
next	1.14;

1.14
date	2010.02.04.09.54.23;	author jasper;	state Exp;
branches;
next	1.13;

1.13
date	2009.08.13.16.56.06;	author ajacoutot;	state Exp;
branches;
next	1.12;

1.12
date	2009.07.24.08.49.39;	author ajacoutot;	state Exp;
branches;
next	1.11;

1.11
date	2008.08.19.22.35.09;	author jasper;	state Exp;
branches
	1.11.4.1;
next	1.10;

1.10
date	2008.05.18.10.29.33;	author jasper;	state Exp;
branches;
next	1.9;

1.9
date	2008.05.04.15.11.48;	author jasper;	state Exp;
branches;
next	1.8;

1.8
date	2008.04.23.10.47.06;	author jasper;	state Exp;
branches;
next	1.7;

1.7
date	2008.02.14.19.50.31;	author jasper;	state Exp;
branches;
next	1.6;

1.6
date	2008.02.04.17.39.33;	author jasper;	state Exp;
branches;
next	1.5;

1.5
date	2007.12.15.20.52.31;	author martynas;	state Exp;
branches;
next	1.4;

1.4
date	2007.11.19.19.05.32;	author jasper;	state Exp;
branches;
next	1.3;

1.3
date	2007.11.14.09.43.40;	author steven;	state Exp;
branches;
next	1.2;

1.2
date	2007.09.16.00.17.04;	author merdely;	state Exp;
branches;
next	1.1;

1.1
date	2007.05.24.13.38.53;	author jasper;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2007.05.24.13.38.53;	author jasper;	state Exp;
branches;
next	;

1.11.4.1
date	2010.02.13.03.56.13;	author william;	state Exp;
branches;
next	;


desc
@@


1.57
log
@Add a PORTROACH and take MAINTAINER.
@
text
@# $OpenBSD: Makefile,v 1.56 2017/01/22 01:13:47 ajacoutot Exp $

PORTROACH=		limit:^2\.6

COMMENT=		MIME messages creation and parsing library

GNOME_PROJECT=		gmime
GNOME_VERSION=		2.6.23
REVISION=		0

SHARED_LIBS +=  gmime-2.6            0.2      # 623.0

CATEGORIES=		mail devel

HOMEPAGE=		http://spruce.sourceforge.net/gmime/

MAINTAINER=		Antoine Jacoutot <ajacoutot@@openbsd.org>

# LGPLv2
PERMIT_PACKAGE_CDROM=	Yes

WANTLIB += assuan ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0
WANTLIB += gpg-error gpgme-pthread gthread-2.0 iconv intl pcre
WANTLIB += pthread z

MODULES=		x11/gnome

MODGNOME_TOOLS=		gobject-introspection vala

LIB_DEPENDS=		devel/glib2 \
			security/gpgme

CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS=		--disable-mono

.include <bsd.port.mk>
@


1.56
log
@Update to gmime-2.6.23.
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.55 2016/12/23 23:27:15 kili Exp $
d9 1
d16 2
@


1.55
log
@Add security/gpgme to LIB_DEPENDS (and adjust WANTLIB), because
without this we get different .la files depending on wether gpgme
is installed or not.

The security/libgpg-error bdep is no longer needed, because it's pulled
in by gpgme, so drop it.

ok aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.54 2016/12/18 10:00:06 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.6.22
REVISION=		0
d8 1
a8 1
SHARED_LIBS +=  gmime-2.6            0.2      # 622.0
d17 3
a19 3
WANTLIB += ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB += iconv intl pcre pthread z
WANTLIB += assuan gpg-error gpgme-pthread
d23 1
a23 4
MODGNOME_TOOLS=		gobject-introspection

# XXX No rule to make target 'GMime-2.6.metadata', needed by 'gmime-2.6.vapi'
#MODGNOME_TOOLS +=	vala
@


1.54
log
@Update to gmime-2.6.22.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.53 2016/12/12 13:35:58 ajacoutot Exp $
d7 1
d20 1
d29 2
a30 4
# needed to build the tests
BUILD_DEPENDS +=	security/libgpg-error

LIB_DEPENDS=		devel/glib2
@


1.53
log
@Update to gmime-2.6.21.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.52 2016/06/13 09:22:10 ajacoutot Exp $
d6 1
a6 1
GNOME_VERSION=		2.6.21
d8 1
a8 1
SHARED_LIBS +=  gmime-2.6            0.2      # 621.0
@


1.52
log
@Remove the -mono subpackage which isn't used by anything in-tree.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.51 2015/05/22 11:31:16 ajacoutot Exp $
d6 1
a6 2
GNOME_VERSION=		2.6.20
REVISION=		1
d8 1
a8 1
SHARED_LIBS +=  gmime-2.6            0.1      # 619.0
d22 4
a25 1
MODGNOME_TOOLS=		gobject-introspection vala
@


1.51
log
@"/usr/local/lib/pkgconfig/" is part of mtree(8).
Packages should not own this dir to prevent its deletion or a warning that it
cannot be removed because it's not empty at pkg_delete(1) time.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.50 2014/04/02 09:36:11 jasper Exp $
d3 1
a3 1
ONLY_FOR_ARCHS-mono=	${MONO_ARCHS}
d5 3
a7 10
COMMENT-main=	MIME messages creation and parsing library
COMMENT-mono=	mono bindings for gmime

GNOME_PROJECT=	gmime
GNOME_VERSION=	2.6.20

PKGNAME-main=	${DISTNAME}
PKGNAME-mono=	gmime-sharp-${GNOME_VERSION}
REVISION-main=	0
REVISION-mono=	0
d11 1
a11 1
CATEGORIES=	mail devel
d13 1
a13 1
HOMEPAGE=	http://spruce.sourceforge.net/gmime/
d18 2
a19 3
WANTLIB-main += ${MODGETTEXT_WANTLIB}
WANTLIB-main += ffi gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gthread-2.0
WANTLIB-main += pcre pthread z
d21 1
a21 1
MULTI_PACKAGES=	-main -mono
d23 1
a23 4
MODULES +=	devel/gettext \
		x11/gnome

MODGNOME_TOOLS += gobject-introspection vala
d26 1
a26 4
BUILD_DEPENDS += security/libgpg-error

LIB_DEPENDS-main= ${MODGETTEXT_LIB_DEPENDS} \
		devel/glib2
d28 1
a28 1
CONFIGURE_STYLE= gnu
d30 2
a31 21
### mono subpackage
PSEUDO_FLAVORS=	no_mono
FLAVOR ?=

MODMONO_DEPS=   No
DLLMAP_FILES=	mono/gmime-sharp.dll.config

.include <bsd.port.arch.mk>

.if ${BUILD_PACKAGES:M-mono}
MODULES+=	lang/mono
BUILD_DEPENDS+= ${MODMONO_BUILD_DEPENDS} \
		x11/mono-gtk2
RUN_DEPENDS-mono= ${MODMONO_RUN_DEPENDS} \
		x11/mono-gtk2
LIB_DEPENDS-mono= # empty
WANTLIB-mono=	# empty
.else
CONFIGURE_ARGS+= --disable-mono
.endif
### end of mono subpackage
@


1.50
log
@cleanup double spaces and sort MODGNOME_TOOLS
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.49 2014/04/01 18:06:30 jasper Exp $
d13 2
@


1.49
log
@merge various MODGNOME_TOOLS lines into a single line (or two if it would
exceed 80 chars); no functional change intended..
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.48 2014/04/01 15:31:46 jasper Exp $
d32 1
a32 1
MODGNOME_TOOLS +=	gobject-introspection vala
@


1.48
log
@start to make MODGNOME_TOOLS resemble the name of the tools actually used.
rename 'gi' to 'gobject-introspection'.

discussed with aja@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.47 2014/03/09 21:58:27 ajacoutot Exp $
d32 1
a32 1
MODGNOME_TOOLS=	gobject-introspection vala
@


1.47
log
@Update to gmime-2.6.20.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.46 2013/10/20 15:55:25 ajacoutot Exp $
d32 1
a32 1
MODGNOME_TOOLS=	gi vala
@


1.46
log
@Update to gmime-2.6.19.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.45 2013/09/16 06:22:41 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.19
@


1.45
log
@Update to gmime-2.6.18.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.44 2013/08/08 15:38:52 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.18
d14 1
a14 1
SHARED_LIBS +=  gmime-2.6            0.1    # 600.13
@


1.44
log
@Update to gmime-2.6.17.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.43 2013/07/01 05:05:57 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.17
d14 1
a14 1
SHARED_LIBS +=  gmime-2.6            0.0    # 600.13
@


1.43
log
@Update to gmime-2.6.16.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.42 2013/03/11 11:23:51 espie Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.16
@


1.42
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.41 2013/03/03 17:44:43 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.15
d32 2
a40 1
CONFIGURE_ENV=	DOLT_BASH="/bin/ksh"
@


1.41
log
@Update to gmime-2.6.15.
Re-enable the mono FLAVOR since lang/mono now builds reliably.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.40 2012/12/10 07:20:29 ajacoutot Exp $
a21 3
PERMIT_PACKAGE_FTP=	Yes
PERMIT_DISTFILES_CDROM=	Yes
PERMIT_DISTFILES_FTP=	Yes
@


1.40
log
@Minor update to gmime-2.6.13.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.39 2012/11/04 08:27:16 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.13
d46 1
a46 4
# XXX disable mono unconditionally, lang/mono is often problematic to build
# and nothing needs gmime-sharp in the tree
#FLAVOR ?=
FLAVOR=	no_mono
@


1.39
log
@Bugfix update to gmime-2.6.12.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.38 2012/10/19 06:15:41 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.12
d14 1
a14 1
SHARED_LIBS +=  gmime-2.6            0.0    # 600.0
@


1.38
log
@Bugfix update to gmime-2.6.11.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.37 2012/09/01 14:36:57 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.11
@


1.37
log
@register-plist did not catch the devel/glib2 -main -> empty change.
espie asked me in such a nice way to fix this that I'm bumping all ports
that have a direct dependency on glib2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.36 2012/08/22 07:58:06 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.10
a13 2
REVISION=	0

d28 1
a28 1
WANTLIB-main += pcre z
@


1.36
log
@Disable gmime,-mono for the time being. Mono often fails to build for
reasons noone found out yet and nothing in the tree uses gmime-sharp.

ok sthen@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.35 2012/06/14 06:11:16 ajacoutot Exp $
d13 2
@


1.35
log
@Minor update to gmime-2.6.10.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.34 2012/04/28 08:00:56 ajacoutot Exp $
d46 4
a49 1
FLAVOR ?=
@


1.34
log
@gmime-api.xml is part of the -mono subpackage.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.33 2012/04/25 11:41:45 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.9
a12 3

REVISION-main=	0
REVISION-mono=	0
@


1.33
log
@Missing BUILD_DEPENDS, spotted by pea@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.32 2012/04/23 05:22:28 ajacoutot Exp $
d13 3
@


1.32
log
@Update to gmime-2.6.9.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2012/04/20 12:44:51 ajacoutot Exp $
d34 3
@


1.31
log
@Bugfix update to gmime-2.6.8.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2012/03/12 07:28:32 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.8
@


1.30
log
@Remove uneeded patch.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2012/03/11 08:18:14 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.7
a12 2

REVISION-main=	0
@


1.29
log
@update to gmime-2.6.7.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2012/02/21 08:21:57 ajacoutot Exp $
d13 2
@


1.28
log
@Update to gmime-2.6.6.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2012/02/18 16:58:56 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.6
@


1.27
log
@Update to gmime-2.6.5.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2012/01/08 19:56:33 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.5
d27 2
a28 2
WANTLIB-main += assuan gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB-main += gpgme-pthread gthread-2.0 pcre z ffi
d36 1
a36 2
		devel/glib2 \
		security/gpgme>=1.3.1
a39 1
CONFIGURE_ARGS+=--with-gpgme-prefix=${LOCALBASE}
@


1.26
log
@Update to gmime-2.6.4.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2011/12/24 08:41:27 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.4
d27 2
a28 2
WANTLIB-main += assuan c gio-2.0 glib-2.0 gmodule-2.0 gobject-2.0 gpg-error
WANTLIB-main += gpgme-pthread gthread-2.0 pcre pthread z ffi
a63 4

pre-configure:
	perl -pi -e 's,.\@@GMIME_VERSION\@@,,g' \
		${WRKSRC}/mono/gmime-sharp.dll.config.in
@


1.25
log
@Bugfix update to gmime-2.6.3.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/12/17 20:53:14 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.3
d41 1
a41 2
CONFIGURE_ARGS+=--with-gpgme-prefix=${LOCALBASE} \
		--program-prefix='gmime-'
@


1.24
log
@Bugfix update to gmime-2.6.2.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2011/11/06 16:45:06 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.2
@


1.23
log
@Bugfix update to gmime-2.6.1.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2011/10/02 15:27:31 ajacoutot Exp $
d9 1
a9 1
GNOME_VERSION=	2.6.1
@


1.22
log
@Use MONO_ARCHS.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2011/09/26 14:20:41 naddy Exp $
d8 2
a9 2
V=		2.6.0
DISTNAME=	gmime-${V}
d12 1
a12 6
PKGNAME-mono=	gmime-sharp-${V}

REVISION-main=	1
REVISION-mono=	0

EXTRACT_SUFX=	.tar.bz2
d28 1
a28 3
WANTLIB-main += gpgme-pthread gthread-2.0 pcre pthread z

MASTER_SITES=	${MASTER_SITE_GNOME:=sources/gmime/${V:C/^([0-9]+\.[0-9]+).*/\1/}/}
d32 2
a33 1
MODULES +=	devel/gettext
a38 3
USE_GMAKE=	Yes
USE_LIBTOOL=	Yes

d40 2
a41 6
CONFIGURE_ENV=	CPPFLAGS="-I${LOCALBASE}/include" \
		LDFLAGS="-L${LOCALBASE}/lib" \
		DOLT_BASH="/bin/ksh"
CONFIGURE_ARGS+= ${CONFIGURE_SHARED} \
		--disable-gtk-doc \
		--with-gpgme-prefix=${LOCALBASE} \
@


1.21
log
@use bsd.port.arch.mk framework
@
text
@d1 3
a3 1
# $OpenBSD: Makefile,v 1.20 2011/09/16 10:31:21 espie Exp $
a62 3

# keep in sync with lang/mono/mono.port.mk
ONLY_FOR_ARCHS-mono= i386 amd64
@


1.20
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2011/08/30 07:12:21 ajacoutot Exp $
d35 1
a35 1
MULTI_PACKAGES=	-main
d65 1
a65 9
BUILD_MONO = No
.if !${FLAVOR:L:Mno_mono}
MULTI_PACKAGES+= -mono
.  for _a in ${MACHINE_ARCH} ${ARCH}
.    if ${ONLY_FOR_ARCHS-mono:M${_a}}
BUILD_MONO = Yes
.    endif
.  endfor
.endif
d67 1
a67 1
.if ${BUILD_MONO:L} == "yes"
@


1.19
log
@Add subpackages in pkgpath.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2011/08/30 06:45:53 ajacoutot Exp $
d12 1
a12 1
REVISION-main=	0
@


1.18
log
@Resurrect mail/gmime (import gmime-2.6.0).

GMime is a C/C++ library for parsing and creating messages using the
Multipurpose Internet Mail Extension (MIME) as defined by several RFCs.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2011/08/16 15:00:31 ajacoutot Exp $
d11 3
@


1.17
log
@Remove gmime-2.0, it's deprecated and unmaintained (and security issues
are not taken care of anymore). Nothing uses it in tree anymore.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2010/03/26 15:04:40 ajacoutot Exp $
d3 2
a4 1
COMMENT=		MIME messages creation and parsing library (v2.2)
d6 2
a7 1
DISTNAME=		gmime-2.2.26
d9 2
a10 1
SHARED_LIBS +=	gmime-2.0            2.0      # .4.22
d12 1
a12 1
CATEGORIES=		mail devel
d14 5
a18 1
HOMEPAGE=		http://spruce.sourceforge.net/gmime/
d26 62
a87 16
WANTLIB=		pcre z

MASTER_SITES=		${MASTER_SITE_GNOME:=sources/gmime/2.2/}
EXTRACT_SUFX=		.tar.bz2

MODULES=		devel/gettext

LIB_DEPENDS=		glib-2.0,gmodule-2.0,gobject-2.0,gthread-2.0::devel/glib2 

USE_GMAKE=		Yes
USE_LIBTOOL=		Yes
CONFIGURE_STYLE=	gnu
CONFIGURE_ARGS= 	--with-libiconv-prefix="${LOCALBASE}" \
			--disable-mono
CONFIGURE_ENV=		CPPFLAGS="-I${LOCALBASE}/include" \
			LDFLAGS="-L${LOCALBASE}/lib"
@


1.16
log
@Update to gmime-2.2.26. -- Fixes for bug #613653
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2010/03/21 09:58:44 ajacoutot Exp $
@


1.15
log
@Update to gmime-2.2.25.

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2010/02/04 09:54:23 jasper Exp $
d5 1
a5 1
DISTNAME=		gmime-2.2.25
d32 1
a32 2
			--disable-mono \
			--disable-gtkdoc
@


1.14
log
@SECURITY: fix for SA38459 (possible buffer overflows)

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2009/08/13 16:56:06 ajacoutot Exp $
d5 1
a5 2
DISTNAME=		gmime-2.2.24
PKGNAME=		${DISTNAME}p0
@


1.13
log
@Bugfix update to gmime-2.2.24.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2009/07/24 08:49:39 ajacoutot Exp $
d6 1
@


1.12
log
@Tweak COMMENT.
Set no-default-conflict, since this port can be installed alongside with
the upcoming gmime24 port.

"reads fine" to jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/08/19 22:35:09 jasper Exp $
d5 1
a5 2
DISTNAME=		gmime-2.2.22
PKGNAME=		${DISTNAME}p0
@


1.11
log
@- update gmime to 2.2.22
- fix license
- regen PLIST
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2008/05/18 10:29:33 jasper Exp $
d3 1
a3 1
COMMENT=		library for the creation and parsing of MIME messages
d6 2
d9 1
@


1.11.4.1
log
@SECURITY FIX

Resolves SA38459:  prevent possible buffer overflows

ok jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2008/08/19 22:35:09 jasper Exp $
a5 1
PKGNAME=		${DISTNAME}p0
@


1.10
log
@- minor bugfix update to 2.2.20
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2008/05/04 15:11:48 jasper Exp $
d5 2
a6 2
DISTNAME=		gmime-2.2.20
SHARED_LIBS +=	gmime-2.0            1.1      # .4.20
d11 1
a11 1
# GPLv2
@


1.9
log
@- update gmime to 2.2.19
- better license marker
- tweak WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2008/04/23 10:47:06 jasper Exp $
d5 2
a6 2
DISTNAME=		gmime-2.2.19
SHARED_LIBS +=	gmime-2.0            1.1      # .4.19
@


1.8
log
@- update gmime to 2.2.18

from steffen schuetz, thanks!
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2008/02/14 19:50:31 jasper Exp $
d5 2
a6 2
DISTNAME=		gmime-2.2.18
SHARED_LIBS +=	gmime-2.0            1.1      # .4.18
d11 1
a11 1
# GPL
d17 1
a17 1
WANTLIB=		z pcre
@


1.7
log
@- update gmime to 2.2.17

identical diff and testing by steffen schuetz, thanks!

"looks fine" ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2008/02/04 17:39:33 jasper Exp $
d5 2
a6 2
DISTNAME=		gmime-2.2.17
SHARED_LIBS +=	gmime-2.0            1.0      # .4.16
@


1.6
log
@- update gmime to 2.2.16

from st.sch@@gmx.net

ok ajacoutot@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2007/12/15 20:52:31 martynas Exp $
d5 2
a6 2
DISTNAME=		gmime-2.2.16
SHARED_LIBS +=	gmime-2.0            0.3      # .4.16
@


1.5
log
@update to gmime-2.2.12;  looks good to jasper@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2007/11/19 19:05:32 jasper Exp $
d5 2
a6 2
DISTNAME=		gmime-2.2.12
SHARED_LIBS +=	gmime-2.0            0.2      # .4.12
@


1.4
log
@- update gmime to 2.2.11
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2007/11/14 09:43:40 steven Exp $
d5 2
a6 2
DISTNAME=		gmime-2.2.11
SHARED_LIBS +=	gmime-2.0            0.1      # .4.8
@


1.3
log
@fix WANTLIB
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2007/09/16 00:17:04 merdely Exp $
d5 2
a6 3
DISTNAME=		gmime-2.2.8
PKGNAME=		${DISTNAME}p0
SHARED_LIBS +=	gmime-2.0            0.0      # .4.8
d26 1
d29 2
a30 1
CONFIGURE_ARGS= 	--disable-mono \
@


1.2
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2007/05/24 13:38:53 jasper Exp $
d6 1
d17 2
a18 1
WANTLIB= z
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d3 1
a3 1
COMMENT=		"library for the creation and parsing of MIME messages"
@


1.1.1.1
log
@import gmime 2.2.8

GMime is a set of utilities for parsing and creating messages using the
Multipurpose Internet Mail Extension (MIME) as defined by several RFCs.

feedback and ok ajacoutot@@
@
text
@@
