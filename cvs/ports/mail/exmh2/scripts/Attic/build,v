head	1.2;
access;
symbols
	OPENBSD_2_9:1.1.1.1.0.12
	OPENBSD_2_9_BASE:1.1.1.1
	OPENBSD_2_8:1.1.1.1.0.10
	OPENBSD_2_8_BASE:1.1.1.1
	OPENBSD_2_7:1.1.1.1.0.8
	OPENBSD_2_7_BASE:1.1.1.1
	OPENBSD_2_6:1.1.1.1.0.6
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.4
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	exmh2:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.2
date	2001.07.12.21.51.19;	author lebel;	state dead;
branches;
next	1.1;

1.1
date	98.05.17.03.21.12;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.17.03.21.12;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.2
log
@update mail/exmh2 to 2.4; angelos@@ agreed to pass on the port MAINTAINERship
to Michael Paddon <michael@@paddon.org>.
@
text
@#! /bin/sh
#
# $Id: build,v 1.1 1998/05/17 03:21:12 angelos Exp $
#

VERSION="`sed -ne 's/^set vers \(.*\)/\1/p' ${WRKSRC}/exmh.install`"
DATE="`sed -ne 's/^set date \(.*\)/\1/p' ${WRKSRC}/exmh.install`"

SEDFILE=sed.$$

EXPECT="{}"
EXPECTK="{}"
FACES="{}"
DOMAIN="{}"
PGP="{}"
GLIMPSE="{}"
PLAY="{}"

if [ -f ${PREFIX}/bin/expect ]; then
  EXPECT=${PREFIX}/bin/expect		#executable
fi
if [ -f ${PREFIX}/bin/expectk ]; then
  EXPECTK=${PREFIX}/bin/expectk		#executable
fi

if [ -d ${PREFIX}/share/faces ]; then
  FACES=${PREFIX}/share/faces		#dir
  shortname="`hostname -s`"
  domain="`hostname | sed -e s/^${shortname}// -e s/^.// | tr A-Z a-z`"
  if [ "${domain}" != "" ]; then
    DOMAIN="{${domain}}"
  fi
fi

if [ -f ${PREFIX}/bin/pgp ]; then
  PGP=${PREFIX}/bin			#bindir
fi

if [ -f ${PREFIX}/bin/glimpse ]; then
  GLIMPSE=${PREFIX}/bin			#bindir
fi

if [ -f ${PREFIX}/bin/rplay ]; then
  PLAY=${PREFIX}/bin/rplay		#executable
fi

echo "s@@^#!wish@@#!${WISH}@@" >${SEDFILE}
if [ "${EXPECT}" != "{}" ]; then
  echo "s@@^#!expect@@#!${EXPECT}@@" >>${SEDFILE}
fi
echo "/^#CONFIGURATION/a\\" >>${SEDFILE}

sed <${FILESDIR}/config \
	-e "s+!!PREFIX!!+${PREFIX}+g" \
	-e "s+!!WISH!!+${WISH}+g" \
	-e "s+!!EXPECT!!+${EXPECT}+g" \
	-e "s+!!EXPECTK!!+${EXPECTK}+g" \
	-e "s+!!FACES!!+${FACES}+g" \
	-e "s+!!DOMAIN!!+${DOMAIN}+g" \
	-e "s+!!PGP!!+${PGP}+g" \
	-e "s+!!GLIMPSE!!+${GLIMPSE}+g" \
	-e "s+!!PLAY!!+${PLAY}+g" \
	-e "s+!!VERSION!!+${VERSION}+g" \
	-e "s+!!DATE!!+${DATE}+g" \
 | sed -e 's/$/\\/' >> ${SEDFILE}

for i in exmh-async exmh-bg exmh ftp.expect
do
	echo "sed -f ${SEDFILE} < $i.MASTER > $i"
	sed -f ${SEDFILE} < $i.MASTER > $i
done

rm -f ${SEDFILE}

echo "cd lib ;  echo 'auto_mkindex . *.tcl ; exit' | ${TCLSH}"
cd lib ;  echo 'auto_mkindex . *.tcl ; exit' | ${TCLSH}
@


1.1
log
@Initial revision
@
text
@d3 1
a3 1
# $Id: build,v 1.5 1997/08/21 08:09:56 peter Exp $
@


1.1.1.1
log
@exmh2 port
@
text
@@
