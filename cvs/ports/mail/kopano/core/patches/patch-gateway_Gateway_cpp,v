head     1.1;
branch   1.1.1;
access   ;
symbols  robert_20170913:1.1.1.1 robert:1.1.1;
locks    ; strict;
comment  @# @;


1.1
date     2017.09.13.10.38.42;  author robert;  state Exp;
branches 1.1.1.1;
next     ;
commitid        EUPcYe0im3Fq9qvW;

1.1.1.1
date     2017.09.13.10.38.42;  author robert;  state Exp;
branches ;
next     ;
commitid        EUPcYe0im3Fq9qvW;


desc
@@



1.1
log
@Initial revision
@
text
@$OpenBSD$

Index: gateway/Gateway.cpp
--- gateway/Gateway.cpp.orig
+++ gateway/Gateway.cpp
@@@@ -58,6 +58,10 @@@@
 #include <openssl/ssl.h>
 #include <kopano/hl.hpp>
 
+#ifdef __OpenBSD__
+#include <sys/resource.h>
+#endif
+
 /**
  * @@defgroup gateway Gateway for IMAP and POP3 
  * @@{
@@@@ -289,10 +293,10 @@@@ int main(int argc, char *argv[]) {
 	const char *szConfig = ECConfig::GetDefaultPath("gateway.cfg");
 	static const configsetting_t lpDefaults[] = {
 		{ "server_bind", "" },
-		{ "run_as_user", "kopano" },
-		{ "run_as_group", "kopano" },
+		{ "run_as_user", "_kopano" },
+		{ "run_as_group", "_kopano" },
 		{ "pid_file", "/var/run/kopano/gateway.pid" },
-		{ "running_path", "/var/lib/kopano" },
+		{ "running_path", "/var/empty" },
 		{ "process_model", "fork" },
 		{"coredump_enabled", "systemdefault"},
 		{"pop3_enable", "yes", CONFIGSETTING_NONEMPTY},
@


1.1.1.1
log
@import of kopano-{core,mapi,webapp}-8.3.5.1335

Kopano is a replacement of the deprecated Zarafa (ZCP) suite.

Joint work with pirofti@@

For upgrading please refer to the README.

ok ajacoutot@@
@
text
@@
