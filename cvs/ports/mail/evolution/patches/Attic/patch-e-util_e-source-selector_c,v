head	1.3;
access;
symbols
	OPENBSD_5_4:1.2.0.2
	OPENBSD_5_4_BASE:1.2;
locks; strict;
comment	@# @;


1.3
date	2014.02.10.12.46.01;	author ajacoutot;	state dead;
branches;
next	1.2;

1.2
date	2013.06.09.10.00.45;	author ajacoutot;	state Exp;
branches;
next	1.1;

1.1
date	2013.05.14.12.36.36;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.3
log
@Update to evolution-3.10.4.
(crash, mem leak... fixes)

ok jasper@@ sthen@@ espie@@
@
text
@$OpenBSD: patch-e-util_e-source-selector_c,v 1.2 2013/06/09 10:00:45 ajacoutot Exp $

From f0ee8d9c24fc1725408ddcddb68a6938562749cc Mon Sep 17 00:00:00 2001
From: Milan Crha <mcrha@@redhat.com>
Date: Tue, 14 May 2013 10:02:32 +0000
Subject: Bug #699980 - Calendar delete does not remove events from view

--- e-util/e-source-selector.c.orig	Mon May 20 21:34:52 2013
+++ e-util/e-source-selector.c	Sun Jun  9 11:22:49 2013
@@@@ -1607,6 +1607,11 @@@@ e_source_selector_select_source (ESourceSelector *sele
 	/* Make sure the ESource is in our tree model. */
 	source_index = selector->priv->source_index;
 	reference = g_hash_table_lookup (source_index, source);
+
+	/* can be NULL when the source was just removed */
+	if (!reference)
+		return;
+
 	g_return_if_fail (gtk_tree_row_reference_valid (reference));
 
 	class = E_SOURCE_SELECTOR_GET_CLASS (selector);
@


1.2
log
@Update to evolution-3.8.3.
@
text
@d1 1
a1 1
$OpenBSD: patch-e-util_e-source-selector_c,v 1.1 2013/05/14 12:36:36 ajacoutot Exp $
@


1.1
log
@Fix: Bug #699980 - Calendar delete does not remove events from view
@
text
@d1 1
a1 1
$OpenBSD$
d8 3
a10 3
--- e-util/e-source-selector.c.orig	Wed May  8 14:03:18 2013
+++ e-util/e-source-selector.c	Tue May 14 13:58:48 2013
@@@@ -1638,6 +1638,11 @@@@ e_source_selector_unselect_source (ESourceSelector *se
@

