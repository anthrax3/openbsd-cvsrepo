head	1.2;
access;
symbols
	OPENBSD_4_6:1.1.0.2
	OPENBSD_4_6_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2009.10.13.22.07.04;	author jasper;	state dead;
branches;
next	1.1;

1.1
date	2009.03.22.16.00.28;	author ajacoutot;	state Exp;
branches;
next	;


desc
@@


1.2
log
@- update evolution to 2.28.0
* among the many, many changes are the pst-importer plugin

if there is any fallout, it'll be fixed soon
@
text
@$OpenBSD: patch-widgets_misc_e-calendar-item_c,v 1.1 2009/03/22 16:00:28 ajacoutot Exp $

From FreeBSD: fix GNUism

--- widgets/misc/e-calendar-item.c.orig	Sun Feb  1 02:14:21 2009
+++ widgets/misc/e-calendar-item.c	Fri Mar 20 12:15:11 2009
@@@@ -1505,12 +1505,12 @@@@ e_calendar_item_draw_day_numbers (ECalendarItem	*calit
 			if (week_num >= 10) {
 				digit = week_num / 10;
 				text_x -= calitem->week_number_digit_widths[digit];
-				num_chars += sprintf (&buffer[num_chars], "%Id", digit);
+				num_chars += sprintf (&buffer[num_chars], "%d", digit);
 			}
 
 			digit = week_num % 10;
 			text_x -= calitem->week_number_digit_widths[digit] + 6;
-			num_chars += sprintf (&buffer[num_chars], "%Id", digit);
+			num_chars += sprintf (&buffer[num_chars], "%d", digit);
 
 			cairo_save (cr);
 			gdk_cairo_set_source_color (cr, &style->text[GTK_STATE_ACTIVE]);
@@@@ -1618,12 +1618,12 @@@@ e_calendar_item_draw_day_numbers (ECalendarItem	*calit
 				if (day_num >= 10) {
 					digit = day_num / 10;
 					day_x -= calitem->digit_widths[digit];
-					num_chars += sprintf (&buffer[num_chars], "%Id", digit);
+					num_chars += sprintf (&buffer[num_chars], "%d", digit);
 				}
 
 				digit = day_num % 10;
 				day_x -= calitem->digit_widths[digit];
-				num_chars += sprintf (&buffer[num_chars], "%Id", digit);
+				num_chars += sprintf (&buffer[num_chars], "%d", digit);
 
 				cairo_save (cr);
 				if (fg_color) {
@@@@ -1958,7 +1958,7 @@@@ e_calendar_item_recalc_sizes		(ECalendarItem *calitem)
 		gchar locale_digit[5];
 		int locale_digit_len;
 		
-		locale_digit_len = sprintf (locale_digit, "%Id", digit);
+		locale_digit_len = sprintf (locale_digit, "%d", digit);
 
 		pango_layout_set_text (layout, locale_digit, locale_digit_len);
 		pango_layout_get_pixel_size (layout, &width, NULL);
@


1.1
log
@Big spring cleanup:

* split in 2 packages:
  -main ===> evolution+base plugins
  -plugins ===> plugins part of the "standard" bundle
This makes more sense than previous tweak and preserves ressources.

* disable the mail-account-disable plugin by default (you can still
enable it from the plugins preferences) ; there is something not
quite right about it that makes right-clicking on a folder very
slow ; it's beeing investigated but for now, evolution is slow
enough...

* fix some hardcoded paths in the antispam plugins

* import 2 patches from pkgsrc and FreeBSD which fixes some obvious
issues

* evolution needs gnome-icon-theme to build

* remove the rpath related stuff from LDFLAGS which prevented
building on macppc ; the plugins link with '-rpath $(plugindir)' so
it should not be needed anymore
please CONTACT ME if you see any regression (in which case bernd@@ can
spank me for free)

ok jasper@@
@
text
@d1 1
a1 1
$OpenBSD$
@

