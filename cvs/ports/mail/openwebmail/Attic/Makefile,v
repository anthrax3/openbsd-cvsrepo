head	1.33;
access;
symbols
	OPENBSD_5_4:1.32.0.2
	OPENBSD_5_4_BASE:1.32
	OPENBSD_5_3:1.30.0.6
	OPENBSD_5_3_BASE:1.30
	OPENBSD_5_2:1.30.0.4
	OPENBSD_5_2_BASE:1.30
	OPENBSD_5_1_BASE:1.30
	OPENBSD_5_1:1.30.0.2
	OPENBSD_5_0:1.29.0.4
	OPENBSD_5_0_BASE:1.29
	OPENBSD_4_9:1.29.0.2
	OPENBSD_4_9_BASE:1.29
	OPENBSD_4_8:1.28.0.8
	OPENBSD_4_8_BASE:1.28
	OPENBSD_4_7:1.28.0.6
	OPENBSD_4_7_BASE:1.28
	OPENBSD_4_6:1.28.0.4
	OPENBSD_4_6_BASE:1.28
	OPENBSD_4_5:1.28.0.2
	OPENBSD_4_5_BASE:1.28
	OPENBSD_4_4:1.27.0.4
	OPENBSD_4_4_BASE:1.27
	OPENBSD_4_3:1.27.0.2
	OPENBSD_4_3_BASE:1.27
	OPENBSD_4_2:1.26.0.4
	OPENBSD_4_2_BASE:1.26
	OPENBSD_4_1:1.26.0.2
	OPENBSD_4_1_BASE:1.26
	OPENBSD_4_0:1.25.0.8
	OPENBSD_4_0_BASE:1.25
	OPENBSD_3_9:1.25.0.6
	OPENBSD_3_9_BASE:1.25
	OPENBSD_3_8:1.25.0.4
	OPENBSD_3_8_BASE:1.25
	OPENBSD_3_7:1.25.0.2
	OPENBSD_3_7_BASE:1.25
	OPENBSD_3_6:1.20.0.2
	OPENBSD_3_6_BASE:1.20
	OPENBSD_3_5:1.19.0.2
	OPENBSD_3_5_BASE:1.19
	OPENBSD_3_4:1.15.0.2
	OPENBSD_3_4_BASE:1.15
	OPENBSD_3_3:1.11.0.2
	OPENBSD_3_3_BASE:1.11
	OPENBSD_3_2:1.7.0.2
	OPENBSD_3_2_BASE:1.7
	OPENBSD_3_1:1.6.0.2
	OPENBSD_3_1_BASE:1.6
	kevlo_2002_Feb-05:1.1.1.1
	kevlo:1.1.1;
locks; strict;
comment	@# @;


1.33
date	2013.09.19.21.43.31;	author landry;	state dead;
branches;
next	1.32;

1.32
date	2013.07.05.07.38.47;	author jasper;	state Exp;
branches;
next	1.31;

1.31
date	2013.03.11.11.23.52;	author espie;	state Exp;
branches;
next	1.30;

1.30
date	2011.09.16.10.31.22;	author espie;	state Exp;
branches;
next	1.29;

1.29
date	2010.11.19.07.23.07;	author espie;	state Exp;
branches;
next	1.28;

1.28
date	2008.09.29.18.56.15;	author simon;	state Exp;
branches;
next	1.27;

1.27
date	2007.09.16.00.17.05;	author merdely;	state Exp;
branches;
next	1.26;

1.26
date	2006.12.09.08.52.11;	author steven;	state Exp;
branches;
next	1.25;

1.25
date	2005.03.01.03.52.45;	author kevlo;	state Exp;
branches;
next	1.24;

1.24
date	2005.02.17.01.46.33;	author kevlo;	state Exp;
branches;
next	1.23;

1.23
date	2005.02.05.02.50.26;	author kevlo;	state Exp;
branches;
next	1.22;

1.22
date	2005.01.27.06.01.16;	author kevlo;	state Exp;
branches;
next	1.21;

1.21
date	2004.11.21.17.01.45;	author naddy;	state Exp;
branches;
next	1.20;

1.20
date	2004.07.12.05.54.51;	author kevlo;	state Exp;
branches;
next	1.19;

1.19
date	2004.03.04.06.34.09;	author kevlo;	state Exp;
branches;
next	1.18;

1.18
date	2004.02.02.17.45.23;	author sturm;	state Exp;
branches;
next	1.17;

1.17
date	2003.11.13.05.55.50;	author kevlo;	state Exp;
branches;
next	1.16;

1.16
date	2003.11.03.06.15.07;	author kevlo;	state Exp;
branches;
next	1.15;

1.15
date	2003.07.17.02.09.17;	author kevlo;	state Exp;
branches;
next	1.14;

1.14
date	2003.07.16.10.32.07;	author kevlo;	state Exp;
branches;
next	1.13;

1.13
date	2003.05.13.22.53.58;	author sturm;	state Exp;
branches;
next	1.12;

1.12
date	2003.04.14.08.26.11;	author kevlo;	state Exp;
branches;
next	1.11;

1.11
date	2003.01.30.07.57.22;	author kevlo;	state Exp;
branches;
next	1.10;

1.10
date	2002.11.29.05.43.17;	author pvalchev;	state Exp;
branches;
next	1.9;

1.9
date	2002.11.27.06.49.42;	author pvalchev;	state Exp;
branches;
next	1.8;

1.8
date	2002.10.30.04.13.36;	author pvalchev;	state Exp;
branches;
next	1.7;

1.7
date	2002.06.28.01.11.45;	author kevlo;	state Exp;
branches
	1.7.2.1;
next	1.6;

1.6
date	2002.03.28.11.45.28;	author espie;	state Exp;
branches
	1.6.2.1;
next	1.5;

1.5
date	2002.03.22.07.51.23;	author kevlo;	state Exp;
branches;
next	1.4;

1.4
date	2002.02.27.11.18.55;	author kevlo;	state Exp;
branches;
next	1.3;

1.3
date	2002.02.06.02.57.22;	author kevlo;	state Exp;
branches;
next	1.2;

1.2
date	2002.02.05.14.16.41;	author kevlo;	state Exp;
branches;
next	1.1;

1.1
date	2002.02.05.04.53.17;	author kevlo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.02.05.04.53.17;	author kevlo;	state Exp;
branches;
next	;

1.6.2.1
date	2003.02.17.00.11.08;	author margarida;	state Exp;
branches;
next	;

1.7.2.1
date	2003.02.16.18.42.53;	author margarida;	state Exp;
branches;
next	;


desc
@@


1.33
log
@tedu mail/openwebmail.

It was the cloud of the web 1.0, had builtin addressbook/calendar/webdisk/ssh
console/antivirus/antispam... but it never made it past the javascript bump,
and is mostly dead upstream since 6 years.
Was nice in 2004 though, when plain perl CGIs ruled the world.

ok sthen@@
@
text
@# $OpenBSD: Makefile,v 1.32 2013/07/05 07:38:47 jasper Exp $

COMMENT=	highly configurable webmail client

DISTNAME=	openwebmail-2.51
REVISION =	2
CATEGORIES=	mail www

HOMEPAGE=	http://www.openwebmail.org/

MAINTAINER=	Kevin Lo <kevlo@@openbsd.org>

PERMIT_PACKAGE_CDROM=  Yes

MASTER_SITES=	${HOMEPAGE}/openwebmail/download/release/ \
		http://turtle.ee.ncku.edu.tw/openwebmail/download/release/

RUN_DEPENDS=	textproc/ispell \
		mail/tnef \
		converters/p5-Text-Iconv>=1.2 \
		www/p5-CGI-SpeedyCGI>=2.21 \
		sysutils/p5-Quota>=1.4.6 \
		security/p5-Authen-SASL>=2.0.8 \
		security/p5-IO-Socket-SSL>=0.96

NO_BUILD=	Yes
NO_TEST=	Yes
PKG_ARCH=	*

WRKDIST=	${WRKDIR}

PREFIX=		${VARBASE}/www
CONFDIR=	${PREFIX}/conf
SUBST_VARS=	CONFDIR

SCRIPTFILES=	openwebmail-abook.pl openwebmail-advsearch.pl \
		openwebmail-cal.pl openwebmail-folder.pl \
		openwebmail-main.pl openwebmail-prefs.pl \
		openwebmail-read.pl openwebmail-saprefs.pl \
		openwebmail-send.pl openwebmail-spell.pl \
		openwebmail-tool.pl openwebmail-vdomain.pl \
		openwebmail-viewatt.pl openwebmail-webdisk.pl \
		openwebmail.pl

do-configure:
.for file in ${SCRIPTFILES}
	@@perl -pi -e 's@@%%SYSCONFDIR%%@@${CONFDIR}@@g' \
		${WRKSRC}/cgi-bin/openwebmail/${file}
.endfor
	@@perl -pi -e 's@@%%SYSCONFDIR%%@@${CONFDIR}@@g' \
		${WRKSRC}/cgi-bin/openwebmail/shares/ow-shared.pl
	@@cd ${WRKSRC} && cp -Rp data htdocs
	@@find ${WRKSRC}/cgi-bin -name '*.orig' |xargs rm
	@@cd ${WRKSRC} && mkdir -p conf/openwebmail && \
		cp -Rp cgi-bin/openwebmail/etc/* conf/openwebmail
	@@find ${WRKSRC}/cgi-bin -name 'etc' -type d |xargs rm -rf


do-install:
	${INSTALL_DATA_DIR} ${CONFDIR}/openwebmail
	${TAR} -C ${WRKSRC} -cf- cgi-bin conf htdocs | \
		${TAR} -C ${PREFIX} -xpf-
	chown -R ${SHAREOWN}:${SHAREGRP} ${PREFIX}/*

post-install:
	@@echo "/var/www/cgi-bin/openwebmail/" \
		> ${CONFDIR}/openwebmail/openwebmail_path.conf

.include <bsd.port.mk>
@


1.32
log
@use ${VARBASE} instead of hardcoding /var
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.31 2013/03/11 11:23:52 espie Exp $
@


1.31
log
@PERMIT_* / REGRESS->TEST sweep
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.30 2011/09/16 10:31:22 espie Exp $
d32 1
a32 1
PREFIX=		/var/www
@


1.30
log
@normalize pkgpath
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.29 2010/11/19 07:23:07 espie Exp $
a13 3
PERMIT_PACKAGE_FTP=    Yes
PERMIT_DISTFILES_CDROM=Yes
PERMIT_DISTFILES_FTP=  Yes
d27 1
a27 1
NO_REGRESS=	Yes
@


1.29
log
@new depends
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.28 2008/09/29 18:56:15 simon Exp $
d6 1
a6 1
REVISION =	1
@


1.28
log
@remove RUN_DEPENDS to p5-Compress-Zlib which now comes with perl and bump
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.27 2007/09/16 00:17:05 merdely Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p1
d21 7
a27 7
RUN_DEPENDS=	::textproc/ispell \
		::mail/tnef \
		:p5-Text-Iconv->=1.2:converters/p5-Text-Iconv \
		:p5-CGI-SpeedyCGI->=2.21:www/p5-CGI-SpeedyCGI \
		:p5-Quota->=1.4.6:sysutils/p5-Quota \
		:p5-Authen-SASL->=2.08:security/p5-Authen-SASL \
		:p5-IO-Socket-SSL->=0.96:security/p5-IO-Socket-SSL
@


1.27
log
@Remove surrounding quotes in COMMENT*/PERMIT_*
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.26 2006/12/09 08:52:11 steven Exp $
d6 1
a6 1
PKGNAME=	${DISTNAME}p0
a24 1
		:p5-Compress-Zlib->=1.22:archivers/p5-Compress-Zlib \
@


1.26
log
@owner/group fixes.

"looks good" sturm@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.25 2005/03/01 03:52:45 kevlo Exp $
d3 1
a3 1
COMMENT=	"highly configurable webmail client"
@


1.25
log
@upgrade to 2.51
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.24 2005/02/17 01:46:33 kevlo Exp $
d6 1
d67 1
@


1.24
log
@- fix group name. Submitted by Ian McWilliam.
- bump PKGNAME
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.23 2005/02/05 02:50:26 kevlo Exp $
d5 1
a5 2
DISTNAME=	openwebmail-2.50
PKGNAME=	${DISTNAME}p0
@


1.23
log
@add p5-Authen-SASL dependency
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.22 2005/01/27 06:01:16 kevlo Exp $
d6 1
@


1.22
log
@upgrade to openwebmail 2.50
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.21 2004/11/21 17:01:45 naddy Exp $
d26 1
@


1.21
log
@update to 2.41; from kevlo@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.20 2004/07/12 05:54:51 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-2.41
d25 2
a26 1
		:p5-Quota->=1.4.6:sysutils/p5-Quota
d41 5
a45 4
		openwebmail-read.pl openwebmail-send.pl \
		openwebmail-spell.pl openwebmail-tool.pl \
		openwebmail-vdomain.pl openwebmail-viewatt.pl \
		openwebmail-webdisk.pl openwebmail.pl
@


1.20
log
@upgrade to openwebmail 2.32
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.19 2004/03/04 06:34:09 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-2.32
d17 2
a18 4
MASTER_SITES=	${HOMEPAGE}/openwebmail/download/ \
		http://turtle.ee.ncku.edu.tw/openwebmail/download/ \
		http://turtle.ee.ncku.edu.tw/openwebmail/download/old/
EXTRACT_SUFX=	.tgz
d21 1
d61 1
a61 1
	${TAR} -C ${WRKSRC} -cpf- cgi-bin conf htdocs | \
d63 4
@


1.19
log
@upgrade to 2.30
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.18 2004/02/02 17:45:23 sturm Exp $
d5 1
a5 1
DISTNAME=	openwebmail-2.30
d17 2
a18 2
MASTER_SITES=	http://turtle.ee.ncku.edu.tw/openwebmail/download/ \
		ftp://openwebmail.org/pub/ \
@


1.18
log
@mark arch independent
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.17 2003/11/13 05:55:50 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-2.21
d44 1
a44 1
		openwebmail-webdisk.pl openwebmail.pl ow-shared.pl 
d51 2
@


1.17
log
@upgrade to version 2.21
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.16 2003/11/03 06:15:07 kevlo Exp $
d30 1
@


1.16
log
@upgrade to version 2.20
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.15 2003/07/17 02:09:17 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-2.20
a20 1
EXTRACT_CASES=  *.tgz) ${GZIP_CMD} -dc ${FULLDISTDIR}/$$archive | ${TAR} xpf -;;
@


1.15
log
@add www category; pointed out by Xavier Santolaria <xavier@@santolaria.net>
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.14 2003/07/16 10:32:07 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-2.10
d21 1
@


1.14
log
@update to 2.10
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.13 2003/05/13 22:53:58 sturm Exp $
d6 1
a6 1
CATEGORIES=	mail
@


1.13
log
@don't change SYSCONFDIR, use CONFDIR instead
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.12 2003/04/14 08:26:11 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-2.00
a20 1
EXTRACT_CASES=  *.tgz) ${GZIP_CMD} -dc ${FULLDISTDIR}/$$archive | ${TAR} xpf -;;
d24 3
a26 1
		:p5-CGI-SpeedyCGI->=2.21:www/p5-CGI-SpeedyCGI
@


1.12
log
@upgrade to version 2.00
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/01/30 07:57:22 kevlo Exp $
d33 2
a34 1
SYSCONFDIR=	${PREFIX}/conf
d46 1
a46 1
	@@perl -pi -e 's@@%%SYSCONFDIR%%@@${SYSCONFDIR}@@g' \
d57 1
a57 1
	${INSTALL_DATA_DIR} ${SYSCONFDIR}/openwebmail
@


1.11
log
@upgrade to version 1.81 and fix security bugs :
http://openwebmail.org/openwebmail/download/cert/advisories/SA-02:01.txt
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.10 2002/11/29 05:43:17 pvalchev Exp $
d5 1
a5 1
DISTNAME=	openwebmail-1.81
d23 3
a25 3
RUN_DEPENDS=	::databases/p5-ldap \
		::textproc/ispell \
		:p5-Text-Iconv->=1.2:converters/p5-Text-Iconv
d35 7
a41 1
SCRIPTFILES=	openwebmail-tool.pl openwebmail.pl ow-shared.pl
d49 1
a49 1
#	@@find ${WRKSRC}/cgi-bin -name '*.orig' |xargs rm
@


1.10
log
@Delete p5-CGI dependency from here, too ...
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.9 2002/11/27 06:49:42 pvalchev Exp $
d5 1
a5 1
DISTNAME=	openwebmail-1.65
d24 2
a25 1
		::textproc/ispell
d35 1
a35 2
SCRIPTFILES=	checkmail.pl openwebmail-prefs.pl openwebmail.pl\
		openwebmail-shared.pl 
d43 1
a43 1
	@@find ${WRKSRC}/cgi-bin -name '*.orig' |xargs rm
@


1.9
log
@Remove p5-MIME-Base64 dependencies as it's stock with perl now
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.8 2002/10/30 04:13:36 pvalchev Exp $
d23 1
a23 2
RUN_DEPENDS=	::www/p5-CGI \
		::databases/p5-ldap \
@


1.8
log
@Remove p5-libnet port dependency; it now comes stock with perl
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7 2002/06/28 01:11:45 kevlo Exp $
a23 1
		::converters/p5-MIME-Base64 \
@


1.7
log
@upgrade to version 1.65
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.6 2002/03/28 11:45:28 espie Exp $
a6 1
NEED_VERSION=	1.504
d23 1
a23 2
RUN_DEPENDS=	::net/p5-libnet \
		::www/p5-CGI \
@


1.7.2.1
log
@MFC:
Update to version 1.81 and fix security bugs:
http://openwebmail.org/openwebmail/download/cert/advisories/SA-02:01.txt

brad@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.11 2003/01/30 07:57:22 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-1.81
d7 1
d28 1
a28 2
		::textproc/ispell \
		:p5-Text-Iconv->=1.2:converters/p5-Text-Iconv
d38 2
a39 1
SCRIPTFILES=	openwebmail-tool.pl openwebmail.pl ow-shared.pl
d47 1
a47 1
#	@@find ${WRKSRC}/cgi-bin -name '*.orig' |xargs rm
@


1.6
log
@don't use INSTALL_* in configure/build, it doesn't work.
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.5 2002/03/22 07:51:23 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-1.63
d28 1
a28 2
		::textproc/ispell \
		::chinese/hc
@


1.6.2.1
log
@MFC:
Update to version 1.81 and fix security bugs:
http://openwebmail.org/openwebmail/download/cert/advisories/SA-02:01.txt

brad@@ ok
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.7.2.1 2003/02/16 18:42:53 margarida Exp $
d5 1
a5 1
DISTNAME=	openwebmail-1.81
d7 1
d29 1
a29 1
		:p5-Text-Iconv->=1.2:converters/p5-Text-Iconv
d39 2
a40 1
SCRIPTFILES=	openwebmail-tool.pl openwebmail.pl ow-shared.pl
d48 1
a48 1
#	@@find ${WRKSRC}/cgi-bin -name '*.orig' |xargs rm
@


1.5
log
@upgrade to version 1.63
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.4 2002/02/27 11:18:55 kevlo Exp $
d49 1
a49 1
	@@cd ${WRKSRC} && ${INSTALL_DATA_DIR} conf/openwebmail && \
@


1.4
log
@upgrade to version 1.62
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.3 2002/02/06 02:57:22 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-1.62
d39 2
a40 4
SCRIPTFILES=	checkmail.pl openwebmail-main.pl openwebmail-prefs.pl \
		openwebmail-read.pl openwebmail-send.pl openwebmail-viewatt.pl \
		openwebmail.pl openwebmail-spell.pl
CONFFILE=	openwebmail.conf
a55 2
	${INSTALL_DATA} ${WRKSRC}/conf/openwebmail/${CONFFILE} \
		${SYSCONFDIR}/openwebmail/${CONFFILE}.dist
@


1.3
log
@upgrade to version 1.61
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.2 2002/02/05 14:16:41 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-1.61
d41 1
a41 1
		openwebmail.pl spellcheck.pl
d46 1
a46 2
	@@perl -pi -e 's@@%%PREFIX%%@@${PREFIX}@@g; \
		s@@%%SYSCONFDIR%%@@${SYSCONFDIR}@@g' \
@


1.2
log
@add MASTER_SITES. Pointed out by naddy@@
@
text
@d1 1
a1 1
# $OpenBSD: Makefile,v 1.1.1.1 2002/02/05 04:53:17 kevlo Exp $
d5 1
a5 1
DISTNAME=	openwebmail-1.60
d27 1
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
# $OpenBSD$
d19 2
a20 1
		ftp://openwebmail.org/pub/
@


1.1.1.1
log
@Initial import of openwebmail-1.60

Open WebMail is a webmail system designed to manage very large mail folder
files in a memory efficient way. It also provides a range of features to
help users migrate smoothly from Microsoft Outlook to Open WebMail.
@
text
@@
