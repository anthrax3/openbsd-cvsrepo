head	1.4;
access;
symbols
	OPENBSD_3_2:1.3.0.4
	OPENBSD_3_2_BASE:1.3
	OPENBSD_3_1:1.3.0.2
	OPENBSD_3_1_BASE:1.3
	kevlo_2002_Feb-05:1.1.1.1
	kevlo:1.1.1;
locks; strict;
comment	@# @;


1.4
date	2003.01.30.07.57.26;	author kevlo;	state dead;
branches;
next	1.3;

1.3
date	2002.03.22.07.51.28;	author kevlo;	state Exp;
branches
	1.3.2.1
	1.3.4.1;
next	1.2;

1.2
date	2002.02.27.11.19.01;	author kevlo;	state Exp;
branches;
next	1.1;

1.1
date	2002.02.05.04.53.17;	author kevlo;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2002.02.05.04.53.17;	author kevlo;	state Exp;
branches;
next	;

1.3.2.1
date	2003.02.17.00.11.08;	author margarida;	state dead;
branches;
next	;

1.3.4.1
date	2003.02.16.18.42.53;	author margarida;	state dead;
branches;
next	;


desc
@@


1.4
log
@upgrade to version 1.81 and fix security bugs :
http://openwebmail.org/openwebmail/download/cert/advisories/SA-02:01.txt
@
text
@--- cgi-bin/openwebmail/openwebmail.pl.orig	Fri Mar 22 15:01:30 2002
+++ cgi-bin/openwebmail/openwebmail.pl	Fri Mar 22 15:02:40 2002
@@@@ -37,8 +37,8 @@@@
 local ($lang_charset, %lang_folders, %lang_sortlabels, %lang_text, %lang_err);
 local $folderdir;
 
-readconf(\%config, \%config_raw, "$SCRIPT_DIR/etc/openwebmail.conf.default");
-readconf(\%config, \%config_raw, "$SCRIPT_DIR/etc/openwebmail.conf") if (-f "$SCRIPT_DIR/etc/openwebmail.conf");
+readconf(\%config, \%config_raw, "%%SYSCONFDIR%%/openwebmail/openwebmail.conf.default");
+readconf(\%config, \%config_raw, "%%SYSCONFDIR%%/openwebmail/openwebmail.conf") if (-f "%%SYSCONFDIR%%/openwebmail/openwebmail.conf");
 
 if ( $config{'logfile'} ne 'no' && ! -f $config{'logfile'} ) {
    my $mailgid=getgrnam('mail');
@@@@ -58,7 +58,8 @@@@
 %style = %{&readstyle};
 
 ($prefs{'language'} =~ /^([\w\d\._]+)$/) && ($prefs{'language'} = $1);
-require "etc/lang/$prefs{'language'}";
+push (@@INC, '%%SYSCONFDIR%%/openwebmail', ".");
+require "lang/$prefs{'language'}";
 $lang_charset ||= 'iso-8859-1';
 
 ####################### MAIN ##########################
@


1.3
log
@upgrade to version 1.63
@
text
@@


1.3.2.1
log
@MFC:
Update to version 1.81 and fix security bugs:
http://openwebmail.org/openwebmail/download/cert/advisories/SA-02:01.txt

brad@@ ok
@
text
@@


1.3.4.1
log
@MFC:
Update to version 1.81 and fix security bugs:
http://openwebmail.org/openwebmail/download/cert/advisories/SA-02:01.txt

brad@@ ok
@
text
@@


1.2
log
@upgrade to version 1.62
@
text
@d1 5
a5 4
--- cgi-bin/openwebmail/openwebmail.pl.orig	Wed Feb 27 16:44:43 2002
+++ cgi-bin/openwebmail/openwebmail.pl	Wed Feb 27 18:41:29 2002
@@@@ -31,7 +31,7 @@@@
 require "filelock.pl";
d7 4
a10 5
 local %config;
-readconf(\%config, "$SCRIPT_DIR/etc/openwebmail.conf");
+readconf(\%config, "%%SYSCONFDIR%%/openwebmail/openwebmail.conf");
 require $config{'auth_module'} or
    openwebmailerror("Can't open authentication module $config{'auth_module'}");
d12 3
a14 1
@@@@ -62,7 +62,8 @@@@
@


1.1
log
@Initial revision
@
text
@d1 3
a3 9
--- cgi-bin/openwebmail/openwebmail.pl.orig	Tue Feb  5 11:29:23 2002
+++ cgi-bin/openwebmail/openwebmail.pl	Tue Feb  5 11:30:24 2002
@@@@ -21,12 +21,12 @@@@
 $ENV{BASH_ENV} = ""; # no startup sciprt for bash
 umask(0007); # make sure the openwebmail group can write
 
-push (@@INC, '/usr/local/www/cgi-bin/openwebmail', ".");
+push (@@INC, '%%PREFIX%%/cgi-bin/openwebmail', ".");
 require "openwebmail-shared.pl";
d7 1
a7 1
-readconf(\%config, "/usr/local/www/cgi-bin/openwebmail/etc/openwebmail.conf");
d12 1
a12 1
@@@@ -64,7 +64,8 @@@@
@


1.1.1.1
log
@Initial import of openwebmail-1.60

Open WebMail is a webmail system designed to manage very large mail folder
files in a memory efficient way. It also provides a range of features to
help users migrate smoothly from Microsoft Outlook to Open WebMail.
@
text
@@
