head	1.4;
access;
symbols
	OPENBSD_6_2:1.4.0.16
	OPENBSD_6_2_BASE:1.4
	OPENBSD_6_1:1.4.0.14
	OPENBSD_6_1_BASE:1.4
	OPENBSD_6_0:1.4.0.12
	OPENBSD_6_0_BASE:1.4
	OPENBSD_5_9:1.4.0.8
	OPENBSD_5_9_BASE:1.4
	OPENBSD_5_8:1.4.0.10
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.6
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.24
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.22
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.3.0.20
	OPENBSD_5_2_BASE:1.3
	OPENBSD_5_1_BASE:1.3
	OPENBSD_5_1:1.3.0.18
	OPENBSD_5_0:1.3.0.16
	OPENBSD_5_0_BASE:1.3
	OPENBSD_4_9:1.3.0.14
	OPENBSD_4_9_BASE:1.3
	OPENBSD_4_8:1.3.0.12
	OPENBSD_4_8_BASE:1.3
	OPENBSD_4_7:1.3.0.10
	OPENBSD_4_7_BASE:1.3
	OPENBSD_4_6:1.3.0.8
	OPENBSD_4_6_BASE:1.3
	OPENBSD_4_5:1.3.0.6
	OPENBSD_4_5_BASE:1.3
	OPENBSD_4_4:1.3.0.4
	OPENBSD_4_4_BASE:1.3
	OPENBSD_4_3:1.3.0.2
	OPENBSD_4_3_BASE:1.3
	OPENBSD_4_2:1.2.0.8
	OPENBSD_4_2_BASE:1.2
	OPENBSD_4_1:1.2.0.6
	OPENBSD_4_1_BASE:1.2
	OPENBSD_4_0:1.2.0.4
	OPENBSD_4_0_BASE:1.2
	OPENBSD_3_9:1.2.0.2
	OPENBSD_3_9_BASE:1.2;
locks; strict;
comment	@# @;


1.4
date	2013.09.14.17.12.11;	author landry;	state Exp;
branches;
next	1.3;

1.3
date	2007.12.21.14.42.23;	author todd;	state Exp;
branches;
next	1.2;

1.2
date	2006.01.22.04.10.42;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2005.11.23.08.52.49;	author jakob;	state Exp;
branches;
next	;


desc
@@


1.4
log
@Update to dspam 3.10.2.

- remove 6 out of the 10 flavors maze, only keep the ones that make
  sense (ie clamav, ldap, domainscale & largescale)
- build pgsql & mysql drivers as subpackages, as $DEITY intended
- @@pkgpath & PFRAG.[flavor]-main tweaks from sthen@@ (thanks!)
- remove init_pwent_cache() patch until i can make some sense of it
- remove painful strlcpy patches
- add patches to fix pgsql support with PSQL > 9.1 from
  http://sourceforge.net/p/dspam/bug-tracker/112/ &
http://sourceforge.net/p/dspam/bug-tracker/141
- add an rc script running dspam --daemon as _dspam
- patch default dspam.conf to trust user _dspam (pointed out by jca@@;
  thanks!) and to use port 2424 by default. Taken from debian.

Discussed at length with todd@@ (MAINTAINER), been running on amd64 with
pgsql &| sqlite backend since a while, also tested on sqlite/ppc.

Some tweaks might still be needed (a README ? Fix some weird crashers ?),
but at least it's better than what we had for the past years.
@
text
@$OpenBSD: patch-UPGRADING,v 1.3 2007/12/21 14:42:23 todd Exp $
--- UPGRADING.orig	Wed Aug 17 00:38:30 2011
+++ UPGRADING	Sat Jan  5 15:35:35 2013
@@@@ -123,9 +123,9 @@@@ UPGRADING FROM 3.6
    log file selection. This is now required.
 
 3. Ensure 3.6.0 malaligned hash databases are converted
-   Version 3.6.0 failed to align hash databases to 8-byte boundaries. If you
-   are upgrading from v3.6.0 and are using the hash_drv storage driver, you
-   should run cssconvert to upgrade your .css files to a fully aligned format.
+   Version 3.6.0 failed to align hash databases to 8-byte boundaries. The
+   OpenBSD port of DSPAM 3.6.0 already used the correctly aligned format,
+   so that you don't need to run cssconvert.
 
 4. Invert "SupressWebStats" setting in dspam.conf
    SupressWebStats has been changed to simply WebStats, and the setting is
@


1.3
log
@o update to dspam 3.8.0 mostly from brad@@
o fix dspamc that was busted in the 3.8.0 release, verified to work via testing
@
text
@d1 4
a4 4
$OpenBSD: patch-UPGRADING,v 1.2 2006/01/22 04:10:42 brad Exp $
--- UPGRADING.orig	Sun Mar 18 17:42:25 2007
+++ UPGRADING	Sun Apr 29 18:02:34 2007
@@@@ -16,9 +16,9 @@@@ UPGRADING FROM 3.6
@


1.2
log
@upgrade to dspam 3.6.3; from Frank Denis
@
text
@d1 5
a5 4
$OpenBSD: patch-UPGRADING,v 1.1 2005/11/23 08:52:49 jakob Exp $
--- UPGRADING.orig	Tue Jan 17 15:49:08 2006
+++ UPGRADING	Sat Jan 21 22:54:40 2006
@@@@ -13,8 +13,10 @@@@ UPGRADING FROM < 3.6.1
d7 7
a13 8
 - For users of hash_drv: A cssconvert tool has been provided to convert all
   v3.6.0 databases to the correct, 8-byte aligned format used in all newer
-  versions. Please run cssconvert on all of your .css databases before 
-  turning on your new version of dspam.
+  versions. 
+  
+  The OpenBSD port of DSPAM 3.6.0 already used the correctly aligned format,
+  so that you don't need to run cssconvert before upgrading to 3.6.1 and later.
d15 2
a16 2
 UPGRADING FROM < 3.6.0
 ----------------------
@


1.1
log
@update to v3.6.1; contributed by Frank Denis
@
text
@d1 4
a4 4
$OpenBSD$
--- UPGRADING.orig	Tue Oct 25 14:32:09 2005
+++ UPGRADING	Tue Nov  8 23:44:49 2005
@@@@ -8,8 +8,10 @@@@ UPGRADING FROM < 3.6.1
@

