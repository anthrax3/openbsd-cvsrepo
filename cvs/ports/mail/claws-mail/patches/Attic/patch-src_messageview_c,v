head	1.5;
access;
symbols
	OPENBSD_5_8:1.4.0.6
	OPENBSD_5_8_BASE:1.4
	OPENBSD_5_7:1.4.0.2
	OPENBSD_5_7_BASE:1.4
	OPENBSD_5_6:1.3.0.2
	OPENBSD_5_6_BASE:1.3
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.1.0.6
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.4
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.5
date	2015.09.12.14.14.17;	author sthen;	state dead;
branches;
next	1.4;
commitid	T2m2Snx964xWJhWt;

1.4
date	2015.01.14.12.18.43;	author landry;	state Exp;
branches;
next	1.3;
commitid	9dscizohMcjzS98o;

1.3
date	2014.04.21.17.40.19;	author sthen;	state Exp;
branches;
next	1.2;

1.2
date	2013.09.25.08.03.16;	author landry;	state Exp;
branches;
next	1.1;

1.1
date	2012.06.29.14.02.54;	author landry;	state Exp;
branches;
next	;


desc
@@


1.5
log
@update to claws-mail-3.12.0, from Daniel Jakots who takes maintainer
@
text
@$OpenBSD: patch-src_messageview_c,v 1.4 2015/01/14 12:18:43 landry Exp $
http://www.thewildbeast.co.uk/claws-mail/bugzilla/show_bug.cgi?id=2640
--- src/messageview.c.orig	Mon Oct 27 19:58:12 2014
+++ src/messageview.c	Mon Jan 12 23:00:15 2015
@@@@ -1005,8 +1005,9 @@@@ static gint disposition_notification_send(MsgInfo *msg
 		extract_address(orig_to);
 	}
 	if (msginfo->subject && *(msginfo->subject)) {
-		enc_sub = g_malloc0(strlen(msginfo->subject)*8);
-		qp_encode_line(enc_sub, (const guchar *)msginfo->subject);
+		gint len = strlen(msginfo->subject);
+		enc_sub = g_malloc0(len*8);
+		qp_encode(TRUE, enc_sub, (const guchar *)msginfo->subject, len);
 		g_strstrip(enc_sub);
 	}
 	ok = fprintf(fp,"MIME-Version: 1.0\n"
@


1.4
log
@Update to claws-mail 3.11.1

See http://www.claws-mail.org/news.php for list of bugfixes.

Tested by Daniel Jakots and Benjamin Baier, thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-src_messageview_c,v 1.3 2014/04/21 17:40:19 sthen Exp $
@


1.3
log
@sync patches
@
text
@d1 1
a1 1
$OpenBSD: patch-src_messageview_c,v 1.2 2013/09/25 08:03:16 landry Exp $
d3 3
a5 3
--- src/messageview.c.orig	Sat Dec 14 10:15:01 2013
+++ src/messageview.c	Mon Apr 21 18:40:02 2014
@@@@ -1004,8 +1004,9 @@@@ static gint disposition_notification_send(MsgInfo *msg
@


1.2
log
@Update to claws-mail 3.9.2.

- all the plugins which were distributed separately are now bundled in.
- @@conflict/@@pkgpath markers added for upgrade path.
- add a pdfviewer plugin using poppler
- replace the dead gtkhtml2-based htmlviewer plugin by one using webkit.
- given the deps, pdfviewer and htmlviewer are subpackages.
- remove BDEP on libgcrypt, shouldnt be needed with gnutls >= 2.11.
- remove patches merged upstream.

From Ido Admon, thanks!
@
text
@d1 1
a1 1
$OpenBSD: patch-src_messageview_c,v 1.1 2012/06/29 14:02:54 landry Exp $
d3 3
a5 3
--- src/messageview.c.orig	Sat Apr 13 01:16:25 2013
+++ src/messageview.c	Sun Sep 22 23:00:22 2013
@@@@ -1026,8 +1026,9 @@@@ static gint disposition_notification_send(MsgInfo *msg
@


1.1
log
@Update to claws-mail 3.8.1 and plugins :

- attremover 1.0.14
- htmlviewer 0.32
- notification 0.30
- rssyl 0.33
- vcalendar 2.0.13

While here add patches for upstream bugs #2840, #2841 and #2842. Add
links to corresponding patches for tracking purposes.

All from Christopher Zimmermann, thanks!
@
text
@d1 1
a1 1
$OpenBSD$
d3 3
a5 3
--- src/messageview.c.orig	Wed Jun 27 11:05:23 2012
+++ src/messageview.c	Thu Jun 28 00:13:06 2012
@@@@ -988,8 +988,9 @@@@ static gint disposition_notification_send(MsgInfo *msg
@

