head	1.48;
access;
symbols
	OPENBSD_4_7:1.47.0.4
	OPENBSD_4_7_BASE:1.47
	OPENBSD_4_6:1.47.0.2
	OPENBSD_4_6_BASE:1.47
	OPENBSD_4_5:1.46.0.2
	OPENBSD_4_5_BASE:1.46
	OPENBSD_4_4:1.41.0.2
	OPENBSD_4_4_BASE:1.41
	OPENBSD_4_3:1.38.0.4
	OPENBSD_4_3_BASE:1.38
	OPENBSD_4_2:1.38.0.2
	OPENBSD_4_2_BASE:1.38
	OPENBSD_4_1:1.32.0.2
	OPENBSD_4_1_BASE:1.32
	OPENBSD_4_0:1.23.0.2
	OPENBSD_4_0_BASE:1.23
	OPENBSD_3_9:1.14.0.2
	OPENBSD_3_9_BASE:1.14
	OPENBSD_3_8:1.9.0.4
	OPENBSD_3_8_BASE:1.9
	OPENBSD_3_7:1.9.0.2
	OPENBSD_3_7_BASE:1.9
	OPENBSD_3_6:1.8.0.2
	OPENBSD_3_6_BASE:1.8
	OPENBSD_3_5:1.3.0.4
	OPENBSD_3_5_BASE:1.3
	OPENBSD_3_4:1.3.0.2
	OPENBSD_3_4_BASE:1.3
	jolan_2003-jul-14:1.1.1.1
	jolan:1.1.1;
locks; strict;
comment	@# @;


1.48
date	2010.03.23.21.32.07;	author pea;	state dead;
branches;
next	1.47;

1.47
date	2009.05.19.08.10.56;	author sthen;	state Exp;
branches;
next	1.46;

1.46
date	2009.01.26.14.47.02;	author sthen;	state Exp;
branches
	1.46.2.1;
next	1.45;

1.45
date	2009.01.08.12.07.03;	author sthen;	state Exp;
branches;
next	1.44;

1.44
date	2008.11.25.00.44.58;	author brad;	state Exp;
branches;
next	1.43;

1.43
date	2008.08.23.20.13.39;	author brad;	state Exp;
branches;
next	1.42;

1.42
date	2008.08.20.02.07.04;	author brad;	state Exp;
branches;
next	1.41;

1.41
date	2008.06.03.00.16.51;	author sthen;	state Exp;
branches;
next	1.40;

1.40
date	2008.05.28.23.08.03;	author sthen;	state Exp;
branches;
next	1.39;

1.39
date	2008.03.16.18.46.14;	author brad;	state Exp;
branches;
next	1.38;

1.38
date	2007.07.16.07.09.59;	author jakob;	state Exp;
branches;
next	1.37;

1.37
date	2007.06.19.19.18.49;	author jakob;	state Exp;
branches;
next	1.36;

1.36
date	2007.04.11.20.28.15;	author jakob;	state Exp;
branches;
next	1.35;

1.35
date	2007.03.24.07.29.01;	author jakob;	state Exp;
branches;
next	1.34;

1.34
date	2007.03.21.22.43.49;	author msf;	state Exp;
branches;
next	1.33;

1.33
date	2007.03.15.23.20.54;	author jakob;	state Exp;
branches;
next	1.32;

1.32
date	2007.02.03.08.19.18;	author jakob;	state Exp;
branches
	1.32.2.1;
next	1.31;

1.31
date	2007.01.25.07.48.39;	author jakob;	state Exp;
branches;
next	1.30;

1.30
date	2007.01.15.08.12.40;	author jakob;	state Exp;
branches;
next	1.29;

1.29
date	2006.11.11.06.25.40;	author brad;	state Exp;
branches;
next	1.28;

1.28
date	2006.11.05.05.02.38;	author brad;	state Exp;
branches;
next	1.27;

1.27
date	2006.10.23.18.23.12;	author brad;	state Exp;
branches;
next	1.26;

1.26
date	2006.10.14.01.41.19;	author brad;	state Exp;
branches;
next	1.25;

1.25
date	2006.10.09.19.26.53;	author brad;	state Exp;
branches;
next	1.24;

1.24
date	2006.09.18.05.04.28;	author brad;	state Exp;
branches;
next	1.23;

1.23
date	2006.08.06.19.57.08;	author sturm;	state Exp;
branches
	1.23.2.1;
next	1.22;

1.22
date	2006.08.06.19.48.36;	author brad;	state Exp;
branches;
next	1.21;

1.21
date	2006.07.29.00.27.35;	author brad;	state Exp;
branches;
next	1.20;

1.20
date	2006.07.16.02.43.08;	author brad;	state Exp;
branches;
next	1.19;

1.19
date	2006.06.19.11.49.08;	author bernd;	state Exp;
branches;
next	1.18;

1.18
date	2006.06.16.21.03.44;	author brad;	state Exp;
branches;
next	1.17;

1.17
date	2006.05.12.19.10.11;	author brad;	state Exp;
branches;
next	1.16;

1.16
date	2006.04.12.16.32.11;	author brad;	state Exp;
branches;
next	1.15;

1.15
date	2006.04.02.18.45.01;	author brad;	state Exp;
branches;
next	1.14;

1.14
date	2006.01.23.20.33.40;	author brad;	state Exp;
branches
	1.14.2.1;
next	1.13;

1.13
date	2006.01.20.02.04.19;	author brad;	state Exp;
branches;
next	1.12;

1.12
date	2006.01.16.21.32.59;	author brad;	state Exp;
branches;
next	1.11;

1.11
date	2005.10.20.18.28.48;	author brad;	state Exp;
branches;
next	1.10;

1.10
date	2005.09.04.18.22.30;	author brad;	state Exp;
branches;
next	1.9;

1.9
date	2005.02.12.12.17.07;	author brad;	state Exp;
branches;
next	1.8;

1.8
date	2004.07.21.14.19.19;	author brad;	state Exp;
branches;
next	1.7;

1.7
date	2004.06.25.17.41.59;	author brad;	state Exp;
branches;
next	1.6;

1.6
date	2004.06.22.21.05.20;	author brad;	state Exp;
branches;
next	1.5;

1.5
date	2004.05.27.16.38.30;	author brad;	state Exp;
branches;
next	1.4;

1.4
date	2004.05.10.00.06.47;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2003.08.30.00.11.31;	author jolan;	state Exp;
branches
	1.3.2.1
	1.3.4.1;
next	1.2;

1.2
date	2003.07.23.06.03.01;	author jolan;	state Exp;
branches;
next	1.1;

1.1
date	2003.07.14.23.44.28;	author jolan;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	2003.07.14.23.44.28;	author jolan;	state Exp;
branches;
next	;

1.3.2.1
date	2004.05.28.21.23.21;	author brad;	state Exp;
branches;
next	;

1.3.4.1
date	2004.05.28.20.46.46;	author brad;	state Exp;
branches;
next	;

1.14.2.1
date	2006.06.09.05.51.01;	author sturm;	state Exp;
branches;
next	1.14.2.2;

1.14.2.2
date	2006.12.05.22.52.23;	author sturm;	state Exp;
branches;
next	1.14.2.3;

1.14.2.3
date	2007.05.01.11.22.12;	author sturm;	state Exp;
branches;
next	;

1.23.2.1
date	2006.12.05.22.23.02;	author sturm;	state Exp;
branches;
next	1.23.2.2;

1.23.2.2
date	2007.05.01.11.49.49;	author sturm;	state Exp;
branches;
next	1.23.2.3;

1.23.2.3
date	2007.07.26.20.16.33;	author ajacoutot;	state Exp;
branches;
next	;

1.32.2.1
date	2007.05.01.17.50.58;	author sturm;	state Exp;
branches;
next	1.32.2.2;

1.32.2.2
date	2007.07.26.20.19.18;	author ajacoutot;	state Exp;
branches;
next	;

1.46.2.1
date	2009.09.23.03.37.03;	author william;	state Exp;
branches;
next	;


desc
@@


1.48
log
@MAJOR update to Dovecot 1.2.11
The old cmusieve is removed in favor of the new sieve implementation.
Be very careful when upgrading.
Small howto here: http://openbsd.raveland.org/ports/dovecot/UPGRADE_HOWTO

With tweaks from brad (maintainer) and sthen@@: thanks
Lot of tests from Robert (robert at openbsd.pap.st), thanks !


ok brad (maintainer), sthen@@
@
text
@$OpenBSD: patch-dovecot-example_conf,v 1.47 2009/05/19 08:10:56 sthen Exp $
--- dovecot-example.conf.orig	Wed May 13 12:41:46 2009
+++ dovecot-example.conf	Mon May 18 05:51:18 2009
@@@@ -12,12 +12,11 @@@@
 # Default values are shown for each setting, it's not required to uncomment
 # those. These are exceptions to this though: No sections (e.g. namespace {})
 # or plugin settings are added by default, they're listed only as examples.
-# Paths are also just examples with the real defaults being based on configure
-# options. The paths listed here are for configure --prefix=/usr
-# --sysconfdir=/etc --localstatedir=/var --with-ssldir=/etc/ssl
 
+# *** NOTE *** Some values HAVE been changed for OpenBSD use.
+
 # Base directory where to store runtime data.
-#base_dir = /var/run/dovecot/
+base_dir = /var/dovecot/
 
 # Protocols we want to be serving: imap imaps pop3 pop3s
 # If you only want to use dovecot-auth, you can set this to "none".
@@@@ -39,13 +38,13 @@@@
 #     listen = *:10100
 #     ..
 #   }
-#listen = *
+listen = *, [::]
 
 # Disable LOGIN command and all other plaintext authentications unless
 # SSL/TLS is used (LOGINDISABLED capability). Note that if the remote IP
 # matches the local IP (ie. you're connecting from the same computer), the
 # connection is considered secure and plaintext authentication is allowed.
-#disable_plaintext_auth = yes
+disable_plaintext_auth = yes
 
 # Should all IMAP and POP3 processes be killed when Dovecot master process
 # shuts down. Setting this to "no" means that Dovecot can be upgraded without
@@@@ -92,7 +91,7 @@@@
 # dropping root privileges, so keep the key file unreadable by anyone but
 # root. Included doc/mkcert.sh can be used to easily generate self-signed
 # certificate, just make sure to update the domains in dovecot-openssl.cnf
-#ssl_cert_file = /etc/ssl/certs/dovecot.pem
+ssl_cert_file = /etc/ssl/dovecotcert.pem
 #ssl_key_file = /etc/ssl/private/dovecot.pem
 
 # If key file is password protected, give the password here. Alternatively
@@@@ -136,7 +135,7 @@@@
 # which login needs to be able to connect to. The sockets are created when
 # running as root, so you don't have to worry about permissions. Note that
 # everything in this directory is deleted when Dovecot is started.
-#login_dir = /var/run/dovecot/login
+login_dir = /var/dovecot/login
 
 # chroot login process to the login_dir. Only reason not to do this is if you
 # wish to run the whole Dovecot without roots. <doc/wiki/Rootless.txt>
@@@@ -146,7 +145,7 @@@@
 # and don't use it anywhere else. The user must also belong to a group where
 # only it has access, it's used to control access for authentication process.
 # Note that this user is NOT used to access mails. <doc/wiki/UserIds.txt>
-#login_user = dovecot
+login_user = _dovecot
 
 # Set max. process size in megabytes. If you don't use
 # login_process_per_connection you might need to grow this.
@@@@ -307,8 +306,9 @@@@
 #mail_log_max_lines_per_sec = 10
 
 # Don't use mmap() at all. This is required if you store indexes to shared
-# filesystems (NFS or clustered filesystem).
-#mmap_disable = no
+# filesystems (NFS or clustered filesystem) or for some operating systems
+# which use a separate cache for mmap, such as OpenBSD.
+mmap_disable = yes
 
 # Rely on O_EXCL to work when creating dotlock files. NFS supports O_EXCL
 # since version 3, so this should be safe to use nowadays by default.
@@@@ -449,7 +449,7 @@@@
 # locking methods as well. Some operating systems don't allow using some of
 # them simultaneously.
 #mbox_read_locks = fcntl
-#mbox_write_locks = dotlock fcntl
+mbox_write_locks = fcntl
 
 # Maximum time in seconds to wait for lock (all of them) before aborting.
 #mbox_lock_timeout = 300
@@@@ -504,19 +504,19 @@@@
 
 protocol imap {
   # Login executable location.
-  #login_executable = /usr/libexec/dovecot/imap-login
+  #login_executable = ${PREFIX}/libexec/dovecot/imap-login
 
   # IMAP executable location. Changing this allows you to execute other
   # binaries before the imap process is executed.
   #
   # This would write rawlogs into ~/dovecot.rawlog/ directory:
-  #   mail_executable = /usr/libexec/dovecot/rawlog /usr/libexec/dovecot/imap
+  #   mail_executable = ${PREFIX}/libexec/dovecot/rawlog ${PREFIX}/libexec/dovecot/imap
   #
   # This would attach gdb into the imap process and write backtraces into
   # /tmp/gdbhelper.* files:
-  #   mail_executable = /usr/libexec/dovecot/gdbhelper /usr/libexec/dovecot/imap
+  #   mail_executable = ${PREFIX}/libexec/dovecot/gdbhelper ${PREFIX}/libexec/dovecot/imap
   #
-  #mail_executable = /usr/libexec/dovecot/imap
+  #mail_executable = ${PREFIX}/libexec/dovecot/imap
 
   # Maximum IMAP command line length in bytes. Some clients generate very long
   # command lines with huge mailboxes, so you may need to raise this if you get
@@@@ -530,7 +530,7 @@@@ protocol imap {
   # Support for dynamically loadable plugins. mail_plugins is a space separated
   # list of plugins to load.
   #mail_plugins = 
-  #mail_plugin_dir = /usr/lib/dovecot/imap
+  #mail_plugin_dir = ${PREFIX}/lib/dovecot/imap
 
   # Send IMAP capabilities in greeting message. This makes it unnecessary for
   # clients to request it with CAPABILITY command, so it saves one round-trip.
@@@@ -564,7 +564,7 @@@@ protocol imap {
   #     but not both. Thunderbird separates these two by forcing server to
   #     accept '/' suffix in mailbox names in subscriptions list.
   # The list is space-separated.
-  #imap_client_workarounds = 
+  imap_client_workarounds = delay-newmail netscape-eoh tb-extra-mailbox-sep
 }
   
 ##
@@@@ -573,11 +573,11 @@@@ protocol imap {
 
 protocol pop3 {
   # Login executable location.
-  #login_executable = /usr/libexec/dovecot/pop3-login
+  #login_executable = ${PREFIX}/libexec/dovecot/pop3-login
 
   # POP3 executable location. See IMAP's mail_executable above for examples
   # how this could be changed.
-  #mail_executable = /usr/libexec/dovecot/pop3
+  #mail_executable = ${PREFIX}/libexec/dovecot/pop3
 
   # Don't try to set mails non-recent or seen with POP3 sessions. This is
   # mostly intended to reduce disk I/O. With maildir it doesn't move files
@@@@ -637,7 +637,7 @@@@ protocol pop3 {
   # Support for dynamically loadable plugins. mail_plugins is a space separated
   # list of plugins to load.
   #mail_plugins = 
-  #mail_plugin_dir = /usr/lib/dovecot/pop3
+  #mail_plugin_dir = ${PREFIX}/lib/dovecot/pop3
 
   # Workarounds for various client bugs:
   #   outlook-no-nuls:
@@@@ -647,7 +647,7 @@@@ protocol pop3 {
   #     Outlook Express and Netscape Mail breaks if end of headers-line is
   #     missing. This option simply sends it if it's missing.
   # The list is space-separated.
-  #pop3_client_workarounds = 
+  pop3_client_workarounds = outlook-no-nuls oe-ns-eoh
 }
 
 ##
@@@@ -665,7 +665,7 @@@@ protocol lda {
   # Support for dynamically loadable plugins. mail_plugins is a space separated
   # list of plugins to load.
   #mail_plugins = 
-  #mail_plugin_dir = /usr/lib/dovecot/lda
+  #mail_plugin_dir = ${PREFIX}/lib/dovecot/lda
 
   # If user is over quota, return with temporary failure instead of
   # bouncing the mail.
@@@@ -679,7 +679,7 @@@@ protocol lda {
   #deliver_log_format = msgid=%m: %$
 
   # Binary to use for sending mails.
-  #sendmail_path = /usr/lib/sendmail
+  #sendmail_path = /usr/sbin/sendmail
 
   # Subject: header to use for rejection mails. You can use the same variables
   # as for rejection_reason below.
@@@@ -698,7 +698,7 @@@@ protocol lda {
 ##
 
 # Executable location
-#auth_executable = /usr/libexec/dovecot/dovecot-auth
+#auth_executable = ${PREFIX}/libexec/dovecot/dovecot-auth
 
 # Set max. process size in megabytes.
 #auth_process_size = 256
@@@@ -831,7 +831,7 @@@@ auth default {
   # database (passwd usually), you can use static userdb.
   # REMEMBER: You'll need /etc/pam.d/dovecot file created for PAM
   # authentication to actually work. <doc/wiki/PasswordDatabase.PAM.txt>
-  passdb pam {
+  #passdb pam {
     # [session=yes] [setcred=yes] [failure_show_msg=yes]
     # [cache_key=<key>] [<service name>]
     #
@@@@ -860,7 +860,7 @@@@ auth default {
     #   args = session=yes %Ls
     #   args = cache_key=%u dovecot
     #args = dovecot
-  }
+  #}
 
   # System users (NSS, /etc/passwd, or similiar)
   # In many systems nowadays this uses Name Service Switch, which is
@@@@ -880,10 +880,10 @@@@ auth default {
 
   # PAM-like authentication for OpenBSD.
   # <doc/wiki/PasswordDatabase.BSDAuth.txt>
-  #passdb bsdauth {
+  passdb bsdauth {
     # [cache_key=<key>] - See cache_key in PAM for explanation.
     #args =
-  #}
+  }
 
   # passwd-like file with specified location
   # <doc/wiki/AuthDatabase.PasswdFile.txt>
@


1.47
log
@maintenance update to 1.1.15, from Brad.
@
text
@d1 1
a1 1
$OpenBSD: patch-dovecot-example_conf,v 1.46 2009/01/26 14:47:02 sthen Exp $
@


1.46
log
@update to 1.1.9 and add a flavour add bdb dictionary support (allows
the expire plugin to work without a SQL database). From Brad (maintainer),
diff for bdb support from Michael Lechtermann.
@
text
@d1 4
a4 6
$OpenBSD: patch-dovecot-example_conf,v 1.45 2009/01/08 12:07:03 sthen Exp $
--- dovecot-example.conf.orig	Tue Jan 13 16:51:40 2009
+++ dovecot-example.conf	Fri Jan 16 14:55:17 2009
@@@@ -10,13 +10,12 @@@@
 # value inside quotes, eg.: key = "# char and trailing whitespace  "
 
d6 5
a10 5
-# any of the lines. Exception to this are paths, they're just examples with
-# the real defaults being based on configure options. The paths listed here
-# are for configure --prefix=/usr --sysconfdir=/etc --localstatedir=/var
-# --with-ssldir=/etc/ssl
+# any of the lines.
d20 1
a20 1
@@@@ -38,13 +37,13 @@@@
d36 1
a36 1
@@@@ -91,7 +90,7 @@@@
d45 1
a45 1
@@@@ -135,7 +134,7 @@@@
d54 1
a54 1
@@@@ -145,7 +144,7 @@@@
d63 1
a63 1
@@@@ -306,8 +305,9 @@@@
d75 1
a75 1
@@@@ -448,7 +448,7 @@@@
d84 1
a84 1
@@@@ -503,19 +503,19 @@@@
d108 1
a108 1
@@@@ -529,7 +529,7 @@@@ protocol imap {
d117 1
a117 1
@@@@ -563,7 +563,7 @@@@ protocol imap {
d126 1
a126 1
@@@@ -572,11 +572,11 @@@@ protocol imap {
d140 1
a140 1
@@@@ -636,7 +636,7 @@@@ protocol pop3 {
d149 1
a149 1
@@@@ -646,7 +646,7 @@@@ protocol pop3 {
d158 1
a158 1
@@@@ -664,7 +664,7 @@@@ protocol lda {
d167 1
a167 1
@@@@ -678,7 +678,7 @@@@ protocol lda {
d176 1
a176 1
@@@@ -697,7 +697,7 @@@@ protocol lda {
d185 1
a185 1
@@@@ -830,7 +830,7 @@@@ auth default {
d194 1
a194 1
@@@@ -859,7 +859,7 @@@@ auth default {
d203 1
a203 1
@@@@ -879,10 +879,10 @@@@ auth default {
@


1.46.2.1
log
@MFC:

- SECURITY update of dovecot-sieve (based on the Cyrus sieve library)
- bugfix update of dovecot

originally from brad@@, -stable diff partly from sthen@@, thanks!

ok brad@@ (MAINTAINER)
@
text
@d1 6
a6 4
$OpenBSD: patch-dovecot-example_conf,v 1.47 2009/05/19 08:10:56 sthen Exp $
--- dovecot-example.conf.orig	Wed May 13 12:41:46 2009
+++ dovecot-example.conf	Mon May 18 05:51:18 2009
@@@@ -12,12 +12,11 @@@@
d8 5
a12 5
 # those. These are exceptions to this though: No sections (e.g. namespace {})
 # or plugin settings are added by default, they're listed only as examples.
-# Paths are also just examples with the real defaults being based on configure
-# options. The paths listed here are for configure --prefix=/usr
-# --sysconfdir=/etc --localstatedir=/var --with-ssldir=/etc/ssl
d22 1
a22 1
@@@@ -39,13 +38,13 @@@@
d38 1
a38 1
@@@@ -92,7 +91,7 @@@@
d47 1
a47 1
@@@@ -136,7 +135,7 @@@@
d56 1
a56 1
@@@@ -146,7 +145,7 @@@@
d65 1
a65 1
@@@@ -307,8 +306,9 @@@@
d77 1
a77 1
@@@@ -449,7 +449,7 @@@@
d86 1
a86 1
@@@@ -504,19 +504,19 @@@@
d110 1
a110 1
@@@@ -530,7 +530,7 @@@@ protocol imap {
d119 1
a119 1
@@@@ -564,7 +564,7 @@@@ protocol imap {
d128 1
a128 1
@@@@ -573,11 +573,11 @@@@ protocol imap {
d142 1
a142 1
@@@@ -637,7 +637,7 @@@@ protocol pop3 {
d151 1
a151 1
@@@@ -647,7 +647,7 @@@@ protocol pop3 {
d160 1
a160 1
@@@@ -665,7 +665,7 @@@@ protocol lda {
d169 1
a169 1
@@@@ -679,7 +679,7 @@@@ protocol lda {
d178 1
a178 1
@@@@ -698,7 +698,7 @@@@ protocol lda {
d187 1
a187 1
@@@@ -831,7 +831,7 @@@@ auth default {
d196 1
a196 1
@@@@ -860,7 +860,7 @@@@ auth default {
d205 1
a205 1
@@@@ -880,10 +880,10 @@@@ auth default {
@


1.45
log
@bugfix updates to 1.1.8 (Dovecot) and 1.1.6 (dovecot-sieve), from
Brad (maintainer).
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.44 2008/11/25 00:44:58 brad Exp $
--- dovecot-example.conf.orig	Mon Jan  5 15:49:58 2009
+++ dovecot-example.conf	Wed Jan  7 16:14:02 2009
d176 3
a178 3
   # Human readable error message for rejection mails. Use can use variables:
   #  %n = CRLF, %r = reason, %s = subject, %t = recipient
@@@@ -693,7 +693,7 @@@@ protocol lda {
d187 1
a187 1
@@@@ -826,7 +826,7 @@@@ auth default {
d196 1
a196 1
@@@@ -855,7 +855,7 @@@@ auth default {
d205 1
a205 1
@@@@ -875,10 +875,10 @@@@ auth default {
@


1.44
log
@Update to Dovecot 1.1.7; A bug fix release.

ok sthen@@
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.43 2008/08/23 20:13:39 brad Exp $
--- dovecot-example.conf.orig	Sun Nov 23 16:53:53 2008
+++ dovecot-example.conf	Sun Nov 23 18:26:49 2008
d38 1
a38 1
@@@@ -90,7 +89,7 @@@@
d47 1
a47 1
@@@@ -134,7 +133,7 @@@@
d56 1
a56 1
@@@@ -144,7 +143,7 @@@@
d65 1
a65 1
@@@@ -307,8 +306,9 @@@@
d77 1
a77 1
@@@@ -449,7 +449,7 @@@@
d86 1
a86 1
@@@@ -504,19 +504,19 @@@@
d110 1
a110 1
@@@@ -530,7 +530,7 @@@@ protocol imap {
d119 1
a119 1
@@@@ -564,7 +564,7 @@@@ protocol imap {
d128 1
a128 1
@@@@ -573,11 +573,11 @@@@ protocol imap {
d142 1
a142 1
@@@@ -637,7 +637,7 @@@@ protocol pop3 {
d151 1
a151 1
@@@@ -647,7 +647,7 @@@@ protocol pop3 {
d160 1
a160 1
@@@@ -665,7 +665,7 @@@@ protocol lda {
d169 1
a169 1
@@@@ -679,7 +679,7 @@@@ protocol lda {
d178 1
a178 1
@@@@ -694,7 +694,7 @@@@ protocol lda {
d187 1
a187 1
@@@@ -827,7 +827,7 @@@@ auth default {
d196 1
a196 1
@@@@ -856,7 +856,7 @@@@ auth default {
d205 1
a205 1
@@@@ -876,10 +876,10 @@@@ auth default {
@


1.43
log
@Add missing PREFIX marker to an example plugins path for LDA.

From Ingo Schwarze <schwarze at usta dot de>
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.42 2008/08/20 02:07:04 brad Exp $
--- dovecot-example.conf.orig	Fri Jul 11 19:14:14 2008
+++ dovecot-example.conf	Sat Aug 23 16:09:00 2008
d47 1
a47 1
@@@@ -132,7 +131,7 @@@@
d56 1
a56 1
@@@@ -142,7 +141,7 @@@@
d65 1
a65 1
@@@@ -305,8 +304,9 @@@@
d77 1
a77 1
@@@@ -447,7 +447,7 @@@@
d86 1
a86 1
@@@@ -502,19 +502,19 @@@@
d110 1
a110 1
@@@@ -528,7 +528,7 @@@@ protocol imap {
d119 1
a119 1
@@@@ -562,7 +562,7 @@@@ protocol imap {
d128 1
a128 1
@@@@ -571,11 +571,11 @@@@ protocol imap {
d142 1
a142 1
@@@@ -635,7 +635,7 @@@@ protocol pop3 {
d151 1
a151 1
@@@@ -645,7 +645,7 @@@@ protocol pop3 {
d160 1
a160 1
@@@@ -663,7 +663,7 @@@@ protocol lda {
d169 1
a169 1
@@@@ -677,7 +677,7 @@@@ protocol lda {
d178 1
a178 1
@@@@ -692,7 +692,7 @@@@ protocol lda {
d187 1
a187 1
@@@@ -825,7 +825,7 @@@@ auth default {
d196 1
a196 1
@@@@ -854,7 +854,7 @@@@ auth default {
d205 1
a205 1
@@@@ -874,10 +874,10 @@@@ auth default {
@


1.42
log
@Upgrade to Dovecot 1.1.2.

ok jakob@@
@
text
@d1 1
a1 1
$OpenBSD: patch-dovecot-example_conf,v 1.41 2008/06/03 00:16:51 sthen Exp $
d3 1
a3 1
+++ dovecot-example.conf	Mon Jul 28 09:16:14 2008
d160 9
@


1.41
log
@Maintenance update, recent patches are now rolled into the
distfile from upstream.  From Brad.
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.40 2008/05/28 23:08:03 sthen Exp $
--- dovecot-example.conf.orig	Tue May 27 07:48:26 2008
+++ dovecot-example.conf	Mon Jun  2 16:52:45 2008
d22 8
a29 1
@@@@ -45,7 +44,7 @@@@
d38 1
a38 1
@@@@ -91,7 +90,7 @@@@
d47 1
a47 1
@@@@ -128,7 +127,7 @@@@
d56 1
a56 1
@@@@ -138,7 +137,7 @@@@
d65 2
a66 1
@@@@ -293,7 +292,7 @@@@
d68 10
a77 8
 # Don't write() to mmaped files. This is required for some operating systems
 # which use separate caches for them, such as OpenBSD.
-#mmap_no_write = no
+mmap_no_write = yes
 
 # Rely on O_EXCL to work when creating dotlock files. The default is to use
 # hard linking. O_EXCL makes the dotlocking faster, but it doesn't always
@@@@ -451,7 +450,7 @@@@
d86 1
a86 1
@@@@ -506,19 +505,19 @@@@
d91 1
a91 1
+  #login_executable = _PREFIX_/libexec/dovecot/imap-login
d98 1
a98 1
+  #   mail_executable = _PREFIX_/libexec/dovecot/rawlog _PREFIX_/libexec/dovecot/imap
d103 1
a103 1
+  #   mail_executable = _PREFIX_/libexec/dovecot/gdbhelper _PREFIX_/libexec/dovecot/imap
d106 1
a106 1
+  #mail_executable = _PREFIX_/libexec/dovecot/imap
d110 1
a110 1
@@@@ -528,7 +527,7 @@@@ protocol imap {
d115 1
a115 1
+  #mail_plugin_dir = _PREFIX_/lib/dovecot/imap
d119 1
a119 1
@@@@ -562,7 +561,7 @@@@ protocol imap {
d123 2
a124 2
-  #imap_client_workarounds = outlook-idle
+  imap_client_workarounds = delay-newmail outlook-idle netscape-eoh tb-extra-mailbox-sep
d128 1
a128 1
@@@@ -571,11 +570,11 @@@@ protocol imap {
d133 1
a133 1
+  #login_executable = _PREFIX_/libexec/dovecot/pop3-login
d138 1
a138 1
+  #mail_executable = _PREFIX_/libexec/dovecot/pop3
d142 1
a142 10
@@@@ -620,7 +619,7 @@@@ protocol pop3 {
   # installations. %08Xu%08Xv will be the new default, so use it for new
   # installations.
   #
-  #pop3_uidl_format = 
+  pop3_uidl_format = %08Xu%08Xv
 
   # POP3 logout format string:
   #  %t - number of TOP commands
@@@@ -635,7 +634,7 @@@@ protocol pop3 {
d147 1
a147 1
+  #mail_plugin_dir = _PREFIX_/lib/dovecot/pop3
d151 1
a151 1
@@@@ -645,7 +644,7 @@@@ protocol pop3 {
d160 2
a161 6
@@@@ -663,10 +662,10 @@@@ protocol lda {
   # Support for dynamically loadable plugins. mail_plugins is a space separated
   # list of plugins to load.
   #mail_plugins = 
-  #mail_plugin_dir = /usr/lib/dovecot/lda
+  #mail_plugin_dir = _PREFIX_/lib/dovecot/lda
d167 3
a169 3
   # UNIX socket path to master authentication server to find users.
   #auth_socket_path = /var/run/dovecot/auth-master
@@@@ -677,7 +676,7 @@@@ protocol lda {
d174 1
a174 1
+#auth_executable = _PREFIX_/libexec/dovecot/dovecot-auth
d178 1
a178 1
@@@@ -793,7 +792,7 @@@@ auth default {
d184 1
a184 1
     # [blocking=yes] [session=yes] [setcred=yes]
d187 2
a188 2
@@@@ -826,7 +825,7 @@@@ auth default {
     #   args = session=yes *
d196 1
a196 1
@@@@ -846,10 +845,10 @@@@ auth default {
@


1.40
log
@Add fix from upstream repo, "mbox: If INBOX creation fails because
of EACCES, try with privileged group enabled."

http://hg.dovecot.org/dovecot-1.0/rev/932768a879c6
From Brad.
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.39 2008/03/16 18:46:14 brad Exp $
--- dovecot-example.conf.orig	Tue Mar  4 00:48:12 2008
+++ dovecot-example.conf	Tue May 27 19:46:09 2008
a57 9
@@@@ -253,7 +252,7 @@@@
 #}
 
 # Group to enable temporarily for privileged operations. Currently this is
-# used only for creating mbox dotlock files when creation fails for INBOX.
+# used only with INBOX when either its initial creation or dotlocking fails.
 # Typically this is set to "mail" to give access to /var/mail.
 #mail_privileged_group =
 
@


1.39
log
@upgrade to Dovecot 1.0.13. security and bug fix update.

looks good jasper@@
@
text
@d1 1
a1 1
$OpenBSD: patch-dovecot-example_conf,v 1.38 2007/07/16 07:09:59 jakob Exp $
d3 1
a3 1
+++ dovecot-example.conf	Tue Mar  4 01:43:48 2008
d58 9
@


1.38
log
@upgrade to v1.0.2, bugfix release; from brad@@
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.37 2007/06/19 19:18:49 jakob Exp $
--- dovecot-example.conf.orig	Thu Jun 28 16:18:07 2007
+++ dovecot-example.conf	Sun Jul 15 09:47:59 2007
d58 1
a58 1
@@@@ -285,7 +284,7 @@@@
d67 1
a67 1
@@@@ -443,7 +442,7 @@@@
d76 1
a76 1
@@@@ -498,19 +497,19 @@@@
d100 1
a100 1
@@@@ -520,7 +519,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -554,7 +553,7 @@@@ protocol imap {
d118 1
a118 1
@@@@ -563,11 +562,11 @@@@ protocol imap {
d132 1
a132 1
@@@@ -612,7 +611,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -627,7 +626,7 @@@@ protocol pop3 {
d150 1
a150 1
@@@@ -637,7 +636,7 @@@@ protocol pop3 {
d159 1
a159 1
@@@@ -655,10 +654,10 @@@@ protocol lda {
d172 1
a172 1
@@@@ -669,7 +668,7 @@@@ protocol lda {
d181 1
a181 1
@@@@ -785,7 +784,7 @@@@ auth default {
d190 1
a190 1
@@@@ -818,7 +817,7 @@@@ auth default {
d199 1
a199 1
@@@@ -838,10 +837,10 @@@@ auth default {
@


1.37
log
@update to Dovecot 1.0.1, a bug fix release. from brad@@
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.36 2007/04/11 20:28:15 jakob Exp $
--- dovecot-example.conf.orig	Wed Jun 13 02:47:39 2007
+++ dovecot-example.conf	Tue Jun 19 21:03:10 2007
d100 9
d141 9
d159 13
@


1.36
log
@dovecot 1.0rc31; from brad@@
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.35 2007/03/24 07:29:01 jakob Exp $
--- dovecot-example.conf.orig	Fri Mar 30 13:36:18 2007
+++ dovecot-example.conf	Wed Apr 11 22:10:52 2007
d150 1
a150 1
@@@@ -784,7 +783,7 @@@@ auth default {
d159 1
a159 1
@@@@ -817,7 +816,7 @@@@ auth default {
d166 1
a166 1
   # /etc/passwd or similar, using getpwnam()
d168 1
a168 1
@@@@ -836,10 +835,10 @@@@ auth default {
@


1.35
log
@dovecot 1.0 rc 28; from brad@@
@
text
@d1 4
a4 4
$OpenBSD: patch-dovecot-example_conf,v 1.34 2007/03/21 22:43:49 msf Exp $
--- dovecot-example.conf.orig	Fri Mar 23 01:00:54 2007
+++ dovecot-example.conf	Sat Mar 24 03:35:17 2007
@@@@ -7,13 +7,12 @@@@
d22 1
a22 1
@@@@ -42,7 +41,7 @@@@
d31 1
a31 1
@@@@ -88,7 +87,7 @@@@
d40 1
a40 1
@@@@ -125,7 +124,7 @@@@
d48 3
a50 2
 # wish to run the whole Dovecot without roots.
@@@@ -137,7 +136,7 @@@@
d52 1
a52 2
 # Note that this user is NOT used to access mails.
 # http://wiki.dovecot.org/UserIds
d58 1
a58 1
@@@@ -282,7 +281,7 @@@@
d67 1
a67 1
@@@@ -442,7 +441,7 @@@@
d76 1
a76 1
@@@@ -497,19 +496,19 @@@@
d100 1
a100 1
@@@@ -553,7 +552,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -562,11 +561,11 @@@@ protocol imap {
d123 1
a123 1
@@@@ -611,7 +610,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -636,7 +635,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -668,7 +667,7 @@@@ protocol lda {
d150 2
a151 1
@@@@ -782,7 +781,7 @@@@ auth default {
d153 1
a153 2
   # authentication to actually work.
   # http://wiki.dovecot.org/PasswordDatabase/PAM
d159 1
a159 1
@@@@ -815,16 +814,16 @@@@ auth default {
d168 8
a175 6
   # configured in /etc/nsswitch.conf.
   # http://wiki.dovecot.org/AuthDatabase/Passwd
-  #passdb passwd {
+  passdb passwd {
     # [blocking=yes] - See userdb passwd for explanation
     #args = 
d179 2
a180 2
   # /etc/shadow or similiar, using getspnam(). Deprecated by PAM nowadays.
   # http://wiki.dovecot.org/PasswordDatabase/Shadow
@


1.34
log
@make dovecot-example_conf respect PREFIX again. broken many many moons ago.

ok maintainer
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.33 2007/03/15 23:20:54 jakob Exp $
--- dovecot-example.conf.orig	Sat Mar 10 21:45:40 2007
+++ dovecot-example.conf	Tue Mar 13 17:21:52 2007
d159 1
a159 1
@@@@ -815,18 +814,18 @@@@ auth default {
d172 1
a172 3
     # [blocking=yes] - By default the lookups are done in the main dovecot-auth
     # process. This setting causes the lookups to be done in auth worker
     # proceses. Useful with remote NSS lookups that may block.
@


1.33
log
@dovecot 1.0 rc 27; from brad@@
@
text
@d1 1
a1 1
$OpenBSD: patch-dovecot-example_conf,v 1.32 2007/02/03 08:19:18 jakob Exp $
d81 1
a81 1
+  #login_executable = /usr/local/libexec/dovecot/imap-login
d88 1
a88 1
+  #   mail_executable = /usr/local/libexec/dovecot/rawlog /usr/local/libexec/dovecot/imap
d93 1
a93 1
+  #   mail_executable = /usr/local/libexec/dovecot/gdbhelper /usr/local/libexec/dovecot/imap
d96 1
a96 1
+  #mail_executable = /usr/local/libexec/dovecot/imap
d114 1
a114 1
+  #login_executable = /usr/local/libexec/dovecot/pop3-login
d119 1
a119 1
+  #mail_executable = /usr/local/libexec/dovecot/pop3
d146 1
a146 1
+#auth_executable = /usr/local/libexec/dovecot/dovecot-auth
@


1.32
log
@dovecot 1.0.rc21 (from brad@@)
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.31 2007/01/25 07:48:39 jakob Exp $
--- dovecot-example.conf.orig	Fri Feb  2 12:17:48 2007
+++ dovecot-example.conf	Tue Jan 30 13:15:48 2007
d31 1
a31 1
@@@@ -87,7 +86,7 @@@@
d40 1
a40 1
@@@@ -121,7 +120,7 @@@@
d49 1
a49 1
@@@@ -133,7 +132,7 @@@@
d58 1
a58 1
@@@@ -278,7 +277,7 @@@@
d67 1
a67 1
@@@@ -431,7 +430,7 @@@@
d76 1
a76 1
@@@@ -486,19 +485,19 @@@@
d100 1
a100 1
@@@@ -542,7 +541,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -551,11 +550,11 @@@@ protocol imap {
d123 1
a123 1
@@@@ -600,7 +599,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -625,7 +624,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -657,7 +656,7 @@@@ protocol lda {
d150 1
a150 1
@@@@ -771,7 +770,7 @@@@ auth default {
d156 2
a157 1
     #  [session=yes] [setcred=yes] [cache_key=<key>] [<service name>]
d159 1
a159 2
     # session=yes makes Dovecot open and immediately close PAM session. Some
@@@@ -799,14 +798,14 @@@@ auth default {
d171 5
a176 1
+  passdb passwd {
@


1.32.2.1
log
@update to dovecot 1.0.0
many bug and some security fixes

from brad
@
text
@d1 4
a4 4
$OpenBSD: patch-dovecot-example_conf,v 1.32 2007/02/03 08:19:18 jakob Exp $
--- dovecot-example.conf.orig	Fri Mar 30 07:36:18 2007
+++ dovecot-example.conf	Fri Apr 13 17:54:07 2007
@@@@ -10,13 +10,12 @@@@
d22 1
a22 1
@@@@ -45,7 +44,7 @@@@
d31 1
a31 1
@@@@ -91,7 +90,7 @@@@
d40 1
a40 1
@@@@ -128,7 +127,7 @@@@
d48 2
a49 3
 # wish to run the whole Dovecot without roots. <doc/wiki/Rootless.txt>
@@@@ -138,7 +137,7 @@@@
 # and don't use it anywhere else. The user must also belong to a group where
d51 2
a52 1
 # Note that this user is NOT used to access mails. <doc/wiki/UserIds.txt>
d58 1
a58 1
@@@@ -285,7 +284,7 @@@@
d67 1
a67 1
@@@@ -443,7 +442,7 @@@@
d76 1
a76 1
@@@@ -498,19 +497,19 @@@@
d81 1
a81 1
+  #login_executable = _PREFIX_/libexec/dovecot/imap-login
d88 1
a88 1
+  #   mail_executable = _PREFIX_/libexec/dovecot/rawlog _PREFIX_/libexec/dovecot/imap
d93 1
a93 1
+  #   mail_executable = _PREFIX_/libexec/dovecot/gdbhelper _PREFIX_/libexec/dovecot/imap
d96 1
a96 1
+  #mail_executable = _PREFIX_/libexec/dovecot/imap
d100 1
a100 1
@@@@ -554,7 +553,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -563,11 +562,11 @@@@ protocol imap {
d114 1
a114 1
+  #login_executable = _PREFIX_/libexec/dovecot/pop3-login
d119 1
a119 1
+  #mail_executable = _PREFIX_/libexec/dovecot/pop3
d123 1
a123 1
@@@@ -612,7 +611,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -637,7 +636,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -669,7 +668,7 @@@@ protocol lda {
d146 1
a146 1
+#auth_executable = _PREFIX_/libexec/dovecot/dovecot-auth
d150 1
a150 2
@@@@ -784,7 +783,7 @@@@ auth default {
   # database (passwd usually), you can use static userdb.
d152 2
a153 1
   # authentication to actually work. <doc/wiki/PasswordDatabase.PAM.txt>
d156 1
a156 2
     # [blocking=yes] [session=yes] [setcred=yes]
     # [cache_key=<key>] [<service name>]
d158 2
a159 1
@@@@ -817,7 +816,7 @@@@ auth default {
d168 3
a170 8
@@@@ -836,10 +835,10 @@@@ auth default {
 
   # PAM-like authentication for OpenBSD.
   # <doc/wiki/PasswordDatabase.BSDAuth.txt>
-  #passdb bsdauth {
+  passdb bsdauth {
     # [cache_key=<key>] - See cache_key in PAM for explanation.
     #args =
d172 1
d175 2
a176 2
   # passwd-like file with specified location
   # <doc/wiki/AuthDatabase.PasswdFile.txt>
@


1.32.2.2
log
@MFC:
- upgrade dovecot-server to version 1.0.2 and dovecot-sieve to version 1.0.1 ;
fix several bugs

ok sturm@@
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.32.2.1 2007/05/01 17:50:58 sturm Exp $
--- dovecot-example.conf.orig	Thu Jun 28 16:18:07 2007
+++ dovecot-example.conf	Thu Jul 26 21:08:10 2007
a99 9
@@@@ -520,7 +519,7 @@@@ protocol imap {
   # Support for dynamically loadable plugins. mail_plugins is a space separated
   # list of plugins to load.
   #mail_plugins = 
-  #mail_plugin_dir = /usr/lib/dovecot/imap
+  #mail_plugin_dir = _PREFIX_/lib/dovecot/imap
 
   # Send IMAP capabilities in greeting message. This makes it unnecessary for
   # clients to request it with CAPABILITY command, so it saves one round-trip.
a131 9
@@@@ -627,7 +626,7 @@@@ protocol pop3 {
   # Support for dynamically loadable plugins. mail_plugins is a space separated
   # list of plugins to load.
   #mail_plugins = 
-  #mail_plugin_dir = /usr/lib/dovecot/pop3
+  #mail_plugin_dir = _PREFIX_/lib/dovecot/pop3
 
   # Workarounds for various client bugs:
   #   outlook-no-nuls:
a140 13
@@@@ -655,10 +654,10 @@@@ protocol lda {
   # Support for dynamically loadable plugins. mail_plugins is a space separated
   # list of plugins to load.
   #mail_plugins = 
-  #mail_plugin_dir = /usr/lib/dovecot/lda
+  #mail_plugin_dir = _PREFIX_/lib/dovecot/lda
 
   # Binary to use for sending mails.
-  #sendmail_path = /usr/lib/sendmail
+  #sendmail_path = /usr/sbin/sendmail
 
   # UNIX socket path to master authentication server to find users.
   #auth_socket_path = /var/run/dovecot/auth-master
d150 1
a150 1
@@@@ -785,7 +784,7 @@@@ auth default {
d159 1
a159 1
@@@@ -818,7 +817,7 @@@@ auth default {
d166 1
a166 1
   # System users (NSS, /etc/passwd, or similiar)
d168 1
a168 1
@@@@ -838,10 +837,10 @@@@ auth default {
@


1.31
log
@update to 1.0.rc19; from maintainer (brad@@)
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.30 2007/01/15 08:12:40 jakob Exp $
--- dovecot-example.conf.orig	Fri Jan 19 11:42:40 2007
+++ dovecot-example.conf	Mon Jan 22 14:34:11 2007
d58 1
a58 1
@@@@ -273,7 +272,7 @@@@
d67 1
a67 1
@@@@ -426,7 +425,7 @@@@
d76 1
a76 1
@@@@ -481,19 +480,19 @@@@
d100 1
a100 1
@@@@ -537,7 +536,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -546,11 +545,11 @@@@ protocol imap {
d123 1
a123 1
@@@@ -595,7 +594,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -620,7 +619,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -652,7 +651,7 @@@@ protocol lda {
d150 1
a150 1
@@@@ -766,7 +765,7 @@@@ auth default {
d159 1
a159 1
@@@@ -794,14 +793,14 @@@@ auth default {
@


1.30
log
@upgrade to dovecot 1.0.rc17; from brad@@
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.29 2006/11/11 06:25:40 brad Exp $
--- dovecot-example.conf.orig	Wed Jan  3 18:19:41 2007
+++ dovecot-example.conf	Thu Jan  4 18:57:18 2007
d58 1
a58 1
@@@@ -278,7 +277,7 @@@@
d67 1
a67 1
@@@@ -434,7 +433,7 @@@@
d76 1
a76 1
@@@@ -489,19 +488,19 @@@@
d100 1
a100 1
@@@@ -545,7 +544,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -554,11 +553,11 @@@@ protocol imap {
d123 1
a123 1
@@@@ -603,7 +602,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -628,7 +627,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -660,7 +659,7 @@@@ protocol lda {
d150 1
a150 1
@@@@ -774,7 +773,7 @@@@ auth default {
d159 1
a159 1
@@@@ -802,14 +801,14 @@@@ auth default {
@


1.29
log
@upgrade to Dovecot 1.0rc13
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.28 2006/11/05 05:02:38 brad Exp $
--- dovecot-example.conf.orig	Sun Nov  5 12:14:37 2006
+++ dovecot-example.conf	Sat Nov 11 01:18:25 2006
d65 3
a67 3
 # Locking method for index files. Alternatives are fcntl, flock and dotlock.
 # Dotlocking uses some tricks which may create more disk I/O than other locking
@@@@ -425,7 +424,7 @@@@
d76 1
a76 1
@@@@ -480,19 +479,19 @@@@
d100 1
a100 1
@@@@ -536,7 +535,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -545,11 +544,11 @@@@ protocol imap {
d123 1
a123 1
@@@@ -593,7 +592,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -618,7 +617,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -650,7 +649,7 @@@@ protocol lda {
d150 1
a150 1
@@@@ -765,7 +764,7 @@@@ auth default {
d159 1
a159 1
@@@@ -793,14 +792,14 @@@@ auth default {
@


1.28
log
@upgrade to Dovecot 1.0rc11
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.27 2006/10/23 18:23:12 brad Exp $
--- dovecot-example.conf.orig	Tue Oct 17 07:00:10 2006
+++ dovecot-example.conf	Sat Nov  4 23:26:59 2006
d100 1
a100 1
@@@@ -533,7 +532,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -542,11 +541,11 @@@@ protocol imap {
d123 1
a123 1
@@@@ -590,7 +589,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -615,7 +614,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -647,7 +646,7 @@@@ protocol lda {
d150 1
a150 2
@@@@ -761,7 +760,7 @@@@ auth default {
   # database (passwd usually), you can use static userdb.
d153 1
d159 1
a159 1
@@@@ -789,14 +788,14 @@@@ auth default {
d168 2
a169 2
   # configured in /etc/nsswitch.conf. WARNING: nss_ldap is known to be broken
   # with Dovecot. Don't use it, or users might log in as each others!
d176 1
a176 1
   #passdb shadow {
@


1.27
log
@upgrade to Dovecot 1.0rc10
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.26 2006/10/14 01:41:19 brad Exp $
--- dovecot-example.conf.orig	Sun Oct 15 18:12:31 2006
+++ dovecot-example.conf	Mon Oct 16 02:58:49 2006
d58 1
a58 1
@@@@ -268,7 +267,7 @@@@
d67 1
a67 1
@@@@ -415,7 +414,7 @@@@
d76 1
a76 1
@@@@ -470,19 +469,19 @@@@
d100 1
a100 1
@@@@ -523,7 +522,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -532,11 +531,11 @@@@ protocol imap {
d123 1
a123 1
@@@@ -580,7 +579,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -605,7 +604,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -637,7 +636,7 @@@@ protocol lda {
d150 1
a150 1
@@@@ -751,7 +750,7 @@@@ auth default {
d159 1
a159 1
@@@@ -779,14 +778,14 @@@@ auth default {
@


1.26
log
@upgrade to Dovecot 1.0rc9
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.25 2006/10/09 19:26:53 brad Exp $
--- dovecot-example.conf.orig	Fri Oct 13 12:34:00 2006
+++ dovecot-example.conf	Fri Oct 13 21:18:01 2006
d40 1
a40 1
@@@@ -119,7 +118,7 @@@@
d49 1
a49 1
@@@@ -131,7 +130,7 @@@@
d58 1
a58 1
@@@@ -266,7 +265,7 @@@@
d67 1
a67 1
@@@@ -413,7 +412,7 @@@@
d76 1
a76 1
@@@@ -468,19 +467,19 @@@@
d100 1
a100 1
@@@@ -521,7 +520,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -530,11 +529,11 @@@@ protocol imap {
d123 1
a123 1
@@@@ -578,7 +577,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -603,7 +602,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -635,7 +634,7 @@@@ protocol lda {
d150 1
a150 1
@@@@ -749,7 +748,7 @@@@ auth default {
d159 1
a159 1
@@@@ -777,13 +776,13 @@@@ auth default {
d168 2
a169 1
   # configured in /etc/nsswitch.conf.
@


1.25
log
@upgrade to Dovecot 1.0rc8
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.24 2006/09/18 05:04:28 brad Exp $
--- dovecot-example.conf.orig	Fri Sep 22 10:40:56 2006
+++ dovecot-example.conf	Mon Oct  9 15:20:25 2006
d150 1
a150 1
@@@@ -747,7 +746,7 @@@@ auth default {
d159 1
a159 1
@@@@ -775,13 +774,13 @@@@ auth default {
@


1.24
log
@upgrade to Dovecot 1.0rc7

ok dlg@@
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.23 2006/08/06 19:57:08 sturm Exp $
--- dovecot-example.conf.orig	Thu Aug 10 17:21:05 2006
+++ dovecot-example.conf	Thu Aug 17 18:41:36 2006
d21 2
a22 2
 #protocols = imap imaps
@@@@ -41,7 +40,7 @@@@
d31 1
a31 1
@@@@ -86,7 +85,7 @@@@
d40 1
a40 1
@@@@ -118,7 +117,7 @@@@
d49 1
a49 1
@@@@ -130,7 +129,7 @@@@
d58 1
a58 1
@@@@ -265,7 +264,7 @@@@
d67 1
a67 1
@@@@ -412,7 +411,7 @@@@
d76 1
a76 1
@@@@ -467,19 +466,19 @@@@
d100 1
a100 1
@@@@ -520,7 +519,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -529,10 +528,10 @@@@ protocol imap {
d116 2
a117 1
   # POP3 executable location
d123 1
a123 1
@@@@ -576,7 +575,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -601,7 +600,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -633,7 +632,7 @@@@ protocol lda {
d150 1
a150 1
@@@@ -745,7 +744,7 @@@@ auth default {
d159 1
a159 1
@@@@ -773,13 +772,13 @@@@ auth default {
@


1.23
log
@revert unapproved commit, the ports tree is locked
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.21 2006/07/29 00:27:35 brad Exp $
--- dovecot-example.conf.orig	Sat Jul  1 16:07:32 2006
+++ dovecot-example.conf	Thu Jul 27 23:50:39 2006
d7 3
a9 3
 # Default values are shown after each value, it's not required to uncomment
-# any of the lines. Exception to this are paths, they're just examples
-# with real defaults being based on configure options. The paths listed here
@


1.23.2.1
log
@update to dovecot 1.0rc15

many bug fixes and at least one security fix
from brad
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.23 2006/08/06 19:57:08 sturm Exp $
--- dovecot-example.conf.orig	Sun Nov  5 12:14:37 2006
+++ dovecot-example.conf	Sat Dec  2 18:38:46 2006
d7 3
a9 3
 # Default values are shown for each setting, it's not required to uncomment
-# any of the lines. Exception to this are paths, they're just examples with
-# the real defaults being based on configure options. The paths listed here
d21 2
a22 2
 # If you only want to use dovecot-auth, you can set this to "none".
@@@@ -42,7 +41,7 @@@@
d31 1
a31 1
@@@@ -87,7 +86,7 @@@@
d40 1
a40 1
@@@@ -121,7 +120,7 @@@@
d49 1
a49 1
@@@@ -133,7 +132,7 @@@@
d58 1
a58 1
@@@@ -278,7 +277,7 @@@@
d67 1
a67 1
@@@@ -425,7 +424,7 @@@@
d76 1
a76 1
@@@@ -480,19 +479,19 @@@@
d100 1
a100 1
@@@@ -536,7 +535,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -545,11 +544,11 @@@@ protocol imap {
d116 1
a116 2
   # POP3 executable location. See IMAP's mail_executable above for examples
   # how this could be changed.
d122 1
a122 1
@@@@ -593,7 +592,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -618,7 +617,7 @@@@ protocol pop3 {
d140 1
a140 1
@@@@ -650,7 +649,7 @@@@ protocol lda {
d149 2
a150 1
@@@@ -765,7 +764,7 @@@@ auth default {
a152 1
   # http://wiki.dovecot.org/PasswordDatabase/PAM
d158 1
a158 1
@@@@ -793,14 +792,14 @@@@ auth default {
a167 1
   # http://wiki.dovecot.org/AuthDatabase/Passwd
d174 1
a174 1
   # http://wiki.dovecot.org/PasswordDatabase/Shadow
@


1.23.2.2
log
@update to dovecot 1.0.0
many bug and some security fixes

from brad
@
text
@d1 4
a4 4
$OpenBSD: patch-dovecot-example_conf,v 1.23.2.1 2006/12/05 22:23:02 sturm Exp $
--- dovecot-example.conf.orig	Fri Mar 30 07:36:18 2007
+++ dovecot-example.conf	Fri Apr 13 19:00:37 2007
@@@@ -10,13 +10,12 @@@@
d22 1
a22 1
@@@@ -45,7 +44,7 @@@@
d31 1
a31 1
@@@@ -91,7 +90,7 @@@@
d40 1
a40 1
@@@@ -128,7 +127,7 @@@@
d48 2
a49 3
 # wish to run the whole Dovecot without roots. <doc/wiki/Rootless.txt>
@@@@ -138,7 +137,7 @@@@
 # and don't use it anywhere else. The user must also belong to a group where
d51 2
a52 1
 # Note that this user is NOT used to access mails. <doc/wiki/UserIds.txt>
d58 1
a58 1
@@@@ -285,7 +284,7 @@@@
d65 3
a67 3
 # Rely on O_EXCL to work when creating dotlock files. The default is to use
 # hard linking. O_EXCL makes the dotlocking faster, but it doesn't always
@@@@ -443,7 +442,7 @@@@
d76 1
a76 1
@@@@ -498,19 +497,19 @@@@
d81 1
a81 1
+  #login_executable = _PREFIX_/libexec/dovecot/imap-login
d88 1
a88 1
+  #   mail_executable = _PREFIX_/libexec/dovecot/rawlog _PREFIX_/libexec/dovecot/imap
d93 1
a93 1
+  #   mail_executable = _PREFIX_/libexec/dovecot/gdbhelper _PREFIX_/libexec/dovecot/imap
d96 1
a96 1
+  #mail_executable = _PREFIX_/libexec/dovecot/imap
d100 1
a100 1
@@@@ -554,7 +553,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -563,11 +562,11 @@@@ protocol imap {
d114 1
a114 1
+  #login_executable = _PREFIX_/libexec/dovecot/pop3-login
d119 1
a119 1
+  #mail_executable = _PREFIX_/libexec/dovecot/pop3
d123 1
a123 1
@@@@ -612,7 +611,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -637,7 +636,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -669,7 +668,7 @@@@ protocol lda {
d146 1
a146 1
+#auth_executable = _PREFIX_/libexec/dovecot/dovecot-auth
d150 1
a150 2
@@@@ -784,7 +783,7 @@@@ auth default {
   # database (passwd usually), you can use static userdb.
d152 2
a153 1
   # authentication to actually work. <doc/wiki/PasswordDatabase.PAM.txt>
d156 1
a156 2
     # [blocking=yes] [session=yes] [setcred=yes]
     # [cache_key=<key>] [<service name>]
d158 2
a159 1
@@@@ -817,7 +816,7 @@@@ auth default {
d168 3
a170 8
@@@@ -836,10 +835,10 @@@@ auth default {
 
   # PAM-like authentication for OpenBSD.
   # <doc/wiki/PasswordDatabase.BSDAuth.txt>
-  #passdb bsdauth {
+  passdb bsdauth {
     # [cache_key=<key>] - See cache_key in PAM for explanation.
     #args =
d172 1
d175 2
a176 2
   # passwd-like file with specified location
   # <doc/wiki/AuthDatabase.PasswdFile.txt>
@


1.23.2.3
log
@MFC:
- upgrade to version 1.0.2 ; fix several bugs

ok sturm@@
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.23.2.2 2007/05/01 11:49:49 sturm Exp $
--- dovecot-example.conf.orig	Thu Jun 28 16:18:07 2007
+++ dovecot-example.conf	Thu Jul 26 20:41:36 2007
a99 9
@@@@ -520,7 +519,7 @@@@ protocol imap {
   # Support for dynamically loadable plugins. mail_plugins is a space separated
   # list of plugins to load.
   #mail_plugins = 
-  #mail_plugin_dir = /usr/lib/dovecot/imap
+  #mail_plugin_dir = _PREFIX_/lib/dovecot/imap
 
   # Send IMAP capabilities in greeting message. This makes it unnecessary for
   # clients to request it with CAPABILITY command, so it saves one round-trip.
a131 9
@@@@ -627,7 +626,7 @@@@ protocol pop3 {
   # Support for dynamically loadable plugins. mail_plugins is a space separated
   # list of plugins to load.
   #mail_plugins = 
-  #mail_plugin_dir = /usr/lib/dovecot/pop3
+  #mail_plugin_dir = _PREFIX_/lib/dovecot/pop3
 
   # Workarounds for various client bugs:
   #   outlook-no-nuls:
a140 13
@@@@ -655,10 +654,10 @@@@ protocol lda {
   # Support for dynamically loadable plugins. mail_plugins is a space separated
   # list of plugins to load.
   #mail_plugins = 
-  #mail_plugin_dir = /usr/lib/dovecot/lda
+  #mail_plugin_dir = _PREFIX_/lib/dovecot/lda
 
   # Binary to use for sending mails.
-  #sendmail_path = /usr/lib/sendmail
+  #sendmail_path = /usr/sbin/sendmail
 
   # UNIX socket path to master authentication server to find users.
   #auth_socket_path = /var/run/dovecot/auth-master
d150 1
a150 1
@@@@ -785,7 +784,7 @@@@ auth default {
d159 1
a159 1
@@@@ -818,7 +817,7 @@@@ auth default {
d166 1
a166 1
   # System users (NSS, /etc/passwd, or similiar)
d168 1
a168 1
@@@@ -838,10 +837,10 @@@@ auth default {
@


1.22
log
@upgrade to Dovecot 1.0rc5

ok marco@@
@
text
@d2 2
a3 2
--- dovecot-example.conf.orig	Wed Jul  5 15:51:02 2006
+++ dovecot-example.conf	Wed Aug  2 12:35:49 2006
d7 3
a9 3
 # Default values are shown for each setting, it's not required to uncomment
-# any of the lines. Exception to this are paths, they're just examples with
-# the real defaults being based on configure options. The paths listed here
d58 1
a58 1
@@@@ -266,7 +265,7 @@@@
d67 1
a67 1
@@@@ -413,7 +412,7 @@@@
d76 1
a76 1
@@@@ -468,19 +467,19 @@@@
d100 1
a100 1
@@@@ -521,7 +520,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -530,10 +529,10 @@@@ protocol imap {
d122 1
a122 1
@@@@ -577,7 +576,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -602,7 +601,7 @@@@ protocol pop3 {
d140 1
a140 1
@@@@ -634,7 +633,7 @@@@ protocol lda {
d149 1
a149 1
@@@@ -746,7 +745,7 @@@@ auth default {
d158 1
a158 1
@@@@ -774,13 +773,13 @@@@ auth default {
@


1.21
log
@provide a useable config for mbox users by using fcntl for the write
locking method.
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.20 2006/07/16 02:43:08 brad Exp $
--- dovecot-example.conf.orig	Sat Jul  1 16:07:32 2006
+++ dovecot-example.conf	Thu Jul 27 23:50:39 2006
d7 3
a9 3
 # Default values are shown after each value, it's not required to uncomment
-# any of the lines. Exception to this are paths, they're just examples
-# with real defaults being based on configure options. The paths listed here
d58 1
a58 1
@@@@ -265,7 +264,7 @@@@
d67 1
a67 1
@@@@ -412,7 +411,7 @@@@
d76 1
a76 1
@@@@ -467,19 +466,19 @@@@
d100 1
a100 1
@@@@ -520,7 +519,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -529,10 +528,10 @@@@ protocol imap {
d122 1
a122 1
@@@@ -576,7 +575,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -601,7 +600,7 @@@@ protocol pop3 {
d140 1
a140 1
@@@@ -633,7 +632,7 @@@@ protocol lda {
d149 1
a149 1
@@@@ -745,7 +744,7 @@@@ auth default {
d158 1
a158 1
@@@@ -773,13 +772,13 @@@@ auth default {
@


1.20
log
@upgrade to Dovecot 1.0rc2

"That works way better." ok marco@@
@
text
@d1 1
a1 1
$OpenBSD: patch-dovecot-example_conf,v 1.18 2006/06/16 21:03:44 brad Exp $
d3 1
a3 1
+++ dovecot-example.conf	Wed Jul  5 08:41:43 2006
d67 9
@


1.19
log
@Back out change with no review.

ok espie@@, pvalchev@@
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.17 2006/05/12 19:10:11 brad Exp $
--- dovecot-example.conf.orig	Thu Apr 20 22:01:27 2006
+++ dovecot-example.conf	Fri May 12 14:24:17 2006
d20 12
a31 3
 # Protocols we want to be serving:
 #  imap imaps pop3 pop3s
@@@@ -49,7 +48,7 @@@@
d40 1
a40 10
@@@@ -74,7 +73,7 @@@@
 # SSL/TLS is used (LOGINDISABLED capability). Note that 127.*.*.* and
 # IPv6 ::1 addresses are considered secure, this setting has no effect if
 # you connect from those addresses.
-#disable_plaintext_auth = yes
+disable_plaintext_auth = yes
 
 # Should all IMAP and POP3 processes be killed when Dovecot master process
 # shuts down. Setting this to "no" means that Dovecot can be upgraded without
@@@@ -108,7 +107,7 @@@@
d49 1
a49 1
@@@@ -120,7 +119,7 @@@@
d58 1
a58 1
@@@@ -336,7 +335,7 @@@@
d67 1
a67 1
@@@@ -439,19 +438,19 @@@@
d91 1
a91 1
@@@@ -492,7 +491,7 @@@@ protocol imap {
d100 1
a100 1
@@@@ -501,10 +500,10 @@@@ protocol imap {
d113 1
a113 1
@@@@ -547,7 +546,7 @@@@ protocol pop3 {
d122 1
a122 1
@@@@ -572,7 +571,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -580,7 +579,7 @@@@ protocol pop3 {
d140 1
a140 1
@@@@ -691,7 +690,7 @@@@ auth default {
d146 1
a146 1
     # [session=yes] [cache_key=<key>] [<service name>]
d149 1
a149 1
@@@@ -715,13 +714,13 @@@@ auth default {
@


1.18
log
@upgrade to Dovecot 1.0beta9
@
text
@d2 2
a3 2
--- dovecot-example.conf.orig	Mon Jun 12 12:01:37 2006
+++ dovecot-example.conf	Tue Jun 13 20:44:16 2006
d20 12
a31 3
 # Protocols we want to be serving: imap imaps pop3 pop3s
 #protocols = imap imaps
@@@@ -41,7 +40,7 @@@@
d40 1
a40 10
@@@@ -86,7 +85,7 @@@@
 # dropping root privileges, so keep the key file unreadable by anyone but
 # root. Included doc/mkcert.sh can be used to easily generate self-signed
 # certificate, just make sure to update the domains in dovecot-openssl.cnf
-#ssl_cert_file = /etc/ssl/certs/dovecot.pem
+ssl_cert_file = /etc/ssl/dovecotcert.pem
 #ssl_key_file = /etc/ssl/private/dovecot.pem
 
 # If key file is password protected, give the password here. Alternatively
@@@@ -118,7 +117,7 @@@@
d49 1
a49 1
@@@@ -130,7 +129,7 @@@@
d58 1
a58 1
@@@@ -265,7 +264,7 @@@@
d67 1
a67 1
@@@@ -467,19 +466,19 @@@@
d91 1
a91 1
@@@@ -520,7 +519,7 @@@@ protocol imap {
d100 1
a100 1
@@@@ -529,10 +528,10 @@@@ protocol imap {
d113 1
a113 1
@@@@ -575,7 +574,7 @@@@ protocol pop3 {
d122 1
a122 1
@@@@ -600,7 +599,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -632,7 +631,7 @@@@ protocol lda {
d140 1
a140 1
@@@@ -744,7 +743,7 @@@@ auth default {
d146 1
a146 1
     #  [session=yes] [setcred=yes] [cache_key=<key>] [<service name>]
d149 1
a149 1
@@@@ -772,13 +771,13 @@@@ auth default {
@


1.17
log
@upgrade to Dovecot 1.0beta8
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.16 2006/04/12 16:32:11 brad Exp $
--- dovecot-example.conf.orig	Thu Apr 20 22:01:27 2006
+++ dovecot-example.conf	Fri May 12 14:24:17 2006
d20 12
a31 3
 # Protocols we want to be serving:
 #  imap imaps pop3 pop3s
@@@@ -49,7 +48,7 @@@@
d40 1
a40 10
@@@@ -74,7 +73,7 @@@@
 # SSL/TLS is used (LOGINDISABLED capability). Note that 127.*.*.* and
 # IPv6 ::1 addresses are considered secure, this setting has no effect if
 # you connect from those addresses.
-#disable_plaintext_auth = yes
+disable_plaintext_auth = yes
 
 # Should all IMAP and POP3 processes be killed when Dovecot master process
 # shuts down. Setting this to "no" means that Dovecot can be upgraded without
@@@@ -108,7 +107,7 @@@@
d49 1
a49 1
@@@@ -120,7 +119,7 @@@@
d58 1
a58 1
@@@@ -336,7 +335,7 @@@@
d67 1
a67 1
@@@@ -439,19 +438,19 @@@@
d91 1
a91 1
@@@@ -492,7 +491,7 @@@@ protocol imap {
d100 1
a100 1
@@@@ -501,10 +500,10 @@@@ protocol imap {
d113 1
a113 1
@@@@ -547,7 +546,7 @@@@ protocol pop3 {
d122 1
a122 1
@@@@ -572,7 +571,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -580,7 +579,7 @@@@ protocol pop3 {
d140 1
a140 1
@@@@ -691,7 +690,7 @@@@ auth default {
d146 1
a146 1
     # [session=yes] [cache_key=<key>] [<service name>]
d149 1
a149 1
@@@@ -715,13 +714,13 @@@@ auth default {
@


1.16
log
@upgrade to Dovecot 1.0beta7
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.15 2006/04/02 18:45:01 brad Exp $
--- dovecot-example.conf.orig	Wed Apr 12 07:37:30 2006
+++ dovecot-example.conf	Wed Apr 12 09:52:06 2006
d140 1
a140 1
@@@@ -685,7 +684,7 @@@@ auth default {
d149 1
a149 1
@@@@ -709,13 +708,13 @@@@ auth default {
@


1.15
log
@upgrade to Dovecot 1.0beta4
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.14 2006/01/23 20:33:40 brad Exp $
--- dovecot-example.conf.orig	Sun Apr  2 05:12:59 2006
+++ dovecot-example.conf	Sun Apr  2 13:44:29 2006
d38 3
a40 3
 # Use this logfile instead of syslog(). /dev/stderr can be used if you want to
 # use stderr for logging (ONLY /dev/stderr - otherwise it is closed).
@@@@ -100,7 +99,7 @@@@
d49 1
a49 1
@@@@ -112,7 +111,7 @@@@
d58 1
a58 1
@@@@ -328,7 +327,7 @@@@
d67 1
a67 1
@@@@ -431,19 +430,19 @@@@
d91 1
a91 1
@@@@ -484,7 +483,7 @@@@ protocol imap {
d100 1
a100 1
@@@@ -493,10 +492,10 @@@@ protocol imap {
d113 1
a113 1
@@@@ -533,7 +532,7 @@@@ protocol pop3 {
d122 1
a122 1
@@@@ -558,7 +557,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -566,7 +565,7 @@@@ protocol pop3 {
d140 1
a140 1
@@@@ -670,7 +669,7 @@@@ auth default {
d149 1
a149 1
@@@@ -694,13 +693,13 @@@@ auth default {
@


1.14
log
@upgrade to Dovecot 1.0beta2
@
text
@d1 4
a4 4
$OpenBSD: patch-dovecot-example_conf,v 1.13 2006/01/20 02:04:19 brad Exp $
--- dovecot-example.conf.orig	Sun Jan 22 06:32:52 2006
+++ dovecot-example.conf	Mon Jan 23 15:08:11 2006
@@@@ -5,13 +5,12 @@@@
d22 1
a22 1
@@@@ -37,7 +36,7 @@@@
d31 1
a31 1
@@@@ -62,7 +61,7 @@@@
d40 1
a40 1
@@@@ -88,7 +87,7 @@@@
d49 1
a49 1
@@@@ -100,7 +99,7 @@@@
d58 1
a58 1
@@@@ -316,7 +315,7 @@@@
d67 1
a67 1
@@@@ -420,19 +419,19 @@@@
d91 1
a91 1
@@@@ -472,7 +471,7 @@@@ protocol imap {
d100 1
a100 1
@@@@ -481,10 +480,10 @@@@ protocol imap {
d113 1
a113 1
@@@@ -521,7 +520,7 @@@@ protocol pop3 {
d122 1
a122 1
@@@@ -545,7 +544,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -553,7 +552,7 @@@@ protocol pop3 {
d140 1
a140 3
@@@@ -642,7 +641,7 @@@@ auth default {
   # Note that PAM can only be used to verify if user's password is correct,
   # so it can't be used as userdb. If you don't want to use a separate user
d142 2
d149 1
a149 1
@@@@ -666,13 +665,13 @@@@ auth default {
@


1.14.2.1
log
@update to dovecot 1.0.beta8

fixes a security hole with mboxes
@
text
@d1 4
a4 4
$OpenBSD: patch-dovecot-example_conf,v 1.14 2006/01/23 20:33:40 brad Exp $
--- dovecot-example.conf.orig	Fri Apr 21 04:01:27 2006
+++ dovecot-example.conf	Thu Jun  8 22:21:56 2006
@@@@ -7,13 +7,12 @@@@
d22 1
a22 1
@@@@ -49,7 +48,7 @@@@
d31 1
a31 1
@@@@ -74,7 +73,7 @@@@
d38 3
a40 3
 # Should all IMAP and POP3 processes be killed when Dovecot master process
 # shuts down. Setting this to "no" means that Dovecot can be upgraded without
@@@@ -108,7 +107,7 @@@@
d49 1
a49 1
@@@@ -120,7 +119,7 @@@@
d58 1
a58 1
@@@@ -336,7 +335,7 @@@@
d67 1
a67 1
@@@@ -439,19 +438,19 @@@@
d91 1
a91 1
@@@@ -492,7 +491,7 @@@@ protocol imap {
d100 1
a100 1
@@@@ -501,10 +500,10 @@@@ protocol imap {
d113 1
a113 1
@@@@ -547,7 +546,7 @@@@ protocol pop3 {
d122 1
a122 1
@@@@ -572,7 +571,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -580,7 +579,7 @@@@ protocol pop3 {
d140 3
a142 1
@@@@ -691,7 +690,7 @@@@ auth default {
a143 2
   # REMEMBER: You'll need /etc/pam.d/dovecot file created for PAM
   # authentication to actually work.
d149 1
a149 1
@@@@ -715,13 +714,13 @@@@ auth default {
@


1.14.2.2
log
@update to dovecot 1.0rc15

many bug fixes and at least one security fix
from brad
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.14.2.1 2006/06/09 05:51:01 sturm Exp $
--- dovecot-example.conf.orig	Sun Nov  5 12:14:37 2006
+++ dovecot-example.conf	Fri Nov 10 22:36:39 2006
d7 3
a9 3
 # Default values are shown for each setting, it's not required to uncomment
-# any of the lines. Exception to this are paths, they're just examples with
-# the real defaults being based on configure options. The paths listed here
d20 3
a22 12
 # Protocols we want to be serving: imap imaps pop3 pop3s
 # If you only want to use dovecot-auth, you can set this to "none".
@@@@ -42,7 +41,7 @@@@
 # SSL/TLS is used (LOGINDISABLED capability). Note that if the remote IP
 # matches the local IP (ie. you're connecting from the same computer), the
 # connection is considered secure and plaintext authentication is allowed.
-#disable_plaintext_auth = yes
+disable_plaintext_auth = yes
 
 # Should all IMAP and POP3 processes be killed when Dovecot master process
 # shuts down. Setting this to "no" means that Dovecot can be upgraded without
@@@@ -87,7 +86,7 @@@@
d31 10
a40 1
@@@@ -121,7 +120,7 @@@@
d49 1
a49 1
@@@@ -133,7 +132,7 @@@@
d58 1
a58 1
@@@@ -278,7 +277,7 @@@@
d67 1
a67 10
@@@@ -425,7 +424,7 @@@@
 # locking methods as well. Some operating systems don't allow using some of
 # them simultaneously.
 #mbox_read_locks = fcntl
-#mbox_write_locks = dotlock fcntl
+mbox_write_locks = fcntl
 
 # Maximum time in seconds to wait for lock (all of them) before aborting.
 #mbox_lock_timeout = 300
@@@@ -480,19 +479,19 @@@@
d91 1
a91 1
@@@@ -536,7 +535,7 @@@@ protocol imap {
d100 1
a100 1
@@@@ -545,11 +544,11 @@@@ protocol imap {
d107 1
a107 2
   # POP3 executable location. See IMAP's mail_executable above for examples
   # how this could be changed.
d113 1
a113 1
@@@@ -593,7 +592,7 @@@@ protocol pop3 {
d122 1
a122 1
@@@@ -618,7 +617,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -650,7 +649,7 @@@@ protocol lda {
d140 2
a141 1
@@@@ -765,7 +764,7 @@@@ auth default {
a143 1
   # http://wiki.dovecot.org/PasswordDatabase/PAM
d146 1
a146 1
     #  [session=yes] [setcred=yes] [cache_key=<key>] [<service name>]
d149 1
a149 1
@@@@ -793,14 +792,14 @@@@ auth default {
a158 1
   # http://wiki.dovecot.org/AuthDatabase/Passwd
d165 1
a165 1
   # http://wiki.dovecot.org/PasswordDatabase/Shadow
@


1.14.2.3
log
@update to dovecot 1.0.0
many bug and some security fixes

from brad
@
text
@d1 4
a4 4
$OpenBSD: patch-dovecot-example_conf,v 1.14.2.2 2006/12/05 22:52:23 sturm Exp $
--- dovecot-example.conf.orig	Fri Mar 30 07:36:18 2007
+++ dovecot-example.conf	Fri Apr 13 19:48:39 2007
@@@@ -10,13 +10,12 @@@@
d22 1
a22 1
@@@@ -45,7 +44,7 @@@@
d31 1
a31 1
@@@@ -91,7 +90,7 @@@@
d40 1
a40 1
@@@@ -128,7 +127,7 @@@@
d48 2
a49 3
 # wish to run the whole Dovecot without roots. <doc/wiki/Rootless.txt>
@@@@ -138,7 +137,7 @@@@
 # and don't use it anywhere else. The user must also belong to a group where
d51 2
a52 1
 # Note that this user is NOT used to access mails. <doc/wiki/UserIds.txt>
d58 1
a58 1
@@@@ -285,7 +284,7 @@@@
d65 3
a67 3
 # Rely on O_EXCL to work when creating dotlock files. The default is to use
 # hard linking. O_EXCL makes the dotlocking faster, but it doesn't always
@@@@ -443,7 +442,7 @@@@
d76 1
a76 1
@@@@ -498,19 +497,19 @@@@
d81 1
a81 1
+  #login_executable = _PREFIX_/libexec/dovecot/imap-login
d88 1
a88 1
+  #   mail_executable = _PREFIX_/libexec/dovecot/rawlog _PREFIX_/libexec/dovecot/imap
d93 1
a93 1
+  #   mail_executable = _PREFIX_/libexec/dovecot/gdbhelper _PREFIX_/libexec/dovecot/imap
d96 1
a96 1
+  #mail_executable = _PREFIX_/libexec/dovecot/imap
d100 1
a100 1
@@@@ -554,7 +553,7 @@@@ protocol imap {
d109 1
a109 1
@@@@ -563,11 +562,11 @@@@ protocol imap {
d114 1
a114 1
+  #login_executable = _PREFIX_/libexec/dovecot/pop3-login
d119 1
a119 1
+  #mail_executable = _PREFIX_/libexec/dovecot/pop3
d123 1
a123 1
@@@@ -612,7 +611,7 @@@@ protocol pop3 {
d132 1
a132 1
@@@@ -637,7 +636,7 @@@@ protocol pop3 {
d141 1
a141 1
@@@@ -669,7 +668,7 @@@@ protocol lda {
d146 1
a146 1
+#auth_executable = _PREFIX_/libexec/dovecot/dovecot-auth
d150 1
a150 2
@@@@ -784,7 +783,7 @@@@ auth default {
   # database (passwd usually), you can use static userdb.
d152 2
a153 1
   # authentication to actually work. <doc/wiki/PasswordDatabase.PAM.txt>
d156 1
a156 2
     # [blocking=yes] [session=yes] [setcred=yes]
     # [cache_key=<key>] [<service name>]
d158 2
a159 1
@@@@ -817,7 +816,7 @@@@ auth default {
d168 3
a170 8
@@@@ -836,10 +835,10 @@@@ auth default {
 
   # PAM-like authentication for OpenBSD.
   # <doc/wiki/PasswordDatabase.BSDAuth.txt>
-  #passdb bsdauth {
+  passdb bsdauth {
     # [cache_key=<key>] - See cache_key in PAM for explanation.
     #args =
d172 1
d175 2
a176 2
   # passwd-like file with specified location
   # <doc/wiki/AuthDatabase.PasswdFile.txt>
@


1.13
log
@set pop3_uidl_format in the example config and enable various workarounds
for POP3/IMAP clients with issues such as OSX Mail/Outlook/Netscape/Thunderbird.
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.12 2006/01/16 21:32:59 brad Exp $
--- dovecot-example.conf.orig	Sun Jan 15 18:55:57 2006
+++ dovecot-example.conf	Thu Jan 19 21:00:29 2006
d58 1
a58 1
@@@@ -311,7 +310,7 @@@@
d67 1
a67 1
@@@@ -411,19 +410,19 @@@@
d91 1
a91 1
@@@@ -463,7 +462,7 @@@@ protocol imap {
d100 1
a100 1
@@@@ -472,10 +471,10 @@@@ protocol imap {
d113 1
a113 1
@@@@ -512,7 +511,7 @@@@ protocol pop3 {
d122 1
a122 1
@@@@ -536,7 +535,7 @@@@ protocol pop3 {
d131 1
a131 1
@@@@ -544,7 +543,7 @@@@ protocol pop3 {
d140 1
a140 1
@@@@ -629,7 +628,7 @@@@ auth default {
d149 1
a149 1
@@@@ -653,13 +652,13 @@@@ auth default {
@


1.12
log
@upgrade to Dovecot 1.0beta1
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.10 2005/09/04 18:22:30 brad Exp $
--- dovecot-example.conf.orig	Sun Jan 15 22:00:08 2006
+++ dovecot-example.conf	Mon Jan 16 15:29:53 2006
d91 9
d113 18
@


1.11
log
@upgrade to Dovecot 1.0alpha4
@
text
@d2 2
a3 2
--- dovecot-example.conf.orig	Sun Oct 16 11:48:53 2005
+++ dovecot-example.conf	Thu Oct 20 14:02:48 2005
d30 1
a30 10
 # File containing trusted SSL certificate authorities. Usually not needed.
@@@@ -48,7 +47,7 @@@@
 
 # SSL parameter file. Master process generates this file for login processes.
 # It contains Diffie Hellman and RSA parameters.
-#ssl_parameters_file = /var/run/dovecot/ssl-parameters.dat
+ssl_parameters_file = /var/dovecot/ssl-parameters.dat
 
 # How often to regenerate the SSL parameters file. Generation is quite CPU
 # intensive operation. The value is in hours, 0 disables regeneration
d40 1
a40 1
@@@@ -83,7 +82,7 @@@@
d49 1
a49 1
@@@@ -95,7 +94,7 @@@@
d58 1
a58 1
@@@@ -303,7 +302,7 @@@@
d67 1
a67 1
@@@@ -391,12 +390,12 @@@@
d74 12
a85 1
   # IMAP executable location
a87 3
   # This would write rawlogs into ~/dovecot.rawlog/ directory:
-  #mail_executable = /usr/libexec/dovecot/rawlog /usr/libexec/dovecot/imap
+  #mail_executable = /usr/local/libexec/dovecot/rawlog /usr/local/libexec/dovecot/imap
d91 1
a91 1
@@@@ -444,10 +443,10 @@@@ protocol imap {
d104 1
a104 10
@@@@ -484,7 +483,7 @@@@ protocol pop3 {
   # installations. %08Xu%08Xv will be the new default, so use it for new
   # installations.
   #
-  #pop3_uidl_format = 
+  pop3_uidl_format = %08Xv%08Xu
 
   # POP3 logout format string:
   #  %t - number of TOP commands
@@@@ -515,7 +514,7 @@@@ protocol pop3 {
d113 1
a113 1
@@@@ -596,7 +595,7 @@@@ auth default {
d119 1
a119 1
     # [-session] [cache_key=<key>] [<service name>]
d121 4
a124 4
     # -session makes Dovecot open and immediately close PAM session. Some
@@@@ -616,13 +615,13 @@@@ auth default {
     # If service name is "*", it means the authenticating service name
     # is used, eg. pop3 or imap.
@


1.10
log
@upgrade to Dovecot 1.0alpha1
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.7 2004/06/25 17:41:59 brad Exp $
--- dovecot-example.conf.orig	Fri Jul 22 13:49:52 2005
+++ dovecot-example.conf	Fri Jul 22 13:58:29 2005
d67 1
a67 1
@@@@ -301,7 +300,7 @@@@
d76 1
a76 1
@@@@ -389,12 +388,12 @@@@
d92 1
a92 1
@@@@ -442,10 +441,10 @@@@ protocol imap {
d105 10
a114 1
@@@@ -506,7 +505,7 @@@@ protocol pop3 {
d123 1
a123 1
@@@@ -573,7 +572,7 @@@@ auth default {
d129 1
a129 1
     # [-session] [<service name>]
d132 1
a132 1
@@@@ -582,13 +581,13 @@@@ auth default {
@


1.9
log
@upgrade to Dovecot 0.99.14
@
text
@d1 5
a5 5
$OpenBSD: patch-dovecot-example_conf,v 1.8 2004/07/21 14:19:19 brad Exp $
--- dovecot-example.conf.orig	Wed Dec 29 13:00:24 2004
+++ dovecot-example.conf	Fri Feb  4 20:58:07 2005
@@@@ -1,13 +1,12 @@@@
 ## Dovecot 1.0 configuration file
d22 1
a22 1
@@@@ -33,12 +32,12 @@@@
d30 3
d40 10
a49 1
@@@@ -70,7 +69,7 @@@@
d58 1
a58 9
@@@@ -85,14 +84,14 @@@@
 login = imap
 
 # Executable location.
-#login_executable = /usr/libexec/dovecot/imap-login
+#login_executable = _PREFIX_/libexec/dovecot/imap-login
 
 # User to use for the login process. Create a completely new user for this,
 # and don't use it anywhere else. The user must also belong to a group where
d67 1
a67 55
@@@@ -132,7 +131,7 @@@@ login = imap
 login = pop3
 
 # Exception to above rule being the executable location.
-#login_executable = /usr/libexec/dovecot/pop3-login
+#login_executable = _PREFIX_/libexec/dovecot/pop3-login
 
 ##
 ## Mail processes
@@@@ -274,6 +273,8 @@@@ login = pop3
 
 # Use mmap() instead of read() to read mail files. read() seems to be a bit
 # faster with my Linux/x86 and it's better with NFS, so that's the default.
+# Note that this option doesn't work correctly on OpenBSD as msync() needs
+# the MS_INVALIDATE to operate properly.  Enable at your own risk.
 #mail_read_mmaped = no
 
 # By default LIST command returns all entries in maildir beginning with dot.
@@@@ -291,6 +292,12 @@@@ login = pop3
 # If you care about performance, enable it.
 #maildir_copy_with_hardlinks = no
 
+# Call mmap() with MS_INVALIDATE flag each time before accessing message
+# indexes. This option is recommended on OpenBSD 3.4 and older versions
+# to negate the risk of corruption when rebuilding indexes.
+# It's also required if you insist on saving index files over NFS.
+index_mmap_invalidate = yes
+
 # Check if mails' content has been changed by external programs. This slows
 # down things as extra stat() needs to be called for each file. If changes are
 # noticed, the message is treated as a new message, since IMAP protocol
@@@@ -308,7 +315,7 @@@@ login = pop3
 # with is important to avoid deadlocks if other MTAs/MUAs are using both fcntl
 # and flock. Some operating systems don't allow using both of them
 # simultaneously, eg. BSDs. If dotlock is used, it's always created first.
-#mbox_locks = dotlock fcntl
+mbox_locks = fcntl
 
 # Should we create dotlock file even when we want only a read-lock? Setting
 # this to yes hurts the performance when the mailbox is accessed simultaneously
@@@@ -338,7 +345,7 @@@@ login = pop3
 ##
 
 # Executable location
-#imap_executable = /usr/libexec/dovecot/imap
+#imap_executable = _PREFIX_/libexec/dovecot/imap
 
 # Set max. process size in megabytes. Most of the memory goes to mmap()ing
 # files, so it shouldn't harm much even if this limit is set pretty high.
@@@@ -346,14 +353,14 @@@@ login = pop3
 
 # Support for dynamically loadable modules.
 #imap_use_modules = no
-#imap_modules = /usr/lib/dovecot/imap
+#imap_modules = _PREFIX_/lib/dovecot/imap
d69 37
a105 2
 ##
 ## POP3 process
d109 2
a110 20
-#pop3_executable = /usr/libexec/dovecot/pop3
+#pop3_executable = _PREFIX_/libexec/dovecot/pop3
 
 # Set max. process size in megabytes. Most of the memory goes to mmap()ing
 # files, so it shouldn't harm much even if this limit is set pretty high.
@@@@ -361,7 +368,7 @@@@ login = pop3
 
 # Support for dynamically loadable modules.
 #pop3_use_modules = no
-#pop3_modules = /usr/lib/dovecot/pop3
+#pop3_modules = _PREFIX_/lib/dovecot/pop3
 
 ##
 ## Authentication processes
@@@@ -438,7 +445,7 @@@@ auth_userdb = passwd
 #   vpopmail: vpopmail authentication
 #   ldap <config path>: LDAP, see doc/dovecot-ldap.conf
 #   pgsql <config path>: a PostgreSQL database, see doc/dovecot-pgsql.conf
-auth_passdb = pam
+auth_passdb = passwd
d112 25
a136 1
 #auth_executable = /usr/libexec/dovecot/dovecot-auth
d138 2
@


1.8
log
@upgrade to Dovecot 0.99.10.7
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.7 2004/06/25 17:41:59 brad Exp $
--- dovecot-example.conf.orig	Tue Jul 13 06:56:55 2004
+++ dovecot-example.conf	Thu Jul 15 00:12:02 2004
d37 1
a37 10
@@@@ -47,7 +46,7 @@@@
 
 # Disable LOGIN command and all other plaintext authentications unless
 # SSL/TLS is used (LOGINDISABLED capability)
-#disable_plaintext_auth = no
+disable_plaintext_auth = yes
 
 # Use this logfile instead of syslog(). /dev/stderr can be used if you want to
 # use stderr for logging (ONLY /dev/stderr - otherwise it is closed).
@@@@ -68,7 +67,7 @@@@
d46 1
a46 1
@@@@ -82,12 +81,12 @@@@
d56 2
d63 1
a63 1
@@@@ -127,7 +126,7 @@@@ login = imap
d72 1
a72 1
@@@@ -269,6 +268,8 @@@@ login = pop3
d81 1
a81 1
@@@@ -286,6 +287,12 @@@@ login = pop3
d94 1
a94 1
@@@@ -303,7 +310,7 @@@@ login = pop3
d103 1
a103 1
@@@@ -333,7 +340,7 @@@@ login = pop3
d112 1
a112 1
@@@@ -341,14 +348,14 @@@@ login = pop3
d129 1
a129 1
@@@@ -356,7 +363,7 @@@@ login = pop3
d138 1
a138 1
@@@@ -406,7 +413,7 @@@@ auth_userdb = passwd
d142 1
a142 1
-auth_passdb = pgsql /usr/local/etc/dovecot-pgsql.conf
@


1.7
log
@sync patches
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.6 2004/06/22 21:05:20 brad Exp $
--- dovecot-example.conf.orig	Fri Jun 18 15:25:31 2004
+++ dovecot-example.conf	Fri Jun 25 13:35:41 2004
d79 1
a79 1
@@@@ -266,6 +265,8 @@@@ login = pop3
d88 1
a88 1
@@@@ -283,6 +284,12 @@@@ login = pop3
d101 1
a101 1
@@@@ -300,7 +307,7 @@@@ login = pop3
d110 1
a110 1
@@@@ -330,7 +337,7 @@@@ login = pop3
d119 1
a119 1
@@@@ -338,14 +345,14 @@@@ login = pop3
d136 1
a136 1
@@@@ -353,7 +360,7 @@@@ login = pop3
d145 1
a145 1
@@@@ -403,7 +410,7 @@@@ auth_userdb = passwd
@


1.6
log
@upgrade to Dovecot 0.99.10.6
- takeover as MAINTAINER
--
ok MAINTAINER
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.5 2004/05/27 16:38:30 brad Exp $
--- dovecot-example.conf.orig	2004-06-18 15:25:31.000000000 -0400
+++ dovecot-example.conf	2004-06-22 16:42:52.000000000 -0400
d13 2
a15 2
+# *** NOTE *** Some values HAVE been changed for OpenBSD use.
 
@


1.5
log
@upgrade to Dovecot 0.99.10.5
--
ok MAINTAINER
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.4 2004/05/10 00:06:47 brad Exp $
--- dovecot-example.conf.orig	2003-12-19 23:14:19.000000000 -0500
+++ dovecot-example.conf	2004-05-27 01:27:45.000000000 -0400
d46 1
a46 2
@@@@ -67,7 +66,7 @@@@
 # Directory where authentication process places authentication UNIX sockets
d48 2
a49 1
 # running as root, so you don't have to worry about permissions.
d55 1
a55 1
@@@@ -81,12 +80,12 @@@@
d70 1
a70 1
@@@@ -126,7 +125,7 @@@@ login = imap
d79 1
a79 1
@@@@ -261,6 +260,8 @@@@ login = pop3
d87 2
a88 2
 # Copy mail to another folders using hard links. This is much faster than
@@@@ -271,6 +272,12 @@@@ login = pop3
d101 1
a101 1
@@@@ -288,7 +295,7 @@@@ login = pop3
d110 1
a110 1
@@@@ -318,7 +325,7 @@@@ login = pop3
d119 1
a119 1
@@@@ -326,14 +333,14 @@@@ login = pop3
d136 1
a136 1
@@@@ -341,7 +348,7 @@@@ login = pop3
d145 1
a145 1
@@@@ -390,7 +397,7 @@@@ auth_userdb = passwd
@


1.4
log
@upgrade to Dovecot 0.99.10.4
--
ok MAINTAINER
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.3 2003/08/30 00:11:31 jolan Exp $
--- dovecot-example.conf.orig	2003-11-08 10:21:22.000000000 -0500
+++ dovecot-example.conf	2004-05-07 21:23:23.000000000 -0400
d145 1
a145 11
@@@@ -380,8 +387,7 @@@@ auth_mechanisms = plain
 #   vpopmail: vpopmail library
 #   ldap <config path>: LDAP, see doc/dovecot-ldap.conf
 #   pgsql <config path>: a PostgreSQL database, see doc/dovecot-pgsql.conf
-#auth_userdb = passwd
-auth_userdb = pgsql /usr/local/etc/dovecot-pgsql.conf
+auth_userdb = passwd
 
 # Where password database is kept:
 #   passwd: /etc/passwd or similiar, using getpwnam()
@@@@ -391,7 +397,7 @@@@ auth_userdb = pgsql /usr/local/etc/dovec
@


1.3
log
@err on the side of caution and make "index_mmap_invalidate = yes" the
default to totally negate the chance of index corruption at the cost of
performance.  ok naddy@@
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.2 2003/07/23 06:03:01 jolan Exp $
--- dovecot-example.conf.orig	2003-06-26 11:11:06.000000000 -0500
+++ dovecot-example.conf	2003-08-28 20:20:17.000000000 -0500
d79 1
a79 1
@@@@ -257,6 +256,8 @@@@ login = pop3
d88 1
a88 1
@@@@ -267,6 +268,12 @@@@ login = pop3
d101 1
a101 1
@@@@ -284,7 +291,7 @@@@ login = pop3
d110 1
a110 1
@@@@ -314,7 +321,7 @@@@ login = pop3
d119 1
a119 1
@@@@ -322,14 +329,14 @@@@ login = pop3
d136 1
a136 1
@@@@ -337,7 +344,7 @@@@ login = pop3
d145 11
a155 1
@@@@ -386,10 +393,10 @@@@ auth_userdb = passwd
d159 1
a159 1
-auth_passdb = pam
d162 1
a162 3
 # Executable location
-#auth_executable = /usr/libexec/dovecot/dovecot-auth
+#auth_executable = _PREFIX_/libexec/dovecot/dovecot-auth
a163 2
 # Set max. process size in megabytes.
 #auth_process_size = 256
@


1.3.2.1
log
@MFC:
upgrade to Dovecot 0.99.10.5

Dovecot 0.99.10.{4,5} fix some possible mail box corruption issues.
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.5 2004/05/27 16:38:30 brad Exp $
--- dovecot-example.conf.orig	2003-12-19 23:14:19.000000000 -0500
+++ dovecot-example.conf	2004-05-27 01:27:45.000000000 -0400
d79 1
a79 1
@@@@ -261,6 +260,8 @@@@ login = pop3
d88 1
a88 1
@@@@ -271,6 +272,12 @@@@ login = pop3
d101 1
a101 1
@@@@ -288,7 +295,7 @@@@ login = pop3
d110 1
a110 1
@@@@ -318,7 +325,7 @@@@ login = pop3
d119 1
a119 1
@@@@ -326,14 +333,14 @@@@ login = pop3
d136 1
a136 1
@@@@ -341,7 +348,7 @@@@ login = pop3
d145 1
a145 1
@@@@ -390,7 +397,7 @@@@ auth_userdb = passwd
d149 1
a149 1
-auth_passdb = pgsql /usr/local/etc/dovecot-pgsql.conf
d152 3
a154 1
 #auth_executable = /usr/libexec/dovecot/dovecot-auth
d156 2
@


1.3.4.1
log
@MFC:
upgrade to Dovecot 0.99.10.5

Dovecot 0.99.10.{4,5} fix some possible mail box corruption issues.
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.5 2004/05/27 16:38:30 brad Exp $
--- dovecot-example.conf.orig	2003-12-19 23:14:19.000000000 -0500
+++ dovecot-example.conf	2004-05-27 01:27:45.000000000 -0400
d79 1
a79 1
@@@@ -261,6 +260,8 @@@@ login = pop3
d88 1
a88 1
@@@@ -271,6 +272,12 @@@@ login = pop3
d101 1
a101 1
@@@@ -288,7 +295,7 @@@@ login = pop3
d110 1
a110 1
@@@@ -318,7 +325,7 @@@@ login = pop3
d119 1
a119 1
@@@@ -326,14 +333,14 @@@@ login = pop3
d136 1
a136 1
@@@@ -341,7 +348,7 @@@@ login = pop3
d145 1
a145 1
@@@@ -390,7 +397,7 @@@@ auth_userdb = passwd
d149 1
a149 1
-auth_passdb = pgsql /usr/local/etc/dovecot-pgsql.conf
d152 3
a154 1
 #auth_executable = /usr/libexec/dovecot/dovecot-auth
d156 2
@


1.2
log
@incorporate megadiff from the author which allows mmaping of index data
on openbsd, related to pr/3291.  bump PKGNAME
@
text
@d1 3
a3 3
$OpenBSD: patch-dovecot-example_conf,v 1.1.1.1 2003/07/14 23:44:28 jolan Exp $
--- dovecot-example.conf.orig	Thu Jun 26 11:11:06 2003
+++ dovecot-example.conf	Tue Jul 15 15:42:11 2003
d88 1
a88 1
@@@@ -267,6 +268,11 @@@@ login = pop3
d93 2
a94 1
+# indexes. This is currently required with OpenBSD 3.3 and older versions.
d96 1
a96 1
+#index_mmap_invalidate = no
d101 1
a101 1
@@@@ -284,7 +290,7 @@@@ login = pop3
d110 1
a110 1
@@@@ -314,7 +320,7 @@@@ login = pop3
d119 1
a119 1
@@@@ -322,14 +328,14 @@@@ login = pop3
d136 1
a136 1
@@@@ -337,7 +343,7 @@@@ login = pop3
d145 1
a145 1
@@@@ -386,10 +392,10 @@@@ auth_userdb = passwd
@


1.1
log
@Initial revision
@
text
@d1 1
a1 1
$OpenBSD$
d3 1
a3 1
+++ dovecot-example.conf	Mon Jul 14 18:27:22 2003
d79 22
a100 1
@@@@ -284,7 +283,7 @@@@ login = pop3
d109 1
a109 1
@@@@ -314,7 +313,7 @@@@ login = pop3
d118 1
a118 1
@@@@ -322,14 +321,14 @@@@ login = pop3
d135 1
a135 1
@@@@ -337,7 +336,7 @@@@ login = pop3
d144 1
a144 1
@@@@ -386,10 +385,10 @@@@ auth_userdb = passwd
@


1.1.1.1
log
@import of dovecot-0.99.10, an imap(s)/pop3(s) server.
@
text
@@
