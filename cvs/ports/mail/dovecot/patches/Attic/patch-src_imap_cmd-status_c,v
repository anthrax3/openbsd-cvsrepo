head	1.3;
access;
symbols
	OPENBSD_3_8:1.2.0.4
	OPENBSD_3_8_BASE:1.2
	OPENBSD_3_7:1.2.0.2
	OPENBSD_3_7_BASE:1.2
	OPENBSD_3_6:1.1.0.6
	OPENBSD_3_6_BASE:1.1
	OPENBSD_3_5:1.1.0.4
	OPENBSD_3_5_BASE:1.1
	OPENBSD_3_4:1.1.0.2
	OPENBSD_3_4_BASE:1.1;
locks; strict;
comment	@# @;


1.3
date	2005.09.04.18.22.30;	author brad;	state dead;
branches;
next	1.2;

1.2
date	2005.02.12.12.17.07;	author brad;	state Exp;
branches;
next	1.1;

1.1
date	2003.07.23.06.03.01;	author jolan;	state Exp;
branches;
next	;


desc
@@


1.3
log
@upgrade to Dovecot 1.0alpha1
@
text
@$OpenBSD: patch-src_imap_cmd-status_c,v 1.2 2005/02/12 12:17:07 brad Exp $
--- src/imap/cmd-status.c.orig	Thu Sep  2 11:00:10 2004
+++ src/imap/cmd-status.c	Fri Oct  1 02:39:59 2004
@@@@ -57,7 +57,10 @@@@ static int get_mailbox_status(struct cli
 	} else {
 		/* open the mailbox */
 		box = client->storage->open_mailbox(client->storage,
-						    mailbox, TRUE, TRUE);
+						    mailbox,
+						    mailbox_open_flags |
+						    MAILBOX_OPEN_FAST |
+						    MAILBOX_OPEN_READONLY);
 		if (box == NULL)
 			return FALSE;
 	}
@


1.2
log
@upgrade to Dovecot 0.99.14
@
text
@d1 1
a1 1
$OpenBSD: patch-src_imap_cmd-status_c,v 1.1 2003/07/23 06:03:01 jolan Exp $
@


1.1
log
@incorporate megadiff from the author which allows mmaping of index data
on openbsd, related to pr/3291.  bump PKGNAME
@
text
@d1 4
a4 4
$OpenBSD$
--- src/imap/cmd-status.c.orig	Tue Jun 24 18:12:56 2003
+++ src/imap/cmd-status.c	Tue Jul 15 15:17:12 2003
@@@@ -65,7 +65,10 @@@@ static int get_mailbox_status(struct cli
@

