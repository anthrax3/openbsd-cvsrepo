head	1.8;
access;
symbols
	OPENBSD_6_2:1.8.0.2
	OPENBSD_6_2_BASE:1.8
	OPENBSD_6_1:1.7.0.2
	OPENBSD_6_1_BASE:1.7
	OPENBSD_6_0:1.6.0.4
	OPENBSD_6_0_BASE:1.6
	OPENBSD_5_9:1.6.0.2
	OPENBSD_5_9_BASE:1.6
	OPENBSD_5_8:1.5.0.6
	OPENBSD_5_8_BASE:1.5
	OPENBSD_5_7:1.5.0.2
	OPENBSD_5_7_BASE:1.5
	OPENBSD_5_6:1.4.0.4
	OPENBSD_5_6_BASE:1.4
	OPENBSD_5_5:1.4.0.2
	OPENBSD_5_5_BASE:1.4
	OPENBSD_5_4:1.3.0.4
	OPENBSD_5_4_BASE:1.3
	OPENBSD_5_3:1.3.0.2
	OPENBSD_5_3_BASE:1.3
	OPENBSD_5_2:1.2.0.2
	OPENBSD_5_2_BASE:1.2
	OPENBSD_5_1_BASE:1.1
	OPENBSD_5_1:1.1.0.4
	OPENBSD_5_0:1.1.0.2
	OPENBSD_5_0_BASE:1.1;
locks; strict;
comment	@# @;


1.8
date	2017.08.28.21.39.14;	author sthen;	state Exp;
branches;
next	1.7;
commitid	6DUPLBXwJ4boSsl4;

1.7
date	2017.02.28.00.33.29;	author sthen;	state Exp;
branches;
next	1.6;
commitid	u8qHdEPmA2Ag0xlX;

1.6
date	2015.10.05.10.20.29;	author sthen;	state Exp;
branches;
next	1.5;
commitid	yPqL72rsxTVqJopq;

1.5
date	2014.10.16.18.01.57;	author brad;	state Exp;
branches;
next	1.4;
commitid	wjSnXn5F22Oxtkah;

1.4
date	2013.08.13.00.29.58;	author brad;	state Exp;
branches;
next	1.3;

1.3
date	2013.01.27.09.29.37;	author ajacoutot;	state Exp;
branches;
next	1.2;

1.2
date	2012.06.08.22.04.10;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2011.05.23.22.54.38;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.8
log
@update to Dovecot 2.2.32, from Brad (and same diff here). (Amongst other
things, fixes a fairly annoying bug with replication not being able to
recover from index problems in some versions).
@
text
@$OpenBSD: patch-doc_example-config_conf_d_10-mail_conf,v 1.7 2017/02/28 00:33:29 sthen Exp $
Index: doc/example-config/conf.d/10-mail.conf
--- doc/example-config/conf.d/10-mail.conf.orig
+++ doc/example-config/conf.d/10-mail.conf
@@@@ -147,8 +147,9 @@@@ namespace inbox {
 ##
 
 # Don't use mmap() at all. This is required if you store indexes to shared
-# filesystems (NFS or clustered filesystem).
-#mmap_disable = no
+# filesystems (NFS or clustered filesystem) or for some operating systems
+# which use a separate cache for mmap, such as OpenBSD.
+mmap_disable = yes
 
 # Rely on O_EXCL to work when creating dotlock files. NFS supports O_EXCL
 # since version 3, so this should be safe to use nowadays by default.
@@@@ -172,7 +173,7 @@@@ namespace inbox {
 # to make sure that users can't log in as daemons or other system users.
 # Note that denying root logins is hardcoded to dovecot binary and can't
 # be done even if first_valid_uid is set to 0.
-#first_valid_uid = 500
+first_valid_uid = 1000
 #last_valid_uid = 0
 
 # Valid GID range for users, defaults to non-root/wheel. Users having
@@@@ -205,10 +206,10 @@@@ namespace inbox {
 
 # UNIX socket path to master authentication server to find users.
 # This is used by imap (for shared users) and lda.
-#auth_socket_path = /var/run/dovecot/auth-userdb
+#auth_socket_path = /var/dovecot/auth-userdb
 
 # Directory where to look up mail plugins.
-#mail_plugin_dir = /usr/lib/dovecot
+mail_plugin_dir = ${PREFIX}/lib/dovecot
 
 # Space separated list of plugins to load for all services. Plugins specific to
 # IMAP, LDA, etc. are added to this list in their own .conf files.
@@@@ -318,7 +319,7 @@@@ protocol !indexer-worker {
 # locking methods as well. Some operating systems don't allow using some of
 # them simultaneously.
 #mbox_read_locks = fcntl
-#mbox_write_locks = dotlock fcntl
+mbox_write_locks = fcntl
 
 # Maximum time to wait for lock (all of them) before aborting.
 #mbox_lock_timeout = 5 mins
@


1.7
log
@update to Dovecot 2.2.28, ok Brad
@
text
@d1 4
a4 3
$OpenBSD: patch-doc_example-config_conf_d_10-mail_conf,v 1.6 2015/10/05 10:20:29 sthen Exp $
--- doc/example-config/conf.d/10-mail.conf.orig	Mon Feb 20 09:34:52 2017
+++ doc/example-config/conf.d/10-mail.conf	Mon Feb 20 11:33:09 2017
d39 1
a39 1
@@@@ -309,7 +310,7 @@@@ protocol !indexer-worker {
@


1.6
log
@update to Dovecot 2.2.19, from Brad
@
text
@d1 3
a3 3
$OpenBSD: patch-doc_example-config_conf_d_10-mail_conf,v 1.5 2014/10/16 18:01:57 brad Exp $
--- doc/example-config/conf.d/10-mail.conf.orig	Tue Sep  8 06:30:21 2015
+++ doc/example-config/conf.d/10-mail.conf	Mon Sep 28 14:52:53 2015
d38 1
a38 1
@@@@ -296,7 +297,7 @@@@ namespace inbox {
@


1.5
log
@Update to Dovecot 2.2.14.

ok sthen@@
@
text
@d1 4
a4 4
$OpenBSD: patch-doc_example-config_conf_d_10-mail_conf,v 1.4 2013/08/13 00:29:58 brad Exp $
--- doc/example-config/conf.d/10-mail.conf.orig	Mon Jun  2 07:50:10 2014
+++ doc/example-config/conf.d/10-mail.conf	Fri Oct  3 22:14:30 2014
@@@@ -133,8 +133,9 @@@@ namespace inbox {
d16 1
a16 1
@@@@ -158,7 +159,7 @@@@ namespace inbox {
d25 1
a25 1
@@@@ -191,10 +192,10 @@@@ namespace inbox {
d38 1
a38 1
@@@@ -282,7 +283,7 @@@@ namespace inbox {
@


1.4
log
@Update to Dovecot 2.2.5.

ok sthen@@
@
text
@d1 3
a3 3
$OpenBSD: patch-doc_example-config_conf_d_10-mail_conf,v 1.3 2013/01/27 09:29:37 ajacoutot Exp $
--- doc/example-config/conf.d/10-mail.conf.orig	Sun Apr  7 11:33:06 2013
+++ doc/example-config/conf.d/10-mail.conf	Tue Apr 23 02:03:41 2013
d16 1
a16 1
@@@@ -165,7 +166,7 @@@@ namespace inbox {
d25 1
a25 1
@@@@ -198,10 +199,10 @@@@ namespace inbox {
d38 1
a38 1
@@@@ -285,7 +286,7 @@@@ namespace inbox {
@


1.3
log
@Start first_valid_uid at 1000 to match the low uid of regular Unix users
on OpenBSD.

ok sthen@@ brad@@ (maintainer)
@
text
@d1 4
a4 4
$OpenBSD: patch-doc_example-config_conf_d_10-mail_conf,v 1.2 2012/06/08 22:04:10 sthen Exp $
--- doc/example-config/conf.d/10-mail.conf.orig	Fri May  4 23:14:02 2012
+++ doc/example-config/conf.d/10-mail.conf	Sun Jan 27 09:54:31 2013
@@@@ -129,8 +129,9 @@@@ namespace inbox {
d16 1
a16 1
@@@@ -161,7 +162,7 @@@@ namespace inbox {
d25 1
a25 1
@@@@ -194,10 +195,10 @@@@ namespace inbox {
d38 1
a38 1
@@@@ -277,7 +278,7 @@@@ namespace inbox {
@


1.2
log
@Update to Dovecot 2.1.7, from Brad.

See the upgrade notes at http://wiki2.dovecot.org/Upgrading/2.1
- you will probably need to merge updates to 10-mail.conf.
@
text
@d1 3
a3 3
$OpenBSD: patch-doc_example-config_conf_d_10-mail_conf,v 1.1 2011/05/23 22:54:38 sthen Exp $
--- doc/example-config/conf.d/10-mail.conf.orig	Fri May  4 17:14:02 2012
+++ doc/example-config/conf.d/10-mail.conf	Sat May 12 22:47:31 2012
d16 9
@


1.1
log
@Update dovecot to 2.0.13, joint work between pea@@, Brad and myself, ok pea@@

This is a major update and configuration changes are required -
see http://wiki2.dovecot.org/Upgrading/2.0 for more
@
text
@d1 4
a4 4
$OpenBSD$
--- doc/example-config/conf.d/10-mail.conf.orig	Thu Dec 30 10:42:54 2010
+++ doc/example-config/conf.d/10-mail.conf	Tue Mar 22 15:11:14 2011
@@@@ -132,8 +132,9 @@@@
d16 1
a16 1
@@@@ -197,10 +198,10 @@@@
d29 1
a29 1
@@@@ -266,7 +267,7 @@@@
@

