head	1.2;
access;
symbols
	OPENBSD_6_0:1.2.0.12
	OPENBSD_6_0_BASE:1.2
	OPENBSD_5_9:1.2.0.8
	OPENBSD_5_9_BASE:1.2
	OPENBSD_5_8:1.2.0.10
	OPENBSD_5_8_BASE:1.2
	OPENBSD_5_7:1.2.0.6
	OPENBSD_5_7_BASE:1.2
	OPENBSD_5_6:1.2.0.4
	OPENBSD_5_6_BASE:1.2
	OPENBSD_5_5:1.2.0.2
	OPENBSD_5_5_BASE:1.2
	OPENBSD_5_4:1.1.0.6
	OPENBSD_5_4_BASE:1.1
	OPENBSD_5_3:1.1.0.4
	OPENBSD_5_3_BASE:1.1
	OPENBSD_5_2:1.1.0.2
	OPENBSD_5_2_BASE:1.1;
locks; strict;
comment	@# @;


1.2
date	2013.10.20.21.01.20;	author sthen;	state Exp;
branches;
next	1.1;

1.1
date	2012.07.01.10.26.35;	author sthen;	state Exp;
branches;
next	;


desc
@@


1.2
log
@Don't suggest that people "might" need to add the login.conf section for
Dovecot, it is definitely required as the default number of FDs is not enough.
ok matthieu@@ brad@@
@
text
@$OpenBSD: README-server,v 1.1 2012/07/01 10:26:35 sthen Exp $

+-----------------------------------------------------------------------
| Running ${FULLPKGNAME} on OpenBSD
+-----------------------------------------------------------------------

By default, the _dovecot user, and so the Dovecot processes run in
the login(1) class of "daemon". The default limits on file descriptors
are insufficient to run Dovecot; instead you should put the _dovecot
user and processes in their own login(1) class with tuned resources.

For example, add this to the login.conf(5) file:

       dovecot:\
                :openfiles-cur=512:\
                :openfiles-max=2048:\
                :tc=daemon:

Rebuild the login.conf.db file if necessary:

	# [ -f /etc/login.conf.db ] && cap_mkdb /etc/login.conf

For larger servers these numbers and memory limits (e.g. datasize
and stacksize) may also need to be increased. In particular, indexing
emails for full-text search is likely to need an increased datasize.
Please report any changes and experiences to the package maintainers
so that we can update this file for future versions.
@


1.1
log
@Suggest that users may need to increase login.conf limits for Dovecot.
From Brad, adjusted slightly to specifically mention full-text search
indexing which is likely to need a larger-than-default datasize.
@
text
@d1 1
a1 1
$OpenBSD$
d8 3
a10 3
the login(1) class of "daemon". On a busy server, it may be advisable
to put the _dovecot user and processes in their own login(1) class
with tuned resources, such as more open file descriptors etc.
@

