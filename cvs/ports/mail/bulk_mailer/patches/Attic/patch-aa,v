head	1.3;
access;
symbols
	OPENBSD_3_5:1.2.0.16
	OPENBSD_3_5_BASE:1.2
	OPENBSD_3_4:1.2.0.14
	OPENBSD_3_4_BASE:1.2
	OPENBSD_3_3:1.2.0.12
	OPENBSD_3_3_BASE:1.2
	OPENBSD_3_2:1.2.0.10
	OPENBSD_3_2_BASE:1.2
	OPENBSD_3_1:1.2.0.8
	OPENBSD_3_1_BASE:1.2
	OPENBSD_3_0:1.2.0.6
	OPENBSD_3_0_BASE:1.2
	OPENBSD_2_9_TRACKING_SWITCH:1.2
	OPENBSD_2_9:1.2.0.4
	OPENBSD_2_9_BASE:1.2
	OPENBSD_2_8:1.2.0.2
	OPENBSD_2_8_BASE:1.2
	OPENBSD_2_7:1.1.1.1.0.8
	OPENBSD_2_7_BASE:1.1.1.1
	OPENBSD_2_6:1.1.1.1.0.6
	OPENBSD_2_6_BASE:1.1.1.1
	OPENBSD_2_5:1.1.1.1.0.4
	OPENBSD_2_5_BASE:1.1.1.1
	OPENBSD_2_4:1.1.1.1.0.2
	OPENBSD_2_4_BASE:1.1.1.1
	bulk_mailer:1.1.1.1
	angelos:1.1.1;
locks; strict;
comment	@# @;


1.3
date	2004.06.25.04.46.34;	author xsa;	state dead;
branches;
next	1.2;

1.2
date	2000.09.30.14.20.36;	author kevlo;	state Exp;
branches;
next	1.1;

1.1
date	98.05.17.04.20.30;	author angelos;	state Exp;
branches
	1.1.1.1;
next	;

1.1.1.1
date	98.05.17.04.20.30;	author angelos;	state Exp;
branches;
next	;


desc
@@


1.3
log
@
- respect CC and CFLAGS
- use BSD_INSTALL_* in patch-Makefile_in
- sync patches while there
okay kevlo@@.
@
text
@--- Makefile.in.orig	Wed May 24 19:53:11 2000
+++ Makefile.in	Fri Sep 29 15:56:36 2000
@@@@ -1,18 +1,25 @@@@
-DEFINES = @@DEFS@@
+DEFINES = @@DEFS@@ -DDEFAULT_DOMAIN=1 -DPIPECOMMAND='"/usr/sbin/sendmail -bs %s"'
 LIBS = @@LIBS@@
 
-CFLAGS = $(DEFINES)
+CFLAGS = -O2 -Wall $(DEFINES)
 
 FILES = bulk_mailer.README INSTALL bulk_mailer.c patchlevel.h Makefile.in
 
+all: bulk_mailer
+
 bulk_mailer: bulk_mailer.o
 	$(CC) $(CFLAGS) -o bulk_mailer bulk_mailer.o $(LIBS)
+	strip bulk_mailer
 
 bulk_mailer.o: bulk_mailer.c patchlevel.h
 	$(CC) -c $(CFLAGS) bulk_mailer.c
 
 install: bulk_mailer
-	cp bulk_mailer /usr/local/bin
+	mkdir ${PREFIX}/share/doc/bulk_mailer
+	install -c -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} bulk_mailer ${PREFIX}/bin
+	install -c -o ${SHAREOWN} -g ${SHAREGRP} -m ${SHAREMODE} bulk_mailer.README ${PREFIX}/share/doc/bulk_mailer
+	install -c -o ${SHAREOWN} -g ${SHAREGRP} -m ${SHAREMODE} bulk_mailer.ps ${PREFIX}/share/doc/bulk_mailer
+	install -c -o ${SHAREOWN} -g ${SHAREGRP} -m ${SHAREMODE} bulk_mailer.1 ${PREFIX}/man/man1
 
 clean:
 	rm -f bulk_mailer *.o
@


1.2
log
@- Upgrade to version 1.13
- Add HOMEPAGE
- Take over maintainership, ok angelos@@
@
text
@@


1.1
log
@Initial revision
@
text
@d1 31
a31 57
*** Makefile.orig	Sun Jan 28 17:53:14 1996
--- Makefile	Fri Mar 22 19:39:36 1996
***************
*** 5,28 ****
  # HASSTRERROR - whether system has strerror() call
  # LIBS - local libraries to link in (e.g. -lresolv)
  
!      HASSTRDUP = # -DHAS_STRDUP
!    HASSTRERROR = # -DHAS_STRERROR
            LIBS = # -lresolv
  
! DEFINES = $(HASSTRDUP) $(HASSTRERROR) $(DEFAULT_DOMAIN)
  
! CFLAGS = $(DEFINES)
  
  FILES = bulk_mailer.README INSTALL bulk_mailer.c patchlevel.h Makefile
  
  bulk_mailer: bulk_mailer.o
  	$(CC) $(CFLAGS) -o bulk_mailer bulk_mailer.o $(LIBS)
  
  bulk_mailer.o: bulk_mailer.c patchlevel.h
  	$(CC) -c $(CFLAGS) bulk_mailer.c
  
  install: bulk_mailer
! 	cp bulk_mailer /usr/local/bin
  
  clean:
  	rm -f bulk_mailer bulk_mailer.o
--- 5,32 ----
  # HASSTRERROR - whether system has strerror() call
  # LIBS - local libraries to link in (e.g. -lresolv)
  
!      HASSTRDUP = -DHAS_STRDUP
!    HASSTRERROR = -DHAS_STRERROR
            LIBS = # -lresolv
  
! DEFINES = $(HASSTRDUP) $(HASSTRERROR) $(DEFAULT_DOMAIN) -DPIPECOMMAND='"/usr/sbin/sendmail -bs %s"'
  
! CFLAGS = -O2 -Wall $(DEFINES)
  
  FILES = bulk_mailer.README INSTALL bulk_mailer.c patchlevel.h Makefile
  
+ all:	bulk_mailer
+ 
  bulk_mailer: bulk_mailer.o
  	$(CC) $(CFLAGS) -o bulk_mailer bulk_mailer.o $(LIBS)
+ 	strip bulk_mailer
  
  bulk_mailer.o: bulk_mailer.c patchlevel.h
  	$(CC) -c $(CFLAGS) bulk_mailer.c
  
  install: bulk_mailer
! 	install -c -o ${BINOWN} -g ${BINGRP} -m ${BINMODE} bulk_mailer ${PREFIX}/bin/bulk_mailer
! 	install -c -o ${SHAREOWN} -g ${SHAREGRP} -m ${SHAREMODE} bulk_mailer.README ${PREFIX}/share/doc/bulk_mailer.README
  
  clean:
  	rm -f bulk_mailer bulk_mailer.o
@


1.1.1.1
log
@bulk_mailer port
@
text
@@
